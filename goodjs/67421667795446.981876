!function(n){var a={};function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=119)}([function(e,t,n){"use strict";var a=n(10);t.a=function(e){window.console&&window.console.log&&(window.console&&window.console.log&&/martech_debug=(1|true)/i.test(location.search)||a.a.enabled()&&!0===a.a.get("status.debug")||Boolean(window.martech&&window.martech.info&&!0===window.martech.info.debug))&&console.log("%c MARTECH (".concat(window.martech.info.environment.toUpperCase(),") :: ").concat(e," "),"background:#093547;color:".concat("prod"===window.martech.info.environment?"white":"yellow",";"))}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return d});var r=n(0),a=n(6);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=function t(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=1<arguments.length?arguments[1]:void 0,i=2<arguments.length?arguments[2]:void 0;if(0!==Object.keys(n).length&&a)try{if(void 0===window.s)throw new Error("MARTECH :: Waiting for s before firing tracking");for(var e in n)"eVar75"===e&&i.campaignId&&i.campaignName?s[e]="".concat(i.campaignId,"_").concat(i.campaignName,"_").concat(n[e]):s[e]=n[e],Object(r.a)("".concat(i.campaignName," --\x3e analyticsCall ").concat(e," = ").concat(s[e]));Array.isArray(a)&&(a=a.join(",")),s.events=a,s.linkTrackEvents=a,s.linkTrackVars="events,"+_satellite.getVar("TMG linkTrackVars"),s.tl(!0,"o","Target Custom")}catch(e){setTimeout(function(){t(n,a,i)},200)}},c=function t(n,a){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(a.campaignId&&a.campaignName){var e=i?n:"".concat(a.campaignId,"_").concat(a.campaignName,"_").concat(n);try{if(void 0===window.s)throw new Error("MARTECH :: Waiting for s before firing tracking");s.eVar75=e,s.events="event52",s.linkTrackEvents="event52",s.linkTrackVars="events,eVar75"+_satellite.getVar("TMG linkTrackVars"),s.tl(!0,"o","Target Custom"),Object(r.a)("".concat(a.campaignName," --\x3e sendEventHit eVar75 = ").concat(e))}catch(e){setTimeout(function(){t(n,a,i)},200)}}},l=function(e){var r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];0<!e.length||e.forEach(function(i){Object(a.a)(i.link).then(function(){var a=document.querySelectorAll(i.link);a.forEach(function(t,e){var n=t.href.match(RegExp("([&?]onwardjourney=[^&?]*)","g"));null!==n&&n.forEach(function(e){t.href=t.href.replace(e,"")});n="onwardjourney=".concat(i.value);1<a.length&&r&&(n+="_index".concat(e+1)),t.href+=(t.href.includes("?")?"&":"?")+n})})})},u=function(e,n){0<!e.length||e.forEach(function(t){Object(a.a)(t.element).then(function(){document.querySelectorAll(t.element).forEach(function(e){e.addEventListener("click",function(e){c(t.event,n),"a"===e.target.tagName.toLowerCase()&&s&&"object"===("undefined"==typeof s?"undefined":i(s))&&s.pageURL&&(e.preventDefault(),setTimeout(function(){window.location.href=e.target.href},250))})})})})},d=function(e){e&&adobe.target.trackEvent({mbox:e,params:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}})}},function(e,t,n){"use strict";window.martech=window.martech||{},t.a={create:function(e){try{var t=martech,n=e.split(".");return(n="martech"===n[0]?n.slice(1):n).forEach(function(e){void 0===t[e]&&(t[e]={}),t=t[e]}),t}catch(t){console.warn("MARTECH :: Couldn't create namespace:",e)}}}},function(e,t,n){"use strict";var a=n(0);t.a=function(e){e&&(window.martech.info=window.martech.info||{},window.martech.info.runningActivities=window.martech.info.runningActivities||[],window.martech.info.runningActivities.push(parseInt(e.campaignId,10)),window.martech.info.activitiesDetails=window.martech.info.activitiesDetails||[],window.martech.info.activitiesDetails.push({activityID:parseInt(e.campaignId,10),activityName:"".concat(e.campaignName),experienceNumber:"".concat(e.experienceNumber),experienceName:"".concat(e.experienceName)}),Object(a.a)("Init Activity: ".concat(e.campaignName," | Activity ID: ").concat(e.campaignId," | Experience Number: [").concat(e.experienceNumber,"] | Experience Name: ").concat(e.experienceName)))}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){var t,n,a;e&&(t=e.replace("Activities/",""),n="martech-".concat(t),a=document.getElementsByTagName("head")[0],(e=document.createElement("link")).id=n,e.rel="stylesheet",e.type="text/css",e.href="".concat("https://www.telegraph.co.uk","/martech/css/").concat(t,"/style.css"),a.appendChild(e))}},function(e,t,n){"use strict";n.d(t,"o",function(){return a}),n.d(t,"h",function(){return i}),n.d(t,"q",function(){return r}),n.d(t,"l",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"p",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"k",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return g}),n.d(t,"g",function(){return m}),n.d(t,"d",function(){return y}),n.d(t,"m",function(){return b}),n.d(t,"n",function(){return v});var a=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M11.5206 0L6.34635 5.21292L1.17308 0L0.40625 0.772562L5.57952 5.98549L0.40625 11.1974L1.17308 11.97L6.34635 6.75755L11.5206 11.97L12.2874 11.1974L7.11318 5.98549L12.2874 0.772562L11.5206 0Z" />\n\t\t</svg>')},i=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M7 4.39375L13.4313 7.9375L14 7.36875L7 0.368751L6.78227e-09 7.36875L0.56875 7.9375L7 4.39375Z"/>\n\t\t</svg>')},r=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' width="155" height="26" viewBox="0 0 155 26" fill="none" \n\t\t\txmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M24.8596 22.1289C25.9013 21.4464 26.9431 20.6561 26.9431 19.0395V9.08868L25.3625 7.40027L24.7518 8.01097L26.1169 9.48384V19.0036C26.1169 20.3328 25.6139 21.3027 24.8236 21.9853L24.8596 22.1289ZM18.7525 1.04179L18.7166 1.14956C19.1836 1.32918 19.7584 1.79618 19.7584 2.7302V17.387L19.1836 17.9618L21.4109 19.8298L22.0575 19.291L20.2613 17.8181L20.5846 17.5307V2.87389C20.5846 1.68841 19.5429 1.11363 18.7525 1.04179ZM20.0817 23.1348C22.8838 22.9193 25.6858 21.9853 25.6858 19.0036V9.62753L24.4285 8.33428L23.0274 9.69938V16.7404L24.177 17.7822L21.5187 20.1531H21.2672L18.6448 17.9259L19.3632 17.2074V2.87389C19.3632 1.79618 18.4292 1.22141 17.8904 1.07771V0.826249C18.1418 0.682554 18.537 0.610705 19.0399 0.610705C19.938 0.610705 20.7643 1.14956 21.0157 1.76026H21.0876C21.6264 0.934016 22.4886 0.610705 23.3148 0.610705C23.5663 0.610705 23.8537 0.646629 24.1411 0.718477V1.00587C23.6741 1.14956 22.9915 1.72434 22.9915 3.12536V9.08868L26.4761 5.81963H26.7276C26.979 6.07109 28.4878 7.43619 28.7752 7.61581C28.9189 7.68766 29.0985 7.7595 29.2782 7.7595C29.5655 7.7595 29.7811 7.65173 29.9966 7.54396V7.93912C29.7092 8.19059 29.3859 8.65759 29.3859 9.23237V17.3511C29.3859 20.9435 25.4343 23.1348 20.1176 23.4941V23.1348H20.0817Z" fill="#222222"/>\n\t\t\t<path d="M36.0677 7.47212L35.3493 7.97505C36.1755 8.90906 37.1814 10.1305 38.2232 11.28L38.9416 10.7771C37.8998 9.62753 36.894 8.40613 36.0677 7.47212ZM35.2415 13.2199L37.828 11.4596C36.9299 10.4179 35.9959 9.34014 35.2415 8.47797V13.2199ZM36.9299 19.2191C35.3493 18.5007 33.9482 17.9618 32.7268 17.2793C32.7987 16.8123 32.8346 16.2734 32.8346 14.7646V8.83721L32.0084 9.2683V14.7646C32.0084 16.2734 31.9724 17.2433 31.8288 17.6744C33.0502 18.357 34.7745 19.0754 36.3551 19.7939L36.9299 19.2191ZM31.5773 9.05275C33.122 8.29836 35.4211 6.93326 36.9658 5.81963H37.2532C38.2591 6.86141 39.7319 8.54982 41.0252 9.69938V9.98677L35.2774 13.7587V16.0938C35.8881 16.4889 37.5406 17.3152 38.5465 17.6744L40.8815 15.4472L41.1689 15.7345L36.4988 20.2609H36.1755C34.5949 19.5784 32.5831 18.7162 31.2899 17.9977C31.4336 17.4948 31.5773 16.3093 31.5773 14.8365V9.05275Z" fill="#222222"/>\n\t\t\t<path d="M149.694 22.093C150.736 21.4105 151.778 20.6201 151.778 19.0036V9.05274L150.197 7.36433L149.586 7.97503L150.951 9.4479V18.9677C150.951 20.2968 150.449 21.2668 149.658 21.9493L149.694 22.093ZM143.623 1.00585L143.587 1.11362C144.054 1.29324 144.629 1.76024 144.629 2.69426V17.3511L144.054 17.9259L146.281 19.7939L146.928 19.255L145.132 17.7822L145.455 17.4948V2.83796C145.455 1.65248 144.377 1.11362 143.623 1.00585ZM144.916 23.0989C147.718 22.8833 150.52 21.9493 150.52 18.9677V9.5916L149.263 8.29834L147.862 9.66345V16.7045L149.012 17.7463L146.353 20.1172H146.102L143.479 17.89L144.198 17.1715V2.83796C144.198 1.76025 143.264 1.18547 142.725 1.04177V0.79031C142.976 0.646615 143.372 0.574766 143.874 0.574766C144.773 0.574766 145.599 1.11362 145.85 1.72433H145.922C146.461 0.898083 147.323 0.574766 148.149 0.574766C148.401 0.574766 148.688 0.61069 148.976 0.682538V0.969928C148.509 1.11362 147.826 1.6884 147.826 3.08942V9.05274L151.275 5.74776H151.526C151.778 5.99923 153.286 7.36433 153.574 7.54394C153.718 7.61579 153.897 7.68765 154.077 7.68765C154.364 7.68765 154.58 7.57987 154.795 7.4721V7.97503C154.508 8.2265 154.185 8.69351 154.185 9.26828V17.3152C154.185 20.9075 150.233 23.0989 144.916 23.4581V23.0989Z" fill="#222222"/>\n\t\t\t<path d="M70.2311 7.4721L69.5126 7.97503C70.3389 8.90905 71.3447 10.1305 72.3865 11.28L73.105 10.7771C72.0991 9.62751 71.0573 8.37019 70.2311 7.4721ZM69.4767 13.184L72.0632 11.4237C71.1651 10.3819 70.2311 9.3042 69.4767 8.44203V13.184ZM71.1292 19.1832C69.5485 18.4647 68.1475 17.9259 66.9261 17.2433C66.998 16.7763 67.0339 16.2375 67.0339 14.7287V8.80127L66.2076 9.23236V14.7287C66.2076 16.2375 66.1717 17.2074 66.028 17.6385C67.2494 18.321 68.9738 19.0395 70.5544 19.758L71.1292 19.1832ZM65.7766 9.01682C67.3213 8.26242 69.6563 6.89732 71.1651 5.78369H71.4525C72.4584 6.82547 73.9312 8.51389 75.2245 9.66345V9.95083L69.4767 13.6869V16.0219C70.0874 16.4171 71.7399 17.2433 72.7457 17.6026L75.0808 15.3753L75.3682 15.6627L70.6981 20.1891H70.4107C68.8301 19.5065 66.8183 18.6444 65.5251 17.9259C65.6688 17.4229 65.8125 16.2375 65.8125 14.7646V9.01682H65.7766Z" fill="#222222"/>\n\t\t\t<path d="M80.0742 19.1473C79.0324 18.8599 77.9906 18.1773 77.9906 16.7045V3.59236L76.841 2.40689L76.2303 3.01759L77.1643 3.98752V17.0278C77.1643 18.5007 78.3498 19.4706 79.4634 19.7221L80.0742 19.1473ZM80.4334 2.51465V16.4171C80.4334 17.0278 81.0082 17.5667 81.547 17.6744L82.3733 16.8482L82.6247 17.1356L79.6431 20.1531H79.4634C78.3139 19.9017 76.7333 18.8958 76.7333 17.1356V4.20307L75.907 3.37683L75.0448 4.23899L74.7934 3.9516L78.0984 0.610705H78.3139L80.4334 2.51465Z" fill="#222222"/>\n\t\t\t<path d="M88.4084 7.43618L87.69 7.93911C88.5162 8.87312 89.5221 10.0945 90.5639 11.2441L91.2823 10.7412C90.2765 9.5916 89.2347 8.37019 88.4084 7.43618ZM87.5822 13.184L90.1687 11.4237C89.2706 10.3819 88.3366 9.3042 87.5822 8.44203V13.184ZM89.2706 19.1832C87.69 18.4647 86.2889 17.9259 85.0675 17.2433C85.1394 16.7763 85.1753 16.2375 85.1753 14.7287V8.80127L84.3491 9.23236V14.7287C84.3491 16.2375 84.3131 17.2074 84.1694 17.6385C85.3909 18.321 87.1152 19.0395 88.6958 19.758L89.2706 19.1832ZM83.918 9.01682C85.4627 8.26242 87.7977 6.89732 89.3065 5.78369H89.5939C90.5998 6.82547 92.0726 8.51389 93.3659 9.66345V9.95083L87.6181 13.6869V16.0219C88.2288 16.4171 89.8813 17.2433 90.8872 17.6026L93.2222 15.3753L93.5096 15.6627L88.8395 20.1891H88.5521C86.9715 19.5065 84.9598 18.6444 83.6665 17.9259C83.8461 17.4229 83.9539 16.2375 83.9539 14.7646V9.01682H83.918Z" fill="#222222"/>\n\t\t\t<path d="M113.088 8.3702C113.555 8.80129 114.202 9.41198 114.74 9.87899L115.279 9.26829C114.776 8.80129 113.986 8.11873 113.591 7.7595L113.088 8.3702ZM111.687 19.1473C110.609 18.8599 109.567 18.1773 109.567 16.7045V8.76537L108.418 7.61581L107.771 8.22651L108.705 9.19644V17.0637C108.705 18.5366 109.891 19.5065 111.004 19.758L111.687 19.1473ZM112.01 9.5916V16.4171C112.01 17.0278 112.549 17.5666 113.124 17.6744L113.95 16.8482L114.202 17.1356L111.22 20.1531H111.04C109.927 19.9017 108.346 18.8958 108.346 17.1356V9.34013L107.52 8.5139L106.658 9.37606L106.37 9.08868L109.675 5.74777H109.927L112.046 7.79542V8.94498L114.705 5.74777H114.956C115.495 6.28663 116.321 7.11288 117.075 7.65173V7.68766L114.848 10.346H114.776C114.166 9.80715 113.304 9.05275 112.872 8.58575L112.01 9.5916Z" fill="#222222"/>\n\t\t\t<path d="M123.506 16.92V12.681C122.68 12.4655 121.817 12.1062 120.991 11.7111V16.9559L122.464 17.89L123.506 16.92ZM126.847 19.1832C125.841 18.788 124.763 18.0696 124.763 16.6326V9.34013L120.776 7.32841C120.668 7.40026 120.201 7.72357 120.057 7.83134L123.937 9.84307V16.9559C123.937 18.321 125.194 19.3987 126.236 19.758L126.847 19.1832ZM123.506 12.2859V10.0945L119.734 8.0828C119.446 8.29834 118.441 8.90905 118.117 9.08867C118.979 10.2741 121.35 11.747 123.506 12.2859ZM121.243 19.1114L118.584 17.3152V13.3995L117.758 14.0102V17.8181L120.632 19.7221L121.243 19.1114ZM120.524 20.1531L117.327 18.0336V13.8306C118.153 13.2558 119.806 12.1062 120.632 11.5315C119.375 10.8489 118.297 10.0227 117.65 9.19643V8.90905C119.554 7.83134 120.919 6.82547 122.069 5.78369H122.32C122.32 5.78369 126.272 7.65172 126.452 7.72356C126.667 7.83133 126.847 7.90318 127.062 7.90318C127.35 7.90318 127.565 7.83134 127.853 7.68765V8.11872C127.565 8.33427 127.242 8.72942 127.242 9.34013V16.3452C127.242 17.0637 127.888 17.5666 128.391 17.6744L129.218 16.8482L129.469 17.1356L126.487 20.1531H126.308C125.158 19.8298 123.865 18.7162 123.65 17.387L120.812 20.1531H120.524Z" fill="#222222"/>\n\t\t\t<path d="M101.054 16.92V9.62753L98.3952 8.47797V16.7763L100.084 17.89L101.054 16.92ZM102.311 8.80128L98.3952 7.14881V8.01097L101.485 9.34014V17.3511C101.485 19.0754 102.239 20.9435 103.389 22.3804L103.999 21.7697C102.993 20.4405 102.311 18.9677 102.311 17.2074V8.80128ZM98.1078 19.7221L98.7544 19.1114L95.9524 17.3152V8.76537L95.1261 9.34014V17.7463L98.1078 19.7221ZM96.9942 23.1348C95.9524 23.1348 95.0543 23.6018 94.5154 24.3203V24.464C95.1261 24.1047 95.8805 23.8892 96.9942 23.8892C98.3593 23.8892 100.12 24.2844 101.125 24.8232L101.664 24.1766C100.515 23.6018 98.7904 23.1348 96.9942 23.1348ZM94.731 17.9259V9.05275L99.4011 5.81963H99.6884C100.622 6.21479 103.604 7.50804 103.999 7.65174C104.143 7.72358 104.323 7.7595 104.502 7.7595C104.79 7.7595 105.113 7.65174 105.4 7.50804V8.01097C105.113 8.26244 104.754 8.80129 104.754 9.23237V16.7404C104.754 18.5007 105.149 19.5425 105.831 20.225V20.5124C104.79 21.5542 102.419 24.0329 101.341 25.3261H101.161C100.155 24.7514 98.4311 24.2844 97.0301 24.2844C95.9883 24.2844 94.8028 24.5718 93.9407 25.2543L93.7251 25.0747C94.5514 23.1707 96.2757 21.3027 98.467 21.3027C99.8321 21.3027 101.628 21.8775 103.173 22.7037C102.131 21.5182 101.161 19.3269 101.161 17.4948L98.3952 20.1531H98.1797L94.731 17.9259Z" fill="#222222"/>\n\t\t\t<path d="M136.618 8.11872L138.055 9.51974V17.2074L138.881 16.7404V9.05274L137.265 7.43618L136.618 8.11872ZM137.229 19.9735C137.372 19.758 137.66 19.4706 137.839 19.291L134.965 18.6803V19.4706L137.229 19.9735ZM137.624 17.2433V9.66345L136.366 8.37019L134.965 9.69936V16.7404C135.576 16.8482 137.3 17.1715 137.624 17.2433ZM131.696 22.4522L131.122 22.9911L133.241 24.8232L133.888 24.2484L132.199 22.8474L132.487 22.56V8.8372L131.301 7.65172L130.691 8.26242L131.625 9.23236V22.4522H131.696ZM134.965 9.08867L138.414 5.78369H138.666C138.917 6.03516 140.498 7.4721 140.749 7.6158C140.893 7.68764 141.072 7.72356 141.216 7.72356C141.504 7.72356 141.719 7.6158 141.935 7.50803V8.01096C141.647 8.2265 141.324 8.72943 141.324 9.30421V17.7822C139.851 18.1414 138.666 18.9317 137.372 20.4405H137.265L134.965 19.9376V21.8056L136.151 22.8833L133.349 25.2184H133.205L130.547 22.9911L131.265 22.2367V19.1114C130.978 19.0754 130.439 18.9677 130.188 18.8958V18.5006C130.511 18.357 131.337 17.5666 131.337 16.8841V9.41198L130.511 8.58574L129.649 9.4479L129.361 9.16051L132.702 5.81962H132.954L135.037 7.86727V9.08867H134.965Z" fill="#222222"/>\n\t\t\t<path d="M8.11916 13.184L8.08323 9.51975L7.25699 10.0945V13.5432C7.25699 13.9384 7.18514 14.2258 7.07737 14.4772H7.18514C7.724 14.1539 8.11916 13.651 8.11916 13.184ZM3.88017 7.43619C2.69469 8.62167 1.58106 10.2741 1.58106 12.3936C1.58106 17.387 4.95788 19.9017 9.19687 19.9017C11.8552 19.9017 13.6873 18.4647 14.765 17.387L14.6932 17.2793C13.4359 18.2851 11.7474 19.0754 9.19687 19.0754C5.7482 19.0754 2.44323 16.9559 2.44323 12.3936C2.44323 10.5615 3.08985 8.76536 3.95202 7.54395L3.88017 7.43619ZM13.0048 5.46039C9.80757 5.46039 6.9696 3.87975 4.63457 3.87975C3.1617 3.87975 1.43737 4.49045 0.826665 6.21479L0.934435 6.25071C1.65291 5.06523 3.23355 4.67006 4.67049 4.67006C7.00553 4.67006 9.84349 6.25071 13.0407 6.25071C15.5913 6.25071 17.1001 5.38854 17.3515 3.3409L17.2078 3.30497C16.8127 4.92153 15.5913 5.46039 13.0048 5.46039ZM1.14998 12.3577C1.14998 8.98091 3.70055 6.64586 6.10744 5.56815L6.28705 5.7837C5.42489 6.78956 4.81419 7.7595 4.81419 9.80715C4.81419 12.1422 5.42489 13.7947 6.39482 14.8724C6.71814 14.5131 6.89776 13.9384 6.89776 13.4354V9.91491L11.2086 6.82548L11.3882 7.07695C10.993 7.61581 10.7775 8.11874 10.7775 8.94498V11.1722C10.7775 12.7529 8.22693 14.4054 6.61037 15.052C7.65215 16.0938 9.16094 16.5249 10.7416 16.5249C11.3523 16.5249 11.8552 16.4889 12.3222 16.4171V6.60995C10.9212 6.5381 9.59203 6.14294 8.37062 5.81962C7.07737 5.42446 5.7482 5.10115 4.59864 5.10115C2.87431 5.10115 0.754817 5.71186 0.718894 8.19059C0.718894 8.40613 0.754818 8.65759 0.790741 8.90906L0.467429 9.01682C0.18004 8.2265 0.000421443 7.47211 0.000421443 6.71771C-0.0355022 3.66421 2.22769 1.00586 5.82005 1.00586C7.32884 1.00586 8.76578 1.40102 10.0231 1.72433C11.3882 2.11949 12.6815 2.44281 14.0466 2.44281C14.7291 2.44281 15.1243 2.08357 15.1243 1.43694C15.1243 0.790319 14.8009 0.467005 14.298 0.32331L14.3699 0C15.9146 0.287389 17.603 1.18548 17.603 3.12535C17.603 5.46039 15.9146 6.57402 13.0407 6.57402H12.7533V16.3093C14.6573 15.9501 15.8787 15.052 16.8486 13.5791L17.136 13.7587C16.0942 17.0637 13.6155 20.225 9.23279 20.225C4.77826 20.2968 1.14998 17.7103 1.14998 12.3577Z" fill="#222222"/>\n\t\t\t<path d="M55.1791 13.184L55.1432 9.51975L54.3169 10.0945V13.5432C54.3169 13.9384 54.2451 14.2258 54.1373 14.4772H54.2451C54.7839 14.1539 55.1791 13.651 55.1791 13.184ZM50.9401 7.43619C49.7546 8.62167 48.641 10.2741 48.641 12.3936C48.641 17.387 52.0178 19.9017 56.2568 19.9017C58.9152 19.9017 60.7473 18.4647 61.825 17.387L61.7531 17.2793C60.4958 18.2851 58.8074 19.0754 56.2568 19.0754C52.8081 19.0754 49.5032 16.9559 49.5032 12.3936C49.5032 10.5615 50.1498 8.76536 51.012 7.54395L50.9401 7.43619ZM60.1006 5.46039C56.9034 5.46039 54.0655 3.87975 51.7304 3.87975C50.2576 3.87975 48.5332 4.49045 47.9225 6.21479L48.0303 6.25071C48.7488 5.06523 50.3294 4.67006 51.7664 4.67006C54.1014 4.67006 56.9394 6.25071 60.1366 6.25071C62.6871 6.25071 64.1959 5.38854 64.4474 3.3409L64.3037 3.30497C63.8726 4.92153 62.6512 5.46039 60.1006 5.46039ZM48.2099 12.3577C48.2099 8.98091 50.7605 6.64586 53.1674 5.56815L53.347 5.7837C52.4848 6.78956 51.8741 7.7595 51.8741 9.80715C51.8741 12.1422 52.4848 13.7947 53.4548 14.8724C53.7781 14.5131 53.9577 13.9384 53.9577 13.4354V9.91491L58.2685 6.82548L58.4482 7.07695C58.053 7.61581 57.8374 8.11874 57.8374 8.94498V11.1722C57.8374 12.7529 55.2869 14.4054 53.6703 15.052C54.7121 16.0938 56.2209 16.5249 57.8015 16.5249C58.4122 16.5249 58.9152 16.4889 59.3822 16.4171V6.60995C57.9811 6.5381 56.652 6.14294 55.4306 5.81962C54.1373 5.42446 52.8081 5.10115 51.6586 5.10115C49.9343 5.10115 47.8148 5.71186 47.7788 8.19059C47.7788 8.40613 47.8148 8.65759 47.8148 8.90906L47.4914 9.01682C47.2041 8.2265 47.0244 7.47211 47.0244 6.71771C46.9885 3.66421 49.2517 1.00586 52.8441 1.00586C54.3529 1.00586 55.7898 1.40102 57.0471 1.72433C58.4122 2.11949 59.7055 2.44281 61.0706 2.44281C61.7531 2.44281 62.1483 2.08357 62.1483 1.43694C62.1483 0.790319 61.825 0.467005 61.322 0.32331L61.358 0C62.9027 0.287389 64.5911 1.18548 64.5911 3.12535C64.5911 5.46039 62.9027 6.57402 60.0288 6.57402H59.7414V16.3093C61.6454 15.9501 62.8668 15.052 63.8367 13.5791L64.1241 13.7587C63.0823 17.0637 60.6036 20.225 56.2209 20.225C51.8382 20.2968 48.2099 17.7103 48.2099 12.3577Z" fill="#222222"/>\n\t\t</svg>')},o=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' width="32" height="22" viewBox="0 0 32 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M0.5 0.5H31.5V20.8333H0.5V0.5Z" stroke="#222222"/>\n\t\t\t<path d="M3.86434 17.2932H4.75181V12.5238L4.33178 12.4764C4.0608 12.578 3.16655 12.8829 2.90912 12.9777L3.06493 13.5807H3.153L3.86434 13.3368V17.2932Z" fill="#222222"/>\n\t\t\t<path d="M6.68558 13.1268C7.28852 13.1268 7.5866 13.3978 7.5866 13.9804C7.5866 14.4681 7.36982 14.8814 6.8685 15.3895C6.48912 15.7824 6.00135 16.1415 5.43906 16.6225L5.47971 17.2932H8.61634L8.65021 16.5954H6.49589V16.5344C6.92947 16.2024 7.38337 15.8569 7.70855 15.5182C8.23696 14.9695 8.50117 14.4546 8.50117 13.8584C8.50117 12.8897 7.89146 12.429 6.83462 12.429C6.25201 12.429 5.78456 12.6051 5.37809 12.9168L5.66262 13.452H5.74391C6.02167 13.2419 6.31975 13.1268 6.68558 13.1268Z" fill="#222222"/>\n\t\t\t<path d="M11.2318 15.9653C11.2318 16.4531 10.893 16.7173 10.263 16.7173C9.87006 16.7173 9.51779 16.5818 9.28067 16.3718H9.19938L8.90807 16.9476C9.24003 17.2051 9.78877 17.3744 10.4391 17.3744C11.5298 17.3744 12.187 16.8935 12.187 16.0534C12.187 15.2879 11.6111 14.9085 10.9879 14.8069V14.7595C11.584 14.6375 12.0244 14.2378 12.0244 13.6349C12.0244 12.849 11.4892 12.429 10.5204 12.429C9.93104 12.429 9.41617 12.5984 9.03679 12.8761L9.33487 13.3842H9.40262C9.66005 13.2013 9.99201 13.0929 10.3104 13.0929C10.805 13.0929 11.0759 13.3436 11.0759 13.8042C11.0759 14.2514 10.7101 14.5359 10.1207 14.5359H9.82264L9.86329 15.1388H10.1817C10.954 15.1388 11.2318 15.4505 11.2318 15.9653Z" fill="#222222"/>\n\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M2.90912 2.90909H29.0909V6.78788H2.90912V2.90909Z" fill="#222222"/>\n\t\t</svg>')},c=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M9.9375 1.25L18.125 18.75H1.875L9.9375 1.25ZM9.375 0L0 18.75L0.625 20H19.375L20 18.75L10.625 0H9.375Z" fill="white"/>\n\t\t\t<path d="M10.8125 6.875L10.625 13.75H9.375L9.1875 6.875H10.8125Z" fill="white"/>\n\t\t\t<path d="M9.99893 15.0134L8.76151 16.2508L9.99894 17.4882L11.2364 16.2508L9.99893 15.0134Z" fill="white"/>\n\t\t</svg>')},s=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M9.375 15V8.75H10.625V15H9.375ZM8.75 6.25L10 5L11.25 6.25L10 7.5L8.75 6.25Z" fill="black"/>\n\t\t\t<path d="M10 1.25C12.3125 1.25 14.5625 2.1875 16.1875 3.8125C17.8125 5.4375 18.75 7.6875 18.75 10C18.75 12.3125 17.8125 14.5625 16.1875 16.1875C14.5625 17.8125 12.3125 18.75 10 18.75C7.6875 18.75 5.4375 17.8125 3.8125 16.1875C2.1875 14.5625 1.25 12.3125 1.25 10C1.25 7.6875 2.1875 5.4375 3.8125 3.8125C5.4375 2.1875 7.6875 1.25 10 1.25ZM10 0C4.5 0 0 4.5 0 10C0 15.5 4.5 20 10 20C15.5 20 20 15.5 20 10C20 4.5 15.5 0 10 0Z" fill="black"/>\n\t\t</svg>')},l=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' width="124" height="30" viewBox="0 0 124 30" fill="none" \n\t\t\txmlns="http://www.w3.org/2000/svg">\n\t\t\t<mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="124" height="30">\n\t\t\t\t<rect width="124" height="30" fill="#C4C4C4"/>\n\t\t\t</mask>\n\t\t\t<g mask="url(#mask0)">\n\t\t\t\t<rect width="124" height="30" fill="white"/>\n\t\t\t\t<path d="M124 18.4999C82.3168 18.4999 109.426 18.4999 85 18.4999C78.0745 18.4999 76.1287 18.3135 72 19.5C66.5 21.0805 62 28 62 28M1.61731e-06 18.4999L39 18.4999C39 18.4999 47.8713 18.3135 52 19.5C57.2197 21 62 28 62 28M62 28L62 5.42021e-06" stroke="#222222"/>\n\t\t\t</g>\n\t\t</svg>')},u=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' width="37" height="15" viewBox="0 0 37 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M6.42553e-07 7.34996L2.60004 7.34996C2.60004 7.34996 8.80997 7.21948 11.7 8.05001C15.3539 9.10001 18.7001 14 18.7001 14M18.7001 14C18.7001 14 21.8501 9.15639 25.7001 8.05C28.5901 7.21948 29.9522 7.34996 34.8001 7.34995C35.6641 7.34995 36.3923 7.34995 37 7.34995M18.7001 14L18.7001 1.59983e-06" stroke="#333333"/>\n\t\t</svg>')},d=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' width="73" height="29" viewBox="0 0 73 29" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M73 18.4999C31.3168 18.4999 83.9259 18.4999 59.5 18.4999C52.5745 18.4999 50.6287 18.3135 46.5 19.5C41 21.0805 36.5 28 36.5 28M1.61731e-06 18.4999L13.5 18.4999C13.5 18.4999 22.3713 18.3135 26.5 19.5C31.7197 21 36.5 28 36.5 28M36.5 28L36.5 3.19093e-06" stroke="#222222"/>\n\t\t</svg>')},h=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' viewBox="0 0 17 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M16.1055 6.0001C12.7662 6.0001 10.1056 8.66075 10.1056 12" stroke="#0094e4" stroke-miterlimit="10"/>\n\t\t\t<path d="M16.1055 5.9999C12.7662 5.9999 10.1056 3.33925 10.1056 -5.24528e-07" stroke="#0094e4" stroke-miterlimit="10"/>\n\t\t\t<path d="M15 6L-3.90345e-07 6" stroke="#0094e4"/>\n\t\t</svg>')},p=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' xmlns="http://www.w3.org/2000/svg" width="17" height="12" viewBox="0 0 17 12" fill="none">\n\t\t\t<path d="M16.1055 6.0001C12.7662 6.0001 10.1056 8.66075 10.1056 12" stroke="#0076B7" stroke-miterlimit="10"/>\n\t\t\t<path d="M16.1055 5.9999C12.7662 5.9999 10.1056 3.33925 10.1056 -5.24528e-07" stroke="#0076B7" stroke-miterlimit="10"/>\n\t\t\t<path d="M15 6L-3.90345e-07 6" stroke="#0076B7"/>\n\t\t</svg>')},f=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",'viewBox="0 0 24 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M10.5252 1.25086L15.7793 6.99988L10.5252 12.9998M7.36804 1.25086L12.6221 6.9999L7.36804 12.9998M4.21088 1.25086L9.46497 6.99989L4.21088 12.9998M1.05371 1L6.3078 6.9999L1.05371 12.9998" stroke="#0094e4" stroke-miterlimit="10"/>\n\t\t\t<path d="M1 7.00012H23.0415" stroke="#0094e4" stroke-linejoin="round"/>\n\t\t</svg>')},g=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' xmlns="http://www.w3.org/2000/svg" width="24" height="14" viewBox="0 0 24 14" fill="none">\n\t\t\t<path d="M10.525 1.25086L15.7791 6.99988L10.525 12.9998M7.3678 1.25086L12.6219 6.9999L7.3678 12.9998M4.21063 1.25086L9.46472 6.99989L4.21063 12.9998M1.05347 1L6.30756 6.9999L1.05347 12.9998" stroke="#0076B7" stroke-miterlimit="10"/>\n\t\t\t<path d="M1 7.00012H23.0415" stroke="#0076B7" stroke-linejoin="round"/>\n\t\t</svg>')},m=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M15.187 1L26.61 13.5 15.187 26.546M10.497 1L21.92 13.5 10.497 26.546M5.807 1L17.23 13.5 5.806 26.546M1.116.455L12.54 13.5 1.116 26.546m30.185-12.5L19.877 1" stroke-miterlimit="10"/>\n\t\t\t<path d="M1 13.5h47.925" stroke-linejoin="round"/>\n\t\t\t<path d="M31.208 13.5l-11.4 13.046" stroke-miterlimit="10"/>\n\t\t</svg>')},y=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M15.5 14.5C7.43 14.5 1 20.93 1 29M15.5 14.5C7.43 14.5 1 8.07 1 0" stroke-miterlimit="10"/>\n\t\t</svg>')},b=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"<svg ".concat(e?'class="'.concat(e,'"'):"",' viewBox="0 0 12 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M2.25 8.85L0.9 7.5L0 8.4L2.25 10.65L12 0.9L11.1 0L2.25 8.85Z"/>\n\t\t</svg>')},v=function(){return'<svg class="'.concat(0<arguments.length&&void 0!==arguments[0]&&arguments[0],'" viewBox="0 0 15 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path d="M13.74 19.12H4.14001L3.18001 18.16V5.20001L4.62001 3.76001H14.7V18.16L13.74 19.12ZM4.14001 18.16H13.74V4.72001H5.10001L4.14001 5.68001V18.16Z" fill="#222222"/>\n\t\t\t<path d="M0.5 2.40625L1.875 1H11.5V15.0625L10.5833 16H1.41667L0.5 15.0625V2.40625Z" fill="#A1D1CB"/>\n\t\t\t<path d="M10.86 16.24H1.26L0.300003 15.28V2.32L1.74 0.880005H11.82V15.28L10.86 16.24ZM1.26 15.28H10.86V1.84H2.22L1.26 2.8V15.28Z" fill="#222222"/>\n\t\t\t<path d="M9.9 3.76H2.22V4.72H9.9V3.76Z" fill="#222222"/>\n\t\t\t<path d="M9.9 5.68H2.22V6.64H9.9V5.68Z" fill="#222222"/>\n\t\t\t<path d="M6.06 7.6H2.22V8.56H6.06V7.6Z" fill="#222222"/>\n\t\t</svg>')}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(c){return new Promise(function(r,e){var o,t=document.querySelector(c);t?r(t):(o=new MutationObserver(function(e){e.forEach(function(e){for(var t=0,n=Array.from(e.addedNodes);t<n.length;t++){var a=n[t],i=a.innerHTML||!1;if(a.matches&&a.matches(c))return o.disconnect(),void r(a);if(i&&a.querySelector(c))return o.disconnect(),void r(a.querySelector(c))}})})).observe(document.documentElement,{childList:!0,subtree:!0})})}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a,r=function(e,t){e=o(t).exec(e);return e&&decodeURIComponent(e[2])},i=function(e,t,n){var a,i;return void 0===e&&(e=document.location.search()),null===r(e,t)?(a="".concat(t,"=").concat(encodeURIComponent(n)),i=c.exec(e)[0],e.replace(c,(i.length?i+"&":"?")+a)):e.replace(o(t),"$1=".concat(encodeURIComponent(n)))},o=(a={},function(e){return a[e]||(a[e]=new RegExp("([?&;]".concat(e,"(?=[=&;#]|$))=?([^&;#]*)")))}),c=new RegExp(/\?[^#]*|(?=#)|$/),s=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.location.href,n=e.match(/\?+/g)?"".concat(e,"&redirectTo="):"".concat(e.replace(/\/?$/,"/"),"?redirectTo=");return e=t,null!==r(t=n,n="redirectTo")?i(t,n,e):t}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o});var d=n(0),l=n(1),i={global:{"TGT-403--pending-canc-payment-fail-overlay":295101,"TGT-252--international-24hr-meter":345322,"TGT-250--int-soft-modal-anon":344358,"TGT-251--int-hard-modal-anon":347252,"TGT-107--inlife-newsletter-rec-overlay":330634,"TGT-364--7-day-onward-journey":289357,"TGT-59--edition-app-overlay":310564,"TGT-32--winback-overlay":314619,"TGT-86--aem-hard-paywall--international":311339,"CUS-1725--aem-hard-paywall":255333,"CUS-1725--aem-hard-paywall--qamanylive":297065,"TGT-135--december-sale-overlay":321121,"TGT-137--fitbit-overlay--engaged":328474,"TGT-137--fitbit-overlay--non-engaged":328472,"TGT-426--june-sale-uk-reg-engaged":376005,"TGT-426--june-sale-uk-reg-non-engaged":376931,"CUS-1954--engaged-cohort-ano-overlay":273028,"CUS-1954--engaged-cohort-reg-overlay":272732,"CUS-2033--non-engaged-reg-users-overlay":277102,"CUS-2033--non-engaged-reg-users-overlay-TRAVEL-AB":286681,"CUS-1794--non-engaged-soft-overlay":260465,"desktop-login-notification[TGT-40]--live":214179}},a=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"global";return new Promise(function(c,s){"string"==typeof e.campaignId&&(e.campaignId=parseInt(e.campaignId,10)),setTimeout(function(){!function(t,e,n){if(void 0===n[t])return Object(d.a)("Priority - Type of precedence list you provided is not in the list of priorities."),c();var a,i=[];for(a in n[t])i.push(n[t][a]);var r=i.indexOf(e.campaignId);if(-1===r)return Object(d.a)("Priority - The activity id ".concat(e.campaignId," you provided is not in the list of priorities for type ").concat(t)),c();var o=window.martech.info.runningActivities.filter(function(e){e=i.indexOf(parseInt(e,10));return-1!==e&&e<r});0<o.length?(Object(d.a)("Priority - Activity ".concat(Object.keys(n[t]).filter(function(e){return n[t][e]===parseInt(o[0])})[0]," has a higher index and so taking precedence.")),Object(l.e)("VOID",e),s(new Error("This activity doesn't have priority."))):(Object(d.a)("Priority - Your activity has the highest priority.. ".concat(e.campaignId," : ").concat(e.campaignName)),c())}(t,e,i)},1200)})},r=function(e){"string"==typeof e.campaignId&&(e.campaignId=parseInt(e.campaignId,10)),window.martech.info.deprioritisedActivities=window.martech.info.deprioritisedActivities||[],window.martech.info.deprioritisedActivities.push(e.campaignId),Object(d.a)("The activity: ".concat(e.campaignName," has been deprioritised."))},o=function(a){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"global";return new Promise(function(s,l){var e,t=Object.assign({},i),n=[];for(e in t[u])n.push(t[u][e]);!function e(t,n,a){a++;var i=window.martech.info.deprioritisedActivities||[],r=n.filter(function(e){return!i.includes(e)}),o=r.indexOf(t.campaignId),c=window.martech.info.runningActivities.filter(function(e){e=r.indexOf(parseInt(e,10));return-1!==e&&e<o});if(!(a<10))return Object(d.a)("rePrioritise - We tried to re-prioritise your activity ".concat(t.campaignName," too many time.. Aborting.")),l(new Error("rePrioritise - Too many attempt.. Aborting."));if(-1===o)Object(d.a)("rePrioritise - The activity id ".concat(t.campaignId," you provided is not in the list of priorities for type ").concat(u)),setTimeout(function(){e(t,n,a)},500);else{if(!(0<c.length))return Object(d.a)("rePrioritise - Your activity ".concat(t.campaignName," has the highest priority.. ").concat(t.campaignId," : ").concat(t.campaignName)),s();Object(d.a)("rePrioritise - ".concat(t.campaignName," doesn't have priority and cannot be reprioritised.")),setTimeout(function(){e(t,n,a)},500)}}(a,n,0)})}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e,t){e=e.replace("Activities/","");return"".concat("https://www.telegraph.co.uk","/martech/images/").concat(e,"/").concat(t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});function i(e){return JSON.parse(localStorage.getItem(e))?JSON.parse(localStorage.getItem(e)):{}}var r=n(0),a={enabled:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},lookup:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"martech";return i(e)||(Object(r.a)("LocalStorage ".concat(e," not found.")),!1)},get:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"martech",a=i(n);return a?(t=a,e.split(".").reduce(function(e,t){return e?e[t]:null},t||self))||!1:(Object(r.a)("LocalStorage ".concat(n," not found.")),!1)},set:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"martech",c=i(n);if(c)return function(e,t){for(var n=c,a=e.split("."),i=a.length,r=0;r<i-1;r++){var o=a[r];n[o]||(n[o]={}),n=n[o]}n[a[i-1]]=t}(e,t),localStorage.setItem(n,JSON.stringify(c)),!0;return Object(r.a)("LocalStorage ".concat(n," not found.")),!1},del:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"martech",n=i(t);if(n)return!!function(e,t){t=t.split(".");for(var n=0;n<t.length-1;n++)if(void 0===(e=e[t[n]]))return!1;return delete e[t.pop()],!0}(n,e)&&(localStorage.setItem(t,JSON.stringify(n)),!0);return Object(r.a)("LocalStorage ".concat(t," not found.")),!1}}},function(e,t,n){"use strict";var a=n(1),r=n(5),i=n(25);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}o(c.prototype,[{key:"init",value:function(){this.buildOverlay(),this.trackDisplay()}},{key:"buildOverlay",value:function(){var e=document.querySelector(this.elementRoot);this.overlay=document.createElement("div"),this.overlay.classList.add(this.classOverlay),this.config.extraOverlayClass&&this.overlay.classList.add(this.config.extraOverlayClass),e.appendChild(this.overlay),this.overlay=document.querySelector(".".concat(this.classOverlay)),this.overlay.appendChild(this.addModal()),window.martech.info.modalDisplayed=!0}},{key:"addModal",value:function(){var e=document.createElement("article");if(e.classList.add("martech-modal-component"),this.config.extraClass&&"string"==typeof this.config.extraClass)for(var t=this.config.extraClass.split(" "),n=0;n<t.length;n++)e.classList.add(t[n]);var a='\n\t\t\t<button class="'.concat(this.classModalClose," ").concat(this.classModalClose,"--").concat(this.config.closeButtonPosition,'">\n\t\t\t\t').concat(Object(r.o)("martech-modal-component__close-icon"),"\n\t\t\t</button>"),i='\n\t\t\t<div class="martech-modal-component__content">'.concat(this.config.content,"</div>");return e.innerHTML=this.config.closeButton?a+i:i,e}},{key:"trackDisplay",value:function(){this.config.displayOverlay&&this.overlay.classList.add("".concat(this.classOverlay,"--is-visible")),this.config.displayMobile||(this.overlay.classList.add("".concat(this.classOverlay,"--not-mobile")),document.documentElement.classList.add("martech-overlay-not-visible--mobile-disable"),document.body.classList.add("martech-overlay-not-visible--mobile-disable")),this.config.preventScrolling&&!this.config.preventScrollingDesktop&&(document.documentElement.classList.add("martech-overlay-not-visible"),document.body.classList.add("martech-overlay-not-visible")),this.config.preventScrollingDesktop&&(document.documentElement.classList.add("martech-modal-no-scroll-desktop"),document.body.classList.add("martech-modal-no-scroll-desktop"),this.overlay.classList.add("".concat(this.classOverlay,"--bg-not-mobile"))),this.trackingEvents(),this.modalEvents()}},{key:"trackingEvents",value:function(){var e=this.config.extraTrackingInfo?"overlay-loaded--".concat(this.config.extraTrackingInfo):"overlay-loaded";this.config.frequencyActive&&adobe.target.trackEvent({mbox:this.config.frequencyMbox,params:{frequency:this.config.frequencyDays}}),this.productName&&!this.config.listVariables?Object(a.a)({eVar75:e,eVar153:this.productName},["event52","event245"],this.config):this.productName&&this.config.listVariables?Object(a.a)({eVar75:e,eVar153:this.productName,list1:this.config.listVariables},["event52","event266","event245"],this.config):!this.productName&&this.config.listVariables?Object(a.a)({eVar75:e,list1:this.config.listVariables},["event52","event266"],this.config):Object(a.e)(e,this.config)}},{key:"detachModal",value:function(){var e;this.overlay&&(this.overlay.parentNode.removeChild(this.overlay),e=this.config.extraTrackingInfo?"overlay-closed--".concat(this.config.extraTrackingInfo):"overlay-closed",Object(a.e)(e,this.config),window.tmg.pubsub.publish({topic:"tmg.martech.overlayDismissed"})),this.config.preventScrolling&&(document.documentElement.classList.remove("martech-overlay-not-visible"),document.body.classList.remove("martech-overlay-not-visible")),this.config.preventScrollingDesktop&&(document.documentElement.classList.remove("martech-modal-no-scroll-desktop"),document.body.classList.remove("martech-modal-no-scroll-desktop"))}},{key:"modalEvents",value:function(){var t=this,e=document.querySelector(".".concat(this.classModalClose)),n=document.querySelector(".".concat(this.classOverlay));(this.config.closeButton||this.config.customCloseButton)&&e.addEventListener("click",function(){t.detachModal()}),this.config.displayOverlay&&this.config.detachOverlay&&n.addEventListener("click",function(e){e.target===n&&t.detachModal()})}}]),n=c;function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.elementRoot="body",this.classOverlay="martech-modal-component-overlay",this.classModalClose="martech-modal-component__close",this.defaultConfig={campaignId:"010101010",campaignName:"generic_overlay",segmentID:"9999999",content:"",closeButton:!0,closeButtonPosition:"right",customCloseButton:!1,extraClass:!1,frequencyActive:!1,frequencyMbox:"overlay-dynamic-one",frequencyDays:7,detachOverlay:!0,displayOverlay:!0,displayMobile:!0,preventScrolling:!1,preventScrollingDesktop:!1,extraTrackingInfo:!1,extraOverlayClass:!1,listVariables:!1},this.config=Object.assign({},this.defaultConfig,e),this.productName=Object(i.a)(this.config.content)}t.a=n},function(e,t,n){"use strict";t.a={get:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a="",i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1);0===r.indexOf(t)&&(a=r.substring(t.length,r.length))}return a},set:function(e,t,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);a="expires="+a.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"},del:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain=.telegraph.co.uk;"}}},function(e,t,n){var a;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){var l,n,e,t,a,u,i,r,o,c,s,d;function h(){}return l=Math,n=Object.create||function(e){return h.prototype=e,e=new h,h.prototype=null,e},t=(e={}).lib={},a=t.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=t.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||r).stringify(this)},concat:function(e){var t=this.words,n=e.words,a=this.sigBytes,i=e.sigBytes;if(this.clamp(),a%4)for(var r=0;r<i;r++){var o=n[r>>>2]>>>24-r%4*8&255;t[a+r>>>2]|=o<<24-(a+r)%4*8}else for(r=0;r<i;r+=4)t[a+r>>>2]=n[r>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=l.ceil(t/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4){var a=function(t){var n=987654321,a=4294967295;return function(){var e=((n=36969*(65535&n)+(n>>16)&a)<<16)+(t=18e3*(65535&t)+(t>>16)&a)&a;return e/=4294967296,(e+=.5)*(.5<l.random()?1:-1)}}(4294967296*(i||l.random())),i=987654071*a();t.push(4294967296*a()|0)}return new u.init(t,e)}}),i=e.enc={},r=i.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=[],i=0;i<n;i++){var r=t[i>>>2]>>>24-i%4*8&255;a.push((r>>>4).toString(16)),a.push((15&r).toString(16))}return a.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a+=2)n[a>>>3]|=parseInt(e.substr(a,2),16)<<24-a%8*4;return new u.init(n,t/2)}},o=i.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,a=[],i=0;i<n;i++){var r=t[i>>>2]>>>24-i%4*8&255;a.push(String.fromCharCode(r))}return a.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a++)n[a>>>2]|=(255&e.charCodeAt(a))<<24-a%4*8;return new u.init(n,t)}},c=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(o.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return o.parse(unescape(encodeURIComponent(e)))}},s=t.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,a=t.sigBytes,i=this.blockSize,r=a/(4*i),o=(r=e?l.ceil(r):l.max((0|r)-this._minBufferSize,0))*i,a=l.min(4*o,a);if(o){for(var c=0;c<o;c+=i)this._doProcessBlock(n,c);var s=n.splice(0,o);t.sigBytes-=a}return new u.init(s,a)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),t.Hasher=s.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){s.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new d.HMAC.init(n,t).finalize(e)}}}),d=e.algo={},e},"object"===i(t)?e.exports=t=a():void 0===(a="function"==typeof(a=a)?a.apply(t,[]):a)||(e.exports=a)},function(e,t,n){"use strict";t.a=function(t){var e=[{region:"restOfTheWorld",countries:!1,currency:"Â£"},{region:"uk",countries:"united kingdom",currency:"Â£"},{region:"usa",countries:"united states",currency:"$"},{region:"aus",countries:"australia",currency:"A$"},{region:"eur",countries:["ireland","france","spain","germany","italy"],currency:"â‚¬"}],a=e.filter(function(e){return e.countries&&e.countries.includes(t)})[0]||e[0];return{country:t,region:a.region,currency:a.currency,price:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{usa:!1,aus:!1,eur:!1};for(t in n)n[t]&&t===a.region&&(e=n[t]);return"".concat(a.currency).concat(e)}}}},function(e,p,f){"use strict";!function(o){f.d(p,"b",function(){return n}),f.d(p,"c",function(){return a}),f.d(p,"e",function(){return i}),f.d(p,"a",function(){return u}),f.d(p,"d",function(){return r});var c=f(0),t=f(12),e=f(19),s=f(1),l=Object(e.a)(),n=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.a.get("tmg_refresh");return new Promise(function(t){fetch(l.apis.identityTokens.url,{method:"POST",body:JSON.stringify({grant_type:"refresh_token",refresh_token:e,client_id:"tcuk"}),headers:new Headers({app_id:"aKiKii0d",app_key:"lL6Lol4dlaXncI3wgrgTQ5XuRXsOATae","Content-Type":"application/json",Accept:"application/json"})}).then(u).then(function(e){return e.json()}).then(function(e){return t(e)}).catch(function(e){return Object(c.a)("MARTECH :: Issue when getting ID token: ".concat(e," at ").concat(o))})})},a=function(e,n){return new Promise(function(t){fetch(l.apis.newslettersMe.url,{method:"GET",headers:d(e,n,"access-user")}).then(u).then(function(e){return e.json()}).then(function(e){return t(e)}).catch(function(e){return Object(c.a)("MARTECH :: Issue when accessing user: ".concat(e," at ").concat(o))})})},i=function(n,e,a,i){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{success:"success",error:"error"};return new Promise(function(t){fetch("".concat(l.apis.newslettersMe.url,"/").concat(i),{method:"POST",headers:d(e,a,"submit-newsletter")}).then(u).then(function(){Object(s.a)({eVar75:"".concat(i,"-sign-up-success"),prop27:i},[["event52","event14"]],n),t(r.success)}).catch(function(e){Object(c.a)("Martech:: Issue when submitting newsletter: ".concat(e," at ").concat(o)),Object(s.e)("".concat(i,"-sign-up-error"),n),t(r.error)})})},u=function(e){return 200===e.status||201===e.status?Promise.resolve(e):Promise.reject(new Error(e.statusText))},d=function(e,t,n){n={"Access-Control-Request-Headers":"application/json","Content-Type":"application/json",Accept:"application/json",access_token:e.access_token,id_token:e.id_token,ddgFlow:t,ddgAction:n};return new Headers(n)},r=function(i,r){return new Promise(function(e,t){console.log("debug: registerAndSubmitNL runs for",i,r);var n=new Headers({"Content-Type":"application/json",id_token:l.apis.genericreg.appId,access_token:l.apis.genericreg.appKey}),a={message:{data:h(i,r),messageId:"549077842084649",message_id:"549077842084649",publishTime:"2019-05-23T15:15:08.46Z",publish_time:"2019-05-23T15:15:08.46Z"},subscription:"projects/tmg-platforms-preprod/subscriptions/commerce-genericreg-sub-cci"};fetch("".concat(l.apis.genericreg.url),{method:"POST",body:JSON.stringify(a),headers:n}).then(u).then(function(){return e()}).catch(function(e){return t(Error("Martech:: Issue when registering user: ".concat(e," at ").concat(o)))})})},h=function(e,t){e='{\n\t\t"originator": "other",\n\t\t"create_user": true,\n\t\t"channel": "'.concat(t.api.channel,'",\n\t\t"newsletter_ids": ["').concat(t.api.newsletterId,'"],\n\t\t"user": {\n\t\t\t"emailAddress": "').concat(e,'"\n\t\t}\n\t}');return window.btoa(e)}}.call(this,"Utilities/newsletters-api")},function(e){e.exports=JSON.parse('[{"name":"breaking-news","audiences":{"channel":"news"},"recs":"politics","page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/TGT-241-newsletter-breaking-news/breaking-news.png","title":"Telegraph Breaking News alerts","frequency":"Regular updates","descLoggedIn":"Be informed about the latest news stories as soon as they break","descLoggedOut":"Be informed about the latest news stories as soon as they break","successMsg":"Your first Telegraph Breaking News Newsletter will arrive in your inbox soon.","api":{"newsletterId":"BreakingNews_NL","channel":"On-page_NL"}},{"name":"beyond-brexit-bulletin","audiences":{"keywords":"brexit","author":["james crisp","dia chakravarty"]},"recs":"politics","page":"article","subscriberOnly":true,"img":"https://static.telegraph.co.uk/aem/martech/tgt-188-newsletter-beyond-brexit/beyond-brexit-bulletin.png","title":"Beyond Brexit Bulletin","frequency":"Two times a week","descLoggedIn":"Our essential guide to the decisions facing Britain - post Brexit. With James Crisp, Christopher Hope, Dia Chakravarty and more - every Tuesday and Thursday","descLoggedOut":"Our essential guide to the decisions facing Britain - post Brexit. With James Crisp, Christopher Hope, Dia Chakravarty and more - every Tuesday and Thursday","successMsg":"Your Beyond Brexit Bulletin Newsletter will arrive in your inbox soon.","api":{"newsletterId":"Politics_NL","channel":"On-page_NL"}},{"name":"refresher","audiences":{"keywords":"the refresher","author":"tony diver"},"recs":"politics","page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/tgt-31-newsletter-spike/the-refresher.png","title":"The Refresher Newsletter","frequency":"Weekly","descLoggedIn":"The facts behind the week\'s biggest political story, straight to your inbox - every Wednesday","descLoggedOut":"The facts behind the week\'s biggest political story, straight to your inbox - every Wednesday","successMsg":"Your first Refresher Newsletter will arrive in your inbox soon.","api":{"newsletterId":"TheRefresher_NL","channel":"On-page_NL"}},{"name":"us2020","audiences":{"channel":["news","politics","education-and-careers","education"],"keywords":["usa","us 2020 election"],"author":"nick allen"},"audiencesJoin":["channel","keywords"],"recs":"politics","page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1959-newsletter-us2020/letter-from-the-US.jpg","title":"Letter from the USA","frequency":"Weekly","descLoggedIn":"Expert insight and exclusive analysis on American politics, written by our expert US team - every Thursday","descLoggedOut":"Expert insight and exclusive analysis on American politics, written by our expert US team - every Thursday","successMsg":"Your first Letter from the USA newsletter will arrive in your inbox soon.","api":{"newsletterId":"USElection_NL","channel":"On-page_NL"}},{"name":"front-bench","audiences":{"channel":"politics","author":"daniel capurro"},"recs":"politics","page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/tgt-31-newsletter-spike/front-bench.png","title":"The Front Bench Newsletter","frequency":"Mon - Fri","descLoggedIn":"The Telegraphâ€™s morning political digest â€“ keeping you informed every weekday","descLoggedOut":"The Telegraphâ€™s morning political digest â€“ keeping you informed every weekday","successMsg":"Your first Front Bench Newsletter will arrive in your inbox soon.","api":{"newsletterId":"PoliticsFrontBench_NL","channel":"On-page_NL"}},{"name":"economic-intel","audiences":{"author":["ambrose evans-pritchard","jeremy warner"]},"recs":["business","property","money","investing"],"page":"article","subscriberOnly":true,"img":"https://static.telegraph.co.uk/aem/martech/tgt-108--newsletters-v2/economic-intel.png","title":"Economic Intelligence","frequency":"Weekly","descLoggedIn":"Unique insight into the world\'s biggest economic issues from Ambrose Evans-Pritchard and Jeremy Warner. Every Tuesday morning.","descLoggedOut":"Unique insight into the world\'s biggest economic issues from Ambrose Evans-Pritchard and Jeremy Warner. Every Tuesday morning.","successMsg":"Your first Economic Intelligence Newsletter will arrive in your inbox soon","api":{"newsletterId":"EconomicIntel_NL","channel":"On-page_NL"}},{"name":"city-intel","audiences":{"author":"ben marlow"},"recs":["business","property","money","investing"],"page":"article","subscriberOnly":true,"img":"https://static.telegraph.co.uk/aem/martech/tgt-108--newsletters-v2/city-intel.png","title":"The City Intelligence Newsletter","frequency":"Mon - Fri","descLoggedIn":"Your essential round-up of the biggest corporate stories from our chief city commentator, Ben Marlow.","descLoggedOut":"Your essential round-up of the biggest corporate stories from our chief city commentator, Ben Marlow.","successMsg":"Your first City Intelligence Newsletter will arrive in your inbox soon.","api":{"newsletterId":"CityIntel_NL","channel":"On-page_NL"}},{"name":"property","audiences":{"channel":"property","author":["isabelle fraser","melissa lawford"]},"recs":["business","property","money","investing"],"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1813-newsletter-property/property.png","title":"Property newsletter","frequency":"Weekly","descLoggedIn":"From luxury homes, interiors and heritage to news and analysis of the UK housing market.","descLoggedOut":"From luxury homes, interiors and heritage to news and analysis of the UK housing market.","successMsg":"Your first Property newsletter will arrive in your inbox soon.","api":{"newsletterId":"Property_NL","channel":"On-page_NL"}},{"name":"money","audiences":{"channel":["money","tax","personal-banking","insurance"],"author":"marianna hunt"},"recs":["business","property","money","investing"],"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1590-newsletter-money/money.png","title":"Money newsletter","frequency":"Weekly","descLoggedIn":"The week\'s most important personal finance news, analysis and expert advice","descLoggedOut":"The week\'s most important personal finance news, analysis and expert advice","successMsg":"Your first Money newsletter will arrive in your inbox soon.","api":{"newsletterId":"Personal_Finance_NL","channel":"On-page_NL"}},{"name":"investor","audiences":{"channel":"investing","author":["sam benstead","jonathan jones"]},"recs":["business","property","money","investing"],"page":"article","subscriberOnly":true,"img":"https://static.telegraph.co.uk/aem/martech/tgt-231-newsletter-investor/investor.jpg","title":"Investor newsletter","frequency":"Weekly","descLoggedIn":"Our best investment analysis, advice and expert opinion, plus columns from our stock-picker Questor","descLoggedOut":"Our best investment analysis, advice and expert opinion, plus columns from our stock-picker Questor","successMsg":"Your first Investor newsletter will arrive in your inbox soon.","api":{"newsletterId":"Investor_NL","channel":"On-page_NL"}},{"name":"business-briefing","audiences":{"channel":"business"},"recs":["business","property","money","investing"],"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1814-newsletter-business/business-briefing.png","title":"Business Briefing newsletter","frequency":"Mon - Fri and Sunday","descLoggedIn":"Your essential daily newsletter, packed with the top business news stories, comment and analysis.","descLoggedOut":"Your essential daily newsletter, packed with the top business news stories, comment and analysis.","successMsg":"Your first Business Briefing newsletter will arrive in your inbox soon.","api":{"newsletterId":"Citydesk_NL","channel":"On-page_NL"}},{"name":"rugby-geech","audiences":{"author":"ian mcgeechan"},"recs":["rugby-union","rugby-league","rugby-world-cup","rugby-sevens"],"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/tgt-31-newsletter-spike/rugby-geech.png","title":"The Geech on Friday Newsletter","frequency":"Weekly","descLoggedIn":"Exclusive commentary from the keen brain of Sir Ian McGeechan, Lions legend and Telegraph columnist - every Friday","descLoggedOut":"Exclusive commentary from the keen brain of Sir Ian McGeechan, Lions legend and Telegraph columnist - every Friday","successMsg":"Your first Geech on Friday Newsletter will arrive in your inbox soon.","api":{"newsletterId":"RugbyGeech_NL","channel":"On-page_NL"}},{"name":"rugby-insider","audiences":{"keywords":"england rugby union team","author":["will greenwood","charlie morgan","gavin mairs"]},"recs":["rugby-union","rugby-league","rugby-world-cup","rugby-sevens"],"page":"article","subscriberOnly":true,"img":"https://static.telegraph.co.uk/aem/martech/tgt-31-newsletter-spike/rugby-insider.png","title":"England Rugby Insider","frequency":"Weekly","descLoggedIn":"Expert insight from World Cup-winner Will Greenwood, news correspondent Gavin Mairs and analyst Charlie Morgan","descLoggedOut":"Expert insight from World Cup-winner Will Greenwood, news correspondent Gavin Mairs and analyst Charlie Morgan","successMsg":"Your first England Rugby Insider Newsletter will arrive in your inbox soon.","api":{"newsletterId":"RugbyInsider_NL","channel":"On-page_NL"}},{"name":"rugby-nerd","audiences":{"channel":["rugby-union","rugby-league","rugby-world-cup","rugby-sevens"]},"recs":["rugby-union","rugby-league","rugby-world-cup","rugby-sevens"],"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/tgt-31-newsletter-spike/rugby-nerd.png","title":"The Rugby Nerd Newsletter","frequency":"Weekly","descLoggedIn":"Digging into the big talking points and little details from the weekend\'s games - every Monday","descLoggedOut":"Digging into the big talking points and little details from the weekend\'s games - every Monday","successMsg":"Your first Rugby Nerd Newsletter will arrive in your inbox soon.","api":{"newsletterId":"RugbyNerd_NL","channel":"On-page_NL"}},{"name":"lisa-armstrongs-front-row","audiences":{"channel":"lifestyle","author":"lisa armstrong"},"page":"article","subscriberOnly":true,"img":"https://static.telegraph.co.uk/aem/martech/tgt-76-newsletter-lisa-armstrong-front-row/lisa-armstrong.png","title":"Lisa Armstrongâ€™s Front Row","frequency":"Weekly","descLoggedIn":"Sign up for an inside view of the fashion world, plus Lisa\'s top recommendation of the week.","descLoggedOut":"Sign up for an inside view of the fashion world, plus Lisa\'s top recommendation of the week.","successMsg":"Your first Lisa Armstrongâ€™s Front Row newsletter will arrive in your inbox soon.","api":{"newsletterId":"FrontRowLisa_NL","channel":"On-page_NL"}},{"name":"fashion","audiences":{"channel":"fashion"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/tgt-232--newsletter-fashion/fashion-newsletter.png","title":"The Fashion Newsletter","frequency":"Weekly","descLoggedIn":"Your weekly slice of the Telegraph\'s best fashion content - every Friday","descLoggedOut":"Your weekly slice of the Telegraph\'s best fashion content - every Friday","successMsg":"Your first Fashion newsletter will arrive in your inbox soon.","api":{"newsletterId":"Fashion_NL","channel":"On-page_NL"}},{"name":"jerusalem","audiences":{"channel":["news","obituaries","global-health"],"keywords":["israel","palestine","middle east"],"author":["campbell mcdiarmid","campbell macdiarmid","james rothwell"]},"audiencesJoin":[["channel","keywords"],["channel","author"]],"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/TGT-20--newsletter-jerusalem-updated/jerusalem.png","title":"Letter from the Middle East","frequency":"Weekly","descLoggedIn":"A deeper look at the people and the politics of the Middle East.","descLoggedOut":"A deeper look at the people and the politics of the Middle East.","successMsg":"Your first Telegraph Letter from Jerusalem will arrive in your inbox soon.","api":{"newsletterId":"IsraelPalestine_NL","channel":"On-page_NL"}},{"name":"365","audiences":{"keywords":["wellbeing","fitness"]},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/tgt-186-newsletter-365/365-newsletter.png","title":"The 365 Newsletter","frequency":"Daily","descLoggedIn":"Sign up and receive your daily guide to a healthier, happier you","descLoggedOut":"Sign up and receive your daily guide to a healthier, happier you","successMsg":"Your first 365 newsletter will arrive in your inbox soon.","api":{"newsletterId":"Telegraph365_NL","channel":"On-page_NL"}},{"name":"cookbook","audiences":{"channel":["food-and-drink","foodanddrink","recipes","lifestyle","health-fitness"],"author":"amy bryant","keywords":["restaurants","pubs","recipe","recipes","food and drink","food and drink editor\'s choice","food and drink editors choice"]},"audiencesJoin":["channel","keywords"],"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-2050-newsletter-cookbook/food-and-drink.png","title":"Telegraph Cookbook Newsletter","frequency":"Mon - Fri","descLoggedIn":"A feast of ideas from our new recipe site, featuring Diana Henry, Stephen Harris and many more","descLoggedOut":"A feast of easy recipe ideas every weekday lunchtime, from Diana Henry, Angela Hartnett, Melissa Hemsley and many more.","successMsg":"Your first Cookbook Newsletter will arrive in your inbox soon.","api":{"newsletterId":"FoodDrink_NL","channel":"On-page_NL"}},{"name":"technology-intelligence","audiences":{"channel":"technology","author":["robin pagnamenta","james titcomb"]},"page":"article","subscriberOnly":true,"img":"https://static.telegraph.co.uk/aem/martech/cus-1960-newsletter-technology/technology-intelligence.png","title":"Technology Intelligence newsletter","frequency":"Mon - Fri","descLoggedIn":"Your essential guide to technology today.","descLoggedOut":"Your essential guide to technology today.","successMsg":"Your first Technology Intelligence newsletter will arrive in your inbox soon.","api":{"newsletterId":"Technology_NL","channel":"On-page_NL"}},{"name":"snow-ski","audiences":{"channel":"travel","keywords":["ski","snowboard"]},"audiencesJoin":["channel","keywords"],"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/tgt-108--newsletters-v2/ski-snow.png","title":"Ski & Snow","frequency":"Weekly (Seasonal)","descLoggedIn":"Your weekly ski travel update, including trending destinations, resort guides and latest news.","descLoggedOut":"Your weekly ski travel update, including trending destinations, resort guides and latest news.","successMsg":"Your first Ski & Snow newsletter will arrive in your inbox soon.","api":{"newsletterId":"Snow_and_Ski_NL","channel":"On-page_NL"}},{"name":"travel","audiences":{"channel":"travel"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1811-newsletter-travel/travel.png","title":"Travel Newsletter","frequency":"Twice Weekly","descLoggedIn":"Destination guides, travel advice and the latest news from our experts around the world.","descLoggedOut":"Destination guides, travel advice and the latest news from our experts around the world.","successMsg":"Your first Travel newsletter will arrive in your inbox soon.","api":{"newsletterId":"Travel_NL","channel":"On-page_NL"}},{"name":"gardening","audiences":{"channel":"gardening","author":"joanna fortnam"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1798-newsletter-gardening/gardening.png","title":"Telegraph Gardening","frequency":"Weekly","descLoggedIn":"A weekly newsletter with practical tips and features from our expert writers.","descLoggedOut":"A weekly newsletter with practical tips and features from our expert writers.","successMsg":"Your first Telegraph Gardening newsletter will arrive in your inbox soon.","api":{"newsletterId":"Gardening_NL","channel":"On-page_NL"}},{"name":"stella","audiences":{"keywords":"stella magazine"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-2091-newsletter-stella/stella.png","title":"Telegraph Stella Newsletter","frequency":"Daily","descLoggedIn":"Your seven-day slice of fashion, beauty, food, travel, entertainment, interiors from the Stella magazine team.","descLoggedOut":"Your seven-day slice of fashion, beauty, food, travel, entertainment, interiors from the Stella magazine team.","successMsg":"Your first Telegraph Stella Newsletter will arrive in your inbox soon.","api":{"newsletterId":"Stella_NL","channel":"On-page_NL"}},{"name":"sport-briefing","audiences":{"channel":["sport","womens-sport","womens sport","womens-football","athletics","cycling","swimming","olympics","gymnastics","paralympic-sport"],"keywords":"women\'s sport","pageURL":"football/euro-2020-wallchart-predictor"},"page":["article","predictor"],"subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/TGT-387-newsletter-sport-briefing/sport.png","title":"Sport Briefing","frequency":"Mon - Fri","descLoggedIn":"The day\'s most important stories, plus highlights from our features, analysis and interviews.","descLoggedOut":"The day\'s most important stories, plus highlights from our features, analysis and interviews.","successMsg":"Your first Sport Briefing Newsletter will arrive in your inbox soon.","api":{"newsletterId":"PREMIUM_SPORTS_NL","channel":"On-page_NL"}},{"name":"football","audiences":{"channel":"football","author":"daniel zequiri"},"page":["article","predictor"],"subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1797-newsletter-football/football-nerd.png","title":"The Football Nerd newsletter","frequency":"Weekly (Seasonal)","descLoggedIn":"Delivering facts, stats and match previews to your inbox every Friday during the league season.","descLoggedOut":"Delivering facts, stats and match previews to your inbox every Friday during the league season.","successMsg":"Your first Football Nerd newsletter will arrive in your inbox soon.","api":{"newsletterId":"Football_NL","channel":"On-page_NL"}},{"name":"cricket","audiences":{"channel":"cricket","author":"tim wigmore"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-2089--newsletter-cricket/cricket-nerd.png","title":"Telegraph Cricket Nerd Newsletter","frequency":"Weekly (Seasonal)","descLoggedIn":"Delivering stats and analysis every Wednesday, from the Ashes to the IPL and everything in between.","descLoggedOut":"Delivering stats and analysis every Wednesday, from the Ashes to the IPL and everything in between.","successMsg":"Your first Telegraph Cricket Nerd Newsletter will arrive in your inbox soon.","api":{"newsletterId":"CricketNerd_NL","channel":"On-page_NL"}},{"name":"talking-tv","audiences":{"keywords":["television","line of duty"],"author":"michael hogan"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/tgt-201-newsletter-talking-tv/talking-tv.png","title":"Talking TV Newsletter","frequency":"Weekly","descLoggedIn":"Join us to sift through the clues with our weekly delve into Line of Duty and the rest of the week\'s top TV.","descLoggedOut":"Join us to sift through the clues with our weekly delve into Line of Duty and the rest of the week\'s top TV.","successMsg":"Your first Talking TV newsletter will arrive in your inbox soon.","api":{"newsletterId":"TalkingTV_NL","channel":"On-page_NL"}},{"name":"film","audiences":{"channel":["film","films"],"author":"robbie collin"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1796-newsletter-film/film.png","title":"The Film newsletter","frequency":"Weekly","descLoggedIn":"Our weekly reviews and news, plus Robbie Collin\'s week in film, every Friday.","descLoggedOut":"Our weekly reviews and news, plus Robbie Collin\'s week in film, every Friday.","successMsg":"Your first Film newsletter will arrive in your inbox soon.","api":{"newsletterId":"Film_NL","channel":"On-page_NL"}},{"name":"culture","audiences":{"channel":["culture","tv","music","books","on-demand","theatre","art","radio","comedy","opera","dance","photography","better","film","films"],"author":"tristram saunders"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1808-newsletter-culture/culture.png","title":"Culture newsletter","frequency":"Weekly","descLoggedIn":"The latest art, theatre, book and music reviews.","descLoggedOut":"The latest art, theatre, book and music reviews.","successMsg":"Your first culture newsletter will arrive in your inbox soon.","api":{"newsletterId":"Culture_NL","channel":"On-page_NL"}},{"name":"royals","audiences":{"channel":"royal-family","keywords":"royal family","author":"camilla tominey"},"page":"article","subscriberOnly":true,"img":"https://static.telegraph.co.uk/aem/martech/tgt-229-newsletter-royal/royal.png","title":"Your Royal Appointment","frequency":"Weekly","descLoggedIn":"Everything you need to know about the Royal family with exclusive analysis and content.","descLoggedOut":"Everything you need to know about the Royal family with exclusive analysis and content.","successMsg":"Your first Royal Appointment newsletter will arrive in your inbox soon.","api":{"newsletterId":"Royal_NL","channel":"On-page_NL"}},{"name":"good-news","audiences":{"keywords":["you are not alone","coronavirus positive","happiness","gratitude"],"author":"sarah ebner"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/tgt-365-newsletter-good-news/good-news.png","title":"Good News Newsletter","frequency":"Twice Weekly","descLoggedIn":"Sign up for the Good News Newsletter: A bulletin packed with positive news and uplifting stories of community.","descLoggedOut":"Sign up for the Good News Newsletter: A bulletin packed with positive news and uplifting stories of community.","successMsg":"Your first Good news newsletter will arrive in your inbox soon.","api":{"newsletterId":"YouAreNotAlone_NL","channel":"On-page_NL"}},{"name":"cars","audiences":{"channel":"cars","author":"paul hudson"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1809-newsletter-cars/cars.png","title":"Cars Newsletter","frequency":"Weekly","descLoggedIn":"Your essential motoring digest with news and reviews from around the automotive world.","descLoggedOut":"Your essential motoring digest with news and reviews from around the automotive world.","successMsg":"Your first Cars newsletter will arrive in your inbox soon.","api":{"newsletterId":"Motoring_NL","channel":"On-page_NL"}},{"name":"beauty","audiences":{"channel":"beauty","author":["sonia haria","annabel jones"]},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1800-newsletter-beauty/beauty.png","title":"The Beauty newsletter","frequency":"Weekly","descLoggedIn":"Beauty news and tips from The Telegraph team.","descLoggedOut":"Beauty news and tips from The Telegraph team.","successMsg":"Your first Beauty newsletter will arrive in your inbox soon.","api":{"newsletterId":"BeautyClub_NL","channel":"On-page_NL"}},{"name":"parenting","audiences":{"channel":"family","author":"paul davies","keywords":"parenthood"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1799-newsletter-parenting/parenting.png","title":"Telegraph Parenting","frequency":"Weekly","descLoggedIn":"The biggest issues in family life, the best advice and latest parenting news.","descLoggedOut":"The biggest issues in family life, the best advice and latest parenting news.","successMsg":"Your first Telegraph Parenting newsletter will arrive in your inbox soon.","api":{"newsletterId":"Family_NL","channel":"On-page_NL"}},{"name":"other-news","audiences":{"keywords":["non-coronavirus stories","non coronavirus stories","celebrity interviews","film interviews","culture editor\'s choice","culture editors choice","lifestyle editor\'s choice","lifestyle editors choice"]},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1920-newsletter-in-other-news/in-other-news.png","title":"In Other News","frequency":"Weekly","descLoggedIn":"A positive newsletter dedicated to the top stories with no mention of the coronavirus, including food, culture, interviews and more.","descLoggedOut":"A positive newsletter dedicated to the top stories with no mention of the coronavirus, including food, culture, interviews and more.","successMsg":"Your first In Other News newsletter will arrive in your inbox soon.","api":{"newsletterId":"OtherNews_NL","channel":"On-page_NL"}},{"name":"health","audiences":{"channel":["global-health","news"],"author":["paul nuki","anne gulland","sarah newey"],"keywords":"coronavirus"},"audiencesJoin":["channel","keywords"],"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1747-newsletter-health/health.png","title":"Global Health Bulletin","frequency":"Mon - Fri","descLoggedIn":"Get the latest coronavirus news and advice as the outbreak continues","descLoggedOut":"Get the latest coronavirus news and advice as the outbreak continues","successMsg":"Your first global health security newsletter will arrive in your inbox soon.","api":{"newsletterId":"HealthSecurity_NL","channel":"On-page_NL"}},{"name":"luxury","audiences":{"channel":"luxury","author":"susie rushton"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/cus-1812-newsletter-luxury/luxury.png","title":"Luxury newsletter","frequency":"Weekly","descLoggedIn":"Your weekly dose of expert opinion and exquisite taste, dedicated to the finer things in life.","descLoggedOut":"Your weekly dose of expert opinion and exquisite taste, dedicated to the finer things in life.","successMsg":"Your first Luxury newsletter will arrive in your inbox soon.","api":{"newsletterId":"Luxury_NL","channel":"On-page_NL"}},{"name":"frontpage","audiences":{"channel":["news","science","education-and-careers","education"],"keywords":"uk news"},"audiencesJoin":["channel","keywords"],"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/tgt-93-newsletter/Frontpage_NL.png","title":"Front Page Newsletter","frequency":"Twice Daily","descLoggedIn":"Our essential summary of the most important news, analysis, opinion and lifestyle - a.m and p.m","descLoggedOut":"Our essential summary of the most important news, analysis, opinion and lifestyle - as you wake up and as you commute home","successMsg":"Your first Front Page newsletter will arrive in your inbox soon.","api":{"newsletterId":"Frontpage_NL","channel":"On-page_NL"}},{"name":"strictly","audiences":{"keywords":"strictly come dancing"},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/TGT-285--updates-to-live-newsletter-signups/ballroom-bulletin.png","title":"Ballroom Bulletin","frequency":"Weekly (seasonal)","descLoggedIn":"Everything you need to know about Strictly Come Dancing","descLoggedOut":"Everything you need to know about Strictly Come Dancing","successMsg":"Your first Ballroom Bulletin newsletter will arrive in your inbox soon.","api":{"newsletterId":"Strictly_NL","channel":"On-page_NL"}},{"name":"puzzles","audiences":{"keywords":["puzzles news","brain health","brainpower"]},"page":"article","subscriberOnly":false,"img":"https://static.telegraph.co.uk/aem/martech/TGT-285--updates-to-live-newsletter-signups/puzzles.png","title":"Puzzles","frequency":"Weekly","descLoggedIn":"The latest puzzles news, tricks and tips, special features from our crossword compilers and the Editorâ€™s crossword clues of the month","descLoggedOut":"The latest puzzles news, tricks and tips, special features from our crossword compilers and the Editorâ€™s crossword clues of the month","successMsg":"Your first Puzzles newsletter will arrive in your inbox soon.","api":{"newsletterId":"Puzzles_NL","channel":"On-page_NL"}},{"name":"matt","audiences":{"keywords":["matt","matt pritchett","cartoons"]},"page":["gallery","article"],"subscriberOnly":true,"img":"https://static.telegraph.co.uk/aem/martech/tgt-231-newsletter-matt/matt-newsletter.png","title":"Matt Newsletter","frequency":"Weekly","descLoggedIn":"The brilliant cartoonist gives you an inside look at what inspires his weekly cartoons and offers an exclusive unseen sketch","descLoggedOut":"The brilliant cartoonist gives you an inside look at what inspires his weekly cartoons and offers an exclusive unseen sketch","successMsg":"Your first Matt newsletter will arrive in your inbox soon.","api":{"newsletterId":"Matt_NL","channel":"On-page_NL"}}]')},function(e,t,n){"use strict";var a=n(0);t.a={decrypt:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"bPeShVmYq3t6w9z$",n=window.martech.tools.crypto,a=n.encHex.stringify(n.encBase64.parse(e)),e=a.substring(0,32),a=a.substring(32,a.length-64),t=n.sha256(t),t=n.encHex.stringify(t),t=n.encHex.parse(t.substring(0,t.length/2)),e=n.aes.decrypt({ciphertext:n.encHex.parse(a)},t,{iv:n.encHex.parse(e),padding:n.padPkcs7});return n.encUtf8.stringify(e)},load:function(){if(void 0!==window.martech&&void 0!==window.martech.tools&&void 0!==window.martech.tools.crypto)return new Promise(function(e){Object(a.a)("Crypto Library already loaded."),e()});var n=document.createElement("script");return n.type="text/javascript",n.src="https://www.telegraph.co.uk/martech/js/crypto.min.js",document.head.appendChild(n),new Promise(function(e,t){n.onload=function(){Object(a.a)("Crypto Library Loaded."),e()},n.onerror=function(){Object(a.a)("Failed to load crypto library"),t(new Error("Failed to load crypto library"))}})}}},function(e,t,n){"use strict";var a=n(5),i=n(9),r={loading:{message:"Please wait a moment, do not refresh."},error:{heading:"Sorry, there was an error",register:{message:'Please take a second or two to <a class="martech-one-tap-modal__message-link-error" href="https://secure.telegraph.co.uk/customer/secure/register?ICID=martech-one-tap-journey__reg-error">finish setting up your account.</a>',buttonText:""},update:{message:"Please visit My Account to select your preferences",buttonText:"My Account",buttonUrl:"https://secure.telegraph.co.uk/customer/secure/newsletters?ICID=martech-one-tap-journey__pref-error"}},stepOne:{message:"To complete your registered account set up, select from our range of free newsletters and opt in to receive our latest offers below:",marketing:"I would like to receive by email other offers, promotions and services from Telegraph Media Group Ltd and its group companies",buttonText:"Confirm"},stepTwo:{heading:function(e){return"united kingdom"===e?"You can now start exploring our journalism.":"You can now explore our journalism free for the next 24 hours."},message:function(e){return"united kingdom"===e?'<a class="martech-one-tap-modal__message-link" href="https://secure.telegraph.co.uk/customer/secure/newsletters?ICID=martech-one-tap-journey__further-signups">Sign up</a> for more of our newsletters and enjoy a regular dose of rare insights on the stories and subjects that you care about.':'Enjoy extra insight from our journalists. <a class="martech-one-tap-modal__message-link" href="https://secure.telegraph.co.uk/customer/secure/newsletters?ICID=martech-one-tap-journey__further-signups">Sign up for their newsletters here.</a>'}}};n.d(t,"a",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return u});var o=function(){return'\n\t\t<div class="martech-one-tap-modal__container">\n\t\t\t<header class="martech-one-tap-modal__header">\n\t\t\t\t<svg class="martech-one-tap-modal__icon" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<path class="martech-one-tap-modal__icon-bg" d="M17 0L0 17l17 17 17-17L17 0z"/>\n\t\t\t\t\t<path class="martech-one-tap-modal__icon-logo" d="M10.704 18.795c0-2.707 2.026-4.57 3.957-5.426l.177.231c-.707.789-1.238 1.537-1.238 3.128 0 1.849.49 3.14 1.279 3.984.272-.3.421-.748.421-1.142v-2.638l3.427-2.448.19.258c-.272.422-.49.816-.49 1.455v1.619c0 1.291-2.025 2.57-3.317 3.113.83.748 1.944 1.061 3.155 1.061.49 0 .938-.013 1.346-.081v-7.656c-1.047-.068-2.026-.313-2.937-.571-1.061-.3-2.475-.68-3.386-.68-1.347 0-2.965.448-3.005 2.393 0 .19.013.38.04.598l-.326.11a5.087 5.087 0 01-.354-1.81c-.027-2.447 1.74-4.555 4.596-4.555 1.197 0 2.611.381 3.59.667 1.061.299 2.135.57 3.155.57.517 0 .83-.271.83-.76 0-.49-.259-.722-.68-.83l.068-.34c1.25.23 2.597.979 2.597 2.515 0 1.809-1.36 2.747-3.617 2.747h-.19v7.533c1.386-.299 2.338-.979 3.073-2.107l.299.15c-.775 2.597-2.842 5.126-6.283 5.126-3.521-.014-6.377-2-6.377-6.214z" fill="#222"/>\n\t\t\t\t</svg>\n\t\t\t\t<h1 class="martech-one-tap-modal__heading martech-one-tap-modal--no-margin">Weâ€™re creating your account</h1>\n\t\t\t</header>\n\t\t\t<main class="martech-one-tap-modal__main">\n\t\t\t\t'.concat(c(),"\n\t\t\t</main>\n\t\t</div>")},c=function(){return"\n\t\t".concat(p(),'\n\t\t<p class="martech-one-tap-modal__loading-message">').concat(r.loading.message,"</p>")},s=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?"register":"update";return'\n\t\t<div class="martech-one-tap-modal__error-container">\n\t\t\t<div class="martech-one-tap-modal__error-copy">\n\t\t\t\t<h2 class="martech-one-tap-modal__error-heading martech-one-tap-modal--no-margin">\n\t\t\t\t\t<svg class="martech-one-tap-modal__error-heading-icon" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm1 15H9v-2h2v2zm0-4H9V5h2v6z" fill="#E67350"/></svg>\n\t\t\t\t\t<span>'.concat(r.error.heading,'</span>\n\t\t\t\t</h2>\n\t\t\t\t<p class="martech-one-tap-modal__message martech-one-tap-modal__message--error">').concat(r.error[e].message,"</p>\n\t\t\t</div>\n\t\t\t").concat(r.error[e].buttonText?'<a class="martech-one-tap-modal__error-button" href="'.concat(r.error[e].buttonUrl,'">').concat(r.error[e].buttonText,"</a>"):"","\n\t\t</div>")},l=function(e){return'\n\t\t<p class="martech-one-tap-modal__message">'.concat(r.stepOne.message,'</p>\n\t\t<div class="martech-one-tap-modal__newsletter-cards-container">\n\t\t\t').concat(d(e),'\n\t\t</div>\n\t\t<form>\n\t\t\t<div class="martech-one-tap-modal__input-container martech-one-tap-modal__input-container--checkbox">\n\t\t\t\t<input class="martech-one-tap-modal__checkbox" type="checkbox" name="martechOffers" id="martechOffers" />\n\t\t\t\t<label class="martech-one-tap-modal__input-label" for="martechOffers">\n\t\t\t\t\t<span class="martech-one-tap-modal__checkbox-check"></span>\n\t\t\t\t\t<span class="martech-one-tap-modal__copy-small martech-one-tap-modal__checkbox-text">').concat(r.stepOne.marketing,'</span>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<button class="martech-one-tap-modal__form-button">').concat(r.stepOne.buttonText,"</button>\n\t\t</form>")},u=function(e){return'\n\t\t<img class="martech-one-tap-modal__final-img" src="'.concat(Object(i.a)("Activities/TGT-256--google-one-tap-library","subscription-complete.gif"),'" alt="Illustrated newspaper jumping in the air" />\n\t\t<h2 class="martech-one-tap-modal__heading martech-one-tap-modal__heading--center').concat("united kingdom"!==e?" martech-one-tap-modal__heading--full-width":"",'">').concat(r.stepTwo.heading(e),'</h2>\n\t\t<p class="martech-one-tap-modal__message martech-one-tap-modal__message--center">').concat(r.stepTwo.message(e),"</p>\n\t")},d=function(e){var t="";return e.forEach(function(e){t+=h(e)}),t},h=function(e){return'\n\t\t<article class="martech-one-tap-modal__newsletter-card">\n\t\t\t<img class="martech-one-tap-modal__newsletter-card-img" src="'.concat(e.img,'">\n\t\t\t<div class="martech-one-tap-modal__newsletter-card-info">\n\t\t\t\t<header class="martech-one-tap-modal__newsletter-card-header">\n\t\t\t\t\t<div class="martech-one-tap-modal__newsletter-card-headings">\n\t\t\t\t\t\t<h3 class="martech-one-tap-modal__newsletter-card-sub-heading martech-one-tap-modal--no-margin">').concat(e.frequency,'</h2>\n\t\t\t\t\t\t<h2 class="martech-one-tap-modal__newsletter-card-heading martech-one-tap-modal--no-margin">').concat(e.title,'</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class="martech-one-tap-modal__newsletter-card-button" data-newsletter-id="').concat(e.api.newsletterId,'" data-newsletter-name="').concat(e.name,'" aria-label="').concat(e.name,' newsletter sign up">\n\t\t\t\t\t\t<span class="martech-one-tap-modal__newsletter-card-button-icon-container">').concat(Object(a.o)("martech-one-tap-modal__newsletter-card-button-icon"),'</span>\n\t\t\t\t\t</button>\n\t\t\t\t</header>\n\t\t\t\t<p class="martech-one-tap-modal__newsletter-card-copy martech-one-tap-modal--no-margin">').concat(e.descLoggedIn,"</p>\n\t\t\t</div>\n\t\t</article>")},p=function(){return'\n\t\t<div class="martech-one-tap-modal__loading-spinner-container">\n\t\t\t<div class="martech-one-tap-modal__loading-spinner-center">\n\t\t\t\t<svg class="martech-one-tap-modal__loading-spinner-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70.4 79.2"><path d="M4.9 47.8c0-13.2 10.2-22.3 19.7-26.4l.6.8a20.5 20.5 0 0 0-5.9 15.7c0 9.2 2.5 15.5 6.3 19.6 1.3-1.4 2-3.7 2-5.6V38.3l17.2-12 .7.9c-1.5 2.1-2.3 4-2.3 7.3v8.8c0 6.1-10.2 12.7-16.7 15.2 4.2 4 10.1 5.7 16.5 5.7 2.3 0 4.4-.1 6.3-.4V25.5c-5.6-.3-10.9-1.8-15.7-3.1a57 57 0 0 0-15-2.8c-6.9 0-15.3 2.3-15.4 12.1l.2 2.9-1.3.4A22.4 22.4 0 0 1 23.7 3.7c6 0 11.7 1.5 16.8 2.8a60 60 0 0 0 16 2.9c2.7 0 4.3-1.4 4.3-3.9s-1.3-3.8-3.4-4.3l.2-1.2c6.1 1.1 13 4.6 13 12.2 0 9.2-6.7 13.5-18.2 13.5h-1.2v37.9a22.7 22.7 0 0 0 16.2-10.7l1.2.6c-4.2 13-14 25.2-31.5 25.2-17.7.1-32.2-10-32.2-30.9zM52.3 21c-12.8 0-24.2-6.1-33.5-6.1-6 0-12.8 2.4-15.3 9.1l.4.2c2.8-4.6 9.2-6.1 14.9-6.1 9.3 0 20.7 6.1 33.4 6.1 10.2 0 16.1-3.4 17.2-11.4l-.5-.1c-1.5 6.1-6.4 8.3-16.6 8.3zm-36.5 7.6a27 27 0 0 0-9.2 19.2C6.6 67.3 20.1 77 36.9 77a32 32 0 0 0 22.3-9.8l-.3-.4c-5 3.9-11.7 7.1-22 7.1-13.6 0-26.9-8.2-26.9-26.1A33 33 0 0 1 16.1 29l-.3-.4zm16.9 22.5l-.1-14.4-3.3 2.2v13.4c0 1.5-.3 2.6-.7 3.7h.4c2-1.2 3.7-3.2 3.7-4.9z"></path></svg>\n\t\t\t</div>\n\t\t\t<div class="martech-one-tap-modal__loading-spinner-item-container-1">\n\t\t\t\t<div class="martech-one-tap-modal__loading-spinner-item martech-one-tap-modal__loading-spinner">\n\t\t\t\t\t<div class="martech-one-tap-modal__loading-spinner-scale"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="martech-one-tap-modal__loading-spinner-item-container-2">\n\t\t\t\t<div class="martech-one-tap-modal__loading-spinner-item martech-one-tap-modal__loading-spinner">\n\t\t\t\t\t<div class="martech-one-tap-modal__loading-spinner-scale"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>'}},function(e,t,n){"use strict";var a={prod:{env:"prod",domain:"https://www.telegraph.co.uk",apis:{genericreg:{url:"https://api.telegraph.co.uk/commerce/accounts/genericreg",appId:"gaNiCA6N",appKey:"IiTLZfXiqDM85XI2XP2ywcR5BHDViICV"},identityTokens:{url:"https://api.telegraph.co.uk/identity/tokens",timeout:3e3,method:"POST",body:{grant_type:"refresh_token",client_id:"tcuk"},headers:{app_id:"aKiKii0d",app_key:"lL6Lol4dlaXncI3wgrgTQ5XuRXsOATae","Content-Type":"application/json",Accept:"application/json"},store:{label:"identityTokens",expiryKey:"user_ref_token_expires_in",expiryTime:!1,useStore:!0},encrypt:!1},newslettersMe:{url:"https://api.telegraph.co.uk/commerce/newsletters/me",timeout:3e3,method:"GET",headers:{"Access-Control-Request-Headers":"application/json","Content-Type":"application/json",Accept:"application/json"},store:{label:"newslettersMe",expiryKey:!1,expiryTime:60,useStore:!1},encrypt:!0}},cryptoJS:"bPeShVmYq3t6w9z"},staging:{env:"staging",domain:"http://staging-ams64.telegraph.co.uk",apis:{genericreg:{url:"https://api-preprod.telegraph.co.uk/commerce-api-qa/commerce/accounts/genericreg",appId:"gaNiCA6N",appKey:"IiTLZfXiqDM85XI2XP2ywcR5BHDViICV"},identityTokens:{url:"https://api-preprod.telegraph.co.uk/identity-api-qa/identity/tokens",timeout:2e3,method:"POST",body:{grant_type:"refresh_token",client_id:"tcuk"},headers:{app_id:"aKiKii0d",app_key:"lL6Lol4dlaXncI3wgrgTQ5XuRXsOATae","Content-Type":"application/json",Accept:"application/json"},store:{label:"identityTokens",expiryKey:"user_ref_token_expires_in",expiryTime:!1,useStore:!0},encrypt:!1},newslettersMe:{url:"https://api-preprod.telegraph.co.uk/commerce-api-qa/commerce/newsletters/me",timeout:2e3,method:"GET",headers:{"Access-Control-Request-Headers":"application/json","Content-Type":"application/json",Accept:"application/json"},store:{label:"newslettersMe",expiryKey:!1,expiryTime:60,useStore:!1},encrypt:!0}},cryptoJS:"qawsed12347y8u.t"},qa:{env:"qa",domain:"https://{{env}}.telegraph.co.uk",apis:{genericreg:{url:"https://api.telegraph.co.uk/commerce/accounts/genericreg",appId:"gaNiCA6N",appKey:"IiTLZfXiqDM85XI2XP2ywcR5BHDViICV"},identityTokens:{url:"https://api.telegraph.co.uk/identity/tokens",timeout:2e3,method:"POST",body:{grant_type:"refresh_token",client_id:"tcuk"},headers:{app_id:"aKiKii0d",app_key:"lL6Lol4dlaXncI3wgrgTQ5XuRXsOATae","Content-Type":"application/json",Accept:"application/json"},store:{label:"identityTokens",expiryKey:"user_ref_token_expires_in",expiryTime:!1,useStore:!0},encrypt:!1},newslettersMe:{url:"https://api.telegraph.co.uk/commerce/newsletters/me",timeout:2e3,method:"GET",headers:{"Access-Control-Request-Headers":"application/json","Content-Type":"application/json",Accept:"application/json"},store:{label:"newslettersMe",expiryKey:!1,expiryTime:60,useStore:!1},encrypt:!0}},cryptoJS:"qawsed12347y8u.t"}};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){console.log("ENV",e);var t,n={};for(t in a)t===e?n=a[e]:e.includes("qa")&&(n=a.qa);return function e(t,n){var a,i={};for(a in t)if(Array.isArray(t[a]))for(var r in i[a]=[],t[a])"string"==typeof t[a][r]&&i[a].push(t[a][r].replace("{{env}}",n)),i[a].push(t[a][r]);else"object"===o(t[a])?i[a]=e(t[a]):"string"==typeof t[a]?i[a]=t[a].replace("{{env}}",n):i[a]=t[a];return i}(n=0===Object.keys(n).length&&n.constructor===Object?a.prod:n,e)}t.a=function(){var e=document.location.hostname.split(".");if(e.some(function(e){return/(^|-)qa[0-9]+$/i.test(e)})){var t=e.filter(function(e){return/(^|-)qa[0-9]+$/i.test(e)})[0];return i(t)}return e.some(function(e){return/(^|-)staging(.*)$/i.test(e)})?i("staging"):i("prod")}},function(e,t,n){"use strict";function c(e){return"{".concat(e,"}")}function s(e){var t=!1;try{t=JSON.parse(e)}catch(e){}return t}t.a={tryParse:function(e,t){var n=t||{},a=e,i=[],r=[],t=/[{?,\s]\s*"([^"]|\\")+"\s*:(\s*"([^"]|\\")+"|(.+))\s*[},]/gi,o=/^\s*{?\s*'|'\s*}?\s*$/i;if(!e)return n;if("[object Object]"===Object.prototype.toString.call(e))return e;if(s(a)||((a.match(t)||[]).forEach(function(e){var t,n;e.includes('"label"')&&(n=(t=e.replace(/^\s*[{\s]|[,}]\s*$/gi,"").split(":")[1].replace(/\s*"([^]+|\\")"\s*$/gi,"$1")).replace(/"/gi,'\\"'),n=e.replace(t,n),a=a.replace(e,n))}),i=a.replace(t,"").split(/,(?=(?:[^"]*"[^"]*")*[^"]*$)/)),i.forEach(function(e){e=e.replace(/^\s*{|}\s*$/gi,"");s(c(e))||r.push(e)}),r.forEach(function(e){var t=!1,n=e;!0===o.test(e)&&(n=e.replace(/^\s*'([^']+|\\')':/,'"$1":').replace(/:\s*('')\s*$/,': ""').replace(/:\s*'([^']+|\\')'\s*$/,': "$1"'),t=s(c(n))),t||!0!==/[^"']\w+[^"']:/.test(n)||(n=n.replace(/^\s*(.*?):/,'"$1":'),t=s(c(n))),t&&(a=a.replace(e,n))}),s(a))n=s(a);else try{JSON.parse(a)}catch(e){console.log("martech utility/json failed:",e)}return n},simpleTryParse:s}},function(e,t,a){"use strict";var s=a(0),r=a(10),l=a(117);a.d(t,"a",function(){return n});var n=function(o,c){return new Promise(function(t,n){var a=c?l(o,c):o,e={method:a.method};a.body&&(e.body=JSON.stringify(a.body)),a.headers&&(e.headers=new Headers(a.headers));var i=setTimeout(function(){a.timeout&&(a.didTimeOut=!0,n(new Error("callAPI :: Request timed out")))},a.timeout);if(a.store.useStore&&a.store&&a.store.label){var r=u(a).get();if(r)return t(r)}fetch(a.url,e).then(d).then(function(e){if(clearTimeout(i),!a.didTimeOut)return e.json()}).then(function(e){t(e),a.store&&a.store.label&&u(a).set(e),Object(s.a)("callAPI :: new data fetched and returned for ".concat(a.url))}).catch(function(e){return Object(s.a)(e,"callAPI :: fetch failed."),!a.didTimeOut&&void n(e)})})},u=function(a){var i=Math.round(Date.now()/1e3);return{get:function(){var e=r.a.get("apiData.".concat(a.store.label));if(e){if(a.encrypt&&(e.content=c(e.content)),!(e.expiration&&i>e.expiration))return Object(s.a)("callAPI :: Retrieved stored content for ".concat(a.url,".")),e.content;Object(s.a)("callAPI :: Stored content for ".concat(a.url," too old, purging and fetching new data.")),r.a.del("apiData.".concat(a.store.label))}},set:function(e){var t=a.store.expiryKey,n=a.store.expiryTime,n=t?e[t]:!!n&&60*n+i;a.encrypt&&(e=o(e)),r.a.set("apiData.".concat(a.store.label),{expiration:n,content:e}),Object(s.a)("callAPI :: data stored and available until ".concat(n," for ").concat(a.url))}}},o=function(e){return a(41).encrypt(JSON.stringify(e),"VkX1/ps2tRPpM+5el").toString()},c=function(e){var t=a(41),n=a(118);return JSON.parse(n.stringify(t.decrypt(e,"VkX1/ps2tRPpM+5el")))},d=function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var a=function(e,t){var n;return function(){n=n||setTimeout(function(){e(),n=!1},t)}},i=function(e,t){var n;return function(){n&&clearTimeout(n),n=setTimeout(function(){e(),n=!1},t)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location.href,n=("function"==typeof window.URL?new window.URL(t).search.substring(1):t.split("?")[1]).split("&"),a=0;a<n.length;a++){var i=n[a].split("=");if(i[0]===e)return i[1]}return!1}},function(e,t,n){"use strict";var a=n(9),i=n(5),r="Unlock unlimited access to The Telegraph with this complimentary Digital Subscription. Simply click here to activate: ",o="Activate your complimentary Telegraph subscription today",c="Unlock unlimited access to The Telegraph with this complimentary Digital Subscription. Simply click here to activate: ",s=[{name:"facebook",desktop:!0,url:function(e){return"https://www.facebook.com/sharer.php?u=".concat(encodeURIComponent("".concat(e,"&ICID=").concat("engagement-subs_navigation_facebook-messenger_521_remnav_bonussub")))},label:"Share on Facebook",icon:'<svg class="martech-bonus-subs-notification-card-share-links__link-icon martech-bonus-subs-notification-card-share-links__link-icon--fb" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.117 16a.883.883 0 00.883-.883V.883A.883.883 0 0015.117 0H.883A.883.883 0 000 .883v14.234c0 .488.395.883.883.883h14.234z" fill="#3C5A99"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.04 16V9.804h2.08l.312-2.415H11.04V5.847c0-.699.194-1.175 1.197-1.175h1.278v-2.16c-.221-.03-.98-.096-1.863-.096-1.844 0-3.106 1.126-3.106 3.192V7.39H6.462v2.415h2.085V16h2.494z" fill="#FEFEFE"/></svg>'},{name:"whatsapp",desktop:!1,url:function(e){return"https://wa.me?text=".concat((e=e,encodeURIComponent("".concat(r).concat(e,"&ICID=").concat("engagement-subs_navigation_whatsapp_521_remnav_bonussub"))))},label:"Share on Whatsapp",icon:'<img class="martech-bonus-subs-notification-card-share-links__link-icon martech-bonus-subs-notification-card-share-links__link-icon--whatsapp" src="'.concat(Object(a.a)("Activities/TGT-363--bonus-subs-notifications","whatsapp-icon.png"),'">')},{name:"email",desktop:!0,url:function(e){return"mailto:?".concat((e=e,"to=&subject=".concat(o,"&body=").concat(encodeURIComponent(c+e+"&ICID=".concat("engagement-subs_navigation_mail-to_521_remnav_bonussub")))))},label:"Share on Email",icon:'<svg class="martech-bonus-subs-notification-card-share-links__link-icon martech-bonus-subs-notification-card-share-links__link-icon--email" width="16" height="11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16 1.298l-.96-.965h-14L0 1.298V9.34l.96.965h14L16 9.34V1.3zm-.96 7.076L12.72 3.63l2.32-1.126v5.87zm-14-6.03l2.32 1.125-2.32 4.825v-5.95zM8 5.882l3.76-1.85 2.72 5.307H1.52l2.72-5.387L8 5.882zm7.04-4.584L8 4.756.96 1.298h14.08z" fill="#222"/></svg>'}];n.d(t,"c",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return h}),n.d(t,"b",function(){return p});var l=function(){return'\n\t\t<button class="martech-bonus-subs-notification-button" aria-label="Open notification modal">\n\t\t\t<div class="martech-bonus-subs-notification-button__content">\n\t\t\t\t<svg class="martech-bonus-subs-notification-button__icon" viewBox="0 0 15 16" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<title>Notification icon</title>\n\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M6.6721 2.14032C6.75858 2.13568 6.84566 2.13333 6.93329 2.13333C7.02092 2.13333 7.10801 2.13568 7.19448 2.14032C7.39501 2.04321 7.53329 1.83775 7.53329 1.6C7.53329 1.26863 7.26466 1 6.93329 1C6.60192 1 6.33329 1.26863 6.33329 1.6C6.33329 1.83775 6.47158 2.04321 6.6721 2.14032ZM5.51728 2.34562C5.3998 2.12297 5.33329 1.86925 5.33329 1.6C5.33329 0.716344 6.04964 0 6.93329 0C7.81695 0 8.53329 0.716344 8.53329 1.6C8.53329 1.86925 8.46679 2.12297 8.3493 2.34562C10.3091 2.94981 11.7333 4.77525 11.7333 6.93333V10.6305C11.7333 10.6539 11.7415 10.6765 11.7565 10.6945L13.3166 12.5667L13.3777 12.6399L13.7594 13.0981L13.9899 13.3746C14.1527 13.57 14.0138 13.8667 13.7594 13.8667H13.3994H12.8031H12.7077H8.44225C8.50121 14.0335 8.53329 14.213 8.53329 14.4C8.53329 15.2837 7.81695 16 6.93329 16C6.04964 16 5.33329 15.2837 5.33329 14.4C5.33329 14.213 5.36538 14.0335 5.42434 13.8667H1.56236H1.51585H1.01051H0.560514C0.320906 13.8667 0.177988 13.5996 0.310899 13.4003L0.560514 13.0258L0.840823 12.6054L0.866626 12.5667L2.1165 10.6919C2.12745 10.6754 2.13329 10.6561 2.13329 10.6364V6.93333C2.13329 4.77525 3.55749 2.94981 5.51728 2.34562ZM6.93329 3.43333C5.0003 3.43333 3.43329 5.00034 3.43329 6.93333V10.6364C3.43329 10.9128 3.35149 11.183 3.19816 11.413L3.19815 11.413L2.42903 12.5667H11.6244L10.7578 11.5267L10.7578 11.5267C10.5481 11.2751 10.4333 10.958 10.4333 10.6305V6.93333C10.4333 5.00034 8.86629 3.43333 6.93329 3.43333Z"/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t</button>'},u=function(e){return"\n\t\t".concat(Object(i.n)("martech-bonus-subs-notification-toast__icon"),'\n\t\t<p class="martech-bonus-subs-notification-toast__message-txt">').concat(e,"</p>\n\t")},d=function(){return'\n\t\t<header class="martech-bonus-subs-notification-card-header">\n\t\t\t<h3 class="martech-bonus-subs-notification-card-header__heading">Reminders</h3>\n\t\t\t<button class="martech-bonus-subs-notification-card-header__close" aria-label="Close notification modal">\n\t\t\t\t'.concat(Object(i.o)("martech-bonus-subs-notification-card-header__close-icon"),"\n\t\t\t</button>\n\t\t</header>")},h=function(e){return'\n\t\t<img class="martech-bonus-subs-notification-card-main__img" src="'.concat(Object(a.a)("Activities/TGT-363--bonus-subs-notifications","bonus-subscription-gift.png"),'" alt="One person handing another person a present which has a Telegraph gift card attached to it" />\n\t\t<h2 class="martech-bonus-subs-notification-card-main__heading">You have a bonus subscription to share</h2>\n\t\t<p class="martech-bonus-subs-notification-card-main__copy">Share yours with anyone you like, at no additional cost, using your unique link below.</p>\n\t\t<button class="martech-bonus-subs-notification-card-main__cta" id="martech-bonus-subs-copy-cta">Copy your link</button>\n\t\t<p class="martech-bonus-subs-notification-card-main__copy martech-bonus-subs-notification-card-main__copy--sm">Or send your link via</p>\n\t\t<div class="martech-bonus-subs-notification-card-share-links">\n\t\t\t').concat(f(e),"\n\t\t\t").concat(window.navigator.share?g():"",'\n\t\t</div>\n\t\t<p class="martech-bonus-subs-notification-card-main__copy martech-bonus-subs-notification-card-main__copy--xs">If you share this link, please make sure that the person you\'re referring has consented to receive the link in this manner.</p>\n\t')},p=function(){return'\n\t\t<img class="martech-bonus-subs-notification-card-main__img" src="'.concat(Object(a.a)("Activities/TGT-363--bonus-subs-notifications","magnifying-glass.png"),'" alt="Person holding out a magnifying glass" />\n\t\t<h2 class="martech-bonus-subs-notification-card-main__heading">Nothing to see here...</h2>\n\t\t<p class="martech-bonus-subs-notification-card-main__copy">You don\'t have any reminders at the moment. In the meantime, explore all your subscriber benefits today to make the most of your subscription</p>\n\t\t<div class="martech-bonus-subs-notification-card-main__cta-container">\n\t\t\t<a class="martech-bonus-subs-notification-card-main__cta martech-bonus-subs-notification-card-main__cta-link martech-bonus-subs-notification-card-main__cta-link--no-margin" href="https://www.telegraph.co.uk/contact-us/explore-your-subscription/?icid=engagement-subs_navigation_reminders_521_remnav_eys">Explore your subscription</a>\n\t\t</div>')},f=function(t){var n="";return s.forEach(function(e){e='\n\t\t\t<a class="martech-bonus-subs-notification-card-share-links__link '.concat(e.desktop?"martech-bonus-subs-notification-card-share-links__link--desktop":"",'" href="').concat(e.url(t),'" target="_blank" rel="nofollow noopener" aria-label="').concat(e.label,'" data-link-name="').concat(e.name,'" id="martech-share-bonus-sub">\n\t\t\t\t').concat(e.icon,'\n\t\t\t\t<span class="martech-bonus-subs-notification-card-share-links__link-text">').concat(e.name,"</span>\n\t\t\t</a>");n+=e}),n},g=function(){return'\n\t\t<a class="martech-bonus-subs-notification-card-share-links__link martech-bonus-subs-notification-card-share-links__link--other" href="#">\n\t\t\t<svg class="martech-bonus-subs-notification-card-share-links__link-icon martech-bonus-subs-notification-card-share-links__link-icon--other" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 16l1-1V8h-1v7H1V8H0v7l1 1h14zM3.4 4.6v.85l4.1-2.6v7.2h1.2V3l3.95 2.45V4.6L8 0 3.4 4.6z" fill="#767676"/></svg>\n\t\t\t<span class="martech-bonus-subs-notification-card-share-links__link-text">Other</span>\n\t\t</a>'}},function(e,t,n){"use strict";t.a=function(e){var t,n={nyytq4zthbvwsoliojugwyzzmyzha3dt:"std",nbrdk4rzgjwte4dmnnzhgobuobvwgytm:"ada","subscribe/students/":"student","secure/login":"login"};for(t in n)if(e&&e.includes(t))return n[t]}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){e&&(e=e.replace("Activities/",""),e="martech-".concat(e),(e=document.querySelector("#".concat(e)))&&e.parentNode.removeChild(e))}},function(e){e.exports=JSON.parse('{"user":{"pid":false,"last_seen":false,"current_seen":false},"count":{"page_views":0,"index_views":0,"homepage_views":0,"articles_views":0,"sub_funnel_views":0,"my_account_views":0,"my_feed_views":0},"boolean":{"seen_homepage":false,"seen_any_index_page":false,"seen_any_article":false,"seen_my_account":false,"seen_my_feed":false},"history":{"previous_page":false,"current_page":false,"last_three_pages":[],"last_three_articles":[],"last_three_index_pages":[],"last_three_article_tags":[]},"most":{"read_author":false,"read_category":false,"read_bis_segment":false,"read_tag":false}}')},function(e,t,n){var a;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t,n=(t=e).lib,a=n.Base,u=n.WordArray,i=t.algo,n=i.MD5,r=i.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:n,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,a=n.hasher.create(),i=u.create(),r=i.words,o=n.keySize,c=n.iterations;r.length<o;){s&&a.update(s);var s=a.update(e).finalize(t);a.reset();for(var l=1;l<c;l++)s=a.finalize(s),a.reset();i.concat(s)}return i.sigBytes=4*o,i}});return t.EvpKDF=function(e,t,n){return r.create(n).compute(e,t)},e.EvpKDF},"object"===i(t)?e.exports=t=a(n(13),n(44),n(45)):(n=[n(13),n(44),n(45)],void 0===(a="function"==typeof(a=a)?a.apply(t,n):a)||(e.exports=a))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(6),i=function(r){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{root:null,rootMargin:"0px 0px 0px 0px",threshold:0};return new Promise(function(i,e){Object(a.a)(r).then(function(){var t,n,a=document.querySelector(r);"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?(t=new IntersectionObserver(function(e){0<e[0].intersectionRatio&&(i(a),t.unobserve(e[0].target))},o)).observe(a):n=setInterval(function(){var e;0<=(e=a.getBoundingClientRect()).top+(a.offsetHeight||0)&&0<=e.left&&e.bottom-(a.offsetHeight||0)<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)&&(i(a),clearInterval(n))},1e3)})})}},function(e,t,n){"use strict";t.a=function(e){if(e&&"string"==typeof e&&e.includes("=")){var t=e.replace(/[{} ]/g,"").split(",").map(function(e){var t=e.split("="),n={},e=t[0],t=t[1];return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n});return Object.assign.apply(Object,[{}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(t=t)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()))}return e||""}},function(e,t,n){"use strict";var i=n(14);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.d(t,"a",function(){return r});var r=(t=[{key:"init",value:function(){return this.data=this.getContent(this.contentMap,this.attributes),this.getTemplate(this.templateType,this.data,this.icids)}},{key:"getContent",value:function(e,t){function n(e,t){return Array.isArray(e)&&e.length?e[0]:t}function a(e,t){return e=Object.keys(e).filter(function(e){return e===t}),!!(Array.isArray(e)&&0<e.length)&&e}var i,r={},o=e[this.templateType];for(i in o){var c=n(a(o[i],t.section),"defaultSection"),s=n(a(o[i][c],t.region),"defaultRegion"),l=n(a(o[i][c][s],t.product),"defaultProduct");r[i]=o[i][c][s][l]}return r}},{key:"getTemplateType",value:function(e){return("login"!==e.product?"offer-":"login-").concat(e.type,"-").concat(e.state)}},{key:"getTemplate",value:function(e,t,n){switch(e){case"offer-article-reg":return this.templates.offerArticleReg(t,n);case"login-article-reg":return this.templates.loginArticleReg(t,n);case"login-article-sub":return this.templates.loginArticleSub(t,n);case"offer-gallery-anon":return this.templates.offerGalleryAnon(t,n);case"offer-gallery-reg":return this.templates.offerGalleryReg(t,n);case"login-gallery-reg":return this.templates.loginGalleryReg(t,n);case"login-gallery-sub":return this.templates.loginGallerySub(t,n);default:return this.templates.offerArticleAnon(t,n)}}},{key:"product",value:function(){for(var e in this.traits.product)if(this.config.campaignId.includes(e))for(var t in this.traits.product[e])if(this.config.experienceNumber.toString().includes(t))return this.traits.product[e][t]}},{key:"state",value:function(){for(var e in this.traits.state)if(this.config.userStatus.includes(e))return"sub"===this.traits.state[e]&&"sport"===this.config.subscriberType?"reg":this.traits.state[e]}},{key:"type",value:function(){for(var e in this.traits.type)if(this.config.contentType.includes(e))return this.traits.type[e];return"article"}},{key:"region",value:function(){return Object(i.a)(this.config.geoCountry).region}},{key:"section",value:function(){return this.config.channel}}],a(o.prototype,t),o);function o(e,t,n,a){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.templates=t,this.traits={product:{291571:{0:"standard",1:"ada"},203949:{0:"login"},225405:{0:"notstudentuni"}},state:{anonymous:"anon",registered:"reg",subscriber:"sub"},type:{story:"article",live:"article",video:"article",longform:"article",gallery:"gallery"}},this.attributes={product:this.product(),state:this.state(),region:this.region(),type:this.type(),section:this.section()},this.contentMap=n(Object(i.a)(this.config.geoCountry)),this.templateType=this.getTemplateType(this.attributes),this.icids=a(this.attributes)[this.templateType]}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var a=n(5),i=n(7),r=function(e){return"".concat(Object(a.q)("martech-escenic-regwall__logo"),'\n\t\t<div class="martech-escenic-regwall__details">\n\t\t\t<div class="martech-escenic-regwall__title">').concat(e.title,'</div>\n\t\t\t<div class="martech-escenic-regwall__excerpt">').concat(e.excerpt,'</div>\n\t\t</div>\n\t\t<div class="martech-escenic-regwall__group">\n\t\t\t<div class="martech-escenic-regwall__group-container">\n\t\t\t\t<a class="martech-escenic-regwall__cta" href="" onclick="event.preventDefault(); location.href=\'').concat(Object(i.a)(e.offerURL+"?ICID=".concat(e.offerICID)),"';\">").concat(e.offerCTA,'</a>\n\t\t\t\t<img class="martech-escenic-regwall__img" src="').concat(e.img,'"></img>\n\t\t\t</div>\n\t\t\t<div class="martech-escenic-regwall__login">\n\t\t\t\t<div class="martech-escenic-regwall__login-container">').concat(e.login,'\n\t\t\t\t\t<a class="martech-escenic-regwall__login-cta" href="" onclick="event.preventDefault(); location.href=\'').concat(Object(i.a)(e.loginURL+"?ICID=".concat(e.loginICID)),"';\">").concat(e.loginCTA,"</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>")},o=function(e){return'<div class="martech-escenic-paywall__container">\n\t\t\t<h1 class="martech-escenic-paywall__title">'.concat(e.title,'</h1>\n\t\t\t<p class="martech-escenic-paywall__excerpt">').concat(e.excerpt,'</p>\n\t\t\t<a class="martech-escenic-paywall__cta" href="" onclick="event.preventDefault(); location.href=\'').concat(Object(i.a)(e.offerURL+"&ICID=".concat(e.offerICID)),"';\">").concat(e.offerCTA,'</a>\n\t\t\t<p class="martech-escenic-paywall__description">').concat(e.description||"",'</p>\n\t\t</div>\n\t\t<div class="martech-escenic-paywall__login">\n\t\t\t<div class="martech-escenic-paywall__login-container">').concat(e.login,'\n\t\t\t\t<a class="martech-escenic-paywall__login-cta" href="" onclick="event.preventDefault(); location.href=\'').concat(Object(i.a)(e.loginURL+"?ICID=".concat(e.loginICID)),"';\">").concat(e.loginCTA,"</a>\n\t\t\t</div>\n\t\t</div>")}},function(e,t,n){"use strict";t.a=function(){return{240295:{layout:"mobile",type:"regwall"},240308:{layout:"tablet",type:"regwall"},240133:{layout:"desktop",type:"regwall"},251808:{layout:"mobile",type:"paywall"},251809:{layout:"tablet",type:"paywall"},251810:{layout:"desktop",type:"paywall"}}}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var a=n(7),i=function(e,t,n){t="https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP047&campaignId=052A&ICID=".concat(t);return'<div class="martech-aem-soft-paywall__container">\n\t\t\t<h1 class="martech-aem-soft-paywall__title">The June Sale </br>3 months for just Â£1</h1>\n\t\t\t<p class="martech-aem-soft-paywall__excerpt">Stay expertly informed, inspired and entertained this summer. <span class="martech-aem-soft-paywall__bold">Try one month of a Digital Subscription free, then two months for just 50p each. Cancel anytime.</span></p>\n\t\t\t<a class="martech-aem-soft-paywall__cta" href="'.concat(Object(a.a)(t),'">Start your free trial</a>\n\t\t</div>')},r=function(e,t,n){t="https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP000&campaignId=038A&ICID=".concat(t);return'<div class="martech-aem-soft-paywall__container">\n\t\t\t<h1 class="martech-aem-soft-paywall__title">Subscribe now to try one month free</h1>\n\t\t\t<p class="martech-aem-soft-paywall__excerpt">Stay expertly informed anytime, anywhere. Enjoy unlimited website access, plus the latest news updates and the daily newspaper in our exclusive app. Cancel anytime.</p>\n\t\t\t<a class="martech-aem-soft-paywall__cta" href="'.concat(Object(a.a)(t),'">Start your free trial</a>\n\t\t</div>')}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var a=n(7),i=function(e,t,n){t="https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP001&campaignId=038A&ICID=".concat(t),n={title:"Try 4 whole months for just ".concat(n.price(3),' in total. <br class="martech-non-engaged-reg-overlay__linebreak--tablet">Cancel anytime.'),excerpt:"Get up to speed at your pace with a Digital Subscription. Enjoy unlimited website access, plus the latest news updates and the daily newspaper in our exclusive app.",ctaText:"Start your free trial"};return'<div class="martech-non-engaged-reg-overlay__container">\n\t\t\t<h1 class="martech-non-engaged-reg-overlay__title">'.concat(n.title,'</h1>\n\t\t\t<p class="martech-non-engaged-reg-overlay__excerpt">').concat(n.excerpt,'</p>\n\t\t\t<a class="martech-non-engaged-reg-overlay__cta" href="').concat(Object(a.a)(t),'">').concat(n.ctaText,"</a>\n\t\t</div>")},r=function(e,t,n){t="https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP001&campaignId=038A&ICID=".concat(t);return'<div class="martech-non-engaged-reg-overlay__container">\n\t\t\t<h1 class="martech-non-engaged-reg-overlay__title">'.concat("Subscribe now to save over 85%",'</h1>\n\t\t\t<p class="martech-non-engaged-reg-overlay__excerpt">').concat('<span class="martech-non-engaged-reg-overlay__bold">Enjoy your first four months for just Â£3 in total</span> and follow every crucial step on the road to lifting restrictions with our award-winning team. Gain unrivalled clarity with a Digital Subscription today.','</p>\n\t\t\t<a class="martech-non-engaged-reg-overlay__cta" href="').concat(Object(a.a)(t),'">').concat("Start your free trial","</a>\n\t\t</div>")}},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c});var a=n(7),i=n(9),r=n(5),o=function(e){return'<div class="mtech-pend-canc-overlay__container">\n\t\t\t<h1 class="mtech-pend-canc-overlay__title">'.concat(e.title,'</h1>\n\t\t\t<p class="mtech-pend-canc-overlay__excerpt">').concat(e.excerpt,'</p>\n\t\t\t<p class="mtech-pend-canc-overlay__excerpt mtech-pend-canc-overlay__excerpt--mobile">').concat(e.excerptmobile,'</p>\n\t\t\t<div class="mtech-pend-canc-overlay__bottom">\n\t\t\t\t<a class="mtech-pend-canc-overlay__cta" href=\'').concat(Object(a.a)(e.landingpage+"?ICID=".concat(e.icid)),"'>").concat(e.cta,'</a>\n\t\t\t\t<img class="mtech-pend-canc-overlay__artwork" src="').concat(Object(i.a)("Activities/TGT-403--pending-canc-payment-fail-overlay","tablet_artwork.svg"),'">\n\t\t\t\t<img class="mtech-pend-canc-overlay__artwork mtech-pend-canc-overlay__artwork--mobile" src="').concat(Object(i.a)("Activities/TGT-403--pending-canc-payment-fail-overlay","tablet_artwork_mobile.svg"),'">\n\t\t\t</div>\n\t\t</div>')},c=function(e){return'<div class="mtech-fail-payment__container">\n\t\t\t<h1 class="mtech-fail-payment__title">'.concat(Object(r.a)("mtech-fail-payment__alert")," ").concat(e.title,'</h1>\n\t\t\t<p class="mtech-fail-payment__excerpt">').concat(e.excerpt,'</p>\n\t\t\t<div class="mtech-fail-payment__bottom">\n\t\t\t\t<a class="mtech-fail-payment__cta" href=\'').concat(Object(a.a)(e.landingpage+"?ICID=".concat(e.icid)+"".concat(e.queryparameters?"&"+e.queryparameters:"")),"'>").concat(e.cta,"</a>\n\t\t\t</div>\n\t\t</div>")}},function(e,t,n){"use strict";t.a=function(e){a(e),i(e),o(),"new"===e?r():(c(),s())};var a=function(e){var t="old"===e?document.querySelector(".article__sidebar .snippetReference "):document.querySelector(".article__sidebar .more-stories");t&&(t.classList="",t.classList.add("martech-new-paywall-mechanism__flex"),"old"===e&&t.classList.add("martech-new-paywall-mechanism__flex--old"))},i=function(e){var t=document.querySelector(".article__sidebar"),n="old"===e?document.querySelector(".row.article__related"):document.querySelector(".u-separator-four-lines.container .grid .grid-col"),a=document.querySelector(".page-article.container");"old"===e?t&&n&&a&&(a.insertBefore(t,n),t.classList.add("martech-new-paywall-mechanism__rhr-container","martech-new-paywall-mechanism__rhr-container--old")):t&&n&&(t.classList.remove("article__sidebar"),t.classList.add("martech-new-paywall-mechanism__rhr-container"),n.insertBefore(t,n.childNodes[0]))},r=function(){var e=document.querySelector(".article__layout--content");e&&e.classList.add("martech-new-paywall-mechanism__full-width")},o=function(){var e,t,n=document.querySelector("#advert_tmg_nat_story_sidebar"),a=document.querySelector(".commercial-unit.commercial-unit--sidebar");n&&a&&(e=document.createElement("div"),t=document.querySelector(".martech-new-paywall-mechanism__rhr-container"),e.classList.add("martech-new-paywall-mechanism__rhr-ads-container"),e.insertBefore(a,e.childNodes[0]),e.insertBefore(n,e.childNodes[0]),t&&t.insertBefore(e,t.childNodes[0]))},c=function(){var e=document.querySelector(".article__content.js-article"),t=document.querySelector(".article__breadcrumb");e&&e.classList.add("martech-new-paywall-mechanism__article-center"),t&&t.classList.add("martech-new-paywall-mechanism__article-center","martech-new-paywall-mechanism__article-center--narrow")},s=function(){var e=document.querySelector(".article__spark"),t=document.querySelector(".article__related"),n=document.querySelector(".page-article.container");e&&t&&n&&n.insertBefore(e,t)}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var i=n(5),a=function(e,t){return'\n\t\t<header class="martech-in-life-newsletter__header">\n\t\t\t<button class="martech-modal-component__close">'.concat(Object(i.o)("martech-modal-component__close-icon"),'</button>\n\t\t\t<h1 class="martech-in-life-newsletter__h1 martech-in-life-newsletter__main-heading">').concat(e?"".concat(e,", w"):"W",'e\'ve handpicked these newsletters for you</h1>\n\t\t\t<h2 class="martech-in-life-newsletter__sub-heading">Choose the extra insight that you\'d like to receive from our journalists below.</h2>\n\t\t\t<svg class="martech-in-life-newsletter__header-bottom-border" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.18 14.16" height="10" width="30"><rect stroke="none" width="39.18" height="0.75"/><path d="M39.18.53c-15,0-18.92,6.58-18.92,13.63C20.26,2,6.54.57,0,.53"/></svg>\n\t\t</header>\n\t\t<section class="martech-in-life-newsletter__cards-wrapper">\n\t\t\t<div class="martech-in-life-newsletter__cards-container">\n\t\t\t\t').concat(o(t),'\n\t\t\t</div>\n\t\t\t<svg class="martech-in-life-newsletter__cards-wrapper-bottom-border" width="768" height="23" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M394.243 1.981H768" stroke="#494949"/><path d="M0 1h374.388c9.774 0 12.36 5.748 12.36 11.913V22.92" stroke="#494949" stroke-miterlimit="10"/><path d="M392.245 18.154c-2.971 0-5.497 2.19-5.497 4.766 0-2.576-2.525-4.766-5.496-4.766" stroke="#494949" stroke-miterlimit="10"/></svg>\n\t\t</section>\n\t\t<footer class="martech-in-life-newsletter__footer">\n\t\t\t<div class="martech-in-life-newsletter__link-container">\n\t\t\t\t<a class="martech-in-life-newsletter__link" href="https://secure.telegraph.co.uk/customer/secure/newsletters?ICID=in-life-newsletter-recs-overlay--footer-link">\n\t\t\t\t\t').concat(Object(i.g)("martech-in-life-newsletter__link-svg martech-in-life-newsletter__link-svg--quiver"),'\n\t\t\t\t\t<span class="martech-in-life-newsletter__link-text">\n\t\t\t\t\t\tExplore more newsletters\n\t\t\t\t\t\t<svg class="martech-in-life-newsletter__link-icon" width="18" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M.016 6.077l16 .034M12 11.332c.009-2.83 2.314-5.229 5.016-5.22-2.702-.009-4.992-2.42-4.983-5.25" stroke-miterlimit="10"/></svg>\n\t\t\t\t\t</span>\n\t\t\t\t\t').concat(Object(i.d)("martech-in-life-newsletter__link-svg martech-in-life-newsletter__link-svg--arrow-head"),"\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</footer>\n\t")},r=function(){return'\n\t\t<div class="martech-in-life-newsletter__error-message">\n\t\t\t\x3c!-- icon goes here --\x3e\n\t\t\t<div class="martech-in-life-newsletter__error-message-content">\n\t\t\t\t<h2 class="martech-in-life-newsletter__error-message-heading">\n\t\t\t\t\t<svg class="martech-in-life-newsletter__error-message-heading-icon" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm1 15H9v-2h2v2zm0-4H9V5h2v6z" fill="#E67350"/></svg>\n\t\t\t\t\t<span>Sorry, that didn\'t work</span>\n\t\t\t\t</h2>\n\t\t\t\t<p class="martech-in-life-newsletter__error-message-copy">Please visit <a class="martech-in-life-newsletter__error-message-link" href="https://secure.telegraph.co.uk/customer/secure/newsletters?ICID=in-life-newsletter-recs-overlay--signup-fail-link">My Account</a> to finish signing up for this newsletter</p>\n\t\t\t</div>\n\t\t\t<a class="martech-in-life-newsletter__error-message-button" href="https://secure.telegraph.co.uk/customer/secure/newsletters?ICID=in-life-newsletter-recs-overlay--signup-fail-cta">My account</a>\n\t\t</div>\n\t'},o=function(e){var a="";return e.forEach(function(e,t){var n;a+='\n\t\t<article class="martech-in-life-newsletter__card-container">\n\t\t\t<div class="martech-in-life-newsletter__card">\n\t\t\t\t<img class="martech-in-life-newsletter__card-img" src="'.concat((n=e).img,'" alt="').concat(n.imgAlt,'" />\n\t\t\t\t<div class="martech-in-life-newsletter__card-content">\n\t\t\t\t\t<header class="martech-in-life-newsletter__card-header">\n\t\t\t\t\t\t<div class="martech-in-life-newsletter__card-headings">\n\t\t\t\t\t\t\t<h2 class="martech-in-life-newsletter__card-sub-heading">').concat(n.frequency,'</h2>\n\t\t\t\t\t\t\t<h1 class="martech-in-life-newsletter__h1 martech-in-life-newsletter__card-main-heading">').concat((e=n.name)&&-1!==e.toLowerCase().indexOf("-")?e.replace("-"," "):e,'</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class="martech-in-life-newsletter__card-button" data-newsletter-id="').concat(n.api.newsletterId,'" data-newsletter-name="').concat(n.name,'" aria-label="').concat(n.name,' newsletter sign up">\n\t\t\t\t\t\t\t<span class="martech-in-life-newsletter__card-button-icon-container">').concat(Object(i.o)("martech-in-life-newsletter__card-button-icon"),'</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</header>\n\t\t\t\t\t<p class="martech-in-life-newsletter__card-copy">').concat(n.descLoggedIn,"</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</article>\n\t")}),a}},function(e,b,v){"use strict";!function(o){v.d(b,"a",function(){return e}),v.d(b,"b",function(){return t});var f=v(16),c=v(0),s=v(15);function a(e){return!e.audiencesJoin.filter(function(e){return Array.isArray(e)})[0]}var e=function(e){var n=[];return e&&e.forEach(function(t){var e=f.filter(function(e){return t===e.api.newsletterId})[0];e&&n.push(e)}),n},t=function(i,r){return new Promise(function(t,n){var a=["BreakingNews_NL"],e=u(a,i);a.unshift(i.businSegment&&"sport"===i.businSegment.toLowerCase()?"PREMIUM_SPORTS_NL":"Frontpage_NL"),e?(a.unshift(e),t(a)):Object(s.c)(r).then(function(e){a.unshift(l(e,a)),t(a)}).catch(function(e){Object(c.a)("Issue getting the top priority newsletter at ".concat(o),e),n(e)})})},l=function(e,t){e=e.newsletters;if(e){e=n(e);return i(e,t)}return"EconomicIntel_NL"},n=function(e){return e.filter(function(e){return 1<=e.priority}).sort(function(e,t){return e.priority-t.priority})},i=function(e,t){return e.filter(function(e){return!t.includes(e.id)})[0].id},u=function(t,n){var e=f.filter(function(e){return!e.subscriberOnly}),a=e.filter(function(e){return e.recs&&e.recs.includes(n.channel)&&!t.includes(e.api.newsletterId)}),i=e.filter(function(e){return!a.includes(e)&&!t.includes(e.api.newsletterId)});if(["story","live","video","gallery"].includes(n.contentType)&&0<a.length&&!m(a,n))return g(t);var r=!0,o=!1,e=void 0;try{for(var c,s=a[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var l=c.value;if(y(l,n))return l.api.newsletterId}}catch(t){o=!0,e=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw e}}var u=!0,o=!1,e=void 0;try{for(var d,h=i[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var p=d.value;if(y(p,n))return p.api.newsletterId}}catch(t){o=!0,e=t}finally{try{u||null==h.return||h.return()}finally{if(o)throw e}}},g=function(e){window.tmg.pubsub.subscribe({topic:"tmg.martech.newsletter.recs.ready",func:function(){return r(e)},runIfAlreadyPublished:!0})},m=function(e,t){return e.length&&e.some(function(e){return y(e,t)})},y=function(e,t){if(e.audiences)for(var n=0,a=Object.entries(e.audiences);n<a.length;n++){i=(i=a[n],r=1,(function(e){if(Array.isArray(e))return e}(i)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw r}}return n}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[0]),r=h(e,i,!1,t)&&p(e,i)&&d(e,t),i=h(e,i,!1,t)&&!p(e,i);if(r||i)return!0}var i,r},r=function(e){var t=!0,n=!1,a=void 0;try{for(var i,r=window.dataLayer.martech.recommendedNLs[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;if(!e.includes(o))return o}}catch(e){n=!0,a=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw a}}},d=function(t,n){function e(e){return e.every(function(e){return h(t,e,!1,n)})}return a(t)?e(t.audiencesJoin):t.audiencesJoin.some(e)},h=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=3<arguments.length?arguments[3]:void 0,e=n||e.audiences[t];return Array.isArray(e)?!!e.filter(function(e){return a[t].includes(e)})[0]:a[t].includes(e)},p=function(e,t){if(e.audiencesJoin){var n=function(e){return e.some(function(e){return e===t})};return a(e)?n(e.audiencesJoin):e.audiencesJoin.some(n)}}}.call(this,"Activities/TGT-256--google-one-tap-library/_partials")},function(e,t,n){"use strict";function a(e){return'<div class="martech-newsletter-unit__title">Thank you for signing up</div>\n\t\t<div class="martech-newsletter-unit__head">\n\t\t\t<img class="martech-newsletter-unit__img" src="'.concat(e.img,'"/>\n\t\t\t<div class="martech-newsletter-unit__content">\n\t\t\t\t<div class="martech-newsletter-unit__title">Thank you for signing up</div>\n\t\t\t\t<div class="martech-newsletter-unit__desc">').concat(e.successMsg,'</div>\n\t\t\t\t<a class="martech-newsletter-unit__more martech-newsletter-unit__more--sucess" href="https://www.telegraph.co.uk/newsletters/homepage/">See more Telegraph newsletters').concat(Object(c.h)("martech-newsletter-unit__icon-arrow"),"</a>\n\t\t\t</div>\n\t\t</div>")}function i(e){return'<div class="martech-newsletter-unit__title">Whoops!</div>\n\t\t<div class="martech-newsletter-unit__head">\n\t\t\t<img class="martech-newsletter-unit__img" src="'.concat(e.img,'"/>\n\t\t\t<div class="martech-newsletter-unit__content">\n\t\t\t\t<div class="martech-newsletter-unit__title">Whoops!</div>\n\t\t\t\t<div class="martech-newsletter-unit__desc">There has been an issue, please try again later.</div>\n\t\t\t\t<a class="martech-newsletter-unit__more" href="https://www.telegraph.co.uk/newsletters/homepage/">See more Telegraph newsletters').concat(Object(c.h)("martech-newsletter-unit__icon-arrow"),"</a>\n\t\t\t</div>\n\t\t</div>")}function r(){var e=document.createElement("article");return e.classList.add("martech-cookbook"),e.innerHTML='\n\t<header class="martech-cookbook-header">\n\t\t<h1 class="martech-cookbook-header__heading">\n\t\t\t<a href="https://www.telegraph.co.uk/recipes/?ICID=lifestyle_cookbook_logolink_endofarticle">\n\t\t\t\t<svg viewBox="0 0 190.19 41.81">\n\t\t\t\t\t<title>Cookbook</title>\n\t\t\t\t\t<path d="M24.93,29.3l.75.19-.05.23c-1.7,8-5.54,12.09-11.4,12.09C7.15,41.81,0,35.47,0,21.3,0,7.84,7.59.8,15.09.8a10,10,0,0,1,5.14,1.39c.34.19.63.37.9.53a4.35,4.35,0,0,0,2.06.87c.75,0,1.26-.47,1.56-1.42L24.8,2h.57V13.33h-.22v.25h-.32l0-.18a28,28,0,0,0-2.86-7C20.49,4,18.66,1.56,15,1.56A6.32,6.32,0,0,0,9.76,4.77c-2.48,3.59-3.58,8.68-3.58,16.5,0,7.28,1.25,12.56,3.84,16.12a7.23,7.23,0,0,0,5.74,3c4.37,0,7.61-3.86,9.12-10.86Zm24.8-.93a14,14,0,0,1-3.79,10.06,10.06,10.06,0,0,1-7.15,3.11c-6.81,0-10.87-6.69-10.87-13.17,0-8.5,5.6-13.1,10.87-13.1S49.73,20.17,49.73,28.37ZM35.56,39a3.83,3.83,0,0,0,6.45.07c1.48-2,2.51-6.37,2.51-10.74,0-4.54-1-8.83-2.5-10.66h0A3.53,3.53,0,0,0,38.79,16a3.87,3.87,0,0,0-3.22,1.73c-1.42,1.81-2.44,6.3-2.44,10.67C33.13,33,34.09,37.23,35.56,39ZM74.39,28.37c0,8.25-5.56,13.17-10.94,13.17-6.81,0-10.87-6.69-10.87-13.17,0-8.5,5.6-13.1,10.87-13.1S74.39,20.17,74.39,28.37Zm-11,12.47a3.63,3.63,0,0,0,3.22-1.73c1.47-2,2.5-6.37,2.5-10.74,0-4.54-1-8.83-2.5-10.66h0A3.53,3.53,0,0,0,63.42,16a3.89,3.89,0,0,0-3.23,1.73c-1.41,1.81-2.43,6.3-2.43,10.67,0,4.67,1,8.86,2.43,10.67A3.65,3.65,0,0,0,63.42,40.84Zm31.47-.33c-1.74,0-2-3-2.48-7.64-.44-4.89-2.16-7-5.76-7a3.31,3.31,0,0,0-1.31.29l3.14-4c3.61-4.69,4.26-5.53,6.4-6.12l.19-.05v-.57H87.43V16l.22,0c1.69.22,2,.87,2,1.78,0,1.6-.68,2.57-1.71,3.86l-5.46,7V3.74c0-.86,0-1.46,0-2s0-.75,0-1.14S82.5,0,82,0H75.84V.64l.22,0C77.27.81,78,1.43,78,4.13V36.34c0,2.22-.15,3.61-2.2,4.07l-.19.05V41h9.36v-.58l-.19-.05c-2-.46-2.2-1.85-2.2-4.07V29.85L84,28a2,2,0,0,1,1.43-.87c2.07,0,2.22,1.67,2.39,5.78,0,.55,0,1.13.09,1.75.17,3.17,1,6.81,5.56,6.81a4.2,4.2,0,0,0,1.88-.4l.13-.07v-.6l-.36.1A.49.49,0,0,1,94.89,40.51Zm24.77-12.1c0,10.34-6.71,13.1-10.67,13.1-2.6,0-4.35-1.07-6-3.67l-4,3.27h-.63l0-.27c.13-1.64.2-3.47.2-5V4.7a18.45,18.45,0,0,0-.06-1.86,2,2,0,0,0-.83-1.56A6.17,6.17,0,0,0,95.39.63h-.23V0H103a.57.57,0,0,1,.65.65c0,.45,0,1.28-.07,2.23-.06,1.46-.13,3.28-.13,4.81V19.91a6.75,6.75,0,0,1,6.62-4.67C119,15.24,119.66,25.32,119.66,28.41ZM104.57,38.65A5.2,5.2,0,0,0,109,40.81c4.54,0,5.49-6.56,5.49-12.07,0-8.43-1.67-12.53-5.09-12.53a4.91,4.91,0,0,0-4.15,2c-1.26,1.66-1.81,3.8-1.81,7v7.7C103.42,35.63,103.42,37.14,104.57,38.65Zm39.29-10.28a14,14,0,0,1-3.8,10.05,10.11,10.11,0,0,1-7.15,3.12c-6.8,0-10.87-6.69-10.87-13.17,0-8.5,5.6-13.1,10.87-13.1S143.86,20.17,143.86,28.37ZM129.69,39a3.83,3.83,0,0,0,6.45.07c1.47-2,2.5-6.37,2.5-10.74s-1-8.82-2.5-10.66h0A3.51,3.51,0,0,0,132.91,16a3.89,3.89,0,0,0-3.22,1.73c-1.41,1.81-2.44,6.3-2.44,10.67C127.25,33,128.21,37.23,129.69,39ZM168,28.37c0,8.25-5.56,13.17-10.94,13.17-6.81,0-10.88-6.69-10.88-13.17,0-8.5,5.61-13.1,10.88-13.1S168,20.17,168,28.37ZM157,40.84a3.64,3.64,0,0,0,3.22-1.73c1.47-2,2.5-6.37,2.5-10.74,0-4.54-1-8.83-2.5-10.66h0A3.53,3.53,0,0,0,157,16a3.89,3.89,0,0,0-3.23,1.73c-1.41,1.81-2.44,6.3-2.44,10.67,0,4.67,1,8.86,2.44,10.67A3.63,3.63,0,0,0,157,40.84Zm31.15-.4a.49.49,0,0,1-.22,0c-1.73,0-2-3-2.47-7.65-.45-4.88-2.17-7-5.77-7a3.21,3.21,0,0,0-1.31.29l3.11-4c3.61-4.69,4.26-5.53,6.41-6.12l.18-.05v-.57h-7.64V16l.22,0c1.45.19,2,.71,2,1.78,0,1.6-.68,2.57-1.71,3.86l-5.43,7V3.74c0-.86,0-1.46,0-2s0-.75,0-1.14S175.53,0,175,0h-6.16V.6l.22,0c1.2.15,1.9.76,1.9,3.47V36.31c0,2.22-.15,3.6-2.2,4.07l-.19,0V41H178v-.58l-.2,0c-2.05-.47-2.2-1.85-2.2-4.07V29.82L177,27.94a2.06,2.06,0,0,1,1.44-.88c2.06,0,2.21,1.67,2.39,5.79,0,.55,0,1.13.08,1.75.18,3.17,1,6.81,5.56,6.81a4.39,4.39,0,0,0,1.89-.4l.12-.07v-.69Z" fill="black"></path>\n\t\t\t\t</svg>\n\t\t\t</a>\n\t\t\t<img class="martech-cookbook-header__img" src="https://www.telegraph.co.uk/content/dam/cookbook/knifenfork.png" alt="Knife and fork">\n\t\t</h1>\n\t</header>\n\t<main>\n\t\t<p class="martech-cookbook-copy">Get inspired - explore thousands of delicious recipes from our columnists and favourite chefs.</p>\n\t\t<nav>\n\t\t\t<ul class="martech-cookbook-list">'.concat(l(),"</ul>\n\t\t</nav>\n\t</main>"),e}var o=n(12),c=n(5),s=n(61),l=function(){var t="";return s.links.forEach(function(e){t+='\n\t\t\t<li class="martech-cookbook-list__item">\n\t\t\t\t<a class="martech-cookbook-list__item-link" href="'.concat(e.link,'">').concat(e.name,"</a>\n\t\t\t</li>")}),t},u=n(1),d=n(15);function h(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var f,g=(f=[{key:"init",value:function(){this.injectNLmodule(this.newsletter.target),this.assignBinds()}},{key:"injectNLmodule",value:function(){var e=document.createElement("div");e.classList.add("martech-newsletter-unit","martech-newsletter-unit--".concat(this.target.type)),e.innerHTML=this.getNLtemplate(this.newsletter),"recipes"===this.config.channel?e=function(e,t){!function(e){e=document.querySelector(e).querySelectorAll(".htmlEmbed.section");!e||(e=e[e.length-1])&&e.parentNode.removeChild(e)}(t);t=r();return e&&t.append(e),t}(e,this.target.element):(this.target.element.append(e),"predictor"===this.target.type&&e.parentNode.insertBefore(this.createHeadingElement("Sign up to our newsletters"),e)),Object(u.a)({eVar75:"".concat(this.newsletter.api.newsletterId,"-").concat(this.templateName,"-displayed"),prop27:this.newsletter.api.newsletterId},["event52","event266"],this.config),this.module=document.querySelector(".martech-newsletter-unit"),this.moduleButton=e.querySelector(".martech-newsletter-unit__button"),this.moduleError=e.querySelector(".martech-newsletter-unit__error")}},{key:"createHeadingElement",value:function(e){var t=document.createElement("h2");return t.classList.add("martech-newsletter-unit__wrapper-heading"),t.innerHTML=e,t}},{key:"getNLtemplate",value:function(){return!this.subscribed&&this.newsletter.subscriberOnly?(this.templateName="start-free-trial",t=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},this.newsletter,{icid:"".concat(this.newsletter.api.newsletterId,"-newsletter_subscriber-only-sign-up")}),'<div class="martech-newsletter-unit__title">'.concat(t.title,'</div>\n\t\t<div class="martech-newsletter-unit__container">\n\t\t\t<div class="martech-newsletter-unit__head">\n\t\t\t\t<img class="martech-newsletter-unit__img" src="').concat(t.img,'"/>\n\t\t\t\t<div class="martech-newsletter-unit__content">\n\t\t\t\t\t<div class="martech-newsletter-unit__title">').concat(t.title,'</div>\n\t\t\t\t\t<div class="martech-newsletter-unit__desc">').concat(t.descLoggedIn,'</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<a href="/customer/subscribe/?ICID=').concat(t.icid,'" class="martech-newsletter-unit__cta-link">Start free trial</a>\n\t\t</div>')):this.loggedin?(this.templateName="loggedin",e=this.newsletter,'<div class="martech-newsletter-unit__title">'.concat(e.title,'</div>\n\t\t<div class="martech-newsletter-unit__container">\n\t\t\t<div class="martech-newsletter-unit__head">\n\t\t\t\t<img class="martech-newsletter-unit__img" src="').concat(e.img,'"/>\n\t\t\t\t<div class="martech-newsletter-unit__content">\n\t\t\t\t\t<div class="martech-newsletter-unit__title">').concat(e.title,'</div>\n\t\t\t\t\t<div class="martech-newsletter-unit__desc">').concat(e.descLoggedIn,'</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button type="submit" class="martech-newsletter-unit__button" data-loading="Sending..."><span class="martech-newsletter-unit__button-msg">Sign up</span></button>\n\t\t</div>')):(this.templateName="loggedout",e=this.newsletter,'<div class="martech-newsletter-unit__title">'.concat(e.title,'</div>\n\t\t<div class="martech-newsletter-unit__head">\n\t\t\t<img class="martech-newsletter-unit__img" src="').concat(e.img,'"/>\n\t\t\t<div class="martech-newsletter-unit__content">\n\t\t\t\t<div class="martech-newsletter-unit__title">').concat(e.title,'</div>\n\t\t\t\t<div class="martech-newsletter-unit__desc martech-newsletter-unit__desc--no-margin">').concat(e.descLoggedOut,'</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="martech-newsletter-unit__main">\n\t\t\t<div class="martech-newsletter-unit__form">\n\t\t\t\t<input class="martech-newsletter-unit__input" placeholder="Enter your email address to sign up" type="email" name="email" autocomplete="nope" value="">\n\t\t\t\t<button type="submit" class="martech-newsletter-unit__button" data-loading="Sending..."><span class="martech-newsletter-unit__button-msg">Sign up</span></button>\n\t\t\t</div>\n\t\t\t<div class="martech-newsletter-unit__error"></div>\n\t\t\t<div class="martech-newsletter-unit__terms">\n\t\t\t\tBy creating a Telegraph account, you agree to our \n\t\t\t\t<a class="martech-newsletter-unit__link" href="https://www.telegraph.co.uk/about-us/terms-and-conditions/">Terms and Conditions</a> and our \n\t\t\t\t<a class="martech-newsletter-unit__link" href="https://www.telegraph.co.uk/about-us/privacy-and-cookie-policy/">Privacy Policy</a>.\n\t\t\t</div>\n\t\t</div>'));var e,t}},{key:"assignBinds",value:function(){!this.subscribed&&this.newsletter.subscriberOnly||(this.loggedin?this.bindEventsLoggedin():this.bindEventsLoggedout())}},{key:"bindEventsLoggedin",value:function(){var e=this;this.moduleButton.addEventListener("click",function(){e.displayLoading(),Object(d.e)(e.config,e.userIdentityData,e.config.campaignName,e.newsletter.api.newsletterId).then(function(){return e.buildOnSubmit(a(e.newsletter),"success")}).catch(function(){return e.buildOnSubmit(i(e.newsletter),"error")})})}},{key:"bindEventsLoggedout",value:function(){var t=this;this.moduleButton.addEventListener("click",function(){t.clearError(),t.displayLoading();var e=document.querySelector(".martech-newsletter-unit__input").value;t.validateInput(e)?Object(d.d)(e,t.newsletter).then(function(){return t.buildOnSubmit(a(t.newsletter),"success",!0)}).catch(function(){return t.buildOnSubmit(i(t.newsletter),"error")}):t.displayError("Email address is not valid. Please try again")})}},{key:"validateInput",value:function(e){return/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e.toLowerCase())}},{key:"buildOnSubmit",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];this.module.innerHTML=e,this.bindReadMore(),"success"===t?(e=["event52","event14"],n&&e.push("event22"),Object(u.a)({eVar75:"".concat(this.newsletter.api.newsletterId,"-").concat(this.templateName,"-sign-up-").concat(t),prop27:this.newsletter.api.newsletterId},[e],this.config)):Object(u.e)("".concat(this.newsletter.api.newsletterId,"-").concat(this.templateName,"-sign-up-").concat(t),this.config)}},{key:"bindReadMore",value:function(){var e=this;this.moduleReadmore=this.module.querySelector(".martech-newsletter-unit__more"),this.moduleReadmore.addEventListener("click",function(){Object(u.e)("".concat(e.newsletter.api.newsletterId,"-").concat(e.loginState,"-readmore-click"),e.config)})}},{key:"displayLoading",value:function(){this.moduleButton.setAttribute("disabled",""),this.moduleButton.classList.add(this.classIsWaiting)}},{key:"hideLoading",value:function(){this.moduleButton.disabled=!1,this.moduleButton.classList.remove(this.classIsWaiting)}},{key:"displayError",value:function(e){this.hideLoading(),this.module.classList.add(this.classHasErrors),this.moduleError.innerHTML=e}},{key:"clearError",value:function(){this.module.classList.remove(this.classHasErrors),this.moduleError.innerHTML=""}}],p(v.prototype,f),v),m=n(16),y=n(21),b=n(19);function v(e,t,n,a){!function(e){if(!(e instanceof v))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.newsletter=t,this.userIdentityData=a,this.target=n,this.subscribed=this.config.userStatus.includes("subscriber"),this.loggedin=this.config.userStatus.includes("logged in"),this.classIsWaiting="martech-newsletter-unit__button--is-waiting",this.classHasErrors="martech-newsletter-unit--has-error"}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n=[{key:"init",value:function(){this.target&&(this.refreshToken?this.accessUserNewsletters():this.assignServing())}},{key:"getPageTarget",value:function(){var e,t={article:function(){if(["/global-health/science-and-disease/coronavirus-news-uk-cases-delay-phase-self-isolate-latest-live/","/global-health/science-and-disease/coronavirus-latest-news-uk-covid-19-self-isolation-deaths-cases/","/global-health/science-and-disease/coronavirus-news-latest-uk-deaths-cases-self-isolation-covid-19/","/global-health/science-and-disease/coronavirus-latest-news-uk-covid-19-update-death-toll-cases/","/politics/2020/03/13/politics-latest-news-boris-johnson-budget-public-health-coronavirus/","/politics/2020/03/16/boris-johnson-government-politics-latest-news-public-health-coronavirus/","/sport/2020/03/13/sport-coronavirus-live-premier-league-suspended-efl-rugby-latest/","/sport/2020/03/16/sport-coronavirus-football-rugby-euro-2020-updates-latest-live/","/global-health/science-and-disease/coronavirus-news-uk-latest-update-covid-19-death-toll-cases/","/global-health/science-and-disease/coronavirus-news-uk-us-travel-ban-deaths-cases-latest/","/global-health/science-and-disease/coronavirus-news-pandemic-uk-cases-death-toll-live/","/politics/2020/03/16/coronavirus-cobra-meeting-boris-johnson-chris-whitty-patrick/","/politics/2020/03/17/boris-johnson-news-latest-coronavirus-update-mass-gatherings/","/politics/2020/03/18/boris-johnson-government-coronavirus-latest-news-schools/","/business/2020/03/16/markets-live-latest-coronavirus-news-pound-euro-ftse-100-live/","/business/2020/03/17/markets-live-news-coronavirus-pound-euro-ftse-shares-flights/","/business/2020/03/18/markets-live-news-coronavirus-stocks-shares-ftse-pound-euro/","/sport/2020/03/16/sport-hit-coronavirus-live-updates-latest-news/","/sport/2020/03/17/sport-coronavirus-live-news-football-rugby-olympics-f1/","/sport/2020/03/18/sport-coronavirus-events-live-news-olympics-golf-football/","/global-health/science-and-disease/coronavirus-news-uk-cases-update-latest-travel-government-advice-lockdown/","/politics/2020/03/17/boris-johnson-news-latest-coronavirus-update-government-advice-uk-schools/"].includes(document.location.pathname)){var e=document.querySelector(".live-stream.js-live-stream.component");if(e){var t=document.createElement("div");return t.classList.add("martech-newsletter-override"),e.before(t),".".concat("martech-newsletter-override")}}}()||['[itemprop="articleBody"]','[itemprop="reviewBody"]'],gallery:".gallery__image-view",predictor:"#eip-single-newsletter-signup"};for(e in t){var n=document.querySelectorAll(t[e])[0];if(n)return{type:e,element:n}}}},{key:"filterNewslettersData",value:function(e){var t=this;return e.filter(function(e){return e.page.includes(t.target.type)})}},{key:"accessUserNewsletters",value:function(){var t=this,e=Object(b.a)().apis.identityTokens,n=Object(b.a)().apis.newslettersMe;Object(y.a)(e,{body:{refresh_token:this.refreshToken}}).then(function(e){t.userIdentityData=e,Object(y.a)(n,{headers:{access_token:e.access_token,id_token:e.id_token,ddgFlow:t.config.campaignName,ddgAction:"access-user"}}).then(function(e){t.userNewsletters=e.newsletters,t.assignServing()})})}},{key:"assignServing",value:function(){var t=this,n=this.newslettersMap.filter(function(e){return e.recs&&e.recs.includes(t.config.channel)}),e=this.newslettersMap.filter(function(e){return!n.includes(e)});if(!this.audiencesMatchInCategory(n)&&n.some(function(e){return!t.entitledNewsletter(e.api.newsletterId)}))return this.waitRecsAndBuild();var a=!0,i=!1,r=void 0;try{for(var o,c=n[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var s=o.value;if(this.audiencesCheck(s)&&!this.entitledNewsletter(s.api.newsletterId))return new g(this.config,s,this.target,this.userIdentityData).init()}}catch(t){i=!0,r=t}finally{try{a||null==c.return||c.return()}finally{if(i)throw r}}var l=!0,i=!1,r=void 0;try{for(var u,d=e[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var h=u.value;if(this.audiencesCheck(h)&&!this.entitledNewsletter(h.api.newsletterId))return new g(this.config,h,this.target,this.userIdentityData).init()}}catch(t){i=!0,r=t}finally{try{l||null==d.return||d.return()}finally{if(i)throw r}}}},{key:"audiencesCheck",value:function(e){if(e.audiences)for(var t=0,n=Object.entries(e.audiences);t<n.length;t++){a=(a=n[t],i=1,(function(e){if(Array.isArray(e))return e}(a)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw r}}return n}}(a,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[0]),i=this.sectionMatch(e,a)&&this.sectionInJoin(e,a)&&this.joinRulesMatch(e),a=this.sectionMatch(e,a)&&!this.sectionInJoin(e,a);if(i||a)return!0}var a,i}},{key:"entitledNewsletter",value:function(t){return this.refreshToken&&this.userNewsletters.some(function(e){return e.id===t&&"Active"===e.customerStatus})}},{key:"audiencesMatchInCategory",value:function(e){var t=this;return e.length&&e.some(function(e){return t.audiencesCheck(e)&&!t.entitledNewsletter(e.api.newsletterId)})}},{key:"waitRecsAndBuild",value:function(){var e=this;window.tmg.pubsub.subscribe({topic:"tmg.martech.newsletter.recs.ready",func:function(){if(!e.recsReadyTopic)return e.recsReadyTopic=!0,new g(e.config,e.getRecNewsletter(),e.target,e.userIdentityData).init()},runIfAlreadyPublished:!0})}},{key:"getRecNewsletter",value:function(){var e=this,t=!0,n=!1,a=void 0;try{for(var i,r=window.dataLayer.martech.recommendedNLs[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=function(){var t=i.value;if(!e.entitledNewsletter(t))return{v:e.newslettersMap.filter(function(e){return e.api.newsletterId===t})[0]}}();if("object"===w(o))return o.v}}catch(e){n=!0,a=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw a}}}},{key:"sectionMatch",value:function(e,t){var n=this,e=2<arguments.length&&void 0!==arguments[2]&&arguments[2]||e.audiences[t];return Array.isArray(e)?!!e.filter(function(e){return n.config[t].includes(e)})[0]:this.config[t].includes(e)}},{key:"sectionInJoin",value:function(e,t){if(e.audiencesJoin){var n=function(e){return e.some(function(e){return e===t})};return this.oneJoinArray(e)?n(e.audiencesJoin):e.audiencesJoin.some(n)}}},{key:"oneJoinArray",value:function(e){return!e.audiencesJoin.filter(function(e){return Array.isArray(e)})[0]}},{key:"joinRulesMatch",value:function(t){function e(e){return e.every(function(e){return n.sectionMatch(t,e)})}var n=this;return this.oneJoinArray(t)?e(t.audiencesJoin):t.audiencesJoin.some(e)}}],_(k.prototype,n),n=k;function k(e){!function(e){if(!(e instanceof k))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.target=this.getPageTarget()||!1,this.newslettersMap=this.filterNewslettersData(m),this.refreshToken=o.a.get("tmg_refresh"),this.userIdentityData=!1,this.recsReadyTopic=!1}t.a=n},function(e,t,n){var a;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(a){return function(){var e=a,t=e.lib.BlockCipher,n=e.algo,l=[],u=[],d=[],h=[],p=[],f=[],g=[],m=[],y=[],b=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=0,a=0,t=0;t<256;t++){var i=a^a<<1^a<<2^a<<3^a<<4;l[n]=i=i>>>8^255&i^99;var r=e[u[i]=n],o=e[r],c=e[o],s=257*e[i]^16843008*i;d[n]=s<<24|s>>>8,h[n]=s<<16|s>>>16,p[n]=s<<8|s>>>24,f[n]=s,g[i]=(s=16843009*c^65537*o^257*r^16843008*n)<<24|s>>>8,m[i]=s<<16|s>>>16,y[i]=s<<8|s>>>24,b[i]=s,n?(n=r^e[e[e[c^r]]],a^=e[e[a]]):n=a=1}}();var v=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e,t=this._keyPriorReset=this._key,n=t.words,a=t.sigBytes/4,i=4*(1+(this._nRounds=6+a)),r=this._keySchedule=[],o=0;o<i;o++)o<a?r[o]=n[o]:(e=r[o-1],o%a?6<a&&o%a==4&&(e=l[e>>>24]<<24|l[e>>>16&255]<<16|l[e>>>8&255]<<8|l[255&e]):(e=l[(e=e<<8|e>>>24)>>>24]<<24|l[e>>>16&255]<<16|l[e>>>8&255]<<8|l[255&e],e^=v[o/a|0]<<24),r[o]=r[o-a]^e);for(var c=this._invKeySchedule=[],s=0;s<i;s++)o=i-s,e=s%4?r[o]:r[o-4],c[s]=s<4||o<=4?e:g[l[e>>>24]]^m[l[e>>>16&255]]^y[l[e>>>8&255]]^b[l[255&e]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,d,h,p,f,l)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,g,m,y,b,u),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,a,i,r,o,c){for(var s=this._nRounds,l=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],h=e[t+3]^n[3],p=4,f=1;f<s;f++)var g=a[l>>>24]^i[u>>>16&255]^r[d>>>8&255]^o[255&h]^n[p++],m=a[u>>>24]^i[d>>>16&255]^r[h>>>8&255]^o[255&l]^n[p++],y=a[d>>>24]^i[h>>>16&255]^r[l>>>8&255]^o[255&u]^n[p++],b=a[h>>>24]^i[l>>>16&255]^r[u>>>8&255]^o[255&d]^n[p++],l=g,u=m,d=y,h=b;g=(c[l>>>24]<<24|c[u>>>16&255]<<16|c[d>>>8&255]<<8|c[255&h])^n[p++],m=(c[u>>>24]<<24|c[d>>>16&255]<<16|c[h>>>8&255]<<8|c[255&l])^n[p++],y=(c[d>>>24]<<24|c[h>>>16&255]<<16|c[l>>>8&255]<<8|c[255&u])^n[p++],b=(c[h>>>24]<<24|c[l>>>16&255]<<16|c[u>>>8&255]<<8|c[255&d])^n[p++],e[t]=g,e[t+1]=m,e[t+2]=y,e[t+3]=b},keySize:8});e.AES=t._createHelper(n)}(),a.AES},"object"===i(t)?e.exports=t=a(n(13),n(42),n(43),n(28),n(46)):(n=[n(13),n(42),n(43),n(28),n(46)],void 0===(a="function"==typeof(a=a)?a.apply(t,n):a)||(e.exports=a))},function(e,t,n){var a;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var s=e.lib.WordArray;return e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,a=this._map;e.clamp();for(var i=[],r=0;r<n;r+=3)for(var o=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,c=0;c<4&&r+.75*c<n;c++)i.push(a.charAt(o>>>6*(3-c)&63));var s=a.charAt(64);if(s)for(;i.length%4;)i.push(s);return i.join("")},parse:function(e){var t=e.length,n=this._map;if(!(a=this._reverseMap))for(var a=this._reverseMap=[],i=0;i<n.length;i++)a[n.charCodeAt(i)]=i;var r=n.charAt(64);return!r||-1!==(r=e.indexOf(r))&&(t=r),function(e,t,n){for(var a,i,r=[],o=0,c=0;c<t;c++)c%4&&(a=n[e.charCodeAt(c-1)]<<c%4*2,i=n[e.charCodeAt(c)]>>>6-c%4*2,r[o>>>2]|=(a|i)<<24-o%4*8,o++);return s.create(r,o)}(e,t,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"===i(t)?e.exports=t=a(n(13)):(n=[n(13)],void 0===(a="function"==typeof(a=a)?a.apply(t,n):a)||(e.exports=a))},function(e,t,n){var a;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(i){return function(s){var e=i,t=e.lib,n=t.WordArray,a=t.Hasher,t=e.algo,C=[];!function(){for(var e=0;e<64;e++)C[e]=4294967296*s.abs(s.sin(e+1))|0}();t=t.MD5=a.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var a=t+n,i=e[a];e[a]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var r=this._hash.words,o=e[t+0],c=e[t+1],s=e[t+2],l=e[t+3],u=e[t+4],d=e[t+5],h=e[t+6],p=e[t+7],f=e[t+8],g=e[t+9],m=e[t+10],y=e[t+11],b=e[t+12],v=e[t+13],w=e[t+14],_=e[t+15],k=S(k=r[0],L=r[1],j=r[2],O=r[3],o,7,C[0]),O=S(O,k,L,j,c,12,C[1]),j=S(j,O,k,L,s,17,C[2]),L=S(L,j,O,k,l,22,C[3]);k=S(k,L,j,O,u,7,C[4]),O=S(O,k,L,j,d,12,C[5]),j=S(j,O,k,L,h,17,C[6]),L=S(L,j,O,k,p,22,C[7]),k=S(k,L,j,O,f,7,C[8]),O=S(O,k,L,j,g,12,C[9]),j=S(j,O,k,L,m,17,C[10]),L=S(L,j,O,k,y,22,C[11]),k=S(k,L,j,O,b,7,C[12]),O=S(O,k,L,j,v,12,C[13]),j=S(j,O,k,L,w,17,C[14]),k=T(k,L=S(L,j,O,k,_,22,C[15]),j,O,c,5,C[16]),O=T(O,k,L,j,h,9,C[17]),j=T(j,O,k,L,y,14,C[18]),L=T(L,j,O,k,o,20,C[19]),k=T(k,L,j,O,d,5,C[20]),O=T(O,k,L,j,m,9,C[21]),j=T(j,O,k,L,_,14,C[22]),L=T(L,j,O,k,u,20,C[23]),k=T(k,L,j,O,g,5,C[24]),O=T(O,k,L,j,w,9,C[25]),j=T(j,O,k,L,l,14,C[26]),L=T(L,j,O,k,f,20,C[27]),k=T(k,L,j,O,v,5,C[28]),O=T(O,k,L,j,s,9,C[29]),j=T(j,O,k,L,p,14,C[30]),k=x(k,L=T(L,j,O,k,b,20,C[31]),j,O,d,4,C[32]),O=x(O,k,L,j,f,11,C[33]),j=x(j,O,k,L,y,16,C[34]),L=x(L,j,O,k,w,23,C[35]),k=x(k,L,j,O,c,4,C[36]),O=x(O,k,L,j,u,11,C[37]),j=x(j,O,k,L,p,16,C[38]),L=x(L,j,O,k,m,23,C[39]),k=x(k,L,j,O,v,4,C[40]),O=x(O,k,L,j,o,11,C[41]),j=x(j,O,k,L,l,16,C[42]),L=x(L,j,O,k,h,23,C[43]),k=x(k,L,j,O,g,4,C[44]),O=x(O,k,L,j,b,11,C[45]),j=x(j,O,k,L,_,16,C[46]),k=I(k,L=x(L,j,O,k,s,23,C[47]),j,O,o,6,C[48]),O=I(O,k,L,j,p,10,C[49]),j=I(j,O,k,L,w,15,C[50]),L=I(L,j,O,k,d,21,C[51]),k=I(k,L,j,O,b,6,C[52]),O=I(O,k,L,j,l,10,C[53]),j=I(j,O,k,L,m,15,C[54]),L=I(L,j,O,k,c,21,C[55]),k=I(k,L,j,O,f,6,C[56]),O=I(O,k,L,j,_,10,C[57]),j=I(j,O,k,L,h,15,C[58]),L=I(L,j,O,k,v,21,C[59]),k=I(k,L,j,O,u,6,C[60]),O=I(O,k,L,j,y,10,C[61]),j=I(j,O,k,L,s,15,C[62]),L=I(L,j,O,k,g,21,C[63]),r[0]=r[0]+k|0,r[1]=r[1]+L|0,r[2]=r[2]+j|0,r[3]=r[3]+O|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,a=8*e.sigBytes;t[a>>>5]|=128<<24-a%32;var i=s.floor(n/4294967296),n=n;t[15+(64+a>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t[14+(64+a>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var t=this._hash,r=t.words,o=0;o<4;o++){var c=r[o];r[o]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return t},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function S(e,t,n,a,i,r,o){o=e+(t&n|~t&a)+i+o;return(o<<r|o>>>32-r)+t}function T(e,t,n,a,i,r,o){o=e+(t&a|n&~a)+i+o;return(o<<r|o>>>32-r)+t}function x(e,t,n,a,i,r,o){o=e+(t^n^a)+i+o;return(o<<r|o>>>32-r)+t}function I(e,t,n,a,i,r,o){o=e+(n^(t|~a))+i+o;return(o<<r|o>>>32-r)+t}e.MD5=a._createHelper(t),e.HmacMD5=a._createHmacHelper(t)}(Math),i.MD5},"object"===i(t)?e.exports=t=a(n(13)):(n=[n(13)],void 0===(a="function"==typeof(a=a)?a.apply(t,n):a)||(e.exports=a))},function(e,t,n){var a;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t,n=(t=e).lib,a=n.WordArray,i=n.Hasher,n=t.algo,u=[],n=n.SHA1=i.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,a=n[0],i=n[1],r=n[2],o=n[3],c=n[4],s=0;s<80;s++){s<16?u[s]=0|e[t+s]:(l=u[s-3]^u[s-8]^u[s-14]^u[s-16],u[s]=l<<1|l>>>31);var l=(a<<5|a>>>27)+c+u[s];l+=s<20?1518500249+(i&r|~i&o):s<40?1859775393+(i^r^o):s<60?(i&r|i&o|r&o)-1894007588:(i^r^o)-899497514,c=o,o=r,r=i<<30|i>>>2,i=a,a=l}n[0]=n[0]+a|0,n[1]=n[1]+i|0,n[2]=n[2]+r|0,n[3]=n[3]+o|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,a=8*e.sigBytes;return t[a>>>5]|=128<<24-a%32,t[14+(64+a>>>9<<4)]=Math.floor(n/4294967296),t[15+(64+a>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});return t.SHA1=i._createHelper(n),t.HmacSHA1=i._createHmacHelper(n),e.SHA1},"object"===i(t)?e.exports=t=a(n(13)):(n=[n(13)],void 0===(a="function"==typeof(a=a)?a.apply(t,n):a)||(e.exports=a))},function(e,t,n){var a;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t=e.lib.Base,c=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=c.parse(t));var n=e.blockSize,a=4*n;(t=t.sigBytes>a?e.finalize(t):t).clamp();for(var e=this._oKey=t.clone(),t=this._iKey=t.clone(),i=e.words,r=t.words,o=0;o<n;o++)i[o]^=1549556828,r[o]^=909522486;e.sigBytes=t.sigBytes=a,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})},"object"===i(t)?e.exports=t=a(n(13)):(n=[n(13)],void 0===(a="function"==typeof(a=a)?a.apply(t,n):a)||(e.exports=a))},function(e,t,n){var a;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){function r(e,t,n){var a,i=this._iv;i?(a=i,this._iv=o):a=this._prevBlock;for(var r=0;r<n;r++)e[t+r]^=a[r]}function i(e){return"string"==typeof e?g:f}var o,t,n,a,c,s,l,u,d,h,p,f,g;e.lib.Cipher||(n=(t=e).lib,a=n.Base,c=n.WordArray,s=n.BufferedBlockAlgorithm,(l=t.enc).Utf8,u=l.Base64,d=t.algo.EvpKDF,h=n.Cipher=s.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(a){return{encrypt:function(e,t,n){return i(t).encrypt(a,e,t,n)},decrypt:function(e,t,n){return i(t).decrypt(a,e,t,n)}}}}),n.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e=t.mode={},l=n.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),l=e.CBC=((e=l.extend()).Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize;r.call(this,e,t,a),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+a)}}),e.Decryptor=e.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize,i=e.slice(t,t+a);n.decryptBlock(e,t),r.call(this,e,t,a),this._prevBlock=i}}),e),e=(t.pad={}).Pkcs7={pad:function(e,t){for(var t=4*t,n=t-e.sigBytes%t,a=n<<24|n<<16|n<<8|n,i=[],r=0;r<n;r+=4)i.push(a);t=c.create(i,n);e.concat(t)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:l,padding:e}),reset:function(){h.reset.call(this);var e,t=this.cfg,n=t.iv,t=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=t.createEncryptor:(e=t.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(t,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),p=n.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),e=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,e=e.salt,t=e?c.create([1398893684,1701076831]).concat(e).concat(t):t;return t.toString(u)},parse:function(e){var t,n=u.parse(e),e=n.words;return 1398893684==e[0]&&1701076831==e[1]&&(t=c.create(e.slice(2,4)),e.splice(0,4),n.sigBytes-=16),p.create({ciphertext:n,salt:t})}},f=n.SerializableCipher=a.extend({cfg:a.extend({format:e}),encrypt:function(e,t,n,a){a=this.cfg.extend(a);var i=e.createEncryptor(n,a),t=i.finalize(t),i=i.cfg;return p.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:a.format})},decrypt:function(e,t,n,a){return a=this.cfg.extend(a),t=this._parse(t,a.format),e.createDecryptor(n,a).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,n,a){a=a||c.random(8);e=d.create({keySize:t+n}).compute(e,a),n=c.create(e.words.slice(t),4*n);return e.sigBytes=4*t,p.create({key:e,iv:n,salt:a})}},g=n.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:t}),encrypt:function(e,t,n,a){n=(a=this.cfg.extend(a)).kdf.execute(n,e.keySize,e.ivSize);a.iv=n.iv;a=f.encrypt.call(this,e,t,n.key,a);return a.mixIn(n),a},decrypt:function(e,t,n,a){a=this.cfg.extend(a),t=this._parse(t,a.format);n=a.kdf.execute(n,e.keySize,e.ivSize,t.salt);return a.iv=n.iv,f.decrypt.call(this,e,t,n.key,a)}}))},"object"===i(t)?e.exports=t=a(n(13),n(28)):(n=[n(13),n(28)],void 0===(a="function"==typeof(a=a)?a.apply(t,n):a)||(e.exports=a))},function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(1),r=n(7),o=n(10),c=n(0),o={elementsClickTracking:i.b,onwardJourneyTracking:i.d,sendEventHit:i.e,redirectTo:r.a,store:o.a,callbacks:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&(Object(c.a)("Callback ".concat(e," called...")),"google-one-tap-loader"===e&&window.tmg&&void 0!==window.tmg.pubsub&&window.tmg.pubsub.publish({topic:"tmg.martech.oneTapLoader"}),"google-one-tap-reg"===e&&(window.dataLayer.event=["registrationComplete"],window.dataLayer.registration={registrationType:"onetap"},window.dataLayer.userStatus="registered",Object(i.e)("google-one-tap-reg",{campaignId:"342575",campaignName:"TGT-256--google-one-tap-library"}),window.tmg&&void 0!==window.tmg.pubsub&&window.tmg.pubsub.publish({topic:"tmg.martech.oneTapRegisterComplete"})),"google-one-tap-login"===e&&(Object(i.e)("google-one-tap-login",{campaignId:"342575",campaignName:"TGT-256--google-one-tap-library"}),setTimeout(function(){window.location.href=window.location.href},1e3)),"google-one-tap-error"===e&&window.tmg&&void 0!==window.tmg.pubsub&&window.tmg.pubsub.publish({topic:"tmg.martech.oneTapRegisterError"}))}};a.a.create("tools"),martech.tools=o,window.tmg&&void 0!==window.tmg.pubsub&&window.tmg.pubsub.subscribe({topic:"tmg.page.ready",func:function(){window.tmg.pubsub.publish({topic:"tmg.martech.core.ready"})},runIfAlreadyPublished:!0}),t.default=o},function(e){e.exports=JSON.parse('{"display_screen_width":false,"display_screen_height":false,"display_viewport_width":false,"display_viewport_height":false,"display_has_touch_support":false,"geo_country":false,"geo_state":false,"geo_continent":false,"geo_latitude":false,"geo_longitude":false,"network_isp":false,"network_domain_name":false,"network_connection_speed":false,"mobile_device_vendor":false,"mobile_device_model":false,"mobile_device_is_mobile":false,"mobile_device_is_tablet":false,"os_name":false,"os_platform":false,"page_url":false,"page_url_domain":false,"page_url_query":false,"page_url_subdomain":false,"page_url_path":false,"browser_name":false,"browser_version":false,"browser_language":false,"browser_vendor":false,"source_referrer":false,"user_agent":false,"channel":false,"content_type":false,"article_id":false,"page_type":false,"keywords":false,"cookie_consent":false,"icid":false,"offer_id":false,"paywall_displayed":false,"platform":false,"premium_override":false,"premium_state":false,"regwall_displayed":false,"user_status":false,"business_segment":false,"story_type":false}')},function(e){e.exports=JSON.parse('{"freetrial1-website-monthly-PC259-839X":{"offerId":"freetrial1-website-monthly-PC259","productId":"nyytq4zthbvwsoliojugwyzzmyzha3dt","campaign_id":"839X","basePrice":8.67,"containsFreeTrial":true,"friendlyName":"Free 1Mo Website Monthly $8.67 - 2.00 per week","frequency":"Month","frequencyDescription":"Monthly","product":"Website+ UK","productFriendlyName":"Standard","offerType":"Standard","content":{"title":"Join us for free for your first month","description":"Try The Telegraph free for one month, then for just {{2}} per week","cta_label":"Try now"}},"3MoFor1-website-monthly-ZG340-841X":{"offerId":"3MoFor1-website-monthly-ZG340","productId":"nyytq4zthbvwsoliojugwyzzmyzha3dt","campaign_id":"841X","basePrice":8.67,"containsFreeTrial":false,"friendlyName":"billed monthly","frequency":"Month","frequencyDescription":"Monthly","product":"Website+ UK","productFriendlyName":"Standard","offerType":"Standard","content":{"title":"Just {{ 1 )} per month for your first three months","description":"Standard Digital Subscription. {{2)} per week after your first three months. Cancel at any time.","cta_label":"Try now"}}}')},function(e,p,f){"use strict";!function(n){var e=f(2),a=f(3),i=f(0),t=f(7),r=f(11),o=f(17),c=f(1),s=f(4),l=f(8);function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d,d=(d=[{key:"init",value:function(){var t=this;this.config?(Object(a.a)(this.config),o.a.load().then(function(){var e=tmg.user.getProfile().firstName;t.config.firstName=o.a.decrypt(e),t.config.firstName=t.config.firstName?"".concat(t.config.firstName,", "):"",Object(l.b)(t.config).then(function(){Object(s.a)(n),t.build()}).catch(function(){Object(l.c)(t.config).then(function(){Object(s.a)(n),t.build()}).catch(function(){})})}).catch(function(){})):Object(i.a)("Config not found for activity at ".concat(n))}},{key:"build",value:function(){var e='\n\t\t\t\t<div class="login-modal__title">'.concat(this.config.firstName).concat(this.copy[this.config.status][this.experienceKey[this.config.experienceNumber].copy].title,'</div>\n\t\t\t\t<div class="login-modal__description">\n\t\t\t\t\t<div class="login-modal__excerpt">').concat(this.copy[this.config.status][this.experienceKey[this.config.experienceNumber].copy].excerpt,'</div>\n\t\t\t\t\t<a class="login-modal__cta" href="').concat(Object(t.a)("https://secure.telegraph.co.uk/secure/login/?icid=".concat(this.copy[this.config.status][this.experienceKey[this.config.experienceNumber].copy].icid)),'">Log in</a>\n\t\t\t\t</div>'),e=Object.assign({},this.config,{extraClass:"modal-login modal-login--".concat(this.config.status," modal-login--").concat(this.experienceKey[this.config.experienceNumber].design),timeout:0,content:e,frequencyActive:!0,frequencyDays:1});new r.a(e).init(),this.contentEvents()}},{key:"contentEvents",value:function(){var e=this,t=document.querySelector(".login-modal__cta");t&&Object(c.c)("login-notification--displayed"),t.addEventListener("click",function(){Object(c.e)("overlay-cta-click",e.config),Object(i.a)("".concat(e.config.campaignName," --\x3e sendEventHit = cta-click"))})}}],u(h.prototype,d),h);function h(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.experienceKey={0:{copy:"control",design:"control"},1:{copy:"control",design:"variation"},2:{copy:"variation",design:"control"},3:{copy:"variation",design:"variation"}},this.copy={sub:{control:{title:"welcome back",excerpt:"As a subscriber, log in now to continue reading without interuptions",icid:"registration_eng_nba".concat(this.config.campaignId,"_")+(0<this.config.experienceNumber?"var".concat(this.config.experienceNumber):"control")+"-login-overlay-personalised-subscriber"},variation:{title:"you're missing out.",excerpt:"Log in to your subscription now to access exclusive articles",icid:"registration_eng_nba".concat(this.config.campaignId,"_")+(0<this.config.experienceNumber?"var".concat(this.config.experienceNumber):"control")+"-login-overlay-personalised-subscriber"}},reg:{control:{title:"you're missing out.",excerpt:"You have a free account with us, <br> log in now to unlock exclusive benefits",icid:"registration_eng_nba".concat(this.config.campaignId,"_")+(0<this.config.experienceNumber?"var".concat(this.config.experienceNumber):"control")+"-login-overlay-personalised-registrant"},variation:{title:"welcome back",excerpt:"Log in to your Telegraph account for enhanced access, including exclusive articles, commenting and newsletters.",icid:"registration_eng_nba".concat(this.config.campaignId,"_")+(0<this.config.experienceNumber?"var".concat(this.config.experienceNumber):"control")+"-login-overlay-personalised-registrant"}}},this.config.userStatus&&(this.config.status=this.config.userStatus.includes("subscriber")?"sub":"reg")}e.a.create("classes.LoginModal"),martech.classes.LoginModal=d,p.a=d}.call(this,"Activities/TGT-40--login-overlay-subs-and-reg")},function(e,d,h){"use strict";!function(t){var e=h(2),i=h(0),n=h(3),r=h(6),o=h(5),c=h(1),a=h(4);function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l,l=(l=[{key:"init",value:function(){var e=this;this.config?(Object(n.a)(this.config),Object(a.a)(t),window.tmg&&void 0!==window.tmg.pubsub?window.tmg.pubsub.subscribe({topic:"tmg.customerApp.thankYou.pageReady",func:function(){e.injectElement()},runIfAlreadyPublished:!0}):Object(i.a)("PubSub not available for ".concat(t))):Object(i.a)("Config not found for activity at ".concat(t))}},{key:"injectElement",value:function(){var n=this,a=document.createElement("div");a.setAttribute("class","mtech-site-recommended"),a.innerHTML='<header>\n\t\t\t\t<h2 class="mtech-site-recommended__title">The most popular subscriber-only articles right now</h2>\n\t\t\t\t<p class="mtech-site-recommended__subtitle">Catch up with our latest commentary and analysis.</p>\n\t\t\t\t<a class="mtech-site-recommended__home-link" href="https://www.telegraph.co.uk/">Telegraph homepage '.concat(Object(o.h)("mtech-site-recommended__arrow-icon"),'</a>\n\t\t\t</header>\n\n\t\t\t<div class="mtech-site-recommended__items">\n\t\t\t\t').concat(this.loopItems(),"\n\t\t\t</div>"),Object(r.a)(".adobe-target-placeholder-wrapper").then(function(){var e,t=document.getElementById(n.placeholderID);t?((e=t.parentElement).classList.add("read-the-latest-banner"),e.classList.remove("adobe-target-banner-hidden"),t.append(a),Object(c.e)("thank-you-recommended-displayed",n.config),n.clickTracking()):Object(i.a)("Debug: ".concat(n.placeholderID," placeholder not found."))})}},{key:"cleanCategory",value:function(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/-/g,"-")}},{key:"formatDate",value:function(e){if(e&&""!==e)return t=new Date(e),n=12<=(a=t.getHours())?"pm":"am",a=a%12||12,e=(e=t.getMinutes())<10?"0".concat(e):e,n="".concat(a,":").concat(e).concat(n),"".concat(t.getDate()," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()+1]," ").concat(t.getFullYear(),", ").concat(n);var t,n,a}},{key:"loopItems",value:function(){var e,t="";for(e in this.config.recommendationResults)t+='\n\t\t\t\t<a class="mtech-site-recommended__link" href="https://www.telegraph.co.uk'.concat(this.config.recommendationResults[e].pageURL,'?icid=transformations_thankyourecommender">\n\t\t\t\t\t<div class="mtech-site-recommended__item">\n\t\t\t\t\t\t<div class="mtech-site-recommended__thumbnail-wrapper">\n\t\t\t\t\t\t\t<img src="').concat(this.config.recommendationResults[e].thumbnailUrl,'" class="mtech-site-recommended__thumbnail"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="mtech-site-recommended__text-wrapper">\n\t\t\t\t\t\t\t').concat("true"===this.config.recommendationResults[e].premiumContent?'<span class="mtech-site-recommended__label">Premium</span>':"",' \n\t\t\t\t\t\t\t<h3 class="mtech-site-recommended__article-title">').concat(this.config.recommendationResults[e].name,'</h3>\n\t\t\t\t\t\t\t<p class="mtech-site-recommended__article-info">').concat(this.cleanCategory(this.config.recommendationResults[e].category)," | ").concat(this.formatDate(this.config.recommendationResults[e].published),"</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>");return t}},{key:"clickTracking",value:function(){var n=this;this.trackingElements.forEach(function(t){document.querySelectorAll(t.element).forEach(function(e){e.addEventListener("click",function(e){Object(c.e)(t.event,n.config)})})})}}],s(u.prototype,l),u);function u(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.placeholderID="ADT01",this.trackingElements=[{element:".header-left a",event:"onward-click-telegraph-logo"},{element:".pickup-banner .banner-button",event:"onward-click-pickup-where-left"},{element:".secondary-banner .app-store-badge",event:"onward-click-app-store"},{element:".secondary-banner .google-play-badge",event:"onward-click-google-play"},{element:".mtech-site-recommended__home-link",event:"onward-click-recommended-home-link"},{element:".mtech-site-recommended__link",event:"onward-click-recommended-article"}]}e.a.create("classes.TURecommendation"),martech.classes.TURecommendation=l,d.a=l}.call(this,"Activities/TGT-56--thank-you-rec")},function(e,s,l){"use strict";!function(e){var t=l(0),n=l(2),a=l(3),i=l(53);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=(r(c.prototype,[{key:"init",value:function(){this.config?(Object(a.a)(this.config),this.subsConfirmationDetails()):Object(t.a)("Config not found for activity at ".concat(e))}},{key:"subsConfirmationDetails",value:function(){var a=this;Object(i.a)("subscriptionConfirmation").then(function(){var e,t,n;a.setup.source&&(e=window.dataLayer.subscription.paymentPlan.toLowerCase(),t=window.dataLayer.subscription.productID||window.dataLayer.subscription.productId,n=a.setup.reportedProduct[t],a.revenue(t,n,e))})}},{key:"revenue",value:function(e,t,n){var a=Date.now().toString(),i=this.setup.detailsRevenue[t][n];adobe.target.trackEvent({mbox:"offerSubscription".concat(this.setup.source.charAt(0).toUpperCase()+this.setup.source.slice(1)),params:{orderId:a,orderTotal:i,productPurchasedId:"".concat(t,"-").concat(n),"entity.id":e,"entity.categoryId":!1,"entity.name":t,"entity.conversionType":"offersubscription".concat(this.setup.source),"entity.paymentPlan":n,"entity.channel":!1,"entity.businessSegment":!1,"entity.keywords":!1,"entity.pageType":!1,"entity.pageURL":!1,"entity.thumbnailURL":!1,"entity.premiumContent":!1,"entity.publishedRangeOneDay":!1,"entity.publishedRangeTwoDays":!1,"entity.publishedRangeOneWeek":!1,"entity.publishedRangeNineDays":!1,"entity.firstPublished":!1,"entity.author":!1,"entity.comment":!1,"entity.commentsEnabled":!1,"entity.authorImageSrc":!1}})}}]),c);function c(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.setup={source:this.config.subViaSource.includes("viaSupshop:true")?"subshop":!!this.config.subViaSource.includes("viaPaywall:true")&&"paywall",reportedProduct:{nbrdk4rzgjwte4dmnnzhgobuobvwgytm:"ada",nyytq4zthbvwsoliojugwyzzmyzha3dt:"std",hbxwuzbzojzgiztumvwhg4dcmrxhe4ds:"std",nzzhaz3eni4xc3jqmzzwu2zrn44xa4dd:"sports"},detailsRevenue:{ada:{annual:200,monthly:130},std:{annual:100,monthly:65},sports:{annual:40,monthly:30}}}}n.a.create("classes.TrackSubscriptions"),martech.classes.TrackSubscriptions=o,s.a=o}.call(this,"Activities/TGT-70--dp-revenue-tracking")},function(e,t,n){"use strict";t.a=function(n){return new Promise(function(t){!function e(){window.dataLayer&&window.dataLayer.event&&Array.isArray(window.dataLayer.event)&&window.dataLayer.event.some(function(e){return e===n})?t():setTimeout(e,300)}()})}},function(e,h,p){"use strict";!function(e){var t=p(0),n=p(2),a=p(3),i=p(4),r=p(55),o=p(56),c=p(1),s=p(6);function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=(l(d.prototype,[{key:"init",value:function(){var n=this;this.config?(Object(a.a)(this.config),Object(i.a)(e),Object(s.a)(this.referenceSelector).then(function(e){var t=document.createElement("div");t.setAttribute("class","mtech-card-expiry"),t.innerHTML=n.markup,e.after(t),n.modifiers(t),n.events(t)})):Object(t.a)("Config not found for activity at ".concat(e))}},{key:"modifiers",value:function(e){e.classList.add("mtech-card-expiry--".concat(this.map[this.config.experienceNumber].version))}},{key:"events",value:function(e){var t=this;Object(c.c)("expiry-display-".concat(this.map[this.config.experienceNumber].version)),Object(c.e)("card-expiry-".concat(this.map[this.config.experienceNumber].version,"_displayed"),this.config);var n=document.querySelector(".mtech-card-expiry__close"),a=document.querySelector(".mtech-card-expiry__cta");n.addEventListener("click",function(){Object(c.c)("expiry-interact-".concat(t.map[t.config.experienceNumber].version)),Object(c.e)("card-expiry-".concat(t.map[t.config.experienceNumber].version,"_close-click"),t.config),e.parentNode.removeChild(e)}),a.addEventListener("click",function(){Object(c.c)("expiry-interact-".concat(t.map[t.config.experienceNumber].version)),Object(c.e)("card-expiry-".concat(t.map[t.config.experienceNumber].version,"_cta-click"),t.config)})}}]),d);function d(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.map=Object(r.a)(),this.markup=Object(o.a)(this.config.experienceNumber,this.map),this.referenceSelector=".site-header__secondary-wrapper"}n.a.create("classes.CardExpiry"),martech.classes.CardExpiry=u,h.a=u}.call(this,"Activities/TGT-151--creditcard-expiry-v2")},function(e,t,n){"use strict";var a=n(5);t.a=function(){return{0:{img:Object(a.l)("mtech-card-expiry__icon"),content:'The card details we have on file for you are due to expire. <span class="mtech-card-expiry__update">Update them to avoid any interruptions.</span>',cta:"Update",version:"month",url:"https://secure.telegraph.co.uk/customer/secure/personal",icid:"mtech-card-expiry_month"},1:{img:Object(a.l)("mtech-card-expiry__icon"),content:'Your bank card is about to expire. <span class="mtech-card-expiry__update">Please update your details now to avoid any interruptions.</span>',cta:"Update",version:"twoweeks",url:"https://secure.telegraph.co.uk/customer/secure/personal",icid:"mtech-card-expiry_twoweeks"},2:{img:Object(a.a)("mtech-card-expiry__icon"),content:'We could not process your payment. <span class="mtech-card-expiry__update">To continue with your subscription, please update your card details.</span>',cta:"Update now",version:"expired",url:"https://secure.telegraph.co.uk/customer/secure/personal",icid:"mtech-card-expiry_expired"}}}},function(e,t,n){"use strict";var a=n(5);t.a=function(e,t){return'<div class="mtech-card-expiry__wrap">\n\t\t\t<div class="mtech-card-expiry__container">\n\t\t\t\t<div class="mtech-card-expiry__content">\n\t\t\t\t\t'.concat(t[e].img,'\n\t\t\t\t\t<div class="mtech-card-expiry__message">').concat(t[e].content,'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="mtech-card-expiry__action">\n\t\t\t\t\t<a href="').concat(t[e].url,"?payment-update=true&ICID=").concat(t[e].icid,'" class="mtech-card-expiry__cta">\n\t\t\t\t\t\t').concat(t[e].cta,'\n\t\t\t\t\t</a>\n\t\t\t\t\t<button class="mtech-card-expiry__close">\n\t\t\t\t\t\t').concat(Object(a.o)("mtech-card-expiry__close-icon"),"\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>")}},function(e,p,f){"use strict";!function(n){var a=f(0),e=f(2),i=f(3),r=f(4),o=f(11),c=f(32),s=f(58),l=f(33);function u(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d,d=(d=[{key:"init",value:function(){var e,t=this;this.config?(Object(i.a)(this.config),Object(r.a)(n),this.type=this.getModalType(Object(l.a)()),this.layout=this.getModalLayout(Object(l.a)()),this.data=Object(s.a)(this.config)[this.type],this.content="regwall"===this.type?Object(c.b)(this.data):Object(c.a)(this.data,this.layout),this.articleContainer=document.querySelector(".twoThirds.gutter")||document.querySelector(".tmglSlideshowTop"),this.modalConfig=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},this.config,{},{extraClass:"".concat(this.type," escenic-").concat(this.type," escenic-").concat(this.type,"--").concat(this.layout),timeout:100,content:this.content,displayMobile:!0,preventScrolling:!0,displayOverlay:!0,detachOverlay:!1}),e=new o.a(this.modalConfig),setTimeout(function(){e.init(),t.articleContainer&&t.freeAccessibility()},this.modalConfig.timeout)):Object(a.a)("Config not found for activity at ".concat(n))}},{key:"getModalLayout",value:function(e){for(var t in e)if(this.config.campaignId.includes(t))return e[t].layout}},{key:"getModalType",value:function(e){for(var t in e)if(this.config.campaignId.includes(t))return e[t].type}},{key:"freeAccessibility",value:function(){var e=document.createElement("meta");e.setAttribute("itemprop","isAccessibleForFree"),e.setAttribute("content","false"),this.articleContainer.prepend(e)}}],t(h.prototype,d),h);function h(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}e.a.create("classes.EscenicModal"),martech.classes.EscenicModal=d,p.a=d}.call(this,"Activities/CUS-1534--escenic-hard-wall")},function(e,t,n){"use strict";t.a=function(e){return{regwall:{title:"To continue reading this article...",excerpt:"You'll need to register with us. Don't worry - it's <span class=\"martech-escenic-regwall__underline\">free</span> and only takes  <span class=\"martech-escenic-regwall__underline\">a few seconds</span>. You'll also enjoy access to a treasure trove of our older journalism, and a brilliant selection of newsletters.",offerCTA:"Register",offerURL:"https://secure.telegraph.co.uk/customer/secure/register/",login:"Already have an account? ",loginCTA:"Login",loginURL:"https://secure.telegraph.co.uk/secure/login/",img:"https://static.telegraph.co.uk/aem/martech/tgt-281--escenic-regwall/Reg-wall-image.png",offerICID:"".concat(e.campaignId,"_").concat(e.campaignName,"_registercta"),loginICID:"".concat(e.campaignId,"_").concat(e.campaignName,"_logincta")},paywall:{title:'Start your <span class="martech-escenic-paywall__underline">free</span> trial to continue reading',excerpt:"Enjoy unlimited access to the news website of the year.<br> Try The Telegraph free for one month, then for just Â£2 per week",description:!1,offerCTA:"Start your free trial",offerURL:"https://secure.telegraph.co.uk/customer/secure/payment/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial1-website-monthly-PC259&campaignId=839X",login:"Already a subscriber?",loginCTA:"Login",loginURL:"https://secure.telegraph.co.uk/secure/login/",offerICID:"conversion-subscription_onsite-asset_overlay_06/04_DL-006_escenic20overlay_overlay_standardoffer",loginICID:"conversion-subscription_onsite-asset_overlay_06/04_DL-006_escenic20overlay_overlay_login"}}}},function(e,p,f){"use strict";!function(t){var n=f(0),e=f(2),a=f(3),i=f(4),r=f(11),o=f(8),c=f(115);function s(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function l(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d,d=(d=[{key:"init",value:function(){var e=this;this.config?(Object(a.a)(this.config),this.config=l({},this.config,{loggedIn:window.tmg.user.isLoggedIn(),escenicContent:document.querySelector('meta[property="article:content_tier"][content="archive"]')}),this.modalConfig=l({},this.config,{extraClass:"martech-hard-paywall",timeout:100,content:Object(c.a)(this.config),displayMobile:!0,preventScrolling:!0,displayOverlay:!0,detachOverlay:!1,extraOverlayClass:"martech-hard-paywall-overlay"}),Object(o.b)(this.config).then(function(){Object(i.a)(t),e.start()}).catch(function(){Object(o.c)(e.config).then(function(){Object(i.a)(t),e.start()}).catch(function(){})})):Object(n.a)("Config not found for activity at ".concat(t))}},{key:"start",value:function(){var e=new r.a(this.modalConfig);setTimeout(function(){e.init()},this.modalConfig.timeout)}}],u(h.prototype,d),h);function h(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}e.a.create("classes.HardPaywallModal"),martech.classes.HardPaywallModal=d,p.a=d}.call(this,"Activities/CUS-1725--aem-hard-paywall")},function(e,l,u){"use strict";!function(t){var n=u(0),e=u(2),a=u(3),i=u(4),r=u(40);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c,c=(c=[{key:"init",value:function(){var e=this;if(this.config){if(Object(a.a)(this.config),Object(i.a)(t),this.config.pageURL=window.location.pathname,"true"!==this.config.premium||!this.pubsubBlacklistCheck())return"true"!==this.config.premium?new r.a(this.config).init():void window.tmg.pubsub.subscribe({topic:"tmg.piano.paywall.web_no_paywall",func:function(){if(!e.noPaywallTopic)return e.noPaywallTopic=!0,new r.a(e.config).init()},runIfAlreadyPublished:!0})}else Object(n.a)("Config not found for activity at ".concat(t))}},{key:"pubsubBlacklistCheck",value:function(){return 0<["tmg.piano.paywall.web_anon_blacklist","tmg.piano.paywall.web_sport_blacklist","tmg.piano.paywall.web_reg_blacklist"].filter(function(e){return window.tmg.pubsub.publishedTopics.includes(e)}).length}}],o(s.prototype,c),s);function s(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.noPaywallTopic=!1}e.a.create("classes.NewsletterUnit"),martech.classes.NewsletterUnit=c,l.a=c}.call(this,"Activities/TGT-309--newsletter-units")},function(e){e.exports=JSON.parse('{"links":[{"name":"Quick & Easy recipes","link":"https://www.telegraph.co.uk/quick-easy-recipes/?ICID=editorial_cookbook_inarticlelink_generic_bottom-of-article"},{"name":"Healthy Recipes","link":"https://www.telegraph.co.uk/healthy-recipes/?ICID=editorial_cookbook_inarticlelink_generic_bottom-of-article"},{"name":"Baking recipes","link":"https://www.telegraph.co.uk/baking-recipes/?ICID=editorial_cookbook_inarticlelink_generic_bottom-of-article"},{"name":"Special Diet Recipes","link":"https://www.telegraph.co.uk/special-diet-recipes/?ICID=editorial_cookbook_inarticlelink_generic_bottom-of-article"},{"name":"Browse by occasion","link":"https://www.telegraph.co.uk/browse-by-occasion/?ICID=editorial_cookbook_inarticlelink_generic_bottom-of-article"},{"name":"Browse by meal type","link":"https://www.telegraph.co.uk/browse-by-meal-type/?ICID=editorial_cookbook_inarticlelink_generic_bottom-of-article"},{"name":"Browse by ingredient","link":"https://www.telegraph.co.uk/browse-by-ingredient/?ICID=editorial_cookbook_inarticlelink_generic_bottom-of-article"}]}')},function(e,g,m){"use strict";!function(t){var n=m(0),e=m(2),a=m(3),i=m(4),r=m(11),o=m(8),c=m(34),s=m(6),l=m(1),u=m(14);function d(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var p,p=(p=[{key:"init",value:function(){var e=this;this.config?(Object(a.a)(this.config),this.modalConfig=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},this.config,{extraClass:"martech-aem-soft-paywall",timeout:100,content:"united kingdom"!==this.config.geoCountry?Object(c.a)(this.config,"conversion-subscription_onsite-asset_overlay_04-21_EVS035_PP_anon_nonengaged_1mthfree",Object(u.a)(this.config.geoCountry)):Object(c.b)(this.config,"conversion-subscription_onsite-asset_overlay_06-21_EGW-03_junesale_overlay_anon_nonengaged",Object(u.a)(this.config.geoCountry)),displayMobile:!0,preventScrolling:!0,displayOverlay:!0,detachOverlay:!0}),Object(o.b)(this.config).then(function(){Object(i.a)(t),e.start()}).catch(function(){Object(o.c)(e.config).then(function(){Object(i.a)(t),e.start()}).catch(function(){})})):Object(n.a)("Config not found for activity at ".concat(t))}},{key:"start",value:function(){var e=this,t=new r.a(this.modalConfig);setTimeout(function(){t.init(),e.bindEvents()},this.modalConfig.timeout)}},{key:"bindEvents",value:function(){var n=this;Object(l.c)("".concat(this.mboxPrefix,"-display")),Object(s.a)(".martech-modal-component__close").then(function(e){e.addEventListener("click",function(e){Object(l.c)("".concat(n.mboxPrefix,"-click")),e.stopPropagation()})}),Object(s.a)(".martech-modal-component-overlay").then(function(t){t.addEventListener("click",function(e){e.target===t&&(Object(l.c)("".concat(n.mboxPrefix,"-click")),e.stopPropagation())})}),Object(s.a)(".martech-aem-soft-paywall__cta").then(function(e){e.addEventListener("click",function(){Object(l.c)("non-engaged-audience-click"),Object(l.e)("ctaclick",n.config)})})}}],h(f.prototype,p),f);function f(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.mboxPrefix="non-engaged-audience"}e.a.create("classes.AnonSoftSubModal"),martech.classes.AnonSoftSubModal=p,g.a=p}.call(this,"Activities/CUS-1794--non-engaged-soft-overlay")},function(e,d,h){"use strict";!function(e){var n=h(0),t=h(2),a=h(3),i=h(4),r=h(64),o=h(1),c=h(6);function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=(s(u.prototype,[{key:"init",value:function(){var t=this;this.config?(Object(a.a)(this.config),Object(i.a)(e),this.referenceSelector.forEach(function(e){"#navigation"!==e?t.subscribe(e):t.build(e)})):Object(n.a)("Config not found for activity at ".concat(e))}},{key:"build",value:function(e){var n=this;1<arguments.length&&void 0!==arguments[1]&&!arguments[1]||Object(c.a)(e).then(function(e){var t=document.createElement("div");t.classList.add("mtech-cec-notification"),t.innerHTML=n.markup,e.after(t),n.bindEvents(t)})}},{key:"bindEvents",value:function(e){var t=this;Object(o.e)("cec-notification-displayed",this.config);var n=document.querySelector(".mtech-cec-notification__close"),a=document.querySelector(".mtech-cec-notification__cta");n.addEventListener("click",function(){Object(o.c)("cec-notification-closed"),Object(o.e)("cec-notification-close-click",t.config),e.parentNode.removeChild(e),t.visible=!1}),a.addEventListener("click",function(){Object(o.e)("cec-notification-cta-click",t.config)})}},{key:"subscribe",value:function(e){var t=this;window.tmg.pubsub.subscribe({topic:"tmg.customerApp.accountHome.pageReady",func:function(){return t.build(e,t.visible)},runIfAlreadyPublished:!0}),window.tmg.pubsub.subscribe({topic:"tmg.customerApp.accountNewsletters.pageReady",func:function(){return t.build(e,t.visible)},runIfAlreadyPublished:!0}),window.tmg.pubsub.subscribe({topic:"tmg.customerApp.accountSubscriptions.pageReady",func:function(){return t.build(e,t.visible)},runIfAlreadyPublished:!0}),window.tmg.pubsub.subscribe({topic:"tmg.customerApp.accountPersonal.pageReady",func:function(){return t.build(e,t.visible)},runIfAlreadyPublished:!0})}}]),u);function u(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.markup=Object(r.a)(),this.referenceSelector=["#navigation",".header-container.header-container-menu"],this.visible=!0}t.a.create("classes.CECNotification"),martech.classes.CECNotification=l,d.a=l}.call(this,"Activities/CUS-1851--cec-notification-banner")},function(e,t,n){"use strict";var a=n(5);t.a=function(){return'<div class="mtech-cec-notification__wrap">\n\t\t\t<div class="mtech-cec-notification__container">\n\t\t\t\t<div class="mtech-cec-notification__content">\n\t\t\t\t\t'.concat(Object(a.p)("mtech-cec-notification__icon"),'\n\t\t\t\t\t<div class="mtech-cec-notification__message mtech-cec-notification__message--desktop">Due to these unprecedented circumstances, weâ€™ve had to close our phone lines. We apologise - and hope you understand. Weâ€™re still here to help, though. You may well find the answer youâ€™re looking for in our useful information section.</div>\n\t\t\t\t\t<div class="mtech-cec-notification__message mtech-cec-notification__message--mobile">Sorry, weâ€™ve had to temporarily close our phone lines. But you may well find what youâ€™re looking for in our useful information, <a class="mtech-cec-notification__link" href="https://www.telegraph.co.uk/contact-us/">here</a>.</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="mtech-cec-notification__action">\n\t\t\t\t\t<a href="https://www.telegraph.co.uk/contact-us/" class="mtech-cec-notification__cta">\n\t\t\t\t\tLearn more ').concat(Object(a.h)("mtech-cec-notification__arrow-icon"),'\n\t\t\t\t\t</a>\t\t\t\t\n\t\t\t\t\t<button class="mtech-cec-notification__close">\n\t\t\t\t\t\t').concat(Object(a.o)("mtech-cec-notification__close-icon"),"\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>")}},function(e,m,y){"use strict";!function(t){var e=y(2),n=y(0),a=y(11),i=y(8),r=y(3),o=y(6),c=y(1),s=y(66),l=y(67),u=y(14),d=y(4);function h(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var f,f=(f=[{key:"init",value:function(){var e=this;this.config?(Object(r.a)(this.config),Object(i.b)(this.config).then(function(){Object(d.a)(t),e.setup(),e.build()}).catch(function(){Object(i.c)(e.config).then(function(){Object(d.a)(t),e.setup(),e.build()}).catch(function(){})})):Object(n.a)("Config not found for activity at ".concat(t))}},{key:"setup",value:function(){this.config.userPrefix=this.config.userStatus.includes("logged in")?"reg":"anon",this.data=Object(l.a)(this.config,Object(u.a)(this.config.geoCountry)),this.modal=Object(s.a)(this.data),this.modalConfig=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},this.config,{extraClass:"martech-engaged-audience",timeout:100,content:this.modal,displayMobile:!0,preventScrolling:!0,displayOverlay:!0,detachOverlay:!1,extraTrackingInfo:"".concat(this.config.userPrefix)})}},{key:"build",value:function(){var e=this;this.component=new a.a(this.modalConfig),setTimeout(function(){e.component.init(),e.bindEvents()},this.modalConfig.timeout)}},{key:"bindEvents",value:function(){var t=this;Object(c.c)("engaged-cohort--".concat(this.config.userPrefix,"-audience-display")),Object(o.a)(".martech-modal-component__close").then(function(e){e.addEventListener("click",function(e){Object(c.c)("engaged-cohort-".concat(t.config.userPrefix,"-audience-click")),e.stopPropagation()})}),Object(o.a)(".martech-engaged-audience__cta").then(function(e){e.addEventListener("click",function(){Object(c.c)("engaged-cohort-".concat(t.config.userPrefix,"-audience-click")),Object(c.e)("ctaclick--".concat(t.config.userPrefix),t.config)})})}}],p(g.prototype,f),g);function g(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof g))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}e.a.create("classes.EngagedCohortOverlay"),martech.classes.EngagedCohortOverlay=f,m.a=f}.call(this,"Activities/CUS-1954--engaged-cohort-overlay")},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(7),i=function(e){return'<div class="martech-engaged-audience__label">'.concat(e.label,'</div>\n\t\t<div class="martech-engaged-audience__container ').concat(e.containerClass,'">\n\t\t\t<h1 class="martech-engaged-audience__title">').concat(e.title,'</h1>\n\t\t\t<p class="martech-engaged-audience__excerpt">').concat(e.excerpt,'</p>\n\t\t\t<a class="martech-engaged-audience__cta" href=\'').concat(Object(a.a)(e.landingPage+"&ICID=".concat(e.icid)),"'>").concat(e.cta,'</a>\n\t\t\t<p class="martech-engaged-audience__description">').concat(e.description,"</p>\n\t\t</div>")}},function(e,t,n){"use strict";function r(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function i(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}t.a=function(e,t){var n="https://secure.telegraph.co.uk/customer/secure/checkout",a={label:"Your exclusive offer",title:"Try three whole months for just ".concat(t.price(1),' a month. <br class="martech-engaged-audience__linebreak--lg-mobile">Cancel anytime.'),excerpt:"Unlock unlimited website access, plus follow the latest news updates and read the daily newspaper in our exclusive app.",cta:"Start your free trial",description:"",containerClass:"martech-engaged-audience__container--anon-padding",landingPage:"".concat(n,"?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=digital-month-RP001&campaignId=038A"),icid:"conversion-subscription_onsite-asset_overlay_04-21_EVS035_PP_reg_engaged_3for3"};return"anon"===e.userPrefix&&(a=i({},a,{title:"Try three whole months for just ".concat(t.price(1)," a month. Cancel anytime."),excerpt:"Stay up to speed at your pace with a Digital Subscription. Unlock unlimited website access, plus the latest news updates and the daily newspaper in our exclusive app.",icid:"conversion-subscription_onsite-asset_overlay_04-21_EVS035_PP_anon_engaged_3for3"})),a=e.geoCountry.toLowerCase().includes("united kingdom")?"anon"===e.userPrefix?i({},a,{title:'Subscribe now to save <br class="martech-engaged-audience__xxs-and-sm-display" />over 85%',excerpt:'<span class="martech-engaged-audience__bold">Enjoy your first four months for just Â£3 in total</span> and follow every crucial step on the road to lifting restrictions with our award-winning team. Gain unrivalled clarity with a Digital Subscription today.',landingPage:"".concat(n,"?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP001&campaignId=038A"),icid:"conversion-subscription_onsite-asset_overlay_04-21_EVS035_PP_anon_engaged_4for3"}):i({},a,{title:"Enjoy 3 whole months for just ".concat(t.price(1)," per month"),excerpt:'<span class="martech-engaged-audience__bold">Save over 85% on a Digital Subscription.</span> Unlock unlimited access to telegraph.co.uk, plus the latest news updates and the daily newspaper in our exclusive app. Cancel anytime.',landingPage:"".concat(n,"?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=digital-month-RP001&campaignId=038A"),icid:"conversion-subscription_onsite-asset_overlay_04-21_EVS035_PP_reg_engaged_3for3"}):a}},function(e,u,d){"use strict";!function(t){var n=d(0),e=d(2),a=d(3),i=d(12),r=d(20),o=d(1);function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=(c(l.prototype,[{key:"init",value:function(){var e;this.config?(Object(a.a)(this.config),(e=i.a.get("tmg_p13n"))?(e=r.a.tryParse(e)).expire&&""!==e.expire?Object(n.a)("".concat(this.config.campaignName," - p13n cookie up to date.")):((e=document.createElement("iframe")).style.display="none",e.src="https://www.telegraph.co.uk/customer/refreshcookies/",e.id="martech-subs-trigger",document.body.appendChild(e),Object(o.e)("subs-fix-iframe-triggered",this.config)):Object(n.a)("".concat(this.config.campaignName," - p13n cookie not found"))):Object(n.a)("Config not found for activity at ".concat(t))}}]),l);function l(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}e.a.create("classes.FixSubsViaiFrame"),martech.classes.FixSubsViaiFrame=s,u.a=s}.call(this,"Activities/CUS-1775--fix-subs-via-frame")},function(e,g,m){"use strict";!function(n){var a=m(0),e=m(2),i=m(3),r=m(4),o=m(11),c=m(8),s=m(35),t=m(6),l=m(1),u=m(14);function d(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var p,p=(p=[{key:"init",value:function(){var e,t=this;this.config?(Object(i.a)(this.config),e="conversion-subscription_onsite-asset_overlay_04-21_EVS035_PP_reg_nonengaged_4for3",this.modalConfig=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},this.config,{extraClass:"martech-non-engaged-reg-overlay",timeout:100,content:(this.config.geoCountry.toLowerCase().includes("united kingdom")?Object(s.b):Object(s.a))(this.config,e,Object(u.a)(this.config.geoCountry)),displayMobile:!0,preventScrolling:!0,displayOverlay:!0,detachOverlay:!1}),Object(c.b)(this.config).then(function(){Object(r.a)(n),t.start()}).catch(function(){Object(c.c)(t.config).then(function(){Object(r.a)(n),t.start()}).catch(function(){})})):Object(a.a)("Config not found for activity at ".concat(n))}},{key:"start",value:function(){var e=this,t=new o.a(this.modalConfig);setTimeout(function(){t.init(),e.bindEvents()},this.modalConfig.timeout)}},{key:"bindEvents",value:function(){var n=this;Object(l.c)("".concat(this.mboxPrefix,"-display")),Object(t.a)(".martech-modal-component__close").then(function(e){e.addEventListener("click",function(e){Object(l.c)("".concat(n.mboxPrefix,"-click")),e.stopPropagation()})}),Object(t.a)(".martech-modal-component-overlay").then(function(t){t.addEventListener("click",function(e){e.target===t&&(Object(l.c)("".concat(n.mboxPrefix,"-click")),e.stopPropagation())})}),Object(t.a)(".martech-non-engaged-reg-overlay__cta").then(function(e){e.addEventListener("click",function(){Object(l.c)("".concat(n.mboxPrefix,"-click")),Object(l.e)("ctaclick",n.config)})})}}],h(f.prototype,p),f);function f(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.mboxPrefix="non-engaged-audience",this.icid="conversion-subscription_onsite-asset_overlay_04-21_EVS035_PP_reg_nonengaged_4for3"}e.a.create("classes.NonEngagedRegModal"),martech.classes.NonEngagedRegModal=p,g.a=p}.call(this,"Activities/CUS-2033--non-engaged-reg-overlay")},function(e,y,b){"use strict";!function(t){var a=b(0),e=b(2),n=b(3),i=b(4),r=b(8),o=b(71),c=b(72),s=b(73),l=b(75),u=b(29),d=b(1),h=b(22);function p(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var g,g=(g=[{key:"init",value:function(){var e=this;this.config?(Object(n.a)(this.config),this.parametersPass&&Object(r.b)(this.config).then(function(){Object(i.a)(t),e.start()}).catch(function(){Object(r.c)(e.config).then(function(){Object(i.a)(t),e.start()}).catch(function(){})})):Object(a.a)("Config not found for activity at ".concat(t))}},{key:"start",value:function(){var t=this;this.config.channel=this.channelAlias(),this.config.daysSince=parseInt(this.config.daysSince),this.config.today=(new Date).getDay(),this.config.todayString=this.getDayString(this.config.today);var n=new s.a(this.config);n.build().then(function(e){t.cards=e,t.buildFooter(),n.tracking()}).catch(function(e){return Object(a.a)("MARTECH::",e)})}},{key:"minimisedByDefault",value:function(){return!this.config.onwardJourney.includes("pageviews=0")}},{key:"buildFooter",value:function(){var e=this,t=this.minimisedByDefault(),n="day-".concat(this.config.daysSince,"-").concat(this.config.todayString),n=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},this.config,{extraClass:"martech-onward-journey",content:Object(c.a)(this.cards,this.config.channel,this.config.daysSince),displayOverlay:!1,displayMobile:!0,animation:"slide",type:"footer",frequencyActive:!0,closeButton:!0,minimise:!0,minimisedOnLoad:t,extraTrackingInfo:n,timeout:1e3}),a=new o.a(n);setTimeout(function(){a.init(),e.buttonInteraction(),e.setBelowFoldHeight(),e.windowResizeHandler(),e.addSliderNavigation(),t&&e.openAtEndOfArticle(),Object(d.c)("onward-journey-page-view")},n.timeout)}},{key:"channelAlias",value:function(){var e,t={lifestyle:["family","women","men","recipes","food-and-drink","health-fitness","education-and-careers","cars","gardening","fashion"],sport:["rugby-union","rugby-league","rugby-world-cup","rugby-sevens","cricket"]};for(e in t)if(t[e].includes(this.config.channel))return e;return this.config.channel}},{key:"addSliderNavigation",value:function(){var e=document.querySelector(".martech-onward-journey__cards-container"),t=document.querySelector(".martech-onward-journey__slider-nav--right"),n=document.querySelector(".martech-onward-journey__slider-nav--left");new l.a(e,t,n).init()}},{key:"openAtEndOfArticle",value:function(){var e=this;Object(u.a)(".article__end-meta",{rootMargin:"0px 0px -75px 0px",threshold:1}).then(function(){e.interactedWithButton||(Object(d.e)("expanded-at-end-of-article",e.config),document.querySelector(".martech-onward-journey").classList.remove("martech-footer-component--minimise"))})}},{key:"setBelowFoldHeight",value:function(){var e=window.innerWidth<768?13:17,t=document.querySelector(".martech-onward-journey__cards-container").offsetHeight;this.height&&this.height===e+t||(this.height=e+t,document.querySelector(".martech-onward-journey").style.setProperty("--martech-onward-journey-bottom-pos","-".concat(this.height,"px")))}},{key:"windowResizeHandler",value:function(){var e=this;window.addEventListener("resize",Object(h.a)(function(){return e.setBelowFoldHeight()},300))}},{key:"getDayString",value:function(e){return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][e-1]}},{key:"buttonInteraction",value:function(){var e=this,t=document.querySelector(".martech-footer-component__minimise-button");t&&t.addEventListener("click",function(){e.interactedWithButton||(e.interactedWithButton=!0)})}}],f(m.prototype,g),m);function m(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.interactedWithButton=!1,this.parametersPass="string"==typeof this.config.onwardJourney&&"string"==typeof this.config.daysSince}e.a.create("classes.OnwardJourneySlider"),martech.classes.OnwardJourneySlider=g,y.a=g}.call(this,"Activities/TGT-364--7-day-onward-journey")},function(e,t,n){"use strict";var a=n(1),i=n(5),r=n(22);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}o(c.prototype,[{key:"init",value:function(){this.config.customInjectCallback?(this.customInject(),document.querySelector(".martech-footer-component")&&this.trackDisplay()):(this.buildOverlay(),this.trackDisplay())}},{key:"buildOverlay",value:function(){var e=document.querySelector(this.elementRoot);this.overlay=document.createElement("div"),this.overlay.classList.add(this.classOverlay),e.appendChild(this.overlay),this.overlay=document.querySelector(".".concat(this.classOverlay)),this.overlay.appendChild(this.addFooter())}},{key:"customInject",value:function(){this.config.customInjectCallback(this.addFooter())}},{key:"addFooter",value:function(){var e=document.createElement("block");if(e.classList.add("martech-footer-component"),this.config.extraClass)for(var t=this.config.extraClass.split(" "),n=0;n<t.length;n++)e.classList.add(t[n]);return this.config.animation&&e.classList.add("martech-footer-component--".concat(this.config.animation)),e.innerHTML='\n\t\t\t<div class="martech-footer-component__container">\n\t\t\t\t<div class="martech-footer-component__content">\n\t\t\t\t\t'.concat(this.config.content,"\n\t\t\t\t</div>\n\t\t\t\t").concat(this.config.closeButton?this.createCloseButton():"","\n\t\t\t</div>"),this.footer=e}},{key:"createCloseButton",value:function(){var e=this.config.minimise?"martech-footer-component__minimise-button":this.classFooterClose,t=this.config.minimise?i.h:i.o;return'<button class="'.concat(e," ").concat(this.classFooterClose,"--").concat(this.config.closeButtonPosition,'">\n\t\t\t\t').concat(t("martech-footer-component__close-icon"),"\n\t\t\t</button>")}},{key:"trackDisplay",value:function(){this.config.displayOverlay&&this.overlay.classList.add("".concat(this.classOverlay,"--is-visible")),this.config.displayMobile||this.overlay.classList.add("".concat(this.classOverlay,"--not-mobile")),this.config.frequencyActive&&adobe.target.trackEvent({mbox:this.config.frequencyMbox,params:{frequency:this.config.frequencyDays}});var e=this.config.extraTrackingInfo?"overlay-loaded--".concat(this.config.extraTrackingInfo):"overlay-loaded";Object(a.e)(e,this.config),this.config.closeButton&&this.modalEvents()}},{key:"detachOverlay",value:function(){var e;this.overlay&&(this.overlay.parentNode.removeChild(this.overlay),e=this.config.extraTrackingInfo?"overlay-closed--".concat(this.config.extraTrackingInfo):"overlay-closed",Object(a.e)(e,this.config))}},{key:"minimiseOverlay",value:function(e){var t=this;e.addEventListener("click",function(){var e=t.footer.classList.contains("martech-footer-component--minimise")?"footer-expanded":"footer-minimised";Object(a.e)(e,t.config),t.footer.classList.toggle("martech-footer-component--minimise"),t.config.minimiseCallback&&t.config.minimiseCallback(t.config)}),!this.footer.classList.contains("martech-footer-component--minimise")&&this.footer.minimiseOnScroll&&window.addEventListener("scroll",Object(r.a)(function(){t.footer.classList.add("martech-footer-component--minimise")},500))}},{key:"modalEvents",value:function(){var e,t,n=this;this.config.minimise?(e=document.querySelector(".martech-footer-component__minimise-button"))&&(this.minimiseOverlay(e),this.config.minimisedOnLoad&&this.footer.classList.add("martech-footer-component--minimise")):(e=document.querySelector(".".concat(this.classFooterClose)),t=document.querySelector(".".concat(this.classOverlay)),e&&e.addEventListener("click",function(){n.detachOverlay()}),this.config.displayOverlay&&t.addEventListener("click",function(e){e.target===t&&n.detachOverlay()}))}}]),n=c;function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.elementRoot="body",this.classOverlay="martech-footer-overlay",this.classFooterClose="martech-footer-component__close",this.defaultConfig={campaignId:"010101010",campaignName:"generic_footer",segmentID:"9999999",content:"",closeButton:!0,closeButtonPosition:"right",extraClass:!1,animation:"slide",frequencyActive:!1,frequencyMbox:"footer-component-dynamic-one",frequencyDays:7,displayOverlay:!1,displayMobile:!1,minimise:!1,minimisedOnLoad:!1,minimiseOnScroll:!1,minimiseCallback:!1,extraTrackingInfo:!1,customInjectCallback:!1},this.config=Object.assign({},this.defaultConfig,e)}t.a=n},function(e,t,n){"use strict";var a=n(5);t.a=function(e,t,n){return'\n\t<div class="martech-onward-journey__container">\n\t\t<h1 class="martech-onward-journey__heading">Hereâ€™s whatâ€™s coming up in '.concat(t,'</h1>\n\t\t<div class="martech-onward-journey__cards-container">\n\t\t\t').concat(e,'\n\t\t</div>\n\t\t<button class="martech-onward-journey__slider-nav martech-onward-journey__slider-nav--left">').concat(Object(a.h)("martech-onward-journey__slider-nav-icon"),'</button>\n\t\t<button class="martech-onward-journey__slider-nav martech-onward-journey__slider-nav--right martech-onward-journey__slider-nav--display">').concat(Object(a.h)("martech-onward-journey__slider-nav-icon"),'</button>\n\t</div>\n\t<span class="martech-onward-journey__border-decoration"></span>\n')}},function(e,f,g){"use strict";!function(r){g.d(f,"a",function(){return a});var i=g(74),o=g(12),c=g(5),s=g(15),l=g(21),e=g(6),u=g(1),d=g(0),h=g(19);function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var n,a=(n=[{key:"build",value:function(){var a=this;return new Promise(function(t){var n=a.orderCards(i.a.channels[a.config.channel]);n[0].day="Today",n[1].day="Tomorrow";var e=Object(h.a)().apis.identityTokens;Object(l.a)(e,{body:{refresh_token:o.a.get("tmg_refresh")}}).then(function(e){return a.createArticles(n,e)}).then(function(e){return t(e)}).catch(function(e){return Object(d.a)("MARTECH :: Issue when creating articles: : ".concat(e," at ").concat(r))})})}},{key:"orderCards",value:function(e){if(1===this.config.today)return e;for(var t,n=[],a=0;a<this.config.today-1;a++)n.push(e.shift());return n.unshift.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(t=e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),n}},{key:"createArticles",value:function(n,e){var a=this;this.tokens=e;var i=Object(h.a)().apis.newslettersMe;return new Promise(function(t){Object(l.a)(i,{headers:{access_token:e.access_token,id_token:e.id_token,ddgFlow:a.config.campaignName,ddgAction:"access-user"}}).then(function(e){a.userNewsletterData=e,a.generateArticlesCode(t,n)}).catch(function(e){return Object(d.a)("MARTECH :: Issue when generating articles: : ".concat(e," at ").concat(r))})})}},{key:"generateArticlesCode",value:function(e,t){var n=this,a="";t.forEach(function(e){a+='\n\t\t\t\t<article class="martech-onward-journey__card">\n\t\t\t\t\t<h2 class="martech-onward-journey__card-day">'.concat(e.day,'</h2>\n\t\t\t\t\t<h1 class="martech-onward-journey__card-heading">').concat(e.title,'</h1>\n\t\t\t\t\t<p class="martech-onward-journey__card-info">').concat(e.info,'</p>\n\t\t\t\t\t<div class="martech-onward-journey__card-bottom-container">\n\t\t\t\t\t\t').concat(n.callToAction(e),'\n\t\t\t\t\t\t<img class="martech-onward-journey__card-img" src="').concat(e.img.src,'" alt="').concat(e.img.alt,'"/>\n\t\t\t\t\t</div>\n\t\t\t\t</article>')}),e(a)}},{key:"entitlements",value:function(t){var e=this.userNewsletterData.newsletters.filter(function(e){return e.id===t})[0];return e&&"Inactive"===e.customerStatus}},{key:"callToAction",value:function(e){return e.newsletter?this.entitlements(e.newsletterId)?'<button class="martech-onward-journey__card-button newsletter-signup" data-loading="Signing up" data-newsletter="'.concat(e.newsletterId,'"><span class="martech-onward-journey__card-icon-container">').concat(Object(c.o)("martech-onward-journey__card-button-icon"),"</span>").concat(e.cta.text,"</button>"):'<p class="martech-onward-journey__card-subscribed martech-onward-journey__card-subscribed--grey" data-newsletter="'.concat(e.newsletterId,'">').concat(Object(c.m)("martech-onward-journey__card-subscribed-icon")," You're already signed up</p>"):'<a class="martech-onward-journey__card-link" href="'.concat(e.cta.link,"?ICID=7-day-onward-journey--day-").concat(this.config.daysSince,"-").concat(this.config.todayString,"-").concat(this.config.channel,'"><span class="martech-onward-journey__card-icon-container">').concat(Object(c.h)("martech-onward-journey__card-link-icon"),"</span>").concat(e.cta.text,"</a>")}},{key:"tracking",value:function(){var t=this;Object(e.a)(".martech-onward-journey__container").then(function(e){t.alreadySubscribedTracking(e),t.bindEvents()})}},{key:"alreadySubscribedTracking",value:function(e){var n=this,e=e.querySelectorAll("[data-newsletter]");e&&e.forEach(function(e){var t=n.entitlements(e.dataset.newsletter)?"newsletter-".concat(e.dataset.newsletter,"-displayed--not-signed-up"):"newsletter-".concat(e.dataset.newsletter,"-displayed--signed-up");Object(u.a)({eVar75:t,prop27:e.dataset.newsletter},["event52","event266"],n.config)})}},{key:"bindEvents",value:function(){var i=this,e=document.querySelectorAll(".newsletter-signup");e&&e.forEach(function(a){a.addEventListener("click",function(){var e=a.dataset.newsletter,t=a.dataset.loading,n=document.createElement("p");Object(u.e)("".concat(e,"-cta-click"),i.config),n.classList.add("martech-onward-journey__card-subscribing"),n.innerHTML="".concat('\n\t\t\t\t\t\t<svg class="martech-onward-journey__spinner" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<circle class="martech-onward-journey__spinner-inner-circle" cx="50" cy="50" r="45"/>\n\t\t\t\t\t\t</svg>').concat(t),a.parentNode.replaceChild(n,a),Object(s.e)(i.config,i.tokens,i.config.campaignName,e,{success:"You're now signed up",error:"There has been an error"}).then(function(e){n.innerHTML='<span class="martech-onward-journey__card-icon-container">'.concat("There has been an error"===(e=e)?Object(c.o)("martech-onward-journey__card-icon-error"):Object(c.m)("martech-onward-journey__card-subscribed-icon martech-onward-journey__card-subscribed-icon--teal"),"</span>").concat(e)}).catch(function(e){return Object(d.a)("MARTECH :: Issue when submitting newsletter",e)})})})}}],t(p.prototype,n),p);function p(e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.userNewsletterData=null}}.call(this,"Activities/TGT-364--7-day-onward-journey/_partials")},function(e,t,n){"use strict";t.a={channels:{news:[{day:"Monday",title:"Front Page newsletter",info:"Stay informed with our headline news in your inbox, every morning and evening",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/news/frontpage-newsletter.png",alt:"London skyline"},newsletter:!0,newsletterId:"Frontpage_NL"},{day:"Tuesday",title:"The Daily Briefing",info:"All the news you need in just two minutes",cta:{text:"Get it on WhatsApp",link:"https://www.telegraph.co.uk/news/2019/04/18/telegraph-audio-briefings-sign-new-whatsapp-group/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/news/briefing-podcast.png",alt:"A clock"},newsletter:!1,newsletterId:!1},{day:"Wednesday",title:"Your Royal Appointment",info:"Exclusive updates on the Royal family",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/news/royals-newsletter.png",alt:"The Queen"},newsletter:!0,newsletterId:"Royal_NL"},{day:"Thursday",title:"Allister Heathâ€™s column",info:"Exceptional insight on the dayâ€™s biggest stories",cta:{text:"Read more",link:"/authors/allister-heath/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/news/allister-heath.png",alt:"Allister Heath"},newsletter:!1,newsletterId:!1},{day:"Friday",title:"Fraser Nelsonâ€™s column",info:"Exclusive thoughts from The Spectatorâ€™s editor",cta:{text:"Read more",link:"/authors/fraser-nelson/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/news/fraser-nelson.png",alt:"Fraser Nelson"},newsletter:!1,newsletterId:!1},{day:"Saturday",title:"Charles Mooreâ€™s column",info:"Insightful wisdom, every Saturday",cta:{text:"Read more",link:"/authors/charles-moore/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/news/charles-moore.png",alt:"Charles Moore"},newsletter:!1,newsletterId:!1},{day:"Sunday",title:"Janet Daleyâ€™s column",info:"An incisive take on politics - and politicians",cta:{text:"Read more",link:"/authors/janet-daley/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/news/janet-daley.png",alt:"Read more"},newsletter:!1,newsletterId:!1}],lifestyle:[{day:"Monday",title:"Marriage Diaries",info:"Snapshots of relationships - and their dilemmas",cta:{text:"Read more",link:"/marriage-diaries/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/lifestyle/marriage-diaries.png",alt:"Celia Walden"},newsletter:!1,newsletterId:!1},{day:"Tuesday",title:"Allison Pearsonâ€™s column",info:"A warm, witty look at modern life",cta:{text:"Read more",link:"/authors/allison-pearson/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/lifestyle/alison-pearson.png",alt:"Allison Pearson"},newsletter:!1,newsletterId:!1},{day:"Wednesday",title:"Lisa Armstrong's Front Row newsletter",info:"Essential for dedicated followers of fashion",cta:{text:"Sign up now",link:"/ "},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/lifestyle/lisa-armstrong.png",alt:"Lisa Armstrong"},newsletter:!0,newsletterId:"FrontRowLisa_NL"},{day:"Thursday",title:"The Stella Daily newsletter",info:"The best of fashion, beauty, travel and more from the Stella magazine team",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/lifestyle/stella.png",alt:"The word Stella written in white across a black background"},newsletter:!0,newsletterId:"Stella_NL"},{day:"Friday",title:"Cookbook newsletter",info:"A daily feast of culinary inspiration",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/lifestyle/cookbook-newsletter.png",alt:"A plate of food"},newsletter:!0,newsletterId:"FoodDrink_NL"},{day:"Saturday",title:"Bryony Gordonâ€™s column",info:"Street-smart soliloquies to brighten your weekend",cta:{text:"Read more",link:"/authors/bryony-gordon/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/lifestyle/bryony-gordon.png",alt:"Bryony Gordon"},newsletter:!1,newsletterId:!1},{day:"Sunday",title:"Richard Madeleyâ€™s column",info:"Our agony uncle answers your questions",cta:{text:"Read more",link:"/authors/richard-madeley/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/lifestyle/richard-madeley.png",alt:"Richard Madeley"},newsletter:!1,newsletterId:!1}],politics:[{day:"Monday",title:"Nick Timothyâ€™s column",info:"Get the exclusive inside story in Nickâ€™s no-holds-barred column, every week",cta:{text:"Read more",link:"/authors/nick-timothy/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/politics/nick-timothy.png",alt:"Nick Timothy"},newsletter:!1,newsletterId:!1},{day:"Tuesday",title:"Beyond Brexit Bulletin newsletter",info:"Your essential guide to Britain's post-EU future",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/politics/brexit-bulletin.png",alt:"Gold star with broken point, on a blue background"},newsletter:!0,newsletterId:"Politics_NL"},{day:"Wednesday",title:"Philip Johnstonâ€™s column",info:"A conscientious take on modern politics",cta:{text:"Read more",link:"/authors/philip-johnston/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/politics/phillip-johnston.png",alt:"Philip Johnston"},newsletter:!1,newsletterId:!1},{day:"Thursday",title:"Front Bench newsletter",info:"Your must-read daily political digest",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/politics/front-bench-newsletter.png",alt:"Big Ben against a red background"},newsletter:!0,newsletterId:"PoliticsFrontBench_NL"},{day:"Friday",title:"Chopperâ€™s Politics podcast",info:"Unmissable weekly listening, with special guests",cta:{text:"Listen in now",link:"https://www.telegraph.co.uk/choppers-politics/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/politics/choppers-podcast.png",alt:'Christopher "Chopper" Hope in front of a blue background'},newsletter:!1,newsletterId:!1},{day:"Saturday",title:"Michael Deaconâ€™s column",info:"A truly unique take on the political world",cta:{text:"Read more",link:"/authors/michael-deacon/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/politics/michael-deacon.png",alt:"Michael Deacon"},newsletter:!1,newsletterId:!1},{day:"Sunday",title:"Daniel Hannanâ€™s column",info:"Thought-provoking writing from the former MEP",cta:{text:"Read more",link:"/authors/daniel-hannan/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/politics/daniel-hannan.png",alt:"Daniel Hannan"},newsletter:!1,newsletterId:!1}],business:[{day:"Monday",title:"Business Briefing newsletter",info:"Kick off your day with your essential digest of the biggest stories in business",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/business/business-briefing-newsletter.png",alt:"Hand using a pointer to point at some charts"},newsletter:!0,newsletterId:"Citydesk_NL"},{day:"Tuesday",title:"Economic Intelligence newsletter",info:"Unique insight on the most pressing stories",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/business/business-and-economic-intelligence-newsletter.png",alt:"Jeremy Warner and Ambrose Evans-Pritchard"},newsletter:!0,newsletterId:"EconomicIntel_NL"},{day:"Wednesday",title:"Jeremy Warnerâ€™s column",info:"Forthright insight from our leading business mind",cta:{text:"Read more",link:"/authors/jeremy-warner/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/business/jeremy-warner.png",alt:"Jeremy Warner"},newsletter:!1,newsletterId:!1},{day:"Thursday",title:"Ambrose Evans-Pritchardâ€™s column",info:"Unmissable analysis, every Thursday",cta:{text:"Read more",link:"/authors/ambrose-evans-pritchard/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/business/ambrose-evans-pritchard.png",alt:"Ambrose Evans-Pritchard"},newsletter:!1,newsletterId:!1},{day:"Friday",title:"Business Intelligence newsletter",info:"An essential daily lunchtime briefing from the City and beyond\t",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/business/city-intelligence.png",alt:"Ben Marlow"},newsletter:!0,newsletterId:"CityIntel_NL"},{day:"Saturday",title:"Ben Marlowâ€™s column",info:"The latest insight from the City",cta:{text:"Read more",link:"/authors/ben-marlow/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/business/ben-marlow.png",alt:"Ben Marlow"},newsletter:!1,newsletterId:!1},{day:"Sunday",title:"Liam Halliganâ€™s column",info:"Vital economic expertise, every Sunday",cta:{text:"Read more",link:"/authors/liam-halligan/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/business/liam-halligan.png",alt:"Liam Halligan"},newsletter:!1,newsletterId:!1}],football:[{day:"Monday",title:"Jason Burtâ€™s column",info:"Start the week with our Chief Football Correspondent",cta:{text:"Read more",link:"/authors/jason-burt/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/football/jason-burt.png",alt:"Jason Burt"},newsletter:!1,newsletterId:!1},{day:"Tuesday",title:"Transfer notebook",info:"The latest news and rumours, from Mike McGrath",cta:{text:"Read more",link:"/authors/mike-mcgrath/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/football/transfer-notebook.png",alt:"telegraph logo set against an orange background alongside a football icon"},newsletter:!1,newsletterId:!1},{day:"Wednesday",title:"The Arsenal newsletter",info:"Analysis and opinion from Sam Dean",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/football/arsenal-fc.png",alt:"Arsenal fc badge"},newsletter:!0,newsletterId:"ArsenalFC_NL"},{day:"Thursday",title:"The Sport Briefing newsletter",info:"The latest news headlines, every weekday morning",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/football/sport-briefing.png",alt:"Hand clutching a medal"},newsletter:!0,newsletterId:"PREMIUM_SPORTS_NL"},{day:"Friday",title:"The Football Nerd newsletter",info:"Analysis and insight, direct to your inbox",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/football/football-nerd.png",alt:"Football nerd newsletter graphic"},newsletter:!0,newsletterId:"Football_NL"},{day:"Saturday",title:"Jamie Carragherâ€™s column",info:"The sharpest analysis of the week in football",cta:{text:"Read more",link:"/authors/jamie-carragher/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/football/jamie-carragher.png",alt:"Jamie Carragher"},newsletter:!1,newsletterId:!1},{day:"Sunday",title:"Sam Wallaceâ€™s column",info:"The final word from our Chief Football Writer",cta:{text:"Read more",link:"/authors/sam-wallace/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/football/sam-wallace.png",alt:"Sam Wallace"},newsletter:!1,newsletterId:!1}],sport:[{day:"Monday",title:"Moore on Monday",info:"Brian Mooreâ€™s view of the weekendâ€™s action",cta:{text:"Read more",link:"/authors/brian-moore/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/rugbycricket/brian-moore.png",alt:"Brian Moore"},newsletter:!1,newsletterId:!1},{day:"Tuesday",title:"Daniel Schofieldâ€™s column",info:"Our Deputy Rugby Union Correspondentâ€™s take on sportâ€™s biggest stories",cta:{text:"Read more",link:"/authors/daniel-schofield/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/rugbycricket/daniel-schofield.png",alt:"Daniel Schofield"},newsletter:!1,newsletterId:!1},{day:"Wednesday",title:"The Cricket Nerd newsletter",info:"Stats and analysis delivered direct to your inbox",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/rugbycricket/cricket.png",alt:"Cricket player hits cricket ball"},newsletter:!0,newsletterId:"CricketNerd_NL"},{day:"Thursday",title:"Austin Healeyâ€™s column",info:"The rugby insiderâ€™s view on the big stories",cta:{text:"Read more",link:"/authors/austin-healey/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/rugbycricket/austin-healey.png",alt:"Austin Healey"},newsletter:!1,newsletterId:!1},{day:"Friday",title:"The Geech on Friday newsletter",info:"The perfect preview to the weekendâ€™s rugby",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/rugbycricket/rugby-geech.png",alt:"Sir Ian McGeechan"},newsletter:!0,newsletterId:"RugbyGeech_NL"},{day:"Saturday",title:"The Sport Briefing newsletter",info:"The latest headlines every weekday morning",cta:{text:"Sign up now",link:"/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/rugbycricket/sport-briefing.png",alt:"Hand holding an olympic medal"},newsletter:!0,newsletterId:"PREMIUM_SPORTS_NL"},{day:"Sunday",title:"Sir Ian McGeechanâ€™s column",info:"The final word from the Lions legend",cta:{text:"Read more",link:"/authors/sir-ian-mcgeechan/"},img:{src:"https://static.telegraph.co.uk/aem/martech/tgt-364-7-day-onward-journey/rugbycricket/sir-ian-mcgeechan.png",alt:"Sir Ian McGeechan"},newsletter:!1,newsletterId:!1}]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(22);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=(i(o.prototype,[{key:"init",value:function(){var e=this;this.rightBtn.addEventListener("click",function(){e.slider.scrollLeft+=254}),this.leftBtn.addEventListener("click",function(){e.slider.scrollLeft-=e.slider.scrollLeft<485?485:254}),this.slider.addEventListener("scroll",Object(a.a)(function(){return e.displayButtons()},200))}},{key:"showNavButton",value:function(e,t){t?e.classList.contains("martech-onward-journey__slider-nav--display")||e.classList.add("martech-onward-journey__slider-nav--display"):e.classList.remove("martech-onward-journey__slider-nav--display")}},{key:"displayButtons",value:function(){var e,t;this.scrollLeft!==this.slider.scrollLeft&&(this.scrollLeft=this.slider.scrollLeft,t=this.slider.scrollWidth-this.slider.offsetWidth,e=0<this.scrollLeft,t=this.scrollLeft!==t,this.showNavButton(this.leftBtn,e),this.showNavButton(this.rightBtn,t))}}]),o);function o(e,t,n){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.scrollLeft=0,this.slider=e,this.rightBtn=t,this.leftBtn=n}},function(e,s,l){"use strict";!function(t){var n=l(0),e=l(2),a=l(3),i=l(77);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=(r(c.prototype,[{key:"init",value:function(){var e;this.config?(Object(a.a)(this.config),this.rewardsPageType&&(e=this.rewardsPageType.querySelector(".offer"))&&(e.innerHTML=Object(i.a)(this.currentPage,this.isLoggedIn))):Object(n.a)("Config not found for activity at ".concat(t))}}]),c);function c(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.rewardsPageType=document.querySelector(".offerDetailRendererHTML"),this.currentPage=tmg.page.getLocation(),this.isLoggedIn=tmg.user.isLoggedIn()}e.a.create("classes.RewardsPaywall"),martech.classes.RewardsPaywall=o,s.a=o}.call(this,"Activities/TGT-285--rewards-paywall-placeholder")},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"https://www.telegraph.co.uk",t=1<arguments.length?arguments[1]:void 0,e='\n\t\t<p class="offer__body-content__to-claim"><span class="offer__claim-text">To claim</span></p>\n\t\t<p class="offer__para">Log in or subscribe to redeem this reward </p>\n\t\t<a href="https://www.telegraph.co.uk/subscriptions/sub-bar/?WT.mc_id=menuSubscribe" class="premium-button premium-button--primary">Subscribe to redeem</a>\n\t\t<a href="https://secure.telegraph.co.uk/secure/login/?redirectTo='.concat(e,'" class="premium-button">Log in</a>');return'\n\t\t<div class="component-content">\n\t\t\t<header class="offer__header">\n\t\t\t\t<h1 class="offer__heading">How to redeem</h1>\n\t\t\t</header>\n\t\t\t<div class="offer__body-content">\n\t\t\t\t'.concat(e=t?'\n\t\t\t<p class="offer__para">This reward is eligible to <strong>Subscribed users</strong> only.</p>\n\t\t\t<a href="https://www.telegraph.co.uk/subscriptions/sub-bar/?WT.mc_id=menuSubscribe" class="premium-button premium-button--primary">Subscribe to redeem</a>':e,"\n\t\t\t</div>\n\t\t</div>")}},function(e,c,s){"use strict";!function(e){var t=s(0),n=s(2),a=s(3);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=(i(o.prototype,[{key:"init",value:function(){this.config?(Object(a.a)(this.config),void 0!==window.tmg&&void 0!==window.tmg.PianoPaywall&&window.tmg.PianoPaywall.init()):Object(t.a)("Config not found for activity at ".concat(e))}}]),o);function o(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}n.a.create("classes.RegisteredContentPaywall"),martech.classes.RegisteredContentPaywall=r,c.a=r}.call(this,"Activities/TGT-304--registered-content-paywall")},function(e,y,b){"use strict";!function(t){var n=b(0),e=b(2),a=b(3),i=b(4),r=b(26),o=b(11),c=b(8),s=b(1),l=b(17),u=b(36),d=b(80),h=b(81);function p(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var g,g=(g=[{key:"init",value:function(){var e=this;this.config?(Object(a.a)(this.config),l.a.load().then(function(){Object(c.b)(e.config).then(function(){Object(i.a)(t),e.apiInit()}).catch(function(){Object(c.c)(e.config).then(function(){Object(i.a)(t),e.apiInit()}).catch(function(){})})}).catch(function(){})):Object(n.a)("Config not found for activity at ".concat(t))}},{key:"apiInit",value:function(){new h.a(this).init()}},{key:"checkCredentials",value:function(e){e.pendingCancellation&&["All Digital Access","Standard"].includes(e.subscriptionType)?this.config.geoCountry.includes("united kingdom")?(this.config.firstName=this.getFirstName(),this.config.subType="All Digital Access"===e.subscriptionType?"ADA":"STD",this.config.paymentFreq=e.paymentsFrequency,this.config.overlayType="pendingCanc",this.setup()):Object(n.a)("".concat(t,": User on Pending Cancellation but outside UK ... Aborting.")):e.gracePeriodEndDate?(this.config.firstName=this.getFirstName(),this.config.overlayType="paymentFail",this.setup()):(Object(n.a)("".concat(t,": User is not on Pending Cancellation, ADA or STD or on a Grace period status ... Aborting.")),Object(r.a)(t),Object(c.a)(this.config))}},{key:"getFirstName",value:function(){var e=tmg.user.getProfile().firstName,e=l.a.decrypt(e);return e?"".concat(e):""}},{key:"setup",value:function(){this.data=Object(d.a)(this.config),this.modal=("pendingCanc"===this.config.overlayType?Object(u.b):Object(u.a))(this.data),this.modalConfig=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},this.config,{extraClass:"pendingCanc"===this.config.overlayType?"mtech-pend-canc-overlay":"mtech-fail-payment",timeout:1,content:this.modal,displayMobile:!0,preventScrolling:!0,displayOverlay:!0,detachOverlay:!1,extraTrackingInfo:this.config.overlayType,extraOverlayClass:"pendingCanc"!==this.config.overlayType&&"mtech-fail-payment-overlay"}),this.build()}},{key:"build",value:function(){var e=this;this.component=new o.a(this.modalConfig),setTimeout(function(){e.component.init(),Object(s.c)("pending_and_grace_overlays_seen")},this.modalConfig.timeout)}}],f(m.prototype,g),m);function m(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}e.a.create("classes.PendingAndFailOverlay"),martech.classes.PendingAndFailOverlay=g,y.a=g}.call(this,"Activities/TGT-403--pending-canc-payment-fail-overlay")},function(e,t,n){"use strict";t.a=function(e){var t={STD:{Annually:{title:"".concat(e.firstName&&""!==e.firstName?"".concat(e.firstName,", s"):"S","tay with us and save 60%"),excerpt:'Keep enjoying your unlimited website access and <span class="mtech-pend-canc-overlay__highlight">add our daily digital newspaper</span>. Enjoy <span class="mtech-pend-canc-overlay__highlight">one whole year for just Â£49</span>, price increases thereafter.',excerptmobile:'Keep enjoying your unlimited website access and <span class="mtech-pend-canc-overlay__highlight">add our daily digital newspaper</span>. Enjoy <span class="mtech-pend-canc-overlay__highlight">one whole year for just Â£49</span>, price increases thereafter.',cta:"Stay with us",landingpage:"https://secure.telegraph.co.uk/customer/secure/offer",icid:"subs-offers_offers_onsite-asset_overlay_pcoverlay-stdannual-2021"},Monthly:{title:"".concat(e.firstName&&""!==e.firstName?"".concat(e.firstName,", s"):"S","tay with us and save over 65%"),excerpt:'Keep enjoying your unlimited website access and add our <span class="mtech-pend-canc-overlay__highlight">daily digital newspaper</span>. Enjoy your <span class="mtech-pend-canc-overlay__highlight">next 9 months for just Â£4 a month</span>. Â£12.99 per month thereafter. Cancel anytime.',excerptmobile:'Keep enjoying your website access and <span class="mtech-pend-canc-overlay__highlight">add our daily digital newspaper. Just Â£4 a month for 9 months</span>, then Â£12.99 a month. Cancel anytime.',cta:"Stay with us",landingpage:"https://secure.telegraph.co.uk/customer/secure/offer",icid:"subs-offers_offers_onsite-asset_overlay_pcoverlay-stdmonthly-2021"}},ADA:{Annually:{title:"".concat(e.firstName&&""!==e.firstName?"".concat(e.firstName,", s"):"S","tay with us and save over 40%"),excerpt:'Keep your unlimited website access and daily digital newspaper, <span class="mtech-pend-canc-overlay__highlight">plus share a bonus subscription</span> with a friend. <span class="mtech-pend-canc-overlay__highlight">Just Â£140 for the entire year</span>, price increases thereafter.',excerptmobile:'Keep your website access and daily digital paper, <span class="mtech-pend-canc-overlay__highlight">plus share a bonus subscription</span> with a friend. <span class="mtech-pend-canc-overlay__highlight">Just Â£140 for the entire year</span>, price increases thereafter. ',cta:"Stay with us",landingpage:"https://secure.telegraph.co.uk/customer/secure/offer",icid:"subs-offers_offers_onsite-asset_overlay_pcoverlay-adaannual-2021"},Monthly:{title:"".concat(e.firstName&&""!==e.firstName?"".concat(e.firstName,", s"):"S","tay with us and save 50%"),excerpt:'Keep your unlimited website access and daily digital newspaper, <span class="mtech-pend-canc-overlay__highlight">plus share a bonus subscription</span> with a friend. <span class="mtech-pend-canc-overlay__highlight">Just Â£13 a month for 9 months</span>, then Â£26 a month. Cancel anytime.',excerptmobile:'Keep your website access and daily digital paper, plus <span class="mtech-pend-canc-overlay__highlight">share a bonus subscription</span> with a friend. <span class="mtech-pend-canc-overlay__highlight">Just Â£13 a month for 9 months</span>, then Â£26 a month. Cancel anytime.',cta:"Stay with us",landingpage:"https://secure.telegraph.co.uk/customer/secure/offer",icid:"subs-offers_offers_onsite-asset_overlay_pcoverlay-adamonthly-2021"}}},n={title:"Payment details update required",excerpt:"".concat(e.firstName&&""!==e.firstName?"".concat(e.firstName,", y"):"Y","our last payment failed. Please update your details now to stay subscribed."),cta:"Update your details",landingpage:"https://secure.telegraph.co.uk/customer/secure/personal",icid:"subs-account_subscriber-account_onsite-asset_overlay_payment-failure-update",queryparameters:"payment-update=true"};return"pendingCanc"===e.overlayType?t[e.subType][e.paymentFreq]:n}},function(e,t,n){"use strict";var a=n(12),i=n(0),r=n(20);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}o(c.prototype,[{key:"init",value:function(){var e=a.a.get("tmg_p13n");e?(e=r.a.tryParse(e)).pId&&""!==e.pId?(this.pid=e.pId,this.identityAccount()):Object(i.a)("".concat(this.unit.constructor.name," - No PID found .. Aborting...")):Object(i.a)("".concat(this.unit.constructor.name," No p13n cookie found .. Aborting..."))}},{key:"identityAccount",value:function(){var t=this,e=new Headers({"Access-Control-Request-Headers":"application/json","Content-Type":"application/json",Accept:"application/json",ddgFlow:"pending-cancellation-overlay",ddgAction:"get-pending-status"});fetch("".concat(this.apiUrlAccount).concat(this.pid,"/status"),{method:"GET",headers:e}).then(this.checkStatus).then(function(e){return e.json()}).then(function(e){return t.userDetails(e)}).catch(function(e){return Object(i.a)("MARTECH ::",e)})}},{key:"checkStatus",value:function(e){return 200===e.status||201===e.status?Promise.resolve(e):Promise.reject(new Error(e.statusText))}},{key:"userDetails",value:function(e){e={subscriber:e.subscriber,subscriptionType:e.subscriptionType,pendingCancellation:e.pendingCancellation,paymentsFrequency:e.paymentsFrequency,numberOfConsecutiveFailedPayments:e.numberOfConsecutiveFailedPayments,gracePeriodEndDate:e.gracePeriodEndDate};this.unit.checkCredentials(e)}}]),n=c;function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.unit=e,this.apiUrlAccount="https://api.telegraph.co.uk/commerce/accounts/"}t.a=n},function(e,d,h){"use strict";!function(t){var n=h(0),e=h(2),a=h(3),i=h(4),r=h(112),o=h(113),c=h(37);function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l,l=(l=[{key:"init",value:function(){var e=this;this.config?(Object(a.a)(this.config),Object(i.a)(t),window.tmg.pubsub.subscribe({topic:"tmg.page.pianoready",func:function(){return e.assignPaywall()},runIfAlreadyPublished:!0})):Object(n.a)("Config not found for activity at ".concat(t))}},{key:"assignPaywall",value:function(){var e="gallery"===this.config.contentType,t=window.martech&&window.martech.audience&&window.martech.audience.browser_name&&(window.martech.audience.browser_name.startsWith("IE")||window.martech.audience.browser_name.endsWith("IE")),n=["travel","property"].includes(this.config.channel)&&"articlerenderer2"===this.config.pageType,a=this.config.publishedDateCheck.includes("status:true"),i=["203949","204836"].includes(this.config.campaignId),r=["225405","224799"].includes(this.config.campaignId);e||t||n||a||i||r?this.oldPaywall():this.articleType&&this.paywallMechanism()}},{key:"paywallMechanism",value:function(){var e=this;new r.a(this.config,this.articleType).build(),730<=window.innerWidth&&window.innerWidth<1008?Object(c.a)(this.articleType):window.tmg.pubsub.subscribe({topic:"tmg.ads.page.ready",func:function(){return Object(c.a)(e.articleType)},runIfAlreadyPublished:!0}),window.tmg.pubsub.subscribe({topic:"tmg.martech.core.ready",func:function(){void 0!==tmgAds.plugins&&(tmgAds.plugins.sizemapping.l.mpu=[[300,250],[300,215],[300,189],[1,1],"fluid"],tmgAds.plugins.sizemapping.x.mpu=[[300,250],[300,215],[300,189],[1,1],"fluid"])},runIfAlreadyPublished:!0})}},{key:"oldPaywall",value:function(){new o.a(this.config,this.articleType).build()}}],s(u.prototype,l),u);function u(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.articleType=document.querySelector(".articleRendererHTML")||document.querySelector(".longFormRendererHTML")?"new":!!document.querySelector(".articleRenderer2HTML")&&"old"}e.a.create("classes.MartechPaywall"),martech.classes.MartechPaywall=l,d.a=l}.call(this,"Activities/TGT-390--martech-paywall")},function(e,c,s){"use strict";!function(e){var t=s(2),n=s(0),a=s(3);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=(i(o.prototype,[{key:"init",value:function(){this.config?(Object(a.a)(this.config),this.returnNewsletters()):Object(n.a)("Config not found for activity at ".concat(e))}},{key:"returnNewsletters",value:function(){for(var e in window.dataLayer.martech.recommendedNLs=[],this.config.recommendationResults){e=this.config.recommendationResults[e].id;e&&window.dataLayer.martech.recommendedNLs.push(e)}window.dataLayer.martech.recommendedNLs.length&&window.tmg.pubsub.publish({topic:"tmg.martech.newsletter.recs.ready"})}}]),o);function o(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,Object(n.a)("Campaign: ".concat(this.config.campaignName," | Campaign ID: ").concat(this.config.campaignId))}t.a.create("classes.NewsletterRecs"),martech.classes.NewsletterRecs=r,c.a=r}.call(this,"Activities/TGT-79--newsletter-recommendations")},function(e,h,p){"use strict";!function(e){var t=p(0),n=p(2),a=p(3),i=p(4),r=p(85),o=p(12),c=p(20),s=p(1);function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=(l(d.prototype,[{key:"init",value:function(){this.config?(Object(a.a)(this.config),Object(i.a)(e),this.subscribe()):Object(t.a)("Config not found for activity at ".concat(e))}},{key:"checkSubscription",value:function(){var e=o.a.get("tmg_p13n");e?(e=c.a.tryParse(e)).subscriptionType&&("All Digital Access"===e.subscriptionType||"Standard"===e.subscriptionType?this.build():Object(t.a)("".concat(this.config.campaignName," - subscriptionType not STD or ADA, aborting..."))):Object(t.a)("".concat(this.config.campaignName," - p13n cookie not available, aborting..."))}},{key:"build",value:function(){var e=!0,t=!1,n=void 0;try{for(var a,i=document.querySelectorAll("h2")[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var r,o=a.value;o.textContent.includes("Cancellation")&&((r=o.parentElement.querySelector(".grid")).classList.remove("grid"),r.classList.add("martech-msg-box"),r.innerHTML=this.markup,Object(s.e)("canc-hidden",this.config))}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"subscribe",value:function(){var e=this;window.tmg.pubsub.subscribe({topic:"tmg.customerApp.accountSubscriptions.pageReady",func:function(){return e.checkSubscription()},runIfAlreadyPublished:!0})}}]),d);function d(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.markup=Object(r.a)()}n.a.create("classes.HideCancButton"),martech.classes.HideCancButton=u,h.a=u}.call(this,"Activities/TGT-44--hide-cancellation-button")},function(e,t,n){"use strict";t.a=function(){return'<div class="martech-msg-box__wrap">\n\t\t\t<p class="martech-msg-box__content">\n\t\t\t\tIf you are thinking of cancelling your subscription, just call a member of our friendly team for free on <span class="martech-msg-box__phone">0808 196 8078</span>. They will arrange your cancellation for you.\n\t\t\t</p>\n\t\t\t<p class="martech-msg-box__content">\n\t\t\t\tLines are open 9am to 5pm Monday to Friday and 9am to 1pm Saturdays. Closed on bank holidays.\n\t\t\t</p>\n\t\t</div>'}},function(e,d,h){"use strict";!function(t){var n=h(0),e=h(2),a=h(3),i=h(4),r=h(87),o=h(1),c=h(6);function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=(s(u.prototype,[{key:"init",value:function(){var e=this;this.config?(Object(a.a)(this.config),Object(i.a)(t),Object(c.a)("#martech-TGT-88--homepage-subs-unit").then(function(){return e.appendUnit()})):Object(n.a)("Config not found for activity at ".concat(t))}},{key:"appendUnit",value:function(){var e=this,t=document.createElement("div");t.classList.add("martech-homepage-unit"),t.innerHTML=Object(r.a)(this.config),setTimeout(function(){e.header.after(t),Object(o.e)("displayed",e.config)},500)}}]),u);function u(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.header=document.querySelector("header.site-header")}e.a.create("classes.HomeSubUnit"),martech.classes.HomeSubUnit=l,d.a=l}.call(this,"Activities/TGT-88--homepage-subs-unit")},function(e,t,n){"use strict";var a=n(9),i=n(14);t.a=function(e){return'<h1 class="martech-homepage-unit__headline">\n\t\t\t<img style="max-width:260px;height:auto;" class="martech-homepage-unit__headline martech-homepage-unit__mobile-display" src="'.concat(Object(a.a)("Activities/TGT-88--homepage-subs-unit","headline-mobile-pp.svg"),'" alt="Subscribe now and enjoy one month free">\n\t\t\t<img style="max-width:452px;height:auto;" class="martech-homepage-unit__headline martech-homepage-unit__tablet-display" src="').concat(Object(a.a)("Activities/TGT-88--homepage-subs-unit","headline-tablet-pp.svg"),'" alt="Subscribe now and enjoy one month free">\n\t\t\t<img style="max-width:898px;height:auto;" class="martech-homepage-unit__headline martech-homepage-unit__desktop-display" src="').concat(Object(a.a)("Activities/TGT-88--homepage-subs-unit","headline-desktop-pp.svg"),'" alt="Subscribe now and enjoy one month free">\n\t\t</h1>\n\t\t<p class="martech-homepage-unit__copy">Subscribe now and enjoy one month free, then 3 months for just ').concat(Object(i.a)(e.geoCountry).price(1),' per month. Cancel anytime.</p>\n\t\t<a class="martech-homepage-unit__cta" href="https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP001&campaignId=038A&ICID=conversion-subscription_onsite-asset_Onsite-asset_04-21_EVS035_PP_homepage_puff">Start your free trial</a>\n\t\t<div class="martech-homepage-unit__footer">\n\t\t\t<img style="height:27px;width:auto;" class="martech-homepage-unit__left" src="').concat(Object(a.a)("Activities/TGT-88--homepage-subs-unit","moustache-right.svg"),'">\n\t\t\t<span class="martech-homepage-unit__footer-line"></span>\n\t\t\t<img style="height:27px;width:auto;" class="martech-homepage-unit__center" src="').concat(Object(a.a)("Activities/TGT-88--homepage-subs-unit","moustache-center.svg"),'">\n\t\t\t<span class="martech-homepage-unit__footer-line"></span>\n\t\t\t<img style="height:27px;width:auto;" class="martech-homepage-unit__right" src="').concat(Object(a.a)("Activities/TGT-88--homepage-subs-unit","moustache-right.svg"),'">\n\t\t</div>')}},function(e,v,w){"use strict";!function(t){var e=w(2),n=w(0),a=w(12),i=w(20),r=w(11),o=w(8),c=w(17),s=w(3),l=w(6),u=w(1),d=w(89),h=w(90),p=w(4),f=w(26);function g(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var y,y=(y=[{key:"init",value:function(){var e=this;this.config?(Object(s.a)(this.config),c.a.load().then(function(){e.config.firstName=e.getFirstName(),Object(o.b)(e.config).then(function(){Object(p.a)(t),e.checkSubscription()}).catch(function(){Object(o.c)(e.config).then(function(){Object(p.a)(t),e.checkSubscription()}).catch(function(){})})}).catch(function(){})):Object(n.a)("Config not found for activity at ".concat(t))}},{key:"checkSubscription",value:function(){var e=a.a.get("tmg_p13n");e?(e=i.a.tryParse(e)).subscriptionType?"All Digital Access"===e.subscriptionType||"Standard"===e.subscriptionType||this.printSubscription.includes(e.subscriptionType)?this.setup():(Object(n.a)("".concat(this.config.campaignName," - subscriptionType not STD, ADA or Complete Print sub, aborting...")),Object(f.a)(t),Object(o.a)(this.config)):(Object(n.a)("".concat(this.config.campaignName," - subscriptionType not available, aborting...")),Object(f.a)(t),Object(o.a)(this.config)):(Object(n.a)("".concat(this.config.campaignName," - p13n cookie not available, aborting...")),Object(f.a)(t),Object(o.a)(this.config))}},{key:"setup",value:function(){this.config.firstName=this.getFirstName(),this.config.store=0===this.config.experienceNumber?"apple":"android",this.data=Object(h.a)(this.config),this.modal=Object(d.a)(this.data),this.modalConfig=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},this.config,{extraClass:"martech-edition-overlay",timeout:100,content:this.modal,displayMobile:!0,preventScrolling:!0,displayOverlay:!0,detachOverlay:!0}),this.build()}},{key:"build",value:function(){var e=this;this.component=new r.a(this.modalConfig),setTimeout(function(){e.component.init(),e.bindEvents()},this.modalConfig.timeout)}},{key:"bindEvents",value:function(){var t=this;Object(u.c)("edition-overlay-display"),Object(l.a)(".martech-edition-overlay__cta").then(function(e){e.addEventListener("click",function(){Object(u.e)("got-it-clicked",t.config),Object(u.c)("edition-overlay-neverShowAgain"),t.component.detachModal()})}),Object(l.a)(".martech-edition-overlay__store").then(function(e){e.addEventListener("click",function(e){e.preventDefault(),Object(u.e)("".concat(t.config.store,"-store-clicked"),t.config),setTimeout(function(){window.location.href=t.data.storeLink},500)})})}},{key:"getFirstName",value:function(){var e=c.a.decrypt(tmg.user.getProfile().firstName);return e?"".concat(e):""}}],m(b.prototype,y),b);function b(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof b))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.printSubscription=["All Digital Access plus Saturday Newspaper","All Digital Access plus Weekend Newspapers","Complete","Complete 5 Day","Complete 6 Day","Premium | Digital Editions with weekend print"]}e.a.create("classes.EditionAppOverlay"),martech.classes.EditionAppOverlay=y,v.a=y}.call(this,"Activities/TGT-59--edition-app-overlay")},function(e,t,n){"use strict";var a=n(9);t.a=function(e){return'<div class="martech-edition-overlay__container">\n\t\t<img class="martech-edition-overlay__img" src="'.concat(Object(a.a)("Activities/TGT-59--edition-app-overlay","edition-icon-new.svg"),'" alt="Edition App icon">\n\t\t\t<h2 class="martech-edition-overlay__title">').concat(e.title,'</h1>\n\t\t\t<p class="martech-edition-overlay__excerpt">').concat(e.excerpt,'</p>\n\t\t\t<a class="martech-edition-overlay__store" href="').concat(e.storeLink,'"><img class="martech-edition-overlay__badge martech-edition-overlay__badge--').concat(e.label,'" src="').concat(Object(a.a)("Activities/TGT-59--edition-app-overlay",e.storeImage),'" alt="App Store Badge"></a>\n\t\t\t<span class="martech-edition-overlay__cta">').concat(e.dismissCTA,"</span>\n\t\t</div>")}},function(e,t,n){"use strict";t.a=function(e){var t={apple:{label:"apple",link:"https://apps.apple.com/gb/app/telegraph-newspaper-edition-uk/id388947468?icid=engagement-subs_onsite-asset_overlay_1020_elao_elao_applestore",image:"badge-apple-store.svg"},android:{label:"google",link:"https://play.google.com/store/apps/details?id=uk.co.telegraph.kindlefire&hl=en_GB?icid=engagement-subs_onsite-asset_overlay_1020_elao_elao_googleplay",image:"badge-google-store.svg"}};return{title:"".concat(e.firstName?"".concat(e.firstName,", h"):"H","ave you downloaded our subscriber&#8209;exclusive app?"),excerpt:"Download The Telegraph app now, for free, and get the latest news alongside our daily newspaper, to enjoy on your phone or tablet.",dismissCTA:"Iâ€™ve already got the app",storeImage:t[e.store].image,storeLink:t[e.store].link,label:t[e.store].label}}},function(e,p,f){"use strict";!function(t){var n=f(0),e=f(2),a=f(3),i=f(4),r=f(11),o=f(8),c=f(92);function s(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function l(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d,d=(d=[{key:"init",value:function(){var e=this;this.config?(Object(a.a)(this.config),this.regLoggedOut=this.config.userStatus.includes("registered")&&!this.config.userStatus.includes("logged in"),this.config=l({},this.config,{userStatus:this.config.userStatus.includes("registered")?"reg":"anon"}),this.modalConfig=l({},this.config,{extraClass:"martech-int-hardmodal",timeout:100,content:Object(c.a)(this.config),closeButton:!1,displayMobile:!0,preventScrolling:!0,displayOverlay:!0,detachOverlay:!1,extraTrackingInfo:this.config.userStatus,extraOverlayClass:"martech-int-hardmodal-overlay"}),Object(o.b)(this.config).then(function(){Object(i.a)(t),e.start()}).catch(function(){Object(o.c)(e.config).then(function(){Object(i.a)(t),e.start()}).catch(function(){})})):Object(n.a)("Config not found for activity at ".concat(t))}},{key:"start",value:function(){var e=new r.a(this.modalConfig);setTimeout(function(){e.init()},this.modalConfig.timeout)}}],u(h.prototype,d),h);function h(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}e.a.create("classes.IntHardModal"),martech.classes.IntHardModal=d,p.a=d}.call(this,"Activities/TGT-86--int-hard-paywall")},function(e,t,n){"use strict";var i=n(7),r=n(5),o=n(9),c=n(14);t.a=function(e){var t="reg"===e.userStatus?'<h1 class="martech-int-hardmodal__maintitle">Start your free one-month trial to unlock this article</h1>':"",n="reg"===e.userStatus?"":'<h1 class="martech-int-hardmodal__subtitle">Start your free one-month trial <br class="martech-int-hardmodal__subtitle--new-line">to unlock this article</h1>',a="reg"===e.userStatus?"":'<div class="martech-int-hardmodal__regcontainer">\n\t\t\t<p class="martech-int-hardmodal__regexcerpt">Or register with your email address to read our website free for the next 24 hours</p>\n\t\t\t<a class="martech-int-hardmodal__regcta" href="'.concat(Object(i.a)("/secure/register/?ICID=int_overlay_AEM_hard_regcta_anon"),'">').concat(Object(r.e)("martech-int-hardmodal__quiver-icon"),"Register").concat(Object(r.b)("martech-int-hardmodal__head-icon"),"</a>\n\t\t</div>");return"".concat(t,'\n\t\t<div class="martech-int-hardmodal__subcontainer">\n\t\t\t<img class="martech-int-hardmodal__ornament" src="').concat(Object(o.a)("Activities/TGT-86--int-hard-paywall","ornament.svg"),'" alt="ornament" />\n\t\t\t').concat(n,'\n\t\t\t<p class="martech-int-hardmodal__subexcerpt martech-int-hardmodal__subexcerpt--').concat(e.userStatus,'">Enjoy an award-winning, British perspective on the news. <br class="martech-int-hardmodal__new-line">Try one month of a Digital Subscription free, then 3 months for just ').concat(Object(c.a)(e.geoCountry).price(3),'. Cancel anytime.</p>\n\t\t\t<a class="martech-int-hardmodal__subcta" href="').concat(Object(i.a)("".concat("https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP001&campaignId=038A","&ICID=conversion-subscription_onsite-asset_overlay_04-21_EVS035_PP_hard_intl_").concat(e.userStatus)),'">Start free trial</a>\n\t\t</div>\n\t\t').concat(a,'\n\t\t<div class="martech-int-hardmodal__logincontainer martech-int-hardmodal__logincontainer--').concat(e.userStatus,'">\n\t\t\t<p class="martech-int-hardmodal__loginexcerpt">Already have an account?</p>\n\t\t\t<a class="martech-int-hardmodal__logincta" href="').concat(Object(i.a)("/secure/login/?ICID=int_overlay_AEM_hard_logincta_".concat(e.userStatus)),'">Log in</a>\n\t\t</div>')}},function(e,p,f){"use strict";!function(e){var t=f(2),n=f(0),a=f(3),i=f(12),c=f(16),r=f(10),o=f(21),s=f(1),l=f(19);function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d,d=(d=[{key:"init",value:function(){this.config?(Object(a.a)(this.config),this.refreshToken?this.newsletterApis(this.refreshToken):this.cookiePresence("tmg_refresh").then(this.newsletterApis.bind(this))):Object(n.a)("Config not found for activity at ".concat(e))}},{key:"cookiePresence",value:function(a){return new Promise(function(n){!function e(){var t=i.a.get(a);t?setTimeout(function(){return n(t)},200):setTimeout(e,500)}()})}},{key:"newsletterApis",value:function(t){var n=this,e=Object(l.a)().apis.identityTokens,a=Object(l.a)().apis.newslettersMe;Object(o.a)(e,{body:{refresh_token:t}}).then(function(e){n.userIdentityData=e,Object(o.a)(a,{headers:{access_token:e.access_token,id_token:e.id_token,ddgFlow:n.config.campaignName,ddgAction:"access-user"}}).then(function(e){n.refreshToken||(n.refreshToken=t),n.adobeCampaignNewsletters=e.newsletters,n.prioritisedNewsletters=n.getPrioritisedNewsletters(),n.entitledNewsletters=n.getEntitledNewsletters(),n.fallbackNewsletters=n.getFallbackNewsletters(),n.deploy()})})}},{key:"deploy",value:function(){this.runAudienceScoring(),this.addNewsletterIndexInMap(),this.sortScores(),this.finalNewsletterList=this.finalNewsletterList.map(function(e){return e.newsletterId}),this.addDefaultFirstNewsletter(0),this.finalNewsletterList.length<this.threshold&&this.applyFallbacks(this.threshold-this.finalNewsletterList.length),this.finalNewsletterList.length===this.threshold&&(this.storeArray(),this.analyticsValue=this.getPersonalisedNLsString(),this.analyticsValue&&"string"==typeof this.analyticsValue&&this.analyticsForPersonalisedList(this.analyticsValue))}},{key:"runAudienceScoring",value:function(){for(var e in this.entities){this.audienceToIgnore=!1,this.joinsIgnore=!1,this.entity=this.entities[e],this.parseEntities(),this.entity.author&&this.entity.keywords||this.updateAudienceProperties(this.entity);var t=!0,n=!1,a=void 0;try{for(var i,r=c[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;this.audiencesCheck(o)&&!this.entitledNewsletters.includes(o.api.newsletterId)&&this.updateScoreTable(o.api.newsletterId)}}catch(e){n=!0,a=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw a}}}}},{key:"updateAudienceProperties",value:function(e){"index"===e.pageType?this.audienceToIgnore="keywords":(e.author||(e.author=e.title),e.keywords||(e.keywords=e.title),this.audienceToIgnore="channel",this.joinsIgnore=!0)}},{key:"parseEntities",value:function(){for(var e in this.entity)this.entity[e]=this.entity[e].toLowerCase(),this.entity[e]&&"keywords"===e&&(this.entity[e]=this.entity[e].split(","))}},{key:"updateScoreTable",value:function(t){var e=this.finalNewsletterList.filter(function(e){return e&&e.newsletterId===t})[0];e?e.points+=1:this.finalNewsletterList.push({newsletterId:t,points:1})}},{key:"addNewsletterIndexInMap",value:function(){this.finalNewsletterList.forEach(function(n){c.forEach(function(e,t){e.api.newsletterId===n.newsletterId&&(n.index=t)})})}},{key:"sortScores",value:function(){this.finalNewsletterList.sort(function(e,t){return e.points===t.points?e.index-t.index:e.points<t.points?1:-1})}},{key:"getEntitledNewsletters",value:function(){var e=!0,t=!1,n=void 0;try{for(var a,i=this.adobeCampaignNewsletters[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var r=a.value;this.entitledInNewsletter(r.id)&&this.entitledNewsletters.push(r.id)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return this.entitledNewsletters}},{key:"getPrioritisedNewsletters",value:function(){for(var n=this,e=1;e<=this.adobeCampaignNewsletters.length;e++)!function(t){var e=n.adobeCampaignNewsletters.filter(function(e){return e.priority===t})[0];e&&n.prioritisedNewsletters.push(e.id)}(e);return this.prioritisedNewsletters}},{key:"getFallbackNewsletters",value:function(){var t=this;return this.prioritisedNewsletters.filter(function(e){return!t.entitledNewsletters.includes(e)})}},{key:"addDefaultFirstNewsletter",value:function(t){var n=this;this.fallbackNewsletters[t]&&(this.finalNewsletterList=this.finalNewsletterList.filter(function(e){return e!==n.fallbackNewsletters[t]}),this.finalNewsletterList.unshift(this.fallbackNewsletters[t]))}},{key:"applyFallbacks",value:function(e){for(var t=0;t<e;t++)this.fallbackNewsletters[t]&&(this.finalNewsletterList.includes(this.fallbackNewsletters[t])?e+=1:this.finalNewsletterList.push(this.fallbackNewsletters[t]))}},{key:"storeArray",value:function(){r.a.set("personalisedNLs",JSON.stringify(this.finalNewsletterList))}},{key:"entitledInNewsletter",value:function(t){return this.refreshToken&&this.adobeCampaignNewsletters.some(function(e){return e.id===t&&"Active"===e.customerStatus})}},{key:"audiencesCheck",value:function(e){if(e.audiences)for(var t=0,n=Object.entries(e.audiences);t<n.length;t++){a=(a=n[t],i=1,(function(e){if(Array.isArray(e))return e}(a)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw r}}return n}}(a,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[0]);if(a!==this.audienceToIgnore){i=this.sectionMatch(e,a)&&this.sectionInJoin(e,a)&&this.joinRulesMatch(e),a=this.sectionMatch(e,a)&&(this.joinsIgnore||!this.sectionInJoin(e,a));if(i||a)return!0}}var a,i}},{key:"sectionMatch",value:function(e,t){var n=this,e=e.audiences[t];return Array.isArray(e)?!!e.filter(function(e){return n.entity[t].includes(e)})[0]:this.entity[t].includes(e)}},{key:"sectionInJoin",value:function(e,t){if(e.audiencesJoin){var n=function(e){return e.some(function(e){return e===t})};return this.oneJoinArray(e)?n(e.audiencesJoin):e.audiencesJoin.some(n)}}},{key:"oneJoinArray",value:function(e){return!e.audiencesJoin.filter(function(e){return Array.isArray(e)})[0]}},{key:"joinRulesMatch",value:function(t){function e(e){return e.every(function(e){return n.sectionMatch(t,e)})}var n=this;return this.oneJoinArray(t)?e(t.audiencesJoin):t.audiencesJoin.some(e)}},{key:"getPersonalisedNLsString",value:function(){var t=this;return this.finalNewsletterList.filter(function(e){return!t.fallbackNewsletters.slice(0,t.threshold).includes(e)}).join(",")}},{key:"analyticsForPersonalisedList",value:function(e){var t=this;this.dataLayerEventPresence("newsLetterStep").then(function(){Object(s.e)(e,t.config)})}},{key:"dataLayerEventPresence",value:function(n){return new Promise(function(t){!function e(){window.dataLayer&&window.dataLayer.event&&Array.isArray(window.dataLayer.event)&&window.dataLayer.event.some(function(e){return e===n})?t():setTimeout(e,500)}()})}}],u(h.prototype,d),h);function h(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.refreshToken=i.a.get("tmg_refresh"),this.adobeCampaignNewsletters=!1,this.prioritisedNewsletters=[],this.entitledNewsletters=[],this.fallbackNewsletters=[],this.finalNewsletterList=[],this.threshold=9,this.entities=this.config.recommendationResults}t.a.create("classes.RecentlyViewedRecs"),martech.classes.RecentlyViewedRecs=d,p.a=d}.call(this,"Activities/TGT-208--personalised-newsletters-onboarding")},function(e,_,k){"use strict";!function(i){var r=k(0),e=k(2),t=k(3),n=k(4),o=k(11),c=k(38),s=k(16),a=k(95),l=k(5),u=k(15),d=k(6),h=k(1),p=k(8),f=k(17),g=k(10);function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var v,v=(v=[{key:"init",value:function(){var e=this;this.config?(Object(t.a)(this.config),this.currentDate=(new Date).getTime(),this.favouriteCategories=this.refineFavouriteCategories(),this.newsletters=a,this.recommendationLimit=4,this.activeNewsletterThreshold=3,this.errorDisplayed=!1,this.backupNewsletters=["Frontpage_NL","HealthSecurity_NL","Citydesk_NL","PoliticsFrontBench_NL","PREMIUM_SPORTS_NL","Travel_NL","FoodDrink_NL"],this.ddgFlow="tgt107-in-life-trigger-overlay",0<this.favouriteCategories.length&&!this.seenWithinLastMonth()&&f.a.load().then(function(){Object(p.b)(e.config).then(function(){Object(n.a)(i),e.getUserNewslettersAndBuild()}).catch(function(){Object(p.c)(e.config).then(function(){Object(n.a)(i),e.getUserNewslettersAndBuild()}).catch(function(){})})}).catch(function(){})):Object(r.a)("Config not found for activity at ".concat(i))}},{key:"seenWithinLastMonth",value:function(){var e=g.a.get("tmg.".concat(this.config.campaignId,".displayed"),"tmg.".concat(this.config.campaignId))||!1;return!!e&&(this.currentDate-e)/864e5<14}},{key:"getUserNewslettersAndBuild",value:function(){var t=this;Object(u.b)().then(function(e){return t.tokens=e,Object(u.c)(e,t.ddgFlow)}).then(function(e){t.userNewsletters=e.newsletters,t.userNewsletters&&t.buildModal()}).catch(function(e){return Object(r.a)("Error when getting access to Newsletter API: ".concat(e," at ").concat(i))})}},{key:"buildModal",value:function(){var e,t,n,a=this;this.getSubscribedNewsletters()?(e=!!(t=this.getRecommendations())&&this.getNewsletterContent(t))&&e.length===this.recommendationLimit?(t=this.getNewsletterIdsAsOrderedString(t),t=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},this.config,{extraClass:"martech-in-life-newsletter",timeout:100,content:Object(c.b)(this.firstName,e),closeButton:!1,customCloseButton:!0,displayMobile:!0,preventScrolling:!0,displayOverlay:!0,detachOverlay:!1,extraOverlayClass:"martech-in-life-newsletter-overlay",listVariables:t}),n=new o.a(t),setTimeout(function(){Object(h.c)("inlife-newsletter-overlay-display"),g.a.set("tmg.".concat(a.config.campaignId,".displayed"),a.currentDate,"tmg.".concat(a.config.campaignId)),n.init(),a.bindEvents()},t.timeout)):Object(r.a)("There are no recommended newsletters for the user at ".concat(i)):(Object(r.a)("User has signed up for more than 3 newsletters ".concat(i)),g.a.set("tmg.".concat(this.config.campaignId,".displayed"),this.currentDate,"tmg.".concat(this.config.campaignId)))}},{key:"getSubscribedNewsletters",value:function(){var e=this.userNewsletters.filter(function(e){return"active"===e.customerStatus.toLowerCase()}).map(function(e){return e.id});return e.length<this.activeNewsletterThreshold&&(this.subscribedNewsletters=e,!0)}},{key:"getNewsletterContent",value:function(t){var n=s.filter(function(e){return t.includes(e.api.newsletterId)}),a=[];return n&&t.filter(function(e){for(var t=0;n.length>t;t++)n[t].api.newsletterId===e&&a.push(n[t])}),a}},{key:"getNewsletterIdsAsOrderedString",value:function(a){var i="";return a.forEach(function(e,t){var n=t+1<a.length?"--**--":"";i+="".concat(e,":").concat(t+1).concat(n)}),i}},{key:"getRecommendations",value:function(){var t=this,n=[];return this.favouriteCategories=this.getFavouriteCategoryNewsletters(),0<this.favouriteCategories.length&&this.favouriteCategories.forEach(function(e){e=t.filterNewslettersByCategory(e,n);e&&0<e.length&&n.push.apply(n,m(e))}),n.length<this.recommendationLimit?this.backupRecommendations(n):n.splice(0,this.recommendationLimit)}},{key:"filterNewslettersByCategory",value:function(e,t){var n=[],e=e.newsletters.filter(function(e){return!t.includes(e)});return e&&0<e.length&&(e=this.favouriteCategories.length>=this.recommendationLimit?e[0]:e,Array.isArray(e)?n.push.apply(n,m(e)):n.push(e)),n}},{key:"getFavouriteCategoryNewsletters",value:function(){var n=this,a=[];return this.favouriteCategories.forEach(function(t){var e=n.newsletters.filter(function(e){return Array.isArray(e.category)?e.category.includes(t):e.category===t})[0];!e||(e=e.newsletters.filter(function(e){return!n.subscribedNewsletters.includes(e)}))&&0<e.length&&a.push({category:t,newsletters:e})}),a}},{key:"backupRecommendations",value:function(e){var t=this.filterBackupNewsletters(e),n=this.recommendationLimit-e.length;return e.push.apply(e,m(t.splice(0,n))),e}},{key:"filterBackupNewsletters",value:function(t){var n=this;return this.backupNewsletters.filter(function(e){return!t.includes(e)}).filter(function(e){return!n.subscribedNewsletters.includes(e)})}},{key:"bindEvents",value:function(){var t=this;Object(d.a)(".martech-in-life-newsletter").then(function(e){t.signUpCards=e.querySelectorAll(".martech-in-life-newsletter__card"),t.signUpCards&&t.signUpCards.forEach(function(e){e.addEventListener("click",function(){return t.newsletterSignup(e)})})})}},{key:"newsletterSignup",value:function(e){var t=this,n=e.querySelector(".martech-in-life-newsletter__card-button"),e=n.dataset.newsletterId,a=document.createElement("div"),i='\n\t\t\t<span class="martech-in-life-newsletter__card-icon-container">\n\t\t\t\t'.concat(Object(l.m)("martech-in-life-newsletter__card-subscribed-icon martech-in-life-newsletter__card-subscribed-icon--teal"),"\n\t\t\t</span>");Object(h.e)("".concat(e,"-cta-click"),this.config),a.classList.add("martech-in-life-newsletter__card-subscribing"),a.innerHTML='\n\t\t\t<svg class="martech-in-life-newsletter__spinner" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t<circle class="martech-in-life-newsletter__spinner-inner-circle" cx="50" cy="50" r="45"/>\n\t\t\t</svg>',n.parentNode.replaceChild(a,n),Object(u.e)(this.config,this.tokens,this.ddgFlow,e).then(function(e){"error"===e?(a.parentNode.replaceChild(n,a),t.disableSignupButtons(),t.errorDisplayed||t.errorMessageDisplay(!0)):(t.errorDisplayed&&t.errorMessageDisplay(!1),a.innerHTML=i)}).catch(function(e){Object(r.a)("MARTECH :: Issue when submitting newsletter",{error:e})})}},{key:"disableSignupButtons",value:function(){this.signUpCards.forEach(function(e){e.querySelector(".martech-in-life-newsletter__card-button").disabled="true",e.classList.add("martech-in-life-newsletter__card--disabled")})}},{key:"refineFavouriteCategories",value:function(){if(t=this.config.categoryAffinities){var e=t.match(/\[(.*)\]/),t=(t=e&&e[1]?e[1]:t).includes(", ")?t.split(", "):t.split(",");return this.removeSelectCategories(t,["portal","secure",""])}return[]}},{key:"removeSelectCategories",value:function(e,t){return e.filter(function(e){return!t.includes(e)})}},{key:"errorMessageDisplay",value:function(e){var t;(this.errorDisplayed=e)?(t=document.querySelector(".martech-in-life-newsletter__cards-wrapper"))&&t.insertAdjacentHTML("afterbegin",Object(c.a)()):(t=document.querySelector(".martech-in-life-newsletter__error-message"))&&t.parentElement.removeChild(t)}},{key:"getFirstName",value:function(){var e=f.a.decrypt(tmg.user.getProfile().firstName);return e?"".concat(e):""}}],b(w.prototype,v),w);function w(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof w))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}e.a.create("classes.InLifeNewsletterOverlay"),martech.classes.InLifeNewsletterOverlay=v,_.a=v}.call(this,"Activities/TGT-107--in-life-triggers-newsletter-overlay")},function(e){e.exports=JSON.parse('[{"category":"politics","newsletters":["TheRefresher_NL","PoliticsFrontBench_NL","Politics_NL","USElection_NL","BreakingNews_NL"]},{"category":"property","newsletters":["Property_NL"]},{"category":"money","newsletters":["Personal_Finance_NL","Investor_NL","EconomicIntel_NL","Citydesk_NL","CityIntel_NL"]},{"category":"investing","newsletters":["Investor_NL","Personal_Finance_NL","EconomicIntel_NL","Citydesk_NL","CityIntel_NL"]},{"category":"business","newsletters":["Citydesk_NL","CityIntel_NL","Personal_Finance_NL","EconomicIntel_NL","Investor_NL"]},{"category":["rugby-union","rugby-league","rugby-world-cup","rugby-sevens"],"newsletters":["RugbyNerd_NL","RugbyInsider_NL","RugbyGeech_NL"]},{"category":["food-and-drink","recipes"],"newsletters":["FoodDrink_NL","Stella_NL"]},{"category":"fashion","newsletters":["Fashion_NL","FrontRowLisa_NL","Stella_NL","BeautyClub_NL"]},{"category":"beauty","newsletters":["BeautyClub_NL","Stella_NL","Fashion_NL","FrontRowLisa_NL"]},{"category":"lifestyle","newsletters":["Stella_NL","OtherNews_NL","FrontRowLisa_NL","Fashion_NL","BeautyClub_NL","FoodDrink_NL","Travel_NL","Culture_NL"]},{"category":"health-fitness","newsletters":["Telegraph365_NL","HealthSecurity_NL"]},{"category":"technology","newsletters":["Technology_NL"]},{"category":"travel","newsletters":["Travel_NL","Snow_and_Ski_NL","Stella_NL"]},{"category":"gardening","newsletters":["Gardening_NL"]},{"category":"football","newsletters":["Football_NL","PREMIUM_SPORTS_NL"]},{"category":["sport","womens sport","womens-sport"],"newsletters":["PREMIUM_SPORTS_NL"]},{"category":["athletics","cycling","swimming","olympics","gymnastics","usain-bolt-worlds-fastest-man","paralympic-sport"],"newsletters":["PREMIUM_SPORTS_NL"]},{"category":"education-and-careers","newsletters":["Frontpage_NL"]},{"category":"cricket","newsletters":["CricketNerd_NL"]},{"category":["culture","tv","music","books","on-demand","theatre","art","radio","comedy","opera","dance","photography","better"],"newsletters":["Culture_NL","Film_NL","Stella_NL"]},{"category":"films","newsletters":["Film_NL","Culture_NL","Stella_NL"]},{"category":"royal-family","newsletters":["Royal_NL"]},{"category":"news","newsletters":["BreakingNews_NL","Frontpage_NL","YouAreNotAlone_NL","OtherNews_NL","Matt_NL"]},{"category":"cars","newsletters":["Motoring_NL"]},{"category":"family","newsletters":["Family_NL"]},{"category":"global-health","newsletters":["HealthSecurity_NL","Telegraph365_NL"]},{"category":"luxury","newsletters":["Luxury_NL"]},{"category":"science","newsletters":["Frontpage_NL"]}]')},function(e,y,b){"use strict";!function(o){var c=b(0),e=b(2),t=b(3),s=b(1),n=b(4),a=b(11),l=b(18),u=b(15),d=b(5),i=b(39),r=b(97),h=b(6);function p(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var g,g=(g=[{key:"init",value:function(){var e=this;this.config?(Object(t.a)(this.config),this.checkModalPresence().then(function(){e.injectUserScript(),window.tmg.pubsub.subscribe({topic:"tmg.martech.oneTapLoader",func:function(){Object(n.a)(o),e.build()},runIfAlreadyPublished:!0})})):Object(c.a)("Config not found for activity at ".concat(o))}},{key:"build",value:function(){this.modalConfig=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},this.config,{extraClass:"martech-one-tap-modal martech-one-tap-modal--hide-close",content:Object(l.a)(),displayMobile:!0,preventScrolling:!1,displayOverlay:!0,detachOverlay:!1,extraOverlayClass:"martech-one-tap-modal__overlay--scroll"}),new a.a(this.modalConfig).init(),this.bindEvents(),document.documentElement.classList.add("martech-one-tap-modal--doc-scroll"),this.modalTemplate=new r.a(this.config),this.pubsubListeners()}},{key:"pubsubListeners",value:function(){var e=this;window.tmg.pubsub.subscribe({topic:"tmg.martech.oneTapRegisterComplete",func:function(){e.registerSuccess(),window.tmg.pubsub.unsubscribe({topic:"tmg.martech.oneTapRegisterError"})},runIfAlreadyPublished:!0}),window.tmg.pubsub.subscribe({topic:"tmg.martech.oneTapRegisterError",func:function(){e.registerFailure(),window.tmg.pubsub.unsubscribe({topic:"tmg.martech.oneTapRegisterComplete"})},runIfAlreadyPublished:!0})}},{key:"registerSuccess",value:function(){var n=this;Object(u.b)().then(function(e){n.tokens=e,Object(i.b)(n.config,n.tokens).then(function(e){var t=Object(i.a)(e);n.modalTemplate.init({step:1,template:Object(l.d)(t),scroll:!0,classModifier:"--success",progress:!0,newsletters:e,closeButton:!0})}).catch(function(){n.modalTemplate.init({step:2,template:Object(l.e)(),classModifier:"--final",headingContent:"Your account has been set up",closeButton:!0}),Object(c.a)("MARTECH :: No newsletter recommendations returned at ".concat(o))})}).catch(function(e){n.modalTemplate.init({step:3,template:Object(l.b)(),classModifier:"--error",closeButton:!0,additionalTrackingInfo:"getting-tokens-error-displayed"},n.config),Object(c.a)("MARTECH :: Issue when getting api tokens at ".concat(o),{error:e})})}},{key:"registerFailure",value:function(){this.modalTemplate.init({step:3,template:Object(l.b)(!0),classModifier:"--error",closeButton:!0,headingContent:"We couldn't create your account",closeRefresh:!1,progress:!0},this.config),Object(c.a)("MARTECH :: Issue when trying to register the user at ".concat(o))}},{key:"newsletterSignup",value:function(t){var e,n,a,i,r=this;t&&(n=(e=t.querySelector(".martech-one-tap-modal__newsletter-card-button")).dataset.newsletterId,a=document.createElement("div"),i='\n\t\t\t\t<span class="martech-one-tap-modal__newsletter-card-icon-container">\n\t\t\t\t\t'.concat(Object(d.m)("martech-one-tap-modal__newsletter-card-subscribed-icon"),"\n\t\t\t\t</span>"),Object(s.e)("".concat(n,"-cta-click"),this.config),a.classList.add("martech-one-tap-modal__card-subscribing"),a.innerHTML='\n\t\t\t\t<svg class="martech-one-tap-modal__newsletter-spinner" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<circle class="martech-one-tap-modal__newsletter-spinner-inner-circle" cx="50" cy="50" r="45"/>\n\t\t\t\t</svg>',e.parentNode.replaceChild(a,e),Object(u.e)(this.config,this.tokens,this.config.campaignName,n).then(function(e){"error"!==e?(a.innerHTML=i,t.classList.add("martech-one-tap-modal__newsletter-card--unclickable")):(r.modalTemplate.init({step:3,template:Object(l.b)(),classModifier:"--error",closeButton:!0,additionalTrackingInfo:"newsletter-signup-error-displayed"},r.config),Object(c.a)("MARTECH :: Issue when submitting newsletter at at ".concat(o)))}))}},{key:"submitForm",value:function(){document.getElementById("martechOffers").checked?(Object(s.a)({evar32:!0,eVar75:"marketing-preferences-checked"},["event52","event148"],this.config),this.modalTemplate.init(),this.updatePreferences()):this.modalTemplate.init({step:2,template:Object(l.e)(this.config.geoCountry),classModifier:"--final",headingContent:"Your account has been set up",closeButton:!0})}},{key:"updatePreferences",value:function(){var t=this,e=new Headers({"Content-Type":"application/json",id_token:this.tokens.id_token,access_token:this.tokens.access_token});fetch("https://api.telegraph.co.uk/commerce/accounts/me",{method:"PUT",body:JSON.stringify({preference:{marketingEmailOptIn:!0}}),headers:e}).then(u.a).then(function(){t.modalTemplate.init({step:2,template:Object(l.e)(t.config.geoCountry),classModifier:"--final",headingContent:"Your account has been set up",closeButton:!0})}).catch(function(e){t.modalTemplate.init({step:3,template:Object(l.b)(),classModifier:"--error",closeButton:!0,additionalTrackingInfo:"update-preferences-error-displayed"},t.config),Object(c.a)("Martech:: Issue when updating user's marketing preferences: ".concat(e," at ").concat(o))})}},{key:"bindEvents",value:function(){var n=this;Object(h.a)(".martech-one-tap-modal__newsletter-cards-container").then(function(e){n.signUpCards=e.querySelectorAll(".martech-one-tap-modal__newsletter-card"),n.signUpCards&&n.signUpCards.forEach(function(t){t.addEventListener("click",function e(){n.newsletterSignup(t),t.removeEventListener("click",e,!0)},!0)})}),Object(h.a)(".martech-one-tap-modal__form-button").then(function(e){e.addEventListener("click",function(e){e.preventDefault(),n.submitForm()})}),Object(h.a)(".martech-one-tap-modal .martech-modal-component__close").then(function(e){e.addEventListener("click",function(e){document.documentElement.classList.remove("martech-one-tap-modal--doc-scroll")})})}},{key:"checkModalPresence",value:function(){var t=this;return new Promise(function(e){setTimeout(function(){window.martech&&window.martech.info&&window.martech.info.modalDisplayed?(Object(c.a)("".concat(t.config.campaignName," - Modal displayed, One Tap library only to be loaded if modal closed.")),window.tmg.pubsub.subscribe({topic:"tmg.martech.overlayDismissed",func:function(){return setTimeout(function(){e()},2e3)},runIfAlreadyPublished:!0})):e()},2500)})}},{key:"injectUserScript",value:function(){Object(c.a)("".concat(this.config.campaignName," - Loading Google One Tap library."));var e=document.createElement("script");e.type="text/javascript",e.id="martech-one-tap-lib",e.src="https://www.telegraph.co.uk/customer/lib/onetap.js",e.async=!0,e.defer=!0,document.getElementsByTagName("body")[0].appendChild(e),Object(s.e)("google-one-tap-delivered",this.config)}}],f(m.prototype,g),m);function m(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}e.a.create("classes.GoogleOneTapLibrary"),martech.classes.GoogleOneTapLibrary=g,y.a=g}.call(this,"Activities/TGT-256--google-one-tap-library")},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(18),i=n(1);function r(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=(n=[{key:"init",value:function(e){this.templateInfo=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({step:4,template:Object(a.c)(),scroll:!1,classModifier:"",headingContent:"Complete your account set up",progress:!1,newsletters:[],closeButton:!1,closeRefresh:!0,additionalTrackingInfo:!1},e),this.findElements(),this.modal&&this.header&&this.heading&&this.main&&(this.modifierClasses(),this.isScrollable(),this.progressBarPresent(),this.displayCloseButton(),this.stepDisplayTracking())}},{key:"findElements",value:function(){this.modal=document.querySelector(".martech-one-tap-modal"),this.header=document.querySelector(".martech-one-tap-modal__header"),this.heading=document.querySelector(".martech-one-tap-modal__heading"),this.main=document.querySelector(".martech-one-tap-modal__main")}},{key:"modifierClasses",value:function(){this.header.classList.add("martech-one-tap-modal__header","martech-one-tap-modal__header".concat(this.templateInfo.classModifier)),this.heading.innerHTML=this.templateInfo.headingContent,this.main.className="",this.main.classList.add("martech-one-tap-modal__main","martech-one-tap-modal__main".concat(this.templateInfo.classModifier)),this.main.innerHTML=this.templateInfo.template}},{key:"displayCloseButton",value:function(){this.templateInfo.closeButton?(this.modal.classList.remove("martech-one-tap-modal--hide-close"),this.templateInfo.closeRefresh&&this.modal.querySelector(".martech-modal-component__close-icon").addEventListener("click",function(){setTimeout(function(){window.location.reload()},500)})):this.modal.classList.add("martech-one-tap-modal--hide-close")}},{key:"isScrollable",value:function(){this.templateInfo.scroll?(this.modal.classList.add("martech-one-tap-modal--scroll"),this.heightSetter()):this.modal.classList.contains("martech-one-tap-modal--scroll")&&!this.templateInfo.scroll&&this.modal.classList.remove("martech-one-tap-modal--scroll")}},{key:"progressBarPresent",value:function(){this.templateInfo.progress&&this.header.classList.add("martech-one-tap-modal--progress")}},{key:"heightSetter",value:function(){var e,t=document.querySelector(".martech-modal-component.martech-one-tap-modal--scroll");!t||(e=t.querySelector(".martech-one-tap-modal__container"))&&t.setAttribute("style","--modal-max-height:".concat(e.offsetHeight,"px"))}},{key:"stepDisplayTracking",value:function(){var e;1===this.templateInfo.step?Object(i.a)({eVar75:"account-created-first-step-displayed",list1:this.getNewsletterIdsAsOrderedString()},["event52","event266","event245"],this.config):2===this.templateInfo.step?Object(i.e)("account-created-final-step-displayed",this.config):3===this.templateInfo.step&&(e=this.templateInfo.additionalTrackingInfo||"account-created-error-displayed",Object(i.e)(e,this.config))}},{key:"getNewsletterIdsAsOrderedString",value:function(){var a=this,i="";return this.templateInfo.newsletters&&this.templateInfo.newsletters.forEach(function(e,t){var n=t+1<a.templateInfo.newsletters.length?"--**--":"";i+="".concat(e,":").concat(t+1).concat(n)}),i}}],o(s.prototype,n),s);function s(e){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}},function(e,l,u){"use strict";!function(t){var n=u(0),e=u(2),a=u(3),i=u(4),r=u(30);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=(o(s.prototype,[{key:"init",value:function(){this.config?(Object(a.a)(this.config),this.articleViews=this.config.articlesViewed?this.getAmountArticlesViewed():0,10<=this.articleViews?(Object(i.a)(t),this.setup()):Object(n.a)("Amount of articles viewed is less than 10 at ".concat(t))):Object(n.a)("Config not found for activity at ".concat(t))}},{key:"modifyContent",value:function(){var e=document.getElementById("martech-user-articleviews");e?this.setContent(e):Object(n.a)("The sub heading element doesn't exist ".concat(t))}},{key:"getAmountArticlesViewed",value:function(){var e=Object(r.a)(this.config.articlesViewed);return e&&e.articlesViewed?parseInt(e.articlesViewed,10):0}},{key:"setContent",value:function(e){e.innerHTML="You've enjoyed ".concat(this.articleViews," articles so far. Claim your exclusive offer to read on..."),e.classList.add("martech-articles-viewed__sub-heading")}},{key:"setup",value:function(){var t=this,e=window.location.href;e.includes("subscriptiondetails/cancellation-reason")||e.includes("subscriptiondetails/cancellation-flow")?this.createObserver():window.tmg.pubsub.subscribe({topic:"tmg.customerApp.accountSubscriptions.pageReady",func:function(){var e=document.querySelector(".redirect-cancellation-journey");e&&e.addEventListener("click",function(e){t.createObserver(),window.tmg.pubsub.unsubscribe({topic:"tmg.customerApp.accountSubscriptions.pageReady"})},{once:!0})},runIfAlreadyPublished:!0})}},{key:"createObserver",value:function(){var r=this;new MutationObserver(function(e){window.location.href.includes("subscriptiondetails/cancellation-flow")&&e.forEach(function(e){for(var t=0,n=Array.from(e.addedNodes);t<n.length;t++){var a=n[t],i=a.innerHTML||!1;(a.matches&&a.matches(".offer-card-container")||i&&a.querySelector(".offer-card-container"))&&r.build()}})}).observe(document.documentElement,{childList:!0,subtree:!0})}},{key:"build",value:function(){this.modifyContent(),this.setTracking()}},{key:"setTracking",value:function(){window.dataLayer&&window.dataLayer.event&&(window.dataLayer.event.push("offerCardChange"),window.dataLayer.offerVariation="".concat(this.config.campaignId,"_").concat(this.config.campaignName,"-subheading-displayed"),window.dataLayer.offerICID="cancellation-flow-articles-viewed-subheading-displayed")}}]),s);function s(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}e.a.create("classes.CancellationArticlesViewed"),martech.classes.CancellationArticlesViewed=c,l.a=c}.call(this,"Activities/TGT-289--cancellation-flow-articles-viewed")},function(e,u,d){"use strict";!function(e){var t=d(2),n=d(0),a=d(3),c=d(16),i=d(10),r=d(1);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=(o(l.prototype,[{key:"init",value:function(){this.config?(Object(a.a)(this.config),this.personalisedNewsletters=[],this.entities=this.config.recommendationResults,this.deploy()):Object(n.a)("Config not found for activity at ".concat(e))}},{key:"deploy",value:function(){var e=this;this.runAudienceScoring(),this.addNewsletterIndexInMap(),this.sortScores(),this.personalisedNewsletters=this.personalisedNewsletters.map(function(e){return e.newsletterId}),this.personalisedNewsletters.length&&(this.storeArray(),window.tmg.pubsub.subscribe({topic:"tmg.customerApp.newsletters.pageReady",func:function(){return e.tracking()},runIfAlreadyPublished:!0}))}},{key:"runAudienceScoring",value:function(){for(var e in this.entities){this.audienceToIgnore=!1,this.joinsIgnore=!1,this.entity=this.entities[e],this.parseEntities(),this.entity.author&&this.entity.keywords||this.updateAudienceProperties(this.entity);var t=!0,n=!1,a=void 0;try{for(var i,r=c[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;this.audiencesCheck(o)&&this.updateScoreTable(o.api.newsletterId)}}catch(e){n=!0,a=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw a}}}}},{key:"updateAudienceProperties",value:function(e){"index"===e.pageType?this.audienceToIgnore="keywords":(e.author||(e.author=e.title),e.keywords||(e.keywords=e.title),this.audienceToIgnore="channel",this.joinsIgnore=!0)}},{key:"parseEntities",value:function(){for(var e in this.entity)this.entity[e]=this.entity[e].toLowerCase(),this.entity[e]&&"keywords"===e&&(this.entity[e]=this.entity[e].split(","))}},{key:"updateScoreTable",value:function(t){var e=this.personalisedNewsletters.filter(function(e){return e&&e.newsletterId===t})[0];e?e.points+=1:this.personalisedNewsletters.push({newsletterId:t,points:1})}},{key:"addNewsletterIndexInMap",value:function(){this.personalisedNewsletters.forEach(function(n){c.forEach(function(e,t){e.api.newsletterId===n.newsletterId&&(n.index=t)})})}},{key:"sortScores",value:function(){this.personalisedNewsletters.sort(function(e,t){return e.points===t.points?e.index-t.index:e.points<t.points?1:-1})}},{key:"storeArray",value:function(){i.a.set("personalisedNLs",JSON.stringify(this.personalisedNewsletters))}},{key:"tracking",value:function(){var t=this,e=window.dataLayer.newsletterType.split(";").filter(function(e){return t.personalisedNewsletters.includes(e)}).join(",");Object(r.e)(e,this.config)}},{key:"audiencesCheck",value:function(e){if(e.audiences)for(var t=0,n=Object.entries(e.audiences);t<n.length;t++){a=(a=n[t],i=1,(function(e){if(Array.isArray(e))return e}(a)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw r}}return n}}(a,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[0]);if(a!==this.audienceToIgnore){i=this.sectionMatch(e,a)&&this.sectionInJoin(e,a)&&this.joinRulesMatch(e),a=this.sectionMatch(e,a)&&(this.joinsIgnore||!this.sectionInJoin(e,a));if(i||a)return!0}}var a,i}},{key:"sectionMatch",value:function(e,t){var n=this,e=e.audiences[t];return Array.isArray(e)?!!e.filter(function(e){return n.entity[t].includes(e)})[0]:this.entity[t].includes(e)}},{key:"sectionInJoin",value:function(e,t){if(e.audiencesJoin){var n=function(e){return e.some(function(e){return e===t})};return this.oneJoinArray(e)?n(e.audiencesJoin):e.audiencesJoin.some(n)}}},{key:"oneJoinArray",value:function(e){return!e.audiencesJoin.filter(function(e){return Array.isArray(e)})[0]}},{key:"joinRulesMatch",value:function(t){function e(e){return e.every(function(e){return n.sectionMatch(t,e)})}var n=this;return this.oneJoinArray(t)?e(t.audiencesJoin):t.audiencesJoin.some(e)}}]),l);function l(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}t.a.create("classes.PersonalisedNewsletterList"),martech.classes.PersonalisedNewsletterList=s,u.a=s}.call(this,"Activities/TGT-286--personalised-newsletters-recs")},function(e,u,d){"use strict";!function(t){var n=d(0),e=d(2),a=d(3),i=d(4),r=d(24),o=d(114);function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s,s=(s=[{key:"init",value:function(){var e=this;this.config?(Object(a.a)(this.config),Object(i.a)(t),this.navButtons=document.querySelector(".site-header__buttons"),this.navButtons&&(this.notificationContainer=this.createNotificationContainer(),setTimeout(function(){e.removeMyFeedButton(),e.insertNotificationsButton(),e.notificationButton=e.notificationContainer.querySelector(".martech-bonus-subs-notification-button"),new o.a(e.config,e.notificationButton).init()},500))):Object(n.a)("Config not found for activity at ".concat(t))}},{key:"insertNotificationsButton",value:function(){var e=this.navButtons.querySelector(".e-site-header-button--menu");e&&this.navButtons.insertBefore(this.notificationContainer,e)}},{key:"removeMyFeedButton",value:function(){var e=this.navButtons.querySelector(".e-site-header-button--sign-in");e&&e.parentNode.removeChild(e)}},{key:"createNotificationContainer",value:function(){var e=document.createElement("div");return e.classList.add("e-site-header-button","martech-bonus-subs-notification-button__container"),e.innerHTML=Object(r.c)(),e}}],c(l.prototype,s),l);function l(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}e.a.create("classes.BonusSubsNotifications"),martech.classes.BonusSubsNotifications=s,u.a=s}.call(this,"Activities/TGT-363--bonus-subs-notifications")},function(e,u,d){"use strict";!function(s){var l=d(0),e=d(2),t=d(3),n=d(4),a=d(102),i=d(103);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,o=(o=[{key:"init",value:function(){this.config?(Object(t.a)(this.config),Object(n.a)(s),window.martech.audience.mobile_device_is_mobile?document.body.classList.add("article-preview-popup--on-mobile-device"):document.body.classList.add("article-preview-popup--not-on-mobile-device"),this.getArticleLinks(),this.tracking.eVar75Tracking({trackingValue:"loaded"})):Object(l.a)("Config not found for activity at ".concat(s))}},{key:"getArticleLinks",value:function(){var i=0,r=[];Array.from(this.articleBody.querySelectorAll("p > a")).map(function(e){var t,n,a=this;/www\.telegraph\.co\.uk\/.+\/../.test(e)&&(e.setAttribute("data-onward_article_link",i),e.classList.add("onward-article-link-popup"),e.classList.add("onward_article_link-"+i),(t=document.createElement("aside")).classList.add("article-preview-popup","article-preview-popup-".concat(i)),e.before(t),(n=document.createElement("span")).setAttribute("class","article-link-text-marker article-link-text-marker-"+i),e.prepend(n),["control","default"].includes(this.config.experienceName)&&e.addEventListener("click",function(e){a.tracking.eVar154Tracking({trackingValue:"click"})}),r.push({onwardlinkCount:i,url:e.href,domRef:t,aLinkTextMarker_domRef:n,aLink:".onward_article_link-"+i}),i++)},this),r.length&&(/control|default/i.test(this.config.experienceName)?(r.length&&this.addArticleLinkHoverTracking(r),Object(l.a)("this.config.experienceName: ".concat(this.config.experienceName,", finished adding control experience tracking for activity at ").concat(s))):(Object(l.a)("this.config.experienceName: ".concat(this.config.experienceName,", not control experience, starting process to add preview popups for activity at ").concat(s)),document.body.classList.add("article-preview-popup--"+this.config.experienceName),r.length&&this.getArticlesTitle(r)))}},{key:"addArticleLinkHoverTracking",value:function(e){var t=this;e.map(function(e){document.querySelector(e.aLink).addEventListener("mouseover",function(e){t.tracking.eVar75Tracking({trackingValue:"hover"})})})}},{key:"getArticlesTitle",value:function(e){var t=this,a=[];Promise.all(e.map(function(n){return fetch(n.url).then(function(e){if(!e.ok&&!e.redirected)throw new Error("MARTECH :: Response not successful for",n.url);return e}).then(function(e){return e.text()}).then(function(e){var t=(new DOMParser).parseFromString(e,"text/html"),e=t.querySelector('meta[property="og:title"]').content;e&&a.push({onwardlinkCount:n.onwardlinkCount,title:e,url:n.url,description:t.querySelector('meta[property="og:description"]').content,image:t.querySelector('meta[property="og:image"]').content.replace("?impolicy=logo-overlay",""),domRef:n.domRef,aLinkTextMarker_domRef:n.aLinkTextMarker_domRef,aLink:n.aLink})}).catch(function(e){return Object(l.a)("Error while fetching for activity at ".concat(s,": ").concat(e))})})).then(function(){0<t.config.experienceNumber&&t.renderArticlesPopups(a)}).catch(function(e){return Object(l.a)("Error while running this.renderArticlesPopups() for activity at ".concat(s,": ").concat(e))})}},{key:"renderArticlesPopups",value:function(e){var o=this,c=new a.a;e.forEach(function(t,e){var n='\n\t\t\t<a class="martech-article-preview-popup-component__link" href="'.concat(t.url,'">\n\t\t\t\t<img class="image--appearance" src="').concat(t.image,'"></img>\n\t\t\t\t<h3 class="martech-article-preview-popup-component__headline title--appearance">').concat(t.title,'</h3>\n\t\t\t\t<p class="description--appearance">').concat(t.description,' <img class="inline-pika-next--appearance" src="https://www.telegraph.co.uk/etc/designs/telegraph/core/clientlibs/ui/dist/static/images/chevron-arrow.svg"></p>\n\t\t\t\t<div class="down-arrow--border-appearance down-arrow--positioning"></div>\n\t\t\t</a>\n\t\t\t<div class="martech-article-preview-popup-component__gapfiller"></div>\n\t\t\t');t.domRef.innerHTML=n;var a=0,i=0,r=0;t.domRef.querySelector("a").addEventListener("click",function(e){o.tracking.eVar154Tracking({trackingValue:"click"})}),window.martech.audience.mobile_device_is_mobile?(document.addEventListener("click",function(e){e.target.classList.contains("onward-article-link-popup")||e.target.classList.contains("article-preview-popup")||e.target.closest(".popup--visible")||(null!=window.current_visible_articlePreviewPopup&&window.current_visible_articlePreviewPopup.classList.remove("popup--visible"),window.current_visible_articlePreviewPopup=null)},!1),document.querySelector(t.aLink).addEventListener("click",function(e){e.preventDefault(),r=document.querySelector("article").getBoundingClientRect().right,i=t.aLinkTextMarker_domRef.getBoundingClientRect(),a=t.domRef.getBoundingClientRect(),null==t.domRef.getAttribute("style")&&(i.x+a.width>r?(t.domRef.setAttribute("style","margin-top:".concat(-1*a.height-10,"px; right:8px")),a=t.domRef.getBoundingClientRect(),t.domRef.querySelector(".down-arrow--positioning").setAttribute("style","left:".concat(i.left-a.left,"px"))):t.domRef.setAttribute("style","margin-top:".concat(-1*a.height-10,"px; left:").concat(i.x,"px"))),t.domRef.classList.contains("popup--visible")?(t.domRef.classList.remove("popup--visible"),window.current_visible_articlePreviewPopup=null):(void 0!==window.current_visible_articlePreviewPopup&&null!=window.current_visible_articlePreviewPopup&&window.current_visible_articlePreviewPopup.classList.remove("popup--visible"),t.domRef.classList.add("popup--visible"),o.tracking.eVar75Tracking({trackingValue:"hover"}),window.current_visible_articlePreviewPopup=t.domRef)},!1)):(document.querySelector(t.aLink).addEventListener("mouseout",function(e){c.removePopupHoverStateWhenNotHoveringOverPopup()},!1),document.querySelector(t.aLink).addEventListener("click",function(e){e.preventDefault()},!1),c.addPopupHoverState(t.domRef),document.querySelector(t.aLink).addEventListener("mouseover",function(e){e.preventDefault();e=document.querySelector(".articleBodyText").getBoundingClientRect();r=document.querySelector("article").getBoundingClientRect().right,i=t.aLinkTextMarker_domRef.getBoundingClientRect(),a=t.domRef.getBoundingClientRect(),i.x+a.width>r?(t.domRef.setAttribute("style","margin-top:".concat(-1*a.height-5+20,"px; right:8px")),a=t.domRef.getBoundingClientRect(),t.domRef.querySelector(".down-arrow--positioning").setAttribute("style","left:".concat(i.left-a.left,"px"))):e.x!==i.x&&8!==i.x?t.domRef.setAttribute("style","margin-top:".concat(-1*a.height+15,"px; left:").concat(i.x,"px")):t.domRef.setAttribute("style","margin-top:".concat(-1*a.height+40,"px; left:").concat(i.x,"px")),t.domRef.classList.contains("popup--visible")?t.domRef.classList.remove("popup--visible"):(void 0!==window.current_visible_articlePreviewPopup&&null!=window.current_visible_articlePreviewPopup&&window.current_visible_articlePreviewPopup.classList.remove("popup--visible"),window.tmgTnt_tgt154ShowPopup=t.domRef,t.domRef.classList.add("popup--visible"),o.tracking.eVar75Tracking({trackingValue:"hover"}),window.current_visible_articlePreviewPopup=t.domRef)},!1))}),Object(l.a)("this.config.experienceName: ".concat(this.config.experienceName,", not control experience, finished process to add preview popups for activity at ").concat(s))}}],r(c.prototype,o),c);function c(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.articleBody=document.querySelector('[itemprop="articleBody"]'),this.tracking=new i.a(this.config)}e.a.create("classes.ArticlePreviewPopup"),martech.classes.ArticlePreviewPopup=o,u.a=o}.call(this,"Activities/TGT-154--hover_over_links")},function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=(a(r.prototype,[{key:"addPopupHoverState",value:function(e){e.querySelector(".martech-article-preview-popup-component__link").addEventListener("mouseover",function(e){e=e.target.closest(".article-preview-popup");e&&(e.querySelector(".martech-article-preview-popup-component__headline").classList.contains("martech-article-preview-popup-component__headline--underline")||e.querySelector(".martech-article-preview-popup-component__headline").classList.add("martech-article-preview-popup-component__headline--underline"))},!1)}},{key:"removePopupHoverStateWhenNotHoveringOverPopup",value:function(){document.addEventListener("mouseover",function(e){e.target.classList.contains("onward-article-link-popup")||e.target.classList.contains("article-preview-popup")||e.target.closest(".popup--visible")||null!=window.current_visible_articlePreviewPopup&&(window.current_visible_articlePreviewPopup.querySelector(".martech-article-preview-popup-component__headline").classList.remove("martech-article-preview-popup-component__headline--underline"),window.current_visible_articlePreviewPopup.classList.remove("popup--visible"))},!1)}}]),r);function r(){!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this)}t.a=i},function(e,t,n){"use strict";var r=n(0),a=n(1);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n=[{key:"sendEventUser",value:function(e,t){var n=this,a=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(t.campaignId&&t.campaignName){var i=a?e:"".concat(t.campaignId,"_").concat(t.campaignName,"_").concat(e);try{if(void 0===window.s)throw new Error("MARTECH :: Waiting for s before firing tracking");s.eVar154=i,s.events="event52,event255",s.linkTrackEvents="event52,event255",s.linkTrackVars="events,eVar154"+_satellite.getVar("TMG linkTrackVars"),s.tl(!0,"o","Target Custom"),Object(r.a)("".concat(t.campaignName," --\x3e sendEventUser eVar154 = ").concat(i))}catch(i){r.a.log("sendEventUser, trycatch error: "+i),setTimeout(function(){n.sendEventUser(e,t,a)},200)}}}},{key:"eVar154Tracking",value:function(e){this.sendEventUser(this.config.experienceName+"---"+e.trackingValue,this.config)}},{key:"eVar75Tracking",value:function(e){Object(a.e)(this.config.experienceName+"---"+e.trackingValue,this.config)}}],i(o.prototype,n),n=o;function o(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}t.a=n},function(e,f,g){"use strict";!function(t){var n=g(0),e=g(2),a=g(3),i=g(4),r=g(11),o=g(8),c=g(105),s=g(6),l=g(1);function u(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var h,h=(h=[{key:"init",value:function(){var e=this;this.config?(Object(a.a)(this.config),this.modalConfig=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},this.config,{extraClass:"martech-non-engaged-reg-overlay",timeout:100,content:Object(c.a)("conversion-subscription_onsite-asset_overlay_06-21_EGW-03_june_sale_overlay"),displayMobile:!0,preventScrolling:!0,displayOverlay:!0,detachOverlay:!1}),Object(o.b)(this.config).then(function(){Object(i.a)(t),e.start()}).catch(function(){Object(o.c)(e.config).then(function(){Object(i.a)(t),e.start()}).catch(function(){})})):Object(n.a)("Config not found for activity at ".concat(t))}},{key:"start",value:function(){var e=this,t=new r.a(this.modalConfig);setTimeout(function(){t.init(),e.bindEvents()},this.modalConfig.timeout)}},{key:"bindEvents",value:function(){var n=this;Object(l.c)("".concat(this.mboxPrefix,"-display")),Object(s.a)(".martech-modal-component__close").then(function(e){e.addEventListener("click",function(e){Object(l.c)("".concat(n.mboxPrefix,"-click")),e.stopPropagation()})}),Object(s.a)(".martech-modal-component-overlay").then(function(t){t.addEventListener("click",function(e){e.target===t&&(Object(l.c)("".concat(n.mboxPrefix,"-click")),e.stopPropagation())})}),Object(s.a)(".martech-non-engaged-reg-overlay__cta").then(function(e){e.addEventListener("click",function(){Object(l.c)("".concat(n.mboxPrefix,"-click")),Object(l.e)("ctaclick",n.config)})})}}],d(p.prototype,h),p);function p(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.mboxPrefix="non-engaged-audience"}e.a.create("classes.JuneSaleOverlay"),martech.classes.JuneSaleOverlay=h,f.a=h}.call(this,"Activities/TGT-426--reg-noneganged-anonreg-engaged-june-sale")},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(7),i=function(e){e="https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP047&campaignId=052A&ICID=".concat(e);return'<div class="martech-non-engaged-reg-overlay__container">\n\t\t\t<h1 class="martech-non-engaged-reg-overlay__title">'.concat("The June Sale </br>3 months for just Â£1",'</h1>\n\t\t\t<p class="martech-non-engaged-reg-overlay__excerpt">').concat("From all the latest news to travel tips and film reviews, stay expertly informed and entertained this summer with a Digital Subscription. Cancel anytime.",'</p>\n\t\t\t<a class="martech-non-engaged-reg-overlay__cta" href="').concat(Object(a.a)(e),'">').concat("Start your free trial","</a>\n\t\t</div>")}},function(e,l,u){"use strict";!function(e){var t=u(0),n=u(2),a=u(3),i=u(4),r=u(9);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=(o(s.prototype,[{key:"init",value:function(){this.config?(Object(a.a)(this.config),Object(i.a)(e),this.render()):Object(t.a)("Config not found for activity at ".concat(e))}},{key:"render",value:function(){var e,t=document.querySelector(".hero-asset__content-wrapper"),n=document.querySelector(".page-heading"),a=t||n||!1;!1!==a&&((e=document.createElement("div")).classList.add("martech-sponsor-slot-logo-space"),e.innerHTML='<span class="martech-sponsor-slot__text">Sponsored by</span>\n\t\t\t\t\t<span class="martech-sponsor-slot__logo">\n\t\t\t\t\t<a href="https://www.welovecycling.com/uk/" rel="sponsored" target="_blank">\n\t\t\t\t\t<img src="'.concat(Object(r.a)("Activities/WEB-4668--sponsor-logo-sublevel-index-pages","skoda-black-logo.png"),'" alt="Skoda logo" class="sponsor-slot__logo-src">\n\t\t\t\t\t</a>\n\t\t\t\t</span>'),t?a.after(e):n&&(e.classList.remove("martech-sponsor-slot-logo-space"),e.classList.add("martech-sponsor-slot-logo-space-non-grid"),a.after(e)))}}]),s);function s(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}n.a.create("classes.SponsoredLogoSublevelIndexPages "),martech.classes.SponsoredLogoSublevelIndexPages=c,l.a=c}.call(this,"Activities/WEB-4668--sponsor-logo-sublevel-index-pages")},function(e,l,u){"use strict";!function(t){var n=u(0),e=u(2),a=u(3),i=u(6),r=u(1);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c,c=(c=[{key:"addCtaClickTracking",value:function(t){var e={editionAppSMSLink:[".onboarding-flow .skip-step",".onboarding-flow .apps-cta button.default"],newsLetterStep:[".onboarding-flow .newsletters-cta .button"],podcastLink:[".onboarding-flow footer .briefing-cta .button"]};if(void 0!==e[t.viewName])for(var n=0;n<e[t.viewName].length;n++)Object(i.a)(e[t.viewName][n]).then(function(e){e.addEventListener("click",function(e){window.Obf_tracking_validation.sendEventHit("_"+t.targetConfigObj.experienceName+"__"+t.viewName.toLowerCase()+"--clicked",t.targetConfigObj)})})}},{key:"stepLoadedTrackingEvent",value:function(e){window.Obf_tracking_validation.sendEventHit("_"+e.targetConfigObj.experienceName+"__"+e.viewName.toLowerCase()+"--loaded",e.targetConfigObj),window.Obf_tracking_validation.addCtaClickTracking(e)}},{key:"getOnboardingJourneyStepFromStepHeading",value:function(e){return{"Welcome to The Telegraph":"editionAppSMSLink","Sign up to our brilliant newsletters":"newsLetterStep","Your twice-daily briefing ":"podcastLink","Just one more thingâ€¦":"articleLinks"}[e]}},{key:"init",value:function(){if(this.config){Object(a.a)(this.config),window.Obf_tracking_validation=this,window.Obf_tracking_validation.sendEventHit=r.e;try{window.fc_campaign&&Object(i.a)(".onboarding-flow").then(function(e){var t=document.querySelector(".onboarding-screen"),r=!1;new MutationObserver(function(e,t){for(var n,a,i=0;n=e[i];i+=1)"attributes"==n.type&&(r=!0);r&&(a=window.Obf_tracking_validation.getOnboardingJourneyStepFromStepHeading(document.querySelector(".onboarding-screen h1").textContent),window.Obf_tracking_validation.stepLoadedTrackingEvent({viewName:a,targetConfigObj:window.Obf_tracking_validation.config}),r=!1)}).observe(t,{attributes:!0,childList:!1,subtree:!1,characterData:!1})})}catch(e){Object(n.a)("Error for activity at ".concat(t,": ").concat(e))}}else Object(n.a)("Config not found for activity at ".concat(t))}}],o(s.prototype,c),s);function s(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.config.onboardingJourneyStep=null}e.a.create("classes.OnboardingFlowSdaTrackingValidation"),martech.classes.OnboardingFlowSdaTrackingValidation=c,l.a=c}.call(this,"Activities/TGT-383-onboarding-flow-tracking-validation")},function(e,l,u){"use strict";!function(e){var t=u(0),n=u(2),a=u(3),i=u(4),r=u(9);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=(o(s.prototype,[{key:"init",value:function(){this.config?(Object(a.a)(this.config),Object(i.a)(e),this.renderSponsoredLogoArticle3Pages()):Object(t.a)("Config not found for activity at ".concat(e))}},{key:"renderSponsoredLogoArticle3Pages",value:function(){var e,t=document.querySelector(".grid-col.grid-col-12.article__layout.article__related-top");t&&((e=document.createElement("div")).classList.add("martech-sponsor-slot-logo-space-two"),e.innerHTML='<div class="martech-sponsor-logo-two">\n\t\t\t\t<span class="martech-sponsor-logo-label">Sponsored by</span>\n\t\t\t\t\t<a class="martech-sponsor-logo-link" href="https://www.welovecycling.com/uk/" rel="sponsored" target="_blank">\n\t\t\t\t\t<img class="martech-sponsor-logo-image" src="'.concat(Object(r.a)("Activities/WEB-4666-sponsored-logo-article3-pages","skoda-black-logo.png"),'" alt="Skoda logo">\n\t\t\t\t</a>\n\t\t\t</div>'),t.before(e))}}]),s);function s(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}n.a.create("classes.SponsoredLogoArticle3pages"),martech.classes.SponsoredLogoArticle3pages=c,l.a=c}.call(this,"Activities/WEB-4666-sponsored-logo-article3-pages")},function(e,l,u){"use strict";!function(e){var t=u(0),n=u(2),a=u(3),i=u(4),r=u(9);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=(o(s.prototype,[{key:"init",value:function(){this.config?(Object(a.a)(this.config),Object(i.a)(e),this.renderSponsoredLogo()):Object(t.a)("Config not found for activity at ".concat(e))}},{key:"renderSponsoredLogo",value:function(){var e,t=document.querySelector(".hero-asset__content-wrapper");t&&((e=document.createElement("div")).classList.add("martech-sponsor-slot-logo-space"),e.innerHTML='<span class="martech-sponsor-slot__text">Sponsored by</span>\n\t\t\t\t\t<span class="martech-sponsor-slot__logo">\n\t\t\t\t\t<a href="https://www.welovecycling.com/uk/" rel="sponsored" target="_blank">\n\t\t\t\t\t<img src="'.concat(Object(r.a)("Activities/WEB-4665--sponsored-logo-index-cycling-page","skoda-black-logo.png"),'" class="sponsor-slot__logo-src">\n\t\t\t\t\t</a>\n\t\t\t\t</span>'),t.after(e))}}]),s);function s(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}n.a.create("classes.SponsoredLogoCyclingIndex"),martech.classes.SponsoredLogoCyclingIndex=c,l.a=c}.call(this,"Activities/WEB-4665--sponsored-logo-index-cycling-page")},function(e,l,u){"use strict";!function(e){var t=u(0),n=u(2),a=u(3),i=u(4),r=u(9);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=(o(s.prototype,[{key:"init",value:function(){this.config?(Object(a.a)(this.config),Object(i.a)(e),this.renderSponsoredLogoArticle2Pages()):Object(t.a)("Config not found for activity at ".concat(e))}},{key:"renderSponsoredLogoArticle2Pages",value:function(){var e,t=document.querySelector(".article__socials");t&&((e=document.createElement("div")).classList.add("martech-sponsor-slot__logo-space"),e.innerHTML='<span class="martech-sponsor-slot__text">Sponsored by</span>\n\t\t\t\t\t<span class="martech-sponsor-slot__logo">\n\t\t\t\t\t<a href="https://www.welovecycling.com/uk/" rel="sponsored" target="_blank">\n\t\t\t\t\t<img src="'.concat(Object(r.a)("Activities/WEB-4667--sponsor-logo-article2-pages","skoda-black-logo.png"),'" alt="Skoda logo" class="sponsor-slot__logo-src">\n\t\t\t\t\t</a>\n\t\t\t\t</span>'),t.after(e))}}]),s);function s(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}n.a.create("classes.SponsoredLogoArticle2pages "),martech.classes.SponsoredLogoArticle2pages=c,l.a=c}.call(this,"Activities/WEB-4667--sponsor-logo-article2-pages")},function(e,s,l){"use strict";!function(e){var t=l(0),n=l(2),a=l(3);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o,o=(o=[{key:"init",value:function(){this.config?(Object(a.a)(this.config),this.truncate()):Object(t.a)("Config not found for activity at ".concat(e))}},{key:"truncate",value:function(){var e=this;window.tmg.pubsub.subscribe({topic:"tmg.page.pianoready",func:function(){return e.articleTruncation()},runIfAlreadyPublished:!0})}},{key:"articleTruncation",value:function(){var e,t=i(this.articleBody.querySelectorAll("p"));0<t.filter(function(e){return"BLOCKQUOTE"===e.parentNode.tagName}).length&&(e=t.filter(function(e){return"BLOCKQUOTE"!==e.parentNode.tagName}),(e=this.getTruncatedParagraph(e))||(t=i(this.liveStreamContainer.querySelectorAll("p")),e=this.getTruncatedParagraph(t)),e&&(t=(t=this.liveStreamContainer?e.closest(".js-live-post.component"):e.closest(".section"))||e.closest(".section"),this.removeNextElements([e,t])))}},{key:"removeNextElements",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=document.querySelector(".premium-paywall.component");e.forEach(function(e){for(;e.nextElementSibling&&e.nextElementSibling!==n;){var t=e.nextElementSibling;t.parentNode.removeChild(t)}})}},{key:"getTruncatedParagraph",value:function(e){var a=this,i=0,r=!1,o=!1;return e.forEach(function(e){var t,n;i+e.textContent.trim().length>=a.charsLimit&&!r?(t=a.charsLimit-i,n=(n=e.textContent.trim().split(" ").slice(0,t)).join(" ")+"...",e.textContent=n,o=e,i+=t,r=!0):i+=e.textContent.trim().length}),o}}],r(c.prototype,o),c);function c(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.charsLimit=100,this.liveStreamContainer=document.querySelector(".js-live-stream.component"),this.articleBody=document.querySelector('[data-js="article-body"]'),this.articleImage=document.querySelector(".article__lead-asset")}n.a.create("classes.BlockquoteArticleTruncation"),martech.classes.BlockquoteArticleTruncation=o,s.a=o}.call(this,"Activities/TGT-430--blockquote-article-truncation")},function(e,t,n){"use strict";function a(e,t){return'<div class="martech-new-paywall-mechanism__paywall-container martech-new-paywall-mechanism__offer-article-anon '.concat(e.register?"martech-new-paywall-mechanism__variation-register-version":"",'">\n\t\t\t').concat(r(e,t),'\n\t\t\t<footer class="martech-new-paywall-mechanism__footer">\n\t\t\t\t<p class="martech-new-paywall-mechanism__footer-text">').concat(e.footerText,' <a class="martech-new-paywall-mechanism__link" href="').concat(Object(u.a)("".concat(e.footerCtaLink,"?ICID=").concat(t.footerCtaIcid),"".concat(location.href)),'">').concat(e.footerCtaText,"</a></p>\n\t\t\t</footer>\n\t\t</div>")}function i(e,t){return'<div class="martech-new-paywall-mechanism__paywall-container martech-new-paywall-mechanism__offer-article-reg">\n\t\t\t'.concat(r(e,t),"\n\t\t</div>")}function r(e,t){return'<header class="martech-new-paywall-mechanism__header">\n\t\t\t<h2 class="martech-new-paywall-mechanism__main-heading martech-new-paywall-mechanism__text-center">'.concat(e.title,'</h2>\n\t\t</header>\n\t\t<main class="martech-new-paywall-mechanism__main">\n\t\t\t<div class="martech-new-paywall-mechanism__content">\n\t\t\t\t<svg class="martech-new-paywall-mechanism__border-top" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.18 14.16" height="10" width="30"><rect stroke="none" width="39.18" height="0.75"/><path d="M39.18.53c-15,0-18.92,6.58-18.92,13.63C20.26,2,6.54.57,0,.53"/></svg>\n\t\t\t\t<h1 class="martech-new-paywall-mechanism__headline">').concat(e.headline,'</h1>\n\t\t\t\t<p class="martech-new-paywall-mechanism__info">').concat(e.excerpt,'</p>\n\t\t\t\t<a href="').concat(Object(u.a)("".concat(e.ctaLink,"ICID=").concat(t.ctaIcid),"".concat(location.href)),'" class="martech-new-paywall-mechanism__button">').concat(e.ctaText,"</a>\n\t\t\t\t").concat(h(e),"\n\t\t\t\t").concat(p(e,t),"\n\t\t\t</div>\n\t\t</main>")}function o(e){return{"offer-article-anon":{title:{defaultSection:{defaultRegion:{defaultProduct:"To continue reading this article..."}}},headline:{defaultSection:{uk:{defaultProduct:"The June Sale: 3 months for just Â£1",ada:'Start your one-month <span class="martech-new-paywall-mechanism__bold-underline">free</span> trial'},defaultRegion:{defaultProduct:'Start your one-month <span class="martech-new-paywall-mechanism__bold-underline">free</span> trial',ada:'Start your one-month <span class="martech-new-paywall-mechanism__bold-underline">free</span> trial'}}},excerpt:{defaultSection:{uk:{defaultProduct:"From all the latest news to must-read reviews, make the most of the Great British summer with a Digital Subscription. Cancel anytime.",ada:'Turn to our trusted journalism when you need it most, with unlimited access to <br class="martech-new-paywall-mechanism__desktop-display" />The Telegraphâ€™s award-winning website and app.'},defaultRegion:{defaultProduct:'Turn to our trusted journalism when you need it most, with unlimited access to <br class="martech-new-paywall-mechanism__desktop-display" />The Telegraphâ€™s award-winning website and app.',ada:'Turn to our trusted journalism when you need it most, with unlimited access to <br class="martech-new-paywall-mechanism__desktop-display" />The Telegraphâ€™s award-winning website and app.'}}},ctaLink:{defaultSection:{uk:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP047&campaignId=052A&",ada:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nbrdk4rzgjwte4dmnnzhgobuobvwgytm&offerId=freetrial-digitalplus-month-RP027&campaignId=038A&"},defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP001&campaignId=038A&",ada:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nbrdk4rzgjwte4dmnnzhgobuobvwgytm&offerId=freetrial-digitalplus-month-RP027&campaignId=038A&"}}},ctaText:{defaultSection:{defaultRegion:{defaultProduct:"Start your free trial"}}},info:{defaultSection:{uk:{defaultProduct:"Â£3 per week thereafter. Offer closes: 23.59 Tuesday 22 June 2021.",ada:"Then Â£3 per month for three months and Â£6 per week thereafter. Cancel anytime"},defaultRegion:{defaultProduct:"Then ".concat(e.price(1)," per month for three months and ").concat(e.price(3)," per week thereafter. Cancel anytime"),ada:"Then ".concat(e.price(3)," per month for three months and ").concat(e.price(6)," per week thereafter. Cancel anytime")}}},footerText:{defaultSection:{uk:{defaultProduct:"Already a subscriber?",ada:"Already have an account?"},defaultRegion:{defaultProduct:"Already have an account?"}}},footerCtaLink:{defaultSection:{defaultRegion:{defaultProduct:"/secure/login"}}},footerCtaText:{defaultSection:{defaultRegion:{defaultProduct:"Log in"}}}},"offer-article-reg":{title:{defaultSection:{defaultRegion:{defaultProduct:"Youâ€™ve reached your free article limit..."}}},headline:{defaultSection:{uk:{defaultProduct:"The June Sale: 3 months for just Â£1",ada:"Subscribe now and save over 85%"},defaultRegion:{defaultProduct:"Subscribe now and save over 85%",ada:"Subscribe now and save over 85%"}}},excerpt:{defaultSection:{uk:{defaultProduct:"From all the latest news to must-read reviews, make the most of the Great British summer with a Digital Subscription. Cancel anytime.",ada:'Enjoy your first 4 months for just Â£9 in total with a Digital Plus Subscription.<br class="martech-new-paywall-mechanism__tablet-display" /> Stay informed on the road to lifting restrictions.'},defaultRegion:{defaultProduct:"Gain an award-winning British perspective with a Digital Subscription. Enjoy our website plus live updates and the daily paper in our app. Cancel anytime.",ada:"Start your free one-month trial today. Unlock unlimited website access, share a bonus subscription with a friend, download our exclusive app - and more. Cancel anytime."}}},ctaLink:{defaultSection:{uk:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP047&campaignId=052AA&",ada:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nbrdk4rzgjwte4dmnnzhgobuobvwgytm&offerId=freetrial-digitalplus-month-RP027&campaignId=038A&"},defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP001&campaignId=038A&",ada:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nbrdk4rzgjwte4dmnnzhgobuobvwgytm&offerId=freetrial-digitalplus-month-RP027&campaignId=038A&"}}},ctaText:{defaultSection:{defaultRegion:{defaultProduct:"Start your free trial"}}},info:{defaultSection:{uk:{defaultProduct:"Â£3 per week thereafter. Offer closes: 23.59 Tuesday 22 June 2021.",ada:"Then Â£3 per month for three months and Â£6 per week thereafter. Cancel anytime"},defaultRegion:{defaultProduct:"Then ".concat(e.price(1)," per month for three months and ").concat(e.price(3)," per week thereafter. Cancel anytime"),ada:"Then ".concat(e.price(3)," per month for three months and ").concat(e.price(6)," per week thereafter. Cancel anytime")}}}}}}function c(e){var t="ada"===e.product?"DigitalPlus":"Digital",n="uk"===e.region&&"standard"===e.product?"conversion-subscription_onsite-asset_Paywall_06-21_EGW-03_junesale_paywall":"conversion-subscription_onsite-asset_Paywall_04-21_EVS035_PP";return{"offer-article-anon":{ctaIcid:"".concat(n,"_").concat(t,"_anon_").concat(e.region,"_paymentpage"),registerCtaIcid:"".concat(n,"_").concat(t,"_anon_").concat(e.region,"_registerpage"),footerCtaIcid:"".concat(n,"_").concat(t,"_anon_").concat(e.region,"_loginpage")},"offer-article-reg":{ctaIcid:"".concat(n,"_").concat(t,"_reg_").concat(e.region,"_paymentpage")}}}var s=n(29),l=n(22),u=n(7),d=n(5),h=function(e){return e.info?'<p class="martech-new-paywall-mechanism__info martech-new-paywall-mechanism__info--small">'.concat(e.info,"</p>"):""},p=function(e,t){t='<hr class="martech-new-paywall-mechanism__line">\n\t\t<p class="martech-new-paywall-mechanism__register-text">'.concat(e.register,'</p>\n\t\t<a href="').concat(Object(u.a)("".concat(e.registerCtaLink,"ICID=").concat(t.registerCtaIcid),"".concat(location.href)),'" class="martech-new-paywall-mechanism__register-link martech-new-paywall-mechanism__link">\n\t\t\t').concat(Object(d.f)("martech-new-paywall-mechanism__quiver-icon"),"Register").concat(Object(d.c)("martech-new-paywall-mechanism__head-icon"),"\n\t\t</a>");return e.register?t:""},f=n(31),g=n(25);function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.d(t,"a",function(){return y});var y=(t=[{key:"build",value:function(){var e=this;this.adsTeamMarker(),this.deleteElements(),"new"===this.articleType&&this.blurArticle(),this.createPaywallElement(),this.paywallElement&&(setTimeout(function(){return e.setBelowFoldHeight()},500),this.openFullyWhenPartiallyOpen(),this.expanded||this.openOnHeaderClick(),this.watchThePaywall())}},{key:"adsTeamMarker",value:function(){window.dataLayer.newPaywallMechanism={display:!0}}},{key:"deleteElements",value:function(){var e,t,n,a=document.querySelector(".premium-paywall"),i="new"===this.articleType?document.querySelector("#comment"):document.querySelector("#comments");a&&a.parentNode.removeChild(a),i&&i.parentNode.removeChild(i),"old"===this.articleType?(i=document.querySelector(".listOfTags"),e=document.querySelector(".article__content .social-block.block-heading"),n=document.querySelector(".article__sidebar .social-follow"),t=document.querySelector(".facebookLike.section"),i&&i.parentNode.removeChild(i),e&&e.parentNode.removeChild(e),n&&n.parentNode.removeChild(n),t&&t.parentNode.removeChild(t)):(e=document.querySelector(".article__end-meta"),t=!!(n=document.querySelector(".article__layout.article__layout--content"))&&n.querySelector(".u-separator-top--loose"),n=document.querySelector(".indexSnippetReference.section"),e&&e.parentNode.removeChild(e),t&&t.parentNode.removeChild(t),n&&n.parentNode.removeChild(n))}},{key:"blurArticle",value:function(){var e=document.querySelector('[data-test="article-body-text"]');e&&e.classList.add("martech-new-paywall-mechanism__blur")}},{key:"createPaywallElement",value:function(){var e={offerArticleAnon:a,offerArticleReg:i},t="new"===this.articleType?document.querySelector("main.article"):document.querySelector("main.article__body"),n=document.createElement("section"),e=new f.a(this.config,e,o,c);t&&("old"===this.articleType&&n.classList.add("martech-new-paywall-mechanism--old"),n.classList.add("martech-new-paywall-mechanism","martech-new-paywall-mechanism--minimise"),n.innerHTML=e.init(),t.parentNode.insertBefore(n,t.nextSibling),this.paywallElement=document.querySelector(".martech-new-paywall-mechanism"),this.trackingProductName(Object(g.a)(e.data.ctaLink)),window.tmg.pubsub.publish({topic:"tmg.martech.paywall.ready"}))}},{key:"openFullyWhenPartiallyOpen",value:function(){var e=this;!document.querySelector(".article__lead-asset")&&768<window.innerWidth&&Object(s.a)(".martech-new-paywall-mechanism__blur",{threshold:1,rootMargin:"0px 0px -48px"}).then(function(){return e.expandFunctionality()})}},{key:"openOnHeaderClick",value:function(){var e=this,t=document.querySelector(".martech-new-paywall-mechanism__main-heading");t&&t.addEventListener("click",function(){return e.expandFunctionality()})}},{key:"expandFunctionality",value:function(){this.expanded||(this.expanded=!0,this.paywallElement.classList.remove("martech-new-paywall-mechanism--minimise"))}},{key:"watchThePaywall",value:function(){var e=this;window.addEventListener("scroll",Object(l.b)(function(){return e.stickyPositioning()},9))}},{key:"stickyPositioning",value:function(){0===this.paywallElement.getBoundingClientRect().top||this.paywallElement.getBoundingClientRect().top<0?"top"!==this.sticky&&(this.sticky="top",this.paywallElement.classList.toggle("martech-new-paywall-mechanism--sticky-ceiling"),this.expandFunctionality()):"bottom"!==this.sticky&&(this.sticky="bottom",this.paywallElement.classList.toggle("martech-new-paywall-mechanism--sticky-ceiling"))}},{key:"setBelowFoldHeight",value:function(){var e=document.querySelector(".martech-new-paywall-mechanism__header"),t=document.querySelector(".martech-new-paywall-mechanism"),e=!(!t||!e)&&t.offsetHeight-e.offsetHeight;e&&this.paywallElement.style.setProperty("--martech-onward-journey-bottom-pos","-".concat(e,"px"))}},{key:"trackingProductName",value:function(e){window.dataLayer.martech.product=e}}],m(b.prototype,t),b);function b(e,t){!function(e){if(!(e instanceof b))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.sticky="bottom",this.expanded=!1,this.articleType=t}},function(e,t,n){"use strict";function a(e,t){return'<section class="martech-paywall martech-paywall--offer-article-anon">\n\t\t\t'.concat(d(e,t),"\n\t\t\t").concat(f(e,t),"\n\t\t</section>")}function i(e,t){return'<section class="martech-paywall martech-paywall--offer-article-reg">\n\t\t\t'.concat(d(e,t),"\n\t\t</section>")}function r(e,t){return'<section class="martech-paywall martech-paywall-login martech-paywall--login-article-reg">\n\t\t\t'.concat(d(e,t),"\n\t\t\t").concat(p(e,t),"\n\t\t</section>")}function o(e,t){return'<section class="martech-paywall martech-paywall-login martech-paywall--login-article-sub">\n\t\t\t'.concat(d(e,t),"\n\t\t</section>")}function c(e,t){return'<section class="martech-paywall martech-paywall-gallery martech-paywall--offer-gallery-anon">\n\t\t\t'.concat(h(e,t),"\n\t\t\t").concat(f(e,t),"\n\t\t</section>")}function s(e,t){return'<section class="martech-paywall martech-paywall-gallery  martech-paywall--offer-gallery-reg">\n\t\t\t'.concat(h(e,t),"\n\t\t</section>")}function l(e,t){return'<section class="martech-paywall martech-paywall-login martech-paywall-gallery martech-paywall--login-gallery-reg">\n\t\t\t'.concat(h(e,t),"\n\t\t\t").concat(p(e,t),"\n\t\t</section>")}function u(e,t){return'<section class="martech-paywall martech-paywall-login martech-paywall-gallery martech-paywall--login-gallery-sub">\n\t\t\t'.concat(h(e,t),"\n\t\t</section>")}function d(e,t){return'<h2 class="martech-paywall__title">'.concat(e.title,'</h2>\n\t\t<div class="martech-paywall__main-section">\n\t\t\t').concat(Object(b.i)("martech-paywall__svg"),'\n\t\t\t<div class="martech-paywall__container">\n\t\t\t\t<h3 class="martech-paywall__headline">').concat(e.headline,'</h2>\n\t\t\t\t<p class="martech-paywall__excerpt">').concat(e.excerpt,'</p>\n\t\t\t\t<a class="martech-paywall__cta martech-paywall__cta-main" href="').concat(Object(y.a)("".concat(e.mainUrl,"ICID=").concat(t.mainIcid),"".concat(location.href)),'">').concat(e.mainCTA,"</a>\n\t\t\t\t").concat(v(e),"\n\t\t\t</div>\n\t\t</div>")}function h(e,t){return'<h2 class="martech-paywall__title">'.concat(e.title,'</h2>\n\t\t<div class="martech-paywall__main-section">\n\t\t\t').concat(Object(b.k)("martech-paywall__svg martech-paywall__mobile-display"),"\n\t\t\t").concat(Object(b.j)("martech-paywall__svg martech-paywall__svg--desktop martech-paywall__desktop-display"),'\n\t\t\t<div class="martech-paywall__booklines-radius"></div>\n\t\t\t<div class="martech-paywall__container">\n\t\t\t\t<h3 class="martech-paywall__headline">').concat(e.headline,'</h2>\n\t\t\t\t<p class="martech-paywall__excerpt martech-paywall__mobile-display">').concat(e.excerptMobile,'</p>\n\t\t\t\t<p class="martech-paywall__excerpt martech-paywall__desktop-display">').concat(e.excerptDesktop,'</p>\n\t\t\t\t<a class="martech-paywall__cta martech-paywall__cta-main" href="').concat(Object(y.a)("".concat(e.mainUrl,"ICID=").concat(t.mainIcid),"".concat(location.href)),'">').concat(e.mainCTA,"</a>\n\t\t\t\t").concat(v(e),"\n\t\t\t</div>\n\t\t</div>")}function p(e,t){return'<div class="martech-paywall__mid-section">\n\t\t\t<h2 class="martech-paywall__title martech-paywall__title-mid">'.concat(e.midTitle,'</h2>\n\t\t\t<a class="martech-paywall__cta martech-paywall__cta-mid" href="').concat(Object(y.a)("".concat(e.midUrl,"ICID=").concat(t.midIcid),"".concat(location.href)),'">').concat(e.midCTA,"</a>\n\t\t</div>")}function f(e,t){return e.bottomUrl&&e.bottomCTA?' <div class="martech-paywall__bottom-section">\n\t\t\t<h2 class="martech-paywall__title martech-paywall__title-bottom">Already a subscriber?</h2>\n\t\t\t<a class="martech-paywall__cta martech-paywall__cta-bottom" href="'.concat(Object(y.a)("".concat(e.bottomUrl,"?ICID=").concat(t.bottomIcid),"".concat(location.href)),'">').concat(e.bottomCTA,"</a>\n\t\t</div>"):""}function g(e){return{"offer-article-anon":{title:{defaultSection:{defaultRegion:{defaultProduct:"To continue reading this article..."}}},headline:{defaultSection:{uk:{defaultProduct:"The June Sale: 3 months for just Â£1",ada:"Start your free trial to continue reading"},defaultRegion:{defaultProduct:"Start your free trial to continue reading"}}},excerpt:{defaultSection:{uk:{defaultProduct:"From all the latest news to must-read reviews, make the most of the Great British summer with a Digital Subscription. Cancel anytime.",ada:"Enjoy unlimited website access, plus live updates and the daily paper in our app free for your first month. Cancel anytime."},defaultRegion:{defaultProduct:"Enjoy unlimited website access, plus live updates and the daily paper in our app free for your first month. Cancel anytime."}}},mainUrl:{defaultSection:{uk:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP047&campaignId=052A&",ada:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nbrdk4rzgjwte4dmnnzhgobuobvwgytm&offerId=freetrial-digitalplus-month-RP027&campaignId=038A&"},defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP001&campaignId=038A&",ada:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nbrdk4rzgjwte4dmnnzhgobuobvwgytm&offerId=freetrial-digitalplus-month-RP027&campaignId=038A&"}}},mainCTA:{defaultSection:{defaultRegion:{defaultProduct:"Start your free trial"}}},bottomUrl:{defaultSection:{defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/login"}}},bottomCTA:{defaultSection:{defaultRegion:{defaultProduct:"Log in"}}},info:{defaultSection:{uk:{defaultProduct:"Â£3 per week thereafter. Offer closes: 23.59 Tuesday 22 June 2021.",ada:"Then Â£3 per month for three months and Â£6 per week thereafter. Cancel anytime",notstudentuni:""},defaultRegion:{defaultProduct:"Then ".concat(e.price(1)," per month for three months and ").concat(e.price(3)," per week thereafter. Cancel anytime"),ada:"Then ".concat(e.price(3)," per month for three months and ").concat(e.price(6)," per week thereafter. Cancel anytime"),notstudentuni:""}}}},"offer-article-reg":{title:{defaultSection:{defaultRegion:{defaultProduct:"Youâ€™ve reached your free article limit...",notstudentuni:"To continue reading..."}}},headline:{defaultSection:{uk:{defaultProduct:"The June Sale: 3 months for just Â£1",ada:"Start your free trial to continue reading",notstudentuni:"Subscribe today"},defaultRegion:{defaultProduct:"Start your free trial to continue reading",notstudentuni:"Subscribe today"}}},excerpt:{defaultSection:{uk:{defaultProduct:"From all the latest news to must-read reviews, make the most of the Great British summer with a Digital Subscription. Cancel anytime.",ada:"Enjoy unlimited website access, plus live updates and the daily paper in our app free for your first month. Cancel anytime."},defaultRegion:{defaultProduct:"Enjoy unlimited website access, plus live updates and the daily paper in our app free for your first month. Cancel anytime.",notstudentuni:'Enjoy unlimited access to the news website of the year. <br class="martech-paywall__lg-display" />Try The Telegraph for just 48p per week.'}}},mainUrl:{defaultSection:{uk:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP047&campaignId=052A&",ada:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nbrdk4rzgjwte4dmnnzhgobuobvwgytm&offerId=freetrial-digitalplus-month-RP027&campaignId=038A&",notstudentuni:"https://www.telegraph.co.uk/customer/subscribe/students/?"},defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP001&campaignId=038A&",ada:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nbrdk4rzgjwte4dmnnzhgobuobvwgytm&offerId=freetrial-digitalplus-month-RP027&campaignId=038A&",notstudentuni:"https://www.telegraph.co.uk/customer/subscribe/students/?"}}},mainCTA:{defaultSection:{defaultRegion:{defaultProduct:"Start your free trial",notstudentuni:"Subscribe now"}}},info:{defaultSection:{uk:{defaultProduct:"Â£3 per week thereafter. Offer closes: 23.59 Tuesday 22 June 2021.",ada:"Then Â£3 per month for three months and Â£6 per week thereafter. Cancel anytime",notstudentuni:""},defaultRegion:{defaultProduct:"Then ".concat(e.price(1)," per month for three months and ").concat(e.price(3)," per week thereafter. Cancel anytime"),ada:"Then ".concat(e.price(3)," per month for three months and ").concat(e.price(6)," per week thereafter. Cancel anytime"),notstudentuni:""}}}},"login-article-reg":{title:{defaultSection:{defaultRegion:{defaultProduct:"Log in to continue reading..."}}},headline:{defaultSection:{defaultRegion:{defaultProduct:"Good to see you again"}}},excerpt:{defaultSection:{defaultRegion:{defaultProduct:"You're a registered reader, so please enjoy this article, plus a limited number of others, for free"}}},mainUrl:{defaultSection:{defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/login?"}}},mainCTA:{defaultSection:{defaultRegion:{defaultProduct:"Log in"}}},midTitle:{defaultSection:{defaultRegion:{defaultProduct:"Unlock unlimited website access, plus follow the latest news updates and read the daily newspaper in our exclusive app"}}},midUrl:{defaultSection:{defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP000&campaignId=038A&"}}},midCTA:{defaultSection:{defaultRegion:{defaultProduct:"Start your free trial"}}}},"login-article-sub":{title:{defaultSection:{defaultRegion:{defaultProduct:"Log in to continue reading..."}}},headline:{defaultSection:{defaultRegion:{defaultProduct:"Good to see you again"}}},excerpt:{defaultSection:{defaultRegion:{defaultProduct:"Start making the most of your unlimited subscriber access"}}},mainUrl:{defaultSection:{defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/login?"}}},mainCTA:{defaultSection:{defaultRegion:{defaultProduct:"Log in"}}}},"offer-gallery-anon":{title:{defaultSection:{defaultRegion:{defaultProduct:"To view this gallery..."}}},headline:{defaultSection:{uk:{defaultProduct:"The June Sale: 3 months for just Â£1",ada:"Start your free trial to continue reading"},defaultRegion:{defaultProduct:"Start your free trial to continue reading"}}},excerptMobile:{defaultSection:{defaultRegion:{defaultProduct:"Enjoy unlimited website access, plus live updates and the daily paper in our app free for your first month. Cancel anytime."}}},excerptDesktop:{defaultSection:{defaultRegion:{defaultProduct:"Enjoy unlimited website access, plus live updates and the daily paper in our app free for your first month. Cancel anytime."}}},mainUrl:{defaultSection:{uk:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP047&campaignId=052A&",ada:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nbrdk4rzgjwte4dmnnzhgobuobvwgytm&offerId=freetrial-digitalplus-month-RP027&campaignId=038A&",notstudentuni:"https://www.telegraph.co.uk/customer/subscribe/students/?"},defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP001&campaignId=038A&",ada:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nbrdk4rzgjwte4dmnnzhgobuobvwgytm&offerId=freetrial-digitalplus-month-RP027&campaignId=038A&",notstudentuni:"https://www.telegraph.co.uk/customer/subscribe/students/?"}}},mainCTA:{defaultSection:{defaultRegion:{defaultProduct:"Start your free trial"}}},bottomUrl:{defaultSection:{defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/login"}}},bottomCTA:{defaultSection:{defaultRegion:{defaultProduct:"Log in"}}},info:{defaultSection:{uk:{defaultProduct:"Â£3 per week thereafter. Offer closes: 23.59 Tuesday 22 June 2021.",ada:"Then Â£3 per month for three months and Â£6 per week thereafter. Cancel anytime",notstudentuni:""},defaultRegion:{defaultProduct:"Then ".concat(e.price(1)," per month for three months and ").concat(e.price(3)," per week thereafter. Cancel anytime"),ada:"Then ".concat(e.price(3)," per month for three months and ").concat(e.price(6)," per week thereafter. Cancel anytime"),notstudentuni:""}}}},"offer-gallery-reg":{title:{defaultSection:{defaultRegion:{defaultProduct:"To view this gallery..."}}},headline:{defaultSection:{uk:{defaultProduct:"The June Sale: 3 months for just Â£1",ada:"Start your free trial to continue reading"},defaultRegion:{defaultProduct:"Start your free trial to continue reading"}}},excerptMobile:{defaultSection:{defaultRegion:{defaultProduct:"Enjoy unlimited website access, plus live updates and the daily paper in our app free for your first month. Cancel anytime.",notstudentuni:'Enjoy unlimited access to the news website of the year. <br class="martech-paywall__lg-display" />Try The Telegraph for just 48p per week.'}}},excerptDesktop:{defaultSection:{defaultRegion:{defaultProduct:"Enjoy unlimited website access, plus live updates and the daily paper in our app free for your first month. Cancel anytime.",notstudentuni:'Enjoy unlimited access to the news website of the year. <br class="martech-paywall__lg-display" />Try The Telegraph for just 48p per week.'}}},mainUrl:{defaultSection:{uk:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP047&campaignId=052A&",ada:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nbrdk4rzgjwte4dmnnzhgobuobvwgytm&offerId=freetrial-digitalplus-month-RP027&campaignId=038A&",notstudentuni:"https://www.telegraph.co.uk/customer/subscribe/students/?"},defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP001&campaignId=038A&",ada:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nbrdk4rzgjwte4dmnnzhgobuobvwgytm&offerId=freetrial-digitalplus-month-RP027&campaignId=038A&",notstudentuni:"https://www.telegraph.co.uk/customer/subscribe/students/?"}}},mainCTA:{defaultSection:{defaultRegion:{defaultProduct:"Start your free trial",notstudentuni:"Subscribe now"}}},info:{defaultSection:{uk:{defaultProduct:"Â£3 per week thereafter. Offer closes: 23.59 Tuesday 22 June 2021.",ada:"Then Â£3 per month for three months and Â£6 per week thereafter. Cancel anytime",notstudentuni:""},defaultRegion:{defaultProduct:"Then ".concat(e.price(1)," per month for three months and ").concat(e.price(3)," per week thereafter. Cancel anytime"),ada:"Then ".concat(e.price(3)," per month for three months and ").concat(e.price(6)," per week thereafter. Cancel anytime"),notstudentuni:""}}}},"login-gallery-reg":{title:{defaultSection:{defaultRegion:{defaultProduct:"Log in to continue reading..."}}},headline:{defaultSection:{defaultRegion:{defaultProduct:"Good to see you again"}}},excerptMobile:{defaultSection:{defaultRegion:{defaultProduct:"You're a registered reader. <br />So log in to enjoy this gallery for free."}}},excerptDesktop:{defaultSection:{defaultRegion:{defaultProduct:"You're a registered reader, so please enjoy this article, <br />plus a limited number of others, for free"}}},mainUrl:{defaultSection:{defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/login?"}}},mainCTA:{defaultSection:{defaultRegion:{defaultProduct:"Log in"}}},midTitle:{defaultSection:{defaultRegion:{defaultProduct:"Unlock unlimited website access, plus follow the latest news updates and read the daily newspaper in our exclusive app"}}},midUrl:{defaultSection:{defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP000&campaignId=038A"}}},midCTA:{defaultSection:{defaultRegion:{defaultProduct:"Start your free trial"}}}},"login-gallery-sub":{title:{defaultSection:{defaultRegion:{defaultProduct:"Log in to continue reading..."}}},headline:{defaultSection:{defaultRegion:{defaultProduct:"Good to see you again"}}},excerptMobile:{defaultSection:{defaultRegion:{defaultProduct:"Start making the most of your unlimited subscriber access"}}},excerptDesktop:{defaultSection:{defaultRegion:{defaultProduct:"Start making the most of your unlimited subscriber access"}}},mainUrl:{defaultSection:{defaultRegion:{defaultProduct:"https://secure.telegraph.co.uk/customer/secure/login?"}}},mainCTA:{defaultSection:{defaultRegion:{defaultProduct:"Log in"}}}}}}function m(e,t){var n="ada"===e.product?"DigitalPlus":"standard"===e.product?"Digital":e.product,a="uk"===e.region&&"standard"===e.product?"conversion-subscription_onsite-asset_Paywall_06-21_EGW-03_junesale_paywall":"conversion-subscription_onsite-asset_Paywall_04-21_EVS035_PP";return{"offer-article-anon":{mainIcid:"".concat(a,"_oldAEM_").concat(n,"_anon_").concat(e.region,"_paymentpage"),bottomIcid:"".concat(a,"_oldAEM_").concat(n,"_anon_").concat(e.region,"_loginpage")},"offer-article-reg":{mainIcid:"".concat(a,"_oldAEM_").concat(n,"_reg_").concat(e.region,"_paymentpage")},"login-article-reg":{mainIcid:"dynamic_paywalls_loginwall_loginpage_article_reg_".concat(e.region),midIcid:"conversion-subscription_onsite-asset_Onsite-asset_04-21_EVS035_login_paywall_article_reg_".concat(e.region)},"login-article-sub":{mainIcid:"dynamic_paywalls_loginwall_article_sub-loginpage_".concat(e.region)},"offer-gallery-anon":{mainIcid:"".concat(a,"_oldAEM_").concat(n,"_anon_").concat(e.region,"_paymentpage"),bottomIcid:"".concat(a,"_oldAEM_").concat(n,"__anon_").concat(e.region,"_loginpage")},"offer-gallery-reg":{mainIcid:"".concat(a,"_oldAEM_").concat(n,"_reg_").concat(e.region,"_paymentpage")},"login-gallery-reg":{mainIcid:"dynamic_paywalls_loginwall_loginpage_gallery_reg_".concat(e.region),midIcid:"conversion-subscription_onsite-asset_Onsite-asset_04-21_EVS035_login_paywall_gallery_reg_".concat(e.region)},"login-gallery-sub":{mainIcid:"dynamic_paywalls_loginwall_gallery_sub-loginpage_".concat(e.region)}}}var y=n(7),b=n(5),v=function(e){return e.info?'<p class="martech-new-paywall-mechanism__info martech-new-paywall-mechanism__info--small">'.concat(e.info,"</p>"):""},w=n(31),_=n(25),k=n(1);function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.d(t,"a",function(){return j});var j=(t=[{key:"build",value:function(){var e=new w.a(this.config,{offerArticleAnon:a,offerArticleReg:i,offerGalleryAnon:c,offerGalleryReg:s,loginArticleReg:r,loginArticleSub:o,loginGalleryReg:l,loginGallerySub:u},g,m),t=document.querySelector(".premium-paywall .component-content"),n=e.init();t&&(t.innerHTML=n,this.trackingProductName(Object(_.a)(e.data.mainUrl)),window.tmg.pubsub.publish({topic:"tmg.martech.paywall.ready"}),this.studentTracking(e))}},{key:"trackingProductName",value:function(e){window.dataLayer.martech.product=e}},{key:"studentUniversity",value:function(){var t=this,n="";return this.config.studentIps&&["oxfordBrookes","newcastle"].forEach(function(e){t.config.studentIps.includes(e)&&(n="_".concat(e))}),n}},{key:"studentTracking",value:function(e){e.attributes.product.includes("student")&&(e=this.studentUniversity(this.config.studentIps),Object(k.e)("".concat(this.config.campaignId).concat(this.config.experienceNumber,"-").concat(this.attributes.product).concat(e,"-paywall_displayed"),this.config,!0))}}],O(L.prototype,t),L);function L(e){!function(e){if(!(e instanceof L))throw new TypeError("Cannot call a class as a function")}(this),this.config=e}},function(e,t,n){"use strict";var a=n(0),i=n(1),r=n(5);function o(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=(c(h.prototype,[{key:"init",value:function(){var e=this;this.buildToast(),this.insertToast(),this.trackDisplay(),this.config.autoClose&&setTimeout(function(){document.querySelector(".martech-toast-component")&&e.closeToast()},this.config.autoCloseTimer)}},{key:"insertToast",value:function(){var e,t=document.querySelector(".site-header-wrapper");document.querySelector(".articleRenderer2HTML")?(e=t.parentNode).parentNode.insertBefore(this.toast,e.nextSibling):t.parentNode.insertBefore(this.toast,t.nextSibling)}},{key:"buildToast",value:function(){var e=document.createElement("div");if(e.classList.add("martech-toast-component"),this.config.extraClass)for(var t=this.config.extraClass.split(" "),n=0;n<t.length;n++)e.classList.add(t[n]);return this.config.animation&&e.classList.add("martech-toast-component--".concat(this.config.animation)),e.innerHTML='\n\t\t\t<div class="martech-toast-component__container">\n\t\t\t\t<div class="martech-toast-component__content">\n\t\t\t\t\t'.concat(this.config.content,"\n\t\t\t\t</div>\n\t\t\t\t").concat(this.config.closeButton?this.createCloseButton():"","\n\t\t\t</div>"),this.toast=e}},{key:"createCloseButton",value:function(){return'\n\t\t\t<button class="'.concat(this.classToastClose,'">\n\t\t\t\t').concat(Object(r.o)("martech-toast-component__close-icon"),"\n\t\t\t</button>")}},{key:"trackDisplay",value:function(){var e=this.config.extraTrackingInfo?"toast-displayed--".concat(this.config.extraTrackingInfo):"toast-displayed";Object(i.e)(e,this.config),this.config.closeButton&&this.toastEvents()}},{key:"closeToast",value:function(){var e=this;this.toast.classList.add("martech-toast-component--remove"),setTimeout(function(){e.toast&&e.toast.parentNode.removeChild(e.toast)},500);var t=this.config.extraTrackingInfo?"toast-closed--".concat(this.config.extraTrackingInfo):"toast-closed";Object(i.e)(t,this.config)}},{key:"toastEvents",value:function(){var e=this,t=document.querySelector(".".concat(this.classToastClose));t&&t.addEventListener("click",function(){e.closeToast()})}}]),h),l=n(24),u=n(30),d=n(6);function h(e){!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.classToastClose="martech-toast-component__close",this.config=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({campaignId:"010101010",campaignName:"generic_toast",segmentID:"9999999",content:"",closeButton:!0,extraClass:!1,animation:"fade",extraTrackingInfo:!1,autoClose:!0,autoCloseTimer:5e3},e)}function p(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.d(t,"a",function(){return g});var g=(t=[{key:"init",value:function(){"false"===this.scriptData.opened&&this.insertNotificationAlert(),this.createNotificationCard(),this.toggleNotificationOpenState(),Object(i.e)("notification-button-displayed".concat("false"===this.scriptData.opened?"--alert":"--no-alert"),this.config)}},{key:"createNotificationCard",value:function(){this.notificationCard=document.createElement("div"),this.notificationCard.classList.add("martech-bonus-subs-notification-card"),this.notificationCard.innerHTML=Object(l.d)(window.navigator.share,this.config.promocode),this.contentContainer=document.createElement("div"),this.contentContainer.classList.add("martech-bonus-subs-notification-card-main"),this.notificationCard.appendChild(this.contentContainer);var e=Object(l.a)(this.bonusSubscriptionUrl),t="copy-template";"false"!==this.scriptData.dismissed&&(e=Object(l.b)(),t="empty-template"),this.setNotificationCardTemplate(e,t)}},{key:"insertNotificationAlert",value:function(){var e=this,t=document.querySelector(".martech-bonus-subs-notification-button__icon"),n=document.querySelector(".martech-bonus-subs-notification-button__content");this.notificationAlert=document.createElement("span"),this.notificationAlert.classList.add("martech-bonus-subs-notification-button__alert"),this.notificationAlert.innerHTML='<span class="martech-bonus-subs-notification-button__alert-number">'.concat(this.notificationAlerts,"</span>"),setTimeout(function(){n.insertBefore(e.notificationAlert,t)},1e3)}},{key:"insertNotificationInDOM",value:function(){this.button.parentNode.appendChild(this.notificationCard),this.closeButtonEvent(),this.copyBonusUrl(),this.shareLinkDismissals(),this.addNativeShareListener()}},{key:"setNotificationCardTemplate",value:function(e,t){this.contentContainer.innerHTML=e,this.templateName=t}},{key:"toggleNotificationOpenState",value:function(){var e=this;this.button.addEventListener("click",function(){e.openedNotification||e.insertNotificationInDOM(),e.siteHeader.classList.toggle("martech-bonus-subs-notification--open"),e.siteHeader.classList.contains("martech-bonus-subs-notification--open")?e.notificationCard.classList.remove("martech-bonus-subs-notification-card--hide"):e.notificationCardAnimation(),"false"!==e.scriptData.opened||e.openedNotification||(Object(i.c)("bonus-subs-notification-opened"),e.openedNotification=!0,Object(i.e)("bonus-subs-notification-opened--".concat(e.templateName),e.config))})}},{key:"closeButtonEvent",value:function(){var e=this,t=document.querySelector(".martech-bonus-subs-notification-card-header__close");this.siteHeader=document.querySelector(".site-header"),t.addEventListener("click",function(){e.dismissedNotification||Object(i.e)("notification-overlay-closed",e.config),e.siteHeader.classList.remove("martech-bonus-subs-notification--open"),e.dismissNotificationOverlay()})}},{key:"dismissNotificationOverlay",value:function(){var e=!1;"false"!==this.scriptData.dismissed||this.dismissedNotification||(this.notificationAlert&&this.notificationAlert.parentNode.removeChild(this.notificationAlert),Object(i.c)("bonus-subs-notification-dismissed"),e=this.dismissedNotification=!0),this.notificationCardAnimation(e)}},{key:"notificationCardAnimation",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];setTimeout(function(){e.notificationCard.classList.add("martech-bonus-subs-notification-card--hide"),t&&e.setNotificationCardTemplate(Object(l.b)(),"empty-template")},100)}},{key:"copyBonusUrl",value:function(){var n=this;Object(d.a)("#martech-bonus-subs-copy-cta").then(function(t){t.addEventListener("click",function(){var e;window.navigator.clipboard?window.navigator.clipboard.writeText("".concat(n.bonusSubscriptionUrl,"&ICID=").concat(n.copyLinkIcid)).then(function(){n.copyBonusUrlComplete()}).catch(function(e){return Object(a.a)("error occurred: ".concat(e))}):((e=document.createElement("input")).value="".concat(n.bonusSubscriptionUrl,"&ICID=").concat(n.copyLinkIcid),e.type="text",t.parentNode.insertBefore(e,t),e.select(),document.execCommand("copy"),e.type="hidden",n.copyBonusUrlComplete())})})}},{key:"shareLinkDismissals",value:function(){var n=this,e=document.querySelectorAll("#martech-share-bonus-sub");e&&e.forEach(function(t){t.addEventListener("click",function(e){Object(i.e)("bonus-subs-notification-link-clicked--".concat(t.dataset.linkName),n.config),n.siteHeader.classList.remove("martech-bonus-subs-notification--open"),n.dismissNotificationOverlay()})})}},{key:"copyBonusUrlComplete",value:function(){var e=new s(function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},this.config,{animation:"slide",autoCloseTimer:4e3,content:Object(l.e)("Your link has been copied and is ready to share"),extraClass:"martech-bonus-subs-notification-toast",extraTrackingInfo:"url-copied"}));this.siteHeader.classList.remove("martech-bonus-subs-notification--open"),e.init(),this.dismissNotificationOverlay()}},{key:"addNativeShareListener",value:function(){var t=this;window.navigator.share&&Object(d.a)(".martech-bonus-subs-notification-card-share-links__link--other").then(function(e){e.addEventListener("click",function(e){e.preventDefault(),Object(i.e)("bonus-subs-notification-native-share--clicked",t.config),window.navigator.share({title:"Activate your complimentary Telegraph subscription today",text:"Unlock unlimited access to The Telegraph with this complimentary Digital Subscription. Simply click here to activate: ",url:"".concat(t.bonusSubscriptionUrl,"&ICID=engagement-subs_navigation_other_521_remnav_bonussub")}).then(function(){Object(i.e)("bonus-subs-notification-native-share--selected-option",t.config),t.siteHeader.classList.remove("martech-bonus-subs-notification--open"),t.dismissNotificationOverlay()}).catch(function(){Object(i.e)("bonus-subs-notification-native-share--no-selection",t.config)})})})}}],f(m.prototype,t),m);function m(e,t){!function(e){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this),this.config=e,this.button=t,this.notificationAlerts=1,this.openedNotification=!1,this.dismissedNotification=!1,this.templateName="copy-template",this.scriptData=!!this.config.bonusSubsNotifications&&Object(u.a)(this.config.bonusSubsNotifications),this.bonusSubscriptionUrl="https://secure.telegraph.co.uk/customer/secure/redeem-bonus/?code=".concat(this.config.bonusSubPromoCode,"&product=Digital"),this.copyLinkIcid="engagement-subs_navigation_copy-link_521_remnav_bonussub"}},function(e,t,n){"use strict";function a(e){var t=parseInt(e.campaignId,10);return e.escenicContent&&255333===t?"Escenic_overlay_generic_paywall_generic":"conversion-subscription_onsite-asset_overlay_04-21_EVS035_PP_hardAEM"}var i=n(7);t.a=function(e){var t='\n\t\t<div class="martech-hard-paywall__login">\n\t\t\t<p class="martech-hard-paywall__login-message">Already a subscriber? <a class="martech-hard-paywall__login-cta" href="'.concat(Object(i.a)("/secure/login/?ICID=".concat(a(e),"_logincta")),'">Log in</a></p>\n\t\t</div>'),t=e.loggedIn?"":t,e="https://secure.telegraph.co.uk/customer/secure/checkout/?productId=nyytq4zthbvwsoliojugwyzzmyzha3dt&offerId=freetrial-digital-month-RP001&campaignId=038A&ICID=".concat(a(e),"_subscribecta");return'<div class="martech-hard-paywall__container">\n\t\t\t<h1 class="martech-hard-paywall__title">Start your free trial to<br class="martech-hard-paywall__line-break"> continue reading</h1>\n\t\t\t<p class="martech-hard-paywall__excerpt martech-hard-paywall__excerpt--non-mobile"></p>\n\t\t\t<p class="martech-hard-paywall__excerpt">Stay expertly informed anywhere, anytime with a Digital Subscription. Gain unlimited website access, plus live news updates and the daily paper in our app. Cancel anytime.</p>\n\t\t\t<a class="martech-hard-paywall__cta" href="'.concat(Object(i.a)(e),'">Start your free trial</a>\n\t\t</div>\n\t\t').concat(t)}},function(e,t,n){"use strict";n.r(t);var a=n(50),i=n(51),r=n(52),o=n(54),c=n(57),s=n(59),l=n(60),u=n(62),d=n(63),h=n(65),p=n(68),f=n(69),g=n(70),m=n(76),y=n(78),b=n(79),v=n(82),w=n(83),_=n(84),k=n(86),O=n(88),j=n(91),L=n(93),C=n(94),S=n(96),T=n(98),x=n(99),I=n(100),P=n(101),N=n(104),A=n(106),E=n(107),M=n(108),R=n(109),D=n(110),n=n(111);t.default={LoginModal:a.a,TURecommendation:i.a,TrackSubscriptions:r.a,RecentlyViewedRecs:L.a,CardExpiry:o.a,EscenicModal:c.a,HardPaywallModal:s.a,NewsletterUnit:l.a,AnonSoftSubModal:u.a,CECNotification:d.a,EngagedCohortOverlay:h.a,FixSubsViaiFrame:p.a,NonEngagedRegModal:f.a,OnwardJourneySlider:g.a,RewardsPaywall:m.a,RegisteredContentPaywall:y.a,PendingAndFailOverlay:b.a,MartechPaywall:v.a,NewsletterRecs:w.a,HideCancButton:_.a,HomeSubUnit:k.a,EditionAppOverlay:O.a,IntHardModal:j.a,InLifeNewsletterOverlay:C.a,GoogleOneTapLibrary:S.a,PersonalisedNewsletterList:x.a,CancellationArticlesViewed:T.a,BonusSubsNotifications:I.a,ArticlePreviewPopup:P.a,JuneSaleOverlay:N.a,SponsoredLogoSublevelIndexPages:A.a,OnboardingFlowSdaTrackingValidation:E.a,SponsoredLogoArticle3pages:M.a,SponsoredLogoCyclingIndex:R.a,SponsoredLogoArticle2pages:D.a,BlockquoteArticleTruncation:n.a}},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return!(!e||"object"!==a(e)||(t=e,"[object RegExp]"===(e=Object.prototype.toString.call(t))||"[object Date]"===e||t.$$typeof===i));var t}var i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function l(e,t){return!1!==t.clone&&t.isMergeableObject(e)?h(Array.isArray(e)?[]:{},e,t):e}function u(e,t,n){return e.concat(t).map(function(e){return l(e,n)})}function d(e){return Object.keys(e).concat((t=e,Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]));var t}function h(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||u,n.isMergeableObject=n.isMergeableObject||s;var a,i,r,o,c=Array.isArray(t);return c===Array.isArray(e)?c?n.arrayMerge(e,t,n):(a=e,i=t,o={},(r=n).isMergeableObject(a)&&d(a).forEach(function(e){o[e]=l(a[e],r)}),d(i).forEach(function(t){r.isMergeableObject(i[t])&&a[t]?o[t]=function(e){if(!e.customMerge)return h;e=e.customMerge(t);return"function"==typeof e?e:h}(r)(a[t],i[t],r):o[t]=l(i[t],r)}),o):l(t,n)}h.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,t){return h(e,t,n)},{})},e.exports=h},function(e,t,n){var a;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return e.enc.Utf8},"object"===i(t)?e.exports=t=a(n(13)):(n=[n(13)],void 0===(a="function"==typeof(a=a)?a.apply(t,n):a)||(e.exports=a))},function(e,t,n){"use strict";n.r(t);function a(){return!!(window.console&&window.console.log&&/martech_disable=(1|true)/i.test(location.search)||!0===o.a.get("status.disabled")||u.includes(document.location.host)||window.tmg&&window.tmg.fbnBypass)}function i(){return"sandbox"===o.a.get("status.env")&&h(o.a.get("status.sandbox"))}var r,o=n(10),c=n(0),s=n(23),l={al:"https://www.carramazzina.com/martech/",jw:"https://jack-martech-ftp.netlify.app/martech/",ln:"https://lefteris-ftp-delivery.netlify.app/martech/",sp:"https://sheila-ftp.herokuapp.com/martech/",nkm:"https://fxr1tmgmartech.azurewebsites.net/martech/",bm:"https://bob-ftp-delivery.netlify.app/martech/",ss:"https://martech-saad.netlify.app/martech/"},u=["chase.telegraph.co.uk","cms.aem-ci3.platforms-preprod-gcp.telegraph.co.uk","pub.aem-ci3.platforms-preprod-gcp.telegraph.co.uk","ci3.telegraph.co.uk","web.local.telegraph.co.uk"],d=Object(s.a)("martech_sandbox"),t=function(){return!(!(window.console&&window.console.log&&/martech_preprod=(1|true)/i.test(location.search))&&"preprod"!==o.a.get("status.env"))},s=function(){return!!(d&&h(d)||i())},h=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=!e&&i()?o.a.get("status.sandbox"):e;return!!l[e]&&l[e]};window.martech=window.martech||{},window.martech.info=window.martech.info||{},window.martech.info.environment="prod",window.martech.info.debug=!1,window.martech.info.runningActivities=[],window.martech.info.activitiesDetails=[],window.dataLayer&&(window.dataLayer.martech=window.dataLayer.martech||{}),a()||t()||s()?(a()&&Object(c.a)("Delivery disabled due to querystring, localstorage excluded domains or flag."),t()&&(Object(c.a)("Switching library to PREPROD environment."),(r=document.createElement("script")).type="text/javascript",r.src="https://martech.platforms-preprod-gcp.telegraph.co.uk/martech/js/core.min.js",r.id="martech-core-preprod",document.head.appendChild(r)),s()&&(Object(c.a)("Switching library to Sandbox codebase."),n(47),r=document.createElement("script"),s=document.createElement("link"),c=h(d),r.type="text/javascript",r.src="".concat(c,"index.js"),r.id="martech-sandbox-index",s.href="".concat(c,"css/style.css"),s.id="martech-sandbox-style",s.rel="stylesheet",document.head.appendChild(r),document.head.appendChild(s))):(n(120),n(116),n(47))},function(e,t,n){"use strict";n.r(t);function i(){function i(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&1<e.maxTouchPoints&&"undefined"==typeof MSStream}var e=navigator.userAgent,r=/iPhone/i,o=/iPod/i,c=/iPad/i,s=/\biOS-universal(?:.+)Mac\b/i,l=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,d=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,h=/Silk/i,p=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,m=/BB10/i,y=/Opera Mini/i,b=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/Mobile(?:.+)Firefox\b/i;return function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,e=n.split("[FBAN");void 0!==(e=(n=void 0!==e[1]?e[0]:n).split("Twitter"))[1]&&(n=e[0]);var a,n=(a=n,function(e){return e.test(a)}),n={apple:{phone:n(r)&&!n(p),ipod:n(o),tablet:!n(r)&&(n(c)||i(t))&&!n(p),universal:n(s),device:(n(r)||n(o)||n(c)||n(s)||i(t))&&!n(p)},amazon:{phone:n(d),tablet:!n(d)&&n(h),device:n(d)||n(h)},android:{phone:!n(p)&&n(d)||!n(p)&&n(l),tablet:!n(p)&&!n(d)&&!n(l)&&(n(h)||n(u)),device:!n(p)&&(n(d)||n(h)||n(l)||n(u))||n(/\bokhttp\b/i)},windows:{phone:n(p),tablet:n(f),device:n(p)||n(f)},other:{blackberry:n(g),blackberry10:n(m),opera:n(y),firefox:n(v),chrome:n(b),device:n(g)||n(m)||n(y)||n(v)||n(b)},any:!1,phone:!1,tablet:!1};return n.any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}(e)}function r(){var e,t=!(!window.location||!window.location.href)&&window.location.href,n=!(!window.location||!window.location.protocol)&&window.location.protocol.replace(":",""),a=!(!window.location||!window.location.query)&&window.location.query.replace("?",""),i=!1,r=!1;return window.location&&window.location.hostname&&("www"===(r=(e=window.location.hostname.split(".")).shift())&&(r=!1),i=e.join(".")),{url:t,protocol:n,query:a,domain:i,subdomain:r}}function o(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]&&null!==(e=t.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}var c=n(10),s=n(12),a=n(20),l=n(27),u=n(48),d=n(49),h=n(23);function p(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function g(){!function(e){if(!(e instanceof g))throw new TypeError("Cannot call a class as a function")}(this);var e=s.a.get("tmg_p13n")||!1;this.tmgP13nCookie=!!e&&a.a.tryParse(e)}n=[{key:"init",value:function(){this.getAudience(),this.updateProfile(),this.getOffers()}},{key:"updateProfile",value:function(){var e,t,n,a,i;c.a.enabled()&&(this.profile=this.getProfile(),a=this.profile.user,i=a.current_seen||!1,a.last_seen=i||!1,a.current_seen=Date.now(),e={pid:a.pid,last_seen:a.last_seen,current_seen:a.current_seen},t=this.profile.history,n=this.audience,i=t.current_page||!1,t.previous_page=i||!1,t.current_page=n.page_url_path,t.current_page!==t.previous_page&&(3<=t.last_three_pages.length&&t.last_three_pages.splice(0,1),t.last_three_pages.push(n.page_url_path),["story","live","video","gallery"].includes(n.content_type)&&(3<=t.last_three_articles.length&&t.last_three_articles.splice(0,1),t.last_three_articles.push(n.page_url_path)),"index"===n.page_type&&(3<=t.last_three_index_pages.length&&t.last_three_index_pages.splice(0,1),t.last_three_index_pages.push(n.page_url_path)),["story","live","video","gallery"].includes(n.content_type))&&(3<=t.last_three_article_tags.length&&t.last_three_article_tags.splice(0,1),n=n.keywords.split(","),t.last_three_article_tags.push(n)),a={previous_page:t.previous_page,current_page:t.current_page,last_three_pages:t.last_three_pages,last_three_articles:t.last_three_articles,last_three_index_pages:t.last_three_index_pages,last_three_article_tags:t.last_three_article_tags},i=this.profile.count,n=this.audience,a.current_page!==a.previous_page&&(i.page_views+=1,"index"===n.page_type&&(i.index_views+=1),"index"===n.page_type&&"portal"===n.channel&&(i.homepage_views+=1),["story","live","video","gallery"].includes(n.content_type)&&(i.articles_views+=1),n.page_url_path.includes("/secure/")&&(i.sub_funnel_views+=1),n.page_url_path.includes("/secure/account")&&(i.my_account_views+=1),n.page_url_path.includes("/mytelegraph/")&&(i.my_feed_views+=1)),t={page_views:i.page_views,index_views:i.index_views,homepage_views:i.homepage_views,articles_views:i.articles_views,sub_funnel_views:i.sub_funnel_views,my_account_views:i.my_account_views,my_feed_views:i.my_feed_views},n=this.profile.boolean,i=t,n.seen_homepage=0<i.homepage_views,n.seen_any_index_page=0<i.index_views,n.seen_any_article=0<i.articles_views,n.seen_my_account=0<i.my_account_views,n.seen_my_feed=0<i.my_feed_views,n={seen_homepage:n.seen_homepage,seen_any_index_page:n.seen_any_index_page,seen_any_article:n.seen_any_article,seen_my_account:n.seen_my_account,seen_my_feed:n.seen_my_feed},this.profile={user:{pid:e.pid,last_seen:e.last_seen,current_seen:e.current_seen},history:{previous_page:a.previous_page,current_page:a.current_page,last_three_pages:a.last_three_pages,last_three_articles:a.last_three_articles,last_three_index_pages:a.last_three_index_pages,last_three_article_tags:a.last_three_article_tags},count:{page_views:t.page_views,index_views:t.index_views,homepage_views:t.homepage_views,articles_views:t.articles_views,sub_funnel_views:t.sub_funnel_views,my_account_views:t.my_account_views,my_feed_views:t.my_feed_views},boolean:{seen_homepage:n.seen_homepage,seen_any_index_page:n.seen_any_index_page,seen_any_article:n.seen_any_article,seen_my_account:n.seen_my_account,seen_my_feed:n.seen_my_feed},most:{read_author:!1,read_category:!1,read_bis_segment:!1,read_tag:!1}},c.a.set("user.profile",this.profile))}},{key:"getProfile",value:function(){var e=c.a.get("user.profile");if(!e)return this.tmgP13nCookie.pId?((e=l).user.pid=this.tmgP13nCookie.pId,e):l;if(e.user.pid){if(!this.tmgP13nCookie.pId)return l;if(e.user.pid!==this.tmgP13nCookie.pId)return(e=l).user.pid=this.tmgP13nCookie.pId,e}else this.tmgP13nCookie.pId&&(e.user.pid=this.tmgP13nCookie.pId);return e}},{key:"getAudience",value:function(){var e,t,n,a,e={display_screen_width:window.screen.width,display_screen_height:window.screen.height,display_viewport_width:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),display_viewport_height:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),display_has_touch_support:"maxTouchPoints"in navigator?0<navigator.maxTouchPoints:"msMaxTouchPoints"in navigator?0<navigator.msMaxTouchPoints:(a=window.matchMedia&&matchMedia("(pointer:coarse)"))&&"(pointer:coarse)"===a.media?!!a.matches:"orientation"in window||(a=navigator.userAgent,/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(a)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(a)),network_connection_speed:(n=navigator.connection||navigator.mozConnection||!1|navigator.webkitConnection)?n.effectiveType:"",mobile_device_is_mobile:i().any,mobile_device_is_tablet:i().tablet,mobile_device_is_phone:i().phone,os_platform:"undefined"!=typeof navigator&&navigator.platform,page_url:r().url,page_url_protocol:r().protocol,page_url_host:window.location.host||!1,page_url_domain:r().domain,page_url_subdomain:r().subdomain,page_url_query:r().query,page_url_path:window.location.pathname||!1,browser_name:o().name,browser_version:o().version,browser_language:"undefined"!=typeof navigator&&navigator.language,browser_vendor:"undefined"!=typeof navigator&&navigator.vendor,source_referrer:-1!==(t=document.referrer).indexOf("facebook")?"facebook":-1!==t.indexOf("twitter")?"twitter":-1!==t.indexOf("google")?"google":-1!==t.indexOf("bing")?"bing":-1!==t.indexOf("yahoo")?"yahoo":document.referrer,user_agent:"undefined"!=typeof navigator&&navigator.userAgent,channel:!!(e=document.querySelector('meta[name="DCSext.Channel"]'))&&e.content||!1,category:!!(a=document.querySelector('meta[name="DCSext.Category"]'))&&a.content||!1,content_type:!!(n=document.querySelector('meta[name="DCSext.Content_Type"]'))&&n.content||!1,article_id:!!(t=document.querySelector('meta[name="DCSext.articleId"]'))&&t.content||!1,page_type:!!(e=document.querySelector('meta[name="tmgads.pagetype"]'))&&e.content||!1,keywords:!!(a=document.querySelector('meta[name="keywords"]'))&&a.content||!1,cookie_consent:!(!s.a.get("_evidon_consent_cookie")&&!s.a.get("euconsent")),icid:(n=Object(h.a)("icid"),t=Object(h.a)("ICID"),n||t||!1||!1),offer_id:(e=Object(h.a)("offerId"),a=Object(h.a)("offerID"),n=Object(h.a)("offerid"),e||a||n||!1||!1),platform:!1,premium_override:!!(t=document.querySelector('meta[name="tmg.premium.override"]'))&&t.content,premium_state:!!(e=document.querySelector('meta[name="tmg.premium.state"]'))&&e.content||!1,user_status:(a=this.tmgP13nCookie,n=s.a.get("tmg_pid"),t=s.a.get("sVisValue"),e="New",e=t||""!==t||!new RegExp(/New/).test(t)?"Repeat;":e,e+=n?"logged in":"logged out",a&&a.readerType?e+="subscriber"===a.readerType?";subscriber":";registered":e+=n?";registered":";anonymous",e||!1),business_segment:!!(e=document.querySelector('meta[name="tmgads.businessSegment"]'))&&e.content||!1,story_type:function(){if(void 0!==window.pageData&&void 0!==window.pageData.storytype)return JSON.stringify(window.pageData.storytype).replace(/[:{}"]/g,"");if(document.querySelector('meta[name="keywords"]')){var e=document.querySelector('meta[name="keywords"]')?document.querySelector('meta[name="keywords"]').content:"";return(e=e.toLowerCase(),new RegExp(/review/).test(e))?"review":new RegExp(/recipe/).test(e)?"recipe":void 0}}()||!1};this.audience=function(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach(function(e){var t,n;t=a,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}({},u,{},e),window.martech=window.martech||{},window.martech.audience=this.audience}},{key:"getOffers",value:function(){this.offers=d,c.a.enabled()?c.a.set("offers",this.offers):(window.martech=window.martech||{},window.martech.offers=this.offers)}}],f(g.prototype,n),(new g).init()}]);

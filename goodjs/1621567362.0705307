(this.$WP=this.$WP||[]).push(["wU942v",(e,t)=>{"use strict";var r,a,i,n,s,o,l,_,d=["Attraction_Review","Attractions","AttractionsLander","AttractionsNear","FAQ","FAQ_Answers","Guide","MobileAttraction_Review","MobileAttractions","MobileAttractionsNear","MobileFAQ","MobileFAQ_Answers","MobileNearbyRestaurants","MobileRestaurants","MobileRestaurantSearch","MobileRestaurantsNear","MobileShowUserReviews","MobileSiteIndex","MobileTravel","NearbyRestaurants","Profile","Restaurant_Review","Restaurants","RestaurantsLander","RestaurantsNear","ShowUserReviews","SiteIndex","Travel","Travel_Guide","TravelersChoice","Trips"],u=e=>!!e&&d.includes(e),g=["Restaurant_Review","Attraction_Review","Hotel_Review"],c=e=>n("ml_hard_gate_master")||e&&!1||n("ml_hard_gate_dt"),v=()=>{var e,t,r=null==(e=window)||null==(t=e.navigator)?void 0:t.connection;return r?[r.effectiveType||"unknown",r.type||"unknown"]:["unknown","unknown"]},w=e=>{if(n("hard_gate_excl_disable_domain_direct")||c(e))return!1;var t=i.get("firstEntryServlet");return"Home"===t||"Tourism"===t||"MobileTourism"===t},m=e=>{var t=i.get("sponsoredListingIdClicked");return n("ungate_sponsored_listing_clicks")&&t&&t===e},h=e=>{var t=l();return r(()=>{((e,t)=>{var{action:r,totalViews:a,name:i,servlet:n}=t,l=s.includes(n),[_,d]=v(),u=o(),g=[r];l&&g.push("hotels"),a&&g.push(a),e({module:l?i+"_hotels":i,action:g.join("_"),context:`${n||"unknown"}|${_}|${d}|${u.toString()}`})})(t,e),e.fn&&e.fn()},[e,t])},p=()=>i.get("requiredLoginPagesViewed")||[],R=(e,t)=>p().some(r=>r.servlet===e&&r.pageId===t),b=(e,t)=>{if(!R(e,t)){var r=p();r.push({servlet:e,pageId:t}),i.set("requiredLoginPagesViewed",r,18e5)}},A=(e,t)=>{switch(e){case"ShowTopic":case"MobileShowTopic":return t.topicId||1;case"Profile":return t.username||1;case"ShowUserReviews":case"MobileShowUserReviews":return t.review||1;case"FAQ_Answers":case"MobileFAQ_Answers":return t.topic||1;case"Trips":return t.tripId||1;default:return t.detailId||t.geoId||1}},T=(e,t)=>{var r=A(e,t),a=R(e,r);return p().length>=1&&!a},M=e=>{if(!n("review_detail_hard_gate_master_dt"))return p().length;var t=p();return(n("review_detail_hard_gate_dt_other_servlets")?t.filter(e=>!g.includes(e.servlet)):t.filter(t=>t.servlet===e)).length},f=(e,t)=>{a(()=>{!e&&t&&i.set("requiredLoginActivated",(new Date).getTime())},[e,t])},E=()=>{var e=i.get("requiredLoginActivated");return e?new Date(e):null},S=(e,t,r,a,s,o,l="memx_mobile_hardgate_pageview")=>{var d,u;return!_||(((e,t,r,a,i,n)=>{var s=[e.toString(),t];s.push(r||0===r?r:"unknown"),s.push((!!a).toString()),n({module:i,action:"gating_ml_model_decision",context:s.join("|")})})(e,(d=parseInt(i.get("mlHardGatePageViewCount"),10),u=isNaN(d)?1:d+1,i.set("mlHardGatePageViewCount",u,18e5),u),t,a,l,o),!(!n("ml_hard_gate_targeting_logic")&&!n("ml_hard_gate_no_reqlo"))||e)},P=(e,t,r)=>r&&("Home"===e||"Tourism"===e)&&!1;return[()=>{_=n("ml_hard_gate_model_v1_reevaluate_on_page_view")||n("ml_hard_gate_dt_v1_master")||n("ml_hard_gate_dt_v2_master")||n("ml_hard_gate_dt_v3_master"),e({ML_PAGE_VIEWED_KEY:"mlHardGatePageViewCount",MODAL_NAME:"memx_mobile_hardgate_pageview",PAGE_COUNT_TRIGGER:2,PREVIOUSLY_VIEWED_PAGES_KEY:"requiredLoginPagesViewed",addPageToViewed:b,cameDomainDirect:w,findPageIdentifier:A,gatingEligibility:S,getConnectionType:v,getCurrentPageViewCount:M,getHardGateViewTimestamp:E,getPagesViewed:p,isFromSponsoredClick:m,isMLGatingEnabled:c,isRequiredLoginMWServlet:u,pageCountTriggerReached:T,pageHasBeenViewed:R,shouldDisableRegDialogForRequiredLoginLithium:P,useHardGateViewRecord:f,useTrackAndDelegateCallback:h})},[e=>(r=e.useCallback,a=e.useEffect),e=>i=e.default,e=>n=e.featureIsEnabled,e=>(s=e.HOTEL_SERVLETS,o=e.isEligibleForOneTap),e=>l=e.useGARecorder]]},["cDcdfi","jaCyxS","-i3PJS","MWFqPp","fsml46"]]);
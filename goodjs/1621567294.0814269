(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([["newNobleAct","Drag_dedfcdf"],{"072435":function(e,t,r){"use strict";var a=r("1a22b7"),i=r.n(a),n=(r("a0af35"),"/shark/live/src/pages/roomPage/activity/newNobleAct/components/Panel/components/QuestionTip/index.js");t.default=function(e){var t=e.title,r=void 0===t?"":t,a=e.content,o=void 0===a?"":a,l=e.extClass,c=void 0===l?"":l,s=e.clickEvent;return i.a.createElement("span",{className:"u-question "+c,onClick:s,__source:{fileName:n,lineNumber:13},__self:void 0},r,o?i.a.createElement("div",{className:"u-question-tipsBox",dangerouslySetInnerHTML:{__html:o},__source:{fileName:n,lineNumber:15},__self:void 0}):null)}},"09c8e4":function(e,t,r){"use strict";var a=r("4fd28c");t.default=a.default},"0ed3ee":function(e,t,r){},"0fc6c1":function(e,t,r){},"10b282":function(e,t,r){"use strict";var a=r("1a22b7"),i=r.n(a),n=r("7912b6"),o=r("637f43"),l=r.n(o),c=(r("d3d7ab"),"/shark/live/src/pages/roomPage/activity/newNobleAct/components/Bar/User/User.js"),s=void 0;t.default=function NewNobleActUser(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=e.isFirst,r=void 0!==t&&t,a=e.curRid,o=void 0===a?"":a,u=e.rid,f=void 0===u?"":u,m=e.nickname,d=e.url,p=void 0===d?"":d,b=e.anchor,_=void 0===b?"":b,v=e.hs,N=e.sn,h=void 0===N?"":N;return r||!v?i.a.createElement("div",{className:"NewNobleActUser is-first",__source:{fileName:c,lineNumber:21},__self:s},i.a.createElement("div",{className:"NewNobleActUser-head",__source:{fileName:c,lineNumber:22},__self:s},"\u672c\u623f\u7528\u6236\u699c1"),i.a.createElement("div",{className:"NewNobleActUser-pic",__source:{fileName:c,lineNumber:23},__self:s},i.a.createElement(n.DyImg,{className:"NewNobleActUser-avatar",isLazyable:!1,defaultSrc:l.a,src:p,__source:{fileName:c,lineNumber:24},__self:s}),i.a.createElement("div",{className:"NewNobleActUser-holder",__source:{fileName:c,lineNumber:30},__self:s},i.a.createElement("div",{className:"NewNobleActUser-hs",__source:{fileName:c,lineNumber:31},__self:s}))),i.a.createElement("div",{className:"NewNobleActUser-nickname",title:m||"\u865a\u4f4d\u4ee5\u5f85",__source:{fileName:c,lineNumber:34},__self:s},m||"\u865a\u4f4d\u4ee5\u5f85"),i.a.createElement("div",{className:"NewNobleActUser-txt",__source:{fileName:c,lineNumber:35},__self:s},"\u4e3b\u64ad\u83b7\u5f97\u699c\u4e3b"),i.a.createElement("div",{className:"NewNobleActUser-txt",__source:{fileName:c,lineNumber:36},__self:s},"\u699c1\u53ef\u6210\u4e3a\u5e7b\u795e")):i.a.createElement(n.DyLink,{className:"NewNobleActUser",rid:+f,curRid:+o,__source:{fileName:c,lineNumber:42},__self:s},i.a.createElement("div",{className:"NewNobleActUser-head",__source:{fileName:c,lineNumber:47},__self:s},"\u6628\u65e5\u964d\u4e34\u5e7b\u795e"),i.a.createElement("div",{className:"NewNobleActUser-pic",__source:{fileName:c,lineNumber:48},__self:s},i.a.createElement(n.DyImg,{className:"NewNobleActUser-avatar",isLazyable:!1,defaultSrc:l.a,src:p,__source:{fileName:c,lineNumber:49},__self:s}),i.a.createElement("div",{className:"NewNobleActUser-holder is-day"+h,__source:{fileName:c,lineNumber:55},__self:s},i.a.createElement("div",{className:"NewNobleActUser-hs",__source:{fileName:c,lineNumber:56},__self:s},v))),i.a.createElement("div",{className:"NewNobleActUser-nickname",title:m||"\u865a\u4f4d\u4ee5\u5f85",__source:{fileName:c,lineNumber:59},__self:s},m||"\u865a\u4f4d\u4ee5\u5f85"),i.a.createElement("div",{className:"NewNobleActUser-txt",__source:{fileName:c,lineNumber:60},__self:s},"\u5df2\u5728",i.a.createElement("span",{className:"NewNobleActUser-anchor",title:_||"",__source:{fileName:c,lineNumber:60},__self:s},_)),i.a.createElement("div",{className:"NewNobleActUser-txt",__source:{fileName:c,lineNumber:61},__self:s},"\u76f4\u64ad\u95f4\u964d\u4e34"))}},"1a22b7":function(e,t,r){e.exports=r("999443")("8af19")},"2119a3":function(e,t,r){"use strict";var a=r("7ca7dc"),i=r("23dddb"),n=a.default.combineEpicsClass;t.default=n(i.default)},"23dddb":function(e,t,r){"use strict";t.default=function ActEpics(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ActEpics)}},250686:function(e,t,r){"use strict";var a,i,n,o,l,c=r("1a22b7"),s=r.n(c),u=r("7ca7dc"),f=r("7912b6"),m=r("09c8e4"),d=r("eeb9b8"),p=r("4de1e7"),b=r("637f43"),_=r.n(b),v=(r("76faca"),"/shark/live/src/pages/roomPage/activity/newNobleAct/components/Bar/Day/Day.js");function _initDefineProp(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a],n=Object.getOwnPropertyDescriptor(t,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,a,i){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var N=u.default.Service,h=(a=N(d.default),i=N(p.default),n=function(e){function NewNobleActDay(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NewNobleActDay);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"barService",o,t),_initDefineProp(t,"commonActService",l,t),t.state={buffTime:"--:--"},t}return _inherits(NewNobleActDay,e),NewNobleActDay.prototype.componentDidMount=function componentDidMount(){var e=this;this.commonActService.$stream.subscribe(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.buff,a=t.type,i=r||{},n=i.bft,o=i.bfs;"acthsgzs1od"===a&&e.updateTime(n,o)})},NewNobleActDay.prototype.handlerData=function handlerData(e){var t=e||{},r=t.drk,a=void 0===r?{}:r,i=t.buff,n=void 0===i?{}:i,o=t.avatar,l=n.bfs,c=n.bfr,s=(n.bft,a.rki),u=a.rkd;return{avatar:o,rank:this.barService.getRanking({type:1,defaultVal:"\u672a\u4e0a\u699c",ranking:s}),sc:parseInt(u/100,10),buffStatu:l>0,buffRate:c/100}},NewNobleActDay.prototype.updateTime=function updateTime(e,t){var r=this;if(t>0){var a=e;this.setState({buffTime:this.getTime(a)}),this.timer&&clearInterval(this.timer),this.timer=setInterval(function(){(a-=1)>=0?r.setState({buffTime:r.getTime(a)}):(clearInterval(r.timer),r.timer=null)},1e3)}else clearInterval(this.timer),this.timer=null},NewNobleActDay.prototype.getTime=function getTime(e){if(e>0){var t=parseInt(e/60,10),r=e%60;return(t<10?"0"+t:t)+":"+(r<10?"0"+r:r)}return"00:00"},NewNobleActDay.prototype.getHtml=function getHtml(e,t){return parseInt(e,10)>0?s.a.createElement("div",{className:"NewNobleActDay-txt",__source:{fileName:v,lineNumber:100},__self:this},s.a.createElement("div",{className:"NewNobleActDay-rank",__source:{fileName:v,lineNumber:101},__self:this},"\u4e3b\u64ad\u65e5\u699c:",e),s.a.createElement("div",{className:"NewNobleActDay-line",__source:{fileName:v,lineNumber:102},__self:this}),s.a.createElement("div",{__source:{fileName:v,lineNumber:103},__self:this},1===e?"\u9886\u5148\u7b2c2\u540d":"\u843d\u540e\u7b2c1\u540d"),s.a.createElement("div",{__source:{fileName:v,lineNumber:104},__self:this},t)):s.a.createElement("div",{className:"NewNobleActDay-txt is-norank",__source:{fileName:v,lineNumber:108},__self:this},e)},NewNobleActDay.prototype.render=function render(){var e=this.handlerData(this.props.data),t=e.avatar,r=e.rank,a=e.sc,i=e.buffStatu,n=e.buffRate,o=this.state.buffTime;return s.a.createElement("div",{className:"NewNobleActDay"+(i?" is-buff":""),__source:{fileName:v,lineNumber:119},__self:this},s.a.createElement(f.DyImg,{className:"NewNobleActDay-avatar",isLazyable:!1,defaultSrc:_.a,src:t,__source:{fileName:v,lineNumber:120},__self:this}),s.a.createElement("div",{className:"NewNobleActDay-content",__source:{fileName:v,lineNumber:126},__self:this},this.getHtml(r,a)),i?s.a.createElement("div",{className:"NewNobleActDay-buff",__source:{fileName:v,lineNumber:131},__self:this},s.a.createElement("div",{className:"NewNobleActDay-time",__source:{fileName:v,lineNumber:132},__self:this},"\u5149\u8000\u4e07\u7269",o),s.a.createElement("div",{__source:{fileName:v,lineNumber:133},__self:this},n,"\u500d\u52a0\u6210\u4e2d"),s.a.createElement(m.default,{buffTime:o,buffRate:n,__source:{fileName:v,lineNumber:134},__self:this})):null)},NewNobleActDay}(s.a.Component),o=_applyDecoratedDescriptor(n.prototype,"barService",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(n.prototype,"commonActService",[i],{enumerable:!0,initializer:null}),n);t.default=h},285678:function(e,t,r){"use strict";var a=r("97db02");t.default=a.default},"2ce08c":function(e,t,r){"use strict";var a,i,n,o=r("1a22b7"),l=r.n(o),c=r("7ca7dc"),s=r("ad9050"),u=r("daab34"),f=r("449442"),m=r("c6da5c"),d=r("9fff67"),p=r("4dcf94"),b=r("3b4598"),_=r.n(b),v=r("a2c9be"),N=r.n(v),h=r("9a25bd"),y=r.n(h),g=(r("c3ce56"),"/shark/live/src/pages/roomPage/activity/newNobleAct/components/Panel/Panel.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a],n=Object.getOwnPropertyDescriptor(t,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,t))}var w=(a=(0,c.default.Service)(u.default),i=function(e){function App(){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,App);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}(r,"actPanelServices",n,r),r.updatePanel=function(e){var t=Object.assign({},e);r.setState(t)},r.renderSliderPage=function(e){var a=r.state,i=a.config,n=void 0===i?{}:i,o=a.day,c=void 0===o?1:o,u=a.reqData,f=void 0===u?{}:u,m=n||{},d=m.step1_begin_time,p=void 0===d?[]:d,b=m.noble_names,v=void 0===b?[]:b,h=c-1,w=f.god,P=(void 0===w?{}:w).handleData,A=void 0===P?{}:P;return v.map(function(r,a){var i=A[a+1]||{},n=p.length>a?Object(s.formatTime)(p[a],"MM\u6708DD\u65e5"):"--",o=i.avatar,c=void 0===o?_.a:o,u=i.nn,f=a>=h?a===h?"\u4eca\u65e5\u964d\u4e34":n+"\u964d\u4e34":void 0===u?"--":u,m=a===h?N.a:y.a,d=a>=h?m:c;return a<3*(e+1)&&a>=3*e?l.a.createElement("div",{key:a,className:"ActP153132-godItem "+(a===h?"is-big":""),__source:{fileName:g,lineNumber:64},__self:t},l.a.createElement("div",{className:"ActP153132-godAvatar is-avatar"+(a+1),__source:{fileName:g,lineNumber:65},__self:t},l.a.createElement("img",{src:d||_.a,__source:{fileName:g,lineNumber:66},__self:t}),l.a.createElement("p",{__source:{fileName:g,lineNumber:67},__self:t},r)),l.a.createElement("p",{className:"ActP153132-godNick u-ell "+(a>h?"not-arrival":""),__source:{fileName:g,lineNumber:69},__self:t},f||"--")):null})},r.renderTab=function(){var e=r.state,a=e.tabIndex,i=void 0===a?1:a,n=e.hour,o=void 0===n?0:n,c=e.hourType,u=void 0===c?0:c,f=e.hourRanktxt,m=void 0===f?[]:f,d=m.length>u?m[u]:"--";return 1===u&&(d=Object(s.leading0)(o)+":00~"+Object(s.leading0)((o+1)%24)+":00"),l.a.createElement("ul",{className:"ActP153132-tabs",__source:{fileName:g,lineNumber:84},__self:t},l.a.createElement("li",{className:"ActP153132-tab is-hour "+(1===i?"is-cur":""),onClick:function onClick(){return r.actPanelServices.togglePanelTab(1)},__source:{fileName:g,lineNumber:85},__self:t},l.a.createElement("p",{__source:{fileName:g,lineNumber:87},__self:t},"\u4e3b\u64ad\u5c0f\u65f6\u699c"),l.a.createElement("p",{className:"ActP153132-tabTime",__source:{fileName:g,lineNumber:88},__self:t},"<",d,">")),l.a.createElement("li",{className:"ActP153132-tab "+(2===i?"is-cur":""),onClick:function onClick(){return r.actPanelServices.togglePanelTab(2)},__source:{fileName:g,lineNumber:90},__self:t},"\u4e3b\u64ad\u65e5\u699c"),l.a.createElement("li",{className:"ActP153132-tab "+(3===i?"is-cur":""),onClick:function onClick(){return r.actPanelServices.togglePanelTab(3)},__source:{fileName:g,lineNumber:92},__self:t},"\u672c\u623f\u7528\u6237\u699c"))},r.panelDispatch=function(){var e=r.state.tabIndex;switch(void 0===e?0:e){case 1:return l.a.createElement(m.default,{rankData:r.state,__source:{fileName:g,lineNumber:104},__self:t});case 2:return l.a.createElement(d.default,{rankData:r.state,__source:{fileName:g,lineNumber:106},__self:t});case 3:return l.a.createElement(p.default,{rankData:r.state,__source:{fileName:g,lineNumber:108},__self:t});default:return null}},r.state={isShowPanel:!0},r}return _inherits(App,e),App.prototype.componentDidMount=function componentDidMount(){this.actPanelServices.init({updatePanel:this.updatePanel})},App.prototype.componentWillUnmount=function componentWillUnmount(){this.actPanelServices.initConfig({updatePanel:null})},App.prototype.render=function render(){var e=this,t=this.state,r=t.isShowPanel,a=t.ztPage,i=t.sliderIndex,n=void 0===i?0:i;return l.a.createElement("div",{className:"ActP153132-box "+(r?"is-show":""),onMouseEnter:function onMouseEnter(){return e.actPanelServices.togglePanel(1)},onMouseLeave:function onMouseLeave(){return e.actPanelServices.togglePanel(0)},__source:{fileName:g,lineNumber:118},__self:this},l.a.createElement("div",{className:"ActP153132",__source:{fileName:g,lineNumber:123},__self:this},l.a.createElement("a",{className:"ActP153132-goZT",href:a,target:"_blank",__source:{fileName:g,lineNumber:124},__self:this}),l.a.createElement("div",{className:"ActP153132-godArriveBox",__source:{fileName:g,lineNumber:125},__self:this},l.a.createElement(f.default,{extClass:"ActP153132-Slider",width:352,height:150,sliderIndex:n,__source:{fileName:g,lineNumber:126},__self:this},l.a.createElement("div",{className:"ActP153132-SliderItem",__source:{fileName:g,lineNumber:127},__self:this},this.renderSliderPage(0)),l.a.createElement("div",{className:"ActP153132-SliderItem",__source:{fileName:g,lineNumber:130},__self:this},this.renderSliderPage(1)))),this.renderTab(),this.panelDispatch()))},App}(l.a.Component),n=function _applyDecoratedDescriptor(e,t,r,a,i){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(i.prototype,"actPanelServices",[a],{enumerable:!0,initializer:null}),i);t.default=w},"2d6146":function(e,t){e.exports=sdkd479d126aaa128c11834},307213:function(e,t,r){},332271:function(e,t,r){e.exports=r("5f575e")("36016")},"3b4598":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/defavatar_6487965.png"},"3b6ec9":function(e,t,r){e.exports=r("999443")("63f14")},"4355c3":function(e,t,r){"use strict";var a=r("1a22b7"),i=r.n(a),n=r("a5da10"),o="/shark/live/src/pages/roomPage/activity/newNobleAct/components/Panel/components/AvatarNick/index.js";t.default=function(e){var t=e.roomId,r=void 0===t?0:t,a=e.el,l=void 0===a?{}:a,c=e.sub,s=e.extClass,u=void 0===s?"":s,f=(e.isUser,l.rid),m=void 0===f?0:f,d=(l.nrt,l.verticalSrc,l.nn),p=void 0===d?"":d,b=l.avatar,_=void 0===b?"":b,v=i.a.createElement("span",{className:"avatar",__source:{fileName:o,lineNumber:39},__self:void 0},i.a.createElement(n.default,{src:_,__source:{fileName:o,lineNumber:40},__self:void 0})),N=i.a.createElement("div",{className:"info",__source:{fileName:o,lineNumber:45},__self:void 0},i.a.createElement("p",{className:"nick u-ell",__source:{fileName:o,lineNumber:46},__self:void 0},p||"\u865a\u4f4d\u4ee5\u5f85"),c?i.a.createElement("p",{className:"sub u-ell",dangerouslySetInnerHTML:{__html:c},__source:{fileName:o,lineNumber:48},__self:void 0}):null);return m&&m!==r?i.a.createElement("a",{href:"/"+m,target:"_blank",className:"AvatarNick "+u,__source:{fileName:o,lineNumber:54},__self:void 0},v,N):i.a.createElement("div",{className:"AvatarNick "+u,__source:{fileName:o,lineNumber:59},__self:void 0},v,N)}},449442:function(e,t,r){"use strict";var a,i,n,o=r("1a22b7"),l=r.n(o),c=r("7ca7dc"),s=r("daab34"),u=(r("c08a49"),"/shark/live/src/pages/roomPage/activity/newNobleAct/components/Panel/components/Slider/index.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a],n=Object.getOwnPropertyDescriptor(t,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,t))}var f=(a=(0,c.default.Service)(s.default),i=function(e){function App(){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,App);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}(r,"actPanelServices",n,r),r.runLoopTimer=function(){var e=r.config;r.runLoopTimer&&clearTimeout(r.runLoopTimer),r.timer=setTimeout(function(){var t=r.state.index;(t+=1)>=e.length&&(t=0),r.setState({index:t}),r.runLoopTimer()},e.interval)},r.clickSlider=function(e){e>=(r.config.children||[]).length||e<0||r.actPanelServices.toggleSlider(e)},r.renderSliderBar=function(e){var a=r.config.children||[];return a.length<2?null:[l.a.createElement("span",{key:1,className:"ActSlider-Bar is-left "+(e<=0?"is-disabled":""),onClick:function onClick(){return r.clickSlider(e-1)},__source:{fileName:u,lineNumber:114},__self:t}),l.a.createElement("span",{key:2,className:"ActSlider-Bar is-right "+(e>=a.length-1?"is-disabled":""),onClick:function onClick(){return r.clickSlider(e+1)},__source:{fileName:u,lineNumber:117},__self:t})]},r.renderSliderDot=function(e){var a=r.config.children||[];if(a.length<2)return null;var i=a.map(function(a,i){return l.a.createElement("span",{key:i,className:"ActSlider-Dot "+(i===e?"is-cur":""),onClick:function onClick(){return r.clickSlider(i)},__source:{fileName:u,lineNumber:131},__self:t})});return l.a.createElement("div",{className:"ActSlider-Dotlist",__source:{fileName:u,lineNumber:136},__self:t},i)},r.state={index:0},r.config={interval:5e3,extClass:"",autoPlay:!1,showSlideBar:!0,showSlideDot:!0,sliderIndex:0,distance:0,width:0,height:0},r.timer=null,r}return _inherits(App,e),App.prototype.componentDidMount=function componentDidMount(){},App.prototype.componentWillMount=function componentWillMount(){var e=this.props||{};Object.assign(this.config,e)},App.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e||{};e.sliderIndex!==this.config.sliderIndex&&this.clickSlider(e.sliderIndex),Object.assign(this.config,t)},App.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.timer)},App.prototype.render=function render(){var e=this.props,t=e.extClass,r=void 0===t?"":t,a=e.sliderIndex,i=void 0===a?0:a,n=this.config.children||[],o=this.config,c=o.showSlideBar,s=o.showSlideDot,f=n.length*o.width;return l.a.createElement("div",{className:"ActSlider "+r,style:{width:o.width+"px",height:o.height+"px"},__source:{fileName:u,lineNumber:153},__self:this},l.a.createElement("div",{className:"ActSlider-list",style:{left:"-"+i*o.width+"px",width:f+"px"},__source:{fileName:u,lineNumber:159},__self:this},this.props.children),c?this.renderSliderBar(i):null,s?this.renderSliderDot(i):null)},App}(l.a.Component),n=function _applyDecoratedDescriptor(e,t,r,a,i){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(i.prototype,"actPanelServices",[a],{enumerable:!0,initializer:null}),i);t.default=f},"487d37":function(e,t,r){"use strict";var a=r("e2f66c");t.default=a.default},"4dcf94":function(e,t,r){"use strict";var a=r("1a22b7"),i=r.n(a),n=r("632666"),o=r("4355c3"),l="/shark/live/src/pages/roomPage/activity/newNobleAct/components/Panel/ranks/User.js";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a],n=Object.getOwnPropertyDescriptor(t,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,t))}var c=r("74c996").RANKCONFIG.USER,s=function RankItem(e){var t=e.el,r=void 0===t?{}:t,a=e.idx,s=e.isPromote,u=void 0===s?0:s,f=(e.extClass,e.roomId),m=void 0===f?0:f,d=e.UID,p=void 0===d?0:d,b=r.sc,_=void 0===b?0:b,v=(r.rid,r.uid),N=void 0===v?0:v,h=[{colCont:i.a.createElement(n.RankIcon,{idx:a,isPromote:u,__source:{fileName:l,lineNumber:22},__self:void 0})},{colCont:i.a.createElement(o.default,{el:r,roomId:m,__source:{fileName:l,lineNumber:23},__self:void 0})},{colCont:i.a.createElement("span",{className:"score",__source:{fileName:l,lineNumber:24},__self:void 0},parseInt(_/100,10)||"--")}],y=N?"is-active":"",g=N&&N===p?"is-Anchor":"";return i.a.createElement(n.RowLayout,{extClass:"RankItem "+y+" "+g,layout:c.layout,cont:h,__source:{fileName:l,lineNumber:32},__self:void 0})},u=function(e){function App(){var t,r,a=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,App);for(var o=arguments.length,c=Array(o),u=0;u<o;u++)c[u]=arguments[u];return t=r=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(c))),r.renderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length>0?0:10,o=Array.from({length:t}).fill({}),c=r.props.rankData,u=(void 0===c?{}:c).roomData,f=((void 0===u?{}:u)||{}).uid;return e.concat(o).map(function(e,t){var r=t<0?1:0;return 0===t?[i.a.createElement(n.RankSep,{key:-1,extClass:"ActP153132-daySep",content:"\u82e5\u4e3b\u64ad\u6210\u4e3a\u5c0f\u65f6\u699c\u4e3b\uff0c\u7528\u6237\u699c1\u53ef\u83b7\u5f97buff\u9053\u5177",__source:{fileName:l,lineNumber:52},__self:a}),i.a.createElement(s,{key:t,idx:t+1,isPromote:r,UID:f,el:e||{},__source:{fileName:l,lineNumber:53},__self:a})]:i.a.createElement(s,{key:t,idx:t+1,isPromote:r,UID:f,el:e||{},__source:{fileName:l,lineNumber:54},__self:a})})},_possibleConstructorReturn(r,t)}return _inherits(App,e),App.prototype.render=function render(){var e=this.props.rankData,t=(void 0===e?{}:e).reqData,r=(void 0===t?{}:t).user,a=(void 0===r?{}:r).data,o=((void 0===a?{}:a)||{}).list,s=void 0===o?[]:o,u=this.renderList(s);return i.a.createElement("div",{className:"ActP153132-hourPanel",__source:{fileName:l,lineNumber:68},__self:this},i.a.createElement(n.RankList,{scrollHeight:304,rankList:u,config:c,__source:{fileName:l,lineNumber:69},__self:this}))},App}(i.a.Component);t.default=u},"4de1e7":function(e,t,r){e.exports=r("5f575e")("e98e5")},"4fd28c":function(e,t,r){"use strict";var a,i=r("1a22b7"),n=r.n(i),o=r("3b6ec9"),l=r.n(o),c=r("97a1f0"),s=(r("5e25d4"),"/shark/live/src/pages/roomPage/activity/newNobleAct/components/Bar/BuffTips/BuffTips.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a],n=Object.getOwnPropertyDescriptor(t,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,t))}var u=Object(c.ErrorHandler)()(a=function(e){function BuffTips(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BuffTips);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={showTips:!0},t.close=t.close.bind(t),t}return _inherits(BuffTips,e),BuffTips.prototype.close=function close(){this.setState({showTips:!1})},BuffTips.prototype.render=function render(){var e=this.props,t=e.buffRate,r=e.buffTime;return this.state.showTips?l.a.createPortal(n.a.createElement("div",{className:"NewNobleActTips",__source:{fileName:s,lineNumber:32},__self:this},"\u8d60\u9001\u793c\u7269\u9053\u5177\u795e\u529b\u503c",t,"\u500d\u52a0\u6210 ",n.a.createElement("span",{className:"NewNobleActTips-yellow",__source:{fileName:s,lineNumber:32},__self:this},"(",r,")"),n.a.createElement("span",{className:"NewNobleActTips-close",onClick:this.close,__source:{fileName:s,lineNumber:32},__self:this})),document.querySelector("#js-player-toolbar")):null},BuffTips}(n.a.Component))||a;t.default=u},528016:function(e,t,r){e.exports=r("5f575e")("39485")},"5e25d4":function(e,t,r){},"5e6563":function(e,t,r){},"5f575e":function(e,t){e.exports=_room_common_},632666:function(e,t,r){"use strict";r.d(t,"RankIcon",function(){return f}),r.d(t,"RankSep",function(){return m}),r.d(t,"RankList",function(){return p}),r.d(t,"RowLayout",function(){return b});var a=r("1a22b7"),i=r.n(a),n=r("f2b8b7"),o=r("072435"),l=(r("5e6563"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}),c="/shark/live/src/pages/roomPage/activity/newNobleAct/components/Panel/components/RankList/index.js",s=void 0;var u=function ThumbVertical(e){var t=e.style,r=function _objectWithoutProperties(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["style"]);return i.a.createElement("div",l({className:"RankListScrollBar"},r,{style:t,__source:{fileName:c,lineNumber:12},__self:s}))},f=function RankIcon(e){var t=e.idx,r=e.isPromote,a=e.defaultText,n=void 0===a?"\u672a\u4e0a\u699c":a;return 0===t?i.a.createElement("span",{__source:{fileName:c,lineNumber:37},__self:s},n):"99+"===t||"\u672a\u4e0a\u699c"===t?i.a.createElement("span",{className:"RankIcon-anchorRank",__source:{fileName:c,lineNumber:41},__self:s},t):i.a.createElement("span",{className:"RankIcon "+(r?"is-promote":"")+" num"+t,__source:{fileName:c,lineNumber:44},__self:s},t)},m=function RankSep(e){var t=e.extClass,r=e.content;return i.a.createElement("div",{className:"RankItem",__source:{fileName:c,lineNumber:58},__self:s},i.a.createElement("div",{className:"RankSep "+t,dangerouslySetInnerHTML:{__html:r},__source:{fileName:c,lineNumber:59},__self:s}))},d=function RankHeader(e){var t=e.config,r=void 0===t?{}:t,a=e.extClass,n=void 0===a?"RankHeader":a,l=r.titleList,u=void 0===l?[]:l,f=r.tips,m=r.layout,d=void 0===m?[]:m,p=d.map(function(e,t){return t>=u.length?{colCont:null}:t===d.length-1?{colCont:f?i.a.createElement(o.default,{title:u[t],content:f,__source:{fileName:c,lineNumber:87},__self:s}):u[t]}:{colCont:u[t]}});return i.a.createElement(b,{extClass:n,layout:d,cont:p,__source:{fileName:c,lineNumber:96},__self:s})},p=function RankList(e){var t=e.scrollHeight,r=void 0===t?0:t,a=e.rankList,o=e.config,l=void 0===o?null:o,f=e.rankBottom,m=void 0===f?null:f,p=e.extClass,b=void 0===p?"":p,_=r?i.a.createElement("div",{className:"RankList-scrollBody",style:{height:r+"px"},__source:{fileName:c,lineNumber:119},__self:s},i.a.createElement(n.Scrollbars,{renderTrackVertical:function renderTrackVertical(){return function TrackVertical(e){return i.a.createElement("div",{className:"RankListScrollTrack "+e,__source:{fileName:c,lineNumber:21},__self:s})}("")},renderThumbVertical:u,__source:{fileName:c,lineNumber:120},__self:s},a)):i.a.createElement("div",{className:"RankList-scrollBody",__source:{fileName:c,lineNumber:127},__self:s},a);return i.a.createElement("div",{className:"RankList "+b,__source:{fileName:c,lineNumber:133},__self:s},l?i.a.createElement(d,{config:l,__source:{fileName:c,lineNumber:134},__self:s}):null,_,m)},b=function RowLayout(e){var t=e.cont,r=void 0===t?[]:t,a=e.layout,n=void 0===a?{}:a,o=e.extClass,l=void 0===o?"":o,u=e.corner,f=void 0===u?null:u,m=r.length,d=n.map(function(e,t){return i.a.createElement("div",{key:t,className:e,__source:{fileName:c,lineNumber:157},__self:s},t<m?r[t].colCont:null)});return i.a.createElement("div",{className:"RowLayout "+l,__source:{fileName:c,lineNumber:161},__self:s},d,f)}},"637f43":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default_1f3be8b.png"},"6a7c8a":function(e,t,r){"use strict";t.default={}},"6af9cf":function(e,t,r){},"6f9bd5":function(e,t,r){"use strict";var a=r("e60838");t.default=a.default},"74c996":function(e,t,r){"use strict";r.d(t,"RANKCONFIG",function(){return n});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i={idx:"idx",rid:"rid",nickName:"nn",avatar:"avatar",sc:"sc",nrt:"nrt",verticalSrc:"verticalSrc"},n={HOUR:{layout:["col-50","col-anchor col-180","col-100"],titleList:["\u6392\u540d","\u4e3b\u64ad\u6635\u79f0","\u672c\u5c0f\u65f6\u795e\u529b\u503c"],tips:"\u8d60\u9001\u793c\u7269\uff08\u542b\u5f00\u901a\u8d35\u65cf\uff09\u3001\u9053\u5177\uff0c1\u8d21\u732e\u503c\u62161\u4eb2\u5bc6\u5ea6<br />=1\u795e\u529b\u503c",map:a({},i)},DAY:{layout:["col-50","col-anchor col-180","col-100"],titleList:["\u6392\u540d","\u4e3b\u64ad\u6635\u79f0","\u4eca\u65e5\u795e\u529b\u503c"],tips:"\u8d60\u9001\u793c\u7269\uff08\u542b\u5f00\u901a\u8d35\u65cf\uff09\u3001\u9053\u5177\uff0c1\u8d21\u732e\u503c\u62161\u4eb2\u5bc6\u5ea6<br />=1\u795e\u529b\u503c",map:a({},i)},USER:{layout:["col-50","col-anchor col-180","col-100"],titleList:["\u6392\u540d","\u7528\u6237","\u4eca\u65e5\u795e\u529b\u503c"],tips:"\u8d60\u9001\u793c\u7269\uff08\u542b\u5f00\u901a\u8d35\u65cf\uff09\u3001\u9053\u5177\uff0c1\u8d21\u732e\u503c\u62161\u4eb2\u5bc6\u5ea6<br />=1\u795e\u529b\u503c",map:a({},i)}}},"76faca":function(e,t,r){},"7912b6":function(e,t,r){e.exports=r("5f575e")("48f66")},"7ca7dc":function(e,t,r){e.exports=r("2d6146")("f0df9")},"840e42":function(e,t,r){"use strict";var a=r("6a7c8a");t.default=Object.assign({},a.default)},"8dd4e6":function(e,t,r){e.exports=r("5f575e")("878cf")},"8ddf9c":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/defaultSharkAvatar_1ba58f1.png"},"97a1f0":function(e,t,r){e.exports=r("2d6146")("11f13")},"97db02":function(e,t,r){"use strict";var a=r("1a22b7"),i=r.n(a),n=(r("6af9cf"),"/shark/live/src/pages/roomPage/activity/newNobleAct/components/Bar/Head/Head.js");t.default=function NewNobleActHead(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=e.hs,r=void 0===t?"":t,a=e.day,o=void 0===a?1:a;return i.a.createElement("div",{className:"NewNobleActHead",__source:{fileName:n,lineNumber:8},__self:void 0},i.a.createElement("div",{className:"NewNobleActHead-color is-day"+o,__source:{fileName:n,lineNumber:9},__self:void 0},r),i.a.createElement("div",{__source:{fileName:n,lineNumber:10},__self:void 0},"\u4eca\u65e5\u964d\u4e34"))}},999443:function(e,t){e.exports=vendor3d72ea64bdb3506ffdba},"99c05a":function(e,t,r){"use strict";var a=r("7ca7dc"),i=r("2119a3"),n=r("840e42"),o=r("e93b49"),l=a.default.StoreFactory;t.default=a.default.createApp({name:"ActApp",providers:[{name:"component",useFactory:function useFactory(){return o.default}},{name:"store",useFactory:function useFactory(){return l.getInstance(window.__INITIAL_STATE__,n.default,i.default)}}]})},"9a25bd":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/godAvatar2_67b25ae.png"},"9b12cd":function(e,t,r){"use strict";var a=r("1a22b7"),i=r.n(a),n=(r("0ed3ee"),"/shark/live/src/pages/roomPage/activity/newNobleAct/components/Bar/Preheat/Preheat.js");t.default=function NewNobleActPre(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=e.time,r=e.ztPageUrl;return i.a.createElement("a",{className:"NewNobleActPre",href:r,target:"_blank",__source:{fileName:n,lineNumber:9},__self:void 0},i.a.createElement("span",{className:"NewNobleActPre-time",__source:{fileName:n,lineNumber:10},__self:void 0},t))}},"9fff67":function(e,t,r){"use strict";var a=r("1a22b7"),i=r.n(a),n=r("ad9050"),o=r("632666"),l=r("4355c3"),c="/shark/live/src/pages/roomPage/activity/newNobleAct/components/Panel/ranks/Day.js";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a],n=Object.getOwnPropertyDescriptor(t,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,t))}var s=r("74c996").RANKCONFIG.DAY,u=function RankItem(e){var t=e.el,r=void 0===t?{}:t,a=e.idx,n=e.isPromote,u=void 0===n?0:n,f=e.roomId,m=void 0===f?0:f,d=e.extClass,p=void 0===d?"":d,b=r.sc,_=void 0===b?0:b,v=r.rid,N=void 0===v?0:v,h=r.unn,y="\u7528\u6237\u699c\u7b2c1\uff1a"+((void 0===h?"":h)||"\u865a\u4f4d\u4ee5\u5f85"),g=[{colCont:i.a.createElement(o.RankIcon,{idx:a,isPromote:u,__source:{fileName:c,lineNumber:24},__self:void 0})},{colCont:i.a.createElement(l.default,{el:r,roomId:m,sub:y,__source:{fileName:c,lineNumber:25},__self:void 0})},{colCont:i.a.createElement("span",{className:"score",__source:{fileName:c,lineNumber:26},__self:void 0},parseInt(_/100,10)||"--")}],w=N&&N===m?"is-Anchor":"",P=N?"is-active":"";return i.a.createElement(o.RowLayout,{extClass:"RankItem "+p+" "+P+" "+w,layout:s.layout,cont:g,__source:{fileName:c,lineNumber:33},__self:void 0})},f=function(e){function App(){var t,r,a=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,App);for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];return t=r=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(s))),r.renderSep=function(){var e=r.props.rankData,t=void 0===e?{}:e,n=t.config,l=void 0===n?{}:n,s=t.day,u=void 0===s?1:s,f=(l||{}).noble_names,m=void 0===f?[]:f,d=u-1,p=m.length>d?m[d]:{};return i.a.createElement(o.RankSep,{key:-1,extClass:"ActP153132-daySep",content:"\u7ed3\u7b97\u65f6\u4e3b\u64ad\u65e5\u699c\u7b2c1\u540d\uff0c\u5176\u7528\u6237\u699c\u7b2c1\u540d\u6210\u4e3a"+p,__source:{fileName:c,lineNumber:45},__self:a})},r.renderRankBottom=function(){var e=r.props.rankData,t=void 0===e?{}:e,o=t.roomData,l=(void 0===o?{}:o)||{},s=l.nn,f=l.avatar,m=l.roomId,d=void 0===m?0:m,p=t.sourceData,b=void 0===p?{}:p,_=b.drk,v=void 0===_?{}:_,N=b.utop,h=void 0===N?{}:N,y=v.rki,g=void 0===y?0:y,w=v.rkv,P=void 0===w?0:w,A=h.nn,k=void 0===A?"":A,E=Object(n.getRanking)({type:1,defaultName:"\u672a\u4e0a\u699c",ranking:g});return i.a.createElement(u,{extClass:"RankList-bottom",idx:E,roomId:d,el:{rid:d,nn:s,avatar:f,sc:P,unn:k},__source:{fileName:c,lineNumber:72},__self:a})},r.renderList=function(){var e=r.props.rankData,t=void 0===e?{}:e,n=t.reqData,o=void 0===n?{}:n,l=t.roomData,s=void 0===l?{}:l,f=o.dayRank,m=(void 0===f?{}:f).data,d=((void 0===m?{}:m)||{}).list,p=void 0===d?[]:d,b=(s||{}).roomId,_=p.length>0?0:10,v=Array.from({length:_}).fill({});return p.concat(v).map(function(e,t){var n=t<0?1:0;return 0===t?[r.renderSep(0),i.a.createElement(u,{key:t,idx:t+1,roomId:b,isPromote:n,el:e||{},__source:{fileName:c,lineNumber:94},__self:a})]:i.a.createElement(u,{key:t,idx:t+1,roomId:b,isPromote:n,el:e||{},__source:{fileName:c,lineNumber:95},__self:a})})},_possibleConstructorReturn(r,t)}return _inherits(App,e),App.prototype.render=function render(){var e=this.renderList(),t=this.renderRankBottom();return i.a.createElement("div",{className:"ActP153132-hourPanel",__source:{fileName:c,lineNumber:105},__self:this},i.a.createElement(o.RankList,{scrollHeight:256,rankList:e,config:s,rankBottom:t,__source:{fileName:c,lineNumber:106},__self:this}))},App}(i.a.Component);t.default=f},a0af35:function(e,t,r){},a0b874:function(e,t,r){"use strict";var a=r("10b282");t.default=a.default},a2c9be:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/godAvatar_0447759.png"},a5da10:function(e,t,r){"use strict";var a=r("1a22b7"),i=r.n(a),n=r("3b4598"),o=r.n(n);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{roomInfo:{}},t=e.src,r=e.className,a=void 0===r?"":r,n=null,l=!1;return i.a.createElement("img",{className:a,src:t||o.a,ref:function ref(e){return n=e},onError:function onError(){l||(n.src=o.a,l=!0)},__source:{fileName:"/shark/live/src/pages/roomPage/activity/newNobleAct/components/Panel/components/Img/index.js",lineNumber:20},__self:void 0})}},ad9050:function(e,t,r){e.exports=r("5f575e")("68de1")},b61e6b:function(e,t,r){"use strict";var a=r("250686");t.default=a.default},bfb376:function(e,t,r){"use strict";r.r(t);r("528016");var a=r("7ca7dc"),i=new(r("99c05a").default);a.default.render(i,document.getElementById("js-room-activity"))},c00b76:function(e,t,r){"use strict";var a=r("c996b0");t.default=a.default},c08a49:function(e,t,r){},c3ce56:function(e,t,r){},c6da5c:function(e,t,r){"use strict";var a=r("1a22b7"),i=r.n(a),n=r("ad9050"),o=r("632666"),l=r("4355c3"),c="/shark/live/src/pages/roomPage/activity/newNobleAct/components/Panel/ranks/Hour.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a],n=Object.getOwnPropertyDescriptor(t,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,t))}var s=r("74c996").RANKCONFIG.HOUR,u=function RankItem(e){var t=e.el,r=void 0===t?{}:t,a=e.idx,n=e.isPromote,u=void 0===n?0:n,f=e.roomId,m=void 0===f?0:f,d=e.extClass,p=void 0===d?"":d,b=r.sc,_=void 0===b?0:b,v=r.rid,N=void 0===v?0:v,h=r.unn,y="\u7528\u6237\u699c\u7b2c1\uff1a"+((void 0===h?"":h)||"\u865a\u4f4d\u4ee5\u5f85"),g=[{colCont:i.a.createElement(o.RankIcon,{idx:a,isPromote:u,__source:{fileName:c,lineNumber:26},__self:void 0})},{colCont:i.a.createElement(l.default,{el:r,roomId:m,sub:y,__source:{fileName:c,lineNumber:27},__self:void 0})},{colCont:i.a.createElement("span",{className:"score",__source:{fileName:c,lineNumber:28},__self:void 0},parseInt(_/100,10)||"--")}],w=N&&N===m?"is-Anchor":"",P=N?"is-active":"";return i.a.createElement(o.RowLayout,{extClass:"RankItem "+p+" "+P+" "+w,layout:s.layout,cont:g,__source:{fileName:c,lineNumber:35},__self:void 0})},f=function(e){function App(){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,App);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return r.txtQuote=function(e){return i.a.createElement("span",{__source:{fileName:c,lineNumber:45},__self:t},"<",e,">")},r.rendertips=function(){var e=r.activeConfig.buff_setting,a=void 0===e?{}:e,n=a.prop_name,o=void 0===n?"--":n,l=a.buff_rate,s=void 0===l?0:l,u=a.buff_duration,f=s/100||"--",m=(void 0===u?0:u)/60||"--",d=i.a.createElement("span",{className:"color-f9dea4",__source:{fileName:c,lineNumber:52},__self:t},"<",o,">");return i.a.createElement("ul",{__source:{fileName:c,lineNumber:54},__self:t},i.a.createElement("li",{className:"dot",__source:{fileName:c,lineNumber:55},__self:t},"\u5c0f\u65f6\u699c\u7ed3\u7b97\u65f6\u6392\u540d\u7b2c1\u7684\u4e3b\u64ad\uff0c\u5176",r.txtQuote("\u623f\u95f4\u7528\u6237\u699c"),"\u7b2c1\u540d\u53ef\u83b7\u5f97",d,"\u9053\u5177"),i.a.createElement("li",{className:"dot",__source:{fileName:c,lineNumber:56},__self:t},"\u7528\u6237\u5728\u76f4\u64ad\u95f4\u4e2d\u9009\u62e9\u4f7f\u7528",d,"\u540e\uff0c\u623f\u95f4\u5185\u5f00\u542f",m,"\u5206\u949f",f,"\u500d\u65e5\u699cbuff\uff0c\u4f7f\u7528\u591a\u4e2a\u9053\u5177buff\u65f6\u95f4\u53ef\u53e0\u52a0\uff08\u6700\u591a\u4e0d\u8d85\u8fc7\u5f53\u592924\u70b9\uff09"),i.a.createElement("li",{className:"dot",__source:{fileName:c,lineNumber:57},__self:t},"buff\u751f\u6548\u671f\u95f4\u4efb\u610f\u7528\u6237\u5728\u751f\u6548\u623f\u95f4\u5185\u8d60\u9001\u793c\u7269\u90fd\u4eab\u53d7",r.txtQuote("\u4e3b\u64ad\u65e5\u699c"),f,"\u500d\u795e\u529b\u503c\u52a0\u6210\uff0c\u65e5\u699cbuff\u4e0d\u5f71\u54cd\u5c0f\u65f6\u699c\u7684\u6570\u503c\u3002"))},r.renderHourOffSeason=function(e,a){return 2===e?i.a.createElement("div",{className:"ActP153132-hourEnd",__source:{fileName:c,lineNumber:65},__self:t},i.a.createElement("p",{className:"ActP153132-stime",__source:{fileName:c,lineNumber:66},__self:t},"\u5c0f\u65f6\u699c\u5df2\u7ed3\u675f")):i.a.createElement("div",{className:"ActP153132-offSeason",__source:{fileName:c,lineNumber:71},__self:t},i.a.createElement("p",{className:"ActP153132-stime",__source:{fileName:c,lineNumber:72},__self:t},a.length>1?a[1]:"--","\u5f00\u542f\u5c0f\u65f6\u699c"),i.a.createElement("div",{className:"u-textdesc ActP153132-desc",__source:{fileName:c,lineNumber:73},__self:t},r.rendertips()))},r.renderSep=function(){var e=r.activeConfig.buff_setting,a=(void 0===e?{}:e).prop_name,n=void 0===a?"--":a,o=i.a.createElement("span",{className:"color-d9d5ff",__source:{fileName:c,lineNumber:83},__self:t},"<",n,">");return i.a.createElement("div",{key:-1,className:"RankSep ActP153132-hourSep",__source:{fileName:c,lineNumber:85},__self:t},"\u7ed3\u7b97\u65f6\u7b2c1\u540d\u4e3b\u64ad\u6210\u4e3a\u5c0f\u65f6\u699c\u4e3b",i.a.createElement("br",{__source:{fileName:c,lineNumber:86},__self:t}),"\u5176\u7528\u6237\u699c\u7b2c1\u540d\u83b7\u5f97buff\u9053\u5177",o,i.a.createElement("span",{className:"u-question",__source:{fileName:c,lineNumber:87},__self:t},i.a.createElement("div",{className:"ActP153132-questiontips",__source:{fileName:c,lineNumber:88},__self:t},i.a.createElement("div",{className:"u-textdesc",__source:{fileName:c,lineNumber:89},__self:t},r.rendertips()))))},r.renderRankBottom=function(){var e=r.props.rankData,a=void 0===e?{}:e,o=a.roomData,l=(void 0===o?{}:o)||{},s=l.nn,f=l.avatar,m=l.roomId,d=void 0===m?0:m,p=a.sourceData,b=void 0===p?{}:p,_=b.hrk,v=void 0===_?{}:_,N=b.utop,h=void 0===N?{}:N,y=v.rki,g=void 0===y?0:y,w=v.rkv,P=void 0===w?0:w,A=h.nn,k=void 0===A?"":A,E=Object(n.getRanking)({type:1,defaultName:"\u672a\u4e0a\u699c",ranking:g});return i.a.createElement(u,{extClass:"RankList-bottom",idx:E,roomId:d,el:{rid:d,nn:s,avatar:f,sc:P,unn:k},__source:{fileName:c,lineNumber:122},__self:t})},r.renderList=function(){var e=r.props.rankData,a=void 0===e?{}:e,n=a.reqData,o=void 0===n?{}:n,l=a.roomData,s=void 0===l?{}:l,f=o.hourRank,m=(void 0===f?{}:f).data,d=((void 0===m?{}:m)||{}).list,p=void 0===d?[]:d,b=(s||{}).roomId,_=p.length>0?0:10,v=Array.from({length:_}).fill({});return p.concat(v).map(function(e,a){var n=a<0?1:0;return 0===a?[r.renderSep(0),i.a.createElement(u,{key:a,idx:a+1,roomId:b,isPromote:n,el:e||{},__source:{fileName:c,lineNumber:144},__self:t})]:i.a.createElement(u,{key:a,idx:a+1,roomId:b,isPromote:n,el:e||{},__source:{fileName:c,lineNumber:145},__self:t})})},r.activeConfig={},r}return _inherits(App,e),App.prototype.render=function render(){var e=this.props.rankData,t=void 0===e?{}:e,r=t.hourType,a=void 0===r?0:r,n=t.hourRanktxt,l=void 0===n?[]:n,u=t.config,f=void 0===u?{}:u;this.activeConfig=f||{};var m=this.renderList(),d=this.renderRankBottom();return i.a.createElement("div",{className:"ActP153132-hourPanel",__source:{fileName:c,lineNumber:160},__self:this},1===a?i.a.createElement(o.RankList,{scrollHeight:256,rankList:m,config:s,rankBottom:d,__source:{fileName:c,lineNumber:163},__self:this}):this.renderHourOffSeason(a,l))},App}(i.a.Component);t.default=f},c996b0:function(e,t,r){"use strict";var a,i,n,o=r("1a22b7"),l=r.n(o),c=r("7ca7dc"),s=r("4de1e7"),u=r("285678"),f=r("b61e6b"),m=r("6f9bd5"),d=r("a0b874"),p=(r("ce2258"),"/shark/live/src/pages/roomPage/activity/newNobleAct/components/Bar/Underway/Underway.js");function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a],n=Object.getOwnPropertyDescriptor(t,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,t))}var b=(a=(0,c.default.Service)(s.default),i=function(e){function NewNobleActUnderway(){var t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NewNobleActUnderway);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=r=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),function _initDefineProp(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}(r,"commonActService",n,r),_possibleConstructorReturn(r,t)}return _inherits(NewNobleActUnderway,e),NewNobleActUnderway.prototype.handlerData=function handlerData(e){var t=e.disp,r=void 0===t?{}:t,a=e.drk,i=e.hrk,n=e.buff,o=e.utop,l=e.pwin,c=e.curRid,s=e.avatar,u=e.nobleShow,f=e.hourStart,m=e.hourEnd,d=r.day,p=void 0===d?1:d,b={curRid:c,utop:o,pwin:l,nobleShow:u,hour:r.hour};return{headData:{hs:this.commonActService.getName(p),day:p},dayData:{drk:a,buff:n,avatar:s},hourData:{disp:r,hrk:i,hourStart:f,hourEnd:m},userData:this.handlerUserData(b)}},NewNobleActUnderway.prototype.handlerUserData=function handlerUserData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.curRid,r=e.utop,a=e.pwin,i=void 0===a?{}:a,n=e.nobleShow,o=e.hour>=n,l=i.user,c=void 0===l?{}:l,s=i.room,u=void 0===s?{}:s,f=i.sn,m=u.rid,d=u.nn,p=this.commonActService.getName(f),b=o||!p?r:c;return{isFirst:o,curRid:t,rid:m,anchor:d,nickname:b.nn,url:b.avatar,hs:p,sn:f}},NewNobleActUnderway.prototype.render=function render(){var e=this.handlerData(this.props.data),t=e.headData,r=e.dayData,a=e.hourData,i=e.userData;return l.a.createElement("div",{__source:{fileName:p,lineNumber:64},__self:this},l.a.createElement(u.default,{data:t,__source:{fileName:p,lineNumber:65},__self:this}),l.a.createElement(f.default,{data:r,__source:{fileName:p,lineNumber:66},__self:this}),l.a.createElement(m.default,{data:a,__source:{fileName:p,lineNumber:67},__self:this}),l.a.createElement(d.default,{data:i,__source:{fileName:p,lineNumber:68},__self:this}))},NewNobleActUnderway}(l.a.Component),n=function _applyDecoratedDescriptor(e,t,r,a,i){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(i.prototype,"commonActService",[a],{enumerable:!0,initializer:null}),i);t.default=b},ccb752:function(e,t,r){},ce2258:function(e,t,r){},d1db8c:function(e,t){e.exports=playerSDK2da5b1f3a3deccaa435b},d3d7ab:function(e,t,r){},daab34:function(e,t,r){"use strict";var a,i,n,o,l,c,s,u,f,m=r("97a1f0"),d=r("7ca7dc"),p=r("eb3e22"),b=r("8dd4e6"),_=r("ffca33"),v=r("8ddf9c"),N=r.n(v),h=r("ad9050"),y=r("4de1e7"),g=r("e849dc"),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};function _initDefineProp(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a],n=Object.getOwnPropertyDescriptor(t,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,a,i){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var P=d.default.Service,A={reqState:0,reqTimes:0,isLoop:0,minNum:20,maxNum:20,frequency:10,continue_max_time:600,data:{},rankList:[],handleData:{}},k=(a=P(p.DataCenter.common),i=P(p.DataCenter.global),n=P(g.default),o=P(y.default),l=function(e){function PanelServices(){var t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PanelServices);for(var a=arguments.length,i=Array(a),n=0;n<a;n++)i[n]=arguments[n];return t=r=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),_initDefineProp(r,"common",c,r),_initDefineProp(r,"global",s,r),_initDefineProp(r,"actToolsServices",u,r),_initDefineProp(r,"commonActService",f,r),r.roomId=parseInt(r.global.get("$ROOM.room_id"),10),r.uid=parseInt(r.global.get("USER_INFO.uid"),10),r.config={mouseEnterTimer:null,rankLoopTimer:null,showPanelTimes:0,defaultConfig:{name:"\u865a\u4f4d\u4ee5\u5f85",value:"--",avatar:N.a,giftImg:""},urls:{god:"/lapi/interact/actSuperNoble/getWinnerList",rank:"/lapi/interact/polling/actSuperNobleAnchorRank",user:"/lapi/interact/actSuperNoble/userRank"}},r.state={ztPage:"https://www.douyu.com/topic/SupremeDivinity",roomData:null,config:null,hourRanktxt:["\u4f11\u8d5b\u671f","--","\u5df2\u7ed3\u675f"],stage:0,day:1,hour:0,isShowPanel:!1,sliderIndex:0,tabIndex:1,sourceData:{},pushData:{},reqData:{god:Object.assign({},A),user:Object.assign({},A),hourRank:Object.assign({},A,{maxNum:30,type:2,isLoop:1}),dayRank:Object.assign({},A,{maxNum:30,type:1,isLoop:1})}},_possibleConstructorReturn(r,t)}return _inherits(PanelServices,e),PanelServices.prototype.init=function init(e){var t=this;this.initConfig(e),this.commonActService.$stream.subscribe(function(e){var r=Object.assign({},e);t.state.sourceData=Object.assign({},t.state.sourceData,r),t.handlePushData(r),t.updateApp()})},PanelServices.prototype.handlePushData=function handlePushData(e){var t=this.state.reqData,r=void 0===t?{}:t,a=this.state,i=a.hour,n=a.day,o=e||{},l=o.stage,c=void 0===l?0:l,s=o.disp,u=void 0===s?{}:s,f=u.day,m=void 0===f?1:f,d=u.hour,p=void 0===d?0:d,b=u.hrks,_=void 0===b?0:b,v=i!==+p,N=n!==+m;this.updateView({stage:c,day:+m,hour:+p||0,hourType:+_}),2!==c&&this.updateView({isShowPanel:!1}),v&&(r.hourRank.data=Object.assign({},{list:[]}),this.reStartRankLoop()),N&&(r.dayRank.data=Object.assign({},{list:[]}),this.reStartRankLoop())},PanelServices.prototype.reStartRankLoop=function reStartRankLoop(){this.config.showPanelTimes=(new Date).getTime()},PanelServices.prototype.handleHourRankTxt=function handleHourRankTxt(){var e=this.state.config,t=((void 0===e?{}:e)||{}).hrk_time,r=void 0===t?[]:t,a=r.length>0?Object(h.leading0)(r[0]):0,i=r.length>0?Object(h.leading0)((r[r.length-1]+1)%24):0;this.updateView({hourRanktxt:["\u4f11\u8d5b\u671f",a+":00~"+i+":00","\u5df2\u7ed3\u675f"]})},PanelServices.prototype.initConfig=function initConfig(e){var t=this.config;this.config=Object.assign({},w({},t,e))},PanelServices.prototype.updateApp=function updateApp(){var e=this.config||{};"function"===typeof e.updatePanel&&e.updatePanel(this.state)},PanelServices.prototype.updateState=function updateState(e){if(e){var t=this.state;this.state=Object.assign({},w({},t,e))}},PanelServices.prototype.updateView=function updateView(e){e&&"function"===typeof this.config.updatePanel&&(this.updateState(e),this.config.updatePanel(this.state))},PanelServices.prototype.togglePanel=function togglePanel(e){var t=this,r=this.state.stage;2===+(void 0===r?0:r)&&(e?(this.state.config&&this.state.roomData?this.getInitData():this.getAppConfig(),clearTimeout(this.config.mouseEnterTimer)):this.config.mouseEnterTimer=setTimeout(function(){t.updateView({isShowPanel:!1})},500))},PanelServices.prototype.configFlow=function configFlow(){return Object(_.default)({type:"jsonp",url:"//webconf.douyucdn.cn/resource/common/activity/acthsgz_w.json",callbackName:"acthsgz_m"})},PanelServices.prototype.getAppConfig=function getAppConfig(){var e=this;this.configFlow().subscribe(function(t){var r=t.data?m.GSON.parse(t.data):{};e.common.get("$DATA").subscribe(function(t){var a=t&&t.room||{};e.updateView({config:r,roomData:{uid:e.uid,roomId:e.roomId,nn:a&&a.nickname||"--",avatar:a&&a.avatar_mid||N.a,defaultAvatar:N.a}}),e.handleHourRankTxt()}),e.getInitData()})},PanelServices.prototype.getInitData=function getInitData(){this.state.isShowPanel||(this.config.showPanelTimes=(new Date).getTime(),this.checkIsNeedUpdateRankData(),this.locationTab(),this.switchRankLoop(),this.updateView({isShowPanel:!0}))},PanelServices.prototype.togglePanelTab=function togglePanelTab(e){e>0&&+e!==this.state.tabIndex&&(this.state.tabIndex=+e,this.config.showPanelTimes=(new Date).getTime(),this.checkIsNeedUpdateRankData(),this.updateView({tabIndex:e}))},PanelServices.prototype.toggleSlider=function toggleSlider(e){e>=0&&+e!==this.state.sliderIndex&&(this.state.sliderIndex=+e,this.updateView({sliderIndex:e}))},PanelServices.prototype.locationTab=function locationTab(){var e=this.state,t=e.hourType,r=void 0===t?0:t,a=e.day,i=void 0===a?1:a,n=1===r?1:2;this.togglePanelTab(n);var o=+i>3?1:0;this.toggleSlider(o)},PanelServices.prototype.isOverTime=function isOverTime(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.state.reqData,a=(void 0===r?{}:r)[e];if(!a)return!1;var i=(new Date).getTime(),n=this.config.showPanelTimes,o=a.reqTimes,l=void 0===o?0:o,c=a.isLoop,s=void 0===c?0:c,u=a.frequency,f=void 0===u?10:u,m=a.continue_max_time;return!(t&&l>0)&&(s?i-l>=1e3*f&&i-n<1e3*(void 0===m?600:m):i-l>=5e3)},PanelServices.prototype.switchRankLoop=function switchRankLoop(){var e=this;if(this.config.rankLoopTimer)return this.config.rankLoopTimer;var t=Object(b.timer)(1e3,3e3);return this.config.rankLoopTimer=t.subscribe(function(){e.state.isShowPanel&&e.checkIsNeedUpdateRankData("loop")}),this.config.rankLoopTimer},PanelServices.prototype.checkIsNeedUpdateRankData=function checkIsNeedUpdateRankData(e){var t=this.state,r=t.tabIndex,a=t.day,i=void 0===a?1:a,n=t.hourType,o=void 0===n?0:n;i<=0||(1===r&&this.isOverTime("hourRank")&&1===o&&this.reqRankData("hourRank"),2===r&&this.isOverTime("dayRank")&&this.reqRankData("dayRank"),"loop"!==e&&(this.isOverTime("god")&&this.reqRankData("god"),this.isOverTime("user")&&3===r&&i>=1&&i<=6&&this.reqRankData("user")))},PanelServices.prototype.returnReqParam=function returnReqParam(e){var t=this.config.urls,r=this.state,a=r.reqData,i=void 0===a?{}:a,n=r.day,o=void 0===n?0:n,l=r.hour,c=void 0===l?0:l,s=(i[e]||{}).type,u=void 0===s?0:s;switch(e){case"god":return{url:t[e],config:{cacheTimeout:5e3}};case"user":return{url:t[e],data:{rid:this.roomId,day:o},config:{cacheTimeout:5e3}};case"hourRank":case"dayRank":return{url:t.rank,data:{type:u,day:o,hour:"hourRank"===e?c:0},config:{cacheTimeout:5e3}};default:return null}},PanelServices.prototype.reqRankData=function reqRankData(e){var t=this,r=this.state.reqData,a=void 0===r?{}:r,i=this.returnReqParam(e),n=a[e]||{};if(i){if(1===n.reqState)return!1;var o=i.url,l=i.data,c=i.config;return n.reqState=1,Object(_.default)(w({type:"get",url:o,data:l},c)).subscribe(function(r){n.reqState=0,n.reqTimes=(new Date).getTime();var a=r||{};if(0===+a.error&&a.data){var i=void 0;i="string"===typeof a.data?m.GSON.parse(a.data):a.data,t.reqDataCB(i,e)}}),!1}return!1},PanelServices.prototype.reqDataCB=function reqDataCB(e,t){var r=this.state.reqData,a=void 0===r?{}:r;if(a[t]){if(a[t].data=e||{},"god"===t){var i=e.list,n=void 0===i?[]:i;a[t].handleData=this.handleGodData(n)}var o=e.poll_setting,l=void 0===o?{}:o;l.frequency&&l.continue_max_time&&(a[t].frequency=l.frequency,a[t].continue_max_time=l.continue_max_time),this.updateView({reqData:a})}},PanelServices.prototype.handleGodData=function handleGodData(e){var t={};return(e||[]).forEach(function(e){return t[e.sn]=e}),t},PanelServices}(m.Service),c=_applyDecoratedDescriptor(l.prototype,"common",[a],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(l.prototype,"global",[i],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(l.prototype,"actToolsServices",[n],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(l.prototype,"commonActService",[o],{enumerable:!0,initializer:null}),l);t.default=k},e2f66c:function(e,t,r){"use strict";var a=r("1a22b7"),i=r.n(a),n=r("a0b874"),o=(r("0fc6c1"),"/shark/live/src/pages/roomPage/activity/newNobleAct/components/Bar/Review/Review.js");t.default=function NewNobleActRev(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=e.hs,r=e.sn,a=e.ztPageUrl,l=e.curRid,c=e.nobleShow,s=e.user,u=void 0===s?{}:s,f=e.room,m=void 0===f?{}:f,d=u.nn,p=u.avatar,b=m.rid,_=m.nn,v=(new Date).getHours()<c&&t,N={isFirst:!1,sn:r,curRid:l,rid:b,nickname:d,url:p,anchor:_,hs:t};return i.a.createElement("div",{className:"NewNobleActRev",__source:{fileName:o,lineNumber:28},__self:void 0},i.a.createElement("a",{className:"NewNobleActRev-head"+(v?" is-last":""),href:a,target:"_blank",__source:{fileName:o,lineNumber:29},__self:void 0}),v?i.a.createElement(n.default,{data:N,__source:{fileName:o,lineNumber:36},__self:void 0}):"")}},e60838:function(e,t,r){"use strict";var a,i,n,o,l,c=r("1a22b7"),s=r.n(c),u=r("7ca7dc"),f=r("eeb9b8"),m=r("4de1e7"),d=(r("ccb752"),"/shark/live/src/pages/roomPage/activity/newNobleAct/components/Bar/Hour/Hour.js");function _initDefineProp(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a],n=Object.getOwnPropertyDescriptor(t,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,a,i){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var p=u.default.Service,b=(a=p(f.default),i=p(m.default),n=function(e){function NewNobleActHour(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NewNobleActHour);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"barService",o,t),_initDefineProp(t,"commonActService",l,t),t.state={time:"--:--"},t}return _inherits(NewNobleActHour,e),NewNobleActHour.prototype.componentDidMount=function componentDidMount(){var e=this;this.commonActService.$stream.subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).disp||{},r=t.hrkt,a=t.hrks;e.updateTime(r,a)})},NewNobleActHour.prototype.updateTime=function updateTime(e,t){var r=this;if(1===+t){var a=e;this.setState({time:this.getTime(a)}),this.timer&&clearInterval(this.timer),this.timer=setInterval(function(){(a-=1)>=0?r.setState({time:r.getTime(a)}):(clearInterval(r.timer),r.timer=null)},1e3)}else clearInterval(this.timer),this.timer=null},NewNobleActHour.prototype.getTime=function getTime(e){if(e>0){var t=parseInt(e/60,10),r=e%60;return(t<10?"0"+t:t)+":"+(r<10?"0"+r:r)}return"00:00"},NewNobleActHour.prototype.getHtml=function getHtml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disp,r=void 0===t?{}:t,a=e.hrk,i=void 0===a?{}:a,n=r.hrks,o=i.rki,l=i.rkd,c=this.barService.getRanking({type:1,defaultVal:"\u672a\u4e0a\u699c",ranking:o}),u=parseInt(l/100,10);return 2===+n?s.a.createElement("div",{className:"NewNobleActHour-txt",__source:{fileName:d,lineNumber:86},__self:this},"\u5df2\u7ed3\u675f"):1===+n?parseInt(c,10)>0?s.a.createElement("div",{className:"NewNobleActHour-txt is-rank",__source:{fileName:d,lineNumber:91},__self:this},s.a.createElement("div",{className:"NewNobleActHour-rank",__source:{fileName:d,lineNumber:92},__self:this},"\u6392\u540d:",c),s.a.createElement("div",{className:"NewNobleActHour-line",__source:{fileName:d,lineNumber:93},__self:this}),s.a.createElement("div",{__source:{fileName:d,lineNumber:94},__self:this},1===c?"\u9886\u5148\u7b2c2\u540d":"\u843d\u540e\u7b2c1\u540d"),s.a.createElement("div",{__source:{fileName:d,lineNumber:95},__self:this},u)):s.a.createElement("div",{className:"NewNobleActHour-txt NewNobleActHour-yellow",__source:{fileName:d,lineNumber:99},__self:this},"\u672a\u4e0a\u699c"):s.a.createElement("div",{className:"NewNobleActHour-txt",__source:{fileName:d,lineNumber:103},__self:this},s.a.createElement("div",{__source:{fileName:d,lineNumber:104},__self:this},"\u699c\u4e3b\u7528\u6237\u699c1"),s.a.createElement("div",{__source:{fileName:d,lineNumber:105},__self:this},"\u83b7\u5f97",s.a.createElement("span",{className:"NewNobleActHour-yellow",__source:{fileName:d,lineNumber:105},__self:this},"buff\u9053\u5177")))},NewNobleActHour.prototype.getHead=function getHead(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disp,r=void 0===t?{}:t,a=e.hourStart,i=e.hourEnd,n=r.hrks,o=r.hour;return s.a.createElement("div",{className:"NewNobleActHour-head",__source:{fileName:d,lineNumber:114},__self:this},s.a.createElement("div",{className:"NewNobleActHour-yellow "+(2===+n?"is-last":""),__source:{fileName:d,lineNumber:115},__self:this},1===+n?o+"\u70b9\u4e3b\u64ad\u699c":"\u4e3b\u64ad\u5c0f\u65f6\u699c"),n>0?s.a.createElement("div",{__source:{fileName:d,lineNumber:118},__self:this},1===+n?"("+this.state.time+")":""):s.a.createElement("div",{__source:{fileName:d,lineNumber:119},__self:this},a,"\u70b9~",i,"\u70b9\u5f00\u542f"))},NewNobleActHour.prototype.render=function render(){var e=this.props.data;return s.a.createElement("div",{className:"NewNobleActHour",__source:{fileName:d,lineNumber:129},__self:this},this.getHead(e),s.a.createElement("div",{className:"NewNobleActHour-content",__source:{fileName:d,lineNumber:131},__self:this},this.getHtml(e)))},NewNobleActHour}(s.a.Component),o=_applyDecoratedDescriptor(n.prototype,"barService",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(n.prototype,"commonActService",[i],{enumerable:!0,initializer:null}),n);t.default=b},e849dc:function(e,t,r){e.exports=r("5f575e")("24613")},e93b49:function(e,t,r){"use strict";var a,i,n,o,l,c,s,u=r("1a22b7"),f=r.n(u),m=r("7ca7dc"),d=r("eb3e22"),p=r("4de1e7"),b=r("daab34"),_=r("332271"),v=r("ec9feb"),N=r("ecfc57"),h=(r("307213"),"/shark/live/src/pages/roomPage/activity/newNobleAct/components/index.js");function _initDefineProp(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a],n=Object.getOwnPropertyDescriptor(t,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,a,i){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var y=m.default.Service,g=(a=y(p.default),i=y(b.default),n=y(d.DataCenter.common),o=function(e){function NewNobleAct(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NewNobleAct);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"commonActServices",l,t),_initDefineProp(t,"actPanelServices",c,t),_initDefineProp(t,"common",s,t),t.state={isZoomIn:!1,offsetTop:150,isStart:!1},t.modal=f.a.createRef(),t.toggleZoomSwitch=t.toggleZoomSwitch.bind(t),t}return _inherits(NewNobleAct,e),NewNobleAct.prototype.componentDidMount=function componentDidMount(){this.commonActServices.init()},NewNobleAct.prototype.toggleZoomSwitch=function toggleZoomSwitch(){var e=this.state.isZoomIn;this.setState({isZoomIn:!e})},NewNobleAct.prototype.startAct=function startAct(){this.setState({isStart:!0})},NewNobleAct.prototype.endAct=function endAct(){this.setState({isStart:!1})},NewNobleAct.prototype.moveEvent=function moveEvent(e){var t=e||{};this.setState({offsetTop:t.top})},NewNobleAct.prototype.updateBarClass=function updateBarClass(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e!==this.state.barClass&&this.setState({barClass:e})},NewNobleAct.prototype.render=function render(){var e=this;return f.a.createElement("div",{className:"NewNobleAct ActBase "+(this.state.isStart?"is-show":"")+" "+(this.state.isZoomIn?"is-mini":"")+" "+(this.state.barClass||""),style:{top:this.state.offsetTop},ref:this.modal,__source:{fileName:h,lineNumber:75},__self:this},f.a.createElement("div",{className:"ActBase-switchWrap",__source:{fileName:h,lineNumber:81},__self:this},f.a.createElement("span",{className:"ActBase-switch",onClick:this.toggleZoomSwitch,__source:{fileName:h,lineNumber:82},__self:this})),f.a.createElement(_.default,{styleName:"NewNobleActBar-logo",isSupportY:!0,isParentsMove:!0,dragEvent:this.moveEvent.bind(this),modal:this.modal,__source:{fileName:h,lineNumber:86},__self:this}),f.a.createElement("div",{className:"NewNobleActBar ActBase-bar",onMouseEnter:function onMouseEnter(t){"NewNobleActTips"!==t.target.className&&e.actPanelServices.togglePanel(1)},onMouseLeave:function onMouseLeave(){return e.actPanelServices.togglePanel(0)},__source:{fileName:h,lineNumber:93},__self:this},f.a.createElement(v.default,{startAct:this.startAct.bind(this),endAct:this.endAct.bind(this),updateBarClass:this.updateBarClass.bind(this),__source:{fileName:h,lineNumber:101},__self:this})),f.a.createElement("div",{className:"Act153132Rank ActBase-rank",__source:{fileName:h,lineNumber:107},__self:this},f.a.createElement(N.default,{__source:{fileName:h,lineNumber:108},__self:this})))},NewNobleAct}(f.a.Component),l=_applyDecoratedDescriptor(o.prototype,"commonActServices",[a],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(o.prototype,"actPanelServices",[i],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"common",[n],{enumerable:!0,initializer:null}),o);t.default=g},eb3e22:function(e,t,r){e.exports=r("d1db8c")("e55c4")},ec9feb:function(e,t,r){"use strict";var a,i,n,o=r("1a22b7"),l=r.n(o),c=r("7ca7dc"),s=r("4de1e7"),u=r("f6df06"),f=r("c00b76"),m=r("487d37"),d="/shark/live/src/pages/roomPage/activity/newNobleAct/components/Bar/Bar.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),a=0;a<r.length;a++){var i=r[a],n=Object.getOwnPropertyDescriptor(t,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,t))}var p=(a=(0,c.default.Service)(s.default),i=function(e){function NewNobleActBar(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NewNobleActBar);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}(t,"commonActService",n,t),t.state={isZoomIn:!1,data:{}},t.config={executeOnce:!1},t}return _inherits(NewNobleActBar,e),NewNobleActBar.prototype.componentDidMount=function componentDidMount(){var e=this;this.commonActService.$stream.subscribe(function(t){e.setState({data:t})})},NewNobleActBar.prototype.componentWillUnmount=function componentWillUnmount(){this.commonActService.$stream.complete()},NewNobleActBar.prototype.chooseComponent=function chooseComponent(e){var t=(e||{}).stage;switch(this.props.updateBarClass(2===t?"is-underway":""),t){case 1:return l.a.createElement(u.default,{data:e,__source:{fileName:d,lineNumber:46},__self:this});case 2:return l.a.createElement(f.default,{data:e,__source:{fileName:d,lineNumber:48},__self:this});case 3:return l.a.createElement(m.default,{data:e,__source:{fileName:d,lineNumber:50},__self:this});default:return null}},NewNobleActBar.prototype.render=function render(){var e=this,t=this.config,r=this.state.data||{};return!t.executeOnce&&r.isInit&&(t.executeOnce=!0,setTimeout(function(){e.props.startAct()},100)),l.a.createElement("div",{className:"NewNobleActBar",__source:{fileName:d,lineNumber:68},__self:this},this.chooseComponent(r))},NewNobleActBar}(l.a.Component),n=function _applyDecoratedDescriptor(e,t,r,a,i){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(i.prototype,"commonActService",[a],{enumerable:!0,initializer:null}),i);t.default=p},ecfc57:function(e,t,r){"use strict";var a=r("2ce08c");t.default=a.default},eeb9b8:function(e,t,r){e.exports=r("5f575e")("aa9da")},f2b8b7:function(e,t,r){e.exports=r("5f575e")("7d4e5")},f6df06:function(e,t,r){"use strict";var a=r("9b12cd");t.default=a.default},ffca33:function(e,t,r){e.exports=r("5f575e")("66581")}},[["bfb376","common-pre"]]]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/newNobleAct_be35e3f.js.map
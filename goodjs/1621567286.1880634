YUI.add("querystring-stringify",function(e,t){var n=e.namespace("QueryString"),r=[],i=e.Lang;n.escape=encodeURIComponent,n.stringify=function(e,t,s){var o,u,a,f,l,c,h=t&&t.sep?t.sep:"&",p=t&&t.eq?t.eq:"=",d=t&&t.arrayKey?t.arrayKey:!1;if(i.isNull(e)||i.isUndefined(e)||i.isFunction(e))return s?n.escape(s)+p:"";if(i.isBoolean(e)||Object.prototype.toString.call(e)==="[object Boolean]")e=+e;if(i.isNumber(e)||i.isString(e))return n.escape(s)+p+n.escape(e);if(i.isArray(e)){c=[],s=d?s+"[]":s,f=e.length;for(a=0;a<f;a++)c.push(n.stringify(e[a],t,s));return c.join(h)}for(a=r.length-1;a>=0;--a)if(r[a]===e)throw new Error("QueryString.stringify. Cyclical reference");r.push(e),c=[],o=s?s+"[":"",u=s?"]":"";for(a in e)e.hasOwnProperty(a)&&(l=o+a+u,c.push(n.stringify(e[a],t,l)));return r.pop(),c=c.join(h),!c&&s?s+"=":c}},"3.16.0",{requires:["yui-base"]});
YUI.add("better-cache",function(e){function c(e,c){return e.score<c.score?-1:e.score>c.score?1:0}function t(){var e,t,o;for(r.sort(c),u={},r.length>n&&(o=r.shift()).callback&&o.callback(),e=r.length,t=0;t<e;t++)u[r[t].key]=t}var n,r=[],o=0,u={};n=e.config.flickr.better_cache_size||100,e.betterCache={reset:function(){r=[],o=0,u={}},_cache:r,getSize:function(){return r.length},unset:function(e){var c=u[e];void 0!==c&&(r.splice(c,1),t())},set:function(e,c,n){var a;!1!==c?((a=!!u[e]&&r[u[e]])?(r[u[e]].value=c,r[u[e]].score=o++,"function"==typeof n&&(a.callback=n)):(a={key:e,value:c,score:o++},"function"==typeof n&&(a.callback=n),r.push(a)),t()):this.unset(e)},get:function(e){return"number"==typeof u[e]?(r[u[e]].score=++o,r[u[e]].value):null}}},"@VERSION@");YUI.add("datatype-xml-parse",function(e,t){e.mix(e.namespace("XML"),{parse:function(t){var n=null,r;return typeof t=="string"&&(r=e.config.win,r.ActiveXObject!==undefined?(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t)):r.DOMParser!==undefined?n=(new DOMParser).parseFromString(t,"text/xml"):r.Windows!==undefined&&(n=new Windows.Data.Xml.Dom.XmlDocument,n.loadXml(t))),n===null||n.documentElement===null||n.documentElement.nodeName==="parsererror",n}}),e.namespace("Parsers").xml=e.XML.parse,e.namespace("DataType"),e.DataType.XML=e.XML},"3.16.0");
YUI.add("io-xdr",function(e,t){function a(e,t,n){var r='<object id="io_swf" type="application/x-shockwave-flash" data="'+e+'" width="0" height="0">'+'<param name="movie" value="'+e+'">'+'<param name="FlashVars" value="yid='+t+"&uid="+n+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",i=s.createElement("div");s.body.appendChild(i),i.innerHTML=r}function f(t,n,r){return n==="flash"&&(t.c.responseText=decodeURI(t.c.responseText)),r==="xml"&&(t.c.responseXML=e.DataType.XML.parse(t.c.responseText)),t}function l(e,t){return e.c.abort(e.id,t)}function c(e){return u?i[e.id]!==4:e.c.isInProgress(e.id)}var n=e.publish("io:xdrReady",{fireOnce:!0}),r={},i={},s=e.config.doc,o=e.config.win,u=o&&o.XDomainRequest;e.mix(e.IO.prototype,{_transport:{},_ieEvt:function(e,t){var n=this,r=e.id,s="timeout";e.c.onprogress=function(){i[r]=3},e.c.onload=function(){i[r]=4,n.xdrResponse("success",e,t)},e.c.onerror=function(){i[r]=4,n.xdrResponse("failure",e,t)},e.c.ontimeout=function(){i[r]=4,n.xdrResponse(s,e,t)},e.c[s]=t[s]||0},xdr:function(t,n,i){var s=this;return i.xdr.use==="flash"?(r[n.id]=i,o.setTimeout(function(){try{n.c.send(t,{id:n.id,uid:n.uid,method:i.method,data:i.data,headers:i.headers})}catch(e){s.xdrResponse("transport error",n,i),delete r[n.id]}},e.io.xdr.delay)):u?(s._ieEvt(n,i),n.c.open(i.method||"GET",t),setTimeout(function(){n.c.send(i.data)},0)):n.c.send(t,n,i),{id:n.id,abort:function(){return n.c?l(n,i):!1},isInProgress:function(){return n.c?c(n.id):!1},io:s}},xdrResponse:function(e,t,n){n=r[t.id]?r[t.id]:n;var s=this,o=u?i:r,a=n.xdr.use,l=n.xdr.dataType;switch(e){case"start":s.start(t,n);break;case"success":s.success(f(t,a,l),n),delete o[t.id];break;case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e};case"failure":s.failure(f(t,a,l),n),delete o[t.id]}},_xdrReady:function(t,r){e.fire(n,t,r)},transport:function(t){t.id==="flash"&&(a(e.UA.ie?t.src+"?d="+(new Date).valueOf().toString():t.src,e.id,t.uid),e.IO.transports.flash=function(){return s.getElementById("io_swf")})}}),e.io.xdrReady=function(t,n){var r=e.io._map[n];e.io.xdr.delay=0,r._xdrReady.apply(r,[t,n])},e.io.xdrResponse=function(t,n,r){var i=e.io._map[n.uid];i.xdrResponse.apply(i,[t,n,r])},e.io.transport=function(t){var n=e.io._map["io:0"]||new e.IO;t.uid=n._uid,n.transport.apply(n,[t])},e.io.xdr={delay:100}},"3.16.0",{requires:["io-base","datatype-xml-parse"]});
YUI.add("page-title-helper",function(e){e.pageTitleHelper=function(r){var i="Flickr";return e.Lang.isString(r)&&(r=r.trim())&&(i=r+" | "+i),i}},"@VERSION@",{requires:[]});YUI.add("flickr-route",function(r,e){var t=require("hermes-core/flog")(e),a=require("hermes-core/type-validator");r.Routes=r.Routes||{},r.FlickrRoute=function(r){this.appContext=r},r.FlickrRoute.prototype={run:function(){},setRouteDataOnHistory:function(e,t){return r.HistoryHelper.setData(this.name,e,t)},getRouteDataFromHistory:function(e){return r.HistoryHelper.getData(this.name,e)},getRouteMetaValue:function(r,e){return this.appContext.routeConfig.meta?e?this.appContext.routeConfig.meta[r]?this.appContext.routeConfig.meta[r]:e:this.appContext.routeConfig.meta[r]?this.appContext.routeConfig.meta[r]:null:null},displayServerErrorOrClientRedirect:function(e,t,a){return YUI.Env.isServer?this.displayRouteErrors(e,new r.RouteError(404,t)):r.Promise.resolve({redirect:a||e.url})},detectRouteErrors:function(){return r.Array(arguments).filter(function(e,t){return e instanceof r.RouteError}).sort(function(r,e){return r.type-e.type})},displayRouteErrors:function(e,t){var a=r.Lang.isArray(t)?t[0]:t;return r.Promise.resolve(this["display"+a.type+"Error"](e,a))},display500Error:function(e,a){var i,o,s;return i={view:"error-500-page-view",params:{},headers:{statusCode:500},layout:"maximized"},(r.config.flickr.error.show_debugging_info||e.isInsecureGod||this.appContext&&this.appContext.auth&&this.appContext.auth.isInsecureGod)&&(i.params.source="flickrRoute#display500Error",i.params.message=a.message,i.params.stack=a.stack,i.params.apiMethod=a.apiMethod),YUI.Env.isServer||(i.params.message=a.message,i.params.apiMethod=a.apiMethod),e.id&&(i.params.requestID=e.id),a&&"SiteAuth"===a.type&&(a.redirect?(o=YUI.Env.isServer?e.protocol+"://"+e.hostname+e.originalUrl:e.url,s=r.url("/siteauth/?redirect_url="+encodeURIComponent(o)),YUI.Env.isServer&&t.info("Redirecting to siteauth",{production:YUI.Env.production}),i={redirect:s}):YUI.Env.isServer&&(i.params.siteAuthFailure=!0)),void 0===i.redirect?t.info("render",{status:500,req:e,err:a,isBot:this.appContext.getUA().isBot}):t.info("redirect",{status:302,req:e,location:i.redirect,isBot:this.appContext.getUA().isBot}),i},display303Error:function(r,e){return{redirect:e.options.redirect,headers:{statusCode:303}}},display403Error:function(r,e){return this.displayStandardErrorPage(r,e,403)},display404Error:function(r,e){return e=e||new Error("404"),t.info("render",{status:404,url:r.url,err:e,isBot:this.appContext.getUA().isBot}),this.displayStandardErrorPage(r,e,404)},display410Error:function(r,e){return this.displayStandardErrorPage(r,e,410)},displayStandardErrorPage:function(e,t,a){var i;return t=t||{},i={view:"fluid-error-page-view",params:{statusCode:a,url:e.url,message:t.message,catchAll:t.catchAll||!1},headers:{statusCode:a}},t.data&&(i.params=r.merge(i.params,t.data)),(r.config.flickr.error.show_debugging_info||e.isInsecureGod||this.appContext&&this.appContext.auth&&this.appContext.auth.isInsecureGod)&&(i.params.source="flickrRoute#display"+a+"Error",i.params.message=t.message),e.id&&(i.params.requestID=e.id),i},getPageNumber:function(r,e){var t=parseInt(r.params[e||"page_number"],10);return(isNaN(t)||t<=1)&&(t=1),t},getNSIDOrPathAlias:function(r){var e;return a.nsid(r)?e=r:a.pathAlias(r)?e={pathAlias:r}:t.warn("Couldn't identify "+r+" as an nsid or path alias."),e}},r.RouteError=function(r,e,t){this.type=r,this.message=e||"",this.data=t||{}}},"@VERSION@",{requires:["flickr-promise","moment","url","history-helper"]});YUI.add("site-key",function(e,t){"use strict";var i=require("hermes-core/flog")(t),r=require("hermes-core/fletrics");e.SiteKey=function(t,i){this.configurator=t||null,this.flickrAPI=i||new e.FlickrAPI,this._tasks=[]},e.SiteKey.prototype.getKey=function(){return e.config.flickr.api.site_key},e.SiteKey.prototype.isExpired=function(){return Date.now()/1e3>e.config.flickr.api.site_key_expiresAt},e.SiteKey.prototype.invalidate=function(e){var t=this._lastStored||0;if(e||(e=0),!(e<t))return this.setExpired()},e.SiteKey.prototype.setExpired=function(){return e.config.flickr.api.site_key_expiresAt=0},e.SiteKey.prototype.store=function(t,i){var r;this._lastStored=Date.now(),i||(i=Math.floor(this._lastStored/1e3)),e.config.flickr.api.site_key=t,e.config.flickr.api.site_key_fetched=i,e.config.flickr.api.site_key_expiresAt=e.config.flickr.api.site_key_fetched+e.config.flickr.api.site_key_fetch_interval,this.configurator&&((r={}).site_key=t,r.site_key_fetched=i,this.configurator.update({api:r})),this.drainQueue()},e.SiteKey.prototype.setTrustedKey=function(e){this._trustedKey=e},e.SiteKey.prototype.getTrustedKey=function(){return this._trustedKey||null},e.SiteKey.prototype.pushToQueue=function(e){this._tasks.push(e)},e.SiteKey.prototype.drainQueue=function(){for(;this._tasks.length;)this._tasks.shift().resolve()},e.SiteKey.prototype.hasQueuedTasks=function(){return!!this._tasks.length},e.SiteKey.prototype.scheduleFutureFetch=function(){this._timerFutureFetch=setTimeout(this.fetch.bind(this),1e3*e.config.flickr.api.site_key_fetch_interval)},e.SiteKey.prototype.scheduleRetry=function(t){var i=this,r=this._fetchRuns>4?1:Math.pow(2,(this._fetchRuns||1)-1)/10,s=e.config.flickr.api.site_key_retry_interval*r;clearTimeout(this._timerRetry),this._timerRetry=setTimeout(function(){i._timerRetry=null,i.fetch(t)},1e3*s)},e.SiteKey.prototype.fetch=function(t){clearTimeout(this._timerFutureFetch);var s,o=this,n=o.hasQueuedTasks();return!t&&(t=new e.Promise(function(e,t){this.resolve=e,this.reject=t}),this.pushToQueue(t),n)?t:((s=r.createStopwatch("test.site.key.api.latency")).start(),this._fetchRuns||(this._fetchRuns=0),this._fetchRuns++,this.flickrAPI.fetchSiteKey().then(function(e){var t=e.site_key;s.stop(),i.info("Received new site key",{key:t}),o._fetchRuns=0,o.store(t),r.sync(),o.scheduleFutureFetch()},function(e){r.increment("sitekey.fetch.failures"),i.error("Failed to fetch site key",{err:e}),o.scheduleRetry(t)}),t)},e.augment(e.SiteKey,e.EventTarget)},"@VERSION@",{requires:["event-custom","flickr-api","flickr-promise"]});YUI.add("hermes-lang-client-app",function(e,t){e.Intl.add("hermes/client-app","en-US",{SAVING_LAST_ACTIONS:["Hey! Weâ€™re still saving your last actions, you might lose them if you leave this page."],UPLOAD_IN_PROGRESS:["Wait! Your photos are still on the way to our servers. They might not get there if you leave this page before they arrive."]})},"@VERSION@",{requires:["intl"]});YUI.add("client-transport",function(e){"use strict";function t(e){var t;if(e.data.photo_id&&p.photos[e.data.photo_id]){for(t in p.photos[e.data.photo_id])c.unset(t);delete p.photos[e.data.photo_id]}if(e.data.user_id&&p.users[e.data.user_id]){for(t in p.users[e.data.user_id])c.unset(t);delete p.users[e.data.user_id]}}function r(t,s,o){var n,a=this;return(n=function(){var c;return a.keys.siteKey.isExpired()?(c=a.keys.siteKey.fetch(),c=c.then(n)):a.keys.csrf.isExpired()?(c=a.keys.csrf.fetch(),c=c.then(n)):o?(i.call(a,t,s,o,r),o):new e.Promise(function(e,o){this.resolve=e,this.reject=o,i.call(a,t,s,this,r)})})()}function i(r,i,n,l){var k,y,v,w,T,_,S,E,I,b,P,x=this;if(w=e.config.flickr.request?e.config.flickr.request.id:window.reqId,i=i||{},i.data=i.data||{},i.data.csrf=this.keys.csrf.getKey(),i.data.api_key=this.keys.siteKey.getKey(),!i.data.api_key){var R=new Error("Invalid API key.");return o("Invalid API key.",{}),R.fatal=!0,R.panda=!0,void n.reject(R)}if(i.method=i.method||"GET",i.data.format="json",i.data.hermes=1,i.data.hermesClient=1,i.data.reqId=w,k=r,v=k+JSON.stringify(i.data),i.data.method&&i.data.method.match(h)&&(i.method="POST",t(i)),y=c.get(v))return e.Promise.resolve(y).then(n.resolve);i.data.nojsoncallback=1,this._authRetry=this._authRetry||0,this._authRetry++,T=(new Date).getTime(),_=i.data.method,S=i.data,E={method:i.method,data:i.data,xdr:{use:"native",credentials:!0,dataType:"application/json"},on:{complete:function(h,g){var k,y,I={},R=!0===m.exclude[i.data.method],O=!1!==m.include[i.data.method],C=(new Date).getTime(),N=0;a&&(k=h,g=g.rawRequest);try{N=g.status}catch(e){}if(I.reqId=w,404===N)return n.resolve({status:404}),I.apiMethod=_,void e.fire("client-transport:apiError",I);if(503===N)return n.reject({status:503}),I.apiMethod=_,void e.fire("client-transport:apiError",I);if(0===N&&g&&4!==g.readyState)return setTimeout(function(){e.ClientTransport.unloading||((y={status:0,resp:g,message:"XHR aborted:"+g.readyState}).total=C-T,y.apiMethod=_,a&&k&&(y.message+=": "+k.message),y.total>E.timeout&&(y.timeout=!0,y.clientTimeout=!0,y.message="XHR Timeout"),n.reject(y),I.apiMethod=_,e.fire("client-transport:apiError",I))},10),void s(P,"abort",b);if(0===N){(y={status:0,resp:g,message:"XHR error"}).total=C-T,y.apiMethod=_,a&&k&&(y.message+=": "+k.message),y.total>E.timeout&&(y.timeout=!0,y.clientTimeout=!0,y.message="XHR Timeout");try{var j=new Image;j.addEventListener("error",function(){o("XHR maybe dns issue",{})},!1),j.src=e.config.flickr.api.hostname_client+"/services/spaceout.gif"}catch(e){}return n.reject(y),I.apiMethod=_,e.fire("client-transport:apiError",I),void s(P,"error",b)}try{I=JSON.parse(g.responseText)||{}}catch(t){return n.reject({status:0,message:"invalid JSON in response",resp:g}),I.apiMethod=_,void e.fire("client-transport:apiError",I)}if("ok"!==I.stat)return I.code=Number(I.code),l&&[98,99,100].indexOf(I.code)>=0&&x._authRetry<d?(98===I.code&&x.keys.csrf.invalidate(T),x.keys.siteKey.invalidate(T),void l.call(x,r,i,n)):(I.apiMethod=_,e.fire("client-transport:apiError",I),"flickr.site.getCsrf"===_?n.reject(I):n.resolve(I));e.soon(function(){e.fire("client-transport:apiTime",{start:T,end:C,method:S.method})}),x._authRetry=0,n.resolve(I),"GET"===i.method&&O&&!R&&(!(function(e,t){for(var r;r=f.exec(t);)p.photos[r[1]]||(p.photos[r[1]]={}),p.photos[r[1]][e]=e;for(;r=u.exec(t);)p.users[r[1]]||(p.users[r[1]]={}),p.users[r[1]][e]=e})(v,g.responseText),c.set(v,I),setTimeout(function(){t(i)},12e4))},start:function(){},end:function(){},failure:function(){}}};try{P=k+"?"+e.QueryString.stringify(E.data)}catch(e){}I=(new Date).getTime();var O={useXDR:!0,method:i.method,withCredentials:"true"};if(a&&("POST"===i.method?(O.url=k,O.body=e.QueryString.stringify(E.data),O.headers={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}):O.url=P),"complete"!==window.document.readyState){var C=window.document.onreadystatechange;window.document.onreadystatechange=function(){"complete"===window.document.readyState&&(C&&"function"==typeof C&&C(),a?g(O,E.on.complete):e.io(k,E),b=(new Date).getTime()-I)}}else a?g(O,E.on.complete):e.io(k,E),b=(new Date).getTime()-I}function s(t,r,i){var s,o={},n=e.config.win;try{t&&n.performance&&n.performance.getEntriesByName&&(s=n.performance.getEntriesByName(t))&&s.length>0&&s[0]&&(s=s[s.length-1],o={dns:parseInt(s.domainLookupEnd-s.domainLookupStart),tcp:parseInt(s.connectEnd-s.connectStart),ttfb:parseInt(s.responseStart-s.startTime),transfer:parseInt(s.responseEnd-s.responseStart),total:parseInt(s.responseEnd-s.startTime),connectTime:i}),i&&(o.connectTime=i),Object.keys(o).length>0&&!YUI.Env.isServer&&e.config.win.beaconError&&e.config.win.beaconError("[FlickrAPI] XHR "+r+":",e.config.win.location.href,o)}catch(e){}}function o(t,r){var i=e.config.win;try{!YUI.Env.isServer&&e.config.win.beaconError&&r&&i.beaconError("[FlickrAPI] "+t+":",i.location.href,r)}catch(e){}}var n,a,c=e.betterCache,l=e.config.flickr.transport.default_timeout,d=10,f=/"id":"([0-9]+)"/g,u=/"nsid":"([0-9]+@N[0-9]+)"/g,p={photos:{},users:{}},h=new RegExp(e.config.flickr.api.write_api_method_regex),m={include:{"flickr.sharing.getServiceTypes":!0},exclude:{"flickr.sharing.getServices":!0,"flickr.sharing.canShare":!0,"flickr.sharing.getAuthorizeUrl":!0,"flickr.products.orders.getOrder":!0,"flickr.cameraroll.getMap":!0,"flickr.cameraroll.getMapVersion":!0,"flickr.cameraroll.getPhotosByOffset":!0,"flickr.cameraroll.tags.getPhotoIds":!0,"flickr.photos.getPhotos":!0,"flickr.photos.upload.checkTickets":!0,"flickr.photos.recentlyDeleted":!0,"flickr.photos.recentlyUploaded":!0,"flickr.photos.recentlyUpdated":!0,"flickr.photosets.getList":!0,"flickr.people.getPhotos":!0,"flickr.activity.getNotificationsCount":!0,"flickr.feed.getFeed":!0,"flickr.activity.recentByType":!0,"flickr.feed.preferences.getUserPreferences":!0,"flickr.groups.invite.photo.invite":!0,"flickr.feed.preferences.muteObject":!0,"flickr.feed.preferences.unmuteObject":!0,"flickr.feed.preferences.muteEventType":!0,"flickr.subscriptions.validateCoupon":!0,"flickr.galleries.getList":!0,"flickr.galleries.getPhotos":!0,"flickr.galleries.getContext":!0,"flickr.galleries.getInfo":!0,"flickr.people.getGroupsWithStatus":!0,"flickr.groups.pools.getPhotos":!0,"flickr.groups.pools.getGroups":!0,"flickr.groups.admin.getPendingPhotos":!0,"flickr.prefs.setPrefs":!0,"flickr.prefs.getPrefs":!0,"flickr.prefs.setActivityFilter":!0,"flickr.account.getAuthorizedServices":!0}},g=require("xhr");YUI.F=YUI.F||{},YUI.F.jsonCallbacks={},e.ClientTransport=n=function(e){this.keys=n._keys,a=e["enable-xhr-lib-for-client-xhrs"]},n._keys={csrf:null,siteKey:null},n.authorize=function(t){n._keys.siteKey=new e.SiteKey(null,t.flickrAPI),n._keys.siteKey.scheduleFutureFetch(),n._keys.csrf=new e.CsrfUpdater(t.flickrAPI),n._keys.csrf.scheduleFutureFetch()},e.ClientTransport.prototype={makeRequest:function(e,t){return r.call(this,e,t)},makeSiteKeyRequest:function(){return new e.Promise(function(t,r){a?g({uri:"/hermes_error_beacon.gne"},function(e,i,s){var o;i=i.rawRequest;try{o=JSON.parse(i.responseText)||{}}catch(e){return r({status:0,message:"invalid JSON in response",resp:i})}if(!o.site_key)return r({status:0,message:"invalid JSON content, no site_key found",resp:i});t(o)}):e.io("/hermes_error_beacon.gne",{method:"GET",timeout:l,on:{complete:function(e,i){var s;try{s=JSON.parse(i.responseText)||{}}catch(e){return r({status:0,message:"invalid JSON in response",resp:i})}if(!s.site_key)return r({status:0,message:"invalid JSON content, no site_key found",resp:i});t(s)}}})})},makeCsrfRequest:function(t){e.ClientApp&&e.ClientApp.disableClientNav()}}},"@VERSION@",{requires:["querystring-stringify","better-cache","io-xdr","flickr-router","site-key","csrf-updater","flickr-promise","client-app"],affinity:"client"});YUI.add("loader-bar",function(e){YUI.Env.isServer?e.loaderBar={start:function(){},progress:function(){},finish:function(){}}:e.use("node","dom",function(e){function t(){r=!0,s=(s=100*Math.random())>20?s:20,a=e.one("html").getAttribute("class").match(/is-(\w+)-day/),i=a&&a.length>1,l=i?a[1]+"-day-background":"",d?(e.one(".global-nav-shim")&&d.setStyle("top",e.one(".global-nav-shim").get("offsetHeight")+"px"),f(d),d.setStyle("display","block")):(d=e.Node.create('<div class="loader-bar">'),e.one("body").append(d),e.one(".global-nav-shim")&&d.setStyle("top",e.one(".global-nav-shim").get("offsetHeight")+"px"),f(d)),d.setStyle("width",s+"px"),n=setInterval(function(){(s=d.get("offsetWidth"))>=e.config.win.innerWidth-5&&(d.setStyle("display","none"),h(d),clearInterval(n),r=!1)},100)}var n,o,a,i,l,s=0,r=!1,d=null,f=function(e){i&&e.addClass(l)},h=function(e){i&&e.removeClass(l)};e.loaderBar={start:function(){r||(clearTimeout(o),o=setTimeout(t,60))},progress:function(){r&&(s+=Math.round(e.config.win.innerWidth*Math.random()*.5),d.setStyle("width",s+"px"))},finish:function(){var t;clearTimeout(o),r&&(d.setStyle("width",e.config.win.innerWidth+"px"),e.one(".global-nav-shim")?d.setStyle("top",e.one(".global-nav-shim").get("offsetHeight")+"px"):t=setInterval(function(){e.one(".global-nav-shim")&&(clearInterval(t),d.setStyle("top",e.one(".global-nav-shim").get("offsetHeight")+"px"))},50))}}})},"@VERSION@",{requires:[]});YUI.add("node-pluginhost",function(e,t){e.Node.plug=function(){var t=e.Array(arguments);return t.unshift(e.Node),e.Plugin.Host.plug.apply(e.Base,t),e.Node},e.Node.unplug=function(){var t=e.Array(arguments);return t.unshift(e.Node),e.Plugin.Host.unplug.apply(e.Base,t),e.Node},e.mix(e.Node,e.Plugin.Host,!1,null,1),e.Object.each(e.Node._instances,function(t){e.Plugin.Host.apply(t)}),e.NodeList.prototype.plug=function(){var t=arguments;return e.NodeList.each(this,function(n){e.Node.prototype.plug.apply(e.one(n),t)}),this},e.NodeList.prototype.unplug=function(){var t=arguments;return e.NodeList.each(this,function(n){e.Node.prototype.unplug.apply(e.one(n),t)}),this}},"3.16.0",{requires:["node-base","pluginhost"]});
YUI.add("dom-screen",function(e,t){(function(e){var t="documentElement",n="compatMode",r="position",i="fixed",s="relative",o="left",u="top",a="BackCompat",f="medium",l="borderLeftWidth",c="borderTopWidth",h="getBoundingClientRect",p="getComputedStyle",d=e.DOM,v=/^t(?:able|d|h)$/i,m;e.UA.ie&&(e.config.doc[n]!=="BackCompat"?m=t:m="body"),e.mix(d,{winHeight:function(e){var t=d._getWinSize(e).height;return t},winWidth:function(e){var t=d._getWinSize(e).width;return t},docHeight:function(e){var t=d._getDocSize(e).height;return Math.max(t,d._getWinSize(e).height)},docWidth:function(e){var t=d._getDocSize(e).width;return Math.max(t,d._getWinSize(e).width)},docScrollX:function(n,r){r=r||n?d._getDoc(n):e.config.doc;var i=r.defaultView,s=i?i.pageXOffset:0;return Math.max(r[t].scrollLeft,r.body.scrollLeft,s)},docScrollY:function(n,r){r=r||n?d._getDoc(n):e.config.doc;var i=r.defaultView,s=i?i.pageYOffset:0;return Math.max(r[t].scrollTop,r.body.scrollTop,s)},getXY:function(){return e.config.doc[t][h]?function(r){var i=null,s,o,u,f,l,c,p,v,g,y;if(r&&r.tagName){p=r.ownerDocument,u=p[n],u!==a?y=p[t]:y=p.body,y.contains?g=y.contains(r):g=e.DOM.contains(y,r);if(g){v=p.defaultView,v&&"pageXOffset"in v?(s=v.pageXOffset,o=v.pageYOffset):(s=m?p[m].scrollLeft:d.docScrollX(r,p),o=m?p[m].scrollTop:d.docScrollY(r,p)),e.UA.ie&&(!p.documentMode||p.documentMode<8||u===a)&&(l=y.clientLeft,c=y.clientTop),f=r[h](),i=[f.left,f.top];if(l||c)i[0]-=l,i[1]-=c;if(o||s)if(!e.UA.ios||e.UA.ios>=4.2)i[0]+=s,i[1]+=o}else i=d._getOffset(r)}return i}:function(t){var n=null,s,o,u,a,f;if(t)if(d.inDoc(t)){n=[t.offsetLeft,t.offsetTop],s=t.ownerDocument,o=t,u=e.UA.gecko||e.UA.webkit>519?!0:!1;while(o=o.offsetParent)n[0]+=o.offsetLeft,n[1]+=o.offsetTop,u&&(n=d._calcBorders(o,n));if(d.getStyle(t,r)!=i){o=t;while(o=o.parentNode){a=o.scrollTop,f=o.scrollLeft,e.UA.gecko&&d.getStyle(o,"overflow")!=="visible"&&(n=d._calcBorders(o,n));if(a||f)n[0]-=f,n[1]-=a}n[0]+=d.docScrollX(t,s),n[1]+=d.docScrollY(t,s)}else n[0]+=d.docScrollX(t,s),n[1]+=d.docScrollY(t,s)}else n=d._getOffset(t);return n}}(),getScrollbarWidth:e.cached(function(){var t=e.config.doc,n=t.createElement("div"),r=t.getElementsByTagName("body")[0],i=.1;return r&&(n.style.cssText="position:absolute;visibility:hidden;overflow:scroll;width:20px;",n.appendChild(t.createElement("p")).style.height="1px",r.insertBefore(n,r.firstChild),i=n.offsetWidth-n.clientWidth,r.removeChild(n)),i},null,.1),getX:function(e){return d.getXY(e)[0]},getY:function(e){return d.getXY(e)[1]},setXY:function(e,t,n){var i=d.setStyle,a,f,l,c;e&&t&&(a=d.getStyle(e,r),f=d._getOffset(e),a=="static"&&(a=s,i(e,r,a)),c=d.getXY(e),t[0]!==null&&i(e,o,t[0]-c[0]+f[0]+"px"),t[1]!==null&&i(e,u,t[1]-c[1]+f[1]+"px"),n||(l=d.getXY(e),(l[0]!==t[0]||l[1]!==t[1])&&d.setXY(e,t,!0)))},setX:function(e,t){return d.setXY(e,[t,null])},setY:function(e,t){return d.setXY(e,[null,t])},swapXY:function(e,t){var n=d.getXY(e);d.setXY(e,d.getXY(t)),d.setXY(t,n)},_calcBorders:function(t,n){var r=parseInt(d[p](t,c),10)||0,i=parseInt(d[p](t,l),10)||0;return e.UA.gecko&&v.test(t.tagName)&&(r=0,i=0),n[0]+=i,n[1]+=r,n},_getWinSize:function(r,i){i=i||r?d._getDoc(r):e.config.doc;var s=i.defaultView||i.parentWindow,o=i[n],u=s.innerHeight,a=s.innerWidth,f=i[t];return o&&!e.UA.opera&&(o!="CSS1Compat"&&(f=i.body),u=f.clientHeight,a=f.clientWidth),{height:u,width:a}},_getDocSize:function(r){var i=r?d._getDoc(r):e.config.doc,s=i[t];return i[n]!="CSS1Compat"&&(s=i.body),{height:s.scrollHeight,width:s.scrollWidth}}})})(e),function(e){var t="top",n="right",r="bottom",i="left",s=function(e,s){var o=Math.max(e[t],s[t]),u=Math.min(e[n],s[n]),a=Math.min(e[r],s[r]),f=Math.max(e[i],s[i]),l={};return l[t]=o,l[n]=u,l[r]=a,l[i]=f,l},o=e.DOM;e.mix(o,{region:function(e){var t=o.getXY(e),n=!1;return e&&t&&(n=o._getRegion(t[1],t[0]+e.offsetWidth,t[1]+e.offsetHeight,t[0])),n},intersect:function(u,a,f){var l=f||o.region(u),c={},h=a,p;if(h.tagName)c=o.region(h);else{if(!e.Lang.isObject(a))return!1;c=a}return p=s(c,l),{top:p[t],right:p[n],bottom:p[r],left:p[i],area:(p[r]-p[t])*(p[n]-p[i]),yoff:p[r]-p[t],xoff:p[n]-p[i],inRegion:o.inRegion(u,a,!1,f)}},inRegion:function(u,a,f,l){var c={},h=l||o.region(u),p=a,d;if(p.tagName)c=o.region(p);else{if(!e.Lang.isObject(a))return!1;c=a}return f?h[i]>=c[i]&&h[n]<=c[n]&&h[t]>=c[t]&&h[r]<=c[r]:(d=s(c,h),d[r]>=d[t]&&d[n]>=d[i]?!0:!1)},inViewportRegion:function(e,t,n){return o.inRegion(e,o.viewportRegion(e),t,n)},_getRegion:function(e,s,o,u){var a={};return a[t]=a[1]=e,a[i]=a[0]=u,a[r]=o,a[n]=s,a.width=a[n]-a[i],a.height=a[r]-a[t],a},viewportRegion:function(t){t=t||e.config.doc.documentElement;var n=!1,r,i;return t&&(r=o.docScrollX(t),i=o.docScrollY(t),n=o._getRegion(i,o.winWidth(t)+r,i+o.winHeight(t),r)),n}})}(e)},"3.16.0",{requires:["dom-base","dom-style"]});
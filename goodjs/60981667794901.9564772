!function(e){var n;e.ORA.analytics||(n=function(){ORA.fireEvent(new ORA.Event(ORA.Event.ANA_PRODUCT_READY,ORA.Event.STATUS_SUCCESS)),ORA.common.TrackingPipeline.productIsReady("analytics"),ORA.Debug.debug("setProductReady()","ANA")},ORA.analytics={dcsRef:null,plugins:{},addEventListener:ORA.addDOMEvent,eventQueue:null,version:{major:1,minor:0,inc:4},versionStr:"1.0.4",qryparams:{},dcsdelay:25,productReadyLatch:{},isSeedMessageTriggered:!1,elemOfEvent:function(e,t){var n=e.target||e.srcElement,a=t||{};for("string"==typeof t&&((a={})[t.toUpperCase()]=1);n&&n.tagName&&!a[n.tagName.toUpperCase()];)n=n.parentElement||n.parentNode;return n},multiTrack:function(e){try{return ORA.analytics.dcsRef.dcsMultiTrack(e),!1}catch(e){throw ORA.Debug.error("Error ORA.analytics.multiTrack: "+e.toSource(),"ANA"),e}},instantiateExternal:function(){ORA.analytics.qryparams=ORA.common.QueryParamCache.getCache(),ORA.analytics.loadJS=ORA.common.loadJS,ORA.analytics.eventQueue=new ORA.common.Queue,ORA.analytics.prettify=ORA.common.JSONPrettify,ORA.analytics.dcsSaveCookie=ORA.common._setCookie,ORA.analytics.dcsDeleteCookie=ORA.common._deleteCookie,ORA.analytics.extendArray=ORA.common.extendArray,ORA.analytics.isFn=ORA.common.isFn,ORA.analytics.isArray=ORA.common.isArray,ORA.analytics.getCookieAsObj=ORA.common._getCookieAsObj,ORA.analytics.isEmpty=ORA.common.isEmpty,ORA.analytics.click=ORA.click,ORA.analytics.view=ORA.view,ORA.analytics.collect=ORA.collect,ORA.analytics.regPlugin=ORA.regPlugin,ORA.analytics.getTagId=ORA.getTagId,ORA.analytics.getContextName=ORA.getContextName,ORA.analytics.getPluginsConfig=ORA.analytics._getPluginsConfig,ORA.analytics.setCookie=ORA.common._setCookie,ORA.analytics.deleteCookie=ORA.common._deleteCookie,ORA.analytics.getCookieRaw=ORA.common._getCookieRaw,ORA.analytics.getIEVer=ORA.common._getIEVer,ORA.analytics.isOptedOut=ORA.common._isOptedOut,ORA.analytics.setInfinityOptOut=ORA.common._setInfinityOptOut,ORA.analytics.addMutation=ORA.analytics.addMutation,ORA.analytics.rmMutation=ORA.analytics.rmMutation,ORA.analytics.getFPC=function(){var e=ORA.analytics.getCookieAsObj(ORA.analytics.dcsRef.FPCConfig.name);return e&&e.id?e.id:null}},reset:function(){ORA.Debug.info("Analytics reset()","ANA"),ORA.analytics.dscRef={}},execute:function(e){ORA.Debug.info("Analytics execute()","ANA"),ORA.analytics.reset();var t=ORA.analyticsModule.prototype.oraConfigObj;e&&e.params&&ORA.hasVal(e.params)?(e=ORA.common.getMergedConfigs(t,e.params),ORA.analytics.setup(e)):ORA.analytics.setup(t)},performView:function(){ORA.common.clientID.isWaitForSetClientId&&ORA.common.clientID.isClientIdSet&&(ORA.addEventHandler(ORA.Event.ANA_PRODUCT_READY,ORA.view()),ORA.common.clientID.isWaitForSetClientId=!1)},registerLoaderEvents:function(){ORA.addEventHandler(ORA.Event.LOADER_RESET,this.reset),ORA.addEventHandler(ORA.Event.LOADER_EXECUTE,this.execute),ORA.common.clientID.isClientIdSet?this.performView():ORA.addEventHandler(ORA.Event.SET_CLIENT_ID,this.performView)},setupPluginMgr:function(e){function t(){ORA.fireEvent(new ORA.Event(ORA.Event.ANA_ORA_PLUGINS_INIT,ORA.Event.STATUS_SUCCESS)),ORA.Debug.debug("setupPluginMgr - ora Plugins Initialized, productReadyLatch.countDown()","ANA"),ORA.analytics.productReadyLatch.countDown()}var n=ORA.analytics.getPluginCount("ora-plugins"),a=ORA.common.pluginMgr;0<n?(ORA.Debug.debug("setupPluginMgr - ora pluginCount("+n+"), deferring initPluginsCallback until plugins loaded","ANA"),a.setNumExpectedPlugins(n),a.setInitPluginsCallback(t),a.setInjectConfigsCb(ORA.analytics._getPluginsConfig,"ora-plugins")):(0===n&&e.waitForGetClientIDCallback.apply(e)?(ORA.Debug.debug("setupPluginMgr - ora pluginCount("+n+"), now waiting on getId, so wait to countDown latch ","ANA"),ORA.fireEvent(new ORA.Event(ORA.Event.ANA_ORA_PLUGINS_INIT,ORA.Event.STATUS_SUCCESS))):ORA.Debug.debug("setupPluginMgr - ora pluginCount("+n+"), not waiting on getId so countDown immediately","ANA"),t()),a.setReady(),ORA.fireEvent(new ORA.Event(ORA.Event.COMMON_ORA_PLUGINMGR_READY,ORA.Event.STATUS_SUCCESS));function i(){ORA.fireEvent(new ORA.Event(ORA.Event.ANA_HOSTED_PLUGINS_INIT,ORA.Event.STATUS_SUCCESS)),ORA.Debug.debug("setupPluginMgr - Hosted Plugins Initialized, productReadyLatch.countDown()","ANA"),ORA.analytics.productReadyLatch.countDown()}var a=ORA.analytics.getPluginCount("hosted-plugins"),o=ORA.common.hostedPluginMgr;0<a?(ORA.Debug.debug("setupPluginMgr - Hosted pluginCount("+a+"), deferring initPluginsCallback until plugins loaded","ANA"),o.setNumExpectedPlugins(a),o.setInitPluginsCallback(i),o.setInjectConfigsCb(ORA.analytics._getPluginsConfig),o.processHostedPlugins(e.config["hosted-plugins"])):0===a&&e.waitForGetClientIDCallback.apply(e)?(ORA.Debug.debug("setupPluginMgr - hosted pluginCount("+n+"), now waiting on getId, so wait to countDown latch ","ANA"),ORA.fireEvent(new ORA.Event(ORA.Event.ANA_HOSTED_PLUGINS_INIT,ORA.Event.STATUS_SUCCESS)),t()):(ORA.Debug.debug("setupPluginMgr - Hosted pluginCount("+n+"), not waiting on getId so countDown immediately","ANA"),i()),o.setReady(),ORA.fireEvent(new ORA.Event(ORA.Event.COMMON_HOSTED_PLUGINMGR_READY,ORA.Event.STATUS_SUCCESS))},setupProductCountdownLatch:function(e){var t=2;e.waitForGetClientIDCallback.apply(e)&&(ORA.Debug.trace("prodCountdownLatch: waitForGetIdCall, latchCount++","ANA"),t++),ORA.analytics.productReadyLatch=new ORA.common.CountDownLatchClass(t,n,"ProductReadyLatch"),ORA.Debug.debug("set productReadyLatch to "+t,"ANA")},setCheckSetDisableSeed:function(e){!0===e.s_disableSeed&&ORA.common.TrackingPipeline.disableSeed()},setWaitForSetClientId:function(e){!0===e.s_waitForSetClientId&&ORA.common.clientID.waitForSetClientId()},setup:function(e){try{ORA.Debug.debug("Analytics setup() started","ANA"),this.instantiateExternal(),this.setCheckSetDisableSeed(e),this.setWaitForSetClientId(e);var t=new ORA.analytics.dcs;t.init(e),this.setupProductCountdownLatch(t),t.setup(),this.dcsRef=t,this.setupPluginMgr(this.dcsRef),this.registerLoaderEvents(),ORA.fireEvent(new ORA.Event(ORA.Event.ANA_SETUP_COMPLETE,ORA.Event.STATUS_SUCCESS)),ORA.Debug.debug("Analytics setup() has finished","ANA")}catch(e){ORA.Debug.error("Analytics setup() failure",201,e,"ANA")}},addMutation:function(e,t,n){return ORA.common.TrackingPipeline.registerMutation(e,t,n||2)},rmMutation:function(e){return ORA.common.TrackingPipeline.deregisterMutation(e)},getProductTimeout:function(){return ORA.common.TrackingPipeline.getProduct("analytics").timeout},_getPluginsConfig:function(e,t){var n={};return n=ORA.analyticsModule.prototype.oraConfigObj[t]&&ORA.analyticsModule.prototype.oraConfigObj[t][e]?ORA.analyticsModule.prototype.oraConfigObj[t][e]:n},getPluginCount:function(e){return ORA.analyticsModule.prototype.oraConfigObj[e]?ORA.common.extendObject(ORA.analyticsModule.prototype.oraConfigObj[e]).length():0},getConfigParams:function(){var e=ORA.analytics,t={},n=ORA.analytics.dcsRef;return n&&ORA.common.extendArray(["accountGuid","destinations","enabled","i18n","timezone"]).forEach(function(e){n[e]&&(t[e]=n[e])}),t.version=e.version,t.versionStr=[t.version.major,t.version.minor,t.version.inc].join("."),t.dcsdelay=e.dcsdelay,t}},ORA.Debug.debug("ORA.analytics instantiation success","ANA"))}(window,window.document),function(a,l){ORA.analytics.dcs=function(){var e=a.RegExp?/dcs(uri)|(ref)|(aut)|(met)|(sta)|(sip)|(pro)|(byt)|(dat)|(p3p)|(cfg)|(redirect)|(cip)/i:"";return this.exre=e,this.re={},this.plugins=this.plugins={},this.trackingData=this.trackingData={},this.DCS=this.DCS={},this.destinations=[],this.DCSext=this.DCSext={},this.errors=this.errors=[],this.FPCConfig=this.FPCConfig={},this._onsitedoms=[],this.gTempWtId=this.gWtAccountRollup=this.oraId="",this.prettify=ORA.analytics.prettify,this},ORA.analytics.dcs.prototype={init:function(e){var o=e;try{ORA.Debug.debug("dcs init() start","ANA"),void 0===o&&(o={}),this.config=o;var r=this;e=function(e,t){return o.hasOwnProperty(e)?o[e]:t};function c(e,t,n){return e&&e.hasOwnProperty(t)?e[t]:n}var t;this.extendArray=ORA.common.extendArray,this.errorlogger=function(e){ORA.Debug.error("Dcs",100,e,"ANA")},o.defaultCollectionServer||ORA.Debug.error("dcs init:  missing defaultCollectionServer"),this.destinations=this.destinations=function(e){if(!e||0===e.length)throw Error("Destinations are not configured");for(var t=[],n=0;n<e.length;n++){var a=c(e[n],"collectionServer",o.defaultCollectionServer),i={};i.collectionServer=i.collectionServer=a,i.timeout=i.timeout=c(e[n],"timeout",2e3),i.accountGuid=i.accountGuid=e[n].accountGuid,i.endpoint=i.endpoint=r.collectionEndpoint(a,e[n].accountGuid),t.push(i)}return t}(o.destinations),this.accountGuid=this.accountGuid=this.destinations[0].accountGuid,this.queue=this.queue=e("queue",[]),this.wtidTimeout=e("wtidTimeout",1e3),this.timezone=this.timezone=e("timezone",-8),this.enabled=this.enabled=e("enabled",!0),this.i18n=this.i18n=e("i18n",!1),this.re=a.RegExp?r.i18n?{"%25":/%/g,"%26":/&/g,"%23":/#/g}:{"%25":/%/g,"%09":/\t/g,"%20":/\x20|\xA0|\x7F/g,"%23":/#/g,"%26":/&/g,"%2B":/\+/g,"%3F":/\?/g,"%5C":/\\/g,"%22":/"/g}:"",o.metanames&&(t=o.metanames.toLowerCase(),this.metanames=ORA.common.extendArray(t.split(","))),!0!==o.metatagAuto&&"true"!==o.metatagAuto||(this.metatagAuto=!0),this.skip_qp_no_value=this.skip_qp_no_value=e("skip_qp_no_value",!1),this.skip_qp_no_equals=this.skip_qp_no_equals=e("skip_qp_no_equals",!1),this.skip_qp=this.skip_qp=e("skip_qp",!1),this.vtid=this.vtid=e("vtid",void 0),this.paidsearchparams=e("paidsearchparams","gclid"),ORA.analytics.dcsdelay=o.dcsdelay||ORA.analytics.dcsdelay,this.delayAll=this.delayAll=e("delayAll",!1),this.preserve=this.preserve=e("preserve",!0),this._onsitedoms=e("onsitedoms",""),ORA.common.isFn(this._onsitedoms.test)||(this._onsitedoms=ORA.common.extendArray(this._onsitedoms.toLowerCase().split(",")),this._onsitedoms.forEach(function(e,t,n){n[t]=e.replace(/^\s*/,"").replace(/\s*$/,"")})),e("adimpressions",!1)&&(this.adclickparam=e("adsparam","WT.ac")),this.FPCConfig.enabled=this.FPCConfig.enabled=c(o.FPCConfig,"enabled",!0),this.FPCConfig.domain=this.FPCConfig.domain=c(o.FPCConfig,"domain",""),this.FPCConfig.name=this.FPCConfig.name=c(o.FPCConfig,"name","ORA_FPC"),this.FPCConfig.optOutCName=this.FPCConfig.optOutCName=c(o.FPCConfig,"optOutCName","Infinity.optout"),this.FPCConfig.legacyCName=this.FPCConfig.legacyCName=c(o.FPCConfig,"legacyCName","WT_FPC"),this.FPCConfig.expiry=this.FPCConfig.expiry=c(o.FPCConfig,"expires",63113851500),63113851500<this.FPCConfig.expiry&&(this.FPCConfig.expiry=63113851500),this.FPCConfig.expireDate=new Date(this.getTime()+this.FPCConfig.expiry),this.FPCConfig.sessionOnly=0===this.FPCConfig.expiry||c(o.FPCConfig,"sessionOnly",!1),this.FPCConfig.autoTLD=this.FPCConfig.autoTLD=c(o.FPCConfig,"autoTLD",!1),o.cookieTypes&&(this.FPCConfig.enabled="none"!==o.cookieTypes.toLowerCase()),t="https",ORA.analyticsModule.prototype.oraConfigObj.hasOwnProperty("disableSSL")&&"boolean"==typeof ORA.analyticsModule.prototype.oraConfigObj.disableSSL&&ORA.analyticsModule.prototype.oraConfigObj.disableSSL&&(t="http");var n={DNTBehavior:ORA.common._getConfigObject()&&ORA.common._getConfigObject().DNTBehavior||"honorDNT",wtidTimeout:this.wtidTimeout,cookie:{enable:this.FPCConfig.enabled,name:this.FPCConfig.name,expires:this.FPCConfig.expiry,autoTLD:this.FPCConfig.autoTLD,sessionOnly:this.FPCConfig.sessionOnly,expireDate:this.FPCConfig.expireDate,domain:this.FPCConfig.domain},endpoint:{clientIDServer:this.destinations[0].collectionServer,accountGuid:this.destinations[0].accountGuid,protocol:t}};return ORA.common.clientID.clientId=this.dcsGetFPC().id||null,ORA.common.clientID.setConfig(n),this.plugins=o.plugins||{},ORA.analytics.dcs.prototype.action_collect=ORA.analytics.dcs.prototype.action_collect,ORA.analytics.dcs.prototype.init=ORA.analytics.dcs.prototype.init,ORA.analytics.dcs.prototype.setup=ORA.analytics.dcs.prototype.setup,ORA.analytics.dcs.prototype.dcsGetFPC=ORA.analytics.dcs.prototype.dcsGetFPC,ORA.analytics.dcs.prototype.dcsGetCookie=ORA.analytics.dcs.prototype.dcsGetCookie,ORA.analytics.dcs.prototype.dcsNavigation=ORA.analytics.dcs.prototype.dcsNavigation,this.registerProtocol(),ORA.Debug.debug("dcs init() finish","ANA"),this}catch(e){throw ORA.Debug.error("Error in init() - "+e.toString()),e}},registerProtocol:function(){var e=ORA.common.TrackingPipeline;null===e.getCommProtocol(ORA.common.CommManager.GIF)&&(ORA.common._analyticsProtocol=ORA.common.protocols.gifProtocol,e.setCommProtocol(ORA.common.CommManager.GIF,ORA.common._analyticsProtocol))},collectionEndpoint:function(e,t,n){if(e||ORA.Debug.debug("Warning:  missing collectServer"),e=e||"",n=n||"dcs.gif",!t)throw Error("accountGuid must be configured for "+e);var a=!1;return(a=ORA.analyticsModule.prototype.oraConfigObj.hasOwnProperty("disableSSL")&&"boolean"==typeof ORA.analyticsModule.prototype.oraConfigObj.disableSSL?ORA.analyticsModule.prototype.oraConfigObj.disableSSL:a)&&ORA.Debug.debug('SSL is disabled by config setting "disableSSL".'),a?"http://"+e+"/"+t+"/"+n:"https://"+e+"/"+t+"/"+n},setReady:function(){ORA.Debug.debug("setReady()","ANA"),this._readySet||(this.flushqueue(),this.redirectqueue(),this._readySet=!0)},flushqueue:function(){ORA.Debug.trace("flushqueue()","ANA");for(var e=0;e<this.queue.length;e++)this.doAction(this.queue[e]);this.queue=[]},redirectqueue:function(){var t=this;this.queue.push=function(e){t.doAction(e)}},dcsGetCookie:function(e){return ORA.analytics.dcsGetCookie(e,this.FPCConfig.name)},dcsIsFpcSet:function(e,t){var n=ORA.analytics.getCookieAsObj,a=ORA.analytics.isEmpty,n=n(e);return this.gTempWtId=n.id,a(n)?2:t===n.id?0:3},dcsGetFPC:function(){return ORA.analytics.getCookieAsObj(this.FPCConfig.name)},dcsFPC:function(){var e=ORA.common._getConfigObject()&&ORA.common._getConfigObject().DNTBehavior||"honorDNT";if(!ORA.analytics.isOptedOut())if(this.FPCConfig.enabled){this.trackingData.ce="1";var n=this.trackingData,t=this.FPCConfig.name,a=new Date,i=6e4*a.getTimezoneOffset()+36e5*this.timezone;a.setTime(a.getTime()+i);var o=new Date(a.getTime());n.co_f=n.vtid="",n.vtvs=n.vt_f="";var r=ORA.analytics.getCookieAsObj(t),i=function(e){var t=r.id;null!==t&&(n.co_f=t,a.getTime()>o.getTime()+288e5&&o.setTime(a.getTime()),void 0===e.gTempWtId||e.gTempWtId!==t)&&(n.vt_f="1",e.gTempWtId=t)};if(!ORA.common._isDNTSet()||"honorDNT"!==e){i(this),n.co_f=escape(n.co_f),n.vtid=void 0===this.vtid?n.co_f:this.vtid||"",r.id=n.co_f,this.FPCConfig.sessionOnly?ORA.common.mobile.nativeAppCkSend({name:t,value:r,domain:this.FPCConfig.domain,date:this.FPCConfig.expireDate,path:"/",type:"session",timeout:this.FPCConfig.expiry}):ORA.common.mobile.nativeAppCkSend({name:t,value:r,domain:this.FPCConfig.domain,date:this.FPCConfig.expireDate,path:"/",type:"persisted",timeout:this.FPCConfig.expiry}),0!==(e=ORA.common.isFpcSet(t,n.co_f))&&(n.co_f="",void 0===this.vtid&&(n.vtid=""),n.vt_f=e);var c={};return ORA.common.extendObject(n).forEach(function(e,t){null!==e&&""!==e&&(c["WT."+t]=e)}),c}}else this.trackingData.ce="0",this.trackingData.vtid=this.vtid||""},dcsGetIdCallback:function(e){void 0!==e&&(this.oraId||(this.oraId=e),ORA.fireEvent(new ORA.Event(ORA.Event.ANA_AFTER_GETID,ORA.Event.STATUS_SUCCESS))),this.setReady(),ORA.analytics.productReadyLatch.countDown()},waitForGetClientIDCallback:function(){var e=ORA.common._getCookieAsObj(),t=2!==this.dcsIsFpcSet(this.FPCConfig.name),n=ORA.common._getConfigObject()&&ORA.common._getConfigObject().DNTBehavior||"honorDNT",n=ORA.common._isDNTSet()&&"honorDNT"===n;return!(ORA.common._isOptedOut(e)||t||!this.FPCConfig.enabled||n||ORA.common._getConfigObject().s_waitForSetClientId)},setup:function(){try{function e(e){t.dcsGetIdCallback.apply(t,[e])}var t=this;return this.FPCConfig.enabled?ORA.common.mobile.delay(function(){t.waitForGetClientIDCallback.apply(t)?ORA.common.clientID.getClientID(e):t.setReady.apply(t,[])},"ANA",ORA.analyticsModule.prototype.oraConfigObj):this.setReady(),this.enQueue("collect",{element:void 0,event:void 0}),ORA.fireEvent(new ORA.Event(ORA.Event.ANA_DCS_SETUP,ORA.Event.STATUS_SUCCESS)),ORA.addEventHandler(ORA.Event.SET_CLIENT_ID,function(e){t.oraId=e.params},null,!0),this}catch(e){this.errors.push(e),this.errorlogger(e)}},addQueryParameters:function(e,t){var a=this.DCS;if(0<e.length()&&!this.skip_qp){e.forEach(function(e,t){var n=e;(this.skip_qp_no_value||this.skip_qp_no_equals)&&void 0===e||this.skip_qp_no_equals&&""===e||(a[t]=n=null==e?"undefined":n)},this);for(var n=this.paidsearchparams.length?this.paidsearchparams.toLowerCase().split(","):[],i=0;i<n.length;i++)if(ORA.common.QueryParamCache.contains(n[i],!0)){t.srch="1";break}}},dcsVar:function(){var e=this.trackingData;this.i18n&&(e.le="string"==typeof l.defaultCharset?l.defaultCharset:"string"==typeof l.characterSet?l.characterSet:"unknown"),e.tv=ORA.analytics.versionStr;var t=ORA.common.QueryParamCache.getCache();this.addQueryParameters(t,e),!0===this.metatagAuto&&ORA.common.visitMetaTags(this.dcsMetaTagsAutoScrape,l,this.DCSext),this.metanames&&ORA.common.visitMetaTags(this.dcsMetaTagArrScrape(this.metanames),l,this.DCSext)},dcsMetaTagArrScrape:function(a){return function(e,t,n){e=e.toLowerCase(),-1!==a.indexOf(e)&&(n["meta_"+e]=t)}},dcsMetaTagsAutoScrape:function(e,t,n){0===e.indexOf("ORA.")?n[e]=t:0===e.indexOf("DCS.")?(e=e.split("DCS."))[1]&&(n[e[1]]=t):0===e.indexOf("DCSext.")&&((e=e.split("DCSext."))[1]&&(n[e[1]]=t))},getPageAnalysis:function(){var e=ORA.analytics.dcsRef.dcsFPC(),t=ORA.common.extendArray;return ORA.analytics.pageAnalysis?t(["vt_f"]).forEach(function(e){ORA.analytics.pageAnalysis["WT."+e]&&delete ORA.analytics.pageAnalysis["WT."+e]}):ORA.analytics.pageAnalysis=ORA.analytics.dcsRef.genPageAnalysis(),ORA.paramsMerge(ORA.analytics.pageAnalysis,e)},genPageAnalysis:function(){try{if(ORA.fireEvent(new ORA.Event(ORA.Event.ANA_BEFORE_PAGE_ANALYSIS,ORA.Event.STATUS_SUCCESS)),!ORA.analytics.isOptedOut()){var e=this.trackingData,t=this.DCS,n=this.DCSext,a=this.i18n;a&&(e.dep="");var i,o,r,c={};for(i in t)t.hasOwnProperty(i)&&void 0!==t[i]&&"function"!=typeof t[i]&&(c[i]=t[i]);for(o in e)e.hasOwnProperty(o)&&""!==e[o]&&void 0!==e[o]&&"function"!=typeof e[o]&&(c["WT."+o]=e[o]);for(r in n)n.hasOwnProperty(r)&&""!==n[r]&&void 0!==n[r]&&"function"!=typeof n[r]&&(a&&(e.dep=0===e.dep.length?r:e.dep+";"+r),c[r]=n[r]);return a&&0<e.dep.length&&(c["WT.dep"]=e.dep),ORA.Debug.superfine("pageAnalysis: "+this.prettify(c),"ANA"),ORA.fireEvent(new ORA.Event(ORA.Event.ANA_AFTER_PAGE_ANALYSIS,ORA.Event.STATUS_SUCCESS)),c}}catch(e){ORA.Debug.error("error in pageAnalyze: "+e.toString())}},doRequest:function(){var a=this.destinations,i=this.getPageAnalysis;ORA.common.TrackingPipeline.registerMutation("analyticsAnnotate",function(e){if(e.params.mutation&&(!0===e.params.mutation.pageview||!0===e.params.mutation.conversion||!0===e.params.mutation.click||!0===e.params.mutation.collect&&!1!==e.params.sendSessionInfo||!0===e.params.mutation.view)){var t,n=i();for(t in n)n.hasOwnProperty(t)&&!e.getParam(t)&&e.setParam(t,n[t]);if(e.setParam("ora.tag_id",ORA.getTagId()),e.setParam("ora.tag_config",ORA.getContextName()),ORA.Debug.debug(e.params.desc?"annotating "+e.params.desc+" w/ analytics page analysis":"annotating w/ analytics page analysis","ANA"),ORA.Debug.trace("annotating payload w/ "+ORA.analytics.prettify(n),"ANA"),ORA.Debug.trace("Endpoints: "+ORA.analytics.prettify(a),"ANA"),"collect"!==e.params.desc)for(n=0;n<a.length;n++)e.endpoints.push({endpoint:a[n].endpoint,timeout:a[n].timeout,conf:ORA.analytics.dcsRef,protocolType:ORA.common.CommManager.GIF});ORA.fireEvent(new ORA.Event(ORA.Event.ANA_PV_MUTATE,ORA.Event.STATUS_SUCCESS))}},1),ORA.Debug.debug("doRequest() - register mutation","ANA")},pageAnalyze:function(){ORA.Debug.trace("pageAnalyze()"),this.dcsVar(),this.adclickparam&&0<this.adclickparam.length&&this.dcsAdSearch(),this.pageAnalyzehasRun=!0},getTime:function(){return(new Date).getTime()},dumpCounter:0,spinLock:function(e){for(var t=this.getTime();this.getTime()-t<e;)this.dumpCounter++},enQueue:function(e,t){ORA.Debug.debug("enQueue() - action: "+JSON.stringify(e)+" msg: "+JSON.stringify(t),"ANA"),this.queue.push({action:e=e||"collect",message:t})},doAction:function(e){ORA.Debug.debug("doAction() - cmd: "+this.prettify(e),"ANA");var t="action_"+e.action;e=e.message,this.pageAnalyzehasRun||this.pageAnalyze(),e.event&&!e.element&&(e.element=ORA.analytics.elemOfEvent(e.event,{A:1})),ORA.analytics.isFn(this[t])&&this[t](e)},action_collect:function(e){ORA.Debug.debug("action_collect()","ANA"),this.doRequest(e)},dcsIsOnsite:function(e,t){var n=e;if(0<n.length){if((n=n.toLowerCase())===window.location.hostname.toLowerCase())return!0;if(ORA.analytics.isFn(t.test))return t.test(n);if(0<t.length)for(var a=t.length,i=0;i<a;i++)if(n===t[i])return!0}return!1},dcsNavigation:function(e,t){for(var n="",a="",i=t.length,o=0;o<i;o++){var r=t[o];if(r.length&&(n=(a=ORA.analytics.elemOfEvent(e,r)).getAttribute&&a.getAttribute("id")?a.getAttribute("id"):"",a=a.className||"",n.length||a.length))break}return n.length?n:a},dcsAdSearch:function(){if(l.links){var e,t,n,a,i=(o=this.adclickparam+"=").length,o=new RegExp(o,"i"),r=l.links.length,c=l.URL+"",s=c.search(o);for(-1!==s&&(t=-1!==(e=c.indexOf("&",s))?c.substring(s,e):c.substring(s,c.length),n=new RegExp(t+"(&|#)","i")),c=0;c<r;c++)l.links[c].href&&(a=l.links[c].href+"",-1!==(e=(a=t&&0<t.length?a.replace(n,"$1"):a).search(o))&&(e=-1!==(e=a.indexOf("&",s=e+i))?a.substring(s,e):a.substring(s,a.length),this.trackingData.ad=this.trackingData.ad?this.trackingData.ad+";"+e:e))}}},ORA.Debug.debug("dcs class loaded","ANA")}(window,window.document),function(n,a,i){ORA.analytics.find=function(e){return ORA.analytics.selectorEngine||(ORA.analytics.selectorEngine=ORA.analytics.findSelector()),ORA.analytics.selectorEngine(e)},ORA.analytics.findSelector=function(){var e=(e=/MSIE (\d+)/.exec(i.userAgent))?e[1]:99,t=a.body;return a.querySelectorAll&&t&&8<e?function(e){return t.querySelectorAll(e)}:n.jQuery?n.jQuery.find:n.Sizzle||(n.YAHOO&&YAHOO.util&&YAHOO.util.Selector?YAHOO.util.Selector.query:"qwery"in n?qwery:(n.YUI&&YUI().use("node",function(e){return e.all}),a.querySelectorAll&&t?function(e){return t.querySelectorAll(e)}:function(){return[]}))},ORA.Debug.debug("selectorEngine initialized","ANA")}(window,window.document,window.navigator),function(){var a={cgDefs:["wt.cg_n","wt.cg_s","wt.cg_s#"],urlData:window.location.pathname.split("/"),init:function(e,t){var n=e.config||{},t=t||function(){};if(n.cgDefs&&(a.cgDefs=n.cgDefs),void 0===n.enable||n.enable){for(n=0;n<a.urlData.length;)(""===a.urlData[n]||-1<a.urlData[n].indexOf("."))&&(a.urlData.splice(n,1),n--),n++;ORA.Debug.debug("cg URL parsing is "+JSON.stringify({urlData:a.urlData},null,4),"ANA-cg"),ORA.analytics.addMutation("addCg",a.addCgMutation),t(),ORA.Debug.debug("cg Plugin init complete","ANA-cg")}else ORA.Debug.debug("content group plugin is disabled, exiting","ANA-cg"),t()},addCgMutation:function(e){try{for(var t=a.cgDefs||[],n=0;(n<t.length||-1<t[t.length-1].indexOf("#"))&&n<a.urlData.length;n++)n>=t.length-1&&-1<t[t.length-1].indexOf("#")?e.payload[t[t.length-1].replace("#",n)]=a.urlData[n]:e.payload[t[n]]=a.urlData[n]}catch(e){ORA.Debug.debug("cg Plugin mutation error","ANA-cg")}},rmCgMutation:function(){ORA.analytics.rmMutation("addCg")}};ORA.Debug.debug("cg - Registering Plugin","ANA-cg"),ORA.regPlugin("cg",a.init,{blockCollect:!0}),ORA.analytics.plugins||(ORA.analytics.plugins={}),ORA.analytics.plugins.cg||(ORA.analytics.plugins.cg={}),ORA.analytics.plugins.cg.addCg=a}(),function(){var c={cfg:{standardEvents:{download:!1,offsite:!1,onsite:!1,rightclick:!1,anchor:!1,javascript:!1,scrollTracking:!1},eventList:{},cookieName:"ORA_EVENT",downloadtypes:"xls,doc,pdf,txt,csv,zip,docx,xlsx,rar,gzip",socialTypes:{},trackSocial:!0},init:function(e,t){var n=e.config||{},t=t||function(){};ORA.Debug.debug("Event Track plugin Start Init","ANA-ET");try{for(var a in n)n.hasOwnProperty(a)&&(c.cfg[a]=n[a]);if(void 0!==c.cfg.enable&&!c.cfg.enable)return ORA.Debug.debug("Event Track plugin is disabled - exiting","ANA-ET"),t();var i=ORA.getIEVer();if(i&&i<9)return ORA.Debug.info("requires >= ie9, disabling plugin","ANA-ET"),t();if(ORA.Debug.info("Adding standard events","ANA-ET"),c._addStandardEvents(),!document.querySelectorAll)return ORA.Debug.info("Event Track plugin requires querySelectorAll function","ANA-ET"),t(),!1;c._addMatches(),ORA.Debug.info("Binding to objects","ANA-ET"),c._bind()}catch(e){ORA.Debug.error("Event Track plugin Init Error"+e.message,"ANA-ET"),t()}ORA.analytics.rmMutation("evt",c.deferMutation),ORA.Debug.debug("Adding deferred mutation","ANA-ET"),ORA.analytics.addMutation("evt",c.deferMutation),ORA.Debug.debug("Calling deferred message flush","ANA-ET"),c._flushMsg(),t(),ORA.Debug.debug("Event Track plugin Start Init Complete","ANA-ET")},_getFullUrl:function(e){if("A"!==e.nodeName)return e;var t=e.cloneNode(!0);return t.href=e.href,t},_pageWillReloads:function(e){var t=[];try{var t=e.split("#"),n=window.location.href.split("#")[0]}catch(e){return ORA.Debug.error(e.message),!1}return 1===t.length||t[0]!==n},_eventCallback:function(i,t){try{function e(e,t,n){n._evtMsg(e);try{var a=n._fnCreator(i.eventCallback)(e,t);n._isEmptyObj(a)||(a.defer&&(a.data["wt.isDeferred"]="1"),ORA.click({data:a.data}),n._fnCreator(i.fnFinishCallback)(e))}catch(e){ORA.Debug.error("Event Track error in event callback: "+e.message,"ANA-ET")}}for(var n=i.eventTrigger&&i.eventTrigger.split(" ")||["mousedown"],a=0;a<n.length;a++)"immediate"!==n[a].toLowerCase()?(ORA.Debug.info("Event Track for "+t+" bind to "+i.selector+" event: "+n[a],"ANA"),this._delegate(document,n[a].toLowerCase(),i.selector,e,i,this)):(ORA.Debug.info("Event Track Immediate: "+t,"ANA"),e(null,null,this))}catch(e){ORA.Debug.error("Error binding adding selector for: "+t+" err: "+e.message,"ANA-ET")}},_delegate:function(e,t,o,r,n,a){function i(e){return function(e,t,n){var a=e.target||e.srcElement,i=a;for("scroll"===e.type&&r.call(null,e,t,n),"A"===a.nodeName&&a.href&&(i=c._getFullUrl(a));i&&i!==document;)i.matches(o)&&r.call(i,e,t,n),i=i.parentNode}.apply(this,[e,n,a])}e.addEventListener?e.addEventListener(t,function(e){i(e)}):e.attachEvent("on"+("click"===t?"mousedown":t),function(e){i(e)})},_bind:function(){var e,t=this.cfg.eventList;for(e in t)t.hasOwnProperty(e)&&this._eventCallback(t[e],e)},_evtMsg:function(e){var t;e?(t="Event Triggered:"+e.type+" node:"+(e.srcElement||e.target).nodeName+" #",t+=(e.srcElement||e.target).id+" class:"+(e.srcElement||e.target).className,ORA.Debug.info(t,"ANA-ET")):ORA.Debug.info("Event Triggered for immediate event","ANA-ET")},_fnCreator:function(e){return"string"==typeof e?new Function("e",e):"function"==typeof e?e:function(){}},_addMatches:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector,Element.prototype.matches=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector,Element.prototype.matches=Element.prototype.matches||Element.prototype.webkitMatchesSelector||function(e){var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;for(--t;0<=t&&e.item(t)!==this;)--t;return-1<t})},_isRightClick:function(e){if((e=e||window.event).which)e=3===e.which;else{if(!e.button)return!1;e=2===e.button}return e},_getHrefInfo:function(e){var t=e.target||e.srcElement||{},n={},a=t,i=document.createElement("a");return(t=this._findA(t)).href?(i.href=t.href,n.dcssip=i.hostname?i.hostname.split(":")[0]:window.location.hostname,i.pathname&&0!==i.pathname.indexOf("/")?n.dcsuri="/"+i.pathname:n.dcsuri=i.pathname||"/",i.search&&(n.dcsqry=i.search.substring(i.search.indexOf("?")+1,i.search.length)),n.dcsref=document.referrer,n["WT.nv"]=this._findNV(a,e,{DIV:1,TABLE:1}),n["WT.dl"]="24",this._cleanPayload(n)):{}},_findNV:function(e,t,n){for(;e&&e!==document&&e.tagName&&!n[e.tagName];)e=t.parentElement||e.parentNode;return e!==document?e.id||e.className:""},_cleanPayload:function(e){for(var t in e)e.hasOwnProperty(t)&&!e[t]&&delete e[t];return e},_findA:function(e){for(;e&&"A"!==e.nodeName;)e=e.parentNode;return e},_checkOnsiteDom:function(e,t){var n=ORA.analytics.dcsRef._onsitedoms;return n.test||(1===n.length&&""===n[0]&&(n=[location.host.split(":")[0]]),n=new RegExp(n.join(",").toLowerCase().replace(",","|").replace(/^\s*/,"").replace(/\s*$/,""))),!(c._isRightClick(t)||!n.test(e.hostname))},_checkDeferred:function(e,t){return t.href&&c._getFullUrl(t).matches('A[href*="'+location.host+'/"]')||void 0===t.target||"_blank"===t.target?{defer:!1,data:e}:{defer:!0,data:e}},_isEmptyObj:function(e){if("object"!=typeof e)return!0;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},_deferMutation:function(e){try{e.params&&e.params.payload["wt.isdeferred"]&&(ORA.Debug.debug("Deferring payload, saving into cookie","ANA-ET"),delete e.params.payload["wt.isdeferred"],e.params.payload["wt.deferredpayload"]="1",this._saveMsg(e),e.sendDisable())}catch(e){}},deferMutation:function(e){c._deferMutation(e)},_saveMsg:function(e){var t,n;window.JSON?(t=[],n=this.cfg.cookieName,(t=ORA.analytics.getCookieRaw(n)?ORA.common.decode(ORA.analytics.getCookieRaw(n)):t).push(e.payload),ORA.setCookie(n,ORA.common.encode(t),"; path=/"),ORA.Debug.debug("Saved payload into cookie: "+document.cookie,"ANA-ET")):ORA.Debug.debug("Browser version does not support saving payloads into cookies","ANA-ET")},_flushMsg:function(){var t=this.cfg.cookieName;try{if(ORA.analytics.getCookieRaw(t)){ORA.Debug.debug("Found ORA_EVENT cookie - sending events","ANA-ET");var e=ORA.common.decode(ORA.analytics.getCookieRaw(t));ORA.Debug.debug("Found "+e.length+" deferred Payloads - sending now","ANA-ET");for(var n=0;n<e.length;n++){var a=e[n],i=new Date;a["wt.ets"]=new Date(i.getTime()+6e4*i.getTimezoneOffset()).getTime(),ORA.click({data:a})}ORA.deleteCookie(t,"/")}}catch(e){ORA.Debug.debug("Error parsing ORA_EVENT cookie - removing cookie"),ORA.deleteCookie(t,"/")}},_addStandardEvents:function(){var e,t={download:"_addDownloadTracking",offsite:"_addOffsiteTracking",onsite:"_addOnsiteLinkTracking",anchor:"_addAnchorTracking",rightclick:"_addRightClickTracking",javascript:"_addJavaScriptTracking",scrollTracking:"_addScrollTracking"};for(e in this.cfg.standardEvents)this.cfg.standardEvents.hasOwnProperty(e)&&this.cfg.standardEvents[e]&&this[t[e]]()},_addDownloadTracking:function(){ORA.Debug.info("Event Track plugin Add download tracking","ANA-ET");for(var e=[],t=c.cfg.downloadtypes.toLowerCase().split(","),n=0;n<t.length;n++)e.push('A[href*=".'+t[n]+'"]');c.cfg.eventList.download={eventTrigger:"click",selector:e.join(","),eventCallback:function(e){var t=e.target||e.srcElement||e.target||{},n=c._getHrefInfo(e);return ORA.Debug.debug("Download Callback Called"),c._isRightClick(e)||!n?{}:(n["WT.ti"]="Download:"+t.textContent||t.innerText,n["WT.dl"]="20",c._checkDeferred(n,t))}}},testSocial:function(e,t,n){for(var a=0;a<e[t].length;a++)if(-1<n.toLowerCase().indexOf(e[t][a].toLowerCase()))return!0;return!1},isSocial:function(e){var t,n=c.cfg.socialTypes;for(t in n)if(n.hasOwnProperty(t)&&c.testSocial(n,t,e))return t;return null},_addOnsiteLinkTracking:function(){ORA.Debug.info("Event Track plugin add onsite link tracking","ANA-ET");for(var e=c.cfg.downloadtypes.toLowerCase().split(","),t=':not([href*="javascript:"])',n=0;n<e.length;n++)t+=':not([href*=".'+e[n]+'"])';if(e=['A:not([href^="//"])'+t],n=[location.hostname],!(n=ORA.analytics.dcsRef&&ORA.analytics.dcsRef._onsitedoms?ORA.analytics.dcsRef._onsitedoms:n).test){""!==n&&0!==n[0].length||(n=[location.hostname]);for(var a=0;a<n.length;a++)e.push('A[href*="'+n[a]+'"]'+t)}c.cfg.eventList.onsite={eventTrigger:"click",selector:e.join(","),eventCallback:function(e){var t=e.target||e.srcElement||{},n=c._getHrefInfo(e);if(ORA.Debug.debug("Onsite Link Callback Called"),c._isEmptyObj(n))return{};for(;t&&"A"!==t.nodeName;)t=t.parentNode;return c._checkOnsiteDom(t,e)?(n["WT.ti"]="Onsite:"+n.dcssip+n.dcsuri,n.dcsqry&&(n["WT.ti"]+=n.dcsqry),n["WT.dl"]="1",{defer:c._pageWillReloads(t.href),data:n}):(ORA.Debug.debug("Onsite Link Callback Called - fails onsite test. Exiting"),{})}}},_addOffsiteTracking:function(){ORA.Debug.info("Event Track plugin add offsite tracking","ANA-ET");var e=['A:not(A[href*="javascript:"])'],t=[location.hostname];if(!(t=ORA.analytics.dcsRef&&ORA.analytics.dcsRef._onsitedoms?ORA.analytics.dcsRef._onsitedoms:t).test){e=[],""===t&&(t=[location.host]);for(var n=0;n<t.length;n++)e.push('A:not([href*="'+t[n]+'"]):not([href*="javascript:"])')}c.cfg.eventList.offsite={eventTrigger:"click",selector:e.join(","),eventCallback:function(e){var t=e.target||e.srcElement||{},n=c._getHrefInfo(e);if(ORA.Debug.debug("Offsite Callback Called"),c._isEmptyObj(n))return{};for(;t&&"A"!==t.nodeName;)t=t.parentNode;var a=c.isSocial(t.href);return a&&c.cfg.trackSocial&&(n["WT.soc_action"]=a+":click"),c._checkOnsiteDom(t,e)?(ORA.Debug.debug("Offsite Callback Called - fails offsite test exiting"),{}):(n["WT.ti"]="Offsite:"+n.dcssip+n.dcsuri,n.dcsqry&&(n["WT.ti"]+=n.dcsqry),n["WT.dl"]="24",c._checkDeferred(n,t))}}},_addRightClickTracking:function(){ORA.Debug.info("Event Track plugin add right click tracking","ANA-ET");for(var e=[],t=c.cfg.downloadtypes.toLowerCase().split(","),n=0;n<t.length;n++)e.push('A[href*=".'+t[n]+'"]');c.cfg.eventList.rightClick={eventTrigger:"mousedown",selector:e.join(","),eventCallback:function(e){if(ORA.Debug.debug("Rightclick Callback Called"),!c._isRightClick(e)&&!c.cfg.testRightClick)return ORA.Debug.debug("RightClick Callback Called - exiting fails rightclick test"),{};var t=e.element||e.srcElement||e.target||{};return(e=c._getHrefInfo(e))?(e["WT.ti"]="RightClick:"+t.textContent||t.innerText,e["WT.dl"]="25",{data:e}):{}}}},_addJavaScriptTracking:function(){ORA.Debug.info("Event Track plugin add javascript tracking","ANA-ET"),c.cfg.eventList.javaScript={eventTrigger:"click",selector:'A[href*="javascript:"]',eventCallback:function(e){var t=e.element||e.srcElement||e.target||{};return e=c._getHrefInfo(e),c._isEmptyObj(e)?{}:(ORA.Debug.debug("JavaScript Callback Called"),e["WT.ti"]=t.innerHTML?"JavaScript:"+t.innerHTML:"JavaScript:",e["WT.dl"]="22",e.dcssip=window.location.hostname,e.dcsuri=t.href,{data:e})}}},_addAnchorTracking:function(){ORA.Debug.info("Event Track plugin add anchor tracking","ANA-ET");var e=window.location.pathname.split("/").pop();c.cfg.eventList.anchorTracking={eventTrigger:"click",selector:'A[href^="#"],A[href*="'+e+'#"]',eventCallback:function(e,t){var n=e.target||e.srcElement||{},a=c._getHrefInfo(e);if(c._isEmptyObj(a))return{};for(ORA.Debug.debug("Anchor Callback Called");n&&"A"!==n.nodeName;)n=n.parentNode;return c._checkOnsiteDom(n,e)&&t.hasHash(n)?(a["WT.ti"]="Anchor:"+(n.hash||"#"),a["WT.dl"]="21",t.checkFragment(n),{data:a}):(ORA.Debug.debug("Anchor Callback Called - no Hash address found, or offsite link - exiting hash:"+n.hash,"ANA-ET"),{})},hasHash:function(e){return e.hash&&-1<e.hash.indexOf("#")},checkFragment:function(e){ORA.analytics.plugins&&ORA.analytics.plugins.fragment&&ORA.analytics.plugins.fragment.updateFragData&&ORA.analytics.plugins.fragment.updateFragData(e.hash)}}},_addScrollTracking:function(){ORA.Debug.info("Event Track plugin add anchor tracking","ANA-ET"),c.cfg.eventList.scrollTracking={selector:"",eventTrigger:"scroll",eventCallback:function(){window.scrollTracker||(window.scrollTracker={1:!1,2:!1,3:!1,4:!1});var e,t=document.documentElement,n=document.body,t=Number((("CSS1Compat"===document.compatMode?t.clientHeight||window.innerHeight||0:n.clientHeight||0)+(window.pageYOffset||t&&t.scrollTop||n.scrollTop))/Math.max(n.scrollHeight,t.scrollHeight,n.offsetHeight,t.offsetHeight,n.clientHeight,t.clientHeight)*4).toFixed(0);if(window.scrollTracker[t])return{};for(e in window.scrollTracker[t]=!0,window.scrollTracker)window.scrollTracker.hasOwnProperty(e)&&e<t&&!window.scrollTracker[e]&&(window.scrollTracker[e]=!0,ORA.click({data:{"WT.page_scroll_depth":25*e,"WT.dl":"71"}}));return{data:{"WT.page_scroll_depth":25*Number(t),"WT.dl":"71"}}}}},addTracking:function(e,t){"object"==typeof e&&"string"==typeof t?c._eventCallback(e,t):ORA.Debug.debug("Ignoring addTrack call - obj or trigger type error","ANA-ET")}};ORA.regPlugin("evtTrack",c.init),ORA.analytics.plugins.evtTrack||(ORA.analytics.plugins.evtTrack={}),ORA.analytics.plugins.evtTrack.addTracking=c.addTracking,ORA.analytics.plugins.evtTrack._flushMsg=c._flushMsg,ORA.analytics.plugins.evtTrack.eventTrack=c}(),function(){var o={fragCfg:{paramHandling:"none",prefix:"fragment",addAnchorName:"none",virtualDl:26,testFragment:null,testPayload:null},fragData:{fragName:null,parmObj:{},fragFullStr:null},setConfig:function(e){var t,n=o.fragCfg;for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t])},init:function(e,t){var n=o,a=n.fragData,i=n.fragCfg,t=t||function(){};n.setConfig(e.config||{}),void 0!==i.enable&&!1===i.enable&&(ORA.Debug.debug("Plugin is disabled","ANA-fragment"),t()),a.fragFullStr=i.testFragment||window.location.hash,a.fragFullStr?(n.updateFragData(a.fragFullStr),ORA.analytics.addMutation("fragmentIdentifier",n.addFragMutation),i.virtualPageView&&(ORA.Debug.debug("Sending virtual fragment page view","ANA-fragment"),ORA.click({data:{"wt.dl":i.virtualDl,"wt.anchor_name":a.fragName}}))):ORA.Debug.debug("No fragments found for the URL on this page","ANA-fragment"),t(),ORA.Debug.debug("fragment Plugin init complete","ANA-fragment")},updateFragData:function(e){var t=o.fragData,n=[];e&&(n=e.split("?")),ORA.Debug.debug("Updating Fragment data using: "+e,"ANA-fragment"),t.fragFullStr=e,t.fragName=n[0],t.parmObj=1<n.length?ORA.common.getQryParams(n[1]):{}},addFragMutation:function(e){return e=o.isClickEvent(e.payload["wt.dl"])?o.applyClickEvent(e):e},isClickEvent:function(e){var t=this.fragCfg,n=this.isClickEvent;return n.applyClickEventOnly||(n.applyClickEventOnly=void 0===t.applyClickEventOnly||!1===t.applyClickEventOnly),void 0!==e&&"21"===e&&void 0!==t.applyClickEventOnly&&!0===t.applyClickEventOnly||n.applyClickEventOnly},applyClickEvent:function(e){var t,n=this.fragData,a=this.fragCfg,i="";for(t in"addPrefix"===a.paramHandling&&(i=a.prefix+"_"),n.parmObj)n.parmObj.hasOwnProperty(t)&&(e.payload[i+t]=n.parmObj[t]);switch(a.addAnchorName){case"name":e.payload["wt.anchor_name"]=n.fragName;break;case"fullString":e.payload["wt.anchor_name"]=n.fragFullStr}return e},rmFragMutation:function(){ORA.analytics.rmMutation("fragmentIdentifier")}};ORA.Debug.debug("fragmentIdentifier - Registering Plugin","ANA-fragment"),ORA.regPlugin("fragment",o.init,{blockCollect:!0}),ORA.analytics.plugins||(ORA.analytics.plugins={}),ORA.analytics.plugins.fragment||(ORA.analytics.plugins.fragment={}),ORA.analytics.plugins.fragment.updateFragData=o.updateFragData,window.QUnit&&(ORA.analytics.plugins.fragment=o)}(),function(){var o={cache:[],pollId:null,playerBoundCount:0,config:{load:!1,loadMeta:!1,pause:!0,quartile:!0,beacon:!1,beaconType:"auto",seek:!0,mute:!0,beaconRate:30,pctInc:25,volume:!0,bins:15,fullscreen:!0,playerId:"div[id^='vjs_video']:not([id$='_api']):not([id*='_component'])",trackCallback:function(e){ORA.click({data:e.args})},nameCallback:null,preProcess:null,transformCallback:null,beaconCurve:{60:10,120:20,300:30,420:45,600:60,1800:150},postMessage:!1,pollRate:250,poll:!0,playerReadyTimeout:20,maxBinds:10,mediaTags:!0},videoStates:function(){this.data={ORA:{clip_n:null,clip_id:null,clip_secs:null,clip_mins:null,clip_ct:null,clip_perc:null,clip_ev:null,clip_duration:null,clip_t:"Flash",clip_player:"Brightcove vjs",clip_vol:null,clip_res:null,clip_player_res:null,clip_duration_n:null,clip_tv:"1.0.3",clip_mode:"FixedDuration",clip_player_ver:null,player_id:null,player_playlist_id:null,clip_video_id:null,clip_accountId:null,dl:41},_state:0,_lastBeacon:0,_lastQuartile:0,_volSettle:-1,_seekSettle:-1,_loaded:!1,_duration:null,_timer:null,_start:!1,_sentLoad:!1,_myBeaconRate:0,_isMuted:!1,player:null,_fullScreen:!1,_isValidMeta:!1,_waitMeta:!1}},playEvent:function(e,t,n){var a=this.config,i=!1;return!("play"===e.data._state||!e.data._loaded||e.data._waitMeta||0<e.data._seekSettle)&&(!e.data._isValidMeta&&t.isReady_&&this.bcCallback(e,"meta",n),"pause"===e.data._state||"stop"===e.data._state?a.pause&&(e.data.ORA.clip_ev="Resume",i=!0,e.data._state="play"):(e.data.ORA.clip_ev="Play",i=e.data._loaded=!0,e.data._state="play",e.data._lastBeacon=0,e.data._lastQuartile=0,e.data.ORA.clip_perc="0",e.data.ORA.clip_secs=null,e.data.ORA.clip_mins=null,e.data.ORA.clip_res=t.height()+"x"+t.width(),e.data._seekSettle=55),e.data._start=!0,i)},metaEvent:function(e,t,n){var a=this.config,i=!1,o=t.mediainfo;if(void 0===o)return i;var r=t.options();return t.currentType()&&(e.data.ORA.clip_ct=t.currentType()),"string"==typeof t.techName_&&(e.data.ORA.clip_t=t.techName_.toUpperCase()),e.data.ORA.clip_id=o.id,e.data.ORA.player_id=r["data-player"],e.data.ORA.clip_player_ver=videojs.VERSION,e.data.ORA.player_playlist_id=r["data-playlist-id"],e.data.ORA.clip_video_id=o.id,e.data.ORA.clip_accountId=o.account_id,this.setMediaDuration(e,o),e.data._duration||(e.data.ORA.clip_mode="Stream",e.data.ORA.clip_duration=null,e.data._duration=null),e.data._myBeaconRate=a.beaconRate,this.setName(e,o,t),this.setBins(e),a.mediaTags&&void 0!==o.tags&&0<o.tags.length&&this.metaTags(e,o),e.data._fullScreen=t.isFullscreen(),e.data._sentLoad?e.data._loaded=!0:this.bcCallback(e,"load",n),e.data._isValidMeta=!0,e.data._waitMeta=!1,a.loadMeta&&(i=!0,e.data.ORA.clip_ev="Meta",e.data.ORA.dl=41),i},setMediaDuration:function(e,t){t.duration?(e.data.ORA.clip_duration=Math.floor(100*t.duration)/100,e.data._duration=t.duration):(e.data.ORA.clip_duration=null,e.data._duration=null)},setName:function(e,t,n){var a=this.config;e.data.ORA.clip_n=void 0!==t.name?t.name:t.src?t.src.split("/")[t.src.split("/").length-1].split(".")[0]:"not provided in meta","function"==typeof a.nameCallback&&(e.data.ORA.clip_n=a.nameCallback(n))},setBins:function(e){var t,n=this.config;n.bins&&e.data._duration&&0<e.data._duration&&(t=Math.floor((e.data._duration+n.bins)/n.bins),e.data.ORA.clip_durration_n=(t-1)*n.bins+"-"+t*n.bins)},metaTags:function(e,t){try{for(var n=[],a=0;a<t.tags.length;a++){var i=t.tags[a].split("=")[0];1<t.tags[a].split("=").length?e.data.ORA["clip_tag_"+i]=t.tags[a].split("=")[1]:n.push(i)}0<n.length&&(e.data.ORA.clip_tags=n.join(";"))}catch(e){}},pauseEvent:function(e,t,n,a){t=this.config;var i=!1;if(0<e.data._seekSettle)return i;if(97<e.data.ORA.clip_perc)this.bcCallback(e,"complete",n);else{if(!e.data._loaded||!e.data._start||"start"===e.data._state&&"begin"===e.data._state)return i;t.pause&&(i=!0),e.data._state=a,e.data.ORA.clip_ev="Pause"}return i},completeEvent:function(e,t,n,a){return t=!1,e.data._state=a,this.bcCallback(e,"timeupdate",n),"Complete"!==e.data.ORA.clip_ev&&(t=!0),e.data.ORA.clip_ev="Complete",e.data._start=!1,e.data.ORA.clip_perc=100,e.data._loaded=!1,e.data._isValidMeta=!1,t},errorEvent:function(e,t){return e.data.ORA.clip_ev="Error ",e.data.ORA.clip_ev+=t.error_.type,!0},progressEvent:function(e,t,n){var a,i=this.config,o=t.currentTime();return 0<e.data._seekSettle&&--e.data._seekSettle,5<Math.abs(Math.floor(100*o)/100-e.data.ORA.clip_secs)&&"complete"!==e.data._state&&this.bcCallback(e,"seek",n),e.data.ORA.clip_secs=Math.floor(o),e.data.ORA.clip_mins=Math.floor(o/60*100)/100,!!(i.quartile&&this.processQuartile(e)||this.processBeacon(e,o))||(0<=e.data._volSettle&&--e.data._volSettle,a=this.checkEnded(e,t,n,!1),this.setBins(e),this.isMuted(e,t,n),this.isPaused(e,t,n),this.setScreen(e,t,n),this.setVolume(e,t),a)},isPaused:function(e,t,n){e.data._start||t.paused()||this.bcCallback(e,"play",n)},isMuted:function(e,t,n){t.muted()!==e.data._isMuted&&this.bcCallback(e,"mute",n)},checkEnded:function(e,t,n,a,i){return t=i,"ended"===e.data._state&&(e.data.ORA.clip_ev="complete",e.data.ORA.clip_secs="0",e.data.ORA.clip_mins="0",e.data.ORA.clip_perc=null,t=!1,e.data._state="ended"),t},setVolume:function(e,t){void 0!==t.volume()&&(t.volume()===isNaN?e.data.ORA.clip_vol=100:e.data.ORA.clip_vol=Math.floor(1e3*t.volume())/10)},setScreen:function(e,t,n){e.data._fullScreen!==t.isFullscreen()&&0<t.readyState()&&(e.data._fullScreen=t.isFullscreen(),t.isFullscreen()?this.bcCallback(e,"fullscreen",n):this.bcCallback(e,"fullscreenexit",n))},processQuartile:function(e){var t=this.config;return e.data.ORA.clip_perc>=e.data._lastQuartile+t.pctInc?(e.data.ORA.clip_perc=Math.floor(e.data.ORA.clip_perc/t.pctInc)*t.pctInc,e.data._lastQuartile=e.data.ORA.clip_perc,e.data.ORA.clip_ev="Quartile",!0):e="complete"===e.data._state&&100!==e.data._lastQuartile&&(e.data.ORA.clip_perc=100,e.data._lastQuartile=e.data.ORA.clip_perc,e.data.ORA.clip_ev="Quartile",!0)},beaconCurve:function(e){var t,n=this.config;for(t in n.beaconCurve)if(n.beaconCurve.hasOwnProperty(t)&&e<=t)return n.beaconCurve[t];return null},processBeacon:function(t,e){var n=this.config,a=!1,i=null!==t.data.ORA.clip_mode&&"stream"===t.data.ORA.clip_mode.toLowerCase(),o=this.beaconCurve(e);try{("auto"===n.beaconType.toLowerCase()&&i||"curve"===n.beaconType)&&null!==beaconCurve?(0===e&&(t.data._lastBeacon=0),t.data._myBeaconRate=o):t.data._myBeaconRate=n.beaconRate}catch(e){t.data._myBeaconRate=n.beaconRate}return e>t.data._lastBeacon+t.data._myBeaconRate&&n.beacon&&(t.data.ORA.clip_ev="Beacon",a=!0,t.data._lastBeacon+=t.data._myBeaconRate),a},seekedEvent:function(e,t,n,a){n=this.config,t=t.currentTime();var i=!1;return e.data._lastBeacon=t,"ended"!==e.data._state&&n.seek&&0===e.data._seekSettle&&0!==t&&(e.data.ORA.clip_ev="Seek",i=!0,e.data._seekSettle=20),e.data._state=a,i},cancelseekEvent:function(e){return!(e.data._seekSettle=-1)},fullscreenEvent:function(e,t){var n=!1;return this.config.fullscreen&&t.isFullscreen()&&(e.data.ORA.clip_ev="Fullscreen",n=!0),n},loadstartEvent:function(e){var t=!1;return t=this.config.load?e.data._sentLoad=!1:t},loadEvent:function(e){var t=!1;return this.config.load&&!e.data._sentLoad&&(e.data.ORA.clip_ev="Load",t=!0),e.data._sentLoad=!0,e.data._loaded=!0,t},fullscreenexitEvent:function(e,t){var n=!1;return this.config.fullscreen&&!t.isFullscreen()&&(e.data.ORA.clip_ev="Fullscreenexit",n=!0),n},muteEvent:function(e,t){var n=!1;return this.config.mute&&(t.muted()?(e.data.ORA.clip_ev="Muted",e.data._isMuted=!0):(e.data.ORA.clip_ev="UnMuted",e.data._isMuted=!1),e.data._isMuted=t.muted(),n=!0),n},volumechangeEvent:function(e,t){var n=!1;return!this.config.volume||-1!==e.data._volSettle||e.data._isMuted||t.muted()||(e.data.ORA.clip_vol=Math.floor(1e3*t.volume())/10,e.data._volSettle=20,e.data.ORA.clip_ev="Volume",n=!0),n},bcCallback:function(e,t,n){var a=document.getElementById(n),i=window.videojs(n).player(),o=!1,r=i.currentTime();window.ORA&&ORA.Debug&&"progress"!==t&&"timeupdate"!==t&&ORA.Debug.debug("video_bc Plugin event "+t,"ANA"),e.data.ORA.clip_perc=r&&e.data._duration&&0<e.data._duration?Math.floor(r/e.data._duration*1e4)/100:null,e.data.ORA.dl=40,this.loadedmetadataEvent=this.metaEvent,this.endEvent=this.completeEvent,this.timeupdateEvent=this.progressEvent,this.seekEvent=this.seekedEvent,(o=void 0!==this[t+"Event"]?this[t+"Event"](e,i,n,t,o):o)&&this.sendTrackEvent(e,a)},sendTrackEvent:function(e,t){var n=this.config;window.ORA&&ORA.Debug.info("video_bc queueing data for "+e.data.ORA.clip_n+" : "+e.data.ORA.clip_ev,"ANA");var a,i={};for(a in e.data.ORA)e.data.ORA.hasOwnProperty(a)&&this.setTagParm(e,a,i);if(this.cache.push({element:this,args:i,transform:n.transformCallback,data:e.data.ORA,videoEle:t}),"function"==typeof n.trackCallback)try{n.trackCallback(this.cache.pop())}catch(e){window.ORA&&ORA.Debug.info("video_bc Error with trackCallback","ANA")}},setTagParm:function(e,t,n){"number"==typeof e.data.ORA[t]?("clip_secs"===t||"clip_perc"===t||"clip_mins"===t)&&0===e.data.ORA[t]||isNaN(e.data.ORA[t])?delete n["WT."+t]:n["WT."+t]=e.data.ORA[t].toString():null===e.data.ORA[t]?delete n["WT."+t]:n["WT."+t]=e.data.ORA[t]},bindPlayer:function(i){var e="pause play end mute complete loadstart loadeddata resize progress seeked error meta timeupdate cancelseek volumechange loadedmetadata".split(" ");if(o.playerBoundCount>this.config.maxBinds)window.ORA&&ORA.Debug.info("video_bc max binds reached","ANA");else try{window.videojs(i).ready(function(){var t=new o.videoStates,n=this,a=o.config;t.data.player=this,e.forEach(function(e){!function(){this.config=a,n.on(e,function(){o.bcCallback(t,e,i)})}.apply(this,[e,i,t,n,a])}),window.videojs(i).isReady_&&o.bcCallback(t,"meta",i),window.ORA&&ORA.Debug.info("video_bc Plugin bound to player "+i,"ANA")})}catch(e){window.ORA&&ORA.Debug.info("video_bc Plugin error binding to player "+i,"ANA")}o.playerBoundCount++},waitForPlayer:function(e){var t=this,n=e;setTimeout(function(){void 0!==window.videojs&&0<document.querySelectorAll(o.config.playerId+':not([data-wt="wtBound"])').length?t.lookForPlayers():"infinite"===n||0<n?(isNaN(n)||n--,t.waitForPlayer(n)):window.ORA&&ORA.Debug.info("video_bc Plugin time out waiting for player","ANA")},500)},pollPlayer:function(e){var t=this;this.pollId=setInterval(function(){t.lookForPlayers()},e)},reset:function(){if(this.pollId){clearInterval(this.pollId);var e=document.querySelectorAll(o.config.playerId);if(0<e.length)for(var t=0;t<e.length;t++)e[t].setAttribute("data-wtbc","")}},lookForPlayers:function(){try{var e=document.querySelectorAll(this.config.playerId)}catch(e){window.ORA&&ORA.Debug.info("video_bc Plugin error with selector "+this.config.playerId,"ANA")}if(void 0!==window.videojs&&0<document.querySelectorAll(this.config.playerId+":not([data-wtbc='Bound'])").length)for(var t=0;t<e.length;t++)this.bindPlayer(e[t].id),e[t].setAttribute("data-wtbc","Bound"),window.ORA&&ORA.Debug.info("video_bc Plugin binding to player "+e[t].id,"ANA")},bcInit:function(e){if(e=e.config||{},this.bcInfo("video_bc Plugin init start"),void 0===e.enable||e.enable){var t=ORA.common._getIEVer();if(t&&t<11)this.bcInfo("video_bc Plugin requires >= ie11, disabling plugin");else{for(var n in this.config)this.config.hasOwnProperty(n)&&void 0!==e[n]&&(this.config[n]=e[n]);this.reset(),this.config.poll?this.pollPlayer(this.config.pollRate):(this.lookForPlayers(),this.waitForPlayer(this.config.playerReadyTimeout)),this.bcInfo("video_bc Plugin init complete")}}else this.bcInfo("video_bc Plugin is disabled")},bcInfo:function(e){window.ORA&&ORA.Debug.info(e,"ANA")},init:function(e){o.bcInit(e)}};window.ORA&&ORA.regPlugin&&(ORA.regPlugin("bc",o.init),window.ORA.Debug.info("video_html5 Plugin registration request","ANA"),ORA.analytics.plugins||(ORA.analytics.plugins={}),ORA.analytics.plugins.bcVideo=o)}(),function(){function t(e){for(var t={},n=e=100<(e=(e=Math.round(Number(e)))<1?1:e)?100:e;n<=100;)t[n]=!1,n+=e;return t}function c(e){var t=(new Date).getTime();e["wt.hm_timeSpan"]=t-r}function s(e){try{if(window&&window.MMExperience&&"object"==typeof window.MMExperience&&p){for(var t=Object.getOwnPropertyNames(window.MMExperience).sort(),n="",a=0;a<t.length;a++){var i=t[a],o="";if(window.MMExperience.hasOwnProperty(i)){for(var r=window.MMExperience[i],c=Object.getOwnPropertyNames(r).sort(),s=r,l="",d=0;d<c.length;d++){var u=c[d],g=s[u],f="";d+1<c.length&&(f="|"),l+=u.toLowerCase()+":"+g.toLowerCase()+f}o=l}s="",a+1<t.length&&(s=","),n+=i.toLowerCase()+"="+o+s}e["wt.hm_experience"]=n}}catch(e){}}var n,a=this,i="onmousedown",o="scroll",l=50,d=null,u="default",r=(new Date).getTime(),g=null,p=!1,f=function(e,t,n){return parseInt(e,10)>=parseInt(t,10)?n-1:Math.floor(n/parseInt(t,10)*parseInt(e,10))},g=t(5),A=function(){var e=0,t=0;return"number"==typeof window.pageYOffset?(t=window.pageYOffset,e=window.pageXOffset):document.body&&document.body.scrollLeft&&document.body.scrollTop?(t=document.body.scrollTop,e=document.body.scrollLeft):document.documentElement&&document.documentElement.scrollLeft&&document.documentElement.scrollTop&&(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft),{x_offset:e,y_offset:t}},m={};this.genClickData=function(e){var t=e||window.event;t&&(t.target||t.srcElement)||ORA.Debug.debug("WARNING: defaultClickHandler unable to detect target element, not sending heatmap track","ANA-hm");var n=t.target||t.srcElement;ORA.hasVal(n.offsetLeft)&&ORA.hasVal(t.clientX)||ORA.Debug.debug("WARNING: defaultClickHandler event is missing click coords or target dom object missing offset, not sending heatmap track","ANA-hm");var a=function(e){var t=0,n=0;"number"==typeof window.innerWidth?(t=window.innerWidth,n=window.innerHeight):document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight?(t=document.documentElement.clientWidth,n=document.documentElement.clientHeight):document.body&&document.body.clientWidth&&document.body.clientHeight&&(t=document.body.clientWidth,n=document.body.clientHeight);var a=A();return e.clientX>t||e.clientX<0||e.clientY>n||e.clientY<0||"NaN"===e.clientX||"NaN"===a.x_offset||"NaN"===t||"Nan"===n?{}:{x:e.clientX+a.x_offset,y:e.clientY+a.y_offset}}(t),i=d(n),o=A();a&&i&&o||ORA.Debug.debug("WARNING: defaultClickHandler missing scroll or targetId, not sending heatmap track","ANA-hm"),e=function(e){var t=e.target||e.srcElement,n=d(t);if(document.querySelector){var a=(n=document.querySelector(n).getBoundingClientRect()).width,t=n.height,i=A(),o=i.x_offset;return i=(i=i.y_offset)+e.clientY-(i+n.top),{x:e=f(o+e.clientX-(o+n.left),a,l),y:t=f(i,t,l)}}return{x:t.clientX,y:t.clientY}}(e);function r(){var e=t.target||t.srcElement;return{h:e.clientHeight||0,w:e.clientWidth||0}}n={"wt.hm_winx":t.clientX,"wt.hm_winy":t.clientY,"wt.hm_targetx":n.offsetLeft,"wt.hm_targety":n.offsetTop,"wt.hm_scrolldx":o.x_offset,"wt.hm_scrolldy":o.y_offset,"wt.hm_x":a.x-n.offsetLeft,"wt.hm_y":a.y-n.offsetTop,"wt.hm_width":n.clientWidth,"wt.hm_height":n.clientHeight,"wt.hm_scaled_x":e.x,"wt.hm_scaled_y":e.y,"wt.hm_target_id":i,"wt.hm_targetw":r().w,"wt.hm_targeth":r().h,"wt.hm_resolution":l,"wt.hm_selectorType":u,"wt.dl":125};return c(n),s(n),n},this.getHorzScroll=function(e,t){return"CSS1Compat"===document.compatMode?e.clientHeight||window.innerHeight||0:t.clientHeight||0},this.genScrollData=function(e){var t=document.documentElement,n=document.body,a=getHorzScroll(t,n),t=Number((a+(window.pageYOffset||t&&t.scrollTop||n.scrollTop))/Math.max(n.scrollHeight,t.scrollHeight,n.offsetHeight,t.offsetHeight,n.clientHeight,t.clientHeight)*100).toFixed(0);switch(e){case"regular":if("boolean"!=typeof g[t]||g[t])return null;g[t]=!0;break;case"start":break;default:return null}return c(e={"wt.hm_scrollDepth":t,"wt.hm_scrollDepthType":e,"wt.dl":125}),s(e),e},a.setEventClickName=function(e){i=e},a.setEventScrollName=function(e){o=e},a.getEventClickName=function(){return i},a.getEventScrollName=function(){return o},a.removeClickHandler=function(e){ORA.removeDOMEvent(document,ORA.getSafeEventName(document,i),e)},a.removeScrollHandler=function(e){ORA.removeDOMEvent(document,ORA.getSafeEventName(document,o),e)},a.addClickHandler=function(e){ORA.addDOMEvent(document,ORA.getSafeEventName(document,i),e)},a.addScrollHandler=function(e){ORA.addDOMEvent(document,ORA.getSafeEventName(document,o),e)},a.replaceDefaultClickHandler=function(e){a.removeClickHandler(a.defaultClickHandler),a.addClickHandler(e)},a.replaceDefaultScrollHandler=function(e){a.removeScrollHandler(a.defaultScrollHandler),a.addScrollHandler(e)},a.defaultClickHandler=function(e){try{var t=a.genClickData(e);ORA.Debug.trace(ORA.common.JSONPrettify(t)),ORA.click({data:t})}catch(e){ORA.Debug.error("WARNING: click heatmap failed to track","013",e,"clickHeatmap defaultHandler")}},a.defaultScrollHandler=function(){try{var e;defaultScrollHandler.caller||!p||(e=a.genScrollData("regular"))&&(ORA.Debug.trace(ORA.common.JSONPrettify(e)),ORA.click({data:e}))}catch(e){ORA.Debug.error("WARNING: scroll heatmap failed to track","13",e,"scrollHeatmap defaultHandler")}};function O(){var e=a.genScrollData("start");e&&(ORA.Debug.trace(ORA.common.JSONPrettify(e)),ORA.click({data:e}))}a.reset=function(){a.removeClickHandler(a.defaultClickHandler),a.removeScrollHandler(a.defaultScrollHandler)},a.setup=function(e){e=e||{},m={default:ORA.common.getObjId,strict:ORA.common.getObjIdStrict,classes:ORA.common.getObjIdClasses},e.selectorEngineType&&(u=e.selectorEngineType),d=m.hasOwnProperty(u)?m[u]:m.default,e.clickEventName&&(i=e.clickEventName),e.resolution&&(l=e.resolution),e.scrollStep&&(n=e.scrollStep,g=t(n)),e.maxymiserEnable&&(p=e.maxymiserEnable),a.addClickHandler(a.defaultClickHandler),a.addScrollHandler(a.defaultScrollHandler)},ORA.Debug.debug("heatmap - Registering Plugin","ANA-hm"),ORA.regPlugin("heatmap",function(e,t){ORA.Debug.debug("heatmap - init start","ANA-hm");var n=t||function(){};e&&e.config&&void 0!==e.config.enable&&!e.config.enable?(ORA.Debug.info("heatmap Plugin is disabled","ANA"),n()):(t=ORA.analytics.getIEVer())&&t<9?(ORA.Debug.info("heatmap Plugin requires > IE9, disabling plugin","ANA"),n()):(a.setup(e.config),ORA.Debug.debug("heatmap - Starting scroll tracking","ANA-hm"),document&&document.body&&("complete"===document.readyState||"interactive"===document.readyState)?O():document.addEventListener("DOMContentLoaded",function(){O()}),n(),ORA.Debug.debug("heatmap - init complete ","ANA-hm"))}),ORA.analytics.plugins||(ORA.analytics.plugins={}),ORA.analytics.plugins.heatmap||(ORA.analytics.plugins.heatmap={}),ORA.analytics.plugins.heatmap=a}(),function(){var f={readCookies:[],enable:!0},a={},b={},c,d=function(e,t,n){-1<e.indexOf(t.parseOn||":")||-1<e.indexOf(t.parseLv||"=")?e.split(t.parseOn||":").forEach(function(e){c[n]||(c[n]={}),c[n][e.substr(0,e.indexOf(t.parseLv||"="))]=e.substr(e.indexOf(t.parseLv||"=")+1)}):c[n]=e},e=function(e,t,n){var i=!0;(i=n&&void 0!==n.persist?n.persist:i)?a[t]=e:b[t]=e},g=function(e){for(var t in a)a.hasOwnProperty(t)&&e.setParam(t,a[t]);if("seed message"===e.desc)for(var n in b)b.hasOwnProperty(n)&&e.setParam(n,b[n])},q=function(e){for(var t in f)f.hasOwnProperty(t)&&void 0!==e[t]&&(f[t]=e[t])};ORA.Debug.info("cookie cutter start registration","ANA-cookieCutter"),ORA.regPlugin("cookieCutter",function(t,n){ORA.Debug.info("cookie cutter start init","ANA-cookieCutter");var a=n||function(){},n=ORA.getIEVer();return n&&n<9?(ORA.Debug.info("requires >= ie9, disabling plugin","ANA-cookieCutter"),a()):(q(t.config),f.enable?(Object.values||(Object.values=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n}),f.readCookies.forEach(function(t){var n=Object.keys(t.cookie).shift(),a=Object.values(t.cookie).shift(),i=t.options;if(void 0===(c=c||{})[n])for(var o=document.cookie.split(";"),i=i||{},r=o.length-1;0<=r;r--){var s=o[r].substr(0,o[r].indexOf("=")).replace(/^\s+|\s+$/g,""),l=o[r].substr(o[r].indexOf("=")+1);n&&s===n&&d(l,i,s)}if(o=c[n]||"",ORA.Debug.debug("cookieCutter looking at: "+n),o)if(t=t.options,"object"==typeof o)for(var u in o)o.hasOwnProperty(u)&&void 0!==a[u]&&(e(o[u],a[u],t),ORA.Debug.debug("cookie cutter found target "+a[u]+"="+o[u]+" - "+JSON.stringify(t)));else e(o,a,t),ORA.Debug.debug("cookie cutter found target "+o+"="+a+" - "+JSON.stringify(t))}),ORA.analytics.addMutation("cookiecutter",g),ORA.Debug.info("cookie cutter complete init","ANA-cookieCutter")):ORA.Debug.info("cookie cutter is disables","ANA-cookieCutter"),a())}),ORA.Debug.info("cookie cutter start registration complete","ANA-cookieCutter"),ORA.analytics.plugins.cookieCutter={},ORA.analytics.plugins.cookieCutter.testNode=function(m){return eval(m)},ORA.analytics.plugins.cookieCutter.t1=function(){return f},ORA.analytics.plugins.cookieCutter.t2=function(){return c},ORA.analytics.plugins.cookieCutter.t3=function(){return{persist:a,session:b}},ORA.analytics.plugins.cookieCutter.t3=function(){a={},b={}}}(),function(){function e(){this.getCookieDomain=function(){var e="",t=u.cookieDomain;return t==location.hostname&&(t=""),s&&s.FPCConfig&&s.FPCConfig.domain&&(e=s.FPCConfig.domain),ORA.Debug.debug("sDCSDomain: "+e,"ANA - pp"),t&&"."===t.charAt(0)&&(t=t.slice(1)),u.cookieDomain?t:e||ORA.cookieMgr.checkCookieOnDomainAndGetTLDomain()}}function t(){this.savePersistedParams=function(e,t,n,a){var i=new Date;i.setDate(i.getDate()+a),a=";domain="+n+";path=/;expires="+i.toUTCString(),n||(a=";path=/;expires="+i.toUTCString()),r(e,t,a)},this.getPersistedParams=function(e){var t=ORA.common.extendObject({});return null===(e=c(e))?t:d.getQueryParamsMap(e)}}var r,c,s,l,u={enable:!0,cookieDays:365,cookieName:"ORAPERSIST",cookieDomain:"",params:"dcsvid infy riid rid customer_id elqCID elq_cid elq_mid product".split(" "),defPrefix:"DCSext",priority:100,useMostRecent:!0,lowerCaseValues:!0},d=new function(){var d=this;d.getQueryParamsMap=function(e,t){var n=ORA.common.extendObject({}),a=[],i=e,o=t||u;try{n=JSON.parse(e)}catch(e){for(var r=0,c=(a="string"==typeof i?(i=i.replace(/^[&\?\s]+/i,"")).split("&"):a).length;r<c;++r){var s=(i=(i=a[r]).split("="))[0].toLowerCase();""!==s&&(n[s]=o.lowerCaseValues?decodeURIComponent(i[1].toLowerCase()):decodeURIComponent(i[1]))}}return n},d.getValueOfExistingParam=function(e,n,a,t,i){var o,r=null,c=i||u;return e.forEach(function(e,t){t.toLowerCase()!==a&&t.toLowerCase()!==n||(o=c.lowerCaseValues&&"string"==typeof e?e.toLowerCase():e)}),o?(r=o,ORA.Debug.debug("Taking current value from QRY: "+a+'="'+r+'"',"ANA - pp")):null!==t.getParam(a)&&(r=t.getParam(a),ORA.Debug.debug("Taking current value from dcsMsg: "+a+'="'+r+'"',"ANA - pp")),r&&ORA.Debug.debug("Param (current value): "+a+'="'+r+'"',"ANA - pp"),r},d.getParamValue=function(e,t,n,a,i){return e=d.getValueOfExistingParam(e,t,n,a),n=d.getQueryParam(i,n),n=null!==e&&"undefined"!==e&&(u.useMostRecent||null===n)?e:n},d.getQueryParam=function(e,n){var a=null;return e.forEach(function(e,t){t.toLowerCase()===n&&(a=e)}),a},d.applyPreviouslyPersistedParamsValues=function(e,t,n){for(var a="",i=ORA.common.extendObject({}),o=0,r=u.params.length;o<r;++o){var c=u.params[o],s=c;ORA.Debug.info("Processing param: "+c,"ANA - pp"),t[c]=d.getParamValue(e,c,s,n,t);var l=d.getQueryParam(t,c);l&&(ORA.Debug.info("Overriding MSG value with saved value: "+s+'="'+l+'"',"ANA - pp"),n.setParam(s,l,!0),i[s]=l),(s=d.getQueryParam(e,c)||d.getQueryParam(e,s))&&ORA.common.QueryParamCache.set(c,s)}return i.forEach(function(e,t){a=a+"&"+t+"="+encodeURIComponent(e)}),a=a.replace(/^[&\?\s]+/i,"")},d.arrayIndexOf=function(e,t){if(!ORA.analytics.isArray(e))return-1;if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1}},n=new function(){var o=this,a=new e,i=new t;o.ppMutation=function(e){var t=ORA.common.QueryParamCache.getCache(),n=i.getPersistedParams(u.cookieName);ORA.Debug.debug("QRY params: "+JSON.stringify(t),"ANA - pp"),e=d.applyPreviouslyPersistedParamsValues(t,n,e),l||(l=a.getCookieDomain(),ORA.Debug.debug("Cookie domain to use: "+l,"ANA - pp")),ORA.Debug.debug("Saving persistent params in cookie: "+u.cookieName+'="'+e+'"',"ANA - pp"),i.savePersistedParams(u.cookieName,e,l,u.cookieDays)},o.ppInit=function(e,t){if(a=e.config){for(var n in a)a.hasOwnProperty(n)&&(u[n]=a[n]);for(var a=[],n=0,i=u.params.length;n<i;++n)u.params[n]=u.params[n].toLowerCase(),a.push(u.params[n]);u.params=a}ORA.Debug.info("initializing...","ANA - pp"),u.enable?u.params&&0!==u.params.length?(ORA.Debug.debug("params to persist: "+u.params.join(", "),"ANA - pp"),r=ORA.analytics.setCookie,c=ORA.analytics.getCookieRaw,s=ORA.analytics.dcsRef,ORA.analytics.addMutation("persistParams",o.ppMutation,3)):ORA.Debug.debug("no persist params defined - will not run","ANA - pp"):ORA.Debug.debug("disabled in config - will not run","ANA - pp"),u.blockCollect&&t&&t()}};ORA.regPlugin("pp",n.ppInit),ORA.plugins||(ORA.plugins={}),ORA.plugins.pp||(ORA.plugins.pp={}),ORA.Debug.debug("PP: Plugin initialized","ANA - pp"),ORA.plugins.pp.Domain=new e,ORA.plugins.pp.PersistParams=new t,ORA.plugins.pp.OraclePP=n,ORA.plugins.pp.helper=d,ORA.plugins.pp.config=u}(),ORA.Debug.debug("PP: Loading Plugin","ANA"),function(){function m(e){return!isNaN(parseFloat(e))&&isFinite(e)}function O(e,t,n){for(var a in i)i.hasOwnProperty(a)&&void 0!==t[i[a][0]]&&(e[a]=Number((t[i[a][0]]-t[i[a][1]])/1e3).toFixed(3),e[a]>n&&delete e[a]);return e}function o(e,n){setTimeout(function(){var t=a(e,n);"wt.tm_pageLoad wt.tm_pageRedir wt.tm_serverConn wt.tm_pageDns wt.tm_serverResponse wt.tm_pageDownload wt.tm_domContentLoaded wt.tm_pageReady".split(" ").forEach(function(e){t[e]<0&&(delete t[e],ORA.Debug.debug("PLT - Removing data - negative numbers found "+e+"="+t[e],"PLT_ANA"),ORA.Debug.debug("PLT - This is typically because the wait time it too short","PLT_ANA"))}),ORA.Debug.debug("PLT - Sending PLT data "+JSON.stringify(t,null,4),"PLT_ANA"),ORA.click({data:t})},h.waitTime)}function e(e){try{var t=window.performance||window.webkitPerformance;ORA.Debug.debug("PLT - Initializing","PLT_ANA");var n,a=e.config;for(n in h)h.hasOwnProperty(n)&&void 0!==a[n]&&(h[n]=a[n]);if(!h.enable||!t)return void ORA.Debug.debug("PLT - Exiting - disables or no browser support for timing","PLT_ANA");var i=6e4*h.maxT;0<h.sampleRate-100*Math.random()&&("complete"===document.readyState?o(t,i):window.addEventListener?window.addEventListener("load",o(t,i)):window.attachEvent("onload",o(t,i)))}catch(e){ORA.Debug.debug("PLT - Init error","PLT_ANA")}ORA.Debug.debug("PLT - Init complete","PLT_ANA")}var h={sampleRate:50,maxT:2,waitTime:150,assetFilter:".*js",enable:!0,enablePerf:!1,perfLimit:50},i={"wt.tm_pageReady":["loadEventEnd","navigationStart"],"wt.tm_pageRedir":["redirectEnd","redirectStart"],"wt.tm_serverConn":["connectEnd","connectStart"],"wt.tm_pageDns":["domainLookupEnd","domainLookupStart"],"wt.tm_serverResponse":["responseEnd","responseStart"],"wt.tm_pageDownload":["responseEnd","requestStart"],"wt.tm_domContentLoaded":["domContentLoadedEventEnd","navigationStart"],"wt.tm_redirect":["redirectEnd","redirectStart"]},R={"ora.tm_transferSize":["transferSize"],"ora.tm_encodedSize":["encodedBodySize"],"ora.tm_connect":["connectEnd","connectStart"],"ora.tm_domainLookup":["domainLookupEnd","domainLookupStart"],"ora.tm_duration":["duration"],"ora.tm_response":["responseEnd","responseStart"],"ora.tm_assetName":["name"]},a=function(e,t){var n={};if(0===(a=e.timing).navigationStart)return n;if((n=O(n,a,t))["wt.dl"]=70,n["wt.tm_tv"]="1.0.4",!performance||void 0===performance.getEntries||0===performance.getEntries().length||!h.enablePerf)return ORA.Debug.debug("Browser does not support page performance monitoring or performance monitoring is disabled","PLT_ANA"),n;var a=performance.getEntries()||[],i=[];i["ora.tm_cached"]=[],i["ora.tm_start"]=[];for(var o,r=0,c=0;c<a.length&&r<h.perfLimit;c++)if(new RegExp(h.assetFilter).test(a[c].name)){r++;var s,l,d,u,g=void 0,f=i,p=c,A=a;for(g in R)R.hasOwnProperty(g)&&(d=p,u=A,(s=f)[l=g]=s[l]||[],void 0!==u[d][R[l][0]]?2===R[l].length?s[l].push(Number(u[d][R[l][0]]-u[d][R[l][1]]).toFixed(3)):m(u[d][R[l][0]])&&"transferSize"!==R[l][0]?s[l].push(Number(u[d][R[l][0]]).toFixed(3)):m(u[d][R[l][0]])?s[l].push(Number(u[d][R[l][0]]).toFixed(0)):0<u[d][R[l][0]].length?s[l].push(u[d][R[l][0]]):s[l].push(""):s[l].push(""));void 0!==a[c].transferSize&&0<a[c].transferSize?i["ora.tm_cached"].push("1"):i["ora.tm_cached"].push("0"),0!==c?i["ora.tm_start"].push(Number(a[c].startTime-a[0].responseEnd).toFixed(3)):i["ora.tm_start"].push(Number(0).toFixed(3))}for(o in i)i.hasOwnProperty(o)&&(n[o]=i[o].join(";"));return n};ORA.analytics.plugins||(ORA.analytics.plugins={}),ORA.analytics.plugins.pageLoadTiming={},ORA.analytics.plugins.pageLoadTiming.getTiming=a,ORA.analytics.plugins.pageLoadTiming.init=e,ORA.analytics.plugins.pageLoadTiming.addPageResults=O,ORA.analytics.plugins.pageLoadTiming.addPageLoadtrack=o,ORA.analytics.plugins.pageLoadTiming.cfg=h,ORA.regPlugin("plt",e)}(),ORA.setExecuteState("analytics","ready"),ORA.fireEvent(new ORA.Event(ORA.Event.ANA_LOAD_COMPLETE,ORA.Event.STATUS_SUCCESS),!0);

import{S as e,i as l,s as t,l as s,f as a,d as o,e as n,c,a as r,b as i,v as u,k as h,n as p,G as f,F as d,P as g,O as m,r as $,B as v,u as b,H as w,Q as y,R as k,T as x,U as T,K as q,N as z,J as E,V as j,j as I,m as S,o as A,w as O,z as P,W as U}from"./vendor-808bba56.js";import{a as _}from"./paths-2c73d5fe.js";import{b as D}from"./env-984c559a.js";const{window:H}=T;function N(e,l,t){const s=e.slice();return s[28]=l[t],s}const G=e=>({option:8&e,highlighted:12&e,search:1&e,regex:16&e}),V=e=>({option:e[28],highlighted:e[28]===e[2],search:e[0],regex:e[4]});function B(e){let l,t;return{c(){l=n("img"),this.h()},l(e){l=c(e,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){i(l,"class","icon-search svelte-z7q7fo"),i(l,"alt","Search icon"),l.src!==(t=_+"/images/icon-search.svg")&&i(l,"src",t)},m(e,t){a(e,l,t)},p:q,d(e){e&&o(l)}}}function C(e){let l,t,s,r;return{c(){l=n("img"),this.h()},l(e){l=c(e,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){i(l,"class","icon-clear svelte-z7q7fo"),i(l,"alt","Clear icon"),l.src!==(t=_+"/images/icon-clear.svg")&&i(l,"src",t)},m(t,o){a(t,l,o),s||(r=g(l,"click",e[14]),s=!0)},p:q,d(e){e&&o(l),s=!1,r()}}}function L(e){let l,t,s=e[3],h=[];for(let a=0;a<s.length;a+=1)h[a]=M(N(e,s,a));const p=e=>$(h[e],1,1,(()=>{h[e]=null}));return{c(){l=n("ul");for(let e=0;e<h.length;e+=1)h[e].c();this.h()},l(e){l=c(e,"UL",{class:!0});var t=r(l);for(let l=0;l<h.length;l+=1)h[l].l(t);t.forEach(o),this.h()},h(){i(l,"class","svelte-z7q7fo")},m(s,o){a(s,l,o);for(let e=0;e<h.length;e+=1)h[e].m(l,null);e[24](l),t=!0},p(e,t){if(270877&t){let a;for(s=e[3],a=0;a<s.length;a+=1){const o=N(e,s,a);h[a]?(h[a].p(o,t),u(h[a],1)):(h[a]=M(o),h[a].c(),u(h[a],1),h[a].m(l,null))}for(v(),a=s.length;a<h.length;a+=1)p(a);b()}},i(e){if(!t){for(let e=0;e<s.length;e+=1)u(h[e]);t=!0}},o(e){h=h.filter(Boolean);for(let l=0;l<h.length;l+=1)$(h[l]);t=!1},d(t){t&&o(l),w(h,t),e[24](null)}}}function M(e){let l,t,v,b,w,y;const k=e[19].default,x=z(k,e,e[18],V),T=x||function(e){let l,t,n=e[9](e[28].label,e[4])+"";return{c(){t=s(),this.h()},l(e){t=s(),this.h()},h(){l=new j(t)},m(e,s){l.m(n,e,s),a(e,t,s)},p(e,t){24&t&&n!==(n=e[9](e[28].label,e[4])+"")&&l.p(n)},d(e){e&&o(t),e&&l.d()}}}(e);function q(...l){return e[23](e[28],...l)}return{c(){l=n("li"),t=n("span"),T&&T.c(),v=h(),this.h()},l(e){l=c(e,"LI",{class:!0});var s=r(l);t=c(s,"SPAN",{});var a=r(t);T&&T.l(a),a.forEach(o),v=p(s),s.forEach(o),this.h()},h(){i(l,"class","svelte-z7q7fo"),f(l,"highlighted",e[28]===e[2])},m(e,s){a(e,l,s),d(l,t),T&&T.m(t,null),d(l,v),b=!0,w||(y=g(l,"click",q),w=!0)},p(t,s){e=t,x?x.p&&262173&s&&m(x,k,e,e[18],s,G,V):T&&T.p&&24&s&&T.p(e,s),12&s&&f(l,"highlighted",e[28]===e[2])},i(e){b||(u(T,e),b=!0)},o(e){$(T,e),b=!1},d(e){e&&o(l),T&&T.d(e),w=!1,y()}}}function R(e){let l,t,f,m,w,x,T,q,z,E=function(e){let l;function t(e,l){return e[7]&&""!==e[7].value&&e[6]?C:B}let n=t(e),c=n(e);return{c(){c.c(),l=s()},l(e){c.l(e),l=s()},m(e,t){c.m(e,t),a(e,l,t)},p(e,s){n===(n=t(e))&&c?c.p(e,s):(c.d(1),c=n(e),c&&(c.c(),c.m(l.parentNode,l)))},d(e){c.d(e),e&&o(l)}}}(e),j=e[5]&&e[6]&&e[3].length>0&&L(e);return{c(){l=n("div"),t=n("input"),f=h(),E&&E.c(),m=h(),w=n("div"),j&&j.c(),x=h(),this.h()},l(e){l=c(e,"DIV",{class:!0});var s=r(l);t=c(s,"INPUT",{disabled:!0,placeholder:!0,autocomplete:!0,class:!0}),f=p(s),E&&E.l(s),m=p(s),w=c(s,"DIV",{class:!0});var a=r(w);j&&j.l(a),a.forEach(o),s.forEach(o),x=p(e),this.h()},h(){t.disabled=!D,i(t,"placeholder",e[1]),i(t,"autocomplete","none"),i(t,"class","svelte-z7q7fo"),i(w,"class","options svelte-z7q7fo"),i(l,"class","autocomplete svelte-z7q7fo")},m(s,o){a(s,l,o),d(l,t),e[21](t),y(t,e[0]),d(l,f),E&&E.m(l,null),d(l,m),d(l,w),j&&j.m(w,null),a(s,x,o),T=!0,q||(z=[g(H,"click",e[20]),g(t,"input",e[22]),g(t,"focus",e[10]),g(t,"blur",e[11]),g(t,"keydown",e[12]),g(l,"click",W)],q=!0)},p(e,[l]){(!T||2&l)&&i(t,"placeholder",e[1]),1&l&&t.value!==e[0]&&y(t,e[0]),E.p(e,l),e[5]&&e[6]&&e[3].length>0?j?(j.p(e,l),104&l&&u(j,1)):(j=L(e),j.c(),u(j,1),j.m(w,null)):j&&(v(),$(j,1,1,(()=>{j=null})),b())},i(e){T||(u(j),T=!0)},o(e){$(j),T=!1},d(t){t&&o(l),e[21](null),E&&E.d(),j&&j.d(),t&&o(x),q=!1,k(z)}}}const W=e=>e.stopPropagation();function F(e,l,t){let s,{$$slots:a={},$$scope:o}=l;const n=x();let c,r,i,{options:u}=l,{value:h}=l,{search:p=""}=l,{placeholder:f=""}=l,{get_results:d=(e=>u.filter((l=>e.test(l))).map((e=>({label:e,value:e}))))}=l,g=!1,m=!1,$=null,v=[];const b=(e,l)=>{l.preventDefault(),e&&(t(0,p=e.label),n("change",t(15,h=e))),t(5,g=!1),c.blur()},w=e=>{const l=r.querySelectorAll("li")[e],s=l.offsetTop,a=s+l.offsetHeight;s<r.scrollTop?t(8,r.scrollTop=s,r):a>r.scrollTop+r.clientHeight&&t(8,r.scrollTop=a-r.clientHeight,r)};return e.$$set=e=>{"options"in e&&t(16,u=e.options),"value"in e&&t(15,h=e.value),"search"in e&&t(0,p=e.search),"placeholder"in e&&t(1,f=e.placeholder),"get_results"in e&&t(17,d=e.get_results),"$$scope"in e&&t(18,o=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&t(4,s=new RegExp(p.replace(/ae/gi,"(?:ae|Ã¦)").replace(/oe/gi,"(?:oe|Å“)").replace(/a/gi,"[aÃ Ã¡Ã¢Ã¤Ã£Ã¥Ä]").replace(/c/gi,"[cÃ§Ä‡Ä]").replace(/e/gi,"[eÃ¨Ã©ÃªÃ«Ä“Ä—Ä™]").replace(/i/gi,"[iÃ®Ã¯Ã­Ä«Ä¯Ã¬]").replace(/n/gi,"[nÃ±Å„]").replace(/o/gi,"[oÃ´Ã¶Ã²Ã³Ã¸ÅÃµ]").replace(/u/gi,"[uÃ»Ã¼Ã¹ÃºÅ«]"),"i")),131088&e.$$.dirty&&Promise.resolve(d(s)).then((e=>{t(3,v=e)})),12&e.$$.dirty&&(v.includes($)||t(2,$=v[0]))},[p,f,$,v,s,g,m,c,r,(e,l)=>e.replace(l,(e=>`<mark>${e}</mark>`)),()=>{t(5,g=!0),t(6,m=!1),t(2,$=v[0]),setTimeout((()=>c.select())),n("focus")},()=>{i=window.setTimeout((()=>{t(5,g=!1),t(6,m=!1),t(2,$=v[0])}),500)},e=>{if(t(6,m=!0),"Escape"===e.key)t(5,g=!1),c.blur();else if("ArrowUp"===e.key){const e=v.indexOf($);t(2,$=0===e?v[v.length-1]:v[e-1]),w(v.indexOf($))}else if("ArrowDown"===e.key){const e=v.indexOf($);t(2,$=e===v.length-1?v[0]:v[e+1]),w(v.indexOf($))}else"Enter"===e.key&&b($,e)},b,()=>{c&&(i&&clearTimeout(i),t(7,c.value="",c),c.focus())},h,u,d,o,a,()=>t(5,g=!1),function(e){E[e?"unshift":"push"]((()=>{c=e,t(7,c)}))},function(){p=this.value,t(0,p)},(e,l)=>b(e,l),function(e){E[e?"unshift":"push"]((()=>{r=e,t(8,r)}))}]}class J extends e{constructor(e){super(),l(this,e,F,R,t,{options:16,value:15,search:0,placeholder:1,get_results:17})}}function K(e){let l,t;return l=new J({props:{search:e[0],get_results:e[2],placeholder:e[1]}}),l.$on("select",e[3]),l.$on("change",e[4]),{c(){I(l.$$.fragment)},l(e){S(l.$$.fragment,e)},m(e,s){A(l,e,s),t=!0},p(e,[t]){const s={};1&t&&(s.search=e[0]),2&t&&(s.placeholder=e[1]),l.$set(s)},i(e){t||(u(l.$$.fragment,e),t=!0)},o(e){$(l.$$.fragment,e),t=!1},d(e){O(l,e)}}}function Q(e,l,t){let s,{search:a=""}=l,{placeholder:o="Search to find your county"}=l;return P((async()=>{})),e.$$set=e=>{"search"in e&&t(0,a=e.search),"placeholder"in e&&t(1,o=e.placeholder)},[a,o,async function(e){return s||(s=await async function(){const e=await fetch(`${_}/data/counties.json`);return(await e.json()).map((e=>{const l="USA-11001"===e.geoid?"Washington":e.name;return{label:e.state?`${l}, ${e.state}`:`${l}`,value:{slug:e.slug,geoid:e.geoid,population:e.population,url:e.url}}})).sort(((e,l)=>e.value.population>l.value.population?-1:1))}()),s.filter((({label:l})=>e.test(l))).sort(((l,t)=>l.label.search(e)-t.label.search(e)||t.value.population-l.value.population)).slice(0,32)},function(l){U(e,l)},function(l){U(e,l)}]}class X extends e{constructor(e){super(),l(this,e,Q,K,t,{search:0,placeholder:1})}}export{X as C};
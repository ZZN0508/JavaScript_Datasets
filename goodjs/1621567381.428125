var b$=b$||{};b$.universal=b$.universal||{},b$.universal.widgets=b$.universal.widgets||{},b$.universal.widgets.lifestageWidget=function(p){"use strict";define("home-overlay-links",function(e,t,n){n.exports={homeOverlayone:function(e,d,c,f,t){p(".homeOverlayLinks .overlay-links ul li a img").each(function(){0<this.src.length?p(this).addClass("list-icon"):p(this).hide()}),p(d.htmlNode).find(".homeOverlayLinks .overlay-links ul li").on("click",function(e){var t=p(this).children("li a").text();(-1<t.indexOf("chat")||-1<t.indexOf("Chat"))&&(e.preventDefault(),toggleEvaChat())}),p.ajax({url:e,success:function(e){var a=e,l=a.list,s=0,t=p(d.htmlNode).parents(".right-side-scroll-fix").css("transform");p(d.htmlNode).find(".overlay-links ul li a").on("click",function(e){p(".breadcrumb.hdfc-portal-breadcrum").css("z-index","0"),e.preventDefault();var t=p(this).text();if(t.indexOf("chat")<0&&t.indexOf("Chat")<0){var n="";if(0<=(s=a.SplittedMenu.leftMenuUrl?p(this).parent("li").index()-1:p(this).parent("li").index())){null!=l[s].url&&(n=l[s].url);var r=v+l[s].loginUrl,o=l[s].listName,i=l[s].overlayDescription}0==f&&0<=s?1==l[s].isLoginRequired&&0==f?(p(".c-template-hdfc-middle-section .large-side-scroll-fix").css("z-index","0"),p(d.htmlNode).parents(".right-side-scroll-fix").css("transform",""),p(d.htmlNode).find(".popup-heading").text(o),p(d.htmlNode).find(".popup-description").text(i),p(d.htmlNode).find(".know-more").attr("href",v+n),p(d.htmlNode).find(".nb-login").attr("href",v+"/login?redirect="+v+l[s].loginUrl),p(d.htmlNode).find(".nb-login").attr("value","decision"),"SME popup"==l[s].overlayTypeSME&&(p(d.htmlNode).find(".nb-login").attr("value",""),p(d.htmlNode).find(".nb-login").on("click",function(e){e.preventDefault(),gadgets.pubsub.publish("otherLogin","sme")})),p(d.htmlNode).find(".cover").css("display","block"),p("body").addClass("stop-scroll"),p(".bp-manageableArea").css("z-index","99999"),p(".middle-menu-bar").css("z-index","0"),p(d.htmlNode).find(".popup-container").addClass("opened"),null!=l[s].KnowMoreButtonName?p(d.htmlNode).find(".know-more").text(l[s].KnowMoreButtonName):p(d.htmlNode).find(".know-more").text("Know More"),null!=l[s].loginButtonName?p(d.htmlNode).find(".nb-login").text(l[s].loginButtonName):p(d.htmlNode).find(".nb-login").text("Login")):-1<n.toString().indexOf(".pdf")?window.open(c+"/content/bbp/repositories/723fb80a-2dde-42a3-9793-7ae1be57c87f/?path="+n,"_blank"):-1<n.indexOf("http")?"ext-link"==p(this).attr("value")?event.preventDefault():m.portal.navigateTo(n):0<=s&&(null==l[s].url&&1==l[s].overlayRequired?(event.preventDefault(),p(this).attr("href","#")):m.portal.navigateTo(v+n)):-1<n.indexOf("http")?m.portal.navigateTo(n):s<0?m.portal.navigateTo(p(this)[0].pathname):m.portal.navigateTo(r)}}),p(".close-button, .nb-login").on("click",function(){p(".bp-manageableArea").css("z-index",""),p(".middle-menu-bar").css("z-index","99999"),p(d.htmlNode).parents(".right-side-scroll-fix").css("transform",t),p(d.htmlNode).find(".cover").css("display","none"),p("body").removeClass("stop-scroll"),p(d.htmlNode).find(".popup-container").removeClass("opened"),p(".breadcrumb.hdfc-portal-breadcrum").css("z-index","9")}),p(d.htmlNode).find(".overlay-links .view-all a").attr("href","javascript:void(0)")},error:function(e){}})}}}),define("gap",function(e,t,n){p(".lifestageContainer .lifestageParent .superParent .adbannersParent").on("click",function(){if(!m.portal.isGapDisabled()&&!m.portal.isLogin){var e=p(this).children(".heading").text(),t=document.referrer,n=window.location.href,r=p(".header-menu .navbar-collapse .normal-main-header li.active a").text(),o=m.portal.typeOfDevice();dataLayer.push({articlename:e,referral:t,"page path":n,"Page section":r,userID:"null",deviceType:o,userType:"null",event:"Lifestage Solutions"})}})}),define("utils",["features/%5BBBHOST%5D/feature-hdfc-slick-slider/scripts/slick"],function(e,t,n){p(".adbannersParent").on("click",function(){var e=p(this).find(".adLink").attr("href");m.portal.navigateTo(e)}),p(".lifestage-slider .regular").slick({dots:!1,infinite:!1,adaptiveHeight:!0,arrows:!1,responsive:[{breakpoint:768,settings:{slidesToShow:1.5,slidesToScroll:1}},{breakpoint:541,settings:{slidesToShow:1.3,slidesToScroll:1}},{breakpoint:481,settings:{slidesToShow:1.2,slidesToScroll:1}},{breakpoint:321,settings:{slidesToShow:1.1,slidesToScroll:1}}]}),p(".offersSubParent,.offers-imp").on("click",function(){var e=p(this).find(".offersLink").attr("href");m.portal.navigateTo(e)}),p(".life-parent .trustedSuperParent").eq(1).css("padding-top","0px"),p(".life-parent .trustedSuperParent").eq(1).css("border-bottom","1px solid #dedede"),p(".lifestageParent .offersSuperParent").eq(1).find(".offersParent").css("border-bottom","none"),p(".lifestageParent .offersSuperParent").eq(1).css("border-bottom","1px solid #dedede"),p(".offers-slider .regular").slick({dots:!1,infinite:!1,arrows:!1,adaptiveHeight:!0,responsive:[{breakpoint:768,settings:{slidesToShow:1.5,slidesToScroll:1}},{breakpoint:540,settings:{slidesToShow:1.3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1.2,slidesToScroll:1}},{breakpoint:320,settings:{slidesToShow:1.1,slidesToScroll:1}}]})}),p(document).ready(function(){var n=[];p(".Identify").each(function(e,t){n.push(p(t).text().trim())});for(var e=n.filter(function(e,t,n){return t==n.indexOf(e)}),t=0;t<e.length;t++);p(".sub-content").each(function(e,t){0==e?p(this).css("display","block"):p(this).css("display","none")}),p(".allMilesTabs li:first-child").addClass("active"),p(".allMilesTabs li").on("click",function(){var n=p(this).index();p(".allMilesTabs").find(".active").removeClass("active"),p(".allMilesTabs li").eq(n).addClass("active"),p(".sub-content").each(function(e,t){e==n?p(this).css("display","block"):p(this).css("display","none")})}),p(".arrow-icon").addClass("glyphicon-menu-down"),p(".hideForLarge").on("click",function(){p(this).next().slideToggle(),p(this).find(".arrow-icon").hasClass("glyphicon-menu-up")?(p(this).find(".arrow-icon").removeClass("glyphicon-menu-up"),p(this).find(".arrow-icon").addClass("glyphicon-menu-down")):p(this).find(".arrow-icon").hasClass("glyphicon-menu-down")&&(p(this).find(".arrow-icon").removeClass("glyphicon-menu-down"),p(this).find(".arrow-icon").addClass("glyphicon-menu-up"))})});var u,h="cs",m=window.b$||{},g=m.portal.portalName;u=""!=m.portal.loggedInUserId&&null!=m.portal.loggedInUserId||""!=m.portal.loggedInUserRole&&null!=m.portal.loggedInUserRole,g=m.portal.portalName;var v=m.portal.urlRedirect;return{prefModified:function(e){e.refreshIncludes();var t=p(e.htmlNode);p(".bd-structured-content-widget",t).attr("data-type",e.getPreference("contentType")||"Content")},start:function(a){for(var e,t=[],n=0;n<a.model.preferences.array.length;n++)"templateUrl"==a.model.preferences.array[n].name&&(e=a.model.preferences.array[n].value);var r=a.getPreference("urlContent"),o=m.portal.portalModel.serverURL;if(null!=r){var i=r.indexOf("content"),l=r.slice(i,r.length);r=o+"/"+l}null==e&&null==e||(t=e.split("/"));var s,d=a.getPreference("contentRef"),c=p(a.htmlNode),f=!1;try{top.bd}catch(e){f=!0}(!(!window.be||f)&&be.utils.module("top.bd.PageMgmtTree.selectedLink").isMasterPage||"true"===a.model.manageable||""===a.model.manageable||void 0===a.model.manageable)&&(d||c.addClass("bd-empty-structured-content"),p(".bd-structured-content-widget",c).attr("data-type",a.getPreference("contentType")||"Content"),a.addEventListener("preferences-form",function(e){for(var t=m.portal.portalModel.filterPreferences(a.model.preferences.array),n=t.length-1;0<=n;n--)if("Template"==t[n].label)for(var r=a.getPreference("templateList").split(","),o=0,i=0;o<r.length;o++,i++)t[n].inputType.options[i]={label:r[o],value:r[o+1]},o++}),a.addEventListener("bdDrop.enter",function(e){var t=e.detail.info.helper.bdDragData.fileDataArray[0];t.metaData&&t.metaData["cmis:objectTypeId"]&&"bb:structuredcontent"===t.metaData["cmis:objectTypeId"].property?(s=t,c.addClass("bd-over-structured-content")):s=void 0}),a.addEventListener("bdDrop.leave",function(e){c.removeClass("bd-over-structured-content")}),a.addEventListener("bdDrop.drop",function(e){var t=e.detail.info.helper.bdDragData.fileDataArray[0];if(s){if(!a.model.preferences.getByName("contentRef")){var n=m.portal.portalModel.createPreference("contentRef","contentRef",void 0,"");a.model.preferences.add(n)}a.setPreference("urlContent",t.url),a.setPreference("contentRef",[h,"contentRepository"===s.repository?s.repository:"@portalRepository",s.contentUId].join(":")),a.model.save(function(){a.refreshHTML(),c.removeClass("bd-empty-structured-content")}),c.removeClass("bd-over-structured-content")}s=void 0}),window.bd&&window.bd.bindDropEvents&&window.bd.bindDropEvents(a.htmlNode),"home-overlay-links.html"==t[t.length-1]&&require(["home-overlay-links"],function(e){e.homeOverlayone(r,a,o,u,g)}),require(["gap"]),require(["utils"]))}}}(jQuery);
define("modules/carousel",["jquery","modules/core/carouselCore","modules/services/carousel/keyboardNavigationService","modules/iconHelper"],function(p,g,v,t){function f(t,e){t.on("initialize.owl.carousel changed.owl.carousel",function(t){var e,a;t.namespace&&(a=t.relatedTarget,p(t.target).find(".owl-dots").text((t=(e=a).options.items,a=0===e.relative(e.current())?e.relative(e.current())+1:Math.ceil(e.relative(e.current()/t)+1),t=Math.ceil(e.items().length/t),a.toString()+" / "+t.toString())).addClass("owl-dots--visible"))})}var y={owlCarousel:{responsive:{0:{stagePadding:0}}}},m={owlCarousel:{dots:!1}},t=t.get("down","small"),h={owlCarousel:{loop:!1,nav:!0,dots:!0,navText:[t,t],autoHeight:!0,responsiveClass:!0,responsive:{0:{items:1,stagePadding:50}}}},t={$carousel:p(),init:function(c){var w=this;p(g.defaultOptions.selector).each(function(){var t=p(this),e=t.attr("data-cycle")&&"true"===t.attr("data-cycle").toLowerCase(),a=t.attr("data-speed"),o=t.attr("data-is-content-tray")&&"true"===t.attr("data-is-content-tray").toLowerCase(),r=t.attr("data-is-person-tray")&&"true"===t.attr("data-is-person-tray").toLowerCase(),i=(c||window).isMobileViewport()&&o,s=(c||window).isMobileViewport()&&r,l=parseInt(t.attr("data-items")||1,10),n=parseInt(t.attr("data-count")||1,10),u=Math.ceil(n/l),o=t.data("padding"),r=p.extend(!0,{},h,{selector:this,owlCarousel:{items:l=s&&1===l?2:l,slideBy:l,responsive:{1024:{items:l,slideBy:l,margin:24}}}});i||s||!e||1!==l||(r=p.extend(!0,{},r,{owlCarousel:{loop:!0,autoplayHoverPause:!0,autocycleTime:a}})),1!==n&&void 0===o&&1!==l||(r=p.extend(!0,{},r,y)),5<u&&1<=l&&(r=p.extend(!0,{},r,m));var d,r=new g.core(r);5<u&&1<=l&&f(t),v.init(t),r.initOwl(),!i&&e&&1===l&&(d=a,t.on("refreshed.owl.carousel",function(t){var e=p(t.relatedTarget.$element);e.data("owl.carousel").options.autoplay=!0,e.data("owl.carousel").options.autoplayTimeout=d,e.trigger("stop.owl.autoplay"),e.trigger("play.owl.autoplay",d),e.mouseout(function(){e.trigger("stop.owl.autoplay"),e.trigger("play.owl.autoplay",d)}),e.focus(function(){e.trigger("stop.owl.autoplay")})}));t=t.find(".owl-stage-outer");t.attr("tabindex")||t.attr("tabindex","0"),t.data("focus-active",!1),t.find(".owl-item a"),t.find(".owl-item a").each(function(){p(this).attr("tabindex","-1")}),w.$carousel.add(r.$carousel)})}};return t.init(),p(window).on("load.carousel",function(){p(g.defaultOptions.selector).trigger("refresh.owl.carousel")}),t});

window._g=window._g||{},_g.shared={},void 0===window.console&&(window.console={log:function(e){}}),_g.shared.HTTP=new function(){function i(){var e=new Object;return e.headers=new Object,e.body=new Object,e}function a(e){if(!e)return null;var t=i();return t.body=e.responseText,t.headers[_g.HTTP.HEADER_STATUS]=e.status,t.responseText=e.responseText,t.status=e.status,t}return{EXTENSION_HTML:".html",EXTENSION_JSON:".json",EXTENSION_RES:".res",HEADER_STATUS:"Status",HEADER_MESSAGE:"Message",HEADER_LOCATION:"Location",HEADER_PATH:"Path",PARAM_NO_CACHE:"cq_ck",get:function(e,n,r,i){if(e=_g.HTTP.getXhrHookedURL(_g.HTTP.externalize(e,!0)),null!=n)return _g.$.ajax({type:"GET",url:e,externalize:!1,encodePath:!1,hook:!1,complete:function(e,t){e=a(e);i||_g.HTTP.handleForbidden(e),n.call(r||this,this,"success"==t,e)}});try{var t=_g.$.ajax({type:"GET",url:e,async:!1,externalize:!1,encodePath:!1,hook:!1}),o=a(t);return i||_g.HTTP.handleForbidden(o),o}catch(e){return null}},post:function(e,r,t,i,n,o){e=_g.HTTP.externalize(e,!0);var a=_g.HTTP.getXhrHook(e,"POST",t);if(a&&(e=a.url,t=a.params),null!=r)return _g.$.ajax({type:"POST",url:e,data:t,externalize:!1,encodePath:!1,hook:!1,complete:function(e,t){var n=_g.HTTP.buildPostResponseFromHTML(e.responseText);o||_g.HTTP.handleForbidden(e),r.call(i||this,this,"success"==t,n)}});try{var s=_g.$.ajax({type:"POST",url:e,data:t,async:!1,externalize:!1,encodePath:!1,hook:!1}),l=_g.HTTP.buildPostResponseFromHTML(s.responseText);return o||_g.HTTP.handleForbidden(s),l}catch(e){return null}},getParameter:function(e,t){t=_g.HTTP.getParameters(e,t);return null!=t?t[0]:null},getParameters:function(e,t){var n=[];if(!t)return null;if(t=encodeURIComponent(t),-1==e.indexOf("?"))return null;e=(e=-1!=e.indexOf("#")?e.substring(0,e.indexOf("#")):e).substring(e.indexOf("?")+1);if(-1==e.indexOf(t))return null;for(var r=e.split("&"),i=0;i<r.length;i++){var o=r[i].split("=");o[0]==t&&n.push(1<o.length?decodeURIComponent(o[1]):"")}return 0<n.length?n:null},addParameter:function(e,t,n){if(n&&n instanceof Array){for(var r=0;r<n.length;r++)e=_g.HTTP.addParameter(e,t,n[r]);return e}var i=-1==e.indexOf("?")?"?":"&",o=e.indexOf("#");if(o<0)return e+i+encodeURIComponent(t)+"="+encodeURIComponent(n);var a=e.substring(o);return(e=e.substring(0,o))+i+encodeURIComponent(t)+"="+encodeURIComponent(n)+a},setParameter:function(e,t,n){return e=_g.HTTP.removeParameter(e,t),_g.HTTP.addParameter(e,t,n)},removeParameter:function(e,t){var n="?"+encodeURIComponent(t)+"=",t="&"+encodeURIComponent(t)+"=";if(-1!=e.indexOf(n))r=n;else{if(-1==e.indexOf(t))return e;r=t}var n=e.indexOf(r),t=e.substring(0,n),r=e.indexOf("&",n+1),n="";return t+(n=-1!=r&&0==(n=e.substring(r)).indexOf("&")?n.replace("&","?"):n)},removeParameters:Granite.HTTP.removeParameters,addSelector:function(e,t,n){n=n||0;var r="",i=e.indexOf("?");-1!=(i=-1==i?e.indexOf("#"):i)&&(r=e.substring(i),e=e.substring(0,i));var o=e.lastIndexOf("/"),i=e.substring(o);if(-1!=i.indexOf("."+t+"."))return e;var o=e.substring(0,o),a=i.split("."),s="",l="";(n>a.length-2||-1==n)&&(n=a.length-2);for(var d=0;d<a.length;d++)s+=l+a[d],l=".",n==d&&(s+=l+t);return o+s+r},setSelector:function(e,t,n){var r="",i=e.indexOf("?");-1!=(i=-1==i?e.indexOf("#"):i)&&(r=e.substring(i),e=e.substring(0,i));var o=_g.HTTP.getSelectors(e),i=e.substring(e.lastIndexOf("."));e=e.substring(0,e.lastIndexOf("."));var a=0<o.length?e.replace("."+o.join("."),""):e;if(0<o.length)for(var s=0;s<o.length;s++)a+=n==s?"."+t:"."+o[s];else a+="."+t;return a+i+r},addSelectors:function(e,t){var n=e;if(e&&t&&t.length)for(var r=0;r<t.length;r++)n=_g.HTTP.addSelector(n,t[r],r);return n},getAnchor:function(e){return-1!=e.indexOf("#")?e.substring(e.indexOf("#")+1):""},setAnchor:function(e,t){return _g.HTTP.removeAnchor(e)+"#"+t},removeAnchor:Granite.HTTP.removeAnchor,noCaching:function(e){return _g.HTTP.setParameter(e,_g.HTTP.PARAM_NO_CACHE,(new Date).valueOf())},buildPostResponseFromNode:function(e,t){if(!e)return null;null==t&&(t=i());for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];r.tagName&&(r.id&&(r.href?t.headers[r.id]=r.href:t.headers[r.id]=r.innerHTML),t=_g.HTTP.buildPostResponseFromNode(r,t))}return t},buildPostResponseFromHTML:function(e){var t=i();try{null!=e.responseText?e=e.responseText:"string"!=typeof e&&(e=e.toString());var n=document.createElement("div");n.innerHTML=e,t=_g.HTTP.buildPostResponseFromNode(n,t),n=null}catch(e){}return t},getCookie:function(e){var t=encodeURIComponent(e)+"=",n=document.cookie;if(0<n.length){e=n.indexOf(t);if(-1!=e){t=n.indexOf(";",e+=t.length);return-1==t&&(t=n.length),decodeURIComponent(n.substring(e,t))}}return null},setCookie:function(e,t,n,r,i,o){var a;return 0<(r="number"!=typeof r?7:r)?(a=new Date).setTime(a.getTime()+24*r*60*60*1e3):a=new Date(0),document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; "+(0!=r?"expires="+a.toGMTString()+"; ":"")+(i?"domain="+i+"; ":"")+(n?"path="+n:"")+(o?"; secure":""),t},clearCookie:function(e,t,n,r){_g.HTTP.setCookie(e,"null",t||"",-1,n||"",r||"")},getSchemeAndAuthority:Granite.HTTP.getSchemeAndAuthority,getContextPath:Granite.HTTP.getContextPath,externalize:function(e,t){return"undefined"!=typeof G_IS_HOOKED&&G_IS_HOOKED(e)?e:(t&&(e=_g.HTTP.encodePathOfURI(e)),e=Granite.HTTP.externalize(e))},internalize:Granite.HTTP.internalize,getPath:Granite.HTTP.getPath,getSuffix:function(){return window.CQURLInfo&&CQURLInfo.suffix?CQURLInfo.suffix:null},getSelectors:function(e){if(!e&&window.CQURLInfo&&CQURLInfo.selectors)return CQURLInfo.selectors;var t=[];e=e||window.location.href,e=_g.HTTP.removeParameters(e);e=(e=_g.HTTP.removeAnchor(e)).substring(e.lastIndexOf("/"));if(e){var n=e.split(".");if(2<n.length)for(var r=0;r<n.length;r++)0<r&&r<n.length-1&&t.push(n[r])}return t},getExtension:function(e){if(!e&&window.CQURLInfo&&CQURLInfo.extension)return CQURLInfo.extension;e=e||window.location.href,e=_g.HTTP.removeParameters(e);var t=(e=_g.HTTP.removeAnchor(e)).lastIndexOf(".");return t<0?"":(t=(e=e.substring(t+1)).indexOf("/"))<0?e:e.substring(0,t)},encodePathOfURI:Granite.HTTP.encodePathOfURI,encodePath:Granite.HTTP.encodePath,eval:Granite.HTTP.eval,isOkStatus:function(e){try{return 0==new String(e).indexOf("2")}catch(e){return!1}},isOk:function(e){try{return _g.HTTP.isOkStatus(e.headers[_g.HTTP.HEADER_STATUS])}catch(e){return!1}},handleForbidden:function(e,t){try{return 403==e[_g.HTTP.HEADER_STATUS.toLowerCase()]?(Granite.HTTP.handleLoginRedirect(),!0):!1}catch(e){return!1}},getXhrHook:Granite.HTTP.getXhrHook,getXhrHookedURL:function(e,t,n){n=_g.HTTP.getXhrHook(e,t,n);return n?n.url:e},reloadHook:function(e){return"undefined"!=typeof G_RELOAD_HOOK&&_g.$.isFunction(G_RELOAD_HOOK)&&(""!=CQURLInfo.selectorString&&(e=_g.HTTP.addSelector(e,CQURLInfo.selectorString)),e=G_RELOAD_HOOK(e)||e),e}}},_g.HTTP=_g.shared.HTTP,_g.shared.Util=new function(){return{reload:function(e,t,n){e=e||window,t=t||_g.HTTP.noCaching(e.location.href),t=_g.HTTP.reloadHook(t),n?e.location.replace(t):e.location.href=t},load:function(e,t){_g.Util.reload(window,e,t)},open:function(e,t,n,r){if(t=t||window,e)return e=_g.HTTP.reloadHook(e),t.open(e,n=n||"",r=r||"")},htmlEncode:function(e){return e&&String(e).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(e){return e&&String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},ellipsis:function(e,t,n){if(e&&e.length>t){if(n){var r=e.substr(0,t-2),n=Math.max(r.lastIndexOf(" "),r.lastIndexOf("."),r.lastIndexOf("!"),r.lastIndexOf("?"),r.lastIndexOf(";"));return-1==n||n<t-15?e.substr(0,t-3)+"...":r.substr(0,n)+"..."}return e.substr(0,t-3)+"..."}return e},patchText:Granite.Util.patchText,eval:function(e){return _g.HTTP.eval(e)},getTopWindow:Granite.Util.getTopWindow,setIFrameMode:Granite.Util.setIFrameMode}},_g.Util=_g.shared.Util,_g.shared.Sling={SELECTOR_INFINITY:Granite.Sling.SELECTOR_INFINITY,CHARSET:Granite.Sling.CHARSET,STATUS:Granite.Sling.STATUS,STATUS_BROWSER:Granite.Sling.STATUS_BROWSER,OPERATION:Granite.Sling.OPERATION,OPERATION_DELETE:Granite.Sling.OPERATION_DELETE,OPERATION_MOVE:Granite.Sling.OPERATION_MOVE,DELETE_SUFFIX:Granite.Sling.DELETE_SUFFIX,TYPEHINT_SUFFIX:Granite.Sling.TYPEHINT_SUFFIX,COPY_SUFFIX:Granite.Sling.COPY_SUFFIX,MOVE_SUFFIX:Granite.Sling.MOVE_SUFFIX,ORDER:Granite.Sling.ORDER,REPLACE:Granite.Sling.REPLACE,DESTINATION:Granite.Sling.DESTINATION,SAVE_PARAM_PREFIX:Granite.Sling.SAVE_PARAM_PREFIX,IGNORE_PARAM:Granite.Sling.IGNORE_PARAM,REQUEST_LOGIN_PARAM:Granite.Sling.REQUEST_LOGIN_PARAM,LOGIN_URL:Granite.Sling.LOGIN_URL,LOGOUT_URL:Granite.Sling.LOGOUT_URL,processBinaryData:function(e){var t;return e&&null!=e[":jcr:data"]&&((t=new Object).size=e[":jcr:data"],t.type=e["jcr:mimeType"],t.date=e["jcr:lastModified"],e=t),e},getContentPath:function(e,t,n){var r=t;if(r.lastIndexOf(".")>r.lastIndexOf("/")&&(r=r.substr(0,r.indexOf(".",r.lastIndexOf("/")))),e)if(0==e.indexOf("/"))r=e;else{if(n)for(;0==e.indexOf("../");)e=e.substring(3),r=r.substring(0,r.lastIndexOf("/"));r=r+"/"+(e=e.replace("./",""))}return r}},_g.Sling=_g.shared.Sling,_g.shared.XSS=new function(){return{getXSSPropertyName:function(e){return e?_g.XSS.KEY_REGEXP.test(e)?e:e+_g.XSS.KEY_SUFFIX:""},getXSSRecordPropertyValue:function(e,t,n){var r="";return e&&t&&(r=e.get(this.getXSSPropertyName(t))||this.getXSSValue(e.get(t)),n&&!isNaN(n)&&(r=_g.Util.ellipsis(r,n,!0))),r},getXSSTablePropertyValue:function(e,t,n){var r="";return e&&t&&(r=e[this.getXSSPropertyName(t)]||this.getXSSValue(e[t]),n&&!isNaN(n)&&(r=_g.Util.ellipsis(r,n,!0))),r},getXSSValue:function(e){return e?_g.Util.htmlEncode(e):""},updatePropertyName:function(e,t){e&&t&&e[t]&&e.xssProtect&&!e.xssKeepPropName&&(e[t]=this.getXSSPropertyName(e[t]))},xssPropertyRenderer:function(e,t,n,r){return r&&r.dataIndex&&n&&n.data&&n.data[this.getXSSPropertyName(r.dataIndex)]?(e=n.data[this.getXSSPropertyName(r.dataIndex)],r.ellipsisLimit&&!isNaN(r.ellipsisLimit)?_g.Util.ellipsis(e,r.ellipsisLimit,!0):e):e||""}}},_g.XSS=_g.shared.XSS,_g.XSS.KEY_SUFFIX="_xss",_g.XSS.KEY_REGEXP=new RegExp(_g.XSS.KEY_SUFFIX+"$"),_g.shared.I18n=Granite.I18n,_g.I18n=_g.shared.I18n,_g.shared.I18n.getMessage=Granite.I18n.get,_g.shared.I18n.getVarMessage=Granite.I18n.getVar,_g.shared.String=new function(){return{startsWith:function(e,t){if(null==e||null==t)return null==e&&null==t;if(t.length>e.length)return!1;e=e.toString(),t=t.toString();return 0==e.indexOf(t)},endsWith:function(e,t){return null==e||null==t?null==e&&null==t:!(t.length>e.length)&&(e=e.toString(),t=t.toString(),e.lastIndexOf(t)==e.length-t.length)},contains:function(e,t){return null!=e&&null!=t&&(e=e.toString(),t=t.toString(),0<=e.indexOf(t))}}},_g.String=_g.shared.String,_g.shared.ClientSidePersistence=function(e){var t,n={PERSISTENCE_NAME:_g.shared.ClientSidePersistence.decoratePersistenceName("ClientSidePersistence"),config:{},cache:null,getMode:function(){return this.config.mode},getWindow:function(){return this.config.window||_g.shared.Util.getTopWindow()},debug:function(){if(console){for(var e=this.getMap(),t="[ClientSidePersistence -> mode="+this.getMode().name+", container="+(this.config.container||"")+"]\n",n=0,r=new RegExp("^"+this.config.container+"/"),i=0,o=Object.keys(e).sort();i<o.length;i++){var a,s=o[i];this.config.container&&"string"==typeof s&&!s.match(r)||(a=e[s],t+="-["+ ++n+"]-> '"+s.replace(r,"")+"' = '"+decodeURIComponent(a)+"'\n")}n||(t+="(container is empty)"),console.log(t)}},keyName:function(e){return(this.config.container?this.config.container+"/":"")+e},getKeys:function(){var e,t=this.getMap(),n=[];if(t)for(var r in t)this.config.container?0==r.indexOf(this.config.container+"/")&&(e=r.substring(this.config.container.length+1),n.push(e)):n.push(r);return n},get:function(e){e=this.getMap()[this.keyName(e)];return e&&decodeURIComponent(e)},set:function(e,t){var n={key:e="string"==typeof e?e.replace(/:=/g,""):""};if((e=this.keyName(e)).length){var r,i=[],o=this.getMap();for(r in n.action=o[e]?"update":"set",t?o[e]=encodeURIComponent(t):(n.action="remove",delete o[e]),o)i.push(r+":="+o[r]);this.cache=o,this.write(i.join("|")),_g.$.extend(n,{value:t,mode:this.getMode().name,container:this.config.container}),_g.$(_g.shared.ClientSidePersistence).trigger(_g.shared.ClientSidePersistence.EVENT_NAME,n)}},getMap:function(){if(!this.cache||!this.config.useCache){for(var e=this.read().split("|"),t={},n=0;n<e.length;n++){var r=e[n].split(":="),i=r[0];i&&i.length&&(t[i]=r[1]||"")}this.cache=t}return this.cache},remove:function(e){this.set(e)},clearMap:function(){this.write()},read:function(){return this.config.mode.read(this)||""},write:function(e){this.config.mode.write(this,e||"")}};_g.$.extend(n.config,_g.shared.ClientSidePersistence.getDefaultConfig(),e),!1===n.config.useContainer&&(n.config.container=null);e="test-"+Math.random();if(n.config.mode===_g.shared.ClientSidePersistence.MODE_SESSION){t=!1;try{window.sessionStorage.setItem(e,e),window.sessionStorage.removeItem(e)}catch(e){t=!0}t&&(n.config.mode=_g.shared.ClientSidePersistence.MODE_LOCAL)}if(n.config.mode===_g.shared.ClientSidePersistence.MODE_LOCAL){t=!1;try{window.localStorage.setItem(e,e),window.localStorage.removeItem(e)}catch(e){t=!0}t&&(n.config.mode=_g.shared.ClientSidePersistence.MODE_WINDOW)}return n},_g.shared.ClientSidePersistence.EVENT_NAME="ClientSidePersistence",_g.shared.ClientSidePersistence.MODE_SESSION={name:"session",read:function(e){return e.getWindow().sessionStorage.getItem(e.PERSISTENCE_NAME)},write:function(e,t){if(!Granite.OptOutUtil.isOptedOut())try{e.getWindow().sessionStorage.setItem(e.PERSISTENCE_NAME,t)}catch(e){return}}},_g.shared.ClientSidePersistence.MODE_LOCAL={name:"local",read:function(e){return e.getWindow().localStorage.getItem(e.PERSISTENCE_NAME)},write:function(e,t){if(!Granite.OptOutUtil.isOptedOut())try{e.getWindow().localStorage.setItem(e.PERSISTENCE_NAME,t)}catch(e){return}}},_g.shared.ClientSidePersistence.decoratePersistenceName=function(e){return e},_g.shared.ClientSidePersistence.MODE_WINDOW={name:"window",read:function(e){return e.getWindow().name},write:function(e,t){Granite.OptOutUtil.isOptedOut()||(e.getWindow().name=t)}},_g.shared.ClientSidePersistence.MODE_COOKIE={COOKIE_NAME:_g.shared.ClientSidePersistence.decoratePersistenceName("SessionPersistence"),name:"cookie",read:function(e){return _g.shared.ClientSidePersistence.CookieHelper.read(this.COOKIE_NAME)},write:function(e,t){Granite.OptOutUtil.isOptedOut()&&!Granite.OptOutUtil.maySetCookie(this.COOKIE_NAME)||(t?_g.shared.ClientSidePersistence.CookieHelper.set(this.COOKIE_NAME,t,365):_g.shared.ClientSidePersistence.CookieHelper.erase(this.COOKIE_NAME))}},_g.shared.ClientSidePersistence.getDefaultConfig=function(){return{window:_g.shared.Util.getTopWindow(),useCache:!1,container:null,mode:_g.shared.ClientSidePersistence.MODE_LOCAL}},_g.shared.ClientSidePersistence.CookieHelper={set:function(e,t,n){var r,i="";n&&((r=new Date).setTime(r.getTime()+24*n*60*60*1e3),i="; expires="+r.toGMTString()),t=t&&encodeURIComponent(t),document.cookie=e+"="+t+i+"; path=/"},read:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t)){var o=i.substring(t.length,i.length);return o?decodeURIComponent(o):null}}return null},erase:function(e){_g.shared.ClientSidePersistence.CookieHelper.set(e,"",-1)}},_g.shared.ClientSidePersistence.clearAllMaps=function(){var e=[_g.shared.ClientSidePersistence.MODE_COOKIE,_g.shared.ClientSidePersistence.MODE_LOCAL,_g.shared.ClientSidePersistence.MODE_SESSION,_g.shared.ClientSidePersistence.MODE_WINDOW];_g.$.each(e,function(e,t){new _g.shared.ClientSidePersistence({mode:t}).clearMap()})},_g.I18n.init(),window.CQ=window.CQ||{},CQ.shared=_g.shared,CQ.Sling=CQ.shared.Sling,CQ.I18n=CQ.shared.I18n,G_XHR_HOOK="undefined"!=typeof CQ_XHR_HOOK?CQ_XHR_HOOK:void 0,G_RELOAD_HOOK="undefined"!=typeof CQ_RELOAD_HOOK?CQ_RELOAD_HOOK:void 0,G_IS_HOOKED="undefined"!=typeof CQ_IS_HOOKED?CQ_IS_HOOKED:void 0,G_CONTENT_PATH="undefined"!=typeof CQ_CONTENT_PATH?CQ_CONTENT_PATH:void 0,CQ.shared.Form=function(){function c(e){var t,n=e.nodeName.toLowerCase(),r=_(e,"type")?e.getAttribute("type"):void 0;return"input"==n?"radio"==r||"checkbox"==r?_(e,"checked")&&(t=e.getAttribute("value")):t="text"==e.type?e.defaultValue:e.value:"textarea"==n?t=e.value:"option"==n&&_(e,"selected")&&(t=e.getAttribute("value")),t}var h=function(){for(var e=parent.frames.ContentFrame,e=void 0!==e?e.contentDocument:document,t=new Object,n=e.getElementsByTagName("label"),r=0;r<n.length;r++){var i=n[r].htmlFor;i&&(t[i]=n[r])}return t},f=function(e){function n(e){if(3==e.nodeType&&(r+=e.nodeValue),"select"!=e.nodeName.toLowerCase()&&"input"!=e.nodeName.toLowerCase()&&"textarea"!=e.nodeName.toLowerCase()&&"button"!=e.nodeName.toLowerCase())for(var t=0;e.childNodes&&t<e.childNodes.length;t++)n(e.childNodes[t])}var r="";return n(e),r},_=function(e,t){return null!=e&&null!=$CQ(e).attr(t)};return{searchArray:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r][t]&&e[r][t]==n)return e[r];return null},getLabelForField:function(e,t){t=t||h();var n=e.getAttribute("id");if(n&&t[n])return f(t[n]);for(var r=e.parentNode;r;){if("label"==r.nodeName.toLowerCase())return f(r);r=r.parentNode}return e.getAttribute("name")},getFields:function(){function o(e,t,n){var r=e.getAttribute("name"),i=e.nodeName.toLowerCase();if("input"==i||"textarea"==i){var o,a,s=_(e,"type")?e.getAttribute("type").toLowerCase():"text";"button"!=s&&"submit"!=s&&"reset"!=s&&((a=CQ.shared.Form.searchArray(g,"value",r))||(g.push({text:CQ.shared.Form.getLabelForField(e,u),value:r,name:r,enumeration:void 0,local:t,selector:n,type:i,defaultValue:c(e),node:e}),a=g[g.length-1]),("radio"==s||a.local&&"checkbox"==s)&&(a.enumeration||((o=e.getAttribute("id"))?(s=o.replace(/-\d+$/,""),o=s,o=(s=(s=u)||h())[o]?f(s[o]):null,a.text=o||r):a.text=r,a.enumeration=[]),a.enumeration.push({text:CQ.shared.Form.getLabelForField(e,u),value:e.getAttribute("value"),defaultValue:c(e),node:e})))}else if("select"==i){g.push({text:CQ.shared.Form.getLabelForField(e,u),value:r,name:r,enumeration:[],local:t,type:i,selector:n,defaultValue:void 0,node:e}),a=g[g.length-1];for(var l=e.getElementsByTagName("option"),d=0;d<l.length;d++)a.enumeration.push({text:l[d].innerHTML,value:l[d].getAttribute("value"),defaultValue:c(l[d]),node:l[d]})}}function a(e,t,n){"div"==e.nodeName.toLowerCase()&&0<$CQ(e).children(".form_row").length&&(t=!0,n=$CQ(e).attr("class").replace(/\s/g,".")),e.getAttribute&&e.getAttribute("name")&&o(e,t,n);for(var r=0;e.childNodes&&r<e.childNodes.length;r++){var i=e.childNodes[r];1==i.nodeType&&a(i,t,n)}}var e=parent.frames.ContentFrame,e=void 0!==e?e.contentDocument:document,u=h(),g=[];return a(e,!1,void 0),g}}}(),CQ.shared.User={data:null,language:null,userPropsPath:null,getUserPropsUrl:function(){return this.userPropsPath||(this.userPropsPath=CQ.shared.User.PROXY_URI),this.userPropsPath},load:function(){var e=this.getUserPropsUrl(),e=CQ.shared.HTTP.noCaching(e),e=CQ.shared.HTTP.get(e);CQ.shared.HTTP.isOk(e)&&(this.data=CQ.shared.Util.eval(e))},init:function(e,t){return this.initialized&&!t||(e?this.data=e:this.load(),this.initialized=!0),this.data},lazyInit:function(){this.lazyLoad=function(){this.load(),this.initialized=!0}},isInitialized:function(){return this.initialized},getLanguage:function(){return!this.isInitialized()&&this.lazyLoad&&this.lazyLoad.call(this),this.language=this.data&&this.data.preferences&&this.data.preferences.language?this.data.preferences.language:"en",this.language}},CQ.shared.User.PROXY_URI=CQ.shared.HTTP.externalize("/libs/cq/security/userinfo"+CQ.shared.HTTP.EXTENSION_JSON),CQ.shared.User.lazyInit(),CQ.shared.I18n.init({locale:function(){return document.documentElement.lang||CQ.shared.User.getLanguage()},urlPrefix:"/libs/cq/i18n/dict."});

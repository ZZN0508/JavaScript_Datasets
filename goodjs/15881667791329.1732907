!function(){var t,e="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if(!function(t){for(var e=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],n=0;n<e.length;++n){var i=e[n];if(i&&i.Math==Math)return}!function(){throw Error("Cannot find global object")}()}(this),"function"==typeof Symbol&&Symbol("x"),"function"==typeof Object.setPrototypeOf)i=Object.setPrototypeOf;else{t:{var n={};try{n.__proto__={a:!0},t=n.a;break t}catch(t){}t=!1}i=t?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var i=i;function o(t,e){for(var n=this.length,i=0<=(e=void 0===e?0:e)?e:Math.max(n+e,0);i<n;i++){var o=this[i];if(o===t||t!=t&&o!=o)return!0}return!1}function r(t,e){return(void 0===e?this.contains(t):!e)?(this.remove(t),!1):(this.add(t),!0)}function s(t){return t==this||this.documentElement.contains(t)}function a(t){return(t=Number(t))?0<t?1:-1:t}var u=Object.prototype.hasOwnProperty;function c(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r in o)u.call(o,r)&&(n[r]=o[r])}return n}var h=Object.prototype.hasOwnProperty;function l(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");var e,n=[];for(e in t)h.call(t,e)&&n.push(t[e]);return n}function f(t){if(!(this instanceof f))throw new TypeError("Constructor Promise requires `new`");if(!O(t))throw new TypeError("Must pass resolver function");this._state=y,this._value=[],this._isChainEnd=!0,N(this,C(this,b),C(this,v),{then:t})}function d(e){return e===Object(e)&&e instanceof this?e:new this(function(t){t(e)})}function p(n){return new this(function(t,e){e(n)})}function g(t){var s=this;return new s(function(n,i){var o=t.length,r=Array(o);if(0===o)return n(r);!function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)}(t,function(t,e){s.resolve(t).then(function(t){r[e]=t,0==--o&&n(r)},i)})})}function m(i){var o=this;return new o(function(t,e){for(var n=0;n<i.length;n++)o.resolve(i[n]).then(t,e)})}function b(t,e,n,i){return e?(i=i||new w(this.constructor),_(T(i,e,t)),i.promise):((e=i)&&((e=e.promise)._state=b,e._value=t),this)}function v(t,e,n,i){return n?(i=i||new w(this.constructor),_(T(i,n,t)),i.promise):(i&&((e=i.promise)._state=v,e._value=t),this)}function y(t,e,n,i){if(!i){if(!e&&!n)return this;i=new w(this.constructor)}return t.push({deferred:i,onFulfilled:e||i.resolve,onRejected:n||i.reject}),i.promise}function w(t){var n=this;return this.promise=new t(function(t,e){n.resolve=t,n.reject=e}),n}function E(t,e,n,i){var o=t._value;t._state=e,t._value=n,i&&e===y&&i._state(n,void 0,void 0,{promise:t,resolve:void 0,reject:void 0});for(var r=0;r<o.length;r++){var s=o[r];t._state(n,s.onFulfilled,s.onRejected,s.deferred)}o.length=0,i&&(i._isChainEnd=!1),e===v&&t._isChainEnd&&setTimeout(function(){if(t._isChainEnd)throw n},0)}function C(e,n){return function(t){E(e,n,t)}}function S(){}function O(t){return"function"==typeof t}function T(t,e,n){var i=t.promise,o=t.resolve,r=t.reject;return function(){try{var t=e(n);N(i,o,r,t,t)}catch(t){r(t)}}}f.prototype.then=function(t,e){return t=O(t)?t:void 0,e=O(e)?e:void 0,(t||e)&&(this._isChainEnd=!1),this._state(this._value,t,e)},f.prototype.catch=function(t){return this.then(void 0,t)};var R,I,P,_=(R="undefined"!=typeof window&&window.postMessage?(window.addEventListener("message",A),function(){window.postMessage("macro-task","*")}):function(){setTimeout(A,0)},I=Array(16),P=0,function(t){0===P&&R(),I[P++]=t});function A(){for(var t=0;t<P;t++){var e=I[t];I[t]=null,e()}P=0}function N(e,n,i,t,o){var r,s=i;try{if(t===e)throw new TypeError("Cannot fulfill promise with itself");var a,u=t===Object(t);u&&t instanceof e.constructor?E(e,t._state,t._value,t):u&&(r=t.then)&&O(r)?(a=function(t){a=s=S,N(e,n,i,t,t)},s=function(t){a=s=S,i(t)},r.call(o,function(t){a(t)},function(t){s(t)})):n(t)}catch(t){s(t)}}function k(){}function M(t,e,n,i){return t.acceptResult().then(function(t){if(t.origin!=e||n&&!t.originVerified||i&&!t.secureChannel)throw Error("channel mismatch");return t.data})}function L(t){var e;/swg.debug=1/.test(self.location.hash)&&((e=Array.prototype.slice.call(arguments,0)).unshift("[Subscriptions]"),D.apply(D,e))}function D(t){console.log.apply(console,arguments)}function x(t){console.warn.apply(console,arguments)}function U(t,e,n){var i;if(!t){var o=(e||"Assertion failed").split("%s"),r=o.shift(),s=r,a=[];for(""!=r&&a.push(r),r=2;r<arguments.length;r++){var u=arguments[r];u&&u.tagName&&(i=u);var c=o.shift();a.push(u),""!=(h=c.trim())&&a.push(h);var h=s,u=(u=u)&&1==u.nodeType?u.tagName.toLowerCase()+(u.id?"#"+u.id:""):u,s=h+(u+c)}throw(r=Error(s)).fromAssert=!0,r.associatedElement=i,r.messageArray=a,r}}function j(t,e){if(!t)return null;var n=t.length||0;if(0<n)for(var i=0;i<n;i++){var o=t[i];if(e(o,i,t))return o}return null}Co=self,/Trident|MSIE|IEMobile/i.test(Co.navigator.userAgent)&&Co.DOMTokenList&&Co.Object.defineProperty(Co.DOMTokenList.prototype,"toggle",{enumerable:!1,configurable:!0,writable:!0,value:r}),(Co=self).Math.sign||Co.Object.defineProperty(Co.Math,"sign",{enumerable:!1,configurable:!0,writable:!0,value:a}),(Co=self).Object.assign||Co.Object.defineProperty(Co.Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:c}),(Co=self).Object.values||Co.Object.defineProperty(Co.Object,"values",{enumerable:!1,configurable:!0,writable:!0,value:l}),(Co=self).Promise||((Co.Promise=f).default&&(Co.Promise=f.default),Co.Promise.resolve=d,Co.Promise.reject=p,Co.Promise.all=g,Co.Promise.race=m),(Co=self).HTMLDocument.prototype.contains||Co.Object.defineProperty(Co.HTMLDocument.prototype,"contains",{enumerable:!1,configurable:!0,writable:!0,value:s}),(Co=self).Array.prototype.includes||Co.Object.defineProperty(Array.prototype,"includes",{enumerable:!1,configurable:!0,writable:!0,value:o}),(Co=k.prototype).getElement=function(){},Co.init=function(){},Co.resized=function(){},Co.whenComplete=function(){},Co.shouldFadeBody=function(){},Co.hasLoadingIndicator=function(){};var F={"-":"+",_:"/"},G={"+":"-","/":"_","=":""};function B(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++){var i=t.charCodeAt(n);U(i<=255,"Characters must be in range [0,255]"),e[n]=i}return e}function V(t){for(var e=Array(t.length),n=0;n<t.length;n++)e[n]=String.fromCharCode(t[n]);return e.join("")}function W(t){if("undefined"!=typeof TextDecoder)return new TextDecoder("utf-8").decode(t);t=V(new Uint8Array(t));return decodeURIComponent(escape(t))}function q(t){return"undefined"!=typeof TextEncoder?new TextEncoder("utf-8").encode(t):B(unescape(encodeURIComponent(t)))}function H(t){return B(atob(t.replace(/[-_]/g,function(t){return F[t]})))}function K(){var t=(n=Date.now().toString(16)).substring(n.length-8).toUpperCase()+"-",e=0,n=new Uint8Array(23),i=self.msCrypto||self.crypto;if(i&&i.getRandomValues)for(i.getRandomValues(n),i=n.length-1;-1<i;i--)n[i]%=16;else for(i=n.length-1;-1<i;i--)n[i]=Math.floor(16*Math.random());for(i=9;i<36;i++)switch(i){case 13:case 18:case 23:t+="-";break;case 14:t+="4";break;case 19:t+="0123456789ABCDEF"[3&n[e++]|8];break;default:t+="0123456789ABCDEF"[n[e++]]}return t}var Y,z,J="Webkit webkit Moz moz ms O o".split(" "),X={"align-content":"normal",animation:"none","align-items":"normal","align-self":"auto","alignment-baseline":"auto","backface-visibility":"hidden","background-clip":"border-box","background-image":"none","baseline-shift":"0","block-size":"auto",border:"none","border-collapse":"separate",bottom:"0","box-sizing":"border-box","break-after":"auto","break-before":"auto","break-inside":"auto","buffered-rendering":"auto","caption-side":"top","caret-color":"rgb(51, 51, 51)",clear:"none",color:"rgb(51, 51, 51)","color-rendering":"auto","column-count":"auto","column-fill":"balance","column-gap":"normal","column-rule-color":"rgb(51, 51, 51)","column-rule-style":"none","column-rule-width":"0","column-span":"none","column-width":"auto",contain:"none","counter-increment":"none","counter-reset":"none",cursor:"auto",direction:"inherit",display:"block","empty-cells":"show",filter:"none",flex:"none","flex-flow":"row nowrap",float:"none","flood-color":"rgb(0, 0, 0)","flood-opacity":"1",font:"none","font-size":"medium","font-family":"",height:"auto",hyphens:"manual","image-rendering":"auto","inline-size":"",isolation:"auto","justify-content":"normal","justify-items":"normal","justify-self":"auto","letter-spacing":"normal","lighting-color":"rgb(255, 255, 255)","line-break":"auto","line-height":"normal","margin-bottom":"0",mask:"none","max-block-size":"none","max-height":"none","max-inline-size":"none","max-width":"none","min-block-size":"none","min-height":"0","min-inline-size":"0","min-width":"0","mix-blend-mode":"normal","object-fit":"fill","offset-distance":"none","offset-path":"none","offset-rotate":"auto 0deg",opacity:"1",order:"0",orphans:"2",outline:"none","overflow-anchor":"auto","overflow-wrap":"normal",overflow:"visible",padding:"0",page:"",perspective:"none","pointer-events":"auto",position:"static",quotes:"",resize:"none",right:"0","scroll-behavior":"auto","tab-size":"8","table-layout":"auto","text-align":"start","text-align-last":"auto","text-anchor":"start","text-combine-upright":"none","text-decoration":"none","text-indent":"0","text-orientation":"mixed","text-overflow":"clip","text-rendering":"auto","text-shadow":"none","text-size-adjust":"auto","text-transform":"none","text-underline-position":"auto",top:"auto","touch-action":"auto",transform:"none",transition:"none 0s ease 0s","unicode-bidi":"normal","user-select":"auto","vector-effect":"none","vertical-align":"baseline",visibility:"visible","white-space":"normal",widows:"2","word-break":"normal","word-spacing":"0","word-wrap":"normal","writing-mode":"horizontal-tb",zoom:"1","z-index":"auto"};function $(t,e,n){if(!(e.length<2)&&0==e.lastIndexOf("--",0))return e;var i=(Y=Y||Object.create(null))[e];if(!i||n){if(void 0===t[i=e]){var o=e.charAt(0).toUpperCase()+e.slice(1);t:{for(var r=0;r<J.length;r++){var s=J[r]+o;if(void 0!==t[s]){o=s;break t}}o=""}var a=o;void 0!==t[a]&&(i=a)}n||(Y[e]=i)}return i}function Z(t,e){for(var n in e)t.style.setProperty($(e,n),e[n].toString(),"important")}function Q(t,e,n){(e=$(t.style,e,void 0))&&(t.style[e]=n)}function tt(t,e){for(var n in e)Q(t,n,e[n])}function et(t,e,n){for(var i in e=t.createElement(e),n)"style"==i?tt(e,n[i]):e.setAttribute(i,n[i]);return e}function nt(t,e){var n=et(t.getWin().document,"style",{type:"text/css"});n.textContent=e,t.getHead().appendChild(n)}function it(t){return t&&"object"==typeof t&&"AbortError"===t.name}function ot(t,e){e="AbortError"+(e?": "+e:"");var n=null;if("function"==typeof t.DOMException){t=t.DOMException;try{n=new t(e,"AbortError")}catch(t){}}return n||((n=Error(e)).name="AbortError",n.code=20),n}function rt(t,e,n,i,o,r){this.code=t,this.data="ok"==t?e:null,this.mode=n,this.origin=i,this.originVerified=o,this.secureChannel=r,this.ok="ok"==t,this.error="failed"==t?Error(String(e)||""):null}function st(t){return(z=z||document.createElement("a")).href=t,z}function at(t){if(t.origin)return t.origin;var e=t.protocol,t=t.host;return"https:"==e&&t.indexOf(":443")==t.length-4?t=t.replace(":443",""):"http:"==e&&t.indexOf(":80")==t.length-3&&(t=t.replace(":80","")),e+"//"+t}function ut(t,e,n){e.ok?n(e):((t=e.error||ot(t)).activityResult=e,n(Promise.reject(t)))}function ct(t){return t=t.navigator,/Trident|MSIE|IEMobile/i.test(t&&t.userAgent)}function ht(t){return t=t.navigator,/Edge/i.test(t&&t.userAgent)}function lt(t,e,n){this.g=t,this.Jc=e,this.N=n,this.Td=!0,this.Kc=null,this.Rc=!1,this.aa=this.fc=this.da=this.v=null,this.Uc=this.Bd.bind(this)}function ft(t){return t.da&&!t.Kc&&(t.Kc="function"==typeof t.Jc?t.Jc():t.Jc),t.Kc}function dt(t,e){t.aa||(t.aa={});var n,i=t.aa[e];return i||(i=new Promise(function(t){n=t}),i={port1:null,port2:null,resolver:n,promise:i},t.aa[e]=i),i}function pt(i,t){i.v&&gt(i.v),i.v=t,i.v.onmessage=function(t){var e=(n=t.data)&&n.cmd,n=n&&n.payload||null;e&&i.za(e,n,t)}}function gt(t){try{t.close()}catch(t){}}function mt(t,e,n){var i=this;this.s=t,this.ia=e,this.T=n||null,this.g=this.s.ownerDocument.defaultView,this.N=at(st(e)),this.Gb=!1,this.Ha=null,this.Fb=new Promise(function(t){i.Ha=t}),this.ob=null,this.nb=new Promise(function(t){i.ob=t}),this.R=null,this.rb=new Promise(function(t){i.R=t}),this.qb=this.hc=null,this.A=new lt(this.g,function(){return i.s.contentWindow},this.N)}function bt(t,e,n,i,o,r){var s=this;if(!i||"_blank"!=i&&"_top"!=i&&"_"==i[0])throw Error('The only allowed targets are "_blank", "_top" and name targets');this.g=t,this.Sd=e,this.ia=n,this.fd=i,this.T=o||null,this.B=r||{},this.Ha=null,this.Fb=new Promise(function(t){s.Ha=t}),this.R=null,this.rb=new Promise(function(t){s.R=t}),this.A=this.qa=this.ha=null}function vt(e,t){e.ha&&!e.ha.closed||(e.qa&&(e.g.clearInterval(e.qa),e.qa=null),e.g.setTimeout(function(){try{wt(e,"canceled",null)}catch(t){yt(e,t)}},t?3e3:0))}function yt(t,e){t.R&&t.R(Promise.reject(e)),t.disconnect()}function wt(t,e,n){t.R&&(e=new rt(e,n,"popup",(n=t.A.isConnected())?t.A.getTargetOrigin():at(st(t.ia)),n,n),ut(t.g,e,t.R),t.R=null),t.A&&t.A.sendCommand("close"),t.disconnect()}function Et(t,e,n,i,o){this.g=t,this.sd=e,this.xd=n,this.N=i,this.Xd=o}function Ct(t){var e=this;this.version="1.24",this.g=t,this.Yc=t.location.hash,this.tc={},this.M={},this.ld=null,this.Rd=new Promise(function(t){e.ld=t})}function St(o,r,t,e,n,i){var s=new bt(o.g,r,t,e,n,i);return s.open().then(function(){var t,e,n,i;e=r,n=s,(i=(t=o).tc[e])&&i.forEach(function(t){Ot(n,t)}),t.M[e]=n}),s}function Ot(t,e){Promise.resolve().then(function(){e(t)})}function Tt(t){setTimeout(function(){throw t})}(Co=lt.prototype).connect=function(t){if(this.da)throw Error("already connected");this.da=t,this.g.addEventListener("message",this.Uc)},Co.disconnect=function(){if(this.da&&(this.da=null,this.v&&(gt(this.v),this.v=null),this.g.removeEventListener("message",this.Uc),this.aa)){for(var t in this.aa){t=this.aa[t];t.port1&&gt(t.port1),t.port2&&gt(t.port2)}this.aa=null}},Co.isConnected=function(){return null!=this.N},Co.getTarget=function(){var t=ft(this);if(!t)throw Error("not connected");return t},Co.getTargetOrigin=function(){if(null==this.N)throw Error("not connected");return this.N},Co.sendConnectCommand=function(){var t=ct(this.g)||ht(this.g);this.sendCommand("connect",{acceptsChannel:t})},Co.sendStartCommand=function(t){var e=null;(e=this.Rc&&"function"==typeof this.g.MessageChannel?new this.g.MessageChannel:e)?(this.sendCommand("start",t,[e.port2]),pt(this,e.port1)):this.sendCommand("start",t)},Co.sendCommand=function(t,e,n){var i={sentinel:"__ACTIVITIES__",cmd:t,payload:e||null};this.v?this.v.postMessage(i,n||void 0):(e=this.getTarget(),t="connect"==t?null!=this.N?this.N:"*":this.getTargetOrigin(),e.postMessage(i,t,n||void 0))},Co.customMessage=function(t){this.sendCommand("msg",t)},Co.onCustomMessage=function(t){this.fc=t},Co.startChannel=function(t){var e,n=dt(this,t=t||"");return n.port1||(e=new this.g.MessageChannel,n.port1=e.port1,n.port2=e.port2,n.resolver(n.port1)),n.port2&&(this.sendCommand("cnset",{name:t},[n.port2]),n.port2=null),n.promise},Co.askChannel=function(t){var e=dt(this,t=t||"");return e.port1||this.sendCommand("cnget",{name:t}),e.promise},Co.Bd=function(t){var e,n,i;this.Td&&ft(this)!=t.source||(i=t.data)&&"__ACTIVITIES__"==i.sentinel&&(e=i.cmd,this.v&&"connect"!=e&&"start"!=e||(n=t.origin,i=i.payload||null,null==this.N&&"start"==e&&(this.N=n),null==this.N&&t.source&&ft(this)==t.source&&(this.N=n),n==this.N&&this.za(e,i,t)))},Co.za=function(t,e,n){"connect"==t?(this.v&&(gt(this.v),this.v=null),this.Rc=e&&e.acceptsChannel||!1,this.da(t,e)):"start"==t?((n=n.ports&&n.ports[0])&&pt(this,n),this.da(t,e)):"msg"==t?null!=this.fc&&null!=e&&this.fc(e):"cnget"==t?this.startChannel(e.name):"cnset"==t?(t=n.ports[0],(e=dt(this,e.name)).port1=t,e.resolver(t)):this.da(t,e)},(Co=mt.prototype).getMode=function(){return"iframe"},Co.connect=function(){var t,e=this.s;if(!(e="isConnected"in e?e.isConnected:(t=e.ownerDocument&&e.ownerDocument.documentElement)&&t.contains(e)||!1))throw Error("iframe must be in DOM");return this.A.connect(this.za.bind(this)),this.s.src=this.ia,this.Fb},Co.disconnect=function(){this.Gb=!1,this.A.disconnect()},Co.acceptResult=function(){return this.rb},Co.getTargetWin=function(){return this.s.contentWindow||null},Co.message=function(t){this.A.customMessage(t)},Co.onMessage=function(t){this.A.onCustomMessage(t)},Co.messageChannel=function(t){return this.A.askChannel(t)},Co.whenReady=function(){return this.nb},Co.onResizeRequest=function(t){var e=this;this.hc=t,Promise.resolve().then(function(){null!=e.qb&&t(e.qb)})},Co.resized=function(){this.Gb&&this.A.sendCommand("resized",{height:this.s.offsetHeight})},Co.za=function(t,e){"connect"==t?(this.Gb=!0,this.A.sendStartCommand(this.T),this.Ha()):"result"==t?this.R&&(e=new rt(t=e.code,"failed"==t?Error(e.data||""):e.data,"iframe",this.A.getTargetOrigin(),!0,!0),ut(this.g,e,this.R),this.R=null,this.A.sendCommand("close"),this.disconnect()):"ready"==t?this.ob&&(this.ob(),this.ob=null):"resize"==t&&(this.qb=e.height,this.hc&&this.hc(this.qb))},(Co=bt.prototype).getMode=function(){return"_top"==this.fd?"redirect":"popup"},Co.open=function(){return function(t){var e=function(t){var e,n=t.g.screen,i=n.availWidth||n.width,o=n.availHeight||n.height,r=t.g==t.g.top,s=ht(t.g),i=Math.max(i-(r&&t.g.outerWidth>t.g.innerWidth?Math.min(100,t.g.outerWidth-t.g.innerWidth):s?100:0),.5*i),o=Math.max(o-(r&&t.g.outerHeight>t.g.innerHeight?Math.min(100,t.g.outerHeight-t.g.innerHeight):s?100:0),.5*o),a=Math.floor(Math.min(600,.9*i)),u=Math.floor(Math.min(600,.9*o));for(e in t.B.width&&(a=Math.min(t.B.width,i)),t.B.height&&(u=Math.min(t.B.height,o)),t=Math.floor((n.width-a)/2),n=Math.floor((n.height-u)/2),a={height:u,width:a,resizable:"yes",scrollbars:"yes"},s||(a.left=t,a.top=n),u="",a)u&&(u+=","),u+=e+"="+a[e];return u}(t),n=t.ia;t.B.skipRequestInUrl||(i=t.B.returnUrl||function(t){var e=t.indexOf("#");return-1==e?t:t.substring(0,e)}(t.g.location.href),i=function(t){var e={requestId:t.requestId,returnUrl:t.returnUrl,args:t.args};return void 0!==t.origin&&(e.origin=t.origin),void 0!==t.originVerified&&(e.originVerified=t.originVerified),JSON.stringify(e)}({requestId:t.Sd,returnUrl:i,args:t.T}),n=n+(-1==n.indexOf("#")?"#":"&")+encodeURIComponent("__WA__")+"="+encodeURIComponent(i));var i=t.fd;"_top"!=i&&ct(t.g)&&(i="_top");try{var o=t.g.open(n,i,e)}catch(t){}if(!o&&"_top"!=i&&!t.B.disableRedirectFallback){i="_top";try{o=t.g.open(n,i)}catch(t){}}return o?(t.ha=o,"_top"!=i&&function(t){t.qa=t.g.setInterval(function(){vt(t,!0)},500),t.A=new lt(t.g,t.ha,null),t.A.connect(t.za.bind(t))}(t)):yt(t,Error("failed to open window")),t.rb.catch(function(){})}(this)},Co.whenConnected=function(){return this.Fb},Co.disconnect=function(){if(this.qa&&(this.g.clearInterval(this.qa),this.qa=null),this.A&&(this.A.disconnect(),this.A=null),this.ha){try{this.ha.close()}catch(t){}this.ha=null}this.R=null},Co.getTargetWin=function(){return this.ha},Co.acceptResult=function(){return this.rb},Co.message=function(t){this.A.customMessage(t)},Co.onMessage=function(t){this.A.onCustomMessage(t)},Co.messageChannel=function(t){return this.A.askChannel(t)},Co.za=function(t,e){var n=this;"connect"==t?(this.A.sendStartCommand(this.T),this.Ha()):"result"==t?wt(this,t=e.code,"failed"==t?Error(e.data||""):e.data):"check"==t&&this.g.setTimeout(function(){return vt(n)},200)},Et.prototype.getMode=function(){return"redirect"},Et.prototype.acceptResult=function(){var e=this,n=new rt(this.sd,this.xd,"redirect",this.N,this.Xd,!1);return new Promise(function(t){ut(e.g,n,t)})},(Co=Ct.prototype).openIframe=function(t,e,n){var i=new mt(t,e,n);return i.connect().then(function(){return i})},Co.open=function(t,e,n,i,o){return{targetWin:St(this,t,e,n,i,o).getTargetWin()}},Co.openWithMessaging=function(t,e,n,i,o){var r=St(this,t,e,n,i,o);return r.whenConnected().then(function(){return r})},Co.onResult=function(t,e){var n,i,o=this.tc[t];if(o||(this.tc[t]=o=[]),o.push(e),!(o=this.M[t])&&this.Yc){try{var r=this.g;if(h=((i=this.Yc)?(/^[?#]/.test(i)?i.slice(1):i).split("&").reduce(function(t,e){var n=e.split("=");return e=decodeURIComponent(n[0]||""),n=decodeURIComponent(n[1]||""),e&&(t[e]=n),t},{}):{}).__WA_RES__){var s=JSON.parse(h);if(s&&s.requestId==t){var a=r.location.hash;if(a){var u,c,h,l=encodeURIComponent("__WA_RES__")+"=";h=-1;do{}while(-1!=(h=a.indexOf(l,h))&&(""==(u=0<h?a.substring(h-1,h):"")||"?"==u||"#"==u||"&"==u?(-1==(c=a.indexOf("&",h+1))&&(c=a.length),a=a.substring(0,h)+a.substring(c+1)):h++),-1!=h&&h<a.length)}var f=a;if((f=a||"")!=r.location.hash&&r.history&&r.history.replaceState)try{r.history.replaceState(r.history.state,"",f)}catch(t){}var d=s.code,p=s.data,g=s.origin,o=new Et(r,d,p,g,g==(r.document.referrer&&at(st(r.document.referrer))))}else o=null}else o=null}catch(t){n=t,setTimeout(function(){throw n}),this.ld(t)}o&&(this.M[t]=o)}(t=o)&&Ot(t,e)},Co.onRedirectError=function(t){this.Rd.then(t)};var Rt,It={frameborder:"0",scrolling:"no"};function Pt(t,e,n,i,o,r){o=void 0!==o&&o,r=void 0!==r&&r;var s=this;this.g=t,this.j=this.g.document,this.s=et(this.j,"iframe",It),this.m=e,this.Ua=n,this.T=i||{},this.Vd=o,this.Ed=r,this.gd=this.v=null,this.kb=new Promise(function(t){s.gd=t})}if((Pt.prototype=e(k.prototype)).constructor=Pt,i)i(Pt,k);else for(var _t in k)"prototype"!=_t&&(Object.defineProperties?(Rt=Object.getOwnPropertyDescriptor(k,_t))&&Object.defineProperty(Pt,_t,Rt):Pt[_t]=k[_t]);Pt.ge=k.prototype,(Co=Pt.prototype).getElement=function(){return this.s},Co.init=function(i){var o=this;return this.m.openIframe(this.s,this.Ua,this.T).then(function(t){return t=t,n=i,(e=o).v=t,e.gd(t),e.v.onResizeRequest(function(t){n.resizeView(e,t)}),e.v.whenReady();var e,n})},Co.shouldFadeBody=function(){return this.Vd},Co.hasLoadingIndicator=function(){return this.Ed},Co.on=function(e,n){this.kb.then(function(t){t.on(e,n)})},Co.execute=function(e){this.kb.then(function(t){t.execute(e)})},Co.acceptResult=function(){return this.kb.then(function(t){return t.acceptResult()})},Co.acceptResultAndVerify=function(e,n,i){return this.kb.then(function(t){return M(t,e,n,i)})},Co.whenComplete=function(){return this.acceptResult()},Co.onCancel=function(e){this.acceptResult().catch(function(t){throw it(t)&&e(),t})},Co.resized=function(){this.v&&this.v.resized()};var At={UNKNOWN:0,IMPRESSION_PAYWALL:1,IMPRESSION_AD:2,IMPRESSION_OFFERS:3,IMPRESSION_SUBSCRIBE_BUTTON:4,IMPRESSION_SMARTBOX:5,IMPRESSION_SWG_BUTTON:6,IMPRESSION_CLICK_TO_SHOW_OFFERS:7,IMPRESSION_CLICK_TO_SHOW_OFFERS_OR_ALREADY_SUBSCRIBED:8,IMPRESSION_SUBSCRIPTION_COMPLETE:9,IMPRESSION_ACCOUNT_CHANGED:10,IMPRESSION_PAGE_LOAD:11,IMPRESSION_LINK:12,IMPRESSION_SAVE_SUBSCR_TO_GOOGLE:13,IMPRESSION_GOOGLE_UPDATED:14,IMPRESSION_SHOW_OFFERS_SMARTBOX:15,IMPRESSION_SHOW_OFFERS_SWG_BUTTON:16,IMPRESSION_SELECT_OFFER_SMARTBOX:17,IMPRESSION_SELECT_OFFER_SWG_BUTTON:18,IMPRESSION_SHOW_CONTRIBUTIONS_SWG_BUTTON:19,IMPRESSION_SELECT_CONTRIBUTION_SWG_BUTTON:20,IMPRESSION_METER_TOAST:21,IMPRESSION_REGWALL:22,IMPRESSION_SHOWCASE_REGWALL:23,IMPRESSION_SWG_SUBSCRIPTION_MINI_PROMPT:24,IMPRESSION_SWG_CONTRIBUTION_MINI_PROMPT:25,IMPRESSION_CONTRIBUTION_OFFERS:26,ACTION_SUBSCRIBE:1e3,ACTION_PAYMENT_COMPLETE:1001,ACTION_ACCOUNT_CREATED:1002,ACTION_ACCOUNT_ACKNOWLEDGED:1003,ACTION_SUBSCRIPTIONS_LANDING_PAGE:1004,ACTION_PAYMENT_FLOW_STARTED:1005,ACTION_OFFER_SELECTED:1006,ACTION_SWG_BUTTON_CLICK:1007,ACTION_VIEW_OFFERS:1008,ACTION_ALREADY_SUBSCRIBED:1009,ACTION_NEW_DEFERRED_ACCOUNT:1010,ACTION_LINK_CONTINUE:1011,ACTION_LINK_CANCEL:1012,ACTION_GOOGLE_UPDATED_CLOSE:1013,ACTION_USER_CANCELED_PAYFLOW:1014,ACTION_SAVE_SUBSCR_TO_GOOGLE_CONTINUE:1015,ACTION_SAVE_SUBSCR_TO_GOOGLE_CANCEL:1016,ACTION_SWG_BUTTON_SHOW_OFFERS_CLICK:1017,ACTION_SWG_BUTTON_SELECT_OFFER_CLICK:1018,ACTION_SWG_BUTTON_SHOW_CONTRIBUTIONS_CLICK:1019,ACTION_SWG_BUTTON_SELECT_CONTRIBUTION_CLICK:1020,ACTION_USER_CONSENT_DEFERRED_ACCOUNT:1021,ACTION_USER_DENY_DEFERRED_ACCOUNT:1022,ACTION_DEFERRED_ACCOUNT_REDIRECT:1023,ACTION_GET_ENTITLEMENTS:1024,ACTION_METER_TOAST_SUBSCRIBE_CLICK:1025,ACTION_METER_TOAST_EXPANDED:1026,ACTION_METER_TOAST_CLOSED_BY_ARTICLE_INTERACTION:1027,ACTION_METER_TOAST_CLOSED_BY_SWIPE_DOWN:1028,ACTION_METER_TOAST_CLOSED_BY_X_CLICKED:1029,ACTION_SWG_SUBSCRIPTION_MINI_PROMPT_CLICK:1030,ACTION_SWG_CONTRIBUTION_MINI_PROMPT_CLICK:1031,ACTION_SWG_SUBSCRIPTION_MINI_PROMPT_CLOSE:1032,ACTION_SWG_CONTRIBUTION_MINI_PROMPT_CLOSE:1033,ACTION_CONTRIBUTION_OFFER_SELECTED:1034,ACTION_SHOWCASE_REGWALL_GSI_CLICK:1035,ACTION_SHOWCASE_REGWALL_EXISTING_ACCOUNT_CLICK:1036,EVENT_PAYMENT_FAILED:2e3,EVENT_CUSTOM:3e3,EVENT_CONFIRM_TX_ID:3001,EVENT_CHANGED_TX_ID:3002,EVENT_GPAY_NO_TX_ID:3003,EVENT_GPAY_CANNOT_CONFIRM_TX_ID:3004,EVENT_GOOGLE_UPDATED:3005,EVENT_NEW_TX_ID:3006,EVENT_UNLOCKED_BY_SUBSCRIPTION:3007,EVENT_UNLOCKED_BY_METER:3008,EVENT_NO_ENTITLEMENTS:3009,EVENT_HAS_METERING_ENTITLEMENTS:3010,EVENT_OFFERED_METER:3011,EVENT_UNLOCKED_FREE_PAGE:3012,EVENT_SUBSCRIPTION_STATE:4e3},Nt={UNKNOWN_CLIENT:0,SWG_CLIENT:1,AMP_CLIENT:2,PROPENSITY_CLIENT:3,SWG_SERVER:4,PUBLISHER_CLIENT:5,SHOWCASE_CLIENT:6};function kt(t,e){e=(e=void 0===e||e)?1:0;this.O=null==(t=void 0===t?[]:t)[e]?null:t[e]}function Mt(t,e){this.Gc=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e],this.Yb=null==t[1+e]?null:t[1+e]}function Lt(t,e){this.Jb=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e],this.Lc=null==t[1+e]?null:t[1+e],this.sc=null==t[2+e]?null:t[2+e],this.Qc=null==t[3+e]?null:t[3+e],this.Oc=null==t[4+e]?null:t[4+e],this.Pc=null==t[5+e]?null:t[5+e],this.H=null==t[6+e]?null:t[6+e],this.qc=null==t[7+e]?null:t[7+e],this.La=t[8+e]||[],this.Cb=null==t[9+e]?null:t[9+e],this.ia=null==t[10+e]?null:t[10+e]}function Dt(t,e){this.Nb=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e],this.Ub=null==t[1+e]?null:t[1+e]}function xt(t,e){var n=(e=void 0===e||e)?1:0;this.G=null==(t=void 0===t?[]:t)[n]||null==t[n]?null:new Lt(t[n],e),this.Ob=null==t[1+n]?null:t[1+n],this.fb=null==t[2+n]||null==t[2+n]?null:new Dt(t[2+n],e),this.hb=null==t[3+n]||null==t[3+n]?null:new Gt(t[3+n],e)}function Ut(t,e){this.sa=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e],this.Dc=null==t[1+e]?null:t[1+e]}function jt(t,e){var n=(e=void 0===e||e)?1:0;this.vb=null==(t=void 0===t?[]:t)[n]||null==t[n]?null:new Ut(t[n],e),this.Za=null==t[1+n]||null==t[1+n]?null:new Yt(t[1+n],e),this.Lb=null==t[2+n]?null:t[2+n],this.Kb=null==t[3+n]?null:t[3+n],this.va=null==t[4+n]?null:t[4+n],this.ra=null==t[5+n]?null:t[5+n]}function Ft(t,e){this.sa=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e],this.Ic=null==t[1+e]?null:t[1+e]}function Gt(t,e){this.Cc=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e],this.Rb=null==t[1+e]?null:t[1+e],this.Sb=null==t[2+e]?null:t[2+e],this.H=null==t[3+e]?null:t[3+e],this.ec=null==t[4+e]?null:t[4+e],this.ra=null==t[5+e]?null:t[5+e],this.Hc=null==t[6+e]?null:t[6+e]}function Bt(t,e){this.O=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e],this.Mb=null==t[1+e]?null:t[1+e]}function Vt(t,e){this.yb=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e],this.va=null==t[1+e]?null:t[1+e]}function Wt(t,e){this.vc=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e]}function qt(t,e){this.H=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e],this.dc=null==t[1+e]?null:t[1+e],this.jc=null==t[2+e]?null:t[2+e],this.nc=null==t[3+e]?null:t[3+e],this.cc=null==t[4+e]?null:t[4+e],this.Hb=null==t[5+e]?null:t[5+e],this.xb=null==t[6+e]?null:t[6+e]}function Ht(t,e){this.Tb=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e]}function Kt(t,e){this.Fc=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e]}function Yt(t,e){this.zc=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e],this.ac=null==t[1+e]?null:t[1+e]}function zt(t,e){this.xa=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e]}function Jt(t,e){this.bc=null==(t=void 0===t?[]:t)[e=void 0===e||e?1:0]?null:t[e]}kt.prototype.getComplete=function(){return this.O},kt.prototype.setComplete=function(t){this.O=t},kt.prototype.toArray=function(t){var e=[this.O];return(t=void 0===t||t)&&e.unshift(this.label()),e},kt.prototype.label=function(){return"AccountCreationRequest"},(Co=Mt.prototype).getSubscriberOrMember=function(){return this.Gc},Co.setSubscriberOrMember=function(t){this.Gc=t},Co.getLinkRequested=function(){return this.Yb},Co.setLinkRequested=function(t){this.Yb=t},Co.toArray=function(t){var e=[this.Gc,this.Yb];return void 0!==t&&!t||e.unshift(this.label()),e},Co.label=function(){return"AlreadySubscribedResponse"},(Co=Lt.prototype).getEmbedderOrigin=function(){return this.Jb},Co.setEmbedderOrigin=function(t){this.Jb=t},Co.getTransactionId=function(){return this.Lc},Co.setTransactionId=function(t){this.Lc=t},Co.getReferringOrigin=function(){return this.sc},Co.setReferringOrigin=function(t){this.sc=t},Co.getUtmSource=function(){return this.Qc},Co.setUtmSource=function(t){this.Qc=t},Co.getUtmCampaign=function(){return this.Oc},Co.setUtmCampaign=function(t){this.Oc=t},Co.getUtmMedium=function(){return this.Pc},Co.setUtmMedium=function(t){this.Pc=t},Co.getSku=function(){return this.H},Co.setSku=function(t){this.H=t},Co.getReadyToPay=function(){return this.qc},Co.setReadyToPay=function(t){this.qc=t},Co.getLabelList=function(){return this.La},Co.setLabelList=function(t){this.La=t},Co.getClientVersion=function(){return this.Cb},Co.setClientVersion=function(t){this.Cb=t},Co.getUrl=function(){return this.ia},Co.setUrl=function(t){this.ia=t},Co.toArray=function(t){var e=[this.Jb,this.Lc,this.sc,this.Qc,this.Oc,this.Pc,this.H,this.qc,this.La,this.Cb,this.ia];return void 0!==t&&!t||e.unshift(this.label()),e},Co.label=function(){return"AnalyticsContext"},(Co=Dt.prototype).getEventOriginator=function(){return this.Nb},Co.setEventOriginator=function(t){this.Nb=t},Co.getIsFromUserAction=function(){return this.Ub},Co.setIsFromUserAction=function(t){this.Ub=t},Co.toArray=function(t){var e=[this.Nb,this.Ub];return void 0!==t&&!t||e.unshift(this.label()),e},Co.label=function(){return"AnalyticsEventMeta"},(Co=xt.prototype).getContext=function(){return this.G},Co.setContext=function(t){this.G=t},Co.getEvent=function(){return this.Ob},Co.setEvent=function(t){this.Ob=t},Co.getMeta=function(){return this.fb},Co.setMeta=function(t){this.fb=t},Co.getParams=function(){return this.hb},Co.setParams=function(t){this.hb=t},Co.toArray=function(t){t=void 0===t||t;var e=[this.G?this.G.toArray(t):[],this.Ob,this.fb?this.fb.toArray(t):[],this.hb?this.hb.toArray(t):[]];return t&&e.unshift(this.label()),e},Co.label=function(){return"AnalyticsRequest"},(Co=Ut.prototype).getJwt=function(){return this.sa},Co.setJwt=function(t){this.sa=t},Co.getSource=function(){return this.Dc},Co.setSource=function(t){this.Dc=t},Co.toArray=function(t){var e=[this.sa,this.Dc];return void 0!==t&&!t||e.unshift(this.label()),e},Co.label=function(){return"EntitlementJwt"},(Co=jt.prototype).getUsedEntitlement=function(){return this.vb},Co.setUsedEntitlement=function(t){this.vb=t},Co.getClientEventTime=function(){return this.Za},Co.setClientEventTime=function(t){this.Za=t},Co.getEntitlementSource=function(){return this.Lb},Co.setEntitlementSource=function(t){this.Lb=t},Co.getEntitlementResult=function(){return this.Kb},Co.setEntitlementResult=function(t){this.Kb=t},Co.getToken=function(){return this.va},Co.setToken=function(t){this.va=t},Co.getIsUserRegistered=function(){return this.ra},Co.setIsUserRegistered=function(t){this.ra=t},Co.toArray=function(t){t=void 0===t||t;var e=[this.vb?this.vb.toArray(t):[],this.Za?this.Za.toArray(t):[],this.Lb,this.Kb,this.va,this.ra];return t&&e.unshift(this.label()),e},Co.label=function(){return"EntitlementsRequest"},(Co=Ft.prototype).getJwt=function(){return this.sa},Co.setJwt=function(t){this.sa=t},Co.getSwgUserToken=function(){return this.Ic},Co.setSwgUserToken=function(t){this.Ic=t},Co.toArray=function(t){var e=[this.sa,this.Ic];return void 0!==t&&!t||e.unshift(this.label()),e},Co.label=function(){return"EntitlementsResponse"},(Co=Gt.prototype).getSmartboxMessage=function(){return this.Cc},Co.setSmartboxMessage=function(t){this.Cc=t},Co.getGpayTransactionId=function(){return this.Rb},Co.setGpayTransactionId=function(t){this.Rb=t},Co.getHadLogged=function(){return this.Sb},Co.setHadLogged=function(t){this.Sb=t},Co.getSku=function(){return this.H},Co.setSku=function(t){this.H=t},Co.getOldTransactionId=function(){return this.ec},Co.setOldTransactionId=function(t){this.ec=t},Co.getIsUserRegistered=function(){return this.ra},Co.setIsUserRegistered=function(t){this.ra=t},Co.getSubscriptionFlow=function(){return this.Hc},Co.setSubscriptionFlow=function(t){this.Hc=t},Co.toArray=function(t){var e=[this.Cc,this.Rb,this.Sb,this.H,this.ec,this.ra,this.Hc];return void 0!==t&&!t||e.unshift(this.label()),e},Co.label=function(){return"EventParams"},(Co=Bt.prototype).getComplete=function(){return this.O},Co.setComplete=function(t){this.O=t},Co.getError=function(){return this.Mb},Co.setError=function(t){this.Mb=t},Co.toArray=function(t){var e=[this.O,this.Mb];return void 0!==t&&!t||e.unshift(this.label()),e},Co.label=function(){return"FinishedLoggingResponse"},(Co=Vt.prototype).getAuthCode=function(){return this.yb},Co.setAuthCode=function(t){this.yb=t},Co.getToken=function(){return this.va},Co.setToken=function(t){this.va=t},Co.toArray=function(t){var e=[this.yb,this.va];return void 0!==t&&!t||e.unshift(this.label()),e},Co.label=function(){return"LinkSaveTokenRequest"},Wt.prototype.getRequested=function(){return this.vc},Wt.prototype.setRequested=function(t){this.vc=t},Wt.prototype.toArray=function(t){var e=[this.vc];return void 0!==t&&!t||e.unshift(this.label()),e},Wt.prototype.label=function(){return"LinkingInfoResponse"},(Co=qt.prototype).getSku=function(){return this.H},Co.setSku=function(t){this.H=t},Co.getOldSku=function(){return this.dc},Co.setOldSku=function(t){this.dc=t},Co.getOneTime=function(){return this.jc},Co.setOneTime=function(t){this.jc=t},Co.getPlayOffer=function(){return this.nc},Co.setPlayOffer=function(t){this.nc=t},Co.getOldPlayOffer=function(){return this.cc},Co.setOldPlayOffer=function(t){this.cc=t},Co.getCustomMessage=function(){return this.Hb},Co.setCustomMessage=function(t){this.Hb=t},Co.getAnonymous=function(){return this.xb},Co.setAnonymous=function(t){this.xb=t},Co.toArray=function(t){var e=[this.H,this.dc,this.jc,this.nc,this.cc,this.Hb,this.xb];return void 0!==t&&!t||e.unshift(this.label()),e},Co.label=function(){return"SkuSelectedResponse"},Ht.prototype.getIsClicked=function(){return this.Tb},Ht.prototype.setIsClicked=function(t){this.Tb=t},Ht.prototype.toArray=function(t){var e=[this.Tb];return void 0!==t&&!t||e.unshift(this.label()),e},Ht.prototype.label=function(){return"SmartBoxMessage"},Kt.prototype.getSubscribe=function(){return this.Fc},Kt.prototype.setSubscribe=function(t){this.Fc=t},Kt.prototype.toArray=function(t){var e=[this.Fc];return void 0!==t&&!t||e.unshift(this.label()),e},Kt.prototype.label=function(){return"SubscribeResponse"},(Co=Yt.prototype).getSeconds=function(){return this.zc},Co.setSeconds=function(t){this.zc=t},Co.getNanos=function(){return this.ac},Co.setNanos=function(t){this.ac=t},Co.toArray=function(t){var e=[this.zc,this.ac];return void 0!==t&&!t||e.unshift(this.label()),e},Co.label=function(){return"Timestamp"},zt.prototype.getClose=function(){return this.xa},zt.prototype.setClose=function(t){this.xa=t},zt.prototype.toArray=function(t){var e=[this.xa];return void 0!==t&&!t||e.unshift(this.label()),e},zt.prototype.label=function(){return"ToastCloseRequest"},Jt.prototype.getNative=function(){return this.bc},Jt.prototype.setNative=function(t){this.bc=t},Jt.prototype.toArray=function(t){var e=[this.bc];return void 0!==t&&!t||e.unshift(this.label()),e},Jt.prototype.label=function(){return"ViewSubscriptionsResponse"};var Xt={AccountCreationRequest:kt,AlreadySubscribedResponse:Mt,AnalyticsContext:Lt,AnalyticsEventMeta:Dt,AnalyticsRequest:xt,EntitlementJwt:Ut,EntitlementsRequest:jt,EntitlementsResponse:Ft,EventParams:Gt,FinishedLoggingResponse:Bt,LinkSaveTokenRequest:Vt,LinkingInfoResponse:Wt,SkuSelectedResponse:qt,SmartBoxMessage:Ht,SubscribeResponse:Kt,Timestamp:Yt,ToastCloseRequest:zt,ViewSubscriptionsResponse:Jt};function $t(t){return JSON.parse(t)}function Zt(t,e){try{return $t(t)}catch(t){e&&e(t)}}function Qt(t){t=Zt(t);return t&&t.productId||null}function te(){}function ee(t,e,n,i,o,r,s,a){this.service=t,this.raw=e,this.entitlements=n,this.isReadyToPay=s||!1,this.decryptedDocumentKey=a||null,this.pc=i,this.Sc=o,this.Wc=r}function ne(t,e,n){this.source=t,this.products=e,this.subscriptionToken=n}function ie(t,e){this.idToken=t,this.data=e,this.id=e.sub,this.email=e.email,this.emailVerified=e.email_verified,this.name=e.name,this.givenName=e.given_name,this.familyName=e.family_name,this.pictureUrl=e.picture}function oe(t,e,n,i,o,r,s,a,u){s=void 0===s?null:s,a=void 0===a?null:a,u=void 0===u?null:u,this.raw=t,this.purchaseData=e,this.userData=n,this.entitlements=i,this.productType=o,this.Fa=r,this.oldSku=s,this.swgUserToken=a,this.paymentRecurrence=u}function re(t,e){this.data=this.raw=t,this.signature=e}function se(t,e,n,i){this.entitlements=t,this.userData=e,this.purchaseDataList=n,this.purchaseData=n[0],this.Fa=i}te.prototype.decode=function(t){return function(t){function e(){throw Error('Invalid token: "'+t+'"')}var n=t.split(".");3!=n.length&&e();var i=H(n[0]),o=H(n[1]);return{header:Zt(W(i),e),payload:Zt(W(o),e),verifiable:n[0]+"."+n[1],sig:n[2]}}(t).payload},(Co=ee.prototype).clone=function(){return new ee(this.service,this.raw,this.entitlements.map(function(t){return t.clone()}),this.pc,this.Sc,this.Wc,this.isReadyToPay,this.decryptedDocumentKey)},Co.json=function(){return{service:this.service,entitlements:this.entitlements.map(function(t){return t.json()}),isReadyToPay:this.isReadyToPay}},Co.enablesThisWithCacheableEntitlements=function(){var t=this.getEntitlementForThis();return!!t&&"google:metering"!==t.source},Co.enablesThisWithGoogleMetering=function(){var t=this.getEntitlementForThis();return!!t&&"google:metering"===t.source},Co.enablesThis=function(t){return this.enables(this.pc,t)},Co.enablesAny=function(t){for(var e=0;e<this.entitlements.length;e++)if(0<this.entitlements[e].products.length&&(!t||t==this.entitlements[e].source))return!0;return!1},Co.enables=function(t,e){return!!t&&!!this.getEntitlementFor(t,e)},Co.getEntitlementForThis=function(t){return this.getEntitlementFor(this.pc,t)},Co.getEntitlementFor=function(e,n){if(!e)return x("SwG needs this article to define a product ID (e.g. example.com:premium). Articles can define a product ID using JSON+LD. SwG can check entitlements after this article defines a product ID."),null;var t=this.entitlements.filter(function(t){return t.enables(e)&&(!n||n===t.source)}),i=j(t,function(t){return"google:metering"!==t.source}),t=j(t,function(t){return"google:metering"===t.source});return i||t||null},Co.getEntitlementForSource=function(t){if(0<this.entitlements.length)for(var e=0;e<this.entitlements.length;e++)if(this.entitlements[e].subscriptionToken&&t==this.entitlements[e].source)return this.entitlements[e];return null},Co.ack=function(){this.Sc(this)},Co.consume=function(t){this.Wc(this,t)},ne.prototype.clone=function(){return new ne(this.source,this.products.slice(0),this.subscriptionToken)},ne.prototype.json=function(){return{source:this.source,products:this.products,subscriptionToken:this.subscriptionToken}},ne.prototype.enables=function(t){if(!t)return!1;var e=t.indexOf(":");return!(-1==e||!this.products.includes(t.substring(0,e+1)+"*"))||this.products.includes(t)},ne.prototype.getSku=function(){if("google"!==this.source)return null;var t=Qt(this.subscriptionToken)||null;return t||x("Unable to retrieve SKU from SwG subscription token"),t},ie.prototype.clone=function(){return new ie(this.idToken,this.data)},ie.prototype.json=function(){return{id:this.id,email:this.email,emailVerified:this.emailVerified,name:this.name,givenName:this.givenName,familyName:this.familyName,pictureUrl:this.pictureUrl}},oe.prototype.clone=function(){return new oe(this.raw,this.purchaseData,this.userData,this.entitlements,this.productType,this.Fa,this.oldSku,this.swgUserToken)},oe.prototype.json=function(){return{purchaseData:this.purchaseData.json(),userData:this.userData?this.userData.json():null,entitlements:this.entitlements?this.entitlements.json():null,oldSku:this.oldSku,productType:this.productType,swgUserToken:this.swgUserToken}},oe.prototype.complete=function(){return this.Fa()},re.prototype.clone=function(){return new re(this.raw,this.signature)},re.prototype.json=function(){return{data:this.raw,signature:this.signature}},se.prototype.clone=function(){return new se(this.entitlements,this.userData,this.purchaseDataList,this.Fa)},se.prototype.json=function(){return{entitlements:this.entitlements.json(),userData:this.userData.json(),purchaseDataList:this.purchaseDataList.map(function(t){return t.json()}),purchaseData:this.purchaseData.json()}},se.prototype.complete=function(){return this.Fa()};var ae,ue,ce={UNKNOWN:"unknown",NON_SUBSCRIBER:"non_subscriber",SUBSCRIBER:"subscriber",PAST_SUBSCRIBER:"past_subscriber"},he={IMPRESSION_PAYWALL:"paywall",IMPRESSION_AD:"ad_shown",IMPRESSION_OFFERS:"offers_shown",ACTION_SUBSCRIPTIONS_LANDING_PAGE:"subscriptions_landing_page",ACTION_OFFER_SELECTED:"offer_selected",ACTION_PAYMENT_FLOW_STARTED:"payment_flow_start",ACTION_PAYMENT_COMPLETED:"payment_complete",EVENT_CUSTOM:"custom"},le={GENERAL:"general",PAYWALL:"paywall"},fe=/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/;function de(t){ae||(ae=self.document.createElement("a"),ue=self.UrlCache||(self.UrlCache=Object.create(null)));var e=ue[t];if(e)return e;var n=ae;n.href=t,n.protocol||(n.href=n.href);e={href:n.href,protocol:n.protocol,host:n.host,hostname:n.hostname,port:"0"==n.port?"":n.port,pathname:n.pathname,search:n.search,hash:n.hash,origin:""};return"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname),("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)&&(e.port="",e.host=e.hostname),e.origin=n.origin&&"null"!=n.origin?n.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href,ue[t]=e}function pe(t){return t?(/^[?#]/.test(t)?t.slice(1):t).split("&").reduce(function(t,e){e=e.split("=");try{var n=decodeURIComponent(e[0]||""),i=decodeURIComponent(e[1]||"");n&&(t[n]=i)}catch(t){x("SwG could not parse a URL query param: "+e[0])}return t},{}):{}}function ge(t,e,n){var i=t.indexOf("?"),o=t.indexOf("#"),r="";return-1!=o&&(r=t.substring(o),t=t.substring(0,o)),-1==i?t+="?":i<t.length-1&&(t+="&"),(t+=encodeURIComponent(e)+"="+encodeURIComponent(n))+r}function me(t){return(t=t.getRootNode().querySelector("link[rel='canonical']"))&&t.href||""}var be=de(self.window.location.href),ve=de(self.document.referrer);function ye(t){return"https"===(t=t||be).protocol||"https:"===t.protocol}var we={nocache:1,hr1:36e5,hr12:432e5};function Ee(){return de("https://news.google.com").origin}function Ce(t){return"https://news.google.com/swg/_/api/v1"+t}function Se(t,e){t=ge("https://news.google.com"+(void 0===e?"":e)+"/swg/_/ui/v1"+t,"_",Te());var n,e=pe(self.location.hash)["swg.boqjsmode"];for(n in void 0!==e&&(t=ge(t,"jsmode",e)),void 0)t=ge(t,n,(void 0)[n]);return t}function Oe(t){return Object.assign(t,{_client:"SwG 0.1.22.169"})}function Te(){var t=we.hr1;if(0===(t=null==t?1:t))return"_";var e=Date.now();return String(t<=1?e:Math.floor(e/t))}var Re={IMMEDIATE_WITH_TIME_PRORATION:1},Ie=2;function Pe(t,e){return new Gt([,,,,t,,,e=void 0===e?null:e])}function _e(t,e,n){n=void 0===n?"SUBSCRIPTION":n,this.h=t,this.lc=t.payClient(),this.P=t.pageConfig(),this.o=t.dialogManager(),this.fa=e,this.jd=n,this.W=t.analytics(),this.u=t.eventManager(),this.X=t.clientConfigManager()}function Ae(t){this.g=t.win(),this.h=t,this.m=t.activities(),this.o=t.dialogManager(),this.nb=this.ka=null,this.W=t.analytics(),this.u=t.eventManager(),this.X=t.clientConfigManager(),this.H=null}function Ne(i){var o=i.eventManager();i.payClient().onResponse(function(t){i.entitlementsManager().blockNextNotification();var a,u,c,n=new Ae(i),t=(a=i,t=t,u=n.complete.bind(n),c=!ke,ke=!1,t.then(function(t){var e,n=void 0;e="object"==typeof t&&t.googleTransactionId?(r=a.analytics().getTransactionId(),s=t.googleTransactionId,c?(a.analytics().setTransactionId(s),3004):r===s?3001:((n=new Gt).setGpayTransactionId(s),3002)):((n=new Gt).setHadLogged(!c),3003),a.eventManager().logSwgEvent(e,!0,n);var i,o=e=null,r="SUBSCRIPTION",s=null,n=null;if(t&&("string"==typeof t?o=t:("swgCallbackData"in t?e=t.swgCallbackData:"integratorClientCallbackData"in t&&(o=t.integratorClientCallbackData),"paymentRequest"in t&&(s=(t.paymentRequest.swg||{}).oldSku,n=(t.paymentRequest.swg||{}).paymentRecurrence,r=(t.paymentRequest.i||{}).productType||"SUBSCRIPTION"))),!(e=o&&!e&&(o=atob(o))?$t(o).swgCallbackData:e))throw Error("unexpected payment response");return new oe(t=o=JSON.stringify(e),o=new re(e.purchaseData,e.purchaseDataSignature),o=(o=e.idToken)?new ie(o,i=(new te).decode(o)):null,i=(i=e).signedEntitlements?a.entitlementsManager().parseEntitlements(i):null,r,u,s,n,e.swgUserToken)}));return i.callbacks().triggerPaymentResponse(t),t.then(function(t){var e=Qt(t.purchaseData.raw)||null;i.analytics().setSku(e||""),o.logSwgEvent(1001,!0,Pe(e||"","UI_CONTRIBUTION"==t.productType?"contribute":"subscribe")),n.start(t)},function(t){if(!it(t))throw i.eventManager().logSwgEvent(2e3,!1),i.jserror().error("Pay failed",t),t;t="UI_CONTRIBUTION"==t.productType?"contribute":"subscribe",i.callbacks().triggerFlowCanceled(t),i.eventManager().logSwgEvent(1014,!0)})})}_e.prototype.start=function(){var i=this;return this.X.getClientConfig().then(function(t){var e,n=t.paySwgVersion,t={skuId:i.fa.skuId,publicationId:i.P.getPublicationId()};n&&(t.swgVersion=n),i.fa.oldSku&&(t.oldSku=i.fa.oldSku,e=i.fa.replaceSkuProrationMode,t.replaceSkuProrationMode=e?Re[e]:Re.IMMEDIATE_WITH_TIME_PRORATION,i.W.setSku(t.oldSku)),i.fa.oneTime&&(t.paymentRecurrence=Ie),i.fa.metadata&&(t.metadata=i.fa.metadata),e="UI_CONTRIBUTION"==i.jd?"contribute":"subscribe",i.h.callbacks().triggerFlowStarted(e,i.fa),i.u.logSwgEvent(1005,!0,Pe(t.skuId)),ke=!0,i.lc.start({apiVersion:1,allowedPaymentMethods:["CARD"],environment:"PRODUCTION",playEnvironment:"PROD",swg:t,i:{startTimeMs:Date.now(),productType:i.jd}},{forceRedirect:"redirect"==i.h.config().windowOpenMode,forceDisableNative:"2"==n}),Promise.resolve()})},Ae.prototype.start=function(t){var e=this;this.H=Qt(t.purchaseData.raw)||null,this.u.logSwgEvent(10,!0,Pe(this.H||"")),this.h.entitlementsManager().reset(!0);var n={publicationId:this.h.pageConfig().getPublicationId(),productType:t.productType,isSubscriptionUpdate:!!t.oldSku,isOneTime:!!t.paymentRecurrence};return t.userData&&t.entitlements?(n.idToken=t.userData.idToken,this.h.entitlementsManager().pushNextEntitlements(t.entitlements.raw),t.swgUserToken&&this.h.storage().set("USER_TOKEN",t.swgUserToken,!0)):n.loginHint=t.userData&&t.userData.email,this.ka=this.X.getClientConfig().then(function(t){return n.useUpdatedConfirmUi=t.useUpdatedOfferFlows,new Pt(e.g,e.m,Se("/payconfirmiframe"),Oe(n),!0)}).then(function(t){return t.on(Ft,e.Ad.bind(e)),t.acceptResult().then(function(){e.o.completeView(t)}),e.nb=e.o.openView(t),t})},Ae.prototype.Ad=function(t){t=t.getJwt();t&&this.h.entitlementsManager().pushNextEntitlements(t)};var ke=!(Ae.prototype.complete=function(){var n=this;return this.u.logSwgEvent(1002,!0,Pe(this.H||"")),this.h.entitlementsManager().unblockNextNotification(),Promise.all([this.ka,this.nb]).then(function(t){t=t[0];var e=new kt;return e.setComplete(!0),t.execute(e),t.acceptResult().catch(function(){}).then(function(){n.u.logSwgEvent(1003,!0,Pe(n.H||"")),n.h.entitlementsManager().setToastShown(!0)})})});function Me(t,e){var n=this;this.h=t,this.g=t.win(),this.m=t.activities(),this.o=t.dialogManager(),this.u=t.eventManager(),this.X=t.clientConfigManager(),this.l=null;var i=e&&e.isClosable;null==i&&(i=!1);var o,r=t.activities().addDefaultArguments({showNative:t.callbacks().hasSubscribeRequestCallback(),productType:"SUBSCRIPTION",list:e&&e.list||"default",skus:e&&e.skus||null,isClosable:i});if(e&&e.oldSku&&(r.oldSku=e.oldSku,U(r.skus,"Need a sku list if old sku is provided!"),s=r.skus,o=r.oldSku,U(0<(s=s.filter(function(t){return t!==o})).length,"Sku list only contained offer user already has"),r.skus=s),r.skus&&1===r.skus.length&&(t=r.skus[0],e=r.oldSku)){var s=new qt;return s.setSku(t),s.setOldSku(e),void this.sb(s)}this.Wd=r.skus||["*"],this.ka=this.Qb(this.X.getClientConfig()).then(function(t){return new Pt(n.g,n.m,Se(t),r,!0)})}function Le(t,e){this.h=t,this.B=e,this.m=t.activities(),this.o=t.dialogManager(),this.u=t.eventManager(),this.l=new Pt(t.win(),this.m,Se("/optionsiframe"),Oe({publicationId:t.pageConfig().getPublicationId(),productId:t.pageConfig().getProductId(),list:e&&e.list||"default",skus:e&&e.skus||null,isClosable:!0}),!1)}function De(t,e){e=void 0===e?{}:e,this.h=t,this.B=e,this.g=t.win(),this.m=t.activities(),this.o=t.dialogManager(),this.u=t.eventManager(),this.l=new Pt(this.g,this.m,Se("/abbrvofferiframe"),Oe({publicationId:t.pageConfig().getPublicationId(),productId:t.pageConfig().getProductId(),showNative:t.callbacks().hasSubscribeRequestCallback(),list:e&&e.list||"default",skus:e&&e.skus||null,isClosable:!0}),!1)}function xe(t){this.v=t}function Ue(t,e,n,i){this.$=new mt(t,e,i),this.zb={},this.h=n}function je(t){this.h=t,this.m=new Ct(t.win())}function Fe(t){return"[object Object]"===Object.prototype.toString.call(t)}function Ge(t,e){for(var n in t)if(t[n]===e)return 1}function Be(t){return"boolean"==typeof t}function Ve(t,e){return"Event has an invalid "+t+"("+e+")"}function We(t){this.Zb=[],this.Pb=[],this.Vb=null,this.Zc=t}(Co=Me.prototype).sb=function(t){var e,n=t.getSku();n&&(e={skuId:n},(t=t.getOldSku())&&(e.oldSku=t,this.h.analytics().setSku(t)),this.u.logSwgEvent(1006,!0,new Gt([,,,,n])),new _e(this.h,e).start())},Co.Ka=function(t){t.getSubscriberOrMember()&&(this.u.logSwgEvent(1009,!0),this.h.callbacks().triggerLoginRequest({linkRequested:!!t.getLinkRequested()}))},Co.Ec=function(t){t.getNative()&&this.h.callbacks().triggerSubscribeRequest()},Co.start=function(){var e=this;return this.ka?this.ka.then(function(t){return e.h.callbacks().triggerFlowStarted("showOffers",{skus:e.Wd,source:"SwG"}),t.onCancel(function(){e.h.callbacks().triggerFlowCanceled("showOffers")}),t.on(qt,e.sb.bind(e)),t.on(Mt,e.Ka.bind(e)),t.on(Jt,e.Ec.bind(e)),e.l=t,e.o.openView(e.l)}):Promise.resolve()},Co.Qb=function(t){return t.then(function(t){return t.useUpdatedOfferFlows?"/subscriptionoffersiframe":"/offersiframe"})},Co.showNoEntitlementFoundToast=function(){this.l&&this.l.execute(new Ft)},Le.prototype.start=function(){var n=this;return this.h.callbacks().triggerFlowStarted("showSubscribeOption"),this.l.onCancel(function(){n.h.callbacks().triggerFlowCanceled("showSubscribeOption")}),this.l.on(Kt,this.dd.bind(this)),this.l.acceptResult().then(function(t){t=t.data;var e=new Kt;t.subscribe&&e.setSubscribe(!0),n.dd(e)},function(t){throw n.o.completeView(n.l),t}),this.u.logSwgEvent(7),this.o.openView(this.l)},Le.prototype.dd=function(t){t.getSubscribe()&&(null==(t=this.B||{}).isClosable&&(t.isClosable=!0),this.u.logSwgEvent(1008,!0),new Me(this.h,t).start())},De.prototype.Ka=function(t){t.getSubscriberOrMember()&&(this.u.logSwgEvent(1009,!0),this.h.callbacks().triggerLoginRequest({linkRequested:!!t.getLinkRequested()}))},De.prototype.start=function(){var e=this;return this.h.callbacks().triggerFlowStarted("showAbbrvOffer"),this.l.onCancel(function(){e.h.callbacks().triggerFlowCanceled("showAbbrvOffer")}),this.l.on(Mt,this.Ka.bind(this)),this.l.acceptResult().then(function(t){t.data.viewOffers?(null==(t=e.B||{}).isClosable&&(t.isClosable=!0),e.u.logSwgEvent(1008,!0),new Me(e.h,t).start()):t.data.native&&(e.h.callbacks().triggerSubscribeRequest(),e.o.completeView(e.l))}),this.u.logSwgEvent(8),this.o.openView(this.l)},xe.prototype.acceptResult=function(){return this.v.acceptResult()},(Co=Ue.prototype).whenReady=function(){return this.$.whenReady()},Co.connect=function(){var i=this;return this.$.connect().then(function(){i.$.onMessage(function(t){if(t=t&&t.RESPONSE){var e=i.zb[t[0]];if(e){var n=t?t[0]:null;if(!(n=n&&Xt[n]))throw Error("Deserialization failed for "+t);e(t=new n(t))}}}),i.h&&i.h.eventManager()&&i.on(xt,function(t){i.h.eventManager().logEvent({eventType:t.getEvent(),eventOriginator:4,isFromUserAction:t.getMeta().getIsFromUserAction(),additionalParameters:t.getParams()})})})},Co.disconnect=function(){this.$.disconnect()},Co.getMode=function(){return this.$.getMode()},Co.acceptResult=function(){return this.$.acceptResult()},Co.onResizeRequest=function(t){return this.$.onResizeRequest(t)},Co.execute=function(t){this.$.message({REQUEST:t.toArray()})},Co.on=function(t,e){var n=null;try{n=(new t).label()}catch(t){n=null}if(!n)throw Error("Invalid data type");if(this.zb[n])throw Error("Invalid type or duplicate callback for ",n);this.zb[n]=e},Co.resized=function(){this.$.resized()},(Co=je.prototype).addDefaultArguments=function(t){var e=(n=this.h).pageConfig(),n=n.analytics().getContext();return Object.assign({analyticsContext:n.toArray(),publicationId:e.getPublicationId(),productId:e.getProductId(),_client:"SwG 0.1.22.169",supportsEventManager:!0},t||{})},Co.openIframe=function(t,e,n,i){return(i=void 0!==i&&i)&&(n=this.addDefaultArguments(n)),n=n,(o=new Ue(t,e,this.h,n)).connect().then(function(){return o});var o},Co.open=function(t,e,n,i,o,r){return void 0!==r&&r&&(i=this.addDefaultArguments(i)),this.m.open(t,e,n,i,o)},Co.onResult=function(t,e){this.m.onResult(t,function(t){e(new xe(t))})},Co.onRedirectError=function(t){this.m.onRedirectError(t)},Co.getOriginalWebActivityPorts=function(){return this.m},(Co=We.prototype).registerEventListener=function(t){if("function"!=typeof t)throw Error("Event manager listeners must be a function");this.Zb.push(t)},Co.registerEventFilterer=function(t){if("function"!=typeof t)throw Error("Event manager filterers must be a function");this.Pb.push(t)},Co.logEvent=function(e){var n=this;!function(t){if(!Fe(t))throw Error("Event must be a valid object");if(!Ge(At,t.eventType))throw Error(Ve("eventType",t.eventType));if(!Ge(Nt,t.eventOriginator))throw Error(Ve("eventOriginator",t.eventOriginator));if(!Fe(t.additionalParameters)&&null!=t.additionalParameters)throw Error(Ve("additionalParameters",t.additionalParameters));if(null!=t.isFromUserAction&&!Be(t.isFromUserAction))throw Error(Ve("isFromUserAction",t.isFromUserAction))}(e),this.Vb=this.Zc.then(function(){for(var t=0;t<n.Pb.length;t++)try{if(1===n.Pb[t](e))return Promise.resolve()}catch(t){D(t)}for(t=0;t<n.Zb.length;t++)try{n.Zb[t](e)}catch(t){D(t)}return Promise.resolve()})},Co.logSwgEvent=function(t,e,n){this.logEvent({eventType:t,eventOriginator:1,isFromUserAction:e=void 0!==e&&e,additionalParameters:void 0===n?null:n})},Co.getReadyPromise=function(){return this.Zc};var qe=null;function He(c){if(!qe){qe={};var t="replace-subscription,update-google-transaction-id,smartbox,pay-client-redirect";try{var e=pe(c.location.hash)["swg.experiments"];e&&(t+=","+e)}catch(t){Tt(t)}t.split(",").forEach(function(t){if(t=t.trim())try{var e=t;t=qe;var n,i,o=!1;if(-1==(s=e.indexOf(":"))?(n=e,o=!(i=100)):(n=e.substring(0,s).trim(),"c"==(e=e.substring(s+1)).substring(e.length-1)&&(o=!0,e=e.substring(0,e.length-1)),i=parseInt(e,10)),isNaN(i))throw Error("invalid fraction");if(99<i)var r=!0;else if(i<1)r=!1;else if(c.sessionStorage){o=o&&i<=20;try{var s="subscribe.google.com:e:"+n+":"+i+(o?"c":""),a=c.sessionStorage.getItem(s),u="e"==a?"e":"c"==a?"c":null;!u&&100*c.Math.random()<=i*(o?2:1)&&(u=!o||c.Math.random()<=.5?"e":"c",c.sessionStorage.setItem(s,u)),r=!!u,"c"==u&&(n="c-"+n)}catch(t){r=!1,Tt(t)}}else r=!1;t[n]=r}catch(t){Tt(t)}})}return qe}function Ke(t,e){return He(t)[e]||!1}function Ye(t){var e,n=[];for(e in t=He(t))t[e]&&n.push(e);return n}var ze={opacity:"0",position:"absolute",top:"-10px",left:"-10px",height:"1px",width:"1px"};function Je(t){var e=new Bt;return e.setComplete(!1),e.setError(t),e}function Xe(t,e){this.D=e,this.j=t.doc(),this.h=t,this.m=t.activities(),this.s=et(this.j.getWin().document,"iframe",{}),Z(this.s,ze),this.j.getBody().appendChild(this.getElement()),this.Xc=!1;var n=this.G=new Lt;Ke(this.j.getWin(),"update-google-transaction-id")?n.setTransactionId(K()+".swg"):n.setTransactionId(K()),n.setReferringOrigin(de(this.j.getWin().document.referrer).origin),n.setClientVersion("SwG 0.1.22.169"),n.setUrl(me(this.j));var i=(o=pe(this.j.getWin().location.search)).utm_campaign,e=o.utm_medium,o=o.utm_source;i&&n.setUtmCampaign(i),e&&n.setUtmMedium(e),o&&n.setUtmSource(o),this.Vb=this.Ac=null,this.u=t.eventManager(),this.u.registerEventListener(this.Ja.bind(this)),this.ub=0,this.mb=this.eb=null,this.$b=!1,this.Va=null}(Co=Xe.prototype).setTransactionId=function(t){var e=this.G.getTransactionId();this.G.setTransactionId(t),null!=e&&e!=t&&((t=new Gt).setOldTransactionId(e),this.u.logSwgEvent(3006,!0,t))},Co.getTransactionId=function(){return this.G.getTransactionId()},Co.getSku=function(){return this.G.getSku()},Co.setSku=function(t){this.G.setSku(t)},Co.setUrl=function(t){this.G.setUrl(t)},Co.addLabels=function(t){var e;t&&0<t.length&&(e=[].concat(this.G.getLabelList()),t.forEach(function(t){-1==e.indexOf(t)&&e.push(t)}),this.G.setLabelList(e))},Co.getElement=function(){return this.s},Co.start=function(){var e=this;return this.Ac||(this.addLabels(Ye(this.j.getWin())),this.Ac=this.m.openIframe(this.s,Se("/serviceiframe"),null,!0).then(function(t){return t.on(Bt,e.wb.bind(e)),t.whenReady().then(function(){return e.addLabels(Ye(e.j.getWin())),t})},function(t){e.$b=!0,e.wb(Je("Could not connect ["+t+"]"))})),this.Ac},Co.setReadyToPay=function(t){this.G.setReadyToPay(t)},Co.close=function(){this.j.getBody().removeChild(this.getElement())},Co.getContext=function(){return this.G},Co.Ja=function(i){var o=this;4e3!==i.eventType&&6!==i.eventOriginator&&(3!==i.eventOriginator&&5!==i.eventOriginator&&2!==i.eventOriginator||!0===this.h.config().enableSwgAnalytics||11===i.eventType&&2===i.eventOriginator)&&(this.ub++,this.Vb=this.start().then(function(t){var e=new Dt;e.setEventOriginator(i.eventOriginator),e.setIsFromUserAction(!!i.isFromUserAction);var n=new xt;n.setEvent(i.eventType),n.setContext(o.G),n.setMeta(e),i.additionalParameters instanceof Gt&&n.setParams(i.additionalParameters),t.execute(n),Ke(o.j.getWin(),"logging-beacon")&&(t=Ce("/publication/"+(t=encodeURIComponent(o.h.pageConfig().getPublicationId()))+"/clientlogs"),o.D.sendBeacon(t,n))}))},Co.wb=function(t){var e=t&&t.getComplete()||!1,n="AnalyticsService timed out waiting for a response"===(t=t&&t.getError()||"Unknown logging Error");e||D("Error when logging: "+t),this.ub--,n||(this.Xc=!0),null!==this.eb&&(0===this.ub||this.$b||n)&&(null!==this.Va&&(clearTimeout(this.Va),this.Va=null),this.eb(e),this.eb=this.mb=null)},Co.getLoggingPromise=function(){var t,e=this;return 0===this.ub||this.$b?Promise.resolve(!0):(null===this.mb&&(this.mb=new Promise(function(t){e.eb=t}),t=this.wb.bind(this),this.Va=setTimeout(function(){e.Va=null,t(Je("AnalyticsService timed out waiting for a response"))},this.Xc?200:500)),this.mb)};var $e={en:"Subscribe with Google",ar:"Google ",de:"Abonnieren mit Google",es:"Suscrbete con Google","es-latam":"Suscrbete con Google","es-latn":"Suscrbete con Google",fr:"S'abonner avec Google",hi:"Google   ",id:"Berlangganan dengan Google",it:"Abbonati con Google",jp:"Google ",ko:"Google  ",ms:"Langgan dengan Google",nl:"Abonneren via Google",no:"Abonner med Google",pl:"Subskrybuj z Google",pt:"Subscrever com o Google","pt-br":"Assine com o Google",ru:"c  Google",se:"Prenumerera med Google",th:" Google",tr:"Google ile Abone Ol",uk:"  Google","zh-tw":" Google "},Ze={en:"Contribute with Google",ar:"  Google",de:"Mit Google beitragen",es:"\tContribuye con Google","es-latam":"Contribuir con Google","es-latn":"Contribuye con Google",fr:"Contribuer avec Google",hi:"Google      ",id:"Berkontribusi dengan Google",it:"Contribuisci con Google",jp:"Google ",ko:"Google  ",ms:"Sumbangkan dengan Google",nl:"Bijdragen met Google",no:"Bidra med Google",pl:"Wesprzyj publikacj przez Google",pt:"Contribuir com o Google","pt-br":"Contribua com o Google",ru:"   Google",se:"Bidra med Google",th:" Google",tr:"Google ile Katkda Bulun",uk:"   Google","zh-tw":" Google "},Qe={frameborder:"0",scrolling:"no"};function tn(t,e,n,i){this.h=t,this.g=t.win(),this.j=this.g.document,this.m=t.activities(),this.s=et(this.j,"iframe",Qe),this.qd=e,this.B=n,this.S=i,this.Ua=Se("/smartboxiframe");n={productId:this.h.pageConfig().getProductId(),publicationId:this.h.pageConfig().getPublicationId(),theme:this.B&&this.B.theme||"light",lang:this.B&&this.B.lang||"en"},i=this.B&&this.B.messageTextColor;i&&(n.messageTextColor=i),this.T=Oe(n)}function en(t,e){var n=t.en;if("object"!=typeof t||!e)return n;for(var e="string"==typeof e?e:e.lang||(e.ownerDocument&&e.ownerDocument.documentElement.lang?e.ownerDocument.documentElement.lang:"en"),i=(e=(e=e.toLowerCase()).replace(/_/g,"-")).split("-");i.length;){var o=i.join("-");if(o in t)return t[o];i.pop()}return n}function nn(t,e){this.j=t,this.vd=e}function on(t,e,n){t.vd.then(function(t){t.eventManager().logSwgEvent(e,n)})}function rn(e,t,n,i,o){function r(t){on(e,n,!0),"function"==typeof u&&u(t)}var s,a,s=("light"!==(a=(s=(s=i)&&"function"!=typeof s?s:{theme:"light"}).theme)&&"dark"!==a&&(s.theme="light"),s),u=("function"==typeof i?i:null)||o;return t.addEventListener("click",r),{options:s,clickFun:r}}function sn(){this.C={},this.M={},this.Od=null}function an(t,e,n){t.C[e]&&x("[swg.js]: You have registered multiple callbacks for the same response."),t.C[e]=n,e in t.M&&cn(t,e,n,t.M[e])}function un(t,e,n){t.M[e]=n;var i=t.C[e];return i&&cn(t,e,i,n),!!i}function cn(t,e,n,i){Promise.resolve().then(function(){n(i),e in t.M&&delete t.M[e]})}function hn(t,e,n,i,o){this.maxImpressionsPerWeek=t,this.clientDisplayTrigger=new ln(e),this.explicitDismissalConfig=new fn(n,i,o)}function ln(t){this.displayDelaySeconds=t}function fn(t,e,n){this.backoffSeconds=t,this.maxDismissalsPerWeek=e,this.maxDismissalsResultingHideSeconds=n}function dn(t,e){this.canDisplayAutoPrompt=t,this.canDisplayButton=e}function pn(t,e,n,i){this.autoPromptConfig=t,this.paySwgVersion=e,this.useUpdatedOfferFlows=n||!1,this.uiPredicates=i}function gn(t,e){this.Bb={},this.K=t,this.D=e,this.L=null}function mn(e,n){var i=this;this.h=e,this.B=n,this.g=e.win(),this.X=e.clientConfigManager(),this.m=e.activities(),this.o=e.dialogManager(),this.l=null;var o=n&&n.isClosable||!0;this.ka=this.Qb(this.X.getClientConfig()).then(function(t){return new Pt(i.g,i.m,Se(t),Oe({productId:e.pageConfig().getProductId(),publicationId:e.pageConfig().getPublicationId(),productType:"UI_CONTRIBUTION",list:n&&n.list||"default",skus:n&&n.skus||null,isClosable:o,supportsEventManager:!0}),!0)})}function bn(t,e){this.h=t,this.g=t.win(),this.m=t.activities(),this.o=t.dialogManager(),this.ea=this.l=null,this.B=Object.assign({entitlements:null,consent:!0},e||{})}tn.prototype.Dd=function(t){if(t&&t.getIsClicked()){if(!this.S)throw Error("No callback!");this.S()}},tn.prototype.start=function(){var e=this;Z(this.s,{opacity:1,position:"absolute",top:0,bottom:0,left:0,height:"100%",right:0,width:"100%"}),this.qd.appendChild(this.s);var t=this.m.addDefaultArguments(this.T);return this.m.openIframe(this.s,this.Ua,t).then(function(t){t.on(Ht,e.Dd.bind(e))}),this.s},(Co=nn.prototype).init=function(){var t=this.j.getHead();t&&(t.querySelector('link[href="https://news.google.com/swg/js/v1/swg-button.css"]')||t.appendChild(et(this.j.getWin().document,"link",{rel:"stylesheet",type:"text/css",href:"https://news.google.com/swg/js/v1/swg-button.css"})))},Co.create=function(t,e){var n=et(this.j.getWin().document,"button",{});return this.attach(n,t,e)},Co.attach=function(t,e,n){return e=rn(this,t,1007,e,n).options,t.classList.add("swg-button-"+e.theme),t.setAttribute("role","button"),e.lang&&t.setAttribute("lang",e.lang),t.setAttribute("title",en($e,t)||""),on(this,6),t},Co.attachSubscribeButton=function(t,e,n){return n=(e=rn(this,t,1017,e,n).options).theme,t.classList.add("swg-button-v2-"+n),t.setAttribute("role","button"),e.lang&&t.setAttribute("lang",e.lang),e.enable||(t.disabled=!0),t.innerHTML='<img class="swg-button-v2-icon-$theme$"></div>$textContent$'.replace("$theme$",n).replace("$textContent$",en($e,t)||""),on(this,16),t},Co.attachContributeButton=function(t,e,n){return n=(e=rn(this,t,1019,e,n).options).theme,t.classList.add("swg-button-v2-"+n),t.setAttribute("role","button"),e.lang&&t.setAttribute("lang",e.lang),e.enable||(t.disabled=!0),t.innerHTML='<img class="swg-button-v2-icon-$theme$"></div>$textContent$'.replace("$theme$",n).replace("$textContent$",en(Ze,t)||""),on(this,19),t},Co.attachButtonsWithAttribute=function(i,t,o,r){var s=this;t.forEach(function(t){for(var e=s.j.getRootNode().querySelectorAll("button["+i+'="'+t+'"]'),n=0;n<e.length;n++)"subscription"===t?s.attachSubscribeButton(e[n],o,r[t]):"contribution"===t&&s.attachContributeButton(e[n],o,r[t])})},Co.attachSmartButton=function(t,e,n,i){return n=rn(this,e,1007,n,i),e.classList.add("swg-smart-button"),new tn(t,e,n.options,n.clickFun).start()},(Co=sn.prototype).setOnEntitlementsResponse=function(t){an(this,1,t)},Co.triggerEntitlementsResponse=function(t){return un(this,1,t.then(function(t){return t.clone()}))},Co.hasEntitlementsResponsePending=function(){return!!this.M[1]},Co.setOnLoginRequest=function(t){an(this,4,t)},Co.triggerLoginRequest=function(t){return un(this,4,t)},Co.setOnLinkProgress=function(t){an(this,5,t)},Co.triggerLinkProgress=function(){return un(this,5,!0)},Co.resetLinkProgress=function(){5 in this.M&&delete this.M[5]},Co.setOnLinkComplete=function(t){an(this,6,t)},Co.triggerLinkComplete=function(){return un(this,6,!0)},Co.hasLinkCompletePending=function(){return!!this.M[6]},Co.setOnSubscribeRequest=function(t){an(this,2,t)},Co.triggerSubscribeRequest=function(){return un(this,2,!0)},Co.hasSubscribeRequestCallback=function(){return!!this.C[2]},Co.setOnSubscribeResponse=function(t){x("[swg.js:setOnSubscribeResponse]: This method has been deprecated, please switch usages to 'setOnPaymentResponse'"),an(this,3,t)},Co.setOnContributionResponse=function(t){x("[swg.js:setOnContributionResponse]: This method has been deprecated, please switch usages to 'setOnPaymentResponse'"),an(this,3,t)},Co.setOnPaymentResponse=function(t){an(this,3,t)},Co.triggerPaymentResponse=function(t){var e=this;return this.Od=t.then(function(t){un(e,3,Promise.resolve(t.clone()))},function(t){if(!it(t))throw t}),!!this.C[3]},Co.hasPaymentResponsePending=function(){return!!this.M[3]},Co.setOnFlowStarted=function(t){an(this,7,t)},Co.triggerFlowStarted=function(t,e){return un(this,7,{flow:t,data:e=void 0===e?{}:e})},Co.setOnFlowCanceled=function(t){an(this,8,t)},Co.triggerFlowCanceled=function(t,e){return un(this,8,{flow:t,data:e=void 0===e?{}:e})},(Co=gn.prototype).fetchClientConfig=function(){if(!this.K)throw Error("fetchClientConfig requires publicationId");return this.L||(this.L=this.oa()),this.L},Co.getClientConfig=function(){return this.L||Promise.resolve(new pn)},Co.getAutoPromptConfig=function(){return this.L||this.fetchClientConfig(),this.L.then(function(t){return t.autoPromptConfig})},Co.getLanguage=function(){return this.Bb.lang||"en"},Co.getTheme=function(){return this.Bb.theme||"light"},Co.shouldEnableButton=function(){return this.Bb.disableButton?Promise.resolve(!1):(this.L||this.fetchClientConfig(),this.L.then(function(t){return!(null==(t=t.uiPredicates)||!t.canDisplayButton)}))},Co.oa=function(){var t=Ce("/publication/"+encodeURIComponent(this.K)+"/clientconfiguration");return this.D.fetchCredentialedJson(t).then(function(t){return t.errorMessages&&0<t.errorMessages.length&&t.errorMessages.forEach(function(t){x("SwG ClientConfigManager: "+t)}),function(t){var e,n=t.paySwgVersion,i=t.autoPromptConfig,o=void 0;i&&(o=new hn(i.maxImpressionsPerWeek,null==(e=i.clientDisplayTrigger)?void 0:e.displayDelaySeconds,null==(r=i.explicitDismissalConfig)?void 0:r.backoffSeconds,null==(r=i.explicitDismissalConfig)?void 0:r.maxDismissalsPerWeek,null==(r=i.explicitDismissalConfig)?void 0:r.maxDismissalsResultingHideSeconds));var r=t.uiPredicates;return e=void 0,r&&(e=new dn(r.canDisplayAutoPrompt,r.canDisplayButton)),new pn(o,n,t.useUpdatedOfferFlows,e)}(t)})},(Co=mn.prototype).Ka=function(t){t.getSubscriberOrMember()&&this.h.callbacks().triggerLoginRequest({linkRequested:!!t.getLinkRequested()})},Co.sb=function(t){var e=t.getSku(),t=t.getOneTime();e&&(e={skuId:e},t&&(e.oneTime=t),new _e(this.h,e,"UI_CONTRIBUTION").start())},Co.start=function(){var e=this;return this.ka.then(function(t){return e.h.callbacks().triggerFlowStarted("showContributionOptions"),t.onCancel(function(){e.h.callbacks().triggerFlowCanceled("showContributionOptions")}),t.on(Mt,e.Ka.bind(e)),t.on(qt,e.sb.bind(e)),e.l=t,e.o.openView(e.l)})},Co.Qb=function(t){return t.then(function(t){return t.useUpdatedOfferFlows?"/contributionoffersiframe":"/contributionsiframe"})},Co.showNoEntitlementFoundToast=function(){this.l&&this.l.execute(new Ft)},bn.prototype.start=function(){var e=this,t=this.B.entitlements;if(!t||!t.getEntitlementForSource("google"))throw Error('No entitlements with "google" source');return this.h.callbacks().triggerFlowStarted("completeDeferredAccountCreation"),this.l=new Pt(this.g,this.m,Se("/recoveriframe"),Oe({publicationId:this.h.pageConfig().getPublicationId(),productId:this.h.pageConfig().getProductId(),entitlements:t&&t.raw||null,consent:this.B.consent}),!0),this.ea=this.o.openView(this.l),this.l.acceptResult().then(function(t){return function(t,e){t.h.entitlementsManager().blockNextNotification();var n=e.entitlements,i=e.idToken,o=e.productType,r=t.h.entitlementsManager().parseEntitlements({signedEntitlements:n});i=new ie(i,(new te).decode(i)),e=e.purchaseDataList?e.purchaseDataList.map(function(t){return new re(t.data,t.signature)}):[new re(e.purchaseData.data,e.purchaseData.signature)];var s=new Ae(t.h),n=s.complete.bind(s);return n=new se(r,i,e,n),t.h.eventManager().logSwgEvent(1010,!0),s.start(new oe("",e[0],i,r,o,function(){return Promise.resolve()})),n}(e,t.data)},function(t){throw it(t)?e.h.callbacks().triggerFlowCanceled("completeDeferredAccountCreation"):e.o.completeView(e.l),t})};var vn={frameborder:0,scrolling:"no",src:"about:blank"};function yn(t){var e=this,n=void 0===(n={class:"swg-dialog"})?{}:n,n=Object.assign({},vn,n);this.s=et(t,"iframe",n),Z(this.s,X),this.pb=new Promise(function(t){e.s.onload=t})}function wn(n,i,o){var r=n.ownerDocument.defaultView,t=n.style.transition||"";return new Promise(function(e){r.setTimeout(function(){r.setTimeout(e,o);var t=o+"ms ease-out";Z(n,Object.assign({transition:"transform "+t+", opacity "+t},i))})}).then(function(){Z(n,{transition:t})})}function En(t,e){this.j=t,this.V=this.j.getWin().document.createElement("swg-popup-background"),Z(this.V,{"z-index":e,display:"none",position:"fixed",top:0,right:0,bottom:0,left:0,"background-color":"rgba(32, 33, 36, .6)"})}function Cn(t){this.j=t,this.Ma=et(this.j,"swg-loading-container",{}),this.cd=et(this.j,"swg-loading",{}),this.Ma.appendChild(this.cd),this.Ma.style.setProperty("display","none","important");var e=this.cd;t=et(this.j,"swg-loading-animate",{}),e.appendChild(t),e=et(this.j,"swg-loading-image",{}),t.appendChild(e)}function Sn(t){t=t.readyState;return"loading"!=t&&"uninitialized"!=t}function On(r){return new Promise(function(t){var e,n,i,o;n=t,Sn(e=r)?n(e):(i=!1,o=function(){Sn(e)&&!i&&(n(e),i=!0,e.removeEventListener("readystatechange",o))},e.addEventListener("readystatechange",o))})}function Tn(t){var e=!!t.document;this.g=e?t:t.defaultView,this.j=e?t.document:t}function Rn(t){return 9===t.nodeType||t.document?new Tn(t):t}(Co=yn.prototype).whenReady=function(){return this.pb},Co.getElement=function(){return this.s},Co.getDocument=function(){var t=this.getElement().contentDocument||this.getElement().contentWindow&&this.getElement().contentWindow.document;if(!t)throw Error("not loaded");return t},Co.getBody=function(){return this.getDocument().body},Co.isConnected=function(){var t,e=this.getElement();return e="isConnected"in e?e.isConnected:(t=e.ownerDocument&&e.ownerDocument.documentElement)&&t.contains(e)||!1},(Co=En.prototype).getElement=function(){return this.V},Co.isAttached=function(){return!!this.V.parentNode},Co.attach=function(){this.j.getBody().appendChild(this.V)},Co.destroy=function(){this.j.getBody().removeChild(this.V)},Co.show=function(t){if(Z(this.V,{display:"block",opacity:(t=void 0===t||t)?0:1}),t)return wn(this.V,{opacity:1},300)},Co.hide=function(t){var e=this;if(void 0===t||t)return wn(this.V,{opacity:0},300).then(function(){Z(e.V,{display:"none"})});Z(this.V,{display:"none"})},Cn.prototype.getElement=function(){return this.Ma},Cn.prototype.show=function(){this.Ma.style.removeProperty("display")},Cn.prototype.hide=function(){this.Ma.style.setProperty("display","none","important")},(Co=Tn.prototype).getWin=function(){return this.g},Co.getRootNode=function(){return this.j},Co.getRootElement=function(){return this.j.documentElement},Co.getHead=function(){return this.j.head},Co.getBody=function(){return this.j.body},Co.isReady=function(){return Sn(this.j)},Co.whenReady=function(){return On(this.j)},Co.addToFixedLayer=function(){return Promise.resolve()};var In={"min-height":"50px",border:"none",display:"block",position:"fixed","z-index":2147483647,"box-sizing":"border-box"},Pn={position:"absolute",top:"0",left:"0",right:"0",bottom:"0",opacity:0,height:0,"max-height":"100%","max-width":"100%","min-height":"100%","min-width":"100%",width:0};function _n(t){var e=void 0===e?{}:e,n=void 0===n?{}:n;this.j=t,this.s=new yn(t.getWin().document),this.ca=new En(t,2147483646);e=Object.assign({},In,e);Z(this.s.getElement(),e),tt(this.s.getElement(),n),this.ma=this.Ca=this.ab=this.Na=null,this.cb=!1,this.lb=null}function An(t){t.la(function(){return Z(t.getElement(),{transform:"translateY(100%)",opactiy:1,visibility:"visible"}),wn(t.getElement(),{transform:"translateY(0)",opacity:1,visibility:"visible"},300)}),t.cb=!1}function Nn(t){var e=this;this.j=t,this.ea=this.ba=null,this.ta=new En(t,2147483647),this.ib=null,this.ta.getElement().addEventListener("click",function(){if(e.ib)try{e.ib.focus()}catch(t){}})}function kn(t){var e=this;this.h=t,this.g=t.win(),this.m=t.activities(),this.o=t.dialogManager();t=this.m.addDefaultArguments({isClosable:!0,hasSubscriptionCallback:t.callbacks().hasSubscribeRequestCallback()});this.l=new Pt(this.g,this.m,Se("/metertoastiframe"),t,!1),this.Pa=null,this.Oa=!1,this.ua=function(){var t=new zt;t.setClose(!0),e.l.execute(t),e.removeCloseEventListener(),e.h.eventManager().logSwgEvent(1027,!0),e.Pa&&!e.Oa&&(e.Oa=!0,e.Pa())},this.yc=null}function Mn(t){return t.g.navigator.userAgent.match(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile/i)}(Co=_n.prototype).open=function(t){var n=this;t=void 0!==t&&t;var e=this.s;if(e.isConnected())throw Error("already opened");return this.j.getBody().appendChild(e.getElement()),this.ca.attach(),t?(Z(e.getElement(),{visibility:"hidden",opacity:0}),this.cb=t):An(this),e.whenReady().then(function(){var t=n.s.getBody(),e=n.s.getDocument();return nt(Rn(e),"body{margin:0;padding:0}swg-container,swg-loading,swg-loading-animate,swg-loading-image{display:block}swg-loading-container{-ms-flex-align:center!important;-ms-flex-pack:center!important;align-items:center!important;bottom:0!important;display:-ms-flexbox!important;display:flex!important;height:100%!important;justify-content:center!important;margin-top:5px!important;min-height:148px!important;width:100%!important;z-index:2147483647!important}@media (min-height:630px),(min-width:630px){swg-loading-container{background-color:#fff!important;border-top-left-radius:8px!important;border-top-right-radius:8px!important;box-shadow:0 1px 1px rgba(60,64,67,.3),0 1px 4px 1px rgba(60,64,67,.15)!important;margin-left:35px!important;width:560px!important}}swg-loading{animation:mspin-rotate 1568.63ms linear infinite;height:36px;overflow:hidden;width:36px;z-index:2147483647!important}swg-loading-animate{animation:mspin-revrot 5332ms steps(4) infinite}swg-loading-image{animation:swg-loading-film 5332ms steps(324) infinite;background-image:url(https://news.google.com/swg/js/v1/loader.svg);background-size:100%;height:36px;width:11664px}@keyframes swg-loading-film{0%{transform:translateX(0)}to{transform:translateX(-11664px)}}@keyframes mspin-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes mspin-revrot{0%{transform:rotate(0deg)}to{transform:rotate(-1turn)}}\n/*# sourceURL=/./src/ui/ui.css*/"),n.Na=new Cn(e),t.appendChild(n.Na.getElement()),n.ab=et(e,"swg-container",{}),t.appendChild(n.ab),Z(n.getElement(),{bottom:0}),n})},Co.close=function(t){var e=this;return(void 0===t||t?this.la(function(){return e.ca.hide(!0),wn(e.getElement(),{transform:"translateY(100%)"},300)}):Promise.resolve()).then(function(){var t=e.s.getElement();t.parentNode.removeChild(t),e.j.getRootElement().style.removeProperty("padding-bottom"),e.ca.destroy()})},Co.getContainer=function(){if(!this.ab)throw Error("not opened yet");return this.ab},Co.getIframe=function(){return this.s},Co.getElement=function(){return this.s.getElement()},Co.getLoadingView=function(){return this.Na},Co.getCurrentView=function(){return this.Ca},Co.openView=function(e){var n=this;return Z(e.getElement(),Pn),this.Ca&&this.Ca.hasLoadingIndicator()?this.lb=this.Ca:(this.getContainer().textContent="",this.Na.show()),this.Ca=e,this.getContainer().appendChild(e.getElement()),e.shouldFadeBody()&&!this.cb&&this.ca.show(!0),e.init(this).then(function(){var t;Z(e.getElement(),{opacity:1}),n.cb&&(e.shouldFadeBody()&&n.ca.show(!0),An(n)),n.lb?((t=n.lb.getElement()).parentElement&&t.parentElement.removeChild(t),n.lb=null):n.Na.hide()})},Co.resizeView=function(e,n,t){var i=this;if(t=void 0===t||t,this.Ca!=e)return null;var o,r=Math.min(n,.9*this.j.getWin().innerHeight);return(t=t?(o=this.getElement().offsetHeight)<=r?this.la(function(){return Z(i.getElement(),{height:r+"px",transform:"translateY("+(r-o)+"px)"}),wn(i.getElement(),{transform:"translateY(0)"},300)}):this.la(function(){return wn(i.getElement(),{transform:"translateY("+(o-r)+"px)"},300).then(function(){Z(i.getElement(),{height:r+"px",transform:"translateY(0)"})})}):(Z(this.getElement(),{height:r+"px"}),Promise.resolve())).then(function(){var t=n+20;Z(i.j.getRootElement(),{"padding-bottom":t+"px"}),e.resized()})},Co.la=function(t){var e=this;return this.ma=(this.ma||Promise.resolve()).then(function(){return t()},function(){}).then(function(){e.ma=null})},(Co=Nn.prototype).openDialog=function(t){return t=void 0!==t&&t,this.ea||(this.ba=new _n(this.j),this.ea=this.ba.open(t)),this.ea},Co.openView=function(e,t){return t=void 0!==t&&t,this.handleCancellations(e),this.openDialog(t).then(function(t){return t.openView(e)})},Co.handleCancellations=function(e){var n=this;return e.whenComplete().catch(function(t){throw it(t)&&n.completeView(e),t})},Co.completeView=function(t){var e=this;setTimeout(function(){e.ba&&e.ba.getCurrentView()==t&&e.xa()},100)},Co.completeAll=function(){this.ba&&this.xa(),this.ta.isAttached()&&this.ta.destroy()},Co.getDialog=function(){return this.ba},Co.xa=function(){this.ba.close(),this.ea=this.ba=null},Co.popupOpened=function(t){this.ib=t||null,this.ta.isAttached()||this.ta.attach(),this.ta.show()},Co.popupClosed=function(){this.ib=null;try{this.ta.hide()}catch(t){}},kn.prototype.start=function(){var o=this;return this.h.callbacks().triggerFlowStarted("showMeterToast"),this.l.on(Jt,this.Ec.bind(this)),this.h.callbacks().hasSubscribeRequestCallback()||x("[swg.js]: `setOnNativeSubscribeRequest` has not been set before starting the metering flow, so users will not be able to subscribe from the metering dialog directly. Please call `setOnNativeSubscribeRequest` with a subscription flow callback before starting metering."),this.o.handleCancellations(this.l).catch(function(t){if(o.Pa&&!o.Oa&&(o.Oa=!0,o.Pa()),!it(t))throw console.error("[swg.js]: Error occurred during meter toast handling: "+t),t}),this.o.openDialog().then(function(t){var e,n,i;return i=(e=o).g.matchMedia("(max-width: 640px), (max-height: 640px)"),n=e.o.getDialog().getElement(),i.matches&&Z(n,{"box-shadow":"rgba(60, 64, 67, 0.3) 0px -2px 5px, rgba(60, 64, 67, 0.15) 0px -5px 5px"}),i.addListener(function(t){t.matches?Z(n,{"box-shadow":"rgba(60, 64, 67, 0.3) 0px -2px 5px, rgba(60, 64, 67, 0.15) 0px -5px 5px"}):Z(n,{"box-shadow":""})}),(i=o).g.matchMedia("(min-width: 640px) and (min-height: 640px)").matches&&Z(i=i.o.getDialog().getLoadingView().getElement(),{width:"420px",margin:"auto"}),t.openView(o.l).then(function(){var t,e;o.g.addEventListener("click",o.ua),o.g.addEventListener("touchstart",o.ua),o.g.addEventListener("mousedown",o.ua),Mn(o)?Q(o.g.document.body,"overflow","hidden"):(o.yc=function(){t=t||o.g.pageYOffset,o.g.clearTimeout(e),e=o.g.setTimeout(function(){100<Math.abs(o.g.pageYOffset-t)&&o.ua()},100)},o.g.addEventListener("scroll",o.yc)),o.h.eventManager().logSwgEvent(21),o.h.eventManager().logSwgEvent(3011)})})},kn.prototype.setOnConsumeCallback=function(t){this.Pa=t},kn.prototype.removeCloseEventListener=function(){this.g.removeEventListener("click",this.ua),this.g.removeEventListener("touchstart",this.ua),this.g.removeEventListener("mousedown",this.ua),Mn(this)?Q(this.g.document.body,"overflow","visible"):this.g.removeEventListener("scroll",this.yc)},kn.prototype.Ec=function(t){t.getNative()&&(this.removeCloseEventListener(),this.Oa=!0,this.h.callbacks().triggerSubscribeRequest())};var Ln={height:0},Dn={frameborder:"0",scrolling:"no",class:"swg-toast"};function xn(t,e,n){var i=this;this.j=t.doc(),this.m=t.activities(),this.Ua=e,this.T=n||{},this.ma=null,this.s=et(this.j.getWin().document,"iframe",Dn),Z(this.s,Ln),this.pb=new Promise(function(t){i.s.onload=t})}xn.prototype.getElement=function(){return this.s},xn.prototype.open=function(){return this.j.getBody().appendChild(this.s),(n=this).m.openIframe(n.s,n.Ua,n.T).then(function(t){return t.whenReady()}).then(function(){var t,e;t=n.s,e={},["height"].forEach(function(t){e[t]=null}),tt(t,e),n.la(function(){return Z(n.s,{transform:"translateY(100%)",opactiy:1,visibility:"visible"}),wn(n.s,{transform:"translateY(0)",opacity:1,visibility:"visible"},400)}),n.j.getWin().setTimeout(function(){n.close()},8e3)});var n},xn.prototype.la=function(t){var e=this;return this.ma=(this.ma||Promise.resolve()).then(function(){return t()}).catch(function(){}).then(function(){e.ma=null})},xn.prototype.close=function(){var t=this;return this.la(function(){return t.j.getWin().setTimeout(function(){return t.j.getBody().removeChild(t.s),Promise.resolve()},500),wn(t.s,{transform:"translateY(100%)",opacity:1,visibility:"visible"},400)})};var i={},Un=(i.paywall=1,i.ad_shown=2,i.offers_shown=3,i.subscriptions_landing_page=1004,i.offer_selected=1006,i.payment_flow_start=1005,i.payment_complete=1001,i.custom=3e3,i),i={},jn=(i[0]=null,i[1]="paywall",i[2]="ad_shown",i[3]="offers_shown",i[4]=null,i[5]=null,i[1e3]=null,i[1001]="payment_complete",i[1002]=null,i[1003]=null,i[1004]="subscriptions_landing_page",i[1005]="payment_flow_start",i[1006]="offer_selected",i[2e3]=null,i[3e3]="custom",i),i={},Fn=(i.EVENT_SHOWCASE_METER_OFFERED=[3010,3011],i.EVENT_SHOWCASE_UNLOCKED_BY_SUBSCRIPTION=[3007],i.EVENT_SHOWCASE_UNLOCKED_BY_METER=[3010,3008],i.EVENT_SHOWCASE_UNLOCKED_FREE_PAGE=[3012],i.EVENT_SHOWCASE_NO_ENTITLEMENTS_REGWALL=[3009,22,23],i.EVENT_SHOWCASE_NO_ENTITLEMENTS_PAYWALL=[3009,1],i.EVENT_SHOWCASE_INELIGIBLE_PAYWALL=[1],i),i={},Gn=(i[22]=2001,i[3008]=1003,i[3007]=1001,i[3012]=1002,i[1]=2002,i);function Bn(t,e,n,i){return{eventCategory:t,eventAction:e,eventLabel:n,nonInteraction:i}}var i={},Vn=(i[3]=Bn("NTG paywall","paywall modal impression","",!0),i[26]=Bn("NTG membership","offer impressions","",!0),i[1006]=Bn("NTG paywall","click","",!1),i[1030]=Bn("NTG subscription","marketing modal click","",!1),i[24]=Bn("NTG subscription","marketing modal impression","",!0),i[1031]=Bn("NTG membership","marketing modal click","",!1),i[25]=Bn("NTG membership","membership modal impression","",!0),i),i={},Wn=(i[1001]=Bn("NTG subscription","submit","success",!1),i),i={},qn=(i[1001]=Bn("NTG membership","submit","success",!1),i);function Hn(t,e){return e=void 0!==e&&e,(t=pe(t)).gaa_at&&t.gaa_n&&t.gaa_sig&&t.gaa_ts&&(e||"na"!==t.gaa_at)&&!(parseInt(t.gaa_ts,16)<Date.now()/1e3)}function Kn(t,e,n,i){this.g=t,this.P=e,this.K=this.P.getPublicationId(),this.D=n,this.h=i,this.ad=new te,this.L=null,this.Aa=0,this.Ya=!1,this.bb=null,this.F=i.storage(),this.W=i.analytics(),this.U=i.config(),this.h.eventManager().registerEventListener(this.Pd.bind(this))}function Yn(t,e,n,i,o,r){o=void 0===o?"":o,r=void 0===r?null:r;var s=new jt;s.setUsedEntitlement(e);var a=s.setClientEventTime,e=Date.now(),e=new Yt([Math.floor(e/1e3),e%1e3*1e6],!1);a.call(s,e),s.setEntitlementResult(n),s.setEntitlementSource(i),s.setToken(o),"boolean"==typeof r&&s.setIsUserRegistered(r),a="/publication/"+encodeURIComponent(t.K)+"/entitlements",t.bb&&(a=ge(a,"encodedParams",t.bb)),t.D.sendPost(Ce(a),s)}function zn(e,t,n,i,o){try{var r=e.ad.decode(t);if(n){var s=Date.now();if(1e3*parseFloat(r.exp)<s)return null}var a=r.entitlements;return a&&Jn(e,t,a,i,o)||null}catch(t){e.g.setTimeout(function(){throw t})}return null}function Jn(t,e,n,i,o){return new ee("subscribe.google.com",e,(n=n,(Array.isArray(n)?n:[n]).map(function(t){return new ne((t=t||{}).source||"",t.products||[],t.subscriptionToken)})),t.P.getProductId(),t.pd.bind(t),t.wd.bind(t),i,o)}(Co=Kn.prototype).reset=function(t){this.L=null,this.Aa=Math.max(this.Aa,t?3:0),t&&(this.F.remove("ents"),this.F.remove("isreadytopay"))},Co.clear=function(){this.L=null,this.Aa=0,this.unblockNextNotification(),this.F.remove("ents"),this.F.remove("toast"),this.F.remove("isreadytopay")},Co.getEntitlements=function(t){var o,e=this;return"string"==typeof t&&(1600289016959<Date.now()&&x("[swg.js:getEntitlements]: If present, the first param of getEntitlements() should be an object of type GetEntitlementsParamsExternalDef."),t={encryption:{encryptedDocumentKey:t}}),this.L||(this.L=function(a,u){return Promise.all([a.F.get("ents"),a.F.get("isreadytopay")]).then(function(t){var n,i,o,e=t[0],r=t[1],t=!(!u||!u.encryption);if(e&&!t){t=zn;t:{switch(r){case"true":var s=!0;break t;case"false":s=!1;break t}s=void 0}e=t(a,e,!0,s);if(e&&e.enablesThis())return a.Aa=0,e}return i=u,o=(n=a).Aa,n.Aa=0,function e(){return o--,n.oa(i).then(function(t){return t.enablesThis()||o<=0?t:new Promise(function(t){n.g.setTimeout(function(){t(e())},550)})})}().then(function(t){return t&&t.enablesThisWithCacheableEntitlements()&&t.raw&&a.F.set("ents",t.raw),t})})}(o=this,t).then(function(t){var e,n,i=o.Ya;return o.Ya=!1,i||(o.h.callbacks().triggerEntitlementsResponse(Promise.resolve(t)),(i=t.getEntitlementForThis())?(e=o,"google:metering"===(n=i).source?(e.h.eventManager().logSwgEvent(3010,!1),Promise.resolve()):(e.h.eventManager().logSwgEvent(3007,!1),e.F.get("toast").then(function(t){if("1"!==t)return t=n.source||"google:metering",new xn(e.h,Se("/toastiframe"),Oe({publicationId:e.K,source:t})).open()}))):o.h.eventManager().logSwgEvent(3009,!1)),t})),this.L.then(function(t){return null!=t.isReadyToPay&&e.W.setReadyToPay(t.isReadyToPay),t})},Co.pushNextEntitlements=function(t,e){return!(!(e=zn(this,t,!0,e))||!e.enablesThis())&&(this.F.set("ents",t),!0)},Co.Pd=function(t){if(Hn(this.g.location.search,!0)){var e=Gn[t.eventType];if(e){switch(t.eventOriginator){case 6:var n=3001;break;case 1:case 4:if(1003==e)return;n=1001;break;default:return}var i,o=pe(this.g.location.search).gaa_n,r=null==t||null==(r=t.additionalParameters)||null==(i=r.getIsUserRegistered)?void 0:i.call(r);Yn(this,new Ut,e,n,o,r)}}},Co.setToastShown=function(t){this.F.set("toast",t?"1":"0")},Co.blockNextNotification=function(){this.Ya=!0},Co.unblockNextNotification=function(){this.Ya=!1},Co.parseEntitlements=function(t){var e=t.isReadyToPay;null==e?this.F.remove("isreadytopay"):this.F.set("isreadytopay",String(e));var n=t.signedEntitlements,i=t.decryptedDocumentKey,o=t.swgUserToken;if(n){if(t=zn(this,n,!1,e,i))return o&&this.F.set("USER_TOKEN",o,!0),t}else{t=t.entitlements;if(t)return o&&this.F.set("USER_TOKEN",o,!0),Jn(this,"",t,e,i)}return Jn(this,"",[],e)},Co.pd=function(t){t.getEntitlementForThis()&&this.setToastShown(!0)},Co.wd=function(i,o){var r=this;if(i.enablesThisWithGoogleMetering()){function t(){o&&o();var t,e,n=i.getEntitlementForThis();n&&"google:metering"===n.source&&Hn(r.g.location.search)&&(r.h.eventManager().logSwgEvent(3008,!1),t=pe(r.g.location.search).gaa_n,(e=new Ut).setSource(n.source),e.setJwt(n.subscriptionToken),Yn(r,e,1003,2001,t))}if(!1===function(t,e){if((e=e.getEntitlementForThis())&&"google:metering"===e.source)try{var n=t.ad.decode(e.subscriptionToken);return n.metering&&n.metering.showToast}catch(t){}}(this,i))return t();var e=new kn(this.h);return e.setOnConsumeCallback(t),e.start()}},Co.oa=function(i){var t,o=this,e=null==i||null==(t=i.encryption)?void 0:t.swgUserToken,n=e?Promise.resolve(e):this.F.get("USER_TOKEN",!0),r="/publication/"+encodeURIComponent(this.K)+"/entitlements";return Promise.all([(t=me(this.h.doc()),(e=null==(e=self.crypto||self.msCrypto)?void 0:e.subtle)?e.digest("SHA-512",q(t)).then(function(t){for(var e=[],n=new DataView(t),i=0;i<n.byteLength;i+=4){var o=n.getUint32(i).toString(16);e.push(("00000000"+o).slice(-8))}return e.join("")}):(x("Swgjs only works on secure (HTTPS or localhost) pages."),Promise.reject("Swgjs only works on secure (HTTPS or localhost) pages."))),n]).then(function(t){var s,e,n=t[0];return t=t[1],null!=i&&i.encryption&&(r=ge(r,"crypt",i.encryption.encryptedDocumentKey)),t&&(r=ge(r,"sut",t)),o.K&&null!=i&&(null!=(e=i.metering)&&e.state)&&("string"==typeof(t=i.metering.state.id)&&0<t.length?(e=function(t){var o=t.attributes,r=t.category;o&&Object.keys(o).forEach(function(t){var e=r+"_"+t,n=Number(o[t].timestamp),i=n>Date.now()/1e3*2;n&&!i||x('SwG Entitlements: Please specify a Unix timestamp, in seconds, for the "'+t+'" '+r+" attribute. The timestamp you passed ("+o[t].timestamp+") looks invalid."),s.metering.state.attributes.push({name:e,timestamp:n})})},s={metering:{clientTypes:[1],owner:o.K,resource:{hashedCanonicalUrl:n},state:{id:t,attributes:[]}}},e({attributes:i.metering.state.standardAttributes,category:"standard"}),e({attributes:i.metering.state.customAttributes,category:"custom"}),o.bb=(e=V(e=q(JSON.stringify(s))),btoa(e).replace(/[+/=]/g,function(t){return G[t]})),r=ge(r,"encodedParams",o.bb)):x("SwG Entitlements: Please specify a metering state ID string, ideally a hash to avoid PII.")),Ce(r)}).then(function(t){return o.h.eventManager().logSwgEvent(1024,!1),o.D.fetchCredentialedJson(t)}).then(function(t){return t.errorMessages&&0<t.errorMessages.length&&t.errorMessages.forEach(function(t){x("SwG Entitlements: "+t)}),o.parseEntitlements(t)})};var Xn=["GET","POST"],$n={document:1,text:2};function Zn(t){this.win=t}function Qn(i,o){return new Promise(function(t,e){var n=function(t,e){var n=new XMLHttpRequest;{if(!("withCredentials"in n))throw Error("CORS is not supported");n.open(t,e,!0)}return n}(o.method||"GET",i);"include"==o.credentials&&(n.withCredentials=!0),o.responseType in $n&&(n.responseType=o.responseType),o.headers&&Object.keys(o.headers).forEach(function(t){n.setRequestHeader(t,o.headers[t])}),n.onreadystatechange=function(){n.readyState<2||(n.status<100||599<n.status?(n.onreadystatechange=null,e(Error("Unknown HTTP status "+n.status))):4==n.readyState&&t(new ti(n)))},n.onerror=function(){e(Error("Network failure"))},n.onabort=function(){e(Error("Request aborted"))},"POST"==o.method?n.send(o.body):n.send()})}function ti(t){this.ja=t,this.status=this.ja.status,this.ok=200<=this.status&&this.status<300,this.headers=new ni(t),this.bodyUsed=!1,this.body=null}function ei(t){return U(!t.bodyUsed,"Body already used"),t.bodyUsed=!0,Promise.resolve(t.ja.responseText)}function ni(t){this.ja=t}function ii(t){this.ja=new Zn(t)}function oi(t){this.g=t.win(),this.u=t.eventManager()}function ri(t){this.j=t,this.Jd=Promise.resolve()}function si(t){this.h=t,this.m=t.activities(),this.P=t.pageConfig(),this.o=t.dialogManager()}function ai(t,e){var n=this;this.h=t,this.g=t.win(),this.m=t.activities(),this.o=t.dialogManager(),this.Z=t.entitlementsManager(),this.C=t.callbacks(),this.l=new Pt(this.g,this.m,Se("/linkconfirmiframe","/u/"+(e&&e.index||"0")),Oe({productId:t.pageConfig().getProductId(),publicationId:t.pageConfig().getPublicationId()}),!0),this.Vc=null,this.td=new Promise(function(t){n.Vc=t})}function ui(t,e){this.g=t.win(),this.h=t,this.m=t.activities(),this.o=t.dialogManager(),this.S=e,this.l=this.ea=this.nd=null}function ci(t){this.u=t.eventManager()}function hi(t){this.h=t,this.g=t.win(),this.m=t.activities(),this.o=t.dialogManager(),this.Qa=null,this.l=new Pt(this.g,this.m,Se("/loginiframe"),Oe({publicationId:t.pageConfig().getPublicationId(),productId:t.pageConfig().getProductId(),userConsent:!1}),!0)}function li(t){this.h=t,this.g=t.win(),this.m=t.activities(),this.o=t.dialogManager(),this.Qa=null,this.l=new Pt(this.g,this.m,Se("/loginiframe"),Oe({publicationId:t.pageConfig().getPublicationId(),productId:t.pageConfig().getProductId(),userConsent:!0}),!0)}function fi(t,e){this.U=t,this.D=e}function di(t){for(var e=null,n="",i=0;i<arguments.length;i++){var o=arguments[i];if(o instanceof Error&&!e){e=void 0;if((r=Object.getOwnPropertyDescriptor(o,"message"))&&r.writable)e=o;else{var r=o.stack,s=Error(o.message);for(e in o)s[e]=o[e];s.stack=r,e=s}}else n&&(n+=" "),n+=o}return e?n&&(e.message=n+": "+e.message):e=Error(n),e}function pi(t){this.tb=t=void 0===t?"":t}function gi(t,e){!t.tb||e.message&&-1!==e.message.indexOf(t.tb)||(e.message=t.tb)}Zn.prototype.oa=function(t,e){U("string"==typeof t,"Only URL supported: %s",t);var n=e.credentials;return U(void 0===n||"include"==n||"omit"==n,"Only credentials=include|omit support: %s",n),"document"==e.responseType?Qn(t,e):(this.win.fetch||Qn).apply(null,arguments)},Zn.prototype.fetch=function(n,t){var e,i,o;return i=e=(e=t)||{},void 0===(o=e.method)?o="GET":(o=o.toUpperCase(),U(Xn.includes(o),"Only one of %s is currently allowed. Got %s",Xn.join(", "),o)),i.method=o,e.headers=e.headers||{},t=e,this.oa(n,t).catch(function(t){var e=de(n).origin;throw Error("XHR Failed fetching ("+e+"/...): (Note: a CORS error above may indicate that this domain is not configured for Subscribe with Google)",t&&t.message)}).then(function(t){return n=t,new Promise(function(t){if(n.ok)return t(n);t=n.status;var e=Error("HTTP error "+t);throw e.retriable=415==t||500<=t&&t<600,e.response=n,e});var n})},ti.prototype.clone=function(){return U(!this.bodyUsed,"Body already used"),new ti(this.ja)},ti.prototype.text=function(){return ei(this)},ti.prototype.json=function(){return ei(this).then($t)},ti.prototype.arrayBuffer=function(){return ei(this).then(q)},ni.prototype.get=function(t){return this.ja.getResponseHeader(t)},ni.prototype.has=function(t){return null!=this.ja.getResponseHeader(t)},ii.prototype.fetchCredentialedJson=function(t){return this.fetch(t,{method:"GET",headers:{Accept:"text/plain, application/json"},credentials:"include"}).then(function(t){return t.text().then(function(t){return $t(t.replace(/^(\)\]\}'\n)/,""))})})},ii.prototype.sendPost=function(t,e){return e={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},credentials:"include",body:"f.req="+JSON.stringify(e.toArray(!1))},this.fetch(t,e).then(function(t){return t&&t.json()||{}})},ii.prototype.fetch=function(t,e){return this.ja.fetch(t,e)},ii.prototype.sendBeacon=function(t,e){navigator.sendBeacon?(e=new Blob(["f.req="+JSON.stringify(e.toArray(!1))],{type:"application/x-www-form-urlencoded;charset=UTF-8"}),navigator.sendBeacon(t,e)):this.sendPost(t,e)},oi.prototype.start=function(){this.u.registerEventListener(this.Ja.bind(this))},oi.prototype.Ja=function(t){var e,n;"function"==typeof this.g.ga&&(e="",t.additionalParameters&&(e=t.additionalParameters.subscriptionFlow||t.additionalParameters.getSubscriptionFlow()),t=t.eventType,n=null,e&&("subscribe"==e?n=Wn[t]:"contribute"==e&&(n=qn[t])),(e=n||Vn[t])&&this.g.ga("send","event",e))},ri.prototype.error=function(t){var e=this,n=Array.prototype.slice.call(arguments,0);return this.Jd.then(function(){var t=function(t){for(var e=null,n="",i=0;i<arguments.length;i++){var o=arguments[i];if(o instanceof Error&&!e){e=void 0;var r=Object.getOwnPropertyDescriptor(o,"message");if(r&&r.writable)e=o;else{r=o.stack;var s=Error(o.message);for(e in o)s[e]=o[e];s.stack=r,e=s}}else n&&(n+=" "),n+=o}return e?n&&(e.message=n+": "+e.message):e=Error(n),e}.apply(null,n);t.reported||(e.j.getWin().document.createElement("img").src="https://news.google.com/_/SubscribewithgoogleClientUi/jserror?error="+encodeURIComponent(String(t))+"&script="+encodeURIComponent("https://news.google.com/swg/js/v1/swg.js")+"&line="+(t.lineNumber||1)+"&trace="+encodeURIComponent(t.stack),t.reported=!0)})},si.prototype.start=function(t){t=void 0===t?{}:t,this.h.callbacks().triggerFlowStarted("linkAccount");var e="redirect"==this.h.config().windowOpenMode;t=t.ampReaderId?Oe({publicationId:this.P.getPublicationId(),ampReaderId:t.ampReaderId}):Oe({publicationId:this.P.getPublicationId()});t=this.m.open("swg-link",Se("/linkbackstart"),e?"_top":"_blank",t,{});return this.h.eventManager().logSwgEvent(12),this.o.popupOpened(t&&t.targetWin),Promise.resolve()},ai.prototype.start=function(){var e=this;return this.l.acceptResultAndVerify(Ee(),!0,!0).then(function(t){e.O(t)}).catch(function(t){setTimeout(function(){throw t})}).then(function(){e.o.completeView(e.l)}),this.h.eventManager().logSwgEvent(3005,!0),this.h.eventManager().logSwgEvent(14,!0),this.o.openView(this.l)},ai.prototype.O=function(t){this.h.eventManager().logSwgEvent(1013,!0),this.C.triggerLinkComplete(),this.C.resetLinkProgress(),this.Z.setToastShown(!0),this.Z.unblockNextNotification(),this.Z.reset(t&&t.success||!1),t&&t.entitlements&&this.Z.pushNextEntitlements(t.entitlements),this.Vc()},ai.prototype.whenComplete=function(){return this.td},ui.prototype.getRequestPromise=function(){return this.nd},ui.prototype.O=function(){this.o.completeView(this.l)},ui.prototype.Ud=function(t){var n=this;t&&t.getRequested()&&(this.nd=new Promise(function(t){return t(n.S())}).then(function(t){var e=new Vt;if(t&&t.token){if(t.authCode)throw Error("Both authCode and token are available");e.setToken(t.token)}else{if(!t||!t.authCode)throw Error("Neither token or authCode is available");e.setAuthCode(t.authCode)}return n.l.execute(e),t}).catch(function(t){throw n.O(),t}))},ui.prototype.start=function(){var e=this,t=this.m.addDefaultArguments({isClosable:!0});return this.l=new Pt(this.g,this.m,Se("/linksaveiframe"),t,!1,!0),this.l.on(Wt,this.Ud.bind(this)),this.ea=this.o.openView(this.l,!0),this.h.eventManager().logSwgEvent(13),this.l.acceptResultAndVerify(Ee(),!0,!0).then(function(t){return function(t,e){t.O();var n=null;return(e=e.linked?(t.o.popupClosed(),t.h.callbacks().triggerFlowStarted("linkAccount"),(n=new ai(t.h,e)).start()):Promise.reject(ot(t.g,"not linked"))).then(function(){return t.h.callbacks().triggerLinkProgress(),n.whenComplete()}).then(function(){return!0})}(e,t)}).catch(function(t){if(e.O(),it(t))return e.h.eventManager().logSwgEvent(1016,!0),e.h.callbacks().triggerFlowCanceled("linkAccount"),!1;throw t})},ci.prototype.sendSubscriptionState=function(t,e){if(!Ge(ce,t))throw Error("Invalid subscription state provided");if(("subscriber"==t||"past_subscriber"==t)&&!e)throw Error("Entitlements must be provided for users with active or expired subscriptions");if(e&&!Fe(e))throw Error("Entitlements must be an Object");var n=null;e&&(n=JSON.stringify(e)),this.u.logEvent({eventType:4e3,eventOriginator:5,isFromUserAction:null,additionalParameters:{state:t,productsOrSkus:n}})},ci.prototype.sendEvent=function(t){var e=null;if(!Ge(he,t.name)||!Un[t.name])throw Error("Invalid user event provided("+t.name+")");if(t.data){if(!Fe(t.data))throw Error("Event data must be an Object("+t.data+")");e=Object.assign({},e,t.data)}if(Be(t.active))e=e||{},Object.assign(e,{is_active:t.active});else if(null!=t.active)throw Error("Event active must be a boolean");this.u.logEvent({eventType:Un[t.name],eventOriginator:5,isFromUserAction:t.active,additionalParameters:e})},hi.prototype.start=function(){var e=this;return this.h.callbacks().triggerFlowStarted("showLoginNotification"),this.Qa=this.o.openView(this.l),this.l.acceptResult().then(function(){e.o.completeView(e.l)},function(t){throw e.o.completeView(e.l),t})},li.prototype.start=function(){var e=this;return this.h.callbacks().triggerFlowStarted("showLoginPrompt"),this.Qa=this.o.openView(this.l),this.l.acceptResult().then(function(){e.o.completeView(e.l)},function(t){throw it(t)?e.h.callbacks().triggerFlowCanceled("showLoginPrompt"):e.o.completeView(e.l),t})},fi.prototype.getOffers=function(t){if(!(t=void 0===t?this.U.getProductId():t))throw Error("getOffers requires productId in config or arguments");return this.oa(t)},fi.prototype.oa=function(t){return t=Ce("/publication/"+encodeURIComponent(this.U.getPublicationId())+"/offers?label="+encodeURIComponent(t)),this.D.fetchCredentialedJson(t).then(function(t){return t.offers||[]})},pi.prototype.createError=function(t){var e=di.apply(null,Array.prototype.slice.call(arguments));return gi(this,e),e},pi.prototype.createExpectedError=function(t){var e=di.apply(null,Array.prototype.slice.call(arguments));return gi(this,e),e.expected=!0,e},pi.prototype.error=function(t){throw this.createError.apply(this,arguments)},pi.prototype.expectedError=function(t){throw this.createExpectedError.apply(this,arguments)};var mi=new pi(self.__AMP_TOP?"":"");function bi(t,e){var n,i,o=t.indexOf(":");-1!=o?(t=(n=t).substring(0,o),"*"==(i=n.substring(o+1))&&mi.expectedError("wildcard disallowed")):i=n=null,this.K=t,this.Ba=n,this.La=i,this.Gd=e}new pi,bi.prototype.getPublicationId=function(){return this.K},bi.prototype.getProductId=function(){return this.Ba},bi.prototype.getLabel=function(){return this.La},bi.prototype.isLocked=function(){return this.Gd};var vi="CreativeWork Article NewsArticle Blog Comment Course HowTo Message Review WebPage".split(" "),yi=new RegExp(vi.join("|"));function wi(t){var e=this;this.j=Rn(t),this.ya=null,this.ud=new Promise(function(t){e.ya=t}),this.Id=new Ci(this.j),this.Fd=new Si(this.j),this.Kd=new Ri(this.j)}function Ei(){}function Ci(t){this.j=t}function Si(t){this.j=t,this.Ea=new Ei}function Oi(t,e){return null==(t=t[e])||""===t?null:Array.isArray(t)?t:[t]}function Ti(t,e){e=Oi(t,e);return null==(t=e&&e[0])||""===t?null:t}function Ri(t){this.j=t,this.Ba=this.Xa=null,this.Ea=new Ei}function Ii(t,e,n){for(var i=e;i&&!i[n];i=i.parentNode)if(i[n]=!0,i.hasAttribute&&i.hasAttribute("itemscope"))return i=i.getAttribute("itemtype"),t.Ea.checkString(i,vi)}function Pi(t){var e=null;return null!=t.Xa?e=!t.Xa:t.j.isReady()&&(e=!1),null!=t.Ba&&null!=e?new bi(t.Ba,e):null}function _i(t,e){return(t=t.querySelector('meta[name="'+e+'"]'))?t.getAttribute("content"):null}wi.prototype.resolveConfig=function(){return Promise.resolve().then(this.check.bind(this)),this.j.whenReady().then(this.check.bind(this)),this.ud},wi.prototype.check=function(){if(!this.ya)return null;var t=this.Id.check();return(t=(t=t||this.Fd.check())||this.Kd.check())?(this.ya(t),this.ya=null):this.j.isReady()&&(this.ya(Promise.reject(mi.createError("No config could be discovered in the page"))),this.ya=null),L(t),t},Ei.prototype.checkValue=function(t,e){var n=!!t&&(n=this.checkArray,t=Array.isArray(t)?t:[t],n.call(this,t,e));return n},Ei.prototype.checkString=function(t,e){return!!t&&this.checkArray(t.split(/\s+/),e)},Ei.prototype.checkArray=function(t,e){var n=!1;return t.forEach(function(t){n=n||e.includes(t.replace(/^http:\/\/schema.org\//i,""))}),n},Ci.prototype.check=function(){if(!this.j.getBody())return null;var t=_i(this.j.getRootNode(),"subscriptions-product-id");if(!t)return null;var e=_i(this.j.getRootNode(),"subscriptions-accessible-for-free");return new bi(t,!(!e||"false"!==e.toLowerCase()))},Si.prototype.check=function(){if(!this.j.getBody())return null;for(var t=this.j.isReady(),e=this.j.getRootNode().querySelectorAll('script[type="application/ld+json"]'),n=0;n<e.length;n++){var i,o=e[n];if((i=!o["__SWG-SEEN__"]&&o.textContent)&&!(i=t))t:{i=o;do{if(i.nextSibling){i=!0;break t}}while((i=i.parentNode)&&null!=i);i=!1}if(i&&(o["__SWG-SEEN__"]=!0,yi.test(o.textContent))){var r=this.Mc(o);if(r)return r}}return null},Si.prototype.Mc=function(t){var e=Zt(t.textContent);if(!e)return null;for(var n=e=!Array.isArray(e)?[e]:e,i=0;i<n.length;i++){var o=n[i];if(this.Ea.checkValue(o["@type"],vi)){t=null;var r=Oi(o,"isPartOf");if(r)for(var s=0;s<r.length&&!(t=this.Ib(r[s]));s++);if(t)return new bi(t,!(i=null==(i=Ti(o,"isAccessibleForFree"))||""===i||("boolean"==typeof i?i:"string"!=typeof i||"false"!=i.toLowerCase())))}}return null},Si.prototype.Ib=function(t){return this.Ea.checkValue(t["@type"],["Product"])?Ti(t,"productID"):null},Ri.prototype.Ib=function(t){t=t.querySelectorAll('[itemprop="productID"]');for(var e=0;t[e];e++){var n=t[e],i=n.getAttribute("content")||n.textContent;if(!((n=n.closest("[itemtype][itemscope]")).getAttribute("itemtype").indexOf("http://schema.org/Product")<=-1)&&Ii(this,n.parentElement,"alreadySeenForProductInfo"))return i}return null},Ri.prototype.Mc=function(){var e=this,t=Pi(this);if(t)return t;for(var n=Array.prototype.slice.call(this.j.getRootNode().querySelectorAll("[itemscope][itemtype]")).filter(function(t){return e.Ea.checkString(t.getAttribute("itemtype"),vi)}),i=0;n[i]&&null==t;i++)t=n[i],null==this.Xa&&(this.Xa=function(t,e){var n=e.querySelectorAll("[itemprop='isAccessibleForFree']");for(e=0;n[e];e++){var i=n[e],o=i.getAttribute("content")||i.textContent;if(o&&Ii(t,i,"alreadySeenForAccessInfo")){i=null;return"true"==o.toLowerCase()?i=!0:"false"==o.toLowerCase()&&(i=!1),i}}return null}(this,t)),this.Ba||(this.Ba=this.Ib(t)),t=Pi(this);return t},Ri.prototype.check=function(){return this.j.getBody()?this.Mc():null};var Ai={LOCAL:"LOCAL",PREPROD:"PREPROD",PRODUCTION:"PRODUCTION",SANDBOX:"SANDBOX",TEST:"TEST",TIN:"TIN"},Ni={CARD:"CARD",TOKENIZED_CARD:"TOKENIZED_CARD",UPI:"UPI"},ki={CRYPTOGRAM_3DS:"CRYPTOGRAM_3DS",PAN_ONLY:"PAN_ONLY"},Mi={ESTIMATED:"ESTIMATED",FINAL:"FINAL",NOT_CURRENTLY_KNOWN:"NOT_CURRENTLY_KNOWN"};function Li(){this.Zd=Di.contentWindow}Li.prototype.postMessage=function(t,e){this.Zd.postMessage(t,e)};var Di=null,xi=null,Ui=null,ji=null,Fi=Date.now(),Gi=null,Bi=!1,Vi=[];function Wi(){Di||(Ui=(window.gpayInitParams||{}).environment||"PRODUCTION",(Di=document.createElement("iframe")).src="https://pay"+("PREPROD"==Ui?"-preprod.sandbox":"SANDBOX"==Ui?".sandbox":"")+".google.com/gp/p/ui/payframe?origin="+window.location.origin+"&mid=%{merchantId}",Hi({eventType:15,clientLatencyStartMs:Date.now()}),Di.height="0",Di.width="0",Di.style.display="none",Di.style.visibility="hidden",Di.onload=function(){Hi({eventType:17,clientLatencyStartMs:Date.now()}),Bi=!0,Vi.forEach(function(t){Hi(t)}),Vi.length=0},document.body?(document.body.appendChild(Di),xi=new Li):document.addEventListener("DOMContentLoaded",function(){document.body.appendChild(Di),xi=new Li}))}function qi(t,n){window.addEventListener("message",function t(e){e.data.isReadyToPayResponse&&(n(e),window.removeEventListener("message",t))}),Hi(Object.assign({eventType:6},t))}function Hi(t){var e,n,i;Bi?(t=Object.assign({buyFlowActivityMode:Gi,googleTransactionId:ji,originTimeMs:Fi},t),n=(e=xi).postMessage,i="https://pay","SANDBOX"==Ui?i+=".sandbox":"PREPROD"==Ui&&(i+="-preprod.sandbox"),n.call(e,t,i+".google.com")):Vi.push(t)}function Ki(t){this.I=t,this.S=null}function Yi(t,e,n,i){var o={};return(o=t?JSON.parse(JSON.stringify(t)):o).apiVersion||(o.apiVersion=1),o.swg&&(o.allowedPaymentMethods=["CARD"]),e&&"TEST"==e&&(o.environment=e),new PaymentRequest([{supportedMethods:["https://google.com/pay"],data:o}],{total:{label:"Estimated Total Price",amount:{currency:n||"USD",value:i||"0"}}})}function zi(){var t=window.document,e=this;this.j=t,this.Y=t.createElement("gpay-graypane"),Ji(this.Y,{"z-index":2147483647,display:"none",position:"fixed",top:0,right:0,bottom:0,left:0,"background-color":"rgba(32, 33, 36, .6)"}),this.jb=null,this.Y.addEventListener("click",function(){if(e.jb)try{e.jb.focus()}catch(t){}})}function Ji(t,e){for(var n in e)t.style.setProperty(n,e[n].toString(),"important")}function Xi(e,n){var i=e.ownerDocument.defaultView,t=e.style.transition||"";return new Promise(function(t){i.setTimeout(function(){i.setTimeout(t,300),Ji(e,Object.assign({transition:"transform 300ms ease-out, opacity 300ms ease-out"},n))})}).then(function(){Ji(e,Object.assign({transition:t},n))})}function $i(){if(-1!=window.navigator.userAgent.indexOf("OPR/"))return!1;var t=window.navigator.userAgent.match(/Android/i),e=window.navigator.userAgent.match(/Chrome\/([0-9]+)\./i);return null!=t&&"PaymentRequest"in window&&"Google Inc."==window.navigator.vendor&&null!=e&&59<=Number(e[1])}function Zi(t){if(2<=t.apiVersion){var e=ro(t);if(e&&1==e.length&&"CRYPTOGRAM_3DS"==e[0])return 1}return 1==t.allowedPaymentMethods.length&&"TOKENIZED_CARD"==t.allowedPaymentMethods[0]}function Qi(t,e){return!!(2<=t.apiVersion&&(t=ro(t))&&t.includes(e))}function to(){return window.location.hostname.endsWith(".google.com")||void 0===window.isSecureContext||window.isSecureContext?null:"Google Pay APIs should be called in secure context!"}function eo(t){return Object.values(Ni).includes(t)}function no(t){return Object.values(ki).includes(t)}function io(t){if(!t)return"paymentDataRequest must be set!";if(t.swg)return(t=t.swg)?t.skuId&&t.publicationId?null:"Both skuId and publicationId must be provided":"Swg parameters must be provided";if(!t.transactionInfo)return"transactionInfo must be set!";if(!t.transactionInfo.currencyCode)return"currencyCode in transactionInfo must be set!";if(!t.transactionInfo.totalPriceStatus||!Object.values(Mi).includes(t.transactionInfo.totalPriceStatus))return"totalPriceStatus in transactionInfo must be set to one of NOT_CURRENTLY_KNOWN, ESTIMATED or FINAL!";if("NOT_CURRENTLY_KNOWN"!==t.transactionInfo.totalPriceStatus&&!t.transactionInfo.totalPrice)return"totalPrice in transactionInfo must be set when totalPriceStatus is ESTIMATED or FINAL!";var e=oo(t);if(e){if(!e.parameters)return"parameters must be set in allowedPaymentMethod!";if(!(e=e.parameters).payeeVpa)return"payeeVpa in allowedPaymentMethod parameters must be set!";if(!e.payeeName)return"payeeName in allowedPaymentMethod parameters must be set!";if(!e.referenceUrl)return"referenceUrl in allowedPaymentMethod parameters must be set!";if(!e.mcc)return"mcc in allowedPaymentMethod parameters must be set!";if(!e.transactionReferenceId)return"transactionReferenceId in allowedPaymentMethod parameters must be set!";if("INR"!==t.transactionInfo.currencyCode)return"currencyCode in transactionInfo must be set to INR!";if("FINAL"!==t.transactionInfo.totalPriceStatus)return"totalPriceStatus in transactionInfo must be set to FINAL!";if(!t.transactionInfo.transactionNote)return"transactionNote in transactionInfo must be set!"}return null}function oo(t){return!$i()||t.apiVersion<2||!t.allowedPaymentMethods?null:so(t,"UPI")}function ro(t){return t.allowedPaymentMethods&&(t=so(t,"CARD"))&&t.parameters?t.parameters.allowedAuthMethods:null}function so(t,e){for(var n=0;n<t.allowedPaymentMethods.length;n++){var i=t.allowedPaymentMethods[n];if(i.type==e)return i}return null}function ao(t,e,n){var i=po;this.I=t,this.activities=e||new Ct(window),this.ca=new zi,this.ee=this.S=null,this.Bc=!1,this.yd=this.v=null,this.ae=i,this.md=n||null,this.Ta=null}function uo(t){return"LOCAL"==t.I?"":"https://"+("PREPROD"==t.I?"pay-preprod.sandbox":"SANDBOX"==t.I?"pay.sandbox":"pay")+".google.com"}function co(t,e){ho(e,"all 250ms ease 0s"),e.height="0px",setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},250)}function ho(t,e){t.style.setProperty("transition",e),t.style.setProperty("-webkit-transition",e)}function lo(){}Ki.prototype.onResult=function(t){this.S=t},Ki.prototype.isReadyToPay=function(i){var t=Yi(i);return new Promise(function(n){t.canMakePayment().then(function(t){window.sessionStorage.setItem("google.payments.api.storage.isreadytopay.result",t.toString());var e={result:t};2<=i.apiVersion&&i.existingPaymentMethodRequired&&(e.paymentMethodPresent=t),n(e)}).catch(function(){window.sessionStorage.getItem("google.payments.api.storage.isreadytopay.result")?n({result:"true"==window.sessionStorage.getItem("google.payments.api.storage.isreadytopay.result")}):n({result:!1})})})},Ki.prototype.prefetchPaymentData=function(t){Yi(t,this.I,t.transactionInfo.currencyCode,t.transactionInfo.totalPrice)},Ki.prototype.loadPaymentData=function(t){var e;e=Yi(e=t,(t=this).I,e.transactionInfo&&e.transactionInfo.currencyCode||void 0,e.transactionInfo&&e.transactionInfo.totalPrice||void 0),t.S(e.show().then(function(t){return t.complete("success"),t.details}).catch(function(t){throw t.statusCode="CANCELED",t}))},zi.prototype.show=function(t){return this.jb=t||null,this.j.body.appendChild(this.Y),Ji(this.Y,{display:"block",opacity:0}),Xi(this.Y,{opacity:1})},zi.prototype.hide=function(){var t=this;if(this.jb=null,this.Y.parentElement)return Xi(this.Y,{opacity:0}).then(function(){Ji(t.Y,{display:"none"}),t.j.body.removeChild(t.Y)})},(Co=ao.prototype).onResult=function(t){this.S||(this.S=t,this.activities.onResult("GPAY",this.Md.bind(this)))},Co.Md=function(t){var e=this;this.ca.hide(),this.S(t.acceptResult().then(function(t){if(t.origin!=uo(e))throw Error("channel mismatch");var r,s,n=t.data;if(n.redirectEncryptedCallbackData)return Gi=3,r=e,s=n.redirectEncryptedCallbackData,new Promise(function(t,e){var n,i,i=(i=uo(n=r)+"/gp/p/apis/buyflow/process",n.md&&(i+="?rk="+encodeURIComponent(n.md)),i),o=new XMLHttpRequest;o.open("POST",i,!0),"withCredentials"in o&&(o.withCredentials=!0),o.onreadystatechange=function(){if(!(o.readyState<2))if(o.status<100||599<o.status)o.onreadystatechange=null,e(Error("Unknown HTTP status "+o.status));else if(4==o.readyState)try{t(JSON.parse(o.responseText))}catch(t){e(t)}},o.onerror=function(){e(Error("Network failure"))},o.onabort=function(){e(Error("Request aborted"))},o.send(s)}).then(function(t){var e=Object.assign({},n);return delete e.redirectEncryptedCallbackData,Object.assign(e,t)});if(!t.originVerified||!t.secureChannel)throw Error("channel mismatch");return n},function(t){var e=t.message,t=t.message;try{t=JSON.parse(e.substring(7))}catch(t){}return"AbortError"==(t=t.statusCode&&-1==["DEVELOPER_ERROR","MERCHANT_ACCOUNT_ERROR"].indexOf(t.statusCode)?{statusCode:"CANCELED"}:t)&&(t={statusCode:"CANCELED"}),Promise.reject(t)}))},Co.isReadyToPay=function(o){var e=this;return new Promise(function(n){var t,i;Zi(o)||0<(t=window.navigator.userAgent).indexOf("GSA/")&&0<t.indexOf("Safari")||0<t.indexOf("FxiOS")?n({result:!1}):(i=0<t.indexOf("Chrome")||0<t.indexOf("Firefox")||0<t.indexOf("Safari"))&&2<=o.apiVersion&&o.existingPaymentMethodRequired?(o.environment=e.I,qi(o,function(t){var e={result:i};o.existingPaymentMethodRequired&&(e.paymentMethodPresent="READY_TO_PAY"==t.data.isReadyToPayResponse),n(e)})):n({result:i})})},Co.prefetchPaymentData=function(){},Co.loadPaymentData=function(t){t.swg||t.apiVersion||(t.apiVersion=1),t.environment=this.I,Gi=t.forceRedirect?3:2,t=this.activities.open("GPAY","TIN"==this.I?"/ui/pay":uo(this)+"/gp/p/ui/pay",t.forceRedirect?"_top":"gp-js-popup",t,{width:600,height:600}),this.ca.show(t&&t.targetWin)},Co.getIframeUrl=function(t,e){return"SANDBOX"!=t&&"PREPROD"!=t?"https://pay.google.com/gp/p/ui/pay?origin="+e:"https://pay'+  (environment == Constants.Environment.PREPROD ? '-preprod' : '')+  '.sandbox.google.com/gp/p/ui/pay?origin="+e},Co.be=function(){var t=document.createElement("div");t.classList.add("google-payments-dialogContainer");var e=document.createElement("div");e.classList.add("iframeContainer");var n=document.createElement("iframe");return n.classList.add("google-payments-dialog"),n.setAttribute("frameborder","0"),n.setAttribute("scrolling","no"),e.appendChild(n),t.appendChild(e),document.body.appendChild(t),e=(t={container:t,iframe:n}).iframe,(n=t.container).addEventListener("click",this.rd.bind(this,t)),n.style.display="none",e.style.display="none",e.height="0px",ho(e,"all 250ms ease 0s"),this.Bc=!1,t},Co.$d=function(t){t.container.parentNode&&(this.yd(Promise.reject({errorCode:"CANCELED"})),co(t.container,t.iframe),this.v&&this.v.disconnect())},Co.rd=function(t){t.container.parentNode&&history.back()},Co.fe=function(t,e){var n=this;t.style.display="block",e.style.display="block",setTimeout(function(){e.height="280px",setTimeout(function(){n.Bc=!0,n.Ta&&(ho(e,n.Ta.transition),e.height=n.Ta.height,n.Ta=null)},250)},1)},Co.ce=function(e,n,t){var i=this;t.swg||t.apiVersion||(t.apiVersion=1),t.environment=this.I;var o,r=this.getIframeUrl(this.I,window.location.origin);return this.activities.openIframe(n,r,t).then(function(t){return(i.v=t).onMessage(function(t){"resize"===t.type&&i.Bc?(o=o||Date.now(),Date.now()<o+250?ho(n,t.transition+", height 250ms"):ho(n,t.transition),n.height=t.height):i.Ta={height:t.height,transition:t.transition}}),t.acceptResult()}).then(function(t){return co(e,n),history.back(),t.data},function(t){return co(e,n),history.back(),Promise.reject(t)})},lo.prototype.isUpiRequest=function(t){return!!oo(t)},lo.prototype.isReadyToPay=function(t){if(oo(t))return t.existingPaymentMethodRequired?Promise.resolve({result:!0,paymentMethodPresent:!0}):Promise.resolve({result:!0});throw Error("No Upi payment method found in handler")},lo.prototype.loadPaymentData=function(n,i,t){var e=i.parameters,o=n.transactionInfo,r=[{supportedMethods:["https://tez.google.com/pay"],data:{pa:e.payeeVpa,pn:e.payeeName,tr:e.transactionReferenceId,url:e.referenceUrl,mc:e.mcc,tn:o.transactionNote}}];e.transactionId&&(r[0].data.tid=e.transactionId);var s=new PaymentRequest(r,{total:{label:"Total",amount:{currency:o.currencyCode,value:o.totalPrice}},displayItems:[{label:"Original Amount",amount:{currency:o.currencyCode,value:o.totalPrice}}]});t((o=s,((t=window.sessionStorage.getItem("google.payments.api.storage.upi.canMakePaymentCache"))?Promise.resolve("true"===t):o.canMakePayment?o.canMakePayment().then(function(t){return t&&window.sessionStorage.setItem("google.payments.api.storage.upi.canMakePaymentCache",t.toString()),t}):Promise.resolve(!0)).then(function(t){return t=t?s.show().then(function(t){return t.complete("success"),t.details}):(window.location.replace("https://play.google.com/store/apps/details?id=com.google.android.apps.nbu.paisa.user"),Promise.reject({errorMessage:"Cannot redirect to Tez page in Google Play."}))}).then(function(t){var e=JSON.parse(t.tezResponse);if("FAILURE"===e.Status){switch(e.responseCode){case"ZM":e={errorCode:3,errorMessage:"Payment failure due to invalid MPIN."};break;case"Z9":e={errorCode:3,errorMessage:"Payment failure due to insufficient funds."};break;case"91":e={errorCode:1,errorMessage:"Payment failure due to transaction timeout or connection issue."};break;default:e={errorMessage:"Payment cancelled."}}e=Promise.reject(e)}else e=Promise.resolve({apiVersion:n.apiVersion,apiVersionMinor:n.apiVersionMinor,paymentMethodData:{type:i.type,tokenizationData:{type:"DIRECT",token:{protocolVersion:"ECv1",signature:"",signedMessage:{paymentMethodType:"UPI",payeeVpa:i.parameters.payeeVpa,status:e.Status,transactionReferenceId:i.parameters.transactionReferenceId,transactionId:i.parameters.transactionId||e.txnId,transactionInfo:n.transactionInfo}}}}});return e}).catch(function(t){return t.statusCode="CANCELED",Promise.reject(t)})))};var fo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var po,go="actions.google.com amp-actions.sandbox.google.com amp-actions-staging.sandbox.google.com amp-actions-autopush.sandbox.google.com payments.developers.google.com payments.google.com".split(" ");function mo(t,e,n){this.ed=e,function(t){if(t.environment&&!Object.values(Ai).includes(t.environment))throw Error("Parameter environment in PaymentOptions can optionally be set to PRODUCTION, otherwise it defaults to TEST. "+t.environment)}(t),this.bd=null,this.I=t.environment||"TEST",po=po||(-1!=go.indexOf(window.location.hostname)&&t.i&&t.i.googleTransactionId?t.i.googleTransactionId:function(t){for(var e,n=Array(36),i=0,o=0;o<36;o++)8==o||13==o||18==o||23==o?n[o]="-":14==o?n[o]="4":(e=15&(i=i<=2?33554432+16777216*Math.random()|0:i),i>>=4,n[o]=fo[19==o?3&e|8:e]);return n.join("")+"."+t}(this.I)),this.Nd=t,this.wa=new ao(this.I,n,t.i&&t.i.redirectKey),this.Da=5;t=$i();this.Ia=t?new Ki(this.I):this.wa,this.Nc=new lo,this.wa.onResult(this.ic.bind(this)),this.Ia.onResult(this.ic.bind(this)),Wi(),t&&(Gi=4),ji=po,Hi({eventType:9,clientLatencyStartMs:Date.now()}),window.addEventListener("message",function(t){-1!=go.indexOf(window.location.hostname)&&"logPaymentData"===t.data.name&&Hi(t.data.data)})}function bo(t,e){console.error("DEVELOPER_ERROR in "+t+" : "+e)}function vo(t){var e={startTimeMs:Date.now(),googleTransactionId:po};t.i=t.i?Object.assign(e,t.i):e}function yo(t){return!0===(t.i&&t.i.disableNative)}function wo(t){this.j=t}function Eo(t,e,n,i){e=et(t.j,"link",{rel:n,href:e});i&&e.setAttribute("as",i),t.j.head.appendChild(e)}(Co=mo.prototype).isReadyToPay=function(t){t=t&&Object.assign({},this.Nd,t);var e=Date.now(),n=to()||function(t){if(!t)return"isReadyToPayRequest must be set!";if(2<=t.apiVersion){if(!("apiVersionMinor"in t))return"apiVersionMinor must be set!";if(!t.allowedPaymentMethods||!Array.isArray(t.allowedPaymentMethods)||0==t.allowedPaymentMethods.length)return"for v2 allowedPaymentMethods must be set to an array containing a list of accepted payment methods";for(var e=0;e<t.allowedPaymentMethods.length;e++){var n=t.allowedPaymentMethods[e];if("CARD"==n.type){if(!n.parameters)return"Field parameters must be setup in each allowedPaymentMethod";var i=n.parameters.allowedCardNetworks;if(!i||!Array.isArray(i)||0==i.length)return"allowedCardNetworks must be setup in parameters for type CARD";n=n.parameters.allowedAuthMethods;if(!n||!Array.isArray(n)||0==n.length||!n.every(no))return"allowedAuthMethods must be setup in parameters for type 'CARD'  and must contain 'CRYPTOGRAM_3DS' and/or 'PAN_ONLY'"}}}else if(!t.allowedPaymentMethods||!Array.isArray(t.allowedPaymentMethods)||0==t.allowedPaymentMethods.length||!t.allowedPaymentMethods.every(eo))return"allowedPaymentMethods must be set to an array containing 'CARD' and/or 'TOKENIZED_CARD'!";return null}(t);if(n)return new Promise(function(t,e){bo("isReadyToPay",n),Hi({eventType:0,error:2}),e({statusCode:"DEVELOPER_ERROR",statusMessage:n})});t=function(t,e){if(t.Nc.isUpiRequest(e))return t.Nc.isReadyToPay(e);if(!$i()||yo(e))return t.wa.isReadyToPay(e);if(2<=e.apiVersion)return function(t,e){var n=Promise.resolve({result:!1}),i=n=e.existingPaymentMethodRequired?Promise.resolve({result:!1,paymentMethodPresent:!1}):n;if(Qi(e,"CRYPTOGRAM_3DS")){var o=JSON.parse(JSON.stringify(e));for(i=0;i<o.allowedPaymentMethods.length;i++)"CARD"==o.allowedPaymentMethods[i].type&&(o.allowedPaymentMethods[i].parameters.allowedAuthMethods=["CRYPTOGRAM_3DS"]);i=t.Ia.isReadyToPay(o)}var r=n;return Qi(e,"PAN_ONLY")&&(r=t.wa.isReadyToPay(e)),i.then(function(t){return 1==(t&&t.result)?t:r})}(t,e);var n=t.wa.isReadyToPay(e),t=t.Ia.isReadyToPay(e);return Zi(e)?t:t.then(function(){return n})}(this,t);return t.then(function(t){return Hi({eventType:0,clientLatencyStartMs:e,isReadyToPayApiResponse:t}),t}),t},Co.prefetchPaymentData=function(t){var e=to()||io(t);e?bo("prefetchPaymentData",e):(vo(t),($i()&&!yo(t)?this.Ia:this.wa).prefetchPaymentData(t))},Co.loadPaymentData=function(t){var n=this;Hi({eventType:5});var e,i=to()||io(t);this.Da=t&&t.swg?6:5,i?this.ed(new Promise(function(t,e){Hi({eventType:1,error:2,buyFlowMode:n.Da}),bo("loadPaymentData",i),e({statusCode:"DEVELOPER_ERROR",statusMessage:i})})):(e=oo(t))?this.Nc.loadPaymentData(t,e,this.ic.bind(this)):(this.bd=Date.now(),vo(t),(yo(t)?this.wa:this.Ia).loadPaymentData(t))},Co.createButton=function(){return Hi({eventType:2,clientLatencyStartMs:Date.now()}),null},Co.ic=function(t){var e=this;t.then(function(){Hi({eventType:1,clientLatencyStartMs:e.bd,buyFlowMode:e.Da})}).catch(function(t){t.errorCode?Hi({eventType:1,error:t.errorCode,buyFlowMode:e.Da}):Hi({eventType:1,error:6,buyFlowMode:e.Da})}),this.ed(t)},wo.prototype.preconnect=function(t){Eo(this,t,"preconnect")},wo.prototype.dnsPrefetch=function(t){Eo(this,t,"dns-prefetch")},wo.prototype.prefetch=function(t){Eo(this,t,"preconnect prefetch")},wo.prototype.preload=function(t,e){Eo(this,t,"preconnect preload",e)};var Co,So,Oo,To,Ro="https://pay.google.com";function Io(t){var e,n;this.g=t.win(),this.m=t.activities(),this.xc=this.uc=this.wc=null,this.Tc=t.analytics(),this.rc=new Ao(this.g),this.$a=null,this.hd=new wo(this.g.document),(e=Ke(this.g,"pay-client-redirect"))&&(n=this.g.location.hash,e=/redirectEncryptedCallbackData/.test(n),n=/swgRequest/.test(n),e=e&&n),e&&(this.preconnect(this.hd),Po(this)),this.rc.prepare(),this.u=t.eventManager()}function Po(t){var e={environment:"PRODUCTION",i:{redirectKey:t.rc.restoreKey()}},n=t.Tc.getTransactionId(),i=t.Cd.bind(t);po=n,e=new mo(e,i,t.m.getOriginalWebActivityPorts()),t.$a=e}function _o(e,t,n){return t.then(function(t){return n&&(t.paymentRequest=n),t}).catch(function(t){return"object"==typeof t&&"CANCELED"==t.statusCode&&((t=ot(e.g,void 0)).productType=n?n.i.productType:null),Promise.reject(t)})}function Ao(t){this.g=t,this.gb=!1,this.Sa=this.kc=null}function No(t,e){return function(e){if(!e.gb&&!e.Sa){try{var n=!!e.g.localStorage}catch(t){n=!1}var o=e.g.crypto;n&&o&&o.getRandomValues&&o.subtle&&o.subtle.digest?e.Sa=new Promise(function(e,n){var t=new Uint8Array(16);o.getRandomValues(t);var i=btoa(V(t));o.subtle.digest({name:"SHA-384"},B(i)).then(function(t){t=btoa(V(new Uint8Array(t))),e({key:i,verifier:t})},function(t){n(t)})}).catch(function(){return null}).then(function(t){return e.gb=!0,e.kc=t}):(e.gb=!0,e.kc=null)}}(t),t.gb?e(t.kc):t.Sa&&t.Sa.then(function(t){return e(t)}),t.Sa}function ko(t,e,n){var i={};t.i=Object.assign(t.i||{},(i[e]=n,i))}function Mo(t,e,n){this.g=t,this.h=e,this.K=this.h.pageConfig().getPublicationId(),this.Ab=null,this.D=n,this.Yd=1,this.h.eventManager().registerEventListener(this.Ja.bind(this))}function Lo(t,e){var n;return e=ge(e,"u_tz","240"),e=ge(e,"v",String(t.Yd)),t.Ab||(n=t.g.document.cookie.match("(^|;)\\s*__gads\\s*=\\s*([^;]+)"),t.Ab=n&&encodeURIComponent(n.pop())),(n=t.Ab)&&(e=ge(e,"cookie",n)),ge(e,"cdm",t.g.location.hostname)}function Do(t,e,n){this.g=t,this.kd=new Mo(t,e,n),this.u=e.eventManager()}function xo(t){this.g=t,this.Wa={}}function Uo(t){return"subscribe.google.com:"+t}function jo(t,e){this.h=t,this.g=t.win(),this.m=t.activities(),this.o=t.dialogManager(),this.Qa=null,this.od=e||Promise.reject("No account promise provided"),this.l=new Pt(this.g,this.m,Se("/waitforsubscriptionlookupiframe"),Oe({publicationId:t.pageConfig().getPublicationId(),productId:t.pageConfig().getProductId()}),!0,!0)}function Fo(t){var e=this;this.g=t,this.j=Rn(t),this.pb=Promise.resolve(),this.oc=null,this.U={},this.Db=!1,this.Ga=null,this.Eb=new Promise(function(t){e.Ga=t}),this.Ra=null,this.na=new nn(this.j,this.Eb),this.na.init()}function Go(e,t){return!e.Db&&t?(e.Db=!0,(e.oc?Promise.resolve(new bi(e.oc,!1)):(e.Ra=new wi(e.j),e.Ra.resolveConfig().then(function(t){return e.Ra=null,t}))).then(function(t){e.Ga(new Bo(e.j,t,{configPromise:e.Eb},e.U)),e.Ga=null},function(t){e.Ga(Promise.reject(t)),e.Ga=null})):t&&e.Ra&&e.Ra.check(),e.Eb}function Bo(t,e,n,i){var o=this;(n=n||{}).configPromise=n.configPromise||Promise.resolve(),this.u=new We(n.configPromise),this.j=Rn(t),this.g=this.j.getWin(),this.U={windowOpenMode:"auto",analyticsMode:0,enableSwgAnalytics:!1,enablePropensity:!1},t=(t=this.g).navigator,/Edge/i.test(t&&t.userAgent)&&(this.U.windowOpenMode="redirect"),i&&Vo(this,i),this.P=e,this.J=this.j.whenReady(),this.$c=new ri(this.j),this.D=n.fetcher||new ii(this.g),this.F=new xo(this.g),this.o=new Nn(this.j),this.C=new sn,this.Wb=this.Xb=null,n.enableGoogleAnalytics&&(this.zd=new oi(this),this.zd.start()),this.m=new je(this),this.W=new Xe(this,this.D),this.W.start(),this.lc=new Io(this),this.Hd=new ci(this),this.Z=new Kn(this.g,this.P,this.D,this),this.X=new gn(e.getPublicationId(),this.D),this.Qd=new Do(this.g,this,this.D),this.u.logSwgEvent(11,!1),this.Ld=new fi(this.P,this.D),this.na=new nn(this.j,Promise.resolve(this));var r,e=new wo(this.g.document);e.prefetch("https://news.google.com/swg/js/v1/loader.svg"),e.preconnect("https://www.gstatic.com/"),e.preconnect("https://fonts.googleapis.com/"),e.preconnect("https://www.google.com/"),(r=this).activities().onResult("swg-link",function(t){return r.entitlementsManager().blockNextNotification(),r.callbacks().triggerLinkProgress(),r.dialogManager().popupClosed(),M(t,Ee(),!1,!1).then(function(t){r.eventManager().logSwgEvent(1011,!0),new ai(r,t).start()},function(t){it(t)?(r.eventManager().logSwgEvent(1012,!0),r.callbacks().triggerFlowCanceled("linkAccount")):r.eventManager().logSwgEvent(1011,!0)})}),Ne(this),nt(this.j,".swg-dialog,.swg-toast{background-color:#fff!important;box-sizing:border-box}.swg-toast{border:none!important;bottom:0!important;max-height:46px!important;position:fixed!important;z-index:2147483647!important}@media (max-height:640px),(max-width:640px){.swg-dialog,.swg-toast{border-top-left-radius:8px!important;border-top-right-radius:8px!important;box-shadow:0 1px 1px rgba(60,64,67,.3),0 1px 4px 1px rgba(60,64,67,.15)!important;left:-240px!important;margin-left:50vw!important;width:480px!important}}@media (min-width:640px) and (min-height:640px){.swg-dialog{background-color:transparent!important;border:none!important;left:-315px!important;margin-left:50vw!important;width:630px!important}.swg-toast{left:0!important}}@media (max-width:480px){.swg-dialog,.swg-toast{left:0!important;margin-left:0!important;right:0!important;width:100%!important}}\n/*# sourceURL=/./src/components/dialog.css*/"),this.m.onRedirectError(function(t){o.W.addLabels(["redirect"]),o.u.logSwgEvent(2e3,!1),o.$c.error("Redirect error",t)})}function Vo(e,t){var n,i="";for(n in t){var o=t[n];switch(n){case"windowOpenMode":"auto"!=o&&"redirect"!=o&&(i="Unknown windowOpenMode: "+o);break;case"experiments":o.forEach(function(t){He(e.g)[t]=!0}),e.analytics()&&e.analytics().addLabels(o);break;case"analyticsMode":0!=o&&1!=o&&(i="Unknown analytics mode: "+o);break;case"enableSwgAnalytics":Be(o)||(i="Unknown enableSwgAnalytics value: "+o);break;case"enablePropensity":Be(o)||(i="Unknown enablePropensity value: "+o);break;default:i="Unknown config property: "+n}}U(!i,i||void 0),Object.assign(e.U,t)}function Wo(t){t&&So.whenReady().then(function(){t(Oo)})}(Co=Io.prototype).preconnect=function(t){t.prefetch(ge(Ro+"/gp/p/ui/pay","_",Te())),t.prefetch("https://payments.google.com/payments/v4/js/integrator.js?ss=md"),t.prefetch("https://clients2.google.com/gr/gr_full_2.0.6.js")},Co.getType=function(){return"PAYJS"},Co.start=function(n,i){var o=this;i=void 0===i?{}:i,this.uc=n,this.$a||(this.preconnect(this.hd),Po(this)),ko(n=i.forceRedirect?Object.assign(n,{forceRedirect:i.forceRedirect||!1}):n,"disableNative",i.forceDisableNative||this.g!=this.g.top);var r=null,t=new Promise(function(t){return r=t});return this.rc.useVerifier(function(t){var e;t&&ko(n,"redirectVerifier",t),i.forceRedirect?(e=o.$a,o.u.getReadyPromise().then(function(){o.Tc.getLoggingPromise().then(function(){e.loadPaymentData(n),r(!0)})})):(o.$a.loadPaymentData(n),r(!0))}),t},Co.onResponse=function(t){var e=this;this.wc=t;var n=this.xc;n&&Promise.resolve().then(function(){n&&t(_o(e,n,e.uc))})},Co.Cd=function(t){this.xc=t,this.wc&&this.wc(_o(this,this.xc,this.uc))},Ao.prototype.prepare=function(){return No(this,function(){})},Ao.prototype.useVerifier=function(t){var n=this;No(this,function(e){if(e)try{n.g.localStorage.setItem("subscribe.google.com:rk",e.key)}catch(t){e=null}t(e&&e.verifier||null)})},Ao.prototype.restoreKey=function(){try{return this.g.localStorage&&this.g.localStorage.getItem("subscribe.google.com:rk")||null}catch(t){return null}},Mo.prototype.sendSubscriptionState=function(t,e){return t=ge("https://pubads.g.doubleclick.net/subopt/data","states",this.K+":"+t),e&&(t=ge(t,"extrainfo",e)),this.D.fetch(Lo(this,t),{method:"GET",credentials:"include"})},Mo.prototype.Ja=function(t){var e,n;6===t.eventOriginator||!this.h.config().enablePropensity&&3!==t.eventOriginator||(4e3===t.eventType?this.sendSubscriptionState(t.additionalParameters.state,t.additionalParameters.productsOrSkus):null!=(n=jn[t.eventType])&&((e=t.additionalParameters)instanceof Gt&&(e=void 0),Be(t.isFromUserAction)&&((e=!Fe(e)?{}:e).is_active=t.isFromUserAction),t=JSON.stringify(e),n=ge("https://pubads.g.doubleclick.net/subopt/data","events",this.K+":"+n),t&&(n=ge(n,"extrainfo",t)),this.D.fetch(Lo(this,n),{method:"GET",credentials:"include"})))},Mo.prototype.getPropensity=function(t,e){return this.D.fetch(Lo(this,"https://pubads.g.doubleclick.net/subopt/pts?products="+this.K+"&type="+e+"&ref="+t),{method:"GET",credentials:"include"}).then(function(t){return t.json()}).then(function(t){var e={};if(t.header)if(t.header.ok){var n=t.scores;t=[];for(var i=0;i<n.length;i++){var o=n[i];t.push(o.score?{product:o.product,score:{value:o.score,bucketed:2==o.score_type}}:{product:o.product,error:o.error_message})}t&&(e={header:{ok:!0},body:{scores:t}})}else e={header:{ok:!1},body:{error:t.error}};else e={header:{ok:!1},body:{error:"No valid response"}};return e})},Do.prototype.sendSubscriptionState=function(t,e){if(!Object.values(ce).includes(t))throw Error("Invalid subscription state provided");if(("subscriber"==t||"past_subscriber"==t)&&!e)throw Error("Entitlements must be provided for users with active or expired subscriptions");if(e&&!Fe(e))throw Error("Entitlements must be an Object");var n=null;e&&(n=JSON.stringify(e)),this.kd.sendSubscriptionState(t,n)},Do.prototype.getPropensity=function(t){if(t&&!Object.values(le).includes(t))throw Error("Invalid propensity type requested");return this.kd.getPropensity(this.g.document.referrer,t=t||"general")},Do.prototype.sendEvent=function(t){var e=Un[t.name],n=null;if(!Ge(he,t.name)||!e)throw Error("Invalid user event provided("+t.name+")");if(t.data){if(!Fe(t.data))throw Error("Event data must be an Object("+t.data+")");n={},Object.assign(n,t.data)}if(Be(t.active))n=n||{},Object.assign(n,{is_active:t.active});else if(null!=t.active)throw Error("Event active must be a boolean");this.u.logEvent({eventType:e,eventOriginator:3,isFromUserAction:t.active,additionalParameters:n})},xo.prototype.get=function(n,i){var o=this;return i=void 0!==i&&i,this.Wa[n]||(this.Wa[n]=new Promise(function(e){var t=i?o.g.localStorage:o.g.sessionStorage;if(t)try{e(t.getItem(Uo(n)))}catch(t){e(null)}else e(null)})),this.Wa[n]},xo.prototype.set=function(n,i,o){var r=this;return o=void 0!==o&&o,this.Wa[n]=Promise.resolve(i),new Promise(function(t){var e=o?r.g.localStorage:r.g.sessionStorage;if(e)try{e.setItem(Uo(n),i)}catch(t){}t()})},xo.prototype.remove=function(n,i){var o=this;return i=void 0!==i&&i,delete this.Wa[n],new Promise(function(t){var e=i?o.g.localStorage:o.g.sessionStorage;if(e)try{e.removeItem(Uo(n))}catch(t){}t()})},jo.prototype.start=function(){var e=this;return this.Qa=this.o.openView(this.l),this.od.then(function(t){return e.o.completeView(e.l),t},function(t){throw e.o.completeView(e.l),t})},(Co=Fo.prototype).whenReady=function(){return this.pb},Co.startSubscriptionsFlowIfNeeded=function(){var t=this.g.document,e=_i(t,"subscriptions-control");return L(t=e||((t=t.querySelector("script[subscriptions-control]"))?t.getAttribute("subscriptions-control"):null),"mode"),"manual"==t?null:this.start()},Co.init=function(t){U(!this.Db,"already configured"),this.oc=t,Go(this,!0)},Co.configure=function(e){return Object.assign(this.U,e),Go(this,!1).then(function(t){return t.configure(e)})},Co.start=function(){return Go(this,!0).then(function(t){return t.start()})},Co.reset=function(){return Go(this,!0).then(function(t){return t.reset()})},Co.clear=function(){return Go(this,!0).then(function(t){return t.clear()})},Co.getEntitlements=function(e){return Go(this,!0).then(function(t){return t.getEntitlements(e)})},Co.setOnEntitlementsResponse=function(e){return Go(this,!1).then(function(t){return t.setOnEntitlementsResponse(e)})},Co.getOffers=function(e){return Go(this,!0).then(function(t){return t.getOffers(e)})},Co.showOffers=function(e){return Go(this,!0).then(function(t){return t.showOffers(e)})},Co.showUpdateOffers=function(e){return Go(this,!0).then(function(t){return t.showUpdateOffers(e)})},Co.showSubscribeOption=function(e){return Go(this,!0).then(function(t){return t.showSubscribeOption(e)})},Co.showAbbrvOffer=function(e){return Go(this,!0).then(function(t){return t.showAbbrvOffer(e)})},Co.showContributionOptions=function(e){return Go(this,!0).then(function(t){return t.showContributionOptions(e)})},Co.waitForSubscriptionLookup=function(e){return Go(this,!0).then(function(t){return t.waitForSubscriptionLookup(e)})},Co.setOnNativeSubscribeRequest=function(e){return Go(this,!1).then(function(t){return t.setOnNativeSubscribeRequest(e)})},Co.setOnSubscribeResponse=function(e){return Go(this,!1).then(function(t){return t.setOnSubscribeResponse(e)})},Co.subscribe=function(e){return Go(this,!0).then(function(t){return t.subscribe(e)})},Co.updateSubscription=function(e){return Go(this,!0).then(function(t){return t.updateSubscription(e)})},Co.setOnContributionResponse=function(e){return Go(this,!1).then(function(t){return t.setOnContributionResponse(e)})},Co.setOnPaymentResponse=function(e){return Go(this,!1).then(function(t){return t.setOnPaymentResponse(e)})},Co.contribute=function(e){return Go(this,!0).then(function(t){return t.contribute(e)})},Co.completeDeferredAccountCreation=function(e){return Go(this,!0).then(function(t){return t.completeDeferredAccountCreation(e)})},Co.setOnLoginRequest=function(e){return Go(this,!1).then(function(t){return t.setOnLoginRequest(e)})},Co.triggerLoginRequest=function(e){return Go(this,!1).then(function(t){return t.triggerLoginRequest(e)})},Co.setOnLinkComplete=function(e){return Go(this,!1).then(function(t){return t.setOnLinkComplete(e)})},Co.linkAccount=function(e){return e=void 0===e?{}:e,Go(this,!0).then(function(t){return t.linkAccount(e)})},Co.setOnFlowStarted=function(e){return Go(this,!1).then(function(t){return t.setOnFlowStarted(e)})},Co.setOnFlowCanceled=function(e){return Go(this,!1).then(function(t){return t.setOnFlowCanceled(e)})},Co.saveSubscription=function(e){return Go(this,!0).then(function(t){return t.saveSubscription(e)})},Co.showLoginPrompt=function(){return Go(this,!0).then(function(t){return t.showLoginPrompt()})},Co.showLoginNotification=function(){return Go(this,!0).then(function(t){return t.showLoginNotification()})},Co.createButton=function(t,e){return this.na.create(t,e)},Co.attachSmartButton=function(e,n,i){return Go(this,!0).then(function(t){return t.attachSmartButton(e,n,i)})},Co.attachButton=function(t,e,n){return this.na.attach(t,e,n)},Co.getPropensityModule=function(){return Go(this,!0).then(function(t){return t.getPropensityModule()})},Co.getLogger=function(){return Go(this,!0).then(function(t){return t.getLogger()})},Co.getEventManager=function(){return Go(this,!0).then(function(t){return t.getEventManager()})},Co.setShowcaseEntitlement=function(e){return Go(this,!0).then(function(t){return t.setShowcaseEntitlement(e)})},Co.consumeShowcaseEntitlementJwt=function(e,n){return Go(this,!0).then(function(t){return t.consumeShowcaseEntitlementJwt(e,n)})},Co.showBestAudienceAction=function(){x("Not implemented yet")},(Co=Bo.prototype).doc=function(){return this.j},Co.win=function(){return this.g},Co.pageConfig=function(){return this.P},Co.jserror=function(){return this.$c},Co.activities=function(){return this.m},Co.payClient=function(){return this.lc},Co.dialogManager=function(){return this.o},Co.entitlementsManager=function(){return this.Z},Co.callbacks=function(){return this.C},Co.storage=function(){return this.F},Co.clientConfigManager=function(){return this.X},Co.analytics=function(){return this.W},Co.init=function(){},Co.configure=function(t){Vo(this,t)},Co.config=function(){return this.U},Co.reset=function(){this.Z.reset(),this.closeDialog()},Co.clear=function(){this.Z.clear(),this.closeDialog()},Co.closeDialog=function(){this.o.completeAll()},Co.start=function(){if(!this.P.getProductId()||!this.P.isLocked())return Promise.resolve();this.getEntitlements()},Co.getEntitlements=function(t){var n=this;return this.Z.getEntitlements(t).then(function(t){if(t)try{var e=t.entitlements.map(function(t){return t.getSku()||"unknown subscriptionToken"});0<e.length&&n.W.setSku(e.join(","))}catch(t){}return t.clone()})},Co.setOnEntitlementsResponse=function(t){this.C.setOnEntitlementsResponse(t)},Co.getOffers=function(t){return this.Ld.getOffers(t&&t.productId)},Co.showOffers=function(t){var e=this;return this.J.then(function(){return U(!t||!t.oldSku,"The showOffers() method cannot be used to update a subscription. Use the showUpdateOffers() method instead."),e.Xb=new Me(e,t),e.Xb.start()})},Co.showUpdateOffers=function(t){var e=this;return U(Ke(this.g,"replace-subscription"),"Not yet launched!"),this.J.then(function(){return U(!!t&&!!t.oldSku,"The showUpdateOffers() method cannot be used for new subscribers. Use the showOffers() method instead."),new Me(e,t).start()})},Co.showSubscribeOption=function(t){var e=this;return this.J.then(function(){return new Le(e,t).start()})},Co.showAbbrvOffer=function(t){var e=this;return this.J.then(function(){return new De(e,t).start()})},Co.showContributionOptions=function(t){var e=this;return this.J.then(function(){return e.Wb=new mn(e,t),e.Wb.start()})},Co.getLastContributionsFlow=function(){return this.Wb},Co.waitForSubscriptionLookup=function(t){var e=this;return this.J.then(function(){return new jo(e,t).start()})},Co.setOnLoginRequest=function(t){this.C.setOnLoginRequest(t)},Co.triggerLoginRequest=function(t){this.C.triggerLoginRequest(t)},Co.setOnLinkComplete=function(t){this.C.setOnLinkComplete(t)},Co.linkAccount=function(t){var e=this;return t=void 0===t?{}:t,this.J.then(function(){return new si(e).start(t)})},Co.saveSubscription=function(t){var e=this;return this.J.then(function(){return new ui(e,t).start()})},Co.showLoginPrompt=function(){var t=this;return this.J.then(function(){return new li(t).start()})},Co.showLoginNotification=function(){var t=this;return this.J.then(function(){return new hi(t).start()})},Co.setOnNativeSubscribeRequest=function(t){this.C.setOnSubscribeRequest(t)},Co.setOnSubscribeResponse=function(t){this.C.setOnSubscribeResponse(t)},Co.setOnPaymentResponse=function(t){this.C.setOnPaymentResponse(t)},Co.subscribe=function(t){var e=this;return U("string"==typeof t,"The subscribe() method can only take a sku as its parameter; for subscription updates please use the updateSubscription() method"),this.J.then(function(){return new _e(e,{skuId:t}).start()})},Co.updateSubscription=function(t){var e=this;return U(Ke(this.g,"replace-subscription"),"Not yet launched!"),U(!!t&&t.oldSku,"The updateSubscription() method should be used for subscription updates; for new subscriptions please use the subscribe() method"),this.J.then(function(){return new _e(e,t).start()})},Co.setOnContributionResponse=function(t){this.C.setOnContributionResponse(t)},Co.contribute=function(t){var e=this,n="string"==typeof t?{skuId:t}:t;return this.J.then(function(){return new _e(e,n,"UI_CONTRIBUTION").start()})},Co.completeDeferredAccountCreation=function(t){var e=this;return this.J.then(function(){return new bn(e,t||null).start()})},Co.setOnFlowStarted=function(t){this.C.setOnFlowStarted(t)},Co.setOnFlowCanceled=function(t){this.C.setOnFlowCanceled(t)},Co.createButton=function(t,e){return this.na.create(t,e)},Co.attachButton=function(t,e,n){this.na.attach(t,e,n)},Co.attachSmartButton=function(t,e,n){U(Ke(this.g,"smartbox"),"Not yet launched!"),this.na.attachSmartButton(this,t,e,n)},Co.getPropensityModule=function(){return Promise.resolve(this.Qd)},Co.eventManager=function(){return this.u},Co.getLastOffersFlow=function(){return this.Xb},Co.getEventManager=function(){return Promise.resolve(this.u)},Co.getLogger=function(){return Promise.resolve(this.Hd)},Co.setShowcaseEntitlement=function(t){var e,n;if((n=t&&ye(this.win().location))&&((e=ye(n=(n=de(this.win().document.referrer))||ve))&&(n=n||be,e=fe.test(n.hostname)),n=e),!n||!Hn(this.win().location.search))return Promise.resolve();var i=Fn[t.entitlement]||[];for((n=new Gt).setIsUserRegistered(t.isUserRegistered),t=0;t<i.length;t++)this.eventManager().logEvent({eventType:i[t],eventOriginator:6,isFromUserAction:!1,additionalParameters:n});return Promise.resolve()},Co.consumeShowcaseEntitlementJwt=function(t,e){this.entitlementsManager().parseEntitlements({signedEntitlements:t}).consume(e)},Co.showBestAudienceAction=function(){x("Not implemented yet")},D("Subscriptions Runtime: 0.1.22.169"),(Co=self).SWG&&!Array.isArray(Co.SWG)||(So=new Fo(Co),Oo={init:(To=So).init.bind(To),configure:To.configure.bind(To),start:To.start.bind(To),reset:To.reset.bind(To),clear:To.clear.bind(To),getEntitlements:To.getEntitlements.bind(To),linkAccount:To.linkAccount.bind(To),showLoginPrompt:To.showLoginPrompt.bind(To),showLoginNotification:To.showLoginNotification.bind(To),getOffers:To.getOffers.bind(To),showOffers:To.showOffers.bind(To),showUpdateOffers:To.showUpdateOffers.bind(To),showAbbrvOffer:To.showAbbrvOffer.bind(To),showSubscribeOption:To.showSubscribeOption.bind(To),showContributionOptions:To.showContributionOptions.bind(To),waitForSubscriptionLookup:To.waitForSubscriptionLookup.bind(To),subscribe:To.subscribe.bind(To),updateSubscription:To.updateSubscription.bind(To),contribute:To.contribute.bind(To),completeDeferredAccountCreation:To.completeDeferredAccountCreation.bind(To),setOnEntitlementsResponse:To.setOnEntitlementsResponse.bind(To),setOnLoginRequest:To.setOnLoginRequest.bind(To),triggerLoginRequest:To.triggerLoginRequest.bind(To),setOnLinkComplete:To.setOnLinkComplete.bind(To),setOnNativeSubscribeRequest:To.setOnNativeSubscribeRequest.bind(To),setOnPaymentResponse:To.setOnPaymentResponse.bind(To),setOnSubscribeResponse:To.setOnSubscribeResponse.bind(To),setOnContributionResponse:To.setOnContributionResponse.bind(To),setOnFlowStarted:To.setOnFlowStarted.bind(To),setOnFlowCanceled:To.setOnFlowCanceled.bind(To),saveSubscription:To.saveSubscription.bind(To),createButton:To.createButton.bind(To),attachButton:To.attachButton.bind(To),attachSmartButton:To.attachSmartButton.bind(To),getPropensityModule:To.getPropensityModule.bind(To),getLogger:To.getLogger.bind(To),getEventManager:To.getEventManager.bind(To),setShowcaseEntitlement:To.setShowcaseEntitlement.bind(To),consumeShowcaseEntitlementJwt:To.consumeShowcaseEntitlementJwt.bind(To),showBestAudienceAction:To.showBestAudienceAction.bind(To)},[].concat(Co.SWG,Co.SUBSCRIPTIONS).forEach(Wo),Co.SWG=Co.SUBSCRIPTIONS={push:Wo},So.startSubscriptionsFlowIfNeeded())}.call(this);

(this.$WP=this.$WP||[]).push(["454gno",(e,t)=>{"use strict";var a,n,o,r,s,i,l,c,m,d,u,p,_,g,h,v,E,b,w,f,y,C,O,x,N,T,k=e=>e+61+49,I=(e,t=!0)=>{var[a,n]=l(k(0)),[i,m]=l(0),{adhesionClosed:d,notifyAdhesion:u}=c(w),p=r(()=>{n(k(180))},[n]),_=r(()=>{t&&m(50)},[m,t]);return s(()=>{!d&&t||m(0)},[d,t]),b({size:"5x1",position:"sky",callback:p}),b({size:"320x50",position:"adhesion",callback:_}),s(()=>(u(e&&i>0),()=>{u(!1)}),[i,e,u]),o(()=>({top:a,bottom:i}),[a,i])},M=({bottom:e})=>{var{isRtl:t}=a.useContext(d).locale,{userAgentCategory:n}=a.useContext(u);return a.useMemo(()=>"MOBILE"===n,[n])?a.createElement("div",{className:y("_1IL26obE","_2XaoaeRT"),style:{bottom:(e||0)+"px"}},a.createElement("div",{className:"_3RWyYpeA"},a.createElement("h3",{className:"_3YFphSPu"},a.createElement("span",{className:"_3YM9Vp5w"},a.createElement(C,{name:"membership"})),a.createElement(O,{id:"onetap_message_unlock"})," "))):a.createElement("div",{className:y("_2XaoaeRT",{_3iWqdbqG:t})},a.createElement("div",{className:"_3RWyYpeA"},a.createElement("h3",{className:"_3YFphSPu"},a.createElement("span",{className:"_3YM9Vp5w"},a.createElement(C,{name:"membership"})),a.createElement(O,{id:"onetap_message_unlock"})," "),a.createElement("p",{className:"_1uZ9lbQj"},a.createElement(O,{id:"onetap_message_subhead_to_get_the_most"})," ")))},P=()=>n.createElement("div",{className:"_3WLIt1vI"},n.createElement(N,{variant:"supporting-01",elementType:"span"},n.createElement(O,{id:"plus_got_login_v2_new"})),n.createElement("span",{className:"_2M16n4OJ"},n.createElement(T,{variant:"plus-logo-short-purple",height:30}))),S=({bottom:e})=>{var{userAgentCategory:t}=n.useContext(u);return o(()=>"MOBILE"===t,[t])?n.createElement("div",{className:"_1oU5vezL",style:{bottom:(e||0)+"px"}},n.createElement(P,null)):n.createElement("div",{className:"_3kLpoRzN"},n.createElement(P,null))},R=({shown:e,iframeContainerId:t,contentBackgroundColor:a,children:o})=>{var{width:r,height:i}=(({iframeContainerId:e,shown:t})=>{var[a,n]=l({width:0,height:0});return s(()=>{if(!t)return()=>{};var a=document.getElementById(e);if(a){var o=new ResizeObserver(e=>{var t,a=null==e||null==(t=e[0])?void 0:t.contentRect;if(a){var{width:o,height:r}=a;n({width:o,height:r})}});return o.observe(a),()=>{o.disconnect()}}return n({width:0,height:0}),()=>{}},[e,t]),a})({shown:e,iframeContainerId:t});return n.createElement("div",{className:"v7MhK7_K",style:{minHeight:i-14}},n.createElement("div",{className:y("_27cmGZ4V",{_3wtX7kNu:"plus"===a})},o),n.createElement("div",{className:"_17yvKXT1",style:{width:r-15}}))},L=({shown:e,iframeContainerId:t,bottom:a=0,renderPosition:o})=>{var r=p("optimus_got_spotlight_test_variant_a"),s=p("optimus_got_spotlight_test_variant_b");return r||s?"BOTTOM"===o?n.createElement("div",{className:"_1Qo3QROL",style:{bottom:a-4}},n.createElement(T,{variant:"plus-logo-short-white",height:30}),n.createElement(N,{variant:"title-04",color:"onDarkText",marginTop:"spacing-02"},r?n.createElement(O,{id:"plus_gotspotlight_varA_header"}):n.createElement(O,{id:"plus_gotspotlight_varB_copy"})),r&&n.createElement(N,{variant:"supporting-02",color:"onDarkText",marginTop:"spacing-02"},n.createElement(x,{id:"plus_gotspotlight_varA_sub_text"}))):n.createElement(R,{shown:e,iframeContainerId:t,contentBackgroundColor:"plus"},n.createElement("div",{className:"_3BWIRh1R"},n.createElement(T,{variant:"plus-logo-short-white",height:35}),n.createElement(N,{variant:"title-02",color:"onDarkText",marginTop:"spacing-02"},r?n.createElement(x,{id:"plus_gotspotlight_varA_header_text"}):n.createElement(O,{id:"plus_gotspotlight_varB_copy"})),r&&n.createElement(N,{variant:"supporting-01",color:"onDarkText",marginTop:"spacing-03"},n.createElement(x,{id:"plus_gotspotlight_varA_sub_text"})))):null},G=({shown:e,iframeContainerId:t,bottom:a,renderPosition:o})=>{var{isOptimusEnabled:r}=f();return r&&p("optimus_got_plus_banner")?n.createElement(S,{bottom:a}):r&&(p("optimus_got_spotlight_test_variant_a")||p("optimus_got_spotlight_test_variant_b"))?n.createElement(L,{shown:e,iframeContainerId:t,bottom:a,renderPosition:o}):n.createElement(M,{bottom:a})},A=({shown:e,adjustForAdhesion:t,isContextualMessagingEnabled:a,onShow:o})=>{var{bottom:r}=I(e,t),[i,c]=l(!1),[m,d]=l(0);return s(()=>{if(!e)return()=>{};var t=document.getElementById("credential_picker_iframe");if(t){if(t.style.bottom=r+"px",t.style.zIndex="10105",!a)return()=>{};var n,o=new MutationObserver(e=>{var t,a,o=null==e||null==(t=e[0])?void 0:t.target;if(o instanceof HTMLElement){clearTimeout(n);var r=parseInt((null==o||null==(a=o.style)?void 0:a.height)||0,10),s=isNaN(r)?0:r-9;n=setTimeout(()=>{d(s),c(s>0)},400)}});return o.observe(t,{attributes:!0}),()=>{o.disconnect(),clearTimeout(n)}}return()=>{}},[r,e,a]),s(()=>{e&&o&&o()},[e,o]),e&&i?n.createElement(G,{bottom:m+r,iframeContainerId:"credential_picker_iframe",renderPosition:"BOTTOM",shown:e}):null},D=({shown:e,containerId:t,isContextualMessagingEnabled:a,onShow:o})=>{var{top:r}=I(e),[c,m]=l(!1),d=i(null);return s(()=>{if(e&&d&&d.current){var t=d.current.children[0];t&&(t.style.zIndex="10107",t.children&&0!==t.children.length&&(t.children[0].onload=()=>{m(a)}))}},[e,a]),s(()=>{e&&o&&o()},[e,o]),n.createElement("div",{className:y("_15SXV7IU",{_1nZT1p_i:!e}),style:{top:r}},c&&n.createElement(G,{shown:e,iframeContainerId:t,renderPosition:"TOP"}),n.createElement("div",{id:t,className:"c-3V8oCL",ref:d}))},B=["CheapFlightsSearchResults","CheapFlightsSearchDeals","MobileCheapFlightsSearchResults"],z=({trackWouldOpenExplicitPreferences:e,openExplicitPreferences:t,explicitPreferencesEnabled:n,servletName:c,enhancedGoogleOneTapGate:d,onDismiss:b,onShow:w,triggerNext:f})=>{var y=m(),C=(({servletName:e,enhancedGoogleOneTapGate:t})=>o(()=>{var a=p("post_signup_attr_promo_onetap")&&("Home"===e||p("onetap_onboarding"))||p("post_signup_attr_promo_explicit_preferences");return t?{pid:40670,flow:"GOOGLE_ONETAP",deferShowOverlay:!0}:a?{pid:40666,flow:"GOOGLE_ONETAP_EMAIL_PROMO",deferShowOverlay:!0}:{pid:40185,flow:"GOOGLE_ONETAP",deferShowOverlay:!0}},[e,t]))({servletName:c,enhancedGoogleOneTapGate:d}),O=a.useCallback(a=>{y(Object.assign({extraQueryParams:{google_id_token:a},onSuccess:a=>{a&&!0===a.hasCreatedMember&&(e&&e(),n&&t&&t())},onClose:()=>{p("reg_emailoptin")&&window.location.reload()}},C))},[y,C,e,n,t]),{shown:x}=(({onNotDisplayed:e,onUserSkipped:t,onCredentialReady:a,containerId:n,flow:c,pid:m})=>{var d=i(null),[u,p]=l(!1),b=_(),w=(()=>{var e=r(()=>E.remove("g_state"),[]);return s(()=>e,[e]),e})(),f=r((e,t)=>{b({module:"google_onetap",action:e,context:`${t}|${c}`,value:m})},[c,m,b]),y=r(e=>{e&&(f("credentials_success",e.select_by),a(e.credential),p(!1))},[a,f]),C=r((t,a)=>{f("display_event",a||"success"),h(t),p(t),t||e()},[e,f]),O=r(e=>{f("skipped_event",e),p(!1),"user_cancel"===e&&t()},[t,f]),x=r(e=>{f("dismiss_event",e),p(!1)},[f]),N=r(e=>{switch(w(),e.getMomentType()){case"display":C(e.isDisplayed(),e.getNotDisplayedReason());break;case"skipped":O(e.getSkippedReason());break;case"dismiss":x(e.getDismissedReason())}},[w,x,O,C]),T=r(e=>{null===d.current&&(d.current=e,f("requested","na"),e.initialize({client_id:"1070328450902.apps.googleusercontent.com",callback:y,cancel_on_tap_outside:!1,prompt_parent_id:n,auto_select:!v()}),e.prompt(N))},[y,N,n,f]);return s(()=>{f("script_requested","na"),g("https://accounts.google.com/gsi/client","MEMX").then(()=>{var e,t,a,n=()=>T(window.google.accounts.id);(null==(e=window.google)||null==(t=e.accounts)||null==(a=t.id)?void 0:a.initialize)?n():window.onGoogleLibraryLoad=n})},[T,f]),s(()=>()=>{d.current&&d.current.cancel()},[]),o(()=>({shown:u}),[u])})({onNotDisplayed:f,onUserSkipped:b,onCredentialReady:O,containerId:"tripGoogleOnetapContainer",pid:C.pid,flow:C.flow}),{userAgentCategory:N}=a.useContext(u);return a.useMemo(()=>"MOBILE"===N,[N])?a.createElement(A,{shown:x,onShow:w,adjustForAdhesion:!d,isContextualMessagingEnabled:p("google_onetap_contextual_message_mobile_lithium")&&!B.includes(c)}):a.createElement(D,{shown:x,onShow:w,containerId:"tripGoogleOnetapContainer",isContextualMessagingEnabled:p("google_onetap_contextual_message_desktop_lithium")&&!B.includes(c)})};return[()=>{e("default",z)},[e=>(a=e,n=e.default,o=e.useMemo,r=e.useCallback,s=e.useEffect,i=e.useRef,l=e.useState,c=e.useContext),e=>m=e.default,e=>(d=e.Environment,u=e.Device),e=>p=e.featureIsEnabled,e=>_=e.useGARecorder,e=>g=e.importScript,e=>(h=e.setOneTapEligibility,v=e.userSignedOut),e=>E=e.default,e=>b=e.default,e=>w=e.PromptsContext,e=>f=e.useOptimusEnabledForUser,e=>y=e.default,e=>C=e.default,e=>(O=e.default,x=e.UnsafeLocalize),e=>N=e.default,e=>T=e.default]]},["cDcdfi","mv7yXI","2R4xv2","-i3PJS","fsml46","pLbCP4","MWFqPp","vmXh3M","w2XwHO","HDgDKt","v_y45t","jSLlaY","pyY-iJ","0DsHEV","VP50Wc","TkeYrn"]]);
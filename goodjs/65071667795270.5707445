!function(){function e(){i(n).target.forEach(function(e){t.instances.has(e)||new t(e)})}function t(e){this.selector={section:n,component:".text-block-container",headlineWrap:".text-block-container__headline-wrap",headlineWrapTwoLine:"text-block-container__headline-wrap--two-lines",headline:".text-block-container__headline",subHeadline:".text-block-container__sub-headline",imageWrap:".text-block-container__image-wrap",multiHeadSingleSub:"text-block-container--multi-head-single-sub",multiHeadNoSub:"text-block-container--multi-head-no-sub",singleHeadMultiSub:"text-block-container--single-head-multi-sub",singleHeadSingleSub:"text-block-container--single-head-single-sub",singleHeadNoSub:"text-block-container--single-head-no-sub"},this.ele={section:i(e),headlineWrap:null,headline:null,subHeadline:null},this.currentTextStyleEl=null,this.setProperty(),t.instances.set(e,this),this.init()}var i=window.sg.common.$q,n=".text-block-container";t.prototype.setProperty=function(){this.ele.headlineWrap=this.ele.section.find(this.selector.headlineWrap),this.ele.headline=this.ele.section.find(this.selector.headline),this.ele.subHeadline=this.ele.section.find(this.selector.subHeadline)},t.prototype.init=function(){this.bindEvents(),this.setHeadlineWrapHeight(),this.ele.section.find(this.selector.imageWrap).target[0]&&this.setImageHeight()},t.prototype.reInit=function(){this.setProperty(),this.unBindEvents(),this.init()},t.prototype.unBindEvents=function(){window.removeEventListener("resize",this.setHeadlineWrapHeight)},t.prototype.bindEvents=function(){this.setHeadlineWrapHeight=this.setHeadlineWrapHeight.bind(this),window.addEventListener("resize",this.setHeadlineWrapHeight)},t.prototype.setHeadlineWrapHeight=function(){var e;0<this.ele.headline.target.length&&(e=parseInt(window.getComputedStyle(this.ele.headline.target[0]).fontSize),this.ele.headline.target[0].offsetHeight>1.7*e?this.ele.headlineWrap.target[0].classList.add(this.selector.headlineWrapTwoLine):this.ele.headlineWrap.target[0].classList.remove(this.selector.headlineWrapTwoLine))},t.prototype.setImageHeight=function(){var e=parseInt(window.getComputedStyle(this.ele.headline.target[0]).fontSize),t=this.ele.subHeadline.target[0]?parseInt(window.getComputedStyle(this.ele.subHeadline.target[0]).fontSize):0;this.ele.subHeadline.target[0]&&(this.ele.subHeadline.target[0].style.display=0<this.ele.subHeadline.target[0].innerHTML.trim().length?"block":"none");var e=this.ele.headline.target[0].offsetHeight>1.7*e?2:1,i=0;this.ele.subHeadline.target[0]&&(i=this.ele.subHeadline.target[0].offsetHeight>1.9*t?2:this.ele.subHeadline.target[0].offsetHeight<t?0:1),this.currentTextStyleEl&&this.ele.section.target[0].classList.remove(this.currentTextStyleEl),2==e?1===i?(this.ele.section.target[0].classList.add(this.selector.multiHeadSingleSub),this.currentTextStyleEl=this.selector.multiHeadSingleSub):0===i&&(this.ele.section.target[0].classList.add(this.selector.multiHeadNoSub),this.currentTextStyleEl=this.selector.multiHeadNoSub):2===i?(this.ele.section.target[0].classList.add(this.selector.singleHeadMultiSub),this.currentTextStyleEl=this.selector.singleHeadMultiSub):1===i?(this.ele.section.target[0].classList.add(this.selector.singleHeadSingleSub),this.currentTextStyleEl=this.selector.singleHeadSingleSub):0===i&&(this.ele.section.target[0].classList.add(this.selector.singleHeadNoSub),this.currentTextStyleEl=this.selector.singleHeadNoSub)},t.instances=new WeakMap,i.ready(e),window.sg.components.textBlockContainer={init:e,reInit:function(){i(n).target.forEach(function(e){t.instances.has(e)&&t.instances.get(e).reInit()})}}}();

(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"9ihE":function(e,t,a){"use strict";a.d(t,"d",function(){return E}),a.d(t,"c",function(){return V}),a.d(t,"b",function(){return N});var i=a("pVnL"),k=a.n(i),C=a("q1tI"),y=a.n(C),o=a("s5E+"),r=a("wWh2"),w=a("RliX"),i=a("J4zp"),S=a.n(i),I=a("w2zw"),M=Object(C.createContext)(null);M.displayName="YouTubeIframeContext";var P,x,O,l=e=>{var t=e.children,a=e.initialSeekTime,e=Object(C.useState)(a),a=S()(e,2),e=a[0],a=a[1];return y.a.createElement(M.Provider,{value:{seekTime:e,setSeekTime:a}},t)},T=a("y4uf"),D=a("g2Yl");(i=P=P||{}).StateChanged="stateChanged",i.CurrentTimeChanged="currentTimeChanged",(i=x=x||{}).Initializing="initializing",i.Ready="ready",i.Buffering="buffering",i.Unstarted="unstarted",i.Playing="playing",i.AutoPlaying="autoPlaying",i.Paused="paused",i.Ended="ended",(i=O=O||{}).Play="play",i.Seek="seek",i.Mute="mute",i.GetCurrentTime="getCurrentTime";var c=Object(C.forwardRef)((e,t)=>{var a,i,n,s,o,r,l,c,d=e.src,h=e.isDocked,u=e.onStateChange,m=Object(C.useState)(x.Initializing),p=S()(m,2),v=p[0],g=p[1],b=(()=>{var e=Object(C.useContext)(M);if(!e)throw new Error("<YouTubeIframe> needs <YouTubeIframeProvider> in order to keep track of the current playback position (to resume playback when docked)");return e})(),f=b.seekTime,m=b.setSeekTime,E=(a=Object(T.c)().logEvent,i={[x.Playing]:D.b.VideoPlay,[x.AutoPlaying]:D.b.VideoAutoPlay,[x.Paused]:D.b.VideoStop,[x.Ended]:D.b.VideoEnd},e=>{e=i[e];e&&a({eventName:e,eventDetails:{vendor:"youtube",player_type:"youtube"}})}),p=Object(C.useCallback)((e,t)=>{var a;h&&e===x.Playing&&[x.Buffering,x.Unstarted].includes(v)||((a=h&&e===x.Ready&&f)&&(null==t||t(O.Seek,{to:f}),null==t||t(O.Play)),e=a?x.AutoPlaying:e,g(e),u&&u(e),E(e))},[f,h,v]);return d=(b={src:d,videoState:v,onVideoStateChange:p,onVideoCurrentTimeChange:m}).src,p=b.videoState,o=b.onVideoStateChange,r=b.onVideoCurrentTimeChange,l=d.split("#").pop(),m=Object(C.useState)(),b=S()(m,2),m=b[0],c=b[1],Object(C.useEffect)(()=>{if(l){var e=I.b.listen(l,{[P.StateChanged]:e=>{var t,a,i,n;e===x.Ready?(t=(i=s()).source,a=i.origin,i=i.namespace,n=I.c.bind(null,{source:t,target:a,namespace:i}),c(()=>n),o(e,n)):o(e)},[P.CurrentTimeChanged]:r}),t=e.handler,s=e.getChannelInfo;return()=>I.b.unlisten(t)}},[d,l,o,r]),n=(m={videoState:p,sendMessageToPlayer:m}).videoState,s=m.sendMessageToPlayer,Object(C.useEffect)(()=>{var e=()=>{n===x.Playing&&s&&(s(O.GetCurrentTime),t=setTimeout(e,1e3))},t=setTimeout(e,1e3);return()=>clearTimeout(t)},[n,s]),y.a.createElement(w.a,k()({ref:t},e,{allow:h?"autoplay":void 0}))}),d=a("4S20"),h=a("Jq/n"),n=a("VXYR"),s=a("F6jV"),i=a("fSeh"),u=a.n(i),m=a("Cupb"),p=a("tROj"),v=a("JGqm"),g=a("p8qf"),i=a("Dcbp"),b=a.n(i),f=a("S/fY");function E(e){var t;return void 0!==e.media&&(Object(m.a)(null===(t=e.media)||void 0===t?void 0:t.url)||e.provider===p.c.Tumblr)}var V=e=>(null==e?void 0:e.provider)===p.c.Instagram,N=e=>!E(e)&&void 0!==e.embedIframe&&void 0!==e.provider,z=e=>{var t=e.url,a=e.poster,i=e.provider,e=Object(T.c)()._c;return y.a.createElement("div",{className:f.a.externalLink},a&&y.a.createElement(n.a,{imageResponse:a,altText:i?e("Accessibility title of a thumbnail for a video on an external site. The placeholder is the name of the external site.","Thumbnail of a video on %1$s",i):e("Accessibility title of a thumbnail for a video on an unknown external site","Thumbnail of a video on an external site")}),y.a.createElement("div",{className:f.a.playButton},y.a.createElement("a",{href:t,target:"_blank",rel:"noopener"},y.a.createElement(s.a,{fill:u.a.paletteWhite,withCircle:!1,size:{width:24,height:24},viewBox:"18 15 13 16"}),i?e("Title of a link to open a video on an external site. The placeholder is the name of the external site.","Watch on %1$s",i):null)))},R=e=>{var t,a=e.block,i=a.media,n=a.poster,s=a.filmstrip,a=e.isDocked,e=Object(g.c)();return y.a.createElement(r.a,{media:i,useViewabilityTracker:e!==g.a&&(Object(o.n)(null==e?void 0:e.post)||Object(o.m)(null==e?void 0:e.post)),timelineObject:e===g.a||null==e?void 0:e.post,poster:n,filmstrip:s,isDocked:a,showsDockMediaButton:e===g.a||null==e||null===(t=e.presentationStyle)||void 0===t?void 0:t.showsDockMediaButton})},j=e=>{var i=e.provider,n=e.embedIframe,s=e.isDocked;return y.a.createElement(d.b,null,e=>{var t=e.width,a=n.height/n.width,e=i===p.c.Youtube,t=Math.min(b.a.postWidth,t),t=e?{maxWidth:t,height:a*t}:{},t={src:n.url,title:i,allowFullScreen:!0,className:Object(h.a)({[f.a.embeddedPlayer]:!0,[f.a.notYoutubeEmbed]:!e}),style:t};return e?y.a.createElement(l,null,y.a.createElement(v.a,null,y.a.createElement(c,k()({},t,{isDocked:s})))):y.a.createElement(v.a,null,y.a.createElement(w.a,t))})};t.a=function(e){var t=e.block,a=e.isDocked,i=t.poster,n=t.provider,s=t.url,o=E(t)?y.a.createElement(R,{block:t,isDocked:a}):N(t)?y.a.createElement(j,{provider:t.provider,embedIframe:t.embedIframe,isDocked:a}):null;if(o){e=n===p.c.Youtube,a=!e&&N(t)?{paddingBottom:"".concat(t.embedIframe.height/t.embedIframe.width*100,"%")}:void 0;return y.a.createElement("div",{className:Object(h.a)({[f.a.videoBlock]:!0,[f.a.notYoutubeWrapper]:N(t)&&!e}),style:a},o)}return y.a.createElement(z,{url:s,poster:i,provider:n})}},B7MQ:function(e,t,a){"use strict";var i=a("J4zp"),b=a.n(i),f=a("q1tI"),E=a.n(f),k=a("w7rC"),C=a("M40m"),y=a("PXvT"),w=a("Eh9S"),S=a("o7iY"),I=a("OPDf"),i=a("fSeh"),M=a.n(i),P=a("Jq/n"),x=a("Qv8g"),O=a("a+rT"),T=a("y4uf"),D=a("ofoP"),V=a("noYS");t.a=e=>{var t=e.className,a=e.blogName,i=e.plan,n=e.postId,s=e.useBlogColors,o=e.useSupportLabel,r=e.includeUnlockLabel,l=e.includeViewPostsButton,c=Object(T.c)(),d=c._t,h=c.apiFetch,u=c.isLoggedIn,m=Object(f.useState)(!1),p=b()(m,2),e=p[0],v=p[1],c=Object(f.useState)(!1),m=b()(c,2),p=m[0],g=m[1],c=d("Oops. Something went wrong."),m=u?void 0:Object(D.j)({formToShow:C.a.Login},{redirect_to:n?"/memberships/".concat(a,"/").concat(n):location.pathname}),n=s?M.a.blogBackgroundColor:M.a.paletteAccent,s=s?M.a.blogContrastingLinkColor:M.a.paletteAccentTransparent15;return E.a.createElement("div",{className:Object(P.a)([V.a.container,t])},p&&E.a.createElement("p",{className:V.a.errorMessage},c),E.a.createElement(S.c,{wrapperClassName:V.a.monthlyCheckoutButton,label:d("Monthly subscription"),theme:S.b.Default,size:S.a.EntireWidth,textColor:n,backgroundColor:s,disabledBackgroundColor:M.a.paletteGray25,disabledTheme:S.b.Default,onClick:()=>{u&&(g(!1),v(!0),Object(x.a)(h,a,k.c.Month,window.location.host).fetch(e=>{e=e.response;window.location.assign(e.url)}).catch(()=>{v(!1),g(!0)}))},href:m,disabled:e},((e,t)=>{var a=Object(T.c)()._getPriceInCurrency;if(t)return e.checkoutLabels.support;var i=e.monthlyPrice,t=e.currencyCode;return e.checkoutLabels.monthly.replace("%s",Object(O.a)(i,t,a))})(i,o)),!!r&&E.a.createElement("p",{className:V.a.unlockLabel},E.a.createElement(w.a,null),i.unlockLabel),!!l&&E.a.createElement(y.a,{className:V.a.viewMembersPosts,blogName:a,showBlogCard:!1},E.a.createElement(I.d,{comment:"Button linking to user's members only posts",params:{blogName:a}},"View posts by [blogName]")))}},Cupb:function(e,t,a){"use strict";t.a=e=>{if(!e)return!1;try{a=new URL(e)}catch(e){return!1}var t=a.hostname;if("safe.txmblr.com"===t)return!0;var a=t.match(/\S+\.tumblr\.\w+\/?/g);return!!a&&a[0].length===t.length}},Eh9S:function(e,t,a){"use strict";var i=a("q1tI"),n=a.n(i),i=a("s2Hx"),a=a("fSeh"),n=Object(i.c)(n.a.createElement("svg",{fill:"none",viewBox:"0 0 16 16"},n.a.createElement("path",{fillRule:"evenodd",d:"M6 5v1a1 1 0 001 1h5a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2V9a2 2 0 011.041-1.756C3.525 6.98 4 6.552 4 6V5a4 4 0 017.877-.99c.136.535-.325.99-.877.99s-.98-.475-1.244-.959A2 2 0 006 5z",clipRule:"evenodd"})));n.defaultProps={size:{width:16,height:16},fill:a.black},t.a=n},Ivl8:function(e,t,a){"use strict";var i=a("q1tI"),n=a.n(i);t.a=function(e){var t=e.html,e=e.className;return n.a.createElement("div",{className:e,dangerouslySetInnerHTML:{__html:t}})}},JGqm:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var t=a("lSNA"),i=a.n(t),t=a("q1tI"),n=a.n(t),s=a("BwKz"),o=a("MHlR");class r extends t.Component{constructor(){super(...arguments),i()(this,"state",{isOffscreen:!1}),i()(this,"handleIntersectionChange",e=>{var t=e.isIntersecting,e=e.target;this.setState({isOffscreen:!t,placeholderSize:{width:e.clientWidth,height:e.clientHeight}})})}render(){var e=this.state,t=e.isOffscreen,a=e.placeholderSize,i=this.props,e=i.children,i=i.margin,e=t&&a?n.a.createElement("div",{className:o.a.postPlaceholder,style:a}):e;return n.a.createElement(s.a,{onChange:this.handleIntersectionChange,rootMargin:i},e)}}i()(r,"defaultProps",{margin:"250%"})},K8di:function(e,t,a){"use strict";a.d(t,"b",function(){return T});var i=a("q1tI"),r=a.n(i),n=a("pCNn"),s=a("pVnL"),o=a.n(s),l=a("lSNA"),c=a.n(l),d=a("y4uf"),s=a("SwI5"),l=a("Dcbp"),h=a.n(l),u=a("M3r2"),m=a("aJ4X"),p=a("F6jV"),v=a("x+FT"),l=a("fSeh"),g=a.n(l),b=a("lSVf");class f extends i.Component{constructor(){super(...arguments),c()(this,"state",{isPlaying:!1,seekingBarWidth:0,isDragging:!1}),c()(this,"onTimeUpdate",()=>{var e,t,a;this.progress&&this.audioEl&&(a=this.progress.clientWidth,e=this.audioEl.duration,t=this.audioEl.currentTime,a=Math.round(t/e*a),this.setState({seekingBarWidth:a}))}),c()(this,"onEnded",()=>{this.setState({isPlaying:!1,seekingBarWidth:0}),this.audioEl&&(this.audioEl.currentTime=0)}),c()(this,"handlePlayButtonClick",e=>this.setState(e=>({isPlaying:!e.isPlaying}))),c()(this,"onTouchStart",e=>{this.state.isPlaying&&this.updateSeekBarPositionWithEvent(e)}),c()(this,"onTouchEnd",e=>{this.handleTouchEndMouseUp()}),c()(this,"onProgressClick",e=>{this.updateSeekBarPositionWithEvent(e)}),c()(this,"onMouseMove",e=>{this.handleMove(e)}),c()(this,"onMouseDown",()=>{this.setState({isDragging:!0,isPlaying:!1})}),c()(this,"onMouseUp",()=>{this.handleTouchEndMouseUp()}),c()(this,"handleTouchEndMouseUp",()=>{this.setState({isDragging:!1,isPlaying:!0})}),c()(this,"handleMove",e=>{this.state.isDragging&&this.updateSeekBarPositionWithEvent(e)}),c()(this,"updateSeekBarPositionWithEvent",e=>{var t,a;this.audioEl&&this.progress&&(t=(e.clientX||e.changedTouches[0].clientX)-e.currentTarget.firstElementChild.getBoundingClientRect().left,t=(a=this.audioEl.duration)/(e=this.progress.clientWidth)*t,(a=Math.round(t/a*e))<=e&&this.setState({seekingBarWidth:a}),this.audioEl.currentTime=t)}),c()(this,"playAudio",()=>{var e;null===(e=this.audioEl)||void 0===e||e.play()}),c()(this,"stopAudio",()=>{var e;null===(e=this.audioEl)||void 0===e||e.pause()})}componentDidUpdate(e,t){"setComponentToAutoDock"in this.context&&this.context.setComponentToAutoDock(this.state.isPlaying),t.isPlaying!==this.state.isPlaying&&(this.state.isPlaying?this.playAudio():this.stopAudio()),e.isDocked&&!this.props.isDocked&&this.setState({isPlaying:!1})}render(){var t=this.props.appContext._t,a="".concat(b.a.progress," ").concat(this.props.poster?b.a.withImage:""),i={onTouchStart:this.onTouchStart,onTouchMove:this.updateSeekBarPositionWithEvent,onTouchEnd:this.onTouchEnd},n={onClick:this.onProgressClick,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp};return r.a.createElement("div",{className:b.a.nativePlayer},r.a.createElement(u.a,null,e=>{var e=e.isMobile?i:n;return r.a.createElement("div",o()({},e,{className:a,ref:e=>this.progress=e,role:"slider","aria-label":t("Audio Player"),"aria-valuemin":0,"aria-valuemax":null===(e=this.audioEl)||void 0===e?void 0:e.duration,"aria-valuenow":null===(e=this.audioEl)||void 0===e?void 0:e.currentTime}),r.a.createElement("div",{className:b.a.seeking,ref:e=>this.seeking=e,style:{width:"".concat(this.state.seekingBarWidth,"px")}}))}),r.a.createElement("div",{className:b.a.wrapper},r.a.createElement("div",{className:b.a.playPause,onClick:this.handlePlayButtonClick,role:"button","aria-label":this.state.isPlaying?t("Pause"):t("Play")},this.state.isPlaying?r.a.createElement(v.a,{fill:g.a.paletteWhite}):r.a.createElement(p.a,{fill:g.a.paletteWhite,withCircle:!1,size:{width:24,height:24},viewBox:"18 15 13 16"})),r.a.createElement("div",{className:b.a.trackInfo},this.props.trackInfo.title&&r.a.createElement("div",{className:b.a.trackTitle},this.props.trackInfo.title),this.props.trackInfo.artist&&r.a.createElement("div",{className:b.a.trackArtist},this.props.trackInfo.artist),this.props.trackInfo.album&&r.a.createElement("div",{className:b.a.trackAlbum},this.props.trackInfo.album)),r.a.createElement("audio",{preload:"auto",style:b.a,ref:e=>this.audioEl=e,onTimeUpdate:this.onTimeUpdate,onEnded:this.onEnded,title:this.props.trackInfo.title,crossOrigin:"anonymous"},r.a.createElement("source",{className:"audio-source",src:this.props.src})),this.props.poster?r.a.createElement("div",{className:b.a.albumImage},r.a.createElement(m.a,{imageResponse:this.props.poster,sizes:"".concat(h.a.audioPostAlbumCoverWidth,"px")})):null))}}c()(f,"contextType",s.a);var E=Object(d.d)(f),k=a("Ivl8"),C=a("Jq/n"),y=a("JGqm"),w=a("fJfF"),S=e=>void 0!==e.media&&"tumblr"===e.provider,I=e=>void 0!==e.embedHtml,M=e=>e.provider===n.a.Spotify,P=e=>e.provider===n.a.Soundcloud,x=e=>e.provider===n.a.Bandcamp,O=e=>!S(e)&&!!e.embedUrl&&(M(e)||x(e)||P(e)),T=e=>!(S(e)||I(e)||M(e)||O(e));t.a=function(e){var t,a,i=e.block,n=e.isDocked,s=e.showsMediaCompact,o=void 0!==s&&s;return r.a.createElement("div",{className:Object(C.a)({[w.a.audioBlock]:!0,[w.a.compact]:!!n||o,[w.a.embedSpotifyWrapper]:M(i),[w.a.embedSoundcloudWrapper]:O(i)&&P(i),[w.a.embedBandcampWrapper]:O(i)&&x(i)})},(a=n,e=(t=i).title,s=t.artist,o=t.album,n=t.poster,i=t.url,s={title:e,artist:s,album:o},S(t)?(o=t.media,r.a.createElement(E,{poster:n,trackInfo:s,src:o.url,isDocked:a})):O(t)?(a=t.embedUrl,r.a.createElement(y.a,null,r.a.createElement("iframe",{title:e,className:w.a.embedIframe,src:a,frameBorder:"0"}))):I(t)?(t=t.embedHtml,r.a.createElement(k.a,{html:t})):r.a.createElement("a",{className:w.a.urlOnlyAudioBlock,href:i},i)))}},N7Wd:function(e,t,a){"use strict";var i;a.d(t,"a",function(){return i}),(t=i=i||{}).Notice="notice",t.Error="error",t.Success="success"},Qv8g:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a("Qtnd");function i(e,t,a,i){return Object(n.a)(e).generateCheckoutUrl(t,{period:a,host:i})}},RliX:function(e,t,a){"use strict";var i=a("lSNA"),n=a.n(i),i=a("q1tI"),h=a.n(i),u=a("zOq6");class s extends i.Component{render(){var e=this.props,t=e.className,a=e.src,i=e.title,n=e.queryParams,s=e.scrolling,o=e.frameBorder,r=e.style,l=e.onLoad,c=e.placementId,d=e.allow,e=e.allowFullScreen;return h.a.createElement("iframe",{className:t,name:c,title:i,src:Object(u.a)(a,n),scrolling:s,frameBorder:o,style:r,onLoad:l,allow:d,allowFullScreen:e})}}n()(s,"defaultProps",{className:"",queryParams:{},scrolling:"no",frameBorder:0}),t.a=s},SwI5:function(e,t,a){"use strict";a=a("q1tI"),a=Object(a.createContext)({});t.a=a},Wl5J:function(e,t,a){"use strict";var i=a("q1tI"),n=a.n(i),s=a("pCNn"),o=a("OPDf"),r=a("U2un");t.a=function(e){var t=e.attribution;if(Object(s.A)(t)){e=t.url,t=t.blog.name;return n.a.createElement("div",{className:r.a.gifAttribution},n.a.createElement("a",{href:e,target:"_blank",rel:"noopener"},n.a.createElement(o.d,{params:{blogName:t},components:{strong:n.a.createElement("strong",null)}},"GIF by [strong][blogName][/strong]")))}return null}},"Ya+1":function(e,t,a){"use strict";a.d(t,"a",function(){return i});var t=a("J2iB"),M=a.n(t),t=a("3WX/"),P=a.n(t),x=a("s5E+"),O=a("yvvX"),T=a("HBWv");function i(e,t){var a=e,i=this.props.adContext,n=i.hydraConfigInstanceId,s=i.adPlacementConfiguration,o=null==s?void 0:s.signature,r=e.objectType===x.g.Post&&!M()(e.adm),l=e.objectType===x.g.Announcement&&e,c=l?Object(O.a)(l).bannerId:null,d=e.adInstanceCreationTime?Date.now()-e.adInstanceCreationTime:null,h=a.adProviderId,u=a.adProviderPlacementId,m=a.adProviderForeignPlacementId,p=a.adProviderInstanceId,v=a.adRequestId,g=a.fillId,b=a.supplyRequestId,f=a.supplyProviderId,E=a.streamSessionId,k=a.streamGlobalPosition,C=a.supplyOpportunityInstanceId,y=a.mediationCandidateId,w=a.adInstanceId,S=a.price,I=a.advertiserId,i=a.campaignId,s=a.adGroupId,l=a.adId,e=a.creativeId,a=a.earnedId,a=P()({hydraConfigInstanceId:n,hydraSignature:o,adProviderId:h,adProviderPlacementId:u,adProviderForeignPlacementId:m,adProviderInstanceId:p,adRequestId:v,fillId:g,supplyRequestId:b,supplyProviderId:f,streamSessionId:E,streamGlobalPosition:k,supplyOpportunityInstanceId:C,mediationCandidateId:y,adInstanceId:w,price:S,isTumblrSponsoredPost:r,adInstanceAge:d,advertiserId:I,campaignId:i,adGroupId:s,adId:l,banner_id:c,creativeId:e,earnedId:a},M.a);return t?Object(T.b)(a):a}},"a+rT":function(e,t,a){"use strict";a.d(t,"a",function(){return i});var i=(e,t,a)=>a(e/100,t)},dEos:function(e,t,a){"use strict";a.d(t,"a",function(){return ee});var i=a("q1tI"),b=a.n(i),f=a("pCNn"),n=a("Kiv0"),s=a("3tO9"),E=a.n(s),o=a("wig9"),k=a.n(o),s=a("mwIZ"),C=a.n(s),y=a("VXYR"),w=a("78v1"),S=a("Wl5J"),I=a("fPbW"),M=a("Jq/n"),P=a("MzjC"),o=a("o56e"),x=a("Dcbp"),s=a("fSeh"),O=a.n(s),T=a("y4uf"),D=a("g2Yl"),V=a("NFOE"),N=a("ofcG"),z=a("gxC+"),R=(e,t)=>{if(1===e)return t;var a=t.match(/[0-9]+/g);if(!a)return t;var i=a[0],a=parseInt(i,10),e=Math.round(a*e*100)/100;return t.replace(i,"".concat(e))},r=Object(o.b)(function(e){var t=e.block,a=e.displayAtOriginalSize,i=void 0===a||a,n=e.postContext,s=t.media,o=t.attribution,r=t.colors,l=t.altText,c=t.imageScale,d=void 0===c?1:c,h=t.isBlurredImages,a=t.clickthrough,e=n.presentationStyle,c=e.mobilePostWidth,t=e.desktopPostWidth,u=Object(T.c)().logEvent,e=Object(N.b)(),m=e.adPlacementConfiguration,p=e.hydraConfigInstanceId;c&&(v=R(d,c),g=["(max-width: ".concat(x.phoneResponsiveMaxBreakpoint,"px)"),v].join(" "));var v=R(d,t),d=k()([g,v]).join(", "),t=b.a.createElement("figure",{className:z.a.imageBlock},b.a.createElement(y.c,{imageResponse:s,colors:r,altText:l,sizes:d,isBlurredImages:h})),g=null!=a&&a.webUrl?b.a.createElement("a",{className:z.a.imageBlock,href:a.webUrl,target:"_blank",role:"link"},t):b.a.createElement(I.a,{imageResponse:s,altText:l},t),v=new P.a(s),d=v.getLargestImage(),s=C()(n,"presentationStyle.showsSmallImagesAtOriginalWidth",!0);if(!o&&d&&s&&i&&d.width<x.smallImagePostBreakpoint&&d.height<2*x.smallImagePostBreakpoint&&(t=b.a.createElement("figure",{className:Object(M.a)([z.a.imageBlock,z.a.unstretched]),style:{width:d.width}},b.a.createElement(y.c,{imageResponse:v.getImagesArrayWithoutCroppedImage(),colors:r,altText:l,sizes:"".concat(d.width,"px"),isBlurredImages:h})),g=null!=a&&a.webUrl?b.a.createElement("a",{className:z.a.imageBlock,href:a.webUrl,target:"_blank",role:"link"},t):t),o&&o.url){if(Object(f.A)(o))return b.a.createElement("div",{className:z.a.imageBlockGifAttribution},g,b.a.createElement(S.a,{attribution:o}));t=o.url,o=o.urlRedirect;return b.a.createElement("div",{className:z.a.imageBlockLink},g,b.a.createElement("a",{href:o,target:"_blank",rel:"noopener",className:z.a.attribution,onClick:()=>{var e;u({eventName:D.b.WrittenUrlClickThrough,eventDetails:E()({placement_id:null==n||null===(e=n.post)||void 0===e?void 0:e.placementId},Object(V.a)({adPlacementConfiguration:m,hydraConfigInstanceId:p,timelineObject:null==n?void 0:n.post}))})}},b.a.createElement("div",{className:z.a.attributionText},(t||"").replace(/^https?:\/\//i,"")),b.a.createElement("div",{className:z.a.attributionIcon},b.a.createElement(w.a,{size:{width:14,height:14},fill:O.a.paletteGray40}))))}return g},{postContext:!0}),l=a("K8di"),s=a("lSNA"),c=a.n(s),d=a("zoQI"),h=a("afeb"),u=a("Oefy"),m=a("WGAa"),p=a("SwI5"),v=a("BwKz"),g=a("Hoay");class j extends i.Component{constructor(){super(...arguments),c()(this,"state",{shouldAutoDock:!1,mediaSize:{width:0,height:0}}),c()(this,"reparentableMediaManager",new u.a),c()(this,"setMediaWrapper",e=>this.mediaWrapper=e),c()(this,"updateMediaSize",()=>{var e,t;this.mediaWrapper&&!this.currentPostIsDocked()&&(e=this.mediaWrapper.offsetWidth,t=this.mediaWrapper.offsetHeight,e===this.state.mediaSize.width&&t===this.state.mediaSize.height||this.setState({mediaSize:{width:e,height:t}}))}),c()(this,"currentPostIsDocked",()=>{var e;return this.mediaIsDockable()&&!!this.props.dockableContext.reparentableMediaManager&&this.reparentableMediaManager.id===(null===(e=this.props.dockableContext.reparentableMediaManager)||void 0===e?void 0:e.id)}),c()(this,"dockMedia",()=>{this.updateMediaSize(),this.props.dockableContext.updateDockManagerState({dockedTimelineObject:this.getTimelineObject(),isMediaDocked:!0,reparentableMediaManager:this.reparentableMediaManager}),this.reparentableMediaManager.isReparented=!0}),c()(this,"getTimelineObject",()=>E()(E()({},this.props.postContext.post),{},{content:[],trail:[]})),c()(this,"undockMedia",()=>{this.props.dockableContext.updateDockManagerState({isMediaDocked:!1}),this.logDockEvent(D.b.UndockPost)}),c()(this,"setComponentToAutoDock",e=>this.mediaIsDockable()&&this.state.shouldAutoDock!==e&&this.setState({shouldAutoDock:e})),c()(this,"autoDock",e=>{e=e.isIntersecting;this.mediaIsDockable()&&this.state.shouldAutoDock&&!e&&(this.dockMedia(),this.logDockEvent(D.b.AutoDockPost))}),c()(this,"mediaIsDockable",()=>{var e=this.props.postContext.presentationStyle.showsDockMediaButton;return void 0===e||e}),c()(this,"onClickDock",()=>{this.dockMedia(),this.logDockEvent(D.b.DockPost)}),c()(this,"logDockEvent",e=>{(0,this.props.appContext.logEvent)({eventName:e})})}componentDidMount(){this.reparentableMediaManager.id=this.props.dockableContext.getId()}componentWillUnmount(){var e=this.props.dockableContext.updateDockManagerState;this.currentPostIsDocked()&&e({isMediaDocked:!1})}render(){var e=this.props,t=e.media,a=e.appContext._c,i=this.mediaIsDockable(),n=this.currentPostIsDocked(),s=a('Button label. "Dock" as in for videos that get put in the sidebar and are always visible when you scroll',"Dock post in sidebar"),e=i&&!n&&b.a.createElement(d.a,{label:s,title:s,wrapperClassName:g.a.dockButton,onClick:this.onClickDock},b.a.createElement(h.c,{size:{width:15,height:15},fill:O.a.paletteWhite})),s=a('Button label. "Dock" as in for videos that get put in the sidebar and are always visible when you scroll',"Undock post in sidebar");return b.a.createElement(p.a.Provider,{value:{setComponentToAutoDock:this.setComponentToAutoDock}},b.a.createElement(v.a,{onChange:this.autoDock,threshold:.5},b.a.createElement("div",{ref:this.setMediaWrapper,className:g.a.wrapper},this.reparentableMediaManager.render(t.component,this.forceUpdate.bind(this),E()(E()({},t.props),{},{isDocked:n})),b.a.createElement(m.a,{shouldRenderContent:!n,reparentableContent:this.reparentableMediaManager}),n?i&&b.a.createElement(d.a,{label:s,title:s,wrapperClassName:g.a.putItBack,className:g.a.putItBackInner,onClick:this.undockMedia,wrapperStyle:{paddingBottom:"calc(".concat(this.state.mediaSize.height/this.state.mediaSize.width*100,"% - ").concat(4,"px)")}},b.a.createElement(h.d,{fill:O.a.paletteBlack,size:{width:30,height:30}}),a("Undock a video that is in the sidebar.","Put it back")):e)))}}function B(e){var t=(o=e.block).url,a=o.displayUrl,i=o.title,n=o.description,s=o.author,e=o.poster,o=o.siteName;return b.a.createElement("div",{className:W.a.link},b.a.createElement(F.a,{urls:{displayUrl:a,redirectUrl:t},info:{title:i,description:n,author:s,poster:e,siteName:o}}))}function L(e){var t=e.block,a=Object(T.c)().features.paywallConsumption,i=Object(H.c)().post.id,n=t.title,s=t.text,o=t.blog,r=t.subtype;if(!o)return null;var l=o.subscriptionPlan,c=o.name,d=o.isPaywallOn,h=o.paywallAccess,e=(u=o.theme||{}).titleFont,t=u.titleFontWeight,u=u.linkColor;return a&&d&&l?r===f.g.Divider?h===Q.a.Creator?b.a.createElement(J.a,null):null:(s=q()({mixedString:s.replace(/%s/,"{{blogName /}}"),components:{blogName:b.a.createElement("strong",null,c)}}),b.a.createElement("div",{className:X.a.paywallWrapper,style:Object(_.a)(o)},b.a.createElement("div",{className:X.a.header},b.a.createElement(G.a,{fill:u,size:{width:36,height:36}}),b.a.createElement("span",{className:X.a.title,style:{fontFamily:"'".concat(e,"'"),fontWeight:"bold"===t?"bold":"normal"}},n)),b.a.createElement("div",{className:X.a.text},s),b.a.createElement("div",{className:X.a.actions},b.a.createElement(Y.a,{className:X.a.checkout,blogName:c,postId:i,plan:l,useBlogColors:!0,useSupportLabel:!0,includeUnlockLabel:!0})))):null}var A=Object(o.b)(j,{appContext:!0,postContext:!0,dockableContext:!0}),U=Object(o.b)(function(e){var t=e.block,e=e.postContext.presentationStyle.showsMediaCompact;return Object(l.b)(t)?b.a.createElement(l.a,{block:t,showsMediaCompact:e}):b.a.createElement(A,{media:{props:{block:t,showsMediaCompact:e},component:l.a}})},{postContext:!0}),F=a("dfN1"),W=a("3Ruh"),o=a("YTUo"),q=a.n(o),H=a("p8qf"),_=a("7gZB"),G=a("vHCn"),J=a("wtI5"),X=a("uDgc"),Y=a("B7MQ"),Q=a("w7rC"),K=a("9ihE"),Z=e=>{e=e.block;return Object(K.c)(e)||!Object(K.d)(e)&&!Object(K.b)(e)?b.a.createElement(K.a,{block:e}):b.a.createElement(A,{media:{props:{block:e},component:K.a}})},$=a("4Qgc");function ee(e,t){return"".concat(e.type," ").concat(t)}t.b=function i(e){var t=e.block,e=e.displayAtOriginalSize;if(Object(f.P)(t))return b.a.createElement(n.c,{block:t});if(Object(f.F)(t)){var a=t.elements.map((e,t)=>{var a=ee(e,t);return b.a.createElement(i,{key:a,block:e,blockIndex:t})});switch(t.type){case f.b.OrderedList:return b.a.createElement("ol",{className:$.a.list},a);case f.b.UnorderedList:return b.a.createElement("ul",{className:$.a.list},a);default:return b.a.createElement("div",null)}}return Object(f.B)(t)?b.a.createElement(r,{block:t,displayAtOriginalSize:e}):Object(f.u)(t)?b.a.createElement(U,{block:t}):Object(f.D)(t)?b.a.createElement(B,{block:t}):Object(f.R)(t)?b.a.createElement(Z,{block:t}):Object(f.J)(t)?b.a.createElement(L,{block:t}):null}},dfN1:function(e,t,a){"use strict";var i=a("E+oP"),m=a.n(i),i=a("q1tI"),p=a.n(i),v=a("aJ4X"),g=a("Dcbp"),d=a("y4uf"),h=a("p8qf"),u=a("fgfG"),b=a("NbkD"),f=a("qZVj"),E=a("ofcG"),k=a("NFOE");t.a=e=>{var t,a=e.urls,i=e.info,n=Object(d.c)().logEvent,s=Object(h.c)(),o=Object(E.b)(),r=o.hydraConfigInstanceId,e=o.adPlacementConfiguration,o=a.redirectUrl,a=a.displayUrl,l=s===h.a||null==s||null===(t=s.post)||void 0===t?void 0:t.placementId,c=s!==h.a?Object(k.a)({adPlacementConfiguration:e,hydraConfigInstanceId:r,timelineObject:s.post}):{},a=m()(i)?p.a.createElement("a",{className:b.a.defaultUrl,href:o,target:"_blank",rel:"noopener"},o):function(e,t,a,i,n,s,o){var r=null!=i?i:Object(f.a)(o)?new URL(o).host:null,l=!m()(a)||!m()(r)||!m()(n),c=!m()(t)||!m()(s),d=!m()(r)||!m()(n),h=!l&&!c,u=[b.a.header];l||u.push(b.a.noFooter),s&&u.push(b.a.withImage);i=g.phoneResponsiveMaxBreakpoint,i=["(max-width: ".concat(i,"px) 100vw"),"".concat(g.postWidth-2*g.linkCardHorizontalMargin,"px")].join(", "),o=c||h?p.a.createElement("div",{className:u.join(" ")},s&&p.a.createElement(v.a,{imageResponse:s,sizes:i,className:b.a.headerBackgroundImage}),p.a.createElement("div",{className:b.a.headerGlass},p.a.createElement("span",{className:b.a.titleWrapper},h?o||e:t))):null,t=[b.a.footer];c||t.push(b.a.noHeader),s&&t.push(b.a.belowImage);n=d?p.a.createElement("div",{className:b.a.source},r,r&&n&&p.a.createElement("span",{className:b.a.divider},"|"),n):null,n=l?p.a.createElement("div",{className:t.join(" ")},a&&p.a.createElement("div",{className:b.a.description}," ",a," "),n):null;return p.a.createElement("a",{className:b.a.card,target:"_blank",href:e},o,n)}(o,null==i?void 0:i.title,null==i?void 0:i.description,null==i?void 0:i.siteName,null==i?void 0:i.author,null==i?void 0:i.poster,a);return p.a.createElement("div",{className:b.a.linkCard,onClick:l?()=>{Object(u.a)(n,l,c)}:void 0,role:"link"},a)}},fPbW:function(e,t,a){"use strict";var i=a("lSNA"),n=a.n(i),s=a("vN+2"),o=a.n(s),r=a("q1tI"),l=a.n(r),c=a("zoQI"),i=a("y4uf"),s=a("17x9"),d=a("Muyw");class h extends r.Component{constructor(){super(...arguments),n()(this,"state",{onClick:void 0}),n()(this,"openInLightbox",o.a)}componentDidMount(){this.openInLightbox=this.context.addImageToLightbox?this.context.addImageToLightbox(this.props.imageResponse):o.a}render(){var e=this.props,t=e.children,a=e.altText,e=(0,e.appContext._t)("Image");return l.a.createElement(c.a,{wrapperClassName:d.a.imageBlockButton,onClick:this.openInLightbox,label:a?"".concat(e,": ").concat(a):e},t)}}n()(h,"contextTypes",{addImageToLightbox:s.func}),t.a=Object(i.d)(h)},oU8s:function(e,t,a){"use strict";var l,i=a("3tO9"),n=a.n(i),s=a("lSNA"),o=a.n(s),r=a("q1tI"),c=a.n(r),d=a("M3r2"),h=a("aCRw"),u=a("aJ4X"),i=a("7VIw"),m=a.n(i),p=a("7wYf"),v=a("EilA"),s=a("fSeh"),g=a.n(s),b=a("zoQI"),i=a("17x9"),f=a("MzjC"),s=a("o56e"),E=a("g2Yl"),k=a("jQ5O");(a=l=l||{})[a.Center=k.a.center]="Center",a[a.Left=k.a.left]="Left",a[a.Right=k.a.right]="Right",a[a.Mobile=k.a.mobileImage]="Mobile";class C extends r.Component{constructor(){super(...arguments),o()(this,"state",{isOpen:!1,currentIndex:0,images:[]}),o()(this,"tempIndex",-1),o()(this,"getChildContext",()=>({addImageToLightbox:e=>{var t=this.state.images.length,a=this.state.images;return a.push(e),this.setState({images:a}),()=>this.openLightbox(t)}})),o()(this,"toggleLightbox",()=>{this.setState(e=>({isOpen:!e.isOpen}),()=>{this.props.adContext.sendClickADMBeacon(this.props.adm),this.props.appContext.logEvent({eventName:E.b.Photo,eventDetails:n()({placement_id:this.props.placementId},this.props.krakenEventDetails)})})}),o()(this,"renderDesktopContent",()=>{var e=this.state,t=e.currentIndex,a=e.images,i=a.length,n=t===a.length-1,s=!(0===t)&&2<=i?this.renderImage(a[t-1],l.Left):null,e=this.renderImage(a[t],l.Center),t=!n&&t+1<=i?this.renderImage(a[t+1],l.Right):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.c,{hotkey:[{key:v.b.Left,command:this.decrementImage},{key:v.b.Right,command:this.incrementImage}]}),s,e,t)}),o()(this,"renderMobileContent",()=>{var e=this.state,t=e.currentIndex,a=e.images,e=Object(p.virtualize)(m.a);return c.a.createElement(b.a,{onClick:this.toggleLightbox,label:this.props.appContext._c("Clicking on the image will expand it and open a lightbox","Close image")},c.a.createElement(e,{className:k.a.swipeableViews,containerStyle:{width:"100vw"},slideClassName:k.a.mobileSlide,slideStyle:{overflow:"visible"},index:t,slideCount:a.length,slideRenderer:e=>{var t=e.index,e=e.key;return this.renderImage(a[t],l.Mobile,e)},onChangeIndex:e=>{this.tempIndex=e},onTransitionEnd:()=>{-1!==this.tempIndex&&(this.setState({currentIndex:this.tempIndex}),this.tempIndex=-1)},overscanSlideBefore:1,overscanSlideAfter:1,resistance:!0}))}),o()(this,"renderImage",(e,t,a)=>{var i=this.state,n=i.currentIndex,s=i.images;switch(t){case l.Left:r=this.decrementImage;break;case l.Right:r=this.incrementImage;break;case l.Center:var o=n===s.length-1,r=1===s.length?this.toggleLightbox:o?this.decrementImage:this.incrementImage}i=new f.a(e).getLargestImage().width,i="".concat(i,"px");return r?c.a.createElement(b.a,{key:a,wrapperClassName:[k.a.image,t].join(" "),onClick:r,label:this.props.appContext._c("Clicking on the image will expand it and open a lightbox","Close image")},c.a.createElement(u.a,{imageResponse:e,sizes:i})):c.a.createElement("div",{key:a,className:[k.a.image,t].join(" ")},c.a.createElement(u.a,{imageResponse:e,sizes:i}))}),o()(this,"decrementImage",()=>{0!==this.state.currentIndex&&this.setState(e=>n()(n()({},e),{},{currentIndex:e.currentIndex-1}))}),o()(this,"incrementImage",()=>{this.state.currentIndex!==this.state.images.length-1&&this.setState(e=>n()(n()({},e),{},{currentIndex:e.currentIndex+1}))}),o()(this,"openLightbox",e=>{this.setState({isOpen:!0,currentIndex:e})})}render(){var e=this.state.isOpen,t=c.a.createElement(d.a,null,e=>{e=e.isMobile;return c.a.createElement(h.a,{onGlassClick:this.toggleLightbox,centerContent:!0,color:g.a.black,opacity:.85},e?this.renderMobileContent():this.renderDesktopContent())});return c.a.createElement(c.a.Fragment,null,this.props.children,e&&t)}}o()(C,"childContextTypes",{addImageToLightbox:i.func}),t.a=Object(s.b)(C,{appContext:!0,adContext:!0})},qZVj:function(e,t,a){"use strict";function i(e){if(!e)return!1;var t="%[0-9a-fA-F]{2}",a=1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"(http|https):\\/\\/":"((http|https):\\/\\/)?",i='([a-zA-Z0-9$\\-_.+!*"(),;:&=]|'.concat(t,")+@"),n="(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])",s="(".concat(n,"(\\.").concat(n,"){3})"),o="a-zA-Z0-9\\-\\_\\~",r="\\u00C0-\\u9FFF",n="([".concat(o).concat(r,"]+\\.)+([a-zA-Z]{2,})"),s="(".concat(s,"|localhost|").concat(n,")(:").concat("[0-9]+",")?"),n="".concat(o).concat(r,".:\\[\\]@!$&'()*+,;="),o="([".concat(n,"]|").concat(t,")*"),r="".concat(o,"(\\/").concat(o,")*"),o="\\?([".concat(n,"/?]|").concat(t,")*"),t="\\#([".concat(n,"/?]|").concat(t,")*");return!0===new RegExp("^".concat(a,"(").concat(i,")?").concat(s,"(\\/?(").concat(r,")?(").concat(o,")?(").concat(t,")?)?$")).test(e)}a.d(t,"a",function(){return i})},tROj:function(e,t,a){"use strict";var i,n,s;function o(e){return!!e&&!!e.type&&!!e.type&&Object.values(n).includes(e.type)}a.d(t,"c",function(){return i}),a.d(t,"b",function(){return n}),a.d(t,"a",function(){return s}),a.d(t,"d",function(){return o}),(t=i=i||{}).Youtube="youtube",t.Tumblr="tumblr",t.Flickr="flickr",t.Instagram="instagram",(t=n=n||{}).Mov="video/quicktime",t.Mp4="video/mp4",t.AppleM4v="video/x-m4v",(t=s=s||{}).User="User",t.Glass="Glass",t.DocumentVisibility="DocumentVisibility"},w2zw:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return s}),a.d(t,"c",function(){return o});var n=a("HS+D"),r=a("Cupb");function i(i,t){var a,e=o=>{var e=function(){var e,t=o.origin,a=o.source,i=o.data;if(!(i&&t&&a))return null;if(!Object(r.a)(t))return null;try{e=JSON.parse(i)}catch(e){return null}if(!e.method)return null;var n=e.method.match(/^([^:]+):(.+)$/);if(!n)return null;var s=n[1],i=n[2],n=e.args[0];return{origin:t,namespace:s,name:i,source:a,cid:e.cid,data:n}}();if(e&&e.namespace===i)return"_syn"===e.name?(a={namespace:i,source:e.source,origin:e.origin},void function(e,t,a){a=JSON.stringify({method:"".concat(i,":_method_callback_responder"),args:[a]});e.postMessage(a,t)}(e.source,e.origin,{response:"ack",cid_response:e.cid})):void(t[e.name]&&t[e.name](e.data))};return n.b.on("message",e),{handler:e,getChannelInfo:()=>a}}var s={listen:i,unlisten:function(e){n.b.off("message",e)}};function o(e,t,a){var i=e.source,n=e.target,e=e.namespace,a=JSON.stringify({method:"".concat(e,":").concat(t),args:[a]});i.postMessage(a,n)}},wWh2:function(e,t,a){"use strict";var i=a("3tO9"),h=a.n(i),n=a("lSNA"),s=a.n(n),o=a("q1tI"),T=a.n(o),E=a("dRu9"),r=a("Ynen"),l=a.n(r),c=a("tROj"),D=a("y4uf"),d=a("fSeh"),V=a.n(d),i=a("s2Hx"),n=Object(i.c)(T.a.createElement("svg",{viewBox:"0 0 24 24"},T.a.createElement("path",{d:"M17.242 4.06c.458 0 .688.554.364.878l-4.27 4.27a1.03 1.03 0 101.456 1.456l4.27-4.27a.515.515 0 01.879.364v2.45a1.03 1.03 0 002.059 0V3.03A1.03 1.03 0 0020.97 2h-6.178a1.03 1.03 0 100 2.06h2.45z"}),T.a.createElement("path",{d:"M4.06 17.242c0 .459.554.688.878.364l4.27-4.27a1.03 1.03 0 111.456 1.457l-4.27 4.269a.515.515 0 00.364.879h2.45a1.03 1.03 0 010 2.059H3.03A1.03 1.03 0 012 20.97v-6.177a1.03 1.03 0 112.06 0v2.449z"})));n.defaultProps={size:{width:24,height:24},fill:d.white};var N=n,r=Object(i.c)(T.a.createElement("svg",{viewBox:"0 0 24 24"},T.a.createElement("path",{d:"M17.793 8.906a.515.515 0 01-.364-.879l4.27-4.27a1.03 1.03 0 10-1.457-1.455l-4.269 4.27a.515.515 0 01-.879-.365V3.758a1.03 1.03 0 00-2.06 0v6.178c0 .568.462 1.03 1.03 1.03h6.178a1.03 1.03 0 100-2.06h-2.449z"}),T.a.createElement("path",{d:"M8.906 17.793a.515.515 0 00-.879-.364l-4.27 4.27a1.03 1.03 0 11-1.455-1.457l4.269-4.27a.515.515 0 00-.364-.878h-2.45a1.03 1.03 0 010-2.06h6.179c.568 0 1.03.462 1.03 1.03v6.178a1.03 1.03 0 11-2.06 0v-2.45z"})));r.defaultProps={size:{width:24,height:24},fill:d.white};var z=r,n=Object(i.c)(T.a.createElement("svg",{viewBox:"0 0 24 24"},T.a.createElement("path",{d:"M20.508 11.126a1.022 1.022 0 010 1.748L7.257 20.788C6.258 21.384 5 20.653 5 19.478V4.522c0-1.176 1.258-1.907 2.257-1.31l13.25 7.913z"})));n.defaultProps={size:{width:24,height:24},fill:d.white};var R=n,j=a("x+FT"),r=Object(i.c)(T.a.createElement("svg",{viewBox:"0 0 24 24"},T.a.createElement("path",{d:"M16.564 9.44c-.288.472-.107 1.083.17 1.561a1.998 1.998 0 01-.001 1.998c-.276.478-.457 1.09-.169 1.56.288.472.916.627 1.302.231A3.986 3.986 0 0019 12c0-1.085-.432-2.07-1.134-2.79-.386-.396-1.014-.241-1.302.23zm2.37 7.09c-.417.362-.572.972-.284 1.443.288.472.91.625 1.34.28A7.985 7.985 0 0023 12a7.985 7.985 0 00-3.01-6.253c-.43-.345-1.052-.192-1.34.28-.288.47-.133 1.08.284 1.443A5.986 5.986 0 0121 12c0 1.809-.8 3.43-2.066 4.53z"}),T.a.createElement("mask",{id:"a",width:"13",height:"17",x:"2",y:"3",fill:"#000",maskUnits:"userSpaceOnUse"},T.a.createElement("path",{fill:"#fff",d:"M2 3h13v17H2z"}),T.a.createElement("path",{d:"M8.261 15.06a1 1 0 00-.583-.188H5a1 1 0 01-1-1V10.12a1 1 0 011-1h2.678a1 1 0 00.584-.188l3.946-2.837A.5.5 0 0113 6.5v10.991a.5.5 0 01-.792.406L8.261 15.06z"})),T.a.createElement("path",{d:"M12.208 6.095l1.168 1.624-1.168-1.624zm0 11.803l1.168-1.624-1.168 1.624zM8.262 8.932L7.094 7.308l1.168 1.624zm0 6.128l-1.168 1.624L8.26 15.06zm-.584-2.188H5v4h2.678v-4zm-2.678 0a1 1 0 011 1H2a3 3 0 003 3v-4zm1 1V10.12H2v3.752h4zm0-3.752a1 1 0 01-1 1v-4a3 3 0 00-3 3h4zm-1 1h2.678v-4H5v4zm4.43-.564l3.946-2.837L11.04 4.47 7.094 7.308l2.335 3.248zm3.946-2.837C12.383 8.432 11 7.723 11 6.5h4c0-2.037-2.306-3.219-3.96-2.03l2.336 3.248zM11 6.5v10.991h4V6.501h-4zm0 10.991c0-1.222 1.383-1.931 2.376-1.218l-2.335 3.248c1.653 1.189 3.959.007 3.959-2.03h-4zm2.376-1.218l-3.947-2.838-2.335 3.248 3.947 2.838 2.335-3.248zM7.678 11.12a3 3 0 001.751-.564L7.094 7.308a1 1 0 01.584-.188v4zm0 5.752a1 1 0 01-.584-.188l2.335-3.248a3 3 0 00-1.751-.564v4z",mask:"url(#a)"})));r.defaultProps={size:{width:24,height:24},fill:d.white};var B=r,n=Object(i.c)(T.a.createElement("svg",{viewBox:"0 0 24 24"},T.a.createElement("mask",{id:"a",width:"13",height:"17",x:"2",y:"3",fill:"#000",maskUnits:"userSpaceOnUse"},T.a.createElement("path",{fill:"#fff",d:"M2 3h13v17H2z"}),T.a.createElement("path",{d:"M8.261 15.06a1 1 0 00-.583-.188H5a1 1 0 01-1-1V10.12a1 1 0 011-1h2.678a1 1 0 00.584-.188l3.946-2.837A.5.5 0 0113 6.5v10.991a.5.5 0 01-.792.406L8.261 15.06z"})),T.a.createElement("path",{d:"M12.208 6.095l1.168 1.624-1.168-1.624zm0 11.803l1.168-1.624-1.168 1.624zM8.262 8.932L7.094 7.308l1.168 1.624zm0 6.128l-1.168 1.624L8.26 15.06zm-.584-2.188H5v4h2.678v-4zm-2.678 0a1 1 0 011 1H2a3 3 0 003 3v-4zm1 1V10.12H2v3.752h4zm0-3.752a1 1 0 01-1 1v-4a3 3 0 00-3 3h4zm-1 1h2.678v-4H5v4zm4.43-.564l3.946-2.837L11.04 4.47 7.094 7.308l2.335 3.248zm3.946-2.837C12.383 8.432 11 7.723 11 6.5h4c0-2.037-2.306-3.219-3.96-2.03l2.336 3.248zM11 6.5v10.991h4V6.501h-4zm0 10.991c0-1.222 1.383-1.931 2.376-1.218l-2.335 3.248c1.653 1.189 3.959.007 3.959-2.03h-4zm2.376-1.218l-3.947-2.838-2.335 3.248 3.947 2.838 2.335-3.248zM7.678 11.12a3 3 0 001.751-.564L7.094 7.308a1 1 0 01.584-.188v4zm0 5.752a1 1 0 01-.584-.188l2.335-3.248a3 3 0 00-1.751-.564v4z",mask:"url(#a)"}),T.a.createElement("path",{d:"M22.77 9.23a.784.784 0 00-1.108 0l-1.108 1.108a.784.784 0 01-1.108 0L18.338 9.23a.784.784 0 00-1.108 1.108l1.108 1.108a.784.784 0 010 1.108l-1.108 1.108a.784.784 0 001.108 1.108l1.108-1.108a.784.784 0 011.108 0l1.108 1.108a.784.784 0 001.108-1.108l-1.108-1.108a.784.784 0 010-1.108l1.108-1.108a.784.784 0 000-1.108z"})));n.defaultProps={size:{width:24,height:24},fill:d.white};var L=n,r=Object(i.c)(T.a.createElement("svg",{viewBox:"0 0 20 15"},T.a.createElement("path",{d:"M18.5 0H1.6C.7 0 0 .7 0 1.5v12.1c0 .8.7 1.4 1.6 1.4h16.9c.9 0 1.6-.6 1.6-1.5v-12C20 .7 19.3 0 18.5 0zM9.2 11H7.6V8h-3v3H3V4h1.6v2.7h2.9V4h1.6c.1 0 .1 7 .1 7zm7.6-2.1c-.1.4-.3.8-.6 1.1-.3.3-.6.6-1 .7-.4.2-.9.3-1.5.3h-3.1V4h3.1c.5 0 .9.1 1.3.2s.8.4 1 .6c.3.3.5.6.7 1.1.2.5.3 1 .3 1.6 0 .5-.1.9-.2 1.4zm-1.8-3c-.2-.2-.4-.4-.6-.5-.3-.1-.6-.2-1-.2h-1.1v4.4h1.4c.2 0 .5 0 .7-.1.2-.1.4-.2.6-.4.2-.2.3-.4.4-.7.1-.3.2-.6.2-1s0-.7-.1-1c-.3 0-.4-.3-.5-.5z"})));r.defaultProps={size:{width:24,height:24},fill:d.white};function k(e){var t=e.filmstrip,a=e.onClickToggleFullScreen,i=e.onClickPlay,n=e.onClickPause,s=e.onClickVolume,o=e.onClickHd,r=e.isHdAvailable,l=e.isFullScreen,c=e.isHd,d=e.isMuted,h=e.isPlaying,u=e.isInitialOverlay,m=e.time,p=e.handlePosition,v=e.handleHoverPosition,g=e.onMouseMoveSeekbarWrapper,b=e.onMouseLeaveSeekbarWrapper,f=e.onMouseDownSeekbarWrapper,E=e.onMouseUpSeekbarWrapper,k=e.onClickSeekHandleHover,C=e.buffered,y=e.seekHover,w=e.frameTime,S=e.onSeekBarRef,I=e.thumbnailStyles,M=e.useLimitedControls,P=e.soundDisabled,x=e.showMuteControlOnly,O=Object(D.c)()._c,e=M&&{height:40,width:40},e=!P&&T.a.createElement(U.a,{className:W.a.control,onClick:s,label:O("Video controls","Toggle sound")},d?T.a.createElement(L,{size:e}):T.a.createElement(B,{size:e})),u={display:u?"none":void 0};return M||x?T.a.createElement("div",{className:Object(F.a)([W.a.controls,W.a.limited]),style:u},e):T.a.createElement("div",{className:W.a.controls,style:u},h?T.a.createElement(U.a,{className:W.a.control,onClick:n,label:O("Video controls","Pause")},T.a.createElement(j.a,null)):T.a.createElement(U.a,{className:W.a.control,onClick:i,label:O("Video controls","Play")},T.a.createElement(R,null)),T.a.createElement("div",{className:W.a.seekBarWrapper,onMouseMove:g,onMouseLeave:b,onMouseDown:f,onMouseUp:E,role:"progressbar"},T.a.createElement("div",{className:W.a.seekBar,ref:S},T.a.createElement("div",{className:W.a.buffer,style:{width:"".concat(C,"%")}}),T.a.createElement("div",{className:W.a.seekBarProgress,style:{width:p}}),T.a.createElement("div",{className:"".concat(W.a.seekHandle," ").concat(y?W.a.onHover:""),style:{left:p}}),T.a.createElement("div",{className:Object(F.a)({[W.a.seekHandleHover]:!0,[W.a.onHover]:y}),style:y?{visibility:"visible",left:"".concat(v,"px")}:void 0,onClick:k,role:"button"},t&&T.a.createElement("div",{className:W.a.frameThumbnail,style:I},T.a.createElement("div",{className:W.a.thumbnailTime},w))))),T.a.createElement("div",{className:W.a.time}," ",m||"--:--"," "),r&&T.a.createElement(U.a,{className:W.a.control,onClick:o,label:O("Video controls","Toggle high definition")},T.a.createElement(A,{fill:c?V.a.paletteWhite:V.a.transparentWhite65})),T.a.createElement(U.a,{className:W.a.control,onClick:a,label:O("Video controls","Toggle full screen")},l?T.a.createElement(z,{"data-testid":"collapse-icon",size:{width:22,height:22}}):T.a.createElement(N,{"data-testid":"fullscreen-icon",size:{width:22,height:22}})),e)}function f(e){var t=e.isPlaying,a=e.showPoof,i=e.isLoading,n=e.isInitialOverlay,e=e.onAnimationEndPoof;return T.a.createElement("div",{className:"".concat(C.a.overlayPoof," ").concat(t?C.a.isPlaying:"")},n&&T.a.createElement(g.a,{withCircle:!1,size:{width:24,height:24},viewBox:"18 15 13 16"}),a&&T.a.createElement("div",{className:C.a.overlay,onAnimationEnd:e},t?T.a.createElement(g.a,{withCircle:!1,size:{width:24,height:24},viewBox:"18 15 13 16"}):T.a.createElement(j.a,{size:{width:24,height:24}})),i&&T.a.createElement("div",{className:C.a.loading},T.a.createElement(b.b,{small:!0})))}var u,m,p,v,A=r,U=a("zoQI"),F=a("Jq/n"),W=a("gU3L"),g=a("F6jV"),b=a("yBJ7"),C=a("j8fp"),y=a("BwKz"),w=a("4S20"),n=a("SwI5");(r=u=u||{}).Mute="video_mute",r.Unmute="video_unmute",r.Play="video_play",r.Autoplay="video_auto_play",r.Pause="video_pause",r.Autopause="video_auto_stop",r.Loop="video_loop",r.Scrub="video_scrub_end",r.Fullscreen="video_fullscreen",(m=m||{}).Start="video_start",(r=p=p||{}).Quartile25="video_quartile_25",r.Quartile50="video_quartile_50",r.Quartile75="video_quartile_75",r.Quartile100="video_quartile_100",(r=_=_||{}).View1Second="video_view_1_second",r.View2Seconds="video_view_2_second",r.View3Seconds="video_view_3_second",r.View10Seconds="video_view_10_second",(r=v=v||{}).PositionChange="position_change",r.Reset="reset";var S={[p.Quartile25]:.25,[p.Quartile50]:.5,[p.Quartile75]:.75,[p.Quartile100]:.98},I={[_.View1Second]:1,[_.View2Seconds]:2,[_.View3Seconds]:3,[_.View10Seconds]:10},M=a("Ya+1"),P="webkitbeginfullscreen",x=class{constructor(e,t,a){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};s()(this,"isFullscreen",!1),s()(this,"isAutoplay",()=>this.videoEl.autoplay),s()(this,"isMuted",()=>this.videoEl.muted),s()(this,"getTimePosition",()=>this.videoEl.currentTime),s()(this,"getMaxDuration",()=>this.videoEl.duration||0),s()(this,"handleMute",()=>this.stateChangeFn(u.Mute)),s()(this,"handleUnmute",()=>this.stateChangeFn(u.Unmute)),s()(this,"handleLoop",()=>this.stateChangeFn(u.Loop)),s()(this,"handleScrub",()=>this.stateChangeFn(u.Scrub)),s()(this,"handleFullscreen",()=>this.stateChangeFn(u.Fullscreen)),s()(this,"handlePause",()=>this.stateChangeFn(this.isAutoplay()?u.Autopause:u.Pause)),s()(this,"handlePlay",()=>this.stateChangeFn(this.isAutoplay()?u.Autoplay:u.Play)),s()(this,"handleTimeUpdate",()=>this.stateChangeFn(v.PositionChange)),this.videoEl=e,this.stateChangeFn=t,this.isInView=a,this.options=i,this.lastKnownIsMuted=this.videoEl.muted,this.addEventListeners()}addEventListeners(){this.videoEl.addEventListener("timeupdate",()=>this.handleTimeUpdate()),this.videoEl.addEventListener("play",()=>this.handlePlay()),this.videoEl.addEventListener("pause",()=>this.handlePause()),this.videoEl.addEventListener("ended",()=>{this.nextSeekedIsLoop=!0,this.options.doesVideoLoop&&this.handleLoop()}),this.videoEl.addEventListener("seeked",()=>{this.nextSeekedIsLoop&&0===Math.floor(this.videoEl.currentTime)?this.nextSeekedIsLoop=!1:this.handleScrub()}),["fullscreenchange","webkitfullscreenchange",P].forEach(e=>{this.videoEl.addEventListener(e,()=>{e!==P&&this.isFullscreen?this.isFullscreen=!1:(this.isFullscreen=!0,this.handleFullscreen())})}),this.videoEl.addEventListener("volumechange",()=>{var e=!this.lastKnownIsMuted&&this.isMuted(),t=this.lastKnownIsMuted&&!this.isMuted();this.lastKnownIsMuted=this.isMuted(),e?this.handleMute():t&&this.handleUnmute()})}},O={a:0,c:1,p:50},q=class{constructor(e,t){s()(this,"beacons",[]),s()(this,"lastMetReqTime",0),s()(this,"totalTimeMeetingReqs",0),this.ruleKey=e,this.reqAudioOn=!!t.a,this.reqContinuous=!!t.c,this.reqDuration=t.d,this.reqPercentInView=t.p||0,this.isDurationCheckpoint=t.isDurationCheckpoint}reset(){this.totalTimeMeetingReqs=0}setBeacons(e){this.beacons=e}fireBeacons(){this.hasFiredBeacons||(this.beacons.forEach(e=>e()),this.isDurationCheckpoint||(this.hasFiredBeacons=!0))}checkRule(e){if(!this.audioCheck(e)||!this.inViewCheck(e))return this.reqContinuous&&(this.lastMetReqTime=null),!1;var t=e.getTimePosition();null===this.lastMetReqTime?this.totalTimeMeetingReqs=0:this.totalTimeMeetingReqs+=t-this.lastMetReqTime;e=this.durationCheck(t);return this.lastMetReqTime=t,e}audioCheck(e){return!(this.reqAudioOn&&e.isMuted())}inViewCheck(e){return!(0<this.reqPercentInView&&!e.isInView())}durationCheck(e){if(!this.reqDuration)return!0;if(this.reqContinuous)return this.totalTimeMeetingReqs>=this.reqDuration;var t=e===this.reqDuration,a=this.lastMetReqTime===this.reqDuration,i=t&&!a,t=e>this.reqDuration,a=Number(this.lastMetReqTime)<this.reqDuration,e=e-Number(this.lastMetReqTime)<1;return i||t&&a&&e}},H=class{constructor(e,t){if(s()(this,"setRulesFromDuration",a=>{this.rules=[...Object.keys(I).map(e=>{var t=new q(e,h()(h()({},O),{},{d:I[e]}));return t.beacons=[()=>this.beaconDefinition(e)],t}),...Object.keys(S).map(e=>{var t=new q(e,{d:S[e]*a,isDurationCheckpoint:!0});return t.beacons=[()=>this.beaconDefinition(e)],t})]}),!e)throw new Error("RuleEngine cannot be instantiated without beaconDefinition! Check the placement id of the viewability tracker.");this.beaconDefinition=e,this.setRulesFromDuration(t)}updateMaxDuration(e){this.setRulesFromDuration(e)}checkRules(t){this.rules.forEach(e=>e.checkRule(t)&&e.fireBeacons())}resetContinuousRules(){this.resetRules(e=>!!e.reqContinuous)}resetAudioOnContinuousRules(){this.resetRules(e=>!!e.reqContinuous&&e.reqAudioOn)}resetRules(t){this.rules.forEach(e=>t(e)&&e.reset())}},_=a("o56e");class G extends o.Component{constructor(){super(...arguments),s()(this,"lastEventTime",0),s()(this,"totalPlayTime",0),s()(this,"totalUniquePlayedSeconds",new Set),s()(this,"provideEventDetails",M.a),s()(this,"updateTotalPlayTime",()=>{var e=this.videoContext.getTimePosition();this.totalUniquePlayedSeconds.size<Math.ceil(this.videoContext.getMaxDuration())&&this.totalUniquePlayedSeconds.add(Math.floor(e));var t=e-this.lastEventTime;this.lastEventTime=e,0<t&&t<1&&(this.totalPlayTime+=t)}),s()(this,"sendAnalyticsEvent",(e,t)=>{var a=this.props,i=a.videoRef,n=a.timelineObject;i&&(a=i.currentTime,i=i.duration,this.props.appContext.logEvent({eventName:e,eventDetails:h()(h()({},this.provideEventDetails(n,!0)),{},{is_ad:!0,placement_id:n.placementId,video:{current_position:a,total_length:i,timestamp:Date.now(),total_play_length:this.totalPlayTime,total_unique_play_length:this.totalUniquePlayedSeconds.size}})},{sendPayloadImmediately:t}))}),s()(this,"getBeaconDefinitions",()=>{if(this.props.timelineObject.placementId&&""!==this.props.timelineObject.placementId)return this.sendAnalyticsEvent}),s()(this,"sendUnloadEvent",()=>{var e,t;!this.props.videoRef||null!==(e=this.props.videoRef)&&void 0!==e&&e.paused||null===(t=this.getBeaconDefinitions())||void 0===t||t(u.Autopause,!0)}),s()(this,"updateRulesEngineDuration",()=>{this.props.videoRef&&this.rulesEngine.updateMaxDuration(this.props.videoRef.duration)})}componentDidUpdate(e){!e.videoRef&&this.props.videoRef&&this.setVideoContextAndRulesEngine(this.props.videoRef)}componentDidMount(){this.props.videoRef&&this.setVideoContextAndRulesEngine(this.props.videoRef)}componentWillUnmount(){var e;null===(e=this.props.videoRef)||void 0===e||e.removeEventListener("loadedmetadata",this.updateRulesEngineDuration),window.removeEventListener("beforeunload",this.sendUnloadEvent)}render(){return null}stateChanged(e){var t;switch(e){case u.Mute:case u.Unmute:case u.Loop:case u.Scrub:case u.Fullscreen:this.fireBeacon(e);break;case u.Play:case u.Autoplay:this.hasStarted||(this.hasStarted=!0,this.fireBeacon(m.Start)),this.fireBeacon(e);break;case u.Pause:case u.Autopause:this.rulesEngine.resetContinuousRules(),this.fireBeacon(e);break;case v.Reset:this.rulesEngine.resetRules(()=>!0);break;case v.PositionChange:null!==(t=this.props.videoRef)&&void 0!==t&&t.paused||this.updateTotalPlayTime(),this.rulesEngine.checkRules(this.videoContext);break;default:this.rulesEngine.checkRules(this.videoContext)}}fireBeacon(e){var t;null===(t=this.getBeaconDefinitions())||void 0===t||t(e)}setVideoContextAndRulesEngine(e){var t=this.props,a=t.isInView,t=t.videoContextOptions;this.videoContext=new x(e,e=>this.stateChanged(e),a,t);t=this.getBeaconDefinitions();if(!t)throw new TypeError("Placement ID must be available");this.rulesEngine=new H(t,e.duration),e.addEventListener("loadedmetadata",this.updateRulesEngineDuration),window.addEventListener("beforeunload",this.sendUnloadEvent)}}var J=Object(_.b)(G,{appContext:!0,adContext:!0}),i=Object(i.c)(T.a.createElement("svg",{viewBox:"2 2 20 22"},T.a.createElement("path",{fillRule:"evenodd",d:"M5 12c0-.289 1.609-.24 1.609 0a5.39 5.39 0 105.39-5.39c-3.041 0-3.638 1.811-3.404 1.588l1.732 1.535-4.556.504L5.734 5.8l1.373 1.205A6.965 6.965 0 0112 5a7 7 0 11-7 7z"})));i.defaultProps={size:{width:40,height:40},fill:d.white};var X=i,Y=a("MzjC"),i=a("Dcbp"),Q=a.n(i),K=a("InIc");class Z extends o.Component{constructor(){super(...arguments),s()(this,"state",{playing:!1,autoplay:!1,isMuted:!0,showControls:!0,time:"",isHd:!1,isHdAvailable:!1,seekHover:!1,handleHoverPosition:0,handlePosition:"0%",showHdIcon:!1,loading:!1,showPoof:!1,isInitialOverlay:!0,buffered:0,frameTime:"",thumbnailCount:10,filmstripOffset:0,hasPausedSource:null,isSeeking:!1,isFullScreen:!1,videoEl:null,isVideoIntersecting:!1,hasClickedVideoOrMuteControl:!1,showMuteControlOnly:!0}),s()(this,"fscreen",l.a),s()(this,"videoContainerRef",T.a.createRef()),s()(this,"getVideoElementProps",e=>{var t=this.props,a=t.media,i=t.poster,n=t.isVideoSponsoredDay,s=t.appContext._t,o=t.minHeight,r=void 0===o?250:o,l=t.videoElementProps,c=void 0===l?{}:l,d=this.state,o=d.playing,t=d.autoplay,l=d.isMuted,d=d.isFullScreen;return h()(h()({muted:l,autoPlay:t,style:{minHeight:a.height?Math.min(a.height,r):r},role:"button",crossOrigin:"anonymous",playsInline:!0,ref:this.setVideoEl,onEnded:this.onEnded,onTouchEnd:this.onTouchEnd,poster:i&&new Y.a(i).getOriginalSourceClosestToWidth(Math.min(e,Q.a.postWidth)).url},this.shouldShowCustomControls()?{role:"button","aria-label":s(o?"Pause":"Play"),onClick:this.onVideoClick,onLoadedData:this.getVideoDurationInMinSec,onWaiting:this.onVideoWaiting,onCanPlayThrough:this.hideLoading,onPlaying:this.hideLoading,onSeeking:this.hideLoading,onSeeked:this.hideLoading,onVolumeChange:d?this.onVolumeChangeFullScreen:void 0,onTimeUpdate:this.onTimeUpdateVideo,onProgress:this.onProgressVideo}:{controls:!n,controlsList:"nodownload"}),c)}),s()(this,"renderVideoControls",()=>{var e=this.props,t=e.filmstrip,a=e.soundDisabled,i=e.isVideoSponsoredDay,n=e.appContext._t,s=this.state,o=s.isHd,r=s.time,l=s.playing,c=s.isMuted,d=s.isInitialOverlay,h=s.isHdAvailable,u=s.isFullScreen,m=s.handlePosition,p=s.handleHoverPosition,v=s.buffered,g=s.seekHover,b=s.frameTime,f=s.isVideoFinished,e=s.videoEl,s=s.showMuteControlOnly;return T.a.createElement(T.a.Fragment,null,T.a.createElement(k,{onClickToggleFullScreen:this.onClickToggleFullScreen,onClickPlay:this.onClickPlay,onClickPause:this.onClickPause,onClickVolume:this.onClickVolume,onClickHd:this.onClickHd,isFullScreen:u,isHdAvailable:h,isHd:o,isMuted:c,isPlaying:l,time:r,isInitialOverlay:d,handlePosition:m,handleHoverPosition:p,buffered:v,seekHover:g,frameTime:b,onMouseMoveSeekbarWrapper:this.onMouseMoveSeekbarWrapper,onMouseLeaveSeekbarWrapper:this.onMouseLeaveSeekbarWrapper,onMouseDownSeekbarWrapper:this.onMouseDownSeekbarWrapper,onMouseUpSeekbarWrapper:this.onMouseUpSeekbarWrapper,onClickSeekHandleHover:this.onClickSeekHandleHover,filmstrip:t,onSeekBarRef:this.setSeekBarRef,thumbnailStyles:this.getThumbnailStyles(),useLimitedControls:i||void 0,soundDisabled:a,showMuteControlOnly:s}),i&&T.a.createElement(E.f,{in:f&&(null==e?void 0:e.duration)===(null==e?void 0:e.currentTime),timeout:200,mountOnEnter:!0,unmountOnExit:!0},e=>T.a.createElement("div",{className:Object(F.a)({[K.a.replayOverlay]:!0,[K.a.replayOut]:[E.b,E.d,E.c].includes(e)}),style:{transition:"opacity ".concat(200,"ms")}},T.a.createElement(U.a,{label:n("Replay video"),wrapperClassName:K.a.replayButton,onClick:this.onReplayVideoClick},T.a.createElement(X,{size:{height:65,width:65},fill:V.a.white})))))}),s()(this,"shouldShowCustomControls",()=>this.props.isVideoSponsoredDay||!matchMedia("(hover: none)").matches),s()(this,"setVideoEl",e=>this.setState({videoEl:e})),s()(this,"setSeekBarRef",e=>this.seekBar=e),s()(this,"playVideo",()=>{var e;return null===(e=this.state.videoEl)||void 0===e?void 0:e.play().catch(()=>this.setState({playing:!1}))}),s()(this,"pauseVideo",()=>{var e;return null===(e=this.state.videoEl)||void 0===e?void 0:e.pause()}),s()(this,"onClickPause",()=>this.onUXTriggerPause(c.a.User,!1)),s()(this,"onClickPlay",()=>this.onUXTriggerPlay(!1)),s()(this,"onUXTriggerPause",(e,t)=>this.setState({hasPausedSource:e,autoplay:t,playing:!1})),s()(this,"onUXTriggerPlay",e=>this.setState({autoplay:e,playing:!0,hasPausedSource:null})),s()(this,"onClickVolume",e=>{e.preventDefault(),e.stopPropagation(),this.setState(e=>{var t=e.isMuted,e=e.videoEl;return t&&e&&!e.volume&&(e.volume=1),{isMuted:!t,hasClickedVideoOrMuteControl:!0}})}),s()(this,"onVolumeChangeFullScreen",e=>this.setState({isMuted:e.currentTarget.muted||!e.currentTarget.volume})),s()(this,"onMouseEnterVideo",()=>this.setState({showControls:!0,showMuteControlOnly:!1})),s()(this,"onMouseLeaveVideo",()=>this.setState(e=>({showControls:!e.hasClickedVideoOrMuteControl,showMuteControlOnly:!e.hasClickedVideoOrMuteControl}))),s()(this,"onAnimationEndPoof",()=>this.setState({showPoof:!1})),s()(this,"onEnded",()=>{this.setState({isVideoFinished:!0}),this.props.disableAutolooping||this.resetVideoPosition(!0)}),s()(this,"onTouchEnd",()=>this.setState({autoplay:!1})),s()(this,"onClickHd",()=>this.setState(e=>({isHd:!e.isHd}))),s()(this,"onVideoClick",()=>!this.props.isVideoSponsoredDay&&this.setState(e=>({playing:!e.playing,autoplay:!1,showPoof:!0,isInitialOverlay:!1,hasPausedSource:e.playing?c.a.User:null,hasClickedVideoOrMuteControl:!0}))),s()(this,"onVideoWaiting",()=>this.setState({loading:!0})),s()(this,"hideLoading",()=>this.setState({loading:!1})),s()(this,"getVideoDurationInMinSec",()=>this.state.videoEl&&this.setState({time:this.formatVideoTime(this.state.videoEl.duration)})),s()(this,"formatVideoTime",e=>{var t=Math.floor(e/60),e=Math.floor(e%60);return"".concat(t,":").concat(e<10?"0".concat(e):e)}),s()(this,"isVideoInView",()=>this.state.isVideoIntersecting),s()(this,"setPlaybackPosition",e=>{var t=this.state.videoEl,e=((null==t?void 0:t.duration)||0)*e;this.setState(e=>({handlePosition:"".concat(e.handleHoverPosition,"px")})),t&&(t.currentTime=e)}),s()(this,"onMouseMoveSeekbarWrapper",e=>{this.setState({seekHover:!0});var t=this.state,a=t.isSeeking,i=t.videoEl,n=t.thumbnailCount,s=e.currentTarget.firstElementChild.getBoundingClientRect().width,o=Math.abs(Math.round(e.clientX-e.currentTarget.firstElementChild.getBoundingClientRect().left));o<0||s<o||(e=100*(t=o/s),s=Math.floor(t*((null==i?void 0:i.duration)||0)),i=100/(n-1),i=Math.floor(e/n)*i,this.setState({handleHoverPosition:o,filmstripOffset:i}),this.updateFrameTime(s),a&&this.setPlaybackPosition(t))}),s()(this,"updateFrameTime",e=>this.setState({frameTime:this.formatVideoTime(e)})),s()(this,"onMouseDownSeekbarWrapper",()=>this.setState({isSeeking:!0})),s()(this,"onMouseUpSeekbarWrapper",()=>this.setState({isSeeking:!1})),s()(this,"onMouseLeaveSeekbarWrapper",()=>this.setState({seekHover:!1,isSeeking:!1})),s()(this,"onClickSeekHandleHover",e=>{e=(e.clientX-e.currentTarget.parentElement.getBoundingClientRect().left)/this.seekBar.getBoundingClientRect().width;this.setPlaybackPosition(e)}),s()(this,"getThumbnailStyles",()=>{var e=this.props.filmstrip,t=this.state,a=t.thumbnailCount,i=t.filmstripOffset;if(!e)return{};var n=e.height,t=e.width,e=e.url,t=.35*t/a,n=.35*n;return{top:-(10+n),left:-t/2+5,width:"".concat(t,"px"),height:"".concat(n,"px"),backgroundImage:"url(".concat(e,")"),backgroundSize:"".concat(t*a,"px ").concat(n,"px"),backgroundPosition:"".concat(i,"% 0%")}}),s()(this,"onTimeUpdateVideo",()=>{var e=this.state,t=e.showControls,e=e.videoEl;t&&e&&(t=e.duration,e=e.currentTime,this.setState({handlePosition:"".concat(e/t*100,"%"),time:this.formatVideoTime(t-e)}))}),s()(this,"onProgressVideo",()=>{var e=this.state.videoEl;if(e){var t=e.duration,a=e.buffered,i=e.currentTime;if(0<t)for(var n=0;n<a.length;n+=1)if(a.start(a.length-1-n)<=i){var s=a.end(a.length-1-n);this.setState({buffered:s/t*100});break}}}),s()(this,"onClickToggleFullScreen",()=>{var e;this.state.isFullScreen?this.fscreen.exitFullscreen():(this.setViewportResizeRender(w.a.Disable),this.fscreen.requestFullscreen(null===(e=this.videoContainerRef)||void 0===e?void 0:e.current),this.setState({isFullScreen:!0},()=>{this.fscreen.addEventListener("fullscreenchange",this.onFullScreenExit)}))}),s()(this,"onFullScreenExit",()=>{this.fscreen.fullscreenElement||this.setState({isFullScreen:!1},()=>{this.setViewportResizeRender(w.a.Enable),this.fscreen.removeEventListener("fullscreenchange",this.onFullScreenExit)})}),s()(this,"onReplayVideoClick",e=>{null==e||e.stopPropagation(),null==e||e.preventDefault(),this.resetVideoPosition(!1)}),s()(this,"resetVideoPosition",e=>this.setState({autoplay:e,handlePosition:"0%",isVideoFinished:!1,playing:!0},()=>{this.state.videoEl&&(this.state.videoEl.currentTime=0,this.playVideo())})),s()(this,"getMediaType",()=>{var e=this.props.media;return e.type===c.b.Mov?void 0:e.type}),s()(this,"onIntersectionObserverChange",e=>{var s=e.isIntersecting;return this.setState(e=>{var t=e.playing,a=e.isMuted,i=e.hasPausedSource,n=e.isVideoFinished,e=e.autoplay,n=this.props.showsDockMediaButton&&t&&!a?t:s&&!i&&!n;return{playing:n,autoplay:t!==n||e,isInitialOverlay:!1,isVideoIntersecting:s}})}),s()(this,"onVisibilityChange",()=>{var e=this.state,t=e.playing,e=e.hasPausedSource;"visible"===document.visibilityState?t||e!==c.a.DocumentVisibility||this.onUXTriggerPlay(!0):t&&this.onUXTriggerPause(c.a.DocumentVisibility,!0)})}componentDidMount(){window.addEventListener("visibilitychange",this.onVisibilityChange),this.numGlassContextOnMount=this.props.numGlassOpenContext.numGlassOpen}componentWillUnmount(){window.removeEventListener("visibilitychange",this.onVisibilityChange)}componentDidUpdate(e,t){var a=this.state,i=a.playing,n=a.isMuted,s=a.hasPausedSource,o=this.props,a=o.isDocked,o=o.numGlassOpenContext.numGlassOpen;"setComponentToAutoDock"in this.context&&this.context.setComponentToAutoDock(!n&&i),i&&this.numGlassContextOnMount<o?this.onUXTriggerPause(c.a.Glass,!0):!i&&s===c.a.Glass&&this.numGlassContextOnMount>=o&&this.onUXTriggerPlay(!0),!!t.playing!=!!i&&(i?this.playVideo():this.pauseVideo()),e.isDocked&&!a&&this.onClickPause()}render(){var e=this.props,i=e.media,n=e.isDocked,s=e.hasNoMaxUndockedHeight,o=e.isVideoSponsoredDay,r=e.playerStyle,l=e.timelineObject,c=e.useViewabilityTracker,d=e.appContext._t,e=this.state,h=e.playing,u=e.showPoof,m=e.loading,p=e.isInitialOverlay,v=e.showControls,g=e.videoEl,b=e.isFullScreen;return T.a.createElement(w.c,null,e=>{var t=e.width,a=e.setViewportResizeRender,e=Object(F.a)({[K.a.videoPlayer]:!0,[K.a.hasNoMaxUndockedHeight]:s,[K.a.isDocked]:n,[K.a.isFullScreen]:b});return this.setViewportResizeRender=a,T.a.createElement(y.a,{onChange:this.onIntersectionObserverChange,threshold:.5},T.a.createElement("div",{className:e,role:"application","aria-label":d("Video Player"),style:r},T.a.createElement("div",{ref:this.videoContainerRef,onMouseEnter:this.onMouseEnterVideo,onMouseLeave:this.onMouseLeaveVideo},T.a.createElement("video",this.getVideoElementProps(t),T.a.createElement("source",{src:i.url,type:this.getMediaType()})),this.shouldShowCustomControls()&&T.a.createElement(T.a.Fragment,null,T.a.createElement(f,{isPlaying:h,showPoof:u,isLoading:m,isInitialOverlay:p,onAnimationEndPoof:this.onAnimationEndPoof}),(o||v)&&this.renderVideoControls())),c&&l&&T.a.createElement(J,{videoRef:g,isInView:this.isVideoInView,timelineObject:l,videoContextOptions:{doesVideoLoop:!this.props.disableAutolooping,trackPauseAsAutoStop:o}})))})}}s()(Z,"contextType",n.a),t.a=Object(_.b)(Z,{appContext:!0,numGlassOpenContext:!0})},wtI5:function(e,t,a){"use strict";var i=a("q1tI"),n=a.n(i),i=a("afeb"),s=a("OPDf"),o=a("I1NK"),r=n.a.createElement("div",{className:o.a.arrow},n.a.createElement(i.a,{size:{width:15,height:15}})),l=n.a.createElement("div",{className:o.a.line});t.a=()=>n.a.createElement("div",{className:o.a.container},l,r,n.a.createElement("div",null,n.a.createElement(s.d,{comment:"The text for the 'teaser line' that separates the free content from the membership-only content"},"Teaser")),r,l)},"x+FT":function(e,t,a){"use strict";var i=a("q1tI"),n=a.n(i),i=a("s2Hx"),a=a("fSeh"),n=Object(i.c)(n.a.createElement("svg",{viewBox:"0 0 24 24"},n.a.createElement("rect",{width:"4",height:"16",x:"15",y:"4",rx:"1"}),n.a.createElement("rect",{width:"4",height:"16",x:"5",y:"4",rx:"1"})));n.defaultProps={size:{width:24,height:24},fill:a.white},t.a=n},yvvX:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var i=e=>e.resources[0]}}]);

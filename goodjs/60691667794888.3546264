!function(){"use strict";var a={n:function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,{a:n}),n},d:function(e,n){for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}},e=jQuery,c=a.n(e),s=Roblox;function t(e){var n=new(c().Deferred);return s.Hybrid.Game.launchGame(e,function(){n.resolve(e)}),n}var n,o,r={joinMultiplayerGame:function(e){var n=!0===e.isPlayTogetherGame;return t({requestType:s.Hybrid.Game.LAUNCH_MODES.SIMPLE_GAME,placeId:e.placeId.toString(),isPlayTogetherGame:n,browserTrackerId:s.Cookies.getBrowserTrackerId()})},followPlayerIntoGame:function(e){return t({requestType:s.Hybrid.Game.LAUNCH_MODES.FOLLOW_USER,userId:e.userId.toString(),browserTrackerId:s.Cookies.getBrowserTrackerId()})},joinGameInstance:function(e){var n=!0===e.isPlayTogetherGame;return t({requestType:s.Hybrid.Game.LAUNCH_MODES.GAME_INSTANCE,placeId:e.placeId.toString(),instanceId:e.gameId,isPlayTogetherGame:n,browserTrackerId:s.Cookies.getBrowserTrackerId()})},joinPrivateGame:function(e){return t({requestType:s.Hybrid.Game.LAUNCH_MODES.PRIVATE_SERVER,placeId:e.placeId.toString(),accessCode:e.accessCode,browserTrackerId:s.Cookies.getBrowserTrackerId()})},playTogetherGame:function(e){return t({requestType:s.Hybrid.Game.LAUNCH_MODES.SIMPLE_GAME,placeId:e.placeId.toString(),conversationId:e.conversationId.toString(),browserTrackerId:s.Cookies.getBrowserTrackerId()})}},i="soli-modal",l="/login?returnurl=",d="/?returnurl=",u="gameDetails",p="gameLaunch_login",m="gameLaunch_signup";c()(document).ready(function(){n=new s.TranslationResourceProvider,o=n.getTranslationResource("Feature.GameLaunchGuestMode")});var g={restrictGuests:function(e){var n=new(c().Deferred);return"True"===c()("#PlaceLauncherStatusPanel").data("is-user-logged-in")?n.resolve(e):s.Dialog.open({titleText:o.get("Heading.Dialog.SignUpOrLogin"),bodyContent:o.get("Description.Dialog.SignUpOrLogin"),cssClass:i,acceptColor:s.Dialog.green,acceptText:o.get("Action.Dialog.SignUp"),declineText:o.get("Action.Dialog.Login"),onDecline:function(){s.FormEvents&&s.FormEvents.SendInteractionClick(u,p);var e=l+encodeURIComponent(window.location.pathname+window.location.search);window.location.href=s.Endpoints?s.Endpoints.getAbsoluteUrl(e):e},onAccept:function(){var e=m;s.FormEvents&&s.FormEvents.SendInteractionClick("gameDetails",e),e=d+encodeURIComponent(window.location.pathname+window.location.search),window.location.href=s.Endpoints?s.Endpoints.getAbsoluteUrl(e):e}}),n}},v={bars:[],init:function(e,n,t,a){var o=this.get(e);(o=null==o?{}:o).barID=e,o.innerBarID=n,o.percentageID=t,void 0===a&&(o.percentComplete=0),this.bars.push(o),this.update(e,o.percentComplete)},get:function(e){for(var n=0;n<this.bars.length;n+=1)if(this.bars[n].barID===e)return this.bars[n];return null},dispose:function(e){for(var n=0;n<this.bars.length;n+=1)this.bars[n].barID===e&&this.bars.splice(n,1)},update:function(e,n){var t=this.get(e);t&&(1<n&&(n=1),e=c()("#".concat(e)).width(),e=Math.round(e*n),c()("#".concat(t.innerBarID)).animate({width:e},200,"swing"),t.percentageID&&0<c()("#".concat(t.percentageID)).length&&c()("#".concat(t.percentageID)).html("".concat(Math.round(100*n),"%")),t.percentComplete=n)}},h={newValue:"",showVideoPreRoll:!1,videoInitialized:!1,videoStarted:!1,videoCompleted:!1,videoSkipped:!1,videoCancelled:!1,videoErrored:!1,loadingBarMaxTime:3e4,loadingBarCurrentTime:0,loadingBarIntervalID:0,loadingBarID:"videoPrerollLoadingBar",loadingBarInnerID:"videoPrerollLoadingBarCompleted",loadingBarPercentageID:"videoPrerollLoadingPercent",videoDiv:"videoPrerollMainDiv",companionAdDiv:"videoPrerollCompanionAd",contentElement:"contentElement",videoLoadingTimeout:7e3,videoPlayingTimeout:23e3,videoLogNote:"",logsEnabled:!1,includedPlaceIds:"",isSwfPreloaderEnabled:!1,isFlashInstalled:!1,isPrerollShownEveryXMinutesEnabled:!1,isAgeTargetingEnabled:!0,isAgeOrSegmentTargetingEnabled:!1,adUnit:"",adTime:0,placeId:0,customTargeting:{userAge:"",userAgeOrSegment:"",userGender:"",gameGenres:"",environment:"",adTime:"",PLVU:!1},adsManager:null,adsLoader:null,adDisplayContainer:null,intervalTimer:null,videoContent:null,isCompanionAdRenderedByGoogleTag:!1};function f(){h.adsLoader.contentComplete()}function w(){h.videoContent=document.getElementById(h.contentElement)}function b(){h.adDisplayContainer=new window.google.ima.AdDisplayContainer(document.getElementById(h.videoDiv),h.videoContent)}function I(){var e="&iu=".concat(h.adUnit),n="";return h.isAgeTargetingEnabled&&(n+="&Age=".concat(h.customTargeting.userAge)),h.isAgeOrSegmentTargetingEnabled&&(n+="&A=".concat(h.customTargeting.userAgeOrSegment)),n=encodeURIComponent("Env=".concat(h.customTargeting.environment,"&Gender=").concat(h.customTargeting.userGender).concat(n,"&Genres=").concat(h.customTargeting.gameGenres,"&PlaceID=").concat(h.placeId,"&Time=").concat(h.customTargeting.adTime,"&PLVU=").concat(h.customTargeting.PLVU)),"".concat("http://pubads.g.doubleclick.net/gampad/ads?impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=[referrer_url]&description_url=[description_url]&correlator=[timestamp]").concat("&sz=400x300").concat(e).concat("&ciu_szs=300x250","&cust_params=").concat(n,"&")}function y(){window.googletag.defineSlot(h.adUnit,[300,250],h.companionAdDiv).addService(window.googletag.companionAds()),window.googletag.enableServices(),window.googletag.display(h.companionAdDiv)}function P(e){switch(e.type){case window.google.ima.AdEvent.Type.LOADED:break;case window.google.ima.AdEvent.Type.STARTED:if(h.videoStarted=!0,h.isCompanionAdRenderedBywindow.googletag){if(!window.googletag)break;window.googletag.cmd.push(y)}else{var n=e.getAd().getCompanionAds(300,250);0<n.length&&(n=n[0].getContent(),document.getElementById(h.companionAdDiv).innerHTML=n)}break;case window.google.ima.AdEvent.Type.SKIPPED:h.videoCompleted=!0,h.videoSkipped=!0,h.showVideoPreRoll=!1;break;case window.google.ima.AdEvent.Type.COMPLETE:h.videoStarted&&!1===h.videoCancelled&&(h.videoCompleted=!0,h.showVideoPreRoll=!1,""!==h.newValue&&c().cookie("RBXVPR",h.newValue,180))}}function C(){h.videoErrored=!0,h.videoCompleted=!0,h.videoLogNote="AdError"}function E(e){h.adsManager=e.getAdsManager(h.videoContent),h.adsManager.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,C),h.adsManager.addEventListener(window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED,P),h.adsManager.addEventListener(window.google.ima.AdEvent.Type.LOADED,P),h.adsManager.addEventListener(window.google.ima.AdEvent.Type.STARTED,P),h.adsManager.addEventListener(window.google.ima.AdEvent.Type.SKIPPED,P),h.adsManager.addEventListener(window.google.ima.AdEvent.Type.COMPLETE,P);try{h.adsManager.init(400,300,window.google.ima.ViewMode.NORMAL),h.adsManager.start()}catch(e){C()}}function S(){window.google.ima.settings.setVpaidAllowed(!0),w(),b(),h.adDisplayContainer.initialize(),h.adsLoader=new window.google.ima.AdsLoader(h.adDisplayContainer),h.adsLoader.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,E,!1),h.adsLoader.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,C,!1),h.videoContent.addEventListener("ended",f);var e=new window.google.ima.AdsRequest,n=I();e.adTagUrl=n,e.linearAdSlotWidth=400,e.linearAdSlotHeight=300,e.nonLinearAdSlotWidth=400,e.nonLinearAdSlotHeight=300,h.adsLoader.requestAds(e)}function L(){var n=!1;try{new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(n=!0)}catch(e){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(n=!0)}return n}function T(){if(h.logsEnabled){var e="";if(h.videoCompleted)e="Complete",""===h.videoLogNote&&(h.videoLogNote="NoTimeout"),h.logsEnabled=!1;else if(h.videoCancelled)e="Cancelled",h.videoLogNote=window.RobloxLaunch.state;else{if(!1!==h.videoInitialized||""===h.videoLogNote)return;h.logsEnabled=!(e="Failed")}s.GaEventSettings.gaDFPPreRollEnabled&&window.GoogleAnalyticsEvents&&window.GoogleAnalyticsEvents.FireEvent(["DFPPreRoll",e,h.videoLogNote])}}function G(){return!!h.videoInitialized&&(h.videoInitialized&&!h.videoStarted&&h.loadingBarCurrentTime>h.videoLoadingTimeout&&(h.videoCompleted=!0,h.videoLogNote="LoadingTimeout"),h.videoStarted&&!h.videoCompleted&&h.loadingBarCurrentTime>h.videoPlayingTimeout&&(h.videoCompleted=!0,h.videoLogNote="PlayingTimeout"),!h.videoCompleted)}function D(){var e=encodeURIComponent(I()),e="adTagUrl=".concat(e);c().ajax({url:"/game/preloader",data:{url:e},method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}}).success(function(e){c()("#videoPrerollMainDiv").html(e),h.videoErrored||(h.videoStarted=!0)})}function A(){c().ajax({url:"/game/updateprerollcount",method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0}})}Object.assign(h,{contentEndedListener:f,createVideoContent:w,createAdDisplayContainer:b,constructUrl:I,renderCompanionAd:y,onAdEvent:P,onAdError:C,onAdsManagerLoaded:E,requestAds:S,checkFlashEnabled:L,checkEligibility:function(){h.showVideoPreRoll&&(L()&&(h.isFlashInstalled=!0),"True"===c()("#PlaceLauncherStatusPanel").data("is-protocol-handler-launch-enabled")||s.Client.IsRobloxInstalled()?void 0===window.google||void 0===window.google.ima?(h.videoLogNote="NoGoogle",h.showVideoPreRoll=!1):s.Client.isIDE()?(h.videoLogNote="RobloxStudio",h.showVideoPreRoll=!1):s.Client.isRobloxBrowser()?(h.videoLogNote="RobloxPlayer",h.showVideoPreRoll=!1):(window.chrome||window.safari)&&"#chromeInstall"===window.location.hash&&(h.showVideoPreRoll=!1):h.showVideoPreRoll=!1)},logVideoPreRoll:T,isPlaying:G,correctIEModalPosition:function(e){var n,t;e.container.innerHeight()<=30&&(n=c()("#videoPrerollPanel"),t=-Math.floor(n.innerHeight()/2),n.css({position:"relative",top:"".concat(t,"px")}),e.container.find(".VprCloseButton").css({top:"".concat(t-10,"px"),"z-index":"1003"}))},renderImaPreloader:D,updatePrerollCount:A,start:function(){0===h.placeId&&"undefined"!=typeof play_placeId&&(h.placeId=play_placeId),h.videoInitialized=!0,h.videoStarted=!1,h.videoCancelled=!1,h.videoCompleted=!1,h.videoSkipped=!1,h.loadingBarCurrentTime=0,h.videoLogNote="",v.init(h.loadingBarID,h.loadingBarInnerID,h.loadingBarPercentageID),h.loadingBarIntervalID=setInterval(function(){h.loadingBarCurrentTime+=1e3,v.update(h.loadingBarID,h.loadingBarCurrentTime/h.loadingBarMaxTime)},1e3),(h.isSwfPreloaderEnabled&&h.isFlashInstalled?D:S)()},cancel:function(){h.videoCancelled=!0,c().modal.close()},skip:function(){h.videoCompleted=!0,h.videoSkipped=!0,h.showVideoPreRoll=!1},close:function(){window.MadStatus&&window.MadStatus.running&&window.MadStatus.stop(""),window.RobloxLaunch.launcher&&(window.RobloxLaunch.launcher._cancelled=!0),clearInterval(h.loadingBarIntervalID),v.dispose(h.loadingBarID),G()&&(h.videoCancelled=!0),c().modal.close(),T(),h.isPrerollShownEveryXMinutesEnabled&&h.videoInitialized&&h.videoCompleted&&A()}});var R=h,x={waitForPreroll:function(e){var n,t,a=new(c().Deferred),o=R;return o.placeId=void 0!==e.placeId?e.placeId:0,o.showVideoPreRoll?(n={escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},zIndex:1031,onShow:function(e){o.correctIEModalPosition(e),o.start(),c()("#prerollClose").hide(),c()("#prerollClose").delay(1e3*o.adTime).show(300)},onClose:function(){o.close()},closeHTML:'<a href="#" id="prerollClose" class="ImageButton closeBtnCircle_35h ABCloseCircle VprCloseButton"></a>'},c()("#videoPrerollPanel").modal(n),t=setInterval(function(){o.isPlaying()||(c().modal.close(),clearInterval(t),o.videoCancelled?a.reject(e):a.resolve(e))},200)):(a.resolve(e),o.logVideoPreRoll()),a}};function k(e,n,t,a,o,r,i){try{var l=e[r](i),c=l.value}catch(e){return t(e),0}l.done?n(c):Promise.resolve(c).then(a,o)}var U,M={gameLaunchInterface:null,gameLaunchLogger:null,initialized:new Promise(function(e,n){U=e})};function B(e,n,t){M.gameLaunchInterface.editGameInStudio(e,n,t)}function O(e){return g.restrictGuests(e={placeId:e,isPlayTogetherGame:!0===(2<arguments.length?arguments[2]:void 0)}).then(x.waitForPreroll).then(M.gameLaunchInterface.joinMultiplayerGame)}function N(){var l=regeneratorRuntime.mark(function e(n,t,a){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.initialized;case 2:return o=x.waitForPreroll({placeId:n,accessCode:t,linkCode:a}).then(M.gameLaunchInterface.joinPrivateGame),e.abrupt("return",o);case 5:case"end":return e.stop()}},e)});return(N=function(){var e=this,i=arguments;return new Promise(function(n,t){var a=l.apply(e,i);function o(e){k(a,n,t,o,r,"next",e)}function r(e){k(a,n,t,o,r,"throw",e)}o(void 0)})}).apply(this,arguments)}c().fn.bindGameLaunch=function(){return this.find(".VisitButtonPlayGLI").click(function(){var e=c()(this);O(e.attr("placeid"),e.data("is-membership-level-ok"))}),this.find(".VisitButtonEditGLI").click(function(){var e=c()(this);B(e.attr("placeid"),e.data("universeid"),!!e.data("allowupload"))}),this},c()(document).ready(function(){c()("body").bindGameLaunch()}),Object.assign(M,{authenticationChecker:g,prerollPlayer:x,joinMultiplayerGame:O,openStudio:function(){M.gameLaunchInterface.openStudio()},returnToStudio:function(){M.gameLaunchInterface.returnToStudio()},openPluginInStudio:function(e){M.gameLaunchInterface.openPluginInStudio(e)},editGameInStudio:B,followPlayerIntoGame:function(e){return g.restrictGuests(e={userId:e}).then(x.waitForPreroll).then(M.gameLaunchInterface.followPlayerIntoGame)},joinGameInstance:function(e,n,t,a){return g.restrictGuests(a={placeId:e,gameId:n,isPlayTogetherGame:!0===a}).then(x.waitForPreroll).then(M.gameLaunchInterface.joinGameInstance)},joinPrivateGame:function(e,n,t){return N.apply(this,arguments)},playTogetherGame:function(e,n){return g.restrictGuests(n={placeId:e,conversationId:n}).then(x.waitForPreroll).then(M.gameLaunchInterface.playTogetherGame)},setGameLaunchInterface:function(e){M.gameLaunchInterface=e,U()},setGameLaunchLogger:function(e){M.gameLaunchLogger=e},tryAssetInStudio:function(e){M.gameLaunchInterface.tryAssetInStudio(e)},startClientAttemptedEvent:"startClientAttempted",startClientFailedEvent:"startClientFailed",startClientSucceededEvent:"startClientSucceeded",beginInstallEvent:"beginInstall",successfulInstallEvent:"successfulInstall",manualDownloadEvent:"manualDownload"});var F=M,j={lastContext:"unknown",contextCategories:{joinUser:"JoinUser"}};function V(e,n,t,a){null!==n&&""!==n&&"unknown"!==n&&(j.lastContext=n),s.EventStream.SendEvent(e,j.lastContext,(e=t,t=a,{lType:(a=c()("#PlaceLauncherStatusPanel"))&&a.data("is-protocol-handler-launch-enabled")&&"true"===a.data("is-protocol-handler-launch-enabled").toLowerCase()?"protocol":"plugin",pid:e,refuid:t,pg:-1!==(t=(a=window.location.pathname.toLowerCase()).lastIndexOf(e="profile"))&&a.length===t+e.length?e:-1!==a.indexOf("/develop")?"develop":"gameDetail"}))}Object.assign(j,{SendGamePlayIntent:function(e,n,t){V("gamePlayIntent",e,n,t),c()(document).trigger("playButton:gamePlayIntent")},SendDevelopIntent:function(e,n){V("developIntent",e,n)},SendInstallBegin:function(e,n){V("installBegin",e,n)},SendInstallSuccess:function(e,n){V("installSuccess",e,n)},SendClientStartAttempt:function(e,n){V("clientStartAttempt",e,n)},SendClientStartSuccessWeb:function(e,n){V("clientStartSuccessWeb",e,n)},SendManualDownloadClick:function(e,n){V("manualDownload",e,n)}});var H=j,_={logToConsoleEnabled:!1,logToGAEnabled:!0,logToEphemeralCountersEnabled:!0},q={};q[F.startClientAttemptedEvent]=["GameLaunchAttempt_<os>","GameLaunchAttempt_<os>_<launchmethod>"],q[F.startClientSucceededEvent]=["GameLaunchSuccessWeb_<os>","GameLaunchSuccessWeb_<os>_<launchmethod>"];var z={};s.GaEventSettings.gaLaunchAttemptAndLaunchSuccessEnabled&&(z[F.startClientAttemptedEvent]="Launch Attempt",z[F.startClientSucceededEvent]="Launch Success"),z[F.beginInstallEvent]="Install Begin",z[F.successfulInstallEvent]="Install Success",z[F.manualDownloadEvent]="Manual Download";var W={};function J(e){_.logToConsoleEnabled&&console.log(e)}function X(e,n){var t;_.logToEphemeralCountersEnabled&&("Windows"===(t=c()("#PlaceLauncherStatusPanel").data("os-name"))&&(t="Win32"),e=(e=e.replace("<os>",t)).replace("<launchmethod>",n),null!==(n=window.EventTracker)&&void 0!==n&&n.fireEvent&&window.EventTracker.fireEvent(e))}function K(e,n,t,a){void 0!==window.GoogleAnalyticsEvents&&_.logToGAEnabled&&window.GoogleAnalyticsEvents.FireEvent&&window.GoogleAnalyticsEvents.FireEvent([e,n,t,a])}function Y(e,t){J("".concat(e.type,": ").concat(JSON.stringify(t))),q[e.type]&&c().each(q[e.type],function(e,n){X(n,t.launchMethod)}),z[e.type]&&K(t.launchMethod,z[e.type],t.params.launchMode,0),"True"===c()("#PlaceLauncherStatusPanel").data("event-stream-for-protocol-enabled")&&W[e.type]&&W[e.type](null,t.params.placeId)}W[F.startClientAttemptedEvent]=H.SendClientStartAttempt,W[F.startClientSucceededEvent]=H.SendClientStartSuccessWeb,W[F.beginInstallEvent]=H.SendInstallBegin,W[F.successfulInstallEvent]=H.SendInstallSuccess,W[F.manualDownloadEvent]=H.SendManualDownloadClick,Object.assign(_,{logToConsole:J,logToEphemeralCounters:X,logToGA:K}),c()(document).ready(function(){var e=[F.startClientAttemptedEvent,F.startClientFailedEvent,F.startClientSucceededEvent,F.beginInstallEvent,F.successfulInstallEvent,F.manualDownloadEvent];c()(F).on(e.join(" "),Y)});var Q=_;function Z(n,e){var t,a=Object.keys(n);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(n),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),a.push.apply(a,t)),a}function $(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(o),!0).forEach(function(e){var n,t=a;e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):Z(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))})}return a}var ee={isInstalling:!1,statusInterval:0,robloxLocale:"",gameLocale:"",protocolUrlSeparator:"+",protocolUrlIncludesLaunchTime:!1,protocolDetectionEnabled:!1,avatarParamEnabled:!0,separateScriptParamsEnabled:!1,waitTimeBeforeFailure:300,protocolNameForStudio:"roblox-studio",protocolNameForClient:"roblox-client",logger:null,channel:"",studioChannel:"",playerChannel:""},ne={edit:"edit",plugin:"plugin",play:"play",build:"build",app:"app",asset:"asset"};function te(e){return e===ne.edit||e===ne.plugin||e===ne.asset}function ae(e,n){function t(){clearTimeout(a),e()}var a=setTimeout(function(){c().modal.close(),function(e,n){var t="True"===s.PlaceLauncher.Resources.RefactorEnabled,a=te(n.launchMode);if(t)return a=a?s.PlaceLauncher.Resources.ProtocolHandlerAreYouInstalled.studio:s.PlaceLauncher.Resources.ProtocolHandlerAreYouInstalled.play,s.Dialog.open({bodyContent:a.content,allowHtmlContentInBody:!0,showAccept:!0,acceptColor:s.Dialog.green,acceptText:a.buttonText,showDecline:!1,dismissable:!1,xToCancel:!0,footerText:a.footerContent,allowHtmlContentInFooter:!0,onAccept:function(){ve(n)},cssClass:"protocolhandler-are-you-installed-modal"});c()("#ProtocolHandlerAreYouInstalled").modal({escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:function(){e(),c()("#ProtocolHandlerInstallButton").off("click"),c().modal.close()},zIndex:1031}),c()("#ProtocolHandlerInstallButton, #ProtocolHandlerStudioInstallButton").click(function(){ve(n)})}(t,n)},5e3),o=t,r=n.launchMode,i="True"===s.PlaceLauncher.Resources.RefactorEnabled,l=te(r);i?(r=(l?s.PlaceLauncher.Resources.ProtocolHandlerStartingDialog.studio:s.PlaceLauncher.Resources.ProtocolHandlerStartingDialog.play).content,i=s.PlaceLauncher.Resources.ProtocolHandlerStartingDialog.loader,s.Dialog.open({bodyContent:r+i,allowHtmlContentInBody:!0,showAccept:!1,showDecline:!1,dismissable:!1,cssClass:"protocolhandler-starting-modal",onCloseCallback:o,onCancel:function(){o(),c().modal.close()}})):(l?c()(".protocol-handler-container").each(function(){c()(this).find(".play-modal").addClass("hidden"),c()(this).find(".studio-modal").removeClass("hidden")}):c()(".protocol-handler-container").each(function(){c()(this).find(".play-modal").removeClass("hidden"),c()(this).find(".studio-modal").addClass("hidden")}),c()("#ProtocolHandlerStartingDialog").modal({escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:function(){o(),c().modal.close()},zIndex:1031}))}function oe(){c().modal.close(),s.Dialog.open({titleText:s.Lang.VisitGameResources["Heading.ErrorStartingGame"],bodyContent:s.Lang.VisitGameResources["Response.Dialog.ErrorLaunching"],acceptText:s.Lang.ControlsResources["Action.OK"]||"OK",showDecline:!1})}function re(n){var t=new(c().Deferred);return clearInterval(ee.statusInterval),ee.statusInterval=setInterval(function(){var e=s.Endpoints.getAbsoluteUrl("/client-status");c().ajax(e,{success:function(e){"Unknown"!==e&&(t.resolve(n),clearInterval(ee.statusInterval))},cache:!1})},3e3),t}function ie(e){c().modal.close(),e={launchMethod:"Protocol",params:e},c()(F).trigger(F.startClientSucceededEvent,e),ee.isInstalling&&(c()(F).trigger(F.successfulInstallEvent,e),ee.isInstalling=!1)}function le(e){return!1}function ce(e){var n;ee.protocolDetectionEnabled&&void 0!==navigator.msLaunchUri?navigator.msLaunchUri(e,function(){},function(){}):(0<(n=c()("iframe#gamelaunch")).length&&n.remove(),n=c()("<iframe id='gamelaunch' class='hidden'></iframe>").attr("src",e),c()("body").append(n),n=new Event("ProtocolLaunchStartSelenium"),window.dispatchEvent(n))}function se(e){var n,t=new(c().Deferred),a=ee.protocolUrlSeparator,o="".concat(e.protocolName,":"),r=[];return r.push(1),r.push("launchmode:".concat(e.launchMode)),!e.gameInfo||e.protocolName===ee.protocolNameForStudio&&0===e.gameInfo.indexOf("Guest:")||r.push("gameinfo:".concat(encodeURIComponent(e.gameInfo))),ee.protocolUrlIncludesLaunchTime&&r.push("launchtime:".concat(e.launchTime)),"True"===s.PlaceLauncher.Resources.IsProtocolHandlerBaseUrlParamEnabled&&(n=s.EnvironmentUrls.websiteUrl||"https://".concat(window.location.host),r.push("baseUrl:".concat(encodeURIComponent(n)))),c().each(e.otherParams,function(e,n){e===n?r.push(e):r.push("".concat(e,":").concat(encodeURIComponent(n)))}),o+=r.join(a),F.gameLaunchLogger&&F.gameLaunchLogger.logToConsole("launchProtocolUrl: ".concat(JSON.stringify({url:o,params:e}))),ce(o),t.resolve(e),t}function de(e){return c().when((a=new(c().Deferred),o=$({},e),s.CurrentUser.isAuthenticated?ee.doAuthTicketRequest().then(function(e,n,t){return(t=t.getResponseHeader("RBX-Authentication-Ticket"))&&0<t.length?(o.gameInfo=t,a.resolve(o)):a.reject(),a}):(a.resolve(o),a)),(e=s.Endpoints.getAbsoluteUrl("/client-status/set?status=Unknown"),c().ajax({method:"POST",url:e}))).then(se,oe).then(re).then(ie,le);var a,o}function ue(e){return c()(this).hasClass("disabled")||(de(e.data),void 0===(e=c()("#ProtocolHandlerClickAlwaysAllowed")).data("hideRememberOverlay")&&e.show()),!1}function pe(e){return(e=$({},e)).launchTime=(new Date).getTime(),e.otherParams.browsertrackerid=s.Cookies.getBrowserTrackerId(),e.otherParams.robloxLocale=ee.robloxLocale,e.otherParams.gameLocale=ee.gameLocale,e.otherParams.channel=ee.channel,e.protocolName===ee.protocolNameForStudio?e.otherParams.channel=ee.studioChannel:e.otherParams.channel=ee.playerChannel,c()(F).trigger(F.startClientAttemptedEvent,{launchMethod:"Protocol",params:e}),ae(function(){},e),de(e)}function me(e,n){var t=" ",t=(t="h"!==(t=s.Endpoints&&s.Endpoints.Urls?"".concat(s.Endpoints.getAbsoluteUrl("/Game/PlaceLauncher.ashx"),"?"):t)[0]?"http://".concat(window.location.host)+"/Game/PlaceLauncher.ashx?":t).replace("placelauncher","PlaceLauncher");return e={request:e,browserTrackerId:s.Cookies.getBrowserTrackerId()},c().extend(e,n),t+c().param(e)}function ge(){document.getElementById("downloadInstallerIFrame").src="/download/client"}function ve(e){var n,t,a=te(e.launchMode);c().modal.close(),a||(s.Dialog.open({titleText:c()("#InstallationInstructions .ph-modal-header .title").text(),allowHtmlContentInBody:!0,bodyContent:c()("#InstallationInstructions .modal-content-container").html(),allowHtmlContentInFooter:!0,footerText:c()("#InstallationInstructions .xsmall").html(),acceptColor:s.Dialog.none,declineColor:s.Dialog.none,cssClass:"install-instructions-modal",xToCancel:!0,onCloseCallback:function(){c()("#ProtocolHandlerClickAlwaysAllowed").hide()}}),setTimeout(function(){c()(".VisitButtonContinueGLI a").removeClass("disabled").click(e,ue)},5e3)),t=a,n=(a=$({},n=e)).gameInfo,void 0!==a.gameInfo&&(a.gameInfo=void 0),c()(F).trigger(F.beginInstallEvent,{launchMethod:"Protocol",params:a}),ee.isInstalling=!0,a.url=window.location.href,void 0!==n&&(a.gameInfo=n),t?document.getElementById("downloadInstallerIFrame").src="/download/studio":ge()}function he(){c()(F).trigger(F.manualDownloadEvent,{launchMethod:"Protocol",params:{}}),ge()}Object.assign(ee,{joinMultiplayerGame:function(e){var n=ee.protocolNameForClient,t=me("RequestGame",e),a=!0===e.isPlayTogetherGame;return pe({protocolName:n,launchMode:"play",otherParams:{placelauncherurl:t},placeId:e.placeId,isPlayTogetherGame:a})},openStudio:function(){var e={};return ee.avatarParamEnabled&&(e.avatar="avatar"),pe({protocolName:ee.protocolNameForStudio,launchMode:"edit",otherParams:e})},tryAssetInStudio:function(e){return e={assetid:e},ee.avatarParamEnabled&&(e.avatar="avatar"),pe({protocolName:ee.protocolNameForStudio,launchMode:"asset",otherParams:e})},returnToStudio:function(){var e={task:"ReturnFromLogin"};return ee.avatarParamEnabled&&(e.avatar="avatar"),pe({protocolName:ee.protocolNameForStudio,launchMode:"edit",otherParams:e})},openPluginInStudio:function(e){e={pluginid:e},ee.avatarParamEnabled&&(e.avatar="avatar"),pe({protocolName:ee.protocolNameForStudio,launchMode:"plugin",otherParams:e})},editGameInStudio:function(e,n,t){var a,o,r,i;t=ee.separateScriptParamsEnabled?{task:"EditPlace",placeId:e,universeId:n}:{script:(r="Edit.ashx",a={placeId:i=a=e,upload:(o=t)?i:"",universeId:a=n,testMode:!(o=" ")},(o="h"!==(o=s.Endpoints&&s.Endpoints.Urls?"".concat(s.Endpoints.getAbsoluteUrl("/Game/".concat(r)),"?"):o)[0]?"http://".concat(window.location.host)+"/Game/".concat(r,"?"):o)+c().param(a))},ee.avatarParamEnabled&&(t.avatar="avatar"),pe({protocolName:ee.protocolNameForStudio,launchMode:"edit",otherParams:t,placeId:e})},followPlayerIntoGame:function(e){return pe({protocolName:ee.protocolNameForClient,launchMode:"play",otherParams:{placelauncherurl:me("RequestFollowUser",e)}})},joinGameInstance:function(e){var n=ee.protocolNameForClient,t=me("RequestGameJob",e),a=!0===e.isPlayTogetherGame;return pe({protocolName:n,launchMode:"play",otherParams:{placelauncherurl:t},placeId:e.placeId,isPlayTogetherGame:a})},joinPrivateGame:function(e){return pe({protocolName:ee.protocolNameForClient,launchMode:"play",otherParams:{placelauncherurl:me("RequestPrivateGame",e)},placeId:e.placeId})},playTogetherGame:function(e){return pe({protocolName:ee.protocolNameForClient,launchMode:"play",otherParams:{placelauncherurl:me("RequestPlayTogetherGame",e)},placeId:e.placeId,conversationId:e.conversationId})},manualDownload:he,attachManualDownloadToLink:function(){c()("body #GameLaunchManualInstallLink").click(function(){return he(),!1})},startDownload:ge,setLocationHref:ce,doAuthTicketRequest:function(){var e="".concat(s.EnvironmentUrls.authApi,"/v1/authentication-ticket/");return c().ajax({method:"POST",url:e,contentType:"application/json"})},openDesktopUniversalApp:function(){var e={},n=ee.protocolNameForClient;return e.protocolName=n,e.launchTime=(new Date).getTime(),e.launchMode=ne.app,e.otherParams={},e.otherParams.browsertrackerid=s.Cookies.getBrowserTrackerId(),e.otherParams.robloxLocale=ee.robloxLocale,e.otherParams.gameLocale=ee.gameLocale,e.otherParams.LaunchExp="InApp",c()(F).trigger(F.startClientAttemptedEvent,{launchMethod:"Protocol",params:e}),ae(function(){},e),de(e)},showDialog:ae,showLaunchFailureDialog:oe,cleanUpAndLogSuccess:ie,cleanUpAndLogFailure:le}),c()(document).ready(function(){F.setGameLaunchInterface(ee);var e=c()("#PlaceLauncherStatusPanel");ee.protocolNameForClient=e.data("protocol-name-for-client"),ee.protocolNameForStudio=e.data("protocol-name-for-studio"),ee.protocolUrlIncludesLaunchTime=e.data("protocol-url-includes-launchtime"),ee.protocolDetectionEnabled=e.data("protocol-detection-enabled"),ee.separateScriptParamsEnabled=e.data("protocol-separate-script-parameters-enabled"),ee.avatarParamEnabled=e.data("protocol-avatar-parameter-enabled"),ee.robloxLocale=e.data("protocol-roblox-locale"),ee.gameLocale=e.data("protocol-game-locale");var n=e.data("protocol-channel-name");"string"==typeof n&&"LIVE"!==n.toUpperCase()&&(ee.channel=n),"string"==typeof(n=e.data("protocol-studio-channel-name"))&&"LIVE"!==n.toUpperCase()&&(ee.studioChannel=n),"string"==typeof(e=e.data("protocol-player-channel-name"))&&"LIVE"!==e.toUpperCase()&&(ee.playerChannel=e),ee.logger||void 0===window.Roblox.ProtocolHandlerLogger||(ee.logger=window.Roblox.ProtocolHandlerLogger)});var fe,we=ee,be=React,Ie=a.n(be),ye=ReactUtilities,Pe=ReactStyleGuide,Ce={common:["Common.VisitGame"],feature:""},Ee=CoreRobloxUtilities,Se=function(e,i,l,c){return new(l=l||Promise)(function(t,n){function a(e){try{r(c.next(e))}catch(e){n(e)}}function o(e){try{r(c.throw(e))}catch(e){n(e)}}function r(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},Le=function(t,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,(n=i?[2&n[0],i.value]:n)[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=a.call(t,l)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},Te=Ee.dataStores.gamesDataStore,Ge=RobloxItemPurchase,De=RobloxThumbnails;function Ae(e){var a=e.placeId,o=e.status,e=e.playComponent;return Ie().createElement(Pe.Button,{className:"btn-full-width btn-common-play-game-lg",onClick:function(e){var n,t;e.preventDefault(),o===fe.Playable?(n=a,null!=(t=Ue.deviceMeta.getDeviceMeta())&&t.isIosDevice||Ue.jsClientDeviceIdentifier.isIos13Ipad?window.open("https://assetgame."+s.EnvironmentUrls.domain+"/games/start?placeid="+n,"_blank"):null!=t&&t.isAndroidDevice?window.open("intent://placeID="+n+"#Intent;scheme=robloxmobile;package=com.roblox.client;S.browser_fallback_url=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.roblox.client;end"):Ee.playGameService.launchGame(Ee.playGameService.buildPlayGameProperties(void 0,n.toString()),ke.eventStreamProperties(n))):o===fe.GuestProhibited&&(t=a,null!=(n=Ue.deviceMeta.getDeviceMeta())&&n.isIosDevice||null!=n&&n.isAndroidDevice||Ue.jsClientDeviceIdentifier.isIos13Ipad?window.location.assign("/login"):Ee.playGameService.launchGame(Ee.playGameService.buildPlayGameProperties(void 0,t.toString()),ke.eventStreamProperties(t)))}},e?e(o):Ie().createElement("span",{className:"icon-common-play"}))}(e=fe={}).UnplayableOtherReason="UnplayableOtherReason",e.Playable="Playable",e.GuestProhibited="GuestProhibited",e.GameUnapproved="GameUnapproved",e.IncorrectConfiguration="IncorrectConfiguration",e.UniverseRootPlaceIsPrivate="UniverseRootPlaceIsPrivate",e.InsufficientPermissionFriendsOnly="InsufficientPermissionFriendsOnly",e.InsufficientPermissionGroupOnly="InsufficientPermissionGroupOnly",e.DeviceRestricted="DeviceRestricted",e.UnderReview="UnderReview",e.PurchaseRequired="PurchaseRequired",e.AccountRestricted="AccountRestricted",e.TemporarilyUnavailable="TemporarilyUnavailable";function Re(e,i,l,c){return new(l=l||Promise)(function(t,n){function a(e){try{r(c.next(e))}catch(e){n(e)}}function o(e){try{r(c.throw(e))}catch(e){n(e)}}function r(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(a,o)}r((c=c.apply(e,i||[])).next())})}function xe(t,a){var o,r,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:n(0),throw:n(1),return:n(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,(n=i?[2&n[0],i.value]:n)[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=a.call(t,l)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}}var ke={playButtonTranslationMap:((e={})[fe.UnplayableOtherReason]="Response.GameTemporarilyUnavailable",e[fe.TemporarilyUnavailable]="Response.GameTemporarilyUnavailable",e[fe.GameUnapproved]="Label.GameUnavailablePlaceUnderReview",e[fe.IncorrectConfiguration]="Response.GameTemporarilyUnavailable",e[fe.UniverseRootPlaceIsPrivate]="Label.GameUnavailableCurrentlyIsPrivateVisitor",e[fe.InsufficientPermissionFriendsOnly]="Label.GameUnavailablePermissionLevels",e[fe.InsufficientPermissionGroupOnly]="Label.GameUnavailablePermissionLevels",e[fe.DeviceRestricted]="Response.GameTemporarilyUnavailable",e[fe.UnderReview]="Label.GameUnavailablePlaceUnderReview",e[fe.AccountRestricted]="Label.GameUnavailableAccountResrictions",e),eventStreamProperties:function(e){return{eventName:"playGameClicked",ctx:"click",properties:{placeId:e},gamePlayIntentEventCtx:"PlayButton"}}},Ue=HeaderScripts,Me=function(){return(Me=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},Be=(Ge=(0,Ge.createItemPurchase)())[0],Oe=Ge[1];function Ne(e){var n=e.translate,a=e.universeId,o=e.placeId,t=e.onPurchaseSuccess,r=e.purchaseComponent,i=e.loadingComponent,l=(s=(0,be.useState)(void 0))[0],c=s[1],s=(e=(0,be.useState)(void 0))[0],d=e[1];return(0,be.useEffect)(function(){Re(void 0,void 0,void 0,function(){var n;return xe(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(t=[a],Se(void 0,void 0,Promise,function(){var n;return Le(this,function(e){switch(e.label){case 0:return[4,Te.getProductInfo(t)];case 1:return[2,(void 0===(n=e.sent().data.data)?[]:n)[0]]}})}))];case 1:return n=e.sent(),c(n),[3,3];case 2:return n=e.sent(),console.log(n),[3,3];case 3:return[2]}var t})}),Re(void 0,void 0,void 0,function(){var n;return xe(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(t=[o],Se(void 0,void 0,Promise,function(){var n;return Le(this,function(e){switch(e.label){case 0:return[4,Te.getPlaceDetails(t)];case 1:return[2,(void 0===(n=e.sent().data)?[]:n)[0]]}})}))];case 1:return n=e.sent(),d(n),[3,3];case 2:return n=e.sent(),console.log(n),[3,3];case 3:return[2]}var t})})},[]),void 0===l||void 0===s?i?i():Ie().createElement(Pe.Loading,null):Ie().createElement(Ie().Fragment,null,Ie().createElement(Pe.Button,{className:"btn-full-width btn-common-play-game-lg",onClick:function(e){e.preventDefault(),Oe.start()}},r?r(s,l):Ie().createElement(Ie().Fragment,null,Ie().createElement("span",{className:"icon-robux-white"}),Ie().createElement("span",{className:"btn-text"},l.price)," ")),Ie().createElement(Be,Me({},{translate:n,productId:l.productId,expectedPrice:l.price,thumbnail:Ie().createElement(De.Thumbnail2d,{type:De.ThumbnailTypes.gameIcon,size:De.DefaultThumbnailSize,targetId:a,imgClassName:"game-card-thumb",format:De.ThumbnailFormat.jpeg}),assetName:s.name,assetType:"Place",sellerName:s.builder,expectedCurrency:1,expectedSellerId:l.sellerId,onPurchaseSuccess:t,isPlace:!0})))}function Fe(e){var n=e.translate,t=e.playabilityStatus;return(e=e.errorComponent)?e(t):Ie().createElement("span",{className:"error-message"},n(ke.playButtonTranslationMap[t]))}Ae.defaultProps={playComponent:void 0},Ne.defaultProps={purchaseComponent:void 0,loadingComponent:void 0},Fe.defaultProps={errorComponent:void 0};function je(e){var n=this,t=e.translate,s=e.universeId,a=e.placeId,o=e.loadingComponent,r=e.errorComponent,i=e.purchaseComponent,l=e.playComponent,c=(e=(0,be.useState)(void 0))[0],d=e[1];switch((0,be.useEffect)(function(){var e,i,l,c;e=n,c=function(){var n,t,a,o,r,i,l,e;return t=this,a=function(e){switch(e.label){case 0:d(void 0),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(t=[s],Se(void 0,void 0,Promise,function(){var n;return Le(this,function(e){switch(e.label){case 0:return[4,Te.getPlayabilityStatus(t)];case 1:return[2,(void 0===(n=e.sent().data)?[]:n)[0]]}})}))];case 2:return n=e.sent(),d(n.playabilityStatus),[3,4];case 3:return e.sent(),d(fe.TemporarilyUnavailable),[3,4];case 4:return[2]}var t},l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function c(n){return function(e){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,(n=i?[2&n[0],i.value]:n)[0]){case 0:case 1:i=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){l.label=n[1];break}if(6===n[0]&&l.label<i[1]){l.label=i[1],i=n;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(n);break}i[2]&&l.ops.pop(),l.trys.pop();continue}n=a.call(t,l)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}},new(l=(l=i=void 0)||Promise)(function(t,n){function a(e){try{r(c.next(e))}catch(e){n(e)}}function o(e){try{r(c.throw(e))}catch(e){n(e)}}function r(e){var n;e.done?t(e.value):((n=e.value)instanceof l?n:new l(function(e){e(n)})).then(a,o)}r((c=c.apply(e,i||[])).next())})},[]),c){case void 0:return o?o():Ie().createElement(Pe.Loading,null);case fe.Playable:case fe.GuestProhibited:return Ie().createElement(Ae,{placeId:a,status:c,playComponent:l});case fe.PurchaseRequired:return Ie().createElement(Ne,{translate:t,onPurchaseSuccess:function(){return d(fe.Playable)},universeId:s,placeId:a,purchaseComponent:i,loadingComponent:o});default:return Ie().createElement(Fe,{playabilityStatus:c,translate:t,errorComponent:r})}}je.defaultProps={loadingComponent:void 0,errorComponent:void 0,purchaseComponent:void 0,playComponent:void 0},Ce=Object.assign((0,ye.withTranslations)(je,Ce),{PlayabilityStatus:fe}),window.Roblox||(window.Roblox={}),Object.assign(window.Roblox,{AuthenticationChecker:g,GameLauncher:F,GameLaunchLogger:Q,GamePlayEvents:H,PrerollPlayer:x,ProtocolHandlerClientInterface:we,VideoPreRollDFP:R,PlayButton:Ce}),c()(document).ready(function(){e="click",c()("body").on(e,".VisitButtonPlay, .VisitButtonPlayGLI",function(){var e,n,t,a,o,r=c()(this);(e=r.hasClass("VisitButtonPlay")||r.hasClass("VisitButtonPlayGLI")?"PlayButton":e)&&(n=c()(this).attr("placeid"),t=c()(this).data("universe-id"),o=c()(this).data("user-id"),a=c()(this).data("originator-type"),r=c()(this).data("originator-id"),"GameUpdateNotification"===a&&c().ajax({url:"".concat(s.EnvironmentUrls.notificationApi,"/v2/stream-notifications/game-update-notification-interacted"),type:"POST",data:{universeId:t,createdOn:new Date(r),interactionType:"Played",currentUserId:o}}),o=s.UrlParser?s.UrlParser.getParameterValueByName("rbxp"):null,H.SendGamePlayIntent(e,n,o))}),c()("body").on(e,".VisitButtonEdit, .VisitButtonEditGLI",function(){var e=c()(this).attr("placeid");H.SendDevelopIntent("Edit",e)}),c()("#rbx-running-games").on(e,".rbx-game-server-item .rbx-game-server-join",function(){var e=c()(this).data("placeid");e&&H.SendGamePlayIntent("JoinInstance",e)}),c()("#rbx-friends-running-games").on(e,".rbx-friends-game-server-item .rbx-friends-game-server-join",function(){var e=c()(this).data("placeid");e&&H.SendGamePlayIntent("JoinInstance",e)}),c()("#game-instances").on(e,"#rbx-vip-servers .rbx-vip-server-item .rbx-vip-server-join",function(){var e=c()(this).data("placeid");e&&H.SendGamePlayIntent("PrivateServer",e)}),c()("#build-page").on(e,".roblox-edit-button",function(){var e=c()(this).parents("table.item-table");(e=e.data("rootplace-id")||e.data("item-id"))&&H.SendDevelopIntent("Edit",e)});var e=(0,s.DeviceMeta)();(e.isUWPApp||e.isUniversalApp)&&(window.Roblox.AppHybridClientInterface=r,F.setGameLaunchInterface(r)),F.setGameLaunchLogger(Q)})}(),window.Roblox&&window.Roblox.BundleDetector&&window.Roblox.BundleDetector.bundleDetected("GameLaunch");

(self.webpackChunk_9gag_site=self.webpackChunk_9gag_site||[]).push([[370],{1836:(e,t,s)=>{"use strict";s.d(t,{$6:()=>r,Z2:()=>o,bN:()=>i,fi:()=>n,Ok:()=>a,LD:()=>c,y8:()=>l});const r="close",o="refresh",i="list-item",n="heading",a="userMedia",c="STATIC",l="ANIMATED"},3913:(e,t,s)=>{"use strict";s.d(t,{Mw:()=>r,vT:()=>o,v6:()=>i,wc:()=>n,jE:()=>a});const r="GET__MESSAGES_LIST_POSITION",o="SET__MESSAGES_LIST_POSITION",i="SET__MESSAGE_CONTEXT_MENU_POSITION",n="RECALCULATE__MESSAGE_CONTEXT_MENU_POSITION",a="RECALCULATE_DEPENDENCIES"},2428:(e,t,s)=>{"use strict";s.d(t,{qg:()=>r,uR:()=>o,gJ:()=>i,w2:()=>n,P1:()=>a,RQ:()=>c,Ww:()=>l,zg:()=>d,$j:()=>u,M_:()=>p,s2:()=>h,VH:()=>m,Sd:()=>g,r0:()=>f,dr:()=>y,iI:()=>O,IV:()=>b,vP:()=>v,y5:()=>_,qh:()=>S,k5:()=>T,Hf:()=>w,tM:()=>P,uF:()=>I,V6:()=>E,Q3:()=>A,H4:()=>k,aE:()=>D,aO:()=>C,nv:()=>U,NQ:()=>L,S0:()=>j,N4:()=>N,jI:()=>R,yn:()=>M,ZX:()=>x,Xq:()=>W,r6:()=>V,fI:()=>B,SZ:()=>G,aT:()=>F,$x:()=>$,CD:()=>Z,xV:()=>H,$I:()=>K,Dy:()=>z,CW:()=>Y,T3:()=>q,mJ:()=>X,_i:()=>J,QV:()=>Q,Oj:()=>ee,zV:()=>te,rz:()=>se,fh:()=>re,rr:()=>oe,ld:()=>ie,M7:()=>ne,hT:()=>ae,zX:()=>ce,$Q:()=>le,KP:()=>de,um:()=>ue,nW:()=>pe,U_:()=>he,Au:()=>me,jK:()=>ge,Jq:()=>fe,RL:()=>ye,zx:()=>Oe,Di:()=>be,E:()=>ve,rC:()=>_e,aJ:()=>Se,p$:()=>Te,$b:()=>we,M3:()=>Pe,lL:()=>Ie,oZ:()=>Ee,pD:()=>Ae,bu:()=>ke,WN:()=>De,C:()=>Ce,c4:()=>Ue,MC:()=>Le,qv:()=>je,y$:()=>Ne,j:()=>Re,h_:()=>Me,dV:()=>xe,at:()=>We,QY:()=>Ve,Cd:()=>Be,RA:()=>Ge,XF:()=>Fe,GB:()=>$e,W$:()=>Ze,Su:()=>He,vL:()=>Ke});const r="INIT",o="SET__OPENED_BY_REFERENCE",i="OPEN__FROM_OUTSIDE",n="START_POLLING",a="HAS__NEW_UPDATES",c="GET__POLLING_UPDATES",l="SET__POLLING_UPDATES",d="START__SINGLE_BOARD_POLLING",u="GET__BOARD_STATE",p="SET__BOARD_STATE",h="SET__FOCUSED_BOARD_ID",m="SET__FOCUSED_THREAD_ID",g="SET__FOCUSED_MESSAGE_ID",f="SET__FOCUSED_BOARD_VIEW_MODE",y="SET__BOARD_CONTEXT_MENU_VIEW_MODE",O="TOGGLE__BOARD_CONTEXT_MENU_VIEW_MODE",b="GET__USER_BOARDS_LIST",v="SET__USER_BOARDS_LIST",_="ADD__USER_BOARDS_LIST",S="REMOVE__USER_BOARDS_LIST",T="SET__BOARD_FOLLOWED",w="SET__BOARD_MUTED",P="SET__BOARD_REPLY",I="GET__FEATURED_BOARDS_LIST",E="SET__FEATURED_BOARDS_LIST",A="ADD__FEATURED_BOARD",k="SET__BOARDS_LIST",D="GET__BOARD_BY_ID",C="SET__BOARD_BY_ID",U="GET__BOARD_URL",L="GET__BOARD_MESSAGE_URL",j="GET__FOCUSED_BOARD_ARTICLE",N="GET__ARTICLE_MEDIA_BY_ID",R="GET__BOARD_ARTICLE_BY_ID",M="GET__IS_USER_JOINED",x="SET__SHOW_NEW_MESSAGE",W="FETCH__USER_BOARDS_LIST",V="FETCH__FEATURED_BOARDS_LIST",B="SET__COVERSATION_MESSAGES",G="SET__BOARD_NEW_MESSAGES",F="RESET__CONVERSATION",$="GET__BOARD_MESSAGES",Z="GET__BOARD_NEW_MESSAGES",H="SHOW__BOARD_NEW_MESSAGES",K="CLEAR__BOARD_NEW_MESSAGES",z="PULL__BOARD_NEW_MESSAGES",Y="PULL__ON_VIEWMODE_UPDATE",q="GET__IS_PARENT_MESSAGE",X="GET__BOARD_MESSAGE_BY_ID",J="SET__BOARD_MESSAGE_BY_ID",Q="GET__BOARD_MESSAGE_INDEX_BY_ID",ee="GET__BOARD_MESSAGE_MEDIA",te="GET__BOARD_INFO_MESSAGES_IDS",se="GET__LAST_BOARD_MESSAGE",re="FETCH__CONVERSATION_MESSAGES",oe="ADD__MESSAGE_TO_STORE",ie="ADD__INFO_MESSAGE_TO_BOARD",ne="REMOVE__INFO_MESSAGES_FROM_BOARD",ae="SEND__MESSAGE",ce="CHECK__BOARDS_RESTRICTIONS",le="GET__CONVERSATION_STATE",de="SET__CONVERSATION_STATE",ue="GET__CONVERSATION_CURSOR",pe="SET__CONVERSATION_CURSOR",he="SET__BOARD_USER_FOLLOW",me="SET__BOARD_USER_UNFOLLOW",ge="SET__BOARD_USER_MUTE",fe="GET__BOARD_MUTE_STATE",ye="GET__PINNED_MESSAGE",Oe="ADD__DISMISSED_PIN",be="UPDATE__DISMISSED_PIN",ve="REMOVE__DISMISSED_PIN",_e="SET__BOARD_MESSAGE_CONTEXT_MENU_OPTIONS",Se="CLOSE__BOARD_MESSAGE_CONTEXT_MENU",Te="OPEN__BOARD_MESSAGE_CONTEXT_MENU",we="TOGGLE__BOARD_MESSAGE_CONTEXT_MENU",Pe="TOGGLE__BOARD_MESSAGE_FOOTER",Ie="ADD__TEXT_HEIGHT_TO_MESSAGE_SIZE",Ee="GET__CURRENT_USER_ID",Ae="GET__USER__IS_LOGGED_IN",ke="GET__USER__CAN_MODERATE",De="SET__USER__AUTH",Ce="SET__USER__INFO",Ue="SET__USER__LIKE_MAPPING",Le="FETCH__USER__INFO",je="UPDATE__USER__LIKE_MAPPING",Ne="UPDATE__MESSAGE_LIKE_STATUS",Re="SET__MESSAGE_FOR_DELETE",Me="DELETE__MESSAGE",xe="DELETE__MESSAGE_FROM_STORE",We="REPORT__MESSAGE",Ve="SET__MESSAGE_AS_DELTED",Be="DISABLE_BOARD_MESSAGE_COLLAPS",Ge="GET__FOLLOW_STATUS",Fe="SET__FOLLOW_STATUS",$e="FETCH__FOLLOW_STATUS",Ze="UPDATE__FOLLOW_STATUS",He="EMIT__MESSAGES_COMBINING",Ke="CHANGE_MESSAGE_SIZE"},3257:(e,t,s)=>{"use strict";s.d(t,{R:()=>r,e:()=>o});const r={NAVIGATION_BAR:"NavigationBar",BOARD:"Board",BOARD_ACTION:"BoardAction",BOARD_MESSAGE:"BoardMessage",BOARD_THREAD:"BoardThread"},o={TAP_BOARD:"TapBoard",TAP_MINIMIZE:"TapMinimize",TAP_OPEN:"TapOpen",TAP_CLOSE:"TapClose",TAP_REFRESH:"TapRefresh",TAP_FEATURED_BOARD:"TapFeaturedBoard",TAP_JOINED_BOARD:"TapJoinedBoard",TAP_JOIN:"TapJoin",TAP_PINNED_MESSAGE:"TapPinnedMessage",TAP_DISMISS_PINNED_MESSAGE:"TapDismissPinnedMessage",TAP_COPY_LINK:"TapCopyLink",TAP_BOARD_INFO:"TapBoardInfo",TAP_BACK:"TapBack",TAP_LEAVE_BOARD:"TapLeaveBoard",CONFIRM_LEAVE_BOARD:"ConfirmLeaveBoard",CANCEL_LEAVE_BOARD:"CancelLeaveBoard",LOAD_PREV:"LoadPrev",LOAD_NEXT:"LoadNext",TAP_NEW_MESSAGE:"TapNewMessage",WRITE_MESSAGE:"WriteMessage",TAP_ADD_MEDIA:"TapAddMedia",TAP_REMOVE_MEDIA:"TapRemoveMedia",ADD_MESSAGE:"AddMessage",TAP_REPLY:"TapReply",TAP_UPVOTE:"TapUpvote",TAP_DOWNVOTE:"TapDownvote",TAP_FOLLOW:"TapFollow",TAP_UNFOLLOW:"TapUnfollow",TAP_REPORT:"TapReport",TAP_DELETE:"TapDelete",TAP_UNMASK:"TapUnmask",CONFIRM_DELETE:"ConfirmDelete",CANCEL_DELETE:"CancelDelete",VIEW_REPLIES:"ViewReplies",WRITE_REPLY:"WriteReply",ADD_REPLY:"AddReply",MUTE_BOARD:"MuteBoard",UNMUTE_BOARD:"UnmuteBoard"}},5333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});class r{static getArticleMediaById(e,t){return(null===(e=e.medias)||void 0===e?void 0:e.get(t))||void 0}static getArticlePhotoSrc(e){if(e.images){var{image460:t,image460c:s,image460sv:r,image700:e}=e.images;return e?e.url:r?r.url:s?s.url:t?t.url:void 0}}}},7888:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var t=s(8316),r=s(1390);class o extends s(2831).Z{constructor(e,t,s,r,o,i,n,a){super(e,t,s),this.hasAudio=r,this.duration=o,this.av1Url=i,this.h265Url=n,this.vp9Url=a,this.type="video"}static fromJson(e){return new o(e.width||0,e.height||0,e.url||"",e.hasAudio||!1,e.duration||0,e.av1Url||null,e.h265Url||null,e.vp9Url||null)}}class i{constructor(){this.image700=null,this.image460=null,this.imageFbThumbnail=null,this.image460sv=null,this.image460c=null}static fromJson(e){const t=new i;return e.image700&&(t.image700=r.Z.fromJson(e.image700)),e.image460&&(t.image460=r.Z.fromJson(e.image460)),e.imageFbThumbnail&&(t.imageFbThumbnail=r.Z.fromJson(e.imageFbThumbnail)),e.image460sv&&(t.image460sv=o.fromJson(e.image460sv)),e.image460c&&(t.image460c=r.Z.fromJson(e.image460c)),t}}class n{constructor(e,t=null,s=null,r=null){this.type=e,this.content=t,this.mediaId=s,this.caption=r}static fromJson(e){return new n(e.type,e.content||null,e.mediaId||null,e.caption||null)}static fromJsonArray(e){const t=[];for(var s of e)t.push(n.fromJson(s));return t}}class a{constructor(e,t,s,r,o){this.id=e,this.source=t,this.duration=s,this.startTs=r,this.embedUrl=o}static fromJson(e){return new a(e.id||null,e.source||null,e.duration||0,e.startTs||0,e.embedUrl||null)}}class c{constructor(e,t){this.id=e,this.type=t,this.images=null,this.video=null}static fromJson(e){const t=new c(e.id||null,e.type||null);return e.images&&(t.images=i.fromJson(e.images)),e.video&&(t.video=a.fromJson(e.video)),t}static fromJsonArray(e){const t=new Map;for(var s in e)t.set(s,c.fromJson(e[s]));return t}}class l{constructor(){this.blocks=null,this.medias=null}static fromJson(e){const t=new l;return e.blocks&&(t.blocks=n.fromJsonArray(e.blocks)),e.medias&&(t.medias=c.fromJsonArray(e.medias)),t}}class d{constructor(e,t,s){this.listType=e,this.updateTs=t,this.latestCommentText=s}static fromJson(e){return new d(e.listType||null,e.updateTs||0,e.latestCommentText||null)}}class u{constructor(e,t=0,s="optional",r="everyone"){this.placeholder=e,this.cooldown=t,this.media=s,this.gender=r}static fromJson(e){return new u(e.placeholder,e.cooldown,e.media,e.gender)}}class p{constructor(e="everyone"){this.gender=e}static fromJson(e){return new p(e.gender)}}class h{constructor(e=null,t=null){this.message=e,this.updateTs=t}static fromJson(e){return new h(e.message||null,e.updateTs||null)}}class m{constructor(e=0,t=!1,s=!1,r=null,o=null,i=null,n=null){this.memberCount=e,this.followed=t,this.muted=s,this.location=r,this.message=o,this.reply=i,this.pinned=n}static fromJson(e){var t=e.message?u.fromJson(e.message):null,s=e.reply?p.fromJson(e.reply):null,r=e.pinned?h.fromJson(e.pinned):null;return new m(e.memberCount||0,e.followed||!1,e.muted||!1,e.location||null,t,s,r)}}class g extends t.g{constructor(e,t,s){super(),this.id=e,this.url=t,this.title=s,this.images=null,this.article=null,this.comment=null,this.board=null}static fromJson(e){const t=new g(e.id||null,e.url||null,e.title||null);return e.images&&(t.images=i.fromJson(e.images)),e.comment&&(t.comment=d.fromJson(e.comment)),e.board&&(t.board=m.fromJson(e.board)),e.article&&(t.article=l.fromJson(e.article)),t}}},1394:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var t=s(9669),r=s.n(t),o=s(7888),t=s(7429),i=s(2915);class n extends t.L{constructor(){super(...arguments),this.url="/board",this.version=i.pv,this.postId=null}setPostId(e){return this.postId=e,this}fetch(){return e=this,a=function*(){var e={id:this.postId},e=yield r().post(this.getUrl(e));return o.Z.fromJson(e.data.data.board)},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}},9970:(e,t,s)=>{"use strict";s.d(t,{RP:()=>r,$Y:()=>o,m8:()=>i,T:()=>n,af:()=>a,z8:()=>c});const r={hidden:!1,banned:!1,pinned:null,sensitive:null},o={userId:null,displayName:null,emojiStatus:null,avatarUrl:null,role:null,profileUrl:null,moderate:null,permissions:null,delegates:null},i=400,n=10485760,a=0,c=1},3510:(e,t,s)=>{"use strict";s.d(t,{Ne:()=>r,av:()=>o,O4:()=>i,pc:()=>n,JV:()=>a,yM:()=>c,uP:()=>l,tV:()=>d,Di:()=>u,ex:()=>p,a4:()=>h,_L:()=>m,Fb:()=>g,Do:()=>f,WX:()=>y,qR:()=>O,UU:()=>b,ae:()=>v,hM:()=>_,_$:()=>S,gm:()=>T,IL:()=>w,rY:()=>P,Gm:()=>I,lK:()=>E,HW:()=>A,Su:()=>k,G:()=>D,i_:()=>C,Od:()=>U,MR:()=>L,Wx:()=>j,yN:()=>N,Y:()=>R,wj:()=>M,GQ:()=>x,jt:()=>W,Eg:()=>V,Ys:()=>B,fk:()=>G,Bc:()=>F,LC:()=>$,eh:()=>Z,Ox:()=>H,UE:()=>K,x0:()=>z,eZ:()=>Y,qg:()=>q,oE:()=>X,nQ:()=>J,hZ:()=>Q,K8:()=>ee,fA:()=>te,d0:()=>se,L5:()=>re,wl:()=>oe,h_:()=>ie,Sp:()=>ne,g$:()=>ae,Ew:()=>ce,yb:()=>le,yT:()=>de,zq:()=>ue,ov:()=>pe,r7:()=>he,u2:()=>me,qi:()=>ge,gN:()=>fe,bM:()=>ye,bV:()=>Oe,Wg:()=>be,nt:()=>ve,ki:()=>_e,aO:()=>Se,_B:()=>Te});const r="FETCH_COMMENTS",o="LOAD_NEXT_COMMENTS",i="LOAD_PREV_COMMENTS",n="SET_COMMENTS",a="SET_COMMENTS_BY_POST_ID",c="SET_COMMENTS_BY_THREAD_KEY",l="RESET_COMMENTS",d="ADD_COMMENT",u="DELETE_COMMENT",p="OP_HIDE_COMMENT",h="REPORT_COMMENT",m="SET_VIEW_MODE",g="SET_THREAD_KEY",f="SET_COMMENT_SENDING",y="INCREMENT_COMMENTS_COUNT",O="SET_COMMENT_TEXT_HEIGHT",b="SET_HIGHLIGHTED_COMMENT_STATE",v="CLEAR_HIGHLIGHTED_COMMENT_STATE",_="MARK_COMMENT_AS_DELETED",S="DISABLE_COLLAPSE",T="FETCH_FOLLOW_STATUS",w="SET_FOLLOW_STATUS_IN_PROGRESS",P="UPDATE_FOLLOW_STATUS",I="SET_FOLLOW_STATUS",E="CHANGE_FOLLOW_STATUS",A="SHOW_EXTRA_MENU",k="SET_EXTRA_MENU_ID",D="SET_ADMIN_ACTIONS",C="ADMIN_HIDE",U="ADMIN_BAN",L="ADMIN_PIN",j="ADMIN_MASK",N="SET_RESTORE_COMMENT_INFO",R="SET_SHOULD_SCROLL_END",M="TOGGLE_LIST_VIEW",x="TOGGLE_THREAD_VIEW",W="SET_TYPE",V="ADD_REPLY",B="ADD_LOCAL_REPLY",G="INIT_REPLY",F="SET_REPLY_INFO",$="CLEAR_REPLY_INFO",Z="DELETE_THREAD_BY_KEY",H="UPDATE_LIKE",K="CLEAR_BY_TTL",z="CLEAR_LIST_COMMENTS_BY_TTL",Y="CLEAR_THREADS_BY_TTL",q="INIT",X="FETCH__APP_CONFIG",J="FETCH__USER_CONFIG",Q="SET_COMMENT_INFO",ee="SET_TTL",te="SET_LOCK",se="SET_STATUS",re="SET_TOTAL_COUNT",oe="SET_VIEW_ALL",ie="INCREASE_AUTO_LOAD_COUNT",ne="UPDATE_LOCK",ae="UPDATE_STATUS",ce="SET_INIT_STATUS",le="SET_FIRST_LOADING",de="SET_NEXT_LOADING",ue="SET_PREV_LOADING",pe="COMMENT_COMPOSER_TOGGLE",he="INIT_NEW_COMPOSER",me="SET__COMPOSER_INACTIVE",ge="SET__COMPOSER_MODE",fe="SET__COMPOSER_MESSAGE",ye="SET__COMPOSER_DELEGATE",Oe="CLEAR__COMPOSER",be="SEND__COMPOSER_MESSAGE",ve="UPLOAD_MEDIA",_e="FETCH_REPLIES",Se="SET_REPLIES",Te="LOAD_NEXT_COMMENTS_IN_THREAD"},3534:(e,t,s)=>{"use strict";s.d(t,{Wb:()=>r,iS:()=>o,et:()=>i,jQ:()=>n,t5:()=>a});const r="SET__SHOW_MODAL",o="GET__SHOW_MODAL",i="CLOSE_MODAL",n="SET__MODAL_STATE",a="SET__MODAL_COMPONENT"},7429:(e,t,s)=>{"use strict";s.d(t,{L:()=>i});var t=s(9669),r=s.n(t),t=s(1019),o=s(7888);class i extends t.g{constructor(){super(...arguments),this.method="post"}baseUrl(){return`/${this.version}`}fetch(){return e=this,a=function*(){return r()[this.method](this.getUrl()).then(e=>class{static fromJson(e){const t=new Map;for(var s of e){const e=o.Z.fromJson(s);e.id&&t.set(e.id,e)}return t}}.fromJson(e.data.data.boards)).catch(this.returnError)},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}},2915:(e,t,s)=>{"use strict";s.d(t,{pv:()=>r,t1:()=>o,Bw:()=>i,O7:()=>n,X0:()=>a,pR:()=>c});const r="v1",o="v2",i="ban",n="unban",a="hide",c="unhide"},9749:(e,t,s)=>{"use strict";s.d(t,{DO:()=>r,xJ:()=>o});const r="STATE__LOADED",o="STATE__COMPLETED"},2129:(e,t,s)=>{"use strict";s.d(t,{G_:()=>r,Tw:()=>o,GO:()=>i,JA:()=>n,Ct:()=>a,qJ:()=>c});const r="new",o="hot",i="anchor",n="userMedia",a="STATIC",c="ANIMATED"},5381:(e,t,s)=>{"use strict";s.d(t,{Hi:()=>r,Ev:()=>o,tc:()=>i,sE:()=>n,$$:()=>a,eT:()=>c,Yn:()=>l,FM:()=>d,Ox:()=>u,d2:()=>p});const r="opened",o="unset",i="common",n="in_joining_process",a="board_info",c="thread",l="closed",d="list",u="postthread",p="reaction"},8316:(e,t,s)=>{"use strict";s.d(t,{g:()=>r});class r{}},2831:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});class r{constructor(e,t,s){this.width=e,this.height=t,this.url=s}isImage(){return"image"===this.type}}},1390:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});class r extends s(2831).Z{constructor(){super(...arguments),this.type="image"}static fromJson(e){return new r(e.width||0,e.height||0,e.url||"")}isVertical(){return this.height>this.width}}},1019:(e,t,s)=>{"use strict";s.d(t,{g:()=>o});var t=s(4564),r=s.n(t);class o{constructor(){this.options=new Map([["version","v1"]])}init(e){for(var t in e)this.options.set(t,e[t])}getUrl(e=null){const t=new(r())(`${this.baseUrl()}${this.url}`);return e&&t.set("query",e),t.toString()}returnError(e){return Promise.reject(e)}static clearRequestParamsFromEmptyKeys(t){return Object.keys(t).forEach(e=>(null===t[e]||void 0===t[e])&&delete t[e]),t}}},6878:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});class r{constructor(e=[]){this.bag=e}putError(e){var t;null===(t=this.bag)||void 0===t||t.push(e)}getErrors(){return this.bag}proccessErrors(e){if(!this.isEmpty())for(const t of this.getErrors())e(t)}isEmpty(){return 0===this.bag.length}}},5435:(e,t,s)=>{"use strict";s.d(t,{Re:()=>r,Pd:()=>o,TZ:()=>i,IR:()=>n});const r="GET__TOAST_MESSAGES",o="ADD__TOAST_MESSAGE",i="REMOVE__TOAST_MESSAGE",n="INCREMENT_TOASTID"},1467:(e,t,s)=>{"use strict";s.d(t,{e:()=>r});const r=5e3},4258:(e,t,s)=>{"use strict";s.d(t,{Z8:()=>r,_f:()=>o,uO:()=>i,iO:()=>n,h9:()=>a,jk:()=>c,bR:()=>l,sm:()=>d,yk:()=>u,wU:()=>p,f9:()=>h,Ve:()=>m,xN:()=>g,Ai:()=>f});const r="FETCH__BLOCKED_USERS",o="SET__BLOCKLIST",i="SET__BLOCKLIST_IDS",n="SET__LAST_MESSAGES_FROM_BLOCKED_USERS_DIFF_COUNT",a="BLOCK__USER",c="UNBLOCK__USER",l="SET__USER_TO_BLOCK",d="ADD__ID_TO_BLOCKLIST_IDS",u="REMOVE__ID_FROM_BLOCKLIST_IDS",p="REMOVE__BLOCKED_USER_BY_INDEX",h="REMOVE__BLOCKED_USER",m="GET__BLOCKED_USER_BY_ACCOUNT_ID",g="IS__USER_BLOCKED",f="SET_AUTO_FOLLOW_THREAD_REPLY"},2976:(e,t,s)=>{"use strict";s.d(t,{R:()=>r,e:()=>o});const r={USER:"UserAction"},o={BLOCK_USER:"BlockUser",UNBLOCK_USER:"UnblockUser"}},24:(e,t,s)=>{"use strict";s.d(t,{ot:()=>r,XQ:()=>o,GD:()=>i,Lm:()=>n,R5:()=>a,bQ:()=>c});const r={DISPLAY_TOAST:"DISPLAY_TOAST",DISMISS_TOAST:"DISMISS_TOAST"},o={FETCH_APP_INFO:"FETCH_APP_INFO"},i={FETCH_USER_INFO:"FETCH_USER_INFO",UPDATE_COMMENTED_POST_URLS:"UPDATE_COMMENTED_POST_URLS",UPDATE_REPORTED_POST_URLS:"UPDATE_REPORTED_POST_URLS",UPDATE_LIKE_MAPPING:"UPDATE_LIKE_MAPPING",UPDATE_QUOTA:"UPDATE_QUOTA"},n={SET_GOOGLE_NPA:"SET_GOOGLE_NPA",SET_DO_NOT_SELL:"SET_DO_NOT_SELL",INIT_PRIVACY_CHECK:"INIT_PRIVACY_CHECK",UPDATE_CCPA_COOKIE:"UPDATE_CCPA_COOKIE",DISMISS_CCPA_BANNER:"DISMISS_CCPA_BANNER"},a={SET_SESSION_ACTIVE:"SET_SESSION_ACTIVE",CHECK_SESSION_REFERRAL:"CHECK_SESSION_REFERRAL",UNMASK_SENSITIVE:"UNMASK_SENSITIVE"},c={INIT_SECTIONS:"INIT_SECTIONS",ADD_SECTION:"ADD_SECTION",FAVORITE_SECTION:"FAVORITE_SECTION",UNFAVORITE_SECTION:"UNFAVORITE_SECTION",HIDE_SECTION:"HIDE_SECTION",UNHIDE_SECTION:"UNHIDE_SECTION",ADD_RECENT_VISIT_SECTION:"ADD_RECENT_VISIT_SECTION",REMOVE_RECENT_VISIT_SECTION:"REMOVE_RECENT_VISIT_SECTION",CLEAR_RECENT_VISIT_SECTIONS:"CLEAR_RECENT_VISIT_SECTIONS"}},7637:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(4949);function o(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function i(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const n={HOT:"hot",TRENDING:"trending",FRESH:"fresh",OVERVIEW:"overview",POSTS:"posts",COMMENTS:"comments",LIKES:"likes",ACCOUNT:"account",PASSWORD:"password",PROFILE:"profile",PRIVACY:"privacy",DO_NOT_SELL:"do-not-sell"},a=i(i({},n),{},{LIST:[n.HOT,n.TRENDING,n.FRESH],SECTION_LIST:[n.HOT,n.FRESH],TAG_LIST:[n.HOT,n.FRESH],USER_LIST:[n.OVERVIEW,n.POSTS,n.COMMENTS],PROFILE_LIST:[n.OVERVIEW,n.POSTS,n.COMMENTS,n.LIKES],SETTINGS:[n.ACCOUNT,n.PASSWORD,n.PROFILE,n.PRIVACY]})},1093:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(4949);function o(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function i(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const n={UPVOTE:"UPVOTE",FEATURE_HOT:"FEATURE_HOT",FEATURE_TRENDING:"FEATURE_TRENDING",FEATURED:"FEATURED",COMMENT:"COMMENT",COMMENT_REPLY:"COMMENT_REPLY",COMMENT_UPVOTE:"COMMENT_UPVOTE",COMMENT_MENTION:"COMMENT_MENTION",MILESTONE_POST_UPVOTE:"MILESTONE_POST_UPVOTE",MILESTONE_POST_COMMENT:"MILESTONE_POST_COMMENT",MILESTONE_COMMENT_UPVOTE:"MILESTONE_COMMENT_UPVOTE",MILESTONE_COMMENT_REPLY:"MILESTONE_COMMENT_REPLY",MILESTONE_OVERALL_UPVOTE:"MILESTONE_OVERALL_UPVOTE",MILESTONE_OVERALL_COMMENT:"MILESTONE_OVERALL_COMMENT",FOLLOW_THREAD:"FOLLOW_THREAD",SYSTEM:"SYSTEM",USER:"USER"},a=i(i({},n),{},{MENTION_TAB:[n.COMMENT,n.COMMENT_REPLY,n.COMMENT_MENTION]})},3822:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const r={COPYRIGHT:{type:1,title:"Copyright and trademark infringement",content:"Report as Copyright and trademark infringement?\n\nWe remove posts that include copyright or trademark infringement. If someone is using your photo without your permission or impersonating you, we may remove the content and disable the account.\n\nTo report a claim of copyright infringement, please tap continue and fill out the form.",externalUrl:"https://about.9gag.com/copyright#takedown-notice"},SPAM:{type:2,title:"Spam",content:"Report as spam?\n\nWe remove:\n- Clickbait\n- Advertising\n- Scam\n- Script bot",externalUrl:null},COMMENT_SPAM:{type:2,title:"Spam",content:"Report as spam?\n\nWe remove:\n- Advertising\n- Scam\n- Script bot",externalUrl:null},PORNOGRAPHY:{type:3,title:"Pornography",content:"Report as pornography?\n\nWe remove:\n- Photos or videos of sexual intercourse\n- Posts showing sexual intercourse, genitals or close-ups of fully-nude buttocks",externalUrl:null},REPOST:{type:4,title:"Repost",content:"Report as repost?",externalUrl:null},HATRED_BULLYING:{type:5,title:"Hatred and bullying",content:"Report as hatred and bullying?\n\nWe remove:\n- Comments that contain credible threat\n- Comments that target people to degrade or shame them\n- Personal information shared to blackmail or harass\n- Threats to post nude photo of you",externalUrl:null},SELF_HARM:{type:6,title:"Self-harm",content:"Report as self-harm?\n\nWe remove comments encouraging or promoting self injury, which includes suicide, cutting and eating disorders. We may also remove posts identifying victims of self injury if the post attacks or makes fun of them.",externalUrl:null},VIOLENCE:{type:7,name:"VIOLENCE",title:"Violent, gory and harmful content",content:"Report as violent, gory and harmful content?\n\nWe remove:\n- Photos or videos of extreme graphic violence\n- Posts that encourage violence or attack anyone based on their religious, ethnic or sexual background\n- Specific threats of physical harm, theft, vandalism or financial harm",externalUrl:null},CHILD_PORN:{type:8,title:"Child Porn",content:"Report as child porn?\n\nWe remove and may report to legal entity about:\n- Photos or videos of sexual intercourse with children\n- Posts of nude or partially nude children",externalUrl:null},ILLEGAL:{type:9,title:"Illegal activities e.g. Drug Uses",content:"Report as illegal activities?\n\nWe remove and may report to legal entity about:\n- Posts promoting illegal activities, e.g. the use of hard drugs\n- Posts intended to sell or distribute drugs",externalUrl:null},DECEPTIVE:{type:10,title:"Deceptive content",content:"Report as deceptive content?\n\nWe remove:\n- Purposefully fake or deceitful news\n- Hoax disproved by a reputable source",externalUrl:null},IMPERSONATION:{type:11,title:"Impersonation",content:"What can I do if someone is impersonating me on 9GAG?\n\n9GAG takes safety seriously. If someone created posts/comments/accounts pretending to be you, you can tap continue and fill out the form. Make sure to provide all the requested info, including a photo of your government-issued ID.\n\nWe only respond to reports sent to us from the person who's being impersonated or a representative of the person who's being impersonated (ex: a parent). If someone you know is being impersonated, please encourage that person to report it.",externalUrl:"https://www.surveymonkey.com/r/GSJ3NTF"},DISLIKE:{type:12,title:"I don't like this",content:"What can I do if I see something I don't like on 9GAG?\n\n- Report it if it doesn't follow 9GAG rules\n- Downvote it to decide which posts/ comments can go viral",externalUrl:null},INAPPROPRIATE_USERNAME_OR_PICTURE:{type:13,title:"Inappropriate username/ profile picture",content:"Report as inappropriate username or profile picture?\n\nWe remove:\n- Inappropriate and offensive username/ profile picture",externalUrl:null}},o={TYPES:{POST:"Post",COMMENT:"Comment",PROFILE:"Profile"},PROFILE:[r.INAPPROPRIATE_USERNAME_OR_PICTURE,r.SPAM,r.PORNOGRAPHY,r.HATRED_BULLYING,r.SELF_HARM,r.VIOLENCE,r.CHILD_PORN,r.ILLEGAL,r.DECEPTIVE,r.IMPERSONATION,r.COPYRIGHT,r.DISLIKE],POST:[r.SPAM,r.REPOST,r.PORNOGRAPHY,r.HATRED_BULLYING,r.SELF_HARM,r.VIOLENCE,r.CHILD_PORN,r.ILLEGAL,r.DECEPTIVE,r.COPYRIGHT],COMMENT:[r.COMMENT_SPAM,r.HATRED_BULLYING,r.SELF_HARM,r.ILLEGAL,r.IMPERSONATION],TYPE_DISLIKE:r.DISLIKE,TYPE_REPOST:r.REPOST}},8912:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const r={INFO:"info",WARN:"warn",ERROR:"error"}},1186:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(4907);const o="cacheableClear",i=class{static isFbInAppBrowser(){return navigator.userAgent.match(/FBAN|FBAV|FBIOS|FB_IAB/i)}static isInstagramInAppBrowser(){return navigator.userAgent.match(/Instagram/i)}static isiOSorInApp(){return this.isFbInAppBrowser()||this.isInstagramInAppBrowser()||this.isiOS()}static isAndroid(){return navigator.userAgent.match(/Android/i)}static isiOS(){return navigator.userAgent.match(/iPhone|iPod|iPad/i)}static isBot(){return navigator.userAgent.match(/Googlebot|Pinterestbot|Applebot|bingbot/i)}static getRangeId(){return r.U2("____ri")||0}static getLocation(){return r.U2("____lo")}static hasSession(){return!!r.U2("PHPSESSID")}static shouldClearUserInfo(e){var t=!!r.U2(o);return t&&r.Od(o,{domain:e}),t}static isWindowInactive(){return document.hidden||document.msHidden||document.webkitHidden||document.mozHidden}static fromExternal(){return!document.referrer.startsWith(window.location.origin)}static afterLoad(e){"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)}}},6238:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const r=new class{constructor(){this.clipboard=null}async init(){if(this.clipboard)return this.clipboard;var e=(await s.e(369).then(s.t.bind(s,2152,23)))["default"];this.clipboard=e}async copyText(o,i){return new Promise(async(t,s)=>{try{await this.init()}catch(e){s(e)}const e=document.createElement("button"),r=new this.clipboard(e,{text:function(){return o},action:function(){return"copy"},container:"object"==typeof i?i:document.body});r.on("success",function(e){r.destroy(),t(e)}),r.on("error",function(e){r.destroy(),s(e)}),e.click()})}}},7651:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(6296).default;const o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=class{static getCurrentTime(){return Math.floor(Date.now()/1e3)}static getTimeAgo(e){if(!e)return"";var t=this.getCurrentTime()-e;if(t<60)return"just now";if(t<3600)return`${Math.floor(t/60)}m`;if(t<86400)return`${Math.floor(t/3600)}h`;if(t<604800)return`${Math.floor(t/86400)}d`;const s=new Date(1e3*e);let r=`${s.getDate()} ${o[s.getMonth()]}`;return s.getFullYear()!==(new Date).getFullYear()&&(r+=` ${s.getFullYear().toString().substr(-2)}`),r}static secondsToHrs(e){e=Number(e);var t=Math.floor(e/3600),e=Math.floor(e%3600/60);return(0<t?t+(1==t?" hour ":" hours "):"")+(0<e?e+(1==e?" minute ":" minutes "):"")}static getAccountAge(e){if(!e)return"";e=Math.floor((this.getCurrentTime()-e)/86400);return e<=0?"0 days":`${r.integerWithCommas(e)} ${1<e?"days":"day"}`}}},9012:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const r=new class{constructor(){let e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}this.passiveSupported=e}addEventListener(e,t,s=!1){window.addEventListener(e,t,this.passiveSupported?{passive:!0,capture:s}:s)}removeEventListener(e,t,s=!1){window.removeEventListener(e,t,this.passiveSupported?{passive:!0,capture:s}:s)}}},8309:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(5185),o=s(5670);const i={track:async function(e,t,s){(0,r.K)(()=>this._track(e,t,s))},_track:function(e,t,s){try{o.default.log("Tracking GA: "+e+","+t+","+s),ga("send","event",e,t,s);for(var r of window._ga||[])ga(r+".send","event",e,t,s)}catch(e){}},trackPageView:async function(e){(0,r.K)(()=>this._trackPageView(e))},_trackPageView:function(e){try{o.default.log("Tracking GA: PageView "+e),ga("set","page",e),ga("send","pageview");for(var t of window._ga||[])ga(t+".set","page",e),ga(t+".send","pageview")}catch(e){}},trackEvent:async function(e){(0,r.K)(()=>this._trackEvent(e))},_trackEvent:function(e){try{ga("send","event",e);for(var t of window._ga||[])ga(t+".send","event",e)}catch(e){}},trackException:async function(e,t=!1){(0,r.K)(()=>this._trackException(e,t))},_trackException:function(e,t=!1){try{o.default.log("Tracking GA: Exception "+e),ga("send","exception",{exDescription:e,exFatal:t});for(var s of window._ga||[])ga(s+".send","exception",{exDescription:e,exFatal:t})}catch(e){}},setUserId:function(e){if(e){o.default.log(`GA setUserId: ${e}`);try{ga("set","&uid",e);for(var t of window._ga||[])ga(`${t}.set`,"&uid",e)}catch(e){}}}}},5670:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const r=class{static async log(e,t){this.logWithData(e,t)}static async logWithData(e,t){}}},8062:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(5670).default;const o=new class{constructor(){this.marked=null,this.renderer=null}async init(){if(this.marked)return this.marked;const e=(await s.e(334).then(s.t.bind(s,7084,23)))["default"];return this.renderer=new e.Renderer,this.renderer.link=(e,t,s)=>`<a href="${e=0!==e.indexOf("http")?`http://${e}`:e}" target="_blank">${s}</a>`,e}async render(e){try{return this.marked=await this.init(),this.marked(e,{renderer:this.renderer})}catch(e){return r.log(e),""}}}},1653:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(7651).default,o=s(5670).default,i={UNIQUE_EVENT_CATEGORIES:["PostImpression"],storage:{STORAGE_KEY:"sessionEvents",SESSION_TIME:1800,data:{},expireAt:0,fetch:function(){let e=null;if(void 0!==window.localStorage)try{e=JSON.parse(window.localStorage.getItem(this.STORAGE_KEY))}catch(e){}var t=r.getCurrentTime(),s=null==e?0:e.expireAt;o.log("SessionStorage.fetch() expireAt="+s+", TTL="+(s-t)),s<t?(this.data={},this.expireAt=t+this.SESSION_TIME,o.log("SessionStorage.fetch() newSession")):(this.data=e.data,this.expireAt=e.expireAt)},save:function(){if(void 0!==window.localStorage)try{window.localStorage.setItem(this.STORAGE_KEY,JSON.stringify({data:this.data,expireAt:this.expireAt}))}catch(e){}},extendExpiry:function(){this.expireAt=r.getCurrentTime()+this.SESSION_TIME},getItem:function(e){return this.data[e]},setItem:function(e,t){this.data[e]=t}},checkEvent:function(e){this.storage.fetch();var t=e.getHashCode(),s=!this.storage.getItem(t);return this.storage.setItem(t,1),this.storage.extendExpiry(),this.storage.save(),o.log("SessionFilter.checkEvent() hashCode="+t+", isNew="+s,e),s},filterEvent:function(e){return-1==this.UNIQUE_EVENT_CATEGORIES.indexOf(e.category)||this.checkEvent(e)?e:null}},l=s(6296),t=s(5670),c=s(1931),d=s(5185),u={_pageViewTracked:!1,_filters:[],getDeviceId:()=>window.Piwik&&window.Piwik.getTracker?window.Piwik.getTracker().getVisitorId():null,push:async function(e){window._paq&&window._paq.push(e)},addFilter(e){e&&this._filters.push(e)},trackEvent:async function(e,t,s,r,o,i){let n=new class{constructor(e,t,s,r,o,i){this.category=e,this.action=t,this.name=s,this.value=r,this.cvars=o||{},this.customUrl=i}getUniqueItemKey(){let e=this.category+"|"+this.action+"|"+this.name;if(this.cvars)for(var t in this.cvars)null!=t&&(e+="|"+t+":"+this.cvars[t]);return e}getHashCode(){var e=this.getUniqueItemKey();return l.default.hashCode(e)}extractCVars(s){const r={},o={};return Object.entries(this.cvars).forEach(([e,t])=>{s.includes(e)?r[e]=t:o[e]=t}),this.cvars=o,r}}(e,t,s,r,o,i);var a=[];if(this._filters&&0<this._filters.length){for(var c=0;c<this._filters.length;c++)n=this._filters[c].filterEvent(n);n&&a.push(n)}else a.push(n);for(c=0;c<a.length;c++){const e=a[c];(0,d.K)(()=>this._trackEvent(e))}},_trackEvent:function(e){var t=e.category,s=e.action,r=e.name,o=e.value,i=e.cvars,n=e.customUrl,n=null!=n?n:document.location.href;this.push(["setCustomUrl",n]);var i=i||{},a=0;for(Object.keys(i).forEach(function(e){u.push(["setCustomVariable",++a,e,i[e],"event"])}),this.push(["trackEvent",t,s,r,o=null==o?1:o]),a=1;a<=Object.keys(i).length;a++)u.push(["deleteCustomVariable",a,"event"]);c.default.uniqueViewed(e)},setUserId:async function(e){this.push(["setUserId",""+e])},trackPageView:async function(){this._pageViewTracked||(this.push(["trackPageView"]),this._pageViewTracked=!0)}};t.default.log("PiwikUtilsSessionFilter",i),u.addFilter(i);const n=u},9377:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var r=s(4949),t=s(9669),o=s.n(t),t=s(7361),i=s.n(t),n=s(4907),a=s(7651).default;function c(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const d="usprivacy",u=class{static async check(e){var t=a.getCurrentTime();if(i()(e,"ttl",0)>t)return e;try{const e=(await o().get("https://privacy-api.9gag.com/v1/check"))["data"];return l(l({},e),{},{ttl:t+86400})}catch(t){return e}}static updateCCPACookie(e,t,s){var r=n.U2(d);e?r!==(s=t&&s?"1YY-":"1YN-")&&n.vd(d,s,{expires:new Date(Date.now()+31536e6)}):null!==r&&n.Od(d)}static getCCPAString(){return n.U2(d)||"1---"}}},403:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});const o=/^[1][nNyY-][nNyY-][nNyY-]?$/;var i=r(4907),n=r(5670).default;function s(){if(!window.frames.__uspapiLocator)if(document.body){const e=document.createElement("iframe");e.style.cssText="display:none",e.name="__uspapiLocator",document.body.appendChild(e)}else setTimeout(s,5)}let a;s();function c(e,t){if("function"==typeof t)if(null==e||1==e){const s=new class{constructor(){this.version=1,this.baseString=null}getUsprivacyString(){return this.baseString}setUsprivacyString(e){let t=!1;return o.test(e)&&(this.baseString=e,t=!0),t}getVersion(){return this.version}};s.setUsprivacyString(i.U2("usprivacy"));e=s.getUsprivacyString();n.log(`getuspdata: ${e}`),e?t({version:s.getVersion(),uspString:e},!0):t({version:null,uspString:null},!1)}else"function"==typeof t&&t(null,!1);else console.error("__uspapi: callback parameter not a function")}window.__uspapi=new function(t){if(t.__uspapi)try{if(t.__uspapi("__uspapi"))return t.__uspapi;a=t.__uspapi()||[]}catch(e){return t.__uspapi}return function(t){try{return{getUSPData:c,__uspapi:function(){return!0}}[t].apply(null,[].slice.call(arguments,1))}catch(e){console.error("__uspapi: Invalid command: ",t)}}}(window),window.addEventListener("message",function(s){const r=s&&s.data&&s.data.__uspapiCall;r&&window.__uspapi(r.command,r.version,(e,t)=>{s.source&&s.source.postMessage&&s.source.postMessage({__uspapiReturn:{returnValue:e,success:t,callId:r.callId}},"*")})},!1);var l=r(3036),d=r(5670),t=r(7361),u=r.n(t),p=r(1186);const h=new class{constructor(){this.inited=!1,this.enabled=!1,this.loadPromise=null,this.loadTimer=null,this.gdprApplies=!1}init(e){var{enabled:t=!0,site:s="9gag.com"}=e,e=p.Z.getLocation();!this.inited&&t&&"US"!==e&&(this.inited=!0,this.enabled=t,r(3614),l.default.loadScript(`https://quantcast.mgr.consensu.org/choice/-nTLRCyXqW8wM/${s}/choice.js`))}async cmpLoaded(){return this.enabled&&window.__tcfapi?this.loadPromise||void(this.loadPromise=new Promise(r=>{this.loadTimer=setInterval(()=>{window.__tcfapi&&window.__tcfapi("ping",2,e=>{var{cmpLoaded:t,gdprApplies:s}=e;t&&void 0!==s&&(d.default.log("cmpLoaded",{data:e}),this.gdprApplies=s,clearInterval(this.loadTimer),this.loadTimer=null,r())})},500),setTimeout(()=>{this.loadTimer&&(d.default.log("cmpTimeout"),r())},1e4)})):Promise.resolve()}displayConsentUi(){this.enabled&&window.__tcfapi&&window.__tcfapi("displayConsentUi",2,function(){})}async getGdprApplies(){return new Promise(async e=>{this.enabled&&window.__tcfapi?(await this.cmpLoaded(),e(this.gdprApplies)):e(!1)})}async getGoogleNpa(){return new Promise(async t=>{await this.getGdprApplies()?window.__tcfapi("getTCData",2,e=>{d.default.log("getGoogleNpa",{consent:e});e=u()(e,"vendor.consents.755",!0);t(!e)},[755]):t(!1)})}async getConsentString(){return new Promise(async s=>{await this.getGdprApplies()?window.__tcfapi("getTCData",2,(e,t)=>{var e=(t&&e||{})["tcString"];s(e)}):s(null)})}}},2175:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(1186),o=s(9012),i=s(2262);const n=new class{constructor(){this.state=(0,i.qj)({}),this._update(),o.default.addEventListener("resize",this._update.bind(this)),o.default.addEventListener("orientationchange",this._update.bind(this))}_update(){this.state.width=r.Z.isiOSorInApp()?screen.width:window.innerWidth,this.state.height=window.innerHeight}browserWidth(){return this.state.width}browserHeight(){return this.state.height}}},3036:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(5670),r=s(1186);const o=new class{constructor(){this.timeStart=Date.now(),this.loadPromise=this._initLoadPromise(),this.promiseMap={}}_initLoadPromise(){return new Promise(async e=>{r.Z.afterLoad(()=>{n.default.log("_initLoadPromise ",Date.now()-this.timeStart),e()})})}async loadScript(s){var e=this.promiseMap[s];if(e)return e;e=new Promise((e,t)=>{this.loadPromise.then(()=>this._loadScript(s,5,e,t))});return this.promiseMap[s]=e}_loadScript(e,t=5,s,r){if(n.default.log("_loadScript",e),t<=0)return n.default.log("_loadScript failure after multiple retries",e),r(),void(this.promiseMap[e]=null);const o=document.createElement("script");o.async=!0,o.type="text/javascript",o.src=e,o.onload=o.onreadystatechange=()=>{o.readyState&&"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onload=o.onreadystatechange=null,s())},o.onerror=()=>{setTimeout(()=>this._loadScript(e,t-1,s,r),1e3)};const i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(o,i)}}},6296:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const r=new class{constructor(){}htmlDecode(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}integerWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}secondsToTimeDisplay(e){if(!e)return"";var t=e%60;return Math.floor(e/60)+":"+(t<10?"0":"")+t}capitalize(e){return"string"==typeof e?e.replace(/^\w/,e=>e.toUpperCase()):e}getCanonicalTagFromUrl(e){return e.replace("/tag/","")}getTagUrl(e,t=null){let s=`/tag/${(e||"").toLowerCase().replace(/ /g,"-")}`;return t&&(s=`${s}?ref=${t}`),s}getSearchUrl(e){return`/search/?query=${encodeURIComponent(e)}`}getProfileUrl(e,t=null){let s=`/u/${(e||"").toLowerCase()}`;return t&&(s=`${s}?ref=${t}`),s}getMentionUrl(e){return this.getProfileUrl(e.replace("@",""),"c.mention")}abbreviateNumber(e){return 1e7<=e?`${Math.floor(e/1e7)}M`:1e6<=e?Math.floor(e/1e5)/10+"M":1e4<=e?`${Math.floor(e/1e3)}K`:1e3<=e?Math.floor(e/100)/10+"K":e}isCommentHash(e){return!!e&&["#comment","#cs_comment_id"].includes(e.split("=")[0])}endsWith(e,t){return-1!==e.indexOf(t,e.length-t.length)}getCommentErrorMessage(e){let t="Error occurred. Please try again later.";var{code:s,error:e}=(e=e.response?e.response.data:e)||{};switch(e&&(t=e),s){case"IMAGE_INVALID_TYPE":t="Unsupported type.";break;case"IMAGE_INVALID_SIZE":t="Media size should be less than 10MB"}return t}urlRegExp(e="g"){return new RegExp('(?:(?:(?:(?:h|H)ttps?://))|(w|W)ww\\.)((?:(?:[A-z\\u00a1-\\uffff0-9][-_]*)*[A-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?:[/?#][^\\s"]*)?',e)}hashCode(e){for(var t=0,s=0;t<e.length;t++)s=Math.imul(31,s)+e.charCodeAt(t)|0;return s}}},6810:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var t=s(9669),r=s.n(t),t=s(129),o=s.n(t);const i=class{static async getTagSuggestions(e){try{if(!(e=e&&e.toLowerCase().trim()||"").length)return[];var t=(await r().get(`/v1/tag-suggest?${o().stringify({query:e})}`))["data"];return t.data.tags}catch(e){return[]}}}},6245:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(4949),c=s(5670).default,l=s(1653).default;function d(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}const r={EVENT_CATEGORY:"PostImpression",timedActionList:[{action:"ViewPostForOneSecond",threshold:1},{action:"ViewPostForThreeSeconds",threshold:3}],trackedActions:{},getActionsByVideoViewTime(t,e,s){var r=e-s;let o=[];for(let e=0;e<this.timedActionList.length;e++)t>=this.timedActionList[e].threshold&&this.timedActionList[e].threshold<=r&&o.push(this.timedActionList[e].action);return o},getUniqueActionKey:function(e,t,s){let r=t;return s&&(r+=":"+s.TriggeredPage,r+=":"+s.TriggeredPageKey),r},filterTrackedActions:function(e,t,s,r){r=this.getUniqueActionKey(e,s,r);c.log("uniqueActionKey",r);let o=this.trackedActions[r]||[],i=[];for(let e=0;e<t.length;e++)-1===o.indexOf(t[e])&&(i.push(t[e]),o.push(t[e]));return this.trackedActions[r]=o,i},onNonVideoView:function(e,t,s,r,o){this.sendUntrackedPostActions(e,t,s,["ViewPostForOneSecond"],o)},onVideoView:function(e,t,s,r,o,i,n){let a=this.getActionsByVideoViewTime(r,o,i);.95*(o-i)<=r&&a.push("FinishedVideo"),this.sendUntrackedPostActions(e,t,s,a,n)},sendUntrackedPostActions(t,e,s,r,o){var i=this.filterTrackedActions(t,r,e,o);c.log(`sendUntrackedPostActions.untrackedActions entryId=${e},pos=${s}`,i);const n=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(Object(s),!0).forEach(function(e){(0,a.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({PostKey:e},o);s&&(n.Position=s);for(let e=0;e<i.length;e++)l.trackEvent(this.EVENT_CATEGORY,i[e],t,1,n)}}},4395:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(2289).default,o=s(5670).default,l=s(6245).default;const i=class{constructor(e){this.id="TTM:"+Math.floor(1e3*Math.random()),this.visibilityObserver=null,this.videoTimeManager=e,this.setTimedViewVisibilityThreshold(.5),this.timers={},this.videoPlayed={},this.screenKey="",this.trackingCVars={},this.intersectionHandler=this.intersectionHandler.bind(this),this.setVisibilityObserver=this.setVisibilityObserver.bind(this),this.onVideoTimeUpdate=this.onVideoTimeUpdate.bind(this)}getVideoTimeManager(){return this.videoTimeManager}setScreenKey(e){this.screenKey=e}setTimedViewVisibilityThreshold(e){this.log("setTimedViewVisibilityThreshold()",e),this.threshold=e}setTrackingCVars(e){this.log("setTrackingCVars()",e),this.trackingCVars=e}setVisibilityObserver(e=0,t=0){this.visibilityObserver||(this.visibilityObserver=new r.VisibilityObserver(this.intersectionHandler,e,t,[0,.5]))}log(e,t){o.log("["+this.id+"] TimedTrackingManager."+e,t)}track(e,t){this.visibilityObserver.observe(document.getElementById(e),t)}untrackAll(){this.visibilityObserver&&this.visibilityObserver.reset()}start(){this.videoTimeManager&&this.videoTimeManager.addListener(this.onVideoTimeUpdate)}stop(){this.videoTimeManager&&this.videoTimeManager.removeListeners()}trackNonVideoView(t){if(t.data){const s=t.data.key;if(.5<t.intersectionRatio&&this.shouldCheckNonVideoView(t)){let e=this;void 0===this.timers[s]&&(this.timers[s]=setTimeout(function(){e.timers[s]=0,l.onNonVideoView(e.screenKey,s,t.data.position,1,e.trackingCVars)},1e3))}t.visibilityStatus===r.VISIBILITY_STATUS.exit&&0===t.intersectionRatio&&this.timers[s]&&(clearTimeout(this.timers[s]),delete this.timers[s])}}intersectionHandler(e){e.forEach(e=>{this.trackNonVideoView(e)})}onVideoTimeUpdate(s,r,o,i,n){n=n||0;var a=s.key;if(a){var c=this.shouldCountVideoTime(s,r,o,i,n);if(this.log("onVideoTimeUpdate() key="+a+", startTime="+n+", currentTime="+o+", duration="+i+", shouldCount="+c,s),c){let e=this.videoPlayed[a]||{accumPlayTime:0,lastPlayTime:0,startTime:n,duration:i};r=e.accumPlayTime>i,c=o-e.lastPlayTime;let t=0;t=0<c?c:i-e.lastPlayTime+(o-n),0<t&&1e3*t<=5e3?e.accumPlayTime+=t:(t=0,this.log("onVideoTimeUpdate() key="+a+", accumPlayTimeIncrease="+t+", invalid playtime change")),e.lastPlayTime=o,this.videoPlayed[a]=e,this.log("onVideoTimeUpdate() key="+a+", accumPlayTimeIncrease="+t+", completed="+r,e),r||l.onVideoView(this.screenKey,a,s.position,e.accumPlayTime,i,n,this.trackingCVars)}}}isIntersectionRatioAboveThreshold(e){return-1<this.visibilityObserver.getSortedVisibleItems(this.threshold).map(e=>e.domId).indexOf(e)}shouldCheckImpression(e){return!0}shouldCheckNonVideoView(e){return!0}shouldCountVideoTime(e,t,s,r){return s=s||0,r=r||0,!!(t&&s&&r)&&this.isIntersectionRatioAboveThreshold(e.domId)}}},1931:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var o=s(4907),t=s(129),i=s.n(t),r=s(5185),n=s(3036),a=s(1186),c=s(1653),l=s(5670).default;const d="unique-viewed";var u={trackUrl:"//t.9gag.com/img.gif",rlogTrackUrl:"//web-t.9gag.com/img.gif",rlogUrl:"//web-t.9gag.com/m.gif",appId:"web.9gag.desktop.release",appVersion:"0",lastException:"",username:"",init:function(e){this.trackUrl=e.trackUrl||this.trackUrl,this.rlogTrackUrl=e.rlogTrackUrl||this.rlogTrackUrl,this.rlogUrl=e.rlogUrl||this.rlogUrl,this.appId=e.appId||this.appId,this.appVersion=e.appVersion||this.appVersion,this.username=e.username||this.username,this.loadScripts(e)},loadScripts:function(e){window.ga&&n.default.loadScript("https://www.google-analytics.com/analytics.js");var e=e["trackerJsUrl"];e&&n.default.loadScript(e)},setUsername:function(e){this.username=e},uniqueViewed:function(t){if("PostImpression"==t.category&&"ViewPostForOneSecond"==t.action&&t.cvars&&t.cvars.PostKey&&t.cvars.TriggeredPage){let e=t.cvars.PostKey;try{e=JSON.parse(t.cvars.PostKey),Array.isArray(e)&&(e=e.join(","))}catch(t){}u.event(d,"v",{entry:e,platform:-1!=this.appId.indexOf("desktop")?"d":"m",view:"SinglePost"==t.cvars.TriggeredPage?"p":"l"})}},event:async function(e,t,s){s={action:e,value:t,ref:"",label:void 0===s.label?"":s.label,labelValue:void 0===s.labelValue?"":s.labelValue,platform:void 0===s.platform?"":s.platform,entry:void 0===s.entry?"":s.entry,user:void 0===s.user?"":s.user,view:void 0===s.view?"":s.view};s.ref=u._getQueryStringParam("ref"),u._send(u._formatUrl(s)),e!==d&&u._send(u._formatUrl(s,u.rlogTrackUrl))},_getQueryStringParam:function(e){for(var t=window.location.href.split(/[\?&]+/),s=0;s<t.length;s++){var r=t[s].split("=");if(r[0]==e)return r[1]}return""},_formatUrl:function(e,t){var t=t||u.trackUrl,s="",r=[];e&&(null!=e.action&&null!=e.action&&r.push("a="+encodeURIComponent(e.action)),null!=e.value&&null!=e.value&&r.push("v="+encodeURIComponent(e.value)),null!=e.ref&&null!=e.ref&&r.push("ref="+encodeURIComponent(e.ref)),null!=e.label&&null!=e.label&&r.push("lbl="+encodeURIComponent(e.label)),null!=e.labelValue&&null!=e.labelValue&&r.push("lblv="+encodeURIComponent(e.labelValue)),null!=e.platform&&null!=e.platform&&r.push("p="+encodeURIComponent(e.platform)),null!=e.entry&&null!=e.entry&&r.push("e="+encodeURIComponent(e.entry)),null!=e.user&&null!=e.user&&r.push("u="+encodeURIComponent(e.user)),null!=e.view&&null!=e.view&&r.push("w="+encodeURIComponent(e.view))),r.push("url="+encodeURIComponent(u._getUrl())),r.push("referrer="+encodeURIComponent(u._getReferrer())),r.push("t="+encodeURIComponent(u._getTime()));for(var o=0;o<r.length;o++)s+=r[o]+"&";return t+"?"+s},_send:function(t,s=null){(0,r.K)(()=>{const e=new Image;s&&(e.onload=s),e.src=t})},_getUrl:function(){return location.href},_getReferrer:function(){return document.referrer},_getTime:function(){var e=new Date,e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return Math.round(e.getTime()/1e3)},logTime:function(e,t){var s=a.Z.getLocation()||"O1",s={a:u.appId,v:parseInt(u.appVersion),t:Math.round(t),k:e+"."+s,g:"USER_EXPERIENCE"},s=u.rlogUrl+"?"+i().stringify(s);u._send(s)},logLatencyIfSane:function(e,t,s){var r=s-t;0<t&&0<s&&0<r&&r<6e5&&(l.log("LatencyTracking: "+e+":"+r.toFixed(2)),u.logTime(e,r))},logCount:function(e,t){var s=a.Z.getLocation()||"O1",s={a:u.appId,v:parseInt(u.appVersion),c:t,k:e+"."+s,g:"USER_EXPERIENCE",_uniq:Math.random()+ +new Date},s=u.rlogUrl+"?"+i().stringify(s);u._send(s)},logException:function(e,t={}){var s,r;e!=this.lastException&&(this.lastException=e,s=o.U2("ts1")||c.default.getDeviceId()||"",r=this.username||"",t=`${navigator.userAgent}\n\n${t.info||""}`,t={a:u.appId,v:parseInt(u.appVersion),i:s,u:r,m:e,if:t,k:"ERROR",g:"USER_EXPERIENCE"},t=u.rlogUrl+"?"+i().stringify(t),u._send(t))},profileUrlLoadTime:function(e,t){u._shouldTrackPerformance()&&u._send(e,function(){u.trackUrlTiming(e,t)})},trackUrlTiming:function(e,t){var s,r=performance.getEntriesByName(e);r&&r[0]&&(s=r[0].requestStart,e=r[0].responseEnd,u.logLatencyIfSane("DELAY_TXFR_"+t,s,e),e=r[0].connectStart,r=r[0].connectEnd,u.logLatencyIfSane("DELAY_CONN_"+t,e,r))},reportPerf:function(){u.profilePageLoadTime(),u.profileAssetsLoadTime()},_shouldTrackPerformance:function(){return performance&&performance.getEntriesByType&&performance.navigation&&performance.timing&&0==performance.navigation.type},profilePageLoadTime:function(){var e,t;u._shouldTrackPerformance()&&"/"==window.location.pathname&&(e=performance.timing.domComplete,t=performance.timing.navigationStart,u.logLatencyIfSane("PAGE_DELAY",t,e))},profileAssetsLoadTime:function(){var e;!u._shouldTrackPerformance()||(e=window.performance.getEntriesByType("resource").find(function(e){return e&&e.name&&e.name.endsWith("gag.css")}))&&e.name&&0<e.transferSize&&(l.log("Main CSS resource is :",e),u.trackUrlTiming(e.name,"MAINCSS"))},downloadFail:function(e){u.logCount("DOWNLOAD_FAIL",1)}};const p=u},28:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const r={aggregatePeriod:800,timers:{},pendingUpdate:{},listeners:[],addListener:function(e){this.listeners.push(e)},removeListeners:function(){this.listeners=[]},onVideoTimeUpdate:function(e,t,s,r,o){var i=this.pendingUpdate[e.key];if(this.pendingUpdate[e.key]={data:e,isPlaying:t,currentTime:s,duration:r,startTime:o},!i){const n=this;setTimeout(function(){n._onVideoTimeUpdate(n.pendingUpdate[e.key]),n.pendingUpdate[e.key]=null},this.aggregatePeriod)}},_onVideoTimeUpdate:function(t){if(t)for(let e=0;e<this.listeners.length;e++)this.listeners[e](t.data,t.isPlaying,t.currentTime,t.duration,t.startTime)}}},9432:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(1186);const o=new class{supportsCodec(e){return"MediaSource"in window?MediaSource.isTypeSupported(e):"probably"===document.createElement("video").canPlayType(e)}supportsH264(){return this.supportsCodec('video/mp4; codecs="avc1.4d001f"')}supportsH265(){return this.supportsCodec('video/mp4; codecs="hvc1"')}supportsAV1(){return this.supportsCodec('video/mp4; codecs="av01.0.00M.08"')&&!r.Z.isAndroid()}}},2289:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const c={enter:"ENTER",exit:"EXIT",visible:"VISIBLE"},r={VisibilityObserver:class{constructor(e,t,s,r=0,o=null){this.cb=e;let i=r;this.hasZeroThreshold=!0,"number"==typeof r?0===r?this.hasZeroThreshold=!0:(i=[0,r],this.hasZeroThreshold=!1):Array.isArray(r)&&(-1<r.indexOf(0)?this.hasZeroThreshold=!0:(i=[...r,0],this.hasZeroThreshold=!1)),this.options={rootMargin:`${t}px 0px ${s}px`,threshold:i,root:o},this.observer=new IntersectionObserver(this._cb.bind(this),this.options),this.trackedItems=new Map,this.inViewPortItems=[],this.trackedDomIds=[]}_cb(e,t){const n=[];let a=!0;e.forEach(e=>{var t=e.target.id,s=e.intersectionRatio,r=this.trackedItems.get(t),o=this.inViewPortItems.map(e=>e.domId).indexOf(t);let i={domId:t,intersectionRatio:s,data:r};e.isIntersecting?a=(-1===o?(this.inViewPortItems.push(i),i.visibilityStatus=c.enter):(this.inViewPortItems.splice(o,1,i),i.visibilityStatus=c.visible),!1):e.isIntersecting||-1<o&&(this.inViewPortItems.splice(o,1),i.visibilityStatus=c.exit),n.push(i)}),a&&!this.hasZeroThreshold||this.cb(n)}observe(e,t={}){e&&(this.trackedItems.has(e.id)||(this.observer.observe(e),this.trackedDomIds.push(e.id),this.trackedItems.set(e.id,t)))}unobserve(e){var t;e&&(this.observer.unobserve(e),-1<(t=this.trackedDomIds.indexOf(e.id))&&this.trackedDomIds.splice(t,1),-1<(t=this.inViewPortItems.map(e=>e.id).indexOf(e.id))&&this.trackedDomIds.splice(t,1),this.trackedItems.has(e.id)&&this.trackedItems.delete(e.id))}getSortedVisibleItems(t=0){const e=this.inViewPortItems.filter(e=>e.intersectionRatio>=t),s=0<e.length?e:this.inViewPortItems,r=this.trackedDomIds;return s.sort((e,t)=>r.indexOf(e.domId)-r.indexOf(t.domId))}reset(){this.observer.disconnect(),this.inViewPortItems=[],this.trackedDomIds=[],this.trackedItems.clear()}destroy(){this.reset(),this.observer=null}},VISIBILITY_STATUS:c}},9198:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(3036).default;class o{constructor({id:e,onSeek:t,onPercentageChange:s,onStart:r,onResume:o,onPause:i,onEnded:n,onReady:a}){this.id=e,this.timestamp=Date.now(),this.lastPlayerState=-1,this.lastPercentage=0,this.lastPlayerTime=0,this.started=!1,this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.onPlayerReady=this.onPlayerReady.bind(this),this.onYouTubePlayerAPIReady=this.onYouTubePlayerAPIReady.bind(this),this.onStateChange=this.onStateChange.bind(this),this.checkStatus=this.checkStatus.bind(this),this.isSeeking=this.isSeeking.bind(this),this.getCurrentState=this.getCurrentState.bind(this),this.getPlayerId=this.getPlayerId.bind(this),this.onSeek=t,this.onPercentageChange=s,this.onStart=r,this.onResume=o,this.onPause=i,this.onEnded=n,this.onReady=a}start(){window.YT&&window.YT.Player?this.onYouTubePlayerAPIReady():(o.callbacks.push(this.onYouTubePlayerAPIReady),r.loadScript("https://www.youtube.com/iframe_api")),this.checkStatusInterval=setInterval(this.checkStatus,1e3)}stop(){this.checkStatusInterval&&clearInterval(this.checkStatusInterval)}onPlayerReady(e){this.player=e.target,this.onReady&&this.onReady()}onYouTubePlayerAPIReady(){const{getPlayerId:e,onPlayerReady:t,onStateChange:s}=this;new YT.Player(e(),{videoId:this.id,events:{onReady:t,onStateChange:s}})}onStateChange(e){var t=this.getCurrentState();if(null!==t){const s=this.lastPlayerState===YT.PlayerState.PLAYING,r=this.lastPlayerState===YT.PlayerState.PAUSED,o=e.data===YT.PlayerState.PLAYING,i=e.data===YT.PlayerState.PAUSED&&!this.isSeeking(),n=e.data===YT.PlayerState.ENDED,{onStart:a,onResume:c,onPause:l,onEnded:d}=this;o&&!this.started&&(a&&a(t),this.started=!0),o&&r&&c&&c(t),i&&s&&l&&l(t),n&&d&&d(t),this.lastPlayerState=e.data}}checkStatus(){var e=this.getCurrentState();if(null!==e){const{onSeek:t,onPercentageChange:s}=this;this.isSeeking()&&t&&t(e),e.percentage>this.lastPercentage&&s&&s(e),this.lastPercentage=e.percentage,this.lastPlayerTime=e.time}}isSeeking(){var e=Math.floor(this.player.getCurrentTime());return 2<Math.abs(e-this.lastPlayerTime)}getCurrentState(){if(!this.player)return null;var e=Math.floor(this.player.getCurrentTime()),t=Math.floor(this.player.getDuration());return{state:this.player.getPlayerState(),percentage:e/t*100,isPlaying:this.player.getPlayerState()===YT.PlayerState.PLAYING,time:e,lastTime:this.lastPlayerTime,duration:t}}getPlayerId(){return`embedded-youtube-view-${this.id}-${this.timestamp}`}play(){this.player&&this.player.playVideo()}pause(){this.player&&this.player.pauseVideo()}mute(){this.player&&this.player.mute()}}o.callbacks=[],window.onYouTubePlayerAPIReady=()=>{for(var e of o.callbacks)e();o.callbacks=[]};const i=o},3614:()=>{!function(){for(var e,s=[],o=window;o;){try{if(o.frames.__tcfapiLocator){e=o;break}}catch(e){}if(o===window.top)break;o=o.parent}e||(function e(){var t,s=o.document,r=!!o.frames.__tcfapiLocator;return r||(s.body?((t=s.createElement("iframe")).style.cssText="display:none",t.name="__tcfapiLocator",s.body.appendChild(t)):setTimeout(e,5)),!r}(),o.__tcfapi=function(){var e,t=arguments;if(!t.length)return s;"setGdprApplies"===t[0]?3<t.length&&2===t[2]&&"boolean"==typeof t[3]&&(e=t[3],"function"==typeof t[2]&&t[2]("set",!0)):"ping"===t[0]?"function"==typeof t[2]&&t[2]({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"}):s.push(t)},o.addEventListener("message",function(s){var r="string"==typeof s.data,e={};try{e=r?JSON.parse(s.data):s.data}catch(s){}var o=e.__tcfapiCall;o&&window.__tcfapi(o.command,o.version,function(e,t){t={__tcfapiReturn:{returnValue:e,success:t,callId:o.callId}};r&&(t=JSON.stringify(t)),s.source&&s.source.postMessage&&s.source.postMessage(t,"*")},o.parameter)},!1))}()},3999:(e,t,s)=>{"use strict";s.d(t,{cV:()=>I,Wk:()=>E,dj:()=>function({idProp:t=e=>e.item.id}={}){const r=(0,y.qj)({});return{data:()=>({idState:null}),created(){this.$_id=null,this.$_getId="function"==typeof t?()=>t.call(this,this):()=>this[t],this.$watch(this.$_getId,e=>{this.$nextTick(()=>{this.$_id=e})},{immediate:!0}),this.$_updateIdState()},beforeUpdate(){this.$_updateIdState()},methods:{$_idStateInit(e){const t=this.$options.idState;if("function"!=typeof t)throw new Error("[mixin IdState] Missing `idState` function on component definition.");var s=t.call(this,this);return r[e]=s,this.$_id=e,s},$_updateIdState(){var e=this.$_getId();null==e&&console.warn(`No id found for IdState with idProp: '${t}'.`),e!==this.$_id&&(r[e]||this.$_idStateInit(e),this.idState=r[e])}}}},EK:()=>_});var c=s(6252);const l={key:0,class:"vue-recycle-scroller__slot"},d={key:1,class:"vue-recycle-scroller__slot"};var r=s(4949);const o=(0,c.HX)("data-v-2e1e536f");(0,c.dD)("data-v-2e1e536f");const n={class:"resize-observer",tabindex:"-1"};(0,c.Cn)();var i=o((e,t,s,r,o,i)=>((0,c.wg)(),(0,c.j4)("div",n))),a=s(8057);let u;function p(){p.init||(p.init=!0,u=-1!==(0,a.N)())}const h={name:"ResizeObserver",methods:{compareAndNotify(){this._w===this.$el.offsetWidth&&this._h===this.$el.offsetHeight||(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.$emit("notify"))},addResizeHandlers(){this._resizeObject&&this._resizeObject.contentDocument&&(this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify())},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!u&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),delete this._resizeObject.onload)}},mounted(){p(),this.$nextTick(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",u&&this.$el.appendChild(e),e.data="about:blank",u||this.$el.appendChild(e)},emits:["notify"],beforeUnmount(){this.removeResizeHandlers()}};h.render=i,h.__scopeId="data-v-2e1e536f";var m=h,t=s(4347),i=s(7274),g=s.n(i),T=s(2722),i=s(2609),f=s(7674),y=s(2262);function O(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?O(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}let v=0;const _={name:"RecycleScroller",emits:["resize","visible","hidden","update"],components:{ResizeObserver:m},directives:{ObserveVisibility:t.Sq},props:b(b({},i.N),{},{itemSize:{type:Number,default:null},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1}}),data:()=>({pool:[],totalSize:0,ready:!1,hoverKey:null}),computed:{sizes(){if(null!==this.itemSize)return[];{const i={"-1":{accumulator:0}},n=this.items,a=this.sizeField,c=this.minItemSize;let s,r=1e4,o=0;for(let e=0,t=n.length;e<t;e++)(s=n[e][a]||c)<r&&(r=s),o+=s,i[e]={accumulator:o,size:s};return this.$_computedMinItemSize=r,i}},simpleArray:i.$},watch:{items:{handler(){this.updateVisibleItems(!0)},flush:"post"},pageMode:{handler(){this.applyPageMode(),this.updateVisibleItems(!1)},flush:"post"},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0,flush:"post"}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1))},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,s,r,o){const i={item:s,position:0},n={id:v++,index:t,used:!0,key:r,type:o};return i.nr=(0,y.Xl)(n),e.push(i),i},unuseView(e,t=!1){const s=this.$_unusedViews,r=e.nr.type;let o=s.get(r);o||(o=[],s.set(r,o)),o.push(e),t||(e.nr.used=!1,e.position=-9999,this.$_views.delete(e.nr.key))},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame(()=>{this.$_scrollDirty=!1;var e=this.updateVisibleItems(!1,!0)["continuous"];e||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,100))}))},handleVisibilityChange(e,t){this.ready&&(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(o,t=!1){const s=this.itemSize,r=this.$_computedMinItemSize,i=this.typeField,n=this.simpleArray?null:this.keyField,a=this.items,c=a.length,l=this.sizes,d=this.$_views,u=this.$_unusedViews,p=this.pool;let h,m,g,f;if(c)if(this.$_prerender)h=0,m=this.prerender,g=null;else{const o=this.getScroll();if(t){let e=o.start-this.$_lastUpdateScrollPosition;if(e<0&&(e=-e),null===s&&e<r||e<s)return{continuous:!0}}this.$_lastUpdateScrollPosition=o.start;const i=this.buffer;if(o.start-=i,o.end+=i,null===s){let e,t=0,s=c-1,r=~~(c/2);for(;e=r,l[r].accumulator<o.start?t=r:r<c-1&&l[r+1].accumulator>o.start&&(s=r),r=~~((t+s)/2),r!==e;);for(r<0&&(r=0),h=r,g=l[c-1].accumulator,m=r;m<c&&l[m].accumulator<o.end;m++);-1===m?m=a.length-1:(m++,m>c&&(m=c))}else h=~~(o.start/s),m=Math.ceil(o.end/s),h<0&&(h=0),m>c&&(m=c),g=c*s}else h=m=g=0;m-h>T.Z.itemsLimit&&this.itemsLimitError(),this.totalSize=g;var y=h<=this.$_endIndex&&m>=this.$_startIndex;if(this.$_continuous!==y){if(y){d.clear(),u.clear();for(let e=0,t=p.length;e<t;e++)f=p[e],this.unuseView(f)}this.$_continuous=y}else if(y)for(let e=0,t=p.length;e<t;e++)f=p[e],f.nr.used&&(o&&(f.nr.index=a.findIndex(e=>n?e[n]===f.item[n]:e===f.item)),(-1===f.nr.index||f.nr.index<h||f.nr.index>=m)&&this.unuseView(f));const O=y?null:new Map;let b,v,_,S;for(let e=h;e<m;e++){b=a[e];const t=n?b[n]:b;if(null==t)throw new Error(`Key is ${t} on item (keyField is '${n}')`);f=d.get(t),s||l[e].size?(f?(f.nr.used=!0,f.item=b):(v=b[i],_=u.get(v),y?_&&_.length?(f=_.pop(),f.item=b,f.nr.used=!0,f.nr.index=e,f.nr.key=t,f.nr.type=v):f=this.addView(p,e,b,t,v):(S=O.get(v)||0,(!_||S>=_.length)&&(f=this.addView(p,e,b,t,v),this.unuseView(f,!0),_=u.get(v)),f=_[S],f.item=b,f.nr.used=!0,f.nr.index=e,f.nr.key=t,f.nr.type=v,O.set(v,S+1),S++),d.set(t,f)),f.position=null===s?l[e-1].accumulator:e*s):f&&this.unuseView(f)}return this.$_startIndex=h,this.$_endIndex=m,this.emitUpdate&&this.$emit("update",h,m),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:y}},getListenerTarget(){let e=g()(this.$el);return!window.document||e!==window.document.documentElement&&e!==window.document.body||(e=window),e},getScroll(){const{$el:s,direction:r}=this,o="vertical"===r;let i;if(this.pageMode){const r=s.getBoundingClientRect(),n=o?r.height:r.width;let e=-(o?r.top:r.left),t=o?window.innerHeight:window.innerWidth;e<0&&(t+=e,e=0),e+t>n&&(t=n-e),i={start:e,end:e+t}}else i=o?{start:s.scrollTop,end:s.scrollTop+s.clientHeight}:{start:s.scrollLeft,end:s.scrollLeft+s.clientWidth};return i},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!f.Q&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){e=null===this.itemSize?0<e?this.sizes[e-1].accumulator:0:e*this.itemSize;this.scrollToPosition(e)},scrollToPosition(e){"vertical"===this.direction?this.$el.scrollTop=e:this.$el.scrollLeft=e},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((e,t)=>e.nr.index-t.nr.index)}},render:function(e,s,t,r,o,i){var n=(0,c.up)("ResizeObserver"),a=(0,c.Q2)("observe-visibility");return(0,c.wy)(((0,c.wg)(),(0,c.j4)("div",{class:["vue-recycle-scroller",{ready:o.ready,"page-mode":t.pageMode,[`direction-${e.direction}`]:!0}],onScrollPassive:s[2]||(s[2]=(...e)=>i.handleScroll&&i.handleScroll(...e))},[e.$slots.before?((0,c.wg)(),(0,c.j4)("div",l,[(0,c.WI)(e.$slots,"before")])):(0,c.ry)("",!0),(0,c.Wm)("div",{ref:"wrapper",style:{["vertical"===e.direction?"minHeight":"minWidth"]:o.totalSize+"px"},class:"vue-recycle-scroller__item-wrapper"},[((0,c.wg)(!0),(0,c.j4)(c.HY,null,(0,c.Ko)(o.pool,t=>((0,c.wg)(),(0,c.j4)("div",{key:t.nr.id,style:o.ready?{transform:`translate${"vertical"===e.direction?"Y":"X"}(${t.position}px)`}:null,class:["vue-recycle-scroller__item-view",{hover:o.hoverKey===t.nr.key}],onMouseenter:e=>o.hoverKey=t.nr.key,onMouseleave:s[1]||(s[1]=e=>o.hoverKey=null)},[(0,c.WI)(e.$slots,"default",{item:t.item,index:t.nr.index,active:t.nr.used})],46,["onMouseenter"]))),128))],4),e.$slots.after?((0,c.wg)(),(0,c.j4)("div",d,[(0,c.WI)(e.$slots,"after")])):(0,c.ry)("",!0),(0,c.Wm)(n,{onNotify:i.handleResize},null,8,["onNotify"])],34)),[[a,i.handleVisibilityChange]])}};t=s(4279);function S(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function w(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?S(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):S(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const P=new(s.n(t)()),I={name:"DynamicScroller",emits:["resize","visible","hidden","update"],components:{RecycleScroller:_},inheritAttrs:!1,provide(){return"undefined"!=typeof ResizeObserver&&(this.$_resizeObserver=new ResizeObserver(e=>{for(const t of e)if(t.target){const e=new CustomEvent("resize",{detail:{contentRect:t.contentRect}});t.target.dispatchEvent(e)}})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},props:w(w({},i.N),{},{minItemSize:{type:[Number,String],required:!0}}),data(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:i.$,itemsWithSize(){const s=[],{items:r,keyField:o,simpleArray:i}=this,n=this.vscrollData.sizes;for(let t=0;t<r.length;t++){var a=r[t],c=i?t:a[o];let e=n[c];void 0!==e||this.$_undefinedMap[c]||(e=0),s.push({item:a,id:c,size:e})}return s},attrs(){const e={};for(const t in this.$attrs)"onResize"!==t&&"onVisible"!==t&&(e[t]=this.$attrs[t]);return e}},watch:{items(){this.forceUpdate(!1)},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)}},created(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_bus=P},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$_bus.emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!0){(e||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$_bus.emit("vscroll:update",{force:!0})},scrollToItem(e){const t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e,t){e=this.simpleArray?null!=t?t:this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[e]||0},scrollToBottom(){if(!this.$_scrollingToBottom){this.$_scrollingToBottom=!0;const t=this.$el;this.$nextTick(()=>{t.scrollTop=t.scrollHeight+5e3;const e=()=>{t.scrollTop=t.scrollHeight+5e3,requestAnimationFrame(()=>{t.scrollTop=t.scrollHeight+5e3,0===this.$_undefinedSizes?this.$_scrollingToBottom=!1:requestAnimationFrame(e)})};requestAnimationFrame(e)})}}},render:function(r,e,t,s,o,i){var n=(0,c.up)("RecycleScroller");return(0,c.wg)(),(0,c.j4)(n,(0,c.dG)({ref:"scroller",items:i.itemsWithSize,"min-item-size":t.minItemSize,direction:r.direction,"key-field":"id"},i.attrs,{onResize:i.onScrollerResize,onVisible:i.onScrollerVisible}),{default:(0,c.w5)(({item:e,index:t,active:s})=>[(0,c.WI)(r.$slots,"default",{item:e.item,index:t,active:s,itemWithSize:e})]),before:(0,c.w5)(()=>[(0,c.WI)(r.$slots,"before")]),after:(0,c.w5)(()=>[(0,c.WI)(r.$slots,"after")]),_:1},16,["items","min-item-size","direction","onResize","onVisible"])}},E={name:"DynamicScrollerItem",emits:["resize"],inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},computed:{id(){return this.vscrollData.simpleArray?this.index:this.item[this.vscrollData.keyField]},size(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(){this.size||this.onDataUpdate()},finalActive:{handler(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()},flush:"post"}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const e in this.sizeDependencies)this.$watch(()=>this.sizeDependencies[e],this.onDataUpdate);this.vscrollParent.$_bus.on("vscroll:update",this.onVscrollUpdate)}},mounted(){this.vscrollData.active&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_bus.off("vscroll:update",this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData?this.$_watchData=this.$watch("data",()=>{this.onDataUpdate()},{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!e&&this.size||this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(t){this.$nextTick(()=>{if(this.id===t){const t=this.$el.offsetWidth,e=this.$el.offsetHeight;this.applySize(t,e)}this.$_pendingSizeUpdate=null})},applySize(e,t){e=Math.round("vertical"===this.vscrollParent.direction?t:e);e&&this.size!==e&&(this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=e,this.vscrollData.validSizes[this.id]=!0,this.emitResize&&this.$emit("resize",this.id))},observeSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.observe(this.$el.parentNode),this.$el.parentNode.addEventListener("resize",this.onResize))},unobserveSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.unobserve(this.$el.parentNode),this.$el.parentNode.removeEventListener("resize",this.onResize))},onResize(e){var{width:t,height:e}=e.detail.contentRect;this.applySize(t,e)}},render:function(e,t,s,r,o,i){return(0,c.wg)(),(0,c.j4)((0,c.LL)(s.tag),null,{default:(0,c.w5)(()=>[(0,c.WI)(e.$slots,"default")]),_:3})}}},4349:(e,t,s)=>{"use strict";s.d(t,{ZI:()=>r,ZO:()=>o,f9:()=>i,q8:()=>n,rn:()=>a,$H:()=>c,MW:()=>l});const r="GET__ATTACHED_FILES",o="DELETE__ATTACHED_FILE",i="ATTACH__FILE",n="UPLOAD__FILE",a="IS_PROCESSING_FILE",c="SET_PROCESSING_FILE",l="DELETE_PROCESSING_FILE"},5087:(e,t,s)=>{"use strict";s.d(t,{Z:()=>T});var r=s(6865),o=s(4949),i=s(3036),n=s(5670).default,c=s(403),l=s(5670).default;const d="refreshIteration",a=class extends class{constructor(e){this.setOptions(e)}setOptions(e){this.options=e}loadScript(e,t=()=>{}){i.default.loadScript(e).then(()=>t())}waitScriptUntilTimeout(s,e=()=>{},r=5){new Promise((e,t)=>{i.default.loadScript(s).then(()=>e()),setTimeout(()=>t(),1e3*r)}).then(()=>{n.log("Script="+s+", Loaded"),e()}).catch(()=>{n.log("Script="+s+", Exceeded waiting time ("+r+"s)"),e()})}setTargeting(e){}refreshAd(e){}destroyAd(e){}destroyAds(){}}{constructor(e){if(super(e),l.log("clean creative script enabled="+this.getOptionEnableCleanCreative()),this.getOptionEnableCleanCreative()){const e="https://d2fucu4fhozx2v.cloudfront.net/script.js";this.waitScriptUntilTimeout("https://d2fucu4fhozx2v.cloudfront.net/script.js",()=>this.initialLoadScript())}else this.initialLoadScript();this.requestAdTimer=null,this.requestAdSlots=new Set,this.renderCallbacks={},this.renderIndexes={}}getOptionEnableCleanCreative(){return this.options.enable_clean_creative||!1}_queue(e){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(e)}initialLoadScript(){window.googletag_inited||(window.googletag_inited=!0,this.loadScript("https://securepubads.g.doubleclick.net/tag/js/gpt.js"),this._queue(()=>{window.googletag.pubads().set("page_url",document.location.href),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().addEventListener("slotRenderEnded",e=>{var t;e&&e.slot&&(t=e.slot.getSlotElementId(),this.renderCallbacks[t]&&this.renderCallbacks[t](e))}),window.googletag.pubads().addEventListener("impressionViewable",e=>{e&&e.slot&&(e=e.slot.getSlotElementId(),l.log("DFP.impressionViewable(): "+e))}),window.googletag.enableServices(),window.googletag.pubads().setTargeting("floortest",this._randomFloorTest())}))}setTargeting(e){this._queue(()=>{Object.entries(e).forEach(([e,t])=>{l.log("DFP.setTargeting(): key="+e+", value="+t),null===t?window.googletag.pubads().clearTargeting(e):window.googletag.pubads().setTargeting(e,Array.isArray(t)?t:`${t}`)})})}renderAd(e,t,r){const{adTag:o,sizes:i,targeting:n,occurrence:a}=e;this._queue(async()=>{const s=window.googletag.defineSlot(o,i,t);s&&(n&&Object.entries(n).forEach(([e,t])=>s.setTargeting(e,`${t}`)),s.setTargeting(d,"0"),this.renderIndexes[o]=this.renderIndexes[o]||0,null!==a&&s.setTargeting("ad_index",""+ ++this.renderIndexes[o]),l.log(`DFP.renderAd(): ${t} ${o} ${i.join(" ")}`),s.addService(window.googletag.pubads()),window.googletag.display(s),r.renderCallback&&(this.renderCallbacks[t]=r.renderCallback),await c.Z.cmpLoaded(),this.requestAd(s))})}requestAd(e){this.requestAdSlots.add(e),this.requestAdTimer&&clearTimeout(this.requestAdTimer),this.requestAdTimer=setTimeout(()=>{var e=[...this.requestAdSlots];this.requestAdSlots.clear(),e.length&&this.requestAds(e)},50)}requestAds(e){l.log("DFP.requestAds()",e),this._queue(()=>window.googletag.pubads().refresh(e))}refreshAd(e){l.log("DFP.refreshAd(): "+e),this._getSlotsByContainerId(e,e=>{e.forEach(e=>{var t=parseInt(e.getTargeting(d)[0]||0);e.setTargeting(d,`${t+1}`),this.requestAd(e)})})}destroyAds(){super.destroyAds(),this.requestAdSlots.clear(),this._queue(()=>{l.log("DFP.destroyAds()"),window.googletag.destroySlots(),this.renderCallbacks={},this.renderIndexes={}})}destroyAd(t){l.log("DFP.destroyAd(): "+t),this._getSlotsByContainerId(t,e=>{e.forEach(e=>this.requestAdSlots.delete(e)),window.googletag.destroySlots(e),this.renderCallbacks[t]=null})}_getSlotsByContainerId(t,s){this._queue(()=>{var e=window.googletag.pubads().getSlots().filter(e=>e.getSlotElementId()===t);e.length&&s(e)})}_randomFloorTest(){var e=Math.floor(100*Math.random());let t=e<5?4:e<10?3:e<15?2:e<20?1:"false";return`${t}`}};var u=s(5670),t=class{initialize(){}loadScript(e,t=()=>{}){i.default.loadScript(e).then(()=>t())}requestBids(e,t){}},p=s(1931);const h=class extends t{constructor(){super(),window.PWT=window.PWT||{}}initialize(){return new Promise(e=>{const t=window.location.href;let s="";if(0<t.indexOf("pwtv=")){const e=/pwtv=(.*?)(&|$)/g.exec(t);2<=e.length&&0<e[1].length&&(s="/"+e[1])}var r="//ads.pubmatic.com/AdServer/js/pwt/157084/2885"+s+"/pwt.js";this.loadScript(r),window.PWT.jsLoaded=()=>{this._handleWhenCMPNotLoaded(),this.syncSpotXAudience(),e()},setTimeout(e,1e3)})}_handleWhenCMPNotLoaded(){window.__tcfapi||window.owpbjs&&window.owpbjs.setConfig({consentManagement:{gdpr:{cmpApi:"static",consentData:{getTCData:{gdprApplies:!1}}},usp:{cmpApi:"iab",timeout:500}}})}requestBids(e,t){const s=window.PWT||{};return s.requestBids?new Promise(t=>{s.requestBids(s.generateConfForGPT(e),e=>{u.default.log("PubMatic::requestBids",e),s.addKeyValuePairsToGPTSlots(e),t()})}):Promise.resolve()}async syncSpotXAudience(){var e=await c.Z.getConsentString();let t="//sync.search.spotxchange.com/partner?source=202470";e&&(t=`${t}&gdpr=1&gdpr_consent=${e}`),u.default.log("syncSpotXAudience",t),p.default._send(t)}};var m=s(9377);const g=class extends t{constructor(e){function t(e,t){r[s]._Q.push([e,t])}var s,r;super(),s="apstag",(r=window)[s]||(r[s]={init:function(){t("i",arguments)},fetchBids:function(){t("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]}),this.slotNameMapping={},Object.values(e).forEach(e=>{var{adTag:t,apsTag:e}=e;this.slotNameMapping[t]=e})}initialize(){return window.apstag.init({pubID:"5019",adServer:"googletag",params:{us_privacy:m.Z.getCCPAString()}}),this.loadScript("//c.amazon-adsystem.com/aax2/apstag.js"),Promise.resolve()}requestBids(s,r){const o=window.apstag||{};return o.fetchBids?new Promise(t=>{var e=this.getBidOptions(s,r);o.fetchBids(e,e=>{u.default.log("AmazonTAM::requestBids",e),o.setDisplayBids(),t()})}):Promise.resolve()}getBidOptions(e,t){return{slots:e.map(e=>{var t=e.getAdUnitPath();return{slotID:e.getSlotElementId(),slotName:this.slotNameMapping[t]||t,sizes:e.getSizes().map(e=>[e.getWidth(),e.getHeight()])}}),timeout:t}}},f=class extends a{setOptions(e){super.setOptions(e),this.bidders=[],this.bidders.push(new h),this.bidders.push(new g(e.adPlacements))}initialLoadScript(){const t=[];this.bidders.forEach(e=>t.push(e.initialize())),Promise.all(t).then(()=>{super.initialLoadScript()})}requestAds(s){let e=!1;const r=()=>{e=!0,super.requestAds(s)};this._queue(()=>{const t=[];this.bidders.forEach(e=>t.push(e.requestBids(s,2100))),Promise.all(t).then(()=>{e||(u.default.log("HeaderBidding::requestAds",s),r())})}),setTimeout(()=>{e||(u.default.log("HeaderBidding::requestAds timeout",s),r())},2600)}};var y=s(5670).default;function O(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?O(Object(s),!0).forEach(function(e){(0,o.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const v=class{static init(e,t){this.configs=e||{},this.adManager=new class{constructor(e){this.adNetwork=null,this.adPlacements={},this.renderedAdContainerIds=[],this.options=e}prepareAdPlacements(e){Object.entries(e).forEach(([e,t])=>{this.adPlacements[e]||t&&(this.adPlacements[e]=b(b({},t),{},{name:e,size:t.sizes[0]||[0,0]}))})}reset(){this.adNetwork&&this.adNetwork.destroyAds(),this.renderedAdContainerIds=[],y.log("reset AdManager")}addAdNetwork(t){if(!this.adNetwork){let e;switch(t){case"DFP":e=new a(this.options);break;case"HeaderBidding":const t=this.adPlacements;e=new f(b(b({},this.options),{},{adPlacements:t}))}e&&(this.adNetwork=e)}}getAdContainer(e,t){e=this.adPlacements[e];if(!e)return null;let s=t;return e.occurrence&&null!==t&&(s=this.getAdPosition(e.occurrence,t),!s)?null:{adPlacement:e,adContainerId:this.getAdContainerId(e,s),adPosition:s}}_parseOccurrenceConfig(e){return e?e.split(",").map(e=>parseInt(e)).filter(e=>e):[]}getAdPosition(e,t){const s=this._parseOccurrenceConfig(e);let r=1,o=0,i=null;for(;o<=t&&(i=s.shift()||i,i);){if(o+=i,o==t)return r;r++}return null}getAdContainerId(e,t=null){e=`jsid-ad-container-${e.name}`;return t?`${e}-${t}`:e}setTargeting(e){this.adNetwork&&this.adNetwork.setTargeting(e)}destroyAd(e){var e=e["adContainerId"];this.adNetwork&&(this.adNetwork.destroyAd(e),-1<(e=this.renderedAdContainerIds.indexOf(e))&&this.renderedAdContainerIds.splice(e,1))}renderAd(e,t){var{adPlacement:s,adContainerId:e}=e;this.renderedAdContainerIds.includes(e)||(this.renderedAdContainerIds.push(e),this.adNetwork&&this.adNetwork.renderAd(s,e,t))}refreshAd(e){"hidden"!==document.visibilityState&&(e=e["adContainerId"],this.adNetwork&&this.adNetwork.refreshAd(e))}}(t);var{adNetwork:e,adPlacements:t}=this.configs;this.adManager.prepareAdPlacements(t||[]),e&&this.adManager.addAdNetwork(e)}static reset(){this.adManager.reset()}static getAdContainer(e,t=null){return this.adManager.getAdContainer(e,t)}static setTargeting(e){var t=this.configs["bucket"];t&&t!==e.bucket&&(e.bucket=t),this.adManager.setTargeting(e)}static renderAd(e,t){this.adManager.renderAd(e,t||{})}static refreshAd(e){e&&this.adManager.refreshAd(e)}static destroyAd(e){e&&this.adManager.destroyAd(e)}};var _=s(1186),t=s(3063),S=s(45).default;const T=t.extend({},new r.Z,{init:function(){let e=S.get("configs.ad.adConfigs")||{};S.get("page.appEmbed")&&(e=null);var t={enable_clean_creative:(S.get("configs.ad.cleanLocations")||[]).includes(_.Z.getLocation())};v.init(e,t)},setTargeting(e){v.setTargeting(e)},getAdContainer:function(e,t=null){return v.getAdContainer(e,t)},renderAd:function(e,t){e&&v.renderAd(e,t)},refreshAd:function(e){e&&v.refreshAd(e)},destroyAd:function(e){e&&v.destroyAd(e)},reset(){v.reset()}})},6865:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});t=s(7278),s=function(){this._base=this};(s.prototype=new t.Z).getBase=function(){return this._base},s.prototype.init=function(){},s.prototype.onLoad=function(){},s.prototype.onScroll=function(){},s.prototype.onDomReady=function(){};const r=s},311:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var t=s(6865),r=s(2676),o=s(9200),i=s(2215),n=s(3822),a=s(24),c=s(3063),l=s(5670).default,d=s(8912).default,u=s(5652).default,p=c.extend({},new t.Z,{init:function(){this.bindElements()},bindElements:function(){o.Z.$on("report::submit",this.handlers.reportSubmitHandler.bind(this)),o.Z.$on("report::cancel",this.onCancel.bind(this))},clearHandlers:function(){this.onDoneHandler=null,this.onCancelHandler=null},onCancel:function(){l.log("ReportController.onCancel"),this.onCancelHandler&&this.onCancelHandler(),this.clearHandlers()},getReportOverlayPromiseForComment:function(e){l.log("Report comment",e);const t=p,s=e?e.commentId:"",r={type:n.Z.TYPES.COMMENT,objectId:s};return t.getReportOverlayPromise(r)},getReportOverlayPromise:function(s){l.log("getReportOverlayPromise",s);const r=p;return new Promise(function(t,e){r.showReportOverlay(s,function(e){l.log("ReportController.promise resolve()",e),t(e)},function(){l.log("ReportController.promise reject()"),e()})})},showReportOverlay:function(e,t,s){this.currentConfigs=e,o.Z.$emit("Overlay::showReport",e),this.onDoneHandler=t,this.onCancelHandler=s},hideReportOverlay:function(){o.Z.$emit("Overlay::hideReport")},sendReport:function(e,t){this.currentConfigs?(l.log("ReportController reportType:"+e),l.log("ReportController objectType:"+this.currentConfigs.type),l.log("ReportController objectId:"+this.currentConfigs.objectId),l.log("ReportController silentMode:"+t),this._reportInProgress||(this._reportInProgress=!0,r.Z.reportEntity(this.currentConfigs.type,this.currentConfigs.objectId,e,c.proxy(function(){this.hideReportOverlay(),this._reportInProgress=!1,t||this.showSuccessToast()},this),c.proxy(function(){this._reportInProgress=!1,t||this.showErrorToast()},this)))):l.log("ReportController: configurations not found")},showToast(e){i.Z.dispatch(`toast/${a.ot.DISPLAY_TOAST}`,{type:d.WARN,msg:e})},showSuccessToast:function(){this.showToast("Reported. Thanks for making 9GAG better.")},showErrorToast:function(){this.showToast("Something went wrong, please try again later.")},handlers:{reportSubmitHandler:function(e){var t=e.type;let s=!1;e.externalUrl&&(s=!0,window.open(e.externalUrl,"_blank"));var r=this.currentConfigs.type+"Action",e="Report"+this.currentConfigs.type;u.track(r,e,"ReportType_"+t),this.onDoneHandler?(l.log("ReportController.onDoneHandler"),this.onDoneHandler({reportType:t}),this.clearHandlers(),this.hideReportOverlay(),this.showSuccessToast(),this.clearHandlers()):this.sendReport(t,s)}}});const h=p},5652:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var i=s(8309),n=s(1118),a=s(1653);const r={track:async(e,t,s,r,o={})=>{i.Z.track(e,t,s),a.default.trackEvent(e,t,s,r,o)},trackPage:async(e,t,s="",r={})=>{var o=n.Z.getPageKey()||"";i.Z.track(e,t,o),a.default.trackEvent(e,t,o,s,r)},trackPageView:async e=>{i.Z.trackPageView(e),a.default.trackEvent("WEB_TRACKING","PAGEVIEW","","",{},document.location.origin+e)},trackException:async(e,t=!1)=>{i.Z.trackException(e,t)},setUserId:async e=>{i.Z.setUserId(e)}}},4177:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var t=s(7339),r=s.n(t),t=s(5451),o=s.n(t),i=s(4907);const n={isCurrentlyFocusedInTypeable:function(){const e=document.activeElement;if(!e||!e.tagName)return!1;var t=e.tagName.toLowerCase();return"input"==t||"textarea"==t},cookieCheckKey:"cchk",isCookieEnabled:function(){return null!=i.U2(this.cookieCheckKey)||(i.t8(this.cookieCheckKey,1),null!=i.U2(this.cookieCheckKey))},getPostDomId:function(e){return`jsid-post-${e}`},getPostId:function(e){return e.replace("jsid-post-","")},getStreamDomId:function(e){return`stream-${e}`},getStreamPos:function(e){return Number(e.replace("stream-",""))},getSpinnerHtml:function(){return'<div class="simple-spinner"></div>'},getScrollTop:()=>o()().scrollTop,scrollTo(e,t=100){r().top(o()(),e,{duration:t})}}},9599:(e,t,s)=>{"use strict";s(7421),s(3999),s(1748),s(2405);var r=s(3279),o=s.n(r),i=s(1931),n=s(8309);const a=class{static async report(e){console.error(e),this.shouldReport(e)&&(n.Z.trackException(e,!0),i.default.logException(e.message,{info:e.stack}))}static shouldReport(e){const{name:t="",message:s="",stack:r=""}=e||{};return!(!(t||s||r)||t.match(/ChunkLoadError|SecurityError|SyntaxError/)||s.match(/Loading CSS chunk|redefine|TypeMismatchError/)||r.match(/(chrome|moz)-extension|imasdk|pubmatic|adjinn_ns|Tapad/)||r.match("http")&&!r.match("static/dist"))}};var c=s(403),l=s(3036);const d=new class{constructor(){this.inited=!1}init(){this.inited||(this.inited=!0,l.default.loadScript("https://secure.quantserve.com/quant.js"))}},u=new class{constructor(){this.inited=!1}async init(e){const{pixelId:t,events:s=[]}=e;var r;!this.inited&&t&&(this.inited=!0,(e=window).fbq||(r=e.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},e._fbq||(e._fbq=r),(r.push=r).loaded=!0,r.version="2.0",r.queue=[]),fbq("init",t),fbq("track","PageView"),s.forEach(e=>fbq("track",e)),l.default.loadScript("https://connect.facebook.net/en_US/fbevents.js"))}};var p=s(2131),h=s(5670).default;const m=new class{constructor(){this.inited=!1}async init(e){var t;!this.inited&&e&&(this.inited=!0,{sampleRate:t=100}=e,Math.floor(100*Math.random())>=t||(l.default.loadScript("https://www.gstatic.com/firebasejs/7.15.5/firebase-performance-standalone.js").then(()=>{firebase.initializeApp(e).performance()}),(0,p.kz)(this._trackWebVital),(0,p.Tx)(this._trackWebVital),(0,p.Tb)(this._trackWebVital),(0,p.Y)(this._trackWebVital),(0,p.CA)(this._trackWebVital)))}_trackWebVital({name:e,delta:t,id:s}){try{h.log(`Tracking WebVital: ${e}: ${t}`);var r={eventCategory:"WebVitals",eventAction:e,eventValue:Math.round("CLS"===e?1e3*t:t),eventLabel:s,nonInteraction:!0};n.Z.trackEvent(r)}catch(e){}}};var g,f=s(45),y=s(1118),O=s(4907),b=s(8912).default;const v={init:(g={_toastMsgCookieKey:"toastMsg",init:function(){},getToast:function(){if(!navigator.cookieEnabled)return null;let e=O.U2(g._toastMsgCookieKey);return O.Od(g._toastMsgCookieKey,y.Z.getCookieOptions()),e?(e=e.split(","),0==e.length?null:(e=e[0],g.mapToastCode(e)||null)):null},mapToastCode:function(e){var t=g.TEXT,s=g.MAPPING,t={POST_REMOVED:{type:b.WARN,msg:t.POST_REMOVED},WELCOME_BACK:{type:b.WARN,msg:t.WELCOME_BACK},WELCOME_TO_9GAG:{type:b.WARN,msg:t.WELCOME_TO_9GAG},POST_DELETED:{type:b.WARN,msg:t.POST_DELETED},PROFILE_SETTING_SAVED:{type:b.INFO,msg:t.PROFILE_SETTING_SAVED},PROFILE_SETTING_ERROR:{type:b.ERROR,msg:t.PROFILE_SETTING_ERROR},LOGIN_FAILED:{type:b.ERROR,msg:t.LOGIN_FAILED},ACCOUNT_DELETED:{type:b.WARN,msg:t.ACCOUNT_DELETED},ACCOUNT_CONFIRM_SENT:{type:b.WARN,msg:t.ACCOUNT_CONFIRM_SENT},ACCOUNT_CONFIRM_ERROR:{type:b.ERROR,msg:t.ACCOUNT_CONFIRM_ERROR},ACCOUNT_VERFIY_ERROR:{type:b.WARN,msg:t.ACCOUNT_VERIFY_ERROR},SITE_READ_ONLY_MODE:{type:b.WARN,msg:t.SITE_READ_ONLY_MODE},ACCOUNT_VERIFIED:{type:b.WARN,msg:t.ACCOUNT_VERIFIED},VERIFICATION_EMAIL_EXPIRED:{type:b.ERROR,msg:t.VERIFICATION_EMAIL_EXPIRED}};return s[e],t[s[e]]},TEXT:{POST_REMOVED:"Ooooops! The post you're looking for has been reported by the community and removed.",WELCOME_BACK:"Awww Yeah! Welcome back.",WELCOME_TO_9GAG:"Me Gusta! Welcome to 9GAG, go have fun now!",POST_DELETED:"The post is removed.",PROFILE_SETTING_SAVED:"Your settings have been saved.",PROFILE_SETTING_ERROR:"Ooooops! There is an error.",LOGIN_FAILED:"Ooooops! There is an error logging in.",ACCOUNT_DELETED:"Your account has been deleted.",ACCOUNT_CONFIRM_SENT:"A confirmation message has been sent.",ACCOUNT_CONFIRM_ERROR:"There was a problem sending the confirmation message.",SITE_READ_ONLY_MODE:"9GAG is undergoing maintenance right now. Sign-up and Upload will be back shortly.",ACCOUNT_VERIFIED:"Your account is successfully verified!",VERIFICATION_EMAIL_EXPIRED:"The verification email is expired. Another verification email is sent to you."},MAPPING:{2:"WELCOME_BACK",3:"POST_REMOVED",4:"WELCOME_TO_9GAG",5:"POST_DELETED",7:"PROFILE_SETTING_SAVED",8:"PROFILE_SETTING_ERROR",12:"LOGIN_FAILED",14:"ACCOUNT_DELETED",15:"ACCOUNT_CONFIRM_SENT",16:"ACCOUNT_CONFIRM_ERROR",17:"SITE_READ_ONLY_MODE",18:"ACCOUNT_VERIFIED",19:"VERIFICATION_EMAIL_EXPIRED"}}).init,mapToastCode:g.mapToastCode,getToast:g.getToast};var _=s(7937),S=s(1931).default;const T={init:function(){},onWindowLoad:function(){S.reportPerf()},event:function(e,t,s){var r=_.Z.getUserId();r&&(s.user=r),S.event(e,t,s)}};var w=s(1021),P=s(9201),I=s(3063);const E=I.extend({},new P.Z,{API:{URL_LIKE:"/v1/vote/like",URL_DISLIKE:"/v1/vote/dislike",URL_UNLIKE:"/v1/vote/unlike"},_requests:{},_isRequesting:!1,init:function(){},_submitRequest:function(e,t,s,r){void 0!==t&&(this._isRequesting,I.ajax({type:"POST",url:e,data:{id:t},beforeSend:function(){this._isRequesting=!0,"function"==typeof s&&s(t)},complete:function(){this._isRequesting=!1},error:function(e){"function"==typeof r&&r(t)}}))},like:function(e,t,s){this._submitRequest(this.API.URL_LIKE,e,t,s)},unlike:function(e,t,s){this._submitRequest(this.API.URL_UNLIKE,e,t,s)},dislike:function(e,t,s){this._submitRequest(this.API.URL_DISLIKE,e,t,s)}});var A=s(6865);const k={all_shortcuts:{},commandMode:!1,add:function(u,p,h){var e={type:"keydown",propagate:!1,disable_in_input:!1,require_command_mode:!0,target:document,keycode:!1};if(h)for(var t in e)void 0===h[t]&&(h[t]=e[t]);else h=e;var s=h.target;"string"==typeof h.target&&(s=document.getElementById(h.target));var m=this;u=u.toLowerCase();function r(e){var t,s,r;if(e=e||window.event,(!h.disable_in_input||(e.target?r=e.target:e.srcElement&&(r=e.srcElement),"INPUT"!=(r=3==r.nodeType?r.parentNode:r).tagName&&"TEXTAREA"!=r.tagName))&&(!h.require_command_mode||m.commandMode)){e.keyCode?t=e.keyCode:e.which&&(t=e.which);var o=String.fromCharCode(t).toLowerCase();188==t&&(o=","),190==t&&(o=".");var i=u.split("+"),n=0,a={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},c={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},l={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};e.ctrlKey&&(l.ctrl.pressed=!0),e.shiftKey&&(l.shift.pressed=!0),e.altKey&&(l.alt.pressed=!0),e.metaKey&&(l.meta.pressed=!0);for(var d=0;s=i[d],d<i.length;d++)"ctrl"==s||"control"==s?(n++,l.ctrl.wanted=!0):"shift"==s?(n++,l.shift.wanted=!0):"alt"==s?(n++,l.alt.wanted=!0):"meta"==s?(n++,l.meta.wanted=!0):1<s.length?c[s]==t&&n++:h.keycode?h.keycode==t&&n++:(o==s||a[o]&&e.shiftKey&&(o=a[o])==s)&&n++;return n!=i.length||l.ctrl.pressed!=l.ctrl.wanted||l.shift.pressed!=l.shift.wanted||l.alt.pressed!=l.alt.wanted||l.meta.pressed!=l.meta.wanted||(p(e),h.propagate)?void 0:(e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&(e.stopPropagation(),e.preventDefault()),!1)}}this.all_shortcuts[u]={callback:r,target:s,event:h.type},s.addEventListener?s.addEventListener(h.type,r,!1):s.attachEvent?s.attachEvent("on"+h.type,r):s["on"+h.type]=r},remove:function(e){e=e.toLowerCase();var t,s=this.all_shortcuts[e];delete this.all_shortcuts[e],s&&(t=s.event,e=s.target,s=s.callback,e.detachEvent?e.detachEvent("on"+t,s):e.removeEventListener?e.removeEventListener(t,s,!1):e["on"+t]=!1)},commandModeListener:null,toggleCommandMode:function(){this.commandMode=!this.commandMode,null!=this.commandModeListener&&this.commandModeListener()}};var D,C=s(9200),U=s(3063),L=s(4177).default,j=s(2662).default;const N=U.extend({},new A.Z,{init:function(){D._bindElements()},setPostId:e=>D.postId=e,bindAction:(D={VOTE_UP:"VOTE_UP",VOTE_DOWN:"VOTE_DOWN",UNVOTE:"UNVOTE",JUMP_COMMENT:"JUMP_COMMENT",LEFT_ARROW:37,RIGHT_ARROW:39,KEY_END:35,KEY_HOME:36,postId:null,_track:function(e){},_bindHomeEnd:function(){U(document).keydown(function(e){return!!L.isCurrentlyFocusedInTypeable()||(e.keyCode==D.KEY_HOME||e.keyCode==D.KEY_END?(e.preventDefault(),L.scrollTo(e.keyCode==D.KEY_END?U(document).height():0),!1):void 0)})},_bindJumpPrev:function(e){D.bindAction(e,function(){D._track("prev"),C.Z.$emit(D.postId?"post::toPrevPost":"post::toPrevListPost")}),U(document).keydown(function(e){if(D.postId)return!!L.isCurrentlyFocusedInTypeable()||(e.keyCode==D.LEFT_ARROW?(C.Z.$emit("post::toPrevPost"),!1):void 0)})},_bindJumpNext:function(e){D.bindAction(e,function(){D._track("next"),C.Z.$emit(D.postId?"post::toNextPost":"post::toNextListPost")}),U(document).keydown(function(e){if(D.postId)return!!L.isCurrentlyFocusedInTypeable()||(e.keyCode==D.RIGHT_ARROW?(C.Z.$emit("post::toNextPost"),!1):void 0)})},_bindPostVoteUp:function(e){D.bindAction(e,function(){D._track("upvote"),D.postId?C.Z.$emit(`post::voteUp::${D.postId}`):C.Z.$emit("post::voteUp::inView")},"keyup")},_bindPostVoteDown:function(e){D.bindAction(e,function(){D._track("downvote"),D.postId?C.Z.$emit(`post::voteDown::${D.postId}`):C.Z.$emit("post::voteDown::inView")},"keyup")},_bindPostComment:function(e){D.bindAction(e,function(){D._track("comment"),D.postId?L.scrollTo(document.getElementById("comment").offsetTop):C.Z.$emit("post::comment::inView")})},_bindScrollToTop:function(e){D.bindAction(e,function(){D._track("back-to-top"),D.scrollToTop()})},_bindRandomEntry:function(e){D.bindAction(e,function(){D._track("random"),D.randomEntry()})},_bindPostPlay:function(e){D.bindAction(e,function(){D._track("play"),D.postId?C.Z.$emit(`post::togglePlay::${D.postId}`):C.Z.$emit("post::togglePlay::inView")})},_bindElements:function(){D._bindScrollToTop("b"),D._bindJumpPrev("k"),D._bindJumpNext("j"),D._bindRandomEntry("r"),D._bindPostVoteUp("l"),D._bindPostVoteDown("h"),D._bindPostComment("c"),D._bindPostPlay("p"),D._bindHomeEnd()},_getKeyOptions:function(e){return{type:e||"keypress",propagate:!1,target:document,disable_in_input:!0,require_command_mode:!1}},bindAction:function(e,t,s){k.add(e,t,D._getKeyOptions(s))},scrollToTop:function(){j.PageController.scrollToTop()},randomEntry:function(){y.Z.load("/shuffle")}}).bindAction,scrollToTop:D.scrollToTop,randomEntry:D.randomEntry});var R=s(3063),M=s(5652).default,x=s(5670).default;const W=R.extend({},new A.Z,{_isShown:!1,_hideUsingBackground:!0,_hideAllOverlayReturnToUpload:!1,selectors:{OVERLAY:"#overlay-container",OVERLAY_COMPONENT:"section",OVERLAY_CLOSE_BUTTON:".badge-overlay-close",OVERLAY_COMPONENT_UPLOAD:".badge-overlay-upload",OVERLAY_COMPONENT_DRAG_AND_DROP:".badge-drag-and-drop",MODAL_POST_ZOOM_CONTAINER:"#jsid-modal-post-zoom",BODY_SELECTOR:"body"},init:function(){this.bindOverlayCloseButtons(),this.bindMouseLeave()},handlers:{closeButtonClickedHandler:function(e){if(R(e.currentTarget).closest(this.selectors.OVERLAY_COMPONENT).is(this.selectors.OVERLAY_COMPONENT_UPLOAD)&&(M.track("Upload","Clicked","Cancel"),y.Z.isUploadPage()))return window.location.href="https://"+y.Z.getDomain(),!1;this.hideOverlay(R(e.currentTarget).closest(this.selectors.OVERLAY_COMPONENT)),e.preventDefault()},overlayBackgroundClickedHandler:function(e){this._hideUsingBackground&&this.hideAllOverlay()},overlayComponentClickedHandler:function(e){e.stopPropagation()}},isAnyOverlayShown:function(){return this._isShown},setHideUsingBackground:function(e){this._hideUsingBackground=!1!==e},showOverlay:function(e,t){this.hideAllOverlay(),this._isShown=!0,R(this.selectors.OVERLAY).removeClass("hide"),t||R("body").addClass("no-scroll"),void 0!==e&&(R(e).removeClass("hide"),e==this.selectors.OVERLAY_COMPONENT_UPLOAD?this.setHideUsingBackground(!1):e==this.selectors.MODAL_POST_ZOOM_CONTAINER&&this.setHideUsingBackground(!0))},hideOverlay:function(e){this._isShown=!1,R(this.selectors.OVERLAY).addClass("hide"),R("body").removeClass("no-scroll"),void 0!==e&&(R(e).addClass("hide"),R(e).hasClass("badge-overlay-upload")&&this.setHideUsingBackground(!0))},hideAllOverlay:function(){x.log("hideAllOverlay"),this._hideAllOverlayReturnToUpload?(this._hideAllOverlayReturnToUpload=!1,this.showOverlay(this.selectors.OVERLAY_COMPONENT_UPLOAD,!1)):this.hideOverlay(R(this.selectors.OVERLAY).children())},bindOverlayCloseButtons:function(){R(this.selectors.OVERLAY).find(this.selectors.OVERLAY_CLOSE_BUTTON).click(R.proxy(this.handlers.closeButtonClickedHandler,this)),R(this.selectors.OVERLAY).click(R.proxy(this.handlers.overlayBackgroundClickedHandler,this)),R(this.selectors.OVERLAY).find(this.selectors.OVERLAY_COMPONENT).click(R.proxy(this.handlers.overlayComponentClickedHandler,this))},bindMouseLeave:function(){R(this.selectors.OVERLAY).mouseleave(function(){this._isShown&&!R(this.selectors.OVERLAY_COMPONENT_DRAG_AND_DROP).hasClass("hide")&&this.hideOverlay(this.selectors.OVERLAY_COMPONENT_DRAG_AND_DROP)})},isInsideOverlay:function(e){return R(e).is(this.selectors.OVERLAY+" *")}});var V=s(311),B=s(2215),G=s(6252),F=s(3577);const $={class:"section-picker"},Z={key:0,class:"section-picker-header"},H={class:"icon"},K={class:"text"},z={class:"icon"},Y=(0,G.Wm)("div",{class:"text"},[(0,G.Wm)("h3",null,"My Profile Only"),(0,G.Wm)("p",null,"Post will only be visible in your profile")],-1);var q=s(4949),X=s(2204);function J(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Q(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?J(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):J(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapState:ee,mapGetters:te}=(0,X._p)("section"),se=(0,X._p)("user")["mapGetters"],re={data:()=>({sectionList:{},selected:null,profileOnly:!1}),computed:Q(Q(Q({},ee(["sections","geoSection","recentUploadSections","favoriteSections","featuredSections"])),te({getUploadSection:"GET_UPLOAD_SECTION"})),se({user:"USER"})),created(){this.initSectionList()},methods:{initSectionList(){let t=[];const e=e=>e&&!t.includes(e.url),s=this.recentUploadSections.map(e=>this.getUploadSection(e)).filter(e);t=[...t,...s.map(e=>e.url)];const r=this.favoriteSections.map(e=>this.getUploadSection(e)).filter(e);t=[...t,...r.map(e=>e.url)];const o=Object.keys(this.featuredSections).map(e=>this.getUploadSection(e)).filter(e);this.geoSection&&!t.includes(this.geoSection.url)&&o.unshift(this.geoSection),t=[...t,...o.map(e=>e.url)],this.sectionList={Recents:s,Favorites:r,Popular:o,Sections:Object.keys(this.sections).map(e=>this.getUploadSection(e)).filter(e)}},clickSection(e){this.selected=e,this.profileOnly=!1,this.notifyUpload()},clickProfileOnly(){this.selected=null,this.profileOnly=!0,this.notifyUpload()},notifyUpload(){var{selected:e,profileOnly:t}=this;C.Z.$emit("upload::sectionClick",{section:e,profileOnly:t})}},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("ul",$,[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(o.sectionList,(e,t)=>((0,G.wg)(),(0,G.j4)(G.HY,null,[0<e.length?((0,G.wg)(),(0,G.j4)("li",Z,(0,F.zw)(t),1)):(0,G.ry)("",!0),((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(e,t=>((0,G.wg)(),(0,G.j4)("li",null,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:e=>i.clickSection(t.url)},[(0,G.Wm)("div",H,[(0,G.Wm)("picture",null,[(0,G.Wm)("source",{srcset:t.ogWebpUrl,type:"image/webp"},null,8,["srcset"]),(0,G.Wm)("img",{src:t.ogImageUrl,loading:"lazy"},null,8,["src"])])]),(0,G.Wm)("div",K,[(0,G.Wm)("h3",null,(0,F.zw)(t.name),1),(0,G.Wm)("p",null,(0,F.zw)(t.description),1)]),(0,G.Wm)("div",{class:["selector",{selected:o.selected===t.url}]},null,2)],8,["onClick"])]))),256))],64))),256)),(0,G.Wm)("li",null,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.clickProfileOnly&&i.clickProfileOnly(...e))},[(0,G.Wm)("div",z,[(0,G.Wm)("img",{src:e.user.avatarUrl},null,8,["src"])]),Y,(0,G.Wm)("div",{class:["selector",{selected:o.profileOnly}]},null,2)])])])}},oe={ref:"recaptcha"};var ie=s(3036).default;const ne={emits:["ready"],props:{sitekey:{type:String},theme:{type:String,default:"light"}},data:()=>({retry:5}),methods:{getResponse(){var e=this.$refs.recaptcha.querySelector(".g-recaptcha-response");return e?e.value:null},renderCaptcha(){var{sitekey:e,theme:t}=this;window.grecaptcha&&window.grecaptcha.render&&e?this.$refs.recaptcha&&(window.grecaptcha.render(this.$refs.recaptcha,{sitekey:e,theme:t}),this.$emit("ready")):0<this.retry&&(--this.retry,setTimeout(this.renderCaptcha,1e3))}},mounted(){window.grecaptcha?this.renderCaptcha():ie.loadScript("https://www.google.com/recaptcha/api.js?render=explicit").then(()=>this.renderCaptcha())},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("div",oe,null,512)}};var ae=s(3063),ce=s(2662).default,le=s(45).default,de=s(4177).default,ue=s(5652).default,pe=s(2025),he=ae.extend({},new A.Z,{TITLE_LENGTH_WARNING_THRESHOLD:20,_isUploadingImage:!1,_isVerifyingUrl:!1,_verifyUrlAjax:!1,_section:null,_profileOnly:null,ENTER_KEY:13,COMMA_KEY:188,BACKSPACE_KEY:8,SECTION_ITEM_PREFIX:"jsid-section-item-",SECTION_ITEM_RECENTS_PREFIX:"jsid-section-item-recents-",SECTION_ITEM_FAVORITES_PREFIX:"jsid-section-item-favorites-",init:function(){this._bindElements()},showUploadPage:function(){if(y.Z.isUploadPage()){ce.OverlayController.showOverlay(ce.OverlayController.selectors.OVERLAY_COMPONENT_UPLOAD);const e=new URLSearchParams(window.location.search),t=e.get("url"),s=e.get("title");s&&ae(this.selectors.UPLOAD_TITLE_INPUT).val(s),t?(ae(this.selectors.UPLOAD_URL_INPUT).val(t),this._validateUrl(),this.showUploadStep(this.selectors.UPLOAD_URL_STEP)):this.showUploadStep(this.selectors.UPLOAD_FILE_STEP)}},selectors:{UPLOAD_URL_BTN:"#jsid-upload-url-btn",UPLOAD_MEME_BTN:"#jsid-upload-meme-btn",UPLOAD_FILE_BTN:"#jsid-upload-file-btn",UPLOAD_FILE_BTN_TEXT:".badge-drop-zone-text",UPLOAD_URL_NEXT_BTN:".badge-upload-url-next-btn",UPLOAD_URL_BACK_BTN:".badge-upload-url-back-btn",UPLOAD_INFO_NEXT_BTN:".badge-upload-info-next-btn",UPLOAD_INFO_BACK_BTN:".badge-upload-info-back-btn",UPLOAD_POST_PICK_SECTION_POST_BTN:".badge-upload-pick-section-post-btn",UPLOAD_POST_PICK_SECTION_BACK_BTN:".badge-upload-pick-section-back-btn",UPLOAD_URL_INPUT:"#jsid-upload-url-input",UPLOAD_FILE_INPUT:"#jsid-upload-file-input",UPLOAD_CHAR_COUNT:"#jsid-char-count",UPLOAD_TITLE_INPUT:"#jsid-upload-title",UPLOAD_SOURCE_CHECKBOX:"#jsid-source-checkbox",UPLOAD_SOURCE_CHECKBOX_LABEL:"#jsid-source-checkbox-label",UPLOAD_SOURCE_INPUT:"#jsid-source-input",UPLOAD_SOURCE_CHECKBOX_DIV:"#jsid-source-checkbox-div",UPLOAD_SOURCE_INPUT_TEXTBOX:"#jsid-source-input-textbox",UPLOAD_SUBMIT_BTN:"#jsid-submit-btn",UPLOAD_DISABLE_MASK:"#jsid-disable-mask",UPLOAD_STEP:".badge-upload-step",UPLOAD_FILE_STEP:".badge-upload-file-step",UPLOAD_URL_STEP:".badge-upload-url-step",UPLOAD_INFO_STEP:".badge-upload-info-step",UPLOAD_PICK_SECTION_STEP:".badge-upload-pick-section-step",UPLOAD_FILE_PREVIEW:"#jsid-upload-file-preview",UPLOAD_INFO_MESSAGE:".badge-upload-info-message",UPLOAD_URL_MESSAGE:".badge-upload-url-message",UPLOAD_FILE_ID:"#jsid-upload-file-id",UPLOAD_FILE_CAPTCHA:".badge-upload-captcha",UPLOAD_CSRF_TOKEN:"#jsid-upload-csrf-token",UPLOAD_CONTENT_ERROR_LABEL:"#jsid-upload-content-error",UPLOAD_TITLE_ERROR_LABEL:"#jsid-upload-title-error",UPLOAD_ERROR_LABEL:"#jsid-upload-error",UPLOAD_SECTION_ERROR_LABEL:"#jsid-upload-section-error",UPLOAD_TAG_LIST:".badge-upload-tag-list",UPLOAD_TAG_SCROLL_CONTAINER:".badge-upload-scroll-container",UPLOAD_TAG_INPUT:"#jsid-upload-tag-input",UPLOAD_TAG_FIELD:".badge-upload-tag",UPLOAD_TAG_ITEM:".badge-upload-tag-item",UPLOAD_TAG_REMOVE:".badge-upload-tag-remove",UPLOAD_TAG_STEP:".badge-upload-tag-step",UPLOAD_IS_NSFW:"#jsid-upload-is-nsfw",SECTION_LIST:"#jsid-section-list",DROPZONE_TEMPLATE:"#jsid-drop-zone-template",DROPZONE_PREVIEW:"#jsid-drop-zone-preview"},css:{METHOD_SELECTED:"upload-selected",TITLE_WARNING:"warn"},showUploadStep:function(e,t){t=t||"",ae(this.selectors.UPLOAD_STEP).addClass("hide"),ae(e).removeClass("hide"),e===this.selectors.UPLOAD_INFO_STEP?(ae(this.selectors.UPLOAD_TITLE_INPUT).focus(),_.Z.isRestricted()&&(ae(this.selectors.UPLOAD_FILE_CAPTCHA).removeClass("hide"),this._initCaptcha()),this.showUploadInfoMessage(this.selectors.UPLOAD_INFO_MESSAGE,t)):e===this.selectors.UPLOAD_URL_STEP?(ae(this.selectors.UPLOAD_URL_INPUT).focus(),this.showUploadInfoMessage(this.selectors.UPLOAD_URL_MESSAGE,t)):e===this.selectors.UPLOAD_TAG_STEP&&this.showUploadInfoMessage(this.selectors.UPLOAD_INFO_MESSAGE,t)},showUploadInfoMessage:function(e,t){""==t?ae(e).addClass("hide"):(ae(e).html(t),ae(e).removeClass("hide"))},_setCharCount:function(e){var t=ae(e.currentTarget),e=parseInt(t.data("maxlength"),10)-t.val().length,t=ae(this.selectors.UPLOAD_CHAR_COUNT).text(e);e<=this.TITLE_LENGTH_WARNING_THRESHOLD?t.addClass(this.css.TITLE_WARNING):t.removeClass(this.css.TITLE_WARNING)},_validateUrl:function(e){0<ae(this.selectors.UPLOAD_URL_INPUT).val().length&&"Loading"!=ae(this.selectors.UPLOAD_URL_NEXT_BTN).text()?ae(this.selectors.UPLOAD_URL_NEXT_BTN).removeClass("disabled"):ae(this.selectors.UPLOAD_URL_NEXT_BTN).addClass("disabled")},_updateSourceFields:function(e){var t=ae(this.selectors.UPLOAD_SOURCE_CHECKBOX),s=ae(this.selectors.UPLOAD_SOURCE_INPUT);t.is(":checked")?(s.removeClass("hide"),s.addClass("last"),ae(this.selectors.UPLOAD_SOURCE_CHECKBOX_DIV).removeClass("last")):(s.addClass("hide"),s.removeClass("last"),ae(this.selectors.UPLOAD_SOURCE_CHECKBOX_DIV).addClass("last"))},_initSections(){var e=document.getElementById("jsid-section-list");e&&(ce.PageController.initMicroApp(e,re,[B.Z]),C.Z.$on("upload::sectionClick",({section:e,profileOnly:t})=>{this._section=e,this._profileOnly=t,e||t?ae(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).removeClass("disabled"):ae(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).addClass("disabled")}))},_initCaptcha(){var e=document.getElementById("jsid-upload-captcha");e&&ce.PageController.initMicroApp(e,{render:()=>(0,G.h)(ne,{sitekey:le.get("configs.captchaPublicKey")})},[B.Z])},_getTitleError:function(){var e=ae(this.selectors.UPLOAD_TITLE_INPUT).val(),t=ae(this.selectors.UPLOAD_TITLE_INPUT).data("minlength"),s=ae(this.selectors.UPLOAD_TITLE_INPUT).data("maxlength"),r=e.replace(/[\t!?,:;\-\s\.]/g,"").replace(/[\u2000-\u206F\u2E00-\u2E7F]/g,"");return!e||r.length<t?"Boost your post with a funny, creative and descriptive title!":e.length>s?"Your title is a bit long. Be concise!":void 0},_isValidImageUrl:function(e){return e.toLowerCase().match(/^http(s?):\/\//i)},_isValidImageExtension:function(e){return(e+="").split(".").pop().match(/(jpeg|jpg|gif|png)/i)},initialize:function(){var o=this;if(0==ae(this.selectors.DROPZONE_TEMPLATE).length)return!1;new pe("html",{url:"/submit/upload-image",thumbnailWidth:600,thumbnailHeight:600,previewsContainer:this.selectors.DROPZONE_PREVIEW,clickable:this.selectors.UPLOAD_FILE_BTN,acceptedMimeTypes:"image/jpeg, image/jpg, image/png, image/gif, video/mp4, video/webm, video/quicktime, video/x-m4v",previewTemplate:ae(this.selectors.DROPZONE_TEMPLATE).html(),maxFilesize:o.getMaxFilesize()}).on("dragover",function(e){y.Z.isUploadPage()||o._isUploadingImage||ce.OverlayController.showOverlay(ce.OverlayController.selectors.OVERLAY_COMPONENT_DRAG_AND_DROP)}).on("addedfile",function(e){ae(o.selectors.UPLOAD_FILE_PREVIEW).html(de.getSpinnerHtml()),ae(o.selectors.UPLOAD_INFO_NEXT_BTN).addClass("disabled"),ae(o.selectors.UPLOAD_URL_INPUT).val(""),ce.OverlayController.showOverlay(ce.OverlayController.selectors.OVERLAY_COMPONENT_UPLOAD),o.showUploadStep(o.selectors.UPLOAD_INFO_STEP),ue.track("UploadAction","Upload","Image"),null!=this.files[1]&&this.removeFile(this.files[0])}).on("drop",function(e){return!o._isUploadingImage&&(y.Z.isUploadPage()||ce.OverlayController.hideAllOverlay(),ue.track("UploadAction","DragFile","Image"),void(o._isUploadingImage=!0))}).on("success",function(e,t){o.uploadedFile(t,e)}).on("error",function(e,t){o.uploadedFile({okay:!1,message:"Error occurred while uploading photo."},e)}).on("complete",function(e){var t="image/gif"===e.type,s=0==e.type.indexOf("image/")&&!t,r=o.isVideoFile(e);s||r||t?r&&e.size>le.get("configs.upload.maxVideoFilesize")?(o.uploadedFile({okay:!1,message:"File size is too large."},e),ue.track("UploadAction","UploadError","ExceedMaxVideoFileSize")):t&&e.size>le.get("configs.upload.maxGifFilesize")?(o.uploadedFile({okay:!1,message:"File size is too large."},e),ue.track("UploadAction","UploadError","ExceedMaxGifFileSize")):s&&e.size>le.get("configs.upload.maxImageFilesize")&&(o.uploadedFile({okay:!1,message:"File size is too large."},e),ue.track("UploadAction","UploadError","ExceedMaxFileSize")):(o.uploadedFile({okay:!1,message:"Unsupported type."},e),ue.track("UploadAction","UploadError","UnSupportedType")),o._isUploadingImage=!1})},getMaxFilesize:function(){return le.get("configs.upload.maxVideoFilesize")/1024/1024},isVideoFile:function(e){return 0==e.type.indexOf("video/")},uploadedFile:function(e,t){e.okay?(this.isVideoFile(t)?(t=URL.createObjectURL(t),this.updatePreviewHotlink("video",t)):ae(this.selectors.UPLOAD_FILE_PREVIEW).html(ae(this.selectors.DROPZONE_PREVIEW).html()),ae(".dz-image").removeClass("hide"),ae(this.selectors.UPLOAD_INFO_NEXT_BTN).removeClass("disabled"),ae(this.selectors.UPLOAD_FILE_ID).val(e.uploadId),ae(this.selectors.UPLOAD_CSRF_TOKEN).val(e.csrftoken)):(ae(this.selectors.UPLOAD_FILE_PREVIEW).html(""),e.message&&""!=e.message&&this.showUploadStep(this.selectors.UPLOAD_INFO_STEP,e.message)),ae(this.selectors.UPLOAD_FILE_PREVIEW).removeClass("uploading")},urlNext:function(){var e=ae(this.selectors.UPLOAD_URL_INPUT).val();e.length&&(this._isValidImageUrl(e)?this.ajaxVerifyUrl(e):this.showUploadStep(this.selectors.UPLOAD_URL_STEP,"Invalid URL."))},ajaxVerifyUrl:function(e){var s=this;this._isVerifyingUrl||(this._isVerifyingUrl=!0,ae(this.selectors.UPLOAD_URL_NEXT_BTN).addClass("disabled").text("Loading"),this._verifyUrlAjax=ae.ajax({type:"POST",dataType:"json",url:"/submit/verify-url",data:{url:e},success:function(e){e.okay?(s.showUploadStep(he.selectors.UPLOAD_INFO_STEP),ue.track("UploadAction","Upload","Url"),ae(s.selectors.UPLOAD_INFO_NEXT_BTN).removeClass("disabled"),e.previewType&&e.previewUrl&&""!=e.previewType&&""!=e.previewUrl?s.updatePreviewHotlink(e.previewType,e.previewUrl):s.updatePreviewHotlink(),ae(s.selectors.UPLOAD_CSRF_TOKEN).val(e.csrftoken),ae(s.selectors.UPLOAD_FILE_ID).val(e.uploadId)):e.message&&""!=e.message&&s.showUploadStep(he.selectors.UPLOAD_URL_STEP,e.message)},error:function(e,t){"abort"!=t&&s.showUploadStep(he.selectors.UPLOAD_URL_STEP,"Error occurred.")},complete:function(){ae(s.selectors.UPLOAD_URL_NEXT_BTN).removeClass("disabled").text("Next"),s._isVerifyingUrl=!1}}))},updatePreviewHotlink:function(e,t){"photo"==e?ae(this.selectors.UPLOAD_FILE_PREVIEW).html('<img src="'+t+'" />'):"video"==e?ae(this.selectors.UPLOAD_FILE_PREVIEW).html('<video src="'+t+'" muted />'):ae(this.selectors.UPLOAD_FILE_PREVIEW).html("")},validateUploadInfo:function(){var e=this._getTitleError(),t=this._checkTagField();return e?(this.showUploadStep(this.selectors.UPLOAD_INFO_STEP,e),!1):_.Z.isRestricted()&&!ae("[name=g-recaptcha-response]",this.selectors.UPLOAD_INFO_STEP).val()?(this.showUploadStep(this.selectors.UPLOAD_INFO_STEP,"Wrong CAPTCHA."),!1):!t},_checkTagField:function(){var e=ae(this.selectors.UPLOAD_TAG_LIST).children().length,t=ae(this.selectors.UPLOAD_TAG_INPUT);if(e<t.data("countmax")&&t.show(),0===e&&t.attr("placeholder",t.data("placeholder")),e>t.data("countmax"))return!1;ae(this.selectors.UPLOAD_TAG_LIST).children().each(function(){var e=ae(this).data("tag").length;if(e<t.data("lengthmin")||e>t.data("lengthmax"))return!1})},_bindElements:function(){var r=this;ae(this.selectors.UPLOAD_FILE_BTN).on("click",ae.proxy(function(e){ue.track("UploadAction","TapSelectImage")},this)),ae(this.selectors.UPLOAD_URL_BTN).on("click",ae.proxy(function(e){e.preventDefault(),r.showUploadStep(this.selectors.UPLOAD_URL_STEP),ue.track("UploadAction","TapAddUrl")},this)),ae(this.selectors.UPLOAD_MEME_BTN).on("click",ae.proxy(function(e){ue.track("UploadAction","TapMakeMeme")},this)),ae(this.selectors.UPLOAD_URL_NEXT_BTN).on("click",ae.proxy(function(e){e.preventDefault(),r.urlNext()},this)),ae(this.selectors.UPLOAD_INFO_NEXT_BTN).on("click",ae.proxy(function(e){return e.preventDefault(),!ae(e.target).hasClass("disabled")&&!!r.validateUploadInfo()&&(r._initSections(),r.showUploadStep(this.selectors.UPLOAD_PICK_SECTION_STEP),void ue.track("UploadAction","SubmitPostTitle"))},this)),ae(this.selectors.UPLOAD_URL_BACK_BTN).on("click",ae.proxy(function(e){e.preventDefault(),r.showUploadStep(this.selectors.UPLOAD_FILE_STEP),r._verifyUrlAjax&&4!=r._verifyUrlAjax.readyState&&r._verifyUrlAjax.abort()},this)),ae(this.selectors.UPLOAD_INFO_BACK_BTN).on("click",ae.proxy(function(e){e.preventDefault(),r.showUploadStep(this.selectors.UPLOAD_FILE_STEP)},this)),ae(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).on("click",ae.proxy(function(e){e.preventDefault();e=r.getSelectedSectionUrls();r.submitUpload(),r.submitUploadTracking(e),r.updateRecentUploadSections(e)},this)),ae(this.selectors.UPLOAD_POST_PICK_SECTION_BACK_BTN).on("click",ae.proxy(function(e){e.preventDefault(),r.showUploadStep(this.selectors.UPLOAD_INFO_STEP)},this)),ae(this.selectors.UPLOAD_FILE_PREVIEW).on("click",ae.proxy(function(e){e.preventDefault(),null!=ae(r.selectors.UPLOAD_FILE_PREVIEW).find("img, video").attr("src")&&(e=ae(r.selectors.UPLOAD_FILE_PREVIEW).find("img, video").clone().prop("autoplay",!0),r.showPostZoomOverlay(e),ue.track("UploadAction","TapPreviewImage"))})),ae(this.selectors.UPLOAD_URL_INPUT).keypress(function(e){13==e.which&&r.urlNext(),e.stopPropagation()}).on("paste",function(e){setTimeout(function(){r.urlNext()},50),e.stopPropagation()}),ae(this.selectors.UPLOAD_TAG_INPUT).keydown(function(e){if(e.which===r.COMMA_KEY&&e.preventDefault(),e.which===r.ENTER_KEY||e.which===r.COMMA_KEY){var t=ae(this).val().trim();if(""===t)return;var s="";if(t.match(/[,~`!@#$%^&*(){}[\];:"'<.>?\/\\|_+=]/)&&(s="Oops! Tags can contain alphanumerics, numbers and spaces only!"),t.length<ae(this).data("lengthmin")&&(s="Oops! Tag is too short"),t.length>ae(this).data("lengthmax")&&(s="Oops! Tag is too long"),r.showUploadStep(r.selectors.UPLOAD_TAG_STEP,s),""!==s)return;ae(r.selectors.UPLOAD_TAG_LIST).append('<span class="tag tag-item badge-upload-tag-item" data-tag="'+t+'">'+t+'<span class="remove badge-upload-tag-remove">&times;</span></span>'),ae(this).val(""),ae(this).removeAttr("placeholder");t=ae(r.selectors.UPLOAD_TAG_SCROLL_CONTAINER).width();ae(r.selectors.UPLOAD_TAG_SCROLL_CONTAINER).scrollLeft(t),ae(r.selectors.UPLOAD_TAG_LIST).children().length===ae(this).data("countmax")&&ae(this).hide()}e.which===r.BACKSPACE_KEY&&""===ae(r.selectors.UPLOAD_TAG_INPUT).val()&&(0<(e=ae(r.selectors.UPLOAD_TAG_LIST).children().length)&&ae(r.selectors.UPLOAD_TAG_LIST+" span:nth-child("+e+")").remove(),r._checkTagField())}),ae(this.selectors.UPLOAD_TAG_FIELD).on("click",this.selectors.UPLOAD_TAG_REMOVE,function(e){ae(this).parent().remove(),r._checkTagField()}),ae(this.selectors.UPLOAD_TITLE_INPUT).on("keydown input",ae.proxy(function(e){setTimeout(ae.proxy(this._setCharCount,this,e),50)},this)),ae(this.selectors.UPLOAD_URL_INPUT).on("keydown input",ae.proxy(function(e){setTimeout(ae.proxy(this._validateUrl,this,e),50)},this)),ae(this.selectors.UPLOAD_SOURCE_CHECKBOX).on("change",ae.proxy(this._updateSourceFields,this))},showPostZoomOverlay:function(e){ae(W.selectors.MODAL_POST_ZOOM_CONTAINER).find(".badge-post-zoom-img").html(e),ae(W.selectors.MODAL_POST_ZOOM_CONTAINER).find("video").prop({loop:!0}),W.showOverlay(W.selectors.MODAL_POST_ZOOM_CONTAINER),W._hideAllOverlayReturnToUpload=!0,W.setHideUsingBackground(!0)},submitUpload:function(){var t=this,e=ae(this.selectors.UPLOAD_TITLE_INPUT).val(),s=0;ae(this.selectors.UPLOAD_IS_NSFW).is(":checked")&&(s=1);var r=ae(this.selectors.UPLOAD_FILE_ID).val(),o=this.getSelectedSectionUrls(),i=ae(this.selectors.UPLOAD_SOURCE_INPUT_TEXTBOX).val(),n=ae("[name=g-recaptcha-response]",this.selectors.UPLOAD_INFO_STEP).val(),a=ae(this.selectors.UPLOAD_CSRF_TOKEN).val(),c=0,l=[];ae(this.selectors.UPLOAD_TAG_LIST).children().each(function(){l.push(ae(this).data("tag"))});l=l.join(","),c={title:e,nsfw:s,uploadId:r,type:"Photo",section:o,source:i,"g-recaptcha-response":n,csrftoken:a,skipFromLists:c=this._profileOnly?1:c,tags:l};ae(this.selectors.SECTION_LIST).addClass("disabled"),ae(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).addClass("disabled"),ae(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).text("Posting"),ae(this.selectors.UPLOAD_POST_PICK_SECTION_BACK_BTN).addClass("disabled"),ae(ce.OverlayController.selectors.OVERLAY_CLOSE_BUTTON).addClass("hide");function d(e){e=e&&e.message&&e.message.length?e.message:"Error occurred. Please try again.",t.showUploadStep(he.selectors.UPLOAD_INFO_STEP,e),ae(t.selectors.SECTION_LIST).removeClass("disabled"),ae(t.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).removeClass("disabled"),ae(t.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).text("Post"),ae(t.selectors.UPLOAD_POST_PICK_SECTION_BACK_BTN).removeClass("disabled"),ae(ce.OverlayController.selectors.OVERLAY_CLOSE_BUTTON).removeClass("hide")}ae.ajax({type:"POST",dataType:"json",url:"/submit",data:c,success:function(e){if(e.okay)return B.Z.dispatch("user/ADD_UPLOAD",e.postId),void(window.location.href=e.postUrl);d(e)},error:function(){d()}})},updateRecentUploadSections(e=[]){e.forEach(e=>B.Z.dispatch("section/ADD_RECENT_UPLOAD_SECTION",e))},submitUploadTracking(e=[]){const t=B.Z.getters["section/GET_FAVORITE_SECTIONS_URLS"]||[],s=B.Z.getters["section/GET_RECENT_UPLOAD_SECTIONS_URLS"]||[];ue.track("UploadAction","SubmitUpload"),e.forEach(e=>{s.includes(e)?ue.track("UploadAction","SubmitUploadRecentSection"):t.includes(e)&&ue.track("UploadAction","SubmitUploadFavSection")})},getSelectedSectionUrls:function(){return this._section?[this._section]:[]}});const me=he;var ge=s(9963);const fe={key:0},ye={id:"page"};var Oe=s(1487),be=s(7219);const ve={class:"main-wrap"},_e=(0,G.Wm)("div",{id:"comment"},null,-1),Se=(0,G.Wm)("div",{id:"comments"},null,-1),Te={class:"post-comment"},we={id:"individual-post"},Pe={ref:"header"},Ie={ref:"container",class:"post-container"},Ee={class:"post-text-container"},Ae={key:1,class:"source"},ke=(0,G.Uk)(" Source: "),De={class:"post-meta"},Ce=(0,G.Uk)(" Â· "),Ue="overview",Le="comments",je={inject:{isPostView:{default:!1}},computed:{type(){let e="hot";return this.$route.name===Oe.Z.USER_POST_LIST&&(e=Ue),this.$route.params.type||e}},methods:{getRoute({name:e=null,params:t={},query:s={}}){return this.$router.resolve({name:e||this.$router.name,params:t,query:s}).href},getPostRoute(e,t={}){return this.$router.resolve({name:Oe.Z.POST_PAGE,params:{postId:e},query:t}).href}}};function Ne(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Re(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ne(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Me=(0,X._p)("post")["mapGetters"],xe={props:{postId:String,mediaId:String},computed:Re(Re({},Me({getPost:"GET_POST"})),{},{_postId(){return this.postId||null},_mediaId(){return this.mediaId||null},isMedia(){return!!this._mediaId},post(){var e=this.getPost(this._postId);return this.isMedia?e.article.medias[this._mediaId]:e},postTitle(){return this.post.title},postUrl(){return this.post.postUrl},postImages(){return this.post.images}})},We={props:{eventKey:String,postId:String,position:Number},computed:{getEntryEventParams(){return`PostList,TapPost,${y.Z.getPageKey()},,${this.eventKey}`}},methods:{click(){this.$refs.anchor.click()}},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("a",{"data-evt":i.getEntryEventParams,"data-entry-id":s.postId,"data-position":s.position,ref:"anchor"},[(0,G.WI)(e.$slots,"default")],8,["data-evt","data-entry-id","data-position"])}};var Ve=s(6296).default;function Be(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Ge(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Be(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Be(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Fe=(0,X._p)("user")["mapState"],$e=(0,X._p)("commentSystem/comment")["mapGetters"],Ze={components:{TapPost:We},props:{postId:String,position:Number},mixins:[je,xe],computed:Ge(Ge(Ge({},Fe(["uploads"])),$e({commentsCount:"totalCount"})),{},{postUpVoteCount(){return this.post.upVoteCount},postCommentsCount(){return(this.isPostView&&this.commentsCount?this:this.post).commentsCount},isVoteMasked(){return this.post.isVoteMasked},target(){return this.isPostView?"_self":"_blank"},pointUrl(){return this.isPostView?"javascript:void(0);":this.postUrl},commentUrl(){return this.postUrl+"#comment"},points(){return this.isVoteMasked&&!this.uploads.includes(this.postId)?"â€¢ points":this.metaDisplay(this.postUpVoteCount,"point")},comments(){return this.metaDisplay(this.postCommentsCount,"comment")}}),methods:{metaDisplay:(e,t)=>1===e?`1 ${t}`:Ve.integerWithCommas(e)+` ${t}s`},render:function(e,t,s,r,o,i){var n=(0,G.up)("TapPost");return(0,G.wg)(),(0,G.j4)("p",De,[(0,G.Wm)(n,{class:"point badge-evt",href:i.pointUrl,postId:s.postId,position:s.position,target:i.target,eventKey:"Point"},{default:(0,G.w5)(()=>[(0,G.Uk)((0,F.zw)(i.points),1)]),_:1},8,["href","postId","position","target"]),Ce,(0,G.Wm)(n,{class:"comment badge-evt",href:i.commentUrl,postId:s.postId,position:s.position,target:i.target,eventKey:"CommentCountText"},{default:(0,G.w5)(()=>[(0,G.Uk)((0,F.zw)(i.comments),1)]),_:1},8,["href","postId","position","target"])])}},He={key:0,class:"post-tag"};var Ke=s(8209);const ze={props:{postId:String},mixins:[Ke.Z,je,xe],computed:{category(){return this.isPostView?"PostAction":"PostList"},postTags(){return this.post.tags}},render:function(s,e,t,r,o,i){return i.postTags&&0<i.postTags.length?((0,G.wg)(),(0,G.j4)("div",He,[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(i.postTags,t=>((0,G.wg)(),(0,G.j4)("a",{target:"_blank",href:`${t.url}?ref=post-tag`,onClick:e=>s.track(i.category,"ViewTag",{"post-tag-label":t.key})},(0,F.zw)(t.key),9,["href","onClick"]))),256))])):(0,G.ry)("",!0)}},Ye={class:"fixed-wrap-post-bar"},qe={class:"post-afterbar-a in-post-top"},Xe={class:"vote"},Je={class:"share"},Qe={class:"vote left"},et={class:"post-nav"},tt=(0,G.Wm)("span",{class:"label"},"Next Post",-1),st=(0,G.Wm)("span",{class:"arrow"},null,-1),rt=(0,G.Wm)("span",null,"UP",-1),ot=(0,G.Wm)("span",null,"DOWN",-1);var it=s(5384),nt=s(1653).default;function at(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function ct(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?at(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):at(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const lt=(0,X._p)("post")["mapActions"],{mapGetters:dt,mapActions:ut}=(0,X._p)("user"),pt={mixins:[it.Z,je,xe],props:{postId:String,position:Number},computed:ct(ct({},dt({getUserScore:"GET_USER_SCORE"})),{},{postUserScore(){return this.getUserScore(this.postId)}}),methods:ct(ct(ct({},ut({addVote:"ADD_VOTE"})),lt({updateVoteCount:"UPDATE_VOTE_COUNT"})),{},{tracking(e){this.isPostView?nt.trackEvent("PostAction",e,this.postId):nt.trackEvent("PostList",e,y.Z.getPageKey(),"",{PostKey:this.postId,Position:this.position})},vote(e){var t=this.postUserScore,s=e[this.postId];this.addVote(e),this.updateVoteCount({postId:this.postId,currentScore:t,newScore:s})},onVoteUp(){var e=this.postUrl;if(this.ensureLoggedIn(e)){let e={};1===this.postUserScore?(E.unlike(this.postId),this.tracking("UnvotePost"),e[this.postId]=0):(E.like(this.postId),this.tracking("UpvotePost"),e[this.postId]=1),this.vote(e)}},onVoteDown(){var e=this.postUrl;if(this.ensureLoggedIn(e)){let e={};-1===this.postUserScore?(E.unlike(this.postId),this.tracking("UnvotePost"),e[this.postId]=0):(E.dislike(this.postId),this.tracking("DownvotePost"),e[this.postId]=-1),this.vote(e)}}}),mounted(){C.Z.$on(`post::voteUp::${this.postId}`,this.onVoteUp),C.Z.$on(`post::voteDown::${this.postId}`,this.onVoteDown)},beforeUnmount(){C.Z.$off(`post::voteUp::${this.postId}`,this.onVoteUp),C.Z.$off(`post::voteDown::${this.postId}`,this.onVoteDown)},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("ul",{class:["btn-vote left",{up:1===i.postUserScore,down:-1===i.postUserScore}]},[(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:["up",{active:1===i.postUserScore}],onClick:t[1]||(t[1]=(...e)=>i.onVoteUp&&i.onVoteUp(...e)),href:"javascript:void(0);"},[rt],2)]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:["down",{active:-1===i.postUserScore}],onClick:t[2]||(t[2]=(...e)=>i.onVoteDown&&i.onVoteDown(...e)),href:"javascript:void(0);"},[ot],2)])],2)}};var ht,mt=s(5652),gt=s(3063),ft=s(5652).default,yt={init:(ht={init:function(){},_isRequesting:!1,deleteEntry:function(t){yt._isRequesting||gt.ajax({type:"DELETE",url:"/v1/post",dataType:"json",data:{entryId:t},beforeSend:function(){ht._isRequesting=!0},complete:function(){ht._isRequesting=!1},success:function(e){e.data.okay?ft.track("PostAction","DeleteSuccess",t):ft.track("PostAction","DeleteFail",t),window.location="/"},error:function(){ft.track("PostAction","DeleteFail",t),window.location="/"}})}}).init,deleteEntry:ht.deleteEntry};const Ot=yt;var bt=s(3822);const vt={getShareTrackingParams(e,t,s){var r=t?"p":"l";let o="";switch(e){case"facebook":o=`social,fb.s,,,d,${s},${r})`;break;case"twitter":o=`social,t.s,,,d,${s},${r})`;break;case"pinterest":o=`social,pn.s,,,d,${s},${r}`;break;case"email":o=`social,9g.m,,,d,${s},${r}`;break;default:o=""}return o},getShareEventParams(e,t,s){var r="Post"===t?"PostAction":"PostList",t="Post"===t&&s?s:t;let o="";switch(e){case"facebook":o="FacebookButton";break;case"facebook-bottom":o="FacebookBottomButton";break;case"twitter":o="TwitterButton";break;case"pinterest":o="PinterestButton";break;case"pinterest-bottom":o="PinterestBottomButton";break;case"email":o="EmailButton"}return`${r},ShareSocial,${t},,${o}`},getShareTitle(e,t){let s="";switch(t){case"twitter":case"pinterest":s=encodeURI(e);break;default:s=e}return s},getShareUrl(e,t){let s=null;switch(e){case"facebook":s="fb.s";break;case"twitter":s="t";break;case"pinterest":s="pn";break;case"email":s="9g.m"}const r={};s&&(r.ref=s);t=Ga.resolve({name:Oe.Z.POST_PAGE,params:{postId:t},query:r});return document.location.origin+t.href},getEmailShareUrl(e,t){t=`This is funny, you must check it out! :D\n${e}\n${this.getShareUrl("email",t)}`;return`mailto:?subject=${encodeURI(`Check out "${e}"`)}&body=${encodeURI(t)}`},openShareWindow(e){var t=window.screen.height/2-230,s=window.screen.width/2-320;window.open(e,"Share","status=1,height=460,width=640,top="+t+",left="+s+",resizable=0")},reportEntry(e,t){mt.default.track(t?"PostAction":"PostList","TapReport",e),V.Z.showReportOverlay({type:bt.Z.TYPES.POST,objectId:e})},deleteEntry(e,t){mt.default.track(t?"PostAction":"PostList","TapDelete",e),confirm("Confirm to delete this post?")&&Ot.deleteEntry(e)}},_t={mixins:[xe,je],props:{postId:String,position:Number},methods:{getShareTrackingParams(e){return vt.getShareTrackingParams(e,this.isPostView,this.postId)},getShareEventParams(e){return vt.getShareEventParams(e,y.Z.getPageKey(),this.postId)},getShareTitle(e){return vt.getShareTitle(this.postTitle,e)},getShareUrl(e){return vt.getShareUrl(e,this.postId)},getShareImg(e){return this.postImages[e]&&this.postImages[e].url||""},clickFbShare(){var e=this.getShareUrl("facebook"),e="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e);vt.openShareWindow(e)},clickPinterestShare(){var e=this.getShareUrl("pinterest"),t=this.getShareImg("image700"),s=this.getShareTitle("pinterest"),s="//pinterest.com/pin/create/button/?url="+encodeURIComponent(e)+"&media="+encodeURIComponent(t)+"&description="+s;vt.openShareWindow(s)}},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("ul",null,[(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:"badge-evt badge-track btn-share facebook",href:"javascript:void(0);",onClick:t[1]||(t[1]=(0,ge.iM)(e=>i.clickFbShare(),["prevent"])),"data-track":i.getShareTrackingParams("facebook"),"data-evt":i.getShareEventParams("facebook"),"data-entry-id":s.postId,"data-position":s.position}," Facebook ",8,["data-track","data-evt","data-entry-id","data-position"])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:"badge-evt badge-track btn-share pinterest",href:"javascript:void(0);",onClick:t[2]||(t[2]=(0,ge.iM)(e=>i.clickPinterestShare(),["prevent"])),"data-track":i.getShareTrackingParams("pinterest"),"data-evt":i.getShareEventParams("pinterest"),"data-entry-id":s.postId,"data-position":s.position}," Pinterest ",8,["data-track","data-evt","data-entry-id","data-position"])])])}},St={class:"btn-vote left"},Tt={key:0},wt={key:2};var Pt=s(2676);const It={TYPE_PHOTO:"Photo",TYPE_ANIMATED:"Animated",TYPE_VIDEO:"Video",TYPE_EMBED_VIDEO:"EmbedVideo",TYPE_ARTICLE:"Article"};var Et=s(4564),At=s.n(Et),kt=s(6238),Dt=s(24),Ct=s(8912).default;function Ut(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Lt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ut(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapState:jt,mapGetters:Nt}=(0,X._p)("user"),Rt=(0,X._p)("toast")["mapActions"],Mt={mixins:[je,it.Z,Ke.Z,xe],props:{postId:String,position:Number},computed:Lt(Lt(Lt({},jt(["uploads"])),Nt({safeMode:"SAFE_MODE"})),{},{showReport(){return!this.uploads.includes(this.postId)},downloadUrl(){var e=this.post;if(this.post.nsfw&&this.safeMode)return null;let t;return e.type===It.TYPE_PHOTO?t=e.images.image700.url:e.type===It.TYPE_ANIMATED&&(t=e.images.image460sv.url),t?new(At())(t).pathname:null}}),methods:Lt(Lt({},Rt({displayToast:Dt.ot.DISPLAY_TOAST})),{},{getShareTrackingParams(e){return vt.getShareTrackingParams(e,this.isPostView,this.postId)},getShareEventParams(e){return vt.getShareEventParams(e,y.Z.getPageKey(),this.postId)},getShareTitle(e){return vt.getShareTitle(this.postTitle,e)},getShareUrl(e){return vt.getShareUrl(e,this.postId)},getEmailShareUrl(){return vt.getEmailShareUrl(this.postTitle,this.postId)},clickTwitterShare(){var e=this.getShareUrl("twitter"),t=this.getShareTitle("twitter"),e="https://twitter.com/intent/tweet?via=9GAG&source=tweetbutton&original_referer="+encodeURIComponent(e)+"&text="+t+"&url="+encodeURIComponent(e);vt.openShareWindow(e)},clickReport(){this.ensureLoggedIn()&&vt.reportEntry(this.postId,this.isPostView)},clickDelete(){this.ensureLoggedIn()&&vt.deleteEntry(this.postId,this.isPostView)},clickDislike(){this.ensureLoggedIn()&&Pt.Z.reportEntity(bt.Z.TYPES.POST,this.postId,bt.Z.TYPE_DISLIKE.type)},clickRepost(){this.ensureLoggedIn()&&Pt.Z.reportEntity(bt.Z.TYPES.POST,this.postId,bt.Z.TYPE_REPOST.type)},clickDownload(){this.trackLabel("PostAction","DownloadMedia",this.postId)},clickCopyLink(){this.trackLabel("PostAction","CopyUrl",this.postId),kt.Z.copyText(this.getShareUrl()).then(()=>this.displayToast({type:Ct.INFO,msg:"Link Copied.",dismiss:!0}))}}),render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("ul",null,[(0,G.Wm)("li",null,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.clickCopyLink&&i.clickCopyLink(...e))},"Copy link")]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:"badge-evt badge-track",href:i.getEmailShareUrl(),"data-track":i.getShareTrackingParams("email"),"data-evt":i.getShareEventParams("email"),"data-entry-id":s.postId,"data-position":s.position,target:"_blank"}," Email ",8,["href","data-track","data-evt","data-entry-id","data-position"])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:"badge-evt badge-track twitter",href:"javascript:void(0);",onClick:t[2]||(t[2]=(0,ge.iM)(e=>i.clickTwitterShare(),["prevent"])),"data-track":i.getShareTrackingParams("twitter"),"data-evt":i.getShareEventParams("twitter"),"data-entry-id":s.postId,"data-position":s.position}," Twitter ",8,["data-track","data-evt","data-entry-id","data-position"])]),i.downloadUrl?((0,G.wg)(),(0,G.j4)("li",Tt,[(0,G.Wm)("a",{href:i.downloadUrl,onClick:t[3]||(t[3]=(...e)=>i.clickDownload&&i.clickDownload(...e)),download:""},"Download",8,["href"])])):(0,G.ry)("",!0),i.showReport?((0,G.wg)(),(0,G.j4)(G.HY,{key:1},[(0,G.Wm)("li",null,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[4]||(t[4]=(0,ge.iM)(e=>i.clickDislike(),["prevent"]))},"I don't like this")]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[5]||(t[5]=(0,ge.iM)(e=>i.clickRepost(),["prevent"]))},"I've seen this")]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[6]||(t[6]=(0,ge.iM)(e=>i.clickReport(),["prevent"]))},"Report")])],64)):((0,G.wg)(),(0,G.j4)("li",wt,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[7]||(t[7]=(0,ge.iM)(e=>i.clickDelete(),["prevent"]))},"Delete")]))])}};var xt=s(2649),Wt={beforeMount:(s,e,t)=>{function r(e){var t=e.path||e.composedPath&&e.composedPath();t&&0<t.length&&t.unshift(e.target),s.contains(e.target)||s.__vueClickOutside__.callback(e)}s.__vueClickOutside__={handler:r,callback:e.value};e="ontouchstart"in document.documentElement?"touchstart":"click";document.addEventListener(e,r)},updated:xt.update,unmounted:xt.unbind},r={mixins:[Ke.Z,je],props:{postId:String,position:Number},directives:{ClickOutside:Wt},data:()=>({showMenu:!1}),computed:{trackingCVars:function(){const e={PostKey:this.postId};return this.position&&(e.Position=this.position),e}},methods:{clickMenu(){this.showMenu?this.hideMenu():(this.showMenu=!0,this.trackLabel("PostAction","OpenMoreMenu",this.postId,this.trackingCVars))},hideMenu(){this.showMenu=!1,this.trackLabel("PostAction","CloseMoreMenu",this.postId,this.trackingCVars)}},components:{PostExtraMenuContent:Mt},render:function(e,t,s,r,o,i){var n=(0,G.up)("PostExtraMenuContent"),a=(0,G.Q2)("click-outside");return(0,G.wg)(),(0,G.j4)("div",null,[(0,G.Wm)("ul",St,[(0,G.Wm)("a",{class:"more",href:"javascript:void(0);",onClick:t[1]||(t[1]=(0,ge.iM)((...e)=>i.clickMenu&&i.clickMenu(...e),["stop"]))}," More ")]),o.showMenu?(0,G.wy)(((0,G.wg)(),(0,G.j4)("div",{key:0,class:["popup-menu",[e.isPostView?"postpage-share":"listview-share"]]},[(0,G.Wm)(n,{postId:s.postId,position:s.position,onClick:i.hideMenu},null,8,["postId","position","onClick"])],2)),[[a,i.hideMenu]]):(0,G.ry)("",!0)])}};function Vt(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Bt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Vt(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Gt=(0,X._p)("post")["mapActions"],Ft={methods:Bt(Bt({},Gt({toNextPost:"TO_NEXT_POST",toPrevPost:"TO_PREV_POST"})),{},{nearPost(e,t){t&&(this.track("PostAction",e,this.postId),this.$router.push(this.getPostRoute(t)))},nextPost(){return this.toNextPost().then(e=>{this.nearPost("NextPost",e)})},prevPost(){return this.toPrevPost().then(e=>{this.nearPost("PrevPost",e)})}}),mixins:[Ke.Z,je]},$t={props:{postId:String,position:Number},components:{PostVote:pt,PostShare:_t,PostExtraMenuBtn:r},mixins:[Ft],render:function(t,e,s,r,o,i){var n=(0,G.up)("PostVote"),a=(0,G.up)("PostShare"),c=(0,G.up)("PostExtraMenuBtn");return(0,G.wg)(),(0,G.j4)("div",Ye,[(0,G.Wm)("div",qe,[(0,G.Wm)("div",Xe,[(0,G.Wm)(n,{postId:s.postId,position:s.position},null,8,["postId","position"])]),(0,G.Wm)("div",Je,[(0,G.Wm)(a,{postId:s.postId,position:s.position},null,8,["postId","position"])]),(0,G.Wm)("div",Qe,[(0,G.Wm)(c,{postId:s.postId,position:s.position},null,8,["postId","position"])]),(0,G.Wm)("div",et,[(0,G.Wm)("a",{class:"next",href:"javascript:void(0)",role:"button",onClick:e[1]||(e[1]=(...e)=>t.nextPost&&t.nextPost(...e))},[tt,st])])])])}},Zt={key:1},Ht={key:2},Kt={key:3},zt={key:4},Yt={class:"image-post post-view"},qt={ref:"image"},Xt={MAX_WIDTH:640,LIST_VIEW_WIDTH:500,LIST_VIEW_MAX_HEIGHT:500,POST_VIEW_WIDTH:640,POST_VIEW_MAX_HEIGHT:640,getPostViewMinHeight(e,t,s=!1){let r=e=e/t*this.POST_VIEW_WIDTH;return s&&e>this.POST_VIEW_MAX_HEIGHT&&(r=this.POST_VIEW_MAX_HEIGHT),r},getListViewPhoto(e,t){t=this._calculateScaleByWidth(this.LIST_VIEW_WIDTH,e,t);return{minHeight:`${t.height}px`,padding:`0 ${this.MAX_WIDTH/2-t.width/2}px`}},getListViewCover(e,t){return{minHeight:`${this._calculateScaleByWidth(this.MAX_WIDTH,e,t).height}px`}},_calculateScaleByWidth:(e,t,s)=>({width:e,height:t*e/s}),getAnimatedPhoto(e,t,s){if(s){const n=this.getPostViewMinHeight(e,t,!0);return{width:t/e*n+"px",height:`${n}px`}}var r=this.MAX_WIDTH,s=this.LIST_VIEW_MAX_HEIGHT;let{width:o,height:i}=this._calculateScaleByWidth(r,e,t);return i>s&&(o=t/e*s,i=s),{width:`${o}px`,height:`${i}px`,padding:`0 ${r/2-o/2}px`}}};var Jt=s(2662).default,Qt=s(1931).default;const es={mixins:[xe],props:{postId:String,mediaId:String},computed:{imageHeight(){return this.postImages[this._displayType].height},imageWidth(){return this.postImages[this._displayType].width},styleObj(){return{minHeight:`${Xt.getPostViewMinHeight(this.imageHeight,this.imageWidth,!1)}px`}},isZoomPost(){return this.imageWidth>Xt.POST_VIEW_WIDTH},imageUrl(){return this.postImages[this._displayType].url},imageWebpUrl(){return this.postImages[this._displayType].webpUrl}},methods:{zoomPost(){var e;this.isZoomPost&&(e="jsid-modal-post-zoom",document.getElementById(e).querySelector(".badge-post-zoom-img").innerHTML=this.$refs.image.outerHTML,Jt.OverlayController.showOverlay(`#${e}`,!1))},downloadFail(){Qt.downloadFail(this.imageUrl)}},created(){this._displayType="image700"},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("a",{href:"javascript: void(0);",onClick:t[2]||(t[2]=(0,ge.iM)((...e)=>i.zoomPost&&i.zoomPost(...e),["prevent"])),class:{zoomable:i.isZoomPost},style:i.styleObj},[(0,G.Wm)("div",Yt,[(0,G.Wm)("picture",qt,[i.imageWebpUrl?((0,G.wg)(),(0,G.j4)("source",{key:0,srcset:i.imageWebpUrl,type:"image/webp"},null,8,["srcset"])):(0,G.ry)("",!0),((0,G.wg)(),(0,G.j4)("img",{key:s.postId,src:i.imageUrl,alt:e.postTitle,style:i.styleObj,onErrorOnce:t[1]||(t[1]=(...e)=>i.downloadFail&&i.downloadFail(...e)),loading:"lazy"},null,44,["src","alt"]))],512)])],6)}},ts=(0,G.HX)("data-v-1c71fefa");(0,G.dD)("data-v-1c71fefa");const ss={class:"post-view post-sensitive-mask"},rs={class:"post-sensitive-mask__body"};(0,G.Cn)();P=ts((e,t,s,r,o,i)=>{var n=(0,G.up)("SensitiveMask");return(0,G.wg)(),(0,G.j4)("div",ss,[(0,G.Wm)("div",rs,[(0,G.Wm)(n,{maskId:s.post.id,onOnUnmask:i.onUnmask,onOnSettingsClick:i.onSettingsClick},null,8,["maskId","onOnUnmask","onOnSettingsClick"])])])}),Et=s(6844);const os={mixins:[it.Z,Ke.Z,je],props:{post:Object},components:{SensitiveMask:Et.Z},methods:{onSettingsClick(){this.ensureLoggedIn(this.post.url)&&this.$router.push({name:Oe.Z.SETTINGS})},onUnmask(){this.track(this.isPostView?"PostAction":"PostList","TapUnmask",this.post.id),this.ensureLoggedIn(this.post.url)}}};s(9501),os.render=P,os.__scopeId="data-v-1c71fefa";const is=os,ns={class:"image-post post-view"},as={class:"post-read-more"};var cs=s(1931).default,xt={mixins:[je,xe],components:{TapPost:We},props:{postId:String,position:Number},computed:{displayType(){return this.hasLongPostCover?"image460c":"image460"},isArticle(){return this.post.type===It.TYPE_ARTICLE},hasLongPostCover(){return this.post.hasLongPostCover},imageHeight(){return this.postImages[this.displayType].height},imageWidth(){return this.postImages[this.displayType].width},styleObj(){return this.canShowViewFullPageBtn?Xt.getListViewCover(this.imageHeight,this.imageWidth):Xt.getListViewPhoto(this.imageHeight,this.imageWidth)},imageUrl(){return this.postImages[this.displayType].url},imageWebpUrl(){return this.postImages[this.displayType].webpUrl},canShowViewFullPageBtn(){return this.hasLongPostCover||this.isArticle},imageEventKey(){return this.isArticle?"ArticlePostImage":this.hasLongPostCover?"LongPostImage":"PostImage"},buttonEventKey(){return this.isArticle?"ArticlePostViewFullPost":this.hasLongPostCover?"LongPostViewFullPost":"ViewFullPost"}},methods:{downloadFail(){cs.downloadFail(this.imageUrl)}},render:function(e,t,s,r,o,i){var n=(0,G.up)("TapPost");return(0,G.wg)(),(0,G.j4)("div",{class:{"read-more":i.canShowViewFullPageBtn}},[(0,G.Wm)(n,{href:e.postUrl,class:"badge-evt badge-track",postId:s.postId,position:s.position,target:"_blank",eventKey:i.imageEventKey},{default:(0,G.w5)(()=>[(0,G.Wm)("div",ns,[(0,G.Wm)("picture",null,[i.imageWebpUrl?((0,G.wg)(),(0,G.j4)("source",{key:0,srcset:i.imageWebpUrl,type:"image/webp"},null,8,["srcset"])):(0,G.ry)("",!0),(0,G.Wm)("img",{src:i.imageUrl,alt:e.postTitle,style:i.styleObj,onErrorOnce:t[1]||(t[1]=(...e)=>i.downloadFail&&i.downloadFail(...e)),loading:"lazy"},null,44,["src","alt"])])])]),_:1},8,["href","postId","position","eventKey"]),i.canShowViewFullPageBtn?((0,G.wg)(),(0,G.j4)(n,{key:0,class:"badge-evt",postId:s.postId,position:s.position,href:e.postUrl,target:"_blank",eventKey:i.buttonEventKey},{default:(0,G.w5)(()=>[(0,G.Wm)("div",as,(0,F.zw)(e.post.board?"Open board":"Read post"),1)]),_:1},8,["postId","position","href","eventKey"])):(0,G.ry)("",!0)],2)}},ls=s(4177),Et=s(9669),ds=s.n(Et),P=s(7361),us=s.n(P);const ps=new class{async getEmbedData(e){var t="/v1/instagram-embed?url="+e;try{const{data:e={}}=await ds().get(t);return us()(e,"data.embed",{})}catch(e){return{}}}};var hs=s(9198).default,ms=s(28).default,gs=s(3036).default;function fs(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function ys(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?fs(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):fs(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Os={mixins:[je,xe],components:{TapPost:We},data:()=>({player:null,isPlaying:!1,instagramHtml:""}),props:{postId:String,mediaId:String,streamId:String,position:Number},watch:{postId(){this.removePlayer(),this.createPlayer()},autoPlayEvent(e,t){this.toggleVideo({action:e,mute:!0})},showCover(e,t){this.player||!e&&t&&this.createPlayer()}},computed:{isEmbedVideo(){return this.post.type===It.TYPE_EMBED_VIDEO},postVideo(){return this.post.video},autoPlayEvent(){return this.post.autoPlayEvent},showCover(){return!this.isPlaying},styleObj(){return this.isInstagram?{}:{height:`${this.videoDimension.height}px`}},coverStyleObj(){var e={backgroundImage:`url('${this.postImages.image460.url}')`};return this.isEmbedVideo?ys(ys({},e),{},{backgroundSize:"cover",width:`${this.videoDimension.width}px`,height:`${this.videoDimension.height}px`}):e},videoDimension(){var e=Xt.MAX_WIDTH;if(!this.isEmbedVideo)return{width:e,height:e/16*9};var{width:t,height:s}=this.postImages.image460;return{width:e,height:e*s/t}},playerId(){return this.isEmbedVideo||!this.player?null:this.player.getPlayerId()},videoSrc(){return this.isEmbedVideo?this.postVideo.embedUrl:`https://www.youtube.com/embed/${this.postVideo.id}?modestbranding=1&iv_load_policy=3&rel=0&enablejsapi=1&start=${this.postVideo.startTs}`},isInstagram(){return this.isEmbedVideo&&this.postVideo.embedUrl&&this.postVideo.embedUrl.includes("www.instagram.com")}},methods:{createPlayer(){this.isEmbedVideo||(this.player=new hs({id:this.postVideo.id,onStart:e=>{},onPause:e=>{},onSeek:e=>{},onPercentageChange:({isPlaying:e,time:t,duration:s})=>{ms.onVideoTimeUpdate({key:this.postId,domId:ls.default.getPostDomId(this.postId)},e,t,s,this.postVideo.startTs)},onResume:e=>{},onEnded:()=>{},onReady:()=>{var e=this.isMedia?null:"play";this.toggleVideo({action:e,mute:!0})}}),this.$nextTick(()=>this.player.start()))},startPlayer(){this.isPlaying=!0},removePlayer(){this.player&&(this.player.stop(),this.player=null)},busEventTabChangeAction(){this.player&&this.player.pause()},busEventTogglePlay(){var e;this.isEmbedVideo?this.isPlaying=!this.isPlaying:this.player?(e=this.player.getCurrentState())&&this.toggleVideo({action:e.isPlaying?"pause":"play"}):this.startPlayer()},toggleVideo(e){this.isEmbedVideo?this.isPlaying="play"===e.action:this.player?(e.mute&&this.player.mute(),"play"===e.action&&this.player.play(),"pause"===e.action&&this.player.pause()):this.startPlayer()},onArchived(){this.removePlayer(),this.isPlaying=!1},async loadInstagramEmbed(){var{html:e=""}=await ps.getEmbedData(this.videoSrc);this.instagramHtml=e,window.instgrm?this.$nextTick(()=>{window.instgrm.Embeds.process()}):gs.loadScript("https://www.instagram.com/embed.js")}},created(){this.isPostView&&this.startPlayer(),this.isInstagram&&this.loadInstagramEmbed()},mounted(){this.streamId&&C.Z.$on(`post::streamArchived::${this.streamId}`,this.onArchived),C.Z.$on("post::tabChangeAction",this.busEventTabChangeAction),C.Z.$on(`post::togglePlay::${this.postId}`,this.busEventTogglePlay)},beforeUnmount(){this.streamId&&C.Z.$off(`post::streamArchived::${this.streamId}`,this.onArchived),C.Z.$off("post::tabChangeAction",this.busEventTabChangeAction),C.Z.$off(`post::togglePlay::${this.postId}`,this.busEventTogglePlay)},render:function(e,t,s,r,o,i){var n=(0,G.up)("TapPost");return(0,G.wg)(),(0,G.j4)("div",{class:["youtube-post post-view",{media:e.isMedia}],style:i.styleObj},[i.isInstagram?((0,G.wg)(),(0,G.j4)("div",{key:0,class:"instagram",innerHTML:o.instagramHtml},null,8,["innerHTML"])):i.showCover?((0,G.wg)(),(0,G.j4)(n,{key:1,href:e.postUrl,class:"badge-evt",postId:s.postId,position:s.position,eventKey:"PlayVideo"},{default:(0,G.w5)(()=>[(0,G.Wm)("div",{class:{"youtube-thumb":!i.isEmbedVideo},style:i.coverStyleObj,alt:e.postTitle,onClick:t[1]||(t[1]=(0,ge.iM)((...e)=>i.startPlayer&&i.startPlayer(...e),["stop","prevent"]))},null,14,["alt"]),(0,G.Wm)("span",{onClick:t[2]||(t[2]=(0,ge.iM)((...e)=>i.startPlayer&&i.startPlayer(...e),["stop","prevent"])),class:"play"})]),_:1},8,["href","postId","position"])):((0,G.wg)(),(0,G.j4)("iframe",{key:s.postId,id:i.playerId,width:i.videoDimension.width,height:i.videoDimension.height,src:i.videoSrc,scrolling:"no",frameborder:"0",allowfullscreen:"",allow:"encrypted-media"},null,8,["id","width","height","src"]))],6)}},bs={key:1,class:"length"},vs={class:"play"};var _s=s(5116),Et=s(6885),Ss=s.n(Et),Ts=s(6296).default,ws=s(28).default;function Ps(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Is(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ps(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ps(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Es=(0,X._p)("post")["mapActions"],As=(0,X._p)("app")["mapState"],ks={mixins:[je,Ke.Z,xe],props:{postId:String,mediaId:String},data:()=>({showDuration:!0,soundOn:!1,playing:!1,timeoutId:null,clicked:!1}),watch:{postId(){var e=this.timeoutId;Object.assign(this.$data,this.$options.data()),this.startHideVideoDurationTimer(e)},autoPlayEvent(e,t){"play"===e?this.playing||this.$refs.videoPlayer.play():"pause"===e&&(this.playing&&this.$refs.videoPlayer.pause(),this.toggleSound({action:"off",track:!1})),this.isMedia||this.updatePostAutoPlay({autoPlayEvent:null,id:this.post.id})}},computed:Is(Is({},As(["supportsH264","supportsH265","supportsAV1"])),{},{posterUrl(){return Ss()&&this.post.images.image460.webpUrl?this.post.images.image460.webpUrl:this.post.images.image460.url},mp4Path(){return this.post.images.image460sv.url},vp8Path(){return this.post.images.image460sv.vp8Url},vp9Path(){return this.post.images.image460sv.vp9Url},h265Path(){return this.post.images.image460sv.h265Url},av1Path(){return this.post.images.image460sv.av1Url},isAnimatedVideo(){return this.post.images.image460sv.hasAudio},videoDuration(){return this.post.images.image460sv.duration},autoPlayEvent(){return this.post.autoPlayEvent},autoplay(){return!this.isMedia&&this.isPostView},playIconText(){return this.isAnimatedVideo?"Play":"GIF"},videoDurationText(){return Ts.secondsToTimeDisplay(this.videoDuration)},canShowVideoDuration(){return this.isAnimatedVideo&&0<this.videoDuration&&this.showDuration},style(){var e=this.post.images.image460sv,t=Xt.getAnimatedPhoto(e.height,e.width,this.isPostView),{}=t,e=(0,_s.Z)(t,["padding"]);return{wrapper:this.isPostView?null:t,video:e}}}),methods:Is(Is({},Es({updatePostAutoPlay:"UPDATE_POST_AUTO_PLAY"})),{},{onTimeUpdate(){var e;!this.clicked&&this.isPostView||(e=this.$refs.videoPlayer)&&ws.onVideoTimeUpdate({key:this.post.id,domId:ls.default.getPostDomId(this.post.id)},!e.paused,e.currentTime,e.duration,0)},onPlay(){this.playing=!0,this.showDuration=!0,this.startHideVideoDurationTimer()},onPause(){this.timeoutId&&clearTimeout(this.timeoutId),this.playing=!1,this.showDuration=!0},clickSoundIcon(e){e.stopPropagation(),e.preventDefault(),this.toggleSound()},toggleSound({action:e}={}){this.soundOn="on"===e||"off"!==e&&!this.soundOn},toggleVideo(e,{track:t=!0}={}){this.$refs.videoPlayer.paused?(this.clicked=!0,this.toggleSound({action:"on",track:t}),this.$refs.videoPlayer.play()):this.isAnimatedVideo?this.toggleSound({track:t}):this.$refs.videoPlayer.pause()},startHideVideoDurationTimer(e){(e=e||this.timeoutId)&&clearTimeout(e),this.timeoutId=setTimeout(()=>{this.showDuration=!1},3e3)},busEventTabChangeAction(){this.$refs.videoPlayer.pause()},busEventTogglePlay(){this.toggleVideo()}}),mounted(){this.startHideVideoDurationTimer(),(this.autoplay||this.post.autoPlayEvent)&&(this.playing=!0,this.$refs.videoPlayer.play()),C.Z.$on("post::tabChangeAction",this.busEventTabChangeAction),C.Z.$on(`post::togglePlay::${this.post.id}`,this.busEventTogglePlay)},beforeUnmount(){C.Z.$off("post::tabChangeAction",this.busEventTabChangeAction),C.Z.$off(`post::togglePlay::${this.post.id}`,this.busEventTogglePlay)},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("a",{href:e.isPostView?"javascript:void(0)":e.postUrl,"data-track":`post,p,,,d,${e.post.id},p`,class:"badge-track",target:"_blank",onClick:t[5]||(t[5]=(0,ge.iM)((...e)=>i.toggleVideo&&i.toggleVideo(...e),["stop","prevent"]))},[(0,G.Wm)("div",{class:["post-view",[i.isAnimatedVideo?"video-post":"gif-post",{media:e.isMedia}]],style:i.style.wrapper},[((0,G.wg)(),(0,G.j4)("video",{key:s.postId,onTimeupdate:t[1]||(t[1]=(...e)=>i.onTimeUpdate&&i.onTimeUpdate(...e)),onPlay:t[2]||(t[2]=(...e)=>i.onPlay&&i.onPlay(...e)),onPause:t[3]||(t[3]=(...e)=>i.onPause&&i.onPause(...e)),preload:"auto",poster:i.posterUrl,style:i.style.video,loop:"",muted:!o.soundOn,autoplay:i.autoplay,ref:"videoPlayer"},[i.av1Path&&e.supportsAV1?((0,G.wg)(),(0,G.j4)("source",{key:0,src:i.av1Path,type:'video/mp4; codecs="av01.0.00M.08, opus"'},null,8,["src"])):(0,G.ry)("",!0),i.h265Path&&e.supportsH265?((0,G.wg)(),(0,G.j4)("source",{key:1,src:i.h265Path,type:'video/mp4; codecs="hvc1"'},null,8,["src"])):(0,G.ry)("",!0),i.vp9Path?((0,G.wg)(),(0,G.j4)("source",{key:2,src:i.vp9Path,type:'video/webm; codecs="vp9, opus"'},null,8,["src"])):(0,G.ry)("",!0),(0,G.Wm)("source",{src:i.mp4Path,type:"video/mp4"},null,8,["src"]),e.supportsH264?(0,G.ry)("",!0):((0,G.wg)(),(0,G.j4)("source",{key:3,src:i.vp8Path,type:"video/webm"},null,8,["src"]))],44,["poster","muted","autoplay"])),i.isAnimatedVideo?((0,G.wg)(),(0,G.j4)("div",{key:0,class:["sound-toggle",[o.soundOn?"on":"off"]],onClick:t[4]||(t[4]=(...e)=>i.clickSoundIcon&&i.clickSoundIcon(...e))},null,2)):(0,G.ry)("",!0),i.canShowVideoDuration?((0,G.wg)(),(0,G.j4)("p",bs,(0,F.zw)(i.videoDurationText),1)):(0,G.ry)("",!0),(0,G.Wm)("div",{class:[o.playing?"hide":"presenting"]},[(0,G.Wm)("span",vs,(0,F.zw)(i.playIconText),1)],2)],6)],8,["href","data-track"])}},Ds={class:"post-text-container"},Cs={key:1};var Us=s(8062);const Ls={data:()=>({html:""}),props:{postId:String,blockId:Number},mixins:[xe],computed:{block(){return this.post.article.blocks[this.blockId]}},async created(){var e=this.block.content;e.length&&(this.html=await Us.Z.render(e))},render:function(e,t,s,r,o,i){return o.html?((0,G.wg)(),(0,G.j4)("div",{key:0,innerHTML:o.html},null,8,["innerHTML"])):((0,G.wg)(),(0,G.j4)("br",Cs))}},js={key:0};var Ns=s(4177).default;const Rs={name:"PostContentArticleMedia",props:{postId:String,blockId:Number},mixins:[xe],computed:{block(){return this.post.article.blocks[this.blockId]},media(){return this.post.article.medias[this.block.mediaId]},postDomId(){return Ns.getPostDomId(this.media.id)}},render:function(e,t,s,r,o,i){var n=(0,G.up)("PostContent");return(0,G.wg)(),(0,G.j4)("figure",{class:"img-container",id:i.postDomId},[(0,G.Wm)(n,{postId:s.postId,mediaId:i.media.id},null,8,["postId","mediaId"]),i.block.caption?((0,G.wg)(),(0,G.j4)("figcaption",js,(0,F.zw)(i.block.caption),1)):(0,G.ry)("",!0)],8,["id"])}};var Ms=s(2662).default,P={methods:{tabChanged(){C.Z.$emit("post::tabChangeAction")}},created(){Ms.PageController.tabVisibilityChange(this.tabChanged)},beforeUnmount(){Ms.PageController.removeTabVisibilityChange(this.tabChanged)}},xs=s(2289).default,Ws=s(4177).default;function Vs(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Bs(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Vs(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Vs(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Gs=(0,X._p)("post")["mapActions"],Fs=(0,X._p)("app")["mapState"],$s={mixins:[P,xe],props:{postId:String},watch:{$route(e,t){this.init()}},computed:Bs({},Fs(["topNavHeight"])),methods:Bs(Bs({},Gs({updatePostAutoPlay:"UPDATE_POST_AUTO_PLAY"})),{},{getBlockTypeComponent:e=>"RichText"===e?Ls:"Media"===e?Rs:"div",createObserver(){this.observer=new xs.VisibilityObserver(this.intersectHandler,-this.topNavHeight,0,.6)},intersectHandler(e){e.forEach(e=>{var t=Ws.getPostId(e.domId),s=.6<=e.intersectionRatio;s?this.updatePostAutoPlay({id:this.post.id,mediaId:t,autoPlayEvent:"play"}):!s&&0<e.intersectionRatio&&this.updatePostAutoPlay({id:this.post.id,mediaId:t,autoPlayEvent:"pause"})})},resetObserver(){this.observer&&(this.observer.destroy(),this.observer=null)},init(){this.resetObserver(),this.$nextTick(()=>{this.createObserver();const t=this.post.article.medias;t&&Object.keys(t).forEach(e=>{if([It.TYPE_ANIMATED,It.TYPE_VIDEO,It.TYPE_EMBED_VIDEO].includes(t[e].type)){const t=document.getElementById(Ws.getPostDomId(e));this.observer.observe(t)}})})}}),mounted(){this.init()},unmounted(){this.resetObserver()},render:function(s,e,r,t,o,i){return(0,G.wg)(),(0,G.j4)("div",Ds,[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(s.post.article.blocks,(e,t)=>((0,G.wg)(),(0,G.j4)((0,G.LL)(i.getBlockTypeComponent(e.type)),{key:`${s.post.id}-${t}`,blockId:t,postId:r.postId},null,8,["blockId","postId"]))),128))])}};var Zs=s(4177).default;function Hs(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Ks(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Hs(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Hs(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const zs=(0,X._p)("session")["mapGetters"],Ys={name:"PostContent",mixins:[it.Z,je,xe],data:()=>Ks({},It),watch:{postId(){this.trackElement()}},props:{postId:String,streamId:String,position:Number,mediaId:String},computed:Ks(Ks({},zs({_showSensitiveMask:"SHOW_SENSITIVE_MASK"})),{},{showSensitiveCover(){return this.post.nsfw&&this._showSensitiveMask(this.postId)}}),methods:{trackElement(){this.isMedia||this.$nextTick(()=>{C.Z.$emit("tracking::trackElement",{domId:Zs.getPostDomId(this.post.id),data:{key:this.post.id,sensitiveCover:this.showSensitiveCover,video:!this.showSensitiveCover&&this.post.type===It.TYPE_ANIMATED,youtube:!this.showSensitiveCover&&this.post.type===It.TYPE_VIDEO,position:this.position}})})}},mounted(){this.trackElement()},components:{PostContentPhoto:es,PostListContentPhoto:xt,PostContentVideo:Os,PostContentAnimated:ks,PostContentArticle:$s,PostSensitiveMask:is},render:function(e,t,s,r,o,i){var n=(0,G.up)("PostSensitiveMask"),a=(0,G.up)("PostListContentPhoto"),c=(0,G.up)("PostContentPhoto"),l=(0,G.up)("PostContentAnimated"),d=(0,G.up)("PostContentVideo"),u=(0,G.up)("PostContentArticle");return e.showSensitiveCover?((0,G.wg)(),(0,G.j4)(n,{key:0,post:e.post},null,8,["post"])):e.post.type===e.TYPE_PHOTO?((0,G.wg)(),(0,G.j4)("div",Zt,[e.isPostView?((0,G.wg)(),(0,G.j4)(c,{key:1,postId:e.postId,mediaId:e.mediaId},null,8,["postId","mediaId"])):((0,G.wg)(),(0,G.j4)(a,{key:0,postId:e.postId,position:e.position},null,8,["postId","position"]))])):e.post.type===e.TYPE_ANIMATED?((0,G.wg)(),(0,G.j4)("div",Ht,[(0,G.Wm)(l,{postId:e.postId,mediaId:e.mediaId},null,8,["postId","mediaId"])])):[e.TYPE_VIDEO,e.TYPE_EMBED_VIDEO].includes(e.post.type)?((0,G.wg)(),(0,G.j4)("div",Kt,[(0,G.Wm)(d,{postId:e.postId,mediaId:e.mediaId,position:e.position,streamId:e.streamId},null,8,["postId","mediaId","position","streamId"])])):e.post.type===e.TYPE_ARTICLE?((0,G.wg)(),(0,G.j4)("div",zt,[!e.isPostView&&e.postImages.image460?((0,G.wg)(),(0,G.j4)(a,{key:0,postId:e.postId,position:e.position},null,8,["postId","position"])):e.isPostView?((0,G.wg)(),(0,G.j4)(u,{key:1,postId:e.postId},null,8,["postId"])):(0,G.ry)("",!0)])):(0,G.ry)("",!0)}},qs={class:"post-afterbar-a in-post-bot full-width"},Xs={class:"share"},Js=(0,G.Wm)("div",{class:"clearfix"},null,-1),Qs={props:{postId:String},mixins:[xe,je],methods:{getShareTrackingParams(e){return vt.getShareTrackingParams(e,this.isPostView,this.postId)},getShareEventParams(e){return vt.getShareEventParams(e,y.Z.getPageKey(),this.postId)},getShareTitle(e){return vt.getShareTitle(this.postTitle,e)},getShareUrl(e){return vt.getShareUrl(e,this.postId)},getShareImg(e){return this.postImages[e]&&this.postImages[e].url||""},clickFbShare(){var e=this.getShareUrl("facebook"),e="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e);vt.openShareWindow(e)},clickPinterestShare(){var e=this.getShareUrl("pinterest"),t=this.getShareImg("image700"),s=this.getShareTitle("pinterest"),s="//pinterest.com/pin/create/button/?url="+encodeURIComponent(e)+"&media="+encodeURIComponent(t)+"&description="+s;vt.openShareWindow(s)}},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("div",qs,[(0,G.Wm)("div",Xs,[(0,G.Wm)("ul",null,[(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:"badge-evt badge-track btn-share facebook",href:"javascript:void(0);",onClick:t[1]||(t[1]=(0,ge.iM)(e=>i.clickFbShare(),["prevent"])),"data-track":i.getShareTrackingParams("facebook"),"data-evt":i.getShareEventParams("facebook-bottom"),"data-entry-id":s.postId}," Share on Facebook ",8,["data-track","data-evt","data-entry-id"])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:"badge-evt badge-track btn-share pinterest",href:"javascript:void(0);",onClick:t[2]||(t[2]=(0,ge.iM)(e=>i.clickPinterestShare(),["prevent"])),"data-track":i.getShareTrackingParams("pinterest"),"data-evt":i.getShareEventParams("pinterest-bottom"),"data-entry-id":s.postId}," Share on Pinterest ",8,["data-track","data-evt","data-entry-id"])])])]),Js])}},er={class:"post-section"},tr={class:"message"},sr=(0,G.Uk)(" Â· ");var rr=s(7651).default;const or={upload:"uploaded",upvote:"upvoted",comment:"commented"},ir={mixins:[je,Ke.Z,xe],props:{postId:String,position:Number},computed:{postSection(){return this.post.postSection},postUser(){var{postUser:e,promoted:t}=this.post;return this.isPostView||t?null:e},url(){var e=(this.postSection||{})["url"];return e?`${e}?ref=post-section`:null},creationTime(){return rr.getTimeAgo(this.post.creationTs)},postUserActions(){return this.postUser&&this.postUser.actions.split(",")||[]},commentLink(){return`${this.postUrl}#cs_comment_id=${this.postUser.commentId}`},category(){return this.isPostView?"PostAction":"PostList"}},methods:{getActionText(e,t){var s=this.postUserActions;return t===s.length-1?or[e]:t!==s.length-2?`${or[e]}, `:`${or[e]} and `},trackPostSection(){this.url&&this.track(this.category,"ViewPostSection",{url:this.url})}},render:function(s,r,e,t,o,i){return(0,G.wg)(),(0,G.j4)("div",er,[(0,G.Wm)("a",{class:"icon",target:"_blank",href:i.url||"javascript:void(0);",onClick:r[1]||(r[1]=(...e)=>i.trackPostSection&&i.trackPostSection(...e))},[(0,G.Wm)("picture",null,[i.postSection.webpUrl?((0,G.wg)(),(0,G.j4)("source",{key:0,srcset:i.postSection.webpUrl,type:"image/webp"},null,8,["srcset"])):(0,G.ry)("",!0),(0,G.Wm)("img",{src:i.postSection.imageUrl,loading:"lazy"},null,8,["src"])])],8,["href"]),(0,G.Wm)("p",tr,[(0,G.Wm)("a",{class:"section",target:"_blank",href:i.url||"javascript:void(0);",onClick:r[2]||(r[2]=(...e)=>i.trackPostSection&&i.trackPostSection(...e))},(0,F.zw)(i.postSection.name),9,["href"]),i.creationTime?((0,G.wg)(),(0,G.j4)(G.HY,{key:0},[(0,G.Uk)(" Â· "+(0,F.zw)(i.creationTime),1)],64)):(0,G.ry)("",!0),i.postUser?((0,G.wg)(),(0,G.j4)(G.HY,{key:1},[sr,((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(i.postUserActions,(e,t)=>((0,G.wg)(),(0,G.j4)(G.HY,null,["comment"===e?((0,G.wg)(),(0,G.j4)("a",{key:0,href:i.commentLink,target:"_blank",onClick:r[3]||(r[3]=e=>s.track(i.category,"ViewProfileComment"))},(0,F.zw)(i.getActionText(e,t)),9,["href"])):((0,G.wg)(),(0,G.j4)(G.HY,{key:1},[(0,G.Uk)((0,F.zw)(i.getActionText(e,t)),1)],64))],64))),256))],64)):(0,G.ry)("",!0)])])}};var Et=s(9029),nr=s(9012).default;function ar(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function cr(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ar(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ar(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const lr=(0,X._p)("app")["mapState"],dr={props:{postId:String,maxFixedToolbarHeight:{type:Function,default:null}},mixins:[P,Ke.Z,xe],data:()=>({toolBarFixedPos:0}),provide:{isPostView:!0},computed:cr(cr({},lr(["topNavHeight"])),{},{postDomId(){return ls.default.getPostDomId(this.postId)},showArticleDesc(){return this.post.type===It.TYPE_ARTICLE&&this.showDesc},showDesc(){return this.post.description&&""!==this.post.description},showSource(){return this.post.sourceDomain&&this.post.sourceUrl}}),watch:{topNavHeight(){this.fixToolBar(this.shouldFixToolBar())},post(){this.$nextTick(()=>{this.updateToolBarFixedPos()})}},methods:{belowMaxToolbarHeight(){var e=this.maxFixedToolbarHeight&&this.maxFixedToolbarHeight()||null;return!e||window.scrollY<=e},shouldFixToolBar(){return window.scrollY>this.toolBarFixedPos&&this.belowMaxToolbarHeight()},handleScroll(){var e,t=this.$refs.toolbar;t&&(e="fixed"===t.$el.style.position,t=this.shouldFixToolBar(),e&&!t?this.fixToolBar(!1):t&&this.fixToolBar(!0))},fixToolBar(e){const t=this.$refs.container,s=this.$refs.toolbar.$el,r=s.offsetHeight;s.style.position=e?"fixed":"",s.style.top=e?`${this.topNavHeight}px`:"",s.style.willChange=e?"transform":"",t.style.marginTop=e?`${r+6}px`:"",N.setPostId(this.belowMaxToolbarHeight()?this.postId:null)},updateToolBarFixedPos(){var e=this.$refs.header;this.toolBarFixedPos=24+e.offsetHeight+6}},components:{PostMeta:Ze,PostTags:ze,PostToolbar:$t,PostContent:Ys,PostShareBottom:Qs,PostSection:ir,Markdown:Et.Z},created(){nr.addEventListener("scroll",this.handleScroll),N.setPostId(this.postId)},mounted(){this.$nextTick(()=>{this.updateToolBarFixedPos()})},unmounted(){nr.removeEventListener("scroll",this.handleScroll)},render:function(e,t,s,r,o,i){var n=(0,G.up)("PostSection"),a=(0,G.up)("PostMeta"),c=(0,G.up)("PostToolbar"),l=(0,G.up)("Markdown"),d=(0,G.up)("PostContent"),u=(0,G.up)("PostTags"),p=(0,G.up)("PostShareBottom");return(0,G.wg)(),(0,G.j4)("section",we,[(0,G.Wm)("article",{id:i.postDomId,class:"post-page"},[(0,G.Wm)("header",Pe,[(0,G.Wm)(n,{postId:s.postId},null,8,["postId"]),(0,G.Wm)("h1",null,(0,F.zw)(e.postTitle),1),(0,G.Wm)(a,{postId:s.postId},null,8,["postId"])],512),(0,G.Wm)(c,{ref:"toolbar",postId:s.postId},null,8,["postId"]),(0,G.Wm)("div",Ie,[i.showArticleDesc?((0,G.wg)(),(0,G.j4)(l,{key:0,class:"post-text-container",content:e.post.description},null,8,["content"])):(0,G.ry)("",!0),(0,G.Wm)(d,{postId:s.postId},null,8,["postId"]),(0,G.Wm)("div",Ee,[i.showDesc&&!i.showArticleDesc?((0,G.wg)(),(0,G.j4)(l,{key:0,content:e.post.description},null,8,["content"])):(0,G.ry)("",!0),i.showSource?((0,G.wg)(),(0,G.j4)("p",Ae,[ke,(0,G.Wm)("a",{href:e.post.sourceUrl,target:"_blank"},(0,F.zw)(e.post.sourceDomain),9,["href"])])):(0,G.ry)("",!0)]),(0,G.Wm)(u,{postId:s.postId},null,8,["postId"])],512),(0,G.Wm)(p,{postId:s.postId},null,8,["postId"])],8,["id"])])}};var ur=s(1004);class pr{static show(){C.Z.$emit("progress::show")}static finish(){C.Z.$emit("progress::finish")}}const hr=(0,G.HX)("data-v-845e83c0");(0,G.dD)("data-v-845e83c0");const mr={key:0},gr=(0,G.Wm)("div",{class:"post-more-divider"},[(0,G.Wm)("h4",null," More posts from 9GAG ")],-1);(0,G.Cn)();const fr=hr((e,t,s,r,o,i)=>{var n=(0,G.up)("PostListAds"),a=(0,G.up)("ListContent");return o.hasNextPost?((0,G.wg)(),(0,G.j4)("div",mr,[i.adContainers.length?((0,G.wg)(),(0,G.j4)(n,{key:0,class:"inline-ad-container",adContainers:i.adContainers,onObserveAd:e.observeAd,onUnobserveAd:e.unobserveAd},null,8,["adContainers","onObserveAd","onUnobserveAd"])):(0,G.ry)("",!0),gr,(0,G.Wm)(a,{afterPostId:i.afterPostId},null,8,["afterPostId"])])):(0,G.ry)("",!0)}),yr={key:0,class:"blank-state"},Or=(0,G.Wm)("h3",null,"Sorry! No posts were found",-1),br={class:"loading"},vr={key:0,class:"btn spin"},_r=(0,G.Wm)("div",{class:"simple-spinner"},null,-1),Sr={key:1,class:"btn end"};xt=s(9257);const Tr={class:"post-container"},wr={class:"post-afterbar-a"},Pr={class:"btn-vote left"},Ir=(0,G.Uk)(" Comment "),Er={class:"share right"},Ar=(0,G.Wm)("div",{class:"clearfix"},null,-1),kr={mixins:[je,xe],props:{postId:String,position:Number,streamId:String,archived:Boolean},watch:{archived(){this.setupKeyboardEvent(!this.archived)}},computed:{postDomId(){return ls.default.getPostDomId(this.postId)},showDesc(){return this.post.description&&""!==this.post.description}},methods:{clickComment(){this.$refs.comment.click()},setupKeyboardEvent(e){e?C.Z.$on(`post::comment::${this.post.id}`,this.clickComment):C.Z.$off(`post::comment::${this.post.id}`,this.clickComment)}},mounted(){this.setupKeyboardEvent(!0)},beforeUnmount(){this.setupKeyboardEvent(!1)},components:{PostMeta:Ze,PostTags:ze,PostVote:pt,PostExtraMenuBtn:r,PostShare:_t,PostContent:Ys,PostSection:ir,TapPost:We,Markdown:Et.Z},render:function(e,t,s,r,o,i){var n=(0,G.up)("PostSection"),a=(0,G.up)("TapPost"),c=(0,G.up)("PostContent"),l=(0,G.up)("Markdown"),d=(0,G.up)("PostMeta"),u=(0,G.up)("PostVote"),p=(0,G.up)("PostExtraMenuBtn"),h=(0,G.up)("PostShare");return(0,G.wg)(),(0,G.j4)("article",{id:i.postDomId},[s.archived?(0,G.ry)("",!0):((0,G.wg)(),(0,G.j4)(G.HY,{key:0},[(0,G.Wm)("header",null,[(0,G.Wm)(n,{postId:s.postId,position:s.position},null,8,["postId","position"]),(0,G.Wm)(a,{class:"badge-evt badge-track",track:`post,v,,,d,${e.post.id},l`,postId:s.postId,position:s.position,href:e.postUrl,eventKey:"PostTitle",target:"_blank"},{default:(0,G.w5)(()=>[(0,G.Wm)("h1",null,(0,F.zw)(e.postTitle),1)]),_:1},8,["track","postId","position","href"])]),(0,G.Wm)("div",Tr,[(0,G.Wm)(c,{postId:s.postId,position:s.position,streamId:s.streamId},null,8,["postId","position","streamId"]),e.post.description?((0,G.wg)(),(0,G.j4)(l,{key:0,class:"post-text-container",content:e.post.description},null,8,["content"])):(0,G.ry)("",!0)]),(0,G.Wm)(d,{postId:s.postId,position:s.position},null,8,["postId","position"]),(0,G.Wm)("div",wr,[(0,G.Wm)(u,{postId:s.postId,position:s.position},null,8,["postId","position"]),(0,G.Wm)("ul",Pr,[(0,G.Wm)("li",null,[(0,G.Wm)(a,{class:" comment badge-evt",ref:"comment",target:"_blank",postId:s.postId,position:s.position,href:`${e.postUrl}#comment`,eventKey:"Comment"},{default:(0,G.w5)(()=>[Ir]),_:1},8,["postId","position","href"])])]),(0,G.Wm)(p,{postId:s.postId,position:s.position},null,8,["postId","position"]),(0,G.Wm)("div",Er,[(0,G.Wm)(h,{postId:s.postId,position:s.position},null,8,["postId","position"])])]),Ar],64))],8,["id"])}},Dr={key:0},Cr={key:0},Ur={class:"post-section"},Lr={class:"message"},jr={class:"post-container"},Nr=(0,G.Wm)("p",{class:"post-meta"},"â€¢ points Â· 0 comments",-1),Rr={class:"post-afterbar-a"},Mr={class:"btn-vote left"},xr={key:0,class:"popup-menu listview-share"},Wr=(0,G.Wm)("div",{class:"clearfix"},null,-1),Vr={class:"post-view featured-video"};var Br=s(5087),r=s(8446),Gr=s.n(r);function Fr(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function $r(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Fr(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Fr(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Zr="section",Hr=e=>{var t=$r({post_id:null,screen:null,section:null,refresh:"on"},B.Z.getters["session/GET_SESSION_PARAMS"]);let s=t;switch(e.name){case Oe.Z.POST_PAGE:var r=e.params.postId;s=$r($r({},t),{},{screen:"post",post_id:r});var r=B.Z.getters["post/GET_POST"](r)["postSectionPath"];r&&(s.section=r);break;case Oe.Z.POST_LIST:case Oe.Z.HOT_POST_LIST:r=e.params.type||"hot";s=$r($r({},t),{},{screen:"home",section:r});break;case Oe.Z.SECTION_LIST:case Oe.Z.SECTION_POST_LIST:var o=e.params.section||"";s=$r($r({},t),{},{screen:Zr,section:o});break;case Oe.Z.INTEREST_LIST:o=e.params.interest||"";s=$r($r({},t),{},{screen:Zr,section:`Interest-${o}`});break;default:s=$r({},t)}return s},Kr={async setTargeting(e,t){let s={};const r=t.name?Hr(t):{},o=Hr(e);Object.keys(o).forEach(e=>{Gr()(o[e],r[e])||(s[e]=o[e])}),Br.Z.setTargeting(s)},getTargetingObj:Hr};function zr(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Yr(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?zr(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):zr(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapState:qr,mapGetters:Xr}=(0,X._p)("privacy"),Jr=(0,X._p)("config")["mapGetters"],Qr={props:{featuredAd:Object,maxWidth:Number},computed:Yr(Yr(Yr(Yr({},qr(["googleNpa"])),Xr(["googleRdp"])),Jr({getConfig:"GET_CONFIG"})),{},{styleObject(){return{width:this.dimension.width+"px",height:this.dimension.height+"px",zIndex:1,position:"relative",overflow:"hidden"}},dimension(){var e=this.featuredAd.width,t=this.featuredAd.height,s=this.maxWidth;return this.featuredAd.width<=s?{width:e,height:t}:{width:s,height:Math.floor(s*this.featuredAd.height/this.featuredAd.width)}},npa(){return this.googleNpa?1:0},rdp(){return this.googleRdp?1:0},customTargeting(){const t=Yr(Yr({},Kr.getTargetingObj(this.$route)),{},{bucket:this.getConfig("configs.ad.adConfigs.bucket")});return Object.keys(t).forEach(e=>!t[e]&&delete t[e]),t}})};function eo(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function to(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?eo(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):eo(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var Et={mixins:[Qr],computed:{key(){var{width:e,height:t}=this.dimension;return`${this.$route.fullPath}-${e}-${t}`},embedUrl(){const e=new(At())(this.featuredAd.url,!0),{customTargeting:t,npa:s,rdp:r}=this;return e.set("query",to(to({},e.query),{},{customTargeting:JSON.stringify(t),npa:s,rdp:r})),e.toString()}},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("iframe",{key:i.key,width:e.dimension.width,height:e.dimension.height,src:i.embedUrl,scrolling:"no",frameBorder:"0",allowfullscreen:"false",allow:"encrypted-media",loading:"lazy"},null,8,["width","height","src"])}},so=s(5670).default,ro=s(3036).default;const oo=btoa("video intelligence"),io={props:{featuredAd:Object,maxWidth:Number},components:{FeaturedAdsIFrame:Et,FeaturedAdsVI:{mixins:[Qr],data:()=>({playerId:""}),computed:{playerConfig(){return{ChannelID:"5ea98ccc02abaa4068798df6",AdUnitType:"2",PublisherID:"576566800037402",PlacementID:"pltlhqRgj1oCSlyn51S",DivID:this.playerId,Float:!1,UnmuteOnClickStart:!0,IAB_Category:"IAB16,IAB1-4,IAB9,IAB24",Keywords:"",Language:"en-us"}}},created(){this.playerId=`vi-${Date.now()}`},mounted(){this.loadPlayer()},beforeUnmount(){const t=this.playerId;setTimeout(()=>{const e=document.getElementById(t);e&&(e.innerHTML=""),so.log("FeaturedAdsVI destroyed")},1e3),this.playerId=null;var e=window[oo];if(e){try{const{player:t,viStoriesUi:s}=e.viUnit||{};t&&t.dispose(),s&&s.dispose()}catch(t){}window.__vi__ad__unit=0}},methods:{loadPlayer(){ro.loadScript("https://s.vi-serve.com/source.js").then(()=>{const e=window[oo];e&&this.playerId&&(this.player=e.run(this.playerConfig),so.log("FeaturedAdsVI loaded"))})}},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("div",{style:e.styleObject},[(0,G.Wm)("div",{id:o.playerId},null,8,["id"])],4)}}}};s(7700),io.render=function(e,t,s,r,o,i){var n=(0,G.up)("FeaturedAdsVI"),a=(0,G.up)("FeaturedAdsIFrame");return(0,G.wg)(),(0,G.j4)("div",Vr,["vi"===s.featuredAd.render?((0,G.wg)(),(0,G.j4)(n,{key:0,featuredAd:s.featuredAd,maxWidth:s.maxWidth},null,8,["featuredAd","maxWidth"])):((0,G.wg)(),(0,G.j4)(a,{key:1,featuredAd:s.featuredAd,maxWidth:s.maxWidth},null,8,["featuredAd","maxWidth"]))])};r=io;function no(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function ao(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?no(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):no(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{}=(0,X._p)("app"),co=(0,X._p)("section")["mapGetters"],lo={mixins:[Ke.Z],props:{featuredAd:Object},directives:{ClickOutside:Wt},data:()=>({showMenu:!1,dislike:!1,href:"javascript:void(0);"}),computed:ao(ao({maxWidth:()=>Xt.MAX_WIDTH},co({getSection:"GET_SECTION"})),{},{postSection(){var{name:e,url:t,ogImageUrl:s,ogWebpUrl:r}=this.getSection("video");return e?{name:e,url:`/${t}?ref=post-section`,imageUrl:s,webpUrl:r}:null}}),methods:{clickMenu(){this.showMenu=!this.showMenu},hideMenu(){this.showMenu=!1},clickDislike(){this.track("PostAction","DislikeFeaturedAd"),this.dislike=!0},clickReport(){this.track("PostAction","ReportFeaturedAd")}},components:{FeaturedAdsWrapper:r},render:function(e,t,s,r,o,i){var n=(0,G.up)("FeaturedAdsWrapper"),a=(0,G.Q2)("click-outside");return o.dislike?(0,G.ry)("",!0):((0,G.wg)(),(0,G.j4)("article",Dr,[i.postSection?((0,G.wg)(),(0,G.j4)("header",Cr,[(0,G.Wm)("div",Ur,[(0,G.Wm)("a",{class:"icon",href:i.postSection.url},[(0,G.Wm)("picture",null,[i.postSection.webpUrl?((0,G.wg)(),(0,G.j4)("source",{key:0,srcset:i.postSection.webpUrl,type:"image/webp"},null,8,["srcset"])):(0,G.ry)("",!0),(0,G.Wm)("img",{src:i.postSection.imageUrl,loading:"lazy"},null,8,["src"])])],8,["href"]),(0,G.Wm)("p",Lr,[(0,G.Wm)("a",{class:"section",href:i.postSection.url},(0,F.zw)(i.postSection.name),9,["href"])])])])):(0,G.ry)("",!0),(0,G.Wm)("div",jr,[(0,G.Wm)(n,{featuredAd:s.featuredAd,maxWidth:i.maxWidth},null,8,["featuredAd","maxWidth"])]),Nr,(0,G.Wm)("div",Rr,[(0,G.Wm)("ul",Mr,[(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:"up",href:o.href},null,8,["href"])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:"down",href:o.href},null,8,["href"])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:"comment",href:o.href},null,8,["href"])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:"more",href:o.href,onClick:t[1]||(t[1]=(0,ge.iM)((...e)=>i.clickMenu&&i.clickMenu(...e),["stop"]))},null,8,["href"])])]),o.showMenu?(0,G.wy)(((0,G.wg)(),(0,G.j4)("div",xr,[(0,G.Wm)("ul",{onClick:t[4]||(t[4]=(...e)=>i.hideMenu&&i.hideMenu(...e))},[(0,G.Wm)("li",null,[(0,G.Wm)("a",{href:o.href,onClick:t[2]||(t[2]=(0,ge.iM)((...e)=>i.clickDislike&&i.clickDislike(...e),["prevent"]))},"I don't like this",8,["href"])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{target:"_blank",href:"/report-bad-ads",onClick:t[3]||(t[3]=(...e)=>i.clickReport&&i.clickReport(...e))},"Report")])])],512)),[[a,i.hideMenu]]):(0,G.ry)("",!0)]),Wr]))}};var Et=s(1877),r=s(695),uo=s(2175),po=s(2289).default;function ho(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}const mo=(0,X._p)("post")["mapGetters"],go=["inline_1","inline_2"],fo=[1,2],yo={extends:r.Z,data:()=>({adTags:go,preloadAdsMargin:1}),computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ho(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ho(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({},mo({featuredAds:"FEATURED_ADS"})),methods:{getAdItem(e){const t=this.getAdContainers(e);if(t.length<1)return null;var s,{adPosition:r,adContainerId:o}=t[0];let i={type:"inlineAd",id:o,adContainers:t};for(s of this.featuredAds)if(s.position===r){const{url:t,width:n,height:a}=s;i={type:"featuredAd",id:o,url:t,width:n,height:a,featuredAd:s}}return 0===this.featuredAds.length&&fo.includes(r)&&(i=null),i},createAdObserver(){var e=this.preloadAdsMargin*uo.Z.browserHeight();return new po.VisibilityObserver(this.adIntersectHandler,0,e,[0,.5])}}};var Oo=s(1186);const bo={key:0},vo={class:"btn-container"};function _o(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function So(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_o(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_o(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const To=(0,X._p)("user")["mapState"],wo=(0,X._p)("profile")["mapGetters"],Po={mixins:[je],computed:So(So(So({},To(["user"])),wo({getProfileByUserName:"GET_PROFILE_BY_USERNAME"})),{},{profile(){return this.getProfileByUserName(this.username)},username(){return this.$route.params.username},viewingOtherUser(){return this.user.username!==this.username},blankData(){return this.type===Le?{message:"Posts you commented will show up here",link:"/hot",btn:"Checkout What's Hot"}:"likes"===this.type?{message:"Posts you upvoted will show up here",link:"/hot",btn:"Checkout What's Hot"}:"posts"===this.type?{message:"Posts you uploaded will show up here",link:"/submit",btn:"Create a Post"}:{message:"Posts you uploaded and commented will show up here",link:"/hot",btn:"Checkout What's Hot"}}}),render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("div",null,[i.viewingOtherUser?((0,G.wg)(),(0,G.j4)("h3",bo,"No posts to show")):((0,G.wg)(),(0,G.j4)(G.HY,{key:1},[(0,G.Wm)("h3",null,(0,F.zw)(i.blankData.message),1),(0,G.Wm)("div",vo,[(0,G.Wm)("a",{class:"btn",href:i.blankData.link},(0,F.zw)(i.blankData.btn),9,["href"])])],64))])}};var Io=s(5670).default,Eo=s(4177).default,Ao=s(2289).default;function ko(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Do(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ko(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ko(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapState:Co,mapActions:Uo,mapGetters:Lo}=(0,X._p)("post"),{mapState:jo,mapActions:No}=(0,X._p)("user"),Ro=(0,X._p)("app")["mapState"],Mo={emits:["streamVisible"],props:{afterPostId:{type:String,default:null}},mixins:[yo],data:()=>({streamObserver:null,postObserver:null,postItemRefs:{},archivedStreams:{},archivedPosts:{},containerPadding:32,visibleStreamPos:0}),watch:{$route(e,t){this.resetObservers(),this.initData()},postIds(){this.resetLoadMore()}},computed:Do(Do(Do(Do(Do({},Ro(["topNavHeight"])),Co(["posts"])),jo(["reports"])),Lo({_postIds:"POST_LIST_IDS",getCursors:"GET_CURSORS",lastPosition:"GET_LAST_POSITION"})),{},{nextCursor(){return this.getCursors("next")},hasNoMorePost(){return!this.nextCursor},postIds(){const e=[...this._postIds];if(null===this.afterPostId)return e;var t=e.indexOf(this.afterPostId);return-1!==t&&e.splice(0,t+1),e},streams(){const e=this.postIds;let t=0;const s=[];for(;t<e.length;){var r=this.getStreamSize(s.length),o=e.slice(t,t+r);s.push(o),t+=r}return s},visibleStreams(){return this.streams.filter((e,t)=>t<=this.visibleStreamPos)},listItemStreams(){const i=[];let n=0;return this.visibleStreams.forEach((e,t)=>{const s=this.streamDomId(t),r={id:s,position:t,archived:!this.displayStream(s),style:this.streamStyle(s)},o=[];e.forEach(e=>{if(n+=1,!this.reports.includes(e)){const t={type:"post",id:e,position:n,postId:e};o.push(t)}const t=this.getAdItem(n);t&&o.push(t)}),r.items=o,i.push(r)}),i},infiniteLoadDistance(){var e=uo.Z.browserHeight(),t=this.visibleStreamPos<2?1:2;return Math.max(300,e*t)},listViewStyle(){return this.lastPosition?{minHeight:`${this.lastPosition.top}px`}:null}}),methods:Do(Do(Do({},Uo({_updatePostAutoPlay:"UPDATE_POST_AUTO_PLAY",loadPosts:"LOAD_POSTS"})),No({updateUninterestedPosts:"UPDATE_UNINTERESTED_POSTS"})),{},{getStreamSize(e){if(Oo.Z.isBot())return 10;var t={0:2,1:3,standard:5};return t[e]||t.standard},updatePostAutoPlay(e){var t,s;this.posts&&(t=this.posts[e.id].type,s=this.postArchived(e.id),[It.TYPE_ANIMATED,It.TYPE_VIDEO,It.TYPE_EMBED_VIDEO].includes(t)&&!s&&this._updatePostAutoPlay(e))},async loadMorePosts(){return Io.log("loadMorePosts(): load more posts"),this.loadPosts()},loadMoreHandler(){const e=this.visibleStreamPos>=this.streams.length-1;if(!this.hasNoMorePost||!e)if(e)this.loadMorePosts().catch(e=>{e&&e.response||this.resetLoadMore()});else{this.visibleStreamPos+=1;const e=this.visibleStreamPos,t=this.streamDomId(e);this.$nextTick(()=>{this.resetLoadMore(),this.streamObserver.observe(this.$refs[t],{pos:e})})}},resetLoadMore(){Io.log("resetLoadMore"),this.$refs.loadMore&&this.$refs.loadMore.reset()},scrollToNextPost(){this.scrollToPost({direction:1})},scrollToPrevPost(){this.scrollToPost({direction:-1})},scrollToPost({direction:e}){var t=this.getVisibleItems();t[0]&&(t=Eo.getPostId(t[0].domId),e=(t=this.postIds.indexOf(t))+e,-1!==t&&0<=e&&e<this.postIds.length&&this.scrollToPostById(this.postIds[e]))},scrollToPostById(e){const t=this.postItemRefs[e];t&&(e=t.$el.getBoundingClientRect().top+Eo.getScrollTop()-this.topNavHeight,Eo.scrollTo(e))},getVisibleItems(){return this.postObserver.getSortedVisibleItems(.6)},initData(){this.archivedStreams={},this.archivedPosts={},this.visibleStreamPos=0,this.lastPosition&&(this.visibleStreamPos=Math.min(this.lastPosition.stream,this.streams.length)),this.startObservers(),this.updateUninterestedPosts(),this.$nextTick(()=>{for(let e=0;e<=this.visibleStreamPos;e++){var t=this.streamDomId(e),t=this.$refs[t]||null;t&&this.streamObserver.observe(t,{pos:e})}})},startObservers(){this.streamObserver||this.createStreamObserver(),this.postObserver||this.createPostObserver()},resetObservers(){this.streamObserver&&(this.streamObserver.destroy(),this.streamObserver=null),this.postObserver&&(this.postObserver.destroy(),this.postObserver=null)},streamDomId:e=>Eo.getStreamDomId(e),displayStream(e){return!this.archivedStreams[e]},streamStyle(e){return{minHeight:this.archivedStreams[e]}},postsInStream(e){if(!this.streams)return[];e=Eo.getStreamPos(e);return this.streams[e]||[]},postArchived(e){return this.archivedPosts[e]},createStreamObserver(){var e=uo.Z.browserHeight();this.streamObserver=new Ao.VisibilityObserver(this.streamIntersectHandler,3*e,4*e)},streamIntersectHandler(e){e.forEach(e=>{const t=e.domId,s=this.postsInStream(t);if(e.visibilityStatus===Ao.VISIBILITY_STATUS.enter)(this.archivedStreams[t]=0)<s.length&&s.forEach(e=>this.archivedPosts[e]=!1);else if(e.visibilityStatus===Ao.VISIBILITY_STATUS.exit){const r=this.$refs[t];r&&(e=window.getComputedStyle(r).height,this.archivedStreams[t]=e,0<s.length&&s.forEach(e=>this.archivedPosts[e]=!0),C.Z.$emit(`post::streamArchived::${t}`))}});e=this.streamObserver&&this.streamObserver.getSortedVisibleItems()||[];e.length&&(e=e[e.length-1].data.pos,this.$emit("streamVisible",e))},createPostObserver(){this.postObserver=new Ao.VisibilityObserver(this.postIntersectHandler,-this.topNavHeight,0,.6)},postIntersectHandler(e){e.forEach(e=>{var t=Eo.getPostId(e.domId),s=.6<=e.intersectionRatio;s?this.updatePostAutoPlay({id:t,autoPlayEvent:"play"}):!s&&0<e.intersectionRatio&&this.updatePostAutoPlay({id:t,autoPlayEvent:"pause"})})},setPostItemRefs(e){e&&(this.postItemRefs[e.postId]=e,this.postObserver.observe(e.$el))}}),created(){this.startObservers(),this.keyboardEvents={},["voteUp","voteDown","togglePlay","comment"].forEach(t=>{this.keyboardEvents[`post::${t}::inView`]=()=>{var e=this.getVisibleItems();e[0]&&C.Z.$emit(`post::${t}::${Eo.getPostId(e[0].domId)}`)}}),Object.entries(this.keyboardEvents).forEach(([e,t])=>C.Z.$on(e,t)),C.Z.$on("post::toNextListPost",this.scrollToNextPost),C.Z.$on("post::toPrevListPost",this.scrollToPrevPost)},beforeUpdate(){this.postItemRefs={}},mounted(){this.initData()},unmounted(){this.postItemRefs={},this.resetObservers(),Object.entries(this.keyboardEvents).forEach(([e,t])=>C.Z.$off(e,t)),this.keyboardEvents={},C.Z.$off("post::toNextListPost",this.scrollToNextPost),C.Z.$off("post::toPrevListPost",this.scrollToPrevPost)},components:{LoadMore:xt.Z,PostListItem:kr,PostListItemFeaturedAd:lo,ProfileBlankState:Po,PostListAds:Et.Z},render:function(s,e,t,r,o,i){const n=(0,G.up)("PostListItem"),a=(0,G.up)("PostListItemFeaturedAd"),c=(0,G.up)("PostListAds"),l=(0,G.up)("LoadMore");return(0,G.wg)(),(0,G.j4)("section",{id:"list-view-2",style:i.listViewStyle},[i.hasNoMorePost&&0===i.postIds.length?((0,G.wg)(),(0,G.j4)("div",yr,[(0,G.WI)(s.$slots,"blank-state",{},()=>[Or])])):((0,G.wg)(),(0,G.j4)(G.HY,{key:1},[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(i.listItemStreams,t=>((0,G.wg)(),(0,G.j4)("div",{class:"list-stream",id:t.id,ref:t.id,style:t.style},[(0,G.wy)((0,G.Wm)("div",null,[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(t.items,e=>((0,G.wg)(),(0,G.j4)(G.HY,{key:e.id},["post"===e.type?((0,G.wg)(),(0,G.j4)(n,{ref:i.setPostItemRefs,key:e.postId,postId:e.postId,position:e.position,streamId:t.id,archived:t.archived},null,8,["postId","position","streamId","archived"])):"featuredAd"===e.type?((0,G.wg)(),(0,G.j4)(G.HY,{key:1},[t.archived?(0,G.ry)("",!0):((0,G.wg)(),(0,G.j4)(a,{key:e.id,featuredAd:e.featuredAd},null,8,["featuredAd"]))],64)):"inlineAd"===e.type?((0,G.wg)(),(0,G.j4)(G.HY,{key:2},[t.archived?(0,G.ry)("",!0):((0,G.wg)(),(0,G.j4)(c,{class:"inline-ad-container",key:e.id,adContainers:e.adContainers,onObserveAd:s.observeAd,onUnobserveAd:s.unobserveAd},null,8,["adContainers","onObserveAd","onUnobserveAd"]))],64)):(0,G.ry)("",!0)],64))),128))],512),[[ge.F8,!t.archived]])],12,["id"]))),256)),(0,G.Wm)("div",br,[(0,G.Wm)(l,{ref:"loadMore",threshold:i.infiniteLoadDistance,onLoadMore:i.loadMoreHandler},null,8,["threshold","onLoadMore"]),i.hasNoMorePost?((0,G.wg)(),(0,G.j4)("a",Sr,"No more posts")):((0,G.wg)(),(0,G.j4)("a",vr,[_r]))])],64))],4)}};function xo(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Wo(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?xo(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):xo(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Vo=(0,X._p)("post")["mapActions"],Bo=(0,X._p)("commentSystem/comment")["mapGetters"],Go={mixins:[yo],props:{postId:String},components:{PostListAds:Et.Z,ListContent:Mo},watch:{postId(){this.checkNextPost(),this.showBelowCommentAd=!1},getComments:{handler:function(e){e.length<5||(this.showBelowCommentAd=!0)},immediate:!0}},data:()=>({hasNextPost:!1,preloadAdsMargin:.25,showBelowCommentAd:!1}),computed:Wo(Wo({},Bo(["getComments"])),{},{adContainers(){return this.showBelowCommentAd?this.getAdContainers(null):[]},afterPostId:function(){return this.postId}}),methods:Wo(Wo({},Vo({toNextPost:"TO_NEXT_POST"})),{},{checkNextPost:function(){this.toNextPost().then(e=>{this.hasNextPost=null!=e&&e!==this.postId})}}),mounted(){this.checkNextPost()}};s(1742),Go.render=fr,Go.__scopeId="data-v-845e83c0";var r=Go,Fo=s(5670).default;function $o(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Zo(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?$o(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):$o(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Ho=(0,X._p)("app")["mapState"],Ko=(0,X._p)("post")["mapGetters"],zo=(0,X._p)("user")["mapGetters"],Yo=(0,X._p)("config")["mapGetters"],qo=async(e,t)=>{var s=ur.Z.getApiInfo(e),r=e.params.postId,o=B.Z.state.post["posts"],i=B.Z.state.config["data"];if(!o[r]){if(!t.name&&i)return await B.Z.dispatch("post/SET_CURRENT_API_INFO",s),void B.Z.dispatch("post/INIT_PAGE_POSTS",i);pr.show(),await B.Z.dispatch("post/SET_NEXT_API_INFO",s);try{if(await B.Z.dispatch("post/LOAD_PAGE_POSTS",{addCurrentPost:!0}),!o[r])throw new Error("Post not found");await B.Z.dispatch("post/SET_CURRENT_API_INFO",s)}catch(t){Fo.log(t),window.location.href=e.fullPath}}},Xo={mixins:[Ft],data:()=>({containerPadding:32,showPostList:!1}),watch:{$route(){this.showPostList=!1}},provide(){return{onScrollComplete:this.onScrollComplete}},components:{PostItem:dr,CommentSystem:(0,G.RC)(()=>s.e(261).then(s.bind(s,7898))),PostPagePostList:r},computed:Zo(Zo(Zo(Zo(Zo({},Ko({getPost:"GET_POST"})),Yo({getConfig:"GET_CONFIG"})),zo({user:"USER"})),Ho(["topNavHeight"])),{},{postId(){return this.$route.params.postId},post(){return this.getPost(this.postId)},commentOptions(){return this.getConfig("configs.comment")},commentAuth(){return this.user.commentAuth||""},isEmbedComment(){return this.$route.name===Oe.Z.EMBED_COMMENT}}),methods:{onScrollComplete(){this.isEmbedComment||(this.showPostList=!0)},getMaxFixedToolbarHeight(){var e=this.$refs.postList;return e?e.$el.offsetTop-this.topNavHeight:null}},created(){C.Z.$on("post::toNextPost",this.nextPost),C.Z.$on("post::toPrevPost",this.prevPost)},async beforeRouteEnter(e,t){await qo(e,t)},async beforeRouteUpdate(e,t){await qo(e,t)},unmounted(){C.Z.$off("post::toNextPost",this.nextPost),C.Z.$off("post::toPrevPost",this.prevPost)},render:function(e,t,s,r,o,i){var n=(0,G.up)("PostItem"),a=(0,G.up)("CommentSystem"),c=(0,G.up)("PostPagePostList");return(0,G.wg)(),(0,G.j4)("div",ve,[i.isEmbedComment?(0,G.ry)("",!0):((0,G.wg)(),(0,G.j4)(n,{key:0,postId:i.postId,maxFixedToolbarHeight:i.getMaxFixedToolbarHeight},null,8,["postId","maxFixedToolbarHeight"])),_e,Se,(0,G.Wm)("section",Te,[(0,G.Wm)(a,{post:i.post,"comment-auth":i.commentAuth,"comment-options":i.commentOptions},null,8,["post","comment-auth","comment-options"])]),o.showPostList?((0,G.wg)(),(0,G.j4)(c,{key:1,ref:"postList",postId:i.postId},null,8,["postId"])):(0,G.ry)("",!0)])}},Jo={class:"main-wrap"},Qo={class:"profile"},ei={class:"profile-header"},ti={class:"img-container"},si={class:"tab-bar"},ri={class:"menu"};var oi=s(2662).default;const ii={defaultTitle:()=>"9GAG: Go Fun The World",hot:()=>"9GAG Hot",trending:()=>"9GAG Trending",fresh:()=>"9GAG Fresh",post:e=>`${e} - 9GAG`,section:e=>`9GAG ${e}`,interest:e=>`9GAG ${e}`,tag:e=>`Best 30+ ${e} fun on 9GAG`,u:e=>`${e} - 9GAG`},ni={async setPageTitle(e,t=""){var s=ii[e]?ii[e](t):ii.defaultTitle();oi.PageController.setPageTitle(s)},async refreshPageTitle(){oi.PageController.refreshPageTitle()}};function ai(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function ci(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ai(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ai(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const li=(0,X._p)("section")["mapGetters"],di={mixins:[je,Ke.Z],computed:ci(ci({},li({getSection:"GET_SECTION"})),{},{currentSectionUrl(){return this.$route.params.section},currentSection(){return this.getSection(this.currentSectionUrl)},selected(){return{hot:{selected:"hot"===this.type},fresh:{selected:"fresh"===this.type}}}}),render:function(t,e,s,r,o,i){return(0,G.wg)(),(0,G.j4)("div",Qo,[(0,G.Wm)("section",ei,[(0,G.Wm)("div",ti,[(0,G.Wm)("picture",null,[(0,G.Wm)("source",{srcset:i.currentSection.ogWebpUrl,type:"image/webp"},null,8,["srcset"]),(0,G.Wm)("img",{src:i.currentSection.ogImageUrl},null,8,["src"])])]),(0,G.Wm)("header",null,[(0,G.Wm)("h2",null,(0,F.zw)(i.currentSection.name),1),(0,G.Wm)("p",null,(0,F.zw)(i.currentSection.description),1)])]),(0,G.Wm)("div",si,[(0,G.Wm)("ul",ri,[(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:i.selected.hot,href:t.getRoute({params:{type:"hot"}}),onClick:e[1]||(e[1]=e=>t.track("SectionNavigation","TapHot"))},"Hot",10,["href"])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:i.selected.fresh,href:t.getRoute({params:{type:"fresh"}}),onClick:e[2]||(e[2]=e=>t.track("SectionNavigation","TapFresh"))},"Fresh",10,["href"])])])])])}},ui={class:"profile"},pi={class:"profile-header"},hi={class:"tab-bar"},mi={class:"menu"};var gi=s(6296).default;function fi(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function yi(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?fi(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):fi(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Oi=(0,X._p)("tag")["mapGetters"],bi={mixins:[je,Ke.Z],computed:yi(yi({},Oi({tagNav:"TAG_NAV"})),{},{displayTagName(){return this.tagNav?this.tagNav.key:gi.capitalize(this.$route.params.tag)},selected(){return{hot:{selected:"hot"===this.type},fresh:{selected:"fresh"===this.type}}}}),render:function(t,e,s,r,o,i){return(0,G.wg)(),(0,G.j4)("div",ui,[(0,G.Wm)("section",pi,[(0,G.Wm)("header",null,[(0,G.Wm)("h1",null,(0,F.zw)(i.displayTagName),1)])]),(0,G.Wm)("div",hi,[(0,G.Wm)("ul",mi,[(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:i.selected.hot,href:t.getRoute({params:{type:"hot"}}),onClick:e[1]||(e[1]=e=>t.track("TagNavigation","TapHot"))}," Hot ",10,["href"])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:i.selected.fresh,href:t.getRoute({params:{type:"fresh"}}),onClick:e[2]||(e[2]=e=>t.track("TagNavigation","TapFresh"))}," Fresh ",10,["href"])])])])])}},vi={class:"field"};var _i=s(6296).default;const Si={mixins:[Ke.Z],methods:{submitSearch(e){var t=this.$refs.query.value;this.$router.push(_i.getSearchUrl(t)),this.track("Search","SubmitSearch",{Element:"SearchPageInputBox"})}},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("form",{id:"listview-search",action:e.$route.path,onSubmit:t[1]||(t[1]=(0,ge.iM)((...e)=>i.submitSearch&&i.submitSearch(...e),["prevent"]))},[(0,G.Wm)("div",vi,[(0,G.Wm)("input",{id:"search-hero",type:"text",name:"query",ref:"query",value:e.$route.query.query},null,8,["value"])])],40,["action"])}},Ti={class:"profile"},wi={class:"profile-header"},Pi={class:"img-container round"},Ii={key:0,class:"verified-account"},Ei={key:1,class:"badge pro plus"},Ai={key:2,class:"badge pro"},ki={key:0},Di={class:"profile-about"},Ci={class:"tab-bar"},Ui={class:"menu"},Li={key:0},ji={class:"option"},Ni=(0,G.Wm)("div",{class:"clearfix"},null,-1),Ri={key:0,class:"popup-menu profile-more"},Mi={key:0},xi={key:1},Wi={key:2};var Et=s(4258),Vi=s(2976),Bi=s(5381),r=s(3534),Gi=s(6296).default,Fi=s(7651).default,$i=s(8912).default;function Zi(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Hi(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Zi(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Zi(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Ki=(0,X._p)("user")["mapState"],zi=(0,X._p)("profile")["mapGetters"],Yi=(0,X._p)("toast")["mapActions"],{mapActions:qi,mapGetters:Xi}=(0,X._p)("user/settings"),Ji=(0,X._p)("modal")["mapActions"],Qi={mixins:[je,it.Z,Ke.Z],directives:{ClickOutside:Wt},data:()=>({showMenu:!1}),computed:Hi(Hi(Hi(Hi({},Ki(["user"])),zi({getProfileByUserName:"GET_PROFILE_BY_USERNAME"})),Xi({isUserBlocked:Et.xN})),{},{username(){return this.$route.params.username},profile(){return this.getProfileByUserName(this.username)},displayName(){return`${Gi.htmlDecode(this.profile.fullName)||""} `},emojiStatus(){return this.profile.emojiStatus||""},about(){return Gi.htmlDecode(this.profile.about)},viewingOtherUser(){return this.user.username!==this.username},userData(){return{displayName:this.username,accountID:this.profile.accountId}},hideProBadge(){var e=this.profile["preferences"];return!!e&&!!e.hideProBadge},isPro(){return!!this.profile.isActivePro},isProPlus(){return!!this.profile.isActiveProPlus},isVerifiedAccount(){return!!this.profile.isVerifiedAccount},accountAge(){return Fi.getAccountAge(this.profile.creationTs)},selected(){return{overview:{selected:this.type===Ue},posts:{selected:"posts"===this.type},likes:{selected:"likes"===this.type},comments:{selected:this.type===Le}}},canShowBlock(){return this.viewingOtherUser&&!this.isUserBlocked(this.profile.accountId)},canShowUnblock(){return this.viewingOtherUser&&this.isUserBlocked(this.profile.accountId)}}),methods:Hi(Hi(Hi(Hi({},Yi({displayToast:Dt.ot.DISPLAY_TOAST})),qi({setUserToBlock:Et.bR,unblockUser:Et.jk})),Ji({showModal:r.Wb})),{},{report(){this.ensureLoggedIn()&&V.Z.showReportOverlay({type:bt.Z.TYPES.PROFILE,objectId:this.profile.username})},block(){this.track(Vi.R.USER,Vi.e.BLOCK_USER),this.setUserToBlock(this.userData),this.showModal({state:Bi.Hi,modalComponent:"modules/user/components/Settings/Blocklist/Modals/BlockUser"})},unblock(){this.track(Vi.R.USER,Vi.e.UNBLOCK_USER),this.unblockUser({accountID:this.profile.accountId,username:this.username})},copyLink(){this.track("ProfileAction","CopyUrl"),kt.Z.copyText(this.profile.profileUrl).then(()=>this.displayToast({type:$i.INFO,msg:"Link Copied.",dismiss:!0}))},clickMenu(){this.showMenu=!this.showMenu},hideMenu(){this.showMenu=!1}}),render:function(e,t,s,r,o,i){var n=(0,G.Q2)("click-outside");return(0,G.wg)(),(0,G.j4)("div",Ti,[(0,G.Wm)("section",wi,[(0,G.Wm)("div",Pi,[(0,G.Wm)("img",{src:i.profile.avatarUrl,alt:"Profile Pic"},null,8,["src"])]),(0,G.Wm)("header",null,[(0,G.Wm)("h2",null,[(0,G.Uk)((0,F.zw)(i.displayName)+" ",1),i.isVerifiedAccount?((0,G.wg)(),(0,G.j4)("span",Ii)):(0,G.ry)("",!0),(0,G.Uk)(" "+(0,F.zw)(i.emojiStatus)+" ",1),i.isProPlus&&!i.hideProBadge?((0,G.wg)(),(0,G.j4)("span",Ei,"Pro+")):i.isPro&&!i.hideProBadge?((0,G.wg)(),(0,G.j4)("span",Ai,"Pro")):(0,G.ry)("",!0)]),(0,G.Wm)("p",null,[(0,G.Uk)((0,F.zw)(`@${i.username}`)+" ",1),i.accountAge?((0,G.wg)(),(0,G.j4)("span",ki," Â· "+(0,F.zw)(i.accountAge),1)):(0,G.ry)("",!0)])])]),(0,G.Wm)("section",Di,(0,F.zw)(i.about),1),(0,G.Wm)("div",Ci,[(0,G.Wm)("ul",Ui,[(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:i.selected.overview,href:e.getRoute({params:{type:"overview"}})}," Home ",10,["href"])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:i.selected.posts,href:e.getRoute({params:{type:"posts"}})}," Posts ",10,["href"])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:i.selected.comments,href:e.getRoute({params:{type:"comments"}})}," Comments ",10,["href"])]),i.viewingOtherUser?(0,G.ry)("",!0):((0,G.wg)(),(0,G.j4)("li",Li,[(0,G.Wm)("a",{class:i.selected.likes,href:e.getRoute({params:{type:"likes"}})}," Upvotes ",10,["href"])]))]),(0,G.Wm)("div",ji,[(0,G.Wm)("a",{class:"more",href:"javascript:void(0);",onClick:t[1]||(t[1]=(0,ge.iM)((...e)=>i.clickMenu&&i.clickMenu(...e),["stop"]))},"More")]),Ni,o.showMenu?(0,G.wy)(((0,G.wg)(),(0,G.j4)("div",Ri,[(0,G.Wm)("ul",{onClick:t[6]||(t[6]=(...e)=>i.hideMenu&&i.hideMenu(...e))},[(0,G.Wm)("li",null,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[2]||(t[2]=(...e)=>i.copyLink&&i.copyLink(...e))},"Copy link")]),i.canShowBlock?((0,G.wg)(),(0,G.j4)("li",Mi,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[3]||(t[3]=(...e)=>i.block&&i.block(...e))},"Block @"+(0,F.zw)(i.username),1)])):i.canShowUnblock?((0,G.wg)(),(0,G.j4)("li",xi,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[4]||(t[4]=(...e)=>i.unblock&&i.unblock(...e))},"Unblock @"+(0,F.zw)(i.username),1)])):(0,G.ry)("",!0),i.viewingOtherUser?((0,G.wg)(),(0,G.j4)("li",Wi,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[5]||(t[5]=(...e)=>i.report&&i.report(...e))},"Report @"+(0,F.zw)(i.username),1)])):(0,G.ry)("",!0)])],512)),[[n,i.hideMenu]]):(0,G.ry)("",!0)])])}},en="featured",tn={class:"post-tag"},sn={mixins:[Ke.Z],props:{tags:Array,type:String},computed:{gaAction(){return this.type===en?"ViewFeaturedTag":"ViewRelatedTag"},ref(){return this.type===en?"featured-tag":"related-tag"},label(){return this.type===en?"featured-tag-label":"related-tag-label"}},render:function(s,e,t,r,o,i){return(0,G.wg)(),(0,G.j4)("div",tn,[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(t.tags,t=>((0,G.wg)(),(0,G.j4)("a",{href:`${t.url}?ref=${i.ref}`,key:t.key,onClick:e=>s.track("PostList",i.gaAction,{[i.label]:t.key})},(0,F.zw)(t.key),9,["href","onClick"]))),128))])}},rn=(0,G.HX)("data-v-28b16781")((s,e,t,r,o,i)=>((0,G.wg)(),(0,G.j4)("div",{class:["sticky-navbar",{sticky:o.isSticky}],style:i.navbarStyle,ref:"navbar"},[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(o.navList,t=>((0,G.wg)(),(0,G.j4)("a",{href:t.url,class:{selected:t.type===i.activeLink},onClick:e=>s.track("StickyNavbar",t.action)},(0,F.zw)(t.label),11,["href","onClick"]))),256))],6)));var it=s(7637).default,on=s(9012).default;function nn(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function an(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?nn(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):nn(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const cn=(0,X._p)("app")["mapState"],ln=[{label:"Hot",url:"/hot",type:it.HOT,action:"TapHot"},{label:"Trending",url:"/trending",type:it.TRENDING,action:"TapTrending"},{label:"Fresh",url:"/fresh",type:it.FRESH,action:"TapFresh"}],dn={mixins:[Ke.Z],data:()=>({navList:ln,isSticky:!1,navbarPadding:16,navbarOffsetTop:0}),watch:{drawer(e,t){!t&&e&&(this.isSticky=!1)}},computed:an(an({},cn(["topNavHeight","drawer"])),{},{activeLink(){return this.$route.params.type||"hot"},navbarStyle(){return this.isSticky?{top:`${this.topNavHeight}px`,paddingTop:`${this.navbarPadding}px`}:null}}),methods:{rangeCheck(){this.drawer||(this.isSticky=this.navbarOffsetTop-this.topNavHeight-this.navbarPadding<=window.pageYOffset)}},created(){on.addEventListener("scroll",this.rangeCheck)},mounted(){this.navbarOffsetTop=this.$refs.navbar.offsetTop},unmounted(){on.removeEventListener("scroll",this.rangeCheck)}};s(5829),dn.render=rn,dn.__scopeId="data-v-28b16781";const un=dn,pn=(0,G.HX)("data-v-3b7d62f9");(0,G.dD)("data-v-3b7d62f9");const hn={class:"blocked-profile"},mn={class:"blocked-profile_heading"},gn=(0,G.Wm)("span",{class:"blocked-profile_caption"},"Unblock to see his profile.",-1);(0,G.Cn)();const fn=pn((e,t,s,r,o,i)=>((0,G.wg)(),(0,G.j4)("section",hn,[(0,G.Wm)("h3",mn,"Youâ€™ve blocked @"+(0,F.zw)(i.username),1),gn]))),yn={name:"BlockedUserProfilePlaceholder",computed:{username(){return this.$route.params.username}}};s(5929),yn.render=fn,yn.__scopeId="data-v-3b7d62f9";var it=yn,On=s(5670).default;function bn(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function vn(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?bn(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):bn(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const _n=(0,X._p)("post")["mapActions"],Sn=(0,X._p)("user/settings")["mapGetters"],Tn=(0,X._p)("tag")["mapGetters"],wn=(0,X._p)("profile")["mapGetters"],Pn=async(e,t)=>{var s=ur.Z.getApiInfo(e),r=B.Z.state.post["postIdsByUrl"],o=B.Z.state.config["data"];if(r[s.url])await B.Z.dispatch("post/SET_CURRENT_API_INFO",s);else{if(!t.name&&o)return await B.Z.dispatch("post/SET_CURRENT_API_INFO",s),void await B.Z.dispatch("post/INIT_LIST_POSTS",{data:o,hydrate:!0});pr.show(),await B.Z.dispatch("post/SET_NEXT_API_INFO",s);try{const e=await B.Z.dispatch("post/LOAD_LIST_POSTS");if(await B.Z.dispatch("post/INIT_LIST_POSTS",{data:e.data}),!r[s.url])throw new Error("PostList not found");await B.Z.dispatch("post/SET_CURRENT_API_INFO",s)}catch(t){On.log(t),window.location.href=e.fullPath}}},In={mixins:[P],data:()=>({visibleStream:0}),computed:vn(vn(vn(vn({},Tn({tags:"TAGS"})),Sn({isUserBlockedGetter:Et.xN})),wn({profileGetter:"GET_PROFILE_BY_USERNAME"})),{},{profile(){return this.$route.params.username?this.profileGetter(this.$route.params.username):null},isUserBlocked(){return this.profile?this.isUserBlockedGetter(this.profile.accountId):null},showSectionNav(){return[Oe.Z.SECTION_LIST,Oe.Z.SECTION_POST_LIST].includes(this.$route.name)},showStickyNav(){return this.$route.name===Oe.Z.POST_LIST},showTagNav(){return this.$route.name===Oe.Z.TAG_POST_LIST},showSearchNav(){return this.$route.name===Oe.Z.SEARCH_POST_LIST},showProfileNav(){return this.$route.name===Oe.Z.USER_POST_LIST},tagType(){return[Oe.Z.TAG_POST_LIST,Oe.Z.SEARCH_POST_LIST].includes(this.$route.name)?"related":en}}),methods:vn(vn({},_n({setLastPosition:"SET_LAST_POSITION"})),{},{streamVisible(e){this.visibleStream=e},lastPositionHandler(e,t){Oe.Z.LIST_VIEWS.includes(t.name)&&this.setLastPosition({top:window.scrollY,stream:this.visibleStream})}}),async beforeRouteEnter(e,t){await Pn(e,t)},async beforeRouteUpdate(e,t){this.lastPositionHandler(e,t),await Pn(e,t)},beforeRouteLeave(e,t){this.lastPositionHandler(e,t)},components:{ListContent:Mo,SectionNavBar:di,TagNavBar:bi,PostListStickyNavbar:un,PostListTag:sn,SearchNavBar:Si,ProfileNavBar:Qi,ProfileBlankState:Po,BlockedUserProfilePlaceholder:it},render:function(e,t,s,r,o,i){const n=(0,G.up)("SectionNavBar"),a=(0,G.up)("TagNavBar"),c=(0,G.up)("ProfileNavBar"),l=(0,G.up)("SearchNavBar"),d=(0,G.up)("PostListStickyNavbar"),u=(0,G.up)("PostListTag"),p=(0,G.up)("BlockedUserProfilePlaceholder"),h=(0,G.up)("ProfileBlankState"),m=(0,G.up)("ListContent");return(0,G.wg)(),(0,G.j4)("div",Jo,[i.showSectionNav?((0,G.wg)(),(0,G.j4)(n,{key:0})):i.showTagNav?((0,G.wg)(),(0,G.j4)(a,{key:1})):i.showProfileNav?((0,G.wg)(),(0,G.j4)(c,{key:2})):i.showSearchNav?((0,G.wg)(),(0,G.j4)(l,{key:3})):(0,G.ry)("",!0),i.showStickyNav?((0,G.wg)(),(0,G.j4)(d,{key:4})):(0,G.ry)("",!0),0<e.tags.length?((0,G.wg)(),(0,G.j4)(u,{key:5,tags:e.tags,type:i.tagType},null,8,["tags","type"])):(0,G.ry)("",!0),i.isUserBlocked?((0,G.wg)(),(0,G.j4)(p,{key:6})):((0,G.wg)(),(0,G.j4)(m,{key:7,onStreamVisible:i.streamVisible},(0,G.Nv)({_:2},[i.showProfileNav?{name:"blank-state",fn:(0,G.w5)(()=>[(0,G.Wm)(h)])}:void 0]),1032,["onStreamVisible"]))])}},En={id:"signup"},An=(0,G.Wm)("h2",null,"Log in",-1),kn=(0,G.Wm)("p",{class:"lead"},"Connect with a social network",-1),Dn={id:"login-email",action:"/login",method:"POST"},Cn=(0,G.Wm)("p",{class:"lead"},"Log in with your Email",-1),Un={class:"field"},Ln=(0,G.Wm)("label",{for:"login-email-name"},"Email",-1),jn={id:"login-email-name",type:"text",name:"username",ref:"username"},Nn={class:"field"},Rn=(0,G.Wm)("label",{for:"login-email-password"},"Password",-1),Mn=(0,G.Wm)("input",{id:"login-email-password",type:"password",name:"password",value:""},null,-1),xn={key:0,class:"error-message red"},Wn={class:"btn-container"},Vn={class:"social-signup"},Bn={props:["isLogin","nextUrl"],mixins:[Ke.Z],computed:{trackCategory(){return this.isLogin?"Login":"SignUp"},next(){return this.nextUrl||(this.$route?this.$route.fullPath:"/")},facebookUrl(){return`/connect/facebook?next=${encodeURIComponent(this.next)}`},googleUrl(){return`/connect/google?next=${encodeURIComponent(this.next)}`}},methods:{onFbConnect(){this.track(this.trackCategory,"ConnectFacebook");var e=JSON.stringify({a:!1,d:!1,lo:!1,dl:!1});O.t8(w.Z.autoConnectKey,e,y.Z.getCookieOptions())},onGoogleConnect(){this.track(this.trackCategory,"ConnectGoogle")}},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("div",Vn,[(0,G.Wm)("a",{class:"btn-connect-option facebook",href:i.facebookUrl,onClick:t[1]||(t[1]=(...e)=>i.onFbConnect&&i.onFbConnect(...e))}," Facebook ",8,["href"]),(0,G.Wm)("a",{class:"btn-connect-option google",href:i.googleUrl,onClick:t[2]||(t[2]=(...e)=>i.onGoogleConnect&&i.onGoogleConnect(...e))}," Google ",8,["href"])])}},Gn=(0,G.HX)("data-v-385798c6")((e,t,s,r,o,i)=>{var n=(0,G.up)("GetApp");return(0,G.wg)(),(0,G.j4)("div",null,[(0,G.Wm)(n,{trackCategory:i.trackCategory},null,8,["trackCategory"])])}),Fn={components:{GetApp:s(757).Z},mixins:[Ke.Z],props:["isLogin"],computed:{trackCategory(){return this.isLogin?"Login":"SignUp"}}};s(568),Fn.render=Gn,Fn.__scopeId="data-v-385798c6";it=Fn;function $n(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Zn(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?$n(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):$n(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Hn=(0,X._p)("config")["mapGetters"],Kn={mixins:[Ke.Z],props:["nextUrl"],components:{SocialConnectBtn:Bn,GetTheApp:it},computed:Zn(Zn({},Hn({getData:"GET_DATA"})),{},{loginConfig(){return this.getData("login")||{}},loginNextUrl(){if(this.nextUrl)return this.nextUrl;const{next:e,ref:t}=this.$route&&this.$route.query||{};return e||(t&&0===t.indexOf("/")?t:this.$route?this.$route.fullPath:"/")},showErrorMsg(){return!!this.errorMsg},errorMsg(){switch(this.loginConfig.errorCode){case"LOGIN_FAILED":return"Your email or password were incorrect.";case"LOGIN_ERROR":return"An error occurred. Please try again later."}return null}}),methods:{onForgotPassword(){this.track("Login","TapForgotPassword")},onEmailLogin(){this.track("Login","LoginEmail")}},mounted(){this.$refs.username.focus()},render:function(e,t,s,r,o,i){var n=(0,G.up)("SocialConnectBtn"),a=(0,G.up)("GetTheApp");return(0,G.wg)(),(0,G.j4)("div",null,[An,kn,(0,G.Wm)(n,{isLogin:!0,nextUrl:i.loginNextUrl},null,8,["nextUrl"]),(0,G.Wm)("form",Dn,[(0,G.Wm)("input",{type:"hidden",name:"next",value:i.loginNextUrl},null,8,["value"]),Cn,(0,G.Wm)("div",Un,[Ln,(0,G.Wm)("input",jn,null,512)]),(0,G.Wm)("div",Nn,[Rn,Mn,i.showErrorMsg?((0,G.wg)(),(0,G.j4)("p",xn,(0,F.zw)(i.errorMsg),1)):(0,G.ry)("",!0)]),(0,G.Wm)("div",Wn,[(0,G.Wm)("input",{class:"btn left",type:"submit",value:"Log in",onClick:t[1]||(t[1]=(...e)=>i.onEmailLogin&&i.onEmailLogin(...e))}),(0,G.Wm)("a",{class:"forgot-password",href:"/recover",onClick:t[2]||(t[2]=(...e)=>i.onForgotPassword&&i.onForgotPassword(...e))}," Forgot password ")])]),(0,G.Wm)(a,{isLogin:!0})])}},zn={components:{Login:Kn},render:function(e,t,s,r,o,i){var n=(0,G.up)("Login");return(0,G.wg)(),(0,G.j4)("section",En,[(0,G.Wm)(n)])}},Yn={id:"signup"},qn={id:"signup-fb"},Xn=(0,G.Wm)("h2",null,"Hey there!",-1),Jn=(0,G.Wm)("p",{class:"lead"},"9GAG is your best source for fun. Share anything you find interesting, get real responses from people all over the world, and discover what makes you laugh.",-1),Qn={key:0,class:"alternative"},ea=(0,G.Uk)("Sign up with your "),ta={class:"alternative"},sa=(0,G.Uk)("Have an account? ");function ra(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function oa(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ra(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ra(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const ia=(0,X._p)("config")["mapGetters"],na={props:["showSignupEmail","showLogin","nextUrl"],mixins:[Ke.Z],components:{SocialConnectBtn:Bn,GetTheApp:it},computed:oa(oa({},ia({getConfig:"GET_CONFIG"})),{},{isSignupEnabled(){return this.getConfig("page.signup.enabled",!0)}}),methods:{onEmailSignup(){this.track("SignUp","TapSignUpEmail"),this.showSignupEmail()},onEmailLogin(){this.track("SignUp","TapLogin"),this.showLogin()}},render:function(e,t,s,r,o,i){var n=(0,G.up)("SocialConnectBtn"),a=(0,G.up)("GetTheApp");return(0,G.wg)(),(0,G.j4)(G.HY,null,[(0,G.Wm)("div",qn,[Xn,Jn,(0,G.Wm)(n,{isLogin:!1,nextUrl:s.nextUrl},null,8,["nextUrl"]),i.isSignupEnabled?((0,G.wg)(),(0,G.j4)("p",Qn,[ea,(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.onEmailSignup&&i.onEmailSignup(...e))},"Email")])):(0,G.ry)("",!0),(0,G.Wm)("p",ta,[sa,(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[2]||(t[2]=(...e)=>i.onEmailLogin&&i.onEmailLogin(...e))},"Log in")])]),(0,G.Wm)(a,{isLogin:!1})],64)}},aa={id:"signup-email"},ca={key:0},la={key:1},da={action:"/member/email-signup",method:"POST",ref:"signupForm"},ua={class:"field"},pa=(0,G.Wm)("label",{for:"signup-email-name"},"Full name",-1),ha={class:"field"},ma=(0,G.Wm)("label",{for:"signup-email-email"},"Email",-1),ga={class:"field"},fa=(0,G.Wm)("label",{for:"signup-email-password"},"Password",-1),ya=(0,G.Wm)("label",{for:"signup-email-news",class:"signup-email-news"},[(0,G.Uk)(" Sign up for our newsletter. You can unsubscribe any time. See our "),(0,G.Wm)("a",{target:"_blank",href:"/privacy"},"Privacy Policy"),(0,G.Uk)(" for more details. ")],-1),Oa={class:"field"},ba=(0,G.Wm)("label",{for:"signup-email-age"},"Age",-1),va={class:"field captcha"},_a={class:"error-message red"},Sa={class:"btn-container"},Ta=(0,G.Wm)("input",{type:"hidden",name:"app",value:"web"},null,-1);function wa(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Pa(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?wa(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):wa(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Ia=(0,X._p)("config")["mapGetters"],Ea={data:()=>({warning:null,fullname:"",email:"",password:"",age:"",verifyAgeStep:!1,subscribeNews:!1}),watch:{verifyAgeStep(){this.warning=null}},mixins:[Ke.Z],props:["nextUrl"],components:{SocialConnectBtn:Bn,Recaptcha:ne},computed:Pa(Pa({},Ia({getConfig:"GET_CONFIG",getData:"GET_DATA"})),{},{recaptchaKey(){return this.getConfig("configs.captchaPublicKey")},signupNextUrl(){if(this.nextUrl)return this.nextUrl;const{next:e,ref:t}=this.$route&&this.$route.query||{};return e||(t&&0===t.indexOf("/")?t:this.$route?this.$route.fullPath:"/")},refererSource(){return(this.$route?this.$route.query.src:null)||""},refererUrl(){return(this.$route?this.$route.query.ref:null)||""},ageVerified(){return 16<=this.age?1:0}}),methods:{onEmailSignup(){if(!this.verifyAgeStep){const{email:e,password:t,fullname:s}=this.$refs;return this.email.length&&e.checkValidity()?this.password.length&&t.checkValidity()?this.fullname.length&&s.checkValidity()?void(this.verifyAgeStep=!0):void(this.warning="Please enter your full name."):void(this.warning="Your password must be at least 6 characters that is alphanumerics."):void(this.warning="Please enter a valid email.")}this.ageVerified?this.$refs.recaptcha.getResponse()?(this.track("SignUp","SignUpEmail"),this.$refs.signupForm.submit()):this.warning="Wrong CAPTCHA.":this.warning="You're too young to use 9GAG."}},mounted(){this.fullname=this.getData("signup.fullname")||"",this.email=this.getData("signup.email")||"",this.warning=this.getData("signup.error")||null,this.$refs.fullname.focus()},render:function(e,t,s,r,o,i){var n=(0,G.up)("Recaptcha");return(0,G.wg)(),(0,G.j4)("div",aa,[o.verifyAgeStep?((0,G.wg)(),(0,G.j4)("h2",la,"Verify your age")):((0,G.wg)(),(0,G.j4)("h2",ca,"Become a member")),(0,G.Wm)("form",da,[(0,G.wy)((0,G.Wm)("div",null,[(0,G.Wm)("div",ua,[pa,(0,G.wy)((0,G.Wm)("input",{id:"signup-email-name",type:"text",name:"fullname",placeholder:"",ref:"fullname","onUpdate:modelValue":t[1]||(t[1]=e=>o.fullname=e),maxlength:"20"},null,512),[[ge.nr,o.fullname]])]),(0,G.Wm)("div",ha,[ma,(0,G.wy)((0,G.Wm)("input",{id:"signup-email-email",type:"email",name:"email",placeholder:"",ref:"email","onUpdate:modelValue":t[2]||(t[2]=e=>o.email=e)},null,512),[[ge.nr,o.email]])]),(0,G.Wm)("div",ga,[fa,(0,G.wy)((0,G.Wm)("input",{id:"signup-email-password",type:"password",name:"password",ref:"password","onUpdate:modelValue":t[3]||(t[3]=e=>o.password=e),minlength:"6",maxlength:"32"},null,512),[[ge.nr,o.password]])]),(0,G.Wm)("div",null,[(0,G.wy)((0,G.Wm)("input",{id:"signup-email-news",type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>o.subscribeNews=e)},null,512),[[ge.e8,o.subscribeNews]]),ya])],512),[[ge.F8,!o.verifyAgeStep]]),(0,G.wy)((0,G.Wm)("div",Oa,[ba,(0,G.wy)((0,G.Wm)("input",{type:"text",id:"signup-email-age",placeholder:"Your age","onUpdate:modelValue":t[5]||(t[5]=e=>o.age=e)},null,512),[[ge.nr,o.age]])],512),[[ge.F8,o.verifyAgeStep]]),(0,G.Wm)("div",va,[(0,G.Wm)(n,{ref:"recaptcha",sitekey:i.recaptchaKey},null,8,["sitekey"]),(0,G.Wm)("p",_a,(0,F.zw)(o.warning),1)]),(0,G.Wm)("div",Sa,[(0,G.Wm)("a",{class:"btn left",href:"javascript:void(0)",onClick:t[6]||(t[6]=(...e)=>i.onEmailSignup&&i.onEmailSignup(...e))},"Sign up")]),(0,G.Wm)("input",{type:"hidden",name:"next",value:i.signupNextUrl},null,8,["value"]),(0,G.Wm)("input",{type:"hidden",name:"src",value:i.refererSource},null,8,["value"]),(0,G.Wm)("input",{type:"hidden",name:"ref",value:i.refererUrl},null,8,["value"]),(0,G.Wm)("input",{type:"hidden",name:"ageVerified",value:i.ageVerified},null,8,["value"]),(0,G.Wm)("input",{type:"hidden",name:"subscribeNews",value:o.subscribeNews?1:0},null,8,["value"]),Ta],512)])}},Aa={data:()=>({displayEmail:!1}),components:{SignupSocial:na,SignupEmail:Ea},methods:{showLogin(){this.$router.push("login")},showSignupEmail(){this.displayEmail=!0}},created(){this.$route.query&&"email"===this.$route.query.method&&(this.displayEmail=!0)},render:function(e,t,s,r,o,i){var n=(0,G.up)("SignupSocial"),a=(0,G.up)("SignupEmail");return(0,G.wg)(),(0,G.j4)("section",Yn,[o.displayEmail?((0,G.wg)(),(0,G.j4)(a,{key:1})):((0,G.wg)(),(0,G.j4)(n,{key:0,showLogin:i.showLogin,showSignupEmail:i.showSignupEmail},null,8,["showLogin","showSignupEmail"]))])}},ka={mounted(){me.showUploadPage()},render:function(e,t,s,r,o,i){return null}};function Da(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}const Ca=(0,X._p)("noti")["mapMutations"],Ua={methods:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Da(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Da(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({},Ca({showNotiMenu:"SHOW_DROPDOWN"})),mounted(){this.showNotiMenu()},render:function(e,t,s,r,o,i){return null}},La=(0,G.HX)("data-v-15c8f3f2");(0,G.dD)("data-v-15c8f3f2");const ja={ref:"donate"};(0,G.Cn)();var it=La((e,t,s,r,o,i)=>((0,G.wg)(),(0,G.j4)("div",ja,null,512))),Na=s(3036).default;const Ra={props:{text:{type:Boolean,default:!0}},data:()=>({loading:!0}),methods:{renderBlink(){window.blinkSDK.createPG(this.$refs.donate,{type:window.blinkSDK.PANEL_TYPE.donationPage,title:"Donate to 9GAG",text:this.text?"The team at 9GAG is committed to the mission of making the world a happier place. Your contribution fuels this cause.\nYour donation helps pay for the development, servers and bandwidth of 9GAG web and app used by millions around the world every day.\nPlease make a donation today.\nYour contribution, however big or small, is valuable for our future.":"",textStyle:{fontSize:"18px",fontFamily:"'Montserrat', sans-serif"},fonts:[{src:"local('Montserrat'), local('Montserrat-Regular'), url(https://fonts.gstatic.com/s/montserrat/v15/JTUSjIg1_i6t8kCHKm459WlhyyTh89Y.woff2) format('woff2')",style:"normal",family:"'Montserrat'",weight:"400"}]},{},{onMount:()=>{this.loading=!1,this.$emit("loaded")}})}},mounted(){window.blinkSDK?this.renderBlink():Na.loadScript("//blink.net/1.0/blink-sdk.js?clientId=9gag.com").then(this.renderBlink)}};s(2169),Ra.render=it,Ra.__scopeId="data-v-15c8f3f2";const Ma=Ra,xa={setPageTitle(e,t){ni.setPageTitle(e,t)}};var it=s(3678),Wa=s(4177).default,Va=s(5652).default;const Ba=(0,be.p7)({history:(0,be.PO)(),routes:[{path:"/gag/:postId/:title?",component:Xo,name:Oe.Z.POST_PAGE},{path:"/embed-comment/:postId",component:Xo,name:Oe.Z.EMBED_COMMENT},{path:"/u/:username/:type(overview|posts|likes|comments)?",component:In,name:Oe.Z.USER_POST_LIST},{path:"/tag/:tag/:type(hot|fresh)?",component:In,name:Oe.Z.TAG_POST_LIST},{path:"/search",component:In,name:Oe.Z.SEARCH_POST_LIST},{path:"/login",component:zn,name:Oe.Z.LOGIN_PAGE},{path:"/signup",component:Aa,name:Oe.Z.SIGNUP_PAGE},{path:"/recover",component:()=>s.e(310).then(s.bind(s,8308)),name:Oe.Z.FORGOT_PASSWORD},{path:"/submit",component:ka,name:Oe.Z.UPLOAD},{path:"/notifications",component:Ua,name:Oe.Z.NOTIFICATIONS},{path:"/donate",component:Ma,name:Oe.Z.DONATE},{path:"/member/social-transfer",component:()=>s.e(310).then(s.bind(s,1743)),name:Oe.Z.SOCIAL_TRANSFER},{path:"/member/delete",component:()=>s.e(310).then(s.bind(s,4850)),name:Oe.Z.DELETE_ACCOUNT},{path:"/settings/:type(profile|password|account|privacy|do-not-sell)?",component:()=>s.e(310).then(s.bind(s,1710)),name:Oe.Z.SETTINGS},{path:"/interest/:interest",component:In,name:Oe.Z.INTEREST_LIST},{path:"/:type(hot|fresh|trending)?",component:In,name:Oe.Z.POST_LIST},{path:"/hot/:postId",component:In,name:Oe.Z.HOT_POST_LIST},{path:"/:section/:type(hot|fresh)?",component:In,name:Oe.Z.SECTION_LIST},{path:"/:section/:postId",component:In,name:Oe.Z.SECTION_POST_LIST}],scrollBehavior(e,t,s){if(s&&Oe.Z.LIST_VIEWS.includes(t.name)&&e.name===Oe.Z.POST_PAGE){const t=B.Z.state.post.postApiInfos[e.params.postId];t&&B.Z.commit("post/SET_CURRENT_API_INFO",t)}if(e.hash)return{selector:e.hash.split("=")[0]};if(Oe.Z.LIST_VIEWS.includes(e.name)){const e=B.Z.getters["post/GET_LAST_POSITION"];if(e)return{top:e.top,left:0}}return{top:0,left:0}}});(0,it.Z)(B.Z,Ba),Ba.beforeEach((e,t,s)=>{Oe.Z.LIST_VIEWS.includes(e.name)&&t.name===Oe.Z.POST_PAGE&&B.Z.dispatch("post/SAVE_POST_API_INFO",t.params.postId),s()}),Ba.afterEach((e,t)=>{(0,G.Y3)(()=>{let t=e.hash.substr(1);0===t.indexOf("cs_comment_id")&&(t="comment"),setTimeout(()=>{var e=document.getElementById(t);e&&Wa.scrollTo(e.offsetTop)},100)})}),Ba.afterEach((e,t)=>{if(B.Z.dispatch(`session/${Dt.R5.SET_SESSION_ACTIVE}`),B.Z.dispatch(`session/${Dt.R5.CHECK_SESSION_REFERRAL}`),y.Z.setRouteInfo(e),Kr.setTargeting(e,t),pr.finish(),null!=t.name){switch(C.Z.$emit("nav::hideMenu"),Br.Z.reset(),N.setPostId(null),B.Z.dispatch("config/CLEAR_HYDRATION"),e.name){case Oe.Z.POST_LIST:case Oe.Z.HOT_POST_LIST:xa.setPageTitle(e.params.type);break;case Oe.Z.POST_PAGE:const t=B.Z.getters["post/GET_POST"](e.params.postId)["title"];t&&xa.setPageTitle("post",t),N.setPostId(e.params.postId);break;case Oe.Z.SECTION_LIST:case Oe.Z.SECTION_POST_LIST:var s=B.Z.getters["section/GET_SECTION"](e.params.section)["name"];s&&xa.setPageTitle("section",s);break;case Oe.Z.INTEREST_LIST:var s=B.Z.getters["section/GET_INTEREST"](e.params.interest)["name"];s&&xa.setPageTitle("interest",s);break;case Oe.Z.TAG_POST_LIST:var r=B.Z.getters["tag/TAG_NAV"]["key"];r&&xa.setPageTitle("tag",r);break;case Oe.Z.USER_POST_LIST:var r=B.Z.getters["profile/GET_PROFILE_BY_USERNAME"](e.params.username)["fullName"];r&&xa.setPageTitle("u",r);break;default:xa.setPageTitle()}e.path===t.path&&e.hash!==t.hash||Va.trackPageView(e.fullPath)}});const Ga=Ba,Fa={id:"top-nav",ref:"nav"},$a={class:"nav-wrap"},Za={class:"nav-menu"},Ha={class:"secondary"};function Ka(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function za(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ka(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ka(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Ya=(0,X._p)("config")["mapGetters"],qa={mixins:[Ke.Z],computed:za(za({},Ya({getConfig:"GET_CONFIG"})),{},{navLinks(){return this.getConfig("page.navLinks",[])}}),render:function(s,e,t,r,o,i){return(0,G.wg)(),(0,G.j4)("nav",Za,[(0,G.Wm)("ul",Ha,[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(i.navLinks,t=>((0,G.wg)(),(0,G.j4)("li",null,[(0,G.Wm)("a",{href:t.url,target:t.blank?"_blank":null,class:{new:t.badge},onClick:e=>s.track("NavigationBar","TapLink",{Url:t.url,Title:t.title})},(0,F.zw)(t.title),11,["href","target","onClick"])]))),256))])])}},Xa={class:"function-wrap"},Ja={class:"general-function"},Qa={class:"visitor-function"},ec={class:"user-function"},tc={key:0,class:"badge-new"},sc={class:"avatar"},rc={key:1,class:"popup-menu user"},oc=(0,G.Wm)("i",null,null,-1),ic=(0,G.Uk)("Get 9GAG app"),nc={class:"upload"},ac={class:"notification-menu"},cc={class:"tab-bar"},lc={ref:"list",class:"notification-list viewport"},dc={class:"overview"},uc={key:0,class:"empty"},pc={class:"empty-message"},hc={key:1,class:"empty"},mc=(0,G.Wm)("div",{class:"empty-message"},[(0,G.Wm)("div",{class:"simple-spinner"})],-1),gc={key:0,class:"simple-spinner",style:{position:"relative"}},fc={class:"noti-text"},yc={key:0,class:"noti-text grey"},Oc={key:0,class:"noti-icon right"};var be=s(2428),bc=s(1093).default,vc=s(7651).default;function _c(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Sc(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_c(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_c(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapState:Tc,mapActions:wc}=(0,X._p)("noti"),Pc=(0,X._p)("boards")["mapActions"],Ic={props:{item:Object},mixins:[Ke.Z],computed:Sc(Sc({},Tc(["readIds"])),{},{isUnread(){return!this.item.isRead&&!this.readIds.includes(this.item.id)},notiHref(){var e=this.item["url"];return e||"javascript:void(0)"},largeLogoUrl(){var e=this.item["suppData"];return this.showAvatar?this.userAvatar:e?e.image:""},showAvatar(){var e=this.item["type"];switch(e){case bc.UPVOTE:case bc.COMMENT:case bc.COMMENT_REPLY:case bc.COMMENT_UPVOTE:case bc.COMMENT_MENTION:case bc.FOLLOW_THREAD:case bc.USER:return!0}return!1},userAvatar(){var e=this.item["users"];return e&&e[0]?e[0].avatarUrl:""},profileUrl(){var e=this.item["users"];return e&&e[0]?this.getProfileRoute({username:e[0].username}):null},htmlMessage(){const{message:e,wrapMessage:t,users:r}=this.item;if(t){let s=t;return r&&r.forEach(e=>{var t=e["username"],e=`<a target="_blank" href="${this.getProfileRoute({username:t})}">`;s=s.replace(`[${t}]`,`${e}<strong>${t}</strong></a>`)}),s}return e},creationTime(){return this.item.timestamp?vc.getTimeAgo(this.item.timestamp):""},showPostThumbnail(){return this.item.post&&this.item.post.id},postThumbnail(){var e=this.item["post"];return e&&e.images?e.images.imageFbThumbnail:{}}}),methods:Sc(Sc(Sc({},wc({setNotiReadState:"SET_INDIVIDUAL_NOTI_READ_STATE",setIsDropdownOpened:"SET__IS_DROPDOWN_OPENED"})),Pc({openBoardFromOutside:be.gJ})),{},{markItemAsRead(){this.isUnread&&this.setNotiReadState({itemKeys:this.item.id,states:1})},onNotiClick(e){this.markItemAsRead(),this.track("Noti","OpenNoti");var{post:t,url:s,type:r}=this.item;t&&t.board&&s&&(e.preventDefault(),e.stopPropagation(),this.openBoardFromOutside({boardID:t.id,url:s,type:r}),this.setIsDropdownOpened(!1))},onLogoClick(e){this.showAvatar&&this.profileUrl&&(e.stopPropagation(),this.markItemAsRead(),this.track("Noti","ClickNotiAvatar"))},getProfileRoute:(e,t={})=>Ga.resolve({name:Oe.Z.USER_POST_LIST,params:e,query:t}).href}),render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("li",null,[(0,G.Wm)("a",{href:i.notiHref,target:"_blank",class:["noti-item",{unread:i.isUnread}],onClick:t[2]||(t[2]=(...e)=>i.onNotiClick&&i.onNotiClick(...e))},[(0,G.Wm)("a",{href:i.profileUrl,target:"_blank",class:["noti-icon left",{avatar:i.showAvatar}],onClick:t[1]||(t[1]=(...e)=>i.onLogoClick&&i.onLogoClick(...e))},[(0,G.Wm)("img",{src:i.largeLogoUrl},null,8,["src"])],10,["href"]),(0,G.Wm)("div",fc,[(0,G.Wm)("span",{innerHTML:i.htmlMessage},null,8,["innerHTML"]),i.creationTime?((0,G.wg)(),(0,G.j4)("span",yc,(0,F.zw)(i.creationTime),1)):(0,G.ry)("",!0)]),i.showPostThumbnail?((0,G.wg)(),(0,G.j4)("div",Oc,[(0,G.Wm)("picture",null,[i.postThumbnail.webpUrl?((0,G.wg)(),(0,G.j4)("source",{key:0,srcset:i.postThumbnail.webpUrl,type:"image/webp"},null,8,["srcset"])):(0,G.ry)("",!0),(0,G.Wm)("img",{src:i.postThumbnail.url},null,8,["src"])])])):(0,G.ry)("",!0)],10,["href"])])}};function Ec(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Ac(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ec(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ec(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapState:kc,mapActions:Dc,mapGetters:Cc,mapMutations:Uc}=(0,X._p)("noti"),Lc={mixins:[Ke.Z],watch:{isMentionsTab(){this.scrollToTop()},nextKey(e){this.didEndOfList||(""===e?this.scrollToTop():this.resetLoadMore())}},computed:Ac(Ac(Ac({},kc(["didEndOfList","nextKey","isMentionsTab"])),Cc({notiItems:"NOTI_ITEMS",notiCount:"NOTI_COUNT"})),{},{initLoadingState(){return 0===this.notiCount},showLoadingSpinner(){return!this.didEndOfList},showEmptyState(){return 0===this.notiItems.length&&this.didEndOfList},emptyStateMessage(){return this.isMentionsTab?"No mentions yet":"No notifications yet"}}),methods:Ac(Ac(Ac({},Dc({loadNoti:"LOAD_NOTI"})),Uc({setMentionsTab:"SET_MENTIONS_TAB"})),{},{loadMoreHandler(){this.showEmptyState||this.loadNoti()},resetLoadMore(){this.$refs.loadMore&&this.$refs.loadMore.reset()},onAllClick(){this.isMentionsTab&&this.setMentionsTab(!1),this.track("Noti","TapAllTab")},onMentionsClick(){this.isMentionsTab||this.setMentionsTab(!0),this.track("Noti","TapMentionsTab")},scrollToTop(){this.$refs.list&&this.$refs.list.scrollTo(0,0)}}),created(){this.isMentionsTab&&this.setMentionsTab(!1),this.initLoadingState&&this.loadNoti()},components:{NotiItem:Ic,LoadMore:xt.Z},render:function(e,t,s,r,o,i){const n=(0,G.up)("NotiItem"),a=(0,G.up)("LoadMore");return(0,G.wg)(),(0,G.j4)("div",ac,[(0,G.Wm)("div",cc,[(0,G.Wm)("a",{href:"javascript:void(0)",class:{active:!e.isMentionsTab},onClick:t[1]||(t[1]=(0,ge.iM)((...e)=>i.onAllClick&&i.onAllClick(...e),["stop"]))}," All ",2),(0,G.Wm)("a",{href:"javascript:void(0)",class:{active:e.isMentionsTab},onClick:t[2]||(t[2]=(0,ge.iM)((...e)=>i.onMentionsClick&&i.onMentionsClick(...e),["stop"]))}," Mentions ",2)]),(0,G.Wm)("div",lc,[(0,G.Wm)("ul",dc,[i.showEmptyState?((0,G.wg)(),(0,G.j4)("li",uc,[(0,G.Wm)("div",pc,[(0,G.Wm)("p",null,(0,F.zw)(i.emptyStateMessage),1)])])):i.initLoadingState?((0,G.wg)(),(0,G.j4)("li",hc,[mc])):((0,G.wg)(),(0,G.j4)(G.HY,{key:2},[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(e.notiItems,e=>((0,G.wg)(),(0,G.j4)(n,{item:e,key:e.id},null,8,["item"]))),128)),(0,G.Wm)(a,{ref:"loadMore",onLoadMore:i.loadMoreHandler,root:e.$refs.list},null,8,["onLoadMore","root"]),i.showLoadingSpinner?((0,G.wg)(),(0,G.j4)("div",gc)):(0,G.ry)("",!0)],64))])],512)])}},jc={class:"popup-menu search-menu"},Nc={class:"headbar-search"},Rc=(0,G.Wm)("i",{class:"search-icon"},null,-1),Mc={class:"headbar-search-suggest"},xc={key:0},Wc={class:"count"};var Vc=s(6296).default,Bc=s(6810).default;function Gc(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Fc(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Gc(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Gc(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const $c={mixins:[Ke.Z],data:()=>({input:"",selectIndex:0,suggestedTags:[]}),watch:{selectIndex(e,t){e!==t&&(-1===e&&(this.selectIndex=this.suggestedTags.length),this.onSuggest())}},computed:{selectedTag(){return this.suggestedTags[this.selectIndex-1]||null},searchUrl(){return this.selectedTag?this.selectedTag.url:Vc.getSearchUrl(this.input)}},methods:{submitSearch(){this.$router.push(this.searchUrl),this.track("Search","SubmitSearch",{Element:"NavigationBarInputBox"})},onInput(e){this.input=e.target.value.trim(),this.selectIndex=0,this.autoComplete()},onSuggest(){this.selectedTag?this.$refs.query.value=this.selectedTag.value:(this.selectIndex=0,this.$refs.query.value=this.input)},async _autoComplete(){if(this.input.length){const e=await Bc.getTagSuggestions(this.input);this.suggestedTags=e.map(e=>{var t=Vc.getTagUrl(e.value,"search"),s=Vc.integerWithCommas(e.count);return Fc(Fc({},e),{},{url:t,count:s})})}}},created(){this.autoComplete=o()(this._autoComplete,250),this.autoComplete()},mounted(){this.$refs.query.focus()},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("div",jc,[(0,G.Wm)("form",{action:"/search",onSubmit:t[4]||(t[4]=(0,ge.iM)((...e)=>i.submitSearch&&i.submitSearch(...e),["prevent"]))},[(0,G.Wm)("div",Nc,[Rc,(0,G.Wm)("input",{type:"text",name:"query",ref:"query",autocomplete:"off",onInput:t[1]||(t[1]=(...e)=>i.onInput&&i.onInput(...e)),onKeyup:[t[2]||(t[2]=(0,ge.D2)(e=>o.selectIndex++,["down"])),t[3]||(t[3]=(0,ge.D2)(e=>o.selectIndex--,["up"]))],placeholder:"Searchâ€¦"},null,544)]),(0,G.Wm)("div",Mc,[0<o.input.length?((0,G.wg)(),(0,G.j4)("ul",xc,[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(o.suggestedTags,e=>((0,G.wg)(),(0,G.j4)("li",null,[(0,G.Wm)("a",{href:e.url},[(0,G.Wm)("span",{class:"suggested",innerHTML:e.highlighted},null,8,["innerHTML"]),(0,G.Wm)("span",Wc,(0,F.zw)(e.count),1)],8,["href"])]))),256))])):(0,G.ry)("",!0)])],32)])}},Zc=(0,G.HX)("data-v-0730717f");(0,G.dD)("data-v-0730717f");const Hc={key:0,class:"board-system__new-messages"};(0,G.Cn)();it=Zc((e,t,s,r,o,i)=>{const n=(0,G.up)("IconMessage"),a=(0,G.up)("IconBase");return(0,G.wg)(),(0,G.j4)("button",{class:["board-system__too-nav-button",i.buttonClass],onClick:t[1]||(t[1]=(...e)=>i.toggleBoard&&i.toggleBoard(...e))},[(0,G.Wm)(a,{"icon-name":"Boards",width:20,height:20},{default:Zc(()=>[(0,G.Wm)(n)]),_:1}),e.hasNewUpdates?((0,G.wg)(),(0,G.j4)("span",Hc)):(0,G.ry)("",!0)],2)}),xt=s(7153);const Kc={d:"M19 4H17V13H4V15C4 15.55 4.45 16 5 16H16L20 20V5C20 4.45 19.55 4 19 4ZM15 10V1C15 0.45 14.55 0 14 0H1C0.45 0 0 0.45 0 1V15L4 11H14C14.55 11 15 10.55 15 10Z"},zc={render:function(e,t){return(0,G.wg)(),(0,G.j4)("path",Kc)}};var Yc=s(3257),qc=s(5652).default;function Xc(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Jc(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Xc(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Xc(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapGetters:Qc,mapActions:el}=(0,X._p)("boards"),tl={name:"TopNavBoardButton",components:{IconBase:xt.Z,IconMessage:zc},computed:Jc(Jc({},Qc({currentState:be.$j,hasNewUpdates:be.P1})),{},{buttonClass(){return"opened"===this.currentState?"active":"closed"}}),methods:Jc(Jc({},el({setState:be.M_})),{},{toggleBoard(){var e="opened"===this.currentState?"closed":"opened";this.setState(e),qc.track(Yc.R.NAVIGATION_BAR,Yc.e.TAP_BOARD)}})};s(9476),tl.render=it,tl.__scopeId="data-v-0730717f";it=tl;function sl(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function rl(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?sl(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):sl(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapActions:ol,mapState:il}=(0,X._p)("app"),{mapGetters:nl,mapState:al,mapActions:cl}=(0,X._p)("user"),{mapGetters:ll,mapActions:dl,mapMutations:ul,mapState:pl}=(0,X._p)("noti"),hl="user",ml="noti",gl="search",fl=[hl,ml,gl],yl={mixins:[Ke.Z],directives:{ClickOutside:Wt},data:()=>({showMenu:{user:!1,noti:!1,search:!1}}),computed:rl(rl(rl(rl(rl(rl({},il(["darkMode"])),al(["init"])),nl({isLoggedIn:"IS_LOGGED_IN",user:"USER"})),ll({_notiUnreadCount:"NOTI_UNREAD_COUNT"})),pl({showNotiMenu:e=>e.showDropdown})),{},{notiUnreadCount(){return Math.min(this._notiUnreadCount,99)},showGuest(){return this.init&&!this.isLoggedIn},showUser(){return this.init&&this.isLoggedIn},showUserMenu(){return this.showMenu.user},showSearchMenu(){return this.showMenu.search},profileUrl(){return`/u/${this.user.username}`}}),methods:rl(rl(rl(rl(rl({},ol({_toggleDarkMode:"TOGGLE_DARK_MODE"})),dl({updateNotiReadState:"UPDATE_NOTI_READ_STATE"})),ul({_showNotiMenu:"SHOW_DROPDOWN",_hideNotiMenu:"HIDE_DROPDOWN"})),cl({clearUserInfo:"CLEAR_USER_INFO"})),{},{toggleMenu(e){var t=this.showMenu[e];this.hideMenu(),this.showMenu=rl(rl({},this.showMenu),{},{[e]:!t})},hideMenu(){const t={};fl.forEach(e=>{t[e]=!1,e===ml&&this._hideNotiMenu()}),this.showMenu=t},toggleDarkMode(){this._toggleDarkMode(),this.track("NavigationBar","TapDarkMode")},clickSearch(){this.toggleMenu(gl),this.track("NavigationBar","TapSearch")},clickLogin(){C.Z.$emit("Overlay::showLogin"),this.track("NavigationBar","TapLogin")},clickSignup(){C.Z.$emit("Overlay::showSignupSocial"),this.track("NavigationBar","TapSignUp")},clickLogout(){this.clearUserInfo(),this.track("NavigationBar","TapLogout")},clickUpload(){C.Z.$emit("nav::clickUpload"),this.track("UploadAction","TapUpload")},clickUserMenu(){this.toggleMenu(hl),this.track("NavigationBar","TapAvatar")},clickNotiMenu(){this.showNotiMenu?this.hideNotiMenu():(this.toggleMenu(ml),this._showNotiMenu(),this.track("Noti","OpenNotiMenu"),this.updateNotiReadState(),ni.refreshPageTitle())},hideNotiMenu(){this.hideMenu(),this._hideNotiMenu()}}),created(){C.Z.$on("nav::hideMenu",this.hideMenu)},components:{TopNavNoti:Lc,TopNavSearch:$c,TopNavBoardButton:it},render:function(t,e,s,r,o,i){var n=(0,G.up)("TopNavSearch"),a=(0,G.up)("TopNavBoardButton"),c=(0,G.up)("TopNavNoti"),l=(0,G.Q2)("click-outside");return(0,G.wg)(),(0,G.j4)("div",Xa,[(0,G.Wm)("div",Ja,[(0,G.Wm)("a",{class:["darkmode-toggle",{active:t.darkMode}],href:"javascript:void(0);",onClick:e[1]||(e[1]=(...e)=>i.toggleDarkMode&&i.toggleDarkMode(...e))},"Dark mode",2),(0,G.Wm)("a",{class:["search",{selected:i.showSearchMenu}],href:"javascript:void(0);",onClick:e[2]||(e[2]=(0,ge.iM)((...e)=>i.clickSearch&&i.clickSearch(...e),["stop"]))},"Search",2),i.showSearchMenu?(0,G.wy)(((0,G.wg)(),(0,G.j4)(n,{key:0},null,512)),[[l,i.hideMenu]]):(0,G.ry)("",!0)]),(0,G.wy)((0,G.Wm)("div",Qa,[(0,G.Wm)(a),(0,G.Wm)("a",{class:"btn-mute",href:"/login",onClick:e[3]||(e[3]=(0,ge.iM)((...e)=>i.clickLogin&&i.clickLogin(...e),["prevent","stop"]))},"Log in"),(0,G.Wm)("a",{class:"btn-primary",href:"/signup",onClick:e[4]||(e[4]=(0,ge.iM)((...e)=>i.clickSignup&&i.clickSignup(...e),["prevent","stop"]))},"Sign up")],512),[[ge.F8,i.showGuest]]),(0,G.wy)((0,G.Wm)("div",ec,[(0,G.Wm)("div",{class:"notification",onClick:e[5]||(e[5]=(0,ge.iM)((...e)=>i.clickNotiMenu&&i.clickNotiMenu(...e),["prevent","stop"]))},[(0,G.Wm)("a",{class:["bell",{selected:t.showNotiMenu}],href:"/notifications"},null,2),0<i.notiUnreadCount?((0,G.wg)(),(0,G.j4)("div",tc,(0,F.zw)(i.notiUnreadCount),1)):(0,G.ry)("",!0)]),t.showNotiMenu?(0,G.wy)(((0,G.wg)(),(0,G.j4)(c,{key:0},null,512)),[[l,i.hideNotiMenu]]):(0,G.ry)("",!0),(0,G.Wm)(a),(0,G.Wm)("div",sc,[(0,G.Wm)("a",{class:"avatar-container",href:i.profileUrl,onClick:e[6]||(e[6]=(0,ge.iM)((...e)=>i.clickUserMenu&&i.clickUserMenu(...e),["prevent","stop"]))},[(0,G.Wm)("img",{src:t.user.avatarUrl,alt:"Avatar"},null,8,["src"])],8,["href"])]),i.showUserMenu?(0,G.wy)(((0,G.wg)(),(0,G.j4)("div",rc,[(0,G.Wm)("ul",{onClick:e[11]||(e[11]=(...e)=>i.hideMenu&&i.hideMenu(...e))},[(0,G.Wm)("li",null,[(0,G.Wm)("a",{href:i.profileUrl,onClick:e[7]||(e[7]=e=>t.track("NavigationBar","TapProfile"))},"My Profile",8,["href"])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{href:"/settings",onClick:e[8]||(e[8]=e=>t.track("NavigationBar","TapSettings"))},"Settings")]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{class:"small-phone",href:"/apps",onClick:e[9]||(e[9]=e=>t.track("NavigationBar","TapApps")),target:"_blank"},[oc,ic])]),(0,G.Wm)("li",null,[(0,G.Wm)("a",{href:"/logout",onClick:e[10]||(e[10]=(...e)=>i.clickLogout&&i.clickLogout(...e))},"Logout")])])],512)),[[l,i.hideMenu]]):(0,G.ry)("",!0),(0,G.Wm)("div",nc,[(0,G.Wm)("a",{class:"btn-primary",href:"/submit",onClick:e[12]||(e[12]=(0,ge.iM)((...e)=>i.clickUpload&&i.clickUpload(...e),["prevent","stop"]))},"Upload")])],512),[[ge.F8,i.showUser]])])}},Ol={class:"announcement-banner yellow"},bl=(0,G.Wm)("a",{href:"/member/resend-confirmation"},"resend it",-1),vl=(0,G.Uk)(" or you can "),_l=(0,G.Wm)("a",{href:"/settings"},"change your email address",-1),Sl=(0,G.Uk)(". "),Tl={props:{username:String},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("section",Ol,[(0,G.Wm)("p",null,[(0,G.Uk)(" Hey "+(0,F.zw)(s.username)+", please verify your email address. If you didn't receive an email, we can ",1),bl,vl,_l,Sl])])}};function wl(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Pl(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?wl(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):wl(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Il=(0,X._p)("app")["mapActions"],El=(0,X._p)("user")["mapGetters"],{}=(0,X._p)("config"),Al={mixins:[Ke.Z],components:{TopNavLinks:qa,TopNavFunctions:yl,TopNavBanner:Tl},emits:["toggleDrawer"],watch:{showBanner(){this.calculateNavHeight()}},computed:Pl(Pl({},El({isLoggedIn:"IS_LOGGED_IN",user:"USER"})),{},{showBanner(){return this.isLoggedIn&&!this.user.verified}}),methods:Pl(Pl({},Il({updateTopNavHeight:"UPDATE_TOP_NAV_HEIGHT"})),{},{calculateNavHeight(){this.$nextTick(()=>{var e=this.$refs.nav.offsetHeight;this.updateTopNavHeight(e)})},toggleDrawer(){this.$emit("toggleDrawer")}}),mounted(){this.calculateNavHeight()},render:function(t,e,s,r,o,i){var n=(0,G.up)("TopNavLinks"),a=(0,G.up)("TopNavFunctions"),c=(0,G.up)("TopNavBanner");return(0,G.wg)(),(0,G.j4)("header",Fa,[(0,G.Wm)("div",$a,[(0,G.Wm)("a",{class:"menu",href:"javascript:void(0);",onClick:e[1]||(e[1]=(0,ge.iM)((...e)=>i.toggleDrawer&&i.toggleDrawer(...e),["stop"]))}),(0,G.Wm)("a",{class:"logo",href:"/",onClick:e[2]||(e[2]=e=>t.track("NavigationBar","TapLogo"))},"9GAG"),(0,G.Wm)(n),(0,G.Wm)(a)]),i.showBanner?((0,G.wg)(),(0,G.j4)(c,{key:0,username:t.user.username},null,8,["username"])):(0,G.ry)("",!0)],512)}};var kl=s(2262),it={name:"VueProgress",extends:s(9775).Z,computed:{progress(){return this.$Progress.$vm.RADON_LOADING_BAR}}};function Dl(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Cl(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Dl(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Dl(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Ul={install:function(e,t={}){var s="undefined"!=typeof window;let r={$vm:null,state:{tFailColor:"",tColor:"",timer:null,cut:0},init(e){this.$vm=e},start(e){this.$vm&&(e=e||3e3,this.$vm.RADON_LOADING_BAR.percent=0,this.$vm.RADON_LOADING_BAR.options.show=!0,this.$vm.RADON_LOADING_BAR.options.canSuccess=!0,this.state.cut=1e4/Math.floor(e),clearInterval(this.state.timer),this.state.timer=setInterval(()=>{this.increase(this.state.cut*Math.random()),95<this.$vm.RADON_LOADING_BAR.percent&&this.$vm.RADON_LOADING_BAR.options.autoFinish&&this.finish()},100))},set(e){this.$vm.RADON_LOADING_BAR.options.show=!0,this.$vm.RADON_LOADING_BAR.options.canSuccess=!0,this.$vm.RADON_LOADING_BAR.percent=Math.floor(e)},get(){return Math.floor(this.$vm.RADON_LOADING_BAR.percent)},increase(e){this.$vm.RADON_LOADING_BAR.percent=Math.min(99,this.$vm.RADON_LOADING_BAR.percent+Math.floor(e))},decrease(e){this.$vm.RADON_LOADING_BAR.percent=this.$vm.RADON_LOADING_BAR.percent-Math.floor(e)},hide(){clearInterval(this.state.timer),this.state.timer=null,setTimeout(()=>{(this.$vm.RADON_LOADING_BAR.options.show=!1,G.Y3)(()=>{setTimeout(()=>{this.$vm.RADON_LOADING_BAR.percent=0},100)})},this.$vm.RADON_LOADING_BAR.options.transition.termination)},pause(){clearInterval(this.state.timer)},finish(){this.$vm&&(this.$vm.RADON_LOADING_BAR.percent=100,this.hide())},fail(){this.$vm.RADON_LOADING_BAR.options.canSuccess=!1,this.$vm.RADON_LOADING_BAR.percent=100,this.hide()}};t=Cl(Cl({},{canSuccess:!0,show:!1,color:"#73ccec",position:"fixed",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1,autoFinish:!0}),t),t=(0,kl.qj)({RADON_LOADING_BAR:{percent:0,options:t}});s&&r.init(t),e.config.globalProperties.$Progress=r}};var Ll=s(1653),jl=s(45).default;var Nl=s(3063),Rl=s(5670).default,Ml=s(2662).default,xl=Nl.extend({},new A.Z,{DELAY:1e3,INIT_DELAY:2e3,_lastBadgetTs:!1,_minBadgeInterval:5e3,_regularLongPollingInterval:18e4,_checkUpdateQueueInterval:1e3,_isRequestingUpdate:!1,init:function(){},onWindowLoad:function(){_.Z.isLoggedIn()&&setTimeout(Nl.proxy(function(){this._initPush(),this._initBadgeUpdate()},this),this.INIT_DELAY)},selectors:{NOTIFICATION_UNREAD_COUNT:"#jsid-notification-unread-count"},_pullNotificatons:function(e){Nl(this.selectors.NOTIFICATION_UNREAD_COUNT)&&this.putToUpdateQueue(e)},_initPush:function(){var e={host:jl.get("configs.noti.pushHost"),modes:"websocket",useSSL:!0},t=new PushStream(e);t.onmessage=function(e,t,s){s={type:"noti",message:e,id:t,channel:s};Rl.log(s),xl._pullNotificatons(s)};var s=B.Z.getters["noti/NOTI_OPTIONS"]["pushChannels"];if(s instanceof Array)for(var r=0;r<s.length;r++)t.addChannel(s[r]),Rl.log(s[r]);t.connect()},_updateQueue:[],putToUpdateQueue:function(e){this._updateQueue.push(e)},getNsReadStateCb:function(e){this._isRequestingUpdate=!1,this._lastBadgetTs=(new Date).getTime(),e&&"OK"===e.status&&(e=e.payload,Ml.PageController.getNotiUnreadCount()!==e.unreadCount&&(B.Z.commit("noti/SET_READ_STATE",e),B.Z.dispatch("noti/REFRESH_NOTI"),Ml.PageController.refreshPageTitle()))},_getNsReadState:function(){var{readStateUrl:e,readStateParams:t}=B.Z.getters["noti/NOTI_OPTIONS"],t=`${e}?${t}`;this._isRequestingUpdate=!0,Nl.ajax({url:t,type:"GET",dataType:"json",success:function(e){xl.getNsReadStateCb(e)}})},getNotificationBadge:function(){if(!this._isRequestingUpdate)return this._getNsReadState()},checkUpdateQueue:function(){0<this._updateQueue.length&&(this._updateQueue=[],this.getNotificationBadge())},processUpdateQueue:function(){var e=(new Date).getTime();(!this._lastBadgetTs||e-this._lastBadgetTs>=this._minBadgeInterval)&&this.checkUpdateQueue()},addRegularLongPolling:function(){this.putToUpdateQueue({})},scheduleRegularLongPolling:function(){this.addRegularLongPolling(),this._regularLongPollingInterval=1.5*this._regularLongPollingInterval,setTimeout(this.scheduleRegularLongPolling.bind(this),this._regularLongPollingInterval)},_initBadgeUpdate:function(){setInterval(this.processUpdateQueue.bind(this),this._checkUpdateQueueInterval),setTimeout(this.scheduleRegularLongPolling.bind(this),this._regularLongPollingInterval)}});const Wl=xl;var Vl=s(5652).default;function Bl(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Gl(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Bl(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Bl(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapActions:Fl,mapState:$l}=(0,X._p)("app"),Zl=(0,X._p)("privacy")["mapActions"],{mapGetters:Hl,mapActions:Kl}=(0,X._p)("user"),zl=(0,X._p)("config")["mapGetters"],Yl={components:{VueProgress:it},computed:Gl(Gl(Gl({},$l(["topNavHeight"])),Hl({isLoggedIn:"IS_LOGGED_IN",user:"USER"})),zl({getConfig:"GET_CONFIG",cookieDomain:"COOKIE_DOMAIN"})),methods:Gl(Gl(Gl(Gl({},Fl({updateSignupReferrer:"UPDATE_SIGNUP_REFERRER",checkDarkMode:"CHECK_DARK_MODE"})),Kl({setUserInfo:"SET_USER_INFO",clearUserInfo:"CLEAR_USER_INFO",setUserInitCompleted:"SET_INIT"})),Zl({initPrivacyCheck:Dt.Lm.INIT_PRIVACY_CHECK})),{},{async initUser(){Oo.Z.shouldClearUserInfo(this.cookieDomain)&&await this.clearUserInfo(),Oo.Z.hasSession()&&!this.isLoggedIn&&await this.setUserInfo(),this.isLoggedIn&&(this.updateTrackUser(this.user),Wl.getNotificationBadge(),me.initialize()),Ll.default.trackPageView(),this.setUserInitCompleted()},updateTrackUser(e){var{accountId:t,hashId:s,username:e}=e;Ll.default.setUserId(t),i.default.setUsername(e),Vl.setUserId(s)},initProgressbar(){this.$.appContext.app.use(Ul,{color:"#09f",thickness:"4px",transition:{speed:"0.6s cubic-bezier(1,.01,.75,.91)",opacity:"0.4s",termination:800},autoRevert:!1}),C.Z.$on("progress::show",()=>{this.$Progress.set(80)}),C.Z.$on("progress::finish",()=>{this.$Progress.finish()})}}),created(){this.initProgressbar(),this.initUser(),this.initPrivacyCheck()},mounted(){this.$nextTick(()=>{this.checkDarkMode(),this.isLoggedIn||this.updateSignupReferrer()})},render:function(e,t,s,r,o,i){var n=(0,G.up)("VueProgress");return(0,G.wg)(),(0,G.j4)(n)}},ql=(0,G.HX)("data-v-eefdc8e4")((e,t,s,r,o,i)=>{var n=(0,G.Q2)("observe-visibility");return o.adContainer&&!o.collapsed?((0,G.wg)(),(0,G.j4)("div",{key:0,class:["billboard",{sticky:i.isSticky}],ref:"container"},[(0,G.wy)((0,G.Wm)("div",{id:i.adContainerId,ref:"billboard"},null,8,["id"]),[[n,!(!s.lazyload||o.rendered)&&{callback:i.lazyloadAd,throttle:1e3}]])],2)):(0,G.ry)("",!0)});var it=s(4347),Xl=s(9012).default,Jl=s(5670).default;function Ql(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function ed(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ql(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ql(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const td=(0,X._p)("app")["mapState"],sd={directives:{ObserveVisibility:it.Sq},props:{lazyload:{type:Boolean,default:!0}},data:()=>({adContainer:null,collapsed:!1,rendered:!1,renderCallbacked:!1,pageYOffset:0,sticked:!1,stickOpacity:1}),watch:{$route(e,t){this.collapsed=!1,this.rendered=!1,this.renderCallbacked=!1,this.pageYOffset=0,this.sticked=!1,this.lazyload||this.renderAd()},stickOpacity(e){e||setTimeout(()=>{this.sticked=!0,this.stickOpacity=1},500)}},methods:{renderAd(){Br.Z.renderAd(this.adContainer,{renderCallback:this.renderCallback.bind(this)}),this.rendered=!0,Xl.addEventListener("scroll",this.handleSticky)},renderCallback(e){this.renderCallbacked=!0,e.isEmpty&&(this.$refs.billboard.style.height="0px",setTimeout(()=>this.collapsed=!0,300))},lazyloadAd(e){Jl.log(`lazyloadAd ${this.adContainerId} isVisible=${e}`),e&&this.renderAd()},_handleSticky(){this.pageYOffset=window.pageYOffset,this.renderCallbacked&&(Xl.removeEventListener("scroll",this.handleSticky),setTimeout(()=>this.stickOpacity=0,1500))}},computed:ed(ed({},td(["topNavHeight"])),{},{stickTop(){return`${this.topNavHeight}px`},isSticky(){return!(this.sticked||!this.renderCallbacked)&&this.pageYOffset>=this.topNavHeight},adContainerId(){return this.adContainer&&this.adContainer.adContainerId||null}}),created(){this.adContainer=Br.Z.getAdContainer("banner_top"),this.handleSticky=o()(this._handleSticky,100)},mounted(){this.lazyload||this.renderAd()},unmounted(){Xl.removeEventListener("scroll",this.handleSticky)}},rd=()=>{(0,ge.sj)(e=>({"6ffc4e5d":e.stickTop,"5ad4c113":e.stickOpacity}))},od=sd.setup;sd.setup=od?(e,t)=>(rd(),od(e,t)):rd;const id=sd;s(43),id.render=ql,id.__scopeId="data-v-eefdc8e4";const nd=id,ad=(0,G.HX)("data-v-5e315454");(0,G.dD)("data-v-5e315454");const cd={key:0,class:"drawer-header"},ld={class:"nav-wrap"};(0,G.Cn)();const dd=ad((t,s,e,r,o,i)=>{var n=(0,G.up)("DrawerHeader"),a=(0,G.up)("DrawerSectionsGroup"),c=(0,G.up)("DrawerFooter");return(0,G.wg)(),(0,G.j4)(G.HY,null,[(0,G.wy)((0,G.Wm)("div",{class:["drawer",{overlay:e.overlayDrawer}]},[e.overlayDrawer?((0,G.wg)(),(0,G.j4)("header",cd,[(0,G.Wm)("div",ld,[(0,G.Wm)("a",{class:"menu",href:"javascript:void(0);",onClick:s[1]||(s[1]=(0,ge.iM)((...e)=>i.hideDrawer&&i.hideDrawer(...e),["stop"]))}),(0,G.Wm)("a",{class:"logo",href:"/",onClick:s[2]||(s[2]=e=>t.track("NavigationBar","TapLogo"))},"9GAG")])])):(0,G.ry)("",!0),(0,G.Wm)("div",{class:["drawer-container",{overlay:e.overlayDrawer}]},[(0,G.Wm)(n,{activeSection:i.activeSection},null,8,["activeSection"]),0<Object.keys(t.favoriteSections).length?((0,G.wg)(),(0,G.j4)(a,{key:0,header:"Favorites",isFavorite:!0,sections:t.favoriteSections,activeSection:i.activeSection},null,8,["sections","activeSection"])):(0,G.ry)("",!0),0<Object.keys(o.recentSections).length?((0,G.wg)(),(0,G.j4)(a,{key:1,header:"Recents",isRecent:!0,sections:o.recentSections,activeSection:i.activeSection},{customHeader:ad(({header:e})=>[(0,G.Wm)("header",null,[(0,G.Wm)("h3",null,(0,F.zw)(e),1),(0,G.Wm)("a",{href:"javascript:void(0);",class:"button-clear",onClick:s[3]||(s[3]=(0,ge.iM)((...e)=>i.onClearRecentVisitSectionsClick&&i.onClearRecentVisitSectionsClick(...e),["prevent"]))}," Clear ")])]),_:1},8,["sections","activeSection"])):(0,G.ry)("",!0),0<Object.keys(t.featuredSections).length?((0,G.wg)(),(0,G.j4)(a,{key:2,header:"Popular",sections:t.featuredSections,activeSection:i.activeSection},null,8,["sections","activeSection"])):(0,G.ry)("",!0),0<Object.keys(t.normalSections).length?((0,G.wg)(),(0,G.j4)(a,{key:3,header:"All Sections",sections:t.normalSections,activeSection:i.activeSection},null,8,["sections","activeSection"])):(0,G.ry)("",!0),(0,G.Wm)(c)],2)],2),[[ge.F8,e.showDrawer]]),e.overlayDrawer?((0,G.wg)(),(0,G.j4)("div",{key:0,class:"drawer-overlay",onClick:s[4]||(s[4]=(0,ge.iM)((...e)=>i.hideDrawer&&i.hideDrawer(...e),["stop"]))})):(0,G.ry)("",!0)],64)}),ud=(0,G.Wm)("header",null,[(0,G.Wm)("h3",null,"9GAG")],-1),pd=(0,G.HX)("data-v-1d880238");(0,G.dD)("data-v-1d880238");const hd={key:1,class:"thumbnail"};(0,G.Cn)();const md=pd((e,t,s,r,o,i)=>((0,G.wg)(),(0,G.j4)("a",{href:`/${s.url||s.section.url}`,class:"label"},[s.iconClass?((0,G.wg)(),(0,G.j4)("i",{key:0,class:["icon",s.iconClass]},null,2)):((0,G.wg)(),(0,G.j4)("i",hd,[(0,G.Wm)("picture",null,[(0,G.Wm)("source",{srcset:s.section.ogWebpUrl||s.section.webpUrl,type:"image/webp"},null,8,["srcset"]),(0,G.Wm)("img",{src:s.section.ogImageUrl||s.section.imageUrl,loading:"lazy"},null,8,["src"])])])),(0,G.Uk)(" "+(0,F.zw)(s.section.name),1)],8,["href"]))),gd={props:["url","section","iconClass"]};s(3152),gd.render=md,gd.__scopeId="data-v-1d880238";const fd=gd,yd=(0,G.HX)("data-v-4440d510")((e,t,s,r,o,i)=>{var n=(0,G.Q2)("click-outside");return(0,G.wg)(),(0,G.j4)(G.HY,null,[(0,G.Wm)("a",{class:"button",href:"javascript:void(0);",onClick:t[1]||(t[1]=(0,ge.iM)((...e)=>i.toggleMenu&&i.toggleMenu(...e),["stop"]))},[(0,G.Wm)("i",{class:[{active:o.showMenu},"icon more"]},null,2)]),o.showMenu?(0,G.wy)(((0,G.wg)(),(0,G.j4)("div",{key:0,class:"menu",onClick:t[2]||(t[2]=(...e)=>i.hideMenu&&i.hideMenu(...e))},[(0,G.WI)(e.$slots,"default")],512)),[[n,i.hideMenu]]):(0,G.ry)("",!0)],64)}),Od={mixins:[Ke.Z],directives:{ClickOutside:Wt},data:()=>({showMenu:!1}),methods:{toggleMenu(){this.showMenu=!this.showMenu},hideMenu(){this.showMenu=!1}}};s(143),Od.render=yd,Od.__scopeId="data-v-4440d510";it=Od;function bd(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function vd(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?bd(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):bd(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const _d=(0,X._p)("section")["mapGetters"],Sd={mixins:[Ke.Z],props:["activeSection"],components:{DrawerMenuItem:fd,DrawerPopupMenu:it},computed:vd(vd({},_d({localSections:"GET_LOCAL_SECTIONS",geoSection:"GET_GEO_SECTION"})),{},{localSection(){return this.localSections[this.activeSection]||this.geoSection}}),methods:{clickLocal(e){this.track("SectionSidebar","TapLocal",{SectionName:e})},isSelected(e){return e===this.activeSection}},render:function(e,t,s,r,o,i){var n=(0,G.up)("DrawerMenuItem"),a=(0,G.up)("DrawerPopupMenu");return i.localSection?((0,G.wg)(),(0,G.j4)("li",{key:0,class:{selected:i.isSelected(i.localSection.url)}},[(0,G.Wm)(n,{section:i.localSection,onClick:t[1]||(t[1]=e=>i.clickLocal(i.localSection.name))},null,8,["section"]),1<Object.keys(e.localSections).length?((0,G.wg)(),(0,G.j4)(a,{key:0},{default:(0,G.w5)(()=>[(0,G.Wm)("ul",null,[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(e.localSections,t=>((0,G.wg)(),(0,G.j4)("li",{class:{selected:i.isSelected(t.url)}},[(0,G.Wm)("a",{href:`/${t.url}`,onClick:e=>i.clickLocal(t.name)},(0,F.zw)(t.name),9,["href","onClick"])],2))),256))])]),_:1})):(0,G.ry)("",!0)],2)):(0,G.ry)("",!0)}};function Td(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function wd(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Td(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Td(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Pd=(0,X._p)("section")["mapGetters"],Id={mixins:[Ke.Z],components:{DrawerMenuItem:fd},computed:wd(wd({},Pd({interests:"GET_INTERESTS"})),{},{activeInterest(){return this.$route.params.interest}}),methods:{clickSection(e){this.track("SectionSidebar","TapInterest",{InterestName:e.name})}},render:function(e,t,s,r,o,i){const n=(0,G.up)("DrawerMenuItem");return(0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(e.interests,(t,e)=>((0,G.wg)(),(0,G.j4)("li",{class:{selected:e===i.activeInterest}},[(0,G.Wm)(n,{section:t,url:`interest/${e}`,onClick:e=>i.clickSection(t)},null,8,["section","url","onClick"])],2))),256)}},Ed=[{name:"Hot",url:"hot",action:"Hot"},{name:"Trending",url:"trending",action:"Trending"},{name:"Fresh",url:"fresh",action:"Fresh"}],Ad={mixins:[Ke.Z],props:["activeSection"],data:()=>({sectionList:Ed}),components:{DrawerLocal:Sd,DrawerInterests:Id,DrawerMenuItem:fd,DrawerPopupMenu:it},methods:{clickPopular(e){this.track("SectionSidebar",`Tap${e}`,"")},isHotFeed(e=null){return"hot"===this.activeSection&&this.$route.query.sort==e}},render:function(e,s,r,t,o,i){const n=(0,G.up)("DrawerMenuItem"),a=(0,G.up)("DrawerPopupMenu"),c=(0,G.up)("DrawerLocal"),l=(0,G.up)("DrawerInterests");return(0,G.wg)(),(0,G.j4)("section",null,[ud,(0,G.Wm)("ul",null,[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(o.sectionList,t=>((0,G.wg)(),(0,G.j4)("li",{class:{selected:t.url===r.activeSection}},[(0,G.Wm)(n,{section:t,iconClass:t.url,onClick:e=>i.clickPopular(t.action)},null,8,["section","iconClass","onClick"]),"hot"===t.url?((0,G.wg)(),(0,G.j4)(a,{key:0},{default:(0,G.w5)(()=>[(0,G.Wm)("ul",null,[(0,G.Wm)("li",{class:{selected:i.isHotFeed()}},[(0,G.Wm)("a",{href:"/hot",onClick:s[1]||(s[1]=e=>i.clickPopular("DefaultHot"))},"Top Posts")],2),(0,G.Wm)("li",{class:{selected:i.isHotFeed("time")}},[(0,G.Wm)("a",{href:"/hot?sort=time",onClick:s[2]||(s[2]=e=>i.clickPopular("MostRecentHot"))},"Most Recent")],2)])]),_:1})):(0,G.ry)("",!0)],2))),256)),(0,G.Wm)(c,{activeSection:r.activeSection},null,8,["activeSection"]),(0,G.Wm)(l)])])}},kd=(0,G.HX)("data-v-ce2f980a");(0,G.dD)("data-v-ce2f980a");const Dd=(0,G.Wm)("i",{class:"icon star"},null,-1),Cd=(0,G.Wm)("i",{class:"icon close"},null,-1);(0,G.Cn)();Wt=kd((e,t,s,r,o,i)=>{const n=(0,G.up)("DrawerMenuItem");return(0,G.wg)(),(0,G.j4)("section",null,[(0,G.WI)(e.$slots,"customHeader",{header:s.header},()=>[(0,G.Wm)("header",null,[(0,G.Wm)("h3",null,(0,F.zw)(s.header),1)])],!0),(0,G.Wm)("ul",null,[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(s.sections,t=>((0,G.wg)(),(0,G.j4)("li",{class:{selected:i.isActive(t.url)}},[(0,G.Wm)(n,{section:t,class:{short:s.isRecent},onClick:e=>i.clickSection(t)},null,8,["section","class","onClick"]),(0,G.Wm)("a",{onClick:e=>i.clickFavorite(t),class:["button",{favorite:s.isFavorite}],href:"javascript:void(0)"},[Dd],10,["onClick"]),s.isRecent?((0,G.wg)(),(0,G.j4)("a",{key:0,onClick:e=>i.clickRemoveRecent(t),class:"button remove",href:"javascript:void(0)"},[Cd],8,["onClick"])):(0,G.ry)("",!0)],2))),256))])])});function Ud(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Ld(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ud(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ud(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const jd=(0,X._p)("section")["mapActions"],Nd={mixins:[Ke.Z],props:["header","isFavorite","isRecent","sections","activeSection"],components:{DrawerMenuItem:fd},methods:Ld(Ld({},jd({addRecentVisitSection:Dt.bQ.ADD_RECENT_VISIT_SECTION,favoriteSection:Dt.bQ.FAVORITE_SECTION,unfavoriteSection:Dt.bQ.UNFAVORITE_SECTION,removeRecentVisitSection:Dt.bQ.REMOVE_RECENT_VISIT_SECTION})),{},{clickRemoveRecent(e){this.track("SectionSidebar","TapRemoveRecent",{SectionName:e.name}),this.removeRecentVisitSection(e.url)},clickSection(e){var t=this.isFavorite?"TapFavorite":"TapSection";this.track("SectionSidebar",t,{SectionName:e.name}),this.addRecentVisitSection(e.url)},clickFavorite(e){this.isFavorite?(this.unfavoriteSection(e.url),this.track("SectionSidebar","UnfavoriteSection",{SectionName:e.name})):(this.favoriteSection(e.url),this.track("SectionSidebar","FavoriteSection",{SectionName:e.name}))},isActive(e){return this.activeSection===e}})};s(7732),Nd.render=Wt,Nd.__scopeId="data-v-ce2f980a";const Rd=Nd,Md=(0,G.HX)("data-v-342ea4ad");(0,G.dD)("data-v-342ea4ad");const xd={class:"drawer-footer"},Wd=(0,G.uE)('<p class="static" data-v-342ea4ad><a target="_blank" href="/advertise" data-v-342ea4ad>Advertise</a><a target="_blank" href="/rules" data-v-342ea4ad>Rules</a><a target="_blank" href="/tips" data-v-342ea4ad>Tips</a><a target="_blank" href="/faq" data-v-342ea4ad>FAQ</a><a target="_blank" href="/tos" data-v-342ea4ad>Terms</a><a target="_blank" href="/privacy" data-v-342ea4ad>Privacy</a><a target="_blank" href="/copyright" data-v-342ea4ad>Copyright</a><a target="_blank" href="/jobs" data-v-342ea4ad>Jobs</a><a target="_blank" href="/contact" data-v-342ea4ad>Contact</a><a target="_blank" href="/feedback" data-v-342ea4ad>Feedback</a><a target="_blank" href="/report-bad-ads" data-v-342ea4ad>Report Bad Ads</a></p>',1),Vd={key:0,class:"static"},Bd={class:"static"};(0,G.Cn)();const Gd=Md((e,t,s,r,o,i)=>((0,G.wg)(),(0,G.j4)("section",xd,[Wd,o.gdprApplies?((0,G.wg)(),(0,G.j4)("p",Vd,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.showQuantcastCMP&&i.showQuantcastCMP(...e))},"Manage consent")])):(0,G.ry)("",!0),(0,G.Wm)("p",Bd,"9GAG Â© "+(0,F.zw)(o.currentYear),1)]))),Fd={data:()=>({currentYear:(new Date).getFullYear(),gdprApplies:!1}),methods:{showQuantcastCMP(){c.Z.displayConsentUi()},async setGdprApplies(){this.gdprApplies=await c.Z.getGdprApplies()}},mounted(){this.setGdprApplies()}};s(5842),Fd.render=Gd,Fd.__scopeId="data-v-342ea4ad";it=Fd;function $d(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Zd(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?$d(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):$d(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapGetters:Hd,mapActions:Kd}=(0,X._p)("section"),zd={mixins:[Ke.Z],props:{showDrawer:{type:Boolean,default:!0},overlayDrawer:{type:Boolean,default:!1}},emits:["hideDrawer"],components:{DrawerHeader:Ad,DrawerSectionsGroup:Rd,DrawerFooter:it},data:()=>({recentSections:[]}),watch:{$route(){this.hideDrawer(),this.recentSections=this.getRecentSections}},computed:Zd(Zd({},Hd({favoriteSections:"GET_FAVORITE_SECTIONS",featuredSections:"GET_FEATURED_SECTIONS",normalSections:"GET_NORMAL_SECTIONS",localSections:"GET_LOCAL_SECTIONS",geoSection:"GET_GEO_SECTION",getRecentSections:"GET_RECENT_VISIT_SECTIONS"})),{},{activeSection(){var{name:e,params:t}=this.$route;return Oe.Z.MAIN_LISTS.includes(e)?t.section||t.type||"hot":""}}),methods:Zd(Zd({},Kd({clearRecentVisitSections:Dt.bQ.CLEAR_RECENT_VISIT_SECTIONS})),{},{hideDrawer(){this.$emit("hideDrawer")},onClearRecentVisitSectionsClick(){window.confirm("Clear all Recents?")&&(this.track("SectionSidebar","TapClearRecents"),this.clearRecentVisitSections(),this.recentSections=this.getRecentSections)}}),created(){this.recentSections=this.getRecentSections}};s(3491),zd.render=dd,zd.__scopeId="data-v-5e315454";const Yd=zd,qd={key:3,id:"signup"},Xd=(0,G.Wm)("h2",null,"Get the app",-1),Jd=(0,G.Wm)("p",{class:"lead"},"9GAG goes wherever you go. Download 9GAG on your device.",-1),Qd={class:"btn-container"},eu={emits:["dismiss"],mixins:[Ke.Z],methods:{clickBtn(e,t){this.track(e,t),this.$emit("dismiss")}},render:function(e,t,s,r,o,i){return(0,G.wg)(),(0,G.j4)("section",null,[Xd,Jd,(0,G.Wm)("div",Qd,[(0,G.Wm)("a",{class:"btn btn-download ios",href:"/ios",onClick:t[1]||(t[1]=e=>i.clickBtn("iOS-Signup-Promote-App","Clicked-Download")),target:"_blank"}," iOS "),(0,G.Wm)("a",{class:"btn btn-download android",href:"/android",onClick:t[2]||(t[2]=e=>i.clickBtn("Android-Signup-Promote-App","Clicked-Download")),target:"_blank"}," Android "),(0,G.Wm)("a",{class:"link",href:"javascript:void(0);",onClick:t[3]||(t[3]=e=>i.clickBtn("Signup-Promote-App-Skip","Clicked"))}," I'll get it later ")])])}},tu={id:"report"},su=(0,G.Wm)("header",null,[(0,G.Wm)("h3",null,"Report"),(0,G.Wm)("p",null,"Choosing the right reason help us process the report as soon as possible.")],-1),ru={class:"spacer"},ou={key:0,class:"reason-picker"},iu={class:"text"},nu={key:1,class:"reason-explain"},au={class:"btn-container"},cu={props:{reportConfig:Object},data:()=>({selectReason:null,selectReportType:null,submitted:!1}),computed:{reportTypes(){switch(this.reportConfig.type){case bt.Z.TYPES.PROFILE:return bt.Z.PROFILE;case bt.Z.TYPES.COMMENT:return bt.Z.COMMENT}return bt.Z.POST},hasExternalUrl(){return!!this.selectReportType&&!!this.selectReportType.externalUrl}},methods:{submitReport(){this.submitted=!0,C.Z.$emit("report::submit",this.selectReportType)}},render:function(t,e,s,r,o,i){return(0,G.wg)(),(0,G.j4)("section",tu,[su,(0,G.Wm)("div",ru,[o.selectReportType?((0,G.wg)(),(0,G.j4)("div",nu,[(0,G.Wm)("p",null,(0,F.zw)(o.selectReportType.content),1),(0,G.Wm)("p",null,"If you report someone's "+(0,F.zw)(s.reportConfig.type.toLowerCase())+", 9GAG doesn't tell them who reported it.",1)])):((0,G.wg)(),(0,G.j4)("ul",ou,[((0,G.wg)(!0),(0,G.j4)(G.HY,null,(0,G.Ko)(i.reportTypes,(e,t)=>((0,G.wg)(),(0,G.j4)("li",null,[(0,G.Wm)("a",{href:"javascript:void(0);",onClick:(0,ge.iM)(e=>o.selectReason=t,["stop"])},[(0,G.Wm)("div",iu,[(0,G.Wm)("h3",null,(0,F.zw)(e.title),1)]),(0,G.Wm)("div",{class:[{selected:o.selectReason===t},"selector"]},null,2)],8,["onClick"])]))),256))]))]),(0,G.Wm)("div",au,[o.selectReportType?((0,G.wg)(),(0,G.j4)(G.HY,{key:1},[(0,G.Wm)("a",{class:["btn red right",{disabled:o.submitted}],onClick:e[3]||(e[3]=(0,ge.iM)((...e)=>i.submitReport&&i.submitReport(...e),["stop"]))},(0,F.zw)(i.hasExternalUrl?"Continue":"Report"),3),(0,G.Wm)("a",{class:"btn grey right",onClick:e[4]||(e[4]=(0,ge.iM)(e=>o.selectReportType=null,["stop"]))},"Back")],64)):((0,G.wg)(),(0,G.j4)(G.HY,{key:0},[(0,G.Wm)("a",{class:["btn right",{disabled:null===o.selectReason}],onClick:e[1]||(e[1]=(0,ge.iM)(e=>o.selectReportType=i.reportTypes[o.selectReason],["stop"]))},"Next",2),(0,G.Wm)("a",{class:"btn grey right",onClick:e[2]||(e[2]=(0,ge.iM)(e=>t.$emit("dismiss"),["stop"]))},"Cancel")],64))])])}};function lu(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function du(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?lu(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):lu(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const uu={login:!1,signupSocial:!1,signupEmail:!1,signupDownload:!1,report:!1},pu={data:()=>({displayOverlay:!1,modalDisplay:uu,hideUsingBackground:!0,dismissible:!0,nextUrl:"",reportConfig:null}),mixins:[Ke.Z],components:{Login:Kn,SignupSocial:na,SignupEmail:Ea,SignupDownload:eu,Report:cu},methods:{showOverlay(e){this.displayOverlay||(this.setDismissible(e),this.displayOverlay=!0,document.body.classList.add("no-scroll"))},hideOverlay(){this.displayOverlay&&(this.displayOverlay=!1,this.setDismissible(!0),document.body.classList.remove("no-scroll"))},setDismissible(e){this.dismissible!==e&&(this.dismissible=e)},dismissModal(){this.modalDisplay.report&&C.Z.$emit("report::cancel"),this.modalDisplay=uu,this.hideUsingBackground=!0,this.hideOverlay()},showModal(e,t=!0,s=!0){let r={};e&&(r[e]=!0),this.modalDisplay=du(du({},uu),r),this.hideUsingBackground=t,this.showOverlay(s)},showLogin(){this.showModal("login",!0,!0)},showSignupSocial(){this.showModal("signupSocial",!0,!0)},showSignupEmail(){this.showModal("signupEmail",!0,!0)},showSignupDownload(){this.showModal("signupDownload",!0,!1)},showReport(){this.showModal("report",!0,!0)},clickOverlay(e){this.hideUsingBackground&&this.dismissModal()}},created(){C.Z.$on("Overlay::showLogin",e=>{this.track("Login","LoginOverlay"),this.showLogin(),this.nextUrl=e||""}),C.Z.$on("Overlay::showSignupSocial",e=>{this.track("SignUp","SignUpOverlay"),this.showSignupSocial(),this.nextUrl=e||""}),C.Z.$on("Overlay::showReport",e=>{this.showReport(),this.reportConfig=e}),C.Z.$on("Overlay::hideReport",()=>{this.dismissModal()}),this.$router.isReady().then(()=>{"yes"===this.$route.query.signup&&this.showSignupDownload()})},unmounted(){C.Z.$off("Overlay::showLogin"),C.Z.$off("Overlay::showSignupSocial"),C.Z.$off("Overlay::showReport"),C.Z.$off("Overlay::hideReport")},render:function(e,t,s,r,o,i){var n=(0,G.up)("Report"),a=(0,G.up)("SignupDownload"),c=(0,G.up)("Login"),l=(0,G.up)("SignupSocial"),d=(0,G.up)("SignupEmail");return o.displayOverlay?((0,G.wg)(),(0,G.j4)("div",{key:0,class:"overlay-scroll-container",onClick:t[2]||(t[2]=(0,ge.iM)((...e)=>i.clickOverlay&&i.clickOverlay(...e),["self","stop"]))},[(0,G.Wm)("section",{class:["modal",{download:o.modalDisplay.signupDownload}]},[o.dismissible?((0,G.wg)(),(0,G.j4)("a",{key:0,class:"btn-close",href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.dismissModal&&i.dismissModal(...e))},"âœ–")):(0,G.ry)("",!0),o.modalDisplay.report?((0,G.wg)(),(0,G.j4)(n,{key:1,reportConfig:o.reportConfig,onDismiss:i.dismissModal},null,8,["reportConfig","onDismiss"])):o.modalDisplay.signupDownload?((0,G.wg)(),(0,G.j4)(a,{key:2,onDismiss:i.dismissModal},null,8,["onDismiss"])):((0,G.wg)(),(0,G.j4)("section",qd,[o.modalDisplay.login?((0,G.wg)(),(0,G.j4)(c,{key:0,nextUrl:o.nextUrl},null,8,["nextUrl"])):(0,G.ry)("",!0),o.modalDisplay.signupSocial?((0,G.wg)(),(0,G.j4)(l,{key:1,showSignupEmail:i.showSignupEmail,showLogin:i.showLogin,nextUrl:o.nextUrl},null,8,["showSignupEmail","showLogin","nextUrl"])):(0,G.ry)("",!0),o.modalDisplay.signupEmail?((0,G.wg)(),(0,G.j4)(d,{key:2,nextUrl:o.nextUrl},null,8,["nextUrl"])):(0,G.ry)("",!0)]))],2)])):(0,G.ry)("",!0)}};var hu=s(8912).default;function mu(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function gu(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?mu(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):mu(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const fu=(0,X._p)("app")["mapState"],{mapState:yu,mapActions:Ou}=(0,X._p)("toast"),bu={computed:gu(gu(gu({},fu(["darkMode"])),yu(["showToast","toastType","toastMsg","linkTitle","toastLink","toastAction"])),{},{toastColorMap(){return{[hu.INFO]:this.darkMode?"#808080":"#000000",[hu.WARN]:"#FFCC00",[hu.ERROR]:"#FF3B30"}},toastStyle(){return{backgroundColor:this.toastColorMap[this.toastType]||"",color:this.toastColor}},toastColor(){let e=null;return[hu.WARN,hu.ERROR].includes(this.toastType)&&(e="#000"),e}}),methods:gu({},Ou({displayToast:Dt.ot.DISPLAY_TOAST,dismissToast:Dt.ot.DISMISS_TOAST})),created(){var e=v.getToast();e&&this.displayToast(e)},render:function(t,e,s,r,o,i){return t.showToast?((0,G.wg)(),(0,G.j4)("section",{key:0,class:"toast-container",onClick:e[3]||(e[3]=(...e)=>t.dismissToast&&t.dismissToast(...e))},[(0,G.Wm)("div",{class:"toast-message",style:i.toastStyle},[(0,G.Uk)((0,F.zw)(t.toastMsg)+" ",1),t.toastLink?((0,G.wg)(),(0,G.j4)("a",{key:0,href:t.toastLink,class:"toast-link"},(0,F.zw)(t.linkTitle),9,["href"])):t.toastAction?((0,G.wg)(),(0,G.j4)("a",{key:1,href:"javascript:void(0)",class:"toast-link",onClick:e[1]||(e[1]=(0,ge.iM)((...e)=>t.toastAction&&t.toastAction(...e),["stop"]))},(0,F.zw)(t.linkTitle),1)):(0,G.ry)("",!0),(0,G.Wm)("a",{class:"toast-close",href:"javascript:void(0)",onClick:e[2]||(e[2]=(0,ge.iM)((...e)=>t.dismissToast&&t.dismissToast(...e),["stop"])),style:{color:i.toastColor}},"âœ–",4)],4)])):(0,G.ry)("",!0)}};var Wt=s(4395).default,vu=s(6296).default;const _u=class extends Wt{shouldCheckNonVideoView(e){return e.data?e.data.video||e.data.youtube?(this.log("Web.shouldCheckNonVideoView() is video",e),!1):e.data.sensitiveCover?(this.log("Web.shouldCheckNonVideoView() sensitive cover",e),!1):(this.log("Web.shouldCheckNonVideoView()",e),super.shouldCheckNonVideoView(e)):(this.log("Web.shouldCheckNonVideoView() no data",e),!1)}updateTrackingCVars(){var e=y.Z.getPageKey();this.setScreenKey(e);const t=y.Z.getUrlParam("ref");let s="",r="";y.Z.isPostPage()?s="SinglePost":y.Z.isProfilePage()?(s="ProfilePostList",r=e):y.Z.isSectionPage()?(s="SectionPostList",r=e):y.Z.isInterestPage()?(s="InterestPostList",r=e):y.Z.isTagPostListPage()?(s=`${vu.capitalize(t.split("-")[0])}TagPostList`,r=e):y.Z.isSearchPage()?s="SearchPostList":(s="PostList",r=e);e={TriggeredPage:s,TriggeredPageKey:r};this.setTrackingCVars(e)}};function Su(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}const Tu=(0,X._p)("config")["mapGetters"],wu={computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Su(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Su(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({},Tu({getConfig:"GET_CONFIG"})),data:()=>({}),provide:()=>({})},Pu={key:0,class:"ccpa-banner-container"},Iu={class:"ccpa-banner"},Eu=(0,G.Wm)("div",{class:"ccpa-banner-header"},[(0,G.Wm)("h2",null,"We value your privacy"),(0,G.Wm)("p",null,[(0,G.Uk)(" We and our partners may collect information from you to offer a better browsing experience and to serve relevant ads."),(0,G.Wm)("br"),(0,G.Uk)(" Click the Do not sell my personal info button to opt out of selling your personal information. For more about your privacy rights, please visit our "),(0,G.Wm)("a",{target:"_blank",href:"https://about.9gag.com/privacy-california"},"Privacy Policy"),(0,G.Uk)(". ")])],-1),Au={class:"btn-container"};var ku=s(7637).default;function Du(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Cu(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Du(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Du(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapGetters:Uu,mapActions:Lu}=(0,X._p)("privacy"),ju={computed:Cu(Cu({},Uu({_showCCPABanner:"showCCPABanner"})),{},{showCCPABanner(){return this._showCCPABanner&&this.$route.params.type!==ku.DO_NOT_SELL}}),methods:Cu(Cu({},Lu({dismissCCPABanner:Dt.Lm.DISMISS_CCPA_BANNER})),{},{onBtnClick(){this.dismissCCPABanner(!0)}}),render:function(e,t,s,r,o,i){return i.showCCPABanner?((0,G.wg)(),(0,G.j4)("div",Pu,[(0,G.Wm)("div",Iu,[Eu,(0,G.Wm)("div",Au,[(0,G.Wm)("a",{class:"btn",href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.onBtnClick&&i.onBtnClick(...e))},"Got it, thanks!"),(0,G.Wm)("a",{class:"btn grey",href:"/settings/do-not-sell",onClick:t[2]||(t[2]=(...e)=>i.onBtnClick&&i.onBtnClick(...e))},"Do not sell my personal info")])])])):(0,G.ry)("",!0)}},Nu=(0,G.HX)("data-v-0e1d61b6");(0,G.dD)("data-v-0e1d61b6");const Ru={class:"board-system"};(0,G.Cn)();const Mu=Nu((e,t,s,r,o,i)=>{var n=(0,G.up)("BoardsMinimizedPanel"),a=(0,G.up)("BoardsList"),c=(0,G.up)("BoardView");return(0,G.wy)(((0,G.wg)(),(0,G.j4)("section",Ru,[(0,G.Wm)("div",{class:["board-system__wrapper","board-system__state_"+(i.isMinimized?"closed":"opened")]},[i.isMinimized?((0,G.wg)(),(0,G.j4)(n,{key:0,class:"board-system__minimized-panel"})):((0,G.wg)(),(0,G.j4)(G.HY,{key:1},[(0,G.Wm)(a,{class:"board-system__left_part"}),(0,G.Wm)(c,{class:"board-system__right-part"})],64))],2)],512)),[[ge.F8,!i.isClosed]])}),xu=(0,G.HX)("data-v-002f586b");(0,G.dD)("data-v-002f586b");const Wu={class:"board-system__minimized-panel_title"},Vu=(0,G.Wm)("span",null,"Boards",-1),Bu={key:0,class:"minimized-panel__new-messages"};(0,G.Cn)();it=xu((e,t,s,r,o,i)=>{const n=(0,G.up)("IconExpand"),a=(0,G.up)("IconBase");return(0,G.wg)(),(0,G.j4)("section",{class:"minimized-panel",onClick:t[1]||(t[1]=(...e)=>i.expandBoardsModal&&i.expandBoardsModal(...e))},[(0,G.Wm)("h4",Wu,[Vu,e.hasNewUpdates?((0,G.wg)(),(0,G.j4)("span",Bu)):(0,G.ry)("",!0)]),(0,G.Wm)(a,{class:"minimized-panel__expand"},{default:xu(()=>[(0,G.Wm)(n)]),_:1})])}),Wt=s(4335);const Gu={d:"M10.59 7.41L12 6L6 0L0 6L1.41 7.41L6 2.83L10.59 7.41Z",fill:"#999999"},Fu={render:function(e,t){return(0,G.wg)(),(0,G.j4)("path",Gu)}};var $u=s(5652).default;function Zu(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Hu(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Zu(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Zu(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapActions:Ku,mapGetters:zu}=(0,X._p)("boards"),Yu={name:"BoardsMinimizedPanel",components:{BoardsViewModeAction:Wt.Z,IconBase:xt.Z,IconExpand:Fu},computed:Hu({},zu({hasNewUpdates:be.P1})),methods:Hu(Hu({},Ku({setBoardState:be.M_})),{},{expandBoardsModal(){$u.track(Yc.R.BOARD,Yc.e.TAP_OPEN),this.setBoardState(Bi.Hi)}})};s(4722),Yu.render=it,Yu.__scopeId="data-v-002f586b";it=Yu;function qu(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Xu(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?qu(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):qu(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapGetters:Ju,mapActions:Qu}=(0,X._p)("boards"),ep=(0,X._p)("boards/user")["mapActions"],{mapGetters:tp,mapState:sp}=(0,X._p)("user"),rp={name:"Boards",components:{BoardsList:(0,G.RC)(()=>s.e(305).then(s.bind(s,6504))),BoardView:(0,G.RC)(()=>s.e(305).then(s.bind(s,4179))),BoardsMinimizedPanel:it},data:()=>({inited:!1}),computed:Xu(Xu(Xu(Xu({},tp({isLoggedIn:"IS_LOGGED_IN"})),sp({commentAuth:e=>e.user.commentAuth})),Ju({currentState:be.$j})),{},{isMinimized(){return this.isClosed||this.currentState===Bi.Ev},isClosed(){return this.currentState===Bi.Yn}}),methods:Xu(Xu(Xu({},Qu({_init:be.qg,fetchUserBoardsList:be.Xq})),ep({fetchUserData:be.MC})),{},{init(){this.inited||(this.inited=!0,this._init())}}),watch:{commentAuth(e){this.fetchUserData({auth:e})},isLoggedIn(){this.fetchUserBoardsList()},isMinimized:{handler(e){e||this.init()},immediate:!0}},mounted(){Oo.Z.afterLoad(this.init)}};s(3092),s(2172),rp.render=Mu,rp.__scopeId="data-v-0e1d61b6";var it=rp,op=s(28).default;function ip(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function np(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ip(Object(s),!0).forEach(function(e){(0,q.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ip(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapState:ap,mapGetters:cp,mapMutations:lp}=(0,X._p)("app"),dp=(0,X._p)("section")["mapGetters"],up=(0,X._p)("toasts")["mapState"],pp=(0,X._p)("modal")["mapGetters"],hp=(0,X._p)("user")["mapState"],mp=(0,X._p)("post")["mapGetters"],gp=(0,X._p)("boards")["mapActions"],fp={name:"App",mixins:[je,wu,Ke.Z],data:()=>({drawerWindowWidth:1280}),watch:{windowWidth(){this.windowWidth>=this.drawerWindowWidth?this.showDrawer=!0:this.hideDrawer()},showDrawer(e){this.overlayDrawer&&e&&this.track("NavigationBar","OpenDrawer")}},computed:np(np(np(np(np(np(np(np({},ap(["topNavHeight","drawer"])),cp({showAds:"SHOW_ADS"})),dp({getSection:"GET_SECTION",getInterest:"GET_INTEREST"})),mp({getPost:"GET_POST"})),hp(["init"])),up({showToast:e=>!!e.messages.length})),pp({showModal:r.iS})),{},{isAppEmbed(){return this.getConfig("page.appEmbed")},showDrawer:{get(){return this.drawer},set(e){e!==this.drawer&&this.updateDrawer(e)}},windowWidth:()=>uo.Z.browserWidth(),showBoards(){return this.init},showBillboardAd(){return!!this.showAds&&Oe.Z.MAIN_LISTS.includes(this.$route.name)},showSidebar(){return!this.$route||[...Oe.Z.LIST_VIEWS,Oe.Z.POST_PAGE].includes(this.$route.name)},containerStyle(){return{paddingTop:this.topNavHeight?`${this.topNavHeight}px`:""}},showPageDrawer(){return this.showDrawer&&!this.overlayDrawer},overlayDrawer(){return this.showDrawer&&this.windowWidth<this.drawerWindowWidth}}),components:{TopNav:Al,PageComponent:Yl,BillboardAd:nd,Drawer:Yd,Sidebar:(0,G.RC)(()=>s.e(128).then(s.bind(s,9125))),Overlay:pu,ToastMessage:bu,Toast:(0,G.RC)(()=>s.e(53).then(s.bind(s,4920))),CCPABanner:ju,BoardSystem:it,Modal:(0,G.RC)(()=>s.e(217).then(s.bind(s,502)))},methods:np(np(np({},lp({updateDrawer:"UPDATE_DRAWER"})),gp({openBoardFromOutside:be.gJ})),{},{getContentHeight(){var e=this.$refs.content;return e?e.$el&&e.$el.offsetHeight:null},handleAnchor(e,t){var s=new(At())(e.href),r=Ga.resolve(s.pathname+s.query+s.hash),e=this.$route,o=e.name===Oe.Z.POST_PAGE;if(r.name&&(s=s.href,new RegExp("^http(s?)://"+y.Z.getDomain()).test(s.trim()))){switch(r.name){case Oe.Z.POST_PAGE:const i=this.getPost(r.params.postId);if(i&&i.board)return t.preventDefault(),void this.openBoardFromOutside({boardID:i.id,url:i.url});if(!o)return;break;case Oe.Z.TAG_POST_LIST:if(!o&&"post-tag"===r.query.ref)return;break;case Oe.Z.SECTION_LIST:case Oe.Z.SECTION_POST_LIST:if(!this.getSection(r.params.section).url)return;if(!o&&"post-section"===r.query.ref)return;break;case Oe.Z.INTEREST_LIST:if(!this.getInterest(r.params.interest).name)return}t.preventDefault(),r.fullPath!==e.fullPath?this.$router.push(r.fullPath):window.location.href=r.fullPath}},initTimedTrackingManager(){this.timedTrackingMgr=new _u(op),this.timedTrackingMgr.updateTrackingCVars(),this.timedTrackingMgr.setVisibilityObserver(-this.topNavHeight,0),this.timedTrackingMgr.start(),Ga.afterEach((e,t)=>{this.timedTrackingMgr.stop(),this.timedTrackingMgr.untrackAll(),this.timedTrackingMgr.updateTrackingCVars(),this.timedTrackingMgr.start()}),C.Z.$on("tracking::trackElement",({domId:e,data:t})=>{this.timedTrackingMgr.track(e,t)})},toggleDrawer(){this.showDrawer=!this.showDrawer},hideDrawer(){this.overlayDrawer&&(this.showDrawer=!1)}}),created(){C.Z.$on("nav::anchorClick",(e,t)=>{this.handleAnchor(e,t)}),this.initTimedTrackingManager(),this.showDrawer=this.windowWidth>=this.drawerWindowWidth},render:function(e,t,s,r,o,i){var n=(0,G.up)("TopNav"),a=(0,G.up)("Drawer"),c=(0,G.up)("BillboardAd"),l=(0,G.up)("router-view"),d=(0,G.up)("Sidebar"),u=(0,G.up)("ToastMessage"),p=(0,G.up)("Toast"),h=(0,G.up)("Overlay"),m=(0,G.up)("PageComponent"),g=(0,G.up)("CCPABanner"),f=(0,G.up)("BoardSystem"),y=(0,G.up)("Modal");return i.isAppEmbed?((0,G.wg)(),(0,G.j4)(G.HY,{key:1},[(0,G.Wm)(l),e.showToast?((0,G.wg)(),(0,G.j4)(p,{key:0})):(0,G.ry)("",!0),(0,G.Wm)(h),(0,G.Wm)(m),e.showModal?((0,G.wg)(),(0,G.j4)(y,{key:1})):(0,G.ry)("",!0)],64)):((0,G.wg)(),(0,G.j4)("div",fe,[(0,G.Wm)(n,{onToggleDrawer:i.toggleDrawer},null,8,["onToggleDrawer"]),i.overlayDrawer?((0,G.wg)(),(0,G.j4)(a,{key:0,overlayDrawer:i.overlayDrawer,onHideDrawer:i.hideDrawer},null,8,["overlayDrawer","onHideDrawer"])):(0,G.ry)("",!0),(0,G.Wm)("div",{id:"container",style:i.containerStyle,class:{drawer:i.showPageDrawer}},[i.showPageDrawer?((0,G.wg)(),(0,G.j4)(a,{key:0,showDrawer:i.showDrawer,onHideDrawer:i.hideDrawer},null,8,["showDrawer","onHideDrawer"])):(0,G.ry)("",!0),(0,G.Wm)("div",ye,[i.showBillboardAd?((0,G.wg)(),(0,G.j4)(c,{key:0})):(0,G.ry)("",!0),(0,G.Wm)(l,{ref:"content"},null,512),i.showSidebar?((0,G.wg)(),(0,G.j4)(d,{key:1,getContentHeight:i.getContentHeight},null,8,["getContentHeight"])):(0,G.ry)("",!0)])],6),(0,G.Wm)(u),e.showToast?((0,G.wg)(),(0,G.j4)(p,{key:1})):(0,G.ry)("",!0),(0,G.Wm)(h),(0,G.Wm)(m),(0,G.Wm)(g),i.showBoards?((0,G.wg)(),(0,G.j4)(f,{key:2})):(0,G.ry)("",!0),e.showModal?((0,G.wg)(),(0,G.j4)(y,{key:3})):(0,G.ry)("",!0)]))}};var yp,Op=s(3063),bp=s(45).default,vp=s(4177).default,_p=s(5652).default,be=Op.extend({},new A.Z,{docTitle:"",init:function(){this.initApplications().then(()=>{this.bindElements()}),window.addEventListener("click",this.handleAnchorClick.bind(this)),this.docTitle=document.title},async initApplications(){await B.Z.dispatch("config/INIT_CONFIG",bp._configs);const e=[],t=document.getElementById("jsid-app");t&&e.push(this.initMicroApp(t,fp,[B.Z,Ga],{PostContent:Ys})),await Promise.all(e)},initMicroApp:async(e,t,s=[],r={})=>{const o=(0,ge.ri)(t);s.forEach(e=>o.use(e)),Object.entries(r).forEach(([e,t])=>o.component(e,t)),o.config.errorHandler=(e,t,s)=>{a.report(e)},o.mount(e)},_showFooterNavAfter:600,_footerNav:null,_CLASS_SHOW_BACK_TO_TOP:"show",selectors:{FOOTER_NAV:"a.badge-scroll-to-top",SCROLL_TO_TOP:"a.badge-scroll-to-top",CONTAINTER:"#container",CLICK_EVENT_SELECTOR:".badge-evt, .badge-track"},onScroll:function(){this.checkFooterNavElements()},bindElements:function(){this.bindFooterNavElements(),this.bindUploadElements(),this.bindEventTracking()},getNotiUnreadCount:()=>B.Z.getters["noti/NOTI_UNREAD_COUNT"],bindUploadElements:function(){C.Z.$on("nav::clickUpload",function(){W.showOverlay(W.selectors.OVERLAY_COMPONENT_UPLOAD,!1),me.showUploadStep(me.selectors.UPLOAD_FILE_STEP)})},bindFooterNavElements:function(){this._footerNav=Op(this.selectors.FOOTER_NAV),Op(this.selectors.SCROLL_TO_TOP).on("click",function(e){e.preventDefault(),N.scrollToTop()})},checkFooterNavElements:function(){var e;this._footerNav&&((e=vp.getScrollTop())>this._showFooterNavAfter&&!this._footerNav.hasClass(this._CLASS_SHOW_BACK_TO_TOP)?this._footerNav.addClass(this._CLASS_SHOW_BACK_TO_TOP):e<=this._showFooterNavAfter&&this._footerNav.hasClass(this._CLASS_SHOW_BACK_TO_TOP)&&this._footerNav.removeClass(this._CLASS_SHOW_BACK_TO_TOP))},_trackGaEvent:function(e){var t,s,r,o,i,n=e.attr("data-evt");n&&(t=(i=(n+="").split(",")).shift(),s=i.shift(),i.shift(),r=i.shift(),o=i.shift(),n={},(i=e.attr("data-entry-id"))&&(n.PostKey=i),(e=e.attr("data-position"))&&(n.Position=e),o&&(n.Element=o),_p.trackPage(t,s,r,n))},_trackEvent:function(e){var t,s=e.attr("data-track");s&&null!=s&&(e=(t=(s+="").split(",")).shift(),s=t.shift(),t={label:t.shift(),labelValue:t.shift(),platform:t.shift(),entry:t.shift(),view:t.shift()},T.event(e,s,t))},_handelClickEventTracking:function(e){var t=Op(e.currentTarget);this._trackGaEvent(t),this._trackEvent(t);var s=t.prop("tagName"),r=t.attr("href")+"",t=t.attr("target");"A"!=s||0!==r.indexOf("http")&&0!==r.indexOf("/")||t||(e&&e.preventDefault(),window.setTimeout("window.location.href = '"+r+"';",100))},bindEventTracking:function(){Op(this.selectors.CONTAINTER).on("click",this.selectors.CLICK_EVENT_SELECTOR,Op.proxy(this._handelClickEventTracking,this))},setPageTitle:function(e){this.docTitle=e;var t=this.getNotiUnreadCount();document.title=(0<t?"("+t+") ":"")+e},refreshPageTitle:function(){this.setPageTitle(this.docTitle)},scrollToTop:function(){vp.scrollTo(0,300)},_getEventKey:function(){var e,t,s={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(e in s)if(e in document){t=s[e];break}return{stateKey:e,eventKey:t}},tabVisibilityChange:function(e){var{stateKey:t,eventKey:s}=this._getEventKey();return e&&document.addEventListener(s,e),!document[t]},removeTabVisibilityChange:function(e){var t=this._getEventKey()["eventKey"];document.removeEventListener(t,e)},_findParent(e,t){for(;t;){if((t.nodeName||t.tagName||"").toLowerCase()===e.toLowerCase())return t;t=t.parentNode}return null},_isQuantcastCMPClick:e=>e.className.includes("qc-cmp"),handleAnchorClick(e){var t;!y.Z.getRouteInfo()||(e=e||window.event).ctrlKey||e.metaKey||e.shiftKey||e.altKey||0!==e.button||(t=this._findParent("a",e.target||e.srcElement))&&!this._isQuantcastCMPClick(t)&&C.Z.$emit("nav::anchorClick",t,e)}}),A=s(2662).default,Sp=s(3063),Tp=s(9012).default,wp=s(3036).default;A.PageController=be,A.OverlayController=W;const Pp={init:(yp={_data:{},_models:{},_controllers:{},init:function(){var e=yp;Sp(document).ready(function(){e._onDomReady()}),Sp(window).on("load",function(){e._onWindowLoad()});var t=o()(()=>e._runOnControllers("onScroll"),500);Tp.addEventListener("scroll",t),window.addEventListener("error",e=>{a.report(e.error)})},_onDomReady:function(){yp._runOnModels("init"),yp._runOnControllers("init")},_onWindowLoad:function(){yp._runOnModels("onWindowLoad"),yp._runOnControllers("onWindowLoad")},_runOnObjects:function(e,s){!e instanceof Object||Sp.each(e,function(e,t){t[s]&&"function"==typeof t[s]&&t[s]()})},_runOnModels:function(e){yp._runOnObjects(yp._models,e)},_runOnControllers:function(e){yp._runOnObjects(yp._controllers,e)},addModel:function(e){return yp._models=e,this},addController:function(e){return yp._controllers=e,this},setData:function(e,t){yp._data[e]=t},_scriptMap:{facebook:"//connect.facebook.net/en_US/sdk.js",twitter:"//platform.twitter.com/widgets.js"},loadScripts:function(){f.default.get("page.appEmbed")||(i.default.init(f.default.get("configs.track")),m.init(f.default.get("configs.firebaseConfig")),u.init(f.default.get("configs.facebookPixel")||{}),d.init(),c.Z.init(f.default.get("configs.quantcastCMP")||{}),Object.values(yp._scriptMap).forEach(e=>wp.loadScript(e)))},loadConfigs:function(){return f.default.load(window._config),this}}).init,loadConfigs:yp.loadConfigs,loadScripts:yp.loadScripts,addModel:yp.addModel,addController:yp.addController},Ip={User:_.Z,Configs:f.default,Page:y.Z,Toast:v,Track:T,Facebook:w.Z,Vote:E},Ep={AdsController:Br.Z,PageController:be,KeyboardController:N,OverlayController:W,ReportController:V.Z,PushController:Wl,UploadController:me};Pp.addModel(Ip).addController(Ep).init(),Pp.loadConfigs().loadScripts()},9201:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});t=s(7278),s=function(){this._base=this};(s.prototype=new t.Z).getBase=function(){return this._base},s.prototype.init=function(){};const r=s},45:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const r={_configs:{},init:function(){},load:function(e){this._configs=e||{}},get:function(e){for(var t=e.split("."),s=this._configs,r="";s&&0<t.length;)r=s=s[t.shift()];return r}}},1021:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(7937),o=s(1118),i=s(4907),n=s(45).default,a=s(4177).default,c=s(5652).default,l={_xfbmlRenderItems:[],_asyncInited:!1,init:function(){},asyncInit:function(){this._asyncInited=!0,this.initApp(),this.executeRenderQueue()},initApp:function(){var e=n.get("configs.facebook");FB.init({appId:e.appId,version:e.version,xfbml:!1,status:!0,cookie:!0}),this._checkFacebookLoginStatus()},sessionChangeHandler:function(e){e&&("connected"===e.status?e.authResponse&&l.autoLogin():e.status)},_checkFacebookLoginStatus:function(){FB.getLoginStatus(l.sessionChangeHandler),FB.Event.subscribe("auth.authResponseChange",l.sessionChangeHandler)},executeRenderQueue:function(){for(var e=0;e<this._xfbmlRenderItems.length;e++){var t=this._xfbmlRenderItems[e];this.parseElement(t.el,t.callback)}},renderElement:function(e,t){this._asyncInited?this.parseElement(e,t):this._xfbmlRenderItems.push({el:e,callback:t})},parseElement:function(e,t){var s=e instanceof HTMLElement?e:document.getElementById(e);if(s)try{t?FB.XFBML.parse(s,t):FB.XFBML.parse(s)}catch(e){}},autoConnectKey:"auto_log",autoLogin:function(){if(!r.Z.isLoggedIn()&&a.isCookieEnabled()){var e=i.U2(l.autoConnectKey),t={a:!1,d:!1,lo:!1,dl:!1};if(null!=(t=e||!1===e?JSON.parse(e):t)){if(t.a)return;if(!t.dl&&(t.lo||t.d))return}c.track("Login","AutoConnectFacebook",o.Z.getPageKey()),t.a=!0;t=JSON.stringify(t);i.t8(l.autoConnectKey,t,o.Z.getCookieOptions()),l.Connect.autoLogin(location.href)}},Connect:{autoLogin:function(e){try{null!=e||(e="/");var t=`https://${o.Z.getDomain()}/connect/auto-login?next=${encodeURIComponent(e)}`;window.location=t}catch(e){return}}}};window.fbAsyncInit=function(){l.asyncInit()};const d=l},7278:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});t=function(){this._isSuccess=!1,this._keys={},this.setKey(this.Constants.RESPONSE_MESSAGE,"")};t.Constants={RESPONSE_MESSAGE:"RESPONSE_MESSAGE",RESPONSE_CODE:"RESPONSE_CODE",RESPONSE_DATA:"RESPONSE_DATA"},t.prototype.succeeded=function(e){return this._isSuccess=!0,this.setKey(this.Constants.RESPONSE_MESSAGE,e),this},t.prototype.failed=function(e){return this._isSuccess=!1,this.setKey(this.Constants.RESPONSE_MESSAGE,e),this},t.prototype.isSuccess=function(){return this._isSuccess},t.prototype.setKey=function(e,t){return this._keys[e]=t,this},t.prototype.getKey=function(e){return this._keys[e]},t.prototype.setCode=function(e){return this.setKey(this.Constants.RESPONSE_CODE,e),this},t.prototype.getCode=function(){return this.getKey(this.Constants.RESPONSE_CODE)},t.prototype.setData=function(e){return this.setKey(this.Constants.RESPONSE_DATA,e),this},t.prototype.getData=function(){return this.getKey(this.Constants.RESPONSE_DATA)},t.prototype.setMessage=function(e){return this.setKey(this.Constants.RESPONSE_MESSAGE,e),this},t.prototype.getMessage=function(){return this.getKey(this.Constants.RESPONSE_MESSAGE)};const r=t;var o=s(5670).default,s=function(){this._namespace=""};s.prototype.setNamespace=function(e){this._namespace=e},s.prototype.log=function(e,t){o.log(this._namespace+" "+(t?t+" ":"")+e)},s.prototype.failed=function(e){return(new r).failed(e)},s.prototype.succeeded=function(e){return(new r).succeeded(e)};const i=s},1118:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(1487),o=s(45).default,i=s(6296).default;const n={_domain:"9gag.com",_pageKey:"",route:null,init:function(){this._domain=o.get("page.domain"),this._pageKey=o.get("page.page_key")},getRouteInfo:function(){return this.route},setRouteInfo:function(e){this.route=e},getProtocol:function(){return"https:"==document.location.protocol?"https":"http"},getDomain:function(){return this._domain},getCookieOptions:function(){return{domain:o.get("page.cookie_domain"),path:"/",expires:1095}},getPageKey(){return this.route?this.getPageKeyFromRoute(this.route):this._pageKey||""},getPageKeyFromRoute(e){let t;switch(e.name){case r.Z.POST_LIST:case r.Z.HOT_POST_LIST:return i.capitalize(e.params.type||"hot");case r.Z.SECTION_LIST:case r.Z.SECTION_POST_LIST:var s=i.capitalize(e.params.section||"");return t=i.capitalize(e.params.type||"hot"),`${s}-${t}`;case r.Z.INTEREST_LIST:return`Interest-${i.capitalize(e.params.interest||"")}`;case r.Z.TAG_POST_LIST:s=i.capitalize(e.params.tag||"");return t=i.capitalize(e.params.type||"hot"),`Tag-${s}-${t}`;case r.Z.USER_POST_LIST:return t=i.capitalize(e.params.type||"overview"),`Profile-${t}`;case r.Z.SEARCH_POST_LIST:return"Search";case r.Z.POST_PAGE:return"Post";case r.Z.SIGNUP_PAGE:return"Signup";case r.Z.LOGIN_PAGE:return"Login";case r.Z.SETTINGS:return"Settings"}return this._pageKey},load:function(e){window.location=e},isPostPage:function(){return"Post"===this.getPageKey()},isSectionPage:function(){return this.route&&[r.Z.SECTION_LIST,r.Z.SECTION_POST_LIST].includes(this.route.name)},isInterestPage:function(){return this.route&&this.route.name===r.Z.INTEREST_LIST},isTagPostListPage:function(){return this.route&&this.route.name===r.Z.TAG_POST_LIST},isProfilePage:function(){return this.route&&this.route.name===r.Z.USER_POST_LIST},isSearchPage:function(){return this.route&&this.route.name===r.Z.SEARCH_POST_LIST},isUploadPage:function(){return this.route&&this.route.name===r.Z.UPLOAD},getUrlParam:function(e){return this.route&&this.route.query[e]||""}}},2676:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a,t=s(9201),c=s(7937),l=s(3822),d=s(2215),u=s(3063),p=s(1653).default;const r=u.extend({},new t.Z,{init:(a={API:{REPORT_ENTRY_URI:"/report"},init:function(){},_isRequesting:!1,reportEntity:function(e,t,s,r,o){if(c.Z.isLoggedIn()&&!a._isRequesting){const n={type:s};var i="Report";e===l.Z.TYPES.POST?(n.entryId=t,i="ReportPost",d.Z.dispatch("user/ADD_REPORT",t)):e===l.Z.TYPES.PROFILE&&(n.username=t,i="ReportUser");e=a.API.REPORT_ENTRY_URI;u.ajax({type:"POST",url:e,dataType:"json",data:n,beforeSend:function(){a._isRequesting=!0},complete:function(){a._isRequesting=!1},success:function(e){e.okay?(r&&r(t),p.trackEvent("PostAction",i,t,"",{ReportType:s,Success:!0})):(o&&o(t),p.trackEvent("PostAction",i,t,"",{ReportType:s,Success:!1}))},error:function(e){o&&o(t)}})}}}).init,reportEntity:a.reportEntity})},7937:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var t=s(9201),r=s(2215);const o=s(3063).extend({},new t.Z,{isLoggedIn:function(){return r.Z.getters["user/IS_LOGGED_IN"]},getUserId:function(){return r.Z.getters["user/USER_ID"]},isRestricted:function(){return r.Z.getters["user/RESTRICTED"]}})},2662:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const r={}},7421:(e,t,s)=>{s.p=window._config.page.staticAssetPath},8209:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(1118),o=s(5652);const i={methods:{track(e,t,s){o.default.track(e,t,r.Z.getPageKey(),"",s)},trackLabel(e,t,s,r){o.default.track(e,t,s,"",r)}}}},5384:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(4949),o=s(9200);function i(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}const n=(0,s(2204)._p)("user")["mapGetters"],a={computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?i(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({},n({isLoggedIn:"IS_LOGGED_IN"})),methods:{ensureLoggedIn(e){return!!this.isLoggedIn||(o.Z.$emit("Overlay::showSignupSocial",e),!1)}}}},695:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(5087),o=s(2289).default,i=s(9012).default;const n={data:()=>({adTags:[],adObserver:null,observedAds:{},renderedAds:{},adRefresh:null}),watch:{$route(){this.resetAd()}},methods:{getAdContainers(t){const s=[];return this.adTags.forEach(e=>{e=r.Z.getAdContainer(e,t);e&&s.push(e)}),s},createAdObserver(){},observeAd(e,t,s){this.observedAds[t.adContainerId]||(this.adObserver||(this.adObserver=this.createAdObserver()),this.adObserver.observe(e),this.observedAds[t.adContainerId]={adContainer:t,renderCallback:s})},adIntersectHandler(e){e.forEach(e=>{var t;(e.visibilityStatus===o.VISIBILITY_STATUS.enter||0<e.intersectionRatio)&&({adContainer:t,renderCallback:e}=this.observedAds[e.domId]||{},t&&this.renderAd(t,e))})},renderAd(e,t){this.renderedAds[e.adContainerId]||(r.Z.renderAd(e,{renderCallback:t}),this.renderedAds[e.adContainerId]=!0,this.createAdRefresh())},createAdRefresh(){this.clearAdRefresh(),this.adRefresh=setInterval(this.refreshVisibleAds.bind(this),3e4)},clearAdRefresh(){this.adRefresh&&(clearInterval(this.adRefresh),this.adRefresh=null)},refreshVisibleAds(){if(this.adObserver){const e=this.adObserver.getSortedVisibleItems(.5).map(e=>e.domId);for(const t of e){const e=(this.observedAds[t]||{})["adContainer"],s=this.renderedAds[t];e&&s&&r.Z.refreshAd(e)}}},unobserveAd(e,t){r.Z.destroyAd(t),this.adObserver&&this.adObserver.unobserve(e);t=t.adContainerId;this.observedAds[t]=null,this.renderedAds[t]=null},resetAd(){this.adObserver&&(this.adObserver.destroy(),this.adObserver=null),this.observedAds={},this.renderedAds={},this.clearAdRefresh()},visibilityChange(){switch(document.visibilityState){case"visible":this.createAdRefresh();break;case"hidden":this.clearAdRefresh()}}},created(){i.addEventListener("visibilitychange",this.visibilityChange)},unmounted(){this.resetAd(),i.removeEventListener("visibilitychange",this.visibilityChange)}}},2354:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(4949);function o(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function i(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}class n{constructor(){this.options={version:"v1"}}init(e){this.options=i(i({},this.options),e)}baseUrl(){return`/${this.options.version}`}returnError(e){return Promise.reject(e)}}},1004:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var a=s(4949),r=s(9669),i=s.n(r),t=s(2354),c=s(1487),r=s(4564),n=s.n(r),l=s(1118),d=s(7637).default;function u(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}class o extends t.Z{getApiInfo(e){const s=e["query"],r=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach(function(e){(0,a.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({},e.params);let o,i;switch(Object.keys(r).forEach(e=>!r[e]&&delete r[e]),e.name){case c.Z.POST_PAGE:o=`/post?id=${r.postId}`;break;case c.Z.POST_LIST:case c.Z.SECTION_LIST:case c.Z.HOT_POST_LIST:case c.Z.SECTION_POST_LIST:let e,t;({section:e,type:i="hot",postId:t=null}=r),d.LIST.includes(e)&&(i=e,e=null),o=`/group-posts/group/${e||"default"}/type/${i}`,s.sort&&(o+=`/sort/${s.sort}`),t&&(o+=`/postId/${t}`);break;case c.Z.INTEREST_LIST:o=`/interest-posts/interest/${r.interest}`;break;case c.Z.TAG_POST_LIST:({tag:n,type:i="hot"}=r),o=`/tag-posts/tag/${encodeURIComponent(n)}/type/${i}`;break;case c.Z.USER_POST_LIST:var n;({username:n,type:i="overview"}=r),o=`/user-posts/username/${n}/type/${i}`;break;case c.Z.SEARCH_POST_LIST:o=`/search-posts?query=${s.query}`}return{url:o,name:e.name,pageKey:l.Z.getPageKeyFromRoute(e)}}getListPosts(e,t){const s=e.url,r=new(n())(`${this.baseUrl()}${s}`);t&&r.set("query",t);let o="get";return e.name===c.Z.USER_POST_LIST&&(o="post"),i()[o](r.toString()).then(e=>({url:s,data:e.data.data})).catch(this.returnError)}}const p=new o},2215:(e,a,t)=>{"use strict";t.d(a,{Z:()=>Us});var r=t(4949),s=t(2204),c=t(1487),o=t(4907),i=t(9432).default,m=t(24),n=t(9377),l=t(403),d=t(7361),u=t.n(d),p=t(4702),h=(e,r=null)=>(r&&(e.setState=(e,t,s)=>(t.expiry=Date.now()+1e3*r,s.setItem(e,JSON.stringify(t))),e.getState=(e,t,s)=>{try{if(s=t.getItem(e)){const e=JSON.parse(s);if(Date.now()<e.expiry)return delete e.expiry,e}return}catch(e){return}}),(0,p.Z)(e)),g=t(5670).default,f=h({key:"privacyState",paths:["privacy.googleNpa","privacy.doNotSell","privacy.privacyCheck","privacy.dismissCCPABanner"],filter:e=>["privacy/setGoogleNpa","privacy/setDoNotSell","privacy/setPrivacyCheck","privacy/dismissCCPABanner"].includes(e.type)}),y=t(7651),O=t(5670).default;class b{static getSessionExpiryPeriodInSeconds(){return 1800}static getSessionInfoAndReferralInfoForSession(e,t=null){var s=u()(e,"startTs",0),r=u()(e,"expiryTs",0),e=t||y.default.getCurrentTime(),t=r-e;let o={expiryTs:e+b.getSessionExpiryPeriodInSeconds()},i=null;return 0<=t?O.log("lastSessionStartTs="+s+", lastSessionExpiryTs="+r+", ttl="+t+", EXTEND"):(O.log("lastSessionStartTs="+s+", lastSessionExpiryTs="+r+", ttl="+t+", RESET"),i={ref:null,utmSource:null,utmCampaign:null,utmMedium:null},o.startTs=e),{sessionInfo:o,referralInfo:i}}static getReferralInfoForQuery(e){var t=u()(e,"ref",null),s=u()(e,"utm_source",null),r=u()(e,"utm_campaign",null),e=u()(e,"utm_medium",null);return O.log(`ref=${t}, utmSource=${s}, utmCampaign=${r}, utmMedium=${e}`),t||s||r||e?{ref:t,utmSource:s,utmCampaign:r,utmMedium:e}:null}}const v=b;function _(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function S(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var T=h({key:"sessionState",paths:["session.session","session.unmasked"],filter:e=>["session/setSessionInfo","session/setSessionReferral","session/unmaskSensitive"].includes(e.type)},3600),w=t(9669),P=t.n(w),I=t(2354),E=t(4564),A=t.n(E);class k extends I.Z{async getConfig(){try{const e=new(A())(`${this.baseUrl()}/config`),t=(await P().get(e.toString()))["data"];return t.data}catch(e){return null}}}const D=new k,C=(e,t,s)=>e[t]=s,U=(e,t)=>delete e[t];var L=t(1004),j=t(5652),N=t(6296);function R(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function M(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?R(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):R(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}class x{static bindPostIdToUrl(e,t,s="push"){let r;if(r=e&&Array.isArray(e)?[...e]:[],Array.isArray(t))for(var o of t)r[s](o);else-1===e.indexOf(t)&&r[s](t);return r}static recalculateVote(e,t,s){return{upVoteCount:e.upVoteCount-t+s}}static transformPost(e){var t=N.default.htmlDecode(e.title),s=new URL(e.url).pathname;let r="";return e.postSection&&e.postSection.url&&(r=new URL(e.postSection.url).pathname.substr(1)),M(M({},e),{},{title:t,postUrl:s,postSectionPath:r})}}function W(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function V(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?W(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):W(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var B=t(6296).default;function G(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function F(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?G(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):G(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}class $ extends I.Z{async getUserInfo(){try{const e=new(A())(`${this.baseUrl()}/user-info`),{data:{data:t}}=await P().post(e.toString());return F(F({},t),{},{user:this._transformUser(t.user)})}catch(e){return null}}updateSettings(t){const e=new(A())(`${this.baseUrl()}/settings`),s=new FormData;return Object.keys(t).forEach(e=>{s.append(e,t[e])}),P().post(e.toString(),s,{headers:{"content-type":"multipart/form-data"}}).then(e=>{var{data:{data:e}}=e;return F(F({},e),{},{user:this._transformUser(e.user)})}).catch(this.returnError)}async unlinkAccount(e){return P().post("/connect/unlink",{platform:e}).then(e=>e.data.data).catch(this.returnError)}_transformUser(e){return F(F({},e),{},{fullName:B.htmlDecode(e.fullName),about:B.htmlDecode(e.about)})}}const Z=new $;var H=t(4258);function K(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function z(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?K(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):K(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Y={user:{userId:null,accountId:null,hashId:null,username:null,fullName:null,emojiStatus:null,email:null,hasPassword:null,fbConnected:null,googleConnected:null,verified:!0,safeMode:!0,nsfwMode:!1,about:null,location:null,profileUrl:null,avatarUrl:null,gender:null,birthday:null,isActivePro:!1,isActiveProPlus:!1,notiOptions:{channels:null,readStateParams:null},commentAuth:null,preferences:{hideFromRobots:0},restricted:!1,dataRequest:0,subscribe:{news:0}},votes:{},uploads:[],reports:[]};function q(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}var X={initSections(e,t){e.sections=t},initLocalSections(e,t){e.localSections=t},initGeoSection(e,t){e.geoSection=t},initFeaturedSections(e,t){e.featuredSections=t},initInterests(e,t){e.interests=t},addSection(e,t){var s=t["url"];e.sections=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?q(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):q(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({[s]:t},e.sections)},favoriteSection(t,e){const s=t.favoriteSections.filter(e=>t.sections[e]);s.includes(e)||(10<=s.length&&s.shift(),s.push(e)),t.favoriteSections=s},unfavoriteSection(e,t){t=e.favoriteSections.indexOf(t);-1<t&&e.favoriteSections.splice(t,1)},hideSection(t,e){const s=t.hiddenSections.filter(e=>t.sections[e]);s.includes(e)||s.push(e),t.hiddenSections=s},unhideSection(e,t){t=e.hiddenSections.indexOf(t);-1<t&&e.hiddenSections.splice(t,1)},addRecentVisitSection(t,e){const s=t.recentVisitSections.filter(e=>t.sections[e]),r=s.indexOf(e);-1<r&&s.splice(r,1),s.push(e),t.recentVisitSections=s},removeRecentVisitSection(e,t){t=e.recentVisitSections.indexOf(t);-1<t&&e.recentVisitSections.splice(t,1)},clearRecentVisitSections(e){e.recentVisitSections=[]}},J=t(1186),Q={namespaced:!0,state:{sections:{},featuredSections:{},localSections:{},geoSection:null,favoriteSections:[],hiddenSections:[],recentVisitSections:[],interests:{}},getters:{GET_SECTION:t=>e=>t.sections[e]||t.localSections[e]||{},GET_FAVORITE_SECTIONS:t=>t.favoriteSections.map(e=>t.sections[e]).filter(e=>e).reverse(),GET_FAVORITE_SECTIONS_URLS:(e,t)=>t.GET_FAVORITE_SECTIONS.map(e=>e.url),GET_HIDDEN_SECTIONS:t=>t.hiddenSections.map(e=>t.sections[e]).filter(e=>e),GET_HIDDEN_SECTIONS_URLS:(e,t)=>t.GET_HIDDEN_SECTIONS.map(e=>e.url),GET_HIDDEN_SECTIONS_COUNT:(e,t)=>t.GET_HIDDEN_SECTIONS.length,GET_FEATURED_SECTIONS:(e,t)=>{let s=[];for(var r in e.featuredSections)e.favoriteSections.includes(r)||e.hiddenSections.includes(r)||s.push(e.featuredSections[r]);return s},GET_NORMAL_SECTIONS:(e,t)=>{let s=[];for(var r in e.sections)e.favoriteSections.includes(r)||e.hiddenSections.includes(r)||e.featuredSections[r]||s.push(e.sections[r]);return s},GET_LOCAL_SECTIONS:e=>e.localSections,GET_RECENT_VISIT_SECTIONS:t=>t.recentVisitSections.map(e=>t.sections[e]).filter(e=>e&&!t.favoriteSections.includes(e.url)).reverse().slice(0,3),GET_RECENT_VISIT_SECTIONS_URLS:(e,t)=>t.GET_RECENT_VISIT_SECTIONS.map(e=>e.url),GET_GEO_SECTION:e=>e.geoSection,GET_INTERESTS:e=>e.interests,GET_INTEREST:t=>e=>t.interests[e]||{}},mutations:X,actions:{async[m.bQ.INIT_SECTIONS]({commit:e},{sections:t,localSections:s,featuredSections:r,interests:o}){t&&e("initSections",t),s&&e("initLocalSections",s);s=Object.values(s).find(e=>e.location.toUpperCase()===J.Z.getLocation());s&&e("initGeoSection",s),r&&e("initFeaturedSections",r),o&&e("initInterests",o)},[m.bQ.ADD_SECTION]({commit:e,getters:t},s){t.GET_SECTION(s.url).url||e("addSection",s)},[m.bQ.FAVORITE_SECTION]({commit:e,dispatch:t},s){t(m.bQ.UNHIDE_SECTION,s),e("favoriteSection",s)},[m.bQ.UNFAVORITE_SECTION]({commit:e},t){e("unfavoriteSection",t)},[m.bQ.ADD_RECENT_VISIT_SECTION]({commit:e,state:t},s){t.sections[s]&&e("addRecentVisitSection",s)},[m.bQ.REMOVE_RECENT_VISIT_SECTION]({commit:e},t){e("removeRecentVisitSection",t)},[m.bQ.CLEAR_RECENT_VISIT_SECTIONS]({commit:e}){e("clearRecentVisitSections")},[m.bQ.HIDE_SECTION]({commit:e,dispatch:t},s){t(m.bQ.UNFAVORITE_SECTION,s),e("hideSection",s)},[m.bQ.UNHIDE_SECTION]({commit:e},t){e("unhideSection",t)}}};function ee(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function te(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ee(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var se=t(8718),re=t.n(se);class oe extends I.Z{getFeaturedPosts(){const e=new(A())(`${this.baseUrl()}/featured-posts`);return P().get(e.toString()).then(e=>e.data.data).catch(this.returnError)}}const ie=new oe;var ne=t(9983),ae=t.n(ne);class ce extends I.Z{async getNoti(e){try{const t=new(A())(`${this.baseUrl()}/notifications`),s=(await P().post(t.toString(),e))["data"];return this._transformNoti(s.data)}catch(e){return null}}async setNotiReadState(e){try{const t=new(A())(`${this.baseUrl()}/notifications-read-state`);return P().post(t.toString(),e)}catch(e){return null}}async updateNotiUnreadCount(e){try{var{readStateUrl:t,readStateParams:s}=e;return s?await P().post(t,s):null}catch(e){return null}}_transformNoti(e){const{items:t,nextKey:s,didEndOfList:r}=e,o={items:[],posts:[],nextKey:s||"",didEndOfList:!!r},i=[];return t&&(t.forEach(e=>{var e=e["post"];e&&!i.includes(e.id)&&(o.posts.push(x.transformPost(e)),i.push(e.id))}),o.items=t),o}}const le=new ce;var de=t(1093).default,ue=t(7651).default,pe=t(8912),he={[H.Ve]:e=>t=>e.blocklist.find(e=>e.accountId===t)||null,[H.xN]:t=>e=>-1!==t.blocklistIds.indexOf(e)};function me(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}var a={[H._f]:(e,t)=>{e.blocklist=t},[H.uO]:(e,t)=>{e.blocklistIds=t},[H.sm]:(e,t)=>{e.blocklistIds.push(t)},[H.yk]:(e,t)=>{e.blocklistIds.splice(e.blocklistIds.indexOf(t),1)},[H.bR]:(e,t)=>{e.userToBlock=t&&function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?me(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):me(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({},t)},[H.wU]:(e,t)=>{e.blocklist.splice(t,1)},[H.iO]:(e,t)=>{e.lastMessagesFromBlockedUsersDiffCount=t},[H.Ai]:(e,t)=>{e.autoFollowThreadReply=t}},ge=t(5435),fe=t(1019),d=t(8316);class ye{constructor(e,t,s,r){this.hideProBadge=e,this.hideActiveTs=t,this.accentColor=s,this.backgroundColor=r}static fromJson(e){return new ye(e.hideProBadge,e.hideActiveTs,e.accentColor,e.backgroundColor)}}class Oe{constructor(e,t,s,r,o,i,n,a,c,l,d,u,p,h){this.userId=e,this.accountId=t,this.username=s,this.fullName=r,this.avatarUrl=o,this.emojiStatus=i,this.about=n,this.profileUrl=a,this.isActivePro=c,this.isActiveProPlus=l,this.isVerifiedAccount=d,this.creationTs=u,this.activeTs=p,this.preferences=h}static fromJson(e){let t=null;return e.preferences&&(t=ye.fromJson(e.preferences)),new Oe(e.userId,e.accountId,e.username,e.fullName,e.avatarUrl,e.emojiStatus,e.about,e.profileUrl,e.isActivePro,e.isActiveProPlus,e.isVerifiedAccount,e.creationTs,e.activeTs,t)}}class be extends d.g{constructor(e,t){super(),this.didEndOfList=e,this.users=t}static fromJson(e){const t=[];if(e.users.length)for(var s of e.users)t.push(Oe.fromJson(s));return new be(Boolean(e.didEndOfList),t)}}var ve=t(2915);class _e extends fe.g{constructor(){super(...arguments),this.url="/user-block-list",this.version=ve.pv,this._queryParams={fromIndex:0,itemCount:20}}baseUrl(){return`/${this.version}`}get queryParams(){return this._queryParams}set queryParams(e){this._queryParams=e}fetch(){return e=this,a=function*(){return P().post(this.getUrl(this._queryParams)).then(e=>be.fromJson(e.data.data)).catch(this.returnError)},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}setParams(e){return this._queryParams=Object.assign(Object.assign({},this._queryParams),e),this}}class Se extends fe.g{constructor(e=null){super(),this.accountId=e,this.url="/user-block",this.version=ve.pv,this.method="post"}baseUrl(){return`/${this.version}`}setToBlock(){return this.method="post",this}setToUnBlock(){return this.method="delete",this}fetch(){return e=this,a=function*(){return P()[this.method](this.getUrl({accountId:this.accountId})).then(e=>e.data.data).catch(this.returnError)},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}var w={namespaced:!0,modules:{settings:{namespaced:!0,state:()=>({userToBlock:null,blocklist:[],blocklistIds:[],lastMessagesFromBlockedUsersDiffCount:0,autoFollowThreadReply:!0}),getters:he,mutations:a,actions:{[H.Z8]:async({state:e,dispatch:t},{cursor:s})=>{const r=s?e.blocklist:[],o=(new _e).setParams({fromIndex:s}),i=await o.fetch();return t(H._f,[...r,...i.users]),!i.didEndOfList&&i.users.length<o.queryParams.itemCount&&(await t(H.Z8,{cursor:s+o.queryParams.itemCount})).didEndOfList&&(i.didEndOfList=!0),i},[H._f]:({commit:e},t)=>{e(H._f,t)},[H.uO]:({commit:e},t)=>{e(H.uO,t)},[H.bR]:({commit:e},t=null)=>{e(H.bR,t)},[H.h9]:async({state:e,dispatch:t,commit:s},r)=>{await new Se(r).fetch(),s(H.sm,r),t(`toasts/${ge.Pd}`,{text:`Youâ€™ve blocked @${e.userToBlock.displayName}`,type:"notice"},{root:!0}),t(H.bR,null)},[H.jk]:async({dispatch:e},{accountID:t,username:s})=>{await new Se(t).setToUnBlock().fetch(),e(`toasts/${ge.Pd}`,{text:`Youâ€™ve unblocked @${s}`,type:"notice"},{root:!0}),e(H.f9,t)},[H.f9]:({commit:e,dispatch:t},s)=>{e(H.yk,s),t(H.wU,s)},[H.wU]:({state:e,commit:t},s)=>{e=e.blocklist.findIndex(e=>e.accountId===s);-1!==e&&t(H.wU,e)},[H.iO]:({commit:e},t)=>{e(H.iO,t)},[H.Ai]:({commit:e},t)=>{e(H.Ai,t)}}}}},Te=t(5381),we=t(5333),Pe=t(2428),Ie=t(1836),E={[Pe.$j]:e=>e.boardState,[Pe.IV]:(e,t)=>{var s=e.userBoards.map(e=>t[Pe.aE](e)).filter(e=>e);return class{static sortBoardsByNewMessagesAndTime(e,o){return e.sort((e,t)=>{if(null===e.comment||null===t.comment)return 0;var s=o[e.id],r=o[t.id];return r||s?r&&!s?1:!r&&s?-1:r&&s?t.comment.updateTs-e.comment.updateTs:1:t.comment.updateTs>e.comment.updateTs?1:t.comment.updateTs<e.comment.updateTs?-1:0}),e.map(e=>e.id)}}.sortBoardsByNewMessagesAndTime(s,e.pollingUpdates)},[Pe.uF]:t=>t.featuredBoards.filter(e=>!t.userBoards.includes(e)),[Pe.aE]:t=>e=>t.boards[e],[Pe.CD]:t=>e=>t.newMessages[e],[Pe.nv]:(e,t)=>e=>t[Pe.aE](e).url,[Pe.NQ]:(e,s)=>({boardID:e,messageID:t})=>{t=s[Pe.mJ]({boardID:e,messageID:t});return t?t.permalink:""},[Pe.yn]:(e,t)=>e=>{try{return t[Pe.aE](e).board.followed}catch(e){return!1}},[Pe.zV]:(e,t)=>e=>{try{return t[Pe.$x](e).comments.reduce((e,t,s)=>(t.isInfoType()&&e.push(t.commentId),e),[])}catch(e){return!1}},[Pe.jI]:(e,t)=>({boardID:e})=>{e=t[Pe.aE](e);if(e)return e.article},[Pe.S0]:(e,t)=>()=>{if(e.focusedBoardID)return t[Pe.jI]({boardID:e.focusedBoardID})},[Pe.N4]:(e,s)=>({boardID:e,mediaID:t})=>{e=s[Pe.jI]({boardID:e});return we.Z.getArticleMediaById(e,t)},[Pe.Jq]:(e,t)=>e=>{e=t[Pe.aE](e);if(e)return e.board.muted},[Pe.RL]:(s,r)=>({boardID:e,filter:t=!0})=>{if(!t||!Object.keys(s.dismissedPins).includes(e)){e=r[Pe.aE](e);return e?e.board.pinned:void 0}},[Pe.$x]:t=>e=>t.conversations[e]||void 0,[Pe.rz]:s=>({boardID:e,isThread:t})=>{if(s.conversations[e])return t?s.conversations[e].comments[s.conversations[e].comments.length-1]:s.conversations[e].comments[0]},[Pe.$Q]:t=>e=>t.conversationsStates[e]||void 0,[Pe.um]:s=>({conversationId:e,direction:t="next"})=>s.conversationsCursors[e]?s.conversationsCursors[e][t]:void 0,[Pe.T3]:(e,s)=>({conversationID:e,messageID:t})=>{e=s[Pe.$x](e);return e&&e.parent&&e.parent.commentId===t},[Pe.mJ]:(e,o)=>({boardID:e,messageID:t})=>{const s=o[Pe.$x](e),r=o[Pe.T3]({conversationID:e,messageID:t});if(s){let e=s.comments.find(e=>e.commentId===t);return e&&!r||(e=s.parent),e}},[Pe.QV]:(e,r)=>({boardID:e,messageID:t})=>{const s=r[Pe.$x](e);if(s||s.comments){e=s.comments.findIndex(e=>e.commentId===t);return 0<=e?e:void 0}},[Pe.RA]:t=>e=>t.followStatusMap[e],[Pe.Oj]:(e,d,u)=>({boardID:e,messageID:t})=>{var s=d[Pe.mJ]({boardID:e,messageID:t});if(!s)return{};var r=s.type,e=location.hostname,t=u.config.configs.comment.cdnHost;let o="",i=null,n="",a=!1,c={};if(r===Ie.Ok&&0<s.media.length){const l=s.media[0];l.type===Ie.y8&&l.video?(o=l.video.url,a=!0):l.type===Ie.LD&&l.image&&(o=l.image.url,i=l.image.webpUrl),n=`https://${t}/image?ref=${e}#${o}`,l.image&&(c=l.image.calculateRealSize())}return{imageUrl:o,imageHref:n,webpUrl:i,videoUrl:null,isVideo:a,realSize:c}},[Pe.RQ]:t=>(e=null)=>t.pollingUpdates[e]||!1,[Pe.P1]:(e,t)=>{for(var[s,r]of Object.entries(e.pollingUpdates))if(-1!==e.userBoards.indexOf(s)&&!t[Pe.Jq](s)&&r)return!0;return!1}},Ee=t(5116),Ae=t(3257),ke=t(9749);class De{constructor(e={lastUserId:null,currentBlockIndex:0,maxTimestampsDiff:300,isInverted:!1}){this.messagesCombiningWorker=e}separateMessagesOntoGroupsByAuthorAndTs(e,t){var s;return this.messagesCombiningWorker.lastUserId||(this.messagesCombiningWorker.lastUserId=t.user.userId),t.user.userId!==this.messagesCombiningWorker.lastUserId&&++this.messagesCombiningWorker.currentBlockIndex,Array.isArray(e[this.messagesCombiningWorker.currentBlockIndex])||(e[this.messagesCombiningWorker.currentBlockIndex]=[]),e[this.messagesCombiningWorker.currentBlockIndex].length&&(s=e[this.messagesCombiningWorker.currentBlockIndex][e[this.messagesCombiningWorker.currentBlockIndex].length-1])&&Math.abs(t.timestamp-s.timestamp)>this.messagesCombiningWorker.maxTimestampsDiff&&(++this.messagesCombiningWorker.currentBlockIndex,e[this.messagesCombiningWorker.currentBlockIndex]=[]),e[this.messagesCombiningWorker.currentBlockIndex]&&(e[this.messagesCombiningWorker.currentBlockIndex].push(t),this.messagesCombiningWorker.lastUserId=t.user.userId),e}assignHeadersAndAvatars(s){const r=s.length-1;return s.map((e,t)=>(0==r?(e.showAvatar=!0,e.showHeader=!0):0===t||t===r?(s[t].showAvatar=0===t?!this.messagesCombiningWorker.isInverted:this.messagesCombiningWorker.isInverted,s[t].showHeader=t===r?!this.messagesCombiningWorker.isInverted:this.messagesCombiningWorker.isInverted):(e.showAvatar=!1,e.showHeader=!1),e))}static combineMessagesGroups(e,t){return e.concat(t)}combineMessages(e){return e.reduce((e,t)=>this.separateMessagesOntoGroupsByAuthorAndTs(e,t),[]).map(e=>this.assignHeadersAndAvatars(e)).reduce(De.combineMessagesGroups,[])}static postprocess(e){const t=new De({lastUserId:null,currentBlockIndex:0,maxTimestampsDiff:300,isInverted:1!==e.level});e.comments=t.combineMessages(e.comments),e.calculateCommentsSizes()}static filterReportedComments(e,t){return e.comments=e.comments.filter(e=>-1===t.indexOf(e.commentId)),e}static filterBlockedUsersComments(e,t){return e.comments=e.comments.filter(e=>-1===t.indexOf(e.user.accountId)),e}static filterMessages(e,t,s){s=De.filterReportedComments(e,s);return De.filterBlockedUsersComments(s,t)}static countDiffMessagesFromBlockedUsers(e,t){return e.comments.length-e.comments.filter(e=>0<=t.indexOf(e.user.accountId)).length}static prepareFetchMessagesRequest({messagesRequest:e,cursor:t,continueWithCursor:s,conversationId:r,threadID:o,direction:i,url:n},{dispatch:a}){s?t||null===t?(j.default.track(o?Ae.R.BOARD_THREAD:Ae.R.BOARD_MESSAGE,t.prev?Ae.e.LOAD_PREV:Ae.e.LOAD_NEXT,void 0,void 0,{}),e.setParams(Object.assign({},t))):a(Pe.KP,{boardID:r,direction:i,conversationState:ke.xJ}):e.setParams({url:n,commentId:o||void 0,level:o?2:1,type:o?"old":"new"})}static processFetchMessagesCursors({continueWithCursor:e,conversationId:t,direction:s,response:r},{dispatch:o}){if(e)o(Pe.KP,{boardID:t,direction:s,conversationState:r[s]?ke.DO:ke.xJ}),o(Pe.nW,{boardID:t,cursor:r[s],direction:s});else for(var i of["prev","next"])o(Pe.KP,{boardID:t,direction:i,conversationState:r[i]?ke.DO:ke.xJ}),o(Pe.nW,{boardID:t,cursor:r[i],direction:i})}static filterTemporaryComments(e,t){return t.filter(t=>!e.find(e=>t.commentId===`${e.commentId}_temp`))}}class Ce{constructor(e,t,s,r,o,i,n,a,c,l,d,u,p){this.userId=e,this.avatarUrl=t,this.displayName=s,this.emojiStatus=r,this.country=o,this.profileUrl=i,this.timestamp=n,this.isActivePro=a,this.isActiveProPlus=c,this.isVerifiedAccount=l,this.accountId=d,this.activeTs=u,this.preferences=p}static fromJson(e){let t=null;return e.preferences&&(t=ye.fromJson(e.preferences)),new Ce(e.userId,e.avatarUrl,e.displayName,e.emojiStatus,e.country,e.profileUrl,e.timestamp,e.isActivePro,e.isActiveProPlus,e.isVerifiedAccount,e.accountId,e.activeTs,t)}}class Ue extends t(2831).Z{constructor(){super(...arguments),this.type="image"}static fromJson(e){return new Ue(e.width||0,e.height||0,e.url||"")}}class Le extends Ue{constructor(e,t,s,r){super(e,t,s),this.webUrl=r,this.type="image"}static fromJson(e){return new Le(e.width||0,e.height||0,e.url||"",e.webUrl||"")}calculateRealSize(){let e=0,t=0;return 300<this.width?(e=300,t=300*this.height/this.width,300<t&&(e=300*e/t,t=300)):300<this.height?(t=300,e=300*this.width/this.height):(e=this.width,t=this.height),{width:e,height:t}}}class je{constructor(e){this.type=e,this.image=null,this.imageXLarge=null,this.animated=null,this.video=null}static fromJson(e){const t=new je(e.type||"");return e.image&&(t.image=Le.fromJson(e.image)),e.imageXLarge&&(t.imageXLarge=Ue.fromJson(e.imageXLarge)),e.animated&&(t.animated=Ue.fromJson(e.animated)),e.video&&(t.video=Ue.fromJson(e.video)),t}static fromJsonArray(e){const t=[];for(var s of e)t.push(je.fromJson(s.imageMetaByType));return t}}var Ne=t(2129);const Re="info";class Me extends d.g{constructor(e,t,s,r,o="text",i=1,n=null,a=null,c=null,l=null,d=null,u=Math.floor(Date.now()/1e3),p=0,h=0,m=0,g=0,f=0,y=null,O=!0,b=!0,v=!1,_=12,S=!1,T=20,w=0,P=0,I=0){super(),this.commentId=e,this.text=t,this.mediaText=s,this.user=r,this.type=o,this.level=i,this.media=n,this.mentionMapping=a,this.parent=c,this.permalink=l,this.threadId=d,this.timestamp=u,this.isVoteMasked=p,this.likeCount=h,this.dislikeCount=m,this.isPinned=g,this.childrenTotal=f,this.childrenUrl=y,this.showHeader=O,this.showAvatar=b,this.showFooter=v,this.size=_,this.isTextHeightAdded=S,this.textHeight=T,this.isCollapsed=w,this.isDeleted=P,this.isSensitive=I}static fromJson(e){let t,s=null,r=null;var{showHeader:o=!0,showAvatar:i=!0,showFooter:n=!1,textHeight:a=1,size:c=12,isTextHeightAdded:l=!1}=e;if(e.mentionMapping&&(s=new Map(Object.entries(e.mentionMapping))),e.media&&(r=Array.isArray(e.media)?e.media[0]&&e.media[0]instanceof je?e.media:je.fromJsonArray(e.media):je.fromJson(e.media)),!e.user)throw new Error("Cannot create ConversationItem without User's data");return t=e.user instanceof Ce?e.user:Ce.fromJson(e.user),new Me(e.commentId,e.text,e.mediaText,t,e.type,e.level,r,s,e.parent,e.permalink,e.threadId,e.timestamp,e.isVoteMasked,e.likeCount,e.dislikeCount,e.isPinned,e.childrenTotal,e.childrenUrl,o,i,n,c,l,a,e.isCollapsed,e.isDeleted,e.isSensitive)}static infoMessage(e,t,s){return new Me(e,t,t,s,Re)}isInfoType(){return this.type===Re}calculateSize(){if(this.isInfoType())this.size=40;else{let e=12;e+=this.showHeader?18:0,e+=this.showFooter?32:0,this.type===Ne.JA&&this.media&&Array.isArray(this.media)&&0<this.media.length&&this.media[0].image&&1!==this.isCollapsed&&1!==this.isDeleted&&(e+=this.isSensitive&&Us.getters["session/SHOW_SENSITIVE_MASK"](this.commentId)?182:this.media[0].image.calculateRealSize().height+3),0<this.childrenTotal&&(e+=24),this.isTextHeightAdded?this.size=e+this.textHeight:this.size=e}}changeSizeOnFooterToggle(e){e?this.size+=32:this.size-=32}}function xe(e){e=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);e=t.call(e,"string");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(e);return"symbol"==typeof e?e:String(e)}function We(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Ve(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?We(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):We(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}X={[Pe.M_](e,t){e.boardState=t},[Pe.w2](e){e.pollingStarted=!0},[Pe.Ww]:(e,{conversationID:t,hasUpdates:s})=>{e.pollingUpdates=Ve(Ve({},e.pollingUpdates),{},{[t]:s})},[Pe.SZ](e,{boardID:t,messages:s}){e.newMessages=Ve(Ve({},e.newMessages),{},{[t]:s})},[Pe.$I](e,t){e.newMessages[t]=null},[Pe.s2](e,t){e.focusedBoardID=t},[Pe.VH](e,t){e.focusedThreadID=t},[Pe.Sd]:(e,t)=>{e.focusedMessageID=t},[Pe.V6](e,t){e.featuredBoards=t},[Pe.vP](e,t){e.userBoards=t},[Pe.y5](e,t){e.userBoards.push(t)},[Pe.qh](e,t){t=e.userBoards.indexOf(t);e.userBoards.splice(t,1)},[Pe.k5](e,{boardId:t,value:s}){e.boards[t]&&(e.boards[t].board.followed=s,e.boards[t].board.memberCount+=s?1:-1)},[Pe.Hf](e,{boardID:t,value:s}){e.boards[t]&&(e.boards[t].board.muted=s)},[Pe.aO](e,{boardID:t,board:s}){e.boards[t]&&(e.boards[t]=s)},[Pe.H4](e,t){e.boards=t},[Pe._i]:(e,{boardID:t,message:s,isParent:r=!1})=>{if(r)e.conversations[t].parent=s;else{const r=e.conversations[t].comments,o=r.findIndex(e=>e.commentId===s.commentId);r[o]=s,e.conversations[t].comments=[...r]}},[Pe.r0](e,t){e.focusedBoardViewMode=t},[Pe.dr](e,t){e.contextMenuViewMode=t},[Pe.rC](e,t){e.messageContextMenuOptions=t},[Pe.fI](e,{boardID:t,conversation:s}){e.conversations=Ve(Ve({},e.conversations),{},{[t]:s}),De.postprocess(s)},[Pe.KP](e,{boardID:t,direction:s,conversationState:r}){e.conversationsStates=Ve(Ve({},e.conversationsStates),{},{[t]:Ve(Ve({},e.conversationsStates[t]),{},{[s]:r})})},[Pe.nW](e,{boardID:t,direction:s,cursor:r}){e.conversationsCursors=Ve(Ve({},e.conversationsCursors),{},{[t]:Ve(Ve({},e.conversationsCursors[t]),{},{[s]:r})})},[Pe.aT](e,t){e.conversations[t]=void 0,e.newMessages[t]=void 0,e.conversationsCursors[t]=void 0,e.conversationsStates[t]=void 0},[Pe.zx](e,{boardID:t,timestamp:s}){e.dismissedPins=Ve(Ve({},e.dismissedPins),{},{[t]:s})},[Pe.E](e,t){var s=e.dismissedPins,{[t]:r}=s,t=(0,Ee.Z)(s,[t].map(xe));e.dismissedPins=t},[Pe.XF]:(e,{threadId:t,followed:s})=>{e.followStatusMap=Ve(Ve({},e.followStatusMap),{},{[t]:s})},[Pe.j](e,t){e.messageForDelete=t},[Pe.ZX]:(e,t)=>{e.showNewMessage=t},[Pe.M3]:(e,t)=>{t.showFooter=!t.showFooter,t.changeSizeOnFooterToggle(t.showFooter)},[Pe.lL]:(e,{boardID:t,messageIndex:s,height:r})=>{const o=e.conversations[t].comments[s];o.textHeight=r,o.isTextHeightAdded=!0,o.calculateSize()},[Pe.tM]:(e,t)=>{e.replyMessage=t},[Pe.Su]:(e,t)=>{De.postprocess(e.conversations[t])},[Pe.QY]:(e,{boardID:t,messageID:s})=>{const r=Be(e,t,s);r&&(r.isDeleted=1)},[Pe.Cd]:(e,{boardID:t,messageID:s})=>{const r=Be(e,t,s);r&&(r.isCollapsed=0,r.isTextHeightAdded=!1,r.calculateSize())},[Pe.vL](e,{boardID:t,messageID:s}){const r=Be(e,t,s);r&&r.calculateSize()}};function Be(e,t,s){const r=e.conversations[t];return r?r.comments.find(e=>e.commentId===s):void 0}class Ge extends fe.g{static setConfig(e){Ge.config=e}}function Fe(e,n,a,c){return new(a=a||Promise)(function(s,t){function r(e){try{i(c.next(e))}catch(e){t(e)}}function o(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,o)}i((c=c.apply(e,n||[])).next())})}class $e extends fe.g{constructor(e,t="v1"){super(),this.boardId=e,this.version=t,this.url="/board-follow"}request(e){return Fe(this,void 0,void 0,function*(){return P()[e](this.getUrl({id:this.boardId})).catch(this.returnError)})}follow(){return Fe(this,void 0,void 0,function*(){return this.request("post")})}unfollow(){return Fe(this,void 0,void 0,function*(){return this.request("delete")})}baseUrl(){return`/${this.version}`}}se=t(7429);class Ze extends se.L{constructor(){super(...arguments),this.url="/group-boards",this.version=ve.pv,this.method="get",this.location=null}setLocation(e){return this.location=e,this}getUrl(e=null){return e={location:this.location},super.getUrl(e)}}var He=t(1394);class Ke extends se.L{constructor(){super(...arguments),this.url="/user-boards",this.version=ve.pv}}var ne=t(129),ze=t.n(ne);class Ye extends fe.g{baseUrl(){return`/${this.version}`}}class qe extends Ye{constructor(){super(...arguments),this.url="/board-notification",this.version=ve.pv,this.boardID=null,this.mute=null}setBoardID(e){return this.boardID=e,this}setMute(e){return this.mute=e,this}getData(){return ze().stringify({id:this.boardID,mute:this.mute})}fetch(){return e=this,a=function*(){return P().post(this.getUrl(),this.getData())},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}function Xe(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Je(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Xe(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Xe(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}I={[Pe.qg]:async({dispatch:e,state:t,rootState:{config:{configs:{comment:s,board:{pollingTimeout:r}}},user:{user:{commentAuth:o}}}})=>{Ge.setConfig(s),await e("user/"+Pe.MC,{auth:o}),await e(Pe.r6),await e(Pe.Xq),await e(Pe.uR),null===t.focusedBoardID&&e(Pe.s2,Object.keys(t.boards)[0]),!t.pollingStarted&&r&&(e(Pe.w2,1e3*r),e(Pe.zg,1e3*r))},[Pe.vP]:async({commit:e},t)=>{e(Pe.vP,t)},[Pe.V6]:async({commit:e},t)=>{e(Pe.V6,t)},[Pe.Q3]:async({commit:e,state:t},s)=>{e(Pe.H4,Je(Je({},t.boards),{},{[s.id]:s}));let r=[...t.featuredBoards];r.includes(s.id)||r.unshift(s.id),e(Pe.V6,r)},[Pe.H4]:async({commit:e},t)=>{e(Pe.H4,t)},[Pe.Xq]:async({dispatch:t,rootGetters:e,state:s})=>{e=e["user/IS_LOGGED_IN"];let r=new Map,o=[];try{e&&(r=await(new Ke).fetch(),o=[...r.keys()])}catch(t){}if(0<r.size){let e=Je({},s.boards);for(var i of r.keys())e[i]=r.get(i);t(Pe.H4,e)}return t(Pe.vP,o),r},[Pe.r6]:async({dispatch:t,state:s})=>{let r=new Map,e=[];try{const t=J.Z.getLocation();r=await(new Ze).setLocation(t).fetch(),e=[...r.keys()]}catch(t){}if(0<r.size){let e=Je({},s.boards);for(var o of r.keys())e[o]=r.get(o);t(Pe.H4,e)}return t(Pe.V6,e),r},[Pe.U_]:async({commit:e,dispatch:t},s)=>{await new $e(s).follow(),e(Pe.k5,{boardId:s,value:!0}),t(Pe.ld,{boardID:s,message:"You've joined this board."}),e(Pe.y5,s)},[Pe.Au]:async({commit:e,dispatch:t},s)=>{await new $e(s).unfollow(),e(Pe.k5,{boardId:s,value:!1}),e(Pe.Hf,{boardID:s,value:!1}),e(Pe.qh,s),t(Pe.M7,{boardID:s})},[Pe.jK]:async({dispatch:e,commit:t},{boardID:s,mute:r=!0})=>{await(new qe).setBoardID(s).setMute(r?1:0).fetch(),t(Pe.Hf,{boardID:s,value:r}),e(`toasts/${ge.Pd}`,{text:`Notification ${r?"muted":"unmuted"}.`,type:"info"},{root:!0})},[Pe.s2]:async({commit:e,dispatch:t,getters:s,state:r},o)=>{let i=s[Pe.aE](o);if(!i)try{const e=(new He.Z).setPostId(o);i=await e.fetch(),await t(Pe.Q3,i)}catch(e){}i&&(r.focusedBoardID&&t(Pe.M7,{boardID:r.focusedBoardID}),e(Pe.s2,o),e(Pe.VH,null),t(Pe.r0,Te.tc),t(Pe.Di,o),t(Pe.CW,o))},[Pe.zx]:async({commit:e},t)=>{e(Pe.zx,{boardID:t,timestamp:Math.floor(Date.now()/1e3)})},[Pe.Di]:async({commit:e,getters:t,state:s},r)=>{t=t[Pe.RL]({boardID:r,filter:!1});Object.keys(s.dismissedPins).includes(r)&&t.updateTs>s.dismissedPins[r]&&e(Pe.E,r)},[Pe.vL]({commit:e},{boardID:t,messageID:s}){e(Pe.vL,{boardID:t,messageID:s})}};class Qe extends d.g{constructor(e,t,s,r,o,i,n,a,c,l){super(),this.url=e,this.status=t,this.lock=s,this.total=r,this.opUserId=o,this.comments=i,this.prev=n,this.next=a,this.parent=c,this.level=l}static fromJson(e){let t=[],s=null;return 0<e.comments.length&&(t=e.comments.map(e=>e instanceof Me?e:Me.fromJson(e))),e.parent&&(s=Me.fromJson(e.parent)),new Qe(e.url||"",e.status||0,e.lock||!1,e.total||0,e.opUserId||"",t||[],e.prev||null,e.next||null,s||null,e.level||"")}addItem(e,t=!0){t?this.comments.push(e):this.comments.unshift(e)}removeItemByID(e){e=this.findMessageIndexById(e);0<=e&&this.comments.splice(e,1)}findMessageIndexById(t){return this.comments.findIndex(e=>e.commentId===t)}calculateCommentsSizes(){for(const e of this.comments)e.calculateSize()}}class et extends Ge{constructor(){super(...arguments),this.cacheable=!1,this.auth=null,this.conversation=null,this.defaultQueryParams={appId:"",commentId:null,count:0,url:null},this.queryParams=null}baseUrl(){return`https://${this.cacheable?Ge.config.cdnHost:Ge.config.host}/${this.version}${this.cacheable?"/cacheable":""}`}}class tt extends et{constructor(){super(),this.version="v2",this.cacheable=!0,this.url="/comment-list.json",this.defaultQueryParams={appId:"",count:10,type:"new",url:null,commentId:null,prev:null,next:null,level:null},this.defaultQueryParams.appId=et.config.appId}setAuth(e){return this.auth=e,this.cacheable=!1,this}setParams(e){return this.queryParams=re()(Object.assign(Object.assign({},this.defaultQueryParams),e),Object.keys(this.defaultQueryParams)),fe.g.clearRequestParamsFromEmptyKeys(this.queryParams),this}getConversation(){return this.conversation}fetch(){return e=this,a=function*(){var e=this.cacheable?yield P().get(this.getUrl(Object.assign(Object.assign({},this.queryParams),{origin:window.location.origin}))):yield P().post(this.getUrl(),ze().stringify(Object.assign(Object.assign({},this.queryParams),{auth:this.auth})));return this.conversation=Qe.fromJson(e.data.payload),this.conversation},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}function st(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function rt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?st(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):st(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const ot={[Pe.fI]:async({dispatch:e,commit:t,getters:s,rootState:r},{boardID:o,conversation:i,direction:n="next"})=>{var a=s[Pe.$x](o),s=De.countDiffMessagesFromBlockedUsers(i,r.user.settings.blocklistIds);if(e(`user/settings/${H.iO}`,s,{root:!0}),i=De.filterMessages(i,r.user.settings.blocklistIds,r.boards.user.reportedCommentIDs),a){const e="next"===n?[...a.comments,...i.comments]:[...i.comments,...a.comments];i=Qe.fromJson(rt(rt(rt({},a),i),{},{comments:e}))}t(Pe.fI,{boardID:o,conversation:i})},[Pe.KP]:({commit:e},t)=>{e(Pe.KP,t)},[Pe.nW]:({commit:e},{boardID:t,cursor:s,direction:r="next"})=>{if(s||null===s){if("object"!=typeof s){if("string"!=typeof s)return;try{s=ze().parse(s)}catch(e){return}}e(Pe.nW,{boardID:t,cursor:s,direction:r})}},[Pe.fh]:async(e,{boardID:t,threadID:s,direction:r="next",continueWithCursor:o=!1})=>{const{dispatch:i,rootState:{user:{user:n}},getters:a}=e,c=s||t,l=a[Pe.aE](t);if(l){const d=l.url,u=(new tt).setAuth(n.commentAuth),p=a[Pe.um]({conversationId:c,direction:r});De.prepareFetchMessagesRequest({messagesRequest:u,cursor:p,continueWithCursor:o,conversationId:c,threadID:s,direction:r,url:d},e);s=await u.fetch();i(Pe.fI,{boardID:c,conversation:s,direction:r}),De.processFetchMessagesCursors({continueWithCursor:o,conversationId:c,direction:r,response:s},e)}else i(Pe.KP,{boardID:c,direction:r,conversationState:ke.xJ})},[Pe.aT]:({commit:e},t)=>{e(Pe.aT,t)}},it={[Pe.ld]:async({commit:e,getters:t,rootState:{user:{user:s}},dispatch:r},{boardID:o,message:i})=>{t[Pe.aE](o)&&(s=Me.infoMessage(o+"_join_"+s.userId,i,s),r(Pe.rr,{boardID:o,newMessage:s}),e(Pe.ZX,!0))},[Pe.M7]:async({getters:e,dispatch:t},{boardID:s})=>{const r=e[Pe.zV](s);r&&Array.isArray(r)&&r.map(e=>{t(Pe.dV,{boardID:s,messageID:e})})}},nt="ADD__REPORTED_MESSAGE";var at=t(4349);class ct extends et{constructor(){super(),this.url="/comment.json",this.version=ve.pv,this.auth=null,this.appId=null,this.commentId=null,this.postUrl=null,this.appId=Ge.config.appId}setAuth(e){return this.auth=e,this}setCommentId(e){return this.commentId=e,this}setPostUrl(e){return this.postUrl=e,this}fetch(){return e=this,a=function*(){yield P().post(this.getUrl(),this.getData())},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}getData(){var e={appId:this.appId,auth:this.auth,id:this.commentId,url:this.postUrl,_method:"DELETE"};return ze().stringify(e)}}class lt extends et{constructor(){super(...arguments),this.url="/report.json",this.version=ve.pv,this.auth=null,this.commentId=null,this.postUrl=null,this.reportData={}}setAuth(e){return this.auth=e,this}setCommentId(e){return this.commentId=e,this}setPostUrl(e){return this.postUrl=e,this}setReportData(e){return this.reportData=e,this}fetch(){return e=this,a=function*(){yield P().post(this.getUrl(),this.getData())},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}getData(){var e={appId:Ge.config.appId,auth:this.auth,commentId:this.commentId,url:this.postUrl,userReportData:JSON.stringify(this.reportData)};return ze().stringify(e)}}class dt extends d.g{constructor(e){super(),this.count=e}static fromJson(e){return new dt(e.count)}}class ut extends d.g{constructor(e,t,s,r,o){super(),this.comment=e,this.opUserId=t,this.postId=s,this.quota=r,this.total=o}static fromJson(e){let t=null,s=null;return e.comment&&(t=Me.fromJson(e.comment)),e.quota&&(s=dt.fromJson(e.quota)),new ut(t,e.opUserId,e.postId,s,e.total)}}function pt(e,n,a,c){return new(a=a||Promise)(function(s,t){function r(e){try{i(c.next(e))}catch(e){t(e)}}function o(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,o)}i((c=c.apply(e,n||[])).next())})}class ht extends et{constructor(){super(),this.url="/add-comment.json",this.version=ve.t1,this.auth=null,this.appId=null,this.boardUrl=null,this.message=null,this.parentId=null,this.delegateUserId=null,this.replyThreadOnly=!1,this.attachments=[],this.appId=Ge.config.appId}setAuth(e){return this.auth=e,this}setMessage(e){return this.message=e,this}setConversationUrl(e){return this.boardUrl=e,this}setParentId(e){return this.parentId=e,this}setDelegateUserId(e){return this.delegateUserId=e,this}setMedia(e){return this.attachments.push(e.attachment),this}setReplyThreadOnly(e){return this.replyThreadOnly=e,this}getData(){var e={appId:this.appId,url:this.boardUrl,auth:this.auth,text:this.message,parent:this.parentId||void 0,attachments:this.attachments.map(({type:e,token:t})=>({type:e,token:t})),replyThreadOnly:this.replyThreadOnly?1:void 0,delegateUserId:this.delegateUserId||void 0};return e.attachments.length?e:ze().stringify(e)}fetch(){return pt(this,void 0,void 0,function*(){var e=yield P().post(this.getUrl(),this.getData());return ut.fromJson(e.data.payload)})}fetchLinkPreviews(){var r;return pt(this,void 0,void 0,function*(){const e=null===(r=this.message)||void 0===r?void 0:r.match(N.default.urlRegExp());if(e)for(var t of e){const e=yield P().post(`${this.baseUrl()}/link-attachment.json`,ze().stringify({appId:this.appId,auth:this.auth,url:t})),s=(e.data.payload||{})["attachment"];s&&this.attachments.push(s)}})}}var mt=t(6878),gt=t(7651).default;function ft(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function yt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ft(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Ot={F:"female",M:"male",X:"everyone"},bt={[Pe.hT]:async({state:t,commit:s,dispatch:r,rootState:{user:{user:e}},getters:o,rootState:i,rootGetters:n},{boardID:a,threadID:c,message:l})=>{const d=o[Pe.aE](a);if(d){n=n[`attachments/${at.ZI}`](a);if(!l.length&&!n.length)throw new Error("You should say something...");const u=d.url,p=(new ht).setAuth(e.commentAuth).setConversationUrl(u).setMessage(l);for(const t of n)p.setMedia(t.uploadedMedia);c&&(p.setParentId(c),t.replyMessage&&p.setParentId(t.replyMessage.commentId));var n=(await p.fetch())["comment"];if(r(Pe.rr,{boardID:c||a,newMessage:n,isInverted:!!c}),c){let e=o[Pe.mJ]({boardID:a,messageID:c});e&&(e=Me.fromJson(e),e.childrenTotal++,e.calculateSize(),s(Pe._i,{boardID:a,message:e}));const h=i.user.settings.autoFollowThreadReply,l=t.conversations[c].parent.threadId;void 0===t.followStatusMap[l]&&await r(Pe.GB,l);const d=o[Pe.RA](l);h&&!d&&await r(Pe.W$,{threadId:l,followed:!0})}}},[Pe.zX]:async({getters:a,dispatch:c,rootState:{user:{user:l},attachments:{uploadedFiles:d}},rootGetters:u},{boardID:p,threadID:h})=>{var m=a[Pe.aE](p);if(m){let{location:e,gender:t,accountId:s}=l,{board:{message:r,reply:o,location:i}}=m,n=new mt.Z;if(0<r.cooldown&&(m=a[Pe.rz]({boardID:p,isThread:!!h}),a=Math.floor(gt.getCurrentTime()-m.timestamp),m.type!==Re&&m.user.accountId===s&&a<r.cooldown&&n.putError(new Error(`Youâ€™re sending message too quickly. You will be able to send message again in ${r.cooldown-a} seconds.`))),"required"!==r.media||d[p]||h||n.putError(new Error("You must include an image when posting new message.")),i&&e.toLowerCase()!==i.toLowerCase()&&(await c("config/LOAD_APP_CONFIG",{},{root:!0}),u=u["config/GET_APP_CONFIG"]("profile.countries"),n.putError(new Error(`This board only accepts new ${h?"reply":"message"} from members from ${u[i.toLowerCase()]}.`))),h||"everyone"===r.gender||Ot[t]===r.gender||n.putError(new Error(`This board only accepts new messages from ${r.gender} members.`)),h&&"everyone"!==o.gender&&Ot[t]!==o.gender&&n.putError(new Error(`This board only accepts new replies from ${o.gender} members.`)),!n.isEmpty())throw n}},[Pe.rr]:({commit:e,getters:t},s)=>{var{boardID:r,newMessage:o,isInverted:s=!1}=s,t=t[Pe.$x](r);if(t&&t.comments){const i=Qe.fromJson(yt({},t));return i.addItem(o,s),e(Pe.fI,{boardID:r,conversation:i})}},[Pe.dV]:({commit:e,getters:t},s)=>{var{boardID:r,messageID:s}=s,t=t[Pe.$x](r);if(t&&t.comments){const o=Qe.fromJson(yt({},t));return o.removeItemByID(s),e(Pe.fI,{boardID:r,conversation:o})}},[Pe.h_]:async({commit:e,dispatch:t,getters:s,rootState:{user:{user:r}}},o)=>{const{boardID:i,messageID:n}=o,a=s[Pe.$x](i),c=a.url,l=new ct;l.setAuth(r.commentAuth).setCommentId(n).setPostUrl(c),await l.fetch(),a.comments.find(e=>e.commentId===n).childrenTotal?e(Pe.QY,{boardID:i,messageID:n}):t(Pe.dV,{boardID:i,messageID:n})},[Pe.at]:async({dispatch:e,getters:t,rootState:{user:{user:s}}},r)=>{var{reportData:o,boardID:i,messageID:r}=r;e(Pe.dV,{boardID:i,messageID:r});const n=t[Pe.$x](i)["url"],a=new lt;a.setAuth(s.commentAuth).setCommentId(r).setPostUrl(n).setReportData(o),await a.fetch(),e("boards/user/ADD__REPORTED_MESSAGE",r,{root:!0})},[Pe.Cd]:({commit:e},t)=>e(Pe.Cd,t)};class vt extends d.g{constructor(e){super(),this.followed=e}static fromJson(e){return new vt("boolean"==typeof e.followed&&e.followed)}}class _t extends fe.g{constructor(){super(...arguments),this.threadId=null}baseUrl(){return`/${this.version}`}}class St extends _t{constructor(){super(...arguments),this.url="/follow-thread-status",this.version=ve.pv,this.threadId=null}setThreadId(e){return this.threadId=e,this}fetch(){return e=this,a=function*(){var e=yield P().post(this.getUrl(),this.getData());return vt.fromJson(e.data.data)},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}getData(){var e={threadId:this.threadId};return ze().stringify(e)}}class Tt extends _t{constructor(){super(...arguments),this.url="/follow-thread",this.version=ve.pv,this.threadId=null,this.followed=null}setThreadId(e){return this.threadId=e,this}setFollowed(e){return this.followed=e,this}fetch(){return e=this,a=function*(){yield P().post(this.getUrl(),this.getData())},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}getData(){return{threadId:this.threadId,follow:this.followed}}}class wt extends et{constructor(){super(...arguments),this.url="/like.json",this.version=ve.pv,this.auth=null,this.commentId=null,this.value=null}setAuth(e){return this.auth=e,this}setCommentId(e){return this.commentId=e,this}setValue(e){return this.value=e,this}fetch(){return e=this,a=function*(){var e={appId:Ge.config.appId,auth:this.auth,commentId:this.commentId,value:this.value};yield P().post(this.getUrl(e))},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}he={[Pe.y$]:({commit:t,getters:s,dispatch:r,rootState:{boards:o,user:{user:i}}},e)=>{var{boardID:n,messageID:a,isLike:c}=e,e=s[Pe.$x](n);if(e&&e.comments){let e=s[Pe.mJ]({boardID:n,messageID:a});if(e){e=Me.fromJson(e);var s=s[Pe.T3]({conversationID:n,messageID:a}),o=o.user.likeMapping,l=a in o?parseInt(o[a],10):0;if(c!==l){switch(c){case-1:e.likeCount=1===l?e.likeCount-1:e.likeCount,e.dislikeCount++;break;case 0:e.likeCount=1===l?e.likeCount-1:e.likeCount,e.dislikeCount=-1===l?e.dislikeCount-1:e.dislikeCount;break;case 1:e.likeCount++,e.dislikeCount=-1===l?e.dislikeCount-1:e.dislikeCount}t(Pe._i,{boardID:n,message:e,isParent:s}),r(`user/${Pe.qv}`,{[a]:c});const d=new wt;d.setAuth(i.commentAuth).setCommentId(a).setValue(c),d.fetch()}}}},[Pe.j]({commit:e},t){var{boardID:s,messageID:t}=t;e(Pe.j,{boardID:s,messageID:t})},[Pe.GB]:async({commit:e,getters:t},s)=>{if(s&&void 0===t[Pe.RA](s)){const r=(new St).setThreadId(s),o=await r.fetch();e(Pe.XF,{threadId:s,followed:o.followed})}},[Pe.W$]:async({commit:e},{threadId:t,followed:s})=>{const r=new Tt;r.setThreadId(t).setFollowed(s),await r.fetch(),e(Pe.XF,{threadId:t,followed:s})},[Pe.lL]:({commit:e,getters:t},{boardID:s,messageID:r,height:o})=>{r=t[Pe.QV]({boardID:s,messageID:r});void 0!==r&&e(Pe.lL,{boardID:s,messageIndex:r,height:o})}};function Pt(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function It(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Pt(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var a=It(It(It(It({},bt),he),ot),it),Et=t(3913);function At(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function kt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?At(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):At(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var se={[Pe.w2]:async({dispatch:r,commit:o,getters:i,state:n},a)=>{const c=async()=>{if(J.Z.isWindowInactive())setTimeout(c,a);else if(0!==i[Pe.IV].length){try{const a=await(new Ke).fetch();for(var e of a.keys()){var t=i[Pe.aE](e),s=a.get(e);if(t&&s.comment.updateTs>t.comment.updateTs||n.pollingUpdates[e]){const a=i[`position/${Et.Mw}`](e);e===n.focusedBoardID&&a&&a.isAtTheBottom&&n.boardState===Te.Hi&&n.focusedBoardViewMode===Te.tc?await r(Pe.Dy,e):r(Pe.Ww,{conversationID:e,hasUpdates:!0}),o(Pe.aO,{boardID:e,board:s})}}}catch(e){}setTimeout(c,a)}else setTimeout(c,a)};setTimeout(c,a),o(Pe.w2)},[Pe.zg]:async({dispatch:s,state:r,getters:o},i)=>{const n=async()=>{var e=r.focusedBoardID;if(J.Z.isWindowInactive())setTimeout(n,i);else{var t=o[`position/${Et.Mw}`](e);if(t&&t.isAtTheBottom)if(-1===r.userBoards.indexOf(e)&&r.boardState!==Te.Yn){try{await s(Pe.Dy,e)}catch(e){}setTimeout(n,i)}else setTimeout(n,i);else setTimeout(n,i)}};setTimeout(n,i)},[Pe.Dy]:async({dispatch:e,getters:t,rootState:{user:{user:s}}},r)=>{t=t[Pe.$x](r);if(t){const o={url:t.url,type:"old",count:100,level:t.level},i=t.comments[0].type===Re?t.comments[1]||void 0:t.comments[0];i&&i.commentId&&(o.commentId=i.commentId);const n=(new tt).setAuth(s.commentAuth).setParams(o),a=await n.fetch(),c=[];for(const l of a.comments)l.timestamp<=i.timestamp||c.push(l);c.length&&await e(Pe.SZ,{boardID:r,messages:c.slice().reverse()})}},[Pe.CW]:async({dispatch:e,state:t,getters:s},r)=>{if(t.pollingUpdates[r]){const t=s[Pe.$x](r),o=s[`position/${Et.Mw}`](r);t?o&&o.isAtTheBottom&&(e(Pe.Ww,{conversationID:r,hasUpdates:!1}),e(Pe.Dy,r)):e(Pe.Ww,{conversationID:r,hasUpdates:!1})}},[Pe.Ww]:({commit:e},t)=>{e(Pe.Ww,t)},[Pe.SZ]:async({commit:e},{boardID:t,messages:s})=>{e(Pe.SZ,{boardID:t,messages:s})},[Pe.xV]:async({commit:e,dispatch:t,state:s,getters:r},o)=>{s=s.newMessages[o];s&&0!==s.length&&(r=r[Pe.$x](o),s=Qe.fromJson(kt(kt({},r),{},{comments:s})),t(Pe.fI,{boardID:o,conversation:s,direction:"prev"}),e(Pe.$I,o),t(Pe.Ww,{conversationID:o,hasUpdates:!1}))}},Dt=t(1093),ne={[Pe.gJ]:async({dispatch:e},{boardID:t,url:s=null,type:r=Dt.default.COMMENT_REPLY})=>{await e(Pe.M_,Te.Hi),await e(Pe.s2,t);const o=new URL(s);if(o.hash){const s=ze().parse(o.hash.substr(1));s.cs_comment_id&&(e(Pe.r0,Te.eT),e(Pe.VH,s.cs_comment_id),e(Pe.Sd,s.cs_comment_id),r===Dt.default.COMMENT_UPVOTE&&e(Pe.M3,{boardID:t,messageID:s.cs_comment_id}))}},[Pe.uR]:async({dispatch:e,rootState:{route:t}})=>{t.query.board&&(await e(Pe.M_,Te.Hi),await e(Pe.s2,t.query.board),t.hash)&&(t=ze().parse(t.hash.substr(1)),e(Pe.r0,Te.eT),e(Pe.VH,t.cs_comment_id),e(Pe.Sd,t.cs_comment_id))},[Pe.M_]:async({state:e,commit:t,dispatch:s},r)=>{t(Pe.M_,r),r===Te.Hi&&s(Pe.s2,e.focusedBoardID)},[Pe.VH]:async({commit:e},t)=>{e(Pe.VH,t),null===t&&e(Pe.tM,null)},[Pe.Sd]:({commit:e},t)=>{e(Pe.Sd,t),setTimeout(()=>{e(Pe.Sd,null)},5e3)},[Pe.r0]:async({commit:e,dispatch:t,state:s},r)=>{if(-1===[Te.tc,Te.eT,Te.$$,Te.sE].indexOf(r))throw new Error("Cannot set unknown viewMode to the Board View");e(Pe.r0,r),r===Te.tc&&await t(Pe.CW,s.focusedBoardID)},[Pe.dr]:async({commit:e},t)=>{if(-1===[Te.Hi,Te.Yn].indexOf(t))throw new Error("Cannot set unknown viewMode to the Board's Context Menu");e(Pe.dr,t)},[Pe.iI]:async({dispatch:e,state:t})=>t.contextMenuViewMode===Te.Hi?await e(Pe.dr,Te.Yn):await e(Pe.dr,Te.Hi),[Pe.aJ]:({commit:e})=>{e(Pe.rC,{viewMode:Te.Yn,boardId:null,messageId:null,messagePositionTop:null})},[Pe.p$]:({commit:e},t)=>{var{boardId:s,messageId:t}=t;e(Pe.rC,{viewMode:Te.Hi,boardId:s,messageId:t})},[Pe.$b]:({dispatch:e,state:t},s)=>{var{boardId:r,messageId:s}=s;return t.messageContextMenuOptions.viewMode===Te.Hi?e(Pe.aJ):e(Pe.p$,{boardId:r,messageId:s})},[Pe.M3]:({commit:e,getters:t},{boardID:s,messageID:r})=>{r=t[Pe.mJ]({boardID:s,messageID:r});void 0!==r&&e(Pe.M3,r)},[Pe.ZX]:async({commit:e},t)=>{e(Pe.ZX,t)},[Pe.tM]:async({commit:e,getters:t,dispatch:s},{boardID:r,messageID:o})=>{1===t[Pe.$x](r).level&&(s(Pe.r0,Te.eT),s(Pe.VH,o));o=t[Pe.mJ]({boardID:r,messageID:o});e(Pe.tM,o)}};function Ct(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Ut(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ct(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}he=Ut(Ut(Ut(Ut({},I),se),ne),a),I={[Pe.pD]:e=>null!==e.info&&null!==e.info.userId,[Pe.oZ]:e=>null!==e.info?e.info.userId:null,[Pe.bu]:e=>null!==e.info&&e.info.moderate},se={[Pe.WN](e,t){e.auth=t},[Pe.C](e,t={}){e.info=t.info||null,e.likeMapping=t.likeMapping||{}},[Pe.c4](e,t){e.likeMapping=t},ADD__REPORTED_MESSAGE(e,t){e.reportedCommentIDs=[...e.reportedCommentIDs,t]}};class Lt{constructor(e,t,s,r){this.accentColor=e,this.backgroundColor=t,this.hideActiveTs=s,this.hideProBadge=r}static fromJson(e){return new Lt(e.accentColor||null,e.backgroundColor||null,"number"==typeof e.hideActiveTs?e.hideActiveTs:null,"number"==typeof e.hideProBadge?e.hideProBadge:null)}}class jt{constructor(e,t,s,r,o,i,n,a){this.userId=e,this.displayName=t,this.emojiStatus=s,this.avatarUrl=r,this.role=o,this.profileUrl=i,this.moderate=n,this.preferences=a}static fromJson(e){return new jt(e.userId||null,e.displayName||null,e.emojiStatus||null,e.avatarUrl||null,e.role||null,e.profileUrl||null,!!e.moderate,e.preferences?Lt.fromJson(e.preferences):null)}}class Nt extends d.g{constructor(e,t){super(),this.info=e,this.likeMapping=t}static fromJson(e){return new Nt(e.user?jt.fromJson(e.user):null,e.likeMapping||{})}}class Rt extends et{constructor(){super(...arguments),this.url="/user.json",this.version=ve.pv,this.auth=null}setAuth(e){return this.auth=e,this}fetch(){return e=this,a=function*(){var e={appId:Ge.config.appId,auth:this.auth},e=yield P().post(this.getUrl(e)),e="object"==typeof e.data.payload?e.data.payload:{};return Nt.fromJson(e)},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}function Mt(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function xt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Mt(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function Wt(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Vt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Wt(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var ne={namespaced:!0,state:()=>({boardState:Te.Ev,focusedBoardID:null,focusedThreadID:null,focusedMessageID:null,focusedBoardViewMode:Te.Ev,contextMenuViewMode:Te.Yn,userBoards:[],featuredBoards:[],boards:{},dismissedPins:{},conversations:{},newMessages:{},conversationsCursors:{},conversationsStates:{},showNewMessage:!1,pollingStarted:!1,pollingUpdates:{},messageContextMenuOptions:{viewMode:Te.Yn,boardId:null,messageId:null},replyMessage:null,followStatusMap:{},messageForDelete:{boardID:null,messageID:null}}),getters:E,mutations:X,actions:he,modules:{user:{namespaced:!0,state:()=>({auth:null,info:null,likeMapping:{},reportedCommentIDs:[]}),getters:I,mutations:se,actions:{[Pe.MC]:async({commit:e,state:t},s)=>{var s=s["auth"];if(s&&t.auth===s||e(Pe.C),e(Pe.WN,s),!s||null!==t.info)return Promise.resolve();const r=(new Rt).setAuth(s),o=await r.fetch();e(Pe.C,o)},[Pe.qv]:({commit:e,state:t},s)=>{s=xt(xt({},t.likeMapping),s);e(Pe.c4,s)},ADD__REPORTED_MESSAGE:({commit:e},t)=>{e(nt,t)}}},position:{namespaced:!0,state:()=>({messagesListsPosition:{},messageContextMenuPosition:null}),getters:{[Et.Mw]:t=>e=>t.messagesListsPosition[e]||void 0},mutations:{[Et.vT](e,{listID:t,scrollTop:s,scrollHeight:r,scrollBottom:o,offsetTop:i,offsetHeight:n,isAtTheBottom:a}){e.messagesListsPosition=Vt(Vt({},e.messagesListsPosition),{},{[t]:{scrollTop:s,scrollHeight:r,scrollBottom:o,offsetTop:i,offsetHeight:n,isAtTheBottom:a}})},[Et.v6](e,t){e.messageContextMenuPosition=t}},actions:{[Et.vT]:({state:e,commit:t,dispatch:s},{listID:r,scrollTop:o,scrollHeight:i,offsetTop:n,offsetHeight:a,isAtTheBottom:c})=>{if(e.messagesListsPosition[r]){const t=class{static calculatePositionDifference(e,t){const s={scrollTop:null,scrollHeight:null,offsetTop:null,offsetHeight:null,isAtTheBottom:null};return e.scrollTop&&t.scrollTop&&e.scrollTop!==t.scrollTop&&(s.scrollTop=e.scrollTop-t.scrollTop),e.scrollHeight&&t.scrollHeight&&e.scrollHeight!==t.scrollHeight&&(s.scrollHeight=e.scrollHeight-t.scrollHeight),e.offsetTop&&t.offsetTop&&e.offsetTop!==t.offsetTop&&(s.offsetTop=e.offsetTop-t.offsetTop),e.offsetHeight&&t.offsetHeight&&e.offsetHeight!==t.offsetHeight&&(s.offsetHeight=e.offsetHeight-t.offsetHeight),e.isAtTheBottom!==t.isAtTheBottom&&(s.isAtTheBottom=t.isAtTheBottom),s}}.calculatePositionDifference(e.messagesListsPosition[r],{scrollTop:o,scrollHeight:i,offsetTop:n,offsetHeight:a,isAtTheBottom:c});s(Et.jE,t)}t(Et.vT,{listID:r,scrollTop:o,scrollHeight:i,scrollBottom:i-o,offsetTop:n,offsetHeight:a,isAtTheBottom:c})},[Et.jE]:async({dispatch:e,rootState:t},s)=>{t.boards.messageContextMenuOptions.viewMode!==Te.Yn&&e(Et.wc,s.scrollTop)},[Et.wc]:async({state:e,dispatch:t},s)=>{t(Et.v6,e.messageContextMenuPosition+s)},[Et.v6]:({commit:e},t)=>{e(Et.v6,t)}}}}},a=t(4278),E=t.n(a),X=[h({key:"boardsUserState",paths:["boards.user.auth","boards.user.info","boards.user.likeMapping","boards.user.reportedCommentIDs"]},600)],he=E()({predicate:[`boards/${Pe.M_}`,`boards/${Pe.zx}`,`boards/${Pe.E}`,`boards/${Pe.H4}`,`boards/${Pe.V6}`,`boards/${Pe.vP}`,`boards/${Pe.s2}`]}),I=[h({key:"boardsState",paths:["boards.boardState","boards.focusedBoardID","boards.focusedThreadID","boards.focusedBoardViewMode","boards.dismissedPins","boards.pollingUpdates"]}),he,...X],se={[at.ZI]:t=>e=>t.uploadedFiles[e]||[],[at.rn]:t=>e=>t.processingFilesID[e]},a={[at.f9](e,{file:t,itemID:s}){e.uploadedFiles[s]=[...e.uploadedFiles[s]||[],t]},[at.q8](e,{media:t,itemID:s,fileID:r}){if(e.uploadedFiles[s]){const o=e.uploadedFiles[s].find(e=>e.id===r);o&&(o.uploadedMedia=t,o.uploaded=!0)}},[at.ZO](e,{itemID:t,fileID:s}){e.uploadedFiles[t]=s?e.uploadedFiles[t].filter(e=>e.id!==s):[]},[at.$H]:(e,t)=>{e.processingFilesID[t]=!0},[at.MW]:(e,t)=>{e.processingFilesID[t]=!1}},Bt=t(1390);class Gt extends d.g{constructor(e){super(),this.attachment=e,this.image=null}static fromJson(e){const t=new Gt(e.attachment);return e.attachment.data.image&&(t.image=Bt.Z.fromJson(e.attachment.data.image)),t}}class Ft extends fe.g{constructor(){super(),this.auth=null,this.appId="",this.appId=Ge.config.appId}baseUrl(){return`https://${Ge.config.host}/${this.version}`}}class $t extends Ft{constructor(){super(...arguments),this.version=ve.pv,this.url="/media.json",this.auth=null,this.blob=null}setBlob(e){return this.blob=e,this}setAuth(e){return this.auth=e,this}fetch(){return e=this,a=function*(){const e=new FormData;e.append("appId",this.appId),e.append("blob",this.blob||""),e.append("auth",this.auth||"");var t=yield P().post(this.getUrl(),e,$t.getHeaders()).catch(this.returnError);return Gt.fromJson(t.data.payload)},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}static getHeaders(){return{headers:{"content-type":"multipart/form-data"}}}}var Zt=t(1496);class Ht extends class{constructor(e){this.id=null,this.content=null,this.uploadedMedia=null,this.uploaded=!1,this.id=(0,Zt.x0)(),this.content=e}}{constructor(e=null){super(e),this.type="file"}}var E={namespaced:!0,state:()=>({uploadedFiles:{},processingFilesID:{},errors:{}}),getters:se,mutations:a,actions:{[at.f9]:async({commit:e,dispatch:t,rootState:{user:{user:s}},rootGetters:r},{file:o,itemID:i})=>{var n=new Ht(o),a=n.id;"9gag"===r["config/APP_NAME"]&&e(at.ZO,{itemID:i}),e(at.f9,{file:n,itemID:i});try{const t=await(new $t).setAuth(s.commentAuth).setBlob(o).fetch();e(at.q8,{media:t||null,itemID:i,fileID:a})}catch(s){e(at.ZO,{itemID:i,fileID:a}),s&&s.response?t(`toasts/${ge.Pd}`,{text:s.response.data.error,type:pe.default.WARN},{root:!0}):t(`toasts/${ge.Pd}`,{text:s.message,type:pe.default.WARN},{root:!0})}},[at.ZO]:async({commit:e},t)=>{e(at.ZO,t)},[at.$H]:({commit:e},t)=>{e(at.$H,t)},[at.MW]:({commit:e},t)=>{e(at.MW,t)}}},Kt=t(3534),he={namespaced:!0,state:()=>({modalState:Te.Yn,modalComponent:""}),getters:{[Kt.iS]:e=>e.modalState===Te.Hi},mutations:{[Kt.t5](e,t){e.modalComponent=t},[Kt.jQ](e,t){e.modalState=t}},actions:{[Kt.t5]:async({commit:e},t)=>{e(Kt.t5,t)},[Kt.jQ]:async({commit:e},t)=>{if(-1===[Te.Yn,Te.Hi].indexOf(t))throw new Error("Cannot set the unknown modal's view mode.");e(Kt.jQ,t)},[Kt.Wb]:({dispatch:e},{state:t,modalComponent:s})=>{e(Kt.t5,s),e(Kt.jQ,t)},[Kt.et]:async({dispatch:e})=>{await e(Kt.jQ,Te.Yn),await e(Kt.t5,void 0)}}},X={[ge.Re]:e=>e.messages},se={[ge.Pd](e,t){e.messages.push(t)},[ge.IR](e){e.maxToastId=++e.maxToastId},[ge.TZ](e,t){e.messages=e.messages.filter(e=>e.id!==t)}},a=t(1467);class zt extends d.g{constructor(e,t=null,s=null,r=0,o=null,i="info",n=a.e){super(),this.text=e,this.link=t,this.linkTitle=s,this.id=r,this.toastAction=o,this.type=i,this.dismissAfter=n}static fromObject(e){return new zt(e.text,e.link,e.linkTitle,e.id,e.toastAction,e.type,e.dismissAfter)}}const Yt={namespaced:!0,state:()=>({messages:[],maxToastId:0}),getters:X,mutations:se,actions:{[ge.Pd]:({commit:e,state:t},s)=>{e(ge.IR),s.id=t.maxToastId;s=zt.fromObject(s);e(ge.Pd,s)},[ge.TZ]:({commit:e},t)=>{e(ge.TZ,t)}}},qt="INIT_STATUS_COMPLETED",Xt={cdnHost:null,host:null,enableTracking:!1,comments:{},commentsByPostID:{},threads:{},initStatus:"INIT_STATUS_NONE",firstLoadingFlags:{},viewMode:Te.FM,type:Ne.Tw,postKey:null,url:null,threadKey:null,ttl:{[Ne.Tw]:3e5,[Ne.G_]:6e4},commentComposerSwitch:!1,isCommentSending:!1,replyBoxCommentId:null,replyMentionUser:null,replyThreadOnly:!1,replyThreadId:null,showExtraMenu:!1,extraMenuId:null,adminActions:{},restoreCommentInfo:null,shouldScrollToEnd:!1,commentTextHeight:{},followStatusMap:{},collapseToast:!1};var Jt=t(9970),X={canInfiniteScroll:(e,t,s,r)=>!!t.viewAll||r["commentSystem/user/isLoggedIn"],canLoadMore:(e,t)=>t.getNextCursor&&!t.isNextLoading,canScrollMore:(e,t)=>t.canLoadMore&&t.canInfiniteScroll,canShowLoading:(e,t)=>!t.isInited||t.isFirstLoading||t.isNextLoading,canLoadPrevious:(e,t)=>t.isInited&&t.getPrevCursor&&!t.isPrevLoading,isLocked:(e,t,s,r)=>!r["commentSystem/user/canModerate"]&&t.getLock,isInited:e=>qt===e.initStatus,isFirstLoading:e=>{let t="";switch(e.viewMode){case Te.FM:if(t=Te.FM+":"+e.postKey+":"+e.type,t in e.firstLoadingFlags)return e.firstLoadingFlags[t];break;case Te.eT:case Te.Ox:if(t=Te.eT+":"+e.threadKey,t in e.firstLoadingFlags)return e.firstLoadingFlags[t]}return!1},isNextLoading:(e,t)=>{t=t.getList;return!!t.isNextLoading&&t.isNextLoading},isPrevLoading:(e,t)=>{t=t.getList;return!!t.isPrevLoading&&t.isPrevLoading},getType:e=>e.type,getViewMode:e=>e.viewMode,isListView:e=>e.viewMode===Te.FM,getPostId:e=>e.postKey,getCommentTextHeight:s=>(e,t)=>e in s.commentTextHeight&&t in s.commentTextHeight[e]?s.commentTextHeight[e][t]:null,getListKey:e=>e.postKey+":"+e.type,getList:(e,t)=>{switch(e.viewMode){case Te.FM:var s=t.getListKey;return e.commentsByPostID[s]||{};case Te.eT:case Te.Ox:return e.threads[e.threadKey]||{};default:return{}}},getCommentsByType:(e,t)=>{let s=[];var r,t=t.getListKey;if(t in e.commentsByPostID)for(r of e.commentsByPostID[t].commentIds)r in e.comments&&s.push(e.comments[r]);return s},getCommentsByThread:e=>{let t=[];var s;if(e.threads[e.threadKey])for(s of e.threads[e.threadKey].commentIds)s in e.comments&&t.push(e.comments[s]);return t},getComments:(e,t)=>e.viewMode===Te.FM?t.getCommentsByType:t.getCommentsByThread,getCommentsCountByType:(e,t)=>{t=t.getListKey;return t in e.commentsByPostID?e.commentsByPostID[t].commentIds.length:0},getCommentsCountByThread:e=>e.threadKey in e.threads?e.threads[e.threadKey].commentIds.length+1:0,getCommentsCount:(e,t)=>Te.FM===e.viewMode?t.getCommentsCountByType:t.getCommentsCountByThread,getParentComment:(e,t)=>{t=t.getList.parentCommentId||"";return t in e.comments?e.comments[t]:null},getPrevCursor:(e,t)=>{t=t.getList;return t.prevCursor||null},getNextCursor:(e,t)=>{t=t.getList;return t.nextCursor||null},getOpUserId:(e,t)=>{t=t.getList;return t.opUserId||""},getStatus:(e,t)=>{t=t.getList;return t.status?parseInt(t.status):0},getLock:(e,t)=>{t=t.getList;return!!t.lock&&t.lock},viewAll:(e,t)=>{t=t.getList;return!!t.viewAll&&t.viewAll},totalCount:(e,t)=>{t=t.getList;return t.total||0},autoLoadCount:(e,t)=>{t=t.getList;return t.autoLoadCount||0},getHighlightCommentId:(e,t)=>{var{sortLatest:s=!1,commentIds:t=[]}=t.getList;return s&&0<t.length?t[t.length-1]:e.viewMode===Te.Ox?e.threadKey:""},getCommentById:t=>e=>t.comments[e]||{},getAdminActions:t=>e=>t.adminActions[e]||Jt.RP,getCommentImageInfo:(l,d)=>(s,r)=>{s=d.getCommentById(s);let o="",i=null,n="",a=!1,c=!1;if(s.type===Ne.JA&&0<s.media.length){const d=s.media[0];let e=!1,t=!1;d.type===Ne.qJ&&d.video?(o=d.video.url,e=d.video.width,t=d.video.height,c=!0):d.type===Ne.Ct&&d.image&&(o=d.image.url,i=d.image.webpUrl,e=d.image.width,t=d.image.height);s=location.hostname;if(n=`https://${l.cdnHost}/image?ref=${s}#${o}`,!1!==e&&!1!==t){const l=r-81,d=e>l?Math.floor(t/e*l):t;a=Math.min(Jt.m8,d)}}return{imageUrl:o,imageHref:n,imageHeight:a,webpUrl:i,isVideo:c}},getFollowStatus:t=>e=>t.followStatusMap[e],ifCommentHaveReplies:(e,t)=>e=>0<t.getCommentById(e).childrenTotal},Qt=t(3510);function es(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function ts(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?es(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):es(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const ss={[Qt.K8](e,t){e.ttl=t},[Qt.x0](e,t){var{postKey:s,type:t}=t,t=s+":"+t;U(e.commentsByPostID,t)},[Qt.hZ](e,t){e.cdnHost=t.cdnHost,e.host=t.host,e.enableTracking=t.enableTracking,e.url=t.url,e.postKey=t.postKey},[Qt.jt](e,t){e.type=t},[Qt._L](e,t){e.viewMode=t},[Qt.Fb](e,t){e.threadKey=t},[Qt.h_](e){var t;Te.FM===e.viewMode?(t=e.postKey+":"+e.type)in e.commentsByPostID&&("autoLoadCount"in e.commentsByPostID[t]?e.commentsByPostID[t].autoLoadCount++:e.commentsByPostID[t].autoLoadCount=0):e.threadKey in e.threads&&("autoLoadCount"in e.threads[e.threadKey]?e.threads[e.threadKey].autoLoadCount++:e.threads[e.threadKey].autoLoadCount=0)},[Qt.fA](e,{key:t,viewMode:s,lock:r}){switch(s){case Te.FM:e.commentsByPostID[t].lock=r;break;case Te.eT:case Te.Ox:e.threads[e.threadKey].lock=r}},[Qt.d0](e,{key:t,viewMode:s,status:r}){switch(s){case Te.FM:e.commentsByPostID[t].status=r;break;case Te.eT:case Te.Ox:e.threads[e.threadKey].status=r}},[Qt.L5](e,{key:t,viewMode:s,total:r}){switch(s){case Te.FM:e.commentsByPostID[t].total=r;break;case Te.eT:case Te.Ox:e.threads[e.threadKey].total=r}},[Qt.wl](e,{key:t,viewMode:s,viewAll:r}){switch(s){case Te.FM:e.commentsByPostID[t].viewAll=r;break;case Te.eT:case Te.Ox:e.threads[e.threadKey].viewAll=r}},[Qt.Ew](e,t){e.initStatus=t},[Qt.yb](e,t){let s="";switch(t.viewMode){case Te.FM:s=Te.FM+":"+t.postKey+":"+t.type,e.firstLoadingFlags[s]=!!t.value;break;case Te.eT:case Te.Ox:s=Te.eT+":"+t.threadKey,e.firstLoadingFlags[s]=!!t.value}e.firstLoadingFlags=ts({},e.firstLoadingFlags)},[Qt.yT](e,t){switch(t.viewMode){case Te.FM:var s=t.postKey+":"+t.type;s in e.commentsByPostID&&(e.commentsByPostID[s].isNextLoading=!!t.value,e.commentsByPostID=ts({},e.commentsByPostID));break;case Te.eT:case Te.Ox:t.threadKey in e.threads&&(e.threads[t.threadKey].isNextLoading=!!t.value,e.threads=ts({},e.threads))}},[Qt.zq](e,t){t.viewMode===Te.Ox&&t.threadKey in e.threads&&(e.threads[t.threadKey].isPrevLoading=!!t.value,e.threads=ts({},e.threads))},[Qt.uP](e,t){e.comments=t},[Qt.pc](e,t){e.comments=ts(ts({},e.comments),t)},[Qt.JV](e,t){let s=ts({},e.commentsByPostID);for(var r in t){let e=t[r];if(r in s){let t=s[r];e.commentIds.forEach(e=>{-1===t.commentIds.indexOf(e)&&t.commentIds.push(e)}),t.opUserId=e.opUserId,t.status=e.status,t.lock=e.lock,t.timestamp=e.timestamp,t.nextCursor=e.nextCursor}else s[r]=e}e.commentsByPostID=s},[Qt.yM](e,t){let{loadType:r,commentsBySign:o}=t,i=ts({},e.threads);for(var n in o){let s=o[n];if(n in i){let e=i[n],t=e.sortLatest;for(var a in t||"LOAD_PREV"!==r||s.commentIds.reverse(),s.commentIds){a=s.commentIds[a];-1===e.commentIds.indexOf(a)&&("LOAD_PREV"===r?e.commentIds.unshift(a):e.commentIds.push(a))}e.opUserId=s.opUserId,e.status=s.status,e.lock=s.lock,e.timestamp=s.timestamp,"LOAD_PREV"===r?e.prevCursor=t?s.nextCursor:s.prevCursor:e.nextCursor=s.nextCursor}else s.sortLatest="LOAD_LAST"===r,i[n]=s}e.threads=i},[Qt.Do](e,t){e.isCommentSending=t},[Qt.tV](e,t){e.comments=ts({[t.comment.commentId]:t.comment},e.comments);var s=`${t.postKey}:${e.type}`;e.commentsByPostID[s]&&e.commentsByPostID[s].commentIds.unshift(t.comment.commentId)},[Qt.Bc](e,t){e.replyBoxCommentId=t.commentId,e.replyMentionUser=ts({},t.mentionUser),e.replyThreadOnly=t.replyThreadOnly,e.replyThreadId=t.replyThreadId},[Qt.LC](e){e.replyBoxCommentId=null,e.replyMentionUser=null,e.replyThreadOnly=!1,e.replyThreadId=null},[Qt.Ox](e,t){if(t.commentId in e.comments){const s=e.comments[t.commentId];s.likeCount=Math.max(0,s.likeCount+t.likeDelta),s.dislikeCount=Math.max(0,s.dislikeCount+t.dislikeDelta)}},[Qt.Di](s,t){const{viewMode:e,commentId:r,postKey:o="",threadKey:i=""}=t;if(r in s.comments){var n=()=>{var e,t;for(e of[o+":"+Ne.Tw,o+":"+Ne.G_])e in s.commentsByPostID&&(-1<(t=s.commentsByPostID[e].commentIds.findIndex(e=>e===r))&&s.commentsByPostID[e].commentIds.splice(t,1))};switch(e){case Te.FM:n(),r in s.threads&&U(s.threads,r);break;case Te.eT:case Te.Ox:const t=s.threads[i];if(!t)return;if(t.parentCommentId===r)n(),t.parentCommentId="";else{var a=t.commentIds.findIndex(e=>e===r);if(-1<a&&t.commentIds.splice(a,1),t.parentCommentId in s.comments){let e=s.comments[t.parentCommentId];e.childrenTotal--,e.childrenTotal<0&&(e.childrenTotal=0)}}}U(s.comments,r)}},[Qt.Gm](e,{threadId:t,followed:s}){C(e.followStatusMap,t,s)},[Qt.ov](e,t){e.commentComposerSwitch=t,document.body.classList[t?"add":"remove"]("lock")},[Qt.eh](e,t){U(e.threads,t)},[Qt.WX](e,t){e.comments[t]&&(e.comments[t].childrenTotal++,e.comments=ts({},e.comments))},[Qt.yN](e,t){e.restoreCommentInfo=t},[Qt.Y](e,t=!1){e.shouldScrollToEnd=t},[Qt.HW](e,t=!1){e.showExtraMenu=t},[Qt.Su](e,t){e.extraMenuId=t},[Qt.G](e,t){var{commentId:s,adminActions:t}=t;C(e.adminActions,s,t)},[Qt.qR](e,{commentId:t,screenWidth:s,height:r}){let o=t in e.commentTextHeight?ts({},e.commentTextHeight[t]):{};o[s]=r,C(e.commentTextHeight,t,o)},[Qt.hM](e,t){e.comments[t].isDeleted=1},[Qt._$](e,t){e.comments[t].isCollapsed=0,e.collapseToast=!0}},rs=class{static rehydrateComments(e){const{data:t,options:s}=e,r={},o={},i=Te.FM===s.viewMode?s.key+":"+s.type:s.key,n=t.comments||[];o[i]={commentIds:[],timestamp:(new Date).getTime(),viewAll:!1,autoLoadCount:0,nextCursor:t.next,opUserId:t.opUserId,status:t.status,lock:t.lock,total:t.total,isNextLoading:!1},Te.FM!==s.viewMode&&(o[i].parentCommentId=t.parent.commentId,o[i].prevCursor=t.prev,o[i].isPrevLoading=!1,r[t.parent.commentId]=t.parent);for(var a of n)r[a.commentId]=a,o[i].commentIds.push(a.commentId);return{comments:r,commentsBySign:o}}};class os extends et{constructor(){super(...arguments),this.url="/op/hide",this.version=ve.pv,this.auth=null,this.commentId=null,this.postUrl=null}setAuth(e){return this.auth=e,this}setCommentId(e){return this.commentId=e,this}setPostUrl(e){return this.postUrl=e,this}getData(){var e={appId:Ge.config.appId,auth:this.auth,commentId:this.commentId,url:this.postUrl};return ze().stringify(e)}fetch(){return e=this,a=function*(){return(yield P().post(this.getUrl(),this.getData())).data.payload},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}class is extends et{constructor(){super(),this.appId="",this.auth="",this.appId=et.config.appId}baseUrl(){return`${super.baseUrl()}/admin`}setAuth(e){return this.auth=e,this}}class ns extends is{constructor(){super(...arguments),this.url="/update",this.version=ve.pv,this.entityUrl=null,this.lock=null,this.status=null}setEntityURL(e){return this.entityUrl=e,this}setLock(e){return this.lock=e,this}setStatus(e){return this.status=e,this}getData(){return ze().stringify(fe.g.clearRequestParamsFromEmptyKeys({appId:this.appId,auth:this.auth,url:this.entityUrl,lock:this.lock,status:this.status}))}fetch(){return e=this,a=function*(){return(yield P().post(this.getUrl(),this.getData())).data.payload},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}class as extends is{constructor(e=ve.X0){if(super(),this.url="",this.version=ve.pv,this.entityUrl=null,this.commentId=null,this.badImage=null,-1===[ve.X0,ve.pR].indexOf(e))throw new Error("Unacceptable Peek-a-Boo action. Only hide/unhide allowed");this.url=`/${e}`}setEntityURL(e){return this.entityUrl=e,this}setCommentId(e){return this.commentId=e,this}setBadImage(e){return this.badImage=e,this}getData(){return ze().stringify(fe.g.clearRequestParamsFromEmptyKeys({appId:this.appId,auth:this.auth,commentId:this.commentId,badImage:this.badImage?1:0,url:this.entityUrl}))}fetch(){return e=this,a=function*(){return(yield P().post(this.getUrl(),this.getData())).data.payload},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}class cs extends is{constructor(){super(...arguments),this.url="/mask",this.version=ve.pv,this.entityUrl=null,this.commentId=null,this.sensitive=null}setEntityURL(e){return this.entityUrl=e,this}setCommentId(e){return this.commentId=e,this}setSensitive(e){return this.sensitive=e,this}getData(){return ze().stringify(fe.g.clearRequestParamsFromEmptyKeys({appId:this.appId,auth:this.auth,commentId:this.commentId,sensitive:this.sensitive?1:0,url:this.entityUrl}))}fetch(){return e=this,a=function*(){return(yield P().post(this.getUrl(),this.getData())).data.payload},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}class ls extends is{constructor(e=ve.Bw){if(super(),this.url="",this.version=ve.pv,this.userIdToProcess="",-1===[ve.Bw,ve.O7].indexOf(e))throw new Error("Unacceptable banhammer action. Only ban/unban allowed");this.url=`/${e}`}setUserId(e){return this.userIdToProcess=e,this}getData(){return ze().stringify({appId:this.appId,auth:this.auth,userId:this.userIdToProcess})}fetch(){return e=this,a=function*(){return(yield P().post(this.getUrl(),this.getData())).data.payload},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}class ds extends is{constructor(){super(...arguments),this.url="/pin",this.version=ve.pv,this.entityUrl=null,this.commentId=null,this.pinned=null}setEntityURL(e){return this.entityUrl=e,this}setCommentId(e){return this.commentId=e,this}setPinned(e){return this.pinned=e,this}getData(){return ze().stringify(fe.g.clearRequestParamsFromEmptyKeys({appId:this.appId,auth:this.auth,url:this.entityUrl,commentId:this.commentId,pinned:this.pinned}))}fetch(){return e=this,a=function*(){return(yield P().post(this.getUrl(),this.getData())).data.payload},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}function us(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function ps(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?us(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):us(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}se={[Qt.qg]:async({dispatch:e},{config:t})=>{Ge.setConfig(t),e(Qt.hZ,t),await Promise.all([e(`commentSystem/app/${Qt.oE}`,t,{root:!0}),e(`commentSystem/user/${Qt.nQ}`,t,{root:!0})]),e(Qt.Ew,qt)},[Qt.hZ]:({commit:e},t)=>{e(Qt.hZ,t)},[Qt.Ew]:({commit:e},t)=>{e(Qt.Ew,t)},async[Qt.jt]({commit:e,dispatch:t},s=Ne.Tw){e(Qt.jt,s),t(Qt.wj)},async[Qt.wj]({commit:t,state:s,getters:r,dispatch:o}){if(o(Qt.r7,{idKey:s.postKey}),t(Qt._L,Te.FM),t(Qt.Fb,null),r.isInited&&!r.isFirstLoading){s={viewMode:s.viewMode,postKey:s.postKey,type:s.type};let e=ps({},s);e.value=!0,t(Qt.yb,e);try{if(await o(Qt.UE,ps({},s)),0<r.getCommentsCount)return;await o(Qt.Ne,s)}finally{e.value=!1,t(Qt.yb,e)}}},async[Qt.GQ]({commit:e,state:t,getters:s,dispatch:r},o){if([Te.eT,Te.Ox].includes(o.viewMode)){var i=o.commentId;if(e(Qt._L,o.viewMode),e(Qt.Fb,i),r(Qt.r7,{idKey:t.postKey,parent:t.threadKey}),s.isInited&&!s.isFirstLoading){const n={commentId:i,level:2,type:Ne.GO,viewMode:t.viewMode,threadKey:t.threadKey},a={viewMode:t.viewMode,threadKey:t.threadKey,value:!0};e(Qt.yb,a);try{if(await r(Qt.UE,ps({},o)),0<s.getCommentsCount)return Promise.resolve();await r(Qt.Ne,n)}finally{a.value=!1,e(Qt.yb,a)}}}},async[Qt.Ne]({state:e,rootGetters:t,dispatch:s,rootState:{commentSystem:{user:{auth:r}}}},o={}){const i=t["commentSystem/user/hasActivities"],n=(new tt).setParams(ps(ps({},o),{},{url:e.url}));i&&n.setAuth(r),o.key=o.threadKey||o.postKey;try{const e=await n.fetch();o.loadType="LOAD_FIRST",s(Qt.pc,{data:e,options:o})}catch(e){}},async[Qt.av]({commit:e,state:t,getters:s,rootGetters:r,dispatch:o,rootState:{commentSystem:{user:{auth:i}}}},n){if(!s.isInited||s.isNextLoading)return Promise.reject({message:"The request is already processing"});if(!n)return Promise.reject({message:"Next cursor is empty"});let a={viewMode:t.viewMode,loadType:"LOAD_NEXT",key:Te.FM===t.viewMode?t.postKey:t.threadKey};Te.FM===t.viewMode&&(a.type=t.type);let c=ps({},a);c.value=!0,Te.FM===t.viewMode?c.postKey=t.postKey:c.threadKey=t.threadKey,e(Qt.yT,c);const l=r["commentSystem/user/hasActivities"],d=(new tt).setParams(ps({},ze().parse(n)));l&&d.setAuth(i);try{const t=await d.fetch();o(Qt.pc,{data:t,options:a})}finally{c.value=!1,e(Qt.yT,c)}},async[Qt.O4]({commit:e,state:t,getters:s,rootGetters:r,dispatch:o,rootState:{commentSystem:{user:{auth:i}}}},n){if(!s.isInited||s.isPrevLoading)return Promise.reject({message:"The request is already processing"});if(!n)return Promise.reject({message:"Prev cursor is empty"});let a={viewMode:t.viewMode,loadType:"LOAD_PREV",key:t.threadKey},c=ps({},a);c.value=!0,c.threadKey=t.threadKey,e(Qt.zq,c);const l=r["commentSystem/user/hasActivities"],d=(new tt).setParams(ps({},ze().parse(n)));l&&d.setAuth(i);try{const t=await d.fetch();o(Qt.pc,{data:t,options:a})}finally{c.value=!1,e(Qt.zq,c)}},[Qt.pc]({commit:e},t){var s=t["options"],{comments:t,commentsBySign:r}=rs.rehydrateComments(t);switch(e(Qt.pc,t),s.viewMode){case Te.FM:e(Qt.JV,r);break;case Te.eT:case Te.Ox:e(Qt.yM,{loadType:s.loadType,commentsBySign:r})}},[Qt.fk]({commit:e,dispatch:t},s){e(Qt.Bc,s),t(Qt.gm,s.replyThreadId)},[Qt.nt]:async({rootState:{commentSystem:{user:{auth:e}}}},t)=>/\/(gif|jpe?g|png|mp4|webm)$/i.test(t.type)?t.size&&t.size>Jt.T?Promise.reject({code:"IMAGE_INVALID_SIZE"}):(new $t).setAuth(e).setBlob(t).fetch():Promise.reject({code:"IMAGE_INVALID_TYPE"}),async[Qt.tV]({commit:e,state:{url:t,postKey:s,threadKey:r},dispatch:o,getters:i,rootState:{commentSystem:{user:{auth:n}}},rootGetters:a},c){const l=i.getViewMode,d=(new ht).setAuth(n).setConversationUrl(t).setMessage(c.text);if(c.uploadedFiles)for(const e of c.uploadedFiles)d.setMedia(e.uploadedMedia);c.userMedia&&d.setMedia(c.userMedia),c.delegateUserId&&d.setDelegateUserId(c.delegateUserId),c.parent&&d.setParentId(c.parent),c.replyThreadOnly&&d.setReplyThreadOnly(c.replyThreadOnly),"9gag"!==a["config/APP_NAME"]&&await d.fetchLinkPreviews();try{const u=await d.fetch(),{comment:p,total:i}=u;if(!p)return;p.postId=c.postId,o(`commentSystem/user/${m.GD.UPDATE_COMMENTED_POST_URLS}`,{[t]:1},{root:!0}),u.quota&&o(`commentSystem/user/${m.GD.UPDATE_QUOTA}`,u.quota,{root:!0});const{commentId:n,level:h,parent:a}=p;return 1<h?(e(Qt.WX,a),l===Te.FM?(r?e(Qt.eh,a):(e(Qt.Ys,{comment:p,parent:a}),e(Qt.UU,{commentId:n}),o(Qt.L5,i)),Promise.resolve(n)):o(Qt.Eg,{commentId:n,postUrl:t})):(e(Qt.tV,{comment:p,postKey:s}),o(Qt.L5,i),Promise.resolve(n))}catch(e){return Promise.reject(e)}},async[Qt.Eg]({commit:e,state:{threadKey:t},rootGetters:s,rootState:{commentSystem:{user:{auth:r}}}},{commentId:o,postUrl:i}){const n=s["commentSystem/user/hasActivities"],a=(new tt).setParams({level:2,commentId:o,url:i});n&&a.setAuth(r);try{const s=await a.fetch(),{comments:r,commentsBySign:i}=rs.rehydrateComments({data:s,options:{viewMode:Te.eT,key:t}});e(Qt.pc,r);const n=i[t];n.prevCursor=n.nextCursor,n.nextCursor=null,n.commentIds.reverse(),e(Qt.eh,t),e(Qt.UU,{commentId:o}),e(Qt.yM,{loadType:"LOAD_LAST",commentsBySign:i})}catch(e){console.warn(e)}},[Qt.Ox]({commit:s,state:e,dispatch:r,rootState:{commentSystem:{user:{auth:o,likeMapping:i}}}},{commentId:n,value:a}){if(n in e.comments){i=i[n]||0;let e=0,t=0;return 1===i&&e--,-1===i&&t--,1===a&&e++,-1===a&&t++,s(Qt.Ox,{commentId:n,likeDelta:e,dislikeDelta:t}),r(`commentSystem/user/${m.GD.UPDATE_LIKE_MAPPING}`,{[n]:a},{root:!0}),(new wt).setAuth(o).setCommentId(n).setValue(a).fetch()}},[Qt.ex]:({commit:e,state:t,rootState:{commentSystem:{user:{auth:s}}}},r)=>(e(Qt.Di,{commentId:r.commentId,viewMode:t.viewMode,postKey:t.postKey,threadKey:t.threadKey}),(new os).setAuth(s).setCommentId(r.commentId).setPostUrl(t.url).fetch()),[Qt.Di]:({commit:e,state:t,getters:s,rootState:{commentSystem:{user:{auth:r}}}},o)=>(s.ifCommentHaveReplies(o.commentId)?e(Qt.hM,o.commentId):e(Qt.Di,{commentId:o.commentId,viewMode:t.viewMode,postKey:t.postKey,threadKey:t.threadKey}),(new ct).setAuth(r).setCommentId(o.commentId).setPostUrl(t.url).fetch()),async[Qt.a4]({commit:e,state:t,rootState:{commentSystem:{user:{auth:s}}}},r){r.url=t.url;try{await(new lt).setAuth(s).setCommentId(r.commentId).setPostUrl(t.url).setReportData(r.userReportData).fetch(),e(Qt.Di,{commentId:r.commentId,viewMode:t.viewMode,postKey:t.postKey,threadKey:t.threadKey})}catch(e){return Promise.reject(e)}},async[Qt.Sp]({commit:e,state:t,getters:s,rootState:{commentSystem:{app:{},user:{auth:r}}}},o){try{await(new ns).setAuth(r).setEntityURL(t.url).setLock(o).fetch();const i=s.getListKey;e(Qt.fA,{key:i,viewMode:t.viewMode,lock:!!o})}catch(e){console.error(e)}},async[Qt.L5]({commit:e,state:t,getters:s},r){s=s.getListKey;e(Qt.L5,{key:s,viewMode:t.viewMode,total:r})},async[Qt.wl]({commit:e,state:t,getters:s},r){s=s.getListKey;e(Qt.wl,{key:s,viewMode:t.viewMode,viewAll:r})},async[Qt.g$]({commit:e,state:t,getters:s,rootState:{commentSystem:{app:{},user:{auth:r}}}},o){try{await(new ns).setAuth(r).setEntityURL(t.url).setStatus(o).fetch();const i=s.getListKey;e(Qt.d0,{key:i,viewMode:t.viewMode,status:o})}catch(e){}},async[Qt.gm]({commit:e,getters:t},s){if(!s||void 0!==t.getFollowStatus(s))return Promise.resolve();try{const t=await(new St).setThreadId(s).fetch();e(Qt.Gm,{threadId:s,followed:!!t.followed})}catch(e){return Promise.reject(e)}},async[Qt.rY]({commit:e},{threadId:t,follow:s}){try{await(new Tt).setThreadId(t).setFollowed(s).fetch(),e(Qt.Gm,{threadId:t,followed:!!s})}catch(e){return Promise.reject(e)}},async[Qt.UE]({dispatch:e},t){switch(t.timestamp=(new Date).getTime(),t.viewMode){case Te.FM:e(Qt.x0,t);break;case Te.eT:case Te.Ox:e(Qt.eZ,t)}},[Qt.x0]({commit:e,state:t},{postKey:s,type:r=Ne.Tw,timestamp:o}){var i=s+":"+r,n=t.ttl[r];i in t.commentsByPostID&&o>t.commentsByPostID[i].timestamp+n&&e(Qt.x0,{postKey:s,type:r})},[Qt.eZ]({commit:e,state:t},{threadKey:s,timestamp:r}){s in t.threads&&r>t.threads[s].timestamp+t.ttl[Ne.Tw]&&e(Qt.eh,s)},[Qt.qR]({commit:e,getters:t},{commentId:s,screenWidth:r,height:o}){(null===t.getCommentTextHeight(s,r)?20:t.getCommentTextHeight(s,r))!==o&&e(Qt.qR,{commentId:s,screenWidth:r,height:o})},[Qt.IL]({commit:e},t){e(Qt.IL,t)},[Qt._$]({commit:e},t){e(Qt._$,t)},async[Qt.i_]({commit:e,state:t,getters:s,rootState:{commentSystem:{user:{auth:r}}}},{commentId:o,hide:i,badImage:n}){try{var a=i?ve.X0:ve.pR;await new as(a).setAuth(r).setEntityURL(t.url).setCommentId(o).setBadImage(n).fetch();var c=s.getAdminActions(o);e(Qt.G,{commentId:o,adminActions:ps(ps({},c),{},{hidden:i})})}catch(e){console.error(e)}},async[Qt.Wx]({commit:e,state:t,getters:s,rootState:{commentSystem:{user:{auth:r}}}},{commentId:o,sensitive:i}){try{await(new cs).setAuth(r).setEntityURL(t.url).setCommentId(o).setSensitive(i).fetch();var n=s.getAdminActions(o);e(Qt.G,{commentId:o,adminActions:ps(ps({},n),{},{sensitive:i})})}catch(e){console.error(e)}},async[Qt.Od]({commit:e,getters:t,rootState:{commentSystem:{user:{auth:s}}}},{commentId:r,userId:o,ban:i}){try{const a=i?ve.Bw:ve.O7;await new ls(a).setAuth(s).setUserId(o).fetch();var n=t.getAdminActions(r);e(Qt.G,{commentId:r,adminActions:ps(ps({},n),{},{banned:i})})}catch(e){console.error(e)}},async[Qt.MR]({commit:e,state:t,getters:s,rootState:{commentSystem:{user:{auth:r}}}},{commentId:o,pin:i}){try{await(new ds).setAuth(r).setEntityURL(t.url).setCommentId(o).setPinned(i?1:0).fetch();var n=s.getAdminActions(o);e(Qt.G,{commentId:o,adminActions:ps(ps({},n),{},{pinned:i})})}catch(e){console.error(e)}}};function hs(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function ms(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?hs(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):hs(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function gs(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function fs(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?gs(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):gs(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const ys={state:{commentComposersState:{},followStatusInProgressMap:{},highlightedCommentState:{},localThreads:{}},getters:{getFilteredComments:(e,t,s)=>{t=t.getComments;return class{static filterCommentsFromBlockedUsers(e,t){return e.filter(e=>-1===t.indexOf(e.user.accountId))}}.filterCommentsFromBlockedUsers(t,s.user.settings.blocklistIds)||[]},getCommentsByThreadId:r=>e=>{let t=[];if(r.threads[e])for(var s of r.threads[e].commentIds)s in r.comments&&t.push(r.comments[s]);return t},getLocalCommentsByThreadId:(r,e)=>e=>{let t=[];if(r.localThreads[e])for(var s of r.localThreads[e])s in r.comments&&(r.threads[e]&&r.threads[e].commentIds.includes(s)||t.push(r.comments[s]));return t},getCommentsCountByThreadId:s=>e=>{let t=0;return e in s.threads&&(t=1+s.threads[e].commentIds.length,s.threads[e].localCommentIds&&(t+=s.threads[e].localCommentIds.length)),t},getNextCursorByThreadId:t=>e=>{if(e in t.threads)return t.threads[e].nextCursor},getCommentComposerStateById:t=>e=>e?t.commentComposersState[e]:null,isCommentComposerActive:(e,t)=>e=>{e=t.getCommentComposerStateById(e);return e&&e.isActive},isCommentComposerEmpty:(e,s)=>e=>{const t=s.getCommentComposerStateById(e);return!t||!t.message.trim().length},getIsFollowStatusInProgress:t=>e=>e&&t.followStatusInProgressMap[e],isNeedFetchFollowStatus:t=>e=>void 0===t.followStatusMap[e]},mutations:{[Qt.r7]:(e,t)=>{var s=t["idKey"],t=(0,Ee.Z)(t,["idKey"]);e.commentComposersState[s]=ms({isActive:!1,composerMode:Te.tc,message:"",isReply:!1,parent:"",threadId:"",delegateUserId:null},t)},[Qt.qi]:(e,{idKey:t,mode:s})=>{e.commentComposersState[t]=ms(ms({},e.commentComposersState[t]),{},{composerMode:s})},[Qt.u2]:(e,t)=>{e.commentComposersState[t]=ms(ms({},e.commentComposersState[t]),{},{isActive:!1})},[Qt.gN]:(e,{idKey:t,message:s})=>{e.commentComposersState[t]=ms(ms({},e.commentComposersState[t]),{},{message:s})},[Qt.bM]:(e,{idKey:t,delegateUserId:s})=>{e.commentComposersState[t]=ms(ms({},e.commentComposersState[t]),{},{delegateUserId:s})},[Qt.IL](e,{threadId:t,isInProgress:s}){C(e.followStatusInProgressMap,t,s)},[Qt.UU](e,{commentId:t=null,isScrollCompleted:s=!1}){e.highlightedCommentState={commentId:t,isScrollCompleted:s}},[Qt.Ys](e,{comment:t,parent:s}){e.comments=ms({[t.commentId]:t},e.comments),void 0===e.localThreads[s]?e.localThreads[s]=[t.commentId]:e.localThreads[s].push(t.commentId)}},actions:{[Qt.r7]:({commit:e,getters:t,dispatch:s},r)=>{let o=r["idKey"],i=(0,Ee.Z)(r,["idKey"]);i.threadId&&s(Qt.gm,i.threadId);s=t.getCommentComposerStateById(o);let n=s?s.message:"";if(i.parent&&!n){const{user:e,isDeleted:a}=t.getCommentById(i.parent);e&&!a&&(n=`@${e.displayName} `)}i.message=n,e(Qt.r7,fs({idKey:o},i))},[Qt.qi]:({commit:e},{idKey:t,mode:s})=>{e(Qt.qi,{idKey:t,mode:s})},[Qt.gN]:({commit:e},{idKey:t,message:s})=>{e(Qt.gN,{idKey:t,message:s})},[Qt.bM]:({commit:e},{idKey:t,delegateUserId:s})=>{e(Qt.bM,{idKey:t,delegateUserId:s})},[Qt.u2]:({commit:e},t)=>{e(Qt.u2,t)},[Qt.UU]:({commit:e},t)=>{e(Qt.UU,t)},[Qt.ae]:({commit:e})=>{e(Qt.UU,{})},[Qt.bV]:({dispatch:e},t)=>{e(Qt.gN,{idKey:t,message:""}),e(Qt.bM,{idKey:t,delegateUserId:null}),e(Qt.qi,{idKey:t,mode:Te.tc}),e(Qt.u2,t),e(`attachments/${at.ZO}`,{itemID:t},{root:!0})},[Qt.Wg]:async({rootState:e,dispatch:t,getters:s,rootGetters:r},{idKey:o})=>{const i=s.getCommentComposerStateById(o),n=r[`attachments/${at.ZI}`](o);if(!s.isCommentComposerEmpty(o)||n.length){const a={text:i.message.trim()};i.delegateUserId&&(a.delegateUserId=i.delegateUserId),n.length&&(a.uploadedFiles=n),i.parent&&(a.parent=i.parent,i.isReply||(a.replyThreadOnly=!0)),await t(Qt.tV,a),t(Qt.bV,o);var o=e.user.settings.autoFollowThreadReply,e=s.getCommentById(i.parent)["threadId"];i.isReply&&e&&(s.isNeedFetchFollowStatus(e)&&await t(Qt.gm,e),!s.getFollowStatus(e)&&o&&t(Qt.lK,{threadId:e,follow:!0}))}},async[Qt.lK]({dispatch:e},{threadId:t,follow:s}){e(Qt.IL,{threadId:t,isInProgress:!0}),e(Qt.rY,{threadId:t,follow:s}).then(()=>{e(`toasts/${ge.Pd}`,{text:s?"You will get notified when there are new replies.":"Comment unfollowed",type:pe.default.INFO},{root:!0})}).catch(()=>{}).finally(()=>{e(Qt.IL,{threadId:t,isInProgress:!1})})},async[Qt.aO]({commit:e},t){var s=t["options"],{comments:r,commentsBySign:t}=rs.rehydrateComments(t);e(Qt.pc,r),e(Qt.yM,{loadType:s.loadType,commentsBySign:t})},async[Qt.ki]({state:e,rootGetters:t,dispatch:s,getters:r,rootState:{commentSystem:{user:{auth:o}}}},i={}){t=t["commentSystem/user/hasActivities"];if(s(Qt.eZ,{threadKey:i.key,timestamp:(new Date).getTime()}),0<r.getCommentsCountByThreadId(i.key))return Promise.resolve();const n=(new tt).setParams({level:2,commentId:i.key,url:e.url,type:"old"});t&&n.setAuth(o);try{const e=await n.fetch();i.loadType="LOAD_LAST",s(Qt.aO,{data:e,options:i})}catch(e){}},async[Qt._B]({rootGetters:e,dispatch:t,rootState:{commentSystem:{user:{auth:s}}}},{nextCursor:r,threadKey:o}){if(!r)return Promise.reject({message:"Next cursor is empty"});o={loadType:"LOAD_NEXT",key:o};const i=e["commentSystem/user/hasActivities"],n=(new tt).setParams(fs({},ze().parse(r)));i&&n.setAuth(s);try{const e=await n.fetch();t(Qt.aO,{data:e,options:o})}catch(e){}}}};function Os(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function bs(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Os(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Os(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}X={namespaced:!0,state:()=>bs(bs({},Xt),ys.state),getters:bs(bs({},X),ys.getters),mutations:bs(bs({},ss),ys.mutations),actions:bs(bs({},se),ys.actions)};class vs extends et{constructor(){super(),this.url="/app.json",this.cacheable=!0,this.version=ve.pv,this.appId=null,this.appId=Ge.config.appId}getData(){return{params:{id:this.appId}}}fetch(){return e=this,a=function*(){return(yield P().get(this.getUrl(),this.getData())).data.payload.app},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}function _s(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Ss(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_s(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_s(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}se={namespaced:!0,state:()=>({info:{appId:null,maxMessageLength:null,opHideCommentFeature:null,anonymousAvatarUrl:null,reactionImageSite:null}}),mutations:{setAppInfo(e,t){e.info=t}},actions:{async[m.XQ.FETCH_APP_INFO]({commit:e,state:t},s){if(t.info.appId&&t.info.appId===s.appId)return Promise.resolve();e("setAppInfo",Ss(Ss({},await(new vs).fetch()),{},{appId:s.appId,reactionImageSite:s.reactionImageSite}))},[Qt.oE]:async({dispatch:e},t)=>{await e(m.XQ.FETCH_APP_INFO,t)}}};function Ts(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}var ws=t(7651).default;function Ps(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}class Is extends et{constructor(){super(),this.url="/user.json",this.version=ve.pv,this.appId=null,this.auth=null,this.appId=Ge.config.appId}setAuth(e){return this.auth=e,this}getData(){return ze().stringify({appId:this.appId,auth:this.auth})}fetch(){return e=this,a=function*(){return(yield P().post(this.getUrl(),this.getData())).data.payload},n=void 0,new(n=Promise)(function(s,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}i((a=a.apply(e,[])).next())});var e,n,a}}function Es(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function As(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Es(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Es(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}X={namespaced:!0,modules:{comment:X,app:se,user:{namespaced:!0,state:()=>({auth:null,info:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ts(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ts(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({},Jt.$Y),commentedPostUrls:{},reportedPostUrls:{},likeMapping:{},quota:{}}),getters:{isLoggedIn:e=>null!==e.info.userId,hasActivities:(e,t,s)=>{if(null===e.info.userId)return!1;if(e.info.moderate)return!0;var r=s.commentSystem.comment.url,s=e.commentedPostUrls,e=e.reportedPostUrls;let o=!1;return s&&s[r]&&(o=!0),e&&e[r]&&(o=!0),o},canComment:e=>e.quota&&e.quota.count?0<e.quota.count:!!e.expiry&&Date.now()>e.expiry,waitTimeToComment:e=>e.quota?0<e.quota.wait&&ws.secondsToHrs(e.quota.wait):0,canModerate:e=>e.info.moderate},mutations:{setAuth(e,t){e.auth=t},setUserInfo(e,t={}){e.info=t.user||function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ps(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ps(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({},Jt.$Y),e.commentedPostUrls=t.commentedPostUrls||{},e.reportedPostUrls=t.reportedPostUrls||{},e.likeMapping=t.likeMapping||{},e.quota=t.quota||{}},updateCommentedPostUrls(e,t){e.commentedPostUrls=t},updateReportedPostUrls(e,t){e.reportedPostUrls=t},updateLikeMapping(e,t){e.likeMapping=t},updateQuota(e,t){t.wait&&(t.expiry=Date.now()+1e3*t.wait),e.quota=t}},actions:{[m.GD.FETCH_USER_INFO]:async({commit:e,state:t},s)=>{var s=s["auth"];if(s&&t.auth===s||e("setUserInfo"),e("setAuth",s),!s||t.info.userId)return Promise.resolve();e("setUserInfo",await(new Is).setAuth(s).fetch())},[Qt.nQ]:async({dispatch:e},t)=>{await e(m.GD.FETCH_USER_INFO,t)},[m.GD.UPDATE_COMMENTED_POST_URLS]:({commit:e,state:t},s)=>{e("updateCommentedPostUrls",As(As({},t.commentedPostUrls),s))},[m.GD.UPDATE_REPORTED_POST_URLS]({commit:e,state:t},s){e("updateReportedPostUrls",As(As({},t.reportedPostUrls),s))},[m.GD.UPDATE_LIKE_MAPPING]:({commit:e,state:t},s)=>{e("updateLikeMapping",As(As({},t.likeMapping),s))},[m.GD.UPDATE_QUOTA]:({commit:e,state:t},s)=>{e("updateQuota",As(As({},t.quota),s))}}}}},se=[h({key:"userCommentsState",paths:["commentSystem.user.auth","commentSystem.user.info","commentSystem.user.commentedPostUrls","commentSystem.user.reportedPostUrls","commentSystem.user.likeMapping","commentSystem.user.quota"],filter:e=>["commentSystem/user/setAuth","commentSystem/user/setUserInfo","commentSystem/user/updateCommentedPostUrls","commentSystem/user/updateReportedPostUrls","commentSystem/user/updateLikeMapping","commentSystem/user/updateQuota"].includes(e.type)},600)],se=[h({key:"appCommentsState",paths:["commentSystem.app"],filter:e=>["commentSystem/app/setAppInfo"].includes(e.type)},600),...se];function ks(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function Ds(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ks(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ks(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const Cs=[h({key:"appState",paths:["app.darkMode","session.session","user.settings.autoFollowThreadReply"],filter:e=>["app/TOGGLE_DARK_MODE","session/setSessionInfo","session/setSessionReferral",`user/settings/${H.Ai}`].includes(e.type)}),h({key:"userState",paths:["user.user","user.votes","user.uploads","user.reports","user.settings.blocklistIds"],filter:e=>["user/SET_USER_INFO","user/CLEAR_USER_INFO","user/ADD_REPORT","user/ADD_VOTE","user/ADD_UPLOAD","user/settings/SET__BLOCKLIST_IDS","user/settings/ADD__ID_TO_BLOCKLIST_IDS","user/settings/REMOVE__ID_FROM_BLOCKLIST_IDS"].includes(e.type)},3600),f,T,h({key:"sidebarState",paths:["sidebar.clickedPosts"],filter:e=>"sidebar/ADD_CLICKED_POST"===e.type}),h({key:"sectionState",paths:["section.favoriteSections","section.recentUploadSections","section.recentVisitSections"],filter:e=>["section/favoriteSection","section/unfavoriteSection","section/addRecentUploadSection","section/addRecentUploadSection","section/addRecentVisitSection","section/removeRecentVisitSection","section/clearRecentVisitSections"].includes(e.type)}),...I,...se],Us=(0,s.MT)({modules:{app:function(){const t="sign_up_referer";return{namespaced:!0,state:{drawer:!0,darkMode:!1,topNavHeight:48,supportsH264:i.supportsH264(),supportsH265:i.supportsH265(),supportsAV1:i.supportsAV1()},getters:{IS_SENSITIVE(e,t,s,r){var s=s["route"];if(s.name===c.Z.POST_PAGE)return!!r["post/GET_POST"](s.params.postId).nsfw;if([c.Z.SECTION_LIST,c.Z.SEARCH_POST_LIST].includes(s.name)){const e=s.params.section||"";return!!r["section/GET_SECTION"](e).isSensitive}return!1},SHOW_ADS(e,t,s){var s=s["route"];return!t.IS_SENSITIVE&&[...c.Z.MAIN_LISTS,c.Z.POST_PAGE].includes(s.name)}},mutations:{TOGGLE_DARK_MODE(e){e.darkMode=!e.darkMode},UPDATE_TOP_NAV_HEIGHT(e,t){e.topNavHeight=t},UPDATE_DRAWER(e,t){e.drawer=t}},actions:{async CHECK_DARK_MODE({state:e,dispatch:t}){e.darkMode&&t("SET_DARK_MODE")},async TOGGLE_DARK_MODE({commit:e,dispatch:t}){e("TOGGLE_DARK_MODE"),t("SET_DARK_MODE")},async SET_DARK_MODE({state:e}){e=e.darkMode?"add":"remove";document.body.classList[e]("theme-dark")},async UPDATE_TOP_NAV_HEIGHT({commit:e},t){e("UPDATE_TOP_NAV_HEIGHT",t)},async UPDATE_SIGNUP_REFERRER({rootGetters:e}){o.U2(t)||o.t8(t,document.referrer,{domain:e["config/COOKIE_DOMAIN"],expires:365,path:"/"})}}}}(),privacy:{namespaced:!0,state:{googleNpa:!1,doNotSell:!1,privacyCheck:null,dismissCCPABanner:!1},getters:{isCCPARegion:e=>u()(e,"privacyCheck.ccpa",!1),googleRdp:(e,t)=>t.isCCPARegion&&e.doNotSell,showCCPABanner:(e,t)=>t.isCCPARegion&&!e.dismissCCPABanner},mutations:{setGoogleNpa(e,t){e.googleNpa=t},setDoNotSell(e,t){e.doNotSell=t},setPrivacyCheck(e,t){e.privacyCheck=t},dismissCCPABanner(e,t){e.dismissCCPABanner=t}},actions:{async[m.Lm.SET_GOOGLE_NPA]({commit:e,state:t}){var s=await l.Z.getGoogleNpa();g.log("setGoogleNpa",s),s!==t.googleNpa&&e("setGoogleNpa",s)},[m.Lm.SET_DO_NOT_SELL]({commit:e,dispatch:t},s){e("setDoNotSell",s),t(m.Lm.UPDATE_CCPA_COOKIE)},async[m.Lm.INIT_PRIVACY_CHECK]({commit:t,state:s,dispatch:r}){r(m.Lm.SET_GOOGLE_NPA),setTimeout(async()=>{var e=await n.Z.check(s.privacyCheck);e&&t("setPrivacyCheck",e),r(m.Lm.UPDATE_CCPA_COOKIE)},5e3)},[m.Lm.UPDATE_CCPA_COOKIE]({state:e,getters:t}){n.Z.updateCCPACookie(t.isCCPARegion,e.dismissCCPABanner,e.doNotSell)},[m.Lm.DISMISS_CCPA_BANNER]({commit:e,dispatch:t},s){e("dismissCCPABanner",s),t(m.Lm.UPDATE_CCPA_COOKIE)}}},session:{namespaced:!0,state:{session:{startTs:0,expiryTs:0,ref:null,utmSource:null,utmCampaign:null,utmMedium:null},unmasked:[]},getters:{GET_SESSION_PARAMS:e=>{var{ref:t,utmSource:s,utmCampaign:r,utmMedium:e}=e.session;return{ref:t,utm_source:s,utm_campaign:r,utm_medium:e}},SHOW_SENSITIVE_MASK:(t,e,s,r)=>e=>!r["user/IS_LOGGED_IN"]||!!r["user/SAFE_MODE"]&&!t.unmasked.includes(e)},mutations:{setSessionInfo(e,t){e.session=S(S({},e.session),t)},setSessionReferral(e,t){e.session=S(S({},e.session),t)},unmaskSensitive(e,t){e.unmasked.push(t)}},actions:{[m.R5.SET_SESSION_ACTIVE]({commit:e,state:t}){var{sessionInfo:s,referralInfo:t}=v.getSessionInfoAndReferralInfoForSession(t.session);t&&e("setSessionReferral",t),e("setSessionInfo",s)},[m.R5.CHECK_SESSION_REFERRAL]({commit:e,rootState:t}){t=v.getReferralInfoForQuery(u()(t,"route.query",null));t&&e("setSessionReferral",t)},[m.R5.UNMASK_SENSITIVE]({commit:e},t){e("unmaskSensitive",t)}}},config:{namespaced:!0,state:{page:{},configs:{},features:{},data:{},appConfig:{}},getters:{APP_NAME:e=>u()(e,"page.appName","9gag"),APP_VERSION:e=>u()(e,"page.appVersion","00000"),COOKIE_DOMAIN:e=>u()(e,"page.cookie_domain",".9gag.com"),ASSETS_URL:e=>u()(e,"page.staticAssetPath"),ACTIVE_DURATION:e=>u()(e,"configs.profile.activeDuration"),GET_CONFIG:s=>(e,t=null)=>u()(s,e,t),GET_DATA:s=>(e,t=null)=>u()(s.data,e,t),GET_APP_CONFIG:s=>(e,t=null)=>u()(s.appConfig,e,t)},mutations:{SET_CONFIG(e,t={}){var{page:s,configs:r,features:o,data:t}=t;e.page=s,e.configs=r,e.features=o,e.data=t||{}},SET_APP_CONFIG(e,t){e.appConfig=t},CLEAR_DATA(e){e.data={}}},actions:{INIT_CONFIG({commit:e,dispatch:t},s){e("SET_CONFIG",s),t(`section/${m.bQ.INIT_SECTIONS}`,s.page,{root:!0})},async LOAD_APP_CONFIG({commit:e}){var t=await D.getConfig();t&&e("SET_APP_CONFIG",t)},async CLEAR_HYDRATION({commit:e,state:t}){Object.keys(t.data).length&&e("CLEAR_DATA")}}},post:function(){const a={next:null,prev:null};return{namespaced:!0,state:{posts:{},postIdsByUrl:{},loadCountByUrl:{},featuredAdsByUrl:{},lastPositionByUrl:{},currentApiInfo:null,nextApiInfo:null,postApiInfos:{},nextCursors:{},prevCursors:{}},getters:{GET_API_INFO:e=>e.nextApiInfo||e.currentApiInfo,GET_CURSORS:(s,r)=>e=>{var t=r.GET_API_INFO;return t&&s["prev"!==e?"nextCursors":"prevCursors"][t.url]||""},GET_POST_IDS_BY_URL:(s,r)=>(e=null)=>{var t=r.GET_API_INFO;return s.postIdsByUrl[e||t.url]||[]},GET_POST:t=>e=>t.posts[e]||{},POST_LIST_IDS:(e,t,s)=>{const r=e.currentApiInfo,o=r&&t.GET_POST_IDS_BY_URL(r.url)||[],i=r&&r.name||null,n=[...c.Z.MAIN_LISTS,c.Z.TAG_POST_LIST].includes(i)?s.user.uninterestedPosts:[];return o.filter((e,t)=>o.indexOf(e)===t&&!n.includes(e))},LOAD_COUNT:e=>e.currentApiInfo&&e.loadCountByUrl[e.currentApiInfo.url]||1,FEATURED_ADS:e=>e.currentApiInfo&&e.featuredAdsByUrl[e.currentApiInfo.url]||[],GET_LAST_POSITION:e=>e.currentApiInfo&&e.lastPositionByUrl[e.currentApiInfo.url]||null},mutations:{SET_POST_IDS_BY_URL(e,{url:t,ids:s}){C(e.postIdsByUrl,t,s)},ADD_POSTS(t,e=[]){e.forEach(e=>C(t.posts,e.id,e))},ADD_POST(e,t){C(e.posts,t.id,t)},SET_NEXT_POSTS(e,{cursor:t,url:s}){C(e.nextCursors,s,t||null)},SET_PREV_POSTS(e,{cursor:t,url:s}){C(e.prevCursors,s,t||null)},UPDATE_POST_AUTO_PLAY(e,t){t.mediaId?C(e.posts[t.id].article.medias[t.mediaId],"autoPlayEvent",t.autoPlayEvent):C(e.posts[t.id],"autoPlayEvent",t.autoPlayEvent)},UPDATE_VOTE_COUNT(e,t){C(e.posts,t.id,t)},SET_CURRENT_API_INFO(e,t){e.currentApiInfo=t},SET_NEXT_API_INFO(e,t){e.nextApiInfo=t},SAVE_POST_API_INFO(e,{postId:t,apiInfo:s}){C(e.postApiInfos,t,s)},UPDATE_LOAD_COUNT(e,{loadCount:t,apiInfo:s}){C(e.loadCountByUrl,s.url,t)},SET_FEATURED_ADS(e,{featuredAds:t,apiInfo:s}){C(e.featuredAdsByUrl,s.url,t)},SET_LAST_POSITION(e,{url:t,data:s}){C(e.lastPositionByUrl,t,s)}},actions:{CHECK_URL_INFO:({getters:e},t=null)=>{if(!e.GET_API_INFO&&!t)throw"You must set apiInfo or provide url in arg to set post"},SET_POST_IDS_BY_URL:({commit:e,getters:t,dispatch:s},{url:r,ids:o,operationType:i})=>{var n=t.GET_API_INFO;s("CHECK_URL_INFO",r=r||n.url),e("SET_POST_IDS_BY_URL",{url:r,ids:o=x.bindPostIdToUrl(t.GET_POST_IDS_BY_URL(r),o,i)})},ADD_POST:({commit:e,dispatch:t},{data:s,url:r,operationType:o="push"})=>{e("ADD_POST",x.transformPost(s)),t("SET_POST_IDS_BY_URL",{url:r,ids:s.id,operationType:o})},SET_NEXT_POSTS:async({commit:e,dispatch:t,getters:s},{posts:r,cursor:o,url:i})=>{if(t("CHECK_URL_INFO",i),i=i||s.GET_API_INFO.url,r)for(var n of r)t("ADD_POST",{data:n});e("SET_NEXT_POSTS",{url:i,cursor:o})},SET_PREV_POSTS:async({commit:e,dispatch:t,getters:s},{posts:r,cursor:o,url:i})=>{if(t("CHECK_URL_INFO",i),i=i||s.GET_API_INFO.url,r)for(var n of r)t("ADD_POST",{data:n,operationType:"unshift"});e("SET_PREV_POSTS",{url:i,cursor:o})},SAVE_POST_API_INFO:({commit:e,getters:t},s)=>{e("SAVE_POST_API_INFO",{postId:s,apiInfo:t.GET_API_INFO})},SET_FEATURED_ADS:({commit:e,getters:t},s)=>{e("SET_FEATURED_ADS",{featuredAds:s,apiInfo:t.GET_API_INFO})},SET_LAST_POSITION:({commit:e,getters:t},s)=>{e("SET_LAST_POSITION",{url:t.GET_API_INFO.url,data:s})},TO_NEXT_POST:async({dispatch:e})=>e("TO_NEAR_POST","next"),TO_PREV_POST:async({dispatch:e})=>e("TO_NEAR_POST","prev"),TO_NEAR_POST:async({getters:e,rootState:t,dispatch:s},r)=>{const o=e.GET_POST_IDS_BY_URL()||[];e.GET_API_INFO;let i=o.indexOf(t.route.params.postId);if(o.length||!a[r]){const n=async()=>a[r]||(e.GET_CURSORS(r)?(a[r]=s("LOAD_POSTS",r).then(()=>{a[r]=null}),a[r]):void 0);if(await(async()=>{if(!("next"===r&&0<o.length-i-7||"prev"===r&&7<i))return"prev"===r&&0!==i||"next"===r&&i!==o.length-1?void n():n()})(),"next"===r&&i<o.length-1)i++;else{if(!("prev"===r&&0<i))return;i--}return o[i]}},LOAD_POSTS:({dispatch:e,getters:t},s="next")=>{t.GET_API_INFO.name===c.Z.POST_PAGE?e("LOAD_PAGE_POSTS",{direction:s}):e("LOAD_LIST_POSTS")},LOAD_PAGE_POSTS:async({dispatch:e,getters:t},{direction:s,addCurrentPost:r})=>{var o=t.GET_CURSORS(s),s=t.GET_API_INFO,{data:t,url:s}=await L.Z.getListPosts(s,o);return r&&t.post&&e("ADD_POST",{data:t.post,url:s}),t.nextPosts&&e("SET_NEXT_POSTS",{posts:t.nextPosts,cursor:t.nextCursor,url:s}),t.prevPosts&&e("SET_PREV_POSTS",{posts:t.prevPosts,cursor:t.prevCursor,url:s}),o&&e("UPDATE_LOAD_COUNT",t.nextCursor),t},INIT_PAGE_POSTS:async({dispatch:e},t)=>{var{post:s,nextPosts:r,nextCursor:o,prevPosts:i,prevCursor:t}=t;s&&e("ADD_POST",{data:s}),r&&e("SET_NEXT_POSTS",{posts:r,cursor:o}),i&&e("SET_PREV_POSTS",{posts:i,cursor:t})},LOAD_LIST_POSTS:async({dispatch:e,getters:t})=>{var s=t.GET_CURSORS("next"),r=t.GET_API_INFO,{data:t,url:r}=await L.Z.getListPosts(r,s);return e("SET_NEXT_POSTS",{posts:t.posts,cursor:t.nextCursor,url:r}),s&&e("UPDATE_LOAD_COUNT",t.nextCursor),t.featuredAds&&e("SET_FEATURED_ADS",t.featuredAds),{data:t,url:r}},INIT_LIST_POSTS:async({commit:e,dispatch:t,getters:s},{data:r,hydrate:o=!1})=>{var{posts:i,nextCursor:n,group:a,tags:c,tag:l,profile:d,featuredAds:r}=r,s=s.GET_API_INFO.url;o&&i&&t("SET_NEXT_POSTS",{posts:i,cursor:n}),a&&t(`section/${m.bQ.ADD_SECTION}`,a,{root:!0}),c&&e("tag/SET_TAGS",{tags:c,key:s},{root:!0}),l&&e("tag/SET_TAG_NAV",{tagNav:l,key:s},{root:!0}),d&&e("profile/ADD_PROFILE",d,{root:!0}),r&&t("SET_FEATURED_ADS",r)},UPDATE_LOAD_COUNT:({commit:e,getters:t},s)=>{var r=t.LOAD_COUNT,o=t.GET_API_INFO,t=o.pageKey;j.default.track("PostList",s?"LoadList":"LoadListEnd",t,"",{LoadedCount:r}),e("UPDATE_LOAD_COUNT",{loadCount:r+1,apiInfo:o})},UPDATE_VOTE_COUNT:({getters:e,commit:t},{postId:s,currentScore:r,newScore:o})=>{const i=e.GET_POST(s);i&&i.hasOwnProperty("id")&&t("UPDATE_VOTE_COUNT",V(V({},i),x.recalculateVote(i,r,o)))},SET_CURRENT_API_INFO:({commit:e,dispatch:t},s)=>{e("SET_CURRENT_API_INFO",s),t("SET_NEXT_API_INFO",null)},SET_NEXT_API_INFO:({commit:e},t)=>{e("SET_NEXT_API_INFO",t)},UPDATE_POST_AUTO_PLAY:async({commit:e},t)=>{e("UPDATE_POST_AUTO_PLAY",t)}}}}(),user:Ds(Ds({},{namespaced:!0,state:z(z({init:!1},Y),{},{uninterestedPosts:[]}),getters:{IS_LOGGED_IN:e=>null!==e.user.username,USER_ID:e=>e.user.userId,RESTRICTED:e=>e.user.restricted,SAFE_MODE:e=>!0===e.user.safeMode,USER:e=>e.user,GET_USER_SCORE:t=>e=>t.votes[e]||0},mutations:{SET_INIT(e,t){e.init=t},SET_USER_INFO(e,t){var{user:s,reports:r,votes:o,uploads:t}=t;s&&(e.user=s),r&&(e.reports=r),o&&(e.votes=o),t&&(e.uploads=t)},CLEAR_USER_INFO(s){Object.entries(Y).forEach(([e,t])=>{s[e]=t})},ADD_UPLOAD(e,t){e.uploads.push(t)},ADD_REPORT(e,t){var s=e["reports"];e.reports=(e=t,-1!==(s=(t=s).indexOf(e))&&t.splice(s,1),t.unshift(e),t.splice(1e3),t)},ADD_VOTE(e,t){e.votes=z(z({},e.votes),t)},UPDATE_UNINTERESTED_POSTS(t){const e=[];for(var[s,r]of Object.entries(t.votes))-1===r&&e.push(s);t.uninterestedPosts=[...e,...t.reports].filter(e=>!t.uploads.includes(e))}},actions:{async SET_INIT({commit:e}){e("SET_INIT",!0)},async SET_USER_INFO({commit:e,dispatch:t}){var{user:s,"user-report":r,vote:o,"user-upload":i,"block-account":n}=await Z.getUserInfo()||{};e("SET_USER_INFO",{user:s,reports:r,votes:o,uploads:i}),o&&r&&t("UPDATE_UNINTERESTED_POSTS"),n&&t(`settings/${H.uO}`,n)},async CLEAR_USER_INFO({commit:e}){e("CLEAR_USER_INFO")},async UPDATE_SETTINGS({commit:e},t){var s=await Z.updateSettings(t),t=s["user"];return t&&e("SET_USER_INFO",{user:t}),s},UNLINK_ACCOUNT:async({},e)=>Z.unlinkAccount(e),async UPDATE_UNINTERESTED_POSTS({commit:e}){e("UPDATE_UNINTERESTED_POSTS")},async ADD_VOTE({commit:e},t){e("ADD_VOTE",t)},async ADD_REPORT({commit:e},t){e("ADD_REPORT",t)},ADD_UPLOAD({commit:e},t){e("ADD_UPLOAD",t)}}}),w),tag:{namespaced:!0,state:{tags:{},tagNavs:{}},getters:{TAGS(e,t,s){s=L.Z.getApiInfo(s.route).url;return e.tags[s]||[]},TAG_NAV(e,t,s){s=L.Z.getApiInfo(s.route).url;return e.tagNavs[s]||{}}},mutations:{SET_TAGS(e,{key:t,tags:s}){C(e.tags,t,s)},SET_TAG_NAV(e,{key:t,tagNav:s}){C(e.tagNavs,t,s)}},actions:{}},section:{namespaced:!0,state:te(te({},Q.state),{},{recentUploadSections:[]}),getters:te(te({},Q.getters),{},{GET_UPLOAD_SECTION:s=>e=>{let t=null;return s.sections[e]?t=s.sections[e]:s.geoSection&&s.geoSection.url===e&&(t=s.geoSection),t&&t.userUploadEnabled?t:null},GET_RECENT_UPLOAD_SECTIONS_URLS:(t,e)=>t.recentUploadSections.filter(e=>t.sections.hasOwnProperty(e)||t.localSections.hasOwnProperty(e)||t.geoSection&&t.geoSection.url===e)}),mutations:te(te({},Q.mutations),{},{addRecentUploadSection(t,e){let s=[];t.recentUploadSections.forEach(e=>{(t.sections[e]||t.localSections[e]||t.geoSection.url===e)&&s.push(e)});var r=s.indexOf(e);-1===r?(3<=s.length&&(s=s.slice(0,2)),s.unshift(e)):s.unshift(s.splice(r,1)[0]),t.recentUploadSections=s}}),actions:te(te({},Q.actions),{},{ADD_RECENT_UPLOAD_SECTION({commit:e},t){e("addRecentUploadSection",t)}})},profile:{namespaced:!0,state:{profiles:{}},getters:{GET_PROFILE_BY_USERNAME:t=>e=>t.profiles[e.toLowerCase()]||{}},mutations:{ADD_PROFILE(e,t){C(e.profiles,t.username,t)}}},sidebar:{namespaced:!0,state:{featuredPosts:[],clickedPosts:[],clickedFeaturedCount:0},getters:{},mutations:{SET_FEATURED_POSTS(s,r){if(s.clickedPosts&&0<s.clickedPosts.length){let t=0;for(let e=0;e<r.length;e++){var o=r[t].itemId;Array.isArray(s.clickedPosts)&&s.clickedPosts.includes(o)?(r.push(r.splice(t,1)[0]),s.clickedFeaturedCount+=1):t++}}s.featuredPosts=r},ADD_CLICKED_POST(e,t){if(Array.isArray(e.clickedPosts)&&!e.clickedPosts.includes(t)){if(20<=e.clickedPosts.length){const t=e.clickedPosts.shift();e.featuredPosts.includes(t)&&--e.clickedFeaturedCount}e.clickedPosts.push(t)}else e.clickedPosts=[t];e.clickedFeaturedCount+=1},SHUFFLE_FEATURED_POSTS(e){let t=e.featuredPosts,s=[];var r;0<e.clickedFeaturedCount&&(r=e.featuredPosts.length-e.clickedFeaturedCount,t=e.featuredPosts.slice(0,r),s=e.featuredPosts.slice(r)),e.featuredPosts=[...ae()(t),...s]}},actions:{SET_FEATURED_POSTS:({commit:t})=>ie.getFeaturedPosts().then(e=>{t("SET_FEATURED_POSTS",e.items),t("SHUFFLE_FEATURED_POSTS")}),ADD_CLICKED_POST({commit:e,state:t},s){e("ADD_CLICKED_POST",s),e("SET_FEATURED_POSTS",t.featuredPosts)},SHUFFLE_FEATURED_POSTS({commit:e}){e("SHUFFLE_FEATURED_POSTS")}}},noti:{namespaced:!0,state:{items:[],itemIds:[],readIds:[],nextKey:"",didEndOfList:!1,readState:{lastReadTimestamp:null,unreadCount:0},isMentionsTab:!1,showDropdown:!1},getters:{NOTI_ITEMS:e=>e.isMentionsTab?e.items.filter(e=>de.MENTION_TAB.includes(e.type)):e.items,NOTI_COUNT:e=>e.items.length,NOTI_UNREAD_COUNT:e=>u()(e,"readState.unreadCount",0),NOTI_OPTIONS:(e,t,s,r)=>{var o=r["config/GET_CONFIG"]("configs.noti.apiHost"),r=r["user/USER"]||{};return{readStateUrl:o?`https://${o}/v1/read-state.json`:null,readStateParams:u()(r,"notiOptions.readStateParams",null),pushChannels:u()(r,"notiOptions.channels",[])}}},mutations:{SET_NOTI(t,e){const{items:s,nextKey:r,didEndOfList:o}=e;s.forEach(e=>{t.itemIds.includes(e.id)||(t.items.push(e),t.itemIds.push(e.id))}),t.nextKey=r,t.didEndOfList=o},ADD_READ_ITEM(e,t){e.readIds.push(t)},SET_MENTIONS_TAB(e,t){e.isMentionsTab=t},SHOW_DROPDOWN(e){e.showDropdown=!0},HIDE_DROPDOWN(e){e.showDropdown=!1},SET_READ_STATE(e,t){e.readState=t},UPDATE_READ_STATE(e){var t=ue.getCurrentTime();C(e.readState,"lastReadTimestamp",t),C(e.readState,"unreadCount",0)},RESET_NOTI_LIST(e){e.items=[],e.itemIds=[],e.nextKey="",e.didEndOfList=!1}},actions:{async LOAD_NOTI({commit:e,state:t}){if(!t.didEndOfList&&t.showDropdown){const s={};t.nextKey&&""!==t.nextKey&&(s.refKey=t.nextKey);t=await le.getNoti(s);e("SET_NOTI",t),e("post/ADD_POSTS",t.posts,{root:!0})}},async REFRESH_NOTI({commit:e,dispatch:t}){e("RESET_NOTI_LIST"),t("LOAD_NOTI")},SET_INDIVIDUAL_NOTI_READ_STATE({commit:e},t){le.setNotiReadState(t),e("ADD_READ_ITEM",t.itemKeys)},UPDATE_NOTI_READ_STATE({commit:e,getters:t}){t=t.NOTI_OPTIONS;le.updateNotiUnreadCount(t),e("UPDATE_READ_STATE")},SET__IS_DROPDOWN_OPENED:({commit:e},t)=>{e(t?"SHOW_DROPDOWN":"HIDE_DROPDOWN")}}},toast:{namespaced:!0,state:{showToast:!1,toastType:pe.default.INFO,toastMsg:"",linkTitle:"View",toastLink:null,toastAction:null,dismissTimeout:null},mutations:{displayToast(e,t){var{type:s,msg:r,linkTitle:o="View",link:i=null,toastAction:t=null}=t;e.toastType=s,e.toastMsg=r,e.showToast=!0,e.linkTitle=o,e.toastLink=i,e.toastAction=t},setDismissTimeout(e,t){e.dismissTimeout=t},dismissToast(e){e.showToast=!1}},actions:{[m.ot.DISPLAY_TOAST]({commit:e,dispatch:t,state:s},r){s.dismissTimeout&&(clearTimeout(s.dismissTimeout),e("setDismissTimeout",null)),e("displayToast",r);var{dismiss:r=!0}=r;r&&e("setDismissTimeout",setTimeout(t.bind(null,m.ot.DISMISS_TOAST),5e3))},[m.ot.DISMISS_TOAST]({commit:e}){e("dismissToast")}}},commentSystem:X,boards:ne,attachments:E,modal:he,toasts:Yt},strict:!1,plugins:Cs})},1487:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(4949);function o(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function i(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const n={POST_PAGE:"PostPage",EMBED_COMMENT:"EmbedComment",USER_POST_LIST:"UserPostList",TAG_POST_LIST:"TagPostList",SEARCH_POST_LIST:"SearchPostList",POST_LIST:"PostList",SECTION_LIST:"SectionList",INTEREST_LIST:"InterestList",HOT_POST_LIST:"HotPostList",SECTION_POST_LIST:"SectionPostList",LOGIN_PAGE:"LoginPage",SIGNUP_PAGE:"SignupPage",SETTINGS:"Settings",FORGOT_PASSWORD:"ForgotPassword",SOCIAL_TRANSFER:"SocialTransfer",DELETE_ACCOUNT:"DeleteAccount",DONATE:"Donate",UPLOAD:"Upload",NOTIFICATIONS:"Notifications"},a=i(i({},n),{},{MAIN_LISTS:[n.POST_LIST,n.SECTION_LIST,n.INTEREST_LIST,n.HOT_POST_LIST,n.SECTION_POST_LIST],LIST_VIEWS:[n.USER_POST_LIST,n.TAG_POST_LIST,n.SEARCH_POST_LIST,n.POST_LIST,n.SECTION_LIST,n.INTEREST_LIST,n.HOT_POST_LIST,n.SECTION_POST_LIST],MEMBER_VIEWS:[n.LOGIN_PAGE,n.SIGNUP_PAGE,n.FORGOT_PASSWORD,n.SOCIAL_TRANSFER,n.DELETE_ACCOUNT]})},9200:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});t=s(4279);const r=new(s.n(t)()),o={$on:r.on,$off:r.off,$emit:r.emit}},9746:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,"div[data-v-15c8f3f2]{background:#fff;padding:20px 0}",""]),e.exports=s},1869:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,'.board-system__right-part[data-v-0e1d61b6]{width:399px}.board-system__wrapper[data-v-0e1d61b6]{position:fixed;right:60px;bottom:0;background:#fff;-webkit-border-radius:4px 4px 0px 0px;border-radius:4px 4px 0px 0px;border:1px solid rgba(0,0,0,.1);-webkit-box-shadow:0px 8px 16px rgba(0,0,0,.2),0px 4px 4px rgba(0,0,0,.25);box-shadow:0px 8px 16px rgba(0,0,0,.2),0px 4px 4px rgba(0,0,0,.25);width:720px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;z-index:12;overflow:hidden}body.theme-dark .board-system__wrapper[data-v-0e1d61b6]{background:#141414;-webkit-box-shadow:"0px 8px 16px rgba(255, 255, 255, 0.2), 0px 4px 4px rgba(255, 255, 255, 0.25)";box-shadow:"0px 8px 16px rgba(255, 255, 255, 0.2), 0px 4px 4px rgba(255, 255, 255, 0.25)";border:1px solid rgba(255,255,255,.1)}.board-system__wrapper.board-system__state_opened[data-v-0e1d61b6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:50vh;min-height:480px}.board-system__wrapper.board-system__state_closed[data-v-0e1d61b6]{display:block;width:192px;height:48px;padding:14px 16px}.board-system__wrapper .board-system__left_part[data-v-0e1d61b6]{border-right:1px solid #e5e5e5;background:#fff;width:319px;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}body.theme-dark .board-system__wrapper .board-system__left_part[data-v-0e1d61b6]{background:#141414;border-right:1px solid #333}',""]),e.exports=s},632:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,".board-system{color:#000}.board-system *{-webkit-box-sizing:border-box;box-sizing:border-box}body.theme-dark .board-system{color:#fff}.action-button{padding:0;background:none;border:none;cursor:pointer;width:32px}.action-button:active,.action-button:focus{outline:none}",""]),e.exports=s},9908:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,".action-button-close[data-v-e2895a56]{margin-right:0}.action-button .icon-close[data-v-e2895a56]{margin-top:12px}.action-button .icon-refresh[data-v-e2895a56]{margin-top:4px}",""]),e.exports=s},5069:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,".minimized-panel[data-v-002f586b]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;cursor:pointer}.minimized-panel__new-messages[data-v-002f586b]{width:19px;height:19px;background:#ff3b30;-webkit-border-radius:50%;border-radius:50%;display:inline-block;vertical-align:middle;margin:-4px 0 0 5px}.minimized-panel__expand[data-v-002f586b]{margin-top:5px}",""]),e.exports=s},1781:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,".board-system__too-nav-button[data-v-0730717f]{display:block;width:36px;height:36px;float:left;overflow:hidden;margin-right:8px;cursor:pointer;border:none;position:relative;background:none;color:#999;-webkit-border-radius:20px;border-radius:20px;padding-top:5px}.board-system__too-nav-button[data-v-0730717f]:hover{background-color:rgba(0,0,0,.06)}body.theme-dark .board-system__too-nav-button[data-v-0730717f]:hover{background-color:rgba(255,255,255,.1)}.board-system__too-nav-button[data-v-0730717f]:active{background-color:rgba(0,0,0,.1)}body.theme-dark .board-system__too-nav-button[data-v-0730717f]:active{background-color:rgba(255,255,255,.2)}.board-system__too-nav-button.active[data-v-0730717f]{color:#000;background-color:rgba(0,0,0,.1)}body.theme-dark .board-system__too-nav-button.active[data-v-0730717f]{color:#fff;background-color:rgba(255,255,255,.2)}.board-system__too-nav-button[data-v-0730717f]:active,.board-system__too-nav-button[data-v-0730717f]:focus{outline:none}.board-system__new-messages[data-v-0730717f]{width:12px;height:12px;background:#ff3b30;border:2px solid #fff;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:50%;border-radius:50%;position:absolute;top:4px;right:4px}body.theme-dark .board-system__new-messages[data-v-0730717f]{border-color:#000}",""]),e.exports=s},1837:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,"svg[data-v-62717f6e]{-webkit-animation:2s linear infinite svg-animation-62717f6e;animation:2s linear infinite svg-animation-62717f6e;max-width:100px}@-webkit-keyframes svg-animation-62717f6e{0%{-webkit-transform:rotateZ(0deg);transform:rotateZ(0deg)}100%{-webkit-transform:rotateZ(360deg);transform:rotateZ(360deg)}}@keyframes svg-animation-62717f6e{0%{-webkit-transform:rotateZ(0deg);transform:rotateZ(0deg)}100%{-webkit-transform:rotateZ(360deg);transform:rotateZ(360deg)}}circle[data-v-62717f6e]{-webkit-animation:1.4s ease-in-out infinite both circle-animation-62717f6e;animation:1.4s ease-in-out infinite both circle-animation-62717f6e;display:block;fill:transparent;stroke:currentColor;stroke-linecap:round;stroke-dasharray:283;stroke-dashoffset:280;stroke-width:10px;-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%}@-webkit-keyframes circle-animation-62717f6e{0%,25%{stroke-dashoffset:280;-webkit-transform:rotate(0);transform:rotate(0)}50%,75%{stroke-dashoffset:75;-webkit-transform:rotate(45deg);transform:rotate(45deg)}100%{stroke-dashoffset:280;-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes circle-animation-62717f6e{0%,25%{stroke-dashoffset:280;-webkit-transform:rotate(0);transform:rotate(0)}50%,75%{stroke-dashoffset:75;-webkit-transform:rotate(45deg);transform:rotate(45deg)}100%{stroke-dashoffset:280;-webkit-transform:rotate(360deg);transform:rotate(360deg)}}",""]),e.exports=s},1439:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,".sensitive-mask[data-v-755bef87]{text-align:center;padding:24px 16px;z-index:0}.sensitive-mask__content h4[data-v-755bef87]{font-style:normal;font-weight:bold;text-align:center;font-size:18px;line-height:22px;color:#000;margin-bottom:4px}body.theme-dark .sensitive-mask__content h4[data-v-755bef87]{color:#fff}.sensitive-mask__content p[data-v-755bef87]{font-style:normal;font-weight:normal;font-size:14px;line-height:20px;color:#999;text-align:center;margin-bottom:16px}.sensitive-mask__content p span[data-v-755bef87]{display:block;padding:0 4px}body.theme-dark .sensitive-mask__content p[data-v-755bef87]{color:gray}.sensitive-mask__content__link[data-v-755bef87]{cursor:pointer;width:auto;border:none;color:#0277ff;-webkit-box-shadow:none !important;box-shadow:none !important;background:transparent !important;-webkit-tap-highlight-color:transparent;outline:none}.sensitive-mask__content__btn[data-v-755bef87]{cursor:pointer;display:inline-block;padding:8px 16px;font-weight:700;background:rgba(0,0,0,.06);-webkit-border-radius:4px;border-radius:4px;border:none;color:#000;width:auto}body.theme-dark .sensitive-mask__content__btn[data-v-755bef87]{color:#fff;background:rgba(255,255,255,.12)}body.theme-dark .sensitive-mask__content[data-v-755bef87]{color:#fff}",""]),e.exports=s},6805:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,".blocked-profile[data-v-3b7d62f9]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;text-align:center;margin-top:60px}.blocked-profile_heading[data-v-3b7d62f9]{font-style:normal;font-weight:bold;font-size:20px;line-height:24px;color:#999}.blocked-profile_caption[data-v-3b7d62f9]{font-style:normal;font-weight:normal;font-size:14px;line-height:20px;color:#999;margin-top:8px}",""]),e.exports=s},2821:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,".billboard[data-v-eefdc8e4]{width:970px;background-color:#f4f4f480;margin-top:-16px;margin-bottom:16px;-webkit-transform:scaleY(1);-ms-transform:scaleY(1);transform:scaleY(1);-webkit-transition:opacity .3s ease;-o-transition:opacity .3s ease;transition:opacity .3s ease;-webkit-transform-origin:top;-ms-transform-origin:top;transform-origin:top}body.theme-dark .billboard[data-v-eefdc8e4]{background-color:rgba(255,255,255,.1)}.billboard.sticky[data-v-eefdc8e4]{position:-webkit-sticky;position:sticky;z-index:13;top:var(--6ffc4e5d);opacity:var(--5ad4c113)}.billboard div[data-v-eefdc8e4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:970px;height:250px;-webkit-transition:height .3s ease-out;-o-transition:height .3s ease-out;transition:height .3s ease-out}",""]),e.exports=s},797:(e,t,s)=>{var r=s(3645),o=s(1667),s=s(7070),r=r(function(e){return e[1]}),s=o(s);r.push([e.id,"section ul[data-v-af6d103e]{list-style-type:none;overflow:hidden}section li[data-v-af6d103e]{float:left;margin-right:10px}section li[data-v-af6d103e]:last-child{margin-right:0}section a[data-v-af6d103e]{display:block;width:143px;height:42px;overflow:hidden;text-indent:-999px;-webkit-border-radius:2px;border-radius:2px;border:1px solid #000;background:#000 url("+s+") no-repeat}body.theme-dark section a[data-v-af6d103e]{border:1px solid rgba(255,255,255,.2)}section a.app-store[data-v-af6d103e]{background-position:-1px -1px}section a.google-play[data-v-af6d103e]{background-position:-155px -1px}",""]),e.exports=r},3471:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,".post-view.featured-video iframe,.post-view.featured-video .vi-stories-player-container{-webkit-border-radius:4px;border-radius:4px}",""]),e.exports=s},1245:(e,t,s)=>{var r=s(3645),o=s(1667),s=s(409),r=r(function(e){return e[1]}),s=o(s);r.push([e.id,".drawer[data-v-5e315454]{margin-top:0;width:240px;height:-webkit-calc(100% - 48px);height:calc(100% - 48px);position:fixed;overflow:hidden;-ms-scroll-chaining:none;overscroll-behavior:contain;background-color:#fff}body.theme-dark .drawer[data-v-5e315454]{background-color:#000;border-color:rgba(255,255,255,.2)}.drawer.overlay[data-v-5e315454]{left:0;border-right:1px solid rgba(0,0,0,.1);height:100%;z-index:14}.drawer .drawer-header[data-v-5e315454]{background-color:#fff;width:240px;z-index:14;position:fixed;border-bottom:1px solid rgba(0,0,0,.1)}body.theme-dark .drawer .drawer-header[data-v-5e315454]{background-color:#000;border-color:rgba(255,255,255,.2)}.drawer .drawer-container[data-v-5e315454]{width:100%;height:100%;overflow-y:scroll;will-change:transform;padding-right:16px}.drawer .drawer-container[data-v-5e315454]::-webkit-scrollbar{width:0;opacity:0}.drawer .drawer-container.overlay[data-v-5e315454]{margin-top:48px;height:-webkit-calc(100% - 48px);height:calc(100% - 48px)}.drawer-overlay[data-v-5e315454]{background-color:rgba(0,0,0,.4);z-index:13;width:100%;height:100%;position:fixed}[data-v-5e315454] section{margin:4px 0 8px}[data-v-5e315454] section header{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative}[data-v-5e315454] section header h3{line-height:24px;height:20px;padding:6px 16px;color:#999;font-size:14px;font-weight:700;width:100%}[data-v-5e315454] section header .button-clear{font-weight:700;font-size:14px;padding:6px 16px;color:#999}[data-v-5e315454] .label{color:#000;font-size:14px;height:32px;line-height:20px;padding:6px 48px;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;position:relative;-webkit-border-radius:2px;border-radius:2px;-webkit-transition:background-color .15s,padding-right .15s;-o-transition:background-color .15s,padding-right .15s;transition:background-color .15s,padding-right .15s;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}[data-v-5e315454] .label.short{padding:6px 80px 6px 48px}[data-v-5e315454] li{position:relative}[data-v-5e315454] li.selected .label{background-color:rgba(0,0,0,.06)}[data-v-5e315454] li:hover .label{background-color:rgba(0,0,0,.1)}[data-v-5e315454] li:active .label{background-color:rgba(0,0,0,.2)}[data-v-5e315454] li:active .button .icon{opacity:.4}[data-v-5e315454] .icon{position:absolute;width:24px;height:24px;background-size:144px 48px;background-image:url("+s+");top:50%;margin-top:-12px}[data-v-5e315454] .button{position:absolute;width:36px;height:32px;display:block;right:0;top:0;-webkit-transition:opacity .15s;-o-transition:opacity .15s;transition:opacity .15s;margin-right:12px}[data-v-5e315454] .button .icon{opacity:.1;left:6px}[data-v-5e315454] .button .icon:hover{opacity:.2}",""]),e.exports=r},9371:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,".drawer-footer[data-v-342ea4ad]{padding:0 16px}.drawer-footer .static[data-v-342ea4ad]{font-size:12px;line-height:18px;color:#999;margin-bottom:8px}.drawer-footer a[data-v-342ea4ad]{color:#999;margin-right:4px;display:inline-block}.drawer-footer a[data-v-342ea4ad]:hover{color:#666}",""]),e.exports=s},6616:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,"body.theme-dark .label[data-v-1d880238]{color:#fff}.icon[data-v-1d880238]{left:0;margin-left:16px}body.theme-dark .icon[data-v-1d880238]{-webkit-filter:invert(100%);filter:invert(100%)}.icon.hot[data-v-1d880238]{background-position:0 0}.icon.trending[data-v-1d880238]{background-position:-24px -24px}.icon.fresh[data-v-1d880238]{background-position:-24px 0}body.theme-dark li.selected .label[data-v-1d880238]{background-color:rgba(255,255,255,.12)}body.theme-dark li:hover .label[data-v-1d880238]{background-color:rgba(255,255,255,.2)}body.theme-dark li:active .label[data-v-1d880238]{background-color:rgba(255,255,255,.3)}.thumbnail[data-v-1d880238]{position:absolute;width:24px;height:24px;background-color:rgba(0,0,0,.05);background-image:none;-webkit-border-radius:2px;border-radius:2px;overflow:hidden;left:0;top:50%;margin-top:-12px;margin-left:16px}.thumbnail img[data-v-1d880238]{display:block;width:100%;height:100%}",""]),e.exports=s},8436:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,'.button .icon.more[data-v-4440d510]{background-position:-96px 0}body.theme-dark .button .icon.more[data-v-4440d510]{-webkit-filter:invert(100%);filter:invert(100%);opacity:.3}body.theme-dark .button .icon.more[data-v-4440d510]:hover{opacity:.4}.button .icon.more.active[data-v-4440d510]{opacity:1}.menu[data-v-4440d510]{position:absolute;left:50%;margin-left:-60px;z-index:13;min-width:160px}ul[data-v-4440d510-s]{list-style-type:none;overflow:hidden;padding:4px 0;background-color:#fff;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.1);box-shadow:0 5px 10px rgba(0,0,0,.1);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:8px;border-radius:8px;border:1px solid rgba(0,0,0,.1)}body.theme-dark ul[data-v-4440d510-s]{background-color:#333;color:#fff}ul[data-v-4440d510-s] .selected a::after{background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjEgKDU3NTAxKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jaGVjazwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJjaGVjayIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBvbHlnb24gaWQ9IkNvbWJpbmVkLVNoYXBlIiBmaWxsPSIjOTk5OTk5IiBmaWxsLXJ1bGU9Im5vbnplcm8iIHBvaW50cz0iNi41MzU1MzM5MSA5LjA3MTA2NzgxIDExLjQ4NTI4MTQgNC4xMjEzMjAzNCAxMi44OTk0OTQ5IDUuNTM1NTMzOTEgNi41MzU1MzM5MSAxMS44OTk0OTQ5IDMgOC4zNjM5NjEwMyA0LjQxNDIxMzU2IDYuOTQ5NzQ3NDciPjwvcG9seWdvbj4KICAgIDwvZz4KPC9zdmc+") no-repeat;content:"";position:absolute;display:block;width:16px;height:16px;right:16px;top:50%;margin-top:-8px}ul[data-v-4440d510-s] a{display:block;color:#000;line-height:34px;padding:0 16px;font-size:14px;position:relative}body.theme-dark ul[data-v-4440d510-s] a{color:#fff}ul[data-v-4440d510-s] a:hover{background-color:rgba(0,0,0,.03);color:#000}body.theme-dark ul[data-v-4440d510-s] a:hover{background-color:rgba(255,255,255,.2)}ul[data-v-4440d510-s] a:active{background-color:rgba(0,0,0,.075)}',""]),e.exports=s},9097:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,"li .button .star[data-v-ce2f980a]{background-position:-48px 0}body.theme-dark li .button .star[data-v-ce2f980a]{-webkit-filter:invert(100%);filter:invert(100%)}li .button.remove[data-v-ce2f980a]{right:32px;opacity:0}li .button.remove .close[data-v-ce2f980a]{opacity:1;background-position:-120px 0;background-repeat:no-repeat}body.theme-dark li .button.remove .close[data-v-ce2f980a]{-webkit-filter:invert(100%);filter:invert(100%)}li .button.remove .close[data-v-ce2f980a]:hover{background-position-y:-24px}li .button.favorite .star[data-v-ce2f980a]{background-position-y:-24px;opacity:1}body.theme-dark li .button.favorite .star[data-v-ce2f980a]{-webkit-filter:none;filter:none}li .button.favorite .star[data-v-ce2f980a]:hover{opacity:1}li:hover .button.remove[data-v-ce2f980a]{opacity:1}",""]),e.exports=s},3647:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,"[data-v-385798c6] section{border-top:1px solid rgba(0,0,0,.1);margin-top:14px;padding-top:24px;margin-bottom:8px}body.theme-dark[data-v-385798c6] section{border-color:rgba(255,255,255,.2)}[data-v-385798c6] section h4{text-align:center;margin-bottom:8px;font-size:16px;line-height:20px}[data-v-385798c6] section ul{text-align:center}[data-v-385798c6] section ul li{float:none;display:inline-block}",""]),e.exports=s},1490:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,".post-more-divider[data-v-845e83c0]{min-height:48px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid rgba(0,0,0,.1);margin-bottom:12px}.post-more-divider h4[data-v-845e83c0]{font-size:16px;font-style:normal;font-weight:700;line-height:19px;letter-spacing:0;text-align:left}body.theme-dark .post-more-divider[data-v-845e83c0]{border-bottom:1px solid rgba(255,255,255,.2)}",""]),e.exports=s},1610:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,".post-sensitive-mask[data-v-1c71fefa]{height:306px;background:#f4f4f4;color:#fff}.post-sensitive-mask__body[data-v-1c71fefa]{top:0;left:0;width:100%;height:100%;position:absolute;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;overflow:auto}body.theme-dark .post-sensitive-mask[data-v-1c71fefa]{background:#333 !important}",""]),e.exports=s},8338:(e,t,s)=>{s=s(3645)(function(e){return e[1]});s.push([e.id,".sticky-navbar[data-v-28b16781]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding-bottom:16px;background-color:#fff;z-index:2;width:inherit}body.theme-dark .sticky-navbar[data-v-28b16781]{background-color:#000;border-color:rgba(255,255,255,.2)}.sticky-navbar.sticky[data-v-28b16781]{position:-webkit-sticky;position:sticky;margin-top:-16px;border-bottom:1px solid rgba(0,0,0,.1)}.sticky-navbar a[data-v-28b16781]{display:block;height:36px;line-height:36px;margin-right:8px;color:#000;text-decoration:none;padding:0 16px;-webkit-border-radius:20px;border-radius:20px;text-align:center;font-weight:700;border:1px solid rgba(0,0,0,.1)}body.theme-dark .sticky-navbar a[data-v-28b16781]{color:#fff;border-color:rgba(255,255,255,.2)}.sticky-navbar a[data-v-28b16781]:hover{background-color:rgba(0,0,0,.06)}body.theme-dark .sticky-navbar a[data-v-28b16781]:hover{background-color:rgba(255,255,255,.12)}.sticky-navbar a[data-v-28b16781]:active{background-color:rgba(0,0,0,.1)}body.theme-dark .sticky-navbar a[data-v-28b16781]:active{background-color:rgba(255,255,255,.2)}.sticky-navbar a.selected[data-v-28b16781]{background-color:#000;color:#fff}body.theme-dark .sticky-navbar a.selected[data-v-28b16781]{color:#000;background-color:#fff}.sticky-navbar a.selected[data-v-28b16781]:hover{background-color:rgba(0,0,0,.8)}body.theme-dark .sticky-navbar a.selected[data-v-28b16781]:hover{background-color:rgba(255,255,255,.8)}",""]),e.exports=s},7070:(e,t,s)=>{e.exports=s.p+"img/appstore-icon-alt-145.png"},409:(e,t,s)=>{e.exports=s.p+"img/sprite-nav.png"},9257:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(6252);const a={ref:"loadMore",style:{height:"1px"}};var r=s(2289),t=s(3279),o=s.n(t);const i={emits:["loadMore"],props:{threshold:{type:Number,default:500},root:{type:HTMLElement,default:null},overscroll:{type:Boolean,default:!1}},data:()=>({observer:null}),methods:{handler(e){(e[0]||{}).visibilityStatus===r.default.VISIBILITY_STATUS.enter&&this.$emit("loadMore")},reset(){this.observer.reset(),this.observer.observe(this.$refs.loadMore),this.overscroll&&this.overscrollLoadMore()},_overscrollLoadMore(){this.$refs.loadMore&&(window.scrollY<this.$refs.loadMore.offsetTop||this.$emit("loadMore"))}},created(){this.observer=new r.default.VisibilityObserver(this.handler,0,this.threshold,0,this.root),this.overscrollLoadMore=o()(this._overscrollLoadMore,500)},mounted(){this.observer.observe(this.$refs.loadMore)},beforeUnmount(){this.observer.destroy()},render:function(e,t,s,r,o,i){return(0,n.wg)(),(0,n.j4)("div",a,null,512)}}},9029:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s(6252),r=s(8062);const o={data:()=>({html:""}),watch:{async content(e,t){e!==t&&await this.render()}},props:["content"],methods:{async render(){this.html="",this.content.length&&(this.html=await r.Z.render(this.content))}},async created(){await this.render()},render:function(e,t,s,r,o,i){return(0,n.wg)(),(0,n.j4)("div",{innerHTML:o.html},null,8,["innerHTML"])}}},4335:(e,t,s)=>{"use strict";s.d(t,{Z:()=>T});var a=s(6252),c=s(9963);const l=(0,a.HX)("data-v-e2895a56"),r=l((e,t,s,r,o,i)=>{var n=(0,a.up)("IconBase");return(0,a.wg)(),(0,a.j4)("button",{class:["action-button",`action-button-${s.variant}`],onClick:t[1]||(t[1]=(0,c.iM)((...e)=>i.action&&i.action(...e),["stop"]))},[(0,a.Wm)(n,{height:i.height,class:`icon-${s.variant}`},{default:l(()=>[((0,a.wg)(),(0,a.j4)((0,a.LL)(i.icon)))]),_:1},8,["height","class"])],2)});var o=s(4949),i=s(2204),n=s(7153);const d={d:"M10.59 1.52588e-05L12 1.41002L6 7.41002L0 1.41002L1.41 1.52588e-05L6 4.58002L10.59 1.52588e-05Z",fill:"#999999"},u={render:function(e,t){return(0,a.wg)(),(0,a.j4)("path",d)}},p={d:"M13.65 2.35C12.2 0.9 10.21 0 8.00001 0C3.58001 0 0.0100098 3.58 0.0100098 8C0.0100098 12.42 3.58001 16 8.00001 16C11.73 16 14.84 13.45 15.73 10H13.65C12.83 12.33 10.61 14 8.00001 14C4.69001 14 2.00001 11.31 2.00001 8C2.00001 4.69 4.69001 2 8.00001 2C9.66001 2 11.14 2.69 12.22 3.78L9.00001 7H16V0L13.65 2.35Z",fill:"#999999"},h={render:function(e,t){return(0,a.wg)(),(0,a.j4)("path",p)}};var m=s(3257),g=s(1836),t=s(2428),f=s(5381),y=s(5652).default;function O(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?O(Object(s),!0).forEach(function(e){(0,o.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const{mapState:v,mapActions:_}=(0,i._p)("boards"),S={name:"BoardsViewModeAction",props:{variant:{type:String,required:!0,validate:e=>-1!==[g.$6,g.Z2].indexOf(e)}},components:{IconBase:n.Z,IconCollapse:u,IconRefresh:h},computed:b(b({},v({boardState:e=>e.boardState,boardID:e=>e.focusedBoardID})),{},{icon(){return this.variant===g.$6?"IconCollapse":"IconRefresh"},height:()=>16}),methods:b(b({},_({setBoardState:t.M_,resetConversation:t.aT})),{},{async action(){return this.variant===g.$6?(y.track(m.R.BOARD,m.e.TAP_CLOSE),await this.setBoardState(f.Yn)):this.variant===g.Z2?(y.track(m.R.BOARD,m.e.TAP_REFRESH),await this.resetConversation(this.boardID)):void 0}})};s(9469),S.render=r,S.__scopeId="data-v-e2895a56";const T=S},7153:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(6252);const r={name:"IconBase",props:{width:{type:[Number,String],default:16},height:{type:[Number,String],default:16},iconColor:{type:String,default:"currentColor"},disabledColor:{type:String,default:""}},render:function(e,t,s,r,o,i){return(0,n.wg)(),(0,n.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",width:s.width,height:s.height,viewBox:`0 0 ${s.width} ${s.height}`,role:"presentation"},[(0,n.Wm)("g",{fill:s.disabledColor||s.iconColor},[(0,n.WI)(e.$slots,"default")],8,["fill"])],8,["width","height","viewBox"])}}},1748:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s(6252);const r=(0,n.HX)("data-v-62717f6e");(0,n.dD)("data-v-62717f6e");const a=(0,n.Wm)("circle",{cx:"50",cy:"50",r:"45"},null,-1);(0,n.Cn)();const o=r((e,t,s,r,o,i)=>((0,n.wg)(),(0,n.j4)("svg",{viewBox:"0 0 100 100",width:s.radius,height:s.radius,xmlns:"http://www.w3.org/2000/svg"},[a],8,["width","height"]))),i={name:"IconSpinnerAnimated",props:{radius:{required:!0,type:Number}}};s(5366),i.render=o,i.__scopeId="data-v-62717f6e";const c=i},6844:(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var n=s(6252),a=s(9963);const r=(0,n.HX)("data-v-755bef87");(0,n.dD)("data-v-755bef87");const c={class:"sensitive-mask"},l={class:"sensitive-mask__content"},d=(0,n.Wm)("h4",null,"Sensitive content",-1),u=(0,n.Wm)("span",null," The following media includes potentially sensitive content. ",-1);(0,n.Cn)();var o=r((e,t,s,r,o,i)=>((0,n.wg)(),(0,n.j4)("div",c,[(0,n.Wm)("div",l,[d,(0,n.Wm)("p",null,[u,(0,n.Wm)("span",{class:"sensitive-mask__content__link",onClick:t[1]||(t[1]=(0,a.iM)((...e)=>i.onSettingsClick&&i.onSettingsClick(...e),["stop"]))}," Change settings ")]),(0,n.Wm)("span",{class:"sensitive-mask__content__btn",onClick:t[2]||(t[2]=(0,a.iM)((...e)=>i.onUnmask&&i.onUnmask(...e),["stop"]))},"View")])]))),i=s(4949),p=s(2204),t=s(24);function h(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}function m(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?h(Object(s),!0).forEach(function(e){(0,i.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}const g=(0,p._p)("session")["mapActions"],f={props:["maskId"],methods:m(m({},g({unmaskSensitive:t.R5.UNMASK_SENSITIVE})),{},{onUnmask(){this.unmaskSensitive(this.maskId),this.$emit("onUnmask")},onSettingsClick(){this.$emit("onSettingsClick")}})};s(4140),f.render=o,f.__scopeId="data-v-755bef87";const y=f},757:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s(6252);const r=(0,n.HX)("data-v-af6d103e");(0,n.dD)("data-v-af6d103e");const a=(0,n.Wm)("h4",null,"Get the app",-1);(0,n.Cn)();const o=r((t,e,s,r,o,i)=>((0,n.wg)(),(0,n.j4)("section",null,[a,(0,n.Wm)("ul",null,[(0,n.Wm)("li",null,[(0,n.Wm)("a",{class:"app-store",href:"/ios",target:"_blank",onClick:e[1]||(e[1]=e=>t.track(s.trackCategory,"DownloadApple"))}," Download on App Store ")]),(0,n.Wm)("li",null,[(0,n.Wm)("a",{class:"google-play",href:"/android",target:"_blank",onClick:e[2]||(e[2]=e=>t.track(s.trackCategory,"DownloadGoogle"))}," Get it on Google Play ")])])]))),i={mixins:[s(8209).Z],props:["trackCategory"]};s(2790),i.render=o,i.__scopeId="data-v-af6d103e";const c=i},1877:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s(6252);const a={key:0},c={class:"block-ad"};var r=s(4949),t=s(2204),o=s(5670).default;function i(t,e){var s,r=Object.keys(t);return Object.getOwnPropertySymbols&&(s=Object.getOwnPropertySymbols(t),e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)),r}const l=(0,t._p)("app")["mapGetters"],d={emits:["observeAd","unobserveAd"],props:{adContainers:Array,reserveHeight:{type:Boolean,default:!1}},data:()=>({sizes:{}}),watch:{$route(){this.observeAds()},showAds(){this.observeAds()}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?i(Object(s),!0).forEach(function(e){(0,r.Z)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({},l({showAds:"SHOW_ADS"})),methods:{getAdRef(e){return this.$refs[e]||null},observeAds(){this.adContainers.forEach(e=>{const{adContainerId:t,adPlacement:s}=e,r=this.getAdRef(t);r&&this.$emit("observeAd",r,e,e=>{o.log("ListAds::renderCallback",e.size),this.sizes[t]=e.size}),this.sizes[t]=s.size})},destroyAds(){this.adContainers.forEach(e=>{var t=this.getAdRef(e.adContainerId);t&&this.$emit("unobserveAd",t,e)})},getStyle(e){if(!this.reserveHeight)return null;var[,e]=this.sizes[e]||[0,0];return e?{minHeight:`${e}px`}:void 0}},mounted(){this.observeAds()},beforeUnmount(){this.destroyAds()},render:function(e,t,s,r,o,i){return e.showAds?((0,n.wg)(),(0,n.j4)("div",a,[((0,n.wg)(!0),(0,n.j4)(n.HY,null,(0,n.Ko)(s.adContainers,e=>((0,n.wg)(),(0,n.j4)("section",c,[(0,n.Wm)("div",{id:e.adContainerId,ref:e.adContainerId,style:i.getStyle(e.adContainerId)},null,12,["id"])]))),256))])):(0,n.ry)("",!0)}}},2169:(e,t,s)=>{var r=s(9746);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("c5024bee",r,!0,{})},3092:(e,t,s)=>{var r=s(1869);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("694ca572",r,!0,{})},2172:(e,t,s)=>{var r=s(632);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("c000d7c4",r,!0,{})},9469:(e,t,s)=>{var r=s(9908);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("662ed2b6",r,!0,{})},4722:(e,t,s)=>{var r=s(5069);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("382e4c70",r,!0,{})},9476:(e,t,s)=>{var r=s(1781);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("136aca96",r,!0,{})},5366:(e,t,s)=>{var r=s(1837);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("a93c51b6",r,!0,{})},4140:(e,t,s)=>{var r=s(1439);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("6c9b1196",r,!0,{})},5929:(e,t,s)=>{var r=s(6805);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("9b18a898",r,!0,{})},43:(e,t,s)=>{var r=s(2821);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("576e2258",r,!0,{})},2790:(e,t,s)=>{var r=s(797);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("02a478f4",r,!0,{})},7700:(e,t,s)=>{var r=s(3471);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("950bbb36",r,!0,{})},3491:(e,t,s)=>{var r=s(1245);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("66e64b81",r,!0,{})},5842:(e,t,s)=>{var r=s(9371);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("e313288e",r,!0,{})},3152:(e,t,s)=>{var r=s(6616);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("6ba93b57",r,!0,{})},143:(e,t,s)=>{var r=s(8436);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("474eb1ed",r,!0,{})},7732:(e,t,s)=>{var r=s(9097);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("5b23f267",r,!0,{})},568:(e,t,s)=>{var r=s(3647);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("506a76c3",r,!0,{})},1742:(e,t,s)=>{var r=s(1490);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("ad06113c",r,!0,{})},9501:(e,t,s)=>{var r=s(1610);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("9a4271d4",r,!0,{})},5829:(e,t,s)=>{var r=s(8338);(r="string"==typeof r?[[e.id,r,""]]:r).locals&&(e.exports=r.locals),(0,s(5346).Z)("05d5b386",r,!0,{})}},t=>{"use strict";var e=e=>t(t.s=e);t.O(void 0,[999],()=>(e(3063),e(2025),e(7586),e(9599)))}]);

!function(){var u,t,l,c,f,o,a,s,h,m,r,d,p,_,I={},W={},e={};function g(t){var e,i=[];for(e in t)if(!(e in["easing","offset","composite"]))for(var n,r=t[e],o=(r=!Array.isArray(r)?[r]:r).length,a=0;a<o;a++)(n={}).offset="offset"in t?t.offset:1==o?1:a/(o-1),"easing"in t&&(n.easing=t.easing),"composite"in t&&(n.composite=t.composite),n[e]=r[a],i.push(n);return i.sort(function(t,e){return t.offset-e.offset}),i}function i(t){return t._timing.delay+t.activeDuration+t._timing.endDelay}function n(t,e,i){this._id=i,this._parent=null,this.children=t||[],this._reparent(this.children),e=p.numericTimingToObject(e),this._timingInput=p.cloneTimingInput(e),this._timing=p.normalizeTimingInput(e,!0),this.timing=p.makeTiming(e,!0,this),"auto"===(this.timing._effect=this)._timing.duration&&(this._timing.duration=this.activeDuration)}!function(r){function o(){this._endDelay=this._delay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=h}function i(){return r.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function n(e,t,i){var n=new o;return t&&(n.fill="both",n.duration="auto"),"number"!=typeof e||isNaN(e)?void 0!==e&&Object.getOwnPropertyNames(e).forEach(function(t){"auto"!=e[t]&&("number"!=typeof n[t]&&"duration"!=t||"number"==typeof e[t]&&!isNaN(e[t]))&&("fill"==t&&-1==c.indexOf(e[t])||"direction"==t&&-1==f.indexOf(e[t])||"playbackRate"==t&&1!==e[t]&&r.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead.")||(n[t]=e[t]))}):n.duration=e,n}function a(o,a,s,u){return o<0||1<o||s<0||1<s?h:function(t){if(t<=0){var e=0;return 0<o?e=a/o:!a&&0<s&&(e=u/s),e*t}if(1<=t)return e=0,s<1?e=(u-1)/(s-1):1==s&&o<1&&(e=(a-1)/(o-1)),1+e*(t-1);for(var e=0,i=1;e<i;){var n=(e+i)/2,r=3*o*(1-n)*(1-n)*n+3*s*(1-n)*n*n+n*n*n;if(Math.abs(t-r)<1e-5)break;r<t?e=n:i=n}return 3*a*(1-n)*(1-n)*n+3*u*(1-n)*n*n+n*n*n}}function s(i,n){return function(t){if(1<=t)return 1;var e=1/i;return(t+=n*e)-t%e}}function e(t){(g=g||document.createElement("div").style).animationTimingFunction="",g.animationTimingFunction=t;var e=g.animationTimingFunction;if(""==e&&i())throw new TypeError(t+" is not a valid value for easing");return e}function u(t){if("linear"==t)return h;var e=y.exec(t);return e?a.apply(this,e.slice(1).map(Number)):(e=v.exec(t))?s(Number(e[1]),{start:m,middle:d,end:p}[e[2]]):(t=_[t])?t:h}function l(t,e,i){if(null==e)return 0;var n=i.delay+t+i.endDelay;return e<Math.min(i.delay,n)?1:e>=Math.min(i.delay+t,n)?2:3}var c=["backwards","forwards","both","none"],f=["reverse","alternate","alternate-reverse"],h=function(t){return t};o.prototype={_setMember:function(t,e){this["_"+t]=e,this._effect&&(this._effect._timingInput[t]=e,this._effect._timing=r.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=r.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(t){this._setMember("delay",t)},get delay(){return this._delay},set endDelay(t){this._setMember("endDelay",t)},get endDelay(){return this._endDelay},set fill(t){this._setMember("fill",t)},get fill(){return this._fill},set iterationStart(t){if((isNaN(t)||t<0)&&i())throw new TypeError("iterationStart must be a non-negative number, received: "+t);this._setMember("iterationStart",t)},get iterationStart(){return this._iterationStart},set duration(t){if("auto"!=t&&(isNaN(t)||t<0)&&i())throw new TypeError("duration must be non-negative or auto, received: "+t);this._setMember("duration",t)},get duration(){return this._duration},set direction(t){this._setMember("direction",t)},get direction(){return this._direction},set easing(t){this._easingFunction=u(e(t)),this._setMember("easing",t)},get easing(){return this._easing},set iterations(t){if((isNaN(t)||t<0)&&i())throw new TypeError("iterations must be non-negative, received: "+t);this._setMember("iterations",t)},get iterations(){return this._iterations}};var m=1,d=.5,p=0,_={ease:a(.25,.1,.25,1),"ease-in":a(.42,0,1,1),"ease-out":a(0,0,.58,1),"ease-in-out":a(.42,0,.58,1),"step-start":s(1,m),"step-middle":s(1,d),"step-end":s(1,p)},g=null,y=/cubic-bezier\(\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*\)/,v=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;r.cloneTimingInput=function(t){if("number"==typeof t)return t;var e,i={};for(e in t)i[e]=t[e];return i},r.makeTiming=n,r.numericTimingToObject=function(t){return t="number"==typeof t?isNaN(t)?{duration:0}:{duration:t}:t},r.normalizeTimingInput=function(t,e){return n(t=r.numericTimingToObject(t),e)},r.calculateActiveDuration=function(t){var e=Math,i=e.abs,n=0===t.duration||0===t.iterations?0:t.duration*t.iterations;return i.call(e,n/t.playbackRate)},r.calculateIterationProgress=function(t,e,i){var n=l(t,e,i);t:{var r=i.fill;switch(n){case 1:t="backwards"==r||"both"==r?0:null;break t;case 3:t=e-i.delay;break t;case 2:t="forwards"==r||"both"==r?t:null;break t;case 0:t=null;break t}t=void 0}return null===t?null:(e=i.duration,r=i.iterationStart,0===e?1!==n&&(r+=i.iterations):r+=t/e,t=r=0===(r=1/0===(e=r)?i.iterationStart%1:e%1)&&2===n&&0!==i.iterations&&(0!==t||0===i.duration)?1:r,r=2===n&&1/0===i.iterations?1/0:1===t?Math.floor(e)-1:Math.floor(e),e=n=i.direction,"normal"!==n&&"reverse"!==n&&("alternate-reverse"===n&&(r+=1),e=1/0!==r&&0!=r%2?"reverse":"normal"),i._easingFunction("normal"===e?t:1-t))},r.calculatePhase=l,r.normalizeEasing=e,r.parseEasingFunction=u}(I),u=I,l={background:"backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundAttachment backgroundOrigin backgroundClip backgroundColor".split(" "),border:"borderTopColor borderTopStyle borderTopWidth borderRightColor borderRightStyle borderRightWidth borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth".split(" "),borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:"fontFamily fontSize fontStyle fontVariant fontWeight lineHeight".split(" "),margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},c=document.createElementNS("http://www.w3.org/1999/xhtml","div"),f={borderBottomWidth:t={thin:"1px",medium:"3px",thick:"5px"},borderLeftWidth:t,borderRightWidth:t,borderTopWidth:t,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:t,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}},u.convertToArrayForm=g,u.normalizeKeyframes=function(t){if(null==t)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&t[Symbol.iterator]&&(t=Array.from(t));var a=(t=!Array.isArray(t)?g(t):t).map(function(t){var e,i={};for(e in t){var n=t[e];if("offset"==e){if(null!=n){if(n=Number(n),!isFinite(n))throw new TypeError("Keyframe offsets must be numbers.");if(n<0||1<n)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==e){if("add"==n||"accumulate"==n)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=n)throw new TypeError("Invalid composite mode "+n+".")}else n="easing"==e?u.normalizeEasing(n):""+n;var r=void 0,o=e,a=n,n=i,s=o;if("display"!==s&&0!==s.lastIndexOf("animation",0)&&0!==s.lastIndexOf("transition",0))if(s=l[o])for(r in c.style[o]=a,s)o=s[r],a=c.style[o],n[o]=o in f&&f[o][a]||a;else n[o]=o in f&&f[o][a]||a}return null==i.offset&&(i.offset=null),null==i.easing&&(i.easing="linear"),i});t=!0;for(var e=-1/0,i=0;i<a.length;i++){var n=a[i].offset;if(null!=n){if(n<e)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");e=n}else t=!1}return a=a.filter(function(t){return 0<=t.offset&&t.offset<=1}),t||function(){var t=a.length;null==a[t-1].offset&&(a[t-1].offset=1),1<t&&null==a[0].offset&&(a[0].offset=0);for(var e=0,i=a[0].offset,n=1;n<t;n++){var r=a[n].offset;if(null!=r){for(var o=1;o<n-e;o++)a[e+o].offset=i+(r-i)*o/(n-e);e=n,i=r}}}(),a},a={},(o=I).isDeprecated=function(t,e,i,n){n=n?"are":"is";var r=new Date;return(e=new Date(e)).setMonth(e.getMonth()+3),!(r<e)||(t in a||console.warn("Web Animations: "+t+" "+n+" deprecated and will stop working on "+e.toDateString()+". "+i),!(a[t]=!0))},o.deprecated=function(t,e,i,n){var r=n?"are":"is";if(o.isDeprecated(t,e,i,n))throw Error(t+" "+r+" no longer supported. "+i)},function(){if(document.documentElement.animate){var e=document.documentElement.animate([],0),i=!0;if(e&&(i=!1,"play currentTime pause reverse playbackRate cancel finish startTime playState".split(" ").forEach(function(t){void 0===e[t]&&(i=!0)})),!i)return}var f,h,s,u,n,r,o,c,a,g,m,d,y,t,l,p;function _(e){function t(t){return s.calculateIterationProgress(i,t,e)}var i=s.calculateActiveDuration(e);return t._totalDuration=e.delay+i+e.endDelay,t}function v(t,e){var i=t.exec(e);if(i)return[i=t.ignoreCase?i[0].toLowerCase():i[0],e.substr(i.length)]}function b(t,e){if(t=t(e=e.replace(/^\s*/,"")))return[t[0],t[1].replace(/^\s*/,"")]}function T(e,t,i,n,r){for(var o=[],a=[],s=[],u=function(t,e){for(var i=t,n=e;i&&n;)n<i?i%=n:n%=i;return t*e/(i+n)}(n.length,r.length),l=0;l<u;l++){var c=t(n[l%n.length],r[l%r.length]);if(!c)return;o.push(c[0]),a.push(c[1]),s.push(c[2])}return[o,a,function(t){return t=t.map(function(t,e){return s[e](t)}).join(i),e?e(t):t}]}function w(t){var i={inset:!1,lengths:[],color:null};if((t=c.consumeRepeated(function(t){var e=c.consumeToken(/^inset/i,t);return e?(i.inset=!0,e):(e=c.consumeLengthOrPercent(t))?(i.lengths.push(e[0]),e):(e=c.consumeColor(t))?(i.color=e[0],e):void 0},/^/,t))&&t[0].length)return[i,t[1]]}function x(t){return t.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function E(t,e,i){return Math.min(e,Math.max(t,i))}function A(t){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t))return Number(t)}function P(i,n){return function(t,e){return[t,e,function(t){return x(E(i,n,t))}]}}function k(t){if(0!==(t=t.trim().split(/\s*[\s,]\s*/)).length){for(var e=[],i=0;i<t.length;i++){var n=A(t[i]);if(void 0===n)return;e.push(n)}return e}}function R(t){return a.consumeLengthOrPercent(t)||a.consumeToken(/^auto/,t)}function N(t){if((t=a.consumeList([a.ignore(a.consumeToken.bind(null,/^rect/)),a.ignore(a.consumeToken.bind(null,/^\(/)),a.consumeRepeated.bind(null,R,/^,/),a.ignore(a.consumeToken.bind(null,/^\)/))],t))&&4==t[0].length)return t[0]}function S(t){return function(e){var i=0;return t.map(function(t){return null===t?e[i++]:t})}}function C(t){return t}function D(t){if("none"==(t=t.toLowerCase().trim()))return[];for(var e,i=/\s*(\w+)\(([^)]*)\)/g,n=[],r=0;(e=i.exec(t))&&e.index==r;){var r=e.index+e[0].length,o=e[1],a=y[o];if(!a)break;if(e=e[2].split(","),(a=a[0]).length<e.length)break;for(var s=[],u=0;u<a.length;u++){var l=e[u],c=a[u];if(void 0===(l=l?{A:function(t){return"0"==t.trim()?d:g.parseAngle(t)},N:g.parseNumber,T:g.parseLengthOrPercent,L:g.parseLength}[c.toUpperCase()](l):{a:d,n:s[0],t:m}[c]))return;s.push(l)}if(n.push({t:o,d:s}),i.lastIndex==t.length)return n}}function F(t){return t.toFixed(6).replace(".000000","")}function O(e,i){var n,r;return e.decompositionPair!==i&&(e.decompositionPair=i,n=g.makeMatrixDecomposition(e)),i.decompositionPair!==e&&(i.decompositionPair=e,r=g.makeMatrixDecomposition(i)),null==n[0]||null==r[0]?[[!1],[!0],function(t){return(t?i:e)[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(t){var e=g.quat(n[0][3],r[0][3],t[5]);return g.composeMatrix(t[0],t[1],t[2],e,t[4]).map(F).join(",")}])}function L(t){return t.replace(/(x|y|z|3d)?$/,"3d")}function M(e,t){t.concat([e]).forEach(function(t){t in document.documentElement.style&&(l[e]=t),p[t]=e})}f=I,(h=W).convertEffectInput=function(t){var e=function(t){for(var e,i,n={},r=0;r<t.length;r++)for(var o in t[r])"offset"!=o&&"easing"!=o&&"composite"!=o&&(e={offset:t[r].offset,easing:t[r].easing,value:t[r][o]},n[o]=n[o]||[],n[o].push(e));for(i in n)if(t=n[i],0!=t[0].offset||1!=t[t.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"};return n}(t=f.normalizeKeyframes(t)),i=function(t){var e,i=[];for(e in t)for(var n=t[e],r=0;r<n.length-1;r++){var o=r,a=r+1,s=n[o].offset,u=n[a].offset,l=s,c=u;0==r&&(l=-1/0,0==u&&(a=o)),r==n.length-2&&(c=1/0,1==s&&(o=a)),i.push({applyFrom:l,applyTo:c,startOffset:n[o].offset,endOffset:n[a].offset,easingFunction:f.parseEasingFunction(n[o].easing),property:e,interpolation:h.propertyInterpolation(e,n[o].value,n[a].value)})}return i.sort(function(t,e){return t.startOffset-e.startOffset}),i}(e);return function(n,r){if(null!=r)i.filter(function(t){return r>=t.applyFrom&&r<t.applyTo}).forEach(function(t){var e=r-t.startOffset,i=t.endOffset-t.startOffset,e=0==i?0:t.easingFunction(e/i);h.apply(n,t.property,t.interpolation(e))});else for(var t in e)"offset"!=t&&"easing"!=t&&"composite"!=t&&h.clear(n,t)}},function(s,u){function l(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}var c={};u.addPropertiesHandler=function(t,e,i){for(var n=0;n<i.length;n++){var r=t,o=e,a=l(i[n]);c[a]=c[a]||[],c[a].push([r,o])}};var f={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};u.propertyInterpolation=function(t,e,i){var n=t;for(/-/.test(t)&&!s.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(n=l(t)),"initial"!=e&&"initial"!=i||("initial"==e&&(e=f[n]),"initial"==i&&(i=f[n])),t=e==i?[]:c[n],n=0;t&&n<t.length;n++){var r=t[n][0](e),o=t[n][0](i);if(void 0!==r&&void 0!==o&&(r=t[n][1](r,o))){var a=u.Interpolation.apply(null,r);return function(t){return 0==t?e:1==t?i:a(t)}}}return u.Interpolation(!1,!0,function(t){return t?i:e})}}(I,W),s=I,(u=W).KeyframeEffect=function(e,t,i,n){var r,o=_(s.normalizeTimingInput(i)),a=u.convertEffectInput(t);return(t=function(){a(e,r)})._update=function(t){return null!==(r=o(t))},t._clear=function(){a(e,null)},t._hasSameTarget=function(t){return e===t},t._target=e,t._totalDuration=o._totalDuration,t._id=n,t},(n=W).apply=function(t,e,i){t.style[n.propertyName(e)]=i},n.clear=function(t,e){t.style[n.propertyName(e)]=""},r=W,window.Element.prototype.animate=function(t,e){var i="";return e&&e.id&&(i=e.id),r.timeline._play(r.KeyframeEffect(this,t,e,i))},W.Interpolation=function(e,i,n){return function(t){return n(function t(e,i,n){if("number"==typeof e&&"number"==typeof i)return e*(1-n)+i*n;if("boolean"==typeof e&&"boolean"==typeof i)return n<.5?e:i;if(e.length!=i.length)throw"Mismatched interpolation arguments "+e+":"+i;for(var r=[],o=0;o<e.length;o++)r.push(t(e[o],i[o],n));return r}(e,i,t))}},function(e,i){e.sequenceNumber=0;function n(t,e,i){this.target=t,this.currentTime=e,this.timelineTime=i,this.type="finish",this.cancelable=this.bubbles=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()}i.Animation=function(t){this.id="",t&&t._id&&(this.id=t._id),this._sequenceNumber=e.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._finishedFlag=this._inTimeline=!0,this.onfinish=null,this._finishHandlers=[],this._effect=t,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},i.Animation.prototype={_ensureAlive:function(){this._inEffect=this.playbackRate<0&&0===this.currentTime?this._effect._update(-1):this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,i.timeline._animations.push(this))},_tickCurrentTime:function(t,e){t!=this._currentTime&&(this._currentTime=t,this._isFinished&&!e&&(this._currentTime=0<this._playbackRate?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(t){t=+t,isNaN(t)||(i.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-t/this._playbackRate),this._currentTimePending=!1,this._currentTime!=t&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(t,!0),i.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(t){t=+t,isNaN(t)||this._paused||this._idle||(this._startTime=t,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),i.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(t){var e;t!=this._playbackRate&&(e=this.currentTime,this._playbackRate=t,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._idle=this._finishedFlag=!1,this._ensureAlive(),i.applyDirtiedAnimation(this)),null!=e&&(this.currentTime=e))},get _isFinished(){return!this._idle&&(0<this._playbackRate&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(0<=this._playbackRate)this._currentTime=0;else{if(!(1/0>this._totalDuration))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._idle=this._finishedFlag=!1,this._ensureAlive(),i.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=0<this._playbackRate?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,i.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),i.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(t,e){"function"==typeof e&&"finish"==t&&this._finishHandlers.push(e)},removeEventListener:function(t,e){"finish"==t&&(0<=(t=this._finishHandlers.indexOf(e))&&this._finishHandlers.splice(t,1))},_fireEvents:function(t){var e,i;this._isFinished?this._finishedFlag||(e=new n(this,this._currentTime,t),i=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]),setTimeout(function(){i.forEach(function(t){t.call(e.target,e)})},0),this._finishedFlag=!0):this._finishedFlag=!1},_tick:function(t,e){this._idle||this._paused||(null==this._startTime?e&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((t-this._startTime)*this.playbackRate)),e&&(this._currentTimePending=!1,this._fireEvents(t))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var t=this._effect._target;return t._activeAnimations||(t._activeAnimations=[]),t._activeAnimations},_markTarget:function(){var t=this._targetAnimations();-1===t.indexOf(this)&&t.push(this)},_unmarkTarget:function(){var t=this._targetAnimations(),e=t.indexOf(this);-1!==e&&t.splice(e,1)}}}(I,W),function(e,u){function i(e){var t=s;s=[],e<d.currentTime&&(e=d.currentTime),d._animations.sort(n),d._animations=o(e,!0,d._animations)[0],t.forEach(function(t){t[1](e)}),r()}function n(t,e){return t._sequenceNumber-e._sequenceNumber}function t(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function r(){h.forEach(function(t){t()}),h.length=0}function o(i,n,t){f=!(m=!0),u.timeline.currentTime=i,c=!1;var r=[],o=[],a=[],s=[];return t.forEach(function(t){t._tick(i,n),t._inEffect?(o.push(t._effect),t._markTarget()):(r.push(t._effect),t._unmarkTarget()),t._needsTick&&(c=!0);var e=t._inEffect||t._needsTick;((t._inTimeline=e)?a:s).push(t)}),h.push.apply(h,r),h.push.apply(h,o),c&&requestAnimationFrame(function(){}),m=!1,[a,s]}var a=window.requestAnimationFrame,s=[],l=0;window.requestAnimationFrame=function(t){var e=l++;return 0!=s.length||a(i),s.push([e,t]),e},window.cancelAnimationFrame=function(e){s.forEach(function(t){t[0]==e&&(t[1]=function(){})})};var c=!(t.prototype={_play:function(t){return t._timing=e.normalizeTimingInput(t.timing),(t=new u.Animation(t))._idle=!1,(t._timeline=this)._animations.push(t),u.restart(),u.applyDirtiedAnimation(t),t}}),f=!1;u.restart=function(){return c||(c=!0,requestAnimationFrame(function(){}),f=!0),f},u.applyDirtiedAnimation=function(t){m||(t._markTarget(),(t=t._targetAnimations()).sort(n),o(u.timeline.currentTime,!1,t.slice())[1].forEach(function(t){-1!==(t=d._animations.indexOf(t))&&d._animations.splice(t,1)}),r())};var h=[],m=!1,d=new t;u.timeline=d}(I,W),(o=W).consumeToken=v,o.consumeTrimmed=b,o.consumeRepeated=function(t,e,i){t=b.bind(null,t);for(var n=[];;){var r=t(i);if(!r)return[n,i];if(n.push(r[0]),!(r=v(e,i=r[1]))||""==r[1])return[n,i];i=r[1]}},o.consumeParenthesised=function(t,e){for(var i=0,n=0;n<e.length&&(!/\s|,/.test(e[n])||0!=i);n++)if("("==e[n])i++;else if(")"==e[n]&&(0==--i&&n++,i<=0))break;return null==(t=t(e.substr(0,n)))?void 0:[t,e.substr(n)]},o.ignore=function(e){return function(t){return(t=e(t))&&(t[0]=void 0),t}},o.optional=function(i,n){return function(t){var e=i(t);return e||[n,t]}},o.consumeList=function(t,e){for(var i=[],n=0;n<t.length;n++){if(!(e=o.consumeTrimmed(t[n],e))||""==e[0])return;void 0!==e[0]&&i.push(e[0]),e=e[1]}if(""==e)return i},o.mergeNestedRepeated=T.bind(null,null),o.mergeWrappedNestedRepeated=T,o.mergeList=function(t,e,i){for(var n,r=[],o=[],a=[],s=0,u=0;u<i.length;u++)"function"==typeof i[u]?(n=i[u](t[s],e[s++]),r.push(n[0]),o.push(n[1]),a.push(n[2])):function(t){r.push(!1),o.push(!1),a.push(function(){return i[t]})}(u);return[r,o,function(t){for(var e="",i=0;i<t.length;i++)e+=a[i](t[i]);return e}]},c=W,t=function(t,e,i,n){function r(t){return{inset:t,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var o=[],a=[],s=0;s<i.length||s<n.length;s++){var u=i[s]||r(n[s].inset),l=n[s]||r(i[s].inset);o.push(u),a.push(l)}return c.mergeNestedRepeated(t,e,o,a)}.bind(null,function(n,t){for(;n.lengths.length<Math.max(n.lengths.length,t.lengths.length);)n.lengths.push({px:0});for(;t.lengths.length<Math.max(n.lengths.length,t.lengths.length);)t.lengths.push({px:0});if(n.inset==t.inset&&!!n.color==!!t.color){for(var r,o=[],e=[[],0],i=[[],0],a=0;a<n.lengths.length;a++){var s=c.mergeDimensions(n.lengths[a],t.lengths[a],2==a);e[0].push(s[0]),i[0].push(s[1]),o.push(s[2])}return n.color&&t.color&&(t=c.mergeColors(n.color,t.color),e[1]=t[0],i[1]=t[1],r=t[2]),[e,i,function(t){for(var e=n.inset?"inset ":" ",i=0;i<o.length;i++)e+=o[i](t[0][i])+" ";return r&&(e+=r(t[1])),e}]}},", "),c.addPropertiesHandler(function(t){if((t=c.consumeRepeated(w,/^,/,t))&&""==t[1])return t[0]},t,["box-shadow","text-shadow"]),(t=W).clamp=E,t.addPropertiesHandler(k,function(t,e){if(t.length==e.length)return[t,e,function(t){return t.map(x).join(" ")}]},["stroke-dasharray"]),t.addPropertiesHandler(A,P(0,1/0),["border-image-width","line-height"]),t.addPropertiesHandler(A,P(0,1),["opacity","shape-image-threshold"]),t.addPropertiesHandler(A,function(t,e){if(0!=t)return P(0,1/0)(t,e)},["flex-grow","flex-shrink"]),t.addPropertiesHandler(A,function(t,e){return[t,e,function(t){return Math.round(E(1,1/0,t))}]},["orphans","widows"]),t.addPropertiesHandler(A,function(t,e){return[t,e,Math.round]},["z-index"]),t.parseNumber=A,t.parseNumberList=k,t.mergeNumbers=function(t,e){return[t,e,x]},t.numberToString=x,W.addPropertiesHandler(String,function(e,i){if("visible"==e||"visible"==i)return[0,1,function(t){return t<=0?e:1<=t?i:"visible"}]},["visibility"]),function(i,t){function e(t){t=t.trim(),r.fillStyle="#000",r.fillStyle=t;var e=r.fillStyle;if(r.fillStyle="#fff",r.fillStyle=t,e==r.fillStyle)return r.fillRect(0,0,1,1),t=r.getImageData(0,0,1,1).data,r.clearRect(0,0,1,1),e=t[3]/255,[t[0]*e,t[1]*e,t[2]*e,e]}function n(t,e){return[t,e,function(t){if(t[3])for(var e=0;e<3;e++)t[e]=Math.round(Math.max(0,Math.min(255,t[e]/t[3])));return t[3]=i.numberToString(i.clamp(0,1,t[3])),"rgba("+t.join(",")+")"}]}(t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=t.height=1;var r=t.getContext("2d");i.addPropertiesHandler(e,n,"background-color border-bottom-color border-left-color border-right-color border-top-color color fill flood-color lighting-color outline-color stop-color stroke text-decoration-color".split(" ")),i.consumeColor=i.consumeParenthesised.bind(null,e),i.mergeColors=n}(W,null),function(o,t){function e(t,e){if("0"==(e=e.trim().toLowerCase())&&0<="px".search(t))return{px:0};if(/^[^(]*$|^calc/.test(e)){e=e.replace(/calc\(/g,"(");var i={};e=e.replace(t,function(t){return i[t]=null,"U"+t}),t="U("+t.source+")";for(var n=e.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+t,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),r=[/N\*(D)/g,/(N|D)[*/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],o=0;o<r.length;)r[o].test(n)?(n=n.replace(r[o],"$1"),o=0):o++;if("D"==n){for(var a in i){if(n=function(e){function n(){var t=s.exec(e);a=t?t[0]:void 0}function r(){if("("===a)return n(),t=i(),")"!==a?NaN:(n(),t);var t=Number(a);return n(),t}function o(){for(var t=r();"*"===a||"/"===a;){var e=a;n();var i=r(),t="*"===e?t*i:t/i}return t}function i(){for(var t=o();"+"===a||"-"===a;){var e=a;n();var i=o(),t="+"===e?t+i:t-i}return t}var a,s=/([\+\-\w\.]+|[\(\)\*\/])/g;return n(),i()}(e.replace(new RegExp("U"+a,"g"),"").replace(new RegExp(t,"g"),"*0")),!isFinite(n))return;i[a]=n}return i}}}function i(t,e){return n(t,e,!0)}function n(e,i,n){var t,r=[];for(t in e)r.push(t);for(t in i)r.indexOf(t)<0&&r.push(t);return e=r.map(function(t){return e[t]||0}),i=r.map(function(t){return i[t]||0}),[e,i,function(i){var t=i.map(function(t,e){return 1==i.length&&n&&(t=Math.max(t,0)),o.numberToString(t)+r[e]}).join(" + ");return 1<i.length?"calc("+t+")":t}]}var r=e.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc/g);t=e.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|%/g);var a=e.bind(null,/deg|rad|grad|turn/g);o.parseLength=r,o.parseLengthOrPercent=t,o.consumeLengthOrPercent=o.consumeParenthesised.bind(null,t),o.parseAngle=a,o.mergeDimensions=n,r=o.consumeParenthesised.bind(null,r);var r=o.consumeRepeated.bind(void 0,r,/^/),s=o.consumeRepeated.bind(void 0,r,/^,/);o.consumeSizePairList=s,r=o.mergeNestedRepeated.bind(void 0,i," "),a=o.mergeNestedRepeated.bind(void 0,r,","),o.mergeNonNegativeSizePair=r,o.addPropertiesHandler(function(t){if((t=s(t))&&""==t[1])return t[0]},a,["background-size"]),o.addPropertiesHandler(t,i,"border-bottom-width border-image-width border-left-width border-right-width border-top-width flex-basis font-size height line-height max-height max-width outline-width width".split(" ")),o.addPropertiesHandler(t,n,"border-bottom-left-radius border-bottom-right-radius border-top-left-radius border-top-right-radius bottom left letter-spacing margin-bottom margin-left margin-right margin-top min-height min-width outline-offset padding-bottom padding-left padding-right padding-top perspective right shape-margin stroke-dashoffset text-indent top vertical-align word-spacing".split(" "))}(W),t=(a=W).mergeWrappedNestedRepeated.bind(null,function(t){return"rect("+t+")"},function(e,i){return"auto"==e||"auto"==i?[!0,!1,function(t){return"auto"==(t=t?e:i)?"auto":(t=a.mergeDimensions(t,t))[2](t[0])}]:a.mergeDimensions(e,i)},", "),a.parseBox=N,a.mergeBoxes=t,a.addPropertiesHandler(N,t,["clip"]),y={matrix:["NNNNNN",[null,null,0,0,null,null,0,0,0,0,1,0,null,null,0,1],C],matrix3d:["NNNNNNNNNNNNNNNN",C],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",S([null,null,1]),C],scalex:["N",S([null,1,1]),S([null,1])],scaley:["N",S([1,null,1]),S([1,null])],scalez:["N",S([1,1,null])],scale3d:["NNN",C],skew:["Aa",null,C],skewx:["A",null,S([null,d={deg:0}])],skewy:["A",null,S([d,null])],translate:["Tt",S([null,null,m={px:0}]),C],translatex:["T",S([null,m,m]),S([null,m])],translatey:["T",S([m,null,m]),S([m,null])],translatez:["L",S([m,m,null])],translate3d:["TTL",C]},(g=W).addPropertiesHandler(D,function(t,e){var i=g.makeMatrixDecomposition&&!0,n=!1;if(!t.length||!e.length){t.length||(n=!0,t=e,e=[]);for(var r=0;r<t.length;r++){var o=t[r].t,a=t[r].d,s="scale"==o.substr(0,5)?1:0;e.push({t:o,d:a.map(function(t){if("number"==typeof t)return s;var e,i={};for(e in t)i[e]=s;return i})})}}a=[];var u=[],l=[];if(t.length!=e.length){if(!i)return;var c=O(t,e),a=[c[0]],u=[c[1]],l=[["matrix",[c[2]]]]}else for(r=0;r<t.length;r++){var o=t[r].t,f=e[r].t,h=t[r].d,m=e[r].d,c=y[o],d=y[f];if("perspective"==o&&"perspective"==f||!("matrix"!=o&&"matrix3d"!=o||"matrix"!=f&&"matrix3d"!=f)){if(!i)return;c=O([t[r]],[e[r]]),a.push(c[0]),u.push(c[1]),l.push(["matrix",[c[2]]])}else{if(o!=f)if(c[2]&&d[2]&&o.replace(/[xy]/,"")==f.replace(/[xy]/,""))o=o.replace(/[xy]/,""),h=c[2](h),m=d[2](m);else{if(!c[1]||!d[1]||L(o)!=L(f)){if(!i)return;a=[(c=O(t,e))[0]],u=[c[1]],l=[["matrix",[c[2]]]];break}o=L(o),h=c[1](h),m=d[1](m)}for(var d=[],f=[],p=[],_=0;_<h.length;_++)c=("number"==typeof h[_]?g.mergeNumbers:g.mergeDimensions)(h[_],m[_]),d[_]=c[0],f[_]=c[1],p.push(c[2]);a.push(d),u.push(f),l.push([o,p])}}return n&&(t=a,a=u,u=t),[a,u,function(t){return t.map(function(t,i){return t=t.map(function(t,e){return l[i][1][e](t)}).join(","),"matrix"==l[i][0]&&16==t.split(",").length&&(l[i][0]="matrix3d"),l[i][0]+"("+t+")"}).join(" ")}]},["transform"]),g.transformToSvgMatrix=function(t){return"matrix("+F((t=g.transformListToMatrix(D(t)))[0])+" "+F(t[1])+" "+F(t[4])+" "+F(t[5])+" "+F(t[12])+" "+F(t[13])+")"},t=W,l={},p={},M("transform",["webkitTransform","msTransform"]),M("transformOrigin",["webkitTransformOrigin"]),M("perspective",["webkitPerspective"]),M("perspectiveOrigin",["webkitPerspectiveOrigin"]),t.propertyName=function(t){return l[t]||t},t.unprefixedPropertyName=function(t){return p[t]||t}}(),void 0===document.createElement("div").animate([]).oncancel&&(s=window.performance&&performance.now?function(){return performance.now()}:function(){return Date.now()},h=function(t,e,i){this.target=t,this.currentTime=e,this.timelineTime=i,this.type="cancel",this.cancelable=this.bubbles=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},m=window.Element.prototype.animate,window.Element.prototype.animate=function(t,e){(t=m.call(this,t,e))._cancelHandlers=[],t.oncancel=null;var i=t.cancel;t.cancel=function(){i.call(this);var e=new h(this,null,s()),t=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){t.forEach(function(t){t.call(e.target,e)})},0)};var n=t.addEventListener;t.addEventListener=function(t,e){"function"==typeof e&&"cancel"==t?this._cancelHandlers.push(e):n.call(this,t,e)};var r=t.removeEventListener;return t.removeEventListener=function(t,e){"cancel"==t?0<=(t=this._cancelHandlers.indexOf(e))&&this._cancelHandlers.splice(t,1):r.call(this,t,e)},t}),function(i){var n,t=document.documentElement,e=null,r=!1;try{var o="0"==getComputedStyle(t).getPropertyValue("opacity")?"1":"0";(e=t.animate({opacity:[o,o]},{duration:1})).currentTime=0,r=getComputedStyle(t).getPropertyValue("opacity")==o}catch(t){}finally{e&&e.cancel()}r||(n=window.Element.prototype.animate,window.Element.prototype.animate=function(t,e){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&t[Symbol.iterator]&&(t=Array.from(t)),Array.isArray(t)||null===t||(t=i.convertToArrayForm(t)),n.call(this,t,e)})}(I),function(i){function n(t){var e=i.timeline;e.currentTime=t,e._discardAnimations(),0==e._animations.length?r=!1:requestAnimationFrame(n)}var t=window.requestAnimationFrame;window.requestAnimationFrame=function(e){return t(function(t){i.timeline._updateAnimationsPromises(),e(t),i.timeline._updateAnimationsPromises()})},i.AnimationTimeline=function(){this._animations=[],this.currentTime=void 0};var r=!(i.AnimationTimeline.prototype={getAnimations:function(){return this._discardAnimations(),this._animations.slice()},_updateAnimationsPromises:function(){i.animationsWithPromises=i.animationsWithPromises.filter(function(t){return t._updatePromises()})},_discardAnimations:function(){this._updateAnimationsPromises(),this._animations=this._animations.filter(function(t){return"finished"!=t.playState&&"idle"!=t.playState})},_play:function(t){return t=new i.Animation(t,this),this._animations.push(t),i.restartWebAnimationsNextTick(),t._updatePromises(),t._animation.play(),t._updatePromises(),t},play:function(t){return t&&t.remove(),this._play(t)}});i.restartWebAnimationsNextTick=function(){r||(r=!0,requestAnimationFrame(n))};var e=new i.AnimationTimeline;i.timeline=e;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return e}})}catch(t){}try{window.document.timeline=e}catch(t){}}(e),r=I,(d=e).animationsWithPromises=[],d.Animation=function(t,e){if(this.id="",t&&t._id&&(this.id=t._id),(this.effect=t)&&(t._animation=this),!e)throw Error("Animation with null timeline is not supported");this._timeline=e,this._sequenceNumber=r.sequenceNumber++,this._holdTime=0,this._isGroup=this._paused=!1,this._animation=null,this._childAnimations=[],this._callback=null,this._oldPlayState="idle",this._rebuildUnderlyingAnimation(),this._animation.cancel(),this._updatePromises()},d.Animation.prototype={_updatePromises:function(){var t=this._oldPlayState,e=this.playState;return this._readyPromise&&e!==t&&("idle"==e?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==t?this._resolveReadyPromise():"pending"==e&&(this._readyPromise=void 0)),this._finishedPromise&&e!==t&&("idle"==e?(this._rejectFinishedPromise(),this._finishedPromise=void 0):"finished"==e?this._resolveFinishedPromise():"finished"==t&&(this._finishedPromise=void 0)),this._oldPlayState=this.playState,this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function(){this._updatePromises();var t,e,i,n,r=!!this._animation;r&&(t=this.playbackRate,e=this._paused,i=this.startTime,n=this.currentTime,this._animation.cancel(),this._animation=this._animation._wrapper=null),(!this.effect||this.effect instanceof window.KeyframeEffect)&&(this._animation=d.newUnderlyingAnimationForKeyframeEffect(this.effect),d.bindAnimationForKeyframeEffect(this)),(this.effect instanceof window.SequenceEffect||this.effect instanceof window.GroupEffect)&&(this._animation=d.newUnderlyingAnimationForGroup(this.effect),d.bindAnimationForGroup(this)),this.effect&&this.effect._onsample&&d.bindAnimationForCustomEffect(this),r&&(1!=t&&(this.playbackRate=t),null!==i?this.startTime=i:null!==n?this.currentTime=n:null!==this._holdTime&&(this.currentTime=this._holdTime),e&&this.pause()),this._updatePromises()},_updateChildren:function(){var e;this.effect&&"idle"!=this.playState&&(e=this.effect._timing.delay,this._childAnimations.forEach(function(t){this._arrangeChildren(t,e),this.effect instanceof window.SequenceEffect&&(e+=d.groupChildDuration(t.effect))}.bind(this)))},_setExternalAnimation:function(t){if(this.effect&&this._isGroup)for(var e=0;e<this.effect.children.length;e++)this.effect.children[e]._animation=t,this._childAnimations[e]._setExternalAnimation(t)},_constructChildAnimations:function(){var i;this.effect&&this._isGroup&&(i=this.effect._timing.delay,this._removeChildAnimations(),this.effect.children.forEach(function(t){var e=d.timeline._play(t);this._childAnimations.push(e),e.playbackRate=this.playbackRate,this._paused&&e.pause(),t._animation=this.effect._animation,this._arrangeChildren(e,i),this.effect instanceof window.SequenceEffect&&(i+=d.groupChildDuration(t))}.bind(this)))},_arrangeChildren:function(t,e){null===this.startTime?t.currentTime=this.currentTime-e/this.playbackRate:t.startTime!==this.startTime+e/this.playbackRate&&(t.startTime=this.startTime+e/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){return window.Promise?(this._finishedPromise||(-1==d.animationsWithPromises.indexOf(this)&&d.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(t,e){this._resolveFinishedPromise=function(){t(this)},this._rejectFinishedPromise=function(){e({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise()),this._finishedPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get ready(){return window.Promise?(this._readyPromise||(-1==d.animationsWithPromises.indexOf(this)&&d.animationsWithPromises.push(this),this._readyPromise=new Promise(function(t,e){this._resolveReadyPromise=function(){t(this)},this._rejectReadyPromise=function(){e({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise()),this._readyPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get onfinish(){return this._animation.onfinish},set onfinish(e){this._animation.onfinish="function"==typeof e?function(t){t.target=this,e.call(this,t)}.bind(this):e},get oncancel(){return this._animation.oncancel},set oncancel(e){this._animation.oncancel="function"==typeof e?function(t){t.target=this,e.call(this,t)}.bind(this):e},get currentTime(){this._updatePromises();var t=this._animation.currentTime;return this._updatePromises(),t},set currentTime(i){this._updatePromises(),this._animation.currentTime=isFinite(i)?i:Math.sign(i)*Number.MAX_VALUE,this._register(),this._forEachChild(function(t,e){t.currentTime=i-e}),this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(i){this._updatePromises(),this._animation.startTime=isFinite(i)?i:Math.sign(i)*Number.MAX_VALUE,this._register(),this._forEachChild(function(t,e){t.startTime=i+e}),this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(e){this._updatePromises();var t=this.currentTime;this._animation.playbackRate=e,this._forEachChild(function(t){t.playbackRate=e}),null!==t&&(this.currentTime=t),this._updatePromises()},play:function(){this._updatePromises(),this._paused=!1,this._animation.play(),-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this),this._register(),d.awaitStartTime(this),this._forEachChild(function(t){var e=t.currentTime;t.play(),t.currentTime=e}),this._updatePromises()},pause:function(){this._updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._animation.pause(),this._register(),this._forEachChild(function(t){t.pause()}),this._paused=!0,this._updatePromises()},finish:function(){this._updatePromises(),this._animation.finish(),this._register(),this._updatePromises()},cancel:function(){this._updatePromises(),this._animation.cancel(),this._register(),this._removeChildAnimations(),this._updatePromises()},reverse:function(){this._updatePromises();var t=this.currentTime;this._animation.reverse(),this._forEachChild(function(t){t.reverse()}),null!==t&&(this.currentTime=t),this._updatePromises()},addEventListener:function(t,e){var i=e;"function"==typeof e&&(i=function(t){t.target=this,e.call(this,t)}.bind(this),e._wrapper=i),this._animation.addEventListener(t,i)},removeEventListener:function(t,e){this._animation.removeEventListener(t,e&&e._wrapper||e)},_removeChildAnimations:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(e){var t,i,n=0;this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations(),this._childAnimations.forEach(function(t){e.call(this,t,n),this.effect instanceof window.SequenceEffect&&(n+=t.effect.activeDuration)}.bind(this)),"pending"!=this.playState&&(t=this.effect._timing,null!=(i=null!==(i=this.currentTime)?r.calculateIterationProgress(r.calculateActiveDuration(t),i,t):i)&&!isNaN(i)||this._removeChildAnimations())}},window.Animation=d.Animation,function(r,n){function o(t){this._frames=r.normalizeKeyframes(t)}function e(){for(var t=!1;i.length;)i.shift()._updateChildren(),t=!0;return t}function a(t){if(t._animation=void 0,t instanceof window.SequenceEffect||t instanceof window.GroupEffect)for(var e=0;e<t.children.length;e++)a(t.children[e])}n.removeMulti=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];n._parent?(-1==e.indexOf(n._parent)&&e.push(n._parent),n._parent.children.splice(n._parent.children.indexOf(n),1),n._parent=null,a(n)):n._animation&&n._animation.effect==n&&(n._animation.cancel(),n._animation.effect=new KeyframeEffect(null,[]),n._animation._callback&&(n._animation._callback._animation=null),n._animation._rebuildUnderlyingAnimation(),a(n))}for(i=0;i<e.length;i++)e[i]._rebuild()},n.KeyframeEffect=function(t,e,i,n){return this.target=t,this._parent=null,i=r.numericTimingToObject(i),this._timingInput=r.cloneTimingInput(i),this._timing=r.normalizeTimingInput(i),this.timing=r.makeTiming(i,!1,this),this.timing._effect=this,"function"==typeof e?(r.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=e):this._normalizedKeyframes=new o(e),this._keyframes=e,this.activeDuration=r.calculateActiveDuration(this._timing),this._id=n,this},n.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},set onsample(t){if("function"==typeof this.getFrames())throw Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=t,this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function(){if("function"==typeof this.getFrames())throw Error("Cloning custom effects is not supported.");var t=new KeyframeEffect(this.target,[],r.cloneTimingInput(this._timingInput),this._id);return t._normalizedKeyframes=this._normalizedKeyframes,t._keyframes=this._keyframes,t},remove:function(){n.removeMulti([this])}};var s=Element.prototype.animate;Element.prototype.animate=function(t,e){var i="";return e&&e.id&&(i=e.id),n.timeline._play(new n.KeyframeEffect(this,t,e,i))};var u=document.createElementNS("http://www.w3.org/1999/xhtml","div");n.newUnderlyingAnimationForKeyframeEffect=function(t){var e,i,n;return t?(e=t.target||u,"function"==typeof(i=t._keyframes)&&(i=[]),(n=t._timingInput).id=t._id):(e=u,i=[],n=0),s.apply(e,[i,n])},n.bindAnimationForKeyframeEffect=function(t){t.effect&&"function"==typeof t.effect._normalizedKeyframes&&n.bindAnimationForCustomEffect(t)};var i=[];n.awaitStartTime=function(t){null===t.startTime&&t._isGroup&&(0==i.length&&requestAnimationFrame(e),i.push(t))};var l=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){n.timeline._updateAnimationsPromises();var t=l.apply(this,arguments);return e()&&(t=l.apply(this,arguments)),n.timeline._updateAnimationsPromises(),t}}),window.KeyframeEffect=n.KeyframeEffect,window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(t){return null!==t.effect&&t.effect.target==this}.bind(this))}}(I,e),function(u,t){function l(t){t._registered||(t._registered=!0,i.push(t),n||(n=!0,requestAnimationFrame(e)))}function e(t){t=i,i=[],t.sort(function(t,e){return t._sequenceNumber-e._sequenceNumber}),t=t.filter(function(t){t();var e=t._animation?t._animation.playState:"idle";return"running"!=e&&"pending"!=e&&(t._registered=!1),t._registered}),i.push.apply(i,t),i.length?(n=!0,requestAnimationFrame(e)):n=!1}document.createElementNS("http://www.w3.org/1999/xhtml","div");var c=0;t.bindAnimationForCustomEffect=function(e){function i(){var t=i._animation?i._animation.currentTime:null;null!==t&&(t=u.calculateIterationProgress(u.calculateActiveDuration(a),t,a),isNaN(t)&&(t=null)),t!==s&&(r?o(t,n,e.effect):o(t,e.effect,e.effect._animation)),s=t}var n=e.effect.target,r="function"==typeof e.effect.getFrames(),o=r?e.effect.getFrames():e.effect._onsample,a=e.effect.timing,s=null,a=u.normalizeTimingInput(a);i._animation=e,i._registered=!1,i._sequenceNumber=c++,l(e._callback=i)};var i=[],n=!1;t.Animation.prototype._register=function(){this._callback&&l(this._callback)}}(I,e),p=I,_=e,window.SequenceEffect=function(){n.apply(this,arguments)},window.GroupEffect=function(){n.apply(this,arguments)},n.prototype={_isAncestor:function(t){for(var e=this;null!==e;){if(e==t)return!0;e=e._parent}return!1},_rebuild:function(){for(var t=this;t;)"auto"===t.timing.duration&&(t._timing.duration=t.activeDuration),t=t._parent;this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function(t){_.removeMulti(t);for(var e=0;e<t.length;e++)t[e]._parent=this},_putChild:function(t,e){for(var i=e?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",n=0;n<t.length;n++)if(this._isAncestor(t[n]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:i};for(n=0;n<t.length;n++)e?this.children.push(t[n]):this.children.unshift(t[n]);this._reparent(t),this._rebuild()},append:function(){this._putChild(arguments,!0)},prepend:function(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function(){for(var t=p.cloneTimingInput(this._timingInput),e=[],i=0;i<this.children.length;i++)e.push(this.children[i].clone());return new(this instanceof GroupEffect?GroupEffect:SequenceEffect)(e,t)},remove:function(){_.removeMulti([this])}},window.SequenceEffect.prototype=Object.create(n.prototype),Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function(){var e=0;return this.children.forEach(function(t){e+=i(t)}),Math.max(e,0)}}),window.GroupEffect.prototype=Object.create(n.prototype),Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function(){var e=0;return this.children.forEach(function(t){e=Math.max(e,i(t))}),e}}),_.newUnderlyingAnimationForGroup=function(t){var i,n=null;return(t=new KeyframeEffect(null,[],t._timing,t._id)).onsample=function(t){var e=i._wrapper;e&&"pending"!=e.playState&&e.effect&&(null==t?e._removeChildAnimations():0==t&&e.playbackRate<0&&(n=n||p.normalizeTimingInput(e.effect.timing),t=p.calculateIterationProgress(p.calculateActiveDuration(n),-1,n),isNaN(t)||null==t)&&(e._forEachChild(function(t){t.currentTime=-1}),e._removeChildAnimations()))},i=_.timeline._play(t)},_.bindAnimationForGroup=function(t){(t._animation._wrapper=t)._isGroup=!0,_.awaitStartTime(t),t._constructChildAnimations(),t._setExternalAnimation(t)},_.groupChildDuration=i}();

(self.webpackChunk_9gag_site=self.webpackChunk_9gag_site||[]).push([[370],{1836:(e,t,s)=>{"use strict";s.d(t,{$6:()=>o,Z2:()=>r,bN:()=>i,fi:()=>n,Ok:()=>a,LD:()=>c,y8:()=>l});const o="close",r="refresh",i="list-item",n="heading",a="userMedia",c="STATIC",l="ANIMATED"},3913:(e,t,s)=>{"use strict";s.d(t,{Mw:()=>o,vT:()=>r,v6:()=>i,wc:()=>n,jE:()=>a});const o="GET__MESSAGES_LIST_POSITION",r="SET__MESSAGES_LIST_POSITION",i="SET__MESSAGE_CONTEXT_MENU_POSITION",n="RECALCULATE__MESSAGE_CONTEXT_MENU_POSITION",a="RECALCULATE_DEPENDENCIES"},2428:(e,t,s)=>{"use strict";s.d(t,{qg:()=>o,uR:()=>r,gJ:()=>i,w2:()=>n,P1:()=>a,RQ:()=>c,Ww:()=>l,zg:()=>d,$j:()=>u,M_:()=>p,s2:()=>h,VH:()=>m,Sd:()=>g,r0:()=>f,dr:()=>y,iI:()=>O,IV:()=>b,vP:()=>_,y5:()=>v,qh:()=>S,k5:()=>T,Hf:()=>w,tM:()=>E,uF:()=>P,V6:()=>I,Q3:()=>A,H4:()=>k,aE:()=>D,aO:()=>C,nv:()=>U,NQ:()=>L,S0:()=>N,N4:()=>j,jI:()=>R,yn:()=>M,ZX:()=>x,Xq:()=>W,r6:()=>V,fI:()=>B,SZ:()=>G,aT:()=>F,$x:()=>Z,CD:()=>$,xV:()=>H,$I:()=>K,Dy:()=>z,CW:()=>Y,T3:()=>q,mJ:()=>J,_i:()=>X,QV:()=>Q,Oj:()=>ee,zV:()=>te,rz:()=>se,fh:()=>oe,rr:()=>re,ld:()=>ie,M7:()=>ne,hT:()=>ae,zX:()=>ce,$Q:()=>le,KP:()=>de,um:()=>ue,nW:()=>pe,U_:()=>he,Au:()=>me,jK:()=>ge,Jq:()=>fe,RL:()=>ye,zx:()=>Oe,Di:()=>be,E:()=>_e,rC:()=>ve,aJ:()=>Se,p$:()=>Te,$b:()=>we,M3:()=>Ee,lL:()=>Pe,oZ:()=>Ie,pD:()=>Ae,bu:()=>ke,WN:()=>De,C:()=>Ce,c4:()=>Ue,MC:()=>Le,qv:()=>Ne,y$:()=>je,j:()=>Re,h_:()=>Me,dV:()=>xe,at:()=>We,QY:()=>Ve,Cd:()=>Be,RA:()=>Ge,XF:()=>Fe,GB:()=>Ze,W$:()=>$e,Su:()=>He,vL:()=>Ke});const o="INIT",r="SET__OPENED_BY_REFERENCE",i="OPEN__FROM_OUTSIDE",n="START_POLLING",a="HAS__NEW_UPDATES",c="GET__POLLING_UPDATES",l="SET__POLLING_UPDATES",d="START__SINGLE_BOARD_POLLING",u="GET__BOARD_STATE",p="SET__BOARD_STATE",h="SET__FOCUSED_BOARD_ID",m="SET__FOCUSED_THREAD_ID",g="SET__FOCUSED_MESSAGE_ID",f="SET__FOCUSED_BOARD_VIEW_MODE",y="SET__BOARD_CONTEXT_MENU_VIEW_MODE",O="TOGGLE__BOARD_CONTEXT_MENU_VIEW_MODE",b="GET__USER_BOARDS_LIST",_="SET__USER_BOARDS_LIST",v="ADD__USER_BOARDS_LIST",S="REMOVE__USER_BOARDS_LIST",T="SET__BOARD_FOLLOWED",w="SET__BOARD_MUTED",E="SET__BOARD_REPLY",P="GET__FEATURED_BOARDS_LIST",I="SET__FEATURED_BOARDS_LIST",A="ADD__FEATURED_BOARD",k="SET__BOARDS_LIST",D="GET__BOARD_BY_ID",C="SET__BOARD_BY_ID",U="GET__BOARD_URL",L="GET__BOARD_MESSAGE_URL",N="GET__FOCUSED_BOARD_ARTICLE",j="GET__ARTICLE_MEDIA_BY_ID",R="GET__BOARD_ARTICLE_BY_ID",M="GET__IS_USER_JOINED",x="SET__SHOW_NEW_MESSAGE",W="FETCH__USER_BOARDS_LIST",V="FETCH__FEATURED_BOARDS_LIST",B="SET__COVERSATION_MESSAGES",G="SET__BOARD_NEW_MESSAGES",F="RESET__CONVERSATION",Z="GET__BOARD_MESSAGES",$="GET__BOARD_NEW_MESSAGES",H="SHOW__BOARD_NEW_MESSAGES",K="CLEAR__BOARD_NEW_MESSAGES",z="PULL__BOARD_NEW_MESSAGES",Y="PULL__ON_VIEWMODE_UPDATE",q="GET__IS_PARENT_MESSAGE",J="GET__BOARD_MESSAGE_BY_ID",X="SET__BOARD_MESSAGE_BY_ID",Q="GET__BOARD_MESSAGE_INDEX_BY_ID",ee="GET__BOARD_MESSAGE_MEDIA",te="GET__BOARD_INFO_MESSAGES_IDS",se="GET__LAST_BOARD_MESSAGE",oe="FETCH__CONVERSATION_MESSAGES",re="ADD__MESSAGE_TO_STORE",ie="ADD__INFO_MESSAGE_TO_BOARD",ne="REMOVE__INFO_MESSAGES_FROM_BOARD",ae="SEND__MESSAGE",ce="CHECK__BOARDS_RESTRICTIONS",le="GET__CONVERSATION_STATE",de="SET__CONVERSATION_STATE",ue="GET__CONVERSATION_CURSOR",pe="SET__CONVERSATION_CURSOR",he="SET__BOARD_USER_FOLLOW",me="SET__BOARD_USER_UNFOLLOW",ge="SET__BOARD_USER_MUTE",fe="GET__BOARD_MUTE_STATE",ye="GET__PINNED_MESSAGE",Oe="ADD__DISMISSED_PIN",be="UPDATE__DISMISSED_PIN",_e="REMOVE__DISMISSED_PIN",ve="SET__BOARD_MESSAGE_CONTEXT_MENU_OPTIONS",Se="CLOSE__BOARD_MESSAGE_CONTEXT_MENU",Te="OPEN__BOARD_MESSAGE_CONTEXT_MENU",we="TOGGLE__BOARD_MESSAGE_CONTEXT_MENU",Ee="TOGGLE__BOARD_MESSAGE_FOOTER",Pe="ADD__TEXT_HEIGHT_TO_MESSAGE_SIZE",Ie="GET__CURRENT_USER_ID",Ae="GET__USER__IS_LOGGED_IN",ke="GET__USER__CAN_MODERATE",De="SET__USER__AUTH",Ce="SET__USER__INFO",Ue="SET__USER__LIKE_MAPPING",Le="FETCH__USER__INFO",Ne="UPDATE__USER__LIKE_MAPPING",je="UPDATE__MESSAGE_LIKE_STATUS",Re="SET__MESSAGE_FOR_DELETE",Me="DELETE__MESSAGE",xe="DELETE__MESSAGE_FROM_STORE",We="REPORT__MESSAGE",Ve="SET__MESSAGE_AS_DELTED",Be="DISABLE_BOARD_MESSAGE_COLLAPS",Ge="GET__FOLLOW_STATUS",Fe="SET__FOLLOW_STATUS",Ze="FETCH__FOLLOW_STATUS",$e="UPDATE__FOLLOW_STATUS",He="EMIT__MESSAGES_COMBINING",Ke="CHANGE_MESSAGE_SIZE"},3257:(e,t,s)=>{"use strict";s.d(t,{R:()=>o,e:()=>r});const o={NAVIGATION_BAR:"NavigationBar",BOARD:"Board",BOARD_ACTION:"BoardAction",BOARD_MESSAGE:"BoardMessage",BOARD_THREAD:"BoardThread"},r={TAP_BOARD:"TapBoard",TAP_MINIMIZE:"TapMinimize",TAP_OPEN:"TapOpen",TAP_CLOSE:"TapClose",TAP_REFRESH:"TapRefresh",TAP_FEATURED_BOARD:"TapFeaturedBoard",TAP_JOINED_BOARD:"TapJoinedBoard",TAP_JOIN:"TapJoin",TAP_PINNED_MESSAGE:"TapPinnedMessage",TAP_DISMISS_PINNED_MESSAGE:"TapDismissPinnedMessage",TAP_COPY_LINK:"TapCopyLink",TAP_BOARD_INFO:"TapBoardInfo",TAP_BACK:"TapBack",TAP_LEAVE_BOARD:"TapLeaveBoard",CONFIRM_LEAVE_BOARD:"ConfirmLeaveBoard",CANCEL_LEAVE_BOARD:"CancelLeaveBoard",LOAD_PREV:"LoadPrev",LOAD_NEXT:"LoadNext",TAP_NEW_MESSAGE:"TapNewMessage",WRITE_MESSAGE:"WriteMessage",TAP_ADD_MEDIA:"TapAddMedia",TAP_REMOVE_MEDIA:"TapRemoveMedia",ADD_MESSAGE:"AddMessage",TAP_REPLY:"TapReply",TAP_UPVOTE:"TapUpvote",TAP_DOWNVOTE:"TapDownvote",TAP_FOLLOW:"TapFollow",TAP_UNFOLLOW:"TapUnfollow",TAP_REPORT:"TapReport",TAP_DELETE:"TapDelete",TAP_UNMASK:"TapUnmask",CONFIRM_DELETE:"ConfirmDelete",CANCEL_DELETE:"CancelDelete",VIEW_REPLIES:"ViewReplies",WRITE_REPLY:"WriteReply",ADD_REPLY:"AddReply",MUTE_BOARD:"MuteBoard",UNMUTE_BOARD:"UnmuteBoard"}},5333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});class o{static getArticleMediaById(e,t){var s;return(null===(s=e.medias)||void 0===s?void 0:s.get(t))||void 0}static getArticlePhotoSrc(e){if(!e.images)return;const{image460:t,image460c:s,image460sv:o,image700:r}=e.images;return r?r.url:o?o.url:s?s.url:t?t.url:void 0}}},7888:(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var o=s(8316),r=s(1390),i=s(2831);class n extends i.Z{constructor(e,t,s,o,r,i,n,a){super(e,t,s),this.hasAudio=o,this.duration=r,this.av1Url=i,this.h265Url=n,this.vp9Url=a,this.type="video"}static fromJson(e){return new n(e.width||0,e.height||0,e.url||"",e.hasAudio||!1,e.duration||0,e.av1Url||null,e.h265Url||null,e.vp9Url||null)}}class a{constructor(){this.image700=null,this.image460=null,this.imageFbThumbnail=null,this.image460sv=null,this.image460c=null}static fromJson(e){const t=new a;return e.image700&&(t.image700=r.Z.fromJson(e.image700)),e.image460&&(t.image460=r.Z.fromJson(e.image460)),e.imageFbThumbnail&&(t.imageFbThumbnail=r.Z.fromJson(e.imageFbThumbnail)),e.image460sv&&(t.image460sv=n.fromJson(e.image460sv)),e.image460c&&(t.image460c=r.Z.fromJson(e.image460c)),t}}class c{constructor(e,t=null,s=null,o=null){this.type=e,this.content=t,this.mediaId=s,this.caption=o}static fromJson(e){return new c(e.type,e.content||null,e.mediaId||null,e.caption||null)}static fromJsonArray(e){const t=[];for(let s of e)t.push(c.fromJson(s));return t}}class l{constructor(e,t,s,o,r){this.id=e,this.source=t,this.duration=s,this.startTs=o,this.embedUrl=r}static fromJson(e){return new l(e.id||null,e.source||null,e.duration||0,e.startTs||0,e.embedUrl||null)}}class d{constructor(e,t){this.id=e,this.type=t,this.images=null,this.video=null}static fromJson(e){const t=new d(e.id||null,e.type||null);return e.images&&(t.images=a.fromJson(e.images)),e.video&&(t.video=l.fromJson(e.video)),t}static fromJsonArray(e){const t=new Map;for(let s in e)t.set(s,d.fromJson(e[s]));return t}}class u{constructor(){this.blocks=null,this.medias=null}static fromJson(e){const t=new u;return e.blocks&&(t.blocks=c.fromJsonArray(e.blocks)),e.medias&&(t.medias=d.fromJsonArray(e.medias)),t}}class p{constructor(e,t,s){this.listType=e,this.updateTs=t,this.latestCommentText=s}static fromJson(e){return new p(e.listType||null,e.updateTs||0,e.latestCommentText||null)}}class h{constructor(e,t=0,s="optional",o="everyone"){this.placeholder=e,this.cooldown=t,this.media=s,this.gender=o}static fromJson(e){return new h(e.placeholder,e.cooldown,e.media,e.gender)}}class m{constructor(e="everyone"){this.gender=e}static fromJson(e){return new m(e.gender)}}class g{constructor(e=null,t=null){this.message=e,this.updateTs=t}static fromJson(e){return new g(e.message||null,e.updateTs||null)}}class f{constructor(e=0,t=!1,s=!1,o=null,r=null,i=null,n=null){this.memberCount=e,this.followed=t,this.muted=s,this.location=o,this.message=r,this.reply=i,this.pinned=n}static fromJson(e){const t=e.message?h.fromJson(e.message):null,s=e.reply?m.fromJson(e.reply):null,o=e.pinned?g.fromJson(e.pinned):null;return new f(e.memberCount||0,e.followed||!1,e.muted||!1,e.location||null,t,s,o)}}class y extends o.g{constructor(e,t,s){super(),this.id=e,this.url=t,this.title=s,this.images=null,this.article=null,this.comment=null,this.board=null}static fromJson(e){const t=new y(e.id||null,e.url||null,e.title||null);return e.images&&(t.images=a.fromJson(e.images)),e.comment&&(t.comment=p.fromJson(e.comment)),e.board&&(t.board=f.fromJson(e.board)),e.article&&(t.article=u.fromJson(e.article)),t}}},1394:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s(9669),r=s.n(o),i=s(7888),n=s(7429),a=s(2915);class c extends n.L{constructor(){super(...arguments),this.url="/board",this.version=a.pv,this.postId=null}setPostId(e){return this.postId=e,this}fetch(){return e=this,t=void 0,o=function*(){const e={id:this.postId},t=yield r().post(this.getUrl(e));return i.Z.fromJson(t.data.data.board)},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}},9970:(e,t,s)=>{"use strict";s.d(t,{RP:()=>o,$Y:()=>r,m8:()=>i,T:()=>n,af:()=>a,z8:()=>c});const o={hidden:!1,banned:!1,pinned:null,sensitive:null},r={userId:null,displayName:null,emojiStatus:null,avatarUrl:null,role:null,profileUrl:null,moderate:null,permissions:null,delegates:null},i=400,n=10485760,a=0,c=1},3510:(e,t,s)=>{"use strict";s.d(t,{Ne:()=>o,av:()=>r,O4:()=>i,pc:()=>n,JV:()=>a,yM:()=>c,uP:()=>l,tV:()=>d,Di:()=>u,ex:()=>p,a4:()=>h,_L:()=>m,Fb:()=>g,Do:()=>f,WX:()=>y,qR:()=>O,UU:()=>b,ae:()=>_,hM:()=>v,_$:()=>S,gm:()=>T,IL:()=>w,rY:()=>E,Gm:()=>P,lK:()=>I,HW:()=>A,Su:()=>k,G:()=>D,i_:()=>C,Od:()=>U,MR:()=>L,Wx:()=>N,yN:()=>j,Y:()=>R,wj:()=>M,GQ:()=>x,jt:()=>W,Eg:()=>V,Ys:()=>B,fk:()=>G,Bc:()=>F,LC:()=>Z,eh:()=>$,Ox:()=>H,UE:()=>K,x0:()=>z,eZ:()=>Y,qg:()=>q,oE:()=>J,nQ:()=>X,hZ:()=>Q,K8:()=>ee,fA:()=>te,d0:()=>se,L5:()=>oe,wl:()=>re,h_:()=>ie,Sp:()=>ne,g$:()=>ae,Ew:()=>ce,yb:()=>le,yT:()=>de,zq:()=>ue,ov:()=>pe,r7:()=>he,u2:()=>me,qi:()=>ge,gN:()=>fe,bM:()=>ye,bV:()=>Oe,Wg:()=>be,nt:()=>_e,ki:()=>ve,aO:()=>Se,_B:()=>Te});const o="FETCH_COMMENTS",r="LOAD_NEXT_COMMENTS",i="LOAD_PREV_COMMENTS",n="SET_COMMENTS",a="SET_COMMENTS_BY_POST_ID",c="SET_COMMENTS_BY_THREAD_KEY",l="RESET_COMMENTS",d="ADD_COMMENT",u="DELETE_COMMENT",p="OP_HIDE_COMMENT",h="REPORT_COMMENT",m="SET_VIEW_MODE",g="SET_THREAD_KEY",f="SET_COMMENT_SENDING",y="INCREMENT_COMMENTS_COUNT",O="SET_COMMENT_TEXT_HEIGHT",b="SET_HIGHLIGHTED_COMMENT_STATE",_="CLEAR_HIGHLIGHTED_COMMENT_STATE",v="MARK_COMMENT_AS_DELETED",S="DISABLE_COLLAPSE",T="FETCH_FOLLOW_STATUS",w="SET_FOLLOW_STATUS_IN_PROGRESS",E="UPDATE_FOLLOW_STATUS",P="SET_FOLLOW_STATUS",I="CHANGE_FOLLOW_STATUS",A="SHOW_EXTRA_MENU",k="SET_EXTRA_MENU_ID",D="SET_ADMIN_ACTIONS",C="ADMIN_HIDE",U="ADMIN_BAN",L="ADMIN_PIN",N="ADMIN_MASK",j="SET_RESTORE_COMMENT_INFO",R="SET_SHOULD_SCROLL_END",M="TOGGLE_LIST_VIEW",x="TOGGLE_THREAD_VIEW",W="SET_TYPE",V="ADD_REPLY",B="ADD_LOCAL_REPLY",G="INIT_REPLY",F="SET_REPLY_INFO",Z="CLEAR_REPLY_INFO",$="DELETE_THREAD_BY_KEY",H="UPDATE_LIKE",K="CLEAR_BY_TTL",z="CLEAR_LIST_COMMENTS_BY_TTL",Y="CLEAR_THREADS_BY_TTL",q="INIT",J="FETCH__APP_CONFIG",X="FETCH__USER_CONFIG",Q="SET_COMMENT_INFO",ee="SET_TTL",te="SET_LOCK",se="SET_STATUS",oe="SET_TOTAL_COUNT",re="SET_VIEW_ALL",ie="INCREASE_AUTO_LOAD_COUNT",ne="UPDATE_LOCK",ae="UPDATE_STATUS",ce="SET_INIT_STATUS",le="SET_FIRST_LOADING",de="SET_NEXT_LOADING",ue="SET_PREV_LOADING",pe="COMMENT_COMPOSER_TOGGLE",he="INIT_NEW_COMPOSER",me="SET__COMPOSER_INACTIVE",ge="SET__COMPOSER_MODE",fe="SET__COMPOSER_MESSAGE",ye="SET__COMPOSER_DELEGATE",Oe="CLEAR__COMPOSER",be="SEND__COMPOSER_MESSAGE",_e="UPLOAD_MEDIA",ve="FETCH_REPLIES",Se="SET_REPLIES",Te="LOAD_NEXT_COMMENTS_IN_THREAD"},3534:(e,t,s)=>{"use strict";s.d(t,{Wb:()=>o,iS:()=>r,et:()=>i,jQ:()=>n,t5:()=>a});const o="SET__SHOW_MODAL",r="GET__SHOW_MODAL",i="CLOSE_MODAL",n="SET__MODAL_STATE",a="SET__MODAL_COMPONENT"},7429:(e,t,s)=>{"use strict";s.d(t,{L:()=>a});var o=s(9669),r=s.n(o),i=s(1019),n=s(7888);class a extends i.g{constructor(){super(...arguments),this.method="post"}baseUrl(){return`/${this.version}`}fetch(){return e=this,t=void 0,o=function*(){return r()[this.method](this.getUrl()).then((e=>class{static fromJson(e){const t=new Map;for(let s of e){const e=n.Z.fromJson(s);e.id&&t.set(e.id,e)}return t}}.fromJson(e.data.data.boards))).catch(this.returnError)},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}},2915:(e,t,s)=>{"use strict";s.d(t,{pv:()=>o,t1:()=>r,Bw:()=>i,O7:()=>n,X0:()=>a,pR:()=>c});const o="v1",r="v2",i="ban",n="unban",a="hide",c="unhide"},9749:(e,t,s)=>{"use strict";s.d(t,{DO:()=>o,xJ:()=>r});const o="STATE__LOADED",r="STATE__COMPLETED"},2129:(e,t,s)=>{"use strict";s.d(t,{G_:()=>o,Tw:()=>r,GO:()=>i,JA:()=>n,Ct:()=>a,qJ:()=>c});const o="new",r="hot",i="anchor",n="userMedia",a="STATIC",c="ANIMATED"},5381:(e,t,s)=>{"use strict";s.d(t,{Hi:()=>o,Ev:()=>r,tc:()=>i,sE:()=>n,$$:()=>a,eT:()=>c,Yn:()=>l,FM:()=>d,Ox:()=>u,d2:()=>p});const o="opened",r="unset",i="common",n="in_joining_process",a="board_info",c="thread",l="closed",d="list",u="postthread",p="reaction"},8316:(e,t,s)=>{"use strict";s.d(t,{g:()=>o});class o{}},2831:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});class o{constructor(e,t,s){this.width=e,this.height=t,this.url=s}isImage(){return"image"===this.type}}},1390:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s(2831);class r extends o.Z{constructor(){super(...arguments),this.type="image"}static fromJson(e){return new r(e.width||0,e.height||0,e.url||"")}isVertical(){return this.height>this.width}}},1019:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var o=s(4564),r=s.n(o);class i{constructor(){this.options=new Map([["version","v1"]])}init(e){for(let t in e)this.options.set(t,e[t])}getUrl(e=null){const t=new(r())(`${this.baseUrl()}${this.url}`);return e&&t.set("query",e),t.toString()}returnError(e){return Promise.reject(e)}static clearRequestParamsFromEmptyKeys(e){return Object.keys(e).forEach((t=>(null===e[t]||void 0===e[t])&&delete e[t])),e}}},6878:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});class o{constructor(e=[]){this.bag=e}putError(e){var t;null===(t=this.bag)||void 0===t||t.push(e)}getErrors(){return this.bag}proccessErrors(e){if(!this.isEmpty())for(const t of this.getErrors())e(t)}isEmpty(){return 0===this.bag.length}}},5435:(e,t,s)=>{"use strict";s.d(t,{Re:()=>o,Pd:()=>r,TZ:()=>i,IR:()=>n});const o="GET__TOAST_MESSAGES",r="ADD__TOAST_MESSAGE",i="REMOVE__TOAST_MESSAGE",n="INCREMENT_TOASTID"},1467:(e,t,s)=>{"use strict";s.d(t,{e:()=>o});const o=5e3},4258:(e,t,s)=>{"use strict";s.d(t,{Z8:()=>o,_f:()=>r,uO:()=>i,iO:()=>n,h9:()=>a,jk:()=>c,bR:()=>l,sm:()=>d,yk:()=>u,wU:()=>p,f9:()=>h,Ve:()=>m,xN:()=>g,Ai:()=>f});const o="FETCH__BLOCKED_USERS",r="SET__BLOCKLIST",i="SET__BLOCKLIST_IDS",n="SET__LAST_MESSAGES_FROM_BLOCKED_USERS_DIFF_COUNT",a="BLOCK__USER",c="UNBLOCK__USER",l="SET__USER_TO_BLOCK",d="ADD__ID_TO_BLOCKLIST_IDS",u="REMOVE__ID_FROM_BLOCKLIST_IDS",p="REMOVE__BLOCKED_USER_BY_INDEX",h="REMOVE__BLOCKED_USER",m="GET__BLOCKED_USER_BY_ACCOUNT_ID",g="IS__USER_BLOCKED",f="SET_AUTO_FOLLOW_THREAD_REPLY"},2976:(e,t,s)=>{"use strict";s.d(t,{R:()=>o,e:()=>r});const o={USER:"UserAction"},r={BLOCK_USER:"BlockUser",UNBLOCK_USER:"UnblockUser"}},24:(e,t,s)=>{"use strict";s.d(t,{ot:()=>o,XQ:()=>r,GD:()=>i,Lm:()=>n,R5:()=>a,bQ:()=>c});const o={DISPLAY_TOAST:"DISPLAY_TOAST",DISMISS_TOAST:"DISMISS_TOAST"},r={FETCH_APP_INFO:"FETCH_APP_INFO"},i={FETCH_USER_INFO:"FETCH_USER_INFO",UPDATE_COMMENTED_POST_URLS:"UPDATE_COMMENTED_POST_URLS",UPDATE_REPORTED_POST_URLS:"UPDATE_REPORTED_POST_URLS",UPDATE_LIKE_MAPPING:"UPDATE_LIKE_MAPPING",UPDATE_QUOTA:"UPDATE_QUOTA"},n={SET_GOOGLE_NPA:"SET_GOOGLE_NPA",SET_DO_NOT_SELL:"SET_DO_NOT_SELL",INIT_PRIVACY_CHECK:"INIT_PRIVACY_CHECK",UPDATE_CCPA_COOKIE:"UPDATE_CCPA_COOKIE",DISMISS_CCPA_BANNER:"DISMISS_CCPA_BANNER"},a={SET_SESSION_ACTIVE:"SET_SESSION_ACTIVE",CHECK_SESSION_REFERRAL:"CHECK_SESSION_REFERRAL",UNMASK_SENSITIVE:"UNMASK_SENSITIVE"},c={INIT_SECTIONS:"INIT_SECTIONS",ADD_SECTION:"ADD_SECTION",FAVORITE_SECTION:"FAVORITE_SECTION",UNFAVORITE_SECTION:"UNFAVORITE_SECTION",HIDE_SECTION:"HIDE_SECTION",UNHIDE_SECTION:"UNHIDE_SECTION",ADD_RECENT_VISIT_SECTION:"ADD_RECENT_VISIT_SECTION",REMOVE_RECENT_VISIT_SECTION:"REMOVE_RECENT_VISIT_SECTION",CLEAR_RECENT_VISIT_SECTIONS:"CLEAR_RECENT_VISIT_SECTIONS"}},7637:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var o=s(4949);function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const n={HOT:"hot",TRENDING:"trending",FRESH:"fresh",OVERVIEW:"overview",POSTS:"posts",COMMENTS:"comments",LIKES:"likes",ACCOUNT:"account",PASSWORD:"password",PROFILE:"profile",PRIVACY:"privacy",DO_NOT_SELL:"do-not-sell"},a=i(i({},n),{},{LIST:[n.HOT,n.TRENDING,n.FRESH],SECTION_LIST:[n.HOT,n.FRESH],TAG_LIST:[n.HOT,n.FRESH],USER_LIST:[n.OVERVIEW,n.POSTS,n.COMMENTS],PROFILE_LIST:[n.OVERVIEW,n.POSTS,n.COMMENTS,n.LIKES],SETTINGS:[n.ACCOUNT,n.PASSWORD,n.PROFILE,n.PRIVACY]})},1093:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var o=s(4949);function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const n={UPVOTE:"UPVOTE",FEATURE_HOT:"FEATURE_HOT",FEATURE_TRENDING:"FEATURE_TRENDING",FEATURED:"FEATURED",COMMENT:"COMMENT",COMMENT_REPLY:"COMMENT_REPLY",COMMENT_UPVOTE:"COMMENT_UPVOTE",COMMENT_MENTION:"COMMENT_MENTION",MILESTONE_POST_UPVOTE:"MILESTONE_POST_UPVOTE",MILESTONE_POST_COMMENT:"MILESTONE_POST_COMMENT",MILESTONE_COMMENT_UPVOTE:"MILESTONE_COMMENT_UPVOTE",MILESTONE_COMMENT_REPLY:"MILESTONE_COMMENT_REPLY",MILESTONE_OVERALL_UPVOTE:"MILESTONE_OVERALL_UPVOTE",MILESTONE_OVERALL_COMMENT:"MILESTONE_OVERALL_COMMENT",FOLLOW_THREAD:"FOLLOW_THREAD",SYSTEM:"SYSTEM",USER:"USER"},a=i(i({},n),{},{MENTION_TAB:[n.COMMENT,n.COMMENT_REPLY,n.COMMENT_MENTION]})},3822:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const o={COPYRIGHT:{type:1,title:"Copyright and trademark infringement",content:"Report as Copyright and trademark infringement?\n\nWe remove posts that include copyright or trademark infringement. If someone is using your photo without your permission or impersonating you, we may remove the content and disable the account.\n\nTo report a claim of copyright infringement, please tap continue and fill out the form.",externalUrl:"https://about.9gag.com/copyright#takedown-notice"},SPAM:{type:2,title:"Spam",content:"Report as spam?\n\nWe remove:\n- Clickbait\n- Advertising\n- Scam\n- Script bot",externalUrl:null},COMMENT_SPAM:{type:2,title:"Spam",content:"Report as spam?\n\nWe remove:\n- Advertising\n- Scam\n- Script bot",externalUrl:null},PORNOGRAPHY:{type:3,title:"Pornography",content:"Report as pornography?\n\nWe remove:\n- Photos or videos of sexual intercourse\n- Posts showing sexual intercourse, genitals or close-ups of fully-nude buttocks",externalUrl:null},REPOST:{type:4,title:"Repost",content:"Report as repost?",externalUrl:null},HATRED_BULLYING:{type:5,title:"Hatred and bullying",content:"Report as hatred and bullying?\n\nWe remove:\n- Comments that contain credible threat\n- Comments that target people to degrade or shame them\n- Personal information shared to blackmail or harass\n- Threats to post nude photo of you",externalUrl:null},SELF_HARM:{type:6,title:"Self-harm",content:"Report as self-harm?\n\nWe remove comments encouraging or promoting self injury, which includes suicide, cutting and eating disorders. We may also remove posts identifying victims of self injury if the post attacks or makes fun of them.",externalUrl:null},VIOLENCE:{type:7,name:"VIOLENCE",title:"Violent, gory and harmful content",content:"Report as violent, gory and harmful content?\n\nWe remove:\n- Photos or videos of extreme graphic violence\n- Posts that encourage violence or attack anyone based on their religious, ethnic or sexual background\n- Specific threats of physical harm, theft, vandalism or financial harm",externalUrl:null},CHILD_PORN:{type:8,title:"Child Porn",content:"Report as child porn?\n\nWe remove and may report to legal entity about:\n- Photos or videos of sexual intercourse with children\n- Posts of nude or partially nude children",externalUrl:null},ILLEGAL:{type:9,title:"Illegal activities e.g. Drug Uses",content:"Report as illegal activities?\n\nWe remove and may report to legal entity about:\n- Posts promoting illegal activities, e.g. the use of hard drugs\n- Posts intended to sell or distribute drugs",externalUrl:null},DECEPTIVE:{type:10,title:"Deceptive content",content:"Report as deceptive content?\n\nWe remove:\n- Purposefully fake or deceitful news\n- Hoax disproved by a reputable source",externalUrl:null},IMPERSONATION:{type:11,title:"Impersonation",content:"What can I do if someone is impersonating me on 9GAG?\n\n9GAG takes safety seriously. If someone created posts/comments/accounts pretending to be you, you can tap continue and fill out the form. Make sure to provide all the requested info, including a photo of your government-issued ID.\n\nWe only respond to reports sent to us from the person who's being impersonated or a representative of the person who's being impersonated (ex: a parent). If someone you know is being impersonated, please encourage that person to report it.",externalUrl:"https://www.surveymonkey.com/r/GSJ3NTF"},DISLIKE:{type:12,title:"I don't like this",content:"What can I do if I see something I don't like on 9GAG?\n\n- Report it if it doesn't follow 9GAG rules\n- Downvote it to decide which posts/ comments can go viral",externalUrl:null},INAPPROPRIATE_USERNAME_OR_PICTURE:{type:13,title:"Inappropriate username/ profile picture",content:"Report as inappropriate username or profile picture?\n\nWe remove:\n- Inappropriate and offensive username/ profile picture",externalUrl:null}},r={TYPES:{POST:"Post",COMMENT:"Comment",PROFILE:"Profile"},PROFILE:[o.INAPPROPRIATE_USERNAME_OR_PICTURE,o.SPAM,o.PORNOGRAPHY,o.HATRED_BULLYING,o.SELF_HARM,o.VIOLENCE,o.CHILD_PORN,o.ILLEGAL,o.DECEPTIVE,o.IMPERSONATION,o.COPYRIGHT,o.DISLIKE],POST:[o.SPAM,o.REPOST,o.PORNOGRAPHY,o.HATRED_BULLYING,o.SELF_HARM,o.VIOLENCE,o.CHILD_PORN,o.ILLEGAL,o.DECEPTIVE,o.COPYRIGHT],COMMENT:[o.COMMENT_SPAM,o.HATRED_BULLYING,o.SELF_HARM,o.ILLEGAL,o.IMPERSONATION],TYPE_DISLIKE:o.DISLIKE,TYPE_REPOST:o.REPOST}},8912:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const o={INFO:"info",WARN:"warn",ERROR:"error"}},1186:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s(4907);const r="cacheableClear",i=class{static isFbInAppBrowser(){return navigator.userAgent.match(/FBAN|FBAV|FBIOS|FB_IAB/i)}static isInstagramInAppBrowser(){return navigator.userAgent.match(/Instagram/i)}static isiOSorInApp(){return this.isFbInAppBrowser()||this.isInstagramInAppBrowser()||this.isiOS()}static isAndroid(){return navigator.userAgent.match(/Android/i)}static isiOS(){return navigator.userAgent.match(/iPhone|iPod|iPad/i)}static isBot(){return navigator.userAgent.match(/Googlebot|Pinterestbot|Applebot|bingbot/i)}static getRangeId(){return o.U2("____ri")||0}static getLocation(){return o.U2("____lo")}static hasSession(){return!!o.U2("PHPSESSID")}static shouldClearUserInfo(e){const t=!!o.U2(r);return t&&o.Od(r,{domain:e}),t}static isWindowInactive(){return document.hidden||document.msHidden||document.webkitHidden||document.mozHidden}static fromExternal(){return!document.referrer.startsWith(window.location.origin)}static afterLoad(e){"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)}}},6238:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=new class{constructor(){this.clipboard=null}async init(){if(this.clipboard)return this.clipboard;const{default:e}=await s.e(369).then(s.t.bind(s,2152,23));this.clipboard=e}async copyText(e,t){return new Promise((async(s,o)=>{try{await this.init()}catch(e){o(e)}const r=document.createElement("button"),i=new this.clipboard(r,{text:function(){return e},action:function(){return"copy"},container:"object"==typeof t?t:document.body});i.on("success",(function(e){i.destroy(),s(e)})),i.on("error",(function(e){i.destroy(),o(e)})),r.click()}))}}},7651:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var o=s(6296).default;const r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=class{static getCurrentTime(){return Math.floor(Date.now()/1e3)}static getTimeAgo(e){if(!e)return"";const t=this.getCurrentTime()-e;if(t<60)return"just now";if(t<3600)return`${Math.floor(t/60)}m`;if(t<86400)return`${Math.floor(t/3600)}h`;if(t<604800)return`${Math.floor(t/86400)}d`;const s=new Date(1e3*e);let o=`${s.getDate()} ${r[s.getMonth()]}`;return s.getFullYear()!==(new Date).getFullYear()&&(o+=` ${s.getFullYear().toString().substr(-2)}`),o}static secondsToHrs(e){e=Number(e);const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return(t>0?t+(1==t?" hour ":" hours "):"")+(s>0?s+(1==s?" minute ":" minutes "):"")}static getAccountAge(e){if(!e)return"";const t=Math.floor((this.getCurrentTime()-e)/86400);return t<=0?"0 days":`${o.integerWithCommas(t)} ${t>1?"days":"day"}`}}},9012:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const o=new class{constructor(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}this.passiveSupported=e}addEventListener(e,t,s=!1){window.addEventListener(e,t,this.passiveSupported?{passive:!0,capture:s}:s)}removeEventListener(e,t,s=!1){window.removeEventListener(e,t,this.passiveSupported?{passive:!0,capture:s}:s)}}},8309:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s(5185),r=s(5670);const i={track:async function(e,t,s){(0,o.K)((()=>this._track(e,t,s)))},_track:function(e,t,s){try{r.default.log("Tracking GA: "+e+","+t+","+s),ga("send","event",e,t,s);for(let o of window._ga||[])ga(o+".send","event",e,t,s)}catch(e){}},trackPageView:async function(e){(0,o.K)((()=>this._trackPageView(e)))},_trackPageView:function(e){try{r.default.log("Tracking GA: PageView "+e),ga("set","page",e),ga("send","pageview");for(let t of window._ga||[])ga(t+".set","page",e),ga(t+".send","pageview")}catch(e){}},trackEvent:async function(e){(0,o.K)((()=>this._trackEvent(e)))},_trackEvent:function(e){try{ga("send","event",e);for(let t of window._ga||[])ga(t+".send","event",e)}catch(e){}},trackException:async function(e,t=!1){(0,o.K)((()=>this._trackException(e,t)))},_trackException:function(e,t=!1){try{r.default.log("Tracking GA: Exception "+e),ga("send","exception",{exDescription:e,exFatal:t});for(let s of window._ga||[])ga(s+".send","exception",{exDescription:e,exFatal:t})}catch(e){}},setUserId:function(e){if(e){r.default.log(`GA setUserId: ${e}`);try{ga("set","&uid",e);for(let t of window._ga||[])ga(`${t}.set`,"&uid",e)}catch(e){}}}}},5670:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const o=class{static async log(e,t){this.logWithData(e,t)}static async logWithData(e,t){}}},8062:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s(5670).default;const r=new class{constructor(){this.marked=null,this.renderer=null}async init(){if(this.marked)return this.marked;const{default:e}=await s.e(334).then(s.t.bind(s,7084,23));return this.renderer=new e.Renderer,this.renderer.link=(e,t,s)=>(0!==e.indexOf("http")&&(e=`http://${e}`),`<a href="${e}" target="_blank">${s}</a>`),e}async render(e){try{return this.marked=await this.init(),this.marked(e,{renderer:this.renderer})}catch(e){return o.log(e),""}}}},1653:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var o=s(7651).default,r=s(5670).default;const i={UNIQUE_EVENT_CATEGORIES:["PostImpression"],storage:{STORAGE_KEY:"sessionEvents",SESSION_TIME:1800,data:{},expireAt:0,fetch:function(){let e=null;if(void 0!==window.localStorage)try{e=JSON.parse(window.localStorage.getItem(this.STORAGE_KEY))}catch(e){}const t=o.getCurrentTime(),s=null==e?0:e.expireAt;r.log("SessionStorage.fetch() expireAt="+s+", TTL="+(s-t)),t>s?(this.data={},this.expireAt=t+this.SESSION_TIME,r.log("SessionStorage.fetch() newSession")):(this.data=e.data,this.expireAt=e.expireAt)},save:function(){if(void 0!==window.localStorage)try{window.localStorage.setItem(this.STORAGE_KEY,JSON.stringify({data:this.data,expireAt:this.expireAt}))}catch(e){}},extendExpiry:function(){this.expireAt=o.getCurrentTime()+this.SESSION_TIME},getItem:function(e){return this.data[e]},setItem:function(e,t){this.data[e]=t}},checkEvent:function(e){this.storage.fetch();const t=e.getHashCode(),s=!this.storage.getItem(t);return this.storage.setItem(t,1),this.storage.extendExpiry(),this.storage.save(),r.log("SessionFilter.checkEvent() hashCode="+t+", isNew="+s,e),s},filterEvent:function(e){return-1==this.UNIQUE_EVENT_CATEGORIES.indexOf(e.category)||this.checkEvent(e)?e:null}};var n=s(6296);var a=s(5670),c=s(1931),l=s(5185),d={_pageViewTracked:!1,_filters:[],getDeviceId:()=>window.Piwik&&window.Piwik.getTracker?window.Piwik.getTracker().getVisitorId():null,push:async function(e){window._paq&&window._paq.push(e)},addFilter(e){e&&this._filters.push(e)},trackEvent:async function(e,t,s,o,r,i){let a=new class{constructor(e,t,s,o,r,i){this.category=e,this.action=t,this.name=s,this.value=o,this.cvars=r||{},this.customUrl=i}getUniqueItemKey(){let e=this.category+"|"+this.action+"|"+this.name;if(this.cvars)for(let t in this.cvars)null!=t&&(e+="|"+t+":"+this.cvars[t]);return e}getHashCode(){const e=this.getUniqueItemKey();return n.default.hashCode(e)}extractCVars(e){const t={},s={};return Object.entries(this.cvars).forEach((([o,r])=>{e.includes(o)?t[o]=r:s[o]=r})),this.cvars=s,t}}(e,t,s,o,r,i);var c=[];if(this._filters&&this._filters.length>0){for(var d=0;d<this._filters.length;d++)a=this._filters[d].filterEvent(a);a&&c.push(a)}else c.push(a);for(d=0;d<c.length;d++){const e=c[d];(0,l.K)((()=>this._trackEvent(e)))}},_trackEvent:function(e){var t=e.category,s=e.action,o=e.name,r=e.value,i=e.cvars,n=e.customUrl,a=null!=n?n:document.location.href;this.push(["setCustomUrl",a]),i=i||{};var l=0;for(Object.keys(i).forEach((function(e){d.push(["setCustomVariable",++l,e,i[e],"event"])})),null==r&&(r=1),this.push(["trackEvent",t,s,o,r]),l=1;l<=Object.keys(i).length;l++)d.push(["deleteCustomVariable",l,"event"]);c.default.uniqueViewed(e)},setUserId:async function(e){this.push(["setUserId",""+e])},trackPageView:async function(){this._pageViewTracked||(this.push(["trackPageView"]),this._pageViewTracked=!0)}};a.default.log("PiwikUtilsSessionFilter",i),d.addFilter(i);const u=d},9377:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var o=s(4949),r=s(9669),i=s.n(r),n=s(7361),a=s.n(n),c=s(4907),l=s(7651).default;function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const p="usprivacy",h=class{static async check(e){const t=l.getCurrentTime();if(a()(e,"ttl",0)>t)return e;try{const{data:e}=await i().get("https://privacy-api.9gag.com/v1/check");return u(u({},e),{},{ttl:t+86400})}catch(t){return e}}static updateCCPACookie(e,t,s){const o=c.U2(p);if(!e)return void(null!==o&&c.Od(p));const r=t&&s?"1YY-":"1YN-";o!==r&&c.vd(p,r,{expires:new Date(Date.now()+31536e6)})}static getCCPAString(){return c.U2(p)||"1---"}}},403:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});const o=/^[1][nNyY-][nNyY-][nNyY-]?$/;var r=s(4907),i=s(5670).default;let n=null,a=function(){if(!window.frames.__uspapiLocator)if(document.body){const e=document.createElement("iframe");e.style.cssText="display:none",e.name="__uspapiLocator",document.body.appendChild(e)}else setTimeout(a,5)};a();let c=function(e,t){if("function"==typeof t){if(null!=e&&1!=e)return void("function"==typeof t&&t(null,!1));const s=new class{constructor(){this.version=1,this.baseString=null}getUsprivacyString(){return this.baseString}setUsprivacyString(e){let t=!1;return o.test(e)&&(this.baseString=e,t=!0),t}getVersion(){return this.version}};s.setUsprivacyString(r.U2("usprivacy"));let n=s.getUsprivacyString();i.log(`getuspdata: ${n}`),n?t({version:s.getVersion(),uspString:n},!0):t({version:null,uspString:null},!1)}else console.error("__uspapi: callback parameter not a function")};window.__uspapi=new function(e){if(e.__uspapi)try{if(e.__uspapi("__uspapi"))return e.__uspapi;n=e.__uspapi()||[]}catch(t){return e.__uspapi}return function(e){try{return{getUSPData:c,__uspapi:function(){return!0}}[e].apply(null,[].slice.call(arguments,1))}catch(t){console.error("__uspapi: Invalid command: ",e)}}}(window),window.addEventListener("message",(function(e){const t=e&&e.data&&e.data.__uspapiCall;t&&window.__uspapi(t.command,t.version,((s,o)=>{e.source&&e.source.postMessage&&e.source.postMessage({__uspapiReturn:{returnValue:s,success:o,callId:t.callId}},"*")}))}),!1);var l=s(3036),d=s(5670),u=s(7361),p=s.n(u),h=s(1186);const m=new class{constructor(){this.inited=!1,this.enabled=!1,this.loadPromise=null,this.loadTimer=null,this.gdprApplies=!1}init(e){const{enabled:t=!0,site:o="9gag.com"}=e,r=h.Z.getLocation();!this.inited&&t&&"US"!==r&&(this.inited=!0,this.enabled=t,s(3614),l.default.loadScript(`https://quantcast.mgr.consensu.org/choice/-nTLRCyXqW8wM/${o}/choice.js`))}async cmpLoaded(){return this.enabled&&window.__tcfapi?this.loadPromise?this.loadPromise:void(this.loadPromise=new Promise((e=>{this.loadTimer=setInterval((()=>{window.__tcfapi&&window.__tcfapi("ping",2,(t=>{const{cmpLoaded:s,gdprApplies:o}=t;s&&void 0!==o&&(d.default.log("cmpLoaded",{data:t}),this.gdprApplies=o,clearInterval(this.loadTimer),this.loadTimer=null,e())}))}),500),setTimeout((()=>{this.loadTimer&&(d.default.log("cmpTimeout"),e())}),1e4)}))):Promise.resolve()}displayConsentUi(){this.enabled&&window.__tcfapi&&window.__tcfapi("displayConsentUi",2,(function(){}))}async getGdprApplies(){return new Promise((async e=>{this.enabled&&window.__tcfapi?(await this.cmpLoaded(),e(this.gdprApplies)):e(!1)}))}async getGoogleNpa(){return new Promise((async e=>{await this.getGdprApplies()?window.__tcfapi("getTCData",2,(t=>{d.default.log("getGoogleNpa",{consent:t});const s=p()(t,"vendor.consents.755",!0);e(!s)}),[755]):e(!1)}))}}},2175:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s(1186),r=s(9012),i=s(2262);const n=new class{constructor(){this.state=(0,i.qj)({}),this._update(),r.default.addEventListener("resize",this._update.bind(this)),r.default.addEventListener("orientationchange",this._update.bind(this))}_update(){this.state.width=o.Z.isiOSorInApp()?screen.width:window.innerWidth,this.state.height=window.innerHeight}browserWidth(){return this.state.width}browserHeight(){return this.state.height}}},3036:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var o=s(5670),r=s(1186);const i=new class{constructor(){this.timeStart=Date.now(),this.loadPromise=this._initLoadPromise(),this.promiseMap={}}_initLoadPromise(){return new Promise((async e=>{r.Z.afterLoad((()=>{o.default.log("_initLoadPromise ",Date.now()-this.timeStart),e()}))}))}async loadScript(e){const t=this.promiseMap[e];if(t)return t;const s=new Promise(((t,s)=>{this.loadPromise.then((()=>this._loadScript(e,5,t,s)))}));return this.promiseMap[e]=s,s}_loadScript(e,t=5,s,r){if(o.default.log("_loadScript",e),t<=0)return o.default.log("_loadScript failure after multiple retries",e),r(),void(this.promiseMap[e]=null);const i=document.createElement("script");i.async=!0,i.type="text/javascript",i.src=e,i.onload=i.onreadystatechange=()=>{i.readyState&&"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onload=i.onreadystatechange=null,s())},i.onerror=()=>{setTimeout((()=>this._loadScript(e,t-1,s,r)),1e3)};const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)}}},6296:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const o=new class{constructor(){}htmlDecode(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}integerWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}secondsToTimeDisplay(e){if(!e)return"";const t=e%60;return Math.floor(e/60)+":"+(t<10?"0":"")+t}capitalize(e){return"string"==typeof e?e.replace(/^\w/,(e=>e.toUpperCase())):e}getCanonicalTagFromUrl(e){return e.replace("/tag/","")}getTagUrl(e,t=null){let s=`/tag/${(e||"").toLowerCase().replace(/ /g,"-")}`;return t&&(s=`${s}?ref=${t}`),s}getSearchUrl(e){return`/search/?query=${encodeURIComponent(e)}`}getProfileUrl(e,t=null){let s=`/u/${(e||"").toLowerCase()}`;return t&&(s=`${s}?ref=${t}`),s}getMentionUrl(e){return this.getProfileUrl(e.replace("@",""),"c.mention")}abbreviateNumber(e){return e>=1e7?`${Math.floor(e/1e7)}M`:e>=1e6?Math.floor(e/1e5)/10+"M":e>=1e4?`${Math.floor(e/1e3)}K`:e>=1e3?Math.floor(e/100)/10+"K":e}isCommentHash(e){return!!e&&["#comment","#cs_comment_id"].includes(e.split("=")[0])}endsWith(e,t){return-1!==e.indexOf(t,e.length-t.length)}getCommentErrorMessage(e){let t="Error occurred. Please try again later.";e=e.response?e.response.data:e;const{code:s,error:o}=e||{};switch(o&&(t=o),s){case"IMAGE_INVALID_TYPE":t="Unsupported type.";break;case"IMAGE_INVALID_SIZE":t="Media size should be less than 10MB"}return t}urlRegExp(e="g"){return new RegExp('(?:(?:(?:(?:h|H)ttps?://))|(w|W)ww\\.)((?:(?:[A-z\\u00a1-\\uffff0-9][-_]*)*[A-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?:[/?#][^\\s"]*)?',e)}hashCode(e){for(var t=0,s=0;t<e.length;t++)s=Math.imul(31,s)+e.charCodeAt(t)|0;return s}}},6810:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var o=s(9669),r=s.n(o),i=s(129),n=s.n(i);const a=class{static async getTagSuggestions(e){try{if(!(e=e&&e.toLowerCase().trim()||"").length)return[];const{data:t}=await r().get(`/v1/tag-suggest?${n().stringify({query:e})}`);return t.data.tags}catch(e){return[]}}}},6245:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var o=s(4949),r=s(5670).default,i=s(1653).default;function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}const a={EVENT_CATEGORY:"PostImpression",timedActionList:[{action:"ViewPostForOneSecond",threshold:1},{action:"ViewPostForThreeSeconds",threshold:3}],trackedActions:{},getActionsByVideoViewTime(e,t,s){const o=t-s;let r=[];for(let t=0;t<this.timedActionList.length;t++)e>=this.timedActionList[t].threshold&&this.timedActionList[t].threshold<=o&&r.push(this.timedActionList[t].action);return r},getUniqueActionKey:function(e,t,s){let o=t;return s&&(o+=":"+s.TriggeredPage,o+=":"+s.TriggeredPageKey),o},filterTrackedActions:function(e,t,s,o){let i=this.getUniqueActionKey(e,s,o);r.log("uniqueActionKey",i);let n=this.trackedActions[i]||[],a=[];for(let e=0;e<t.length;e++)-1===n.indexOf(t[e])&&(a.push(t[e]),n.push(t[e]));return this.trackedActions[i]=n,a},onNonVideoView:function(e,t,s,o,r){this.sendUntrackedPostActions(e,t,s,["ViewPostForOneSecond"],r)},onVideoView:function(e,t,s,o,r,i,n){let a=this.getActionsByVideoViewTime(o,r,i);o>=.95*(r-i)&&a.push("FinishedVideo"),this.sendUntrackedPostActions(e,t,s,a,n)},sendUntrackedPostActions(e,t,s,a,c){let l=this.filterTrackedActions(e,a,t,c);r.log(`sendUntrackedPostActions.untrackedActions entryId=${t},pos=${s}`,l);const d=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({PostKey:t},c);s&&(d.Position=s);for(let t=0;t<l.length;t++)i.trackEvent(this.EVENT_CATEGORY,l[t],e,1,d)}}},4395:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var o=s(2289).default,r=s(5670).default,i=s(6245).default;const n=class{constructor(e){this.id="TTM:"+Math.floor(1e3*Math.random()),this.visibilityObserver=null,this.videoTimeManager=e,this.setTimedViewVisibilityThreshold(.5),this.timers={},this.videoPlayed={},this.screenKey="",this.trackingCVars={},this.intersectionHandler=this.intersectionHandler.bind(this),this.setVisibilityObserver=this.setVisibilityObserver.bind(this),this.onVideoTimeUpdate=this.onVideoTimeUpdate.bind(this)}getVideoTimeManager(){return this.videoTimeManager}setScreenKey(e){this.screenKey=e}setTimedViewVisibilityThreshold(e){this.log("setTimedViewVisibilityThreshold()",e),this.threshold=e}setTrackingCVars(e){this.log("setTrackingCVars()",e),this.trackingCVars=e}setVisibilityObserver(e=0,t=0){if(!this.visibilityObserver){const s=[0,.5];this.visibilityObserver=new o.VisibilityObserver(this.intersectionHandler,e,t,s)}}log(e,t){r.log("["+this.id+"] TimedTrackingManager."+e,t)}track(e,t){this.visibilityObserver.observe(document.getElementById(e),t)}untrackAll(){this.visibilityObserver&&this.visibilityObserver.reset()}start(){this.videoTimeManager&&this.videoTimeManager.addListener(this.onVideoTimeUpdate)}stop(){this.videoTimeManager&&this.videoTimeManager.removeListeners()}trackNonVideoView(e){if(!e.data)return;const t=e.data.key;if(e.intersectionRatio>.5&&this.shouldCheckNonVideoView(e)){let s=this;void 0===this.timers[t]&&(this.timers[t]=setTimeout((function(){s.timers[t]=0,i.onNonVideoView(s.screenKey,t,e.data.position,1,s.trackingCVars)}),1e3))}e.visibilityStatus===o.VISIBILITY_STATUS.exit&&0===e.intersectionRatio&&this.timers[t]&&(clearTimeout(this.timers[t]),delete this.timers[t])}intersectionHandler(e){e.forEach((e=>{this.trackNonVideoView(e)}))}onVideoTimeUpdate(e,t,s,o,r){r=r||0;const n=e.key;if(!n)return;const a=this.shouldCountVideoTime(e,t,s,o,r);if(this.log("onVideoTimeUpdate() key="+n+", startTime="+r+", currentTime="+s+", duration="+o+", shouldCount="+a,e),!a)return;let c=this.videoPlayed[n]||{accumPlayTime:0,lastPlayTime:0,startTime:r,duration:o};const l=c.accumPlayTime>o,d=s-c.lastPlayTime;let u=0;u=d>0?d:o-c.lastPlayTime+(s-r),u>0&&1e3*u<=5e3?c.accumPlayTime+=u:(u=0,this.log("onVideoTimeUpdate() key="+n+", accumPlayTimeIncrease="+u+", invalid playtime change")),c.lastPlayTime=s,this.videoPlayed[n]=c,this.log("onVideoTimeUpdate() key="+n+", accumPlayTimeIncrease="+u+", completed="+l,c),l||i.onVideoView(this.screenKey,n,e.position,c.accumPlayTime,o,r,this.trackingCVars)}isIntersectionRatioAboveThreshold(e){return this.visibilityObserver.getSortedVisibleItems(this.threshold).map((e=>e.domId)).indexOf(e)>-1}shouldCheckImpression(e){return!0}shouldCheckNonVideoView(e){return!0}shouldCountVideoTime(e,t,s,o){return s=s||0,o=o||0,!!(t&&s&&o)&&this.isIntersectionRatioAboveThreshold(e.domId)}}},1931:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var o=s(4907),r=s(129),i=s.n(r),n=s(5185),a=s(3036),c=s(1186),l=s(1653),d=s(5670).default;const u="unique-viewed";var p={trackUrl:"//t.9gag.com/img.gif",rlogTrackUrl:"//web-t.9gag.com/img.gif",rlogUrl:"//web-t.9gag.com/m.gif",appId:"web.9gag.desktop.release",appVersion:"0",lastException:"",username:"",init:function(e){this.trackUrl=e.trackUrl||this.trackUrl,this.rlogTrackUrl=e.rlogTrackUrl||this.rlogTrackUrl,this.rlogUrl=e.rlogUrl||this.rlogUrl,this.appId=e.appId||this.appId,this.appVersion=e.appVersion||this.appVersion,this.username=e.username||this.username,this.loadScripts(e)},loadScripts:function(e){window.ga&&a.default.loadScript("https://www.google-analytics.com/analytics.js");const{trackerJsUrl:t}=e;t&&a.default.loadScript(t)},setUsername:function(e){this.username=e},uniqueViewed:function(e){if("PostImpression"!=e.category||"ViewPostForOneSecond"!=e.action)return;if(!e.cvars||!e.cvars.PostKey||!e.cvars.TriggeredPage)return;let t=e.cvars.PostKey;try{t=JSON.parse(e.cvars.PostKey),Array.isArray(t)&&(t=t.join(","))}catch(e){}p.event(u,"v",{entry:t,platform:-1!=this.appId.indexOf("desktop")?"d":"m",view:"SinglePost"==e.cvars.TriggeredPage?"p":"l"})},event:async function(e,t,s){var o={action:e,value:t,ref:"",label:void 0===s.label?"":s.label,labelValue:void 0===s.labelValue?"":s.labelValue,platform:void 0===s.platform?"":s.platform,entry:void 0===s.entry?"":s.entry,user:void 0===s.user?"":s.user,view:void 0===s.view?"":s.view};o.ref=p._getQueryStringParam("ref"),p._send(p._formatUrl(o)),e!==u&&p._send(p._formatUrl(o,p.rlogTrackUrl))},_getQueryStringParam:function(e){for(var t=window.location.href.split(/[\?&]+/),s=0;s<t.length;s++){var o=t[s].split("=");if(o[0]==e)return o[1]}return""},_formatUrl:function(e,t){var s=t||p.trackUrl,o="",r=[];e&&(null!=e.action&&null!=e.action&&r.push("a="+encodeURIComponent(e.action)),null!=e.value&&null!=e.value&&r.push("v="+encodeURIComponent(e.value)),null!=e.ref&&null!=e.ref&&r.push("ref="+encodeURIComponent(e.ref)),null!=e.label&&null!=e.label&&r.push("lbl="+encodeURIComponent(e.label)),null!=e.labelValue&&null!=e.labelValue&&r.push("lblv="+encodeURIComponent(e.labelValue)),null!=e.platform&&null!=e.platform&&r.push("p="+encodeURIComponent(e.platform)),null!=e.entry&&null!=e.entry&&r.push("e="+encodeURIComponent(e.entry)),null!=e.user&&null!=e.user&&r.push("u="+encodeURIComponent(e.user)),null!=e.view&&null!=e.view&&r.push("w="+encodeURIComponent(e.view))),r.push("url="+encodeURIComponent(p._getUrl())),r.push("referrer="+encodeURIComponent(p._getReferrer())),r.push("t="+encodeURIComponent(p._getTime()));for(var i=0;i<r.length;i++)o+=r[i]+"&";return s+"?"+o},_send:function(e,t=null){(0,n.K)((()=>{const s=new Image;t&&(s.onload=t),s.src=e}))},_getUrl:function(){return location.href},_getReferrer:function(){return document.referrer},_getTime:function(){var e=new Date,t=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return Math.round(t.getTime()/1e3)},logTime:function(e,t){var s=c.Z.getLocation()||"O1",o={a:p.appId,v:parseInt(p.appVersion),t:Math.round(t),k:e+"."+s,g:"USER_EXPERIENCE"},r=p.rlogUrl+"?"+i().stringify(o);p._send(r)},logLatencyIfSane:function(e,t,s){var o=s-t;t>0&&s>0&&o>0&&o<6e5&&(d.log("LatencyTracking: "+e+":"+o.toFixed(2)),p.logTime(e,o))},logCount:function(e,t){var s=c.Z.getLocation()||"O1",o={a:p.appId,v:parseInt(p.appVersion),c:t,k:e+"."+s,g:"USER_EXPERIENCE",_uniq:Math.random()+ +new Date},r=p.rlogUrl+"?"+i().stringify(o);p._send(r)},logException:function(e,t={}){if(e==this.lastException)return;this.lastException=e;let s=o.U2("ts1")||l.default.getDeviceId()||"";const r=this.username||"",n=`${navigator.userAgent}\n\n${t.info||""}`;var a={a:p.appId,v:parseInt(p.appVersion),i:s,u:r,m:e,if:n,k:"ERROR",g:"USER_EXPERIENCE"},c=p.rlogUrl+"?"+i().stringify(a);p._send(c)},profileUrlLoadTime:function(e,t){p._shouldTrackPerformance()&&p._send(e,(function(){p.trackUrlTiming(e,t)}))},trackUrlTiming:function(e,t){var s=performance.getEntriesByName(e);if(s&&s[0]){var o=s[0].requestStart,r=s[0].responseEnd;p.logLatencyIfSane("DELAY_TXFR_"+t,o,r);var i=s[0].connectStart,n=s[0].connectEnd;p.logLatencyIfSane("DELAY_CONN_"+t,i,n)}},reportPerf:function(){p.profilePageLoadTime(),p.profileAssetsLoadTime()},_shouldTrackPerformance:function(){return performance&&performance.getEntriesByType&&performance.navigation&&performance.timing&&0==performance.navigation.type},profilePageLoadTime:function(){if(p._shouldTrackPerformance()&&"/"==window.location.pathname){var e=performance.timing.domComplete,t=performance.timing.navigationStart;p.logLatencyIfSane("PAGE_DELAY",t,e)}},profileAssetsLoadTime:function(){if(p._shouldTrackPerformance()){var e=window.performance.getEntriesByType("resource").find((function(e){return e&&e.name&&e.name.endsWith("gag.css")}));e&&e.name&&e.transferSize>0&&(d.log("Main CSS resource is :",e),p.trackUrlTiming(e.name,"MAINCSS"))}},downloadFail:function(e){p.logCount("DOWNLOAD_FAIL",1)}};const h=p},28:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const o={aggregatePeriod:800,timers:{},pendingUpdate:{},listeners:[],addListener:function(e){this.listeners.push(e)},removeListeners:function(){this.listeners=[]},onVideoTimeUpdate:function(e,t,s,o,r){let i=this.pendingUpdate[e.key];if(this.pendingUpdate[e.key]={data:e,isPlaying:t,currentTime:s,duration:o,startTime:r},i)return;const n=this;setTimeout((function(){n._onVideoTimeUpdate(n.pendingUpdate[e.key]),n.pendingUpdate[e.key]=null}),this.aggregatePeriod)},_onVideoTimeUpdate:function(e){if(e)for(let t=0;t<this.listeners.length;t++)this.listeners[t](e.data,e.isPlaying,e.currentTime,e.duration,e.startTime)}}},9432:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var o=s(1186);const r=new class{supportsCodec(e){return"MediaSource"in window?MediaSource.isTypeSupported(e):"probably"===document.createElement("video").canPlayType(e)}supportsH264(){return this.supportsCodec('video/mp4; codecs="avc1.4d001f"')}supportsH265(){return this.supportsCodec('video/mp4; codecs="hvc1"')}supportsAV1(){return this.supportsCodec('video/mp4; codecs="av01.0.00M.08"')&&!o.Z.isAndroid()}}},2289:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const o={enter:"ENTER",exit:"EXIT",visible:"VISIBLE"},r={VisibilityObserver:class{constructor(e,t,s,o=0,r=null){this.cb=e;let i=o;this.hasZeroThreshold=!0,"number"==typeof o?0===o?this.hasZeroThreshold=!0:(i=[0,o],this.hasZeroThreshold=!1):Array.isArray(o)&&(o.indexOf(0)>-1?this.hasZeroThreshold=!0:(i=[...o,0],this.hasZeroThreshold=!1)),this.options={rootMargin:`${t}px 0px ${s}px`,threshold:i,root:r},this.observer=new IntersectionObserver(this._cb.bind(this),this.options),this.trackedItems=new Map,this.inViewPortItems=[],this.trackedDomIds=[]}_cb(e,t){const s=[];let r=!0;e.forEach((e=>{const t=e.target.id,i=e.intersectionRatio,n=this.trackedItems.get(t),a=this.inViewPortItems.map((e=>e.domId)).indexOf(t);let c={domId:t,intersectionRatio:i,data:n};e.isIntersecting?-1===a?(this.inViewPortItems.push(c),c.visibilityStatus=o.enter,r=!1):(this.inViewPortItems.splice(a,1,c),c.visibilityStatus=o.visible,r=!1):e.isIntersecting||a>-1&&(this.inViewPortItems.splice(a,1),c.visibilityStatus=o.exit),s.push(c)})),r&&!this.hasZeroThreshold||this.cb(s)}observe(e,t={}){e&&(this.trackedItems.has(e.id)||(this.observer.observe(e),this.trackedDomIds.push(e.id),this.trackedItems.set(e.id,t)))}unobserve(e){if(!e)return;this.observer.unobserve(e);const t=this.trackedDomIds.indexOf(e.id);t>-1&&this.trackedDomIds.splice(t,1);const s=this.inViewPortItems.map((e=>e.id)).indexOf(e.id);s>-1&&this.trackedDomIds.splice(s,1),this.trackedItems.has(e.id)&&this.trackedItems.delete(e.id)}getSortedVisibleItems(e=0){const t=this.inViewPortItems.filter((t=>t.intersectionRatio>=e)),s=t.length>0?t:this.inViewPortItems,o=this.trackedDomIds;return s.sort(((e,t)=>o.indexOf(e.domId)-o.indexOf(t.domId)))}reset(){this.observer.disconnect(),this.inViewPortItems=[],this.trackedDomIds=[],this.trackedItems.clear()}destroy(){this.reset(),this.observer=null}},VISIBILITY_STATUS:o}},9198:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var o=s(3036).default;class r{constructor({id:e,onSeek:t,onPercentageChange:s,onStart:o,onResume:r,onPause:i,onEnded:n,onReady:a}){this.id=e,this.timestamp=Date.now(),this.lastPlayerState=-1,this.lastPercentage=0,this.lastPlayerTime=0,this.started=!1,this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.onPlayerReady=this.onPlayerReady.bind(this),this.onYouTubePlayerAPIReady=this.onYouTubePlayerAPIReady.bind(this),this.onStateChange=this.onStateChange.bind(this),this.checkStatus=this.checkStatus.bind(this),this.isSeeking=this.isSeeking.bind(this),this.getCurrentState=this.getCurrentState.bind(this),this.getPlayerId=this.getPlayerId.bind(this),this.onSeek=t,this.onPercentageChange=s,this.onStart=o,this.onResume=r,this.onPause=i,this.onEnded=n,this.onReady=a}start(){window.YT&&window.YT.Player?this.onYouTubePlayerAPIReady():(r.callbacks.push(this.onYouTubePlayerAPIReady),o.loadScript("https://www.youtube.com/iframe_api")),this.checkStatusInterval=setInterval(this.checkStatus,1e3)}stop(){this.checkStatusInterval&&clearInterval(this.checkStatusInterval)}onPlayerReady(e){this.player=e.target,this.onReady&&this.onReady()}onYouTubePlayerAPIReady(){const{getPlayerId:e,onPlayerReady:t,onStateChange:s}=this;new YT.Player(e(),{videoId:this.id,events:{onReady:t,onStateChange:s}})}onStateChange(e){const t=this.getCurrentState();if(null===t)return;const s=this.lastPlayerState===YT.PlayerState.PLAYING,o=this.lastPlayerState===YT.PlayerState.PAUSED,r=e.data===YT.PlayerState.PLAYING,i=e.data===YT.PlayerState.PAUSED&&!this.isSeeking(),n=e.data===YT.PlayerState.ENDED,{onStart:a,onResume:c,onPause:l,onEnded:d}=this;r&&!this.started&&(a&&a(t),this.started=!0),r&&o&&c&&c(t),i&&s&&l&&l(t),n&&d&&d(t),this.lastPlayerState=e.data}checkStatus(){const e=this.getCurrentState();if(null===e)return;const{onSeek:t,onPercentageChange:s}=this;this.isSeeking()&&t&&t(e),e.percentage>this.lastPercentage&&s&&s(e),this.lastPercentage=e.percentage,this.lastPlayerTime=e.time}isSeeking(){const e=Math.floor(this.player.getCurrentTime());return Math.abs(e-this.lastPlayerTime)>2}getCurrentState(){if(!this.player)return null;const e=Math.floor(this.player.getCurrentTime()),t=Math.floor(this.player.getDuration());return{state:this.player.getPlayerState(),percentage:e/t*100,isPlaying:this.player.getPlayerState()===YT.PlayerState.PLAYING,time:e,lastTime:this.lastPlayerTime,duration:t}}getPlayerId(){return`embedded-youtube-view-${this.id}-${this.timestamp}`}play(){this.player&&this.player.playVideo()}pause(){this.player&&this.player.pauseVideo()}mute(){this.player&&this.player.mute()}}r.callbacks=[],window.onYouTubePlayerAPIReady=()=>{for(let e of r.callbacks)e();r.callbacks=[]};const i=r},3614:()=>{!function(){for(var e,t=[],s=window;s;){try{if(s.frames.__tcfapiLocator){e=s;break}}catch(e){}if(s===window.top)break;s=s.parent}e||(function e(){var t=s.document,o=!!s.frames.__tcfapiLocator;if(!o)if(t.body){var r=t.createElement("iframe");r.style.cssText="display:none",r.name="__tcfapiLocator",t.body.appendChild(r)}else setTimeout(e,5);return!o}(),s.__tcfapi=function(){var e,s=arguments;if(!s.length)return t;if("setGdprApplies"===s[0])s.length>3&&2===s[2]&&"boolean"==typeof s[3]&&(e=s[3],"function"==typeof s[2]&&s[2]("set",!0));else if("ping"===s[0]){var o={gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"};"function"==typeof s[2]&&s[2](o)}else t.push(s)},s.addEventListener("message",(function(e){var t="string"==typeof e.data,s={};try{s=t?JSON.parse(e.data):e.data}catch(e){}var o=s.__tcfapiCall;o&&window.__tcfapi(o.command,o.version,(function(s,r){var i={__tcfapiReturn:{returnValue:s,success:r,callId:o.callId}};t&&(i=JSON.stringify(i)),e.source&&e.source.postMessage&&e.source.postMessage(i,"*")}),o.parameter)}),!1))}()},3999:(e,t,s)=>{"use strict";s.d(t,{cV:()=>D,Wk:()=>C,dj:()=>U,EK:()=>E});var o=s(6252);const r={key:0,class:"vue-recycle-scroller__slot"},i={key:1,class:"vue-recycle-scroller__slot"};var n=s(4949);const a=(0,o.HX)("data-v-2e1e536f");(0,o.dD)("data-v-2e1e536f");const c={class:"resize-observer",tabindex:"-1"};(0,o.Cn)();const l=a(((e,t,s,r,i,n)=>((0,o.wg)(),(0,o.j4)("div",c))));var d=s(8057);let u;function p(){p.init||(p.init=!0,u=-1!==(0,d.N)())}const h={name:"ResizeObserver",methods:{compareAndNotify(){this._w===this.$el.offsetWidth&&this._h===this.$el.offsetHeight||(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.$emit("notify"))},addResizeHandlers(){this._resizeObject&&this._resizeObject.contentDocument&&(this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify())},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!u&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),delete this._resizeObject.onload)}},mounted(){p(),this.$nextTick((()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight}));const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",u&&this.$el.appendChild(e),e.data="about:blank",u||this.$el.appendChild(e)},emits:["notify"],beforeUnmount(){this.removeResizeHandlers()}};h.render=l,h.__scopeId="data-v-2e1e536f";const m=h;var g=s(4347),f=s(7274),y=s.n(f),O=s(2722),b=s(2609),_=s(7674),v=s(2262);function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function T(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?S(Object(s),!0).forEach((function(t){(0,n.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}let w=0;const E={name:"RecycleScroller",emits:["resize","visible","hidden","update"],components:{ResizeObserver:m},directives:{ObserveVisibility:g.Sq},props:T(T({},b.N),{},{itemSize:{type:Number,default:null},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1}}),data:()=>({pool:[],totalSize:0,ready:!1,hoverKey:null}),computed:{sizes(){if(null===this.itemSize){const e={"-1":{accumulator:0}},t=this.items,s=this.sizeField,o=this.minItemSize;let r,i=1e4,n=0;for(let a=0,c=t.length;a<c;a++)r=t[a][s]||o,r<i&&(i=r),n+=r,e[a]={accumulator:n,size:r};return this.$_computedMinItemSize=i,e}return[]},simpleArray:b.$},watch:{items:{handler(){this.updateVisibleItems(!0)},flush:"post"},pageMode:{handler(){this.applyPageMode(),this.updateVisibleItems(!1)},flush:"post"},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0,flush:"post"}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1))},mounted(){this.applyPageMode(),this.$nextTick((()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0}))},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,s,o,r){const i={item:s,position:0},n={id:w++,index:t,used:!0,key:o,type:r};return i.nr=(0,v.Xl)(n),e.push(i),i},unuseView(e,t=!1){const s=this.$_unusedViews,o=e.nr.type;let r=s.get(o);r||(r=[],s.set(o,r)),r.push(e),t||(e.nr.used=!1,e.position=-9999,this.$_views.delete(e.nr.key))},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame((()=>{this.$_scrollDirty=!1;const{continuous:e}=this.updateVisibleItems(!1,!0);e||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,100))})))},handleVisibilityChange(e,t){this.ready&&(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame((()=>{this.updateVisibleItems(!1)}))):this.$emit("hidden"))},updateVisibleItems(e,t=!1){const s=this.itemSize,o=this.$_computedMinItemSize,r=this.typeField,i=this.simpleArray?null:this.keyField,n=this.items,a=n.length,c=this.sizes,l=this.$_views,d=this.$_unusedViews,u=this.pool;let p,h,m,g;if(a)if(this.$_prerender)p=0,h=this.prerender,m=null;else{const e=this.getScroll();if(t){let t=e.start-this.$_lastUpdateScrollPosition;if(t<0&&(t=-t),null===s&&t<o||t<s)return{continuous:!0}}this.$_lastUpdateScrollPosition=e.start;const r=this.buffer;if(e.start-=r,e.end+=r,null===s){let t,s,o=0,r=a-1,i=~~(a/2);do{s=i,t=c[i].accumulator,t<e.start?o=i:i<a-1&&c[i+1].accumulator>e.start&&(r=i),i=~~((o+r)/2)}while(i!==s);for(i<0&&(i=0),p=i,m=c[a-1].accumulator,h=i;h<a&&c[h].accumulator<e.end;h++);-1===h?h=n.length-1:(h++,h>a&&(h=a))}else p=~~(e.start/s),h=Math.ceil(e.end/s),p<0&&(p=0),h>a&&(h=a),m=a*s}else p=h=m=0;h-p>O.Z.itemsLimit&&this.itemsLimitError(),this.totalSize=m;const f=p<=this.$_endIndex&&h>=this.$_startIndex;if(this.$_continuous!==f){if(f){l.clear(),d.clear();for(let e=0,t=u.length;e<t;e++)g=u[e],this.unuseView(g)}this.$_continuous=f}else if(f)for(let t=0,s=u.length;t<s;t++)g=u[t],g.nr.used&&(e&&(g.nr.index=n.findIndex((e=>i?e[i]===g.item[i]:e===g.item))),(-1===g.nr.index||g.nr.index<p||g.nr.index>=h)&&this.unuseView(g));const y=f?null:new Map;let b,_,v,S;for(let e=p;e<h;e++){b=n[e];const t=i?b[i]:b;if(null==t)throw new Error(`Key is ${t} on item (keyField is '${i}')`);g=l.get(t),s||c[e].size?(g?(g.nr.used=!0,g.item=b):(_=b[r],v=d.get(_),f?v&&v.length?(g=v.pop(),g.item=b,g.nr.used=!0,g.nr.index=e,g.nr.key=t,g.nr.type=_):g=this.addView(u,e,b,t,_):(S=y.get(_)||0,(!v||S>=v.length)&&(g=this.addView(u,e,b,t,_),this.unuseView(g,!0),v=d.get(_)),g=v[S],g.item=b,g.nr.used=!0,g.nr.index=e,g.nr.key=t,g.nr.type=_,y.set(_,S+1),S++),l.set(t,g)),g.position=null===s?c[e-1].accumulator:e*s):g&&this.unuseView(g)}return this.$_startIndex=p,this.$_endIndex=h,this.emitUpdate&&this.$emit("update",p,h),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:f}},getListenerTarget(){let e=y()(this.$el);return!window.document||e!==window.document.documentElement&&e!==window.document.body||(e=window),e},getScroll(){const{$el:e,direction:t}=this,s="vertical"===t;let o;if(this.pageMode){const t=e.getBoundingClientRect(),r=s?t.height:t.width;let i=-(s?t.top:t.left),n=s?window.innerHeight:window.innerWidth;i<0&&(n+=i,i=0),i+n>r&&(n=r-i),o={start:i,end:i+n}}else o=s?{start:e.scrollTop,end:e.scrollTop+e.clientHeight}:{start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return o},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!_.Q&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;t=null===this.itemSize?e>0?this.sizes[e-1].accumulator:0:e*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){"vertical"===this.direction?this.$el.scrollTop=e:this.$el.scrollLeft=e},itemsLimitError(){throw setTimeout((()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")})),new Error("Rendered items limit reached")},sortViews(){this.pool.sort(((e,t)=>e.nr.index-t.nr.index))}},render:function(e,t,s,n,a,c){const l=(0,o.up)("ResizeObserver"),d=(0,o.Q2)("observe-visibility");return(0,o.wy)(((0,o.wg)(),(0,o.j4)("div",{class:["vue-recycle-scroller",{ready:a.ready,"page-mode":s.pageMode,[`direction-${e.direction}`]:!0}],onScrollPassive:t[2]||(t[2]=(...e)=>c.handleScroll&&c.handleScroll(...e))},[e.$slots.before?((0,o.wg)(),(0,o.j4)("div",r,[(0,o.WI)(e.$slots,"before")])):(0,o.ry)("",!0),(0,o.Wm)("div",{ref:"wrapper",style:{["vertical"===e.direction?"minHeight":"minWidth"]:a.totalSize+"px"},class:"vue-recycle-scroller__item-wrapper"},[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(a.pool,(s=>((0,o.wg)(),(0,o.j4)("div",{key:s.nr.id,style:a.ready?{transform:`translate${"vertical"===e.direction?"Y":"X"}(${s.position}px)`}:null,class:["vue-recycle-scroller__item-view",{hover:a.hoverKey===s.nr.key}],onMouseenter:e=>a.hoverKey=s.nr.key,onMouseleave:t[1]||(t[1]=e=>a.hoverKey=null)},[(0,o.WI)(e.$slots,"default",{item:s.item,index:s.nr.index,active:s.nr.used})],46,["onMouseenter"])))),128))],4),e.$slots.after?((0,o.wg)(),(0,o.j4)("div",i,[(0,o.WI)(e.$slots,"after")])):(0,o.ry)("",!0),(0,o.Wm)(l,{onNotify:c.handleResize},null,8,["onNotify"])],34)),[[d,c.handleVisibilityChange]])}};var P=s(4279);function I(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function A(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?I(Object(s),!0).forEach((function(t){(0,n.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):I(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const k=new(s.n(P)()),D={name:"DynamicScroller",emits:["resize","visible","hidden","update"],components:{RecycleScroller:E},inheritAttrs:!1,provide(){return"undefined"!=typeof ResizeObserver&&(this.$_resizeObserver=new ResizeObserver((e=>{for(const t of e)if(t.target){const e=new CustomEvent("resize",{detail:{contentRect:t.contentRect}});t.target.dispatchEvent(e)}}))),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},props:A(A({},b.N),{},{minItemSize:{type:[Number,String],required:!0}}),data(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:b.$,itemsWithSize(){const e=[],{items:t,keyField:s,simpleArray:o}=this,r=this.vscrollData.sizes;for(let i=0;i<t.length;i++){const n=t[i],a=o?i:n[s];let c=r[a];void 0!==c||this.$_undefinedMap[a]||(c=0),e.push({item:n,id:a,size:c})}return e},attrs(){const e={};for(const t in this.$attrs)"onResize"!==t&&"onVisible"!==t&&(e[t]=this.$attrs[t]);return e}},watch:{items(){this.forceUpdate(!1)},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)}},created(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_bus=k},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$_bus.emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!0){(e||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$_bus.emit("vscroll:update",{force:!0})},scrollToItem(e){const t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e,t){const s=this.simpleArray?null!=t?t:this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[s]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const e=this.$el;this.$nextTick((()=>{e.scrollTop=e.scrollHeight+5e3;const t=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame((()=>{e.scrollTop=e.scrollHeight+5e3,0===this.$_undefinedSizes?this.$_scrollingToBottom=!1:requestAnimationFrame(t)}))};requestAnimationFrame(t)}))}},render:function(e,t,s,r,i,n){const a=(0,o.up)("RecycleScroller");return(0,o.wg)(),(0,o.j4)(a,(0,o.dG)({ref:"scroller",items:n.itemsWithSize,"min-item-size":s.minItemSize,direction:e.direction,"key-field":"id"},n.attrs,{onResize:n.onScrollerResize,onVisible:n.onScrollerVisible}),{default:(0,o.w5)((({item:t,index:s,active:r})=>[(0,o.WI)(e.$slots,"default",{item:t.item,index:s,active:r,itemWithSize:t})])),before:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"before")])),after:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"after")])),_:1},16,["items","min-item-size","direction","onResize","onVisible"])}},C={name:"DynamicScrollerItem",emits:["resize"],inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},computed:{id(){return this.vscrollData.simpleArray?this.index:this.item[this.vscrollData.keyField]},size(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(){this.size||this.onDataUpdate()},finalActive:{handler(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()},flush:"post"}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const e in this.sizeDependencies)this.$watch((()=>this.sizeDependencies[e]),this.onDataUpdate);this.vscrollParent.$_bus.on("vscroll:update",this.onVscrollUpdate)}},mounted(){this.vscrollData.active&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_bus.off("vscroll:update",this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData?this.$_watchData=this.$watch("data",(()=>{this.onDataUpdate()}),{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!e&&this.size||this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick((()=>{if(this.id===e){const e=this.$el.offsetWidth,t=this.$el.offsetHeight;this.applySize(e,t)}this.$_pendingSizeUpdate=null}))},applySize(e,t){const s=Math.round("vertical"===this.vscrollParent.direction?t:e);s&&this.size!==s&&(this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=s,this.vscrollData.validSizes[this.id]=!0,this.emitResize&&this.$emit("resize",this.id))},observeSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.observe(this.$el.parentNode),this.$el.parentNode.addEventListener("resize",this.onResize))},unobserveSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.unobserve(this.$el.parentNode),this.$el.parentNode.removeEventListener("resize",this.onResize))},onResize(e){const{width:t,height:s}=e.detail.contentRect;this.applySize(t,s)}},render:function(e,t,s,r,i,n){return(0,o.wg)(),(0,o.j4)((0,o.LL)(s.tag),null,{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3})}};function U({idProp:e=(e=>e.item.id)}={}){const t=(0,v.qj)({});return{data:()=>({idState:null}),created(){this.$_id=null,this.$_getId="function"==typeof e?()=>e.call(this,this):()=>this[e],this.$watch(this.$_getId,(e=>{this.$nextTick((()=>{this.$_id=e}))}),{immediate:!0}),this.$_updateIdState()},beforeUpdate(){this.$_updateIdState()},methods:{$_idStateInit(e){const s=this.$options.idState;if("function"==typeof s){const o=s.call(this,this);return t[e]=o,this.$_id=e,o}throw new Error("[mixin IdState] Missing `idState` function on component definition.")},$_updateIdState(){const s=this.$_getId();null==s&&console.warn(`No id found for IdState with idProp: '${e}'.`),s!==this.$_id&&(t[s]||this.$_idStateInit(s),this.idState=t[s])}}}}},4349:(e,t,s)=>{"use strict";s.d(t,{ZI:()=>o,ZO:()=>r,f9:()=>i,q8:()=>n,rn:()=>a,$H:()=>c,MW:()=>l});const o="GET__ATTACHED_FILES",r="DELETE__ATTACHED_FILE",i="ATTACH__FILE",n="UPLOAD__FILE",a="IS_PROCESSING_FILE",c="SET_PROCESSING_FILE",l="DELETE_PROCESSING_FILE"},5087:(e,t,s)=>{"use strict";s.d(t,{Z:()=>T});var o=s(6865),r=s(4949),i=s(3036),n=s(5670).default;var a=s(403),c=s(5670).default;const l=class extends class{constructor(e){this.setOptions(e)}setOptions(e){this.options=e}loadScript(e,t=(()=>{})){i.default.loadScript(e).then((()=>t()))}waitScriptUntilTimeout(e,t=(()=>{}),s=5){new Promise(((t,o)=>{i.default.loadScript(e).then((()=>t())),setTimeout((()=>o()),1e3*s)})).then((()=>{n.log("Script="+e+", Loaded"),t()})).catch((()=>{n.log("Script="+e+", Exceeded waiting time ("+s+"s)"),t()}))}setTargeting(e){}refreshAd(e){}destroyAd(e){}destroyAds(){}}{constructor(e){if(super(e),c.log("clean creative script enabled="+this.getOptionEnableCleanCreative()),this.getOptionEnableCleanCreative()){const e="https://d2fucu4fhozx2v.cloudfront.net/script.js";this.waitScriptUntilTimeout(e,(()=>this.initialLoadScript()))}else this.initialLoadScript();this.requestAdTimer=null,this.requestAdSlots=new Set,this.renderCallbacks={}}getOptionEnableCleanCreative(){return this.options.enable_clean_creative||!1}_queue(e){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(e)}initialLoadScript(){window.googletag_inited||(window.googletag_inited=!0,this.loadScript("https://securepubads.g.doubleclick.net/tag/js/gpt.js"),this._queue((()=>{window.googletag.pubads().set("page_url",document.location.href),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().addEventListener("slotRenderEnded",(e=>{if(!e||!e.slot)return;const t=e.slot.getSlotElementId();this.renderCallbacks[t]&&this.renderCallbacks[t](e)})),window.googletag.pubads().addEventListener("impressionViewable",(e=>{if(!e||!e.slot)return;const t=e.slot.getSlotElementId();c.log("DFP.impressionViewable(): "+t)})),window.googletag.enableServices()})))}setTargeting(e){this._queue((()=>{Object.entries(e).forEach((([e,t])=>{c.log("DFP.setTargeting(): key="+e+", value="+t),null===t?window.googletag.pubads().clearTargeting(e):window.googletag.pubads().setTargeting(e,Array.isArray(t)?t:`${t}`)}))}))}renderAd(e,t,s){const{adTag:o,sizes:r,targeting:i}=e;this._queue((async()=>{const e=window.googletag.defineSlot(o,r,t);e&&(i&&Object.entries(i).forEach((([t,s])=>e.setTargeting(t,`${s}`))),c.log(`DFP.renderAd(): ${t} ${o} ${r.join(" ")}`),e.addService(window.googletag.pubads()),window.googletag.display(e),s.renderCallback&&(this.renderCallbacks[t]=s.renderCallback),await a.Z.cmpLoaded(),this.requestAd(e))}))}requestAd(e){this.requestAdSlots.add(e),this.requestAdTimer&&clearTimeout(this.requestAdTimer),this.requestAdTimer=setTimeout((()=>{const e=[...this.requestAdSlots];this.requestAdSlots.clear(),e.length&&this.requestAds(e)}),50)}requestAds(e){c.log("DFP.requestAds()",e),this._queue((()=>window.googletag.pubads().refresh(e)))}refreshAd(e){c.log("DFP.refreshAd(): "+e),this._getSlotsByContainerId(e,(e=>{e.forEach((e=>this.requestAd(e)))}))}destroyAds(){super.destroyAds(),this.requestAdSlots.clear(),this._queue((()=>{c.log("DFP.destroyAds()"),window.googletag.destroySlots(),this.renderCallbacks={}}))}destroyAd(e){c.log("DFP.destroyAd(): "+e),this._getSlotsByContainerId(e,(t=>{t.forEach((e=>this.requestAdSlots.delete(e))),window.googletag.destroySlots(t),this.renderCallbacks[e]=null}))}_getSlotsByContainerId(e,t){this._queue((()=>{const s=window.googletag.pubads().getSlots().filter((t=>t.getSlotElementId()===e));s.length&&t(s)}))}};var d=s(5670);const u=class{initialize(){}loadScript(e,t=(()=>{})){i.default.loadScript(e).then((()=>t()))}requestBids(e,t){}},p=class extends u{constructor(){super(),window.PWT=window.PWT||{}}initialize(){return new Promise((e=>{const t=window.location.href;let s="";if(t.indexOf("pwtv=")>0){const e=/pwtv=(.*?)(&|$)/g.exec(t);e.length>=2&&e[1].length>0&&(s="/"+e[1])}const o="//ads.pubmatic.com/AdServer/js/pwt/157084/2885"+s+"/pwt.js";this.loadScript(o),window.PWT.jsLoaded=()=>{this._handleWhenCMPNotLoaded(),e()},setTimeout(e,1e3)}))}_handleWhenCMPNotLoaded(){window.__tcfapi||window.owpbjs&&window.owpbjs.setConfig({consentManagement:{gdpr:{cmpApi:"static",consentData:{getTCData:{gdprApplies:!1}}},usp:{cmpApi:"iab",timeout:500}}})}requestBids(e,t){const s=window.PWT||{};return s.requestBids?new Promise((t=>{s.requestBids(s.generateConfForGPT(e),(e=>{d.default.log("PubMatic::requestBids",e),s.addKeyValuePairsToGPTSlots(e),t()}))})):Promise.resolve()}};var h=s(9377);const m=class extends u{constructor(e){super(),function(e,t,s,o,r,i,n){function a(s,o){t[e]._Q.push([s,o])}t[e]||(t[e]={init:function(){a("i",arguments)},fetchBids:function(){a("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]})}("apstag",window),this.slotNameMapping={},Object.values(e).forEach((e=>{const{adTag:t,apsTag:s}=e;this.slotNameMapping[t]=s}))}initialize(){return window.apstag.init({pubID:"5019",adServer:"googletag",params:{us_privacy:h.Z.getCCPAString()}}),this.loadScript("//c.amazon-adsystem.com/aax2/apstag.js"),Promise.resolve()}requestBids(e,t){const s=window.apstag||{};return s.fetchBids?new Promise((o=>{const r=this.getBidOptions(e,t);s.fetchBids(r,(e=>{d.default.log("AmazonTAM::requestBids",e),s.setDisplayBids(),o()}))})):Promise.resolve()}getBidOptions(e,t){return{slots:e.map((e=>{const t=e.getAdUnitPath();return{slotID:e.getSlotElementId(),slotName:this.slotNameMapping[t]||t,sizes:e.getSizes().map((e=>[e.getWidth(),e.getHeight()]))}})),timeout:t}}},g=class extends l{setOptions(e){super.setOptions(e),this.bidders=[],this.bidders.push(new p),this.bidders.push(new m(e.adPlacements))}initialLoadScript(){const e=[];this.bidders.forEach((t=>e.push(t.initialize()))),Promise.all(e).then((()=>{super.initialLoadScript()}))}requestAds(e){let t=!1;const s=()=>{t=!0,super.requestAds(e)};this._queue((()=>{const o=[];this.bidders.forEach((t=>o.push(t.requestBids(e,2100)))),Promise.all(o).then((()=>{t||(d.default.log("HeaderBidding::requestAds",e),s())}))})),setTimeout((()=>{t||(d.default.log("HeaderBidding::requestAds timeout",e),s())}),2600)}};var f=s(5670).default;function y(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function O(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?y(Object(s),!0).forEach((function(t){(0,r.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const b=class{static init(e,t){this.configs=e||{},this.adManager=new class{constructor(e){this.adNetwork=null,this.adPlacements={},this.renderedAdContainerIds=[],this.options=e}prepareAdPlacements(e){Object.entries(e).forEach((([e,t])=>{this.adPlacements[e]||t&&(this.adPlacements[e]=O(O({},t),{},{name:e,size:t.sizes[0]||[0,0]}))}))}reset(){this.adNetwork&&this.adNetwork.destroyAds(),this.renderedAdContainerIds=[],f.log("reset AdManager")}addAdNetwork(e){if(this.adNetwork)return;let t;switch(e){case"DFP":t=new l(this.options);break;case"HeaderBidding":const e=this.adPlacements;t=new g(O(O({},this.options),{},{adPlacements:e}))}t&&(this.adNetwork=t)}getAdContainer(e,t){const s=this.adPlacements[e];if(!s)return null;let o=t;return s.occurrence&&null!==t&&(o=this.getAdPosition(s.occurrence,t),!o)?null:{adPlacement:s,adContainerId:this.getAdContainerId(s,o),adPosition:o}}_parseOccurrenceConfig(e){return e?e.split(",").map((e=>parseInt(e))).filter((e=>e)):[]}getAdPosition(e,t){const s=this._parseOccurrenceConfig(e);let o=1,r=0,i=null;for(;r<=t&&(i=s.shift()||i,i);){if(r+=i,r==t)return o;o++}return null}getAdContainerId(e,t=null){const s=`jsid-ad-container-${e.name}`;return t?`${s}-${t}`:s}setTargeting(e){this.adNetwork&&this.adNetwork.setTargeting(e)}destroyAd(e){const{adContainerId:t}=e;if(!this.adNetwork)return;this.adNetwork.destroyAd(t);const s=this.renderedAdContainerIds.indexOf(t);s>-1&&this.renderedAdContainerIds.splice(s,1)}renderAd(e,t){const{adPlacement:s,adContainerId:o}=e;this.renderedAdContainerIds.includes(o)||(this.renderedAdContainerIds.push(o),this.adNetwork&&this.adNetwork.renderAd(s,o,t))}refreshAd(e){if("hidden"===document.visibilityState)return;const{adContainerId:t}=e;this.adNetwork&&this.adNetwork.refreshAd(t)}}(t);const{adNetwork:s,adPlacements:o}=this.configs;this.adManager.prepareAdPlacements(o||[]),s&&this.adManager.addAdNetwork(s)}static reset(){this.adManager.reset()}static getAdContainer(e,t=null){return this.adManager.getAdContainer(e,t)}static setTargeting(e){const{bucket:t}=this.configs;t&&t!==e.bucket&&(e.bucket=t),this.adManager.setTargeting(e)}static renderAd(e,t){this.adManager.renderAd(e,t||{})}static refreshAd(e){e&&this.adManager.refreshAd(e)}static destroyAd(e){e&&this.adManager.destroyAd(e)}};var _=s(1186),v=s(3063),S=s(45).default;const T=v.extend({},new o.Z,{init:function(){let e=S.get("configs.ad.adConfigs")||{};S.get("page.appEmbed")&&(e=null);const t={enable_clean_creative:(S.get("configs.ad.cleanLocations")||[]).includes(_.Z.getLocation())};b.init(e,t)},setTargeting(e){b.setTargeting(e)},getAdContainer:function(e,t=null){return b.getAdContainer(e,t)},renderAd:function(e,t){e&&b.renderAd(e,t)},refreshAd:function(e){e&&b.refreshAd(e)},destroyAd:function(e){e&&b.destroyAd(e)},reset(){b.reset()}})},6865:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s(7278),r=function(){this._base=this};(r.prototype=new o.Z).getBase=function(){return this._base},r.prototype.init=function(){},r.prototype.onLoad=function(){},r.prototype.onScroll=function(){},r.prototype.onDomReady=function(){};const i=r},311:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var o=s(6865),r=s(2676),i=s(9200),n=s(2215),a=s(3822),c=s(24),l=s(3063),d=s(5670).default,u=s(8912).default,p=s(5652).default,h=l.extend({},new o.Z,{init:function(){this.bindElements()},bindElements:function(){i.Z.$on("report::submit",this.handlers.reportSubmitHandler.bind(this)),i.Z.$on("report::cancel",this.onCancel.bind(this))},clearHandlers:function(){this.onDoneHandler=null,this.onCancelHandler=null},onCancel:function(){d.log("ReportController.onCancel"),this.onCancelHandler&&this.onCancelHandler(),this.clearHandlers()},getReportOverlayPromiseForComment:function(e){d.log("Report comment",e);const t=h,s=e?e.commentId:"",o={type:a.Z.TYPES.COMMENT,objectId:s};return t.getReportOverlayPromise(o)},getReportOverlayPromise:function(e){d.log("getReportOverlayPromise",e);const t=h;return new Promise((function(s,o){t.showReportOverlay(e,(function(e){d.log("ReportController.promise resolve()",e),s(e)}),(function(){d.log("ReportController.promise reject()"),o()}))}))},showReportOverlay:function(e,t,s){this.currentConfigs=e,i.Z.$emit("Overlay::showReport",e),this.onDoneHandler=t,this.onCancelHandler=s},hideReportOverlay:function(){i.Z.$emit("Overlay::hideReport")},sendReport:function(e,t){this.currentConfigs?(d.log("ReportController reportType:"+e),d.log("ReportController objectType:"+this.currentConfigs.type),d.log("ReportController objectId:"+this.currentConfigs.objectId),d.log("ReportController silentMode:"+t),this._reportInProgress||(this._reportInProgress=!0,r.Z.reportEntity(this.currentConfigs.type,this.currentConfigs.objectId,e,l.proxy((function(){this.hideReportOverlay(),this._reportInProgress=!1,t||this.showSuccessToast()}),this),l.proxy((function(){this._reportInProgress=!1,t||this.showErrorToast()}),this)))):d.log("ReportController: configurations not found")},showToast(e){n.Z.dispatch(`toast/${c.ot.DISPLAY_TOAST}`,{type:u.WARN,msg:e})},showSuccessToast:function(){this.showToast("Reported. Thanks for making 9GAG better.")},showErrorToast:function(){this.showToast("Something went wrong, please try again later.")},handlers:{reportSubmitHandler:function(e){const t=e.type;let s=!1;e.externalUrl&&(s=!0,window.open(e.externalUrl,"_blank"));let o=this.currentConfigs.type+"Action",r="Report"+this.currentConfigs.type;p.track(o,r,"ReportType_"+t),this.onDoneHandler?(d.log("ReportController.onDoneHandler"),this.onDoneHandler({reportType:t}),this.clearHandlers(),this.hideReportOverlay(),this.showSuccessToast(),this.clearHandlers()):this.sendReport(t,s)}}});const m=h},5652:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var o=s(8309),r=s(1118),i=s(1653);const n={track:async(e,t,s,r,n={})=>{o.Z.track(e,t,s),i.default.trackEvent(e,t,s,r,n)},trackPage:async(e,t,s="",n={})=>{const a=r.Z.getPageKey()||"";o.Z.track(e,t,a),i.default.trackEvent(e,t,a,s,n)},trackPageView:async e=>{o.Z.trackPageView(e),i.default.trackEvent("WEB_TRACKING","PAGEVIEW","","",{},document.location.origin+e)},trackException:async(e,t=!1)=>{o.Z.trackException(e,t)},setUserId:async e=>{o.Z.setUserId(e)}}},4177:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var o=s(7339),r=s.n(o),i=s(5451),n=s.n(i),a=s(4907);const c={isCurrentlyFocusedInTypeable:function(){const e=document.activeElement;if(!e||!e.tagName)return!1;const t=e.tagName.toLowerCase();return"input"==t||"textarea"==t},cookieCheckKey:"cchk",isCookieEnabled:function(){let e=a.U2(this.cookieCheckKey);return null!=e||(a.t8(this.cookieCheckKey,1),e=a.U2(this.cookieCheckKey),null!=e)},getPostDomId:function(e){return`jsid-post-${e}`},getPostId:function(e){return e.replace("jsid-post-","")},getStreamDomId:function(e){return`stream-${e}`},getStreamPos:function(e){return Number(e.replace("stream-",""))},getSpinnerHtml:function(){return'<div class="simple-spinner"></div>'},getScrollTop:()=>n()().scrollTop,scrollTo(e,t=100){r().top(n()(),e,{duration:t})}}},7626:(e,t,s)=>{"use strict";s(7421),s(3999),s(1748),s(2405);var o=s(3279),r=s.n(o),i=s(1931),n=s(8309);const a=class{static async report(e){console.error(e),this.shouldReport(e)&&(n.Z.trackException(e,!0),i.default.logException(e.message,{info:e.stack}))}static shouldReport(e){const{name:t="",message:s="",stack:o=""}=e||{};return!(!(t||s||o)||t.match(/ChunkLoadError|SecurityError|SyntaxError/)||s.match(/Loading CSS chunk|redefine|TypeMismatchError/)||o.match(/(chrome|moz)-extension|imasdk|pubmatic|adjinn_ns|Tapad/)||o.match("http")&&!o.match("static/dist"))}};var c=s(403),l=s(3036);const d=new class{constructor(){this.inited=!1}init(){this.inited||(this.inited=!0,l.default.loadScript("https://secure.quantserve.com/quant.js"))}},u=new class{constructor(){this.inited=!1}async init(e){const{pixelId:t,events:s=[]}=e;var o,r;!this.inited&&t&&(this.inited=!0,(o=window).fbq||(r=o.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},o._fbq||(o._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[]),fbq("init",t),fbq("track","PageView"),s.forEach((e=>fbq("track",e))),l.default.loadScript("https://connect.facebook.net/en_US/fbevents.js"))}};var p=s(2131),h=s(5670).default;const m=new class{constructor(){this.inited=!1}async init(e){if(this.inited||!e)return;this.inited=!0;const{sampleRate:t=100}=e;Math.floor(100*Math.random())>=t||(l.default.loadScript("https://www.gstatic.com/firebasejs/7.15.5/firebase-performance-standalone.js").then((()=>{firebase.initializeApp(e).performance()})),(0,p.kz)(this._trackWebVital),(0,p.Tx)(this._trackWebVital),(0,p.Tb)(this._trackWebVital),(0,p.Y)(this._trackWebVital),(0,p.CA)(this._trackWebVital))}_trackWebVital({name:e,delta:t,id:s}){try{h.log(`Tracking WebVital: ${e}: ${t}`);const o={eventCategory:"WebVitals",eventAction:e,eventValue:Math.round("CLS"===e?1e3*t:t),eventLabel:s,nonInteraction:!0};n.Z.trackEvent(o)}catch(e){}}};var g,f=s(45),y=s(1118),O=s(4907),b=s(8912).default;const _={init:(g={_toastMsgCookieKey:"toastMsg",init:function(){},getToast:function(){if(!navigator.cookieEnabled)return null;let e=O.U2(g._toastMsgCookieKey);return O.Od(g._toastMsgCookieKey,y.Z.getCookieOptions()),e?(e=e.split(","),0==e.length?null:(e=e[0],g.mapToastCode(e)||null)):null},mapToastCode:function(e){var t=g.TEXT,s=g.MAPPING,o={POST_REMOVED:{type:b.WARN,msg:t.POST_REMOVED},WELCOME_BACK:{type:b.WARN,msg:t.WELCOME_BACK},WELCOME_TO_9GAG:{type:b.WARN,msg:t.WELCOME_TO_9GAG},POST_DELETED:{type:b.WARN,msg:t.POST_DELETED},PROFILE_SETTING_SAVED:{type:b.INFO,msg:t.PROFILE_SETTING_SAVED},PROFILE_SETTING_ERROR:{type:b.ERROR,msg:t.PROFILE_SETTING_ERROR},LOGIN_FAILED:{type:b.ERROR,msg:t.LOGIN_FAILED},ACCOUNT_DELETED:{type:b.WARN,msg:t.ACCOUNT_DELETED},ACCOUNT_CONFIRM_SENT:{type:b.WARN,msg:t.ACCOUNT_CONFIRM_SENT},ACCOUNT_CONFIRM_ERROR:{type:b.ERROR,msg:t.ACCOUNT_CONFIRM_ERROR},ACCOUNT_VERFIY_ERROR:{type:b.WARN,msg:t.ACCOUNT_VERIFY_ERROR},SITE_READ_ONLY_MODE:{type:b.WARN,msg:t.SITE_READ_ONLY_MODE},ACCOUNT_VERIFIED:{type:b.WARN,msg:t.ACCOUNT_VERIFIED},VERIFICATION_EMAIL_EXPIRED:{type:b.ERROR,msg:t.VERIFICATION_EMAIL_EXPIRED}};if("undefined"!==(s[e],!1))return o[s[e]]},TEXT:{POST_REMOVED:"Ooooops! The post you're looking for has been reported by the community and removed.",WELCOME_BACK:"Awww Yeah! Welcome back.",WELCOME_TO_9GAG:"Me Gusta! Welcome to 9GAG, go have fun now!",POST_DELETED:"The post is removed.",PROFILE_SETTING_SAVED:"Your settings have been saved.",PROFILE_SETTING_ERROR:"Ooooops! There is an error.",LOGIN_FAILED:"Ooooops! There is an error logging in.",ACCOUNT_DELETED:"Your account has been deleted.",ACCOUNT_CONFIRM_SENT:"A confirmation message has been sent.",ACCOUNT_CONFIRM_ERROR:"There was a problem sending the confirmation message.",SITE_READ_ONLY_MODE:"9GAG is undergoing maintenance right now. Sign-up and Upload will be back shortly.",ACCOUNT_VERIFIED:"Your account is successfully verified!",VERIFICATION_EMAIL_EXPIRED:"The verification email is expired. Another verification email is sent to you."},MAPPING:{2:"WELCOME_BACK",3:"POST_REMOVED",4:"WELCOME_TO_9GAG",5:"POST_DELETED",7:"PROFILE_SETTING_SAVED",8:"PROFILE_SETTING_ERROR",12:"LOGIN_FAILED",14:"ACCOUNT_DELETED",15:"ACCOUNT_CONFIRM_SENT",16:"ACCOUNT_CONFIRM_ERROR",17:"SITE_READ_ONLY_MODE",18:"ACCOUNT_VERIFIED",19:"VERIFICATION_EMAIL_EXPIRED"}}).init,mapToastCode:g.mapToastCode,getToast:g.getToast};var v=s(7937),S=s(1931).default;const T={init:function(){},onWindowLoad:function(){S.reportPerf()},event:function(e,t,s){var o=v.Z.getUserId();o&&(s.user=o),S.event(e,t,s)}};var w=s(1021),E=s(9201),P=s(3063);const I=P.extend({},new E.Z,{API:{URL_LIKE:"/v1/vote/like",URL_DISLIKE:"/v1/vote/dislike",URL_UNLIKE:"/v1/vote/unlike"},_requests:{},_isRequesting:!1,init:function(){},_submitRequest:function(e,t,s,o){if(void 0!==t){this._isRequesting;var r={id:t};P.ajax({type:"POST",url:e,data:r,beforeSend:function(){this._isRequesting=!0,"function"==typeof s&&s(t)},complete:function(){this._isRequesting=!1},error:function(e){"function"==typeof o&&o(t)}})}},like:function(e,t,s){this._submitRequest(this.API.URL_LIKE,e,t,s)},unlike:function(e,t,s){this._submitRequest(this.API.URL_UNLIKE,e,t,s)},dislike:function(e,t,s){this._submitRequest(this.API.URL_DISLIKE,e,t,s)}});var A=s(6865);const k={all_shortcuts:{},commandMode:!1,add:function(e,t,s){var o={type:"keydown",propagate:!1,disable_in_input:!1,require_command_mode:!0,target:document,keycode:!1};if(s)for(var r in o)void 0===s[r]&&(s[r]=o[r]);else s=o;var i=s.target;"string"==typeof s.target&&(i=document.getElementById(s.target));var n=this;e=e.toLowerCase();var a=function(o){var r,i,a;if(o=o||window.event,(!s.disable_in_input||(o.target?a=o.target:o.srcElement&&(a=o.srcElement),3==a.nodeType&&(a=a.parentNode),"INPUT"!=a.tagName&&"TEXTAREA"!=a.tagName))&&(!s.require_command_mode||n.commandMode)){o.keyCode?r=o.keyCode:o.which&&(r=o.which);var c=String.fromCharCode(r).toLowerCase();188==r&&(c=","),190==r&&(c=".");var l=e.split("+"),d=0,u={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},p={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},h={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};o.ctrlKey&&(h.ctrl.pressed=!0),o.shiftKey&&(h.shift.pressed=!0),o.altKey&&(h.alt.pressed=!0),o.metaKey&&(h.meta.pressed=!0);for(var m=0;i=l[m],m<l.length;m++)"ctrl"==i||"control"==i?(d++,h.ctrl.wanted=!0):"shift"==i?(d++,h.shift.wanted=!0):"alt"==i?(d++,h.alt.wanted=!0):"meta"==i?(d++,h.meta.wanted=!0):i.length>1?p[i]==r&&d++:s.keycode?s.keycode==r&&d++:(c==i||u[c]&&o.shiftKey&&(c=u[c])==i)&&d++;return d!=l.length||h.ctrl.pressed!=h.ctrl.wanted||h.shift.pressed!=h.shift.wanted||h.alt.pressed!=h.alt.wanted||h.meta.pressed!=h.meta.wanted||(t(o),s.propagate)?void 0:(o.cancelBubble=!0,o.returnValue=!1,o.stopPropagation&&(o.stopPropagation(),o.preventDefault()),!1)}};this.all_shortcuts[e]={callback:a,target:i,event:s.type},i.addEventListener?i.addEventListener(s.type,a,!1):i.attachEvent?i.attachEvent("on"+s.type,a):i["on"+s.type]=a},remove:function(e){e=e.toLowerCase();var t=this.all_shortcuts[e];if(delete this.all_shortcuts[e],t){var s=t.event,o=t.target,r=t.callback;o.detachEvent?o.detachEvent("on"+s,r):o.removeEventListener?o.removeEventListener(s,r,!1):o["on"+s]=!1}},commandModeListener:null,toggleCommandMode:function(){this.commandMode=!this.commandMode,null!=this.commandModeListener&&this.commandModeListener()}};var D=s(9200),C=s(3063),U=s(4177).default,L=s(2662).default;const N=C.extend({},new A.Z,function(){var e={VOTE_UP:"VOTE_UP",VOTE_DOWN:"VOTE_DOWN",UNVOTE:"UNVOTE",JUMP_COMMENT:"JUMP_COMMENT",LEFT_ARROW:37,RIGHT_ARROW:39,KEY_END:35,KEY_HOME:36,postId:null,_track:function(e){},_bindHomeEnd:function(){C(document).keydown((function(t){return!!U.isCurrentlyFocusedInTypeable()||(t.keyCode==e.KEY_HOME||t.keyCode==e.KEY_END?(t.preventDefault(),U.scrollTo(t.keyCode==e.KEY_END?C(document).height():0),!1):void 0)}))},_bindJumpPrev:function(t){e.bindAction(t,(function(){e._track("prev"),D.Z.$emit(e.postId?"post::toPrevPost":"post::toPrevListPost")})),C(document).keydown((function(t){if(e.postId){if(U.isCurrentlyFocusedInTypeable())return!0;if(t.keyCode==e.LEFT_ARROW)return D.Z.$emit("post::toPrevPost"),!1}}))},_bindJumpNext:function(t){e.bindAction(t,(function(){e._track("next"),D.Z.$emit(e.postId?"post::toNextPost":"post::toNextListPost")})),C(document).keydown((function(t){if(e.postId){if(U.isCurrentlyFocusedInTypeable())return!0;if(t.keyCode==e.RIGHT_ARROW)return D.Z.$emit("post::toNextPost"),!1}}))},_bindPostVoteUp:function(t){e.bindAction(t,(function(){e._track("upvote"),e.postId?D.Z.$emit(`post::voteUp::${e.postId}`):D.Z.$emit("post::voteUp::inView")}),"keyup")},_bindPostVoteDown:function(t){e.bindAction(t,(function(){e._track("downvote"),e.postId?D.Z.$emit(`post::voteDown::${e.postId}`):D.Z.$emit("post::voteDown::inView")}),"keyup")},_bindPostComment:function(t){e.bindAction(t,(function(){e._track("comment"),e.postId?U.scrollTo(document.getElementById("comment").offsetTop):D.Z.$emit("post::comment::inView")}))},_bindScrollToTop:function(t){e.bindAction(t,(function(){e._track("back-to-top"),e.scrollToTop()}))},_bindRandomEntry:function(t){e.bindAction(t,(function(){e._track("random"),e.randomEntry()}))},_bindPostPlay:function(t){e.bindAction(t,(function(){e._track("play"),e.postId?D.Z.$emit(`post::togglePlay::${e.postId}`):D.Z.$emit("post::togglePlay::inView")}))},_bindElements:function(){e._bindScrollToTop("b"),e._bindJumpPrev("k"),e._bindJumpNext("j"),e._bindRandomEntry("r"),e._bindPostVoteUp("l"),e._bindPostVoteDown("h"),e._bindPostComment("c"),e._bindPostPlay("p"),e._bindHomeEnd()},_getKeyOptions:function(e){return{type:e||"keypress",propagate:!1,target:document,disable_in_input:!0,require_command_mode:!1}},bindAction:function(t,s,o){k.add(t,s,e._getKeyOptions(o))},scrollToTop:function(){L.PageController.scrollToTop()},randomEntry:function(){y.Z.load("/shuffle")}};return{init:function(){e._bindElements()},setPostId:t=>e.postId=t,bindAction:e.bindAction,scrollToTop:e.scrollToTop,randomEntry:e.randomEntry}}());var j=s(3063),R=s(5652).default,M=s(5670).default;const x=j.extend({},new A.Z,{_isShown:!1,_hideUsingBackground:!0,_hideAllOverlayReturnToUpload:!1,selectors:{OVERLAY:"#overlay-container",OVERLAY_COMPONENT:"section",OVERLAY_CLOSE_BUTTON:".badge-overlay-close",OVERLAY_COMPONENT_UPLOAD:".badge-overlay-upload",OVERLAY_COMPONENT_DRAG_AND_DROP:".badge-drag-and-drop",MODAL_POST_ZOOM_CONTAINER:"#jsid-modal-post-zoom",BODY_SELECTOR:"body"},init:function(){this.bindOverlayCloseButtons(),this.bindMouseLeave()},handlers:{closeButtonClickedHandler:function(e){if(j(e.currentTarget).closest(this.selectors.OVERLAY_COMPONENT).is(this.selectors.OVERLAY_COMPONENT_UPLOAD)&&(R.track("Upload","Clicked","Cancel"),y.Z.isUploadPage()))return window.location.href="https://"+y.Z.getDomain(),!1;this.hideOverlay(j(e.currentTarget).closest(this.selectors.OVERLAY_COMPONENT)),e.preventDefault()},overlayBackgroundClickedHandler:function(e){this._hideUsingBackground&&this.hideAllOverlay()},overlayComponentClickedHandler:function(e){e.stopPropagation()}},isAnyOverlayShown:function(){return this._isShown},setHideUsingBackground:function(e){this._hideUsingBackground=!1!==e},showOverlay:function(e,t){this.hideAllOverlay(),this._isShown=!0,j(this.selectors.OVERLAY).removeClass("hide"),t||j("body").addClass("no-scroll"),void 0!==e&&(j(e).removeClass("hide"),e==this.selectors.OVERLAY_COMPONENT_UPLOAD?this.setHideUsingBackground(!1):e==this.selectors.MODAL_POST_ZOOM_CONTAINER&&this.setHideUsingBackground(!0))},hideOverlay:function(e){this._isShown=!1,j(this.selectors.OVERLAY).addClass("hide"),j("body").removeClass("no-scroll"),void 0!==e&&(j(e).addClass("hide"),j(e).hasClass("badge-overlay-upload")&&this.setHideUsingBackground(!0))},hideAllOverlay:function(){M.log("hideAllOverlay"),this._hideAllOverlayReturnToUpload?(this._hideAllOverlayReturnToUpload=!1,this.showOverlay(this.selectors.OVERLAY_COMPONENT_UPLOAD,!1)):this.hideOverlay(j(this.selectors.OVERLAY).children())},bindOverlayCloseButtons:function(){j(this.selectors.OVERLAY).find(this.selectors.OVERLAY_CLOSE_BUTTON).click(j.proxy(this.handlers.closeButtonClickedHandler,this)),j(this.selectors.OVERLAY).click(j.proxy(this.handlers.overlayBackgroundClickedHandler,this)),j(this.selectors.OVERLAY).find(this.selectors.OVERLAY_COMPONENT).click(j.proxy(this.handlers.overlayComponentClickedHandler,this))},bindMouseLeave:function(){j(this.selectors.OVERLAY).mouseleave((function(){this._isShown&&!j(this.selectors.OVERLAY_COMPONENT_DRAG_AND_DROP).hasClass("hide")&&this.hideOverlay(this.selectors.OVERLAY_COMPONENT_DRAG_AND_DROP)}))},isInsideOverlay:function(e){return j(e).is(this.selectors.OVERLAY+" *")}});var W=s(311),V=s(2215),B=s(6252),G=s(3577);const F={class:"section-picker"},Z={key:0,class:"section-picker-header"},$={class:"icon"},H={class:"text"},K={class:"icon"},z=(0,B.Wm)("div",{class:"text"},[(0,B.Wm)("h3",null,"My Profile Only"),(0,B.Wm)("p",null,"Post will only be visible in your profile")],-1);var Y=s(4949),q=s(2204);function J(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function X(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?J(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):J(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:Q,mapGetters:ee}=(0,q._p)("section"),{mapGetters:te}=(0,q._p)("user"),se={data:()=>({sectionList:{},selected:null,profileOnly:!1}),computed:X(X(X({},Q(["sections","geoSection","recentUploadSections","favoriteSections","featuredSections"])),ee({getUploadSection:"GET_UPLOAD_SECTION"})),te({user:"USER"})),created(){this.initSectionList()},methods:{initSectionList(){let e=[];const t=t=>t&&!e.includes(t.url),s=this.recentUploadSections.map((e=>this.getUploadSection(e))).filter(t);e=[...e,...s.map((e=>e.url))];const o=this.favoriteSections.map((e=>this.getUploadSection(e))).filter(t);e=[...e,...o.map((e=>e.url))];const r=Object.keys(this.featuredSections).map((e=>this.getUploadSection(e))).filter(t);this.geoSection&&!e.includes(this.geoSection.url)&&r.unshift(this.geoSection),e=[...e,...r.map((e=>e.url))],this.sectionList={Recents:s,Favorites:o,Popular:r,Sections:Object.keys(this.sections).map((e=>this.getUploadSection(e))).filter(t)}},clickSection(e){this.selected=e,this.profileOnly=!1,this.notifyUpload()},clickProfileOnly(){this.selected=null,this.profileOnly=!0,this.notifyUpload()},notifyUpload(){const{selected:e,profileOnly:t}=this;D.Z.$emit("upload::sectionClick",{section:e,profileOnly:t})}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("ul",F,[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(r.sectionList,((e,t)=>((0,B.wg)(),(0,B.j4)(B.HY,null,[e.length>0?((0,B.wg)(),(0,B.j4)("li",Z,(0,G.zw)(t),1)):(0,B.ry)("",!0),((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(e,(e=>((0,B.wg)(),(0,B.j4)("li",null,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t=>i.clickSection(e.url)},[(0,B.Wm)("div",$,[(0,B.Wm)("picture",null,[(0,B.Wm)("source",{srcset:e.ogWebpUrl,type:"image/webp"},null,8,["srcset"]),(0,B.Wm)("img",{src:e.ogImageUrl,loading:"lazy"},null,8,["src"])])]),(0,B.Wm)("div",H,[(0,B.Wm)("h3",null,(0,G.zw)(e.name),1),(0,B.Wm)("p",null,(0,G.zw)(e.description),1)]),(0,B.Wm)("div",{class:["selector",{selected:r.selected===e.url}]},null,2)],8,["onClick"])])))),256))],64)))),256)),(0,B.Wm)("li",null,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.clickProfileOnly&&i.clickProfileOnly(...e))},[(0,B.Wm)("div",K,[(0,B.Wm)("img",{src:e.user.avatarUrl},null,8,["src"])]),z,(0,B.Wm)("div",{class:["selector",{selected:r.profileOnly}]},null,2)])])])}},oe={ref:"recaptcha"};var re=s(3036).default;const ie={emits:["ready"],props:{sitekey:{type:String},theme:{type:String,default:"light"}},data:()=>({retry:5}),methods:{getResponse(){const e=this.$refs.recaptcha.querySelector(".g-recaptcha-response");return e?e.value:null},renderCaptcha(){const{sitekey:e,theme:t}=this;if(window.grecaptcha&&window.grecaptcha.render&&e){if(!this.$refs.recaptcha)return;window.grecaptcha.render(this.$refs.recaptcha,{sitekey:e,theme:t}),this.$emit("ready")}else this.retry>0&&(this.retry-=1,setTimeout(this.renderCaptcha,1e3))}},mounted(){window.grecaptcha?this.renderCaptcha():re.loadScript("https://www.google.com/recaptcha/api.js?render=explicit").then((()=>this.renderCaptcha()))},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("div",oe,null,512)}};var ne=s(3063),ae=s(2662).default,ce=s(45).default,le=s(4177).default,de=s(5652).default,ue=s(2025),pe=ne.extend({},new A.Z,{TITLE_LENGTH_WARNING_THRESHOLD:20,_isUploadingImage:!1,_isVerifyingUrl:!1,_verifyUrlAjax:!1,_section:null,_profileOnly:null,ENTER_KEY:13,COMMA_KEY:188,BACKSPACE_KEY:8,SECTION_ITEM_PREFIX:"jsid-section-item-",SECTION_ITEM_RECENTS_PREFIX:"jsid-section-item-recents-",SECTION_ITEM_FAVORITES_PREFIX:"jsid-section-item-favorites-",init:function(){this._bindElements()},showUploadPage:function(){if(y.Z.isUploadPage()){ae.OverlayController.showOverlay(ae.OverlayController.selectors.OVERLAY_COMPONENT_UPLOAD);const e=new URLSearchParams(window.location.search),t=e.get("url"),s=e.get("title");s&&ne(this.selectors.UPLOAD_TITLE_INPUT).val(s),t?(ne(this.selectors.UPLOAD_URL_INPUT).val(t),this._validateUrl(),this.showUploadStep(this.selectors.UPLOAD_URL_STEP)):this.showUploadStep(this.selectors.UPLOAD_FILE_STEP)}},selectors:{UPLOAD_URL_BTN:"#jsid-upload-url-btn",UPLOAD_MEME_BTN:"#jsid-upload-meme-btn",UPLOAD_FILE_BTN:"#jsid-upload-file-btn",UPLOAD_FILE_BTN_TEXT:".badge-drop-zone-text",UPLOAD_URL_NEXT_BTN:".badge-upload-url-next-btn",UPLOAD_URL_BACK_BTN:".badge-upload-url-back-btn",UPLOAD_INFO_NEXT_BTN:".badge-upload-info-next-btn",UPLOAD_INFO_BACK_BTN:".badge-upload-info-back-btn",UPLOAD_POST_PICK_SECTION_POST_BTN:".badge-upload-pick-section-post-btn",UPLOAD_POST_PICK_SECTION_BACK_BTN:".badge-upload-pick-section-back-btn",UPLOAD_URL_INPUT:"#jsid-upload-url-input",UPLOAD_FILE_INPUT:"#jsid-upload-file-input",UPLOAD_CHAR_COUNT:"#jsid-char-count",UPLOAD_TITLE_INPUT:"#jsid-upload-title",UPLOAD_SOURCE_CHECKBOX:"#jsid-source-checkbox",UPLOAD_SOURCE_CHECKBOX_LABEL:"#jsid-source-checkbox-label",UPLOAD_SOURCE_INPUT:"#jsid-source-input",UPLOAD_SOURCE_CHECKBOX_DIV:"#jsid-source-checkbox-div",UPLOAD_SOURCE_INPUT_TEXTBOX:"#jsid-source-input-textbox",UPLOAD_SUBMIT_BTN:"#jsid-submit-btn",UPLOAD_DISABLE_MASK:"#jsid-disable-mask",UPLOAD_STEP:".badge-upload-step",UPLOAD_FILE_STEP:".badge-upload-file-step",UPLOAD_URL_STEP:".badge-upload-url-step",UPLOAD_INFO_STEP:".badge-upload-info-step",UPLOAD_PICK_SECTION_STEP:".badge-upload-pick-section-step",UPLOAD_FILE_PREVIEW:"#jsid-upload-file-preview",UPLOAD_INFO_MESSAGE:".badge-upload-info-message",UPLOAD_URL_MESSAGE:".badge-upload-url-message",UPLOAD_FILE_ID:"#jsid-upload-file-id",UPLOAD_FILE_CAPTCHA:".badge-upload-captcha",UPLOAD_CSRF_TOKEN:"#jsid-upload-csrf-token",UPLOAD_CONTENT_ERROR_LABEL:"#jsid-upload-content-error",UPLOAD_TITLE_ERROR_LABEL:"#jsid-upload-title-error",UPLOAD_ERROR_LABEL:"#jsid-upload-error",UPLOAD_SECTION_ERROR_LABEL:"#jsid-upload-section-error",UPLOAD_TAG_LIST:".badge-upload-tag-list",UPLOAD_TAG_SCROLL_CONTAINER:".badge-upload-scroll-container",UPLOAD_TAG_INPUT:"#jsid-upload-tag-input",UPLOAD_TAG_FIELD:".badge-upload-tag",UPLOAD_TAG_ITEM:".badge-upload-tag-item",UPLOAD_TAG_REMOVE:".badge-upload-tag-remove",UPLOAD_TAG_STEP:".badge-upload-tag-step",UPLOAD_IS_NSFW:"#jsid-upload-is-nsfw",SECTION_LIST:"#jsid-section-list",DROPZONE_TEMPLATE:"#jsid-drop-zone-template",DROPZONE_PREVIEW:"#jsid-drop-zone-preview"},css:{METHOD_SELECTED:"upload-selected",TITLE_WARNING:"warn"},showUploadStep:function(e,t){t=t||"",ne(this.selectors.UPLOAD_STEP).addClass("hide"),ne(e).removeClass("hide"),e===this.selectors.UPLOAD_INFO_STEP?(ne(this.selectors.UPLOAD_TITLE_INPUT).focus(),v.Z.isRestricted()&&(ne(this.selectors.UPLOAD_FILE_CAPTCHA).removeClass("hide"),this._initCaptcha()),this.showUploadInfoMessage(this.selectors.UPLOAD_INFO_MESSAGE,t)):e===this.selectors.UPLOAD_URL_STEP?(ne(this.selectors.UPLOAD_URL_INPUT).focus(),this.showUploadInfoMessage(this.selectors.UPLOAD_URL_MESSAGE,t)):e===this.selectors.UPLOAD_TAG_STEP&&this.showUploadInfoMessage(this.selectors.UPLOAD_INFO_MESSAGE,t)},showUploadInfoMessage:function(e,t){""==t?ne(e).addClass("hide"):(ne(e).html(t),ne(e).removeClass("hide"))},_setCharCount:function(e){var t=ne(e.currentTarget),s=parseInt(t.data("maxlength"),10)-t.val().length,o=ne(this.selectors.UPLOAD_CHAR_COUNT).text(s);s<=this.TITLE_LENGTH_WARNING_THRESHOLD?o.addClass(this.css.TITLE_WARNING):o.removeClass(this.css.TITLE_WARNING)},_validateUrl:function(e){ne(this.selectors.UPLOAD_URL_INPUT).val().length>0&&"Loading"!=ne(this.selectors.UPLOAD_URL_NEXT_BTN).text()?ne(this.selectors.UPLOAD_URL_NEXT_BTN).removeClass("disabled"):ne(this.selectors.UPLOAD_URL_NEXT_BTN).addClass("disabled")},_updateSourceFields:function(e){var t=ne(this.selectors.UPLOAD_SOURCE_CHECKBOX),s=ne(this.selectors.UPLOAD_SOURCE_INPUT);t.is(":checked")?(s.removeClass("hide"),s.addClass("last"),ne(this.selectors.UPLOAD_SOURCE_CHECKBOX_DIV).removeClass("last")):(s.addClass("hide"),s.removeClass("last"),ne(this.selectors.UPLOAD_SOURCE_CHECKBOX_DIV).addClass("last"))},_initSections(){const e=document.getElementById("jsid-section-list");e&&(ae.PageController.initMicroApp(e,se,[V.Z]),D.Z.$on("upload::sectionClick",(({section:e,profileOnly:t})=>{this._section=e,this._profileOnly=t,e||t?ne(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).removeClass("disabled"):ne(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).addClass("disabled")})))},_initCaptcha(){const e=document.getElementById("jsid-upload-captcha");e&&ae.PageController.initMicroApp(e,{render:()=>(0,B.h)(ie,{sitekey:ce.get("configs.captchaPublicKey")})},[V.Z])},_getTitleError:function(){var e=ne(this.selectors.UPLOAD_TITLE_INPUT).val(),t=ne(this.selectors.UPLOAD_TITLE_INPUT).data("minlength"),s=ne(this.selectors.UPLOAD_TITLE_INPUT).data("maxlength");const o=e.replace(/[\t!?,:;\-\s\.]/g,"").replace(/[\u2000-\u206F\u2E00-\u2E7F]/g,"");return!e||o.length<t?"Boost your post with a funny, creative and descriptive title!":e.length>s?"Your title is a bit long. Be concise!":void 0},_isValidImageUrl:function(e){return e.toLowerCase().match(/^http(s?):\/\//i)},_isValidImageExtension:function(e){return(e+="").split(".").pop().match(/(jpeg|jpg|gif|png)/i)},initialize:function(){var e=this;if(0==ne(this.selectors.DROPZONE_TEMPLATE).length)return!1;new ue("html",{url:"/submit/upload-image",thumbnailWidth:600,thumbnailHeight:600,previewsContainer:this.selectors.DROPZONE_PREVIEW,clickable:this.selectors.UPLOAD_FILE_BTN,acceptedMimeTypes:"image/jpeg, image/jpg, image/png, image/gif, video/mp4, video/webm, video/quicktime, video/x-m4v",previewTemplate:ne(this.selectors.DROPZONE_TEMPLATE).html(),maxFilesize:e.getMaxFilesize()}).on("dragover",(function(t){y.Z.isUploadPage()||e._isUploadingImage||ae.OverlayController.showOverlay(ae.OverlayController.selectors.OVERLAY_COMPONENT_DRAG_AND_DROP)})).on("addedfile",(function(t){ne(e.selectors.UPLOAD_FILE_PREVIEW).html(le.getSpinnerHtml()),ne(e.selectors.UPLOAD_INFO_NEXT_BTN).addClass("disabled"),ne(e.selectors.UPLOAD_URL_INPUT).val(""),ae.OverlayController.showOverlay(ae.OverlayController.selectors.OVERLAY_COMPONENT_UPLOAD),e.showUploadStep(e.selectors.UPLOAD_INFO_STEP),de.track("UploadAction","Upload","Image"),null!=this.files[1]&&this.removeFile(this.files[0])})).on("drop",(function(t){if(e._isUploadingImage)return!1;y.Z.isUploadPage()||ae.OverlayController.hideAllOverlay(),de.track("UploadAction","DragFile","Image"),e._isUploadingImage=!0})).on("success",(function(t,s){e.uploadedFile(s,t)})).on("error",(function(t,s){e.uploadedFile({okay:!1,message:"Error occurred while uploading photo."},t)})).on("complete",(function(t){const s="image/gif"===t.type,o=0==t.type.indexOf("image/")&&!s,r=e.isVideoFile(t);o||r||s?r&&t.size>ce.get("configs.upload.maxVideoFilesize")?(e.uploadedFile({okay:!1,message:"File size is too large."},t),de.track("UploadAction","UploadError","ExceedMaxVideoFileSize")):s&&t.size>ce.get("configs.upload.maxGifFilesize")?(e.uploadedFile({okay:!1,message:"File size is too large."},t),de.track("UploadAction","UploadError","ExceedMaxGifFileSize")):o&&t.size>ce.get("configs.upload.maxImageFilesize")&&(e.uploadedFile({okay:!1,message:"File size is too large."},t),de.track("UploadAction","UploadError","ExceedMaxFileSize")):(e.uploadedFile({okay:!1,message:"Unsupported type."},t),de.track("UploadAction","UploadError","UnSupportedType")),e._isUploadingImage=!1}))},getMaxFilesize:function(){return ce.get("configs.upload.maxVideoFilesize")/1024/1024},isVideoFile:function(e){return 0==e.type.indexOf("video/")},uploadedFile:function(e,t){if(e.okay){if(this.isVideoFile(t)){var s=URL.createObjectURL(t);this.updatePreviewHotlink("video",s)}else ne(this.selectors.UPLOAD_FILE_PREVIEW).html(ne(this.selectors.DROPZONE_PREVIEW).html());ne(".dz-image").removeClass("hide"),ne(this.selectors.UPLOAD_INFO_NEXT_BTN).removeClass("disabled"),ne(this.selectors.UPLOAD_FILE_ID).val(e.uploadId),ne(this.selectors.UPLOAD_CSRF_TOKEN).val(e.csrftoken)}else ne(this.selectors.UPLOAD_FILE_PREVIEW).html(""),e.message&&""!=e.message&&this.showUploadStep(this.selectors.UPLOAD_INFO_STEP,e.message);ne(this.selectors.UPLOAD_FILE_PREVIEW).removeClass("uploading")},urlNext:function(){var e=ne(this.selectors.UPLOAD_URL_INPUT).val();e.length&&(this._isValidImageUrl(e)?this.ajaxVerifyUrl(e):this.showUploadStep(this.selectors.UPLOAD_URL_STEP,"Invalid URL."))},ajaxVerifyUrl:function(e){var t=this;if(!this._isVerifyingUrl){this._isVerifyingUrl=!0,ne(this.selectors.UPLOAD_URL_NEXT_BTN).addClass("disabled").text("Loading");var s={url:e};this._verifyUrlAjax=ne.ajax({type:"POST",dataType:"json",url:"/submit/verify-url",data:s,success:function(e){e.okay?(t.showUploadStep(pe.selectors.UPLOAD_INFO_STEP),de.track("UploadAction","Upload","Url"),ne(t.selectors.UPLOAD_INFO_NEXT_BTN).removeClass("disabled"),e.previewType&&e.previewUrl&&""!=e.previewType&&""!=e.previewUrl?t.updatePreviewHotlink(e.previewType,e.previewUrl):t.updatePreviewHotlink(),ne(t.selectors.UPLOAD_CSRF_TOKEN).val(e.csrftoken),ne(t.selectors.UPLOAD_FILE_ID).val(e.uploadId)):e.message&&""!=e.message&&t.showUploadStep(pe.selectors.UPLOAD_URL_STEP,e.message)},error:function(e,s){"abort"!=s&&t.showUploadStep(pe.selectors.UPLOAD_URL_STEP,"Error occurred.")},complete:function(){ne(t.selectors.UPLOAD_URL_NEXT_BTN).removeClass("disabled").text("Next"),t._isVerifyingUrl=!1}})}},updatePreviewHotlink:function(e,t){"photo"==e?ne(this.selectors.UPLOAD_FILE_PREVIEW).html('<img src="'+t+'" />'):"video"==e?ne(this.selectors.UPLOAD_FILE_PREVIEW).html('<video src="'+t+'" muted />'):ne(this.selectors.UPLOAD_FILE_PREVIEW).html("")},validateUploadInfo:function(){var e=this._getTitleError(),t=this._checkTagField();return e?(this.showUploadStep(this.selectors.UPLOAD_INFO_STEP,e),!1):v.Z.isRestricted()&&!ne("[name=g-recaptcha-response]",this.selectors.UPLOAD_INFO_STEP).val()?(this.showUploadStep(this.selectors.UPLOAD_INFO_STEP,"Wrong CAPTCHA."),!1):!t},_checkTagField:function(){var e=ne(this.selectors.UPLOAD_TAG_LIST).children().length,t=ne(this.selectors.UPLOAD_TAG_INPUT);if(e<t.data("countmax")&&t.show(),0===e&&t.attr("placeholder",t.data("placeholder")),e>t.data("countmax"))return!1;ne(this.selectors.UPLOAD_TAG_LIST).children().each((function(){var e=ne(this).data("tag").length;if(e<t.data("lengthmin")||e>t.data("lengthmax"))return!1}))},_bindElements:function(){var e=this;ne(this.selectors.UPLOAD_FILE_BTN).on("click",ne.proxy((function(e){de.track("UploadAction","TapSelectImage")}),this)),ne(this.selectors.UPLOAD_URL_BTN).on("click",ne.proxy((function(t){t.preventDefault(),e.showUploadStep(this.selectors.UPLOAD_URL_STEP),de.track("UploadAction","TapAddUrl")}),this)),ne(this.selectors.UPLOAD_MEME_BTN).on("click",ne.proxy((function(e){de.track("UploadAction","TapMakeMeme")}),this)),ne(this.selectors.UPLOAD_URL_NEXT_BTN).on("click",ne.proxy((function(t){t.preventDefault(),e.urlNext()}),this)),ne(this.selectors.UPLOAD_INFO_NEXT_BTN).on("click",ne.proxy((function(t){return t.preventDefault(),!ne(t.target).hasClass("disabled")&&!!e.validateUploadInfo()&&(e._initSections(),e.showUploadStep(this.selectors.UPLOAD_PICK_SECTION_STEP),void de.track("UploadAction","SubmitPostTitle"))}),this)),ne(this.selectors.UPLOAD_URL_BACK_BTN).on("click",ne.proxy((function(t){t.preventDefault(),e.showUploadStep(this.selectors.UPLOAD_FILE_STEP),e._verifyUrlAjax&&4!=e._verifyUrlAjax.readyState&&e._verifyUrlAjax.abort()}),this)),ne(this.selectors.UPLOAD_INFO_BACK_BTN).on("click",ne.proxy((function(t){t.preventDefault(),e.showUploadStep(this.selectors.UPLOAD_FILE_STEP)}),this)),ne(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).on("click",ne.proxy((function(t){t.preventDefault();const s=e.getSelectedSectionUrls();e.submitUpload(),e.submitUploadTracking(s),e.updateRecentUploadSections(s)}),this)),ne(this.selectors.UPLOAD_POST_PICK_SECTION_BACK_BTN).on("click",ne.proxy((function(t){t.preventDefault(),e.showUploadStep(this.selectors.UPLOAD_INFO_STEP)}),this)),ne(this.selectors.UPLOAD_FILE_PREVIEW).on("click",ne.proxy((function(t){if(t.preventDefault(),null!=ne(e.selectors.UPLOAD_FILE_PREVIEW).find("img, video").attr("src")){var s=ne(e.selectors.UPLOAD_FILE_PREVIEW).find("img, video").clone().prop("autoplay",!0);e.showPostZoomOverlay(s),de.track("UploadAction","TapPreviewImage")}}))),ne(this.selectors.UPLOAD_URL_INPUT).keypress((function(t){13==t.which&&e.urlNext(),t.stopPropagation()})).on("paste",(function(t){setTimeout((function(){e.urlNext()}),50),t.stopPropagation()})),ne(this.selectors.UPLOAD_TAG_INPUT).keydown((function(t){if(t.which===e.COMMA_KEY&&t.preventDefault(),t.which===e.ENTER_KEY||t.which===e.COMMA_KEY){var s=ne(this).val().trim();if(""===s)return;var o="";if(s.match(/[,~`!@#$%^&*(){}[\];:"'<.>?\/\\|_+=]/)&&(o="Oops! Tags can contain alphanumerics, numbers and spaces only!"),s.length<ne(this).data("lengthmin")&&(o="Oops! Tag is too short"),s.length>ne(this).data("lengthmax")&&(o="Oops! Tag is too long"),e.showUploadStep(e.selectors.UPLOAD_TAG_STEP,o),""!==o)return;ne(e.selectors.UPLOAD_TAG_LIST).append('<span class="tag tag-item badge-upload-tag-item" data-tag="'+s+'">'+s+'<span class="remove badge-upload-tag-remove">&times;</span></span>'),ne(this).val(""),ne(this).removeAttr("placeholder");var r=ne(e.selectors.UPLOAD_TAG_SCROLL_CONTAINER).width();ne(e.selectors.UPLOAD_TAG_SCROLL_CONTAINER).scrollLeft(r),ne(e.selectors.UPLOAD_TAG_LIST).children().length===ne(this).data("countmax")&&ne(this).hide()}if(t.which===e.BACKSPACE_KEY&&""===ne(e.selectors.UPLOAD_TAG_INPUT).val()){var i=ne(e.selectors.UPLOAD_TAG_LIST).children().length;i>0&&ne(e.selectors.UPLOAD_TAG_LIST+" span:nth-child("+i+")").remove(),e._checkTagField()}})),ne(this.selectors.UPLOAD_TAG_FIELD).on("click",this.selectors.UPLOAD_TAG_REMOVE,(function(t){ne(this).parent().remove(),e._checkTagField()})),ne(this.selectors.UPLOAD_TITLE_INPUT).on("keydown input",ne.proxy((function(e){setTimeout(ne.proxy(this._setCharCount,this,e),50)}),this)),ne(this.selectors.UPLOAD_URL_INPUT).on("keydown input",ne.proxy((function(e){setTimeout(ne.proxy(this._validateUrl,this,e),50)}),this)),ne(this.selectors.UPLOAD_SOURCE_CHECKBOX).on("change",ne.proxy(this._updateSourceFields,this))},showPostZoomOverlay:function(e){ne(x.selectors.MODAL_POST_ZOOM_CONTAINER).find(".badge-post-zoom-img").html(e),ne(x.selectors.MODAL_POST_ZOOM_CONTAINER).find("video").prop({loop:!0}),x.showOverlay(x.selectors.MODAL_POST_ZOOM_CONTAINER),x._hideAllOverlayReturnToUpload=!0,x.setHideUsingBackground(!0)},submitUpload:function(){var e=this,t=ne(this.selectors.UPLOAD_TITLE_INPUT).val(),s=0;ne(this.selectors.UPLOAD_IS_NSFW).is(":checked")&&(s=1);var o=ne(this.selectors.UPLOAD_FILE_ID).val(),r=this.getSelectedSectionUrls(),i=ne(this.selectors.UPLOAD_SOURCE_INPUT_TEXTBOX).val(),n=ne("[name=g-recaptcha-response]",this.selectors.UPLOAD_INFO_STEP).val(),a=ne(this.selectors.UPLOAD_CSRF_TOKEN).val(),c=0,l=[];ne(this.selectors.UPLOAD_TAG_LIST).children().each((function(){l.push(ne(this).data("tag"))})),l=l.join(","),this._profileOnly&&(c=1);var d={title:t,nsfw:s,uploadId:o,type:"Photo",section:r,source:i,"g-recaptcha-response":n,csrftoken:a,skipFromLists:c,tags:l};ne(this.selectors.SECTION_LIST).addClass("disabled"),ne(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).addClass("disabled"),ne(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).text("Posting"),ne(this.selectors.UPLOAD_POST_PICK_SECTION_BACK_BTN).addClass("disabled"),ne(ae.OverlayController.selectors.OVERLAY_CLOSE_BUTTON).addClass("hide");var u=function(t){var s=t&&t.message&&t.message.length?t.message:"Error occurred. Please try again.";e.showUploadStep(pe.selectors.UPLOAD_INFO_STEP,s),ne(e.selectors.SECTION_LIST).removeClass("disabled"),ne(e.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).removeClass("disabled"),ne(e.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).text("Post"),ne(e.selectors.UPLOAD_POST_PICK_SECTION_BACK_BTN).removeClass("disabled"),ne(ae.OverlayController.selectors.OVERLAY_CLOSE_BUTTON).removeClass("hide")};ne.ajax({type:"POST",dataType:"json",url:"/submit",data:d,success:function(e){if(e.okay)return V.Z.dispatch("user/ADD_UPLOAD",e.postId),void(window.location.href=e.postUrl);u(e)},error:function(){u()}})},updateRecentUploadSections(e=[]){e.forEach((e=>V.Z.dispatch("section/ADD_RECENT_UPLOAD_SECTION",e)))},submitUploadTracking(e=[]){const t=V.Z.getters["section/GET_FAVORITE_SECTIONS_URLS"]||[],s=V.Z.getters["section/GET_RECENT_UPLOAD_SECTIONS_URLS"]||[];de.track("UploadAction","SubmitUpload"),e.forEach((e=>{s.includes(e)?de.track("UploadAction","SubmitUploadRecentSection"):t.includes(e)&&de.track("UploadAction","SubmitUploadFavSection")}))},getSelectedSectionUrls:function(){return this._section?[this._section]:[]}});const he=pe;var me=s(9963);const ge={key:0},fe={id:"page"},ye=(0,B.Wm)("div",{class:"clearfix"},null,-1);var Oe=s(1487),be=s(7219);const _e={class:"main-wrap"},ve=(0,B.Wm)("div",{id:"comment"},null,-1),Se=(0,B.Wm)("div",{id:"comments"},null,-1),Te={class:"post-comment"},we={id:"individual-post"},Ee={ref:"header"},Pe={ref:"container",class:"post-container"},Ie={class:"post-text-container"},Ae={key:1,class:"source"},ke=(0,B.Uk)(" Source: "),De={class:"post-meta"},Ce=(0,B.Uk)("  ");var Ue=s(8267);function Le(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Ne(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Le(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:je}=(0,q._p)("post"),Re={props:{postId:String,mediaId:String},computed:Ne(Ne({},je({getPost:"GET_POST"})),{},{_postId(){return this.postId||null},_mediaId(){return this.mediaId||null},isMedia(){return!!this._mediaId},post(){const e=this.getPost(this._postId);return this.isMedia?e.article.medias[this._mediaId]:e},postTitle(){return this.post.title},postUrl(){return this.post.postUrl},postImages(){return this.post.images}})},Me={props:{eventKey:String,postId:String,position:Number},computed:{getEntryEventParams(){return`PostList,TapPost,${y.Z.getPageKey()},,${this.eventKey}`}},methods:{click(){this.$refs.anchor.click()}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("a",{"data-evt":i.getEntryEventParams,"data-entry-id":s.postId,"data-position":s.position,ref:"anchor"},[(0,B.WI)(e.$slots,"default")],8,["data-evt","data-entry-id","data-position"])}};var xe=s(6296).default;function We(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Ve(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?We(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):We(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:Be}=(0,q._p)("user"),{mapGetters:Ge}=(0,q._p)("commentSystem/comment"),Fe={components:{TapPost:Me},props:{postId:String,position:Number},mixins:[Ue.Z,Re],computed:Ve(Ve(Ve({},Be(["uploads"])),Ge({commentsCount:"totalCount"})),{},{postUpVoteCount(){return this.post.upVoteCount},postCommentsCount(){return this.isPostView&&this.commentsCount?this.commentsCount:this.post.commentsCount},isVoteMasked(){return this.post.isVoteMasked},target(){return this.isPostView?"_self":"_blank"},pointUrl(){return this.isPostView?"javascript:void(0);":this.postUrl},commentUrl(){return this.postUrl+"#comment"},points(){return this.isVoteMasked&&!this.uploads.includes(this.postId)?" points":this.metaDisplay(this.postUpVoteCount,"point")},comments(){return this.metaDisplay(this.postCommentsCount,"comment")}}),methods:{metaDisplay:(e,t)=>1===e?`1 ${t}`:xe.integerWithCommas(e)+` ${t}s`},render:function(e,t,s,o,r,i){const n=(0,B.up)("TapPost");return(0,B.wg)(),(0,B.j4)("p",De,[(0,B.Wm)(n,{class:"point badge-evt",href:i.pointUrl,postId:s.postId,position:s.position,target:i.target,eventKey:"Point"},{default:(0,B.w5)((()=>[(0,B.Uk)((0,G.zw)(i.points),1)])),_:1},8,["href","postId","position","target"]),Ce,(0,B.Wm)(n,{class:"comment badge-evt",href:i.commentUrl,postId:s.postId,position:s.position,target:i.target,eventKey:"CommentCountText"},{default:(0,B.w5)((()=>[(0,B.Uk)((0,G.zw)(i.comments),1)])),_:1},8,["href","postId","position","target"])])}},Ze={key:0,class:"post-tag"};var $e=s(8209);const He={props:{postId:String},mixins:[$e.Z,Ue.Z,Re],computed:{category(){return this.isPostView?"PostAction":"PostList"},postTags(){return this.post.tags}},render:function(e,t,s,o,r,i){return i.postTags&&i.postTags.length>0?((0,B.wg)(),(0,B.j4)("div",Ze,[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(i.postTags,(t=>((0,B.wg)(),(0,B.j4)("a",{target:"_blank",href:`${t.url}?ref=post-tag`,onClick:s=>e.track(i.category,"ViewTag",{"post-tag-label":t.key})},(0,G.zw)(t.key),9,["href","onClick"])))),256))])):(0,B.ry)("",!0)}},Ke={class:"fixed-wrap-post-bar"},ze={class:"post-afterbar-a in-post-top"},Ye={class:"vote"},qe={class:"share"},Je={class:"vote left"},Xe={class:"post-nav"},Qe=(0,B.Wm)("span",{class:"label"},"Next Post",-1),et=(0,B.Wm)("span",{class:"arrow"},null,-1),tt=(0,B.Wm)("span",null,"UP",-1),st=(0,B.Wm)("span",null,"DOWN",-1);var ot=s(5384),rt=s(1653).default;function it(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function nt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?it(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):it(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapActions:at}=(0,q._p)("post"),{mapGetters:ct,mapActions:lt}=(0,q._p)("user"),dt={mixins:[ot.Z,Ue.Z,Re],props:{postId:String,position:Number},computed:nt(nt({},ct({getUserScore:"GET_USER_SCORE"})),{},{postUserScore(){return this.getUserScore(this.postId)}}),methods:nt(nt(nt({},lt({addVote:"ADD_VOTE"})),at({updateVoteCount:"UPDATE_VOTE_COUNT"})),{},{tracking(e){this.isPostView?rt.trackEvent("PostAction",e,this.postId):rt.trackEvent("PostList",e,y.Z.getPageKey(),"",{PostKey:this.postId,Position:this.position})},vote(e){const t=this.postUserScore,s=e[this.postId];this.addVote(e),this.updateVoteCount({postId:this.postId,currentScore:t,newScore:s})},onVoteUp(){const e=this.postUrl;if(this.ensureLoggedIn(e)){let e={};1===this.postUserScore?(I.unlike(this.postId),this.tracking("UnvotePost"),e[this.postId]=0):(I.like(this.postId),this.tracking("UpvotePost"),e[this.postId]=1),this.vote(e)}},onVoteDown(){const e=this.postUrl;if(this.ensureLoggedIn(e)){let e={};-1===this.postUserScore?(I.unlike(this.postId),this.tracking("UnvotePost"),e[this.postId]=0):(I.dislike(this.postId),this.tracking("DownvotePost"),e[this.postId]=-1),this.vote(e)}}}),mounted(){D.Z.$on(`post::voteUp::${this.postId}`,this.onVoteUp),D.Z.$on(`post::voteDown::${this.postId}`,this.onVoteDown)},beforeUnmount(){D.Z.$off(`post::voteUp::${this.postId}`,this.onVoteUp),D.Z.$off(`post::voteDown::${this.postId}`,this.onVoteDown)},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("ul",{class:["btn-vote left",{up:1===i.postUserScore,down:-1===i.postUserScore}]},[(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:["up",{active:1===i.postUserScore}],onClick:t[1]||(t[1]=(...e)=>i.onVoteUp&&i.onVoteUp(...e)),href:"javascript:void(0);"},[tt],2)]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:["down",{active:-1===i.postUserScore}],onClick:t[2]||(t[2]=(...e)=>i.onVoteDown&&i.onVoteDown(...e)),href:"javascript:void(0);"},[st],2)])],2)}};var ut=s(5652),pt=s(3063),ht=s(5652).default,mt=function(){var e={init:function(){},_isRequesting:!1,deleteEntry:function(t){if(mt._isRequesting)return;const s={entryId:t};pt.ajax({type:"DELETE",url:"/v1/post",dataType:"json",data:s,beforeSend:function(){e._isRequesting=!0},complete:function(){e._isRequesting=!1},success:function(e){e.data.okay?ht.track("PostAction","DeleteSuccess",t):ht.track("PostAction","DeleteFail",t),window.location="/"},error:function(){ht.track("PostAction","DeleteFail",t),window.location="/"}})}};return{init:e.init,deleteEntry:e.deleteEntry}}();const gt=mt;var ft=s(3822);const yt={getShareTrackingParams(e,t,s){const o=t?"p":"l";let r="";switch(e){case"facebook":r=`social,fb.s,,,d,${s},${o})`;break;case"twitter":r=`social,t.s,,,d,${s},${o})`;break;case"pinterest":r=`social,pn.s,,,d,${s},${o}`;break;case"email":r=`social,9g.m,,,d,${s},${o}`;break;default:r=""}return r},getShareEventParams(e,t,s){const o="Post"===t?"PostAction":"PostList",r="Post"===t&&s?s:t;let i="";switch(e){case"facebook":i="FacebookButton";break;case"facebook-bottom":i="FacebookBottomButton";break;case"twitter":i="TwitterButton";break;case"pinterest":i="PinterestButton";break;case"pinterest-bottom":i="PinterestBottomButton";break;case"email":i="EmailButton"}return`${o},ShareSocial,${r},,${i}`},getShareTitle(e,t){let s="";switch(t){case"twitter":case"pinterest":s=encodeURI(e);break;default:s=e}return s},getShareUrl(e,t){let s=null;switch(e){case"facebook":s="fb.s";break;case"twitter":s="t";break;case"pinterest":s="pn";break;case"email":s="9g.m"}const o={};s&&(o.ref=s);const r=hc.resolve({name:Oe.Z.POST_PAGE,params:{postId:t},query:o});return document.location.origin+r.href},getEmailShareUrl(e,t){const s=`This is funny, you must check it out! :D\n${e}\n${this.getShareUrl("email",t)}`;return`mailto:?subject=${encodeURI(`Check out "${e}"`)}&body=${encodeURI(s)}`},openShareWindow(e){const t=window.screen.height/2-230,s=window.screen.width/2-320;window.open(e,"Share","status=1,height=460,width=640,top="+t+",left="+s+",resizable=0")},reportEntry(e,t){const s=t?"PostAction":"PostList";ut.default.track(s,"TapReport",e),W.Z.showReportOverlay({type:ft.Z.TYPES.POST,objectId:e})},deleteEntry(e,t){const s=t?"PostAction":"PostList";ut.default.track(s,"TapDelete",e),confirm("Confirm to delete this post?")&&gt.deleteEntry(e)}},Ot={mixins:[Re,Ue.Z],props:{postId:String,position:Number},methods:{getShareTrackingParams(e){return yt.getShareTrackingParams(e,this.isPostView,this.postId)},getShareEventParams(e){return yt.getShareEventParams(e,y.Z.getPageKey(),this.postId)},getShareTitle(e){return yt.getShareTitle(this.postTitle,e)},getShareUrl(e){return yt.getShareUrl(e,this.postId)},getShareImg(e){return this.postImages[e]&&this.postImages[e].url||""},clickFbShare(){const e=this.getShareUrl("facebook"),t="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e);yt.openShareWindow(t)},clickPinterestShare(){const e=this.getShareUrl("pinterest"),t=this.getShareImg("image700"),s=this.getShareTitle("pinterest"),o="//pinterest.com/pin/create/button/?url="+encodeURIComponent(e)+"&media="+encodeURIComponent(t)+"&description="+s;yt.openShareWindow(o)}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("ul",null,[(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"badge-evt badge-track btn-share facebook",href:"javascript:void(0);",onClick:t[1]||(t[1]=(0,me.iM)((e=>i.clickFbShare()),["prevent"])),"data-track":i.getShareTrackingParams("facebook"),"data-evt":i.getShareEventParams("facebook"),"data-entry-id":s.postId,"data-position":s.position}," Facebook ",8,["data-track","data-evt","data-entry-id","data-position"])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"badge-evt badge-track btn-share pinterest",href:"javascript:void(0);",onClick:t[2]||(t[2]=(0,me.iM)((e=>i.clickPinterestShare()),["prevent"])),"data-track":i.getShareTrackingParams("pinterest"),"data-evt":i.getShareEventParams("pinterest"),"data-entry-id":s.postId,"data-position":s.position}," Pinterest ",8,["data-track","data-evt","data-entry-id","data-position"])])])}},bt={class:"btn-vote left"},_t={key:0},vt={key:2};var St=s(2676);const Tt={TYPE_PHOTO:"Photo",TYPE_ANIMATED:"Animated",TYPE_VIDEO:"Video",TYPE_EMBED_VIDEO:"EmbedVideo",TYPE_ARTICLE:"Article"};var wt=s(4564),Et=s.n(wt),Pt=s(6238),It=s(24),At=s(8912).default;function kt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Dt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:Ct,mapGetters:Ut}=(0,q._p)("user"),{mapActions:Lt}=(0,q._p)("toast"),Nt={mixins:[Ue.Z,ot.Z,$e.Z,Re],props:{postId:String,position:Number},computed:Dt(Dt(Dt({},Ct(["uploads"])),Ut({safeMode:"SAFE_MODE"})),{},{showReport(){return!this.uploads.includes(this.postId)},downloadUrl(){const e=this.post;if(this.post.nsfw&&this.safeMode)return null;let t;return e.type===Tt.TYPE_PHOTO?t=e.images.image700.url:e.type===Tt.TYPE_ANIMATED&&(t=e.images.image460sv.url),t?new(Et())(t).pathname:null}}),methods:Dt(Dt({},Lt({displayToast:It.ot.DISPLAY_TOAST})),{},{getShareTrackingParams(e){return yt.getShareTrackingParams(e,this.isPostView,this.postId)},getShareEventParams(e){return yt.getShareEventParams(e,y.Z.getPageKey(),this.postId)},getShareTitle(e){return yt.getShareTitle(this.postTitle,e)},getShareUrl(e){return yt.getShareUrl(e,this.postId)},getEmailShareUrl(){return yt.getEmailShareUrl(this.postTitle,this.postId)},clickTwitterShare(){const e=this.getShareUrl("twitter"),t=this.getShareTitle("twitter"),s="https://twitter.com/intent/tweet?via=9GAG&source=tweetbutton&original_referer="+encodeURIComponent(e)+"&text="+t+"&url="+encodeURIComponent(e);yt.openShareWindow(s)},clickReport(){this.ensureLoggedIn()&&yt.reportEntry(this.postId,this.isPostView)},clickDelete(){this.ensureLoggedIn()&&yt.deleteEntry(this.postId,this.isPostView)},clickDislike(){this.ensureLoggedIn()&&St.Z.reportEntity(ft.Z.TYPES.POST,this.postId,ft.Z.TYPE_DISLIKE.type)},clickRepost(){this.ensureLoggedIn()&&St.Z.reportEntity(ft.Z.TYPES.POST,this.postId,ft.Z.TYPE_REPOST.type)},clickDownload(){this.trackLabel("PostAction","DownloadMedia",this.postId)},clickCopyLink(){this.trackLabel("PostAction","CopyUrl",this.postId),Pt.Z.copyText(this.getShareUrl()).then((()=>this.displayToast({type:At.INFO,msg:"Link Copied.",dismiss:!0})))}}),render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("ul",null,[(0,B.Wm)("li",null,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.clickCopyLink&&i.clickCopyLink(...e))},"Copy link")]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"badge-evt badge-track",href:i.getEmailShareUrl(),"data-track":i.getShareTrackingParams("email"),"data-evt":i.getShareEventParams("email"),"data-entry-id":s.postId,"data-position":s.position,target:"_blank"}," Email ",8,["href","data-track","data-evt","data-entry-id","data-position"])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"badge-evt badge-track twitter",href:"javascript:void(0);",onClick:t[2]||(t[2]=(0,me.iM)((e=>i.clickTwitterShare()),["prevent"])),"data-track":i.getShareTrackingParams("twitter"),"data-evt":i.getShareEventParams("twitter"),"data-entry-id":s.postId,"data-position":s.position}," Twitter ",8,["data-track","data-evt","data-entry-id","data-position"])]),i.downloadUrl?((0,B.wg)(),(0,B.j4)("li",_t,[(0,B.Wm)("a",{href:i.downloadUrl,onClick:t[3]||(t[3]=(...e)=>i.clickDownload&&i.clickDownload(...e)),download:""},"Download",8,["href"])])):(0,B.ry)("",!0),i.showReport?((0,B.wg)(),(0,B.j4)(B.HY,{key:1},[(0,B.Wm)("li",null,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[4]||(t[4]=(0,me.iM)((e=>i.clickDislike()),["prevent"]))},"I don't like this")]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[5]||(t[5]=(0,me.iM)((e=>i.clickRepost()),["prevent"]))},"I've seen this")]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[6]||(t[6]=(0,me.iM)((e=>i.clickReport()),["prevent"]))},"Report")])],64)):((0,B.wg)(),(0,B.j4)("li",vt,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[7]||(t[7]=(0,me.iM)((e=>i.clickDelete()),["prevent"]))},"Delete")]))])}};var jt=s(2649);const Rt={beforeMount:(e,t,s)=>{function o(t){var s=t.path||t.composedPath&&t.composedPath();s&&s.length>0&&s.unshift(t.target),e.contains(t.target)||e.__vueClickOutside__.callback(t)}e.__vueClickOutside__={handler:o,callback:t.value};const r="ontouchstart"in document.documentElement?"touchstart":"click";document.addEventListener(r,o)},updated:jt.update,unmounted:jt.unbind},Mt={mixins:[$e.Z,Ue.Z],props:{postId:String,position:Number},directives:{ClickOutside:Rt},data:()=>({showMenu:!1}),computed:{trackingCVars:function(){const e={PostKey:this.postId};return this.position&&(e.Position=this.position),e}},methods:{clickMenu(){this.showMenu?this.hideMenu():(this.showMenu=!0,this.trackLabel("PostAction","OpenMoreMenu",this.postId,this.trackingCVars))},hideMenu(){this.showMenu=!1,this.trackLabel("PostAction","CloseMoreMenu",this.postId,this.trackingCVars)}},components:{PostExtraMenuContent:Nt},render:function(e,t,s,o,r,i){const n=(0,B.up)("PostExtraMenuContent"),a=(0,B.Q2)("click-outside");return(0,B.wg)(),(0,B.j4)("div",null,[(0,B.Wm)("ul",bt,[(0,B.Wm)("a",{class:"more",href:"javascript:void(0);",onClick:t[1]||(t[1]=(0,me.iM)(((...e)=>i.clickMenu&&i.clickMenu(...e)),["stop"]))}," More ")]),r.showMenu?(0,B.wy)(((0,B.wg)(),(0,B.j4)("div",{key:0,class:["popup-menu",[e.isPostView?"postpage-share":"listview-share"]]},[(0,B.Wm)(n,{postId:s.postId,position:s.position,onClick:i.hideMenu},null,8,["postId","position","onClick"])],2)),[[a,i.hideMenu]]):(0,B.ry)("",!0)])}};function xt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Wt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapActions:Vt}=(0,q._p)("post"),Bt={methods:Wt(Wt({},Vt({toNextPost:"TO_NEXT_POST",toPrevPost:"TO_PREV_POST"})),{},{nearPost(e,t){t&&(this.track("PostAction",e,this.postId),this.$router.push(this.getPostRoute(t)))},nextPost(){return this.toNextPost().then((e=>{this.nearPost("NextPost",e)}))},prevPost(){return this.toPrevPost().then((e=>{this.nearPost("PrevPost",e)}))}}),mixins:[$e.Z,Ue.Z]},Gt={props:{postId:String,position:Number},components:{PostVote:dt,PostShare:Ot,PostExtraMenuBtn:Mt},mixins:[Bt],render:function(e,t,s,o,r,i){const n=(0,B.up)("PostVote"),a=(0,B.up)("PostShare"),c=(0,B.up)("PostExtraMenuBtn");return(0,B.wg)(),(0,B.j4)("div",Ke,[(0,B.Wm)("div",ze,[(0,B.Wm)("div",Ye,[(0,B.Wm)(n,{postId:s.postId,position:s.position},null,8,["postId","position"])]),(0,B.Wm)("div",qe,[(0,B.Wm)(a,{postId:s.postId,position:s.position},null,8,["postId","position"])]),(0,B.Wm)("div",Je,[(0,B.Wm)(c,{postId:s.postId,position:s.position},null,8,["postId","position"])]),(0,B.Wm)("div",Xe,[(0,B.Wm)("a",{class:"next",href:"javascript:void(0)",role:"button",onClick:t[1]||(t[1]=(...t)=>e.nextPost&&e.nextPost(...t))},[Qe,et])])])])}},Ft={key:1},Zt={key:2},$t={key:3},Ht={key:4},Kt={class:"image-post post-view"},zt={ref:"image"},Yt={MAX_WIDTH:640,LIST_VIEW_WIDTH:500,LIST_VIEW_MAX_HEIGHT:500,POST_VIEW_WIDTH:640,POST_VIEW_MAX_HEIGHT:640,getPostViewMinHeight(e,t,s=!1){let o=e=e/t*this.POST_VIEW_WIDTH;return s&&e>this.POST_VIEW_MAX_HEIGHT&&(o=this.POST_VIEW_MAX_HEIGHT),o},getListViewPhoto(e,t){const s=this._calculateScaleByWidth(this.LIST_VIEW_WIDTH,e,t);return{minHeight:`${s.height}px`,padding:`0 ${this.MAX_WIDTH/2-s.width/2}px`}},getListViewCover(e,t){return{minHeight:`${this._calculateScaleByWidth(this.MAX_WIDTH,e,t).height}px`}},_calculateScaleByWidth:(e,t,s)=>({width:e,height:t*e/s}),getAnimatedPhoto(e,t,s){if(s){const s=this.getPostViewMinHeight(e,t,!0);return{width:t/e*s+"px",height:`${s}px`}}const o=this.MAX_WIDTH,r=this.LIST_VIEW_MAX_HEIGHT;let{width:i,height:n}=this._calculateScaleByWidth(o,e,t);return n>r&&(i=t/e*r,n=r),{width:`${i}px`,height:`${n}px`,padding:`0 ${o/2-i/2}px`}}};var qt=s(2662).default,Jt=s(1931).default;const Xt={mixins:[Re],props:{postId:String,mediaId:String},computed:{imageHeight(){return this.postImages[this._displayType].height},imageWidth(){return this.postImages[this._displayType].width},styleObj(){return{minHeight:`${Yt.getPostViewMinHeight(this.imageHeight,this.imageWidth,!1)}px`}},isZoomPost(){return this.imageWidth>Yt.POST_VIEW_WIDTH},imageUrl(){return this.postImages[this._displayType].url},imageWebpUrl(){return this.postImages[this._displayType].webpUrl}},methods:{zoomPost(){if(!this.isZoomPost)return;const e="jsid-modal-post-zoom";document.getElementById(e).querySelector(".badge-post-zoom-img").innerHTML=this.$refs.image.outerHTML,qt.OverlayController.showOverlay(`#${e}`,!1)},downloadFail(){Jt.downloadFail(this.imageUrl)}},created(){this._displayType="image700"},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("a",{href:"javascript: void(0);",onClick:t[2]||(t[2]=(0,me.iM)(((...e)=>i.zoomPost&&i.zoomPost(...e)),["prevent"])),class:{zoomable:i.isZoomPost},style:i.styleObj},[(0,B.Wm)("div",Kt,[(0,B.Wm)("picture",zt,[i.imageWebpUrl?((0,B.wg)(),(0,B.j4)("source",{key:0,srcset:i.imageWebpUrl,type:"image/webp"},null,8,["srcset"])):(0,B.ry)("",!0),((0,B.wg)(),(0,B.j4)("img",{key:s.postId,src:i.imageUrl,alt:e.postTitle,style:i.styleObj,onErrorOnce:t[1]||(t[1]=(...e)=>i.downloadFail&&i.downloadFail(...e)),loading:"lazy"},null,44,["src","alt"]))],512)])],6)}},Qt=(0,B.HX)("data-v-1c71fefa");(0,B.dD)("data-v-1c71fefa");const es={class:"post-view post-sensitive-mask"},ts={class:"post-sensitive-mask__body"};(0,B.Cn)();const ss=Qt(((e,t,s,o,r,i)=>{const n=(0,B.up)("SensitiveMask");return(0,B.wg)(),(0,B.j4)("div",es,[(0,B.Wm)("div",ts,[(0,B.Wm)(n,{maskId:s.post.id,onOnUnmask:i.onUnmask,onOnSettingsClick:i.onSettingsClick},null,8,["maskId","onOnUnmask","onOnSettingsClick"])])])}));var os=s(6844);const rs={mixins:[ot.Z,$e.Z,Ue.Z],props:{post:Object},components:{SensitiveMask:os.Z},methods:{onSettingsClick(){this.ensureLoggedIn(this.post.url)&&this.$router.push({name:Oe.Z.SETTINGS})},onUnmask(){this.track(this.isPostView?"PostAction":"PostList","TapUnmask",this.post.id),this.ensureLoggedIn(this.post.url)}}};s(9501),rs.render=ss,rs.__scopeId="data-v-1c71fefa";const is=rs,ns={class:"image-post post-view"},as={class:"post-read-more"};var cs=s(1931).default;const ls={mixins:[Ue.Z,Re],components:{TapPost:Me},props:{postId:String,position:Number},computed:{displayType(){return this.hasLongPostCover?"image460c":"image460"},isArticle(){return this.post.type===Tt.TYPE_ARTICLE},hasLongPostCover(){return this.post.hasLongPostCover},imageHeight(){return this.postImages[this.displayType].height},imageWidth(){return this.postImages[this.displayType].width},styleObj(){return this.canShowViewFullPageBtn?Yt.getListViewCover(this.imageHeight,this.imageWidth):Yt.getListViewPhoto(this.imageHeight,this.imageWidth)},imageUrl(){return this.postImages[this.displayType].url},imageWebpUrl(){return this.postImages[this.displayType].webpUrl},canShowViewFullPageBtn(){return this.hasLongPostCover||this.isArticle},imageEventKey(){return this.isArticle?"ArticlePostImage":this.hasLongPostCover?"LongPostImage":"PostImage"},buttonEventKey(){return this.isArticle?"ArticlePostViewFullPost":this.hasLongPostCover?"LongPostViewFullPost":"ViewFullPost"}},methods:{downloadFail(){cs.downloadFail(this.imageUrl)}},render:function(e,t,s,o,r,i){const n=(0,B.up)("TapPost");return(0,B.wg)(),(0,B.j4)("div",{class:{"read-more":i.canShowViewFullPageBtn}},[(0,B.Wm)(n,{href:e.postUrl,class:"badge-evt badge-track",postId:s.postId,position:s.position,target:"_blank",eventKey:i.imageEventKey},{default:(0,B.w5)((()=>[(0,B.Wm)("div",ns,[(0,B.Wm)("picture",null,[i.imageWebpUrl?((0,B.wg)(),(0,B.j4)("source",{key:0,srcset:i.imageWebpUrl,type:"image/webp"},null,8,["srcset"])):(0,B.ry)("",!0),(0,B.Wm)("img",{src:i.imageUrl,alt:e.postTitle,style:i.styleObj,onErrorOnce:t[1]||(t[1]=(...e)=>i.downloadFail&&i.downloadFail(...e)),loading:"lazy"},null,44,["src","alt"])])])])),_:1},8,["href","postId","position","eventKey"]),i.canShowViewFullPageBtn?((0,B.wg)(),(0,B.j4)(n,{key:0,class:"badge-evt",postId:s.postId,position:s.position,href:e.postUrl,target:"_blank",eventKey:i.buttonEventKey},{default:(0,B.w5)((()=>[(0,B.Wm)("div",as,(0,G.zw)(e.post.board?"Open board":"Read post"),1)])),_:1},8,["postId","position","href","eventKey"])):(0,B.ry)("",!0)],2)}};var ds=s(4177),us=s(9669),ps=s.n(us),hs=s(7361),ms=s.n(hs);const gs=new class{async getEmbedData(e){const t="/v1/instagram-embed?url="+e;try{const{data:e={}}=await ps().get(t);return ms()(e,"data.embed",{})}catch(e){return{}}}};var fs=s(9198).default,ys=s(28).default,Os=s(3036).default;function bs(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function _s(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bs(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const vs={mixins:[Ue.Z,Re],components:{TapPost:Me},data:()=>({player:null,isPlaying:!1,instagramHtml:""}),props:{postId:String,mediaId:String,streamId:String,position:Number},watch:{postId(){this.removePlayer(),this.createPlayer()},autoPlayEvent(e,t){this.toggleVideo({action:e,mute:!0})},showCover(e,t){this.player||!e&&t&&this.createPlayer()}},computed:{isEmbedVideo(){return this.post.type===Tt.TYPE_EMBED_VIDEO},postVideo(){return this.post.video},autoPlayEvent(){return this.post.autoPlayEvent},showCover(){return!this.isPlaying},styleObj(){return this.isInstagram?{}:{height:`${this.videoDimension.height}px`}},coverStyleObj(){let e={backgroundImage:`url('${this.postImages.image460.url}')`};return this.isEmbedVideo?_s(_s({},e),{},{backgroundSize:"cover",width:`${this.videoDimension.width}px`,height:`${this.videoDimension.height}px`}):e},videoDimension(){const e=Yt.MAX_WIDTH;if(!this.isEmbedVideo)return{width:e,height:e/16*9};const{width:t,height:s}=this.postImages.image460;return{width:e,height:e*s/t}},playerId(){return this.isEmbedVideo||!this.player?null:this.player.getPlayerId()},videoSrc(){return this.isEmbedVideo?this.postVideo.embedUrl:`https://www.youtube.com/embed/${this.postVideo.id}?modestbranding=1&iv_load_policy=3&rel=0&enablejsapi=1&start=${this.postVideo.startTs}`},isInstagram(){return this.isEmbedVideo&&this.postVideo.embedUrl&&this.postVideo.embedUrl.includes("www.instagram.com")}},methods:{createPlayer(){this.isEmbedVideo||(this.player=new fs({id:this.postVideo.id,onStart:e=>{},onPause:e=>{},onSeek:e=>{},onPercentageChange:({percentage:e,isPlaying:t,time:s,duration:o})=>{ys.onVideoTimeUpdate({key:this.postId,domId:ds.default.getPostDomId(this.postId)},t,s,o,this.postVideo.startTs)},onResume:e=>{},onEnded:()=>{},onReady:()=>{const e=this.isMedia?null:"play";this.toggleVideo({action:e,mute:!0})}}),this.$nextTick((()=>this.player.start())))},startPlayer(){this.isPlaying=!0},removePlayer(){this.player&&(this.player.stop(),this.player=null)},busEventTabChangeAction(){this.player&&this.player.pause()},busEventTogglePlay(){if(this.isEmbedVideo)return void(this.isPlaying=!this.isPlaying);if(!this.player)return void this.startPlayer();const e=this.player.getCurrentState();e&&this.toggleVideo({action:e.isPlaying?"pause":"play"})},toggleVideo(e){this.isEmbedVideo?this.isPlaying="play"===e.action:this.player?(e.mute&&this.player.mute(),"play"===e.action&&this.player.play(),"pause"===e.action&&this.player.pause()):this.startPlayer()},onArchived(){this.removePlayer(),this.isPlaying=!1},async loadInstagramEmbed(){const{html:e=""}=await gs.getEmbedData(this.videoSrc);this.instagramHtml=e,window.instgrm?this.$nextTick((()=>{window.instgrm.Embeds.process()})):Os.loadScript("https://www.instagram.com/embed.js")}},created(){this.isPostView&&this.startPlayer(),this.isInstagram&&this.loadInstagramEmbed()},mounted(){this.streamId&&D.Z.$on(`post::streamArchived::${this.streamId}`,this.onArchived),D.Z.$on("post::tabChangeAction",this.busEventTabChangeAction),D.Z.$on(`post::togglePlay::${this.postId}`,this.busEventTogglePlay)},beforeUnmount(){this.streamId&&D.Z.$off(`post::streamArchived::${this.streamId}`,this.onArchived),D.Z.$off("post::tabChangeAction",this.busEventTabChangeAction),D.Z.$off(`post::togglePlay::${this.postId}`,this.busEventTogglePlay)},render:function(e,t,s,o,r,i){const n=(0,B.up)("TapPost");return(0,B.wg)(),(0,B.j4)("div",{class:["youtube-post post-view",{media:e.isMedia}],style:i.styleObj},[i.isInstagram?((0,B.wg)(),(0,B.j4)("div",{key:0,class:"instagram",innerHTML:r.instagramHtml},null,8,["innerHTML"])):i.showCover?((0,B.wg)(),(0,B.j4)(n,{key:1,href:e.postUrl,class:"badge-evt",postId:s.postId,position:s.position,eventKey:"PlayVideo"},{default:(0,B.w5)((()=>[(0,B.Wm)("div",{class:{"youtube-thumb":!i.isEmbedVideo},style:i.coverStyleObj,alt:e.postTitle,onClick:t[1]||(t[1]=(0,me.iM)(((...e)=>i.startPlayer&&i.startPlayer(...e)),["stop","prevent"]))},null,14,["alt"]),(0,B.Wm)("span",{onClick:t[2]||(t[2]=(0,me.iM)(((...e)=>i.startPlayer&&i.startPlayer(...e)),["stop","prevent"])),class:"play"})])),_:1},8,["href","postId","position"])):((0,B.wg)(),(0,B.j4)("iframe",{key:s.postId,id:i.playerId,width:i.videoDimension.width,height:i.videoDimension.height,src:i.videoSrc,scrolling:"no",frameborder:"0",allowfullscreen:"",allow:"encrypted-media"},null,8,["id","width","height","src"]))],6)}},Ss={key:1,class:"length"},Ts={class:"play"};var ws=s(5116),Es=s(6885),Ps=s.n(Es),Is=s(6296).default,As=s(28).default;function ks(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Ds(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ks(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapActions:Cs}=(0,q._p)("post"),{mapState:Us}=(0,q._p)("app"),Ls={mixins:[Ue.Z,$e.Z,Re],props:{postId:String,mediaId:String},data:()=>({showDuration:!0,soundOn:!1,playing:!1,timeoutId:null,clicked:!1}),watch:{postId(){const e=this.timeoutId;Object.assign(this.$data,this.$options.data()),this.startHideVideoDurationTimer(e)},autoPlayEvent(e,t){"play"===e?this.playing||this.$refs.videoPlayer.play():"pause"===e&&(this.playing&&this.$refs.videoPlayer.pause(),this.toggleSound({action:"off",track:!1})),!this.isMedia&&this.updatePostAutoPlay({autoPlayEvent:null,id:this.post.id})}},computed:Ds(Ds({},Us(["supportsH264","supportsH265","supportsAV1"])),{},{posterUrl(){return Ps()&&this.post.images.image460.webpUrl?this.post.images.image460.webpUrl:this.post.images.image460.url},mp4Path(){return this.post.images.image460sv.url},vp8Path(){return this.post.images.image460sv.vp8Url},vp9Path(){return this.post.images.image460sv.vp9Url},h265Path(){return this.post.images.image460sv.h265Url},av1Path(){return this.post.images.image460sv.av1Url},isAnimatedVideo(){return this.post.images.image460sv.hasAudio},videoDuration(){return this.post.images.image460sv.duration},autoPlayEvent(){return this.post.autoPlayEvent},autoplay(){return!this.isMedia&&this.isPostView},playIconText(){return this.isAnimatedVideo?"Play":"GIF"},videoDurationText(){return Is.secondsToTimeDisplay(this.videoDuration)},canShowVideoDuration(){return this.isAnimatedVideo&&this.videoDuration>0&&this.showDuration},style(){const e=this.post.images.image460sv,t=Yt.getAnimatedPhoto(e.height,e.width,this.isPostView),{padding:s}=t,o=(0,ws.Z)(t,["padding"]);return{wrapper:this.isPostView?null:t,video:o}}}),methods:Ds(Ds({},Cs({updatePostAutoPlay:"UPDATE_POST_AUTO_PLAY"})),{},{onTimeUpdate(){if(!this.clicked&&this.isPostView)return;const e=this.$refs.videoPlayer;e&&As.onVideoTimeUpdate({key:this.post.id,domId:ds.default.getPostDomId(this.post.id)},!e.paused,e.currentTime,e.duration,0)},onPlay(){this.playing=!0,this.showDuration=!0,this.startHideVideoDurationTimer()},onPause(){this.timeoutId&&clearTimeout(this.timeoutId),this.playing=!1,this.showDuration=!0},clickSoundIcon(e){e.stopPropagation(),e.preventDefault(),this.toggleSound()},toggleSound({action:e,track:t=!0}={}){this.soundOn="on"===e||"off"!==e&&!this.soundOn},toggleVideo(e,{track:t=!0}={}){this.$refs.videoPlayer.paused?(this.clicked=!0,this.toggleSound({action:"on",track:t}),this.$refs.videoPlayer.play()):this.isAnimatedVideo?this.toggleSound({track:t}):this.$refs.videoPlayer.pause()},startHideVideoDurationTimer(e){(e=e||this.timeoutId)&&clearTimeout(e),this.timeoutId=setTimeout((()=>{this.showDuration=!1}),3e3)},busEventTabChangeAction(){this.$refs.videoPlayer.pause()},busEventTogglePlay(){this.toggleVideo()}}),mounted(){this.startHideVideoDurationTimer(),(this.autoplay||this.post.autoPlayEvent)&&(this.playing=!0,this.$refs.videoPlayer.play()),D.Z.$on("post::tabChangeAction",this.busEventTabChangeAction),D.Z.$on(`post::togglePlay::${this.post.id}`,this.busEventTogglePlay)},beforeUnmount(){D.Z.$off("post::tabChangeAction",this.busEventTabChangeAction),D.Z.$off(`post::togglePlay::${this.post.id}`,this.busEventTogglePlay)},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("a",{href:e.isPostView?"javascript:void(0)":e.postUrl,"data-track":`post,p,,,d,${e.post.id},p`,class:"badge-track",target:"_blank",onClick:t[5]||(t[5]=(0,me.iM)(((...e)=>i.toggleVideo&&i.toggleVideo(...e)),["stop","prevent"]))},[(0,B.Wm)("div",{class:["post-view",[i.isAnimatedVideo?"video-post":"gif-post",{media:e.isMedia}]],style:i.style.wrapper},[((0,B.wg)(),(0,B.j4)("video",{key:s.postId,onTimeupdate:t[1]||(t[1]=(...e)=>i.onTimeUpdate&&i.onTimeUpdate(...e)),onPlay:t[2]||(t[2]=(...e)=>i.onPlay&&i.onPlay(...e)),onPause:t[3]||(t[3]=(...e)=>i.onPause&&i.onPause(...e)),preload:"auto",poster:i.posterUrl,style:i.style.video,loop:"",muted:!r.soundOn,autoplay:i.autoplay,ref:"videoPlayer"},[i.av1Path&&e.supportsAV1?((0,B.wg)(),(0,B.j4)("source",{key:0,src:i.av1Path,type:'video/mp4; codecs="av01.0.00M.08, opus"'},null,8,["src"])):(0,B.ry)("",!0),i.h265Path&&e.supportsH265?((0,B.wg)(),(0,B.j4)("source",{key:1,src:i.h265Path,type:'video/mp4; codecs="hvc1"'},null,8,["src"])):(0,B.ry)("",!0),i.vp9Path?((0,B.wg)(),(0,B.j4)("source",{key:2,src:i.vp9Path,type:'video/webm; codecs="vp9, opus"'},null,8,["src"])):(0,B.ry)("",!0),(0,B.Wm)("source",{src:i.mp4Path,type:"video/mp4"},null,8,["src"]),e.supportsH264?(0,B.ry)("",!0):((0,B.wg)(),(0,B.j4)("source",{key:3,src:i.vp8Path,type:"video/webm"},null,8,["src"]))],44,["poster","muted","autoplay"])),i.isAnimatedVideo?((0,B.wg)(),(0,B.j4)("div",{key:0,class:["sound-toggle",[r.soundOn?"on":"off"]],onClick:t[4]||(t[4]=(...e)=>i.clickSoundIcon&&i.clickSoundIcon(...e))},null,2)):(0,B.ry)("",!0),i.canShowVideoDuration?((0,B.wg)(),(0,B.j4)("p",Ss,(0,G.zw)(i.videoDurationText),1)):(0,B.ry)("",!0),(0,B.Wm)("div",{class:[r.playing?"hide":"presenting"]},[(0,B.Wm)("span",Ts,(0,G.zw)(i.playIconText),1)],2)],6)],8,["href","data-track"])}},Ns={class:"post-text-container"},js={key:1};var Rs=s(8062);const Ms={data:()=>({html:""}),props:{postId:String,blockId:Number},mixins:[Re],computed:{block(){return this.post.article.blocks[this.blockId]}},async created(){const e=this.block.content;e.length&&(this.html=await Rs.Z.render(e))},render:function(e,t,s,o,r,i){return r.html?((0,B.wg)(),(0,B.j4)("div",{key:0,innerHTML:r.html},null,8,["innerHTML"])):((0,B.wg)(),(0,B.j4)("br",js))}},xs={key:0};var Ws=s(4177).default;const Vs={name:"PostContentArticleMedia",props:{postId:String,blockId:Number},mixins:[Re],computed:{block(){return this.post.article.blocks[this.blockId]},media(){return this.post.article.medias[this.block.mediaId]},postDomId(){return Ws.getPostDomId(this.media.id)}},render:function(e,t,s,o,r,i){const n=(0,B.up)("PostContent");return(0,B.wg)(),(0,B.j4)("figure",{class:"img-container",id:i.postDomId},[(0,B.Wm)(n,{postId:s.postId,mediaId:i.media.id},null,8,["postId","mediaId"]),i.block.caption?((0,B.wg)(),(0,B.j4)("figcaption",xs,(0,G.zw)(i.block.caption),1)):(0,B.ry)("",!0)],8,["id"])}};var Bs=s(2662).default;const Gs={methods:{tabChanged(){D.Z.$emit("post::tabChangeAction")}},created(){Bs.PageController.tabVisibilityChange(this.tabChanged)},beforeUnmount(){Bs.PageController.removeTabVisibilityChange(this.tabChanged)}};var Fs=s(2289).default,Zs=s(4177).default;function $s(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Hs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$s(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapActions:Ks}=(0,q._p)("post"),{mapState:zs}=(0,q._p)("app"),Ys={mixins:[Gs,Re],props:{postId:String},watch:{$route(e,t){this.init()}},computed:Hs({},zs(["topNavHeight"])),methods:Hs(Hs({},Ks({updatePostAutoPlay:"UPDATE_POST_AUTO_PLAY"})),{},{getBlockTypeComponent:e=>"RichText"===e?Ms:"Media"===e?Vs:"div",createObserver(){this.observer=new Fs.VisibilityObserver(this.intersectHandler,-this.topNavHeight,0,.6)},intersectHandler(e){e.forEach((e=>{const t=Zs.getPostId(e.domId),s=e.intersectionRatio>=.6;s?this.updatePostAutoPlay({id:this.post.id,mediaId:t,autoPlayEvent:"play"}):!s&&e.intersectionRatio>0&&this.updatePostAutoPlay({id:this.post.id,mediaId:t,autoPlayEvent:"pause"})}))},resetObserver(){this.observer&&(this.observer.destroy(),this.observer=null)},init(){this.resetObserver(),this.$nextTick((()=>{this.createObserver();const e=this.post.article.medias;e&&Object.keys(e).forEach((t=>{if([Tt.TYPE_ANIMATED,Tt.TYPE_VIDEO,Tt.TYPE_EMBED_VIDEO].includes(e[t].type)){const e=document.getElementById(Zs.getPostDomId(t));this.observer.observe(e)}}))}))}}),mounted(){this.init()},unmounted(){this.resetObserver()},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("div",Ns,[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(e.post.article.blocks,((t,o)=>((0,B.wg)(),(0,B.j4)((0,B.LL)(i.getBlockTypeComponent(t.type)),{key:`${e.post.id}-${o}`,blockId:o,postId:s.postId},null,8,["blockId","postId"])))),128))])}};var qs=s(4177).default;function Js(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Xs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Js(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:Qs}=(0,q._p)("session"),eo={name:"PostContent",mixins:[ot.Z,Ue.Z,Re],data:()=>Xs({},Tt),watch:{postId(){this.trackElement()}},props:{postId:String,streamId:String,position:Number,mediaId:String},computed:Xs(Xs({},Qs({_showSensitiveMask:"SHOW_SENSITIVE_MASK"})),{},{showSensitiveCover(){return this.post.nsfw&&this._showSensitiveMask(this.postId)}}),methods:{trackElement(){this.isMedia||this.$nextTick((()=>{D.Z.$emit("tracking::trackElement",{domId:qs.getPostDomId(this.post.id),data:{key:this.post.id,sensitiveCover:this.showSensitiveCover,video:!this.showSensitiveCover&&this.post.type===Tt.TYPE_ANIMATED,youtube:!this.showSensitiveCover&&this.post.type===Tt.TYPE_VIDEO,position:this.position}})}))}},mounted(){this.trackElement()},components:{PostContentPhoto:Xt,PostListContentPhoto:ls,PostContentVideo:vs,PostContentAnimated:Ls,PostContentArticle:Ys,PostSensitiveMask:is},render:function(e,t,s,o,r,i){const n=(0,B.up)("PostSensitiveMask"),a=(0,B.up)("PostListContentPhoto"),c=(0,B.up)("PostContentPhoto"),l=(0,B.up)("PostContentAnimated"),d=(0,B.up)("PostContentVideo"),u=(0,B.up)("PostContentArticle");return e.showSensitiveCover?((0,B.wg)(),(0,B.j4)(n,{key:0,post:e.post},null,8,["post"])):e.post.type===e.TYPE_PHOTO?((0,B.wg)(),(0,B.j4)("div",Ft,[e.isPostView?((0,B.wg)(),(0,B.j4)(c,{key:1,postId:e.postId,mediaId:e.mediaId},null,8,["postId","mediaId"])):((0,B.wg)(),(0,B.j4)(a,{key:0,postId:e.postId,position:e.position},null,8,["postId","position"]))])):e.post.type===e.TYPE_ANIMATED?((0,B.wg)(),(0,B.j4)("div",Zt,[(0,B.Wm)(l,{postId:e.postId,mediaId:e.mediaId},null,8,["postId","mediaId"])])):[e.TYPE_VIDEO,e.TYPE_EMBED_VIDEO].includes(e.post.type)?((0,B.wg)(),(0,B.j4)("div",$t,[(0,B.Wm)(d,{postId:e.postId,mediaId:e.mediaId,position:e.position,streamId:e.streamId},null,8,["postId","mediaId","position","streamId"])])):e.post.type===e.TYPE_ARTICLE?((0,B.wg)(),(0,B.j4)("div",Ht,[!e.isPostView&&e.postImages.image460?((0,B.wg)(),(0,B.j4)(a,{key:0,postId:e.postId,position:e.position},null,8,["postId","position"])):e.isPostView?((0,B.wg)(),(0,B.j4)(u,{key:1,postId:e.postId},null,8,["postId"])):(0,B.ry)("",!0)])):(0,B.ry)("",!0)}},to={class:"post-afterbar-a in-post-bot full-width"},so={class:"share"},oo=(0,B.Wm)("div",{class:"clearfix"},null,-1),ro={props:{postId:String},mixins:[Re,Ue.Z],methods:{getShareTrackingParams(e){return yt.getShareTrackingParams(e,this.isPostView,this.postId)},getShareEventParams(e){return yt.getShareEventParams(e,y.Z.getPageKey(),this.postId)},getShareTitle(e){return yt.getShareTitle(this.postTitle,e)},getShareUrl(e){return yt.getShareUrl(e,this.postId)},getShareImg(e){return this.postImages[e]&&this.postImages[e].url||""},clickFbShare(){const e=this.getShareUrl("facebook"),t="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e);yt.openShareWindow(t)},clickPinterestShare(){const e=this.getShareUrl("pinterest"),t=this.getShareImg("image700"),s=this.getShareTitle("pinterest"),o="//pinterest.com/pin/create/button/?url="+encodeURIComponent(e)+"&media="+encodeURIComponent(t)+"&description="+s;yt.openShareWindow(o)}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("div",to,[(0,B.Wm)("div",so,[(0,B.Wm)("ul",null,[(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"badge-evt badge-track btn-share facebook",href:"javascript:void(0);",onClick:t[1]||(t[1]=(0,me.iM)((e=>i.clickFbShare()),["prevent"])),"data-track":i.getShareTrackingParams("facebook"),"data-evt":i.getShareEventParams("facebook-bottom"),"data-entry-id":s.postId}," Share on Facebook ",8,["data-track","data-evt","data-entry-id"])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"badge-evt badge-track btn-share pinterest",href:"javascript:void(0);",onClick:t[2]||(t[2]=(0,me.iM)((e=>i.clickPinterestShare()),["prevent"])),"data-track":i.getShareTrackingParams("pinterest"),"data-evt":i.getShareEventParams("pinterest-bottom"),"data-entry-id":s.postId}," Share on Pinterest ",8,["data-track","data-evt","data-entry-id"])])])]),oo])}},io={class:"post-section"},no={class:"message"},ao=(0,B.Uk)("  ");var co=s(7651).default;const lo={upload:"uploaded",upvote:"upvoted",comment:"commented"},uo={mixins:[Ue.Z,$e.Z,Re],props:{postId:String,position:Number},computed:{postSection(){return this.post.postSection},postUser(){const{postUser:e,promoted:t}=this.post;return this.isPostView||t?null:e},url(){const{url:e}=this.postSection||{};return e?`${e}?ref=post-section`:null},creationTime(){return co.getTimeAgo(this.post.creationTs)},postUserActions(){return this.postUser&&this.postUser.actions.split(",")||[]},commentLink(){return`${this.postUrl}#cs_comment_id=${this.postUser.commentId}`},category(){return this.isPostView?"PostAction":"PostList"}},methods:{getActionText(e,t){const s=this.postUserActions;return t===s.length-1?lo[e]:t!==s.length-2?`${lo[e]}, `:`${lo[e]} and `},trackPostSection(){this.url&&this.track(this.category,"ViewPostSection",{url:this.url})}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("div",io,[(0,B.Wm)("a",{class:"icon",target:"_blank",href:i.url||"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.trackPostSection&&i.trackPostSection(...e))},[(0,B.Wm)("picture",null,[i.postSection.webpUrl?((0,B.wg)(),(0,B.j4)("source",{key:0,srcset:i.postSection.webpUrl,type:"image/webp"},null,8,["srcset"])):(0,B.ry)("",!0),(0,B.Wm)("img",{src:i.postSection.imageUrl,loading:"lazy"},null,8,["src"])])],8,["href"]),(0,B.Wm)("p",no,[(0,B.Wm)("a",{class:"section",target:"_blank",href:i.url||"javascript:void(0);",onClick:t[2]||(t[2]=(...e)=>i.trackPostSection&&i.trackPostSection(...e))},(0,G.zw)(i.postSection.name),9,["href"]),i.creationTime?((0,B.wg)(),(0,B.j4)(B.HY,{key:0},[(0,B.Uk)("  "+(0,G.zw)(i.creationTime),1)],64)):(0,B.ry)("",!0),i.postUser?((0,B.wg)(),(0,B.j4)(B.HY,{key:1},[ao,((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(i.postUserActions,((s,o)=>((0,B.wg)(),(0,B.j4)(B.HY,null,["comment"===s?((0,B.wg)(),(0,B.j4)("a",{key:0,href:i.commentLink,target:"_blank",onClick:t[3]||(t[3]=t=>e.track(i.category,"ViewProfileComment"))},(0,G.zw)(i.getActionText(s,o)),9,["href"])):((0,B.wg)(),(0,B.j4)(B.HY,{key:1},[(0,B.Uk)((0,G.zw)(i.getActionText(s,o)),1)],64))],64)))),256))],64)):(0,B.ry)("",!0)])])}};var po=s(9029),ho=s(9012).default;function mo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function go(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mo(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:fo}=(0,q._p)("app"),yo={props:{postId:String,maxFixedToolbarHeight:{type:Function,default:null}},mixins:[Gs,$e.Z,Re],data:()=>({toolBarFixedPos:0}),provide:{isPostView:!0},computed:go(go({},fo(["topNavHeight"])),{},{postDomId(){return ds.default.getPostDomId(this.postId)},showArticleDesc(){return this.post.type===Tt.TYPE_ARTICLE&&this.showDesc},showDesc(){return this.post.description&&""!==this.post.description},showSource(){return this.post.sourceDomain&&this.post.sourceUrl}}),watch:{topNavHeight(){this.fixToolBar(this.shouldFixToolBar())},post(){this.$nextTick((()=>{this.updateToolBarFixedPos()}))}},methods:{belowMaxToolbarHeight(){const e=this.maxFixedToolbarHeight&&this.maxFixedToolbarHeight()||null;return!e||window.scrollY<=e},shouldFixToolBar(){return window.scrollY>this.toolBarFixedPos&&this.belowMaxToolbarHeight()},handleScroll(){const e=this.$refs.toolbar;if(!e)return;const t="fixed"===e.$el.style.position,s=this.shouldFixToolBar();t&&!s?this.fixToolBar(!1):s&&this.fixToolBar(!0)},fixToolBar(e){const t=this.$refs.container,s=this.$refs.toolbar.$el,o=s.offsetHeight;s.style.position=e?"fixed":"",s.style.top=e?`${this.topNavHeight}px`:"",s.style.willChange=e?"transform":"",t.style.marginTop=e?`${o+6}px`:"",N.setPostId(this.belowMaxToolbarHeight()?this.postId:null)},updateToolBarFixedPos(){const e=this.$refs.header;this.toolBarFixedPos=24+e.offsetHeight+6}},components:{PostMeta:Fe,PostTags:He,PostToolbar:Gt,PostContent:eo,PostShareBottom:ro,PostSection:uo,Markdown:po.Z},created(){ho.addEventListener("scroll",this.handleScroll),N.setPostId(this.postId)},mounted(){this.$nextTick((()=>{this.updateToolBarFixedPos()}))},unmounted(){ho.removeEventListener("scroll",this.handleScroll)},render:function(e,t,s,o,r,i){const n=(0,B.up)("PostSection"),a=(0,B.up)("PostMeta"),c=(0,B.up)("PostToolbar"),l=(0,B.up)("Markdown"),d=(0,B.up)("PostContent"),u=(0,B.up)("PostTags"),p=(0,B.up)("PostShareBottom");return(0,B.wg)(),(0,B.j4)("section",we,[(0,B.Wm)("article",{id:i.postDomId,class:"post-page"},[(0,B.Wm)("header",Ee,[(0,B.Wm)(n,{postId:s.postId},null,8,["postId"]),(0,B.Wm)("h1",null,(0,G.zw)(e.postTitle),1),(0,B.Wm)(a,{postId:s.postId},null,8,["postId"])],512),(0,B.Wm)(c,{ref:"toolbar",postId:s.postId},null,8,["postId"]),(0,B.Wm)("div",Pe,[i.showArticleDesc?((0,B.wg)(),(0,B.j4)(l,{key:0,class:"post-text-container",content:e.post.description},null,8,["content"])):(0,B.ry)("",!0),(0,B.Wm)(d,{postId:s.postId},null,8,["postId"]),(0,B.Wm)("div",Ie,[i.showDesc&&!i.showArticleDesc?((0,B.wg)(),(0,B.j4)(l,{key:0,content:e.post.description},null,8,["content"])):(0,B.ry)("",!0),i.showSource?((0,B.wg)(),(0,B.j4)("p",Ae,[ke,(0,B.Wm)("a",{href:e.post.sourceUrl,target:"_blank"},(0,G.zw)(e.post.sourceDomain),9,["href"])])):(0,B.ry)("",!0)]),(0,B.Wm)(u,{postId:s.postId},null,8,["postId"])],512),(0,B.Wm)(p,{postId:s.postId},null,8,["postId"])],8,["id"])])}};var Oo=s(1004);class bo{static show(){D.Z.$emit("progress::show")}static finish(){D.Z.$emit("progress::finish")}}const _o=(0,B.HX)("data-v-845e83c0");(0,B.dD)("data-v-845e83c0");const vo={key:0},So=(0,B.Wm)("div",{class:"post-more-divider"},[(0,B.Wm)("h4",null," More posts from 9GAG ")],-1);(0,B.Cn)();const To=_o(((e,t,s,o,r,i)=>{const n=(0,B.up)("PostListAds"),a=(0,B.up)("ListContent");return r.hasNextPost?((0,B.wg)(),(0,B.j4)("div",vo,[i.adContainers.length?((0,B.wg)(),(0,B.j4)(n,{key:0,class:"inline-ad-container",adContainers:i.adContainers,onObserveAd:e.observeAd,onUnobserveAd:e.unobserveAd},null,8,["adContainers","onObserveAd","onUnobserveAd"])):(0,B.ry)("",!0),So,(0,B.Wm)(a,{afterPostId:i.afterPostId},null,8,["afterPostId"])])):(0,B.ry)("",!0)})),wo={key:0,class:"blank-state"},Eo=(0,B.Wm)("h3",null,"Sorry! No posts were found",-1),Po={class:"loading"},Io={key:0,class:"btn spin"},Ao=(0,B.Wm)("div",{class:"simple-spinner"},null,-1),ko={key:1,class:"btn end"};var Do=s(9257);const Co={class:"post-container"},Uo={class:"post-afterbar-a"},Lo={class:"btn-vote left"},No=(0,B.Uk)(" Comment "),jo={class:"share right"},Ro=(0,B.Wm)("div",{class:"clearfix"},null,-1),Mo={mixins:[Ue.Z,Re],props:{postId:String,position:Number,streamId:String,archived:Boolean},watch:{archived(){this.setupKeyboardEvent(!this.archived)}},computed:{postDomId(){return ds.default.getPostDomId(this.postId)},showDesc(){return this.post.description&&""!==this.post.description}},methods:{clickComment(){this.$refs.comment.click()},setupKeyboardEvent(e){e?D.Z.$on(`post::comment::${this.post.id}`,this.clickComment):D.Z.$off(`post::comment::${this.post.id}`,this.clickComment)}},mounted(){this.setupKeyboardEvent(!0)},beforeUnmount(){this.setupKeyboardEvent(!1)},components:{PostMeta:Fe,PostTags:He,PostVote:dt,PostExtraMenuBtn:Mt,PostShare:Ot,PostContent:eo,PostSection:uo,TapPost:Me,Markdown:po.Z},render:function(e,t,s,o,r,i){const n=(0,B.up)("PostSection"),a=(0,B.up)("TapPost"),c=(0,B.up)("PostContent"),l=(0,B.up)("Markdown"),d=(0,B.up)("PostMeta"),u=(0,B.up)("PostVote"),p=(0,B.up)("PostExtraMenuBtn"),h=(0,B.up)("PostShare");return(0,B.wg)(),(0,B.j4)("article",{id:i.postDomId},[s.archived?(0,B.ry)("",!0):((0,B.wg)(),(0,B.j4)(B.HY,{key:0},[(0,B.Wm)("header",null,[(0,B.Wm)(n,{postId:s.postId,position:s.position},null,8,["postId","position"]),(0,B.Wm)(a,{class:"badge-evt badge-track",track:`post,v,,,d,${e.post.id},l`,postId:s.postId,position:s.position,href:e.postUrl,eventKey:"PostTitle",target:"_blank"},{default:(0,B.w5)((()=>[(0,B.Wm)("h1",null,(0,G.zw)(e.postTitle),1)])),_:1},8,["track","postId","position","href"])]),(0,B.Wm)("div",Co,[(0,B.Wm)(c,{postId:s.postId,position:s.position,streamId:s.streamId},null,8,["postId","position","streamId"]),e.post.description?((0,B.wg)(),(0,B.j4)(l,{key:0,class:"post-text-container",content:e.post.description},null,8,["content"])):(0,B.ry)("",!0)]),(0,B.Wm)(d,{postId:s.postId,position:s.position},null,8,["postId","position"]),(0,B.Wm)("div",Uo,[(0,B.Wm)(u,{postId:s.postId,position:s.position},null,8,["postId","position"]),(0,B.Wm)("ul",Lo,[(0,B.Wm)("li",null,[(0,B.Wm)(a,{class:" comment badge-evt",ref:"comment",target:"_blank",postId:s.postId,position:s.position,href:`${e.postUrl}#comment`,eventKey:"Comment"},{default:(0,B.w5)((()=>[No])),_:1},8,["postId","position","href"])])]),(0,B.Wm)(p,{postId:s.postId,position:s.position},null,8,["postId","position"]),(0,B.Wm)("div",jo,[(0,B.Wm)(h,{postId:s.postId,position:s.position},null,8,["postId","position"])])]),Ro],64))],8,["id"])}},xo={key:0},Wo={key:0},Vo={class:"post-section"},Bo={class:"message"},Go={class:"post-container"},Fo=(0,B.Wm)("p",{class:"post-meta"}," points  0 comments",-1),Zo={class:"post-afterbar-a"},$o={class:"btn-vote left"},Ho={key:0,class:"popup-menu listview-share"},Ko=(0,B.Wm)("div",{class:"clearfix"},null,-1),zo={class:"post-view featured-video"};var Yo=s(5087),qo=s(8446),Jo=s.n(qo);function Xo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Qo(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Xo(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const er="section",tr=e=>{const t=Qo({post_id:null,screen:null,section:null,refresh:"on"},V.Z.getters["session/GET_SESSION_PARAMS"]);let s=t;switch(e.name){case Oe.Z.POST_PAGE:const o=e.params.postId;s=Qo(Qo({},t),{},{screen:"post",post_id:o});const{postSectionPath:r}=V.Z.getters["post/GET_POST"](o);r&&(s.section=r);break;case Oe.Z.POST_LIST:case Oe.Z.HOT_POST_LIST:const i=e.params.type||"hot";s=Qo(Qo({},t),{},{screen:"home",section:i});break;case Oe.Z.SECTION_LIST:case Oe.Z.SECTION_POST_LIST:const n=e.params.section||"";s=Qo(Qo({},t),{},{screen:er,section:n});break;case Oe.Z.INTEREST_LIST:const a=e.params.interest||"";s=Qo(Qo({},t),{},{screen:er,section:`Interest-${a}`});break;default:s=Qo({},t)}return s},sr={async setTargeting(e,t){let s={};const o=t.name?tr(t):{},r=tr(e);Object.keys(r).forEach((e=>{Jo()(r[e],o[e])||(s[e]=r[e])})),Yo.Z.setTargeting(s)},getTargetingObj:tr};function or(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function rr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?or(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):or(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:ir,mapGetters:nr}=(0,q._p)("privacy"),{mapGetters:ar}=(0,q._p)("config"),cr={props:{featuredAd:Object,maxWidth:Number},computed:rr(rr(rr(rr({},ir(["googleNpa"])),nr(["googleRdp"])),ar({getConfig:"GET_CONFIG"})),{},{styleObject(){return{width:this.dimension.width+"px",height:this.dimension.height+"px",zIndex:1,position:"relative",overflow:"hidden"}},dimension(){const e=this.featuredAd.width,t=this.featuredAd.height,s=this.maxWidth;return this.featuredAd.width<=s?{width:e,height:t}:{width:s,height:Math.floor(s*this.featuredAd.height/this.featuredAd.width)}},npa(){return this.googleNpa?1:0},rdp(){return this.googleRdp?1:0},customTargeting(){const e=rr(rr({},sr.getTargetingObj(this.$route)),{},{bucket:this.getConfig("configs.ad.adConfigs.bucket")});return Object.keys(e).forEach((t=>!e[t]&&delete e[t])),e}})};function lr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function dr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lr(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const ur={mixins:[cr],computed:{key(){const{width:e,height:t}=this.dimension;return`${this.$route.fullPath}-${e}-${t}`},embedUrl(){const e=new(Et())(this.featuredAd.url,!0),{customTargeting:t,npa:s,rdp:o}=this;return e.set("query",dr(dr({},e.query),{},{customTargeting:JSON.stringify(t),npa:s,rdp:o})),e.toString()}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("iframe",{key:i.key,width:e.dimension.width,height:e.dimension.height,src:i.embedUrl,scrolling:"no",frameBorder:"0",allowfullscreen:"false",allow:"encrypted-media",loading:"lazy"},null,8,["width","height","src"])}};var pr=s(5670).default,hr=s(3036).default;const mr=btoa("video intelligence"),gr={props:{featuredAd:Object,maxWidth:Number},components:{FeaturedAdsIFrame:ur,FeaturedAdsVI:{mixins:[cr],data:()=>({playerId:""}),computed:{playerConfig(){return{ChannelID:"5ea98ccc02abaa4068798df6",AdUnitType:"2",PublisherID:"576566800037402",PlacementID:"pltlhqRgj1oCSlyn51S",DivID:this.playerId,Float:!1,UnmuteOnClickStart:!0,IAB_Category:"IAB16,IAB1-4,IAB9,IAB24",Keywords:"",Language:"en-us"}}},created(){this.playerId=`vi-${Date.now()}`},mounted(){this.loadPlayer()},beforeUnmount(){const e=this.playerId;setTimeout((()=>{const t=document.getElementById(e);t&&(t.innerHTML=""),pr.log("FeaturedAdsVI destroyed")}),1e3),this.playerId=null;const t=window[mr];if(t){try{const{player:e,viStoriesUi:s}=t.viUnit||{};e&&e.dispose(),s&&s.dispose()}catch(e){}window.__vi__ad__unit=0}},methods:{loadPlayer(){hr.loadScript("https://s.vi-serve.com/source.js").then((()=>{const e=window[mr];e&&this.playerId&&(this.player=e.run(this.playerConfig),pr.log("FeaturedAdsVI loaded"))}))}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("div",{style:e.styleObject},[(0,B.Wm)("div",{id:r.playerId},null,8,["id"])],4)}}}};s(7700),gr.render=function(e,t,s,o,r,i){const n=(0,B.up)("FeaturedAdsVI"),a=(0,B.up)("FeaturedAdsIFrame");return(0,B.wg)(),(0,B.j4)("div",zo,["vi"===s.featuredAd.render?((0,B.wg)(),(0,B.j4)(n,{key:0,featuredAd:s.featuredAd,maxWidth:s.maxWidth},null,8,["featuredAd","maxWidth"])):((0,B.wg)(),(0,B.j4)(a,{key:1,featuredAd:s.featuredAd,maxWidth:s.maxWidth},null,8,["featuredAd","maxWidth"]))])};const fr=gr;function yr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Or(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yr(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:br}=(0,q._p)("app"),{mapGetters:_r}=(0,q._p)("section"),vr={mixins:[$e.Z],props:{featuredAd:Object},directives:{ClickOutside:Rt},data:()=>({showMenu:!1,dislike:!1,href:"javascript:void(0);"}),computed:Or(Or({maxWidth:()=>Yt.MAX_WIDTH},_r({getSection:"GET_SECTION"})),{},{postSection(){const{name:e,url:t,ogImageUrl:s,ogWebpUrl:o}=this.getSection("video");return e?{name:e,url:`/${t}?ref=post-section`,imageUrl:s,webpUrl:o}:null}}),methods:{clickMenu(){this.showMenu=!this.showMenu},hideMenu(){this.showMenu=!1},clickDislike(){this.track("PostAction","DislikeFeaturedAd"),this.dislike=!0},clickReport(){this.track("PostAction","ReportFeaturedAd")}},components:{FeaturedAdsWrapper:fr},render:function(e,t,s,o,r,i){const n=(0,B.up)("FeaturedAdsWrapper"),a=(0,B.Q2)("click-outside");return r.dislike?(0,B.ry)("",!0):((0,B.wg)(),(0,B.j4)("article",xo,[i.postSection?((0,B.wg)(),(0,B.j4)("header",Wo,[(0,B.Wm)("div",Vo,[(0,B.Wm)("a",{class:"icon",href:i.postSection.url},[(0,B.Wm)("picture",null,[i.postSection.webpUrl?((0,B.wg)(),(0,B.j4)("source",{key:0,srcset:i.postSection.webpUrl,type:"image/webp"},null,8,["srcset"])):(0,B.ry)("",!0),(0,B.Wm)("img",{src:i.postSection.imageUrl,loading:"lazy"},null,8,["src"])])],8,["href"]),(0,B.Wm)("p",Bo,[(0,B.Wm)("a",{class:"section",href:i.postSection.url},(0,G.zw)(i.postSection.name),9,["href"])])])])):(0,B.ry)("",!0),(0,B.Wm)("div",Go,[(0,B.Wm)(n,{featuredAd:s.featuredAd,maxWidth:i.maxWidth},null,8,["featuredAd","maxWidth"])]),Fo,(0,B.Wm)("div",Zo,[(0,B.Wm)("ul",$o,[(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"up",href:r.href},null,8,["href"])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"down",href:r.href},null,8,["href"])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"comment",href:r.href},null,8,["href"])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"more",href:r.href,onClick:t[1]||(t[1]=(0,me.iM)(((...e)=>i.clickMenu&&i.clickMenu(...e)),["stop"]))},null,8,["href"])])]),r.showMenu?(0,B.wy)(((0,B.wg)(),(0,B.j4)("div",Ho,[(0,B.Wm)("ul",{onClick:t[4]||(t[4]=(...e)=>i.hideMenu&&i.hideMenu(...e))},[(0,B.Wm)("li",null,[(0,B.Wm)("a",{href:r.href,onClick:t[2]||(t[2]=(0,me.iM)(((...e)=>i.clickDislike&&i.clickDislike(...e)),["prevent"]))},"I don't like this",8,["href"])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{target:"_blank",href:"/report-bad-ads",onClick:t[3]||(t[3]=(...e)=>i.clickReport&&i.clickReport(...e))},"Report")])])],512)),[[a,i.hideMenu]]):(0,B.ry)("",!0)]),Ko]))}};var Sr=s(4039),Tr=s(695),wr=s(2175),Er=s(2289).default;function Pr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}const{mapGetters:Ir}=(0,q._p)("post"),Ar=["inline_1","inline_2"],kr=[1,2],Dr={extends:Tr.Z,data:()=>({adTags:Ar,preloadAdsMargin:1}),computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Pr(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Ir({featuredAds:"FEATURED_ADS"})),methods:{getAdItem(e){const t=this.getAdContainers(e);if(t.length<1)return null;const{adPosition:s,adContainerId:o}=t[0];let r={type:"inlineAd",id:o,adContainers:t};for(let e of this.featuredAds){if(e.position!==s)continue;const{url:t,width:i,height:n}=e;r={type:"featuredAd",id:o,url:t,width:i,height:n,featuredAd:e}}return 0===this.featuredAds.length&&kr.includes(s)&&(r=null),r},createAdObserver(){const e=this.preloadAdsMargin*wr.Z.browserHeight();return new Er.VisibilityObserver(this.adIntersectHandler,0,e,[0,.5])}}};var Cr=s(1186);const Ur={key:0},Lr={class:"btn-container"};var Nr=s(3656);function jr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Rr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jr(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:Mr,mapGetters:xr}=(0,q._p)("user"),{mapGetters:Wr}=(0,q._p)("profile"),Vr={mixins:[Ue.Z],computed:Rr(Rr(Rr({},Mr(["user"])),Wr({getProfileByUserName:"GET_PROFILE_BY_USERNAME"})),{},{profile(){return this.getProfileByUserName(this.username)},username(){return this.$route.params.username},viewingOtherUser(){return this.user.username!==this.username},blankData(){return this.type===Nr.Z.COMMENTS?{message:"Posts you commented will show up here",link:"/hot",btn:"Checkout What's Hot"}:this.type===Nr.Z.LIKES?{message:"Posts you upvoted will show up here",link:"/hot",btn:"Checkout What's Hot"}:this.type===Nr.Z.POSTS?{message:"Posts you uploaded will show up here",link:"/submit",btn:"Create a Post"}:{message:"Posts you uploaded and commented will show up here",link:"/hot",btn:"Checkout What's Hot"}}}),render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("div",null,[i.viewingOtherUser?((0,B.wg)(),(0,B.j4)("h3",Ur,"No posts to show")):((0,B.wg)(),(0,B.j4)(B.HY,{key:1},[(0,B.Wm)("h3",null,(0,G.zw)(i.blankData.message),1),(0,B.Wm)("div",Lr,[(0,B.Wm)("a",{class:"btn",href:i.blankData.link},(0,G.zw)(i.blankData.btn),9,["href"])])],64))])}};var Br=s(5670).default,Gr=s(4177).default,Fr=s(2289).default;function Zr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function $r(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Zr(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:Hr,mapActions:Kr,mapGetters:zr}=(0,q._p)("post"),{mapState:Yr,mapActions:qr}=(0,q._p)("user"),{mapState:Jr}=(0,q._p)("app"),Xr={emits:["streamVisible"],props:{afterPostId:{type:String,default:null}},mixins:[Dr],data:()=>({streamObserver:null,postObserver:null,postItemRefs:{},archivedStreams:{},archivedPosts:{},containerPadding:32,visibleStreamPos:0}),watch:{$route(e,t){this.resetObservers(),this.initData()},postIds(){this.resetLoadMore()}},computed:$r($r($r($r($r({},Jr(["topNavHeight"])),Hr(["posts"])),Yr(["reports"])),zr({_postIds:"POST_LIST_IDS",getCursors:"GET_CURSORS",lastPosition:"GET_LAST_POSITION"})),{},{nextCursor(){return this.getCursors("next")},hasNoMorePost(){return!this.nextCursor},postIds(){const e=[...this._postIds];if(null===this.afterPostId)return e;const t=e.indexOf(this.afterPostId);return-1!==t&&e.splice(0,t+1),e},streams(){const e=this.postIds;let t=0;const s=[];for(;t<e.length;){const o=this.getStreamSize(s.length),r=e.slice(t,t+o);s.push(r),t+=o}return s},visibleStreams(){return this.streams.filter(((e,t)=>t<=this.visibleStreamPos))},listItemStreams(){const e=[];let t=0;return this.visibleStreams.forEach(((s,o)=>{const r=this.streamDomId(o),i={id:r,position:o,archived:!this.displayStream(r),style:this.streamStyle(r)},n=[];s.forEach((e=>{if(t+=1,!this.reports.includes(e)){const s={type:"post",id:e,position:t,postId:e};n.push(s)}const s=this.getAdItem(t);s&&n.push(s)})),i.items=n,e.push(i)})),e},infiniteLoadDistance(){const e=wr.Z.browserHeight(),t=this.visibleStreamPos<2?1:2;return Math.max(300,e*t)},listViewStyle(){return this.lastPosition?{minHeight:`${this.lastPosition.top}px`}:null}}),methods:$r($r($r({},Kr({_updatePostAutoPlay:"UPDATE_POST_AUTO_PLAY",loadPosts:"LOAD_POSTS"})),qr({updateUninterestedPosts:"UPDATE_UNINTERESTED_POSTS"})),{},{getStreamSize(e){if(Cr.Z.isBot())return 10;const t={0:2,1:3,standard:5};return t[e]?t[e]:t.standard},updatePostAutoPlay(e){if(!this.posts)return;const t=this.posts[e.id].type,s=this.postArchived(e.id);[Tt.TYPE_ANIMATED,Tt.TYPE_VIDEO,Tt.TYPE_EMBED_VIDEO].includes(t)&&!s&&this._updatePostAutoPlay(e)},async loadMorePosts(){return Br.log("loadMorePosts(): load more posts"),await this.loadPosts()},loadMoreHandler(){const e=this.visibleStreamPos>=this.streams.length-1;if(!this.hasNoMorePost||!e)if(e)this.loadMorePosts().catch((e=>{e&&e.response||this.resetLoadMore()}));else{this.visibleStreamPos+=1;const e=this.visibleStreamPos,t=this.streamDomId(e);this.$nextTick((()=>{this.resetLoadMore(),this.streamObserver.observe(this.$refs[t],{pos:e})}))}},resetLoadMore(){Br.log("resetLoadMore"),this.$refs.loadMore&&this.$refs.loadMore.reset()},scrollToNextPost(){this.scrollToPost({direction:1})},scrollToPrevPost(){this.scrollToPost({direction:-1})},scrollToPost({direction:e}){const t=this.getVisibleItems();if(t[0]){const s=Gr.getPostId(t[0].domId),o=this.postIds.indexOf(s),r=o+e;-1!==o&&r>=0&&r<this.postIds.length&&this.scrollToPostById(this.postIds[r])}},scrollToPostById(e){const t=this.postItemRefs[e];if(!t)return;const s=t.$el.getBoundingClientRect().top+Gr.getScrollTop()-this.topNavHeight;Gr.scrollTo(s)},getVisibleItems(){return this.postObserver.getSortedVisibleItems(.6)},initData(){this.archivedStreams={},this.archivedPosts={},this.visibleStreamPos=0,this.lastPosition&&(this.visibleStreamPos=Math.min(this.lastPosition.stream,this.streams.length)),this.startObservers(),this.updateUninterestedPosts(),this.$nextTick((()=>{for(let e=0;e<=this.visibleStreamPos;e++){const t=this.streamDomId(e),s=this.$refs[t]||null;s&&this.streamObserver.observe(s,{pos:e})}}))},startObservers(){this.streamObserver||this.createStreamObserver(),this.postObserver||this.createPostObserver()},resetObservers(){this.streamObserver&&(this.streamObserver.destroy(),this.streamObserver=null),this.postObserver&&(this.postObserver.destroy(),this.postObserver=null)},streamDomId:e=>Gr.getStreamDomId(e),displayStream(e){return!this.archivedStreams[e]},streamStyle(e){return{minHeight:this.archivedStreams[e]}},postsInStream(e){if(!this.streams)return[];const t=Gr.getStreamPos(e);return this.streams[t]||[]},postArchived(e){return this.archivedPosts[e]},createStreamObserver(){const e=wr.Z.browserHeight(),t=3*e,s=4*e;this.streamObserver=new Fr.VisibilityObserver(this.streamIntersectHandler,t,s)},streamIntersectHandler(e){e.forEach((e=>{const t=e.domId,s=this.postsInStream(t);if(e.visibilityStatus===Fr.VISIBILITY_STATUS.enter)this.archivedStreams[t]=0,s.length>0&&s.forEach((e=>this.archivedPosts[e]=!1));else if(e.visibilityStatus===Fr.VISIBILITY_STATUS.exit){const e=this.$refs[t];if(!e)return;const o=window.getComputedStyle(e).height;this.archivedStreams[t]=o,s.length>0&&s.forEach((e=>this.archivedPosts[e]=!0)),D.Z.$emit(`post::streamArchived::${t}`)}}));const t=this.streamObserver&&this.streamObserver.getSortedVisibleItems()||[];if(!t.length)return;const s=t[t.length-1].data.pos;this.$emit("streamVisible",s)},createPostObserver(){this.postObserver=new Fr.VisibilityObserver(this.postIntersectHandler,-this.topNavHeight,0,.6)},postIntersectHandler(e){e.forEach((e=>{const t=Gr.getPostId(e.domId),s=e.intersectionRatio>=.6;s?this.updatePostAutoPlay({id:t,autoPlayEvent:"play"}):!s&&e.intersectionRatio>0&&this.updatePostAutoPlay({id:t,autoPlayEvent:"pause"})}))},setPostItemRefs(e){e&&(this.postItemRefs[e.postId]=e,this.postObserver.observe(e.$el))}}),created(){this.startObservers(),this.keyboardEvents={},["voteUp","voteDown","togglePlay","comment"].forEach((e=>{this.keyboardEvents[`post::${e}::inView`]=()=>{const t=this.getVisibleItems();t[0]&&D.Z.$emit(`post::${e}::${Gr.getPostId(t[0].domId)}`)}})),Object.entries(this.keyboardEvents).forEach((([e,t])=>D.Z.$on(e,t))),D.Z.$on("post::toNextListPost",this.scrollToNextPost),D.Z.$on("post::toPrevListPost",this.scrollToPrevPost)},beforeUpdate(){this.postItemRefs={}},mounted(){this.initData()},unmounted(){this.postItemRefs={},this.resetObservers(),Object.entries(this.keyboardEvents).forEach((([e,t])=>D.Z.$off(e,t))),this.keyboardEvents={},D.Z.$off("post::toNextListPost",this.scrollToNextPost),D.Z.$off("post::toPrevListPost",this.scrollToPrevPost)},components:{LoadMore:Do.Z,PostListItem:Mo,PostListItemFeaturedAd:vr,ProfileBlankState:Vr,PostListAds:Sr.Z},render:function(e,t,s,o,r,i){const n=(0,B.up)("PostListItem"),a=(0,B.up)("PostListItemFeaturedAd"),c=(0,B.up)("PostListAds"),l=(0,B.up)("LoadMore");return(0,B.wg)(),(0,B.j4)("section",{id:"list-view-2",style:i.listViewStyle},[i.hasNoMorePost&&0===i.postIds.length?((0,B.wg)(),(0,B.j4)("div",wo,[(0,B.WI)(e.$slots,"blank-state",{},(()=>[Eo]))])):((0,B.wg)(),(0,B.j4)(B.HY,{key:1},[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(i.listItemStreams,(t=>((0,B.wg)(),(0,B.j4)("div",{class:"list-stream",id:t.id,ref:t.id,style:t.style},[(0,B.wy)((0,B.Wm)("div",null,[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(t.items,(s=>((0,B.wg)(),(0,B.j4)(B.HY,{key:s.id},["post"===s.type?((0,B.wg)(),(0,B.j4)(n,{ref:i.setPostItemRefs,key:s.postId,postId:s.postId,position:s.position,streamId:t.id,archived:t.archived},null,8,["postId","position","streamId","archived"])):"featuredAd"===s.type?((0,B.wg)(),(0,B.j4)(B.HY,{key:1},[t.archived?(0,B.ry)("",!0):((0,B.wg)(),(0,B.j4)(a,{key:s.id,featuredAd:s.featuredAd},null,8,["featuredAd"]))],64)):"inlineAd"===s.type?((0,B.wg)(),(0,B.j4)(B.HY,{key:2},[t.archived?(0,B.ry)("",!0):((0,B.wg)(),(0,B.j4)(c,{class:"inline-ad-container",key:s.id,adContainers:s.adContainers,onObserveAd:e.observeAd,onUnobserveAd:e.unobserveAd},null,8,["adContainers","onObserveAd","onUnobserveAd"]))],64)):(0,B.ry)("",!0)],64)))),128))],512),[[me.F8,!t.archived]])],12,["id"])))),256)),(0,B.Wm)("div",Po,[(0,B.Wm)(l,{ref:"loadMore",threshold:i.infiniteLoadDistance,onLoadMore:i.loadMoreHandler},null,8,["threshold","onLoadMore"]),i.hasNoMorePost?((0,B.wg)(),(0,B.j4)("a",ko,"No more posts")):((0,B.wg)(),(0,B.j4)("a",Io,[Ao]))])],64))],4)}};function Qr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function ei(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Qr(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapActions:ti}=(0,q._p)("post"),{mapGetters:si}=(0,q._p)("commentSystem/comment"),oi={mixins:[Dr],props:{postId:String},components:{PostListAds:Sr.Z,ListContent:Xr},watch:{postId(){this.checkNextPost(),this.showBelowCommentAd=!1},getComments:{handler:function(e){e.length<5||(this.showBelowCommentAd=!0)},immediate:!0}},data:()=>({hasNextPost:!1,preloadAdsMargin:.25,showBelowCommentAd:!1}),computed:ei(ei({},si(["getComments"])),{},{adContainers(){return this.showBelowCommentAd?this.getAdContainers(null):[]},afterPostId:function(){return this.postId}}),methods:ei(ei({},ti({toNextPost:"TO_NEXT_POST"})),{},{checkNextPost:function(){this.toNextPost().then((e=>{this.hasNextPost=null!=e&&e!==this.postId}))}}),mounted(){this.checkNextPost()}};s(1742),oi.render=To,oi.__scopeId="data-v-845e83c0";const ri=oi;var ii=s(5670).default;function ni(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function ai(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ni(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:ci}=(0,q._p)("app"),{mapGetters:li}=(0,q._p)("post"),{mapGetters:di}=(0,q._p)("user"),{mapGetters:ui}=(0,q._p)("config"),pi=async(e,t)=>{const s=Oo.Z.getApiInfo(e),o=e.params.postId,{posts:r}=V.Z.state.post,{data:i}=V.Z.state.config;if(!r[o]){if(!t.name&&i)return await V.Z.dispatch("post/SET_CURRENT_API_INFO",s),void V.Z.dispatch("post/INIT_PAGE_POSTS",i);bo.show(),await V.Z.dispatch("post/SET_NEXT_API_INFO",s);try{if(await V.Z.dispatch("post/LOAD_PAGE_POSTS",{addCurrentPost:!0}),!r[o])throw new Error("Post not found");await V.Z.dispatch("post/SET_CURRENT_API_INFO",s)}catch(t){ii.log(t),window.location.href=e.fullPath}}},hi={mixins:[Bt],data:()=>({containerPadding:32,showPostList:!1}),watch:{$route(){this.showPostList=!1}},provide(){return{onScrollComplete:this.onScrollComplete}},components:{PostItem:yo,CommentSystem:(0,B.RC)((()=>s.e(261).then(s.bind(s,7898)))),PostPagePostList:ri},computed:ai(ai(ai(ai(ai({},li({getPost:"GET_POST"})),ui({getConfig:"GET_CONFIG"})),di({user:"USER"})),ci(["topNavHeight"])),{},{postId(){return this.$route.params.postId},post(){return this.getPost(this.postId)},commentOptions(){return this.getConfig("configs.comment")},commentAuth(){return this.user.commentAuth||""},isEmbedComment(){return this.$route.name===Oe.Z.EMBED_COMMENT}}),methods:{onScrollComplete(){this.isEmbedComment||(this.showPostList=!0)},getMaxFixedToolbarHeight(){const e=this.$refs.postList;return e?e.$el.offsetTop-this.topNavHeight:null}},created(){D.Z.$on("post::toNextPost",this.nextPost),D.Z.$on("post::toPrevPost",this.prevPost)},async beforeRouteEnter(e,t){await pi(e,t)},async beforeRouteUpdate(e,t){await pi(e,t)},unmounted(){D.Z.$off("post::toNextPost",this.nextPost),D.Z.$off("post::toPrevPost",this.prevPost)},render:function(e,t,s,o,r,i){const n=(0,B.up)("PostItem"),a=(0,B.up)("CommentSystem"),c=(0,B.up)("PostPagePostList");return(0,B.wg)(),(0,B.j4)("div",_e,[i.isEmbedComment?(0,B.ry)("",!0):((0,B.wg)(),(0,B.j4)(n,{key:0,postId:i.postId,maxFixedToolbarHeight:i.getMaxFixedToolbarHeight},null,8,["postId","maxFixedToolbarHeight"])),ve,Se,(0,B.Wm)("section",Te,[(0,B.Wm)(a,{post:i.post,"comment-auth":i.commentAuth,"comment-options":i.commentOptions},null,8,["post","comment-auth","comment-options"])]),r.showPostList?((0,B.wg)(),(0,B.j4)(c,{key:1,ref:"postList",postId:i.postId},null,8,["postId"])):(0,B.ry)("",!0)])}},mi={class:"main-wrap"},gi={class:"profile"},fi={class:"profile-header"},yi={class:"img-container"},Oi={class:"tab-bar"},bi={class:"menu"};var _i=s(2662).default;const vi={defaultTitle:()=>"9GAG: Go Fun The World",hot:()=>"9GAG Hot",trending:()=>"9GAG Trending",fresh:()=>"9GAG Fresh",post:e=>`${e} - 9GAG`,section:e=>`9GAG ${e}`,interest:e=>`9GAG ${e}`,tag:e=>`Best 30+ ${e} fun on 9GAG`,u:e=>`${e} - 9GAG`},Si={async setPageTitle(e,t=""){let s="";s=vi[e]?vi[e](t):vi.defaultTitle(),_i.PageController.setPageTitle(s)},async refreshPageTitle(){_i.PageController.refreshPageTitle()}};function Ti(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function wi(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ti(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:Ei}=(0,q._p)("section"),Pi={mixins:[Ue.Z,$e.Z],computed:wi(wi({},Ei({getSection:"GET_SECTION"})),{},{currentSectionUrl(){return this.$route.params.section},currentSection(){return this.getSection(this.currentSectionUrl)},selected(){return{hot:{selected:this.type===Nr.Z.HOT},fresh:{selected:this.type===Nr.Z.FRESH}}}}),render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("div",gi,[(0,B.Wm)("section",fi,[(0,B.Wm)("div",yi,[(0,B.Wm)("picture",null,[(0,B.Wm)("source",{srcset:i.currentSection.ogWebpUrl,type:"image/webp"},null,8,["srcset"]),(0,B.Wm)("img",{src:i.currentSection.ogImageUrl},null,8,["src"])])]),(0,B.Wm)("header",null,[(0,B.Wm)("h2",null,(0,G.zw)(i.currentSection.name),1),(0,B.Wm)("p",null,(0,G.zw)(i.currentSection.description),1)])]),(0,B.Wm)("div",Oi,[(0,B.Wm)("ul",bi,[(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:i.selected.hot,href:e.getRoute({params:{type:"hot"}}),onClick:t[1]||(t[1]=t=>e.track("SectionNavigation","TapHot"))},"Hot",10,["href"])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:i.selected.fresh,href:e.getRoute({params:{type:"fresh"}}),onClick:t[2]||(t[2]=t=>e.track("SectionNavigation","TapFresh"))},"Fresh",10,["href"])])])])])}},Ii={class:"profile"},Ai={class:"profile-header"},ki={class:"tab-bar"},Di={class:"menu"};var Ci=s(6296).default;function Ui(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Li(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ui(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:Ni}=(0,q._p)("tag"),ji={mixins:[Ue.Z,$e.Z],computed:Li(Li({},Ni({tagNav:"TAG_NAV"})),{},{displayTagName(){return this.tagNav?this.tagNav.key:Ci.capitalize(this.$route.params.tag)},selected(){return{hot:{selected:this.type===Nr.Z.HOT},fresh:{selected:this.type===Nr.Z.FRESH}}}}),render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("div",Ii,[(0,B.Wm)("section",Ai,[(0,B.Wm)("header",null,[(0,B.Wm)("h1",null,(0,G.zw)(i.displayTagName),1)])]),(0,B.Wm)("div",ki,[(0,B.Wm)("ul",Di,[(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:i.selected.hot,href:e.getRoute({params:{type:"hot"}}),onClick:t[1]||(t[1]=t=>e.track("TagNavigation","TapHot"))}," Hot ",10,["href"])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:i.selected.fresh,href:e.getRoute({params:{type:"fresh"}}),onClick:t[2]||(t[2]=t=>e.track("TagNavigation","TapFresh"))}," Fresh ",10,["href"])])])])])}},Ri={class:"field"};var Mi=s(6296).default;const xi={mixins:[$e.Z],methods:{submitSearch(e){const t=this.$refs.query.value;this.$router.push(Mi.getSearchUrl(t)),this.track("Search","SubmitSearch",{Element:"SearchPageInputBox"})}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("form",{id:"listview-search",action:e.$route.path,onSubmit:t[1]||(t[1]=(0,me.iM)(((...e)=>i.submitSearch&&i.submitSearch(...e)),["prevent"]))},[(0,B.Wm)("div",Ri,[(0,B.Wm)("input",{id:"search-hero",type:"text",name:"query",ref:"query",value:e.$route.query.query},null,8,["value"])])],40,["action"])}},Wi={class:"profile"},Vi={class:"profile-header"},Bi={class:"img-container round"},Gi={key:0,class:"verified-account"},Fi={key:1,class:"badge pro plus"},Zi={key:2,class:"badge pro"},$i={key:0},Hi={class:"profile-about"},Ki={class:"tab-bar"},zi={class:"menu"},Yi={key:0},qi={class:"option"},Ji=(0,B.Wm)("div",{class:"clearfix"},null,-1),Xi={key:0,class:"popup-menu profile-more"},Qi={key:0},en={key:1},tn={key:2};var sn=s(4258),on=s(2976),rn=s(5381),nn=s(3534),an=s(6296).default,cn=s(7651).default,ln=s(8912).default;function dn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function un(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dn(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:pn}=(0,q._p)("user"),{mapGetters:hn}=(0,q._p)("profile"),{mapActions:mn}=(0,q._p)("toast"),{mapActions:gn,mapGetters:fn}=(0,q._p)("user/settings"),{mapActions:yn}=(0,q._p)("modal"),On={mixins:[Ue.Z,ot.Z,$e.Z],directives:{ClickOutside:Rt},data:()=>({showMenu:!1}),computed:un(un(un(un({},pn(["user"])),hn({getProfileByUserName:"GET_PROFILE_BY_USERNAME"})),fn({isUserBlocked:sn.xN})),{},{username(){return this.$route.params.username},profile(){return this.getProfileByUserName(this.username)},displayName(){return`${an.htmlDecode(this.profile.fullName)||""} `},emojiStatus(){return this.profile.emojiStatus||""},about(){return an.htmlDecode(this.profile.about)},viewingOtherUser(){return this.user.username!==this.username},userData(){return{displayName:this.username,accountID:this.profile.accountId}},hideProBadge(){const{preferences:e}=this.profile;return!!e&&!!e.hideProBadge},isPro(){return!!this.profile.isActivePro},isProPlus(){return!!this.profile.isActiveProPlus},isVerifiedAccount(){return!!this.profile.isVerifiedAccount},accountAge(){return cn.getAccountAge(this.profile.creationTs)},selected(){return{overview:{selected:this.type===Nr.Z.OVERVIEW},posts:{selected:this.type===Nr.Z.POSTS},likes:{selected:this.type===Nr.Z.LIKES},comments:{selected:this.type===Nr.Z.COMMENTS}}},canShowBlock(){return this.viewingOtherUser&&!this.isUserBlocked(this.profile.accountId)},canShowUnblock(){return this.viewingOtherUser&&this.isUserBlocked(this.profile.accountId)}}),methods:un(un(un(un({},mn({displayToast:It.ot.DISPLAY_TOAST})),gn({setUserToBlock:sn.bR,unblockUser:sn.jk})),yn({showModal:nn.Wb})),{},{report(){this.ensureLoggedIn()&&W.Z.showReportOverlay({type:ft.Z.TYPES.PROFILE,objectId:this.profile.username})},block(){this.track(on.R.USER,on.e.BLOCK_USER),this.setUserToBlock(this.userData),this.showModal({state:rn.Hi,modalComponent:"modules/user/components/Settings/Blocklist/Modals/BlockUser"})},unblock(){this.track(on.R.USER,on.e.UNBLOCK_USER),this.unblockUser({accountID:this.profile.accountId,username:this.username})},copyLink(){this.track("ProfileAction","CopyUrl"),Pt.Z.copyText(this.profile.profileUrl).then((()=>this.displayToast({type:ln.INFO,msg:"Link Copied.",dismiss:!0})))},clickMenu(){this.showMenu=!this.showMenu},hideMenu(){this.showMenu=!1}}),render:function(e,t,s,o,r,i){const n=(0,B.Q2)("click-outside");return(0,B.wg)(),(0,B.j4)("div",Wi,[(0,B.Wm)("section",Vi,[(0,B.Wm)("div",Bi,[(0,B.Wm)("img",{src:i.profile.avatarUrl,alt:"Profile Pic"},null,8,["src"])]),(0,B.Wm)("header",null,[(0,B.Wm)("h2",null,[(0,B.Uk)((0,G.zw)(i.displayName)+" ",1),i.isVerifiedAccount?((0,B.wg)(),(0,B.j4)("span",Gi)):(0,B.ry)("",!0),(0,B.Uk)(" "+(0,G.zw)(i.emojiStatus)+" ",1),i.isProPlus&&!i.hideProBadge?((0,B.wg)(),(0,B.j4)("span",Fi,"Pro+")):i.isPro&&!i.hideProBadge?((0,B.wg)(),(0,B.j4)("span",Zi,"Pro")):(0,B.ry)("",!0)]),(0,B.Wm)("p",null,[(0,B.Uk)((0,G.zw)(`@${i.username}`)+" ",1),i.accountAge?((0,B.wg)(),(0,B.j4)("span",$i,"  "+(0,G.zw)(i.accountAge),1)):(0,B.ry)("",!0)])])]),(0,B.Wm)("section",Hi,(0,G.zw)(i.about),1),(0,B.Wm)("div",Ki,[(0,B.Wm)("ul",zi,[(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:i.selected.overview,href:e.getRoute({params:{type:"overview"}})}," Home ",10,["href"])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:i.selected.posts,href:e.getRoute({params:{type:"posts"}})}," Posts ",10,["href"])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:i.selected.comments,href:e.getRoute({params:{type:"comments"}})}," Comments ",10,["href"])]),i.viewingOtherUser?(0,B.ry)("",!0):((0,B.wg)(),(0,B.j4)("li",Yi,[(0,B.Wm)("a",{class:i.selected.likes,href:e.getRoute({params:{type:"likes"}})}," Upvotes ",10,["href"])]))]),(0,B.Wm)("div",qi,[(0,B.Wm)("a",{class:"more",href:"javascript:void(0);",onClick:t[1]||(t[1]=(0,me.iM)(((...e)=>i.clickMenu&&i.clickMenu(...e)),["stop"]))},"More")]),Ji,r.showMenu?(0,B.wy)(((0,B.wg)(),(0,B.j4)("div",Xi,[(0,B.Wm)("ul",{onClick:t[6]||(t[6]=(...e)=>i.hideMenu&&i.hideMenu(...e))},[(0,B.Wm)("li",null,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[2]||(t[2]=(...e)=>i.copyLink&&i.copyLink(...e))},"Copy link")]),i.canShowBlock?((0,B.wg)(),(0,B.j4)("li",Qi,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[3]||(t[3]=(...e)=>i.block&&i.block(...e))},"Block @"+(0,G.zw)(i.username),1)])):i.canShowUnblock?((0,B.wg)(),(0,B.j4)("li",en,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[4]||(t[4]=(...e)=>i.unblock&&i.unblock(...e))},"Unblock @"+(0,G.zw)(i.username),1)])):(0,B.ry)("",!0),i.viewingOtherUser?((0,B.wg)(),(0,B.j4)("li",tn,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[5]||(t[5]=(...e)=>i.report&&i.report(...e))},"Report @"+(0,G.zw)(i.username),1)])):(0,B.ry)("",!0)])],512)),[[n,i.hideMenu]]):(0,B.ry)("",!0)])])}},bn="featured",_n={class:"post-tag"},vn={mixins:[$e.Z],props:{tags:Array,type:String},computed:{gaAction(){return this.type===bn?"ViewFeaturedTag":"ViewRelatedTag"},ref(){return this.type===bn?"featured-tag":"related-tag"},label(){return this.type===bn?"featured-tag-label":"related-tag-label"}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("div",_n,[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(s.tags,(t=>((0,B.wg)(),(0,B.j4)("a",{href:`${t.url}?ref=${i.ref}`,key:t.key,onClick:s=>e.track("PostList",i.gaAction,{[i.label]:t.key})},(0,G.zw)(t.key),9,["href","onClick"])))),128))])}},Sn=(0,B.HX)("data-v-28b16781")(((e,t,s,o,r,i)=>((0,B.wg)(),(0,B.j4)("div",{class:["sticky-navbar",{sticky:r.isSticky}],style:i.navbarStyle,ref:"navbar"},[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(r.navList,(t=>((0,B.wg)(),(0,B.j4)("a",{href:t.url,class:{selected:t.type===i.activeLink},onClick:s=>e.track("StickyNavbar",t.action)},(0,G.zw)(t.label),11,["href","onClick"])))),256))],6))));var Tn=s(7637).default,wn=s(9012).default;function En(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Pn(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?En(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):En(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:In,mapGetters:An}=(0,q._p)("app"),kn=[{label:"Hot",url:"/hot",type:Tn.HOT,action:"TapHot"},{label:"Trending",url:"/trending",type:Tn.TRENDING,action:"TapTrending"},{label:"Fresh",url:"/fresh",type:Tn.FRESH,action:"TapFresh"}],Dn={mixins:[$e.Z],data:()=>({navList:kn,isSticky:!1,navbarPadding:16,navbarOffsetTop:0}),watch:{drawer(e,t){!t&&e&&(this.isSticky=!1)}},computed:Pn(Pn({},In(["topNavHeight","drawer"])),{},{activeLink(){return this.$route.params.type||"hot"},navbarStyle(){return this.isSticky?{top:`${this.topNavHeight}px`,paddingTop:`${this.navbarPadding}px`}:null}}),methods:{rangeCheck(){this.drawer||(this.isSticky=this.navbarOffsetTop-this.topNavHeight-this.navbarPadding<=window.pageYOffset)}},created(){wn.addEventListener("scroll",this.rangeCheck)},mounted(){this.navbarOffsetTop=this.$refs.navbar.offsetTop},unmounted(){wn.removeEventListener("scroll",this.rangeCheck)}};s(5829),Dn.render=Sn,Dn.__scopeId="data-v-28b16781";const Cn=Dn,Un=(0,B.HX)("data-v-3b7d62f9");(0,B.dD)("data-v-3b7d62f9");const Ln={class:"blocked-profile"},Nn={class:"blocked-profile_heading"},jn=(0,B.Wm)("span",{class:"blocked-profile_caption"},"Unblock to see his profile.",-1);(0,B.Cn)();const Rn=Un(((e,t,s,o,r,i)=>((0,B.wg)(),(0,B.j4)("section",Ln,[(0,B.Wm)("h3",Nn,"Youve blocked @"+(0,G.zw)(i.username),1),jn])))),Mn={name:"BlockedUserProfilePlaceholder",computed:{username(){return this.$route.params.username}}};s(5929),Mn.render=Rn,Mn.__scopeId="data-v-3b7d62f9";const xn=Mn;var Wn=s(5670).default;function Vn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Bn(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Vn(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapActions:Gn}=(0,q._p)("post"),{mapGetters:Fn}=(0,q._p)("user/settings"),{mapGetters:Zn}=(0,q._p)("tag"),{mapGetters:$n}=(0,q._p)("profile"),Hn=async(e,t)=>{const s=Oo.Z.getApiInfo(e),{postIdsByUrl:o}=V.Z.state.post,{data:r}=V.Z.state.config;if(o[s.url])await V.Z.dispatch("post/SET_CURRENT_API_INFO",s);else{if(!t.name&&r)return await V.Z.dispatch("post/SET_CURRENT_API_INFO",s),void await V.Z.dispatch("post/INIT_LIST_POSTS",{data:r,hydrate:!0});bo.show(),await V.Z.dispatch("post/SET_NEXT_API_INFO",s);try{const e=await V.Z.dispatch("post/LOAD_LIST_POSTS");if(await V.Z.dispatch("post/INIT_LIST_POSTS",{data:e.data}),!o[s.url])throw new Error("PostList not found");await V.Z.dispatch("post/SET_CURRENT_API_INFO",s)}catch(t){Wn.log(t),window.location.href=e.fullPath}}},Kn={mixins:[Gs],data:()=>({visibleStream:0}),computed:Bn(Bn(Bn(Bn({},Zn({tags:"TAGS"})),Fn({isUserBlockedGetter:sn.xN})),$n({profileGetter:"GET_PROFILE_BY_USERNAME"})),{},{profile(){return this.$route.params.username?this.profileGetter(this.$route.params.username):null},isUserBlocked(){return this.profile?this.isUserBlockedGetter(this.profile.accountId):null},showSectionNav(){return[Oe.Z.SECTION_LIST,Oe.Z.SECTION_POST_LIST].includes(this.$route.name)},showStickyNav(){return this.$route.name===Oe.Z.POST_LIST},showTagNav(){return this.$route.name===Oe.Z.TAG_POST_LIST},showSearchNav(){return this.$route.name===Oe.Z.SEARCH_POST_LIST},showProfileNav(){return this.$route.name===Oe.Z.USER_POST_LIST},tagType(){return[Oe.Z.TAG_POST_LIST,Oe.Z.SEARCH_POST_LIST].includes(this.$route.name)?"related":bn}}),methods:Bn(Bn({},Gn({setLastPosition:"SET_LAST_POSITION"})),{},{streamVisible(e){this.visibleStream=e},lastPositionHandler(e,t){Oe.Z.LIST_VIEWS.includes(t.name)&&this.setLastPosition({top:window.scrollY,stream:this.visibleStream})}}),async beforeRouteEnter(e,t){await Hn(e,t)},async beforeRouteUpdate(e,t){this.lastPositionHandler(e,t),await Hn(e,t)},beforeRouteLeave(e,t){this.lastPositionHandler(e,t)},components:{ListContent:Xr,SectionNavBar:Pi,TagNavBar:ji,PostListStickyNavbar:Cn,PostListTag:vn,SearchNavBar:xi,ProfileNavBar:On,ProfileBlankState:Vr,BlockedUserProfilePlaceholder:xn},render:function(e,t,s,o,r,i){const n=(0,B.up)("SectionNavBar"),a=(0,B.up)("TagNavBar"),c=(0,B.up)("ProfileNavBar"),l=(0,B.up)("SearchNavBar"),d=(0,B.up)("PostListStickyNavbar"),u=(0,B.up)("PostListTag"),p=(0,B.up)("BlockedUserProfilePlaceholder"),h=(0,B.up)("ProfileBlankState"),m=(0,B.up)("ListContent");return(0,B.wg)(),(0,B.j4)("div",mi,[i.showSectionNav?((0,B.wg)(),(0,B.j4)(n,{key:0})):i.showTagNav?((0,B.wg)(),(0,B.j4)(a,{key:1})):i.showProfileNav?((0,B.wg)(),(0,B.j4)(c,{key:2})):i.showSearchNav?((0,B.wg)(),(0,B.j4)(l,{key:3})):(0,B.ry)("",!0),i.showStickyNav?((0,B.wg)(),(0,B.j4)(d,{key:4})):(0,B.ry)("",!0),e.tags.length>0?((0,B.wg)(),(0,B.j4)(u,{key:5,tags:e.tags,type:i.tagType},null,8,["tags","type"])):(0,B.ry)("",!0),i.isUserBlocked?((0,B.wg)(),(0,B.j4)(p,{key:6})):((0,B.wg)(),(0,B.j4)(m,{key:7,onStreamVisible:i.streamVisible},(0,B.Nv)({_:2},[i.showProfileNav?{name:"blank-state",fn:(0,B.w5)((()=>[(0,B.Wm)(h)]))}:void 0]),1032,["onStreamVisible"]))])}},zn={id:"signup"},Yn=(0,B.Wm)("h2",null,"Log in",-1),qn=(0,B.Wm)("p",{class:"lead"},"Connect with a social network",-1),Jn={id:"login-email",action:"/login",method:"POST"},Xn=(0,B.Wm)("p",{class:"lead"},"Log in with your Email",-1),Qn={class:"field"},ea=(0,B.Wm)("label",{for:"login-email-name"},"Email",-1),ta={id:"login-email-name",type:"text",name:"username",ref:"username"},sa={class:"field"},oa=(0,B.Wm)("label",{for:"login-email-password"},"Password",-1),ra=(0,B.Wm)("input",{id:"login-email-password",type:"password",name:"password",value:""},null,-1),ia={key:0,class:"error-message red"},na={class:"btn-container"},aa={class:"social-signup"},ca={props:["isLogin","nextUrl"],mixins:[$e.Z],computed:{trackCategory(){return this.isLogin?"Login":"SignUp"},next(){return this.nextUrl?this.nextUrl:this.$route?this.$route.fullPath:"/"},facebookUrl(){return`/connect/facebook?next=${encodeURIComponent(this.next)}`},googleUrl(){return`/connect/google?next=${encodeURIComponent(this.next)}`}},methods:{onFbConnect(){this.track(this.trackCategory,"ConnectFacebook");const e=JSON.stringify({a:!1,d:!1,lo:!1,dl:!1});O.t8(w.Z.autoConnectKey,e,y.Z.getCookieOptions())},onGoogleConnect(){this.track(this.trackCategory,"ConnectGoogle")}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("div",aa,[(0,B.Wm)("a",{class:"btn-connect-option facebook",href:i.facebookUrl,onClick:t[1]||(t[1]=(...e)=>i.onFbConnect&&i.onFbConnect(...e))}," Facebook ",8,["href"]),(0,B.Wm)("a",{class:"btn-connect-option google",href:i.googleUrl,onClick:t[2]||(t[2]=(...e)=>i.onGoogleConnect&&i.onGoogleConnect(...e))}," Google ",8,["href"])])}},la={class:"get-the-app-component"},da={class:"get-the-app"},ua=(0,B.Wm)("h3",null,"Get 9GAG app",-1),pa={mixins:[$e.Z],props:["isLogin"],computed:{trackCategory(){return this.isLogin?"Login":"SignUp"}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("div",la,[(0,B.Wm)("div",da,[ua,(0,B.Wm)("ul",null,[(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"app-store",href:"/ios",target:"_blank",onClick:t[1]||(t[1]=t=>e.track(i.trackCategory,"DownloadApple"))},"Download on App Store")]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"google-play",href:"/android",target:"_blank",onClick:t[2]||(t[2]=t=>e.track(i.trackCategory,"DownloadGoogle"))},"Get it on Google Play")])])])])}};function ha(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function ma(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ha(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:ga}=(0,q._p)("config"),fa={mixins:[$e.Z],props:["nextUrl"],components:{SocialConnectBtn:ca,GetTheApp:pa},computed:ma(ma({},ga({getData:"GET_DATA"})),{},{loginConfig(){return this.getData("login")||{}},loginNextUrl(){if(this.nextUrl)return this.nextUrl;const{next:e,ref:t}=this.$route&&this.$route.query||{};return e||(t&&0===t.indexOf("/")?t:this.$route?this.$route.fullPath:"/")},showErrorMsg(){return!!this.errorMsg},errorMsg(){switch(this.loginConfig.errorCode){case"LOGIN_FAILED":return"Your email or password were incorrect.";case"LOGIN_ERROR":return"An error occurred. Please try again later."}return null}}),methods:{onForgotPassword(){this.track("Login","TapForgotPassword")},onEmailLogin(){this.track("Login","LoginEmail")}},mounted(){this.$refs.username.focus()},render:function(e,t,s,o,r,i){const n=(0,B.up)("SocialConnectBtn"),a=(0,B.up)("GetTheApp");return(0,B.wg)(),(0,B.j4)("div",null,[Yn,qn,(0,B.Wm)(n,{isLogin:!0,nextUrl:i.loginNextUrl},null,8,["nextUrl"]),(0,B.Wm)("form",Jn,[(0,B.Wm)("input",{type:"hidden",name:"next",value:i.loginNextUrl},null,8,["value"]),Xn,(0,B.Wm)("div",Qn,[ea,(0,B.Wm)("input",ta,null,512)]),(0,B.Wm)("div",sa,[oa,ra,i.showErrorMsg?((0,B.wg)(),(0,B.j4)("p",ia,(0,G.zw)(i.errorMsg),1)):(0,B.ry)("",!0)]),(0,B.Wm)("div",na,[(0,B.Wm)("input",{class:"btn left",type:"submit",value:"Log in",onClick:t[1]||(t[1]=(...e)=>i.onEmailLogin&&i.onEmailLogin(...e))}),(0,B.Wm)("a",{class:"forgot-password",href:"/recover",onClick:t[2]||(t[2]=(...e)=>i.onForgotPassword&&i.onForgotPassword(...e))}," Forgot password ")])]),(0,B.Wm)(a,{isLogin:!0})])}},ya={components:{Login:fa},render:function(e,t,s,o,r,i){const n=(0,B.up)("Login");return(0,B.wg)(),(0,B.j4)("section",zn,[(0,B.Wm)(n)])}},Oa={id:"signup"},ba={id:"signup-fb"},_a=(0,B.Wm)("h2",null,"Hey there!",-1),va=(0,B.Wm)("p",{class:"lead"},"9GAG is your best source for fun. Share anything you find interesting, get real responses from people all over the world, and discover what makes you laugh.",-1),Sa={key:0,class:"alternative"},Ta=(0,B.Uk)("Sign up with your "),wa={class:"alternative"},Ea=(0,B.Uk)("Have an account? ");function Pa(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Ia(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Pa(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:Aa}=(0,q._p)("config"),ka={props:["showSignupEmail","showLogin","nextUrl"],mixins:[$e.Z],components:{SocialConnectBtn:ca,GetTheApp:pa},computed:Ia(Ia({},Aa({getConfig:"GET_CONFIG"})),{},{isSignupEnabled(){return this.getConfig("page.signup.enabled",!0)}}),methods:{onEmailSignup(){this.track("SignUp","TapSignUpEmail"),this.showSignupEmail()},onEmailLogin(){this.track("SignUp","TapLogin"),this.showLogin()}},render:function(e,t,s,o,r,i){const n=(0,B.up)("SocialConnectBtn"),a=(0,B.up)("GetTheApp");return(0,B.wg)(),(0,B.j4)("div",ba,[_a,va,(0,B.Wm)(n,{isLogin:!1,nextUrl:s.nextUrl},null,8,["nextUrl"]),i.isSignupEnabled?((0,B.wg)(),(0,B.j4)("p",Sa,[Ta,(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.onEmailSignup&&i.onEmailSignup(...e))},"Email")])):(0,B.ry)("",!0),(0,B.Wm)("p",wa,[Ea,(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[2]||(t[2]=(...e)=>i.onEmailLogin&&i.onEmailLogin(...e))},"Log in")]),(0,B.Wm)(a,{isLogin:!1})])}},Da={id:"signup-email"},Ca={key:0},Ua={key:1},La={action:"/member/email-signup",method:"POST",ref:"signupForm"},Na={class:"field"},ja=(0,B.Wm)("label",{for:"signup-email-name"},"Full name",-1),Ra={class:"field"},Ma=(0,B.Wm)("label",{for:"signup-email-email"},"Email",-1),xa={class:"field"},Wa=(0,B.Wm)("label",{for:"signup-email-password"},"Password",-1),Va=(0,B.Wm)("label",{for:"signup-email-news",class:"signup-email-news"},[(0,B.Uk)(" Sign up for our newsletter. You can unsubscribe any time. See our "),(0,B.Wm)("a",{target:"_blank",href:"/privacy"},"Privacy Policy"),(0,B.Uk)(" for more details. ")],-1),Ba={class:"field"},Ga=(0,B.Wm)("label",{for:"signup-email-age"},"Age",-1),Fa={class:"field captcha"},Za={class:"error-message red"},$a={class:"btn-container"},Ha=(0,B.Wm)("input",{type:"hidden",name:"app",value:"web"},null,-1);function Ka(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function za(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ka(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:Ya}=(0,q._p)("config"),qa={data:()=>({warning:null,fullname:"",email:"",password:"",age:"",verifyAgeStep:!1,subscribeNews:!1}),watch:{verifyAgeStep(){this.warning=null}},mixins:[$e.Z],props:["nextUrl"],components:{SocialConnectBtn:ca,Recaptcha:ie},computed:za(za({},Ya({getConfig:"GET_CONFIG",getData:"GET_DATA"})),{},{recaptchaKey(){return this.getConfig("configs.captchaPublicKey")},signupNextUrl(){if(this.nextUrl)return this.nextUrl;const{next:e,ref:t}=this.$route&&this.$route.query||{};return e||(t&&0===t.indexOf("/")?t:this.$route?this.$route.fullPath:"/")},refererSource(){return(this.$route?this.$route.query.src:null)||""},refererUrl(){return(this.$route?this.$route.query.ref:null)||""},ageVerified(){return this.age>=16?1:0}}),methods:{onEmailSignup(){if(!this.verifyAgeStep){const{email:e,password:t,fullname:s}=this.$refs;return this.email.length&&e.checkValidity()?this.password.length&&t.checkValidity()?this.fullname.length&&s.checkValidity()?void(this.verifyAgeStep=!0):void(this.warning="Please enter your full name."):void(this.warning="Your password must be at least 6 characters that is alphanumerics."):void(this.warning="Please enter a valid email.")}this.ageVerified?this.$refs.recaptcha.getResponse()?(this.track("SignUp","SignUpEmail"),this.$refs.signupForm.submit()):this.warning="Wrong CAPTCHA.":this.warning="You're too young to use 9GAG."}},mounted(){this.fullname=this.getData("signup.fullname")||"",this.email=this.getData("signup.email")||"",this.warning=this.getData("signup.error")||null,this.$refs.fullname.focus()},render:function(e,t,s,o,r,i){const n=(0,B.up)("Recaptcha");return(0,B.wg)(),(0,B.j4)("div",Da,[r.verifyAgeStep?((0,B.wg)(),(0,B.j4)("h2",Ua,"Verify your age")):((0,B.wg)(),(0,B.j4)("h2",Ca,"Become a member")),(0,B.Wm)("form",La,[(0,B.wy)((0,B.Wm)("div",null,[(0,B.Wm)("div",Na,[ja,(0,B.wy)((0,B.Wm)("input",{id:"signup-email-name",type:"text",name:"fullname",placeholder:"",ref:"fullname","onUpdate:modelValue":t[1]||(t[1]=e=>r.fullname=e),maxlength:"20"},null,512),[[me.nr,r.fullname]])]),(0,B.Wm)("div",Ra,[Ma,(0,B.wy)((0,B.Wm)("input",{id:"signup-email-email",type:"email",name:"email",placeholder:"",ref:"email","onUpdate:modelValue":t[2]||(t[2]=e=>r.email=e)},null,512),[[me.nr,r.email]])]),(0,B.Wm)("div",xa,[Wa,(0,B.wy)((0,B.Wm)("input",{id:"signup-email-password",type:"password",name:"password",ref:"password","onUpdate:modelValue":t[3]||(t[3]=e=>r.password=e),minlength:"6",maxlength:"32"},null,512),[[me.nr,r.password]])]),(0,B.Wm)("div",null,[(0,B.wy)((0,B.Wm)("input",{id:"signup-email-news",type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>r.subscribeNews=e)},null,512),[[me.e8,r.subscribeNews]]),Va])],512),[[me.F8,!r.verifyAgeStep]]),(0,B.wy)((0,B.Wm)("div",Ba,[Ga,(0,B.wy)((0,B.Wm)("input",{type:"text",id:"signup-email-age",placeholder:"Your age","onUpdate:modelValue":t[5]||(t[5]=e=>r.age=e)},null,512),[[me.nr,r.age]])],512),[[me.F8,r.verifyAgeStep]]),(0,B.Wm)("div",Fa,[(0,B.Wm)(n,{ref:"recaptcha",sitekey:i.recaptchaKey},null,8,["sitekey"]),(0,B.Wm)("p",Za,(0,G.zw)(r.warning),1)]),(0,B.Wm)("div",$a,[(0,B.Wm)("a",{class:"btn left",href:"javascript:void(0)",onClick:t[6]||(t[6]=(...e)=>i.onEmailSignup&&i.onEmailSignup(...e))},"Sign up")]),(0,B.Wm)("input",{type:"hidden",name:"next",value:i.signupNextUrl},null,8,["value"]),(0,B.Wm)("input",{type:"hidden",name:"src",value:i.refererSource},null,8,["value"]),(0,B.Wm)("input",{type:"hidden",name:"ref",value:i.refererUrl},null,8,["value"]),(0,B.Wm)("input",{type:"hidden",name:"ageVerified",value:i.ageVerified},null,8,["value"]),(0,B.Wm)("input",{type:"hidden",name:"subscribeNews",value:r.subscribeNews?1:0},null,8,["value"]),Ha],512)])}},Ja={data:()=>({displayEmail:!1}),components:{SignupSocial:ka,SignupEmail:qa},methods:{showLogin(){this.$router.push("login")},showSignupEmail(){this.displayEmail=!0}},created(){this.$route.query&&"email"===this.$route.query.method&&(this.displayEmail=!0)},render:function(e,t,s,o,r,i){const n=(0,B.up)("SignupSocial"),a=(0,B.up)("SignupEmail");return(0,B.wg)(),(0,B.j4)("section",Oa,[r.displayEmail?((0,B.wg)(),(0,B.j4)(a,{key:1})):((0,B.wg)(),(0,B.j4)(n,{key:0,showLogin:i.showLogin,showSignupEmail:i.showSignupEmail},null,8,["showLogin","showSignupEmail"]))])}},Xa={mounted(){he.showUploadPage()},render:function(e,t,s,o,r,i){return null}};function Qa(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}const{mapMutations:ec}=(0,q._p)("noti"),tc={methods:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Qa(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},ec({showNotiMenu:"SHOW_DROPDOWN"})),mounted(){this.showNotiMenu()},render:function(e,t,s,o,r,i){return null}},sc=(0,B.HX)("data-v-15c8f3f2");(0,B.dD)("data-v-15c8f3f2");const oc={ref:"donate"};(0,B.Cn)();const rc=sc(((e,t,s,o,r,i)=>((0,B.wg)(),(0,B.j4)("div",oc,null,512))));var ic=s(3036).default;const nc={props:{text:{type:Boolean,default:!0}},data:()=>({loading:!0}),methods:{renderBlink(){window.blinkSDK.createPG(this.$refs.donate,{type:window.blinkSDK.PANEL_TYPE.donationPage,title:"Donate to 9GAG",text:this.text?"The team at 9GAG is committed to the mission of making the world a happier place. Your contribution fuels this cause.\nYour donation helps pay for the development, servers and bandwidth of 9GAG web and app used by millions around the world every day.\nPlease make a donation today.\nYour contribution, however big or small, is valuable for our future.":"",textStyle:{fontSize:"18px",fontFamily:"'Montserrat', sans-serif"},fonts:[{src:"local('Montserrat'), local('Montserrat-Regular'), url(https://fonts.gstatic.com/s/montserrat/v15/JTUSjIg1_i6t8kCHKm459WlhyyTh89Y.woff2) format('woff2')",style:"normal",family:"'Montserrat'",weight:"400"}]},{},{onMount:()=>{this.loading=!1,this.$emit("loaded")}})}},mounted(){if(window.blinkSDK)this.renderBlink();else{let e="blink.net/1.0/blink-sdk.js?clientId=9gag.com";ic.loadScript(`//${e}`).then(this.renderBlink)}}};s(2169),nc.render=rc,nc.__scopeId="data-v-15c8f3f2";const ac=nc,cc={setPageTitle(e,t){Si.setPageTitle(e,t)}};var lc=s(3678),dc=s(4177).default,uc=s(5652).default;const pc=(0,be.p7)({history:(0,be.PO)(),routes:[{path:"/gag/:postId/:title?",component:hi,name:Oe.Z.POST_PAGE},{path:"/embed-comment/:postId",component:hi,name:Oe.Z.EMBED_COMMENT},{path:"/u/:username/:type(overview|posts|likes|comments)?",component:Kn,name:Oe.Z.USER_POST_LIST},{path:"/tag/:tag/:type(hot|fresh)?",component:Kn,name:Oe.Z.TAG_POST_LIST},{path:"/search",component:Kn,name:Oe.Z.SEARCH_POST_LIST},{path:"/login",component:ya,name:Oe.Z.LOGIN_PAGE},{path:"/signup",component:Ja,name:Oe.Z.SIGNUP_PAGE},{path:"/recover",component:()=>s.e(310).then(s.bind(s,8308)),name:Oe.Z.FORGOT_PASSWORD},{path:"/submit",component:Xa,name:Oe.Z.UPLOAD},{path:"/notifications",component:tc,name:Oe.Z.NOTIFICATIONS},{path:"/donate",component:ac,name:Oe.Z.DONATE},{path:"/member/social-transfer",component:()=>s.e(310).then(s.bind(s,1743)),name:Oe.Z.SOCIAL_TRANSFER},{path:"/member/delete",component:()=>s.e(310).then(s.bind(s,4850)),name:Oe.Z.DELETE_ACCOUNT},{path:"/settings/:type(profile|password|account|privacy|do-not-sell)?",component:()=>s.e(310).then(s.bind(s,1710)),name:Oe.Z.SETTINGS},{path:"/interest/:interest",component:Kn,name:Oe.Z.INTEREST_LIST},{path:"/:type(hot|fresh|trending)?",component:Kn,name:Oe.Z.POST_LIST},{path:"/hot/:postId",component:Kn,name:Oe.Z.HOT_POST_LIST},{path:"/:section/:type(hot|fresh)?",component:Kn,name:Oe.Z.SECTION_LIST},{path:"/:section/:postId",component:Kn,name:Oe.Z.SECTION_POST_LIST}],scrollBehavior(e,t,s){if(s&&Oe.Z.LIST_VIEWS.includes(t.name)&&e.name===Oe.Z.POST_PAGE){const t=V.Z.state.post.postApiInfos[e.params.postId];t&&V.Z.commit("post/SET_CURRENT_API_INFO",t)}if(e.hash)return{selector:e.hash.split("=")[0]};if(Oe.Z.LIST_VIEWS.includes(e.name)){const e=V.Z.getters["post/GET_LAST_POSITION"];if(e)return{top:e.top,left:0}}return{top:0,left:0}}});(0,lc.Z)(V.Z,pc),pc.beforeEach(((e,t,s)=>{Oe.Z.LIST_VIEWS.includes(e.name)&&t.name===Oe.Z.POST_PAGE&&V.Z.dispatch("post/SAVE_POST_API_INFO",t.params.postId),s()})),pc.afterEach(((e,t)=>{(0,B.Y3)((()=>{let t=e.hash.substr(1);0===t.indexOf("cs_comment_id")&&(t="comment"),setTimeout((()=>{const e=document.getElementById(t);e&&dc.scrollTo(e.offsetTop)}),100)}))})),pc.afterEach(((e,t)=>{if(V.Z.dispatch(`session/${It.R5.SET_SESSION_ACTIVE}`),V.Z.dispatch(`session/${It.R5.CHECK_SESSION_REFERRAL}`),y.Z.setRouteInfo(e),sr.setTargeting(e,t),bo.finish(),null!=t.name){switch(D.Z.$emit("nav::hideMenu"),Yo.Z.reset(),N.setPostId(null),V.Z.dispatch("config/CLEAR_HYDRATION"),e.name){case Oe.Z.POST_LIST:case Oe.Z.HOT_POST_LIST:cc.setPageTitle(e.params.type);break;case Oe.Z.POST_PAGE:const{title:t}=V.Z.getters["post/GET_POST"](e.params.postId);t&&cc.setPageTitle("post",t),N.setPostId(e.params.postId);break;case Oe.Z.SECTION_LIST:case Oe.Z.SECTION_POST_LIST:const{name:s}=V.Z.getters["section/GET_SECTION"](e.params.section);s&&cc.setPageTitle("section",s);break;case Oe.Z.INTEREST_LIST:const{name:o}=V.Z.getters["section/GET_INTEREST"](e.params.interest);o&&cc.setPageTitle("interest",o);break;case Oe.Z.TAG_POST_LIST:const{key:r}=V.Z.getters["tag/TAG_NAV"];r&&cc.setPageTitle("tag",r);break;case Oe.Z.USER_POST_LIST:const{fullName:i}=V.Z.getters["profile/GET_PROFILE_BY_USERNAME"](e.params.username);i&&cc.setPageTitle("u",i);break;default:cc.setPageTitle()}e.path===t.path&&e.hash!==t.hash||uc.trackPageView(e.fullPath)}}));const hc=pc,mc={id:"top-nav",ref:"nav"},gc={class:"nav-wrap"},fc={class:"nav-menu"},yc={class:"secondary"};function Oc(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function bc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Oc(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:_c}=(0,q._p)("config"),vc={mixins:[$e.Z],computed:bc(bc({},_c({getConfig:"GET_CONFIG"})),{},{navLinks(){return this.getConfig("page.navLinks",[])}}),render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("nav",fc,[(0,B.Wm)("ul",yc,[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(i.navLinks,(t=>((0,B.wg)(),(0,B.j4)("li",null,[(0,B.Wm)("a",{href:t.url,target:t.blank?"_blank":null,class:{new:t.badge},onClick:s=>e.track("NavigationBar","TapLink",{Url:t.url,Title:t.title})},(0,G.zw)(t.title),11,["href","target","onClick"])])))),256))])])}},Sc={class:"function-wrap"},Tc={class:"general-function"},wc={class:"visitor-function"},Ec={class:"user-function"},Pc={key:0,class:"badge-new"},Ic={class:"avatar"},Ac={key:1,class:"popup-menu user"},kc=(0,B.Wm)("i",null,null,-1),Dc=(0,B.Uk)("Get 9GAG app"),Cc={class:"upload"},Uc={class:"notification-menu"},Lc={class:"tab-bar"},Nc={ref:"list",class:"notification-list viewport"},jc={class:"overview"},Rc={key:0,class:"empty"},Mc={class:"empty-message"},xc={key:1,class:"empty"},Wc=(0,B.Wm)("div",{class:"empty-message"},[(0,B.Wm)("div",{class:"simple-spinner"})],-1),Vc={key:0,class:"simple-spinner",style:{position:"relative"}},Bc={class:"noti-text"},Gc={key:0,class:"noti-text grey"},Fc={key:0,class:"noti-icon right"};var Zc=s(2428),$c=s(1093).default,Hc=s(7651).default;function Kc(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function zc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Kc(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:Yc,mapActions:qc}=(0,q._p)("noti"),{mapActions:Jc}=(0,q._p)("boards"),Xc={props:{item:Object},mixins:[$e.Z],computed:zc(zc({},Yc(["readIds"])),{},{isUnread(){return!this.item.isRead&&!this.readIds.includes(this.item.id)},notiHref(){const{url:e}=this.item;return e||"javascript:void(0)"},largeLogoUrl(){const{suppData:e}=this.item;return this.showAvatar?this.userAvatar:e?e.image:""},showAvatar(){const{type:e}=this.item;switch(e){case $c.UPVOTE:case $c.COMMENT:case $c.COMMENT_REPLY:case $c.COMMENT_UPVOTE:case $c.COMMENT_MENTION:case $c.FOLLOW_THREAD:case $c.USER:return!0}return!1},userAvatar(){const{users:e}=this.item;return e&&e[0]?e[0].avatarUrl:""},profileUrl(){const{users:e}=this.item;return e&&e[0]?this.getProfileRoute({username:e[0].username}):null},htmlMessage(){const{message:e,wrapMessage:t,users:s}=this.item;if(t){let e=t;return s&&s.forEach((t=>{const{username:s}=t,o=`<a target="_blank" href="${this.getProfileRoute({username:s})}">`;e=e.replace(`[${s}]`,`${o}<strong>${s}</strong></a>`)})),e}return e},creationTime(){return this.item.timestamp?Hc.getTimeAgo(this.item.timestamp):""},showPostThumbnail(){return this.item.post&&this.item.post.id},postThumbnail(){const{post:e}=this.item;return e&&e.images?e.images.imageFbThumbnail:{}}}),methods:zc(zc(zc({},qc({setNotiReadState:"SET_INDIVIDUAL_NOTI_READ_STATE",setIsDropdownOpened:"SET__IS_DROPDOWN_OPENED"})),Jc({openBoardFromOutside:Zc.gJ})),{},{markItemAsRead(){this.isUnread&&this.setNotiReadState({itemKeys:this.item.id,states:1})},onNotiClick(e){this.markItemAsRead(),this.track("Noti","OpenNoti");const{post:t,url:s,type:o}=this.item;t&&t.board&&s&&(e.preventDefault(),e.stopPropagation(),this.openBoardFromOutside({boardID:t.id,url:s,type:o}),this.setIsDropdownOpened(!1))},onLogoClick(e){this.showAvatar&&this.profileUrl&&(e.stopPropagation(),this.markItemAsRead(),this.track("Noti","ClickNotiAvatar"))},getProfileRoute:(e,t={})=>hc.resolve({name:Oe.Z.USER_POST_LIST,params:e,query:t}).href}),render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("li",null,[(0,B.Wm)("a",{href:i.notiHref,target:"_blank",class:["noti-item",{unread:i.isUnread}],onClick:t[2]||(t[2]=(...e)=>i.onNotiClick&&i.onNotiClick(...e))},[(0,B.Wm)("a",{href:i.profileUrl,target:"_blank",class:["noti-icon left",{avatar:i.showAvatar}],onClick:t[1]||(t[1]=(...e)=>i.onLogoClick&&i.onLogoClick(...e))},[(0,B.Wm)("img",{src:i.largeLogoUrl},null,8,["src"])],10,["href"]),(0,B.Wm)("div",Bc,[(0,B.Wm)("span",{innerHTML:i.htmlMessage},null,8,["innerHTML"]),i.creationTime?((0,B.wg)(),(0,B.j4)("span",Gc,(0,G.zw)(i.creationTime),1)):(0,B.ry)("",!0)]),i.showPostThumbnail?((0,B.wg)(),(0,B.j4)("div",Fc,[(0,B.Wm)("picture",null,[i.postThumbnail.webpUrl?((0,B.wg)(),(0,B.j4)("source",{key:0,srcset:i.postThumbnail.webpUrl,type:"image/webp"},null,8,["srcset"])):(0,B.ry)("",!0),(0,B.Wm)("img",{src:i.postThumbnail.url},null,8,["src"])])])):(0,B.ry)("",!0)],10,["href"])])}};function Qc(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function el(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Qc(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:tl,mapActions:sl,mapGetters:ol,mapMutations:rl}=(0,q._p)("noti"),il={mixins:[$e.Z],watch:{isMentionsTab(){this.scrollToTop()},nextKey(e){this.didEndOfList||(""===e?this.scrollToTop():this.resetLoadMore())}},computed:el(el(el({},tl(["didEndOfList","nextKey","isMentionsTab"])),ol({notiItems:"NOTI_ITEMS",notiCount:"NOTI_COUNT"})),{},{initLoadingState(){return 0===this.notiCount},showLoadingSpinner(){return!this.didEndOfList},showEmptyState(){return 0===this.notiItems.length&&this.didEndOfList},emptyStateMessage(){return this.isMentionsTab?"No mentions yet":"No notifications yet"}}),methods:el(el(el({},sl({loadNoti:"LOAD_NOTI"})),rl({setMentionsTab:"SET_MENTIONS_TAB"})),{},{loadMoreHandler(){this.showEmptyState||this.loadNoti()},resetLoadMore(){this.$refs.loadMore&&this.$refs.loadMore.reset()},onAllClick(){this.isMentionsTab&&this.setMentionsTab(!1),this.track("Noti","TapAllTab")},onMentionsClick(){this.isMentionsTab||this.setMentionsTab(!0),this.track("Noti","TapMentionsTab")},scrollToTop(){this.$refs.list&&this.$refs.list.scrollTo(0,0)}}),created(){this.isMentionsTab&&this.setMentionsTab(!1),this.initLoadingState&&this.loadNoti()},components:{NotiItem:Xc,LoadMore:Do.Z},render:function(e,t,s,o,r,i){const n=(0,B.up)("NotiItem"),a=(0,B.up)("LoadMore");return(0,B.wg)(),(0,B.j4)("div",Uc,[(0,B.Wm)("div",Lc,[(0,B.Wm)("a",{href:"javascript:void(0)",class:{active:!e.isMentionsTab},onClick:t[1]||(t[1]=(0,me.iM)(((...e)=>i.onAllClick&&i.onAllClick(...e)),["stop"]))}," All ",2),(0,B.Wm)("a",{href:"javascript:void(0)",class:{active:e.isMentionsTab},onClick:t[2]||(t[2]=(0,me.iM)(((...e)=>i.onMentionsClick&&i.onMentionsClick(...e)),["stop"]))}," Mentions ",2)]),(0,B.Wm)("div",Nc,[(0,B.Wm)("ul",jc,[i.showEmptyState?((0,B.wg)(),(0,B.j4)("li",Rc,[(0,B.Wm)("div",Mc,[(0,B.Wm)("p",null,(0,G.zw)(i.emptyStateMessage),1)])])):i.initLoadingState?((0,B.wg)(),(0,B.j4)("li",xc,[Wc])):((0,B.wg)(),(0,B.j4)(B.HY,{key:2},[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(e.notiItems,(e=>((0,B.wg)(),(0,B.j4)(n,{item:e,key:e.id},null,8,["item"])))),128)),(0,B.Wm)(a,{ref:"loadMore",onLoadMore:i.loadMoreHandler,root:e.$refs.list},null,8,["onLoadMore","root"]),i.showLoadingSpinner?((0,B.wg)(),(0,B.j4)("div",Vc)):(0,B.ry)("",!0)],64))])],512)])}},nl={class:"popup-menu search-menu"},al={class:"headbar-search"},cl=(0,B.Wm)("i",{class:"search-icon"},null,-1),ll={class:"headbar-search-suggest"},dl={key:0},ul={class:"count"};var pl=s(6296).default,hl=s(6810).default;function ml(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function gl(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ml(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const fl={mixins:[$e.Z],data:()=>({input:"",selectIndex:0,suggestedTags:[]}),watch:{selectIndex(e,t){e!==t&&(-1===e&&(this.selectIndex=this.suggestedTags.length),this.onSuggest())}},computed:{selectedTag(){return this.suggestedTags[this.selectIndex-1]||null},searchUrl(){return this.selectedTag?this.selectedTag.url:pl.getSearchUrl(this.input)}},methods:{submitSearch(){this.$router.push(this.searchUrl),this.track("Search","SubmitSearch",{Element:"NavigationBarInputBox"})},onInput(e){this.input=e.target.value.trim(),this.selectIndex=0,this.autoComplete()},onSuggest(){this.selectedTag?this.$refs.query.value=this.selectedTag.value:(this.selectIndex=0,this.$refs.query.value=this.input)},async _autoComplete(){if(!this.input.length)return;const e=await hl.getTagSuggestions(this.input);this.suggestedTags=e.map((e=>{const t=pl.getTagUrl(e.value,"search"),s=pl.integerWithCommas(e.count);return gl(gl({},e),{},{url:t,count:s})}))}},created(){this.autoComplete=r()(this._autoComplete,250),this.autoComplete()},mounted(){this.$refs.query.focus()},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("div",nl,[(0,B.Wm)("form",{action:"/search",onSubmit:t[4]||(t[4]=(0,me.iM)(((...e)=>i.submitSearch&&i.submitSearch(...e)),["prevent"]))},[(0,B.Wm)("div",al,[cl,(0,B.Wm)("input",{type:"text",name:"query",ref:"query",autocomplete:"off",onInput:t[1]||(t[1]=(...e)=>i.onInput&&i.onInput(...e)),onKeyup:[t[2]||(t[2]=(0,me.D2)((e=>r.selectIndex++),["down"])),t[3]||(t[3]=(0,me.D2)((e=>r.selectIndex--),["up"]))],placeholder:"Search"},null,544)]),(0,B.Wm)("div",ll,[r.input.length>0?((0,B.wg)(),(0,B.j4)("ul",dl,[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(r.suggestedTags,(e=>((0,B.wg)(),(0,B.j4)("li",null,[(0,B.Wm)("a",{href:e.url},[(0,B.Wm)("span",{class:"suggested",innerHTML:e.highlighted},null,8,["innerHTML"]),(0,B.Wm)("span",ul,(0,G.zw)(e.count),1)],8,["href"])])))),256))])):(0,B.ry)("",!0)])],32)])}},yl=(0,B.HX)("data-v-0730717f");(0,B.dD)("data-v-0730717f");const Ol={key:0,class:"board-system__new-messages"};(0,B.Cn)();const bl=yl(((e,t,s,o,r,i)=>{const n=(0,B.up)("IconMessage"),a=(0,B.up)("IconBase");return(0,B.wg)(),(0,B.j4)("button",{class:["board-system__too-nav-button",i.buttonClass],onClick:t[1]||(t[1]=(...e)=>i.toggleBoard&&i.toggleBoard(...e))},[(0,B.Wm)(a,{"icon-name":"Boards",width:20,height:20},{default:yl((()=>[(0,B.Wm)(n)])),_:1}),e.hasNewUpdates?((0,B.wg)(),(0,B.j4)("span",Ol)):(0,B.ry)("",!0)],2)}));var _l=s(7153);const vl={d:"M19 4H17V13H4V15C4 15.55 4.45 16 5 16H16L20 20V5C20 4.45 19.55 4 19 4ZM15 10V1C15 0.45 14.55 0 14 0H1C0.45 0 0 0.45 0 1V15L4 11H14C14.55 11 15 10.55 15 10Z"},Sl={render:function(e,t){return(0,B.wg)(),(0,B.j4)("path",vl)}};var Tl=s(3257),wl=s(5652).default;function El(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Pl(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?El(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):El(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:Il,mapActions:Al,mapState:kl}=(0,q._p)("boards"),Dl={name:"TopNavBoardButton",components:{IconBase:_l.Z,IconMessage:Sl},computed:Pl(Pl({},Il({currentState:Zc.$j,hasNewUpdates:Zc.P1})),{},{buttonClass(){return"opened"===this.currentState?"active":"closed"}}),methods:Pl(Pl({},Al({setState:Zc.M_})),{},{toggleBoard(){const e="opened"===this.currentState?"closed":"opened";this.setState(e),wl.track(Tl.R.NAVIGATION_BAR,Tl.e.TAP_BOARD)}})};s(9476),Dl.render=bl,Dl.__scopeId="data-v-0730717f";const Cl=Dl;function Ul(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Ll(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ul(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapActions:Nl,mapState:jl}=(0,q._p)("app"),{mapGetters:Rl,mapState:Ml,mapActions:xl}=(0,q._p)("user"),{mapGetters:Wl,mapActions:Vl,mapMutations:Bl,mapState:Gl}=(0,q._p)("noti"),Fl="user",Zl="noti",$l="search",Hl=[Fl,Zl,$l],Kl={mixins:[$e.Z],directives:{ClickOutside:Rt},data:()=>({showMenu:{[Fl]:!1,[Zl]:!1,[$l]:!1}}),computed:Ll(Ll(Ll(Ll(Ll(Ll({},jl(["darkMode"])),Ml(["init"])),Rl({isLoggedIn:"IS_LOGGED_IN",user:"USER"})),Wl({_notiUnreadCount:"NOTI_UNREAD_COUNT"})),Gl({showNotiMenu:e=>e.showDropdown})),{},{notiUnreadCount(){return Math.min(this._notiUnreadCount,99)},showGuest(){return this.init&&!this.isLoggedIn},showUser(){return this.init&&this.isLoggedIn},showUserMenu(){return this.showMenu.user},showSearchMenu(){return this.showMenu.search},profileUrl(){return`/u/${this.user.username}`}}),methods:Ll(Ll(Ll(Ll(Ll({},Nl({_toggleDarkMode:"TOGGLE_DARK_MODE"})),Vl({updateNotiReadState:"UPDATE_NOTI_READ_STATE"})),Bl({_showNotiMenu:"SHOW_DROPDOWN",_hideNotiMenu:"HIDE_DROPDOWN"})),xl({clearUserInfo:"CLEAR_USER_INFO"})),{},{toggleMenu(e){const t=this.showMenu[e];this.hideMenu(),this.showMenu=Ll(Ll({},this.showMenu),{},{[e]:!t})},hideMenu(){const e={};Hl.forEach((t=>{e[t]=!1,t===Zl&&this._hideNotiMenu()})),this.showMenu=e},toggleDarkMode(){this._toggleDarkMode(),this.track("NavigationBar","TapDarkMode")},clickSearch(){this.toggleMenu($l),this.track("NavigationBar","TapSearch")},clickLogin(){D.Z.$emit("Overlay::showLogin"),this.track("NavigationBar","TapLogin")},clickSignup(){D.Z.$emit("Overlay::showSignupSocial"),this.track("NavigationBar","TapSignUp")},clickLogout(){this.clearUserInfo(),this.track("NavigationBar","TapLogout")},clickUpload(){D.Z.$emit("nav::clickUpload"),this.track("UploadAction","TapUpload")},clickUserMenu(){this.toggleMenu(Fl),this.track("NavigationBar","TapAvatar")},clickNotiMenu(){this.showNotiMenu?this.hideNotiMenu():(this.toggleMenu(Zl),this._showNotiMenu(),this.track("Noti","OpenNotiMenu"),this.updateNotiReadState(),Si.refreshPageTitle())},hideNotiMenu(){this.hideMenu(),this._hideNotiMenu()}}),created(){D.Z.$on("nav::hideMenu",this.hideMenu)},components:{TopNavNoti:il,TopNavSearch:fl,TopNavBoardButton:Cl},render:function(e,t,s,o,r,i){const n=(0,B.up)("TopNavSearch"),a=(0,B.up)("TopNavBoardButton"),c=(0,B.up)("TopNavNoti"),l=(0,B.Q2)("click-outside");return(0,B.wg)(),(0,B.j4)("div",Sc,[(0,B.Wm)("div",Tc,[(0,B.Wm)("a",{class:["darkmode-toggle",{active:e.darkMode}],href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.toggleDarkMode&&i.toggleDarkMode(...e))},"Dark mode",2),(0,B.Wm)("a",{class:["search",{selected:i.showSearchMenu}],href:"javascript:void(0);",onClick:t[2]||(t[2]=(0,me.iM)(((...e)=>i.clickSearch&&i.clickSearch(...e)),["stop"]))},"Search",2),i.showSearchMenu?(0,B.wy)(((0,B.wg)(),(0,B.j4)(n,{key:0},null,512)),[[l,i.hideMenu]]):(0,B.ry)("",!0)]),(0,B.wy)((0,B.Wm)("div",wc,[(0,B.Wm)(a),(0,B.Wm)("a",{class:"btn-mute",href:"/login",onClick:t[3]||(t[3]=(0,me.iM)(((...e)=>i.clickLogin&&i.clickLogin(...e)),["prevent","stop"]))},"Log in"),(0,B.Wm)("a",{class:"btn-primary",href:"/signup",onClick:t[4]||(t[4]=(0,me.iM)(((...e)=>i.clickSignup&&i.clickSignup(...e)),["prevent","stop"]))},"Sign up")],512),[[me.F8,i.showGuest]]),(0,B.wy)((0,B.Wm)("div",Ec,[(0,B.Wm)("div",{class:"notification",onClick:t[5]||(t[5]=(0,me.iM)(((...e)=>i.clickNotiMenu&&i.clickNotiMenu(...e)),["prevent","stop"]))},[(0,B.Wm)("a",{class:["bell",{selected:e.showNotiMenu}],href:"/notifications"},null,2),i.notiUnreadCount>0?((0,B.wg)(),(0,B.j4)("div",Pc,(0,G.zw)(i.notiUnreadCount),1)):(0,B.ry)("",!0)]),e.showNotiMenu?(0,B.wy)(((0,B.wg)(),(0,B.j4)(c,{key:0},null,512)),[[l,i.hideNotiMenu]]):(0,B.ry)("",!0),(0,B.Wm)(a),(0,B.Wm)("div",Ic,[(0,B.Wm)("a",{class:"avatar-container",href:i.profileUrl,onClick:t[6]||(t[6]=(0,me.iM)(((...e)=>i.clickUserMenu&&i.clickUserMenu(...e)),["prevent","stop"]))},[(0,B.Wm)("img",{src:e.user.avatarUrl,alt:"Avatar"},null,8,["src"])],8,["href"])]),i.showUserMenu?(0,B.wy)(((0,B.wg)(),(0,B.j4)("div",Ac,[(0,B.Wm)("ul",{onClick:t[11]||(t[11]=(...e)=>i.hideMenu&&i.hideMenu(...e))},[(0,B.Wm)("li",null,[(0,B.Wm)("a",{href:i.profileUrl,onClick:t[7]||(t[7]=t=>e.track("NavigationBar","TapProfile"))},"My Profile",8,["href"])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{href:"/settings",onClick:t[8]||(t[8]=t=>e.track("NavigationBar","TapSettings"))},"Settings")]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{class:"small-phone",href:"/apps",onClick:t[9]||(t[9]=t=>e.track("NavigationBar","TapApps")),target:"_blank"},[kc,Dc])]),(0,B.Wm)("li",null,[(0,B.Wm)("a",{href:"/logout",onClick:t[10]||(t[10]=(...e)=>i.clickLogout&&i.clickLogout(...e))},"Logout")])])],512)),[[l,i.hideMenu]]):(0,B.ry)("",!0),(0,B.Wm)("div",Cc,[(0,B.Wm)("a",{class:"btn-primary",href:"/submit",onClick:t[12]||(t[12]=(0,me.iM)(((...e)=>i.clickUpload&&i.clickUpload(...e)),["prevent","stop"]))},"Upload")])],512),[[me.F8,i.showUser]])])}},zl={class:"announcement-banner yellow"},Yl=(0,B.Wm)("a",{href:"/member/resend-confirmation"},"resend it",-1),ql=(0,B.Uk)(" or you can "),Jl=(0,B.Wm)("a",{href:"/settings"},"change your email address",-1),Xl=(0,B.Uk)(". "),Ql={props:{username:String},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("section",zl,[(0,B.Wm)("p",null,[(0,B.Uk)(" Hey "+(0,G.zw)(s.username)+", please verify your email address. If you didn't receive an email, we can ",1),Yl,ql,Jl,Xl])])}};function ed(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function td(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ed(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapActions:sd}=(0,q._p)("app"),{mapGetters:od}=(0,q._p)("user"),{mapGetters:rd}=(0,q._p)("config"),id={mixins:[$e.Z],components:{TopNavLinks:vc,TopNavFunctions:Kl,TopNavBanner:Ql},emits:["toggleDrawer"],watch:{showBanner(){this.calculateNavHeight()}},computed:td(td({},od({isLoggedIn:"IS_LOGGED_IN",user:"USER"})),{},{showBanner(){return this.isLoggedIn&&!this.user.verified}}),methods:td(td({},sd({updateTopNavHeight:"UPDATE_TOP_NAV_HEIGHT"})),{},{calculateNavHeight(){this.$nextTick((()=>{const e=this.$refs.nav.offsetHeight;this.updateTopNavHeight(e)}))},toggleDrawer(){this.$emit("toggleDrawer")}}),mounted(){this.calculateNavHeight()},render:function(e,t,s,o,r,i){const n=(0,B.up)("TopNavLinks"),a=(0,B.up)("TopNavFunctions"),c=(0,B.up)("TopNavBanner");return(0,B.wg)(),(0,B.j4)("header",mc,[(0,B.Wm)("div",gc,[(0,B.Wm)("a",{class:"menu",href:"javascript:void(0);",onClick:t[1]||(t[1]=(0,me.iM)(((...e)=>i.toggleDrawer&&i.toggleDrawer(...e)),["stop"]))}),(0,B.Wm)("a",{class:"logo",href:"/",onClick:t[2]||(t[2]=t=>e.track("NavigationBar","TapLogo"))},"9GAG"),(0,B.Wm)(n),(0,B.Wm)(a)]),i.showBanner?((0,B.wg)(),(0,B.j4)(c,{key:0,username:e.user.username},null,8,["username"])):(0,B.ry)("",!0)],512)}};var nd=s(2262);const ad={name:"VueProgress",extends:s(9775).Z,computed:{progress(){return this.$Progress.$vm.RADON_LOADING_BAR}}};function cd(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function ld(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?cd(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cd(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const dd={install:function(e,t={}){const s="undefined"!=typeof window;let o={$vm:null,state:{tFailColor:"",tColor:"",timer:null,cut:0},init(e){this.$vm=e},start(e){this.$vm&&(e||(e=3e3),this.$vm.RADON_LOADING_BAR.percent=0,this.$vm.RADON_LOADING_BAR.options.show=!0,this.$vm.RADON_LOADING_BAR.options.canSuccess=!0,this.state.cut=1e4/Math.floor(e),clearInterval(this.state.timer),this.state.timer=setInterval((()=>{this.increase(this.state.cut*Math.random()),this.$vm.RADON_LOADING_BAR.percent>95&&this.$vm.RADON_LOADING_BAR.options.autoFinish&&this.finish()}),100))},set(e){this.$vm.RADON_LOADING_BAR.options.show=!0,this.$vm.RADON_LOADING_BAR.options.canSuccess=!0,this.$vm.RADON_LOADING_BAR.percent=Math.floor(e)},get(){return Math.floor(this.$vm.RADON_LOADING_BAR.percent)},increase(e){this.$vm.RADON_LOADING_BAR.percent=Math.min(99,this.$vm.RADON_LOADING_BAR.percent+Math.floor(e))},decrease(e){this.$vm.RADON_LOADING_BAR.percent=this.$vm.RADON_LOADING_BAR.percent-Math.floor(e)},hide(){clearInterval(this.state.timer),this.state.timer=null,setTimeout((()=>{this.$vm.RADON_LOADING_BAR.options.show=!1,(0,B.Y3)((()=>{setTimeout((()=>{this.$vm.RADON_LOADING_BAR.percent=0}),100)}))}),this.$vm.RADON_LOADING_BAR.options.transition.termination)},pause(){clearInterval(this.state.timer)},finish(){this.$vm&&(this.$vm.RADON_LOADING_BAR.percent=100,this.hide())},fail(){this.$vm.RADON_LOADING_BAR.options.canSuccess=!1,this.$vm.RADON_LOADING_BAR.percent=100,this.hide()}};const r=ld(ld({},{canSuccess:!0,show:!1,color:"#73ccec",position:"fixed",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1,autoFinish:!0}),t),i=(0,nd.qj)({RADON_LOADING_BAR:{percent:0,options:r}});s&&o.init(i),e.config.globalProperties.$Progress=o}};var ud=s(1653),pd=s(45).default;const hd=function(){return{host:pd.get("configs.noti.pushHost"),modes:"websocket",useSSL:!0}};var md=s(3063),gd=s(5670).default,fd=s(2662).default,yd=md.extend({},new A.Z,{DELAY:1e3,INIT_DELAY:2e3,_lastBadgetTs:!1,_minBadgeInterval:5e3,_regularLongPollingInterval:18e4,_checkUpdateQueueInterval:1e3,_isRequestingUpdate:!1,init:function(){},onWindowLoad:function(){v.Z.isLoggedIn()&&setTimeout(md.proxy((function(){this._initPush(),this._initBadgeUpdate()}),this),this.INIT_DELAY)},selectors:{NOTIFICATION_UNREAD_COUNT:"#jsid-notification-unread-count"},_pullNotificatons:function(e){md(this.selectors.NOTIFICATION_UNREAD_COUNT)&&this.putToUpdateQueue(e)},_initPush:function(){var e=hd(),t=new PushStream(e);t.onmessage=function(e,t,s){var o={type:"noti",message:e,id:t,channel:s};gd.log(o),yd._pullNotificatons(o)};const{pushChannels:s}=V.Z.getters["noti/NOTI_OPTIONS"];if(s instanceof Array)for(var o=0;o<s.length;o++)t.addChannel(s[o]),gd.log(s[o]);t.connect()},_updateQueue:[],putToUpdateQueue:function(e){this._updateQueue.push(e)},getNsReadStateCb:function(e){if(this._isRequestingUpdate=!1,this._lastBadgetTs=(new Date).getTime(),e&&"OK"===e.status){const t=e.payload;fd.PageController.getNotiUnreadCount()!==t.unreadCount&&(V.Z.commit("noti/SET_READ_STATE",t),V.Z.dispatch("noti/REFRESH_NOTI"),fd.PageController.refreshPageTitle())}},_getNsReadState:function(){const{readStateUrl:e,readStateParams:t}=V.Z.getters["noti/NOTI_OPTIONS"],s=`${e}?${t}`;this._isRequestingUpdate=!0,md.ajax({url:s,type:"GET",dataType:"json",success:function(e){yd.getNsReadStateCb(e)}})},getNotificationBadge:function(){if(!this._isRequestingUpdate)return this._getNsReadState()},checkUpdateQueue:function(){this._updateQueue.length>0&&(this._updateQueue=[],this.getNotificationBadge())},processUpdateQueue:function(){var e=(new Date).getTime();(!this._lastBadgetTs||e-this._lastBadgetTs>=this._minBadgeInterval)&&this.checkUpdateQueue()},addRegularLongPolling:function(){this.putToUpdateQueue({})},scheduleRegularLongPolling:function(){this.addRegularLongPolling(),this._regularLongPollingInterval=1.5*this._regularLongPollingInterval,setTimeout(this.scheduleRegularLongPolling.bind(this),this._regularLongPollingInterval)},_initBadgeUpdate:function(){setInterval(this.processUpdateQueue.bind(this),this._checkUpdateQueueInterval),setTimeout(this.scheduleRegularLongPolling.bind(this),this._regularLongPollingInterval)}});const Od=yd;var bd=s(5652).default;function _d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function vd(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_d(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapActions:Sd,mapState:Td}=(0,q._p)("app"),{mapActions:wd}=(0,q._p)("privacy"),{mapGetters:Ed,mapActions:Pd}=(0,q._p)("user"),{mapGetters:Id}=(0,q._p)("config"),Ad={components:{VueProgress:ad},computed:vd(vd(vd({},Td(["topNavHeight"])),Ed({isLoggedIn:"IS_LOGGED_IN",user:"USER"})),Id({getConfig:"GET_CONFIG",cookieDomain:"COOKIE_DOMAIN"})),methods:vd(vd(vd(vd({},Sd({updateSignupReferrer:"UPDATE_SIGNUP_REFERRER",checkDarkMode:"CHECK_DARK_MODE"})),Pd({setUserInfo:"SET_USER_INFO",clearUserInfo:"CLEAR_USER_INFO",setUserInitCompleted:"SET_INIT"})),wd({initPrivacyCheck:It.Lm.INIT_PRIVACY_CHECK})),{},{async initUser(){Cr.Z.shouldClearUserInfo(this.cookieDomain)&&await this.clearUserInfo(),Cr.Z.hasSession()&&!this.isLoggedIn&&await this.setUserInfo(),this.isLoggedIn&&(this.updateTrackUser(this.user),Od.getNotificationBadge(),he.initialize()),ud.default.trackPageView(),this.setUserInitCompleted()},updateTrackUser(e){const{accountId:t,hashId:s,username:o}=e;ud.default.setUserId(t),i.default.setUsername(o),bd.setUserId(s)},initProgressbar(){this.$.appContext.app.use(dd,{color:"#09f",thickness:"4px",transition:{speed:"0.6s cubic-bezier(1,.01,.75,.91)",opacity:"0.4s",termination:800},autoRevert:!1}),D.Z.$on("progress::show",(()=>{this.$Progress.set(80)})),D.Z.$on("progress::finish",(()=>{this.$Progress.finish()}))}}),created(){this.initProgressbar(),this.initUser(),this.initPrivacyCheck()},mounted(){this.$nextTick((()=>{this.checkDarkMode(),this.isLoggedIn||this.updateSignupReferrer()}))},render:function(e,t,s,o,r,i){const n=(0,B.up)("VueProgress");return(0,B.wg)(),(0,B.j4)(n)}},kd=(0,B.HX)("data-v-fb1271e6")(((e,t,s,o,r,i)=>{const n=(0,B.Q2)("observe-visibility");return r.adContainer&&!r.collapsed?((0,B.wg)(),(0,B.j4)("div",{key:0,class:["billboard",{sticky:i.isSticky}],ref:"container"},[(0,B.wy)((0,B.Wm)("div",{id:i.adContainerId,ref:"billboard"},null,8,["id"]),[[n,!(!s.lazyload||r.rendered)&&{callback:i.lazyloadAd,throttle:1e3}]])],2)):(0,B.ry)("",!0)}));var Dd=s(4347),Cd=s(9012).default,Ud=s(5670).default;function Ld(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Nd(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ld(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ld(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:jd}=(0,q._p)("app"),Rd={directives:{ObserveVisibility:Dd.Sq},props:{lazyload:{type:Boolean,default:!0}},data:()=>({adContainer:null,collapsed:!1,rendered:!1,renderCallbacked:!1,pageYOffset:0,sticked:!1,stickOpacity:1}),watch:{$route(e,t){this.collapsed=!1,this.rendered=!1,this.renderCallbacked=!1,this.pageYOffset=0,this.sticked=!1,this.lazyload||this.renderAd()},collapsed(){this.updateSidebarOffsetTop()},stickOpacity(e){e||setTimeout((()=>{this.sticked=!0,this.stickOpacity=1}),500)}},methods:{updateSidebarOffsetTop(){D.Z.$emit("sidebar::updateOffsetTop")},renderAd(){Yo.Z.renderAd(this.adContainer,{renderCallback:this.renderCallback.bind(this)}),this.rendered=!0,Cd.addEventListener("scroll",this.handleSticky)},renderCallback(e){this.renderCallbacked=!0,e.isEmpty&&(this.$refs.billboard.style.height="0px",setTimeout((()=>this.collapsed=!0),300))},lazyloadAd(e){Ud.log(`lazyloadAd ${this.adContainerId} isVisible=${e}`),e&&this.renderAd()},_handleSticky(){this.pageYOffset=window.pageYOffset,this.renderCallbacked&&(Cd.removeEventListener("scroll",this.handleSticky),setTimeout((()=>this.stickOpacity=0),1500))}},computed:Nd(Nd({},jd(["topNavHeight"])),{},{stickTop(){return`${this.topNavHeight}px`},isSticky(){return!(this.sticked||!this.renderCallbacked)&&this.pageYOffset>=this.topNavHeight},adContainerId(){return this.adContainer&&this.adContainer.adContainerId||null}}),created(){this.adContainer=Yo.Z.getAdContainer("banner_top"),this.handleSticky=r()(this._handleSticky,100)},mounted(){this.lazyload||this.renderAd()},unmounted(){Cd.removeEventListener("scroll",this.handleSticky)}},Md=()=>{(0,me.sj)((e=>({a18d0e7a:e.stickTop,"090a4879":e.stickOpacity})))},xd=Rd.setup;Rd.setup=xd?(e,t)=>(Md(),xd(e,t)):Md;const Wd=Rd;s(4504),Wd.render=kd,Wd.__scopeId="data-v-fb1271e6";const Vd=Wd,Bd=(0,B.HX)("data-v-3b27b023");(0,B.dD)("data-v-3b27b023");const Gd={key:0,class:"drawer-header"},Fd={class:"nav-wrap"};(0,B.Cn)();const Zd=Bd(((e,t,s,o,r,i)=>{const n=(0,B.up)("DrawerHeader"),a=(0,B.up)("DrawerSectionsGroup"),c=(0,B.up)("DrawerFooter");return(0,B.wg)(),(0,B.j4)(B.HY,null,[(0,B.wy)((0,B.Wm)("div",{class:["drawer",{overlay:s.overlayDrawer}]},[s.overlayDrawer?((0,B.wg)(),(0,B.j4)("header",Gd,[(0,B.Wm)("div",Fd,[(0,B.Wm)("a",{class:"menu",href:"javascript:void(0);",onClick:t[1]||(t[1]=(0,me.iM)(((...e)=>i.hideDrawer&&i.hideDrawer(...e)),["stop"]))}),(0,B.Wm)("a",{class:"logo",href:"/",onClick:t[2]||(t[2]=t=>e.track("NavigationBar","TapLogo"))},"9GAG")])])):(0,B.ry)("",!0),(0,B.Wm)("div",{class:["drawer-container",{overlay:s.overlayDrawer}]},[(0,B.Wm)(n,{activeSection:i.activeSection},null,8,["activeSection"]),Object.keys(e.favoriteSections).length>0?((0,B.wg)(),(0,B.j4)(a,{key:0,header:"Favorites",isFavorite:!0,sections:e.favoriteSections,activeSection:i.activeSection},null,8,["sections","activeSection"])):(0,B.ry)("",!0),Object.keys(e.recentSections).length>0?((0,B.wg)(),(0,B.j4)(a,{key:1,header:"Recents",isRecent:!0,sections:e.recentSections,activeSection:i.activeSection},{customHeader:Bd((({header:e})=>[(0,B.Wm)("header",null,[(0,B.Wm)("h3",null,(0,G.zw)(e),1),(0,B.Wm)("a",{href:"javascript:void(0);",class:"button-clear",onClick:t[3]||(t[3]=(0,me.iM)(((...e)=>i.onClearRecentVisitSectionsClick&&i.onClearRecentVisitSectionsClick(...e)),["prevent"]))}," Clear ")])])),_:1},8,["sections","activeSection"])):(0,B.ry)("",!0),Object.keys(e.featuredSections).length>0?((0,B.wg)(),(0,B.j4)(a,{key:2,header:"Popular",sections:e.featuredSections,activeSection:i.activeSection},null,8,["sections","activeSection"])):(0,B.ry)("",!0),Object.keys(e.normalSections).length>0?((0,B.wg)(),(0,B.j4)(a,{key:3,header:"All Sections",sections:e.normalSections,activeSection:i.activeSection},null,8,["sections","activeSection"])):(0,B.ry)("",!0),(0,B.Wm)(c)],2)],2),[[me.F8,s.showDrawer]]),s.overlayDrawer?((0,B.wg)(),(0,B.j4)("div",{key:0,class:"drawer-overlay",onClick:t[4]||(t[4]=(0,me.iM)(((...e)=>i.hideDrawer&&i.hideDrawer(...e)),["stop"]))})):(0,B.ry)("",!0)],64)})),$d=(0,B.Wm)("header",null,[(0,B.Wm)("h3",null,"9GAG")],-1),Hd=(0,B.HX)("data-v-1d880238");(0,B.dD)("data-v-1d880238");const Kd={key:1,class:"thumbnail"};(0,B.Cn)();const zd=Hd(((e,t,s,o,r,i)=>((0,B.wg)(),(0,B.j4)("a",{href:`/${s.url||s.section.url}`,class:"label"},[s.iconClass?((0,B.wg)(),(0,B.j4)("i",{key:0,class:["icon",s.iconClass]},null,2)):((0,B.wg)(),(0,B.j4)("i",Kd,[(0,B.Wm)("picture",null,[(0,B.Wm)("source",{srcset:s.section.ogWebpUrl||s.section.webpUrl,type:"image/webp"},null,8,["srcset"]),(0,B.Wm)("img",{src:s.section.ogImageUrl||s.section.imageUrl,loading:"lazy"},null,8,["src"])])])),(0,B.Uk)(" "+(0,G.zw)(s.section.name),1)],8,["href"])))),Yd={props:["url","section","iconClass"]};s(3152),Yd.render=zd,Yd.__scopeId="data-v-1d880238";const qd=Yd,Jd=(0,B.HX)("data-v-4440d510")(((e,t,s,o,r,i)=>{const n=(0,B.Q2)("click-outside");return(0,B.wg)(),(0,B.j4)(B.HY,null,[(0,B.Wm)("a",{class:"button",href:"javascript:void(0);",onClick:t[1]||(t[1]=(0,me.iM)(((...e)=>i.toggleMenu&&i.toggleMenu(...e)),["stop"]))},[(0,B.Wm)("i",{class:[{active:r.showMenu},"icon more"]},null,2)]),r.showMenu?(0,B.wy)(((0,B.wg)(),(0,B.j4)("div",{key:0,class:"menu",onClick:t[2]||(t[2]=(...e)=>i.hideMenu&&i.hideMenu(...e))},[(0,B.WI)(e.$slots,"default")],512)),[[n,i.hideMenu]]):(0,B.ry)("",!0)],64)})),Xd={mixins:[$e.Z],directives:{ClickOutside:Rt},data:()=>({showMenu:!1}),methods:{toggleMenu(){this.showMenu=!this.showMenu},hideMenu(){this.showMenu=!1}}};s(143),Xd.render=Jd,Xd.__scopeId="data-v-4440d510";const Qd=Xd;function eu(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function tu(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eu(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:su}=(0,q._p)("section"),ou={mixins:[$e.Z],props:["activeSection"],components:{DrawerMenuItem:qd,DrawerPopupMenu:Qd},computed:tu(tu({},su({localSections:"GET_LOCAL_SECTIONS",geoSection:"GET_GEO_SECTION"})),{},{localSection(){return this.localSections[this.activeSection]||this.geoSection}}),methods:{clickLocal(e){this.track("SectionSidebar","TapLocal",{SectionName:e})},isSelected(e){return e===this.activeSection}},render:function(e,t,s,o,r,i){const n=(0,B.up)("DrawerMenuItem"),a=(0,B.up)("DrawerPopupMenu");return i.localSection?((0,B.wg)(),(0,B.j4)("li",{key:0,class:{selected:i.isSelected(i.localSection.url)}},[(0,B.Wm)(n,{section:i.localSection,onClick:t[1]||(t[1]=e=>i.clickLocal(i.localSection.name))},null,8,["section"]),Object.keys(e.localSections).length>1?((0,B.wg)(),(0,B.j4)(a,{key:0},{default:(0,B.w5)((()=>[(0,B.Wm)("ul",null,[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(e.localSections,(e=>((0,B.wg)(),(0,B.j4)("li",{class:{selected:i.isSelected(e.url)}},[(0,B.Wm)("a",{href:`/${e.url}`,onClick:t=>i.clickLocal(e.name)},(0,G.zw)(e.name),9,["href","onClick"])],2)))),256))])])),_:1})):(0,B.ry)("",!0)],2)):(0,B.ry)("",!0)}};function ru(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function iu(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ru(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:nu}=(0,q._p)("section"),au={mixins:[$e.Z],components:{DrawerMenuItem:qd},computed:iu(iu({},nu({interests:"GET_INTERESTS"})),{},{activeInterest(){return this.$route.params.interest}}),methods:{clickSection(e){this.track("SectionSidebar","TapInterest",{InterestName:e.name})}},render:function(e,t,s,o,r,i){const n=(0,B.up)("DrawerMenuItem");return(0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(e.interests,((e,t)=>((0,B.wg)(),(0,B.j4)("li",{class:{selected:t===i.activeInterest}},[(0,B.Wm)(n,{section:e,url:`interest/${t}`,onClick:t=>i.clickSection(e)},null,8,["section","url","onClick"])],2)))),256)}},cu=[{name:"Hot",url:"hot",action:"Hot"},{name:"Trending",url:"trending",action:"Trending"},{name:"Fresh",url:"fresh",action:"Fresh"}],lu={mixins:[$e.Z],props:["activeSection"],data:()=>({sectionList:cu}),components:{DrawerLocal:ou,DrawerInterests:au,DrawerMenuItem:qd,DrawerPopupMenu:Qd},methods:{clickPopular(e){const t=`Tap${e}`;this.track("SectionSidebar",t,"")},isHotFeed(e=null){return"hot"===this.activeSection&&this.$route.query.sort==e}},render:function(e,t,s,o,r,i){const n=(0,B.up)("DrawerMenuItem"),a=(0,B.up)("DrawerPopupMenu"),c=(0,B.up)("DrawerLocal"),l=(0,B.up)("DrawerInterests");return(0,B.wg)(),(0,B.j4)("section",null,[$d,(0,B.Wm)("ul",null,[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(r.sectionList,(e=>((0,B.wg)(),(0,B.j4)("li",{class:{selected:e.url===s.activeSection}},[(0,B.Wm)(n,{section:e,iconClass:e.url,onClick:t=>i.clickPopular(e.action)},null,8,["section","iconClass","onClick"]),"hot"===e.url?((0,B.wg)(),(0,B.j4)(a,{key:0},{default:(0,B.w5)((()=>[(0,B.Wm)("ul",null,[(0,B.Wm)("li",{class:{selected:i.isHotFeed()}},[(0,B.Wm)("a",{href:"/hot",onClick:t[1]||(t[1]=e=>i.clickPopular("DefaultHot"))},"Top Posts")],2),(0,B.Wm)("li",{class:{selected:i.isHotFeed("time")}},[(0,B.Wm)("a",{href:"/hot?sort=time",onClick:t[2]||(t[2]=e=>i.clickPopular("MostRecentHot"))},"Most Recent")],2)])])),_:1})):(0,B.ry)("",!0)],2)))),256)),(0,B.Wm)(c,{activeSection:s.activeSection},null,8,["activeSection"]),(0,B.Wm)(l)])])}},du=(0,B.HX)("data-v-526f48cc");(0,B.dD)("data-v-526f48cc");const uu=(0,B.Wm)("i",{class:"icon star"},null,-1),pu=(0,B.Wm)("i",{class:"icon close"},null,-1);(0,B.Cn)();const hu=du(((e,t,s,o,r,i)=>{const n=(0,B.up)("DrawerMenuItem");return(0,B.wg)(),(0,B.j4)("section",null,[(0,B.WI)(e.$slots,"customHeader",{header:s.header},(()=>[(0,B.Wm)("header",null,[(0,B.Wm)("h3",null,(0,G.zw)(s.header),1)])]),!0),(0,B.Wm)("ul",null,[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(s.sections,(e=>((0,B.wg)(),(0,B.j4)("li",{class:{selected:i.isActive(e.url)}},[(0,B.Wm)(n,{section:e,class:{short:s.isRecent},onClick:(0,me.iM)((t=>i.clickSection(e)),["prevent","stop"])},null,8,["section","class","onClick"]),(0,B.Wm)("a",{onClick:t=>i.clickFavorite(e),class:["button",{favorite:s.isFavorite}],href:"javascript:void(0)"},[uu],10,["onClick"]),s.isRecent?((0,B.wg)(),(0,B.j4)("a",{key:0,onClick:t=>i.clickRemoveRecent(e),class:"button remove",href:"javascript:void(0)"},[pu],8,["onClick"])):(0,B.ry)("",!0)],2)))),256))])])}));function mu(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function gu(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?mu(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mu(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapActions:fu}=(0,q._p)("section"),yu={mixins:[$e.Z],props:["header","isFavorite","isRecent","sections","activeSection"],components:{DrawerMenuItem:qd},methods:gu(gu({},fu({addRecentVisitSection:It.bQ.ADD_RECENT_VISIT_SECTION,favoriteSection:It.bQ.FAVORITE_SECTION,unfavoriteSection:It.bQ.UNFAVORITE_SECTION,removeRecentVisitSection:It.bQ.REMOVE_RECENT_VISIT_SECTION})),{},{clickRemoveRecent(e){this.track("SectionSidebar","TapRemoveRecent",{SectionName:e.name}),this.removeRecentVisitSection(e.url)},async clickSection(e){const t=this.isFavorite?"TapFavorite":"TapSection";this.track("SectionSidebar",t,{SectionName:e.name}),await this.$router.push(`/${e.url}`),this.addRecentVisitSection(e.url)},clickFavorite(e){this.isFavorite?(this.unfavoriteSection(e.url),this.track("SectionSidebar","UnfavoriteSection",{SectionName:e.name})):(this.favoriteSection(e.url),this.track("SectionSidebar","FavoriteSection",{SectionName:e.name}))},isActive(e){return this.activeSection===e}})};s(1853),yu.render=hu,yu.__scopeId="data-v-526f48cc";const Ou=yu,bu=(0,B.HX)("data-v-342ea4ad");(0,B.dD)("data-v-342ea4ad");const _u={class:"drawer-footer"},vu=(0,B.uE)('<p class="static" data-v-342ea4ad><a target="_blank" href="/advertise" data-v-342ea4ad>Advertise</a><a target="_blank" href="/rules" data-v-342ea4ad>Rules</a><a target="_blank" href="/tips" data-v-342ea4ad>Tips</a><a target="_blank" href="/faq" data-v-342ea4ad>FAQ</a><a target="_blank" href="/tos" data-v-342ea4ad>Terms</a><a target="_blank" href="/privacy" data-v-342ea4ad>Privacy</a><a target="_blank" href="/copyright" data-v-342ea4ad>Copyright</a><a target="_blank" href="/jobs" data-v-342ea4ad>Jobs</a><a target="_blank" href="/contact" data-v-342ea4ad>Contact</a><a target="_blank" href="/feedback" data-v-342ea4ad>Feedback</a><a target="_blank" href="/report-bad-ads" data-v-342ea4ad>Report Bad Ads</a></p>',1),Su={key:0,class:"static"},Tu={class:"static"};(0,B.Cn)();const wu=bu(((e,t,s,o,r,i)=>((0,B.wg)(),(0,B.j4)("section",_u,[vu,r.gdprApplies?((0,B.wg)(),(0,B.j4)("p",Su,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.showQuantcastCMP&&i.showQuantcastCMP(...e))},"Manage consent")])):(0,B.ry)("",!0),(0,B.Wm)("p",Tu,"9GAG  "+(0,G.zw)(r.currentYear),1)])))),Eu={data:()=>({currentYear:(new Date).getFullYear(),gdprApplies:!1}),methods:{showQuantcastCMP(){c.Z.displayConsentUi()},async setGdprApplies(){this.gdprApplies=await c.Z.getGdprApplies()}},mounted(){this.setGdprApplies()}};s(5842),Eu.render=wu,Eu.__scopeId="data-v-342ea4ad";const Pu=Eu;function Iu(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Au(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Iu(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:ku,mapActions:Du}=(0,q._p)("section"),Cu={mixins:[$e.Z],props:{showDrawer:{type:Boolean,default:!0},overlayDrawer:{type:Boolean,default:!1}},emits:["hideDrawer"],components:{DrawerHeader:lu,DrawerSectionsGroup:Ou,DrawerFooter:Pu},watch:{$route(){this.hideDrawer()}},computed:Au(Au({},ku({favoriteSections:"GET_FAVORITE_SECTIONS",featuredSections:"GET_FEATURED_SECTIONS",normalSections:"GET_NORMAL_SECTIONS",localSections:"GET_LOCAL_SECTIONS",geoSection:"GET_GEO_SECTION",recentSections:"GET_RECENT_VISIT_SECTIONS"})),{},{activeSection(){const{name:e,params:t}=this.$route;return Oe.Z.MAIN_LISTS.includes(e)?t.section||t.type||"hot":""}}),methods:Au(Au({},Du({clearRecentVisitSections:It.bQ.CLEAR_RECENT_VISIT_SECTIONS})),{},{hideDrawer(){this.$emit("hideDrawer")},onClearRecentVisitSectionsClick(){window.confirm("Clear all Recents?")&&(this.track("SectionSidebar","TapClearRecents"),this.clearRecentVisitSections())}})};s(4018),Cu.render=Zd,Cu.__scopeId="data-v-3b27b023";const Uu=Cu,Lu={key:3,id:"signup"},Nu=(0,B.Wm)("h2",null,"Get the app",-1),ju=(0,B.Wm)("p",{class:"lead"},"9GAG goes wherever you go. Download 9GAG on your device.",-1),Ru={class:"btn-container"},Mu={emits:["dismiss"],mixins:[$e.Z],methods:{clickBtn(e,t){this.track(e,t),this.$emit("dismiss")}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("section",null,[Nu,ju,(0,B.Wm)("div",Ru,[(0,B.Wm)("a",{class:"btn btn-download ios",href:"/ios",onClick:t[1]||(t[1]=e=>i.clickBtn("iOS-Signup-Promote-App","Clicked-Download")),target:"_blank"}," iOS "),(0,B.Wm)("a",{class:"btn btn-download android",href:"/android",onClick:t[2]||(t[2]=e=>i.clickBtn("Android-Signup-Promote-App","Clicked-Download")),target:"_blank"}," Android "),(0,B.Wm)("a",{class:"link",href:"javascript:void(0);",onClick:t[3]||(t[3]=e=>i.clickBtn("Signup-Promote-App-Skip","Clicked"))}," I'll get it later ")])])}},xu={id:"report"},Wu=(0,B.Wm)("header",null,[(0,B.Wm)("h3",null,"Report"),(0,B.Wm)("p",null,"Choosing the right reason help us process the report as soon as possible.")],-1),Vu={class:"spacer"},Bu={key:0,class:"reason-picker"},Gu={class:"text"},Fu={key:1,class:"reason-explain"},Zu={class:"btn-container"},$u={props:{reportConfig:Object},data:()=>({selectReason:null,selectReportType:null,submitted:!1}),computed:{reportTypes(){switch(this.reportConfig.type){case ft.Z.TYPES.PROFILE:return ft.Z.PROFILE;case ft.Z.TYPES.COMMENT:return ft.Z.COMMENT}return ft.Z.POST},hasExternalUrl(){return!!this.selectReportType&&!!this.selectReportType.externalUrl}},methods:{submitReport(){this.submitted=!0,D.Z.$emit("report::submit",this.selectReportType)}},render:function(e,t,s,o,r,i){return(0,B.wg)(),(0,B.j4)("section",xu,[Wu,(0,B.Wm)("div",Vu,[r.selectReportType?((0,B.wg)(),(0,B.j4)("div",Fu,[(0,B.Wm)("p",null,(0,G.zw)(r.selectReportType.content),1),(0,B.Wm)("p",null,"If you report someone's "+(0,G.zw)(s.reportConfig.type.toLowerCase())+", 9GAG doesn't tell them who reported it.",1)])):((0,B.wg)(),(0,B.j4)("ul",Bu,[((0,B.wg)(!0),(0,B.j4)(B.HY,null,(0,B.Ko)(i.reportTypes,((e,t)=>((0,B.wg)(),(0,B.j4)("li",null,[(0,B.Wm)("a",{href:"javascript:void(0);",onClick:(0,me.iM)((e=>r.selectReason=t),["stop"])},[(0,B.Wm)("div",Gu,[(0,B.Wm)("h3",null,(0,G.zw)(e.title),1)]),(0,B.Wm)("div",{class:[{selected:r.selectReason===t},"selector"]},null,2)],8,["onClick"])])))),256))]))]),(0,B.Wm)("div",Zu,[r.selectReportType?((0,B.wg)(),(0,B.j4)(B.HY,{key:1},[(0,B.Wm)("a",{class:["btn red right",{disabled:r.submitted}],onClick:t[3]||(t[3]=(0,me.iM)(((...e)=>i.submitReport&&i.submitReport(...e)),["stop"]))},(0,G.zw)(i.hasExternalUrl?"Continue":"Report"),3),(0,B.Wm)("a",{class:"btn grey right",onClick:t[4]||(t[4]=(0,me.iM)((e=>r.selectReportType=null),["stop"]))},"Back")],64)):((0,B.wg)(),(0,B.j4)(B.HY,{key:0},[(0,B.Wm)("a",{class:["btn right",{disabled:null===r.selectReason}],onClick:t[1]||(t[1]=(0,me.iM)((e=>r.selectReportType=i.reportTypes[r.selectReason]),["stop"]))},"Next",2),(0,B.Wm)("a",{class:"btn grey right",onClick:t[2]||(t[2]=(0,me.iM)((t=>e.$emit("dismiss")),["stop"]))},"Cancel")],64))])])}};function Hu(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Ku(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Hu(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const zu={login:!1,signupSocial:!1,signupEmail:!1,signupDownload:!1,report:!1},Yu={data:()=>({displayOverlay:!1,modalDisplay:zu,hideUsingBackground:!0,dismissible:!0,nextUrl:"",reportConfig:null}),mixins:[$e.Z],components:{Login:fa,SignupSocial:ka,SignupEmail:qa,SignupDownload:Mu,Report:$u},methods:{showOverlay(e){this.displayOverlay||(this.setDismissible(e),this.displayOverlay=!0,document.body.classList.add("no-scroll"))},hideOverlay(){this.displayOverlay&&(this.displayOverlay=!1,this.setDismissible(!0),document.body.classList.remove("no-scroll"))},setDismissible(e){this.dismissible!==e&&(this.dismissible=e)},dismissModal(){this.modalDisplay.report&&D.Z.$emit("report::cancel"),this.modalDisplay=zu,this.hideUsingBackground=!0,this.hideOverlay()},showModal(e,t=!0,s=!0){let o={};e&&(o[e]=!0),this.modalDisplay=Ku(Ku({},zu),o),this.hideUsingBackground=t,this.showOverlay(s)},showLogin(){this.showModal("login",!0,!0)},showSignupSocial(){this.showModal("signupSocial",!0,!0)},showSignupEmail(){this.showModal("signupEmail",!0,!0)},showSignupDownload(){this.showModal("signupDownload",!0,!1)},showReport(){this.showModal("report",!0,!0)},clickOverlay(e){this.hideUsingBackground&&this.dismissModal()}},created(){D.Z.$on("Overlay::showLogin",(e=>{this.track("Login","LoginOverlay"),this.showLogin(),this.nextUrl=e||""})),D.Z.$on("Overlay::showSignupSocial",(e=>{this.track("SignUp","SignUpOverlay"),this.showSignupSocial(),this.nextUrl=e||""})),D.Z.$on("Overlay::showReport",(e=>{this.showReport(),this.reportConfig=e})),D.Z.$on("Overlay::hideReport",(()=>{this.dismissModal()})),this.$router.isReady().then((()=>{"yes"===this.$route.query.signup&&this.showSignupDownload()}))},unmounted(){D.Z.$off("Overlay::showLogin"),D.Z.$off("Overlay::showSignupSocial"),D.Z.$off("Overlay::showReport"),D.Z.$off("Overlay::hideReport")},render:function(e,t,s,o,r,i){const n=(0,B.up)("Report"),a=(0,B.up)("SignupDownload"),c=(0,B.up)("Login"),l=(0,B.up)("SignupSocial"),d=(0,B.up)("SignupEmail");return r.displayOverlay?((0,B.wg)(),(0,B.j4)("div",{key:0,class:"overlay-scroll-container",onClick:t[2]||(t[2]=(0,me.iM)(((...e)=>i.clickOverlay&&i.clickOverlay(...e)),["self","stop"]))},[(0,B.Wm)("section",{class:["modal",{download:r.modalDisplay.signupDownload}]},[r.dismissible?((0,B.wg)(),(0,B.j4)("a",{key:0,class:"btn-close",href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.dismissModal&&i.dismissModal(...e))},"")):(0,B.ry)("",!0),r.modalDisplay.report?((0,B.wg)(),(0,B.j4)(n,{key:1,reportConfig:r.reportConfig,onDismiss:i.dismissModal},null,8,["reportConfig","onDismiss"])):r.modalDisplay.signupDownload?((0,B.wg)(),(0,B.j4)(a,{key:2,onDismiss:i.dismissModal},null,8,["onDismiss"])):((0,B.wg)(),(0,B.j4)("section",Lu,[r.modalDisplay.login?((0,B.wg)(),(0,B.j4)(c,{key:0,nextUrl:r.nextUrl},null,8,["nextUrl"])):(0,B.ry)("",!0),r.modalDisplay.signupSocial?((0,B.wg)(),(0,B.j4)(l,{key:1,showSignupEmail:i.showSignupEmail,showLogin:i.showLogin,nextUrl:r.nextUrl},null,8,["showSignupEmail","showLogin","nextUrl"])):(0,B.ry)("",!0),r.modalDisplay.signupEmail?((0,B.wg)(),(0,B.j4)(d,{key:2,nextUrl:r.nextUrl},null,8,["nextUrl"])):(0,B.ry)("",!0)]))],2)])):(0,B.ry)("",!0)}};var qu=s(8912).default;function Ju(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Xu(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ju(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ju(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:Qu}=(0,q._p)("app"),{mapState:ep,mapActions:tp}=(0,q._p)("toast"),sp={computed:Xu(Xu(Xu({},Qu(["darkMode"])),ep(["showToast","toastType","toastMsg","linkTitle","toastLink","toastAction"])),{},{toastColorMap(){return{[qu.INFO]:this.darkMode?"#808080":"#000000",[qu.WARN]:"#FFCC00",[qu.ERROR]:"#FF3B30"}},toastStyle(){return{backgroundColor:this.toastColorMap[this.toastType]||"",color:this.toastColor}},toastColor(){let e=null;return[qu.WARN,qu.ERROR].includes(this.toastType)&&(e="#000"),e}}),methods:Xu({},tp({displayToast:It.ot.DISPLAY_TOAST,dismissToast:It.ot.DISMISS_TOAST})),created(){const e=_.getToast();e&&this.displayToast(e)},render:function(e,t,s,o,r,i){return e.showToast?((0,B.wg)(),(0,B.j4)("section",{key:0,class:"toast-container",onClick:t[3]||(t[3]=(...t)=>e.dismissToast&&e.dismissToast(...t))},[(0,B.Wm)("div",{class:"toast-message",style:i.toastStyle},[(0,B.Uk)((0,G.zw)(e.toastMsg)+" ",1),e.toastLink?((0,B.wg)(),(0,B.j4)("a",{key:0,href:e.toastLink,class:"toast-link"},(0,G.zw)(e.linkTitle),9,["href"])):e.toastAction?((0,B.wg)(),(0,B.j4)("a",{key:1,href:"javascript:void(0)",class:"toast-link",onClick:t[1]||(t[1]=(0,me.iM)(((...t)=>e.toastAction&&e.toastAction(...t)),["stop"]))},(0,G.zw)(e.linkTitle),1)):(0,B.ry)("",!0),(0,B.Wm)("a",{class:"toast-close",href:"javascript:void(0)",onClick:t[2]||(t[2]=(0,me.iM)(((...t)=>e.dismissToast&&e.dismissToast(...t)),["stop"])),style:{color:i.toastColor}},"",4)],4)])):(0,B.ry)("",!0)}};var op=s(4395).default,rp=s(6296).default;const ip=class extends op{shouldCheckNonVideoView(e){return e.data?e.data.video||e.data.youtube?(this.log("Web.shouldCheckNonVideoView() is video",e),!1):e.data.sensitiveCover?(this.log("Web.shouldCheckNonVideoView() sensitive cover",e),!1):(this.log("Web.shouldCheckNonVideoView()",e),super.shouldCheckNonVideoView(e)):(this.log("Web.shouldCheckNonVideoView() no data",e),!1)}updateTrackingCVars(){let e=y.Z.getPageKey();this.setScreenKey(e);const t=y.Z.getUrlParam("ref");let s="",o="";y.Z.isPostPage()?s="SinglePost":y.Z.isProfilePage()?(s="ProfilePostList",o=e):y.Z.isSectionPage()?(s="SectionPostList",o=e):y.Z.isInterestPage()?(s="InterestPostList",o=e):y.Z.isTagPostListPage()?(s=`${rp.capitalize(t.split("-")[0])}TagPostList`,o=e):y.Z.isSearchPage()?s="SearchPostList":(s="PostList",o=e);const r={TriggeredPage:s,TriggeredPageKey:o};this.setTrackingCVars(r)}},np=function(e){return new RegExp("^http(s?)://"+y.Z.getDomain()).test(e.trim())};function ap(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}const{mapGetters:cp}=(0,q._p)("config"),lp={computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ap(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ap(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},cp({getConfig:"GET_CONFIG"})),data(){return{newSidebar:!!this.getConfig("features.newSidebar")}},provide:()=>({})},dp={key:0,class:"ccpa-banner-container"},up={class:"ccpa-banner"},pp=(0,B.Wm)("div",{class:"ccpa-banner-header"},[(0,B.Wm)("h2",null,"We value your privacy"),(0,B.Wm)("p",null,[(0,B.Uk)(" We and our partners may collect information from you to offer a better browsing experience and to serve relevant ads."),(0,B.Wm)("br"),(0,B.Uk)(" Click the Do not sell my personal info button to opt out of selling your personal information. For more about your privacy rights, please visit our "),(0,B.Wm)("a",{target:"_blank",href:"https://about.9gag.com/privacy-california"},"Privacy Policy"),(0,B.Uk)(". ")])],-1),hp={class:"btn-container"};var mp=s(7637).default;function gp(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function fp(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?gp(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gp(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:yp,mapActions:Op}=(0,q._p)("privacy"),bp={computed:fp(fp({},yp({_showCCPABanner:"showCCPABanner"})),{},{showCCPABanner(){return this._showCCPABanner&&this.$route.params.type!==mp.DO_NOT_SELL}}),methods:fp(fp({},Op({dismissCCPABanner:It.Lm.DISMISS_CCPA_BANNER})),{},{onBtnClick(){this.dismissCCPABanner(!0)}}),render:function(e,t,s,o,r,i){return i.showCCPABanner?((0,B.wg)(),(0,B.j4)("div",dp,[(0,B.Wm)("div",up,[pp,(0,B.Wm)("div",hp,[(0,B.Wm)("a",{class:"btn",href:"javascript:void(0);",onClick:t[1]||(t[1]=(...e)=>i.onBtnClick&&i.onBtnClick(...e))},"Got it, thanks!"),(0,B.Wm)("a",{class:"btn grey",href:"/settings/do-not-sell",onClick:t[2]||(t[2]=(...e)=>i.onBtnClick&&i.onBtnClick(...e))},"Do not sell my personal info")])])])):(0,B.ry)("",!0)}},_p=(0,B.HX)("data-v-0e1d61b6");(0,B.dD)("data-v-0e1d61b6");const vp={class:"board-system"};(0,B.Cn)();const Sp=_p(((e,t,s,o,r,i)=>{const n=(0,B.up)("BoardsMinimizedPanel"),a=(0,B.up)("BoardsList"),c=(0,B.up)("BoardView");return(0,B.wy)(((0,B.wg)(),(0,B.j4)("section",vp,[(0,B.Wm)("div",{class:["board-system__wrapper","board-system__state_"+(i.isMinimized?"closed":"opened")]},[i.isMinimized?((0,B.wg)(),(0,B.j4)(n,{key:0,class:"board-system__minimized-panel"})):((0,B.wg)(),(0,B.j4)(B.HY,{key:1},[(0,B.Wm)(a,{class:"board-system__left_part"}),(0,B.Wm)(c,{class:"board-system__right-part"})],64))],2)],512)),[[me.F8,!i.isClosed]])})),Tp=(0,B.HX)("data-v-002f586b");(0,B.dD)("data-v-002f586b");const wp={class:"board-system__minimized-panel_title"},Ep=(0,B.Wm)("span",null,"Boards",-1),Pp={key:0,class:"minimized-panel__new-messages"};(0,B.Cn)();const Ip=Tp(((e,t,s,o,r,i)=>{const n=(0,B.up)("IconExpand"),a=(0,B.up)("IconBase");return(0,B.wg)(),(0,B.j4)("section",{class:"minimized-panel",onClick:t[1]||(t[1]=(...e)=>i.expandBoardsModal&&i.expandBoardsModal(...e))},[(0,B.Wm)("h4",wp,[Ep,e.hasNewUpdates?((0,B.wg)(),(0,B.j4)("span",Pp)):(0,B.ry)("",!0)]),(0,B.Wm)(a,{class:"minimized-panel__expand"},{default:Tp((()=>[(0,B.Wm)(n)])),_:1})])}));var Ap=s(4335);const kp={d:"M10.59 7.41L12 6L6 0L0 6L1.41 7.41L6 2.83L10.59 7.41Z",fill:"#999999"},Dp={render:function(e,t){return(0,B.wg)(),(0,B.j4)("path",kp)}};var Cp=s(5652).default;function Up(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Lp(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Up(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Up(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapActions:Np,mapGetters:jp}=(0,q._p)("boards"),Rp={name:"BoardsMinimizedPanel",components:{BoardsViewModeAction:Ap.Z,IconBase:_l.Z,IconExpand:Dp},computed:Lp({},jp({hasNewUpdates:Zc.P1})),methods:Lp(Lp({},Np({setBoardState:Zc.M_})),{},{expandBoardsModal(){Cp.track(Tl.R.BOARD,Tl.e.TAP_OPEN),this.setBoardState(rn.Hi)}})};s(4722),Rp.render=Ip,Rp.__scopeId="data-v-002f586b";const Mp=Rp;function xp(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Wp(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?xp(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xp(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapGetters:Vp,mapActions:Bp,mapState:Gp}=(0,q._p)("boards"),{mapActions:Fp}=(0,q._p)("boards/user"),{mapGetters:Zp,mapState:$p}=(0,q._p)("user"),Hp={name:"Boards",components:{BoardsList:(0,B.RC)((()=>s.e(305).then(s.bind(s,6504)))),BoardView:(0,B.RC)((()=>s.e(305).then(s.bind(s,4179)))),BoardsMinimizedPanel:Mp},data:()=>({inited:!1}),computed:Wp(Wp(Wp(Wp({},Zp({isLoggedIn:"IS_LOGGED_IN"})),$p({commentAuth:e=>e.user.commentAuth})),Vp({currentState:Zc.$j})),{},{isMinimized(){return this.isClosed||this.currentState===rn.Ev},isClosed(){return this.currentState===rn.Yn}}),methods:Wp(Wp(Wp({},Bp({_init:Zc.qg,fetchUserBoardsList:Zc.Xq})),Fp({fetchUserData:Zc.MC})),{},{init(){this.inited||(this.inited=!0,this._init())}}),watch:{commentAuth(e){this.fetchUserData({auth:e})},isLoggedIn(){this.fetchUserBoardsList()},isMinimized:{handler(e){e||this.init()},immediate:!0}},mounted(){Cr.Z.afterLoad(this.init)}};s(3092),s(2172),Hp.render=Sp,Hp.__scopeId="data-v-0e1d61b6";const Kp=Hp;var zp=s(28).default;function Yp(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function qp(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Yp(Object(s),!0).forEach((function(t){(0,Y.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Yp(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:Jp,mapGetters:Xp,mapMutations:Qp}=(0,q._p)("app"),{mapGetters:eh}=(0,q._p)("section"),{mapState:th}=(0,q._p)("toasts"),{mapGetters:sh}=(0,q._p)("modal"),{mapState:oh}=(0,q._p)("user"),{mapGetters:rh}=(0,q._p)("post"),{mapActions:ih,mapState:nh}=(0,q._p)("boards"),ah={name:"App",mixins:[Ue.Z,lp,$e.Z],data:()=>({drawerWindowWidth:1280}),watch:{windowWidth(){this.windowWidth>=this.drawerWindowWidth?this.showDrawer=!0:this.hideDrawer()},showDrawer(e){this.overlayDrawer&&e&&this.track("NavigationBar","OpenDrawer")}},computed:qp(qp(qp(qp(qp(qp(qp(qp({},Jp(["topNavHeight","drawer"])),Xp({showAds:"SHOW_ADS"})),eh({getSection:"GET_SECTION",getInterest:"GET_INTEREST"})),rh({getPost:"GET_POST"})),oh(["init"])),th({showToast:e=>!!e.messages.length})),sh({showModal:nn.iS})),{},{isAppEmbed(){return this.getConfig("page.appEmbed")},showDrawer:{get(){return this.drawer},set(e){e!==this.drawer&&this.updateDrawer(e)}},windowWidth:()=>wr.Z.browserWidth(),showBoards(){return this.init},showBillboardAd(){return!!this.showAds&&Oe.Z.MAIN_LISTS.includes(this.$route.name)},showSidebar(){return!this.$route||[...Oe.Z.LIST_VIEWS,Oe.Z.POST_PAGE].includes(this.$route.name)},containerStyle(){return{paddingTop:this.topNavHeight?`${this.topNavHeight}px`:""}},showPageDrawer(){return this.showDrawer&&!this.overlayDrawer},overlayDrawer(){return this.showDrawer&&this.windowWidth<this.drawerWindowWidth}}),components:{TopNav:id,PageComponent:Ad,BillboardAd:Vd,Drawer:Uu,Sidebar:(0,B.RC)((()=>s.e(128).then(s.bind(s,571)))),OldSidebar:(0,B.RC)((()=>s.e(128).then(s.bind(s,6610)))),Overlay:Yu,ToastMessage:sp,Toast:(0,B.RC)((()=>s.e(53).then(s.bind(s,4920)))),CCPABanner:bp,BoardSystem:Kp,Modal:(0,B.RC)((()=>s.e(217).then(s.bind(s,502))))},methods:qp(qp(qp({},Qp({updateDrawer:"UPDATE_DRAWER"})),ih({openBoardFromOutside:Zc.gJ})),{},{getContentHeight(){const e=this.$refs.content;return e?e.$el&&e.$el.offsetHeight:null},handleAnchor(e,t){const s=new(Et())(e.href),o=hc.resolve(s.pathname+s.query+s.hash),r=this.$route,i=r.name===Oe.Z.POST_PAGE;if(o.name&&np(s.href)){switch(o.name){case Oe.Z.POST_PAGE:const e=this.getPost(o.params.postId);if(e&&e.board)return t.preventDefault(),void this.openBoardFromOutside({boardID:e.id,url:e.url});if(!i)return;break;case Oe.Z.TAG_POST_LIST:if(!i&&"post-tag"===o.query.ref)return;break;case Oe.Z.SECTION_LIST:case Oe.Z.SECTION_POST_LIST:if(!this.getSection(o.params.section).url)return;if(!i&&"post-section"===o.query.ref)return;break;case Oe.Z.INTEREST_LIST:if(!this.getInterest(o.params.interest).name)return}t.preventDefault(),o.fullPath!==r.fullPath?this.$router.push(o.fullPath):window.location.href=o.fullPath}},initTimedTrackingManager(){this.timedTrackingMgr=new ip(zp),this.timedTrackingMgr.updateTrackingCVars(),this.timedTrackingMgr.setVisibilityObserver(-this.topNavHeight,0),this.timedTrackingMgr.start(),hc.afterEach(((e,t)=>{this.timedTrackingMgr.stop(),this.timedTrackingMgr.untrackAll(),this.timedTrackingMgr.updateTrackingCVars(),this.timedTrackingMgr.start()})),D.Z.$on("tracking::trackElement",(({domId:e,data:t})=>{this.timedTrackingMgr.track(e,t)}))},toggleDrawer(){this.showDrawer=!this.showDrawer},hideDrawer(){this.overlayDrawer&&(this.showDrawer=!1)}}),created(){D.Z.$on("nav::anchorClick",((e,t)=>{this.handleAnchor(e,t)})),this.initTimedTrackingManager(),this.showDrawer=this.windowWidth>=this.drawerWindowWidth},render:function(e,t,s,o,r,i){const n=(0,B.up)("TopNav"),a=(0,B.up)("Drawer"),c=(0,B.up)("BillboardAd"),l=(0,B.up)("router-view"),d=(0,B.up)("Sidebar"),u=(0,B.up)("OldSidebar"),p=(0,B.up)("ToastMessage"),h=(0,B.up)("Toast"),m=(0,B.up)("Overlay"),g=(0,B.up)("PageComponent"),f=(0,B.up)("CCPABanner"),y=(0,B.up)("BoardSystem"),O=(0,B.up)("Modal");return i.isAppEmbed?((0,B.wg)(),(0,B.j4)(B.HY,{key:1},[(0,B.Wm)(l),e.showToast?((0,B.wg)(),(0,B.j4)(h,{key:0})):(0,B.ry)("",!0),(0,B.Wm)(m),(0,B.Wm)(g),e.showModal?((0,B.wg)(),(0,B.j4)(O,{key:1})):(0,B.ry)("",!0)],64)):((0,B.wg)(),(0,B.j4)("div",ge,[(0,B.Wm)(n,{onToggleDrawer:i.toggleDrawer},null,8,["onToggleDrawer"]),i.overlayDrawer?((0,B.wg)(),(0,B.j4)(a,{key:0,overlayDrawer:i.overlayDrawer,onHideDrawer:i.hideDrawer},null,8,["overlayDrawer","onHideDrawer"])):(0,B.ry)("",!0),(0,B.Wm)("div",{id:"container",style:i.containerStyle,class:{drawer:i.showPageDrawer}},[i.showPageDrawer?((0,B.wg)(),(0,B.j4)(a,{key:0,showDrawer:i.showDrawer,onHideDrawer:i.hideDrawer},null,8,["showDrawer","onHideDrawer"])):(0,B.ry)("",!0),(0,B.Wm)("div",fe,[i.showBillboardAd?((0,B.wg)(),(0,B.j4)(c,{key:0})):(0,B.ry)("",!0),(0,B.Wm)(l,{ref:"content"},null,512),i.showSidebar&&e.newSidebar?((0,B.wg)(),(0,B.j4)(d,{key:1,getContentHeight:i.getContentHeight},null,8,["getContentHeight"])):(0,B.ry)("",!0),i.showSidebar&&!e.newSidebar?((0,B.wg)(),(0,B.j4)(u,{key:2})):(0,B.ry)("",!0),ye])],6),(0,B.Wm)(p),e.showToast?((0,B.wg)(),(0,B.j4)(h,{key:1})):(0,B.ry)("",!0),(0,B.Wm)(m),(0,B.Wm)(g),(0,B.Wm)(f),i.showBoards?((0,B.wg)(),(0,B.j4)(y,{key:2})):(0,B.ry)("",!0),e.showModal?((0,B.wg)(),(0,B.j4)(O,{key:3})):(0,B.ry)("",!0)]))}};var ch=s(3063),lh=s(45).default,dh=s(4177).default,uh=s(5652).default;const ph=ch.extend({},new A.Z,{docTitle:"",init:function(){this.initApplications().then((()=>{this.bindElements()})),window.addEventListener("click",this.handleAnchorClick.bind(this)),this.docTitle=document.title},async initApplications(){await V.Z.dispatch("config/INIT_CONFIG",lh._configs);const e=[],t=document.getElementById("jsid-app");t&&e.push(this.initMicroApp(t,ah,[V.Z,hc],{PostContent:eo})),await Promise.all(e)},initMicroApp:async(e,t,s=[],o={})=>{const r=(0,me.ri)(t);s.forEach((e=>r.use(e))),Object.entries(o).forEach((([e,t])=>r.component(e,t))),r.config.errorHandler=(e,t,s)=>{a.report(e)},r.mount(e)},_showFooterNavAfter:600,_footerNav:null,_CLASS_SHOW_BACK_TO_TOP:"show",selectors:{FOOTER_NAV:"a.badge-scroll-to-top",SCROLL_TO_TOP:"a.badge-scroll-to-top",CONTAINTER:"#container",CLICK_EVENT_SELECTOR:".badge-evt, .badge-track"},onScroll:function(){this.checkFooterNavElements()},bindElements:function(){this.bindFooterNavElements(),this.bindUploadElements(),this.bindEventTracking()},getNotiUnreadCount:()=>V.Z.getters["noti/NOTI_UNREAD_COUNT"],bindUploadElements:function(){D.Z.$on("nav::clickUpload",(function(){x.showOverlay(x.selectors.OVERLAY_COMPONENT_UPLOAD,!1),he.showUploadStep(he.selectors.UPLOAD_FILE_STEP)}))},bindFooterNavElements:function(){this._footerNav=ch(this.selectors.FOOTER_NAV),ch(this.selectors.SCROLL_TO_TOP).on("click",(function(e){e.preventDefault(),N.scrollToTop()}))},checkFooterNavElements:function(){if(this._footerNav){var e=dh.getScrollTop();e>this._showFooterNavAfter&&!this._footerNav.hasClass(this._CLASS_SHOW_BACK_TO_TOP)?this._footerNav.addClass(this._CLASS_SHOW_BACK_TO_TOP):e<=this._showFooterNavAfter&&this._footerNav.hasClass(this._CLASS_SHOW_BACK_TO_TOP)&&this._footerNav.removeClass(this._CLASS_SHOW_BACK_TO_TOP)}},_trackGaEvent:function(e){var t=e.attr("data-evt");if(t){var s,o,r,i,n=(t+="").split(",");s=n.shift(),o=n.shift(),n.shift(),r=n.shift(),i=n.shift();var a={},c=e.attr("data-entry-id");c&&(a.PostKey=c);var l=e.attr("data-position");l&&(a.Position=l),i&&(a.Element=i),uh.trackPage(s,o,r,a)}},_trackEvent:function(e){var t=e.attr("data-track");if(t&&null!=t){var s=(t+="").split(","),o=s.shift(),r=s.shift(),i={label:s.shift(),labelValue:s.shift(),platform:s.shift(),entry:s.shift(),view:s.shift()};T.event(o,r,i)}},_handelClickEventTracking:function(e){var t=ch(e.currentTarget);this._trackGaEvent(t),this._trackEvent(t);var s=t.prop("tagName"),o=t.attr("href")+"",r=t.attr("target");if("A"==s&&(0===o.indexOf("http")||0===o.indexOf("/"))&&!r){e&&e.preventDefault();var i="window.location.href = '"+o+"';";window.setTimeout(i,100)}},bindEventTracking:function(){ch(this.selectors.CONTAINTER).on("click",this.selectors.CLICK_EVENT_SELECTOR,ch.proxy(this._handelClickEventTracking,this))},setPageTitle:function(e){this.docTitle=e;const t=this.getNotiUnreadCount();var s=t>0?"("+t+") ":"";document.title=s+e},refreshPageTitle:function(){this.setPageTitle(this.docTitle)},scrollToTop:function(){dh.scrollTo(0,300)},_getEventKey:function(){var e,t,s={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(e in s)if(e in document){t=s[e];break}return{stateKey:e,eventKey:t}},tabVisibilityChange:function(e){const{stateKey:t,eventKey:s}=this._getEventKey();return e&&document.addEventListener(s,e),!document[t]},removeTabVisibilityChange:function(e){const{eventKey:t}=this._getEventKey();document.removeEventListener(t,e)},_findParent(e,t){for(;t;){if((t.nodeName||t.tagName||"").toLowerCase()===e.toLowerCase())return t;t=t.parentNode}return null},_isQuantcastCMPClick:e=>e.className.includes("qc-cmp"),handleAnchorClick(e){if(y.Z.getRouteInfo()&&!((e=e||window.event).ctrlKey||e.metaKey||e.shiftKey||e.altKey||0!==e.button)){const t=this._findParent("a",e.target||e.srcElement);t&&!this._isQuantcastCMPClick(t)&&D.Z.$emit("nav::anchorClick",t,e)}}});var hh=s(2662).default,mh=s(3063),gh=s(9012).default,fh=s(3036).default;hh.PageController=ph,hh.OverlayController=x;const yh=function(){var e={_data:{},_models:{},_controllers:{},init:function(){var t=e;mh(document).ready((function(){t._onDomReady()})),mh(window).on("load",(function(){t._onWindowLoad()}));const s=r()((()=>t._runOnControllers("onScroll")),500);gh.addEventListener("scroll",s),window.addEventListener("error",(e=>{a.report(e.error)}))},_onDomReady:function(){e._runOnModels("init"),e._runOnControllers("init")},_onWindowLoad:function(){e._runOnModels("onWindowLoad"),e._runOnControllers("onWindowLoad")},_runOnObjects:function(e,t){!e instanceof Object||mh.each(e,(function(e,s){s[t]&&"function"==typeof s[t]&&s[t]()}))},_runOnModels:function(t){e._runOnObjects(e._models,t)},_runOnControllers:function(t){e._runOnObjects(e._controllers,t)},addModel:function(t){return e._models=t,this},addController:function(t){return e._controllers=t,this},setData:function(t,s){e._data[t]=s},_scriptMap:{facebook:"//connect.facebook.net/en_US/sdk.js",twitter:"//platform.twitter.com/widgets.js"},loadScripts:function(){f.default.get("page.appEmbed")||(i.default.init(f.default.get("configs.track")),m.init(f.default.get("configs.firebaseConfig")),u.init(f.default.get("configs.facebookPixel")||{}),d.init(),c.Z.init(f.default.get("configs.quantcastCMP")||{}),Object.values(e._scriptMap).forEach((e=>fh.loadScript(e))))},loadConfigs:function(){return f.default.load(window._config),this}};return{init:e.init,loadConfigs:e.loadConfigs,loadScripts:e.loadScripts,addModel:e.addModel,addController:e.addController}}(),Oh={User:v.Z,Configs:f.default,Page:y.Z,Toast:_,Track:T,Facebook:w.Z,Vote:I},bh={AdsController:Yo.Z,PageController:ph,KeyboardController:N,OverlayController:x,ReportController:W.Z,PushController:Od,UploadController:he};yh.addModel(Oh).addController(bh).init(),yh.loadConfigs().loadScripts()},9201:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s(7278),r=function(){this._base=this};(r.prototype=new o.Z).getBase=function(){return this._base},r.prototype.init=function(){};const i=r},45:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const o={_configs:{},init:function(){},load:function(e){this._configs=e||{}},get:function(e){for(var t=e.split("."),s=this._configs,o="";s&&t.length>0;)o=s=s[t.shift()];return o}}},1021:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var o=s(7937),r=s(1118),i=s(4907),n=s(45).default,a=s(4177).default,c=s(5652).default,l={_xfbmlRenderItems:[],_asyncInited:!1,init:function(){},asyncInit:function(){this._asyncInited=!0,this.initApp(),this.executeRenderQueue()},initApp:function(){const e=n.get("configs.facebook");FB.init({appId:e.appId,version:e.version,xfbml:!1,status:!0,cookie:!0}),this._checkFacebookLoginStatus()},sessionChangeHandler:function(e){e&&("connected"===e.status?e.authResponse&&l.autoLogin():e.status)},_checkFacebookLoginStatus:function(){FB.getLoginStatus(l.sessionChangeHandler),FB.Event.subscribe("auth.authResponseChange",l.sessionChangeHandler)},executeRenderQueue:function(){for(var e=0;e<this._xfbmlRenderItems.length;e++){var t=this._xfbmlRenderItems[e];this.parseElement(t.el,t.callback)}},renderElement:function(e,t){this._asyncInited?this.parseElement(e,t):this._xfbmlRenderItems.push({el:e,callback:t})},parseElement:function(e,t){var s=e instanceof HTMLElement?e:document.getElementById(e);if(s)try{t?FB.XFBML.parse(s,t):FB.XFBML.parse(s)}catch(e){}},autoConnectKey:"auto_log",autoLogin:function(){if(o.Z.isLoggedIn())return;if(!a.isCookieEnabled())return;const e=i.U2(l.autoConnectKey);var t={a:!1,d:!1,lo:!1,dl:!1};if((e||!1===e)&&(t=JSON.parse(e)),null!=t){if(t.a)return;if(!t.dl&&(t.lo||t.d))return}c.track("Login","AutoConnectFacebook",r.Z.getPageKey()),t.a=!0;var s=JSON.stringify(t);i.t8(l.autoConnectKey,s,r.Z.getCookieOptions()),l.Connect.autoLogin(location.href)},Connect:{autoLogin:function(e){try{null!=e&&null!=e||(e="/");var t=`https://${r.Z.getDomain()}/connect/auto-login?next=${encodeURIComponent(e)}`;window.location=t}catch(e){return}}}};window.fbAsyncInit=function(){l.asyncInit()};const d=l},7278:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=function(){this._isSuccess=!1,this._keys={},this.setKey(this.Constants.RESPONSE_MESSAGE,"")};o.Constants={RESPONSE_MESSAGE:"RESPONSE_MESSAGE",RESPONSE_CODE:"RESPONSE_CODE",RESPONSE_DATA:"RESPONSE_DATA"},o.prototype.succeeded=function(e){return this._isSuccess=!0,this.setKey(this.Constants.RESPONSE_MESSAGE,e),this},o.prototype.failed=function(e){return this._isSuccess=!1,this.setKey(this.Constants.RESPONSE_MESSAGE,e),this},o.prototype.isSuccess=function(){return this._isSuccess},o.prototype.setKey=function(e,t){return this._keys[e]=t,this},o.prototype.getKey=function(e){return this._keys[e]},o.prototype.setCode=function(e){return this.setKey(this.Constants.RESPONSE_CODE,e),this},o.prototype.getCode=function(){return this.getKey(this.Constants.RESPONSE_CODE)},o.prototype.setData=function(e){return this.setKey(this.Constants.RESPONSE_DATA,e),this},o.prototype.getData=function(){return this.getKey(this.Constants.RESPONSE_DATA)},o.prototype.setMessage=function(e){return this.setKey(this.Constants.RESPONSE_MESSAGE,e),this},o.prototype.getMessage=function(){return this.getKey(this.Constants.RESPONSE_MESSAGE)};const r=o;var i=s(5670).default,n=function(){this._namespace=""};n.prototype.setNamespace=function(e){this._namespace=e},n.prototype.log=function(e,t){i.log(this._namespace+" "+(t?t+" ":"")+e)},n.prototype.failed=function(e){return(new r).failed(e)},n.prototype.succeeded=function(e){return(new r).succeeded(e)};const a=n},1118:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s(1487),r=s(45).default,i=s(6296).default;const n={_domain:"9gag.com",_pageKey:"",route:null,init:function(){this._domain=r.get("page.domain"),this._pageKey=r.get("page.page_key")},getRouteInfo:function(){return this.route},setRouteInfo:function(e){this.route=e},getProtocol:function(){return"https:"==document.location.protocol?"https":"http"},getDomain:function(){return this._domain},getCookieOptions:function(){return{domain:r.get("page.cookie_domain"),path:"/",expires:1095}},getPageKey(){return this.route?this.getPageKeyFromRoute(this.route):this._pageKey||""},getPageKeyFromRoute(e){let t;switch(e.name){case o.Z.POST_LIST:case o.Z.HOT_POST_LIST:return i.capitalize(e.params.type||"hot");case o.Z.SECTION_LIST:case o.Z.SECTION_POST_LIST:const s=i.capitalize(e.params.section||"");return t=i.capitalize(e.params.type||"hot"),`${s}-${t}`;case o.Z.INTEREST_LIST:return`Interest-${i.capitalize(e.params.interest||"")}`;case o.Z.TAG_POST_LIST:const r=i.capitalize(e.params.tag||"");return t=i.capitalize(e.params.type||"hot"),`Tag-${r}-${t}`;case o.Z.USER_POST_LIST:return t=i.capitalize(e.params.type||"overview"),`Profile-${t}`;case o.Z.SEARCH_POST_LIST:return"Search";case o.Z.POST_PAGE:return"Post";case o.Z.SIGNUP_PAGE:return"Signup";case o.Z.LOGIN_PAGE:return"Login";case o.Z.SETTINGS:return"Settings"}return this._pageKey},load:function(e){window.location=e},isPostPage:function(){return"Post"===this.getPageKey()},isSectionPage:function(){return this.route&&[o.Z.SECTION_LIST,o.Z.SECTION_POST_LIST].includes(this.route.name)},isInterestPage:function(){return this.route&&this.route.name===o.Z.INTEREST_LIST},isTagPostListPage:function(){return this.route&&this.route.name===o.Z.TAG_POST_LIST},isProfilePage:function(){return this.route&&this.route.name===o.Z.USER_POST_LIST},isSearchPage:function(){return this.route&&this.route.name===o.Z.SEARCH_POST_LIST},isUploadPage:function(){return this.route&&this.route.name===o.Z.UPLOAD},getUrlParam:function(e){return this.route&&this.route.query[e]||""}}},2676:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var o,r=s(9201),i=s(7937),n=s(3822),a=s(2215),c=s(3063),l=s(1653).default;const d=c.extend({},new r.Z,{init:(o={API:{REPORT_ENTRY_URI:"/report"},init:function(){},_isRequesting:!1,reportEntity:function(e,t,s,r,d){if(!i.Z.isLoggedIn())return;if(o._isRequesting)return;const u={type:s};var p="Report";e===n.Z.TYPES.POST?(u.entryId=t,p="ReportPost",a.Z.dispatch("user/ADD_REPORT",t)):e===n.Z.TYPES.PROFILE&&(u.username=t,p="ReportUser");var h=o.API.REPORT_ENTRY_URI;c.ajax({type:"POST",url:h,dataType:"json",data:u,beforeSend:function(){o._isRequesting=!0},complete:function(){o._isRequesting=!1},success:function(e){e.okay?(r&&r(t),l.trackEvent("PostAction",p,t,"",{ReportType:s,Success:!0})):(d&&d(t),l.trackEvent("PostAction",p,t,"",{ReportType:s,Success:!1}))},error:function(e){d&&d(t)}})}}).init,reportEntity:o.reportEntity})},7937:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s(9201),r=s(2215);const i=s(3063).extend({},new o.Z,{isLoggedIn:function(){return r.Z.getters["user/IS_LOGGED_IN"]},getUserId:function(){return r.Z.getters["user/USER_ID"]},isRestricted:function(){return r.Z.getters["user/RESTRICTED"]}})},2662:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const o={}},7421:(e,t,s)=>{s.p=window._config.page.staticAssetPath},8267:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s(3656),r=s(1487);const i={inject:{isPostView:{default:!1}},computed:{type(){let e=o.Z.HOT;return this.$route.name===r.Z.USER_POST_LIST&&(e=o.Z.OVERVIEW),this.$route.params.type||e}},methods:{getRoute({name:e=null,params:t={},query:s={}}){return this.$router.resolve({name:e||this.$router.name,params:t,query:s}).href},getPostRoute(e,t={}){return this.$router.resolve({name:r.Z.POST_PAGE,params:{postId:e},query:t}).href}}}},8209:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s(1118),r=s(5652);const i={methods:{track(e,t,s){r.default.track(e,t,o.Z.getPageKey(),"",s)},trackLabel(e,t,s,o){r.default.track(e,t,s,"",o)}}}},5384:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s(4949),r=s(9200),i=s(2204);function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}const{mapGetters:a}=(0,i._p)("user"),c={computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},a({isLoggedIn:"IS_LOGGED_IN"})),methods:{ensureLoggedIn(e){return!!this.isLoggedIn||(r.Z.$emit("Overlay::showSignupSocial",e),!1)}}}},695:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s(5087),r=s(2289).default,i=s(9012).default;const n={data:()=>({adTags:[],adObserver:null,observedAds:{},renderedAds:{},adRefresh:null}),watch:{$route(){this.resetAd()}},methods:{getAdContainers(e){const t=[];return this.adTags.forEach((s=>{const r=o.Z.getAdContainer(s,e);r&&t.push(r)})),t},createAdObserver(){},observeAd(e,t){this.observedAds[t.adContainerId]||(this.adObserver||(this.adObserver=this.createAdObserver()),this.adObserver.observe(e),this.observedAds[t.adContainerId]=t)},adIntersectHandler(e){e.forEach((e=>{if(!(e.visibilityStatus===r.VISIBILITY_STATUS.enter||e.intersectionRatio>0))return;const t=this.observedAds[e.domId];t&&this.renderAd(t)}))},renderAd(e){this.renderedAds[e.adContainerId]||(o.Z.renderAd(e),this.renderedAds[e.adContainerId]=!0,this.createAdRefresh())},createAdRefresh(){this.clearAdRefresh(),this.adRefresh=setInterval(this.refreshVisibleAds.bind(this),3e4)},clearAdRefresh(){this.adRefresh&&(clearInterval(this.adRefresh),this.adRefresh=null)},refreshVisibleAds(){if(!this.adObserver)return;const e=this.adObserver.getSortedVisibleItems(.5).map((e=>e.domId));for(const t of e){const e=this.observedAds[t],s=this.renderedAds[t];e&&s&&o.Z.refreshAd(e)}},unobserveAd(e,t){o.Z.destroyAd(t),this.adObserver&&this.adObserver.unobserve(e);const s=t.adContainerId;this.observedAds[s]=null,this.renderedAds[s]=null},resetAd(){this.adObserver&&(this.adObserver.destroy(),this.adObserver=null),this.observedAds={},this.renderedAds={},this.clearAdRefresh()},visibilityChange(){switch(document.visibilityState){case"visible":this.createAdRefresh();break;case"hidden":this.clearAdRefresh()}}},created(){i.addEventListener("visibilitychange",this.visibilityChange)},unmounted(){this.resetAd(),i.removeEventListener("visibilitychange",this.visibilityChange)}}},2354:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s(4949);function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class n{constructor(){this.options={version:"v1"}}init(e){this.options=i(i({},this.options),e)}baseUrl(){return`/${this.options.version}`}returnError(e){return Promise.reject(e)}}},1004:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var o=s(4949),r=s(9669),i=s.n(r),n=s(2354),a=s(1487),c=s(4564),l=s.n(c),d=s(1118),u=s(7637).default;function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}class h extends n.Z{getApiInfo(e){const{query:t}=e,s=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e.params);let r,i;switch(Object.keys(s).forEach((e=>!s[e]&&delete s[e])),e.name){case a.Z.POST_PAGE:r=`/post?id=${s.postId}`;break;case a.Z.POST_LIST:case a.Z.SECTION_LIST:case a.Z.HOT_POST_LIST:case a.Z.SECTION_POST_LIST:let e,o;({section:e,type:i="hot",postId:o=null}=s),u.LIST.includes(e)&&(i=e,e=null),r=`/group-posts/group/${e||"default"}/type/${i}`,t.sort&&(r+=`/sort/${t.sort}`),o&&(r+=`/postId/${o}`);break;case a.Z.INTEREST_LIST:r=`/interest-posts/interest/${s.interest}`;break;case a.Z.TAG_POST_LIST:let n;({tag:n,type:i="hot"}=s),r=`/tag-posts/tag/${encodeURIComponent(n)}/type/${i}`;break;case a.Z.USER_POST_LIST:let c;({username:c,type:i="overview"}=s),r=`/user-posts/username/${c}/type/${i}`;break;case a.Z.SEARCH_POST_LIST:r=`/search-posts?query=${t.query}`}return{url:r,name:e.name,pageKey:d.Z.getPageKeyFromRoute(e)}}getListPosts(e,t){const s=e.url,o=new(l())(`${this.baseUrl()}${s}`);t&&o.set("query",t);let r="get";return e.name===a.Z.USER_POST_LIST&&(r="post"),i()[r](o.toString()).then((e=>({url:s,data:e.data.data}))).catch(this.returnError)}}const m=new h},2215:(e,t,s)=>{"use strict";s.d(t,{Z:()=>_o});var o=s(4949),r=s(2204),i=s(1487),n=s(4907),a=s(9432).default,c=s(24),l=s(9377),d=s(403),u=s(7361),p=s.n(u),h=s(4702);const m=(e,t=null)=>(t&&(e.setState=(e,s,o)=>(s.expiry=Date.now()+1e3*t,o.setItem(e,JSON.stringify(s))),e.getState=(e,t,s)=>{try{if(s=t.getItem(e)){const e=JSON.parse(s);if(Date.now()<e.expiry)return delete e.expiry,e}return}catch(e){return}}),(0,h.Z)(e));var g=s(5670).default;const f=m({key:"privacyState",paths:["privacy.googleNpa","privacy.doNotSell","privacy.privacyCheck","privacy.dismissCCPABanner"],filter:e=>["privacy/setGoogleNpa","privacy/setDoNotSell","privacy/setPrivacyCheck","privacy/dismissCCPABanner"].includes(e.type)});var y=s(7651),O=s(5670).default;class b{static getSessionExpiryPeriodInSeconds(){return 1800}static getSessionInfoAndReferralInfoForSession(e,t=null){const s=p()(e,"startTs",0),o=p()(e,"expiryTs",0),r=t||y.default.getCurrentTime(),i=o-r;let n={expiryTs:r+b.getSessionExpiryPeriodInSeconds()},a=null;return i>=0?O.log("lastSessionStartTs="+s+", lastSessionExpiryTs="+o+", ttl="+i+", EXTEND"):(O.log("lastSessionStartTs="+s+", lastSessionExpiryTs="+o+", ttl="+i+", RESET"),a={ref:null,utmSource:null,utmCampaign:null,utmMedium:null},n.startTs=r),{sessionInfo:n,referralInfo:a}}static getReferralInfoForQuery(e){let t=p()(e,"ref",null),s=p()(e,"utm_source",null),o=p()(e,"utm_campaign",null),r=p()(e,"utm_medium",null);return O.log(`ref=${t}, utmSource=${s}, utmCampaign=${o}, utmMedium=${r}`),t||s||o||r?{ref:t,utmSource:s,utmCampaign:o,utmMedium:r}:null}}const _=b;function v(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function S(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?v(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const T=m({key:"sessionState",paths:["session.session","session.unmasked"],filter:e=>["session/setSessionInfo","session/setSessionReferral","session/unmaskSensitive"].includes(e.type)},3600);var w=s(9669),E=s.n(w),P=s(2354),I=s(4564),A=s.n(I);class k extends P.Z{async getConfig(){try{const e=new(A())(`${this.baseUrl()}/config`),{data:t}=await E().get(e.toString());return t.data}catch(e){return null}}}const D=new k,C=(e,t,s)=>e[t]=s,U=(e,t)=>delete e[t];var L=s(1004),N=s(5652),j=s(6296);function R(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function M(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?R(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):R(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class x{static bindPostIdToUrl(e,t,s="push"){let o;if(o=e&&Array.isArray(e)?[...e]:[],Array.isArray(t))for(let e of t)o[s](e);else-1===e.indexOf(t)&&o[s](t);return o}static recalculateVote(e,t,s){return{upVoteCount:e.upVoteCount-t+s}}static transformPost(e){const t=j.default.htmlDecode(e.title),s=new URL(e.url).pathname;let o="";return e.postSection&&e.postSection.url&&(o=new URL(e.postSection.url).pathname.substr(1)),M(M({},e),{},{title:t,postUrl:s,postSectionPath:o})}}function W(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function V(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?W(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):W(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var B=s(6296).default;function G(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function F(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?G(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):G(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class Z extends P.Z{async getUserInfo(){try{const e=new(A())(`${this.baseUrl()}/user-info`),{data:{data:t}}=await E().post(e.toString());return F(F({},t),{},{user:this._transformUser(t.user)})}catch(e){return null}}updateSettings(e){const t=new(A())(`${this.baseUrl()}/settings`),s=new FormData;return Object.keys(e).forEach((t=>{s.append(t,e[t])})),E().post(t.toString(),s,{headers:{"content-type":"multipart/form-data"}}).then((e=>{const{data:{data:t}}=e;return F(F({},t),{},{user:this._transformUser(t.user)})})).catch(this.returnError)}async unlinkAccount(e){return E().post("/connect/unlink",{platform:e}).then((e=>e.data.data)).catch(this.returnError)}_transformUser(e){return F(F({},e),{},{fullName:B.htmlDecode(e.fullName),about:B.htmlDecode(e.about)})}}const $=new Z;var H=s(4258);function K(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function z(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?K(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):K(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Y={user:{userId:null,accountId:null,hashId:null,username:null,fullName:null,emojiStatus:null,email:null,hasPassword:null,fbConnected:null,googleConnected:null,verified:!0,safeMode:!0,nsfwMode:!1,about:null,location:null,profileUrl:null,avatarUrl:null,gender:null,birthday:null,isActivePro:!1,isActiveProPlus:!1,notiOptions:{channels:null,readStateParams:null},commentAuth:null,preferences:{hideFromRobots:0},restricted:!1,dataRequest:0,subscribe:{news:0}},votes:{},uploads:[],reports:[]};function q(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}const J={initSections(e,t){e.sections=t},initLocalSections(e,t){e.localSections=t},initGeoSection(e,t){e.geoSection=t},initFeaturedSections(e,t){e.featuredSections=t},initInterests(e,t){e.interests=t},addSection(e,t){const{url:s}=t;e.sections=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?q(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):q(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({[s]:t},e.sections)},favoriteSection(e,t){const s=e.favoriteSections.filter((t=>e.sections[t]));s.includes(t)||(s.length>=10&&s.shift(),s.push(t)),e.favoriteSections=s},unfavoriteSection(e,t){const s=e.favoriteSections.indexOf(t);s>-1&&e.favoriteSections.splice(s,1)},hideSection(e,t){const s=e.hiddenSections.filter((t=>e.sections[t]));s.includes(t)||s.push(t),e.hiddenSections=s},unhideSection(e,t){const s=e.hiddenSections.indexOf(t);s>-1&&e.hiddenSections.splice(s,1)},addRecentVisitSection(e,t){const s=e.recentVisitSections.filter((t=>e.sections[t])),o=s.indexOf(t);o>-1&&s.splice(o,1),s.push(t),e.recentVisitSections=s},removeRecentVisitSection(e,t){const s=e.recentVisitSections.indexOf(t);s>-1&&e.recentVisitSections.splice(s,1)},clearRecentVisitSections(e){e.recentVisitSections=[]}};var X=s(1186);const Q={namespaced:!0,state:{sections:{},featuredSections:{},localSections:{},geoSection:null,favoriteSections:[],hiddenSections:[],recentVisitSections:[],interests:{}},getters:{GET_SECTION:e=>t=>e.sections[t]||e.localSections[t]||{},GET_FAVORITE_SECTIONS:e=>e.favoriteSections.map((t=>e.sections[t])).filter((e=>e)).reverse(),GET_FAVORITE_SECTIONS_URLS:(e,t)=>t.GET_FAVORITE_SECTIONS.map((e=>e.url)),GET_HIDDEN_SECTIONS:e=>e.hiddenSections.map((t=>e.sections[t])).filter((e=>e)),GET_HIDDEN_SECTIONS_URLS:(e,t)=>t.GET_HIDDEN_SECTIONS.map((e=>e.url)),GET_HIDDEN_SECTIONS_COUNT:(e,t)=>t.GET_HIDDEN_SECTIONS.length,GET_FEATURED_SECTIONS:(e,t)=>{let s=[];for(let o in e.featuredSections)e.favoriteSections.includes(o)||e.hiddenSections.includes(o)||t.GET_RECENT_VISIT_SECTIONS_URLS.includes(o)||s.push(e.featuredSections[o]);return s},GET_NORMAL_SECTIONS:(e,t)=>{let s=[];for(let o in e.sections)e.favoriteSections.includes(o)||e.hiddenSections.includes(o)||e.featuredSections[o]||t.GET_RECENT_VISIT_SECTIONS_URLS.includes(o)||s.push(e.sections[o]);return s},GET_LOCAL_SECTIONS:e=>e.localSections,GET_RECENT_VISIT_SECTIONS:e=>e.recentVisitSections.map((t=>e.sections[t])).filter((t=>t&&!e.favoriteSections.includes(t.url))).reverse().slice(0,3),GET_RECENT_VISIT_SECTIONS_URLS:(e,t)=>t.GET_RECENT_VISIT_SECTIONS.map((e=>e.url)),GET_GEO_SECTION:e=>e.geoSection,GET_INTERESTS:e=>e.interests,GET_INTEREST:e=>t=>e.interests[t]||{}},mutations:J,actions:{async[c.bQ.INIT_SECTIONS]({commit:e},{sections:t,localSections:s,featuredSections:o,interests:r}){t&&e("initSections",t),s&&e("initLocalSections",s);const i=Object.values(s).find((e=>e.location.toUpperCase()===X.Z.getLocation()));i&&e("initGeoSection",i),o&&e("initFeaturedSections",o),r&&e("initInterests",r)},[c.bQ.ADD_SECTION]({commit:e,getters:t},s){t.GET_SECTION(s.url).url||e("addSection",s)},[c.bQ.FAVORITE_SECTION]({commit:e,dispatch:t},s){t(c.bQ.UNHIDE_SECTION,s),e("favoriteSection",s)},[c.bQ.UNFAVORITE_SECTION]({commit:e},t){e("unfavoriteSection",t)},[c.bQ.ADD_RECENT_VISIT_SECTION]({commit:e,state:t},s){t.sections[s]&&e("addRecentVisitSection",s)},[c.bQ.REMOVE_RECENT_VISIT_SECTION]({commit:e},t){e("removeRecentVisitSection",t)},[c.bQ.CLEAR_RECENT_VISIT_SECTIONS]({commit:e}){e("clearRecentVisitSections")},[c.bQ.HIDE_SECTION]({commit:e,dispatch:t},s){t(c.bQ.UNFAVORITE_SECTION,s),e("hideSection",s)},[c.bQ.UNHIDE_SECTION]({commit:e},t){e("unhideSection",t)}}};function ee(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function te(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ee(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var se=s(8718),oe=s.n(se);class re extends P.Z{getFeaturedPosts(){const e=new(A())(`${this.baseUrl()}/featured-posts`);return E().get(e.toString()).then((e=>e.data.data)).catch(this.returnError)}}const ie=new re;var ne=s(9983),ae=s.n(ne);class ce extends P.Z{async getNoti(e){try{const t=new(A())(`${this.baseUrl()}/notifications`),{data:s}=await E().post(t.toString(),e);return this._transformNoti(s.data)}catch(e){return null}}async setNotiReadState(e){try{const t=new(A())(`${this.baseUrl()}/notifications-read-state`);return await E().post(t.toString(),e)}catch(e){return null}}async updateNotiUnreadCount(e){try{const{readStateUrl:t,readStateParams:s}=e;return s?await E().post(t,s):null}catch(e){return null}}_transformNoti(e){const{items:t,nextKey:s,didEndOfList:o}=e,r={items:[],posts:[],nextKey:s||"",didEndOfList:!!o},i=[];return t&&(t.forEach((e=>{const{post:t}=e;t&&!i.includes(t.id)&&(r.posts.push(x.transformPost(t)),i.push(t.id))})),r.items=t),r}}const le=new ce;var de=s(1093).default,ue=s(7651).default,pe=s(8912);const he={[H.Ve]:e=>t=>e.blocklist.find((e=>e.accountId===t))||null,[H.xN]:e=>t=>-1!==e.blocklistIds.indexOf(t)};function me(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}const ge={[H._f]:(e,t)=>{e.blocklist=t},[H.uO]:(e,t)=>{e.blocklistIds=t},[H.sm]:(e,t)=>{e.blocklistIds.push(t)},[H.yk]:(e,t)=>{e.blocklistIds.splice(e.blocklistIds.indexOf(t),1)},[H.bR]:(e,t)=>{e.userToBlock=t?function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?me(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):me(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t):t},[H.wU]:(e,t)=>{e.blocklist.splice(t,1)},[H.iO]:(e,t)=>{e.lastMessagesFromBlockedUsersDiffCount=t},[H.Ai]:(e,t)=>{e.autoFollowThreadReply=t}};var fe=s(5435),ye=s(1019),Oe=s(8316);class be{constructor(e,t,s,o){this.hideProBadge=e,this.hideActiveTs=t,this.accentColor=s,this.backgroundColor=o}static fromJson(e){return new be(e.hideProBadge,e.hideActiveTs,e.accentColor,e.backgroundColor)}}class _e{constructor(e,t,s,o,r,i,n,a,c,l,d,u,p,h){this.userId=e,this.accountId=t,this.username=s,this.fullName=o,this.avatarUrl=r,this.emojiStatus=i,this.about=n,this.profileUrl=a,this.isActivePro=c,this.isActiveProPlus=l,this.isVerifiedAccount=d,this.creationTs=u,this.activeTs=p,this.preferences=h}static fromJson(e){let t=null;return e.preferences&&(t=be.fromJson(e.preferences)),new _e(e.userId,e.accountId,e.username,e.fullName,e.avatarUrl,e.emojiStatus,e.about,e.profileUrl,e.isActivePro,e.isActiveProPlus,e.isVerifiedAccount,e.creationTs,e.activeTs,t)}}class ve extends Oe.g{constructor(e,t){super(),this.didEndOfList=e,this.users=t}static fromJson(e){const t=[];if(e.users.length)for(let s of e.users)t.push(_e.fromJson(s));return new ve(Boolean(e.didEndOfList),t)}}var Se=s(2915);class Te extends ye.g{constructor(){super(...arguments),this.url="/user-block-list",this.version=Se.pv,this._queryParams={fromIndex:0,itemCount:20}}baseUrl(){return`/${this.version}`}get queryParams(){return this._queryParams}set queryParams(e){this._queryParams=e}fetch(){return e=this,t=void 0,o=function*(){return E().post(this.getUrl(this._queryParams)).then((e=>ve.fromJson(e.data.data))).catch(this.returnError)},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}setParams(e){return this._queryParams=Object.assign(Object.assign({},this._queryParams),e),this}}class we extends ye.g{constructor(e=null){super(),this.accountId=e,this.url="/user-block",this.version=Se.pv,this.method="post"}baseUrl(){return`/${this.version}`}setToBlock(){return this.method="post",this}setToUnBlock(){return this.method="delete",this}fetch(){return e=this,t=void 0,o=function*(){return E()[this.method](this.getUrl({accountId:this.accountId})).then((e=>e.data.data)).catch(this.returnError)},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}const Ee={namespaced:!0,modules:{settings:{namespaced:!0,state:()=>({userToBlock:null,blocklist:[],blocklistIds:[],lastMessagesFromBlockedUsersDiffCount:0,autoFollowThreadReply:!0}),getters:he,mutations:ge,actions:{[H.Z8]:async({state:e,dispatch:t},{cursor:s})=>{const o=s?e.blocklist:[],r=(new Te).setParams({fromIndex:s}),i=await r.fetch();return t(H._f,[...o,...i.users]),!i.didEndOfList&&i.users.length<r.queryParams.itemCount&&(await t(H.Z8,{cursor:s+r.queryParams.itemCount})).didEndOfList&&(i.didEndOfList=!0),i},[H._f]:({commit:e},t)=>{e(H._f,t)},[H.uO]:({commit:e},t)=>{e(H.uO,t)},[H.bR]:({commit:e},t=null)=>{e(H.bR,t)},[H.h9]:async({state:e,dispatch:t,commit:s},o)=>{await new we(o).fetch(),s(H.sm,o),t(`toasts/${fe.Pd}`,{text:`Youve blocked @${e.userToBlock.displayName}`,type:"notice"},{root:!0}),t(H.bR,null)},[H.jk]:async({dispatch:e},{accountID:t,username:s})=>{await new we(t).setToUnBlock().fetch(),e(`toasts/${fe.Pd}`,{text:`Youve unblocked @${s}`,type:"notice"},{root:!0}),e(H.f9,t)},[H.f9]:({commit:e,dispatch:t},s)=>{e(H.yk,s),t(H.wU,s)},[H.wU]:({state:e,commit:t},s)=>{const o=e.blocklist.findIndex((e=>e.accountId===s));-1!==o&&t(H.wU,o)},[H.iO]:({commit:e},t)=>{e(H.iO,t)},[H.Ai]:({commit:e},t)=>{e(H.Ai,t)}}}}};var Pe=s(5381),Ie=s(5333),Ae=s(2428),ke=s(1836);const De={[Ae.$j]:e=>e.boardState,[Ae.IV]:(e,t)=>{const s=e.userBoards.map((e=>t[Ae.aE](e))).filter((e=>e));return class{static sortBoardsByNewMessagesAndTime(e,t){return e.sort(((e,s)=>{if(null===e.comment||null===s.comment)return 0;const o=t[e.id],r=t[s.id];return r||o?r&&!o?1:!r&&o?-1:r&&o?s.comment.updateTs-e.comment.updateTs:1:s.comment.updateTs>e.comment.updateTs?1:s.comment.updateTs<e.comment.updateTs?-1:0})),e.map((e=>e.id))}}.sortBoardsByNewMessagesAndTime(s,e.pollingUpdates)},[Ae.uF]:e=>e.featuredBoards.filter((t=>!e.userBoards.includes(t))),[Ae.aE]:e=>t=>e.boards[t],[Ae.CD]:e=>t=>e.newMessages[t],[Ae.nv]:(e,t)=>e=>t[Ae.aE](e).url,[Ae.NQ]:(e,t)=>({boardID:e,messageID:s})=>{const o=t[Ae.mJ]({boardID:e,messageID:s});return o?o.permalink:""},[Ae.yn]:(e,t)=>e=>{try{return t[Ae.aE](e).board.followed}catch(e){return!1}},[Ae.zV]:(e,t)=>e=>{try{return t[Ae.$x](e).comments.reduce(((e,t,s)=>(t.isInfoType()&&e.push(t.commentId),e)),[])}catch(e){return!1}},[Ae.jI]:(e,t)=>({boardID:e})=>{const s=t[Ae.aE](e);if(s)return s.article},[Ae.S0]:(e,t)=>()=>{if(e.focusedBoardID)return t[Ae.jI]({boardID:e.focusedBoardID})},[Ae.N4]:(e,t)=>({boardID:e,mediaID:s})=>{const o=t[Ae.jI]({boardID:e});return Ie.Z.getArticleMediaById(o,s)},[Ae.Jq]:(e,t)=>e=>{const s=t[Ae.aE](e);if(s)return s.board.muted},[Ae.RL]:(e,t)=>({boardID:s,filter:o=!0})=>{if(o&&Object.keys(e.dismissedPins).includes(s))return;const r=t[Ae.aE](s);return r?r.board.pinned:void 0},[Ae.$x]:e=>t=>e.conversations[t]?e.conversations[t]:void 0,[Ae.rz]:e=>({boardID:t,isThread:s})=>{if(e.conversations[t])return s?e.conversations[t].comments[e.conversations[t].comments.length-1]:e.conversations[t].comments[0]},[Ae.$Q]:e=>t=>e.conversationsStates[t]?e.conversationsStates[t]:void 0,[Ae.um]:e=>({conversationId:t,direction:s="next"})=>e.conversationsCursors[t]?e.conversationsCursors[t][s]:void 0,[Ae.T3]:(e,t)=>({conversationID:e,messageID:s})=>{const o=t[Ae.$x](e);return o&&o.parent&&o.parent.commentId===s},[Ae.mJ]:(e,t)=>({boardID:e,messageID:s})=>{const o=t[Ae.$x](e),r=t[Ae.T3]({conversationID:e,messageID:s});if(!o)return;let i=o.comments.find((e=>e.commentId===s));return i&&!r||(i=o.parent),i},[Ae.QV]:(e,t)=>({boardID:e,messageID:s})=>{const o=t[Ae.$x](e);if(!o&&!o.comments)return;let r=o.comments.findIndex((e=>e.commentId===s));return r>=0?r:void 0},[Ae.RA]:e=>t=>e.followStatusMap[t],[Ae.Oj]:(e,t,s)=>({boardID:e,messageID:o})=>{const r=t[Ae.mJ]({boardID:e,messageID:o});if(!r)return{};const i=r.type,n=location.hostname,a=s.config.configs.comment.cdnHost;let c="",l=null,d="",u=!1,p={};if(i===ke.Ok&&r.media.length>0){const e=r.media[0];e.type===ke.y8&&e.video?(c=e.video.url,u=!0):e.type===ke.LD&&e.image&&(c=e.image.url,l=e.image.webpUrl),d=`https://${a}/image?ref=${n}#${c}`,e.image&&(p=e.image.calculateRealSize())}return{imageUrl:c,imageHref:d,webpUrl:l,videoUrl:null,isVideo:u,realSize:p}},[Ae.RQ]:e=>(t=null)=>e.pollingUpdates[t]||!1,[Ae.P1]:(e,t)=>{for(const[s,o]of Object.entries(e.pollingUpdates))if(-1!==e.userBoards.indexOf(s)&&!t[Ae.Jq](s)&&o)return!0;return!1}};var Ce=s(5116),Ue=s(3257),Le=s(9749);class Ne{constructor(e={lastUserId:null,currentBlockIndex:0,maxTimestampsDiff:300,isInverted:!1}){this.messagesCombiningWorker=e}separateMessagesOntoGroupsByAuthorAndTs(e,t){if(this.messagesCombiningWorker.lastUserId||(this.messagesCombiningWorker.lastUserId=t.user.userId),t.user.userId!==this.messagesCombiningWorker.lastUserId&&++this.messagesCombiningWorker.currentBlockIndex,Array.isArray(e[this.messagesCombiningWorker.currentBlockIndex])||(e[this.messagesCombiningWorker.currentBlockIndex]=[]),e[this.messagesCombiningWorker.currentBlockIndex].length){const s=e[this.messagesCombiningWorker.currentBlockIndex][e[this.messagesCombiningWorker.currentBlockIndex].length-1];s&&Math.abs(t.timestamp-s.timestamp)>this.messagesCombiningWorker.maxTimestampsDiff&&(++this.messagesCombiningWorker.currentBlockIndex,e[this.messagesCombiningWorker.currentBlockIndex]=[])}return e[this.messagesCombiningWorker.currentBlockIndex]&&(e[this.messagesCombiningWorker.currentBlockIndex].push(t),this.messagesCombiningWorker.lastUserId=t.user.userId),e}assignHeadersAndAvatars(e){const t=e.length-1;return e.map(((s,o)=>(0===t?(s.showAvatar=!0,s.showHeader=!0):0===o||o===t?(e[o].showAvatar=0===o?!this.messagesCombiningWorker.isInverted:this.messagesCombiningWorker.isInverted,e[o].showHeader=o===t?!this.messagesCombiningWorker.isInverted:this.messagesCombiningWorker.isInverted):(s.showAvatar=!1,s.showHeader=!1),s)))}static combineMessagesGroups(e,t){return e.concat(t)}combineMessages(e){return e.reduce(((e,t)=>this.separateMessagesOntoGroupsByAuthorAndTs(e,t)),[]).map((e=>this.assignHeadersAndAvatars(e))).reduce(Ne.combineMessagesGroups,[])}static postprocess(e){const t=new Ne({lastUserId:null,currentBlockIndex:0,maxTimestampsDiff:300,isInverted:1!==e.level});e.comments=t.combineMessages(e.comments),e.calculateCommentsSizes()}static filterReportedComments(e,t){return e.comments=e.comments.filter((e=>-1===t.indexOf(e.commentId))),e}static filterBlockedUsersComments(e,t){return e.comments=e.comments.filter((e=>-1===t.indexOf(e.user.accountId))),e}static filterMessages(e,t,s){let o=Ne.filterReportedComments(e,s);return Ne.filterBlockedUsersComments(o,t)}static countDiffMessagesFromBlockedUsers(e,t){return e.comments.length-e.comments.filter((e=>t.indexOf(e.user.accountId)>=0)).length}static prepareFetchMessagesRequest({messagesRequest:e,cursor:t,continueWithCursor:s,conversationId:o,threadID:r,direction:i,url:n},{dispatch:a}){if(s){if(!t&&null!==t)return void a(Ae.KP,{boardID:o,direction:i,conversationState:Le.xJ});N.default.track(r?Ue.R.BOARD_THREAD:Ue.R.BOARD_MESSAGE,t.prev?Ue.e.LOAD_PREV:Ue.e.LOAD_NEXT,void 0,void 0,{}),e.setParams(Object.assign({},t))}else e.setParams({url:n,commentId:r||void 0,level:r?2:1,type:r?"old":"new"})}static processFetchMessagesCursors({continueWithCursor:e,conversationId:t,direction:s,response:o},{dispatch:r}){if(e)r(Ae.KP,{boardID:t,direction:s,conversationState:o[s]?Le.DO:Le.xJ}),r(Ae.nW,{boardID:t,cursor:o[s],direction:s});else for(let e of["prev","next"])r(Ae.KP,{boardID:t,direction:e,conversationState:o[e]?Le.DO:Le.xJ}),r(Ae.nW,{boardID:t,cursor:o[e],direction:e})}static filterTemporaryComments(e,t){return t.filter((t=>!e.find((e=>t.commentId===`${e.commentId}_temp`))))}}class je{constructor(e,t,s,o,r,i,n,a,c,l,d,u,p){this.userId=e,this.avatarUrl=t,this.displayName=s,this.emojiStatus=o,this.country=r,this.profileUrl=i,this.timestamp=n,this.isActivePro=a,this.isActiveProPlus=c,this.isVerifiedAccount=l,this.accountId=d,this.activeTs=u,this.preferences=p}static fromJson(e){let t=null;return e.preferences&&(t=be.fromJson(e.preferences)),new je(e.userId,e.avatarUrl,e.displayName,e.emojiStatus,e.country,e.profileUrl,e.timestamp,e.isActivePro,e.isActiveProPlus,e.isVerifiedAccount,e.accountId,e.activeTs,t)}}var Re=s(2831);class Me extends Re.Z{constructor(){super(...arguments),this.type="image"}static fromJson(e){return new Me(e.width||0,e.height||0,e.url||"")}}class xe extends Me{constructor(e,t,s,o){super(e,t,s),this.webUrl=o,this.type="image"}static fromJson(e){return new xe(e.width||0,e.height||0,e.url||"",e.webUrl||"")}calculateRealSize(){const e=300;let t=0,s=0;return this.width>300?(t=300,s=300*this.height/this.width,s>e&&(t=e*t/s,s=e)):this.height>e?(s=e,t=e*this.width/this.height):(t=this.width,s=this.height),{width:t,height:s}}}class We{constructor(e){this.type=e,this.image=null,this.imageXLarge=null,this.animated=null,this.video=null}static fromJson(e){const t=new We(e.type||"");return e.image&&(t.image=xe.fromJson(e.image)),e.imageXLarge&&(t.imageXLarge=Me.fromJson(e.imageXLarge)),e.animated&&(t.animated=Me.fromJson(e.animated)),e.video&&(t.video=Me.fromJson(e.video)),t}static fromJsonArray(e){const t=[];for(let s of e)t.push(We.fromJson(s.imageMetaByType));return t}}var Ve=s(2129);const Be=12,Ge="info";class Fe extends Oe.g{constructor(e,t,s,o,r="text",i=1,n=null,a=null,c=null,l=null,d=null,u=Math.floor(Date.now()/1e3),p=0,h=0,m=0,g=0,f=0,y=null,O=!0,b=!0,_=!1,v=Be,S=!1,T=20,w=0,E=0,P=0){super(),this.commentId=e,this.text=t,this.mediaText=s,this.user=o,this.type=r,this.level=i,this.media=n,this.mentionMapping=a,this.parent=c,this.permalink=l,this.threadId=d,this.timestamp=u,this.isVoteMasked=p,this.likeCount=h,this.dislikeCount=m,this.isPinned=g,this.childrenTotal=f,this.childrenUrl=y,this.showHeader=O,this.showAvatar=b,this.showFooter=_,this.size=v,this.isTextHeightAdded=S,this.textHeight=T,this.isCollapsed=w,this.isDeleted=E,this.isSensitive=P}static fromJson(e){let t,s=null,o=null;const{showHeader:r=!0,showAvatar:i=!0,showFooter:n=!1,textHeight:a=1,size:c=Be,isTextHeightAdded:l=!1}=e;if(e.mentionMapping&&(s=new Map(Object.entries(e.mentionMapping))),e.media&&(o=Array.isArray(e.media)?e.media[0]&&e.media[0]instanceof We?e.media:We.fromJsonArray(e.media):We.fromJson(e.media)),!e.user)throw new Error("Cannot create ConversationItem without User's data");return t=e.user instanceof je?e.user:je.fromJson(e.user),new Fe(e.commentId,e.text,e.mediaText,t,e.type,e.level,o,s,e.parent,e.permalink,e.threadId,e.timestamp,e.isVoteMasked,e.likeCount,e.dislikeCount,e.isPinned,e.childrenTotal,e.childrenUrl,r,i,n,c,l,a,e.isCollapsed,e.isDeleted,e.isSensitive)}static infoMessage(e,t,s){return new Fe(e,t,t,s,Ge)}isInfoType(){return this.type===Ge}calculateSize(){if(this.isInfoType())return void(this.size=40);let e=Be;e+=this.showHeader?18:0,e+=this.showFooter?32:0,this.type===Ve.JA&&this.media&&Array.isArray(this.media)&&this.media.length>0&&this.media[0].image&&1!==this.isCollapsed&&1!==this.isDeleted&&(e+=this.isSensitive&&_o.getters["session/SHOW_SENSITIVE_MASK"](this.commentId)?182:this.media[0].image.calculateRealSize().height+3),this.childrenTotal>0&&(e+=24),this.isTextHeightAdded?this.size=e+this.textHeight:this.size=e}changeSizeOnFooterToggle(e){e?this.size+=32:this.size-=32}}function Ze(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var o=s.call(e,t);if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function $e(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function He(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$e(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ke={[Ae.M_](e,t){e.boardState=t},[Ae.w2](e){e.pollingStarted=!0},[Ae.Ww]:(e,{conversationID:t,hasUpdates:s})=>{e.pollingUpdates=He(He({},e.pollingUpdates),{},{[t]:s})},[Ae.SZ](e,{boardID:t,messages:s}){e.newMessages=He(He({},e.newMessages),{},{[t]:s})},[Ae.$I](e,t){e.newMessages[t]=null},[Ae.s2](e,t){e.focusedBoardID=t},[Ae.VH](e,t){e.focusedThreadID=t},[Ae.Sd]:(e,t)=>{e.focusedMessageID=t},[Ae.V6](e,t){e.featuredBoards=t},[Ae.vP](e,t){e.userBoards=t},[Ae.y5](e,t){e.userBoards.push(t)},[Ae.qh](e,t){const s=e.userBoards.indexOf(t);e.userBoards.splice(s,1)},[Ae.k5](e,{boardId:t,value:s}){e.boards[t]&&(e.boards[t].board.followed=s,e.boards[t].board.memberCount+=s?1:-1)},[Ae.Hf](e,{boardID:t,value:s}){e.boards[t]&&(e.boards[t].board.muted=s)},[Ae.aO](e,{boardID:t,board:s}){e.boards[t]&&(e.boards[t]=s)},[Ae.H4](e,t){e.boards=t},[Ae._i]:(e,{boardID:t,message:s,isParent:o=!1})=>{if(o)e.conversations[t].parent=s;else{const o=e.conversations[t].comments,r=o.findIndex((e=>e.commentId===s.commentId));o[r]=s,e.conversations[t].comments=[...o]}},[Ae.r0](e,t){e.focusedBoardViewMode=t},[Ae.dr](e,t){e.contextMenuViewMode=t},[Ae.rC](e,t){e.messageContextMenuOptions=t},[Ae.fI](e,{boardID:t,conversation:s}){e.conversations=He(He({},e.conversations),{},{[t]:s}),Ne.postprocess(s)},[Ae.KP](e,{boardID:t,direction:s,conversationState:o}){e.conversationsStates=He(He({},e.conversationsStates),{},{[t]:He(He({},e.conversationsStates[t]),{},{[s]:o})})},[Ae.nW](e,{boardID:t,direction:s,cursor:o}){e.conversationsCursors=He(He({},e.conversationsCursors),{},{[t]:He(He({},e.conversationsCursors[t]),{},{[s]:o})})},[Ae.aT](e,t){e.conversations[t]=void 0,e.newMessages[t]=void 0,e.conversationsCursors[t]=void 0,e.conversationsStates[t]=void 0},[Ae.zx](e,{boardID:t,timestamp:s}){e.dismissedPins=He(He({},e.dismissedPins),{},{[t]:s})},[Ae.E](e,t){const s=e.dismissedPins,{[t]:o}=s,r=(0,Ce.Z)(s,[t].map(Ze));e.dismissedPins=r},[Ae.XF]:(e,{threadId:t,followed:s})=>{e.followStatusMap=He(He({},e.followStatusMap),{},{[t]:s})},[Ae.j](e,t){e.messageForDelete=t},[Ae.ZX]:(e,t)=>{e.showNewMessage=t},[Ae.M3]:(e,t)=>{t.showFooter=!t.showFooter,t.changeSizeOnFooterToggle(t.showFooter)},[Ae.lL]:(e,{boardID:t,messageIndex:s,height:o})=>{const r=e.conversations[t].comments[s];r.textHeight=o,r.isTextHeightAdded=!0,r.calculateSize()},[Ae.tM]:(e,t)=>{e.replyMessage=t},[Ae.Su]:(e,t)=>{Ne.postprocess(e.conversations[t])},[Ae.QY]:(e,{boardID:t,messageID:s})=>{const o=ze(e,t,s);o&&(o.isDeleted=1)},[Ae.Cd]:(e,{boardID:t,messageID:s})=>{const o=ze(e,t,s);o&&(o.isCollapsed=0,o.isTextHeightAdded=!1,o.calculateSize())},[Ae.vL](e,{boardID:t,messageID:s}){const o=ze(e,t,s);o&&o.calculateSize()}};function ze(e,t,s){const o=e.conversations[t];return o?o.comments.find((e=>e.commentId===s)):void 0}class Ye extends ye.g{static setConfig(e){Ye.config=e}}var qe=function(e,t,s,o){return new(s||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}))};class Je extends ye.g{constructor(e,t="v1"){super(),this.boardId=e,this.version=t,this.url="/board-follow"}request(e){return qe(this,void 0,void 0,(function*(){return E()[e](this.getUrl({id:this.boardId})).catch(this.returnError)}))}follow(){return qe(this,void 0,void 0,(function*(){return this.request("post")}))}unfollow(){return qe(this,void 0,void 0,(function*(){return this.request("delete")}))}baseUrl(){return`/${this.version}`}}var Xe=s(7429);class Qe extends Xe.L{constructor(){super(...arguments),this.url="/group-boards",this.version=Se.pv,this.method="get",this.location=null}setLocation(e){return this.location=e,this}getUrl(e=null){return e={location:this.location},super.getUrl(e)}}var et=s(1394);class tt extends Xe.L{constructor(){super(...arguments),this.url="/user-boards",this.version=Se.pv}}var st=s(129),ot=s.n(st);class rt extends ye.g{baseUrl(){return`/${this.version}`}}class it extends rt{constructor(){super(...arguments),this.url="/board-notification",this.version=Se.pv,this.boardID=null,this.mute=null}setBoardID(e){return this.boardID=e,this}setMute(e){return this.mute=e,this}getData(){return ot().stringify({id:this.boardID,mute:this.mute})}fetch(){return e=this,t=void 0,o=function*(){return E().post(this.getUrl(),this.getData())},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}function nt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function at(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const ct={[Ae.qg]:async({dispatch:e,state:t,rootState:{config:{configs:{comment:s,board:{pollingTimeout:o}}},user:{user:{commentAuth:r}}}})=>{Ye.setConfig(s),await e("user/"+Ae.MC,{auth:r}),await e(Ae.r6),await e(Ae.Xq),await e(Ae.uR),null===t.focusedBoardID&&e(Ae.s2,Object.keys(t.boards)[0]),!t.pollingStarted&&o&&(e(Ae.w2,1e3*o),e(Ae.zg,1e3*o))},[Ae.vP]:async({commit:e},t)=>{e(Ae.vP,t)},[Ae.V6]:async({commit:e},t)=>{e(Ae.V6,t)},[Ae.Q3]:async({commit:e,state:t},s)=>{e(Ae.H4,at(at({},t.boards),{},{[s.id]:s}));let o=[...t.featuredBoards];o.includes(s.id)||o.unshift(s.id),e(Ae.V6,o)},[Ae.H4]:async({commit:e},t)=>{e(Ae.H4,t)},[Ae.Xq]:async({dispatch:e,rootGetters:t,state:s})=>{const o=t["user/IS_LOGGED_IN"];let r=new Map,i=[];try{o&&(r=await(new tt).fetch(),i=[...r.keys()])}catch(e){}if(r.size>0){let t=at({},s.boards);for(let e of r.keys())t[e]=r.get(e);e(Ae.H4,t)}return e(Ae.vP,i),r},[Ae.r6]:async({dispatch:e,state:t})=>{let s=new Map,o=[];try{const e=X.Z.getLocation();s=await(new Qe).setLocation(e).fetch(),o=[...s.keys()]}catch(e){}if(s.size>0){let o=at({},t.boards);for(let e of s.keys())o[e]=s.get(e);e(Ae.H4,o)}return e(Ae.V6,o),s},[Ae.U_]:async({commit:e,dispatch:t},s)=>{await new Je(s).follow(),e(Ae.k5,{boardId:s,value:!0}),t(Ae.ld,{boardID:s,message:"You've joined this board."}),e(Ae.y5,s)},[Ae.Au]:async({commit:e,dispatch:t},s)=>{await new Je(s).unfollow(),e(Ae.k5,{boardId:s,value:!1}),e(Ae.Hf,{boardID:s,value:!1}),e(Ae.qh,s),t(Ae.M7,{boardID:s})},[Ae.jK]:async({dispatch:e,commit:t},{boardID:s,mute:o=!0})=>{await(new it).setBoardID(s).setMute(o?1:0).fetch(),t(Ae.Hf,{boardID:s,value:o}),e(`toasts/${fe.Pd}`,{text:`Notification ${o?"muted":"unmuted"}.`,type:"info"},{root:!0})},[Ae.s2]:async({commit:e,dispatch:t,getters:s,state:o},r)=>{let i=s[Ae.aE](r);if(!i)try{const e=(new et.Z).setPostId(r);i=await e.fetch(),await t(Ae.Q3,i)}catch(e){}i&&(o.focusedBoardID&&t(Ae.M7,{boardID:o.focusedBoardID}),e(Ae.s2,r),e(Ae.VH,null),t(Ae.r0,Pe.tc),t(Ae.Di,r),t(Ae.CW,r))},[Ae.zx]:async({commit:e},t)=>{e(Ae.zx,{boardID:t,timestamp:Math.floor(Date.now()/1e3)})},[Ae.Di]:async({commit:e,getters:t,state:s},o)=>{const r=t[Ae.RL]({boardID:o,filter:!1});Object.keys(s.dismissedPins).includes(o)&&r.updateTs>s.dismissedPins[o]&&e(Ae.E,o)},[Ae.vL]({commit:e},{boardID:t,messageID:s}){e(Ae.vL,{boardID:t,messageID:s})}};class lt extends Oe.g{constructor(e,t,s,o,r,i,n,a,c,l){super(),this.url=e,this.status=t,this.lock=s,this.total=o,this.opUserId=r,this.comments=i,this.prev=n,this.next=a,this.parent=c,this.level=l}static fromJson(e){let t=[],s=null;return e.comments.length>0&&(t=e.comments.map((e=>e instanceof Fe?e:Fe.fromJson(e)))),e.parent&&(s=Fe.fromJson(e.parent)),new lt(e.url||"",e.status||0,e.lock||!1,e.total||0,e.opUserId||"",t||[],e.prev||null,e.next||null,s||null,e.level||"")}addItem(e,t=!0){t?this.comments.push(e):this.comments.unshift(e)}removeItemByID(e){let t=this.findMessageIndexById(e);t>=0&&this.comments.splice(t,1)}findMessageIndexById(e){return this.comments.findIndex((t=>t.commentId===e))}calculateCommentsSizes(){for(const e of this.comments)e.calculateSize()}}class dt extends Ye{constructor(){super(...arguments),this.cacheable=!1,this.auth=null,this.conversation=null,this.defaultQueryParams={appId:"",commentId:null,count:0,url:null},this.queryParams=null}baseUrl(){return`https://${this.cacheable?Ye.config.cdnHost:Ye.config.host}/${this.version}${this.cacheable?"/cacheable":""}`}}class ut extends dt{constructor(){super(),this.version="v2",this.cacheable=!0,this.url="/comment-list.json",this.defaultQueryParams={appId:"",count:10,type:"new",url:null,commentId:null,prev:null,next:null,level:null},this.defaultQueryParams.appId=dt.config.appId}setAuth(e){return this.auth=e,this.cacheable=!1,this}setParams(e){return this.queryParams=oe()(Object.assign(Object.assign({},this.defaultQueryParams),e),Object.keys(this.defaultQueryParams)),ye.g.clearRequestParamsFromEmptyKeys(this.queryParams),this}getConversation(){return this.conversation}fetch(){return e=this,t=void 0,o=function*(){let e;return e=this.cacheable?yield E().get(this.getUrl(Object.assign(Object.assign({},this.queryParams),{origin:window.location.origin}))):yield E().post(this.getUrl(),ot().stringify(Object.assign(Object.assign({},this.queryParams),{auth:this.auth}))),this.conversation=lt.fromJson(e.data.payload),this.conversation},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}function pt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function ht(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const mt={[Ae.fI]:async({dispatch:e,commit:t,getters:s,rootState:o},{boardID:r,conversation:i,direction:n="next"})=>{const a=s[Ae.$x](r),c=Ne.countDiffMessagesFromBlockedUsers(i,o.user.settings.blocklistIds);if(e(`user/settings/${H.iO}`,c,{root:!0}),i=Ne.filterMessages(i,o.user.settings.blocklistIds,o.boards.user.reportedCommentIDs),a){const e="next"===n?[...a.comments,...i.comments]:[...i.comments,...a.comments];i=lt.fromJson(ht(ht(ht({},a),i),{},{comments:e}))}t(Ae.fI,{boardID:r,conversation:i})},[Ae.KP]:({commit:e},t)=>{e(Ae.KP,t)},[Ae.nW]:({commit:e},{boardID:t,cursor:s,direction:o="next"})=>{if(s||null===s){if("object"!=typeof s){if("string"!=typeof s)return;try{s=ot().parse(s)}catch(e){return}}e(Ae.nW,{boardID:t,cursor:s,direction:o})}},[Ae.fh]:async(e,{boardID:t,threadID:s,direction:o="next",continueWithCursor:r=!1})=>{const{dispatch:i,rootState:{user:{user:n}},getters:a}=e,c=s||t,l=a[Ae.aE](t);if(!l)return void i(Ae.KP,{boardID:c,direction:o,conversationState:Le.xJ});const d=l.url,u=(new ut).setAuth(n.commentAuth),p=a[Ae.um]({conversationId:c,direction:o});Ne.prepareFetchMessagesRequest({messagesRequest:u,cursor:p,continueWithCursor:r,conversationId:c,threadID:s,direction:o,url:d},e);const h=await u.fetch();i(Ae.fI,{boardID:c,conversation:h,direction:o}),Ne.processFetchMessagesCursors({continueWithCursor:r,conversationId:c,direction:o,response:h},e)},[Ae.aT]:({commit:e},t)=>{e(Ae.aT,t)}},gt={[Ae.ld]:async({commit:e,getters:t,rootState:{user:{user:s}},dispatch:o},{boardID:r,message:i})=>{if(!t[Ae.aE](r))return;const n=Fe.infoMessage(r+"_join_"+s.userId,i,s);o(Ae.rr,{boardID:r,newMessage:n}),e(Ae.ZX,!0)},[Ae.M7]:async({getters:e,dispatch:t},{boardID:s})=>{const o=e[Ae.zV](s);o&&Array.isArray(o)&&o.map((e=>{t(Ae.dV,{boardID:s,messageID:e})}))}},ft="ADD__REPORTED_MESSAGE";var yt=s(4349);class Ot extends dt{constructor(){super(),this.url="/comment.json",this.version=Se.pv,this.auth=null,this.appId=null,this.commentId=null,this.postUrl=null,this.appId=Ye.config.appId}setAuth(e){return this.auth=e,this}setCommentId(e){return this.commentId=e,this}setPostUrl(e){return this.postUrl=e,this}fetch(){return e=this,t=void 0,o=function*(){yield E().post(this.getUrl(),this.getData())},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}getData(){const e={appId:this.appId,auth:this.auth,id:this.commentId,url:this.postUrl,_method:"DELETE"};return ot().stringify(e)}}class bt extends dt{constructor(){super(...arguments),this.url="/report.json",this.version=Se.pv,this.auth=null,this.commentId=null,this.postUrl=null,this.reportData={}}setAuth(e){return this.auth=e,this}setCommentId(e){return this.commentId=e,this}setPostUrl(e){return this.postUrl=e,this}setReportData(e){return this.reportData=e,this}fetch(){return e=this,t=void 0,o=function*(){yield E().post(this.getUrl(),this.getData())},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}getData(){const e={appId:Ye.config.appId,auth:this.auth,commentId:this.commentId,url:this.postUrl,userReportData:JSON.stringify(this.reportData)};return ot().stringify(e)}}class _t extends Oe.g{constructor(e){super(),this.count=e}static fromJson(e){return new _t(e.count)}}class vt extends Oe.g{constructor(e,t,s,o,r){super(),this.comment=e,this.opUserId=t,this.postId=s,this.quota=o,this.total=r}static fromJson(e){let t=null,s=null;return e.comment&&(t=Fe.fromJson(e.comment)),e.quota&&(s=_t.fromJson(e.quota)),new vt(t,e.opUserId,e.postId,s,e.total)}}var St=function(e,t,s,o){return new(s||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}))};class Tt extends dt{constructor(){super(),this.url="/add-comment.json",this.version=Se.t1,this.auth=null,this.appId=null,this.boardUrl=null,this.message=null,this.parentId=null,this.delegateUserId=null,this.replyThreadOnly=!1,this.attachments=[],this.appId=Ye.config.appId}setAuth(e){return this.auth=e,this}setMessage(e){return this.message=e,this}setConversationUrl(e){return this.boardUrl=e,this}setParentId(e){return this.parentId=e,this}setDelegateUserId(e){return this.delegateUserId=e,this}setMedia(e){return this.attachments.push(e.attachment),this}setReplyThreadOnly(e){return this.replyThreadOnly=e,this}getData(){const e={appId:this.appId,url:this.boardUrl,auth:this.auth,text:this.message,parent:this.parentId||void 0,attachments:this.attachments.map((({type:e,token:t})=>({type:e,token:t}))),replyThreadOnly:this.replyThreadOnly?1:void 0,delegateUserId:this.delegateUserId||void 0};return e.attachments.length?e:ot().stringify(e)}fetch(){return St(this,void 0,void 0,(function*(){const e=yield E().post(this.getUrl(),this.getData());return vt.fromJson(e.data.payload)}))}fetchLinkPreviews(){var e;return St(this,void 0,void 0,(function*(){const t=null===(e=this.message)||void 0===e?void 0:e.match(j.default.urlRegExp());if(t)for(let e of t){const t=yield E().post(`${this.baseUrl()}/link-attachment.json`,ot().stringify({appId:this.appId,auth:this.auth,url:e})),{attachment:s}=t.data.payload||{};s&&this.attachments.push(s)}}))}}var wt=s(6878),Et=s(7651).default;function Pt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function It(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Pt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const At={F:"female",M:"male",X:"everyone"},kt={[Ae.hT]:async({state:e,commit:t,dispatch:s,rootState:{user:{user:o}},getters:r,rootState:i,rootGetters:n},{boardID:a,threadID:c,message:l})=>{const d=r[Ae.aE](a);if(!d)return;const u=n[`attachments/${yt.ZI}`](a);if(!l.length&&!u.length)throw new Error("You should say something...");const p=d.url,h=(new Tt).setAuth(o.commentAuth).setConversationUrl(p).setMessage(l);for(const e of u)h.setMedia(e.uploadedMedia);c&&(h.setParentId(c),e.replyMessage&&h.setParentId(e.replyMessage.commentId));const{comment:m}=await h.fetch();if(s(Ae.rr,{boardID:c||a,newMessage:m,isInverted:!!c}),c){let o=r[Ae.mJ]({boardID:a,messageID:c});o&&(o=Fe.fromJson(o),o.childrenTotal++,o.calculateSize(),t(Ae._i,{boardID:a,message:o}));const n=i.user.settings.autoFollowThreadReply,l=e.conversations[c].parent.threadId;void 0===e.followStatusMap[l]&&await s(Ae.GB,l);const d=r[Ae.RA](l);n&&!d&&await s(Ae.W$,{threadId:l,followed:!0})}},[Ae.zX]:async({getters:e,dispatch:t,rootState:{user:{user:s},attachments:{uploadedFiles:o}},rootGetters:r},{boardID:i,threadID:n})=>{const a=e[Ae.aE](i);if(!a)return;let{location:c,gender:l,accountId:d}=s,{board:{message:u,reply:p,location:h}}=a,m=new wt.Z;if(u.cooldown>0){let t=e[Ae.rz]({boardID:i,isThread:!!n}),s=Math.floor(Et.getCurrentTime()-t.timestamp);t.type!==Ge&&t.user.accountId===d&&s<u.cooldown&&m.putError(new Error(`Youre sending message too quickly. You will be able to send message again in ${u.cooldown-s} seconds.`))}if("required"!==u.media||o[i]||n||m.putError(new Error("You must include an image when posting new message.")),h&&c.toLowerCase()!==h.toLowerCase()){await t("config/LOAD_APP_CONFIG",{},{root:!0});let e=r["config/GET_APP_CONFIG"]("profile.countries");m.putError(new Error(`This board only accepts new ${n?"reply":"message"} from members from ${e[h.toLowerCase()]}.`))}if(n||"everyone"===u.gender||At[l]===u.gender||m.putError(new Error(`This board only accepts new messages from ${u.gender} members.`)),n&&"everyone"!==p.gender&&At[l]!==p.gender&&m.putError(new Error(`This board only accepts new replies from ${p.gender} members.`)),!m.isEmpty())throw m},[Ae.rr]:({commit:e,getters:t},s)=>{const{boardID:o,newMessage:r,isInverted:i=!1}=s,n=t[Ae.$x](o);if(!n||!n.comments)return;const a=lt.fromJson(It({},n));return a.addItem(r,i),e(Ae.fI,{boardID:o,conversation:a})},[Ae.dV]:({commit:e,getters:t},s)=>{const{boardID:o,messageID:r}=s,i=t[Ae.$x](o);if(!i||!i.comments)return;const n=lt.fromJson(It({},i));return n.removeItemByID(r),e(Ae.fI,{boardID:o,conversation:n})},[Ae.h_]:async({commit:e,dispatch:t,getters:s,rootState:{user:{user:o}}},r)=>{const{boardID:i,messageID:n}=r,a=s[Ae.$x](i),c=a.url,l=new Ot;l.setAuth(o.commentAuth).setCommentId(n).setPostUrl(c),await l.fetch(),a.comments.find((e=>e.commentId===n)).childrenTotal?e(Ae.QY,{boardID:i,messageID:n}):t(Ae.dV,{boardID:i,messageID:n})},[Ae.at]:async({commit:e,dispatch:t,getters:s,rootState:{user:{user:o}}},r)=>{const{reportData:i,boardID:n,messageID:a}=r;t(Ae.dV,{boardID:n,messageID:a});const{url:c}=s[Ae.$x](n),l=new bt;l.setAuth(o.commentAuth).setCommentId(a).setPostUrl(c).setReportData(i),await l.fetch(),t("boards/user/ADD__REPORTED_MESSAGE",a,{root:!0})},[Ae.Cd]:({commit:e},t)=>e(Ae.Cd,t)};class Dt extends Oe.g{constructor(e){super(),this.followed=e}static fromJson(e){return new Dt("boolean"==typeof e.followed&&e.followed)}}class Ct extends ye.g{constructor(){super(...arguments),this.threadId=null}baseUrl(){return`/${this.version}`}}class Ut extends Ct{constructor(){super(...arguments),this.url="/follow-thread-status",this.version=Se.pv,this.threadId=null}setThreadId(e){return this.threadId=e,this}fetch(){return e=this,t=void 0,o=function*(){const e=yield E().post(this.getUrl(),this.getData());return Dt.fromJson(e.data.data)},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}getData(){const e={threadId:this.threadId};return ot().stringify(e)}}class Lt extends Ct{constructor(){super(...arguments),this.url="/follow-thread",this.version=Se.pv,this.threadId=null,this.followed=null}setThreadId(e){return this.threadId=e,this}setFollowed(e){return this.followed=e,this}fetch(){return e=this,t=void 0,o=function*(){yield E().post(this.getUrl(),this.getData())},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}getData(){return{threadId:this.threadId,follow:this.followed}}}class Nt extends dt{constructor(){super(...arguments),this.url="/like.json",this.version=Se.pv,this.auth=null,this.commentId=null,this.value=null}setAuth(e){return this.auth=e,this}setCommentId(e){return this.commentId=e,this}setValue(e){return this.value=e,this}fetch(){return e=this,t=void 0,o=function*(){const e={appId:Ye.config.appId,auth:this.auth,commentId:this.commentId,value:this.value};yield E().post(this.getUrl(e))},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}const jt={[Ae.y$]:({commit:e,getters:t,dispatch:s,rootState:{boards:o,user:{user:r}}},i)=>{const{boardID:n,messageID:a,isLike:c}=i,l=t[Ae.$x](n);if(!l||!l.comments)return;let d=t[Ae.mJ]({boardID:n,messageID:a});if(!d)return;d=Fe.fromJson(d);const u=t[Ae.T3]({conversationID:n,messageID:a}),p=o.user.likeMapping;let h=a in p?parseInt(p[a],10):0;if(c===h)return;switch(c){case-1:d.likeCount=1===h?d.likeCount-1:d.likeCount,d.dislikeCount++;break;case 0:d.likeCount=1===h?d.likeCount-1:d.likeCount,d.dislikeCount=-1===h?d.dislikeCount-1:d.dislikeCount;break;case 1:d.likeCount++,d.dislikeCount=-1===h?d.dislikeCount-1:d.dislikeCount}e(Ae._i,{boardID:n,message:d,isParent:u}),s(`user/${Ae.qv}`,{[a]:c});const m=new Nt;m.setAuth(r.commentAuth).setCommentId(a).setValue(c),m.fetch()},[Ae.j]({commit:e},t){const{boardID:s,messageID:o}=t;e(Ae.j,{boardID:s,messageID:o})},[Ae.GB]:async({commit:e,getters:t},s)=>{if(!s||void 0!==t[Ae.RA](s))return;const o=(new Ut).setThreadId(s),r=await o.fetch();e(Ae.XF,{threadId:s,followed:r.followed})},[Ae.W$]:async({commit:e},{threadId:t,followed:s})=>{const o=new Lt;o.setThreadId(t).setFollowed(s),await o.fetch(),e(Ae.XF,{threadId:t,followed:s})},[Ae.lL]:({commit:e,getters:t},{boardID:s,messageID:o,height:r})=>{let i=t[Ae.QV]({boardID:s,messageID:o});void 0!==i&&e(Ae.lL,{boardID:s,messageIndex:i,height:r})}};function Rt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Mt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Rt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const xt=Mt(Mt(Mt(Mt({},kt),jt),mt),gt);var Wt=s(3913);function Vt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Bt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Vt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Gt={[Ae.w2]:async({dispatch:e,commit:t,getters:s,state:o},r)=>{const i=async()=>{if(X.Z.isWindowInactive())setTimeout(i,r);else if(0!==s[Ae.IV].length){try{const r=await(new tt).fetch();for(let i of r.keys()){const n=s[Ae.aE](i),a=r.get(i);if(n&&a.comment.updateTs>n.comment.updateTs||o.pollingUpdates[i]){const r=s[`position/${Wt.Mw}`](i);i===o.focusedBoardID&&r&&r.isAtTheBottom&&o.boardState===Pe.Hi&&o.focusedBoardViewMode===Pe.tc?await e(Ae.Dy,i):e(Ae.Ww,{conversationID:i,hasUpdates:!0}),t(Ae.aO,{boardID:i,board:a})}}}catch(e){}setTimeout(i,r)}else setTimeout(i,r)};setTimeout(i,r),t(Ae.w2)},[Ae.zg]:async({dispatch:e,state:t,getters:s},o)=>{const r=async()=>{const i=t.focusedBoardID;if(X.Z.isWindowInactive())return void setTimeout(r,o);const n=s[`position/${Wt.Mw}`](i);if(n&&n.isAtTheBottom)if(-1===t.userBoards.indexOf(i)&&t.boardState!==Pe.Yn){try{await e(Ae.Dy,i)}catch(e){}setTimeout(r,o)}else setTimeout(r,o);else setTimeout(r,o)};setTimeout(r,o)},[Ae.Dy]:async({commit:e,dispatch:t,state:s,getters:o,rootState:{user:{user:r}}},i)=>{const n=o[Ae.$x](i);if(!n)return;const a={url:n.url,type:"old",count:100,level:n.level},c=n.comments[0].type===Ge?n.comments[1]?n.comments[1]:void 0:n.comments[0];c&&c.commentId&&(a.commentId=c.commentId);const l=(new ut).setAuth(r.commentAuth).setParams(a),d=await l.fetch(),u=[];for(const e of d.comments)e.timestamp<=c.timestamp||u.push(e);u.length&&await t(Ae.SZ,{boardID:i,messages:u.slice().reverse()})},[Ae.CW]:async({dispatch:e,state:t,getters:s},o)=>{if(t.pollingUpdates[o]){const t=s[Ae.$x](o),r=s[`position/${Wt.Mw}`](o);t?r&&r.isAtTheBottom&&(e(Ae.Ww,{conversationID:o,hasUpdates:!1}),e(Ae.Dy,o)):e(Ae.Ww,{conversationID:o,hasUpdates:!1})}},[Ae.Ww]:({commit:e,getters:t},s)=>{e(Ae.Ww,s)},[Ae.SZ]:async({commit:e},{boardID:t,messages:s})=>{e(Ae.SZ,{boardID:t,messages:s})},[Ae.xV]:async({commit:e,dispatch:t,state:s,getters:o},r)=>{const i=s.newMessages[r];if(!i||0===i.length)return;const n=o[Ae.$x](r),a=lt.fromJson(Bt(Bt({},n),{},{comments:i}));t(Ae.fI,{boardID:r,conversation:a,direction:"prev"}),e(Ae.$I,r),t(Ae.Ww,{conversationID:r,hasUpdates:!1})}};var Ft=s(1093);const Zt={[Ae.gJ]:async({dispatch:e},{boardID:t,url:s=null,type:o=Ft.default.COMMENT_REPLY})=>{await e(Ae.M_,Pe.Hi),await e(Ae.s2,t);const r=new URL(s);if(r.hash){const s=ot().parse(r.hash.substr(1));s.cs_comment_id&&(e(Ae.r0,Pe.eT),e(Ae.VH,s.cs_comment_id),e(Ae.Sd,s.cs_comment_id),o===Ft.default.COMMENT_UPVOTE&&e(Ae.M3,{boardID:t,messageID:s.cs_comment_id}))}},[Ae.uR]:async({dispatch:e,rootState:{route:t}})=>{if(t.query.board&&(await e(Ae.M_,Pe.Hi),await e(Ae.s2,t.query.board),t.hash)){const s=ot().parse(t.hash.substr(1));e(Ae.r0,Pe.eT),e(Ae.VH,s.cs_comment_id),e(Ae.Sd,s.cs_comment_id)}},[Ae.M_]:async({state:e,commit:t,dispatch:s},o)=>{t(Ae.M_,o),o===Pe.Hi&&s(Ae.s2,e.focusedBoardID)},[Ae.VH]:async({commit:e},t)=>{e(Ae.VH,t),null===t&&e(Ae.tM,null)},[Ae.Sd]:({commit:e},t)=>{e(Ae.Sd,t),setTimeout((()=>{e(Ae.Sd,null)}),5e3)},[Ae.r0]:async({commit:e,dispatch:t,state:s},o)=>{if(-1===[Pe.tc,Pe.eT,Pe.$$,Pe.sE].indexOf(o))throw new Error("Cannot set unknown viewMode to the Board View");e(Ae.r0,o),o===Pe.tc&&await t(Ae.CW,s.focusedBoardID)},[Ae.dr]:async({commit:e},t)=>{if(-1===[Pe.Hi,Pe.Yn].indexOf(t))throw new Error("Cannot set unknown viewMode to the Board's Context Menu");e(Ae.dr,t)},[Ae.iI]:async({dispatch:e,state:t})=>t.contextMenuViewMode===Pe.Hi?await e(Ae.dr,Pe.Yn):await e(Ae.dr,Pe.Hi),[Ae.aJ]:({commit:e})=>{e(Ae.rC,{viewMode:Pe.Yn,boardId:null,messageId:null,messagePositionTop:null})},[Ae.p$]:({commit:e},t)=>{const{boardId:s,messageId:o}=t;e(Ae.rC,{viewMode:Pe.Hi,boardId:s,messageId:o})},[Ae.$b]:({dispatch:e,state:t},s)=>{const{boardId:o,messageId:r}=s;return t.messageContextMenuOptions.viewMode===Pe.Hi?e(Ae.aJ):e(Ae.p$,{boardId:o,messageId:r})},[Ae.M3]:({commit:e,getters:t},{boardID:s,messageID:o})=>{const r=t[Ae.mJ]({boardID:s,messageID:o});void 0!==r&&e(Ae.M3,r)},[Ae.ZX]:async({commit:e},t)=>{e(Ae.ZX,t)},[Ae.tM]:async({commit:e,getters:t,dispatch:s},{boardID:o,messageID:r})=>{1===t[Ae.$x](o).level&&(s(Ae.r0,Pe.eT),s(Ae.VH,r));const i=t[Ae.mJ]({boardID:o,messageID:r});e(Ae.tM,i)}};function $t(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Ht(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$t(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Kt=Ht(Ht(Ht(Ht({},ct),Gt),Zt),xt),zt={[Ae.pD]:e=>null!==e.info&&null!==e.info.userId,[Ae.oZ]:e=>null!==e.info?e.info.userId:null,[Ae.bu]:e=>null!==e.info&&e.info.moderate},Yt={[Ae.WN](e,t){e.auth=t},[Ae.C](e,t={}){e.info=t.info||null,e.likeMapping=t.likeMapping||{}},[Ae.c4](e,t){e.likeMapping=t},[ft](e,t){e.reportedCommentIDs=[...e.reportedCommentIDs,t]}};class qt{constructor(e,t,s,o){this.accentColor=e,this.backgroundColor=t,this.hideActiveTs=s,this.hideProBadge=o}static fromJson(e){return new qt(e.accentColor||null,e.backgroundColor||null,"number"==typeof e.hideActiveTs?e.hideActiveTs:null,"number"==typeof e.hideProBadge?e.hideProBadge:null)}}class Jt{constructor(e,t,s,o,r,i,n,a){this.userId=e,this.displayName=t,this.emojiStatus=s,this.avatarUrl=o,this.role=r,this.profileUrl=i,this.moderate=n,this.preferences=a}static fromJson(e){return new Jt(e.userId||null,e.displayName||null,e.emojiStatus||null,e.avatarUrl||null,e.role||null,e.profileUrl||null,!!e.moderate,e.preferences?qt.fromJson(e.preferences):null)}}class Xt extends Oe.g{constructor(e,t){super(),this.info=e,this.likeMapping=t}static fromJson(e){return new Xt(e.user?Jt.fromJson(e.user):null,e.likeMapping?e.likeMapping:{})}}class Qt extends dt{constructor(){super(...arguments),this.url="/user.json",this.version=Se.pv,this.auth=null}setAuth(e){return this.auth=e,this}fetch(){return e=this,t=void 0,o=function*(){const e={appId:Ye.config.appId,auth:this.auth},t=yield E().post(this.getUrl(e)),s="object"==typeof t.data.payload?t.data.payload:{};return Xt.fromJson(s)},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}function es(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function ts(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?es(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):es(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function ss(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function os(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ss(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const rs={namespaced:!0,state:()=>({boardState:Pe.Ev,focusedBoardID:null,focusedThreadID:null,focusedMessageID:null,focusedBoardViewMode:Pe.Ev,contextMenuViewMode:Pe.Yn,userBoards:[],featuredBoards:[],boards:{},dismissedPins:{},conversations:{},newMessages:{},conversationsCursors:{},conversationsStates:{},showNewMessage:!1,pollingStarted:!1,pollingUpdates:{},messageContextMenuOptions:{viewMode:Pe.Yn,boardId:null,messageId:null},replyMessage:null,followStatusMap:{},messageForDelete:{boardID:null,messageID:null}}),getters:De,mutations:Ke,actions:Kt,modules:{user:{namespaced:!0,state:()=>({auth:null,info:null,likeMapping:{},reportedCommentIDs:[]}),getters:zt,mutations:Yt,actions:{[Ae.MC]:async({commit:e,state:t},s)=>{const{auth:o}=s;if(o&&t.auth===o||e(Ae.C),e(Ae.WN,o),!o||null!==t.info)return Promise.resolve();const r=(new Qt).setAuth(o),i=await r.fetch();e(Ae.C,i)},[Ae.qv]:({commit:e,state:t},s)=>{const o=ts(ts({},t.likeMapping),s);e(Ae.c4,o)},[ft]:({commit:e},t)=>{e(ft,t)}}},position:{namespaced:!0,state:()=>({messagesListsPosition:{},messageContextMenuPosition:null}),getters:{[Wt.Mw]:e=>t=>e.messagesListsPosition[t]||void 0},mutations:{[Wt.vT](e,{listID:t,scrollTop:s,scrollHeight:o,scrollBottom:r,offsetTop:i,offsetHeight:n,isAtTheBottom:a}){e.messagesListsPosition=os(os({},e.messagesListsPosition),{},{[t]:{scrollTop:s,scrollHeight:o,scrollBottom:r,offsetTop:i,offsetHeight:n,isAtTheBottom:a}})},[Wt.v6](e,t){e.messageContextMenuPosition=t}},actions:{[Wt.vT]:({state:e,commit:t,dispatch:s},{listID:o,scrollTop:r,scrollHeight:i,offsetTop:n,offsetHeight:a,isAtTheBottom:c})=>{if(e.messagesListsPosition[o]){const t=class{static calculatePositionDifference(e,t){const s={scrollTop:null,scrollHeight:null,offsetTop:null,offsetHeight:null,isAtTheBottom:null};return e.scrollTop&&t.scrollTop&&e.scrollTop!==t.scrollTop&&(s.scrollTop=e.scrollTop-t.scrollTop),e.scrollHeight&&t.scrollHeight&&e.scrollHeight!==t.scrollHeight&&(s.scrollHeight=e.scrollHeight-t.scrollHeight),e.offsetTop&&t.offsetTop&&e.offsetTop!==t.offsetTop&&(s.offsetTop=e.offsetTop-t.offsetTop),e.offsetHeight&&t.offsetHeight&&e.offsetHeight!==t.offsetHeight&&(s.offsetHeight=e.offsetHeight-t.offsetHeight),e.isAtTheBottom!==t.isAtTheBottom&&(s.isAtTheBottom=t.isAtTheBottom),s}}.calculatePositionDifference(e.messagesListsPosition[o],{scrollTop:r,scrollHeight:i,offsetTop:n,offsetHeight:a,isAtTheBottom:c});s(Wt.jE,t)}t(Wt.vT,{listID:o,scrollTop:r,scrollHeight:i,scrollBottom:i-r,offsetTop:n,offsetHeight:a,isAtTheBottom:c})},[Wt.jE]:async({dispatch:e,rootState:t},s)=>{t.boards.messageContextMenuOptions.viewMode!==Pe.Yn&&e(Wt.wc,s.scrollTop)},[Wt.wc]:async({state:e,dispatch:t},s)=>{t(Wt.v6,e.messageContextMenuPosition+s)},[Wt.v6]:({commit:e},t)=>{e(Wt.v6,t)}}}}};var is=s(4278),ns=s.n(is);const as=[m({key:"boardsUserState",paths:["boards.user.auth","boards.user.info","boards.user.likeMapping","boards.user.reportedCommentIDs"]},600)],cs=ns()({predicate:[`boards/${Ae.M_}`,`boards/${Ae.zx}`,`boards/${Ae.E}`,`boards/${Ae.H4}`,`boards/${Ae.V6}`,`boards/${Ae.vP}`,`boards/${Ae.s2}`]}),ls=[m({key:"boardsState",paths:["boards.boardState","boards.focusedBoardID","boards.focusedThreadID","boards.focusedBoardViewMode","boards.dismissedPins","boards.pollingUpdates"]}),cs,...as],ds={[yt.ZI]:e=>t=>e.uploadedFiles[t]||[],[yt.rn]:e=>t=>e.processingFilesID[t]},us={[yt.f9](e,{file:t,itemID:s}){e.uploadedFiles[s]=[...e.uploadedFiles[s]||[],t]},[yt.q8](e,{media:t,itemID:s,fileID:o}){if(!e.uploadedFiles[s])return;const r=e.uploadedFiles[s].find((e=>e.id===o));r&&(r.uploadedMedia=t,r.uploaded=!0)},[yt.ZO](e,{itemID:t,fileID:s}){e.uploadedFiles[t]=s?e.uploadedFiles[t].filter((e=>e.id!==s)):[]},[yt.$H]:(e,t)=>{e.processingFilesID[t]=!0},[yt.MW]:(e,t)=>{e.processingFilesID[t]=!1}};var ps=s(1390);class hs extends Oe.g{constructor(e){super(),this.attachment=e,this.image=null}static fromJson(e){const t=new hs(e.attachment);return e.attachment.data.image&&(t.image=ps.Z.fromJson(e.attachment.data.image)),t}}class ms extends ye.g{constructor(){super(),this.auth=null,this.appId="",this.appId=Ye.config.appId}baseUrl(){return`https://${Ye.config.host}/${this.version}`}}class gs extends ms{constructor(){super(...arguments),this.version=Se.pv,this.url="/media.json",this.auth=null,this.blob=null}setBlob(e){return this.blob=e,this}setAuth(e){return this.auth=e,this}fetch(){return e=this,t=void 0,o=function*(){const e=new FormData;e.append("appId",this.appId),e.append("blob",this.blob||""),e.append("auth",this.auth||"");const t=yield E().post(this.getUrl(),e,gs.getHeaders()).catch(this.returnError);return hs.fromJson(t.data.payload)},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}static getHeaders(){return{headers:{"content-type":"multipart/form-data"}}}}var fs=s(1496);class ys extends class{constructor(e){this.id=null,this.content=null,this.uploadedMedia=null,this.uploaded=!1,this.id=(0,fs.x0)(),this.content=e}}{constructor(e=null){super(e),this.type="file"}}const Os={namespaced:!0,state:()=>({uploadedFiles:{},processingFilesID:{},errors:{}}),getters:ds,mutations:us,actions:{[yt.f9]:async({commit:e,dispatch:t,rootState:{user:{user:s}},rootGetters:o},{file:r,itemID:i})=>{const n=new ys(r),a=n.id;"9gag"===o["config/APP_NAME"]&&e(yt.ZO,{itemID:i}),e(yt.f9,{file:n,itemID:i});try{const t=await(new gs).setAuth(s.commentAuth).setBlob(r).fetch();e(yt.q8,{media:t||null,itemID:i,fileID:a})}catch(s){e(yt.ZO,{itemID:i,fileID:a}),s&&s.response?t(`toasts/${fe.Pd}`,{text:s.response.data.error,type:pe.default.WARN},{root:!0}):t(`toasts/${fe.Pd}`,{text:s.message,type:pe.default.WARN},{root:!0})}},[yt.ZO]:async({commit:e},t)=>{e(yt.ZO,t)},[yt.$H]:({commit:e},t)=>{e(yt.$H,t)},[yt.MW]:({commit:e},t)=>{e(yt.MW,t)}}};var bs=s(3534);const _s={namespaced:!0,state:()=>({modalState:Pe.Yn,modalComponent:""}),getters:{[bs.iS]:e=>e.modalState===Pe.Hi},mutations:{[bs.t5](e,t){e.modalComponent=t},[bs.jQ](e,t){e.modalState=t}},actions:{[bs.t5]:async({commit:e},t)=>{e(bs.t5,t)},[bs.jQ]:async({commit:e},t)=>{if(-1===[Pe.Yn,Pe.Hi].indexOf(t))throw new Error("Cannot set the unknown modal's view mode.");e(bs.jQ,t)},[bs.Wb]:({dispatch:e},{state:t,modalComponent:s})=>{e(bs.t5,s),e(bs.jQ,t)},[bs.et]:async({dispatch:e})=>{await e(bs.jQ,Pe.Yn),await e(bs.t5,void 0)}}},vs={[fe.Re]:e=>e.messages},Ss={[fe.Pd](e,t){e.messages.push(t)},[fe.IR](e){e.maxToastId=++e.maxToastId},[fe.TZ](e,t){e.messages=e.messages.filter((e=>e.id!==t))}};var Ts=s(1467);class ws extends Oe.g{constructor(e,t=null,s=null,o=0,r=null,i="info",n=Ts.e){super(),this.text=e,this.link=t,this.linkTitle=s,this.id=o,this.toastAction=r,this.type=i,this.dismissAfter=n}static fromObject(e){return new ws(e.text,e.link,e.linkTitle,e.id,e.toastAction,e.type,e.dismissAfter)}}const Es={namespaced:!0,state:()=>({messages:[],maxToastId:0}),getters:vs,mutations:Ss,actions:{[fe.Pd]:({commit:e,state:t},s)=>{e(fe.IR),s.id=t.maxToastId;let o=ws.fromObject(s);e(fe.Pd,o)},[fe.TZ]:({commit:e},t)=>{e(fe.TZ,t)}}},Ps="INIT_STATUS_COMPLETED",Is={cdnHost:null,host:null,enableTracking:!1,comments:{},commentsByPostID:{},threads:{},initStatus:"INIT_STATUS_NONE",firstLoadingFlags:{},viewMode:Pe.FM,type:Ve.Tw,postKey:null,url:null,threadKey:null,ttl:{[Ve.Tw]:3e5,[Ve.G_]:6e4},commentComposerSwitch:!1,isCommentSending:!1,replyBoxCommentId:null,replyMentionUser:null,replyThreadOnly:!1,replyThreadId:null,showExtraMenu:!1,extraMenuId:null,adminActions:{},restoreCommentInfo:null,shouldScrollToEnd:!1,commentTextHeight:{},followStatusMap:{},collapseToast:!1};var As=s(9970);const ks={canInfiniteScroll:(e,t,s,o)=>!!t.viewAll||o["commentSystem/user/isLoggedIn"],canLoadMore:(e,t)=>t.getNextCursor&&!t.isNextLoading,canScrollMore:(e,t)=>t.canLoadMore&&t.canInfiniteScroll,canShowLoading:(e,t)=>!t.isInited||t.isFirstLoading||t.isNextLoading,canLoadPrevious:(e,t)=>t.isInited&&t.getPrevCursor&&!t.isPrevLoading,isLocked:(e,t,s,o)=>!o["commentSystem/user/canModerate"]&&t.getLock,isInited:e=>Ps===e.initStatus,isFirstLoading:e=>{let t="";switch(e.viewMode){case Pe.FM:if(t=Pe.FM+":"+e.postKey+":"+e.type,t in e.firstLoadingFlags)return e.firstLoadingFlags[t];break;case Pe.eT:case Pe.Ox:if(t=Pe.eT+":"+e.threadKey,t in e.firstLoadingFlags)return e.firstLoadingFlags[t]}return!1},isNextLoading:(e,t)=>{const s=t.getList;return!!s.isNextLoading&&s.isNextLoading},isPrevLoading:(e,t)=>{const s=t.getList;return!!s.isPrevLoading&&s.isPrevLoading},getType:e=>e.type,getViewMode:e=>e.viewMode,isListView:e=>e.viewMode===Pe.FM,getPostId:e=>e.postKey,getCommentTextHeight:e=>(t,s)=>t in e.commentTextHeight&&s in e.commentTextHeight[t]?e.commentTextHeight[t][s]:null,getListKey:e=>e.postKey+":"+e.type,getList:(e,t)=>{switch(e.viewMode){case Pe.FM:const s=t.getListKey;return e.commentsByPostID[s]||{};case Pe.eT:case Pe.Ox:return e.threads[e.threadKey]||{};default:return{}}},getCommentsByType:(e,t)=>{let s=[];const o=t.getListKey;if(o in e.commentsByPostID){let t=e.commentsByPostID[o];for(let o of t.commentIds)o in e.comments&&s.push(e.comments[o])}return s},getCommentsByThread:e=>{let t=[];if(e.threads[e.threadKey]){let s=e.threads[e.threadKey];for(let o of s.commentIds)o in e.comments&&t.push(e.comments[o])}return t},getComments:(e,t)=>e.viewMode===Pe.FM?t.getCommentsByType:t.getCommentsByThread,getCommentsCountByType:(e,t)=>{const s=t.getListKey;return s in e.commentsByPostID?e.commentsByPostID[s].commentIds.length:0},getCommentsCountByThread:e=>e.threadKey in e.threads?e.threads[e.threadKey].commentIds.length+1:0,getCommentsCount:(e,t)=>Pe.FM===e.viewMode?t.getCommentsCountByType:t.getCommentsCountByThread,getParentComment:(e,t)=>{const s=t.getList.parentCommentId||"";return s in e.comments?e.comments[s]:null},getPrevCursor:(e,t)=>{const s=t.getList;return s.prevCursor?s.prevCursor:null},getNextCursor:(e,t)=>{const s=t.getList;return s.nextCursor?s.nextCursor:null},getOpUserId:(e,t)=>{const s=t.getList;return s.opUserId?s.opUserId:""},getStatus:(e,t)=>{const s=t.getList;return s.status?parseInt(s.status):0},getLock:(e,t)=>{const s=t.getList;return!!s.lock&&s.lock},viewAll:(e,t)=>{const s=t.getList;return!!s.viewAll&&s.viewAll},totalCount:(e,t)=>{const s=t.getList;return s.total?s.total:0},autoLoadCount:(e,t)=>{const s=t.getList;return s.autoLoadCount?s.autoLoadCount:0},getHighlightCommentId:(e,t)=>{const s=t.getList,{sortLatest:o=!1,commentIds:r=[]}=s;return o&&r.length>0?r[r.length-1]:e.viewMode===Pe.Ox?e.threadKey:""},getCommentById:e=>t=>e.comments[t]||{},getAdminActions:e=>t=>e.adminActions[t]||As.RP,getCommentImageInfo:(e,t)=>(s,o)=>{const r=t.getCommentById(s);let i="",n=null,a="",c=!1,l=!1;if(r.type===Ve.JA&&r.media.length>0){const t=r.media[0];let s=!1,d=!1;t.type===Ve.qJ&&t.video?(i=t.video.url,s=t.video.width,d=t.video.height,l=!0):t.type===Ve.Ct&&t.image&&(i=t.image.url,n=t.image.webpUrl,s=t.image.width,d=t.image.height);const u=location.hostname;if(a=`https://${e.cdnHost}/image?ref=${u}#${i}`,!1!==s&&!1!==d){const e=o-81,t=s>e?Math.floor(d/s*e):d;c=Math.min(As.m8,t)}}return{imageUrl:i,imageHref:a,imageHeight:c,webpUrl:n,isVideo:l}},getFollowStatus:e=>t=>e.followStatusMap[t],ifCommentHaveReplies:(e,t)=>e=>t.getCommentById(e).childrenTotal>0};var Ds=s(3510);function Cs(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Us(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Cs(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ls={[Ds.K8](e,t){e.ttl=t},[Ds.x0](e,t){const{postKey:s,type:o}=t,r=s+":"+o;U(e.commentsByPostID,r)},[Ds.hZ](e,t){e.cdnHost=t.cdnHost,e.host=t.host,e.enableTracking=t.enableTracking,e.url=t.url,e.postKey=t.postKey},[Ds.jt](e,t){e.type=t},[Ds._L](e,t){e.viewMode=t},[Ds.Fb](e,t){e.threadKey=t},[Ds.h_](e){if(Pe.FM===e.viewMode){const t=e.postKey+":"+e.type;t in e.commentsByPostID&&("autoLoadCount"in e.commentsByPostID[t]?e.commentsByPostID[t].autoLoadCount++:e.commentsByPostID[t].autoLoadCount=0)}else e.threadKey in e.threads&&("autoLoadCount"in e.threads[e.threadKey]?e.threads[e.threadKey].autoLoadCount++:e.threads[e.threadKey].autoLoadCount=0)},[Ds.fA](e,{key:t,viewMode:s,lock:o}){switch(s){case Pe.FM:e.commentsByPostID[t].lock=o;break;case Pe.eT:case Pe.Ox:e.threads[e.threadKey].lock=o}},[Ds.d0](e,{key:t,viewMode:s,status:o}){switch(s){case Pe.FM:e.commentsByPostID[t].status=o;break;case Pe.eT:case Pe.Ox:e.threads[e.threadKey].status=o}},[Ds.L5](e,{key:t,viewMode:s,total:o}){switch(s){case Pe.FM:e.commentsByPostID[t].total=o;break;case Pe.eT:case Pe.Ox:e.threads[e.threadKey].total=o}},[Ds.wl](e,{key:t,viewMode:s,viewAll:o}){switch(s){case Pe.FM:e.commentsByPostID[t].viewAll=o;break;case Pe.eT:case Pe.Ox:e.threads[e.threadKey].viewAll=o}},[Ds.Ew](e,t){e.initStatus=t},[Ds.yb](e,t){let s="";switch(t.viewMode){case Pe.FM:s=Pe.FM+":"+t.postKey+":"+t.type,e.firstLoadingFlags[s]=!!t.value;break;case Pe.eT:case Pe.Ox:s=Pe.eT+":"+t.threadKey,e.firstLoadingFlags[s]=!!t.value}e.firstLoadingFlags=Us({},e.firstLoadingFlags)},[Ds.yT](e,t){switch(t.viewMode){case Pe.FM:const s=t.postKey+":"+t.type;s in e.commentsByPostID&&(e.commentsByPostID[s].isNextLoading=!!t.value,e.commentsByPostID=Us({},e.commentsByPostID));break;case Pe.eT:case Pe.Ox:t.threadKey in e.threads&&(e.threads[t.threadKey].isNextLoading=!!t.value,e.threads=Us({},e.threads))}},[Ds.zq](e,t){switch(t.viewMode){case Pe.Ox:t.threadKey in e.threads&&(e.threads[t.threadKey].isPrevLoading=!!t.value,e.threads=Us({},e.threads))}},[Ds.uP](e,t){e.comments=t},[Ds.pc](e,t){e.comments=Us(Us({},e.comments),t)},[Ds.JV](e,t){let s=Us({},e.commentsByPostID);for(let e in t){let o=t[e];if(!(e in s)){s[e]=o;continue}let r=s[e];o.commentIds.forEach((e=>{-1===r.commentIds.indexOf(e)&&r.commentIds.push(e)})),r.opUserId=o.opUserId,r.status=o.status,r.lock=o.lock,r.timestamp=o.timestamp,r.nextCursor=o.nextCursor}e.commentsByPostID=s},[Ds.yM](e,t){let{loadType:s,commentsBySign:o}=t,r=Us({},e.threads);for(let e in o){let t=o[e];if(!(e in r)){t.sortLatest="LOAD_LAST"===s,r[e]=t;continue}let i=r[e],n=i.sortLatest;n||"LOAD_PREV"!==s||t.commentIds.reverse();for(let e in t.commentIds){let o=t.commentIds[e];-1===i.commentIds.indexOf(o)&&("LOAD_PREV"===s?i.commentIds.unshift(o):i.commentIds.push(o))}i.opUserId=t.opUserId,i.status=t.status,i.lock=t.lock,i.timestamp=t.timestamp,"LOAD_PREV"===s?i.prevCursor=n?t.nextCursor:t.prevCursor:i.nextCursor=t.nextCursor}e.threads=r},[Ds.Do](e,t){e.isCommentSending=t},[Ds.tV](e,t){e.comments=Us({[t.comment.commentId]:t.comment},e.comments);let s=`${t.postKey}:${e.type}`;e.commentsByPostID[s]&&e.commentsByPostID[s].commentIds.unshift(t.comment.commentId)},[Ds.Bc](e,t){e.replyBoxCommentId=t.commentId,e.replyMentionUser=Us({},t.mentionUser),e.replyThreadOnly=t.replyThreadOnly,e.replyThreadId=t.replyThreadId},[Ds.LC](e){e.replyBoxCommentId=null,e.replyMentionUser=null,e.replyThreadOnly=!1,e.replyThreadId=null},[Ds.Ox](e,t){if(!(t.commentId in e.comments))return;const s=e.comments[t.commentId];s.likeCount=Math.max(0,s.likeCount+t.likeDelta),s.dislikeCount=Math.max(0,s.dislikeCount+t.dislikeDelta)},[Ds.Di](e,t){const{viewMode:s,commentId:o,postKey:r="",threadKey:i=""}=t;if(!(o in e.comments))return;const n=()=>{const t=[r+":"+Ve.Tw,r+":"+Ve.G_];for(let s of t)if(s in e.commentsByPostID){let t=e.commentsByPostID[s].commentIds.findIndex((e=>e===o));t>-1&&e.commentsByPostID[s].commentIds.splice(t,1)}};switch(s){case Pe.FM:n(),o in e.threads&&U(e.threads,o);break;case Pe.eT:case Pe.Ox:const t=e.threads[i];if(!t)return;if(t.parentCommentId===o)n(),t.parentCommentId="";else{let s=t.commentIds.findIndex((e=>e===o));if(s>-1&&t.commentIds.splice(s,1),t.parentCommentId in e.comments){let s=e.comments[t.parentCommentId];s.childrenTotal--,s.childrenTotal<0&&(s.childrenTotal=0)}}}U(e.comments,o)},[Ds.Gm](e,{threadId:t,followed:s}){C(e.followStatusMap,t,s)},[Ds.ov](e,t){e.commentComposerSwitch=t,document.body.classList[t?"add":"remove"]("lock")},[Ds.eh](e,t){U(e.threads,t)},[Ds.WX](e,t){e.comments[t]&&(e.comments[t].childrenTotal++,e.comments=Us({},e.comments))},[Ds.yN](e,t){e.restoreCommentInfo=t},[Ds.Y](e,t=!1){e.shouldScrollToEnd=t},[Ds.HW](e,t=!1){e.showExtraMenu=t},[Ds.Su](e,t){e.extraMenuId=t},[Ds.G](e,t){const{commentId:s,adminActions:o}=t;C(e.adminActions,s,o)},[Ds.qR](e,{commentId:t,screenWidth:s,height:o}){let r=t in e.commentTextHeight?Us({},e.commentTextHeight[t]):{};r[s]=o,C(e.commentTextHeight,t,r)},[Ds.hM](e,t){e.comments[t].isDeleted=1},[Ds._$](e,t){e.comments[t].isCollapsed=0,e.collapseToast=!0}},Ns=class{static rehydrateComments(e){const{data:t,options:s}=e,o={},r={},i=Pe.FM===s.viewMode?s.key+":"+s.type:s.key,n=t.comments||[];r[i]={commentIds:[],timestamp:(new Date).getTime(),viewAll:!1,autoLoadCount:0,nextCursor:t.next,opUserId:t.opUserId,status:t.status,lock:t.lock,total:t.total,isNextLoading:!1},Pe.FM!==s.viewMode&&(r[i].parentCommentId=t.parent.commentId,r[i].prevCursor=t.prev,r[i].isPrevLoading=!1,o[t.parent.commentId]=t.parent);for(let e of n)o[e.commentId]=e,r[i].commentIds.push(e.commentId);return{comments:o,commentsBySign:r}}};class js extends dt{constructor(){super(...arguments),this.url="/op/hide",this.version=Se.pv,this.auth=null,this.commentId=null,this.postUrl=null}setAuth(e){return this.auth=e,this}setCommentId(e){return this.commentId=e,this}setPostUrl(e){return this.postUrl=e,this}getData(){const e={appId:Ye.config.appId,auth:this.auth,commentId:this.commentId,url:this.postUrl};return ot().stringify(e)}fetch(){return e=this,t=void 0,o=function*(){return(yield E().post(this.getUrl(),this.getData())).data.payload},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}class Rs extends dt{constructor(){super(),this.appId="",this.auth="",this.appId=dt.config.appId}baseUrl(){return`${super.baseUrl()}/admin`}setAuth(e){return this.auth=e,this}}class Ms extends Rs{constructor(){super(...arguments),this.url="/update",this.version=Se.pv,this.entityUrl=null,this.lock=null,this.status=null}setEntityURL(e){return this.entityUrl=e,this}setLock(e){return this.lock=e,this}setStatus(e){return this.status=e,this}getData(){return ot().stringify(ye.g.clearRequestParamsFromEmptyKeys({appId:this.appId,auth:this.auth,url:this.entityUrl,lock:this.lock,status:this.status}))}fetch(){return e=this,t=void 0,o=function*(){return(yield E().post(this.getUrl(),this.getData())).data.payload},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}class xs extends Rs{constructor(e=Se.X0){if(super(),this.url="",this.version=Se.pv,this.entityUrl=null,this.commentId=null,this.badImage=null,-1===[Se.X0,Se.pR].indexOf(e))throw new Error("Unacceptable Peek-a-Boo action. Only hide/unhide allowed");this.url=`/${e}`}setEntityURL(e){return this.entityUrl=e,this}setCommentId(e){return this.commentId=e,this}setBadImage(e){return this.badImage=e,this}getData(){return ot().stringify(ye.g.clearRequestParamsFromEmptyKeys({appId:this.appId,auth:this.auth,commentId:this.commentId,badImage:this.badImage?1:0,url:this.entityUrl}))}fetch(){return e=this,t=void 0,o=function*(){return(yield E().post(this.getUrl(),this.getData())).data.payload},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}class Ws extends Rs{constructor(){super(...arguments),this.url="/mask",this.version=Se.pv,this.entityUrl=null,this.commentId=null,this.sensitive=null}setEntityURL(e){return this.entityUrl=e,this}setCommentId(e){return this.commentId=e,this}setSensitive(e){return this.sensitive=e,this}getData(){return ot().stringify(ye.g.clearRequestParamsFromEmptyKeys({appId:this.appId,auth:this.auth,commentId:this.commentId,sensitive:this.sensitive?1:0,url:this.entityUrl}))}fetch(){return e=this,t=void 0,o=function*(){return(yield E().post(this.getUrl(),this.getData())).data.payload},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}class Vs extends Rs{constructor(e=Se.Bw){if(super(),this.url="",this.version=Se.pv,this.userIdToProcess="",-1===[Se.Bw,Se.O7].indexOf(e))throw new Error("Unacceptable banhammer action. Only ban/unban allowed");this.url=`/${e}`}setUserId(e){return this.userIdToProcess=e,this}getData(){return ot().stringify({appId:this.appId,auth:this.auth,userId:this.userIdToProcess})}fetch(){return e=this,t=void 0,o=function*(){return(yield E().post(this.getUrl(),this.getData())).data.payload},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}class Bs extends Rs{constructor(){super(...arguments),this.url="/pin",this.version=Se.pv,this.entityUrl=null,this.commentId=null,this.pinned=null}setEntityURL(e){return this.entityUrl=e,this}setCommentId(e){return this.commentId=e,this}setPinned(e){return this.pinned=e,this}getData(){return ot().stringify(ye.g.clearRequestParamsFromEmptyKeys({appId:this.appId,auth:this.auth,url:this.entityUrl,commentId:this.commentId,pinned:this.pinned}))}fetch(){return e=this,t=void 0,o=function*(){return(yield E().post(this.getUrl(),this.getData())).data.payload},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}function Gs(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Fs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Gs(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Zs={[Ds.qg]:async({dispatch:e},{config:t})=>{Ye.setConfig(t),e(Ds.hZ,t),await Promise.all([e(`commentSystem/app/${Ds.oE}`,t,{root:!0}),e(`commentSystem/user/${Ds.nQ}`,t,{root:!0})]),e(Ds.Ew,Ps)},[Ds.hZ]:({commit:e},t)=>{e(Ds.hZ,t)},[Ds.Ew]:({commit:e},t)=>{e(Ds.Ew,t)},async[Ds.jt]({commit:e,dispatch:t},s=Ve.Tw){e(Ds.jt,s),t(Ds.wj)},async[Ds.wj]({commit:e,state:t,getters:s,dispatch:o}){if(o(Ds.r7,{idKey:t.postKey}),e(Ds._L,Pe.FM),e(Ds.Fb,null),!s.isInited||s.isFirstLoading)return;const r={viewMode:t.viewMode,postKey:t.postKey,type:t.type};let i=Fs({},r);i.value=!0,e(Ds.yb,i);try{if(await o(Ds.UE,Fs({},r)),s.getCommentsCount>0)return;await o(Ds.Ne,r)}finally{i.value=!1,e(Ds.yb,i)}},async[Ds.GQ]({commit:e,state:t,getters:s,dispatch:o},r){if(![Pe.eT,Pe.Ox].includes(r.viewMode))return;const i=r.commentId;if(e(Ds._L,r.viewMode),e(Ds.Fb,i),o(Ds.r7,{idKey:t.postKey,parent:t.threadKey}),!s.isInited||s.isFirstLoading)return;const n={commentId:i,level:2,type:Ve.GO,viewMode:t.viewMode,threadKey:t.threadKey},a={viewMode:t.viewMode,threadKey:t.threadKey,value:!0};e(Ds.yb,a);try{if(await o(Ds.UE,Fs({},r)),s.getCommentsCount>0)return Promise.resolve();await o(Ds.Ne,n)}finally{a.value=!1,e(Ds.yb,a)}},async[Ds.Ne]({state:e,rootGetters:t,dispatch:s,rootState:{commentSystem:{user:{auth:o}}}},r={}){const i=t["commentSystem/user/hasActivities"],n=(new ut).setParams(Fs(Fs({},r),{},{url:e.url}));i&&n.setAuth(o),r.key=r.threadKey?r.threadKey:r.postKey;try{const e=await n.fetch();r.loadType="LOAD_FIRST",s(Ds.pc,{data:e,options:r})}catch(e){}},async[Ds.av]({commit:e,state:t,getters:s,rootGetters:o,dispatch:r,rootState:{commentSystem:{user:{auth:i}}}},n){if(!s.isInited||s.isNextLoading)return Promise.reject({message:"The request is already processing"});if(!n)return Promise.reject({message:"Next cursor is empty"});let a={viewMode:t.viewMode,loadType:"LOAD_NEXT",key:Pe.FM===t.viewMode?t.postKey:t.threadKey};Pe.FM===t.viewMode&&(a.type=t.type);let c=Fs({},a);c.value=!0,Pe.FM===t.viewMode?c.postKey=t.postKey:c.threadKey=t.threadKey,e(Ds.yT,c);const l=o["commentSystem/user/hasActivities"],d=(new ut).setParams(Fs({},ot().parse(n)));l&&d.setAuth(i);try{const t=await d.fetch();r(Ds.pc,{data:t,options:a})}finally{c.value=!1,e(Ds.yT,c)}},async[Ds.O4]({commit:e,state:t,getters:s,rootGetters:o,dispatch:r,rootState:{commentSystem:{user:{auth:i}}}},n){if(!s.isInited||s.isPrevLoading)return Promise.reject({message:"The request is already processing"});if(!n)return Promise.reject({message:"Prev cursor is empty"});let a={viewMode:t.viewMode,loadType:"LOAD_PREV",key:t.threadKey},c=Fs({},a);c.value=!0,c.threadKey=t.threadKey,e(Ds.zq,c);const l=o["commentSystem/user/hasActivities"],d=(new ut).setParams(Fs({},ot().parse(n)));l&&d.setAuth(i);try{const t=await d.fetch();r(Ds.pc,{data:t,options:a})}finally{c.value=!1,e(Ds.zq,c)}},[Ds.pc]({commit:e},t){let{options:s}=t,{comments:o,commentsBySign:r}=Ns.rehydrateComments(t);switch(e(Ds.pc,o),s.viewMode){case Pe.FM:e(Ds.JV,r);break;case Pe.eT:case Pe.Ox:e(Ds.yM,{loadType:s.loadType,commentsBySign:r})}},[Ds.fk]({commit:e,dispatch:t},s){e(Ds.Bc,s),t(Ds.gm,s.replyThreadId)},[Ds.nt]:async({rootState:{commentSystem:{user:{auth:e}}}},t)=>/\/(gif|jpe?g|png|mp4|webm)$/i.test(t.type)?t.size&&t.size>As.T?Promise.reject({code:"IMAGE_INVALID_SIZE"}):(new gs).setAuth(e).setBlob(t).fetch():Promise.reject({code:"IMAGE_INVALID_TYPE"}),async[Ds.tV]({commit:e,state:{url:t,postKey:s,threadKey:o,type:r,comments:i},dispatch:n,getters:a,rootState:{commentSystem:{user:{auth:l}}},rootState:d,rootGetters:u},p){const h=a.getViewMode,m=(new Tt).setAuth(l).setConversationUrl(t).setMessage(p.text);if(p.uploadedFiles)for(const e of p.uploadedFiles)m.setMedia(e.uploadedMedia);p.userMedia&&m.setMedia(p.userMedia),p.delegateUserId&&m.setDelegateUserId(p.delegateUserId),p.parent&&m.setParentId(p.parent),p.replyThreadOnly&&m.setReplyThreadOnly(p.replyThreadOnly),"9gag"!==u["config/APP_NAME"]&&await m.fetchLinkPreviews();try{const r=await m.fetch(),{comment:i,total:a}=r;if(!i)return;i.postId=p.postId,n(`commentSystem/user/${c.GD.UPDATE_COMMENTED_POST_URLS}`,{[t]:1},{root:!0}),r.quota&&n(`commentSystem/user/${c.GD.UPDATE_QUOTA}`,r.quota,{root:!0});const{commentId:l,level:d,parent:u}=i;return d>1?(e(Ds.WX,u),h===Pe.FM?o?(e(Ds.eh,u),Promise.resolve(l)):(e(Ds.Ys,{comment:i,parent:u}),e(Ds.UU,{commentId:l}),n(Ds.L5,a),Promise.resolve(l)):n(Ds.Eg,{commentId:l,postUrl:t})):(e(Ds.tV,{comment:i,postKey:s}),n(Ds.L5,a),Promise.resolve(l))}catch(e){return Promise.reject(e)}},async[Ds.Eg]({commit:e,state:{threadKey:t},rootGetters:s,rootState:{commentSystem:{user:{auth:o}}}},{commentId:r,postUrl:i}){const n=s["commentSystem/user/hasActivities"],a=(new ut).setParams({level:2,commentId:r,url:i});n&&a.setAuth(o);try{const s=await a.fetch(),{comments:o,commentsBySign:i}=Ns.rehydrateComments({data:s,options:{viewMode:Pe.eT,key:t}});e(Ds.pc,o);const n=i[t];n.prevCursor=n.nextCursor,n.nextCursor=null,n.commentIds.reverse(),e(Ds.eh,t),e(Ds.UU,{commentId:r}),e(Ds.yM,{loadType:"LOAD_LAST",commentsBySign:i})}catch(e){console.warn(e)}},[Ds.Ox]({commit:e,state:t,dispatch:s,rootState:{commentSystem:{user:{auth:o,likeMapping:r}}}},{commentId:i,value:n}){if(!(i in t.comments))return;const a=r[i]||0;let l=0,d=0;return 1===a&&l--,-1===a&&d--,1===n&&l++,-1===n&&d++,e(Ds.Ox,{commentId:i,likeDelta:l,dislikeDelta:d}),s(`commentSystem/user/${c.GD.UPDATE_LIKE_MAPPING}`,{[i]:n},{root:!0}),(new Nt).setAuth(o).setCommentId(i).setValue(n).fetch()},[Ds.ex]:({commit:e,state:t,rootState:{commentSystem:{user:{auth:s}}}},o)=>(e(Ds.Di,{commentId:o.commentId,viewMode:t.viewMode,postKey:t.postKey,threadKey:t.threadKey}),(new js).setAuth(s).setCommentId(o.commentId).setPostUrl(t.url).fetch()),[Ds.Di]:({commit:e,state:t,getters:s,rootState:{commentSystem:{user:{auth:o}}}},r)=>(s.ifCommentHaveReplies(r.commentId)?e(Ds.hM,r.commentId):e(Ds.Di,{commentId:r.commentId,viewMode:t.viewMode,postKey:t.postKey,threadKey:t.threadKey}),(new Ot).setAuth(o).setCommentId(r.commentId).setPostUrl(t.url).fetch()),async[Ds.a4]({commit:e,state:t,rootState:{commentSystem:{user:{auth:s}}}},o){o.url=t.url;try{await(new bt).setAuth(s).setCommentId(o.commentId).setPostUrl(t.url).setReportData(o.userReportData).fetch(),e(Ds.Di,{commentId:o.commentId,viewMode:t.viewMode,postKey:t.postKey,threadKey:t.threadKey})}catch(e){return Promise.reject(e)}},async[Ds.Sp]({commit:e,state:t,getters:s,rootState:{commentSystem:{app:{info:o},user:{auth:r}}}},i){try{await(new Ms).setAuth(r).setEntityURL(t.url).setLock(i).fetch();const o=s.getListKey;e(Ds.fA,{key:o,viewMode:t.viewMode,lock:!!i})}catch(e){console.error(e)}},async[Ds.L5]({commit:e,state:t,getters:s},o){const r=s.getListKey;e(Ds.L5,{key:r,viewMode:t.viewMode,total:o})},async[Ds.wl]({commit:e,state:t,getters:s},o){const r=s.getListKey;e(Ds.wl,{key:r,viewMode:t.viewMode,viewAll:o})},async[Ds.g$]({commit:e,state:t,getters:s,rootState:{commentSystem:{app:{info:o},user:{auth:r}}}},i){try{await(new Ms).setAuth(r).setEntityURL(t.url).setStatus(i).fetch();const o=s.getListKey;e(Ds.d0,{key:o,viewMode:t.viewMode,status:i})}catch(e){}},async[Ds.gm]({commit:e,getters:t},s){if(!s||void 0!==t.getFollowStatus(s))return Promise.resolve();try{const t=await(new Ut).setThreadId(s).fetch();e(Ds.Gm,{threadId:s,followed:!!t.followed})}catch(e){return Promise.reject(e)}},async[Ds.rY]({commit:e},{threadId:t,follow:s}){try{await(new Lt).setThreadId(t).setFollowed(s).fetch(),e(Ds.Gm,{threadId:t,followed:!!s})}catch(e){return Promise.reject(e)}},async[Ds.UE]({dispatch:e},t){switch(t.timestamp=(new Date).getTime(),t.viewMode){case Pe.FM:e(Ds.x0,t);break;case Pe.eT:case Pe.Ox:e(Ds.eZ,t)}},[Ds.x0]({commit:e,state:t},{postKey:s,type:o=Ve.Tw,timestamp:r}){const i=s+":"+o,n=t.ttl[o];i in t.commentsByPostID&&r>t.commentsByPostID[i].timestamp+n&&e(Ds.x0,{postKey:s,type:o})},[Ds.eZ]({commit:e,state:t},{threadKey:s,timestamp:o}){s in t.threads&&o>t.threads[s].timestamp+t.ttl[Ve.Tw]&&e(Ds.eh,s)},[Ds.qR]({commit:e,getters:t},{commentId:s,screenWidth:o,height:r}){(null===t.getCommentTextHeight(s,o)?20:t.getCommentTextHeight(s,o))!==r&&e(Ds.qR,{commentId:s,screenWidth:o,height:r})},[Ds.IL]({commit:e},t){e(Ds.IL,t)},[Ds._$]({commit:e},t){e(Ds._$,t)},async[Ds.i_]({commit:e,state:t,getters:s,rootState:{commentSystem:{user:{auth:o}}}},{commentId:r,hide:i,badImage:n}){try{const a=i?Se.X0:Se.pR;await new xs(a).setAuth(o).setEntityURL(t.url).setCommentId(r).setBadImage(n).fetch();const c=s.getAdminActions(r);e(Ds.G,{commentId:r,adminActions:Fs(Fs({},c),{},{hidden:i})})}catch(e){console.error(e)}},async[Ds.Wx]({commit:e,state:t,getters:s,rootState:{commentSystem:{user:{auth:o}}}},{commentId:r,sensitive:i}){try{await(new Ws).setAuth(o).setEntityURL(t.url).setCommentId(r).setSensitive(i).fetch();const n=s.getAdminActions(r);e(Ds.G,{commentId:r,adminActions:Fs(Fs({},n),{},{sensitive:i})})}catch(e){console.error(e)}},async[Ds.Od]({commit:e,state:t,getters:s,rootState:{commentSystem:{user:{auth:o}}}},{commentId:r,userId:i,ban:n}){try{const t=n?Se.Bw:Se.O7;await new Vs(t).setAuth(o).setUserId(i).fetch();const a=s.getAdminActions(r);e(Ds.G,{commentId:r,adminActions:Fs(Fs({},a),{},{banned:n})})}catch(e){console.error(e)}},async[Ds.MR]({commit:e,state:t,getters:s,rootState:{commentSystem:{user:{auth:o}}}},{commentId:r,pin:i}){try{await(new Bs).setAuth(o).setEntityURL(t.url).setCommentId(r).setPinned(i?1:0).fetch();const n=s.getAdminActions(r);e(Ds.G,{commentId:r,adminActions:Fs(Fs({},n),{},{pinned:i})})}catch(e){console.error(e)}}};function $s(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Hs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$s(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function Ks(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function zs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ks(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Ys={state:{commentComposersState:{},followStatusInProgressMap:{},highlightedCommentState:{},localThreads:{}},getters:{getFilteredComments:(e,t,s)=>{const o=t.getComments;return class{static filterCommentsFromBlockedUsers(e,t){return e.filter((e=>-1===t.indexOf(e.user.accountId)))}}.filterCommentsFromBlockedUsers(o,s.user.settings.blocklistIds)||[]},getCommentsByThreadId:e=>t=>{let s=[];if(e.threads[t])for(let o of e.threads[t].commentIds)o in e.comments&&s.push(e.comments[o]);return s},getLocalCommentsByThreadId:(e,t)=>t=>{let s=[];if(e.localThreads[t])for(let o of e.localThreads[t])o in e.comments&&(e.threads[t]&&e.threads[t].commentIds.includes(o)||s.push(e.comments[o]));return s},getCommentsCountByThreadId:e=>t=>{let s=0;return t in e.threads&&(s=1+e.threads[t].commentIds.length,e.threads[t].localCommentIds&&(s+=e.threads[t].localCommentIds.length)),s},getNextCursorByThreadId:e=>t=>{if(t in e.threads)return e.threads[t].nextCursor},getCommentComposerStateById:e=>t=>t?e.commentComposersState[t]:null,isCommentComposerActive:(e,t)=>e=>{const s=t.getCommentComposerStateById(e);return s&&s.isActive},isCommentComposerEmpty:(e,t)=>e=>{const s=t.getCommentComposerStateById(e);return!s||!s.message.trim().length},getIsFollowStatusInProgress:e=>t=>t&&e.followStatusInProgressMap[t],isNeedFetchFollowStatus:e=>t=>void 0===e.followStatusMap[t]},mutations:{[Ds.r7]:(e,t)=>{let{idKey:s}=t,o=(0,Ce.Z)(t,["idKey"]);e.commentComposersState[s]=Hs({isActive:!1,composerMode:Pe.tc,message:"",isReply:!1,parent:"",threadId:"",delegateUserId:null},o)},[Ds.qi]:(e,{idKey:t,mode:s})=>{e.commentComposersState[t]=Hs(Hs({},e.commentComposersState[t]),{},{composerMode:s})},[Ds.u2]:(e,t)=>{e.commentComposersState[t]=Hs(Hs({},e.commentComposersState[t]),{},{isActive:!1})},[Ds.gN]:(e,{idKey:t,message:s})=>{e.commentComposersState[t]=Hs(Hs({},e.commentComposersState[t]),{},{message:s})},[Ds.bM]:(e,{idKey:t,delegateUserId:s})=>{e.commentComposersState[t]=Hs(Hs({},e.commentComposersState[t]),{},{delegateUserId:s})},[Ds.IL](e,{threadId:t,isInProgress:s}){C(e.followStatusInProgressMap,t,s)},[Ds.UU](e,{commentId:t=null,isScrollCompleted:s=!1}){e.highlightedCommentState={commentId:t,isScrollCompleted:s}},[Ds.Ys](e,{comment:t,parent:s}){e.comments=Hs({[t.commentId]:t},e.comments),void 0===e.localThreads[s]?e.localThreads[s]=[t.commentId]:e.localThreads[s].push(t.commentId)}},actions:{[Ds.r7]:({commit:e,getters:t,dispatch:s},o)=>{let{idKey:r}=o,i=(0,Ce.Z)(o,["idKey"]);i.threadId&&s(Ds.gm,i.threadId);const n=t.getCommentComposerStateById(r);let a=n?n.message:"";if(i.parent&&!a){const{user:e,isDeleted:s}=t.getCommentById(i.parent);e&&!s&&(a=`@${e.displayName} `)}i.message=a,e(Ds.r7,zs({idKey:r},i))},[Ds.qi]:({commit:e},{idKey:t,mode:s})=>{e(Ds.qi,{idKey:t,mode:s})},[Ds.gN]:({commit:e},{idKey:t,message:s})=>{e(Ds.gN,{idKey:t,message:s})},[Ds.bM]:({commit:e},{idKey:t,delegateUserId:s})=>{e(Ds.bM,{idKey:t,delegateUserId:s})},[Ds.u2]:({commit:e},t)=>{e(Ds.u2,t)},[Ds.UU]:({commit:e},t)=>{e(Ds.UU,t)},[Ds.ae]:({commit:e})=>{e(Ds.UU,{})},[Ds.bV]:({dispatch:e},t)=>{e(Ds.gN,{idKey:t,message:""}),e(Ds.bM,{idKey:t,delegateUserId:null}),e(Ds.qi,{idKey:t,mode:Pe.tc}),e(Ds.u2,t),e(`attachments/${yt.ZO}`,{itemID:t},{root:!0})},[Ds.Wg]:async({rootState:e,dispatch:t,getters:s,rootGetters:o},{idKey:r})=>{const i=s.getCommentComposerStateById(r),n=o[`attachments/${yt.ZI}`](r);if(s.isCommentComposerEmpty(r)&&!n.length)return;const a={text:i.message.trim()};i.delegateUserId&&(a.delegateUserId=i.delegateUserId),n.length&&(a.uploadedFiles=n),i.parent&&(a.parent=i.parent,i.isReply||(a.replyThreadOnly=!0)),await t(Ds.tV,a),t(Ds.bV,r);const c=e.user.settings.autoFollowThreadReply,{threadId:l}=s.getCommentById(i.parent);i.isReply&&l&&(s.isNeedFetchFollowStatus(l)&&await t(Ds.gm,l),!s.getFollowStatus(l)&&c&&t(Ds.lK,{threadId:l,follow:!0}))},async[Ds.lK]({dispatch:e},{threadId:t,follow:s}){e(Ds.IL,{threadId:t,isInProgress:!0}),e(Ds.rY,{threadId:t,follow:s}).then((()=>{const t=s?"You will get notified when there are new replies.":"Comment unfollowed";e(`toasts/${fe.Pd}`,{text:t,type:pe.default.INFO},{root:!0})})).catch((()=>{})).finally((()=>{e(Ds.IL,{threadId:t,isInProgress:!1})}))},async[Ds.aO]({commit:e},t){let{options:s}=t,{comments:o,commentsBySign:r}=Ns.rehydrateComments(t);e(Ds.pc,o),e(Ds.yM,{loadType:s.loadType,commentsBySign:r})},async[Ds.ki]({state:e,rootGetters:t,dispatch:s,getters:o,rootState:{commentSystem:{user:{auth:r}}}},i={}){const n=t["commentSystem/user/hasActivities"];if(s(Ds.eZ,{threadKey:i.key,timestamp:(new Date).getTime()}),o.getCommentsCountByThreadId(i.key)>0)return Promise.resolve();const a=(new ut).setParams({level:2,commentId:i.key,url:e.url,type:"old"});n&&a.setAuth(r);try{const e=await a.fetch();i.loadType="LOAD_LAST",s(Ds.aO,{data:e,options:i})}catch(e){}},async[Ds._B]({rootGetters:e,dispatch:t,rootState:{commentSystem:{user:{auth:s}}}},{nextCursor:o,threadKey:r}){if(!o)return Promise.reject({message:"Next cursor is empty"});let i={loadType:"LOAD_NEXT",key:r};const n=e["commentSystem/user/hasActivities"],a=(new ut).setParams(zs({},ot().parse(o)));n&&a.setAuth(s);try{const e=await a.fetch();t(Ds.aO,{data:e,options:i})}catch(e){}}}};function qs(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Js(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?qs(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qs(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const Xs={namespaced:!0,state:()=>Js(Js({},Is),Ys.state),getters:Js(Js({},ks),Ys.getters),mutations:Js(Js({},Ls),Ys.mutations),actions:Js(Js({},Zs),Ys.actions)},Qs={setAppInfo(e,t){e.info=t}};class eo extends dt{constructor(){super(),this.url="/app.json",this.cacheable=!0,this.version=Se.pv,this.appId=null,this.appId=Ye.config.appId}getData(){return{params:{id:this.appId}}}fetch(){return e=this,t=void 0,o=function*(){return(yield E().get(this.getUrl(),this.getData())).data.payload.app},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}function to(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function so(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?to(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):to(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const oo={namespaced:!0,state:()=>({info:{appId:null,maxMessageLength:null,opHideCommentFeature:null,anonymousAvatarUrl:null,reactionImageSite:null}}),mutations:Qs,actions:{async[c.XQ.FETCH_APP_INFO]({commit:e,state:t},s){if(t.info.appId&&t.info.appId===s.appId)return Promise.resolve();e("setAppInfo",so(so({},await(new eo).fetch()),{},{appId:s.appId,reactionImageSite:s.reactionImageSite}))},[Ds.oE]:async({dispatch:e},t)=>{await e(c.XQ.FETCH_APP_INFO,t)}}};function ro(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function io(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ro(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var no=s(7651).default;const ao={isLoggedIn:e=>null!==e.info.userId,hasActivities:(e,t,s)=>{if(null===e.info.userId)return!1;if(e.info.moderate)return!0;const o=s.commentSystem.comment.url,r=e.commentedPostUrls,i=e.reportedPostUrls;let n=!1;return r&&r[o]&&(n=!0),i&&i[o]&&(n=!0),n},canComment:e=>e.quota&&e.quota.count?e.quota.count>0:!!e.expiry&&Date.now()>e.expiry,waitTimeToComment:e=>e.quota?e.quota.wait>0&&no.secondsToHrs(e.quota.wait):0,canModerate:e=>e.info.moderate};function co(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}const lo={setAuth(e,t){e.auth=t},setUserInfo(e,t={}){e.info=t.user||function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?co(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):co(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},As.$Y),e.commentedPostUrls=t.commentedPostUrls||{},e.reportedPostUrls=t.reportedPostUrls||{},e.likeMapping=t.likeMapping||{},e.quota=t.quota||{}},updateCommentedPostUrls(e,t){e.commentedPostUrls=t},updateReportedPostUrls(e,t){e.reportedPostUrls=t},updateLikeMapping(e,t){e.likeMapping=t},updateQuota(e,t){t.wait&&(t.expiry=Date.now()+1e3*t.wait),e.quota=t}};class uo extends dt{constructor(){super(),this.url="/user.json",this.version=Se.pv,this.appId=null,this.auth=null,this.appId=Ye.config.appId}setAuth(e){return this.auth=e,this}getData(){return ot().stringify({appId:this.appId,auth:this.auth})}fetch(){return e=this,t=void 0,o=function*(){return(yield E().post(this.getUrl(),this.getData())).data.payload},new((s=void 0)||(s=Promise))((function(r,i){function n(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,a)}c((o=o.apply(e,t||[])).next())}));var e,t,s,o}}function po(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function ho(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?po(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):po(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const mo={namespaced:!0,modules:{comment:Xs,app:oo,user:{namespaced:!0,state:()=>({auth:null,info:io({},As.$Y),commentedPostUrls:{},reportedPostUrls:{},likeMapping:{},quota:{}}),getters:ao,mutations:lo,actions:{[c.GD.FETCH_USER_INFO]:async({commit:e,state:t},s)=>{const{auth:o}=s;if(o&&t.auth===o||e("setUserInfo"),e("setAuth",o),!o||t.info.userId)return Promise.resolve();e("setUserInfo",await(new uo).setAuth(o).fetch())},[Ds.nQ]:async({dispatch:e},t)=>{await e(c.GD.FETCH_USER_INFO,t)},[c.GD.UPDATE_COMMENTED_POST_URLS]:({commit:e,state:t},s)=>{e("updateCommentedPostUrls",ho(ho({},t.commentedPostUrls),s))},[c.GD.UPDATE_REPORTED_POST_URLS]({commit:e,state:t},s){e("updateReportedPostUrls",ho(ho({},t.reportedPostUrls),s))},[c.GD.UPDATE_LIKE_MAPPING]:({commit:e,state:t},s)=>{e("updateLikeMapping",ho(ho({},t.likeMapping),s))},[c.GD.UPDATE_QUOTA]:({commit:e,state:t},s)=>{e("updateQuota",ho(ho({},t.quota),s))}}}}},go=[m({key:"userCommentsState",paths:["commentSystem.user.auth","commentSystem.user.info","commentSystem.user.commentedPostUrls","commentSystem.user.reportedPostUrls","commentSystem.user.likeMapping","commentSystem.user.quota"],filter:e=>["commentSystem/user/setAuth","commentSystem/user/setUserInfo","commentSystem/user/updateCommentedPostUrls","commentSystem/user/updateReportedPostUrls","commentSystem/user/updateLikeMapping","commentSystem/user/updateQuota"].includes(e.type)},600)],fo=[m({key:"appCommentsState",paths:["commentSystem.app"],filter:e=>["commentSystem/app/setAppInfo"].includes(e.type)},600),...go];function yo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function Oo(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yo(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const bo=[m({key:"appState",paths:["app.darkMode","session.session","user.settings.autoFollowThreadReply"],filter:e=>["app/TOGGLE_DARK_MODE","session/setSessionInfo","session/setSessionReferral",`user/settings/${H.Ai}`].includes(e.type)}),m({key:"userState",paths:["user.user","user.votes","user.uploads","user.reports","user.settings.blocklistIds"],filter:e=>["user/SET_USER_INFO","user/CLEAR_USER_INFO","user/ADD_REPORT","user/ADD_VOTE","user/ADD_UPLOAD","user/settings/SET__BLOCKLIST_IDS","user/settings/ADD__ID_TO_BLOCKLIST_IDS","user/settings/REMOVE__ID_FROM_BLOCKLIST_IDS"].includes(e.type)},3600),f,T,m({key:"sidebarState",paths:["sidebar.clickedPosts"],filter:e=>"sidebar/ADD_CLICKED_POST"===e.type}),m({key:"sectionState",paths:["section.favoriteSections","section.recentUploadSections","section.recentVisitSections"],filter:e=>["section/favoriteSection","section/unfavoriteSection","section/addRecentUploadSection","section/addRecentUploadSection","section/addRecentVisitSection","section/removeRecentVisitSection","section/clearRecentVisitSections"].includes(e.type)}),...ls,...fo],_o=(0,r.MT)({modules:{app:function(){const e="sign_up_referer";return{namespaced:!0,state:{drawer:!0,darkMode:!1,topNavHeight:48,supportsH264:a.supportsH264(),supportsH265:a.supportsH265(),supportsAV1:a.supportsAV1()},getters:{IS_SENSITIVE(e,t,s,o){const{route:r}=s;if(r.name===i.Z.POST_PAGE)return!!o["post/GET_POST"](r.params.postId).nsfw;if([i.Z.SECTION_LIST,i.Z.SEARCH_POST_LIST].includes(r.name)){const e=r.params.section||"";return!!o["section/GET_SECTION"](e).isSensitive}return!1},SHOW_ADS(e,t,s){const{route:o}=s;return!t.IS_SENSITIVE&&[...i.Z.MAIN_LISTS,i.Z.POST_PAGE].includes(o.name)}},mutations:{TOGGLE_DARK_MODE(e){e.darkMode=!e.darkMode},UPDATE_TOP_NAV_HEIGHT(e,t){e.topNavHeight=t},UPDATE_DRAWER(e,t){e.drawer=t}},actions:{async CHECK_DARK_MODE({state:e,dispatch:t}){e.darkMode&&t("SET_DARK_MODE")},async TOGGLE_DARK_MODE({commit:e,dispatch:t}){e("TOGGLE_DARK_MODE"),t("SET_DARK_MODE")},async SET_DARK_MODE({state:e}){const t=e.darkMode?"add":"remove";document.body.classList[t]("theme-dark")},async UPDATE_TOP_NAV_HEIGHT({commit:e,state:t},s){e("UPDATE_TOP_NAV_HEIGHT",s)},async UPDATE_SIGNUP_REFERRER({rootGetters:t}){n.U2(e)||n.t8(e,document.referrer,{domain:t["config/COOKIE_DOMAIN"],expires:365,path:"/"})}}}}(),privacy:{namespaced:!0,state:{googleNpa:!1,doNotSell:!1,privacyCheck:null,dismissCCPABanner:!1},getters:{isCCPARegion:e=>p()(e,"privacyCheck.ccpa",!1),googleRdp:(e,t)=>t.isCCPARegion&&e.doNotSell,showCCPABanner:(e,t)=>t.isCCPARegion&&!e.dismissCCPABanner},mutations:{setGoogleNpa(e,t){e.googleNpa=t},setDoNotSell(e,t){e.doNotSell=t},setPrivacyCheck(e,t){e.privacyCheck=t},dismissCCPABanner(e,t){e.dismissCCPABanner=t}},actions:{async[c.Lm.SET_GOOGLE_NPA]({commit:e,state:t}){const s=await d.Z.getGoogleNpa();g.log("setGoogleNpa",s),s!==t.googleNpa&&e("setGoogleNpa",s)},[c.Lm.SET_DO_NOT_SELL]({commit:e,dispatch:t},s){e("setDoNotSell",s),t(c.Lm.UPDATE_CCPA_COOKIE)},async[c.Lm.INIT_PRIVACY_CHECK]({commit:e,state:t,dispatch:s}){s(c.Lm.SET_GOOGLE_NPA),setTimeout((async()=>{const o=await l.Z.check(t.privacyCheck);o&&e("setPrivacyCheck",o),s(c.Lm.UPDATE_CCPA_COOKIE)}),5e3)},[c.Lm.UPDATE_CCPA_COOKIE]({state:e,getters:t}){l.Z.updateCCPACookie(t.isCCPARegion,e.dismissCCPABanner,e.doNotSell)},[c.Lm.DISMISS_CCPA_BANNER]({commit:e,dispatch:t},s){e("dismissCCPABanner",s),t(c.Lm.UPDATE_CCPA_COOKIE)}}},session:{namespaced:!0,state:{session:{startTs:0,expiryTs:0,ref:null,utmSource:null,utmCampaign:null,utmMedium:null},unmasked:[]},getters:{GET_SESSION_PARAMS:e=>{const{ref:t,utmSource:s,utmCampaign:o,utmMedium:r}=e.session;return{ref:t,utm_source:s,utm_campaign:o,utm_medium:r}},SHOW_SENSITIVE_MASK:(e,t,s,o)=>t=>!o["user/IS_LOGGED_IN"]||!!o["user/SAFE_MODE"]&&!e.unmasked.includes(t)},mutations:{setSessionInfo(e,t){e.session=S(S({},e.session),t)},setSessionReferral(e,t){e.session=S(S({},e.session),t)},unmaskSensitive(e,t){e.unmasked.push(t)}},actions:{[c.R5.SET_SESSION_ACTIVE]({commit:e,state:t}){const{sessionInfo:s,referralInfo:o}=_.getSessionInfoAndReferralInfoForSession(t.session);o&&e("setSessionReferral",o),e("setSessionInfo",s)},[c.R5.CHECK_SESSION_REFERRAL]({commit:e,rootState:t}){const s=_.getReferralInfoForQuery(p()(t,"route.query",null));s&&e("setSessionReferral",s)},[c.R5.UNMASK_SENSITIVE]({commit:e},t){e("unmaskSensitive",t)}}},config:{namespaced:!0,state:{page:{},configs:{},features:{},data:{},appConfig:{}},getters:{APP_NAME:e=>p()(e,"page.appName","9gag"),APP_VERSION:e=>p()(e,"page.appVersion","00000"),COOKIE_DOMAIN:e=>p()(e,"page.cookie_domain",".9gag.com"),ASSETS_URL:e=>p()(e,"page.staticAssetPath"),ACTIVE_DURATION:e=>p()(e,"configs.profile.activeDuration"),GET_CONFIG:e=>(t,s=null)=>p()(e,t,s),GET_DATA:e=>(t,s=null)=>p()(e.data,t,s),GET_APP_CONFIG:e=>(t,s=null)=>p()(e.appConfig,t,s)},mutations:{SET_CONFIG(e,t={}){const{page:s,configs:o,features:r,data:i}=t;e.page=s,e.configs=o,e.features=r,e.data=i||{}},SET_APP_CONFIG(e,t){e.appConfig=t},CLEAR_DATA(e){e.data={}}},actions:{INIT_CONFIG({commit:e,state:t,dispatch:s},o){e("SET_CONFIG",o),s(`section/${c.bQ.INIT_SECTIONS}`,o.page,{root:!0})},async LOAD_APP_CONFIG({commit:e}){const t=await D.getConfig();t&&e("SET_APP_CONFIG",t)},async CLEAR_HYDRATION({commit:e,state:t}){Object.keys(t.data).length&&e("CLEAR_DATA")}}},post:function(){const e={next:null,prev:null};return{namespaced:!0,state:{posts:{},postIdsByUrl:{},loadCountByUrl:{},featuredAdsByUrl:{},lastPositionByUrl:{},currentApiInfo:null,nextApiInfo:null,postApiInfos:{},nextCursors:{},prevCursors:{}},getters:{GET_API_INFO:e=>e.nextApiInfo||e.currentApiInfo,GET_CURSORS:(e,t)=>s=>{const o=t.GET_API_INFO;return o&&e["prev"!==s?"nextCursors":"prevCursors"][o.url]||""},GET_POST_IDS_BY_URL:(e,t)=>(s=null)=>{const o=t.GET_API_INFO;return e.postIdsByUrl[s||o.url]||[]},GET_POST:e=>t=>e.posts[t]||{},POST_LIST_IDS:(e,t,s)=>{const o=e.currentApiInfo,r=o&&t.GET_POST_IDS_BY_URL(o.url)||[],n=o&&o.name||null,a=[...i.Z.MAIN_LISTS,i.Z.TAG_POST_LIST].includes(n)?s.user.uninterestedPosts:[];return r.filter(((e,t)=>r.indexOf(e)===t&&!a.includes(e)))},LOAD_COUNT:e=>e.currentApiInfo&&e.loadCountByUrl[e.currentApiInfo.url]||1,FEATURED_ADS:e=>e.currentApiInfo&&e.featuredAdsByUrl[e.currentApiInfo.url]||[],GET_LAST_POSITION:e=>e.currentApiInfo&&e.lastPositionByUrl[e.currentApiInfo.url]||null},mutations:{SET_POST_IDS_BY_URL(e,{url:t,ids:s}){C(e.postIdsByUrl,t,s)},ADD_POSTS(e,t=[]){t.forEach((t=>C(e.posts,t.id,t)))},ADD_POST(e,t){C(e.posts,t.id,t)},SET_NEXT_POSTS(e,{cursor:t,url:s}){C(e.nextCursors,s,t||null)},SET_PREV_POSTS(e,{cursor:t,url:s}){C(e.prevCursors,s,t||null)},UPDATE_POST_AUTO_PLAY(e,t){t.mediaId?C(e.posts[t.id].article.medias[t.mediaId],"autoPlayEvent",t.autoPlayEvent):C(e.posts[t.id],"autoPlayEvent",t.autoPlayEvent)},UPDATE_VOTE_COUNT(e,t){C(e.posts,t.id,t)},SET_CURRENT_API_INFO(e,t){e.currentApiInfo=t},SET_NEXT_API_INFO(e,t){e.nextApiInfo=t},SAVE_POST_API_INFO(e,{postId:t,apiInfo:s}){C(e.postApiInfos,t,s)},UPDATE_LOAD_COUNT(e,{loadCount:t,apiInfo:s}){C(e.loadCountByUrl,s.url,t)},SET_FEATURED_ADS(e,{featuredAds:t,apiInfo:s}){C(e.featuredAdsByUrl,s.url,t)},SET_LAST_POSITION(e,{url:t,data:s}){C(e.lastPositionByUrl,t,s)}},actions:{CHECK_URL_INFO:({getters:e},t=null)=>{if(!e.GET_API_INFO&&!t)throw"You must set apiInfo or provide url in arg to set post"},SET_POST_IDS_BY_URL:({commit:e,getters:t,dispatch:s},{url:o,ids:r,operationType:i})=>{const n=t.GET_API_INFO;s("CHECK_URL_INFO",o=o||n.url),e("SET_POST_IDS_BY_URL",{url:o,ids:r=x.bindPostIdToUrl(t.GET_POST_IDS_BY_URL(o),r,i)})},ADD_POST:({commit:e,dispatch:t,getters:s},{data:o,url:r,operationType:i="push"})=>{e("ADD_POST",x.transformPost(o)),t("SET_POST_IDS_BY_URL",{url:r,ids:o.id,operationType:i})},SET_NEXT_POSTS:async({commit:e,dispatch:t,getters:s},{posts:o,cursor:r,url:i})=>{if(t("CHECK_URL_INFO",i),i=i||s.GET_API_INFO.url,o)for(let e of o)t("ADD_POST",{data:e});e("SET_NEXT_POSTS",{url:i,cursor:r})},SET_PREV_POSTS:async({commit:e,dispatch:t,getters:s},{posts:o,cursor:r,url:i})=>{if(t("CHECK_URL_INFO",i),i=i||s.GET_API_INFO.url,o)for(let e of o)t("ADD_POST",{data:e,operationType:"unshift"});e("SET_PREV_POSTS",{url:i,cursor:r})},SAVE_POST_API_INFO:({commit:e,getters:t},s)=>{e("SAVE_POST_API_INFO",{postId:s,apiInfo:t.GET_API_INFO})},SET_FEATURED_ADS:({commit:e,getters:t},s)=>{e("SET_FEATURED_ADS",{featuredAds:s,apiInfo:t.GET_API_INFO})},SET_LAST_POSITION:({commit:e,getters:t},s)=>{e("SET_LAST_POSITION",{url:t.GET_API_INFO.url,data:s})},TO_NEXT_POST:async({dispatch:e})=>await e("TO_NEAR_POST","next"),TO_PREV_POST:async({dispatch:e})=>await e("TO_NEAR_POST","prev"),TO_NEAR_POST:async({commit:t,getters:s,rootState:o,dispatch:r},i)=>{const n=s.GET_POST_IDS_BY_URL()||[];s.GET_API_INFO;let a=n.indexOf(o.route.params.postId);if(!n.length&&e[i])return;const c=async()=>e[i]?e[i]:s.GET_CURSORS(i)?(e[i]=r("LOAD_POSTS",i).then((()=>{e[i]=null})),e[i]):void 0;if(await(async()=>{if(!("next"===i&&n.length-a-7>0||"prev"===i&&a>7))return"prev"===i&&0!==a||"next"===i&&a!==n.length-1?void c():c()})(),"next"===i&&a<n.length-1)a++;else{if(!("prev"===i&&a>0))return;a--}return n[a]},LOAD_POSTS:({dispatch:e,getters:t},s="next")=>{t.GET_API_INFO.name===i.Z.POST_PAGE?e("LOAD_PAGE_POSTS",{direction:s}):e("LOAD_LIST_POSTS")},LOAD_PAGE_POSTS:async({commit:e,rootState:t,dispatch:s,getters:o},{direction:r,addCurrentPost:i})=>{const n=o.GET_CURSORS(r),a=o.GET_API_INFO,{data:c,url:l}=await L.Z.getListPosts(a,n);return i&&c.post&&s("ADD_POST",{data:c.post,url:l}),c.nextPosts&&s("SET_NEXT_POSTS",{posts:c.nextPosts,cursor:c.nextCursor,url:l}),c.prevPosts&&s("SET_PREV_POSTS",{posts:c.prevPosts,cursor:c.prevCursor,url:l}),n&&s("UPDATE_LOAD_COUNT",c.nextCursor),c},INIT_PAGE_POSTS:async({commit:e,dispatch:t},s)=>{const{post:o,nextPosts:r,nextCursor:i,prevPosts:n,prevCursor:a}=s;o&&t("ADD_POST",{data:o}),r&&t("SET_NEXT_POSTS",{posts:r,cursor:i}),n&&t("SET_PREV_POSTS",{posts:n,cursor:a})},LOAD_LIST_POSTS:async({rootState:e,dispatch:t,getters:s})=>{const o=s.GET_CURSORS("next"),r=s.GET_API_INFO;let{data:i,url:n}=await L.Z.getListPosts(r,o);return t("SET_NEXT_POSTS",{posts:i.posts,cursor:i.nextCursor,url:n}),o&&t("UPDATE_LOAD_COUNT",i.nextCursor),i.featuredAds&&t("SET_FEATURED_ADS",i.featuredAds),{data:i,url:n}},INIT_LIST_POSTS:async({commit:e,dispatch:t,getters:s},{data:o,hydrate:r=!1})=>{const{posts:i,nextCursor:n,group:a,tags:l,tag:d,profile:u,featuredAds:p}=o,h=s.GET_API_INFO.url;r&&i&&t("SET_NEXT_POSTS",{posts:i,cursor:n}),a&&t(`section/${c.bQ.ADD_SECTION}`,a,{root:!0}),l&&e("tag/SET_TAGS",{tags:l,key:h},{root:!0}),d&&e("tag/SET_TAG_NAV",{tagNav:d,key:h},{root:!0}),u&&e("profile/ADD_PROFILE",u,{root:!0}),p&&t("SET_FEATURED_ADS",p)},UPDATE_LOAD_COUNT:({commit:e,getters:t},s)=>{const o=t.LOAD_COUNT,r=t.GET_API_INFO,i=s?"LoadList":"LoadListEnd",n=r.pageKey;N.default.track("PostList",i,n,"",{LoadedCount:o}),e("UPDATE_LOAD_COUNT",{loadCount:o+1,apiInfo:r})},UPDATE_VOTE_COUNT:({getters:e,commit:t},{postId:s,currentScore:o,newScore:r})=>{const i=e.GET_POST(s);i&&i.hasOwnProperty("id")&&t("UPDATE_VOTE_COUNT",V(V({},i),x.recalculateVote(i,o,r)))},SET_CURRENT_API_INFO:({commit:e,dispatch:t},s)=>{e("SET_CURRENT_API_INFO",s),t("SET_NEXT_API_INFO",null)},SET_NEXT_API_INFO:({commit:e},t)=>{e("SET_NEXT_API_INFO",t)},UPDATE_POST_AUTO_PLAY:async({commit:e},t)=>{e("UPDATE_POST_AUTO_PLAY",t)}}}}(),user:Oo(Oo({},{namespaced:!0,state:z(z({init:!1},Y),{},{uninterestedPosts:[]}),getters:{IS_LOGGED_IN:e=>null!==e.user.username,USER_ID:e=>e.user.userId,RESTRICTED:e=>e.user.restricted,SAFE_MODE:e=>!0===e.user.safeMode,USER:e=>e.user,GET_USER_SCORE:e=>t=>e.votes[t]||0},mutations:{SET_INIT(e,t){e.init=t},SET_USER_INFO(e,t){const{user:s,reports:o,votes:r,uploads:i}=t;s&&(e.user=s),o&&(e.reports=o),r&&(e.votes=r),i&&(e.uploads=i)},CLEAR_USER_INFO(e){Object.entries(Y).forEach((([t,s])=>{e[t]=s}))},ADD_UPLOAD(e,t){e.uploads.push(t)},ADD_REPORT(e,t){const{reports:s}=e;e.reports=((e,t)=>{const s=e.indexOf(t);return-1!==s&&e.splice(s,1),e.unshift(t),e.splice(1e3),e})(s,t)},ADD_VOTE(e,t){e.votes=z(z({},e.votes),t)},UPDATE_UNINTERESTED_POSTS(e){const t=[];for(const[s,o]of Object.entries(e.votes))-1===o&&t.push(s);e.uninterestedPosts=[...t,...e.reports].filter((t=>!e.uploads.includes(t)))}},actions:{async SET_INIT({commit:e}){e("SET_INIT",!0)},async SET_USER_INFO({commit:e,dispatch:t}){const s=await $.getUserInfo(),{user:o,"user-report":r,vote:i,"user-upload":n,"block-account":a}=s||{};e("SET_USER_INFO",{user:o,reports:r,votes:i,uploads:n}),i&&r&&t("UPDATE_UNINTERESTED_POSTS"),a&&t(`settings/${H.uO}`,a)},async CLEAR_USER_INFO({commit:e}){e("CLEAR_USER_INFO")},async UPDATE_SETTINGS({commit:e,state:t},s){const o=await $.updateSettings(s),{user:r}=o;return r&&e("SET_USER_INFO",{user:r}),o},UNLINK_ACCOUNT:async({commit:e},t)=>await $.unlinkAccount(t),async UPDATE_UNINTERESTED_POSTS({commit:e}){e("UPDATE_UNINTERESTED_POSTS")},async ADD_VOTE({commit:e},t){e("ADD_VOTE",t)},async ADD_REPORT({commit:e},t){e("ADD_REPORT",t)},ADD_UPLOAD({commit:e},t){e("ADD_UPLOAD",t)}}}),Ee),tag:{namespaced:!0,state:{tags:{},tagNavs:{}},getters:{TAGS(e,t,s){const o=L.Z.getApiInfo(s.route).url;return e.tags[o]||[]},TAG_NAV(e,t,s){const o=L.Z.getApiInfo(s.route).url;return e.tagNavs[o]||{}}},mutations:{SET_TAGS(e,{key:t,tags:s}){C(e.tags,t,s)},SET_TAG_NAV(e,{key:t,tagNav:s}){C(e.tagNavs,t,s)}},actions:{}},section:{namespaced:!0,state:te(te({},Q.state),{},{recentUploadSections:[]}),getters:te(te({},Q.getters),{},{GET_UPLOAD_SECTION:e=>t=>{let s=null;return e.sections[t]?s=e.sections[t]:e.geoSection&&e.geoSection.url===t&&(s=e.geoSection),s&&s.userUploadEnabled?s:null},GET_RECENT_UPLOAD_SECTIONS_URLS:(e,t)=>e.recentUploadSections.filter((t=>e.sections.hasOwnProperty(t)||e.localSections.hasOwnProperty(t)||e.geoSection.url===t))}),mutations:te(te({},Q.mutations),{},{addRecentUploadSection(e,t){let s=[];e.recentUploadSections.forEach((t=>{(e.sections[t]||e.localSections[t]||e.geoSection.url===t)&&s.push(t)}));const o=s.indexOf(t);-1===o?(s.length>=3&&(s=s.slice(0,2)),s.unshift(t)):s.unshift(s.splice(o,1)[0]),e.recentUploadSections=s}}),actions:te(te({},Q.actions),{},{ADD_RECENT_UPLOAD_SECTION({commit:e},t){e("addRecentUploadSection",t)}})},profile:{namespaced:!0,state:{profiles:{}},getters:{GET_PROFILE_BY_USERNAME:e=>t=>e.profiles[t.toLowerCase()]||{}},mutations:{ADD_PROFILE(e,t){C(e.profiles,t.username,t)}}},sidebar:{namespaced:!0,state:{featuredPosts:[],clickedPosts:[],clickedFeaturedCount:0,isFetchingFeaturedPosts:!1},getters:{},mutations:{SET_FEATURED_POSTS(e,t){if(e.clickedPosts&&e.clickedPosts.length>0){let s=0;for(let o=0;o<t.length;o++){const o=t[s].itemId;Array.isArray(e.clickedPosts)&&e.clickedPosts.includes(o)?(t.push(t.splice(s,1)[0]),e.clickedFeaturedCount+=1):s++}}e.featuredPosts=t},ADD_CLICKED_POST(e,t){if(Array.isArray(e.clickedPosts)&&!e.clickedPosts.includes(t)){if(e.clickedPosts.length>=20){const t=e.clickedPosts.shift();e.featuredPosts.includes(t)&&(e.clickedFeaturedCount-=1)}e.clickedPosts.push(t)}else e.clickedPosts=[t];e.clickedFeaturedCount+=1},SHUFFLE_FEATURED_POSTS(e){let t=e.featuredPosts,s=[];if(e.clickedFeaturedCount>0){const o=e.featuredPosts.length-e.clickedFeaturedCount;t=e.featuredPosts.slice(0,o),s=e.featuredPosts.slice(o)}e.featuredPosts=[...ae()(t),...s]},FETCHING_FEATURED_POSTS(e,t){e.isFetchingFeaturedPosts=t}},actions:{SET_FEATURED_POSTS:({commit:e})=>(e("FETCHING_FEATURED_POSTS",!0),ie.getFeaturedPosts().then((t=>{e("SET_FEATURED_POSTS",t.items),e("SHUFFLE_FEATURED_POSTS"),e("FETCHING_FEATURED_POSTS",!1)})).catch((t=>{e("FETCHING_FEATURED_POSTS",!1)}))),ADD_CLICKED_POST({commit:e,state:t},s){e("ADD_CLICKED_POST",s),e("SET_FEATURED_POSTS",t.featuredPosts)},SHUFFLE_FEATURED_POSTS({commit:e}){e("SHUFFLE_FEATURED_POSTS")}}},noti:{namespaced:!0,state:{items:[],itemIds:[],readIds:[],nextKey:"",didEndOfList:!1,readState:{lastReadTimestamp:null,unreadCount:0},isMentionsTab:!1,showDropdown:!1},getters:{NOTI_ITEMS:e=>e.isMentionsTab?e.items.filter((e=>de.MENTION_TAB.includes(e.type))):e.items,NOTI_COUNT:e=>e.items.length,NOTI_UNREAD_COUNT:e=>p()(e,"readState.unreadCount",0),NOTI_OPTIONS:(e,t,s,o)=>{const r=o["config/GET_CONFIG"]("configs.noti.apiHost"),i=o["user/USER"]||{};return{readStateUrl:r?`https://${r}/v1/read-state.json`:null,readStateParams:p()(i,"notiOptions.readStateParams",null),pushChannels:p()(i,"notiOptions.channels",[])}}},mutations:{SET_NOTI(e,t){const{items:s,nextKey:o,didEndOfList:r}=t;s.forEach((t=>{e.itemIds.includes(t.id)||(e.items.push(t),e.itemIds.push(t.id))})),e.nextKey=o,e.didEndOfList=r},ADD_READ_ITEM(e,t){e.readIds.push(t)},SET_MENTIONS_TAB(e,t){e.isMentionsTab=t},SHOW_DROPDOWN(e){e.showDropdown=!0},HIDE_DROPDOWN(e){e.showDropdown=!1},SET_READ_STATE(e,t){e.readState=t},UPDATE_READ_STATE(e){const t=ue.getCurrentTime();C(e.readState,"lastReadTimestamp",t),C(e.readState,"unreadCount",0)},RESET_NOTI_LIST(e){e.items=[],e.itemIds=[],e.nextKey="",e.didEndOfList=!1}},actions:{async LOAD_NOTI({commit:e,state:t}){if(t.didEndOfList||!t.showDropdown)return;const s={};t.nextKey&&""!==t.nextKey&&(s.refKey=t.nextKey);const o=await le.getNoti(s);e("SET_NOTI",o),e("post/ADD_POSTS",o.posts,{root:!0})},async REFRESH_NOTI({commit:e,dispatch:t}){e("RESET_NOTI_LIST"),t("LOAD_NOTI")},SET_INDIVIDUAL_NOTI_READ_STATE({commit:e},t){le.setNotiReadState(t),e("ADD_READ_ITEM",t.itemKeys)},UPDATE_NOTI_READ_STATE({commit:e,getters:t}){const s=t.NOTI_OPTIONS;le.updateNotiUnreadCount(s),e("UPDATE_READ_STATE")},SET__IS_DROPDOWN_OPENED:({commit:e},t)=>{e(t?"SHOW_DROPDOWN":"HIDE_DROPDOWN")}}},toast:{namespaced:!0,state:{showToast:!1,toastType:pe.default.INFO,toastMsg:"",linkTitle:"View",toastLink:null,toastAction:null,dismissTimeout:null},mutations:{displayToast(e,t){const{type:s,msg:o,linkTitle:r="View",link:i=null,toastAction:n=null}=t;e.toastType=s,e.toastMsg=o,e.showToast=!0,e.linkTitle=r,e.toastLink=i,e.toastAction=n},setDismissTimeout(e,t){e.dismissTimeout=t},dismissToast(e){e.showToast=!1}},actions:{[c.ot.DISPLAY_TOAST]({commit:e,dispatch:t,state:s},o){s.dismissTimeout&&(clearTimeout(s.dismissTimeout),e("setDismissTimeout",null)),e("displayToast",o);const{dismiss:r=!0}=o;r&&e("setDismissTimeout",setTimeout(t.bind(null,c.ot.DISMISS_TOAST),5e3))},[c.ot.DISMISS_TOAST]({commit:e}){e("dismissToast")}}},commentSystem:mo,boards:rs,attachments:Os,modal:_s,toasts:Es},strict:!1,plugins:bo})},3656:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o={HOT:"hot",FRESH:"fresh",TRENDING:"trending",OVERVIEW:"overview",POSTS:"posts",LIKES:"likes",COMMENTS:"comments"}},1487:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s(4949);function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const n={POST_PAGE:"PostPage",EMBED_COMMENT:"EmbedComment",USER_POST_LIST:"UserPostList",TAG_POST_LIST:"TagPostList",SEARCH_POST_LIST:"SearchPostList",POST_LIST:"PostList",SECTION_LIST:"SectionList",INTEREST_LIST:"InterestList",HOT_POST_LIST:"HotPostList",SECTION_POST_LIST:"SectionPostList",LOGIN_PAGE:"LoginPage",SIGNUP_PAGE:"SignupPage",SETTINGS:"Settings",FORGOT_PASSWORD:"ForgotPassword",SOCIAL_TRANSFER:"SocialTransfer",DELETE_ACCOUNT:"DeleteAccount",DONATE:"Donate",UPLOAD:"Upload",NOTIFICATIONS:"Notifications"},a=i(i({},n),{},{MAIN_LISTS:[n.POST_LIST,n.SECTION_LIST,n.INTEREST_LIST,n.HOT_POST_LIST,n.SECTION_POST_LIST],LIST_VIEWS:[n.USER_POST_LIST,n.TAG_POST_LIST,n.SEARCH_POST_LIST,n.POST_LIST,n.SECTION_LIST,n.INTEREST_LIST,n.HOT_POST_LIST,n.SECTION_POST_LIST],MEMBER_VIEWS:[n.LOGIN_PAGE,n.SIGNUP_PAGE,n.FORGOT_PASSWORD,n.SOCIAL_TRANSFER,n.DELETE_ACCOUNT]})},9200:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s(4279);const r=new(s.n(o)()),i={$on:r.on,$off:r.off,$emit:r.emit}},9746:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,"div[data-v-15c8f3f2]{background:#fff;padding:20px 0}",""]),e.exports=o},1869:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,'.board-system__right-part[data-v-0e1d61b6]{width:399px}.board-system__wrapper[data-v-0e1d61b6]{position:fixed;right:60px;bottom:0;background:#fff;-webkit-border-radius:4px 4px 0px 0px;border-radius:4px 4px 0px 0px;border:1px solid rgba(0,0,0,.1);-webkit-box-shadow:0px 8px 16px rgba(0,0,0,.2),0px 4px 4px rgba(0,0,0,.25);box-shadow:0px 8px 16px rgba(0,0,0,.2),0px 4px 4px rgba(0,0,0,.25);width:720px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;z-index:12;overflow:hidden}body.theme-dark .board-system__wrapper[data-v-0e1d61b6]{background:#141414;-webkit-box-shadow:"0px 8px 16px rgba(255, 255, 255, 0.2), 0px 4px 4px rgba(255, 255, 255, 0.25)";box-shadow:"0px 8px 16px rgba(255, 255, 255, 0.2), 0px 4px 4px rgba(255, 255, 255, 0.25)";border:1px solid rgba(255,255,255,.1)}.board-system__wrapper.board-system__state_opened[data-v-0e1d61b6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:50vh;min-height:480px}.board-system__wrapper.board-system__state_closed[data-v-0e1d61b6]{display:block;width:192px;height:48px;padding:14px 16px}.board-system__wrapper .board-system__left_part[data-v-0e1d61b6]{border-right:1px solid #e5e5e5;background:#fff;width:319px;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}body.theme-dark .board-system__wrapper .board-system__left_part[data-v-0e1d61b6]{background:#141414;border-right:1px solid #333}',""]),e.exports=o},632:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,".board-system{color:#000}.board-system *{-webkit-box-sizing:border-box;box-sizing:border-box}body.theme-dark .board-system{color:#fff}.action-button{padding:0;background:none;border:none;cursor:pointer;width:32px}.action-button:active,.action-button:focus{outline:none}",""]),e.exports=o},9908:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,".action-button-close[data-v-e2895a56]{margin-right:0}.action-button .icon-close[data-v-e2895a56]{margin-top:12px}.action-button .icon-refresh[data-v-e2895a56]{margin-top:4px}",""]),e.exports=o},5069:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,".minimized-panel[data-v-002f586b]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;cursor:pointer}.minimized-panel__new-messages[data-v-002f586b]{width:19px;height:19px;background:#ff3b30;-webkit-border-radius:50%;border-radius:50%;display:inline-block;vertical-align:middle;margin:-4px 0 0 5px}.minimized-panel__expand[data-v-002f586b]{margin-top:5px}",""]),e.exports=o},1781:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,".board-system__too-nav-button[data-v-0730717f]{display:block;width:36px;height:36px;float:left;overflow:hidden;margin-right:8px;cursor:pointer;border:none;position:relative;background:none;color:#999;-webkit-border-radius:20px;border-radius:20px;padding-top:5px}.board-system__too-nav-button[data-v-0730717f]:hover{background-color:rgba(0,0,0,.06)}body.theme-dark .board-system__too-nav-button[data-v-0730717f]:hover{background-color:rgba(255,255,255,.1)}.board-system__too-nav-button[data-v-0730717f]:active{background-color:rgba(0,0,0,.1)}body.theme-dark .board-system__too-nav-button[data-v-0730717f]:active{background-color:rgba(255,255,255,.2)}.board-system__too-nav-button.active[data-v-0730717f]{color:#000;background-color:rgba(0,0,0,.1)}body.theme-dark .board-system__too-nav-button.active[data-v-0730717f]{color:#fff;background-color:rgba(255,255,255,.2)}.board-system__too-nav-button[data-v-0730717f]:active,.board-system__too-nav-button[data-v-0730717f]:focus{outline:none}.board-system__new-messages[data-v-0730717f]{width:12px;height:12px;background:#ff3b30;border:2px solid #fff;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:50%;border-radius:50%;position:absolute;top:4px;right:4px}body.theme-dark .board-system__new-messages[data-v-0730717f]{border-color:#000}",""]),e.exports=o},1837:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,"svg[data-v-62717f6e]{-webkit-animation:2s linear infinite svg-animation-62717f6e;animation:2s linear infinite svg-animation-62717f6e;max-width:100px}@-webkit-keyframes svg-animation-62717f6e{0%{-webkit-transform:rotateZ(0deg);transform:rotateZ(0deg)}100%{-webkit-transform:rotateZ(360deg);transform:rotateZ(360deg)}}@keyframes svg-animation-62717f6e{0%{-webkit-transform:rotateZ(0deg);transform:rotateZ(0deg)}100%{-webkit-transform:rotateZ(360deg);transform:rotateZ(360deg)}}circle[data-v-62717f6e]{-webkit-animation:1.4s ease-in-out infinite both circle-animation-62717f6e;animation:1.4s ease-in-out infinite both circle-animation-62717f6e;display:block;fill:transparent;stroke:currentColor;stroke-linecap:round;stroke-dasharray:283;stroke-dashoffset:280;stroke-width:10px;-webkit-transform-origin:50% 50%;-ms-transform-origin:50% 50%;transform-origin:50% 50%}@-webkit-keyframes circle-animation-62717f6e{0%,25%{stroke-dashoffset:280;-webkit-transform:rotate(0);transform:rotate(0)}50%,75%{stroke-dashoffset:75;-webkit-transform:rotate(45deg);transform:rotate(45deg)}100%{stroke-dashoffset:280;-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes circle-animation-62717f6e{0%,25%{stroke-dashoffset:280;-webkit-transform:rotate(0);transform:rotate(0)}50%,75%{stroke-dashoffset:75;-webkit-transform:rotate(45deg);transform:rotate(45deg)}100%{stroke-dashoffset:280;-webkit-transform:rotate(360deg);transform:rotate(360deg)}}",""]),e.exports=o},1439:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,".sensitive-mask[data-v-755bef87]{text-align:center;padding:24px 16px;z-index:0}.sensitive-mask__content h4[data-v-755bef87]{font-style:normal;font-weight:bold;text-align:center;font-size:18px;line-height:22px;color:#000;margin-bottom:4px}body.theme-dark .sensitive-mask__content h4[data-v-755bef87]{color:#fff}.sensitive-mask__content p[data-v-755bef87]{font-style:normal;font-weight:normal;font-size:14px;line-height:20px;color:#999;text-align:center;margin-bottom:16px}.sensitive-mask__content p span[data-v-755bef87]{display:block;padding:0 4px}body.theme-dark .sensitive-mask__content p[data-v-755bef87]{color:gray}.sensitive-mask__content__link[data-v-755bef87]{cursor:pointer;width:auto;border:none;color:#0277ff;-webkit-box-shadow:none !important;box-shadow:none !important;background:transparent !important;-webkit-tap-highlight-color:transparent;outline:none}.sensitive-mask__content__btn[data-v-755bef87]{cursor:pointer;display:inline-block;padding:8px 16px;font-weight:700;background:rgba(0,0,0,.06);-webkit-border-radius:4px;border-radius:4px;border:none;color:#000;width:auto}body.theme-dark .sensitive-mask__content__btn[data-v-755bef87]{color:#fff;background:rgba(255,255,255,.12)}body.theme-dark .sensitive-mask__content[data-v-755bef87]{color:#fff}",""]),e.exports=o},6805:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,".blocked-profile[data-v-3b7d62f9]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;text-align:center;margin-top:60px}.blocked-profile_heading[data-v-3b7d62f9]{font-style:normal;font-weight:bold;font-size:20px;line-height:24px;color:#999}.blocked-profile_caption[data-v-3b7d62f9]{font-style:normal;font-weight:normal;font-size:14px;line-height:20px;color:#999;margin-top:8px}",""]),e.exports=o},3076:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,".billboard[data-v-fb1271e6]{width:970px;background-color:#f4f4f480;margin-top:-16px;margin-bottom:16px;-webkit-transform:scaleY(1);-ms-transform:scaleY(1);transform:scaleY(1);-webkit-transition:opacity .3s ease;-o-transition:opacity .3s ease;transition:opacity .3s ease;-webkit-transform-origin:top;-ms-transform-origin:top;transform-origin:top}body.theme-dark .billboard[data-v-fb1271e6]{background-color:rgba(255,255,255,.1)}.billboard.sticky[data-v-fb1271e6]{position:-webkit-sticky;position:sticky;z-index:13;top:var(--a18d0e7a);opacity:var(--090a4879)}.billboard div[data-v-fb1271e6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:970px;height:250px;-webkit-transition:height .3s ease-out;-o-transition:height .3s ease-out;transition:height .3s ease-out}",""]),e.exports=o},3471:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,".post-view.featured-video iframe,.post-view.featured-video .vi-stories-player-container{-webkit-border-radius:4px;border-radius:4px}",""]),e.exports=o},6139:(e,t,s)=>{var o=s(3645),r=s(1667),i=s(409),n=o((function(e){return e[1]})),a=r(i);n.push([e.id,".drawer[data-v-3b27b023]{margin-top:0;width:240px;height:-webkit-calc(100% - 48px);height:calc(100% - 48px);position:fixed;overflow:hidden;-ms-scroll-chaining:none;overscroll-behavior:contain;background-color:#fff}body.theme-dark .drawer[data-v-3b27b023]{background-color:#000;border-color:rgba(255,255,255,.2)}.drawer.overlay[data-v-3b27b023]{left:0;border-right:1px solid rgba(0,0,0,.1);height:100%;z-index:14}.drawer .drawer-header[data-v-3b27b023]{background-color:#fff;width:240px;z-index:14;position:fixed;border-bottom:1px solid rgba(0,0,0,.1)}body.theme-dark .drawer .drawer-header[data-v-3b27b023]{background-color:#000;border-color:rgba(255,255,255,.2)}.drawer .drawer-container[data-v-3b27b023]{width:100%;height:100%;overflow-y:scroll;will-change:transform;padding-right:16px}.drawer .drawer-container[data-v-3b27b023]::-webkit-scrollbar{width:0;opacity:0}.drawer .drawer-container.overlay[data-v-3b27b023]{margin-top:48px;height:-webkit-calc(100% - 48px);height:calc(100% - 48px)}.drawer-overlay[data-v-3b27b023]{background-color:rgba(0,0,0,.4);z-index:13;width:100%;height:100%;position:fixed}[data-v-3b27b023] section{margin:4px 0 8px}[data-v-3b27b023] section header{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative}[data-v-3b27b023] section header h3{line-height:24px;height:20px;padding:6px 16px;color:#999;font-size:14px;font-weight:700;width:100%}[data-v-3b27b023] section header .button-clear{font-weight:700;font-size:14px;padding:6px 16px;color:#999}[data-v-3b27b023] .label{color:#000;font-size:14px;height:32px;line-height:20px;padding:6px 48px;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;position:relative;-webkit-border-radius:2px;border-radius:2px;-webkit-transition:background-color .15s,padding-right .15s;-o-transition:background-color .15s,padding-right .15s;transition:background-color .15s,padding-right .15s;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}[data-v-3b27b023] .label.short{padding:6px 80px 6px 48px}[data-v-3b27b023] li{position:relative}[data-v-3b27b023] li.selected .label{background-color:rgba(0,0,0,.06)}[data-v-3b27b023] li:hover .label{background-color:rgba(0,0,0,.1)}[data-v-3b27b023] li:active .label{background-color:rgba(0,0,0,.2)}[data-v-3b27b023] li:active .button .icon{opacity:.4}[data-v-3b27b023] .icon{position:absolute;width:24px;height:24px;background-size:144px 48px;background-image:url("+a+");top:50%;margin-top:-12px}[data-v-3b27b023] .button{position:absolute;width:36px;height:32px;display:block;right:0;top:0;-webkit-transition:opacity .15s;-o-transition:opacity .15s;transition:opacity .15s;margin-right:12px}[data-v-3b27b023] .button .icon{opacity:.1;left:6px}[data-v-3b27b023] .button .icon:hover{opacity:.2}",""]),e.exports=n},9371:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,".drawer-footer[data-v-342ea4ad]{padding:0 16px}.drawer-footer .static[data-v-342ea4ad]{font-size:12px;line-height:18px;color:#999;margin-bottom:8px}.drawer-footer a[data-v-342ea4ad]{color:#999;margin-right:4px;display:inline-block}.drawer-footer a[data-v-342ea4ad]:hover{color:#666}",""]),e.exports=o},6616:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,"body.theme-dark .label[data-v-1d880238]{color:#fff}.icon[data-v-1d880238]{left:0;margin-left:16px}body.theme-dark .icon[data-v-1d880238]{-webkit-filter:invert(100%);filter:invert(100%)}.icon.hot[data-v-1d880238]{background-position:0 0}.icon.trending[data-v-1d880238]{background-position:-24px -24px}.icon.fresh[data-v-1d880238]{background-position:-24px 0}body.theme-dark li.selected .label[data-v-1d880238]{background-color:rgba(255,255,255,.12)}body.theme-dark li:hover .label[data-v-1d880238]{background-color:rgba(255,255,255,.2)}body.theme-dark li:active .label[data-v-1d880238]{background-color:rgba(255,255,255,.3)}.thumbnail[data-v-1d880238]{position:absolute;width:24px;height:24px;background-color:rgba(0,0,0,.05);background-image:none;-webkit-border-radius:2px;border-radius:2px;overflow:hidden;left:0;top:50%;margin-top:-12px;margin-left:16px}.thumbnail img[data-v-1d880238]{display:block;width:100%;height:100%}",""]),e.exports=o},8436:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,'.button .icon.more[data-v-4440d510]{background-position:-96px 0}body.theme-dark .button .icon.more[data-v-4440d510]{-webkit-filter:invert(100%);filter:invert(100%);opacity:.3}body.theme-dark .button .icon.more[data-v-4440d510]:hover{opacity:.4}.button .icon.more.active[data-v-4440d510]{opacity:1}.menu[data-v-4440d510]{position:absolute;left:50%;margin-left:-60px;z-index:13;min-width:160px}ul[data-v-4440d510-s]{list-style-type:none;overflow:hidden;padding:4px 0;background-color:#fff;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.1);box-shadow:0 5px 10px rgba(0,0,0,.1);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:8px;border-radius:8px;border:1px solid rgba(0,0,0,.1)}body.theme-dark ul[data-v-4440d510-s]{background-color:#333;color:#fff}ul[data-v-4440d510-s] .selected a::after{background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjEgKDU3NTAxKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jaGVjazwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJjaGVjayIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBvbHlnb24gaWQ9IkNvbWJpbmVkLVNoYXBlIiBmaWxsPSIjOTk5OTk5IiBmaWxsLXJ1bGU9Im5vbnplcm8iIHBvaW50cz0iNi41MzU1MzM5MSA5LjA3MTA2NzgxIDExLjQ4NTI4MTQgNC4xMjEzMjAzNCAxMi44OTk0OTQ5IDUuNTM1NTMzOTEgNi41MzU1MzM5MSAxMS44OTk0OTQ5IDMgOC4zNjM5NjEwMyA0LjQxNDIxMzU2IDYuOTQ5NzQ3NDciPjwvcG9seWdvbj4KICAgIDwvZz4KPC9zdmc+") no-repeat;content:"";position:absolute;display:block;width:16px;height:16px;right:16px;top:50%;margin-top:-8px}ul[data-v-4440d510-s] a{display:block;color:#000;line-height:34px;padding:0 16px;font-size:14px;position:relative}body.theme-dark ul[data-v-4440d510-s] a{color:#fff}ul[data-v-4440d510-s] a:hover{background-color:rgba(0,0,0,.03);color:#000}body.theme-dark ul[data-v-4440d510-s] a:hover{background-color:rgba(255,255,255,.2)}ul[data-v-4440d510-s] a:active{background-color:rgba(0,0,0,.075)}',""]),e.exports=o},3796:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,"li .button .star[data-v-526f48cc]{background-position:-48px 0}body.theme-dark li .button .star[data-v-526f48cc]{-webkit-filter:invert(100%);filter:invert(100%)}li .button.remove[data-v-526f48cc]{right:32px;opacity:0}li .button.remove .close[data-v-526f48cc]{opacity:1;background-position:-120px 0;background-repeat:no-repeat}body.theme-dark li .button.remove .close[data-v-526f48cc]{-webkit-filter:invert(100%);filter:invert(100%)}li .button.remove .close[data-v-526f48cc]:hover{background-position-y:-24px}li .button.favorite .star[data-v-526f48cc]{background-position-y:-24px;opacity:1}body.theme-dark li .button.favorite .star[data-v-526f48cc]{-webkit-filter:none;filter:none}li .button.favorite .star[data-v-526f48cc]:hover{opacity:1}li:hover .button.remove[data-v-526f48cc]{opacity:1}",""]),e.exports=o},1490:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,".post-more-divider[data-v-845e83c0]{min-height:48px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid rgba(0,0,0,.1);margin-bottom:12px}.post-more-divider h4[data-v-845e83c0]{font-size:16px;font-style:normal;font-weight:700;line-height:19px;letter-spacing:0;text-align:left}body.theme-dark .post-more-divider[data-v-845e83c0]{border-bottom:1px solid rgba(255,255,255,.2)}",""]),e.exports=o},1610:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,".post-sensitive-mask[data-v-1c71fefa]{height:306px;background:#f4f4f4;color:#fff}.post-sensitive-mask__body[data-v-1c71fefa]{top:0;left:0;width:100%;height:100%;position:absolute;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;overflow:auto}body.theme-dark .post-sensitive-mask[data-v-1c71fefa]{background:#333 !important}",""]),e.exports=o},8338:(e,t,s)=>{var o=s(3645)((function(e){return e[1]}));o.push([e.id,".sticky-navbar[data-v-28b16781]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding-bottom:16px;background-color:#fff;z-index:2;width:inherit}body.theme-dark .sticky-navbar[data-v-28b16781]{background-color:#000;border-color:rgba(255,255,255,.2)}.sticky-navbar.sticky[data-v-28b16781]{position:-webkit-sticky;position:sticky;margin-top:-16px;border-bottom:1px solid rgba(0,0,0,.1)}.sticky-navbar a[data-v-28b16781]{display:block;height:36px;line-height:36px;margin-right:8px;color:#000;text-decoration:none;padding:0 16px;-webkit-border-radius:20px;border-radius:20px;text-align:center;font-weight:700;border:1px solid rgba(0,0,0,.1)}body.theme-dark .sticky-navbar a[data-v-28b16781]{color:#fff;border-color:rgba(255,255,255,.2)}.sticky-navbar a[data-v-28b16781]:hover{background-color:rgba(0,0,0,.06)}body.theme-dark .sticky-navbar a[data-v-28b16781]:hover{background-color:rgba(255,255,255,.12)}.sticky-navbar a[data-v-28b16781]:active{background-color:rgba(0,0,0,.1)}body.theme-dark .sticky-navbar a[data-v-28b16781]:active{background-color:rgba(255,255,255,.2)}.sticky-navbar a.selected[data-v-28b16781]{background-color:#000;color:#fff}body.theme-dark .sticky-navbar a.selected[data-v-28b16781]{color:#000;background-color:#fff}.sticky-navbar a.selected[data-v-28b16781]:hover{background-color:rgba(0,0,0,.8)}body.theme-dark .sticky-navbar a.selected[data-v-28b16781]:hover{background-color:rgba(255,255,255,.8)}",""]),e.exports=o},409:(e,t,s)=>{e.exports=s.p+"img/sprite-nav.png"},9257:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s(6252);const r={ref:"loadMore",style:{height:"1px"}};var i=s(2289),n=s(3279),a=s.n(n);const c={emits:["loadMore"],props:{threshold:{type:Number,default:500},root:{type:HTMLElement,default:null},overscroll:{type:Boolean,default:!1}},data:()=>({observer:null}),methods:{handler(e){(e[0]||{}).visibilityStatus===i.default.VISIBILITY_STATUS.enter&&this.$emit("loadMore")},reset(){this.observer.reset(),this.observer.observe(this.$refs.loadMore),this.overscroll&&this.overscrollLoadMore()},_overscrollLoadMore(){this.$refs.loadMore&&(window.scrollY<this.$refs.loadMore.offsetTop||this.$emit("loadMore"))}},created(){this.observer=new i.default.VisibilityObserver(this.handler,0,this.threshold,0,this.root),this.overscrollLoadMore=a()(this._overscrollLoadMore,500)},mounted(){this.observer.observe(this.$refs.loadMore)},beforeUnmount(){this.observer.destroy()},render:function(e,t,s,i,n,a){return(0,o.wg)(),(0,o.j4)("div",r,null,512)}}},9029:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var o=s(6252),r=s(8062);const i={data:()=>({html:""}),watch:{async content(e,t){e!==t&&await this.render()}},props:["content"],methods:{async render(){this.html="",this.content.length&&(this.html=await r.Z.render(this.content))}},async created(){await this.render()},render:function(e,t,s,r,i,n){return(0,o.wg)(),(0,o.j4)("div",{innerHTML:i.html},null,8,["innerHTML"])}}},4335:(e,t,s)=>{"use strict";s.d(t,{Z:()=>w});var o=s(6252),r=s(9963);const i=(0,o.HX)("data-v-e2895a56"),n=i(((e,t,s,n,a,c)=>{const l=(0,o.up)("IconBase");return(0,o.wg)(),(0,o.j4)("button",{class:["action-button",`action-button-${s.variant}`],onClick:t[1]||(t[1]=(0,r.iM)(((...e)=>c.action&&c.action(...e)),["stop"]))},[(0,o.Wm)(l,{height:c.height,class:`icon-${s.variant}`},{default:i((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(c.icon)))])),_:1},8,["height","class"])],2)}));var a=s(4949),c=s(2204),l=s(7153);const d={d:"M10.59 1.52588e-05L12 1.41002L6 7.41002L0 1.41002L1.41 1.52588e-05L6 4.58002L10.59 1.52588e-05Z",fill:"#999999"},u={render:function(e,t){return(0,o.wg)(),(0,o.j4)("path",d)}},p={d:"M13.65 2.35C12.2 0.9 10.21 0 8.00001 0C3.58001 0 0.0100098 3.58 0.0100098 8C0.0100098 12.42 3.58001 16 8.00001 16C11.73 16 14.84 13.45 15.73 10H13.65C12.83 12.33 10.61 14 8.00001 14C4.69001 14 2.00001 11.31 2.00001 8C2.00001 4.69 4.69001 2 8.00001 2C9.66001 2 11.14 2.69 12.22 3.78L9.00001 7H16V0L13.65 2.35Z",fill:"#999999"},h={render:function(e,t){return(0,o.wg)(),(0,o.j4)("path",p)}};var m=s(3257),g=s(1836),f=s(2428),y=s(5381),O=s(5652).default;function b(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(Object(s),!0).forEach((function(t){(0,a.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapState:v,mapActions:S}=(0,c._p)("boards"),T={name:"BoardsViewModeAction",props:{variant:{type:String,required:!0,validate:e=>-1!==[g.$6,g.Z2].indexOf(e)}},components:{IconBase:l.Z,IconCollapse:u,IconRefresh:h},computed:_(_({},v({boardState:e=>e.boardState,boardID:e=>e.focusedBoardID})),{},{icon(){return this.variant===g.$6?"IconCollapse":"IconRefresh"},height:()=>16}),methods:_(_({},S({setBoardState:f.M_,resetConversation:f.aT})),{},{async action(){return this.variant===g.$6?(O.track(m.R.BOARD,m.e.TAP_CLOSE),await this.setBoardState(y.Yn)):this.variant===g.Z2?(O.track(m.R.BOARD,m.e.TAP_REFRESH),await this.resetConversation(this.boardID)):void 0}})};s(9469),T.render=n,T.__scopeId="data-v-e2895a56";const w=T},7153:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s(6252);const r={name:"IconBase",props:{width:{type:[Number,String],default:16},height:{type:[Number,String],default:16},iconColor:{type:String,default:"currentColor"},disabledColor:{type:String,default:""}},render:function(e,t,s,r,i,n){return(0,o.wg)(),(0,o.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",width:s.width,height:s.height,viewBox:`0 0 ${s.width} ${s.height}`,role:"presentation"},[(0,o.Wm)("g",{fill:s.disabledColor||s.iconColor},[(0,o.WI)(e.$slots,"default")],8,["fill"])],8,["width","height","viewBox"])}}},1748:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s(6252);const r=(0,o.HX)("data-v-62717f6e");(0,o.dD)("data-v-62717f6e");const i=(0,o.Wm)("circle",{cx:"50",cy:"50",r:"45"},null,-1);(0,o.Cn)();const n=r(((e,t,s,r,n,a)=>((0,o.wg)(),(0,o.j4)("svg",{viewBox:"0 0 100 100",width:s.radius,height:s.radius,xmlns:"http://www.w3.org/2000/svg"},[i],8,["width","height"])))),a={name:"IconSpinnerAnimated",props:{radius:{required:!0,type:Number}}};s(5366),a.render=n,a.__scopeId="data-v-62717f6e";const c=a},6844:(e,t,s)=>{"use strict";s.d(t,{Z:()=>O});var o=s(6252),r=s(9963);const i=(0,o.HX)("data-v-755bef87");(0,o.dD)("data-v-755bef87");const n={class:"sensitive-mask"},a={class:"sensitive-mask__content"},c=(0,o.Wm)("h4",null,"Sensitive content",-1),l=(0,o.Wm)("span",null," The following media includes potentially sensitive content. ",-1);(0,o.Cn)();const d=i(((e,t,s,i,d,u)=>((0,o.wg)(),(0,o.j4)("div",n,[(0,o.Wm)("div",a,[c,(0,o.Wm)("p",null,[l,(0,o.Wm)("span",{class:"sensitive-mask__content__link",onClick:t[1]||(t[1]=(0,r.iM)(((...e)=>u.onSettingsClick&&u.onSettingsClick(...e)),["stop"]))}," Change settings ")]),(0,o.Wm)("span",{class:"sensitive-mask__content__btn",onClick:t[2]||(t[2]=(0,r.iM)(((...e)=>u.onUnmask&&u.onUnmask(...e)),["stop"]))},"View")])]))));var u=s(4949),p=s(2204),h=s(24);function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function g(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){(0,u.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const{mapActions:f}=(0,p._p)("session"),y={props:["maskId"],methods:g(g({},f({unmaskSensitive:h.R5.UNMASK_SENSITIVE})),{},{onUnmask(){this.unmaskSensitive(this.maskId),this.$emit("onUnmask")},onSettingsClick(){this.$emit("onSettingsClick")}})};s(4140),y.render=d,y.__scopeId="data-v-755bef87";const O=y},4039:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var o=s(6252);const r={key:0},i={class:"block-ad"};var n=s(4949),a=s(2204);function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}const{mapGetters:l}=(0,a._p)("app"),d={emits:["observeAd","unobserveAd"],props:{adContainers:Array},watch:{$route(){this.observeAds()},showAds(){this.observeAds()}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){(0,n.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},l({showAds:"SHOW_ADS"})),methods:{getAdRef(e){return this.$refs[e]||null},observeAds(){this.adContainers.forEach((e=>{const t=this.getAdRef(e.adContainerId);t&&this.$emit("observeAd",t,e)}))},destroyAds(){this.adContainers.forEach((e=>{const t=this.getAdRef(e.adContainerId);t&&this.$emit("unobserveAd",t,e)}))}},mounted(){this.observeAds()},beforeUnmount(){this.destroyAds()},render:function(e,t,s,n,a,c){return e.showAds?((0,o.wg)(),(0,o.j4)("div",r,[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(s.adContainers,(e=>((0,o.wg)(),(0,o.j4)("section",i,[(0,o.Wm)("div",{id:e.adContainerId,ref:e.adContainerId,class:"img-container"},null,8,["id"])])))),256))])):(0,o.ry)("",!0)}}},2169:(e,t,s)=>{var o=s(9746);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("c5024bee",o,!0,{})},3092:(e,t,s)=>{var o=s(1869);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("694ca572",o,!0,{})},2172:(e,t,s)=>{var o=s(632);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("c000d7c4",o,!0,{})},9469:(e,t,s)=>{var o=s(9908);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("662ed2b6",o,!0,{})},4722:(e,t,s)=>{var o=s(5069);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("382e4c70",o,!0,{})},9476:(e,t,s)=>{var o=s(1781);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("136aca96",o,!0,{})},5366:(e,t,s)=>{var o=s(1837);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("a93c51b6",o,!0,{})},4140:(e,t,s)=>{var o=s(1439);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("6c9b1196",o,!0,{})},5929:(e,t,s)=>{var o=s(6805);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("9b18a898",o,!0,{})},4504:(e,t,s)=>{var o=s(3076);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("591d1bae",o,!0,{})},7700:(e,t,s)=>{var o=s(3471);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("950bbb36",o,!0,{})},4018:(e,t,s)=>{var o=s(6139);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("03514daa",o,!0,{})},5842:(e,t,s)=>{var o=s(9371);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("e313288e",o,!0,{})},3152:(e,t,s)=>{var o=s(6616);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("6ba93b57",o,!0,{})},143:(e,t,s)=>{var o=s(8436);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("474eb1ed",o,!0,{})},1853:(e,t,s)=>{var o=s(3796);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("8a4b271c",o,!0,{})},1742:(e,t,s)=>{var o=s(1490);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("ad06113c",o,!0,{})},9501:(e,t,s)=>{var o=s(1610);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("9a4271d4",o,!0,{})},5829:(e,t,s)=>{var o=s(8338);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,s(5346).Z)("05d5b386",o,!0,{})}},e=>{"use strict";var t=t=>e(e.s=t);e.O(void 0,[999],(()=>(t(3063),t(2025),t(7586),t(7626))))}]);
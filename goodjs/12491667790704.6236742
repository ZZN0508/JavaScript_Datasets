!function(n){var r={};function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=26)}([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){try{var e=parseInt(t,10);if(!isNaN(e))return!(e<=0)&&(100<=e||100*Math.random()<=e)}catch(t){}return!1}function i(t,e){var n=parseInt(e,10),r=[],o=0;if(!u(t))return r;if(isNaN(n)||n<1)return[t];for(var i=t.length;o<i;){var c=o;o+=n,r.push(t.slice(c,o))}return r}function c(){return"".concat(Math.round(1e12*Math.random())).concat(Date.now())}function a(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=new Array(t),r=0;r<t;r++)n[r]=e[Math.floor(Math.random()*e.length)];return n.join("")}function s(t){return"object"===r(t)&&null!==t}function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t,e){return s(t)&&void 0!==t[e]&&""!==t[e]}function b(){var t="amzn_lsTest";try{return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}function l(t,e){return-1!==t.indexOf(e)}function f(){return document.cookie.split("; ").map(function(t){return t.split("=")})}function p(t){var e=new Date;return e.setDate(e.getDate()+t),e.toUTCString()}function m(t){try{var e=t.innerWidth||t.document.documentElement.clientWidth||t.document.body.clientWidth,n=t.innerHeight||t.document.documentElement.clientHeight||t.document.body.clientHeight;return"".concat(e,"x").concat(n)}catch(t){}return"x"}function g(t,e){return decodeURIComponent(t).split("?")[0].split("#")[0]===decodeURIComponent(e).split("?")[0].split("#")[0]}function y(e){var t=Object.keys(e);return t.filter(function(t){return e[t]}).length===t.length}n.d(e,"n",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return a}),n.d(e,"l",function(){return s}),n.d(e,"k",function(){return u}),n.d(e,"m",function(){return d}),n.d(e,"i",function(){return b}),n.d(e,"j",function(){return l}),n.d(e,"d",function(){return f}),n.d(e,"g",function(){return p}),n.d(e,"h",function(){return m}),n.d(e,"b",function(){return g}),n.d(e,"a",function(){return y})},function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"c",function(){return r}),n.d(e,"d",function(){return b}),n.d(e,"a",function(){return l});var e=n(0),o=n(3),i=n(2),c=n(5),a=n(6),s=Object(e.n)(10),u=[];function d(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];try{(n||Object(c.d)("errors"))&&console.error(t);var r={ts:Date.now(),url:encodeURIComponent(Object(a.g)(window)),r:encodeURIComponent(Object(a.h)(window)),_type:"apsLibraryError",e:{et:t.name,el:e,msg:t.message}};return u.push(r),i.a.dispatch({type:"LOG_ERROR",error:r}),!!s&&(Object(o.b)(r),!0)}catch(t){console.error(t)}return!1}function r(t,e,n){var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return d({name:e,message:"".concat(t," was of type '").concat(e,"' instead of '").concat(n,"'")},"TypeError-".concat(t),r)}function b(t,e){return function(){try{return t.apply(null,arguments)}catch(t){return d(t,e,!0),null}}}function l(t){(1<arguments.length&&void 0!==arguments[1]&&arguments[1]||Object(c.d)("errors"))&&console.warn(t)}!0===Object(c.c)("exposeErrors")&&(window.apstagErrors=u)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n(4),c=n(0),n=n(5);function o(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t){if(t){if("string"==typeof t)return d(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?d(t,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(){var n,t,e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{AAXReqs:[],aaxViewabilityEnabled:!1,bidConfigs:{},bidReqs:{},bsPixels:{},cfg:{v:-1,CSM_JS:"//c.amazon-adsystem.com/aax2/csm.js.gz",CSM_RTB_COMMUNICATOR_JS:"//c.amazon-adsystem.com/bao-csm/aps-comm/aps_csm.js",DEBUG_APP_HTML:"//c.amazon-adsystem.com/aax2/debugApp.html",DEBUG_APP_HTML_V2:"//c.amazon-adsystem.com/aax2/debug_app_v2.html",DEFAULT_TIMEOUT:2e3,DTB_PATH:"/e/dtb",TEST_PATH_FREQUENCY:0,TEST_BID_ENDPOINT:null,TEST_PATH_LATENCY_SAMPLE_RATE:null,PIXEL_PATH:"/x/px/",LATENCY_SAMPLING_RATE:1,COOKIE_MATCH_DELAY:0,MAX_SLOTS_PER_REQUEST:1,CF_ROUTING_RATE:100,SLOT_RENDER_SAMPLING_RATE:1,FEATURE_SAMPLING_RATE:1,CONFIG_CALL_ENABLED:!1,LIB_CONFIG_PATH:"/cdn/prod/config"},cmpFired:!1,config:{pubID:""},displayAdServer:{noBidSlotIDs:[],shouldSampleRender:!1,slotRenderEndedSet:!1},errors:[],eventLog:[],experiments:{},gamSlotFetchLog:[],gamSlotRenderPixel:{aaxReqOffset:0,gamSlotFetchLogOffset:0},hosts:{DEFAULT_AAX_BID_HOST:"aax.amazon-adsystem.com",DEFAULT_AAX_PIXEL_HOST:"aax.amazon-adsystem.com"},identityState:{},libraryLoadCallLatency:0,Q:[],slotBids:{},slotIdMap:[],sync917:!1,targetingKeys:{}},o=1<arguments.length?arguments[1]:void 0;return{AAXReqs:function(t,e){switch(e.type){case"RECORD_AAX_REQUEST":return[].concat(u(t),[e.data]);case"RECORD_AAX_REQ_PROP":return t.map(function(t){return(t=a({},t)).bidReqID===e.bidReqID&&(t[e.key]=e.value),t});default:return u(t)}}(r.AAXReqs,o),aaxViewabilityEnabled:(e=r.aaxViewabilityEnabled,"SET_VIEWABILITY"!==o.type?e:o.viewability),bidConfigs:(t=r.bidConfigs,"RECORD_ORIGINAL_BID_CONFIG"!==(e=o).type?a({},t):a(a({},t),{},s({},e.bidConfig.bidReqID,e.bidConfig))),bidReqs:function(t,e){var n;switch(e.type){case"ADD_CHUNKED_REQUESTS":return a(a({},t),{},s({},e.fid,a(a({},t[e.fid]),{},{networkReqs:new Array(e.numChunks)})));case"NEW_FETCH_BID_REQUEST":return a(a({},t),{},s({},e.fid,{pto:e.pto,hasCallbackExecuted:!1,networkReqs:[]}));case"RECORD_CALLBACK":return a(a({},t),{},s({},e.fid,a(a({},t[e.fid]),{},{hasCallbackExecuted:!0})));case"RECORD_NETWORK_EXCHANGE":var r=t[e.fid].networkReqs;return r[e.networkID]=a(a({},r[e.networkID]),{},(s(n={},"".concat(e.exchangeType,"Time"),e.timestamp),s(n,"inFlight","request"===e.exchangeType),n)),a(a({},t),{},s({},e.fid,a(a({},t[e.fid]),{},{networkReqs:r})));case"RECORD_TIMEOUT":return a(a({},t),{},s({},e.fid,a(a({},t[e.fid]),{},{networkReqs:t[e.fid].networkReqs.map(function(t){return t.inFlight?a(a({},t),{},{timeOut:e.timeOut}):t})})));default:return a({},t)}}(r.bidReqs,o),bsPixels:(t=r.bsPixels,"RECORD_BID_INFO_SENT"!==(e=o).type?a({},t):a(a({},t),{},s({},e.bidInfo.iid,e.bidInfo.state))),cfg:(t=r.cfg,"SET_CFG"!==(e=o).type?a({},t):a(a({},t),e.cfg)),cmpFired:(t=r.cmpFired,"CMP_FIRED"===o.type||t),config:(e=r.config,"SET_CONFIG"!==(t=o).type?a({},e):a(a({},t.config),{},{gdpr:a({cmpTimeout:t.defaultCmpTimeout},t.config.gdpr),isSelfServePub:void 0!==t.config.pubID&&5<=t.config.pubID.length})),displayAdServer:function(t,e){switch(e.type){case"SLOT_RENDER_ENDED_SET":return a(a({},t),{},{slotRenderEndedSet:!0});case"NO_BID_ON_ADSERVER_SLOTS":return a(a({},t),{},{noBidSlotIDs:t.noBidSlotIDs.concat(e.slotIDs)});case"REQUESTED_BID_FOR_ADSERVER_SLOTS":return a(a({},t),{},{noBidSlotIDs:t.noBidSlotIDs.filter(function(t){return!Object(c.j)(e.slotIDs,t)})});case"SHOULD_SAMPLE_SLOT_RENDER":return a(a({},t),{},{shouldSampleRender:e.value});default:return a(a({},t),{},{noBidSlotIDs:u(t.noBidSlotIDs)})}}(r.displayAdServer,o),errors:(e=r.errors,"LOG_ERROR"!==(t=o).type?u(e):[].concat(u(e),[a({},t.error)])),eventLog:(e=r.eventLog,"LOG_EVENT"!==(t=o).type?u(e):[].concat(u(e),[a({},t.event)])),experiments:function(t,e){switch(e.type){case"SHOULD_CHUNK_REQUESTS":return a({chunkRequests:!0===t.shouldSampleLatency&&e.value},t);case"SHOULD_CF_ROUTE":return a(a({},t),{},{shouldCFRoute:e.value});case"SHOULD_SAMPLE_LATENCY":return a(a({},t),{},{shouldSampleLatency:e.value});case"SHOULD_SAMPLE_FEATURES":return a(a({},t),{},{shouldSampleFeatures:e.value});case"SHOULD_USE_TEST_BID_ENDPOINT":return a(a({},t),{},{shouldUseTestBidEndpoint:e.value});default:return a({},t)}}(r.experiments,o),gamSlotFetchLog:(e=r.gamSlotFetchLog,"LOG_GAM_EVENT"!==(t=o).type?u(e):[].concat(u(e),[a({},t.event)])),gamSlotRenderPixel:(e=r.gamSlotRenderPixel,"UPDATE_RENDER_OFFSETS"!==(t=o).type?a({},e):a(a({},e),t.offsets)),hosts:(e=r.hosts,"SET_HOST"!==(t=o).type?a({},e):a(a({},e),{},s({},t.hostName,t.hostValue))),identityState:(e=r.identityState,"RECORD_IDENTITY_STATE"!==(t=o).type?e:a(a({},e),{},s({},t.vendor,Object(c.m)(e,t.vendor)?e[t.vendor]:t.identityState))),libraryLoadCallLatency:(e=r.libraryLoadCallLatency,"RECORD_LIBRARY_LOAD_CALL_LATENCY"!==o.type?e:o.latency),Q:(t=r.Q,"SET_Q"!==(e=o).type?u(t):u(e.Q)),slotBids:function(n,e){switch(e.type){case"BID_STATE_CHANGE":return a(a({},n),{},s({},e.slotID,n[e.slotID].map(function(t){return t._targetingSetID===e._targetingSetID&&(t.bidState=e.bidState,e.bidState===i.b.rendered?t.timing.renderTime=e.ts:e.bidState===i.b.set&&t.timing.setAtTimes.push(e.ts)),t})));case"UPDATE_BID_INFO_PROP":return void 0===n[e.slotID]||n[e.slotID].filter(function(t){return t.matchesBidCacheId(e.iid)}).length<1?a({},n):a(a({},n),{},s({},e.slotID,n[e.slotID].map(function(t){return t.matchesBidCacheId(e.iid)&&(t[e.key]=e.value),t})));case"UPDATE_SLOT_BIDS":return a(a({},n),e.bids.reduce(function(t,e){return Object(c.m)(t,e.slotID)?t[e.slotID]=[].concat(u(t[e.slotID]),[e]):Object(c.m)(n,e.slotID)?t[e.slotID]=[].concat(u(n[e.slotID]),[e]):t[e.slotID]=[e],t},{}));default:return a({},n)}}(r.slotBids,o),slotIdMap:(t=r.slotIdMap,"ADD_SLOT_ID"===(e=o).type&&-1===t.indexOf(e.slotID)?[].concat(u(t),[e.slotID]):t),sync917:(t=r.sync917,"SET_SYNC_917"!==o.type?t:o.value),targetingKeys:(n=r.targetingKeys,"UPDATE_SLOT_BIDS"!==(o=o).type?a({},n):a(a({},n),o.bids.reduce(function(t,e){return Object(c.m)(n,e.slotID)?t[e.slotID]=[].concat(u(n[e.slotID]),u((e.bidConfig.targeting||i.g).filter(function(t){return-1===n[e.slotID].indexOf(t)}))):t[e.slotID]=e.bidConfig.targeting||i.g,t},{})))}}var l={getState:function(){return r},dispatch:function(t){r=b(r,t)}};(l=Object(n.d)("redux")&&Object(c.i)()&&Object(c.m)(window,"__REDUX_DEVTOOLS_EXTENSION__")?window.__REDUX_DEVTOOLS_EXTENSION__(b):l).dispatch({type:"NOOP"})},function(t,e,n){"use strict";n.d(e,"e",function(){return p}),n.d(e,"c",function(){return S}),n.d(e,"d",function(){return v}),n.d(e,"b",function(){return _}),n.d(e,"a",function(){return E}),n.d(e,"f",function(){return D});var i=n(4),c=n(2),o=n(5),a=n(0),s=n(1),r=n(6),u=n(11),d=n(10),b=[],l=!1,f=[];function p(t){var e=new Image;return e.src=t,f.push(e),e}!0===Object(o.c)("exposePixels")&&(window.apstagPixelQueue=b,window.apstagPixelsSent=f);var m,g={adServer:[],ampAdContext:[],appended:[],AaxSlotSizes:[],bidRender:[],bidRenderState:[],bidType:[],"blockedBidders-fetchBids":[],"blockedBidders-init":[],ccpa:[],cmpVar:[],creativeSize:[],deals:[],fetchBids:[],fifFlow:[],customFloor:[],gdpr:[],id:[],idRemap:[],iframe:[],renderFootprint:[],resizeIframe:[],schain:[],simplerGpt:[],slots:[],slotType:[],targeting:[],tcfVar:[],unusedDeal:[],useSafeFrames:[]},y=[],h=!1;function O(){h&&(clearTimeout(m),h=!1),Object(a.c)(y,5).forEach(function(t){_({_type:"featureUsage",p:t,u:Object(r.g)(window)})}),y=[]}function j(){h||(h=!0,m=setTimeout(O,2e3))}function S(t,e){try{return!!c.a.getState().experiments.shouldSampleFeatures&&void 0!==g[t]&&!Object(a.j)(g[t],e)&&(g[t].push(e),y.push({cat:t,feat:e}),l&&j(),!0)}catch(t){return Object(s.b)(t,"sendFeaturePixel"),!1}}function v(){try{var t,e,n,r=c.a.getState().libraryLoadCallLatency,o=Object(u.c)(window,new RegExp("aax2/apstag.js"));null===o&&0===r||(t=Object(u.e)(window,"navigationStart"),e={_type:"libLatency",pid:d.b,ns:t},null!==o&&(e.fs=Object(u.a)(o,"fetchStart"),e.re=Object(u.a)(o,"responseEnd"),null!==(n=Object(u.f)(o))&&(e.c=n?1:0)),0!==r&&(e.tcc=r),_(e))}catch(r){Object(s.b)(r,"sendInitLatencyPixel")}}function w(t){try{if(l){var e=function(){try{var t=c.a.getState(),e=t.cfg.PIXEL_PATH,n=t.hosts.DEFAULT_AAX_PIXEL_HOST,r=Object(o.c)("pixelHost",n);return"".concat(i.r).concat(r).concat(e)}catch(t){return Object(s.b)(t,"buildPixelBaseUrl"),""}}();return void 0===t.bidId?e+="p/PH/":e+="".concat(t.bidId,"/"),p(e+=function(t){try{t._tl="aps-tag";var e=c.a.getState(),n=null,r="";Object(a.m)(e,"config")&&Object(a.m)(e.config,"pubID")&&""!==e.config.pubID&&(n=e.config.isSelfServePub,r=e.config.pubID),null!==n&&(n?(t.src=i.s,t.pubid=r):t.src=r),t.lv=i.k;var o=function(t){try{return t.replace(/\\.{1}/g,"")}catch(t){return Object(s.b)(t,"escapeJsonForAax"),""}}(o=JSON.stringify(t));return o=encodeURIComponent(o)}catch(t){return Object(s.b)(t,"objectToUrlPath"),""}}(t.payload))}return b.push(t),!1}catch(t){return Object(s.b)(t,"sendPixel"),!1}}function _(t){return w({payload:t})}function E(t,e){return w({payload:e,bidId:t})}function D(){try{if(l)return;l=!0,b.forEach(w),0<y.length&&j()}catch(t){Object(s.b)(t,"sendPixels")}}!0===Object(o.c)("exposePixels")&&(window.apstagFeaturePixelQueue=y)},function(t,e,n){"use strict";n.d(e,"g",function(){return o}),n.d(e,"w",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"f",function(){return s}),n.d(e,"v",function(){return u}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return b}),n.d(e,"c",function(){return l}),n.d(e,"j",function(){return f}),n.d(e,"o",function(){return p}),n.d(e,"m",function(){return m}),n.d(e,"n",function(){return c}),n.d(e,"l",function(){return a}),n.d(e,"u",function(){return h}),n.d(e,"h",function(){return g}),n.d(e,"t",function(){return y}),n.d(e,"s",function(){return O}),n.d(e,"k",function(){return j}),n.d(e,"r",function(){return S}),n.d(e,"i",function(){return v}),n.d(e,"a",function(){return w}),n.d(e,"q",function(){return _}),n.d(e,"p",function(){return E}),n.d(e,"x",function(){return D});var r,o=["amznbid","amzniid","amznsz","amznp"],i=["amznbid","amzniid","amznp","r_amznbid","r_amzniid","r_amznp"];(e=r=r||{}).new="NEW",e.exposed="EXPOSED",e.set="SET",e.rendered="RENDERED";var c,a,s="apstagDebug",u=["redux","fake_bids","verbose","console","console_v2","errors"],d="apstagDebugHeight",b="apstagDEBUG",l="apstagCfg",f="aps3PIds",p=0,m=0;(e=c=c||{}).amznbid="testBid",e.amzniid="testImpression",e.amznp="testP",e.crid="testCrid",(a=a||{}).video="v";var g,y,h=["amznbid","amznp"];(e=g=g||{}).__apsid="ck",e.__aps_id_p="ckp",e.aps_ext_917="st",(e=y=y||{}).noRequest="0",e.bidInFlight="1",e.noBid="2";var O="600",j="7.66.00",S="https://",v="function"==typeof XMLHttpRequest&&void 0!==(new XMLHttpRequest).withCredentials,w="apstagLOADED",_=13,E=1e4,D=/^1[NY\-]{3}$/},function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return g}),n.d(e,"d",function(){return _}),n.d(e,"c",function(){return D}),n.d(e,"e",function(){return T});var r=n(2),o=n(0),i=n(4),c=n(8),a=n(3),s=n(1),u=["getLog","getState"];function d(e,t,n){try{switch(Object(o.j)(u,e)&&(Object(s.b)(new Error("Debug call made: ".concat(e)),"debugPublicApi-call-".concat(e)),u=u.filter(function(t){return t!==e})),e){case"getLog":return r.a.getState().eventLog;case"getState":return r.a.getState();case"enable":return E("fake_bids",!0),"DEBUG MODE ENABLED";case"disable":return E("fake_bids",!1),"DEBUG MODE DISABLED";case"enableConsole":return g(!1,"command"),"Debug console enabled";case"enableConsoleV2":return g(!0,"command"),"Debug console v2 enabled";case"disableConsole":return function(){try{E("console",!1),E("console_v2",!1),null!==b&&document.body.removeChild(b),m=!1,Object(o.i)()&&window.localStorage.removeItem(i.d)}catch(t){Object(s.b)(t,"disableDebugConsole",!0)}}(),"Debug console disabled";case"setDebug":return(E(t,n)?"Set debug mode '":"Failed to set debug mode '").concat(t,"' to '").concat(n,"'");default:return"unknown debug argument"}}catch(t){return Object(s.b)(t,"debugPublicApi",!0),"error"}}var b,l,f,p,m=!1;function g(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=1<arguments.length?arguments[1]:void 0;try{if(E(e?"console_v2":"console",!0),m)return;var t={url:e?r.a.getState().cfg.DEBUG_APP_HTML_V2:r.a.getState().cfg.DEBUG_APP_HTML,onload:y,onerror:function(){return Object(s.b)(new Error("Error Loading Debug Console"),"enableDebugConsole-".concat(e?"v2":"v1","-onerror"),!0)}};Object(c.d)(t),setTimeout(function(){try{var t={_type:"debugLoad",mode:e?2:1};Object(o.m)(r.a.getState().config,"pubID")&&(t.src=r.a.getState().config.pubID),null!==n&&(t.method=n),Object(a.b)(t)}catch(t){Object(s.b)(t,"enableDebugConsole-setTimeout",!0)}},5e3)}catch(t){Object(s.b)(t,"enableDebugConsole",!0)}}function y(t){try{var e=t.responseText;b=document.createElement("div"),l=document.createElement("div"),f=document.createElement("iframe");var n=200;_("console_v2")&&(n=330),Object(o.i)()&&null!==window.localStorage.getItem(i.d)&&(n=parseInt(window.localStorage.getItem(i.d),10)),(isNaN(n)||n>window.innerHeight)&&(n=200),b.style.background="#eaeded",b.style.zIndex="2147483647",b.style.bottom="0",b.style.position="fixed !important",b.style.display="block !important",b.style.left="0",b.style.right="0",b.style.height="".concat(n,"px"),l.style.cursor="row-resize",l.style.height="2px",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.right="0",l.style.backgroundColor="RGBA(0,0,0,0)",b.appendChild(l),f.frameBorder="0",f.marginHeight="0",f.marginWidth="0",f.scrolling="no",f.id="apstag-debug-iframe",f.src="about:blank",f.style.display="block",f.style.width="100%",f.style.height="".concat(n,"px"),b.appendChild(f),document.body.appendChild(b),null!==f.contentDocument&&(f.contentDocument.open(),f.contentDocument.write(e),f.contentDocument.close()),l.addEventListener("mousedown",j)}catch(t){Object(s.b)(t,"renderDebugConsole",!0)}}function h(t){try{var e=window.innerHeight-t.clientY;return e<200&&(e=200),b.style.height="".concat(e,"px"),f.style.height="".concat(e,"px"),e}catch(t){return Object(s.b)(t,"resizeDebugConsole",!0),200}}function O(t){try{return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1}catch(t){return Object(s.b)(t,"preventEvent",!0),!1}}function j(){try{void 0===p&&((p=document.createElement("div")).style.position="fixed",p.style.left="0",p.style.right="0",p.style.top="0",p.style.bottom="0",p.style.zIndex="9999999999"),b.appendChild(p),window.addEventListener("mouseup",v),window.addEventListener("mousemove",S)}catch(t){Object(s.b)(t,"resizeBarMouseDownListener",!0)}}function S(t){try{return h(t),O(t)}catch(t){return Object(s.b)(t,"resizeBarMouseMoveListener",!0),!1}}function v(t){try{null!==p&&b.removeChild(p),window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",v);var e=h(t);return Object(o.i)()&&window.localStorage.setItem(i.d,"".concat(e)),O(t)}catch(t){return Object(s.b)(t,"resizeBarMouseUpListener",!0),!1}}function w(){try{if(!Object(o.i)())return[];var t=window.localStorage.getItem(i.f);null===t||"false"===t?t="[]":"true"===t&&(t='["fake_bids"]');var e=[];try{e=JSON.parse(t)}catch(t){}return(e=!Object(o.k)(e)?[]:e).filter(function(t){return Object(o.j)(i.v,t)})}catch(t){return Object(s.b)(t,"getCurrentDebugArray"),[]}}function _(t){try{return Object(o.j)(w(),t)}catch(t){return Object(s.b)(t,"isDebugEnabled"),!1}}function E(e,t){try{if(!Object(o.i)())return;if(-1===i.v.indexOf(e))return;var n=w();return t&&-1===n.indexOf(e)?n.push(e):t||(n=n.filter(function(t){return t!==e})),0===n.length?window.localStorage.removeItem(i.f):window.localStorage.setItem(i.f,JSON.stringify(n)),T(),1}catch(t){return Object(s.b)(t,"setDebugMode"),0}}function D(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;try{if(Object(o.m)(window,i.e)&&Object(o.m)(window[i.e],t))return window[i.e][t]}catch(t){Object(s.b)(t,"getDebugValue")}return e}var I=[];function T(){try{w().filter(function(t){return-1===I.indexOf(t)}).forEach(function(t){Object(s.b)(new Error("Debug method enabled: ".concat(t)),"debugPublicApi-enabled-".concat(t),!0),I.push(t)})}catch(t){Object(s.b)(t,"pixelDebugModes")}}},function(t,e,n){"use strict";n.d(e,"c",function(){return d}),n.d(e,"j",function(){return b}),n.d(e,"g",function(){return l}),n.d(e,"h",function(){return f}),n.d(e,"d",function(){return p}),n.d(e,"e",function(){return m}),n.d(e,"f",function(){return g}),n.d(e,"i",function(){return h}),n.d(e,"b",function(){return O}),n.d(e,"a",function(){return j}),n.d(e,"k",function(){return S});var o=n(5),r=n(0),i=n(1),c=n(4),a=n(2),s=n(3);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t){try{return t.split("_").pop()}catch(t){return Object(i.b)(t,"getAmpAmznBidValue"),""}}function b(t){try{return!Object(r.m)(t,"slots")}catch(t){return Object(i.b)(t,"isAAXPunt"),!0}}function l(t){try{var e,n=Object(o.c)("url");if(null!==n)return encodeURIComponent(n);try{S(t,!1)?(Object(s.c)("ampAdContext","getCurrentUrl"),e=null,t.context&&(e=t.context.canonicalUrl||t.context.sourceUrl)):e=t.top.location.href}catch(t){e=null}if(null===e||!e||void 0===e){e="";try{t.top!==t.self&&(e=t.document.referrer)}catch(t){}}return encodeURIComponent(e)}catch(t){return Object(i.b)(t,"getCurrentUrl"),""}}function f(t){try{var e,n="",r=Object(o.c)("url");if(null!==r)return encodeURIComponent(r);try{try{e=S(t,!1)?(Object(s.c)("ampAdContext","getReferrerUrl"),(t.context||t.top.document).referrer):t.top.document.referrer}catch(n){e=t.document.referrer}n=encodeURIComponent(e)}catch(n){}return n}catch(n){return Object(i.b)(n,"getReferrerUrl"),""}}function p(){try{var e={cookiesParams:""};return Object(r.d)().forEach(function(t){t[0]in c.h&&("aps_ext_917"===t[0]?e.fb=t[1]:e.cookiesParams+="&".concat(c.h[t[0]],"=").concat(t[1]))}),e.fb||a.a.getState().sync917||a.a.dispatch({type:"SET_SYNC_917",value:!0}),e}catch(e){return Object(i.b)(e,"getApsFirstPartyCookies"),{cookiesParams:""}}}function m(t){try{var e=a.a.getState().config.blockedBidders;Object(r.m)(t,"blockedBidders")&&Object(r.k)(t.blockedBidders)&&(e=t.blockedBidders);var n="";return n=Object(r.k)(e)?JSON.stringify(e):n}catch(t){return Object(i.b)(t,"getBlockedBidders",!0),""}}function g(){try{if(!Object(r.i)())return c.o;var t=a.a.getState();return Object(r.m)(t,"cfg")&&Object(r.m)(t.cfg,"v")&&-1!==t.cfg.v?t.cfg.v:null}catch(t){return Object(i.b)(t,"getCfgVersion"),null}}function y(t){try{if(-1===["string","number"].indexOf(u(t)))return!1;var e=Math.floor(Number(t));if(e>c.m)return e}catch(t){Object(i.b)(t,"parseTimeout",!0)}return!1}function h(t,e){try{var n=y(t.timeout);return n=!1===(n=!1===n?y(e.config.bidTimeout):n)?y(e.cfg.DEFAULT_TIMEOUT):n}catch(t){return Object(i.b)(t,"getTimeout",!0),2e3}}function O(e,t){var n,r=!1;function o(t){if(!r)try{e(t)}catch(t){Object(i.b)(t,"executeFunctionOnceWithTimeout-wrappedFunction",!0)}clearTimeout(n),r=!0}try{return n=setTimeout(o,t,!0),o.bind(null,!1)}catch(t){return Object(i.b)(t,"executeFunctionOnceWithTimeout",!0),function(){}}}function j(t){var e=!1;return function(){if(!e)try{t()}catch(t){Object(i.b)(t,"executeFunctionOnceWithTimeout-wrappedFunction",!0)}e=!0}}function S(t,e){try{var n=e?t.AMP_CONTEXT_DATA:t.context;return Boolean(n&&Object(r.m)(n,"tagName")&&"AMP-AD"===n.tagName)}catch(t){return Object(i.b)(t,"isInAmpAd"),!1}}},function(t,e,n){"use strict";n.d(e,"a",function(){return E}),n.d(e,"b",function(){return D});var c=n(0),a=n(13),s=n(1);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return!(e=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))||"object"!==o(e)&&"function"!=typeof e?f(this):e}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(){b(r,a.c);var n=l(r);function r(t){var e;return u(this,r),p(f(e=n.call(this,t.targetId,Object(c.m)(t,"invCode")?t.invCode:Object(c.m)(t,"tagId")?t.tagId:t.targetId)),"rawSlot",void 0),p(f(e),"mediaType","display"),e.rawSlot=t,e}return d(r,[{key:"reportError",value:function(t,e,n){n=2<arguments.length&&void 0!==n&&n;Object(s.b)(t,"ApnSlot-".concat(e),n)}},{key:"initKeywords",value:function(){try{Object(c.m)(this.rawSlot,"keywords")||(this.rawSlot.keywords={})}catch(t){this.reportError(t,"initKeywords")}}},{key:"setTargeting",value:function(t,e){try{this.initKeywords(),this.rawSlot.keywords[t]=e}catch(t){this.reportError(t,"setTargeting")}}},{key:"getTargeting",value:function(t){try{return this.initKeywords(),Object(c.m)(this.rawSlot.keywords,t)?[this.rawSlot.keywords[t]]:[]}catch(t){return this.reportError(t,"getTargeting"),[]}}},{key:"clearTargeting",value:function(t){try{this.initKeywords(),delete this.rawSlot.keywords[t]}catch(t){this.reportError(t,"clearTargeting")}}},{key:"sizes",get:function(){try{return this.rawSlot.sizes}catch(t){return this.reportError(t,"sizes"),[]}}}]),r}(),g=function(){b(i,a.b);var o=l(i);function i(){var t;u(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p(f(t=o.call.apply(o,[this].concat(n))),"isSupported",!0),t}return d(i,[{key:"reportError",value:function(t,e){Object(s.b)(t,"AppNexusAdServer-".concat(e))}},{key:"cmdQueuePush",value:function(t){try{window.apntag.anq.push(t)}catch(t){this.reportError(t,"cmdQueuePush")}}},{key:"setTargeting",value:function(t,e){try{if(!Object(c.m)(window,"apntag")||!Object(c.m)(window.apntag,"requests"))return;Object(c.m)(window.apntag.requests,"keywords")||(window.apntag.requests.keywords={}),window.apntag.requests.keywords[t]=e}catch(t){this.reportError(t,"setTargeting")}}},{key:"getTargeting",value:function(t){try{if(!Object(c.m)(window,"apntag")||!Object(c.m)(window.apntag,"requests"))return[];Object(c.m)(window.apntag.requests,"keywords")||(window.apntag.requests.keywords={});var e=window.apntag.requests.keywords[t];return void 0===e?[]:[e]}catch(t){return this.reportError(t,"getTargeting"),[]}}},{key:"clearTargeting",value:function(t){try{Object(c.m)(window,"apntag")&&Object(c.m)(window.apntag,"requests")&&Object(c.m)(window.apntag.requests,"keywords")&&delete window.apntag.requests.keywords[t]}catch(t){this.reportError(t,"clearTargeting")}}},{key:"hasAdServerObjectLoaded",value:function(){try{return Object(c.m)(window,"apntag")&&Object(c.m)(window.apntag,"loaded")&&!0===window.apntag.loaded}catch(t){return this.reportError(t,"hasAdServerObjectLoaded"),!1}}},{key:"isCommandQueueDefined",value:function(){try{return Object(c.m)(window,"apntag")&&Object(c.m)(window.apntag,"anq")}catch(t){return this.reportError(t,"isCommandQueueDefined"),!1}}},{key:"getSlots",value:function(){try{var e=[];return Object(c.m)(window,"apntag")&&Object(c.m)(window.apntag,"requests")&&Object(c.m)(window.apntag.requests,"tags")&&Object(c.l)(window.apntag.requests.tags)&&Object.keys(window.apntag.requests.tags).forEach(function(t){t=window.apntag.requests.tags[t];e.push(new m(t))}),e}catch(e){return this.reportError(e,"getSlots"),[]}}}]),i}(),y=n(16);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(i,a.b);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=S(n);return!(e=r?(t=S(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))||"object"!==h(e)&&"function"!=typeof e?j(this):e});function i(){var t;!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(j(t=o.call.apply(o,[this].concat(n))),"isSupported",!0),v(j(t),"needNewBidObject",!0),t}return function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(i.prototype,[{key:"reportError",value:function(t,e){Object(s.b)(t,"SmartAdServer-".concat(e))}},{key:"cmdQueuePush",value:function(t){try{window.sas.cmd.push(t)}catch(t){this.reportError(t,"cmdQueuePush")}}},{key:"hasAdServerObjectLoaded",value:function(){try{return Object(c.m)(window,"sas")&&Object(c.m)(window.sas,"__smartLoaded")&&!0===window.sas.__smartLoaded}catch(t){return this.reportError(t,"hasAdServerObjectLoaded"),!1}}},{key:"isCommandQueueDefined",value:function(){try{return Object(c.m)(window,"sas")&&Object(c.m)(window.sas,"cmd")}catch(t){return this.reportError(t,"isCommandQueueDefined"),!1}}}]),i}(),_=n(3),E=new a.b;function D(t){try{switch(t){case"appnexus":Object(_.c)("adServer",t),E=new g;break;case"googletag":Object(_.c)("adServer",t),E=new y.a;break;case"sas":Object(_.c)("adServer",t),E=new w;break;default:"string"==typeof t?Object(_.c)("adServer","invalid-".concat(t)):Object(_.c)("adServer","none"),E=new a.b}}catch(t){Object(s.b)(t,"setDisplayAdServer")}}},function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return i});var b=n(1);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){var e=t.url,n=t.onload,r=t.onerror,o=t.ontimeout,i=t.withCredentials,c=t.body,a=void 0===c?null:c,c=t.headers,s=void 0===c?null:c,u=new window.XMLHttpRequest;try{if(""===e)return void(void 0!==r&&r.call(u,"error"));u.onload=n.bind(null,u),void 0!==r&&(u.onerror=r),void 0!==o&&(u.ontimeout=o),void 0!==i&&(u.withCredentials=i);var d=null!==a?"POST":"GET";u.open(d,e),null!==s&&"object"===l(s)&&Object.keys(s).forEach(function(t){u.setRequestHeader(t,s[t])}),u.send(a)}catch(t){void 0!==r&&r.call(u,"error"),Object(b.b)(t,"xhrRequest")}}function o(t,e,n,r){try{if(void 0===n&&(n=document),void 0===t)return"function"==typeof e&&e(!0),!1;var o=n.getElementsByTagName("script")[0]||n.body.firstChild,i=n.createElement("script");if(i.type="text/javascript",i.async=!0,i.src=t,e&&c(i,e),c(i,r||function(){Object(b.b)(new Error("Error Loading Script Tag"),"loadScriptTag-onerror")},[],"onerror"),null!==o.parentNode)return o.parentNode.insertBefore(i,o),!0}catch(t){Object(b.b)(t,"loadScriptTag",!0)}return!1}function c(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"onload";try{return"function"==typeof e&&(t[r]=function(){e.apply(null,n)},!0)}catch(t){return Object(b.b)(t,"addCallbackFunction"),!1}}function i(t){try{return encodeURIComponent(JSON.stringify(t))}catch(t){return Object(b.b)(t,"objToUrlParam"),""}}},function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return a});var r=n(1),o=n(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){try{return function(t){try{if(!a(t,["number","string"]))return!1;if(isNaN(t))return!1;if("number"==typeof t)return!0;var e=parseInt(t,10);return!isNaN(e)}catch(t){return Object(r.b)(t,"isNumber"),!0}}(t)||void 0===t}catch(t){return Object(r.b)(t,"isNumberOrUndefined"),!0}}function a(t,e){try{return Object(o.j)(e,i(t))}catch(t){return Object(r.b)(t,"isVarOfTypes"),!0}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return T}),n.d(e,"i",function(){return u}),n.d(e,"d",function(){return d}),n.d(e,"g",function(){return b}),n.d(e,"c",function(){return l}),n.d(e,"h",function(){return f}),n.d(e,"f",function(){return p}),n.d(e,"e",function(){return m});var g=n(2),y=n(5),h=n(4),O=n(0),j=n(8),S=n(1),v=n(6),c=n(12),w=n(3),i=n(9),_=n(14);function r(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D(t,e){if(t){if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(t,e):void 0}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=(function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(s.prototype,[{key:"reportError",value:function(t,e,n){n=2<arguments.length&&void 0!==n&&n;Object(S.b)(t,"Bid-".concat(e),n)}},{key:"matchesBidCacheId",value:function(n){var r=this;try{return this.bidConfig.targeting.reduce(function(t,e){return t||-1!==e.indexOf("amzniid")&&r.bidConfig[e]===n},!1)}catch(n){return this.reportError(n,"matchesBidCacheId"),!1}}},{key:"mediaType",get:function(){var t="d";return t="video"===this.bidConfig.mediaType||"v"===this.bidConfig.mediaType?"video":t}},{key:"targeting",get:function(){var e=this;try{return this.bidConfig.targeting.map(function(t){return"amznhost"===t?[t,encodeURIComponent(e.host)]:Object(O.m)(e.bidConfig,t)&&Object(O.k)(e.bidConfig[t])?[t,encodeURIComponent(e.bidConfig[t].join(","))]:Object(O.m)(e.bidConfig,t)?[t,encodeURIComponent(e.bidConfig[t])]:[t,""]}).map(function(t){var e,t=function(t){if(Array.isArray(t))return t}(e=t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],n=!0,r=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(e.push(i.value),2!==e.length);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return e}}(e)||D(e,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e=t[0],t=t[1];return"&".concat(e,"=").concat(t)}).join("")}catch(e){return this.reportError(e,"targeting"),""}}},{key:"bidObject",get:function(){try{var t={slotID:this.bidConfig.slotID,amzniid:this.bidConfig.amzniid,amznbid:this.bidConfig.amznbid,amznp:this.bidConfig.amznp,amznsz:this.bidConfig.amznsz,size:this.bidConfig.amznsz};return"video"===this.mediaType&&(t.mediaType="video",t.qsParams=this.targeting,t.encodedQsParams=encodeURIComponent(this.targeting),t.r_amznbid=this.bidConfig.r_amznbid,t.r_amzniid=this.bidConfig.r_amzniid,t.r_amznp=this.bidConfig.r_amznp),this.useSafeFrames&&(t.amznhost=this.host),t}catch(t){return this.reportError(t,"bidObject",!0),{slotID:"",amzniid:"error",amznbid:"error",amznp:"error",amznsz:"error",size:"error"}}}},{key:"newBidObject",get:function(){var e=this;try{var n={slotID:this.bidConfig.slotID,size:this.bidConfig.amznsz,mediaType:this.mediaType,targeting:{},helpers:{targetingKeys:this.bidConfig.targeting,qsParams:function(){return e.targeting},encodedQsParams:function(){return encodeURIComponent(e.targeting)}}},r=["slotID","size","mediaType"];return this.bidConfig.meta.filter(function(t){return-1===r.indexOf(t)}).forEach(function(t){n[t]=e.bidConfig[t]}),this.bidConfig.targeting.forEach(function(t){n.targeting[t]="amznhost"===t?e.host:e.bidConfig[t]}),void 0!==this.slotID&&-1!==this.slotID.indexOf("_")&&(n.sasTargeting=n.helpers.targetingKeys.map(function(t){return"".concat(t,"_").concat(e.slotID.split("_")[1],"=").concat(n.targeting[t])}).join(";")),n}catch(e){return this.reportError(e,"newBidObject",!0),{slotID:"",size:"",mediaType:"d",targeting:{},helpers:{targetingKeys:[],qsParams:function(){return""},encodedQsParams:function(){return""}}}}}},{key:"slotID",get:function(){try{return this.bidConfig.slotID}catch(t){return this.reportError(t,"slotID"),""}}}]),s),T=Object(O.f)(h.q);function s(t){!function(t){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),o(this,"bidConfig",void 0),o(this,"bidState",h.b.new),o(this,"_targetingSetID",void 0),o(this,"timing",{setAtTimes:[]}),o(this,"pixelSent",!1),o(this,"useSafeFrames",!1),o(this,"bidReqID",""),o(this,"host",void 0),o(this,"ev",void 0),o(this,"cfe",void 0),o(this,"isAmp",!1),o(this,"doc",void 0),o(this,"inheritSize",void 0),this.bidConfig=t,this._targetingSetID=Object(O.e)(),g.a.getState().config.useSafeFrames&&(this.useSafeFrames=!0),this.useSafeFrames&&Object(O.m)(t,"targeting")&&t.targeting.push("amznhost"),Object(O.m)(t,"meta")?Object(O.k)(t.meta)||(this.reportError({name:"TypeError",message:"'meta' is not an 'array': ".concat(JSON.stringify(t.meta))},"constructor-meta"),t.meta=[]):t.meta=[];try{var e="d";"video"!==this.bidConfig.mediaType&&"v"!==this.bidConfig.mediaType||(e="v");var n=[];Object(O.m)(this.bidConfig,"amzndeals")&&(Object(w.c)("bidType","".concat(e,"-amzndeals")),n=this.bidConfig.amzndeals.map(function(t){return"".concat(t,"amzniid")})),this.bidConfig.targeting.filter(function(t){return-1!==t.indexOf("amzniid")&&!Object(O.j)(n,t)}).forEach(function(t){return Object(w.c)("bidType","".concat(e,"-").concat(t))}),Object(O.m)(this.bidConfig,"fif")&&"1"===this.bidConfig.fif?Object(w.c)("bidRender","friendly"):Object(w.c)("bidRender","unfriendly")}catch(t){this.reportError(t,"pixeling")}}function u(t){var n="validateSupplyChainObject",r=!1;function o(t,e){return Object(S.b)({name:"TypeError",message:e},"".concat(n,"-").concat(t),!0),!(r=!0)}try{return Object(O.l)(t)?(Object(O.m)(t,"complete")?-1===[1,0].indexOf(t.complete)&&o("schain-complete-type","The `schain.complete` property must be a `1` or `0`"):o("schain-complete","The `schain.complete` property must be provided"),Object(O.m)(t,"ver")?Object(i.b)(t.ver,["string"])||o("schain-ver-type","The `schain.ver` property must be a string"):o("schain-ver","The `schain.ver` property must be provided"),Object(O.m)(t,"nodes")?Object(O.k)(t.nodes)?t.nodes.reduce(function(t,e){return Object(O.l)(e)?(Object(O.m)(e,"asi")?Object(i.b)(e.asi,["string"])||o("schain-node-asi-type","All `schain.nodes` items must have an `asi` property of type `string`"):o("schain-node-asi","All `schain.nodes` items must have an `asi` property"),Object(O.m)(e,"sid")?Object(i.b)(e.sid,["string"])||o("schain-node-sid-type","All `schain.nodes` items must have an `sid` property of type `string`"):o("schain-node-sid","All `schain.nodes` items must have an `sid` property"),Object(O.m)(e,"hp")?-1===[1,0].indexOf(e.hp)&&o("schain-node-hp-type","All `schain.nodes` items must have an `hp` property which is `1` or `0`"):o("schain-node-hp","All `schain.nodes` items must have an `hp` property"),Object(i.b)(e.rid,["string","undefined"])||o("schain-node-rid-type","If provided, the `rid` property on an `schain.nodes` item must be of type `string`"),Object(i.b)(e.name,["string","undefined"])||o("schain-node-name-type","If provided, the `name` property on an `schain.nodes` item must be of type `string`"),Object(i.b)(e.domain,["string","undefined"])||o("schain-node-domain-type","If provided, the `domain` property on an `schain.nodes` item must be of type `string`"),t&&!r):o("schain-node-type","All `schain.nodes` items must be objects")},!r):o("schain-nodes-type","The `schain.nodes` property must be an `Array`"):o("schain-nodes","The `schain.nodes` property must be provided")):o("schain","The `schain` value must be an object")}catch(t){return Object(S.b)(t,n,!0),!1}}function d(t,e,n,r){try{var o=g.a.getState(),i={},c=Object(y.c)("host",o.hosts.DEFAULT_AAX_BID_HOST),a=o.cfg.DTB_PATH,s="bid";o.experiments.shouldUseTestBidEndpoint&&null!==o.cfg.TEST_BID_ENDPOINT&&(s=o.cfg.TEST_BID_ENDPOINT);var u,d={src:o.config.pubID,u:Object(v.g)(window),pr:Object(v.h)(window),pid:T,cb:t.bidReqID,ws:Object(O.h)(window),v:h.k,t:e,slots:function(t){try{return Object(j.c)(t.map(function(t){var e;if(Object(O.m)(t,"mediaType")&&"video"===t.mediaType)e=t.aaxSlot;else{if(!(Object(O.m)(t,"sizes")&&0<t.sizes.length&&Object(O.m)(t,"slotID")))return Object(S.b)({name:"SlotError",message:"There was an error with the configuration for this slot: ".concat(JSON.stringify(t.rawSlot))},"buildSlotsUrlParam-invalidSlot",!0),{id:"ERROR",mt:h.l.video,error:!0};var n=t.aaxSlot;Object(O.m)(t,"slotName")&&t.slotName!==t.slotID?(Object(w.c)("idRemap","y"),g.a.dispatch({type:"ADD_SLOT_ID",slotID:t.slotID}),n.sd="".concat(g.a.getState().slotIdMap.indexOf(t.slotID)),n.sn=t.slotName):Object(w.c)("idRemap","n"),e=n}return e}).filter(function(t){return!0!==t.error}))}catch(t){return Object(S.b)(t,"buildSlotsUrlParam",!0),""}}(t.validSlots),pj:function(t,e){try{var n=Object(O.l)(t.config.params)?t.config.params:{},r=Object(O.l)(e.params)?e.params:{},o=E(E({},n),r);return 0===Object.keys(o).length?"":Object(j.c)(o)}catch(t){return Object(S.b)(t,"getBidParams",!0),""}}(o,t),cfgv:Object(v.f)(),bb:Object(v.e)(t),schain:function(t){try{var e;return Object(O.m)(t.config,"schain")?(e=t.config.schain,encodeURIComponent(["".concat(e.ver,",").concat(e.complete)].concat(function(t){if(Array.isArray(t))return I(t)}(n=e.nodes.map(function(e){return["asi","sid","hp","rid","name","domain"].map(function(t){return Object(O.m)(e,t)?e[t]:""}).map(function(t){return encodeURIComponent(t)}).map(function(t){return t.replace(/\!/g,"%21")}).join(",")}))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(n)||D(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).join("!"))):""}catch(t){return Object(S.b)(t,"getSupplyChainObject",!0),""}var n}(o)};if("[]"===d.slots||""===d.slots)throw new Error("No slots available for bid request");g.a.dispatch({type:"RECORD_AAX_REQUEST",data:{bidConfig:t,bidReqID:t.bidReqID,timeout:e,ws:d.ws,url:d.u,rqTs:Date.now()}}),o.experiments.chunkRequests&&(u=t.bidReqID.split("-"),g.a.dispatch({type:"RECORD_NETWORK_EXCHANGE",fid:u[0],networkID:parseInt(u[1],10),timestamp:Date.now(),exchangeType:"request"})),o.config.isSelfServePub&&(d.pubid=d.src,d.src=600);var b=Object(v.d)();b.fb&&(i[917]=b.fb,d[h.h.aps_ext_917]=Object(j.c)(i));var l=Object(y.c)("bidParams");Object(O.l)(l)&&(d=E(E({},d),l)),Object(O.l)(n)&&(Object(O.m)(n,"enabled")&&(d.gdpre=encodeURIComponent(n.enabled)),Object(O.m)(n,"consent")&&(d.gdprc=encodeURIComponent(n.consent)),Object(O.m)(n,"log")&&(d.gdprl=Object(j.c)(n.log))),Object(O.m)(o.config,"useSafeFrames")&&o.config.useSafeFrames&&(d.sf="1");var f=Object(_.b)();f&&(Object(w.c)("id","bidReq-attachToken"),r.at=f),d.vm=r&&0!==Object.keys(r).length?Object(j.c)({ids:r}):"";var p=Object.keys(d).filter(function(t){return Object(O.m)(d,t)&&"undefined"!==d[t]&&""!==d[t]&&null!==d[t]}).map(function(t){return"".concat(t,"=").concat(d[t])}).join("&");b.cookiesParams&&(p+=b.cookiesParams);var m="".concat(h.r).concat(c).concat(a,"/").concat(s,"?").concat(p);return g.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:t.bidReqID,key:"urlLength",value:m.length}),m}catch(t){return Object(S.b)(t,"buildBidUrl",!0),""}}function b(t,e){try{return Object(O.m)(t,"config")&&Object(O.m)(t.config,"deals")&&!0===t.config.deals||!0===e.needNewBidObject}catch(t){return Object(S.b)(t,"isNewBidObjectRequired"),!1}}function l(t,e,n){try{var r=t.map(c.c),o=e.slots.filter(c.d).map(c.c).filter(function(t){return!Object(O.j)(r,t)}),i=n?h.t.bidInFlight:h.t.noBid;return t.concat(o.map(function(t){return new a({size:"0x0",crid:"",slotID:t,mediaType:"d",meta:["slotID","mediaType","size"],amznbid:i,amzniid:"",amznp:i,amznsz:"0x0",targeting:["amzniid","amznbid","amznp","amznsz"]})}))}catch(e){return Object(S.b)(e,"addStateTrackingBidsToRealBids"),t}}function f(t){try{var e;Object(O.m)(t,"slots")&&(e=g.a.getState().slotIdMap,t.slots.forEach(function(t){null!==t.slotID.match(/^\d+$/)&&parseInt(t.slotID,10)<e.length&&(t.slotID=e[parseInt(t.slotID,10)])}))}catch(t){Object(S.b)(t,"mapSlotIDValues")}}function p(e){try{if(Object(O.j)(g.a.getState().displayAdServer.noBidSlotIDs,e.slotID))return!1;var t=g.a.getState().AAXReqs.filter(function(t){return t.bidReqID===e.bidReqID})[0];return!(Object(O.m)(t,"rqTs")&&24e4<Date.now()-t.rqTs||Object(O.m)(t,"url")&&!Object(O.b)(t.url,Object(v.g)(window))||e.bidState===h.b.rendered)}catch(t){return Object(S.b)(t,"isBidEligible"),!1}}function m(t){try{var e=t.map(c.c),r=g.a.getState();return Object.keys(r.slotBids).filter(function(t){return Object(O.j)(e,t)}).reduce(function(t,e){var n=r.slotBids[e].filter(function(t){return t.bidState===h.b.new}).filter(p);return 0<n.length&&(n=n[n.length-1],g.a.dispatch({type:"BID_STATE_CHANGE",slotID:e,_targetingSetID:n._targetingSetID,bidState:h.b.exposed}),t[e]=n),t},{})}catch(t){return Object(S.b)(t,"getNewSlotBidsAndExposeForRequestedSlots"),{}}}},function(t,e,n){"use strict";function o(t,e){try{return"number"!=typeof t[e]?0:Math.round(t[e])}catch(t){return 0}}function r(t,e){try{var n=i(t,e)[0];if(void 0!==n)return n}catch(t){}return null}function i(t,e){try{return t.performance.getEntriesByType("resource").filter(function(t){return e.test(t.name)})}catch(t){return[]}}function c(t,e){try{var n=t.performance.timing[e];return void 0===n?0:n}catch(t){return 0}}function a(n){try{if(0===["redirectStart","redirectEnd","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","secureConnectionStart"].reduce(function(t,e){return t+o(n,e)},0))return null;var r=o(n,"fetchStart");return["domainLookupStart","domainLookupEnd","connectStart","connectEnd"].reduce(function(t,e){return t&&o(n,e)===r},!0)}catch(n){return null}}function s(){try{var t=window.performance.timeOrigin;return t=void 0===t?window.performance.timing.navigationStart:t}catch(t){return 0}}n.d(e,"a",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return a}),n.d(e,"d",function(){return s})},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return c}),n.d(e,"d",function(){return a}),n.d(e,"c",function(){return s});var r=n(1),o=n(0);function i(t){var e=[];try{t.hasAdServerObjectLoaded()&&(e=t.getSlots())}catch(t){Object(r.b)(t,"getDisplayAdServerSlots")}return e}function c(t){try{return Object(o.m)(t,"sizes")&&Object(o.k)(t.sizes)&&0!==t.sizes.length}catch(t){return Object(r.b)(t,"doesSlotHaveSizes"),!1}}function a(t){try{return"video"!==t.mediaType}catch(t){return Object(r.b)(t,"isDisplaySlot"),!0}}function s(t){try{return t.slotID}catch(t){return Object(r.b)(t,"getSlotID"),""}}},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"c",function(){return h}),n.d(e,"a",function(){return i});var c=n(0),a=n(1),s=n(3);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function b(t,e,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=(g(w,[{key:"cmdQueuePush",value:function(){}},{key:"slotRenderEndedEvent",value:function(){}},{key:"setTargeting",value:function(){}},{key:"getTargeting",value:function(){return[]}},{key:"clearTargeting",value:function(){}},{key:"hasAdServerObjectLoaded",value:function(){return!1}},{key:"isCommandQueueDefined",value:function(){return!1}},{key:"getSlots",value:function(){return[]}}]),w),h=(g(v,[{key:"reportError",value:function(t,e,n){n=2<arguments.length&&void 0!==n&&n;Object(a.b)(t,"Slot-".concat(e),n)}},{key:"setTargeting",value:function(){}},{key:"getTargeting",value:function(){return[]}},{key:"clearTargeting",value:function(){}},{key:"isValid",value:function(){function t(t,e){return"There was an issue with the configuration for this slot: ".concat(JSON.stringify(e),"\n")+t.map(function(t){return"- ".concat(t)}).join("\n")}try{var e,n,r,o=[],i=[];return void 0===this.slotID?o.push("'slotID' must be provided and a string"):"string"!=typeof this.slotID&&i.push("'slotID' must be a string"),"display"===this.mediaType&&0===this.sizes.length&&o.push("'sizes' must have at least 1 valid item"),Object(c.m)(this.rawSlot,"floor")&&Object(c.l)(this.rawSlot.floor)&&(n=(e=this.rawSlot.floor).currency,r=e.value,"USD"!==n&&i.push("'floor' currency only supports USD"),_(r)||i.push("'floor' value must be a positive integer")),0<o.length?(this.reportError({name:"SlotValidationError",message:t([].concat(o,i),this.rawSlot)},"validation-error",!0),!1):(0<i.length&&this.reportError({name:"SlotValidationError",message:t(i,this.rawSlot)},"validation-warn",!0),!0)}catch(t){return this.reportError(t,"isValid",!0),!0}}},{key:"sizes",get:function(){return[]}},{key:"floor",get:function(){}},{key:"slotConfig",get:function(){try{return{slotID:this.slotID,slotName:this.slotName,sizes:this.sizes}}catch(t){return this.reportError(t,"slotConfig"),{slotID:"",slotName:"",sizes:[]}}}},{key:"aaxSlotParams",get:function(){var n=this;try{return Object(c.m)(this,"slotParams")&&Object(c.l)(this.slotParams)?Object.keys(this.slotParams).filter(function(t){return function n(t){try{return Object(c.k)(t)?0<t.length&&t.reduce(function(t,e){return t&&n(e)},!0):"string"==typeof t&&0<t.length}catch(t){return Object(a.b)(t,"validateSlotParamValue"),!1}}(n.slotParams[t])}).reduce(function(t,e){return t[e]=n.slotParams[e],t},{}):void 0}catch(n){return this.reportError(n,"aaxSlotParams"),this.slotParams}}},{key:"aaxSlot",get:function(){try{Object(s.c)("slotType","display");var t={sd:this.slotID,s:this.sizes.filter(c.k).map(function(t){return t.join("x")}),kv:this.aaxSlotParams};return this.slotID!==this.slotName&&(t.sn=this.slotName),this.floor&&(t.fc=this.floor.currency,t.fp=this.floor.value),t}catch(t){return this.reportError(t,"aaxSlot"),{sd:"",s:[],kv:{}}}}}]),v),O=[],j=/^[0-9]+x[0-9]+$/,S=/^[0-9]+$/,i=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,h);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=p(n);return!(e=r?(t=p(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))||"object"!==u(e)&&"function"!=typeof e?f(this):e});function i(t){var e;m(this,i),y(f(e=o.call(this,t.slotID,t.slotName,t.slotParams)),"rawSlot",void 0),y(f(e),"hasReportedWorkingInvalidSizeError",!1),e.mediaType="video"===t.mediaType?"video":"display",e.rawSlot=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t);try{Object(c.m)(e.rawSlot,"sizes")&&Object(c.k)(e.rawSlot.sizes)&&(e.rawSlot.sizes=e.rawSlot.sizes.filter(function(t){return"fluid"!==t}))}catch(t){e.reportError(t,"sizeFilter")}return e}return g(i,[{key:"reportError",value:function(t,e,n){n=2<arguments.length&&void 0!==n&&n;Object(a.b)(t,"AaxSlot-".concat(e),n)}},{key:"aaxSlot",get:function(){try{if("video"!==this.rawSlot.mediaType)return b(p(i.prototype),"aaxSlot",this);Object(s.c)("slotType","video");var t={id:this.slotID,mt:"v",kv:this.aaxSlotParams};return 0<this.sizes.length&&(t.s=this.sizes.filter(c.k).map(function(t){return t.join("x")})),this.floor&&(t.fc=this.floor.currency,t.fp=this.floor.value),t}catch(t){return this.reportError(t,"aaxSlot"),{sd:"",s:[]}}}},{key:"sizes",get:function(){try{var e,t,n=[];return Object(c.m)(this.rawSlot,"sizes")&&Object(c.k)(this.rawSlot.sizes)&&(e="2d",!(0<(t=this.rawSlot.sizes).length)||Object(c.k)(t[0])||"string"==typeof t[0]&&j.test(t[0])||(e="1d",t=[t]),n=t.filter(function(t){return function(n,e){function t(t){t=JSON.stringify(t);-1===O.indexOf(t)&&(O.push(t),Object(a.b)({name:"AaxSlot-InvalidSize",message:"Invalid Slot Size: ".concat(JSON.stringify(e))},"isValidSize-invalid"))}try{return"string"==typeof e&&j.test(e)?(Object(s.c)("AaxSlotSizes","".concat(n,"-compiled")),!0):Object(c.k)(e)&&1!==e.length?(2<e.length&&t(e),e.slice(0,2).reduce(function(t,e){return t&&!("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&!S.test(e)||("string"==typeof e?Object(s.c)("AaxSlotSizes","".concat(n,"-string")):Object(s.c)("AaxSlotSizes","".concat(n,"-number")),0))},!0)):(t(e),!1)}catch(t){return Object(a.b)(t,"isValidSize"),!0}}(e,t)}).map(function(t){return Object(c.k)(t)?t:t.split("x").map(function(t){return parseInt(t,10)})})),n}catch(n){return this.reportError(n,"sizes"),[]}}},{key:"floor",get:function(){var t;try{Object(c.m)(this.rawSlot,"floor")&&"USD"===this.rawSlot.floor.currency&&_(this.rawSlot.floor.value)?(t=this.rawSlot.floor,Object(s.c)("customFloor","y")):Object(s.c)("customFloor","n")}catch(t){this.reportError(t,"floor")}return t}}]),i}();function v(t,e,n){m(this,v),y(this,"mediaType","display"),y(this,"slotID",void 0),y(this,"slotName",void 0),y(this,"slotParams",void 0),y(this,"rawSlot",void 0),this.slotID=t,this.slotName=e,this.slotParams=n}function w(){m(this,w),y(this,"isSupported",!1),y(this,"needNewBidObject",!1)}function _(t){return"number"==typeof t&&0<t&&t%1==0}},function(t,e,n){"use strict";n.d(e,"b",function(){return y}),n.d(e,"a",function(){return h}),n.d(e,"d",function(){return O}),n.d(e,"c",function(){return j});var i=n(1),r=n(15),c=n(8),a=n(3),s=n(2),u=n(6),d=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var b=["email"],l=/@/,f=/^[0-9a-fA-F]{64}$/,p="noconsent";function m(t){return t===p?"AMZN-NoCookieConsent":"AMZN-Token"}function g(t,e,n){var r=0<arguments.length&&void 0!==t?t:"",e=1<arguments.length&&void 0!==e?e:0,n=2<arguments.length&&void 0!==n?n:"token";try{var o=new Date(e).toUTCString();document.cookie="".concat(m(n),"=").concat(r,"; expires=").concat(o,"; path=/;")}catch(t){Object(i.b)(t,"setAmznToken-".concat(n),!0)}}function y(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"token";try{var t=Object(d.d)().filter(function(t){return t[0]===m(e)});return 0===t.length?"":t[0][1]}catch(t){return Object(i.b)(t,"getAmznToken-".concat(e),!0),""}}function h(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"api";try{if(void 0!==t&&"function"!=typeof t)throw new Error("Callback function must be a function, ".concat(o(t)," provided"));"function"!=typeof t&&(t=function(){}),g(),g("",0,"noconsent"),Object(a.c)("id","d-".concat(e))}catch(t){Object(i.b)(t,"deleteIdentity",!0)}t()}function O(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"api";"function"!=typeof e&&(e=function(){});try{if(!Object(d.l)(t))throw new Error("'tokenConfig' must be an object, ".concat("object"===o(t)?"null":o(t)," provided"));if(t.optOut)return void h(e,"u-oo");if(h(function(){},"u"),Object(a.c)("id","u-".concat(n)),!function(t){try{var e=[];return!Object(d.m)(t,"gdpr")||Object(d.l)(t.gdpr)&&!Object(d.k)(t.gdpr)?Object(d.m)(t,"gdpr")&&(Object(d.m)(t.gdpr,"enabled")&&-1===[!0,!1].indexOf(t.gdpr.enabled)&&e.push("`gdpr.enabled` must be a boolean"),Object(d.m)(t.gdpr,"consent")&&"string"!=typeof t.gdpr.consent&&e.push("'gdpr.consent' must be a valid IAB-formatted string")):e.push("`gdpr` must be an Object"),Object(d.m)(t,"optOut")&&-1===[!0,!1].indexOf(t.optOut)&&e.push("'optOut' must be a boolean"),Object(d.m)(t,"hashedRecords")&&Object(d.k)(t.hashedRecords)?1!==t.hashedRecords.length?e.push("'hashedRecords' must contain exactly one item"):t.hashedRecords.forEach(function(t){Object(d.m)(t,"type")&&-1!==b.indexOf(t.type)||e.push("'type' must be 'email' in item '".concat(JSON.stringify(t),"'")),Object(d.m)(t,"encrypted")&&"boolean"!=typeof t.encrypted&&e.push("'encrypted' must be a boolean in item '".concat(JSON.stringify(t),"'")),Object(d.m)(t,"record")&&"string"==typeof t.record?t.encrypted||f.test(t.record)?t.encrypted&&l.test(t.record)&&e.push("'record' must NOT be an un-hashed, un-encrypted email"):e.push("'record' must be a SHA256 hash in item '".concat(JSON.stringify(t),"'")):e.push("'record' must be a string in item '".concat(JSON.stringify(t),"'"))}):e.push("'hashedRecords' must be an array"),Object(d.m)(t,"ttl")&&("number"!=typeof t.ttl||isNaN(t.ttl)||t.ttl<=0||t.ttl%1!=0)&&e.push("'ttl' must be a positive integer"),!(0<e.length)||void Object(i.b)({name:"TokenConfigValidationError",message:"There was an issue with the TokenConfig provided ".concat(JSON.stringify(t),":\n")+e.map(function(t){return"- ".concat(t)}).join("\n")},"validateTokenConfig-invalid",!0)}catch(t){return Object(i.b)(t,"validateTokenConfig",!0),0}}(t))return void e();Object(r.a)(t.gdpr,function(t,n,e){try{n=Object(u.a)(n);var r=s.a.getState().config;if(!Object(d.m)(r,"pubID"))throw new Error("apstag.init must be called before ID functions");var o={url:"https://tk.amazon-adsystem.com/envelope",onload:function(t){try{if(t.readyState===XMLHttpRequest.DONE&&200===t.status){var e=JSON.parse(t.responseText);if("string"!=typeof e.AIPToken||"number"!=typeof e.cookieExpiry)return n(),void Object(i.b)(new Error("Invalid AIPES response"),"callAipes-response");""===e.AIPToken?(Object(a.c)("id","endReqAipes-tokenEmpty"),g("1",e.cookieExpiry,p)):(Object(a.c)("id","endReqAipes-tokenAvailable"),g(e.AIPToken,e.cookieExpiry),Object(a.f)())}else t.readyState===XMLHttpRequest.DONE&&Object(i.b)(new Error("AIPES response code: ".concat(t.status)),"callAipes-onload",!0)}catch(t){Object(i.b)(t,"callAipes-onload",!0)}n()},onerror:function(){Object(i.b)(new Error("AIPES response code: ".concat(this.status)),"callAipes-onerror",!0),n()},ontimeout:function(){Object(i.b)(new Error("AIPES request timeout"),"callAipes-ontimeout",!0),n()},headers:{"Content-Type":"application/json"},body:function(t,e,n){try{var r={publisherId:e.pubID,hashedRecords:t.hashedRecords};return n.enabled?(r.gdpr=1,void 0!==n.consent&&(r.gdprConsent=n.consent)):0===n.enabled&&(r.gdpr=0),void 0!==t.ttl&&(r.ttl=t.ttl),JSON.stringify(r)}catch(t){return Object(i.b)(t,"buildAipesBody",!0),""}}(t,r,e)};Object(a.c)("id","startReqAipes"),Object(c.d)(o)}catch(t){Object(i.b)(t,"callAipes",!0),n()}}.bind(null,t,e))}catch(t){Object(i.b)(t,"updateIdentity",!0),e()}}function j(t,e){"function"!=typeof e&&(e=function(){});try{if(!Object(d.l)(t))throw new Error("'tokenConfig' must be an object, ".concat("object"===o(t)?"null":o(t)," provided"));if(t.optOut)return void h(e,"r-oo");if(""!==y("noconsent"))return void e();if(""!==y())return e(),void Object(a.c)("id","r-noop");O(t,e,"r")}catch(t){Object(i.b)(t,"renewIdentity",!0),e()}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var u=n(1),d=n(3),b=n(0);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function f(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach(function(t){var e,n;e=r,t=o[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};var p="__cmp",m="__tcfapi";function r(t,e){var n=!1,r={log:{status:"no-status"}},o=50,i="global-func-error";function c(){n||(n=!0,e(f(f({},r),{},{log:f({},r.log)})))}e=Object(u.d)(e,"GdprCallback");var a="null";function s(t,e){try{if(!e||!Object(b.l)(t))return r.log.status="".concat(a,"-error"),void c();r.log.status="".concat(a,"-success"),Object(b.m)(t,"tcString")?r.consent=t.tcString:Object(b.m)(t,"consentData")&&(r.consent=t.consentData),r.enabled=t.gdprApplies?1:0,0===r.enabled&&delete r.consent,c()}catch(t){r.log.status="func-error",c(),Object(u.b)(t,"cmpCallback-".concat(a),!0)}}try{if(!1===(t=Object(b.l)(t)?f({},t):{}).enabled||0===t.enabled?(r.log.status="explicit-no-gdpr",r.enabled=0):!0===t.enabled||1===t.enabled?(r.log.status=Object(b.m)(t,"consent")?"explicit-consent-passed":"explicit-no-consent-passed",r.enabled=1,r.consent=t.consent):Object(b.m)(t,"enabled")&&(r.log.status=Object(b.m)(t,"consent")?"malformed-with-consent":"malformed-without-consent",r.consent=t.consent,Number.isInteger(t.enabled)?r.enabled=t.enabled:r.enabled=1),Object(b.m)(t,"enabled")&&(r.log.enabled=t.enabled),Object(b.m)(t,"cmpTimeout")&&Number.isInteger(t.cmpTimeout)&&(o=t.cmpTimeout,r.log.cmpTimeout=o),void 0!==r.enabled)return Object(d.c)("gdpr","pub-api"),Object(b.m)(r,"consent")&&"string"!=typeof r.consent&&(delete r.consent,Object(u.b)(new Error("Invalid consent: must be string, given ".concat(l(r.consent))),"getGdprConfig-pub-consent-invalid",!0)),void c()}catch(t){Object(u.b)(t,"getGdprConfig-parseConfig",!0)}try{if(Object(b.m)(window,m)&&"function"==typeof window[m])a="tcfv2";else{if(!Object(b.m)(window,p)||"function"!=typeof window[p])return Object(d.c)("gdpr","no-cmp"),r.log.status="no-cmp",void c();a="cmp"}Object(d.c)("gdpr",a),setTimeout(function(){r.log.status="".concat(a,"-timeout"),c()},o),i="".concat(a,"-internal-error"),"cmp"===a?window[p]("getConsentData",null,s):window[m]("getTCData",2,s)}catch(t){r.log.status=i,c(),Object(u.b)(t,"getGdprConfig-".concat(i),!0)}}},function(t,e,n){"use strict";n.d(e,"b",function(){return m}),n.d(e,"a",function(){return g});var c=n(0),a=n(13),s=n(1);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return!(e=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))||"object"!==o(e)&&"function"!=typeof e?f(this):e}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(){b(r,a.c);var n=l(r);function r(t){var e;return u(this,r),p(f(e=n.call(this,t.getSlotElementId(),t.getAdUnitPath())),"rawSlot",void 0),p(f(e),"mediaType","display"),e.rawSlot=t,e}return d(r,[{key:"reportError",value:function(t,e,n){n=2<arguments.length&&void 0!==n&&n;Object(s.b)(t,"GptSlot-".concat(e),n)}},{key:"setTargeting",value:function(t,e){try{this.rawSlot.setTargeting(t,e)}catch(t){this.reportError(t,"setTargeting")}}},{key:"getTargeting",value:function(t){try{return this.rawSlot.getTargeting(t)}catch(t){return this.reportError(t,"getTargeting"),[]}}},{key:"clearTargeting",value:function(t){try{this.rawSlot.clearTargeting(t)}catch(t){this.reportError(t,"clearTargeting")}}},{key:"sizes",get:function(){try{var t=Object(c.h)(window).split("x").map(function(t){return Number(t)}),e=this.rawSlot.getSizes(t[0],t[1]);return null===e?[]:e.filter(function(t){return"fluid"!==t}).map(function(t){return[t.getWidth(),t.getHeight()]})}catch(t){return this.reportError(t,"sizes"),[]}}}]),r}(),g=function(){b(i,a.b);var o=l(i);function i(){var t;u(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p(f(t=o.call.apply(o,[this].concat(n))),"isSupported",!0),t}return d(i,[{key:"reportError",value:function(t,e){Object(s.b)(t,"GoogletagAdServer-".concat(e))}},{key:"cmdQueuePush",value:function(t){try{window.googletag.cmd.push(t)}catch(t){this.reportError(t,"cmdQueuePush")}}},{key:"slotRenderEndedEvent",value:function(e){try{window.googletag.pubads().addEventListener("slotRenderEnded",function(t){t=new m(t.slot);e(t)})}catch(e){this.reportError(e,"slotRenderEndedEvent")}}},{key:"setTargeting",value:function(t,e){try{window.googletag.pubads().setTargeting(t,e)}catch(t){this.reportError(t,"setTargeting")}}},{key:"getTargeting",value:function(t){try{return window.googletag.pubads().getTargeting(t)||[]}catch(t){return this.reportError(t,"getTargeting"),[]}}},{key:"clearTargeting",value:function(t){try{window.googletag.pubads().clearTargeting(t)}catch(t){this.reportError(t,"clearTargeting")}}},{key:"hasAdServerObjectLoaded",value:function(){try{return Object(c.m)(window,"googletag")&&Object(c.m)(window.googletag,"apiReady")&&!0===window.googletag.apiReady}catch(t){return this.reportError(t,"hasAdServerObjectLoaded"),!1}}},{key:"isCommandQueueDefined",value:function(){try{return Object(c.m)(window,"googletag")&&Object(c.m)(window.googletag,"cmd")}catch(t){return this.reportError(t,"isCommandQueueDefined"),!1}}},{key:"getSlots",value:function(){try{return window.googletag.pubads().getSlots().map(function(t){return new m(t)})}catch(t){return this.reportError(t,"getSlots"),[]}}}]),i}()},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"b",function(){return c});var u=n(1),r=n(0);function o(t){try{return!(!Object(r.m)(t,"$sf")||!Object(r.m)(t.$sf,"ext"))}catch(t){return Object(u.b)(t,"isSafeFrame"),!1}}function i(t,e){try{var n=e.innerWidth,r=e.innerHeight,o=parseInt(t[0],10),i=parseInt(t[1],10),c=o-n,a=i-r,s=e.sfAPI||e.$sf.ext;s&&(n===o&&r===i||(s.register(o,i),s.expand({r:c,b:a,push:!0})))}catch(t){Object(u.b)(t,"expandSf")}}function c(t){try{return 1===t.innerWidth&&1===t.innerHeight}catch(t){return Object(u.b)(t,"is1x1Creative"),!1}}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"c",function(){return l}),n.d(e,"a",function(){return g});var o=n(8),c=n(1),a=n(4),s=n(5),u=n(2),d=n(6),b=n(0),p=n(10),m=n(3);function r(t){var r=u.a.getState().experiments.shouldSampleLatency,e;Object(b.i)()&&(e=window.localStorage.getItem(a.j),e&&(window.apstag.thirdPartyData.ids=JSON.parse(e)));var i=Date.now(),n={url:f(t),withCredentials:!0,onload:function t(e){if(200===e.status)try{u.a.dispatch({type:"RECORD_LIBRARY_LOAD_CALL_LATENCY",latency:Date.now()-i}),r&&setTimeout(m.d,1e3);var n=JSON.parse(e.response);eval(n["3pvendor"])}catch(t){Object(c.b)(t,"load3PLibraryConfig-onload",!0)}},onerror:function(){}};try{Object(o.d)(n)}catch(t){Object(c.b)(t,"load3PLibraryConfig",!0)}r&&setTimeout(m.d,1e3)}function f(t){try{var e=u.a.getState(),n=Object(s.c)("host",e.hosts.DEFAULT_AAX_BID_HOST),r=e.cfg.LIB_CONFIG_PATH,o={src:t.isSelfServePub?a.s:t.pubID,u:Object(d.g)(window)};t.isSelfServePub&&(o.pubid=t.pubID);var i=Object.keys(o).map(function(t){return"".concat(t,"=").concat(o[t])}).join("&");return"".concat(a.r).concat(n).concat(r,"?").concat(i)}catch(t){return Object(c.b)(t,"buildLibraryConfigUrl",!0),""}}function i(){return Object(b.m)(window,"creativeVendorLibraryLoaded")&&!0===window.creativeVendorLibraryLoaded||Object(b.m)(window,"confiant")}function l(){var i={renderTimes:{}};window.addEventListener("message",function(t){var e,n,r,o;Object(b.l)(t.data)&&(Object(b.m)(t.data,"bidInfo")&&(Object(b.m)(t.data.bidInfo,"src")?(n=t.data.bidInfo.src,e=new URL(n).searchParams.get("b")):Object(b.m)(t.data.bidInfo,"jsonp")&&(r=t.data.bidInfo.jsonp,e=JSON.parse(r.substr(17,r.length-20)).amzniid)),Object(b.m)(t.data,"renderData")&&(n=(o=t.data.renderData).id,(Object(b.m)(o,"renderStart")||Object(b.m)(o,"renderEnd"))&&(r=o.renderStart,o=o.renderEnd,r?(i.renderTimes[n]={timeStamp:r},e&&(i.renderTimes[n].bidId=e)):o&&Object(b.m)(i.renderTimes,n)&&0!==i.renderTimes[n].timeStamp&&(o=o-i.renderTimes[n].timeStamp,o={_type:"iframeRender",c:"dtb",pid:p.b,crt:o},(e=i.renderTimes[n].bidId?i.renderTimes[n].bidId:e)?Object(m.a)(e,o):Object(m.b)(o)))),Object(b.m)(t.data,"blockData")&&(t=t.data.blockData.blockInfo,t={_type:"malwareBlock",c:"dtb",tpbr:1,pid:p.b,info:t},e?Object(m.a)(e,t):Object(m.b)(t)))},!0)}function g(t,e){window.apstag.thirdPartyData.ids?e(window.apstag.thirdPartyData.ids):e({})}},function(t,e,n){"use strict";function r(t){return void 0!==t.amzniid}function o(t){return void 0!==t.kvMap}n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o})},function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return a});var r=n(4),o=n(0),i=n(1);function c(t){try{return Object(o.m)(t,"debug")}catch(t){return Object(i.b)(t,"isApstagLibrary"),!1}}function a(t){try{return!!Object(o.m)(t,r.a)&&!0===t[r.a]}catch(t){return Object(i.b)(t,"hasApstagJsLoaded"),!1}}},,,,,,function(t,e,n){t.exports=n(27)},function(t,e,n){"use strict";n.r(e);var zt=n(15),xt=n(2),Bt=n(6),Lt=n(0),Nt=n(12),qt=n(5),Ft=n(4),Ut=n(11),Mt=n(17),Ht=n(3),Qt=n(1),Xt=n(8),Gt=n(16),r=n(20),Vt=n(7),Kt=n(10),Jt=n(13),Yt=n(19),Wt=n(9),$t=n(18),Zt=n(14);function te(t){return a(t)||c(t)||o(t)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function c(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t){if(Array.isArray(t))return s(t)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){ne(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function re(t){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}try{var d=Object(r.b)(window.apstag);d?Object(Qt.b)(new Error("apstag has already loaded - preventing duplicate load"),"apstag-duplicateLoad",!0):(Object(r.a)(window)&&Object(Qt.b)(new Error("apstag was loaded and then destroyed"),"apstag-destroyReload",!0),window.apstagLOADED=!0,function(){var b=Object(Ut.e)(window,"navigationStart"),t="ls",e=Object(qt.d)("console")||function(){try{return-1!==window.location.href.indexOf("amzn_debug_console=1")&&(t="url",!0)}catch(t){return!1}}(),n=Object(qt.d)("console_v2")||function(){try{return-1!==window.location.href.indexOf("amzn_debug_console=2")&&(t="url",!0)}catch(t){return!1}}(),uq;function r(t){try{t.ts=Date.now(),xt.a.dispatch({type:"LOG_EVENT",event:t})}catch(t){Object(Qt.b)(t,"_logEvent")}}function i(t){function e(t){try{var e;xt.a.getState().cmpFired||(xt.a.dispatch({type:"CMP_FIRED"}),(e=document.createElement("iframe")).style.display="none",e.src=t,document.body.appendChild(e))}catch(t){Object(Qt.b)(t,"_doCookieMatch-ready")}}try{"loading"===document.readyState?document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){e(t)},!1):e(t)}catch(t){Object(Qt.b)(t,"_doCookieMatch")}}function o(t){try{var e=xt.a.getState().cfg.COOKIE_MATCH_DELAY;setTimeout(function(){try{Object(Lt.m)(t,"cmp")?i(t.cmp):Object(Lt.m)(t,"cmpjs")&&Object(Xt.b)(t.cmpjs)}catch(t){Object(Qt.b)(t,"_tryCookieMatch-setTimeout")}},e)}catch(t){Object(Qt.b)(t,"_tryCookieMatch")}}function c(t){try{return!xt.a.getState().experiments.chunkRequests||0===xt.a.getState().bidReqs[t.split("-")[0]].networkReqs.filter(function(t){return t.inFlight}).length}catch(t){return Object(Qt.b)(t,"_isRequestComplete"),1}}function a(t,e){try{!xt.a.getState().bidReqs[t].hasCallbackExecuted&&c(t)&&(xt.a.dispatch({type:"RECORD_CALLBACK",fid:t}),e())}catch(t){Object(Qt.b)(t,"_checkAndCallCallback")}}function s(t){try{xt.a.getState().experiments.chunkRequests&&xt.a.dispatch({type:"RECORD_NETWORK_EXCHANGE",fid:t[0],timestamp:Date.now(),exchangeType:"response",networkID:parseInt(t[1],10)})}catch(t){Object(Qt.b)(t,"_recordResponse")}}function p(t,r,e){var i=e.split("-"),n={url:t,withCredentials:!0,onload:function t(e){try{s(i);var n=e.responseText;eval(n),a(i[0],r)}catch(t){Object(Qt.b)(t,"_xhrBid-onload",!0)}},onerror:function(){try{s(i),a(i[0],r)}catch(t){Object(Qt.b)(t,"_xhrBid-onerror",!0)}}};try{Object(Xt.d)(n)}catch(t){Object(Qt.b)(t,"_xhrBid",!0),s(i),a(i[0],r)}}function u(t){try{var e=new Date;return e.setTime(e.getTime()+1e3*t),e.toUTCString()}catch(t){return Object(Qt.b)(t,"_getCookieExpiry"),"Thu, 01 Jan 1970 00:00:00 GMT"}}function d(t){try{Object(Lt.m)(t,"cr")&&t.cr.forEach(function(t){document.cookie="".concat(t.k,"=").concat(t.v,";expires=").concat(-1!==t.exp?u(t.exp):Object(Lt.g)(365),";path=/;")})}catch(t){Object(Qt.b)(t,"_setFirstPartyCookies")}}function f(t){try{var e;Object(Lt.m)(t,"cb")&&(xt.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:t.cb,key:"resTs",value:Date.now()}),e=new RegExp("e/dtb/bid.*cb=".concat(t.cb)),xt.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:t.cb,key:"perf",value:Object(Ut.c)(window,e)})),Object(Lt.m)(t,"cfg")&&xt.a.dispatch({type:"SET_CFG",cfg:t.cfg}),K(t)}catch(t){Object(Qt.b)(t,"_doOnAaxResponse",!0)}}function l(t){try{if(o(t),d(t),Object(Lt.m)(t,"cfg")&&localStorage.setItem(Ft.c,JSON.stringify(t.cfg)),Object(Lt.m)(t,"st")&&Object(Lt.j)(t.st,917)&&xt.a.getState().sync917){xt.a.dispatch({type:"SET_SYNC_917",value:!1});try{P()}catch(t){Object(Qt.b)(t,"__error-doFbSync__")}}m(t),Object(Bt.j)(t)||Object(Ht.f)()}catch(t){Object(Qt.b)(t,"_doAfterAaxResponse",!0)}}function m(t){try{var e;Object(Lt.m)(t,"fp")&&(e=t.fp,Object(Lt.m)(e,"length")&&e.forEach(function(t){var e=t.d||0;setTimeout(function(){Object(Ht.e)(t.s)},e)}))}catch(t){Object(Qt.b)(t,"fireAAXPixels")}}function g(){try{xt.a.getState().Q.forEach(function(t){var e="init";switch(t[0]){case"i":e="init";break;case"f":e="fetchBids";break;case"di":e="deleteId";break;case"ri":e="renewId";break;case"ui":e="updateId";break;default:return}window.apstag[e].apply(null,t[1])})}catch(t){Object(Qt.b)(t,"_QHandler",!0)}}function y(e){try{Object(Lt.l)(e)||(Object(Qt.c)("init.config",re(e),"object"),e={pubID:"err"}),Object(Wt.b)(e.pubID,["string","number"])?"number"==typeof e.pubID&&(e.pubID="".concat(e.pubID)):Object(Qt.c)("init.config.pubID",re(e.pubID),"string"),Object(Wt.b)(e.adServer,["undefined","string"])||Object(Qt.c)("init.config.adServer",re(e.adServer),"string"),Object(Wt.a)(e.bidTimeout)||("string"==typeof e.bidTimeout?Object(Qt.b)({name:"string-".concat(e.bidTimeout),message:"init.config.bidTimeout was a non-numeric string '".concat(e.bidTimeout,"'")},"TypeError-init.config.bidTimeout",!0):Object(Qt.c)("init.config.bidTimeout",re(e.bidTimeout),"number")),Object(Wt.b)(e.gdpr,["undefined","object"])?"object"===re(e.gdpr)&&(Object(Wt.a)(e.gdpr.cmpTimeout)||(Object(Wt.b)(e.gdpr.cmpTimeout,["string","undefined"])?Object(Qt.b)({name:"string-".concat(e.bidTimeout),message:"init.config.gdpr.cmpTimeout was a non-numeric string '".concat(e.gdpr.cmpTimeout,"'")},"TypeError-init.config.gdpr.cmpTimeout",!0):Object(Qt.c)("init.config.gdpr.cmpTimeout",re(e.gdpr.cmpTimeout),"number"))):Object(Qt.c)("init.config.gdpr",re(e.gdpr),"object"),Object(Lt.m)(e,"params")&&!Object(Lt.l)(e.params)?Object(Qt.c)("init.config.params",re(e.params),"object"):Object(Lt.m)(e,"params")&&Object.keys(e.params).forEach(function(t){return!(!Object(Lt.m)(e,"params")||"string"!=typeof e.params[t]&&"number"!=typeof e.params[t]&&(Object(Lt.k)(e.params[t])?!e.params[t].reduce(function(t,e){return t&&("string"==typeof e||"number"==typeof e)},!0)&&(Object(Qt.b)({name:"non-string array item",message:"'init.config.params.".concat(t," contains a non-string item")},"TypeError-init.config.params.".concat(t),!0),1):(Object(Qt.c)("init.config.params.".concat(t),re(e.params[t]),"string' or 'array"),1)))}),Object(Lt.m)(e,"params")&&Object(Lt.m)(e.params,"us_privacy")&&"string"==typeof e.params.us_privacy&&Ft.x.test(e.params.us_privacy)?Object(Ht.c)("ccpa","y"):Object(Lt.m)(e,"params")&&Object(Lt.m)(e.params,"us_privacy")?Object(Ht.c)("ccpa","i"):Object(Ht.c)("ccpa","n"),Object(Lt.m)(e,"blockedBidders")&&!Object(Lt.k)(e.blockedBidders)?Object(Qt.c)("init.config.blockedBidders",re(e.blockedBidders),"array"):Object(Lt.m)(e,"blockedBidders")&&Object(Lt.k)(e.blockedBidders)&&(e.blockedBidders.reduce(function(t,e){return t&&("string"==typeof e||"number"==typeof e)},!0)||Object(Qt.b)({name:"non-string array item",message:"'init.config.blockedBidders contains a non-string item"},"TypeError-init.config.blockedBidders",!0)),Object(Lt.m)(e,"blockedBidders")?Object(Ht.c)("blockedBidders-init","y"):Object(Ht.c)("blockedBidders-init","n"),Object(Wt.b)(e.simplerGPT,["undefined","boolean"])||Object(Qt.c)("init.config.simplerGPT",re(e.simplerGPT),"boolean"),e.simplerGPT?Object(Ht.c)("simplerGpt","y"):Object(Ht.c)("simplerGpt","n"),Object(Wt.b)(e.deals,["undefined","boolean"])||Object(Qt.c)("init.config.deals",re(e.deals),"boolean"),e.deals?Object(Ht.c)("deals","y"):Object(Ht.c)("deals","n"),Object(Wt.b)(e.schain,["undefined","object"])&&null!==e.schain?Object(Lt.m)(e,"schain")&&!Object(Kt.i)(e.schain)&&delete e.schain:(Object(Qt.c)("init.config.schain",re(e.schain),"object"),delete e.schain),Object(Lt.m)(e,"schain")?Object(Ht.c)("schain","y"):Object(Ht.c)("schain","n"),Object(Wt.b)(e.useSafeFrames,["undefined","boolean"])||(Object(Qt.c)("init.config.useSafeFrames",re(e.useSafeFrames),"boolean"),delete e.useSafeFrames),e.useSafeFrames?Object(Ht.c)("useSafeFrames","y"):Object(Ht.c)("useSafeFrames","n")}catch(t){Object(Qt.b)(t,"_validateAndStoreConfig-validateConfig")}try{var t=xt.a.getState().config;Object(Lt.m)(t,"pubID")&&Object(Lt.m)(e,"pubID")&&t.pubID!==e.pubID&&Object(Qt.b)(new Error("`apstag.init` was called multiple times with different pubIDs (".concat(t.pubID," then ").concat(e.pubID,")")),"_validateAndStoreConfig-diffPubId",!0),xt.a.dispatch({type:"SET_CONFIG",config:e,defaultCmpTimeout:xt.a.getState().cfg.GDPR_CMP_TIMEOUT})}catch(t){Object(Qt.b)(t,"_validateAndStoreConfig",!0)}}function h(t){try{var e=t.slotID;if(Object(Lt.m)(t.bidConfig,"mediaType")&&"v"===t.bidConfig.mediaType)return;if(!Vt.a.hasAdServerObjectLoaded())return void Object(Qt.a)("displayAdServer Object hasn't been defined",!0);if(!Vt.a.isCommandQueueDefined())return void Object(Qt.a)("displayAdServer Object's cmd queue hasn't been defined",!0);Vt.a.hasAdServerObjectLoaded()?null!==O(e)?A(t):Object(Qt.a)("".concat(e," isn't defined when trying to set amazon bid!")):Vt.a.cmdQueuePush(function(){h(t)})}catch(t){Object(Qt.b)(t,"_safeApplySlotTargeting",!0)}}function O(e){var t=null;try{t=Object(Nt.b)(Vt.a).filter(function(t){return t.slotID===e})[0]||null}catch(t){Object(Qt.b)(t,"_getAdServerSlot")}return t}function j(e){try{var t=xt.a.getState().targetingKeys[e.slotID];Vt.a.hasAdServerObjectLoaded()&&Object(Lt.k)(t)&&t.forEach(function(t){return 0<e.getTargeting(t).length&&e.clearTargeting(t)})}catch(t){Object(Qt.b)(t,"_clearTargetingFromSlot",!0)}}function v(t){try{var e;!Object(Lt.m)(xt.a.getState().slotBids,t.slotID)||(e=xt.a.getState().slotBids[t.slotID].filter(function(t){return t.bidState===Ft.b.set})[0])&&e.bidState===Ft.b.set&&xt.a.dispatch({type:"BID_STATE_CHANGE",slotID:t.slotID,_targetingSetID:e._targetingSetID,bidState:Ft.b.exposed})}catch(t){Object(Qt.b)(t,"_clearBidSetOnSlot",!0)}}function S(t,e){try{return t.map(function(t){return Object(Lt.j)(e,t)}).filter(function(t){return t}).length===t.length}catch(t){return Object(Qt.b)(t,"_hasAllItemsInArray"),0}}function w(){var n={};try{Object.keys(xt.a.getState().slotBids).forEach(function(t){var e=xt.a.getState().slotBids[t].filter(Kt.f);0<e.length&&(n[t]=e.map(function(e){var t=xt.a.getState().AAXReqs.filter(function(t){return t.bidReqID===e.bidReqID}),n=0;return 0<t.length?n=t[0].rqTs:(t=xt.a.getState().AAXReqs.map(function(t){return t.bidReqID}).join(", "),Object(Qt.b)({name:"BidError",message:"Request not found: ".concat(e.bidReqID," not found in ").concat(t)},"_getCurrentSlotBids-noRequest")),{rqTs:n,bid:e}}).reduce(function(t,e){return t.rqTs>e.rqTs?t:e}).bid)})}catch(n){Object(Qt.b)(n,"_getCurrentSlotBids",!0)}return n}function _(t,e){try{return Object(Lt.k)(xt.a.getState().targetingKeys[t])?e?["amzniid_sp"]:xt.a.getState().targetingKeys[t].filter(function(t){return-1<t.indexOf("amzniid")&&t.indexOf("amzniid_sp")<0}):["amzniid"]}catch(t){return Object(Qt.b)(t,"_getAllBidIdKeys"),[]}}function E(n,r){var o,i;try{var e=xt.a.getState().slotBids;Object.keys(e).forEach(function(t){e[t].forEach(function(e){_(t,r).forEach(function(t){e.bidConfig[t]===n&&(o=e,"amzniid_sp"===t?i="sp":"amzniid"!==t&&(i=t.substr(0,t.indexOf("amzniid"))))})})})}catch(n){Object(Qt.b)(n,"_findSlotBidByBidID",!0)}return{slotBid:o,dealId:i}}function D(t,e,n){var r="";try{e.bidConfig[n+"amzniid"]===t&&(r=n.split("_").pop().trim())}catch(t){Object(Qt.b)(t,"_getPMPBidSize")}return r}function I(t){try{if(void 0===t.slots)return[];var n={},r=(xt.a.getState().bidConfigs[t.cb]||{slots:[]}).slots.reduce(function(t,e){return t[e.slotID]=e,t},{});return t.slots.forEach(function(e){var t;void 0===e.mediaType&&void 0!==r[e.slotID]&&(t=r[e.slotID].mediaType,e.mediaType="display"===t?"d":"v"),"video"!==e.mediaType&&"v"!==e.mediaType?n[e.slotID]=new Kt.a(e):(0<=e.slotID.indexOf("rsv-")&&(e={slotID:e.slotID.substring(4),r_amznbid:e.amznbid,r_amzniid:e.amzniid,r_amznp:e.amznp,mediaType:"video",targeting:["r_amznbid","r_amzniid","r_amznp"],amznsz:e.amznsz,size:e.size,crid:e.crid,meta:e.meta}),Object(Lt.m)(n,e.slotID)?e.targeting.forEach(function(t){n[e.slotID].bidConfig[t]=e[t],-1===n[e.slotID].bidConfig.targeting.indexOf(t)&&n[e.slotID].bidConfig.targeting.push(t)}):n[e.slotID]=new Kt.a(e))}),Object.keys(n).map(function(t){return n[t]})}catch(t){return Object(Qt.b)(t,"_mergeVideoBids"),[]}}function T(e){var t=I(e),n=[];try{n=t.map(function(t){return t.bidReqID=e.cb,t.host=e.host,t.ev=e.ev,t.cfe=e.cfe,t})}catch(t){Object(Qt.b)(t,"_convertAaxResponse")}return n}function A(t){try{var e=t.slotID,n=t._targetingSetID;if(t.bidState===Ft.b.set)return;var r,o=O(e);null!==o&&(v(o),r=t.newBidObject,Object.keys(r.targeting).forEach(function(t){return o.setTargeting(t,r.targeting[t])}),xt.a.dispatch({type:"BID_STATE_CHANGE",slotID:e,_targetingSetID:n,bidState:Ft.b.set,ts:Date.now()}))}catch(t){Object(Qt.b)(t,"_applyTargetingToAdServerSlot",!0)}}function R(t){try{var e=w();t.forEach(function(t){e[t]&&h(e[t])})}catch(t){Object(Qt.b)(t,"_applySuppliedSlotBidsToAdServerObject",!0)}}function C(){try{var e=w();Object.keys(e).forEach(function(t){return h(e[t])})}catch(e){Object(Qt.b)(e,"_applyAllCurrentSlotBidsTargetingToAdServerObject",!0)}}function k(t){try{t?(Object(Ht.c)("targeting","setDisplayBids-list"),R(t)):(Object(Ht.c)("targeting","setDisplayBids-all"),C()),xt.a.getState().displayAdServer.slotRenderEndedSet||(Vt.a.cmdQueuePush(function(){try{Vt.a.slotRenderEndedEvent(function(t){try{j(t),v(t)}catch(t){Object(Qt.b)(t,"_applySlotTargeting-cmdQueue-slotCb",!0)}})}catch(t){Object(Qt.b)(t,"_applySlotTargeting-cmdQueue",!0)}}),xt.a.dispatch({type:"SLOT_RENDER_ENDED_SET"}))}catch(t){Object(Qt.b)(t,"_applySlotTargeting",!0)}}function P(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="1881141382166183";function e(t){try{var e=JSON.parse(t),n=e.fbToken,r=new Date(parseInt(e.expAfter,10)).toUTCString();document.cookie="aps_ext_917=".concat(n,"; expires=").concat(r)}catch(t){Object(Qt.b)(t,"_doFbSync-setFbCookie")}}function r(t){try{!function(t,e,n){try{!function(t,e){try{var n={url:t,withCredentials:!0,onload:function(t){return e(t.responseText)}};Object(Xt.d)(n)}catch(t){Object(Qt.b)(t,"_doFbSync-sendTokenRequest")}}(function(t,e){try{return"".concat("https://www.facebook.com/audiencenetwork/token/update","?partner=").concat(encodeURIComponent(t),"&vr_token=").concat(encodeURIComponent(e))}catch(t){return Object(Qt.b)(t,"_doFbSync-getUpdateUrl"),""}}(t,e),n)}catch(t){Object(Qt.b)(t,"_doFbSync-getV4Token")}}(t,function(){try{for(var t="VR_",e=0;e<197;++e)t+=n.charAt(Math.floor(Math.random()*n.length));return t}catch(t){return Object(Qt.b)(t,"_doFbSync-getVrToken"),""}}(),e)}catch(t){Object(Qt.b)(t,"_doFbSync-getTokenResponse")}}try{"complete"===document.readyState?r(t):window.addEventListener("load",function(){r(t)})}catch(t){Object(Qt.b)(t,"_doFbSync")}}function z(t,e){function n(){if(!o)if(20<=i++)Object(Qt.b)({name:"LoopError",message:"Too many attempts to append to document.body"},"_safeDocumentBodyAppendChild-callback-loops",!0);else{try{if(t&&t.body&&null!==t.body&&"function"==typeof t.body.appendChild)return t.body.appendChild(e),r(),void(o=!0)}catch(t){Object(Qt.b)(t,"_safeDocumentBodyAppendChild-callback")}setTimeout(n,100)}}var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},o=!1,i=0;try{"complete"===t.readyState||"interactive"===t.readyState?(Object(Ht.c)("appended","sync"),n()):(Object(Ht.c)("appended","async"),t.addEventListener("DOMContentLoaded",n))}catch(t){Object(Qt.b)(t,"_safeDocumentBodyAppendChild")}}function x(t){try{var e="".concat(t.host).concat(xt.a.getState().cfg.DTB_PATH,"/imp"),n="".concat(t.host).concat(xt.a.getState().cfg.DTB_PATH,"/adm");return t.cfe||t.isAmp||t.isSf?n:e}catch(t){return Object(Qt.b)(t,"determineCreativeFetchEndpoint"),""}}function B(t){try{var e,n="?b=".concat(t.bidID,"&rnd=").concat(Object(Lt.e)());return Object(Lt.m)(t,"pp")&&(n+="&pp=".concat(t.pp)),Object(Lt.m)(t,"amznp")&&(n+="&p=".concat(t.amznp)),Object(Lt.m)(t,"crID")&&(n+="&crid=".concat(t.crID)),Object(Lt.m)(t,"isSharedPMP")&&!0===t.isSharedPMP&&(n+="&sp=true"),Object($t.d)()&&(n+="&ep=%7B%22ce%22%3A%221%22%7D"),e=x(t),(t.fif?"".concat(e,"j"):"".concat(e,"i")).concat(n)}catch(t){return Object(Qt.b)(t,"_creativeURL"),""}}function L(t){try{var e=t.doc.createElement("iframe");return e.frameBorder="0",e.marginHeight="0",e.marginWidth="0",e.style.marginTop="0",e.style.marginLeft="0",e.scrolling="no",t.inheritSize?(e.style.width="100%",e.style.height="100%"):(e.style.width="".concat(t.sizes[0],"px"),e.style.height="".concat(t.sizes[1],"px")),e}catch(t){return Object(Qt.b)(t,"_baseIframe"),window.document.createElement("iframe")}}function N(t){try{if(Object(Lt.m)(t,"bidType")){var e=t.kvMap;switch(t.bidType){case"sharedPMP":return{bidID:e.amzniid_sp[0],pp:e.amznbid_sp[0],sizes:e.amznsz_sp[0].split("x"),amznp:e.amznp_sp[0],inheritSize:t.inheritSize,isSharedPMP:t.isSharedPMP};case"preferredPMP":if(Object(Yt.a)(t)&&Object(Lt.m)(t,"amzndeal")){var n=t.amzndeal.split("_").pop().trim();return{bidID:e["".concat(t.amzndeal,"amzniid")][0],sizes:jt(n)}}break;case"openAuction":if(Object(Yt.a)(t))return{bidID:e.amzniid[0],pp:Object(Bt.c)(e.amznbid[0]),amznp:e.amznp[0],inheritSize:t.inheritSize,sizes:e.amznsz[0].split("x")};if(Object(Yt.b)(t))return{bidID:t.amzniid,pp:Object(Bt.c)(t.amznbid),amznp:t.amznp,sizes:t.amznsz.split("x")};break;default:Object(Qt.b)({name:"Invalid AMP Bid Type: ".concat(t.bidType),message:"No valid AMP bid type"},"getAmpAdData-invalidBidType")}}}catch(t){Object(Qt.b)(t,"getAmpAdData")}return{bidID:"ERROR",sizes:[]}}function q(t,e){try{var n=null;if(void 0!==e&&(Object(Lt.m)(e,"ampEnv")&&e.ampEnv||Object(Lt.m)(e,"sfEnv")&&e.sfEnv)&&(n=e,Object(Lt.m)(e,"bidType")&&"sharedPMP"===e.bidType?n.isSharedPMP=!0:n.isSharedPMP=!1,n.document=t,n.amznhost=n.kvMap.amznhost[0]),ht(t)&&((n=t).bidType="openAuction",n.ampEnv=!0),null===n)return void Object(Qt.b)(new Error("Invalid AMP parameters"),"_renderAmpImpression-invalidParams",!0);var r=N(n);if("ERROR"===r.bidID)return;if(r.doc=n.document,r.host=n.amznhost.replace("http://","https://"),r.adID="amznad".concat(Object(Lt.e)()),r.isAmp=n.ampEnv,r.isSf=Object(Mt.c)(window),xt.a.getState().aaxViewabilityEnabled)return void wt(r,r.doc);U(r)}catch(t){Object(Qt.b)(t,"_renderAmpImpression")}}function F(e){var n,r="unknown";function o(t){try{if(t&&(e.hasTimedOut=!0),t&&!e.hasRendered&&Object(Qt.b)({name:"RenderTimeout",message:"renderAd was called from timeout. fifFlowMethod: ".concat(r)},"__loadAdIntoFriendlyIframe-renderAd-timeout"),null===n.contentDocument)return void Object(Qt.b)({name:"NoDocument",message:"iframe.contentDocument was null inside renderAd. isFromTimeout: ".concat(t,". fifFlowMethod: ").concat(r)},"__loadAdIntoFriendlyIframe-renderAd-noDocument",!0);if(e.hasRendered&&!e.hasTimedOut)return void Object(Qt.b)({name:"DupeRender",message:"Render was called twice"},"__loadAdIntoFriendlyIframe-renderAd-rerender",!0);if(e.hasRendered)return;e.hasRendered=!0,n.contentDocument.open(),n.contentDocument.write(e.html),n.contentDocument.close()}catch(t){Object(Qt.b)(t,"__loadAdIntoFriendlyIframe-renderAd")}}try{if(Object(Ht.c)("iframe","friendly"),void 0===e.html)throw new Error("No HTML available for ad, most likely the creative has expired");e=ee({hasRendered:!1,hasTimedOut:!1},e),(n=L(e)).id="apstag-f-iframe-".concat(Object(Lt.e)()),z(e.doc,n,function(){var t=o.bind(null,!1);try{r=null!==n.contentDocument&&Object(Lt.j)(["complete","interactive"],n.contentDocument.readyState)?(t(),"doc-ready"):null!==n.contentDocument&&"uninitialized"!==n.contentDocument.readyState?(n.contentDocument.addEventListener("DOMContentLoaded",t),"dom-listener"):(n.addEventListener("load",t),"iframe-listener"),Object(Ht.c)("fifFlow",r),setTimeout(o,1e3,!0)}catch(t){Object(Qt.b)(t,"_loadAdIntoFriendlyIframe-setAttributes")}})}catch(e){Object(Qt.b)(e,"_loadAdIntoFriendlyIframe",!0)}}function U(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{states:{csmLoaded:!1,iframeLoaded:!1,shouldRunViewability:!1}},n=2<arguments.length?arguments[2]:void 0;try{Object(Ht.c)("iframe","unfriendly");var r,o=L(t);o.id=t.adID,o.setAttribute("sandbox","allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"),Object(qt.d)("fake_bids")?(r='<body style="background-color: #FF9900;">'.concat(50<parseInt(t.sizes[1],10)?"<h3>apstag Test Creative</h3>":"","<h4>amzniid - ").concat(t.bidID," | amznbid: ").concat(t.pp," | size: ").concat(t.sizes.join("x"),"</h4></body>"),o.src="javascript:'".concat(r,"'")):o.src=B(t),(t.isAmp&&t.isSf&&Object(Mt.b)(window)||t.isSf&&!t.isAmp&&!t.inheritSize)&&Object(Mt.a)(t.sizes,window),z(t.doc,o),(e.iframe=o).onload=function(){e.states.iframeLoaded=!0,n&&n()}}catch(t){Object(Qt.b)(t,"_loadAdIntoUnfriendlyIframe",!0)}}function M(t){var e,n=t.states,r=t.doc,o=t.bidID,i=t.iframe;try{if(Object(Lt.a)(n))return;n.shouldRunViewability=!1,Object(Lt.m)(window,"amzncsm")?e=window.amzncsm:void 0!==r&&null!==r.defaultView&&Object(Lt.m)(r.defaultView,"amzncsm")&&(e=r.defaultView.amzncsm),void 0!==r&&void 0!==e&&Object(Lt.m)(e,"rmD")&&(e.host=Object(qt.c)("host",xt.a.getState().hosts.DEFAULT_AAX_PIXEL_HOST),e.rmD(i,o,r.defaultView,r,xt.a.getState().config.pubID))}catch(t){Object(Qt.b)(t,"_triggerViewability")}}function H(c,a){return function(t){try{var e=Object(Kt.e)(a.slots),n=Object.keys(e),r=[];t&&(xt.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:a.bidReqID,key:"timedOutAt",value:Date.now()}),xt.a.getState().experiments.chunkRequests&&xt.a.dispatch({type:"RECORD_TIMEOUT",fid:a.bidReqID,timeOut:Date.now()})),n.forEach(function(t){Object(Lt.m)(e,t)&&(t=e[t],Object(Kt.g)(xt.a.getState(),Vt.a)||Object(Lt.m)(t.bidConfig,"amznbid")?Object(Lt.m)(t.bidConfig,"amznp")||(t.bidConfig.amznp=""):(Object(Ht.c)("unusedDeal",t.mediaType),"video"!==t.mediaType&&(t.bidConfig.targeting.unshift("amznsz"),t.bidConfig.amznsz="0x0"),t.bidConfig.targeting.unshift("amzniid","amznbid","amznp"),t.bidConfig.amzniid="",t.bidConfig.amznbid=Ft.t.noBid,t.bidConfig.amznp=Ft.t.noBid),r.push(t))}),Vt.a.isSupported&&(r=Object(Kt.c)(r,a,t));var o={fromTimeout:t},i=Object(Kt.g)(xt.a.getState(),Vt.a);try{c(r.map(function(t){return i?t.newBidObject:t.bidObject}),o)}catch(n){console.error(n)}}catch(n){Object(Qt.b)(n,"_bidCallbackHandler",!0);try{c([],{fromTimeout:t,fromError:!0})}catch(n){console.error(n)}}}}function Q(t,e){try{var n,r;e.inheritSize?Object(Ht.c)("creativeSize","inherited"):(r=t.defaultView&&t.defaultView.frameElement?(n=t.defaultView.frameElement,"defaultView"):(n=window.frameElement,"frameElement"),Object(Ht.c)("resizeIframe",r),Object(Ht.c)("creativeSize","resized"),null!==n?(n.style.width="".concat(e.sizes[0],"px"),n.style.height="".concat(e.sizes[1],"px")):Object(Qt.b)({name:"FrameNotFound",message:"'win' is 'null'. Method used: ".concat(r)},"_resizeIframe-win"))}catch(t){Object(Qt.b)(t,"_resizeIframe")}}function X(t){try{return"".concat(t[0],"x").concat(t[1])}catch(t){return Object(Qt.b)(t,"_sizeArrayToSring"),"x"}}function G(t){try{return 1===t.length?X(t[0]):X(t[Math.floor(t.length*Math.random())])}catch(t){return Object(Qt.b)(t,"_pickRandomSizeForMockBid",!0),""}}function V(t){try{var e,n=Object(qt.c)("host",xt.a.getState().hosts.DEFAULT_AAX_BID_HOST),r=Object(Bt.g)(window),o=t.bidReqID,i=Object(Lt.h)(window),c=Object(qt.c)("testBidTimeout",200);xt.a.dispatch({type:"RECORD_AAX_REQUEST",data:{bidConfig:t,timeout:c,bidReqID:o,ws:i,url:r,rqTs:Date.now()}}),e=t.slots.map(function(t){var e=G(t.sizes),n="testDeal".concat(Object(Lt.e)(),"_").concat(e),r="testDealIi-".concat(Object(Lt.e)()),e=G(t.sizes),e=(ne(e={slotID:t.slotID,crid:"".concat(Ft.n.crid,"-").concat(Object(Lt.e)()),size:e,amzniid:"".concat(Ft.n.amzniid,"-").concat(Object(Lt.e)()),amznbid:Ft.n.amznbid,amznp:Ft.n.amznp,amznsz:e,amzniid_sp:"".concat(Ft.n.amzniid,"-").concat(Object(Lt.e)()),amznbid_sp:"".concat(Ft.n.amznbid,"SP"),amznp_sp:"".concat(Ft.n.amznp,"SP"),amznsz_sp:G(t.sizes),amzndeals:[n]},"".concat(n,"amzniid"),r),ne(e,"mediaType","d"),ne(e,"meta",["slotID","mediaType","size"]),ne(e,"targeting",["amzniid","amznbid","amznp","amznsz","amzniid_sp","amznbid_sp","amznp_sp","amznsz_sp","amzndeal_sp","amzndeals","".concat(n,"amzniid")]),e);return"video"===t.mediaType&&(e.mediaType="video",e.amznbid="v_".concat(e.amznbid)),e}),setTimeout(function(){window.apstag.bids({slots:e,host:n,status:"ok",cb:o})},c)}catch(t){Object(Qt.b)(t,"_doMockBid",!0)}}function K(e){try{var t,n,r,o=xt.a.getState().AAXReqs.filter(function(t){return t.bidReqID===e.cb})[0];o&&o.bidConfig&&o.bidConfig.slots&&(t=o.bidConfig.slots.filter(Nt.d).map(function(t){return t.slotID}),n=Object(Lt.m)(e,"slots")?e.slots.map(function(t){return t.slotID}):[],r=t.filter(function(t){return!Object(Lt.j)(n,t)}),xt.a.dispatch({type:"NO_BID_ON_ADSERVER_SLOTS",slotIDs:r}),Vt.a.hasAdServerObjectLoaded()?W():Vt.a.isCommandQueueDefined()&&Vt.a.cmdQueuePush(function(){W()}))}catch(o){Object(Qt.b)(o,"_determineNoBidStateForAdServerObject")}}function J(t){return Object(Lt.j)(xt.a.getState().AAXReqs.filter(function(t){return!t.resTs}).map(function(t){return t.bidConfig.slots}).reduce(function(t,e){return t.concat(e)},[]).map(Nt.c),t)}function Y(t){try{var e=t.getTargeting("amznbid");return 0<e.length&&2<e[0].length}catch(t){return Object(Qt.b)(t,"_isRealAmznbidTargetingSetOnSlot"),1}}function W(){try{Vt.a.hasAdServerObjectLoaded()&&"1"===Vt.a.getTargeting("amznbid")[0]&&Z(),Object(Nt.b)(Vt.a).forEach(function(t){!Object(Lt.j)(xt.a.getState().displayAdServer.noBidSlotIDs,t.slotID)||J(t.slotID)||Y(t)||"2"===t.getTargeting("amznbid")[0]||$("noBid",t)})}catch(t){Object(Qt.b)(t,"_applyNoBidFromAAXState")}}function $(e,n){Ft.u.forEach(function(t){return n.setTargeting(t,Ft.t[e])})}function Z(){Ft.u.forEach(function(t){return Vt.a.clearTargeting(t)})}function tt(t){try{var e={_type:"dupePixel",dd:Date.now()-t.timing.renderTime};Object(Ht.a)(t.bidConfig.amzniid,e)}catch(t){Object(Qt.b)(t,"_sendDupeBidPixel")}}Object(Lt.i)()&&(!(uq=localStorage.getItem(Ft.c))||null!==(uq=JSON.parse(uq))&&xt.a.dispatch({type:"SET_CFG",cfg:uq})),Object($t.c)();var et=0,nt;function rt(){try{if(!Object(Lt.m)(window,"googletag")||!Object(Lt.m)(window.googletag,"cmd"))return void(++et<5&&setTimeout(rt,100));(new Gt.a).cmdQueuePush(function(){try{window.googletag.pubads().addEventListener("slotRequested",function(t){try{var e=t.slot;xt.a.dispatch({type:"LOG_GAM_EVENT",event:ee(ee({},new Gt.b(e).slotConfig),{},{ts:Date.now(),targeting:e.getTargetingMap()})})}catch(t){Object(Qt.b)(t,"_initializeSlotRequestedEventListener-cmdQueue-listener")}})}catch(t){Object(Qt.b)(t,"_initializeSlotRequestedEventListener-cmdQueue")}})}catch(t){Object(Qt.b)(t,"_initializeSlotRequestedEventListener")}}function it(t){try{var e=t.AAXReqs.slice(t.gamSlotRenderPixel.aaxReqOffset).reduce(function(t,e){return t.concat(e.bidConfig.slots)},[]).map(function(t){return ee(ee({},t),{},{type:"a"})}).filter(function(t){return"video"!==t.mediaType}),n=t.gamSlotFetchLog.slice(t.gamSlotRenderPixel.gamSlotFetchLogOffset).map(function(t){return ee(ee({},t),{},{type:"g"})}),r=[].concat(te(e),te(n)).reduce(function(t,e){return void 0===t[e.slotID]&&(t[e.slotID]={sd:e.slotID,a:{c:0},g:{c:0}}),t[e.slotID][e.type].c++,t[e.slotID][e.type].s=e.sizes,t[e.slotID][e.type].sn=e.slotName||"",t},{});return Object.keys(r).map(function(t){return r[t]}).filter(function(t){return 0!==t.a.c||0!==t.g.c})}catch(t){return Object(Qt.b)(t,"getSlotFetchCounts"),[]}}function ot(){try{var e=xt.a.getState(),t=it(e);0<Object.keys(t).length&&(Object(Lt.c)(t,5).forEach(function(t){t={slots:t,pid:Kt.b,url:Object(Bt.g)(window).split("?")[0],ws:Object(Lt.h)(window),pubid:e.config.pubID,_type:"slotRenders"};Object(Ht.b)(t)}),xt.a.dispatch({type:"UPDATE_RENDER_OFFSETS",offsets:{aaxReqOffset:e.AAXReqs.length,gamSlotFetchLogOffset:e.gamSlotFetchLog.length}}))}catch(t){Object(Qt.b)(t,"sendDisplayAdServerRenderPixel")}}function ct(){setInterval(function(){ot()},5e3)}function at(){try{setTimeout(function(){try{var t=ft().filter(function(t){return!Object(Lt.m)(xt.a.getState().bsPixels,t.iid)||t.state!==xt.a.getState().bsPixels[t.iid]});t&&t.length&&0<t.length&&(t.forEach(function(t){return Object(Ht.a)(t.iid,ut(t))}),st(t));var i={fetchStart:"a",domainLookupStart:"b",domainLookupEnd:"c",connectStart:"d",secureConnectionStart:"e",connectEnd:"f",requestStart:"g",responseStart:"h",responseEnd:"i"};Object.keys(xt.a.getState().slotBids).forEach(function(t){xt.a.getState().slotBids[t].forEach(function(e){var n,r,o;!Object(Lt.m)(e.bidConfig,"amzniid")||e.pixelSent||"object"===re(n=xt.a.getState().AAXReqs.filter(function(t){return t.bidReqID===e.bidReqID})[0])&&null!==n&&(r=n.rqTs-Object(Ut.d)(),o={pid:Kt.b,ns:n.bidConfig.validSlots.length,fid:e.bidReqID,fbrq:n.rqTs,_type:"latencyBd"},"object"===re(n.perf)&&null!==n.perf&&Object.keys(i).forEach(function(t){Object(Lt.m)(n,"perf")&&0!==Object(Ut.a)(n.perf,t)&&(o[i[t]]=Object(Ut.a)(n.perf,t)-r)}),o.j=n.resTs-n.rqTs,Object(Ht.a)(e.bidConfig.amzniid,o),xt.a.dispatch({type:"UPDATE_BID_INFO_PROP",slotID:t,iid:e.bidConfig.amzniid,key:"pixelSent",value:!0}))})}),at()}catch(t){Object(Qt.b)(t,"_sendBidsSetOnDFPPixel-timeout")}},5e3)}catch(t){Object(Qt.b)(t,"_sendBidsSetOnDFPPixel")}}function st(t){t.forEach(function(t){return xt.a.dispatch({type:"RECORD_BID_INFO_SENT",bidInfo:t})})}function ut(t){try{var e=dt(t.fid),n={status:t.state,pubid:xt.a.getState().config.pubID,_type:"bidSetPixel",toa:Object(Lt.m)(e.req,"timedOutAt")?e.req.timedOutAt:0,fbrq:e.req.rqTs,pto:e.req.timeout,ns:e.req.bidConfig.validSlots.length,bla:e.req.resTs-e.req.rqTs,reqindex:e.index,fid:t.fid,tbs:0,c:"dtb"};xt.a.getState().cfg.CHUNK_BID_REQUESTS_PROPORTION&&(n.eid=xt.a.getState().experiments.chunkRequests?2:1,n.fbindex=e.fbIndex,n.fbns=xt.a.getState().bidConfigs[parseInt(t.fid.split("-")[0],10)].slots.length);var r=xt.a.getState().experiments;Object(Lt.m)(r,"shouldUseTestBidEndpoint")&&(n.tbs=r.shouldUseTestBidEndpoint?2:1),t.delta&&(n.delay=t.delta);var o=e.req.perf;return void 0!==o&&(n.ul=e.req.urlLength,n.es=Object(Ut.a)(o,"encodedBodySize")),0<Object.keys(xt.a.getState().identityState).length&&(n.ids=JSON.stringify(xt.a.getState().identityState)),n}catch(t){return Object(Qt.b)(t,"_mapBidInfoToPixel"),{_type:"bidSetPixel",status:-1,pubid:"",toa:0,fbrq:0,pto:0,ns:0,bla:0,reqindex:0,fid:"",tbs:0,c:"dtb"}}}function dt(e){var t=xt.a.getState().AAXReqs.filter(function(t){return t.bidReqID===e})[0],n=xt.a.getState().AAXReqs.indexOf(t)+1,n={req:t,index:n,fbIndex:n};return n.index=xt.a.getState().AAXReqs.indexOf(n.req)+1,xt.a.getState().experiments.chunkRequests&&(n.fbIndex=xt.a.getState().AAXReqs.filter(function(t){return-1===t.bidReqID.indexOf("-")||"0"===t.bidReqID.split("-")[1]}).map(function(t){return t.bidReqID.split("-")[0]}).indexOf(e.split("-")[0])+1),n}function ft(){try{var i=mt(),c=[];return null===i||Object.keys(xt.a.getState().slotBids).forEach(function(o){"video"!==xt.a.getState().slotBids[o][0].bidConfig.mediaType&&xt.a.getState().slotBids[o].filter(function(t){return Object(Lt.m)(t.bidConfig,"amzniid")}).forEach(function(e){var t,n,r;null!==i&&(t={state:-1,slotID:o,iid:e.bidConfig.amzniid,fid:e.bidReqID},r=[],n=[],o in i&&(r=i[o].fetchedAt.filter(function(t){return t.AAXReqInfo&&t.AAXReqInfo.bidReqID===e.bidReqID}),n=i[o].targetedAt.filter(function(t){return t.targeting===e.bidConfig.amzniid})),0<r.length?0<r.length&&n.length>=r.length&&r.slice(r.length-1)[0].ts>n.slice(r.length-1)[0].ts?1===i[o].fetchWithIID.filter(function(t){return t===e.bidConfig.amzniid}).length?t.state=1:t.state=4:Object(Lt.j)(i[o].fetchWithIID,e.bidConfig.amzniid)?t.state=3:t.state=2:t.state=0,1!==t.state&&2!==t.state||(r=lt(n=xt.a.getState().AAXReqs.filter(function(t){return t.bidReqID===e.bidReqID})[0].resTs,i[o].fetchedAt,2===t.state))&&Object(Lt.m)(r,"ts")&&(t.delta=n-r.ts),c.push(t))})}),c}catch(i){return Object(Qt.b)(i,"_getBidSetInfo"),[]}}function lt(e,t,n){var r=t.map(function(t){t=e-t.ts;return!n&&t<=0?-t:n&&0<=t?t:null});return t[bt(r)]}function bt(t){for(var e=-1,n=-1,r=0;r<t.length;r++)null!==t[r]&&(-1===n||t[r]<e)&&(e=t[n=r]);return n}function pt(t,e){return xt.a.getState().AAXReqs.filter(function(t){return Object(Lt.j)(t.bidConfig.slots.map(function(t){return t.slotID}),e)})[t]}function mt(){try{if(!Vt.a.hasAdServerObjectLoaded())return null;var n=xt.a.getState().gamSlotFetchLog.reduce(function(t,e){Object(Lt.m)(t,e.slotID)||(t[e.slotID]={fetchedAt:[],targetedAt:[]});var n=t[e.slotID];return n.fetchedAt.push({ts:e.ts,AAXReqInfo:pt(n.fetchedAt.length,e.slotID)}),Object(Lt.m)(e.targeting,"amzniid")&&0<e.targeting.amzniid.length?n.targetedAt.push({ts:e.ts-1,targeting:e.targeting.amzniid[0]}):n.targetedAt.push({ts:e.ts-1,targeting:""}),t},{});return Object.keys(n).forEach(function(t){var e;Object(Lt.m)(n,t)&&((e=n[t]).fetchWithIID=e.fetchedAt.map(function(t){t=lt(t.ts,e.targetedAt,!0);return t?t.targeting:0}),n[t]=e)}),n}catch(n){return Object(Qt.b)(n,"_getDFPSlotFetches"),null}}function gt(){try{Vt.a.hasAdServerObjectLoaded()?$("noRequest",Vt.a):Vt.a.isCommandQueueDefined()&&Vt.a.cmdQueuePush(function(){$("noRequest",Vt.a)})}catch(t){Object(Qt.b)(t,"_applyNoRequestToAAXState")}}function yt(e){try{xt.a.dispatch({type:"REQUESTED_BID_FOR_ADSERVER_SLOTS",slotIDs:e}),Vt.a.isCommandQueueDefined()&&Vt.a.cmdQueuePush(function(){try{var t=Object(Nt.b)(Vt.a);"0"===Vt.a.getTargeting("amznbid")[0]&&Z(),S(e.filter(function(t){return void 0!==t}),t.map(function(t){return t.slotID}))?t.forEach(function(t){Object(Lt.j)(e,t.slotID)&&!Y(t)&&$("bidInFlight",t)}):Vt.a.cmdQueuePush(function(){try{$("bidInFlight",Vt.a)}catch(t){Object(Qt.b)(t,"_setRequestToAAXInFlightState-cmdQueue-cmdQueue")}})}catch(t){Object(Qt.b)(t,"_setRequestToAAXInFlightState-cmdQueue")}})}catch(e){Object(Qt.b)(e,"_setRequestToAAXInFlightState")}}function ht(t){try{return Object(Lt.m)(t,"type")&&!(t instanceof Document)&&"amp"===t.type}catch(t){return Object(Qt.b)(t,"_isLegacyAmpCreative"),!1}}function Ot(t,e){try{return void 0!==e&&Object(Lt.m)(e,"ampEnv")&&e.ampEnv||ht(t)}catch(t){return Object(Qt.b)(t,"_isAmpImpression"),0}}function jt(t){return t.split("x")}function vt(t,e,n){try{Object(Ht.f)()}catch(t){Object(Qt.b)(t,"_renderImp-pixels")}try{var r=void 0===n?"0.0.0":n.cv;if(Ot(t,n)&&Object(Bt.k)(window,!0))return ht(t)?Object(Ht.c)("renderFootprint","amp"):Object(Ht.c)("renderFootprint","multi-amp-".concat(r)),void q(t,n);if(Object(Mt.c)(window)&&void 0!==n&&Object(Lt.m)(n,"kvMap")&&Object(Lt.m)(n.kvMap,"amznhost"))return Object(Ht.c)("renderFootprint","multi-sf-".concat(r)),void q(t,n);var o=!1;"string"==typeof e&&0===e.indexOf("sp|")&&(e=e.substring(3),o=!0);var i,c=e||t.amzniid,a=E(c,o),s=a.slotBid,u=a.dealId;if(s){if(i=u&&1<=u.length?jt("sp"===u?s.bidConfig.amznsz_sp:D(c,s,u)):jt(s.bidConfig.amznsz),1===arguments.length)return Object(Ht.c)("renderFootprint","JSONp"),void F({doc:s.doc,bidID:s.bidConfig.amzniid,sizes:i,html:t.html,inheritSize:s.inheritSize||!1});Object(Ht.c)("bidRenderState",s.bidState);var d=o?"sharedpmp":"open";void 0!==n?Object(Ht.c)("renderFootprint","multi-".concat(d,"-").concat(r)):Object(Ht.c)("renderFootprint","standard-".concat(d,"-").concat(r)),s.bidState===Ft.b.rendered&&tt(s),xt.a.dispatch({type:"BID_STATE_CHANGE",slotID:s.slotID,_targetingSetID:s._targetingSetID,bidState:Ft.b.rendered,ts:Date.now()});var b=s.host,l="amznad".concat(Math.round(1e6*Math.random())),f={bidID:c,doc:t,pp:St("amznbid",s,u),host:b,adID:l,sizes:i,amznp:St("amznp",s,u),crID:St("crid",s,u),fif:!1,dealId:u,isSharedPMP:o,cfe:s.cfe,inheritSize:Object(Lt.l)(n)&&Object(Lt.m)(n,"inheritSize")&&!0===n.inheritSize};"1"===s.bidConfig.fif?(f.fif=!0,xt.a.dispatch({type:"UPDATE_BID_INFO_PROP",slotID:s.slotID,iid:e,key:"doc",value:t}),xt.a.dispatch({type:"UPDATE_BID_INFO_PROP",slotID:s.slotID,iid:e,key:"inheritSize",value:f.inheritSize}),Object(Xt.b)(B(f),function(){},document,function(){return Object(Qt.b)(new Error("Error Loading JSONP Render Callback"),"renderImp-fif-callback-load",!0)})):xt.a.getState().aaxViewabilityEnabled?wt(f,t):U(f),Q(t,f)}else Object(Qt.b)(new Error("Invalid bid ID tried to render"),"_renderImp-invalidId",!0)}catch(t){Object(Qt.b)(t,"_renderImp",!0)}}function St(t,e,n){try{var r,o="";return void 0!==n&&1<=n.length?(r="".concat(t,"_sp"),"sp"===n&&Object(Lt.m)(e.bidConfig,r)&&(o=e.bidConfig[r])):Object(Lt.m)(e.bidConfig,t)&&(o=e.bidConfig[t]),o}catch(t){return Object(Qt.b)(t,"_getProperBidInfoValue"),""}}function wt(t,e){try{var n=e.createElement("script");n.type="text/javascript",n.async=!0;var r={doc:e,bidID:t.bidID,states:{csmLoaded:!1,iframeLoaded:!1,shouldRunViewability:!0}},o=M.bind(null,r);Object(Xt.a)(n,function(){r.states.csmLoaded=!0,o()});try{n.addEventListener("error",function(t){return Object(Ht.b)({_type:"csm_fail",ts:Date.now(),msg:t.message})})}catch(t){Object(Qt.b)(t,"_loadViewabilityAd-csm")}U(t,r,o),n.src=xt.a.getState().cfg.CSM_JS,z(e,n)}catch(t){Object(Qt.b)(t,"_loadViewabilityAd")}}function _t(t){try{Object(Kt.h)(t),f(t),Object(Lt.m)(t,"slots")&&(xt.a.dispatch({type:"UPDATE_SLOT_BIDS",bids:T(t)}),Object(Lt.m)(t,"ev")&&xt.a.dispatch({type:"SET_VIEWABILITY",viewability:t.ev}),Object(Lt.m)(t,"cfn")&&xt.a.dispatch({type:"SET_CFG",cfg:{CSM_JS:"//"===t.cfn.substring(0,2)?t.cfn:"//c.amazon-adsystem.com/".concat(t.cfn)}})),l(t)}catch(t){Object(Qt.b)(t,"_bids",!0)}}function Et(){return"number"==typeof xt.a.getState().cfg.MAX_SLOTS_PER_REQUEST&&0<xt.a.getState().cfg.MAX_SLOTS_PER_REQUEST}function Dt(n,r){var o=!1,i=[];try{var t=[zt.a,$t.a],c=[xt.a.getState().config.gdpr,null],a=t.map(function(){return!1});t.map(function(t,e){return t(c[e],function(t){i[e]=t,a[e]=!0,!o&&a.every(Boolean)&&(o=!0,It(n,r,i[0],i[1]))})})}catch(t){Object(Qt.b)(t,"_getConfigsAndFetchBids",!0),o||(o=!0,It(n,r,i[0],i[1]))}}function It(e,n,r,o){try{Object(Wt.b)(n,["function","undefined"])||Object(Qt.c)("fetchBids.callback",re(n),"function"),"function"!=typeof n&&(n=function(){}),Object(Lt.l)(e)||(Object(Qt.c)("fetchBids.bidConfig",re(e),"object"),e={}),Object(Wt.a)(e.timeout)||("string"==typeof e.timeout?Object(Qt.b)({name:"string-".concat(e.timeout),message:"fetchBids.bidConfig.timeout was a non-numeric string '".concat(e.timeout,"'")},"TypeError-fetchBids.bidConfig.timeout",!0):Object(Qt.c)("fetchBids.bidConfig.timeout",re(e.timeout),"number")),Object(Lt.m)(e,"params")&&!Object(Lt.l)(e.params)?Object(Qt.c)("fetchBids.bidConfig.params",re(e.params),"object"):Object(Lt.m)(e,"params")&&Object(Lt.l)(e.params)&&Object.keys(e.params).forEach(function(t){return!(void 0===e.params||"string"!=typeof e.params[t]&&"number"!=typeof e.params[t]&&(Object(Lt.k)(e.params[t])?!e.params[t].reduce(function(t,e){return t&&("string"==typeof e||"number"==typeof e)},!0)&&(Object(Qt.b)({name:"non-string array item",message:"'fetchBids.bidConfig.params.".concat(t," contains a non-string item")},"TypeError-fetchBids.bidConfig.params.".concat(t),!0),1):(Object(Qt.c)("fetchBids.bidConfig.params.".concat(t),re(e.params[t]),"string' or 'array"),1)))}),Object(Lt.m)(e,"blockedBidders")&&!Object(Lt.k)(e.blockedBidders)?Object(Qt.c)("fetchBids.bidConfig.blockedBidders",re(e.blockedBidders),"array"):Object(Lt.m)(e,"blockedBidders")&&Object(Lt.k)(e.blockedBidders)&&(e.blockedBidders.reduce(function(t,e){return t&&("string"==typeof e||"number"==typeof e)},!0)||Object(Qt.b)({name:"non-string array item",message:"'fetchBids.bidConfig.blockedBidders contains a non-string item"},"TypeError-fetchBids.bidConfig.blockedBidders",!0)),Object(Lt.m)(e,"blockedBidders")?Object(Ht.c)("blockedBidders-fetchBids","y"):Object(Ht.c)("blockedBidders-fetchBids","n"),Object(Lt.m)(e,"slots")&&!Object(Lt.k)(e.slots)&&Object(Qt.c)("fetchBids.bidConfig.slots",re(e.slots),"array")}catch(t){Object(Qt.b)(t,"_fetchBids-validation",!0)}var t=xt.a.getState().config.simplerGPT,i=ee(ee({},e),{},{bidReqID:"".concat(xt.a.getState().AAXReqs.length),slots:[],validSlots:[],networkReqs:[]}),c=!1;try{!0===t&&(!Object(Lt.m)(e,"slots")||Object(Lt.m)(e,"slots")&&Object(Lt.k)(e.slots)&&0<e.slots.length&&Object(Lt.m)(e.slots[0],"getSlotElementId"))?0===Object(Nt.b)(Vt.a).length?(Object(Qt.b)(new Error("fetchBids was called in simplerGPT mode before any slots were defined in GPT"),"_fetchBids-simplerGpt-NoSlots",!0),c=!0,i.slots=[]):(e.slots?(Object(Ht.c)("slots","gpt-provided"),i.slots=e.slots.map(function(t){return new Gt.b(t)})):(Object(Ht.c)("slots","gpt-fetch"),i.slots=Object(Nt.b)(Vt.a)),i.slots=i.slots.filter(Nt.a),0===i.slots.length&&(Object(Qt.b)(new Error("No GPT slots provided to apstag.fetchBids() had valid sizes"),"_fetchBids-simplerGpt-NoValidSizes",!0),c=!0)):Object(Lt.m)(e,"slots")&&Object(Lt.k)(e.slots)&&(t?Object(Ht.c)("slots","gpt-aps"):Object(Ht.c)("slots","aps"),i.slots=e.slots.map(function(t){return new Jt.a(t)})),i.validSlots=i.slots.filter(function(t){return t.isValid()})}catch(t){Object(Qt.b)(t,"_fetchBids-getSlots",!0)}var a=Object(Bt.i)(i,xt.a.getState());try{n=Object(Bt.b)(H(n,i),a)}catch(t){Object(Qt.b)(t,"_fetchBids-wrapCallback",!0)}try{if(0===i.validSlots.length)return!1===c&&Object(Qt.b)(new Error("No valid slots provided to apstag.fetchBids"),"_fetchBids-noSlots",!0),setTimeout(n.bind(null,[]),10),0;try{var s=1===i.slots.length?"single":"multi",u=Date.now()-b<=Ft.p?"onload":"ondelay",d=xt.a.getState().AAXReqs.reduce(function(e,t){return t.bidConfig.slots.forEach(function(t){Object(Lt.j)(e,t.slotID)||e.push(t.slotID)}),e},[]);i.slots.map(function(t){return t.slotID}).map(function(t){return Object(Lt.j)(d,t)}).map(function(t){return t?"refresh":"initial"}).filter(function(t,e,n){return n.indexOf(t)===e}).forEach(function(t){return Object(Ht.c)("fetchBids","".concat(s,"-").concat(u,"-").concat(t))})}catch(t){Object(Qt.b)(t,"_fetchBids-feature")}if(yt(i.slots.filter(Nt.d).map(Nt.c)),xt.a.dispatch({type:"NEW_FETCH_BID_REQUEST",fid:i.bidReqID,pto:a}),xt.a.dispatch({type:"RECORD_ORIGINAL_BID_CONFIG",bidConfig:i}),Object(qt.d)("fake_bids"))V(i);else if(Ft.i)if(xt.a.dispatch({type:"SHOULD_CHUNK_REQUESTS",value:Object(Lt.n)(xt.a.getState().cfg.CHUNK_BID_REQUESTS_PROPORTION)}),xt.a.getState().experiments.chunkRequests&&Et()){for(var l=Tt(i),f=0;f<l.length;f++)l[f].bidReqID="".concat(i.bidReqID,"-").concat(f);xt.a.dispatch({type:"ADD_CHUNKED_REQUESTS",fid:i.bidReqID,numChunks:l.length}),l.forEach(function(t){p(Object(Kt.d)(t,a,r,o),n,t.bidReqID)})}else p(Object(Kt.d)(i,a,r,o),n,i.bidReqID);else Object(Xt.b)(Object(Kt.d)(i,a,r,o),n)}catch(t){Object(Qt.b)(t,"_fetchBids",!0)}}function Tt(e){try{for(var t=Math.ceil(e.validSlots.length/xt.a.getState().cfg.MAX_SLOTS_PER_REQUEST),n=new Array(t),r=0;r<t;r++){var o=r*xt.a.getState().cfg.MAX_SLOTS_PER_REQUEST;n[r]={slots:e.validSlots.slice(o,o+xt.a.getState().cfg.MAX_SLOTS_PER_REQUEST)}}return n.map(function(t){return ee(ee({},e),t)})}catch(t){return Object(Qt.b)(t,"chunkConfig",!0),[]}}function At(t){try{Object(Lt.m)(xt.a.getState().config,"adServer")?Vt.a.isSupported?(k(t),W()):Object(Qt.b)(new Error("apstag.setDisplayBids called with unsupported ad server: ".concat(xt.a.getState().config.adServer)),"_setDisplayBids-invalidAdServer",!0):Object(Qt.b)(new Error("apstag.setDisplayBids called without specifying ad server"),"_setDisplayBids-noAdServer",!0)}catch(t){Object(Qt.b)(t,"_setDisplayBids",!0)}}function Rt(t,e){try{y(t),Object(Vt.b)(t.adServer),gt(),Object($t.b)(t)}catch(t){Object(Qt.b)(t,"_init")}"function"==typeof e&&e()}function Ct(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"display",e=xt.a.getState();try{switch(t){case"display":return Object(Ht.c)("targeting","targetingKeys-display"),e.config.useSafeFrames?[].concat(te(Ft.g),["amznhost"]):Ft.g;case"video":return Object(Ht.c)("targeting","targetingKeys-video"),e.config.useSafeFrames?[].concat(te(Ft.w),["amznhost"]):Ft.w;default:if(Object(Kt.g)(xt.a.getState(),Vt.a)){if(Object(Ht.c)("targeting","targetingKeys-newBid"),Object(Lt.k)(xt.a.getState().targetingKeys[t]))return xt.a.getState().targetingKeys[t]}else Object(Ht.c)("targeting","targetingKeys-invalid");return[]}}catch(t){return Object(Qt.b)(t,"_targetingKeys",!0),[]}}function kt(){try{return xt.a.getState().AAXReqs.reduce(function(t,e){return e.bidConfig.slots.reduce(function(t,e){return t[e.slotID]=e.slotName,t},t)},{})}catch(t){return Object(Qt.b)(t,"_getSlotIdToNameMapping",!0),{}}}function Pt(t,e){var n=e;return function(){return r({method:t,args:arguments}),n.apply(void 0,arguments)}}try{Object(Lt.m)(window,"apstag")&&Object(Lt.m)(window.apstag,"_Q")&&0<window.apstag._Q.length&&xt.a.dispatch({type:"SET_Q",Q:window.apstag._Q})}catch(t){Object(Qt.b)(t,"apstag-storeQ",!0)}window.apstag=(nt={punt:_t,init:Rt,debug:qt.a,_getSlotIdToNameMapping:kt,targetingKeys:Ct,fetchBids:Dt,setDisplayBids:At,renderImp:vt,bids:_t,deleteId:Zt.a,updateId:Zt.d,renewId:Zt.c,dpa:Zt.a,upa:Zt.d,rpa:Zt.c,thirdPartyData:{}},Object.keys(nt).forEach(function(t){"object"!==re(nt[t])&&(nt[t]=Pt(t,nt[t]),nt[t]=Object(Qt.d)(nt[t],t))}),n?Object(qt.b)(!0,t):e&&Object(qt.b)(!1,t),!0===Object(qt.c)("exposeApi")&&(nt._api={_getBidSetInfo:ft,_applyTargetingToGPTSlot:A,dispatch:xt.a.dispatch,_clearTargetingFromGPTSlot:j,_clearBidSetOnSlot:v,_doFbSync:P,_getCurrentSlotBids:w,_creativeURL:B,getSlotFetchCounts:it,buildBidUrl:Kt.d}),nt),function(){try{var t;xt.a.dispatch({type:"SHOULD_SAMPLE_FEATURES",value:Object(Lt.n)(xt.a.getState().cfg.FEATURE_SAMPLING_RATE)}),xt.a.dispatch({type:"SHOULD_CF_ROUTE",value:Object(Lt.n)(xt.a.getState().cfg.CF_ROUTING_RATE)}),xt.a.getState().experiments.shouldCFRoute&&xt.a.dispatch({type:"SET_HOST",hostName:"DEFAULT_AAX_BID_HOST",hostValue:"c.amazon-adsystem.com"}),xt.a.dispatch({type:"SHOULD_SAMPLE_LATENCY",value:Object(Lt.n)(xt.a.getState().cfg.LATENCY_SAMPLING_RATE)}),null!==xt.a.getState().cfg.TEST_BID_ENDPOINT&&(t=Object(Lt.n)(xt.a.getState().cfg.TEST_PATH_FREQUENCY),xt.a.dispatch({type:"SHOULD_USE_TEST_BID_ENDPOINT",value:t}),t&&null!==xt.a.getState().cfg.TEST_PATH_LATENCY_SAMPLE_RATE&&xt.a.dispatch({type:"SHOULD_SAMPLE_LATENCY",value:Object(Lt.n)(xt.a.getState().cfg.TEST_PATH_LATENCY_SAMPLE_RATE)})),xt.a.dispatch({type:"SHOULD_SAMPLE_SLOT_RENDER",value:Object(Lt.n)(xt.a.getState().cfg.SLOT_RENDER_SAMPLING_RATE)});var e=xt.a.getState();(e.experiments.shouldSampleLatency||e.displayAdServer.shouldSampleRender)&&rt(),e.displayAdServer.shouldSampleRender&&ct(),e.experiments.shouldSampleLatency&&at()}catch(t){Object(Qt.b)(t,"apstag-sampleLatency")}try{g()}catch(t){Object(Qt.b)(t,"apstag-doLast")}if(!Object(Bt.k)(window,!0))try{var n=function(t){t&&"object"!==re(t)||(t="Request Timeout or Error"),Object(Qt.b)({message:"csm-rtb-comm-js loading failed",name:t},"__csm-rtb-comm-js__")};Object(Xt.d)({url:xt.a.getState().cfg.CSM_RTB_COMMUNICATOR_JS,onload:function t(e){e.readyState===XMLHttpRequest.DONE&&200===e.status?eval(e.responseText):n(JSON.stringify({status:e.statusText,response:e.responseXML}))},onerror:n,ontimeout:n})}catch(t){Object(Qt.b)(t,"__load-csm-rtb-comm-js__")}Object(qt.e)()}()}())}catch(t){Object(Qt.b)(t,"apstag")}}]);

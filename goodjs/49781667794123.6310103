var b$=b$||{};b$.universal=b$.universal||{},b$.universal.widgets=b$.universal.widgets||{},b$.universal.widgets.BreadcrumbWidget=function(l){"use strict";return l(document).ready(function(){var r=!1,e=!1;l(".breadcrum-container li").each(function(){var e;l(this).hasClass("txn-item")&&!b$.portal.isLogin&&(e=(e=window.location.pathname.split("/").slice(0,4)).join("/"),l(this).children("a").attr("href",e),e=(e=e.split("/"))[e.length-1],l(this).children("a").attr("title",e),l(this).children("a").html(e),l(this).removeClass("txn-item"))}),l(".hdfc-portal-breadcrum li").each(function(){var e=l(this).children("a").attr("href");null==e||""==e?(l(this).children("a").removeAttr("href"),l(this).children("a").addClass("unclickable")):(l(this).addClass("clickable"),l(this).next().addClass("darkArrow")),r||(l("li").hasClass("thirdLevelLeftMenu")?!l(this).children("a").hasClass("unclickable")&&25<l(this).find("i").text().length&&!l(this).next().children("a").hasClass("unclickable")&&25<l(this).next().find("i").text().length&&(r=!0,l(this).remove()):!l(this).children("a").hasClass("unclickable")&&27<l(this).find("i").text().length&&!l(this).next().children("a").hasClass("unclickable")&&27<l(this).next().find("i").text().length&&(r=!0,l(this).remove()))}),gadgets.pubsub.subscribe("brdmPlcLoaded",function(){e||l(window).width()<768&&(l(".breadcrumb.hdfc-portal-breadcrum").clone().appendTo(".hdfc-mobile-brdcrm"),e=!0)})}),l(window).load(function(){require(["features/%5BBBHOST%5D/theme/core/bootstrap3/js/tooltip"],function(){require(["features/%5BBBHOST%5D/theme/core/bootstrap3/js/transition"],function(){l('[data-toggle="tooltip"]').tooltip();var e=l(".breadcrumb.hdfc-portal-breadcrum li").length,r=screen.width,t=l(".breadcrumb.hdfc-portal-breadcrum").width()>l(".top-lead-section .section-details").width(),a=l(".breadcrumb.hdfc-portal-breadcrum").width()>l(".bp-container.c-template-hdfc-middle-section .container").width();(t&&l(".top-lead-section .section-image").length||t&&a)&&(r<960&&768<=r&&(4==e?l(".breadcrum-container .breadcrumb.hdfc-portal-breadcrum li a, .breadcrum-container .breadcrumb.hdfc-portal-breadcrum li span").addClass("ellipsis-level-4-ipad"):5<=e?l(".breadcrum-container .breadcrumb.hdfc-portal-breadcrum li a, .breadcrum-container .breadcrumb.hdfc-portal-breadcrum li span").addClass("ellipsis-level-5-ipad"):l(".breadcrum-container .breadcrumb.hdfc-portal-breadcrum li a, .breadcrum-container .breadcrumb.hdfc-portal-breadcrum li span").addClass("ellipsis")),960<=r&&(4==e?l(".breadcrum-container .breadcrumb.hdfc-portal-breadcrum li a, .breadcrum-container .breadcrumb.hdfc-portal-breadcrum li span").addClass("ellipsis-level-4"):5<=e?l(".breadcrum-container .breadcrumb.hdfc-portal-breadcrum li a, .breadcrum-container .breadcrumb.hdfc-portal-breadcrum li span").addClass("ellipsis-level-5"):l(".breadcrum-container .breadcrumb.hdfc-portal-breadcrum li a, .breadcrum-container .breadcrumb.hdfc-portal-breadcrum li span").addClass("ellipsis")))})})}),{start:function(d){var e,r,t=d.getPreference("isRequired");l(d.htmlNode).find(".breadcrum-container").removeClass("not-needed").addClass(t),d.helpTexts={navStartResolver:{text:"Absolute: Set the path from your current context to a level in the hierarchy. Relative: Set the number of ancestors to show in the path."},rootLevel:{text:"Highest level in the hierarchy that shows in the breadcrumb"},distance:{text:"Number of ancestors (steps) to show above the current context, Only numbers allowed"}},"true"===bd.designMode&&be.utils.module("top.bd.PageMgmtTree.selectedLink").isMasterPage&&(r=d.getPreference("template").replace(/\$\(contextRoot\)/,b$.portal.config.serverRoot),(e={links:[{title:"[Level up]",children:[{title:"[Level up]",children:[{title:"[Current page]",children:[]}]}]}]}).links[0].children[0].children[0].children.isEmpty=!0,t=be.utils.loadTemplateByUrl(r,!1),r=be.utils.loadTemplateByUrl(r.replace(/mustache_top_level/,"mustache_mid_level"),!1),d.body.innerHTML=Mustache.render(t,e,{mustache_mid_level:r})),d.addEventListener("preferences-form",function(e){for(var r=b$.portal.portalModel.filterPreferences(d.model.preferences.array),t=r.length-1;0<=t;t--)if("Template"==r[t].label)for(var a=d.getPreference("templateList").split(","),l=0,i=0;l<a.length;l++,i++)r[t].inputType.options[i]={label:a[l],value:a[l+1]},l++}),d.addEventListener("preferenceFormReady",function(e){var r=e.target;function t(e){"fixedContextual"==e?(l(r.map.distance.htmlNode).closest("tr").addClass("breadcrumb-hidden-pref"),l(r.map.rootLevel.htmlNode).closest("tr").removeClass("breadcrumb-hidden-pref")):(l(r.map.rootLevel.htmlNode).closest("tr").addClass("breadcrumb-hidden-pref"),l(r.map.distance.htmlNode).closest("tr").removeClass("breadcrumb-hidden-pref"))}l(r.htmlNode).hasClass("bd-breadcumb-preference-form")||l(r.htmlNode).addClass("bd-breadcumb-preference-form"),setTimeout(function(){t(d.getPreference("navStartResolver"))},0),r.map.navStartResolver.childNodes.forEach(function(e,r){e.addEventListener("mousedown",function(e){t(e.target.getAttribute("value"))})})}),d.addEventListener("preferencesSaved",function(e){e.target===this&&e.target.refreshHTML()})}}}(jQuery);

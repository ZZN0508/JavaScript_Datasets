YUI.add("dom-base",function(s,e){var t=s.config.doc.documentElement,c=s.DOM,r="tagName",n=s.Features.add,i=s.Features.test;s.mix(c,{getText:void 0!==t.textContent?function(e){var t="";return(t=e?e.textContent:t)||""}:function(e){var t="";return(t=e?e.innerText||e.nodeValue:t)||""},setText:void 0!==t.textContent?function(e,t){e&&(e.textContent=t)}:function(e,t){"innerText"in e?e.innerText=t:"nodeValue"in e&&(e.nodeValue=t)},CUSTOM_ATTRIBUTES:t.hasAttribute?{htmlFor:"for",className:"class"}:{for:"htmlFor",class:"className"},setAttribute:function(e,t,n,r){e&&t&&e.setAttribute&&(t=c.CUSTOM_ATTRIBUTES[t]||t,e.setAttribute(t,n,r))},getAttribute:function(e,t,n){n=void 0!==n?n:2;var r="";return e&&t&&e.getAttribute&&(t=c.CUSTOM_ATTRIBUTES[t]||t,null===(r=e.getAttribute(t,n))&&(r="")),r},VALUE_SETTERS:{},VALUE_GETTERS:{},getValue:function(e){var t,n="";return"string"==typeof(n=""===(n=e&&e[r]?(t=c.VALUE_GETTERS[e[r].toLowerCase()])?t(e):e.value:n)?"":n)?n:""},setValue:function(e,t){var n;e&&e[r]&&((n=c.VALUE_SETTERS[e[r].toLowerCase()])?n(e,t):e.value=t)},creators:{}}),n("value-set","select",{test:function(){var e=s.config.doc.createElement("select");return e.innerHTML="<option>1</option><option>2</option>",e.value="2",e.value&&"2"===e.value}}),i("value-set","select")||(c.VALUE_SETTERS.select=function(e,t){for(var n,r=0,i=e.getElementsByTagName("option");n=i[r++];)if(c.getValue(n)===t){n.selected=!0;break}}),s.mix(c.VALUE_GETTERS,{button:function(e){return e.attributes&&e.attributes.value?e.attributes.value.value:""}}),s.mix(c.VALUE_SETTERS,{button:function(e,t){var n=e.attributes.value;n||(n=e.ownerDocument.createAttribute("value"),e.setAttributeNode(n)),n.value=t}}),s.mix(c.VALUE_GETTERS,{option:function(e){var t=e.attributes;return t.value&&t.value.specified?e.value:e.text},select:function(e){var t=e.value,n=e.options;return n&&n.length&&(e.multiple||-1<e.selectedIndex&&(t=c.getValue(n[e.selectedIndex]))),t}}),s.mix(s.DOM,{hasClass:function(e,t){return s.DOM._getRegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)},addClass:function(e,t){s.DOM.hasClass(e,t)||(e.className=s.Lang.trim([e.className,t].join(" ")))},removeClass:function(e,t){t&&a(e,t)&&(e.className=s.Lang.trim(e.className.replace(s.DOM._getRegExp("(?:^|\\s+)"+t+"(?:\\s+|$)")," ")),a(e,t)&&l(e,t))},replaceClass:function(e,t,n){l(e,t),u(e,n)},toggleClass:function(e,t,n){((void 0!==n?n:!a(e,t))?u:l)(e,t)}});function o(e,t){var n=s.config.doc.createElement("div"),r=!0;return n.innerHTML=e,r=!n.firstChild||n.firstChild.tagName!==t.toUpperCase()?!1:r}var a=s.DOM.hasClass,l=s.DOM.removeClass,u=s.DOM.addClass,d=/<([a-z]+)/i,c=s.DOM,n=s.Features.add,i=s.Features.test,f={},p=/(?:\/(?:thead|tfoot|tbody|caption|col|colgroup)>)+\s*<tbody/;s.mix(s.DOM,{_fragClones:{},_create:function(e,t,n){var r=c._fragClones[n=n||"div"];return(r=r?r.cloneNode(!1):c._fragClones[n]=t.createElement(n)).innerHTML=e,r},_children:function(e,t){var n,r,i,o=0,a=e.children;if(a&&a.tags&&(t?a=e.children.tags(t):r=a.tags("!").length),!a||!a.tags&&t||r)for(n=a||e.childNodes,a=[];i=n[o++];)1!==i.nodeType||t&&t!==i.tagName||a.push(i);return a||[]},create:function(e,t){"string"==typeof e&&(e=s.Lang.trim(e)),t=t||s.config.doc;var n,r=d.exec(e),i=c._create,o=f,a=null;return null!=e&&(r&&r[1]&&("function"==typeof(r=o[r[1].toLowerCase()])?i=r:n=r),a=1===(n=i(e,t,n).childNodes).length?n[0].parentNode.removeChild(n[0]):n[0]&&"yui3-big-dummy"===n[0].className?2===n.length?n[0].nextSibling:(n[0].parentNode.removeChild(n[0]),c._nl2frag(n,t)):c._nl2frag(n,t)),a},_nl2frag:function(e,t){var n,r,i=null;if(e&&(e.push||e.item)&&e[0])for(i=(t=t||e[0].ownerDocument).createDocumentFragment(),n=0,r=(e=e.item?s.Array(e,0,!0):e).length;n<r;n++)i.appendChild(e[n]);return i},addHTML:function(e,t,n){var r,i,o=e.parentNode,a=0,l=t;if(null!=t)if(t.nodeType)i=t;else if("string"==typeof t||"number"==typeof t)l=i=c.create(t);else if(t[0]&&t[0].nodeType)for(i=s.config.doc.createDocumentFragment();r=t[a++];)i.appendChild(r);if(n)if(i&&n.parentNode)n.parentNode.insertBefore(i,n);else switch(n){case"replace":for(;e.firstChild;)e.removeChild(e.firstChild);i&&e.appendChild(i);break;case"before":i&&o.insertBefore(i,e);break;case"after":i&&(e.nextSibling?o.insertBefore(i,e.nextSibling):o.appendChild(i));break;default:i&&e.appendChild(i)}else i&&e.appendChild(i);return l},wrap:function(e,t){var n=t&&t.nodeType?t:s.DOM.create(t),t=n.getElementsByTagName("*");t.length&&(n=t[t.length-1]),e.parentNode&&e.parentNode.replaceChild(n,e),n.appendChild(e)},unwrap:function(e){var t,n,r=e.parentNode,i=r.lastChild;if(r)if(n=r.parentNode){for(e=r.firstChild;e!==i;)t=e.nextSibling,n.insertBefore(e,r),e=t;n.replaceChild(i,r)}else r.removeChild(e)}}),n("innerhtml","table",{test:function(){var e=s.config.doc.createElement("table");try{e.innerHTML="<tbody></tbody>"}catch(e){return!1}return e.firstChild&&"TBODY"===e.firstChild.nodeName}}),n("innerhtml-div","tr",{test:function(){return o("<tr></tr>","tr")}}),n("innerhtml-div","script",{test:function(){return o("<script><\/script>","script")}}),i("innerhtml","table")||(f.tbody=function(e,t){var n=c.create("<table>"+e+"</table>",t),t=s.DOM._children(n,"tbody")[0];return 1<n.children.length&&t&&!p.test(e)&&t.parentNode.removeChild(t),n}),i("innerhtml-div","script")||(f.script=function(e,t){t=t.createElement("div");return t.innerHTML="-"+e,t.removeChild(t.firstChild),t},f.link=f.style=f.script),i("innerhtml-div","tr")||(s.mix(f,{option:function(e,t){return c.create('<select><option class="yui3-big-dummy" selected></option>'+e+"</select>",t)},tr:function(e,t){return c.create("<tbody>"+e+"</tbody>",t)},td:function(e,t){return c.create("<tr>"+e+"</tr>",t)},col:function(e,t){return c.create("<colgroup>"+e+"</colgroup>",t)},tbody:"table"}),s.mix(f,{legend:"fieldset",th:f.td,thead:f.tbody,tfoot:f.tbody,caption:f.tbody,colgroup:f.tbody,optgroup:f.option})),c.creators=f,s.mix(s.DOM,{setWidth:function(e,t){s.DOM._setSize(e,"width",t)},setHeight:function(e,t){s.DOM._setSize(e,"height",t)},_setSize:function(e,t,n){var r;e.style[t]=(n=0<n?n:0)+"px",n<(r="height"===t?e.offsetHeight:e.offsetWidth)&&(e.style[t]=(n=(n-=r-n)<0?0:n)+"px")}})},"3.12.0",{requires:["dom-core"]});

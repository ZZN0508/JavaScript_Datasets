(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([["player","AvatarByUid","Modal"],{"03f040":function(e,t,i){"use strict";var r=i("13f1e6");t.default=r.default},"063eab":function(e,t,i){"use strict";i.d(t,"default",function(){return C});var r,n,a,o,c,s,l=i("1a22b7"),u=i.n(l),f=i("97a1f0"),p=i("eb3e22"),d=i("7ca7dc"),m=i("54992a"),b=i("fc7947"),h=i.n(b),v=i("722b8a"),y=i("a5c38e"),g=i("ffca33"),_=i("e854a7"),S=(i("2c61c8"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}),w="/shark/live/src/pages/roomPage/playerModule/components/PELTicket/PELTicket.js";function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=d.default.Service,D=_.default.socketStream,O="https://www.douyu.com/999",T=[4792046,8855144,7776330]||[],E=5,C=(r=P(p.DataCenter.global),n=P(p.DataCenter.localStorage),Object(m.log)((o=function(e){function PELTicket(t){var i=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PELTicket);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(r,"global",c,r),_initDefineProp(r,"localStorage",s,r),r.createTimer=function(){r.timer=setTimeout(function(){r.clearTimer(),r.setState(Object.assign({visibility:!0},r.isLogin?{isPopup:!1}:{loginMust:!0}))},60*E*1e3)},r.clearTimer=function(){r.timer&&(clearTimeout(r.timer),delete r.timer)},r.getTicketInfo=function(){return Object(g.default)({url:"/japi/carnival/nc/qualify/ticketInfo"}).subscribe(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=parseInt(e.error,10)?{}:f.GSON.parse(e.data||""),i=t.timesCanChange,n=void 0===i?0:i,a=t.giftId,o=void 0===a?0:a,c=t.nameEn,s=void 0===c?"":c;r.ticketInfo={giftId:o,nameEn:s},r.setState({ticket:n})})},r.useCoupon=function(){var e=r.state,t=e.ticket;e.isPopup&&t<1?r.navigateToStage():r.exchange||(r.exchange=!0,r.exchangeTimer=setTimeout(function(){r.exchange=!1,clearTimeout(r.exchangeTimer),delete r.exchangeTimer},3e3),Object(y.default)().subscribe(function(e){Object(g.default)({url:"/japi/carnival/nc/point/exchangeGift",type:"post",data:S({},r.ticketInfo,e),csrf:!1,contentType:"form"}).subscribe(function(e){var t=e.error;parseInt(t,10)?v.default.error("\u4f7f\u7528\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5"):(r.clearTimer(),r.setState({visibility:!1}))})}))},r.navigateToStage=function(){window.location.href=O},r.login=function(){return h.a.show("login")},r.renderPopup=function(){var e=r.state.loginMust,t=r.isLogin?"useCoupon":"login";return u.a.createElement("div",{className:"PELTicket PELTicket--popup",__source:{fileName:w,lineNumber:151},__self:i},u.a.createElement("div",{className:"PELTicket-popup PELTicket-popup--"+t,__source:{fileName:w,lineNumber:152},__self:i},e?null:u.a.createElement("a",{className:"PELTicket-popup-close",onClick:function onClick(){return r.setState({visibility:!1})},__source:{fileName:w,lineNumber:153},__self:i}),u.a.createElement("div",{className:"PELTicket-popup-material",__source:{fileName:w,lineNumber:154},__self:i}),u.a.createElement("div",{className:"PELTicket-popup-describe",__source:{fileName:w,lineNumber:155},__self:i},e?u.a.createElement("p",{__source:{fileName:w,lineNumber:157},__self:i},"\u60a8\u7684\u8bd5\u770b\u65f6\u957f\u5df2\u8017\u5c3d"):u.a.createElement("p",{__source:{fileName:w,lineNumber:158},__self:i},"\u60a8\u5f53\u524d\u6b63\u5728\u8bd5\u770b\u6218\u961f\u89c6\u89d2\u76f4\u64ad",u.a.createElement("br",{__source:{fileName:w,lineNumber:158},__self:i}),"\u8bd5\u770b\u65f6\u957f",u.a.createElement("span",{__source:{fileName:w,lineNumber:158},__self:i},E,"\u5206\u949f"))),u.a.createElement("a",{className:"PELTicket-popup-operate",onClick:r[t],__source:{fileName:w,lineNumber:160},__self:i})))},r.renderLookAtTheEnd=function(){var e=r.state.ticket;return e>0?u.a.createElement("div",{className:"PELTicket",__source:{fileName:w,lineNumber:170},__self:i},u.a.createElement("dl",{className:"PELTicket-info",__source:{fileName:w,lineNumber:171},__self:i},u.a.createElement("dt",{__source:{fileName:w,lineNumber:172},__self:i},"\u5c0a\u4eab\u6218\u961f\u89c6\u89d2\u89c2\u8d5b"),u.a.createElement("dd",{__source:{fileName:w,lineNumber:173},__self:i},"\u60a8\u5f53\u524d\u5df2\u62e5\u6709",u.a.createElement("em",{__source:{fileName:w,lineNumber:173},__self:i},e),"\u5f20\u3010\u4e3b\u573a\u5238\u3011"),u.a.createElement("dd",{__source:{fileName:w,lineNumber:174},__self:i},"\u4f7f\u7528\u540e",u.a.createElement("em",{__source:{fileName:w,lineNumber:174},__self:i},"24\u5c0f\u65f6\u5185"),"\u5c0a\u4eab\u6218\u961f\u89c6\u89d2\u89c2\u8d5b\u7279\u6743"),u.a.createElement("dd",{className:"PELTicket-info-operate",__source:{fileName:w,lineNumber:175},__self:i},u.a.createElement("a",{onClick:r.useCoupon,__source:{fileName:w,lineNumber:176},__self:i},"\u7acb\u5373\u89c2\u770b"),u.a.createElement("a",{onClick:r.navigateToStage,__source:{fileName:w,lineNumber:177},__self:i},"\u8fd4\u56de\u4e3b\u821e\u53f0")))):u.a.createElement("div",{className:"PELTicket",__source:{fileName:w,lineNumber:182},__self:i},u.a.createElement("dl",{className:"PELTicket-info",__source:{fileName:w,lineNumber:183},__self:i},u.a.createElement("dt",{__source:{fileName:w,lineNumber:184},__self:i},"\u60a8\u7684\u4e3b\u573a\u5238\u5df2\u8017\u5c3d"),u.a.createElement("dd",{__source:{fileName:w,lineNumber:185},__self:i},"\u8bf7\u524d\u5f80",u.a.createElement("em",{__source:{fileName:w,lineNumber:185},__self:i},"\u4e3b\u821e\u53f0"),"\u5b8c\u6210\u4efb\u52a1\u83b7\u53d6\u3010\u4e3b\u573a\u5238\u3011"),u.a.createElement("dd",{__source:{fileName:w,lineNumber:186},__self:i},"\u89e3\u9501\u5c0a\u4eab\u6218\u961f\u89c6\u89d2\u89c2\u8d5b\u7279\u6743\u5427\uff01"),u.a.createElement("dd",{className:"PELTicket-info-operate",__source:{fileName:w,lineNumber:187},__self:i},u.a.createElement("a",{onClick:r.navigateToStage,__source:{fileName:w,lineNumber:188},__self:i},"\u7acb\u5373\u524d\u5f80"))))},r.roomId=parseInt(r.global.get("$ROOM.room_id"),10),r.isTeamVision=T.includes(r.roomId),r.isLogin=h.a.check(),r.state={visibility:!1,loginMust:!1,isPopup:!0,ticket:0},r}return _inherits(PELTicket,e),PELTicket.prototype.componentDidMount=function componentDidMount(){var e=this;this.isTeamVision&&Object(g.default)({url:"/japi/carnival/nc/qualify/livewatch",data:{rid:this.roomId}}).subscribe(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=parseInt(t.error,10)?{}:f.GSON.parse(t.data||""),r=i.hasRight,n=i.firstInDay;if(i.isOpen){if(!r){var a=!!e.localStorage.get("PEL_S2_TICKET");e.setState({visibility:!0,loginMust:!e.isLogin&&a,isPopup:!e.isLogin||!!n&&!a},e.createTimer),e.localStorage.set("PEL_S2_TICKET",1,new Date((new Date).setHours(23,59,59,999)))}e.isLogin&&(D.subscribe("biz_watchlive_ticket",function(){e.setState({visibility:!0,isPopup:!1},e.getTicketInfo)}),e.getTicketInfo())}})},PELTicket.prototype.render=function render(){var e=this.state,t=e.visibility,i=e.isPopup;return t?this[i?"renderPopup":"renderLookAtTheEnd"]():null},PELTicket}(u.a.Component),c=_applyDecoratedDescriptor(o.prototype,"global",[r],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"localStorage",[n],{enumerable:!0,initializer:null}),a=o))||a)},"0950f5":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_65988db.png"},"0d4a99":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/c3_202fecd.png"},"0fc347":function(e,t,i){},"13f1e6":function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f,p,d=i("1a22b7"),m=i.n(d),b=i("447d8e"),h=i("7ca7dc"),v=i("eb3e22"),y=i("54992a"),g=i("97a1f0"),_=i("e854a7"),S=i("ac64b0"),w=(i("554270"),"/shark/live/src/pages/roomPage/playerModule/components/MatchSystemPlayerInteractive/MatchSystemPlayerInteractive.js");function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=h.default.Service,D=_.default.socketStream,O=.01063,T=5,E=(r=P(v.DataCenter.global),n=P(v.DataCenter.common),a=P(v.DataCenter.acj),o=Object(g.Inject)("live.playerAsideModule.ShieldToolServices"),Object(y.log)((s=function(e){function MatchSystemPlayerInteractive(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchSystemPlayerInteractive);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"global",l,i),_initDefineProp(i,"common",u,i),_initDefineProp(i,"acj",f,i),_initDefineProp(i,"shieldToolServices",p,i),i.state={enterList:[],barrageList:[]},i.topCount=0,i.roomId=i.global.get("$ROOM.room_id"),i.roomShowStatus=i.global.get("$ROOM.show_status"),i.barrageCount=0,i.handleListData=function(e,t){var r=t.igp,n=t.gpn,a=t.tid,o=t.vigp,c=t.vgpn,s=t.vtid,l=t.txt,u=t.nn,f=t.nc;i.shieldToolServices.getShield(108).subscribe(function(t){if(!t&&!(1===e&&f>0)&&(r>0||o>0)&&1===i.roomShowStatus){if(!i.playerDom)return;var p=document.getElementById("MatchSystemPlayerInteractive-barrageList"),d=i.playerDom.clientWidth,m=document.createElement("li"),b=r>0?a:s,h=(r>0?n:c)||u,v=i.getTeamIcon(b,o);if(!v)return;i.barrageCount+=1,m.innerHTML=0===e?'\n                                <div\n                                    class="MatchSystemPlayerInteractive-enterItem"\n                                    style="top: '+(10*i.topCount+10)+"%;\n                                    transform:translateX("+(d+32)+"px);-webkit-transform:translateX("+(d+32)+"px);-moz-transform:translateX("+(d+32)+"px);\n                                    transition:"+d*O+"s linear;-webkit-transition:"+d*O+"s linear;-moz-transition:"+d*O+'s linear;"\n                                >\n                                    <div class="MatchSystemPlayerInteractive-enterHeadBg"></div>\n                                    <div class="MatchSystemPlayerInteractive-enterTailBg"></div>\n                                    <div class="MatchSystemPlayerInteractive-avatar">\n                                        <img class="MatchSystemPlayerInteractive-avatarImg" src='+v+' />\n                                    </div>\n                                    <div class="MatchSystemPlayerInteractive-enterBgContent">'+h+'</div>\n                                    <h3 class="MatchSystemPlayerInteractive-enterContent">\n                                        \u6b22\u8fce'+(r>0?"\u9009\u624b":"")+'<span class="MatchSystemPlayerInteractive-enterContentName">'+h+"</span>\u8fdb\u5165\u76f4\u64ad\u95f4\uff0c \u5feb\u6765\u4e0e\u4ed6\u4e92\u52a8\u5427\n                                    </h3>\n                                </div>\n                    ":'\n                                <div\n                                    class="MatchSystemPlayerInteractive-item"\n                                    style="top: '+(10*i.topCount+10)+"%;\n                                    transform: translateX("+(d+32)+"px);-webkit-transform: translateX("+(d+32)+"px);-moz-transform: translateX("+(d+32)+"px);\n                                    transition:"+d*O+"s linear;-webkit-transition:"+d*O+"s linear;-moz-transition:"+d*O+'s linear;"\n                                >\n                                    <div class="MatchSystemPlayerInteractive-extrabg"></div>\n                                    <div class="MatchSystemPlayerInteractive-content">\n                                        <span class="MatchSystemPlayerInteractive-avatar">\n                                            <img class="MatchSystemPlayerInteractive-avatarImg" src='+v+' />\n                                        </span>\n                                        <h3 class="MatchSystemPlayerInteractive-barrageContent">\n                                            <span class="MatchSystemPlayerInteractive-barrageContentName">'+h+"\uff1a</span>"+l+"\n                                        </h3>\n                                    </div>\n                                </div>\n                    ";var y=m.firstElementChild;y.addEventListener("transitionend",i.removeItem),p.appendChild(m),i.topCount=i.topCount+1>T?0:i.topCount+1,setTimeout(function(){y.style.transform="translateX("+-y.clientWidth+"px)",y.style.MozTransform="translateX("+-y.clientWidth+")px",y.style.WebkitTransform="translateX("+-y.clientWidth+")px"},100)}})},i.getTeamIcon=function(e,t){var r=i.props,n=r.teamInfo,a=r.virtualTeams,o=r.currentConfigId;if(o<=0)return null;var c=1===+t?a.find(function(e){return e.conf_id===o}).list.find(function(t){return t.team_id===+e}):n.find(function(t){return t.team_id===+e});return!!c&&c.pic},i.removeItem=function(e){var t=e.target.parentElement;t.parentElement.removeChild(t)},_possibleConstructorReturn(i,t)}return _inherits(MatchSystemPlayerInteractive,e),MatchSystemPlayerInteractive.prototype.componentDidMount=function componentDidMount(){var e=this;this.acj.get(S.ROOM_TYPE.ROOM_DATA_STATE).subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ss;e.roomShowStatus=1===+t?1:2}),this.common.get("$DATA").subscribe(function(t){1===+t.player_barrage&&(D.subscribe("uenter",function(t){e.handleListData(0,t)}),D.subscribe("chatmsg",function(t){e.handleListData(1,t)}))}),this.playerDom=document.getElementsByClassName("layout-Player-videoMain")[0]},MatchSystemPlayerInteractive.prototype.render=function render(){return m.a.createElement("div",{className:"MatchSystemPlayerInteractive",__source:{fileName:w,lineNumber:187},__self:this},m.a.createElement("ul",{id:"MatchSystemPlayerInteractive-barrageList",__source:{fileName:w,lineNumber:188},__self:this}))},MatchSystemPlayerInteractive}(m.a.Component),l=_applyDecoratedDescriptor(s.prototype,"global",[r],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(s.prototype,"common",[n],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(s.prototype,"acj",[a],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(s.prototype,"shieldToolServices",[o],{enumerable:!0,initializer:null}),c=s))||c);t.default=Object(b.connect)(function mapStateToProps(e){return{teamInfo:e.matchSystemData&&[].concat(e.matchSystemData.matchSystemTeams,e.matchSystemData.wzryMatchTeams),virtualTeams:e.matchSystemData&&e.matchSystemData.virtualTeams,currentConfigId:e.matchSystemData&&e.matchSystemData.currentConfigId}})(E)},"15933e":function(e,t,i){},"15e8d6":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_dd1d7b6.png"},"16358b":function(e,t,i){e.exports=i("5f575e")("3dfab")},"16473e":function(e,t,i){},"182d49":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/vr-tips-guide_4dccb71.png"},"19708f":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_1f0ccce.png"},"1a22b7":function(e,t,i){e.exports=i("999443")("8af19")},"1d1529":function(e,t,i){"use strict";var r=i("33dbb7");t.default=r.default},"20ec0b":function(e,t,i){e.exports=i("5f575e")("d48de")},"21a655":function(e,t,i){e.exports=i("5f575e")("9ce58")},221302:function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f,p,d,m=i("97a1f0"),b=i("7ca7dc"),h=i("eb3e22"),v=i("54992a"),y=i("ac64b0"),g=i("f7168b"),_=i("8fc5e5"),S=i("84de32");function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}new v.Logger;var w=b.default.Service,P=(r=w(h.DataCenter.acj),n=w(h.DataCenter.event),a=w(g.default),o=w(h.DataCenter.global),c=w(h.DataCenter.common),s=function(e){function QQCloudGGServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,QQCloudGGServices);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"acj",l,i),_initDefineProp(i,"event",u,i),_initDefineProp(i,"roomService",f,i),_initDefineProp(i,"global",p,i),_initDefineProp(i,"common",d,i),_possibleConstructorReturn(i,t)}return _inherits(QQCloudGGServices,e),QQCloudGGServices.prototype.init=function init(e,t,i){var r=this;return this.dom=e,this.useH5=t,this.swfId=i,this.acj.get(y.ROOM_TYPE.ROOM_VIDEO_REPLAY).subscribe(function(e){e&&e.rtmp_live&&r.loadConfig(e)})},QQCloudGGServices.prototype.loadConfig=function loadConfig(e){var t=this;this.qq=new S.default;var i=e.hightligth&&-1!==e.rtmp_live.indexOf("-ads")?1:0,r="https://rtbapi.douyucdn.cn/japi/sign/web/getconfig";this.common.get("$DATA").subscribe(function(n){var a=[4112241].join(),o=e.rid,c=n.get("room.category_id"),s=n.get("room.cate_id");r=r+"?posid="+a+"&roomid="+o+"&cate1="+c+"&cate2="+s,h.httpClient.post(_.default,r).subscribe(function(r){var n=!1;if(0===+r.error){var a=r.data;if(a)for(var o=0;o<a.length;o++){var c=a[o];i=t.getType(i,c),4112241===+c.posid&&c.show&&(n=!0)}}+i>0?t.regQQAD(e,i):window.qcgg&&window.qcgg.destroy(),n?t.regAD2(e,"SEI"):window.qdgg&&(window.qdgg.destroy(),window.qdgg=null)})})},QQCloudGGServices.prototype.getType=function getType(e,t){var i=e;return 9e4===+t.posid&&t.show&&(i|=2),90003===+t.posid&&t.show&&(i|=4),411303===+t.posid&&t.show&&(i|=8),i},QQCloudGGServices.prototype.regQQAD=function regQQAD(e,t){var i=-1!==e.rtmp_live.indexOf("-ads");if(1!==+t||i){var r={url:location.href,args:e,type:t,dom:this.dom,useH5:this.useH5,flashID:this.swfId,palytencentAd:this.palytencentAd,tencentcloundAd:this.tencentcloundAd};this.qq.init(r)}},QQCloudGGServices.prototype.regAD2=function regAD2(e,t){var i={url:location.href,args:e,type:t,dom:this.dom,useH5:this.useH5,flashID:this.swfId};this.qq.init2(i),this.acjInited||(this.acjInited=!0,this.acj.get(y.ROOM_TYPE.ROOM_LOLAD_DATA).subscribe(function(e){null!=window.qdgg&&window.qdgg.emit("message",{type:"ifs",msg:e.data.text})}))},QQCloudGGServices.prototype.palytencentAd=function palytencentAd(e){this.acj.push(y.JS_TYPE.JS_palytencentAd,e)},QQCloudGGServices.prototype.tencentcloundAd=function tencentcloundAd(e){this.acj.push(y.JS_TYPE.JS_tencentcloundAd,e)},QQCloudGGServices}(m.Service),l=_applyDecoratedDescriptor(s.prototype,"acj",[r],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(s.prototype,"event",[n],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(s.prototype,"roomService",[a],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(s.prototype,"global",[o],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(s.prototype,"common",[c],{enumerable:!0,initializer:null}),s);t.default=P},241084:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/h2_a49d415.png"},"245b42":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_afacc68.png"},"25ff37":function(e,t,i){"use strict";i.d(t,"default",function(){return x});var r,n,a,o,c,s,l,u,f,p,d,m,b,h,v,y,g,_,S,w,P=i("1a22b7"),D=i.n(P),O=i("eb3e22"),T=(i("269ba1"),i("54992a")),E=i("7ca7dc"),C=i("555639"),j=i("ed7240"),k=i("b0352b"),N=i("402878"),M=i("7047fb"),L=i("b399ab"),I=i("2f77e8"),z=i("e95856"),B=i("aea32b"),A=(i("6542e6"),"/shark/live/src/pages/roomPage/playerModule/components/DanmuEffectDom/danmuEffectDom.js");function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var F=E.default.Service,x=(r=F(O.DataCenter.common),n=F(N.default),a=F(M.default),o=F(C.default),c=F(k.default),s=F(L.default),l=F(I.default),u=F(z.default),f=F(B.default),Object(T.log)((d=function(e){function DanmuEffectDom(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DanmuEffectDom);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"common",m,t),_initDefineProp(t,"nobleBroadCastServices",b,t),_initDefineProp(t,"emperBroadCastServices",h,t),_initDefineProp(t,"broadcastManagerService",v,t),_initDefineProp(t,"barrageCastServices",y,t),_initDefineProp(t,"danmuEffectService",g,t),_initDefineProp(t,"barrageMemeServices",_,t),_initDefineProp(t,"buffDanmuServices",S,t),_initDefineProp(t,"deviceAdServices",w,t),t.state={showModal:!1},t}return _inherits(DanmuEffectDom,e),DanmuEffectDom.prototype.componentDidMount=function componentDidMount(){var e=this;this.nobleBroadCastServices.init(),this.emperBroadCastServices.init(),this.broadcastManagerService.init(),this.barrageCastServices.init(),this.buffDanmuServices.init(),this.danmuEffectService.init(this.showAlert.bind(this)),this.deviceAdServices.init(),this.common.get("$DATA").subscribe(function(t){1===+t.get("room.show_status")&&(e.barrageMemeServices.init(),setTimeout(function(){e.barrageMemeServices.getEnterRoomBarrgeList()},10*Math.random()*1e3))})},DanmuEffectDom.prototype.render=function render(){var e=this;return D.a.createElement("div",{className:"DanmuEffectDom",__source:{fileName:A,lineNumber:64},__self:this},D.a.createElement(j.default,{title:"\u63d0\u793a",visible:this.state.showModal,width:260,radiusStyle:!0,needCancelBtn:!1,center:!0,onOk:function onOk(){e.setState({showModal:!1})},onCancel:function onCancel(){e.setState({showModal:!1})},__source:{fileName:A,lineNumber:65},__self:this},D.a.createElement("p",{__source:{fileName:A,lineNumber:72},__self:this},"\u90e8\u5206\u5e7f\u64ad\u65e0\u6cd5\u5728IE9\u6d4f\u89c8\u5668\u4e0a\u5c55\u793a\uff0c\u53ef\u5347\u7ea7\u5f53\u524d\u7248\u672c\u6216\u66f4\u6362\u6d4f\u89c8\u5668\u89c2\u770b\u3002")),D.a.createElement("div",{className:"DanmuEffectDom-container",id:"douyu_room_normal_player_danmuDom",__source:{fileName:A,lineNumber:74},__self:this}),D.a.createElement("div",{className:"DanmuEffectDom-container",id:"douyu_room_normal_player_danmuDom_barrage",__source:{fileName:A,lineNumber:75},__self:this}),D.a.createElement("div",{className:"DanmuEffectDom-container",id:"douyu_room_normal_player_danmuEffect",__source:{fileName:A,lineNumber:76},__self:this}))},DanmuEffectDom.prototype.showAlert=function showAlert(){this.setState({showModal:!0})},DanmuEffectDom}(D.a.Component),m=_applyDecoratedDescriptor(d.prototype,"common",[r],{enumerable:!0,initializer:null}),b=_applyDecoratedDescriptor(d.prototype,"nobleBroadCastServices",[n],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(d.prototype,"emperBroadCastServices",[a],{enumerable:!0,initializer:null}),v=_applyDecoratedDescriptor(d.prototype,"broadcastManagerService",[o],{enumerable:!0,initializer:null}),y=_applyDecoratedDescriptor(d.prototype,"barrageCastServices",[c],{enumerable:!0,initializer:null}),g=_applyDecoratedDescriptor(d.prototype,"danmuEffectService",[s],{enumerable:!0,initializer:null}),_=_applyDecoratedDescriptor(d.prototype,"barrageMemeServices",[l],{enumerable:!0,initializer:null}),S=_applyDecoratedDescriptor(d.prototype,"buffDanmuServices",[u],{enumerable:!0,initializer:null}),w=_applyDecoratedDescriptor(d.prototype,"deviceAdServices",[f],{enumerable:!0,initializer:null}),p=d))||p)},"2613b1":function(e,t,i){"use strict";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}i.d(t,"MATCH_JUMP_START",function(){return r}),i.d(t,"CLOSE_PANEL",function(){return n});var r="MATCH_JUMP_START",n="CLOSE_PANEL",a=function(e){function MatchJumpAction(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchJumpAction),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(MatchJumpAction,e),MatchJumpAction.startMatchJump=function startMatchJump(e){return{type:r,payload:e}},MatchJumpAction.closePanel=function closePanel(e){return{type:n,payload:e}},MatchJumpAction}(i("97a1f0").Action);t.default=a},"269ba1":function(e,t,i){},"26d616":function(e,t,i){"use strict";var r=i("2613b1"),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},a={panelData:{},showPanel:!1};t.default={matchJumpData:function matchJumpData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.MATCH_JUMP_START:return n({},e,{panelData:t.payload,showPanel:!0});case r.CLOSE_PANEL:return n({},e,{showPanel:!1});default:return e}}}},292183:function(e,t,i){e.exports=i("5f575e")("8a2d1")},"2be3f4":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_2ce7d3f.png"},"2c61c8":function(e,t,i){},"2d1400":function(e,t,i){e.exports=i("5f575e")("3274c")},"2d6146":function(e,t){e.exports=sdkd479d126aaa128c11834},"2de163":function(e,t,i){e.exports=i("5f575e")("1f981")},"2f135c":function(e,t,i){e.exports=i("d1db8c")("38686")},"2f77e8":function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f,p,d,m,b,h,v,y,g,_=i("97a1f0"),S=i("eb3e22"),w=i("f3f802"),P=i("97a851"),D=i.n(P),O=i("f68984"),T=i("960890"),E=i("b00678"),C=i("2f135c"),j=i("cb8c6f"),k=i("7ca7dc"),N=i("3c9879"),M=i.n(N),L=i("54992a"),I=i("e854a7"),z=i("555639"),B=i("bee09c"),A=i("ac64b0"),F=i("a50154"),x=function _taggedTemplateLiteralLoose(e,t){return e.raw=t,e}(['\n                <div class="BarrageMeme"><span class="BarrageMeme-header"></span><div class="BarrageMeme-mid"><span class="BarrageMeme-content">','</span></div><span class="BarrageMeme-tail"></span></div>'],['\n                <div class="BarrageMeme"><span class="BarrageMeme-header"></span><div class="BarrageMeme-mid"><span class="BarrageMeme-content">','</span></div><span class="BarrageMeme-tail"></span></div>']);function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var R=new L.Logger,H=k.default.Service,G=I.default.socketStream,V=D.a.decode,Y=(r=Object(_.Injectable)("live.playerModule.BarrageMemeServices"),n=H(S.DataCenter.acj),a=H(S.DataCenter.global),o=H(S.DataCenter.common),c=H(B.default),s=H(z.default),l=H(F.default),r((y=function(e){function BarrageMemeServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageMemeServices);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),g.call(i),_possibleConstructorReturn(i,t)}return _inherits(BarrageMemeServices,e),BarrageMemeServices}(_.Service),g=function _initialiseProps(){var e=this;_initDefineProp(this,"acj",p,this),_initDefineProp(this,"global",d,this),_initDefineProp(this,"common",m,this),_initDefineProp(this,"playerService",b,this),_initDefineProp(this,"broadcastManagerServices",h,this),_initDefineProp(this,"getServerTimeServices",v,this),this.lastCheckTime=0,this.total=0,this.list=[],this.option={type:"rightToLeft",animation:[{duration:8e3,fillMode:"forwards"}]},this.mapDelay=1e4,this.showBarrageMemeInListCallBack=null,this.showBarrageMemeInList=function(t){e.showBarrageMemeInListCallBack=t},this.showBarrageMeme=function(t){var i=t.msg,r=e.broadcastManagerServices.getBroadcast(e.broadcastManagerServices.saferHTML(x,i||"\u4e3a\u4f60\u7cbe\u5f69\u53d1\u8a00\u70b9\u8d5e!"),e.option);e.broadcastManagerServices.addBarrageBroadcast(r)},this.getBarrageMemeList=function(e,t){return S.httpClient.get(String,"/wgapi/vod/front/barrage/getLiveSpecialBarrage",{rid:e,vid:t},{noCache:!0}).pipe(Object(O.map)(function(e){if(e&&0===e.error&&(e.data&&"string"===typeof e.data))return _.GSON.parse(e.data)}),Object(C.catchError)(function(){return Object(T.of)(null)}))},this.getEnterRoomBarrgeList=function(){return Object(w.zip)(e.common.get("$DATA").pipe(Object(j.pluck)("room","room_id")),e.common.get("$DATA").pipe(Object(j.pluck)("room","room_id"),Object(E.switchMap)(function(t){return e.playerService.getRoomLoopInfo(t,!1)}),Object(O.map)(function(e){return 3===e.rst&&3005===e.rsst?e.vid:null}),Object(C.catchError)(function(){return Object(T.of)(null)}))).pipe(Object(O.map)(function(e){var t=e[0],i=e[1];return t&&i?{rid:t,vid:i}:null}),Object(E.switchMap)(function(t){var i=t.rid,r=t.vid;return e.getBarrageMemeList(i,r)}),Object(C.catchError)(function(){return Object(T.of)(null)})).subscribe(e.start)},this.start=function(t){t&&(e.total=(t||[]).count,e.list=(t||[]).list.sort(function(e,t){return e.tl<t.tl?-1:1}),e.getServerTime())},this.init=function(){e.acj.get(A.ROOM_TYPE.ROOM_SEI_DATA).subscribe(function(t){var i=t.data;R.log("BarrageMeme :",M()(i).format()),e.updateShowFirstTime(i)}),G.subscribe("plb_rvo",function(t){var i=t.vs,r=(V(i).map(function(e){return V(e)})||[]).filter(function(e){return 1===+e.io});R.log("BarrageMeme :plb_rvo ",r),r&&r.length&&e.common.get("$DATA").pipe(Object(j.pluck)("room","room_id")).subscribe(function(t){e.getBarrageMemeList(t,r[0].hvid).subscribe(e.start)})})},this.getServerTime=function(){e.getServerTimeServices.getAdjustTime().subscribe(function(t){R.log("BarrageMeme :",M()(1e3*t).format(),"L"),e.updateShowFirstTime(1e3*t-e.mapDelay)})},this.updateShowFirstTime=function(t){if(clearTimeout(e.showId),e.list&&0!==e.list.length){var i=e.list[0],r=i.tl,n=i.mtype;if(t){var a=r-t;10!==n||a<0?e.deleteFrist(t):(R.log("BarrageMeme :duration",a),e.showId=setTimeout(e.showComplete,a,i))}else e.getServerTime()}},this.showComplete=function(t){!e.showenTL||e.showenTL<t.tl?(e.showenTL=t.tl,e.showBarrageMeme({msg:t.ctt}),e.showBarrageMemeInListCallBack&&e.showBarrageMemeInListCallBack({msg:t.ctt})):R.log("BarrageMeme :showenTL",e.showenTL,t.tl),e.deleteFrist(t.tl)},this.deleteFrist=function(t){e.list&&e.list.length&&e.list.shift(),e.updateShowFirstTime(t)}},p=_applyDecoratedDescriptor((f=y).prototype,"acj",[n],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(f.prototype,"global",[a],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(f.prototype,"common",[o],{enumerable:!0,initializer:null}),b=_applyDecoratedDescriptor(f.prototype,"playerService",[c],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(f.prototype,"broadcastManagerServices",[s],{enumerable:!0,initializer:null}),v=_applyDecoratedDescriptor(f.prototype,"getServerTimeServices",[l],{enumerable:!0,initializer:null}),u=f))||u);t.default=Y},"324e7c":function(e,t,i){},"33dbb7":function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f=i("1a22b7"),p=i.n(f),d=i("54992a"),m=i("7ca7dc"),b=i("fc7947"),h=i.n(b),v=i("eb3e22"),y=i("722b8a"),g=i("ed7240"),_=i("97a1f0"),S=i("e854a7"),w=i("ae450e"),P=(i("ebbc76"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}),D="/shark/live/src/pages/roomPage/playerModule/components/SocketError/SocketError.js";function _objectWithoutProperties(e,t){var i={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var O=S.default.socketStream,T=m.default.Service,E=(r=T(v.DataCenter.global),n=T(v.DataCenter.acj),a=Object(_.Inject)("live.playerAsideModule.BarrageServices"),Object(d.log)((c=function(e){function SocketError(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SocketError);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"global",s,t),_initDefineProp(t,"acj",l,t),_initDefineProp(t,"barrageService",u,t),t.state={phockDialog:{},systimeDialog:{},error287Dialog:{},error52Dialog:{}},t}return _inherits(SocketError,e),SocketError.prototype.isAnchor=function isAnchor(){return+this.global.get("USER_INFO.uid")===+this.global.get("$ROOM.owner_uid")},SocketError.prototype.error52DialogClose=function error52DialogClose(){var e=this.state.error52Dialog;this.setState({error52Dialog:Object.assign({},e,{visible:!1})}),window.location.href=this.isAnchor()?"/room/my":"/"},SocketError.prototype.subscribeH5Player=function subscribeH5Player(){var e=this;this.acj.get("room_bus_checksevertime").subscribe(function(){e.setState({systimeDialog:{title:"\u63d0\u793a",visible:!0,width:642,footer:null,destroyOnClose:!0,maskStyle:{background:"rgb(0, 0, 0)",opacity:.7},style:{position:"absolute",top:"50%",left:"50%",margin:"-63px 0 0 -321px"},onCancel:function onCancel(){var t=e.state.systimeDialog;e.setState({systimeDialog:Object.assign({},t,{visible:!1})})},content:p.a.createElement("p",{className:"socketError-text",__source:{fileName:D,lineNumber:80},__self:e},p.a.createElement("i",{className:"socketError-warning is-iconfl",__source:{fileName:D,lineNumber:80},__self:e}),"\u672c\u673a\u7cfb\u7edf\u65f6\u95f4\u6709\u8bef\uff01\u9519\u8bef\u7684\u7cfb\u7edf\u65f6\u95f4\u4f1a\u5bfc\u81f4\u64ad\u653e\u5668\u51fa\u73b0\u65e0\u9650\u52a0\u8f7d\u53ca\u5176\u4ed6\u4e0d\u53ef\u9884\u77e5\u7684\u9519\u8bef\u3002",p.a.createElement("br",{__source:{fileName:D,lineNumber:80},__self:e}),"\u8bf7\u6821\u51c6\u672c\u673a\u7cfb\u7edf\u65f6\u95f4\u540e\u5237\u65b0\u9875\u9762\u3002")}})}),this.acj.get("room_bus_phock").subscribe(function(){return h.a.check()?e.setState({phockDialog:{title:"\u63d0\u793a",visible:!0,width:306,destroyOnClose:!0,maskStyle:{background:"rgb(0, 0, 0)",opacity:.1},style:{position:"absolute",top:"50%",left:"50%",margin:"-81px 0 0 -108px"},onCancel:function onCancel(){var t=e.state.phockDialog;e.setState({phockDialog:Object.assign({},t,{visible:!1})})},onOk:function onOk(){window.location.href="/member/cp#phone"},content:p.a.createElement("p",{className:"socketError-text is-center",__source:{fileName:D,lineNumber:121},__self:e},p.a.createElement("i",{className:"socketError-question",__source:{fileName:D,lineNumber:121},__self:e}),"\u5b8c\u6210\u624b\u673a\u9a8c\u8bc1\u540e\u624d\u80fd\u8fdb\u884c\u5f39\u5e55\u53d1\u9001")}}):h.a.show("login")})},SocketError.prototype.componentDidMount=function componentDidMount(){var e=this;O.subscribe("error",function(t){switch(parseInt(t.code,10)){case 51:y.default.error("\u6570\u636e\u4f20\u8f93\u51fa\u9519\uff01");break;case 52:var i=e.isAnchor()?"\u60a8\u7684\u623f\u95f4\u5df2\u88ab\u5173\u95ed\uff0c\u8be6\u60c5\u8bf7\u8054\u7cfb\u5ba2\u670d\u4eba\u5458\u3002":"\u60a8\u89c2\u770b\u7684\u623f\u95f4\u5df2\u88ab\u5173\u95ed\uff0c\u8bf7\u9009\u62e9\u5176\u4ed6\u76f4\u64ad\u8fdb\u884c\u89c2\u770b\u54e6\uff01";e.setState({error52Dialog:{wrapClassName:"error52Dialog",title:p.a.createElement(w.default,{time:8,callback:function callback(){e.error52DialogClose()},__source:{fileName:D,lineNumber:144},__self:e}),visible:!0,width:384,destroyOnClose:!0,maskStyle:{background:"rgb(0, 0, 0)",opacity:.7},style:{position:"absolute",top:"50%",left:"50%",margin:"-81px 0 0 -192px"},okText:"\u786e\u5b9a",onCancel:function onCancel(){e.error52DialogClose()},onOk:function onOk(){e.error52DialogClose()},content:p.a.createElement("p",{className:"socketError-text is-center is-red",__source:{fileName:D,lineNumber:168},__self:e},p.a.createElement("i",{className:"socketError-warning",__source:{fileName:D,lineNumber:168},__self:e}),i)}});break;case 53:y.default.error("\u670d\u52a1\u5668\u7e41\u5fd9\uff01");break;case 54:y.default.error("\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d\uff01");break;case 55:y.default.error("\u7528\u6237\u6ee1\u5458\uff01");break;case 57:y.default.error("\u5e10\u53f7\u88ab\u5c01\u7981\uff01",5,function(){return location.href="/"});break;case 58:y.default.error("\u6635\u79f0\u5bc6\u7801\u9519\u8bef\uff01");break;case 59:y.default.error("\u60a8\u7684\u8d26\u53f7\u5df2\u5728\u5176\u4ed6\u5730\u65b9\u767b\u5f55\uff0c\u8bf7\u6ce8\u610f\u8d26\u53f7\u5b89\u5168\uff01");break;case 60:y.default.error("\u804a\u5929\u4fe1\u606f\u5305\u542b\u654f\u611f\u8bcd\u8bed\uff01");break;case 252:y.default.error("\u60a8\u7684\u767b\u5f55\u5df2\u8fc7\u671f\u8bf7\u91cd\u65b0\u767b\u5f55\uff01",3.5,function(){return h.a.show()});break;case 287:e.setState({error287Dialog:{title:"\u63d0\u793a",visible:!0,width:334,destroyOnClose:!0,mask:!1,style:{position:"absolute",top:"50%",left:"50%",margin:"-81px 0 0 -167px"},cancelText:"\u786e\u5b9a",okText:"\u5237\u65b0",onCancel:function onCancel(){var t=e.state.error287Dialog;e.setState({error287Dialog:Object.assign({},t,{visible:!1})})},onOk:function onOk(){window.location.reload()},content:p.a.createElement("p",{className:"socketError-text is-center",__source:{fileName:D,lineNumber:250},__self:e},p.a.createElement("i",{className:"socketError-warning",__source:{fileName:D,lineNumber:250},__self:e}),"\u670d\u52a1\u5668\u6b63\u5728\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u91cd\u65b0\u5237\u65b0\u9875\u9762\uff01")}});break;case 4202:case 4203:case 4204:case 4208:case 210:case 365:h.a.exit();break;case 4205:case 4206:case 4207:case 203:h.a.show();break;case 267:e.barrageService.receiveSysMsg({resMsg:"\u62b1\u6b49\uff0c\u60a8\u7684\u8d26\u53f7\u76ee\u524d\u6253\u5f00\u7684\u623f\u95f4\u8fc7\u591a~"}).subscribe()}}),this.subscribeH5Player()},SocketError.prototype.render=function render(){var e=this.state,t=e.systimeDialog,i=e.phockDialog,r=e.error287Dialog,n=e.error52Dialog,a=i.content,o=_objectWithoutProperties(i,["content"]),c=t.content,s=_objectWithoutProperties(t,["content"]),l=r.content,u=_objectWithoutProperties(r,["content"]),f=n.content,d=_objectWithoutProperties(n,["content"]);return p.a.createElement("div",{__source:{fileName:D,lineNumber:293},__self:this},p.a.createElement(g.default,P({},o,{__source:{fileName:D,lineNumber:294},__self:this}),a),p.a.createElement(g.default,P({},s,{__source:{fileName:D,lineNumber:299},__self:this}),c),p.a.createElement(g.default,P({},u,{__source:{fileName:D,lineNumber:304},__self:this}),l),p.a.createElement(g.default,P({},d,{__source:{fileName:D,lineNumber:309},__self:this}),f))},SocketError}(p.a.Component),s=_applyDecoratedDescriptor(c.prototype,"global",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(c.prototype,"acj",[n],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"barrageService",[a],{enumerable:!0,initializer:null}),o=c))||o);t.default=E},"35aaa5":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/c1_df09480.png"},"35e225":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/h1_3f4d269.png"},"36fb5d":function(e,t,i){e.exports=i("5f575e")("4e8e3")},"39154b":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_998d131.png"},"39f4b7":function(e,t,i){"use strict";var r,n,a,o=i("1a22b7"),c=i.n(o),s=i("447d8e"),l=i("7ca7dc"),u=i("36fb5d"),f="/shark/live/src/pages/roomPage/playerModule/components/Ticket/MatchTicketLogout.js";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var p=(r=(0,l.default.Service)(u.default),n=function(e){function MatchTicketLogout(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchTicketLogout);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(i,"ticketService",a,i),_possibleConstructorReturn(i,t)}return _inherits(MatchTicketLogout,e),MatchTicketLogout.prototype.render=function render(){var e=this,t=this.props.ticketLoginStatus;return t.status?c.a.createElement("div",{className:"MatchTicketLogout",__source:{fileName:f,lineNumber:25},__self:this},c.a.createElement("div",{className:"MatchTicketLogout-main",__source:{fileName:f,lineNumber:26},__self:this},c.a.createElement("div",{className:"MatchTicketLogout-pic",__source:{fileName:f,lineNumber:27},__self:this}),c.a.createElement("div",{className:"MatchTicketLogout-title",__source:{fileName:f,lineNumber:28},__self:this},"\u767b\u5f55\u540e\u89c2\u770b\u6bd4\u8d5b"),c.a.createElement("div",{className:"MatchTicketLogout-desc",__source:{fileName:f,lineNumber:29},__self:this},"\u56e0\u672c\u573a\u76f4\u64ad\u4e3a",c.a.createElement("span",{className:"MatchTicketLogout-desc is-active",__source:{fileName:f,lineNumber:29},__self:this},"\u4ed8\u8d39\u76f4\u64ad"),"\uff0c\u60a8\u9700\u767b\u5f55\u540e\u624d\u53ef\u89c2\u770b"),c.a.createElement("div",{className:"MatchTicketLogout-btn",onClick:function onClick(){e.ticketService.showLoginDialog(t)},__source:{fileName:f,lineNumber:30},__self:this},"\u7acb\u5373\u767b\u5f55"))):null},MatchTicketLogout}(c.a.Component),a=function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(n.prototype,"ticketService",[r],{enumerable:!0,initializer:null}),n);t.default=Object(s.connect)(function mapStateToProps(e){return{ticketLoginStatus:e.ticketLoginStatus}})(p)},"3a7633":function(e,t,i){"use strict";var r,n,a,o,c,s=i("1a22b7"),l=i.n(s),u=i("447d8e"),f=i("7ca7dc"),p=i("ed7240"),d=i("36fb5d"),m=i("20ec0b"),b="/shark/live/src/pages/roomPage/playerModule/components/Ticket/MatchTicketBuy.js";function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var h=f.default.Service,v=(r=h(d.default),n=h(m.default),a=function(e){function MacthTicketBuy(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MacthTicketBuy);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"ticketService",o,i),_initDefineProp(i,"giftSendService",c,i),i.showPayMode=function(){var e=(i.props.showBuyTicket||{}).config,t=void 0===e?{}:e;i.giftSendService.sendGift(t.gift_id,1),i.closeTicketBuy(),i.ticketService.dpTool("surePay",t.event_id)},i.closeTicketBuy=function(){var e=(i.props.showBuyTicket||{}).config,t=void 0===e?{}:e;i.ticketService.closeBuyTicket(),i.ticketService.dpTool("cancelPay",t.event_id)},_possibleConstructorReturn(i,t)}return _inherits(MacthTicketBuy,e),MacthTicketBuy.prototype.render=function render(){var e=this.props.showBuyTicket||{},t=e.config,i=void 0===t?{}:t;return 1!==e.status?null:l.a.createElement(p.default,{title:"\u652f\u4ed8\u63d0\u9192",center:!0,visible:!0,footer:null,width:292,className:"MatchTicketBuy-Confirm",onCancel:function onCancel(){},__source:{fileName:b,lineNumber:47},__self:this},l.a.createElement("div",{className:"MatchTicketBuy-ConfirmTitle",__source:{fileName:b,lineNumber:56},__self:this},"\u786e\u8ba4\u9001\u51fa",l.a.createElement("span",{className:"MatchTicketBuy-ConfirmTitle--active",__source:{fileName:b,lineNumber:58},__self:this},i.giftName||"\u793c\u7269"),"\u89c2\u770b\u672c\u573a\u76f4\u64ad\uff1f"),l.a.createElement("div",{className:"MatchTicketBuy-ConfirmBtnContent",__source:{fileName:b,lineNumber:61},__self:this},l.a.createElement("div",{className:"MatchTicketBuy-ConfirmBtn MatchTicketBuy-ConfirmBtn--sure",onClick:this.showPayMode,__source:{fileName:b,lineNumber:62},__self:this},"\u786e\u5b9a"),l.a.createElement("div",{className:"MatchTicketBuy-ConfirmBtn MatchTicketBuy-ConfirmBtn--cancel",onClick:this.closeTicketBuy,__source:{fileName:b,lineNumber:65},__self:this},"\u53d6\u6d88")))},MacthTicketBuy}(l.a.Component),o=_applyDecoratedDescriptor(a.prototype,"ticketService",[r],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(a.prototype,"giftSendService",[n],{enumerable:!0,initializer:null}),a);t.default=Object(u.connect)(function mapStateToProps(e){return{showBuyTicket:e.showBuyTicket}})(v)},"3c9879":function(e,t,i){e.exports=i("5f575e")("da010")},"3da0b5":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_b14aa50.png"},"3f454f":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_d1deabc.png"},"3fa1aa":function(e,t,i){"use strict";var r=i("805fcd");t.default=r.default},402878:function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f,p=i("7ca7dc"),d=i("eb3e22"),m=i("54992a"),b=i("db47a7"),h=i("84aa44"),v=i("e854a7"),y=i("f489b9"),g=i("e9ec7b"),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var S=v.default.socketStream,w=p.default.Store,P=p.default.Service,D=new m.Logger,O=(r=w(),n=P(d.DataCenter.global),a=P(d.DataCenter.localStorage),o=P(d.DataCenter.common),c=function(e){function NobleBroadCastServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleBroadCastServices);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"store",s,i),_initDefineProp(i,"global",l,i),_initDefineProp(i,"localStorage",u,i),_initDefineProp(i,"common",f,i),_possibleConstructorReturn(i,t)}return _inherits(NobleBroadCastServices,e),NobleBroadCastServices.prototype.init=function init(){e.prototype.init.call(this),S.subscribe(y.default.anbc,this.giftBroadcastHandler.bind(this)),S.subscribe(y.default.rnewbc,this.giftBroadcastHandler.bind(this))},NobleBroadCastServices.prototype.giftBroadcastHandler=function giftBroadcastHandler(e){var t=this;0!==+e.fov&&(this.nobleConfig?this.nextHandler(e):this.common.get("$DATA").subscribe(function(i){t.nobleConfig=i.room&&i.room.nobleConfig,t.nextHandler(e)}))},NobleBroadCastServices.prototype.nextHandler=function nextHandler(e){if(this.nobleConfig){var t=this.nobleConfig[e.nl].noble_name,i=this.getDefaultConfig(Number(e.nl)),r=this.getDesList(e,i,t),n=(this.uid!==e.uid||!document.hidden)&&document.hidden;i.picCenter?this.createBroadCast(e,_({picHeadY:0,desList:r},i),n):D.log(i.id+"=noble broadcast error!")}else D.log("nobleConfig error!")},NobleBroadCastServices.prototype.showGuessPanel=function showGuessPanel(e){e.drid&&(Number(e.drid)!==Number(this.rid)&&window.open("/"+e.drid),e.type===y.default.anbc&&Number(e.drid)!==Number(this.rid)&&Object(b.dysub)("click_outside_noblebroadcast",{sid:e.uid,srid:e.drid,st:e.ts}))},NobleBroadCastServices.prototype.getOtype1Des=function getOtype1Des(e,t,i){return e.drid?e.gvnk?[{content:e.gvnk,color:t.nc},{content:"\u5728",color:t.tc},{content:e.donk,color:t.nc},{content:"\u7684\u623f\u95f4\u7ed9",color:t.tc},{content:e.unk,color:t.nc},{content:"\u5f00\u901a\u4e86"+i,color:t.tc},{content:this.getlastddd(e),color:t.nc}]:[{content:e.unk,color:t.nc},{content:"\u5728",color:t.tc},{content:e.donk,color:t.nc},{content:"\u7684\u623f\u95f4\u5f00\u901a\u4e86"+i,color:t.tc},{content:this.getlastddd(e),color:t.nc}]:e.gvnk?[{content:e.gvnk,color:t.nc},{content:"\u7ed9",color:t.tc},{content:e.unk,color:t.nc},{content:"\u5f00\u901a\u4e86"+i,color:t.tc},{content:this.getlastddd(e),color:t.nc}]:[{content:e.unk,color:t.nc},{content:"\u5f00\u901a\u4e86"+i,color:t.tc},{content:this.getlastddd(e),color:t.nc}]},NobleBroadCastServices.prototype.getlastddd=function getlastddd(e){var t=Number(e.drid)!==Number(this.rid);return 1===Number(e.hrp)&&t?" \u70b9\u51fb\u9886\u53d6\u5b9d\u7bb1\u5427\uff01":" \u5feb\u6765\u56f4\u89c2\u5427\uff01"},NobleBroadCastServices.prototype.getDesList=function getDesList(e,t,i){switch(e.type){case y.default.anbc:return this.getOtype1Des(e,t,i);case y.default.rnewbc:return e.drid?e.gvnk?[{content:e.gvnk,color:t.nc},{content:"\u5728",color:t.tc},{content:e.donk,color:t.nc},{content:"\u7684\u623f\u95f4\u7ed9",color:t.tc},{content:e.unk,color:t.nc},{content:"\u7eed\u8d39\u4e86"+i,color:t.tc}]:[{content:e.unk,color:t.nc},{content:"\u5728",color:t.tc},{content:e.donk,color:t.nc},{content:"\u7684\u623f\u95f4\u7eed\u8d39\u4e86"+i,color:t.tc}]:e.gvnk?[{content:e.gvnk,color:t.nc},{content:"\u7ed9",color:t.tc},{content:e.unk,color:t.nc},{content:"\u7eed\u8d39\u4e86"+i,color:t.tc}]:[{content:e.unk,color:t.nc},{content:"\u7eed\u8d39\u4e86"+i,color:t.tc}]}return[]},NobleBroadCastServices.prototype.getDefaultConfig=function getDefaultConfig(e){var t=void 0;switch(e){case 1:t={picHead:h.default.HQINOBLE,picCenter:h.default.MQINOBLE,picTail:h.default.FQINOBLE,picCenterY:34,picTailY:27,nc:"#FFFF00",tc:"#FFFFCC"};break;case 2:t={picHead:h.default.HZINOBLE,picCenter:h.default.MZINOBLE,picTail:h.default.FZINOBLE,picCenterY:34,picTailY:27,nc:"#FFFF00",tc:"#FFFFCC"};break;case 3:t={picHead:h.default.HBONOBLE,picCenter:h.default.MBONOBLE,picTail:h.default.FBONOBLE,picCenterY:34,picTailY:27,nc:"#FFFF00",tc:"#FFFFCC"};break;case 4:t={picHead:h.default.HGONGNOBLE,picCenter:h.default.MGONGNOBLE,picTail:h.default.FGONGNOBLE,picCenterY:34,picTailY:27,nc:"#FFFF00",tc:"#FFFFCC"};break;case 5:t={picHead:h.default.HWANGNOBLE,picCenter:h.default.MWANGNOBLE,picTail:h.default.FWANGNOBLE,picCenterY:34,picTailY:27,nc:"#FFFF00",tc:"#FFFFCC"};break;case 6:t={picHead:h.default.HHUANGNOBLE,picCenter:h.default.MHUANGNOBLE,picTail:h.default.FHUANGNOBLE,picCenterY:34,picTailY:21,nc:"#3a0a05",tc:"#993412"};break;case 7:t={picHead:h.default.HXIANOBLE,picCenter:h.default.MXIANOBLE,picTail:h.default.FXIANOBLE,picCenterY:34,picTailY:27,nc:"#061428",tc:"#e8f5ff"};break;case 8:t={picHead:h.default.HDINOBLE,picCenter:h.default.MDINOBLE,picTail:h.default.FDINOBLE,picCenterY:43,picTailY:37,nc:"#ff0000",tc:"#29283f"};break;case 9:t={picHead:h.default.HhuanNOBLE,picCenter:h.default.MhuanNOBLE,picTail:h.default.FhuanNOBLE,picCenterY:44,picTailY:32,nc:"#fbf42b",tc:"#ffffff"}}return t},NobleBroadCastServices}(g.default),s=_applyDecoratedDescriptor(c.prototype,"store",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(c.prototype,"global",[n],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"localStorage",[a],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(c.prototype,"common",[o],{enumerable:!0,initializer:null}),c);t.default=O},"41eaa7":function(e,t,i){e.exports=i("5f575e")("f798b")},"447d8e":function(e,t,i){e.exports=i("999443")("0a81c")},"456fdc":function(e,t,i){e.exports=i("5f575e")("4d400")},"47bf54":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_d1ca3ba.png"},"49110b":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_f971265.png"},"49f3e7":function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f=i("1a22b7"),p=i.n(f),d=i("54992a"),m=i("7ca7dc"),b=i("eb3e22"),h=i("bee09c"),v=i("ac64b0"),y=(i("324e7c"),"/shark/live/src/pages/roomPage/playerModule/components/SmallVedioFloatLayer/SmallVedioFloatLayer.js");function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=m.default.Service,_=(r=g(b.DataCenter.global),n=g(b.DataCenter.acj),a=g(h.default),Object(d.log)((c=function(e){function SmallVedioFloatLayer(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SmallVedioFloatLayer);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(i,"global",s,i),_initDefineProp(i,"acj",l,i),_initDefineProp(i,"playerService",u,i),i.state={pause:"noShow"===t.playStatus?"noShow":!t.playStatus},i.config={isMouseUp:!0,headHeight:document.getElementById("js-header").clientHeight+1},i.lastClickTime=0,i.dragMoveFunc=i.dragMove.bind(i),i.mouseUpFunc=i.mouseUp.bind(i),i.bindListen=i.bindListen.bind(i),i.removeListen=i.removeListen.bind(i),i}return _inherits(SmallVedioFloatLayer,e),SmallVedioFloatLayer.prototype.preventDefault=function preventDefault(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=1,e.preventDefault?e.preventDefault():e.returnValue=0},SmallVedioFloatLayer.prototype.mouseUp=function mouseUp(){this.config.isMouseUp=!0,this.removeListen("mousemove",this.dragMoveFunc,!0),this.removeListen("mouseup",this.mouseUpfunc,!0),delete this.config.diffX,delete this.config.diffY,delete this.config.smallVedioWidth,delete this.config.smallVedioHeight},SmallVedioFloatLayer.prototype.mouseDown=function mouseDown(e){this.config.isMouseUp=!1;var t=e||window.event;this.preventDefault(t);var i=document.documentElement.clientWidth,r=document.documentElement.clientHeight,n=this.modal.offsetParent,a=n.offsetTop,o=n.offsetLeft,c=t.clientX-o,s=t.clientY-a,l=this.modal.clientWidth,u=this.modal.clientHeight;Object.assign(this.config,{diffX:c,diffY:s,smallVedioWidth:l,smallVedioHeight:u,winWidth:i,winHeight:r}),this.bindListen("mousemove",this.dragMoveFunc,!0),this.bindListen("mouseup",this.mouseUpFunc,!0)},SmallVedioFloatLayer.prototype.dragMove=function dragMove(e){var t=e||window.event;if(this.preventDefault(t),!this.config.isMouseUp){var i=this.config,r=i.diffX,n=i.diffY,a=i.winWidth,o=i.winHeight,c=i.smallVedioWidth,s=i.smallVedioHeight,l=i.headHeight,u=t.clientX-r,f=t.clientY-n,p=a-c,d=o-s;u<0?u=0:u>p&&(u=p),f<l?f=l:f>d&&(f=d),u+="px",f+="px",this.props.movePendant(f,u)}},SmallVedioFloatLayer.prototype.closeSmallVedio=function closeSmallVedio(){this.props.closeSmallVedio()},SmallVedioFloatLayer.prototype.vedioPause=function vedioPause(){var e=this.lastClickTime,t=(new Date).getTime();if(!(t-e<=1e3)){this.lastClickTime=t;var i=!this.state.pause;this.acj.push(v.JS_TYPE.JS_FLOATPLAY,{value:!i})}},SmallVedioFloatLayer.prototype.removeListen=function removeListen(e,t,i){t&&(document.removeEventListener?document.removeEventListener(e,t,i):document.detachEvent&&document.detachEvent("on"+e,t,i))},SmallVedioFloatLayer.prototype.bindListen=function bindListen(e,t,i){document.addEventListener?document.addEventListener(e,t,i):document.attachEvent&&document.attachEvent("on"+e,t,i)},SmallVedioFloatLayer.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.state.pause,i="noShow"===e.playStatus?"noShow":!e.playStatus,r=this.props.splayerSize,n=e.splayerSize;i!==t&&this.setState({pause:i}),n!==r&&!1===n&&this.mouseUp()},SmallVedioFloatLayer.prototype.render=function render(){var e=this,t=this.state.pause;return p.a.createElement("div",{className:"roomSmallPlayerFloatLayout",onMouseDown:this.mouseDown.bind(this),ref:function ref(t){return e.modal=t},__source:{fileName:y,lineNumber:220},__self:this},p.a.createElement("span",{className:"roomSmallPlayerFloatLayout-dragtext",__source:{fileName:y,lineNumber:221},__self:this},"\u6309\u4f4f\u53ef\u62d6\u52a8"),p.a.createElement("div",{className:["roomSmallPlayerFloatLayout-playBtn",!0===t?" is-pause":"","noShow"===t?" is-hide":""].join(""),onClick:function onClick(){e.vedioPause()},__source:{fileName:y,lineNumber:222},__self:this}),p.a.createElement("div",{className:"roomSmallPlayerFloatLayout-closeBtn",onClick:function onClick(){e.closeSmallVedio()},__source:{fileName:y,lineNumber:223},__self:this}))},SmallVedioFloatLayer}(p.a.Component),s=_applyDecoratedDescriptor(c.prototype,"global",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(c.prototype,"acj",[n],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"playerService",[a],{enumerable:!0,initializer:null}),o=c))||o);t.default=_},528016:function(e,t,i){e.exports=i("5f575e")("39485")},"54992a":function(e,t,i){e.exports=i("d1db8c")("b3557")},"552b2e":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_3c608fb.png"},554270:function(e,t,i){},555639:function(e,t,i){e.exports=i("5f575e")("5ceb8")},560554:function(e,t,i){"use strict";var r=i("81bef8");t.default={Service:r.Service}},"56b0a1":function(e,t,i){e.exports=i("5f575e")("4f738")},"59a4e2":function(e,t,i){"use strict";var r=i("59cf47"),n=i.n(r),a=i("21a655"),o=i.n(a),c=new n.a({id:"toTopArrow_49eab82",use:"toTopArrow_49eab82-usage",viewBox:"0 0 45 46",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 46" id="toTopArrow_49eab82"><path d="M17.707 26.701l4.526-4.525a.6.6 0 01.848 0l4.526 4.525a1 1 0 001.414-1.414l-4.526-4.525a2.6 2.6 0 00-3.677 0l-4.525 4.525a1 1 0 101.414 1.414z" fill="#currentcolor" fill-rule="nonzero" /></symbol>'});o.a.add(c);t.default=c},"59cf47":function(e,t,i){e.exports=i("5f575e")("9689a")},"5a586a":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_19f0e5b.png"},"5c1c81":function(e,t,i){"use strict";var r=i("25ff37");t.default=r.default},"5f575e":function(e,t){e.exports=_room_common_},"6350ef":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_4dd9f2f.png"},"639f12":function(e,t,i){"use strict";i.r(t);i("528016");var r=i("7ca7dc"),n=new(i("aa7a85").default);r.default.render(n,document.getElementById("js-player-video"))},"63fe47":function(e,t,i){"use strict";var r=i("b77395"),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};t.default={playerData:function playerData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case r.PLAYER_CHANGE_PLAYER:var i=t.payload.useh5;return n({},e,{useh5:i});default:return e}}}},643726:function(e,t,i){e.exports=i("5f575e")("5b15c")},"6542e6":function(e,t,i){},669016:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_a44141a.png"},"6db392":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default-avatar_8d1ca2f.jpg"},"6e3e4f":function(e,t,i){e.exports=i("5f575e")("77413")},"6e93dc":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/h3_3138b14.png"},"6ee421":function(e,t,i){"use strict";var r=i("e95ae8"),n=i.n(r),a=i("bb9034"),o=i.n(a),c=i("39154b"),s=i.n(c),l=i("6350ef"),u=i.n(l),f=i("951176"),p=i.n(f),d=i("245b42"),m=i.n(d),b=i("80e207"),h=i.n(b),v=i("6fd581"),y=i.n(v),g=i("3da0b5"),_=i.n(g),S=i("99548b"),w=i.n(S),P=i("ecc76b"),D=i.n(P),O=i("47bf54"),T=i.n(O),E=i("5a586a"),C=i.n(E),j=i("f728aa"),k=i.n(j),N=i("49110b"),M=i.n(N),L={HImg:n.a,MImg:o.a,EImg:s.a,hHImg:u.a,hMImg:p.a,hEImg:m.a,shHImg:h.a,shMImg:y.a,shEImg:_.a,scHImg:w.a,scMImg:D.a,scEImg:T.a,buffHImg:C.a,buffMImg:k.a,buffEImg:M.a};t.default=L},"6fd581":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_ccdab46.png"},"7047fb":function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f,p=i("7ca7dc"),d=i("eb3e22"),m=(i("db47a7"),i("7471d8")),b=i("e854a7"),h=i("f489b9"),v=i("e9ec7b"),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=b.default.socketStream,_=p.default.Store,S=p.default.Service,w=(r=_(),n=S(d.DataCenter.global),a=S(d.DataCenter.localStorage),o=S(d.DataCenter.common),c=function(e){function EmperBroadCastServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmperBroadCastServices);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"store",s,i),_initDefineProp(i,"global",l,i),_initDefineProp(i,"localStorage",u,i),_initDefineProp(i,"common",f,i),_possibleConstructorReturn(i,t)}return _inherits(EmperBroadCastServices,e),EmperBroadCastServices.prototype.init=function init(){e.prototype.init.call(this),g.subscribe(h.default.gbroadcast,this.tcpMsgHandler.bind(this))},EmperBroadCastServices.prototype.tcpMsgHandler=function tcpMsgHandler(e){var t=e.gbcc,i=e.ft;if(""!==t&&2!==i){var r=JSON.parse(t);void 0===r.gbcss&&"redirectnw"===r.type&&this.createBroadCast(r,this.getConfig(r))}},EmperBroadCastServices.prototype.getConfig=function getConfig(e){var t=void 0,i=void 0,r=void 0;switch(+e.nl){case 6:i="\u7687\u5e1d",t={picHead:m.default.HHUANGTUI,picCenter:m.default.MHUANGTUI,picTail:m.default.FHUANGTUI,picCenterY:106,picTailY:106,nc:"#FFFF00",tc:"#FFFFFF"};break;case 8:i="\u8d85\u7ea7\u7687\u5e1d",t={picHead:m.default.HSUPERHUANGTUI,picCenter:m.default.MSUPERHUANGTUI,picTail:m.default.FSUPERHUANGTUI,picCenterY:114,picTailY:114,nc:"#FFFF00",tc:"#FFFFFF"};break;case 9:i="\u5e7b\u795e",t={picHead:m.default.HHUANTUI,picCenter:m.default.MHUANTUI,picTail:m.default.FHUANTUI,picCenterY:112,picTailY:112,nc:"#FFFF00",tc:"#FFFFFF"};break;default:return null}return r=+e.rid===+this.rid?e.nickname?[{content:i,color:t.tc},{content:e.nickname,color:t.nc},{content:"\u6b63\u5728\u63a8\u8350\u672c\u76f4\u64ad\u95f4\u4e0a\u70ed\u95e8",color:t.tc}]:[{content:"\u795e\u79d8"+i,color:t.nc},{content:"\u6b63\u5728\u63a8\u8350\u672c\u76f4\u64ad\u95f4\u4e0a\u70ed\u95e8",color:t.tc}]:e.nickname?[{content:i,color:t.tc},{content:e.nickname,color:t.nc},{content:"\u6b63\u63a8\u8350",color:t.tc},{content:e.rnickname,color:t.nc},{content:"\u4e3b\u64ad\u4e0a\u70ed\u95e8",color:t.tc}]:[{content:"\u795e\u79d8"+i,color:t.nc},{content:"\u6b63\u63a8\u8350",color:t.tc},{content:e.rnickname,color:t.nc},{content:"\u4e3b\u64ad\u4e0a\u70ed\u95e8",color:t.tc}],y({picHeadY:90,desList:r},t)},EmperBroadCastServices.prototype.showGuessPanel=function showGuessPanel(e){Number(e.rid)!==Number(this.rid)&&window.open("/"+e.rid)},EmperBroadCastServices}(v.default),s=_applyDecoratedDescriptor(c.prototype,"store",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(c.prototype,"global",[n],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"localStorage",[a],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(c.prototype,"common",[o],{enumerable:!0,initializer:null}),c);t.default=w},"722b8a":function(e,t,i){e.exports=i("5f575e")("d4f18")},"72fa2f":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_34ca8ab.png"},"7471d8":function(e,t,i){"use strict";var r=i("e4b72c"),n=i.n(r),a=i("e73313"),o=i.n(a),c=i("0950f5"),s=i.n(c),l=i("35aaa5"),u=i.n(l),f=i("bcacc5"),p=i.n(f),d=i("0d4a99"),m=i.n(d),b=i("35e225"),h=i.n(b),v=i("241084"),y=i.n(v),g=i("6e93dc"),_=i.n(g),S={HHUANGTUI:n.a,MHUANGTUI:o.a,FHUANGTUI:s.a,HSUPERHUANGTUI:u.a,MSUPERHUANGTUI:p.a,FSUPERHUANGTUI:m.a,HHUANTUI:h.a,MHUANTUI:y.a,FHUANTUI:_.a};t.default=S},"74e873":function(e,t,i){"use strict";var r=i("7ca7dc"),n=i("c03d0d"),a=r.default.combineEpicsClass;t.default=a(n.default)},"751f2c":function(e,t,i){"use strict";i.d(t,"default",function(){return h});var r,n,a,o,c=i("1a22b7"),s=i.n(c),l=i("2de163"),u=i.n(l),f=i("7ca7dc"),p=i("eb3e22"),d=i("54992a"),m=i("ac64b0"),b=(i("15933e"),"/shark/live/src/pages/roomPage/playerModule/components/LoadTips/LoadTips.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var h=(r=(0,f.default.Service)(p.DataCenter.acj),Object(d.log)((a=function(e){function LoadTips(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadTips);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(t,"acj",o,t),t.state={installed:3,closed:!1},t.clearLoadTips=t.clearLoadTips.bind(t),t}return _inherits(LoadTips,e),LoadTips.prototype.clearLoadTips=function clearLoadTips(){clearTimeout(this.timer),this.setState({installed:3,closed:!0})},LoadTips.prototype.componentDidMount=function componentDidMount(){var e=this;this.checkFlashInstall();var t=Math.floor(3*Math.random())+3;this.timer=setTimeout(function(){e.showFlashEnableTips()},1e3*t),this.acj.get(m.ROOM_TYPE.ROOM_PLAYER_LOADSUCCESSFLASH).subscribe(function(){e.clearLoadTips()})},LoadTips.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.timer)},LoadTips.prototype.checkFlashInstall=function checkFlashInstall(){var e=!1;/chrome/i.test(navigator.userAgent)&&(e=2);var t=u.a.getFlashPlayerVersion();e=t&&0!==t.major?t&&t.major<15?1:3:0,this.setState({installed:e})},LoadTips.prototype.showFlashEnableTips=function showFlashEnableTips(){this.setState({installed:2})},LoadTips.prototype.freshPage=function freshPage(){window.location.reload()},LoadTips.prototype.render=function render(){return 3===this.state.installed||this.closed?null:s.a.createElement("div",{className:"noflashDiv",__source:{fileName:b,lineNumber:92},__self:this},s.a.createElement("div",{className:"noflashDesDiv",__source:{fileName:b,lineNumber:93},__self:this},s.a.createElement("label",{className:"noflashLabel",__source:{fileName:b,lineNumber:94},__self:this},"\u7531\u4e8e\u6d4f\u89c8\u5668\u5347\u7ea7flash\u64ad\u653e\u5668\u65e0\u6cd5\u4f7f\u7528\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5\u6216\u5347\u7ea7\u6d4f\u89c8\u5668\u81f3\u6700\u65b0\u7248\u672c")),s.a.createElement("div",{className:"noflashButton",onClick:this.freshPage,__source:{fileName:b,lineNumber:96},__self:this},"\u7acb\u5373\u5237\u65b0"))},LoadTips}(s.a.Component),o=function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(a.prototype,"acj",[r],{enumerable:!0,initializer:null}),n=a))||n)},"76678d":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_8ab3e39.png"},"76d74b":function(e,t,i){"use strict";var r=i("063eab");i.d(t,"default",function(){return r.default})},"7b674b":function(e,t,i){"use strict";var r,n,a,o=i("1a22b7"),c=i.n(o),s=i("447d8e"),l=i("7ca7dc"),u=i("36fb5d"),f="/shark/live/src/pages/roomPage/playerModule/components/Ticket/MatchTicketTips.js";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var p=(r=(0,l.default.Service)(u.default),n=function(e){function MatchTicketTips(){var t,i,r=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchTicketTips);for(var n=arguments.length,o=Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(o))),function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(i,"ticketService",a,i),i.showTicketBuyPanel=function(){var e=i.props.ticketTipsData||{};i.ticketService.showBuyTicketDialog({ticketId:e.event_id})},i.closeTicketTips=function(){i.ticketService.closeTicketTips()},i.renderTipsDesc=function(){var e=i.props.ticketTipsData||{};return i.autoCloseTips(),3===+e.payModel?c.a.createElement(c.a.Fragment,{__source:{fileName:f,lineNumber:51},__self:r},"\u4e3b\u64ad\u7684",c.a.createElement("span",{className:"MacthTicketTips-active",__source:{fileName:f,lineNumber:52},__self:r},"\u7c89\u4e1d\u56e2"),"\u53ef\u514d\u8d39\u89c2\u770b\u672c\u573a\u4ed8\u8d39\u76f4\u64ad"):2===+e.payModel?c.a.createElement(c.a.Fragment,{__source:{fileName:f,lineNumber:56},__self:r},"\u6b63\u5728\u4e3a",c.a.createElement("span",{className:"MacthTicketTips-active is-pointer",onClick:i.showTicketBuyPanel,__source:{fileName:f,lineNumber:57},__self:r},"LPL\u4f1a\u5458"),"\u64ad\u653e\u672c\u573a\u4ed8\u8d39\u76f4\u64ad"):"\u60a8\u5df2\u8d2d\u4e70\u672c\u573a\u4ed8\u8d39\u76f4\u64ad\uff0c\u5c3d\u4eab\u7cbe\u5f69\u5185\u5bb9"},_possibleConstructorReturn(i,t)}return _inherits(MatchTicketTips,e),MatchTicketTips.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&clearTimeout(this.timer)},MatchTicketTips.prototype.autoCloseTips=function autoCloseTips(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.closeTicketTips()},4e3)},MatchTicketTips.prototype.render=function render(){return 1!==(this.props.ticketTipsData||{}).status?null:c.a.createElement("div",{className:"MacthTicketTips",__source:{fileName:f,lineNumber:73},__self:this},this.renderTipsDesc(),c.a.createElement("i",{className:"MacthTicketTips-close",onClick:this.closeTicketTips,__source:{fileName:f,lineNumber:75},__self:this}))},MatchTicketTips}(c.a.Component),a=function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(n.prototype,"ticketService",[r],{enumerable:!0,initializer:null}),n);t.default=Object(s.connect)(function mapStateToProps(e){return{ticketTipsData:e.ticketTipsData}})(p)},"7c77cf":function(e,t,i){"use strict";var r=i("bf6693");t.default=r.default},"7ca7dc":function(e,t,i){e.exports=i("2d6146")("f0df9")},"7d2a4e":function(e,t,i){"use strict";var r=i("cbdb46");t.default=r.default},"7f00fb":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_eda8423.png"},"7f7b4a":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_9ed5b13.png"},"805fcd":function(e,t,i){"use strict";var r=i("1a22b7"),n=i.n(r),a=i("cdc07d"),o=i("59a4e2"),c=(i("16473e"),"/shark/live/src/pages/roomPage/playerModule/components/ToTopBtn/ToTopBtn.js");t.default=function ToTopBtn(){return n.a.createElement("div",{className:"ToTopBtn",onClick:function click(){a.default.smoothScrollTo(0)},__source:{fileName:c,lineNumber:12},__self:void 0},n.a.createElement("svg",{className:"ToTopBtnSvg",__source:{fileName:c,lineNumber:13},__self:void 0},n.a.createElement("use",{xlinkHref:"#"+o.default.id,__source:{fileName:c,lineNumber:14},__self:void 0})))}},"80d625":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_959ad16.png"},"80e207":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_c01ac1d.png"},"81bef8":function(e,t,i){"use strict";i.d(t,"Service",function(){return n});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function Service(e){return function(t,i){var n="undefined"===typeof e?"undefined":r(e);return"object"===n?t[i]=e:"Service"===Object.getPrototypeOf(e).name||-1!==e.name.toLowerCase().indexOf("service")||e.prototype.type&&-1!==e.prototype.type.indexOf("service")?(void 0===e.instance&&(e.instance=new e),t[i]=e.instance):"function"===n&&(t[i]=e()),t}}},826630:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_31f5e32.png"},848432:function(e,t,i){"use strict";i.d(t,"default",function(){return S});var r,n,a,o,c,s,l,u,f,p,d=i("1a22b7"),m=i.n(d),b=i("7ca7dc"),h=i("eb3e22"),v=i("54992a"),y=i("ac64b0"),g=(i("a4d589"),"/shark/live/src/pages/roomPage/playerModule/components/PlaybackTips/PlaybackTips.js");function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _=b.default.Service,S=(r=_(h.DataCenter.acj),n=_(h.DataCenter.global),a=_(h.DataCenter.common),Object(v.log)((p=f=function(e){function LoadTips(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadTips);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"acj",s,t),_initDefineProp(t,"global",l,t),_initDefineProp(t,"common",u,t),t.componentDidMount=function(){var e=t.global.get("USER_INFO.groupId")>=5?1:0;t.common.get("$DATA").subscribe(function(i){var r=i.room;r&&3===r.st&&t.acj.get(y.ROOM_TYPE.ROOM_PLAYER_READY).subscribe(function(){e&&t.setState({show:!0})});var n=r.room_id;e&&t.checkExistInWhite(n).subscribe(function(e){var i=e.error,r=e.msg;Object(v.log)(r),t.setState({showFlag:0===i})})})},t.state={show:!1,showFlag:!1},t.handleClick=t.handleClick.bind(t),t}return _inherits(LoadTips,e),LoadTips.prototype.checkExistInWhite=function checkExistInWhite(e){return h.httpClient.get(String,"/room/superMenuOperate/isVideoLoopInWhite",{room_id:e})},LoadTips.prototype.handleClick=function handleClick(){this.setState({show:!1})},LoadTips.prototype.render=function render(){var e=this.state,t=e.show,i=e.showFlag,r=null,n=null;return t&&(r=m.a.createElement("div",{className:"playback-tip",__source:{fileName:g,lineNumber:73},__self:this})),i&&(n=m.a.createElement("div",{className:"playback-flagTip",__source:{fileName:g,lineNumber:77},__self:this},m.a.createElement("span",{className:"playback-flagTipIcon",__source:{fileName:g,lineNumber:78},__self:this}),m.a.createElement("label",{className:"playback-flagTipTxt",__source:{fileName:g,lineNumber:79},__self:this},"\u5df2\u52a0\u5165\u8f6e\u64ad\u767d\u540d\u5355"))),m.a.createElement(m.a.Fragment,{__source:{fileName:g,lineNumber:83},__self:this},n,r)},LoadTips}(m.a.Component),f.showTimer=null,s=_applyDecoratedDescriptor((c=p).prototype,"acj",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(c.prototype,"global",[n],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"common",[a],{enumerable:!0,initializer:null}),o=c))||o)},"84aa44":function(e,t,i){"use strict";var r=i("8d5f75"),n=i.n(r),a=i("f81c1f"),o=i.n(a),c=i("80d625"),s=i.n(c),l=i("552b2e"),u=i.n(l),f=i("15e8d6"),p=i.n(f),d=i("f5be0f"),m=i.n(d),b=i("a63648"),h=i.n(b),v=i("9430c5"),y=i.n(v),g=i("7f7b4a"),_=i.n(g),S=i("8ec29f"),w=i.n(S),P=i("def518"),D=i.n(P),O=i("826630"),T=i.n(O),E=i("92421c"),C=i.n(E),j=i("8e7195"),k=i.n(j),N=i("870de9"),M=i.n(N),L=i("3f454f"),I=i.n(L),z=i("2be3f4"),B=i.n(z),A=i("9ce1f0"),F=i.n(A),x=i("7f00fb"),R=i.n(x),H=i("8f37dc"),G=i.n(H),V=i("eca124"),Y=i.n(V),U=i("76678d"),W=i.n(U),Q=i("8a7219"),q=i.n(Q),J=i("19708f"),$=i.n(J),X=i("669016"),K=i.n(X),Z=i("72fa2f"),ee=i.n(Z),te=i("c661aa"),ie=i.n(te),re={HQINOBLE:n.a,MQINOBLE:o.a,FQINOBLE:s.a,HZINOBLE:u.a,MZINOBLE:p.a,FZINOBLE:m.a,HGONGNOBLE:w.a,MGONGNOBLE:D.a,FGONGNOBLE:T.a,HWANGNOBLE:C.a,MWANGNOBLE:k.a,FWANGNOBLE:M.a,HBONOBLE:h.a,MBONOBLE:y.a,FBONOBLE:_.a,HXIANOBLE:R.a,MXIANOBLE:G.a,FXIANOBLE:Y.a,HDINOBLE:W.a,MDINOBLE:q.a,FDINOBLE:$.a,HHUANGNOBLE:I.a,MHUANGNOBLE:B.a,FHUANGNOBLE:F.a,HhuanNOBLE:K.a,MhuanNOBLE:ee.a,FhuanNOBLE:ie.a};t.default=re},"84de32":function(e,t,i){"use strict";i.d(t,"default",function(){return u});var r,n,a,o=i("54992a"),c=i("eb3e22"),s=i("560554");var l=new o.Logger,u=(r=(0,s.default.Service)(c.DataCenter.cookie),n=function(){function QQcloudGGManager(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,QQcloudGGManager),function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(this,"cookie",a,this),this.inited=!0}return QQcloudGGManager.prototype.init=function init(e){var t=this,i=e.url,r=e.type,n=e.args,a=e.dom,o=e.useH5,c=e.flashID,s=e.palytencentAd,l=e.tencentcloundAd,u=n,f=u.rtmp_live.split("?")[0];this.rid=u.rid,this.type=r,this.url=i,this.streamid=f.split(".")[0],this.streamid=this.streamid.split("_")[0],this.dom=a,this.useH5=o,this.flashID=c,this.js_palytencentAd=s,this.js_tencentcloundAd=l,window.qcgg?this.showGG():window.loader.loadFile("https://videoad-1255868781.file.myqcloud.com/xads/sdk/pc/v1.4.3/AdvSDK.js",function(){t.showGG()})},QQcloudGGManager.prototype.getLoco=function getLoco(){var e={};return 1&this.type&&(e.highlight="_tfp_49_361"),2&this.type&&(e.idle="_tfp_49_381"),4&this.type&&this.useH5&&(e.rose="_tfp_49_403"),8&this.type&&(e.ending="_tfp_49_464"),e},QQcloudGGManager.prototype.showGG=function showGG(){var e=this;window.qcgg&&window.qcgg.destroy();var t=void 0,i=document.getElementById(this.flashID);this.useH5?(t=window.T_ADV_Timestamp,this.dom="player_h5_adDom"):t=i&&"function"===typeof i.T_ADV_Timestamp?i.T_ADV_Timestamp.bind(i):function timefun(){};var r=-1!==this.streamid.indexOf("-ads")?this.streamid.slice(0,this.streamid.indexOf("-ads")+4):this.streamid,n={appid:1,bizid:3e3,loc:this.getLoco(),path:"pp/douyu",streamid:r,container:this.dom,useRender:!0,content:{room_id:this.rid},getPlayerTimestampInfo:t};window.qcgg=window.T_ADV.init(n),window.qcgg.on("ERROR",function(e){l.warn(e.msg),window.qcgg&&window.qcgg.destroy()}),window.qcgg.on("INFOSTREAM",function(){}),window.qcgg.on("ADV_EVENT",function(t){t.timestamp>0&&!e.inAD&&t.ads&&t.ads.highlight&&(e.inAD=!0,e.useH5||e.js_palytencentAd(t)),0===+t.timestamp&&e.inAD&&(e.inAD=!1)}),window.qcgg.on("RESOURCE",function(t){t.ads&&t.ads.highlight&&e.js_tencentcloundAd(t)})},QQcloudGGManager.prototype.init2=function init2(e){var t=this,i=e.url,r=(e.type,e.args),n=e.dom,a=e.useH5,o=e.flashID,c=r,s=c.rtmp_live.split("?")[0];this.rid=c.rid,this.url=i,this.streamid=s.split(".")[0],this.streamid=this.streamid.split("_")[0],this.dom=n,this.useH5=a,this.flashID=o,window.qdgg?this.showGG2():window.loader.loadFile("https://videoad.qvb.qcloud.com/xads/sdk/pc/lite/v1.1/AdvSDK.js?2020090301",function(){t.showGG2()})},QQcloudGGManager.prototype.showGG2=function showGG2(){var e=this;window.qdgg&&(window.qdgg.destroy(),window.qdgg=null);var t=void 0,i=document.getElementById(this.flashID);this.useH5?(t=window.T_ADV_Timestamp,this.dom="player_h5_adDom"):t=i&&"function"===typeof i.T_ADV_Timestamp?i.T_ADV_Timestamp.bind(i):function timefun(){};var r=this.streamid,n={appid:1,bizid:3e3,container:this.dom,streamid:r,useRender:!0,getPlayerTimestampInfo:t};window.qdgg=window.TADV.init(n),window.qdgg.on(window.TADV.Events.widgetExpose,function(t){console.log("showGG2-adid-",t.adId),e.addpoint()})},QQcloudGGManager.prototype.sendDataWhenAdExposure=function sendDataWhenAdExposure(e){var t={cid:"",proid:"",oaid:"",mid:"",gid:"",posid:"4112241",taid:1,isthird:9};t.rid=this.rid,t.did=this.cookie.get("did")||"10000000000000000000000000001501",t.ct="web",t.tmid="",t.tiurl="",this.sendToURL("/lapi/sign/web/rtpv",{method:"POST",data:{ver:"02200327",data:JSON.stringify([t])}})},QQcloudGGManager.prototype.addpoint=function addpoint(){l.warn("\u63a5\u6536\u5230window.TADV.Events.widgetShow"),this.sendDataWhenAdExposure()},QQcloudGGManager.prototype.sendToURL=function sendToURL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.method,r=void 0===i?"GET":i,n=t.data,a={mode:"no-cors",method:r,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},o=[];Object.keys(n).forEach(function(e){return o.push(e+"="+encodeURI(n[e]))});var c=o.join("&");a.body=c;try{fetch(e,a)}catch(t){l.warn("post url error: "+e)}},QQcloudGGManager}(),a=function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(n.prototype,"cookie",[r],{enumerable:!0,initializer:null}),n)},"870de9":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_c792c27.png"},"885ba5":function(e,t,i){e.exports=i("5f575e")("0ec06")},"8a7219":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_f902cdc.png"},"8d5f75":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_a1d0cd4.png"},"8df3d4":function(e,t,i){"use strict";var r,n,a,o,c,s,l,u=i("1a22b7"),f=i.n(u),p=i("7ca7dc"),d=i("eb3e22"),m=i("ac64b0"),b=i("bee09c"),h=(i("bdcd1c"),"/shark/live/src/pages/roomPage/playerModule/components/PIPAdLayer/index.js");function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=p.default.Service,y=Object(u.lazy)(function(){return i.e("ADPlayer_dfef509").then(i.bind(null,"d2cbf7"))}),g="#__video2",_="#douyu_room_normal_player_proxy_box",S=(r=v(d.DataCenter.common),n=v(d.DataCenter.acj),a=v(b.default),o=function(e){function PIPAdLayer(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PIPAdLayer);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"common",c,i),_initDefineProp(i,"acj",s,i),_initDefineProp(i,"playerService",l,i),i.config={isMouseUp:!0,headHeight:document.getElementById("js-header").clientHeight+1},i.player=document.querySelector("#__video2"),i.lastClickTime=0,i.enterPIP=function(){i.common.push("PIP_PLAYER",{value:!0})},i.leavePIP=function(){i.common.push("PIP_PLAYER",{value:!1})},i.mouseUp=function(){i.config.isMouseUp=!0,i.removeListen("mousemove",i.dragMove,!0),i.removeListen("mouseup",i.mouseUp,!0),delete i.config.diffX,delete i.config.diffY,delete i.config.modalWidth,delete i.config.modalHeight},i.mouseDown=function(e){var t=i.props.modal;i.config.isMouseUp=!1;var r=e||window.event;i.preventDefault(r);var n=document.documentElement.clientWidth,a=document.documentElement.clientHeight,o=t.offsetParent,c=o.offsetTop,s=o.offsetLeft,l=r.clientX-s,u=r.clientY-c,f=t.clientWidth,p=t.clientHeight;Object.assign(i.config,{diffX:l,diffY:u,modalWidth:f,modalHeight:p,winWidth:n,winHeight:a}),i.bindListen("mousemove",i.dragMove,!0),i.bindListen("mouseup",i.mouseUp,!0)},i.dragMove=function(e){var t=e||window.event;if(i.preventDefault(t),!i.config.isMouseUp){var r=i.config,n=r.diffX,a=r.diffY,o=r.winWidth,c=r.winHeight,s=r.modalWidth,l=r.modalHeight,u=r.headHeight,f=t.clientX-n,p=t.clientY-a,d=o-s,m=c-l;f<0?f=0:f>d&&(f=d),p<u?p=u:p>m&&(p=m),f+="px",p+="px",i.props.moveVideoEntity(p,f)}},i.VideoPause=function(){var e=(new Date).getTime();if(!(e-i.lastClickTime<=1e3)&&(i.lastClickTime=e,i.acj.push(m.JS_TYPE.JS_FLOATPLAY,{value:!i.props.playStatus}),!i.props.playStatus&&i.playerService.isWindowFullScreen())){var t=document.querySelector(g),r=document.querySelector(_),n=r.clientWidth,a=r.clientHeight;t.style.display="none",setTimeout(function(){t.style.display="block",t.style.width=n+"px",t.style.height=a+"px"},1e3)}},i.removeListen=function(e,t,i){t&&document.removeEventListener(e,t,i)},i.bindListen=function(e,t,i){document.addEventListener(e,t,i)},i.gotoQuit=function(e){i.gotoQuitHandle=e},_possibleConstructorReturn(i,t)}return _inherits(PIPAdLayer,e),PIPAdLayer.prototype.componentDidMount=function componentDidMount(){this.player&&(this.player.addEventListener("enterpictureinpicture",this.enterPIP),this.player.addEventListener("leavepictureinpicture",this.leavePIP))},PIPAdLayer.prototype.preventDefault=function preventDefault(e){e.preventDefault(),e.stopPropagation()},PIPAdLayer.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props.PIPAdMode,i=e.PIPAdMode;i!==t&&!1===i&&this.mouseUp()},PIPAdLayer.prototype.componentWillUnmount=function componentWillUnmount(){this.player&&(this.player.removeEventListener("enterpictureinpicture",this.enterPIP),this.player.removeEventListener("leavepictureinpicture",this.leavePIP))},PIPAdLayer.prototype.render=function render(){var e=this,t=this.props,i=t.PIPAdMode,r=t.PIPAdItem,n=t.getRef,a=t.playStatus,o=t.quitPIPAdMode,c=t.PIPType;return f.a.createElement("div",{id:"PIPAdLayer-wrapper",className:"PIPAdLayer",ref:n,style:{display:i?"block":"none"},onMouseDown:this.mouseDown,__source:{fileName:h,lineNumber:199},__self:this},f.a.createElement("div",{className:"PIPAdLayer-tip",__source:{fileName:h,lineNumber:206},__self:this},"\u6309\u4f4f\u53ef\u62d6\u52a8"),f.a.createElement("div",{className:"PIPAdLayer-status "+(a?" is-pause":" is-play"),onClick:this.VideoPause,__source:{fileName:h,lineNumber:207},__self:this}),f.a.createElement("div",{className:"PIPAdLayer-recovery",onClick:function onClick(){e.gotoQuitHandle(3)},__source:{fileName:h,lineNumber:208},__self:this},"\u8fd8\u539f"),f.a.createElement(u.Suspense,{fallback:f.a.createElement("div",{__source:{fileName:h,lineNumber:209},__self:this}),__source:{fileName:h,lineNumber:209},__self:this},i?f.a.createElement(y,{PIPAdItem:r,quitPIPAdMode:o,gotoQuit:this.gotoQuit,PIPType:c,__source:{fileName:h,lineNumber:212},__self:this}):null))},PIPAdLayer}(f.a.Component),c=_applyDecoratedDescriptor(o.prototype,"common",[r],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"acj",[n],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"playerService",[a],{enumerable:!0,initializer:null}),o);t.default=S},"8e7195":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_7e23237.png"},"8ec29f":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_8ce59b6.png"},"8f37dc":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_eb20544.png"},"8fc5e5":function(e,t,i){"use strict";var r,n,a,o,c,s=i("eb3e22"),l=i("54992a");function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var u=s.basicTypes.number,f=s.basicTypes.boolean,p=Object(l.log)((n=function(e){function QQcloudGGDto(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,QQcloudGGDto);for(var r=arguments.length,n=Array(r),s=0;s<r;s++)n[s]=arguments[s];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"posid",a,i),_initDefineProp(i,"show",o,i),_initDefineProp(i,"expireTime",c,i),_possibleConstructorReturn(i,t)}return _inherits(QQcloudGGDto,e),QQcloudGGDto}(s.EntityDto),a=_applyDecoratedDescriptor(n.prototype,"posid",[u],{enumerable:!0,initializer:null}),o=_applyDecoratedDescriptor(n.prototype,"show",[f],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(n.prototype,"expireTime",[u],{enumerable:!0,initializer:null}),r=n))||r;t.default=p},"8ff9c7":function(e,t,i){window.$SHARK_WEBM_HEADER||i("639f12")},"91d37b":function(e,t,i){"use strict";i.d(t,"default",function(){return w});var r,n,a,o,c,s,l=i("1a22b7"),u=i.n(l),f=i("7ca7dc"),p=i("eb3e22"),d=i("54992a"),m=i("e19de5"),b=i("e854a7"),h=i("41eaa7"),v=(i("fd4e64"),"/shark/live/src/common/components/AnchorFriend/AnchorFriendVisit.js");function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=f.default.Service,g=b.default.socketStream,_={s:"\u6b63\u5728\u62dc\u8bbf",d:"\u524d\u6765\u62dc\u8bbf"},S="11010020F00",w=(r=y(h.default),n=y(p.DataCenter.common),Object(d.log)((o=function(e){function AnchorFriendVisit(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AnchorFriendVisit);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"anchorFriendService",c,i),_initDefineProp(i,"common",s,i),i.state={show:0,source:{},ext:{}},i.visitExpose=function(){var e=i.state.ext;i.anchorFriendService.dySubV2(S+"9.3.1",e)},i.visitDys=function(){var e=i.state.ext;i.anchorFriendService.dySubV2(S+"A.1.1",e)},i.finishVisit=function(){i.Timer=setTimeout(function(){return i.setState({show:0,source:{}})},45e3)},i.clearTimer=function(){i.Timer&&clearTimeout(i.Timer)},_possibleConstructorReturn(i,t)}return _inherits(AnchorFriendVisit,e),AnchorFriendVisit.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).room,i=(t=void 0===t?{}:t).cate1_id,r=t.cate2_id,n={cate_id:i,child_id:t.cate3_id,tag_id:r,room_id:t.room_id};e.setState({ext:n})}),g.subscribe("nborvsn",function(t){var i=t.drid,r=t.dnick,n=t.downid;e.setState({show:1,source:{s:"s",rid:i,nick:r,uid:n}}),e.clearTimer(),e.visitExpose(),e.finishVisit()})},AnchorFriendVisit.prototype.componentWillUnmount=function componentWillUnmount(){this.clearTimer()},AnchorFriendVisit.prototype.render=function render(){var e=this.state,t=e.show,i=e.source,r=i.s,n=i.rid,a=i.nick,o=i.uid;return t?u.a.createElement("div",{className:"AnchorFriendVisit",__source:{fileName:v,lineNumber:91},__self:this},u.a.createElement("i",{className:"AnchorFriendVisit-status",__source:{fileName:v,lineNumber:92},__self:this},_[r]),u.a.createElement("div",{className:"AnchorFriendVisit-content",__source:{fileName:v,lineNumber:93},__self:this},u.a.createElement("a",{href:"/"+n,target:"_blank",onClick:this.visitDys,__source:{fileName:v,lineNumber:94},__self:this},u.a.createElement("span",{className:"AnchorFriendVisit-avatar",__source:{fileName:v,lineNumber:95},__self:this},u.a.createElement(m.default,{round:!0,uid:o,__source:{fileName:v,lineNumber:96},__self:this})),u.a.createElement("div",{className:"AnchorFriendVisit-info",__source:{fileName:v,lineNumber:98},__self:this},u.a.createElement("h4",{__source:{fileName:v,lineNumber:99},__self:this},a),u.a.createElement("span",{__source:{fileName:v,lineNumber:100},__self:this},"\u70b9\u51fb\u524d\u5f80"))))):null},AnchorFriendVisit}(u.a.Component),c=_applyDecoratedDescriptor(o.prototype,"anchorFriendService",[r],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"common",[n],{enumerable:!0,initializer:null}),a=o))||a)},"92421c":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_ead68ae.png"},"9430c5":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_09e9815.png"},951176:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_f439589.png"},960890:function(e,t,i){e.exports=i("d1db8c")("c9c82")},"97a1f0":function(e,t,i){e.exports=i("2d6146")("11f13")},"97a851":function(e,t,i){e.exports=i("5f575e")("8e846")},"99548b":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_bca21a2.png"},999443:function(e,t){e.exports=vendor3d72ea64bdb3506ffdba},"9a6552":function(e,t,i){e.exports=i("d1db8c")("a6646")},"9ce1f0":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_80e0529.png"},"9e38a1":function(e,t,i){e.exports=i("5f575e")("913da")},a4d589:function(e,t,i){},a50154:function(e,t,i){e.exports=i("5f575e")("f3579")},a5c38e:function(e,t,i){e.exports=i("5f575e")("03019")},a63648:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_c52e608.png"},aa7a85:function(e,t,i){"use strict";var r=i("7ca7dc"),n=i("74e873"),a=i("c8cf22"),o=i("fc5757"),c=r.default.StoreFactory;t.default=r.default.createApp({name:"PlayerApp",providers:[{name:"component",useFactory:function useFactory(){return o.default}},{name:"store",useFactory:function useFactory(){return c.getInstance(window.__INITIAL_STATE__,a.default,n.default)}}]})},ac64b0:function(e,t,i){e.exports=i("5f575e")("55d33")},ac833b:function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f,p,d,m,b,h,v,y,g,_,S,w,P,D,O,T,E,C,j,k,N,M,L,I=i("1a22b7"),z=i.n(I),B=i("292183"),A=i.n(B),F=i("447d8e"),x=i("7ca7dc"),R=i("54992a"),H=i("eb3e22"),G=i("ee9085"),V=i("db47a7"),Y=i("456fdc"),U=i.n(Y),W=i("722b8a"),Q=i("97a851"),q=i.n(Q),J=i("2de163"),$=i.n(J),X=i("9a6552"),K=i("da4594"),Z=i("bee09c"),ee=i("ed1c3e"),te=i("221302"),ie=i("f7168b"),re=i("f30dce"),ne=(i("dc3ca9"),i("e854a7")),ae=i("751f2c"),oe=i("848432"),ce=i("1d1529"),se=i("bd3638"),le=i("ae66bb"),ue=i("5c1c81"),fe=i("03f040"),pe=i("7c77cf"),de=i("885ba5"),me=i("ac64b0"),be=i("7d2a4e"),he=i("c731d7"),ve=i("91d37b"),ye=i("9e38a1"),ge=i("76d74b"),_e=i("8df3d4"),Se=i("2d1400"),we=i("3fa1aa"),Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},De="/shark/live/src/pages/roomPage/playerModule/components/Player/Player.js";function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Oe=Object(I.lazy)(function(){return i.e("SvgaPlayer_fb27ab3").then(i.bind(null,"42cd8b"))}),Te=Object(I.lazy)(function(){return i.e("MatchJump_3addc9f").then(i.bind(null,"e15bfb"))}),Ee=x.default.Service,Ce=ne.default.socketStream,je=ne.default.socketProxy,ke=q.a.decode,Ne=3e3,Me=(r=Ee(Z.default),n=Ee(ee.default),a=Ee(te.default),o=Ee(ie.default),c=Ee(re.default),s=Ee(R.Logger),l=Ee(H.DataCenter.acj),u=Ee(H.DataCenter.event),f=Ee(H.DataCenter.common),p=Ee(H.DataCenter.global),d=Ee(H.DataCenter.cookie),m=Ee(H.DataCenter.localStorage),b=Ee(K.default),h=Ee(U.a),v=Ee(Se.default),y=function(e){function Player(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Player);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"playerService",g,t),_initDefineProp(t,"fullScreenService",_,t),_initDefineProp(t,"qqCloudGGServices",S,t),_initDefineProp(t,"roomServices",w,t),_initDefineProp(t,"pipVideoAdService",P,t),_initDefineProp(t,"logger",D,t),_initDefineProp(t,"acj",O,t),_initDefineProp(t,"event",T,t),_initDefineProp(t,"common",E,t),_initDefineProp(t,"global",C,t),_initDefineProp(t,"cookie",j,t),_initDefineProp(t,"localStorage",k,t),_initDefineProp(t,"commonSwitchServices",N,t),_initDefineProp(t,"signServices",M,t),_initDefineProp(t,"abTestService",L,t),t.unsubscribehandle=new X.Subscriber,t.isInit=!0,t.isStateCheckBinded=!1,t.moveVideoEntity=function(e){return function(i,r){var n=t.state.vedioStyle,a=Object.assign({},n,{top:i,left:r,bottom:"auto",right:"auto"});t.setState({vedioStyle:a},function(){e.style.top=a.top,e.style.left=a.left,e.style.bottom="auto",e.style.right="auto"})}},t.listerPlbRvo=function(){Ce.subscribe("plb_rvo",function(e){var i=e.vs,r=(ke(i).map(function(e){return ke(e)})||[]).filter(function(e){return 1===+e.io}),n=t.state.vodFlag;if(r&&r.length){var a=1===+r[0].ilo?1:0;t.setState({vodFlag:Pe({},n,{isShowLoopLogo:a})})}var o=e.pl;if(o){var c=ke(o);if(c){clearTimeout(t.lastWaitPostID);var s=parseInt(9e3*Math.random(),10)+1e3;t.waitForPostVaildWatching(c.vid,s),t.vodStreamDot(c.vid)}}})},t.vodStreamDot=function(e){var t=window.__playerDot||{},i=t.dot,r=t.parm,n=void 0===r?{}:r;if(i){i.setvt(3005),i.setlt(2);var a=i.getpid();if(0!==a){i.sendps5();var o=a.substr(0,a.length-13);i.setvpid(o+(new Date).getTime()+"-"+e),i.setvid(e),i.setctime(n.t||0),n.t=0,i.sendps1()}else i.setvid(e),n.t=0}},t.waitForPostVaildWatching=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e&&(t.lastWaitPostID=setTimeout(function(){setTimeout(function(){t.playerService.postWatchingInfo(e)},i)},Ne))},t.addWebRTCListen=function(){t.acj.get(me.JS_TYPE.SWITCH_TO_STREAM_PANEL).subscribe(function(){t.state.picInPicCondition?t.acj.push(me.JS_TYPE.JS_INSPIRE_AD_STATE,{state:1}):t.setState({closePipNeedPause:!0}),t.smallVedioToBig(),t.inWebRtc=!0}),t.acj.get(me.JS_TYPE.SWITCH_TO_ROOM_VIEW).subscribe(function(){t.acj.push(me.JS_TYPE.JS_INSPIRE_AD_STATE,{state:0}),t.veidoScrollListen&&t.showSmallPlayer(),t.setState({closePipNeedPause:!1}),t.inWebRtc=!1})},t.listenScrollForTopBtn=function(){t.topBtnScrollFunc=t.playerService.throttling(t.calcToTopBtn,60),t.topBtnScrollListen=t.event.register(window,"scroll").subscribe(function(){t.topBtnScrollFunc()})},t.calcToTopBtn=function(){var e=t.getScrollData();e.scrollTop>e.topToHead+1?t.setState({showToTopBtn:!0}):t.setState({showToTopBtn:!1})},t.listenPIPAdMSG=function(){t.common.get("MULTIPLE_PLAYER").subscribe(function(e){var i=e.value;t.setState({multiplePlayer:i})}),t.common.get("PIP_PLAYER").subscribe(function(e){var i=e.value;t.setState({PIPPlayer:i}),t.state.PIPAdMode&&!i&&t.togglePIPAdLayer(!0)}),t.common.get("webRoomAdsMaterialData").subscribe(function(e){var i=e.data,r=(i=void 0===i?{}:i)[4112271],n=(void 0===r?[]:r).filter(function(e){var t=e.ec;return 2===+(void 0===t?{}:t).type});t.setState({signRoomAds:n})}),Ce.subscribe("ad_task_item",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.item_type,r=void 0===i?"":i,n=e.mid,a=t.state.signRoomAds.find(function(e){return+e.mid===+n});2===+r&&a&&t.togglePIPAdMode(!0)(a,1)}),t.fetchPIPVideoAdMaterialList(4114418),Ce.subscribe("adx_hzh_creative_item",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).oper;if(1===+e)setTimeout(function(){var e=t.state.pipVideoAds,i=e.map(function(e){return e.mid});t.pipVideoAdService.fetchShowAdMid(i.join(",")).then(function(){var i=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mid,r=e.find(function(e){return""+e.mid===""+i});r&&t.togglePIPAdMode(!0)(r,2)})},1e3*Math.floor(5*Math.random()+1));else if(3===+e){var i=t.localStorage.get("picture_in_picture_video_getAdsTime")||0;(new Date).getTime()-i>18e5&&t.fetchPIPVideoAdMaterialList(4114418)}})},t.togglePIPAdMode=function(e){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.state,a=n.multiplePlayer,o=n.PIPPlayer,c=n.smallPlayerSize;a||t.setState(Pe({PIPAdMode:e,PIPAdItem:i},e?{}:{vedioStyle:{}},{PIPType:r}),function(){var i={0:"removeClass",1:"addClass"}[+e];c||o||(he.default[i](t.playerEntity,"is-PIPAdMode"),t.acj.push(me.JS_TYPE.JS_FLOATSIZE,{value:!e}),t.playerEntity.style=""),t.playerService.isWindowFullScreen()&&(e?t.PIPAdLayer.appendChild(t.playerEntity):t.playerBox.insertBefore(t.playerEntity,t.playerSub),he.default[i](t.playerEntity,"is-fullscreen")),t.resizePlayerInPIPAdMode()})}},t.togglePIPAdLayer=function(e){var i={0:"removeClass",1:"addClass"}[+e];t.setState({vedioStyle:e?t.state.vedioStyle:{}}),he.default[i](t.playerEntity,"is-PIPAdMode"),t.acj.push(me.JS_TYPE.JS_FLOATSIZE,{value:!e}),t.PIPAdLayer.style="",t.playerEntity.style="",t.PIPAdLayer.style.display=e?"block":"none",e&&setTimeout(function(){return t.player.resize(t.playerEntity.clientWidth,t.playerEntity.clientHeight)},100)},t.resizePlayerInPIPAdMode=function(){var e=document.querySelector("#__video2"),i=t.container.clientWidth,r=t.container.clientHeight;t.playerService.isWindowFullScreen()?(e.style.width=i+"px",e.style.height=r+"px"):t.player.resize(i,r)},t.state={smallPlayerIsOpen:!1,smallPlayerSize:!1,vedioStyle:{},changePlayer:!0,smallVedioMove:!1,vedioPlayStatus:!0,isFullScreen:!0,picInPicCondition:!0,inVod:!1,PIPAdMode:!1,signRoomAds:[],PIPAdItem:{},multiplePlayer:!1,PIPPlayer:!1,PIPType:1,pipVideoAds:[],showToTopBtn:!1},t.listenScroll=t.listenScroll.bind(t),t.showSmallPlayer=t.showSmallPlayer.bind(t),t.onFullscreenChange=t.onFullscreenChange.bind(t),t.vedioShowStatus=1,t.playerBox=document.getElementById("js-player-video-case"),t.documentBody=document.body,t.documentElement=document.documentElement,t.domPlayerToolbar=document.getElementById("js-player-toolbar"),t.domHeader=document.getElementById("js-header"),t.playerEntity=document.getElementById("js-player-video-first"),t.playerSub=document.getElementById("js-player-video"),t}return _inherits(Player,e),Player.prototype.resize=function resize(){this.player&&this.player.resize&&this.player.resize(this.container.clientWidth,this.container.clientHeight)},Player.prototype.listenShowStatus=function listenShowStatus(){var e=this;this.common.get("$DATA").subscribe(function(t){e.vedioShowStatus=t.get("room.show_status")}),this.acj.get(me.ROOM_TYPE.ROOM_DATA_STATE).subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ss,i=1===parseInt(t,10)?1:2;e.vedioShowStatus=i,e.modifyVedioShow()}),this.acj.get(me.ROOM_TYPE.ROOM_DATA_IDLE_DP).subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).stage,i=3===parseInt(t,10)?1:3;e.vedioShowStatus=i,e.modifyVedioShow()}),this.acj.get(me.ROOM_TYPE.ROOM_BUS_PAGESCR).subscribe(function(t){var i=(t||{}).flag;e.setState({isFullScreen:i})}),this.acj.get(me.ROOM_TYPE.ROOM_DY_SUB_V2).subscribe(function(e){Object(V.dysub2)(e)}),this.acj.get(me.ROOM_TYPE.ROOM_SIGN_DOT).subscribe(function(t){var i=t.typeId,r=void 0===i?2:i,n=t.posId,a=t.data;e.signServices.actionSignDot(r,n,a)}),this.acj.get(me.ROOM_TYPE.ROOM_HLQK_TISHI).subscribe(function(){W.default.error("\u6d3b\u52a8\u8fc7\u4e8e\u706b\u7206,\u8bf7\u7a0d\u540e\u518d\u8bd5")}),this.acj.get(me.ROOM_TYPE.ROOM_QUICK_SEND).subscribe(function(){W.default.error("\u60a8\u7684\u53d1\u8a00\u901f\u5ea6\u8fc7\u5feb")}),this.acj.get(me.ROOM_TYPE.ROOM_SHOW_TOAST).subscribe(function(e){var t=e.msg;W.default.info(t)}),this.acj.get(me.ROOM_TYPE.ROOM_GOTO_OPEN).subscribe(function(){Object(ye.openDyTool)()}),this.acj.get(me.ROOM_TYPE.ROOM_CHECK_WEBOPEN).subscribe(function(t){e.abTestService.fetchABtest(t.data).subscribe(function(t){e.acj.push(me.JS_TYPE.JS_SHOWWEBOPEN,{flag:t})})})},Player.prototype.listenScroll=function listenScroll(){var e=this;this.listenScrollFunc=this.playerService.throttling(this.showSmallPlayer,60),this.veidoScrollListen=this.event.register(window,"scroll").subscribe(function(){e.listenScrollFunc()})},Player.prototype.removeListenScroll=function removeListenScroll(){this.veidoScrollListen&&(this.veidoScrollListen.unsubscribe(),this.veidoScrollListen=null)},Player.prototype.showSmallPlayer=function showSmallPlayer(){var e=this;!0!==this.inWebRtc&&this.getVideoToSmallConfig.subscribe(function(t){if(t){var i=e.state,r=i.isFullScreen,n=i.inVod,a=i.PIPAdMode;if(r)if(1===e.vedioShowStatus&&!n){var o=e.state.smallPlayerSize,c=e.getScrollData(),s=c.scrollTop,l=c.topToHead;s>=l&&!o?(a&&e.togglePIPAdLayer(!1),e.bigVedioToSmall()):s<l+15&&o&&(a&&e.togglePIPAdLayer(!0),e.smallVedioToBig())}}})},Player.prototype.getScrollData=function getScrollData(){return{scrollTop:this.documentBody.scrollTop+this.documentElement.scrollTop,topToHead:this.playerService.offset(this.domPlayerToolbar).top-(this.domHeader.clientHeight+1)}},Player.prototype.callVedioResize=function callVedioResize(e){this.resize(),this.acj.push(me.JS_TYPE.JS_FLOATSIZE,{value:e})},Player.prototype.bigVedioToSmall=function bigVedioToSmall(){var e=this;this.state.picInPicCondition&&this.setState({smallPlayerSize:!0},function(){he.default.addClass(e.playerBox,"is-smallDangling"),e.callVedioResize(!1)})},Player.prototype.smallVedioToBig=function smallVedioToBig(){var e=this;this.state.smallVedioMove?this.setState({smallVedioMove:!1,vedioStyle:{},smallPlayerSize:!1},function(){he.default.removeClass(e.playerBox,"is-smallDangling"),e.playerBox.style="",e.callVedioResize(!0)}):this.setState({smallPlayerSize:!1},function(){he.default.removeClass(e.playerBox,"is-smallDangling"),e.callVedioResize(!0)})},Player.prototype.movePendant=function movePendant(e,t){this.setState({smallVedioMove:!0}),this.moveVideoEntity(this.playerBox)(e,t)},Player.prototype.userCloseSmallVedio=function userCloseSmallVedio(){this.smallVedioToBig(),this.removeListenScroll()},Player.prototype.modifyVedioShow=function modifyVedioShow(){var e=this.state.smallPlayerSize,t=this.vedioShowStatus,i=this.getScrollData();i.scrollTop>=i.topToHead&&(1!==t||e?1!==t&&e&&this.smallVedioToBig():this.bigVedioToSmall())},Player.prototype.listenPlayStatus=function listenPlayStatus(){var e=this;this.acj.get(me.ROOM_TYPE.ROOM_DATA_PLAYSTATE).subscribe(function(t){e.setState({vedioPlayStatus:t.value})})},Player.prototype.listenVodFlag=function listenVodFlag(){var e=this;this.acj.get(me.ROOM_TYPE.ROOM_VIDEO_WHEEL_FLAG).subscribe(function(t){e.setState({hideVodFlag:t.isShow})}),Ce.subscribe("rss",function(t){var i=e.state.hideVodFlag,r=t.ss,n=1===parseInt(r,10)?1:2;e.setState({hideVodFlag:2===n||i,vodFlag:null}),1===+n&&e.getData()}),this.common.get("$DATA").subscribe(function(t){1===+t.get("room.show_status")&&(e.getData(),e.listerPlbRvo())})},Player.prototype.getData=function getData(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.playerService.getRoomLoopInfo(this.global.get("$ROOM.room_id")).subscribe(function(i){e.acj.push(me.JS_TYPE.JS_GET_LOOP_INFO,{value:i}),e.setState({vodFlag:i});var r=i.rst,n=i.rsst,a=i.pointId;t&&3===r&&3005===n&&(e.waitForPostVaildWatching(a),e.vodStreamDot(a),e.playerService.push(me.JS_TYPE.JS_VOD_BARRAGE_GRAY_TIPS)),1===Number(e.global.get("$ROOM.show_status"))&&e.common.push("RoomLoopInfo",i)}),t&&(clearTimeout(this.checkFlagId),this.checkFlagId=setTimeout(function(){e.getData(!1)},parseInt(6e4+15e3*Math.random(),10)))},Player.prototype.getSmallPlayerOpen=function getSmallPlayerOpen(){var e=this,t=this.global.get("CUSTOM.roomType"),i=+this.global.get("$DATA.cateInfo.cid1");2!==t&&188!==i&&(this.getVideoToSmallConfig=this.playerService.getVideoToSmallConfig(),this.getVideoToSmallConfig.subscribe(function(t){t?(e.setState({smallPlayerIsOpen:!0}),e.listenScroll(),e.showSmallPlayer()):e.setState({smallPlayerIsOpen:!1})}))},Player.prototype.componentWillMount=function componentWillMount(){this.fullScreenService.init()},Player.prototype.componentDidMount=function componentDidMount(){var e=this;window.__player={switchPlayer:function switchPlayer(t){window.__player.isSwitched=!0,window.__player.timeSwitch=(new Date).valueOf(),e.setState({changePlayer:!0}),setTimeout(function(){t?window.checkCreateFirstVideo&&window.checkCreateFirstVideo():window.destroyFirstVideo&&window.destroyFirstVideo(1),e.isInit=!1,e.playerService.changePlayer({useh5:t})},200)},isSwitched:!1,timeSwitch:0,isH5Support:this.checkBrowser(),flashShellLoadTime:0,getGlobal:this.playerService.getGlobal.bind(this.playerService),setGlobal:this.playerService.setGlobal.bind(this.playerService),getLocalStorage:this.playerService.getLocalStorage.bind(this.playerService),setLocalStorage:this.playerService.setLocalStorage.bind(this.playerService),getsessionStorage:this.playerService.getSessionStorage.bind(this.playerService),setsessionStorage:this.playerService.setSessionStorage.bind(this.playerService),commentFilter:this.commentFilter.bind(this),commonPush:this.playerService.commonPush.bind(this.playerService),getCsrf:this.playerService.getCsrf.bind(this.playerService),jsonpRequest:this.playerService.jsonpRequest.bind(this.playerService),setFilterWords:this.playerService.setFilterWords.bind(this.playerService),isWindowFullScreen:this.playerService.isWindowFullScreen.bind(this.playerService),onFullScreen:this.playerService.onFullScreen.bind(this.playerService),rebroadcast:this.rebroadcast.bind(this),serverTypes:de.serverTypes,serverTypeKey:de.serverTypeKey},window._ACJ_=function(t,i){var r=i,n=function sendMessage(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];je.isSocketReady?je.sendMessage.apply(je,i):e.unsubscribehandle.add(Ce.subscribe("socket_ready",function(){je.sendMessage.apply(je,i)}))};if("socket_msg"===t)if(void 0!==r.serverTypes&&null!==r.serverTypes){var a=r.serverTypes;delete r.serverTypes,n(r,a)}else n(r);else e.playerService.push(t,r)},this.playerService.getConfigInit(),this.acj.get(me.ROOM_TYPE.ROOM_PLAYER_READY).subscribe(function(){e.setState({changePlayer:!1}),e.playerLoadedRegist();var t=e.props.useh5,i=e;e.acj.get("room_vod_notify").subscribe(function(e){e.inVod&&t&&i.setState({inVod:!0}),!e.inVod&&t&&i.setState({inVod:!1})}),e.acj.get("room_pip_notify").subscribe(function(e){e.pip&&t&&i.setState({picInPicCondition:!1,hideVodFlag:e.pip}),!e.pip&&t&&(i.setState({picInPicCondition:!0,hideVodFlag:e.pip}),i.state.closePipNeedPause&&i.acj.push(me.JS_TYPE.JS_INSPIRE_AD_STATE,{state:1}))})}),this.playerService.listenLayoutChange(function(){return setTimeout(e.resize.bind(e),50)}),this.playerService.configCsrfFlash(),this.playerService.regshowLoginWnd(),this.playerService.regshowRegWnd(),this.playerService.regRoomVideoCatchTime(),this.playerService.getGiftConfig(),this.playerService.sendBatchGift(),this.playerService.changePlayer({useh5:this.checkH5()}),this.checkFullScreenStatus(),this.resize(),this.listenShowStatus(),this.listenPlayStatus(),this.listenVodFlag(),this.getSmallPlayerOpen(),this.addWebRTCListen(),this.listenScrollForTopBtn(),this.listenFullScreenChange(),window.setFlashPlayer=this.setFlashPlayer,window.flashPlayer&&this.setFlashPlayer(),window.playerJSok=!0,this.acj.get("room_player_videoOK").subscribe(function(t){e.flashStreamonReady(t)}),this.acj.get("room_player_videoErr").subscribe(function(){e.baseStreamDot&&e.baseStreamDot.onError()}),this.listenPIPAdMSG()},Player.prototype.flashStreamonReady=function flashStreamonReady(e){var t=e.mix,i=e.p2p,r=e.mixed_url,n=e.mixed_live,a=e.rtmp_url,o=e.rtmp_live,c=t?e.mixedCDN:e.cdn,s=e.rate,l=e.multirates,u=0;if(l&&l&&l.length>0)for(var f=0;f<l.length;f++)if(+l[f].type===+s){u=l[f].bit||"0";break}var p={type:i?2:1,surl:t?r+"/"+n:a+"/"+o,quality:u,st:i||c,vt:""};this.baseStreamDot?this.baseStreamDot.onReady(p):(this.baseStreamDot=new G.default({did:this.cookie.get("did")||"",uid:e.uid||"0",ct:"web",pt:"1",ver:e.ver,rid:e.rid,tid:e.tid,refer:window.location.href,r_type:e.isVertical?2:e.isyinping?3:1,env:1}),this.baseStreamDot.onReady(p))},Player.prototype.setFlashPlayer=function setFlashPlayer(){this.player=window.flashPlayer},Player.prototype.checkFullScreenStatus=function checkFullScreenStatus(){var e=this,t=document.getElementById("js-player-aside-state");t&&(t.checked?this.addClass(document.body,"is-fullScreenAll"):this.removeClass(document.body,"is-fullScreenAll"),this.isStateCheckBinded||t.addEventListener("change",function(t){t.target.checked?e.addClass(document.body,"is-fullScreenAll"):e.removeClass(document.body,"is-fullScreenAll")}))},Player.prototype.addClass=function addClass(e,t){e.className+=" "+t},Player.prototype.removeClass=function removeClass(e,t){var i=e.className.replace(t," ");e.className=i},Player.prototype.msgtoPlayer=function msgtoPlayer(e){var t=this.props.useh5;if("chatmsg"!==e.type||"\u770bPEL\u8fd8\u80fd\u6389\u9650\u5b9a\u9053\u5177\uff0c\u4f60\u77e5\u9053\u5417\uff1f#PEL\u89c2\u8d5b\u6d3b\u52a8#"!==e.txt&&"\u4e0d\u4f1a\u771f\u6709\u4eba\u4e0d\u9886\u9650\u5b9a\u5956\u52b1\u5427\uff0c\u4e0d\u4f1a\u5427\u4e0d\u4f1a\u5427\u4e0d\u4f1a\u5427\uff01#PEL\u89c2\u8d5b\u6d3b\u52a8#"!==e.txt)if(this.player)try{t?this.player.msg(e.type,e):this.player.flashmsg?this.player.flashmsg(e.type,e):this.logger.warn("TCP\u6d88\u606f\u4f20\u5165\u64ad\u653e\u5668\u51fa\u9519\uff1a"+e.type+" Flash\u64ad\u653e\u5668\u4e2d\u4e0d\u5b58\u5728\u6b64\u65b9\u6cd5\uff1aflashmsg")}catch(t){this.logger.warn("TCP\u6d88\u606f\u4f20\u5165\u64ad\u653e\u5668\u51fa\u9519\uff1a"+e.type,t)}else this.logger.warn("TCP\u6d88\u606f\u4f20\u5165\u64ad\u653e\u5668\u51fa\u9519\uff1a"+e.type+" \u64ad\u653e\u5668\u8fd8\u672a\u51c6\u5907\u5c31\u7eea")},Player.prototype.componentWillUnmount=function componentWillUnmount(){this.player&&this.player.destroy&&this.player.destroy(),this.container.innerHTML="",this.removeFullScreenChange(),clearTimeout(this.lastWaitPostID)},Player.prototype.componentDidUpdate=function componentDidUpdate(e){e.useh5!==this.props.useh5&&(void 0===e.useh5?this.switchPlayer(this.props.useh5,1):this.switchPlayer(this.props.useh5),this.regQQcloudGG()),this.props.useh5?document.getElementById("js-player-video").style.pointerEvents="auto":document.getElementById("js-player-video").style.pointerEvents="none"},Player.prototype.canSeeLoopLogo=function canSeeLoopLogo(e,t,i){return!e&&!t&&i&&1===+i.isShowLoopLogo},Player.prototype.fetchPIPVideoAdMaterialList=function fetchPIPVideoAdMaterialList(e){var t=this;this.pipVideoAdService.fetchPIPVideoAdMaterialList(e).then(function(e){t.setState({pipVideoAds:e||[]})}),this.localStorage.set("picture_in_picture_video_getAdsTime",(new Date).getTime())},Player.prototype.render=function render(){var e=this,t=this.state,i=t.smallPlayerSize,r=t.vedioStyle,n=t.vedioPlayStatus,a=t.smallPlayerIsOpen,o=t.picInPicCondition,c=t.inVod,s=t.PIPPlayer,l=t.PIPAdMode,u=t.PIPAdItem,f=t.PIPType,p=t.showToTopBtn,d=this.state,m=d.vodFlag,b=d.hideVodFlag,h=d.changePlayer,v=d.effectCache;return z.a.createElement(z.a.Fragment,{__source:{fileName:De,lineNumber:1092},__self:this},p?z.a.createElement(we.default,{__source:{fileName:De,lineNumber:1094},__self:this}):null,this.canSeeLoopLogo(b,h,m)?z.a.createElement("div",{className:"room-VideoFlag",__source:{fileName:De,lineNumber:1097},__self:this},m.loopLogoName||"\u5f55\u50cf"):null,z.a.createElement("div",{className:["room-Player-Box",i?" is-smallDangling":"",i||s||!l?"":" is-PIPAdMode"].join(""),style:r,__source:{fileName:De,lineNumber:1099},__self:this},z.a.createElement("div",{className:"room-Player",id:"douyu_room_normal_player_proxy_box",style:{pointerEvents:this.props.useh5?"auto":"none"},ref:function ref(t){return e.container=t},__source:{fileName:De,lineNumber:1107},__self:this}),a&&o&&!c?z.a.createElement(se.default,{movePendant:this.movePendant.bind(this),closeSmallVedio:this.userCloseSmallVedio.bind(this),playStatus:n,splayerSize:i,__source:{fileName:De,lineNumber:1113},__self:this}):null,z.a.createElement(_e.default,{getRef:function getRef(t){return e.PIPAdLayer=t},modal:this.PIPAdLayer,playStatus:n,PIPAdMode:l,PIPAdItem:u,PIPType:f,moveVideoEntity:this.moveVideoEntity(this.playerEntity),quitPIPAdMode:this.togglePIPAdMode(!1),__source:{fileName:De,lineNumber:1119},__self:this})),z.a.createElement(ue.default,{__source:{fileName:De,lineNumber:1130},__self:this}),this.props.useh5?null:z.a.createElement(ae.default,{__source:{fileName:De,lineNumber:1132},__self:this}),z.a.createElement(oe.default,{__source:{fileName:De,lineNumber:1133},__self:this}),z.a.createElement(be.default,{__source:{fileName:De,lineNumber:1134},__self:this}),z.a.createElement(ce.default,{__source:{fileName:De,lineNumber:1135},__self:this}),z.a.createElement(le.default,{__source:{fileName:De,lineNumber:1137},__self:this}),z.a.createElement(ve.default,{__source:{fileName:De,lineNumber:1138},__self:this}),z.a.createElement(fe.default,{__source:{fileName:De,lineNumber:1140},__self:this}),z.a.createElement(I.Suspense,{fallback:z.a.createElement("div",{__source:{fileName:De,lineNumber:1142},__self:this}),__source:{fileName:De,lineNumber:1142},__self:this},z.a.createElement(Te,{__source:{fileName:De,lineNumber:1143},__self:this})),z.a.createElement(pe.default,{smallPlayerSize:i,__source:{fileName:De,lineNumber:1146},__self:this}),z.a.createElement(ge.default,{__source:{fileName:De,lineNumber:1148},__self:this}),v?z.a.createElement(I.Suspense,{fallback:z.a.createElement("div",{__source:{fileName:De,lineNumber:1151},__self:this}),__source:{fileName:De,lineNumber:1151},__self:this},z.a.createElement(Oe,{effectCache:v,__source:{fileName:De,lineNumber:1152},__self:this})):null)},Player.prototype.playerLoadedRegist=function playerLoadedRegist(){var e=this;this.props.useh5||(this.player=window.flashPlayer);var t=this.isInit;this.isInit||je.connectServer();var i=Object.keys(me.BACK_SOCKET_TYPE),r=Ce.subscribe(function(i){var r=i.type;if(("configscreen"===r&&e.setState({effectCache:i}),t)&&me.BACK_SOCKET_TYPE[r])return;e.msgtoPlayer(i)});this.unsubscribehandle.add(r),t&&i.forEach(function(t){var i=t,r=Ce.subscribe(i,function(t){e.msgtoPlayer(t)});e.unsubscribehandle.add(r)}),Object.keys(me.JS_TYPE).forEach(function(t){var i=me.JS_TYPE[t],r=e.playerService.subscribe(i,function(t){var r=e.props.useh5;if(e.player)try{r?e.player.exec(i,t):e.player[i]?void 0===t?e.player[i]():e.player[i](t):e.logger.warn("\u8c03\u7528\u64ad\u653e\u5668\u65b9\u6cd5\u51fa\u9519\uff1aFlash\u64ad\u653e\u5668\u4e2d\u4e0d\u5b58\u5728\u6b64\u65b9\u6cd5\uff1a"+i)}catch(t){e.logger.warn("\u8c03\u7528\u64ad\u653e\u5668\u65b9\u6cd5\uff1a"+i+"\u51fa\u9519",t)}else e.logger.warn("\u8c03\u7528\u64ad\u653e\u5668\u65b9\u6cd5\uff1a"+i+"\u51fa\u9519\uff1a\u64ad\u653e\u5668\u8fd8\u672a\u51c6\u5907\u5c31\u7eea")});e.unsubscribehandle.add(r)})},Player.prototype.checkH5=function checkH5(){if(-1!==window.location.href.indexOf("carnivalBarrageRoom"))return!0;var e=window.location.search;if(-1!==e.search("[?&]useflash(&|$)"))return!1;var t=-1!==e.search("[?&]useh5(&|$)");return(1===this.playerService.getGlobal("$ROOM.defaulth5",0)||t)&&this.checkBrowser()},Player.prototype.calcTimeDelta=function calcTimeDelta(e){var t=new Date,i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),e);if(t.getHours()>=e){i=new Date(i.getTime()+864e5)}return parseInt((i.getTime()-t.getTime())/1e3,10)},Player.prototype.checkBrowser=function checkBrowser(){if(!window.vdwdae325w_64we)return!1;var e=navigator.userAgent,t=e.toLowerCase().match(/version\/([\d{2}]+).*safari/);if(t){var i=parseInt(t[1],10);if(!isNaN(i)&&i>=11)return!0}if(t=e.match(/Chrome\/(\d{2})/)){var r=parseInt(t[1],10);if(!isNaN(r)&&r>=43)return!0}if(t=e.match(/Firefox\/(\d{2})/)){var n=parseInt(t[1],10);if(!isNaN(n)&&n>=43)return!0}return!1},Player.prototype.playerLoadedUnRegist=function playerLoadedUnRegist(){this.unsubscribehandle&&this.unsubscribehandle.unsubscribe(),this.unsubscribehandle=new X.Subscriber},Player.prototype.switchPlayer=function switchPlayer(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.player&&(this.playerService.setLocalStorage("player_remeber_key",e?"h5":"flash",this.calcTimeDelta(4)),this.playerService.setSessionStorage("player_remeber_key",e?"h5":"flash"),this.player&&this.player.destroy&&this.player.destroy(),(1!==t||e)&&(this.player=null,window.flashPlayer=null),this.playerLoadedUnRegist(),this.baseStreamDot&&(this.baseStreamDot.onError(),this.baseStreamDot.dispose())),this.initPlayer(e,t)},Player.prototype.initPlayer=function initPlayer(e,t){var i=this;if(e){this.container.innerHTML='<div id="room-html5-player"></div>';var r=function initH5(){if(window.H5PlayerLib||window.H5Playerh5||window["H5Playerh5-plugin"]){var e=function initH5Player(){var e=i.playerService.getFlashvars(),t=(window.H5PlayerLib||window.H5Playerh5||window["H5Playerh5-plugin"]).H5Player;i.player=new t(document.getElementById("room-html5-player"),{params:e,api:window.__player});var r=i.playerService.dataReady(function(){i.player.delayInit&&i.player.delayInit(i.playerService.getFlashvars())});r&&i.unsubscribehandle.add(r)};window.GIAS?i.common.get("Player.decrypt").subscribe(function(t){1===t.status?e():i.logger.warn("\u591a\u623f\u95f4\u4e13\u9898\u9875\u6ca1\u6709\u521d\u59cb\u5316H5\u64ad\u653e\u5668")}):e()}};-1!==window.location.href.indexOf("carnivalBarrageRoom")?window.loader.loadFile("https://sta-op.douyucdn.cn/front-publish/barrage-master/js/h5-plugin_fb71537.js",r):window.H5PlayerLib||window.H5Playerh5||window["H5Playerh5-plugin"]?r():window.loader.loadFile(window.address_live_player,r)}else if(window.GIAS)this.common.get("Player.decrypt").subscribe(function(e){if(1===e.status){var r=i.playerService.dataReady(function(){1===t?window.flashTwoLoad():window.checkCreateFirstVideo&&window.checkCreateFirstVideo(1)});r&&i.unsubscribehandle.add(r)}else i.logger.warn("\u591a\u623f\u95f4\u4e13\u9898\u9875\u6ca1\u6709\u521d\u59cb\u5316flash\u64ad\u653e\u5668")});else{var n=this.playerService.dataReady(function(){1===t?window.flashTwoLoad():window.checkCreateFirstVideo&&window.checkCreateFirstVideo(1)});n&&this.unsubscribehandle.add(n)}},Player.prototype.flashdataReadyHandle=function flashdataReadyHandle(){var e=this;this.container.innerHTML='<div id="room-flash-player"></div>';var t=this.playerService.getFlashvars(),i={quality:"high",bgcolor:"#333333",allowscriptaccess:"always",allowfullscreen:"true",wmode:"Opaque",allowFullScreenInteractive:"true"},r={id:"room-flash-player",name:"room-flash-player",align:"middle",allowscriptaccess:"always",allowfullscreen:"true",allowFullScreenInteractive:"true"};window.__player.flashShellLoadTime=(new Date).getTime();var n=new RegExp("(^|&)swf_name=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(n),o="";null!==a&&a[2]&&(o=decodeURI(a[2]));var c=window.webroomnomal;if(c&&""!==c||(c=this.playerService.getSwfurl()),o){var s=c.indexOf("/v2/");c=c.slice(0,s+4)+o}$.a.embedSWF(c,"room-flash-player","100%","100%","0","",t,i,r,function(t){var i=t.success,r=t.ref;i?e.player=r:e.logger.warn("\u5d4c\u5165Flash\u64ad\u653e\u5668\u5931\u8d25")})},Player.prototype.regQQcloudGG=function regQQcloudGG(){var e=navigator.userAgent,t=e.indexOf("Opera")>-1,i=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t,r=e.indexOf("Windows NT 6.1;")>-1&&e.indexOf("Trident/7.0;")>-1&&!i,n=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;i||r||n||this.qqCloudGGServices.init(this.container.id,this.props.useh5,"room-flash-player")},Player.prototype.commentFilter=function commentFilter(e){var t="_comment_filter_";if(e&&"chatmsg"===e.type&&("\u770bPEL\u8fd8\u80fd\u6389\u9650\u5b9a\u9053\u5177\uff0c\u4f60\u77e5\u9053\u5417\uff1f#PEL\u89c2\u8d5b\u6d3b\u52a8#"===e.txt||"\u4e0d\u4f1a\u771f\u6709\u4eba\u4e0d\u9886\u9650\u5b9a\u5956\u52b1\u5427\uff0c\u4e0d\u4f1a\u5427\u4e0d\u4f1a\u5427\u4e0d\u4f1a\u5427\uff01#PEL\u89c2\u8d5b\u6d3b\u52a8#"===e.txt))return!1;if(this.player){if(this.props.useh5)return this.player.exec(t,e);if(this.player[t])return this.player[t](e)}return!1},Player.prototype.rebroadcast=function rebroadcast(){var e=this,t=new X.Subscriber;["apks","apkn","apkt","apkb","gpkinfo","scnnotify","cpn","cpb","rss"].forEach(function(i){var r=i,n=Ce.subscribe(r,function(t){e.msgtoPlayer(t)});t.add(n)}),t.unsubscribe()},Player.prototype.listenFullScreenChange=function listenFullScreenChange(){document.addEventListener("fullscreenchange",this.onFullscreenChange),document.addEventListener("webkitfullscreenchange",this.onFullscreenChange),document.addEventListener("mozfullscreenchange",this.onFullscreenChange),document.addEventListener("MSFullscreenChange",this.onFullscreenChange)},Player.prototype.removeFullScreenChange=function removeFullScreenChange(){document.removeEventListener("fullscreenchange",this.onFullscreenChange),document.removeEventListener("webkitfullscreenchange",this.onFullscreenChange),document.removeEventListener("mozfullscreenchange",this.onFullscreenChange),document.removeEventListener("MSFullscreenChange",this.onFullscreenChange)},Player.prototype.onFullscreenChange=function onFullscreenChange(){var e=this,t=this.playerService.isWindowFullScreen();if(this.acj.push(me.JS_TYPE.JS_FULL_SCREEN_CHANGE,{value:t}),!t&&this.state.PIPAdMode){var i=this.PIPAdLayer.clientWidth,r=this.PIPAdLayer.clientHeight;he.default.removeClass(this.playerEntity,"is-fullscreen"),this.playerBox.insertBefore(this.playerEntity,this.playerSub),setTimeout(function(){return e.player.resize(i,r)},300)}},Player}(z.a.Component),g=_applyDecoratedDescriptor(y.prototype,"playerService",[r],{enumerable:!0,initializer:null}),_=_applyDecoratedDescriptor(y.prototype,"fullScreenService",[n],{enumerable:!0,initializer:null}),S=_applyDecoratedDescriptor(y.prototype,"qqCloudGGServices",[a],{enumerable:!0,initializer:null}),w=_applyDecoratedDescriptor(y.prototype,"roomServices",[o],{enumerable:!0,initializer:null}),P=_applyDecoratedDescriptor(y.prototype,"pipVideoAdService",[c],{enumerable:!0,initializer:null}),D=_applyDecoratedDescriptor(y.prototype,"logger",[s],{enumerable:!0,initializer:null}),O=_applyDecoratedDescriptor(y.prototype,"acj",[l],{enumerable:!0,initializer:null}),T=_applyDecoratedDescriptor(y.prototype,"event",[u],{enumerable:!0,initializer:null}),E=_applyDecoratedDescriptor(y.prototype,"common",[f],{enumerable:!0,initializer:null}),C=_applyDecoratedDescriptor(y.prototype,"global",[p],{enumerable:!0,initializer:null}),j=_applyDecoratedDescriptor(y.prototype,"cookie",[d],{enumerable:!0,initializer:null}),k=_applyDecoratedDescriptor(y.prototype,"localStorage",[m],{enumerable:!0,initializer:null}),N=_applyDecoratedDescriptor(y.prototype,"commonSwitchServices",[b],{enumerable:!0,initializer:null}),M=_applyDecoratedDescriptor(y.prototype,"signServices",[h],{enumerable:!0,initializer:null}),L=_applyDecoratedDescriptor(y.prototype,"abTestService",[v],{enumerable:!0,initializer:null}),y);Me.propTypes={useh5:A.a.bool};t.default=Object(F.connect)(function mapStateToProps(e){return{useh5:e.playerData.useh5,playerModuleSwitch:e.playerModuleSwitch}})(Me)},ae450e:function(e,t,i){"use strict";var r,n,a,o,c=i("1a22b7"),s=i.n(c),l=i("54992a"),u=i("7ca7dc"),f=i("eb3e22");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var p=(r=(0,u.default.Service)(f.DataCenter.global),Object(l.log)((a=function(e){function RoomCloseCountDown(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomCloseCountDown);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(t,"global",o,t),t.state={},t}return _inherits(RoomCloseCountDown,e),RoomCloseCountDown.prototype.componentWillMount=function componentWillMount(){var e=this.props.time;this.setState({second:e})},RoomCloseCountDown.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.props.callback;this.timer=setInterval(function(){var i=e.state.second;(i-=1)>=0?e.setState({second:i}):(t(),clearInterval(e.timer),e.timer=null)},1e3)},RoomCloseCountDown.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(clearInterval(this.timer),this.timer=null)},RoomCloseCountDown.prototype.render=function render(){var e=this.state.second;return s.a.createElement("div",{className:"RoomCloseCountDown",__source:{fileName:"/shark/live/src/pages/roomPage/playerModule/components/SocketError/CountDown.js",lineNumber:61},__self:this},e,"\u79d2\u540e\u5173\u95ed")},RoomCloseCountDown}(s.a.Component),o=function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(a.prototype,"global",[r],{enumerable:!0,initializer:null}),n=a))||n);t.default=p},ae66bb:function(e,t,i){"use strict";var r,n,a,o,c,s=i("1a22b7"),l=i.n(s),u=i("7ca7dc"),f=i("97a1f0"),p=i("36fb5d"),d=i("3a7633"),m=i("ddb15e"),b=i("39f4b7"),h=i("7b674b"),v=(i("f5fc06"),"/shark/live/src/pages/roomPage/playerModule/components/Ticket/index.js");function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var y=u.default.Service,g=(r=Object(f.ErrorHandler)(l.a.createElement("div",{__source:{fileName:v,lineNumber:13},__self:void 0})),n=y(p.default),r((o=function(e){function Ticket(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Ticket);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(i,"ticketService",c,i),_possibleConstructorReturn(i,t)}return _inherits(Ticket,e),Ticket.prototype.componentDidMount=function componentDidMount(){this.ticketService.init()},Ticket.prototype.render=function render(){return l.a.createElement(l.a.Fragment,{__source:{fileName:v,lineNumber:23},__self:this},l.a.createElement(d.default,{__source:{fileName:v,lineNumber:24},__self:this}),l.a.createElement(m.default,{__source:{fileName:v,lineNumber:25},__self:this}),l.a.createElement(b.default,{__source:{fileName:v,lineNumber:26},__self:this}),l.a.createElement(h.default,{__source:{fileName:v,lineNumber:27},__self:this}))},Ticket}(l.a.Component),c=function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(o.prototype,"ticketService",[n],{enumerable:!0,initializer:null}),a=o))||a);t.default=g},aea32b:function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f,p,d,m,b,h,v,y,g,_=i("97a1f0"),S=i("7ca7dc"),w=i("eb3e22"),P=i("456fdc"),D=i.n(P),O=i("56b0a1"),T=i("20ec0b"),E=i("555639"),C=i("bec389");function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=S.default.Store,k=S.default.Service,N=(r=j(),n=k(w.DataCenter.global),a=k(w.DataCenter.common),o=k(E.default),c=k(O.default),s=k(T.default),l=k(C.default),u=k(D.a),f=function(e){function DanmuEffectServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DanmuEffectServices);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"store",p,i),_initDefineProp(i,"global",d,i),_initDefineProp(i,"common",m,i),_initDefineProp(i,"broadcastManagerServices",b,i),_initDefineProp(i,"giftDataServices",h,i),_initDefineProp(i,"giftSendServices",v,i),_initDefineProp(i,"douyuBuffServices",y,i),_initDefineProp(i,"signServices",g,i),_possibleConstructorReturn(i,t)}return _inherits(DanmuEffectServices,e),DanmuEffectServices.prototype.init=function init(){var e=this;this.common.get("webRoomAdsMaterialData").subscribe(function(t){var i=t.data[4111422][0];if(i){e.materialData=i;var r=i.ec,n=i.srcid,a=i.link,o=r.appearTime,c=r.stayTime,s=r.coolingTime,l=r.deviceLogo,u=r.innerlink,f=void 0===u?0:u;(o||c||s)&&setTimeout(function(){e.creatGiftBroadData({stayTime:1e3*c,coldTime:1e3*s,content:n,logoUrl:l,isLink:0===+f,href:a})},1e3*o)}})},DanmuEffectServices.prototype.creatGiftBroadData=function creatGiftBroadData(e){var t=e.isLink,i=e.logoUrl,r=e.content,n='<div class="DanmuEffectBC ani-base-hover DeviceAdDanmu" style="'+(t?"cursor: pointer;":"cursor: default;")+'">\n            <div class="DanmuEffectBC-content">\n                <div class="DanmuEffectBC-txt DeviceAdDanmu-row">\n                    <span class="DeviceAdDanmu-logo" style="'+("background-image: url("+i+")")+'"></span>\n                    <span>\n                        \u4e3b\u64ad\u6b63\u5728\u4f7f\u7528\uff1a\n                    </span>\n                    <span class="DeviceAdDanmu-content">\n                        '+r+'\n                        <span style="'+(t?"display: inline-block;":"display: none;")+'">></span>\n                    </span>\n                </div>\n            </div>\n        </div>';this.addBroadcast(n,e)},DanmuEffectServices.prototype.clickHandler=function clickHandler(e){var t=e.isLink,i=e.href;t&&(window.open(i,"_blank"),this.signServices.actionSignDot(2,"4111422",this.materialData))},DanmuEffectServices.prototype.addBroadcast=function addBroadcast(e,t){var i=this,r=t.stayTime,n=t.coldTime,a=this.getPlaneAndBC(e,t,Boolean(r));if(this.realGo(a),!(n<=1e4)){var o=n+t.stayTime+1e4;setTimeout(function(){i.addBroadcast(e,t)},o)}},DanmuEffectServices.prototype.realGo=function realGo(e){this.broadcastManagerServices.addBroadcast(e),this.signServices.actionSignDot(1,"4111422",this.materialData)},DanmuEffectServices.prototype.getPlaneAndBC=function getPlaneAndBC(e,t){var i=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r?[{duration:5e3},{duration:t.stayTime},{duration:5e3}]:[{duration:1e4}],a={queue:r?"svga":null,type:r?"stopMiddle":"rightToLeft",animation:n,onClick:function onClick(){i.clickHandler(t)}};return this.broadcastManagerServices.getBroadcast(e,a)},DanmuEffectServices}(_.Service),p=_applyDecoratedDescriptor(f.prototype,"store",[r],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(f.prototype,"global",[n],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(f.prototype,"common",[a],{enumerable:!0,initializer:null}),b=_applyDecoratedDescriptor(f.prototype,"broadcastManagerServices",[o],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(f.prototype,"giftDataServices",[c],{enumerable:!0,initializer:null}),v=_applyDecoratedDescriptor(f.prototype,"giftSendServices",[s],{enumerable:!0,initializer:null}),y=_applyDecoratedDescriptor(f.prototype,"douyuBuffServices",[l],{enumerable:!0,initializer:null}),g=_applyDecoratedDescriptor(f.prototype,"signServices",[u],{enumerable:!0,initializer:null}),f);t.default=N},b00678:function(e,t,i){e.exports=i("2d6146")("86f8b")},b0352b:function(e,t,i){"use strict";var r,n,a,o,c,s,l,u=i("97a1f0"),f=i("7ca7dc"),p=i("eb3e22"),d=i("555639"),m=i("e854a7"),b=i("6db392"),h=i.n(b),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},y=_taggedTemplateLiteralLoose(['\n                <div class="BarrageCast is-giveALike-','">\n                    <span class="BarrageCast-headerIcon"></span>\n                    <div class="BarrageCast-content">\n                        <span class="BarrageCast-nickname">','</span>\n                        <span class="BarrageCast-nicknameSuffix">',"<i>","</i>","</span>\n                        \u4e3a\u4f60\u70b9\u8d5e\uff0c\u671f\u5f85\u4f60\u7684\u7cbe\u5f69\u53d1\u8a00\n                    </div>\n                </div>"],['\n                <div class="BarrageCast is-giveALike-','">\n                    <span class="BarrageCast-headerIcon"></span>\n                    <div class="BarrageCast-content">\n                        <span class="BarrageCast-nickname">','</span>\n                        <span class="BarrageCast-nicknameSuffix">',"<i>","</i>","</span>\n                        \u4e3a\u4f60\u70b9\u8d5e\uff0c\u671f\u5f85\u4f60\u7684\u7cbe\u5f69\u53d1\u8a00\n                    </div>\n                </div>"]),g=_taggedTemplateLiteralLoose(['\n                <div class="BarrageCast is-firePick">\n                    <span class="BarrageCast-headerIcon"></span>\n                    <div class="BarrageCast-content">\n                        \u4e3b\u64adpick\u4e86\n                        <span class="BarrageCast-nickname">',"\uff1a</span>\n                        ","\n                    </div>\n                </div>"],['\n                <div class="BarrageCast is-firePick">\n                    <span class="BarrageCast-headerIcon"></span>\n                    <div class="BarrageCast-content">\n                        \u4e3b\u64adpick\u4e86\n                        <span class="BarrageCast-nickname">',"\uff1a</span>\n                        ","\n                    </div>\n                </div>"]),_=_taggedTemplateLiteralLoose(['\n                <div class="BarrageCast is-ybHotDebate">\n                    <div class="BarrageCast-headerIcon">\n                        <div class="BarrageCast-avatarIcon">\n                            <img src="','" />\n                        </div>\n                    </div>\n                    <div class="BarrageCast-content">\n                        <span class="BarrageCast-nickname">',"\uff1a</span>\n                        ",'\n                    </div>\n                    <div class="BarrageCast-suffixIcon"></div>\n                </div>'],['\n                <div class="BarrageCast is-ybHotDebate">\n                    <div class="BarrageCast-headerIcon">\n                        <div class="BarrageCast-avatarIcon">\n                            <img src="','" />\n                        </div>\n                    </div>\n                    <div class="BarrageCast-content">\n                        <span class="BarrageCast-nickname">',"\uff1a</span>\n                        ",'\n                    </div>\n                    <div class="BarrageCast-suffixIcon"></div>\n                </div>']),S=_taggedTemplateLiteralLoose(['\n                <div class="BarrageCast is-fireStorm">\n                    <div class="BarrageCast-headerIcon">\n                        <div class="BarrageCast-avatarIcon">\n                            <img src="','" />\n                        </div>\n                    </div>\n                    <div class="BarrageCast-content">\n                        <span class="BarrageCast-identity">','</span>\n                        <span class="BarrageCast-nickname">','</span>\n                        \u5f00\u542f\u4e86\u706b\u529b\u98ce\u66b4, \u5feb\u70b9\u51fb"+1"\u5f97\u5956\u54c1, \u624b\u6162\u65e0~\n                    </div>\n                    <div class="BarrageCast-suffixIcon"></div>\n                </div>'],['\n                <div class="BarrageCast is-fireStorm">\n                    <div class="BarrageCast-headerIcon">\n                        <div class="BarrageCast-avatarIcon">\n                            <img src="','" />\n                        </div>\n                    </div>\n                    <div class="BarrageCast-content">\n                        <span class="BarrageCast-identity">','</span>\n                        <span class="BarrageCast-nickname">','</span>\n                        \u5f00\u542f\u4e86\u706b\u529b\u98ce\u66b4, \u5feb\u70b9\u51fb"+1"\u5f97\u5956\u54c1, \u624b\u6162\u65e0~\n                    </div>\n                    <div class="BarrageCast-suffixIcon"></div>\n                </div>']),w=_taggedTemplateLiteralLoose(['\n                <div class="BarrageCast is-barrageFeed">\n                    <div class="BarrageCast-headerIcon"></div>\n                    <div class="BarrageCast-content">\n                        <span class="BarrageCast-nickname">',"</span>\n                        \u6295\u5582\u4e86\u4f60\u7684\u5f39\u5e55[","]\uff0c\u83b7\u5f97","","~\n                    </div>\n                </div>"],['\n                <div class="BarrageCast is-barrageFeed">\n                    <div class="BarrageCast-headerIcon"></div>\n                    <div class="BarrageCast-content">\n                        <span class="BarrageCast-nickname">',"</span>\n                        \u6295\u5582\u4e86\u4f60\u7684\u5f39\u5e55[","]\uff0c\u83b7\u5f97","","~\n                    </div>\n                </div>"]);function _taggedTemplateLiteralLoose(e,t){return e.raw=t,e}function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var P=f.default.Service,D=m.default.socketStream,O=(r=P(d.default),n=P(p.DataCenter.global),a=Object(u.Inject)("live.playerAsideModule.ybHotDebateBarrageServices"),o=function(e){function BarrageCastServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageCastServices);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"broadcastManagerServices",c,i),_initDefineProp(i,"global",s,i),_initDefineProp(i,"ybHotDebateBarrageServices",l,i),i.option={queue:"platformBarrageCast",type:"rightToLeft",animation:[{duration:1e4,fillMode:"forwards"}]},i.getLevel=function(e){return e<4?1:e<7?2:3},i.giveLikeBarrageCast=function(e){var t=e.cnt,r=void 0===t?0:t,n=e.nks,a=void 0===n?"":n,o=i.getLevel(r),c=a.split("/").filter(Boolean).slice(0,3).join("\uff0c"),s=r>3?["\u7b49",r,"\u4f4d\u6c34\u53cb"]:["","",""],l=i.broadcastManagerServices.getBroadcast(i.broadcastManagerServices.saferHTML(y,o,c,s[0],s[1],s[2]),i.option);i.broadcastManagerServices.addBarrageBroadcast(l)},i.firePickBarrageCast=function(e){var t=e.name,r=void 0===t?"":t,n=e.barrage,a=void 0===n?"":n,o=i.broadcastManagerServices.getBroadcast(i.broadcastManagerServices.saferHTML(g,r,a),i.option);i.broadcastManagerServices.addBarrageBroadcast(o)},i.ybHotDebateBarrageCast=function(e){var t=e.avatar,r=void 0===t?"":t,n=e.name,a=void 0===n?"":n,o=e.text,c=void 0===o?"":o,s=e.jump_url_web;if(c){var l=i.broadcastManagerServices.getBroadcast(i.broadcastManagerServices.saferHTML(_,r||h.a,a,c),v({},i.option,{onClick:function onClick(){i.ybHotDebateBarrageServices.setData({visible:!0,iframeUrl:s}).subscribe()}}));i.broadcastManagerServices.addBarrageBroadcast(l)}},i.fireStormBarrageCast=function(e){var t=e.avatar,r=void 0===t?"":t,n=e.name,a=void 0===n?"":n,o=e.identity,c=void 0===o?"":o,s=i.broadcastManagerServices.getBroadcast(i.broadcastManagerServices.saferHTML(S,r||h.a,c,a),i.option);i.broadcastManagerServices.addBarrageBroadcast(s)},i.barrageFeedBarrageCast=function(e){var t=e.userName,r=e.barrageName,n=e.prizeCount,a=e.prizeName,o=i.broadcastManagerServices.getBroadcast(i.broadcastManagerServices.saferHTML(w,t,r,n,a),i.option);i.broadcastManagerServices.addBarrageBroadcast(o)},_possibleConstructorReturn(i,t)}return _inherits(BarrageCastServices,e),BarrageCastServices.prototype.init=function init(){var e=this;D.subscribe("dlr",function(t){var i=t||{};e.giveLikeBarrageCast(i)}),D.subscribe("fire_pick",function(t){var i=t||{};e.firePickBarrageCast(i)}),D.subscribe("yuba_reyidanmu",function(t){var i=t||{};e.ybHotDebateBarrageCast(i)}),D.subscribe("fire_start",function(t){var i=t||{},r=e.global.get("$ROOM").owner_avatar,n=i.mode,a=i.launch_type,o=i.name,c=i.avatar;2===+n&&e.fireStormBarrageCast({avatar:1===+a?c:r,name:1===+a?o:"",identity:1===+a?"\u623f\u7ba1":"\u4e3b\u64ad"})}),D.subscribe("barrage_feed_notice",function(t){var i=t||{},r=i.userName,n=i.barrageName,a=i.prizeCount,o=i.prizeName;e.barrageFeedBarrageCast({userName:r,barrageName:n,prizeCount:a,prizeName:o})})},BarrageCastServices}(u.Service),c=_applyDecoratedDescriptor(o.prototype,"broadcastManagerServices",[r],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"global",[n],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"ybHotDebateBarrageServices",[a],{enumerable:!0,initializer:null}),o);t.default=O},b399ab:function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f,p,d,m,b,h,v,y=i("97a1f0"),g=i("7ca7dc"),_=i("eb3e22"),S=i("54992a"),w=i("db47a7"),P=i("97a851"),D=i.n(P),O=i("e854a7"),T=i("ffca33"),E=i("56b0a1"),C=i("20ec0b"),j=i("555639"),k=i("e50f2c"),N=i("f489b9"),M=i("6ee421"),L=i("ee5978"),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var z=O.default.socketProxy,B=O.default.socketStream,A=g.default.Store,F=g.default.Service,x=new S.Logger,R=D.a.decode,H=(r=A(),n=F(_.DataCenter.global),a=F(_.DataCenter.common),o=F(j.default),c=F(k.default),s=F(E.default),l=F(C.default),u=function(e){function DanmuEffectServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DanmuEffectServices);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"store",f,i),_initDefineProp(i,"global",p,i),_initDefineProp(i,"common",d,i),_initDefineProp(i,"broadcastManagerServices",m,i),_initDefineProp(i,"broadcastShieldServices",b,i),_initDefineProp(i,"giftDataServices",h,i),_initDefineProp(i,"giftSendServices",v,i),i.isAppearanceDating=!1,_possibleConstructorReturn(i,t)}return _inherits(DanmuEffectServices,e),DanmuEffectServices.prototype.init=function init(e){B.subscribe(N.default.spbc,this.giftBroadcastHandler.bind(this)),this.loadJson(),this.addSendSuccess(),this.phCfg={},this.showTips=e},DanmuEffectServices.prototype.loadJson=function loadJson(){var e=this,t=this.global.get("$ROOM");this.uid=this.global.get("USER_INFO.uid"),this.rid=t.room_id,645===t.cate_id&&Object(T.default)({schema:L.default,url:"//webconf.douyucdn.cn/resource/common/yzxq_w.json",callbackName:"yzxq",type:"jsonp"}).subscribe(function(t){parseInt(t.error,10)||(e.isAppearanceDating=t.data.isOpen)})},DanmuEffectServices.prototype.addSendSuccess=function addSendSuccess(){var e=this;this.giftSendServices.giftSendCallbackFlow.subscribe(function(t){e.sendGiftSpbcMsg(t)}),this.giftSendServices.propSendCallbackFlow.subscribe(function(t){e.sendGiftSpbcMsg(t)})},DanmuEffectServices.prototype.sendGiftSpbcMsg=function sendGiftSpbcMsg(e){if(e){var t=e.messages,i=(void 0===t?[]:t).filter(function(e){return"spbc"===(e?R(e):{}).type});i[0]&&z.onMessage(R(i[0]))}},DanmuEffectServices.prototype.giftBroadcastHandler=function giftBroadcastHandler(e){var t=this,i=navigator.userAgent.indexOf("MSIE 9.0")>0;if(+e.sid!==+this.uid||1!==+e.from&&2!==+e.from)if(i){localStorage.getItem("no_gift_broadcast")||(localStorage.setItem("no_gift_broadcast",1),this.showTips())}else{this.startTime=window.performance.now(),this.n=this.n+1||1,x.log("spbc \u793c\u7269\u5e7f\u64ad\u6570\u636e\u6a21\u578b"+this.n+" \u5f00\u59cb\uff01");var r=Object.assign(e,{uid:e.sid});this.broadcastShieldServices.checkShowBroadcast("spbc",+e.pid).subscribe(function(i){i&&t.giftSendServices.giftMsgCheck(r).subscribe(function(i){i&&t.giftDataServices.getGiftBroadCastItem(e.bbi).subscribe(function(i){t.creatGiftBroadData(e,i)})})})}},DanmuEffectServices.prototype.creatSvgaBroadData=function creatSvgaBroadData(e,t){var r=this,n=e.picUrlPrefix,a=Math.abs(e.fontXTail-e.fontX),o=this.getDesList(t,e,t.gc||1),c="font-size:"+e.fontSize+"px; line-height: 36px;\n                    top: "+e.fontY+"px; left: "+e.fontX+"px; width: "+a+"px;",s=this.getPlaneAndBC('<div style="top:'+e.svgaHeadY+'px"><div style=""></div>\n            <div class="DanmuEffectBC-txt2" style="'+c+'"><div id="DanmuEffectBC-scroll">\n                <div class="DanmuEffectBC-addTxt">\n                    '+o.map(function(e){return'<span style="color:'+e.color+'">'+e.content+"</span>"}).join("")+'\n                </div><div id="DanmuEffectBC-addTxt" class="DanmuEffectBC-addTxt2">\n                    '+o.map(function(e){return'<span style="color:'+e.color+'">'+e.content+"</span>"}).join("")+"\n            </div></div></div></div>",t,!0),l=void 0,u=function initOk(){r.tt1=performance.now()-r.t1,s.dom.firstElementChild.firstElementChild.className="DanmuEffectBC-svga",r.realGo(s)},f=function reomve(){l.disposeSvga()},p=function wordStart(){var e=s.dom.querySelector("#DanmuEffectBC-addTxt").clientWidth>a;s.dom.querySelector("#DanmuEffectBC-addTxt").style.visibility=e?"visible":"hidden",s.dom.querySelector("#DanmuEffectBC-scroll").className=e?"DanmuEffectBC-scroll":""},d=function wordEnd(){s.dom.querySelector("#DanmuEffectBC-scroll").className=""};this.t1=performance.now(),this.SvgaLib?(l=this.playSvga(s.dom.firstElementChild,n+e.svga,u),s.options.animation[0].onAnimationEnd=p.bind(s.dom),s.options.animation[1].onAnimationEnd=d.bind(s.dom),s.options.animation[2].onAnimationEnd=f.bind(l)):Promise.all([i.e("vendors~shark-svga"),i.e("shark-svga")]).then(i.bind(null,"ba3a43")).then(function(t){r.SvgaLib=t.default,l=r.playSvga(s.dom.firstElementChild,n+e.svga,u),s.options.animation[0].onAnimationEnd=p.bind(s.dom),s.options.animation[1].onAnimationEnd=d.bind(s.dom),s.options.animation[2].onAnimationEnd=f.bind(l)})},DanmuEffectServices.prototype.playSvga=function playSvga(e,t,i){var r=new this.SvgaLib;return r.initDom(e),r.addSVGAPage({URL:t,type:2,initOk:i,fillType:3,align:2}),r},DanmuEffectServices.prototype.creatGiftBroadData=function creatGiftBroadData(e,t){var i=this;if(t&&t.svga)this.creatSvgaBroadData(t,e);else{var r=e.gc||1,n=this.getDesList(e,t||{nickColor:"#1D1D1D",otherColor:"#FFFF00",giftColor:"#1D1D1D"},r),a=t||this.getDefaultConfig(parseInt(e.es,10),e.bbi),o=t.picUrlPrefix;if(a.picCenter){var c=a.picHeadY||0;this.t1=performance.now(),this.getImageWidth([o+a.picHead,o+a.picCenter,o+a.picTail],a).then(function(t){i.tt1=performance.now()-i.t1;var r=I({},a,t[0],t[1],t[2]),s="width: "+r.hw+"px; height: "+r.hh+"px;",l="margin-top: "+(r.picCenterY-c)+"px; background-image: url("+(o+a.picCenter)+");",u="margin-top: "+(r.picTailY-c)+"px; width: "+r.fw+"px; height: "+r.fh+"px;",f="font-size:"+r.fontSize+"px; line-height: "+r.midH+"px;",p=+e.drid!==i.rid?"cursor: pointer;":"",d='<div class="DanmuEffectBC ani-base-hover" style="top: '+c+"px;"+p+'">\n                <img src='+(o+a.picHead)+' class="DanmuEffectBC-headerIcon" style="'+s+'"/>\n                <div class="DanmuEffectBC-content" style="'+l+'">\n                    <div class="DanmuEffectBC-txt" style="'+f+'">\n                        '+n.map(function(e){return'<span style="color:'+e.color+'">'+e.content+"</span>"}).join("")+"\n                    </div>\n                </div>\n                <img src="+(o+a.picTail)+' class="DanmuEffectBC-endDesc" style="'+u+'"/>\n            </div>';i.addBroadcast(d,e)})}else x.log(a.id+"=\u793c\u7269\u914d\u7f6e\u6570\u636e\u6709\u95ee\u9898")}},DanmuEffectServices.prototype.getImageWidth=function getImageWidth(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e,t){return new Promise(function(i){var r=new Image;r.onload=function(){i(0===t?{hw:r.width,hh:r.height}:1===t?{midH:r.height}:{fw:r.width,fh:r.height})},r.src=e})});return Promise.all(e)},DanmuEffectServices.prototype.addBroadcast=function addBroadcast(e,t){var i=this.getPlaneAndBC(e,t);this.realGo(i)},DanmuEffectServices.prototype.realGo=function realGo(e){x.log("spbc \u793c\u7269\u5e7f\u64ad\u6570\u636e\u6a21\u578b"+this.n+"\u8017\u65f6\u95f4\uff1a"+(performance.now()-this.startTime)+",--\u3010"+this.tt1+"\u3011"),this.broadcastManagerServices.addBroadcast(e)},DanmuEffectServices.prototype.getPlaneAndBC=function getPlaneAndBC(e,t){var i=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={queue:r?"svga":null,type:r?"stopMiddle":"rightToLeft",animation:r?[{duration:5e3},{duration:6e3},{duration:5e3}]:[{duration:15e3}],onClick:function onClick(){i.showGuessPanel(t)}};return this.broadcastManagerServices.getBroadcast(e,n)},DanmuEffectServices.prototype.showGuessPanel=function showGuessPanel(e){if(Number(e.drid)!==Number(this.rid)){window.open("/"+e.drid);var t=void 0;t=1===Number(e.es)?"click_outside_box_msgrocket":2===Number(e.es)?"click_outside_box_msgplane":void 0;var i=parseInt(e.bid.split("_")[1],10);i||(i="0"),t&&Object(w.dysub)(t,{sid:e.sid,srid:e.rid,gfid:e.gfid,rocc:e.bgl,rocid:e.bid,st:i})}},DanmuEffectServices.prototype.getDesList=function getDesList(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return[{content:e.sn,color:t.nickColor},{content:this.isAppearanceDating?"\u5728":"\u8d60\u9001\u7ed9",color:t.otherColor},{content:!this.isAppearanceDating&&e.shn?e.shn:e.dn,color:t.nickColor},{content:this.isAppearanceDating?"\u7684\u623f\u95f4\u9001\u51fa"+i+"\u4e2a"+e.gn:i+"\u4e2a"+e.gn,color:t.giftColor},{content:"\uff0c\u5feb\u6765\u56f4\u89c2\u5427~ ~ ~",color:t.otherColor}]},DanmuEffectServices.prototype.getDefaultConfig=function getDefaultConfig(e,t){var i=void 0;switch(e){case 1:i={picHead:M.default.hHImg,picCenter:M.default.hMImg,picTail:M.default.hEImg,picCenterY:40,picTailY:40};break;case 2:i={picHead:M.default.HImg,picCenter:M.default.MImg,picTail:M.default.EImg,picCenterY:17,picTailY:17};break;case 101:i={picHead:M.default.shHImg,picCenter:M.default.shMImg,picTail:M.default.shEImg,picCenterY:42,picTailY:42};break;case 4:i={picHead:M.default.scHImg,picCenter:M.default.scMImg,picTail:M.default.scEImg,picCenterY:18,picTailY:18}}return i.id=t,i},DanmuEffectServices}(y.Service),f=_applyDecoratedDescriptor(u.prototype,"store",[r],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(u.prototype,"global",[n],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(u.prototype,"common",[a],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(u.prototype,"broadcastManagerServices",[o],{enumerable:!0,initializer:null}),b=_applyDecoratedDescriptor(u.prototype,"broadcastShieldServices",[c],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(u.prototype,"giftDataServices",[s],{enumerable:!0,initializer:null}),v=_applyDecoratedDescriptor(u.prototype,"giftSendServices",[l],{enumerable:!0,initializer:null}),u);t.default=H},b51dbe:function(e,t,i){},b77395:function(e,t,i){e.exports=i("5f575e")("d30db")},b81f70:function(e,t,i){"use strict";var r=i("d61385"),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};t.default={ticketLoginStatus:function ticketLoginStatus(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case r.SHOW_NOT_LOGGED:return n({status:1},t.payload);case r.CLOSE_NOT_LOGGED:return{status:0};default:return e}},ticketTrySeeEnd:function ticketTrySeeEnd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case r.SHOW_TRY_SEE_END:return n({status:1},t.payload);case r.CLOSE_TRY_SEE_END:return{status:0};default:return e}},showBuyTicket:function showBuyTicket(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case r.SHOW_BUY_TICKET:return n({status:1},t.payload);case r.CLOSE_BUY_TICKET:return{status:0};default:return e}},ticketTipsData:function ticketTipsData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case r.SHOW_TICKET_TIPS:return n({status:1},t.payload);case r.ClOSE_TICKET_TIPS:return{status:0};default:return e}}}},bb9034:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_d6f4b82.png"},bcacc5:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/c2_a7842c2.png"},bd3638:function(e,t,i){"use strict";var r=i("49f3e7");t.default=r.default},bdcd1c:function(e,t,i){},bec389:function(e,t,i){"use strict";var r=i("97a1f0"),n=i("eb3e22"),a=i("722b8a"),o=i("7ca7dc"),c=i("ffca33"),s=(i("f12a2c"),i("6e3e4f")),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var u=function(e,t,i,r){var n,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===("undefined"===typeof Reflect?"undefined":l(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(o=(a<3?n(o):a>3?n(t,i,o):n(t,i))||o);return a>3&&o&&Object.defineProperty(t,i,o),o},f=o.default.Store,p=function(e){function DouyuBuffServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DouyuBuffServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments));return t.isLoading=!1,t}return _inherits(DouyuBuffServices,e),DouyuBuffServices.prototype.toggleShowPanel=function toggleShowPanel(){this.store.dispatch(s.default.toggle())},DouyuBuffServices.prototype.getLatest=function getLatest(){var e=this;if(!this.isLoading)return this.isLoading=!0,new Promise(function(t,i){Object(c.default)({url:"/japi/bizmisc/dybuff/promotion/latest",type:"get",contentType:"application/x-www-form-urlencoded",noCache:!0,data:{roomid:e.global.get("$ROOM.room_id")}}).subscribe(function(n){var o=n.error,c=n.msg;if(0===o){var s=r.GSON.parse(n.data);t(s)}else a.default.info(c||"\u7f51\u7edc\u9519\u8bef"),i();e.isLoading=!1})})},DouyuBuffServices.prototype.stopOrder=function stopOrder(e){var t=this;if(!this.isLoading)return this.isLoading=!0,new Promise(function(i){Object(c.default)({url:"/japi/bizmisc/dybuff/promotion/stop",type:"post",data:e,contentType:"form"}).subscribe(function(e){var r=e.error,n=e.msg;0===r?i(!0):(a.default.info(n||"\u7f51\u7edc\u9519\u8bef"),i(!1)),t.isLoading=!1})})},DouyuBuffServices.prototype.addOrder=function addOrder(e){var t=this;if(!this.isLoading)return this.isLoading=!0,new Promise(function(i){Object(c.default)({url:"/japi/bizmisc/dybuff/promotion/add",type:"post",data:Object.assign({},e,{roomid:t.global.get("$ROOM.room_id")}),contentType:"form"}).subscribe(function(e){var r=e.error,n=e.msg;0===r?i(!0):(a.default.info(n||"\u7f51\u7edc\u9519\u8bef"),i(!1)),t.isLoading=!1})})},DouyuBuffServices.prototype.listTag=function listTag(){var e=this;if(!this.isLoading)return this.isLoading=!0,new Promise(function(t,i){Object(c.default)({url:"/japi/bizmisc/dybuff/promotion/listTag",type:"get",contentType:"application/x-www-form-urlencoded",noCache:!0}).subscribe(function(r){var n=r.error,o=r.msg;0===n?t(r.data):(a.default.info(o||"\u7f51\u7edc\u9519\u8bef"),i()),e.isLoading=!1})})},DouyuBuffServices.prototype.latestSendWord=function latestSendWord(){var e=this;if(!this.isLoading)return this.isLoading=!0,new Promise(function(t,i){Object(c.default)({url:"/japi/bizmisc/dybuff/promotion/sendWord/latestSendWord",type:"get",contentType:"application/x-www-form-urlencoded",noCache:!0}).subscribe(function(n){var o=n.error,c=n.msg;if(0===o){var s=r.GSON.parse(n.data);t(s)}else a.default.info(c||"\u7f51\u7edc\u9519\u8bef"),i();e.isLoading=!1})})},DouyuBuffServices.prototype.anchorReplySwitch=function anchorReplySwitch(e){var t=this;if(!this.isLoading)return this.isLoading=!0,new Promise(function(i){Object(c.default)({url:"/japi/bizmisc/dybuff/promotion/sendWord/anchorReplySwitch",type:"post",data:e,contentType:"application/x-www-form-urlencoded",noCache:!0}).subscribe(function(e){var r=e.error,n=e.msg;0===r?i(!0):(a.default.info(n||"\u7f51\u7edc\u9519\u8bef"),i(!1)),t.isLoading=!1})})},DouyuBuffServices.prototype.searchAnchor=function searchAnchor(e){var t=this;if(!this.isLoading)return this.isLoading=!0,new Promise(function(i,r){Object(c.default)({url:"/japi/bizmisc/dybuff/promotion/searchRome",type:"post",data:e,contentType:"application/x-www-form-urlencoded",noCache:!0}).subscribe(function(e){var n=e.error,o=e.msg;0===n?i(e.data):(a.default.info(o||"\u7f51\u7edc\u9519\u8bef"),r()),t.isLoading=!1})})},DouyuBuffServices}(r.Service);u([Object(r.Inject)(n.DataCenter.global)],p.prototype,"global",void 0),u([f()],p.prototype,"store",void 0),p=u([Object(r.Injectable)("live.menuModule.DouyuBuffServices")],p),t.default=p},bee09c:function(e,t,i){e.exports=i("5f575e")("fd4d2")},bf6693:function(e,t,i){"use strict";i.d(t,"default",function(){return h});var r,n,a,o,c=i("1a22b7"),s=i.n(c),l=i("7ca7dc"),u=i("eb3e22"),f=i("54992a"),p=i("182d49"),d=i.n(p),m=i("ac64b0"),b=(i("0fc347"),"/shark/live/src/pages/roomPage/playerModule/components/VRTips/vrTips.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var h=(r=(0,l.default.Service)(u.DataCenter.acj),Object(f.log)((a=function(e){function LoadTips(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoadTips);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(t,"acj",o,t),t.closeTips=function(){t.setState({showTips:!1})},t.state={showTips:!1},t}return _inherits(LoadTips,e),LoadTips.prototype.componentDidMount=function componentDidMount(){var e=this;this.acj.get(m.ROOM_TYPE.ROOM_BUS_IS_VRROOM).subscribe(function(){e.setState({showTips:!0})})},LoadTips.prototype.render=function render(){var e=this.state.showTips,t=this.props.smallPlayerSize,i=void 0!==t&&t;return s.a.createElement("div",{className:"VRTips",onClick:this.closeTips,style:{display:!i&&e?"block":"none"},__source:{fileName:b,lineNumber:45},__self:this},s.a.createElement("div",{className:"VRTips-forH5",__source:{fileName:b,lineNumber:52},__self:this},"\u4ec5\u652f\u6301H5\u64ad\u653e\u5668 "),s.a.createElement("img",{className:"VRTips-img",src:d.a,alt:"\u4e3b\u64ad\u6b63\u5728\u4f7f\u7528VR\u8bbe\u5907\u76f4\u64ad\uff0c\u4e0b\u8f7d\u5b89\u88c5\u6597\u9c7cAPP\u6700\u65b0\u7248\u89c2\u770b\u6548\u679c\u66f4\u4f73\u54e6",__source:{fileName:b,lineNumber:53},__self:this}),s.a.createElement("div",{className:"VRTips-desc",__source:{fileName:b,lineNumber:54},__self:this},"\u4e3b\u64ad\u6b63\u5728\u4f7f\u7528",s.a.createElement("span",{__source:{fileName:b,lineNumber:54},__self:this},"VR\u8bbe\u5907"),"\u76f4\u64ad"),s.a.createElement("div",{className:"VRTips-desc",__source:{fileName:b,lineNumber:55},__self:this},"\u53ef\u5728\u64ad\u653e\u5668",s.a.createElement("span",{__source:{fileName:b,lineNumber:55},__self:this},"\u7a7a\u767d\u533a\u57df\u62d6\u52a8"),"\u8fdb\u884c360\xb0\u7684\u89c2\u770b"),s.a.createElement("div",{className:"VRTips-close",__source:{fileName:b,lineNumber:56},__self:this},"\u70b9\u51fb\u8be5\u9762\u677f\u4efb\u610f\u4f4d\u7f6e\u5173\u95ed\u8be5\u63d0\u793a"))},LoadTips}(s.a.Component),o=function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(a.prototype,"acj",[r],{enumerable:!0,initializer:null}),n=a))||n)},c03d0d:function(e,t,i){"use strict";var r,n,a,o=i("7ca7dc"),c=i("bee09c");var s=(r=(0,o.default.Service)(c.default),a=function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}((n=function PlayerEpics(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlayerEpics),function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(this,"playerService",a,this)}).prototype,"playerService",[r],{enumerable:!0,initializer:null}),n);t.default=s},c661aa:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_140fd6a.png"},c731d7:function(e,t,i){e.exports=i("5f575e")("20ae5")},c8cf22:function(e,t,i){"use strict";var r=i("63fe47"),n=i("b81f70"),a=i("cf0593"),o=i("26d616");t.default=Object.assign({},r.default,n.default,o.default,{playerModuleSwitch:a.default.playerModuleSwitch})},cb8c6f:function(e,t,i){e.exports=i("5f575e")("de0e2")},cbdb46:function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f=i("1a22b7"),p=i.n(f),d=i("7ca7dc"),m=i("54992a"),b=i("eb3e22"),h=(i("ebce07"),i("ac64b0"));function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var v=d.default.Service,y=0,g={interval:86400,screenState:0,rushHour:[{start:20,end:23,interval:2400}],listenInterval:3e4},_=!1,S=+new Date,w=(r=v(b.DataCenter.localStorage),n=v(b.DataCenter.acj),a=v(b.DataCenter.event),Object(m.log)((c=function(e){function FreeTime(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FreeTime);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"localStorage",s,t),_initDefineProp(t,"acj",l,t),_initDefineProp(t,"event",u,t),t.showIdleliveAdjustRemind=1,t.moveTimer=0,t.log("test"),t.onHandler=t.onHandler.bind(t),t}return _inherits(FreeTime,e),FreeTime.prototype.componentDidMount=function componentDidMount(){var e=this;this.acj.get(h.ROOM_TYPE.ROOM_DATA_IDLE).subscribe(function(){e.startListening()}),this.acj.get(h.ROOM_TYPE.ROOM_DATA_IDLE_DP).subscribe(function(t){var i=e.dpData(t.stage,t);e.dp(i),e.log("flash\u6253\u70b9"),3===parseInt(t.stage,10)&&(e.log("\u70b9\u51fb\u7ee7\u7eed\u89c2\u770b"),e.startListening()),4===parseInt(t.stage,10)&&(e.log("\u5012\u8ba1\u65f6\u7ed3\u675f,\u505c\u6b62\u76d1\u542c"),e.stopListening())}),this.acj.get(h.ROOM_TYPE.ROOM_SCREENCHANGE).subscribe(function(t){g.screenState=parseInt(t.state,10)||0,0===g.screenState?e.startListening():e.stopListening()})},FreeTime.prototype.log=function log(e){-1!==window.location.href.indexOf("freetime_debug")&&(window.FreeTime=this,window.console&&console.log&&console.log(e," FreeTime ",new Date))},FreeTime.prototype.startListening=function startListening(){var e=this;_=!1,S=+new Date,this.startMoveInterval(),this.event.mousemove().subscribe(function(){e.onHandler()}),this.log("\u76d1\u542c\u5f00\u542f")},FreeTime.prototype.onHandler=function onHandler(){this.moveMouse(),this.startMoveInterval(),this.log("\u7528\u6237\u79fb\u52a8\u9f20\u6807")},FreeTime.prototype.stopListening=function stopListening(){_=!1,S=+new Date,this.stopMoveInterval(),document.removeEventListener("mousemove",this.onHandler),this.log("\u76d1\u542c\u5173\u95ed")},FreeTime.prototype.startMoveInterval=function startMoveInterval(){var e=this;return!this.localStorage.get("freetimed")&&(clearTimeout(y),y=setTimeout(function(){var t=new Date,i=e.getIdleInterval();t.getTime()-S>1e3*i&&!1===_&&e.handleTimeUp(),e.startMoveInterval(),e.log("\u7528\u6237\u957f\u65f6\u95f4\u65e0\u64cd\u4f5c\u76d1\u542c")},g.listenInterval),null)},FreeTime.prototype.stopMoveInterval=function stopMoveInterval(){clearTimeout(y)},FreeTime.prototype.moveMouse=function moveMouse(){S=+new Date,!0===_&&this.hideHandle()},FreeTime.prototype.handleTimeUp=function handleTimeUp(){this.showHandle(),this.dpOverTime()},FreeTime.prototype.getIdleInterval=function getIdleInterval(){var e=(new Date).getHours(),t=g.interval;return g.rushHour.map(function(i){return e>=i.start&&e<i.end?(t=i.interval,!1):null}),t},FreeTime.prototype.__setDebug=function __setDebug(e,t){var i=(new Date).getHours();g.rushHour.unshift({start:i,end:i+2,interval:+e||10}),g.listenInterval=1e3*(+t||12)},FreeTime.prototype.showHandle=function showHandle(){_=!0,this.log("\u8ba1\u65f6\u7ed3\u675f,\u663e\u793a\u906e\u7f69,\u5173\u95ed\u76f4\u64ad\u6d41!"),this.acj.push(h.JS_TYPE.JS_USERNOHANDLE,{},0),this.localStorage.set("freetimed",!0,this.getRestTime()/1e3)},FreeTime.prototype.checkInHighTime=function checkInHighTime(){var e=(new Date).getHours(),t=g.rushHour[0];return!(e>=t.start&&e<t.end)},FreeTime.prototype.getRestTime=function getRestTime(){var e=new Date;return e.setDate(e.getDate()+0),e.setHours(24),e.setMinutes(0),e.setSeconds(0),e.getTime()-(new Date).getTime()},FreeTime.prototype.hideHandle=function hideHandle(){_=!1,this.acj.push(h.JS_TYPE.JS_USERHAVEHANDLE,{},0),this.log("\u79fb\u9664\u906e\u7f69!")},FreeTime.prototype.dp=function dp(e){try{DYS.sub(e)}catch(e){}},FreeTime.prototype.dpOverTime=function dpOverTime(){var e=this.dpData(this.showIdleliveAdjustRemind);e.ot=this.getNowUnixTime(),this.dp(e)},FreeTime.prototype.dpData=function dpData(e,t){var i={},r="";try{switch(parseInt(e,10)){case 1:r="show_idlelive_adjust_remind";break;case 2:r="show_idlelive_adjust_recover";break;case 3:r="click_idlelive_adjust_continue";break;case 4:r="show_idlelive_adjust_close"}i={action_code:r},t&&t.pt&&(i.pt=t.pt),t&&t.ot&&(i.ot=t.ot),t&&t.e&&(i.e=t.e)}catch(e){}return i},FreeTime.prototype.getNowUnixTime=function getNowUnixTime(){return Math.round((new Date).getTime()/1e3)},FreeTime.prototype.render=function render(){return p.a.createElement("div",{__source:{fileName:"/shark/live/src/pages/roomPage/playerModule/components/FreeTime/FreeTime.js",lineNumber:314},__self:this})},FreeTime}(p.a.Component),s=_applyDecoratedDescriptor(c.prototype,"localStorage",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(c.prototype,"acj",[n],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"event",[a],{enumerable:!0,initializer:null}),o=c))||o);t.default=w},cdc07d:function(e,t,i){"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var r=new(function(e){function SmoothScroll(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SmoothScroll);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),i.smoothScrollTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!i.scrolling){var r=document.documentElement.scrollTop||document.body.scrollTop;if(i.distance=r-e,0!==i.distance){i.scrolling=!0,i.endFn=t;var n=parseInt(Math.abs(i.distance)/20,10);i.scrollSmooth(r,e,n)}}},i.scrollSmooth=function(e,t,r){var n=i.distance>0?i.scrollUp:i.scrollDown;i.scrollDistance=e,window.requestAnimationFrame?i.timer=window.requestAnimationFrame(function(){n(t,r)}):i.timer=setTimeout(function(){return n(t,r)},10)},i.scrollDown=function(e,t){i.scrollDistance<=e?(window.scrollTo(0,i.scrollDistance),i.scrollDistance+=t,i.scrollSmooth(i.scrollDistance,e,t)):(window.scrollTo(0,e),i.scrolling=!1,i.endFn(),i.timer&&(window.cancelAnimationFrame?cancelAnimationFrame(i.timer):clearTimeout(i.timer)))},i.scrollUp=function(e,t){i.scrollDistance>=e?(window.scrollTo(0,i.scrollDistance),i.scrollDistance-=t,i.scrollSmooth(i.scrollDistance,e,t)):(window.scrollTo(0,e),i.scrolling=!1,i.endFn(),i.timer&&(window.cancelAnimationFrame?cancelAnimationFrame(i.timer):clearTimeout(i.timer)))},_possibleConstructorReturn(i,t)}return _inherits(SmoothScroll,e),SmoothScroll}(i("97a1f0").Service));t.default={smoothScrollTo:r.smoothScrollTo}},cf0593:function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};t.default={playerModuleSwitch:function playerModuleSwitch(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function checkActionType(e,t){return!!(Array.isArray(e)&&e.indexOf(t)>=0||t===e)}(t.type,"PLAYER_UPDATE_LAZY_SWITCH")?r({},e,t.payload.data):e}}},d1db8c:function(e,t){e.exports=playerSDK2da5b1f3a3deccaa435b},d61385:function(e,t,i){e.exports=i("5f575e")("b010d")},da4594:function(e,t,i){e.exports=i("5f575e")("5795a")},db47a7:function(e,t,i){e.exports=i("2d6146")("fce11")},dc3ca9:function(e,t,i){},ddb15e:function(e,t,i){"use strict";var r,n,a,o=i("1a22b7"),c=i.n(o),s=i("447d8e"),l=i("7ca7dc"),u=i("36fb5d"),f="/shark/live/src/pages/roomPage/playerModule/components/Ticket/MatchTrySeeEnd.js";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var p=(r=(0,l.default.Service)(u.default),n=function(e){function MatchTrySeeEnd(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchTrySeeEnd);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(i,"ticketService",a,i),i.showPayMode=function(){var e=(i.props.ticketTrySeeEnd||{}).config,t=void 0===e?{}:e;1===t.payment_mode?i.ticketService.showBuyTicketDialog({ticketId:t.event_id}):2===t.payment_mode?i.ticketService.showTicketVipPanel():3===t.payment_mode&&i.ticketService.showLplFirstPerspectivePayPanl(),i.ticketService.dpTool("clickTrySeeEnd",t.event_id)},_possibleConstructorReturn(i,t)}return _inherits(MatchTrySeeEnd,e),MatchTrySeeEnd.prototype.render=function render(){var e=this.props.ticketTrySeeEnd||{},t=e.config,i=void 0===t?{}:t;return 1!==e.status?null:c.a.createElement("div",{className:"MatchTrySeeEnd",__source:{fileName:f,lineNumber:45},__self:this},c.a.createElement("div",{className:"MatchTrySeeEnd-main",__source:{fileName:f,lineNumber:46},__self:this},c.a.createElement("div",{className:"MatchTrySeeEnd-pic",__source:{fileName:f,lineNumber:47},__self:this},i.eticket_tip_resource?c.a.createElement("img",{src:i.eticket_tip_resource,__source:{fileName:f,lineNumber:50},__self:this}):null),c.a.createElement("div",{className:"MatchTrySeeEnd-btn",onClick:this.showPayMode,title:i.pay_button,__source:{fileName:f,lineNumber:55},__self:this},i.pay_button||"--")))},MatchTrySeeEnd}(c.a.Component),a=function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(n.prototype,"ticketService",[r],{enumerable:!0,initializer:null}),n);t.default=Object(s.connect)(function mapStateToProps(e){return{ticketTrySeeEnd:e.ticketTrySeeEnd}})(p)},def518:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_2d98f39.png"},e19de5:function(e,t,i){e.exports=i("5f575e")("4fb21")},e4b72c:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_c99e980.png"},e50f2c:function(e,t,i){e.exports=i("5f575e")("17d71")},e73313:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_4eb253e.png"},e854a7:function(e,t,i){e.exports=i("5f575e")("a5ed5")},e95856:function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f,p,d,m,b,h,v,y=i("97a1f0"),g=i("7ca7dc"),_=i("eb3e22"),S=i("e854a7"),w=i("56b0a1"),P=i("20ec0b"),D=i("555639"),O=i("6ee421"),T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var E=S.default.socketStream,C=g.default.Store,j=g.default.Service,k=(r=C(),n=j(_.DataCenter.global),a=j(_.DataCenter.common),o=j(D.default),c=j(w.default),s=j(P.default),l=Object(y.Inject)("live.biz.DouyuBuffServices"),u=function(e){function DanmuEffectServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DanmuEffectServices);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"store",f,i),_initDefineProp(i,"global",p,i),_initDefineProp(i,"common",d,i),_initDefineProp(i,"broadcastManagerServices",m,i),_initDefineProp(i,"giftDataServices",b,i),_initDefineProp(i,"giftSendServices",h,i),_initDefineProp(i,"douyuBuffServices",v,i),i.isAppearanceDating=!1,_possibleConstructorReturn(i,t)}return _inherits(DanmuEffectServices,e),DanmuEffectServices.prototype.init=function init(){E.subscribe("promotion",this.giftBroadcastHandler.bind(this)),this.phCfg={}},DanmuEffectServices.prototype.giftBroadcastHandler=function giftBroadcastHandler(e){1!==+e.b_t&&this.creatGiftBroadData(e)},DanmuEffectServices.prototype.playSvga=function playSvga(e,t,i){var r=new this.SvgaLib;return r.initDom(e),r.addSVGAPage({URL:t,type:2,initOk:i,fillType:3,align:2}),r},DanmuEffectServices.prototype.creatGiftBroadData=function creatGiftBroadData(e){var t=this,i=this.getDefaultConfig(),r=i.picHeadY||0,n=this.global.get("$ROOM.owner_uid"),a=parseInt(_.DataCenter.global.get("USER_INFO.uid"),10)===+n;this.getImageWidth([i.picHead,i.picCenter,i.picTail],i).then(function(n){var o=T({},i,n[0],n[1],n[2]),c="margin-top: -23px; width: "+o.hw+"px; height: "+o.hh+"px;",s="margin-top: "+(o.picCenterY-r)+"px; background-image: url("+i.picCenter+");",l="margin-top: "+(o.picTailY-r)+"px; width: "+o.fw+"px; height: "+o.fh+"px;",u="font-size:"+o.fontSize+"px; line-height: "+o.midH+"px;",f='<div class="DanmuEffectBC ani-base-hover buffDanmu" style="top: '+r+"px;"+(a?"cursor: pointer;":"")+'">\n                <div class="buffDanmu-headWrap">\n                    <img src='+i.picHead+' class="DanmuEffectBC-headerIcon buffDanmu-headOut" style="'+c+'"/>\n                    <img src='+(function isImg(e){return e&&(e.includes(".jpg")||e.includes(".png")||e.includes(".jpeg")||e.includes(".gif"))}(e.f_i)?e.f_i:"https://apic.douyucdn.cn/upload/avatar/default/11_middle.jpg")+' class="DanmuEffectBC-headerIcon buffDanmu-headIn"/>\n                </div>\n                <div class="DanmuEffectBC-content" style="'+s+'">\n                    <div class="DanmuEffectBC-txt buffDanmu-row" style="'+u+'">\n                        '+(a?'<span><span class="buffDanmu-name">'+e.f_n+'</span>\u6b63\u5728\u4e3a\u4f60\u52a0Buff\uff0c<span onClick={this.clickHandler} class="buffDanmu-clickText">\u70b9\u51fb\u53c2\u4e0e</span></span>':"<span>"+e.f_n+"\u4e3a\u4e3b\u64ad\u5f00\u542f\u4e86Buff\uff0c\u5feb\u6765\u56f4\u89c2\u5427~</span>")+"\n                    </div>\n                </div>\n                <img src="+i.picTail+' class="DanmuEffectBC-endDesc" style="'+l+'"/>\n            </div>';t.addBroadcast(f,e)})},DanmuEffectServices.prototype.clickHandler=function clickHandler(){this.douyuBuffServices.toggleShowPanel().subscribe()},DanmuEffectServices.prototype.getImageWidth=function getImageWidth(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e,t){return new Promise(function(i){var r=new Image;r.onload=function(){i(0===t?{hw:r.width,hh:r.height}:1===t?{midH:r.height}:{fw:r.width,fh:r.height})},r.src=e})});return Promise.all(e)},DanmuEffectServices.prototype.addBroadcast=function addBroadcast(e,t){var i=this.getPlaneAndBC(e,t);this.realGo(i)},DanmuEffectServices.prototype.realGo=function realGo(e){this.broadcastManagerServices.addBroadcast(e)},DanmuEffectServices.prototype.getPlaneAndBC=function getPlaneAndBC(e,t){var i=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={queue:r?"svga":null,type:r?"stopMiddle":"rightToLeft",animation:r?[{duration:5e3},{duration:6e3},{duration:5e3}]:[{duration:15e3}],onClick:function onClick(){i.clickHandler(t)}};return this.broadcastManagerServices.getBroadcast(e,n)},DanmuEffectServices.prototype.getDefaultConfig=function getDefaultConfig(){return{picHead:O.default.buffHImg,picCenter:O.default.buffMImg,picTail:O.default.buffEImg,picCenterY:17,picTailY:17}},DanmuEffectServices}(y.Service),f=_applyDecoratedDescriptor(u.prototype,"store",[r],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(u.prototype,"global",[n],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(u.prototype,"common",[a],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(u.prototype,"broadcastManagerServices",[o],{enumerable:!0,initializer:null}),b=_applyDecoratedDescriptor(u.prototype,"giftDataServices",[c],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(u.prototype,"giftSendServices",[s],{enumerable:!0,initializer:null}),v=_applyDecoratedDescriptor(u.prototype,"douyuBuffServices",[l],{enumerable:!0,initializer:null}),u);t.default=k},e95ae8:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_249afa1.png"},e9ec7b:function(e,t,i){e.exports=i("5f575e")("8c861")},eb3e22:function(e,t,i){e.exports=i("d1db8c")("e55c4")},ebbc76:function(e,t,i){},ebce07:function(e,t,i){},eca124:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_c655697.png"},ecc76b:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_cdee5d6.png"},ed1c3e:function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f,p=i("97a1f0"),d=i("7ca7dc"),m=i("eb3e22"),b=i("ac64b0"),h=i("f7168b"),v=i("16358b");function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var y=d.default.Service,g=(r=y(m.DataCenter.acj),n=y(m.DataCenter.event),a=y(h.default),o=y(v.default),c=function(e){function FullScreenServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FullScreenServices);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"acj",s,i),_initDefineProp(i,"event",l,i),_initDefineProp(i,"roomService",u,i),_initDefineProp(i,"commonToolbarService",f,i),_possibleConstructorReturn(i,t)}return _inherits(FullScreenServices,e),FullScreenServices.prototype.init=function init(){var e=this;this.isFull=!0,this.acj.get(b.ROOM_TYPE.ROOM_BUS_PAGESCR).subscribe(function(t){var i=(t||{}).flag,r=document.getElementsByTagName("body")[0],n="is-fullScreenPage";i?(e.removeClass(r,n),e.removeClass(r,"is-fullScreenAll")):(e.removeClass(r,n),e.removeClass(r,"is-fullScreenAll"),e.addClass(r,n))}),document.getElementsByClassName("layout-Player-asidetoggleButton")[0].addEventListener("click",function(){e.setWebFullScreen()})},FullScreenServices.prototype.addClass=function addClass(e,t){var i=e,r=i.className+(""!==i?" ":"")+t;i.className=r},FullScreenServices.prototype.removeClass=function removeClass(e,t){var i=e,r=(" "+i.className+" ").replace(/(\s+)/gi," ").replace(" "+t+" "," ").replace(/(^\s+)|(\s+$)/g,"");i.className=r},FullScreenServices.prototype.setWebFullScreen=function setWebFullScreen(){this.acj.push(b.JS_TYPE.JS_PAGE_FULLSCREEN_STATE,{flag:this.isFull}),this.isFull=!this.isFull,this.roomService.playerLayoutChange()},FullScreenServices}(p.Service),s=_applyDecoratedDescriptor(c.prototype,"acj",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(c.prototype,"event",[n],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"roomService",[a],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(c.prototype,"commonToolbarService",[o],{enumerable:!0,initializer:null}),c);t.default=g},ed7240:function(e,t,i){e.exports=i("5f575e")("c1dfd")},ee5978:function(e,t,i){"use strict";var r,n,a,o=i("eb3e22"),c=i("54992a");function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var s=o.basicTypes.mapping,l=o.basicTypes.number,u=s({isOpen:"is_open"})(r=Object(c.log)((n=function(e){function YzxqDto(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,YzxqDto);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(i,"isOpen",a,i),_possibleConstructorReturn(i,t)}return _inherits(YzxqDto,e),YzxqDto}(o.EntityDto),a=function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(n.prototype,"isOpen",[l],{enumerable:!0,initializer:null}),r=n))||r)||r;t.default=u},ee9085:function(e,t,i){e.exports=i("5f575e")("9164e")},f12a2c:function(e,t,i){"use strict";i("f5eb25"),i("b51dbe")},f30dce:function(e,t,i){"use strict";var r,n,a,o,c,s,l,u,f,p=i("97a1f0"),d=i("7ca7dc"),m=i("eb3e22"),b=i("456fdc"),h=i.n(b),v=i("643726"),y=i("ffca33");function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var n=i[r],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,r,n){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var g=d.default.Service;var _=(r=g(h.a),n=g(m.DataCenter.acj),a=g(m.DataCenter.global),o=g(m.DataCenter.cookie),c=function(e){function PIPVideoAdService(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PIPVideoAdService);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(i,"signServices",s,i),_initDefineProp(i,"acj",l,i),_initDefineProp(i,"global",u,i),_initDefineProp(i,"cookie",f,i),_possibleConstructorReturn(i,t)}return _inherits(PIPVideoAdService,e),PIPVideoAdService.prototype.getParams=function getParams(e){var t=this;return new Promise(function(i){Object(v.default)({}).subscribe(function(r){var n=r.data;i({ver:t.signServices.getVersion(),uid:t.global.get("USER_INFO.uid")||"",roomid:n.get("room.room_id"),cate1:n.get("room.category_id"),cate2:n.get("room.cate_id"),posid:e})})})},PIPVideoAdService.prototype.request=function request(e){var t=this.global.get("$SYS.adDomain")||"";return new Promise(function(i,r){Object(y.default)({url:t+"/japi/adx/gateway/web/getinfo",type:"post",csrf:!1,contentType:"application/x-www-form-urlencoded",data:e}).subscribe(function(e){var t=e.error,n=e.data;if(0!==parseInt(t,10))return r(t);var a=function parseResponseData(e){return e.map(function(e){return"string"===typeof e?p.GSON.parse(e)||{}:e})}(n||[]);return i(a)})})},PIPVideoAdService.prototype.fetchPIPVideoAdMaterialList=function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,i){return function step(r,n){try{var a=t[r](n),o=a.value}catch(e){return void i(e)}if(!a.done)return Promise.resolve(o).then(function(e){step("next",e)},function(e){step("throw",e)});e(o)}("next")})}}(regeneratorRuntime.mark(function _callee(e){var t,i;return regeneratorRuntime.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getParams(e);case 2:return t=r.sent,r.next=5,this.request(t);case 5:return i=r.sent,r.abrupt("return",i);case 7:case"end":return r.stop()}},_callee,this)}));return function fetchPIPVideoAdMaterialList(t){return e.apply(this,arguments)}}(),PIPVideoAdService.prototype.fetchShowAdMid=function fetchShowAdMid(e){var t=this,i=this.global.get("$SYS.adDomain")||"";return new Promise(function(r,n){Object(y.default)({url:i+"/japi/adx/gateway/web/getHzhRecom",type:"get",csrf:!1,noCache:!0,contentType:"application/x-www-form-urlencoded",data:{client_sys:"web",mdid:"web",uid:t.global.get("USER_INFO.uid")||"",did:t.cookie.get("did")||"",mids:e}}).subscribe(function(e){var t=e.error,i=e.data;0!==parseInt(t,10)&&n(t),r("string"===typeof i?p.GSON.parse(i):i)})})},PIPVideoAdService}(p.Service),s=_applyDecoratedDescriptor(c.prototype,"signServices",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(c.prototype,"acj",[n],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"global",[a],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(c.prototype,"cookie",[o],{enumerable:!0,initializer:null}),c);t.default=_},f3f802:function(e,t,i){e.exports=i("d1db8c")("f1cc6")},f489b9:function(e,t,i){e.exports=i("5f575e")("6f577")},f5be0f:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_3064b62.png"},f5eb25:function(e,t,i){},f5fc06:function(e,t,i){},f68984:function(e,t,i){e.exports=i("d1db8c")("53a00")},f7168b:function(e,t,i){e.exports=i("5f575e")("67bae")},f728aa:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_e126a99.png"},f81c1f:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_6898d28.png"},fc5757:function(e,t,i){"use strict";var r=i("ac833b");t.default=r.default},fc7947:function(e,t,i){e.exports=i("5f575e")("d38ed")},fd4e64:function(e,t,i){e.exports=i("5f575e")("e52e5")},ffca33:function(e,t,i){e.exports=i("5f575e")("66581")}},[["8ff9c7","common-pre"]]]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/player_18882cb.js.map
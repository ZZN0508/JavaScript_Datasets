define("librastandardlib/obj-utils/mixin",[],function(){"use strict";return function(i,t){return"object"!=typeof i||"object"!=typeof t||Object.keys(t).forEach(function(e){i.hasOwnProperty(e)||(i[e]=t[e])}),i}}),define("libra/components/gi-map-area",["directories/directories-bundle","librastandardlib/obj-utils/mixin"],function(e,i){var a={componentName:"GIMapArea",itemsConfig:{selector:".m-gi-map-area",containerClass:".m-gi-map-area-details-container"}},t=".m-gi-map",s=".m-gi-map-container",n=".m-gi-map-area",o="rect",r="m-active",m=".m-gi-area-detail-box",l=".m-gi-area-detail-box .icon-close",p="asset-path";function c(e){this.$elem=$(e),this.$map=$(t),this.mapElem=this.$map.get(0),this.mapAssetContainer=this.$map.find(s),this.mapAssetPath=this.$map.data(p),this.loadMapAsset()}return i(c.prototype={processData:function(e,i){this.displayItems(e,i),this.attachClickEvents()},attachClickEvents:function(){this.$areaDetailBoxes=this.$container.find(m);var t=this;this.$mapAreas.click(function(){var e,i;t.$selectedArea=$(this),t.$selectedAreaDetailBox=t.$container.find('[data-id="'+t.$selectedArea.data("id")+'"]'),t.$areaDetailBoxes.hasClass(r)?(t.$areaDetailBoxes.removeClass(r),t.$mapAreas.removeClass(r)):(e=t.mapElem.offsetLeft+t.mapElem.offsetWidth/2,i=t.mapElem.offsetTop+t.mapElem.offsetHeight/2,t.$selectedArea.addClass(r),t.$selectedAreaDetailBox.css({left:e,top:i}),t.$selectedAreaDetailBox.addClass(r))}),this.$mapBG.add(l).click(function(){void 0!==t.$selectedArea&&(t.$selectedArea.removeClass(r),t.$selectedAreaDetailBox.removeClass(r))})},loadMapAsset:function(){var t=this;this.mapAssetContainer.load(this.mapAssetPath,function(e,i){"success"===i&&(t.$mapAreas=t.$map.find(n),t.$mapBG=t.$map.find(o),t.$map.css("visibility","visible"),t.init(a),t.template=t.getTemplate(),t.template&&t.loadData())})}},e.DirectoriesMixin),c}),define("libra/components/gi-map-pin",["directories/directories-bundle","librastandardlib/obj-utils/mixin"],function(e,i){var t={componentName:"GIMapPin",itemsConfig:{selector:".m-gi-map-pin",containerClass:".m-gi-map-pin-details-container"},APIs:{getItems:{defaultParams:{limit:250}}}},a="custom_libra_require_new-content",s=".m-gi-pin-wrapper",n="m-gi-pin-",o="m-gi-pin-popover-";function r(e){this.$elem=$(e),this.init(t),this.template=this.getTemplate(),this.template&&this.loadData()}return i(r.prototype={processData:function(e,i){this.displayItems(e,i),this.pinData=e.items,this.plotPins()},plotPins:function(){for(var e,i=0;i<this.pinData.length;i++)e={left:this.pinData[i].additionalFields.x+"%",bottom:this.pinData[i].additionalFields.y+"%"},$("<div/>").appendTo(s).addClass(n+i).attr({"data-is-soon":this.pinData[i].additionalFields.isSoon,"data-lb-popover-trigger":o+[i]}).css(e).show();$(document).trigger(a)}},e.DirectoriesMixin),r}),define("libra/components/gi-map",["libra/components/gi-map-area","libra/components/gi-map-pin"],function(i,t){function a(e){this.$elem=$(e),new i(this.$elem.find(".m-gi-map-area-details").first()),new t(this.$elem.find(".m-gi-map-pin").first())}return Libra.Comp.register({name:"gi-map",initFct:function(e){new a(e)},initTime:"immediate"}),a});

YUI.add("attribute-core",function(_,t){function e(t,e,i){this._yuievt=null,this._initAttrHost(t,e,i)}_.State=function(){this.data={}},_.State.prototype={add:function(t,e,i){(this.data[t]||(this.data[t]={}))[e]=i},addAll:function(t,e){var i,r=(r=this.data[t])||(this.data[t]={});for(i in e)e.hasOwnProperty(i)&&(r[i]=e[i])},remove:function(t,e){t=this.data[t];t&&delete t[e]},removeAll:function(i,t){t?_.each(t,function(t,e){this.remove(i,"string"==typeof e?e:t)},this):(t=this.data,i in t&&delete t[i])},get:function(t,e){t=this.data[t];if(t)return t[e]},getAll:function(t,e){var i,r,n=this.data[t];if(e)r=n;else if(n)for(i in r={},n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r}};var f=_.Object,g=_.Lang,d=".",o="value",h="lazyAdd",u="added",r="_bypassProxy",p="initValue",n="lazy",y=e.INVALID_VALUE={};e._ATTR_CFG=["setter","getter","validator",o,"valueFn","writeOnce","readOnly",h,r],e.protectAttrs=function(t){if(t)for(var e in t=_.merge(t))t.hasOwnProperty(e)&&(t[e]=_.merge(t[e]));return t},e.prototype={_initAttrHost:function(t,e,i){this._state=new _.State,this._initAttrs(t,e,i)},addAttr:function(t,e,i){var r,n,s=this._state,a=s.data;return h in(e=e||{})&&(i=e[h]),n=s.get(t,u),i&&!n?s.data[t]={lazy:e,added:!0}:n&&!e.isLazyAdd||((n=o in e)&&(r=e.value,e.value=void 0),e.added=!0,e.initializing=!0,a[t]=e,n&&this.set(t,r),e.initializing=!1),this},attrAdded:function(t){return!!this._state.get(t,u)},get:function(t){return this._getAttr(t)},_isLazyAttr:function(t){return this._state.get(t,n)},_addLazyAttr:function(t,e){var i=this._state;(e=e||i.get(t,n))&&(i.data[t].lazy=void 0,e.isLazyAdd=!0,this.addAttr(t,e))},set:function(t,e,i){return this._setAttr(t,e,i)},_set:function(t,e,i){return this._setAttr(t,e,i,!0)},_setAttr:function(t,e,i,r){var n,s,a,o,h=!0,u=this._state,c=this._stateProxy,l=this._tCfgs;return-1!==t.indexOf(d)&&(t=(a=(s=t).split(d)).shift()),l&&l[t]&&this._addOutOfOrder(t,l[t]),(n=u.data[t]||{}).lazy&&(n=n.lazy,this._addLazyAttr(t,n)),l=void 0===n.value,c&&t in c&&!n._bypassProxy&&(l=!1),u=n.writeOnce,c=n.initializing,l||r||(u&&(h=!1),n.readOnly&&(h=!1)),(h=!c&&!r&&"initOnly"===u?!1:h)&&(l||(o=this.get(t)),a&&(void 0===(e=f.setValue(_.clone(o),a,e))&&(h=!1)),h&&(!this._fireAttrChange||c?this._setAttrVal(t,s,o,e,i,n):this._fireAttrChange(t,s,o,e,i,n))),this},_addOutOfOrder:function(t,e){var i={};i[t]=e,delete this._tCfgs[t],this._addAttrs(i,this._tVals)},_getAttr:function(t){var e,i=t,r=this._tCfgs;return-1!==t.indexOf(d)&&(t=(e=t.split(d)).shift()),r&&r[t]&&this._addOutOfOrder(t,r[t]),(r=this._state.data[t]||{}).lazy&&(r=r.lazy,this._addLazyAttr(t,r)),t=this._getStateVal(t,r),t=(r=(r=r.getter)&&!r.call?this[r]:r)?r.call(this,t,i):t,t=e?f.getValue(t,e):t},_getStateVal:function(t,e){var i=this._stateProxy;return e=e||(this._state.getAll(t)||{}),i&&t in i&&!e._bypassProxy?i[t]:e.value},_setStateVal:function(t,e){var i=this._stateProxy;i&&t in i&&!this._state.get(t,r)?i[t]=e:this._state.add(t,o,e)},_setAttrVal:function(t,e,i,r,n,s){var a,o=!0,h=s||this._state.data[t]||{},u=h.validator,c=h.setter,l=h.initializing,_=this._getStateVal(t,h),s=e||t;return u&&((u=!u.call?this[u]:u)&&(!(a=u.call(this,r,s,n))&&l&&(r=h.defaultValue,a=!0))),!u||a?(c&&((c=!c.call?this[c]:c)&&((n=c.call(this,r,s,n))===y?l?r=h.defaultValue:o=!1:void 0!==n&&(r=n))),o&&(e||r!==_||g.isObject(r)?(p in h||(h.initValue=r),this._setStateVal(t,r)):o=!1)):o=!1,o},setAttrs:function(t,e){return this._setAttrs(t,e)},_setAttrs:function(t,e){for(var i in t)t.hasOwnProperty(i)&&this.set(i,t[i],e);return this},getAttrs:function(t){return this._getAttrs(t)},_getAttrs:function(t){for(var e,i={},r=!0===t,n=0,s=(t=!t||r?f.keys(this._state.data):t).length;n<s;n++)e=t[n],r&&this._getStateVal(e)==this._state.get(e,p)||(i[e]=this.get(e));return i},addAttrs:function(t,e,i){return t&&(this._tCfgs=t,this._tVals=e?this._normAttrVals(e):null,this._addAttrs(t,this._tVals,i),this._tCfgs=this._tVals=null),this},_addAttrs:function(t,e,i){var r,n,s,a=this._tCfgs,o=this._tVals;for(r in t)t.hasOwnProperty(r)&&(n=t[r],n.defaultValue=n.value,s=this._getAttrInitVal(r,n,o),void 0!==s&&(n.value=s),a[r]&&(a[r]=void 0),this.addAttr(r,n,i))},_protectAttrs:e.protectAttrs,_normAttrVals:function(t){var e,i,r,n,s;if(!t)return null;for(s in e={},t)t.hasOwnProperty(s)&&(-1!==s.indexOf(d)?(r=s.split(d),n=r.shift(),i=i||{},n=i[n]=i[n]||[],n[n.length]={path:r,value:t[s]}):e[s]=t[s]);return{simple:e,complex:i}},_getAttrInitVal:function(t,e,i){var r,n,s,a,o,h,u=e.value,c=e.valueFn,l=!1,_=e.readOnly;if(!_&&i&&((e=i.simple)&&e.hasOwnProperty(t)&&(u=e[t],l=!0)),c&&!l&&((c=!c.call?this[c]:c)&&(u=c.call(this,t))),!_&&i&&(r=i.complex)&&r.hasOwnProperty(t)&&null!=u)for(n=0,s=(h=r[t]).length;n<s;++n)a=h[n].path,o=h[n].value,f.setValue(u,a,o);return u},_initAttrs:function(t,e,i){t=t||this.constructor.ATTRS;var r=_.Base,n=_.BaseCore,r=r&&_.instanceOf(this,r),n=!r&&n&&_.instanceOf(this,n);!t||r||n||this.addAttrs(_.AttributeCore.protectAttrs(t),e,i)}},_.AttributeCore=e},"3.16.0",{requires:["oop"]}),YUI.add("attribute-observable",function(l,t){function e(){this._ATTR_E_FACADE={},i.call(this,{emitFacade:!0})}var i=l.EventTarget;e._ATTR_CFG=["broadcast"],e.prototype={set:function(t,e,i){return this._setAttr(t,e,i)},_set:function(t,e,i){return this._setAttr(t,e,i,!0)},setAttrs:function(t,e){return this._setAttrs(t,e)},_setAttrs:function(t,e){for(var i in t)t.hasOwnProperty(i)&&this.set(i,t[i],e);return this},_fireAttrChange:function(t,e,i,r,n,s){var a,o,h=this,u=this._getFullType(t+"Change"),c=h._state;(s=s||(c.data[t]||{})).published||((o=h._publish(u)).emitFacade=!0,o.defaultTargetOnly=!0,o.defaultFn=h._defAttrChangeFn,void 0!==(c=s.broadcast)&&(o.broadcast=c),s.published=!0),n?(a=l.merge(n))._attrOpts=n:a=h._ATTR_E_FACADE,a.attrName=t,a.subAttrName=e,a.prevVal=i,a.newVal=r,h._hasPotentialSubscribers(u)?h.fire(u,a):this._setAttrVal(t,e,i,r,n,s)},_defAttrChangeFn:function(t,e){var i=t._attrOpts;i&&delete t._attrOpts,this._setAttrVal(t.attrName,t.subAttrName,t.prevVal,t.newVal,i)?e||(t.newVal=this.get(t.attrName)):e||t.stopImmediatePropagation()}},l.mix(e,i,!1,null,1),l.AttributeObservable=e,l.AttributeEvents=e},"3.16.0",{requires:["event-custom"]}),YUI.add("attribute-extras",function(e,t){function i(){}var n={readOnly:1,writeOnce:1,getter:1,broadcast:1};i.prototype={modifyAttr:function(t,e){var i,r;if(this.attrAdded(t))for(i in this._isLazyAttr(t)&&this._addLazyAttr(t),r=this._state,e)n[i]&&e.hasOwnProperty(i)&&(r.add(t,i,e[i]),"broadcast"===i&&r.remove(t,"published"))},removeAttr:function(t){this._state.removeAll(t)},reset:function(t){var i=this;return t?(i._isLazyAttr(t)&&i._addLazyAttr(t),i.set(t,i._state.get(t,"initValue"))):e.Object.each(i._state.data,function(t,e){i.reset(e)}),i},_getAttrCfg:function(t){var i,r=this._state;return t?i=r.getAll(t)||{}:(i={},e.each(r.data,function(t,e){i[e]=r.getAll(e)})),i}},e.AttributeExtras=i},"3.16.0",{requires:["oop"]}),YUI.add("attribute-base",function(t,e){function i(){t.AttributeCore.apply(this,arguments),t.AttributeObservable.apply(this,arguments),t.AttributeExtras.apply(this,arguments)}t.mix(i,t.AttributeCore,!1,null,1),t.mix(i,t.AttributeExtras,!1,null,1),t.mix(i,t.AttributeObservable,!0,null,1),i.INVALID_VALUE=t.AttributeCore.INVALID_VALUE,i._ATTR_CFG=t.AttributeCore._ATTR_CFG.concat(t.AttributeObservable._ATTR_CFG),i.protectAttrs=t.AttributeCore.protectAttrs,t.Attribute=i},"3.16.0",{requires:["attribute-core","attribute-observable","attribute-extras"]}),YUI.add("base-core",function(s,t){function e(t){this._BaseInvoked||(this._BaseInvoked=!0,this._initBase(t))}function c(t,e,i){for(var r in e)i[r]&&(t[r]=e[r]);return t}var l=s.Object,n=s.Lang,d="initializer",a=Object.prototype.constructor,u="destructor",i=s.AttributeCore;e._ATTR_CFG=i._ATTR_CFG.concat("cloneDefaultValue"),e._NON_ATTRS_CFG=["plugins"],e.NAME="baseCore",e.ATTRS={initialized:{readOnly:!0,value:!1},destroyed:{readOnly:!0,value:!1}},e.modifyAttrs=function(t,e){var i,r,n;if("function"!=typeof t&&(e=t,t=this),i=t.ATTRS||(t.ATTRS={}),e)for(n in t._CACHED_CLASS_DATA=null,e)e.hasOwnProperty(n)&&(r=i[n]||(i[n]={}),s.mix(r,e[n],!0))},e.prototype={_initBase:function(t){s.stamp(this),this._initAttribute(t);var e=s.Plugin&&s.Plugin.Host;this._initPlugins&&e&&e.call(this),!1!==this._lazyAddAttrs&&(this._lazyAddAttrs=!0),this.name=this.constructor.NAME,this.init.apply(this,arguments)},_initAttribute:function(){i.call(this)},init:function(t){return this._baseInit(t),this},_baseInit:function(t){this._initHierarchy(t),this._initPlugins&&this._initPlugins(t),this._set("initialized",!0)},destroy:function(){return this._baseDestroy(),this},_baseDestroy:function(){this._destroyPlugins&&this._destroyPlugins(),this._destroyHierarchy(),this._set("destroyed",!0)},_getClasses:function(){return this._classes||this._initHierarchyData(),this._classes},_getAttrCfgs:function(){return this._attrs||this._initHierarchyData(),this._attrs},_getInstanceAttrCfgs:function(t){var e,i,r,n,s,a,o={},h=t._subAttrs,u=this._attrCfgHash();for(s in t)if(t.hasOwnProperty(s)&&"_subAttrs"!==s&&(a=t[s],(a=(e=o[s]=c({},a,u)).value)&&"object"==typeof a&&this._cloneDefaultValue(s,e),h&&h.hasOwnProperty(s)))for(n in r=t._subAttrs[s])i=r[n],i.path&&l.setValue(e.value,i.path,i.value);return o},_filterAdHocAttrs:function(t,e){var i,r,n=this._nonAttrs;if(e)for(r in i={},e)t[r]||n[r]||!e.hasOwnProperty(r)||(i[r]={value:e[r]});return i},_initHierarchyData:function(){var t,e,i,r,n,s=this.constructor,a=s._CACHED_CLASS_DATA,o=!s._ATTR_CFG_HASH,h={},u=[],c=[],l=s;if(!a){for(;l;){if((u[u.length]=l).ATTRS&&(c[c.length]=l.ATTRS),o&&(r=r||{},i=l._ATTR_CFG))for(t=0,e=i.length;t<e;t+=1)r[i[t]]=!0;if(n=l._NON_ATTRS_CFG)for(t=0,e=n.length;t<e;t++)h[n[t]]=!0;l=l.superclass?l.superclass.constructor:null}o&&(s._ATTR_CFG_HASH=r),a=s._CACHED_CLASS_DATA={classes:u,nonAttrs:h,attrs:this._aggregateAttrs(c)}}this._classes=a.classes,this._attrs=a.attrs,this._nonAttrs=a.nonAttrs},_attrCfgHash:function(){return this.constructor._ATTR_CFG_HASH},_cloneDefaultValue:function(t,e){var i=e.value,r=e.cloneDefaultValue;"deep"===r||!0===r?e.value=s.clone(i):"shallow"===r?e.value=s.merge(i):void 0!==r||a!==i.constructor&&!n.isArray(i)||(e.value=s.clone(i))},_aggregateAttrs:function(t){var e,i,r,n,s,a,o,h=this._attrCfgHash(),u={};if(t)for(a=t.length-1;0<=a;--a)for(e in i=t[a])i.hasOwnProperty(e)&&(n=c({},i[e],h),s=null,-1!==e.indexOf(".")&&(s=e.split("."),e=s.shift()),o=u[e],s&&o&&o.value?(r=u._subAttrs,r=r||(u._subAttrs={}),r[e]||(r[e]={}),r[e][s.join(".")]={value:n.value,path:s}):s||(o?(o.valueFn&&"value"in n&&(o.valueFn=null),c(o,n,h)):u[e]=n));return u},_initHierarchy:function(t){for(var e,i,r,n,s,a,o,h,u,c=this._lazyAddAttrs,l=[],_=this._getClasses(),f=this._getAttrCfgs(),g=_.length-1;0<=g;g--)if(i=(e=_[g]).prototype,h=e._yuibuild&&e._yuibuild.exts,i.hasOwnProperty(d)&&(l[l.length]=i.initializer),h)for(s=0,a=h.length;s<a;s++)(o=h[s]).apply(this,arguments),(o=o.prototype).hasOwnProperty(d)&&(l[l.length]=o.initializer);for(u=this._getInstanceAttrCfgs(f),this._preAddAttrs&&this._preAddAttrs(u,t,c),this._allowAdHocAttrs&&this.addAttrs(this._filterAdHocAttrs(f,t),t,c),this.addAttrs(u,t,c),r=0,n=l.length;r<n;r++)l[r].apply(this,arguments)},_destroyHierarchy:function(){for(var t,e,i,r,n,s,a=this._getClasses(),o=0,h=a.length;o<h;o++){if(e=(t=a[o]).prototype,n=t._yuibuild&&t._yuibuild.exts)for(i=0,r=n.length;i<r;i++)(s=n[i].prototype).hasOwnProperty(u)&&s.destructor.apply(this,arguments);e.hasOwnProperty(u)&&e.destructor.apply(this,arguments)}},toString:function(){return this.name+"["+s.stamp(this,!0)+"]"}},s.mix(e,i,!1,null,1),s.BaseCore=e.prototype.constructor=e},"3.16.0",{requires:["attribute-core"]}),YUI.add("base-observable",function(t,e){function i(){}var s=t.Lang,r="destroy",n=t.AttributeObservable,a=t.BaseCore;i._ATTR_CFG=n._ATTR_CFG.concat(),i._NON_ATTRS_CFG=["on","after","bubbleTargets"],i.prototype={_initAttribute:function(){a.prototype._initAttribute.apply(this,arguments),n.call(this),this._eventPrefix=this.constructor.EVENT_PREFIX||this.constructor.NAME,this._yuievt.config.prefix=this._eventPrefix},init:function(t){var e=this._getFullType("init"),i=this._publish(e);return i.emitFacade=!0,i.fireOnce=!0,i.defaultTargetOnly=!0,i.defaultFn=this._defInitFn,this._preInitEventCfg(t),i._hasPotentialSubscribers()?this.fire(e,{cfg:t}):(this._baseInit(t),i.fired=!0,i.firedWith=[{cfg:t}]),this},_preInitEventCfg:function(t){t&&(t.on&&this.on(t.on),t.after&&this.after(t.after));var e,i,r,n=t&&"bubbleTargets"in t;if(n||"_bubbleTargets"in this)if(r=n?t&&t.bubbleTargets:this._bubbleTargets,s.isArray(r))for(e=0,i=r.length;e<i;e++)this.addTarget(r[e]);else r&&this.addTarget(r)},destroy:function(){return this.publish(r,{fireOnce:!0,defaultTargetOnly:!0,defaultFn:this._defDestroyFn}),this.fire(r),this.detachAll(),this},_defInitFn:function(t){this._baseInit(t.cfg)},_defDestroyFn:function(t){this._baseDestroy(t.cfg)}},t.mix(i,n,!1,null,1),t.BaseObservable=i},"3.16.0",{requires:["attribute-observable","base-core"]}),YUI.add("base-base",function(t,e){function i(){s.apply(this,arguments),a.apply(this,arguments),n.apply(this,arguments)}var r=t.AttributeCore,n=t.AttributeExtras,s=t.BaseCore,a=t.BaseObservable;i._ATTR_CFG=s._ATTR_CFG.concat(a._ATTR_CFG),i._NON_ATTRS_CFG=s._NON_ATTRS_CFG.concat(a._NON_ATTRS_CFG),i.NAME="base",i.ATTRS=r.protectAttrs(s.ATTRS),i.modifyAttrs=s.modifyAttrs,t.mix(i,s,!1,null,1),t.mix(i,n,!1,null,1),t.mix(i,a,!0,null,1),t.Base=i.prototype.constructor=i},"3.16.0",{requires:["attribute-base","base-core","base-observable"]}),YUI.add("base-build",function(p,t){function r(t,e,i){i[t]&&(e[t]=(e[t]||[]).concat(i[t]))}function e(t,e,i){i._ATTR_CFG&&(e._ATTR_CFG_HASH=null,r.apply(null,arguments))}function i(t,e,i){n.modifyAttrs(e,i.ATTRS)}var s,n=p.BaseCore,y=p.Base,u=p.Lang,v="initializer",A="destructor",a=["_PLUG","_UNPLUG"];y._build=function(t,e,i,r,n,s){for(var a,o,h,u,c=y._build,l=c._ctor(e,s),_=c._cfg(e,s,i),f=c._mixCust,s=l._yuibuild.dynamic,g=0,d=i.length;g<d;g++)h=(o=(a=i[g]).prototype)[v],u=o[A],delete o[v],delete o[A],p.mix(l,a,!0,null,1),f(l,a,_),h&&(o[v]=h),u&&(o[A]=u),l._yuibuild.exts.push(a);return r&&p.mix(l.prototype,r,!0),n&&(p.mix(l,c._clean(n,_),!0),f(l,n,_)),l.prototype.hasImpl=c._impl,s&&(l.NAME=t,(l.prototype.constructor=l).modifyAttrs=e.modifyAttrs),l},s=y._build,p.mix(s,{_mixCust:function(t,e,i){var r,n,s,a,o,h;if(i&&(r=i.aggregates,n=i.custom,s=i.statics),s&&p.mix(t,e,!0,s),r)for(h=0,o=r.length;h<o;h++)a=r[h],!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&(t[a]=u.isArray(e[a])?[]:{}),p.aggregate(t,e,!0,[a]);if(n)for(h in n)n.hasOwnProperty(h)&&n[h](h,t,e)},_tmpl:function(t){function e(){e.superclass.constructor.apply(this,arguments)}return p.extend(e,t),e},_impl:function(t){for(var e,i,r,n,s=this._getClasses(),a=0,o=s.length;a<o;a++)if((e=s[a])._yuibuild)for(r=(i=e._yuibuild.exts).length,n=0;n<r;n++)if(i[n]===t)return!0;return!1},_ctor:function(t,e){var i=!e||!1!==e.dynamic,e=i?s._tmpl(t):t,t=e._yuibuild;return(t=t||(e._yuibuild={})).id=t.id||null,t.exts=t.exts||[],t.dynamic=i,e},_cfg:function(t,e,i){for(var r,n,s,a=[],o={},h=[],u=e&&e.aggregates,c=e&&e.custom,l=e&&e.statics,_=t;_&&_.prototype;)(r=_._buildCfg)&&(r.aggregates&&(a=a.concat(r.aggregates)),r.custom&&p.mix(o,r.custom,!0),r.statics&&(h=h.concat(r.statics))),_=_.superclass?_.superclass.constructor:null;if(i)for(n=0,s=i.length;n<s;n++)(r=(_=i[n])._buildCfg)&&(r.aggregates&&(a=a.concat(r.aggregates)),r.custom&&p.mix(o,r.custom,!0),r.statics&&(h=h.concat(r.statics)));return u&&(a=a.concat(u)),c&&p.mix(o,e.cfgBuild,!0),{aggregates:a,custom:o,statics:h=l?h.concat(l):h}},_clean:function(t,e){var i,r,n,s=p.merge(t),a=e.aggregates;for(i in e.custom)s.hasOwnProperty(i)&&delete s[i];for(r=0,n=a.length;r<n;r++)i=a[r],s.hasOwnProperty(i)&&delete s[i];return s}}),y.build=function(t,e,i,r){return s(t,e,i,null,null,r)},y.create=function(t,e,i,r,n){return s(t,e,i,r,n)},y.mix=function(t,e){return t._CACHED_CLASS_DATA&&(t._CACHED_CLASS_DATA=null),s(null,t,e,null,null,{dynamic:!1})},n._buildCfg={aggregates:a.concat(),custom:{ATTRS:i,_ATTR_CFG:e,_NON_ATTRS_CFG:r}},y._buildCfg={aggregates:a.concat(),custom:{ATTRS:i,_ATTR_CFG:e,_NON_ATTRS_CFG:r}}},"3.16.0",{requires:["base-base"]}),YUI.add("history-base",function(r,t){function e(){this._init.apply(this,arguments)}function o(t){return"object"===i.type(t)}var i=r.Lang,h=r.Object,u=YUI.namespace("Env.History"),n=r.Array,s=r.config.doc,a=s.documentMode,c=r.config.win,l={merge:!0},_="replace";r.augment(e,r.EventTarget,null,null,{emitFacade:!0,prefix:"history",preventable:!1,queueable:!0}),u._state||(u._state={}),e.NAME="historyBase",e.SRC_ADD="add",e.SRC_REPLACE=_,e.html5=!!(c.history&&c.history.pushState&&c.history.replaceState&&("onpopstate"in c||2<=r.UA.gecko)&&(!r.UA.android||2.4<=r.UA.android)),e.nativeHashChange=("onhashchange"in c||"onhashchange"in s)&&(!a||7<a),r.mix(e.prototype,{_init:function(t){t=this._config=t||{},this.force=!!t.force,t=this._initialState=this._initialState||t.initialState||null,this.publish("change",{broadcast:2,defaultFn:this._defChangeFn}),t&&this.replace(t)},add:function(){var t=n(arguments,0,!0);return t.unshift("add"),this._change.apply(this,t)},addValue:function(t,e,i){var r={};return r[t]=e,this._change("add",r,i)},get:function(t){var e=u._state,i=o(e);return t?i&&h.owns(e,t)?e[t]:void 0:i?r.mix({},e,!0):e},replace:function(){var t=n(arguments,0,!0);return t.unshift(_),this._change.apply(this,t)},replaceValue:function(t,e,i){var r={};return r[t]=e,this._change(_,r,i)},_change:function(t,e,i){return(i=i?r.merge(l,i):l).merge&&o(e)&&o(u._state)&&(e=r.merge(u._state,e)),this._resolveChanges(t,e,i),this},_fireEvents:function(i,t,e){this.fire("change",{_options:e,changed:t.changed,newVal:t.newState,prevVal:t.prevState,removed:t.removed,src:i}),h.each(t.changed,function(t,e){this._fireChangeEvent(i,e,t)},this),h.each(t.removed,function(t,e){this._fireRemoveEvent(i,e,t)},this)},_fireChangeEvent:function(t,e,i){this.fire(e+"Change",{newVal:i.newVal,prevVal:i.prevVal,src:t})},_fireRemoveEvent:function(t,e,i){this.fire(e+"Remove",{prevVal:i,src:t})},_resolveChanges:function(t,i,e){var r,n={},s=u._state,a={};e=e||{},o(i=i||{})&&o(s)?(h.each(i,function(t,e){var i=s[e];t!==i&&(n[e]={newVal:t,prevVal:i},r=!0)},this),h.each(s,function(t,e){h.owns(i,e)&&null!==i[e]||(delete i[e],a[e]=t,r=!0)},this)):r=i!==s,(r||this.force)&&this._fireEvents(t,{changed:n,newState:i,prevState:s,removed:a},e)},_storeState:function(t,e){u._state=e||{}},_defChangeFn:function(t){this._storeState(t.src,t.newVal,t._options)}},!0),r.HistoryBase=e},"3.16.0",{requires:["event-custom-complex"]}),YUI.add("event-synthetic",function(u,t){function c(t,e){this.handle=t,this.emitFacade=e}function s(t,e,i){this.handles=[],this.el=t,this.key=i,this.domkey=e}function l(){this._init.apply(this,arguments)}var r=u.CustomEvent,a=u.Env.evt.dom_map,_=u.Array,e=u.Lang,o=e.isObject,f=e.isString,h=e.isArray,g=u.Selector.query,e=function(){};c.prototype.fire=function(t){var e=_(arguments,0,!0),i=this.handle,r=i.evt,n=i.sub,s=n.context,a=n.filter,i=t||{};return this.emitFacade?(t&&t.preventDefault||(i=r._getFacade(),o(t)&&!t.preventDefault?(u.mix(i,t,!0),e[0]=i):e.unshift(i)),i.type=r.type,i.details=e.slice(),a&&(i.container=r.host)):a&&o(t)&&t.currentTarget&&e.shift(),n.context=s||i.currentTarget||r.host,i=r.fire.apply(r,e),t.prevented&&r.preventedFn&&r.preventedFn.apply(r,e),t.stopped&&r.stoppedFn&&r.stoppedFn.apply(r,e),n.context=s,i},s.prototype={constructor:s,type:"_synth",fn:e,capture:!1,register:function(t){(t.evt.registry=this).handles.push(t)},unregister:function(t){for(var e=this.handles,i=a[this.domkey],r=e.length-1;0<=r;--r)if(e[r].sub===t){e.splice(r,1);break}e.length||(delete i[this.key],u.Object.size(i)||delete a[this.domkey])},detachAll:function(){for(var t=this.handles,e=t.length;0<=--e;)t[e].detach()}},u.mix(l,{Notifier:c,SynthRegistry:s,getRegistry:function(t,e,i){var r=t._node,n=u.stamp(r),t="event:"+n+e+"_synth",e=a[n];return i&&((e=e||(a[n]={}))[t]||(e[t]=new s(r,n,t))),e&&e[t]||null},_deleteSub:function(t){var e,i;t&&t.fn&&(e=this.eventDef,i=t.filter?"detachDelegate":"detach",this._subscribers=[],r.keepDeprecatedSubs&&(this.subscribers={}),e[i](t.node,t,this.notifier,t.filter),this.registry.unregister(t),delete t.fn,delete t.node,delete t.context)},prototype:{constructor:l,_init:function(){var t=this.publishConfig||(this.publishConfig={});this.emitFacade=!("emitFacade"in t)||t.emitFacade,t.emitFacade=!1},processArgs:e,on:e,detach:e,delegate:e,detachDelegate:e,_on:function(r,n){var t,s=[],e=r.slice(),a=this.processArgs(r,n),i=r[2],o=n?"delegate":"on",h=f(i)?g(i):_(i||u.one(u.config.win));return!h.length&&f(i)?t=u.on("available",function(){u.mix(t,u[o].apply(u,e),!0)},i):(u.Array.each(h,function(t){var e,i=r.slice();(t=u.one(t))&&(n&&(e=i.splice(3,1)[0]),i.splice(0,4,i[1],i[3]),this.preventDups&&this.getSubs(t,r,null,!0)||s.push(this._subscribe(t,o,i,a,e)))},this),1===s.length?s[0]:new u.EventHandle(s))},_subscribe:function(t,e,i,r,n){var s=new u.CustomEvent(this.type,this.publishConfig),a=s.on.apply(s,i),o=new c(a,this.emitFacade),h=l.getRegistry(t,this.type,!0),i=a.sub;return i.node=t,i.filter=n,r&&this.applyArgExtras(r,i),u.mix(s,{eventDef:this,notifier:o,host:t,currentTarget:t,target:t,el:t._node,_delete:l._deleteSub},!0),a.notifier=o,h.register(a),this[e](t,i,o,n),a},applyArgExtras:function(t,e){e._extra=t},_detach:function(t){var e,i,r,n,s,a=t[2],o=(f(a)?g:_)(a);for(t.splice(2,1),i=0,r=o.length;i<r;++i)if((e=u.one(o[i]))&&(n=this.getSubs(e,t)))for(s=n.length-1;0<=s;--s)n[s].detach()},getSubs:function(t,e,i,r){var n,s,a,o,t=l.getRegistry(t,this.type),h=[];if(t)for(n=t.handles,i=i||this.subMatch,s=0,a=n.length;s<a;++s)if(o=n[s],i.call(this,o.sub,e)){if(r)return o;h.push(n[s])}return h.length&&h},subMatch:function(t,e){return!e[1]||t.fn===e[1]}}},!0),u.SyntheticEvent=l,u.Event.define=function(t,e,i){var r,n;return t&&t.type?(r=t,i=e):e&&(r=u.merge({type:t},e)),r?!i&&u.Node.DOM_EVENTS[r.type]||(u.extend(i=function(){l.apply(this,arguments)},l,r),t=(n=new i).type,u.Node.DOM_EVENTS[t]=u.Env.evt.plugins[t]={eventDef:n,on:function(){return n._on(_(arguments))},delegate:function(){return n._on(_(arguments),!0)},detach:function(){return n._detach(_(arguments))}}):(f(t)||h(t))&&u.Array.each(_(t),function(t){u.Node.DOM_EVENTS[t]=1}),n}},"3.16.0",{requires:["node-base","event-custom-complex"]}),YUI.add("history-hash",function(r,t){function c(){c.superclass.constructor.apply(this,arguments)}var n,s,a,o=r.HistoryBase,l=r.Lang,h=r.Array,u=r.Object,e=YUI.namespace("Env.HistoryHash"),_="hash",f=r.config.win,i=r.config.useHistoryHTML5;r.extend(c,o,{_init:function(t){var e=c.parseHash();this._initialState=(t=t||{}).initialState?r.merge(t.initialState,e):e,r.after("hashchange",r.bind(this._afterHashChange,this),f),c.superclass._init.apply(this,arguments)},_change:function(t,i,e){return u.each(i,function(t,e){l.isValue(t)&&(i[e]=t.toString())}),c.superclass._change.call(this,t,i,e)},_storeState:function(t,e){var i=c.decode,r=c.createHash(e);c.superclass._storeState.apply(this,arguments),t!==_&&i(c.getHash())!==i(r)&&c[t===o.SRC_REPLACE?"replaceHash":"setHash"](r)},_afterHashChange:function(t){this._resolveChanges(_,c.parseHash(t.newHash),{})}},{NAME:"historyHash",SRC_HASH:_,hashPrefix:"",_REGEX_HASH:/([^\?#&=]+)=?([^&=]*)/g,createHash:function(t){var i=c.encode,r=[];return u.each(t,function(t,e){l.isValue(t)&&r.push(i(e)+"="+i(t))}),r.join("&")},decode:function(t){return decodeURIComponent(t.replace(/\+/g," "))},encode:function(t){return encodeURIComponent(t).replace(/%20/g,"+")},getHash:r.UA.gecko?function(){var t=r.getLocation(),e=/#(.*)$/.exec(t.href),t=e&&e[1]||"",e=c.hashPrefix;return e&&0===t.indexOf(e)?t.replace(e,""):t}:function(){var t=r.getLocation().hash.substring(1),e=c.hashPrefix;return e&&0===t.indexOf(e)?t.replace(e,""):t},getUrl:function(){return location.href},parseHash:function(t){var e,i,r,n,s,a,o=c.decode,h={},u=c.hashPrefix;for(t=l.isValue(t)?t:c.getHash(),e=0,i=(n=(t=u&&(0===(a=t.indexOf(u))||1===a&&"#"===t.charAt(0))?t.replace(u,""):t).match(c._REGEX_HASH)||[]).length;e<i;++e)1<(s=(r=n[e]).split("=")).length?h[o(s[0])]=o(s[1]):h[o(r)]="";return h},replaceHash:function(t){var e=r.getLocation(),i=e.href.replace(/#.*$/,"");"#"===t.charAt(0)&&(t=t.substring(1)),e.replace(i+"#"+(c.hashPrefix||"")+t)},setHash:function(t){var e=r.getLocation();"#"===t.charAt(0)&&(t=t.substring(1)),e.hash=(c.hashPrefix||"")+t}}),n=(n=e._notifiers)||(e._notifiers=[]),r.Event.define("hashchange",{on:function(t,e,i){(t.compareTo(f)||t.compareTo(r.config.doc.body))&&n.push(i)},detach:function(t,e,i){i=h.indexOf(n,i);-1!==i&&n.splice(i,1)}}),s=c.getHash(),a=c.getUrl(),o.nativeHashChange?e._hashHandle||(e._hashHandle=r.Event.attach("hashchange",function(e){var i=c.getHash(),r=c.getUrl();h.each(n.concat(),function(t){t.fire({_event:e,oldHash:s,oldUrl:a,newHash:i,newUrl:r})}),s=i,a=r},f)):e._hashPoll||(e._hashPoll=r.later(50,null,function(){var e,t,i=c.getHash();s!==i&&(t=c.getUrl(),e={oldHash:s,oldUrl:a,newHash:i,newUrl:t},s=i,a=t,h.each(n.concat(),function(t){t.fire(e)}))},null,!0)),r.HistoryHash=c,!1!==i&&(r.History||!0===i||o.html5&&r.HistoryHTML5)||(r.History=c)},"3.16.0",{requires:["event-synthetic","history-base","yui-later"]}),YUI.add("json-parse",function(t,e){var r=t.config.global.JSON;t.namespace("JSON").parse=function(t,e,i){return r.parse("string"==typeof t?t:t+"",e,i)}},"3.16.0",{requires:["yui-base"]}),YUI.add("json-stringify",function(t,e){var i=t.config.global.JSON;t.mix(t.namespace("JSON"),{dateToString:function(t){function e(t){return t<10?"0"+t:t}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"Z"},stringify:function(){return i.stringify.apply(i,arguments)},charCacheThreshold:100})},"3.16.0",{requires:["yui-base"]}),YUI.add("history-html5",function(r,t){function n(){n.superclass.constructor.apply(this,arguments)}var e=r.HistoryBase,i=r.Lang,s=r.config.win,a=r.config.useHistoryHTML5,o="popstate",h=e.SRC_REPLACE;r.extend(n,e,{_init:function(t){var e;try{e=s.history.state}catch(t){e=null}r.Object.isEmpty(e)&&(e=null),(t=t||{}).initialState&&"object"===i.type(t.initialState)&&"object"===i.type(e)?this._initialState=r.merge(t.initialState,e):this._initialState=e,r.on("popstate",this._onPopState,s,this),n.superclass._init.apply(this,arguments)},_storeState:function(t,e,i){t!==o&&s.history[t===h?"replaceState":"pushState"](e,i.title||r.config.doc.title||"",i.url||r.config.doc.URL),n.superclass._storeState.apply(this,arguments)},_onPopState:function(t){this._resolveChanges(o,t._event.state||null)}},{NAME:"historyhtml5",SRC_POPSTATE:o}),r.Node.DOM_EVENTS.popstate||(r.Node.DOM_EVENTS.popstate=1),r.HistoryHTML5=n,(!0===a||!1!==a&&e.html5)&&(r.History=n)},"3.16.0",{optional:["json"],requires:["event-base","history-base","node-base"]}),YUI.add("querystring-parse",function(o,t){var h=o.namespace("QueryString"),r=function(t,e){return t?o.Lang.isArray(t)?t.concat(e):o.Lang.isObject(t)&&o.Lang.isObject(e)?function(t,e){for(var i in e)i&&e.hasOwnProperty(i)&&(t[i]=r(t[i],e[i]));return t}(t,e):[t].concat(e):e};h.parse=function(t,e,i){return o.Array.reduce(o.Array.map(t.split(e||"&"),(a=i||"=",function t(e,i){var r,n,s;return 2!==arguments.length?(e=e.split(a),t(h.unescape(e.shift()),h.unescape(e.join(a)))):(e=e.replace(/^\s+|\s+$/g,""),o.Lang.isString(i)&&(i=i.replace(/^\s+|\s+$/g,""),isNaN(i)||i===(n=+i).toString(10)&&(i=n)),(r=/(.*)\[([^\]]*)\]$/.exec(e))?(n=r[2],r=r[1],n?((s={})[n]=i,t(r,s)):t(r,[i])):(s={},e&&(s[e]=i),s))})),{},r);var a},h.unescape=function(t){return decodeURIComponent(t.replace(/\+/g," "))}},"3.16.0",{requires:["yui-base","array-extras"]}),YUI.add("router",function(c,t){function e(){e.superclass.constructor.apply(this,arguments)}var a=c.HistoryHash,i=c.QueryString,n=c.Array,s=c.Lang,r=c.Object,o=c.config.win,h=[],u=[],l="ready";c.Router=c.extend(e,c.Base,{_regexURL:/^((?:[^\/#?:]+:\/\/|\/\/)[^\/]*)?([^?#]*)(\?[^#]*)?(#.*)?$/,_regexPathParam:/([:*])([\w\-]+)?/g,_regexUrlQuery:/\?([^#]*).*$/,_regexUrlOrigin:/^(?:[^\/#?:]+:\/\/|\/\/)[^\/]*/,initializer:function(t){var e=this;e._html5=e.get("html5"),e._params={},e._routes=[],e._url=e._getURL(),e._setRoutes(t&&t.routes?t.routes:e.get("routes")),e._html5?(e._history=new c.HistoryHTML5({force:!0}),e._historyEvents=c.after("history:change",e._afterHistoryChange,e)):e._historyEvents=c.on("hashchange",e._afterHistoryChange,o,e),e.publish(l,{defaultFn:e._defReadyFn,fireOnce:!0,preventable:!1}),e.once("initializedChange",function(){c.once("load",function(){setTimeout(function(){e.fire(l,{dispatched:!!e._dispatched})},20)})}),h.push(this)},destructor:function(){var t=n.indexOf(h,this);-1<t&&h.splice(t,1),this._historyEvents&&this._historyEvents.detach()},dispatch:function(){return this.once(l,function(){var t,e;this._ready=!0,this.upgrade()||(t=this._getRequest("dispatch"),e=this._getResponse(t),this._dispatch(t,e))}),this},getPath:function(){return this._getPath()},hasRoute:function(t){var e,i;return!!this._hasSameOrigin(t)&&(this._html5||(t=this._upgradeURL(t)),e=this.removeQuery(t.replace(this._regexUrlOrigin,"")),!!(t=this.match(e)).length&&(i=this.removeRoot(e),!!n.filter(t,function(t){return this._getParamValues(t,i)},this).length))},match:function(e){var t=this.get("root");if(t){if(!this._pathHasRoot(t,e))return[];e=this.removeRoot(e)}return n.filter(this._routes,function(t){return-1<e.search(t.regex)})},param:function(t,e){return this._params[t]=e,this},removeRoot:function(t){var e,i=this.get("root");return t=t.replace(this._regexUrlOrigin,""),!i||"/"===(t=(e=this.removeQuery(t))===i||this._pathHasRoot(i,e)?t.substring(i.length):t).charAt(0)?t:"/"+t},removeQuery:function(t){return t.replace(/\?.*$/,"")},replace:function(t){return this._queue(t,!0)},route:function(t,e){var i,r;return e=n(arguments,1,!0),t="string"==typeof t||s.isRegExp(t)?{callbacks:e=n.flatten(e),keys:i=[],path:t,regex:r=this._getRegex(t,i)}:(e=n.flatten([t.callbacks||t.callback||[]].concat(e)),i=t.keys,(r=t.regex||t.regexp)||(r=this._getRegex(t.path,i=[])),c.merge(t,{callbacks:e,keys:i,path:t.path||r,regex:r})),this._routes.push(t),this},save:function(t){return this._queue(t)},upgrade:function(){if(!this._html5)return!1;var t=this._getHashPath();return!!t&&(this.once(l,function(){this.replace(t)}),!0)},_decode:function(t){return decodeURIComponent(t.replace(/\+/g," "))},_dequeue:function(){var t,e=this;return YUI.Env.windowLoaded?(t=u.shift())?t():this:(c.once("load",function(){e._dequeue()}),this)},_dispatch:function(r,n){var s,a,o=this,h=o.match(r.path),u=[];return o._dispatching=o._dispatched=!0,h&&h.length?(s=o.removeRoot(r.path),function t(e){var i;e?"route"===e?(u=[],t()):c.error(e):(i=u.shift())?("string"==typeof i&&((i=o[e=i])||c.error("Router: Callback not found: "+e,null,"router")),r.pendingCallbacks=u.length,i.call(o,r,n,t)):(i=h.shift())&&((a=o._getParamValues(i,s))?(r.params=a,r.route=i,r.pendingRoutes=h.length,u=i.callbacks.concat(),t()):t("route"))}(),o._dispatching=!1,o._dequeue()):(o._dispatching=!1,o)},_getHashPath:function(t){return(t=t||a.getHash())&&"/"===t.charAt(0)?this._joinURL(t):""},_getOrigin:function(){var t=c.getLocation();return t.origin||t.protocol+"//"+t.host},_getParams:function(){return c.merge(this._params)},_getParamValues:function(t,e){var r,e=n.map(t.regex.exec(e)||[],function(t){return t&&this._decode(t)||""},this);return e.length-1!==t.keys.length?e:(r=n.hash(t.keys,e.slice(1)),!!n.every(t.keys,function(t){var e=this._params[t],i=r[t];return!e||!i||"string"!=typeof i||!(!1===(i=s.isRegExp(e)?e.exec(i):e.call(this,i,t))||!s.isValue(i))&&(r[t]=i,!0)},this)&&r)},_getPath:function(){var t=!this._html5&&this._getHashPath()||c.getLocation().pathname;return this.removeQuery(t)},_getPathRoot:function(){var t=c.getLocation().pathname;return"/"===t.charAt(t.length-1)?t:((t=t.split("/")).pop(),t.join("/")+"/")},_getQuery:function(){var t,e,i=c.getLocation();return this._html5?i.search.substring(1):(e=(t=a.getHash()).match(this._regexUrlQuery),t&&e?e[1]:i.search.substring(1))},_getRegex:function(t,r){return s.isRegExp(t)?t:"*"===t?/.*/:(t=t.replace(this._regexPathParam,function(t,e,i){return i?(r.push(i),"*"===e?"(.*?)":"([^/#?]+)"):"*"===e?".*":t}),new RegExp("^"+t+"$"))},_getRequest:function(t){return{path:this._getPath(),query:this._parseQuery(this._getQuery()),url:this._getURL(),router:this,src:t}},_getResponse:function(t){return{req:t}},_getRoutes:function(){return this._routes.concat()},_getURL:function(){var t=c.getLocation().toString();return t=!this._html5?this._upgradeURL(t):t},_hasSameOrigin:function(t){t=(t&&t.match(this._regexUrlOrigin)||[])[0];return!(t=t&&0===t.indexOf("//")?c.getLocation().protocol+t:t)||t===this._getOrigin()},_joinURL:function(t){var e=this.get("root");return"/"===(t=this.removeRoot(t)).charAt(0)&&(t=t.substring(1)),e&&"/"===e.charAt(e.length-1)?e+t:e+"/"+t},_normalizePath:function(t){var e,i,r,n,s,a,o="/";if(!t||t===o)return o;for(a=[],e=0,i=(n=t.split(o)).length;e<i;++e)".."===(s=n[e])?a.pop():s&&a.push(s);return(r=o+a.join(o))!==o&&t.charAt(t.length-1)===o&&(r+=o),r},_parseQuery:i&&i.parse?i.parse:function(t){for(var e,i=this._decode,r=t.split("&"),n=0,s=r.length,a={};n<s;++n)(e=r[n].split("="))[0]&&(a[i(e[0])]=i(e[1]||""));return a},_pathHasRoot:function(t,e){t="/"===t.charAt(t.length-1)?t:t+"/";return 0===e.indexOf(t)},_queue:function(){var t=arguments,e=this;return u.push(function(){return e._html5?c.UA.ios&&c.UA.ios<5?e._save.apply(e,t):setTimeout(function(){e._save.apply(e,t)},1):(e._dispatching=!0,e._save.apply(e,t)),e}),this._dispatching?this:this._dequeue()},_resolvePath:function(t){return t?("/"!==t.charAt(0)&&(t=this._getPathRoot()+t),this._normalizePath(t)):c.getLocation().pathname},_resolveURL:function(t){var e,i,r=t&&t.match(this._regexURL);return r?(i=r[1],e=r[2],t=r[3],r=r[4],i?(i=0===i.indexOf("//")?c.getLocation().protocol+i:i)+(e||"/")+(t||"")+(r||""):(i=this._getOrigin()+this._resolvePath(e),e||t?i+(t||"")+(r||""):i+((t=this._getQuery())?"?"+t:"")+(r||""))):c.getLocation().toString()},_save:function(t,e){var i,r,n,s="string"==typeof t;return s&&!this._hasSameOrigin(t)?c.error("Security error: The new URL must be of the same origin as the current URL."):(s&&(t=this._joinURL(t)),this._ready=!0,this._html5?this._history[e?"replace":"add"](null,{url:t}):(i=c.getLocation().pathname,r=this.get("root"),n=a.getHash(),s||(t=n),(t=r===i||r===this._getPathRoot()?this.removeRoot(t):t)===n?c.Router.dispatch():a[e?"replaceHash":"setHash"](t))),this},_setParams:function(t){return this._params={},r.each(t,function(t,e){this.param(e,t)},this),c.merge(this._params)},_setRoutes:function(t){return this._routes=[],n.each(t,function(t){this.route(t)},this),this._routes.concat()},_upgradeURL:function(t){if(!this._hasSameOrigin(t))return t;var e,i=(t.match(/#(.*)$/)||[])[1]||"",r=c.HistoryHash.hashPrefix;return(i=r&&0===i.indexOf(r)?i.replace(r,""):i)&&(e=this._getHashPath(i))?this._resolveURL(e):t},_afterHistoryChange:function(t){var e=this,i=t.src,r=e._url,t=e._getURL();e._url=t,("popstate"!==i||e._ready&&r.replace(/#.*$/,"")!==t.replace(/#.*$/,""))&&(t=e._getRequest(i),i=e._getResponse(t),e._dispatch(t,i))},_defReadyFn:function(t){this._ready=!0}},{NAME:"router",ATTRS:{html5:{valueFn:function(){return c.Router.html5},writeOnce:"initOnly"},params:{value:{},getter:"_getParams",setter:"_setParams"},root:{value:""},routes:{value:[],getter:"_getRoutes",setter:"_setRoutes"}},html5:c.HistoryBase.html5&&(!c.UA.android||3<=c.UA.android),_instances:h,dispatch:function(){for(var t,e,i,r=0,n=h.length;r<n;r+=1)(t=h[r])&&(e=t._getRequest("dispatch"),i=t._getResponse(e),t._dispatch(e,i))}}),c.Controller=c.Router},"3.16.0",{optional:["querystring-parse"],requires:["array-extras","base-build","history"]});

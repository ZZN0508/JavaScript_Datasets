!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./build",n(n.s=43)}({2:function(e,t,n){"use strict";t.a={loading:function(e,t,n,a,o){if("img"===e||"script"===e||"css"===e){var i=null;"img"===e?(i=new Image).src=t:("script"===e?((i=document.createElement("script")).type="text/javascript",i.src=t,void 0!==o&&(i.id=o)):((i=document.createElement("link")).type="text/css",i.rel="stylesheet",i.href=t),document.getElementsByTagName("head")[0].appendChild(i)),i.readyState?i.onreadystatechange=function(){"loaded"==i.readyState||"complete"==i.readyState?(i.onreadystatechange=null,n&&"[object Function]"===Object.prototype.toString.call(n)&&n(i)):a&&"[object Function]"===Object.prototype.toString.call(a)&&a(i)}:(i.onload=function(){n(i)},i.onerror=function(){a(i)})}},getUrlParam:function(e,t){var n=new RegExp("([?&^]?)"+e+"=([^&]+)"),a=(t||location.href).match(n);return a&&a.length>1?a.pop():""},getUrlAllParams:function(e){var t=decodeURI(e||window.location.href),n=t.indexOf("?");t=n>-1?t.substring(n+1):"";for(var a=/([^=&\s\?]+)[=\s]*([^&\s]*)/g,o={};a.exec(t);)o[RegExp.$1]=RegExp.$2;return o},getPageSPM:function(){for(var e,t=document.getElementsByTagName("meta"),n="",a=0;a<t.length;a++)if("data-spm"==t[a].getAttribute("name")){n=t[a].getAttribute("content");break}return e=document.body.getAttribute("data-spm"),n&&e?n+"."+e:""},getCookie:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:""},formateTimestamp:function(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+(t.getDate()+" ")+(t.getHours()+":")+(t.getMinutes()+":")+t.getSeconds()+""},getSDKEnvironment:function(){if(window.envTag)return window.envTag;var e=navigator.userAgent.toLowerCase(),t=e.match("iku"),n=t&&e.match("windows")?1:t&&e.match("youku")?2:3,a=window.location.href.indexOf("iku_pay")>-1,o=window.location.href.indexOf("wrapper")>-1,i=function(){var e=navigator.userAgent.toLowerCase().match(/IKU\/(\d+\.\d+\.\d+)/i);if(e&&e[1]){for(var t="",n=e[1].split("."),a=0;a<n.length;a++)t+=n[a];return parseInt(t)<752}return!1}();return"YoukuOfficial"==window.pid?"1.0.2":i?"4.0.0":a?"4.0.1":1==n?1==o?"3.0.1":"2.0.1":2==n?1==o?"3.0.2":"2.0.2":"1.0.1"},isTypeString:function(e){return!(!e||"string"!=typeof e||!e.length)},loadJS:function(e,t){var n=document.getElementsByTagName("body")[0],a=document.createElement("script");a.type="text/javascript",a.onload=a.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t(),a.onload=a.onreadystatechange=null)},a.onerror=function(){a.onload=a.onreadystatechange=null},a.src=e,n.appendChild(a)},addDForSpm:function(e){var t="";try{var n=e.split(".");4==n.length&&(n[3]="d_"+n[3],t=n.join("."))}catch(e){}return t||e}}},3:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},4:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}},43:function(e,t,n){"use strict";n.r(t);var a=n(3),o=n.n(a),i=n(4),r=n.n(i),c=n(2),u={get_version:(window.youku_vip_pay_env&&"local"===window.youku_vip_pay_env?"http://pc.pay.youku.com:7001/":window.youku_vip_pay_env&&"daily"===window.youku_vip_pay_env?"http://pc.pay.youku.com/":window.youku_vip_pay_env&&"pre"===window.youku_vip_pay_env?"//paypre.vip.youku.com/":(window.youku_vip_pay_env&&window.youku_vip_pay_env,"https://pc.pay.youku.com/"))+"api/v"},d=function(){function e(){o()(this,e),window.isPayJSLoad||(window.isPayJSLoad=!0,this.config=null,this._getVersion(),this._dealSceenSize())}return r()(e,[{key:"beforeInit",value:function(){this.pay=null,this.initWrapper(),this._testFlag()&&(window.pay=this)}},{key:"initWrapper",value:function(){var e,t=window.Pay;try{e=c.a.getUrlAllParams()}catch(t){e={type:"",subBiz:"",tags:"",product_ids:""}}window.isPayPage?(this.pay=new t({isSDK:!1,config:this.config,type:e.type,subBiz:e.subBiz,tags:e.tags,product_ids:e.product_ids,spm:e.spm,scm:e.scm,vid:e.vid,sid:e.sid,selected:e.selected,acode:e.acode,crm_params:e.crm_params}),this.pay._destroySelf=null):(this.pay=new t({isSDK:!0,config:this.config}),this.pay._destroySelf=this._rebuildPay.bind(this))}},{key:"_getVersion",value:function(){var e=this;!function(e){var t=e||{};if(t.url){var n=t.callbackKeyName||"callback",a=t.callbackFnName||"jsonp_"+ +new Date,o=document.getElementsByTagName("head")[0];t.data[n]=a;var i=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(t.data),r=document.createElement("script");o.appendChild(r),window[a]=function(e){o.removeChild(r),clearTimeout(r.timer),window[a]=null,t.success&&t.success(e)},r.src=t.url+t.connect+i,r.timer=setTimeout((function(){window[a]=null,o.removeChild(r),t.error&&t.error({message:"è¶…æ—¶"})}),t.time||8e3)}}({url:u.get_version,callbackKeyName:"callback",callbackFnName:"callback",data:{},connect:"?",time:5e3,success:function(t){"20000"==t.code&&(e.config=t.conf,e._loadPaySDK("".concat(t.conf.publicPath).concat(t.conf.version,"/sdk.js")))},error:function(){}})}},{key:"_loadPaySDK",value:function(e){var t=document.getElementsByTagName("body")[0],n=document.createElement("script"),a=this;n.type="text/javascript",n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(a.beforeInit(),n.onload=n.onreadystatechange=null)},n.onerror=function(){n.onload=n.onreadystatechange=null},n.src=e,t.appendChild(n)}},{key:"_rebuildPay",value:function(){this.pay=null,this.initWrapper()}},{key:"_destroyPay",value:function(){this.pay._destroy(!0),this.pay=null,window.isPayJSLoad=!1}},{key:"_testFlag",value:function(){return 1==c.a.getUrlAllParams().tflag}},{key:"_dealSceenSize",value:function(){var e=this;window.location.href.indexOf("iku_pay")>-1||(this._refreshSize(),window.addEventListener("resize",(function(){e._refreshSize()}),!1))}},{key:"_refreshSize",value:function(){var e=document.documentElement,t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;window.isPayPage?t>=738?e.setAttribute("data-pay","w1"):t>=656?e.setAttribute("data-pay","w2"):e.setAttribute("data-pay","w3"):t>=1920?e.setAttribute("data-pay","w1"):t>=1680&&t<1920?e.setAttribute("data-pay","w1"):t>=1344&&t<1680?e.setAttribute("data-pay","w2"):t<1344&&e.setAttribute("data-pay","w3")}}]),e}();t.default=new d}});
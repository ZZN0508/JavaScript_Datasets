define("tbhome/taobao-2021/0.0.6/index",["util","node","ua","dom","kg/session/0.0.1/index","kg/pattern/2.1.3/lib/reporter","kg/pattern/2.1.3/lib/event","kg/pattern/2.1.3/lib/image","kg/pattern/2.1.3/index","kg/slide/6.0.8/index","kg/pattern/2.1.3/lib/io","promise","url","anim","kg/offline/7.0.1/index","cookie","kg/attr-anim/6.0.6/index","tbhome/taobao-2021/0.0.6/c/fixedtool/index.css","kg/datalazyload/6.0.10/index"],function(require,exports,module){var util=require("util"),node=require("node"),_ua_=require("ua"),dom=require("dom"),aliSession=require("kg/session/0.0.1/index"),aliPatternLibReporter=require("kg/pattern/2.1.3/lib/reporter"),aliPatternLibEvent=require("kg/pattern/2.1.3/lib/event"),aliPatternLibImage=require("kg/pattern/2.1.3/lib/image"),aliPattern=require("kg/pattern/2.1.3/index"),aliSlide=require("kg/slide/6.0.8/index"),aliPatternLibIo=require("kg/pattern/2.1.3/lib/io"),promise=require("promise"),_url_=require("url"),anim=require("anim"),aliOffline=require("kg/offline/7.0.1/index"),cookie=require("cookie"),aliAttrAnim=require("kg/attr-anim/6.0.6/index"),tbhomeTaobao2021006CFixedtoolIndexless=require("tbhome/taobao-2021/0.0.6/c/fixedtool/index.css"),aliDatalazyload=require("kg/datalazyload/6.0.10/index"),tbhomeTaobao2021006LibPolyfill,tbhomeTaobao2021006LibAplus,tbhomeTaobao2021006LibFeature,tbhomeTaobao2021006LibTanx,tbhomeTaobao2021006CQrIndex,tbhomeTaobao2021006CServiceCatjsthtml,tbhomeTaobao2021006CServiceItemjsthtml,tbhomeTaobao2021006CServiceBannerjsthtml,tbhomeTaobao2021006CPromoIndex,tbhomeTaobao2021006LibAld,tbhomeTaobao2021006CTmallBanners,tbhomeTaobao2021006CConveLayoutjsthtml,tbhomeTaobao2021006CFocusItemjsthtml,tbhomeTaobao2021006CNavIndex,tbhomeTaobao2021006CAppItemjsthtml,tbhomeTaobao2021006CMemberLoginjsthtml,tbhomeTaobao2021006CNoticeIndex,tbhomeTaobao2021006CDecorationsItemjsthtml,tbhomeTaobao2021006CTanxIndex,tbhomeTaobao2021006CSearchSticky,tbhomeTaobao2021006CSearchTmalljsthtml,tbhomeTaobao2021006CSearchAlimamajsthtml,tbhomeTaobao2021006CCornerIndex,tbhomeTaobao2021006CFixedtoolItemjsthtml,tbhomeTaobao2021006CFixedtoolBackup,tbhomeTaobao2021006CSuperbannerItemjsthtml,tbhomeTaobao2021006CVenuesItemjsthtml,tbhomeTaobao2021006LibLog,tbhomeTaobao2021006LibSwRegister,tbhomeTaobao2021006CommonHeadItemBarjsthtml,tbhomeTaobao2021006CommonHeadItemjsthtml,tbhomeTaobao2021006LibUtil,tbhomeTaobao2021006CAdIndex,tbhomeTaobao2021006CServiceIndex,tbhomeTaobao2021006CTmallIndex,tbhomeTaobao2021006CConveIndex,tbhomeTaobao2021006CFocusIndex,tbhomeTaobao2021006CAppIndex,tbhomeTaobao2021006CMemberIndex,tbhomeTaobao2021006CDecorationsIndex,tbhomeTaobao2021006CSearchIndex,tbhomeTaobao2021006CFixedtoolIndex,tbhomeTaobao2021006CSuperbannerIndex,tbhomeTaobao2021006CVenuesIndex,tbhomeTaobao2021006CommonHeadIndex,tbhomeTaobao2021006LibModules,tbhomeTaobao2021006CommonInject,tbhomeTaobao2021006LibLoader,tbhomeTaobao2021006LibIndex,tbhomeTaobao2021006Index,cl,el,fl,Qk,Rk,Sk,Tk,Uk,Vk,Gk,Ik,Jk,Kk,Lk,Mk,Nk,Ok,Pk,m9,o9,p9,q9,r9,s9,t9,u9,v9,w9,x9,b9,Qj,Rj,yj,zj,Aj,Bj,$8,_8,aj,bj,cj,dj,Qi,Si,Ti,Ui,Vi,Wi,Xi,Yi,Zi,a7,b7,d7,e7,f7,g7,h7,i7,j7,k7,l7,eh,$6,_6,ah,bh,ch,dh,fh,x6,k6,l6,m6,n6,o6,p6,q6,r6,s6,t6,u6,v6,Ng,Pg,Rg,Sg,Tg,og,qg,rg,sg,K5,L5,M5,N5,O5,P5,Q5,R5,S5,ff,gf,jf,kf,lf,mf,nf,of,pf,qf,ke,le,ne,oe,pe,qe,re,se,te,ue,ve,we,xe,O3,P3,Q3,S3,j3,k3,Yd,Zd,V2,W2,X2,Y2,Z2,B2,C2,f2,h2,i2,j2,c2,vc,xc,yc,zc,Ac,C1,D1,E1,F1,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,f0,g0,h0,j0,k0,l0,m0,Qa,Ra,la,na,pa,D,E,F,G,H,I,J,x,y,h;function dl(){el||(el=!0,Nk.detach(fl,dl),Lk.each(cl,function(t){Lk.frame(function(){Jk(t.el,t.data,t.name,t.force,t.moduleName,t.dataStr)})}))}function f9(t,e,a,n,o){var i=s9.get("tbVersion")||"0.0.1";t.hasClass("tbh-loaded")||n?t9[n]?g9(t,e,n,o):g9(t,e,n,o,n="tbhome/taobao-2021/"+i+"/c/"+n+"/index",n+".css"):o9({category:"ERROR_Loader_Crash",msg:"Loader加载模块时，发现模块不存在 "+t.className},"warn")}function g9(e,a,n,o,i,r){var t=t9[n];if(t)try{k9(new t(e,a),n,o)}catch(t){h9(n,t,e)}else!function(){function e(e){r9.each(x9,function(t){e?t.resolve():t.reject()})}if(v9)return m9?q9.resolve():q9.reject();if(w9)return new q9(function(t,e){x9.push({resolve:t,reject:e})});w9=!0;var t=s9.get("tbVersion")||"1.5.0",a=window.cdnHost||"g.alicdn.com";return q9.all([j9("tbhome/taobao-2021/"+t+"/lib/lazy"),function(a){return new q9(function(t,e){KISSY.getScript(a,{success:function(){t()},error:function(){e()}})})}("//"+a+"/??tbhome/taobao-2021/"+t+"/lib/style/lazy.css")]).then(function(){e(m9=!(w9=!(v9=!0)))},function(t){m9=w9=!(v9=!0),h9("lazy",t&&t.message),e(!1)})}().then(function(){return j9(i)},function(t){return j9(i+", "+r)}).then(function(t){try{k9(new t(e,a),n,o)}catch(t){h9(n,t,e)}},function(t){h9(n,t,e)})}function h9(t,e,a){var n=e&&e.message,o="",i="";try{o=JSON.stringify(r9.computeStackTraceFromStackProp(e)),i=a&&a[0]&&a[0].innerHTML}catch(t){}o9({category:"ERROR_Loader_Crash",msg:"fatal error "+t+"~"+n+"stack:"+o+"html: "+i},"warn"),(s9.get("env")||-1!==location.host.indexOf("yb.my"))&&window.console&&window.console.log(t,e)}function j9(t){return r9.isString(t)&&(t=t.split(",")),t=r9.map(t,function(t){return r9.trim(t)}),new q9(function(a,e){KISSY.use(t,{success:function(t,e){a(e)},error:function(t){e()}})})}function k9(t,e,a){var n=s9.get("modules");(n=n||{})[e]||(n[e]={mod:t,dataStr:a}),s9.set("modules",n)}function xj(t,e){this.el=t,this.conf=e,this.backup=1==this.el.attr("data-backup"),xj.superclass.constructor.apply(this)}function Z8(t,e){this.el=t,this.conf=e,this.backup=1==this.el.attr("data-backup"),Z8.superclass.constructor.apply(this)}function $i(t){return this.el=t,Qi.android||Zi?void this.el.hide():(this.toolEl=Wi(".J_FixedTool",this.el),this.enabledFeedback=!!this.toolEl.attr("data-feedback"),this.feddbackVersion=this.toolEl.attr("data-version")||"0.1.26",void(this.toolEl.length&&(this.name="tbh-fixedtool",this.init())))}function _h(t){this.el=t,this.qEl=k7("#q"),this.searchHotEl=k7(".J_SearchFt"),this.forms=l7.forms.search,_h.superclass.constructor.apply(this)}function Z6(t){var e=this;this.el=t,_6.load(function(){dh||e.init()})}function i6(t){return r6.getNick(t)}function Mg(t,e){this.el=t,this.cfg=e,Mg.superclass.constructor.apply(this)}function ng(t,e){this.el=t,this.conf=e,ng.superclass.constructor.apply(this),this.el.delegate("click",".J_Focus",function(){var t=this;this.list&&0<this.list.length&&this.list[0].trackParams&&setTimeout(function(){t.godlog("/tbindex.luban.luban","CLK",{impid:t.list[0].trackParams.click.impid,lyg:t.list[0].trackParams.click.lyg,lygClk:t.list[0].trackParams.click.lygClk})},0)},this)}function I5(t){this.el=t,this.init()}function ef(t){this.el=t,this.optEl=this.el.all(".J_TmallOpt"),this.retina=!!mf.get("retina"),this.webp=!!mf.get("webp"),ef.superclass.constructor.apply(this)}function je(t){this.el=t,je.superclass.constructor.apply(this)}function N3(t){this.innerEl=O3(".tbh-ad-inner",t),N3.superclass.constructor.apply(this)}function T2(){Y2.load(function(){var t=X2.get("tbVersion");KISSY.use("tbhome/taobao-2021/"+t+"/lib/monitor")},15e3),this.init()}function k2(){f2.ie&&f2.ie<=8||this.init()}function uc(t){this.el=t,uc.superclass.constructor.apply(this)}function B1(t,e){this.el=D1(t),this.conf=e,B1.superclass.constructor.apply(this)}function Hb(t,e){if(t&&t[e]&&t[e].data&&0<t[e].data.length)return t[e]}function Ib(a){Ob.each(Qb,function(t){var e=Hb(a,t.id);e?t.resolve(e):t.reject("empty")})}function e0(t){this.el=t,this.optEl=this.el.all(".J_PromoOpt"),e0.superclass.constructor.apply(this)}function oa(t,e,a){t=na(t);var n=this.el=t.hasClass("J_Tanx")?t:t.one(".J_Tanx");return n?(this.isOPE=1==n.attr("data-isope"),this.pid=n.attr("data-id"),this.isCorner=t.hasClass("J_TanxCorner"),this.autoLazy=1==n.attr("data-autolazy"),this.cb=e||function(){},void this.init(a)):void la({category:"ERROR_Tanx_notFound_Hook",msg:"Tanx广告没有找到钩子"})}function C(){this._retina(),this._zoom(),this._webp(),this._env(),this.responsive(),this.pageActive()}function d(t,e){if(e=e||{bubbles:!1,cancelable:!1,detail:void 0},document.createEvent){var a=document.createEvent("CustomEvent");return a.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),a}}"function"!=typeof window.CustomEvent&&(d.prototype=window.Event&&window.Event.prototype||{},window.CustomEvent=d),h=-1<navigator.userAgent.toLowerCase().indexOf("taobrowser"),tbhomeTaobao2021006LibPolyfill=void(window.requestNextAnimationFrame=function(){if(h)return function(t){setTimeout(function(){t&&t()})};var a,t,n=void 0,e=navigator.userAgent,o=this;return window.webkitRequestAnimationFrame&&(a=function(t){void 0===t&&(t=+new Date),o.callback(t)},n=window.webkitRequestAnimationFrame,window.webkitRequestAnimationFrame=function(t,e){o.callback=t,n(a,e)}),window.mozRequestAnimationFrame&&(t=e.indexOf("rv:"),-1!=e.indexOf("Gecko")&&("2.0"===e.substr(t+3,3)&&(window.mozRequestAnimationFrame=void 0))),window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){var a,n;window.setTimeout(function(){a=+new Date,t(a),n=+new Date,o.timeout=1e3/60-(n-a)},o.timeout)}}()),x=node.all,y=util,y.load||(y.load=function(t){"complete"==document.readyState?t():x(window).on("load",function(){t()})}),tbhomeTaobao2021006LibAplus=void y.load(function(){setTimeout(function(){KISSY.getScript("//g.alicdn.com/??secdev/entry/index.js,alilog/oneplus/entry.js")},3e3)}),D=_ua_,E=node.all,F=dom,G=E("body"),H=util,I=aliSession,J=aliPatternLibEvent,C.prototype={_retina:function(){H.isHighDensity()?I.set("retina",!0):I.set("retina",!1)},pageActive:function(){var e,t;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),E(document).on(t,function(t){J.broadcast("page:visibility",{hidden:document[e]})})},_zoom:function(){var e=this;if(("windows"===D.os||"macintosh"===D.os)&&11!=D.ie&&"edge"!=D.core)try{var t=this._detectZoom();0<t&&(1.01<t||t<.99)&&this._responsive(t),setTimeout(function(){var t=e._detectZoom();e._responsive(t)},2e3)}catch(t){}},_detectZoom:function(){var t,e,a=1,n=window.devicePixelRatio;return n&&n<1&&0<n?a=n:isNaN(screen.deviceXDPI)||isNaN(screen.logicalXDPI)?0<window.outerWidth&&0<window.innerWidth&&(a=window.outerWidth/window.innerWidth):a=screen.deviceXDPI/screen.logicalXDPI,t=a,e=1,e=Math.pow(10,e),Math.round(t*e)/e},_responsive:function(t){0<t&&t<.99?G.addClass("tb-zoom"):G.removeClass("tb-zoom")},_webp:function(){this._supportWebp(function(t){t?I.set("webp",!0):I.set("webp",!1)})},_supportWebp:function(t){var e=new Image;e.onload=e.onerror=function(){t(2===e.width&&2===e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"},_env:function(){var t=E("#J_TBBucket"),e=t.attr("data-container"),a=t.attr("data-version"),n=t.attr("data-stop"),t=t.val();I.set("bucket",t),I.set("tbVersion",a),I.set("slideStop","1"==n),e&&I.set("env",e)},responsive:function(){var t=E(window);t.on("resize",function(){var e=E("body"),a=F.viewportWidth();H.each([990,1024,1190,1270,1365,1440],function(t){a<=t?e.addClass("s"+t):e.removeClass("s"+t)}),J.broadcast("window:responsive",{wide:1190<a})}),t.fire("resize")}},tbhomeTaobao2021006LibFeature=C,la=aliPatternLibReporter,na=node.all,pa=!(oa.prototype.init=function(t){var e;this.isCorner?this.loadCorner():this.autoLazy?(e=(e=this.el.parent("div"))&&(e.offset().top-Number(this.el.attr("data-ahead"))||0),this.lazyLoad({pid:this.pid,isope:this.isOPE,top:e})):this.load(this.pid,this.isOPE,t)}),oa.prototype.loadCorner=function(){var t,e,a=this;(window.innerWidth||document.documentElement.clientWidth+21)<1366||pa||(pa=!0,t=KISSY.map(na(".J_TanxCorner"),function(t){return na(t).one(".J_Tanx").attr("id").split("-")[2]}),e=Math.floor(Math.random()*t.length),KISSY.getScript("//p.tanx.com/ex?i="+t[e],{error:function(){la({category:"ERROR_Tanx-script-crash",msg:"Tanx 广告初始化脚本加载失败！ "+t[e]},"warn"),a.cb()}}))},oa.prototype.load=function(t,e,a){function n(){la({category:"ERROR_Tanx-notFound-hook",msg:"Tanx 没有找到 id 为 "+t+" 的 hook！",sampling:1},"warn")}var o=window,i={i:t,sd:"ecpm.tanx.com"};if(t)if(e&&(i.sd=("https:"===location.protocol?"opehs":"ope")+".tanx.com"),o.tanxssp_show)o.tanxssp_show(i);else{if(o.tanx_ssp_onload=o.tanx_ssp_onload||[],o.tanx_ssp_onload.push(i),this.cb(),a){if(!na(".tanx-a-"+t).length)return void n()}else if(!na("#tanx-a-"+t).length)return void n();KISSY.getScript("//g.alicdn.com/mm/tanx-cdn/t/tanxssp.js?v=2",{charset:"gbk",error:function(){"function"!=typeof window.tanxssp_show&&la({category:"ERROR_Tanx-script-crash",msg:"Tanx 广告初始化脚本加载失败！ "+t},"warn")},success:function(){la({msg:"[Tanx] "+t})}})}},oa.prototype.lazyLoad=function(e){function a(){var t=o.height()+o.scrollTop();e.top<=t&&"1"!=n.el.attr("loaded")&&(la({msg:"[Lazyload Tanx] "+e.pid}),n.el.attr("loaded","1"),n.load(e.pid,e.isope),o.detach("scroll resize",a))}var n=this,o=na(window);o.on("scroll resize",a),a()},tbhomeTaobao2021006LibTanx=oa,Qa=node.all,Ra=aliPatternLibImage,tbhomeTaobao2021006CQrIndex=function(t){this.el=t;var e=Qa(".qrcode",this.el),t=e.attr("data-src"),t=Ra.getImageAndCache(t,{webp:!0});e.attr("src",t),this.el.delegate("click",".J_QrFt",function(){this.el.hide()},this)},tbhomeTaobao2021006CServiceCatjsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)_.each(data,function(t,e){__p+='\n  <div class="service-panel '+__e(6<=t.items.length?"full":"")+'">\n      <h5>'+(null==(__t=t.title)?"":__t)+"</h5>\n      ",data.length<4?(__p+="\n          ",_.each(t.items,function(t,e){__p+='\n            <a href="https://s.taobao.com/search?q='+__e(t.search_name)+'" class="service-image-item">\n              <img src="'+(null==(__t=t.pic)?"":__t)+'" alt="'+(null==(__t=t.show_name)?"":__t)+'">\n              <p>'+(null==(__t=t.show_name)?"":__t)+"</p>\n            </a>\n          "}),__p+="\n      "):(__p+="\n      <p>\n        ",_.each(t.items,function(t,e){__p+="\n          ";var a=_.isTrue(t.h);__p+='\n          <a href="https://s.taobao.com/search?q='+__e(t.search_name)+'" ',a&&(__p+='class="h" '),__p+=">"+(null==(__t=t.show_name)?"":__t)+"</a>\n        "}),__p+="\n      </p>\n      "),__p+="\n  </div>\n"}),__p+="\n\n";return __p}}(),tbhomeTaobao2021006CServiceItemjsthtml=function(exports){return function(obj){obj=obj||{};var __t,__p="";with(obj)__p+='<div class="service-float-item clearfix" data-index="'+(null==(__t=data.index)?"":__t)+'">\n  <div class="service-fi-links loading" data-spm-ab="links-'+(null==(__t=data.index)?"":__t)+'"></div>\n  <div class="service-rmd">\n    <h3>猜你喜欢</h3>\n    <div class="service-rmd-list loading clearfix" data-spm-ab="rmds-'+(null==(__t=data.index)?"":__t)+'"></div>\n  </div>\n</div>\n';return __p}}(),tbhomeTaobao2021006CServiceBannerjsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)_.each(data.items,function(t,e){__p+="\n  ",e<6&&(__p+='\n  <a href="https://s.taobao.com/search?q='+__e(t.search_name)+'" class="fl">\n    <div class="img-wrapper">\n      <img src="'+__e($runtime.image(t.pic||t.img))+'" alt="'+(null==(__t=t.show_name)?"":__t)+'"/>\n    </div>\n    <h5>\n      <span class="li-name a-all">'+(null==(__t=t.show_name)?"":__t)+"</span>\n    </h5>\n  </a>\n  "),__p+="\n"}),__p+="\n\n";return __p}}(),f0=tbhomeTaobao2021006LibTanx,g0=aliPattern,h0=aliSlide,j0=window.lib.mtop,k0=util,l0={},m0=node.all,g0.extend(e0,{init:function(){this._bind();var t=this.index=m0(".promo-bd",this.el).attr("data-index")||0,t=parseInt(t),e=window.location.search.slice(1),a=this.el.one(".mod-six");a&&e?(e=k0.unparam(e))&&null!==e.six?this.gosix=1:a.remove():a&&a.remove(),this.initSlider(t)},_bind:function(){var e=this;this.el.delegate("click",".J_Prev",this._prev,this),this.el.delegate("click",".J_Next",this._next,this),this.el.delegate("click",".J_Ald_20140506002",function(){var t=this;this.logCache&&0<this.logCache.length&&setTimeout(function(){t.godlog("/tbindex.promo.promo","CLK",{impid:(1<t.logCache.length?t.logCache[1]:t.logCache[0]).click.impid,lyg:(1<t.logCache.length?t.logCache[1]:t.logCache[0]).click.lyg,lygClk:(1<t.logCache.length?t.logCache[1]:t.logCache[0]).click.lygClk})},0)},this),this.el.delegate("click",".J_Ald_20140506001",function(){var t=this;this.logCache&&0<this.logCache.length&&setTimeout(function(){t.godlog("/tbindex.promo.promo","CLK",{impid:t.logCache[0].click.impid,lyg:t.logCache[0].click.lyg,lygClk:t.logCache[0].click.lygClk})},0)},this),this.subscribe("page:visibility",function(t){e.inViewport(t.hidden)}),m0(window).on("resize scroll",k0.throttle(function(t){e.inViewport(!1)},200))},inViewport:function(t){k0.isElementInViewport(this.el[0])&&!t?this.isPlay||(this.activeSlide(!0),this.isPlay=!0):this.isPlay&&(this.isPlay=!1,this.activeSlide(!1))},activeSlide:function(t){t?this.slide&&this.slide.play():this.slide&&this.slide.stop()},initSlider:function(t){var a=this;if(this.slide=new h0(this.el,{contentClass:"promo-bd",pannelClass:"mod",navClass:"promo-nav",effect:"hSlide",timeout:5e3,carousel:!0,autoSlide:!0,touchmove:!0}),this.el.on("mouseenter",function(){a.optEl.show()}),this.el.on("mouseleave",function(){a.optEl.hide()}),this.slide.on("beforeSwitch",function(t){var e=t.index;1!==l0[e]&&(t=t.pannelnode,a.loadContent(t,e)),l0[e]||(l0[e]=!0,a.godlog("/tbindex.promo.promo","EXP",{index:e},"H1476877900","首焦第 "+e+" 帧曝光"))}),this.gosix)this.slide.go(6);else{this.renderTanx(),0==t&&t++;try{var e=this.slide.pannels.item(t);this.loadContent(e)}catch(t){this.reportError({extra:"switch {index}: "+(t&&t.message)})}}},renderTanx:function(){this.el.all(".J_Tanx").each(function(t){var e=m0(t),t=Number(e.attr("data-lazychance")),t=isNaN(t)?1:t;Math.random()>=t&&(new f0(e),e.removeClass("J_Tanx"))})},loadContent:function(t,e){var a,n=t.hasClass("J_Tanx"),o=t.hasClass("J_Ald");n?(new f0(t),t.removeClass("J_Tanx")):o&&(a=t.attr("data-id"),this.newAld(a),t.removeClass("J_Ald")),n||o||(l0[e]=1)},_prev:function(t){t.preventDefault(),this.slide.previous()},_next:function(t){t.preventDefault(),this.slide.next()},addADTag:function(t){var e=1==t.attr("data-show"),t=m0("a",t);e&&0==m0(".ad-tags",t).length&&t.append('<span class="ad-tags">广告</span>')},newAld:function(e){var a=this;j0.request({api:"mtop.tmall.kangaroo.core.service.route.AldLampService",v:"1.0",data:{appId:10760644,source:this.source,count:2,bizId:20200922},ecode:0,type:"GET",dataType:"jsonp",timeout:2e4}).then(function(t){t.ret&&~t.ret[0].indexOf("SUCCESS")&&(t.data&&t.data.resultValue&&2===t.data.resultValue[10760644].data.length?(t.data.resultValue[10760644].bottomUrl&&a.offline.setItem(a.source,t.data.resultValue[10760644].bottomUrl),t=t.data.resultValue[10760644].data,a.formatData(t),"20140506001"===e&&(a._render(e,a.dataCache[0]),a.dataCache[0].trackParams&&a.log(a.dataCache[0].trackParams)),"20140506002"===e&&(a._render(e,a.dataCache[1]),a.dataCache[1].trackParams&&a.log(a.dataCache[1].trackParams))):a.backup(e,a.source,"empty"))}).catch(function(t){a.backup(e,a.source,t&&t.message)})},_render:function(t,e){var a="",n=m0(".J_Ald_"+t),o=e.actionUrl,e=e.imageUrl;n.html(a+='<a href="'+o+'" data-spm="d'+(t+1)+'"><img src="'+e+'" /></a>'),n.css("visibility","visible")},backup:function(t,e,a){try{this.offline.getItem(e)?this.backupAld(t,e,a):this.backupZebra(t,e,a)}catch(t){this.reportError()}},backupAld:function(e,a,n){var o=this,t=this.offline.getItem(a);this.jsonp({url:t.replace("http://","https://"),jsonpCallback:"callback_10760644_source_"+a}).then(function(t){"success"===t.msgInfo.toLocaleLowerCase()&&t.data&&t.data.length?(t=t.data,o.formatData(t),"20140506001"===e&&(o._render(e,o.dataCache[0]),o.dataCache[0].trackParams&&o.log(o.dataCache[0].trackParams)),"20140506002"===e&&(o._render(e,o.dataCache[1]),o.dataCache[1].trackParams&&o.log(o.dataCache[1].trackParams))):o.backupZebra(e,a,n),o.reportBackup({extra:"阿拉丁 "+e+" 加载失败，详情："+(n||"")})}).catch(function(t){o.backupZebra(e,a,n)})},backupZebra:function(t,e,a){var n={};window.staticConfig.promo&&0<window.staticConfig.promo.length?("20140506001"==t&&(n.actionUrl=window.staticConfig.promo[0].href,n.imageUrl=window.staticConfig.promo[0].img,this._render(t,n)),"20140506002"==t&&(n.actionUrl=window.staticConfig.promo[4].href,n.imageUrl=window.staticConfig.promo[4].img,this._render(t,n)),this.reportBackup({extra:"阿拉丁 "+t+" 加载失败，详情："+(a||"")})):this.reportError()},log:function(t){var e=this;this.logCache.push(t),setTimeout(function(){e.logCache.length&&e.godlog("/tbindex.promo.promo","EXP",{impid:t.expose.impid,lyg:t.expose.lyg,lygImp:t.expose.lygImp})},0)},formatData:function(a){var n=this,t=a.every(function(t){return"1"===t.materialExtendInfo.showPosition||"5"===t.materialExtendInfo.showPosition}),e=a.some(function(t){return"1"===t.materialExtendInfo.showPosition||"5"===t.materialExtendInfo.showPosition});t?a.forEach(function(t){"1"===t.materialExtendInfo.showPosition&&(n.dataCache[0]=t),"5"===t.materialExtendInfo.showPosition&&(n.dataCache[1]=t)}):e?a.forEach(function(t,e){"1"===t.materialExtendInfo.showPosition&&(n.dataCache[0]=t,n.dataCache[1]=0===e?a[1]:a[0]),"5"===t.materialExtendInfo.showPosition&&(n.dataCache[1]=t,n.dataCache[0]=0===e?a[1]:a[0])}):(this.dataCache[0]=a[0],this.dataCache[1]=a[1])},defaults:function(){return{name:"tbh-promo",category:"ERROR_ALD_Load_Crash",isPlay:!0,logCache:[],source:"taobao_pc_focus_personal",dataCache:[]}}}),tbhomeTaobao2021006CPromoIndex=e0,Lb=aliPatternLibIo,Mb=promise,Nb=aliPatternLibImage,Ob=util,Pb=node.all,Qb=[],Rb=!1,Sb={},tbhomeTaobao2021006LibAld={loader:function(a){return Sb[a]?Hb(Sb,a)?Mb.resolve(Sb[a]):Mb.reject():Rb?new Mb(function(t,e){Qb.push({id:a,resolve:t,reject:e})}):(Rb=!0,Lb.jsonp({url:"//ald.taobao.com/recommend2.htm",data:{appId:"03014"},timeout:4}).then(function(t){Sb=t||{},Rb=!1,Ib(t);t=Hb(t,a);if(t)return t},function(t){Rb=!1,Ib()}))},loadTms:function(t,e){e=e||Pb(".J_Ald_"+t),t=Pb("img",e),e.addClass("mod-loaded"),e.css("visibility","visible"),Ob.each(t,function(t){var e=Pb(t),t=e.attr("data-src"),t=Nb.getNewUrl(t,{webp:!0});e.attr("src",t)})},render:function(t,e,a,n){var o="";a=a||"";for(var t=n||Pb(".J_Ald_"+t),i=0,r=e.length;i<r;i++){var s=e[i];s.exposureParam&&s.nickNameStrategy&&((d=new Image).src=s.exposureParam,d.onerror=function(){return!1});var l=s.href||s.link||s.url||s.action,c=s.img||s.content||s.imgUrl,d=s.text||"",s={};!a&&n&&(s.webp=!0),o+='<a href="'+l+'" data-spm="d'+(i+1)+'"><img src="'+(Nb.getNewUrl(c,s)+a)+'" alt="'+d+'" /></a>'}t.html(o),t.css("visibility","visible")}},tbhomeTaobao2021006CTmallBanners=[{isTce:"false",isAld:"false",isTanx:"true",share:"false",id:"mm_12852562_1778064_95126332",tanxs:[{isope:"false",tce_rule_count:"1",id:"mm_12852562_1778064_48432768"},{isope:"false",tce_rule_count:"1",id:"mm_12852562_1778064_48458242"}],open:"false",local:"false"},{isTce:"true",isAld:"false",alds:[{img:"https://img.alicdn.com/tfs/TB1gujqEFzqK1RjSZSgXXcpAVXa-502-380.jpg",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"},{img:"https://img.alicdn.com/tfs/TB1sQTyENYaK1RjSZFnXXa80pXa-502-380.jpg",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"}],isTanx:"false",share:"false",open:"false",local:"false"},{isTce:"true",isAld:"false",alds:[{img:"https://img.alicdn.com/tfs/TB1x7TyENYaK1RjSZFnXXa80pXa-502-380.jpg",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"},{img:"https://img.alicdn.com/tfs/TB1IQPsEFzqK1RjSZFoXXbfcXXa-502-380.jpg",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"}],isTanx:"false",share:"false",open:"false",local:"false"},{isTce:"true",isAld:"false",alds:[{img:"https://img.alicdn.com/tfs/TB1xwW3eiLaK1RjSZFxXXamPFXa-502-380.jpg",tce_rule_count:"1",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"},{img:"https://img.alicdn.com/tfs/TB1Cq1HekvoK1RjSZPfXXXPKFXa-502-380.jpg",tce_rule_count:"1",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"}],isTanx:"false",share:"false",open:"false",local:"false"},{isTce:"true",isAld:"false",alds:[{img:"https://img.alicdn.com/tfs/TB1jq1HekvoK1RjSZPfXXXPKFXa-502-380.jpg",tce_rule_count:"1",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"},{img:"https://img.alicdn.com/tfs/TB1NASFejDpK1RjSZFrXXa78VXa-502-380.jpg",tce_rule_count:"1",link:"https://pages.tmall.com/wow/chaoshi/act/shoutaofordapai"}],isTanx:"false",share:"false",open:"false",local:"false"}],tbhomeTaobao2021006CConveLayoutjsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="conve-bd-box" tabindex="-1">\n  <a href="javascript:;" target="_self" class="conve-bd-box-close J_conveClose tb-ifont" data-spm-click="gostr=/tbindex;locaid=d1;name=关闭便民服务浮层" aira-label="关闭浮层">&#xe613;</a>\n  ',_.each(data.names,function(t,e){__p+='\n  <div class="conve-bd-item J_Conve_'+(null==(__t=t)?"":__t)+' loading">\n    <div class="conve-bd-loading"></div>\n  </div>\n  '}),__p+="\n</div>";return __p}}(),tbhomeTaobao2021006CFocusItemjsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__j=Array.prototype.join;with(obj)__p+="<a class='J_Focus' href=\""+(null==(__t=data.targetUrl)?"":__t)+'" ',data.spm&&(__p+='data-spm-ab="'+(null==(__t=data.spm)?"":__t)+'"'),__p+='>\n  <img src="'+(null==(__t=$runtime.image(data.imgUrl,"290x290","400x400","q90",!0))?"":__t)+'" alt="'+(null==(__t=data.name||"焦点图")?"":__t)+'">\n</a>';return __p}}(),C1=aliPattern,D1=node.all,E1=util,F1=_url_,C1.extend(B1,{init:function(){if(this.el.hasClass("nav11")){try{var t,e,a,n,o,i,r,s,l,c=(F1.parse(location.href,!0).query||{}).scheduleDate;c&&(t=(c=c.split(" "))[0].split("-"),e=c[1].split(":"),a=t[0],n=t[1]-1,o=t[2],i=e[0],r=e[1],s=e[2],c=new Date(a,n,o,i,r,s).getTime(),l=new Date(2017,11,1,0,0,0).getTime(),c&&E1.now()<l&&(isNaN(c)||(this.mockTime=c)))}catch(t){}this.countdown()}},countdown:function(t){var e=this,a=this.getStatus(t);if(a){if(!this.countdownEl){D1(".nav",this.el).append('<div class="countdown-wrapper fl"><span class="countdown-inner"></span><span class="bar"></span><span class="lave"></span></div>');t=D1(".countdown-inner",this.el);if(D1(".nav-bd").offset().top-t.offset().top<0)return void t.remove();this.countdownEl=t}this.countdownEl.html(a.msg),this.lastStatus&&this.lastStatus.center===a.center||(a.center?this.countdownEl.addClass("center"):this.countdownEl.removeClass("center")),this.lastStatus=a}else D1(".countdown-wrapper",this.el).remove();setTimeout(function(){e.mockTime&&(e.mockTime+=1e3),e.countdown()},1e3)},getStatus:function(t){function e(t,e,a,n,o,i){return new Date(t,e,a,n,o,i).getTime()}function a(t){return t<10?"0"+t:""+t}function n(t){t=t.split("");return E1.substitute('<span class="bg">{decade}</span><span class="bg unit">{unit}</span>',{decade:t[0],unit:t[1]})}var o=this.getTime();this.time||(this.time={longBefore:e(2018,11,1,0,0,0),dayBefore:e(2018,11,11,0,0,0),readyStart:e(2018,11,11,23,50,0),start:e(2018,11,12,0,0,0),readyEnd:e(2018,11,12,23,50,0),end:e(2018,11,12,23,59,59)});var i=this.time;if(!(o<i.longBefore)){if(o>=i.longBefore&&o<=i.dayBefore){var r=(i.dayBefore-o)/864e5;return{msg:'距双12开幕剩<span class="countdown">'+n(r=a((r=Math.ceil(r))+1))+"</span>天",center:!1}}if(o>=i.dayBefore&&o<i.readyStart){var s=i.start-o,l=Math.floor(s/1e3),c=parseInt(l/3600,10)%24,d=parseInt(l/60,10)%60,h=parseInt(l%60,10);return c=a(c),d=a(d),h=a(h),{msg:['距双12剩<span class="countdown">',n(c),":",n(d),":",n(h),"</span>"].join(""),center:!1}}if(o>=i.readyStart&&o<i.start)return{msg:"双12即将开始",center:!0};if(o>=i.start&&o<i.readyEnd){s=i.end-o,l=Math.floor(s/1e3),c=parseInt(l/3600,10)%24,d=parseInt(l/60,10)%60,h=parseInt(l%60,10);return c=a(c),d=a(d),h=a(h),{msg:['距结束剩<span class="countdown">',n(c),":",n(d),":",n(h),"</span>"].join(""),center:!1}}return o>=i.readyEnd&&o<i.end?{msg:"双12即将结束",center:!0}:void 0}},getTime:function(){return this.mockTime||E1.now()},defaults:function(){return{name:"nav"}}}),tbhomeTaobao2021006CNavIndex=B1,tbhomeTaobao2021006CAppItemjsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var head=data.head&&data.head[0];__p+="\n<h3>\n  ",__p+=head.link?'\n    <a href="'+__e(head.link)+'">'+(null==(__t=head.name)?"":__t)+"</a>\n  ":"\n    "+(null==(__t=head.name)?"":__t)+" \n  ",__p+='\n  <a class="more" href="'+__e(head.more)+'">更多 <i class="tb-ifont">&#xe62e;</i></a>\n</h3>\n\n<ul class="apps-nav clearfix">\n  ',_.each(data.apps,function(t,e){__p+="\n  ",e<=9&&(__p+='\n  <li class="nav" data-spm-ab="apps-'+(null==(__t=t.spm)?"":__t)+'">\n    <a href="'+(null==(__t=t.link||"javascript:;")?"":__t)+'" ',"1"===t.log&&(__p+="onclick=\"javascript:goldlog.record('/"+(null==(__t=t.logkey)?"":__t)+"','','','"+(null==(__t=t.gokey)?"":__t)+"')\" "),__p+='>\n      <img src="'+__e(t.img)+'" alt="手机app - '+(null==(__t=t.name)?"":__t)+'" class="app-icon" />\n    </a>\n    <div class="app-qr">\n      <img class="J_QRCode" data-src="'+(null==(__t=t.qr)?"":__t)+'_80x80.jpg" src="//g.alicdn.com/s.gif" alt="使用手机扫描'+(null==(__t=t.name)?"":__t)+'的二维码" />\n      <p>扫一扫'+(null==(__t=t.name)?"":__t)+"</p>\n    </div>\n  </li>\n   "),__p+="\n  "}),__p+="\n</ul>"}return __p}}(),tbhomeTaobao2021006CMemberLoginjsthtml=function(exports){return function(obj){obj=obj||{};var __t,__p="";with(obj)__p+='<div class="member-column-4">\n  <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitConfirm">\n    <strong>'+(null==(__t=data.a)?"":__t)+'</strong>待收货\n  </a>\n  <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitSend">\n    <strong>'+(null==(__t=data.d)?"":__t)+'</strong>待发货\n  </a>\n  <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitPay">\n   <strong>'+(null==(__t=data.b)?"":__t)+'</strong>待付款\n  </a>\n  <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitRate">\n    <strong>'+(null==(__t=data.c)?"":__t)+"</strong>待评价\n  </a>\n</div>";return __p}}(),vc=aliPattern,xc=aliSlide,yc=node.all,zc=util,Ac=promise,vc.extend(uc,{init:function(){this.bind()},bind:function(){var t=this;zc.load(function(){t._godlog("公告")}),this.el.delegate("mouseenter",".J_Enter",function t(e){var a=yc(e.currentTarget),e=a.index(),n=this;this.slide=new xc(this.el,{contentClass:"notice-bd",pannelClass:"mod",navClass:"notice-hd",eventType:"mouseenter",defaultTab:e+1}),this._show(zc.trim(a.text()),e),this.el.undelegate("mouseenter",".J_Enter",t,this),this.slide.on("beforeSwitch",function(t){var e=yc(t.navnode).text();n._show(e,t.index)})},this)},_show:function(t,e){this.store[t]||0===e||(this._render(e,this.slide.pannels.item(e)),this._godlog(t))},_render:function(t,a){var e=this;this.getList(t).then(function(t){var e=[];t&&(zc.each(t.items,function(t){t.enhance=!0===t.enhance||"true"===t.enhance,t.enhance=t.enhance?"h":"",e.push(zc.substitute('<li><a href="{link}" class="{enhance}">{text}</a></li>',t))}),yc(a).html(e.join("")))}).catch(function(t){e.reportError({extra:{message:t&&t.message,type:"render"}})})},getList:function(t){return window.staticConfig.notice?Ac.resolve(window.staticConfig.notice[t]):this.backup(t,"empty")},backup:function(e,a){var n=this;return this.tarzan({url:this.url,data:{ids:this.ids}}).then(function(t){t=n.getVal(t,e);if(t)return n.reportCDN({extra:a}),t;throw new Error("cdn empty")})},getVal:function(t,e){t=t&&t[this.ids]&&t[this.ids].value;if(t&&t.category)return this.category=t.category,this.category[e]},_godlog:function(t){this.store[t]||(this.store[t]=!0,this.godlog("/tbindex.2016092702.notice","EXP",{name:t},"H1482418995","公告曝光："+t))},defaults:function(){return{store:{},name:"tbh-notice"}}}),tbhomeTaobao2021006CNoticeIndex=uc,tbhomeTaobao2021006CDecorationsItemjsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="decorations-item '+(null==(__t=data.classname)?"":__t)+'" style="background:url('+__e(data.img)+") no-repeat;width:"+(null==(__t=data.width)?"":__t)+"px;height:"+(null==(__t=data.height)?"":__t)+"px;z-index:"+(null==(__t=data.zIndex||3)?"":__t)+"; ",data.top&&(__p+=" top: "+(null==(__t=data.top)?"":__t)+"px; "),__p+=" ",data.left&&(__p+="left: "+(null==(__t=data.left)?"":__t)+"px; "),__p+=";",data.right!==undefined&&(__p+="right: "+(null==(__t=data.right)?"":__t)+"px; "),__p+='">\n</div>\n\n';return __p}}(),c2=tbhomeTaobao2021006LibTanx,tbhomeTaobao2021006CTanxIndex=function(t){new c2(t)},f2=_ua_,h2=node.all,i2=h2(window),j2=aliSession,k2.prototype.init=function(){function t(){var t=i2.scrollTop(),e=r.offset().top;e+100<t?(n||(n=!0,r.removeClass("search-fixed"),r.addClass(a),window.TB.isFixed&&s.animate({top:i},{duration:.2,easing:"easeOut"})),!o&&j2.get("sugEl")&&(o=!0,j2.get("sugEl").css({position:"fixed",top:window.TB.isFixed?i+39:39})),h2("#J_SearchFt").hide()):(n&&(n=!1,s.css("top",0),r.addClass("search-fixed"),r.removeClass(a)),o&&j2.get("sugEl")&&(o=!1,j2.get("sugEl").css({position:"absolute",top:e+91})),h2("#J_SearchFt").show(),h2("#J_SearchIcon").show())}var a="wrap-fixed",n=!1,o=!1,i=h2("#J_SiteNav").height(),r=h2(".J_Cup"),s=h2(".J_Top");t(),i2.on("scroll",t)},tbhomeTaobao2021006CSearchSticky=k2,tbhomeTaobao2021006CSearchTmalljsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="search-hots">\n  ',_.each(data.list,function(t,e){__p+='\n  <a href="//list.tmall.com/search_product.htm?sourceId=tb.index&commend=all&q='+(null==(__t=t.query)?"":__t)+"&from=tbmain_1."+(null==(__t=e)?"":__t)+'_hq" ',t.highlight&&(__p+=' class="h" '),__p+=">"+(null==(__t=t.query)?"":__t)+"</a>\n  "}),__p+="\n</div>";return __p}}(),tbhomeTaobao2021006CSearchAlimamajsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__j=Array.prototype.join;with(obj)_.each(data,function(t){__p+='\n<a href="'+(null==(__t=t.link)?"":__t)+'" ',t.highlight&&(__p+=' class="h" '),__p+=">"+(null==(__t=t.query)?"":__t)+"</a>\n"}),__p+="\n";return __p}}(),B2=aliPatternLibReporter,C2=node.all,tbhomeTaobao2021006CCornerIndex=function(t){function e(t){B2({category:"ERROR_Corner",msg:t||"脚本路径不存在"})}if(0!==(t=C2(".corner-inner",t)).length){t=t.attr("data-path");return t?void KISSY.use(t,function(t,e){},function(t){e("脚本加载失败"+t&&t.message)}):void e()}},tbhomeTaobao2021006CFixedtoolItemjsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<span class="tb-ifont wangwang">&#xe605;</span>\n',_.each(data,function(t,e){__p+="\n",t.clickme=_.isTrue(t.clickme),__p+='\n  <a href="'+(null==(__t=t.url||(7==e?"//report.12377.cn:13225/toreportinputNormal_anis.do?spm=a21bo.50862.1997523009.48.28689e73weBwJ0&file=toreportinputNormal_anis.do%E7%82%B9%E8%BF%9B%E5%8E%BB%E6%98%AF%E8%BF%99%E4%B8%AA%E7%BD%91%E5%9D%80":"#"))?"":__t)+'" class="a-all fixedtool-'+(null==(__t=t.index)?"":__t)+" "+(null==(__t=0===e?"on":"")?"":__t)+'" data-tool="'+(null==(__t=t.tool)?"":__t)+'" aria-hidden="true" data-spm-click="gostr=/tbindex;locaid=d'+(null==(__t=e+1)?"":__t)+";name=fixed-"+(null==(__t=e+1)?"":__t)+'">'+(null==(__t=t.name)?"":__t),t.clickme&&(__p+="<em></em> "),__p+="</a>\n"});return __p}}(),tbhomeTaobao2021006CFixedtoolBackup=[{name:"品质<br>好货",index:"1",clickme:!1,url:"",tool:"goods"},{name:"猜你<br>喜欢",index:"6",clickme:!1,tool:"hotsale",url:""},{name:"<i class=tb-ifont></i>顶部",index:"7",clickme:!1,tool:"gotop",url:""},{name:"<i>反馈</i>",index:"8",clickme:!1,tool:"",url:"//survey.taobao.com/survey/kgsa2JZE2?acm=lb-zebra-634493-8610539.1003.4.8191555&scm=1003.4.lb-zebra-634493-8610539.OTHER_15917316861957_8191555"},{name:"暴恐<br>举报",index:"9",clickme:!1,tool:"",url:"//www.12377.cn/?acm=lb-zebra-634493-8610539.1003.4.8191555&scm=1003.4.lb-zebra-634493-8610539.OTHER_15917313014468_8191555"}],tbhomeTaobao2021006CSuperbannerItemjsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<a href="'+(null==(__t=data.logo.logoUrl)?"":__t)+'" class="tmall-logo fl">\n  <img src="'+(null==(__t=data.logo.logoImg)?"":__t)+'" alt="天猫">\n</a>\n<div class="list fl" data-spm-ab="taobao">\n  ',_.each(data.list,function(t,e){__p+='\n    <a href="'+(null==(__t=t.link)?"":__t)+'" class="fl item-'+(null==(__t=e+1)?"":__t)+" item "+(null==(__t=4==e?"last":"")?"":__t)+'" style="background-image: url('+(null==(__t=t.bgurl)?"":__t)+')">\n      <div class="desc-wrapper">\n        <h4 class="title">'+(null==(__t=t.title)?"":__t)+'</h4>\n        <p class="subtitle">'+(null==(__t=t.subtitle)?"":__t)+"</p>\n      </div>\n      ",t.img&&(__p+='\n      <div class="img-outer">\n        <img src="'+(null==(__t=$runtime.image(t.img,"80x80","160x160","q90",!0))?"":__t)+'" alt="'+(null==(__t=t.title)?"":__t)+'">\n      </div>\n      '),__p+="\n    </a>\n    "}),__p+="\n</div>";return __p}}(),tbhomeTaobao2021006CVenuesItemjsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__j=Array.prototype.join;with(obj)_.each(data.list,function(t,e){__p+="\n",e<5&&(__p+="\n<li ",0==e&&(__p+=' class="first" '),__p+=' style="background-image: url('+(null==(__t=t.bgImg)?"":__t)+')">\n  <a href="'+(null==(__t=t.link)?"":__t)+'">\n    <div class="desc-wrapper">\n      <h4>'+(null==(__t=t.title)?"":__t)+"</h4>\n      <p>"+(null==(__t=t.subtitle)?"":__t)+'</p>\n    </div>\n    <div class="wrap-img">\n       <img src="'+(null==(__t=$runtime.image(t.img,"100x100","200x200","q90",!0))?"":__t)+'" alt="">\n    </div>\n  </a>\n</li>\n'),__p+="\n"});return __p}}(),V2=aliOffline,W2=aliPatternLibReporter,X2=aliSession,Y2=util,Z2=node.all,(new V2,aliPattern).extend(T2,{init:function(){var a=this;this.rewriteJSTracker(),Y2.load(function(){a.addClickTracker(),a.scrollPV(),a.modulePVDots()}),window.addEventListener("unhandledrejection",function(t){t=Y2.computeStackTraceFromStackProp(t.reason);W2({category:"ERROR_PROMISE",msg:JSON.stringify(t)})}),Z2(document).on("private:error",function(t){var e=t&&t.detail;(e=e||t&&t.originalEvent&&t.originalEvent.detail)&&"tanx"===e.source&&a.broadcast("alimama:tanx",e);try{W2({category:"ERROR_PRIVATE_ERROR",msg:JSON.stringify(t)},"warn")}catch(t){}})},modulePVDots:function(){var a=[];Z2("div[preload-distance]").each(function(t){var e=Z2(t),t=e.offset().top;a.push({el:e,top:t})});var t,a=a.sort(function(t,e){return t.top>e.top?1:-1}),e=Z2(window);e.on("scroll",t=function(){var n=e.scrollTop()+e.height(),o=!0;Y2.each(a,function(t){var e=t.el,a=t.top;t.loaded||(o=!1),a<=n&&e.hasClass("tbh-loaded")&&(t.loaded=!0,e.attr("tms"),e.attr("tms-datakey"),t=e.attr("data-name")||"",e=(e=(e=e.one('a[href*="pvid"]'))&&e.attr("href"))&&e.match(/pvid=([^&$#]*)/),W2({msg:"exposure log "+t+": {tag}",goldlog:["/tbindex.20160406.1","",{name:t,pvid:e&&e[1]||""},"H46985920"]}))}),o&&e.detach("scroll",t)}),t()},scrollPV:function(){for(var t,a=[],n=Z2(window),o=[],e=0;e<30;e++)a.push(700+350*e);n.on("scroll",t=function(){var e=n.scrollTop();Y2.each(a,function(t){t<=e&&!Y2.inArray(t,o)&&(o.push(t),W2({goldlog:["/tbindex.2014.10","",{top:t},"H46896546"],msg:t+"px 触发埋点"}))}),a.length==o.length&&n.detach("scroll",t)}),t()},addClickTracker:function(){function t(t,e,a,n){t=Z2(t);t&&!t.attr("data-spm-click")&&t.attr("data-spm-click","gostr="+(n=n||"/tbindex")+";locaid="+(a=a||"d2016")+(e=e?";name="+e:""))}t(".J_Conve a[href*='zhaocaibao.alipay.com']","蚂蚁金服招财宝首页"),t(".J_QrFt","二维码关闭按钮"),t(".J_PromoOpt .prev","首焦prev按钮","d500"),t(".J_PromoOpt .next","首焦next按钮","d600"),t(".J_TmallOpt .prev","天猫prev按钮","d500"),t(".J_TmallOpt .next","天猫next按钮","d600")},rewriteJSTracker:function(){var n=window.JSTracker2.push,o=this;window.JSTracker2.push=function(t){if(t&&t.msg&&t.msg.indexOf&&-1!==t.msg.indexOf("||")){var e=t.msg.split("||")[1],a=void 0;if(Y2.isString(e))try{if(e=JSON.parse(e),a=o.getModule(e),-1!==t.msg.indexOf("容灾数据不存在"))return;if(a)return void a.report({data:{type:"tce"},msg:t.msg.split("||")[0]})}catch(t){}}n.apply(window.JSTracker2,arguments)}},getModule:function(e){Y2.isArray(e)&&(e=e[0]);var t=X2.get("modules"),a=void 0;return t&&e.tce_sid&&Y2.each(t,function(t){t.dataStr&&-1!==t.dataStr.indexOf(e.tce_sid)&&(a=t.mod)}),a}}),tbhomeTaobao2021006LibLog=T2,Yd=node.all,Zd=aliPatternLibReporter,tbhomeTaobao2021006LibSwRegister=function(){var t,e=Yd("#J_TBBucket").attr("data-pwa");"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("message",function(t){"ERROR"===t.type?Zd({category:"SW_ERROR",msg:JSON.stringify(t)}):"REJECTION"===t.type&&Zd({category:"SW_REJECTION",msg:JSON.stringify(t)})}),t=navigator.serviceWorker,"true"==e?navigator.serviceWorker.register("/sw.js").catch(function(t){Zd({category:"SW_REGIST",msg:JSON.stringify(t)})}):(t.getRegistrations?t.getRegistrations().then(function(t){t.forEach(function(t){t.unregister()})}):t.getRegistration&&t.getRegistration().then(function(t){t&&t.unregister()}),window.caches&&caches.keys&&caches.keys().then(function(t){t.forEach(function(t){caches.delete(t)})})))},tbhomeTaobao2021006CommonHeadItemBarjsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__j=Array.prototype.join;with(obj)__p+="\n",data.itemLayer&&(__p+='\n<div class="'+(null==(__t=data.classname)?"":__t)+'-inner">\n'),__p+='\n  <h3 class="'+(null==(__t=data.classname)?"":__t)+'-hd mod-hd bar-hd">\n    <span class="total-title fl">'+(null==(__t=data.title)?"":__t)+"</span>\n    ",data.link&&(__p+='\n      <a href="'+(null==(__t=data.link)?"":__t)+'" class="fl">\n      '),__p+=' \n    <img class="mlogo fl" src="'+(null==(__t=data.logo)?"":__t)+'" title="'+(null==(__t=data.title)?"":__t)+'"/>\n  </h3>\n  <div class="list clearfix"></div>\n  ',data.itemLayer||(__p+='\n  <div class="hotsale-ft">\n    <i class="hotsale-end">END</i>\n  </div>\n  '),__p+="\n\n",data.itemLayer&&(__p+="\n</div>\n");return __p}}(),tbhomeTaobao2021006CommonHeadItemjsthtml=function(exports){return function(obj){function print(){__p+=__j.call(arguments,"")}obj=obj||{};var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="'+(null==(__t=data.classname)?"":__t)+'-inner">\n  <h3 class="'+(null==(__t=data.classname)?"":__t)+'-hd mod-hd com-hd">\n    <span class="total-title fl">'+(null==(__t=data.title)?"":__t)+"</span>\n    ",data.link&&(__p+='\n    <a href="'+(null==(__t=data.link)?"":__t)+'" class="fl">\n    '),__p+=' \n    <img class="mlogo fl" src="'+(null==(__t=data.logo)?"":__t)+'" title="'+(null==(__t=data.title)?"":__t)+'"/>\n    ',data.link&&(__p+="\n    </a>\n    "),__p+="\n    <p>\n      ",data.qr&&(__p+=' \n      <span class="qr-wrapper">\n        <span class="tb-ifont tb-qr">&#xe610;</span>\n        <span class="a-all">\n          <img src="'+(null==(__t=data.qr)?"":__t)+'" alt="'+(null==(__t=data.title)?"":__t)+'">\n          <em>手机淘宝扫码</em>\n        </span>\n      </span>\n      '),__p+='\n      \x3c!-- <span class="subtitle '+(null==(__t=data.qr?"":"ml6")?"":__t)+'">'+(null==(__t=data.subtitle)?"":__t)+'</span> --\x3e\n    </p>\n    \x3c!-- <span class="tb-fn clearfix">\n      ',_.isTrue(data.switcher)&&(__p+='\n      <span class="switch">换一换</span>\n      '),__p+="\n      ",data.moreLink&&(__p+='\n      <a class="more" href="'+(null==(__t=data.moreLink)?"":__t)+'">更多 <i class="tb-ifont">&#xe62e;</i></a>\n      '),__p+='\n    </span> --\x3e\n  </h3>\n  <ul class="list clearfix '+(null==(__t=data.classname)?"":__t)+'-list"></ul>\n</div>\n\n\n';return __p}}(),j3=util,k3=node.all,j3.isHighDensity=function(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&1.3<window.devicePixelRatio},j3.frame=function(t){window.requestNextAnimationFrame(function(){t()})},j3.load=function(t,e){function a(){e?setTimeout(function(){j3.frame(t)},e):j3.frame(t)}/loaded|complete/.test(document.readyState)?a():k3(window).on("load",a)},j3.getKey=function(t,e){if(t&&t[e])return t[e]},j3.getItem=function(t,e){if(t&&j3.isArray(t)&&t.length>e)return t[e]},j3.isElementInViewport=function(t){var e=t.getBoundingClientRect(),e={width:e.width,height:e.height,top:e.top,left:e.left};return e.height||(e.height=k3(t).height()),e.width||(e.width=k3(t).width()),0<e.top+e.height&&0<e.left+e.width&&e.left<=(window.innerWidth||document.documentElement.clientWidth)&&e.top<=(window.innerHeight||document.documentElement.clientHeight)},tbhomeTaobao2021006LibUtil=void(j3.computeStackTraceFromStackProp=function(t){if(void 0!==t.stack&&t.stack){for(var e,a,n=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,r=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,s=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=t.stack.split("\n"),c=[],d=(/^(.*) is undefined$/.exec(t.message),0),h=l.length;d<h;++d){if(a=n.exec(l[d])){var u=a[2]&&0===a[2].indexOf("native");a[2]&&0===a[2].indexOf("eval")&&(e=s.exec(a[2]))&&(a[2]=e[1],a[3]=e[2],a[4]=e[3]),u={url:u?null:a[2],func:a[1]||"?",args:u?[a[2]]:[],line:a[3]?+a[3]:null,column:a[4]?+a[4]:null}}else if(a=o.exec(l[d]))u={url:a[2],func:a[1]||"?",args:[],line:+a[3],column:a[4]?+a[4]:null};else{if(!(a=i.exec(l[d])))continue;a[3]&&-1<a[3].indexOf(" > eval")&&(e=r.exec(a[3]))?(a[3]=e[1],a[4]=e[2],a[5]=null):0!==d||a[5]||void 0===t.columnNumber||(c[0].column=t.columnNumber+1),u={url:a[3],func:a[1]||"?",args:a[2]?a[2].split(","):[],line:a[4]?+a[4]:null,column:a[5]?+a[5]:null}}!u.func&&u.line&&(u.func="?"),c.push(u)}return c.length?{name:t.name,message:t.message,stack:c}:null}}),O3=node.all,P3=tbhomeTaobao2021006LibTanx,Q3=util,S3=aliPatternLibImage,aliPattern.extend(N3,{init:function(){var a=this,t=O3("textarea",this.innerEl);if(t.length){var e=t.attr("data-type");this.configData=JSON.parse(Q3.trim(t.val()));t=this.configData.pid;if(1==e)this.renderTanx(t),this.type=1,window.tanx_c=window.tanx_c||{},window.tanx_c[t]={CustomShow:function(t){try{if(t.tmpl){var e=JSON.parse(t.tmpl);if(e.image1&&e.image2&&e.image3)return void a.renderBg(e)}a.backup({message:"empty"})}catch(t){a.backup({message:t.message})}}},new P3(this.innerEl);else{if(0!=e)return;this.renderTanx(t),new P3(this.innerEl),this.type=0}this.bind()}},renderTanx:function(t){this.innerEl.html('<a class="J_Tanx" style="display:none!important" id="tanx-a-'+t+'" data-id='+t+"></a>")},renderBg:function(t){this.innerEl.html('<div class="tbh-ad-wrapper">\n        <img alt="广告" src="'+S3.getNewUrl(t.image2,{webp:!0})+'"/>\n        <span class="tbh-ad-banner-tag">广告</span>\n      </div>\n      <img alt="左侧氛围" src="'+S3.getNewUrl(t.image1,{webp:!0})+'"  class="ad-left-item"/>\n      <img alt="右侧氛围" src="'+S3.getNewUrl(t.image1,{webp:!0})+'" class="ad-right-item"/>'),this.responesive(),this.lazyBind()},bind:function(){var e=this;O3("document"),this.subscribe("alimama:tanx",function(t){t&&t.hook&&t.hook==="#tanx-a-"+e.configData.pid&&e.backup(t)})},lazyBind:function(){O3(window).on("resize",Q3.buffer(this.responesive,100))},responesive:function(){var t=O3(window).width(),e=O3("body"),a=O3(".tbh-ad-banner-tag",this.innerEl),t=e.hasClass("s1190")?-(t-990)/2:(t-1190)/2<365?-(t-1190)/2:-365;a.css({right:t})},backup:function(t){0==this.type?this.innerEl.html('<a class="tbh-ad-banner" href="'+this.configData.link+'"><img src="'+this.configData.img+'"><span class="tbh-ad-banner-tag">广告</span></a>'):this.renderBg({image1:this.configData.leftImg,image2:this.configData.img,image3:this.configData.rightImg}),this.reportBackup({extra:t})},defaults:function(){return{name:"ad",category:"ALIMAMA_AD"}}}),tbhomeTaobao2021006CAdIndex=N3,ke=aliPattern,le=promise,ne=util,oe=tbhomeTaobao2021006CServiceCatjsthtml,pe=tbhomeTaobao2021006CServiceItemjsthtml,qe=tbhomeTaobao2021006CServiceBannerjsthtml,re=window.lib.mtop,se=node.all,te=-1,ue={},ve="cache-service-banners",we=ve+"-validator",xe={},ke.extend(je,{init:function(){this.floatEl=se(".service-float",this.el),this.bind(),this.collectData(),this.showHotTags(),this.serviceEl=se(".J_Service",this.el)},bind:function(){var a=this,t=se(".service-bd",this.el),n=se("li",t),o=this.floatEl;this.el.delegate("mouseenter",".J_Cat",function(t){var e=se(t.currentTarget);a.enterTime&&clearTimeout(a.enterTime),a.enterTime=setTimeout(function(){te=e.index(),n.removeClass("on"),e.addClass("on"),o.fadeIn(.3),a.showFloat()},100)}),this.el.delegate("mouseleave",".service-bd",function(t){t=se(t.relatedTarget||t.toElement||t.fromElement);t.hasClass("service-float")||t.parent(".service-float")||(a.enterTime&&clearTimeout(a.enterTime),te=-1,n.removeClass("on"),o.hide())}),o.on("mouseenter",function(){-1<te&&(a.enterTime&&clearTimeout(a.enterTime),n.item(te).addClass("on"),o.fadeIn(.3),a.showFloat())}).on("mouseleave",function(t){t=se(t.relatedTarget||t.toElement||t.fromElement);t.hasClass("service-bd")||t.parent(".service-bd")||(a.enterTime&&clearTimeout(a.enterTime),te=-1,n.removeClass("on"),o.hide())})},collectData:function(){for(var t=se(".J_Cat",this.el),e=[],a=[],n=0,o=t.length;n<o;n++){for(var i=se(t[n]),r=i.attr("data-groupid"),s=i.attr("data-closeper"),l=se("a",i),c=[],d=[],h=0,u=l.length;h<u;h++){var m=se(l[h]),p=m.attr("data-dataid");c.push(m.attr("data-cid")),d.push(p),a.push(p)}e.push({groupId:r,closePer:1==s,cids:c,dataids:d})}this.config=ue=e,this.mids=a},showFloat:function(){var t=se(".service-float-item",this.el),e=se('.service-float-item[data-index="'+te+'"]',this.el);return-1==te||e.length?(t.hide(),void e.show()):(this.renderTo(pe,{index:te},this.floatEl),t.hide(),se('.service-float-item[data-index="'+te+'"]',this.el).show(),this.renderModuleData(),void this.godlog("/tbindex.2016092701.category","EXP",{index:te},"H1484266099","主题市场浮层曝光，序号："+te))},renderBanners:function(){var i=this,r=te,s=ue[r].groupId;this.fetchBanner(s).then(function(t){for(var e={recItemList:ue[r].backup},a=0,n=(t=t&&t.result||[]).length;a<n;a++)if(t[a]&&t[a].topicId==s&&t[a].recItemList&&6<=t[a].recItemList.length){e=t[a];break}e||i.reportError({msg:"容灾失败，banner 数据不存在",category:i.category.banner,extra:{topicId:s}});var o=se('.service-float-item[data-index="'+r+'"] .service-rmd-list',i.el);i.render(qe,e,o),o.removeClass("loading")}).catch(function(t){i.reportError({category:i.category.banner,extra:{topicId:s,msg:"渲染异常，详情"+t&&t.message}})})},renderModuleData:function(){var n=this,o=te;this.requestModuleData(function(t){var e=t.splice(0,1),a=se('.service-float-item[data-index="'+o+'"] .service-fi-links');n.render(oe,t,a),a.removeClass("loading");a=se('.service-float-item[data-index="'+o+'"] .service-rmd-list',n.el);n.render(qe,e[0],a),a.removeClass("loading")})},requestModuleData:function(a){var n=this,o="tce_"+te;return xe[o]?void(a&&a(xe[o])):re.request({api:"mtop.mytaobao.pchome.multiAcquire",v:"1.0",data:{bizType:"pccategory",requestMap:JSON.stringify({catNameId:te+1})},ecode:0,type:"GET",dataType:"jsonp",timeout:2e4}).then(function(t){t=t.data.result;!(xe[o]=t)||ne.isEmptyObject(t)?(t=n.offline.getItem(o))?(t=JSON.parse(t),a&&a(t),n.reportCache({category:n.category.cat})):n.getCatBackup(o,a):(n.offline.setItem(o,JSON.stringify(t)),a&&a(t))}).catch(function(t){var e=n.offline.getItem(o);e?(e=JSON.parse(e),xe[o]=e,a&&a(e),n.reportCache({category:n.category.cat})):n.getCatBackup(o,a)})},fetchBanner:function(c){var d=this,h=this.fname;return new le(function(s,l){return xe[d.fname]&&d.cacheTPP[c]?void s(xe[d.fname]):d.cacheBannerData?void s(d.cacheBannerData):d.jsonp({url:"//tui.taobao.com/recommend?appid=2807",timeout:3}).then(function(t){if(d.hasTppRequest=!0,t&&t.result&&0<t.result.length){var e=[];xe[h]=t;for(var a=0;a<3;a++)t.result[a]&&t.result[a].topicId&&e.push(t.result[a].topicId);for(var a=0,n=t.result.length;a<n;a++){var o=t.result[a],i=o&&o.topicId;i&&d.validator.array.minItems(o.recItemList,6)&&(d.cacheTPP[i]=!0)}return e.length&&d.offline.setItem("service-hot",e.join(",")),d.offline.setItem(ve,JSON.stringify(t)),d.offline.setItem(we,JSON.stringify(d.cacheTPP)),void(d.cacheTPP[c]&&s(t))}var r=d.getCacheBanner(c);return r?void s(r):void l()},function(t){var e=d.getCacheBanner(c);e?s(e):l()})}).then(function(t){return t},function(){return d.getBackupBanner(c)})},getCacheBanner:function(t){var e=this.offline.getItem(ve),a=this.offline.getItem(we);if(e&&a&&(e=JSON.parse(e),a=JSON.parse(a),xe[this.fname]=e,a[t]))return this.reportCache({category:this.category.banner,extra:{topicId:t}}),e},showHotTags:function(){var t=this.offline.getItem("service-hot");if(t)for(var e=0,a=(t=t.split(",")).length;e<a;e++)se('.J_Cat[data-groupid="'+t[e]+'"] span',this.el).addClass("tbh-tag")},_setBannerBackup:function(t){var e=this;ne.each(t,function(t){e.getRetItem(t.groupId).backup=t.banners})},getRetItem:function(t){for(var e=0,a=ue.length;e<a;e++)if(ue[e].groupId===t)return ue[e]},getCatBackup:function(a,n){var o=this;KISSY.use("p/tbh-service-cat/index",function(t,e){xe[a]=e[a],o.reportCDN({category:o.category.cat}),n&&n(e[a])},function(t){n(),o.reportError({category:o.category.cat})})},getBackupBanner:function(e){var a=this;return this.use("p/tbh-service/index").then(function(t){return a.reportCDN({category:a.category.banner,extra:{topicId:e}}),a._setBannerBackup(t&&t.groups),(a.cacheBannerData=t).groups},function(){a.reportError({category:a.category.banner,extra:{topicId:e}})})},defaults:function(){return{name:"tbh-service",fname:"tpp_tbh-service",cacheTPP:{},category:{cat:"ERROR_service_cat_data_err",banner:"ERROR_service_banner_data_err"}}}}),tbhomeTaobao2021006CServiceIndex=je,ff=aliPattern,gf=tbhomeTaobao2021006LibTanx,jf=aliSlide,kf=util,lf=aliPatternLibImage,mf=aliSession,nf=node.all,of=tbhomeTaobao2021006CTmallBanners,pf=window.lib.mtop,qf={},ff.extend(ef,{init:function(){this.collectData(),this.initSlider(),this.bind(),this._getLogo(),nf(".tmall-bd",this.el).removeClass("tb-loading")},bind:function(){var e=this;this.el.delegate("click",".J_Prev",this._prev,this),this.el.delegate("click",".J_Next",this._next,this),this.subscribe("page:visibility",function(t){e.inViewport(t.hidden)}),nf(window).on("resize scroll",kf.throttle(function(t){e.inViewport(!1)},200))},initSlider:function(){var a=this;this.slide=new jf(this.el,{contentClass:"tmall-bd",pannelClass:"mod",effect:"hSlide",timeout:5e3,carousel:!0,autoSlide:!0,touchmove:!0}),this.el.on("mouseenter",function(){a.optEl.show()}),this.el.on("mouseleave",function(){a.optEl.hide()}),this.slide.on("beforeSwitch",function(t){var e=t.pannelnode,t=t.index;0==(t=t==a.bannerLen+1?1:t)&&(t=a.bannerLen),nf(".tmall-hd i",a.el).text(t),a.store[t]||(e.hasClass("J_TanxWrapper")?(a.loadTanx(e,5),a._godlog(t)):e.hasClass("J_Tce")&&a.loadXctrl(e,t-1))});try{var t=this.slide.pannels.item(1)}catch(t){this.reportError({extra:"初始化异常，详情："+t.message})}this.loadTanx(t,0)},inViewport:function(t){kf.isElementInViewport(this.el[0])&&!t?this.isPlay||(this.activeSlide(!0),this.isPlay=!0):this.isPlay&&(this.activeSlide(!1),this.isPlay=!1)},activeSlide:function(t){t?this.slide&&this.slide.play():this.slide&&this.slide.stop()},_prev:function(t){t.preventDefault(),this.slide.previous()},_next:function(t){t.preventDefault(),this.slide.next()},loadXctrl:function(t,e){var a=this;return 1==e&&qf[4]?(this.xctrlRender(qf[1],nf(this.slide.pannels.item(2)),1),!1):2==e&&qf[4]?(this.xctrlRender(qf[2],nf(this.slide.pannels.item(4)),2),!1):3==e&&qf[4]?(this.xctrlRender(qf[3],nf(this.slide.pannels.item(5)),3),!1):4==e&&qf[4]?(this.xctrlRender(qf[4],nf(this.slide.pannels.item(6)),4),!1):pf.request({api:"mtop.tmall.kangaroo.core.service.route.AldLampService",v:"1.0",data:{appId:10760644,source:"taobao_pc_biguang",count:8,bizId:20200922},ecode:0,type:"GET",dataType:"jsonp",timeout:2e4}).then(function(t){t=t.data.resultValue[10760644].data||[];t&&2<=t.length?qf[1]=t.slice(0,2):(qf[1]=a.banners[1].alds,a.reportError({extra:"天猫必逛第3帧-数据格式错误"})),t&&4<=t.length?qf[2]=t.slice(2,4):(qf[2]=a.banners[2].alds,a.reportError({extra:"天猫必逛第4帧-数据格式错误"})),t&&6<=t.length?qf[3]=t.slice(4,6):(qf[3]=a.banners[3].alds,a.reportError({extra:"天猫必逛第5帧-数据格式错误"})),t&&8<=t.length?qf[4]=t.slice(6,8):(qf[4]=a.banners[4].alds,a.reportError({extra:"天猫必逛第6帧-数据格式错误"})),1===e&&a.xctrlRender(qf[1],nf(a.slide.pannels.item(2)),1),2===e&&a.xctrlRender(qf[2],nf(a.slide.pannels.item(3)),2),3===e&&a.xctrlRender(qf[3],nf(a.slide.pannels.item(4)),3),4===e&&a.xctrlRender(qf[4],nf(a.slide.pannels.item(5)),4)}).catch(function(t){a.reportError({extra:"天猫必逛第3/4/5/6帧-接口错误"}),qf[1]=a.banners[1].alds,qf[2]=a.banners[2].alds,qf[3]=a.banners[3].alds,qf[4]=a.banners[4].alds,1===e&&a.xctrlRender(qf[1],nf(a.slide.pannels.item(2)),1),2===e&&a.xctrlRender(qf[2],nf(a.slide.pannels.item(3)),2),3===e&&a.xctrlRender(qf[3],nf(a.slide.pannels.item(4)),3),4===e&&a.xctrlRender(qf[4],nf(a.slide.pannels.item(5)),4)})},xctrlRender:function(t,e,a){e=nf('.J_Tce[data-spm-ab="'+(a+1)+'"]',this.el);for(var n="",o=0,i=t.length;o<i;o++){var r,s=t[o],l=s.actionUrl||s.link,c=s.imageUrl||s.img,d=s.name||"",h=this.getSize(e),c=lf.getNewUrl(c,{});s.trackParams&&s.trackParams.click&&((r=l.split("?"))[1]&&(s.trackParams.click=kf.merge(kf.unparam(r[1]),s.trackParams.click)),l=l.split("?")[0]+"?"+kf.param(s.trackParams.click)),n+='<a href="'+l+'" data-spm="d'+(o+1)+'"><img src="'+(c+h)+'" alt="'+d+'" /></a>',s.trackParams&&s.trackParams.expose?((d=new Image).src="https://wgo.mmstat.com/turing.plan.1?"+kf.param(s.trackParams.expose),d.onerror=function(){return!1}):this.godlog("/tbhomepc.tmall.tianhe","EXP",{frame:a,msg:"backup"},"","天猫必逛兜底曝光")}e.html(n),e.css("visibility","visible"),e.addClass("mod-loaded"),this.store[a+1]=!0,this._godlog(a+1)},_bg:function(t,n){t.attr("data-open")&&nf("a",t).each(function(t,e){var a;t=nf(t),n[e]&&(a=n[e].bg,e=n[e].bg2,a&&(t.css({background:"url("+a+") 0 0 no-repeat"}),e&&t.css("background-image","-webkit-image-set(url("+a+") 1x,url("+e+") 2x)")))})},_getBgs:function(t){var e=[],a=this.banners[t],t=a&&a.open;if(t=kf.isTrue(t))return kf.each(a.alds,function(t){e.push({bg:t.bg,bg2:t.bg2})}),e},loadTanx:function(a,n){var o,i,r=this,t=a.all(".J_Tanx");0===n?(new gf(t.item(0)),o=t[0].id,this.subscribe("alimama:tanx",function(t){var e;t.hook==="#"+o&&(e="",t=r.banners[n]&&r.banners[n].tanxs,kf.each(t,function(t){e+='<a class="J_Tanx hide" id="tanx-a-'+t.id+'" data-id="'+t.id+'"></a>'}),a.html(e),a.addClass("column-2"),t=a.all(".J_Tanx"),new gf(t.item(0)),new gf(t.item(1)))})):(t.each(function(t){new gf(t,function(){},!0)}),5===n&&(i=!1,function t(){var e;i||((e=nf(".tanx-wrapper",this.el)).all("img").length?(e=e.html(),a.html(e).removeClass("J_TanxWrapper"),a.addClass("column-2"),i=!0):setTimeout(t,50))}()))},getSize:function(t){var e="_240x240.jpg";return t.hasClass("mod-5")?e=this.retina?"_350x1000q90.jpg":"_210x1000q90.jpg":t.hasClass("mod-6")?e=this.retina?"_350x350q90.jpg":"_190x190q90.jpg":t.hasClass("mod-4")&&(e=this.retina?"_350x350q90.jpg":"_200x200q90.jpg"),t.hasClass("mod-12")?e=this.retina?"_170x170q90.jpg":"_90x90q90.jpg":t.hasClass("mod-2")&&(e=this.retina?"_400x400q90.jpg":"_240x240q90.jpg"),this.webp&&this.retina&&(e+="_.webp"),e},collectData:function(){try{this.banners=of,this.bannerLen=this.banners.length}catch(t){this.reportError({extra:t&&t.message})}},_godlog:function(t){this.expouse[t]||(this.expouse[t]=!0,this.godlog("/tbindex.2016201863.1","EXP",{frame:t},"H47671113","tmall frame "+t+" expouse"))},_getLogo:function(){var t,e=nf(".hd-bg",this.el);!e.attr("data-bg")&&(t=mf.get("retina")?"//img.alicdn.com/imgextra/i3/O1CN01gMfwdj1Sk7H2kY9fx_!!6000000002284-2-tps-148-44.png":"//img.alicdn.com/imgextra/i2/O1CN013K3ZGr1fdKPMLiL6r_!!6000000004029-2-tps-74-22.png",t=lf.getImageAndCache(t),e.css({"background-image":"url("+t+")"}))},defaults:function(){return{expouse:{},store:{},name:"tbh-tmall",category:"ERROR_ALD_Load_Crash",isPlay:!0}}}),tbhomeTaobao2021006CTmallIndex=ef,K5=aliPatternLibReporter,L5=aliPattern,M5=tbhomeTaobao2021006CConveLayoutjsthtml,N5=node.all,O5="/markets/tbhome/",P5={game:O5+"bianming-game",baoxian:O5+"bianming-baoxian",trip:O5+"bianming-trip",phone:O5+"bianming-phone"},Q5={},R5=!0,S5="//www.taobao.com",/(alicdn|taobao)\.com$/.test(window.location.host)&&(S5="//"+window.location.host),"tms-preview.taobao.com"===window.location.host&&(S5="//tms-preview.taobao.com/wh/tms/taobao/page"),L5.extend(I5,{init:function(){this.bind(),this.bindCloseAction()},bind:function(){this.el.delegate("mouseenter",".conve-float",this.showConveBox,this),this.el.delegate("mousemove",".conve-float",this.showConveBox,this),this.el.delegate("click",".conve-bd-box-close",this.closeConveBox,this)},showConveBox:function(t){var e,a=N5(t.currentTarget);a.index(),a.hasClass("conve-float")&&(e=N5(".conve",this.el),t=a.attr("data-name"),Q5[t]||(R5&&(R5=!1,this._renderLayout(e),N5(".conve-bd-item").hide()),this.goto(a),Q5[t]=!0),e.addClass("conve_on"),this.el.one(".conve_on")&&(this.el.all(".conve-float").removeClass("selected"),a.addClass("selected")),a.addClass("selected"),N5(".conve-bd-item").hide(),N5(".conve-bd-item.J_Conve_"+t).show())},_renderLayout:function(t){var e=[];N5(".conve-float",t).each(function(t){t=N5(t).attr("data-name");t&&e.push(t)}),this.renderTo(M5,{names:e},t),this.loadStyle()},goto:function(t){try{var e=t.attr("data-name");if(!e)return;var a=N5(".J_Conve_"+e,this.el);if(N5(".J_convePop",this.el).hide(),!a.hasClass("loading"))return}catch(t){this.reportError({extra:"goto error"+this.el.all(".conve-list li").length})}this.ajax({url:S5+P5[e],cache:!1,dataType:"html"}).then(function(t){return t?void a.removeClass("loading").html(t,!0):void K5({category:"Error_conve_load_html_err",msg:"get module: "+e+" fail"})},function(t){K5({category:"Error_conve_load_html_err",msg:"get module: "+e+" fail, detail:"+t&&t.message})})},closeConveBox:function(){clearTimeout(this.timer),this.el.one(".conve").removeClass("conve_on"),this.el.all(".conve-float").removeClass("selected")},bindCloseAction:function(){var n=this;N5("body").on("mousedown",function(t){var e=N5(t.target),a=e.parent(".J_Module");("body"===t.target.nodeName.toLowerCase()||e.hasClass("cup")||a&&!a.parent(".J_Module")&&!a.hasClass("tbh-conve"))&&n.closeConveBox()})},loadStyle:function(){KISSY.getScript("//g.alicdn.com/tb-mod/tbh-conve-common/0.0.1/index-min.css")}}),tbhomeTaobao2021006CConveIndex=I5,og=aliPattern,node.all,qg=util,rg=tbhomeTaobao2021006CFocusItemjsthtml,sg=window.lib.mtop,og.extend(ng,{init:function(){this.load()},_parse:function(){try{return}catch(t){}},load:function(){var e=this;sg.request({api:"mtop.tmall.kangaroo.core.service.route.AldLampService",v:"1.0",data:{appId:10760644,source:"taobao_pc_focus_rightbanner",count:1,bizId:20200922},ecode:0,type:"GET",dataType:"jsonp",timeout:2e4}).then(function(t){t.ret&&~t.ret[0].indexOf("SUCCESS")&&t.data&&t.data.resultValue&&e.validator.array.minItems(t.data.resultValue[10760644].data,1)&&(e.offline.setItem(e.cacheName,t.data.resultValue[10760644].bottomUrl),e.list=t.data.resultValue[10760644].data),e._renderFirstPaint()}).catch(function(t){e.reportError({extra:{err:t&&t.message,val:"渲染错误"}}),e._renderFirstPaint()})},_renderFirstPaint:function(){this._render(this.el)},_render:function(t){var e=null,a=[];qg.each(this.list,function(t){t&&(t.imageUrl&&t.actionUrl?e={targetUrl:t.actionUrl,imgUrl:t.imageUrl,trackParams:t.trackParams}:a.push("img or link is empty"))}),e||this.getCache(),e&&(this.render(rg,e,t),e.trackParams&&this.log(e.trackParams))},log:function(t){var e=this;this.logCache.push(t),setTimeout(function(){e.logCache.length&&e.godlog("/tbindex.luban.luban","EXP",{impid:t.expose.impid,lyg:t.expose.lyg,lygImp:t.expose.lygImp})},0)},getCache:function(t){var e=this,a=this.offline.getItem(this.cacheName),n=null;(t=[]).push(this.cacheName),a?(this.jsonp({url:a.replace("http://","https://"),jsonpCallback:"callback_10760644_source_taobao_pc_focus_rightbanner"}).then(function(t){"success"===t.msgInfo.toLocaleLowerCase()&&t.data&&t.data[0]&&((n={targetUrl:t.data[0].actionUrl,imgUrl:t.data[0].imageUrl,trackParams:t.data[0].trackParams})&&(e.render(rg,n,e.el),n.trackParams&&e.log(n.trackParams)))}),this.reportBackup({extra:t.join(":")})):0<window.staticConfig.focus.length?((n={targetUrl:window.staticConfig.focus[0].targetUrl,imgUrl:window.staticConfig.focus[0].imgUrl,trackParams:JSON.parse(window.staticConfig.focus[0].trackinfo)})&&(this.render(rg,n,this.el),n.trackParams&&this.log(n.trackParams)),this.reportBackup({extra:t.join(":")})):this.reportError({extra:t.join(":")})},defaults:function(){return{cacheName:"taobao_pc_focus_rightbanner",name:"tbh-focus",category:"ERROR_Data_tbh_focus",list:[],backupData:{},logCache:[]}}}),tbhomeTaobao2021006CFocusIndex=ng,Ng=util,Pg=node.all,Rg=aliPatternLibImage,Sg=promise,Tg=tbhomeTaobao2021006CAppItemjsthtml,aliPattern.extend(Mg,{init:function(){this.load()},load:function(){var a=this;this.fetch().then(function(t){5<t.apps.length&&(t.apps=t.apps.slice(0,5));var e=Pg(".apps",a.el);a._parse(t.apps),a.render(Tg,t,e),a._bind()}).catch(function(t){a.reportError()})},fetch:function(){var t=window.staticConfig.app||{};return t&&t.head&&t.apps&&!Ng.isEmptyObject(t.head)&&!Ng.isEmptyObject(t.apps)?(this.offline.setItem(this.cacheKey,JSON.stringify(t)),Sg.resolve(t)):(t=this.offline.getItem(this.cacheKey),(t=JSON.parse(t))?(this.reportCache(),Sg.resolve(t)):this.backup())},backup:function(){var e=this;return this.use("p/"+this.name+"/index").then(function(t){return e.reportCDN(),t})},_parse:function(t){Ng.each(t,function(t){t.img=Rg.getImageAndCache(t.img,{webp:!0,size:"60x60"})})},_bind:function(){this.el.delegate("mouseenter",".nav",function(t){var e=Pg(".J_QRCode",t.currentTarget);1!=e.attr("data-loaded")&&(t=e.attr("data-src"),e.attr("src",t),e.attr("data-loaded",1))})},defaults:function(){return{cacheKey:"cache-apps-tce",name:"tbh-app",cacheBaseKey:"cache-base64-apps"}}}),tbhomeTaobao2021006CAppIndex=Mg,x6=node,k6=aliPatternLibReporter,l6=aliPatternLibImage,m6=_ua_,n6=util,o6=aliSession,p6=aliPattern,q6=tbhomeTaobao2021006CMemberLoginjsthtml,r6=window.TB&&TB.Global,s6=r6&&r6.isLogin(),t6={"北京":"//img.alicdn.com/tfs/TB1DsAvOFXXXXc5XVXXXXXXXXXX-580-340.png","上海":"//img.alicdn.com/tfs/TB18IEUOFXXXXaQXXXXXXXXXXXX-580-340.png","广州":"//img.alicdn.com/tfs/TB1IMECOFXXXXXiXVXXXXXXXXXX-580-340.png","深圳":"//img.alicdn.com/tfs/TB124AVOFXXXXb.XXXXXXXXXXXX-580-340.png","杭州":"//img.alicdn.com/tps/TB1QuZvLVXXXXb4XpXXXXXXXXXX-580-340.png",default:"//img.alicdn.com/tfs/TB19tIiOFXXXXbmapXXXXXXXXXX-580-340.png"},u6=x6.all,v6="//taojinbi.taobao.com/index.htm",x6=function(t){this.el=t,this.tag=r6.getTag(),this.init(),this.bg()},p6.extend(x6,{init:function(){s6&&(e=this.el.all(".J_MemberClub"),this.tag<1&&e.attr("href","//new.taobao.com"),this.el.all(".J_MemberPunch").attr({href:v6,"data-spm":"d1"}),this._render());var t=u6(".J_MemberAvatar",this.el),e=n6.substitute("//wwc.alicdn.com/avatar/getAvatar.do?userNick={userNick}&width=50&height=50&type=sns&_input_charset=UTF-8",{userNick:i6(!0)});t.attr("src",e)},bg:function(){this.el.attr("data-img")||(s6?this.setBg():this._setCityBg())},setBg:function(){var e=this,t=this.offline.getItem("city");return t&&t6[t]?void this._setCityBg(t):(this._setCityBg(),void setTimeout(function(){e.jsonp("//tbip.alicdn.com/api/queryip").then(function(t){t&&t.data&&t.data.city&&(t=t.data.city,(t=(t=/\u5317\u4eac|\u4e0a\u6d77|\u5e7f\u5dde|\u6df1\u5733|\u676d\u5dde/.exec(t))&&t[0])&&e.offline.setItem("city",t))})},8e3))},_setCityBg:function(t){t=t6[t=t||"default"];t&&(m6.ie&&8==m6.ie?t+="_290x290.jpg":(t=o6.get("retina")?t:t+"_290x290.jpg",t=l6.getImageAndCache(t)),this.el.css({backgroundImage:"url("+t+")"}))},_render:function(){var e=this,t=this.el.all(".J_MemberHome"),a=this.el.all(".J_MemberNick");t.attr("href","//i.taobao.com/my_taobao.htm?ad_id=&am_id=&cm_id=&pm_id=1501036000a02c5c3739"),i6()&&a.html(i6()),isNaN(this.tag)||(a="",10===this.tag?a="super":20===this.tag&&(a="apass"),m6.ie&&8==m6.ie||a&&u6(".avatar-wrapper",this.el).addClass(a)),r6.isLogin()&&this.jsonp("//i.taobao.com/json/my_taobao_remind_data.htm").then(function(t){return e.remind(t)},function(t){k6({category:"ERROR_Member_Login_Detect_Crash",msg:"fetch delivery address error, detail: "+(t&&t.message)},"warn")})},remind:function(t){var e=this.el.all(".J_MemberLogin"),a=this.el.all(".J_MemberLogout");t[6],u6(".member-tjb",this.el).addClass("member-tjb-login");t=this.render(q6,{a:t[3]||0,b:t[1][0]||0,c:t[2]||0,d:t[7]||0});e.append(t).show(),a.animate({marginTop:"-25px"},.2,"easeOut"),this.el.all(".J_MemberPunch").attr({href:"//taojinbi.taobao.com/index.htm?auto_take=true","data-spm":"d2"})}}),tbhomeTaobao2021006CMemberIndex=x6,$6=node,_6=util,ah=aliPattern,bh=tbhomeTaobao2021006CDecorationsItemjsthtml,ch=_ua_,dh=navigator.userAgent.match(/(iPad)/)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints,fh=$6.all,ah.extend(Z6,{init:function(){var t=fh("textarea",this.el),e=_6.trim(t.val());t&&t.length&&e&&(eh=JSON.parse(e),t.remove(),eh&&_6.isTrue(eh.holyOn)&&eh.holyList&&0<eh.holyList.length&&this.runholy(eh.holyList),eh&&_6.isTrue(eh.bottomOn)&&eh.bottomList&&0<eh.bottomList.length&&this.runbottom(eh.bottomList))},runholy:function(t){var n=this,o=!1,i=!1,r=fh("#J_SiteNav").outerHeight(),s=fh(".tbh-banner").height(),e=fh(".tbh-superbanner").height();e&&(s+=e),_6.each(t,function(t){var e,a;_6.isTrue(t.left)&&!i&&(e=fh(".tbh-member"),t.left=e.width(),t.top=-(e.offset().top-r-s),a=n.render(bh,t),e.prepend(a),i=!0),_6.isTrue(t.left)||o||(t.left=-t.width,a=fh(".tbh-service"),t.top=-(a.offset().top-r-s),t=n.render(bh,t),a.prepend(t),o=!0)})},_lazybind:function(){fh(window).on("load",_6.bind(this._loadSide,this)),this.lazyTimer=setTimeout(_6.bind(function(){this._loadSide()},this),1e3)},_loadSide:function(){function e(t){clearTimeout(a),a=setTimeout(_6.bind(function(){var o=n.scrollTop()+i;this.list.length?_6.each(this.list,_6.bind(function(t,e){var a,n=t&&t.refer&&fh("."+t.refer);n&&t.img&&n.offset()&&n.offset().top<=o&&(a=_6.substitute(a='<img class="decorate" src="{img}" width="{width}" height="{height}"/>',t),a=fh(a),t.top&&a.css("top",t.top),t.left&&a.css("left",t.left),t.right&&a.css("right",t.right),t.bottom&&a.css("bottom",t.bottom),n.append(a),this.list.splice(e,1))},r)):n.off("scroll",e)},r),50)}var a,n=fh(window),i=n.height(),r=this;this.hasLoad||(this.hasLoad=!0,n.on("scroll",e),e())},runbottom:function(t){var a,e,n,o,i,r,s,l=this;8!==ch.ie&&(a=fh("body"),e=fh(".screen-outer").width(),n=(a.width()-e)/2,s=r=i=o=void 0,_6.each(t,function(t){_6.isTrue(t.left)&&!i&&(s=t.width,t=_6.merge(t,{classname:"fixed-bottom",right:n-s,zIndex:1}),i=l.render(bh,t),a.append(i)),_6.isTrue(t.left)||o||(r=t.width,t=_6.merge(t,{classname:"fixed-bottom",left:n-t.width,zIndex:1}),o=l.render(bh,t),a.append(o))}),fh(window).on("resize",function(t){var e=fh(".screen-outer").width(),e=(a.width()-e)/2;o.css("left",e-r),i.css("right",e-s)}),fh(window).on("scroll",function(t){0<fh(document).scrollTop()+54?(o.fadeIn(.3),i.fadeIn(.3)):(o.fadeOut(.3),i.fadeOut(.3))}))},defaults:function(){return{name:"decoration"}}}),tbhomeTaobao2021006CDecorationsIndex=Z6,a7=_ua_,b7=anim,d7=cookie,e7=tbhomeTaobao2021006CSearchSticky,f7=aliPatternLibReporter,g7=aliPattern,h7=util,i7=tbhomeTaobao2021006CSearchTmalljsthtml,j7=tbhomeTaobao2021006CSearchAlimamajsthtml,k7=node.all,l7=document,g7.extend(_h,{init:function(){this.bind(),this.showDecorations(),new e7,0<this.searchHotEl.length&&(this.cloneLine(),this.loadAlimamaWord()),this.placeholder(),this.intelligentInitSuggest(),this.setSPM("taobao-item")},bind:function(){this.el.delegate("mouseenter","#J_SearchTab",this.toggleTab,this),this.el.delegate("mouseleave","#J_SearchTab",this.toggleTab,this),this.el.delegate("click",".J_SearchTab",this.clickTab,this),this.el.delegate("focusin","#q",this.focusInput,this),this.el.delegate("focusout","#q",this.blurInput,this),this.el.delegate("keyup","#q",this.keyupInput,this),this.el.delegate("input","#q",this.keyupInput,this),this.el.delegate("click","#J_SearchIcon",this.clickIcon,this)},cloneLine:function(){k7(".search-hots-lines",this.el).append(k7(".search-hots-fline",this.el).clone(!0).attr({class:"search-hots-sline","data-spm-ab":"sline"}))},placeholder:function(){var o=this,i=k7(".J_TbSearchContent label"),r=i.attr("data-oeid");r&&this.jsonp({url:"//s.taobao.com/search?app=api&m=word&oeid=",data:{oeid:r}}).then(function(t){if(t&&t.success&&t.data&&0<t.data.length){var e=t.data[0],t="<span style='display:none;'>"+e.word_keyword+"</span>"+(e.word_title||e.word_keyword);if(i.html(t).attr("data-searchtype-item",t).show(),e.word_url){var a,n=!!((e=(e=e.word_url).match(/(\w+?:\/\/[^\?#&]+)(\?([^$#]+))?/))&&e[1]&&e[3])&&{action:e[1],params:h7.unparam(e[3])};for(a in k7(".J_SearchPanel form",o.el).attr("action",n.action),n.params)"q"!=a&&o.hidden(!0,a,n.params[a])}}else i.show(),f7({category:"ERROR_NODATA_"+r,msg:"API: 0"+r},"warn")},function(t){i.show(),f7({category:"ERROR_FAILED_"+r,msg:"API: "+r+" msg: "+t&&t.message},"warn")})},intelligentInitSuggest:function(){function t(){n||(n=!0,a.initSearchSuggest(),e.off("load",t),a.qEl.off("focus",t),a.qEl.off("input",t),a.el.undelegate("mouseenter",".search-wrap",t,this))}var e=k7(window),a=this,n=!1;h7.load(function(){setTimeout(function(){t()},600)}),this.qEl.on("focus",t),this.qEl.on("input",t),this.el.delegate("mouseenter",".search-wrap",t,this)},initSearchSuggest:function(){var t=window.suggestModuleVersion||"6.2.3",c=this,t="kg/search-suggest/"+t;KISSY.use(t+"/index,"+t+"/plugin/history,"+t+"/plugin/cloud,"+t+"/plugin/tab,"+t+"/plugin/history-magic,"+t+"/plugin/imgsearch,"+t+"/theme/pailitao/,"+t+"/new_suggest.css",function(t,e,a,n,o,i,r,s){n=[new a,new o({activeCls:"selected",node:c.el.all("li.J_SearchTab")}),new n,new i],i=!(0<k7(l7).scrollTop());a7.ie&&a7.ie<=7||(s=new r({input:"#J_IMGSeachUploadBtn",type:"iframe",theme:new s({formNode:"#J_TSearchForm",queueTarget:"#J_UploaderMessage"})}),n.push(s),k7("#J_UploaderPanel").show());var l=new e({placeholder:{show:!0,node:"#tbSearchContent",api:"//suggest.taobao.com/sug?area=shade_recommand&code=utf-8"},plugins:n,sugConfig:{sourceUrl:"//suggest.taobao.com/sug?k=1&area=c2c",node:"#q",focused:i,resultFormat:""},mods:{sort:["channelEntry","history","c2c_activity","dapei_top","cat","global","list","dapei_bottom","scene","shop","tmall","cloud"],tmall:{tmpl:['<div class="{prefixCls}menu-extras-cate extras-mall" data-key="q={tmall}&suggest=tmall_{$index}&tab=mall">','<span class="{prefixCls}menu-key">{tmall}</span>',"<b>天猫相关</b>","</div>"].join("")},scene:{tmpl:['<div class="{prefixCls}menu-extras-cate extras-scene" data-action="https://fa.taobao.com/search" data-key="q={scene}&suggest=scene_{$index}">','<span class="{prefixCls}menu-key">{scene}</span>',"<b>装修宝典/选购秘籍</b>","</div>"].join("")}}});l.on("beforeImageSuccess",function(){f7({msg:"图片上传成功"})}),l.comboBox.on("beforeShow",function(){TB.$sug||(TB.$sug=l.get("menu").get("el"))}),l.comboBox.on("click",function(){f7(k7(".J_Cup").hasClass("wrap-fixed")?{goldlog:["/tbindex.2014.11","",{type:2},"H46896547"]}:{goldlog:["/tbindex.2014.11","",{type:1},"H46896547"]})}),a7.ie&&11===a7.ie&&l.comboBox.get("menu").on("afterRenderUI",function(){this.get("el").on("click",{fn:function(t){l.comboClick(t)},once:!0})}),c.comboBox=l.comboBox,i||this.forms&&(this.forms.className=""),k7(".btn-search").on("click",function(t){t.halt();var e,a=c.qEl,n=k7("#J_TSearchForm");""===h7.trim(a.val())?(c.isTmall?(e=k7(".J_TmallPlaceholder").children("label").attr("data-q"),c.hidden(!0,"from","tbmain_1_placeholder")):(c.setSPM("taobao-item"),(t=k7("span",".J_TbPlaceholder"))&&t.length&&(e=t.text(),n.append('<input type="hidden" name="hintq" value="1">')),c.hidden(!1)),k7(".J_Placeholder",this.el).hide(),a.val(e)):c.setSPM("taobao-item"),n.fire("submit")})})},setSPM:function(t){var e=[k7("meta[name=spm-id]").attr("content")];e.push(k7("body").attr("data-spm")),e.push(this.el.attr("data-spm")+"-"+t),e.push(h7.trim(this.qEl.val())?"1":"2"),this.forms.spm.value=e.join(".")},toggleTab:function(t){var e=t.type,a="triggers-hover",t=k7(".J_SearchTabBox",this.el);"mouseenter"===e?t.addClass(a):t.removeClass(a)},clickTab:function(t){t=k7(t.currentTarget);(k7(".J_Cup").hasClass("wrap-fixed")||k7(".J_Cup").hasClass("search-fixed"))&&(e=k7(".J_SearchTabBox",this.el),a=(n=k7("ul",e)).item(0),t[0]!==a[0]&&n.prepend(t)),this.forms.search_type.value=t.attr("data-searchType"),this.isTmall="true"===t.attr("data-tmall");var e=k7(".J_SearchPanel",this.el),a=k7(".J_TmallSearchContent",this.el),n=k7(".J_TbSearchContent",this.el),t=k7(".btn-search",this.el);this.isTmall?(e.addClass("tmall-search-panel"),t.removeClass("tb-bg"),this.setSPM("tmall"),this.loadTmallWord(),a.show(),n.hide()):(e.removeClass("tmall-search-panel"),t.addClass("tb-bg"),this.setSPM("taobao-item"),a.hide(),n.show()),this.qEl.val()&&(a.hide(),n.hide())},hidden:function(t,e,a){var n=k7(".J_SearchPanel").all("form"),o=k7(".hidden-"+e);t?(a=h7.substitute('<input type="hidden" name="{name}" value="{value}" class="hidden-{name}">',{name:e,value:a}),o.length||n.append(a)):o.length&&o.remove()},loadAlimamaWord:function(){var e=this,t=window.TB,a=t&&t.Global&&t.Global.getNick(),t=d7.get("cna"),n="//textlink.simba.taobao.com";this.jsonp({url:n,dataType:"jsonp",data:{name:"tbhs",cna:t,nn:encodeURIComponent(a)||"",count:13,pid:"430266_1006"}}).then(function(t){t&&t.success&&t.data&&0<t.data.length?(e.render(j7,t.data,k7(".search-hots-sline",e.el)),e._alimamaWordRun()):f7({category:"ERROR_NODATA_"+n,msg:"API: "+n+", DATA: "+(JSON.stringify(t)||"").slice(0,500),sampling:10},"warn")}).catch(function(){f7({category:"ERROR_FAILED_"+n,msg:"API: "+n},"warn")})},_alimamaWordRun:function(){var t=k7(".search-hots-lines",this.el);t.css("top",0),setTimeout(function(){new b7(t,{top:-23},.6,"ease-out").run()},10)},loadTmallWord:function(){var a=this;return this.tmallWord||void this.jsonp("//suggest.taobao.com/sug?area=tmall-hq&code=utf-8&src=tbmain").then(function(t){var e;t.success&&((t=(e=(a.tmallWord=t).model).placeholder&&e.placeholder[0])&&k7(".J_TmallPlaceholder",a.el).all("label").text(t.text).attr("data-q",t.query),a.render(i7,e,k7(".J_TmallHotWord")))})},focusInput:function(){this.forms.className="search-panel-focused"},blurInput:function(){h7.trim(this.qEl.val())||(this.forms.className="")},keyupInput:function(){var t=h7.trim(this.qEl.val()),e=k7(".J_SearchIcon",this.el),a=k7(".J_Placeholder",this.el),n=k7(".J_TmallSearchContent",this.el),o=k7(".J_TbSearchContent",this.el);t?(a.hide(),e.hide()):(a.hide(),this.isTmall?n.show():(o.show(),k7(".J_TbPlaceholder").show()),e.show()),t&&(n.hide(),n.hide())},clickIcon:function(){this.qEl.fire("focus")},showDecorations:function(){window.staticConfig&&window.staticConfig.decorations&&!0===Boolean(window.staticConfig.decorations.on)&&!0===Boolean(window.staticConfig.decorations.holyOn)&&(k7(".tbh-nav").css("border-radius","0"),k7(".cup").addClass(".search-decorations"))},defaults:function(){return{name:"tbh-search"}}}),tbhomeTaobao2021006CSearchIndex=_h,Qi=_ua_,Si=aliAttrAnim,Ti=tbhomeTaobao2021006CFixedtoolItemjsthtml,Ui=aliPattern,Vi=tbhomeTaobao2021006CFixedtoolBackup,Wi=node.all,Xi=Qi&&Qi.ie&&8===Qi.ie,Yi=Xi?0:.4,Zi=navigator.userAgent.match(/(iPad)/)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints,Ui.extend($i,{init:function(){var e=this;this.load().then(function(t){t&&(e.render(Ti,t,e.toolEl),e.bind())}).catch(function(t){e.reportError({extra:t&&t.message})})},load:function(){if(window.staticConfig.fixedtool){var t=window.staticConfig.fixedtool,t=this._getTool(t);if(t)return Promise.resolve(t)}return this.backup()},_getTool:function(t){t=t.tools;if(t&&t.length)return t},backup:function(){return this.reportError(),Promise.resolve(Vi)},bind:function(){var i=this,r=this,s=Wi('a[data-tool="gotop"]',this.toolEl),l=Wi(window);this.count(),this.el.delegate("click","a",function(t){var e=Wi(t.currentTarget).attr("data-tool");if(!e)return!0;if(i.count(),t.halt(),"gotop"===e)return Xi?void l.scrollTop(0):(new Si(Wi("html"),{scrollTop:0},{duration:Yi,easing:"easeOut"}).run(),void new Si(Wi("body"),{scrollTop:0},{duration:Yi,easing:"easeOut"}).run());if(i.dataCache[e]){function n(t,e){"hotsale"!==e||n.hasExe||(n.hasExe=!0,r.count(),e=r.dataCache[e].top,a(e,0))}var a=function(t,e,a){new Si(Wi("body"),{scrollTop:t},{duration:e,easing:"easeOut",complete:function(){n(0,a)}}).run(),new Si(Wi("html"),{scrollTop:t},{duration:e,easing:"easeOut",complete:function(){n()}}).run()},o=i.dataCache[e].item,t=i.dataCache[e].top;if(i.el.all(".on").removeClass("on"),o.addClass("on"),Xi)return Wi("body").scrollTop(t),void Wi("html").scrollTop(t);a(t,Yi,e)}});this.toolEl.hasClass("left");l.on("scroll",function(){var t=l.scrollTop(),e=Wi(".tbh-conve").offset().top+2;if(t>l.height()?s.show():s.hide(),t<=e-75){var a=Wi("a",i.el).attr("data-tool");i.dataCache[a]&&i.dataCache[a].obj.addClass("on"),i.toolEl.css({position:"absolute",top:e})}else{i.toolEl.css({position:"fixed",top:75});e=i.scroll[i.scroll.length-1];if(e<=t)return i.el.all(".on").removeClass("on"),void i.scrollDOM[e].item.addClass("on");for(var n=1,o=i.scroll.length;n<o;n++)if(t>=i.scroll[n-1]&&t<i.scroll[n]){i.el.all(".on").removeClass("on"),i.scrollDOM[i.scroll[n-1]].item.addClass("on");break}}}).fire("scroll"),l.on("resize",function(){var t=l.width(),e=Wi(".fixedtool",i.el);1190<t&&t<1311?e.addClass("ft1190"):e.removeClass("ft1190"),t<1111?e.addClass("ft990"):e.removeClass("ft990")}).fire("resize"),this.toolEl.fadeIn(.5)},count:function(){var o=this,t=this.toolEl.all("a");this.dataCache={},this.scroll=[],this.scrollDOM={},t.each(function(t){var e=Wi(t),a=e.attr("data-tool"),n=Wi('div[data-name="'+a+'"]');a&&n&&n.length&&(t=n.offset().top-48,o.dataCache[a]={obj:n,item:e,top:t},o.scroll.push(t),o.scrollDOM[t]={obj:n,item:e})}),this.scroll=this.scroll.sort(function(t,e){return e<t?1:-1})},_showFeedback:function(){return!(Qi.ios||Qi.android||Qi.ipad||Qi.iphone)},_feedback:function(){function a(){try{t.feedback.init({productId:875,source:"web"})}catch(t){}}var n=this,t=this;this.feedback&&a(),KISSY.use("kg/xz-feedback-pc-tb/"+this.feddbackVersion+"/index",function(t,e){n.feedback=new e,a()})}}),tbhomeTaobao2021006CFixedtoolIndex=$i,$8=aliPattern,_8=util,aj=tbhomeTaobao2021006CSuperbannerItemjsthtml,bj=node.all,cj=promise,dj=window.lib.mtop,$8.extend(Z8,{init:function(){var e=this;this.staticData=window.staticConfig.superbanner||{},this.load().then(function(t){(t=e.getValidData(t=t||[],5,e.staticData.list)).length=5,e.render(aj,{list:t,logo:e.staticData.logo[0]},bj(".superbanner-inner",e.el))}).catch(function(t){e.reportError(t&&t.message)})},load:function(){var a=this;return this.backup||""===this.staticData.tppConfigId?cj.resolve():dj.request({api:"mtop.mytaobao.pchome.multiAcquire",v:"1.0",data:{bizType:"superbannertpp",requestMap:JSON.stringify({count:"5",floorId:"0",tppConfigId:this.staticData.tppConfigId})},ecode:0,type:"GET",dataType:"jsonp",timeout:2e4}).then(function(t){if(t.ret&&~t.ret[0].indexOf("SUCCESS")){var e=[];if((e=t.data.result||[])&&e[0]&&e[0].contents?e=e[0].contents:e[0]&&e[0].itemList&&(e=e[0].itemList),a.validator.array.minItems(e,5))return e;a.reportCDN({message:"valid error"})}return null}).catch(function(t){return a.reportCDN({message:"request error"}),null})},getValidData:function(t,e,a){var n=this,o=[];if(_8.each(t,function(t,e){n.validator.notEmpty(t,["clickUrl","picUrl","title","subtitle"])?o.push({title:t.title,subtitle:t.subtitle,link:t.clickUrl,img:t.picUrl,bgurl:a[e].bgurl}):n.validator.notEmpty(t,["url","pic_url","title","subtitle"])&&o.push({title:t.title,subtitle:t.subtitle,link:t.url,img:t.pic_url,bgurl:a[e].bgurl})}),o.length>=e)return o;for(var i=o.length,r=0;r<e-i;r++)a&&a[r]&&o.push(a[r]);return o},defaults:function(){return{name:"superbanner"}}}),tbhomeTaobao2021006CSuperbannerIndex=Z8,yj=aliPattern,zj=util,Aj=tbhomeTaobao2021006CVenuesItemjsthtml,Bj=node.all,yj.extend(xj,{init:function(){var t=Bj("textarea",this.el).val();this.staticData=t?JSON.parse(t):[];t=this.getValidData(void 0,5,this.staticData);this.render(Aj,{list:t},Bj("ul",this.el))},getValidData:function(t,e,a){var n=this,o=[];if(zj.each(t,function(t,e){t.bgurl||(t.bgImg=a[e].bgImg),n.validator.notEmpty(t,["title","subtitle","url","pic_url","bgImg"])&&o.push({title:t.title,subtitle:t.subtitle,link:t.url,img:t.pic_url,bgImg:t.bgImg})}),o.length>=e)return o;for(var i=o.length,r=0;r<e-i;r++)a&&a[r]&&o.push(a[r]);return o},defaults:function(){return{name:"Venues"}}}),tbhomeTaobao2021006CVenuesIndex=xj,Qj=tbhomeTaobao2021006CommonHeadItemBarjsthtml,Rj=tbhomeTaobao2021006CommonHeadItemjsthtml,tbhomeTaobao2021006CommonHeadIndex={renderHeadBar:function(t,e){e=e||this.el;var a=this.name,t=t&&t[0]||{};t.classname=t.classname||a,t.title=t.title||this.title,t.switcher=void 0!==t.switch?t.switch:this.switcher,t.itemLayer=t.itemLayer||this.itemLayer,t.logo=t.logo||this.logo,this.renderTo(Qj,t,e),this.noEXP||this.exp()},renderHead:function(t,e){e=e||this.el;var a=this.name,t=t&&t[0]||{};t.classname=t.classname||a,t.title=t.title||this.title,t.subtitle=t.subtitle||this.subtitle,t.switcher=void 0!==t.switch?t.switch:this.switcher,t.logo=t.logo||this.logo,this.renderTo(Rj,t,e),this.noEXP||this.exp()},exp:function(){this.godlog("/tbindex.module.name","EXP",{name:this.name},"H1476877869","模块曝光："+this.name)}},tbhomeTaobao2021006LibModules={ad:tbhomeTaobao2021006CAdIndex,qr:tbhomeTaobao2021006CQrIndex,service:tbhomeTaobao2021006CServiceIndex,promo:tbhomeTaobao2021006CPromoIndex,tmall:tbhomeTaobao2021006CTmallIndex,conve:tbhomeTaobao2021006CConveIndex,focus:tbhomeTaobao2021006CFocusIndex,nav:tbhomeTaobao2021006CNavIndex,app:tbhomeTaobao2021006CAppIndex,member:tbhomeTaobao2021006CMemberIndex,notice:tbhomeTaobao2021006CNoticeIndex,decorations:tbhomeTaobao2021006CDecorationsIndex,tanx:tbhomeTaobao2021006CTanxIndex,search:tbhomeTaobao2021006CSearchIndex,corner:tbhomeTaobao2021006CCornerIndex,fixedtool:tbhomeTaobao2021006CFixedtoolIndex,superbanner:tbhomeTaobao2021006CSuperbannerIndex,venues:tbhomeTaobao2021006CVenuesIndex},b9=tbhomeTaobao2021006CommonHeadIndex,tbhomeTaobao2021006CommonInject=void util.mix(aliPattern.prototype,b9),o9=aliPatternLibReporter,p9=aliDatalazyload,q9=promise,r9=util,node.all,s9=aliSession,t9=tbhomeTaobao2021006LibModules,u9=new p9({diff:{top:200,bottom:50}}),v9=!1,w9=!1,x9=[],tbhomeTaobao2021006LibLoader=function(t,e,a,n,o,i){n?f9(t,e,0,o,i):(n=t.attr("preload-distance"))?(n=Number(n),new p9({diff:{top:n||50,bottom:n||50},autoDestroy:!0}).addCallback(t,function(){f9(t,e,0,o,i)})):u9.addCallback(t,function(){f9(t,e,0,o,i)})},Gk=_ua_,Ik=tbhomeTaobao2021006LibFeature,Jk=tbhomeTaobao2021006LibLoader,Kk=tbhomeTaobao2021006LibLog,Lk=util,Mk=node.all,Nk=Mk(window),Ok=aliPatternLibReporter,Pk=tbhomeTaobao2021006LibSwRegister,tbhomeTaobao2021006LibIndex=void(Gk.ie&&Gk.ie<8||(new Ik,Qk=[],Rk=["promo","service","qr","decorations","qr","tmall","focus","conve","member","tanx","search","superbanner","nav","hotsale","goods"],Sk=["corner","fixedtool","ad"],Tk=["promo","focus"],Uk=[],(Vk=function(){var t={};Mk(".tbh-logo .logo-hover").length&&(t.doodle=!0),Mk(".tbh-banner .topBanner").length&&(t.banner=!0);var e=Mk(".tbh-decorations textarea");if(e.length)try{var a=JSON.parse(e.val()),n=a.left[0].decorations.length,o=a.right[0].decorations.length;n&&o?(t.doodle=!0,t.banner=!0):(n||o)&&(t.doodle=!0)}catch(t){}return!Mk(".tbh-ad .tbh-ad-inner textarea").length||t.banner||t.doodle||(t.corner=!0),Lk.isEmptyObject(t)||Ok({category:"CONFLICT_TANX",msg:JSON.stringify(t)},"warn"),t}()).banner&&(Uk.push("ad"),Uk.push("corner")),Vk.doodle&&Uk.push("ad"),Vk.corner&&Uk.push("corner"),Mk(".J_Module").each(function(e){var a=(e=Mk(e)).attr("tms"),n=e.attr("tms-data"),o=n,t=e.attr("tms-datakey"),i=a&&t&&-1!==a.indexOf("/")?a.split("/")[0]:a=e.attr("data-name");if(!e.hasClass("tb-pass")&&!Lk.inArray(i,Uk)){if(n&&Lk.trim(n))try{n=JSON.parse(n)}catch(t){n={}}else n={};return Lk.inArray(i,Rk)?void Lk.frame(function(){var t=Lk.inArray(i,Tk);Jk(e,n,a,t,i,o)}):Lk.inArray(i,Sk)?void Lk.load(function(){Lk.frame(function(){Jk(e,n,a,!0,i,o)})},50):void Qk.push({el:e,data:n,name:a,moduleName:i,dataStr:o})}}),cl=Qk,el=!1,fl="mousemove scroll mousedown touchstart touchmove keydown resize onload",Nk.on(fl,dl),setTimeout(function(){dl()},5e3),new Kk,Lk.frame(function(){Pk()}))),tbhomeTaobao2021006Index=tbhomeTaobao2021006LibIndex,module.exports=tbhomeTaobao2021006Index}),define("kg/pattern/2.1.3/index",["ua","util","kg/xctrl/7.2.1/xctrl-kissy","promise","io","kg/route-map-http/0.0.3/index","url","kg/session/0.0.1/index","kg/offline/7.0.1/index","node","json"],function(t,e,a){var i,r,o,s,n,l,c,d,h,u,m,p,f,g,b,_,v,x,w,k,y,T,C,j,I,S,E,P=t("ua"),q=t("util"),R=t("kg/xctrl/7.2.1/xctrl-kissy"),L=t("promise"),A=t("io"),O=t("kg/route-map-http/0.0.3/index"),J=t("url"),X=t("kg/session/0.0.1/index"),N=t("kg/offline/7.0.1/index"),B=t("node"),t=t("json");function D(){if(D.superclass.constructor.apply(this,arguments),!this.name)throw new Error("module name cannot be null, please check you code.");this.init()}function z(){var t=arguments[0]||{},t=c.extend(this.defaults(),t);this.__events={},function(t,e){var a,n;for(n in e)e.hasOwnProperty(n)&&(a=e[n],t[n]=a)}(this,t)}function F(t,e,a){e=e||{};try{return t({data:e,$runtime:u,_:m})}catch(t){window.console&&window.console.log(t),p({category:"tbh_render_error_"+a.name,msg:JSON.stringify({message:t&&t.message,stack:t.stack})})}}I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S=P,window.location.hostname,E=q,window.JSTracker2=window.JSTracker2||[],P=function(t,e){if(t.category){if(S.ie&&S.ie<8)return;t.sampling=t.sampling||10;var a=(a="http://jstracker.www.taobao.com/0.0.3/"+t.category).slice(0,200);window.JSTracker2.push({msg:t.msg,url:a,sampling:t.sampling})}E.isArray(t.goldlog)&&(t.goldlog[3]||(t.goldlog[3]="H46896569"),"object"===I(t.goldlog[2])&&(t.goldlog[2]=E.param(t.goldlog[2])),(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:t.goldlog}));var n=window.location.search,a=!1;n&&(a=(n=E.unparam(n.slice(1))).hasOwnProperty("_console")||n.hasOwnProperty("_debug")),t.msg&&a&&(e=e||"info",S.ie&&S.ie<=8&&(e="log"),window.console&&window.console[e]&&window.console[e]("[REPORTER LOG] "+t.msg))},k=R,y=L,T=A,j=O,R={xctrl:function(t){return new y(function(e,a){t.callback=function(t){(t?e:a)(t)},k.dynamic(t)})},jsonp:function(t){if(!(t="string"==typeof t?{url:t}:t).url)throw new Error("jsonp request need url");return t=C.merge({dataType:"jsonp",timeout:5},t),this.ajax(t)},ajax:function(t){return new y(function(e,a){t.success=function(t){e(t)},t.error=function(t,e){a({message:e})},T(t)})},tarzan:function(t){t=new j({api:(t="string"==typeof t?{url:t}:t).url,data:t.data||{},dirName:"pctaobao"});return this.jsonp({url:t.getCDNAddress(),timeout:60,jsonpCallback:t.getJSONPCallbak(),cache:!0})},use:function(t){return new y(function(a,e){KISSY.use([t],function(t,e){a(e)},function(t){e(t)})})}},w={},L={__events:{},on:function(t,e,a){if(t){if("function"!=typeof e)throw new Error("event handler must be a function.");this.__events[t]||(this.__events[t]=[]),this.__events[t].push({hander:e,scope:a})}},fire:function(t,e){if(t){var a=this.__events[t];if(a)for(var n=0,o=a.length;n<o;n++){var i=a[n];i.scope?i.hander.call(i.scope,e):i.hander.call(this,e)}}},off:function(t,e){if(t){var a=this.__events[t];if(e){for(var n=0,o=a.length;n<o;n++)if(a[n].hander===e){a.splice(n,1);break}}else this.__events[t]=null}},broadcast:function(t,e){var a=w[t];if(void 0!==a){var n=2<(n=[].slice.call(arguments,0)).length?n.splice(2,n.length-1):[];n=[e].concat(n);for(var o=a.length,i=0;i<o;i++){var r=a[i];r&&r.callback&&(n=n.concat(r.args),r.callback.apply(r.scope,n))}}return this},subscribe:function(t,e,a){t=t||[];var n=[].slice.call(arguments),o=(t="string"==typeof t?t.split(","):t).length;if(0===o)return this;for(var n=3<n.length?n.splice(3,n.length-1):[],i=0;i<o;i++){var r=t[i];w[r]=w[r]||[],w[r].push({callback:e,scope:a,args:n})}return this},unsubscribe:function(t,e,a){var n=w[t];if(!n)return this;if(e){for(var o=n.length,i=[],r=0;r<o;r++){var s=n[r];s.callback==e&&s.scope==a||i.push(s)}n=i}else n.length=0;return this}},(x=C=q).isTrue=function(t,e){return"true"===(t=e&&x.isArray(t)?t[0]&&t[0][e]:t)||!0===t},A={extend:function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}},O={array:{maxItems:function(t,e){if(v.isArray(t)&&t.length<=e)return!0},minItems:function(t,e){if(v.isArray(t)&&t.length>=e)return!0}},object:{required:function(e,t){if(v.isArray(t)){var a=!0;return v.each(t,function(t){e.hasOwnProperty(t)||(a=!1)}),a}}},properties:function(t,e){var a,n,o=!0;for(a in e)e.hasOwnProperty(a)&&(t.hasOwnProperty(a)?(n=(e[a],t[a])).format&&"NOT_EMPTY"===n.format&&(t[a]||(o=!1)):o=!1);return o},notEmpty:function(t,e){for(var a=!0,n=0,o=e.length;n<o;n++){var i={};if(i[e[n]]={format:"NOT_EMPTY"},!this.properties(t,i)){a=!1;break}}return a}},f=J,g=X,b=v=q,_=new N,J={getNewUrl:function(e,t){if(!e||"string"!=typeof e)return"";var a=(t=t||{}).size||"",n=t.q||"",o="",i=t.xz?"xz":"";a+i+n&&(o="_"+a+i+n,o+=".jpg");try{var r=f.parse(e)}catch(t){return e}i=r.host,n=r.pathname,r.protocol,e="img.alicdn.com";r.protocol="";if(b.inArray(["a.tbcdn.cn","assets.alicdn.com","wwc.taobaocdn.com","wwc.alicdn.com","cbu01.alicdn.com"],i))return/alicdn/.test(i)||(r.protocol="http:"),"//"+f.format(r);i=i.match(/(.+\.(?:alicdn)\.com)/);if(i&&i[0]!=e&&(r.host=e),t&&t.isOriginal)return"//"+f.format(r);i=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?(q\d+)?(s\d+)?(\.jpg)?(_\.webp)?$/i,e=n.match(i);if(/\.gif/.test(n))return"//"+f.format(r);/\.png/.test(n)&&(o=o.replace(/(q\d+)(s\d+)/,"")),t.webp&&g.get("webp")&&(o+="_.webp");return e?e[1]||e[2]||e[3]||e[4]?r.pathname=n.replace(i,o):e[0].match(/_\.(jpg|png|gif|jpeg)/)&&(r.pathname+=o):n.match(/_\.webp$/g)?r.pathname=n.replace(/_\.webp$/g,o):r.pathname=n+o,"//"+f.format(r)},toDataUrl:function(t,e){if(!window.XMLHttpRequest||!window.FileReader)return e(t);try{var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(a.response)},a.open("GET",t),a.send()}catch(t){}},getImageAndCache:function(e,t,a,n){var e=this.getNewUrl(e,t),o=this;"function"!=typeof a&&(a=function(t){t&&t!==e&&_.setItem(e,t)});t=_.getItem(e);return t||(n?this.toDataUrl(e,a):setTimeout(function(){o.toDataUrl(e,a)},8e3),e)},response:function(t,e,a,n,o,i){var r;return(e=a&&g.get("retina")?a:e)?((r={}).size=e,n&&"q"===n.charAt(0)&&(r.q=n),o&&g.get("webp")&&(r.webp=o)):r={isOriginal:!0},i&&(r.xz=!0),this.getNewUrl(t,r)}},h=B.all,u={},m=q,p=P,window._=window._||{},window._.escape=m.escapeHTML,B={render:function(t,e,a,n){e=F(t,e,this),e=h(e);return a&&h(a).html("").append(e),e},renderTo:function(t,e,a){e=F(t,e,this),e=h(e);return h(a).append(e),e},config:function(t){for(var e in t)t.hasOwnProperty(e)&&(u[e]=t[e])}},d=A,"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),l=function(t,e,a,n){if(!t||!e)return t;var o=e.prototype,i=Object.create(o);return((t.prototype=i).constructor=t).superclass=o,e!=Object&&o.constructor==Object.prototype&&(o.constructor=e),a&&d.extend(i,a),n&&d.extend(t,n),t},(c=A).extend(z.prototype,L),z.inherit=l,z.extend=function(t,e,a){l(t,z,e,a)},(z.prototype.constructor=z).prototype.defaults=function(){return{}},z.prototype.get=function(t){return this[t]},z.prototype.set=function(t,e){this[t]=e},A=B,B=R,R=L,L=z,i=X,N=new N,r=P,O=O,o=t,s=J,n=q,D.inherit=L.inherit,D.extend=function(t,e,a){D.inherit(t,D,e,a)},L.extend(D,n.merge({init:function(){},render:A.render,renderTo:A.renderTo},B,R,{offline:N,validator:O},{__lazyload:function(t){},getLazyloadConfig:function(){return{}},godlog:function(t,e,a,n,o){r({goldlog:[t,e,a,n],msg:o||[t,a].join(":")+"曝光"})},report:function(t,e){var a=t.category||this.category||"ERROR_"+this.name+"_data_err",n={type:t.type||"warn",data:t.data||{},desc:t.msg||"",name:this.name};t.extra&&(n.extra=t.extra),r({category:a,msg:o.stringify(n)},e||"warn")},reportCache:function(t,e){t=n.merge({data:{step:10,stepName:"storage"},msg:"storage"},t),this.report(t,e)},reportBackup:function(t,e){t=n.merge({data:{step:11,stepName:"backup"},msg:"backup"},t),this.report(t,e)},reportCDN:function(t,e){t=n.merge({data:{step:100,stepName:"cdn"},msg:"cdn"},t),this.report(t,e)},reportError:function(t,e){t=n.merge({data:{step:-1},msg:"empty"},t),this.report(t,e)}})),A.config({placeholder:"//g.alicdn.com/s.gif",suffix:function(t,e,a,n){var o="_";return o+=i.get("retina")?e:t,a&&(o+=a),n&&i.get("webp")&&(o+="_.webp"),o},isTrue:n.isTrue,https:function(t){return s.getNewUrl(t,{isOriginal:!0})},image:function(t,e,a,n,o,i){return s.response.apply(s,arguments)}}),a.exports=D}),define("kg/pattern/2.1.3/lib/image",["url","kg/session/0.0.1/index","util","kg/offline/7.0.1/index"],function(t,e,a){var s=t("url"),l=t("kg/session/0.0.1/index"),c=t("util"),i=new(t("kg/offline/7.0.1/index"));a.exports={getNewUrl:function(e,t){if(!e||"string"!=typeof e)return"";var a=(t=t||{}).size||"",n=t.q||"",o="",i=t.xz?"xz":"";a+i+n&&(o="_"+a+i+n,o+=".jpg");try{var r=s.parse(e)}catch(t){return e}i=r.host,n=r.pathname,r.protocol,e="img.alicdn.com";r.protocol="";if(c.inArray(["a.tbcdn.cn","assets.alicdn.com","wwc.taobaocdn.com","wwc.alicdn.com","cbu01.alicdn.com"],i))return/alicdn/.test(i)||(r.protocol="http:"),"//"+s.format(r);i=i.match(/(.+\.(?:alicdn)\.com)/);if(i&&i[0]!=e&&(r.host=e),t&&t.isOriginal)return"//"+s.format(r);i=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?(q\d+)?(s\d+)?(\.jpg)?(_\.webp)?$/i,e=n.match(i);if(/\.gif/.test(n))return"//"+s.format(r);/\.png/.test(n)&&(o=o.replace(/(q\d+)(s\d+)/,"")),t.webp&&l.get("webp")&&(o+="_.webp");return e?e[1]||e[2]||e[3]||e[4]?r.pathname=n.replace(i,o):e[0].match(/_\.(jpg|png|gif|jpeg)/)&&(r.pathname+=o):n.match(/_\.webp$/g)?r.pathname=n.replace(/_\.webp$/g,o):r.pathname=n+o,"//"+s.format(r)},toDataUrl:function(t,e){if(!window.XMLHttpRequest||!window.FileReader)return e(t);try{var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(a.response)},a.open("GET",t),a.send()}catch(t){}},getImageAndCache:function(e,t,a,n){var e=this.getNewUrl(e,t),o=this;"function"!=typeof a&&(a=function(t){t&&t!==e&&i.setItem(e,t)});t=i.getItem(e);return t||(n?this.toDataUrl(e,a):setTimeout(function(){o.toDataUrl(e,a)},8e3),e)},response:function(t,e,a,n,o,i){var r;return(e=a&&l.get("retina")?a:e)?((r={}).size=e,n&&"q"===n.charAt(0)&&(r.q=n),o&&l.get("webp")&&(r.webp=o)):r={isOriginal:!0},i&&(r.xz=!0),this.getNewUrl(t,r)}}}),define("kg/pattern/2.1.3/lib/reporter",["ua","util"],function(t,e,a){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("ua"),r=(window.location.hostname,t("util"));window.JSTracker2=window.JSTracker2||[],a.exports=function(t,e){if(t.category){if(i.ie&&i.ie<8)return;t.sampling=t.sampling||10;var a=(a="http://jstracker.www.taobao.com/0.0.3/"+t.category).slice(0,200);window.JSTracker2.push({msg:t.msg,url:a,sampling:t.sampling})}r.isArray(t.goldlog)&&(t.goldlog[3]||(t.goldlog[3]="H46896569"),"object"===o(t.goldlog[2])&&(t.goldlog[2]=r.param(t.goldlog[2])),(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:t.goldlog}));var n=window.location.search,a=!1;n&&(a=(n=r.unparam(n.slice(1))).hasOwnProperty("_console")||n.hasOwnProperty("_debug")),t.msg&&a&&(e=e||"info",i.ie&&i.ie<=8&&(e="log"),window.console&&window.console[e]&&window.console[e]("[REPORTER LOG] "+t.msg))}}),define("kg/pattern/2.1.3/lib/io",["kg/xctrl/7.2.1/xctrl-kissy","promise","io","util","kg/route-map-http/0.0.3/index"],function(t,e,a){var n=t("kg/xctrl/7.2.1/xctrl-kissy"),o=t("promise"),i=t("io"),r=t("util"),s=t("kg/route-map-http/0.0.3/index");a.exports={xctrl:function(t){return new o(function(e,a){t.callback=function(t){(t?e:a)(t)},n.dynamic(t)})},jsonp:function(t){if(!(t="string"==typeof t?{url:t}:t).url)throw new Error("jsonp request need url");return t=r.merge({dataType:"jsonp",timeout:5},t),this.ajax(t)},ajax:function(t){return new o(function(e,a){t.success=function(t){e(t)},t.error=function(t,e){a({message:e})},i(t)})},tarzan:function(t){t=new s({api:(t="string"==typeof t?{url:t}:t).url,data:t.data||{},dirName:"pctaobao"});return this.jsonp({url:t.getCDNAddress(),timeout:60,jsonpCallback:t.getJSONPCallbak(),cache:!0})},use:function(t){return new o(function(a,e){KISSY.use([t],function(t,e){a(e)},function(t){e(t)})})}}}),define("tbhome/taobao-2021/0.0.6/c/fixedtool/index.css",["node"],function(t,e,a){"use strict";t=t("node");a.exports=t("<style>div.tbh-fixedtool .ft1190{margin-right:-633px}div.tbh-fixedtool .ft990{margin-right:-533px}div.tbh-fixedtool.left .ft1190{margin-left:-633px;margin-right:auto}div.tbh-fixedtool.left .ft990{margin-left:-533px;margin-right:auto}.fixedtool{display:none;position:absolute;z-index:4;top:837px;right:50%;width:50px;text-align:center;margin-right:-655px}.fixedtool .wangwang.tb-ifont{position:absolute;height:36px;width:50px;line-height:36px;text-align:center;font-size:32px;color:#ff7f13;top:-28px;right:0}.fixedtool.left{left:50%;right:auto;margin-right:auto;margin-left:-655px;top:auto;bottom:50px}.fixedtool a{display:block;height:44px;position:relative;text-decoration:none;padding:6px 8px 0;font-size:14px;line-height:40px;background:#fff}.fixedtool a:after{content:'';border-bottom:1px solid #efefef;width:34px;position:absolute;left:8px;bottom:-1px;z-index:1}.fixedtool a:last-child:after{border-bottom:none}.fixedtool a.fixedtool-1{-webkit-border-top-left-radius:8px;-moz-border-radius-topleft:8px;border-top-left-radius:8px;-webkit-border-top-right-radius:8px;-webkit-background-clip:padding-box;-moz-border-radius-topright:8px;-moz-background-clip:padding;border-top-right-radius:8px;background-clip:padding-box}.fixedtool a.fixedtool-9{-webkit-border-bottom-left-radius:8px;-moz-border-radius-bottomleft:8px;border-bottom-left-radius:8px;-webkit-border-bottom-right-radius:8px;-webkit-background-clip:padding-box;-moz-border-radius-bottomright:8px;-moz-background-clip:padding;border-bottom-right-radius:8px;background-clip:padding-box}.fixedtool a.fixedtool-8 i{font-size:12px}.fixedtool a i{font-style:normal;font-size:14px;display:block;line-height:40px}.fixedtool a.on,.fixedtool a:hover{z-index:2;text-decoration:none;color:#FFF;background-repeat:no-repeat;font-weight:700;background-repeat:repeat-x;background-image:-webkit-linear-gradient(135deg,#ff971b,#ff5000);background-image:-o-linear-gradient(135deg,#ff971b,#ff5000);background-image:linear-gradient(135deg,#ff971b,#ff5000);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffff5000', endColorstr='#ffff6f06', GradientType=1)}.fixedtool a.on .tb-ifont,.fixedtool a:hover .tb-ifont{color:#FFF}.fixedtool a:focus{outline:0}.fixedtool a em{position:absolute;right:-30px;width:40px;height:40px;text-indent:-9999px;z-index:2;top:5px}.fixedtool .fixedtool-7 .tb-ifont{color:#999;position:relative;line-height:20px}a.fixedtool-1,a.fixedtool-3,a.fixedtool-4,a.fixedtool-5,a.fixedtool-6,a.fixedtool-7,a.fixedtool-9{line-height:17px;font-size:13px}a.fixedtool-7,a.fixedtool-8,a.fixedtool-9{font-size:12px}a.fixedtool-1{color:#F40;padding-top:10px;height:40px}a.fixedtool-1.on,a.fixedtool-1:hover{background-color:#F40}.fixedtool-3{color:#f05}.fixedtool-4{color:#8d7afb}.fixedtool-5{color:#A8C001}.fixedtool-2{color:#a2745b}a.fixedtool-6{color:#F40}.fixedtool-8 strong i,.fixedtool-9 strong i{font-size:12px}</style>").appendTo("head")}),define("kg/pattern/2.1.3/lib/event",[],function(t,e,a){var l={};a.exports={__events:{},on:function(t,e,a){if(t){if("function"!=typeof e)throw new Error("event handler must be a function.");this.__events[t]||(this.__events[t]=[]),this.__events[t].push({hander:e,scope:a})}},fire:function(t,e){if(t){var a=this.__events[t];if(a)for(var n=0,o=a.length;n<o;n++){var i=a[n];i.scope?i.hander.call(i.scope,e):i.hander.call(this,e)}}},off:function(t,e){if(t){var a=this.__events[t];if(e){for(var n=0,o=a.length;n<o;n++)if(a[n].hander===e){a.splice(n,1);break}}else this.__events[t]=null}},broadcast:function(t,e){var a=l[t];if(void 0!==a){var n=2<(n=[].slice.call(arguments,0)).length?n.splice(2,n.length-1):[];n=[e].concat(n);for(var o=a.length,i=0;i<o;i++){var r=a[i];r&&r.callback&&(n=n.concat(r.args),r.callback.apply(r.scope,n))}}return this},subscribe:function(t,e,a){t=t||[];var n=[].slice.call(arguments),o=(t="string"==typeof t?t.split(","):t).length;if(0===o)return this;for(var n=3<n.length?n.splice(3,n.length-1):[],i=0;i<o;i++){var r=t[i];l[r]=l[r]||[],l[r].push({callback:e,scope:a,args:n})}return this},unsubscribe:function(t,e,a){var n=l[t];if(!n)return this;if(e){for(var o=n.length,i=[],r=0;r<o;r++){var s=n[r];s.callback==e&&s.scope==a||i.push(s)}n=i}else n.length=0;return this}}});

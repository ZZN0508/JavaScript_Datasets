(window.shark_home_jsonp=window.shark_home_jsonp||[]).push([["slideBackground~e2e93592"],{"2d614":function(e,t){e.exports=sdkd479d126aaa128c11834},99944:function(e,t){e.exports=vendor3d72ea64bdb3506ffdba},d1db8:function(e,t){e.exports=playerSDK2da5b1f3a3deccaa435b},d7821:function(e,t,r){},df038:function(e,t,r){"use strict";r.r(t);r("52801");var n,i,o,a,c=r("7ca7d"),l=r("eb3e2"),u=r("f6898"),s=r("b0067"),d=r("54992");function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var f=l.basicTypes.string,p=l.basicTypes.number,b=(Object(d.log)((i=function(e){function SlideBackgroundDto(){var t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SlideBackgroundDto);for(var n=arguments.length,i=Array(n),c=0;c<n;c++)i[c]=arguments[c];return t=r=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),_initDefineProp(r,"author",o,r),_initDefineProp(r,"uid",a,r),_possibleConstructorReturn(r,t)}return _inherits(SlideBackgroundDto,e),SlideBackgroundDto}(l.EntityDto),o=_applyDecoratedDescriptor(i.prototype,"author",[f],{enumerable:!0,initializer:null}),a=_applyDecoratedDescriptor(i.prototype,"uid",[p],{enumerable:!0,initializer:null}),n=i)),r("97a1f"));function slideBackgroundActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function slideBackgroundActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}(e,t))}var g,v,y,h=function(e){function SlideBackgroundAction(){return function slideBackgroundActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SlideBackgroundAction),function slideBackgroundActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return slideBackgroundActions_inherits(SlideBackgroundAction,e),SlideBackgroundAction.changePlayerRoom=function changePlayerRoom(e){return{type:"SLIDEBACKGROUND_CHANGE_PLAYER_ROOM",payload:e}},SlideBackgroundAction.defaultAction=function defaultAction(e){return{type:"SLIDEBACKGROUND_DEFAULT_ACTION",payload:e}},SlideBackgroundAction}(b.Action),m=r("faaff");function slideBackgroundServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function slideBackgroundServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function slideBackgroundServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}(e,t))}var S,_,k,B=c.default.Store,O=(c.default.Service,g=B(),v=function(e){function SlideBackgroundServices(){var t,r;!function slideBackgroundServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SlideBackgroundServices);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=r=slideBackgroundServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),function slideBackgroundServices_initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(r,"store",y,r),r.config=null,slideBackgroundServices_possibleConstructorReturn(r,t)}return slideBackgroundServices_inherits(SlideBackgroundServices,e),SlideBackgroundServices.prototype.getQueryString=function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(t);return null!=r?r[2]:null},SlideBackgroundServices.prototype.setConnectFlashData=function setConnectFlashData(e){this.config=e},SlideBackgroundServices.prototype.changePlayerRoom=function changePlayerRoom(e){this.store.dispatch(h.changePlayerRoom(e))},SlideBackgroundServices.prototype.anysLoadScript=function anysLoadScript(e){var t=document.getElementById("scr_homeH5Enc");t&&t.parentElement.removeChild(t),(t=document.createElement("SCRIPT")).innerText=e,t.id="scr_homeH5Enc",document.body.appendChild(t),this.connectFlash()},SlideBackgroundServices.prototype.connectFlash=function connectFlash(){this.store.dispatch(m.c.changePlayerRoom(this.config))},SlideBackgroundServices}(b.Service),y=function slideBackgroundServices_applyDecoratedDescriptor(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(v.prototype,"store",[g],{enumerable:!0,initializer:null}),v);var w=(S=(0,c.default.Service)(O),_=function(){function SlideBackgroundEpics(){!function slideBackgroundEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SlideBackgroundEpics),function slideBackgroundEpics_initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(this,"slideBackgroundService",k,this)}return SlideBackgroundEpics.prototype.changePlayerRoom=function changePlayerRoom(e){var t=this;return e.ofType("SLIDEBACKGROUND_CHANGE_PLAYER_ROOM").pipe(Object(s.switchMap)(function(e){var t=e.payload;return l.httpClient.get(String,"/swf_api/homeH5Enc",{rids:t})}),Object(u.map)(function(e){var r=e.error,n=e.data;if(0===+r){var i=void 0,o=void 0;try{i=JSON.parse(n)}catch(e){i={}}Object.keys(i).forEach(function(e){o=i[e]}),t.slideBackgroundService.anysLoadScript(o)}return h.defaultAction()}))},SlideBackgroundEpics}(),k=function slideBackgroundEpics_applyDecoratedDescriptor(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(_.prototype,"slideBackgroundService",[S],{enumerable:!0,initializer:null}),_),D=(0,c.default.combineEpicsClass)(w),j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var E,P,C,z,N,R,A,T,I,x,F,L,M={slideBackgroundData:function slideBackgroundCount(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{count:0},t=arguments[1];switch(t.type){case"xxx":var r=t.payload.data.length;return j({},e,{count:r});default:return e}}},U=r("1a22b"),H=r.n(U),G=(r("29218"),r("447d8")),K=r("7912b"),Q=r("db47a"),Y=r("456fd"),$=r.n(Y),q=r("a69e2"),J=(r("d7821"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),W="/shark/live/src/pages/homePage/slideBackgroundModule/components/SlideBackground/SlideBackground.js";function SlideBackground_initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function SlideBackground_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function SlideBackground_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function SlideBackground_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}(e,t))}function SlideBackground_applyDecoratedDescriptor(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var X=c.default.Service,V="https://shark2.douyucdn.cn/front-publish/sdk-file-master/yz_default_landscape_ef4d7c0.png",Z=(E=X(O),P=X(l.DataCenter.global),C=X($.a),z=X(l.DataCenter.common),N=X(l.DataCenter.event),Object(d.log)((A=function(e){function SlideBackground(){var t,r,n=this;!function SlideBackground_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SlideBackground);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=SlideBackground_possibleConstructorReturn(this,e.call.apply(e,[this].concat(o))),SlideBackground_initDefineProp(r,"slideBackgroundService",T,r),SlideBackground_initDefineProp(r,"globalData",I,r),SlideBackground_initDefineProp(r,"signServices",x,r),SlideBackground_initDefineProp(r,"common",F,r),SlideBackground_initDefineProp(r,"event",L,r),r.state={clickNum:0,cover:!0,config:[],loaded:!1},r.getTabList=function(){var e=r.state,t=e.clickNum,i=e.cover,o=e.config,a=o.ds?o.ds:[0,1,2,3,4,5],c=r.state.loaded;return Object.keys(a).map(function(e,o){var l=o;return H.a.createElement("div",{className:t!==l&&i?"Slider-flashTab Slider-flashTabCover":"Slider-flashTab",key:l,onClick:function onClick(){r.changeTab(l,a[e])},onMouseOver:r.handleMouseOver,onMouseOut:r.handleMouseOut,__source:{fileName:W,lineNumber:112},__self:n},H.a.createElement("div",{className:"Slider-flashTabImg",__source:{fileName:W,lineNumber:119},__self:n},c&&H.a.createElement(K.b,{className:"Slider-flashTabImgIn",src:a[e].pic,defaultSrc:V,errorSrc:V,__source:{fileName:W,lineNumber:121},__self:n}),H.a.createElement("div",{className:"Slider-flashTabHover",__source:{fileName:W,lineNumber:128},__self:n}),t===l?H.a.createElement("div",{className:"Slider-flashTabHover Slider-block",__source:{fileName:W,lineNumber:131},__self:n}):""),t===l?H.a.createElement("div",{className:"Slider-clickPoint",__source:{fileName:W,lineNumber:137},__self:n}):"")})},r.changeTab=function(e,t){if(+r.state.clickNum===e)return"";var n={action_code:"100100102",type:1,ext:{_rpos:t.pos,_testid:"",_rid:t.rid}};Object(Q.dysub2)(J({},n,{event_id:1})),Object(Q.dysub2)(J({},n,{event_id:3}));var i={},o=r.globalData.get("$SYS")||{},a=r.globalData.get("USER_INFO.uid")||"",c=o.res_url,l=void 0===c?"":c,u=o.fh2,s=void 0===u?"":u,d=o.webconfUrl,f=void 0===d?"":d;return r.setState({clickNum:e}),i.RoomId=t.rid,i.Status=1===+t.status?"true":"false",i.DomainName=location.host,i.IsIndex="true",i.cdn=r.slideBackgroundService.getQueryString("cdn"),i.asset_url=l,i.room_link="",i.logUrl=s,i.uid=a,i.tid=t.cate2Id,i.source=t.source,i.main_id=t.id,i.vipId=t.vipId,i.bg_pic=t.web_bg_pic||"",i.title=t.title||"",i.webconfUrl=f,i.sbe=!("addEventListener"in window),1===+t.source&&(i.oa_source=0),2===+t.source&&(i.oa_source=21),3===+t.source&&(i.oa_source=22),r.slideBackgroundService.changePlayerRoom(t.rid),r.slideBackgroundService.setConnectFlashData(i),""},r.handleMouseOver=function(){r.setState({cover:!1})},r.handleMouseOut=function(){r.setState({cover:!0})},SlideBackground_possibleConstructorReturn(r,t)}return SlideBackground_inherits(SlideBackground,e),SlideBackground.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.globalData.get("$mainData")||[],r=void 0,n=document.getElementsByClassName("layout-Slide-banner")[0];this.setState({clickNum:this.props.index}),t.forEach(function(e,t){"slideBackground"===e.type&&(r=e)});var i=1===+n.getAttribute("data-ifAd");this.event.load().subscribe(function(){e.setState({loaded:!0})}),this.common.get("adDataReady").subscribe(function(){new q.a({node:n,callback:function callback(){i&&e.signServices.actionSignDot(1,"1021101"),null},offset:0})}),document.querySelector(".layout-Slide-banner").addEventListener("click",function(t){t.offsetX<window.innerWidth/2?Object(Q.dysub2)({action_code:"100100103001",event_id:1,type:1}):Object(Q.dysub2)({action_code:"100100103002",event_id:1,type:1}),i&&e.signServices.actionSignDot(2,"1021101")}),this.setState({config:r})},SlideBackground.prototype.render=function render(){return H.a.createElement(H.a.Fragment,{__source:{fileName:W,lineNumber:238},__self:this},this.getTabList())},SlideBackground}(H.a.Component),T=SlideBackground_applyDecoratedDescriptor(A.prototype,"slideBackgroundService",[E],{enumerable:!0,initializer:null}),I=SlideBackground_applyDecoratedDescriptor(A.prototype,"globalData",[P],{enumerable:!0,initializer:null}),x=SlideBackground_applyDecoratedDescriptor(A.prototype,"signServices",[C],{enumerable:!0,initializer:null}),F=SlideBackground_applyDecoratedDescriptor(A.prototype,"common",[z],{enumerable:!0,initializer:null}),L=SlideBackground_applyDecoratedDescriptor(A.prototype,"event",[N],{enumerable:!0,initializer:null}),R=A))||R),ee=Object(G.connect)(function mapStateToProps(e){return{index:e.playerIndex.index||0}})(Z),te=c.default.StoreFactory,re=c.default.createApp({name:"SlideBackgroundApp",providers:[{name:"component",useFactory:function useFactory(){return ee}},{name:"store",useFactory:function useFactory(){return te.getInstance(window.__INITIAL_STATE__,M,D)}}]});l.DataCenter.event.load().subscribe(function(e){var t=new re;c.default.render(t,document.getElementById("layout-Slide-nav"))})}},[["df038","common-pre~31ecd969","common~002699c4","common~31ecd969","common~253ae210","common~e45b9e48","common~db300d2f","pre-style-common-pre~c3cebbda","common-pre~002699c4","pre-style-main~31ecd969"]]]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/slideBackground~e2e93592_9686f04.js.map
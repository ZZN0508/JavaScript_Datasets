(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1613:function(e,t,n){"use strict";n.r(t);var v=n(366),m=n.n(v),h=n(369),c=n(845),k=n.n(c),y=n(868),g=n(847),E=n(370),w=n(384),_=n(401);t.default=function(){var c=Object(h.c)(),e=Object(v.useState)(!0),r=e[0],t=e[1],n=Object(E.c)("quality"),u=Object(E.c)("audioTrack"),a=Object(E.b)("preload"),o=Object(h.d)(function(e){return e=e.ui.splashScreen,"none"!==a||!e}),i=Object(h.d)(function(e){var t=e.playback.currentChapter,e=e.config.chapters;return o?e[t].sources.hls:null}),f=Object(h.d)(function(e){var t=e.playback.paused,e=(n=e.config).firstFrame,n=n.playlistStartOpen;return"auto"!==a&&r&&(!t||e||n)}),b=Object(v.useRef)(null),s=Object(v.useRef)(),l=Object(v.useRef)(n),d=(e=Object(v.useState)(!1))[0],j=e[1],O=(e=Object(v.useState)(!1))[0],p=e[1];return Object(v.useEffect)(function(){function e(){return p(!0)}function t(){j(!0);var e=s.current.audioTracks.map(function(e){return e.name});c(Object(w.u)(e))}return s.current=new k.a({autoStartLoad:"auto"===a,capLevelToPlayerSize:!0,startLevel:-1,maxBufferSize:1e6}),s.current.on(k.a.Events.MEDIA_ATTACHED,e),s.current.on(k.a.Events.MANIFEST_PARSED,t),s.current.attachMedia(b.current),c(Object(_.p)("hls")),function(){j(!1),p(!1),s.current.off(k.a.Events.MEDIA_ATTACHED,e),s.current.off(k.a.Events.MANIFEST_PARSED,t);try{s.current.destroy()}catch(e){if(!(e instanceof TypeError&&"listener must be a function"===e.message))throw e}c(Object(_.j)())}},[c,a]),Object(v.useEffect)(function(){var e,t,n;O&&i&&(e=i.find(function(e){return"auto"===e.profile})||i[0],n=(t=i.map(function(e){return e.profile})).includes(l.current)?l.current:e.profile,s.current.loadSource(e.url),c(Object(w.v)(t)),c(Object(w.C)(n)))},[O,i,c]),Object(v.useEffect)(function(){var e;d&&(e=s.current.levels.findIndex(function(e){return e.height+"p"===n}),s.current.currentLevel=e)},[d,n]),Object(v.useEffect)(function(){d&&(s.current.audioTrack=u)},[d,u]),Object(v.useEffect)(function(){f&&(s.current.startLoad(),t(!1))},[f]),Object(g.a)(b,s),m.a.createElement(y.a,{ref:b})}},846:function(e,t,n){e.exports={video:"_1l-KU",hideCursor:"_3OgU3",hideVideo:"_3-9KU"}},847:function(e,t,n){"use strict";var f=n(366),b=n(369),s=n(370),c=n(957),l=n.n(c),c=n(845),d=n.n(c);t.a=function(t,n){var c=Object(s.a)("visitorId"),r=Object(s.b)("playerUuid"),u=Object(s.b)("accountId"),a=Object(s.b)("cdnProvider"),o=Object(b.d)(function(e){return e.config.chapters[e.playback.currentChapter].videoId}),i=Object(b.d)(function(e){var e=(t=e.config).onComplete,t=t.chapterLoop;return"loop"===e||!!t});Object(f.useEffect)(function(){var e=!i&&Math.floor(100*Math.random())<=10;t.current&&(void 0===n||n.current)&&e&&l.a.monitor("."+t.current.classList[0],{debug:!1,disableCookies:!0,hlsjs:n?n.current:void 0,Hls:n?d.a:void 0,data:{env_key:"vfhbo3jsnvrutdkuee1akd0lj",player_name:"Pomo Player",player_init_time:window.__startTime,player_version:"312f646d530efd5cb62dcd06d88ad74364dbea95",video_id:o,video_cdn:a,video_series:r,video_title:o,video_stream_type:"on-demand",viewer_user_id:c,page_type:window.location!==window.parent.location?"iframe":"watchpage",sub_property_id:u}})},[t,u,o,r,n,a,c,i])}},868:function(e,t,n){"use strict";function B(n){return function(e,t){0<(t=t().config.events.filter(function(e){return n<e.second+e.duration}).map(function(e){return e.id})).length&&e(Object(Z.j)(t))}}var G=n(366),J=n.n(G),K=n(369),c=n(373),V=n.n(c),W=n(604),Q=n(370),X=n(407),Y=n(384),Z=n(375),o=n(132);function i(e){return"track-"+e.id}function $(){var r=Object(K.d)(function(e){var t=e.playback.currentChapter;return e.config.chapters[t].captions}),u=Object(K.d)(function(e){return e=e.config.userBrowser,Object(X.c)(e)}),e=Object(G.useState)({}),t=e[0],a=e[1];return Object(G.useEffect)(function(){for(var c={},e=0,t=r;e<t.length;e++)!function(t){u?Object(o.a)(t.vttUrl,{method:"GET"}).then(function(e){return e.blob()}).then(function(e){c[i(t)]=URL.createObjectURL(e)}):c[i(t)]=t.vttUrl}(t[e]);return a(c),function(){if(u)for(var e=0,t=r;e<t.length;e++){var n=t[e];URL.revokeObjectURL(c[i(n)]),a({})}}},[r,u]),J.a.createElement(J.a.Fragment,null,r.map(function(e){return J.a.createElement("track",{id:i(e),key:e.id,kind:"captions",label:e.name,srcLang:e.language,src:t[i(e)]})}))}var f=n(667);function ee(t){var c=Object(K.c)(),r=Object(Q.c)("canPlay"),u=Object(Q.c)("caption"),a=Object(f.a)();Object(G.useEffect)(function(){if(r)for(var e=t.current.textTracks,n=0;n<e.length;n++)!function(){var t=e[n];a&&null!==u&&t.id===i(u)?(t.oncuechange=function(){var e=Array.from(t.activeCues);c(Object(Y.b)(e))},t.mode="hidden"):"disabled"!==t.mode&&(t.mode="disabled")}()},[u,a,r,c,t])}function te(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var c=Array(e),r=0,t=0;t<n;t++)for(var u=arguments[t],a=0,o=u.length;a<o;a++,r++)c[r]=u[a];return c}var ne=n(846),ce=n(605),re=n(505);t.a=Object(G.forwardRef)(function(t,e){var a=Object(K.c)(),n=Object(Q.b)("pauseDisabled"),c=Object(Q.b)("chapterLoop"),r=Object(Q.b)("redirectWholePage"),u=Object(Q.b)("redirectUrl"),o=Object(Q.b)("disableRedirect"),i=Object(Q.b)("onComplete"),f=Object(Q.b)("background"),b=Object(Q.b)("userBrowser"),s=Object(Q.b)("disableCtas"),l=Object(Q.b)("preload"),d=Object(Q.b)("autoplay"),j=Object(Q.c)("currentChapter"),O=Object(Q.c)("paused"),p=Object(Q.c)("mute"),v=Object(Q.c)("seekTo"),m=Object(Q.c)("seekFrom"),h=Object(Q.c)("speed"),k=Object(Q.c)("volume"),y=Object(Q.c)("canPlay"),g=Object(Q.c)("time"),E=Object(Q.d)("splashScreen"),w=Object(Q.d)("userActive"),_=Object(ce.a)(),C=(P=Object(G.useState)(!0))[0],T=P[1],S=Object(K.d)(function(e){var t=e.playback.currentChapter;return e.config.chapters[t].name}),A=Object(K.d)(function(e){return e.playback.currentChapter===e.config.chapters.length-1}),P=Object(K.d)(function(e){var e=(t=e.ui).userActive,t=t.controlsLocked;return!e&&!t}),L=Object(K.d)(function(e){var t=e.ui.playerDimensions;return e.playback.duration/t.width}),R=Object(K.d)(function(e){return null===(e=e.ui.eventState[null==_?void 0:_.id])||void 0===e?void 0:e.dismissed}),D=Object(re.a)(R),U=Object(G.useRef)(null),I=Object(G.useRef)(O),F=Object(G.useRef)(null),M=Object(G.useRef)(null);Object(G.useImperativeHandle)(e,function(){return U.current});var x={start:function(){U.current&&(Math.abs(U.current.currentTime-g)>=L&&a(Object(Y.G)(U.current.currentTime)),F.current=window.requestAnimationFrame(function(){return M.current.start()}))},stop:function(){cancelAnimationFrame(F.current),F.current=null}};Object(G.useEffect)(function(){M.current=x},[x]);var H=Object(G.useCallback)(function(){var e;y&&(O?U.current.pause():(e=U.current.play())instanceof Promise?e.catch(function(){!I.current&&U.current&&U.current.paused&&!U.current.muted&&2!==d?a(Object(Y.l)()):2===d&&C&&(a(Object(Y.j)()),a(Object(Z.y)()))}).finally(function(){T(!1)}):T(!1))},[y,O,d,C,a]);Object(G.useEffect)(function(){0<d&&!E&&a(Object(Y.k)())},[d,E,a]),Object(G.useEffect)(function(){H()},[H]),Object(G.useEffect)(function(){I.current=O},[O]),Object(G.useEffect)(function(){U.current.muted=p,U.current.paused&&!O&&p&&H()},[p,O,H]),Object(G.useEffect)(function(){y&&0<=v&&v<=U.current.duration&&(Number.isFinite(v)&&(U.current.currentTime=v),a(Object(Y.q)()))},[y,v,a]),Object(G.useEffect)(function(){U.current.muted=!1,U.current.volume=k},[k]),Object(G.useEffect)(function(){y&&(U.current.playbackRate=h)},[y,h]),Object(G.useEffect)(function(){return function(){a(Object(Y.x)(!1))}},[a]);var N,q,z=Object(G.useCallback)(function(){if(c)return a(Object(Y.a)()),a(Object(Y.h)()),void H();if(!A)return a(Object(Y.a)()),void a(Object(Y.s)(j+1));switch(a(Object(Y.m)()),a(B(0)),i){case"redirect_url":o?(a(Object(Z.y)()),a(Object(Z.o)(!1)),a(Object(Y.o)())):(r?window.top:window).location.replace(u);break;case"final_frame":a(Object(Y.j)()),a(Object(Z.o)(!1));break;case"loop":a(Object(Y.i)()),H();break;case"splash_screen":a(Object(Z.y)()),a(Object(Z.o)(!1)),a(Object(Y.o)())}},[c,j,a,A,i,u,r,o,H]);return Object(G.useEffect)(function(){!1===D&&R&&z()},[z,R,D]),ee(U),N=Object(Q.b)("pauseDisabled"),q=Object(Q.b)("hiddenControls"),Object(G.useEffect)(function(){if(navigator.mediaSession){var e=N||q?[]:[["play",null],["pause",null],["stop",null],["seekbackward",null],["seekforward",null],["seekto",null]];N&&(e=te(e,[["play",function(){}],["stop",function(){}],["pause",function(){}]]));for(var t=0,n=e=q?te(e,[["seekbackward",function(){}],["seekforward",function(){}],["seekto",function(){}]]):e;t<n.length;t++){var c=(r=n[t])[0],r=r[1];try{navigator.mediaSession.setActionHandler(c,r)}catch(e){}}}},[N,q]),e=V()(ne.video,((e={})[ne.hideCursor]=P,e[ne.hideVideo]=E,e)),J.a.createElement("video",{"aria-label":S,preload:l,crossOrigin:"anonymous",ref:U,className:e,style:{backgroundColor:f},playsInline:!0,onDurationChange:function(){isFinite(U.current.duration)&&a(Object(Y.e)(U.current.duration))},onTimeUpdate:function(){-1===v&&a(Object(Y.G)(U.current.currentTime))},onContextMenu:function(e){e.preventDefault()},onClick:function(){(Object(X.g)(b)||Object(X.e)(b))&&Object(W.a)(),n||a((O?Object(Y.k):Object(Y.j))()),U.current.focus()},onEnded:function(){x.stop(),!s&&_||z()},onPause:function(){n?U.current.play():(O&&a(Object(Y.j)()),x.stop())},onPlay:function(){O||a(Object(Y.k)()),x.start()},onCanPlayThrough:function(){a(Object(Y.w)(!1))},onCanPlay:function(){a(Object(Y.x)(!0))},onSeeked:function(){m!==v&&a(B(g))},onProgress:function(){for(var e=U.current,t=e.buffered,n=e.currentTime,c=e.duration,r=0;r<t.length;r++)if(t.start(t.length-1-r)<n){var u=t.end(t.length-1-r)/c;a(Object(Y.z)(u));break}},onWaiting:function(){a(Object(Y.w)(!0))},onPlaying:function(){var e;a(Object(Y.w)(!1)),null!==(e=t.onPlaying)&&void 0!==e&&e.call(t)},onLoadedData:function(){var e;null!==(e=t.onLoadedData)&&void 0!==e&&e.call(t)},"data-testid":"video",tabIndex:w?-1:0},J.a.createElement($,null))})}}]);

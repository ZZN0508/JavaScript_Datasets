!function(a,o){var n,t,i,r;void 0!==a&&(window.searchplat||(searchplat={}),searchplat.suggest||(searchplat.suggest={}),n=searchplat.suggest,(t=function(){}).prototype={pluginArray:[],add:function(t){this.pluginArray.push(t)},invokeFunction:function(t,e,s){for(var n=0,i=this.pluginArray.length;n<i;n++){var a=this.pluginArray[n];"function"==typeof a[e]&&a[e].call(a,t,s)}},init:function(t){for(var e=0,s=this.pluginArray.length;e<s;e++){var n=this.pluginArray[e];if("function"==typeof n.init&&!n.init(t))return!1}return!0},createSuggestElems:function(t){for(var e,s="",n=0,i=this.pluginArray.length;n<i;n++)"function"==typeof(e=this.pluginArray[n]).createSuggestElems&&(s+=e.createSuggestElems(t));return s},getSelectedText:function(t,e){for(var s=0,n=this.pluginArray.length;s<n;s++){var i=this.pluginArray[s];if("function"==typeof i.getSelectedText&&(i=i.getSelectedText(t,e)))return i}return a(e).text()},addSubmitLog:function(t){for(var e="",s=0,n=this.pluginArray.length;s<n;s++){var i=this.pluginArray[s];"function"==typeof i.addSubmitLog&&(e+=i.addSubmitLog(t))}return e}},i=n.plugins=new t,(r=function(){n.rsuggest=this}).prototype={resultCache:{},backup:"",lastInput:"",respInput:null,sggstSelectNum:-1,usingChar:"",usingPluginChar:"",mouseInput:null,mouseState:0,mouseMove:0,mouseOver:0,enterFlag:1,keyCode:null,currentFontSize:null,maxIndex:0,index:-1,clickEnableFlag:1,IeVersion:0,viewEvent:null,showTimer:null,waitTimeout:null,suggestDivPos:a("body"),onoff:1,onoffInitFlag:0,onElem:null,offElem:null,decisionFlag:0,scVal:0,submitWay:0,spaceRegExp:RegExp("^[\\s"+unescape(String.fromCharCode("0x3000"))+unescape(String.fromCharCode("0x00A0"))+"]+"),whitespaceMatcher:RegExp("[\\s"+unescape(String.fromCharCode("0x3000"))+unescape(String.fromCharCode("0x00A0"))+"]+"),trimMatcher:RegExp("^[\\s"+unescape(String.fromCharCode("0x3000"))+unescape(String.fromCharCode("0x00A0"))+"]+|[\\s"+unescape(String.fromCharCode("0x3000"))+unescape(String.fromCharCode("0x00A0"))+"]+$","g"),blackList:["iphone","ipod","ipad","android"],onOffBlackList:[],count:10,configCollection:"col",cssRow:"sggstRow",cssSelect:"sggstSelect",cssNoSelect:"sggstNoselect",cssKeyword:"sggstKeyword",cssOnoff:"sggstOnoff",cssOffImage:"sggstHideimg",cssOnImage:"sggstOpenimg",cssRemarks:"sggstComment",cssRemarksBox:"sggstCommentbox",cssComment:"sggstBetabtn01",cssOff:"sggstBetabtn02",cssOn:"openSuggest",searchCommand:"suggest",submitLogCommand:"submit",cookieCommand:"conf",paramInput:"q",paramCollection:"cl",paramSuggestid:"sid",paramSuggestUse:"su",paramSelectNum:"sn",paramSuggestOnOff:"so",paramFormParam:"fp",paramReqid:"rid",sggstReqid:Math.floor(1e10*Math.random()),paramEncoding:"oe",paramSelect:"ss",paramGroupId:"gi",paramCookieMethod:"mt",paramCookieCheck:"c",paramCookieAdd:"a",paramCookieDelete:"d",paramSubmitWay:"sw",paramCallback:"cb",paramExParam:"ex",ajaxSearchTimeout:1e4,ajaxSubmitLogTimeout:3e3,afterWaitingforEventTimeout:100,justAddedToQueueTimeout:10,pollingTime:10,retryCount:20,isTimeout:!1,readyState:0,browser:{},init:function(t){var e=this,t=e.config=a(t),s=n.hook;if(!e.validateConfig(t))return!1;if(e.form=a("#"+t.attr("form")),e.baseUrl=t.attr("baseUrl"),e.button=a("#"+t.attr("button")),e.suggestId=t.attr("suggestId"),e.encoding=t.attr("encoding"),e.exParam=t.attr("exParam")||"",e.groupId=t.attr("groupId"),e.input=a("#"+t.attr("input")),e.input.attr("autocomplete","off"),e.sendFormParam=e.checkBoolNum(t.attr("sendFormParam"))||1,e.onoffEnable=e.checkBoolNum(t.attr("onoff"))||1,e.hookRequired=e.checkBoolNum(t.attr("hookRequired"))||0,e.keywordReplaceOnMouseover=e.checkBoolNum(t.attr("keywordReplaceOnMouseover"))||0,e.addBlackList=t.attr("uaBlackList")||"",e.byteNumToHideOpenSggst=t.attr("byteNumToHideOpenSggst")||36,e.nowFontSize=a("html").css("font-size"),e.hideToolTips=t.attr("hideToolTips")||"",e.openToolTips=t.attr("openToolTips")||"",e.pollingTime=t.attr("pollingTime")||e.pollingTime,e.retryCount=t.attr("retryCount")||e.retryCount,e.spOn=t.attr("spOn")||0,e.spOn&&(e.blackList=[]),e.getBrowser(navigator.userAgent),!e.preInit()||-1==e.judge()||1!=e.input.parent(".sggstInputWrap").length||1==e.hookRequired&&void 0===s){try{e.initFailure()}catch(t){}return!1}return void 0!==s&&s.prototype!=o&&a.extend(r.prototype,s.prototype),i.init(e)?(e.createSuggestDiv(),e.onoffReady(),e.resize(),a(window).resize(function(){e.resize()}),e.input.keydown(function(t){switch(e.enterFlag=0,e.keyCode=t.keyCode,t.keyCode){case 40:e.down();break;case 38:e.up();break;case 9:e.hide()}}).keypress(function(t){switch(e.keyCode=t.keyCode,e.enterFlag=1,t.keyCode){case 27:return 27==e.keyCode&&e.hide(!0),!1;case 13:return 13==e.keyCode&&1==e.enterFlag&&1==e.clickEnableFlag&&(e.clickEnableFlag=0,e.decisionFlag=1,e.submitWay=1,setTimeout(function(){e.button.click()},10),e.eventStop()),!1}}).keyup(function(t){switch(t.keyCode){case 27:return 27==e.keyCode&&e.hide(!0),!1;case 13:return 13==e.keyCode&&1==e.enterFlag&&1==e.clickEnableFlag&&(e.clickEnableFlag=0,e.decisionFlag=1,e.submitWay=1,setTimeout(function(){e.button.click()},10),e.eventStop()),!1}}).focus(function(){e.lastInput=e.input.val(),0==e.mouseOver&&(e.backup=e.input.val()),e.eventStart()}).blur(function(){0==e.mouseState&&0==e.mouseOver?e.eventStop():1!=e.mouseState&&1!=e.mouseOver||e.input.focus(),e.mouseState=0}).mouseover(function(){1==e.keywordReplaceOnMouseover&&e.suggest.is(":visible")&&-1!=e.index&&0!=e.backup.length&&e.lastInput==e.input.val()&&(e.input.val(e.backup),e.sggstSelectNum=-1,e.usingChar="",e.usingPluginChar="")}).attr("maxlength",2048),document.activeElement.id==e.input.attr("id")&&(e.input.blur(),e.input.focus()),i.invokeFunction(e,"postInit"),e.postInit(),!0):(e.initFailure(),!1)},preInit:function(){return!0},postInit:function(){return!0},validateConfig:function(t){if(!(t!=o&&this.isMatch(t.attr("input"),/^[a-zA-Z0-9_\-]+$/)&&this.isMatch(t.attr("form"),/^[a-zA-Z0-9_\-]+$/)&&this.isMatch(t.attr("baseUrl"),/(^https?:\/\/|^\/\/).+$/)&&this.isMatch(t.attr("button"),/^[a-zA-Z0-9_\-]+$/)&&this.isMatch(t.attr("suggestId"),/^[a-zA-Z0-9_\-]+$/)&&this.isMatch(t.attr("encoding"),/^(utf-8|euc-jp)$/)&&this.isMatch(t.attr("col"),/^[a-z]+$/)&&this.isMatch(t.attr("groupId"),/^[a-zA-Z0-9_\-]+$/)))return!1;var e=t.attr("byteNumToHideOpenSggst");return!(e&&!this.isInRange(e,1,99)||(e=t.attr("openToolTips"))&&!this.isMatch(e,/^[^<>]+$/)||(e=t.attr("hideToolTips"))&&!this.isMatch(e,/^[^<>]+$/)||(e=t.attr("uaBlackList"))&&!this.isMatch(e,/^[a-zA-Z0-9 _\/\.;]+$/)||(e=t.attr("exParam"))&&!this.isMatch(e,/^[^<>]+$/)||(e=t.attr("pollingTime"))&&!this.isInRange(e,10,1e3)||(e=t.attr("retryCount"))&&!this.isInRange(e,1,100)||(e=t.attr("onoff"))&&!this.isInRange(e,0,1)||(e=t.attr("hookRequired"))&&!this.isInRange(e,0,1)||(e=t.attr("sendFormParam"))&&!this.isInRange(e,0,1)||(e=t.attr("keywordReplaceOnMouseover"))&&!this.isInRange(e,0,1))&&!((t=t.attr("spOn"))&&!this.isInRange(t,0,1))},checkBoolNum:function(t){return void 0===t||0==t.length||0!=t&&1!=t?"":t},escapeHtml:function(t){return a("<div/>").text(t).html()},initFailure:function(){this.input.attr("autocomplete","")},createSuggestDiv:function(){var n=this;n.suggest=a("<div>").attr({id:"suggest"}).show().hide().appendTo(n.suggestDivPos);var t=i.createSuggestElems(this);n.suggest.append(t),n.suggest.delegate("."+n.cssKeyword,"mouseup",function(t){var e=a(this),s=e.text();1!=t.which||n.mouseInput!=s||0==n.clickEnableFlag||(n.mouseState=2,n.input.blur(),t=i.getSelectedText(n,e.parent("."+n.cssRow)),n.input.val(t),n.sggstSelectNum=n.index,n.usingChar=s,n.usingPluginChar=t,n.clickEnableFlag=0,n.decisionFlag=1,n.submitWay=2,n.selectDiv=e.parent("."+n.cssRow),setTimeout(function(){n.button.click()},10),n.eventStop())}),n.suggest.delegate("."+n.cssKeyword,"mousedown",function(t){return 1==t.which?(n.mouseInput=a(this).text(),!(n.mouseState=1)):void n.input.blur()}),n.suggest.delegate("."+n.cssKeyword,"mouseover",function(){n.over(a(this))}),n.suggest.delegate("."+n.cssKeyword,"mouseout",function(){a(this).parent().removeClass(n.cssSelect).addClass(n.cssNoSelect),n.mouseState=0}),n.suggest.delegate("."+n.cssKeyword,"mousemove",function(){n.mouseMove=1}),n.remarks=a('<div class="'+n.cssRemarks+'"><div class="'+n.cssRemarksBox+'"><div class="'+n.cssComment+'">')},preSearch:function(){return!0},search:function(){var t,e=this,s=e.input.val();e.preSearch()&&0!=e.onoffInitFlag&&(!s||e.isMatch(s,e.spaceRegExp)?(e.usingChar="",e.usingPluginChar="",e.sggstSelectNum=-1,e.hide()):s!=e.lastInput&&(e.resize(),e.lastInput=s,e.backup=s,e.readyState=0,clearTimeout(e.waitTimeout),clearInterval(e.showTimer),clearTimeout(t),t=setTimeout(function(){e.index=-1,e.mouseMove=0,e.maxIndex=0,i.invokeFunction(e,"search"),e.waitTimeout=setTimeout(function(){clearInterval(e.showTimer)},e.pollingTime*e.retryCount),clearInterval(e.showTimer),e.showTimer=setInterval(function(){e.readyState<2||(e.suggest.append(e.remarks),clearTimeout(e.waitTimeout),clearInterval(e.showTimer),e.readyState<3?setTimeout(function(){e.showInternal()},e.pollingTime):e.showInternal())},e.pollingTime)},e.justAddedToQueueTimeout),e.postSearch()))},showInternal:function(){this.mouseMove=1;var t=this.suggest.children().not(this.remarks).filter(function(){return"none"!==a(this).css("display")});1==this.onoff&&0<t.length?this.suggest.show():this.suggest.hide()},showAfterGetSuggest:function(t){i.invokeFunction(this,"showWithSuggestKeyword",t)},postSearch:function(){},read:function(t,s){var n=this,i=setTimeout(function(){n.isTimeout=!0},n.ajaxSearchTimeout);n.isTimeout=!1;try{a.ajax({url:t,cache:!0,timeout:n.ajaxSearchTimeout,dataType:"jsonp",scriptCharset:n.encoding,jsonp:n.paramCallback,success:function(t){var e;clearTimeout(i),n.isTimeout||(e={query:n.getParsedUrlInfo(this.url,n)},t.qInfo=e,s(t))}})}catch(t){clearTimeout(n.waitTimeout),clearInterval(n.showTimer)}},getParsedUrlInfo:function(t,e){if(!t)return null;var s={};try{(i=document.createElement("a")).href=t;for(var n=i.search.replace("?","").split("&"),i=0,a=n.length;i<a;i++){var o=n[i].split("=");s[o[0]]=2==o.length?decodeURIComponent(o[1]):""}}catch(t){s={q:e.lastInput}}return s},eventStart:function(){var t=this;clearInterval(t.viewEvent),t.clickEnableFlag=!0,t.decisionFlag=!1,t.viewEvent=setInterval(function(){t.nowFontSize=a("html").css("font-size"),t.currentFontSize!=t.nowFontSize&&(t.currentFontSize=t.nowFontSize,t.resize()),t.controlOnElem(),t.search()},100)},eventStop:function(){var t=this;clearInterval(this.viewEvent),setTimeout(function(){t.hide()},200)},hide:function(t){t&&0!=this.lastInput.length&&(this.input.val(this.backup),this.sggstSelectNum=-1,this.usingPluginChar=this.usingChar=""),this.lastInput=this.input.val(),this.suggest.hide()},select:function(t){var e=this.suggest.children("."+this.cssSelect+", ."+this.cssNoSelect);e.filter("."+this.cssSelect).removeClass(this.cssSelect).addClass(this.cssNoSelect),e=e.filter(":visible").eq(this.index),-1!=this.index&&e.removeClass(this.cssNoSelect).addClass(this.cssSelect),t&&(t="",this.index<=-1||this.index>=this.maxIndex?(t=this.backup,this.usingPluginChar=this.usingChar="",this.sggstSelectNum=-1,this.selectDiv=o):(this.usingPluginChar=this.usingChar=t=i.getSelectedText(this,e),this.sggstSelectNum=this.index,this.selectDiv=e),this.input.val(t),this.lastInput=t),this.decisionFlag=1},up:function(){0==this.maxIndex||0==this.lastInput.length||0==this.config.attr(this.configCollection).length||(this.index<=-1&&(this.index=this.maxIndex),this.suggest.is(":visible")?(this.index--,this.select(1)):this.respInput==this.lastInput&&1==this.onoff&&(this.select(),this.suggest.show()))},down:function(){0==this.maxIndex||0==this.lastInput.length||0==this.config.attr(this.configCollection).length||(this.index>=this.maxIndex&&(this.index=-1),this.suggest.is(":visible")?(this.index++,this.select(1)):this.respInput==this.lastInput&&1==this.onoff&&(this.select(),this.suggest.show()))},over:function(s){var n=this,i=-1,t=n.suggest.children("."+n.cssSelect+", ."+n.cssNoSelect);t.filter("."+n.cssSelect).removeClass(n.cssSelect).addClass(n.cssNoSelect),t.filter(":visible").each(function(t,e){if(s.get(0)==a(e).find("."+n.cssKeyword).get(0))return i=t,!1}),(t=1==n.keywordReplaceOnMouseover&&1==n.mouseMove)&&(n.mouseOver=1,n.input.blur(),n.input.focus()),n.index=i,n.select(t),setTimeout(function(){n.mouseOver=0},50)},preJump:function(){return!0},jump:function(t){this.preJump()&&(this.scVal=1==this.decisionFlag?t:0,this.sendSubmitLog())},sendSubmitLog:function(){try{var t=searchplat.suggest.rsbmt;void 0!==t&&"function"==typeof t.sendSubmitLog&&"function"==typeof t.setParamPlugin&&t.sendSubmitLog(t.setParamPlugin,this,i.pluginArray)}catch(t){}return!0},isUse:function(){var t=this.input.val()!==o?this.input.val().replace(this.trimMatcher,""):"";return 0!=t.length&&this.usingPluginChar==t?1:0},judge:function(){for(var t=this,e=navigator.userAgent.toLowerCase(),s=0;s<t.blackList.length;s++){var n=t.blackList[s];if(0!=n.length&&null!=(n=RegExp("("+n+")")).exec(e))return-1}if(0!=t.addBlackList.length)for(var i=t.addBlackList.split(","),s=0;s<i.length;s++)if(0!=(n=i[s]).length&&-1!=e.indexOf(n))return-1;for(t.browser.msie&&(5<(s=(t=this).browser.version)&&s<7?t.IeVersion=6:6<s&&s<8&&(t.IeVersion=7)),6==t.IeVersion&&(t.onoffEnable=0),s=0;s<t.onOffBlackList.length;s++)if(0!=(n=t.onOffBlackList[s]).length&&null!=(n=RegExp("("+n+")")).exec(e)){t.onoffEnable=0;break}return t.IeVersion},getBrowser:function(t){var e={};t&&(t=t.toLowerCase(),(t=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[])[1]&&(e[t[1]]=!0,e.version=t[2]||"0"),e.chrome&&void 0===window.chrome?e.webkit=!0:e.chrome&&void 0!==window.chrome?e.blink=!0:e.webkit&&(e.safari=!0)),this.browser=e},preResize:function(){return!0},resize:function(){var t,e,s;this.preResize()&&(e=this.getTextPos(),t=(e=7==this.IeVersion?this.getIe7TextPos(e):e).top,e=e.left,s=Math.ceil(this.input.outerHeight()),this.suggest.css({top:t+s,left:e}),this.changeSuggestWidth(),this.postResize())},postResize:function(){},getTextPos:function(){return this.input.position()},getIe7TextPos:function(t){var e=[],s=document.body,n=s.getBoundingClientRect(),i=(n.right-n.left)/s.offsetWidth;return e.top=Math.ceil(t.top/((n.bottom-n.top)/s.offsetHeight)),e.left=Math.ceil(t.left/i),e},changeSuggestWidth:function(){var t=this.input.outerWidth(),e=this.input.innerWidth(),s=0,n=s=0;try{s=parseInt(this.suggest.css("border-left-width")),n=parseInt(this.suggest.css("border-right-width"))}catch(t){}s+=n,t!=(n=this.suggest.outerWidth()-s)&&(this.suggest.css({width:t-s}),this.suggest.find("."+this.cssKeyword).css({width:e-s}))},onoffReady:function(){1==this.onoffEnable?(this.createOnElm(),this.createOffElm(),this.checkCookie()):this.setInitOnoffNum(1)},checkCookie:function(){var e=this;a.ajax({type:"GET",url:e.baseUrl+"/"+e.cookieCommand+"?"+e.paramGroupId+"="+e.groupId+"&"+e.paramCookieMethod+"="+e.paramCookieCheck,dataType:"jsonp",timeout:500,jsonp:e.paramCallback,success:function(t){void 0===(t=t.result)||0!=t&&1!=t||e.setInitOnoffNum(0==t?1:0)}}),setTimeout(function(){e.setInitOnoffNum(1)},1e3)},setInitOnoffNum:function(t){1!=this.onoffInitFlag&&(this.onoff=t,this.onoffInitFlag=1,this.displayOnoff())},createOnElm:function(){var t=this;t.onElem=a("<div />").hide().attr({class:t.cssOn,title:t.openToolTips}).click(function(){t.setOnoffNum(1),t.input.focus(),setTimeout(function(){t.lastInput=""},120)}),t.input.after(t.onElem)},createOffElm:function(){var e=this;e.offElem=a("<div />").attr({class:e.cssOff,title:e.hideToolTips}).append(a("<span />").attr("class",e.cssOffImage)),e.remarks.children().append(e.offElem),e.suggest.delegate("."+e.cssOff,"mousedown",function(t){return 1==t.which?(e.mouseState=1,e.setOnoffNum(0),e.input.blur(),!1):void e.input.blur()}),e.suggest.delegate("."+e.cssOff,"mouseout",function(){e.mouseState=0})},setOnoffNum:function(t){this.onoff=t,this.setCookie(t),this.displayOnoff()},setCookie:function(t){a.ajax({type:"GET",url:this.baseUrl+"/"+this.cookieCommand+"?"+this.paramGroupId+"="+this.groupId+"&"+this.paramCookieMethod+"="+(1==t?this.paramCookieDelete:this.paramCookieAdd),dataType:"jsonp",timeout:500,jsonp:this.paramCallback,success:function(){}})},displayOnoff:function(){1==this.onoffEnable&&(1==this.onoff?(this.onElem.hide(),this.resize(),this.input.attr("autocomplete","off")):(this.resize(),this.input.attr("autocomplete",""),this.controlOnElem(),this.suggest.hide()))},controlOnElem:function(){1!=this.onoffEnable||0!=this.onoff||0==this.byteNumToHideOpenSggst||(1==this.isByteLengthOver(this.input.val(),this.byteNumToHideOpenSggst)?this.onElem.hide():this.onElem.is(":visible")||this.onElem.show())},isSuggestUse:function(){return void 0!==this.scVal&&1==this.scVal},isMatch:function(t,e){return!(!t||!RegExp(e).test(t))},isInRange:function(t,e,s){return t=parseInt(t),!isNaN(t)&&e<=t&&t<=s},isNotEmptyArray:function(t){return"object"==typeof t&&"function"==typeof t.pop&&0<t.length},createWordLine:function(t){if(!t||this.isMatch(t,this.spaceRegExp))return"";for(var e,t=this.escapeHtml(t),s=this.respInput.toLowerCase().split(this.whitespaceMatcher),n=0,i=s.length;n<i;n++)e=this.escapeHtml(s[n]),t=t.replace(RegExp("(^|\\s)("+this.escapeRegExp(e)+")"),"$1<strong>$2</strong>");return t},escapeRegExp:function(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},isByteLengthOver:function(t,e){if(t===o)return 0;for(var s,n=0,i=t.length,a=0;a<i;a++)if(e<(n+=(s=escape(t.charAt(a))).length<4&&!/%[0|1|8-9|A-F]\w|%7F/.test(s)?1:2))return 1;return 0}},a(function(){(new r).init("#sggstConfig")}))}(jQuery),function(p){var t;void 0!==p&&"undefined"!=typeof searchplat&&void 0!==searchplat.suggest&&void 0!==searchplat.suggest.plugins&&((t=function(){}).prototype={pluginName:"swg",cssRow:"swgRow",cssSwgTopRow:"swgTopRow",cssBorder:"sggstBorder",cssSwgRow:"swgWordRow",cssSwgTopWordRow:"swgTopWordRow",paramGenre:"ge",paramGenreUse:"gu",paramOutputFormat:"of",paramSortLogic:"sl",maxRows:10,maxAddGenreRows:1,maxEachGenreRows:3,noGenreId:"0",swgQuery:"swg",swgOutput:"osgenre",gbQuery:"",gbOutput:"osgenre",genreBoostOutput:"osgenre",swgExistsCss:"sggstSwg",validateConfig:function(t){var e=t.config;if(null==e)return!1;var s=e.attr("selectBoxId");return!(s&&!t.isMatch(s,/^[a-zA-Z0-9_\-]+$/)||(s=e.attr("maxRows"))&&!t.isInRange(s,1,30)||(s=e.attr("maxAddGenreRows"))&&!t.isInRange(s,0,1)||(s=e.attr("maxEachGenreRows"))&&!t.isInRange(s,0,10)||(s=e.attr("noGenreId"))&&!t.isMatch(s,/^[a-zA-Z0-9_\-]+$/)||(s=e.attr("swgQuery"))&&!t.isMatch(s,/^[^<>]+$/)||(s=e.attr("swgOutput"))&&!t.isMatch(s,/^[^<>]+$/)||(s=e.attr("genreBoostQuery"))&&!t.isMatch(s,/^[^<>]+$/))&&!((e=e.attr("genreBoostOutput"))&&!t.isMatch(e,/^[^<>]+$/))},init:function(t){var i=this,e=t.config;if(i.genreSelectBox=p([{value:i.noGenreId,isDummy:!0}]),!i.validateConfig(t))return!1;t.maxRows=e.attr("maxRows")||i.maxRows,i.maxAddGenreRows=e.attr("maxAddGenreRows")||i.maxAddGenreRows,i.maxEachGenreRows=e.attr("maxEachGenreRows")||i.maxEachGenreRows,i.swgQuery=e.attr("swgQuery")||i.swgQuery,i.swgOutput=e.attr("swgOutput")||i.swgOutput,i.gbQuery=e.attr("genreBoostQuery")||i.gbQuery,i.gbOutput=e.attr("genreBoostOutput")||i.genreBoostOutput;var a=e.attr("selectboxId");if(i.noGenreId=e.attr("noGenreId")||"0",void 0!==a&&0<a.length&&(i.genreSelectBox=p("#"+a)),void 0===i.genreSelectBox.val()||!i.genreSelectBox.attr("isDummy")&&0==i.genreSelectBox.find("option[value="+i.noGenreId+"]").length)return t.config=p(),!1;t.form.bind("reset",function(){setTimeout(function(){i.genreSelectBox.val(i.noGenreId)},t.afterWaitingforEventTimeout)}),i.genreSelectBox.getAddingQuery=function(){var t;return this.val()==i.noGenreId?t=i.paramSortLogic+"="+i.swgQuery+"&"+i.paramOutputFormat+"="+i.swgOutput:(t=i.paramGenre+"="+this.val()+"&"+i.paramOutputFormat+"="+i.gbOutput,i.gbQuery&&(t+="&"+i.paramSortLogic+"="+i.gbQuery)),t},i.genreSelectBox.change(function(){t.respInput=""});var o=i.genreSelectBox.attr("name")||"g";return i.genreSelectBox.setGenreId=function(t){var e=i.getSelectedSwg(t).genreId,s=i.getSelectedSwg(t).swgIndex,n=a+"_hidden_for_suggest";t.form.children("#"+n).length&&t.form.children("#"+n).remove(),t.swgIndex=0,this.val()==i.noGenreId&&0<e.length&&(i.genreHidden=p("<input />").attr("id",n).attr("name",o).attr("type","hidden").val(e),i.genreHidden.appendTo(t.form),t.swgIndex=s,this.isDummy||p(this).removeAttr("name"))},0==p("body[onunload]").length&&p(window).bind("unload",function(){}),t.getTextPos=function(){return this.input.offset()},t.button.bind("click.swg",function(){try{i.genreSelectBox.setGenreId(t),t.jump(t.isUse())}catch(t){}return!0}),!0},createSuggestElems:function(t){for(var e='<span class="'+t.cssKeyword+'"></span></div>',s='<div class="'+t.cssNoSelect+" "+t.cssRow+'"data-sgst-idx="nrm_###N###">'+e,e='<div class="'+t.cssNoSelect+" "+this.cssRow+'"data-sgst-idx="swg_###N###">'+e,n="",i="",a=(a=parseInt(t.maxRows))-(t=a<(t=isNaN(parseInt(this.maxAddGenreRows))?0:parseInt(this.maxAddGenreRows))*(o=isNaN(parseInt(this.maxEachGenreRows))?0:parseInt(this.maxEachGenreRows))?a:t*o),o=0;o<a;o++)var r=s,n=n+r.replace(/###N###/,o+1);if(0<t)for(0<a&&(i+='<hr class="lastSwgBorder">'),o=0;o<t;o++)i+=(r=e).replace(/###N###/,o+1);return n+i+'<hr class="'+this.cssBorder+'">'},postInit:function(n){var i=this;n.suggest.find("."+i.cssRow+" > ."+n.cssKeyword).bind("mouseup",function(t){t.stopPropagation();var e=p(this),s=e.text();1!=t.which||n.mouseInput!=s||0==n.clickEnableFlag||(n.over(e),n.mouseState=2,n.input.blur(),t=i.getSelectText(e),n.input.val(t),n.sggstSelectNum=n.index,n.usingChar=s,n.usingPluginChar=t,n.clickEnableFlag=0,n.decisionFlag=1,n.submitWay=2,n.selectDiv=e.parent("."+i.cssRow),setTimeout(function(){n.button.click()},n.justAddedToQueueTimeout),n.eventStop())})},getValidIntValue:function(t,e,s,n){return(t=isNaN(t)||0==t.length?e:parseInt(t))<s?s:n<t?n:t},getSelectText:function(t){return(t=t.clone()).children("span").remove(),t.text()},getSelectedSwg:function(s){var n={genreId:"",swgIndex:0};return s.suggest.children(":not(hr)").filter(":visible").eq(s.sggstSelectNum).filter(":not(."+s.cssNoSelect+")").children("."+s.cssKeyword).children("span[key]"),s.suggest.children(":visible").filter("."+this.cssRow).each(function(t){if(!p(this).hasClass(s.cssNoSelect)){var t=t+1,e=p(this).children("."+s.cssKeyword).children("span[key]");return swgGenreId=0===e.length?"":e.attr("key"),n.genreId=swgGenreId,n.swgIndex=t,!1}}),n},search:function(e){var s=this,t=e.lastInput.replace(e.spaceRegExp,"");if(0==t.length)e.readyState+=2;else{var n=e.config.attr(e.configCollection),i=n+s.genreSelectBox.val();if(void 0===e.resultCache[i]&&(e.resultCache[i]={}),void 0===(i=e.resultCache[i])[t])try{var a=e.baseUrl+"/"+e.searchCommand+"?"+e.paramCollection+"="+n+"&"+e.paramReqid+"="+e.sggstReqid+"&"+e.paramSuggestid+"="+e.suggestId+"&"+e.paramInput+"="+encodeURIComponent(t)+"&"+e.paramEncoding+"="+e.encoding+"&"+s.genreSelectBox.getAddingQuery();0!=e.exParam.length&&(a+="&"+e.exParam),e.read(a,function(t){s.show(e,t)})}catch(t){e.readyState+=2}else s.show(e,i[t])}},show:function(a,t){var o,r,c,u,l,g,s,h=this,e=p.extend(!0,[],t),d=e[1],n=e[2],i=a.suggest.find(".lastSwgBorder");a.suggest.children("."+a.cssRow+", ."+h.cssRow).hide(),a.suggest.removeClass(h.swgExistsCss),a.showAfterGetSuggest(e),a.suggest.find("."+h.cssBorder).hide(),p(i).hide(),a.isNotEmptyArray(d)&&a.isNotEmptyArray(n)&&(o=n[0],r=n[1],a.isNotEmptyArray(o)&&"object"==typeof r&&(n="",e=(n=e&&e.qInfo&&e.qInfo.query&&e.qInfo.query.q?e.qInfo.query.q:n)||a.lastInput,n=a.config.attr(a.configCollection)+h.genreSelectBox.val(),void 0===a.resultCache[n][e]&&(a.resultCache[n][e]=t),a.lastSuggestQuery=e,a.respInput=a.lastInput,u=c=0,e=a.suggest.children("."+h.cssRow),l=0,g=!1,e.filter("."+a.cssSelect).removeClass(a.cssSelect).addClass(a.cssNoSelect),e.each(function(t,e){var s=p(e),n=a.createWordLine(d[c]),i=o[c];void 0!==i&&(i=i[u],e=r[i]||" ",a.isMatch(i,/^[^\s]+/)&&(g=!0,n+='<span key="'+i+'" class="'+h.cssSwgRow+'">'+e+"</span>",s.show().children("."+a.cssKeyword).html(n),l++)),g||s.hide(),++u>=h.maxEachGenreRows&&(c++,u=0)}),e.removeClass("swgLastRow"),l&&p(e.get(l-1)).addClass("swgLastRow"),s=d.length,e=a.maxRows,g&&e++,e<s&&(s=e),(e=a.suggest.children("."+a.cssRow)).filter("."+a.cssSelect).removeClass(a.cssSelect).addClass(a.cssNoSelect),e.each(function(t,e){e=p(e);t<s?(t=a.createWordLine(d[t]),e.show().children("."+a.cssKeyword).html(t),l++):(e.hide(),a.suggest.removeClass(h.swgExistsCss))}),g?p(i).show():p(i).hide(),0<l&&(a.suggest.find("."+h.cssBorder).show(),a.suggest.addClass(h.swgExistsCss)),a.maxIndex+=l)),a.readyState+=2},addSubmitLog:function(){var t="&"+this.paramGenre+"="+this.genreSelectBox.val(),e=void 0===this.genreHidden?this.noGenreId:this.genreHidden.val();return t+("&"+this.paramGenreUse)+"="+e},getSelectedText:function(t,e){e=p(e);return e.hasClass(this.cssRow)||e.hasClass(this.cssSwgTopRow)?((e=e.children("."+t.cssKeyword).clone()).children("span").remove(),e.text()):null}},t=new t,searchplat.suggest.plugins.add(t))}(jQuery),function(w){var t;void 0!==w&&"undefined"!=typeof searchplat&&void 0!==searchplat.suggest&&void 0!==searchplat.suggest.plugins&&((t=function(){}).prototype={pluginName:"cnavi",cnaviCache:null,destinationStartMark:"<em>",destinationEndMark:"</em>",destinationRegExp:/<em>(.*)<\/em>/,cssEmphasize:"cnaviEm",cssRow:"cnaviRow",cssImg:"cnaviImg",cssLink:"cnaviLink",cssHorizon:"cnaviBorder",rowCount:1,searchCount:2,searchCommand:"cnavi",paramCNaviUse:"cu",paramSearchCount:"h",paramLanguage:"lr",cnaviCollectionKey:"cnavicol",lang:"ja",cnaviCollection:null,selectboxId:null,noGenreId:"0",genreSelectBox:null,ignoreUrls:[],partsname:"suggestcn1",channel:null,func:"Suggest",parts:null,cnaviExistsCss:"sggstCn",paramExParam:"cex",validateConfig:function(t){var e=t.config;if(null==e||!t.isMatch(e.attr("channel"),/^[a-zA-Z0-9_\-]+$/)||!t.isMatch(e.attr("parts"),/^[a-zA-Z0-9_\-]+$/))return!1;var s=e.attr("cnaviRowCount");return!(s&&!t.isInRange(s,0,1)||(s=e.attr("cnaviSearchCount"))&&!t.isInRange(s,0,10)||(s=e.attr("lang"))&&!t.isMatch(s,/^[a-zA-Z0-9_\-]+$/)||(s=e.attr("selectboxId"))&&!t.isMatch(s,/^[a-zA-Z0-9_\-]+$/)||(s=e.attr("noGenreId"))&&!t.isMatch(s,/^[a-zA-Z0-9_\-]+$/)||(s=e.attr("ignoreUrls"))&&!t.isMatch(s,/^https?:\/\/.+$/)||(s=e.attr(this.cnaviCollectionKey))&&!t.isMatch(s,/^[a-zA-Z0-9_\-]+$/)||(s=e.attr("partsname"))&&!t.isMatch(s,/^[a-zA-Z0-9_\-]+$/))&&!((e=e.attr("cnaviExParam"))&&!t.isMatch(e,/^[^<>]+$/))},init:function(s){var n=this,t=s.config,e=t.attr(s.configCollection);return!!n.validateConfig(s)&&(n.rowCount=t.attr("cnaviRowCount")||n.rowCount,n.searchCount=t.attr("cnaviSearchCount")||n.searchCount,n.channel=t.attr("channel"),n.parts=t.attr("parts"),n.partsname=t.attr("partsname")||n.partsname,n.lang=t.attr("lang")||n.lang,n.cnaviCollection=t.attr(n.cnaviCollectionKey)||e,n.cnaviCache=s.resultCache[n.cnaviCollection+n.searchCommand]={},n.selectboxId=t.attr("selectboxId")||n.selectboxId,n.selectboxId&&(n.genreSelectBox=w("#"+n.selectboxId)),n.noGenreId=t.attr("noGenreId")||n.noGenreId,(e=t.attr("ignoreUrls"))&&(n.ignoreUrls=e.split(",")),n.exParam=t.attr("cnaviExParam")||"",s.input.bind("keydown.cnavi",function(t){if(13==t.keyCode&&1==s.clickEnableFlag){var e=s.suggest.children("."+n.cssRow);return e.is("."+s.cssSelect+":visible")?(s.clickEnableFlag=0,s.decisionFlag=1,n.cnaviSubmit(s,e,1,t),!1):!0}}),!0)},createSuggestElems:function(t){for(var t='<div class="'+t.cssNoSelect+" "+this.cssRow+'" data-sgst-idx="cn_1"><a href="" class="'+this.cssLink+'"><hr class="'+this.cssHorizon+'" /><span class="'+t.cssKeyword+'"></span></a></div>',e="",s=0,n=this.rowCount;s<n;s++)e+=t;return e},postInit:function(s){var n=this,t=s.suggest.find("."+n.cssRow).find("."+n.cssLink),e=t.find("."+s.cssKeyword);t.bind("click",function(t){t.preventDefault();var e=w(this).parents("."+n.cssRow).first();n.cnaviSubmit(s,e,2,t)}),e.bind("mouseup",function(t){t.stopPropagation()}).bind("mouseover",function(){s.over(w(this))}).bind("mouseout",function(){w(this).parents("."+n.cssRow).first().removeClass(s.cssSelect).addClass(s.cssNoSelect)})},search:function(e){var s=this,t=e.lastInput;if(0==t.length)e.readyState+=1;else{var n=s.cnaviCollection;if(e.suggest.children("."+s.cssRow).hide(),e.suggest.removeClass(s.cnaviExistsCss),void 0===s.cnaviCache[t])try{var i=e.baseUrl+"/"+s.searchCommand+"?"+e.paramCollection+"="+n+"&"+e.paramReqid+"="+e.sggstReqid+"&"+e.paramSuggestid+"="+e.suggestId+"&"+e.paramInput+"="+encodeURIComponent(t)+"&"+e.paramEncoding+"="+e.encoding+"&"+s.paramSearchCount+"="+s.searchCount+"&"+s.paramLanguage+"="+s.lang;0!=e.exParam.length&&(i+="&"+e.exParam),e.read(i,function(t){s.show(e,t)})}catch(t){e.readyState+=1}else s.show(e,s.cnaviCache[t])}},show:function(t,e){var s="",n=(s=e&&e.qInfo&&e.qInfo.query&&e.qInfo.query.q?e.qInfo.query.q:s)||t.lastInput;if("object"!=typeof e[4])t.readyState+=1;else{var i=(o=w.extend(!0,{},e[4])).destination,s=o.sentence,a=o.imageurl,o=o.queryurl;if(t.isNotEmptyArray(i)&&t.isNotEmptyArray(s)&&t.isNotEmptyArray(a)&&t.isNotEmptyArray(o)){void 0===this.cnaviCache[n]&&(this.cnaviCache[n]=e),t.respInput=t.lastInput;var n=i.length,i=0,r=t.suggest.children("."+this.cssRow),c=[];r.removeClass(t.cssSelect).addClass(t.cssNoSelect);var u=0;t:for(;u<n&&!(i>=this.rowCount);u++){var l,g=r.eq(i),h=s[u],d=a[u],p=o[u],f="";if(t.isMatch(h,/^[^\s]+/)&&t.isMatch(p,/^https?:\/\/.+$/)&&(h.match(this.destinationRegExp),l=t.escapeHtml(RegExp.$1),-1==w.inArray(l,c)&&(c.push(l),h=(h=h.replace(this.destinationStartMark,"")).replace(this.destinationEndMark,""),!(-1<location.href.indexOf(p))))){if(this.genreSelectBox&&this.genreSelectBox.val()!=this.noGenreId)for(var m=0,v=this.ignoreUrls.length;m<v;m++)if(-1<p.indexOf(this.ignoreUrls[m]))continue t;g.find("a."+this.cssLink).attr("href",p),t.isMatch(d,/^[a-zA-Z0-9\/:\._\-]+$/)&&(f+='<img src="'+d+'" class="'+this.cssImg+'" />'),-1<(f+=t.escapeHtml(h)).indexOf(l)&&(f=f.replace(l,'<span class="'+this.cssEmphasize+'">'+l+"</span>")),g.show().find("."+t.cssKeyword).html(f),t.suggest.addClass(this.cnaviExistsCss),i++}}t.maxIndex+=i,t.readyState+=1}else t.readyState+=1,this.cnaviCache[n]=e}},getSelectedText:function(t,e){return w(e).hasClass(this.cssRow)?t.backup:null},cnaviSubmit:function(t,e,s,n){var i=e.find("."+this.cssLink).attr("href");this.isCNaviUsed=1,t.submitWay=s,t.usingChar=e.text(),t.sggstSelectNum=t.index,"function"==typeof s_partsCounter&&s_partsCounter(this.partsname),"function"==typeof ontrackingidAjax&&(1==s?ontrackingidAjax(this.channel,this.func,this.parts,"Enter"):2==s&&ontrackingidAjax(this.channel,this.func,this.parts,"Click")),this.cnaviCollection&&(t.configCollection=this.cnaviCollectionKey),t.isCNaviUsed=1,t.jump(1,n),setTimeout(function(){window.location.href=i},t.afterWaitingforEventTimeout),t.eventStop()},addSubmitLog:function(){var t="",t="&"+this.paramCNaviUse+"="+this.isCNaviUsed;return 0!=this.exParam.length&&(t+="&"+this.paramExParam+"="+encodeURIComponent(this.exParam)),t}},t=new t,searchplat.suggest.plugins.add(t))}(jQuery),function(i){var t;void 0!==i&&"undefined"!=typeof searchplat&&void 0!==searchplat.suggest&&void 0!==searchplat.suggest.plugins&&((t=function(){}).prototype={pluginName:"asuraku",linkUrl:"",collection:null,cssRow:"asurakuRow",cssLink:"asurakuLink",cssEmphasize:"asurakuEm",linkSuffix:"",isAsurakuUsed:0,asurakuExsistsCss:"sggstAr",partsname:"suggestasu",channel:null,func:"Suggest",parts:null,validateConfig:function(t){var e=t.config,s=e.attr("asurakublacklist");return this.linkSuffix=e.attr("asurakuphrase"),this.linkUrl=e.attr("asurakuurl"),this.collection=e.attr(t.configCollection),0!==this.collection.length&&(s&&0<s.length&&(this.blacklist=s.split(",")),!((e=e.attr("asurakupartsname"))&&!t.isMatch(e,/^[a-zA-Z0-9_\-]+$/)))},init:function(e){var s=this,t=e.config;return!!s.validateConfig(e)&&(s.partsname=t.attr("asurakupartsname")||s.partsname,s.parts=t.attr("parts"),s.channel=t.attr("channel"),e.input.bind("keydown.asuraku",function(t){return 13!=t.keyCode||1!=e.clickEnableFlag||(!e.suggest.find("."+s.cssRow).is("."+e.cssSelect+":visible")||(e.clickEnableFlag=0,e.decisionFlag=1,s.asurakuSubmit(e,1,t),!1))}),!0)},createSuggestElems:function(t){return'<div class="'+t.cssNoSelect+" "+this.cssRow+'" data-sgst-idx="as_1"><a href="" class="'+this.cssLink+'"><span class="'+t.cssKeyword+'"><span class="'+this.cssEmphasize+'"></span>'+this.linkSuffix+"</span></a></div>"},postInit:function(e){var s=this,t=e.suggest.find("."+s.cssRow),n=t.find("."+e.cssKeyword);t.bind("click",function(t){t.preventDefault(),e.sggstSelectNum=e.index,s.asurakuSubmit(e,2,t)}),n.bind("mouseup",function(t){t.stopPropagation()}).bind("mouseover",function(){e.over(i(this))}).bind("mouseout",function(){i(this).parents("."+s.cssRow).first().removeClass(e.cssSelect).addClass(e.cssNoSelect)})},showWithSuggestKeyword:function(t,e){var s=i.extend(!0,[],e),n=[],e=t.suggest.children("."+this.cssRow).hide(),n=s[1];t.suggest.removeClass(this.asurakuExsistsCss),0!==e.size()&&n&&0!==n.length&&(s=n[0])&&!this._contains(s)&&this.linkSuffix&&this.linkUrl&&(n=this.linkUrl.replace(/###keyphrase###/,encodeURIComponent(s)),e.find("."+this.cssEmphasize).text(s),e.find("."+this.cssLink).attr("href",n),t.maxIndex+=1,e.show(),t.suggest.addClass(this.asurakuExsistsCss),this.asurakuText=s)},_contains:function(t){if(this.blacklist){for(var e=0;e<this.blacklist.length;e++)if(0===t.indexOf(this.blacklist[e]))return!0;return!1}},getSelectedText:function(t,e){if(i(e).hasClass(this.cssRow))return t.backup},asurakuSubmit:function(t,e,s){var n=t.suggest.find("."+this.cssRow).find("."+this.cssLink).attr("href");this.isAsurakuUsed=1,t.submitWay=e,t.usingChar=t.suggest.find("."+this.cssRow).text();try{"function"==typeof s_partsCounter&&s_partsCounter(this.partsname),"function"==typeof ontrackingidAjax&&(1==e?ontrackingidAjax(this.channel,this.func,this.parts,"Enter"):2==e&&ontrackingidAjax(this.channel,this.func,this.parts,"Click"))}catch(t){}t.jump(1,s),setTimeout(function(){window.location.href=n},t.afterWaitingforEventTimeout),t.eventStop()},addSubmitLog:function(){return"&au="+this.isAsurakuUsed}},t=new t,searchplat.suggest.plugins.add(t))}(jQuery);

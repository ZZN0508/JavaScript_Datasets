(this.$WP=this.$WP||[]).push(["wU942v",(e,t)=>{"use strict";var r,a,l,_,d,u,i,g,n=["Attraction_Review","Attractions","AttractionsLander","AttractionsNear","FAQ","FAQ_Answers","Guide","MobileAttraction_Review","MobileAttractions","MobileAttractionsNear","MobileFAQ","MobileFAQ_Answers","MobileNearbyRestaurants","MobileRestaurants","MobileRestaurantSearch","MobileRestaurantsNear","MobileShowUserReviews","MobileSiteIndex","MobileTravel","NearbyRestaurants","Profile","Restaurant_Review","Restaurants","RestaurantsLander","RestaurantsNear","ShowUserReviews","SiteIndex","Travel","Travel_Guide","TravelersChoice","Trips"],s=e=>!!e&&n.includes(e),o=["Restaurant_Review","Attraction_Review","Hotel_Review"],c=e=>_("ml_hard_gate_master")||e&&!1||_("ml_hard_gate_dt"),w=()=>{var e,t=null==(e=window)||null==(t=e.navigator)?void 0:t.connection;return t?[t.effectiveType||"unknown",t.type||"unknown"]:["unknown","unknown"]},v=e=>{if(_("hard_gate_excl_disable_domain_direct")||c(e))return!1;e=l.get("firstEntryServlet");return"Home"===e||"Tourism"===e||"MobileTourism"===e},m=e=>{var t=l.get("sponsoredListingIdClicked");return _("ungate_sponsored_listing_clicks")&&t&&t===e},h=_=>{var e=i();return r(()=>{(e=>{var{action:t,totalViews:r,name:a,servlet:i}=_,n=d.includes(i),[s,o]=w(),l=u(),t=[t];n&&t.push("hotels"),r&&t.push(r),e({module:n?a+"_hotels":a,action:t.join("_"),context:`${i||"unknown"}|${s}|${o}|${l.toString()}`})})(e),_.fn&&_.fn()},[_,e])},p=()=>l.get("requiredLoginPagesViewed")||[],R=(t,r)=>p().some(e=>e.servlet===t&&e.pageId===r),b=(e,t)=>{var r;R(e,t)||((r=p()).push({servlet:e,pageId:t}),l.set("requiredLoginPagesViewed",r,18e5))},A=(e,t)=>{switch(e){case"ShowTopic":case"MobileShowTopic":return t.topicId||1;case"Profile":return t.username||1;case"ShowUserReviews":case"MobileShowUserReviews":return t.review||1;case"FAQ_Answers":case"MobileFAQ_Answers":return t.topic||1;case"Trips":return t.tripId||1;default:return t.detailId||t.geoId||1}},T=(e,t)=>{t=A(e,t),t=R(e,t);return 1<=p().length&&!t},M=t=>{if(!_("review_detail_hard_gate_master_dt"))return p().length;var e=p();return(_("review_detail_hard_gate_dt_other_servlets")?e.filter(e=>!o.includes(e.servlet)):e.filter(e=>e.servlet===t)).length},E=(e,t)=>{a(()=>{!e&&t&&l.set("requiredLoginActivated",(new Date).getTime())},[e,t])},S=()=>{var e=l.get("requiredLoginActivated");return e?new Date(e):null},f=(e,t,r,a,i,n,s="memx_mobile_hardgate_pageview")=>{var o;return!g||(((e,t,r,a,i,n)=>{t=[e.toString(),t];t.push(r||0===r?r:"unknown"),t.push((!!a).toString()),n({module:i,action:"gating_ml_model_decision",context:t.join("|")})})(e,(o=parseInt(l.get("mlHardGatePageViewCount"),10),o=isNaN(o)?1:o+1,l.set("mlHardGatePageViewCount",o,18e5),o),t,a,s,n),!(!_("ml_hard_gate_targeting_logic")&&!_("ml_hard_gate_no_reqlo"))||e)},P=(e,t,r)=>r&&("Home"===e||"Tourism"===e)&&!1;return[()=>{g=_("ml_hard_gate_model_v1_reevaluate_on_page_view")||_("ml_hard_gate_dt_v1_master")||_("ml_hard_gate_dt_v2_master")||_("ml_hard_gate_dt_v3_master"),e({ML_PAGE_VIEWED_KEY:"mlHardGatePageViewCount",MODAL_NAME:"memx_mobile_hardgate_pageview",PAGE_COUNT_TRIGGER:2,PREVIOUSLY_VIEWED_PAGES_KEY:"requiredLoginPagesViewed",addPageToViewed:b,cameDomainDirect:v,findPageIdentifier:A,gatingEligibility:f,getConnectionType:w,getCurrentPageViewCount:M,getHardGateViewTimestamp:S,getPagesViewed:p,isFromSponsoredClick:m,isMLGatingEnabled:c,isRequiredLoginMWServlet:s,pageCountTriggerReached:T,pageHasBeenViewed:R,shouldDisableRegDialogForRequiredLoginLithium:P,useHardGateViewRecord:E,useTrackAndDelegateCallback:h})},[e=>(r=e.useCallback,a=e.useEffect),e=>l=e.default,e=>_=e.featureIsEnabled,e=>(d=e.HOTEL_SERVLETS,u=e.isEligibleForOneTap),e=>i=e.useGARecorder]]},["cDcdfi","jaCyxS","-i3PJS","MWFqPp","fsml46"]]);

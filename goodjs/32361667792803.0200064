!function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(e,t){var o,n=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)),n}function a(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?e(Object(a),!0).forEach(function(t){var e,o;e=n,t=a[o=t],o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}function s(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t){if(t){if("string"==typeof t)return o(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var i,r=[],c=["www.washingtonpost.com","pb-impact.washingtonpost.com","fusion-sandbox.washingtonpost.com","www.wapodev.com","www.wapostage.com","pb-dev.digitalink.com","pb-staging.digitalink.com","subs-stage.washingtonpost.com","localhost","localhost.digitalink.com","localhost.washingtonpost.com","subscribe.digitalink.com",".*.preview.now.washingtonpost.com"];function p(t){for(var e=!1,o=0;o<c.length;o+=1){var n=new RegExp(c[o]);if(t.match(n)){e=!0;break}}return e}function g(){if(void 0!==i)return i;try{var t=(new Date).toString();window.localStorage.setItem(t,t);var e=window.localStorage.getItem(t)===t;return window.localStorage.removeItem(t),i=e}catch(t){return i=!1}}function m(t){if(!t)return null;if(!document.cookie)return null;for(var e,o,n={},a=null,i=document.cookie.split(";"),s=0;s<i.length;s++)0<i[s].indexOf("=")&&(o=(e=i[s].split("="))[0],e=e[1],(o=o&&o.trim())===t&&(a=(e=e||"").trim()),n[o]=e.trim());return a}function f(t,e,o,n,a,i){var s="",r="",c=".washingtonpost.com",a=!1===a?"":";secure";o<0?s=";expires=".concat(new Date(1e3).toUTCString):0<o&&(s=";expires=".concat(new Date(o).toUTCString())),null!=(c="qa"===i?".digitalink.com":c)&&(r=";domain=".concat(c)),e=e||"";e=n?e:encodeURIComponent(e),a="".concat(t,"=").concat(e,";path=/").concat(s).concat(r).concat(a);document.cookie=a}function l(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return;return 1}function h(t,e,o){g()&&!l(e)&&p(window.location.hostname)&&(e.e=Date.now()+(o||0),localStorage.setItem(t,JSON.stringify(e)))}function u(e,a,i,s){return a=a||"GET",i=i&&JSON.stringify(i)||null,new Promise(function(o,n){var t=new XMLHttpRequest;t.open(a,e,!0),t.timeout=3e3,t.withCredentials=!0,s&&s.contentType&&t.setRequestHeader("Content-Type",s.contentType),t.onload=function(t){if(4===(t=t.target||{}).readyState&&200===t.status){var e={};try{(e=JSON.parse(t.response)).statusCode=200,o(e)}catch(t){n("")}}else 400<=t.status&&n({message:t.status})},t.onerror=function(t){n("")},t.ontimeout=function(){n("")},t.send(i)})}var w="wapo_identity",d="wapo_secure_login_id",y="wp_usp",v="privacySetting",S={iabSpec:1,explicitNotice:"Y",optOut:"N",lspa:"Y"},b={prod:{env:"prod",feLoggingApi:"https://www.washingtonpost.com/subscribe/logging/",pwapiProxyApi:"https://www.washingtonpost.com/pwapi-proxy/pwproxy",pwapiProxyV2Api:"https://www.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.washingtonpost.com",authStatusUrl:"https://www.washingtonpost.com/subscribe/user/auth-status",sipUrl:"https://www.washingtonpost.com/subscribe/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.washingtonpost.com/swg/check-entitlement"},fStage:{env:"stage",feLoggingApi:"https://subs-stage.washingtonpost.com/logging/",pwapiProxyApi:"https://pwapiproxy-stage.washingtonpost.com/pwproxy",pwapiProxyV2Api:"https://subs-stage.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.wapostage.com",authStatusUrl:"https://subs-stage.washingtonpost.com/user/auth-status",sipUrl:"https://subs-stage.washingtonpost.com/user/save-identity-preferences",checkEntitlementUrl:"https://subs-stage.washingtonpost.com/swg/check-entitlement"},stage:{env:"stage",feLoggingApi:"https://subs-stage.washingtonpost.com/logging/",pwapiProxyApi:"https://pwapiproxy-stage.washingtonpost.com/pwproxy",pwapiProxyV2Api:"https://subs-stage.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.washingtonpost.com",authStatusUrl:"https://subs-stage.washingtonpost.com/user/auth-status",sipUrl:"https://subs-stage.washingtonpost.com/user/save-identity-preferences",checkEntitlementUrl:"https://subs-stage.washingtonpost.com/swg/check-entitlement"},fQa:{env:"qa",feLoggingApi:"https://subscribe.digitalink.com/logging/",pwapiProxyApi:"https://testpwapi-proxy.digitalink.com/pwproxy",pwapiProxyV2Api:"https://tetro.digitalink.com/evaluate",cookieDomain:".digitalink.com",LSDomain:"www.wapodev.com",authStatusUrl:"https://subscribe.digitalink.com/user/auth-status",sipUrl:"https://subscribe.digitalink.com/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.digitalink.com/swg/check-entitlement"},qa:{env:"qa",feLoggingApi:"https://subscribe.digitalink.com/logging/",pwapiProxyApi:"https://testpwapi-proxy.digitalink.com/pwproxy",pwapiProxyV2Api:"https://tetro.digitalink.com/evaluate",cookieDomain:".digitalink.com",LSDomain:"pb-dev.digitalink.com",authStatusUrl:"https://subscribe.digitalink.com/user/auth-status",sipUrl:"https://subscribe.digitalink.com/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.digitalink.com/swg/check-entitlement"}};function O(){var t="prod";return-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf("/pb/")||-1!==window.location.hostname.indexOf("pb-impact")||-1!==window.location.hostname.indexOf("impact.wash")||-1!==window.location.hostname.indexOf("subs-stage")||-1!==window.location.hostname.indexOf("vforum-stage.")?t="stage":-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf("/pf/")||-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf(":3000")||-1!==window.location.hostname.indexOf("sandbox.wash")||-1!==window.location.hostname.indexOf("subs-stage")||-1!==window.location.hostname.indexOf("preview.now.washingtonpost.com")?t="fStage":-1!==window.location.hostname.indexOf("localhost.digitalink")&&-1!==window.location.href.indexOf("/pf/")||-1!==window.location.hostname.indexOf("localhost.digitalink")&&-1!==window.location.href.indexOf(":3000")||-1!==window.location.hostname.indexOf("www.digitalink.com")||-1!==window.location.hostname.indexOf("dev.wash")&&-1!==window.location.href.indexOf("/pf/")?t="fQa":-1===window.location.hostname.indexOf("digitalink.com")&&-1===window.location.hostname.indexOf("dev.wash")||(t="qa"),t}function _(){return b[O()]}var x="rnmd3i906",k={},C=window.performance&&window.performance.timing||{},T=(new Date).getTime(),I={};function P(t){Object.assign(I,t),window.pwapiPaywallResponse=I;for(var e=0;e<window.extConsumers.length;e++)window.extConsumers[e](I);for(var o=0;o<window.consumers.length;o++)window.consumers[o](I)}function t(t,e){for(var o=e.split("."),n=0,a=o.length;null!=t&&n<a;)t=t[o[n++]];return n&&n===a?t:void 0}var D=(new Date).getTime();function A(t,e,o){var n,a=_();switch(o=o||{},e=e||"",t){case"info":n="logInfo";break;case"success":n="logSuccess";break;case"error":n="logHandledError";break;case"expectedError":n="logExpectedError";break;default:n="logInfo"}a=a.feLoggingApi;try{var i=new XMLHttpRequest;i.open("POST",a+n,!0),i.setRequestHeader("Content-Type","application/json"),o.processId=D,o.path=window.location.pathname;var s={appName:"site-paywall",locationId:"pwapi-proxy",message:e,state:o};i.withCredentials=!0,i.send(JSON.stringify(s)),i.onload=function(){},i.onerror=function(){}}catch(t){console.error("LOGGING ERROR")}}function E(t){var n;(t=t||{}).referrer=document.referrer,Object.assign(t,(n={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,o){0<=r.indexOf(e)&&(n[e]=o)}),n));var e,o,a="";for(e in t)!t.hasOwnProperty(e)||"string"==typeof(o=t[e])&&""!==o&&(a+="".concat(e,"=").concat(encodeURIComponent(o.trim()),"&"));return a}function j(t,e){var o,n,a,i;e&&(o=e.split(","),i=[],n={fusion:{metadata:"wpMetaData",content_type:"content_type",ct_tags:"ct_tags",sct_tags:"sct_tags"},classic:{metadata:"wp_meta_data",content_type:"contentType",ct_tags:"tags_for_paywall",sct_tags:"tags_for_paywall_subs"}}[k.name],t=(a=window[n.metadata]||{})[e=n[t]]&&a[e].split(",")||[],i=[].concat(s(t),s(o)),a[e]=i.join(","),window[n.metadata]=a)}var U=[{name:"wapo_login_id",expireOffsetMillis:36e5,cookiesToLocalStorage:!1,localStorageToCookies:!0,useDelimiter:!1},{name:"wapo_secure_login_id",expireOffsetMillis:36e5,cookiesToLocalStorage:!1,localStorageToCookies:!0,useDelimiter:!1},{name:"wp_ak_v_m",expireOffsetMillis:5184e6,cookiesToLocalStorage:!0,localStorageToCookies:!0,useDelimiter:!0,delimiterValue:"|",notEncoded:!0}];function N(t,e){var o,n,a;(o=document.createElement("script")).type="text/javascript",o.setAttribute("subscriptions-control","manual"),o.src="https://news.google.com/swg/js/v1/swg.js",o.onerror=function(){},document.head.appendChild(o),n=t,a=e,(window.SUBSCRIPTIONS=window.SUBSCRIPTIONS||[]).push(function(t){var e=!1,o={process:"swg-entitlement"};if(-1===window.location.href.indexOf("localhost.")&&-1===window.location.href.indexOf("local."))try{t.init("washingtonpost.com:basic"),t.getEntitlements().then(function(t){return t&&t.entitlements&&0<t.entitlements.length?(P({action:0,data:{action:0},status:"final"}),e=!0,o.numEntitlements=t.entitlements.length,o.pwresp_action=n,o.pwresp_action_final=0,o.pwresp_mtrct=a,o.raw_entitlements=JSON.stringify(t.entitlements),t.entitlements.forEach(function(t,e){0<=t.source.indexOf("washingtonpost.com")?(o.postSWGPurchase=!0,t.subscriptionToken?o["entitlement_".concat(e)]="entitlementType=post|subscriptionToken=".concat(t.subscriptionToken):o["entitlement_".concat(e)]="entitlementType=post|subscriptionToken=".concat(t.signedEntitlements)):t.subscriptionToken&&(o.gglSWGPurchase=!0,t=JSON.parse(t.subscriptionToken),o["entitlement_".concat(e)]="entitlementType=google|orderId=".concat(t.orderId,"|packageName=").concat(t.packageName,"|productId=").concat(t.productId,"|purchaseTime").concat(t.purchaseTime))})):P({status:"final"}),t}).then(function(t){var i,s;e&&(i=t.entitlements,s=_()||{},new Promise(function(e,t){var o={entitlements:i},n=document.cookie.match(/wapo_login_id=([^\;]*)/),a=document.cookie.match(/wapo_secure_login_id=([^\;]*)/);if(null!=n&&null!=n[1]&&null!=a&&null!=a[1])return e({status:"NOT_CHECKED",systemMessages:"User logged in"});u(s.checkEntitlementUrl,"POST",o,{contentType:"application/json"}).then(function(t){e(t)}).catch(function(t){t={status:"ERROR",systemMessages:"Check Entitlement failed with ".concat(t.message)};e(t)})}).then(function(t){var e=[];e.push("isEntitled=".concat(t.status)),t.createAccount&&e.push("isLinked=".concat(!t.createAccount)),t.systemMessages&&e.push("messages=".concat(t.systemMessages)),o.entitlement_status=e.join("|"),A("info","swg entitlements",o)}))}).catch(function(){P({status:"final"})})}catch(t){P({status:"final"})}else P({status:"final"})}),setTimeout(function(){"final"!==I.status&&P({status:"final"})},5e3)}window.consumers=window.consumers||[],window.extConsumers=window.extConsumers||[],I.status="init";var M={};function L(t){var e=t;e.listeningTo="v2",M.process="paywall-display",M.pwresp_action=e.data.action,M.pwresp_actions=e.data.actionCodes.join(","),M.pwresp_meterCount=e.data.meterCount,e.status="processing",window.pwapiPaywallStatus=200;var o,n,a,i=e.data.meterCount,s={3:"paywall",6:"softwall",9:"regwall"}[e.data.action],r=e.data.wallMeterType,c="";switch(s){case"paywall":c="".concat(r||"meter","_").concat(s),2===e.data.articleWeight&&(c="double_meter_".concat(s)),e.data.meterCount=c;break;case"softwall":case"regwall":r&&(e.data.meterCount="".concat(r,"_").concat(s))}return o=e.data,a=o.actionCodes,n=a,t=!1,o=m("wp_dbg_ent"),(t=0<=n.toString().indexOf("23")||null!=o||t)&&j("sct_tags","subs_enterprise"),t=!1,(t=0<=a.toString().indexOf("903")||t)&&j("ct_tags","subs_bbe"),function(){if(g()){var t,e=localStorage.getItem("wp_sponsored");return-1<window.location.search.indexOf("das=pw_spsrd_hit")||-1<window.location.search.indexOf("pw_unlock_mgclink")?(localStorage.setItem("wp_sponsored",window.location.pathname),"function"==typeof window.history.replaceState&&(t=(t=window.location.href).replace(/das=[^\&]*/,""),window.history.replaceState({},null,t)),1):e&&window.location.pathname===e}}()?(e.status="final",e.action=0,e.data.action=0):3===e.data.action||8===e.data.action||9===e.data.action?N(e.data.action,i):e.status="final",P(e),e}function R(t,e){t=t||{},e=e||"info",P({status:"error"});var o={process:"pwapiproxy-response",xhrstatus:t.statusCode};t.timeout&&(o.timeout=t.timeout),A(e,t.msg,o)}window.registerPwapiConsumer=function(t){window.consumers.push(t),t(I)},window.registerExtUpdates=function(t){window.extConsumers.push(t),t(I)},window.extListener=function(t){P(t)};var J={};J.pwapi_contentsection=t(window,"wpMetaData.content_section"),J.pwapi_ct_tags=t(window,"wpMetaData.ct_tags"),J.pwapi_sct_tags=t(window,"wpMetaData.sct_tags"),J.commercial_node=t(window,"wpMetaData.commercial_node"),J.content_type=t(window,"wpMetaData.content_type"),J.is_amp="0",J.env=window.renderingEnv||"";var q=J,V=_()||{},H={prod:{anon:{default:864e5,optedOut:63072e6},signed:{default:864e5,optedOut:864e5}},fStage:{anon:{default:3e5,optedOut:63072e6},signed:{default:3e5,optedOut:3e5}},fqa:{anon:{default:3e5,optedOut:18e5},signed:{default:3e5,optedOut:3e5}},stage:{anon:{default:864e5,optedOut:63072e6},signed:{default:864e5,optedOut:864e5}},qa:{anon:{default:3e5,optedOut:18e5},signed:{default:3e5,optedOut:3e5}}}[V.env];function Y(t){for(var e=0;e<window.authConsumers.length;e++)window.authConsumers[e](t)}function G(t){var e=!!m(d),t=!(!t||!t.ccpa||"Y"!==t.ccpa.optOut),t=H&&H[e?"signed":"anon"][t?"optedOut":"default"]||0;return Date.now()+t}function X(t){var e;g()&&p(window.location.hostname)&&(e=(e=localStorage.getItem(w))&&JSON.parse(e)||{},t=G((e=Object.assign(e,t)).privacySetting||{}),e.e=t,localStorage.setItem(w,JSON.stringify(e)))}function W(){var t,e,o=null;return g()&&localStorage.getItem(w)&&(e=!1,g()&&localStorage.getItem(w)&&((t=JSON.parse(localStorage.getItem(w))).e&&Date.now()>t.e&&(e=!0)),e?g()&&localStorage.removeItem(w):o=JSON.parse(localStorage.getItem(w))),o}function B(t){if(g()&&localStorage.getItem(w))return JSON.parse(localStorage.getItem(w))[t]}function Q(o){var t,e,n;return o=o||(t=m(d),e=m(y),!1===B("signedIn")&&t?"sip":(window.wp_meta_data&&window.wp_meta_data.tags_for_paywall&&-1!==window.wp_meta_data.tags_for_paywall.indexOf("ccpa")||window.wpMetaData&&window.wpMetaData.ct_tags&&-1!==window.wpMetaData.ct_tags.indexOf("ccpa")||!!(l(W())||t&&!e))&&"auth-status"),new Promise(function(t,e){var i;!1!==o?(i=o,new Promise(function(e,o){var n,t,a;"auth-status"===i?u("".concat(V.authStatusUrl,"?_v=").concat((new Date).getTime())).then(function(t){e(t)}).catch(function(t){o({status:"FAIL",errorState:"Auth Status failed"})}):"sip"===i?(t=W(),a={caller:"SubsStorageManager",requestId:(n=window.crypto||window.msCrypto,([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^n.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})),authStatus:!0},a=Object.assign(a,t),u(V.sipUrl,"POST",a,{contentType:"application/json"}).then(function(t){e(t)}).catch(function(t){o("Auth Status failed")})):o("Invalid action: ".concat(i))}).then(function(t){t&&"SUCCESS"===t.status&&X(n=t.userState)}).finally(function(){Y(n=W()),t(n)})):(Y(n=W()),t(n))})}window.authConsumers=window.authConsumers||[],window.registerAuthConsumer=function(t){window.authConsumers.push(t),t(W())},window.updateIdentity=function(t){if(g()){var e=p(window.location.hostname),o=localStorage.getItem(w);if(e&&null!=o)try{var o=o&&JSON.parse(o)||{},n=Object.assign(o,t);localStorage.setItem(w,JSON.stringify(n))}catch(t){}}},window.storePrivacySetting=function(t){t="object"===n(t)?t:{};var e,o=B(v)||{};o.ccpa=a(a(a({},S),o.ccpa),t.ccpa),l(o)||(e=m(d),t="".concat(o.ccpa.iabSpec,o.ccpa.explicitNotice,o.ccpa.optOut,o.ccpa.lspa),X({privacySetting:o}),e?Q("sip"):(e=O(),o=G(o),f(y,t,o,!0,!0,e)))};var F,K,$,z,Z,tt,et,ot,nt,at,it={getUspString:function(t){return"".concat((t=t||{}).iabSpec,t.explicitNotice,t.optOut,t.lspa)},getUSPData:function(t,e){var o,n,a="".concat(t,"---");g()&&localStorage.getItem(w)&&(o=B("geoState"),navigator.globalPrivacyControl&&"CA"===o?a="1YYY":(n=B(v))&&n.ccpa&&(a=it.getUspString(n.ccpa))),a&&((n={}).version=t,n.uspString=a,e(n,!0))},v1:{getUSPData:function(t){it.getUSPData(1,t)}}};window.addEventListener("message",function(o){var t,e;return o.data.hasOwnProperty("__uspapiCall")&&(o.stopImmediatePropagation&&o.stopImmediatePropagation(),t=o.data.__uspapiCall.command,e=o.data.__uspapiCall.version,t&&e&&window.__uspapi(t,e,function(t,e){e?o.source.postMessage({__uspapiReturn:{returnValue:t,success:e,callId:o.data.__uspapiCall.callId}},o.origin):o.source.postMessage({__uspapiReturn:{returnValue:{version:1,uspString:"1NYY"},success:!1,callId:o.data.__uspapiCall.callId}},o.origin)})),null},!1),k.name="fusion",window.pwapiVersion="Version 1.9.0 on Wed, 02 Jun 2021 22:56:50 GMT",window.pwapiStart=T-(C.navigationStart||0),tt=q,(at=function(){if(!g())return null;var t=null,e=localStorage.getItem("kxwashingtonpost_segs");return t=e&&0<=e.indexOf(x)?x:t}())&&(et=tt,ot="pwapi_ct_tags",at&&(nt=at.split(","),at=et[ot]&&et[ot].split(",")||[],nt=[].concat(s(at),s(nt)),et[ot]=nt.join(","))),Z=function(t,e){var o=1<arguments.length&&void 0!==e&&e,e=(document.cookie.match(/wp_pwapi=([^\;]*);/)||{})[1]||O();if(o){var n=b[e].pwapiProxyV2Api||b.prod.pwapiProxyV2Api;if([/^www-washingtonpost-com/].some(function(t){return t.test(window.location.hostname)})){o=document.createElement("a");return o.href=n,o.pathname}return n}n=b[e].pwapiProxyApi||b.prod.pwapiProxyApi,e=window.location.pathname,t="".concat(E(t),"&as_json=1");return"".concat(n+e,"?").concat(t)}(F=q,!0),Promise.all([(K=Z,$=F,z="v2",new Promise(function(o){var n,e=E($),t=window.location.href&&window.location.href.split("?")[0]||"",e=JSON.stringify({articles:[{article:"".concat(t,"?").concat(e)}]});try{K&&((n=new XMLHttpRequest).open("POST",K),n.timeout=5e3,n.withCredentials=!0,n.onload=function(){if(window["pwapi".concat(z,"Response")]=(new Date).getTime()-T,window["pwapiAPI".concat(z,"End")]=(new Date).getTime()-(C.navigationStart||0),n.readyState===XMLHttpRequest.DONE&&200===n.status){window["pwapiAPI".concat(z,"Ready")]=(new Date).getTime()-(C.navigationStart||0);var t={};try{(t=JSON.parse(n.response)).statusCode=n.status,L(t),o(t)}catch(t){var e={status:"error",statusCode:t.statusCode=-1,msg:"pwapiproxy response invalid".concat(t.statusText?" - ".concat(t.statusText):"")};R(e,"error"),o(e)}}else n.readyState===XMLHttpRequest.DONE&&202===n.status?o({status:"error",msg:"black hole"}):(R(e={status:"error",statusCode:n.status,msg:"pwapiproxy response invalid"},"error"),o(e))},n.onerror=function(t){window["pwapiAPI".concat(z,"End")]=(new Date).getTime()-(C.navigationStart||0);t={status:"error",statusCode:t&&t.statusCode?t.statusCode:500,msg:"pwapiproxy error"};R(t,"error"),o(t)},n.ontimeout=function(){var t={status:"error",statusCode:504,timeout:((new Date).getTime()-T)/1e3,msg:"PWAPIPROXY TIMEOUT"};R(t,"expectedError"),o(t)},n.setRequestHeader("Content-Type","application/json"),window["pwapiAPI".concat(z,"Start")]=(new Date).getTime()-(C.navigationStart||0),n.send(e))}catch(t){e={status:"error",statusCode:500};e.msg="pwapiproxy error".concat(t.message?" - ".concat(t.message):""),R(e,"error"),o(e)}}))]).catch(function(){}),function(t){var e={},o={};if(g()){for(var n=0;n<U.length;n++){var a=U[n];try{var i=a.name,s=m(i),r=localStorage.getItem(i),c={};if(r)try{(c=JSON.parse(r)).e<(new Date).getTime()&&(c={},localStorage.removeItem(i))}catch(t){c={},localStorage.removeItem(i)}var p,l,u,w=null!=s,d=null!=c.v;d&&!w&&a.localStorageToCookies&&(f(i,c.v,c.e,a.notEncoded,!0,t),o[i]=c.v),!d&&w&&a.cookiesToLocalStorage&&h(i,{v:s},a.expireOffsetMillis),w&&d&&a.useDelimiter&&(p=a.delimiterValue||"|",l=s.split(p),u=c.v.split(p),a.cookiesToLocalStorage&&l&&u&&l[1]&&l[1]!==u[1]?h(i,{v:s},a.expireOffsetMillis):a.localStorageToCookies&&l&&u&&l[0]!==u[0]&&(!l[1]||l[1]===u[1])&&f(i,c.v,c.e||Date.now()+a.expireOffsetMillis,a.notEncoded,!0,t))}catch(t){console.error("Unable to synchCookiesAndLocalStorage for synchCookie item: ".concat(JSON.stringify(a)),t)}}try{(0<Object.keys(o).length||0<Object.keys(e).length)&&A("info","User storage Synced",{process:"storage-sync","cookie-sync":JSON.stringify(e),"ls-sync":JSON.stringify(o)})}catch(t){}}}(O());try{window.__uspapi=function(t,e,o){return it["v".concat(e)]&&"function"==typeof it["v".concat(e)][t]?o?void it["v".concat(e)][t].apply(null,[o]):it["v".concat(e)][t]:!!o&&void o(null,!1)}}catch(n){}try{setTimeout(function(){Q()},0)}catch(n){}}();

!function(o){function l(e){this.label=e,this.elements={}}l.prototype.addItem=function(e,n,t,a){this.elements[e]={tokens:a,id:e,name:n,description:t}},l.prototype.toTypeaheadArray=function(){var t=[];return o.each(this.elements,function(e,n){t.push(n)}),t.sort(function(e,n){var e=e.name,n=n.name,t=-1!=e.indexOf("::"),a=-1!=n.indexOf("::");if(t&&!a)return 1;if(a&&!t)return-1;if(e.length>n.length){if(0==e.indexOf(n))return 1}else if(0==n.indexOf(e))return-1;return n<e?1:e<n?-1:0}),t},o.fn.search=function(t){var r=this;t.language=t.language||"en",t.limit=t.limit||30;function s(){try{return"localStorage"in window&&null!==window.localStorage&&"JSON"in window&&null!==window.JSON}catch(e){return}}function e(e,n,t){var a="search-"+e;if(s()&&(i=window.localStorage.getItem(a))){var r=new Date,i=JSON.parse(i);if(r.setDate(r.getDate()-14),i.time>r.getTime())return n(o.map(i.data,function(e,n){var t=new l(e.label);return t.elements=e.elements,t})),0}o.ajax({dataType:"json",error:t,success:function(e){var r,e=(e=e,r={function:new l("Functions"),variable:new l("Variables"),class:new l("Classes"),exception:new l("Exceptions"),extension:new l("Extensions"),general:new l("Other Matches")},o.each(e,function(e,n){if(n[0]){var t=[n[0]],a=null;switch(-1!=n[0].indexOf("_")&&t.push(n[0].replace("_","")),-1!=n[0].indexOf("::")&&(t.push(n[0].split("::")[1]),t.push("::"+n[0].split("::")[1])),n[2]){case"phpdoc:varentry":a="variable";break;case"refentry":a="function";break;case"phpdoc:exceptionref":a="exception";break;case"phpdoc:classref":a="class";break;case"set":case"book":case"reference":a="extension";break;default:a="general"}a&&r[a].addItem(e,n[0],n[1],t)}}),r);if(s())try{window.localStorage.setItem(a,JSON.stringify({data:e,time:(new Date).getTime()}))}catch(e){}n(e)},url:"/js/search-index.php?lang="+e})}function n(e){var e=o.map(e,function(e,n){e instanceof l&&e.toTypeaheadArray();return{name:n,local:e.toTypeaheadArray(),header:'<h3 class="result-heading"><span class="collapsible"></span>'+e.label+"</h3>",limit:t.limit,valueKey:"name",engine:Hogan,template:"<h4>{{ name }}</h4><span title='{{ description }}' class='description'>{{ description }}</span>"}}),a={},e=o(r).typeahead(e);o(".tt-dropdown-menu").delegate(".result-heading .collapsible","click",function(){var e=o(this),n=e.parent().parent().find(".tt-suggestions");n.stop(),e.hasClass("closed")?(n.slideDown(),e.removeClass("closed")):(n.slideUp(),e.addClass("closed"))}),e.on("typeahead:selected",function(e,n){window.location="/manual/"+t.language+"/"+n.id}),e.on("keyup",function(){Hogan.compile("<a class='more' href='{{ url }}'>&raquo; {{ num }} more result{{ plural }}</a>");var t=Hogan.compile("<a class='search' href='{{ url }}'>&raquo; Search php.net for {{ pattern }}</a>");return function(){o.each(a,function(e,n){var t=o(".tt-dataset-"+e,o(r).parent()),a=t.find(".result-heading"),e=t.find(".result-count");0==e.length?(t=o("<span class='result-count'>").text(n),a.append(t)):e.text(n)});var e,n=o(r).val();o(".tt-dropdown-menu .search",o(r).parent()).remove(),2<n.length&&((e=o(".tt-dropdown-menu",o(r).parent())).append(t.render({pattern:n,url:"/search.php?pattern="+escape(n)})),e.show())}}()),o.each(o(r).data().ttView.datasets,function(e,n){var t=n._getLocalSuggestions;n._getLocalSuggestions=function(){var e=t.apply(n,arguments);return a[n.name]=e.length,e}}),o("<input type='submit' style='visibility: hidden; position: fixed'>").insertAfter(r),o(".tt-hint",o(r).parent()).addClass("search-query")}return e(t.language,n,function(){e("en",n)}),this}}(jQuery);

(this.$WP=this.$WP||[]).push(["thFMrK",(t,s)=>{"use strict";var r,o,e,a,i;return[()=>{i=e.component.onUsage(()=>s("thFMrK/RQFZYD"),"default"),t("GeoPillSponsor",a=class extends r.Component{constructor(t){super(t),this.updateSponsorData=s=>{this.state.listeners.forEach(t=>t(s)),this.setState({listeners:[],sponsorData:s})},this.onMessage=t=>{var s,e,a,r,o;this.state.sponsorData||({sponsorName:s,sponsorParentGeoName:e,pinGeoId:a,clickTracker:r,thirdPartyClickTrackerURL:o,impressionTrackerURL:t}=t,this.updateSponsorData({name:s,location_id:a,ancestors:(e||"").split(",").map(t=>t.trim()),dfpTrackingUrl:r,thirdPartyClickTrackerURL:o}),this.setState({impressionTrackerURL:t}))},this.fetchAds=()=>{this.state.dfpRequested||(this.setState({dfpRequested:!0}),this.setState({loadAd:!0}))},this.sponsorDataProvider=t=>{this.state.sponsorData?"function"==typeof t&&t(this.state.sponsorData):(this.fetchAds(),"function"==typeof t&&this.state.listeners.push(t))},this.getSponsorData=()=>this.state.sponsorData,this.state={dfpRequested:!1,loadAd:!1,listeners:[],impressionTrackerURL:"",sponsorData:null}}render(){var t=this.state["loadAd"],{children:s,adAreaId:e}=this.props,a={sponsorDataProvider:this.sponsorDataProvider,getSponsorData:this.getSponsorData};return r.createElement(r.Fragment,null,r.createElement(r.Fragment,null,t&&r.createElement(i,{position:e,onMessage:this.onMessage}),this.state.impressionTrackerURL&&r.createElement(o,{title:"Third Party iframe",src:this.state.impressionTrackerURL})),s(a))}}),t("GeoPillSponsor",a)},[t=>r=t.default,t=>o=t.Pixel,t=>e=t]]},["cDcdfi","m5ZZFI","pLbCP4"]]);

!function(t,a){function n(n,i){n=n?"addClass":"removeClass",i=i?300:0,navigator.userAgent.indexOf("MSIE")<0&&navigator.userAgent.indexOf("Trident")<0&&P.val(""),v[n]("active"),setTimeout(function(){T[n]("active"),O[n]("active"),I[n]("active"),H[n]("disabled"),A[n]("active")},i)}function i(n){var i=n?"addClass":"removeClass",n=n?"removeClass":"addClass";v[i]("white"),F[i]("active"),D[n]("hidden"),N[n]("hidden"),U[n]("hidden"),M[i]("hidden"),S[i]("hidden"),j[i]("hidden")}function o(n){n=t(G[n]).attr("data-bgcolor");B.css("background-color",n)}function e(){W=setInterval(function(){r(tn[an=4<++an?0:an],void 0,"li"),s()},4e3)}function s(){var o=an;t(Z[o]).siblings("img").addClass("fade-end"),t(Z[o]).removeClass("fade-start");for(var n=0;n<5;n++)n!=o&&t(Z[n]).removeClass("fade-end").addClass("fade-start");t(X[o]).siblings(".iot-block-right-box").addClass("fade-end"),t(X[o]).removeClass("fade-start"),setTimeout(function(){t(X[o]).siblings(".iot-block-right-box").addClass("fade-start").removeClass("fade-end")},300),t([$,nn,on,en]).each(function(){var n=this;if(0<navigator.userAgent.indexOf("MSIE 9.0"))t(n[o]).removeClass("fade-start"),t(n[o]).removeClass("not-show"),t(n[o]).siblings().addClass("not-show");else{for(var i=0;i<5;i++)i!=o&&t(n[i]).addClass("fade-start");t(n[o]).removeClass("fade-start")}})}function c(n){var i=dn[n],o=rn[n],e=ln[n];t(i).removeClass("hidden").siblings(".safe-block-intro-item").addClass("hidden"),t(o).siblings("img").removeClass("active"),t(o).addClass("active"),t(e).siblings("div").removeClass("active"),t(e).removeClass("deactive").addClass("active"),setTimeout(function(){t(e).siblings("div").addClass("deactive")},500)}function d(n,i,o){var e;a.IntersectionObserver?(e=new IntersectionObserver(function(n){n.forEach(function(n){n.isIntersecting&&(t(i).each(function(n,i){t(i).addClass("active")}),e.unobserve(n.target))})},{rootMargin:"0px 0px "+o+"px 0px"})).observe(n[0]):t(i).each(function(n,i){t(i).addClass("active")})}function r(n,i,o){i=null==i?n:n[i];t(i).addClass("active").siblings(o).removeClass("active")}function l(o,e){var t=0;return function(){var n=arguments,i=new Date;e<i-t&&(o.apply(this,n),t=i)}}a.monitor&&a.monitor.setProject("QH_132_4#33").getTrack().setActiveTime(60).getClickAndKeydown(),a.manualLog=function(n){a.monitor&&a.monitor.log(n)};var f,u,v=t("div.header"),m=v.find("div.header-block"),b=m.find("div.account"),g=m.find(".account-icon"),h=b.find(".account-login"),k=h.find(".account-login-name"),C=h.find(".account-login-out"),p=b.find(".account-not-login"),w=p.find(".account-not-login-signin"),x=p.find(".account-not-login-register");function y(n){k.html(n.username),g.addClass("login-success"),g.css({"background-image":"url("+n.img_url+")"}),f=!0}a.QHPass&&(QHPass.init({src:"pcw_home",signIn:{types:["normal","mobile"],thirdPart:{providers:[]}},domainList:["360.com","360.cn"]}),f=!1,w.on("click",function(){QHPass.signIn(function(){QHPass.getUserInfo(function(n){y(n)})})}),x.on("click",function(){QHPass.signUp(function(){QHPass.getUserInfo(function(n){y(n)})})}),C.on("click",function(){g.removeClass("login-success"),g.attr("style",null),QHPass.signOut(function(){f=!1})}),u=!0,b.on("click",function(){var n=f?h:p;u=u?(n.css("display","inline-block"),!1):(n.css("display","none"),!0)}),t(document.body).on("click",function(n){n.target.className.indexOf("account-icon")<0&&((f?h:p).css("display","none"),u=!0)}),QHPass.getUserInfo(function(n){y(n)}));var w=m.find("div.search"),I=v.find("div.search-block"),T=I.find(".search-block-input"),O=I.find(".search-block-hot"),P=T.find("input"),Q=I.find(".search-block-input-close"),H=t("body"),A=t(".overlay");w.on("click",function(){n(!0,300),0<navigator.userAgent.indexOf("MSIE")||0<navigator.userAgent.indexOf("Trident")?(P.val("360搜索"),P.on("focus",function(){P.val("")}),P.on("blur",function(){P.val("360搜索")})):P.focus(),A.on("click",function(){n()})}),Q.on("click",function(){n()}),P.keyup(function(n){var i,o=t(this).val();o?O.removeClass("active"):O.addClass("active"),13==n.which&&(a.open(i="https://www.so.com/s?q="+o+"&src=360portal&_re=0"),manualLog({c:o,cId:"bk:top-search",f:i})),27==n.which&&Q.click()});var L,_,E,x=v.find(".logo"),D=x.find(".logo-white"),M=x.find(".logo-normal"),N=w.find(".search-icon-white"),S=w.find(".search-icon-normal"),U=b.find(".account-icon-white"),j=b.find(".account-icon-normal"),q=m.find(".nav").find(".nav-item"),C=m.find(".nav-out"),F=m.find(".slide");L=i,_=100;q.on("mouseenter",function(){i(!0)}),x.on("mouseenter",function(){i(!1),q.removeClass("active")}),C.on("mouseenter",function(){i(!1),q.removeClass("active")}),F.on("mouseleave",function(){i(!1),q.removeClass("active")}),m.on("mouseleave",function(){i(!1),q.removeClass("active")});var w=F.find(".slide-close"),K=F.find(".slide-menu-list-item"),b=K.find(".left-side-nav-item");q.on("mouseover",function(){r(K,t(this).index()),r(t(this))}),b.on("mouseover",function(){r(t(this).parents().find(".right-side-products-list"),t(this).index()),r(t(this))}),b.on("mouseenter",function(){manualLog({c:t(this).text().trim(),cId:"bk:slide-nav"})}),w.on("click",function(){i(!1)});function Y(){z=setInterval(function(){r(G,R=R==V?0:R),r(J,R),o(R),R++},5e3)}var z,B=t("div.banner"),G=B.find(".banner-block-img-slider"),J=B.find(".banner-block-tab li"),R=1,V=J.length;Y(),J.on("mouseover",function(){var n=t(this).index();r(G,R=n),r(J,n),o(R)}),G.on("mouseenter",function(){clearInterval(z)}),G.on("mouseleave",function(){Y()});x=t("div.products-block"),C=x.find("div.products-block-head"),m=x.find("div.products-block-body");d(x,[C,m],-100),t(document.body).on("click",".product-big-card, .product-card, .nav-card-big",function(n){var i,o=-1<n.target.className.indexOf("product")?"software":"slide-nav";"SPAN"==n.target.tagName?(-1<(i=t(n.target).attr("data-href")).indexOf("safe.online.360.cn")?a.open(i):a.open(i,"_self"),manualLog({c:"下载-"+t(n.target).attr("data-name"),cId:"bk:"+o,f:i})):(i=(i=t(this).attr("data-href"))||t(this).attr("href"),a.open(i),manualLog({c:t(this).find("h3").text().trim()||"跳转-"+t(this).find("span").attr("data-name"),cId:"bk:"+o,f:i}))});var W,b=t("div.iot-block"),w=b.find(".iot-block-left"),x=b.find(".iot-block-right"),X=x.find(".iot-block-right-box"),Z=b.find(".iot-block-left-bg img"),$=X.find(".iot-block-right-product h3"),nn=X.find(".iot-block-right-intro h1"),on=b.find(".iot-block-right-desc p"),en=b.find(".iot-block-right-detail a"),tn=b.find(".iot-block-right-tab li"),an=0,sn=0;tn.on("mouseover",function(){clearInterval(W),Date.now()-sn<300||(sn=Date.now(),an=t(this).index(),r(t(this),void 0,"li"),s())}),tn.on("mouseout",function(){e()}),e(),d(b,[w,x],-300);var C=t("div.safe-block"),m=C.find(".safe-block-prev"),b=C.find(".safe-block-next"),w=C.find(".safe-block-head"),x=C.find(".safe-block-body"),cn=x.find(".safe-block-tab li"),dn=x.find(".safe-block-intro-item"),rn=dn.find(".safe-block-intro-item-img"),ln=dn.find(".safe-block-intro-item-content"),fn=0,un=l(function(n){0<n?2<++fn&&(fn=0):--fn<0&&(fn=2),c(fn),r(cn,fn)},500),vn=l(function(n){c(t(n).index()),r(t(n),void 0,"li")},500);cn.on("mouseover",function(){vn(this)}),m.click(function(){un(-1)}),b.click(function(){un(1)}),d(C,[w,x],-200),setTimeout(function(){t(ln[0]).removeClass("deactive").addClass("active")},300);var b=t("div.news-block"),C=b.find(".news-block-head"),w=b.find(".news-block-body"),x=C.find(".news-block-head-tab-list li"),mn=w.find(".news-block-body-categories-item");x.on("mouseover",function(){r(mn,t(this).index()),r(t(this),void 0,"li")}),d(b,[C,w],-200);C=t("div.footer");C.find(".footer-copyright-year").html((new Date).getFullYear());var bn=t(".footer-wrapper .back-to-top"),w=C.find(".footer-contact-wechat"),C=C.find(".footer-contact-weibo");w.on("mouseenter",function(){manualLog({c:"hover 微信公众号",cId:"bk:footer"})}),C.on("mouseenter",function(){manualLog({c:"hover 微博",cId:"bk:footer"})});var gn=l(function(){500<document.body.scrollTop||500<document.documentElement.scrollTop?bn.addClass("active"):bn.removeClass("active")},300);a.onscroll=function(){i(!1),q.removeClass("active"),gn()},bn.on("click",function(){setTimeout(function(){bn.removeClass("active")},500),t("html,body").animate({scrollTop:0},500)})}(jQuery,window);

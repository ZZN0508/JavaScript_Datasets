!function(n){function r(t){if(o[t])return o[t].exports;var e=o[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,r),e.loaded=!0,e.exports}var o={};r.m=n,r.c=o,r.p="",r(0)}([function(t,e,n){var r=n(1),o=n(64),i=n(73).GLOBAL;n(83)(r,i),o[i]=r},function(t,e,n){function r(t){return this instanceof r?(this.init(t),this):new r(t)}var o=n(2),i=n(9),c=n(72),a=n(74),s=n(65),u=n(73);r.prototype.init=function(t){for(var e in this.configure(t),r.Plugins)r.Plugins.hasOwnProperty(e)&&r.Plugins[e].configure.call(this,t);var n;window.addEventListener&&(n=this,window.addEventListener("pagehide",function(){n._windowBeingUnloaded=!0}))},r.version=r.prototype.version=a,r.prototype.log=function(){for(var t=["["+u.GLOBAL+"]"],e=0,n=arguments.length-1;e<=n;e++)t.push(arguments[e]);"undefined"!=typeof console&&this.client.logging&&console.log.apply(console,t)},r.prototype.configure=c.configure,r.prototype.set=c.set,r.prototype.get=c.get,r.prototype.ready=n(75),r.prototype.applyProperties=o.applyProperties,r.prototype.addRecord=o.addRecord,r.prototype._sendRecord=o._sendRecord,r.prototype.blockEvents=o.blockEvents,r.prototype.unblockEvents=o.unblockEvents,r.prototype.areEventsBlocked=o.areEventsBlocked,r.prototype.setSignedMode=o.setSignedMode,r.prototype.setAnonymousMode=o.setAnonymousMode,r.prototype.inSignedMode=o.inSignedMode,r.prototype.getCookie=s.getItem,r.prototype._configurator=c,r.Plugins={Clicks:n(76),GlobalID:n(78),Personalization:n(79),Track:n(80),ServerSideCookie:n(82)},i.forIn(r.Plugins,function(t){i.forIn(t,function(t,e){r.prototype[e]||(r.prototype[e]=t)})}),t.exports=r},function(t,e,n){function o(t,e){r(s.isString(t),"Must provide a table"),r(/^[a-z0-9_]{3,255}$/.test(t),"Table must be between 3 and 255 characters and must consist only of lower case letters, numbers, and _"),r(s.isObject(e),"Must provide a record")}var r=n(3).invariant,i=n(3).noop,c=n(3).fetchWithTimeout,a=n(4),s=n(9),u=n(64),l=n(65),f=n(66),d=n(67);e.BLOCKEVENTSCOOKIE="__td_blockEvents",e.SIGNEDMODECOOKIE="__td_signed",e.blockEvents=function(){f(this.client.storage,"__td_blockEvents","true")},e.unblockEvents=function(){f(this.client.storage,"__td_blockEvents","false")},e.areEventsBlocked=function(){return"true"===l.getItem("__td_blockEvents")},e.setSignedMode=function(){return this.client.storeConsentByLocalStorage?u.localStorage.setItem("__td_signed","true"):f(this.client.storage,"__td_signed","true"),this.resetUUID(this.client.storage,this.client.track.uuid),this},e.setAnonymousMode=function(){return this.client.storeConsentByLocalStorage?u.localStorage.setItem("__td_signed","false"):f(this.client.storage,"__td_signed","false"),this.resetUUID(this.client.storage,this.client.track.uuid),l.removeItem(this.client.globalIdCookie),this},e.inSignedMode=function(){return this.client.storeConsentByLocalStorage?"false"!==u.localStorage.getItem(["__td_signed"])&&("true"===u.localStorage.getItem(["__td_signed"])||this.client.startInSignedMode):"false"!==l.getItem("__td_signed")&&("true"===l.getItem("__td_signed")||this.client.startInSignedMode)},e._sendRecord=function(t,n,r){var e;n=n||i,r=r||i,this.areEventsBlocked()||(e=["api_key="+encodeURIComponent(t.apikey),"modified="+encodeURIComponent((new Date).getTime()),"data="+encodeURIComponent(d(t.record))],t.time&&e.push("time="+encodeURIComponent(t.time)),e=t.url+"?"+e.join("&"),t="a"===t.record.tag&&!!t.record.href,window.fetch&&(this._windowBeingUnloaded||t)?c(e,this.client.jsonpTimeout,{method:"POST",keepalive:!0}).then(function(t){n(t)}).catch(function(t){r(t)}):a(e,{prefix:"TreasureJSONPCallback",timeout:this.client.jsonpTimeout},function(t,e){return t?r(t):n(e)}))},e.applyProperties=function(t,e){return s.assign({},this.get("$global"),this.get(t),e)},e.addRecord=function(t,e,n,r){o(t,e);e=this.applyProperties(t,e),e=this.inSignedMode()?e:s.omit(e,["td_ip","td_client_id","td_global_id"]),t={apikey:this.client.writeKey,record:e,time:null,type:this.client.requestType,url:this.client.endpoint+this.client.database+"/"+t};t.record.time&&(t.time=t.record.time),this.client.development?this.log("addRecord",t):this.areEventsBlocked()||this._sendRecord(t,n,r)},e._validateRecord=o},function(t,e){t.exports={disposable:function(t){var e=!1;return function(){e||(e=!0,t())}},invariant:function(t,e){if(!t)throw new Error(e)},noop:function(){},fetchWithTimeout:function(t,e,n){if(window.AbortController){var r=new window.AbortController,o=window.fetch(t,Object.assign({},n,{signal:r.signal})),i=setTimeout(function(){r.abort()},e);return o.finally(function(){clearTimeout(i)})}return c=e,t=window.fetch(t,n),a="Request Timeout",n=new Promise(function(t,e){setTimeout(function(){e(new Error(a||"Operation Timeout"))},c)}),Promise.race([n,t]);var c,a}}},function(t,e,n){function l(){}var f=n(5)("jsonp");t.exports=function(t,e,n){function r(){o.parentNode&&o.parentNode.removeChild(o),window[a]=l,i&&clearTimeout(i)}"function"==typeof e&&(n=e,e={});var o,i,c=(e=e||{}).prefix||"__jp",a=e.name||c+d++,s=e.param||"callback",u=null!=e.timeout?e.timeout:6e4,c=encodeURIComponent,e=document.getElementsByTagName("script")[0]||document.head;return u&&(i=setTimeout(function(){r(),n&&n(new Error("Timeout"))},u)),window[a]=function(t){f("jsonp got",t),r(),n&&n(null,t)},t=(t+=(~t.indexOf("?")?"&":"?")+s+"="+c(a)).replace("?&","?"),f('jsonp req "%s"',t),(o=document.createElement("script")).src=t,e.parentNode.insertBefore(o,e),function(){window[a]&&r()}};var d=0},function(n,o,r){!function(e){function t(){var t;try{t=o.storage.debug}catch(t){}return t=!t&&void 0!==e&&"env"in e?e.env.DEBUG:t}(o=n.exports=r(7)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},o.formatArgs=function(t){var e,n,r=this.useColors;t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+o.humanize(this.diff),r&&(r="color: "+this.color,t.splice(1,0,r,"color: inherit"),t[n=e=0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(e++,"%c"===t&&(n=e))}),t.splice(n,0,r))},o.save=function(t){try{null==t?o.storage.removeItem("debug"):o.storage.debug=t}catch(t){}},o.load=t,o.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},o.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),o.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],o.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},o.enable(t())}.call(o,r(6))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(){p&&f&&(p=!1,f.length?d=f.concat(d):h=-1,d.length&&c())}function c(){if(!p){var t=o(i);p=!0;for(var e=d.length;e;){for(f=d,d=[];++h<e;)f&&f[h].run();h=-1,e=d.length}f=null,p=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function s(){}var u,l,t=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var f,d=[],p=!1,h=-1;t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new a(t,e)),1!==d.length||p||o(c)},a.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=s,t.addListener=s,t.once=s,t.off=s,t.removeListener=s,t.removeAllListeners=s,t.emit=s,t.prependListener=s,t.prependOnceListener=s,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,a,e){function n(t){function c(){if(c.enabled){var r=c,t=+new Date,e=t-(s||t);r.diff=e,r.prev=s,r.curr=t,s=t;for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];o[0]=a.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var i=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,e){if("%%"===t)return t;i++;var n=a.formatters[e];return"function"==typeof n&&(e=o[i],t=n.call(r,e),o.splice(i,1),i--),t}),a.formatArgs.call(r,o),(c.log||a.log||console.log.bind(console)).apply(r,o)}}return c.namespace=t,c.enabled=a.enabled(t),c.useColors=a.useColors(),c.color=function(t){var e,n=0;for(e in t)n=(n<<5)-n+t.charCodeAt(e),n|=0;return a.colors[Math.abs(n)%a.colors.length]}(t),"function"==typeof a.init&&a.init(c),c}var s;(a=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},a.disable=function(){a.enable("")},a.enable=function(t){a.save(t),a.names=[],a.skips=[];for(var e=("string"==typeof t?t:"").split(/[\s,]+/),n=e.length,r=0;r<n;r++)e[r]&&("-"===(t=e[r].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+t.substr(1)+"$")):a.names.push(new RegExp("^"+t+"$")))},a.enabled=function(t){for(var e=0,n=a.skips.length;e<n;e++)if(a.skips[e].test(t))return!1;for(e=0,n=a.names.length;e<n;e++)if(a.names[e].test(t))return!0;return!1},a.humanize=e(8),a.names=[],a.skips=[],a.formatters={}},function(t,e){function o(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var i=36e5,c=864e5;t.exports=function(t,e){e=e||{};var n,r=typeof t;if("string"==r&&0<t.length)return function(t){if(!(100<(t=String(t)).length)){t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(t){var e=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*e;case"days":case"day":case"d":return e*c;case"hours":case"hour":case"hrs":case"hr":case"h":return e*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*e;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}}(t);if("number"==r&&!1===isNaN(t))return e.long?o(n=t,c,"day")||o(n,i,"hour")||o(n,6e4,"minute")||o(n,1e3,"second")||n+" ms":c<=(n=t)?Math.round(n/c)+"d":i<=n?Math.round(n/i)+"h":6e4<=n?Math.round(n/6e4)+"m":1e3<=n?Math.round(n/1e3)+"s":n+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){t.exports={forEach:n(10),isNumber:n(39),isObject:n(17),isString:n(18),isArray:n(32),keys:n(21),assign:n(40),forIn:n(47),omit:n(49),noop:n(63)}},function(t,e,n){var r=n(11),o=n(12),o=n(36)(r,o);t.exports=o},function(t,e){t.exports=function(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(13),r=n(35)(r);t.exports=r},function(t,e,n){var r=n(14),o=n(21);t.exports=function(t,e){return r(t,e,o)}},function(t,e,n){n=n(15)();t.exports=n},function(t,e,n){var u=n(16);t.exports=function(s){return function(t,e,n){for(var r=u(t),o=n(t),i=o.length,c=s?i:-1;s?c--:++c<i;){var a=o[c];if(!1===e(r[a],a,r))break}return t}}},function(t,e,n){var o=n(17),i=n(18),c=n(20);t.exports=function(t){if(c.unindexedChars&&i(t)){for(var e=-1,n=t.length,r=Object(t);++e<n;)r[e]=t.charAt(e);return r}return o(t)?t:Object(t)}},function(t,e){t.exports=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(19),o=Object.prototype.toString;t.exports=function(t){return"string"==typeof t||r(t)&&"[object String]"==o.call(t)}},function(t,e){t.exports=function(t){return!!t&&"object"==typeof t}},function(t,e){var n=Array.prototype,o=Error.prototype,i=Object.prototype.propertyIsEnumerable,c=n.splice,a={};!function(){function t(){this.x=1}var e,n={0:1,length:1},r=[];for(e in t.prototype={valueOf:1,y:1},new t)r.push(e);a.enumErrorProps=i.call(o,"message")||i.call(o,"name"),a.enumPrototypes=i.call(t,"prototype"),a.nonEnumShadows=!/valueOf/.test(r),a.ownLast="x"!=r[0],a.spliceObjects=(c.call(n,0,1),!n[0]),a.unindexedChars="x"[0]+Object("x")[0]!="xx"}(),t.exports=a},function(t,e,n){var r=n(22),o=n(26),i=n(17),c=n(30),a=n(20),s=r(Object,"keys");t.exports=s?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||("function"==typeof t?a.enumPrototypes:o(t))?c(t):i(t)?s(t):[]}:c},function(t,e,n){var r=n(23);t.exports=function(t,e){return e=null==t?void 0:t[e],r(e)?e:void 0}},function(t,e,n){var r=n(24),o=n(25),i=n(19),c=/^\[object .+?Constructor\]$/,n=Object.prototype,a=Function.prototype.toString,n=n.hasOwnProperty,s=RegExp("^"+a.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return null!=t&&(r(t)?s.test(a.call(t)):i(t)&&(o(t)?s:c).test(t))}},function(t,e,n){var r=n(17),o=Object.prototype.toString;t.exports=function(t){return r(t)&&"[object Function]"==o.call(t)}},function(t,e){var n=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}();t.exports=n},function(t,e,n){var r=n(27),o=n(29);t.exports=function(t){return null!=t&&o(r(t))}},function(t,e,n){n=n(28)("length");t.exports=n},function(t,e,n){var r=n(16);t.exports=function(e){return function(t){return null==t?void 0:r(t)[e]}}},function(t,e){t.exports=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}},function(t,e,n){var s=n(31),u=n(32),l=n(33),f=n(29),d=n(18),p=n(34),h=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=p(t),n=e.length,r=n&&t.length,o=!!r&&f(r)&&(u(t)||s(t)||d(t)),i=-1,c=[];++i<n;){var a=e[i];(o&&l(a,r)||h.call(t,a))&&c.push(a)}return c}},function(t,e,n){var r=n(26),o=n(19),n=Object.prototype,i=n.hasOwnProperty,c=n.propertyIsEnumerable;t.exports=function(t){return o(t)&&r(t)&&i.call(t,"callee")&&!c.call(t,"callee")}},function(t,e,n){var r=n(22),o=n(29),i=n(19),c=Object.prototype.toString,r=r(Array,"isArray");t.exports=r||function(t){return i(t)&&o(t.length)&&"[object Array]"==c.call(t)}},function(t,e){var n=/^\d+$/;t.exports=function(t,e){return e=null==e?9007199254740991:e,-1<(t="number"==typeof t||n.test(t)?+t:-1)&&t%1==0&&t<e}},function(t,e,n){var r=n(11),p=n(31),h=n(32),g=n(24),m=n(33),v=n(29),y=n(17),b=n(18),x=n(20),w="[object Error]",S="[object Object]",k="[object String]",_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],j=Error.prototype,E=Object.prototype,C=String.prototype,T=E.hasOwnProperty,O=E.toString,A={};A["[object Array]"]=A["[object Date]"]=A["[object Number]"]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},A["[object Boolean]"]=A[k]={constructor:!0,toString:!0,valueOf:!0},A[w]=A["[object Function]"]=A["[object RegExp]"]={constructor:!0,toString:!0},A[S]={constructor:!0},r(_,function(t){for(var e in A)T.call(A,e)&&((e=A[e])[t]=T.call(e,t))}),t.exports=function(t){if(null==t)return[];for(var e=(e=(t=!y(t)?Object(t):t).length)&&v(e)&&(h(t)||p(t)||b(t))&&e||0,n=t.constructor,r=-1,o=g(n)&&n.prototype||E,i=o===t,c=Array(e),a=0<e,s=x.enumErrorProps&&(t===j||t instanceof Error),u=x.enumPrototypes&&g(t);++r<e;)c[r]=r+"";for(f in t)u&&"prototype"==f||s&&("message"==f||"name"==f)||a&&m(f,e)||"constructor"==f&&(i||!T.call(t,f))||c.push(f);if(x.nonEnumShadows&&t!==E){var n=t===C?k:t===j?w:O.call(t),l=A[n]||A[S];for(n==S&&(o=E),e=_.length;e--;){var f,d=l[f=_[e]];i&&d||(d?!T.call(t,f):t[f]===o[f])||c.push(f)}}return c}},function(t,e,n){var a=n(27),s=n(29),u=n(16);t.exports=function(i,c){return function(t,e){var n=t?a(t):0;if(!s(n))return i(t,e);for(var r=c?n:-1,o=u(t);(c?r--:++r<n)&&!1!==e(o[r],r,o););return t}}},function(t,e,n){var i=n(37),c=n(32);t.exports=function(r,o){return function(t,e,n){return"function"==typeof e&&void 0===n&&c(t)?r(t,e):o(t,i(e,n,3))}}},function(t,e,n){var r=n(38);t.exports=function(i,c,t){if("function"!=typeof i)return r;if(void 0===c)return i;switch(t){case 1:return function(t){return i.call(c,t)};case 3:return function(t,e,n){return i.call(c,t,e,n)};case 4:return function(t,e,n,r){return i.call(c,t,e,n,r)};case 5:return function(t,e,n,r,o){return i.call(c,t,e,n,r,o)}}return function(){return i.apply(c,arguments)}}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(19),o=Object.prototype.toString;t.exports=function(t){return"number"==typeof t||r(t)&&"[object Number]"==o.call(t)}},function(t,e,n){var r=n(41),o=n(42),n=n(44)(function(t,e,n){return n?r(t,e,n):o(t,e)});t.exports=n},function(t,e,n){var u=n(21);t.exports=function(t,e,n){for(var r=-1,o=u(e),i=o.length;++r<i;){var c=o[r],a=t[c],s=n(a,e[c],c,t,e);(s==s?s===a:a!=a)&&(void 0!==a||c in t)||(t[c]=s)}return t}},function(t,e,n){var r=n(43),o=n(21);t.exports=function(t,e){return null==e?t:r(e,o(e),t)}},function(t,e){t.exports=function(t,e,n){n=n||{};for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}},function(t,e,n){var u=n(37),l=n(45),r=n(46);t.exports=function(s){return r(function(t,e){var n=-1,r=null==t?0:e.length,o=2<r?e[r-2]:void 0,i=2<r?e[2]:void 0,c=1<r?e[r-1]:void 0;for("function"==typeof o?(o=u(o,c,5),r-=2):r-=(o="function"==typeof c?c:void 0)?1:0,i&&l(e[0],e[1],i)&&(o=r<3?void 0:o,r=1);++n<r;){var a=e[n];a&&s(t,a,o)}return t})}},function(t,e,n){var o=n(26),i=n(33),c=n(17);t.exports=function(t,e,n){if(!c(n))return!1;var r=typeof e;if("number"==r?o(n)&&i(e,n.length):"string"==r&&e in n){e=n[e];return t==t?t===e:e!=e}return!1}},function(t,e){var a=Math.max;t.exports=function(i,c){if("function"!=typeof i)throw new TypeError("Expected a function");return c=a(void 0===c?i.length-1:+c||0,0),function(){for(var t=arguments,e=-1,n=a(t.length-c,0),r=Array(n);++e<n;)r[e]=t[c+e];switch(c){case 0:return i.call(this,r);case 1:return i.call(this,t[0],r);case 2:return i.call(this,t[0],t[1],r)}for(var o=Array(c+1),e=-1;++e<c;)o[e]=t[e];return o[c]=r,i.apply(this,o)}}},function(t,e,n){var r=n(14),r=n(48)(r);t.exports=r},function(t,e,n){var o=n(37),i=n(34);t.exports=function(r){return function(t,e,n){return"function"==typeof e&&void 0===n||(e=o(e,n,3)),r(t,e,i)}}},function(t,e,n){var o=n(50),i=n(51),c=n(58),a=n(37),s=n(34),u=n(60),l=n(61),n=n(46)(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){e=o(c(e),String);return u(t,i(s(t),e))}var r=a(e[0],e[1],3);return l(t,function(t,e,n){return!r(t,e,n)})});t.exports=n},function(t,e){t.exports=function(t,e){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var f=n(52),d=n(54),p=n(55);t.exports=function(t,e){var n=t?t.length:0,r=[];if(!n)return r;var o=-1,i=f,c=!0,a=c&&200<=e.length?p(e):null,s=e.length;a&&(i=d,c=!1,e=a);t:for(;++o<n;){var u=t[o];if(c&&u==u){for(var l=s;l--;)if(e[l]===u)continue t;r.push(u)}else i(e,u,0)<0&&r.push(u)}return r}},function(t,e,n){var i=n(53);t.exports=function(t,e,n){if(e!=e)return i(t,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=t.length,o=e+(n?0:-1);n?o--:++o<r;){var i=t[o];if(i!=i)return o}return-1}},function(t,e,n){var r=n(17);t.exports=function(t,e){return t=t.data,("string"==typeof e||r(e)?t.set.has(e):t.hash[e])?0:-1}},function(i,t,c){!function(t){var e=c(56),n=c(22),r=n(t,"Set"),o=n(Object,"create");i.exports=function(t){return o&&r?new e(t):null}}.call(t,function(){return this}())},function(c,t,a){!function(t){function e(t){var e=t?t.length:0;for(this.data={hash:i(null),set:new o};e--;)this.push(t[e])}var n=a(57),r=a(22),o=r(t,"Set"),i=r(Object,"create");e.prototype.push=n,c.exports=e}.call(t,function(){return this}())},function(t,e,n){var r=n(17);t.exports=function(t){var e=this.data;"string"==typeof t||r(t)?e.set.add(t):e.hash[t]=!0}},function(t,e,n){var s=n(59),u=n(31),l=n(32),f=n(26),d=n(19);t.exports=function t(e,n,r,o){o=o||[];for(var i=-1,c=e.length;++i<c;){var a=e[i];d(a)&&f(a)&&(r||l(a)||u(a))?n?t(a,n,r,o):s(o,a):r||(o[o.length]=a)}return o}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var c=n(16);t.exports=function(t,e){t=c(t);for(var n=-1,r=e.length,o={};++n<r;){var i=e[n];i in t&&(o[i]=t[i])}return o}},function(t,e,n){var i=n(62);t.exports=function(t,r){var o={};return i(t,function(t,e,n){r(t,e,n)&&(o[e]=t)}),o}},function(t,e,n){var r=n(14),o=n(34);t.exports=function(t,e){return r(t,e,o)}},function(t,e){t.exports=function(){}},function(e,t){!function(t){t="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};e.exports=t}.call(t,function(){return this}())},function(t,e){function u(t){try{return encodeURIComponent(t)}catch(t){console.error("error encode %o")}return null}function n(t){try{return decodeURIComponent(t)}catch(t){console.error("error decode %o")}return null}t.exports={getItem:function(t){return t&&n(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+u(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,n,r,o,i,c){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}var s="";return c&&"NONE"===c.toUpperCase()?s="; Secure; SameSite="+c:(i&&(s+="; Secure"),c&&(s+="; SameSite="+c)),document.cookie=[u(t),"=",u(e),a,o?"; domain="+o:"",r?"; path="+r:"",s].join(""),!0},removeItem:function(t,e,n){return!!this.hasItem(t)&&(document.cookie=[u(t),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT",n?"; domain="+n:"",e?"; path="+e:""].join(""),!0)},hasItem:function(t){return!!t&&new RegExp("(?:^|;\\s*)"+u(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){var t=document.cookie.replace(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/);return t.map(n)}}},function(t,e,n){var f=n(65),d=n(9);t.exports=function(t,e,n){var r=d.assign({},t),o=t.domain.match(/\d*\.\d*\.\d*\.\d*$/),i="localhost"===t.domain,c=t.customDomain,a=new Date;if(a.setSeconds(a.getSeconds()+r.expires),i)n?f.setItem(e,n,a,r.path):f.removeItem(e,r.path,r.domain);else if(o||c)n?f.setItem(e,n,a,r.path,r.domain,!0,"None"):f.removeItem(e,r.path,r.domain);else{var s=function(t){for(var e=t.split("."),n=[],r=e.length-1;0<=r;r--)n.push(e.slice(r).join("."));return n}(t.domain),u=s.length,l=0;if(n){if(f.getItem(e)!==n)for(;l<u;l++)if(r.domain=s[l],f.setItem(e,n,a,r.path,r.domain,!0,"None"),f.getItem(e)===n){t.domain=r.domain;break}}else for(;l<u;l++)f.removeItem(e,t.path,s[l])}}},function(t,e,n){var r=n(68),o=n(71);t.exports=function(t){return o(r.stringify(t))}},function(t,u,l){var f;!function(a,s){!function(){function L(t,s){function g(t,e){try{t()}catch(t){e&&e()}}function u(t){return null!=u[t]?u[t]:("bug-string-char-index"==t?e="a"!="a"[0]:"json"==t?e=u("json-stringify")&&u("date-serialization")&&u("json-parse"):"date-serialization"==t?(e=u("json-stringify")&&M)&&(o=s.stringify,g(function(){e='"-271821-04-20T00:00:00.000Z"'==o(new m(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==o(new m(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o(new m(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==o(new m(-1))})):(r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',"json-stringify"==t&&((i="function"==typeof(o=s.stringify))&&((n=function(){return 1}).toJSON=n,g(function(){i="0"===o(0)&&"0"===o(new l)&&'""'==o(new f)&&o(N)===y&&o(y)===y&&o()===y&&"1"===o(n)&&"[1]"==o([n])&&"[null]"==o([y])&&"null"==o(null)&&"[null,null,null]"==o([y,N,null])&&o({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===o(null,n)&&"[\n 1,\n 2\n]"==o([1,2],null,1)},function(){i=!1})),e=i),"json-parse"==t&&("function"==typeof(a=s.parse)&&g(function(){0!==a("0")||a(!1)||(n=a(r),(c=5==n.a.length&&1===n.a[0])&&(g(function(){c=!a('"\t"')}),c&&g(function(){c=1!==a("01")}),c&&g(function(){c=1!==a("1.")})))},function(){c=!1}),e=c)),u[t]=!!e);var e,n,r,o,i,c,a}function o(t){return x(this)}t=t||P.Object(),s=s||P.Object();var l=t.Number||P.Number,f=t.String||P.String,e=t.Object||P.Object,m=t.Date||P.Date,n=t.SyntaxError||P.SyntaxError,v=t.TypeError||P.TypeError,p=t.Math||P.Math,t=t.JSON||P.JSON;"object"==typeof t&&t&&(s.stringify=t.stringify,s.parse=t.parse);var y,d,b,r,h,x,i,c,a,w,S,k,_,j,E,C,T,O,A,I,e=e.prototype,N=e.toString,D=e.hasOwnProperty,M=new m(-0xc782b5b800cec);return g(function(){M=-109252==M.getUTCFullYear()&&0===M.getUTCMonth()&&1===M.getUTCDate()&&10==M.getUTCHours()&&37==M.getUTCMinutes()&&6==M.getUTCSeconds()&&708==M.getUTCMilliseconds()}),u["bug-string-char-index"]=u["date-serialization"]=u.json=u["json-stringify"]=u["json-parse"]=null,u("json")||(d=u("bug-string-char-index"),b=function(t,e){var n,c,r,o=0;for(r in(n=function(){this.valueOf=0}).prototype.valueOf=0,c=new n)D.call(c,r)&&o++;return c=null,(b=o?function(t,e){var n,r,o="[object Function]"==N.call(t);for(n in t)o&&"prototype"==n||!D.call(t,n)||(r="constructor"===n)||e(n);(r||D.call(t,n="constructor"))&&e(n)}:(c=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],function(t,e){var n,r,o="[object Function]"==N.call(t),i=!o&&"function"!=typeof t.constructor&&U[typeof t.hasOwnProperty]&&t.hasOwnProperty||D;for(n in t)o&&"prototype"==n||!i.call(t,n)||e(n);for(r=c.length;n=c[--r];)i.call(t,n)&&e(n)}))(t,e)},u("json-stringify")||u("date-serialization")||(r={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},h=function(t,e){return("000000"+(e||0)).slice(-t)},x=function(t){var e,n,r,o,i,c,a,s,u,l,f,d;return d=M?function(t){e=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDate(),i=t.getUTCHours(),c=t.getUTCMinutes(),a=t.getUTCSeconds(),s=t.getUTCMilliseconds()}:(u=p.floor,l=[0,31,59,90,120,151,181,212,243,273,304,334],f=function(t,e){return l[e]+365*(t-1970)+u((t-1969+(e=+(1<e)))/4)-u((t-1901+e)/100)+u((t-1601+e)/400)},function(t){for(r=u(t/864e5),e=u(r/365.2425)+1970-1;f(e+1,0)<=r;e++);for(n=u((r-f(e,0))/30.42);f(e,n+1)<=r;n++);r=1+r-f(e,n),i=u((o=(t%864e5+864e5)%864e5)/36e5)%24,c=u(o/6e4)%60,a=u(o/1e3)%60,s=o%1e3}),(x=function(t){return-1/0<t&&t<1/0?(d(t),t=(e<=0||1e4<=e?(e<0?"-":"+")+h(6,e<0?-e:e):h(4,e))+"-"+h(2,n+1)+"-"+h(2,r)+"T"+h(2,i)+":"+h(2,c)+":"+h(2,a)+"."+h(3,s)+"Z",e=n=r=i=c=a=s=null):t=null,t})(t)},u("json-stringify")&&!u("date-serialization")?(i=s.stringify,s.stringify=function(t,e,n){var r=m.prototype.toJSON;m.prototype.toJSON=o;n=i(t,e,n);return m.prototype.toJSON=r,n}):(c=function(t){t=t.charCodeAt(0);return r[t]||"\\u00"+h(2,t.toString(16))},a=/[\x00-\x1f\x22\x5c]/g,w=function(t){return a.lastIndex=0,'"'+(a.test(t)?t.replace(a,c):t)+'"'},S=function(t,e,n,r,o,i,c){var a,s,u,l,f,d,p,h;if(g(function(){a=e[t]}),"object"==typeof a&&a&&(a.getUTCFullYear&&"[object Date]"==N.call(a)&&a.toJSON===m.prototype.toJSON?a=x(a):"function"==typeof a.toJSON&&(a=a.toJSON(t))),(a=n?n.call(e,t,a):a)==y)return a===y?a:"null";switch((s="object"==(p=typeof a)?N.call(a):s)||p){case"boolean":case"[object Boolean]":return""+a;case"number":case"[object Number]":return-1/0<a&&a<1/0?""+a:"null";case"string":case"[object String]":return w(""+a)}if("object"==typeof a){for(d=c.length;d--;)if(c[d]===a)throw v();if(c.push(a),u=[],p=i,i+=o,"[object Array]"==s){for(f=0,d=a.length;f<d;f++)l=S(f,a,n,r,o,i,c),u.push(l===y?"null":l);h=u.length?o?"[\n"+i+u.join(",\n"+i)+"\n"+p+"]":"["+u.join(",")+"]":"[]"}else b(r||a,function(t){var e=S(t,a,n,r,o,i,c);e!==y&&u.push(w(t)+":"+(o?" ":"")+e)}),h=u.length?o?"{\n"+i+u.join(",\n"+i)+"\n"+p+"}":"{"+u.join(",")+"}":"{}";return c.pop(),h}},s.stringify=function(t,e,n){var r,o,i;if(U[typeof e]&&e)if("[object Function]"==(i=N.call(e)))o=e;else if("[object Array]"==i)for(var c,a={},s=0,u=e.length;s<u;)c=e[s++],"[object String]"!=(i=N.call(c))&&"[object Number]"!=i||(a[c]=1);if(n)if("[object Number]"==(i=N.call(n))){if(0<(n-=n%1))for(10<n&&(n=10),r="";r.length<n;)r+=" "}else"[object String]"==i&&(r=n.length<=10?n:n.slice(0,10));return S("",((c={})[""]=t,c),o,a,r,"",[])})),u("json-parse")||(j=f.fromCharCode,E={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},C=function(){throw k=_=null,n()},T=function(){for(var t,e,n,r,o,i=_,c=i.length;k<c;)switch(o=i.charCodeAt(k)){case 9:case 10:case 13:case 32:k++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=d?i.charAt(k):i[k],k++,t;case 34:for(t="@",k++;k<c;)if((o=i.charCodeAt(k))<32)C();else if(92==o)switch(o=i.charCodeAt(++k)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=E[o],k++;break;case 117:for(e=++k,n=k+4;k<n;k++)48<=(o=i.charCodeAt(k))&&o<=57||97<=o&&o<=102||65<=o&&o<=70||C();t+=j("0x"+i.slice(e,k));break;default:C()}else{if(34==o)break;for(o=i.charCodeAt(k),e=k;32<=o&&92!=o&&34!=o;)o=i.charCodeAt(++k);t+=i.slice(e,k)}if(34==i.charCodeAt(k))return k++,t;C();default:if(e=k,45==o&&(r=!0,o=i.charCodeAt(++k)),48<=o&&o<=57){for(48==o&&48<=(o=i.charCodeAt(k+1))&&o<=57&&C(),r=!1;k<c&&48<=(o=i.charCodeAt(k))&&o<=57;k++);if(46==i.charCodeAt(k)){for(n=++k;n<c&&!((o=i.charCodeAt(n))<48||57<o);n++);n==k&&C(),k=n}if(101==(o=i.charCodeAt(k))||69==o){for(43!=(o=i.charCodeAt(++k))&&45!=o||k++,n=k;n<c&&!((o=i.charCodeAt(n))<48||57<o);n++);n==k&&C(),k=n}return+i.slice(e,k)}r&&C();var a=i.slice(k,k+4);if("true"==a)return k+=4,!0;if("fals"==a&&101==i.charCodeAt(k+4))return k+=5,!1;if("null"==a)return k+=4,null;C()}return"$"},O=function(t){var e,n;if("$"==t&&C(),"string"==typeof t){if("@"==(d?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=T());)n?","==t&&"]"!=(t=T())||C():n=!0,","==t&&C(),e.push(O(t));return e}if("{"==t){for(e={};"}"!=(t=T());)n?","==t&&"}"!=(t=T())||C():n=!0,","!=t&&"string"==typeof t&&"@"==(d?t.charAt(0):t[0])&&":"==T()||C(),e[t.slice(1)]=O(T());return e}C()}return t},A=function(t,e,n){n=I(t,e,n);n===y?delete t[e]:t[e]=n},I=function(t,e,n){var r,o=t[e];if("object"==typeof o&&o)if("[object Array]"==N.call(o))for(r=o.length;r--;)A(N,b,o);else b(o,function(t){A(o,t,n)});return n.call(t,e,o)},s.parse=function(t,e){var n;return k=0,_=""+t,n=O(T()),"$"!=T()&&C(),k=_=null,e&&"[object Function]"==N.call(e)?I(((t={})[""]=n,t),"",e):n})),s.runInContext=L,s}var t,e,n,r,o=l(70),U={function:!0,object:!0},i=U[typeof u]&&u&&!u.nodeType&&u,P=U[typeof window]&&window||this,c=i&&U[typeof a]&&a&&!a.nodeType&&"object"==typeof s&&s;!c||c.global!==c&&c.window!==c&&c.self!==c||(P=c),i&&!o?L(P,i):(t=P.JSON,e=P.JSON3,n=!1,r=L(P,P.JSON3={noConflict:function(){return n||(n=!0,P.JSON=t,P.JSON3=e,t=e=null),r}}),P.JSON={parse:r.parse,stringify:r.stringify}),o&&void 0!==(f=function(){return r}.call(u,l,u,a))&&(a.exports=f)}.call(this)}.call(u,l(69)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(e,t){!function(t){e.exports=t}.call(t,{})},function(t,e){var s=String.fromCharCode,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.exports=function(t){var e,n,r,o,i,c="",a=0;for(t=function(t){for(var e,n="",r=0;r<t.length;)e=t.charCodeAt(r++),n+=e<128?s(e):127<e&&e<2048?s(e>>6|192)+s(63&e|128):s(e>>12|224)+s(e>>6&63|128)+s(63&e|128);return n}(t);a<t.length;)o=t.charCodeAt(a++),e=t.charCodeAt(a++),i=t.charCodeAt(a++),n=o>>2,r=(3&o)<<4|e>>4,o=isNaN(e)?64:(15&e)<<2|i>>6,i=isNaN(e)||isNaN(i)?64:63&i,c=c+u.charAt(n)+u.charAt(r)+u.charAt(o)+u.charAt(i);return c}},function(t,e,n){var r=n(9),o=n(3).invariant,i=n(73),c=n(65);e.DEFAULT_CONFIG={database:i.DATABASE,development:!1,globalIdCookie:"_td_global",host:i.HOST,logging:!0,pathname:i.PATHNAME,requestType:"jsonp",jsonpTimeout:1e4,startInSignedMode:!1,useServerSideCookie:!1,sscDomain:function(){for(var t=document.location.hostname.split("."),e=t.length-2;1<=e;e--){var n=t.slice(e).join("."),r="_td_domain_"+n;if(c.setItem(r,n,3600,"/",n),c.getItem(r)===n)return n}return document.location.hostname},sscServer:function(t){return["ssc",t].join(".")},storeConsentByLocalStorage:!1},e.configure=function(t){return this.client=r.assign({globals:{}},e.DEFAULT_CONFIG,t,{requestType:"jsonp"}),t=this.client,o(r.isObject(t),"Check out our JavaScript SDK Usage Guide: http://docs.treasuredata.com/articles/javascript-sdk"),o(r.isString(t.writeKey),"Must provide a writeKey"),o(r.isString(t.database),"Must provide a database"),o(/^[a-z0-9_]{3,255}$/.test(t.database),"Database must be between 3 and 255 characters and must consist only of lower case letters, numbers, and _"),this.client.endpoint||(this.client.endpoint="https://"+this.client.host+this.client.pathname),this},e.set=function(t,e,n){return r.isObject(t)&&(e=t,t="$global"),this.client.globals[t]=this.client.globals[t]||{},r.isObject(e)?r.assign(this.client.globals[t],e):this.client.globals[t][e]=n,this},e.get=function(t,e){return this.client.globals[t=t||"$global"]=this.client.globals[t]||{},e?this.client.globals[t][e]:this.client.globals[t]}},function(t,e){t.exports={GLOBAL:"O2uTreasure",VERSION:"2.4.2",HOST:"in.treasuredata.com",DATABASE:"",PATHNAME:"/js/v3/event/"}},function(t,e,n){t.exports=n(73).VERSION},function(t,e,n){function r(t){for(u=1;t=c.shift();)t()}var o,i,c,a,s,u;t.exports=(c=[],a=document,s=a.documentElement,t=s.doScroll,u=(t?/^loaded|^c/:/^loaded|c/).test(a.readyState),a.addEventListener&&a.addEventListener("DOMContentLoaded",i=function(){a.removeEventListener("DOMContentLoaded",i,!1),r()},!1),t&&a.attachEvent("onreadystatechange",i=function(){/^c/.test(a.readyState)&&(a.detachEvent("onreadystatechange",i),r())}),o=t?function(e){self!=top?u?e():c.push(e):function(){try{s.doScroll("left")}catch(t){return setTimeout(function(){o(e)},50)}e()}()}:function(t){u?t():c.push(t)})},function(t,e,n){function i(t,e){return e}var c=n(64),a=n(77),s=n(9).assign,u=n(3).disposable;t.exports={configure:function(){this._clickTrackingInstalled=!1},trackClicks:function(t){if(!this._clickTrackingInstalled){var n=this,r=s({element:c.document,extendClickData:i,ignoreAttribute:"td-ignore",tableName:"clicks"},t),o=a.createTreeHasIgnoreAttribute(r.ignoreAttribute),e=a.addEventListener(r.element,"click",function(t){var e=a.findElement(a.getEventTarget(t));e&&!o(e)&&(e=a.getElementData(e),(e=r.extendClickData(t,e))&&n.trackEvent(r.tableName,e))});return n._clickTrackingInstalled=!0,u(function(){e(),n._clickTrackingInstalled=!1})}}}},function(t,e,n){function r(t){for(var e,n=[],r=0,o=0,i=" > ".length;t&&r++<5&&!("html"===(e=c(t))||1<r&&80<=o+n.length*i+e.length);)n.push(e),o+=e.length,t=t.parentNode;return n.reverse().join(" > ")}function c(t){var e,n,r,o,i=[];if(!t||!t.tagName)return"";if(i.push(t.tagName.toLowerCase()),t.id&&i.push("#"+t.id),(e=t.className)&&s(e))for(n=e.split(" "),a=0;a<n.length;a++)i.push("."+n[a]);for(var c=["type","name","title","alt"],a=0;a<c.length;a++)(o=t.getAttribute(r=c[a]))&&i.push("["+r+'="'+o+'"]');return i.join("")}function o(t,e){return"function"==typeof t.hasAttribute?t.hasAttribute(e):null!==t.getAttribute(e)}var i=n(9).forEach,s=n(9).isString,a=n(3).disposable;t.exports={addEventListener:function(e,t,n){function r(t){n.call(e,t||window.event)}if(e.addEventListener)return e.addEventListener(t,r,!1),a(function(){e.removeEventListener(t,r,!1)});if(e.attachEvent)return e.attachEvent("on"+t,r),a(function(){e.detachEvent("on"+t,r)});throw new Error("addEventListener")},createTreeHasIgnoreAttribute:function(n){var r="data-"+n;return function t(e){return!(!e||!e.tagName||"html"===e.tagName.toLowerCase())&&(!(!o(e,n)&&!o(e,r))||t(e.parentNode))}},getElementData:function(e){var n={tag:e.tagName.toLowerCase(),tree:r(e)};return i(["alt","class","href","id","name","role","title","type"],function(t){o(e,t)&&(n[t]=e.getAttribute(t))}),n},getEventTarget:function(t){return 3===(t=t.target||t.srcElement||window.document).nodeType?t.parentNode:t},hasAttribute:o,htmlElementAsString:c,htmlTreeAsString:r,findElement:function(t){if(!t||!t.tagName)return null;for(var e=t.tagName.toLowerCase();e&&"body"!==e;e=(t=t.parentNode)&&t.tagName&&t.tagName.toLowerCase()){var n=t.getAttribute("type");if("input"===e&&"password"===n)return null;n=t.getAttribute("role");if("button"===n||"link"===n||"a"===e||"button"===e||"input"===e)return t}return null}}},function(t,e,n){function c(t,e,n){if(!t.global_id)return null;var r=(n=n||{}).path,o=n.domain,i=n.secure,c=n.maxAge||6e3,n=n.sameSite;return u.setItem(e,t.global_id,c,r,o,i,n),t.global_id}var a=n(4),s=n(3).noop,u=n(65);t.exports={cacheSuccess:c,configure:function(){return this.inSignedMode()||u.removeItem(this.client.globalIdCookie),this},fetchGlobalID:function(n,r,t,o){if(o=o||{},n=n||s,r=r||s,!this.inSignedMode())return r("not in signed in mode");var i=this.client.globalIdCookie,e=u.getItem(this.client.globalIdCookie);if(e&&!t)return setTimeout(function(){n(e)},0);o.sameSite||(o.sameSite="None"),t="https://"+this.client.host+"/js/v3/global_id",a(t,{prefix:"TreasureJSONPCallback",timeout:this.client.jsonpTimeout},function(t,e){return t?r(t):n(c(e,i,o))})}}},function(t,e,n){var a=n(4),s=n(3).noop,u=n(3).invariant,l=n(9);t.exports={configure:function(t){return t=l.isObject(t)?t:{},this.client.cdpHost=t.cdpHost||"cdp.in.treasuredata.com",this},fetchUserSegments:function(t,n,r){var e=l.isObject(t)&&!l.isArray(t),o=e?t.audienceToken:t,i=e&&t.keys||{};n=n||s,r=r||s,u("string"==typeof o||l.isArray(o),'audienceToken must be a string or array; received "'+o.toString()+'"'),u(l.isObject(i),'keys must be an object; received "'+i+'"');var t=l.isArray(o)?o.join(","):o,o=l.keys(i),c=[];l.forEach(o,function(t){c.push(["key.",t,"=",i[t]].join(""))}),o=c.join("&"),o="https://"+this.client.cdpHost+"/cdp/lookup/collect/segments?version=2&token="+t+(o&&"&"+o),a(o,{prefix:"TreasureJSONPCallback",timeout:this.client.jsonpTimeout},function(t,e){return t?r(t):n(e)})}}},function(t,e,n){function r(t){return i.assign({td_version:function(){return u},td_client_id:function(){return t.uuid},td_charset:function(){return(l.characterSet||l.charset||"-").toLowerCase()},td_language:function(){var t=o.navigator;return(t&&(t.language||t.browserLanguage)||"-").toLowerCase()},td_color:function(){return o.screen?o.screen.colorDepth+"-bit":"-"},td_screen:function(){return o.screen?o.screen.width+"x"+o.screen.height:"-"},td_viewport:function(){var t=l.documentElement&&l.documentElement.clientHeight,e=l.documentElement&&l.documentElement.clientWidth,n=o.innerHeight,r=o.innerWidth;return(e<r?r:e)+"x"+(t<n?n:t)},td_title:function(){return l.title},td_description:function(){return function(t){for(var e=(l.head||l.getElementsByTagName("head")[0]).getElementsByTagName("meta"),n=e.length,r=0;r<n;r++)if(e[r].getAttribute("name")===t)return(e[r].getAttribute("content")||"").substr(0,8192);return""}("description")},td_url:function(){return l.location&&l.location.href?l.location.href.split("#")[0]:""},td_user_agent:function(){return o.navigator.userAgent},td_platform:function(){return o.navigator.platform},td_host:function(){return l.location.host},td_path:function(){return l.location.pathname},td_referrer:function(){return l.referrer},td_ip:function(){return"td_ip"},td_browser:function(){return"td_browser"},td_browser_version:function(){return"td_browser_version"},td_os:function(){return"td_os"},td_os_version:function(){return"td_os_version"}},t.values)}var o=n(64),i=n(9),c=n(65),a=n(66),s=n(81),u=n(74),l=o.document;e.configure=function(t){return t=i.isObject(t)?t:{},this.client.track=t.track=(e=t.track,i.assign({pageviews:"pageviews",events:"events",values:{}},e)),this.client.storage=t.storage="none"!==(e=t.storage)&&(e=i.isObject(e)?e:{},i.assign({name:"_td",expires:63072e3,domain:l.location.hostname,customDomain:!!e.domain,path:"/"},e)),i.isNumber(t.clientId)?t.clientId=t.clientId.toString():t.clientId&&i.isString(t.clientId)||(t.storage&&t.storage.name&&(t.clientId=c.getItem(t.storage.name)),t.clientId&&"undefined"!==t.clientId||(t.clientId=s())),this.resetUUID(t.storage,t.clientId),this;var e},e.resetUUID=function(t,e){e=e||s(),t=t||this.client.storage;return this.client.track.uuid=e.replace(/\0/g,""),t&&(t.expires&&this.inSignedMode()?(a(t,t.name,void 0),a(t,t.name,this.client.track.uuid)):this.inSignedMode()||a(t,t.name)),this.client.track.values=i.assign(r(this.client.track),this.client.track.values),this},e.trackEvent=function(t,e,n,r){return t=t||this.client.track.events,e=i.assign(this.getTrackValues(),e),this.addRecord(t,e,n,r),this},e.trackPageview=function(t,e,n){return t=t||this.client.track.pageviews,this.trackEvent(t,{},e,n),this},e.getTrackValues=function(){var n={};return i.forIn(this.client.track.values,function(t,e){t&&(n[e]="function"==typeof t?t():t)}),n}},function(t,e,n){var r=n(64);t.exports=function(){var n=(new Date).getTime();return r.performance&&"function"==typeof r.performance.now&&(n+=r.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===t?e:3&e|8).toString(16)})}},function(t,e,n){var i=n(4),c=n(3).noop,a=n(65),r=n(66),s="_td_ssc_id";t.exports={configure:function(){var t;return this.inSignedMode()||(t="function"==typeof this.client.sscDomain?this.client.sscDomain():this.client.sscDomain,r({domain:t},s)),this},fetchServerCookie:function(n,r,t){if(n=n||c,r=r||c,!this.inSignedMode())return r("not in signed in mode");if(!this.client.useServerSideCookie)return r("server side cookie not enabled");this._serverCookieDomainHost||("function"==typeof this.client.sscDomain?this._serverCookieDomain=this.client.sscDomain():this._serverCookieDomain=this.client.sscDomain,"function"==typeof this.client.sscServer?this._serverCookieDomainHost=this.client.sscServer(this._serverCookieDomain):this._serverCookieDomainHost=this.client.sscServer);var e="https://"+this._serverCookieDomainHost+"/get_cookie_id?cookie_domain="+window.encodeURI(this._serverCookieDomain)+"&r="+(new Date).getTime(),o=a.getItem(s);if(o&&!t)return setTimeout(function(){n(o)},0);i(e,{prefix:"TreasureJSONPCallback",timeout:this.client.jsonpTimeout},function(t,e){return t?r(t):n(e.td_ssc_id)})}}},function(t,e,n){var r=n(9),o=n(64),i=["init","set","blockEvents","unblockEvents","setSignedMode","setAnonymousMode","resetUUID","addRecord","fetchGlobalID","trackPageview","trackEvent","trackClicks","fetchUserSegments","fetchServerCookie","ready"];t.exports=function(t,e){var n;r.isObject(o[e])&&(e=(n=o[e]).clients,r.forIn(t.prototype,function(t,e){n.prototype[e]=t}),r.forEach(e,function(e){r.forEach(i,function(t){!function(t,e){var n="_"+e;if(t[n]){for(var r=t[n]||[];r.length;)t[e].apply(t,r.shift());delete t[n]}}(e,t)})}))}}]);

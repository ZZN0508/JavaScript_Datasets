var ns_=ns_||{};ns_.StreamSense=ns_.StreamSense||function(){function t(t,n,e){e&&setTimeout(e,0)}var n,e,s,r,i,a,z=a={uid:(i=1,function(){return+new Date+"_"+i++}),filter:function(t,n){var e,s={};for(e in n)n.hasOwnProperty(e)&&t(n[e])&&(s[e]=n[e]);return s},extend:function(t){var n,e=arguments.length;t=t||{};for(var s=1;s<e;s++)if(n=arguments[s])for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);return t},getString:function(t,n){var e=String(t);return null==t?n||"na":e},getLong:function(t,n){var e=Number(t);return null==t||isNaN(e)?n||0:e},getInteger:function(t,n){var e=Number(t);return null==t||isNaN(e)?n||0:e},getBoolean:function(t,n){var e="true"==String(t).toLowerCase();return null==t?n||!1:e},isNotEmpty:function(t){return void 0!==t&&null!=t&&void 0!==t.length&&0<t.length},indexOf:function(e,t){var s=-1;return a.forEach(t,function(t,n){t==e&&(s=n)}),s},forEach:function(t,n,e){try{if("function"==typeof n)if(e=void 0!==e?e:null,"number"!=typeof t.length||void 0===t[0]){var s=void 0!==t.__proto__;for(r in t)s&&void 0!==t.__proto__[r]||"function"==typeof t[r]||n.call(e,t[r],r)}else for(var r=0,i=t.length;r<i;r++)n.call(e,t[r],r)}catch(t){}},regionMatches:function(t,n,e,s,r){if(n<0||s<0||n+r>t.length||s+r>e.length)return!1;for(;0<=--r;)if(t.charAt(n++)!=e.charAt(s++))return!1;return!0},size:function(t){var n,e=0;for(n in t)t.hasOwnProperty(n)&&e++;return e},log:function(t,n){void 0!==n&&n&&(n=(n=new Date).getHours()+":"+n.getMinutes()+":"+n.getSeconds(),console.log(n,t))},isTrue:function(t){return void 0!==t&&("string"==typeof t?"true"===(t=t.toLowerCase())||"1"===t||"on"===t:!!t)},toString:function(t){if(void 0===t)return"undefined";if("string"==typeof t)return t;if("[object Array]"===Object.prototype.toString.call(t))return t.join(",");if(0<a.size(t)){var n,e="";for(n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}return t.toString()},exists:function(t){return void 0!==t&&null!=t},firstGreaterThan0:function(){for(var t=0,n=arguments.length;t<n;t++){var e=arguments[t];if(0<e)return e}return 0},cloneObject:function(t){if(null==t||"object"!=typeof t)return t;var n,e=t.constructor();for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},safeGet:function(t,n){return n=a.exists(n)?n:"",a.exists(t)?t:n},getBrowserName:function(){var t,n,e=navigator.userAgent,s=navigator.appName;return-1!=(n=e.indexOf("Opera"))||-1!=(n=e.indexOf("OPR/"))?s="Opera":-1!=(n=e.indexOf("Android"))?s="Android":-1!=(n=e.indexOf("Chrome"))?s="Chrome":-1!=(n=e.indexOf("Safari"))?s="Safari":-1!=(n=e.indexOf("Firefox"))?s="Firefox":-1!=(n=e.indexOf("IEMobile"))?s="Internet Explorer Mobile":"Microsoft Internet Explorer"==s||"Netscape"==s?s="Internet Explorer":(t=e.lastIndexOf(" ")+1)<(n=e.lastIndexOf("/"))&&((s=e.substring(t,n)).toLowerCase()==s.toUpperCase()&&(s=navigator.appName)),s},getBrowserFullVersion:function(){var t,n=navigator.userAgent,e=navigator.appName,s=""+parseFloat(navigator.appVersion);return-1!=(t=n.indexOf("Opera"))?(s=n.substring(t+6),-1!=(t=n.indexOf("Version"))&&(s=n.substring(t+8))):-1!=(t=n.indexOf("OPR/"))?s=n.substring(t+4):-1!=(t=n.indexOf("Android"))?s=n.substring(t+11):-1!=(t=n.indexOf("Chrome"))?s=n.substring(t+7):-1!=(t=n.indexOf("Safari"))?(s=n.substring(t+7),-1!=(t=n.indexOf("Version"))&&(s=n.substring(t+8))):-1!=(t=n.indexOf("Firefox"))?s=n.substring(t+8):"Microsoft Internet Explorer"==e?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(n)&&(s=parseFloat(RegExp.$1)):"Netscape"==e?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(n)&&(s=parseFloat(RegExp.$1)):n.lastIndexOf(" ")+1<(t=n.lastIndexOf("/"))&&(s=n.substring(t+1)),-1!=(t=(s=-1!=(t=(s=-1!=(t=(s=s.toString()).indexOf(";"))?s.substring(0,t):s).indexOf(" "))?s.substring(0,t):s).indexOf(")"))&&(s=s.substring(0,t)),t=parseInt(""+s,10),s=isNaN(t)?""+parseFloat(navigator.appVersion):s},browserAcceptsLargeURLs:function(){return null===window.ActiveXObject||!0}},u=(r="cs_",function(){var e="undefined"!=typeof localStorage?localStorage:{};z.extend(this,{get:function(t){return e[r+t]},set:function(t,n){e[r+t]=n},has:function(t){return r+t in e},remove:function(t){delete e[r+t]},clear:function(){for(var t in e)e.hasOwnProperty(t)&&delete e[t]}})}),_={dir:function(t){return null},append:function(t,n,e){},write:function(t,n,e){},deleteFile:function(t,n){return!1},read:function(t,n){return null}},Q={PLATFORM:"generic",httpGet:function(t,n){var e=new Image;e.onload=function(){n&&n(200)},e.onerror=function(){n&&n()},e.src=t},httpPost:t,Storage:u,IO:_,getCrossPublisherId:function(){return null},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(t){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return""},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return""},getRuntimeVersion:function(){return""},getResolution:function(){return""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},isCrossPublisherIdChanged:function(){return!1}},o=(s=e=n=null,{PLATFORM:"trilithium",httpGet:function(t,n){"undefined"!=typeof engine&&n&&setTimeout(n,0),engine.createHttpClient().createRequest("GET",t,null).start(),n&&setTimeout(n,0)},httpPost:t,Storage:u,IO:_,getCrossPublisherId:function(){return c(),s},getAppName:function(){return z.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:Constants.UNKNOWN_VALUE},getAppVersion:function(t){return z.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:Constants.UNKNOWN_VALUE},getVisitorId:function(){return c(),n},getVisitorIdSuffix:function(){return e},getDeviceName:function(){return z.safeGet(engine.stats.device.platform,"")},getPlatformVersion:function(){return z.safeGet(engine.stats.device.version,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return""},getResolution:function(){return"undefined"!=typeof screen&&void 0!==screen.height&&void 0!==screen.width?screen.height+"x"+screen.width:""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:function(){return"undefined"!=typeof engine&&void 0!==engine.stats}});function c(){var t;null==n&&(t=z.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:z.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null,s=null!=t?(e="31",n=t):(n=+new Date+~~(1e3*Math.random()),e="72",null))}Q.autoSelect=function(){o.isCompatible()&&z.extend(Q,o)};var X,J="undefined"!=typeof window&&"undefined"!=typeof document?(X=window,document):(X={},{location:{href:""},title:"",URL:"",referrer:"",cookie:""});(z=z||{}).filterMap=function(t,n){for(var e in t)-1==z.indexOf(e,n)&&delete t[e]},z.getKeys=function(t,n){var e,s=[];for(e in t)n&&!n.test(e)||!t.hasOwnProperty(e)||(s[s.length]=e);return s};var l,f,p,g,d,Z=(d=["play","pause","end","buffer","keep-alive","hb","custom","ad_play","ad_pause","ad_end","ad_click"],{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(t){return d[t]}}),tt=(g=[Z.END,Z.PLAY,Z.PAUSE,Z.BUFFER],{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(t){return g[t]}}),_={ADPLAY:Z.AD_PLAY,ADPAUSE:Z.AD_PAUSE,ADEND:Z.AD_END,ADCLICK:Z.AD_CLICK},nt={STREAMSENSE_VERSION:"4.1411.18",DEFAULT_PLAYERNAME:"streamsense",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sq","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_pt","ns_st_pa","ns_st_ad","ns_st_li","ns_st_ci","ns_ap_jb","ns_ap_res","ns_ap_c12m","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_bt","ns_st_bp","ns_st_pc","ns_st_pp","ns_st_br","ns_st_ub","ns_st_vo","ns_st_ws","ns_st_pl","ns_st_pr","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9"]},m=function(){function s(t,n){n=n[t];null!=n&&(e[t]=n)}var n,e,r=this,i=0,a=0,u=0,_=0,o=0,c=0;z.extend(this,{reset:function(t){null!=t&&0<t.length?z.filterMap(e,t):e={},e.hasOwnProperty("ns_st_cl")||(e.ns_st_cl="0"),e.hasOwnProperty("ns_st_pn")||(e.ns_st_pn="1"),e.hasOwnProperty("ns_st_tp")||(e.ns_st_tp="1"),r.setPauses(0),r.setStarts(0),r.setBufferingTime(0),r.setBufferingTimestamp(-1),r.setPlaybackTime(0),r.setPlaybackTimestamp(-1)},setLabels:function(t,n){null!=t&&z.extend(e,t),r.setRegisters(e,n)},getLabels:function(){return e},setLabel:function(t,n){var e={};e[t]=n,r.setLabels(e,null)},getLabel:function(t){return e[t]},getClipId:function(){return void 0!==n&&null!=n||r.setClipId("1"),n},setClipId:function(t){n=t},setRegisters:function(t,n){var e=t.ns_st_cn;null!=e&&(r.setClipId(e),delete t.ns_st_cn),null!=(e=t.ns_st_bt)&&(u=Number(e),delete t.ns_st_bt),s("ns_st_cl",t),s("ns_st_pn",t),s("ns_st_tp",t),s("ns_st_ub",t),s("ns_st_br",t),n!=tt.PLAYING&&null!=n||null!=(e=t.ns_st_sq)&&(a=Number(e),delete t.ns_st_sq),n==tt.BUFFERING||null!=(e=t.ns_st_pt)&&(o=Number(e),delete t.ns_st_pt),n!=tt.PAUSED&&n!=tt.IDLE&&null!=n||null!=(e=t.ns_st_pc)&&(i=Number(e),delete t.ns_st_pc)},createLabels:function(t,n){n=n||{};return n.ns_st_cn=r.getClipId(),n.ns_st_bt=String(r.getBufferingTime()),t!=Z.PLAY&&null!=t||(n.ns_st_sq=String(a)),t!=Z.PAUSE&&t!=Z.END&&t!=Z.KEEP_ALIVE&&t!=Z.HEART_BEAT&&null!=t||(n.ns_st_pt=String(r.getPlaybackTime()),n.ns_st_pc=String(i)),z.extend(n,r.getLabels()),n},incrementPauses:function(){i++},incrementStarts:function(){a++},getBufferingTime:function(){var t=u;return 0<=_&&(t+=+new Date-_),t},setBufferingTime:function(t){u=t},getPlaybackTime:function(){var t=o;return 0<=c&&(t+=+new Date-c),t},setPlaybackTime:function(t){o=t},getPlaybackTimestamp:function(){return c},setPlaybackTimestamp:function(t){c=t},getBufferingTimestamp:function(){return _},setBufferingTimestamp:function(t){_=t},getPauses:function(){return i},setPauses:function(t){i=t},getStarts:function(){return a},setStarts:function(t){a=t}}),e={},r.reset()},et=function(){var s,e,r=this,n=null,i=0,a=0,u=0,_=0,o=0,c=0,l=!1;z.extend(this,{reset:function(t){null!=t&&0<t.length?z.filterMap(e,t):e={},r.setPlaylistId(+new Date+"_"+c),r.setBufferingTime(0),r.setPlaybackTime(0),r.setPauses(0),r.setStarts(0),r.setRebufferCount(0),l=!1},setLabels:function(t,n){null!=t&&z.extend(e,t),r.setRegisters(e,n)},getLabels:function(){return e},setLabel:function(t,n){var e={};e[t]=n,r.setLabels(e,null)},getLabel:function(t){return e[t]},getClip:function(){return n},getPlaylistId:function(){return s},setPlaylistId:function(t){s=t},setRegisters:function(t,n){var e=t.ns_st_sp;null!=e&&(i=Number(e),delete t.ns_st_sp),null!=(e=t.ns_st_bc)&&(u=Number(e),delete t.ns_st_bc),null!=(e=t.ns_st_bp)&&(_=Number(e),delete t.ns_st_bp),null!=(e=t.ns_st_id)&&(s=e,delete t.ns_st_id),n==tt.BUFFERING||null!=(e=t.ns_st_pa)&&(o=Number(e),delete t.ns_st_pa),n!=tt.PAUSED&&n!=tt.IDLE&&null!=n||null!=(e=t.ns_st_pp)&&(a=Number(e),delete t.ns_st_pp)},createLabels:function(t,n){n=n||{};return n.ns_st_bp=String(r.getBufferingTime()),n.ns_st_sp=String(i),n.ns_st_id=String(s),0<u&&(n.ns_st_bc=String(u)),t!=Z.PAUSE&&t!=Z.END&&t!=Z.KEEP_ALIVE&&t!=Z.HEART_BEAT&&null!=t||(n.ns_st_pa=String(r.getPlaybackTime()),n.ns_st_pp=String(a)),t!=Z.PLAY&&null!=t||r.didFirstPlayOccurred()||(n.ns_st_pb="1",r.setFirstPlayOccurred(!0)),z.extend(n,r.getLabels()),n},incrementStarts:function(){i++},incrementPauses:function(){a++,n.incrementPauses()},setPlaylistCounter:function(t){c=t},incrementPlaylistCounter:function(){c++},addPlaybackTime:function(t){0<=n.getPlaybackTimestamp()&&(t=t-n.getPlaybackTimestamp(),n.setPlaybackTimestamp(-1),n.setPlaybackTime(n.getPlaybackTime()+t),r.setPlaybackTime(r.getPlaybackTime()+t))},addBufferingTime:function(t){0<=n.getBufferingTimestamp()&&(t=t-n.getBufferingTimestamp(),n.setBufferingTimestamp(-1),n.setBufferingTime(n.getBufferingTime()+t),r.setBufferingTime(r.getBufferingTime()+t))},getBufferingTime:function(){var t=_;return 0<=n.getBufferingTimestamp()&&(t+=+new Date-n.getBufferingTimestamp()),t},setBufferingTime:function(t){_=t},getPlaybackTime:function(){var t=o;return 0<=n.getPlaybackTimestamp()&&(t+=+new Date-n.getPlaybackTimestamp()),t},setPlaybackTime:function(t){o=t},getStarts:function(){return i},setStarts:function(t){i=t},getPauses:function(){return a},setPauses:function(t){a=t},getRebufferCount:function(){return u},incrementRebufferCount:function(){u++},setRebufferCount:function(t){u=t},didFirstPlayOccurred:function(){return l},setFirstPlayOccurred:function(t){l=t}}),n=new m,e={},r.reset()},P=(l={},p=f=-1,z.extend(b,{activeIndex:p,newInstance:L,new:L,destroyInstance:y,destroy:y,newPlaylist:function(t){return t=t||{},E().setPlaylist(t),E().getPlaylist()},newClip:function(t,n,e){return t=t||{},"number"==typeof n&&(t.ns_st_cn=n),E().setClip(t,e),E().getClip()},notify:function(t,n,e){return void 0!==t&&(e=e||null,n=n||{},E().notify(t,n,e))},setLabels:function(t){void 0!==t&&E().setLabels(t)},getLabels:function(){return E().getLabels()},setPlaylistLabels:function(t){void 0!==t&&E().getPlaylist().setLabels(t)},getPlaylistLabels:function(){return E().getPlaylist().getLabels()},setClipLabels:function(t){void 0!==t&&E().getClip().setLabels(t)},getClipLabels:function(){return E().getClip().getLabels()},resetInstance:function(t){return E().reset(t||{})},resetPlaylist:function(t){return E().getPlaylist().reset(t||{})},resetClip:function(t){return E().getClip().reset(t||{})},viewEvent:function(t){return t=t||{},E().viewNotify(null,t)},customEvent:function(t,n){return 2<arguments.length&&(t=arguments[1],n=arguments[2]),t=t||{},"number"==typeof n&&(t.ns_st_po=n),E().customNotify(t,n)},exportState:function(){return E().exportState()},importState:function(t){E().importState(t)}}),b);function b(t,n){function e(t){var n=0;if(null!=Y)for(var e=0;e<Y.length;e++){var s=Y[e],r=s.playingtime;if(!r||t<r){n=s.interval;break}}return n}function l(){r();var t=e(k.getClip().getPlaybackTime());0<t&&(c=setTimeout(s,0<j?j:t)),j=0}function f(){r();var t=e(k.getClip().getPlaybackTime());j=t-k.getClip().getPlaybackTime()%t,null!=c&&r()}function p(){q=j=0}function s(){q++,L(S(Z.HEART_BEAT,null)),j=0,l()}function r(){null!=c&&(clearTimeout(c),c=null)}function g(){d(),o=setTimeout(i,K)}function i(){L(S(Z.KEEP_ALIVE,null)),V++,g()}function d(){null!=o&&(clearTimeout(o),o=null)}function m(){N==tt.PLAYING&&(k.incrementRebufferCount(),k.incrementPauses(),L(S(Z.PAUSE,null)),V++,N=tt.PAUSED)}function P(){null!=I&&(clearTimeout(I),I=null)}function a(t){return t==tt.PLAYING||t==tt.PAUSED}function b(){T&&(clearTimeout(T),T=null)}function E(t,n,e){if(b(),e)T=setTimeout((o=t,c=n,function(){E(o,c)}),e);else if(null!=(_=t)&&h!=_){var s=h,r=B,e=A(n),i=0<=r?e-r:0;(function(t,n){n=A(n);t==tt.PLAYING?(k.addPlaybackTime(n),f(),d()):t==tt.BUFFERING?(k.addBufferingTime(n),P()):t==tt.IDLE&&(t=z.getKeys(k.getClip().getLabels()),k.getClip().reset(t))})(h,n),_=t,r=A(e=n),e=function(t){var n=-1;return n=t.hasOwnProperty("ns_st_po")?z.getInteger(t.ns_st_po):n}(e),F=e,_==tt.PLAYING?(l(),g(),k.getClip().setPlaybackTimestamp(r),y(_)&&(k.getClip().incrementStarts(),k.getStarts()<1&&k.setStarts(1))):_==tt.PAUSED?y(_)&&k.incrementPauses():_==tt.BUFFERING?(k.getClip().setBufferingTimestamp(r),M&&(P(),D.isPauseOnBufferingEnabled()&&y(tt.PAUSED)&&(I=setTimeout(m,H)))):_==tt.IDLE&&p(),h=t,B=+new Date;for(var a=0,u=O.length;a<u;a++)O[a](s,t,n,i);v(n),k.setRegisters(n,t),k.getClip().setRegisters(n,t);_=S(tt.toEventType(t),n);z.extend(_,n),y(h)&&(L(_),N=h,V++)}var _,o,c}function v(t){var n=t.ns_st_mp;null!=n&&(x=n,delete t.ns_st_mp),null!=(n=t.ns_st_mv)&&(C=n,delete t.ns_st_mv),null!=(n=t.ns_st_ec)&&(V=Number(n),delete t.ns_st_ec)}function L(t,n){(n=void 0===n?!0:n)&&(s=t,R=S(null),z.extend(R,s));var e,s,r=D.getPixelURL();_?(e=_.getAppContext(),n=_.getSalt(),s=_.getPixelURL(),null!=e&&null!=n&&0!=n.length&&null!=s&&0!=s.length&&(n=$.am,s=$.et,s=n.newApplicationMeasurement(_,s.HIDDEN,t,r),_.getQueue().offer(s))):r&&Q.httpGet(function(t,n){for(var e=X.encodeURIComponent||escape,s=[],r=nt.LABELS_ORDER,i=t.split("?"),a=i[0],u=i[1].split("&"),_=0,o=u.length;_<o;_++){var c=u[_].split("="),l=unescape(c[0]),c=unescape(c[1]);l&&(n[l]=c)}for(var f={},_=0,o=r.length;_<o;_++){var p,g=r[_];n.hasOwnProperty(g)&&void 0!==(p=n[g])&&null!=p&&(f[g]=!0,s.push(e(g)+"="+e(n[g])))}for(g in n)f[g]||n.hasOwnProperty(g)&&void 0!==(p=n[g])&&null!=p&&s.push(e(g)+"="+e(n[g]));return t=(t=a+"?"+s.join("&"))+(t.indexOf("&c8=")<0?"&c8="+e(J.title):"")+(t.indexOf("&c7=")<0?"&c7="+e(J.URL):"")+(t.indexOf("&c9=")<0?"&c9="+e(J.referrer):""),i=z.browserAcceptsLargeURLs()?nt.URL_LENGTH_LIMIT:nt.RESTRICTED_URL_LENGTH_LIMIT,t.length>i&&0<t.indexOf("&")&&(a=t.substr(0,i-8).lastIndexOf("&"),t=(t.substring(0,a)+"&ns_cut="+e(t.substring(a+1))).substr(0,i)),t}(r,t))}function y(t){return(t!=tt.PAUSED&&t!=tt.IDLE||N!=tt.IDLE&&null!=N)&&(t!=tt.BUFFERING&&N!=t)}function A(t){var n=-1;return n=t.hasOwnProperty("ns_ts")?Number(t.ns_ts):n}function S(t,n){var e,s,r=1==arguments.length?(e=tt.toEventType(h),t):(e=t,n),i={};return"undefined"!=typeof document&&(i.c7=(s=document).URL,i.c8=s.title,i.c9=s.referrer),null!=r&&z.extend(i,r),i.hasOwnProperty("ns_ts")||(i.ns_ts=String(+new Date)),null==e||i.hasOwnProperty("ns_st_ev")||(i.ns_st_ev=Z.toString(e)),D.isPersistentLabelsShared()&&_&&z.extend(i,_.getLabels()),z.extend(i,D.getLabels()),function(t,n){var e=n||{};{var s;e.ns_st_ec=String(V),e.hasOwnProperty("ns_st_po")||(s=F,n=A(e),(t==Z.PLAY||t==Z.KEEP_ALIVE||t==Z.HEART_BEAT||null==t&&h==tt.PLAYING)&&(s+=n-k.getClip().getPlaybackTimestamp()),e.ns_st_po=z.getInteger(s))}t==Z.HEART_BEAT&&(e.ns_st_hc=String(q))}(e,i),k.createLabels(e,i),k.getClip().createLabels(e,i),i.hasOwnProperty("ns_st_mp")||(i.ns_st_mp=x),i.hasOwnProperty("ns_st_mv")||(i.ns_st_mv=C),i.hasOwnProperty("ns_st_ub")||(i.ns_st_ub="0"),i.hasOwnProperty("ns_st_br")||(i.ns_st_br="0"),i.hasOwnProperty("ns_st_pn")||(i.ns_st_pn="1"),i.hasOwnProperty("ns_st_tp")||(i.ns_st_tp="1"),i.hasOwnProperty("ns_st_it")||(i.ns_st_it="c"),i.ns_st_sv=nt.STREAMSENSE_VERSION,i.ns_type="hidden",i}var u,T,h,_,I,o,c,N,x,C,R,O,D=this,w=500,U=null,B=0,F=0,V=0,k=null,G=!0,M=!0,Y=nt.DEFAULT_HEARTBEAT_INTERVAL,K=nt.DEFAULT_KEEP_ALIVE_INTERVAL,H=nt.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,j=0,q=0,W=!1,$={};Q.autoSelect(),z.extend(this,{reset:function(t){k.reset(t),k.setPlaylistCounter(0),k.setPlaylistId(+new Date+"_1"),k.getClip().reset(t),null==t||t.isEmpty()?u={}:z.filterMap(u,t),V=1,q=0,f(),p(),d(),P(),b(),h=tt.IDLE,B=-1,N=null,x=nt.DEFAULT_PLAYERNAME,C=nt.STREAMSENSE_VERSION,R=null},setPauseOnBufferingInterval:function(t){H=t},getPauseOnBufferingInterval:function(){return H},setKeepAliveInterval:function(t){K=t},getKeepAliveInterval:function(){return K},setHeartbeatIntervals:function(t){Y=t},notify:function(){var t,n=arguments[0],e=3==arguments.length?(t=arguments[1],arguments[2]):(t={},arguments[1]),s=(r=n)==Z.PLAY?tt.PLAYING:r==Z.PAUSE?tt.PAUSED:r==Z.BUFFER?tt.BUFFERING:r==Z.END?tt.IDLE:null,r=z.extend({},t);A(t=r)<0&&(t.ns_ts=String(+new Date)),r.hasOwnProperty("ns_st_po")||(r.ns_st_po=z.getInteger(e).toString()),n==Z.PLAY||n==Z.PAUSE||n==Z.BUFFER||n==Z.END?D.isPausePlaySwitchDelayEnabled()&&a(h)&&a(s)&&(h!=tt.PLAYING||s!=tt.PAUSED||T)?E(s,r,w):E(s,r):(n=S(n,r),z.extend(n,r),L(n,!1),V++)},getLabels:function(){return u},getState:function(){return h},setLabels:function(t){null!=t&&(null==u?u=t:z.extend(u,t))},getLabel:function(t){return u[t]},setLabel:function(t,n){null==n?delete u[t]:u[t]=n},setPixelURL:function(t){if(null==t||0==t.length)return null;var n=decodeURIComponent||unescape,e=t.indexOf("?");if(0<=e){if(e<t.length-1){for(var s=t.substring(e+1).split("&"),r=0,i=s.length;r<i;r++){var a=s[r].split("=");2==a.length?D.setLabel(a[0],n(a[1])):1==a.length&&D.setLabel(nt.PAGE_NAME_LABEL,n(a[0]))}t=t.substring(0,e+1)}}else t+="?";return U=t},getPixelURL:function(){return U||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?U=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?U=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},isPersistentLabelsShared:function(){return G},setPersistentLabelsShared:function(t){G=t},isPauseOnBufferingEnabled:function(){return M},setPauseOnBufferingEnabled:function(t){M=t},isPausePlaySwitchDelayEnabled:function(){return W},setPausePlaySwitchDelayEnabled:function(t){W=t},setPausePlaySwitchDelay:function(t){t&&0<t&&(w=t)},getPausePlaySwitchDelay:function(){return w},setClip:function(t,n){var e=!1;return h==tt.IDLE&&(k.getClip().reset(),k.getClip().setLabels(t,null),n&&k.incrementStarts(),e=!0),e},setPlaylist:function(t){var n=!1;return h==tt.IDLE&&(k.incrementPlaylistCounter(),k.reset(),k.getClip().reset(),k.setLabels(t,null),n=!0),n},importState:function(t){reset();t=z.extend({},t);k.setRegisters(t,null),k.getClip().setRegisters(t,null),v(t),V++},exportState:function(){return R},getVersion:function(){return nt.STREAMSENSE_VERSION},addListener:function(t){O.push(t)},removeListener:function(t){O.splice(z.indexOf(t,O),1)},getClip:function(){return k.getClip()},getPlaylist:function(){return k}}),z.extend(this,{adNotify:function(t,n,e){(n=n||{}).ns_st_ad=1,t>=Z.AD_PLAY&&t<=Z.AD_CLICK&&D.notify(t,n,e)},customNotify:function(t,n){D.notify(Z.CUSTOM,t,n)},viewNotify:function(t,n){(t=t||D.getPixelURL())&&function(t,n){var e=t||"",p="undefined",t=X.comScore||X.sitestat||function(t){var n,e,s,r,i="comScore=",a=J.cookie,u="",_="indexOf",o="length",c=z.browserAcceptsLargeURLs()?nt.URL_LENGTH_LIMIT:nt.RESTRICTED_URL_LENGTH_LIMIT,l="&ns_",f=X.encodeURIComponent||escape;if(a[_](i)+1)for(s=0,r=(e=a.split(";"))[o];s<r;s++)(n=e[s][_](i))+1&&(u="&"+unescape(e[s].substring(n+i[o])));(t+=l+"_t="+ +new Date+l+"c="+(J.characterSet||J.defaultCharset||"")+u).length>c&&0<t.indexOf("&")&&(a=t.substr(0,c-8).lastIndexOf("&"),t=(t.substring(0,a)+l+"cut="+f(t.substring(a+1))).substr(0,c)),Q.httpGet(t),typeof ns_p==p&&(ns_p={src:t}),ns_p.lastMeasurement=t};if(typeof n!=p){var s,r=[],i=X.encodeURIComponent||escape;for(s in n)n.hasOwnProperty(s)&&r.push(i(s)+"="+i(n[s]));/[\?\&]$/.test(e)||(e+="&"),e+=r.join("&")}t(e)}(t,n)}}),ns_.comScore&&($=ns_.comScore.exports,_=$.c()),u={},V=1,h=tt.IDLE,k=new et,q=0,p(),W=!(M=!(I=null)),N=T=o=c=null,F=0,O=[],D.reset(),t&&D.setLabels(t),n&&D.setPixelURL(n)}function E(t,n){return l[p]||L(t,n)}function v(){p=-1;for(var t=0;t<=f;t++)if(l.hasOwnProperty(t)){p=t;break}return ns_.StreamSense.activeIndex=p}function L(t,n){return n=n||null,(t=t||null)&&"object"==typeof t&&(n=t,t=null),l[++f]=new ns_.StreamSense(n,t),v(),l[f]}function y(){var t=!1,n=p;if("number"==typeof arguments[0]&&isFinite(arguments[0]))n=arguments[0];else if(arguments[0]instanceof ns_.StreamSense)for(var e in l)if(l[e]===arguments[0]){n=e;break}return l.hasOwnProperty(n)&&(t=l[n],delete l[n],t.reset(),v()),t}return P.AdEvents=_,P.PlayerEvents=Z,ns_.StreamingTag=ns_.StreamingTag||function(){function t(t){function s(t){return z.exists(t)||(t={}),z.exists(t.ns_st_ci)||(t.ns_st_ci="0"),z.exists(t.c3)||(t.c3="*null"),z.exists(t.c4)||(t.c4="*null"),z.exists(t.c6)||(t.c6="*null"),t}function n(t){return 0<c&&c<=t?l+=t-c:l=0,l}function r(t){g.getState()!=tt.IDLE&&g.getState()!=tt.PAUSED?g.notify(Z.END,n(t)):g.getState()==tt.PAUSED&&g.notify(Z.END,l)}function i(t,n,e){if(z.exists(t)&&z.exists(n)&&z.exists(e)){n=n[t],t=e[t];return z.exists(n)&&z.exists(t)&&n===t}return!1}function a(t,n){r(t);var e={ns_st_cn:++o,ns_st_pn:"1",ns_st_tp:"0"};z.extend(e,n),g.setClip(e),f=n,c=t,l=0,g.notify(Z.PLAY,l)}function e(t){var n=+new Date;r(n),o++,t=s(t);var e={ns_st_cn:o,ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};z.extend(e,t),g.setClip(e),l=0,g.notify(Z.PLAY,l),c=n,p=!1}function u(t){var n,e=+new Date;t=s(t),p?i("ns_st_ci",f,n=t)&&i("c3",f,n)&&i("c4",f,n)&&i("c6",f,n)?(g.getClip().setLabels(t),g.getState()!=tt.PLAYING&&(c=e,g.notify(Z.PLAY,l))):a(e,t):a(e,t),p=!0}var _,o=0,c=0,l=0,f=null,p=!1,g=new P,d=!1;z.extend(this,{playAdvertisement:function(){d&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead.");e({ns_st_ct:"va"})},playVideoAdvertisement:function(t){var n={ns_st_ct:"va"};t&&z.extend(n,t),e(n)},playAudioAdvertisement:function(t){var n={ns_st_ct:"aa"};t&&z.extend(n,t),e(n)},playContentPart:function(t){d&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var n={ns_st_ct:"vc"};t&&z.extend(n,t),u(n)},playVideoContentPart:function(t){var n={ns_st_ct:"vc"};t&&z.extend(n,t),u(n)},playAudioContentPart:function(t){var n={ns_st_ct:"ac"};t&&z.extend(n,t),u(n)},stop:function(){var t=+new Date;g.notify(Z.PAUSE,n(t))}}),!ns_.comScore&&z.exists(t)&&(d=z.isTrue(t.debug),z.exists(t.customerC2)?(_=t.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b"),g.setPixelURL(_+".scorecardresearch.com/p?c1=2"),g.setLabel("c2",t.customerC2)):(g.setPixelURL(""),d&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration."))),g.setLabel("ns_st_it","r")}return t}(),P}();

var uLightBox={skeleton:'<div id="uLightBoxOverlay" style="display:none" class="opaque"><div id="uLightBox" class="shadow top bottom" style="display:none"><div id="lbHeader" class="top"></div><div id="lbContent"></div><div id="lbFooter" class="bottom"></div></div></div>',settings:{},init:function(t){uLightBox.settings=t,$("body").append(uLightBox.skeleton),uLightBox.settings.override&&($("<script />").attr({type:"text/javascript"}).html("function alert(val){ uLightBox.alert({ title: 'Alert', text: val, rightButtons: ['OK'] }); }").appendTo("head"),"none"==uLightBox.settings.background||"white"!=uLightBox.settings.background&&"black"!=uLightBox.settings.background?$("#uLightBoxOverlay").addClass("none"):$("#uLightBoxOverlay").addClass(uLightBox.settings.background)),uLightBox.settings.centerOnResize&&$(window).bind("resize",function(){uLightBox.resize()})},alert:function(t){if(uLightBox.isOpen())return!1;if($("#uLightBox").css({width:t.width}),uLightBox.resize(),$("#uLightBox #lbHeader").html("<header>"+t.title+"</header>"),buttons="",lb=t.leftButtons,rb=t.rightButtons,lb)for(var i=t.leftButtons.length-1;0<=i;i--)buttons+='<input type="button" class="flat" value="'+t.leftButtons[i]+'">';if(rb)for(i=t.rightButtons.length-1;0<=i;i--)buttons+='<input type="button" class="flat floatRight" value="'+t.rightButtons[i]+'">';lb||rb||(buttons+='<input type="button" class="flat floatRight" value="OK">'),$("#uLightBox #lbFooter").html(buttons),$("#uLightBox #lbContent").html(t.text),uLightBox.listen(),uLightBox.settings.fade?$("#uLightBoxOverlay").fadeIn():$("#uLightBoxOverlay").show(),(window.jQuery.ui?$("#uLightBox").draggable({handle:"#lbHeader",containment:"parent"}):$("#uLightBox")).show(),"function"==typeof t.opened&&t.opened.call(this),"function"==typeof t.onClick&&(uLightBox.onClick=t.onClick)},isOpen:function(){return"block"==$("#uLightBox").css("display")},clear:function(){$("#uLightBoxOverlay").remove(),uLightBox.settings.fade?$("#uLightBoxOverlay").fadeOut():$("#uLightBoxOverlay").hide(),$("body").append(uLightBox.skeleton),uLightBox.resize()},listen:function(){$("#lbFooter input").each(function(){$(this).attr({id:this.value})}),$("#lbFooter input").click(function(){uLightBox.action($(this).val())})},action:function(t){"Cancel"!=t&&"Close"!=t&&"Quit"!=t&&"Back"!=t&&"OK"!=t||uLightBox.clear(),uLightBox.onClick(t)},resize:function(){var t=$("#uLightBox"),i=(parseInt(t.css("height").replace("px","")),parseInt(t.css("width").replace("px","")));t.css({top:$(window).height()/2-100+"px",left:($(window).width()-i)/2+"px"})},onClick:function(){},destroy:function(){$("#uLightBoxOverlay").remove(),$(window).unbind("resize")}};

YUI.add("selector-native",function(e,r){!function(d){d.namespace("Selector");var t="compareDocumentPosition",_="ownerDocument",i={_types:{esc:{token:"",re:/\\[:\[\]\(\)#\.\'\>+~"]/gi},attr:{token:"",re:/(\[[^\]]*\])/g},pseudo:{token:"",re:/(\([^\)]*\))/g}},useNative:!0,_escapeId:function(e){return e=e&&e.replace(/([:\[\]\(\)#\.'<>+~"])/g,"\\$1")},_compare:"sourceIndex"in d.config.doc.documentElement?function(e,r){e=e.sourceIndex,r=r.sourceIndex;return e===r?0:r<e?1:-1}:d.config.doc.documentElement[t]?function(e,r){return 4&e[t](r)?-1:1}:function(e,r){var t,o;return e&&r&&((t=e[_].createRange()).setStart(e,0),(o=r[_].createRange()).setStart(r,0),o=t.compareBoundaryPoints(1,o)),o},_sort:function(e){return e&&((e=d.Array(e,0,!0)).sort&&e.sort(i._compare)),e},_deDupe:function(e){for(var r,t=[],o=0;r=e[o++];)r._found||((t[t.length]=r)._found=!0);for(o=0;r=t[o++];)r._found=null,r.removeAttribute("_found");return t},query:function(e,r,t,o){r=r||d.config.doc;var c,n,u=[],a=d.Selector.useNative&&d.config.doc.querySelector&&!o,s=[[e,r]],l=a?d.Selector._nativeQuery:d.Selector._bruteQuery;if(e&&l){for(o||a&&!r.tagName||(s=i._splitQueries(e,r)),n=0;c=s[n++];)c=l(c[0],c[1],t),(c=!t?d.Array(c,0,!0):c)&&(u=u.concat(c));1<s.length&&(u=i._sort(i._deDupe(u)))}return t?u[0]||null:u},_replaceSelector:function(e){var r,t=d.Selector._parse("esc",e);return e=d.Selector._replace("esc",e),r=d.Selector._parse("pseudo",e),e=i._replace("pseudo",e),{esc:t,attrs:d.Selector._parse("attr",e),pseudos:r,selector:e=d.Selector._replace("attr",e)}},_restoreSelector:function(e){var r=e.selector,r=d.Selector._restore("attr",r,e.attrs);return r=d.Selector._restore("pseudo",r,e.pseudos),d.Selector._restore("esc",r,e.esc)},_replaceCommas:function(e){var r=d.Selector._replaceSelector(e);return(e=r.selector)&&(e=e.replace(/,/g,""),r.selector=e,e=d.Selector._restoreSelector(r)),e},_splitQueries:function(e,r){var t,o,c,n=(e=-1<e.indexOf(",")?d.Selector._replaceCommas(e):e).split(""),u=[],a="";if(r)for(1===r.nodeType&&((t=d.Selector._escapeId(d.DOM.getId(r)))||(t=d.guid(),d.DOM.setId(r,t)),a='[id="'+t+'"] '),o=0,c=n.length;o<c;++o)e=a+n[o],u.push([e,r]);return u},_nativeQuery:function(r,t,o){if((d.UA.webkit||d.UA.opera)&&-1<r.indexOf(":checked")&&d.Selector.pseudos&&d.Selector.pseudos.checked)return d.Selector.query(r,t,o,!0);try{return t["querySelector"+(o?"":"All")](r)}catch(e){return d.Selector.query(r,t,o,!0)}},filter:function(e,r){var t,o,c=[];if(e&&r)for(t=0;o=e[t++];)d.Selector.test(o,r)&&(c[c.length]=o);return c},test:function(e,r,t){var o,c,n,u,a,s,l,i,f=!1,p=!1;if(e&&e.tagName)if("function"==typeof r)f=r.call(e,e);else{for(o=r.split(","),t||d.DOM.inDoc(e)||((r=e.parentNode)?t=r:((u=e[_].createDocumentFragment()).appendChild(e),t=u,p=!0)),t=t||e[_],(a=d.Selector._escapeId(d.DOM.getId(e)))||(a=d.guid(),d.DOM.setId(e,a)),s=0;i=o[s++];){for(i+='[id="'+a+'"]',n=d.Selector.query(i,t),l=0;c=n[l++];)if(c===e){f=!0;break}if(f)break}p&&u.removeChild(e)}return f},ancestor:function(e,r,t){return d.DOM.ancestor(e,function(e){return d.Selector.test(e,r)},t)},_parse:function(e,r){return r.match(d.Selector._types[e].re)},_replace:function(e,r){e=d.Selector._types[e];return r.replace(e.re,e.token)},_restore:function(e,r,t){if(t)for(var o=d.Selector._types[e].token,c=0,n=t.length;c<n;++c)r=r.replace(o,t[c]);return r}};d.mix(d.Selector,i,!0)}(e)},"3.12.0",{requires:["dom-base"]});

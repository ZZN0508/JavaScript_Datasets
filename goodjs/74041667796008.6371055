!function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist",r(r.s=119)}([function(e,t,n){function i(e){return"function"==typeof e}n(1),e.exports={inherit:function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},asArray:function(e){return null==e?[]:Array.isArray(e)?e:[e]},trim:function(n){return Object.keys(n).reduce(function(e,t){return void 0!==n[t]&&(e[t]=n[t]),e},{})},isFunction:i,isPromise:function(e){return"object"==typeof e&&i(e.then)}}},function(e,t,n){n=n(46);e.exports=(e=window.Promise,/\{\s*\[native code\]\s*\}/.test(""+e)?window.Promise:n)},function(e,t){var n={},i={};e.exports={register:function(e,t){n[e]||(n[e]=t,(i[e]||[]).forEach(function(e){e(t)}))},shim:function(e,t){n[e]?t(n[e]):(i[e]||(i[e]=[])).push(t)}}},function(e,t,n){var i=n(1),r=n(4),o=n(17),s=n(16),a="srcdoc"in document.createElement("iframe")&&!o.isIOSLine?r.nop:function(e){e.querySelectorAll&&Array.prototype.forEach.call(e.querySelectorAll("iframe"),c)};function c(e){var t,n=e.getAttribute("srcdoc");!e.getAttribute("src")&&n&&(o.isIOSLine?(t='javascript: window.frameElement.getAttribute("data-polyfill-srcdoc");',e.removeAttribute("srcdoc"),e.setAttribute("data-polyfill-srcdoc",n),e.setAttribute("src",t)):(t="javascript: '"+n.replace(/'/g,"\\'")+"'",e.setAttribute("src",t),e.contentWindow&&(e.contentWindow.location=t)))}function u(e){Array.prototype.slice.call(e).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}function d(t,n){return n?function(e){t.insertBefore(e,n)}:t.appendChild.bind(t)}function l(e,t,n){switch(n=Array.prototype.slice.call(n),t){case"BEFORE":Array.prototype.forEach.call(n,d(e.parentNode,e));break;case"AFTER":Array.prototype.forEach.call(n,d(e.parentNode,e.nextSibling));break;case"ADD":Array.prototype.forEach.call(n,d(e));break;case"ADD_FRONT":Array.prototype.forEach.call(n,d(e,e.firstChild));break;case"REPLACE":l(e,"BEFORE",n),u([e]);break;case"INNER":e.innerHTML="",l(e,"ADD",n);break;case"REPLACE_HIDE":l(e,"BEFORE",n),e.style.display="none";break;default:throw new Error("Unreconigzed position type: "+t)}}var h,p=Object.freeze({overflow:"hidden",border:0,frameBorder:0,scrolling:"no",marginHeight:0,marginWidth:0,$margin:"0",$padding:"0",src:"about:blank"});function f(e,t){var n=(t=t||{}).interval||100,t=t.retryLimit||20;return s.waitFor$(n,t,function(){try{return e.contentWindow&&e.contentWindow.document||void 0}catch(e){return}})}function m(e,t){e.open().write(t),e.close()}function _(e,t){var n,i=document.createElement(e);for(n in t)0===n.indexOf("$")?i.style[n.substring(1)]=t[n]:i[n]=t[n];return i}try{h=window.self!==window.top}catch(e){h=!0}var v,g=window.$sf&&window.$sf.ext,r=h&&g&&g.inViewPercentage;e.exports={raf$:function(){return window.requestAnimationFrame?new i(window.requestAnimationFrame.bind(void 0)):i.resolve()},placeNodes:function(e,t,n){switch(t){case"BEFORE":case"AFTER":case"ADD":case"ADD_FRONT":return l(e,t,n),u.bind(void 0,n);case"REPLACE":var i=n.length?n[0]:e.nextSibling;return l(e,"REPLACE",n),function(){l(i,"BEFORE",[e]),u(n)};case"INNER":var r=Array.prototype.slice.call(e.childNodes);return l(e,"INNER",n),l.bind(void 0,e,"INNER",r);case"REPLACE_HIDE":var o=e.style.display;return l(e,"REPLACE_HIDE",n),function(){u(n),e.style.display=o};default:throw new Error("Unreconigzed position type: "+t)}},createFriendlyIframe:function(){return _("iframe",p)},writeDocument:m,getDocument$:f,writeFriendlyIframe$:function(e,t){return f(e).then(function(e){m(e,t)})},isInIframe:h,isInSafeframe:r,isInDOM:function(e){return e.ownerDocument.body.contains(e)},listenToSafeFrameStatus:function(e){return void 0===v&&(v=[],g.register(window.innerWidth,window.innerHeight,function(t,n){v.forEach(function(e){try{e(t,n)}catch(e){}})})),v.push(e),function(e){0<=(e=v&&v.indexOf(e))&&v.splice(e,1)}.bind(void 0,e)},elementBuilder:_,buildElementsFromHtml:function(e,t){if(void 0!==e.nodeType)return[e];var n=document.createElement("div");for(n.innerHTML=e;t&&t--;)n=n.firstElementChild;return a(n),Array.prototype.slice.call(n.childNodes)},onWindowChange:function(e,t){return!1!==t&&(e=s.throttle(e,"number"==typeof t?t:100)),window.addEventListener("scroll",e),window.addEventListener("resize",e),function(){window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},processIframeDescendants:a,makeFullWidth:function(e){var t=e.style;t.display="inline-block",t.position="relative",t.width="100%",t.marginLeft=t.marginRight="0";var n,i,r,o=e.getBoundingClientRect();0!==o.width&&(r=(n=function(e){for(var t=e.ownerDocument;(e=e.parentNode)!==t;)if("visible"!==window.getComputedStyle(e).overflowX)return e}(e))&&n.getBoundingClientRect(),i=n?n.clientWidth:e.ownerDocument.defaultView.innerWidth,e=(n?r.left:0)-o.left,r=o.right-(n?r.right:i),t.width=i+"px",t.marginLeft=e+"px",t.marginRight=r+"px")},getLang:function(){var e=document.documentElement,e=e.lang||e.getAttribute("xml:lang");if(!("string"!=typeof e||e.length<2))return e.substring(0,2).toLowerCase()}}},function(e,t,n){var i=n(1),r=n(0);function o(){}function s(e){return e}e.exports={nop:o,nop$:function(){return i.resolve()},unsupported:function(){throw new Error("Unsupported operation")},unimplemented:function(){throw new Error("Unimplemented function")},identity:s,sequence:function(){var n=Array.prototype.filter.call(arguments,r.isFunction);switch(n.length){case 0:return o;case 1:return n[0];default:return function(){for(var e=0,t=n.length;e<t;e++)n[e].apply(this,arguments)}}},first:function(e){switch(e.length){case 0:return;case 1:return e[0]();default:return e.slice().reverse().reduce(function(t,n){return function(e){if(void 0!==e)return t(e);e=n();return void 0===e?t():r.isPromise(e)&&t!==s?e.then(t):e}},s)()}},catch:function(e){return function(){try{e.apply(this,arguments)}catch(e){console.error(e)}}}}},function(e,t){function i(e,t,n){this._adcode=!0,this.type=e||i.TYPES.GENERAL_ERROR,this.cause=t,this.context=n||{};n=Number(this.type.code);this.isWarning=700<=n&&n<800,this.isUserError=800<=n&&n<900}i.isAdcodeError=function(e){return e&&!0===e._adcode},i.prototype.toString=function(){var e="";if(this.context&&0<Object.keys(this.context).length)try{e=" "+JSON.stringify(this.context)}catch(e){}return"["+this.type.code+"] "+this.type.message+e},i.TYPES={SPACE_ELEMENT_NOT_FOUND:{code:"101",message:"Space element not found",sampling:.001},INVALID_AD_TAG:{code:"102",message:"Invalid ad tag",sampling:.001},INVALID_PRODUCT_TYPE:{code:"103",message:"Invalid product type",sampling:.001},AD_REQUEST_FAILURE:{code:"104",message:"Ad request failure"},PLAN_REQUEST_FAILURE:{code:"105",message:"Plan request failure"},INVALID_SSP_AD_RESPONSE:{code:"202",message:"Invalid SSP ad response"},DETACHED_IFRAME_CONTAINER:{code:"203",message:"Detached iframe container"},INVALID_SSP_PLAN_RESPONSE:{code:"204",message:"Invalid SSP plan response"},RENDERING_ERROR:{code:"300",message:"Rendering error",sampling:.001},INVALID_BANNER_IFRAME_MESSAGE_FORMAT:{code:"302",message:"Invalid banner iframe message format"},INVALID_AD_CONTAINER_TEMPLATE:{code:"303",message:"Invalid ad container template"},FREAKOUT_TIMEOUT:{code:"304",message:"FreakOut timeout",sampling:.001},TARGET_DETACHED:{code:"305",message:"Target element has been detached from parent"},ILLEGAL_TEMPLATE:{code:"306",message:"Template format is illegal or content is empty",sampling:.001},TRACKER_ERROR:{code:"400",message:"Tracker error"},INVALID_TRACKER_URL_FORMAT:{code:"401",message:"Invalid tracker URL format"},USE_OF_DEPRECATED_FEATURE:{code:"700",message:"Use of deprecated feature",sampling:.001},USE_OF_HIDDEN_FIF:{code:"701",message:"Use of data-rmax-hidden-fif attribute",sampling:.001},MOLECULAR_SETUP_SCRIPT_ERROR:{code:"701",message:"Error in molecular ad setup script"},MOLECULAR_MAIN_SCRIPT_ERROR:{code:"702",message:"Error in molecular ad main script"},MOLECULAR_CUSTOM_ERROR:{code:"703",message:"Error reported by molecular ad setup/main script"},MOLECULAR_CUSTOM_SCRIPT_ERROR:{code:"704",message:"Custom script loading error / None existing custom script"},HOOK_HANDLER_ERROR:{code:"800",message:"Hook handler error",sampling:.01},GENERAL_ERROR:{code:"900",message:"General error"},MODULE_ERROR:{code:"901",message:"Module error"}},e.exports=i},function(e,t,n){var s=n(1),a=n(15),c=n(14);function u(e,t){var r=!!(t=(t="boolean"==typeof t?{useWithCredentials:t}:t)||{}).useWithCredentials,o=t.headers||{};return new s(function(t,n){var i=new XMLHttpRequest;"withCredentials"in i||c.warn("No 'withCredentials' in HttpRequest"),i.onreadystatechange=function(){var e;4===i.readyState&&(200===i.status?(e=i.responseText,t(e)):n(new Error(i.status+": "+i.statusText)))},i.open("GET",e,!0),Object.keys(o).forEach(function(e){i.setRequestHeader(e,o[e])}),r&&(i.withCredentials=!0),i.send()})}var r=window._rmaxStyles$||(window._rmaxStyles$={}),i=window._rmaxInlineStyles||(window._rmaxInlineStyles={}),o=window._rmaxScripts$||(window._rmaxScripts$={}),d={};e.exports={post:function(e,t){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(t))},get$:u,installCSS:function(e,t){i[e]||(i[e]=!0,(e=document.createElement("style")).textContent=t,document.head.appendChild(e))},loadCSS$:function(e){if(!e)throw new Error("CSS URL cannot be undefined.");return r[e]||(r[e]=(i=e,new s(function(e,t){document.head.querySelector('link[href="'+i+'"]')&&e();var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.addEventListener("load",e,!1),n.addEventListener("error",t,!1),n.href=i,document.head.appendChild(n)})));var i},loadJS:function(e,t,n,i){if(null==e)return null;var r=document.body.querySelector('script[src="'+e+'"]');return r?(n&&n(),null):((r=document.createElement("script")).onload=n,r.onerror=i,r.type="text/javascript",t||r.setAttribute("defer",!0),document.body.appendChild(r),r.src=e,r)},loadJS$:function(e,t){if(!e)throw new Error("JS URL cannot be undefined.");return o[e]||(o[e]=(i=e,r=t,new s(function(e,t){document.querySelector('script[src="'+i+'"]')&&e();var n=document.createElement("script");switch(n.type="text/javascript",n.onload=e,n.onerror=t,r){case"async":n.setAttribute("async","async");break;case"defer":n.setAttribute("defer","defer")}document.body.appendChild(n),n.src=i})));var i,r},importJS$:function(e){if(!e)throw new Error("Cannot import JS from empty URL.");return d[e]||(d[e]=(e=e,r=a(),o=window._moduleResolvers||(window._moduleResolvers={}),u(e).then(function(e){return"var module = {exports: {}};\n(function(module) {\n"+e+'\n})(module);\nwindow._moduleResolvers["'+r+'"](module.exports);'}).then(function(n){return new s(function(e,t){o[r]=e,(i=document.createElement("script")).type="text/javascript",i.text=n,document.body.appendChild(i)})}).then(function(e){return delete o[r],i&&i.parentNode&&i.parentNode.removeChild(i),e}).catch(function(e){throw e})));var i,r,o},encodeQueryParams:function(i){return"?"+Object.keys(i).reduce(function(e,t){var n;return i.hasOwnProperty(t)&&(n=i[t],e.push(encodeURIComponent(t)+(void 0!==n?"="+encodeURIComponent(n):""))),e},[]).join("&")}}},function(e,t){e.exports={BANNER:"BANNER",NATIVE:"NATIVE",NATIVE_GROUPED:"NATIVE-GROUPED",UNIVERSAL:"UNIVERSAL"}},function(e,t){var n={REQUEST:"request",IMPRESSION:"impression",VIEWABLE:"viewable",CLICK:"click",VISIBLE:"visible"},i={START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete"},r={UNMUTE:"unmute",MUTE:"mute",PAUSE:"pause",PLAY:"play"},o={VIDEO_CLICK:"videoClick",COMPANION_CLICK:"companionClick",VIEWABLE_DETERMINED:"viewableDetermined",VIEWABLE_UNDETERMINED:"viewableUndetermined",VIEWED:"viewed",DONE:"done",TIME_SPENT:"timeSpent"},s="progress_".length;function a(n){return Object.keys(n).reduce(function(e,t){return e[n[t]]=!0,e},{})}var c=a(i),u=a(r);e.exports=Object.freeze(Object.assign(n,i,r,o,{ofProgress:function(e){return"progress_"+e},isVideoProgress:function(e){return"string"==typeof e&&(!!c[e]||"progress_"===e.substring(0,s))},isInteractive:function(e){return"string"==typeof e&&!!u[e]||e===n.CLICK||e===o.VIDEO_CLICK||e===o.COMPANION_CLICK}}))},function(e,t,n){var i=n(0),r=n(4),o=n(35);function s(e){o.call(this,e)}i.inherit(s,o),Object.assign(s.prototype,{_appendChild:r.unsupported}),Object.defineProperty(s.prototype,"isLeaf",{value:!0}),e.exports=s},function(e,t,n){var i=n(18),r=n(5);function o(e,t,n){this._component=e,this._thisArg=t,this._onError="function"==typeof n?n:void 0}function s(e){this._component=e,this._emitter=new i,this._hookctx=new o(e,this,this._error.bind(this))}Object.assign(o.prototype,{wrap:function(e,t){return"function"==typeof e&&void 0===t?this._wrapUnnamed(e):this._wrapNamed(e,t)},_wrapNamed:function(e,t){var n=this._thisArg,i=this._error.bind(this,e);return function(){try{t.apply(n,arguments)}catch(e){i(e)}}},_wrapUnnamed:function(e){var n=this._thisArg,i=this._error.bind(this);return function(t){try{e.apply(n,arguments)}catch(e){i(t,e)}}},_error:function(e,t){r.isAdcodeError(t)||(t=new r(r.TYPES.HOOK_HANDLER_ERROR,t,{component:this._component,hook:e})),this._onError&&this._onError(t)}}),Object.defineProperties(s.prototype,{events:{get:function(){return this._emitter.events}}}),Object.assign(s.prototype,{on:function(e,t){return t=this._hookctx.wrap(e,t),this._emitter.on(e,t)},_emit:function(){this._emitter.emit.apply(this._emitter,arguments)},destroy:function(){this._emit("before-destroy"),this._destroy(),this._emitter=this._hookctx=void 0},_destroy:function(){},_error:function(){}}),e.exports=s},function(e,t,n){var i=n(5);e.exports={verifyPlacement:function(e,t){if(!e.parentNode)switch(t){case"REPLACE":case"REPLACE_HIDE":case"BEFORE":case"AFTER":throw new i(i.TYPES.TARGET_DETACHED)}}}},function(e,t){e.exports={GPT:"gpt",DOUBLECLICK:"doubleclick",FREAKOUT:"freakout",FREAKOUT_NATIVE:"freakout-native",FREAKOUT_BANNER:"freakout-banner",NATIVE:"native",BANNER:"banner",IFRAME:"iframe",FRIENDLY_IFRAME:"friendly-iframe",COMBO:"combo",TEST:"test",MOLECULAR:"molecular"}},function(e,t,n){n(1);var i=n(0),r=n(4),o=n(10),s=n(15);function a(e,t,n){o.call(this,"ad"),this.uuid=s(),this.type=e,this.space=t,this.channel=n}i.inherit(a,o),Object.assign(a.prototype,{display$:function(){var e=this;return this._display$().then(function(){e._displayed=!0,e._emitter.emit("display"),e._empty&&e._emitter.emit("empty")})},destroy:function(){this._emitter.emit("destroy"),this._destroy(),this._emitter.clear(),this._view=this._emitter=void 0,this._destroyed=!0},error:function(e){this._emitter.emit("error",e)},_display$:r.unimplemented,_doEmpty:function(){this._empty||(this._empty=!0,this._displayed&&this._emitter.emit("empty"))},_destroy:function(){try{this._teardown&&this._teardown()}catch(e){}}}),Object.defineProperties(a.prototype,{elements:{get:function(){var e=this._element||this._elements;return e&&i.asArray(e)}},empty:{get:function(){return!!this._empty}},filled:{get:function(){return!this._empty}},displayed:{get:function(){return!!this._displayed}},destroyed:{get:function(){return!!this._destroyed}}}),e.exports=a},function(e,t,n){n=n(4).nop;function i(e){return console[e].bind(console,"%cDr%cMax%c","padding: 0.2em 0 0.2em 0.5em; font-weight:700; background: #111; color: #66ffcc","padding: 0.2em 0.5em 0.2em 0; font-weight:700; background: #111; color: #9999ff","background: inherit; color: inherit")}e.exports={print:i,error:i("error"),warn:n,log:n}},function(e,t){e.exports=function(){var n=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)})}},function(e,t,n){var i=n(1);e.exports={version:"4.6.0-release",throttle:function(n,i,r){var o,s,a,c,u=0;r=r||{};function d(){u=!1===r.leading?0:+new Date,o=null,c=n.apply(s,a),o||(s=a=null)}function e(){var e=+new Date;u||!1!==r.leading||(u=e);var t=i-(e-u);return s=this,a=arguments,t<=0||i<t?(o&&(clearTimeout(o),o=null),u=e,c=n.apply(s,a),o||(s=a=null)):o||!1===r.trailing||(o=setTimeout(d,t)),c}return e.cancel=function(){clearTimeout(o),u=0,o=s=a=null},e},waitFor$:function(s,a,c){return"function"==typeof a&&void 0===c&&(c=a,a=void 0),new i(function(t,n){var e,i=0;function r(){e&&clearInterval(e)}function o(){var e;try{e=c()}catch(e){r(),n(e)}void 0!==e?(r(),t(e,i)):(a<=i&&(r(),n(new Error("Reach maximum retry: "+i))),i++)}e=setInterval(o,s),o()})}}},function(e,t,n){"use strict";var i=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,r=(navigator.userAgent||navigator.vendor||window.opera).toLowerCase(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)),s=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(r),a=o||s,c=/MSIE\s([\d.]+)/.test(navigator.userAgent),u=0<=navigator.userAgent.indexOf("Chrome/"),d=-1!==navigator.userAgent.indexOf("Safari")&&!u,l=0<=navigator.userAgent.indexOf("Safari Line"),r=/Safari(?:\/[\d.]+)?\sLine/.test(navigator.userAgent);e.exports={isIOS:i,isMobile:a,isPhone:o,isTablet:s,isIE10OrLess:c,isChromeOrOpera:u,isIOSLine:l,isLine:r,isSafari:d}},function(e,t){function n(){this._handlers={},this._forwards=[],Object.defineProperty(this,"events",{value:Object.freeze({on:this.on.bind(this),once:this.once.bind(this),pipe:this.pipe.bind(this)})})}Object.assign(n.prototype,{on:function(e,t){return this._handlers=this._handlers||{},(this._handlers[e]||(this._handlers[e]=[])).push(t),this._off.bind(this,e,t)},once:function(t,n){var i=this;return this.on(t,function e(){i._off(t,e),n.apply(i,arguments)})},pipe:function(e){return"function"==typeof e&&(e={emit:e}),this._forwards=this._forwards||[],this._forwards.push(e),this._unpipe.bind(this,e)},clear:function(){this._handlers={},this._forwards=[]},emit:function(e){var t=[].slice.call(arguments,1);this._callHandlers(e,t),this._callForwards.apply(this,arguments)},_callHandlers:function(e,t){if(this._handlers){var n=this._handlers[e];if(n&&0!==n.length)for(var i=0,r=(n=n.slice()).length;i<r;i++)n[i].apply(this,t)}},_callForwards:function(){if(this._forwards&&0!==this._forwards.length)for(var e,t=this._forwards.slice(),n=0,i=t.length;n<i&&(e=t[n]);n++)e.emit.apply(e,arguments)},_off:function(e,t){e=this._handlers&&this._handlers[e],t=Array.isArray(e)&&e.indexOf(t);t&&-1<t&&e.splice(t,1)},_unpipe:function(e){e=this._forwards&&this._forwards.indexOf(e);e&&-1<e&&this._forwards.splice(e,1)}}),e.exports=n},function(e,t,n){var i,r=n(1),n=n(22);e.exports=window.rmaxads&&void 0!==window.rmaxads.initializedAt?window.rmaxads:window.rmaxads=(e=window.rmaxads&&window.rmaxads.cmd,e=Object.assign({adHost:window.overrideSupplyAdsHost},e&&{cmd:e},window.rmaxOptions),i=new n(e),e=!window.rmaxOptions||!1!==window.rmaxOptions.autoStart,i.autoStart=e?function(){return i.start()}:function(){return r.resolve()},i)},function(e,t,n){var i=n(1),r=n(2),o=n(0),s=n(4),a=n(3),c=n(21),u=n(59),d=n(5),l=n(62),h=n(29),p=n(8),f=n(65),m=n(99),_=h.VIEWABLE_TIMEOUT,v=h.VIEWABLE_THRESHOLD;function g(e,t,n){if(!n)throw new Error("Element is required");this.element=n,u.call(this,e,t)}o.inherit(g,u),Object.assign(g.prototype,{_init:function(){this._readAttributes(),this.trackerManager=new l(this.element),this.placement=new m(this.element,this.placementOptions),this.element.style.textDecoration="none"},_beforeGetPlan:function(){return this.placement.start(),this.placement.ref$},_afterGetPlan:function(e){this._writeAttribute$("data-rmax-session-id",e.sessionId)},_runChannel$:function(t){if(this._isSessionTimeout()&&"passback"!==t.modType)return i.resolve();if("asiamax"!==t.modType)return this._runAd$(t);var n=this;return this._getAsiaMaxAd$(t).then(function(e){return n._isNonEmptyAd(e)?n._runAd$(Object.assign(t,e)):void 0})},_isSessionTimeout:function(){return 36e5<Date.now()-this.sessionTs},_isNonEmptyAd:function(e){return e&&0<Object.keys(e).filter(function(e){return"trackers"!==e}).length},_trackChannelRequest:function(e){e=(e.trackers||{}).request;e&&0<e.length&&(this.trackerManager.add(p.REQUEST,e),this._fireTracker(p.REQUEST))},_getAsiaMaxAd$:function(e){return this.service.getAsiaMaxAd$(e)},_runAd$:function(e){this._emit("before-channel-module",e);var t=this.ad=this._createAd(e);return this._setupAd(t,e),this._emit("channel-module",t),t.init&&t.init(),t.display$().then(function(){return t.filled?t:void t.destroy()})},_setupAd:function(e,t){e.events.on("error",this._error.bind(this))},_afterRunPlan:function(e){e||(this.element.style.display="none")},_handleEvents:function(e){var t;e?(t=e.channel.trackers||{},this._emit("trackers",t),this._handleImpressionTrackers(e,t),this._handleViewableTrackers(e,t),this._handleScriptTrackers(e,t)):this._handleDoneTracker()},_handleDoneTracker:function(){var e=this.plan.trackers||{},t=e.done;t&&t.length&&(this._emit("track-done"),this.trackerManager.add(p.DONE,e.done),this._fireTracker(p.DONE))},_handleImpressionTrackers:function(e,t){this._emit("impression"),this.trackerManager.add(p.IMPRESSION,t.impression),this._fireTracker(p.IMPRESSION)},_handleViewableTrackers:function(e,t){this.trackerManager.add(p.VIEWABLE,t.viewable),this._monitorViewability()},_handleScriptTrackers:function(e,t){this._scriptTrackers=t.script},_monitorViewability:function(){void 0!==(this.ad&&this.ad.elements)&&(this.viewable$=this._viewable$({visibilityThreshold:v,timeoutThreshold:_}).then(this._doViewable.bind(this)).catch(this._error.bind(this)))},_viewable$:function(e){var t=this.ad&&this.ad.elements,t=this._viewabilityObserver=new c.ViewabilityObserver(t,e);return this._emit("viewability-observer",t,e),t.fulfilled$},_doViewable:function(e){this._emit("viewable",e),this._fireViewableTracker(e),this._installScriptTrackers(this._scriptTrackers)},_createAd:function(e){return new(f.select(e)||this._selectDefaultAdModule(e))(this,e)},_selectDefaultAdModule:s.unimplemented,_unrecognizedChannelTypeError:function(e,t){var n=new Error("Unrecognized channel type: "+t);return new d(d.TYPES.INVALID_SSP_RESPONSE,n,{sessionId:this.sessionId,type:t})},_readAttributes:function(){this._readAdHost(),this._readCommonAttributes(),this._readPlacementAttributes(),this._readDoubleClickAttributes()},_readAdHost:function(){this.sspHost=this.element.getAttribute("data-ssp-host")||void 0},_readCommonAttributes:function(){if(this.spaceId=this.element.getAttribute("data-rmax-space-id"),!this.spaceId)throw new Error("Space ID not found");this.groupId=this.element.getAttribute("data-rmax-group-id")||void 0},_readPlacementAttributes:function(){var e=this.element;this.placementOptions={selector:e.getAttribute("data-target-id"),index:this.helpers.parseNumber(e.getAttribute("data-target-index")),position:e.getAttribute("data-target-pos"),rootSelector:e.getAttribute("data-listen-target-selector")}},_readDoubleClickAttributes:function(){this.targetGptContainer=this.element.getAttribute("data-target-gpt-container"),this.targetDoubleClickContainer=this.element.getAttribute("data-target-dc-container")},_setStatus:function(e){this.status=e,this._writeAttribute$("data-rmax-status",e)},_appendResult:function(e){this.result=this.result?this.result+" -> "+e:e,this._writeAttribute$("data-rmax-result",this.result)},_writeAttribute$:function(e,t){var n=this.element;return a.raf$().then(void 0===t?n.removeAttribute.bind(n,e):n.setAttribute.bind(n,e,t))},_fireTracker:function(e,t){try{this.trackerManager.fire(e,t)}catch(e){this._error(e)}},_fireViewableTracker:function(e){this._fireTracker(p.VIEWABLE,{noAd:e?2:0,requestId:this.sessionId})},_installScriptTrackers:function(e){var t,n,i;!e||0===e.length||(t=this.ad.elements)&&0!==t.length&&(t=o.asArray(t),e=e.map(function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t}),t=t[t.length-1],n=t.parentNode,i=t.nextSibling,e.forEach(i?function(e){n.insertBefore(e,i)}:n.appendChild.bind(n)))},_installRetargetingTracker:function(e){var t;e.codeUrl&&((t=document.createElement("iframe")).src=e.codeUrl,t.style.display="none",t.width=0,t.height=0,this.element.appendChild(t))},_error:function(e){this.service.error(e),u.prototype._error.apply(this,arguments)}});s=Object.freeze({parseDimension:function(e){if(null!=e&&""!==e){if("string"!=typeof e)throw new Error("Expecting a string");return e=e.replace("px",""),Number(e)}},parseNumber:function(e){if(null!=e&&""!==e){if("string"!=typeof e)throw new Error("Expecting a string");return Number(e)}}});Object.defineProperties(g.prototype,{helpers:{value:s}}),r.register("BaseSpace",g),e.exports=g},function(e,t,n){var i=n(1),o=n(29),r=n(4),l=n(30),s=n(31),a=n(16),c=n(14),u=n(3),d=n(17),h=n(57),p=n(58),f=window.IntersectionObserver,m=window.WeakMap||s,s=u.isInIframe&&!u.isInSafeframe;function _(e){return e instanceof Element}function v(e){return void 0===e?[]:Array.isArray(e)?e.filter(_):e.length?Array.prototype.filter.call(e,_):[e]}function g(i){var r,o;return function(e,t,n){if(t=!!t,e!==r||t!==o){try{i(e,t,t?NaN:n)}catch(e){c.error(e)}r=e,o=t}}}function y(i,e){var r=g(e);return function(e,t){var n=!t&&!isNaN(e)&&i<e;r(n,t,e)}}function b(t,e,n){var i=y(e,n),r=new f(function(e){e.forEach(function(e){try{e.target===t&&i(e.intersectionRatio)}catch(e){c.error(e)}})},{threshold:[0,e]});r.observe(t),this.disconnect=function(){r.disconnect()}}b.prototype.update=r.nop;for(var E=[],w=0;w<=1;w+=.05)E.push(w);function x(t,e,n){var i=new m,r=y(e,n),o=new f(function(e){e.forEach(function(e){var t=e.target,n=e.boundingClientRect,e=e.intersectionRect;i.set(t,{visible:e.width*e.height,total:n.width*n.height})});e=t.reduce(function(e,t){t=i.get(t);return t&&(e[0]+=t.visible,e[1]+=t.total),e},[0,0]);r(e[0]/e[1])},{threshold:E});t.forEach(o.observe.bind(o)),this.disconnect=function(){o.disconnect()}}function A(e,t,n){t=t.threshold;return 1===e.length?new b(e[0],t,n):new x(e,t,n)}function k(t,e,n){var i=y(e.threshold,n),r=this,n=this._throttledCheck=a.throttle(function(){var e=function(e,n){if(!(n=u.isInIframe?n:new h(window)))return[NaN,!0];var t=v(e).map(function(e){return new h(e)}).filter(function(e){return!e.isStrcitlyEmpty});if(0===t.length)return[NaN,!1];var i=t.reduce(function(e,t){return e+t.area},0),e=t.reduce(function(e,t){return e+t.intersect(n).area},0);return 0<i?[e/i,!1]:[t.reduce(function(e,t){return e+(n.contain(t)?1:0)},0)/t.length,!1]}(t,r._viewport);i(e[0],e[1])},o.THROTTLE_INTERVAL);u.isInIframe&&!this._viewport||this._listenOnWindowChange(),setTimeout(n,0)}function T(e,t){function n(){i(window.$sf.ext.inViewPercentage()/100)}var i=y(e.threshold,t);this.disconnect=u.listenToSafeFrameStatus(function(e,t){"geom-update"===e&&n()}),setTimeout(n,0)}function R(e,t,n){n=g(n);var i=this;this._disconnectPageObserver=p.observe(this._onPageVisible.bind(this)),this._modern=new A(e,t,function(){!1!==i._pageVisible&&n.apply(void 0,arguments)}),this._createLegacy=function(){return new k(e,t,n)}}function O(e,t,n){return(e=v(e)).length,u.isInSafeframe?new T(t,n):new(f?d.isChromeOrOpera?R:A:k)(e,t,n)}function P(o,e){var s={threshold:e.visibilityThreshold},a={threshold:e.timeoutThreshold},c=!1!==e.fulfillAtUndetermined,u=e.VisibilityObserver||O,d=this;this.fulfilled$=new i(function(t,e){var n=new l(a,function(e){e&&r(!1)}),i=d._visibilityObserver=new u(o,s,function(e,t){c&&t?r(!0):n.update(!t&&e)});function r(e){i.disconnect(),n.disconnect(),t(e)}})}x.prototype.update=r.nop,k.prototype._listenOnWindowChange=function(){this._disconnectWindowChange||(this._disconnectWindowChange=u.onWindowChange(this._throttledCheck,!1))},k.prototype.disconnect=function(){this._disconnectWindowChange&&this._disconnectWindowChange(),this._disconnectWindowChange=this._throttledCheck=void 0},k.prototype.update=function(e){var t;this._throttledCheck&&(e&&(this._viewport=(e=(t=e).window,e=new h({top:0,left:0,bottom:e.height,right:e.width}),(t=t.iframe).bottom=t.bottom||t.top+window.innerHeight,t.right=t.right||t.left+window.innerWidth,t=new h(t),e.intersect(t).offset({left:-t.left,top:-t.top})),this._listenOnWindowChange()),this._throttledCheck())},T.prototype.update=r.nop,R.prototype._onPageVisible=function(e){this._pageVisible!==e&&((this._pageVisible=e)?(this._legacy&&this._legacy.disconnect(),this._legacy=void 0):(this._legacy=this._legacy||this._createLegacy(),this._viewport&&(this._legacy.update(this._viewport),this._viewport=void 0)))},R.prototype.update=function(e){e&&!this._disconnected&&(this._pageVisible?this._viewport=e:this._legacy&&this._legacy.update(e))},R.prototype.disconnect=function(){this._disconnected||(this._disconnected=!0,this._disconnectPageObserver(),this._modern.disconnect(),this._legacy&&this._legacy.disconnect(),this._disconnectPageObserver=this._modern=this._legacy=void 0)},P.prototype.update=function(e){var t=this._visibilityObserver;t&&t.update&&t.update(e)},e.exports={isInRegularIframe:s,VisibilityObserver:O,ViewabilityObserver:P}},function(e,t,n){var i=n(1),r=n(16),o=n(0),s=n(23),a=n(3),c=n(6),u=n(14),d=n(28),l=n(10),h=n(5),p=n(48),f=n(49),m=[".rmax",".rmax-universal"].map(function(e){return"ins"+e+':not([data-rmax-space-picked="true"])'}).join(",");function _(e){l.call(this,"rmaxads"),e=e||{},Object.defineProperty(this,"initializedAt",{value:Date.now()}),this.version=r.version,this._spaceModules={},this.spaces=[],this._spaceIndices={},this.service=new p(this),this.selectors=[],this.lang=a.getLang(),this.referer=s.hostObject.hrefAsReferer,this.sspHost=this.adHost=e.adHost&&s.normalizeHost(e.adHost)||"prod",d.setVersion(this._buildVersion());function t(e){"function"==typeof e&&n(e)(i)}var n=this._hookctx.wrap.bind(this._hookctx,"cmd"),i=this;Object.defineProperty(this,"cmd",{value:Object.freeze({push:t})}),e.cmd&&Array.isArray(e.cmd)&&e.cmd.forEach(t),this._emit("initialize"),this._init()}o.inherit(_,l),Object.assign(_.prototype,{_init:function(){},start:function(){this._emit("before-create-spaces");var e=this._createSpaces();this._emit("create-spaces",e);var t=e.map(this.startSpace.bind(this));return this._emit("start-spaces",e),i.all(t)},_buildVersion:function(){return(this.version||"unknown (no window.rmaxads.version)")+(this.isDev?"/dev":"")},_createSpaces:function(){for(var e,t=this._scanElements(),n=[],i=0,r=t.length;i<r;i++){e=t[i];try{n.push(this.createSpace(e)),e.setAttribute("data-rmax-space-picked","true")}catch(e){}}return n},_scanElements:function(){return Array.prototype.filter.call(document.querySelectorAll(m),this._filterElement.bind(this))},_filterElement:function(e){e=e.getAttribute("data-rmax-space-id");return!f[e]},createSpace:function(e){if(!e)throw new Error("Element is required.");var t=this._getTypeFromElement(e);if(!t)throw new Error("Can not determine space type.");var n=this._spaceModules[t];if(!n)throw new h(h.TYPES.MODULE_ERROR,new Error("Unrecognized space type: "+t));n=new n(this,e);this.spaces.push(n);e=n.spaceId;return n.spaceIndex=this._spaceIndices[e]=void 0===this._spaceIndices[e]?0:this._spaceIndices[e]+1,this._emit("space",n),n},_getTypeFromElement:function(t){var e=this.selectors.find(function(e){return t.matches(e.selector)});return e&&e.type},startSpace:function(e){if(e.started)return i.resolve();try{return e.start$().catch(function(){})}catch(e){return i.resolve()}},register:function(e,t){if(!t)throw new Error("invalid RMAXADS register arguments");var n=t.spaceModule,t=t.selector;this.selectors.push({type:e,selector:t}),this._registerSpaceModule(e,n)},_registerSpaceModule:function(e,t){if(!e)throw new Error("Space type is required");if(!t)throw new Error("Space module is required");this._spaceModules[e]||(this._spaceModules[e]=t)},log:function(){u.log.apply(u,arguments)},_get$:function(e){return c.get$(e,!0)}}),e.exports=_},function(e,t){function n(i){var e=function(e){var t=(e=i||window).document,n="";if(e.self!==e.top)try{t=e.top.document}catch(e){n=t.referrer}return(n=(n=!(n=!n&&t.querySelector('link[rel="canonical"]')?t.querySelector('link[rel="canonical"]').href:n)&&t.querySelector('meta[property="og:url"]')?t.querySelector('meta[property="og:url"]').content:n)||t.location.href).replace(/([^:]\/)\/+/g,"$1")}(i=i||window),t=i.document.createElement("a");return t.href=e,t.href.startsWith("file://")||(t.hrefAsReferer=t.href),t.origin||(t.origin=t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")),t}e.exports={hostObject:n(),getHostObject:n,normalizeHost:function(e){var t=document.createElement("a");t.href=e;e=t.href;if(e&&e.startsWith("file://"))return(n="https://"+e.substring(7))&&n.endsWith("/")?n.substring(0,n.length-1):n;if(t.origin)return t.origin;var n=t.protocol;return(n="http:"!==(n=!n||":"===n?window.location.protocol:n)||"https:"!==n?"https:":n)+"//"+t.hostname+(t.port?":"+t.port:"")}}},function(e,t,n){n=n(4),n=Object.freeze({_bindVideoPlayingEvents:function(e){var t=this._updatePlayingState.bind(this,e,!0),n=this._updatePlayingState.bind(this,e,!1);e.addEventListener("playing",t,!1),e.addEventListener("pause",n,!1),this._unbindVideoPlayingEvents=function(){e.removeEventListener("playing",t,!1),e.removeEventListener("pause",n,!1)}},_unbindVideoPlayingEvents:n.nop,_updatePlayingState:function(e,t){this._playing!==t&&(this._playing=t,this.element.classList.add(t?"playing":"paused"),this.element.classList.remove(t?"paused":"playing"))}});e.exports=n},function(e,t){e.exports={WRAPPER_LIMIT_REACHED:{code:"302",message:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response"},GENERAL_LINEAR_ERROR:{code:"400",message:"General Linear error. Video player is unable to display the Linear Ad"},UNABLE_DISPLAY_COMPANIONAD:{code:"602",message:"Unable to display required Companion"},UNDEFINED_ERROR:{code:"900",message:"Undefined Error"}}},function(e,t,n){var i=n(1),r=n(0),o=n(2),s=n(3),a=n(5),c=n(13),u=n(12),d=n(11);function l(e,t){if(!t.content)throw new a(a.TYPES.ILLEGAL_TEMPLATE,new Error,{content:t.content});c.call(this,u.NATIVE,e,t)}r.inherit(l,c),Object.assign(l.prototype,{_display$:function(){var e=this.space.placement.ref,t=this.space.placement.position;d.verifyPlacement(e,t);var n=this.content||this.channel.content,n=this._elements=s.buildElementsFromHtml(n,this.channel.deepInto);return this._teardown=s.placeNodes(e,t,n),i.resolve()}}),o.register("NativeAd",l),e.exports=l},function(e,t,n){var i=n(0),r=n(2),o=n(102);function s(e,t){o.call(this,e,t)}i.inherit(s,o),Object.assign(s.prototype,{_parsePlanResponse:function(e,t){return this._processPlanResponse(JSON.parse(e),t)},_processPlanResponse:function(e,t){return{sessionId:e.sessionId,channels:this._processPlanChannels(e,t),trackers:e.trackers}},_parseAdResponse:function(e,t,n){return this._processAdResponse(JSON.parse(e),t,n)},_processAdResponse:function(e,t,n){return this._processChannel(e)}}),r.register("JsonAdService",s),e.exports=s},function(e,t,n){var i=n(16),c=n(6),u=n(23),d=n(14),l=n(5),h=i.version;e.exports={error:function(e,t,n){try{null==t&&(t=new Error);var i,r=(t=!l.isAdcodeError(t)?new l(l.TYPES.GENERAL_ERROR,t):t).type,o=t.cause,s=r.code||l.TYPES.GENERAL_ERROR.code,a=t.context?Object.assign({},t.context):{};a.message=r.message+(o&&" caused by: "+(o instanceof window.Event?"["+o.constructor.name+"] "+o.type+": "+o.message:""+o)||""),s===l.TYPES.GENERAL_ERROR.code&&o&&o.stack,(!r.sampling||Math.random()<r.sampling)&&(i=Object.assign({version:h,referer:u.getHostObject().hrefAsReferer,errorCode:s,errorContext:a},n||{}),c.post(e,i))}catch(e){d.error(e)}t&&t.isUserError?window.console.error(t.cause||t):(t&&t.isWarning?d.warn:d.error)(t,n)},setVersion:function(e){h=e}}},function(e,t){e.exports={VIEWABLE_TIMEOUT:2e3,VIEWABLE_THRESHOLD:.5,THROTTLE_INTERVAL:250}},function(e,t){function n(e,t){this._threshold=e.threshold,this._callback=t,this._state=!!e.initialState}n.prototype={update:function(e){var t,n;this._disconnected||(this._state?e||(this._state=!1,this._callback&&this._callback(!1)):(t=this._timeoutId,n=this,e&&!t?this._timeoutId=setTimeout(function(){n._timeoutId=void 0,n._state=!0,n._callback&&n._callback(!0)},this._threshold):!e&&t&&(clearTimeout(t),this._timeoutId=void 0)))},disconnect:function(){this._disconnected=!0,this._timeoutId&&clearTimeout(this._timeoutId)}},Object.defineProperty(n.prototype,"state",{get:function(){return this._state}}),e.exports=n},function(e,t,n){var i=n(15);function r(e){this._propKey=e||i()}r.prototype={delete:function(e){delete e[this._propKey]},get:function(e){return e[this._propKey]},has:function(e){return Object.prototype.hasOwnProperty.call(e,this._propKey)},set:function(e,t){e[this._propKey]=t}},e.exports=r},function(e,t,n){var i=n(1),r=n(0),o=n(4);e.exports={promisify$:function(e){return r.isPromise(e)?e:i.resolve(e)},first:function(e){switch(e.length){case 0:return;case 1:return e[0]();default:return e.slice().reverse().reduce(function(t,n){return function(e){if(void 0!==e)return t(e);e=n();return void 0===e?t():r.isPromise(e)&&t!==o.identity?e.then(t):e}},o.identity)()}},any$:function(a){return new i(function(n,i){for(var r=0,o=[],e=0,s=a.length;e<s;e++)!function(t){a[t].then(function(e){n({index:t,value:e})},function(e){o[t]=e,++r===s&&i(o)})}(e)})},wait$:function(s,e){var a=(e=e||{}).interval||100,c=e.retryLimit||20;return new i(function(t,n){var e,i=0;function r(){e&&clearInterval(e)}function o(){var e;try{e=s()}catch(e){r(),n(e)}void 0!==e?(r(),t(e,i)):(c<=i&&(r(),n(new Error("Reach maximum retry: "+i))),i++)}e=setInterval(o,a),o()})}}},function(e,t,n){n(1);n=n(4);function i(e){this.type=e}Object.assign(i.prototype,{fire:function(e,t){this.fired||(this.fired=!0,this._fire(e,t))},destroy:function(){var e=this.element;e&&e.parentElement&&e.parentElement.removeChild(e)},_fire:n.unimplemented,_append:function(e,t){e.appendChild(t)}}),e.exports=i},function(e,t,n){var i=n(0),r=n(4),o=n(69);function s(e){o.call(this,e)}i.inherit(s,o),Object.assign(s.prototype,{_load$:function(e){e=this._loadWithElement$(e);return this._element=e[0],e[1]},_loadWithElement$:r.unimplemented}),Object.defineProperty(o.prototype,"element",{get:function(){return this._element}}),e.exports=s},function(e,t,n){var i=n(18);function r(e){Object.defineProperty(this,"type",{value:e}),this._emitter=new i}r.prototype={appendChild:function(){for(var e=0,t=arguments.length;e<t;e++)this._appendChild(arguments[e])},destroy:function(){this._emitter.clear(),this._destroyed=!0},_emit:function(e,t){t=t||{},this.assetKey&&(t.assetKey=this.assetKey),this._emitter.emit(e,t)},_appendChild:function(e){var t=this.childContainer||this.element;if(!t)throw new Error("No child container available to append.");var n=e instanceof Node?e:e.isWidget||e.element?e.element:void 0;if(!n)throw new Error("Host element not found on child object: "+e);t.appendChild(n)}},Object.defineProperty(r.prototype,"isWidget",{value:!0}),Object.defineProperty(r.prototype,"events",{get:function(){return this._emitter.events}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return!!this._destroyed}}),e.exports=r},function(e,t,n){var i=n(21),r=n(8),n=Object.freeze({monitorVisibility:function(e){if(this._destroyed)return this;var t=(e=e||{}).ref||this.element,e={visibilityThreshold:e.visibilityThreshold||.5,timeoutThreshold:e.timeoutThreshold||1e3};return(this.visibilityObserver=new i.ViewabilityObserver(t,e)).fulfilled$.then(this._doVisible.bind(this)),this},_doVisible:function(e){this.visible||(this.visible=!0,this._fireVisibleEvent(e),this.unmonitorVisibility())},_fireVisibleEvent:function(e){this._visibleFired||(this._visibleFired=!0,this._emit(r.VISIBLE,e?{undetermined:!0}:{}))},unmonitorVisibility:function(){this.visibilityObserver&&(this.visibilityObserver._visibilityObserver.disconnect(),this.visibilityObserver=void 0)}});e.exports=n},function(e,t,n){n=n(4),n=Object.freeze({_bindVideoVolumeEvents:function(e){var t=this._updateVolumeState.bind(this,e);e.addEventListener("volumechange",t,!1),this._unbindVideoVolumeEvents=function(){e.removeEventListener("volumechange",t,!1)}},_unbindVideoVolumeEvents:n.nop,_updateVolumeState:function(e){e=!e.muted;this._volumeOn!==e&&(this._volumeOn=e,this.element.classList.add(e?"volume-on":"volume-off"),this.element.classList.remove(e?"volume-off":"volume-on"))}});e.exports=n},function(e,t,n){var i=n(25).UNDEFINED_ERROR;function r(e){var t=(e=e||i).code,e=e.message;this.name="VAST Error: "+t,this.message=e,this.stack=(new Error).stack,this.errorCode=t}r.prototype=Object.create(Error.prototype),e.exports=r.prototype.constructor=r},function(e,t,n){var i=n(0),r=n(2),o=n(5),s=n(13),a=n(12),c=n(11),u=n(3);function d(e,t){if(!t.content)throw new o(o.TYPES.ILLEGAL_TEMPLATE,new Error,{content:t.content});s.call(this,a.BANNER,e,t)}i.inherit(d,s),Object.assign(d.prototype,{_display$:function(){var e=this.space.placement.ref,t=this.space.placement.position;c.verifyPlacement(e,t);var n=this.channel,i=this._shallEscape(n),r=n.width,o=n.height;e===this.space.element&&"INNER"===t&&(e.style.display="inline-block",e.style.fontSize=0,e.style.width=i?"auto":r+"px",e.style.height=i?"auto":o+"px");var s=u.createFriendlyIframe();return s.width=r+"px",s.height=i?"0":o+"px",this._teardown=u.placeNodes(e,t,this._elements=[s]),u.writeFriendlyIframe$(s,n.content)},_shallEscape:function(e){return"pps"===e.subType&&e.content.indexOf("ppsOptions={escape:false}")<0}}),r.register("BannerAd",d),e.exports=d},function(e,t,n){var i=n(0),r=n(2),o=n(27),s=n(7);function a(e){o.call(this,e,"native"),this._planRequestPath="/supply/v3/native/plan",this._adRequestPath="/supply/v3/native/ad"}i.inherit(a,o),Object.assign(a.prototype,{}),a.accept=function(e){return e.type===s.NATIVE},r.register("NativeAdService",a),e.exports=a},function(e,t){"function"!=typeof Array.prototype.find&&Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,i=arguments[1],r=0;r<n;r++){var o=t[r];if(e.call(i,o,r,t))return o}}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0}),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e})},function(e,t,n){n(43),n(44),n(45),n(50),n(51)},function(e,t){function n(e){return e}function i(e){if(!e._processed){var t,n={},i=!(e._processed=!0);for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t];switch(t){case"id":case"selector":n[t]=r;break;case"onEmpty":case"onNoAD":"function"==typeof r&&(i=!0,n[t]=r)}}return i?n:void 0}}var r,o;(o=window.rmaxSpaceOptions)&&("object"==typeof o||Array.isArray(o))&&(r=o,(o=(r=!Array.isArray(r)?[r]:r).map(i).filter(n)).length)&&((r=window.rmaxads||(window.rmaxads={})).cmd||(r.cmd=[])).push(function(e){e.on("space",function(t){o.forEach(function(e){e.spaceId&&e.spaceId!==t.spaceId||!e.spaceId&&e.selector&&!t.element.matches(e.selector)||(e.onEmpty&&t.on("empty",e.onEmpty),e.onNoAD&&t.on("empty",e.onNoAD))})})})},function(e,t,n){n=n(2);!function e(t){var n=t.document,i=n.head;if(!i.querySelector("#rmax-demo-style")){n=n.createElement("style");n.id="rmax-demo-style",n.innerHTML='.rmax-highlight::before{content:"";position:absolute;top:0;bottom:0;left:0;right:0;z-index:99;pointer-events:none;border:4px solid rgba(255,0,0,0.8);}',i.appendChild(n);try{var r=t.parent;if(r===t)return;e(r)}catch(e){}}}(window),n.shim("BaseSpace",function(e){Object.assign(e.prototype,{demo:function(e){this._demo=e="string"==typeof(e=(e=e)||{})?{crid:e}:e},highlight:function(e){var t,n=(e=e||{}).duration||3e3,i=!1!==e.scrollIntoView,r=this.ad&&this.ad.filled&&this.ad.elements,e=r&&r[0];e&&((t=r[0].classList).contains("rmax-highlight")||(t.add("rmax-highlight"),i&&e.scrollIntoView(),setTimeout(function(){t.remove("rmax-highlight")},n)))}})}),n.shim("HttpAdService",function(e){var n=e.prototype._getPlanRequestPath,t=e.prototype._getPlanRequestParams,i=e.prototype._getAdRequestPath;Object.assign(e.prototype,{_getPlanRequestPath:function(e){var t=n.apply(this,arguments);return t=e._demo?t.replace("/supply/v","/supply/demo/v"):t},_getPlanRequestParams:function(e){return Object.assign(t.apply(this,arguments),e._demo)},_getAdRequestPath:function(e){if(e._demo)throw new Error("Demo space should only send plan request");return i.apply(this,arguments)}})}),n.shim("NativeGroupedAdService",function(e){var o=e.prototype._getPlanRequestParams,s=e.prototype._getPlanRequestPath;Object.assign(e.prototype,{_getPlanRequestPath:function(e){for(var t,n=s.apply(this,arguments),i=0,r=e.length;i<r&&(t=e[i]);i++)if(t.space._demo){n=n.replace("/supply/v","/supply/demo/v");break}return n},_getPlanRequestParams:function(e){for(var t,n,i=0,r=e.length;i<r&&(n=e[i]);i++)if(n.space._demo){t=n.space._demo;break}return Object.assign(o.apply(this,arguments),t)}})})},function(e,t,n){var n=n(22),i=n.prototype._init;Object.assign(n.prototype,{_init:function(){i.apply(this,arguments),this._dmp()},_dmp:function(){var e;document.querySelector(".acvzdmp")||((e=document.createElement("img")).src="https://dmp.tenmax.io/p/b734323b-0532-40a6-8d4e-782e1c96bd3a?random="+Math.floor(1e9*Math.random()),e.className="acvzdmp",e.style.display="none",e.style.setProperty("display","none","important"),document.body.appendChild(e),this._emit("dmp",e))}})},function(L,e,t){!function(S){t(1),function(){"use strict";function t(){}function r(e){if(!p(this)||void 0!==this._s)throw b("Invalid this");if(this._s=2,e!==t){if(!f(e))throw b("Invalid argument");(e=v(e)(T(this,1),T(this,0)))===u&&O(this,0,e.e)}}var n,i,e="object"==typeof window,o=e?window:S,s=o.Promise,a=o.process,c=Array,u={e:null},d=o.Symbol||{},l=e?function(e){s?new s(function(e){e()}).then(e):setTimeout(e)}:a.nextTick;function h(){return d.species||"Symbol(species)"}function p(e){return e&&"object"==typeof e}function f(e){return"function"==typeof e}function m(e,t,n){if(!t(e))throw b(n)}function _(){try{return n.apply(i,arguments)}catch(e){return u.e=e,u}}function v(e,t){return n=e,i=t,_}function g(t,n){var i=c(t),r=0;function o(){for(var e=0;e<r;)n(i[e],i[e+1]),i[e++]=void 0,i[e++]=void 0;r=0,i.length>t&&(i.length=t)}return function(e,t){i[r++]=e,i[r++]=t,2===r&&l(o)}}function y(e,t){var n,i,r,o=0;if(!e)throw b("Invalid argument");var s=e[d.iterator];if(f(s))i=s.call(e);else{if(!f(e.next)){if(e instanceof c){for(n=e.length;o<n;)t(e[o],o++);return o}throw b("Invalid argument")}i=e}for(;!(r=i.next()).done;)if((r=v(t)(r.value,o++))===u)throw f(i.return)&&i.return(),r.e;return o}function b(e){return new TypeError(e)}(function(e,t){for(var n in t)e.prototype[n]=t[n]})(r.default=r,{then:function(e,t){if(void 0===this._s)throw b();return i=k((i=(n=this).constructor)&&i[h()]||r),t=t,f(e)&&(i._onFulfilled=e),f(t)&&(n._uh&&x("rejectionHandled",n),i._onRejected=t),n[n._pCount++]=i,2!==n._s&&E(n,i),i;var n,i},catch:function(e){return this.then(void 0,e)},finally:function(t){return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})},_pCount:0,_pre:null,_Yaku:1}),r.resolve=function(e){return A(e)?e:P(k(this),e)},r.reject=function(e){return O(k(this),0,e)},r.race=function(e){function t(e){O(r,1,e)}function n(e){O(r,0,e)}var i=this,r=k(i),e=v(y)(e,function(e){i.resolve(e).then(t,n)});return e===u?i.reject(e.e):r},r.all=function(e){var n,i=this,r=k(i),o=[];function s(e){O(r,0,e)}return(n=v(y)(e,function(e,t){i.resolve(e).then(function(e){o[t]=e,--n||O(r,1,o)},s)}))===u?i.reject(n.e):(n||O(r,1,[]),r)},v(function(){Object.defineProperty(r,h(),{get:function(){return this}})})(),r._Yaku=1;var E=g(999,function(e,t){var n;void 0!==(n=e._s?t._onFulfilled:t._onRejected)?(n=v(R)(n,e._v))!==u?P(t,n):O(t,0,n.e):O(t,e._s,e._v)}),w=g(9,function(e){!function e(t){if(t._umark)return 1;t._umark=!0;for(var n,i=0,r=t._pCount;i<r;)if((n=t[i++])._onRejected||e(n))return 1}(e)&&(e._uh=1,x("unhandledRejection",e))});function x(e,t){var n="on"+e.toLowerCase(),n=o[n];a&&a.listeners(e).length?"unhandledRejection"===e?a.emit(e,t._v,t):a.emit(e,t):n&&n({reason:t._v,promise:t})}function A(e){return e&&e._Yaku}function k(e){return A(e)?new e(t):(n=new e(function(e,t){if(n)throw b();i=e,r=t}),m(i,f),m(r,f),n);var n,i,r}function T(t,n){return function(e){1===n?P(t,e):O(t,n,e)}}function R(e,t){return e(t)}function O(e,t,n){var i=0,r=e._pCount;if(2===e._s)for(e._s=t,e._v=n,0===t&&w(e);i<r;)E(e,e[i++]);return e}function P(e,t){if(t===e&&t)return O(e,0,b("Chaining cycle detected for promise")),e;if(null!==t&&(f(t)||p(t))){var n=v(C)(t);if(n===u)return O(e,0,n.e),e;f(n)?A(t)?I(e,t,n):l(function(){I(e,t,n)}):O(e,1,t)}else O(e,1,t);return e}function C(e){return e.then}function I(t,n,e){e=v(e,n)(function(e){n&&(n=null,P(t,e))},function(e){n&&(n=null,O(t,0,e))});e===u&&n&&(O(t,0,e.e),n=null)}try{L.exports=r}catch(e){o.Yaku=r}}()}.call(this,t(47))},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(0),s=n(5),r=n(10);function o(e){r.call(this,"service"),this._rmaxads=e,this._mods=[]}i.inherit(o,r),Object.assign(o.prototype,{registerModule:function(){var t=this._mods,n=this;return Array.prototype.forEach.call(arguments,function(e){t.push({mod:e}),e.modName&&(n[e.modName]=e),n._emit("mod",e)}),this},createSpaceView:function(e){return this._getModule(e).createSpaceView(e)},destroy:function(){this._mods.forEach(function(e){e.instance&&e.instance.destroy(),e.mod.destroy&&e.mod.destroy()}),this._mods=void 0},_getModule:function(e){for(var t,n=this._mods,i=0,r=n.length;i<r&&(t=n[i]);i++){var o=t.mod;if(o.accept(e))return t.instance||(t.instance=new o(this._rmaxads))}throw new s(s.MODULE_ERROR,new Error("Cannot determine ad service module for space with type: "+e.type))}}),e.exports=o},function(e,t){e.exports={"473712dd87ca49ec":!0,"4ebc55d4dd614a79":!0,d6747acd8ca1482a:!0,"0de27a70903042ca":!0,b3916515dc7b4240:!0,d55b69b8ad4944e1:!0,bc14f6f668784f9a:!0,"144724ecebbb4431":!0,"32fc460cdf294227":!0,"70f7651e393a42ed":!0,d2f1ee0c3fbd43dd:!0}},function(e,t,n){n=n(2);n.shim("BaseSpace",function(e){Object.assign(e.prototype,{softban:function(e){this._softban=!0}})}),n.shim("HttpAdService",function(e){var n=e.prototype._getPlanRequestParams;Object.assign(e.prototype,{_getPlanRequestParams:function(e){var t=n.apply(this,arguments);return e._softban&&(t.sb="true"),t}})}),n.shim("NativeGroupedAdService",function(e){var o=e.prototype._getPlanRequestParams;Object.assign(e.prototype,{_getPlanRequestParams:function(e){for(var t,n=o.apply(this,arguments),i=0,r=e.length;i<r&&(t=e[i]);i++)if(t.space._softban){n.sb=!0;break}return n}})})},function(e,t,n){n(52),n(53),n(54)},function(e,t){var n=window.rmaxads||(window.rmaxads={});(n.cmd||(n.cmd=[])).push(function(e){!function(){var e=window;try{e=window.top}catch(e){}try{return 0<=e.location.hostname.indexOf("pixnet.net")||e.pix&&e.pix.apisite}catch(e){return}}()||Math.random()<.33||(e.log("[Patch] DMP pixel suppressed."),e._dmp=function(){})})},function(e,t){var n=window.rmaxads||(window.rmaxads={});(n.cmd||(n.cmd=[])).push(function(n){n.on("space",function(e){var t=e.spaceId;"7569775c04894cdd"!==t&&"01f22fce93754b07"!==t&&"d06ee1a2079f47ea"!==t&&"f2c0d8d5e5ff4519"!==t||e.on("channel-module",function(e){"combo"===e.type&&(n.log("[Patch] Disable mobile-full-width feature"),e.makeSpaceFullWidth=function(){})})})})},function(e,t){var n,i=window.location.hostname;function r(){document.querySelectorAll(n).forEach(function(e){e.classList.add("noskim")})}i.indexOf("cosmopolitan.com")<0&&i.indexOf("womenshealthmag.com")<0||(n=["ppstudio","tenmax","mobile-bottom"].map(function(e){return'body > [id^="'+e+'"]'}).join(","),((i=window.rmaxads||(window.rmaxads={})).cmd||(i.cmd=[])).push(function(e){e.on("space",function(e){e.on("display",function(e){e&&((e.elements||[]).forEach(function(e){e.classList.add("noskim")}),"asiamax"===e.channel.modType&&"pps"===e.channel.subType&&(r(),setTimeout(r,500),setTimeout(r,1e3),setTimeout(r,2e3),setTimeout(r,5e3)))})}),e.log("[Patch] Surpress skimlinks for it disrupts click tracking.")}))},function(e,t,n){var i=n(19),r=n(7),o=n(56),n=n(101);i.register(r.UNIVERSAL,{selector:'.rmax[data-rmax-space-type="UNIVERSAL"], .rmax-universal[data-rmax-space-type="UNIVERSAL"]',spaceModule:o}),i.service.registerModule(n)},function(e,t,n){var i=n(0),r=n(7),o=n(20),s=n(26);function a(e,t,n){o.call(this,e,r.UNIVERSAL,t,n)}i.inherit(a,o),Object.assign(a.prototype,{_selectDefaultAdModule:function(){return s},_afterRunPlan:function(e){o.prototype._afterRunPlan.apply(this,arguments),e||this.element.classList.add("rmax-type-noad")}}),e.exports=a},function(e,t){var n=Object.freeze({isEmpty:!0,isStrcitlyEmpty:!0,top:NaN,left:NaN,bottom:NaN,right:NaN,width:0,height:0,area:0,intersect:function(){return n},offset:function(){return n},contain:function(){return!1},equals:function(e){return e===n}});function i(e){if(e===n||e instanceof i)return e;if(e instanceof Window)e={top:0,left:0,bottom:e.innerHeight,right:e.innerWidth};else if(e instanceof Element&&0===(e=e.getBoundingClientRect()).top&&0===e.bottom&&0===e.left&&0===e.right&&0===e.width&&0===e.height)return n;if(this.top=e.top,this.left=e.left,this.bottom=e.bottom,this.right=e.right,this.width=this.right-this.left,this.height=this.bottom-this.top,this.isEmpty=this.width<=0||this.height<=0,this.isEmpty&&(this.width<0||this.height<0))return n;this.area=this.isEmpty?0:this.width*this.height,Object.freeze(this)}i.strictlyEmpty=function(){return n},i.prototype={isStrcitlyEmpty:!1,intersect:function(e){return e?e.isStrcitlyEmpty?i.strictlyEmpty():new i({top:Math.max(this.top,e.top),left:Math.max(this.left,e.left),bottom:Math.min(this.bottom,e.bottom),right:Math.min(this.right,e.right)}):this},offset:function(e){var t=e.top||e.y||0,e=e.left||e.x||0;return new i({top:this.top+t,left:this.left+e,bottom:this.bottom+t,right:this.right+e})},contain:function(e){return!(e=void 0!==e.x&&void 0!==e.y?new i({left:e.x,right:e.x,top:e.y,bottom:e.y}):new i(e)).isStrcitlyEmpty&&this.top<=e.top&&this.bottom>=e.bottom&&this.left<=e.left&&this.right>=e.right},equals:function(e){return e&&e!==n&&this.top===e.top&&this.left===e.left&&this.bottom===e.bottom&&this.right===e.right}},i.intersect=function(){return Array.prototype.reduce.call(arguments,function(e,t){return t=new i(t),e&&e.intersect(t)||t})},e.exports=i},function(e,t,n){var i,r,o=n(14);function s(){return!document[i]}void 0!==document.hidden?(i="hidden",r="visibilitychange"):void 0!==document.webkitHidden&&(i="webkitHidden",r="webkitvisibilitychange");var a=[];function c(){var t=s();a.forEach(function(e){e(t)})}e.exports={isVisible:s,observe:function(e){var t,n,i=(t=e,function(e){if(e!==n){try{t(e)}catch(e){o.error(e)}n=e}});return 0===a.length&&document.addEventListener(r,c,!1),a.push(i),setTimeout(function(){i(s())},0),function(){var e;(e=a.indexOf(i))<0||(a.splice(e,1),0===a.length&&document.removeEventListener(r,c,!1))}}}},function(e,t,n){var i=n(1),r=n(0),o=n(4),s=n(32),a=n(15),c=n(60),u=n(10),d=n(61);function l(e,t){if(!e)throw new Error("Master object is required");if(!t)throw new Error("Space type is required");u.call(this,"space"),this.initializedAt=Date.now(),this.uuid=a(),this.rmaxads=this.master=e,this.type=t,this._init(),this.service=e.service.createSpaceView(this),this._setStatus(d.INITIALIZED)}r.inherit(l,u),Object.assign(l.prototype,{_init:o.nop,start$:function(){if(void 0!==this.startedAt)return i.resolve();try{return this.startedAt=(new Date).getTime(),this._setStatus(d.STARTED),this._emit("start"),this._start$().catch(this._fail.bind(this))}catch(e){this._fail(e)}},_start$:function(){var t=this;return s.promisify$(this._beforeGetPlan()).then(this._getPlan$.bind(this)).then(function(e){return e=t._afterGetPlan(e)||e,t._setPlan(e),t._beforeRunPlan(e)||e}).then(this._runPlan$.bind(this)).then(function(e){return e=t._afterRunPlan(e)||e,t._setAd(e),t._handleEvents(e)})},_beforeGetPlan:o.nop,_getPlan$:function(){return this.service.getPlan$()},_afterGetPlan:o.nop,_setPlan:function(e){this.plan=e,this.sessionId=e.sessionId,this.sessionTs=c(e.sessionId),this._emit("plan",e)},_beforeRunPlan:o.nop,_runPlan$:function(e){var n=this,e=e.channels.map(function(t){return function(){var e=t.modType+"."+t.adType+(t.subType?"("+t.subType+")":"");return n._appendResult(e),n._emit("channel",t),n._trackChannelRequest(t),n._emit("track-request",t),n._runChannel$(t)}});return s.promisify$(s.first(e))},_runChannel$:o.nop,_afterRunPlan:o.nop,_setAd:function(e){var t=e?"filled":"empty";this[t]=!0,this._setStatus(d.AD_DISPLAYED),this._appendResult(t),this._emit("display",e),this._emit(e?"fill":"empty")},_handleEvents:o.nop,_destroy:function(){this.service.destroy()},_fail:function(e){throw this._error(e),this._appendResult("fail"),this._emit("fail",e),e},_error:function(e){e&&e.isUserError||this._emit("error",e)},_setStatus:o.nop,_appendResult:o.nop}),Object.defineProperties(l.prototype,{started:{get:function(){return void 0!==this.startedAt}}}),e.exports=l},function(e,t){e.exports=function(e){e=e.split("-"),e=e[2].substring(1)+e[1]+e[0];return Math.floor((parseInt(e,16)-122192928e9)/1e4)}},function(e,t){e.exports={INITIALIZED:"initialized",STARTED:"started",PLAN_REQUESTED:"plan requested",PLAN_RECEIVED:"plan received",ASIAMAX_AD_REQUESTED:"asiamax ad requested",ASIAMAX_AD_RECEIVED:"asiamax ad received",AD_CREATED:"ad created",AD_DISPLAYED:"ad displayed",AD_REQUEST_QUEUED:"request queued",AD_REQUEST_SENT:"request sent",AD_RESPONSE_RECEIVED:"response received"}},function(e,t,n){var i=n(0),r=n(15),o=n(10),s=n(5),a=n(63),c=n(64);function u(e){o.call(this,"tracker-manager"),this._container=e||document.body,this._trackers={}}i.inherit(u,o),Object.assign(u.prototype,{get:function(e){return this._trackers&&this._trackers[e]||[]},getTypes:function(){return this._trackers?Object.keys(this._trackers):[]},getAll:function(){var n=this._trackers;return this.getTypes().reduce(function(e,t){return e.concat(n[t]||[])},[])},add:function(e,t){t&&0!==t.length&&(0!==(t=(t=!Array.isArray(t)?[t]:t).map(this._processTracker.bind(this)).filter(function(e){return void 0!==e})).length&&(this._trackers[e]=void 0!==this._trackers[e]?this._trackers[e].concat(t):t))},fire:function(n,e){var i=this._emit.bind(this),t=(this._trackers[n]||[]).filter(function(e){return!e.fired});t.forEach(function(t){try{t.fire(e)}catch(e){i("error",new s(s.TYPES.TRACKER_ERROR,e,{eventType:n,trackerUrl:t}))}}),i("fire",n,t,e)},destroy:function(){var t=this._trackers;t&&Object.keys(t).forEach(function(e){(t[e]||[]).forEach(function(e){e.destroy()})}),this._trackers=void 0,o.prototype._destroy.call(this)},_processArgs:function(e){return Object.assing(e,{timestamp:Date.now.bind(Date),cachebuster:r})},_processTracker:function(e){switch(void 0===(e="string"==typeof e?{type:"pixel",url:e}:e).type&&(e.type="iframe"),e.type){case"pixel":return new a(this._container,e.url);case"iframe":return new c(e.content)}}}),e.exports=u},function(e,t,n){var i=n(0),r=n(6),o=n(33);function s(e,t){o.call(this,"pixel"),this.container=e,this.url=t}i.inherit(s,o),Object.assign(s.prototype,{_fire:function(e,t){e=this.renderedUrl=this._renderUrl(this.url,e,t),t=this.element=document.createElement("img");t.style.display="none",t.src=e,this._append(this.container,t)},_renderUrl:function(e,n,t){n=n||{},e=e.replace(/\[([^\[\]]*)\]/g,function(e,t){t=n[t];if("function"==typeof t)try{t=t()}catch(e){}return"string"==typeof t||"boolean"==typeof t||"number"==typeof t?t:e});var i=t&&Object.keys(t);if(!i||0===i.length)return e;t=r.encodeQueryParams(t);return e+(e.lastIndexOf("?")<0?t:"&"+t.substring(1))},destroy:function(){this.element&&this.element.removeAttribute("src"),o.prototype.destroy.apply(this,arguments)}}),e.exports=s},function(e,t,n){var i=n(0),r=n(33);function o(e){r.call(this,"iframe"),this.content=e}i.inherit(o,r),Object.assign(o.prototype,{_fire:function(e,t){var n=this.element=document.createElement("iframe");n.style.display="none",n.style.width=n.style.height="0",n.srcdoc=this.content.replace("</scr'+'ipt>","<\/script>"),this._append(document.body,n)}}),e.exports=o},function(e,t,n){var i=n(66),r=n(39),o=n(26),s=n(91),a=n(94),c=n(95),u=n(98);e.exports={select:function(e){switch(e.modType){case"asiamax":switch(e.adType){case"video":if("combo"===e.subType)return i;break;case"banner":return r;case"native":return o}break;case"freakout":switch(e.adType){case"native":return s;case"banner":return a}case"doubleclick":case"doubleclick3rdparty":return c;case"test":return u}}}},function(e,t,n){var i=n(1),r=n(0),o=n(32),s=n(6),a=n(30),c=n(21),u=n(17).isPhone,d=n(14),l=n(3),h=n(11),p=n(12),f=n(13),m=n(67),_=n(78),v=n(80),g=n(81),y=n(86),b=n(87),E=n(38),w=n(25),x=n(8),A=c.VisibilityObserver;function k(e,t){f.call(this,p.COMBO,e,t),this.trackerManager=e.trackerManager,this.monitorVisibleEvent=!1,this.defaultAutoplay=!!t.defaultAutoplay,this.dynamicVideoPlay=!0,this.template=g(t.templateKey),this.resourceRequests={}}r.inherit(k,f),Object.assign(k.prototype,{_display$:function(){var e=this.space.placement,t=e.ref,n=e.position;return h.verifyPlacement(t,n),t===this.space.element&&"INNER"===n&&this._setupInsElement(),this.displayManager.setPlacement(e),this._emitter.emit("setup"),this.setupModules(),this._display0$()},setVideoVisibilityTarget:function(e){this._videoVisibilityTarget=e},_setupInsElement:function(){var e=this.space.element;e.style.display="inline-block",e.style.position="relative",e.classList.add("rmax-type-combo-ad"),(this.template.capability||{}).mobileFullWidth&&u&&this.makeSpaceFullWidth()},makeSpaceFullWidth:function(){var e=this.space.element;e.classList.add("full-width"),l.makeFullWidth(e)},init:function(){this.displayManager=new b,this.templateManager=new y(this.template)},setupModules:function(){this.setupVideo(),this.setupCompanion(),this.setupTemplate()},setupVideo:function(){var e=this.videoObj=this.channel.content.video;s.loadCSS$("//tenmax-static.cacafly.net/ssp/player.css");var t=this.videoPlayer=new m({src:e.url});this._emitter.emit("player",t),t.progress;var n=this.videoAnchor=new v({content:e.clickThroughUrl});n.appendChild(t),this.resourceRequests.video$=t.loaded$,this._setupProgressEvent(),this._setupRetargetingEvent(),this._setupVideoClickEvent();var i=this,e=function(e,t){i._emitter.emit(e,"video",t)};n.events.pipe(e),t.events.pipe(e)},setupCompanion:function(){var e,n,t=this.channel.content.companion;t?(e=this.image=new _({src:t.url}),(t=this.imageAnchor=new v({content:t.clickThroughUrl})).appendChild(e),this.resourceRequests.companion$=e.loaded$,this._setupCompanionClickEvent(),n=this,t.events.pipe(t=function(e,t){n._emitter.emit(e,"companion",t)}),e.events.pipe(t)):this.resourceRequests.companion$=i.reject(new E(w.UNABLE_DISPLAY_COMPANIONAD))},setupTemplate:function(){this.resourceRequests.template$=this.templateManager.load$()},_setupVideoClickEvent:function(){var e=this.channel.trackers||{};this.trackerManager.add(x.VIDEO_CLICK,e.videoClickTracker),this.videoAnchor.events.on(x.CLICK,this.space._fireTracker.bind(this.space,x.VIDEO_CLICK))},_setupCompanionClickEvent:function(){var e=this.channel.trackers||{};this.trackerManager.add(x.COMPANION_CLICK,e.companionClickTracker),this.imageAnchor.events.on(x.CLICK,this.space._fireTracker.bind(this.space,x.COMPANION_CLICK))},_setupProgressEvent:function(){var e=this.channel.trackers||{},n=this.trackerManager,i=this.videoPlayer.progress;n.add(x.START,e.start),n.add(x.FIRST_QUARTILE,e.firstQuartile),n.add(x.MIDPOINT,e.midpoint),n.add(x.THIRD_QUARTILE,e.thirdQuartile),n.add(x.COMPLETE,e.complete),i.monitorDefault(),this._groupProgressTrackers(e.progress).forEach(function(e){var t=x.ofProgress(e.offset);n.add(t,e.urls),i.monitorTime(t,e.offset)}),i.events.pipe(this._fireProgressTracker.bind(this))},_setupRetargetingEvent:function(){var e=this.channel.trackers||{},t=this.videoPlayer.progress,n=this.space._installRetargetingTracker;(e.retargeting||[]).forEach(function(e){"progress"===e.event&&t.monitorTime(n.bind(this.space,e),e.offset)})},_groupProgressTrackers:function(e){var i=[],r={};return(e||[]).forEach(function(e){var t,n;e.offset&&e.trackingUrl&&(t=""+e.offset,(n=r[t])||((n=r[t]={offset:e.offset,urls:[]}).urls.push(e.trackingUrl),i.push(n)))}),i},_fireProgressTracker:function(e){var t=this._firedEvents||(this._firedEvents={});t[e]||(t[e]=!0,this.space._fireTracker(e))},_monitorEnteringViewport:function(){var n=this,i=this._element,r=new A(i,{threshold:.01},function(e,t){(e||t)&&(i.classList.add("entered"),t||n.displayManager.expand(),r.disconnect())});this._enteredObserver=r},_display0$:function(e){var t=this,n=this.resourceRequests;return this.displayManager.setVideo(this.videoAnchor.element),i.all([n.template$.then(function(e){t.displayManager.setTemplate(e),t.displayManager.setTitle(t.channel.content.title)}),o.any$([n.video$.then(function(){},function(e){throw d.log(e),e}),n.companion$.then(function(){t.displayManager.setCompanion(t.imageAnchor.element)},function(e){throw d.log(e),t.displayManager.videoOnly(),e})])]).then(function(){return t.displayManager.render$()}).then(function(){t._element=t.displayManager._element,t._teardown=t.displayManager._teardown,t._monitorVideoVisibleRate(),t._monitorEnteringViewport()})},_monitorVideoVisibleRate:function(){!window.IntersectionObserver&&c.isInRegularIframe?this._monitorVideoVisibleRateUndetermined():this._monitorVideoVisibleRate0()},_monitorVideoVisibleRateUndetermined:function(){var e;this.monitorVisibleEvent&&(this.videoPlayer._doVisible(),this.image&&this.image._doVisible()),this.defaultAutoplay&&(d.log("auto play"),this.videoInView=!0,(e=this.videoPlayer).loaded$.then(function(){e.play()}))},_monitorVideoVisibleRate0:function(){var e=this._videoVisibilityTarget;if("function"==typeof e)try{e=e()}catch(t){e=void 0}var t=e||this.videoPlayer.videoElement;t&&(this.monitorVisibleEvent&&(this.videoPlayer.monitorVisibility({ref:t}),this.image&&this.image.monitorVisibility()),!1!==this.dynamicVideoPlay&&this._hackVideoAutoPlay(),this.videoPlayer.autoPlay({ref:t}))},_hackVideoAutoPlay:function(){this.videoPlayer.autoPlay=function(e){if(this._destroyed)return this;var t=(e=e||{}).ref||this.videoElement,e={threshold:e.threshold||.5},n=this,i=new a({threshold:1e3,initialState:!0},function(e){n._updateVideoByVisibility(!e)});return this.visibilityObserver=new A(t,e,function(e,t){t||i.update(!e)}),this}},_destroy:function(){this.videoPlayer&&this.videoPlayer.destroy(),f.prototype._destroy.apply(this,arguments)}}),e.exports=k},function(e,t,n){var i=n(0),r=n(17),o=n(21),s=n(68),a=n(9),c=n(36),u=n(70),d=n(71),l=n(73),h=n(74),p=n(75),f=n(8);function m(e,t){a.call(this,"video-player");var n=e.params;t=t||{},(this.loader=this._getLoader(e)).load(),this._setupContainer(e,t),this._setupLoadingBar(),this._setupVideo(n),e.key&&(this.assetKey=e.key,e=this._clickHandler=this._handleClick.bind(this),this.element.addEventListener("click",e)),this._loaded$=this.loader.loaded$.then(this._setupControls.bind(this)).then(this._handleLoaded.bind(this)),n&&null!=n.viewed&&this._processView(~~n.viewed)}i.inherit(m,a),Object.assign(m.prototype,c,{play:function(){this._loaded?this.videoElement.play():this._playRequested=!0},pause:function(){this._loaded?this.videoElement.pause():this._playRequested=void 0},monitorVisibility:function(e){return e=e&&e.ref?e:Object.assign({},e,{ref:this.videoElement}),c.monitorVisibility.call(this,e)},autoPlay:function(e){if(this._destroyed)return this;if(!1===e)return this.pause(),this._autoPlayVisibilityObserver&&this._autoPlayVisibilityObserver.disconnect(),this;var t=(e=e||{}).ref||this.element,n={threshold:e.threshold||.5},e=this._updateVideoByVisibility.bind(this);return this._autoPlayVisibilityObserver=new o.VisibilityObserver(t,n,e),this},destroy:function(){this.jumboPlayButton&&this.jumboPlayButton.destroy(),this.controlBar&&this.controlBar.destroy(),this.unmuteButton&&this.unmuteButton.destroy(),this.unmonitorVisibility(),this._autoPlayVisibilityObserver&&this._autoPlayVisibilityObserver.disconnect(),this._progress&&this._progress.destroy(),this._clickHandler&&this.element.removeEventListener("click",this._clickHandler);var e=this.videoElement;e.parentNode&&e.parentNode.removeChild(e),a.prototype.destroy.apply(this,arguments)},_handleLoaded:function(){this._loaded=!0,this._destroyed||this._playRequested&&(this.videoElement.play(),this._playRequested=void 0)},_getLoader:function(e){if(e.loader)return e.loader;if(!e.src)throw new Error("Either loader or src is required in asset");return e.loader=new s(e.src)},_setupContainer:function(e,t){t=this.element=t.container||this._createContainer(e);t.setAttribute("data-rmax-widget-type","video-player"),this.loader.loaded||(t.classList.add("loading"),this.loader.loaded$.then(t.classList.remove.bind(t.classList,"loading"))),e.params&&e.params.unmutePosition&&!e.params.controlBar&&t.classList.add(e.params.unmutePosition)},_createContainer:function(e){var t=document.createElement("div");return t.id="tenmax-video-player",t.classList.add("video_container"),e.params&&e.params.controlBar?t.classList.add(e.params.controlBar):r.isMobile||e.params&&e.params.unmutePosition?r.isMobile&&t.classList.add("mobile"):t.classList.add("traditional"),t},_setupControls:function(){var e,t,n,i;this._destroyed||(i=this.videoElement,e=this.jumboPlayButton=new h(i),t=this.controlBar=new u(i),n=this.unmuteButton=new l(i),i=this._handleControlEvent.bind(this),e.events.pipe(i),t.events.pipe(i),n.events.pipe(i),this.element.appendChild(e.element),this.element.appendChild(t.element),this.element.appendChild(n.element))},_updateVideoByVisibility:function(e,t){this[e||t?"play":"pause"]()},_handleControlEvent:function(e,t){t={originalEvent:t};f.isInteractive(e)&&(t.progress=this.videoElement.currentTime),this._emit(e,t)},_setupLoadingBar:function(){var e=this.loadingBar=new d;this.element.appendChild(e.element),this.loader.loaded$.then(this.loadingBar.remove())},_setupVideo:function(e){var t=this.videoElement;t.setAttribute("playsinline","playsinline"),t.setAttribute("loop","loop"),t.setAttribute("muted","muted"),t.muted=!0;e=e&&e.poster;e&&t.setAttribute("poster",e),this.element.appendChild(t)},_handleClick:function(e){e.defaultPrevented||(e._assetKey=this.assetKey)},_processView:function(e){this.progress.monitorTime(f.VIEWED,e)}}),Object.defineProperty(m.prototype,"loaded",{get:function(){return this._loaded}}),Object.defineProperty(m.prototype,"loaded$",{get:function(){return this._loaded$}}),Object.defineProperty(m.prototype,"videoElement",{get:function(){return this.loader.element}}),Object.defineProperty(m.prototype,"progress",{get:function(){return this._progress||(this._progress=new p(this.videoElement),this._progress.events.pipe(this._emit.bind(this))),this._progress}}),m.createDefault=function(e){e=new m(e);return e.monitorVisibility(),e.progress.monitorDefault(),e.autoPlay(),e},e.exports=m},function(e,t,n){var i=n(1),r=n(0),o=n(34);function s(e){o.call(this,e)}r.inherit(s,o),Object.assign(s.prototype,{_loadWithElement$:function(o){var s=document.createElement("video"),e=new i(function(e,t){function n(){r(),e()}function i(e){r(),t("Video Loading Error: "+s.error.code+"; details: "+s.error.message+"; src:"+o)}function r(){s.removeEventListener("canplay",n),s.removeEventListener("canplaythrough",n),s.removeEventListener("error",i)}s.addEventListener("canplay",n,!1),s.addEventListener("canplaythrough",n,!1),s.addEventListener("error",i,!1),s.src=o,s.load()});return[s,e]}}),e.exports=s},function(e,t,n){var i=n(1),n=n(4);function r(e){this._src=e,Object.defineProperty(this,"loaded$",{value:this._getLoaded$()})}r.prototype={load$:function(){return this.load(),this.loaded$},load:function(){this._loadRequested||(this._loadRequested=!0,this._load$(this._src).then(this._resolve,this._reject))},_getLoaded$:function(){var n=this;return new i(function(e,t){n._resolve=function(){n._loaded=!0,e()},n._reject=function(e){n._error=e,t(e)}})},_load$:n.unimplemented},Object.defineProperty(r.prototype,"loaded",{get:function(){return!!this._loaded}}),Object.defineProperty(r.prototype,"error",{get:function(){return this._error}}),e.exports=r},function(e,t,n){var i=n(0),r=n(3),o=n(8),s=n(9),a=n(37),n=n(24);function c(e){var t=r.elementBuilder("div",{className:e}),n=r.elementBuilder("div"),e=r.elementBuilder("span");return n.appendChild(e),t.appendChild(n),{btnContainer:t,btn:n}}function u(e){s.call(this,"video-control-bar"),this.videoElement=e,this._setupElement(),this._bindVideoEvents(e),this._syncVideoState(e),this._bindControlEvents()}i.inherit(u,s),Object.assign(u.prototype,n,a),u.prototype._setupElement=function(){this._setupPlayButton(),this._setupPauseButton(),this._setupVolumeButton(),this._setupProgressBar();var e=r.elementBuilder("div",{className:"video_controls"});Object.defineProperty(this,"element",{value:e}),e.appendChild(this.playBtnContainer),e.appendChild(this.pauseBtnContainer),e.appendChild(this.progressBarContainer),e.appendChild(this.volumeBtnContainer)},u.prototype._setupPlayButton=function(){var e=c("control play");this.playBtnContainer=e.btnContainer,this.playBtn=e.btn},u.prototype._setupPauseButton=function(){var e=c("control pause");this.pauseBtnContainer=e.btnContainer,this.pauseBtn=e.btn},u.prototype._setupVolumeButton=function(){var e=c("control volume");this.volumeBtnContainer=e.btnContainer,this.volumeBtn=e.btn},u.prototype._setupProgressBar=function(){var e=this.progressBarContainer=r.elementBuilder("div",{className:"progress-bar"}),t=this.fillRateComponent=r.elementBuilder("div",{className:"progress-fill",$width:"0%"});e.appendChild(t)},u.prototype._bindVideoEvents=function(e){this._bindVideoPlayingEvents(e),this._bindVideoVolumeEvents(e),this._bindVideoProgressEvents(e)},u.prototype._bindVideoProgressEvents=function(e){var t=this._updateProgress.bind(this),n=setInterval(t,50);this._unbindVideoProgressEvents=function(){clearInterval(n)}},u.prototype._unbindVideoEvents=function(e){this._unbindVideoPlayingEvents(e),this._unbindVideoVolumeEvents(e),this._unbindVideoProgressEvents(e)},u.prototype._syncVideoState=function(e){this._updatePlayingState(e,!e.paused),this._updateVolumeState(e),this._updateProgress()},u.prototype._updateProgress=function(){var t,n;this._playing&&(t=this.videoElement,n=this.fillRateComponent,r.raf$().then(function(){var e=t.currentTime/t.duration||0;n.style.width=100*e+"%"}))},u.prototype._bindControlEvents=function(){this.playBtn.addEventListener("click",this._play.bind(this)),this.pauseBtn.addEventListener("click",this._pause.bind(this)),this.volumeBtn.addEventListener("click",this._toggleMuted.bind(this))},u.prototype._pause=function(e){e.preventDefault(),this.videoElement.pause(),this._emitter.emit(o.PAUSE,e)},u.prototype._play=function(e){e.preventDefault(),this.videoElement.play(),this._emitter.emit(o.PLAY,e)},u.prototype._toggleMuted=function(e){e.preventDefault();var t=this.videoElement.muted=!this.videoElement.muted;this._emitter.emit(t?o.MUTE:o.UNMUTE,e)},u.prototype.getPlayButton=function(){return this.playBtnContainer},u.prototype.getPauseButton=function(){return this.pauseBtnContainer},u.prototype.getVolumeButton=function(){return this.volumeBtnContainer},u.prototype.getProgressBar=function(){return this.progressBarContainer},u.prototype.destroy=function(){this._unbindVideoEvents(),s.prototype.destroy.apply(this,arguments)},e.exports=u},function(e,t,n){var i=n(0),r=n(72),o=n(9);function s(){o.call(this,"loading-bar"),this._setupElement()}i.inherit(s,o),Object.assign(s.prototype,{_setupElement:function(){(this.element=document.createElement("div")).insertAdjacentHTML("afterbegin",r)},remove:function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)},destroy:function(){o.prototype.destroy.apply(this,arguments)}}),e.exports=s},function(e,t){e.exports='<style>\n  #tenmax-combo-loadingbar.sk-wave {\n    position: absolute;\n    width: 5em;\n    height: 3.5em;\n    text-align: center;\n    font-size: 16px;\n    margin: auto;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: -1;\n  }\n  #tenmax-combo-loadingbar.sk-wave .sk-rect {\n    background-color: #333;\n    height: 100%;\n    width: 0.6em;\n    margin: 0 0.2em;\n    display: inline-block;\n    animation: sk-waveStretchDelay 1.8s infinite ease-in-out;\n  }\n  #tenmax-combo-loadingbar.sk-wave .sk-rect1 {\n    animation-delay: -1.8s;\n  }\n  #tenmax-combo-loadingbar.sk-wave .sk-rect2 {\n    animation-delay: -1.65s;\n  }\n  #tenmax-combo-loadingbar.sk-wave .sk-rect3 {\n    animation-delay: -1.5s;\n  }\n  #tenmax-combo-loadingbar.sk-wave .sk-rect4 {\n    animation-delay: -1.35s;\n  }\n  #tenmax-combo-loadingbar.sk-wave .sk-rect5 {\n    animation-delay: -1.2s;\n  }\n  @keyframes sk-waveStretchDelay {\n    0%, 40%, 100% {\n      transform: scaleY(0.4);\n      background-color: #000;\n    }\n    20% {\n      transform: scaleY(1);\n      background-color: #008799;\n    }\n  }\n</style>\n<div class="sk-wave" id="tenmax-combo-loadingbar">\n  <div class="sk-rect sk-rect1" ></div><div class="sk-rect sk-rect2" ></div><div class="sk-rect sk-rect3" ></div><div class="sk-rect sk-rect4" ></div><div class="sk-rect sk-rect5" ></div>\n</div>\n'},function(e,t,n){var i=n(0),r=n(8),o=n(9),s=n(37),a=n(24);function c(e){o.call(this,"unmute-button"),this.videoElement=e,this._pristine=!0,this._setupElement(),this._bindVideoVolumeEvents(e),this._bindVideoPlayingEvents(e),this._updateVolumeState(e),this._updatePlayingState(e),this._bindControlEvents()}i.inherit(c,o),Object.assign(c.prototype,s,a,{_setupElement:function(){var e=document.createElement("div");e.className="unmute-btn pristine",e.innerHTML='<div class="unmute-btn-inner"><div class="volume"><div><span></span></div></div><div class="label">Tap to Unmute</div></div>',Object.defineProperty(this,"element",{value:e})},_updateVolumeState:function(e){void 0!==this._volumeOn&&(this._updatePristineState(),this._updateInteractedState()),s._updateVolumeState.apply(this,arguments)},_updatePlayingState:function(e,t){void 0===this._playing||t||this._updatePristineState(e),a._updatePlayingState.apply(this,arguments)},_updatePristineState:function(){this._pristine&&(this._pristine=!1,this.element.classList.remove("pristine"))},_updateInteractedState:function(){this.interacted||(this.interacted=!0,this.element.classList.add("interacted"))},_bindControlEvents:function(){this.element.addEventListener("click",this._toggleMuted.bind(this))},_toggleMuted:function(e){e.preventDefault();var t=this.videoElement.muted=!this.videoElement.muted;this._emitter.emit(t?r.MUTE:r.UNMUTE,e)},destroy:function(){this._unbindVideoVolumeEvents(),this._unbindVideoPlayingEvents(),o.prototype.destroy.apply(this,arguments)}}),e.exports=c},function(e,t,n){var i=n(0),r=n(8),o=n(9),n=n(24);function s(e){o.call(this,"jumbo-play-button"),this.videoElement=e,this._setupElement(),this._bindVideoPlayingEvents(e),this._updatePlayingState(e,!e.paused),this._bindControlEvents()}i.inherit(s,o),Object.assign(s.prototype,n,{_setupElement:function(){var e=document.createElement("div");e.className="jumbo-play-btn-overlay",e.innerHTML='<div><span class="jumbo-play-btn"></span></div>';var t=e.querySelector(".jumbo-play-btn");Object.defineProperty(this,"element",{value:e}),Object.defineProperty(this,"button",{value:t})},_bindControlEvents:function(){this.button.addEventListener("click",this._play.bind(this))},_play:function(e){e.preventDefault(),this.videoElement.play(),this._emitter.emit(r.PLAY,e)},destroy:function(){this._unbindVideoPlayingEvents(),o.prototype.destroy.apply(this,arguments)}}),e.exports=s},function(e,t,n){var i=n(76),r=n(18),o=n(8);function s(e){this._observer=new i(e);var t=this._emitter=new r;this._emitFn=function(e){return"function"==typeof e?e:t.emit.bind(t,e)}}Object.assign(s.prototype,{monitorDefault:function(){return this._defaultMonitored||(this._defaultMonitored=!0,this.monitorPercentage(o.START,0,!0),this.monitorPercentage(o.FIRST_QUARTILE,.25),this.monitorPercentage(o.MIDPOINT,.5),this.monitorPercentage(o.THIRD_QUARTILE,.75),this.monitorComplete(o.COMPLETE)),this},monitorTime:function(e,t,n){return this._observer.time$(t,n).then(this._emitFn(e)),this},monitorPercentage:function(e,t,n){return this._observer.percentage$(t,n).then(this._emitFn(e)),this},monitorComplete:function(e){return this._observer.completed$.then(this._emitFn(e)),this},destroy:function(){this._emitter.clear(),this._observer.disconnect()}}),Object.defineProperty(s.prototype,"events",{get:function(){return this._emitter.events}}),e.exports=s},function(e,t,n){var i=n(77);function r(e,t){this._videoElement=e,this._timeTracker=new i,this._percentageTracker=new i,this._update=this._update.bind(this),e.addEventListener("timeupdate",this._update),this.completed$.then(this.disconnect.bind(this))}r.prototype={time$:function(e,t){return this._timeTracker.track$(e,t)},percentage$:function(e,t){return this._percentageTracker.track$(e,t)},disconnect:function(){this._videoElement.removeEventListener("timeupdate",this._update)},_update:function(){var e=this._videoElement.currentTime,t=e/this._videoElement.duration;isNaN(e)||isNaN(t)||(0===e&&0<this._timeTracker.maxValue?(this._timeTracker.complete(),this._percentageTracker.complete()):(this._timeTracker.update(e),this._percentageTracker.update(t)))}},Object.defineProperty(r.prototype,"completed$",{get:function(){return this._timeTracker.completed$}}),Object.defineProperty(r.prototype,"completed",{get:function(){return this._timeTracker.completed}}),e.exports=r},function(e,t,n){var i=n(1);function r(e,t){for(var n,i=0,r=e.length;i<r&&(n=e[i])&&!(n.strictly?t<=n.value:t<n.value);i++);return i}function o(e){for(var t=0,n=e.length;t<n;t++)e[t].resolve()}function s(e){this._max=e||0,this._trackers=[];var t=this;Object.defineProperty(this,"completed$",{value:new i(function(e){t._resolveCompleted=e})})}s.prototype={track$:function(e,t){if(this.completed||(t?e<this._max:e<=this._max))return i.resolve();var n={value:e,strictly:!!t};return this._trackers.splice(r(this._trackers,e),1,n),new i(function(e){n.resolve=e})},update:function(e){this.completed||e<=this._max||(this._max=e,e=r(this._trackers,e),o(this._trackers.splice(0,e)))},complete:function(){var e;this.completed||(this._completed=!0,e=this._trackers,this._trackers=void 0,o(e),this._resolveCompleted())},destroy:function(){}},Object.defineProperty(s.prototype,"maxValue",{get:function(){return!!this._max}}),Object.defineProperty(s.prototype,"completed",{get:function(){return!!this._completed}}),e.exports=s},function(e,t,n){var i=n(0),r=n(9),o=n(79),n=n(36);function s(e,t){r.call(this,"image"),t=t||{},(this.loader=this._getLoader(e)).load(),this._setupElement(t),e.key&&(this.assetKey=e.key,e=this._clickHandler=this._handleClick.bind(this),this.element.addEventListener("click",e)),this._loaded$=this.loader.loaded$}i.inherit(s,r),Object.assign(s.prototype,n,{destroy:function(){this._clickHandler&&this.element.removeEventListener("click",this._clickHandler)},_getLoader:function(e){if(e.loader)return e.loader;if(!e.src)throw new Error("Either loader or src is required in asset");return e.loader=new o(e.src)},_setupElement:function(e){this.element=this.loader.element},_handleClick:function(e){e.defaultPrevented||(e._assetKey=this.assetKey)}}),Object.defineProperty(s.prototype,"loaded$",{get:function(){return this._loaded$}}),s.createDefault=function(e){return new s(e).monitorVisibility()},e.exports=s},function(e,t,n){var i=n(1),r=n(0),o=n(34);function s(e){o.call(this,e)}r.inherit(s,o),Object.assign(s.prototype,{_loadWithElement$:function(o){var s=document.createElement("img"),e=new i(function(e,t){function n(){r(),e()}function i(e){r(),t("Image Loading Error: "+o)}function r(){s.removeEventListener("load",n),s.removeEventListener("error",i)}s.addEventListener("load",n,!1),s.addEventListener("error",i,!1),s.src=o});return[s,e]}}),e.exports=s},function(e,t,n){var i=n(0),r=n(35);function o(e,t){r.call(this,"anchor"),this._setupElement(e.content,t=t||{})}i.inherit(o,r),Object.assign(o.prototype,{_setupElement:function(e,t){t=this.element=t.element||document.createElement("a");t.href=e,t.target="_blank";e=this._clickHandler=this._handleClick.bind(this);t.addEventListener("click",e)},_handleClick:function(e){e.defaultPrevented||this._emitter.emit("click",Object.assign({originalEvent:e},e._assetKey&&{assetKey:e._assetKey}))},destroy:function(){this._clickHandler&&this.element.removeEventListener("click",this._clickHandler),r.prototype.destroy.apply(this,arguments)}}),o.createDefault=function(e){return new o(e)},e.exports=o},function(e,t,n){var i=n(82);e.exports=function(e){return{cssURL:"//tenmax-static.cacafly.net/ssp/ppapTemplate/prod/"+e+"/styles.css",htmlURL:"//tenmax-static.cacafly.net/ssp/ppapTemplate/prod/"+e+"/template.html",capability:function(e){try{return i("./"+e+"/settings.json")||{}}catch(e){}return{}}(e)}}},function(e,t,n){var i={"./300x250p/settings.json":83,"./320x100/settings.json":84,"./horizontal-video-companion/settings.json":85};function r(e){e=o(e);return n(e)}function o(e){if(n.o(i,e))return i[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=o,(e.exports=r).id=82},function(e){e.exports=JSON.parse('{"mobileFullWidth":true}')},function(e){e.exports=JSON.parse('{"mobileFullWidth":true}')},function(e){e.exports=JSON.parse('{"mobileFullWidth":true}')},function(e,t,n){var i=n(1),r=n(2),o=n(6);function s(e){if(!e||!e.content&&!e.htmlURL)throw new Error("One of content HTML or htmlURL is required");this.cssURL=this._processURL(e.cssURL),this.htmlURL=this._processURL(e.htmlURL),this.content=e.content,this.resources$=[]}s.prototype._processURL=function(e){return e},s.prototype.load$=function(){var e=this.cssURL,t=this.htmlURL,n=this.content;return e?(this.css$=o.loadCSS$(e),this.resources$.push(this.css$)):this.resources$.push(i.resolve()),this.html$=t?o.get$(t,!1):n?i.resolve(n):i.reject("Requires one of htmlURL or content"),this.resources$.push(this.html$),i.all(this.resources$).then(function(e){return{css:e[0],html:e[1]}})},s.prototype.getCSS$=function(){return this.css$},s.prototype.getHTML$=function(){return this.html$},r.register("TemplateManager",s),e.exports=s},function(e,t,n){var i=n(0),r=n(3),o=n(6),s=n(18),a=n(88);function c(e){this.options=e||{},this.expaned=!1,this.renderLogo=this.renderLogo.bind(this)}i.inherit(c,s),c.prototype.setPlacement=function(e){this.placement=e},c.prototype.setVideo=function(e){this.videoElement=e,this.templateElement&&this._attachVideo(e)},c.prototype._attachVideo=function(){this.videoContainer=this._element.querySelector("#tenmax-combo-ad-video"),this.videoContainer.innerHTML="",this.videoContainer.appendChild(this.videoElement),this._videoAttached=!0},c.prototype.setCompanion=function(e){this.companionElement=e,this.templateElement&&this._attachCompanion()},c.prototype.setTitle=function(e){var t=this._element.querySelector("#tenmax-combo-ad-title");t&&(t.innerHTML=e)},c.prototype._attachCompanion=function(){this.companionContainer=this._element.querySelector("#tenmax-combo-ad-companion"),this.companionContainer.innerHTML="",this.companionContainer.appendChild(this.companionElement),this._companionAttached=!0},c.prototype.setTemplate=function(e){var t=this._head=r.buildElementsFromHtml(e.html)[0];this._element=t.querySelector(".combo-ad")||t,this.cssElement=e.css,this.templateElement=!0,this.videoElement&&this._attachVideo(),this.companionElement&&this._attachCompanion()},c.prototype.render$=function(){var e=this;return this.loadSandboxCss().then(function(){e.renderTemplateToSpace(),e.renderLogo()})},c.prototype.renderTemplateToSpace=function(){if(!this.placement)throw new Error("Placement is required");this._teardown=r.placeNodes(this.placement.ref,this.placement.position,[this._head])},c.prototype.renderLogo=function(){var e;!1===this.options.logo||(e=this._element.querySelector(".logo-container")||this._element)&&(this.logo=new a({container:e}))},c.prototype.loadSandboxCss=function(){return o.loadCSS$("//tenmax-static.cacafly.net/ssp/sandbox.css")},c.prototype.videoOnly=function(){this._element.classList.add("video-only")},c.prototype.expand=function(){this.expaned||(this._element.classList.add("expand"),this.expaned=!0)},e.exports=c},function(e,t,n){var i=n(0),r=n(6),o=n(9),s=n(89),a=n(90);function c(e){o.call(this,"logo");var t=this._getContainerElement(e=e||{});this._setupElement(e,t),this._bindControlEvents(),t&&t.appendChild(this.element)}i.inherit(c,o),Object.assign(c.prototype,{_getContainerElement:function(e){e=e.container;return e&&(e instanceof HTMLElement?e:e.isWidget||e.element instanceof HTMLElement?e.element:void 0)},_setupElement:function(e,t){r.installCSS("tenmax-logo",a);var n=this.element=document.createElement("span");n.setAttribute("data-rmax-widget-type","logo"),n.id="tenmax-logo",n.innerHTML=s,this._setupMenuStyle(e,t)},_bindControlEvents:function(){this.element.querySelector(".icon").addEventListener("click",this.openMenu.bind(this)),this.element.querySelector(".close-btn").addEventListener("click",this.closeMenu.bind(this))},_setupMenuStyle:function(e,t){var n=e.width||t.clientWidth||100,i=e.height||t.clientHeight||100,e=150<=i||n/i<=2.45,t=e&&250<=n&&2e4<=Math.max(n,500)*(i-165),i=e?n<=170||i<=130:n<=340,n=this.element.querySelector(".menu");n.classList.add(e?"vertical":"horizontal"),t&&n.classList.add("descriptive"),i&&n.classList.add("small-logo")},openMenu:function(){this.element.classList.add("open")},closeMenu:function(){this.element.classList.remove("open")},destroy:function(){o.prototype.destroy.apply(this,arguments)}}),e.exports=c},function(e,t){e.exports='<span class="icon"></span>\n<div class="menu">\n  <div class="close-btn"></div>\n  <a class="menu-item home" href="//www.tenmax.io" target="_blank">\n    <img src="//tenmax-static.cacafly.net/dsp/logo_tenmax.png">\n  </a>\n  <div class="menu-item description">TenMax 致力於尖端的數位廣告技術開發，根據用戶的瀏覽行為，TenMax 能建立精準廣告服務搭起廣告主與用戶的溝通橋樑。 歡迎立即聯繫我們，拓展您的事業！</div>\n  <div class="menu-item contact">\n    <a href="https://www.tenmax.io/tw/contact" target="_blank">購買<br>TenMax 廣告</a>\n  </div>\n  <div class="menu-item blog">\n    <a href="https://www.tenmax.io/" target="_blank">更多資訊<br>和選項</a>\n  </div>\n  <div class="menu-item privacy">\n    <a href="https://www.tenmax.io/tw/privacy-policy" target="_blank">隱私權<br>宣言</a>\n  </div>\n</div>\n'},function(e,t){e.exports="#tenmax-logo {\n  position: absolute;\n  z-index: 1;\n  right: 0px;\n  top: 0px;\n}\n\n/* icon */\n#tenmax-logo > .icon {\n  display: block;\n  height: 16px;\n  width: 20px;\n  transition: width 0.2s;\n  background: url(//tenmax-static.cacafly.net/dsp/icon2x.png) 0 0 no-repeat;\n  background-size: 100% 100%;\n  cursor: pointer;\n}\n#tenmax-logo > .icon:hover {\n  background-image: url(//tenmax-static.cacafly.net/dsp/icon_full2x.png);\n  width: 67px;\n}\n\n/* menu */\n#tenmax-logo > .menu {\n  display: none;\n  background-color: #FFF;\n  box-shadow: 2px 2px 3px #888;\n  border: 1px solid #0FA0B2;\n  margin-left: 5px;\n  border-bottom-left-radius: 7px;\n  letter-spacing: 1px;\n  font-family: Arial, \"微軟正黑體\", sans-serif;\n}\n#tenmax-logo.open > .menu {\n  display: block;\n}\n#tenmax-logo.open > .icon {\n  display: none;\n}\n\n\n/* menu: close button */\n#tenmax-logo > .menu .close-btn {\n  float: right;\n  margin: 5px;\n  background: url(//tenmax-static.cacafly.net/dsp/bt_close.png) 0 0 no-repeat;\n  width: 17px;\n  height: 17px;\n  opacity: 0.7;\n  cursor: pointer;\n}\n#tenmax-logo > .menu .close-btn:hover {\n  opacity: 1;\n}\n\n/* menu: layout */\n#tenmax-logo > .menu::after,\n#tenmax-logo > .menu.vertical .menu-item::before,\n#tenmax-logo > .menu.vertical .menu-item::after {\n  content: '';\n  display: block;\n  clear: both;\n}\n#tenmax-logo > .menu.vertical {\n  max-width: 400px;\n}\n#tenmax-logo > .menu.horizontal {\n  min-width: 310px;\n}\n#tenmax-logo > .menu.horizontal .menu-item {\n  float: left;\n}\n#tenmax-logo > .menu.horizontal .menu-item a {\n  margin-top: 2px;\n  margin-right: 2px;\n  line-height: 17px;\n  padding: 2px 4px;\n  text-align: center;\n}\n#tenmax-logo > .menu.vertical .menu-item br {\n  display: none;\n}\n#tenmax-logo > .menu.descriptive .menu-item.description {\n  display: block;\n}\n#tenmax-logo > .menu.small-logo .menu-item.home > img {\n  width: 60px;\n}\n#tenmax-logo > .menu.horizontal.small-logo .menu-item.home {\n  margin-top: 5px;\n}\n\n/* menu-item */\n#tenmax-logo > .menu .menu-item.home {\n  display: inline-block;\n  padding: 5px 10px;\n}\n#tenmax-logo > .menu .menu-item.home > img {\n  width: 120px;\n  padding-top: 5%;\n}\n#tenmax-logo > .menu .menu-item.description {\n  display: none;\n  font-size: 12px;\n  line-height: 15px;\n  padding: 10px;\n  padding-top: 5px;\n  color: #333;\n}\n#tenmax-logo > .menu .menu-item a {\n  display: block;\n  font-size: 12px;\n  margin: 3px 0;\n  padding: 0 10px;\n  line-height: 24px;\n  text-decoration: none;\n  background-color: #EFEFEF;\n  color: #0FA0B2;\n}\n#tenmax-logo > .menu .menu-item a:hover {\n  display: block;\n  background-color: #0FA0B2;\n  color: #FFF;\n  text-decoration: none;\n}\n"},function(e,t,n){var i=n(0),r=n(2),o=n(5),s=n(13),a=n(12),c=n(92),u=n(3),d=n(11),l=new RegExp('<div id="freakout">\\s*</div>');function h(e,t){var n=t.content;if(!n||l.test(n))throw new o(o.TYPES.ILLEGAL_TEMPLATE,new Error,{template:n});s.call(this,a.FREAKOUT_NATIVE,e,t),this.service=new c,this.template=n}i.inherit(h,s),Object.assign(h.prototype,{_display$:function(){var t=this;return this._getContent$().then(function(e){""!==e&&void 0!==e?t._displayContent(e):t._doEmpty()})},_getContent$:function(){var e=this.channel,t=e.clickUrl||e.foClickUrlPrefix;return this.service.get$(this.space.element,e.hikeId,this.template,t)},_displayContent:function(e){var t=this.space.placement.ref,n=this.space.placement.position;d.verifyPlacement(t,n);e=this._elements=u.buildElementsFromHtml(e,this.channel.deepInto);this._teardown=u.placeNodes(t,n,e)},_destroy:function(){try{this._teardown&&this._teardown()}catch(e){}s.prototype._destroy.apply(this,arguments)}}),r.register("FreakOutNativeAd",h),e.exports=h},function(e,t,n){var i,r=n(2),o=n(16),s=n(3),a=n(93);function c(){}Object.assign(c.prototype,{get$:function(e,t,n,i){n=function(e){if((t=e.indexOf('type="text/rfp-infeed-template"'))<0)return e;var t=e.indexOf('<div id="freakout">',t),n=e.indexOf("<\/script>",t),n=e.lastIndexOf("</div>",n);return e.substring(t+'<div id="freakout">'.length,n).trim()}(n);var r=this._buildIframeContent(t,n,i);e=this._normalizeContainer(e);i=s.createFriendlyIframe();return i.style.display="none",e.appendChild(i),s.getDocument$(i).then(function(e){return s.writeDocument(e,r),e}).then(this._readAd$.bind(this)).catch(this._handleTimeout.bind(this))},_normalizeContainer:function(e){return e.ownerDocument.body},_buildIframeContent:function(e,t,n){return e&&n?a.replace(new RegExp("{{hikeId}}","g"),e).replace("{{template}}",t).replace("{{clickUrlPrefix}}",n):t},_readAd$:function(e){return o.waitFor$(100,100,this._readAd.bind(this,e)).then(function(e){return""===e?void 0:e})},_readAd:function(e){var t=e.getElementById("freakout");return t?t.innerHTML:e.querySelector("[data-rfp-adspot-id]")?void 0:""},_handleTimeout:function(e){}}),r.register("FreakOutAdService",c),e.exports=function(){return i=i||new c}},function(e,t){e.exports='<html>\n  <head>\n    <script type="text/rfp-infeed-template" data-adspot-id="{{hikeId}}"><div id="freakout">{{template}}</div><\/script>\n  </head>\n  <body>\n    <div data-rfp-adspot-id="{{hikeId}}" style="display: none"></div>\n    <script src="https://js.rfp.fout.jp/rfp-infeed.js"><\/script>\n<script type="text/javascript">\n  window.RFP.InFeed.Default.run({\n    immediately: true,\n    before_render: function(adInfo, placementInfo) {\n      adInfo.click_url = \'{{clickUrlPrefix}}\' + encodeURIComponent(adInfo.click_url);\n      return adInfo;\n    }\n  });\n<\/script>\n  </body>\n</html>\n'},function(e,t,n){var i=n(1),r=n(0),o=n(2),s=n(13),a=n(12),c=n(6),u=n(3),d=n(11);function l(e,t){s.call(this,a.FREAKOUT_BANNER,e,t),this._rfpInstalled$=this._installRfpDisplayScript$()}r.inherit(l,s),Object.assign(l.prototype,{_installRfpDisplayScript$:function(){return window.RFP&&window.RFP.Display?i.resolve():c.loadJS$("https://js.rfp.fout.jp/rfp-display.js")},_display$:function(){return this._setupContainer(),this._rfpInstalled$.then(this._renderFreakOut$.bind(this)).then(this._afterDisplay.bind(this))},_setupContainer:function(){var e=this._ref=this.space.placement.ref,t=this._position=this._getPosition();d.verifyPlacement(e,t);var n=this._ins=document.createElement("ins");n.setAttribute("data-rfp-display-adspot-id",this.channel.hikeId),n.style.display="none";var i=this._container=document.createElement("div");i.appendChild(n),this._teardown=u.placeNodes(e,t,[i])},_getPosition:function(){return this.space.placement.position||"INNER"},_renderFreakOut$:function(){var r=this._container,o=this._ins,e=new i(function(n){var i=new MutationObserver(function(e){var t;o.parentNode||(setTimeout(i,0),t=r.firstChild,n(t&&"foEmpty"!==t.id))}).observe(r,{childList:!0});setTimeout(n.bind(void 0,!1),5e3)});return window.RFP.Display.Default.run(r),e},_afterDisplay:function(e){e?this._elements=[this._container]:this._doEmpty()}}),o.register("FreakOutBannerAd",l),e.exports=l},function(e,t,n){var i=n(0),r=n(2),o=n(13),s=n(12),a=n(5),c=n(96),u=n(3),d=n(97),l=n(11);function h(e,t){o.call(this,s.DOUBLECLICK,e,t),this._is1stParty="doubleclick"===t.modType,this._isNative="native"===t.adType||"native"===t.subType,this._setupContainer(),this._setupGPT()}i.inherit(h,o),Object.assign(h.prototype,{_getPosition:function(){var e=this.space.placement.position;return e&&"INNER"!==e?e:"REPLACE"},_getContainerTemplate:function(){return this.channel.containerTemplate||(this._isNative?this.space.targetGptContainer:this.space.targetDoubleClickContainer)||"div"},_setupContainer:function(){var e=this._ref=this.space.placement.ref,t=this._position=this._getPosition();l.verifyPlacement(e,t);var n=this._getContainerHtml(this._getContainerTemplate()),n=this._container=u.buildElementsFromHtml(n)[0];this._teardown=u.placeNodes(e,t,[n])},_getContainerHtml:function(t){if(!t)throw new Error("Ad container template is required");try{return c.toHtml(t)}catch(e){throw new a(a.TYPES.INVALID_AD_CONTAINER_TEMPLATE,e,{template:t})}},_setupGPT:function(){var e=this.channel;this._gpt=new d(this._container,{adUnit:this._getAdUnit(e),size:this._getSize(e),targeting:this._getTargeting(e),variables:this._getVariables(e)})},_getAdUnit:function(e){if(!this._is1stParty)return e.externalId;if(e.adUnit)return"/"+n+"/"+e.adUnit;var t=this.space,n="TWN"===e.spaceCountry?"37275962":"65446623";return"/"+n+"/"+("prod"===(n=t.sspHost||t.rmaxads.sspHost)||0<=n.indexOf("//ssp.tenmax.io")?"rmaxspace":"stage"===n||0<=n.indexOf("//beta-ssp.tenmax.io")?"beta_rmaxspace":"dev_rmaxspace")+"/"+(e.subspaceId||t.spaceId)},_getSize:function(e){if(this._isNative)return"fluid";if(e.width&&e.height)return[e.width,e.height];throw new Error("No size for GPT")},_getTargeting:function(e){return!this._is1stParty||e.adUnit?{}:{adx_region:"TWN"===e.spaceCountry?"TWN":"HKG",line_item_type:(e.lineItemTypes||["adSense","adExchange"]).join(",")}},_getVariables:function(e){if(!this._is1stParty)return{};var t={};return e.publisherDomain&&(t.page_url=e.publisherDomain),t},_display$:function(){return this._gpt.display$().then(this._afterDisplay.bind(this))},_afterDisplay:function(e){var t;e?(t=this.lineItemId,e=this.channel.trackers,t&&e&&e.impression&&(e.impression=e.impression.map(function(e){return e+"&lineitemid="+t})),this._elements=[this._container]):this._doEmpty()},_destroy:function(){try{this._gpt&&this._gpt.destroy()}catch(e){}o.prototype._destroy.apply(this,arguments)}}),Object.defineProperties(h.prototype,{lineItemId:{get:function(){return this._gpt&&(this._gpt.lineItemId||this._gpt.sourceAgnosticLineItemId)}}}),r.register("DoubleClickAd",h),e.exports=h},function(e,t){function i(s){var i,e=s.length,t=function(){for(var e,t=s.split(""),n=t.length,i=!1,r=!1,o=0;o<n;o++)e=t[o],i?'"'===e?i=!1:t[o]="*":r?"'"===e?r=!1:t[o]="*":'"'===e?i=!0:"'"===e&&(r=!0);return t.join("")}(),r=0,o=0,a={tag:"div"};function n(){throw new Error("Illegal syntax: "+s)}function c(e,t){var n=s.substring(r,t);switch(o){case 0:""!==n&&(a.tag=n);break;case 1:a.id=n;break;case 2:(a.classes||(a.classes=[])).push(n);break;case 3:i=n.trim();break;case 4:(a.attributes||(a.attributes={}))[i]=function(e){if(!e||e.length<2)return e;var t=e[0],n=e.length-1;return"'"!==t&&'"'!==t||t!==e[n]?e:e.substring(1,n)}(n.trim()).trim(),i=void 0}r=t+1,o=e}for(var u=0;u<e;u++)switch(t[u]){case"#":c(1,u);break;case".":c(2,u);break;case"[":case"(":c(3,u);break;case"=":3!==o&&n(),c(4,u);break;case"]":case")":4!==o&&n(),c(5,u)}return c(),a}e.exports={toElement:function(e,t){e=i(e);t=t||document.createElement(e.tag),e.id&&(t.id=e.id),e.classes&&t.classList.add.apply(t.classList,e.classes);var n=e.attributes||{};return Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])}),t},toHtml:function(e){var t=i(e),e=t.tag,n=Object.assign({},t.id&&{id:t.id},t.classes&&{class:t.classes.join(" ")},t.attributes);return"<"+e+Object.keys(n).reduce(function(e,t){return e+" "+t+'="'+n[t]+'"'},"")+"></"+e+">"}}},function(e,t,n){var i,a=n(1),r=n(0),o=n(9),c=n(6),s=n(31),u=new(window.WeakMap||s),n=window,d=u;(i=n.googletag=n.googletag||{}).cmd=i.cmd||[],i.cmd.push(function(){i.pubads().addEventListener("slotRenderEnded",function(e){var t=d.get(e.slot);t&&t._handleRenderEnd(e)}),i.pubads().enableSingleRequest(),i.pubads().collapseEmptyDivs(!0),i.pubads().enableAsyncRendering(),i.enableServices()});var s=Math.pow(10,9),n=Math.pow(10,8),l=Math.floor(Math.random()*(s-n))+n,h=0,p=["advertiserId","campaignId","creativeId","isEmpty","lineItemId","sourceAgnosticLineItemId","sourceAgnosticCreativeId","size"];function f(e,t){if(o.call(this,"gpt"),this._options=t=t||{},!(this._element=e))throw new Error("Element is required.");this._elementId=e.id||"div-gpt-ad-"+l+"-"+h++,this._validate(t)}r.inherit(f,o),Object.assign(f.prototype,{display$:function(){var r=this,e=this._options;(t=window.googletag)&&t.apiReady?a.resolve():c.loadJS$("//www.googletagservices.com/tag/js/gpt.js","async");var t=this._element,o=this._elementId;t.setAttribute("id",o);var t=new a(function(e,t){r._resolveRendered=e}),s=window.googletag;return s.cmd.push(function(){var t=r._slot=s.defineSlot(e.adUnit,e.size,o);u.set(t,r);var n=e.targeting||{};Object.keys(n).forEach(function(e){t.setTargeting(e,n[e])});var i=e.variables||{};Object.keys(i).forEach(function(e){t.set(e,i[e])}),t.addService(s.pubads()),s.display(o);try{s.pubads().isInitialLoadDisabled()&&s.pubads().refresh([t])}catch(e){}}),t},destroy:function(){o.prototype.destroy.apply(this,arguments)},_validate:function(e){if("string"!=typeof e.adUnit)throw new Error("adUnit is required.");if(!e.size)throw new Error("size is required.")},_handleRenderEnd:function(t){var n=this;p.forEach(function(e){n[e]=t[e]}),this._resolveRendered&&this._resolveRendered(!t.isEmpty)}}),e.exports=f},function(e,t,n){var i=n(1),r=n(0),o=n(2),s=n(3),a=n(13),c=n(12),u=n(11);function d(e,t){a.call(this,c.TEST,e,t)}r.inherit(d,a),Object.assign(d.prototype,{_display$:function(){if(Math.random()<.5)return this._doEmpty(),i.resolve();var e=this.space.placement.ref,t=this.space.placement.position;u.verifyPlacement(e,t);var n=document.createElement("a");return n.href=this.channel.clickUrl,n.innerHTML=this.channel.content||"Test",this._teardown=s.placeNodes(e,t,this._elements=[n]),i.resolve()}}),o.register("TestAd",d),e.exports=d},function(e,t,n){var i=n(1),r=n(0),o=n(2),s=n(100),a=n(10),c=n(5);function u(e,t){a.call(this,"placement-manager"),this._doc=(t=t||{}).document||document,this._fallback=e,this._selector=t.selector,this._index=t.index,this._rootSelector=t.rootSelector,this.position=t.position||"INNER";var n=this;Object.defineProperty(this,"ref$",{value:new i(function(e,t){n._resolveRef=e,n._rejectRef=t})})}r.inherit(u,a),Object.assign(u.prototype,{start:function(){var e;this._selector?this._trySetRef()||(e=(e=new s(this._getRootElement(),this._trySetRef.bind(this))).disconnect.bind(e),this.ref$.then(e,e)):this._setRef(this._fallback)},_getRootElement:function(){var e=this._rootSelector;if(!e){var t=new Error("Ref element not found, and root selector is absent");throw new c(c.TYPES.SPACE_ELEMENT_NOT_FOUND,t,{selector:this._selector,index:this._index})}var n=this._doc.querySelector(e);if(!n)throw t=new Error("Ref element not found, and root element is also not found"),new c(c.TYPES.SPACE_ELEMENT_NOT_FOUND,t,{selector:this._selector,index:this._index,rootSelector:e});return n},_trySetRef:function(){var e=this._computeRef();return e&&this._setRef(e),e},_setRef:function(e){Object.defineProperty(this,"ref",{value:e}),this._emit("ref",e),this._resolveRef(e)},_computeRef:function(){var e;try{e=this._doc.querySelectorAll(this._selector)}catch(e){throw new c(c.TYPES.SPACE_ELEMENT_NOT_FOUND,e,{selector:this._selector,index:this._index})}return e[-1===Number(this._index)?e.length-1:this._index||0]}}),o.register("PlacementManager",u),e.exports=u},function(e,t){function n(){this._disconnect&&this._disconnect(),this._disconnect=void 0}function i(e,t){var n=new MutationObserver(function(e){!function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].addedNodes.length)return 1}(e)||t()});n.observe(e,{childList:!0,subtree:!0}),this._disconnect=n.disconnect.bind(n)}function r(e,t,n){e.addEventListener("DOMNodeInserted",n,!1),this._disconnect=e.removeEventListener.bind(e,"DOMNodeInserted",n,!1)}Object.assign(i.prototype,{disconnect:n}),Object.assign(r.prototype,{disconnect:n}),e.exports=window.MutationObserver?i:r},function(e,t,n){var i=n(0),r=n(2),o=n(27),s=n(104),a=n(7);function c(e){o.call(this,e,"universal"),this._planRequestPath="/supply/v3/universal/plan",this._adRequestPath="/supply/v3/universal/ad"}i.inherit(c,o),Object.assign(c.prototype,{_processChannel:function(e){if("asiamax"===(e=o.prototype._processChannel.apply(this,arguments)).modType)if("video"===e.adType)if("combo"===e.subType)return this._processComboAdChannel(e);return e},_processComboAdChannel:function(e){if(!e.content)return e;if(!e.templateKey)throw new Error("Missing PPAP template key.");var t=new s(e.content);t.checkSchema();var n=t.getVideo();return Object.assign({},e,{content:{video:n,companion:t.getCompanion()},cid:t.getCampaignId(),crid:n.creativeId,trackers:this._processComboAdTrackers(e.trackers,t.getTrackers())})},_processComboAdTrackers:function(e,t){t=Object.assign({},t);return t.impression=t.impressions||[],delete t.impressions,t.impression=t.impression.concat(e.impression||[]),t.error=t.errors,delete t.errors,t.script=e.script||[],t.retargeting=e.retargeting||[],t}}),c.accept=function(e){return e.type===a.UNIVERSAL},r.register("UniversalAdService",c),e.exports=c},function(e,t,n){var i=n(0),r=n(2),o=n(15),s=n(6),a=n(23),c=n(28),u=n(5),d=n(103);function l(e,t){d.call(this,e,t)}i.inherit(l,d),Object.assign(l.prototype,{getPlan$:function(t){var n=this._getPlanRequestUrl(t),i=this;return this._emit("plan-request",n,t),this._get$(n).catch(function(e){throw new u(u.TYPES.PLAN_REQUEST_FAILURE,e,{requestUrl:n})}).then(function(e){i._emit("plan-response",e,t);try{return i._parsePlanResponse(e,t)}catch(e){throw new u(u.TYPES.INVALID_SSP_PLAN_RESPONSE,e,{requestUrl:n})}})},_getApiHost:function(e){var t=e.sspHost||this._rmaxads.sspHost||"prod";switch(t||"prod"){case"prod":t="//ssp.tenmax.io";break;case"stage":t="//beta-ssp.tenmax.io";break;case"dev":t="http://localhost:58070"}return a.normalizeHost(t)},_getApiUrl:function(e,t,n){return n.cacheBuster=o(),e+t+s.encodeQueryParams(n)},_getPlanRequestUrl:function(e){return this._getApiUrl(this._getApiHost(e),this._getPlanRequestPath(e),this._getPlanRequestParams(e))},_getPlanRequestPath:function(e){return this._planRequestPath},_getPlanRequestParams:function(e){return Object.assign({rmaxSpaceId:e.spaceId},this._getCommonParams(e))},_getCommonParams:function(e){return i.trim({referer:this._rmaxads.referer,lang:this._rmaxads.lang})},_parsePlanResponse:function(){throw new Error("Unimplemented")},_requestAsiaMaxAd$:function(t,n,i){var r=this._getAdRequestUrl(t,n,i),o=this;return this._emit("ad-request",r,t,n,i),this._get$(r).catch(function(e){throw new u(u.TYPES.AD_REQUEST_FAILURE,e,{requestUrl:r})}).then(function(e){o._emit("ad-response",e,t,n,i);try{return o._parseAdResponse(e,t,i)}catch(e){throw new u(u.TYPES.INVALID_SSP_AD_RESPONSE,e,{requestUrl:r})}})},_getAdRequestUrl:function(e,t,n){return this._getApiUrl(this._getApiHost(e),this._getAdRequestPath(e,n),this._getAdRequestParams(e,t,n))},_getAdRequestPath:function(e,t){return this._adRequestPath},_getAdRequestParams:function(e,t,n){return i.trim({rmaxSpaceId:e.spaceId,subspaceId:n.subspaceId,sessionId:t,ts:e.sessionTs,id:n.id,dealIds:n.dealIds,ics:n.ics},this._getCommonParams(e))},_parseAdResponse:function(){throw new Error("Unimplemented")},_error:function(e,t,n){e=this._getApiHost(e)+"/supply/tracking/error";c.error(e,t,n)},_get$:function(e){return this._rmaxads._get$(e)}}),r.register("HttpAdService",l),e.exports=l},function(e,t,n){var r=n(1),i=n(0),o=n(2),s=n(10);function a(e,t){this._service=e,this._space=t,e.registerSpace(t)}function c(e,t){this._rmaxads=e,this.type=t,this._asiaMaxAdCache={},s.call(this,"service")}Object.assign(a.prototype,{getPlan$:function(){return this._service.getPlan$(this._space)},getAsiaMaxAd$:function(e){return this._service.getAsiaMaxAd$(this._space,this._space.sessionId,e)},error:function(e){return this._service.error(this._space,e)},unregister:function(){this._service.unregisterSpace(this._space)},destroy:function(){this.unregister()}}),c.SpaceView=a,i.inherit(c,s),Object.assign(c.prototype,{createSpaceView:function(e){return new a(this,e)},getPlan$:function(){throw new Error("Unimplemented")},getAsiaMaxAd$:function(e,t,n){var i=this._getAsiaMaxAdFromCache(e);return i?r.resolve(i):this._requestAsiaMaxAd$(e,t,n)},error:function(e,t){this._error(e,t,this._buildErrorContext(e))},registerSpace:function(){},unregisterSpace:function(){},destroy:function(){this._asiaMaxAdCache=void 0},_requestAsiaMaxAd$:function(){throw new Error("Unimplemented")},_getAsiaMaxAdFromCache:function(e){return this._asiaMaxAdCache[e.uuid]},_saveAsiaMaxAdToCache:function(e,t){this._asiaMaxAdCache[e.uuid]=t},_processPlanChannels:function(e,t){e=(e=e.channels).map(this._processChannel.bind(this));return e=this._processPlanChannelsForAsiaMax(t,e),this._addChannelIndices(e)},_processPlanChannelsForAsiaMax:function(e,t){if(1===t.length){var n=t[0];if("asiamax"===n.modType)return this._saveAsiaMaxAdToCache(e,n),[{id:n.id,modType:n.modType,adType:n.adType,subType:n.subType,index:0}]}return t},_processChannel:function(e){return e},_addChannelIndices:function(e){for(var t=0,n=e.length;t<n;t++)e[t].index=t;return e},_buildErrorContext:function(e){return{spaceId:e.spaceId,spaceStatus:e.status,spaceType:e.type,sessionId:e.sessionId,spaceResult:e.result}},_error:function(){throw new Error("Unimplemented")}}),o.register("BaseAdService",c),e.exports=c},function(e,t,n){var i=n(38),r=n(25),o=n(105);function s(e){this.parsedVASTObj=o.parse(e,{ext:function(e){return o.ext.viewables(e)}}),this.videoObject=this.parsedVASTObj.ads[0]&&this.parsedVASTObj.ads[0].creatives.filter(function(e){return"linear"===e.type})[0]}s.prototype.getCampaignId=function(){return this.videoObject.id},s.prototype.getVideo=function(){if(void 0===this.videoObject||0===this.videoObject.mediaFiles.length||0===this.videoObject.mediaFiles[0].length)return{};var e=this.videoObject.mediaFiles[0];return{creativeId:this.videoObject.creativeId,url:e.fileURL,clickThroughUrl:this.videoObject.videoClickThrough,duration:this.videoObject.duration,width:e.width,height:e.height}},s.prototype.haveVideo=function(){return 0!==Object.keys(this.getVideo()).length},s.prototype.haveCompanion=function(){return!!this.getCompanion()},s.prototype.getCompanion=function(){var e=this.parsedVASTObj.ads[0]&&this.parsedVASTObj.ads[0].creatives.filter(function(e){return"companions"===e.type})[0];if(e&&!(e.companions.length<=0)&&void 0!==(e=e.companions[0]))return void 0!==e.staticResource?{type:"static",url:e.staticResource.fileURL,clickThroughUrl:e.companionClickThrough,companionClickTracking:e.companionClickTracking}:void 0},s.prototype.getExtensions=function(){return this.parsedVASTObj.ads[0]&&this.parsedVASTObj.ads[0].extensions||{}},s.prototype.getErrorUrls=function(){return this.parsedVASTObj.ads[0]&&this.parsedVASTObj.ads[0].errors||[]},s.prototype.hasWrapper=function(){return this.parsedVASTObj.ads[0]&&this.parsedVASTObj.ads[0].hasOwnProperty("vastAdTagURI")},s.prototype.getTrackers=function(){var e=this.videoObject?this.videoObject.trackingEvents:{},t=this.videoObject||{},n=this.parsedVASTObj.ads[0]||{},i=this.getCompanion(),r=this.getExtensions(),o=function(e){return e.trackingUrl},s=e.progress||[],a=e.start&&e.start.map(o),c=e.firstQuartile&&e.firstQuartile.map(o),u=e.midpoint&&e.midpoint.map(o),d=e.thirdQuartile&&e.thirdQuartile.map(o),l=e.complete&&e.complete.map(o),h=e.creativeView&&e.creativeView.map(o),p=t.videoClickTracking&&t.videoClickTracking,f=i&&i.companionClickTracking||[],e=t.videoClickThrough,o=i&&i.clickThroughUrl,t=r.viewable,i=r.viewUndetermined,r=n.errors;return{impressions:n.impressions,start:a,firstQuartile:c,midpoint:u,thirdQuartile:d,complete:l,creativeView:h,viewable:t,viewUndetermined:i,progress:s,videoClickTracker:p,videoClickThrough:e,companionClickThrough:o,companionClickTracker:f,errors:r}},s.prototype.checkSchema=function(){if(this.hasWrapper())throw new i(r.WRAPPER_LIMIT_REACHED);if(!this.haveVideo())throw new i(r.GENERAL_LINEAR_ERROR)},e.exports=s},function(e,t,n){var o=n(106);function r(e){return o.reduce(e,{CompanionClickThrough:function(e,t){return e.companionClickThrough.push(o.text(t)),e},CompanionClickTracking:function(e,t){return e.companionClickTracking.push(o.text(t)),e},TrackingEvents:function(e,t){return e.trackingEvents=a(t),e},StaticResource:function(e,t){return e.staticResource={creativeType:(t=t).getAttribute("creativeType"),fileURL:o.text(t)},e}},{width:i(e.getAttribute("width")),height:i(e.getAttribute("height")),companionClickThrough:[],companionClickTracking:[]})}function s(e){return{delivery:e.getAttribute("delivery"),mimeType:e.getAttribute("type"),width:i(e.getAttribute("width")),height:i(e.getAttribute("height")),bitrate:i(e.getAttribute("bitrate")),fileURL:o.text(e)}}function a(e){return o.reduce(e,{Tracking:function(e,t){var n=t.getAttribute("event"),i={trackingUrl:o.text(t)};return"progress"===n&&(i.offset=c(t.getAttribute("offset"))),(e[n]||(e[n]=[])).push(i),e}},{})}function i(e){return e?parseInt(e,10):void 0}function c(e){if(!e)return 0;if(0<e.indexOf("%"))return e;e=e.split(":");return 60*(60*i(e[0])+i(e[1]))+i(e[2])}e.exports={parse:function(e,t){return e&&function(e,t){var n,e=e.documentElement;if("VAST"!==e.nodeName)throw new Error("VAST: Not a VAST XML");return n=t,{version:(e=e).getAttribute("version"),ads:o.reduce(e,{Ad:function(e,t){return e.push(function(e,t){var n,i=e.getAttribute("id"),e=o.child(e);if(e&&"Wrapper"===e.nodeName)throw new Error("VAST: <Wrapper> not supported.");if(!e||"InLine"!==e.nodeName)throw new Error("VAST: <InLine> element not found.");return Object.assign({id:i},(n=t,o.reduce(e,{Impression:function(e,t){return e.impressions.push(o.text(t)),e},Error:function(e,t){return e.errors.push(o.text(t)),e},Creatives:function(e,t){return e.creatives=o.children(t).map(function(t){var e=t.getAttribute("id"),n=function(){var e=o.child(t);switch(e.nodeName){case"Linear":return o.reduce(e,{Duration:function(e,t){return e.duration=c(o.text(t)),e},MediaFiles:function(e,t){return e.mediaFiles=o.children(t).map(s),e},VideoClicks:function(e,t){return Object.assign(e,o.reduce(t,{ClickThrough:function(e,t){return e.videoClickThrough.push(o.text(t)),e},ClickTracking:function(e,t){return e.videoClickTracking.push(o.text(t)),e}},{videoClickThrough:[],videoClickTracking:[]})),e},TrackingEvents:function(e,t){return e.trackingEvents=a(t),e}},{type:"linear"});case"CompanionAds":return{type:"companions",companions:o.children(e).map(r)}}throw new Error("Unsupported creative type: "+e.nodeName)}();return n&&(n.creativeId=n.id=e),n}).filter(function(e){return void 0!==e}),e},Extensions:function(e,t){return"function"==typeof n.ext&&(e.extensions=n.ext(t)),e}},{impressions:[],errors:[],creatives:[],extensions:{viewable:[],viewUndetermined:[]}})))}(t,n)),e}},[])}}(o.parse(e),t||{})},ext:{viewables:function(e){return o.reduce(e,{Extension:{ViewableImpression:{Viewable:function(e,t){return e.viewable.push(o.text(t)),e},ViewUndetermined:function(e,t){return e.viewUndetermined.push(o.text(t)),e}}}},{viewable:[],viewUndetermined:[]})},activeView:function(r,e){var i,t=function(){for(var e,t=o.children(r),n=0,i=t.length;n<i&&(e=t[n]);n++)if("activeview"===e.getAttribute("type"))return e}();return t&&(t=t,i=e&&e.reduce(function(e,t){return e[t]=!0,e},{}),o.reduce(t,{CustomTracking:{Tracking:function(e,t){var n=t.getAttribute("event");return i&&!i[n]||(e[n]||(e[n]=[])).push(o.text(t)),e}}},{}))}},helpers:{int:i,duration:c}}},function(e,t){function n(e){return e.children?Array.prototype.slice.call(e.children):Array.prototype.filter.call(e.childNodes,function(e){return 1===e.nodeType})}e.exports={parse:function(e){return(new DOMParser).parseFromString(e,"text/xml")},children:n,child:function(e){return n(e)[0]},reduce:function i(e,r,t){switch(typeof r){case"function":return r(t,e);case"object":return n(e).reduce(function(e,t){var n=r[t.nodeName];return n?i(t,n,e):e},t);default:return t}},text:function(e){e=e&&(e.textContent||e.text);return e?e.trim():void 0}}},function(e,t,n){var i=n(19),r=n(7),o=n(108),s=n(109),n=n(40);i.register(r.NATIVE_GROUPED,{selector:'.rmax[data-rmax-space-type="NATIVE"][data-rmax-group-id]',spaceModule:o}),i.register(r.NATIVE,{selector:'.rmax[data-rmax-space-type="NATIVE"]',spaceModule:o}),i.service.registerModule(s,n)},function(e,t,n){var i=n(0),r=n(7),o=n(20),s=n(26),n=function(e,t,n){var i=t.getAttribute("data-rmax-group-id")?r.NATIVE_GROUPED:r.NATIVE;o.call(this,e,i,t,n)};i.inherit(n,o),Object.assign(n.prototype,{_selectDefaultAdModule:function(){return s}}),e.exports=n},function(e,t,n){var i=n(1),r=n(0),o=n(2),s=n(40),a=n(7);function c(){this._entries=[],this._pendingSpaceUuids={};var n=this;this.result$=new i(function(e,t){n._resolve=e,n._reject=t})}function u(e,t){this._service=e,this._groupId=t,this._request=new c,this._requested=!1,this._pending=!1}function d(e){s.call(this,e,"native-grouped"),this._planRequestPath="/supply/v3/native/grouped-plan",this._queue={}}Object.defineProperty(c.prototype,"ready",{get:function(){return 0===Object.keys(this._pendingSpaceUuids).length}}),Object.defineProperty(c.prototype,"length",{get:function(){return Object.keys(this._pendingSpaceUuids).length+this._entries.length}}),Object.assign(c.prototype,{register:function(e){this._pendingSpaceUuids[e.uuid]=!0},unregister:function(e){delete this._pendingSpaceUuids[e.uuid]},add$:function(e){var n={space:e},t=n.result$=new i(function(e,t){n._resolve=e,n._reject=t});return this._entries.push(n),this.unregister(e),t},resolve:function(e){for(var t=0,n=this._entries.length;t<n;t++)this._entries[t]._resolve(e[t])},reject:function(e){for(var t=0,n=this._entries.length;t<n;t++)this._entries[t]._reject(e)}}),Object.assign(u.prototype,{register:function(e){if(this._requested)throw new Error("Grouped request already sent");this._request.register(e)},unregister:function(e){this._requested||(this._request.unregister(e),this._next())},getPlan$:function(e){if(this._requested)throw new Error("Grouped request already sent");e=this._request.add$(e);return this._next(),e},_next:function(){this._requested||this._pending||!this._request.ready||0===this._request.length||this._dispatch$()},_dispatch$:function(){this._pending=!0;var t=this._request,e=this;function n(){e._pending=!1,e._requested=!0}this._service._dispatchPlanRequest$(t._entries).then(function(e){t.resolve(e),n()},function(e){t.reject(e),n()})}}),r.inherit(d,s),Object.assign(d.prototype,{registerSpace:function(e){this._getQueue(e.groupId).register(e)},unregisterSpace:function(e){this._getQueue(e.groupId).unregister(e)},getPlan$:function(e){return this._getQueue(e.groupId).getPlan$(e)},_getQueue:function(e){return this._queue[e]||(this._queue[e]=new u(this,e))},_dispatchPlanRequest$:function(e){return s.prototype.getPlan$.call(this,e)},_getPlanRequestParams:function(e){var t=e[0].space,e=e.map(function(e){return e.space.spaceId}).join(",");return Object.assign({rmaxSpaceIds:e},this._getCommonParams(t))},_processPlanResponse:function(e,t){for(var n=[],i=0,r=e.length;i<r;i++)n.push(s.prototype._processPlanResponse.call(this,e[i],t[i].space));return n},_requestAsiaMaxAd$:function(){throw new Error}}),d.accept=function(e){return e.type===a.NATIVE_GROUPED},o.register("NativeGroupedAdService",d),e.exports=d},function(e,t,n){var i=n(19),r=n(7),o=n(111),n=n(112);i.register(r.BANNER,{selector:'.rmax[data-rmax-space-type="BANNER"]',spaceModule:o}),i.service.registerModule(n)},function(e,t,n){var i=n(0),r=n(7),o=n(20),s=n(39);function a(e,t,n){o.call(this,e,r.BANNER,t,n)}i.inherit(a,o),Object.assign(a.prototype,{_selectDefaultAdModule:function(){return s}}),e.exports=a},function(e,t,n){var i=n(0),r=n(2),o=n(27),s=n(7);function a(e){o.call(this,e,"banner"),this._apiRootPath="/supply/v3/banner",this._planRequestPath=this._apiRootPath+"/plan",this._adRequestPath=this._apiRootPath+"/ad"}i.inherit(a,o),Object.assign(a.prototype,{}),a.accept=function(e){return e.type===s.BANNER},r.register("BannerAdService",a),e.exports=a},function(e,t,n){n(19).autoStart()},function(e,t,n){n(42),n(55),n(107),n(110),n(113)},,,,,function(e,t,n){n(41),e.exports=n(114)}]);

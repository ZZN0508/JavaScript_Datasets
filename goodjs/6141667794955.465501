home.loadManager.subscribe("jquery",function(){window.Ya&&Ya.Rum&&Ya.Rum.time&&Ya.Rum.time("2095"),window.home=window.home||{},home.bundles=home.bundles||{},home.bundles.staticURL=home.bundles.staticURL||{},home.bundles.staticURL["user-points"]={js:"//yastatic.net/s3/home-static/_/b/t/ESbAsn1jbdR9Gsm9Hu4r1Nx1k.js",css:"//yastatic.net/s3/home-static/_/P/j/YXBsO8xiK9yo5Qfw1pxNQn0IU.css","css.webp":"//yastatic.net/s3/home-static/_/2/4/fpoe4wUKSI1enP89DoG0ahHeA.css","js.gen":"//yastatic.net/s3/home-static/_/b/t/ESbAsn1jbdR9Gsm9Hu4r1Nx1k.js","css.gen":"//yastatic.net/s3/home-static/_/P/j/YXBsO8xiK9yo5Qfw1pxNQn0IU.css","css.gen.webp":"//yastatic.net/s3/home-static/_/2/4/fpoe4wUKSI1enP89DoG0ahHeA.css"},home.bundles.staticURL.keyboard={js:"//yastatic.net/s3/home-static/_/e/V/_sifpMYWyb56ecyyXf-hFpFRc.js",css:"//yastatic.net/s3/home-static/_/y/S/jS_Y8zqDYp9wQyGifr8o1_Or4.css","css.webp":"//yastatic.net/s3/home-static/_/P/e/1KGihYoC4Oi4Sz8DxRtC50E2Q.css","js.gen":"//yastatic.net/s3/home-static/_/e/V/_sifpMYWyb56ecyyXf-hFpFRc.js","css.gen":"//yastatic.net/s3/home-static/_/y/S/jS_Y8zqDYp9wQyGifr8o1_Or4.css","css.gen.webp":"//yastatic.net/s3/home-static/_/P/e/1KGihYoC4Oi4Sz8DxRtC50E2Q.css"},home.bundles.staticURL["direct-new-design"]={js:"//yastatic.net/s3/home-static/_/m/x/l3ith6OyGpU0OOgJ_jK0ktUQ4.js",css:"//yastatic.net/s3/home-static/_/R/F/DSkeXClsriaXkE-PuqIp_yeHU.css","css.webp":"//yastatic.net/s3/home-static/_/R/F/DSkeXClsriaXkE-PuqIp_yeHU.css","js.gen":"//yastatic.net/s3/home-static/_/m/x/l3ith6OyGpU0OOgJ_jK0ktUQ4.js","css.gen":"//yastatic.net/s3/home-static/_/z/P/MM141GCOI81rkbMTQCdbr_MUc.css","css.gen.webp":"//yastatic.net/s3/home-static/_/z/P/MM141GCOI81rkbMTQCdbr_MUc.css"},home.bundles.staticURL["b-themes-catalog"]={js:"//yastatic.net/s3/home-static/_/n/x/19pLgM01CaMTy1AMxGvzcfY44.js",css:"//yastatic.net/s3/home-static/_/2/j/mj7l5rSw0yVb_vlWAYkK_YBwk.css","css.webp":"//yastatic.net/s3/home-static/_/2/j/mj7l5rSw0yVb_vlWAYkK_YBwk.css","js.gen":"//yastatic.net/s3/home-static/_/n/x/19pLgM01CaMTy1AMxGvzcfY44.js","css.gen":"//yastatic.net/s3/home-static/_/2/j/mj7l5rSw0yVb_vlWAYkK_YBwk.css","css.gen.webp":"//yastatic.net/s3/home-static/_/2/j/mj7l5rSw0yVb_vlWAYkK_YBwk.css"},home.bundles.staticURL["media-event"]={js:"//yastatic.net/s3/home-static/_/5/u/WjekZRtLZoViqyJP3-I8_SSwk.js",css:"//yastatic.net/s3/home-static/_/s/D/rRkEjOIUQkspgCkhmp5bInstg.css","css.webp":"//yastatic.net/s3/home-static/_/d/c/U4YD_-_iatxHfKR2pnkr-0n4M.css","js.gen":"//yastatic.net/s3/home-static/_/5/u/WjekZRtLZoViqyJP3-I8_SSwk.js","css.gen":"//yastatic.net/s3/home-static/_/s/D/rRkEjOIUQkspgCkhmp5bInstg.css","css.gen.webp":"//yastatic.net/s3/home-static/_/d/c/U4YD_-_iatxHfKR2pnkr-0n4M.css"},home.bundles.staticURL["media-event-promo"]={js:"//yastatic.net/s3/home-static/_/z/p/Di3yuuq2V_1xEw5tevYiIZop0.js",css:"//yastatic.net/s3/home-static/_/7/B/JE0aJp9IBYXZMvmfn24guWgbM.css","css.webp":"//yastatic.net/s3/home-static/_/7/B/JE0aJp9IBYXZMvmfn24guWgbM.css","js.gen":"//yastatic.net/s3/home-static/_/z/p/Di3yuuq2V_1xEw5tevYiIZop0.js","css.gen":"//yastatic.net/s3/home-static/_/7/B/JE0aJp9IBYXZMvmfn24guWgbM.css","css.gen.webp":"//yastatic.net/s3/home-static/_/7/B/JE0aJp9IBYXZMvmfn24guWgbM.css"},home.bundles.staticURL["win10-stripe"]={js:"//yastatic.net/s3/home-static/_/K/w/BBk5-CeCFEuG_1oHfzEXxz3vE.js",css:"//yastatic.net/s3/home-static/_/Q/J/OJ7BDU4sdTxOeEK8-o_Kq8UAM.css","css.webp":"//yastatic.net/s3/home-static/_/Q/J/OJ7BDU4sdTxOeEK8-o_Kq8UAM.css","js.gen":"//yastatic.net/s3/home-static/_/K/w/BBk5-CeCFEuG_1oHfzEXxz3vE.js","css.gen":"//yastatic.net/s3/home-static/_/Q/J/OJ7BDU4sdTxOeEK8-o_Kq8UAM.css","css.gen.webp":"//yastatic.net/s3/home-static/_/Q/J/OJ7BDU4sdTxOeEK8-o_Kq8UAM.css"},home.bundles.staticURL.streamnow={js:"//yastatic.net/s3/home-static/_/C/y/p-N40rWFfhHrgtA4inbdV5BF4.js",css:"//yastatic.net/s3/home-static/_/A/J/nCRj--RWLSSXnEfgBeUuujGTY.css","css.webp":"//yastatic.net/s3/home-static/_/A/J/nCRj--RWLSSXnEfgBeUuujGTY.css","js.gen":"//yastatic.net/s3/home-static/_/C/y/p-N40rWFfhHrgtA4inbdV5BF4.js","css.gen":"//yastatic.net/s3/home-static/_/A/J/nCRj--RWLSSXnEfgBeUuujGTY.css","css.gen.webp":"//yastatic.net/s3/home-static/_/A/J/nCRj--RWLSSXnEfgBeUuujGTY.css"},home.bundles.staticURL["stream-promo-popup"]={js:"//yastatic.net/s3/home-static/_/q/H/gUvRYR-GFHibFHLMAyZQs_uQE.js",css:"//yastatic.net/s3/home-static/_/7/n/yNGXOSXVTWvWvhndu-bi8qYBg.css","css.webp":"//yastatic.net/s3/home-static/_/7/n/yNGXOSXVTWvWvhndu-bi8qYBg.css","js.gen":"//yastatic.net/s3/home-static/_/q/H/gUvRYR-GFHibFHLMAyZQs_uQE.js","css.gen":"//yastatic.net/s3/home-static/_/7/n/yNGXOSXVTWvWvhndu-bi8qYBg.css","css.gen.webp":"//yastatic.net/s3/home-static/_/7/n/yNGXOSXVTWvWvhndu-bi8qYBg.css"},home.bundles.staticURL["mobile-balloon"]={js:"//yastatic.net/s3/home-static/_/i/5/927hneLWeL4p8j-ejsAfKHPU4.js",css:"//yastatic.net/s3/home-static/_/F/3/m1rIXyCdRj4Bl6zwv86dpPPF0.css","css.webp":"//yastatic.net/s3/home-static/_/F/3/m1rIXyCdRj4Bl6zwv86dpPPF0.css","js.gen":"//yastatic.net/s3/home-static/_/i/5/927hneLWeL4p8j-ejsAfKHPU4.js","css.gen":"//yastatic.net/s3/home-static/_/F/3/m1rIXyCdRj4Bl6zwv86dpPPF0.css","css.gen.webp":"//yastatic.net/s3/home-static/_/F/3/m1rIXyCdRj4Bl6zwv86dpPPF0.css"},home.bundles.staticURL["b-errormsg"]={js:"//yastatic.net/s3/home-static/_/_/v/Q5Bel1Hhkns8MkHevJrDjK3iA.js",css:"//yastatic.net/s3/home-static/_/M/C/kp99BvqonckYZfoTL-GyOAdL0.css","css.webp":"//yastatic.net/s3/home-static/_/M/C/kp99BvqonckYZfoTL-GyOAdL0.css","js.gen":"//yastatic.net/s3/home-static/_/_/v/Q5Bel1Hhkns8MkHevJrDjK3iA.js","css.gen":"//yastatic.net/s3/home-static/_/M/C/kp99BvqonckYZfoTL-GyOAdL0.css","css.gen.webp":"//yastatic.net/s3/home-static/_/M/C/kp99BvqonckYZfoTL-GyOAdL0.css"},home.bundles.staticURL["b-time-banner"]={js:"//yastatic.net/s3/home-static/_/h/Y/qX-Hk7oEt-3C18aESFABphdOA.js",css:"//yastatic.net/s3/home-static/_/c/T/F1LmBb5BObTgPnc7CgizJggXU.css","css.webp":"//yastatic.net/s3/home-static/_/L/G/yoj7wuLfzJ2Ok0-GpEgBAnTQ8.css","js.gen":"//yastatic.net/s3/home-static/_/h/Y/qX-Hk7oEt-3C18aESFABphdOA.js","css.gen":"//yastatic.net/s3/home-static/_/c/T/F1LmBb5BObTgPnc7CgizJggXU.css","css.gen.webp":"//yastatic.net/s3/home-static/_/L/G/yoj7wuLfzJ2Ok0-GpEgBAnTQ8.css"},home.bundles.staticURL["old-zen"]={js:"//yastatic.net/s3/home-static/_/U/3/FzIYU_Ih1oZ7pXMBDJO5gmeUA.js",css:"//yastatic.net/s3/home-static/_/v/q/K5FTAY-5ViKWy2tGg4uM44Hl8.css","css.webp":"//yastatic.net/s3/home-static/_/v/q/K5FTAY-5ViKWy2tGg4uM44Hl8.css","js.gen":"//yastatic.net/s3/home-static/_/U/3/FzIYU_Ih1oZ7pXMBDJO5gmeUA.js","css.gen":"//yastatic.net/s3/home-static/_/v/q/K5FTAY-5ViKWy2tGg4uM44Hl8.css","css.gen.webp":"//yastatic.net/s3/home-static/_/v/q/K5FTAY-5ViKWy2tGg4uM44Hl8.css"},home.bundles.staticURL["media-broadcast"]={js:"//yastatic.net/s3/home-static/_/c/J/B6PFj9NqyrZG56YGoOrTWzjGM.js",css:"//yastatic.net/s3/home-static/_/z/D/O6eC6hpfmy5Pj7OO-8w257gvU.css","css.webp":"//yastatic.net/s3/home-static/_/z/D/O6eC6hpfmy5Pj7OO-8w257gvU.css","js.gen":"//yastatic.net/s3/home-static/_/c/J/B6PFj9NqyrZG56YGoOrTWzjGM.js","css.gen":"//yastatic.net/s3/home-static/_/z/D/O6eC6hpfmy5Pj7OO-8w257gvU.css","css.gen.webp":"//yastatic.net/s3/home-static/_/z/D/O6eC6hpfmy5Pj7OO-8w257gvU.css"},function(a){function t(t){for(var e,i,n=t[0],o=t[1],s=0,r=[];s<n.length;s++)i=n[s],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&r.push(c[i][0]),c[i]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(a[e]=o[e]);for(h&&h(t);r.length;)r.shift()()}var i={},c={null:0};function l(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,l),e.l=!0,e.exports}l.e=function(n){var t,o,s,e,r,i=[],a=c[n];return 0!==a&&(a?i.push(a[2]):(t=new Promise(function(t,e){a=c[n]=[t,e]}),i.push(a[2]=t),(o=document.createElement("script")).charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.src=l.p+""+{1:"a0"}[n]+"/"+{1:"a013ce0bc672e5cb9fb8066682af2f17"}[n]+".js",0!==o.src.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous"),s=new Error,e=function(t){o.onerror=o.onload=null,clearTimeout(r);var e,i=c[n];0!==i&&(i&&(e=t&&("load"===t.type?"missing":t.type),t=t&&t.target&&t.target.src,s.message="Loading chunk "+n+" failed.\n("+e+": "+t+")",s.name="ChunkLoadError",s.type=e,s.request=t,i[1](s)),c[n]=void 0)},r=setTimeout(function(){e({type:"timeout",target:o})},12e4),o.onerror=o.onload=e,document.head.appendChild(o))),Promise.all(i)},l.m=a,l.c=i,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(i,n,function(t){return e[t]}.bind(null,n));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="//yastatic.net/s3/home-static/_/",l.oe=function(t){throw console.error(t),t};var e=(n=window.webpackJsonp=window.webpackJsonp||[]).push.bind(n);n.push=t;for(var n=n.slice(),o=0;o<n.length;o++)t(n[o]);var h=e;l(l.s="vMaR")}({"+1uM":function(t,e){!function(){var i="__uniqMBEM"+Math.random().toString().substr(2,5),h=MBEM.blocks={};MBEM.prototype=Object.create(MBEM.Observable.prototype),MBEM.prototype.getDefaultParams=function(){return{}};var o=MBEM._propListeners="__uniqMBEMListeners"+Math.random().toString().substr(2,5);MBEM.prototype.bindTo=function(t,e,n){return"function"==typeof e&&(n=e,e=t,t=this.domElem),"string"==typeof t?t=this.elem(t):Array.isArray(t)||(t=[t]),e.split(" ").forEach(function(i){t.forEach(function(t){var e=n.bind(this);e.origHandler=n,t[o]||(t[o]={}),t[o][i]||(t[o][i]=[]),t[o][i].push(e),t.addEventListener(i,e)},this)},this),this},MBEM.prototype.elem=function(t,e,i){var n=[],t=t.split(" ").map(function(t){t=this.__self.className(t,e,i);return MBEM.cls.contains(this.domElem,t)&&n.push(this.domElem),"."+t},this).join(",");return n.concat(MBEM.arrayFrom(this.domElem.querySelectorAll(t)))};function t(){}MBEM.override=function(i,n){return"function"==typeof n&&-1<n.toString().indexOf("__base")?(i=i||t,function(){var t=this.__base;this.__base=i;var e=n.apply(this,arguments);return this.__base=t,e}):n},MBEM.staticProto={},MBEM.staticProto.className=function(t,e,i){var n=this._name;return t&&(n+="__"+t),void 0!==e&&!1!==i&&(n+="_"+e+(!0!==i&&void 0!==i?"_"+i:"")),n},MBEM.decl=function(t,e,i){e=e||{};var n,o,s,r,a,c,l=!1;for(c in"object"==typeof t&&t.baseBlock?(l=!0,a=t.baseBlock,t=t.block):a=t,a in h?(o=h[a].prototype,n=s=h[a]):(l=!0,o=MBEM.prototype,s=MBEM.staticProto),l&&(o=Object.create(o),(n=function(t){this.__internalConstructor(t),this.__constructor(t),this.__afterConstructor(t)}).prototype=o,((n.prototype.constructor=n).prototype.__self=n)._name=t,h[t]=n),e)e.hasOwnProperty(c)&&(o[c]=MBEM.override(o[c],e[c]));for(r in s)i&&i.hasOwnProperty(r)||n[r]||(n[r]=s[r]);if(i)for(r in i)i.hasOwnProperty(r)&&(n[r]=MBEM.override(s[r],i[r]));return n},MBEM.getBlock=function(t,e){return t[i]&&t[i][e]},MBEM.consoleError=function(){if(window.console&&window.console.error)try{window.console.error.apply(window.console,arguments)}catch(t){}},MBEM.prototype.__internalConstructor=function(t){this.domElem=(t=t||{}).node,this.params=MBEM.extend(this.getDefaultParams(),t.params||{}),t.node&&((t.node[i]||(t.node[i]={}))[this.__self._name]=this)},MBEM.prototype.__constructor=function(){},MBEM.prototype.__afterConstructor=function(){},MBEM.initBlockFromNode=function(t,e,i){var n;return(n=MBEM.getBlock(t,e))?n:(i=i||MBEM.getNodeParams(t)[e],MBEM._createBlockFromNode({node:t,block:e,params:i}))},MBEM.createBlock=function(t){if(h[t.block])return new h[t.block](t);MBEM.consoleError("Block is not declared",t.block)},MBEM._createBlockFromNode=MBEM.createBlock,MBEM.getNodeParams=function(e){var t;try{t=JSON.parse(e.getAttribute("data-bem"))||{}}catch(t){return void MBEM.consoleError("Incorrect params",e)}return t}}()},"+6Tr":function(t,e){var i={};BEM.DOM.decl({block:"popup",modName:"body-scroll",modVal:"no"},{onSetMod:{visibility:function(){return this.afterCurrentEvent(function(){this.domElem&&this.hasMod("visibility","visible")?i[this.params.uniqId]=!0:delete i[this.params.uniqId],this._manageScopeOverflow()}),this.__base()}},destruct:function(){var t=this.params.uniqId;i[t]&&(delete i[t],this._manageScopeOverflow()),this.__base.apply(this,arguments)},_enableScroll:function(){return this._scope.css({overflow:""}),this},_disableScroll:function(){return this._scope.css({overflow:"hidden"}),this},_manageScopeOverflow:function(){var t=Object.keys(i).length;0===t?this._enableScroll():1===t&&this._disableScroll()}})},"+BsJ":function(t,e){home.htmlFilter=function(t){t=String(t);return t=-1<(t=-1<(t=-1<(t=-1<t.indexOf("&")?t.replace(/&/g,"&amp;"):t).indexOf("<")?t.replace(/</g,"&lt;"):t).indexOf(">")?t.replace(/>/g,"&gt;"):t).indexOf('"')?t.replace(/"/g,"&quot;"):t},home.getBEMParams=function(t){return home.htmlFilter(JSON.stringify(t))},home.getBEMClassname=function(n,t){var e=t.mods,i=n,e=e?home.getBEMMods(n,e):"";return t.mix&&("object"==typeof t.mix?(Array.isArray(t.mix)||(t.mix=[t.mix]),i+=" "+t.mix.map(function(t){var e=t.block||n,i=t.mods;return"string"==typeof t?t:(t.elem&&(e+="__"+t.elem,i=t.elemMods),i&&(e+=" "+home.getBEMMods(e,i)),e)}).join(" ")):i+=" "+t.mix),e&&(i+=" "+e),i},home.getBEMMods=function(t,e){var i,n=[];for(i in e)e.hasOwnProperty(i)&&(e[i]||0===e[i])&&n.push(t+"_"+i+"_"+e[i]);return n.join(" ")},home.emptyAttr={},home.getAttributes=function(t){if(!t)return"";var e,i,n="";for(e in t)t.hasOwnProperty(e)&&(!(i=t[e])&&0!==i||(i===home.emptyAttr?n+=" "+e:n+=" "+e+'="'+(i=-1<(i=i.toString()).indexOf('"')?i.replace(/"/g,"&quot;"):i)+'"'));return n}},"+H1W":function(t,e){BEM.DOM.decl({block:"widget-control",modName:"footer",modVal:"yes"},{onSetMod:{js:{inited:function(){this.bindTo(this.domElem,"pointerclick",this._onWidgetAction.bind(this,"hide")),this.bindKeyTo(this.domElem,"enter space",this._onWidgetAction.bind(this,"hide"))}}}})},"+IdE":function(t,e){!function(t,h){var n=h(window),a=h(document),c={},l={},o={},d={},u={},m=t.blocks,e=t.INTERNAL,s=e.NAME_PATTERN,p=e.MOD_DELIM,i=e.ELEM_DELIM,r=RegExp("[^"+p+"]"+p+"("+s+")(?:"+p+"("+s+"))?$"),_=e.buildModPostfix,f=e.buildClass,g=Array.prototype.slice,v=Array.prototype.reverse;function b(t,e,i,n,o){"boolean"==typeof i&&(o=n,n=i,i=void 0);var s=e[0];if(void 0===s.dataset||"react"!==s.dataset.lego){var r=(i=y(i||k(s)[t],s,t)).uniqId;if(l[r])return l[r]._init();c[r]=c[r]?c[r].add(e):e;s=s.parentNode;s&&11!==s.nodeType||h.unique(c[r]);s=m[t]||T.decl(t,{},{live:!0});if(!(s._liveInitable=Boolean(s._processLive()))||n||!1===i.live){n&&e.addClass("i-bem");s=new s(c[r],i,Boolean(n));return delete c[r],o&&o.apply(s,g.call(arguments,4)),s}}}function y(t,e,i,n){(t=t||{}).uniqId||(t.uniqId=(t.id?i+"-id-"+t.id:h.identify())+(n||h.identify()));e=h.identify(e),e=o[e]||(o[e]={});return e[i]||(e[i]=t),t}function w(t,e,i){var n=t.find(e);return i?n:n.add(t.filter(e))}function k(t){var e=h.identify(t);return o[e]||(o[e]=E(t))}function E(t){t=t.getAttribute("data-bem");return t?JSON.parse(t):{}}function M(t){delete o[h.identify(t)]}function x(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}h.fn.bem=function(t,e){return b(t,this,e,!0)};var T=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,e,i){this.domElem=t,this._eventNameCache={},this._elemCache={},this._blockInsideCache={},(l[this._uniqId=e.uniqId||h.identify(this)]=this)._needSpecialUnbind=!1,this.__base(null,e,i)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){var i=this._buildBlockCacheKey(t,e),e=this._findBlocks("find",t,e,!0);return this._blockInsideCache[i]=e},blockInside:function(t,e){var i=this._buildBlockCacheKey(t,e);return this._blockInsideCache[i]||this.findBlockInside(t,e)},dropBlockInsideCache:function(t,e){t||e?this._blockInsideCache[this._buildBlockCacheKey(t,e)]=null:this._blockInsideCache={}},_buildBlockCacheKey:function(t,e){e||(e=t,t="");e="string"==typeof e?e:f(e.block,e.modName,e.modVal);return("string"==typeof t?t:t.__bemElemName)+":"+e},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,e,i,n){if(!this.domElem)return n?null:[];i||(i=e,e=void 0);var o=e?"string"==typeof e?this.findElem(e):e:this.domElem,e="string"==typeof i,s=e?i:i.block||i.blockName,e="."+(e?s:f(s,i.modName,i.modVal))+(n?":first":""),i=o.filter(e);if(t&&(i=i.add(o[t](e))),n)return i[0]?b(s,i.eq(0),!0):null;var r=[],a={};return h.each(i,function(t,e){e=b(s,h(e),!0);a[e._uniqId]||(a[e._uniqId]=!0,r.push(e))}),r},bindToDomElem:function(i,t,n,e){h.isFunction(n)&&(e=n,n=void 0);function o(t){return(t.data||(t.data={})).domElem=h(this),e.apply(s,arguments)}var s=this;return e?i.bind(s._buildEventName(t),n,(o.guid=e.guid=e.guid||h.guid++,o)):h.each(t,function(t,e){s.bindToDomElem(i,t,n,e)}),s},bindToDoc:function(t,e,i){return this._needSpecialUnbind=!0,this.bindToDomElem(a,t,e,i)},bindToWin:function(t,e,i){return h.isFunction(e)&&(i=e,e=void 0),this._needSpecialUnbind=!0,this.bindToDomElem(n,t,e,i)},bindTo:function(t,e,i,n){switch(arguments.length){case 3:h.isFunction(i)&&(n=i,"object"==typeof e&&(i=e,e=t,t=this.domElem));break;case 2:h.isFunction(e)?(n=e,e=t,t=this.domElem):"string"==typeof t||t instanceof h||(i=e,e=t,t=this.domElem);break;case 1:e=t,t=this.domElem}return"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,e,i,n)},unbindFromDomElem:function(t,e,i){return t.unbind(this._buildEventName(e),i),this},unbindFromDoc:function(t,e){return this.unbindFromDomElem(a,t,e)},unbindFromWin:function(t,e){return this.unbindFromDomElem(n,t,e)},unbindFrom:function(t,e,i){var n=arguments.length;return 1===n?(e=t,t=this.domElem):2===n&&h.isFunction(e)?(i=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.unbindFromDomElem(t,e,i)},_buildEventName:function(t){var e=this;return 1<t.indexOf(" ")?t.split(" ").map(function(t){return e._buildOneEventName(t)}).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this._eventNameCache;if(t in e)return e[t];var i="."+this._uniqId;if(-1===t.indexOf("."))return e[t]=t+i,e[t];var n=".bem_"+this.__self._name;return e[t]=t.split(".").map(function(t,e){return 0===e?t+n:n+"_"+t}).join("")+i,e[t]},_trigger:function(t,e){this.__base.apply(this,arguments),this._ctxTrigger(t,e)},_ctxTrigger:function(o,s){var r=this,a=d[r.__self._buildCtxEventName(o.type)],c={};a&&r.domElem.each(function(){for(var t=this,e=a.counter;t&&e;){var i=h.identify(t,!0);if(i){if(c[i])break;var n=a.ctxs[i];n&&(h.each(n,function(t,e){e.fn.call(e.ctx||r,o,s)}),e--),c[i]=!0}t=t.parentNode}})},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,n=[].slice.call(arguments,e?1:0),o=this._extractMods(n,e?t:void 0);return e||(n.length?n.forEach(function(t){i[t]=o[t]}):i=o),o},setMod:function(e,i,n){if(e&&void 0!==n&&1<e.length){var o=this;return e.each(function(){var t=h(this);t.__bemElemName=e.__bemElemName,o.setMod(t,i,n)}),o}return this.__base(e,i,n)},_extractModVal:function(t,e,i){var n,o=(e||this.domElem)[0];return(n=o?o.getAttribute("class").match(this.__self._buildModValRE(t,i||e)):n)?n[2]||!0:""},_extractMods:function(t,e){var i={},n=!t.length,o=0;return((e||this.domElem).eq(0).attr("class").match(this.__self._buildModValRE("("+(n?s:t.join("|"))+")",e,"g"))||[]).forEach(function(t){t=t.match(r);i[t[1]]=t[2]||!0,++o}),o<t.length&&t.forEach(function(t){t in i||(i[t]="")}),i},_afterSetMod:function(t,n,o,e,i){if(this._isDestructing)return this.__base.apply(this,arguments);var s=this.__self,r=s._buildModClassPrefix(t,i),a=s._buildModValRE(t,i,"g"),c=""===n||!1===n;(e||this.domElem).each(function(){var t=h(this),e=t.attr("class"),i=r;!0!==n&&(i+=p+n),(!0===o?a.test(e):-1<(" "+e).indexOf(" "+r+p))?t.attr("class",e.replace(a,c?"":"$1"+i)):c||t.addClass(i)}),i&&this.dropElemCache(i,t,o).dropElemCache(i,t,n),this.__base.apply(this,arguments)},findElem:function(t,i,e,n){arguments.length%2?(n=e,e=i,i=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t)),i=i.split(" ");var o=this.__self.getName(),s=_(e,n),r=[],a=i.map(function(t){return r.push("."+f(o,t,e,n)),t+s}),c=1===a.length,l=w(t,r.join(","));return t===this.domElem&&r.forEach(function(t,e){(this._elemCache[a[e]]=c?l:l.filter(t)).__bemElemName=i[e]},this),l},_elem:function(t,e,i){return this._elemCache[t+_(e,i)]||this.findElem(t,e,i)},elem:function(t,e,i){if(2===arguments.length&&(i=!0),e&&"string"!=typeof e)return e.__bemElemName=t,e;if(t.indexOf(" ")<0)return this._elem(t,e,i);var n=h([]);return t.split(" ").forEach(function(t){n=n.add(this._elem(t,e,i))},this),n},dropElemCache:function(t,e,i){var n;return t?(n=_(e,i),t.indexOf(" ")<0?delete this._elemCache[t+n]:t.split(" ").forEach(function(t){delete this._elemCache[t+n]},this)):this._elemCache={},this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),E(t[0])[f(this.__self.getName(),e)]||{}},elemify:function(t,e){return(t=h(t)).__bemElemName=e,t},containsDomElem:function(t){var e=!1;return this.domElem.each(function(){return!(e=-1<t.parents().andSelf().index(this))}),e},buildSelector:function(t,e,i){return this.__self.buildSelector(t,e,i)},destruct:function(t){var e=this.__self;this._isDestructing||(this._isDestructing=!0,this._needSpecialUnbind&&e.doc.add(e.win).unbind("."+this._uniqId),this.dropElemCache().domElem.each(function(t,n){var e=k(n);h.each(e,function(t,e){var i=l[e.uniqId];i?i._isDestructing||x(i,n):delete c[e.uniqId]}),M(n)}),t||this.domElem.remove(),this.__base(),delete l[this.un()._uniqId],delete this.domElem,delete this._elemCache)}},{scope:null,doc:a,win:n,html:h(document.documentElement),_processLive:function(t){var e,i,n=this._liveInitable;return"live"in this&&void 0===n^t&&(n=!1!==this.live(),e=this.getName(),i=this.live,this.live=function(){return this.getName()===e?n:i.apply(this,arguments)}),n},init:function(t,e,i){!t||h.isFunction(t)?(i=e,e=t,t=a):"string"==typeof t&&(t=h(t));var r=h.identify();return w(t,".i-bem").each(function(){var n,o,s;n=h(this),o=r,s=n[0],h.each(k(s),function(t,e){y(e,s,t,o);var i=l[e.uniqId];i?i.domElem.index(s)<0&&(i.domElem=i.domElem.add(n),h.extend(i._params,e)):b(t,n,e)})}),e&&this.afterCurrentEvent(function(){e.call(i||this,t)}),this._runAfterCurrentEventFns(),t},destruct:function(t,e,i){"boolean"!=typeof t&&(i=e,e=t,t=void 0),e&&(v.call(w(e,".i-bem",i)).each(function(t,n){var e=k(this);h.each(e,function(t,e){var i;e.uniqId&&((i=l[e.uniqId])?x(i,n):delete c[e.uniqId])}),M(this)}),t||(i?e.empty():e.remove()))},update:function(t,e,i,n){return this.destruct(t,!0),this.init(t.html(e),i,n)},replace:function(t,e){return this.destruct(!0,t),this.init(h(e).replaceAll(t))},append:function(t,e){return this.init(h(e).appendTo(t))},prepend:function(t,e){return this.init(h(e).prependTo(t))},before:function(t,e){return this.init(h(e).insertBefore(t))},after:function(t,e){return this.init(h(e).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(e,t,i,n){var o,s,r=this;return-1<t.indexOf(" ")?t.split(" ").forEach(function(t){r._liveClassBind(e,t,i,n)}):(o=u[t],s=h.identify(i),o||(o=u[t]={},a.bind(t,r._liveClassTrigger.bind(r))),s in(o=o[e]||(o[e]={uniqIds:{},fns:[]})).uniqIds||(o.fns.push({uniqId:s,fn:r._buildLiveEventFn(i,n)}),o.uniqIds[s]=o.fns.length-1)),this},_liveClassUnbind:function(t,e,i){var n=u[e];if(n)if(i){if(n=n[t]){i=h.identify(i);if(i in n.uniqIds){var o=n.uniqIds[i],s=n.fns.length-1;for(n.fns.splice(o,1);o<s;)n.uniqIds[n.fns[o++].uniqId]=o-1;delete n.uniqIds[i]}}}else delete n[t];return this},_liveClassTrigger:function(t){var e=u[t.type];if(e){var i=t.target,n=Object.keys(e);do{for(var o,s=" "+i.className+" ",r=0;o=n[r++];)if(-1!==s.indexOf(" "+o+" ")){for(var a=!1,c=e[o].fns,l=0;l<c.length;l++)!1===c[l].fn.apply(h(i),arguments)&&(a=!0);if(a&&t.preventDefault(),a||t.isPropagationStopped())return;n.splice(--r,1)}}while(n.length&&(i=i.parentNode))}},_buildLiveEventFn:function(i,n){var o=this;return function(t){var e=[o._name,((t.data||(t.data={})).domElem=h(this)).closest(o.buildSelector()),!0],e=b.apply(null,n?e.concat([i,t]):e);if(e&&!n&&i)return i.apply(e,arguments)}},liveInitOnEvent:function(t,e,i){return this.liveBindTo(t,e,i,!0)},liveBindTo:function(e,i,n,o){i&&!h.isFunction(i)||(n=i,i=e,e=void 0),(e=!e||"string"==typeof e?{elem:e}:e).elemName&&(e.elem=e.elemName);var s=this;return e.elem&&0<e.elem.indexOf(" ")?(e.elem.split(" ").forEach(function(t){s._liveClassBind(f(s._name,t,e.modName,e.modVal),i,n,o)}),s):s._liveClassBind(f(s._name,e.elem,e.modName,e.modVal),i,n,o)},liveUnbindFrom:function(t,e,i){e&&!h.isFunction(e)||(i=e,e=t,t=void 0);var n=this;return t&&1<t.indexOf(" ")?(t.split(" ").forEach(function(t){n._liveClassUnbind(f(n._name,t),e,i)}),n):n._liveClassUnbind(f(n._name,t),e,i)},_liveInitOnBlockEvent:function(t,e,n,o){var s=this._name;return m[e].on(t,function(t){var e,i;t.block.domElem&&(e=arguments,i=t.block[o](s),n&&i.forEach(function(t){n.apply(t,e)}))}),this},liveInitOnBlockEvent:function(t,e,i){return this._liveInitOnBlockEvent(t,e,i,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,i){return this._liveInitOnBlockEvent(t,e,i,"findBlocksOutside")},on:function(t,e,i,n,o){return t.jquery?this._liveCtxBind(t,e,i,n,o):this.__base(t,e,i,n,o)},un:function(t,e,i,n){return t.jquery?this._liveCtxUnbind(t,e,i,n):this.__base(t,e,i)},liveCtxBind:function(t,e,i,n,o){return this._liveCtxBind(t,e,i,n,o)},_liveCtxBind:function(i,t,n,o,s){var e,r,a=this;return"string"==typeof(t="object"==typeof t&&(h.isFunction(n)||h.isFunction(o))?this._buildModEventName(t):t)?(h.isFunction(n)&&(s=o,o=n,n=void 0),-1<t.indexOf(" ")?t.split(" ").forEach(function(t){a._liveCtxBind(i,t,n,o,s)}):(e=a._buildCtxEventName(t),r=d[e]||(d[e]={counter:0,ctxs:{}}),i.each(function(){var t=h.identify(this),e=r.ctxs[t];e||(e=r.ctxs[t]={},++r.counter),e[h.identify(o)+(s?h.identify(s):"")]={fn:o,data:n,ctx:s}}))):h.each(t,function(t,e){a._liveCtxBind(i,t,e,n)}),a},liveCtxUnbind:function(t,e,i,n){return this._liveCtxUnbind(t,e,i,n)},_liveCtxUnbind:function(t,e,i,n){"object"==typeof e&&h.isFunction(i)&&(e=this._buildModEventName(e));var o=d[e=this._buildCtxEventName(e)];return o&&(t.each(function(){var t,e=h.identify(this,!0);e&&(t=o.ctxs[e])&&(i&&delete t[h.identify(i)+(n?h.identify(n):"")],i&&!h.isEmptyObject(t)||(o.counter--,delete o.ctxs[e]))}),o.counter||delete d[e]),this},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;t=t.eq(0).attr("class").match(this._buildElemNameRE());return t?t[1]:void 0},extractParams:E,_buildModClassPrefix:function(t,e){return this._name+(e?i+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+p+t},_buildModValRE:function(t,e,i){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"(?:"+p+"("+s+"))?(?=\\s|$)",i)},_buildElemNameRE:function(){return new RegExp(this._name+i+"("+s+")(?:\\s|$)")},buildSelector:function(t,e,i){return"."+f(this._name,t,e,i)},getBlockByUniqId:function(t){return l[t]},getWindowSize:function(){return{width:n.width(),height:n.height()}}});h(function(){t.DOM.scope=h("body")})}(BEM,jQuery)},"+U/J":function(t,e){MBEM.decl({block:"mini-suggest",modName:"overlay",modVal:"tile"},{_buildPopupClassList:function(){return this.__base()+" mini-suggest__popup_empty_yes"},_shouldShowPopup:function(){return this._empty&&!this._isShown||this.__base.apply(this,arguments)},_renderItemsFilled:function(t){this._popupContent.innerHTML=this._getItemsHTML(t),this.trigger("popup-update",{items:t}),this._empty&&(MBEM.cls.remove(this._popup,"mini-suggest__popup_empty_yes"),this._empty=!1),this._focused&&this._checkAndShowPopup()},_renderItemsEmpty:function(){this._popupContent.innerHTML="",this.trigger("popup-clear"),this._empty||(MBEM.cls.add(this._popup,"mini-suggest__popup_empty_yes"),this._empty=!0)}})},"+fQv":function(t,e){!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}BEM.DOM.decl("i-ua",{},{passiveEvents:t})}()},"+glO":function(t,e){MBEM.extend=function(t,e){for(var i in e){var n;e.hasOwnProperty(i)&&((n=e[i])instanceof Array||n instanceof Date||"object"!=typeof n||null===n?t[i]=n:(t[i]=t[i]||{},MBEM.extend(t[i],n)))}return t}},"+iT6":function(t,e){BEM.DOM.decl("select",{onElemSetMod:{item:{hovered:function(){BEM.blocks["i-ua"].opera<13&&this._popup.domElem.css("display","inline").css("display","")}}}},{live:function(){return this.liveInitOnBlockInsideEvent("press","button",function(){this._onButtonPress()}),this.__base.apply(this,arguments)}})},"+zBT":function(t,e){BEM.DOM.decl("popup2",{attachToScope:function(t){return t&&(this._scope=t),this._scope.append(this.domElem),this._isAttachedToScope=!0,this}})},"/4SB":function(t,e){BEM.DOM.decl("radiobox",{onSetMod:{js:{inited:function(){this._val=this.findElem(this.elem("radio","checked","yes"),"control").val(),this.elem("control").each(function(t,e){var i=$(e),e=this.__self._getRadioByElem(i);i.isFocused()&&this.setMod(e,"focused","yes"),i.prop("checked")&&this.setMod(e,"checked","yes")}.bind(this))}},disabled:{yes:function(){this.setMod(this.elem("radio"),"disabled","yes")},"":function(){this.delMod(this.elem("radio"),"disabled")}}},onElemSetMod:{radio:{focused:{yes:function(t){this.delMod(this.elem("radio","focused","yes"),"focused");var e=this.findElem(t,"control");e.isFocused()||e.focus(),this.afterCurrentEvent(function(){this.domElem&&this.trigger("focus",{current:t})})},"":function(t){this.afterCurrentEvent(function(){this.domElem&&this.trigger("blur",{prev:t})})}},checked:{yes:function(t){var e=this.elem("radio","checked","yes"),i=this.findElem(t,"control"),n=this._val;this._willSwitch=!0,this.delMod(e,"checked"),this._willSwitch=!1,i.prop("checked",!0),this._val=i.val(),this.trigger("change",{current:t,currentVal:this._val,prev:e,prevVal:n})},"":function(t){var e=this.findElem(t,"control"),i=this._val;e.prop("checked",!1),this._val=void 0,this._willSwitch||this.trigger("change",{current:$(),currentVal:void 0,prev:t,prevVal:i})}},hovered:function(t){return!this.isDisabled(t)},pressed:function(t){return!this.isDisabled(t)},disabled:function(t,e,i){t.find(this.buildSelector("control")).prop("disabled",i),i&&this.delMod(t,"hovered").delMod(t,"pressed")}}},isDisabled:function(t){return this.hasMod(t,"disabled","yes")},val:function(i){if(void 0===i)return this._val;var n=this;return this.elem("control").each(function(t,e){if(e.value===i)return n.setMod(n.__self._getRadioByElem($(e)),"checked","yes"),!1}),n},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getCurrent:function(){return this.findElem("radio","checked","yes")},uncheckAll:function(){return this.delMod(this.elem("radio","checked","yes"),"checked"),this},_onRadioEnter:function(t){this.setMod(t.data.domElem,"hovered","yes")},_onRadioLeave:function(t){this.delMod(t.data.domElem,"hovered")},_onRadioClick:function(t,e){this.isDisabled(t)||this.setMod(t,"focused","yes")},_onChange:function(t){this.setMod(this.__self._getRadioByElem(t.data.domElem),"checked","yes")},_onPointerpress:function(t){var e=t.data.domElem;this.setMod(e,"pressed","yes").bindToDoc("pointerrelease",function(){this.delMod(e,"pressed").unbindFromDoc("pointerrelease")})}},{live:function(){this.liveBindTo("radio","pointerclick",function(t){this._onRadioClick(t.data.domElem,t)}).liveBindTo("control","change",function(t){this._onChange(t)}).liveBindTo("radio","pointerover pointerout",function(t){t.data.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onRadioEnter(t):this._onRadioLeave(t))}).liveBindTo("control","focusin focusout",function(t){var e=this.__self._getRadioByElem(t.data.domElem);this.setMod(e,"focused","focusin"===t.type?"yes":""),8<=parseInt(BEM.blocks["i-ua"].ios,10)&&t.preventDefault()}).liveBindTo("radio","pointerpress",function(t){this.hasMod(t.data.domElem,"disabled")||this._onPointerpress(t)})},_getRadioByElem:function(t){return t.closest(this.buildSelector("radio"))}})},"0EGh":function(t,e){BEM.DOM.decl("scrollbar",{onSetMod:{js:{inited:function(){this._scrollable=this.elem("scrollable"),this._inner=this.elem("inner"),this._thumb=this.elem("thumb"),this._onScroll=this._onScroll.bind(this),this._onDragStart=this._onDragStart.bind(this),this._onDrag=this._onDrag.bind(this),this._onDragEnd=this._onDragEnd.bind(this),this._scrollable.on("scroll",this._onScroll),this._thumb.on("pointerdown",this._onDragStart),this.__base.apply(this,arguments),this._onScroll(),void 0===window.IntersectionObserver||"THROTTLE_TIMEOUT"in IntersectionObserver.prototype?this._checker=setInterval(this._onScroll,1e3):(this._observer=new IntersectionObserver(this._onScroll,{root:this._scrollable[0],rootMargin:"0px 50px 0px 0px",threshold:[1]}),this._observer.observe(this._inner[0]))}},"":function(){this._observer?this._observer.unobserve(this._scrollable):clearInterval(this._checker),this._onDragEnd(),this._scrollable.off("scroll",this._onScroll),this._thumb.off("pointerdown",this._onDragStart)}},_onScroll:function(){var t=this._scrollable.prop("scrollHeight"),e=this._scrollable.height(),i=this._scrollable.scrollTop(),n=e<t,o=n?e/t:0,s=0;o===this._scrollHeightRatio&&this._scroll===i||(this._scroll=i,this._scrollHeightRatio=o,n&&(o=Math.max(o,.1),s=100*(1-o)/(t-e)),requestAnimationFrame(function(){this._thumb.css({height:(100*o).toFixed(2)+"%",top:(s*i).toFixed(2)+"%"})}.bind(this)))},_onDragStart:function(t){var e=window;this._onScroll(),this._startScrollValue=this._scrollable.scrollTop(),this._startValue=t.screenY,$("body").addClass("scrollbar__body-styles"),this.setMod(this._thumb,"active","yes"),e.addEventListener("pointermove",this._onDrag,{passive:!0}),e.addEventListener("pointerup",this._onDragEnd)},_onDrag:function(t){t=t.screenY-this._startValue;this._scrollable.scrollTop(this._startScrollValue+t/this._scrollHeightRatio)},_onDragEnd:function(){var t=window;t.removeEventListener("pointermove",this._onDrag),t.removeEventListener("pointerup",this._onDragEnd),this.delMod(this._thumb,"active"),$("body").removeClass("scrollbar__body-styles")}},{live:!1})},"0F46":function(t,e){BEM.decl("i-yabs-sender",{},{_init:function(){this._pixelBase=home.getData("yabs.pixelBase"),this._pixelBase&&(this._linksNext="",this._inited=!0,this._sendPixelDebounced=home.debounce(this._sendPixel.bind(this),1e3))},_sendPixel:function(){var e;this._sending||(e=this._linksNext,this._linksNext="",this._sending=!0,$.ajax({url:this._pixelBase+e,xhrFields:{withCredentials:!0},timeout:15e3}).asPromise().then(function(){this._onRequestEnd()}.bind(this),function(t){this._onRequestEnd(),this._linksNext+=e,home.error.logError({block:"i-yabs-sender"},t)}.bind(this)))},_onRequestEnd:function(){this._sending=!1,this._linksNext&&this._sendPixelDebounced()},_pixelBaseCheck:function(){return!!this._pixelBase||(home.error.logError({block:"i-yabs-sender",message:"pixelBase is not defined"}),!1)},sendClose:function(t,n,e){return!!n&&(e?(t.preventDefault(),Promise.race([o(),new Promise(function(t){setTimeout(t,300)})]).then(i,i)):o());function i(){location.href=e}function o(){return new Promise(function(t,e){var i=new Image;i.onload=t,i.onerror=function(t){t=new Error("send to bk failed:"+t.type);t.meta={url:n},e(t)},i.src=n})}},sendShow:function(t){this._inited||this._init(),t&&this._pixelBaseCheck()&&(this._linksNext+=t,this._sendPixelDebounced())}})},"0LhS":function(t,e){BEM.DOM.decl({block:"sup-notice",modName:"type",modVal:"default"},{onSetMod:{mode:{"*":function(t,e){this._prepareKeys(e)}},hidden:{"":function(){this._prepareKeys(this.getMod("mode"))}}},_prepareKeys:function(t){"prompt"===t?this._initializeKey("ENTER",!0)._initializeKey("ESC"):"error"===t||"web-error"===t?this._destroyKey("ENTER")._initializeKey("ESC"):this._destroyKey("ENTER")._destroyKey("ESC")}})},"0RKT":function(t,e){BEM.DOM.decl({block:"popup",modName:"behaviour",modVal:"scrollable"},{getDefaultParams:function(){var t=this.__base();return t.top=20,t}})},"0SjY":function(t,e){BEM.decl({block:"i-request_type_ajax",baseBlock:"i-request"},{onSetMod:{js:{inited:function(){this.__base(),this._requestNumber=this._number=this._preventNumber=this._retryCount=0}}},_get:function(t,e,i,n){this._number++,this._requestNumber++,this._retryCount=n.retryCount,this.__base.apply(this,arguments)},_do:function(n,o,s,r){var a,i,t,e,c=this;c._number>c._preventNumber&&(a=arguments,i={data:r.data?$.extend({},r.data,n):n},t=c._wrapCallback(function(t,e,i){c._onSuccess(c._buildCacheKey(n,r),n,t[0],r),c._allowCallback(e,i)&&o.apply(r.callbackCtx,t)}),e=c._wrapCallback(function(t,e,i){c._allowCallback(e,i)&&(0<c._retryCount--?setTimeout(function(){c._do.apply(c,a)},r.retryInterval):s&&s.apply(r.callbackCtx,t))}),$.each(["url","dataType","timeout","type","jsonp","jsonpCallback","xhrFields"].concat(r.paramsToSettings||[]),function(t,e){i[e]=r[e]}),$.ajax(i).done(t).fail(e))},_wrapCallback:function(e){var i=this._requestNumber,n=this._number;return function(t){null!==t&&e(arguments,i,n)}},_allowCallback:function(t,e){return e>this._preventNumber&&this._requestNumber===t},_buildCacheKey:function(t,e){return"string"==typeof t?t:this.__base(t)+e.url},abort:function(){this._preventNumber=++this._number},getDefaultParams:function(){return $.extend(this.__base(),{cache:!0,type:"GET",dataType:"jsonp",timeout:2e4,retryCount:0,retryInterval:2e3})}})},"0bai":function(t,e){BEM.KEYS={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,HOME:36,END:35},function(){var t,n={};for(t in BEM.KEYS)BEM.KEYS.hasOwnProperty(t)&&(n[BEM.KEYS[t]]=t);function s(t){var e,i=n[t.which]||"";for(e in o)o.hasOwnProperty(e)&&t[o[e]]&&(i=e+"+"+i);return i}function r(t){var i={};return t.split(" ").forEach(function(e){e.split("+").forEach(function(t){t=t.toUpperCase();if(!(t in o||t in BEM.KEYS))throw"i-keys.js: Unknown key "+e}),i[e.toUpperCase()]=!0}),i}var o={CTRL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",META:"metaKey"};BEM.DOM.liveBindKey=function(t,e,i){var n;return $.isFunction(e)&&(i=e,e=t,t=void 0),n=r(e),this.liveBindTo(t,"keydown",function(t){s(t)in n&&!1===i.call(this,t)&&t.preventDefault()})},BEM.DOM.prototype.bindKeyTo=function(t,e,i){var n;return $.isFunction(e)&&(i=e,e=t,t=void 0),n=r(e),i.keydownHandler=o,t===document?this.bindToDoc("keydown",o):t===window?this.bindToWin("keydown",o):this.bindTo(t,"keydown",o);function o(t){s(t)in n&&!1===i.call(this,t)&&t.preventDefault()}},BEM.DOM.prototype.unbindKeyFrom=function(t,e,i){if($.isFunction(e)&&(i=e,e=t,t=void 0),!i||!i.keydownHandler)return this;e=i.keydownHandler;return i.keydownHandler=null,t===document?this.unbindFromDoc("keydown",e):t===window?this.unbindFromWin("keydown",e):this.unbindFrom(t,"keydown",e)}}()},"0laM":function(t,e){$(function(){"use strict";var i=home.getData("i-bannerid.csl");BEM.decl("i-bannerid",{},{save:function(t){if(!i)throw new Error("i-bannerid: Cookie set link wasn't passed");if(!t)throw new Error("i-bannerid: Bannerid wasn't passed");var e=$(".i-bannerid"),t=home.stringf(i,t);e.length||(e=$('<iframe class="i-bannerid" name="i-bannerid" style="display:none"/>'),$(document.body).append(e)),e.attr("src")!==t&&e.attr("src",t)}})})},"1/IC":function(t,e,i){window.Ya&&Ya.Rum&&(i("aPu7"),i("Tv0U"),i("pt8I"),i("mbKu")),window.Ya&&Ya.Rum&&Ya.Rum.enabled&&(i("uifs"),Ya.Rum.debug&&Ya.Rum.debug())},"1cYz":function(t,e){BEM.DOM.decl("select",{onSetMod:{js:{inited:function(){this._items=[],this._curItemIndex=-1,this._scrollableElemOutsidePopup=null,this._rowHeight=22,this.on("change",this._redrawParentPopup);var t=this._getSelectedText();t&&t!==this._getButtonText()&&this.elem("control").trigger("change")}},disabled:function(t,e){this.elem("control").prop("disabled",e),this._getButton().setMod(t,e),e&&this.delMod("opened").delMod("focused")},focused:{yes:function(){if(this.hasMod("disabled"))return!1;this._useNativeControl()||this.bindTo("keydown",this._onKeyDown),this.afterCurrentEvent(function(){this.domElem&&this.trigger("focus")})},"":function(){this._useNativeControl()||this.delMod("opened").unbindFrom("keydown"),this.afterCurrentEvent(function(){this.domElem&&this.trigger("blur")})}},opened:function(t,e){this._getButton()&&this._getButton().domElem&&this._getButton().toggleMod("arrow","up","down",Boolean(e))}},isDisabled:function(){return this.hasMod("disabled","yes")},isOpened:function(){return this.hasMod("opened","yes")},open:function(){return this.setMod("opened","yes")},close:function(){return this.delMod("opened")},val:function(e,t){if(void 0===e)return this.elem("control").val();var i,n=-1;return this.findElem("option").each(function(t){this.value!==e||this.disabled||(i=$(this).parent("optgroup")[0])&&i.disabled||(n=t)}),-1<n&&this._selectedIndex(n,t),this},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},_selectedIndex:function(t,e){var i=this._getSelectedIndex();return void 0===t||t===i?i:(this.elem("control").prop("selectedIndex",t),this._useNativeControl()||(this._setButtonText(this._getSelectedText()),this._items[0]&&this.delMod(this._items,"selected").setMod(this._items.eq(t),"selected","yes")),this.trigger("change",$.extend({index:t,prev:i},e)),t)},setOptions:function(t){return t?(BEM.DOM.update(this.elem("control"),BEMHTML.apply($.map(t,this.__self._buildOption))),this.redraw()):this},redraw:function(){return this._popup&&this._redrawList(),this.elem("control").trigger("change"),this},_useNativeControl:function(){return null!==this.__self.useNativeControl?this.__self.useNativeControl:this.__self.useNativeControl="none"!==this.elem("control").css("display")},_redrawParentPopup:function(){var t;return this._isParentPopup()&&((t=this._popup._parent).repaint||t.redraw).call(t),this},_isParentPopup:function(){return this._popup&&this._popup._parent&&!this.hasMod("layout","fixed")},_onSelectChange:function(){this._setButtonText(this._getSelectedText()),this.trigger("change",{index:this._getSelectedIndex(),prev:-1})},_onControlFocusInOut:function(t){this._useNativeControl()&&this.toggleMod("focused","yes","","focusin"===t.type)},_onMouseDown:function(t){this._isControlFocused()&&t.preventDefault()},_onKeyDown:function(t){var e=BEM.blocks.keycodes,i=t.keyCode===e.UP,n=t.keyCode===e.DOWN,o=t.keyCode===e.ENTER,e=t.keyCode===e.SPACE;if(i||n){if(t.preventDefault(),!this.isOpened())return this.open();var s=this._items.length,r=this._curItemIndex;if(i&&0===r||n&&s-2<r)return;if(s){for(var a=n?1:-1,c=r;0<=c&&c<=s;)if(this._isSelectableItem(this._items.eq(c+=a))){r=c;break}this._onEnterItem(this._items.eq(r),!0)}}(o||e)&&this._onEnterItem(this._items.eq(this._curItemIndex),!0,!0)},_onEnterItem:function(t,e,i){this.elem("button").attr("aria-activedescendant",t.attr("id"));var n=this._curItemIndex,o=this._getItemIndex(t),t=this._items;-1<n&&this.delMod(t.eq(n),"hovered"),-1<o&&(this._curItemIndex=o,this.setMod(t.eq(o),"hovered","yes")),i&&this._selectedIndex(this._curItemIndex),e&&this._scrollToCurrent()},_onLeaveItem:function(t){var e=this._curItemIndex;-1<e&&e===this._getItemIndex(t)&&(this.delMod(this._items.eq(e),"hovered")._curItemIndex=-1)},_onSelectItem:function(t){return this._isSelectableItem(t)&&this._selectedIndex(this._curItemIndex),this.close()},_onButtonFocus:function(){this.setMod("focused","yes")},_findScrollableElemOutsidePopup:function(){if(null===this._scrollableElemOutsidePopup){for(var t,e=this._getPopup().domElem;"scroll"!==(t=(e=e.parent()).css("overflow-y"))&&"auto"!==t&&"HTML"!==e.prop("tagName"););this._scrollableElemOutsidePopup=e}return this._scrollableElemOutsidePopup},_onButtonBlur:function(){var t,e;this.isOpened()&&this._isPopupFocused()?8===BEM.blocks["i-ua"].ie?(e=(t=this._findScrollableElemOutsidePopup()).scrollTop(),this._focusButton(),t.scrollTop(e)):this._focusButton():this.delMod("focused")},_onButtonPress:function(){this.toggleMod("opened","yes","")},_focusButton:function(){return this._getButton().setMod("focused","yes"),this},_blurButton:function(){return this._getButton().delMod("focused"),this},_isPopupFocused:function(){try{return this._getPopup().containsDomElem($(document.activeElement))}catch(t){return!1}},_getButtonText:function(){return this._getButton().elem("text").text()},_setButtonText:function(t){t.length&&(this._getButton().elem("text").text(t),BEM.blocks["i-ua"].ie<10&&this.domElem.parent().css("outline",""))},_isOutsideClicked:function(t,e){return this.containsDomElem($(e.target))},_getItemIndex:function(t){return $.inArray(t.get(0),this._items)},_getSelectedText:function(){return this.elem("control").find(":selected").text()},_getSelectedIndex:function(){return this.elem("control").prop("selectedIndex")},_isSelectableItem:function(t){return!this.hasMod(t,"disabled","yes")&&!this.hasMod(t,"label","yes")},_getButton:function(){return this._button||(this._button=this.findBlockOn("button","button"))},_getRowHeight:function(){return this.findElem(this._getPopup().domElem,"item").outerHeight()},_isControlFocused:function(){try{return this.containsDomElem($(this.__self.doc[0].activeElement))}catch(t){return!1}},destruct:function(){this._outPopup&&this._outPopup.un("outside-click"),this.delMod("opened"),this._popup&&this._popup.domElem&&BEM.DOM.destruct(this._popup.domElem),this.__base.apply(this,arguments)},getDefaultParams:function(){return{rows:15,popupMods:{direction:"down"}}}},{live:function(){this.liveBindTo("control","change",function(t){this._onSelectChange()}),this.liveBindTo("control","focusin focusout",function(t){this._onControlFocusInOut(t)}),this.liveBindTo("mousedown",function(t){this._onMouseDown(t)}),this.liveInitOnBlockInsideEvent("focus","button",function(){this._onButtonFocus()}).liveInitOnBlockInsideEvent("blur","button",function(){this._onButtonBlur()})},useNativeControl:null,_buildOption:function t(e,i,n){var o={};return"option"===e.item?(o={block:"select",elem:"option",tag:"option",attrs:{value:e.value},content:e.content},e.disabled&&(o.attrs.disabled="disabled"),e.selected&&(o.attrs.selected="selected")):"optgroup"===e.item&&(o={elem:"option-group",tag:"optgroup",attrs:{label:e.label}},e.disabled&&(o.attrs.disabled="disabled"),o.content=Array.isArray(e.content)?e.content.map(t):e.content),o.block="select",o}})},"1lKq":function(t,e){BEM.DOM.decl("search2",{onSetMod:{js:function(){this.__base.apply(this,arguments);var e=this;this.input=this.findBlockInside("input"),this.button=this.findBlockInside("button"),this.arrow=this.findBlockOutside("home-arrow"),this.arrow&&this.arrow.on("sample-click",function(){var t=e.domElem.find("input[name='nl']");e.params.nl&&!t.length&&$('<input type="hidden" name="nl" value="1"/>').insertAfter(e.input.domElem);t=e.domElem.find("input[name='example_source']");e.params.serpArg&&!t.length&&$('<input type="hidden" name="example_source" value="'+e.params.serpArg+'"/>').insertAfter(e.input.domElem),setTimeout(function(){e.domElem.submit(),e.arrow.reEnable()},500)})}}}),setTimeout(function(){var t=$(".mini-suggest"),e=t[0];e&&MBEM.createBlock({node:e,block:"mini-suggest",params:t.data("mini-bem")["mini-suggest"]})},0)},"21dl":function(t,e){BEM.DOM.decl({block:"popup",modName:"adaptive",modVal:"yes"},{onSetMod:{adaptive:{yes:function(){this._enableAdaptive()},no:function(){this._disableAdaptive()}},"watch-scroll":{yes:function(){this._watchScroll()},no:function(){this._unwatchScroll()}}},_enableAdaptive:function(){this.afterCurrentEvent(function(){this.domElem&&this.bindToWin("resize",this.onResize)}),this._watchScroll()},_disableAdaptive:function(){this.unbindFromWin("resize")._unwatchScroll()},getScrollEvents:function(){return["scroll"]},_watchScroll:function(){this._owner&&!this.hasMod("watch-scroll","no")&&this.bindTo(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "),this.onScroll,this)},_unwatchScroll:function(){this._owner&&this.unbindFromDomElem(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "))},onResize:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},onScroll:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},destruct:function(){this._disableAdaptive(),this.__base.apply(this,arguments)}})},"24+b":function(t,e){!function(){"use strict";var d,e;function c(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,t=e.width*e.height,e=this.intersectionRect,e=e.width*e.height;this.intersectionRatio=t?Number((e/t).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var i,n,o,e=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,o=null,function(){o=o||setTimeout(function(){i(),o=null},n)}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(e.rootMargin),this.thresholds=this._initThresholds(e.threshold),this.root=e.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function i(t,e,i,n){"function"==typeof t.addEventListener?t.addEventListener(e,i,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,i)}function n(t,e,i,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,i)}function u(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?e=!e.width||!e.height?{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}:e:{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(t,e){for(var i=e;i;){if(i==t)return!0;i=m(i)}return!1}function m(t){t=t.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(d=window.document,e=[],t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){t=t||[0];return(t=!Array.isArray(t)?[t]:t).sort().filter(function(t,e,i){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==i[e-1]})},t.prototype._parseRootMargin=function(t){t=(t||"0px").split(/\s+/).map(function(t){t=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(window,"resize",this._checkForIntersections,!0),i(d,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(d,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,n(window,"resize",this._checkForIntersections,!0),n(d,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var r=this._rootIsInDom(),a=r?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(t){var e=t.element,i=u(e),n=this._rootContainsTarget(e),o=t.entry,s=r&&n&&this._computeTargetAndRootIntersection(e,a),s=t.entry=new c({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:i,rootBounds:a,intersectionRect:s});o?r&&n?this._hasCrossedThreshold(o,s)&&this._queuedEntries.push(s):o&&o.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=window.getComputedStyle(t).display){for(var i,n,o,s,r=u(t),a=m(t),c=!1;!c;){var l=null,h=1==a.nodeType?window.getComputedStyle(a):{};if("none"==h.display)return;if(a==this.root||a==d?(c=!0,l=e):a!=d.body&&a!=d.documentElement&&"visible"!=h.overflow&&(l=u(a)),l&&(o=l,s=r,i=Math.max(o.top,s.top),n=Math.min(o.bottom,s.bottom),h=Math.max(o.left,s.left),l=n-i,!(r=0<=(s=(o=Math.min(o.right,s.right))-h)&&0<=l&&{top:i,bottom:n,left:h,right:o,width:s,height:l})))break;a=m(a)}return r}},t.prototype._getRootRect=function(){var t,e;return e=this.root?u(this.root):(t=d.documentElement,e=d.body,{top:0,left:0,right:t.clientWidth||e.clientWidth,width:t.clientWidth||e.clientWidth,bottom:t.clientHeight||e.clientHeight,height:t.clientHeight||e.clientHeight}),this._expandRectByRootMargin(e)},t.prototype._expandRectByRootMargin=function(i){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?i.width:i.height)/100}),t={top:i.top-t[0],right:i.right+t[1],bottom:i.bottom+t[2],left:i.left-t[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},t.prototype._hasCrossedThreshold=function(t,e){var i=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(i!==n)for(var o=0;o<this.thresholds.length;o++){var s=this.thresholds[o];if(s==i||s==n||s<i!=s<n)return!0}},t.prototype._rootIsInDom=function(){return!this.root||o(d,this.root)},t.prototype._rootContainsTarget=function(t){return o(this.root||d,t)},t.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},t.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=c))}()},"2A6R":function(t,e){BEM.DOM.decl({block:"popup",modName:"position",modVal:"fixed"},{addChild:function(t){this.__base.apply(this,arguments),t.setMod("watch-scroll","no")},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocusable.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._firstFocusable.focus())}})},"2LTt":function(t,e){!function(){"use strict";var i="#hs"===window.location.hash;i&&(window.history&&history.replaceState?history.replaceState(history.state,"",location.pathname+location.search):location.hash="");var n=home.localStorage,t=!home.disabledLS&&n,e=$(window);function o(t){return(t?new Date(t):new Date).getTime()}t&&BEM.DOM.decl("b-hs-balloon",{onSetMod:{js:function(){var t,e=this;i?e._setDoNotShowFlag():e._getDoNotShowFlag()||90===Math.abs(window.orientation)||(t=e._getData()).length<3&&BEM.blocks["i-message-locker"].acquireLock("b-hs-balloon").then(function(){e.show(),e._updateShownDates(t),e.adjustBalloonPosition(),e._bindScroll(),e.elem("close").on("click",function(){e.forceHideBalloon()})})}},adjustBalloonPosition:function(){var t=e.scrollTop();this.domElem.css("top",t)},_bindScroll:function(){e.on("scroll.balloon",this.changeThis(this.adjustBalloonPosition))},_unbindScroll:function(){e.off("scroll.balloon")},show:function(){var t=this;window.setTimeout(function(){t.setMod("display","yes"),t.adjustBalloonPosition(),t.setMod("opacity","visible"),home.stat.logDOMShow(t.domElem)},0),window.setTimeout(function(){t.hide()},15e3),window.location.hash="hs"},hide:function(){var t=this;this.setMod("opacity","hidden"),setTimeout(function(){t._unbindScroll(),t.setMod("display","no"),BEM.blocks["i-message-locker"].releaseLock("b-hs-balloon")},500)},immediateHide:function(){this._unbindScroll(),this.setMod("display","no"),this.setMod("opacity","hidden"),BEM.blocks["i-message-locker"].releaseLock("b-hs-balloon")},forceHideBalloon:function(){this._setDoNotShowFlag(),this.hide()},_getData:function(){var e;try{e=JSON.parse(n.getItem("balloonShownDates")).filter(function(t){return!isNaN(o(t))&&o()-o(t)<12096e5})}catch(t){e=[]}return e},_updateShownDates:function(t){t.push(o());t=t.reverse().splice(0,3).reverse();n.setItem("balloonShownDates",JSON.stringify(t))},_setDoNotShowFlag:function(){n.setItem("doNotShowHSBalloon",1)},_getDoNotShowFlag:function(){return n.getItem("doNotShowHSBalloon")}})}()},"2Y/5":function(t,e){BEM.DOM.decl({block:"sup-notice",modName:"type",modVal:"popup"},{onSetMod:{hidden:{"":function(){this.bindToDoc("pointerdown focusin",this._onOuterAction)},yes:function(){this.unbindFromDoc("pointerdown focusin",this._onOuterAction)}}},_onOuterAction:function(t){0===$(t.target).closest(this.domElem).length&&this.close()}})},"2cTF":function(t,e){BEM.DOM.decl({block:"popup",modName:"scrollbar-hider",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on({show:this._toggleScrollbar.bind(this,!1),hide:this._toggleScrollbar.bind(this,!0)})}}},_toggleScrollbar:function(t){var e=t?0:this._getCurrentScrollWidth();BEM.DOM.scope.css("margin-right",e),$("html").toggleClass("document_modal_yes",!t)},_getCurrentScrollWidth:function(){var t=document.documentElement;return"number"==typeof window.innerWidth?window.innerWidth-t.clientWidth:t.scrollHeight>t.clientHeight?this._getScrollWidth():0},_getScrollWidth:function(){if(null!==this._scrollWidth)return this._scrollWidth;var t=$("<div>").css({position:"absoulte",left:0,top:0,overflow:"scroll",width:200,height:200}).appendTo("body");return this._scrollWidth=200-t[0].scrollWidth,t.remove(),this._scrollWidth}})},"2yRt":function(t,e){jQuery.cookie=function(t,e,i){if(void 0===e){var n=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),s=0;s<o.length;s++){var r=jQuery.trim(o[s]);if(r.substring(0,t.length+1)==t+"="){n=decodeURIComponent(r.substring(t.length+1));break}}return n}i=i||{},null===e&&(e="",i.expires=-1);var a="";i.expires&&("number"==typeof i.expires||i.expires.toUTCString)&&("number"==typeof i.expires?(l=new Date).setTime(l.getTime()+24*i.expires*60*60*1e3):l=i.expires,a="; expires="+l.toUTCString());var c=i.path?"; path="+i.path:"",l=i.domain?"; domain="+i.domain:"",i=i.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),a,c,l,i].join("")}},"34z/":function(t,e){home.cls={full:function(t){return t},part:function(t){return t}}},"35bF":function(t,e){function o(t,e,i){(t[e]||(t[e]=[])).unshift(i)}function s(e,i){return i.modName?function(t){(t._curBlock.mods||{})[i.modName]===i.modVal&&e(t)}:e}function i(t,e){var i,n=a.isArray(e);return a.isArray(t)?n?i=t.concat(e):(i=t).push(e):n?(i=e).unshift(t):i=[t,e],i}var n,a,r,c,l,h,d,u,m,p;n=BEM,a=jQuery,r=n.INTERNAL,c=r.ELEM_DELIM,l={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1},h=r.buildClass,d=r.buildClasses,u={},m={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},p=/["&<>]/g,n.HTML={decl:function(i,t){(i="string"==typeof i?{block:i}:i).name&&(i.block=i.name);var n=u[i.block]||(u[i.block]={});t.onBlock&&o(n,"_block",s(t.onBlock,i)),t.onElem&&(a.isFunction(t.onElem)?o(n,"_elem",s(t.onElem,i)):a.each(t.onElem,function(t,e){o(n,"_elem"+("*"===t?"":c+t),s(e,i))}))},build:function(t){t=new this.Ctx(t);return t._buildAll(),t._flush()},Ctx:a.inherit({__constructor:function(t){this._buffer=[],this._params=t,this._tParams=null,this._tParamsChanges=null,this._curBlock=void 0},pos:function(){return this._params._pos},isFirst:function(){return 1===this._params._pos},isLast:function(){var t=this._params;return t._pos===t._siblingsCount},params:function(t){return void 0===t?this._params:(this._params=t,this)},param:function(t,e,i,n){var o=this._params;return void 0===e?o[t]:(!i&&t in o?n&&(o[t]=a.extend(e,o[t])):o[t]=e,this)},attrs:function(t,e){return this.param("attrs",t,e,!0)},attr:function(t,e,i){if(void 0===e)return(this._params.attrs||{})[t];var n=this._params.attrs;return n?!i&&t in n||(n[t]=e):(this._params.attrs={})[t]=e,this},tag:function(t,e){return this.param("tag",t,e)},cls:function(t,e){return this.param("cls",t,e)},mods:function(t,e){return this.param("mods",t,e,!0)},mod:function(t,e,i){if(void 0===e)return(this._params.mods||{})[t];var n=this._params.mods;return n?!i&&t in n||(n[t]=e):(this._params.mods={})[t]=e,this},mix:function(t,e){var i=this._params;return void 0===t?i.mix:(i.mix=!e&&"mix"in i?i.mix.concat(t):t,this)},js:function(t){return this.param("js",t)},content:function(t,e){return this.param("content",t,e)},wrapContent:function(t){var e=this._params;return t.content=e.content,e.content=t,this},beforeContent:function(t){var e=this._params;return e.content=i(t,e.content),this},afterContent:function(t){var e=this._params;return e.content=i(e.content,t),this},wrap:function(t){var e=this._params;return t.block||(t._curBlock=this._curBlock),t.content=e._wrapper||e,e._wrapper=t,this},tParam:function(t,e){var i=this._tParams||(this._tParams={});if(void 0===e)return i[t];var n=this._tParamsChanges||(this._tParamsChanges={});return t in n||(n[t]=i[t]),i[t]=e,this},generateId:function(){return a.identify()},stop:function(){this._params._isStopped=!0},_buildAll:function(){var t=this._buffer,e=this._params,i=typeof e;if("string"==i||"number"==i)t.push(e);else if(a.isArray(e))for(var n,o,s=0,r=e.length;s<r;)this._params=n=e[s++],"string"==(o=typeof n)||"number"==o?t.push(n):n&&(n._pos=s,n._siblingsCount=r,this._buildByDecl());else e&&(this._params._pos=this._params._siblingsCount=1,this._buildByDecl())},_build:function(){var i,n=this._buffer,t=this._params,e=t.tag||"div",o=t.block||t.elem,s=o&&(t.block||this._curBlock.block),r=!1;t.js&&((i={})[h(s,t.elem)]=!0===t.js?{}:t.js,r=!t.elem),n.push("<",e),(o||t.cls)&&(n.push(' class="'),o&&(d(s,t.elem,t.mods,n),t.mix&&a.each(t.mix,function(t,e){e&&(n.push(" "),d(e.block,e.elem,e.mods,n),e.js&&((i=i||{})[h(e.block,e.elem)]=!0===e.js?{}:e.js,r=r||!e.elem))})),t.cls&&n.push(o?" ":"",t.cls),r&&n.push(" i-bem"),n.push('"')),i&&n.push(' onclick="return ',JSON.stringify(i).replace(p,function(t){return m[t]}),'"'),t.attrs&&a.each(t.attrs,function(t,e){null!=e&&!1!==e&&n.push(" ",t,'="',e.toString().replace(/"/g,"&quot;"),'"')}),l[e]?n.push("/>"):(n.push(">"),void 0!==t.content&&(this._params=t.content,this._buildAll()),n.push("</",e,">"))},_flush:function(){var t=this._buffer.join("");return delete this._buffer,t},_buildByDecl:function(){var t=this._curBlock,e=this._params;if(e._curBlock&&(this._curBlock=e._curBlock),e.block&&(this._curBlock=e),!e._wrapper){if(e.block||e.elem){var i,n=u[this._curBlock.block];if(n&&(e.elem?(i=n["_elem"+c+e.elem],n._elem&&(i=i?i.concat(n._elem):n._elem)):i=n._block,i))for(var o,s=0;(o=i[s++])&&(o(this),!e._isStopped););}if(e._wrapper)return e._curBlock=this._curBlock,this._params=e._wrapper,this._buildAll()}var r,n=this._tParamsChanges;this._tParamsChanges=null,this._build(),this._curBlock=t,n&&(r=this._tParams,a.each(n,function(t,e){void 0===e?delete r[t]:r[t]=e}))}})}},"35bK":function(t,e){BEM.DOM.decl({block:"sup-notice",modName:"type",modVal:"popup"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._updatePositionThrottled=home.throttle(this._updatePosition.bind(this),200)}},hidden:{"":function(){this._initializeKey("ENTER",!0)._initializeKey("ESC"),this._updatePosition(),this.bindToWin("resize",this._updatePositionThrottled),this.__base.apply(this,arguments)},yes:function(){this.unbindFromWin("resize",this._updatePositionThrottled),this.__base.apply(this,arguments)}}},setOwner:function(t){this._$owner=t,this._updatePosition()},_updatePosition:function(){var t,e,i,n;this._$owner&&0!==this._$owner.closest("html").length&&(n=this._$owner.offset(),i=260<(t=Math.round(n.left+this._$owner.outerWidth()/2)),n=(e=Math.round(n.top+this._$owner.outerHeight()))+150>BEM.DOM.win.scrollTop()+BEM.DOM.win.height(),this.setMod("arrow-position",i?"right":"left"),this.setMod("arrow-hidden",n?"yes":""),this.domElem.css({left:t-(i?260:70),top:n?e-170:e+15}))}})},"37uV":function(t,e){BEM.DOM.decl("yabrowser-promo",{_install:function(){this.params.yaCounterId&&(BEM.blocks["i-metrika"].add({id:this.params.yaCounterId,triggerEvent:!0}),this.params.bannerid&&BEM.blocks["i-bannerid"].save(this.params.bannerid))}},{live:function(){this.liveBindTo("icon-link text-link","pointerclick",function(){return this._install()})}})},"3EtG":function(t,e){BEM.DOM.decl("multiselect",{onSetMod:{js:function(){var t=this.elem("selected").val().split(","),e={};t.forEach(function(t){""!==t&&(e[t]=!0)}),this._lockUnlock(t),this.selected=e}},_onChange:function(t,e){var i,n=this.selected,o=[];for(i in n[t.val()]=e.checked,n)n.hasOwnProperty(i)&&n[i]&&o.push(i);this._lockUnlock(o),this.elem("selected").val(o.join(","))},_lockUnlock:function(t){1===t.length?(this._locked=this.findBlockInside({block:"checkbox",modName:"checked",modVal:"yes"}),this._locked.setMod("disabled","yes")):this._locked&&(this._locked.delMod("disabled"),this._locked=null)}},{live:function(){return this.liveInitOnBlockInsideEvent("change","checkbox",function(t,e){this.afterCurrentEvent(function(){this._onChange(t.target,e)})}),!1}})},"3KT2":function(t,e){MBEM.decl({block:"mini-suggest",modName:"re-request",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&this.on("re-request",this._handleReRequest,this).on("re-response",this._handleReResponse,this).on("re-popup-update",this._handleRePopupUpdate,this)},_handleReResponse:function(t,e){++this._reResponses.drsp,e.items.length||++this._reResponses.dersp,!e.relevant&&e.items.length&&++this._reResponses.dlrsp},_handleReRequest:function(){++this._reResponses.drqs},_handleRePopupUpdate:function(){++this._reResponses.drndr},_clearCounters:function(){this.__base.apply(this,arguments),this._reResponses={drqs:0,drsp:0,dlrsp:0,dersp:0,drndr:0}},_getParamsList:function(){var t=this.__base();return t.push(this._reResponses),t}})},"3b1C":function(t,e){var i,h;"undefined"!=typeof Widget&&void 0===Widget.Framework&&(h=jQuery,Widget.Framework={undef:function(t){return t},params:!1,_id:{},_prebindId:{},_wauth:{},_no:{},_widgets:[],_wrappers:{},_callbacks:{},_callbackId:1,widgetAutoReloadTimers:{},widgetReloadQueue:{},reloadQueueTimeout:5e3,reloadQueueTimer:null,widgetPrefs:{},getLocale:function(){return this.params.locale},getDomain:function(){return this.params.domain},get:function(t){return Widget.Framework._id[t]},getPrebind:function(t){return Widget.Framework._prebindId[t]},getByWauth:function(t){return Widget.Framework._wauth[t]},getByWrapperId:function(t){return Widget.Framework._wrappers[t]},getByClass:function(t){if(this._no[t]===this.undef())return[];for(var e=[],i=0;i<this._widgets.length;i++)this._widgets[i].classId===t&&(e[e.length]=this._widgets[i]);return e},updateNo:function(t,e){e=parseInt((""+e).replace(/^[^-]+-/,""),10);return this._no[t]===this.undef()&&(this._no[t]=0),this._no[t]<=e&&(this._no[t]=e+1),this._no[t]},register:function(t){for(var e in this.registerWauth(t),this._id[t.id]=t,this.updateNo(t.classId,t.instanceId),t.intClassId&&this.updateNo(t.intClassId,t.instanceId),this._widgets=[],this._id)this._id.hasOwnProperty(e)&&(this._widgets[this._widgets.length]=this._id[e])},registerWauth:function(t){var e=t.getValue("wauth");""!==e&&(this._wauth[e]=t),t.resetAuth()},all:function(){return this._widgets},bindIframe:function(){var t=y5Url(location.href).getParam("wauth");if(t){this.inIframe=!0;var e=this.splitAuth(t),t=this.bind(e.id,{type:"iframe-inside",wauth:t});return this.setValuesFromUrl(t),t.addWidgetStyles(),document.documentElement.id=this.params.idPrefix+t.id,t}return this.inIframe=!1},setEdit:function(t){if(!arguments.length)return this.params.edit;this.params.edit!==(t=!!t)&&(t?this.unsetAutoreload():this.setAutoreload(),this.params.edit=t)},getValuesFromUrl:function(t){var e=[];try{var i=y5Url(location.href);t!==this.undef()&&i.query(t);var n=i.queryKeys();for(r=0;r<n.length;r++)i.getParam(n[r])===this.undef()?e[e.length]=[n[r],""]:e[e.length]=[n[r],i.getParam(n[r])];if(i.Hash)for(var o,s=i.Hash.replace("secure:","").split(","),r=0,a=s.length;r<a;r++)o=s[r].split("="),e[e.length]=o}catch(t){}return e},setValuesFromUrl:function(t){var e,i=this.getValuesFromUrl();try{e=location.protocol}catch(t){e="http:"}for(var n,o,s=0;s<i.length;s++)"."===i[s][0]?(o=i[s][1].split("|"),this.params.saveDomain=o[0].replace(/(http:|https:)/,e),this.params.fullproxyDomain=o[0],this.params.fullproxyUrl=this.params.saveDomain+this.params.proxyUrl,this.params.proxyDomain=o[1]):"locale"===i[s][0]?this.params.locale=i[s][1]:(n=i[s][1],"prefs_get"===(o=i[s][0])&&(n=JSON.parse(n)),t.setValue(o,n))},_inlineLoadingCount:0,inlineLoading:function(t){this._inlineLoadingCount+=t,this.onInlineLoadingChange(this._inlineLoadingCount,t)},onInlineLoadingChange:function(){},bind:function(t,e){e=this.prebind(t,e);return e.init(),e},prebind:function(t,e){e=new Widget(t,e);return Widget.Framework._prebindId[t]=e},init:function(t){if(!1===this.params)this.params=t;else for(var e in t)t.hasOwnProperty(e)&&t[e]!==this.undef()&&(this.params[e]=t[e]);this.params.preloader=this.params.preloader.replace("#dataLoading#",this.params.dataLoadingText)},insert:function(t,e,i,n){var o=h(i),i=o.data("bem").widget,i=Widget.Bind(i.id,i.initParams);e.append(o),i.bound&&("raw"===i.type||"inline"===i.type&&!1===i.src)&&i.finalize(),n&&n(i,i.$().parent())},replace:function(t,e,i){var n=t.$(),t=t.id;BEM.DOM.destruct(n,!0),n.html(e),BEM.DOM.init(n);n=Widget.Framework.get(t),t=n.wrapper.$();return i&&i(n,t),n},reload:function(e,i,t,n){t&&(e._prefs.showAnyway=t);t={wauth:e.getAuth(),wid:e.id,usrCh:e.params.usrCh,fixed:this.params.layoutFixed?"1":"",showanyway:e._prefs.showAnyway?1:0,prefs_get:e.params.prefs_get?JSON.stringify(e.params.prefs_get):"",locale:this.getLocale(),prototype:Widget.Framework.params.prototype,bg:e.getWidgetStyle().bg,version:Widget.Framework.params.version};n&&(t.istuning=1),this.params.gsid&&(t.g_sid=this.params.gsid),void 0!==e.params.is_default&&(t.is_default=!0===e.params.is_default?1:0),!1!==Widget.Framework.widgetPrefs[e.id]?Widget.Framework.widgetPrefs[e.id]=e._prefs:Widget.Framework.widgetPrefs[e.id]=null,"iframe"===e.type&&(t["."]=this.params.fullproxyDomain+"|"+this.params.proxyDomain),h.get(this.params.addUrl,t,function(t){Widget.Framework.replace(e,t,i)})},add:function(t,e,i,n){var o,s,r=this.updateNo(t,"_topnews"===t?0:1);this.updateNo(t,r),"function"==typeof i?o=i:(o=i.success,s=i.error);var a=t+"-"+r,r={wauth:this.params.wauth,wid:a,smart:(n=n||{fixed:!1}).smart?"1":"",fixed:n.fixed?"1":"",locale:this.getLocale(),isAddition:1,prototype:this.params.prototype,version:Widget.Framework.params.version};this.params.gsid&&(r.g_sid=this.params.gsid),n.settings&&(r.settings=n.settings),n.sign&&(r.sign=n.sign),n.showanyway&&(r.showanyway=n.showanyway),h.ajax({url:this.params.addUrl,data:r,success:function(t){Widget.Framework.insert(a,e,t,o)},error:s})},fromJson:function(t,e){t=this.getByWauth(t);t&&t._inlineFromJson(e)},splitAuth:function(t){t=t.split(".");return 4<t.length?{id:t[3],owner:t[6],viewer:t[5]}:{id:t[0],owner:t[1],viewer:t[2]}},scripts:{},library:function(t,s){var r=this.prepareLibrary(t),a=0,c=this;!function t(e){if(e!==c.undef()&&"loaded"!==c.scripts[e]){for(var i=0;i<c.scripts[e].length;i++)c.scripts[e][i]();c.scripts[e]="loaded"}var n,o;a>=r.length?s!==c.undef()&&s():(n=r[a],a++,c.scripts[n]===c.undef()&&!1!==n?(c.scripts[n]=[],h.getScript(n,(o=n,function(){t(o)}))):"loaded"===c.scripts[n]?t():c.scripts[n].push(t))}()},prepareLibrary:function(t){var e=[];if(t instanceof Array)for(var i=0;i<t.length;i++)e=t[i]instanceof Array?e.concat(this.prepareLibrary(t[i][0],t[i][1])):e.concat(this.prepareLibrary(t[i]));return e=!1!==t?t:e},_css:{},css:function(t){t instanceof Array?this.loadCss(t):(t.any instanceof Array&&this.loadCss(t.any),h.browser&&h.browser.msie&&t.msie instanceof Array&&this.loadCss(t.msie),h.browser&&h.browser.msie||!(t.non_msie instanceof Array)||this.loadCss(t.non_msie))},loadCss:function(t){for(var e,i=0;i<t.length;i++)this._css[t[i]]||(this._css[t[i]]=!0,(e=document.createElement("link")).rel="stylesheet",e.href=t[i],(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(e))},_click:function(t){t="//yandex.ru/clck/jclck/dtype=stred/pid="+this.params.statParams.pid+"/cid="+this.params.statParams.cid+"/path="+t+"/rnd="+Math.random()+"/*"+location.href.replace(/^[^/]+\/+/,"");try{h.ajax({type:"GET",url:t,dataType:"text"})}catch(t){}},_counter:function(){var t=h(this),e=(t.closest(".widget").attr("id")||"").replace(/^wd-wrapper-/,""),i=Widget.Framework.get(e),e=i.classId+".anchors";if(i){if(t.attr("rev")){t=t.attr("rev");if("none"===t)return;e=e+"."+t}Widget.Framework._click(e)}},hookStats:function(i){var n=this;if("iframe-inside"===i.type)h("a, input[type=button], input[type=submit], button").on("mousedown.widgetstat",function(){n._click(i.classId+".anchors")});else if(i.wrapper.$("title").not(".yandex-hook-stat").mousedown(function(){n._click(i.classId+".title")}).addClass("yandex-hook-stat"),0<i.wrapper.$().length&&"raw"!==i.type){var t="#"+i.wrapper.$().attr("id")+" a:not(.yandex-hook-stat),";t+="#"+i.wrapper.$().attr("id")+" input[type=button],",t+="#"+i.wrapper.$().attr("id")+" input[type=submit],",t+="#"+i.wrapper.$().attr("id")+" button";try{h(t).off("mousedown.widgetstat").on("mousedown.widgetstat",function(){var t=h(this),e=i.classId+".anchors";if(t.attr("rev")){t=t.attr("rev");if("none"===t)return;e=e+"."+t}n._click(e)})}catch(t){}}},_domloaded:!1,domLoaded:function(){if(this._domloaded)return!1;this._domloaded=!0;for(var t=0;t<this._widgets.length;t++)this._widgets[t]._inlineLoading?this._widgets[t].showPreloader():this._widgets[t]._inlinePending?this._widgets[t]._inlineFromHtml(this._widgets[t]._inlinePending):this._widgets[t].finalize()},setAutoreload:function(t){if(!0!==this.params.edit)if(t){var e,i=this.widgetAutoReloadTimers;t.params.rebind&&!i[t.id]&&(e=1e3*t.params.rebind,i[t.id]=setTimeout(function(){i[t.id]=null,t.iReload()},e))}else for(var n=0;n<this._widgets.length;n++)this.setAutoreload(this._widgets[n])},unsetAutoreload:function(t){if(t){var e=this.widgetAutoReloadTimers,i=e[t.id];i&&(clearTimeout(i),e[t]=null)}else for(var n=0;n<this._widgets.length;n++)this.unsetAutoreload(this._widgets[n])},_storeCallback:function(t){return this._callbacks[this._callbackId]=t,this._callbackId++},_freeCallback:function(t){var e=this._callbacks[t];return delete this._callbacks[t],e},_postMessageTransport:function(t,e,i){t={action:"message",wauth:t.getValue("wauth"),params:{message:e}},e=this.params.fullproxyDomain;i&&(t.params.callbackId=this._storeCallback(i)),window.parent.postMessage(JSON.stringify(t),e)},_iframeTransport:function(t,e,i){var n,o=this.params.fullproxyUrl;0!==o.indexOf("http:")&&0!==o.indexOf("https:")&&"/"!==o.charAt(0)||(this._xframe&&document.body.removeChild(this._xframe),(n=document.createElement("iframe")).style.visibility="hidden",n.style.position="absolute",n.name="widget"+(Math.random()+"").substr(3,7),n.style.top=n.style.left=n.style.width=n.style.height=0,this._xframe=document.body.insertBefore(n,document.body.firstChild),this.xframeSrc(this._xframe,o+"#"+e,i))},xframe:function(t,e,i,n){try{var o,s=y5Url();s.clearQuery(),s.addParams({wauth:t.getAuth(),name:e,value:i}),s.hash(encodeURIComponent(s.query())),s.clearQuery(),o=this.params.proxyDomain+"&"+s.hash(),"postMessage"in window?this._postMessageTransport(t,o,n):this._iframeTransport(t,o,n)}catch(t){}},_isCorrectWauth:function(t){var e=this.splitAuth(t),e=this.get(e.id);return!!e&&e.getValue("wauth")===t},onWindowMessage:function(t){var e,i;try{e=JSON.parse(t.data)}catch(t){return}e&&("callback"===e.action?e.params&&e.params.callbackId&&(i=this._freeCallback(e.params.callbackId))&&i():e.wauth&&this._isCorrectWauth(e.wauth)&&e.params&&e.params.message&&(this.xframeGet(e.params.message),e.params.callbackId&&t.source.postMessage(JSON.stringify({action:"callback",params:{callbackId:e.params.callbackId}}),t.origin)))},xframeGet:function(t){if(!this.inIframe){0<t.indexOf("wauth%3D")&&(t=decodeURIComponent(t));var e=new y5Url;e.query(t.replace(/^#/,""));var i=this.splitAuth(e.getParam("wauth")),n=this.get(i.id),o=e.getParam("value");if(n)switch(e.getParam("name")){case"Widget::setTitle":n.setTitle(o);break;case"Widget::setIFrameHeight":n.setIFrameHeight(o);break;case"Widget::setPreferencesFormWidth":n.setPreferencesFormWidth(o);break;case"Widget::setPreferencesFormHeight":n.setPreferencesFormHeight(o);break;case"Widget::setPreferencesFormSize":var s=o.split(",");n.setPreferencesFormSize(s[0],s[1]);break;case"Widget::showPreferences":n.showPreferences();break;case"Widget::hidePreferences":for(var r=decodeURIComponent(t).split("<>"),o=[],a=1;a<r.length;a++)o[o.length]=r[a];o=o.join("<>");var c={},l=this.getValuesFromUrl(o);for(a=0;a<l.length;a++)c[l[a][0]]=l[a][1];(e.Query.wauth||[])[0]===n.getAuth()&&(""!==e.getParam("value")&&n.setValues(c),setTimeout(function(){n.loadFromSrc()},200),this.params.notifyChangesHandler(n)),h(window).trigger({type:"widgetSettingsTuned",id:n.id},{state:o?"save":"close"}),n.hidePreferences();break;case"Widget::dropPreferences":n.dropPreferences(),h(window).trigger({type:"widgetSettingsDropped",id:n.id});break;case"Widget::notifyCustomSave":h(window).trigger({type:"widgetSettingsTuned",id:n.id},{state:"save"})}}},xframeSrc:function(t,e,i){var n;if(h.browser&&h.browser.msie){(n=t.cloneNode(!0)).style.position="absolute",n.style.visibility="hidden",n.id="",h(n).bind("load",function t(){h(n).unbind("load",t),n.style.position="",n.style.visibility="",i&&i()}),n.src=e+"&rnd="+Math.random();try{document.body.appendChild(n)}catch(t){}}else h(t).one("load",function(){i&&i()}),t.src=e+"&rnd="+Math.random()},addToReloadQueue:function(t,e,i){t.id&&(this.widgetReloadQueue[t.id]={flag:!0,widget:t,callback:e,randomDelay:i})},processReloadQueue:function(){var t,e;for(e in this.widgetReloadQueue)this.widgetReloadQueue.hasOwnProperty(e)&&(t=this.widgetReloadQueue[e]).flag&&(function(t,e,i){i=void 0!==i?i:3e4;i=Math.round(Math.random()*i);setTimeout(function(){t.reload(e),t._isNotReloaded=!0},i)}(t.widget,t.callback,t.randomDelay),t.flag=!1)},showEditForm:function(t,e,i){var n,o=this.get(t);o.params.prefs_src!==this.undef()&&""!==o.params.prefs_src?(t=(n=o.iframeElement(o.params.prefs_src,[],!0)).attr("src"),h(e).empty().append(n),n.attr("src",t+"&rnd="+Math.random()),n.bind("load",i)):h.get(this.params.formUrl,{widget:o.getWidgetId(),wauth:o.getAuth(),dataType:"json",prefs_get:o.params.prefs_get?JSON.stringify(o.params.prefs_get):""},i)},getFontSize:function(){return this._fontSize||(this._fontSize=h(".widget").css("font-size")),this._fontSize},end:!0},Widget.Framework.init({jsonUrl:"",addUrl:"/adddata/",rawBodyUrl:"/inline/",formUrl:"/form.html",proxyUrl:"/xframeproxy.html",wauth:!1,idTemplate:/WIDGETID/g,idPrefix:"wd-",wrapperPrefix:"wd-",wrapperPostfix:"-",iframeHeight:"auto",iframeWidth:400,layoutFixed:!1,statParams:{pid:132,cid:2947},patternId:!1,yu:!1,is_default:!1,geoid:!1,region:!1,havePrefsFrom:!1,isWidgetNormal:!1,open_settings_on_add:!1,title:"",prefs_get:!1,locale:"ru",domain:"ru",dataLoadingText:" ",showPreferencesHandler:function(){},hidePreferencesHandler:function(){},notifyChangesHandler:function(){},preloader:"<div>#dataLoading#</div>"}),Widget.GetInstance=function(t){return Widget.Framework.get(t)},Widget.GetInstanceByWauth=function(t){return Widget.Framework.getByWauth(t)},Widget.Init=function(t){return Widget.Framework.init(t)},Widget.Bind=function(t,e){return Widget.Framework.bind(t,e)},Widget.BindOnAdd=function(t,e){return Widget.Framework.prebind(t,e)},$(document).ready(function(){Widget.Framework.domLoaded()}),Widget.Framework.focused=!0,$.browser&&$.browser.msie?($(document).bind("focusout",function(){Widget.Framework.focused=!1}),$(document).bind("focusin",function(){Widget.Framework.focused=!0})):($(window).focus(function(){Widget.Framework.focused=!0}),$(window).blur(function(){Widget.Framework.focused=!1})),(i=Widget.Framework.bindIframe())?window.widget=i:(window.WidgetMessaging=function(t){Widget.Framework.xframeGet(t)},$(window).on("resize",$.debounce(function(){var t=$(".widget").css("font-size");t!==Widget.Framework._fontSize&&(Widget.Framework._fontSize=t,Widget.Framework.all().forEach(function(t){t.adjustFontSize()}))},200))),"postMessage"in window&&$(window).bind("message",function(t){Widget.Framework.onWindowMessage(t.originalEvent)}))},"3wAB":function(t,e){MBEM.decl({block:"mini-suggest",modName:"re-request",modVal:"yes"},{_handleReResponse:function(t,e){this.__base.apply(this,arguments),e.relevant&&e.items.length&&(this._meta=e.data[2]||{})}})},"42Ai":function(t,e){BEM.DOM.decl("link",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.__base.apply(this,arguments)}})},"44Qx":function(t,e){BEM.DOM.decl({block:"popup",modName:"animate",modVal:"yes"},{afterShow:function(){var t,e,i=this.getCurrDirection();i&&(t=i.to,i={opacity:1,top:(e=this.getCurrPos()).top,left:e.left},e={opacity:0,top:e.top,left:e.left},"bottom"===t?e.top+=10:"top"===t?e.top-=10:"left"===t?e.left-=10:"right"===t&&(e.left+=10),this.domElem.stop(!0).css(e).animate(i,this.params.duration))},beforeHide:function(t){var e=this.getCurrDirection();if(!e)return t();var i=e.to,e=this.getCurrPos(),n=this.domElem,e={top:e.top,left:e.left,opacity:0};return"bottom"===i?e.top+=10:"top"===i?e.top-=10:"left"===i?e.left-=10:"right"===i&&(e.left+=10),n.stop(!0,!0).animate(e,this.params.duration,function(){t(),n.css("opacity","")})}})},"4H+s":function(t,e){home.stringf=function(t){var e=Array.prototype.slice.call(arguments,1);return t.replace(/%s/g,function(){return e.shift()||""})}},"4Rhg":function(t,e){MBEM.decl("mini-suggest",{_createPopup:function(){var t=this.__base.apply(this,arguments);return t&&(this._handleClick(this._popup,MBEM.eventProxy("_onPopupClick",this)),this.bindTo(this._popup,"mouseover",MBEM.eventProxy("_onMouseover",this)).bindTo(this._popup,"mouseout",MBEM.eventProxy("_onMouseout",this))),t},_onMouseover:function(t){t=MBEM.closest(t.target,"mini-suggest__item");t&&this._selectItem(t)},_onMouseout:function(t){MBEM.closest(t.target,"mini-suggest__item")&&this._unselectAll()},_update:function(){this._unselectAll(),this.__base.apply(this,arguments)},_selectItem:function(t){this._unselectAll(),t&&MBEM.cls.add(t,"mini-suggest__item_selected_yes")},_unselectAll:function(){var t;this._popup&&(t=this._popupContent.querySelectorAll(".mini-suggest__item_selected_yes"),MBEM.arrayFrom(t).forEach(function(t){MBEM.cls.remove(t,"mini-suggest__item_selected_yes")}))},_handleClick:function(t,e){return this.bindTo(t,"mousedown",function(t){t.preventDefault()}).bindTo(t,"click",function(t){!t.button&&e&&e.call(this,t)}),this}})},"4bt8":function(t,e){BEM.DOM.decl({block:"news",modName:"animation",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._animatedHovered=!1,this._animatedFocused=!1,this._visible=!0}}},destruct:function(){this._deinitAnimation(),this.__base.apply(this,arguments)},_onPanelChange:function(){this.__base.apply(this,arguments),this._stopRotation(),this._startRotation()},_initAnimation:function(){this._timeout=setTimeout(function(){this._rotate(),this._startRotation()}.bind(this),this.params.firstInterval),this.channel("sys").on("visibilitychange",this._onVisibilityChange,this)},_shiftNews:function(t){$(".news__animated-item:not(.list__item_fade_in)").remove(),$(".list__item_fade_in").after(t),this.findElem("animated-item").each(function(t,e){$(e).attr("value",t+5)}),this.newsShifted=!0},_deinitAnimation:function(){this.channel("sys").un("visibilitychange",this._onVisibilityChange,this),this._stopRotation(),this.__base.apply(this,arguments)},_checkConditions:function(){this._animatedHovered||this._animatedFocused||!this._visible?this._stopRotation():this._startRotation()},_onVisibilityChange:function(t,e){this._visible=!e.hidden,this._checkConditions()},_toggleHover:function(t){this._animatedHovered=t,this._checkConditions()},_toggleFocus:function(t){this._animatedFocused=t,this._checkConditions()},_startRotation:function(){!this._interval&&this._isAnimationEnabled&&(this._interval=setInterval(this._rotate.bind(this),this.params.interval))},_stopRotation:function(){this._interval&&(clearInterval(this._interval),this._interval=null),this._timeout&&(clearTimeout(this._timeout),this._timeout=null)},_rotate:function(){var t,e=this.findElem(this._$panel,"animation-list");e.length&&((e=(t=e.find(".list__item")).filter(".list__item_fade_in").next(".list__item")).length||(e=t.eq(0)),this._showAnimatedItem(e))},_showAnimatedItem:function(t){var e=this.findElem(this._$panel,"animation-list");e.length&&(e=e.find(".list__item").filter(".list__item_fade_in"),t.addClass("list__item_fade_in"),e.removeClass("list__item_fade_in").addClass("list__item_fade_out"),setTimeout(function(t){this.rotateNewsHtml&&(this.newsShifted||this._shiftNews(this.rotateNewsHtml),this.fadeInNewShifted||(this.fadeInNewShifted=!0,t.remove())),t.removeClass("list__item_fade_out")}.bind(this,e),this.__self.ANIMATION_DURATION))}},{ANIMATION_DURATION:400,live:function(){var t=this.__base.apply(this,arguments);return this.liveBindTo("animated-item","mouseover mouseout",function(t){var e=t.relatedTarget,i=t.target;e&&(e===i||$.contains(i,e))||this._toggleHover("mouseover"===t.type)}),this.liveBindTo("animated-item","focusin focusout",function(t){"focusin"===t.type&&$("html").hasClass("pointerfocus")||(this._toggleFocus("focusin"===t.type),"focusin"!==t.type)||((t=$(t.target).closest(".list__item")).hasClass("list__item_fade_in")||this._showAnimatedItem(t))}),t}})},"4lOB":function(t,e){BEM.DOM.decl({block:"imageloader",modName:"tracking",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._setModOnVisible("full-visible",{threshold:.9})}}})},"4oEA":function(t,e){home.is=function(t){return"0"!==t&&!!t},home.hasBlock=function(t){return t&&home.is(t.show)}},"4opE":function(t,e){BEM.DOM.decl("b-autocomplete-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown mouseup pointerover pointerout pointerdown pointerup",function(t){this.trigger(t.type)}),this.__base()}}),BEM.HTML.decl("b-autocomplete-item",{onBlock:function(t){var e=t.param("data"),e=BEM.blocks["i-common__string"].escapeHTML($.isArray(e)?e[1]:e);$.isArray(t.param("search_cgi"))&&t.js({cgi:t.param("search_cgi")}),t.tag("li").mod("pers",!!t.param("pers")&&"yes").content(BEM.blocks["b-autocomplete-item"].highlight(e,t.param("hl"))).js(!0)}})},"581y":function(t,e){BEM.decl({block:"pusher",modName:"technology",modVal:"push-api"},{},{_getID:function(){return $.cookie("yandexuid")},_getBackendTag:function(t){var e=this._origin+"/psuh/v2/tags/web/"+this._getID()+"/"+t;return this.__base.call(this,t,e)},_sendTags:function(t){var e=this._getID(),e=this._origin+"/psuh/v2/tags/"+e+"/"+e;return this.__base.call(this,t,e)},_requestPermission:function(){var n=Date.now();return Notification.requestPermission().then(function(t){if("granted"!==t){var e=new Error("Access is denied"),i=Date.now();throw e.permission=t,e.delay=i-n,e}})},_prepareSubscription:function(t){return Promise.all([navigator.serviceWorker.register(this._urlServiceWorker,{scope:"/notifications/"}),this._prepareTags(t,"add")])},_subscribe:function(i){var r=this._getID();return new Promise(function(n,o){var t=i[0],s=i[1],e=new MessageChannel,t=t.installing||t.waiting||t.active;e.port1.onmessage=function(t){var e=t.data||{},i=e.code,t=e.data;"subscribe"!==i||!0!==t?(e=new Error("Message not processed"),"error"===i&&t.stack&&(e.stack=(e.stack?e.stack+"\r\n":"")+t.stack),o(e)):n(s)},t.postMessage({code:"subscribe",version:1,data:{id:r,tags:s}},[e.port2]),setTimeout(function(){o(new Error("Timeout expired"))},3e4)})},subscribe:function(t){return this._requestPermission().then(this._prepareSubscription.bind(this,t)).then(this._subscribe.bind(this)).then(this._updateBackendTags.bind(this)).then(function(){return!0})},getPermission:function(){return Notification.permission},supported:"serviceWorker"in navigator&&"PushManager"in window&&"MessageChannel"in window&&"Notification"in window&&"indexedDB"in window&&"fetch"in window&&PushSubscription.prototype.hasOwnProperty("getKey")&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")})},"5Wo9":function(t,e){BEM.decl("installing-promotion",{},{init:function(t){this._promptEvent=t,this._promtHandlers=["news"],this._promptTimeout=300,this._storageHeader="YandexHomePromptInstallationAttempt",this._storage=window.localStorage,this._statPath="installing_promotion",this._installPrompt(t)},_installPrompt:function(e){e.preventDefault();var i=this;this._promtHandlers.forEach(function(t){home.stat.addHandler(t,function(){i._showPopup(e)})})},_showPopup:function(t){this._localInstallationCheck()&&setTimeout(function(){t.prompt(),t.userChoice.then(function(t){var e=this._convertDateToDays(new Date);this._storage.setItem(this._storageHeader,e),home.stat.logPath("show",this._statPath+".prompt_poopup"),"accepted"===t.outcome?home.stat.logPath("click",this._statPath+".prompt_install"):home.stat.logPath("click",this._statPath+".prompt_dismiss")}.bind(this))}.bind(this),this._promptTimeout)},_localInstallationCheck:function(){var t=this._storage.getItem(this._storageHeader),e=this._convertDateToDays(new Date);return!t||7<Math.round(e-t)},_convertDateToDays:function(t){return t.getTime()/1e3/60/60/24}}),window.addEventListener("beforeinstallprompt",function(t){home.stat.logPath("tech","installing_promotion.avaliable_promote"),BEM.blocks["installing-promotion"].init(t)})},"5sh/":function(t,e){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}}},_onClearClick:function(){return this.trigger("clear"),this.removeInsets&&this.removeInsets(),this.clearInput({source:"clear"})._focus()},clearInput:function(t){return this.val("",t),this},_updateClear:function(){return this.toggleMod(this.elem("clear"),"visibility","visible",Boolean(this._val))}},{live:function(){return this.liveBindTo("clear","pointerpress",function(t){this.setMod(this.elem("clear"),"pressed","yes")}).liveBindTo("clear","pointerover",function(t){this.setMod(this.elem("clear"),"hovered","yes")}).liveBindTo("clear","pointerout",function(t){this.delMod(this.elem("clear"),"hovered")}).liveBindTo("clear","pointerclick",function(){this.delMod(this.elem("clear"),"pressed"),this._onClearClick()}).liveBindTo("control","paste",function(){this.setMod(this.elem("clear"),"visibility","visible")}),this.__base()}})},"68Xq":function(t,e){MBEM.decl({block:"mini-suggest",modName:"theme",modVal:"tile"},{_repositionPopup:function(){var t;this._popup&&(t=MBEM.offset(this.domElem),this._popup.style.width=this.domElem.offsetWidth+"px",this._popup.style.left=t.left+"px",this._popup.style.top=t.top+this.domElem.offsetHeight+this.params.popupOffset+"px")}})},"69PH":function(t,e){MBEM.decl("mini-suggest",{_handleClick:function(t){return this.__base.apply(this,arguments).bindTo(t,"mousedown",function(){this._freezeFocus=Date.now()+1e3}),this}})},"6Hjr":function(t,e){BEM.DOM.decl("notifier",{onSetMod:{js:{inited:function(){this.win=window,this._popupInited=!1,this.hasMod("has-unread")&&this.setMod("animation-active","yes"),this._fetchCounter()}},"has-unread":{yes:function(){this.setMod("animation-active","yes")},"":function(){this.domElem.attr("aria-label",BEM.I18N("notifier","no-new-notifications"))}},"animation-active":{yes:function(){this._subscribeOnAnimationEnd()}},opened:{yes:function(){this.domElem.attr("aria-expanded",!0)},"":function(){this.domElem.attr("aria-expanded",!1)}}},_subscribeOnAnimationEnd:function(){var e=this.elem("clapper");e.on("animationend",function t(){this.delMod("animation-active"),e.off("animationend",t)}.bind(this))},_initPopup:function(){if(this._popupInited)return!1;this._popup=this.getPopup(),this._popup.on("beforeOpen beforeClose",function(){var t=this._popup.hasMod("visible","yes");this.toggleMod("opened","yes",!t),void 0!==this._rpcBridge&&void 0!==this._rpcBridge.contrAgent.win&&this._rpcBridge.invokeMethod("updatePopupState",!t),t?this._firstOpen=!1:(this.delMod("has-unread"),this._firstOpen=void 0===this._firstOpen||void 0)}.bind(this)),this._popupInited=!0},_fetchCounter:function(){var t={url:this._getCounterUrl(),dataType:"json",type:"GET",xhrFields:{credentials:"include",withCredentials:!0}};return $.ajax(t).promise().then(this._prepareCounter.bind(this),this.onFetchCounterError.bind(this))},_prepareCounter:function(t){var e={counter:0,services:[],context:{}};t&&(t.unviewed_count&&t.services&&(e.counter=this._convertToUint(t.unviewed_count),e.services=Object.keys(t.services)),t.context&&(e.context=t.context)),this.onFetchCounterSuccess(e)},onFetchCounterSuccess:function(t){t.counter&&this.onUpdateCounter(t.counter,t.services,t.context)},onFetchCounterError:function(){},_convertToUint:function(t){t=Number(t)||0;return 0<=t&&this._isInteger(t)?t:0},_isInteger:function(t){return(0^t)===t},_getHost:function(){return"https://"+(this.params.apiHost&&-1!==this.params.apiHost.indexOf("yandex-team")?"bell.yandex-team":"yandex")+this._getTld()},_getCounterUrl:function(){return this.params.counterHandle||this._getHost()+"/bell/api/v1/get-ticker"},_getIframeUrl:function(){var t=[],e=this.params.iframeUrl||(0<=this.params.baseUrl.indexOf(".yandex-team.")?"https://gnc.yandex-team.ru/frame":"https://yandex"+this._getTld()+"/gnc/frame");return this.hasMod("no-login")&&-1===e.indexOf("no_login")&&t.push("no_login=1"),this.params.utmSourceService&&-1===e.indexOf("utm_source_service")&&t.push("utm_source_service="+this.params.utmSourceService),this.params.env&&t.push("env="+this.params.env),0<t.length?e+(-1===e.lastIndexOf("?")?"?":"&")+t.join("&"):e},_getLoaderUrl:function(){return this.params.loaderUrl||this.params.baseUrl+"/iframe-loader/"+this.params.loaderVersion+"/index.min.js"},_insertLoaderScript:function(t){var e=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],i=document.createElement("script");i.setAttribute("src",this._getLoaderUrl()),e.insertBefore(i,e.lastChild),i.onload=t},_loadIframe:function(){var t={iframeUrl:this._getIframeUrl(this.params.lang),container:this.findElem(this._popup.domElem,"content").get(0)};this._atom=new window.LegoIframeLoader(t),this._rpcBridge=this._atom.getRPCBridge(this),this._atom.on("init",function(t,e){this._onIframeLoad(e)}.bind(this)),this._atom.init(),this._atom.iframe&&(this._atom.iframe.style.transform="")},getPopup:function(){return this._popup||this.findBlockOn("popup","popup2")},init:function(){if(this._rpcBridge)return this;window.LegoIframeLoader?this._loadIframe():this._insertLoaderScript(this._loadIframe.bind(this))},onIconClick:function(t){this._silentLoad=!1,this._popupInited||this._initPopup(),this._rpcBridge||this.init(),this._popup.toggleMod("visible","yes")},onDataLoad:function(t){this.setMod(this._popup.domElem,"loaded","yes"),this._hasLoaded=!0,this._popup.hasMod("visible","yes")&&!this._silentLoad&&this._rpcBridge.invokeMethod("resetUnviewed",{})},onUpdateCounter:function(t,e,i){e=e||[],i=i||{},this._counter=t=!t||t<0?0:t;var n,o=!this._firstOpen&&Boolean(t);this.toggleMod("has-unread","yes",o),t&&void 0===this._firstOpen&&(n="-counter="+t+",-is_login="+!this.hasMod("no-login"),e.length&&(n+=",-services="+e.join(".")),i.exp_boxes&&(n+=",-exp_boxes="+encodeURIComponent(i.exp_boxes)),this.count("3027.1228.487",n,null,{reqid:BEM.blocks["i-global"]&&BEM.blocks["i-global"].param("reqid")||""})),this._firstOpen&&(this._firstOpen=!1),this.elem("ticker").text(Math.min(99,t)),o&&this.domElem.attr("aria-label",BEM.I18N("notifier","new-notifications",{count:t}))},updateCounterWithParams:function(t,e){void 0!==this._rpcBridge&&void 0!==this._rpcBridge.contrAgent.win&&this._rpcBridge.invokeMethod("updateCounterWithParams",{counterParams:t,referrer:e})},_onIframeLoad:function(t){this._rpcBridge.contrAgent.win=t.iframeWin,this._rpcBridge.invokeMethod("onIframeLoad",this.getIframeParams())},getIframeParams:function(){return{source:this.params.source,serviceDatabaseId:this.params.serviceDatabaseId,services:this.params.services,domain:this.params.domain||this.params.tld,counterParams:this.params.counterParams,referrer:this.params.referrer,apiHost:this.params.apiHost,apiHost2:this.params.apiHost2,silent:this._silentLoad}},onInit:function(t){},getDefaultParams:function(){return{baseUrl:"https://gcn.yandex-team.ru",loaderVersion:"stable",iframeVersion:"stable",lang:"ru",referrer:location.href}},count:function(t,e,i,n){e=e||"",i=i||"",n=n||{};var o=["reqid","yuid","serpid","service","ui"].reduce(function(t,e){return t+(n[e]?"/"+e+"="+n[e]:"")},""),o="//yandex"+this._getTld()+"/clck/click/pid=900/cid="+i+"/dtype=stred"+(t?"/path="+t:"")+(e?"/vars="+e:"")+o+"/cts="+(new Date).getTime()+"/*"+document.location.href;document.createElement("IMG").src=o},_getTld:function(){var t=document.location.host.match(/^.*(\..+)$/);return t?t[1]:".ru"},destruct:$.noop},{live:function(){this.liveBindTo("click",function(t){this.onIconClick(t)})}})},"6PS6":function(t,e){!function(){"use strict";var o=/^(?:(.*?):)?\/\/([^/?#\s]+)(\/?.*)$/,s=/^(\/?[^?#\s]*)(?:\?([^#]+))?(?:#(.*))?$/;function a(t){var e,i=[];if(!t)return"";for(e in t)if(t.hasOwnProperty(e)&&void 0!==t[e]&&null!==t[e]){var n=t[e];"object"!=typeof n&&(n=[n]);for(var o=0;o<n.length;++o)i.push(encodeURIComponent(e)+(""!==n[o]?"="+encodeURIComponent(n[o]):""))}return i.length?"?"+i.join("&"):""}home.parseSearch=function(t,s){return t.split("&").reduce(function(e,i){if(!i)return{};var t,n,o=i.match(/([^=]*)=(.*)/);if(o)try{t=decodeURIComponent(o[1]),n=decodeURIComponent(o[2])}catch(t){return home.error("home.parseSearch: "+t.message+"; token: "+i),e}else{try{t=decodeURIComponent(i)}catch(t){return home.error("home.parseSearch: "+t.message+"; token: "+i),e}n=""}return t in e&&s?("string"==typeof e[t]&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n,e},{})},home.parseUrl=function(t,e){var i=t.match(o),n=i?i[3].match(s):(i=[],t.match(s));if(!i&&!n)throw new TypeError('Invalid url "'+t+'"');n={scheme:i[1]||"",host:i[2]||"",path:n&&n[1]||"",search:n&&n[2]||"",hash:n&&n[3]||"",query:{}};return n.query=home.parseSearch(n.search,e&&e.multi),n},home.makeUrl=function(t){var e="";return!t.scheme||!t.host&&t.path||(e+=t.scheme+"://"),t.host&&(t.scheme||(e+="//"),e+=t.host),e&&(t.path&&0!==t.path.indexOf("/")||!t.path)&&"/"!==e.charAt(e.length-1)&&(e+="/"),e+=t.path||"",e+=a(t.query),t.hash&&(e+="#"+t.hash),e},home.addQueryToUrl=function(t,r){return t.replace(s,function(t,e,i,n){var o,s=i?home.parseSearch(i):{};for(o in r)r.hasOwnProperty(o)&&(s[o]=r[o]);return e+a(s)+(n?"#"+n:"")})}}()},"6hPz":function(t,e){$(document).ready(function(){var i,n,o,s,r=home&&home.getData&&home.getData("time-count.data");function a(){if(window.defaultMetrikaCounter)for(;s.length;){var t=s.pop(),e={};e["time-"+r.content]={},e["time-"+r.content][r.type]={},e["time-"+r.content][r.type][t]=1,window.defaultMetrikaCounter.params(e)}else+new Date<o&&setTimeout(a,100)}r&&(i=null,n=r.timeout,o=+new Date+3e5,s=[],document.hidden||function t(e){s.push(e),a(),i=e<=3e5?setTimeout(function(){t(e+n)},n):null}(0),BEM.channel("sys").on("hidden",function t(){i&&(clearTimeout(i),i=null),BEM.channel("sys").un("hidden",t)}))})},"6tA5":function(t,e){BEM.decl("i-intersection-observer-wrapper",{},{create:function(t,e){this._eventsInited||(this._eventsInited=!0,"THROTTLE_TIMEOUT"in IntersectionObserver.prototype&&(this._initEvents(),IntersectionObserver.prototype.THROTTLE_TIMEOUT=200,IntersectionObserver.prototype.USE_MUTATION_OBSERVER=!1));e=new IntersectionObserver(t,e);return this._instances.push(e),e},_instances:[],_THROTTLE_TIMEOUT:200,_initEvents:function(){this._throttledCallback=home.throttle(this._fire.bind(this),this._THROTTLE_TIMEOUT,{leading:!1}),this._listenEvents()},_listenEvents:function(){},_fire:function(){this._instances.forEach(function(t){t._checkForIntersections()})}})},"6vhi":function(t,e){BEM.DOM.decl({block:"desk-notif-card",modName:"fixed"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._throttledCheck=home.throttle(this._checkVisibility.bind(this),200),this._throttledCheck(),this.bindToWin("resize",this._throttledCheck),this.channel("i-scroll-event").on("scroll",this._throttledCheck);var t=BEM.blocks["media-infinity-footer"];t&&t.on("toggleFooter",this._checkVisibility,this);t=function(){setTimeout(this._throttledCheck,250)}.bind(this);this.channel("navi").on("scroll",t),this.channel("desk-notif-card").on("toggled",t)},"fixed-visible":{yes:function(){this.onShow()}}},_checkVisibility:function(){var t,e="top"==(t=1160<=window.innerWidth?"all":"top"),i=e||1160<=window.innerWidth,n=$(".desk-notif"),o=$("html").hasClass("document_media-infinity-footer_yes")?$(".media-infinity-footer__content").height():0,s=n.offset(),r=this.domElem.height()||200,n=window.pageYOffset+window.innerHeight-(r+s.top+n.height()+o),o=1/0;if(this.params.enableFixedMinified&&n<=25&&!this.hasMod("minified"))return this.setMod("minified","yes"),void this._checkVisibility();"small"===this.params.enableFixedScrollHide?o=window.innerHeight/5:"big"===this.params.enableFixedScrollHide&&(o=window.innerHeight);o=i&&25<=n&&!(e&&100<window.pageYOffset)&&window.pageYOffset<=o;this.toggleMod("fixed-visible","yes",o),$("html").toggleClass("document_fixed-notif_yes",o&&"all"==t)},_isVisible:function(){return this.hasMod("fixed-visible","yes")}})},"6yJk":function(t,e){function v(t){var e=k.call(y,"span");return e.innerText=String.fromCharCode(t),e}function b(t,e){return Math.round(t.offsetWidth*e)-1}var i,y,w,k,E,M,x;i=window,y=document,i.Ya=i.Ya||{},i.Ya.F=i.Ya.F||{},i.Ya.F.calibrate=function(t,e){if(t){w=y.body,k=y.createElement,E=y.createDocumentFragment,M=w.appendChild,x=w.removeChild;var i=function(t){var e=k.call(y,"div");e.setAttribute("style",'position:absolute;left:0;top:0;width:1px;height:1px;opacity:0;overflow:hidden;font:1000px "'+t+'", serif;'),e.setAttribute("aria-hidden","true");for(var i=0;i<4;i++)M.call(e,v(57344+i));return e}(t);M.call(w,i);var n=i.children,o=16/n[0].offsetWidth,s=b(n[1],o);if(1==s){var r=b(n[2],o),t=b(n[3],o),a=r+(t<<4);if(a<4)g(e,null);else{for(var c=E.apply(y),l=s+r+t,h=0;h<2*a+1;h++)M.call(c,v(57348+h));M.call(i,c);for(var d=[],u=4;u<4+2*a;u+=2){var m=b(n[u],o),p=b(n[u+1],o);d.push(m+(p<<4)),l+=m+p}if(b(n[u],o)==(15&l)){for(var _=0,f=0;f<d.length;f++)_+=d[f]*(1<<8*f);g(e,_)}else g(e,null)}}else g(e,null)}else g(e,null);function g(t,e){i&&(x.call(w,i),i=null),setTimeout(function(){t(e)},0)}}},"7wSh":function(t,e){function r(t){t=typeof t;return"string"==t||"number"==t||"boolean"==t}function s(t,e,i){null!=e&&!1!==e&&(i.push("_",t),!0!==e&&i.push("_",e))}function a(t,e,i,n){n.push(t),s(e,i,n)}function c(t,e,i,n,o){a(t,void 0,void 0,o),o.push("__",e),s(i,n,o)}var i,l;i=BEM,l=jQuery,i.INTERNAL={NAME_PATTERN:"[a-zA-Z0-9-]+",MOD_DELIM:"_",ELEM_DELIM:"__",buildModPostfix:function(t,e,i){var n=i||[];return s(t,e,n),i?n:n.join("")},buildClass:function(t,e,i,n,o){if(r(i)?r(n)||(o=n,n=i,i=e,e=void 0):void 0!==i?(o=i,i=void 0):e&&"string"!=typeof e&&(o=e,e=void 0),!e&&void 0===i&&!o)return t;var s=o||[];return e?c(t,e,i,n,s):a(t,i,n,s),o?s:s.join("")},buildClasses:function(i,n,t,e){n&&"string"!=typeof n&&(e=t,t=n,n=void 0);var o=e||[];return n?c(i,n,void 0,void 0,o):a(i,void 0,void 0,o),t&&l.each(t,function(t,e){e&&(o.push(" "),n?c(i,n,t,e,o):a(i,t,e,o))}),e?o:o.join("")}}},"8A5c":function(t,e){function i(){this.current=null,this.currentStatus=0,this.area=null,this.shareInstance=null,this.fadeTimeout=600}i.prototype._init=function(){var t=this;this.params=home.getData("coversAPI.data"),(this.params.forced||this.params.settings.autoload)&&$(function(){t.load({autostart:!0}),t.sendStats("forced.show")}),$(".covers-logo").click(function(){0===t.currentStatus?(t.load({autostart:!0}),t.sendStats("logo.show")):4===t.currentStatus&&(t.stop({fromEvent:!0}),t.sendStats("logo.hide"))});var e=this.getSearchForm(),i=!1;e.on("submit",function(){t.getSearchInput().bem("input").val()!==t.params.text||i||(i=!0,e.append('<input type="hidden" name="aoff" value="1"><input type="hidden" name="promo" value="supercover">'))})},i.prototype.getSearchInput=function(){return $(".search2 .input")},i.prototype.getSearchForm=function(){return $(".search2")},i.prototype._changeInputVal=function(t){this.getSearchInput().bem("input").val(t,{suggest:!1})},i.prototype.submitForm=function(t){t=t||this.params.text,this._changeInputVal(t),setTimeout(function(){this.getSearchForm().bem("suggest2-form").submit({prevent:!1})}.bind(this),200)},i.prototype._setParams=function(t){this.params=t},i.prototype._set=function(t){this.current&&this.stop(),home.covers[t.name]&&(this.current=t.name,this.currentStatus=0)},i.prototype._getShare=function(t){var e=this;t&&!e.shareInstance&&($("body").append('<div id="covers-share"></div>'),$.getScript("//yastatic.net/share2/share.js").done(function(){e.shareInstance=new Ya.share2("covers-share",t)}))},i.prototype.load=function(e){var t,i;this.current&&0===this.currentStatus&&(this.area||this.close||(this.area=$('<div class="covers-parent"></div>'),t=!1,this.params.settings&&"white"===this.params.settings.close&&(t=!0),this.close=$('<span title="'+this.params.closeTitle+'" class="covers-close '+(t?"covers-close_white":"")+'"></span>'),$("body").append(this.area,this.close),this.close.on("click",$.proxy(function(){this.stop(),this.sendStats("close.hide")},this))),this._getShare(this.params.shareParams),$("body").addClass("covers-fade"),this.params.parent=this.area,this.currentStatus=1,i=this,home.covers[this.current].load(this.params,function(t){i._loadHandler(t,e)}))},i.prototype._loadHandler=function(t,e){0<t.status?(this.currentStatus=2,e.autostart&&this.start(e)):this.currentStatus=0},i.prototype.start=function(e){var i;2===this.currentStatus&&(this.currentStatus=3,(i=this).params.settings.noHide||($(".i-ua_browser_touch").length?$(".rows").css({overflowX:"hidden"}):$("body").addClass("covers-overflow"),$("body").addClass("covers-fade-on"),$(".covers-search").addClass("covers-search_hidden_yes")),this.params.settings.noSearchPhrase||this._changeInputVal(this.params.text),home.covers[i.current].start(i.params,function(t){i._startHandler(t,e)}))},i.prototype._startHandler=function(t){0<t.status?this.currentStatus=4:this.currentStatus=0},i.prototype.stop=function(e){var i;4===this.currentStatus&&(this.currentStatus=5,i=this,home.covers[this.current].stop(this.params,function(t){i.stopHandler(t,e)}))},i.prototype.stopHandler=function(){this.area.remove(),this.close.remove(),this.area=null,this.close=null,$(".i-ua_browser_touch").length?$(".rows").css({overflowX:"visible"}):$("body").removeClass("covers-overflow"),$(".covers-search").removeClass("covers-search_hidden_yes"),$("body").removeClass("covers-fade covers-white_close covers-fade-on"),this.currentStatus=0},i.prototype.sendStats=function(t){this.params.stat&&home.stat.logPath("click",this.params.stat+"."+t)},home.coversAPI=new i,home.covers={}},"8gSH":function(t,e){BEM.DOM.decl({block:"popup2",modName:"autoclosable",modVal:"yes"},{onSetMod:{visible:{yes:function(){this.__self._visiblePopupsStack.unshift(this),this.afterCurrentEvent(function(){this.domElem&&this.hasMod("visible")&&this.bindToDoc("pointerclick",this._onDocClick)}),this.__base.apply(this,arguments)},"":function(){var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this.unbindFromDoc("pointerclick").__base.apply(this,arguments)}}},_onDocClick:function(t){this.hasMod("target","anchor")&&(this._anchor[0]===t.target||0<this._anchor.find(t.target).length)||(this._preventHideByClick?this._preventHideByClick=null:this.delMod("visible"))}},{live:function(){return BEM.DOM.doc.on("keydown",this._onDocKeyPress.bind(this)),this.__base()},_visiblePopupsStack:(BEM.blocks.popup||{})._visiblePopupsStack||[],_onDocKeyPress:function(t){BEM.blocks.keycodes.is(t.keyCode,"ESC")&&this._visiblePopupsStack.length&&this._visiblePopupsStack[0].__self.getName()===this.getName()&&this._visiblePopupsStack[0].delMod("visible")}})},"8ova":function(t,e){MBEM.decl("mini-suggest",{_selectItem:function(t){this.__base.apply(this,arguments),t&&(this._input.setAttribute("aria-activedescendant",t.id),t.setAttribute("aria-selected",!0))},_unselectAll:function(){var t;this.__base.apply(this,arguments),this._popup&&(t=this._input.getAttribute("aria-activedescendant"))&&(this._input.setAttribute("aria-activedescendant",""),(t=document.getElementById(t))&&t.setAttribute("aria-selected",!1))},_buildItem:function(t,e){var i=this.__base.apply(this,arguments);return i.attrs.id="suggest-item-"+this._suggestId+"-"+e,i.linkAttrs&&this.params.a11y&&this.params.a11y.nav&&(i.attrs["aria-roledescription"]=this.params.a11y.nav),i}})},"9AZ7":function(t,e){Date.now||(Date.now=function(){return(new Date).getTime()})},"9Hap":function(t,e){var s,r;s="XDomainRequest"in window?XDomainRequest:XMLHttpRequest,r={},MBEM.ajax=function(i,n){n=n||{};var o=new s;return r[i]=Date.now(),o.open("get",i,!0),o.withCredentials=!0,o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)try{n.successCallback&&n.successCallback.call(n.ctx,JSON.parse(o.responseText),{url:i,duration:(e=0,r[t=i]&&(e=Date.now()-r[t]),r[t]=null,e)})}catch(t){MBEM.consoleError("Incorrect suggestions JSON")}else n.errorCallback&&n.errorCallback(o.status,o.statusText,o.responseText);var t,e},n.timeout&&(o.timeout=n.timeout),o.send(),function(){o.abort()}}},"9UFm":function(t,e){BEM.DOM.decl("banner-inserts",{_sendCounter:function(){var t=home.getData("banner-inserts.data").closeUrl;t&&((new Image).src=t)}},{live:function(){this.liveBindTo("link","pointerclick",function(){this._sendCounter()})}})},"9W5B":function(t,e){BEM.DOM.decl("news",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._inlineStocks=this.elem("inline-stocks");var t,e=this.params.storeClientTabs,i=this.__self._selectedTabs,n=this.params.promoCloseParams;e&&(t=i[e])&&-1<this._keys.indexOf(t)&&this._selectTab(t,{focus:!1,animate:!1}),this.params.promoCloseUrl&&this.domElem.on("click",function(t){BEM.blocks["i-yabs-sender"].sendClose(t,this.params.promoCloseUrl)}.bind(this)),n&&n.url&&n.post_data&&this.domElem.on("click",this._onClickDisclaimer.bind(this))}}},_onClickDisclaimer:function(){var t=this.params.promoCloseParams,e=t.post_data;$.ajax({method:"POST",xhrFields:{withCredentials:!0},url:t.url,data:JSON.stringify({enable_disclaimer_disallow:!!e.enable_disclaimer_disallow,form_key:e.form_key})}).asPromise().catch(function(t){home.error.logError({block:this.__self.getName(),message:"news._onClickDisclaimer: ajax",source:"news"},t)}.bind(this))},hideCustomTab:function(){this._keys=this._keys.filter(function(t){return"custom"!==t}),"custom"===this._selectedKey&&this._selectTab(this._keys[this._keys.length-1]),this.elem("tab").filter('[data-key="custom"]').parent().remove(),this.dropElemCache("tab")},_onPanelChange:function(){this.__base.apply(this,arguments),this.trigger("panelChange")},_changeTab:function(t){this.params.storeClientTabs&&(this.__self._selectedTabs[this.params.storeClientTabs]=t),this._inlineStocks&&this.toggleMod(this._inlineStocks,"hidden","yes","no","covid"===t&&this.params.covid_topnews),this.__base.apply(this,arguments)}},{_selectedTabs:{}})},"9gJZ":function(t,e){$(document).ready(function(){var a,c=home&&home.getData&&home.getData("consistency.data"),l=new MordaRT;function h(){var t=$("#banner > #bc > noscript").length,e=$("#banner > #bc").children().length,i="";return(c.custom.gif?$("#banner > img").attr("src"):(i=$("#banner > a").attr("href"),$("#banner > a > img").attr("src")))!==c.custom.img||!c.custom.gif&&i!==c.custom.href||1!==t||1!==e?c.custom.img?{horizontal:{img:1}}:{horizontal:{none:1}}:null}function d(t){if(!t||"#"===t||0===$.trim(t).indexOf("javascript"))return 1;t=l.getHostname(t);return l.siteInDomainList(a,t)}function u(t){var e=$('<iframe class="consistency__frame" aria-hidden="true"></iframe>');$("body").append(e),e.attr("name","consistency"+(Math.random()+"").substr(3,7)),e.attr("src",c.url+"&csc="+t)}c&&(a=["*.*.yandex.*","*.yandex.*","yandex.*","yastatic.net","yastat.net","mc.admetrica.*","www.microsoft.com"],setTimeout(function(){!function(){var t,e,i,n,o=null;"antiadb"===c.type?o=null:"flash"===c.type?o=c.custom.flashV&&(new CAWBrowser).flash>=c.custom.flashV?(t=$("#banner > object:eq(0)").attr("classid"),e=$("#banner > #bc > noscript").length,i=$("#banner").children().length,n=$("#banner > #bc").children().length,t&&"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"===t&&1===e&&2===i&&1===n?null:{horizontal:{flash:1}}):h():"img"===c.type?o=h():"hdpi_img"===c.type?o=null:"iframe"===c.type?(t=$(".banner-iframe").attr("src"),e=$("#banner #bc noscript").length,i=$("#banner").children().length,s=$("#banner #bc").children().length,n=$(".banner__expand_innerclick").length,o=d(t)&&1===e&&(1===i||n&&(2===i||3===i))&&1===s?null:{horizontal:{iframe:1}}):"html"!==c.type&&(o=(r=$(".b-line_adv")).length&&0===r.children().length||3===$(".main").children().length?null:{horizontal:{none:1}});var s=function(){var t=$("img"),e=[],i=!1,n={};if(t.each(function(){var t=$(this).parents("a");this.src&&t.length&&e.push({src:this.src,link:t.attr("href")})}),e.length)for(var o=0,s=e.length;o<s;o++)d(e[o].link)||d(e[o].src)||(i=!0,n[e[o].link]={},n[e[o].link][e[o].src]=1);return i?{image:1,links:n,ignore:1}:null}(),r=$("html")[0].style.cssText?{html:1}:null;s&&o?$.extend(o,s):s&&(o=s),r&&o?$.extend(o,r):r&&(o=r),function(){var t,e=home.getData("rtb.counters.shows",[]),i=home.getData("banner.bnCounts",[]).concat(e);if(i&&i.length)for(var n=0,o=i.length;n<o;n++)(t=document.createElement("a")).href=i[n],t=t.host,a.push(t)}(),function(t){t&&!t.ignore?u("1"):"1"===c.csc&&u("2"),t&&t.ignore&&delete t.ignore;var e=null,i=l.getEntries(a),n=l.getEntries(a,!0);t&&((e=e||{})["consistency-"+c.content]=t),i.resourcesCount&&((e=e||{})["resources-consistency-"+c.content]=i.resources),n.resourcesCount&&i.resources.script&&((e=e||{})["resources-src-consistency-"+c.content]=n.resources.script),e&&window.defaultMetrikaCounter&&window.defaultMetrikaCounter.params(e)}(o)}()},c.timeout))})},"9mSB":function(t,e){BEM.DOM.decl("popup",{_getPosOf:function(t){var e=t.offset();return e?(this._getPosOfTmpElem||(this._getPosOfTmpElem=$('<div class="popup__getposoffix" style="position:absolute;left:0;top:0">').appendTo("body")),t=this._getPosOfTmpElem.offset(),e.left-=t.left,e.top-=t.top,e):{left:0,top:0}}})},"9mXv":function(t,e){$(function(){var s;$("body").hasClass("b-page_bg-exp_yes")&&(s=!1,BEM.channel("i-scroll-event").on("scroll",function(t,e){var i,n,o=null===(o=$(".media-grid").offset())||void 0===o?void 0:o.top;(i=Boolean(o&&200<e-o&&window.YandexZen&&window.YandexZen.app))!==s&&(s=i,null===(o=window.YandexZen)||void 0===o||null===(n=o.app)||void 0===n||n.trigger(i?"zen-morda-desktop-disable-card-shadows":"zen-morda-desktop-enable-card-shadows",function(){$("body").toggleClass("b-page_bg_yes",i)}))}))})},"9og6":function(t,e){BEM.DOM.decl("popup",{getDefaultParams:function(){return{zIndexGroupLevel:0,directions:[{to:"bottom",axis:"center",tail:{axis:"center"}},{to:"top",axis:"center",tail:{axis:"center"}},{to:"right",axis:"middle",tail:{axis:"middle"}},{to:"left",axis:"middle",tail:{axis:"middle"}}],tail:{width:24.04,height:12.02,offset:{left:15,right:15,top:15,bottom:15}},duration:150}},onSetMod:{js:{inited:function(){this._cache={},this._viewport=BEM.DOM.win,this._scope=BEM.DOM.scope,this._channel=BEM.channel("popups"),this._inContainer=!1,this._isParentFixed=!1,this._owner=null,this._destructor=null,this._userPosition=null,this._parent=null,this._childs=[],this._isShown=!1,this._isHiding=!1,this._positions={},this._currPos={},this._visibilityFactor=null,this._direction=!1,this._directions={};var t=this.getDefaultParams(),e=this.params,n=this._repackDirParams(t.directions),i=e.generateDirections?this._generateDirections:e.directions,o=this._repackDirParams(i);e.tail&&(this.params.tail=this._mergeParams(t.tail,e.tail)),this._order=o.keys.map(function(t){var e=o.directions[t],i=(i=n.directions[t])||n.directions[e.to];return this._directions[t]=this._mergeParams(i,e,{tail:this._tailParamsHook}),t},this),this._zIndex=null,this._zIndexGroupLevel=null}},visibility:{visible:function(){this._onShown()},"":function(){this._onHidden()}}},show:function(t){var e,i;if(t instanceof BEM)i=t.domElem.eq(0);else if(t instanceof $)i=t;else if(!t)return;return i?(this._owner&&i[0]!==this._owner[0]&&this.delMod("visibility"),(this._owner=i).length&&(e="_"+this.__self.getName()+"-destructor",this._destructor=i.addClass("i-bem "+e).bem(e)),(i=this._findParent(i))&&this.setParent(i)):this._userPosition=t,this.setMod("visibility","outside").repaint()},hide:function(t){if(this._isHiding)return this;if(this._isShown){var e=$.Event("before-hide");if(this.trigger(e,t),e.isDefaultPrevented())return this;if(this._isHiding=!0,this._childs.forEach(function(t){t.hide&&t.hide(),t.delMod("visible")}),this.hasMod("animate","yes")&&!this.hasMod("fade-out","no")){var i=this;return this.beforeHide(function(){i.domElem&&i.delMod("visibility")}),this}}return this.delMod("visibility")},toggle:function(t,e){return this._isShown&&!this._isHiding?this.hide(e):this.show(t||this._owner)},repaint:function(){this._moveToContainer();var t=this._pickDirection();return this.setMod("to",t.to)._show(this._positions[t.key],this._tailPos&&this._tailPos[t.key]),this},getCurrPos:function(){return this._currPos},getCurrDirection:function(){return this._direction},setScope:function(t){return this._scope=t,this._inContainer=!1,this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this._resetDefault(),this._isShown&&this.repaint(),this},isShown:function(){return this._isShown},setParent:function(t){return this._parent=t,this._isParentFixed=t.hasMod("position","fixed"),t.addChild&&t.addChild(this),this},addChild:function(t){for(var e=this._childs,i=e.length,n=0;n<i;n++)if(e[n]._uniqId===t._uniqId)return;t.on("hide",function(){this.removeChild(t)},this),t.on("beforeClose",function(){this.afterCurrentEvent(function(){this.removeChild(t)})},this),e.push(t)},_getParentPopup:function(){return this._parent},removeChild:function(t){for(var e=this._childs,i=e.length,n=0;n<i;n++)if(e[n]._uniqId===t._uniqId)return void e.splice(n,1)},setSize:function(t){return t&&(this._resetDefault(),this.domElem.css(t),this._isShown&&!this._isHiding&&this.repaint()),this},_show:function(t,e){return this._currPos=t,e&&this.elem("tail").removeAttr("style").css(e),this.domElem.css(t),this._isShown&&!this._isHiding||!this.hasMod("animate","yes")||this.hasMod("fade-in","no")||this.afterShow(),this._isHiding=!1,this.setMod("visibility","visible"),this},_onShown:function(){this._isShown||this._bindCompatibility(),this.bindToDoc("keydown",function(t){t.which===BEM.blocks.keycodes.ESC&&0===this._childs.length&&this.hide({source:"esc-key"})}),this._attachRepaintOnResize(),this._bindFocusEvents(),this._attachUnder(),this._isShown=!0,this.hasMod("autoclosable","yes")&&this.afterCurrentEvent(function(){this.domElem&&this._enableAutoclosable()}),this.hasMod("adaptive","yes")&&this._enableAdaptive(),this._channel.on("hide",this.hide,this),this.trigger("show")},_bindCompatibility:function(){this._captureZIndex(),this.__self._visiblePopupsStack.unshift(this),this.trigger("beforeOpen")},_unbindCompatibility:function(){this.trigger("beforeClose");var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this._releaseZIndex()},_onHidden:function(){this._isShown&&this._unbindCompatibility(),this.unbindFromDoc("keydown"),this._detachRepaintOnResize(),this._unbindFocusEvents(),this.hasMod("autoclosable","yes")&&this._disableAutoclosable(),this.hasMod("adaptive","yes")&&this._disableAdaptive(),this._detachUnder(),this._cache={},this._isShown=!1,this._isHiding=!1,this._channel.un("hide"),this._returnFocus(),this.trigger("hide")},_attachRepaintOnResize:function(){window.attachEvent&&this.domElem[0].attachEvent("onresize",this.__self._enforcePageRepaint)},_detachRepaintOnResize:function(){window.detachEvent&&this.domElem[0].detachEvent("onresize",this.__self._enforcePageRepaint)},_bindFocusEvents:function(){this._lastFocused=$($.dom.getActiveElement()[0]||this._scope);var t=this.__self._getFocusable(this.elem("content"));this._firstFocusable=t.first(),this._lastFocusable=t.last(),this._skipReturnFocus=!1,0!==this._firstFocusable.length?this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown):this._skipReturnFocus=!0},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_onLastFocusedKeyDown:function(t){this._lastFocused.is(this._scope)&&!this._lastFocused.is(t.target)||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_returnFocus:function(){(this._parent||{})._skipReturnFocus||this._skipReturnFocus||this._lastFocused.focus()},_mergeParams:function(i,n,o){var s={},r=Object.prototype.hasOwnProperty;return o=o||{},i&&"object"==typeof i&&Object.keys(i).forEach(function(t){s[t]=i[t]}),Object.keys(n).forEach(function(t){var e=r.call(o,t)?o[t].call(this,i[t],n[t]):n[t];e&&"object"==typeof e&&!Array.isArray(e)&&i[t]?s[t]=this._mergeParams(i[t],e,o):s[t]=e},this),s},_tailParamsHook:function(t,e){return e.offset||(e.offset=this.params.tail.offset),"number"==typeof e.offset?{offset:{left:e.offset,top:e.offset}}:e},_generateDirections:function(){if(this.__self._generateDirectionsCache)return this.__self._generateDirectionsCache;for(var t=[["bottom","top"],["left","right"]],e=[["center","left","right"],["middle","top","bottom"]],i=e,n=t.length,o=[],s=0;s<n;s++)for(var r=t[s],a=r.length,c=0;c<a;c++)for(var l=e[s],h=l.length,d=0;d<h;d++)for(var u=i[s],m=u.length,p=0;p<m;p++)o.push({direction:r[c],axis:l[d],tail:{axis:u[p]}});return this.__self._generateDirectionsCache=o},_repackDirParams:function(t){var i={},t=(t="string"==typeof t||$.isPlainObject(t)?[t]:t).map(function(t){"string"==typeof t&&(t={to:(e=t.split("-"))[0],tail:{}},e[1]&&(t.axis=e[1]),e[2]&&(t.tail.axis=e[2]));var e=t.to;return i[e]||(i[e]=t),t.axis&&(e+="-"+t.axis),t.key=e,i[e]=t,e},this);return{directions:i,keys:t}},setViewport:function(t){return this._viewport=t,this},_pickDirection:function(){for(var t=this._order,e=this.hasMod("adaptive","yes")?t.length:1,i=this._visibilityFactor=0;i<e;i++){var n=t[i],o=this._directions[n];this._resetPos(n)._pushPos(n,this._calcPos(o))._pushPos(n,this._calcOffsets(o)),this._hasTail()&&this._resetTailPos(n)._pushTailPos(n,this._calcTailPos(o))._pushTailPos(n,this._calcTailOffset(o))._pushPos(n,this._calcOffsetByTail(o)),this._pushPos(n,this._getParentOffset());o=this._calcVisibilityFactor(o);if((o>this._visibilityFactor||!this._direction)&&(this._visibilityFactor=o,this._direction=this._directions[n],this.size=this.getPlacingSize(),100===o))break}return this._direction},_getParentOffset:function(){var t=this.domElem.offsetParent().offset();return t.left*=-1,t.top*=-1,t},_calcPos:function(t){this._calcPlacingSize(t);var e=this.getOwnerPos(),i=this.getOwnerSize(),n=this.getPlacingSize(),o=t.axis,s=this.params.position||{},r={},a=Object.prototype.hasOwnProperty;switch(t.to){case"bottom":r={top:a.call(s,"top")?s.top:e.top+i.height,left:a.call(s,"left")?s.left:this._calcLeft(o)};break;case"top":r={top:a.call(s,"top")?s.top:e.top-n.height,left:a.call(s,"left")?s.left:this._calcLeft(o)};break;case"left":r={top:a.call(s,"top")?s.top:this._calcTop(o),left:a.call(s,"left")?s.left:e.left-n.width};break;case"right":r={top:a.call(s,"top")?s.top:this._calcTop(o),left:a.call(s,"left")?s.left:e.left+i.width}}return r},_calcTop:function(t){var e=0,i=this.getPlacingSize(),n=this.getOwnerPos(),o=this.getOwnerSize();return"top"===t?e+=n.top:"middle"===t?e+=n.top+o.height/2-i.height/2:"bottom"===t&&(e+=n.top+o.height-i.height),e},_calcLeft:function(t){var e=0,i=this.getPlacingSize(),n=this.getOwnerPos(),o=this.getOwnerSize();return"left"===t?e+=n.left:"center"===t?e+=n.left+o.width/2-i.width/2:"right"===t&&(e+=n.left+o.width-i.width),e},getPlacingSize:function(){return this.getPopupSize()},_calcOffsets:function(t){var e,i=this._cache.offset||(this._cache.offset={}),n=t.key,o=t.offset;if(i[n])return i[n];if(!o)return!1;if(e={left:0,top:0},"number"==typeof o)switch(n){case"left":e.left+=o;break;case"right":e.left-=o;break;case"top":e.top+=o;break;case"bottom":e.top-=o}else o.left&&(e.left+=o.left),o.right&&(e.left-=o.right),o.top&&(e.top+=o.top),o.bottom&&(e.top-=o.bottom);return i[n]=e},_hasTail:function(){return 0!==this.elem("tail").length},_moveToContainer:function(t){if(t)this._inContainer=!1;else{if(this._isShown)return;t=this._parent?this._parent.domElem:this._scope}this.domElem.appendTo(t),this._inContainer=!0},_resetPos:function(t){return t?this._positions[t]=null:this._positions={},this},_pushPosTo:function(e,t,i){!1!==i&&("string"==typeof t?this._sum(e[t]||(e[t]={}),i):(i=t,Object.keys(e).forEach(function(t){this._sum(e[t],i)},this)))},_pushPos:function(t,e){return this._pushPosTo(this._positions,t,e),this},_sum:function(e,i){Object.keys(i).forEach(function(t){e[t]=(e[t]||0)+i[t]})},_getSizeOf:function(t){return{height:t.outerHeight(),width:t.outerWidth()}},getOwnerSize:function(){return this._owner?this._cache.ownerSize||(this._cache.ownerSize=this._getSizeOf(this._owner)):{height:0,width:0}},getPopupSize:function(){return this._getSizeOf(this.domElem)},_getPosOf:function(t){return t.offset()||{left:0,top:0}},getOwnerPos:function(){var t;return this._owner&&(t=this._getPosOf(this._owner),"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft))),t||this._userPosition},_calcVisibilityFactor:function(t){var e=this._viewport,i=this._getSizeOf(e),n=this.getPopupSize(),o=this._positions[t.key],s=this._parent&&this._isParentFixed?this._parent.domElem.offset():{top:0,left:0},r=this.hasMod("position","fixed")?{top:0,left:0}:{top:e.scrollTop(),left:e.scrollLeft()},t=o.top+s.top-r.top,e=o.left+s.left-r.left,o=e+n.width-i.width,s=t+n.height-i.height,r={height:n.height,width:n.width},i=100;return 0<s&&(r.height-=s),t<0&&(r.height+=t),e<0&&(r.width+=e),0<o&&(r.width-=o),r.height<0||r.width<0?i=0:(r=Math.abs(r.height*r.width),(n=n.height*n.width)!==r&&(i=r/n*100)),i},_findParent:function(t){t=t.closest(".popup, .popup2");return this.findBlockOn(t,"popup")||this.findBlockOn(t,"popup2")},destruct:function(){return this._childs.forEach(function(t){t.domElem&&BEM.DOM.destruct(t.domElem)}),this.setMod("fade-out","no"),this.hide(),this._isShown&&this._unbindCompatibility(),this.__base.apply(this,arguments)},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),this._destructor?this._destructor.findBlocksOutside("z-index-group").reduce(function(t,e){return t+Number(e.getMod("level"))},t):t},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,i=t[e],n=this._zIndex,i=i||(t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]);return this._zIndex=i[i.length-1]+1,i.push(this._zIndex),this._zIndex!==n&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t.splice(t.indexOf(this._zIndex),1),this},_resetDefault:function(){},_calcPlacingSize:function(){}},{live:function(){this.liveBindTo("close","pointerclick",function(){this.hide({source:"close-click"})})},_visiblePopupsStack:(BEM.blocks.popup2||{})._visiblePopupsStack||[],_visiblePopupsZIndexes:(BEM.blocks.popup2||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3,_getFocusable:function(t){(i=$.data(t,"popup-getFocusable-id"))||(i=$.identify(),$.data(t,"popup-getFocusable-id",i));var i='*[data-popup-getFocusable-id="'+i+'"]',e="a[href], link, ";return BEM.blocks["i-ua"].opera<13&&(e=""),t.find(e+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter(function(){var t=$(this),e=!0;return!(parseInt(t.prop("tabindex"),10)<0||"hidden"===t.css("visibility"))&&($(this).parentsUntil(i).each(function(){if("none"===$(this).css("display"))return e=!1}),e)})},_enforcePageRepaint:function(){document.body.className+=""},_generateDirectionsCache:null})},"9qO5":function(t,e){BEM.DOM.decl({block:"yabrowser-promo",modName:"install",modVal:"download"},{_install:function(){return this.__base.apply(this),this._downloadInstance||(this._downloadInstance=BEM.create("i-install-download",this.params)),this._downloadInstance.download(),home.stat.logPath("click","dist.searchlink.browser.link"),!1}})},"9tlG":function(t,e){MBEM.decl({block:"mini-suggest",modName:"hide-on-scroll",modVal:"yes"},{_bindHandlers:function(){this.__base.apply(this,arguments),BEM.channel("i-scroll-event").on("scroll",this._onScroll,this)},_onScroll:function(t,e){this._focused&&(null!==this._latestScrollTop&&e>this._latestScrollTop&&MBEM.offset(this.domElem).top+this.domElem.offsetHeight+(this._popup&&this._popup.offsetHeight||0)+100<window.pageYOffset?this._blur():this._latestScrollTop=e)}})},A4gj:function(t,e){BEM.DOM.decl("b-autocomplete-item",{val:function(){return this.params.val||this.elem("text").text()||this.domElem.text()},enter:function(){},select:function(t){},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)})},highlight:function(i,t){if(!$.isArray(t))return i;function e(t){if(a)return t;for(;-1!==t.indexOf("?")&&r.length;)t=t.replace("?",r[0]),r.shift();return t}var n,o=[],s=0,t=t.sort(function(t,e){return t[0]-e[0]}),r=[],a=-1!==i.indexOf("?");return a||function(){for(var t,e=/\&(#\d+|#x[a-f\d]+|\w+);/gi;t=e.exec(i);)r.push(t[0]),i=i.replace(t[0],"?")}(),t.forEach(function(t){n=s>t[0]?s:t[0],o.push({tag:"span",elem:"span",content:e(i.slice(s,n))}),o.push({tag:"em",elem:"em",content:e(i.slice(n,s=t[1]))})},this),o.push({tag:"span",elem:"span",content:e(i.slice(s))}),o}})},A5rE:function(t,e){MBEM.transitionendEvent=function(){var t,e=document.createElement("el"),i={transition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==e.style[t])return i[t]}},"AFE+":function(t,e){BEM.DOM.decl("menu",{},{live:function(){var t=this.__base.apply(this,arguments);return this.liveBindKey("item","enter space",function(t){this.getMod("type","navigation")&&!t.data.domElem.attr("href")&&(this._onItemClick(t.data.domElem,t,{source:"keyboard"}),home.stat.logPath("click",t.data.domElem.attr(home.stat.attr)))}),t}})},AIUQ:function(t,e){BEM.DOM.decl("imageloader",{onSetMod:{js:function(){this.__base.apply(this,arguments),this._setModOnVisible("visible",{threshold:0,rootMargin:"300px 100px"})}},_setModOnVisible:function(i,t){this.__self._ioCache=this.__self._ioCache||{},this.__self._ioCache[i]||(this.__self._ioCache[i]=BEM.blocks["i-intersection-observer-wrapper"].create(function(t,e){t.forEach(function(t){t.isIntersecting&&(t=t.target,$(t).bem("imageloader").setMod(i,"yes"),e.unobserve(t))})},t)),this.__self._ioCache[i].observe(this.domElem[0])}},{live:!1})},AXNO:function(t,e){BEM.DOM.decl({block:"input",modName:"keyboard",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),$(window).bind("keyboardOpened.lego",this.changeThis(function(){this.setMod("focused","yes")._focused=!0}))}},onElemSetMod:{clear:{visibility:function(t,e,i){this.__base.apply(this,arguments),this.hasMod("clear","yes")&&this.toggleMod("keyboard-visibility","hidden","visible"===i)}}}})},AZC8:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=i("ufjy");console.info,console.debug,console.warn,console.error,console.error,console.trace;var n=function(t,e){if(e){if(e.logged)return;e.logged=!0}var i,n;Boolean(window.Ya&&window.Ya.Rum&&window.Ya.Rum.logError)&&Ya.Rum.logError((i={},n=e||{},(t=t).message&&(i.message=t.message),t.block&&(i.block=t.block),t.method&&(i.method=t.method),t.level&&(i.level=t.level),(t.sourceType||n.sourceType)&&(i.type=t.sourceType||n.sourceType),t.source&&(i.source=t.source),t.sourceMethod&&(i.sourceMethod=t.sourceMethod),t.coordinates_gp&&(i.coordinates_gp=t.coordinates_gp),(t.meta||n.meta)&&(i.additional=Object(o.a)(t.meta||{},n.meta||{})),(t.url||n.url)&&(i.additional=i.additional||{},i.additional.url=t.url||n.url),(t.page||n.page)&&(i.page=t.page||n.page),i),e)}},Aih1:function(t,e){BEM.DOM.decl("divjson2-state",{_onPanelChange:function(t,e){this.__base.apply(this,arguments),this._recalcPanel(e)},_recalcPanel:function(t){t=this.findBlockInside(t,"arrowed-list");t&&t.toggleArrows()}})},Ak4E:function(t,e){$(document).ready(function(){var o=home&&home.getData&&home.getData("search-provider.data");o&&function t(){if(window.defaultMetrikaCounter)try{var e,i="yandex."+o.zone,n={"search-provider":{}};void 0!==(e=window.external&&external.IsSearchProviderInstalled?external.IsSearchProviderInstalled(i):e)&&(n["search-provider"][i]=e,window.defaultMetrikaCounter.params(n))}catch(t){return!1}else setTimeout(t,300)}()})},AkYG:function(t,e){BEM.decl("pusher",{},{_origin:"https://mobile.yandex.net",_prepareTags:function(i,n){return new Promise(function(t){var e=[].concat(i).map(function(t){if(!t||!t.name||!t.value)throw new TypeError(t+"is not a PusherTag");return{name:t.name,value:t.value,op:n}});if(0===e.length)throw new TypeError("Tags list is empty");t(e)})},_getBackendTag:function(t,e){return this._tags||(this._tags={}),this._tags.hasOwnProperty(t)||(this._tags[t]=fetch(e).then(this._checkBackendTag.bind(this)).then(this._createBackendTag.bind(this,t)).catch(this._deleteBackendTag.bind(this,t))),this._tags[t]},_checkBackendTag:function(t){var e=t.status;if(200<=e&&e<300)return t.json();if(404===e)return{value:[]};throw new Error("Failed to load "+t.url+": "+e+" "+t.statusText)},_createBackendTag:function(t,e){var i={};return e.value.forEach(function(t){i[t]=null}),{name:t,values:i}},_deleteBackendTag:function(t,e){throw delete this._tags[t],e},_promisifyTags:function(t,e){return Promise.all(t.map(function(t){return this._getBackendTag(t.name).then(e.bind(this,t))},this))},_checkTags:function(t){return this._promisifyTags(t,function(t,e){return e.values.hasOwnProperty(t.value)}).then(function(t){return t.every(function(t){return t})})},check:function(t){return this._prepareTags(t).then(this._checkTags.bind(this))},_sendTags:function(i,t){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)};return fetch(t,e).then(function(t){var e=t.status;if(200<=e&&e<300)return i;throw new Error("Failed to load "+t.url+": "+e+" "+t.statusText)})},_updateBackendTags:function(t){return this._promisifyTags(t,function(t,e){var i=t.value,t=t.op;"add"===t?e.values[i]=null:"remove"===t&&delete e.values[i]})},unsubscribe:function(t){return this._prepareTags(t,"remove").then(this._sendTags.bind(this)).then(this._updateBackendTags.bind(this)).then(function(){return!1})}})},AyFg:function(t,e){function n(){}function s(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function o(i,n){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,s._immediateFn(function(){var t,e=1===i._state?n.onFulfilled:n.onRejected;if(null!==e){try{t=e(i._value)}catch(t){return void a(n.promise,t)}r(n.promise,t)}else(1===i._state?r:a)(n.promise,i._value)})):i._deferreds.push(n)}function r(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof s)return e._state=3,e._value=t,void c(e);if("function"==typeof i)return void h(i.bind(t),e)}e._state=1,e._value=t,c(e)}catch(t){a(e,t)}}function a(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&s._immediateFn(function(){t._handled||s._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)o(t,t._deferreds[e]);t._deferreds=null}function l(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function h(t,e){var i=!1;try{t(function(t){i||(i=!0,r(e,t))},function(t){i||(i=!0,a(e,t))})}catch(t){if(i)return;i=!0,a(e,t)}}var i,d;i=window,d=setTimeout,s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var i=new this.constructor(n);return o(this,new l(t,e,i)),i},s.all=function(t){var a=Array.prototype.slice.call(t);return new s(function(o,s){if(0===a.length)return o([]);var r=a.length;for(var t=0;t<a.length;t++)!function e(i,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return n.call(t,function(t){e(i,t)},s),0}a[i]=t,0==--r&&o(a)}catch(t){s(t)}}(t,a[t])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(i){return new s(function(t,e){e(i)})},s.race=function(o){return new s(function(t,e){for(var i=0,n=o.length;i<n;i++)o[i].then(t,e)})},s._immediateFn="function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){d(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i.Promise||(i.Promise=s)},AzRQ:function(t,e){BEM.DOM.declMix("mix-tabber-media-service",{_onPanelChange:function(t,e){this.__base.apply(this,arguments),this._recalcPanel(e)},_recalcPanel:function(t){var e=this.findBlockInside(t,"arrowed-list");e&&e.toggleArrows(),this._calcOverflow(t)},_createPanel:function(){var t=this.__base.apply(this,arguments);return t.addClass("media-service__panel"),t}})},BCHE:function(t,e){BEM.DOM.decl({block:"modal",modName:"theme",modVal:"normal"},{onSetMod:{visible:{yes:function(){this.setMod("has-animation","yes").__base.apply(this,arguments)}}}})},BK1X:function(t,e){BEM.DOM.decl({block:"imageloader",modName:"scroll",modVal:"no"},{_processBeforeShowFirstCards:function(){var e;this._cardsInited||(this._cardsInited=!0,(e=(e=this.domElem.find(".imageloader__image")).filter(function(t){return!e.eq(t).closest(".scroller").length})).length&&this._startLoad(e))}})},BNPM:function(t,e){!function(){"use strict";var e=$("html").hasClass("i-ua_inlinesvg_yes");BEM.DOM.decl("imageloader",{onSetMod:{js:function(){this._cardsInited=!1,this._cache={}},visible:{yes:function(){this._processBeforeShowFirstCards()}}},updateItems:function(){this._cardsInited=!1,this._unbindEvents(),this.hasMod("visible","yes")&&this._processBeforeShowFirstCards()},_unbindEvents:function(){this._scroller&&this.unbindFrom(this._scroller,"scroll"),this.unbindFromWin("orientationchange resize")},_processBeforeShowFirstCards:function(){var t;this._cardsInited||(this._cardsInited=!0,this._scroller||(t=this.elem("scroller")).length&&(this._scroller=t),this._scroller&&this._loadFirstCards())},_scrollLeft:function(){return this._scroller&&this._scroller.prop("scrollLeft")},_loadFirstCards:function(){var t=this._scroller.find(".imageloader__card").eq(0),e=this._scrollLeft();this._throttleCheckHorizontal=this.throttle(this._checkHorizontal.bind(this),200),this.bindTo(this._scroller,"scroll",this._throttleCheckHorizontal),this.bindToWin("orientationchange resize",this._throttleCheckHorizontal),t.length&&(this._leftOffset=t.offset().left+e-this._scroller.offset().left),this._itemWidth=t.outerWidth()+parseInt(t.css("margin-right"),10),this._loadCards(e)},_checkHorizontal:function(){this._scroller&&this._loadCards(this._scrollLeft())},_loadCards:function(t){t=this.domElem.outerWidth()-this._leftOffset+t+(t?150:50),t=this._getViewedCards(t,0);this._startLoad(t)},_getViewedCards:function(t,e){t=(t=t/this._itemWidth)%1<e?Math.floor(t):Math.ceil(t);return this._getLeftCards(t)},_getLeftCards:function(t){var e=this._scroller.find(".imageloader__card");return e.length===t&&this._unbindEvents(),e.slice(0,t)},_loadImage:function(t,e){function i(){s===e.length&&(t.data("image")&&t.css("background-image",e.map(function(t){return'url("'+t+'")'}).join(",")),t.removeClass("imageloader__image_loaded_no").addClass("imageloader__image_loaded_yes"))}var n,o=this._cache,s=0;e&&e.length&&(o[e]||-1<e.indexOf("data:image/")?(++s,i()):((n=new Image).onload=function(){o[e]=!0,++s,i()},n.src=e))},_selectFromDPI:function(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(e);for(var i=i.sort().reverse(),n=0;n<i.length;++n)if(this.__self._getPixelRatio()>=i[n])return t[i[n]];return t[i[i.length-1]]},_selectFromSVG:function(t){return e&&t.svg?t.svg:t.png},_selectImage:function(t,e){for(var i=t;i&&"object"==typeof i;)i=i.png||i.svg?this._selectFromSVG(i):this._selectFromDPI(i);if(i)return[i];e=e[0].style.backgroundImage;if(e.indexOf("url(")<0)return[];var n=this.__self._STYLE_TO_URL_REGEX;return(e.match(n)||[]).map(function(t){return t.replace(n,"$1")})},_startLoad:function(t){var i=this;t.each(function(){var t,e=$(this);e.data("loaded")||(t=e.hasClass("imageloader__image")?e:e.find(".imageloader__image"),e.data("loaded",!0),t.each(function(){var t=$(this),e=t.data("image"),e=i._selectImage(e,t);e.length?i._loadImage(t,e):t.removeClass("imageloader__image_loaded_no").addClass("imageloader__image_viewed_yes")}))})}},{_STYLE_TO_URL_REGEX:/url\(['"]?(.+?)["']?\)/g,_getPixelRatio:function(){if(!this._pixelRatio)try{this._pixelRatio=window.devicePixelRatio||1}catch(t){this._pixelRatio=1}return this._pixelRatio},live:!0})}()},BWkO:function(t,e){BEM.decl("framebuster",{onSetMod:{js:{inited:function(){var t,e=this._getWindow();e.top.location===e.location||(t=this.matchDomain(e.document.referrer))&&!this.isInWhitelist(t)&&(e.top.location=e.location)}}},matchDomain:function(t){if(!t)return null;t=t.match(/^https?:\/\/([^:\/\s]+)\/?.*/);return t&&t[1]},isInWhitelist:function(e){return!e||this.defaultWhitelist().concat(this.params.whitelist||[]).some(function(t){return"string"==typeof t?t===e||-1!==e.indexOf(t,e.length-t.length):!!t.test(e)})},defaultWhitelist:function(){return[]},_getWindow:function(){return window}})},Ba8m:function(t,e){window.home&&home.getData&&home.getData("i-jquery.disableEval")&&(window.$.globalEval=function(){var t;window.BEM&&BEM.blocks["i-block-renderer"]&&(t=BEM.blocks["i-block-renderer"].getCurrent()),home.error.logError({message:"Eval is forbidden",block:"i-jquery",meta:t})}),window.home&&home.getData&&home.getData("i-jquery.logScript")&&$(document).on("ajaxComplete",function(t,e,i){if(i&&i.dataTypes&&"text"===i.dataTypes[0]&&"script"===i.dataTypes[1]){var n;try{n=e&&e.getResponseHeader("Content-Type")}catch(t){}home.error.logError({message:"Processing ajax script response",block:"i-jquery",meta:{url:i.url,type:n}})}})},BeG3:function(t,e){$.extend($.easing,{easeOutQuint:function(t,e,i,n,o){return n*((e=e/o-1)*e*e*e*e+1)+i}})},Bgwq:function(t,e){Date.now||(Date.now=function(){return(new Date).getTime()})},BhxO:function(t,e){BEM.DOM.decl("xiva-notif",{onSetMod:{js:function(){window.WebSocket&&this.params.url&&(this.isConnected=!1,this.isPageClosed=!1,this.last={},this.connectAttempts=0,this.connectAttemptsTimer=null,this.reconnectTimer=null,this._connect(),this.bindToWin("beforeunload",this._disconnect))}},_update:function(t){this._isFreshMessage(t)&&("insert"!==t.operation&&"update labels"!==t.operation||this.channel("mail").trigger("update",{uid:t.uid,value:t.newCount}))},_isFreshMessage:function(t){var e=t.uid;return!!e&&(e in this.last||(this.last[e]=0),this.last[e]<=t.lcn?(this.last[e]=t.lcn,!0):void 0)},_connect:function(){this.last={},this.connectAttempts=0,this.ws=new WebSocket(this.params.url),this.ws.onopen=this._onSocketOpen.bind(this),this.ws.onmessage=this._onSocketMessage.bind(this),this.ws.onclose=this._onSocketClose.bind(this)},_onSocketOpen:function(){this.isConnected=!0,clearTimeout(this.connectAttemptsTimer),this.connectAttemptsTimer=setTimeout(function(){this.isConnected&&(this.connectAttempts=0)}.bind(this),5e3)},_onSocketMessage:function(t){try{var e=JSON.parse(t.data);e.raw_data&&this._update(JSON.parse(e.raw_data))}catch(t){}},_onSocketClose:function(t){var e;clearTimeout(this.connectAttemptsTimer),this.isPageClosed||(this.connectAttempts+=1,this.isConnected=!(e=6e4),this.connectAttempts<=5?e=3e3:this.connectAttempts<=15&&(e=1e4),4e3===t.code&&(e=3e5),4401!==t.code&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(this._connect.bind(this),e)))},_disconnect:function(){this.isPageClosed=!0,this.ws&&this.ws.close&&this.ws.close(1e3,"unload")}})},BoLW:function(t,e){BEM.DOM.decl({name:"widget",modName:"name",modVal:"topnews"},{onSetMod:{collapsed:function(t,e){this.__base.apply(this,arguments),this.channel("topnews").trigger("collapse",{collapse:"yes"===e})}},_getMenuCustomItems:function(){var t=home.getData("news.disclaimer");return t?[{id:"topnews",text:t.text,icon:"star",elemMods:{type:"link"},href:t.url,target:"_blank"}]:[]}})},BwLZ:function(t,e){BEM.DOM.decl({block:"popup",modName:"position",modVal:"fixed"},{getOwnerPos:function(){var t,e=this.__base.apply(this,arguments);return this._owner&&(t=this._viewport,e.top-=t.scrollTop(),e.left-=t.scrollLeft()),e}})},CCCR:function(t,e){BEM.DOM.decl("rotate-items",{onSetMod:{js:{inited:function(){this._index=0,this._len=this.elem("item").length,this._visible=!document.hidden,this._hovered=!1,this._focused=!1,this._changeEnabled=!0,this._clicked=!1,this._bindEvents(),1<this._len&&(this._initItems(),this._initialStart(),this.bindTo("mouseenter mouseleave",function(t){this._toggleHover("mouseenter"===t.type)}),this.bindTo("scroll",function(){this.domElem.scrollLeft(0).scrollTop(0)}),this.channel("sys").on("visibilitychange",this._onVisibilityChange,this))}}},toggle:function(t){this._changeEnabled=t,this._checkConditions()},_initItems:function(){this.elem("item").toArray().slice(1).forEach(function(t,e){t=$(t);this._setItemLeft(t,e+1),this.setMod(t,"hidden","focusable")},this)},_setItemLeft:function(t,e){t.css("left",-100*e+"%")},_bindEvents:function(){this.domElem.on("rotate-items:hide",function(t){var e=$(t.target).closest(".rotate-items__item"),i=e.index(),t=this.elem("dot").eq(i);e.remove(),this.dropElemCache("item"),this.findElem("item").toArray().forEach(function(t,e){t=$(t);this._setItemLeft(t,e)},this),--this._len,0<this._len?(1===this._len?(this.elem("dots").remove(),clearTimeout(this._timeout)):(t.remove(),this.dropElemCache("dot")),i===this._index&&((i=i)>=this._len-1&&(i=0),this._setItem(i))):this.domElem.trigger("rotate-items:hide-all")}.bind(this))},_initialStart:function(){this._timeout=setTimeout(this._showNext.bind(this),this.params.firstTimer||15e3)},_showNext:function(){var t=this._index;++t>=this._len&&(t=0),this._selectItem(t),this._restartRotation()},_restartRotation:function(){clearTimeout(this._timeout),this._timeout=setTimeout(this._showNext.bind(this),this.params.periodicTimer||15e3)},_selectItem:function(t){t===this._index||this._len<2||this._setItem(t)},_setItem:function(t){var e=this.elem("item").eq(this._index),i=this.elem("item").eq(t),n=this.elem("dot").eq(this._index),o=this.elem("dot").eq(t);this._index=t,this.setMod(e,"showed","no"),this.setMod(e,"hidden","focusable"),this.setMod(i,"showed","yes"),this.delMod(i,"hidden","focusable"),this.delMod(n,"active"),this.setMod(o,"active","yes"),home.stat.logDOMShow(i,{visibilityCheck:!1}),this.trigger("show-item",{item:i})},_onVisibilityChange:function(t,e){this._visible=!e.hidden,this._checkConditions()},_toggleHover:function(t){this._hovered=t,this._checkConditions()},_toggleFocus:function(t){this._focused=t,this._checkConditions()},_checkConditions:function(){!this._hovered&&!this._focused&&this._visible&&this._changeEnabled&&!this._clicked&&1<this._len?this._restartRotation():clearTimeout(this._timeout)}},{live:function(){return this.liveBindTo("dot","click",function(t){this._clicked=!0,this._selectItem(t.data.domElem.index())}),this.liveBindTo("item","focusin focusout",function(t){"focusin"===t.type&&$("html").hasClass("pointerfocus")||(this._toggleFocus("focusin"===t.type),"focusin"===t.type&&this._selectItem(t.data.domElem.index()))}),!1}})},CKPf:function(t,e){BEM.DOM.decl("divjson2-image",{onSetMod:{js:{inited:function(){var t,e=this.params.image;e&&((t=new Image).onload=function(){this._isDestructing||this.elem("image").css({"background-image":'url("'+e+'")',"background-color":"transparent"})}.bind(this),t.src=e)}}}})},CaC8:function(t,e){BEM.DOM.decl("modal",{onSetMod:{js:{inited:function(){this._popup=this.findBlockOn("popup2")}},visible:function(t,e){var i=e?"Open":"Close",n=this.elem("content"),o=window.getComputedStyle?window.getComputedStyle(n[0]):n[0].currentStyle,s=0<parseFloat(o.animationDuration)?"animationend":0<parseFloat(o.webkitAnimationDuration)?"webkitAnimationEnd":"",o=function(){this.trigger("after"+i)};this.trigger("before"+i)._popup.setMod(t,e),s?n.one(s,o.bind(this)):this.afterCurrentEvent(o)}},destruct:function(){this.delMod("visible").__base.apply(this,arguments)},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this}},{live:!0})},CaUy:function(t,e){BEM.DOM.decl("home-arrow",{_onSampleClick:function(t){var e=this.findBlockInside("input");e&&(e.elem("control").attr("readonly",!0),e.val(t.text(),{source:"sample"}),this.trigger("sample-click"))},reEnable:function(){this.findBlockInside("input").elem("control").attr("readonly",!1)}},{live:function(){function t(t){this._onSampleClick(t.data.domElem),t.preventDefault()}this.liveBindTo("sample-link","pointerclick",t),this.liveBindKey("sample-link","space enter",t)}})},CktI:function(t,e){window.home=window.home||{}},CoFk:function(t,e){var c,i;"undefined"==typeof Widget&&(window.Widget=function(t,e){this._(t,e)},document.Widget=Widget,c=jQuery,i=new WTimersHandler,Widget.prototype={undef:function(t){return t},_:function(t,e){this._prefs={};var i=!!e.src&&e.src,n=!!e.wauth&&e.wauth,o=e.type||"raw";this.params=e,this.type=o,this.id=t,this.classId=t.replace(/-[0-9]+$/i,""),this.intClassId=e.intclassid,this.instanceId=t.replace(/^(.*)-([0-9]+)$/i,"$2"),this.htmlId=t,this.src=i,this.onLoad=this.onload=!1,this.bound=!1,""!==n&&this.setValue("wauth",n),this.savedUsrCh=this.params.usrCh},init:function(){var t=this;if(!this.bound){this.bound=!0;function e(){t.loadFromSrc({isBinding:!0})}if(Widget.Framework.register(this),"iframe-inside"!==this.type&&new Widget.Wrapper(this),this.params.prefs)for(var i=0;i<this.params.prefs.length;i++)!1!==this.params.prefs[i]&&this.setValue(this.params.prefs[i][0],this.params.prefs[i][1]);var n=Widget.Framework.widgetPrefs[this.id];if(n){for(var o in this._prefs)n[o]||(n[o]=this._prefs[o]);this._prefs=n}"iframe"===this.type&&(this._stylescallback=function(){t.loadFromSrc({isBinding:!0})}),this.params.css&&"iframe"!==this.type&&this.css(this.params.css),this.params.js&&"iframe"!==this.type?this.library(this.params.js,e):e()}},showPreloader:function(t){var e=this;function i(){e.$().html(Widget.Framework.params.preloader)}t?i():window.setTimeout(function(){(e._inlineLoading||e._inlinePending)&&i()},100)},loadFromSrc:function(t){t=t||{noPreloader:!1,isBinding:!1},"inline"===this.type&&!1===this.src&&t.isBinding||("inline"!==this.type&&"iframe"!==this.type&&"json"!==this.type||(!t.noPreloader&&Widget.Framework._domloaded&&this.showPreloader("now"),this[this.type+"From"](this.src)),t.isBinding)||(t=Widget.Framework.params.rawBodyUrl+this.getWidgetId()+"?ncrnd="+Math.random()+"&prototype="+Widget.Framework.params.prototype,"raw"===this.type&&this.rawFrom(t+"&wauth="+this.getAuth()),"inline"===this.type&&!1===this.src&&this.inlineFrom(t))},_autoValue:function(t,e){return 0<parseInt(t,10)?parseInt(t,10)+"px":e},iframeElement:function(t,e,i){var n;t=this._createLoadUrl.apply(this,arguments);var o=i?(n=this._autoValue(this.params.prefs_width,Widget.Framework.params.iframeWidth),a=this._autoValue(this.params.prefs_height,Widget.Framework.params.iframeHeight),this.wrapper.$$("prefs")):(n="100%",a=this._autoValue(this.params.height,Widget.Framework.params.iframeHeight),this.wrapper.$$("iframe")),s=c.browser&&c.browser.msie&&"9.0"===c.browser.version,r=c('<iframe style="border:none" allowTransparency="true" frameborder="0"></iframe>').attr({id:o,src:s?"":t,name:o}).css({width:0,"min-width":n,height:a,margin:0,padding:0});c(document.documentElement).hasClass("m-sandbox")&&r.attr("sandbox","allow-scripts allow-popups allow-forms allow-same-origin");var a=home.getData("banner.cls.banner__dummy");return a&&r.addClass(a),c.browser&&c.browser.msie&&(a=function t(){r.unbind("load",t).css({position:"",visibility:""})},r.css({position:"absolute",visibility:"hidden"}).bind("load",a)),s&&setTimeout(function(){r.attr("src",t)},50),r},iframeFrom:function(i){var n=this;c(document).ready(function(){!function t(){n.$().length?function(){n.$().html("");try{var t=n.iframeElement(i,[]),e=t[0].src.split("#secure:");(c.browser&&(c.browser.mozilla||c.browser.safari)?t.attr({src:e[0]+"&rnd="+Math.random()+(1<e.length?"#secure:"+e[1]:"")}):t).appendTo(n.$()),t.one("load",n.adjustFontSize.bind(n))}catch(t){window.console&&console.error(t)}}():setTimeout(function(){t()},100)}()})},jsonFrom:function(){var t=this._createLoadUrl.apply(this,arguments);c.getScript(t+"&ncrnd="+Math.random())},inlineFrom:function(){var t=this._createLoadUrl.apply(this,arguments),e=this;Widget.Framework.inlineLoading(1),this._inlineLoading=!0,c.get(t,function(t){e.wrapper.$().css("height",""),e._inlineFromHtml(t)})},rawFrom:function(t){var e=this;Widget.Framework.inlineLoading(1),this._inlineLoading=!0,c.get(t,function(t){e._inlineFromHtml(t)})},_inlineFromJson:function(t){return Widget.Framework.inlineLoading(1),this._inlineFromHtml(t)},_inlineLoading:!1,_inlinePending:"",_inlineFromHtml:function(t){if(!Widget.Framework._domloaded)return this._inlineLoading=!1,void(this._inlinePending=t);Widget.Framework.inlineLoading(-1);var e,i=/<script[^>]*>(?!<\/script>)((?:\s|\S)*?)<\/script>/gim;this.wrapper.$().hasClass("b-widget-fixed")&&this.wrapper.$().addClass("b-widget-fixed"),0===this.$().length&&c("<div />").attr({id:this.$$(),class:"b-widget-data"}).appendTo(this.wrapper.$());var n=this.$();for(BEM.DOM.destruct(n,!0),n.html(t.replace(i,"").replace(Widget.Framework.params.idTemplate,this.id)),i.lastIndex=0;null!==(e=i.exec(t));)try{new Function("widget",e[1])(this)}catch(t){}this._inlineLoading=!1,this._inlinePending=!1,BEM.DOM.init(n),BEM.channel("widget").trigger("reload",{widget:this}),Widget.Framework._domloaded&&this.finalize()},_createLoadUrl:function(t,e,i){var n=[{locale:this.getLocale()}];if(n.concat(e),window.toCat&&window.toReg||n.push({frommorda:1}),t=this._addParams(t,n,i||"iframe"===this.type,i),this.params.prefs_secure){for(var o=[],s=0;s<this.params.prefs_secure.length;s++)this.params.prefs_secure[s][1]&&o.push(this.params.prefs_secure[s][0]+"="+this.params.prefs_secure[s][1]);o.length&&(t+="#secure:"+o.join(","))}return t},_addParams:function(t,e,i,n){i&&(Widget.Framework.params.fullproxyDomain?this._prefs["."]=Widget.Framework.params.fullproxyDomain+"|"+Widget.Framework.params.proxyDomain:this._prefs["."]=location.protocol+"//"+location.host+"|"+document.domain,!n)&&((n=this.getWidgetStyle()||{}).bg&&(this._prefs.widgetBg=n.bg),n.text&&(this._prefs.widgetText=n.text),n.link&&(this._prefs.widgetLink=n.link),n.hover&&(this._prefs.widgetHover=n.hover),n.decor&&(this._prefs.widgetDecor=n.decor),this._moving&&(this._prefs.widgetMoving=1));for(var o,s=[e,[this._prefs]],r=y5Url(location.href),a={},c=0;c<s.length;c++)for(var l=0;l<s[c].length;l++)if(s[c][l]instanceof Array)for(o=0;o<s[c][l].length;o++)null!==r.getParam(s[c][l][o])&&(a[s[c][l][o]]=r.getParam(s[c][l][o]));else for(o in s[c][l])"function"!=typeof s[c][l][o]&&"object"!=typeof s[c][l][o]&&(a[o]=s[c][l][o]);return y5Url(t).addParams(a).toString()},_disableAutoStats:!1,hookStats:function(){return Widget.Framework.hookStats(this)},disableAutoStats:function(){this._disableAutoStats=!0},onload:function(){},resetAuth:function(){this._splitterAuth=!1},getAuth:function(){return this.getValue("wauth")},_splittedAuth:!1,splitAuth:function(){return this._splittedAuth||(this._splittedAuth=Widget.Framework.splitAuth(this.getAuth())),this._splittedAuth},getWidgetId:function(){return this.splitAuth().id},getOwner:function(){return this.splitAuth().owner},getViewer:function(){return this.splitAuth().viewer},setValue:function(t,e){this._prefs[t]=e,"wauth"===t&&Widget.Framework.registerWauth(this)},getValue:function(t){return this._prefs[t]||this.undef()},getBoolean:function(t){t=this.getValue(t);return!0===t||"true"===t},_encodeValues:function(t){t===this.undef()&&(t=this._prefs);var e=y5Url("");return e.query(t),e.query()},setValues:function(t){for(var e in t)"function"!=typeof t[e]&&"object"!=typeof t[e]&&this.setValue(e,t[e])},saveValues:function(t,e){t===this.undef()&&(t=this._prefs),this.markChanged(!1,!0),this.setValues(t),c.ajax({url:(Widget.Framework.params.saveDomain||"")+Widget.Framework.params.formUrl,data:{widget:this.getWidgetId(),wauth:this.getAuth(),usrCh:this.params.usrCh,s:this._encodeValues(t)},dataType:"json",success:e})},dropValues:function(e){var i=this;c.ajax({url:(Widget.Framework.params.saveDomain||"")+Widget.Framework.params.formUrl,data:{widget:this.getWidgetId(),wauth:this.getAuth(),s:"DROP"},dataType:"json",success:function(t){Widget.Framework.widgetPrefs[i.id]=!1,e&&e(t)}})},reload:function(t,e,i){if(!this.pauseReload){c(".b-wdgt-control").appendTo("body");var n=this;if(this.wrapper){if(void 0!==e&&(this._prefs.showAnyway=e),"raw"===this.type)return Widget.Framework.reload(this,function(){t&&t(),n.onload&&n.onload(),BEM.channel("widget").trigger("reload",{widget:n}),n.queueAutoReload()},e,i);this.loadFromSrc({noPreloader:!0})}else{e=location.host;e.indexOf("/")===e.length-1&&(e=e.substr(0,e.length-1));i=location.pathname;0===i.indexOf("/")&&(i=i.substr(1)),location.href=this._addParams("//"+e+"/"+i,[],"isIframe")}}},setTitle:function(t){this.wrapper?this.wrapper.setTitle(t):Widget.Framework.xframe(this,"Widget::setTitle",t)},savePreferences:function(t){this.saveValues(t),this._updateOnHide=!0},dropPreferences:function(t){var e=this.getAuth();this._prefs={},this.setValue("wauth",e),this.wrapper?(this.dropValues(t),c(window).trigger({type:"widgetSettingsClosed",id:this.id})):Widget.Framework.xframe(this,"Widget::dropPreferences","",t)},showPreferences:function(){this.wrapper?this.wrapper.showPreferences():Widget.Framework.xframe(this,"Widget::showPreferences")},hidePreferences:function(){this.wrapper?(this._updateOnHide&&(this.loadFromSrc(),Widget.Framework.params.notifyChangesHandler(this)),this.wrapper.hidePreferences()):Widget.Framework.xframe(this,"Widget::hidePreferences",this._updateOnHide?"<>"+this._encodeValues():""),this._updateOnHide=!1},notifyCustomSave:function(){Widget.Framework.xframe(this,"Widget::notifyCustomSave")},setIFrameHeight:function(t){this.wrapper?this.wrapper.setIFrameHeight(t):Widget.Framework.xframe(this,"Widget::setIFrameHeight",t)},setIFrameWidth:function(t){this.wrapper?this.wrapper.setIFrameWidth(t):Widget.Framework.xframe(this,"Widget::setIFrameWidth",t)},setIFrameSize:function(t,e){this.wrapper?this.wrapper.setIFrameSize(t,e):Widget.Framework.xframe(this,"Widget::setIFrameSize",t+","+e)},setPreferencesFormWidth:function(t){this.wrapper?this.wrapper.setPreferencesFormWidth(t):Widget.Framework.xframe(this,"Widget::setPreferencesFormWidth",t)},setPreferencesFormHeight:function(t){this.wrapper?this.wrapper.setPreferencesFormHeight(t):Widget.Framework.xframe(this,"Widget::setPreferencesFormHeight",t)},setPreferencesFormSize:function(t,e){this.wrapper?this.wrapper.setPreferencesFormSize(t,e):Widget.Framework.xframe(this,"Widget::setPreferencesFormSize",t+","+e)},_calculateCss:function(t,e){var i=t.css(e),t=i.replace(/(\.[0-9]+)?px$/,"");return"height"!==e||"auto"!==i&&0!==parseInt(i,10)?i!==t?parseInt(i,10):0:document.body.scrollHeight},_sumCss:function(t,e){for(var i=0,n=0;n<e.length;n++)i+=this._calculateCss(t,e[n]);return i},adjustIFrameHeight:function(){var t=this;window.clearTimeout(this._adjustIFrameHeightTimeout),this._adjustIFrameHeightTimeout=window.setTimeout(function(){t._adjustIFrameHeight()},100)},_adjustIFrameHeightPrevious:-1,_adjustIFrameHeightTimeout:!1,_adjustIFrameHeight:function(){(i="iframe-inside"===this.type?c("body"):this.$()).css("overflow","hidden");var t=!1;i.css("margin-left")===i.css("margin-right")&&i.css("margin-right")===i.css("margin-top")&&i.css("margin-top")===i.css("margin-bottom")&&"0px"===i.css("margin-bottom")&&i.css("padding-left")===i.css("padding-right")&&i.css("padding-right")===i.css("padding-top")&&i.css("padding-top")===i.css("padding-bottom")&&"0px"===i.css("padding-bottom")&&(t=!0);var e=this._sumCss(i,["marginTop","marginBottom","height"]);t&&i.css("padding","1px");var i=this._sumCss(i,["marginTop","marginBottom","height"]);if((e=e<i?i:e)!==this._adjustIFrameHeightPrevious)return c.browser&&c.browser.opera&&(e+=20),this._adjustIFrameHeightPrevious=e,this.setIFrameHeight(e)},library:function(t,e){var i=this;this._libraryLoading=!0,Widget.Framework.library(t,function(){i._libraryLoading=!1,e?e():i.finalize()})},css:function(t){return Widget.Framework.css(t)},iReload:function(t,e){var i;this.stopAutoReload(),Widget.Framework.focused?(Widget.Framework.addToReloadQueue(this,t,e),Widget.Framework.reloadQueueTimer&&clearTimeout(Widget.Framework.reloadQueueTimer),Widget.Framework.reloadQueueTimer=setTimeout(function(){Widget.Framework.processReloadQueue()},Widget.Framework.reloadQueueTimeout)):(i=function t(){c.browser&&c.browser.msie?c(document).unbind("focusin",t):c(window).unbind("focus",t),Widget.Framework.processReloadQueue()},Widget.Framework.addToReloadQueue(this,t,e),c.browser&&c.browser.msie?c(document).bind("focusin",i):c(window).bind("focus",i))},stopAutoReload:function(){Widget.Framework.unsetAutoreload(this)},queueAutoReload:function(){Widget.Framework.setAutoreload(this)},finalize:function(){this.queueAutoReload(),this.onload&&this.onload(),this.onLoad&&this.onLoad(),this._disableAutoStats||this.hookStats(),c(window).trigger({type:"widgetLoaded",id:this.id})},countShow:function(t,e){csh_ifgsid&&!this._isNotReloaded&&csh_ifgsid(t,e)},addTimer:function(t,e){return i.add(this.id,t,e)},removeTimer:function(t){i.remove(this.id,t)},getWidgetStyle:function(){var t=this.params.position,e=Widget.Framework.params.widgetStyle,t=t||window.wg&&wg._addedWidgetPosition;if(e&&t){var i,n=parseInt(t.split(":")[0],10),o={};for(i in e[t]?o=e[t]:e.top&&n<=2?o=e.top:e.bottom&&2<n?o=e.bottom:e.all&&(o=e.all),e.def)e.def.hasOwnProperty(i)&&(o[i]||(o[i]=e.def[i]));return o}return""},appendStyle:function(t){var e=document.createElement("style");e.setAttribute("type","text/css"),document.getElementsByTagName("head").item(0).appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))},adjustFontSize:function(){"iframe"===this.type&&this.$().find("iframe")[0].contentWindow.postMessage(JSON.stringify({type:"message",message:{name:"font-size",value:Widget.Framework.getFontSize()}}),"*")},addWidgetStyles:function(){try{if(c("script[nowidgetstyles='true']").length)return;"iframe-inside"===this.type&&this._prefs&&(this._prefs.widgetLink&&this.appendStyle(":link {color:#"+this._prefs.widgetLink+" !important;}"),this._prefs.widgetHover&&this.appendStyle(":link:hover {color:#"+this._prefs.widgetHover+" !important;}"),this._prefs.widgetText&&this.appendStyle("body {color:#"+this._prefs.widgetText+" !important;}"),this._prefs.widgetDecor&&this.appendStyle(":link {text-decoration: none! important;}"))}catch(t){window.console&&window.console.log&&console.log("unable to append widget styles",this._prefs.widgetBg,this._prefs.widgetText,this._prefs.widgetLink,this._prefs.widgetHover,this._prefs.widgetDecor)}},markChanged:function(t,e){this.params.usrCh|=(t?1:0)+(e?2:0)},$:function(t){return c("#"+this.$$(t))},$$:function(t){return Widget.Framework.params.idPrefix+this.id+(t===this.undef()?"":t)},getLocale:function(){return Widget.Framework.getLocale()},end:!0})},Cut0:function(t,e){BEM.DOM.decl("popup2",{onSetMod:{js:{inited:function(){this._parentPopup=void 0,this._zIndex=null,this._zIndexGroupLevel=null,this._scope=BEM.DOM.scope,this._isAttachedToScope=!1}},visible:{yes:function(){this.trigger("beforeOpen"),this._isAttachedToScope||(this._scope.append(this.domElem),this._isAttachedToScope=!0),this._captureZIndex()._bindToParentPopup().bindTo("pointerdown pointerclick",this._setPreventHideByClick)},"":function(){this.trigger("beforeClose")._releaseZIndex()._unbindFromParentPopup().unbindFrom("pointerdown pointerclick")}}},destruct:function(){this.delMod("visible"),this.__base.apply(this,arguments)},setScope:function(t){return this._scope=t,this._isAttachedToScope=!1,this},setContent:function(t){return BEM.DOM.update(this.domElem,t),this},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),t},_setPreventHideByClick:function(){for(var t=this;t._preventHideByClick=!0,t=t._getParentPopup(););},_bindToParentPopup:function(){var t=this._getParentPopup();return t&&(t.on("beforeClose",this._onParentPopupClose,this),t.addChild&&t.addChild(this)),this},_unbindFromParentPopup:function(){return this._parentPopup&&this._parentPopup.un("beforeClose",this._onParentPopupClose,this),this._parentPopup=void 0,this},_onParentPopupClose:function(){this.delMod("visible")},_getParentPopup:function(){return this._parentPopup},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,i=t[e],n=this._zIndex,i=i||(t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]);return this._zIndex=i[i.length-1]+1,i.push(this._zIndex),this._zIndex!==n&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t&&t.splice(t.indexOf(this._zIndex),1),this},_recaptureZIndex:function(){return this._releaseZIndex(),this._zIndexGroupLevel=null,this._captureZIndex()},getDefaultParams:function(){return{zIndexGroupLevel:0}}},{live:!0,_visiblePopupsZIndexes:(BEM.blocks.popup||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3})},"D+8f":function(t,e){!function(){"use strict";var n={1:"denied",2:"unavailable",3:"timeout"};BEM.decl("i-geolocation",{},{_firstLocation:!0,locate:function(t){return t=t||{},this._wrapRequest(t,function(){return this._locate(t)})},_wrapRequest:function(t,e){return this._promise||(this._triggerEvent("start",t),this._promise=e=this._wrapEnd(t,e.call(this)),this._promise.always(this.changeThis(function(){this._promise=void 0})),e)},_wrapEnd:function(e,t){var i=this;return(t=!t||!t.then?$.Deferred().resolve(t):t).fail(function(t){i._triggerEvent("fail",e,t)}).always(function(){i._triggerEvent("end",e)})},_triggerEvent:function(t,e,i){var n,o=$.Event(t);for(n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);return this.channel("i-geolocation").trigger(o,i),this},_locate:function(e){var i,n=this,o=$.Deferred(),s=home.getData("geo."+(e.background?"background-":"")+"counters",{});try{navigator.geolocation&&navigator.geolocation.getCurrentPosition&&(home.stat.logPath("tech",s.request),i=new Date,navigator.geolocation.getCurrentPosition(function(t){n._saveLocation(t,new Date-i,e).then(function(t){n._triggerEvent("gpsave",e,{id:t.region_id,locale:t.locale,name:t.region_name,address:t.address,address_short:t.address_short}),home.stat.logPath("tech",s.success),o.resolve()},function(t){o.reject(t)})},function(t){t.type="locate",n._saveError(t,new Date-i,e).always(function(){o.reject(t)})},{timeout:1e3*(e.timeout||15),maximumAge:n._firstLocation?3e5:0,enableHighAccuracy:!1}),n._firstLocation=!1)}catch(t){o.reject(t)}return o.promise()},_saveLocation:function(t,e,i){return home.localStorage.setItem("gpallowed","1"),this._location=t.coords,this._saveAjax($.extend(this._extractCoords(t.coords),{persistent:1,timing:e}),i)},_saveError:function(t,e,i){return 1===t.code?home.localStorage.setItem("gpforbidden","1"):home.localStorage.setItem("gpallowed","1"),i=home.getData("geo."+(i.background?"background-":"")+"counters.error",{}),home.stat.logPath("tech",i[n[t.code]]),this._saveAjax($.extend({status:t.code,timing:e},t.data||{}))},_extractCoords:function(t){return{lon:t.longitude,lat:t.latitude,precision:t.accuracy}},_saveAjax:function(t){return t.sk=home.getData("geo.sk"),t.device=0,t.laas=home.getData("geo.laas")||0,t={url:home.getData("geo.gpsaveUrl"),dataType:"json",data:t},$.ajax(t)}}),$(function(){"permissions"in navigator&&!home.getData("geo.gpauto")&&setTimeout(function(){navigator.permissions.query({name:"geolocation"}).then(function(t){"granted"===(t.state||t.status)&&BEM.blocks["i-geolocation"].locate({background:!0})},function(){})},5e3)})}()},DG8K:function(t,e){BEM.DOM.decl({block:"desk-notif-card",modName:"teaser",modVal:"yes"},{onShow:function(){this.__base.apply(this,arguments);var t=this.params.teaser.statPath;t&&!this._isCounterHandlerSet&&(home.stat.addHandler(t,function(t,e){return"click"===t&&(e+="(y="+window.pageYOffset+")"),{counter:e}}),this._isCounterHandlerSet=!0)},_install:function(t){var e=this.params.teaser;return e.yaCounterId&&(BEM.blocks["i-metrika"].add({id:e.yaCounterId,triggerEvent:!0}),e.bannerid&&BEM.blocks["i-bannerid"].save(e.bannerid)),"download"!==this.getMod(t,"install")||this._installDownload(e)},_installDownload:function(t){return t._downloadInstance||(t._downloadInstance=BEM.create("i-install-download",t.install)),t._downloadInstance.download(),!1}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("teaser-item-link","pointerclick",function(t){t=$(t.target).closest(".desk-notif-card__teaser-item");return this._install(t)}),this.liveBindKey("teaser-item-link","space enter",function(t){t=$(t.target).closest(".desk-notif-card__teaser-item");return this._install(t)}),!1}})},DROm:function(t,e){window.home=window.home||{},home.throttle=function(i,n,o){var s,r,a,c=null,l=0;o=o||{};function h(){l=!1===o.leading?0:(new Date).getTime(),c=null,a=i.apply(s,r),c||(s=r=null)}return function(){var t=(new Date).getTime();l||!1!==o.leading||(l=t);var e=n-(t-l);return s=this,r=arguments,e<=0||n<e?(c&&(clearTimeout(c),c=null),l=t,a=i.apply(s,r),c||(s=r=null)):c||!1===o.trailing||(c=setTimeout(h,e)),a}}},DkAV:function(t,e){BEM.DOM.decl("head-options2",{hidePopup:function(){this._popup&&this._popup.delMod("visible")},hasPopupVisible:function(){return this._popup&&this._popup.hasMod("visible","yes")}},{live:function(){return this.liveInitOnBlockInsideEvent("beforeOpen","dropdown2",function(t){var t=t.block.getPopup(),i=this;(this._popup=t).findBlockInside("menu").on("click",function(t,e){clearTimeout(i._closeTimer),i._closeTimer=setTimeout(function(){i.hidePopup()},350),"hidden-blocks"===e.item.data("type")&&BEM.blocks["hidden-blocks-popup"].show()})}),!0}})},Doqo:function(t,e){BEM.DOM.decl("inline-stocks",{onSetMod:{js:function(){this.bindMouseEvents(),this.xivainitTimer=setTimeout(this.changeThis(this.initXiva),6e4)}},destruct:function(){clearTimeout(this.xivainitTimer);var t=home.getData("inline-stocks.xivas")||[],e=this._onXivaEvent;t.forEach(function(t){BEM.blocks["i-xiva"].stopListen(t.ch,e)})},bindMouseEvents:function(){var t;window.device||(this.bindTo("item","mouseenter",this.getOnmouseenter(t={name:"hint",val:"visible",elem:".inline-stocks__item"})),this.bindTo("item","mouseleave",this.getOnmouseleave(t)))},getOnmouseenter:function(n){return function(e){var i=this;n.countdown||(n.countdown=setTimeout(function(){var t;n.countdown=null,n.elem?(t=$(e.target).closest(n.elem),i.setMod(t,n.name,n.val)):i.setMod(n.name,n.val)},n.delay||250))}},getOnmouseleave:function(e){return function(t){clearTimeout(e.countdown),e.countdown=null,e.elem?(t=$(t.target).closest(e.elem),this.delMod(t,e.name)):this.delMod(e.name)}},initXiva:function(){var t=home.getData("inline-stocks.xivas")||[],e=this,i=this._onXivaEvent=function(t){e.updateFunc(t.dt)};t.forEach(function(t){BEM.blocks["i-xiva"].listen(t.ch,t.ts,i)})},updateFunc:function(t){var e,i,n,o,s,r,a;t&&t.id&&(e=t.id,(i=this.elem("item","id",e)).length&&(s=(t=t.data&&t.data[0])["value"+(o=i.data("precision"))]||t.value,n=t["delta"+o]||t.delta,$(".inline-stocks__value_inner",i).html(s),r=this.findElem(i,"cell","type","delta"),a=this.findElem(i,"cell","type","delta-label"),n?(o=Number((n||"").replace("","-").replace(/[+%]/g,"").replace(",",".")),s="",this.delMod(r,"hidden"),r.html(n),a.html(n.replace("","-")),t.is_hot?0<o?s="up":o<0&&(s="down"):s="small",this.setMod(r,"change",s)):(this.setMod(r,"hidden","yes"),a.html("")),(r=t.alt)||(a=home.getData("inline-stocks.alts")||{})[e]&&(r=t.datetime?a[e].replace("%d",t.datetime).replace("%t",""):a[e].replace("%d",t.date).replace("%t",t.time||"")),r&&$(".inline-stocks__item__baloon_inner",i).html(r)))}})},DxjK:function(t,e){MBEM.decl({block:"mini-suggest",modName:"overlay",modVal:"tile"},{_prepareOverlayParent:function(){return this.domElem},_createPopup:function(){var t=this.__base.apply(this,arguments);return t&&this._customizeButton(),t},_createOverlay:function(){var t=this.__base.apply(this,arguments);return this.params.overlayTheme&&(t.className+=" mini-suggest__overlay_theme_"+this.params.overlayTheme),t}})},EEcG:function(t,e){BEM.DOM.decl("pusher-button",{_onClick:function(){if(this.hasMod("subscribed","yes"))this._unsubscribe();else{var t,e;switch(this.getPermission()){case"granted":if(this.__self._shown())return void this._subscribePermissionGranted();t="popup",e="prompt";break;case"default":t="default",e="prompt";break;default:return void this._openPopup("default","error")}this._openPopup(t,e,function(t){if(!0===t)switch(this.__self._shown(t),this.getPermission()){case"granted":this._subscribePermissionGranted();break;case"default":setTimeout(this._subscribePermissionDefault.bind(this),0);break;default:this._openPopup("default","error")}}.bind(this))}},_unsubscribe:function(){this.unsubscribe().catch(this._handleError.bind(this))},_subscribePermissionGranted:function(){this.subscribe().catch(this._handleError.bind(this))},_subscribePermissionDefault:function(){var t=this._openPopup("default","wait");BEM.blocks.pusher._requestPermission().then(function(){t.close()},function(){t.close()}).then(function(){return this.subscribe()}.bind(this)).catch(function(t){"default"!==t.permission?"denied"!==t.permission?this._handleError(t):this._onPermissionDenied():t.delay<300&&this._openPopup("default","error")}.bind(this))},_handleError:function(t){throw this._openPopup("default","error"),home.error.logError({method:"_handleError",message:"Error in pusher button",block:this.__self.getName()},t),t},getPermission:function(){return BEM.blocks.pusher.getPermission()},_openPopup:function(t,e,i){var t=this._notice(t),n=this;return this.trigger("open-popup"),this.__self._openPopup(t,e,function(t){return n.trigger("close-popup"),i&&i(t)}),t},_notice:function(t){return BEM.DOM.blocks["sup-notice"].getInstance(t)},_onPermissionDenied:function(){}},{_popups:{},_openedPopup:null,_onClosePopup:null,_openPopup:function(t,e,i){this._openedPopup!==t&&(this._closePopup(),this._openedPopup=t),this._onClosePopup&&t.un("close",this._onClosePopup),this._onClosePopup=function(t,e){this._openedPopup=null,this._onClosePopup=null,i&&i(e)}.bind(this),t.onFirst("close",this._onClosePopup).open(e)},_closePopup:function(){this._openedPopup&&this._openedPopup.close()},STORAGE_NAME:"notifications",_shownVal:null,_shown:function(t){return void 0!==t?(t&&this._setSessionParameter(this.STORAGE_NAME,""),this._shownVal=t):(null!==this._shownVal||(this._shownVal=this._hasSessionParameter(this.STORAGE_NAME)),this._shownVal)},_setSessionParameter:function(t,e){try{window.sessionStorage.setItem(t,e)}catch(t){}},_hasSessionParameter:function(t){try{return window.sessionStorage.hasOwnProperty(t)}catch(t){return!1}}})},ENpm:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._enableCounterSrc=this.params.counter&&this.params.counter.src},_handleItemClick:function(t,e){this.__base.apply(this,arguments),!this._enableCounterSrc||"fulltext"!==e.type&&"fact"!==e.type||this._attachSrc()},_handleButtonClick:function(){this.__base.apply(this,arguments),this._enableCounterSrc&&this._attachSrc()},_attachSrc:function(){var t;0<this._path.index&&this._meta[this.__self.metaProps.log]&&((t=(t=this._meta[this.__self.metaProps.log].match(/(sgtype:){0}([A-Z][a-z]*)/g))&&t[this._path.index-1])&&this._appendHiddenInput("src","suggest_"+t))}})},EVWl:function(t,e){BEM.DOM.decl("dropdown2",{onSetMod:{js:{inited:function(){this._switcher=null,this._popup=null}},opened:{yes:function(){if(this.hasMod("disabled"))return!1;this.trigger("beforeOpen").getPopup().setAnchor(this.getSwitcher()).setMod("visible","yes").on("beforeClose",this._onPopupBeforeClose,this)},"":function(){this.trigger("beforeClose").getPopup().delMod("visible").un("beforeClose",this._onPopupBeforeClose,this)}},disabled:{"*":function(t,e){this.getSwitcher().setMod(t,e)},yes:function(){this.delMod("opened")}}},getPopup:function(){return this._popup||(this._popup=this.findBlockInside("popup2")),this._popup},getSwitcher:function(){return this._switcher||(this._switcher=this.findBlockInside(this.getMod("switcher"))),this._switcher},_onPopupBeforeClose:function(){this.delMod("opened")},_onSwitcherClick:function(t){this._switcher||(this._switcher=t.block),this.toggleMod("opened","yes")}},{live:!0})},EbQR:function(t,e){BEM.DOM.decl({block:"desk-notif-card",modName:"disaster",modVal:["yes","fatal"]},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.popup=this.findBlockOn("disaster-popup","popup"),this.popup&&(this.bindTo("link","click",this._showPopup),this.bindKeyTo("link","space enter",this._showPopup),this.params.openPopup&&this.popup.show())}},_showPopup:function(t){this.popup.show(),home.stat.logDOMShow(this.popup.domElem),t.preventDefault()}})},EhiD:function(t,e){BEM.decl("custom-protocol-detect",{},{protocolCheck:function(t,e,i){var n=this._checkBrowser();return n.isMsLaunchUri?this._openUriWithMsLaunchUri(t,e,i):n.isFirefox?this._openUriUsingFirefox(t,e,i):n.isWebkit?this._openUriWithHiddenFrame(t,e,i):n.isIE?this._openUriUsingIEInOlderWindows(t,e,i):void(i&&i())},_openUriWithHiddenFrame:function(t,e,i){this._blurWindowHack(e,i),this._getHiddenIframe().contentWindow.location.href=t},_openUriUsingFirefox:function(t,e,i){var n=this._getHiddenIframe();try{n.contentWindow.location.href=t,e&&e()}catch(t){i()}},_openUriUsingIEInOlderWindows:function(t,e,i){this[{9:"openUriWithHiddenFrame",10:"openUriUsingIe10InWindows7",11:"openUriWithHiddenFrame"}[home.getData("custom-protocol-detect.ieVersion")]||"_openUriInNewWindowHack"](t,e,i)},_openUriUsingIe10InWindows7:function(t,e,i){var n=this._getHiddenIframe(),o=i?setTimeout(i,1e3):null;BEM.DOM.win.on("blur",function(){o&&clearTimeout(o),e&&e()});try{n.contentWindow.location.href=t}catch(t){i&&i(),clearTimeout(o)}},_openUriInNewWindowHack:function(t,e,i){var n=window.open("","","width=0,height=0");n.document.write("<iframe src='"+t+"'></iframe>"),setTimeout(function(){try{n.location.href=t,n.setTimeout(function(){n.close()},1e3),e&&e()}catch(t){n.close(),i&&i()}},1e3)},_openUriWithMsLaunchUri:function(t,e,i){navigator.msLaunchUri(t,e,i)},_checkBrowser:function(){return{isMsLaunchUri:Boolean(navigator.msLaunchUri),isFirefox:"undefined"!=typeof InstallTrigger,isWebkit:Boolean(window.chrome||window.opr||window.safari),isIE:home.getData("custom-protocol-detect.isMSIE")}},_getHiddenIframe:function(){var t;return this.iframe||((t=document.createElement("iframe")).src="about:blank",t.style.display="none",t.name="custom-protocol-detect",document.body.appendChild(t),this.iframe=t),this.iframe},_blurWindowHack:function(t,e){var i=setTimeout(function(){BEM.DOM.win.off("blur",n),e&&e()},1e3);function n(){clearTimeout(i),BEM.DOM.win.off("blur",n),t&&t()}BEM.DOM.win.on("blur",n)}})},En7l:function(t,e){BEM.DOM.decl("i-bem__dom",{throttle:function(t,e,i){var n=this;return home.throttle(function(){this._isDestructing||t.apply(n,arguments)},e,i)}})},EqRa:function(t,e){!function(){var n,i,o,s,r={},a=0;BEM.decl("i-voice",{},{events:{ERROR:"error",BEFORE_START_RECOGNIZE:"before-start-recognize",START_RECOGNIZE:"start-recognize",SPEECH_KIT_INIT:"speech-kit-init",SPEECH_KIT_ACCESS_GRANTED:"speech-kit-access-granted",RECOGNIZE_TEXT:"recognize-text",STOP_RECOGNIZE:"stop-recognize",PERMISSION_REQUEST:"permission-request"},eventsType:{ERROR_INIT:"error-init",ERROR_SPEECH_KIT:"error-speech-kit",SUCCESS_RECOGNIZE:"success-recognize",TIMEOUT_SUCCESS:"timeout-success",TIMEOUT_EMPTY:"timeout-empty"},TIMEOUT_RECOGNIZE:1e4,startRecognize:function(e){if(this._isOnline()){r={recognizedText:"",_startedRecognize:!0,maxTime:(s=e).maxTime||0===e.maxTime?e.maxTime:this.TIMEOUT_RECOGNIZE};var t=window.AudioContext||window.webkitAudioContext;this._freeAudioContext();try{(o=o||new t).createScriptProcessor(256,1,1).disconnect()}catch(t){return void this.trigger(this.events.ERROR,{type:this.eventsType.ERROR_INIT,message:"AudioContext is not available"})}this.trigger(this.events.BEFORE_START_RECOGNIZE,{session:r}),this._getStreamer(e,function(t){if(t.err||!t.streamer)return this.trigger(this.events.ERROR,{type:this.eventsType.ERROR_INIT,message:t.err}),void this._freeAudioContext();window.ya.speechkit.audiocontext=o,r.streamer=t.streamer,this._speechKitStart(r,e),this.trigger(this.events.START_RECOGNIZE,{session:r}),i=setTimeout(function(){this.isStartedRecognize()&&!this.isPermissionProvided()&&this.trigger(this.events.PERMISSION_REQUEST,{session:r})}.bind(this),500)}.bind(this))}else this.trigger(this.events.ERROR,{type:this.eventsType.ERROR_INIT,message:"offline"})},_speechKitStart:function(t,e){var i=e.codec||window.ya.speechkit.FORMAT.OPUS||window.ya.speechkit.FORMAT.PCM16;t.streamer.start({lang:e.lang,model:e.recognitionModel,apikey:e.apikey,initCallback:this._speechKitInitHandler.bind(this),accessGrantedCallback:this._speechKitAccessGrantedHandler.bind(this),dataCallback:this._speechKitDataHandler.bind(this),errorCallback:this._speechKitErrorHandler.bind(this),format:i,particialResults:!0,utteranceSilence:Math.max(e.utteranceSilence||0,60),use_snr:Boolean(e.use_snr),yandexuid:e.yandexuid,applicationName:e.applicationName})},_isOnline:function(){return void 0===navigator.onLine||navigator.onLine},isStartedRecognize:function(){return r._startedRecognize},stopRecognize:function(t,e){this.isStartedRecognize()&&(clearTimeout(i),this._resetTimeout(),r._startedRecognize=!1,r.streamer&&r.streamer.abort(),clearTimeout(this._initFailedTimeout),this.trigger(this.events.STOP_RECOGNIZE,{type:t,session:r,data:e}))},isSpeechkitLoaded:function(){return window.ya&&window.ya.speechkit&&window.ya.speechkit.SpeechRecognition},isPermissionProvided:function(){return window.ya.speechkit.isPermissionProvided()},_freeAudioContext:function(){o&&o.close&&o.state&&("closed"!==o.state&&o.close(),o=null)},_speechKitDataHandler:function(t,e){a=0,this.afterCurrentEvent(function(){t&&(r.recognizedText=t,this.trigger(this.events.RECOGNIZE_TEXT,{session:r,isDone:e})),e&&this.stopRecognize(this.eventsType.SUCCESS_RECOGNIZE)}.bind(this))},_speechKitInitHandler:function(t){r.id=t,this._resetTimeout(),this._startTimeout(),clearTimeout(this._initFailedTimeout),this.trigger(this.events.SPEECH_KIT_INIT,{session:r})},_speechKitAccessGrantedHandler:function(){this._initFailedTimeout=setTimeout(function(){this.trigger(this.events.ERROR,{type:this.eventsType.ERROR_SPEECH_KIT,session:r,message:"offline"})}.bind(this),5e3),this.trigger(this.events.SPEECH_KIT_ACCESS_GRANTED,{session:r})},_speechKitErrorHandler:function(t){if("MediaDeviceFailedDueToShutdown"===t&&a<1)return this._speechKitStart(r,s),void a++;r._startedRecognize=!1,clearTimeout(i),this.trigger(this.events.ERROR,{type:this.eventsType.ERROR_SPEECH_KIT,session:r,message:t}),this._freeAudioContext()},_startTimeout:function(){r.maxTime&&(r._timerRecognize=setTimeout(this._timeoutHandler.bind(this),r.maxTime))},_resetTimeout:function(){r._timerRecognize&&(clearTimeout(r._timerRecognize),r._timerRecognize=null)},_timeoutHandler:function(){r._timerRecognize=null;var t=Boolean(r.recognizedText);this.stopRecognize(this.eventsType[t?"TIMEOUT_SUCCESS":"TIMEOUT_EMPTY"])},loadSpeechkit:function(t,e){this._loaded?e&&e():(this._loadCallbacks=this._loadCallbacks||[],this._loadCallbacks.push(e),1===this._loadCallbacks.length&&this._loadSpeechkit(t,function(e){this._loadCallbacks.forEach(function(t){t&&t(e)}),this._loadCallbacks=[],this._loaded=!0}.bind(this)))},_loadSpeechkit:function(t,e){var i=document.createElement("script");i.src=t+"/webspeechkit/v-1.0.5/webspeechkit-recognition.min.js",i.async=!0,i.crossOrigin="",i.onload=function(){e(!0)},i.onerror=function(){e(!1)},document.body.appendChild(i)},_initStreamer:function(e){try{e({streamer:n=new window.ya.speechkit.SpeechRecognition})}catch(t){e({err:"Error at SpeechStreamer create"})}},_getStreamer:function(t,e){var i=this;n?e({streamer:n}):this.isSpeechkitLoaded()?this._initStreamer(e):this.loadSpeechkit(t.origin,function(t){t?i.afterCurrentEvent(function(){i._initStreamer(e)}):e({err:"Error when loading webspeechkit"})})}}),void 0===window.ya&&(window.ya={}),void 0===window.ya.speechkit&&(window.ya.speechkit={});var t,e={websocketProtocol:"wss://",asrUrl:"webasr.yandex.net/asrsocket.ws",ttsUrl:"https://tts.voicetech.yandex.net",ttsStreamUrl:"webasr.yandex.net/ttssocket.ws",lang:"ru-RU",langWhitelist:["ru-RU","tr-TR","en-US","en-GB","uk-UA","ru","tr","en","uk","en-EN"],model:"notes",applicationName:"jsapi",apikey:"",uuid:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},c=home.getData("speechkit.settings")||{};for(t in e)c.hasOwnProperty(t)||(c[t]=e[t]);void 0===window.ya.speechkit._extend?window.ya.speechkit.settings=c:window.ya.speechkit.settings=window.ya.speechkit._extend(c,window.ya.speechkit.settings)}()},"F//4":function(t,e){var i=$.ajax;$.ajax=function(s,t){var e=i(s,t);return e.asPromise=function(){return new Promise(function(t,o){e.then(t,function(t,e,i){var n;!s||"object"==typeof s&&!s.url?(n=new Error("Url is not defined")).sourceType="logic":((n=new Error("Cannot load ajax request")).sourceType="abort"===e?"logic":"parsererror"===e?"backend":"network",n.errorName=e,n.errorText=i,t.responseJSON&&(n.json=t.responseJSON),i=home.parseUrl("object"==typeof s?s.url:s),n.url=i.host+i.path,n.meta={},"error"!==e&&(n.meta[e]=1),t.status&&(n.meta.status=t.status)),n.name="blockerror",o(n)})})},e}},F1jX:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._selectedItem=-1,this._keyboardSelectedItem=-1,this._keyboardStartValue=this._val},_bindHandlers:function(){this.__base.apply(this,arguments),this.bindTo(this._input,"keydown",MBEM.eventProxy("_onKeydown",this)).bindTo(this._input,"keypress",MBEM.eventProxy("_onKeypress",this)).bindTo(this._input,"click",MBEM.eventProxy("_checkAndShowPopup",this)),this.on("input-change",MBEM.eventProxy("_onInputChange",this))},_onInputChange:function(t,e){this._keyboardSelectedItem=-1,"select"!==e.type&&"unselect"!==e.type&&(this._keyboardStartValue=this._val)},_openSuggest:function(){this.__base.apply(this,arguments),this._keyboardSelectedItem=-1,this._keyboardStartValue=this._val},_onKeydown:function(t){var e,i=this.__self.keyboard;!this._popupContent||!this._isShown||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||t.which!==i.arrowUp&&t.which!==i.arrowDown?this._isShown&&t.which===i.esc&&(this._hidePopup(),this._unselectAll()):(t.preventDefault(),t.which===i.arrowUp?e=-1===this._selectedItem?this._items.length-1:this._selectedItem-1:t.which===i.arrowDown&&(e=this._selectedItem===this._items.length-1?-1:this._selectedItem+1),e<0?this._selectItem(null,e,!0):this._selectItem(this._items[e],e,!0))},_onKeypress:function(t){var e=this.__self.keyboard;t.which===e.enter&&(e=-1<this._keyboardSelectedItem&&this._items[this._keyboardSelectedItem],t.preventDefault(),e?(t=e.getAttribute("data-type"),this.trigger("item-click",this._getItemEventProps(e,t,null,!0))):(this.trigger("input-enter"),this._doSubmit()))},_selectItem:function(t,e,i){var n,o;this.__base.apply(this,arguments),t?(this._selectedItem=void 0===e?this._items.indexOf(t):e,i?(n=t.getAttribute("data-type"),o=t.getAttribute("data-text"),this._keyboardSelectedItem=this._selectedItem,this._changeText(o,"select",!1),this.trigger("item-select",this._getItemEventProps(t,n,o,!0),!0)):this._keyboardSelectedItem=-1):(this._selectedItem=-1,this._keyboardSelectedItem=-1,this._changeText(this._keyboardStartValue,"unselect",!1))},_unselectAll:function(){this.__base.apply(this,arguments),this._selectedItem=-1,this._keyboardSelectedItem=-1},_onItemClick:function(t,e){this.__base.apply(this,arguments),"nav"===e.type&&e.byKeyboard&&this._openLinkByKeyboard(e)},_openLinkByKeyboard:function(t){var e=t.node.querySelector(".mini-suggest__item-link"),t=e.getAttribute("target"),i=e.getAttribute("href");"_self"===t?setTimeout(function(){window.location=i},0):((t=window.open("",t)).opener=null,t.location=i)}},{keyboard:{enter:13,arrowUp:38,arrowDown:40,esc:27}})},F8BX:function(t,e){BEM.DOM.decl("widgets-list",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._sendCounter("show_url"),this.bindTo("promo-close","pointerclick",this._closePromo)}}},_sendCounter:function(t){t=this.params.promo&&this.params.promo[t];t&&((new Image).src=t)},_closePromo:function(){var t=this.elem("promo");this.setMod("promo-close","yes"),t.onceAnimationEnd("animation",600,function(){t.remove(),this.delMod("promo-close"),this.delMod("promo")}.bind(this)),this._sendCounter("close_url")},_remove:function(t){this.__base.apply(this,arguments),t||this._sendCounter("close_url")}})},FAHT:function(t,e){MBEM.decl("mini-suggest",{_buildItem:function(t){var e=this.__base.apply(this,arguments),i="object"==typeof t[5]&&null!==t[5]?t[5].counter:t[5];return i&&(e.attrs["data-suggest-counter"]=(this.params.clickHost||"")+MBEM.encode(i)),e},_onItemClick:function(t,e){var i;this.__base.apply(this,arguments),this.__self.itemTypeIsNavigable(e.type)&&(i=e.node.getAttribute("data-suggest-counter"))&&((new Image).src=i,this._addMetrikaCookie(e.node.querySelector(".mini-suggest__item-link")))},_addMetrikaCookie:function(t){var e=this._val,i=this._reqID,t=[e,t.href,this.params.navSource,i].map(MBEM.encodeUriComponent).join(":"),i=Date.now();document.cookie="sc_"+i+"="+t+";path=/watch;domain=."+(location.hostname.match(/yandex\..+$/)||[])[0]+";expires="+new Date(i+6e5).toUTCString()+";secure"+(this.params.sameSiteSupport?";SameSite=None":"")}})},Fij0:function(t,e){BEM.DOM.decl("w-rss",{onSetMod:{js:function(){function e(t){return window.wg&&wg.isColumnWide?!!wg.isColumnWide(t):1==t}var o,t,i,n,l=this,r=this.domElem,s=this.params.feedUrl,a=this.params.newsTimestamp,c=l.elem("list"),h=r.parent().parent().find("h2.b-widget__title,.widget__title"),d=l.elem("gradient"),u=l.elem("gradient-up"),m=l.elem("informer"),p=r.parent().find(".w-rss__arrow_type_up"),_=r.parent().find(".w-rss__arrow_type_down"),f=0===$(".i-ua_browser_touch").length,g=0,v=0,b=function(t,e){var i="up"===t?p:_,n="w-rss__arrow_hovered-"+("up"===t?"up":"down")+"_yes";e&&!i.get(0).clickable?(i.get(0).clickable=!0,i.css({cursor:"pointer"}),i.unbind("mouseenter").unbind("mouseleave").unbind("click").unbind("mousedown").unbind("mouseup").bind("click",function(){$.browser&&$.browser.safari&&window.getSelection&&window.getSelection().empty();try{Lego.c("stred/pid=132/cid=71588/path="+M.widget.id+"."+t)}catch(t){}B.scroll(t)}),f&&i.bind("mouseenter",function(){i.addClass(n)}).bind("mouseleave",function(){clearTimeout(v),clearInterval(g),i.removeClass(n)}).bind("mousedown",function(){if(v=setTimeout(function(){clearInterval(g),g=setInterval(function(){B.scroll(t)},250)},400),$.browser&&$.browser.opera)return!1}).bind("mouseup",function(){clearTimeout(v),clearInterval(g)})):!e&&i.get(0).clickable&&(i.get(0).clickable=!1,i.removeClass(n),i.css({cursor:"default"}),clearTimeout(v),clearInterval(g),i.unbind("mouseenter").unbind("mouseleave").unbind("click").unbind("mousedown").unbind("mouseup"))},y=!1,w=[],k=[],E=function(t){return window.wg&&wg.isColumnNarrow?wg.isColumnNarrow(t):2==t},M=(t=(r.closest(".b-widget-data").attr("id")+"").substr(3),n=(i=Widget.Framework.get(t)).params.position.split(":")[0],t=r.hasClass("w-rss_type_text-img")?"text-img":r.hasClass("w-rss_type_magazine")?"magazine":"text",{widget:i,col:n,layout:e(n)?"horiz":"vert",mode:{compact:2==i._prefs.wht,large:3==i._prefs.wht},isHeightAuto:!i._prefs.wht,type:t}),x=M.widget.news.length,T=function(){if("vert"===M.layout&&l.hasMod("layout","horiz")?l.setMod("layout","vert"):"horiz"===M.layout&&l.hasMod("layout","vert")&&l.setMod("layout","horiz"),M.isHeightAuto&&(8<parseInt(M.widget._prefs.n,10)?(r.find(".w-rss__body").addClass("w-rss__body_height_large"),M.mode.large=!0):"horiz"===M.layout||E(M.col)||parseInt(M.widget._prefs.n,10)<=5||x<=5?(r.find(".w-rss__body").addClass("w-rss__body_height_compact"),M.mode.compact=!0):"vert"!==M.layout||E(M.col)||(r.find(".w-rss__body").removeClass("w-rss__body_height_compact"),M.mode.compact=!1)),"text-img"!==M.type||E(M.col))return c;var t=r.parent().find(".l-rss_type_"+M.layout).clone();return t.appendTo(c),t.find("tbody").html("")},S=T(),C=function(){return"text-img"!==M.type||E(M.col)?S.find("div.w-rss__item"):S.find("tr")},B={getCurrent:function(t,e){for(var i,n=0;n<t.length&&(i=$(t[n]).position().top)<e-2;)n++;return Math.abs(i-e)<2?{top:i,i:n,inside:!1}:{top:$(t[n-1]).position().top,i:n-1,inside:!0}},scroll:function(t){var e=C().toArray(),i=e.length-1,n=$(e[i]),o="up"===t?-1:1,s=l.elem("body").scrollTop(),r=l.elem("body").height(),a=n.position().top+n.height()-r,c=this.getCurrent(e,s),t=c.top,n=c.i,c=o<0&&t<s?n:n+o,t=!1,c=Math.max(0,Math.min(i,c)),e=$(e[c]).position().top,n=(t=n===i&&0<o?!0:r-22<o*(e-s))?(s+=o*(r-44),Math.min(n,c)):(s=e,c),s=Math.max(0,Math.min(a,s));t?u.removeClass("i-hidden"):u.addClass("i-hidden"),l.elem("body").animate({scrollTop:s},100)},updateControls:function(){var t=C().toArray(),e=l.elem("body").scrollTop(),i=t.length-1,n=$(t[i]),i=l.elem("body").height(),n=n.position().top+n.height()-i;this.getCurrent(t,e).inside?u.removeClass("i-hidden"):u.addClass("i-hidden"),b("up",0<e),b("down",e<n),n-e<i&&!y&&j()},reset:function(){l.elem("body").animate({scrollTop:0},100)}},P=(o=r.parent().find(".w-rss__item").clone().remove(),function(t){var e=o.clone(),i=(i=t.url).replace(/^https?:/,"");e.find(".w-rss__title").attr("href",i).html(t.title).addClass("link link_black_yes"),e.find(".w-rss__date").addClass("text_gray_yes").html(t.date),t.descr?e.find(".w-rss__description").html(t.descr):e.find(".w-rss__description").remove();var n=e.find(".w-rss__preview");return t.img?(t=(t="magazine"===M.type&&M.mode.compact&&t.imgCompact||t.img).replace(/^https?:/,""),n.attr("href",i),n.css({"background-image":"url("+t+")"})):(e.addClass("w-rss__item_previewable_no"),n.remove()),e.show(),e}),I=r.parent().find(".l-rss_type_vert").find("tr:first").clone().remove(),D=r.parent().find(".l-rss_type_horiz").find("tr:first").clone().remove(),O=function(n){var t=[];if("text-img"!==M.type||E(M.col))for(var e=0,i=n.length;e<i;e++)n[e]&&(w.push(n[e]),$.merge(t,P(n[e])));else{function o(t,e){var i;""!==$(e).html()||(i=n.shift())&&($(e).html('<div class="w-rss__item">'+P(i).html()+"</div>"),w.push(i))}var s,r=S.find("tr:last").eq(0);for(1===r.length&&r.find("td:not(.l-rss__gap)").each(o);0<n.length;)(s=("vert"===M.layout?I:D).clone()).find("td:not(.l-rss__gap)").each(o),$.merge(t,s)}S.append(t)},j=function(){!function(t){y=!0;var e={url:s,num:12,start:w.length+1,type:M.widget._prefs.type,"no-text":M.widget._prefs["no-text"]};"object"==typeof t&&$.extend(e,t),$.ajax({url:M.widget.params.src,dataType:"json",data:e,success:function(t){t&&t.news&&0<t.news.length&&(t.tstamp&&(a=t.tstamp),O(t.news),b("down",!0))},complete:function(){y=!1}})}({tstamp:a})},R=function(t){t=t||w,B.reset(),c.html(""),S=T(),w=[],O(t),b("down",!0),A()},A=function(){var t;"magazine"===M.type&&((t=S.find("div.w-rss__item").eq(0)).hasClass("w-rss__item_previewable_no")||t.addClass("w-rss__item_position_first")),function t(){var e,i;r.get(0).isInited||(r.get(0).isInited=!0,e=r.height(),c.height()>e?("magazine"===!M.type&&function(t){for(var e,i=C(),n=parseInt(i.eq(0).css("paddingBottom"),10),o=0,s=0;o<t&&s<100;){if(o+(e=$(i[s]).height())+n>t){e/2<t-o&&(o+=e);break}o+=e+n,s++}s<100&&0<s&&($(".w-rss__body",r).height(o),d.addClass("i-hidden"))}(e),i=!0,r.closest(".b-widget-fixed").mouseenter(function(){_.removeClass("w-rss__arrow_visibility_hidden"),p.removeClass("w-rss__arrow_visibility_hidden")}).mouseleave(function(){_.addClass("w-rss__arrow_visibility_hidden"),p.addClass("w-rss__arrow_visibility_hidden")}).mousemove(function(){i&&(i=!1,setTimeout(function(){i=!0},250))}),l.elem("body").bind("scroll",$.debounce(B.updateControls,100,B)),b("down",!0),b("up",!0),b("up",!1)):M.isHeightAuto&&(r.find(".w-rss__body").removeClass("w-rss__body_height_large"),r.find(".w-rss__body").addClass("w-rss__body_height_compact"),M.mode.compact=!0,M.mode.large=!1,M.isHeightAuto=!1,R(),r.get(0).isInited=!1,t()))}()};M.widget._onDropcallback=function(t){t=t.split(":")[0];t!=M.col&&(e(t)!==M.layout==="horiz"||"text-img"===M.type&&(E(t)||E(M.col)))&&(M.col=t,M.layout=e(t)?"horiz":"vert",R()),M.col=t},h.append(m),h.addClass("b-widget__title_type_rss"),O(M.widget.news),A(),$.browser&&$.browser.msie&&"text-img"===M.type&&setTimeout(function(){var t=r.find(".w-rss__preview"),i=r.find("table td").eq(0).width();t.each(function(t,e){e=$(e);e.hide(),e.css({width:i+"px"}),e.css({heigth:"70px"}),e.show()}),r.hide(),r.css({zoom:1}),r.show()},600),setTimeout(function(){0===r.height()&&(r.parent().hide(),setTimeout(function(){r.parent().show()},200))},2e3),m.click(function(){0<k.length&&(R(k),k=[]),m.addClass("w-rss__informer_visibility_hidden")})}}})},FnIi:function(t,e){BEM.DOM.decl({block:"link",baseBlock:"control"},{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},pressed:{yes:function(){return!this.hasMod("disabled")}},disabled:{"":function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex",this.params._tabindex).attr("href",this._url||this.params._url)},yes:function(){this.__base.apply(this,arguments),this._url=this.domElem.attr("href")||this.params._url,void 0!==this._url&&this.domElem.attr("tabindex",-1),this.domElem.removeAttr("href"),this.delMod("pressed")}}},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}),this.__base()}})},FwWP:function(t,e){MBEM.decl({block:"mini-suggest",modName:"overlay"},{__constructor:function(){this._initOverlay(),this.__base.apply(this,arguments)},_showPopup:function(){this.__base.apply(this,arguments),MBEM.cls.add(this._overlay,"mini-suggest__overlay_visible")},_hidePopup:function(){this.__base.apply(this,arguments),MBEM.cls.remove(this._overlay,"mini-suggest__overlay_visible")},_initOverlay:function(){this._overlay=this._createOverlay(),this._prepareOverlayParent().appendChild(this._overlay),this.bindTo(this._overlay,"click",function(){this._blur()})},_createOverlay:function(){var t=document.createElement("div");return t.className="mini-suggest__overlay",t},_prepareOverlayParent:function(){}})},FzRL:function(t,e){MBEM.decl({block:"mini-suggest",modName:"personal",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments);return e="fact"===t[0]&&t[5]&&t[5].personal?this._personalExtend(e):e},_removeItem:function(){this.__base.apply(this,arguments),this._selectedItem=this._items.indexOf(this._popupContent.querySelector(".mini-suggest__item_selected_yes"))}})},G3Qx:function(t,e){MBEM.decl("mini-suggest",{_buildItem:function(t){var e=this.__base.apply(this,arguments),i=t[0],n=t[1],o=t[3],s=t[4],r=t[5];return"tpah"===i&&r&&r.tpah&&(n=n.slice(r.tpah[0],r.tpah[2])),e.content.title=MBEM.encode(n),e.content.info=o&&MBEM.encode(o),e.attrs.role="option",e.attrs["data-text"]=MBEM.encode(this._getItemText(t)),s&&(e.linkAttrs={href:MBEM.resolveUrl(s),target:MBEM.encode(t[5]&&t[5].target||"_blank"),rel:"noopener",class:"mini-suggest__item-link"}),e},_getItemText:function(t){var e=t[0],i=t[1],n=t[3],t=t[5];return t&&t.searchQuery||("fact"!==e||t&&t.inline?i:n)},_buildItemContentTitle:function(t,e){return e.content.title||""},_buildItemContentInfo:function(t,e){return e.content.info||""},_buildItemContentButton:function(t,e){return e.content.button?'<span class="mini-suggest__'+e.content.button+' mini-suggest__item-button"></span>':""},_buildItemContentAdds:function(){return""}})},GDua:function(t,e){setTimeout(function(){window.performance&&performance.navigation&&1===performance.navigation.type&&home.stat.logPath("tech","refresh")},0)},GRKD:function(t,e){BEM.DOM.decl({block:"modal",modName:"scrollbar-hider",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on({beforeOpen:this._toggleScrollbar.bind(this,!1),afterClose:this._toggleScrollbar.bind(this,!0)})}}},_toggleScrollbar:function(t){var e=t?0:this._getCurrentScrollWidth();BEM.DOM.scope.css("margin-right",e),$("html").toggleClass("document_modal_yes",!t)},_getCurrentScrollWidth:function(){var t=document.documentElement;return"number"==typeof window.innerWidth?window.innerWidth-t.clientWidth:t.scrollHeight>t.clientHeight?this._getScrollWidth():0},_getScrollWidth:function(){if(null!==this._scrollWidth)return this._scrollWidth;var t=$("<div>").css({position:"absoulte",left:0,top:0,overflow:"scroll",width:200,height:200}).appendTo("body");return this._scrollWidth=200-t[0].scrollWidth,t.remove(),this._scrollWidth}})},GWsq:function(t,e){BEM.decl("i-measurers",{},{getAndCall:function(t,i){var e,n,o;i&&t&&(e=t.scripts,n=t.actualVersion,o=t.nonce,e.forEach(function(e){this._load(e.id,n,o).catch(function(t){home.error.logError({block:"i-measurers",source:"network"},t)}).then(function(t){t&&t(i,e.conf,{actualVersion:n,nonce:o})})}.bind(this)))},_load:function(i,n,o){return new Promise(function(t,e){window.Ya||(window.Ya={}),window.Ya.measurers&&window.Ya.measurers[i]?t(Ya.measurers[i]):home.loadScript(["//yastatic.net/pcode-static/measurers/",n,"/media/",i,".js"].join(""),function(){t(window.Ya.measurers[i])},function(){e(new Error("Cannot load measurer: "+i))},o)})}})},GZLX:function(t,e){MBEM.decl({block:"mini-suggest",modName:"re-request",modVal:"yes"},{_onResponse:function(t,e,i){var n,o;this.__base.apply(this,arguments),this._allowReRequest(t,e)&&(n=this.params.reRequestTimeout,i.duration<n?(o=n-i.duration,clearTimeout(this._reRequestTimeout),this._reRequestTimeout=setTimeout(function(){this._reRequest(o)}.bind(this),o)):i.duration<10*n&&this._reRequest())},_request:function(){clearTimeout(this._reRequestTimeout),this.__base.apply(this,arguments)},_reRequest:function(t){MBEM.ajax(this._prepareReRequestUrl(this._val),{successCallback:this._onReResponse.bind(this,this._val,t),ctx:this}),this.trigger("re-request")},_prepareReRequestUrl:function(t){return MBEM.appendUrlParams(this.params.reRequestUrl,this._getMainUrlParams(t))},_onReResponse:function(t,e,i,n){var o=this._processResponse(i),s=t===this._prevRequestText,t=this.params.reRequestMaxLatency;this.trigger("re-response",{data:i,items:o,relevant:s}),s&&o.length&&(!t||(e||0)+n.duration<t)&&(this._popupContent.innerHTML=this._getItemsHTML(o),this._syncItems(o),this.trigger("re-popup-update"),this._empty=!1,this._focused&&this._checkAndShowPopup(),this._isShown&&this._checkVisibilityAdvItems())},_allowReRequest:function(t){return this._val&&this._val===t}})},Gh0Y:function(t,e){BEM.DOM.decl("header",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.bindToWin("resize",$.throttle(this._onResize,150)),this._collapseUserIfNeeded()}}},_onResize:function(){this._collapseUserIfNeeded()},_onUserUpdatesName:function(){this._collapseBreakpoint=null,this._collapseUserIfNeeded()},_collapseUserIfNeeded:function(){var t=this._getUser();t&&t.toggleCollapsed(this._getCollapseBreakpoint()>=this.elem("nav").width())},_getCollapseBreakpoint:function(){return this._collapseBreakpoint||(this._collapseBreakpoint=this._getNavItemsWidth()+this.__self.NAV_ITEMS_GAP),this._collapseBreakpoint},_getNavItemsWidth:function(){var t=0;return this.elem("nav").children().each(function(){t+=$(this).outerWidth(!0)}),t},_getUser:function(){return this._user?this._user._isDestructing&&(this._collapseBreakpoint=null,this._user=this.findBlockInside("user")):(this._user=this.findBlockInside("user"),this._user&&this._user.on("update-name",this._onUserUpdatesName,this)),this._user}},{NAV_ITEMS_GAP:10,live:!1})},GtKW:function(t,e){MBEM.decl({block:"mini-suggest",modName:"nav-exp",modVal:"yes"},{_getItemText:function(t){var e=t[5];return e&&e.suggestion?e.suggestion:this.__base.apply(this,arguments)},_handleLinkItemClick:function(t,e,i,n){i&&(e=this._getItemEventProps(e,i,n)),this._touchClick(t)||this.trigger("item-click",e)},_getItemEventProps:function(t,e,i){var n=this.__base.apply(this,arguments);return"nav"===e&&(n.val=i||this._val),n}})},"H+5/":function(t,e){MBEM.decl({block:"mini-suggest",modName:"search",modVal:"yes"},{_processResponse:function(t){var i=this.__self.hasSvg()?"svg":"png";return t[1].map(function(t){if("string"==typeof t)return["fulltext",t,t,null,null,{}];if("string"==typeof t[0]&&t[0].length){if("weather"!==t[0]&&"traffic"!==t[0])return"fact"===t[0]&&t[5]&&"phone"===t[5].type?t:"fact"===t[0]||"mt"===t[0]?["fact",t[1],t[1],t[2],null,{type:"fact"!==t[0]?t[0]:"",inline:!0,icon:t[3]&&t[3].icon,hl:t[3]&&t[3].hl,personal:t[3]&&Boolean(t[3].pers)}]:"icon"===t[0]?["fact",t[1],t[1],t[2]&&t[2].fact||null,null,{inline:!0,hl:t[2]&&t[2].hl,icon:{url:t[2].icon.filter(function(t){return t[0]===i})[0][1]},personal:t[2]&&Boolean(t[2].pers)}]:t;var e=t[5]||t[4];return["fact",t[1],t[1],t[2],null,{type:t[0],inline:!0,icon:{size:"l",url:"//yastatic.net/suggest-flag-icons/icon."+t[0]+"."+t[3].replace("-","minus-").replace("+","plus-").replace(/_/g,"-")+"."+i},hl:e&&e.hl,personal:e&&Boolean(e.pers)}]}return["fulltext",t[1],t[1],null,null,{hl:t[2]&&t[2].hl,personal:t[2]&&Boolean(t[2].pers)}]})}})},"H+lM":function(t,e){BEM.decl("i-visibilitychange",{},{waitForVisible:function(t){document.hidden?BEM.channel("sys").onFirst("visible",t):t()}})},H0Yh:function(t,e){"undefined"!=typeof home&&home.loadManager&&home.loadManager.trigger("js")},H8pu:function(t,e){var o={},s={};home.pcodeLoader={download:function(t,i,e){var n=t.type,t=t.pcodever;t&&(window.pcodever=t),s[n]||o[n]?s[n]&&e&&e():(o[n]=!0,home.loadScript({native:"//an.yandex.ru/system/widget.js",default:"//an.yandex.ru/system/context.js"}[n],function(){s[n]=!0,o[n]=!1,e&&e()},function(t){var e;BEM.channel("adb").trigger("download",{id:"pcode."+n}),e=t,o[n]=!1,home.error.logError({block:"pcode-loader",message:"banner was hidden: cannot load pcode",sourceType:"network"},e),i&&i(t)}))}}},HBut:function(t,e){function i(t){return(t||"").replace(/(^|\s)([-a-z]{1,2})(\s)/gi,"$1$2&nbsp;")}function n(t){return(t||"").replace(/(\d)\s(\d)/g,"$1&nbsp;$2")}function o(t){return(t||"").replace(/(\S)(\s)([^-a-z\d\s]{1,2})(\s|$)/gi,"$1&nbsp;$3$4")}function s(t){return(t||"").replace(/\s([-a-z\d.]{1,2})$/gi,"&nbsp;$1")}function r(t){return(t||"").replace(/(\s|^)([-a-z\d]{1,3}-[-a-z\d]{1,3})(\s|$)/gi,"$1<nobr>$2</nobr>$3")}home.prepareSpaces=i,home.prepareSpaces.digits=n,home.prepareSpaces.punctuation=o,home.prepareSpaces.shortEnding=s,home.prepareSpaces.aroundHyphen=r,home.prepareSpaces.full=function(t){return s(o(i(n(r(t)))))}},HYND:function(t,e){BEM.DOM.decl({block:"popup2",modName:"target"},{_calcOffsets:function(){var t=this.__base.apply(this,arguments);return this.params.mainOffset!==this.getDefaultParams().mainOffset&&(t.main=this.params.mainOffset),t}})},Hmaj:function(t,e){home.distance=function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,s=(e.lat-t.lat)*i,i=(e.lon-t.lon)*i,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(n)*Math.cos(o)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371}},Hmvx:function(t,e){window.getcss=function(e){setTimeout(function(){var t=document.createElement("link");t.setAttribute("type","text/css"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.getElementsByTagName("head").item(0).appendChild(t)},0)}},I0X4:function(t,e){!function(){"use strict";function t(){home.originalUrl=window.location.href;var t=home&&home.getData&&home.getData("i-change-url.data");if(t){var e,t=t.url;try{e=history.state}catch(t){}t&&ya.history&&ya.history.navigate({data:e||null,url:t,replace:!0})}}var e=+new Date;5e3<+new Date-e?t():setTimeout(t,100)}()},IDPp:function(t,e){MBEM.decl({block:"mini-suggest",modName:"autofocus",modVal:"yes"},{__constructor:function(){this._hasUserActivasion=!1,this.__base.apply(this,arguments),this._val&&(this._hasUserActivasion=!0)},_shouldShowPopup:function(){return this.__base.apply(this,arguments)&&this._hasUserActivasion},_onInput:function(){this.__base.apply(this,arguments),this._hasUserActivasion=!0,this._startInput()},_bindHandlers:function(){this.__base.apply(this,arguments),this.bindTo(this._input,"click",MBEM.eventProxy("_onInputClick",this))},_onInputClick:function(){this._hasUserActivasion||(this._hasUserActivasion=!0,this._checkAndShowPopup(),this._startInput())},_startInput:function(){this._hasUserActivasion&&this.__base.apply(this,arguments)}})},IITb:function(t,e){window.MordaRT=function(){this.listRE={}},MordaRT.prototype.siteInDomainList=function(t,e){for(var i,n=0,o=t.length;n<o;n++)if(i=t[n],this.listRE[i]||(this.listRE[i]=new RegExp("^"+i.replace(/\./g,"\\.").replace(/\*/g,"[^.]+")+"$")),e.match(this.listRE[i]))return!0;return!1},MordaRT.prototype.getHostname=function(t){0!==t.indexOf("http")&&0!==t.indexOf("//")&&(t="//"+t);var e=document.createElement("a");return e.href=t,e.hostname},MordaRT.prototype.getEntries=function(t,e){if(!window.performance||!window.performance.getEntries)return{resources:{},resourcesCount:0};try{var i,n=window.performance.getEntries("resources"),o={},s=0;if(n&&n.length)for(var r=0,a=n.length;r<a;r++){var c,l=n[r].initiatorType||"unknown";-1===(i=this.getHostname(n[r].name)).indexOf(".")||this.siteInDomainList(t,i)||(o[l]||(o[l]={}),c=e?this.quote(n[r].name):i,o[l][c]?o[l][c]++:o[l][c]=1,s++)}return{resources:o,resourcesCount:s}}catch(t){return{resources:{},resourcesCount:0}}},MordaRT.prototype.quote=function(t){return t.replace(/"|%22/g,"&quot;")}},"IVQ+":function(t,e){BEM.DOM.decl({block:"dist-popup",modName:"install",modVal:"download"},{_onYesClick:function(){return this.__base.apply(this,arguments),this._sendCounter(this.params.counters.yes),this._downloadInstance||(this._downloadInstance=BEM.create("i-install-download",this.params)),this._downloadInstance.download(),this._hide(),!1}})},Ifw1:function(t,e){BEM.DOM.decl({block:"modal",modName:"autoclosable",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._preventHideByClick=!1}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindTo("content","pointerdown pointerclick",this._setPreventHideByClick).bindTo("pointerclick",this._onPointerClick)._popup.on("beforeClose",this._onPopupClose,this)},"":function(){this.__base.apply(this,arguments),this.unbindFrom("content","pointerdown pointerclick").unbindFrom("pointerclick")._popup.un("beforeClose",this._onPopupClose,this)}}},_setPreventHideByClick:function(t){this._preventHideByClick=!0},_onPointerClick:function(t){this._preventHideByClick||this.delMod("visible"),this._preventHideByClick=!1},_onPopupClose:function(){this.delMod("visible")}})},Irrx:function(t,e){BEM.DOM.decl({block:"popup2",modName:"hiding",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchorParents=null,this._isAnchorVisible=void 0,this._updateIsAnchorVisible=$.throttle(this._updateIsAnchorVisible,this.__self.UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL,this)}},visible:{yes:function(){this._anchorParents=this._getAnchorParents(),this._bindToAnchorParents(),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this._updateIsAnchorVisible.stop(),this._unbindFromAnchorParents(),this._anchorParents=null,this._isAnchorVisible=void 0}}},_getAnchorParents:function(){for(var t,e=this;e&&e._anchor;)e=(t=e)._getParentPopup();return $(t._anchor).parents()},setAnchor:function(t){return this.__base.apply(this,arguments),this._unbindFromAnchorParents(),this._isAnchorVisible=void 0,this.hasMod("visible")?(this._anchorParents=this._getAnchorParents(),this._bindToAnchorParents()):this._anchorParents=null,this},_unbindFromDestructor:function(){return this._updateIsAnchorVisible.stop&&this._updateIsAnchorVisible.stop(),this.__base.apply(this,arguments)},_calcDrawingCss:function(t){var e=this.__base.apply(this,arguments);return void 0===this._isAnchorVisible&&(this._isAnchorVisible=this._calcIsAnchorVisible()),$.extend(e,{display:this._isAnchorVisible?"":"none"})},_calcIsAnchorVisible:function(){var t=this._anchor,e=this._getOffsetOf(t),i=e.left,n=e.top,o=i+t.outerWidth(),e=n+t.outerHeight(),t=this.getMod("direction"),s=Math.floor(this._checkDirection(t,"top")?n:e),r=Math.floor(this._checkDirection(t,"left")?i:o),a=!0;return this._anchorParents.each(function(t,e){if("BODY"===e.tagName)return!1;e=$(e);var i=/scroll|hidden|auto/,n=i.test(e.css("overflow-y")),i=i.test(e.css("overflow-x"));if(n||i){n=this._getOffsetOf(e),i=Math.floor(n.top);if(s<i||i+e.outerHeight()<s)return a=!1;n=Math.floor(n.left);return a=n<=r&&n+e.outerWidth()>=r}}.bind(this)),a},_bindToAnchorParents:function(){return this.bindTo(this._anchorParents,"scroll",this._onAnchorParentsScroll)},_unbindFromAnchorParents:function(){return this._updateIsAnchorVisible.stop(),this._anchorParents&&this.unbindFrom(this._anchorParents,"scroll"),this},_onAnchorParentsScroll:function(){this.redraw()._updateIsAnchorVisible()},_onWinScollAndResize:function(){this.hasMod("visible")&&(this.__base.apply(this,arguments),this._updateIsAnchorVisible())},_updateIsAnchorVisible:function(){var t;!this.domElem||(t=this._calcIsAnchorVisible())!==this._isAnchorVisible&&(this._isAnchorVisible=t,this.redraw())}},{UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL:100})},J72x:function(t,e){var i=function(){function i(t){void 0!==t.timeout?setTimeout(function(){n(t)},1e3*t.timeout):n(t)}function t(e){e&&(e="string"==typeof e?{url:e}:e,document.visibilityState&&"visible"!==document.visibilityState?document.addEventListener("visibilitychange",function t(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",t),i(e))}):i(e))}var e=home.getData("delayed-reporter"),n=function(t){t.url?(new Image).src=t.url:t.stat&&t.stat.type&&t.stat.name&&home.stat.logPath(t.stat.type,t.stat.name)};if(e)for(var o in e)e.hasOwnProperty(o)&&(o=e[o],(o=!Array.isArray(o)?[o]:o).forEach(t))};window.$?$(i):"addEventListener"in document&&document.addEventListener("DOMContentLoaded",i,!1)},JanQ:function(t,e){!function(e,i,s){var n={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,buttons:0,pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",hwTimestamp:0,isPrimary:!1,target:null,currentTarget:null,which:0,pageX:0,pageY:0,timeStamp:0},r=Object.keys(n),a=r.map(function(t){return n[t]}),c=r.length,l=!1,h=[0,1,4,2];try{l=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}function o(t,e){var i={},n=t.originalEvent||{};e=e||{};for(var o,s=0;s<c;s++)i[o=r[s]]=e[o]||t[o]||n[o]||a[s];return i.x=i.clientX,i.y=i.clientY,i.pressure=i.pressure||(i.buttons?.5:0),i.buttons||l||(i.buttons=h[i.which]||0),i.originalEvent=t.originalEvent||null,e.preventDefault?i.preventDefault=function(){e.preventDefault(),t.preventDefault()}:(i.preventDefault=function(){t.preventDefault()},i._preventScroll=function(){}),i}var d=e.Map&&e.Map.prototype.forEach?new e.Map:{array:[],size:0,set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(i,n){return this.array.forEach(function(t,e){i.call(n,t,e,this)},this)}},u={eventMap:{},captureInfo:{},eventSourceList:[],registerSource:function(t,e){var i=e.events;i&&(i.forEach(function(t){e[t]&&(this.eventMap[t]=e[t].bind(e))},this),this.eventSourceList.push(e))},register:function(t){for(var e,i=this.eventSourceList.length,n=0;n<i&&(e=this.eventSourceList[n]);n++)e.register.call(e,t)},unregister:function(t){for(var e,i=this.eventSourceList.length,n=0;n<i&&(e=this.eventSourceList[n]);n++)e.unregister.call(e,t)},contains:function(t,e){return!!t.contains&&t.contains(e)},getCommonAncestor:function(t,e){for(;t&&t!==i.documentElement;){if(t.contains&&t.contains(e))return t;t=t.parentNode}return null},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){var e=[],i=t.target,n=this.getCommonAncestor(i,t.relatedTarget);for(t.bubbles=!1;i&&i!==n;)e.push(i),i=i.parentNode;for(;e.length;)t.target=e.pop(),this.fireEvent("pointerenter",t)},leave:function(t){var e=[],i=t.target,n=this.getCommonAncestor(i,t.relatedTarget);for(t.bubbles=!1;i&&i!==n;)e.push(i),i=i.parentNode;for(;e.length;)t.target=e.shift(),this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},listen:function(e,t){t.forEach(function(t){this.addEvent(e,t)},this)},unlisten:function(e,t){t.forEach(function(t){this.removeEvent(e,t)},this)},addEvent:function(t,e){s(t).on(e,this.boundHandler)},removeEvent:function(t,e){s(t).off(e,this.boundHandler)},eventHandler:function(t){var e=this.eventMap[t.type];e&&e(t,t.originalEvent)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var i,n,o,t=(i=e,t=s.Event(t),n=i.preventDefault,o=t.preventDefault.bind(t),jQuery.extend(t,i),t.preventDefault=function(){n(),o()},t);return t._target=t._target||e.target,t},fireEvent:function(t,e){e=this.makeEvent(t,e);return this.dispatchEvent(e)},getTarget:function(t){return this.captureInfo[t.pointerId]||t._target},setCapture:function(t,e){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=e,this.implicitRelease=this.releaseCapture.bind(this,t),s(i).on("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(s.Event("gotpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:e}))},releaseCapture:function(t){var e=this.captureInfo[t];e&&(this.captureInfo[t]=void 0,s(i).off("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(s.Event("lostpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:e})))},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return s.event.trigger(t,null,e,!t.bubbles)},asyncDispatchEvent:function(t){(e.requestAnimationFrame||setTimeout)(this.dispatchEvent.bind(this,t))}};u.boundHandler=u.eventHandler.bind(u);function m(t){if(!d.has(t))throw new Error("InvalidPointerId")}var p,_={POINTER_ID:1,POINTER_TYPE:"mouse",DEDUP_DIST:25,events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){u.listen(t,this.events)},unregister:function(t){u.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,i=this.lastTouches,n=t.clientX,o=t.clientY,s=0,r=i.length;s<r&&(e=i[s]);s++){var a=Math.abs(n-e.x),c=Math.abs(o-e.y);if(a<=this.DEDUP_DIST&&c<=this.DEDUP_DIST)return!0}},prepareEvent:function(t){return o(t,{pointerId:this.POINTER_ID,isPrimary:!0,pointerType:this.POINTER_TYPE})},mousedown:function(t){this.isEventSimulatedFromTouch(t)||(d.has(this.POINTER_ID)&&this.cancel(t),d.set(this.POINTER_ID,t),u.down(this.prepareEvent(t)))},mousemove:function(t){this.isEventSimulatedFromTouch(t)||u.move(this.prepareEvent(t))},mouseup:function(t){var e;this.isEventSimulatedFromTouch(t)||(e=d.get(this.POINTER_ID))&&e.button===t.button&&(u.up(this.prepareEvent(t)),this.cleanupMouse())},mouseover:function(t){this.isEventSimulatedFromTouch(t)||u.enterOver(this.prepareEvent(t))},mouseout:function(t){this.isEventSimulatedFromTouch(t)||u.leaveOut(this.prepareEvent(t))},cancel:function(t){u.cancel(this.prepareEvent(t)),this.cleanupMouse()},cleanupMouse:function(){d.delete(this.POINTER_ID)}},t={POINTER_TYPE:"touch",DEDUP_TIMEOUT:2500,CLICK_COUNT_TIMEOUT:200,events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){u.listen(t,this.events)},unregister:function(t){u.unlisten(t,this.events)},firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===d.size||1===d.size&&d.has(1))&&(this.firstTouch=t.identifier,this.firstTouchTarget=t.target,this.scrolling=!1,this.firstXY={X:t.clientX,Y:t.clientY},this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstTouchTarget=null,this.firstXY=null,this.shouldScrollCache=void 0,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,this.CLICK_COUNT_TIMEOUT)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){return"touchstart"===t||"touchmove"===t?1:0},findTarget:function(t){return i.elementFromPoint(t.clientX,t.clientY)},touchToPointer:function(t){var e=this,i=this.currentTouchEvent,n=t.identifier+2;return o(i,s.extend({},t,{pointerId:n,target:u.captureInfo[n]||this.findTarget(t),bubbles:!0,cancelable:!0,detail:this.clickCount,button:0,buttons:this.typeToButtons(i.type),width:t.webkitRadiusX||t.radiusX||0,height:t.webkitRadiusY||t.radiusY||0,pressure:t.webkitForce||t.force||.5,isPrimary:this.isPrimaryTouch(t),pointerType:this.POINTER_TYPE,preventDefault:function(){e.scrolling=!1,e.shouldScrollCache=!1,e.firstXY=null}}))},processTouches:function(t,e){var i=t.originalEvent.changedTouches;this.currentTouchEvent=t;for(var n,o=0;o<i.length;o++)n=i[o],e.call(this,this.touchToPointer(n))},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e,i=this.scrollTypes;return t===i.EMITTER?e="none":t===i.XSCROLLER?e="X":t===i.YSCROLLER?e="Y":i.SCROLLER.exec(t)&&(e="XY"),e},shouldScroll:function(t){if(void 0!==this.shouldScrollCache)return this.shouldScrollCache;if(!this.firstXY)return!0;for(var e,i=this.firstTouchTarget;null===(e=i.getAttribute("touch-action"))&&(i=i.parentNode)!==document;);var n,o=this.touchActionToScrollType(e);return n="none"!==o&&("XY"===o||void 0===o||(t=t.originalEvent.changedTouches[0],n="Y"===o?"X":"Y",Math.abs(t["client"+o]-this.firstXY[o])>=Math.abs(t["client"+n]-this.firstXY[n]))),this.shouldScrollCache=n,this.firstXY=null,this.firstTouchTarget=null,this.shouldScrollCache},findTouch:function(t,e){for(var i,n=0,o=t.length;n<o&&(i=t[n]);n++)if(i.identifier===e)return!0},vacuumTouches:function(t){var i,n=t.originalEvent.touches;d.size>=n.length&&(i=[],d.forEach(function(t,e){1===e||this.findTouch(n,e-2)||(t=t.out,i.push(t))},this),i.forEach(this.cancelOut,this))},touchstart:function(t){var e=t.originalEvent.changedTouches[0];this.vacuumTouches(t),this.setPrimaryTouch(e),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){d.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),u.over(t),u.enter(t),u.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e,i,n=d.get(t.pointerId);n&&(e=n.out,i=n.outTarget,u.move(t),e&&i!==t.target&&(e.relatedTarget=t.target,t.relatedTarget=i,e.target=i,t.target?(u.leaveOut(e),u.enterOver(t)):(t.target=i,t.relatedTarget=null,this.cancelOut(t))),n.out=t,n.outTarget=t.target)},touchend:function(t){this.dedupSynthMouse(t.originalEvent.changedTouches[0]),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(u.up(t),u.out(t),u.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){u.cancel(t),u.out(t),u.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){d.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=_.lastTouches;this.isPrimaryTouch(t)&&(t={x:t.clientX,y:t.clientY},e.push(t),t=function(t,e){e=t.indexOf(e);-1<e&&t.splice(e,1)}.bind(null,e,t),setTimeout(t,this.DEDUP_TIMEOUT))}},f={POINTER_TYPES:["","unavailable","touch","pen","mouse"],HAS_BITMAP_TYPE:e.MSPointerEvent&&"number"==typeof e.MSPointerEvent.MSPOINTER_TYPE_MOUSE,events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){u.listen(t,this.events)},unregister:function(t){u.unlisten(t,this.events)},prepareEvent:function(t){t=o(t);return this.HAS_BITMAP_TYPE&&(t.pointerType=this.POINTER_TYPES[t.pointerType]),t},cleanup:function(t){d.delete(t)},MSPointerDown:function(t){d.set(t.originalEvent.pointerId,t),u.down(this.prepareEvent(t))},MSPointerMove:function(t){u.move(this.prepareEvent(t))},MSPointerUp:function(t){u.up(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSPointerOut:function(t){u.leaveOut(this.prepareEvent(t))},MSPointerOver:function(t){u.enterOver(this.prepareEvent(t))},MSPointerCancel:function(t){u.cancel(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSGotPointerCapture:function(t){u.fireEvent("gotpointercapture",this.prepareEvent(t))},MSLostPointerCapture:function(t){u.fireEvent("lostpointercapture",this.prepareEvent(t))}},g=e.Element&&Element.prototype.setPointerCapture?(p=function(t,e){t.setPointerCapture(e)},function(t,e){t.releasePointerCapture(e)}):e.navigator.msPointerEnabled?(p=function(t,e){m(e),t.msSetPointerCapture(e)},function(t,e){m(e),t.msReleasePointerCapture(e)}):(p=function(t,e){m(e),u.setCapture(e,t)},function(t,e){m(e),u.releaseCapture(e,t)});s.fn.extend({setPointerCapture:function(t){p(this[0],t)},releasePointerCapture:function(t){g(this[0],t)}}),e._pointerPolyfillInited||(e._pointerPolyfillInited=!0,e.PointerEvent?["move","down","up","over","out","enter","leave","cancel"].forEach(function(t){var e=jQuery.event.fixHooks,t="pointer"+t;e[t]||(e[t]={}),e[t].props=r.concat(e[t].props||[])}):(delete s.event.special.pointerenter,delete s.event.special.pointerleave,e.navigator.msPointerEnabled?u.registerSource("ms",f):(u.registerSource("mouse",_),void 0!==e.ontouchstart&&u.registerSource("touch",t)),u.register(document)))}(window,document,jQuery)},JddL:function(t,e){BEM.DOM.decl("select",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._initButton()}}},_initButton:function(){},_redrawList:function(){var e=this,t=this._getPopup().domElem;return BEM.DOM.update(this.findElem(t,"list"),this.__self._buildItemsHtml(this.elem("control").children())),t=this.findElem(t,"item"),this._curItemIndex=-1,this._items=t.filter(function(){return!e.hasMod($(this),"label","yes")}),this.bindTo(e._items,{pointerclick:function(t){t.preventDefault(),e._onSelectItem(t.data.domElem)},pointerover:function(t){e._onEnterItem(t.data.domElem)},pointerout:function(t){e._onLeaveItem(t.data.domElem)}}),this}},{_buildItemsHtml:function(t){var c={block:"select",elem:"separator",tag:"i"},l=[],h=[];function d(t,e,i){e={block:"select",elem:"item",content:{elem:"text",tag:"span",content:{tag:!1,html:e}},elemMods:{}};return i&&(e.elemMods=i),e}return function t(e,i){var n=e.length;if(n){var o=0;do{var s,r=$(e[o]),a=r.attr("disabled")&&{disabled:"yes"}}while(r.is("optgroup")?(!r.prev().is("optgroup")&&0<o&&l.push(c),h.push(l),(l=[]).push(d(0,r.attr("label"),$.extend({label:"yes"},a,i))),t(r.children(),$.extend({inner:"yes"},a,i)),s=l,(l=h.pop()).push({block:"select",elem:"group",content:s})):l.push(d(0,r.html(),$.extend(a,r.is(":selected")&&{selected:"yes"},i))),++o<n)}}(t),BEMHTML.apply(l)}})},JuX7:function(t,e){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{_buildItem:function(t){var e,i,n=this.__base.apply(this,arguments),o=t[5];return o&&"ad"===o.type&&((e=n.content).descr='<span class="mini-suggest__item-label">'+MBEM.encode(this.params.direct.label)+"</span>",o&&!o.warn&&o.age&&(e.age='<div class="mini-suggest__item-warning mini-suggest__item-warning_type_age">'+MBEM.encode(o.age)+"</div>"),o&&!o.ad&&o.warn&&(i=o.warnlen?" mini-suggest__item-warning_type_"+MBEM.encode(o.warnlen):"",e.warn='<div class="mini-suggest__item-warning-wrap"><div class="mini-suggest__item-warning'+i+'">'+MBEM.encode(o.warn.replace(/&quot;/g,'"'))+(o.age?" &middot; "+MBEM.encode(o.age):"")+"</div></div>")),n},_buildItemContentTitle:function(t,e){return this.__base.apply(this,arguments)+(e.content.age||"")}})},JxS8:function(t,e){home.openWindow=function(t){var e=window.open("","_blank");e.opener=null,e.location=t}},K3Dn:function(t,e){BEM.DOM.declMix("mix-tabber-labels-keyboard",{_selectTabByKeyboard:function(t,e){var i=this.elem("tab"),n=this._mapKeyToIndex(this._selectedKey);"relative"===t?n+=e:"absolute"===t&&(n=e),n<0?n=i.length-1:n>=i.length&&(n=0),n=i.eq(n),this._selectTab(String(n.data("key")),{focus:!0}),home.stat.logPath("click",n.attr(home.stat.attr))}},{live:function(){this.__base.apply(this,arguments),this.liveBindKey("tab","left right",function(t){return this._selectTabByKeyboard("relative",t.which===BEM.KEYS.LEFT?-1:1),!1}),this.liveBindKey("tab","home end",function(t){return this._selectTabByKeyboard("absolute",t.which===BEM.KEYS.HOME?0:-1),!1})}})},KC5a:function(t,e,i){i.d(e,"a",function(){return n});var o=i("AZC8"),s={plus:{"expires-today":" ","expires-days":["O %d ","O %d ","O %d "],plus:".","subscription-expires-days":["O %d  ","O %d  ","O %d  "],"subscription-expires-today":"  "},domik:{active:""},header:{yandex_id_domik:" ",favorites:"",tune:"",logout:"",adduser:"<br/>",switchuser:"   %s",exituser:"    %s"},messenger:{title2:"",title:""},loading:{retry:"  ",general_error:"   "},month_accus:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:"",11:"",12:""},wday:{0:"",1:"",2:"",3:"",4:"",5:"",6:""},news:{switch:{all:"  ",allnews:" ",auto:"",blogs:" ",blogs_etalon:" ",blogs_exp_1:"",blogs_exp_2:"",blogs_exp_3:"  ",blogs_exp_4:" ",business:"",computers:"hi-tech",culture:"",daily_summary:" ",educ:"",health:"",in_world:" ",incident:"",index:" ",index_tablet:"",news:"",none:" ",politics:"",school:"",sci:"",science:"",society:"",sport:"",travels:"",world:" "},desc:"    ",menu:{favorites:" "},favourite_hover:"   ",nowmedia_title:"  "},covid:{subtitle:" "},a11y:{news:"",stocks:"",etrains:"",close:"",services:"",afisha:""},widgetcontrol:{more:"",setup:"",hide:"",hide2:"",delete:"",setup2:" ",show:" ",confirm_delete_all:"     ?",delete_all:" "},rates:{newalt:{ceni:"%s:  ",index:"%s:  ",korz:" ",kurs:"%s:  "},bigdiff:"     %d%%",rd_today:"",rd_tomorrow:"",buying:"",selling:"",title:"",stocks:{1:{short:"USD",short_caps:"<c>USD</c>",slicealt:"  ",source:"   ",text:"USD ",text_caps:"<c>USD </c>"},5:{short:"USD+EUR",short_caps:"<c>USD+EUR</c>",slicealt:"  ",text:"USD+EUR",text_caps:"<c>USD+EUR</c>"},6:{text:"EUR/USD",text_caps:"<c>EUR/USD</c>"},7:{text:"USD/JPY",text_caps:"<c>USD/JPY</c>"},10:{text:"",text_caps:"",trsearch:""},12:{text:"Dow (DJIA)",text_caps:"Dow <c>(DJIA)</c>",trsearch:""},13:{text:"FTSE",text_caps:"<c>FTSE</c>",trsearch:""},17:{text:"NASDAQ",text_caps:"<c>NASDAQ</c>",trsearch:""},18:{short:"USD",short_caps:"<c>USD</c>",slicealt:" ",text:"USD  ",text_caps:"<c>USD  </c>"},19:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:" ",text:"RUB  ",text_caps:"<c>RUB  </c>"},23:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"  ",source:"   ",text:"EUR ",text_caps:"<c>EUR </c>"},24:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:"  ",text:"GBP ",text_caps:"<c>GBP </c>"},25:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:"  ",text:"JPY ",text_caps:"<c>JPY </c>"},29:{text:"  ",text_caps:"<c> </c> "},30:{text:"USD/EUR",text_caps:"<c>USD/EUR</c>"},31:{text:"USD/CHF",text_caps:"<c>USD/CHF</c>"},32:{text:"GBP/USD",text_caps:"<c>GBP/USD</c>"},42:{text:"YNDX",text_caps:"<c>YNDX</c>",trsearch:""},43:{text:"YNDX(MOEX)",text_caps:"<c>YNDX(MOEX)</c>"},50:{text:" ",text_caps:"<c> </c>",trsearch:""},54:{text:"",text_caps:"<c></c>"},58:{text:" -",text_caps:" -"},60:{text:"",text_caps:""},61:{text:" ",text_caps:" "},64:{text:" ",text_caps:"<c></c> "},68:{text:"-",text_caps:"-"},69:{text:"",text_caps:""},89:{text:"",text_caps:""},183:{text:" ",text_caps:"<c></c> "},193:{text:"-5 ",text_caps:"<c>-</c><d>5</d> "},235:{text:"-",text_caps:"<c>-</c>"},282:{text:" ",text_caps:" "},310:{text:"",text_caps:""},379:{text:"-",text_caps:"-"},1006:{short:"",short_caps:"",source:"",text:"",text_caps:"",trsearch:""},1007:{text:"Hang Seng",text_caps:"Hang Seng",trsearch:""},1013:{text:"MOEX",text_caps:"<c>MOEX</c>",trsearch:""},1032:{text:"Bovespa",text_caps:"Bovespa",trsearch:""},1500:{text:"",text_caps:"",trsearch:""},1501:{text:"",text_caps:"",trsearch:""},1502:{text:"",text_caps:"",trsearch:""},1503:{text:"",text_caps:""},1504:{text:"",text_caps:"",trsearch:""},1505:{text:"",text_caps:"",trsearch:""},1506:{text:"",text_caps:"",trsearch:""},1507:{text:"",text_caps:"",trsearch:""},2e3:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"MOEX",source:" MOEX",text:"EUR MOEX",text_caps:"<c>EUR MOEX</c>"},2002:{short:"USD",short_caps:"<c>USD</c>",slicealt:"MOEX",source:" MOEX",text:"USD MOEX",text_caps:"<c>USD MOEX</c>"},2010:{short:"EUR Forex",short_caps:"<c>EUR Forex</c>",slicealt:"Forex",source:" Forex",text:"EUR Forex",text_caps:"<c>EUR Forex</c>"},2011:{short:"USD Forex",short_caps:"<c>USD Forex</c>",slicealt:"Forex",source:" Forex",text:"USD Forex",text_caps:"<c>USD Forex</c>"},2400:{text:"MOEX-10",text_caps:"<c>MOEX-</c><d>10</d>",trsearch:""},2503:{text:" -2",text_caps:"<c> -</c><d>2</d>",trsearch:""},2505:{text:"Nikkei 225",text_caps:"Nikkei 225",trsearch:""},2506:{text:"S&P 500",text_caps:"S&P 500",trsearch:""},3001:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:"",text:"GBP ",text_caps:"<c>GBP </c>"},3003:{short:"BYR",short_caps:"<c>BYR</c>",slicealt:"",text:"BYR ",text_caps:"<c>BYR </c>"},3005:{short:"USD",short_caps:"<c>USD</c>",slicealt:"",text:"USD ",text_caps:"<c>USD </c>"},3009:{short:"KZT",short_caps:"<c>KZT</c>",slicealt:"",text:"KZT ",text_caps:"<c>KZT </c>"},3015:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:"",text:"RUB ",text_caps:"<c>RUB </c>"},3024:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:"",text:"CHF ",text_caps:"<c>CHF </c>"},3026:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:"",text:"JPY ",text_caps:"<c>JPY </c>"},3027:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"",text:"EUR ",text_caps:"<c>EUR </c>"},3033:{short:"BYN",short_caps:"<c>BYN</c>",slicealt:"",text:"BYN ",text_caps:"<c>BYN </c>"},4e3:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:" ",text:"EUR  ",text_caps:"<c>EUR  </c>"},4001:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:" ",text:"CHF  ",text_caps:"<c>CHF  </c>"},4002:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:" ",text:"GBP  ",text_caps:"<c>GBP  </c>"},4003:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:" ",text:"JPY  ",text_caps:"<c>JPY  </c>"},4004:{short:"UAH",short_caps:"<c>UAH</c>",slicealt:" ",text:"UAH  ",text_caps:"<c>UAH  </c>"},4005:{short:"KZT",short_caps:"<c>KZT</c>",slicealt:" ",text:"KZT  ",text_caps:"<c>KZT  </c>"},4010:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:" ",source:"  ",text:"EUR  ",text_caps:"<c>EUR  </c>"},4011:{short:"USD",short_caps:"<c>USD</c>",slicealt:" ",source:"  ",text:"USD  ",text_caps:"<c>USD  </c>"},4012:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:" ",source:"  ",text:"CHF  ",text_caps:"<c>CHF  </c>"},4013:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:" ",text:"GBP  ",text_caps:"<c>GBP  </c>"},4014:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:" ",text:"JPY  ",text_caps:"<c>JPY  </c>"},4015:{short:"UAH",short_caps:"<c>UAH</c>",slicealt:" ",text:"UAH  ",text_caps:"<c>UAH  </c>"},4016:{short:"KZT",short_caps:"<c>KZT</c>",slicealt:" ",text:"KZT  ",text_caps:"<c>KZT  </c>"},4017:{short:"PLN",short_caps:"<c>PLN</c>",slicealt:" ",text:"PLN  ",text_caps:"<c>PLN  </c>"},4018:{short:"TRY",short_caps:"<c>TRY</c>",slicealt:" ",text:"TRY  ",text_caps:"<c>TRY  </c>"},4019:{short:"BGN",short_caps:"<c>BGN</c>",slicealt:" ",text:"BGN  ",text_caps:"<c>BGN  </c>"},4020:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:" ",source:"  ",text:"RUB  ",text_caps:"<c>RUB  </c>"},5e3:{short:"USD",short_caps:"<c>USD</c>",slicealt:" ",source:"  ",text:"USD  ",text_caps:"<c>USD  </c>"},5001:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:" ",source:"  ",text:"EUR  ",text_caps:"<c>EUR  </c>"},5002:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:" ",source:"  ",text:"RUB  ",text_caps:"<c>RUB  </c>"},5003:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:" ",text:"CHF  ",text_caps:"<c>CHF  </c>"},5004:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:" ",text:"GBP  ",text_caps:"<c>GBP  </c>"},5005:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:" ",text:"JPY  ",text_caps:"<c>JPY  </c>"},5006:{short:"UAH",short_caps:"<c>UAH</c>",slicealt:" ",text:"UAH  ",text_caps:"<c>UAH  </c>"},5007:{short:"BYR",short_caps:"<c>BYR</c>",slicealt:" ",text:"BYR  ",text_caps:"<c>BYR  </c>"},5009:{short:"BYN",short_caps:"<c>BYN</c>",slicealt:" ",text:"BYN  ",text_caps:"<c>BYN  </c>"},5100:{text:"KASE",text_caps:"<c>KASE</c>",trsearch:""},10006:{short:"",short_caps:"",slicealt:"  ",text:" ",text_caps:" <c></c>"},10007:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:"  ",text:"CHF ",text_caps:"<c>CHF </c>"},10009:{short:"KZT",short_caps:"<c>KZT</c>",slicealt:"  ",text:"KZT ",text_caps:"<c>KZT </c>"},10010:{short:"BYR",short_caps:"<c>BYR</c>",slicealt:"  ",text:"BYR ",text_caps:"<c>BYR </c>"},10011:{short:"TL",short_caps:"<c>TL</c>",slicealt:"  ",text:"TL ",text_caps:"<c>TL </c>"},10012:{short:"UZS",short_caps:"<c>UZS</c>",slicealt:"  ",text:"UZS ",text_caps:"<c>UZS </c>"},10014:{short:"TJS",short_caps:"<c>TJS</c>",slicealt:"  ",text:"TJS ",text_caps:"<c>TJS </c>"},10016:{short:"MDL",short_caps:"<c>MDL</c>",slicealt:"  ",text:"MDL ",text_caps:"<c>MDL </c>"},10017:{short:"KGS",short_caps:"<c>KGS</c>",slicealt:"  ",text:"KGS ",text_caps:"<c>KGS </c>"},10018:{short:"CNY",short_caps:"<c>CNY</c>",slicealt:"  ",text:"CNY ",text_caps:"<c>CNY </c>"},10019:{short:"KRW",short_caps:"<c>KRW</c>",slicealt:"  ",text:"KRW ",text_caps:"<c>KRW </c>"},10020:{short:"INR",short_caps:"<c>INR</c>",slicealt:"  ",text:"INR ",text_caps:"<c>INR </c>"},10021:{short:"AMD",short_caps:"<c>AMD</c>",slicealt:"  ",text:"AMD ",text_caps:"<c>AMD </c>"},10022:{short:"AZN",short_caps:"<c>AZN</c>",slicealt:"  ",text:"AZN ",text_caps:"<c>AZN </c>"},10040:{short:"BYN",short_caps:"<c>BYN</c>",slicealt:"  ",text:"BYN ",text_caps:"<c>BYN </c>"},2e4:{text:"-80",text_caps:"<c>-</c><d>80</d>"},20001:{text:"-92",text_caps:"<c>-</c><d>92</d>"},20002:{text:"-95",text_caps:"<c>-</c><d>95</d>"},20003:{text:"-98",text_caps:"<c>-</c><d>98</d>"},20010:{text:"",text_caps:""},40001:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:"",text:"GBP ",text_caps:"<c>GBP</c> "},40010:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:"",text:"RUB ",text_caps:"<c>RUB</c> "},40011:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:"",text:"JPY ",text_caps:"<c>JPY</c> "},40023:{short:"KZT",short_caps:"<c>KZT</c>",slicealt:"",text:"KZT ",text_caps:"<c>KZT</c> "},40032:{short:"BYR",short_caps:"<c>BYR</c>",slicealt:"",text:"BYR ",text_caps:"<c>BYR</c> "},40035:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:"",text:"CHF ",text_caps:"<c>CHF</c> "},40036:{short:"PLN",short_caps:"<c>PLN</c>",slicealt:"",text:"PLN ",text_caps:"<c>PLN</c> "},40042:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"",source:"",text:"EUR ",text_caps:"<c>EUR</c> "},40043:{short:"USD",short_caps:"<c>USD</c>",slicealt:"",source:"",text:"USD ",text_caps:"<c>USD</c> "},40048:{short:"HUF",short_caps:"<c>HUF</c>",slicealt:"",text:"HUF ",text_caps:"<c>HUF</c> "},40049:{short:"USD",short_caps:"<c>USD</c>",slicealt:".",text:"USD .",text_caps:"<c>USD</c> ."},40050:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:".",text:"EUR .",text_caps:"<c>EUR</c> ."},40051:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:".",text:"RUB .",text_caps:"<c>RUB</c> ."},40052:{short:"USD",short_caps:"<c>USD</c>",slicealt:"",text:"USD",text_caps:"<c>USD</c>",trsearch:""},40053:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"",text:"EUR",text_caps:"<c>EUR</c>",trsearch:""},40054:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:"",text:"RUB",text_caps:"<c>RUB</c>"},40055:{short:"CHF",short_caps:"<c>CHF</c>",slicealt:"",text:"CHF",text_caps:"<c>CHF</c>"},40056:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:"",text:"GBP",text_caps:"<c>GBP</c>"},40057:{short:"JPY",short_caps:"<c>JPY</c>",slicealt:"",text:"JPY",text_caps:"<c>JPY</c>"},40058:{text:"",text_caps:"",trsearch:""},40080:{text:"",text_caps:"",trsearch:""},40090:{short:"USD",short_caps:"<c>USD</c>",slicealt:".",text:"USD .",text_caps:"<c>USD</c> ."},40091:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:".",text:"EUR .",text_caps:"<c>EUR</c> ."},40092:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:".",text:"RUB .",text_caps:"<c>RUB</c> ."},6e4:{short:"BTC/USD",short_caps:"<c>BTC/USD</c>",slicealt:"Coindesk",text:"BTC/USD",text_caps:"<c>BTC/USD</c>"},71e3:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"KZT",source:"",text:"EUR KZT",text_caps:"<c>EUR</c> KZT"},71001:{short:"USD",short_caps:"<c>USD</c>",slicealt:"KZT",source:"",text:"USD KZT",text_caps:"<c>USD</c> KZT"},71002:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:"KZT",source:"",text:"RUB KZT",text_caps:"<c>RUB</c> KZT"},75e3:{short:"USD",short_caps:"<c>USD</c>",slicealt:"  ",source:"   ",text:"USD   ",text_caps:"<c>USD   </c>"},75001:{short:"EUR",short_caps:"<c>EUR</c>",slicealt:"  ",source:"   ",text:"EUR   ",text_caps:"<c>EUR   </c>"},75002:{short:"RUB",short_caps:"<c>RUB</c>",slicealt:"  ",source:"   ",text:"RUB   ",text_caps:"<c>RUB   </c>"},75003:{short:"GBP",short_caps:"<c>GBP</c>",slicealt:"  ",source:"   ",text:"GBP   ",text_caps:"<c>GBP   </c>"},75004:{short:"KZT",short_caps:"<c>KZT</c>",slicealt:"  ",source:"   ",text:"KZT   ",text_caps:"<c>KZT   </c>"},more:"",x1:{text:"   "},x10:{text:"  "},x11:{text:" "},x13:{text:" "},x2:{text:"-"},x3:{text:" "},x4:{text:" "},x5:{text:"  "},x6:{1:{text:"  ",text_touch:" "},text:" "},x7:{1:{text:"  ",text_touch:" "},text:"  "},x8:{1:{text:"  ",text_touch:" "},text:"  "},x9:{text:"  "}}},nodata:" ",head:{region:" "},"voice-search":{popup:{noaccess:{title:"    ",subtitle:"   ,    "},connectionproblem:{subtitle:" ",title:"   "},unknownerror:{title:" "},"chrome-permission":{subtitle:"  ,    %icon%   "},howto:"  ","permission-hint":{title:"    ",subtitle:"     ,       "},speak:"","continue-search":" ",waitsecond2:""}},direct:{not_interest:" ",bought_already:" ",spam:"",thanks:",  ",hide:" :",close_adv:" "},informationsMessages:{settingsNotSaved:"      .",beforeReset:" ,       ?     ."},etrain:{shortTitle:"",notrains:"    ",express:""},notifications:{unread_full:"%count %word",unread_word:[" "," "," "],no_unread:"  "},tabs:{more:""},language_selector:"ru",media:{zen:{title:"",desc:"  ",desc2:"  "},event:{stream_now:"  "}},widgets_list:{title:" ",footer:" ",desc:"     ",promo_title:"     ",promo_text:"-                 ,     ."},services:{title:""},promo_event:{subscribe_title:"",subscribe_title2:"",subscribed:" "},desktopNotifications:{navi:{more:""},menu:{ban:" ",close:"",collapse:"",expand:" ",settings:"",setup:"",toggle:""},route:{switch:"  "},mail:{empty:" "}},"stream-inserts":{shows:{title:"  .",desc:"    "}},kinopoisk:{desc:"   ",rating:"  %s",title_stream_exp:" "},stream:{"restriction-age":" "},games:{games:"",description:"  ",rating:"  %s"},afisha:{all_films_today:"  ",buy:" ",cards:" ",cinema:"",cinemaNoSessions:"    ",cinemaSeeNextDay:"   ",cinemaSeeOtherDays:"    ",cityDayText:"  &nbsp;",cityDayTitle:"%s  &nbsp;<b>%s</b>",cityday:"  &nbsp;",citydayShort:" ",citydayToday:"&#32;",concerts:"",defaultTab:"",defaultTabLong:" ",desc:"     ",desc_inserts:"     ",elki:"",events:"",favoritePlace:" ",festival:"",footer:" ",from:" %s",geolocationFail:"  ",geolocationInaccuracy:"  ",multiple_locations:"    ",myCinemas:" ",nearestCinemas:"",nearestCinemasFull:" ",newyear:" ",noCinemas:"   ",popularFilms:"<br>",premiere:"",premiere_in:" %s",reload:"",schedule:" ",scheduleError:"   ",scheduleInProgress:" ",scheduleTryAgain:"  ",searchInProgress:"   ",show:"",showObjects:"  ",showObjectsShort:" ",since_date:" %s",sorry:",     ",sport:"",summer:"  ",theatres:"",title:""},months_short_genetive:{apr:"",aug:"",dec:"",feb:"",jan:"",jul:"",jun:"",mar:"",may:"",nov:"",oct:"",sep:""},chats:{title_channels:"   "},tutor:{description:"  2020    "},hockey:{hide_score:" ",nhl_title:".  2019/2020",nhl_desc:"    ",auth_promo:"  ,  &nbsp;  ",live:" ",vod:" ",finishB:"",finishOT:"",full_standings:"  ",tournament_table:" ",points:"",games:""},general:{close:""},mail:{login:""},tumbler:{on:"",off:""},traffic:{personal:{hour_abbr:"&nbsp;&nbsp;",minutes_abbr:"&nbsp;"}},market:{cart:""},foot:{promo_tooltip:"  <br>   "},hidden_blocks:{cancel:"",save:"",title:"  "},pushes:{notice:{prompt:{cancel:", ",ok:"  ",title:"  ",text:"     ,    .<br>     .      ."},popup:{ok:"",text:"      ."},wait:{title:" <b> </b><br>  ."},error:{title:"-   ",text:",     .",cancel:"",web_error:"   .  "}},sup_button:{unsubscribe:"",subscribe:""}}};function n(t){for(var e=t.split("."),i=s,n=0;n<e.length;++n){if(!i||!i[e[n]])return Object(o.a)({message:"undefined translation "+t,block:"l10n"}),"";i=i[e[n]]}return i}},KVsd:function(t,e){MBEM.decl({block:"mini-suggest",modName:"favicon",modVal:"yes"},{_buildFavicon:function(t){return'<div class="mini-suggest__favicon"><div class="mini-suggest__favicon-icon" style="background-image: url('+MBEM.encode(this.params.faviconUrl+MBEM.resolveUrl(t,!0))+'?size=32&stub=1)"></div></div>'},_needFavicon:function(t){return"nav"===t[0]&&"market"!==t[5].type&&"video"!==t[5].type}})},KjMM:function(t,e){MBEM.decl({block:"mini-suggest",modName:"theme",modVal:"tile"},{_buildPopupClassList:function(){return this.__base()+" mini-suggest__popup_theme_tile"}})},LFQX:function(t,e){!function(i){"use strict";for(var o,s,r,n,t=["ms","moz","webkit","o"],a={},c=[],e=0;e<t.length&&!i.requestAnimationFrame;++e)i.requestAnimationFrame=i[t[e]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[t[e]+"CancelAnimationFrame"]||i[t[e]+"CancelRequestAnimationFrame"];void 0===i.requestAnimationFrame&&(s=+new Date,r=0,n=function(){var t=c,e=a;c=[],a={},r=+new Date;for(var i=o=0,n=t.length;i<n;i++)e[t[i].requestid]||t[i].callback(r-s)},i.requestAnimationFrame=function(t){var e=Date.now()+Math.round(1e4*Math.random());return c.push({requestid:e,callback:t}),o||(t=+new Date,t=Math.max(0,16-(t-r)),o=i.setTimeout(n,t)),e},i.requestAnimationFrame.fallback=!0),void 0===i.cancelAnimationFrame&&(i.cancelAnimationFrame=function(t){t&&!a[t]&&(a[t]=1)})}(window)},LzIu:function(t,e){BEM.DOM.decl("b-wdgt-remove",{onSetMod:{js:function(){this.popup=this.findBlockOn("popup"),this.bindTo("do","click",this.yes),this.popup.on("hide",this.no,this),this.bindTo("cancel","click",this.hide)}},show:function(t,e,i,n){return this.accepted=!1,this.yes=e,this.no=i,this.popup.show(n||t.domElem),this},hide:function(){this.popup.hide()},no:function(){return this.accepted||this.no(),this.no=this.yes=null,this},yes:function(){return this.yes(),this.accepted=!0,this.popup.hide(),this}},{live:!0})},"M0/h":function(t,e){BEM.DOM.decl({block:"radio-button",baseBlock:"radiobox"},{onElemSetMod:{radio:{pressed:{yes:function(){this.delMod(this.elem("radio","pressed","yes"),"pressed")}}}},_onPointerPress:function(t){this._pressedRadio=t.data.domElem,this.isDisabled(this._pressedRadio)||(this.setMod(this._pressedRadio,"pressed","yes"),this.bindToDoc("pointerrelease",this._onPointerRelease))},_onPointerRelease:function(e){var i=this._pressedRadio;delete this._pressedRadio,this.delMod(i,"pressed"),this.afterCurrentEvent(function(){var t;this.domElem&&((t=this.findElem(i,"control")).prop("checked")||!i.is(e.target)&&!i.find(e.target).length||t.trigger("change").focus())}),this.unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("radio","pointerpress",function(t){this._onPointerPress(t)}),this.__base()}})},MA0M:function(t,e){home.pseudoReady(function(){var a=window.home&&home.getData&&home.getData("szm.data");a&&setTimeout(function(){var t=window.devicePixelRatio||1,e=screen.width,i=screen.height,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=home.getData("szm.data.szm",null),r=home.getData("szm.data.swap")||!1,t=String(t).replace(".","_");r&&e<i&&(r=e,e=i,i=r),s&&function(t,e){for(var i in e)if(e.hasOwnProperty(i)&&(!t[i]||.01<Math.abs(parseFloat(t[i])-parseFloat(e[i]))))return;return 1}(s,{dpr:t,screenX:e,screenY:i,viewportX:n,viewportY:o})||((new Image).src=a.url+(t+":")+e+"x"+i+":"+n+"x"+o)},a.timeout)})},ME3r:function(t,e){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.elem("control"),e=$.dom.getActiveElement(),i=this.params.autoFocus&&!e.is("input, textarea");e[0]!==t[0]&&!i||(this.setMod("focused","yes")._focused=!0),this.params.shortcut&&this.bindToDoc("keydown",function(t){t.ctrlKey&&t.which===BEM.blocks.keycodes.UP&&!$(t.target).is("input, textarea")&&this.setMod("focused","yes")})}}},_focus:function(){if(!1===this.__base())return!1;var t,e=this.elem("control")[0];e.createTextRange&&!e.selectionStart&&((t=e.createTextRange()).move("character",e.value.length),t.select())},destruct:function(){this.params.shortcut&&this.unbindFromDoc("keydown"),this.__base.apply(this,arguments)},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_updateValNextTick:function(){this.afterCurrentEvent(function(){this.domElem&&this._updateVal()})}},{live:function(){return this.liveBindTo("box","pointerover pointerout",function(t){this.hasMod("disabled")||this.elem("box")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}),this.liveBindTo("control","dragenter"),this.liveBindTo("control","dragend",function(){this._updateValNextTick()}),"documentMode"in document&&document.documentMode<=8&&(this.liveBindTo("control","focusin",function(){this.bindTo("control","propertychange keyup",this._updateVal),this.bindTo("control","cut paste",function(){this._updateValNextTick()})}),this.liveBindTo("control","focusout",function(){this.unbindFrom("control","cut paste"),this.unbindFrom("control","propertychange keyup"),this._updateValNextTick()})),this.__base()}})},MXfC:function(t,e){window.MBEM=window.MBEM||{}},MoMy:function(t,e){BEM.DOM.decl({block:"divjson2",baseMix:["mix-tabber","mix-divjson2"]},{},{live:function(){var t=this.__base.apply(this,arguments);return this.liveBindKey("state-setter","space enter",function(t){return this._setStates(t.data.domElem.data("set-state"),t.target,!0),!1}),t}})},NMwc:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),window.Ya&&Ya.Rum&&Ya.Rum.sendTimeMark&&Ya.Rum.sendTimeMark("695.1309")},_getNavSource:function(){return"/"}})},NfXW:function(t,e){var l="Promise"in window&&!Promise._unhandledRejectionFn;$(function(){var t=home.getData("tech-counters");if(t){home.stat.logPath("tech","tech.localStorage."+Number(!home.disabledLS));var e=!1;try{e=window.matchMedia("(prefers-color-scheme: dark)").matches}catch(t){}home.stat.logPath("tech","tech.dark."+Number(e)),home.stat.logPath("tech","tech.promise."+Number(l));e="IntersectionObserver"in window&&!IntersectionObserver.prototype.THROTTLE_TIMEOUT;home.stat.logPath("tech","tech.io."+Number(e));e="Proxy"in window;home.stat.logPath("tech","tech.es6."+Number(e));var i,n,o,s,r,a,e=!!(new Image).loading;home.stat.logPath("tech","tech.loading."+Number(e));try{!matchMedia("(any-pointer: coarse)").matches||t.isTablet||t.isTouch||(n=-1<(i=navigator.userAgent||"").indexOf("Mac OS"),o=-1<i.indexOf("iPhone OS"),s=matchMedia("(any-hover: hover)").matches,r=Math.min(screen.width,screen.height),a=s?"touchscreen":n||o?r<700?"iphone":"ipad":r<600?"androidphone":"androidpad",home.stat.logPath("tech","tech.touch."+a))}catch(t){}var c=new Date;BEM.channel("i-scroll-event").onFirst("scroll",function(){home.stat.logPath("tech","tech.scroll",{customParams:{timems:new Date-c}})})}})},NpOj:function(t,e){BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base(),this._tailPos={}}}},_calcTailPos:function(t){var e=t.to,i=this._positions[t.key],n=t.tail.axis,t={};return"top"===e||"bottom"===e?t.left=this._calcTailLeft(n,i):"left"!==e&&"right"!==e||(t.top=this._calcTailTop(n,i)),t},_calcTailTop:function(t,e){var i=0,n=this.getOwnerSize(),o=this.getOwnerPos(),s=this.params.tail.width,r=this.getPopupSize(),a=r.height,c=o.top-e.top,n=e.top+r.height-(o.top+n.height);return 0<c&&(i+=c,a-=c),0<n&&(a-=n),"middle"===t?i+=(a-=s)/2:"bottom"===t&&(i+=a-=s),i=i<0?0:i},_calcTailLeft:function(t,e){var i=0,n=this.getOwnerSize(),o=this.getOwnerPos(),s=this.params.tail.width,r=this.getPopupSize(),a=o.left-e.left,c=r.width,n=e.left+r.width-(o.left+n.width);return 0<a&&(i+=a,c-=a),0<n&&(c-=n),"center"===t?i+=(c-=s)/2:"right"===t&&(i+=c-=s),i},_calcOffsetByTail:function(t){var e=this.params.tail.height,i={};switch(t.to){case"top":i={top:-e};break;case"bottom":i={top:e};break;case"right":i={left:e};break;case"left":i={left:-e}}return i},_calcTailOffset:function(t){var e={},i=t.to,n=t.tail,t=n.offset,n=n.axis;return!!t&&("top"===i||"bottom"===i?(e.left=0,"left"===n?e.left+=t.left:"center"===n?(t.left&&(e.left+=t.left),t.right&&(e.left-=t.right)):"right"===n&&(e.left-=t.right)):"left"!==i&&"right"!==i||(e.top=0,"top"===n?e.top+=t.top:"middle"===n?(t.top&&(e.top+=t.top),t.bottom&&(e.top-=t.bottom)):"bottom"===n&&(e.top-=t.bottom)),e)},_resetTailPos:function(t){return t?this._tailPos[t]=null:this._tailPos={},this},_pushTailPos:function(t,e){return this._pushPosTo(this._tailPos,t,e),this}})},NpeO:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this.on("popup-show",function(){MBEM.channel("mini-suggest").trigger("show")}),this.on("input-change",function(){MBEM.channel("mini-suggest").trigger("input-change")}),this.on("start-input",function(){MBEM.channel("mini-suggest").trigger("start-input")})},_fixScrollTop:function(){}})},OGeV:function(t,e){var i=MBEM.blocks,a=MBEM.decl;MBEM.decl=function(n,o,t){if(o=o||{},"object"==typeof n&&n.modName){var s,r=(n.block in i?i[n.block]:MBEM).prototype;for(s in o)o.hasOwnProperty(s)&&"function"==typeof o[s]&&function(){var t=n,e=r[s],i=o[s];o[s]=function(){return this._simpleCheckMod(t.modName,t.modVal)?i.apply(this,arguments):e&&this.__base?e.apply(this,arguments):void 0}}();n=n.block}return a(n,o,t)},MBEM.prototype.__internalConstructor=MBEM.override(MBEM.prototype.__internalConstructor,function(t){this._modCache=t&&t.mods||this._extractInitMods(t),this.__base.apply(this,arguments)}),MBEM.prototype._extractInitMods=function(t){var e={};if(!t||!t.node)return e;for(var i,n,o=MBEM.cls.list(t.node.className),s=this.__self._name+"_",r=0;r<o.length;++r)0===o[r].indexOf(s)&&(-1<(n=(i=o[r].substring(s.length)).indexOf("_"))?e[i.substring(0,n)]=i.substring(n+1):e[i]=!0);return e},MBEM.prototype._simpleCheckMod=function(t,e){return void 0===e?Boolean(this._modCache[t]):this._modCache[t]===e}},OPCa:function(t,e){var n;n=window,BEM.decl("i-visibilitychange",{init:function(){var t=n.document,e=this.changeThis(this.normalize);this.hiddenProp="hidden",this.hiddenProp in t?t.addEventListener("visibilitychange",this.changeThis(function(){this.change(t.hidden)})):(this.hiddenProp="mozHidden")in t?t.addEventListener("mozvisibilitychange",e):(this.hiddenProp="webkitHidden")in t?t.addEventListener("webkitvisibilitychange",e):(this.hiddenProp="msHidden")in t?t.addEventListener("msvisibilitychange",e):"onfocusin"in t?t.onfocusin=t.onfocusout=e:n.onpageshow=n.onpagehide=n.onfocus=n.onblur=e},normalize:function(t){var e=n.document,i={focus:!1,focusin:!1,pageshow:!1,blur:!0,focusout:!0,pagehide:!0},t=(t=t||n.event).type in i?i[t.type]:e[this.hiddenProp];e.hidden=t,$(n).trigger("visibilitychange"),this.change(t)},change:function(t){this.channel("sys").trigger("visibilitychange",{hidden:t}),this.channel("sys").trigger(t?"hidden":"visible")}}),BEM.create("i-visibilitychange").init()},OTBI:function(t,e){BEM.DOM.decl("tooltip",{onSetMod:{js:{inited:function(){this._popup=null,this._owner=null}},shown:{yes:function(){this._getPopup().setMod("visible","yes").unbindFromDoc("keydown")},"":function(){this._getPopup().delMod("visible")}}},getOwner:function(){return this._owner},setOwner:function(t){return this._owner=t,this._getPopup().setAnchor(t),this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this.redraw()},redraw:function(){return this.hasMod("shown","yes")&&this._getPopup().redraw(),this},destruct:function(){this.delMod("shown"),this.__base.apply(this,arguments)},_getPopup:function(){return this._popup||(this._popup=this.findBlockOn("popup2").on("beforeOpen",this._onPopupShow,this).on("beforeClose",this._onPopupHide,this)),this._popup},_onPopupShow:function(){this.trigger("show")},_onPopupHide:function(){this.delMod("shown").trigger("hide")},_onClick:function(){this.trigger("click").delMod("shown")}},{live:function(){this.liveBindTo("click",function(){this._onClick()})}})},OTT8:function(t,e){MBEM.decl("mini-suggest",{_buildItemContentMain:function(t,e){var i=this._buildItemContentTitle(t,e),e=this._buildItemContentInfo(t,e)+this._buildItemContentAdds(t,e)+this._buildItemContentButton(t,e);return(i=i&&("nav"===t[0]||"fact"===t[0])?'<span class="mini-suggest__item-title">'+i+"</span>":i)+(e=("nav"===t[0]||"fact"===t[0])&&t[5]&&!t[5].inline?'<div class="mini-suggest__item-subtitle">'+e+"</div>":e)},_buildItemContentInfo:function(t,e){var i=this.__base.apply(this,arguments),n="";return this._shouldAddContentInfoArrow(t)&&(n+='<span class="mini-suggest__item-info-arrow"></span>'),n+=e.content.icon||"",i&&(n+='<span class="mini-suggest__item-info">'+i+"</span>"),n},_shouldAddContentInfoArrow:function(t){return t[5]&&t[5].inline&&"fact"===t[0]&&!t[5].icon}})},OTXn:function(t,e){MBEM.closest=function(t,e){for(;t&&t!==document;){if(MBEM.cls.contains(t,e))return t;t=t.parentNode}}},OToY:function(t,e){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&this.on("adb",this._handleAdb,this)},_handleAdb:function(t,e){++this._adb.adr,e&&e.hidden&&(++this._adb.adh,this._hasAdblock()&&++this._adb.adhb)},_clearCounters:function(){this.__base.apply(this,arguments),this._adb={adr:0,adh:0,adhb:0}},_getParamsList:function(){var t=this.__base();return t.push(this._adb),t},_hasAdblock:function(){return this.params.direct.adb}})},OlQb:function(t,e){MBEM.decl({block:"mini-suggest",modName:"arrows",modVal:"yes"},{_onArrowClick:function(t){var e,i=MBEM.closest(t,"mini-suggest__item");i&&(e=i.getAttribute("data-text"),this._changeText(e+" ","arrow",!0,function(){this.trigger("item-arrow",{itemIndex:0|i.getAttribute("data-index"),val:e})}))},_onPopupClick:function(t){var e=t.target;MBEM.cls.contains(e,"mini-suggest__arrow")?this._onArrowClick(e):this.__base.apply(this,arguments)},_addArrow:function(t,e){return t[1].trim()!==this._val.trim()&&(e.className+=" mini-suggest__item_arrow_yes",e.content.button="arrow"),e}})},OsvQ:function(t,e){BEM.DOM.decl("modal",{},{live:function(){var t=this.__base.apply(this,arguments);function e(){this.delMod("visible")}return this.liveBindTo("close","pointerclick",e),this.liveBindKey("close","space enter",e),t}})},Oy8Q:function(t,e){BEM.DOM.decl({block:"desk-notif-card",modName:"switchable",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._bindEvents()}},_bindEvents:function(){this.bindKeyTo("switch","space enter",this._switchDirection),this.bindTo("switch","pointerclick",this._switchDirection),this.bindTo("switch","mouseover mouseout focus blur",function(t){this.toggleMod("switch-hovered","yes","mouseover"===t.type||"focus"===t.type)})},_switchDirection:function(){}})},P9tx:function(t,e){BEM.DOM.decl("tumbler",{_onPointerenter:function(t){this.hasMod(this.elem("button"),"hovered")||this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_onButtonPointerenter:function(t){this.hasMod("view","classic")&&this.delMod("hovered").setMod(this.elem("button"),"hovered","yes")},_onButtonPointerleave:function(t){this.hasMod("view","classic")&&this.delMod(this.elem("button"),"hovered").setMod("hovered","yes")}},{live:function(){return this.liveBindTo("box","pointerover pointerout",function(t){this.hasMod("disabled")||this.elem("box")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}).liveBindTo("button","pointerover pointerout",function(t){this.hasMod("disabled")||this.elem("button")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onButtonPointerenter(t):this._onButtonPointerleave(t))}),this.__base()}})},"PED/":function(t,e){BEM.DOM.decl("input",{_onIOSTouchStart:function(){}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("clear","pointerclick",function(t){t.preventDefault()}),this.liveBindTo("control","keyup",function(){this._updateVal()})}})},PEa7:function(t,e){!function(){"use strict";var t=$.Deferred();$(function(){t.resolve()}),BEM.decl("i-message-locker",{},{blockOrder:[],acquireLock:function(t,e){var i,n=$.Deferred(),o=this;return this._initOrder(),t in this._blockOrderMap&&!this._locked?(i=this._blockOrderMap[t],!this._showPretender||this._showPretender.index>i?(this._showPretender?this._showPretender.deferreds.forEach(function(t){t.reject()}):this._initDelay.done(function(){setTimeout(function(){var t=o._showPretender.deferreds;o._locked=o._showPretender.name,o._closeFunc=e,o._showPretender=null,t.forEach(function(t){t.resolve()}),BEM.channel("i-message-locker").trigger("lock",o._locked)},0)}),this._showPretender={name:t,deferreds:[n],index:i}):this._showPretender&&this._showPretender.name===t?this._showPretender.deferreds.push(n):n.reject(),n):n.reject()},releaseLock:function(t){this._locked&&this._locked===t&&(this._locked="",this._closeFunc=null,BEM.channel("i-message-locker").trigger("unlock",t))},forceClose:function(){this._closeFunc&&this._closeFunc()},_blockOrderMap:void 0,_showPretender:void 0,_locked:"",_initDelay:t,_initOrder:function(){if(!this._blockOrderMap){this._blockOrderMap={};for(var t=0;t<this.blockOrder.length;++t)this._blockOrderMap[this.blockOrder[t]]=t}}})}()},Pos1:function(t,e){BEM.DOM.decl({block:home.cls.full("rtb-inserts"),modName:home.cls.part("type"),modVal:home.cls.part("native")},{_onScroll:function(t,e){var i=this.domElem;i||this.channel("i-reposition-event").un("reposition",this._onScroll,this),e+BEM.DOM.win.height()>i.offset().top-500&&(this.channel("i-reposition-event").un("reposition",this._onScroll,this),this.params.shouldGetAdvManagerFromZenLib?this._nativeBundleByZen():this._nativeBundleByNetwork())},_triggerInitEvent:function(){this.eventTriggered||(this.eventTriggered=!0,BEM.channel("adb").trigger("rendered",{id:"v14."+this._blockId,elem:this.domElem[0]}))},_nativeBundleByNetwork:function(){home.pcodeLoader.download({type:"native"},this._remove.bind(this),this._pushImpToRender.bind(this))},_nativeBundleByZen:function(){var t=$(".zen-lib");!t.length||(t=t.bem("zen-lib")).nativeBundlePromise&&t.nativeBundlePromise.then(function(t){t?this._pushImpToRender():this._remove()}.bind(this))},_onRender:function(){this.__base.apply(this,arguments),this.params.isTablet&&this.domElem.children().addClass("needsclick")},_pushImpToRender:function(){var t=this.params.additionalClasses;$("html").hasClass("document_dark_yes")&&t.push("dark"),window.yaads=window.yaads||[],window.yaads.push({id:this.params.blockId,render:home.cls.full(".rtb-inserts"),success:this._onRender.bind(this),reject:this._handleError.bind(this),nonce:this.params.nonce,additionalClasses:t})}})},PwbH:function(t,e){$.extend({util:{}})},Q627:function(t,e){!function(){"use strict";BEM.decl("i-scroll-event",{},{init:function(){var t=100;home.getData("i-scroll-changes.data.scroll_slowdown_scroll_event")&&(t=1);var e=BEM.channel("i-scroll-event"),i=home.throttle(function(){var t=$(o).scrollTop();e.trigger("scroll",t)},t),n=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!0},o=this.getScrollElem(),t=function(t){var e="scroll"===t?o:window;"addEventListener"in window?e.addEventListener(t,i,n):e.attachEvent("on"+t,i)};t("scroll"),t("resize"),t("orientationchange")},getScrollElem:function(){return window}}),setTimeout(function(){BEM.blocks["i-scroll-event"].init()},0)}()},"QG2+":function(t,e){var i;(i=(i=window.Lego)||(window.Lego={})).getCookie=function(t){var e=document.cookie;if(e.length<1)return!1;var i=e.indexOf(t+"=");if(-1===i)return!1;i+=t.length+1;t=e.indexOf(";",i);return decodeURIComponent(-1===t?e.substring(i):e.substring(i,t))}},"Qi+R":function(t,e){function a(){document[l]&&c()}function c(){d.forEach(function(t){t.fn.call(t.ctx,!0),t.awaitsCall=!1}),d=[]}var l,h,d;h=!1,d=[],home.delayedTask=function(t,e,i){var n,o;!h&&"addEventListener"in window&&(h=!0,window.addEventListener("beforeunload",c,!1),window.addEventListener("unload",c,!1),void 0!==document.hidden?(n="hidden",o="visibilitychange"):void 0!==document.webkitHidden&&(n="webkitHidden",o="webkitvisibilitychange"),l=n,window.addEventListener(o,a,!1));var s={fn:t,ctx:i,awaitsCall:!1},r=home.debounce(function(){s.awaitsCall&&(s.awaitsCall=!1,d=d.filter(function(t){return t!==s}),t.call(i,!1))},e,!1,i);return function(){s.awaitsCall||(s.awaitsCall=!0,d.push(s)),r()}}},Qzt9:function(t,e){MBEM.decl({block:"mini-suggest",modName:"nav-exp",modVal:"yes"},{_handleItemClick:function(t,e){this.__self.itemTypeIsNavigable(e.type)&&(this._params.navigableText=e.val),this.__base.apply(this,arguments)},_getParamsList:function(){var t=this.__base.apply(this,arguments);return this._params.navigableText&&(t[0].text=this._params.navigableText),t},_clearCounters:function(){this.__base.apply(this,arguments),this._params.navigableText=null}})},"R/OM":function(t,e){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{_canCheckAdVisibility:function(){return this.__base.apply(this,arguments)&&this._hasUserActivasion}})},"RDK/":function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._reqidInCookie=this.params.counter&&this.params.counter.reqidInCookie,this._reqidInCookie&&this._detachReqID()},_addAction:function(t,e){var i,n;this._reqidInCookie?(i=Date.now(),n=e||{},this._firstActionTime=this._firstActionTime||i,n.time=i-this._firstActionTime,n.name=t,this._tpah.push(n)):this.__base.apply(this,arguments)},_handleSubmit:function(){this._reqidInCookie&&(this._attachReqID(),2===this._reqidInCookie&&this._appendHiddenInput("suggest_exp_reqid",this._reqID)),this.__base.apply(this,arguments)},_attachReqID:function(){1===this._reqidInCookie||2===this._reqidInCookie?this._setReqidCookie(this._reqID,3,new Date(Date.now()+3e3).toUTCString()):this.__base.apply(this,arguments)},_detachReqID:function(){this._setReqidCookie("",-1,"Thu, 01 Jan 1970 00:00:01 GMT")},_setReqidCookie:function(t,e,i){var n="."+(location.hostname.match(/yandex\..+$/)||[])[0];document.cookie="suggest_reqid="+t+";domain="+n+";max-age="+e+";expires="+i+";secure"+(this.params.sameSiteSupport?";SameSite=None":"")}})},RLKj:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._suggestId=Math.random().toString(36).substr(2),this._suggestListId="suggest-list-"+this._suggestId},_createPopup:function(){if(!this.__base.apply(this,arguments))return!1;this._popupContent.id=this._suggestListId;var t=this._input.getAttribute("aria-controls");return this._input.setAttribute("aria-controls",(t?t+" ":"")+this._suggestListId),this._popup}})},RYVR:function(t,e){!function(){"use strict";BEM.DOM.decl({block:"imageloader",modName:"tracking",modVal:"yes"},{onSetMod:{"full-visible":{yes:function(){this._calcTrackingCardsOnScroll(this._lastOffsetLeft||0)}}},getAlreadyShownCards:function(){return this._lastCard},_loadFirstCards:function(){this._lastCard=0,this.__base.apply(this,arguments)},_loadCards:function(t){this.__base.apply(this,arguments),this.hasMod("full-visible","yes")&&this._calcTrackingCardsOnScroll(t)},_calcTrackingCardsOnScroll:function(t){this._lastOffsetLeft=t,this._leftOffset&&(t=this.domElem.outerWidth()-this._leftOffset+t,t=this._getViewedCards(t,.8),this._processViewedCardsInSight(t))},_processViewedCardsInSight:function(t){if(!(t.length<=this._lastCard)){for(var e=this._lastCard;e<t.length;++e)home.stat.logDOMShow(t.eq(e),{visibilityCheck:!1,precise:!0});this.trigger("sightChange",t.length),this._lastCard=t.length}}})}()},Rl07:function(t,e){MBEM.encode=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}},Rrak:function(t,e){BEM.DOM.decl({block:"popup2",modName:"target"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._lastPopupDrawingCss={left:void 0,top:void 0,zIndex:void 0,display:void 0},this._lastTailDrawingCss={left:void 0,top:void 0},this._initialVisible=this.hasMod("visible")}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindToWin("scroll resize",this._onWinScollAndResize).redraw(!0)},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("scroll resize")}}},setContent:function(){return this.__base.apply(this,arguments).redraw()},_draw:function(){var t=this._calcBestDrawingParams();return this.setMod("direction",t.direction),e(this._lastPopupDrawingCss,this._calcDrawingCss(t))&&this.domElem.css(this._lastPopupDrawingCss),e(this._lastTailDrawingCss,this._calcTailDrawingCss(t))&&this.elem("tail").css(this._lastTailDrawingCss),this;function e(i,n){var o=!1;return Object.keys(n).forEach(function(t){var e=n[t];i[t]!==e&&(i[t]=e,o=!0)}),o}},redraw:function(t){return(this.hasMod("visible","yes")||t)&&this.setMod("outside","yes")._draw().delMod("outside"),this},_calcDrawingCss:function(t){var e=this._scope;return e.is(BEM.DOM.scope)||(e=e.offset(),t.top-=e.top,t.left-=e.left),{left:t.left,top:t.top}},_calcTailDrawingCss:function(t){return t.tail},calcPossibleDrawingParams:function(){var i=this._calcTargetDimensions(),n=this._calcViewportDimensions(),o=this._calcOffsets();return this.params.directions.map(function(t){var e={direction:t,width:0,height:0,left:0,top:0};return this._checkMainDirection(t,"bottom")?(e.top=i.top+i.height+o.main,e.height=n.bottom-e.top-o.viewport):this._checkMainDirection(t,"top")?(e.height=i.top-n.top-o.main-o.viewport,e.top=i.top-e.height-o.main):(this._checkSecondaryDirection(t,"center")?(e.height=n.bottom-n.top-2*o.viewport,e.top=i.top+(i.height-e.height)/2):this._checkSecondaryDirection(t,"bottom")?(e.height=i.top+i.height-n.top-o.secondary-o.viewport,e.top=i.top+i.height-e.height-o.secondary):this._checkSecondaryDirection(t,"top")&&(e.top=i.top+o.secondary,e.height=n.bottom-e.top-o.viewport),this._checkMainDirection(t,"left")?(e.width=i.left-n.left-o.main-o.viewport,e.left=i.left-e.width-o.main):(e.left=i.left+i.width+o.main,e.width=n.right-e.left-o.viewport)),this._checkSecondaryDirection(t,"right")?(e.width=i.left+i.width-n.left-o.secondary-o.viewport,e.left=i.left+i.width-e.width-o.secondary):this._checkSecondaryDirection(t,"left")?(e.left=i.left+o.secondary,e.width=n.right-e.left-o.viewport):this._checkSecondaryDirection(t,"center")&&this._checkMainDirection(t,"top","bottom")&&(e.width=n.right-n.left-2*o.viewport,e.left=i.left+i.width/2-e.width/2),e},this)},_calcBestDrawingParams:function(){for(var t,e,i,n,o,s,r=this._calcPopupDimensions(),a=this._calcTargetDimensions(),c=this._calcViewportDimensions(),l=this.params.directions,h=l.length,d=0;d<h&&(t=l[d],e=this._calcPos(t,a,r),i=this._calcViewportFactor(e,c,r),(0===d||s<i||!s&&this.hasMod("direction",t))&&(n=t,s=i,o=e),!(s>this.__self.VIEWPORT_ACCURACY_FACTOR));d++);return{direction:n,left:o.left,top:o.top,tail:this._calcTailPos(n,a,r,o)}},_calcPopupDimensions:function(){var t=this.domElem.outerWidth(),e=this.domElem.outerHeight();return{width:t,height:e,innerWidth:this.domElem.innerWidth(),innerHeight:this.domElem.innerHeight(),area:t*e}},_calcTailDimension:function(){var t=this.elem("tail"),e=this.params.tailSize||t.outerWidth();return 0<t.length&&"none"!==t.css("display")?e:0},_calcTargetDimensions:function(){},_calcViewportDimensions:function(){var t=BEM.DOM.win,e=t.scrollTop(),i=t.scrollLeft(),n=t.width();return{top:e,left:i,bottom:e+t.height(),right:i+n}},_calcPos:function(t,e,i){var n={},o=this._calcOffsets();return this._checkMainDirection(t,"bottom")?n.top=e.top+e.height+o.main:this._checkMainDirection(t,"top")?n.top=e.top-i.height-o.main:this._checkMainDirection(t,"left")?n.left=e.left-i.width-o.main:this._checkMainDirection(t,"right")&&(n.left=e.left+e.width+o.main),this._checkSecondaryDirection(t,"right")?n.left=e.left+e.width-i.width-o.secondary:this._checkSecondaryDirection(t,"left")?n.left=e.left+o.secondary:this._checkSecondaryDirection(t,"bottom")?n.top=e.top+e.height-i.height-o.secondary:this._checkSecondaryDirection(t,"top")?n.top=e.top+o.secondary:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?n.left=e.left+e.width/2-i.width/2:this._checkMainDirection(t,"left","right")&&(n.top=e.top+e.height/2-i.height/2)),n},_calcTailPos:function(t,e,i,n){var o={},s=this._calcTailDimension()/2,r=this.params.tailOffset,a=this.params.tailSize;return this._checkMainDirection(t,"bottom")?o.top=-s:this._checkMainDirection(t,"top")?o.top=Math.floor(i.innerHeight-s):this._checkMainDirection(t,"left")?o.left=Math.floor(i.innerWidth-s):this._checkMainDirection(t,"right")&&(o.left=-s),this._checkSecondaryDirection(t,"right")?o.left=i.innerWidth-Math.ceil(Math.min(i.innerWidth,e.width)/2)-s-r:this._checkSecondaryDirection(t,"left")?o.left=Math.ceil(Math.min(i.innerWidth,e.width)/2)-s+r:this._checkSecondaryDirection(t,"bottom")?o.top=i.innerHeight-Math.ceil(Math.min(i.innerHeight,e.height)/2)-s-r:this._checkSecondaryDirection(t,"top")?o.top=Math.ceil(Math.min(i.innerHeight,e.height)/2)-s+r:this._checkSecondaryDirection(t,"center")&&(this._checkMainDirection(t,"top","bottom")?o.left=Math.ceil(i.innerWidth/2)-s+r:o.top=Math.ceil(i.innerHeight/2)-s+r),{top:o.top,left:o.left,width:a,height:a}},_calcViewportFactor:function(t,e,i){var n=this.params.viewportOffset,o=Math.max(t.left,e.left+n),s=Math.min(t.left+i.width,e.right-n),r=Math.max(t.top,e.top+n),n=Math.min(t.top+i.height,e.bottom-n);return o<s&&r<n?(s-o)*(n-r)/i.area:0},_calcOffsets:function(){var t=this.params,e=this._calcTailDimension();return{main:0<e?Math.max(t.mainOffset,Math.round(e*Math.SQRT1_2)):t.mainOffset,secondary:t.secondaryOffset,viewport:t.viewportOffset}},_checkMainDirection:function(t,e,i){return 0===t.indexOf(e)||i&&0===t.indexOf(i)},_checkSecondaryDirection:function(t,e){return 0<t.indexOf("-"+e)},_checkDirection:function(t,e){return 0<=t.indexOf(e)},_onWinScollAndResize:function(t){this.hasMod("visible","yes")&&this._draw()},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{mainOffset:0,secondaryOffset:0,viewportOffset:0,tailOffset:0,directions:this.__self.AVAILABLE_DIRECTIONS})},_setVisible:function(){this._initialVisible&&(this._initialVisible=!1,this.delMod("visible").setMod("visible","yes"))}},{VIEWPORT_ACCURACY_FACTOR:.99,AVAILABLE_DIRECTIONS:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"]})},S2b1:function(t,e){BEM.DOM.decl("popup2",{onSetMod:{visible:{yes:function(){this.__base.apply(this,arguments),this._bindFocusEvents()},"":function(){this.__base.apply(this,arguments),this._unbindFocusEvents(),this._returnFocus()}}},setParams:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.params[e]=t[e])},_bindFocusEvents:function(){this._lastFocused=$($.dom.getActiveElement()[0]||this._scope);var t=this._getFocusable(this.domElem);this._firstFocusable=t.first(),this._lastFocusable=t.last(),this._skipReturnFocus=!1,0!==this._firstFocusable.length?this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown):this._skipReturnFocus=!0},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_getFocusable:function(t){var e=$.identify(),i="a[href], link, ";return $.data(t,"popup-getFocusable-id",e),BEM.blocks["i-ua"].opera<13&&(i=""),t.find(i+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter(function(){var t=!0;return!(parseInt($(this).prop("tabindex"),10)<0)&&($(this).parentsUntil('*[data-popup-getFocusable-id="'+e+'"]').each(function(){if("none"===$(this).css("display"))return t=!1}),t)})},_returnFocus:function(){try{var t=document.activeElement;if(!$(t).closest(this.domElem).length)return}catch(t){}(this._parent||{})._skipReturnFocus||this._skipReturnFocus||this._lastFocused.focus()},_onLastFocusedKeyDown:function(t){this._lastFocused.is(this._scope)&&!this._lastFocused.is(t.target)||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())}},{})},SEzg:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&(this._isSendBeaconAvailable="sendBeacon"in navigator&&-1===(navigator.userAgent||"").indexOf("UCBrowser"),this._clearCounters(),this.on("submit",this._handleSubmit,this).on("request",this._handleRequest,this).on("response",this._handleResponse,this).on("start-input",this._handleStartInput,this).on("input-change",this._handleInputChange,this).on("popup-show",this._handlePopupShow,this).on("popup-update",this._handlePopupUpdate,this).on("item-click",this._handleItemClick,this).on("item-tpah",this._handleItemTpah,this).on("button-click",this._handleButtonClick,this).on("input-enter",this._handleInputEnter,this))},_handleInputEnter:function(){this._path.submit="keyboard"},_handleSubmit:function(){this._addAction("submit"),this._sendCounters()},_handleRequest:function(){++this._responses.rqs},_handleResponse:function(t,e){var i=Date.now();++this._responses.rsp,e.items.length||++this._responses.ersp,!e.relevant&&e.items.length&&++this._responses.lrsp,void 0!==e.duration&&(this._params.times+=(this._params.times?".":"")+e.duration),this._cachedUrls[e.url]&&i-this._cachedUrls[e.url]<6e4&&++this._responses.cchd,e.url&&(this._cachedUrls[e.url]=i),e.items.length&&(this._lastRenderTime=i),this._meta=e.data[2]||{}},_handlePopupUpdate:function(t,e){++this._responses.rndr,this._lastRenderTime&&(this._params.render_times+=(this._params.render_times?".":"")+(Date.now()-this._lastRenderTime),this._lastRenderTime=null),this._countItemTypes(e.items)},_handlePopupShow:function(){this._changePathState("not_used")},_handleItemClick:function(t,e){var i=e.node.getAttribute("data-log-type")||("nav"===e.type?"nav":e.personal?"history":"phrase");e.personal&&(this._path.personal="nah_used"),this._addAction(i,{index:e.itemIndex+1,extend:e.logExtend}),this._changePathState(e.byKeyboard?"keyboard":"mouse")&&(this._path.index=e.itemIndex+1),this._path.submit=e.byKeyboard?"keyboard":"click_by_mouse",++this._ratio.actionsCount,this.__self.itemTypeIsNavigable(e.type)&&this._sendCounters()},_getItemTypeForLog:function(t){return t.node.getAttribute("data-log-type")||("nav"===t.type?"nav":t.personal?"history":"phrase")},_handleItemTpah:function(t,e){this._changePathState("tpah"),this._path.index=0,this._addAction("word",{index:e.itemIndex+1}),++this._ratio.actionsCount,++this._responses.clks},_handleButtonClick:function(){++this._ratio.actionsCount,this._changePathState("suggest"),this._path.submit="button_by_mouse"},_handleInputChange:function(t,e){var i=Date.now();this._changePathState("edit"),this._path.index=0,"user"!==e.type&&"clear"!==e.type&&"tpah"!==e.type||(this._firstChangeTime=this._firstChangeTime||i,this._lastChangeTime=i),++this._ratio.actionsCount,"user"===e.type?0<(i=this._input.value.length-this._prevVal.length)?this._addAction("add",{diffLength:i}):this._addAction("del",{diffLength:i}):"clear"===e.type&&this._addAction("clear"),"nah_used"===this._path.personal&&(this._path.personal="nah_not_used"),this._prevVal=this._input.value},_handleStartInput:function(){this._startInputTime=this._startInputTime||Date.now()},_changePathState:function(t){switch(t){case"not_used":if("not_shown"!==this._path.state)return!1;break;case"mouse":case"keyboard":case"tpah":if("edit"===this._path.state)return!1;break;case"edit":if("not_shown"===this._path.state||"not_used"===this._path.state)return!1;break;case"suggest":if("keyboard"!==this._path.state)return!1}return this._path.state=t,!0},_addAction:function(t,e){var i=Date.now(),e=e||{};!this._isReqIDAttached&&this._reqID&&this._attachReqID(),this._firstActionTime=this._firstActionTime||i,e.time=i-this._firstActionTime,e.name=t,this._tpah.push(e)},_sendCounters:function(){var t=this._getCounterUrl();this._clearCounters(),this._sendStatUrl(t)},_sendStatUrl:function(t){t+=(-1<t.indexOf("?")?"&":"?")+"_="+Date.now(),this._isSendBeaconAvailable&&navigator.sendBeacon(t," ")||MBEM.ajax(t)},_clearCounters:function(){this._params={text:"",times:"",render_times:""},this._path={service:this.params.counter.service,state:"not_shown",index:0,personal:"nah_not_shown",submit:"button_by_mouse"},this._ratio={len:0,queryLen:0,actionsCount:0},this._firstChangeTime=null,this._lastChangeTime=null,this._startInputTime=null,this._reqID=this.__self._generateReqID(this.params.counter.yandexuid),this._isReqIDAttached=!1,this._tpah=[],this._firstActionTime=0,this._prevVal=this._input.value,this._startValLength=this._input.value.length,this._responses={rqs:0,rsp:0,rndr:0,ersp:0,lrsp:0,clks:0,cchd:0},this._typeCounts={},this._cachedUrls={},this._lastRenderTime=0,this._meta={}},_attachReqID:function(){this._appendHiddenInput("suggest_reqid",this._reqID),this._isReqIDAttached=!0},_getCounterUrl:function(){return this.params.counter.url+"/"+this._getCounterUrlParams().join("/").replace(/(\/+)/g,"/")},_getParamsList:function(){return[{text:this._input.value,pos:this._getCaretPosition(),type_counts:JSON.stringify(this._typeCounts)},this.params.counter.params,this._getPath(),this._params,this._getRatio(),this._getChangeTimes(),this._getSession(),this._responses,{suggest_reqid:this._reqID},this._getTpah(),this._getMeta()]},_getPath:function(){return{path:[this._path.service,this._path.state,"p"+this._path.index,this._path.personal,this._path.submit].join(".")}},_getRatio:function(){var t=this._startValLength+this._tpah.reduce(function(t,e){return"add"===e.name||"del"===e.name?t+(e.diffLength||0):t},0);return{ratio:[0<=t?t:this._input.value.length,this._input.value.length,this._ratio.actionsCount].join(".")}},_getChangeTimes:function(){var t=Date.now();return{since_first_change:t-(this._firstChangeTime||t),since_last_change:t-(this._lastChangeTime||t),total_input_time:t-(this._startInputTime||t)}},_getSession:function(){return{session:Date.now()+Math.round(1e4*Math.random())}},_getTpah:function(){return{tpah_log:"["+this._tpah.map(function(t){var e=[t.name,"p"+(t.index||0),t.time];return void 0!==t.diffLength&&e.push(t.diffLength),t.extend&&e.push(t.extend),"["+e.join(",")+"]"}).join(",")+"]"}},_getCounterUrlParams:function(){return this._getParamsList().concat({"*data":"url="+document.location.origin}).reduce(function(t,e){return t.concat(this._getParams(e))}.bind(this),[]).concat(["/"])},_getParams:function(i){return Object.keys(i).reduce(function(t,e){return""===i[e]||t.push(e+"="+MBEM.encodeUriComponent(i[e]).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",").replace(/\*/g,"%2A")),t},[])},_getMainUrlParams:function(){var t=this.__base.apply(this,arguments);return this._reqID&&(t.suggest_reqid=this._reqID),t},_countItemTypes:function(t){t.forEach(function(t){t=this._getItemType(t);t&&this._incTypeCount(t)},this)},_getItemType:function(t){var e,i;return Array.isArray(t)&&(t[5]&&t[5].personal?e="pers":(e=t[0],i=t[5]&&t[5].type)),i&&(e+="_"+i),e},_incTypeCount:function(t){void 0===this._typeCounts[t]&&(this._typeCounts[t]=0),this._typeCounts[t]++,-1<t.indexOf("pers")&&"nah_not_shown"===this._path.personal&&(this._path.personal="nah_not_used")},_getMeta:function(){var t,e={};for(t in this.__self.metaProps)e[this.__self.metaProps[t]]=this._meta[t]||"";return e}},{_generateReqID:function(t){return(t=t||this._random(9)+this._random(9))+Date.now().toString().slice(-7)+this._random(7)},_random:function(t){return Math.random().toString().slice(2,Math.min(t,10)+2)},metaProps:{exprt:"exprt",r:"region",log:"log"}})},SLHL:function(t,e){var o=/^[a-z-]$/i,s=/^[0-9]$/;BEM.DOM.decl({name:"input",modName:"autofocus",modVal:"capture"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.bindToDoc("keydown",this._autoFocusBind)},autofocus:{yes:function(){this.bindToDoc("keydown",this._autoFocusBind)},"":function(){this.unbindFromDoc("keydown")}},listen:{yes:function(){this.bindToDoc("keydown",this._autoFocusBind)},no:function(){this.unbindFromDoc("keydown")}}},_autoFocusBind:function(t){var e,i,n;if(!$(".popup_visibility_visible").filter(":not(.b-topbar__popup, .suggest2)").length&&(!(e=$(".v_sform_bg")).length||"none"===e.css("display"))&&!$(".left-banner-opened").length&&this.domElem.is(":visible")){try{i=document.activeElement.tagName.toLowerCase(),n=document.activeElement.getAttribute("contenteditable")}catch(t){}!function(t){if(!t.originalEvent||"altKey"in t.originalEvent){var e,i=t.charCode||t.keyCode||t.which||0,n=t.ctrlKey||t.altKey||t.metaKey,i=t.originalEvent&&t.originalEvent.key?(e=o.test(t.originalEvent.key),s.test(t.originalEvent.key)):(e=[65<=i&&i<=90,1025<=i&&i<=1071,0===i,231===i,186===i,188===i,190===i,String.fromCharCode(i).toLowerCase()!==String.fromCharCode(i).toUpperCase()].some(Boolean),48<=i&&i<=57||96<=i&&i<=105);return!n&&(i||e)}}(t)||"input"===i||"textarea"===i||n||(this.trigger("beforeFocus"),t=this.elem("control")[0],0<(i=this.val()).length&&" "!==i.slice(-1)&&this.val(i+=" "),t.createTextRange?((n=t.createTextRange()).collapse(!1),n.select()):t.selectionStart&&(t.focus(),t.setSelectionRange(i.length,i.length)),this.setMod("focused","yes"))}}})},SPo1:function(t,e){BEM.DOM.declMix("mix-tabber-loader-keyboard",{},{live:function(){this.__base.apply(this,arguments),this.liveBindKey("retry-button","space enter",function(){this._onRetryClick()})}})},SVst:function(t,e){BEM.DOM.decl("paas",{},{_load:function(){return this._loader=new Promise(function(t,e){home.loadScript("//yastatic.net/q/ya-paranja/client.js?build=morda",t,e)}).catch(function(t){this._loader=void 0,home.error.logError({block:"paas",sourceType:"network",method:"_load",message:"Error loading source for paas"},t)}.bind(this)),this._loader},show:function(t){(this._loader||this._load()).then(function(){(window.Ya||{}).Paranja&&(window.Ya.Paranja.init({from:"morda",product:t,mod:"iframe"}),window.Ya.Paranja.show())})}})},SoFJ:function(t,e){function i(e,i){var n="";try{n=e(i)}catch(t){try{n=e(i.replace(/%.{2}/g,function(t){return o[t]||t}))}catch(t){n=i}}return n}var n,o;n=jQuery,o={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"},n.extend({decodeURI:function(t){return i(decodeURI,t)},decodeURIComponent:function(t){return i(decodeURIComponent,t)}})},TD8f:function(t,e){MBEM.offset=function(t){if(!t)return{top:0,left:0};var e=t.getBoundingClientRect(),t=document.documentElement.getBoundingClientRect();return{top:e.top-t.top,left:e.left-t.left}}},TJmz:function(t,e){BEM.DOM.decl({block:"checkbox",baseBlock:"control"},{onSetMod:{js:{inited:function(){var t=this.elem("control");this.toggleMod("checked","yes",t.prop("checked")),this.toggleMod("focused","yes",t.isFocused())}},hovered:{yes:function(){return!this.hasMod("disabled")}},pressed:{yes:function(){return!this.hasMod("disabled")}},checked:function(t,e){this.elem("control").prop("checked",e),this.trigger("change",{checked:Boolean(e)})},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered").delMod("pressed")}}},isDisabled:function(){return this.hasMod("disabled","yes")},isChecked:function(){return Boolean(this.elem("control").prop("checked"))},toggle:function(){this.toggleMod("checked","yes")},val:function(t){var e=this.elem("control");return void 0===t?e.val():(e.val(t),this)},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},_onChange:function(t){this.toggleMod("checked","yes",t.target.checked)},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onClick:function(t){var e=this.elem("label"),i=t.target;this.domElem[0]===i&&this._onChange(t),i!==e[0]&&this.trigger("click",{domEvent:t}),this.setMod("focused","yes")},_onKeydown:function(t){t.keyCode===BEM.blocks.keycodes.SPACE&&this.setMod("pressed","yes")},_onKeyup:function(t){t.keyCode===BEM.blocks.keycodes.SPACE&&this.delMod("pressed")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.isDisabled()||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}).liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}).liveBindTo("pointerclick",function(t){this.hasMod("disabled")||this._onClick(t)}).liveBindTo("control","keydown",function(t){this.hasMod("disabled")||this._onKeydown(t)}).liveBindTo("control","keyup",function(t){this.hasMod("disabled")||this._onKeyup(t)}).liveBindTo("control","change",function(t){this._onChange(t)}),this.__base()}})},TNMt:function(t,e){Object.defineProperty(window,"$",{value:$,writable:!1,configurable:!1})},TW4b:function(t,e){home.getData("i-sw-reporter.on")&&"serviceWorker"in navigator&&setTimeout(function(){window.defaultMetrikaCounter&&Promise.resolve().then(function(){return navigator.serviceWorker.getRegistrations()}).then(function(t){var n=null;t.forEach(function(e){var i=(i=home.parseUrl(e.scope).path).replace(/(^\/|\/$)/g,"").replace(/\//g,"_");["active","installing","waiting"].forEach(function(t){e[t]&&((n=n||{})["sw-report"]=n["sw-report"]||{},n["sw-report"][i]=n["sw-report"][i]||{},n["sw-report"][i][t]=e[t].scriptURL||1)})}),n&&window.defaultMetrikaCounter.params(n)}).catch(function(){})},5e3)},TkuS:function(t,e){BEM.DOM.decl({block:"menu",modName:"type",modVal:"radio"},{getVal:function(){var t=this.getItems("checked","yes")[0];return t&&this.elemParams(t).val},setVal:function(e){return this.getItems().forEach(function(t){this.elemParams(t).val===e?this.setMod(t,"checked","yes"):this.delMod(t,"checked")},this),this._onChange(),this},_onItemClick:function(t,e,i){this.__base.apply(this,arguments),this.hasMod(t,"checked","yes")||(this.delMod(this.elem("item","checked","yes"),"checked"),this.setMod(t,"checked","yes"),this._onChange())}})},Tv0U:function(t,e){function i(t){for(var e=0,i=0;i<t.length;++i)e+=t[i]*t[i];return Math.sqrt(e/t.length)}var n,o,s,r,a,c,l;n=Ya.Rum,o=0,s=[],l=[],n.enabled&&(n.getSetting("longTaskMetric")&&n._tti&&n._periodicTasks.push(function(){if(!n._tti.fired)return!0;var t=n.getSetting("maxLongTaskCounters")||10;return!(++o>t)&&(n._tti.eventsAfterTTI.length&&((t=n._getCommonVars().slice()).push("2796.2797="+n._getLongtasksStringValue(n._tti.eventsAfterTTI)),t.push("689.2322="+n.normalize(n.getTime())),n.sendCounter("690.2096.2796",t),n._tti.eventsAfterTTI=[]),!0)}),n.getSetting("scrollMetric")&&(c=!1,n.getTime(),addEventListener("scroll",function(){var t=n.getTime();c?s.push(t-r):(c=!0,n.getTime()),r=t,clearTimeout(a),a=setTimeout(function(){c=!1},500)}),n._periodicTasks.push(function(){var t;return s.length&&(t=n._getCommonVars().concat(["d="+i(s)]),n.sendCounter("690.2096.768",t),s=[]),!0})),n.getSetting("scrollLatencyMetric")&&function(){try{if(!window.PerformanceScrollUpdateLatency)return;new PerformanceObserver(function(t){t.getEntries().forEach(function(t){l.push(t.duration)})}).observe({entryTypes:["scrollUpdateLatency"]})}catch(t){return}return 1}()&&n._periodicTasks.push(function(){var t;return l.length&&(t=n._getCommonVars().concat(["d="+i(l)]),n.sendCounter("690.2096.768.2373",t),l=[]),!0}))},TvnF:function(t,e){MBEM.decl({block:"mini-suggest",modName:"request",modVal:"jsonp"},{_request:function(t,e,i){var n=document.createElement("script"),o=this._initRequestCallback(),s=this._prepareRequestUrl(t,{callback:o}),r=void 0!==document.currentScript,a=r?Math.random().toString().substr(2,5):o;this._callbackStorage[a]={start:Date.now(),url:s,text:t,callback:e},n.dataset.id=a,n.src=s,n.onload=function(){r||delete window[o],delete this._callbackStorage[a],n.parentNode.removeChild(n)}.bind(this),n.onerror=function(){r||delete window[o],delete this._callbackStorage[a],n.parentNode.removeChild(n),i&&i.call(this)}.bind(this),document.head.appendChild(n),this.trigger("request",{text:t})},_initRequestCallback:function(){var n=void 0!==document.currentScript;if(this._callbackName&&n)return this._callbackName;var o=this._callbackName=(this.params.jsonpCallbackPrefix||"onSuggestResponse")+Math.random().toString().substr(2,5);return this._callbackStorage=this._callbackStorage||{},window[o]=function(t){var e;if(n?document.currentScript&&(e=this._callbackStorage[document.currentScript.dataset.id]):e=this._callbackStorage[o],e){var i=Date.now()-e.start;return e.callback.call(this,e.text,t,{url:e.url,duration:i})}}.bind(this),o}})},UDuI:function(t,e){BEM.decl({block:"pusher",modName:"technology",modVal:"push-api"},{},{_urlServiceWorker:"/service-workers/pusher-worker/desktop/sup.js"})},UUB4:function(t,e){BEM.DOM.decl({block:"tumbler"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._inputValues=this.elemParams(this.elem("input"))._values,this._labelsLength=this.elem("label").length,this._buttonWidth=this.elem("button").width(),this._maxLeft=this.elem("box").width()-this._buttonWidth}},checked:function(t,e){var i=this._inputValues[e?1:0],n=2===this._labelsLength?this.elem("text","side",e?"right":"left")[0].id:this.elem("text").length?this.elem("text")[0].id:"";this.elem("input").attr("aria-labelledby",n).val(i).prop("checked",e),this.elem("button").attr("aria-pressed",Boolean(e)),this.trigger("change",{checked:Boolean(e),value:this.val()})},disabled:function(t,e){this.__base.apply(this,arguments),this.findBlockOn("button","button2").setMod("disabled",e),this.elem("input").prop("disabled",Boolean(e))}},val:function(t){return void 0===t?this.elem("input").val():-1===this._inputValues.indexOf(t)||this.val()===t?this:this._toggle()},_toggle:function(){return this.toggleMod("checked","yes",!this.elem("input").prop("checked")),this},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onStickerClick:function(){this._toggle(),this.findBlockOn(this.elem("button"),"button2").setMod("focused","yes")},_onLabelClick:function(t){this._shouldChange(t)&&(this._toggle(),this.findBlockOn(this.elem("button"),"button2").setMod("focused","yes"))},_onButtonClick:function(){this._toggle()},_onButtonFocus:function(){this.setMod(this.elem("button"),"focused","yes"),this.setMod("focused","yes")},_onButtonBlur:function(){this.delMod(this.elem("button"),"focused"),this.delMod("focused")},_shouldChange:function(t){var e="left"===this.getMod(t.data.domElem,"side");if(2===this._labelsLength){t=!e&&this.elem("input").prop("checked");if(e&&!this.elem("input").prop("checked")||t)return!1}return!0}},{live:function(){return this.liveInitOnBlockInsideEvent("focus","button2",function(){this.hasMod("disabled")||this._onButtonFocus()}).liveInitOnBlockInsideEvent("blur","button2",function(){this.hasMod("disabled")||this._onButtonBlur()}).liveInitOnBlockInsideEvent("click","button2",function(t){this.hasMod("disabled")||this._onButtonClick()}).liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}).liveBindTo("sticker","pointerclick",function(t){this.hasMod("disabled")||this._onStickerClick()}).liveBindTo("label","pointerclick",function(t){this.hasMod("disabled")||this._onLabelClick(t)}).liveBindTo("button","keydown",function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||BEM.blocks.keycodes.is(t.keyCode,"SPACE","LEFT","UP","RIGHT","DOWN")&&t.preventDefault()}).liveBindTo("button","keyup",function(t){var e=BEM.blocks.keycodes,i=t.keyCode;t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||(e.is(i,"LEFT","UP")?this.delMod("checked"):e.is(i,"RIGHT","DOWN")&&this.setMod("checked","yes"))}),this.__base()}})},Unpv:function(t,e){MBEM.decl("mini-suggest",{_setElements:function(){this.__base.apply(this,arguments),this._bemInput=$(this._input).closest(".input").bem("input"),this._bemInput.on("change",this._onBEMInput,this)},_bindHandlers:function(){this.__base.apply(this,arguments),this._form&&$(this._form).on("submit",function(t){t.originalEvent||this._onFormSubmit()}.bind(this))},_setInputVal:function(){this.__base.apply(this,arguments),setTimeout(function(){this._bemInput.trigger("change")}.bind(this),0)},_onBEMInput:function(t,e){e&&"sample"===e.source||this._onInput()}})},V8VG:function(t,e){MBEM.decl("mini-suggest",{_bindHandlers:function(){this.__base.apply(this,arguments),this.on("response",this._onAheadResponse),this.on("item-delete",this._onItemDelete),this._bemInput=$(this._input).closest(".input").bem("input"),this._bemInput.on("ahead-fill",function(){this._syncVal(),this._update()},this)},_onAheadResponse:function(t,e){var i;e.relevant&&(i=e.data[2],this._bemInput.setAhead(e.text+(i&&i.continue||"")))},_onItemDelete:function(){this._bemInput.unsetAhead()}})},VEpq:function(t,e){MBEM.hl=function(n,t){t=t.reduce(function(t,e){var i=e[0],e=e[1];return i!==t.lastIndex&&(t.text+=MBEM.encode(n.slice(t.lastIndex,i))),t.text+="<b>"+MBEM.encode(n.slice(i,e))+"</b>",t.lastIndex=e,t},{text:"",lastIndex:0});return t.text+MBEM.encode(n.slice(t.lastIndex))}},VhOV:function(t,e){var i;(i=(i=window.Lego)||(window.Lego={})).isSessionValid=function(){return Boolean(i.getCookie("yandex_login"))}},VjMc:function(t,e){function m(t,e){return p.identify(t)+(e?p.identify(e):"")}var p,_,i;p=jQuery,_="__"+Number(new Date)+"storage",i={buildEventName:function(t){return t},on:function(t,i,e,n,o){if("string"==typeof t){p.isFunction(i)&&(n=e,e=i,i=void 0);for(var s,r,a,c=m(e,n),l=this[_]||(this[_]={}),h=t.split(" "),d=0;t=h[d++];)c in(s=l[t=this.buildEventName(t)]||(l[t]={ids:{},list:{}})).ids||(r=s.list,a={fn:e,data:i,ctx:n,special:o},r.last?(r.last.next=a).prev=r.last:r.first=a,s.ids[c]=r.last=a)}else{var u=this;p.each(t,function(t,e){u.on(t,e,i,o)})}return this},onFirst:function(t,e,i,n){return this.on(t,e,i,n,{one:!0})},un:function(t,e,i){if("string"==typeof t||void 0===t){var n=this[_];if(n)if(t)for(var o,s,r,a,c,l,h=t.split(" "),d=0;t=h[d++];)(l=n[t=this.buildEventName(t)])&&(e?(o=m(e,i))in(s=l.ids)&&(r=l.list,c=(a=s[o]).prev,l=a.next,c?c.next=l:a===r.first&&(r.first=l),l?l.prev=c:a===r.last&&(r.last=c),delete s[o]):delete this[_][t]);else delete this[_]}else{var u=this;i=e,p.each(t,function(t,e){u.un(t,e,i)})}return this},trigger:function(t,e){var i=this[_],n="string"==typeof t,o=n?t:t.type,s=this.buildEventName(o);if(n||(t.type=s,t.target||(t.target=this)),i=i&&i[s]){var r,a=i.list.first;for(a&&n&&((t=p.Event(s)).target=this);a;)t.data=a.data,void 0!==(r=a.fn.call(a.ctx||this,t,e))&&(!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation())),a.special&&a.special.one&&this.un(o,a.fn,a.ctx),a=a.next}return this}},p.observable=p.inherit(i,i)},VznB:function(t,e){BEM.DOM.decl("zen-lib",{_runIncludedLoader:function(){}})},Vzvc:function(t,e){var i;BEM.channel("sys").on("visibilitychange",function(t,e){e.hidden?i=Date.now():i&&(home.stat.logPath("tech","return",{customParams:{timems:Date.now()-i}}),i=null)})},W3Dy:function(t,e){var i={};MBEM.channel=function(t){if(void 0!==t&&i[t])return i[t];var e=new MBEM.Observable;return void 0!==t&&(i[t]=e),e}},W5n3:function(t,e){!function(){if(!Object.assign){function e(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i}try{Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}catch(t){Object.assign=e}}}()},WFGa:function(t,e){!function(){"use strict";BEM.decl("i-performance",{onSetMod:{js:{inited:function(){var t;window.performance&&"onresourcetimingbufferfull"in window.performance&&"addEventListener"in window.performance&&(this._expandTimingBuffer=this._expandTimingBuffer.bind(this),window.performance.addEventListener("resourcetimingbufferfull",this._expandTimingBuffer),(t=window.performance.getEntriesByType("resource").length)>=this.__self._DEFAULT_TIMING_BUFFER_SIZE?(this._timingBufferSize=Math.ceil(t/this.__self._DEFAULT_TIMING_BUFFER_SIZE)*this.__self._DEFAULT_TIMING_BUFFER_SIZE,this._expandTimingBuffer()):this._timingBufferSize=this.__self._DEFAULT_TIMING_BUFFER_SIZE)}}},checkUrlLoaded:function(t){var e=!0;return window.PerformanceObserver&&window.performance&&window.performance.getEntriesByName&&(e=!1,window.performance.getEntriesByName(t).forEach(function(t){"resource"===t.entryType&&(e=!0)})),e},destruct:function(){this.__self._instance=null,"removeEventListener"in window.performance&&window.performance.removeEventListener("resourcetimingbufferfull",this._expandTimingBuffer),this.__base.apply(this,arguments)},_expandTimingBuffer:function(){this._timingBufferSize<this.__self._MAX_TIMING_BUFFER_SIZE?(this._timingBufferSize+=this.__self._DEFAULT_TIMING_BUFFER_SIZE,window.performance.setResourceTimingBufferSize(this._timingBufferSize)):window.performance.removeEventListener("resourcetimingbufferfull",this._expandTimingBuffer)}},{_DEFAULT_TIMING_BUFFER_SIZE:150,_MAX_TIMING_BUFFER_SIZE:1050,preparePerformanceBuffer:function(){this._instance||(this._instance=BEM.create(this.getName(),{}))},checkUrlLoaded:function(t){return this._instance||this.preparePerformanceBuffer(),this._instance.checkUrlLoaded(t)},destroy:function(){this._instance&&this._instance.destruct()}})}()},WISf:function(t,e){BEM.DOM.decl({block:"popup2",modName:"theme",modVal:"normal"},{getDefaultParams:function(){return $.extend(this.__base(),{mainOffset:5,viewportOffset:5})}})},WhSy:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),!this._val&&this.params.url&&-1<this.params.url.indexOf("history=1")&&this._update()}})},X39R:function(t,e){!function(){function c(t){this.type=t,this.propagationStopped=!1}c.prototype.stopPropagation=function(){this.propagationStopped=!0};function t(){}t.prototype.on=function(t,e,i){if("object"==typeof t){for(var n in t)t.hasOwnProperty(n)&&this.on(n,t[n],e);return this}var o=this._handlerStorage||(this._handlerStorage={});return(o[t]||(o[t]=[])).push({fn:e,ctx:i}),this},t.prototype.un=function(t,e){for(var i=this._handlerStorage||(this._handlerStorage={}),n=i[t]||(i[t]=[]),o=0;o<n.length;++o)if(n[o].fn===e)return n.splice(o,1),this;return this},t.prototype.trigger=function(t,e){for(var i,n=new c(t),o=this._handlerStorage||(this._handlerStorage={}),s=o[t]||(o[t]=[]),r=0;r<s.length;++r){var a=s[r];if(!1===(i=a.fn.call(a.ctx||this,n,e))&&n.stopPropagation(),n.propagationStopped)break}return i},MBEM.Observable=t}()},X48e:function(t,e){BEM.DOM.decl("divjson-table",{onSetMod:{js:{inited:function(){this._autoSizeTable()}}},_autoSizeTable:function(){var t=1,e=this.elem("sizer").width(),i=this.elem("table")[0];for(i.style.fontSize="";.3<t&&!this._isTextFits(i,e);)i.style.fontSize=t+"em",t-=.05},_isTextFits:function(t,e){if(t.offsetWidth>e+1)return!1;for(var i=Array.from(t.querySelectorAll("td")),n=0;n<i.length;n++){var o=i[n];if(o.offsetWidth+1<o.scrollWidth)return!1}return!0}})},X6wk:function(t,e){function n(t){return c.innerHTML=t,c.firstChild}function i(t,e){var i;e&&e.id&&(s=s||n('<iframe style="display:none" src="'+t+'" name="ga"></iframe>'),i=function(){s.contentWindow.postMessage&&s.contentWindow.postMessage({id:e.id,type:"params",params:e.params,labels:e.labels,remarketingOnly:e.remarketingOnly},"*")},a?i():s.onload=function(){a=!0,i()},r||(document.body.appendChild(s),r=!0))}function o(t){return window.home&&home.getData&&home.getData("ga-counter."+t)}var s,r,a,c,l,h,d;s=null,a=r=!1,c=document.createElement("div"),h=null,d=!1,window.home=window.home||{},window.home.gaCounter={track:function(t){var e=o("morda");e&&e.customLabels&&e.customLabels[t]&&(t={id:e.id,params:null,labels:e.customLabels[t],remarketingOnly:e.remarketingOnly},i(e.iframeSrc,t))},trackEther:function(){var e=o("ether");e&&e.customLabels&&e.customLabels.ether&&(l=setTimeout(function(){var t={id:e.id,params:null,labels:e.customLabels.ether,remarketingOnly:e.remarketingOnly};i(e.iframeSrc,t)},e.timeout))},stopTrackEther:function(){clearTimeout(l)},trackCancel:function(){this.track("cancel")},trackCancelPopup:function(){this.track("cancelPopup")}},home.pseudoReady(function(){var e=o("morda");e&&function(){if(e.swb)return 1;var t;try{t=localStorage.getItem("gaCounterShowTime")}catch(t){}return!t||Number(t)<e.ignoreLSBefore||+new Date-Number(t)>e.showTimeout}()&&setTimeout(function(){var t;e.iframeSrcEx?(t=e.iframeSrcEx+function(){for(var t=[],e=0,i=arguments.length;e<i;e++)arguments[e]&&t.push(arguments[e]);return t.length?"?"+t.join("&"):""}(e.csc?"csc="+e.csc:"",e.refg?"refg=1":"",e.swb?"swb=1":""),h=h||n('<iframe style="display:none" src="'+t+'" name="ga-ex"></iframe>'),d||(document.body.appendChild(h),d=!0)):e.iframeSrc&&(t={id:e.id,params:e.params,labels:e.labels,remarketingOnly:e.remarketingOnly},i(e.iframeSrc,t)),function(){try{localStorage.setItem("gaCounterShowTime",+new Date)}catch(t){}}()},e.timeout)})},XBkm:function(t,e){$.extend({debounce:function(e,i,n,o){function t(){var t=arguments;o=o||this,n&&!s&&e.apply(o,t),clearTimeout(s),s=setTimeout(function(){n||e.apply(o,t),s=null},i)}var s;return 3===arguments.length&&"boolean"!=typeof n&&(o=n,n=!1),t.stop=function(){clearTimeout(s),s=null},t},throttle:function(t,e,i){function n(){s=arguments,r=!0,i=i||this,o||function(){o=r?(t.apply(i,s),r=!1,setTimeout(arguments.callee,e)):null}()}var o,s,r;return n.stop=function(){clearTimeout(o),o=null},n}})},XDfT:function(t,e){function i(t){return function(){return this._start(),t.apply(this,arguments).then(this._setSubscribed.bind(this)).then(function(t){return this._finish(),t}.bind(this),function(t){throw this._finish(),t}.bind(this))}}BEM.DOM.decl("pusher-button",{onSetMod:{js:{inited:function(){this.setMod("supported",BEM.blocks.pusher.supported?"yes":"no")}},supported:{yes:function(){this.check(),this.button().on("click",this._onClick,this)},no:function(){this._finish(),this.button().setMod("disabled","yes")}},subscribed:function(t,e){var i=this.params.subscribed,e=i&&i[e];e&&(e.hasOwnProperty("theme")&&this.button().setMod("theme",e.theme),e.hasOwnProperty("text")&&this.button().setText(e.text))}},_onClick:function(){this.toggleSubscription()},_start:function(){this.button().setMod("progress","yes")},_finish:function(){this.button().delMod("progress")},_setSubscribed:function(t){return this.setMod("subscribed",t?"yes":"no"),t},toggleSubscription:function(){return this.hasMod("subscribed","yes")?this.unsubscribe():this.subscribe()},check:i(function(){return BEM.blocks.pusher.check(this.params.tags)}),subscribe:i(function(){return BEM.blocks.pusher.subscribe(this.params.tags)}),unsubscribe:i(function(){return BEM.blocks.pusher.unsubscribe(this.params.tags)}),button:function(){return this._button||(this._button=this.findBlockOn("button2")),this._button}})},XF9F:function(t,e){BEM.DOM.decl("modal",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._enforceRepaint=this._enforceRepaint.bind(this)}},visible:{yes:function(){this.__base.apply(this,arguments),window.attachEvent&&this.elem("content")[0].attachEvent("onresize",this._enforceRepaint)},"":function(){this.__base.apply(this,arguments),window.detachEvent&&this.elem("content")[0].detachEvent("onresize",this._enforceRepaint)}}},_enforceRepaint:function(){this.domElem[0].className+=""}})},XMxx:function(t,e){BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base.call(this);var t=this.findElem("under").first();this._underClassAttr=t.attr("class"),this.isDivEnough()?this._under=t:(t.remove(),this._under=null),this._underInPool=!1}}},isDivEnough:function(){return!0},_createUnder:function(){return $('<iframe frameBorder="0" tabindex="-1" src="about:blank"/>')},_getUnder:function(){if(this._under)return this._under;var t=this.__self._underPool.pop();return t&&(this._underInPool=!1),(this._under=t)||this._createUnder()},_attachUnder:function(){var t=this._under=this._getUnder();t.attr("class",this._underClassAttr),this.hasMod(t,"type","paranja")?t.detach().insertBefore(this.domElem).css("z-index",this._zIndex):t.prependTo(this.domElem)},_detachUnder:function(){var t=this._under;t.removeAttr("style"),this.__self._underPool.push(t.detach()),this._under=null,this._underInPool=!0},destruct:function(){var t=this.__base.apply(this,arguments);return this._underInPool&&this.__self._underPool.pop(),this._under&&this._under.remove(),t}},{_underPool:[]})},"XW/Y":function(t,e){MBEM.decl({block:"mini-suggest",modName:"request"},{_prepareRequestUrl:function(t,e){t=MBEM.appendUrlParams(this.params.url,this._getMainUrlParams(t));return t=e?MBEM.appendUrlParams(t,e):t}})},YT7z:function(t,e){MBEM.decl({block:"mini-suggest",modName:"search",modVal:"yes"},{__constructor:function(){this._freezeFocus=0,this.__base.apply(this,arguments)},_onClearClick:function(){this._freezeFocus=Date.now()+500,this.__base.apply(this,arguments)},_onInputBlur:function(){Date.now()<this._freezeFocus?this._input.focus():this.__base.apply(this,arguments)},_blur:function(){this._freezeFocus=0,this.__base.apply(this,arguments)}})},YxSv:function(t,e){!function(){"use strict";BEM.DOM.decl({name:"popup",modName:"focus",modVal:"capture"},{_onShown:function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex","0").focus()},_onHidden:function(){this.__base.apply(this,arguments),this.domElem.removeAttr("tabindex")}})}()},ZLQd:function(t,e){MBEM.decl({block:"mini-suggest",modName:"overlay",modVal:"tile"},{_prepareOverlayParent:function(){return this.domElem.parentElement},_customizeButton:function(){var t=document.createElement("div"),e=document.createElement("div");t.className="mini-suggest__button-fill",e.className="mini-suggest__button-text",this._button.appendChild(t),this._button.appendChild(e)}})},ZOGQ:function(t,e){$(document).ready(function(){var o,r=home&&home.getData&&home.getData("adb.data"),a=!1,n={"content-blocking":{},"resource-blocking":{}},s=!1,c=1,l=r&&r.timeout,h=!1;function d(t){var e=new Date,i=home.getData("adb.data.domain"),n=home.getData("adb.data.sameSiteSupport"),o="",s=e.getTime();t?(BEM.channel("adb").trigger("detect"),e.setTime(s+12096e5)):e.setTime(s-12096e5),e="; expires="+e.toUTCString(),n&&(o="; sameSite=None"),document.cookie="computer=1"+e+";domain=."+i+o+"; secure=true; path=/",r.cookie&&(document.cookie=r.cookie+"=1"+e+";domain=."+i+o+"; secure=true; path=/"),a=!0}function u(t){window.defaultMetrikaCounter?window.defaultMetrikaCounter.params(t):new Date-o<5e3&&setTimeout(function(){u(t)},300)}function m(t){t=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return t&&t[2]}r&&((r.desktopKubr||r.touchKubr)&&(BEM.channel("adb").on("rendered",function(t,i){setTimeout(function(){var t=i.elem,e=i.id;$(t).is(":visible")||(d(!0),n["content-blocking"].blocked=e,u(n))},1e3)}),BEM.channel("adb").on("download",function(t,e){d(!0),n["resource-blocking"].blocked=e.id,u(n)})),setTimeout(function(){!function t(){var e,i,n;s||(s=2===c,c++,e=function(){var t=$('<div class="b-spec-adv" aria-hidden="true"></div>');$("body").append(t);var e=0===document.getElementsByClassName("b-spec-adv")[0].offsetWidth;return t.remove(),e}(),i=!!r.desktopKubr&&!$(".media-grid").is(":visible"),n={"content-blocking":{}},e?n["content-blocking"].easylist=1:(e=r.adg).str&&e.check&&(h||(h=$('<div aria-hidden="true" style="position:absolute;left:-10px;top:0;width:1px;height:1px;overflow:hidden;">'+e.str+"</div>"),$("body").append(h)),0===$(e.check,h)[0].offsetWidth)&&(n["content-blocking"].adguard=1),i&&(n["content-blocking"].mediafooter=1),home._cbsc&&(n["content-blocking"].styles=home._cbsc),Object.keys(n["content-blocking"]).length&&!a?(d(s=!0),r.adb||home.stat.logPath("show","adb.new"),o=+new Date,u(n)):(l*=2,setTimeout(function(){t(),h&&h.remove(),!a&&r.selfClean&&(m("computer")||m(r.cookie))&&(d(!1),u({unblocking:!0}))},l)))}()},l))})},Zdln:function(t,e){BEM.DOM.decl("button",{onSetMod:{js:{inited:function(){var t=this.isDisabled(),e=this.domElem;(this._href=e.attr("href"))&&t&&e.removeAttr("href")}},disabled:function(t,e){var i=this.domElem;e&&this.delMod("hovered"),this._href&&(e?i.removeAttr("href"):i.attr("href",this._href)),this.afterCurrentEvent(function(){i&&i.prop("disabled",e)})},pressed:function(t,e){if(this.hasMod("disabled"))return!1;this.trigger(e?"press":"release")}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(t){return void 0===t?this._href:(this._href=t,this.isDisabled()||this.domElem.attr("href",t),this)},getUrl:function(){return this.url()},setUrl:function(t){return this.url(t)},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onClick:function(t){this.isDisabled()?t.preventDefault():this.afterCurrentEvent(function(){this.domElem&&this.trigger("click")})}},{live:function(){this.liveBindTo("pointerclick",function(t){this._onClick(t)}).liveBindTo("pointerpress",function(t){this.isDisabled()||this._onPointerpress(t)})}})},ZiWf:function(t,e){MBEM.decl({block:"mini-suggest",modName:"favicon",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments);return this._needFavicon(t)&&(e.content.thumb=""),e},_buildItemContentInfo:function(t){var e=this.__base.apply(this,arguments);return e=this._needFavicon(t)?this._buildFavicon(t[3])+e:e}})},ZqzM:function(t,e,i){var n,o,s,l={},r=!1,a=0,c=!0,h=[],d=!0;BEM.decl("i-xiva",{},{listen:function(t,e,i,n){var o=l[t],s=!o,r=n&&n.force;o||(l[t]=o={handlers:[]}),o.ignoreFilterByTime=n&&n.ignoreFilterByTime,o.ignoreBlurEvent=n&&n.ignoreBlurEvent,o.ts=e,o.handlers.push(i),this._init(r),s&&this._updateSubscription()},stopListen:function(t,e){var i=l[t];i&&(i.handlers=i.handlers.filter(function(t){return t!==e}),i.handlers.length||(delete l[t],this._updateSubscription()))},send:function(t){this._hasXivaSupport()&&t&&t.ch&&(this._connected||this._init(!0),t=JSON.stringify(t),this._sendQueue.push(t),this._sendDelayed())},_sendQueue:[],_sendDelayed:function(){var t;if(this._connected)for(;this._sendQueue.length;)t=this._sendQueue.pop(),n&&t&&n.send(t)},connect:function(){c=!0,this._connect()},disconnect:function(t){c=t,n&&n.close&&n.close(1e3,"unload")},_deliverReceived:function(){for(var t=0,e=h.length;t<e;++t)(0,h[t].handler)(h[t].data,!0);h=[]},_toggleFocus:function(t){(d=t)&&this._deliverReceived()},_initFocusEvents:function(){var t=this;$.browser&&$.browser.msie?$(document).bind("focusout",function(){t._toggleFocus(!1)}).bind("focusin",function(){t._toggleFocus(!0)}):$(window).focus(function(){t._toggleFocus(!0)}).blur(function(){document.activeElement&&"IFRAME"===document.activeElement.tagName||t._toggleFocus(!1)})},_bindOnUnload:function(){var t=this;$(window).on("beforeunload",function(){t.disconnect(!1)})},_init:function(t){var e=this;r&&!t||this._connected||(r=!0,this._initFocusEvents(),this._bindOnUnload(),this._connect=this._connect.bind(this),clearTimeout(this._connectTimeout),t?this._connect():this._connectTimeout=setTimeout(function(){e._connect()},6e4))},_hasXivaSupport:function(){return Boolean(window.WebSocket)},_connect:function(){var e=this,t=home.getData("i-xiva.url");this._hasXivaSupport()&&t&&(n||i.e(1).then(i.t.bind(null,"6jwv",7)).then(function(){n||((n=new SockJS("//"+t+"/xiva",null,{protocols_whitelist:["websocket"]})).onopen=function(){e._connected=!0,e._updateSubscription(),e._checkConnection(),e._sendDelayed()},n.onmessage=e._onMessage.bind(e),n.onclose=function(t){e._connected=!1,n=null,e._reconnect(1e3===t.code)})},function(t){e._chunkErrorLogged||(e._chunkErrorLogged=!0,home.error.logError({block:"i-xiva",url:t.request},t)),e._reconnect(!0)}))},_reconnect:function(t){var e;this._stopConnectionTimer(),c&&(a++,e=0,t||(e+=a<=1?120*Math.random()*1e3:300*Math.random()*1e3),e+=a<=2?1e4:a<=6?3e4:6e4,setTimeout(this._connect,e))},_stopConnectionTimer:function(){o&&(clearTimeout(o),o=null)},_checkConnection:function(){var t=this;this._stopConnectionTimer(),o=setTimeout(function(){t._connected&&(a=0)},5e3)},_updateSubscription:function(){var t=this;s&&clearTimeout(s),s=setTimeout(function(){t._subscribeSend()},100)},_subscribeSend:function(){var t;if(this._connected){for(var e in t={subscribe:{}},l)l.hasOwnProperty(e)&&(t.subscribe[e]=l[e].ts);n&&n.send(JSON.stringify(t))}},_onMessage:function(t){var e,i,t=$.trim(t.data);try{i=(e=JSON.parse(t)).ch+"_"+e.key,e.mts&&(this._timeDelta=Number(new Date)-e.mts);var n=l[i];if(n){var o=parseInt(e.ts),s=n.ts;if(s&&s<o||n.ignoreFilterByTime){n.ts=o;for(var r=n.handlers,a=0,c=r.length;a<c;++a)d||n.ignoreBlurEvent?r[a](e):h.push({handler:r[a],data:e})}}}catch(t){}},getTimeDelta:function(){return this._timeDelta}})},Zs4m:function(t,e){BEM.decl("i-intersection-observer-wrapper",{},{_listenEvents:function(){this.__base.apply(this,arguments),BEM.channel("i-reposition-event").on("change",this._throttledCallback)}})},ZsAA:function(t,e){BEM.DOM.decl("modal",{attachToScope:function(t){return this._popup.attachToScope(t)}})},Zw61:function(t,e){!function(h){var i=[],d=h.inherit,u=h.isFunction,r=Function.prototype.call.bind(Object.prototype.hasOwnProperty),m={},n={};function a(t,e,i){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(i?"_"+i:"")}function o(t,e,i){var n,o,s;if(u(t))e[a(i,"*","*")]=t;else for(n in t)if(r(t,n))if(s=t[n],u(s))e[a(i,n,"*")]=s;else for(o in s)r(s,o)&&(e[a(i,n,o)]=s[o])}function p(t){if(t.onSetMod&&(o(t.onSetMod,t),delete t.onSetMod),t.onElemSetMod){for(var e in t.onElemSetMod)r(t.onElemSetMod,e)&&o(t.onElemSetMod[e],t,e);delete t.onElemSetMod}}this.BEM=d(h.observable,{__constructor:function(t,e,i){var n=this;n._modCache=t||{},n._processingMods={},n._params=e,n.params=null,!1!==i?n._init():n.afterCurrentEvent(function(){n._init()})},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=h.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(t.bind(e||this))},on:function(t,e,i,n){return"object"==typeof t&&(h.isFunction(e)||h.isFunction(i))&&(t=this.__self._buildModEventName(t)),this.__base.apply(this,arguments)},un:function(t,e,i){return"object"==typeof t&&h.isFunction(e)&&(t=this.__self._buildModEventName(t)),this.__base.apply(this,arguments)},trigger:function(t,e){var i=!0;return"object"!=typeof t||t instanceof h.Event||(i="js"===t.modName||this.hasMod("js"),t=this.__self._buildModEventName(t)),i&&(this.__base(t=this.buildEvent(t),e),this._trigger(t,e)),this},_trigger:function(t,e){this.__self.trigger(t,e)},buildEvent:function(t){return(t="string"==typeof t?h.Event(t):t).block=this,t},hasMod:function(t,e,i){var n=arguments.length,o=!1;1==n?(i="",e=t,o=!(t=void 0)):2==n&&("string"==typeof t?(i=e,e=t,t=void 0):o=!(i=""));n=this.getMod(t,e)===i;return o?!n:n},getMod:function(t,e){var i=typeof t;if("string"!=i&&"undefined"!=i)return this._getElemMod(e,t);i=this._modCache;return(e=t||e)in i?i[e]:i[e]=this._extractModVal(e)},_getElemMod:function(t,e,i){return this._extractModVal(t,e,i)},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,e=[].slice.call(arguments,e?1:0);return e.length?e.reduce(function(t,e){return e in i&&(t[e]=i[e]),t},{}):i},setMod:function(t,e,i){void 0===i&&("string"==typeof t?(i=void 0===e||e,e=t,t=void 0):i=!0);var n=this;if(!t||t[0]){!1===i||null===i?i="":!0!==i&&(i=i.toString());var o=(t&&t[0]?h.identify(t[0]):"")+"_"+e;if(this._processingMods[o])return n;var s,r=t?n._getElemMod(e,t,s=n.__self._extractElemNameFrom(t)):n.getMod(e);if(r===i)return n;var a=this._processingMods[o]=!0,c=[e,i,r];t&&c.unshift(t),[["*","*"],[e,"*"],[e,i]].forEach(function(t){a=!1!==n._callModFn(s,t[0],t[1],c)&&a}),!t&&a&&(n._modCache[e]=i),a&&n._afterSetMod(e,i,r,t,s),delete this._processingMods[o]}return n},_afterSetMod:function(t,e,i,n,o){i={modName:t,modVal:e,oldModVal:i};n&&(i.elem=n),this.trigger({modName:t,modVal:"*",elem:o},i).trigger({modName:t,modVal:e,elem:o},i)},toggleMod:function(t,e,i,n,o){"string"==typeof t&&(o=n,n=i,i=e,e=t,t=void 0),void 0===n?n="":"boolean"==typeof n&&(o=n,n="");var s=this.getMod(t,e);return s!=i&&s!=n||this.setMod(t,e,"boolean"==typeof o?o?i:n:this.hasMod(t,e,i)?n:i),this},delMod:function(t,e){return e||(e=t,t=void 0),this.setMod(t,e,"")},_callModFn:function(t,e,i,n){i=a(t,e,i);return this[i]?this[i].apply(this,n):void 0},_extractModVal:function(t,e){return""},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){var t={modName:"js",modVal:"",oldModVal:"inited"};this.trigger({modName:t.modName,modVal:t.modVal},t)}},h.extend(this.BEM,{_name:"i-bem",blocks:m,decl:function(t,o,e){"string"==typeof t?t={block:t}:t.name&&(t.block=t.name),p(o=o||{});var n,s,r,i,a=m[t.baseBlock||t.block]||this;t.modName&&(n=t.modName,r=(s=t.modVal)?Array.isArray(s)?function(t){for(var e=0,i=s.length;e<i;)if(t.hasMod(n,s[e++]))return!0;return!1}:function(t){return t.hasMod(n,s)}:function(t){return t.hasMod(n)},h.each(o,function(i,n){u(n)&&(o[i]=function(){var t,e;return r(this)?t=n:(e=a.prototype[i])&&e!==o[i]&&(t=this.__base),t?t.apply(this,arguments):void 0})})),e&&"boolean"==typeof e.live&&(i=e.live,e.live=function(){return i});var c,l=a;return t.baseMix&&(l=[l],t.baseMix.forEach(function(t){l.push(m[t])})),t.block==a._name?(c=d.self(l,o,e))._processLive(!0):((c=m[t.block]=d(l,o,e))._name=t.block,delete c._liveInitable),c},declMix:function(t,e,i){return p(e=e||{}),m[t]=d(e,i)},_processLive:function(t){return!1},create:function(t,e){return new m[(t="string"==typeof t?{block:t}:t).block](t.mods,e)},getName:function(){return this._name},on:function(t,e,i,n){return"object"==typeof t&&(h.isFunction(e)||h.isFunction(i))&&(t=this._buildModEventName(t)),this.__base.apply(this,arguments)},un:function(t,e,i){return"object"==typeof t&&h.isFunction(e)&&(t=this._buildModEventName(t)),this.__base.apply(this,arguments)},_buildModEventName:function(t){var e="_"+t.modName+"_"+(!1===t.modVal?"":t.modVal);return e=t.elem?"__"+t.elem+e:e},_extractElemNameFrom:function(t){},afterCurrentEvent:function(t,e){1==i.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=i.length;t&&i.splice(0,t).forEach(function(t){t.fn.call(t.ctx||this)},this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,i=e?0:1,n=arguments.length;for(e&&(t=this);i<n;)delete t[arguments[i++]];return this},channel:function(t,e){if("boolean"==typeof t&&(e=t,t=void 0),t=t||"default",!e)return n[t]||(n[t]=new h.observable);n[t]&&(n[t].un(),delete n[t])}}))}(jQuery)},"a+6J":function(t,e){BEM.decl("i-voice",{},{hasMicSupport:function(e){try{if("Promise"in window&&(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia)){var t;if(navigator.enumerateDevices?t=navigator.enumerateDevices.bind(navigator):(window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(t=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(t=function(t){navigator.mediaDevices.enumerateDevices().then(t)})),!t)return void e({message:"API is Not supported"});t(function(t){t=t.some(function(t){return"audio"===t.kind||"audioinput"===t.kind});e(!t&&{message:"Mic is not available"})})}else e({message:"API is Not supported"})}catch(t){e({message:"API is Not supported"})}}})},a52g:function(t,e){BEM.DOM.decl("etrains",{onSetMod:{direction:function(t,e){e=this.params.urls&&this.params.urls[e||"fwd"];e&&this.elem("title-link").attr("href",e)}},toggle:function(){this.toggleMod("direction","rev"),home.stat.logPath("click","rasp."+this.params.counterType+".changeway")}},{live:function(){this.liveBindTo("direction","pointerclick",function(){this.toggle()})}})},aBkz:function(t,e){BEM.DOM.decl({name:"widget",modName:"name",modVal:"stocks"},{reload:function(){"_stocks-1"===this.params.id?this.reloadTopNews():this.__base.apply(this)},reloadTopNews:function(){$("#wd-wrapper-_topnews-1").bem("widget").getInstance().reload(!1,!1,!0)}})},aJtm:function(t,e){BEM.DOM.decl("covid-athome",{_onClose:function(t){this._yabsSend(t),this.destruct()},_yabsSend:function(t){var e=t.data.domElem,i=this.params.closeUrl,n=e.attr("href"),e="_blank"===e.attr("target");i&&BEM.blocks["i-yabs-sender"].sendClose(t,i,e?void 0:n)}},{live:function(){this.liveBindTo("close","click",function(t){this._onClose(t)}),this.liveBindKey("close","space enter",function(t){this._onClose(t)}),this.liveBindTo("more","click",function(t){this._yabsSend(t)})}})},aL1Z:function(t,e){BEM.DOM.decl("divjson2-visibility",{onSetMod:{js:{inited:function(){this._actions={},this.params.actions.forEach(function(t){var e=void 0!==t.percent?t.percent:50,e=this.__self._instances[e/=100]||BEM.blocks["i-intersection-observer-wrapper"].create(this.__self._onIntersection,{threshold:e});e.observe(this.domElem[0]),t.observer=e,this._actions[String(e.thresholds)]=t},this)}}},_onIntersection:function(e,t){var i=this._actions&&this._actions[String(t.thresholds)];i&&(clearTimeout(i.timeout),e.isIntersecting&&(i.timeout=setTimeout(function(){i.log&&home.stat.logPath("show",this.params.layoutName+"."+i.log),i.url&&((new Image).src=i.url);var t=0===i.limit?1/0:i.limit||1;i.count=(i.count||0)+1,i.count>=t&&i.observer.unobserve(e.target)}.bind(this),void 0!==i.duration?i.duration:800)))}},{_instances:{},_onIntersection:function(t,e){t.forEach(function(t){$(t.target).bem("divjson2-visibility")._onIntersection(t,e)})}})},aPu7:function(t,e){!function(l){if(!l)throw new Error("Rum: interface is not included");if(!l.enabled)return l.getSetting=function(){return""},l.getVarsList=function(){return[]},l.getResourceTimings=l.pushConnectionTypeTo=l.pushTimingTo=l.normalize=l.sendCounter=l.sendDelta=l.sendTimeMark=l.sendResTiming=l.sendTTI=l.makeSubPage=l.sendHeroElement=l.onReady=function(){};l.getVarsList=function(){var e=l._vars;return Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t]).replace(/\*/g,"%2A")})},l.setVars=function(e){Object.keys(e).forEach(function(t){l._vars[t]=e[t]}),t(),k()};var r,e,s={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},a={visible:1,hidden:2,prerender:3},i={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},c={"first-paint":2793,"first-contentful-paint":2794},h=Object.keys(c).length,d=l.getTime,u=window.PerformanceObserver,m=window.performance||{},p=m.timing||{},_=m.navigation||{},n=navigator.connection,o={},f={},g=l._deltaMarks,v=document.createElement("link"),b=document.createElement("a"),y="function"==typeof m.getEntriesByType,w=p.navigationStart;function t(){r=l.getVarsList(),l.getSetting("sendClientUa")&&r.push("1042="+encodeURIComponent(navigator.userAgent))}function k(){e=r.concat(["143.2129="+w])}if(t(),k(),l.ajaxStart=0,l.ajaxComplete=0,u)try{new u(function(t,e){t=t.getEntriesByType("navigation")[0];t&&(e&&e.disconnect(),G(e=[],t),q(e),X("690.2096.2892",r.concat(e)))}).observe({entryTypes:["navigation"]})}catch(t){}function E(t){function e(){removeEventListener("DOMContentLoaded",e),removeEventListener("load",e),t()}"loading"===document.readyState?(addEventListener("DOMContentLoaded",e),addEventListener("load",e)):t()}function M(){var t;l.getSetting("disableOnLoadTasks")||(removeEventListener("load",M),(t=!(t=l.getSetting("periodicStatsIntervalMs"))&&null!==t?15e3:t)&&(T=setInterval(j,t)),addEventListener("beforeunload",j),function(){if(u){F(m.getEntriesByType("navigation")),F(m.getEntriesByType("resource"));try{new u(function(t){F(t.getEntries())}).observe({entryTypes:["resource","navigation"]})}catch(t){}l._periodicTasks.push(N)}}(),function(){if(u)try{new u(function(t,e){t=t.getEntries()[0];t&&(D("first-input",t.processingStart-t.startTime),e.disconnect())}).observe({type:"first-input",buffered:!0})}catch(t){}}(),function(){if(u){var e=new u(function(t){var e=t.getEntries();null==R&&(R=0);for(var i=0;i<e.length;i++){var n=e[i];n.hadRecentInput||(R+=n.value)}});try{e.observe({type:"layout-shift",buffered:!0})}catch(t){}addEventListener("visibilitychange",function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof e.takeRecords&&e.takeRecords(),e.disconnect()}catch(t){}L()}}),addEventListener("beforeunload",L)}}(),function(){if(u&&(l.getSetting("forcePaintTimeSending")||!l.isVisibilityChanged())){var e=new u(function(t){for(var e=t.getEntries(),i=0;i<e.length;i++){var n=e[i];U=n.renderTime||n.loadTime}H||(B("largest-loading-elem-paint",U),H=!0)});try{e.observe({type:"largest-contentful-paint",buffered:!0})}catch(t){}addEventListener("visibilitychange",function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof e.takeRecords&&e.takeRecords(),e.disconnect()}catch(t){}z()}}),addEventListener("beforeunload",z)}}())}function x(){var t,e,i,n=p.domContentLoadedEventStart,o=p.domContentLoadedEventEnd;0!==n||0!==o?(t=0===p.responseStart?w:p.responseStart,e=0===p.domainLookupStart?w:p.domainLookupStart,i=r.concat(["2129="+w,"1036="+(e-w),"1037="+(p.domainLookupEnd-p.domainLookupStart),"1038="+(p.connectEnd-p.connectStart),p.secureConnectionStart&&"1383="+(p.connectEnd-p.secureConnectionStart),"1039="+(p.responseStart-p.connectEnd),"1040="+(p.responseEnd-t),"1040.906="+(p.responseEnd-e),"1310.2084="+(p.domLoading-t),"1310.2085="+(p.domInteractive-t),"1310.1309="+(o-n),"1310.1007="+(n-t),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]),Object.keys(s).forEach(function(t){t in p&&p[t]&&i.push(s[t]+"="+Z(p[t],w))}),l.vsStart?(i.push("1484="+(a[l.vsStart]||2771)),l.vsChanged&&i.push("1484.719=1")):i.push("1484="+a.visible),_&&(_.redirectCount&&i.push("1384.1385="+_.redirectCount),1!==_.type&&2!==_.type||i.push("770.76="+_.type)),q(i),X("690.1033",i)):setTimeout(x,50)}E(function(){w&&setTimeout(function(){l.sendTimeMark=B,l.sendResTiming=O,l.timeEnd=I;for(var t=l._defRes;t.length;){var e=t.shift();O(e[0],e[1])}for(var i=l._defTimes;i.length;){var n=i.shift();B(n[0],n[1],!1,n[2])}Object.keys(g).forEach(function(t){D(t)}),x(),function i(){if(y&&(l.getSetting("forcePaintTimeSending")||!l.isVisibilityChanged())){for(var t=m.getEntriesByType("paint"),e=0;e<t.length;e++){var n=t[e],o=c[n.name];o&&!S[n.name]&&(S[n.name]=!0,C++,B("1926."+o,n.startTime))}if(C<h)try{new u(function(t,e){i(),e&&e.disconnect()}).observe({entryTypes:["paint"]})}catch(t){}}}(),l.getSetting("sendAutoElementTiming")&&W(),$(),"complete"===document.readyState?M():addEventListener("load",M)},0)}),l._getCommonVars=function(){return r};var T,S={},C=0;function B(t,e,i,n){void 0===e&&(e=d()),void 0!==i&&!0!==i||l.mark(t,e);i=Y(t);i.push("207="+Z(e)),P(i,n)&&(X("690.2096.207",i),o[t]=o[t]||[],o[t].push(e),(t=l._markListeners[t])&&t.length&&t.forEach(function(t){t(e)}))}function P(i,n){if(n){if(n.isCanceled&&n.isCanceled())return;var o=i.reduce(function(t,e,i){return"string"==typeof e&&(t[e.split("=")[0]]=i),t},{});Object.keys(n).forEach(function(t){var e;"function"!=typeof n[t]&&(e=o[t],t=t+"="+n[t],void 0===e?i.push(t):i[e]=t)})}return 1}function I(t,e){var i=g[t];i&&0!==i.length&&(i.push(d(),e),D(t))}function D(t,e,i){var n,o,s,r=g[t];void 0!==e?n=(o=l.getTime())-e:r&&(n=r[0],o=r[1],s=r[2]),void 0!==n&&void 0!==o&&((r=Y(t)).push("207.2154="+Z(n),"207.1428="+Z(o),"2877="+Z(o-n)),P(r,i)&&P(r,s)&&(X("690.2096.2877",r),delete g[t]))}function O(i,n){V(n,function(t){var e;t&&(e=Y(i),l.getSetting("sendUrlInResTiming")&&e.push("13="+encodeURIComponent(n)),G(e,t[0]),X("690.2096.2044",e))})}function j(){var e=!1;l._periodicTasks.forEach(function(t){t()&&(e=!0)}),e||clearInterval(T)}l.getTimeMarks=function(){return o},l._periodicTasks=[];var R,A=0;function F(t){if(t&&t.length)for(var e=f,i=0;i<t.length;i++){var n,o=function(t){var e=t.transferSize;if(null!=e){b.href=t.name;var i=b.pathname;if(0!==i.indexOf("/clck")){var n=i.lastIndexOf("."),t="";return-1!=n&&i.lastIndexOf("/")<n&&i.length-n<=5&&(t=i.slice(n+1)),{size:e,domain:b.hostname,extension:t}}}}(t[i]);o&&((n=e[n=o.domain+"-"+o.extension]=e[n]||{count:0,size:0}).count++,n.size+=o.size)}}function N(){var t=l.getSetting("maxTrafficCounters")||250;if(t<=A)return!1;for(var e=Object.keys(f),i="",n=0;n<e.length;n++){var o=e[n],s=f[o];i+=encodeURIComponent(o)+"!"+s.count+"!"+s.size+";"}return i.length&&(A++,X("690.2096.361",r.concat(["d="+i,"t="+Z(d())]))),f={},A<t}function L(){var t;null!=R&&(t=Math.round(1e6*R)/1e6,X("690.2096.4004",r.concat("s="+t)),R=null)}var U=null,H=!1;function z(){null!=U&&(B("largest-contentful-paint",U),U=null)}var W=u?function(){if(l.getSetting("forcePaintTimeSending")||!l.isVisibilityChanged())try{new u(function(t){for(var e=t.getEntries(),i=0;i<e.length;i++){var n=e[i];B("element-timing."+n.identifier,n.startTime)}}).observe({type:"element",buffered:!0})}catch(t){}}:function(){};function $(s,r,o){var a,c;l._tti&&(a=d(),c=function(t,e,i){var n={2796.2797:K(i,r),689.2322:Z(a)};o&&Object.keys(o).forEach(function(t){n[t]=o[t]}),B(t||"2795",e,!0,n),l._tti.fired=!0},function t(){var e=r||a,i=d(),n=l._tti.events||[],o=n.length;0!==o&&(o=n[o-1],e=Math.max(e,Math.floor(o.startTime+o.duration))),3e3<=i-e?c(s,e,n):2e4<=i-e?c(s,(r||a)+2e4,n):setTimeout(t,1e3)}())}function q(t){n&&t.push("2437="+(i[n.type]||2771),void 0!==n.downlinkMax&&"2439="+n.downlinkMax,n.effectiveType&&"2870="+n.effectiveType,void 0!==n.rtt&&"rtt="+n.rtt,void 0!==n.downlink&&"dwl="+n.downlink)}function V(t,i){if(!y)return i(null);v.href=t;var n=v.href,o=0,s=100;setTimeout(function t(){var e=m.getEntriesByName(n);if(e.length)return i(e);o++<10?(setTimeout(t,s),s+=s):i(null)},0)}function K(t,e){return e=e||0,(t=t||[]).filter(function(t){return-50<=t.startTime-e}).map(function(t){var e=t.name?t.name.split("-").map(function(t){return t[0]}).join(""):"u",i=Math.floor(t.startTime);return e+"-"+i+"-"+Math.floor(i+t.duration)}).join(".")}function Y(t){return e.concat(["1701="+t,l.ajaxStart&&"1201.2154="+Z(l.ajaxStart),l.ajaxComplete&&"1201.2052="+Z(l.ajaxComplete)])}function G(i,n){Object.keys(s).forEach(function(t){var e;t in n&&(!(e=n[t])&&0!==e||i.push(s[t]+"="+Z(e)))})}function Z(t,e){return"string"==typeof t?encodeURIComponent(t):Math.round(1e3*(t-(e||0)))/1e3}function X(t,e){var i=encodeURIComponent(window.YaStaticRegion||"unknown");e.push("-cdn="+i);e=e.filter(Boolean).join(",");l.send(null,t,e)}l.sendTTI=$,l.sendHeroElement=function(t){B("2876",t)},l._subpages={},l.makeSubPage=function(t,e){var i=l._subpages[t];l._subpages[t]=void 0===i?i=0:++i;var n=!1;return{689.2322:Z(void 0!==e?e:d()),2924:t,2925:i,isCanceled:function(){return n},cancel:function(){n=!0}}},l._getLongtasksStringValue=K,l.getResourceTimings=V,l.pushConnectionTypeTo=q,l.pushTimingTo=G,l.normalize=Z,l.sendCounter=X,l.sendDelta=D,l.sendTrafficData=N,l.finalizeLayoutShiftScore=L,l.finalizeLargestContentfulPaint=z,l.onReady=E}(Ya.Rum)},"aY9+":function(t,e){BEM.decl("i-metrika",{},{add:function(t){var e=(t=t||{}).id;if(!e)throw new Error("i-metrika: Counter id wasn't passed");var i=$.Deferred();try{window["yaCounter"+e]?i.resolve(window["yaCounter"+e]):(window["yaCounter"+e]=new window.Ya.Metrika(t),$(document).one("yacounter"+e+"inited",function(){i.resolve(window["yaCounter"+e])}))}catch(t){i.reject()}return i.promise()}})},ayR3:function(t,e){BEM.DOM.decl({block:"button2",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}},pressed:{yes:function(){if(this.hasMod("disabled"))return!1;this.trigger("press")},"":function(){this.trigger("release")}},checked:{yes:function(){this.trigger("check").domElem.attr("aria-pressed","true")},"":function(){this.trigger("uncheck").domElem.attr("aria-pressed","false")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("pressed")}},focused:{"":function(){this.__base.apply(this,arguments),this.delMod("pressed")}},progress:{yes:function(){this.setMod("disabled","yes")},"":function(){this.delMod("disabled")}}},getText:function(){return this.elem("text").text()},setText:function(t){return this.elem("text").text(t),this},_onClick:function(t){(!this._preventClick||0<t.detail)&&this.trigger("click",this._buildClickEventData(t)),this._preventClick=!1},_processClick:function(t){this.trigger("click",this._buildClickEventData(t))},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onKeydown:function(t){var e=t.keyCode,i=BEM.blocks.keycodes;i.is(e,this.params.pressKeys)&&(this.setMod("pressed","yes"),i.is(e,this.params.prvntKeys)&&t.preventDefault())},_onKeyup:function(t){var e=t.keyCode,i=BEM.blocks.keycodes;i.is(e,this.params.prvntKeys)&&t.preventDefault(),i.is(e,this.params.pressKeys)&&(this.delMod("pressed"),i.is(e,this.params.clickKeys)&&(this._preventClick=!0,this._processClick(t)))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}},getDefaultParams:function(){return $.extend(this.__base(),{pressKeys:["SPACE","ENTER"],prvntKeys:[],clickKeys:[]})}},{live:function(){return this.liveBindTo("pointerpress",function(t){this.hasMod("disabled")||this._onPointerpress(t)}).liveBindTo("pointerclick",function(t){this.hasMod("disabled")||this._onClick(t)}).liveBindTo("keydown",function(t){this._onKeydown(t)}).liveBindTo("keyup",function(t){this._onKeyup(t)}),this.__base()}})},b37U:function(t,e){BEM.decl("i-zen-initializer",{onSetMod:{js:{inited:function(){var t,e,i,n=$(".infinity-zen");n.length&&(t=function(){var t;null===(t=n.bem("infinity-zen"))||void 0===t||t.forceLoad()},"instant"===(i=this.params.type)?t():"async"===i?setTimeout(t,0):"viewed"===i&&(e=window.pageYOffset+window.innerHeight,(i=null===(i=n.offset())||void 0===i?void 0:i.top)&&i<e&&t()))}}}})},b4vc:function(t,e){var i=/\s+/;MBEM.cls={list:function(t){return t.split(i).filter(Boolean)},contains:function(t,e){return-1<MBEM.cls.list(t.className).indexOf(e)},add:function(t,e){var i=MBEM.cls.list(t.className);return-1===i.indexOf(e)&&i.push(e),t.className=i.join(" "),this},remove:function(t,e){var i=MBEM.cls.list(t.className),e=i.indexOf(e);return-1<e&&i.splice(e,1),t.className=i.join(" "),this},toggle:function(t,e,i){return void 0===i&&(i=!MBEM.cls.contains(t,e)),MBEM.cls[i?"add":"remove"](t,e)}}},b7em:function(t,e){BEM.DOM.decl("select",{onSetMod:{opened:{yes:function(){if(this.hasMod("disabled"))return!1;this._drawPopup();var t=this.findElem(this._popup.domElem,"item","selected","yes");this.elem("button").attr({"aria-activedescendant":t.attr("id"),"aria-expanded":!0})},"":function(){this.elem("button").attr("aria-expanded",!1).removeAttr("aria-activedescendant"),this._getPopup().hide()}}},_getPopupContent:function(t){return{block:t,elem:"list"}},_getPopupMix:function(t){return{block:t,elem:"popup",elemMods:{}}},_getPopup:function(){if(this._popup)return this._popup;var i=this,t=i.params,e=i.__self.getName(),n=this._getPopupContent(e),o=this._getPopupMix(e),s={animate:"no"},e={directions:[{to:"bottom",axis:"left",offset:{top:8}},{to:"top",axis:"left",offset:{bottom:8}}]};["size","layout","theme","width"].forEach(function(t){i.hasMod(t)&&(o.elemMods[t]=i.getMod(t))}),$.extend(o.elemMods,t.elemPopupMods),$.extend(s,t.popupMods),$.extend(e,t.popupParams);n=$(BEMHTML.apply({block:"popup",mods:s,mix:o,js:e,content:{elem:"content",content:n}}));return this._popup=this.findBlockOn(n,"popup"),this._popup.on({show:function(){i._curItemIndex=i._getSelectedIndex();var t=i._items.eq(i._curItemIndex);i.delMod(i._items,"selected").setMod(t,"hovered","yes").setMod(t,"selected","yes")},"outside-click":function(t,e){i._isOutsideClicked(t,e)?t.preventDefault():i._blurButton()},hide:function(){i.delMod("opened").delMod(i._items,"hovered").delMod(i.findElem(i._popup.domElem,"popup"),"scrollable")}}).bindTo("mousedown",function(t){t.preventDefault()}),BEM.DOM.append(BEM.DOM.scope,i._popup.domElem),i._redrawList(),i._outPopup=i.findBlockOutside("button","popup"),i._outPopup&&i._outPopup.on("outside-click",function(t,e){i._popup.containsDomElem($(e.target))&&t.preventDefault()}),i._popup},_calcPopupDimensions:function(){this._popupContent||(this._popupContent=this._getPopup().findBlockInside("popup").elem("content"));var t,e=parseInt(this.params.rows,10),i=this._getPopup();e&&this.findElem(this._popupContent,"item").size()>e?(this._rowHeight=this._getRowHeight(),(t=parseInt(i.domElem.css("height"),10))!==(e=e*this._rowHeight)&&(i.setSize({height:e}),e<t&&this.setMod(this.findElem(i.domElem,"popup"),"scrollable","yes"))):i.setSize({height:"auto"})},_drawPopup:function(){var t=this.findBlockInside("select");this._getPopup().show(t),this._calcPopupDimensions(),this._scrollToCurrent()},_scrollToCurrent:function(){var t,e,i,n,o,s;!this._popupContent||this._curItemIndex<0||(e=this._items.eq(this._curItemIndex).get(0).offsetTop,n=(i=this._popupContent).scrollTop(),s=2*this._rowHeight,(o=e-n)>i.height()-s?t=e-s:n&&o<s&&(t=e-i.height()+s),t&&i.scrollTop(t))}},{SHADOW_OFFSET:1})},bN1B:function(t,e){!function(){"use strict";var e={},r={};function a(t){var e=home.getData("bundles.data.host");return e?t.replace("//yastatic.net",e):t}home.bundles=home.bundles||{},home.bundles.loaded={},home.bundles.load=function(n,i){if(e[n])return e[n];var o=home.getData("bundles.data");if(-1<home.getData("bundles.placed",[]).indexOf(n))return e[n]=new Promise(function(t){r[n]=t}),e[n];i=i||{};var s=home.bundles.staticURL&&home.bundles.staticURL[n]||o&&o.staticURL&&o.staticURL[n];return e[n]=Promise.race([new Promise(function(t,e){setTimeout(e,i.timeout||1e4)}),Promise.all([!1===i.css?null:new Promise(function(t){var e=o.root+"/"+o.page+"__"+n+"/_"+o.page+"__"+n+(o.cssSuffix||"")+".css";s&&s["css"+(o.cssSuffix||"")]&&(e=a(s["css"+(o.cssSuffix||"")])),home.loadCss(e,{callback:t,noFlash:!0})}),new Promise(function(t,e){var i=document.createElement("script");r[n]=t,i.onerror=function(){e(new Error("Failed to load js from bundle "+n))};t=o.root+"/"+o.page+"__"+n+"/_"+o.page+"__"+n+"."+o.locale+(o.jsSuffix||"")+".js";s&&s["js"+(o.jsSuffix||"")]&&(t=a(s["js"+(o.jsSuffix||"")])),i.src=t,document.getElementsByTagName("head")[0].appendChild(i)})])]).catch(function(t){throw e[n]=null,t})},home.bundles.notify=function(t){e[t]?r[t]&&r[t]():e[t]=Promise.resolve(),e[t].then(function(){home.bundles.loaded[t]=!0,home.bundles.initBlocks()})}}()},bXpa:function(t,e){BEM.DOM.decl("i-geolocation",{},{get:function(t,e){var i,n;1===arguments.length&&(e=t,t={}),(t=$.extend({enableHighAccuracy:!0,timeout:15,cacheTime:15},t)).timeout*=1e3,t.maximumAge=1e3*t.cacheTime*60,delete t.cacheTime,"geolocation"in navigator?(i=!1,n=setTimeout(function(){i=!0,e({error:4})},t.timeout+300),navigator.geolocation.getCurrentPosition(function(t){i||(clearTimeout(n),e(t))},function(t){i||(clearTimeout(n),e({error:t.code}))},t)):e({error:0})}})},cTAP:function(t,e){BEM.DOM.decl("weather",{onSetMod:{js:{inited:function(){var t;null!==(t=this.params.onboarding)&&void 0!==t&&t.phrases.length&&(null===(t=this._getSearchInput())||void 0===t||t.on("change",this._validateInputValue,this))}}},_validateInputValue:function(){var t,e,i=this._getSearchInput();i&&"string"==typeof(t=i.val())&&-1!==(null===(e=this.params.onboarding)||void 0===e?void 0:e.phrases.indexOf(t))&&(i.un("change",this._validateInputValue,this),this._onboardingShow())},_getSearchInput:function(){return this._searchInput||(this._searchInput=this.findBlockOutside($(".search2 .input"),"input")),this._searchInput},_onboardingShow:function(){var t;this.setMod("onboarding-animated","yes"),BEM.blocks["i-yabs-sender"].sendShow(null===(t=this.params.onboarding)||void 0===t?void 0:t.linknext),home.stat.logPath("show","weather.onboarding")}},{})},cW4x:function(t,e){BEM.DOM.decl("control",{onSetMod:{focused:{yes:function(){if(this.hasMod("disabled"))return!1;this._focused||(this._focus(),this.trigger("focus"))},"":function(){this._focused&&(this._blur(),this.trigger("blur"))}},disabled:{"*":function(t,e){var i=this._getControl();i.prop("disabled",Boolean(e)).attr("aria-disabled",Boolean(e)),i.attr("tabindex",e?null:this.params._tabindex)},yes:function(){this.delMod("focused")}}},_focus:function(){this._getControl().focus()},_blur:function(){this._getControl().blur()},_getControl:function(){var t=this.elem("control");return 0<t.length?t:this.domElem},_onFocusin:function(){this._focused=!0,this.trigger("focus").setMod("focused","yes").bindTo("focusout",this._onFocusout)},_onFocusout:function(){this._focused=!1,this.trigger("blur").delMod("focused").unbindFrom("focusout")},getDefaultParams:function(){return{_tabindex:this._getControl().attr("tabindex")}}},{live:function(){this.liveBindTo("focusin",function(t){this._onFocusin(t)}),8<=parseInt(BEM.blocks["i-ua"].ios,10)&&this.liveBindTo("control","focusin",function(t){t.preventDefault()})}})},czxu:function(t,e){BEM.DOM.decl("button",{onSetMod:{focused:{yes:function(){if(this.isDisabled())return!1;this.bindToWin("unload",function(){this.delMod("focused")}).bindTo("keydown",this._onKeyDown),this._isControlFocused()||this._getControl().focus(),this.trigger("focus")},"":function(){var t=BEM.blocks["i-ua"].opera<13;this.unbindFromWin("unload").unbindFrom("keydown"),(t||document.hasFocus())&&this._isControlFocused()&&this._getControl().blur(),this.trigger("blur")}},disabled:function(t,e){this.__base.apply(this,arguments),e&&(this.delMod("focused"),this.domElem.keyup())},hovered:function(t,e){if(this.isDisabled())return!1;e||this.delMod("pressed")},pressed:function(){return this.isDisabled()||this.setMod("focused","yes"),this.__base.apply(this,arguments)}},_getControl:function(){return this.elem("control").length&&this.elem("control")||this.domElem},_isControlFocused:function(){return this.containsDomElem($.dom.getActiveElement())},_onKeyDown:function(t){var e=BEM.blocks.keycodes,i=t.keyCode;!this._keyDowned&&e.is(i,"ENTER","SPACE")&&(this._keyDowned=!0,this.setMod("pressed","yes").bindTo("keyup",function(){this.delMod("pressed").unbindFrom("keyup"),delete this._keyDowned,i===e.SPACE&&this.domElem.attr("href")&&(document.location=this.domElem.attr("href"))}))},destruct:function(){this.delMod("focused"),this.__base.apply(this,arguments)}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.isDisabled()||this.domElem[0].contains(t.relatedTarget)||this.toggleMod("hovered","yes","pointerover"===t.type)}).liveBindTo("focusin focusout",function(t){this.toggleMod("focused","yes","focusin"===t.type)}),8===BEM.blocks["i-ua"].ie&&this.liveBindTo("mouseup mouseout",function(t){this.domElem.height()}),this.__base()}})},d8pI:function(t,e){BEM.DOM.decl("sup-notice",{onSetMod:{hidden:{yes:function(){this._destroyKey("ENTER")._destroyKey("ESC"),this.__base.apply(this,arguments)}}},_handlersKeys:{},_initializeKey:function(e,i){return this._handlersKeys[e]||(this._handlersKeys[e]=function(t){BEM.blocks.keycodes.is(t.keyCode,e)&&this.close(i)},this.bindToDoc("keydown",this._handlersKeys[e])),this},_destroyKey:function(t){return this._handlersKeys[t]&&(this.unbindFromDoc("keydown",this._handlersKeys[t]),delete this._handlersKeys[t]),this}})},dOHD:function(t,e){BEM.DOM.decl({block:"imageloader",modName:"different",modVal:"yes"},{_getViewedCards:function(t,e){for(var i=this.elem("column"),n=i.length&&i.eq(0).offset().left||0,o=0;o<i.length;++o){var s=i.eq(o),r=s.offset().left-n,s=s.outerWidth();if(!(r+s<t||e<=(t-r)/s)){i=i.slice(0,o);break}}return i.find(".imageloader__card").add(i.filter(".imageloader__card"))}})},dqG4:function(t,e){BEM.DOM.decl("dropdown2",{onSetMod:{opened:function(t,e){this.__base.apply(this,arguments),this._switcher&&(this._switcher.domElem||this._switcher).attr("aria-expanded","yes"===e?"true":"false")}}})},drW9:function(t,e){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments),i=t[5];return i&&"ad"===i.type&&(e.className=e.className.replace(" mini-suggest__item_subtype_ad","")),e},_getItemText:function(t){var e=t[5];return e&&"ad"===e.type?this._input.value:this.__base.apply(this,arguments)},_buildItemContent:function(t,e){return this.__base.apply(this,arguments)+(e.content.warn||"")}})},"e+S3":function(t,e){BEM.DOM.decl({block:"popup",modName:"type",modVal:"relative"},{setRelativeContainer:function(t){this._parentContainer=t},_findParent:function(){return this._parentContainer},setParent:function(t){return this._parent=t,this}})},e8Vx:function(t,e){MBEM.decl({block:"mini-suggest",modName:"autoscroll-desktop",modVal:"yes"},{_showPopup:function(){var e=this;this.__base.apply(this,arguments),window.pageYOffset<100&&(MBEM.cls.add(this._popup,"mini-suggest__popup_disabled"),$("html,body").stop().animate({scrollTop:120},"fast",function(){document.addEventListener("mousemove",function t(){MBEM.cls.remove(e._popup,"mini-suggest__popup_disabled"),document.removeEventListener("mousemove",t)})}))}})},eDbF:function(t,e){MBEM.resolveUrl=function(t,e){e=e?"https":"http";return(/[/]{2}/.test(t)?"":e+"://")+t}},ePSr:function(t,e){BEM.DOM.decl({block:"divjson",baseMix:["mix-tabber","mix-divjson"]},{},{live:function(){var t=this.__base.apply(this,arguments);return this.liveBindKey("state-setter","space enter",function(t){this._selectTabChecked(String(t.data.domElem.data("set-state")))}),t}})},eQor:function(t,e){home.l10n=function(t){for(var e=t.split("."),i=home.lang,n=0;n<e.length;++n){if("__proto__"===e[n])return"";if(!i||!i[e[n]])return"";i=i[e[n]]}return i}},eeV8:function(t,e){var i;BEM.decl("i-common__string",{},{cleverSubstring:function(t,e,i){return t.length>e+i?t.substring(0,e-1)+"":t},escapeHTML:(i={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},function(t){return String(t).replace(/&(?!\w+;)|[<>"']/g,function(t){return i[t]||t})}),escapeRegExp:function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}})},egSt:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this.params.counter&&this.on("item-select",this._handleItemSelect,this)},_handleItemSelect:function(t,e){e.personal?this._path.personal="nah_used":"nah_used"===this._path.personal&&(this._path.personal="nah_not_used"),this._changePathState("keyboard")&&(this._path.index=e.itemIndex+1),++this._ratio.actionsCount},_handleItemClick:function(){this._responses.clks++,this.__base.apply(this,arguments)}})},ej2x:function(t,e){var i=home.getData("service-worker-connector.isMordaInstallingEnabled"),n=home.getData("service-worker-connector.shouldUnregisterSw"),o=home.getData("service-worker-connector.homePageNoArgs"),s=o+"/chrome/",r=o+"/portal/service-worker/white/_fake_newtab.js";i&&!n&&navigator.serviceWorker.getRegistration(s).then(function(t){t&&t.active&&t.active.scriptURL!==r||setTimeout(function(){navigator.serviceWorker.register(r,{scope:"./portal/home-app/"})},100)}),n&&navigator.serviceWorker.getRegistration(s).then(function(t){!t||t.active&&t.active.scriptURL!==r||t.unregister()})},el0A:function(t,e){function s(t){return"[object Object]"===i.call(t)}function r(t,e,i){var n,o;for(n in t=Object(t),e=Object(e))void 0!==(o=i&&i(t[n],e[n],n))?t[n]=o:s(t[n])&&s(e[n])?t[n]=r(t[n],e[n],i):t[n]=e[n];return t}var i;i=Object.prototype.toString,$.extend($.util,{merge:r,mergeBemjson:function(t,e){return r(t,e,function(t,e,i){if("mix"===i)return[].concat(t,e)})}})},er8n:function(t,e){function c(t){var i=[];return t.replace(/(\d+)|\.|[^.\d]+/g,function(t,e){e?i.push(Number(e)):i.push(t)}),i}home.compareVersions=function(t,e){if(t===e)return 0;if(void 0===t||void 0===e||null===t||null===e)return NaN;for(var i=c(String(t)),n=c(String(e)),o=Math.max(i.length,n.length),s=0;s<o;++s){var r=i[s],a=n[s];if(void 0===r)return-1;if(void 0===a)return 1;if("."===r&&"."!==a)return-1;if("."===a&&"."!==r)return 1;if(typeof r!=typeof a&&(r=String(r),a=String(a)),r!==a)return a<r?1:-1}return 0}},eyWT:function(t,e){MBEM.decl({block:"mini-suggest",modName:"separate-popup",modVal:"yes"},{_repositionPopup:function(){this.__base.apply(this,arguments),this._popup&&(this._popup.style.width=this._input.offsetWidth+"px",this._popup.style.left=MBEM.offset(this._input).left+"px")}})},f7na:function(t,e){BEM.DOM.decl("widget",{onSetMod:{js:function(){this.tuned=!1,this._initWidget(),setTimeout(this.createControl.bind(this),0),this.channel("widget").on("hidePreferences",this.onHidePreferences,this),this.channel("widget").on("reload",this.onReload,this)},drag:{on:function(){this.createDrag(),this.getInstance().stopAutoReload()},"":function(){this.getInstance().queueAutoReload()}},removed:function(t,e){var i=this.getInstance(),e="yes"===e;i&&(i.params.removed=e),this.setMod("alt-removed","yes"),this.channel("widget").trigger("commit",{type:e?"remove":"recover",id:this.getId(),widget:this}),e?this.getInstance().stopAutoReload():this.getInstance().queueAutoReload()},state:{remove:function(){var t=this.__self.getRmPopup(),e=this.changeThis(function(){this.setMod("removed","yes")}),i=this.changeThis(function(){this.delMod("state")});t.show(this,e,i,this.domElem.closest(".widgets-list__item"))},"":function(){this.elem("buttons").detach(),this.getInstance().queueAutoReload(),this.unbindFromWin("widgetLoaded")}}},_initWidget:function(){var t=this.params.initParams;t&&(this._instance=Widget.Bind(this.params.id,t.params))},destruct:function(){this.channel("widget").un("hidePreferences",this.onHidePreferences,this),this.channel("widget").un("reload",this.onReload,this),this.__base.apply(this,arguments)},onHidePreferences:function(t,e){this===e.elem&&this.hasMod("state","add")&&!this.tuned&&this.abortAdd()},onReload:function(t,e){this.control2&&this.domElem.is(e.widget.$().parent())&&(this.control2&&this.control2.domElem&&BEM.DOM.destruct(this.control2.domElem),this.control2=null,this.createControl())},createControl:function(){var t,e,i,n;this.hasMod("empty","yes")||(this.control2&&!this.control2.domElem&&(this.control2=null),this.control2)||(e=this.getId(),n={},(i=this.getInstance())?t=(n=i.params).havePrefsFrom&&n.isWidgetWorkNormal:(t=this.params.showPrefs&&-1===["_afisha","_teaser","_geo","_stream_now","_covid","_covid_isolation","_covid_speed"].indexOf(e),n.prefsUrl="/?widget_edit=1#open="+this.params.id,("_services"===e&&home.getData("widgets.disable_services_prefs")||"_weather"===e&&home.getData("widgets.disable_weather_prefs"))&&(t=null)),this.control2=BEM.blocks["widget-control"].create(this.domElem,{name:this.params.id.replace(/^_/,"").replace(/-.+$/,""),statName:this.params.isWidgetList?"custom_widget":void 0,hidden:this.hasMod("collapsed","yes"),items:{hide:!this.params.isWidgetList,settings:t,settingsHref:n.prefsUrl,remove:this.params.isWidgetList},customItems:this._getMenuCustomItems()}),this.control2.on({settings:function(t,e){e&&e.item&&e.item[0]&&"A"===e.item[0].tagName||this.showPrefs()},remove:this.remove,hide:this._toggle.bind(this,!1),show:this._toggle.bind(this,!0)},this))},_getMenuCustomItems:function(){return[]},createDrag:function(){return this.elem("drag").length||(this.domElem.append('<div class="widget__drag"></div>'),this.dropElemCache("drag")),this.elem("drag")},getInstance:function(){return this._instance},getId:function(){return this.params.id||this.getInstance().id},markChanged:function(t,e){var i=this.getInstance();i&&i.markChanged(t,e),e&&(this.tuned=!0,this.channel("widget").trigger("tuned",{type:"tuned",elem:this}))},remove:function(){this.hasMod("drag","on")?this.setMod("removed","yes"):this.setMod("state","remove"),this.channel("widget").trigger("remove",{id:this.getId(),widget:this})},showPrefs:function(){return this.__self.queryPrefs(this),!1},reload:function(){location.reload()},_toggle:function(t){this.toggleMod("collapsed","yes",!t),BEM.blocks["i-reposition-event"].trigger()}},{live:function(){return this.liveBindTo("force-remove","pointerclick",function(){this.setMod("removed","yes")}),this.liveBindTo("remove","pointerclick",function(){this.remove()}),this.liveBindTo("prefs","pointerclick",function(){this.showPrefs()}),!1},queryPrefs:function(t){var e=this.getPrefsPopup();e&&e.show(t,function(){this.reload(),BEM.channel("widget").trigger("settingsSaved")})},getRmPopup:function(){return this.rmPopup||(this.rmPopup=$(".b-wdgt-remove").bem("b-wdgt-remove")),this.rmPopup},getPrefsPopup:function(){var t;return this.prefsPopup||(t=$(".b-wdgt-preferences")).length&&(this.prefsPopup=t.bem("b-wdgt-preferences")),this.prefsPopup}})},"fA+c":function(t,e){!function(){"use strict";var e,i=!1,n=[];home.pseudoReady=function(t){i?setTimeout(t,0):(n.push(t),e=e||setTimeout(function t(){if(document.body&&home.export){i=!0;for(var e=0;e<n.length;++e)setTimeout(n[e],0)}else setTimeout(t,100)},100))}}()},fJT3:function(t,e){BEM.decl("keycodes",{},{BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,is:function(e,t){return(Array.isArray(t)?t:Array.prototype.slice.call(arguments,1)).some(function(t){return this[t]===e},this)}})},fLeA:function(t,e){var n=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,i=n.call(arguments,1);return function(){return e.apply(t,i.concat(n.call(arguments)))}})},fRV1:function(t,e){var i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},fUSH:function(t,e){$(document).ready(function(){var e=home&&home.getData&&home.getData("yandcache.data");e&&window.setTimeout(function(){var t=document.createElement("script");t.src=e.url,document.getElementsByTagName("head")[0].appendChild(t)},e.timeout)})},fje4:function(t,e){MBEM.decl("mini-suggest",{_shouldAddContentInfoArrow:function(t){return this.__base.apply(this,arguments)||t[5]&&"mt"===t[5].type}})},fpIa:function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this._hasTabChange=MBEM.cls.contains(this.domElem,"mini-suggest_tab-change_yes"),this._tabChange=!1,this.__base.apply(this,arguments)},_showPopup:function(){this._tabChange||this.__base.apply(this,arguments)},_onInput:function(){this._tabChange=!1,this.__base.apply(this,arguments)},_bindHandlers:function(){var e;this.__base.apply(this,arguments),this._hasTabChange&&(e=!0,$(window).on("focus",function(){var t;try{t=document.activeElement}catch(t){}e||(e=!0,t===this._input&&(this._tabChange=!0),this._hidePopup())}.bind(this)).on("blur",function(){e=!1,this._hidePopup()}.bind(this)),this.bindTo(this._input,"click",function(){this._tabChange&&(this._tabChange=!1,this._checkAndShowPopup())}))}})},gBLq:function(t,e){BEM.DOM.declMix("mix-tabber-labels-preloader",{},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("tab","mouseover mouseout",function(t){var e=t.data.domElem.data("key");String(e)!==String(this._selectedKey)&&(clearTimeout(this._tabPreloadTimer),"mouseover"!==t.type||this._panels[e]||(this._tabPreloadTimer=setTimeout(function(){this._loadDataWrapped(e).catch(function(){})}.bind(this),200)))})}})},ggkB:function(t,e){BEM.decl("i-voice",{},{startRecognize:function(t){var e=window.yandex&&window.yandex.messenger&&window.yandex.messenger.isPanelEnabled,i=this.__base.bind(this,t);t&&t.useAlice&&e?e(function(t){t?(window.yandex.messenger.openView("#dialogs/alice"),window.yandex.speechkit.startRecognition()):i()}):i()}})},gitU:function(t,e){MBEM.arrayFrom=function(t){return Array.prototype.slice.call(t)}},gm0g:function(t,e){BEM.DOM.decl("zen-lib",{_runIncludedLoader:function(){return window.YandexZen=window.YandexZen||{},window.YandexZen.loader=(i=[function(t,e,i){"use strict";var n=i(46),o={};o[i(1)("toStringTag")]="z",o+""!="[object z]"&&i(13)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,e,i){var n=i(35)("wks"),o=i(22),s=i(2).Symbol,r="function"==typeof s;(t.exports=function(t){return n[t]||(n[t]=r&&s[t]||(r?s:o)("Symbol."+t))}).store=n},function(t,e){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(t,e,i){var n=i(9);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){t.exports=!i(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var p=i(2),_=i(15),f=i(17),g=i(13),v=i(23),i=function t(e,i,n){var o,s,r,a=e&t.F,c=e&t.G,l=e&t.P,h=e&t.B,d=c?p:e&t.S?p[i]||(p[i]={}):(p[i]||{}).prototype,u=c?_:_[i]||(_[i]={}),m=u.prototype||(u.prototype={});for(o in n=c?i:n)s=((r=!a&&d&&void 0!==d[o])?d:n)[o],r=h&&r?v(s,p):l&&"function"==typeof s?v(Function.call,s):s,d&&g(d,o,s,e&t.U),u[o]!=s&&f(u,o,r),l&&m[o]!=s&&(m[o]=s)};p.core=_,i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,t.exports=i},function(t,e,i){var n=i(6);n(n.S+n.F,"Object",{assign:i(84)})},function(t,e,i){var n=i(3),o=i(52),s=i(37),r=Object.defineProperty;e.f=i(4)?Object.defineProperty:function(t,e,i){if(n(t),e=s(e,!0),n(i),o)try{return r(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){"use strict";function n(){}function o(t){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(i=D(t))?y(function(){var e={_w:n,_d:!1};try{i.call(t,h(o,e,1),h(R,e,1))}catch(t){R.call(e,t)}}):(n._v=t,n._s=1,O(n,!1))}catch(t){R.call({_w:n,_d:!1},t)}}}var s,r,a,c,l=i(21),u=i(2),h=i(23),d=i(46),m=i(6),p=i(9),_=i(24),f=i(85),g=i(86),v=i(90),b=i(63).set,y=i(92)(),w=i(64),k=i(93),E=i(94),M=i(95),x=u.TypeError,T=u.process,S=T&&T.versions,C=S&&S.v8||"",B=u.Promise,P="process"==d(T),I=r=w.f,d=!!function(){try{var t=B.resolve(1),e=(t.constructor={})[i(1)("species")]=function(t){t(n,n)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(n)instanceof e&&0!==C.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(t){}}(),D=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},O=function(d,i){var n;d._n||(d._n=!0,n=d._c,y(function(){for(var o,l=d._v,h=1==d._s,t=0,e=function(t){var e,i,n,o,s=h?t.ok:t.fail,r=t.resolve,a=t.reject,c=t.domain;try{s?(h||(2==d._h&&(o=d,b.call(u,function(){var t;P?T.emit("rejectionHandled",o):(t=u.onrejectionhandled)&&t({promise:o,reason:o._v})})),d._h=1),!0===s?e=l:(c&&c.enter(),e=s(l),c&&(c.exit(),n=!0)),e===t.promise?a(x("Promise-chain cycle")):(i=D(e))?i.call(e,r,a):r(e)):a(l)}catch(t){c&&!n&&c.exit(),a(t)}};n.length>t;)e(n[t++]);d._c=[],d._n=!1,i&&!d._h&&(o=d,b.call(u,function(){var t,e,i=o._v,n=j(o);if(n&&(t=k(function(){P?T.emit("unhandledRejection",i,o):(e=u.onunhandledrejection)?e({promise:o,reason:i}):(e=u.console)&&e.error&&e.error("Unhandled promise rejection",i)}),o._h=P||j(o)?2:1),o._a=void 0,n&&t.e)throw t.v}))}))},j=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))};d||(B=function(t){f(this,B,"Promise","_h"),_(t),s.call(this);try{t(h(o,this,1),h(R,this,1))}catch(t){R.call(this,t)}},(s=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(96)(B.prototype,{then:function(t,e){var i=I(v(this,B));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=P?T.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&O(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new s;this.promise=t,this.resolve=h(o,t,1),this.reject=h(R,t,1)},w.f=I=function(t){return t===B||t===c?new a:r(t)}),m(m.G+m.W+m.F*!d,{Promise:B}),i(29)(B,"Promise"),i(65)("Promise"),c=i(15).Promise,m(m.S+m.F*!d,"Promise",{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),m(m.S+m.F*(l||!d),"Promise",{resolve:function(t){return M(l&&this===c?B:this,t)}}),m(m.S+m.F*!(d&&i(97)(function(t){B.all(t).catch(n)})),"Promise",{all:function(t){var r=this,e=I(r),a=e.resolve,c=e.reject,i=k(function(){var n=[],o=0,s=1;g(t,!1,function(t){var e=o++,i=!1;n.push(void 0),s++,r.resolve(t).then(function(t){i||(i=!0,n[e]=t,--s||a(n))},c)}),--s||a(n)});return i.e&&c(i.v),e.promise},race:function(t){var e=this,i=I(e),n=i.reject,o=k(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return o.e&&n(o.v),i.promise}})},function(t,e,i){"use strict";var n=i(6),o=i(55)(!0);n(n.P,"Array",{includes:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),i(62)("includes")},function(t,e,i){"use strict";var n=i(62),o=i(98),s=i(32),r=i(18);t.exports=i(66)(Array,"Array",function(t,e){this._t=r(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(t,e,i){var s=i(2),r=i(17),a=i(16),c=i(22)("src"),n=Function.toString,l=(""+n).split("toString");i(15).inspectSource=function(t){return n.call(t)},(t.exports=function(t,e,i,n){var o="function"==typeof i;o&&(a(i,"name")||r(i,"name",e)),t[e]!==i&&(o&&(a(i,c)||r(i,c,t[e]?""+t[e]:l.join(String(e)))),t===s?t[e]=i:n?t[e]?t[e]=i:r(t,e,i):(delete t[e],r(t,e,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[c]||n.call(this)})},function(t,e,i){"use strict";var n=i(6),o=i(82);n(n.P+n.F*i(83)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,e){t=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=t)},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(8),o=i(28);t.exports=i(4)?function(t,e,i){return n.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(54),o=i(25);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(53),o=i(40);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=!1},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var s=i(24);t.exports=function(n,o,t){if(s(n),void 0===o)return n;switch(t){case 1:return function(t){return n.call(o,t)};case 2:return function(t,e){return n.call(o,t,e)};case 3:return function(t,e,i){return n.call(o,t,e,i)}}return function(){return n.apply(o,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n=i(31),o=i(19);i(103)("keys",function(){return function(t){return o(n(t))}})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(8).f,o=i(16),s=i(1)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,s)&&n(t,s,{configurable:!0,value:e})}},function(t,e,i){i(44)("match",1,function(n,o,t){return[function(t){"use strict";var e=n(this),i=null==t?void 0:t[o];return void 0!==i?i.call(t,e):new RegExp(t)[o](String(e))},t]})},function(t,e,i){var n=i(25);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports={}},function(t,e,i){var n=i(8).f,o=Function.prototype,s=/^\s*function ([^ (]*)/;"name"in o||i(4)&&n(o,"name",{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},function(t,e,i){"use strict";i(105);function n(t){i(13)(RegExp.prototype,"toString",t,!0)}var o=i(3),s=i(47),r=i(4),a=/./.toString;i(5)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?n(function(){var t=o(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?s.call(t):void 0)}):"toString"!=a.name&&n(function(){return a.call(this)})},function(t,e,i){var n=i(15),o=i(2),s=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i(21)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var n=i(9),o=i(2).document,s=n(o)&&n(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,i){var o=i(9);t.exports=function(t,e){if(!o(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!o(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!o(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!o(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:i)(t)}},function(t,e,i){var n=i(35)("keys"),o=i(22);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(53),o=i(40).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,i){var n=i(6),o=i(60)(!0);n(n.S,"Object",{entries:function(t){return o(t)}})},function(t,e,i){"use strict";var r=i(17),a=i(13),c=i(5),l=i(25),h=i(1);t.exports=function(e,t,i){var n=h(e),o=i(l,n,""[e]),i=o[0],s=o[1];c(function(){var t={};return t[n]=function(){return 7},7!=""[e](t)})&&(a(String.prototype,e,i),r(RegExp.prototype,n,2==t?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)}))}},function(t,e,i){var n=i(9),o=i(20),s=i(1)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==o(t))}},function(t,e,i){var n=i(20),o=i(1)("toStringTag"),s="Arguments"==n(function(){return arguments}());t.exports=function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?t:s?n(e):"Object"==(t=n(e))&&"function"==typeof e.callee?"Arguments":t}},function(t,e,i){"use strict";var n=i(3);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},,function(t,e,i){"use strict";i.r(e);i="function"==typeof fetch?fetch.bind():function(n,o){return o=o||{},new Promise(function(t,e){var i,a=new XMLHttpRequest;for(i in a.open(o.method||"get",n),o.headers)a.setRequestHeader(i,o.headers[i]);function c(){var n,t,o=[],s=[],r={};return a.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(t,e,i){o.push(e=e.toLowerCase()),s.push([e,i]),n=r[e],r[e]=n?n+","+i:i}),{ok:1==(a.status/200|0),status:a.status,statusText:a.statusText,url:a.responseURL,clone:c,text:function(){return Promise.resolve(a.responseText)},json:function(){return Promise.resolve(a.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([a.response]))},headers:{keys:(t=function(){return o},e.toString=function(){return t.toString()},e),entries:function(){return s},get:function(t){return r[t.toLowerCase()]},has:function(t){return t.toLowerCase()in r}}};function e(){return t.apply(this,arguments)}}a.withCredentials="include"==o.credentials,a.onload=function(){t(c())},a.onerror=e,a.send(o.body)})};e.default=i},function(t,e,i){var n=i(2),o=i(15),s=i(21),r=i(51),a=i(8).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=!s&&n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:r.f(t)})}},function(t,e,i){e.f=i(1)},function(t,e,i){t.exports=!i(4)&&!i(5)(function(){return 7!=Object.defineProperty(i(36)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var r=i(16),a=i(18),c=i(55)(!1),l=i(39)("IE_PROTO");t.exports=function(t,e){var i,n=a(t),o=0,s=[];for(i in n)i!=l&&r(n,i)&&s.push(i);for(;e.length>o;)r(n,i=e[o++])&&(~c(s,i)||s.push(i));return s}},function(t,e,i){var n=i(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var c=i(18),l=i(56),h=i(77);t.exports=function(a){return function(t,e,i){var n,o=c(t),s=l(o.length),r=h(i,s);if(a&&e!=e){for(;r<s;)if((n=o[r++])!=n)return!0}else for(;r<s;r++)if((a||r in o)&&o[r]===e)return a||r||0;return!a&&-1}}},function(t,e,i){var n=i(38),o=Math.min;t.exports=function(t){return 0<t?o(n(t),9007199254740991):0}},function(t,e,i){function n(){}var o=i(3),s=i(79),r=i(40),a=i(39)("IE_PROTO"),c=function(){var t=i(36)("iframe"),e=r.length;for(t.style.display="none",i(58).appendChild(t),t.src="javascript:",(t=t.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;e--;)delete c.prototype[r[e]];return c()};t.exports=Object.create||function(t,e){var i;return null!==t?(n.prototype=o(t),i=new n,n.prototype=null,i[a]=t):i=c(),void 0===e?i:s(i,e)}},function(t,e,i){i=i(2).document;t.exports=i&&i.documentElement},function(t,e,i){var n=i(26),o=i(28),s=i(18),r=i(37),a=i(16),c=i(52),l=Object.getOwnPropertyDescriptor;e.f=i(4)?l:function(t,e){if(t=s(t),e=r(e,!0),c)try{return l(t,e)}catch(t){}if(a(t,e))return o(!n.f.call(t,e),t[e])}},function(t,e,i){var c=i(19),l=i(18),h=i(26).f;t.exports=function(a){return function(t){for(var e,i=l(t),n=c(i),o=n.length,s=0,r=[];s<o;)h.call(i,e=n[s++])&&r.push(a?[e,i[e]]:i[e]);return r}}},function(T,t){!function(t){"use strict";var c,l,h,d,u,e,i=Object.prototype,m=i.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",r=n.toStringTag||"@@toStringTag",n="object"==typeof T,a=t.regeneratorRuntime;function p(t,e,i,n){var o,s,r,a,e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),n=new E(n||[]);return e._invoke=(o=t,s=i,r=n,a=c,function(t,e){if(a===h)throw new Error("Generator is already running");if(a===d){if("throw"===t)throw e;return{value:void 0,done:!0}}for(r.method=t,r.arg=e;;){var i=r.delegate;if(i){var n=function t(e,i){var n=e.iterator[i.method];if(void 0===n){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=void 0,t(e,i),"throw"===i.method))return u;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=_(n,e.iterator,i.arg);if("throw"===n.type)return i.method="throw",i.arg=n.arg,i.delegate=null,u;n=n.arg;return n?n.done?(i[e.resultName]=n.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=void 0),i.delegate=null,u):n:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,u)}(i,r);if(n){if(n===u)continue;return n}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===c)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;n=_(o,s,r);if("normal"===n.type){if(a=r.done?d:l,n.arg===u)continue;return{value:n.arg,done:r.done}}"throw"===n.type&&(a=d,r.method="throw",r.arg=n.arg)}}),e}function _(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function f(){}function g(){}function v(){}function b(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function y(r){var e;this._invoke=function(i,n){function t(){return new Promise(function(t,e){!function e(t,i,n,o){t=_(r[t],r,i);if("throw"!==t.type){var s=t.arg,i=s.value;return i&&"object"==typeof i&&m.call(i,"__await")?Promise.resolve(i.__await).then(function(t){e("next",t,n,o)},function(t){e("throw",t,n,o)}):Promise.resolve(i).then(function(t){s.value=t,n(s)},function(t){return e("throw",t,n,o)})}o(t.arg)}(i,n,t,e)})}return e=e?e.then(t,t):t()}}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function M(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,t=function t(){for(;++i<e.length;)if(m.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return t.next=t}}return{next:x}}function x(){return{value:void 0,done:!0}}a?n&&(T.exports=a):((a=t.regeneratorRuntime=n?T.exports:{}).wrap=p,c="suspendedStart",l="suspendedYield",h="executing",d="completed",u={},(t={})[o]=function(){return this},(n=(n=Object.getPrototypeOf)&&n(n(M([]))))&&n!==i&&m.call(n,o)&&(t=n),e=v.prototype=f.prototype=Object.create(t),(g.prototype=e.constructor=v).constructor=g,v[r]=g.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,r in t||(t[r]="GeneratorFunction")),t.prototype=Object.create(e),t},a.awrap=function(t){return{__await:t}},b(y.prototype),y.prototype[s]=function(){return this},a.AsyncIterator=y,a.async=function(t,e,i,n){var o=new y(p(t,e,i,n));return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},b(e),e[r]="Generator",e[o]=function(){return this},e.toString=function(){return"[object Generator]"},a.keys=function(i){var t,n=[];for(t in i)n.push(t);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in i)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var n=this;function t(t,e){return s.type="throw",s.arg=i,n.next=t,e&&(n.method="next",n.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],s=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var r=m.call(o,"catchLoc"),a=m.call(o,"finallyLoc");if(r&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(r){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;0<=i;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&m.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var s=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),k(i),u}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n,o=i.completion;return"throw"===o.type&&(n=o.arg,k(i)),n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:M(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),u}})}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e,i){var n=i(1)("unscopables"),o=Array.prototype;null==o[n]&&i(17)(o,n,{}),t.exports=function(t){o[n][t]=!0}},function(t,e,i){function n(){var t,e=+this;g.hasOwnProperty(e)&&(t=g[e],delete g[e],t())}function o(t){n.call(t.data)}var s,r=i(23),a=i(91),c=i(58),l=i(36),h=i(2),d=h.process,u=h.setImmediate,m=h.clearImmediate,p=h.MessageChannel,_=h.Dispatch,f=0,g={};u&&m||(u=function(t){for(var e=[],i=1;i<arguments.length;)e.push(arguments[i++]);return g[++f]=function(){a("function"==typeof t?t:Function(t),e)},s(f),f},m=function(t){delete g[t]},"process"==i(20)(d)?s=function(t){d.nextTick(r(n,t,1))}:_&&_.now?s=function(t){_.now(r(n,t,1))}:p?(p=(i=new p).port2,i.port1.onmessage=o,s=r(p.postMessage,p,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(s=function(t){h.postMessage(t+"","*")},h.addEventListener("message",o,!1)):s="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),n.call(t)}}:function(t){setTimeout(r(n,t,1),0)}),t.exports={set:u,clear:m}},function(t,e,i){"use strict";var o=i(24);function n(t){var i,n;this.promise=new t(function(t,e){if(void 0!==i||void 0!==n)throw TypeError("Bad Promise constructor");i=t,n=e}),this.resolve=o(i),this.reject=o(n)}t.exports.f=function(t){return new n(t)}},function(t,e,i){"use strict";var n=i(2),o=i(8),s=i(4),r=i(1)("species");t.exports=function(t){t=n[t];s&&t&&!t[r]&&o.f(t,r,{configurable:!0,get:function(){return this}})}},function(t,e,i){"use strict";function v(){return this}var b=i(21),y=i(6),w=i(13),k=i(17),E=i(32),M=i(99),x=i(29),T=i(100),S=i(1)("iterator"),C=!([].keys&&"next"in[].keys());t.exports=function(t,e,i,n,o,s,r){M(i,e,n);function a(t){if(!C&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}}var c,l,h,d=e+" Iterator",u="values"==o,m=!1,p=t.prototype,_=p[S]||p["@@iterator"]||o&&p[o],f=_||a(o),g=o?u?a("entries"):f:void 0,n="Array"==e&&p.entries||_;if(n&&(h=T(n.call(new t)))!==Object.prototype&&h.next&&(x(h,d,!0),b||"function"==typeof h[S]||k(h,S,v)),u&&_&&"values"!==_.name&&(m=!0,f=function(){return _.call(this)}),b&&!r||!C&&!m&&p[S]||k(p,S,f),E[e]=f,E[d]=v,o)if(c={values:u?f:a("values"),keys:s?f:a("keys"),entries:g},r)for(l in c)l in p||w(p,l,c[l]);else y(y.P+y.F*(C||m),e,c);return c}},function(t,e,i){"use strict";var n=i(6),o=i(24),s=i(31),r=i(5),a=[].sort,c=[1,2,3];n(n.P+n.F*(r(function(){c.sort(void 0)})||!r(function(){c.sort(null)})||!i(104)(a)),"Array",{sort:function(t){return void 0===t?a.call(s(this)):a.call(s(this),o(t))}})},function(t,e,o){function s(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var i=o(9),n=o(3);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,n){try{(n=o(23)(Function.call,o(59).f(Object.prototype,"__proto__").set,2))(t,[]),i=!(t instanceof Array)}catch(t){i=!0}return function(t,e){return s(t,e),i?t.__proto__=e:n(t,e),t}}({},!1):void 0),check:s}},function(t,e,i){i(70),i(71),t.exports=i(111)},function(t,e,i){window.fetch||(window.fetch=i(49).default||i(49))},function(t,e,i){"use strict";i.r(e),i(72)},function(t,e){function i(t,e,i,n){var o,s,r=h.document,a=r.createElement("link");s=e||(o=(r.body||r.getElementsByTagName("head")[0]).childNodes)[o.length-1];var c=r.styleSheets;function l(){a.addEventListener&&a.removeEventListener("load",l),a.media=i||"all"}return a.rel="stylesheet",a.href=t,a.media="only x",function t(e){return r.body?e():void setTimeout(function(){t(e)})}(function(){s.parentNode.insertBefore(a,e&&!n?s:s.nextSibling)}),t=function t(e){for(var i=a.href,n=c.length;n--;)if(c[n].href===i)return e();setTimeout(function(){t(e)})},a.addEventListener&&a.addEventListener("load",l),(a.onloadcssdefined=t)(l),a}var n,h=window,o=(h.loadCSS=i).relpreload={};o.support=function(){try{return h.document.createElement("link").relList.supports("preload")}catch(t){return!1}},o.poly=function(){for(var t=h.document.getElementsByTagName("link"),e=0;e<t.length;e++){var i=t[e];"preload"===i.rel&&"style"===i.getAttribute("as")&&(h.loadCSS(i.href,i,i.getAttribute("media")),i.rel=null)}},o.support()||(o.poly(),n=h.setInterval(o.poly,300),h.addEventListener&&h.addEventListener("load",function(){o.poly(),h.clearInterval(n)}),h.attachEvent&&h.attachEvent("onload",function(){h.clearInterval(n)}))},function(t,e,i){i(50)("asyncIterator")},function(t,e,i){"use strict";function n(t){var e=W[t]=C(A.prototype);return e._k=t,e}function r(t,e,i){return t===q&&r($,e,i),E(t),e=T(e,!0),E(i),l(W,e)?(i.enumerable?(l(t,L)&&t[L][e]&&(t[L][e]=!1),i=C(i,{enumerable:S(0,!1)})):(l(t,L)||j(t,L,S(1,{})),t[L][e]=!0),G(t,e,i)):j(t,e,i)}function o(t,e){E(t);for(var i,n=w(e=x(e)),o=0,s=n.length;o<s;)r(t,i=n[o++],e[i]);return t}function s(t){var e=H.call(this,t=T(t,!0));return!(this===q&&l(W,t)&&!l($,t))&&(!(e||!l(this,t)||!l(W,t)||l(this,L)&&this[L][t])||e)}function a(t,e){if(t=x(t),e=T(e,!0),t!==q||!l(W,e)||l($,e)){var i=O(t,e);return!i||!l(W,e)||l(t,L)&&t[L][e]||(i.enumerable=!0),i}}var c=i(2),l=i(16),h=i(4),d=i(6),u=i(13),m=i(75).KEY,p=i(5),_=i(35),f=i(29),g=i(22),v=i(1),b=i(51),y=i(50),w=i(76),k=i(78),E=i(3),M=i(9),x=i(18),T=i(37),S=i(28),C=i(57),B=i(80),P=i(59),I=i(8),D=i(19),O=P.f,j=I.f,R=B.f,A=c.Symbol,F=c.JSON,N=F&&F.stringify,L=v("_hidden"),U=v("toPrimitive"),H={}.propertyIsEnumerable,z=_("symbol-registry"),W=_("symbols"),$=_("op-symbols"),q=Object.prototype,V="function"==typeof A,K=c.QObject,Y=!K||!K.prototype||!K.prototype.findChild,G=h&&p(function(){return 7!=C(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=O(q,e);n&&delete q[e],j(t,e,i),n&&t!==q&&j(q,e,n)}:j,Z=V&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},_=function(t){for(var e,i=R(x(t)),n=[],o=0;i.length>o;)l(W,e=i[o++])||e==L||e==m||n.push(e);return n},K=function(t){for(var e,i=t===q,n=R(i?$:x(t)),o=[],s=0;n.length>s;)!l(W,e=n[s++])||i&&!l(q,e)||o.push(W[e]);return o};V||(u((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");function e(t){this===q&&e.call($,t),l(this,L)&&l(this[L],i)&&(this[L][i]=!1),G(this,i,S(1,t))}var i=g(0<arguments.length?arguments[0]:void 0);return h&&Y&&G(q,i,{configurable:!0,set:e}),n(i)}).prototype,"toString",function(){return this._k}),P.f=a,I.f=r,i(42).f=B.f=_,i(26).f=s,i(41).f=K,h&&!i(21)&&u(q,"propertyIsEnumerable",s,!0),b.f=function(t){return n(v(t))}),d(d.G+d.W+d.F*!V,{Symbol:A});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),J=0;X.length>J;)v(X[J++]);for(var Q=D(v.store),tt=0;Q.length>tt;)y(Q[tt++]);d(d.S+d.F*!V,"Symbol",{for:function(t){return l(z,t+="")?z[t]:z[t]=A(t)},keyFor:function(t){if(!Z(t))throw TypeError(t+" is not a symbol!");for(var e in z)if(z[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),d(d.S+d.F*!V,"Object",{create:function(t,e){return void 0===e?C(t):o(C(t),e)},defineProperty:r,defineProperties:o,getOwnPropertyDescriptor:a,getOwnPropertyNames:_,getOwnPropertySymbols:K}),F&&d(d.S+d.F*(!V||p(function(){var t=A();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],o=1;o<arguments.length;)n.push(arguments[o++]);if(i=e=n[1],(M(e)||void 0!==t)&&!Z(t))return k(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!Z(e))return e}),n[1]=e,N.apply(F,n)}}),A.prototype[U]||i(17)(A.prototype,U,A.prototype.valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(c.JSON,"JSON",!0)},function(t,e,i){function n(t){a(t,o,{value:{i:"O"+ ++c,w:{}}})}var o=i(22)("meta"),s=i(9),r=i(16),a=i(8).f,c=0,l=Object.isExtensible||function(){return!0},h=!i(5)(function(){return l(Object.preventExtensions({}))}),d=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,o)){if(!l(t))return"F";if(!e)return"E";n(t)}return t[o].i},getWeak:function(t,e){if(!r(t,o)){if(!l(t))return!0;if(!e)return!1;n(t)}return t[o].w},onFreeze:function(t){return h&&d.NEED&&l(t)&&!r(t,o)&&n(t),t}}},function(t,e,i){var a=i(19),c=i(41),l=i(26);t.exports=function(t){var e=a(t),i=c.f;if(i)for(var n,o=i(t),s=l.f,r=0;o.length>r;)s.call(t,n=o[r++])&&e.push(n);return e}},function(t,e,i){var n=i(38),o=Math.max,s=Math.min;t.exports=function(t,e){return(t=n(t))<0?o(t+e,0):s(t,e)}},function(t,e,i){var n=i(20);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var r=i(8),a=i(3),c=i(19);t.exports=i(4)?Object.defineProperties:function(t,e){a(t);for(var i,n=c(e),o=n.length,s=0;s<o;)r.f(t,i=n[s++],e[i]);return t}},function(t,e,i){var n=i(18),o=i(42).f,s={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return r&&"[object Window]"==s.call(t)?function(t){try{return o(t)}catch(t){return r.slice()}}(t):o(n(t))}},function(t,e,i){var n=i(6),o=i(60)(!1);n(n.S,"Object",{values:function(t){return o(t)}})},function(t,e,i){var n=i(45),o=i(25);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(o(t))}},function(t,e,i){var n=i(1)("match");t.exports=function(e){var i=/./;try{"/./"[e](i)}catch(t){try{return i[n]=!1,!"/./"[e](i)}catch(t){}}return!0}},function(t,e,i){"use strict";var u=i(19),m=i(41),p=i(26),_=i(31),f=i(54),o=Object.assign;t.exports=!o||i(5)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=o({},t)[i]||Object.keys(o({},e)).join("")!=n})?function(t,e){for(var i=_(t),n=arguments.length,o=1,s=m.f,r=p.f;o<n;)for(var a,c=f(arguments[o++]),l=s?u(c).concat(s(c)):u(c),h=l.length,d=0;d<h;)r.call(c,a=l[d++])&&(i[a]=c[a]);return i}:o},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var d=i(23),u=i(87),m=i(88),p=i(3),_=i(56),f=i(89),g={},v={};(e=t.exports=function(t,e,i,n,o){var s,r,a,c,o=o?function(){return t}:f(t),l=d(i,n,e?2:1),h=0;if("function"!=typeof o)throw TypeError(t+" is not iterable!");if(m(o)){for(s=_(t.length);h<s;h++)if((c=e?l(p(r=t[h])[0],r[1]):l(t[h]))===g||c===v)return c}else for(a=o.call(t);!(r=a.next()).done;)if((c=u(a,l,r.value,e))===g||c===v)return c}).BREAK=g,e.RETURN=v},function(t,e,i){var o=i(3);t.exports=function(e,t,i,n){try{return n?t(o(i)[0],i[1]):t(i)}catch(t){i=e.return;throw void 0!==i&&o(i.call(e)),t}}},function(t,e,i){var n=i(32),o=i(1)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||s[o]===t)}},function(t,e,i){var n=i(46),o=i(1)("iterator"),s=i(32);t.exports=i(15).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||s[n(t)]}},function(t,e,i){var n=i(3),o=i(24),s=i(1)("species");t.exports=function(t,e){var i,t=n(t).constructor;return void 0===t||null==(i=n(t)[s])?e:o(i)}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var a=i(2),c=i(63).set,l=a.MutationObserver||a.WebKitMutationObserver,h=a.process,d=a.Promise,u="process"==i(20)(h);t.exports=function(){function t(){var t,e;for(u&&(t=h.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?o():n=void 0,t}}n=void 0,t&&t.enter()}var i,n,e,o,s,r;return o=u?function(){h.nextTick(t)}:!l||a.navigator&&a.navigator.standalone?d&&d.resolve?(e=d.resolve(void 0),function(){e.then(t)}):function(){c.call(a,t)}:(s=!0,r=document.createTextNode(""),new l(t).observe(r,{characterData:!0}),function(){r.data=s=!s}),function(t){t={fn:t,next:void 0};n&&(n.next=t),i||(i=t,o()),n=t}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){i=i(2).navigator;t.exports=i&&i.userAgent||""},function(t,e,i){var n=i(3),o=i(9),s=i(64);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;t=s.f(t);return(0,t.resolve)(e),t.promise}},function(t,e,i){var o=i(13);t.exports=function(t,e,i){for(var n in e)o(t,n,e[n],i);return t}},function(t,e,i){var s=i(1)("iterator"),r=!1;try{var n=[7][s]();n.return=function(){r=!0},Array.from(n,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var n=[7],o=n[s]();o.next=function(){return{done:i=!0}},n[s]=function(){return o},t(n)}catch(t){}return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var n=i(57),o=i(28),s=i(29),r={};i(17)(r,i(1)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(r,{next:o(1,i)}),s(t,e+" Iterator")}},function(t,e,i){var n=i(16),o=i(31),s=i(39)("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},function(t,e,i){"use strict";var n=i(102)(!0);i(66)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(e=n(t,e),this._i+=e.length,{value:e,done:!1})})},function(t,e,i){var r=i(38),a=i(25);t.exports=function(s){return function(t,e){var i,n=String(a(t)),o=r(e),t=n.length;return o<0||t<=o?s?"":void 0:(e=n.charCodeAt(o))<55296||56319<e||o+1===t||(i=n.charCodeAt(o+1))<56320||57343<i?s?n.charAt(o):e:s?n.slice(o,o+2):i-56320+(e-55296<<10)+65536}}},function(t,e,i){var o=i(6),s=i(15),r=i(5);t.exports=function(t,e){var i=(s.Object||{})[t]||Object[t],n={};n[t]=e(i),o(o.S+o.F*r(function(){i(1)}),"Object",n)}},function(t,e,i){"use strict";var n=i(5);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,i){i(4)&&"g"!=/./g.flags&&i(8).f(RegExp.prototype,"flags",{configurable:!0,get:i(47)})},function(t,e,i){var n=i(6);n(n.S,"Object",{setPrototypeOf:i(68).set})},function(t,e,i){i(44)("replace",2,function(o,s,r){return[function(t,e){"use strict";var i=o(this),n=null==t?void 0:t[s];return void 0!==n?n.call(t,i,e):r.call(String(i),t,e)},r]})},function(t,e,i){i(44)("split",2,function(o,s,r){"use strict";var m,p=i(45),_=r,f=[].push;return"c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?(m=void 0===/()??/.exec("")[1],r=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!p(t))return _.call(i,t,e);var n,o,s,r,a,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,d=void 0===e?4294967295:e>>>0,u=new RegExp(t.source,l+"g");for(m||(n=new RegExp("^"+u.source+"$(?!\\s)",l));(o=u.exec(i))&&!((s=o.index+o[0].length)>h&&(c.push(i.slice(h,o.index)),!m&&1<o.length&&o[0].replace(n,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)}),1<o.length&&o.index<i.length&&f.apply(c,o.slice(1)),r=o[0].length,h=s,c.length>=d));)u.lastIndex===o.index&&u.lastIndex++;return h===i.length?!r&&u.test("")||c.push(""):c.push(i.slice(h)),c.length>d?c.slice(0,d):c}):"0".split(void 0,0).length&&(r=function(t,e){return void 0===t&&0===e?[]:_.call(this,t,e)}),[function(t,e){var i=o(this),n=null==t?void 0:t[s];return void 0!==n?n.call(t,i,e):r.call(String(i),t,e)},r]})},function(t,e,i){var n=i(2),s=i(110),o=i(8).f,r=i(42).f,a=i(45),c=i(47),l=p=n.RegExp,h=p.prototype,d=/a/g,u=/a/g,m=new p(d)!==d;if(i(4)&&(!m||i(5)(function(){return u[i(1)("match")]=!1,p(d)!=d||p(u)==u||"/a/i"!=p(d,"i")}))){for(var p=function(t,e){var i=this instanceof p,n=a(t),o=void 0===e;return!i&&n&&t.constructor===p&&o?t:s(m?new l(n&&!o?t.source:t,e):l((n=t instanceof p)?t.source:t,n&&o?c.call(t):e),i?this:h,p)},_=r(l),f=0;_.length>f;)!function(e){e in p||o(p,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})}(_[f++]);(h.constructor=p).prototype=h,i(13)(n,"RegExp",p)}i(65)("RegExp")},function(t,e,i){var o=i(9),s=i(68).set;t.exports=function(t,e,i){var n,e=e.constructor;return e!==i&&"function"==typeof e&&(n=e.prototype)!==i.prototype&&o(n)&&s&&s(t,n),t}},function(t,e,i){"use strict";function c(t,e,i,n,o,s,r){try{var a=t[s](r),c=a.value}catch(t){return i(t),0}a.done?e(c):Promise.resolve(c).then(n,o)}function n(a){return function(){var t=this,r=arguments;return new Promise(function(e,i){var n=a.apply(t,r);function o(t){c(n,e,i,o,s,"next",t)}function s(t){c(n,e,i,o,s,"throw",t)}o(void 0)})}}i.r(e),i(73),i(74),i(81),i(61),i(43),i(30),i(11),i(14),i(7),i(10),i(12),i(0),i(101);function o(t){var o=t.source,s=t.container;return new Promise(function(t,e){var i,n=document.createElement("link");n.rel="stylesheet",n.href=o,n.media="inapplicable",n.onload=function(){n.media="all",t(n)},n.onerror=function(){s.removeChild(n),e(new Error("Failed to load css: '"+o+"'."))},i=function(){return s.appendChild(n)},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),i()}):i()})}function s(t){var n=t.source,o=t.container,e=t.asyncAttr,s=void 0===e||e,r=void 0!==(t=t.defer)&&t;return new Promise(function(t,e){var i=document.createElement("script");i.src=n,i.async=s,i.defer=r,i.crossOrigin="anonymous",i.onload=function(){t(i)},i.onerror=function(){o.removeChild(i),e(new Error("Failed to load script: '"+n+"'."))},o.appendChild(i)})}function m(t){if(!(t=t.YandexZen&&t.YandexZen.app))throw new Error("App has not been loaded correctly.");return t}var r=((r=a.prototype).on=function(t,e){(this._events[t]||(this._events[t]=[])).push(e)},r.off=function(t,e){t=this._events[t];!t||0<=(e=t.indexOf(e))&&t.splice(e,1)},r.once=function(e,i){var n=this;this.on(e,i),this.on(e,function t(){n.off(e,i),n.off(e,t)})},r.subscribe=function(t,e){var i=this;return this.on(t,e),function(){i.off(t,e)}},r.emit=function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];t=this._events[t];t&&t.slice().forEach(function(t){t.apply(void 0,i)})},a),p=function(t){return"/"===t[t.length-1]?t.slice(0,-1):t};function a(){this._events={}}function l(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,i){return(u=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}}()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);n=new(Function.bind.apply(t,n));return i&&d(n,i.prototype),n}).apply(null,arguments)}function _(t){var i="function"==typeof Map?new Map:void 0;return(_=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,e)}function e(){return u(t,arguments,h(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),d(e,t)})(t)}i(108),i(27);function f(t){try{return decodeURIComponent(t)}catch(t){return null}}function g(t){var e=t.ok,i=t.url,n=t.status,o=t.statusText;if(!e)throw new Error(i+" "+n+" ("+o+")");return(t=(o=t).headers.get("Content-Type"))&&-1!==t.indexOf("application/json")?o.json():o.text()}function v(t,e){var i=e=void 0===e?{}:e,n=i.params,o=void 0===(e=i.timeout)?6e4:e,s=void 0===(e=i.credentials)?"include":e,r=function(t,e){if(null==t)return{};for(var i,n={},o=Object.keys(t),s=0;s<o.length;s++)i=o[s],0<=e.indexOf(i)||(n[i]=t[i]);return n}(i,["params","timeout","credentials"]),a=n?k(t,n):t;return new Promise(function(t,e){var i;fetch(a,Object.assign({credentials:s},r)).then(g).then(t,e),i=o,new Promise(function(t){setTimeout(t,i)}).then(function(){e(new Error("Request timeout."))})})}function b(t){void 0===t&&(t={});var e=Object.assign({Accept:"application/json"},t.headers),i=void 0===(n=t.method)?"POST":n,n=t.body;return e["Content-Type"]||(e["Content-Type"]="application/json",n&&"string"!=typeof n&&(n=JSON.stringify(n))),Object.assign({},t,{method:i,headers:e,body:n})}var y,w=/[?&]([^&#]*)/,k=function(t,e){var n,i=Object.assign({},function(t){var e={},i=t.indexOf("?");if(-1===i)return e;for(var n=i;;){var o=t.slice(n).match(w);if(!o)break;n+=o[0].length;var s=o[1].split("="),o=s[0],s=s[1];o&&s&&(o=f(o),s=f(s),o&&s&&(e[o]=s))}return e}(t),e),o=t.indexOf("?"),e=t.indexOf("#"),e=-1!==e?e:t.length;return t.slice(0,-1!==o?o:e)+(n=i,0===(i=Object.keys(n)).length?"":i.reduce(function(t,e){var i=n[e];return e&&void 0!==i?t+(0===t.length?"?":"&")+encodeURIComponent(e)+"="+encodeURIComponent(i):t},""))+t.slice(e)},E=function(t,e){return void 0===e&&(e={}),v(t,Object.assign({},e,{method:"GET",params:Object.assign({},e.params||{},{rnd:String(Date.now())})}))},M=function(t,e){return v(t,b(e=void 0===e?{}:e))},x=function(t,e){return v(t,b(e=void 0===e?{}:e))};(y=y=y||{}).PackShown="packShown",y.BulkEventLogged="bulkEventLogger",y.ApiResponseTtlExpired="apiResponseTtlExpired",y.ApiResponseErrorTtlExpired="apiResponseErrorTtlExpired",y.NotShownPackUpdated="notShownPackUpdated",y.LastShownPackUpdated="lastShownPackUpdated",y.CurrentTeethUpdated="currentTeethUpdated",y.CacheInvalidated="cacheInvalidated",y.UpdatePreload="updatePreload",(y=mt=mt||{}).Onboarding="onboarding",y.Export="export",y.Layout="layout",y.More="more",y.Bulk="bulk",y.ClientLogs="client_logs",y.Subs="subs",y.Profile="profile",y.CountryLang="language",y.Blocked="blocked",y.Preferences="preferences",y.Subscribers="subscribers",y.Category="category",y.Categories="categories",y.Suggest="suggest",y.Multisearch="multisearch",y.BlockedSuggest="blocked_suggest",y.VideoRecommend="video_recommend",y.VideoFeed="video_more",y.GetVideoViewerData="get_video_popup_data",y.PublisherConfig="publisher_config",y.CommentsCounter="comments_counter",y.SendAppLinkSms="send_app_link_sms",y.SocialProfile="social_profile",y.SocialActivityFeed="social_activity_feed",y.SocialProfileEdit="social_profile_edit",y.ProfileCompleteOnboarding="profile_complete_onboarding",y.ProfileDeactivate="profile_deactivate",y.ProfileCancelDeactivate="profile_cancel_deactivate",y.AllChannelsLink="all_channels_link",y.CurrentUserInterests="current-user-interests",y.CurrentUserSubscriptions="current-user-subscriptions",y.Teasers="teasers",y.SupportLink="support_link",(y=dt=dt||{}).SessionCache="cacheStorage",y.MultiSessionCache="multiCacheStorage",(ut=ut=ut||{}).Network="network",ut.CacheBeforeNetwork="cache-before-network",ut.CacheAfterNetwork="cache-after-network",mt.Export,mt.More,Boolean(!1),Object.keys(mt).reduce(function(t,e){return t[e]=null,t},{}),dt.SessionCache,(ut={})[mt.Export]="export",ut[mt.VideoFeed]="video-more",ut[mt.Layout]="layout",ut[mt.Teasers]="teasers",ut[mt.PublisherConfig]="publisher-config",ut[mt.CurrentUserSubscriptions]="current-user-subscriptions",{}[mt.CurrentUserInterests]="api/social/current-user-interests",_(Error),_(Error);function T(t){return"static"in t}function S(t){return"string"==typeof t}function C(t){return void 0===t}function B(t){return null!==t&&"object"==typeof t}function P(t){return S(t)&&0<t.length}var I=(i(34),function(t){return"number"==typeof t}),D=function(t){return"boolean"==typeof t},O=function(t){return Array.isArray(t)};i(67);function j(t){var e=t.clid,i=t.host,n=t.lang,o=t.countryCode,s=t.tld,r=t.userInfo,a=t.exps,c=t.teethType,t=t.isAdblock;return{clid:e,host:i,countryCode:o,tld:s||"",lang:n,userId:Q(r||{})||"",exps:a,teethType:c,isAdblock:t}}function R(t){var e=(n=t.static).appRender,i=n.jsResources,n=n.cssResources,t=t.received_at;if(!(e&&i&&n&&t))throw new tt("Invalid cache record")}function A(t,e){return et(t,e)||I(t)&&I(e)&&t===e}function F(t,e){return et(t,e)||D(t)&&D(e)&&t===e}function N(t,e){return et(t,e)||O(t)&&O(e)&&(i=e,t.length===i.length&&t.reduce(function(t,e){return t&&i.includes(e)},!0));var i}function L(t,e,i,n,o){if(void 0===o&&(o=!0),t=t[i],e=e[i],!(n=void 0===n?it:n)(t,e)){i={"Validation param":i.toString()};throw o&&(i["Validation expected"]='"'+e+'":'+typeof e,i["Validation received"]='"'+t+'":'+typeof t),new ht("Validation error",void 0,i)}}function U(o,s){return(nt?ot=ot||new Promise(function(t,e){var i=nt.open("zen-db",1);i.onerror=function(){e(i.error)},i.onupgradeneeded=function(){i.result.createObjectStore("zen-api-cache")},i.onsuccess=function(){t(i.result),i.result.onclose=function(){ot=null}}}):Promise.reject(new Error("indexedDB is not supported."))).then(function(n){return new Promise(function(t,e){var i=n.transaction("zen-api-cache",o);i.oncomplete=function(){t()},i.onerror=function(){e(i.error||new Error("IDB transaction error"))},s(i.objectStore("zen-api-cache"))})})}function H(i,n){return new Promise(function(t,e){i.then(t,e),setTimeout(function(){e(new lt("Request timeout."))},n)})}function z(t){window.localStorage.setItem("retries",JSON.stringify(t))}function W(){var e=[],t=window.localStorage.getItem("retries");if(!t)return e;try{var i=JSON.parse(t);return function(){if(!Array.isArray(i))throw new Error}(),i}catch(t){return console.error(t),e}}function $(t){return t.isCacheRecord=!0,t}function q(t){var e=t.args,o=t.cacheRecord,t=void 0!==(t=t.validateByStoreTtl)&&t;try{if(!o)throw new Error("No cache record");T(o)&&(R(o),function(t){var e=o.received_at,i=o.static,n=i.ttl,i=i.storeTtl,n=1e3*(t?i:n);if(!(I(e)&&I(n)&&e+n>Date.now()))throw new tt("Invalid cache "+(t?"store-ttl":"ttl")+".")}(t),function(e,i){try{L(e,i,"clid")}catch(t){L(e,i,"clid",A)}L(e,i,"host"),L(e,i,"lang"),L(e,i,"countryCode"),L(e,i,"tld"),L(e,i,"userId"),L(e,i,"teethType"),L(e,i,"exps",N,!1),L(e,i,"isAdblock",F)}(j(e.params),o.validationParams))}catch(t){throw e.outputBus.emit("invalidatePack"),t}return o}var V,K,Y,G,Z,X,J,Q=function(t){var e=t.oauthToken,i=t.login,n=t.deviceId,o=t.partnerId,s=t.profileId,t=t.yandexuid;return e||i||(i=("; "+document.cookie).match(/; yandex_login=([^;]*)/))&&i[1]||o||n||s||t||(t=("; "+document.cookie).match(/; yandexuid=([^;]*)/))&&t[1]},tt=(l(vt,X=_(Error)),vt),et=function(t,e){return C(t)&&C(e)},it=function(t,e){return et(t,e)||S(t)&&S(e)&&t===e},nt="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),ot=null,st={get:(K=n(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Can't get value from null storage");case 1:case"end":return t.stop()}},t)})),function(){return K.apply(this,arguments)}),put:(V=n(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})),function(){return V.apply(this,arguments)})},rt={get:function(t){return e=t,U("readonly",function(t){i=t.get(e)}).then(function(){return i.result});var e,i},put:function(t,e){return i=t,n=e,U("readwrite",function(t){t.put(n,i)});var i,n},remove:function(t){return e=t,U("readwrite",function(t){t.delete(e)});var e},isEnabled:function(){return Boolean("undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB))},keys:function(){return i=[],U("readonly",function(t){var e=t.openKeyCursor?t.openKeyCursor():t.openCursor();e.onsuccess=function(){e.result&&(i.push(e.result.key),e.result.continue())}}).then(function(){return i}).then(function(t){var e=[];return t.forEach(function(t){S(t)&&e.push(t)}),e});var i}},at={no_amp_links:!0,forced_bulk_stats:!0,blurred_preview:!0,big_card_images:!0,complaints_with_reasons:!0,pass_experiments:!0,video_providers:["yandex-web","youtube","youtube-web"],screen:{dpi:241},need_background_image:!0,color_theme:"white",no_small_auth:!0,need_main_color:!0,need_zen_one_data:!0,interests_supported:!0,return_sources:!0,screens:["feed","category","categories","profile","switchable_subs","suggest","multisearch","blocked","preferences","subscribers","blocked_suggest","video_recommend","language","send_app_link_sms","comments_counter","comments_infos","social_profile","social_activity_feed","social_profile_edit","social_interests_feedback","profile_onboarding_shown","profile_complete_onboarding","profile_deactivate","profile_cancel_deactivate","get_video_popup_data","get_online_viewer_count","video_more"],stat_params_with_context:!0,carousel_support:!0},ct=function(t){var e=t.columnCount,i=t.rowPlaceholders,n=t.cardPlaceholders,o=t.theme,s=t.isVideoDisabled,r=t.screen,a=t.disabledYandexBlockIds,t=t.redesign,t=Object.assign({},at,{column_count:e,row_placeholders:i,card_placeholders:n,color_theme:o,screen:Object.assign({},at.screen,r),redesign:t});return s&&(t.no_videos=!0,delete t.video_providers),a&&(t.disabled_yandex_block_ids=a),t},lt=(l(gt,Z=_(Error)),gt),ht=(l(ft,G=_(Error)),ft.prototype.concat=function(t){for(var e in t.key&&(this.meta[t.key]=t.message),t.meta)this.meta[e]=t.meta[e]},ft),dt=function(o){function t(t){return H(function(t,e){var i=t.params,n=i.host,o=i.clid,s=i.cache,r=i.staticHostname,a=i.exps,c=i.countryCode,l=i.tld,h=i.debugParams,d=i.exps,t=i.withTeeth,i=ct(i),i={"Zen-Features":JSON.stringify(i)};null!=s&&s.precacheRid&&(i["zen-request-id"]=null==s?void 0:s.precacheRid),e&&(i["X-Retry-Request"]="true");var u,e=d&&d.includes("zen_ssr_v2:exp"),d={clid:o,key:null==s?void 0:s.precacheKey,staticHostname:r||"https://zen.yandex.ru/",countryCode:c,tld:l,debugParams:h,ssr:e?"v2":void 0,withTeeth:t},o=n&&n.match(/^https:\/\/([^/]+)/);return o&&o[0]!==d.staticHostname&&(d.host=o[1]),s={headers:i},r={clientExperiments:a},c=d.staticHostname,l=d.host,h=d.key,e=d.clid,t=d.countryCode,n=d.tld,o=d.debugParams,i=void 0===o?{}:o,a=d.ssr,o=d.withTeeth,l=Object.assign({key:h,clid:e,host:l,country_code:t,tld:n,ssr:a,with_teeth:String(o)},i),t=k(c+"api/v3/launcher/export-cached",l),n=r,o=(a=s).method,i=a.mode,c=a.headers,o={params:a.params,headers:Object.assign({},(l=n.zenFeatures,r=n.clientExperiments,s={},(n=n.userInfo)&&n.oauthToken&&(s.Authorization="OAuth "+n.oauthToken),0<Object.keys(l||{}).length&&(s["Zen-Features"]=JSON.stringify(l)),s["Zen-Client-Experiments"]=["zen-version:2.1003.1"].concat(Array.isArray(r)&&0<r.length?r:[]).join(", "),s["X-ZenLib-Version"]="2.1003.1",s),c),mode:i,method:o},u=a.body?Object.assign({},o,{body:a.body}):o,function(){switch(function(t,e){return t?e&&"GET"===t?"POST":t:e?"POST":"GET"}(u.method,u.body)){case"PUT":return x;case"POST":return M;default:return E}}()(t,u).then(function(t){return Object.assign({},t,{received_at:Date.now()})})}(o,t=void 0===t?!1:t).then(function(t){var e,i,n;return T(t)&&(n=o.cache,e=o.outputBus,R(t),n.put((i=t,n=o.params,T(i)?Object.assign({},i,{validationParams:j(n)}):i)),e.emit("renderCachePut",t)),t}),15e3).catch(function(t){var e=new ht(t.message,"Network",t.meta);throw t instanceof lt&&(e.type="timeout"),null!==(t=o.params.cache)&&void 0!==t&&t.precacheRid&&o.outputBus.emit("ssrSchemeFailed",e),e})}var e=o.params.retryBudget;return function(t){var e=t.windowSize,i=void 0===e?100:e,e=t.retryBudget,s=void 0===e?1:e,e=t.retryCharge,r=void 0===e?3:e,a=t.func,c=t.retryFunc,e=t.storeState,n=void 0===e?z:e,e=t.loadState,e=void 0===e?W:e,t=t.errorFilter,l=void 0===t?function(){return!0}:t,h=[];try{h=e()}catch(t){return console.error(t),a}function d(t){h.push(t),h.length===i&&h.shift(),n(h)}return function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];var n=!1,o=0;return function e(){return n?(++o,d(1)):d(o=0),(n&&c?c:a).apply(void 0,i).catch(function(t){if(h.reduce(function(t,e){return t+e},0)/h.length*100<=s&&l(t)&&o<r)return n=!0,e();throw t})}()}}({retryBudget:void 0===e?20:e,func:t,retryFunc:function(){return t(!0)},errorFilter:function(t){return t instanceof ht&&"timeout"===t.type}})()},ut=function(e){return e.cache.get().then(function(t){return q({args:e,cacheRecord:t,validateByStoreTtl:!0})}).then($).catch(function(t){throw new ht(t.message,"Any cache",t.meta)})},mt=function(t){var n=new ht("Getting SSR cache error");return function(i){return t.reduce(function(t,e){return t.catch(function(t){return n.concat(t),e(i)})},Promise.reject(new ht)).catch(function(t){throw n.concat(t),n})}},pt=mt([function(e){return e.cache.get().then(function(t){return q({args:e,cacheRecord:t})}).then($).catch(function(t){t=new ht(t.message,"Fresh cache",t.meta);throw e.outputBus.emit("ssrSchemeFailed",t),t})},dt,ut]),_t=mt([dt,ut]);function ft(t,e,i,n){return void 0===i&&(i={}),(t=G.call(this,t)||this).key=e,t.meta=i,t.type=n,t}function gt(){return Z.apply(this,arguments)||this}function vt(t){return X.call(this,"MultiformatCacheError: "+t)||this}(ut=Y=Y||{}).Chromium="chromium",ut.Firefox="firefox",ut.Edge="edge",ut.Legacy="legacy",ut.Node="node",(ut={})[Y.Chromium]=["Chrome >= 55"],ut[Y.Firefox]=["Firefox >= 51"],ut[Y.Edge]=["Edge >= 13"],ut[Y.Legacy]=["Chrome >= 42","Firefox >= 45","Edge >= 12","IE >= 11","Android >= 4.4","iOS >= 7"],ut[Y.Node]=["Node >= 8"],Y.Chromium,Y.Chromium,Y.Chromium,Y.Firefox,Y.Edge,Y.Legacy,Y.Legacy,Y.Legacy,Y.Legacy,Y.Legacy,Y.Chromium,Y.Chromium,Y.Chromium,Y.Chromium,Y.Legacy,Y.Legacy,Y.Chromium,Y.Chromium,Y.Chromium,Y.Chromium,Y.Legacy,Y.Legacy,i(33),(J=J=J||{}).Network="network",J.Logic="logic",J.Unknown="unknown",(yt=yt=yt||{}).Front="frontend",yt.Backend="backend",yt.Unknown="somebody",_(Error);var bt={},yt=function(i,t){var e=void 0===t?{}:t,n=e.invalidate,t=e.crossorigin,t=void 0!==t&&t,e=e.useCredentials,e=void 0!==e&&e;if(bt[i]&&!(void 0!==n&&n))return bt[i].promise;var o=document.createElement("script");o.src=i,o.async=!0,t&&(o.crossOrigin=e?"use-credentials":"anonymous");e=new Promise(function(t,e){o.onload=function(){bt[i].loaded=!0,t()},o.onerror=function(t){bt[i].error=t,e(t)}});return bt[i]&&document.head&&document.head.removeChild(bt[i].script),document.head&&document.head.appendChild(o),bt[i]={script:o,promise:e,loaded:!1,error:null},e};yt.isRequested=function(t){return Boolean(bt[t])},yt.isLoaded=function(t){return Boolean(bt[t]&&bt[t].loaded)},yt.isFailed=function(t){return Boolean(bt[t]&&bt[t].error)};function wt(){return window.YandexZen=window.YandexZen||{}}function kt(t){return B(t)&&Boolean(t._isZenLoggerEventInfo)}function Et(t){return B(t)&&P(t.stack)}function Mt(t){if(B(t))try{return JSON.stringify(t),1}catch(t){return}}function xt(t,e){return t=wt()[t],C(t)?e:t}function Tt(t,e){wt()[t]=e}var St,Ct,Bt=((yt=Pt.prototype).start=function(t){var e=this._starts[t],i=this._results[t];e||i||(this._starts[t]=Date.now())},yt.finish=function(t){var e=this._starts[t],i=this._results[t];e&&!i&&(this._results[t]=Date.now()-e)},yt.getResults=function(){return Object.assign({},this._results)},yt.getInProgress=function(){var e=this;return Object.keys(this._starts).filter(function(t){return"number"!=typeof e._results[t]}).sort()},new Pt);function Pt(){this._starts={},this._results={}}(yt=St=St||{}).Error="ERROR",yt.Warning="WARNING",yt.Log="LOG",(yt=Ct=Ct||{}).Runtime="RUNTIME",yt.Longterm="LONGTERM",yt.Ignore="IGNORE";function It(t,e){if(t.logLevel===St.Error&&t.storageLevel===Ct.Runtime)try{var i=t.info.context.apiLoggerUrl||function(){var t=xt("apiLoggerUrl");if(P(t))return t;var t=xt("apiHost");return("/"===(t=t=!P(t)?"/":t)[t.length-1]?t.slice(0,-1):t)+"/api/v3/launcher/client_error"}(),n=(l=t.info,h=l.message,d=l.context,l=(l=l.error)?{name:l.name,stack:l.stack,file:l.file,column:l.column,line:l.line}:{},{logLevel:"error",tech:t.tech,message:h,context:{rids:d.rids,error_details:l,rezen:{version:d.version,app_name:d.appName,session_id:t.sessionId}}});o={url:i,body:JSON.stringify(n)},s=o.url,r=o.body,a=o.onload,c=o.onerror,o=new XMLHttpRequest,a&&(o.onload=a),c&&(o.onerror=c),o.open("POST",s,!0),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.setRequestHeader("X-ZenLib-Version","2.1003.1"),o.send(r),e()}catch(t){e(new Error("Empty error"))}else e();var o,s,r,a,c,l,h,d}var Dt={appName:"cached-render-morda-desktop-loader",target:"legacy",version:"2.1003.1"},Ot=((yt=Ft.prototype)._getSessionTimestamp=function(){return"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?Math.round(window.performance.now()):Date.now()-this._sessionStart},yt._createEventInfoWithLoggerContext=function(e){var i,t=function t(e,i){if(void 0===i&&(i=0),kt(e))return e;var n="",o=null,s=null,r=null,a=null;if(P(e))n=e;else if(Et(e)){if(kt((r=e)._zenLoggerEventInfo))return r._zenLoggerEventInfo;n=r.message}else B(e)&&(n=e.message,o=e.details||null,s=e.context||null,a=e.cause||null);return P(n)||(n="Unnamed event"),Mt(o)||(o=null),B(s)||"function"==typeof s||(s=null),Et(r)||(r=null),a?(a=i<10?t(a,i+1):null)&&(n=n+": "+a.message):a=null,{message:n,details:o,context:s,error:r,cause:a,_isZenLoggerEventInfo:!0}}(e),e=Object.assign({},Dt,this._context);if("function"==typeof t.context)try{i=t.context(e)}catch(t){i=e}else i=B(t.context)?Object.assign({},e,t.context):e;return Mt(i)?Object.assign({},t,{context:i}):Object.assign({},t,{context:Dt})},yt._dispatchLoggerEvent=function(t,e){this._handler({tech:this._tech,logger:this,logLevel:e.logLevel,storageLevel:e.storageLevel,sessionId:this._sessionId,sessionTimestamp:this._getSessionTimestamp(),info:this._createEventInfoWithLoggerContext(t)})},yt.setHandler=function(t){try{this._handler=t(this._handler)}catch(t){}},yt.setContext=function(t){try{this._context="function"==typeof t?t(this._context):t}catch(t){this._context=Dt}},yt.error=function(t,e){this._dispatchLoggerEvent(t,{logLevel:St.Error,storageLevel:e&&e.storageLevel||Ct.Runtime})},yt.warn=function(t,e){this._dispatchLoggerEvent(t,{logLevel:St.Warning,storageLevel:e&&e.storageLevel||Ct.Longterm})},yt.log=function(t,e){this._dispatchLoggerEvent(t,{logLevel:St.Log,storageLevel:e&&e.storageLevel||Ct.Ignore})},Ft),jt=(i(109),function(i){return function(t){var n=i.errorsLimit,e=i.filterPatterns,o=i.filterRepetitiveErrors,s=e.slice(),r=0;return function(e){var i;e.logLevel===St.Error?n<=r||(i=e.info.message,!s.every(function(t){return!(t instanceof RegExp&&t.test(i)||"string"==typeof t&&i===t)}))||t(e,function(t){t||(o&&s.push(e.info.message),r++)}):t(e,function(){})}}}),Rt=((yt={})[St.Error]=[St.Error],yt[St.Warning]=[St.Error,St.Warning],yt[St.Log]=[St.Error,St.Warning,St.Log],yt),At=((yt={})[St.Error]=console.error,yt[St.Warning]=console.warn,yt[St.Log]=console.log,yt);function Ft(t){this._sessionStart=Date.now(),this._context={},this._sessionId=t.sessionId,this._handler=t.handler,this._tech=t.tech}i(106);var Nt,Lt=(l(Ut,Nt=_(Error)),Ut);function Ut(t){return(t=Nt.call(this,t)||this).name=t.constructor.name,Object.setPrototypeOf(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t),Ut.prototype),t}function Ht(t,e){var i=null!=t;!function(t){if(!i)throw new Lt(null!==t&&void 0!==t?t:"Assert condition failed")}(null!==e&&void 0!==e?e:i?"":"Expected 'value' to be defined, but receive "+t)}function zt(t){for(var e={},i=0,n=Object.entries(t);i<n.length;i++){var o=n[i],s=o[0],o=o[1];null!=o&&(e[s]=o)}return e}var Wt,$t,qt,Vt,Kt,Yt,Gt,Zt,Xt,Jt,Qt,te,ee,ie,ne,oe,se=(i(107),function(t,e){return t.replace(/([^/]*\.zen\.crowdzeta\.kaizen\.yandex\.ru)/,e=void 0===e?"zen.yandex.ru":e)}),r=(i=($t=new r).on.bind($t),r=$t.off.bind($t),qt=document.head,Vt={mountedRows:[]},Kt=function(t,e){return Bt.start(e),t.then(function(t){return Bt.finish(e),t}).catch(function(t){if(t instanceof lt)throw new Error("Resource not loaded in timeout: "+e);throw t})},Yt=function(t,e){var i=t.uri,n=t.id,o=function(){var t=e({source:i,container:qt}),t=H(t,6e4);return Kt(t,n)};return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return o.apply(void 0,e).catch(function(){return o.apply(void 0,e)})}()},Gt=function(t){return Promise.all(t.map(function(t){return Yt(t,o)}))},Zt=function(t){return t.reduce(function(t,e){return t.then(function(){return Yt(e,s)})},Promise.resolve())},Xt=function(t){return Promise.all(t.map(function(t){return Yt(t,function(t){return s(Object.assign({},t,{asyncAttr:!1,defer:!0}))})})).then(function(){})},Jt=function(t,e){return(t.exps&&t.exps.includes("zen_load_js_parallel:exp")?Xt:Zt)(e)},Qt=function(t){void 0!==t&&$t.emit("zenClicksCount",t)},te=function(t,i){return t.map(function(t,e){if(i&&i[e])return{uri:t,id:i[e]};e=t.match(/([^/])*$/);return{uri:t,id:e&&e[0]||t}})},ee=function(e,t,i){var n=t.static,o=n.appRender,s=n.cssResources,t=n.cssResourcesIds,r=n.placeholders,a=n.styles,c=n.rows,l=n.serverRenderedRows,h=n.clicksCount;return Gt(te(s,t)).then(function(){var t;window.document.head.insertAdjacentHTML("beforeend",a),t=i,e.insertAdjacentHTML("afterbegin",o),$t.emit("firstPaint",{isCache:t}),r&&r.forEach(function(t){var e=document.getElementById(t.container);e&&$t.emit("placeholder",Object.assign({},t,{container:e}))}),l&&l.forEach(function(t){var e=t.domElementId,i=t.grid,t=t.index,e=document.getElementById(e);e&&($t.emit("rowMounted",{container:e,grid:i,index:t}),Vt.mountedRows.push(t))}),Qt(h),$t.emit("rowsChanged",c)})},ie=function(t,e){if(T(e)){var i=t.appContainer;if(!i)throw Error("No Zen container");return n=t,s=i,u=(o=e).static,h=u.jsResources,d=u.jsResourcesIds,r=u.textMeasurmentState,a=o.isCacheRecord,h=h.map(function(t){return se(t)}),Promise.all([Jt(n,te(h,d)),ee(s,o,a)]).then(function(){var t=m(window),e=ct(n),i=n.exps&&n.exps.includes("zen_ssr_v2:exp");try{return i?t.initFromState(Object.assign({},n,{textMeasurmentState:r,zenFeatures:e}),o.data,!0,a):t.initFromContainer(Object.assign({},n,{textMeasurmentState:r,zenFeatures:e}),s,a),t}catch(t){throw $t.emit("invalidatePack"),t}})}var n,o,s,r,a,c,l,h,d,u;return l=e,u=void 0===(i=(c=t).staticHost)?"https://yastatic.net/s3/zen-lib/":i,h=c.lang,d=c.fallbackVersion,e=c.isDev,t=c.isSlimBundle,t={staticBase:(u=(i={staticHost:u,version:e?"":d||"2.437.2"}).staticHost,i=i.version,p(u)+(i?"/"+i:"")),appName:"cached-render-morda-desktop",bundleName:t?"app-slim":"app",target:e?Y.Chromium:Y.Legacy,lang:h,bundleSuffix:(u=(d={isAdblockEnabled:!0,isChunkedBundle:!0}).isChunkedBundle,(i=d.isAdblockEnabled)&&u?"-external-react-inline-style":i?"-inline-style":u?"-external-react":"")},t=(u={jsResources:[{uri:"//yastatic.net/react/17.0.2/react-with-dom.min.js",id:"react-chunk"},{uri:(h=(e=t).staticBase,d=e.appName,i=e.bundleName,u=e.target,t=e.lang,e=void 0===(e=e.bundleSuffix)?"":e,p(h)+"/"+d+"/"+function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter(Boolean).join(".")}(i+e,u,t,"bundle","js")),id:"js"}],cssResources:[]}).cssResources,u=u.jsResources.map(function(t){return Object.assign({},t,{uri:se(t.uri)})}),l.data&&Qt(l.data.clicks_count),Promise.all([Jt(c,u),Gt(t)]).then(function(){var t=m(window),e=ct(c);return t.initFromState(Object.assign({},c,{cache:null,zenFeatures:e,isSsrFallbackPack:!0}),l.data,!1,l.isCacheRecord),t})},ne=function(){var t,e,i,n,o,s=(null===(t=window.YandexZen)||void 0===t||null===(r=t.timemarks)||void 0===r?void 0:r.jsStart)||0,r=Object.entries((null===(r=window.YandexZen)||void 0===r||null===(e=r.timemarks)||void 0===e?void 0:e.js)||{}).reduce(function(t,e){var i=e[0],e=e[1];return Object.assign({},t,((t={})[i]=e-s,t))},{});$t.emit("firstPaint",{isCache:!1,timemark:null===(e=window.YandexZen)||void 0===e||null===(i=e.timemarks)||void 0===i?void 0:i.html}),$t.emit("timings",zt(Object.assign({},r))),$t.emit("chunkTimings",zt({css:null===(r=window.YandexZen)||void 0===r||null===(n=r.timemarks)||void 0===n?void 0:n.styles,api:null===(n=window.YandexZen)||void 0===n||null===(o=n.timemarks)||void 0===o?void 0:o.api}))},Wt=n(regeneratorRuntime.mark(function t(i){var n,o,s,r,a,c,l,h,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null===(c=window)||void 0===c||null===(n=c.YandexZen)||void 0===n?void 0:n.state){t.next=4;break}throw new Error("No Zen state");case 4:if(Ht((e=s).apiResponse),Ht(e.placeholders),Ht(e.rows),Ht(e.ttl),Ht(e.storeTtl),Ht(e.textMeasurmentState),Ht(e.containerId),r=e.textMeasurmentState,a=e.apiResponse,c=e.containerId,l=e.zenFeatures,h=e.inserts,document.getElementById(c)){t.next=8;break}throw new Error("No Zen container");case 8:if(null!==(d=window)&&void 0!==d&&null!==(o=d.YandexZen)&&void 0!==o&&o.promises)return t.prev=9,t.next=12,Promise.all(Object.values(window.YandexZen.promises));t.next=18;break;case 12:t.next=18;break;case 14:if(t.prev=14,t.t0=t.catch(9),t.t0.target&&t.t0.target.src)throw new Error("Failed to load "+t.t0.target.src);t.next=18;break;case 18:return(d=m(window)).initFromState(Object.assign({},i,{textMeasurmentState:r,zenFeatures:l,inserts:h}),a,!0,!1),ne(),t.abrupt("return",d);case 22:case"end":return t.stop()}var e},t,null,[[9,14]])})),oe=function(t){return Wt.apply(this,arguments)},{create:function(e){var t,i,n,o=function(t){t||console.warn("Logger host not configured");var i,n,o,e=xt("rid")||Date.now().toString(36).slice(0,16)+"_"+Math.random().toString(36).slice(2,18),s=(s=St.Error,i=Rt[s],o=It,s=function(t,e){i.includes(t.logLevel)&&At[t.logLevel](t.info.message),o(t,e)},n=jt({tech:"rezen",errorsLimit:50,filterRepetitiveErrors:!0,filterPatterns:["NS_ERROR","Failed to fetch","request timeout"]})(s),function(){try{for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.apply(this,e)}catch(t){}}),s=new Ot({sessionId:e,handler:s,tech:"rezen"});return Tt("rid",e),Tt("zenLogger",s),Tt("apiHost",t||"https://zen.yandex.ru"),s}(e.host);return e.isHtmlChunk?oe(e).then(function(t){return t}).catch(function(t){throw o.error(t),t}):Kt((t=e,i=$t,i={cache:(n=rt.isEnabled()?rt:st,{get:function(){return n.get("cached-render-desktop")},put:function(t){return n.put("cached-render-desktop",t)}}),params:t,outputBus:i},(null!==(t=t.cache)&&void 0!==t&&t.precacheRid?_t:pt)(i)),"api").then(function(t){return ie(e,t)}).then(function(t){return $t.emit("timings",Bt.getResults()),t}).catch(function(t){throw o.error(t),e.appContainer&&(e.appContainer.innerHTML=""),t})},on:i,off:r,forcedSymbolUsage:Symbol("foo"),store:Vt});e.default=r}],n={},o.m=i,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=69).default),Promise.resolve();function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var i,n}})},"gx+b":function(t,e){!function(t){var i;try{i=t.localStorage,o="ya_ls_test",i.setItem(o,"1"),"1"!==i.getItem(o)?i=null:i.removeItem(o)}catch(t){i=null}function e(t){s("localStorage is disabled. "+(t||""))}function n(t){try{return t()}catch(t){e(t)}}var o=t.home||(t.home={}),s=t.console?function(t){console.log(t)}:function(){};i?o.localStorage={setItem:function(t,e){return n(function(){return i.setItem(t,e)})},getItem:function(t){return n(function(){return i.getItem(t)})},removeItem:function(t){return n(function(){return i.removeItem(t)})},clear:function(){return n(function(){return i.clear()})},key:function(t){return n(function(){return i.key(t)})}}:(o.localStorage={removeItem:e,setItem:e,getItem:e,clear:e},o.disabledLS=!0)}(window)},"h/Ey":function(t,e){BEM.DOM.decl("arrowed-list",{onSetMod:{js:{inited:function(){this._prevLeft=0,this._moveTo=-1,this.initEvents()},"":function(){this.unBindEvents()}}},initEvents:function(){var t;this._inited||(t=home.throttle(this.onScroll.bind(this),100),this._rafWrap(this.toggleArrows.bind(this)),this.bindTo("content","scroll",t),this.bindToWin("resize.arrowedlist",t),this.bindToWin("orientationchange.arrowedlist",t),this._inited=!0)},unBindEvents:function(){this.unbindFrom("content","scroll"),this.unbindFromWin("resize.arrowedlist"),this.unbindFromWin("orientationchange.arrowedlist"),this._inited=!1},destruct:function(){if(this._requestId)for(var t=0;t<this._requestId;t++)cancelAnimationFrame(this._requestId[t])},move:function(t,e){var i=this.elem("content");this.stopAnimation(),this._moveTo=t,e?(i.scrollLeft(t),this._afterMove()):(this.animate(t,{duration:this.params.duration||400,complete:this._afterMove.bind(this)}),this._moving=!0)},stopAnimation:function(){this.elem("content").stop()},animate:function(t,e){this.elem("content").animate({scrollLeft:t},e)},_getItems:function(){return this.elem("content").children().toArray()},_getContainerWidth:function(){return this.elem("content").prop("offsetWidth")},update:function(){var t=this.elem("content");this._contentWidth=t.width(),this._containerWidth=this._getContainerWidth();var e=this._containerWidth-this._contentWidth;this._scrollWidth=t[0].scrollWidth+e,this._scroll=t.scrollLeft(),this._stops=this._getStops()},_getStops:function(){var t=this._prepareStops();return this._filterStops(t)},_prepareStops:function(){var t=this._getItems(),i=0;return t.map(function(t,e){return 0===e&&(i=t.offsetLeft),t.offsetLeft-i})},_filterStops:function(t){var e=this._scrollWidth-this._containerWidth;return(t=t.filter(function(t){return 0<=t&&t<e},this)).push(e),t},moveLeft:function(){this.update();for(var t=-1!==this._moveTo?this._moveTo:this._scroll,e=this.params.moveRatio*this._containerWidth,i=this._stops.length-1;0<=i&&this._stops[i]>=t-e-5;)i--;0<=(i=i<0&&t>this._stops[0]+5?0:i)&&this.move(this._stops[i])},moveRight:function(){this.update();for(var t=-1!==this._moveTo?this._moveTo:this._scroll,e=this.params.moveRatio*this._containerWidth,i=this._stops.length,n=0;n<i&&this._stops[n]<=t+e+5;)n++;n<i?this.move(this._stops[n]):this.move(this._stops[i-1])},seek:function(t,e){var i=t.closest(".arrowed-list__content > *"),t=this._getItems();i[0]&&this.move(i[0].offsetLeft-t[0].offsetLeft,e)},getVisibleItems:function(i){var t=this._getItems();return void 0===i&&(i=this._scroll),t.filter(function(t){var e=t.offsetLeft,t=$(t).width();return e<i+this._containerWidth&&i<e+t},this)},onScroll:function(){var t;this._rafWrap(this.toggleArrows.bind(this)),this._moving||(t=this.elem("content").scrollLeft(),Math.abs(this._prevLeft-t)>=(this.params.valuableScroll||0)&&(this.channel("arrow-list").trigger("scroll"+(this.params.blockid?"."+this.params.blockid:"")),this.trigger("scroll"),this._prevLeft=t))},toggleArrows:function(){this.update();var t=4<this._scroll;this.toggleMod(this.elem("left"),"hidden","yes",!t),this.toggleMod("left","yes",t);t=this._scroll+4<this._scrollWidth-this._containerWidth;this.toggleMod(this.elem("right"),"hidden","yes",!t),this.toggleMod("right","yes","",t)},_afterMove:function(){var t;this.domElem&&(this._prevLeft=this.elem("content").scrollLeft(),this.channel("arrow-list").trigger("move"+(this.params.blockid?"."+this.params.blockid:"")),this.trigger("move"),this._moving=!1,this._moveTo=-1,this._rafWrap(this.toggleArrows.bind(this)),(t=this.getVisibleItems()).length&&this.trigger("visibleItems",t))},getDefaultParams:function(){return{moveRatio:.33}},_rafWrap:function(t){var e="requestAnimationFrame"in window;this.params.rafExp&&e?(this._requestId||(this._requestId=[]),e=requestAnimationFrame(t),this._requestId.push(e)):t()},getScrollPosition:function(){return this._scroll}},{live:function(){return this.liveBindTo("left","click",function(){this.moveLeft()}),this.liveBindTo("right","click",function(){this.moveRight()}),this.liveBindKey("left","space enter",function(t){this.moveLeft(),t.preventDefault()}),this.liveBindKey("right","space enter",function(t){this.moveRight(),t.preventDefault()}),!1}})},h0Ux:function(t,e){BEM.DOM.decl("widget-control",{_getMenuMods:function(){return{type:"navigation",theme:"normal",tone:"default",view:"redesigned",size:"m3"}},_getPopupPositionParams:function(){return this.domElem.parents(".main").length?this.__base.apply(this,arguments):{directions:["bottom-right"],mainOffset:8,secondaryOffset:0}}},{_findTitle:function(t){return t.parents(".widgets-list__item").length?$():this.__base.apply(this,arguments)},MENU_SUPPORTED_ELEMENTS:[".divjson-title__header",".content-tabs__head",".news__tabs",".weather__geo",".weather__header-links",".streamnow__tabs",".tvstream__tabs",".covid_closable_yes .covid__tab-wrapper_last",".covid-speed__tab-wrapper_last",".traffic__header","h1:not(.a11y-hidden, .covid__tab-wrapper, .media-service__title)"]})},h9xl:function(t,e){var o;(o=jQuery).event.special.pointerpress||o.each({pointerpress:"pointerdown",pointerrelease:"pointerup pointercancel"},function(n,t){function e(t){var e,i=t.type;return"mouse"===t.pointerType&&1!==t.which||(t.type=n,e=o.event.dispatch.apply(this,arguments),t.type=i),e}o.event.special[n]={setup:function(){o(this).on(t,e)},teardown:function(){o(this).off(t,e)}}})},hTyO:function(t,e){BEM.DOM.decl("notifier",{_fetchCounter:function(){var t=this.__base;setTimeout(t.bind(this),0)}},{live:function(){this.__base.apply(this),this.liveBindKey("enter space",function(t){t.preventDefault(),this.onIconClick(t)})}})},hkQl:function(t,e){var i=document.domain.match(/([^.]+(?:\.com?)?\.)?[^.]+$/)[0];try{window.top||(document.domain=i)}catch(t){}},hvDV:function(t,e){function i(){o.hasClass("pointerfocus")&&(r=!0,setTimeout(function(){r=!1}))}var n,o,s,r;n=$(window),o=$(document.documentElement),s=0,r=!1,document.documentMode<=11?o.on("focusin",function(t){t=t.originalEvent;!t||t.fromElement||t.relatedTarget||i()}):n.on("blur",function(){n.one("focus",i)}),o.addClass("utilityfocus").on({focusin:function(){o.toggleClass("pointerfocus",r).toggleClass("utilityfocus",!r)},keydown:function(){clearTimeout(s),r=!1},"pointerdown pointerup click":function(t){r=!0,clearTimeout(s),s=setTimeout(function(){r=!1},600)}})},icT8:function(t,e){MBEM.decl("mini-suggest",{_onDeleteClick:function(){this.__base.apply(this,arguments),this.trigger("item-delete")}})},imma:function(t,e){BEM.DOM.decl("services-new",{onSetMod:{js:function(){this._bindSearchScenario(),this._initPromo()}},_initPromo:function(){var t=this.elem("promo"),e=this.elem("promo-bubble"),i=this.elem("onboarding").length;t.length&&t.data("showUrl")&&((new Image).src=t.data("showUrl")),e.length&&"visible"===e.css("visibility")&&(home.stat.logPath("show",this.elem("promo-bubble").data("counter")),setTimeout(this._hidePromoBubble.bind(this),1e3*(this.params.sidePopupHideTimeout||10)),i&&home.localStorage.setItem("home:doNotShowServicesNewOnboarding","1"),this.bindToDoc("pointerclick",function(t){$(t.target).closest(e).length||this._hidePromoBubble()}.bind(this)))},_bindSearchScenario:function(){var t=this;this._searchInput=this.findBlockOutside($(".search2 .input"),"input"),this._searchItems=this.elem("item","search","yes"),this._searchInput&&this._searchInput.on("change",$.debounce(function(){t._updateUrls(this.val())},300))},_updateUrls:function(t){var i=encodeURIComponent(t);this._urls||(this._urls={},(home.getData("services-new.data.fullList")||[]).forEach(function(t){this._urls[t.service]={url:t.url,search:t.search}}.bind(this))),this._searchItems.each(function(t,e){$(e).attr("href",home.stringf(this._urls[$(e).data("id")][i?"search":"url"].replace(/%25/g,"%"),i))}.bind(this))},_onPromoClick:function(t){t=t.data("clickUrl");t&&((new Image).src=t)},_hidePromoBubble:function(){this.delMod(this.elem("promo-bubble"),"visible")}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("promo","pointerclick",function(t){this._onPromoClick(t.data.domElem)}),this.liveBindKey("promo","enter",function(t){this._onPromoClick(t.data.domElem)}),!1}})},ipYq:function(t,e){home.logBanner=function(){var e=home.getData("banner.logs")||[],i=!1,t=Date.now(),n=window.performance&&window.performance.now,o=function(t){console.log(t.time+"s",t.action,t.params)},s=n?function(){return Math.round(performance.now()/100)/10}:function(){return Math.round((Date.now()-t)/100)/10};home.logBanner={showLogs:function(){i=!0;for(var t=0;t<e.length;t++)o(e[t])},hideLogs:function(){i=!1},log:function(t){t&&(t.time=s(),e.push(t),i&&o(t))},setLogFunc:function(t){o=t}}},home.getData("banner.logsEnable")&&home.logBanner()},irDm:function(t,e){BEM.DOM.declMix("mix-tabber-wheel",{onSetMod:{js:{inited:function(){var t;this.__base.apply(this,arguments),home.getData("i-scroll-changes.data.scroll_speedup_wheel")&&(t=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!0},this.elem("panels")[0].addEventListener("wheel",this._onWheel.bind(this),t))}}},_processWheelOrient:function(t,e,i,n){var o;(!this._wheelPrevTime||e-this._wheelPrevTime>this.__self.WHEEL_FADE_TIME)&&(this._wheelOrient=void 0),void 0===this._wheelOrient?this._wheelOrient=n<i?"horizontal":"vertical":(i/n>this.__self.WHEEL_ORIENT_COEFFICIENT?o="horizontal":n/i>this.__self.WHEEL_ORIENT_COEFFICIENT&&(o="vertical"),o&&(this._wheelOrient=o)),"horizontal"===this._wheelOrient&&!1!==t.cancelable&&t.preventDefault()},_calcWheelDeltas:function(t){var e=t.deltaX,i=t.deltaY;return t.deltaMode!==t.DOM_DELTA_LINE&&t.deltaMode!==t.DOM_DELTA_PAGE||(e*=18,i*=18),{x:e,y:i}},_onWheel:function(t){if("deltaX"in t&&!this.__self._hasHorizontalScroll()){var e=this._calcWheelDeltas(t),i=e.x,n=e.y,o=Math.abs(i),s=Math.abs(n),e=Date.now();if(this._preventWheelTime&&e<this._preventWheelTime)return this._wheelPrevTime=e,void("horizontal"===this._wheelOrient&&!1!==t.cancelable&&t.preventDefault());this._processWheelOrient(t,e,o,s),this._wheelCounterX=this._wheelCounterX||0,this._wheelCounterY=this._wheelCounterY||0,this._wheelPrevTime=this._wheelPrevTime||e;s=1-Math.min(1,(e-this._wheelPrevTime)/this.__self.WHEEL_FADE_TIME);this._wheelCounterX*=s,this._wheelCounterY*=s,this._wheelCounterX+=i,this._wheelCounterY+=n,40<Math.abs(this._wheelCounterX)&&Math.abs(this._wheelCounterX/this._wheelCounterY)>this.__self.WHEEL_ORIENT_COEFFICIENT&&(i=0<this._wheelCounterX,this._wheelCounterX=0,this._wheelCounterY=0,this._preventWheelTime=e+this.__self.WHEEL_DEDUP_TIME,n=this._keys.indexOf(this._selectedKey),(n+=i?1:-1)>=this._keys.length?n=0:n<0&&(n=this._keys.length-1),this._selectTab(this._keys[n])),this._wheelPrevTime=e}}},{WHEEL_FADE_TIME:1e3,WHEEL_ORIENT_COEFFICIENT:2.5,WHEEL_DEDUP_TIME:750,_hasHorizontalScroll:function(){return document.documentElement.scrollWidth>document.documentElement.offsetWidth},live:function(){this.__base.apply(this,arguments);var n=this;if(home.getData("i-scroll-changes.data.scroll_speedup_wheel"))return!1;var t=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!1};document.addEventListener("wheel",function(t){var e=n.getName(),i=$(t.target).closest("."+e+"__panels");i.length&&i.closest("."+e).bem(e)._onWheel(t)},t)}})},jUAr:function(t,e){MBEM.decl("mini-suggest",{_buildItem:function(t){var e,i,n,o,s=this.__base.apply(this,arguments),r=t[0],a=t[5];return a&&(e=a.descr,i=a.mark,n=a.icon,o=a.type,i&&(i=Array.isArray(i)?i:[i],s.content.mark=i.map(function(t){return'<span class="mini-suggest__item-mark mini-suggest__item-mark_type_'+MBEM.encode(t)+'"></span>'}).join(""),s.className+=" mini-suggest__item_mark_yes"),e&&(e=Array.isArray(e)?e:[e],s.content.descr=e.map(function(t){return t?'<span class="mini-suggest__item-descr">'+MBEM.encode(t)+"</span>":""}).join("")),o&&(s.className+=" mini-suggest__item_subtype_"+o),n&&(s.content.icon='<span class="mini-suggest__item-icon mini-suggest__item-icon_size_'+MBEM.encode(n.size||"s")+'" style="background-image:url('+MBEM.encode(n.url)+');"></span>'),"nav"!==r&&"fact"!==r||(s.content.wrapper=['<div class="mini-suggest__item-content">',"</div>"]),a.img&&(a.img.url||a.img.icon)&&(s.content.thumb=this._buildThumb(a)),"nav"===r&&a.monochrome&&(s.className+=" mini-suggest__item_monochrome")),s},_buildItemContent:function(t,e){return e.content.button&&(e.className+=" mini-suggest__item_with-button"),(e.content.thumb||"")+(e.content.wrapper&&e.content.wrapper[0]||"")+this._buildItemContentMain(t,e)+(e.content.wrapper&&e.content.wrapper[1]||"")},_buildThumb:function(t){var e="",i="",n="",o="";return t.img.badge&&!t.img.round&&(o+='<div class="mini-suggest__item-thumb-badge"',t.img.badgeColor&&(o+=' style="background-color:'+MBEM.encode(t.img.badgeColor)+';color:#333;"'),o+=">"+MBEM.encode(t.img.badge)+"</div>"),e+=" mini-suggest__item-thumb_orientation_"+(t.img.aspect&&!t.img.round?MBEM.encode(t.img.aspect):"square"),e+=" mini-suggest__item-thumb_size_"+(t.img.size?MBEM.encode(t.img.size):"m"),e+=t.img.shade?" mini-suggest__item-thumb_shade":"",e+=t.img.border||!t.img.icon&&"base"===t.type?" mini-suggest__item-thumb_border":"",e+=t.img.contain?" mini-suggest__item-thumb_contain":"",e+=t.img.cover?" mini-suggest__item-thumb_cover":"",e+=t.img.round?" mini-suggest__item-thumb_round":"",e+=t.img.icon?" mini-suggest__item-thumb_icon_"+t.img.icon:"",n+=t.img.color?"background-color:"+MBEM.encode(t.img.color)+";":"",'<div class="mini-suggest__item-thumb'+e+'"'+(i+=(n+=t.img.url?"background-image:url("+MBEM.encode(t.img.url)+");":"")?' style="'+n+'"':"")+">"+o+"</div>"},_buildItemContentAdds:function(t,e){return(e.content.mark||"")+(e.content.descr||"")}})},jWLv:function(t,e){MBEM.decl({block:"mini-suggest",modName:"theme",modVal:"flat"},{_buildPopupClassList:function(){return this.__base()+" mini-suggest__popup_theme_flat"}})},"jXs/":function(t,e){var i,n={isAuthenticated:!1,isFeedbackReceived:!1,isRequestSent:!1},o=function(){};BEM.decl("i-mda-auth",{},{authenticate:function(t){if(""===(i=Lego.params["mda-auth-url"]||home.getData("i-mda-auth.url")||""))return!1;var e=Lego.params["mda-auth-delay"]||10;o=t||function(){},setTimeout(function(){var t=document.createElement("iframe");t.style.visibility="hidden",t.style.position="absolute",t.setAttribute("src",i),t.name="i-mda-auth"+(Math.random()+"").substr(3,7),t.style.top=t.style.left=t.style.width=t.style.height=0,document.getElementsByTagName("body")[0].appendChild(t),n.isRequestSent=!0},e)},isRequestSent:function(){return n.isRequestSent},isFeedbackReceived:function(){return n.isFeedbackReceived},isAuthenticated:function(){return n.isAuthenticated},getUrl:function(){return i},registerFeedback:function(t){t="success"===t;n.isFeedbackReceived=!0,n.isAuthenticated=t,o(t)}})},jeyh:function(t,e){MBEM.decl({block:"mini-suggest",modName:"direct",modVal:"yes"},{__constructor:function(){this._adVisibilityChekers={},this._prevVisibilityCounterUrls={},this.__base.apply(this,arguments)},_renderItems:function(){this.__base.apply(this,arguments),this._isShown&&this._checkVisibilityAdvItems()},_syncItems:function(){this.__base.apply(this,arguments),this._adPositions=this._dataItems.reduce(function(t,e,i){if(e[5]&&"ad"===e[5].type){if(this._adIsHidden(this._items[i]))return this.trigger("adb",{hidden:!0}),t;this.trigger("adb"),t.push(i)}return t}.bind(this),[])},_hidePopup:function(){if(this._isShown){for(var t in this._adVisibilityChekers)this._adVisibilityChekers.hasOwnProperty(t)&&clearTimeout(this._adVisibilityChekers[t]);this._adVisibilityChekers={}}this.__base.apply(this,arguments)},_showPopup:function(){this.__base.apply(this,arguments),this._dataItems&&this._checkVisibilityAdvItems()},_checkVisibilityAdvItems:function(){var i=this.params.direct,n={};if(this._adPositions.forEach(function(t){var t=this._dataItems[t],e=t&&t[5]&&t[5].linkht;i.counter_delay?this._prevVisibilityCounterUrls[e]||(n[e]=this._adVisibilityChekers[e]||setTimeout(function(){this._sendVisibilityCounter(e)}.bind(this),i.counter_delay)):this._sendVisibilityCounter(e)}.bind(this)),i.counter_delay){for(var t in this._adVisibilityChekers)this._adVisibilityChekers.hasOwnProperty(t)&&!n[t]&&(clearTimeout(this._adVisibilityChekers[t]),this._adVisibilityChekers[t]=null);this._adVisibilityChekers=n}},_adIsHidden:function(t){t=t&&window.getComputedStyle(t,null);return"none"===t.display||"visible"!==t.visibility||"1"!==t.opacity||-1===["static","relative"].indexOf(t.position)},_onItemClick:function(t,e){var i=e.node.getAttribute("data-index"),i=this._dataItems[i],i=i&&i[5]&&i[5].linkht;i&&this._sendVisibilityCounter(i),this.__base.apply(this,arguments)},_sendVisibilityCounter:function(t){this._prevVisibilityCounterUrls[t]||(this._prevVisibilityCounterUrls[t]=!0,(new Image).src=t)}})},jfdc:function(t,e){function n(){return"uniq"+ ++o}var i,o,s;i=jQuery,o=0,s="__"+Number(new Date),i.identify=function(t,e){if(!t)return n();var i="uniqueID"in t?"uniqueID":s;return e||i in t?t[i]:t[i]=n()}},jm34:function(t,e){BEM.decl("i-block-renderer",{},{wrapRender:function(t,e){try{return this._params=t,e()}finally{this._params=null}},getCurrent:function(){return this._params||null}})},"k/MW":function(t,e){home.makeStyle=function(t){if(!t)return"";var e,i="";for(e in t)if(t.hasOwnProperty(e)){if(!t[e]&&0!==t[e])continue;i&&(i+=";"),i+=e+":"+String(t[e])}return i}},kCSK:function(t,e){BEM.DOM.decl("tooltip",{_onEnter:function(){this.setMod("hovered","yes")},_onLeave:function(){this.delMod("hovered")}},{live:function(){return this.liveBindTo("pointerover pointerout",function(t){this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onEnter(t):this._onLeave(t))}),this.__base()}})},kHCm:function(t,e){var a;(a=home).getData=function(t,e){var i,n,o="export",s=t.split("."),r=s.length;if(1<r){for(i=a[o]||{},n=0;n<r;n++)if(void 0===(i=i[s[n]]))return void 0===i?e:i;return void 0===i?e:i}return o="export",void 0===(t=a&&a[o]&&a[o][t])?e:t},a.dataCallbacks=a.dataCallbacks||[],a.subscribeData=function(t){a.export?t():a.dataCallbacks.push(t)}},kVI9:function(t,e){BEM.decl({name:"dataprovider-geo",baseBlock:"i-request_type_ajax"},{get:function(t,e){var i=Lego.params.locale||"ru",n=(location.host.match(/yandex\.(\w\w)$/)||["","ru"])[1].toUpperCase();return this.__base({v:9,search_type:"tune",results:15,lang:i+"_"+n,part:t,spn:[.01,.01].join()},function(t){e.call(this,t.results.filter(function(t){return t.geoid}).map(function(t){return["geo"].concat(t)}),t.meta)})}})},kepD:function(t,e){BEM.DOM.decl({block:"divjson2-tabs",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-divjson2-tabs"]},{_onPanelChange:function(t,e){this.__base.apply(this,arguments),this._recalcPanel(e)},_recalcPanel:function(t){t=this.findBlockInside(t,"arrowed-list");t&&t.toggleArrows()}})},khhJ:function(t,e){MBEM.appendUrlParams=function(t,e){return t+(-1<t.indexOf("?")?"&":"?")+Object.keys(e).map(function(t){return t+"="+MBEM.encodeUriComponent(e[t])}).join("&")}},kvBX:function(t,e){BEM.DOM.decl("pusher-button",{_notice:function(t){var e=this.__base.apply(this,arguments);return"popup"===t&&e.setOwner(this.domElem),e}})},l7b8:function(t,e){BEM.DOM.decl({block:"popup",modName:"type",modVal:"modal"},{getDefaultParams:function(){var t=this.__base();return t.top="50%",t.left="50%",t},_isPercentVal:function(t){return"string"==typeof t&&0<t.indexOf("%")},show:function(t){return this._moveToContainer(),this.setMod("visibility","outside").setMod("adaptive","no"),this.repaint(t),this},repaint:function(t){this._moveToContainer(),t=t||{left:this.params.left,top:this.params.top};var e=this.getPopupSize();return this._isPercentVal(t.left)&&!t.marginLeft&&(t.marginLeft=e.width/(-100/parseInt(t.left,10))),this._isPercentVal(t.top)&&!t.marginTop&&(t.marginTop=e.height/(-100/parseInt(t.top,10))),this._show(t),this}})},laRw:function(t,e){MBEM.decl({block:"mini-suggest",modName:"empty",modVal:"yes"},{_handlePopupShow:function(t,e){e&&e.empty||this._changePathState("not_used")},_handlePopupUpdate:function(){this.__base.apply(this,arguments),this._changePathState("not_used")}})},lazP:function(t,e){function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}BEM.DOM.decl("traffic",{onSetMod:{js:{inited:function(){var t=this.elem("geo-list");t.length&&this._autosizeGeoList(t)}}},_autosizeGeoList:function(c){function t(){var t,e,i=l.elem("geo-list-item").toArray(),n=(null===(t=c.offset())||void 0===t?void 0:t.top)||0,o=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t){if(t){if("string"==typeof t)return h(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?h(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){r=!0,o=t},f:function(){try{s||null==i.return||i.return()}finally{if(r)throw o}}}}(i);try{for(o.s();!(e=o.n()).done;){var s,r=e.value,a=$(r);10<((null===(s=a.offset())||void 0===s?void 0:s.top)||0)-n&&l.setMod(a,"hidden","yes")}}catch(t){o.e(t)}finally{o.f()}}var l=this;c.on("scroll",function(){c.scrollLeft(0).scrollTop(0)}),this.bindToWin("resize",home.throttle(function(){l.delMod(l.elem("geo-list-item"),"hidden"),t()},100)),t()}})},m3bF:function(t,e){!function(t){var e={};/msie|trident/i.test(t)?e.ie=parseInt(t.split(/msie|rv:/i)[1],10):-1!==t.indexOf("Opera")&&(e.opera=parseInt(t.split(/Version\//i)[1],10));var i,n={},o={};(i=t.match(/Windows\sPhone[^\d]*\s([\d.]+)/))?n.wp=i[1]:(i=t.match(/Android\s+([\d.]+)/))?n.android=i[1]:t.match(/\sHTC[\s_].*AppleWebKit/)?n.android="2.3":(i=t.match(/iPhone\sOS\s([\d_]+)/))?(n.ios=i[1].replace(/_/g,"."),o.iphone=!0):(i=t.match(/iPad.*OS\s([\d_]+)/))?(n.ios=i[1].replace(/_/g,"."),o.ipad=!0):(i=t.match(/Bada\/([\d.]+)/))?n.bada=i[1]:(i=t.match(/MSIE\s9/))?n.wp="7.5":n.other=!0,BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){var e=this.__self,i="other";["ios","android","bada","wp","opera"].some(function(t){return e[t]&&(i=t)}),this.setMod("platform",i)}}},setVersion:function(){var t=this.parseVersion();t&&(this.setMod(t.platform,t.major),this.setMod(t.platform+"-subversion",t.subversion))},parseVersion:function(){if(this.__self.ios||this.__self.android){var t=(this.__self.ios||this.__self.android).split("."),e=t.shift(),t=t.join("-");return{platform:this.getMod("platform"),major:e,subversion:t}}}},{ios:n.ios,iphone:o.iphone,ipad:o.ipad,android:n.android,bada:n.bada,wp:n.wp,other:n.other,ua:t,ie:e.ie,opera:e.opera})}((window,navigator.userAgent))},m3dv:function(t,e){MBEM.decl({block:"mini-suggest",modName:"separate-popup",modVal:"yes"},{_bindHandlers:function(){this.__base.apply(this,arguments),this.bindTo(window,"orientationchange resize",this._repositionPopup.bind(this))},_createPopup:function(){if(this._popup)return!1;var t,e=this.__base.apply(this,arguments),i=this.params.popupMods,n=this.params.popupMix;for(t in i)if(i.hasOwnProperty(t)){var o=i[t];if(!o)continue;MBEM.cls.add(this._popup,"mini-suggest__popup_"+t+(!0===o?"":"_"+o))}if(n)for(var s=0;s<n.length;s++)MBEM.cls.add(this._popup,n[s]);return e},_appendPopup:function(t){(this.params.getPopupContainer&&this.params.getPopupContainer()||document.body).appendChild(t)},_repositionPopup:function(){this.__base.apply(this,arguments),this._popup&&(this._popup.style.top=MBEM.offset(this._input).top+this._input.offsetHeight+this.params.popupOffset+"px")},_showPopup:function(){this.__base.apply(this,arguments),MBEM.cls.add(this._popup,"mini-suggest__popup_visible"),this._repositionPopup()},_hidePopup:function(){this._isShown&&(this.__base.apply(this,arguments),MBEM.cls.remove(this._popup,"mini-suggest__popup_visible"))},getDefaultParams:function(){var t=this.__base.apply(this,arguments);return t.popupOffset=0,t}})},mCRL:function(t,e){BEM.DOM.declMix("mix-tabber-labels",{_getKeys:function(){var t=this.elem("tab");return t.length?t.toArray().map(function(t){return String($(t).data("key"))}):this.__base.apply(this,arguments)},_getDefaultKey:function(){var t=this.elem("tab","selected","yes");return t.length?String(t.data("key")):this.__base.apply(this,arguments)},_changeTab:function(t,e){this.__base.apply(this,arguments);var i=this.elem("tab","selected","yes"),n=this.elem("tab").filter('[data-key="'+t+'"]');this._toggleLabelSelection(i,!1,e),this._toggleLabelSelection(n,!0,e),e.focus&&n.focus()},_toggleLabelSelection:function(t,e,i){t.attr({tabindex:e?0:-1,"aria-selected":e?"true":"false","aria-controls":e?this._uniqId+"_panel_"+this._selectedKey:null}),this.toggleMod(t,"selected","yes","no",e),t.toggleClass("mix-tabber__tab_selected_yes mix-tabber__tab_selected_no")},_getPanelAttrs:function(t){return{"aria-labelledby":this._uniqId+"_tab_"+t}},_onTabClick:function(t){var e=t.data.domElem,i=String(e.data("key")),t=this._selectedKey===i;return this._selectTab(i,{from:"user"}),t?home.stat.redirect(e[0],e.data("stat-link")):home.stat.logPath("click",e.data("stat-select")),t}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("tab","click",function(t){return this._onTabClick(t)})}})},mbKu:function(t,e){function l(){var t,e=Ya.Rum.getSetting("clck"),i=d.join("\r\n");d=[],h=null,!e||navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(e,i)||((t=new XMLHttpRequest).open("POST",e),t.send(i))}var h,d;d=[],Ya.Rum.send=function(t,e,i,n,o,s,r){clearTimeout(h);var a=Ya.Rum.getSetting("slots"),c=Ya.Rum.getSetting("experiments"),i=["/reqid="+Ya.Rum.getSetting("reqid"),r?"/"+r.join("/"):"",e?"/path="+e:"",o?"/events="+o:"",a?"/slots="+a.join(";"):"",c?"/experiments="+c.join(";"):"",i?"/vars="+i:"","/cts="+(new Date).getTime(),"/*"];d.push(i.join("")),d.length<42?h=setTimeout(l,15):l()}},mcDQ:function(t,e){MBEM.decl("mini-suggest",{_buildItem:function(t){var e=this.__base.apply(this,arguments);return t[5]&&t[5].hl&&(e.content.title=MBEM.hl(t[1],t[5].hl)),t[5]&&t[5].inline&&(e.className+=" mini-suggest__item_inline"),e}})},mcHa:function(t,e){Function.prototype.bind||(Function.prototype.bind=function(e){var i=this,n=MBEM.arrayFrom(arguments).slice(1);return function(){var t=MBEM.arrayFrom(arguments);return i.apply(e,n.concat(t))}})},mr38:function(t,e){!function(){"use strict";var a;home.stat.addHandler=function(e,i){(a=a||[]).some(function(t){return t.func===i&&t.prefix===e})||a.push({prefix:e,func:i,re:e?new RegExp("^"+e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"(\\.|\\(|$)"):/.*/})},home.stat.removeHandler=function(e,i){a=a&&a.filter(function(t){return t.prefix!==e||t.func!==i})},["logPath","redirect"].forEach(function(s){var r=home.stat[s];home.stat[s]=function(t,e,i){var n="redirect"===s?"click":t;if(e){var o=e.replace(/\([^)]+\)/g,"");return a&&a.forEach(function(t){!t.re.test(o)||(t=t.func(n,e,s))&&t.counter&&(e=t.counter)}),r.call(home.stat,t,e,i)}}})}()},myQs:function(t,e,i){!function(t){var h=void 0!==t?t:window;home.loadCss=function(t,e){var i,n,o,e=e||{},t=function(t,e,i,n){var o,s,r=h.document,a=r.createElement("link");s=e||(o=(r.body||r.getElementsByTagName("head")[0]).childNodes)[o.length-1];var c=r.styleSheets;a.rel="stylesheet",a.href=t,a.media=n?i||"all":"only x",function t(e){return r.body?e():void setTimeout(function(){t(e)})}(function(){s.parentNode.insertBefore(a,e?s:s.nextSibling)});t=function t(e){for(var i=a.href,n=c.length;n--;)if(c[n].href===i)return e();setTimeout(function(){t(e)})};function l(){a.addEventListener&&a.removeEventListener("load",l),n||(a.media=i||"all")}return a.addEventListener&&a.addEventListener("load",l),a.onloadcssdefined=t,t(l),a}(t,e.before,e.media,e.noFlash);function s(){!o&&n&&(o=!0,n.call(i))}e.callback&&(i=t,n=e.callback,i.addEventListener&&i.addEventListener("load",s),i.attachEvent&&i.attachEvent("onload",s),"isApplicationInstalled"in navigator&&"onloadcssdefined"in i&&i.onloadcssdefined(s))}}.call(this,i("fRV1"))},"nJF/":function(t,e){BEM.DOM.decl({block:"link",modName:"pseudo",modVal:"yes"},{_onClick:function(t){t.preventDefault(),this.hasMod("disabled")||this.trigger("click",this._buildClickEventData(t))},_onKeydown:function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&(BEM.blocks.keycodes.is(t.keyCode,"SPACE")&&t.preventDefault(),this.setMod("pressed","yes"))},_onKeyup:function(t){BEM.blocks.keycodes.is(t.keyCode,"ENTER","SPACE")&&(BEM.blocks.keycodes.is(t.keyCode,"SPACE")&&this.trigger("click"),this.delMod("pressed"))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}}},{live:function(){return this.liveBindTo({modName:"pseudo",modVal:"yes"},"pointerclick",function(t){this._onClick(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keydown",function(t){this.hasMod("disabled")||this._onKeydown(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keyup",function(t){this.hasMod("disabled")||this._onKeyup(t)}),this.__base()}})},nJe8:function(t,e){BEM.DOM.decl({block:"popup",modName:"wrapped",modVal:"yes"},{onSetMod:{visibility:{visible:function(){this.__base(),this._wrap()},"":function(){this.__base(),this._unwrap()}},wrapped:{"":function(){this._unwrap()}}},_wrap:function(){this._wrapper||(this._wrapper=this.elem("wrapper").detach()),this._wrapper&&this.domElem.wrap(this._wrapper)},_unwrap:function(){this._wrapper&&this.domElem.unwrap()},_captureZIndex:function(){var t=this._zIndex,e=this.__base.apply(this,arguments);return this._zIndex!==t&&this.elem("wrapper").css("z-index",this._zIndex),e},destruct:function(){this._unwrap(),this.__base()}})},nKr7:function(t,e){!function(){"use strict";BEM.DOM.decl("checkbox",{onSetMod:{js:function(){this.__base(),this.params.stat&&this.on("change",function(){home.stat.logPath("click",this.params.stat)})}}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("click",function(t){$(t.target).hasClass("checkbox")&&this.toggle()}),!1}})}()},nQka:function(t,e){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this._val=this.elem("control").val()}},disabled:{"*":function(t,e){this.elem("control").prop("disabled",e)},yes:function(){this.delMod("focused")}},focused:function(t,e){if(this.hasMod("disabled"))return!1;e?this._focused||this._focus():this._focused&&this._blur(),this.afterCurrentEvent(function(){this.domElem&&this.trigger(e?"focus":"blur")})}},isDisabled:function(){return this.hasMod("disabled","yes")},val:function(t,e){var i=void 0!==t,n=this.elem("control");return t=i?null===t?"":t.toString():n.val(),this._val!==t&&(this._val=t,n.val()!==t&&n.val(t),this.trigger("change",e)),i?this:t},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getSelectionEnd:function(){var t,e,i,n=this.elem("control")[0],o=0;return"number"==typeof n.selectionEnd?o=n.selectionEnd:(t=document.selection.createRange())&&t.parentElement()===n&&(e=n.value.length,(i=n.createTextRange()).moveToBookmark(t.getBookmark()),(n=n.createTextRange()).collapse(!1),o=-1<i.compareEndPoints("EndToEnd",n)?e:-i.moveEnd("character",-e)),o},_onFocus:function(){var t;return 8<=parseInt(BEM.blocks["i-ua"].ios,10)&&!this.hasMod("type","textarea")&&((t=this.elem("control")[0]).selectionStart===t.value.length&&(t.scrollLeft=t.scrollWidth)),this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){return this._returnFocus?(this.afterCurrentEvent(function(){this.domElem&&this._focus()}),this):this.hasMod(this.elem("clear"),"pressed")?this:(this._focused=!1,this.delMod("focused"))},_focus:function(){if(this.hasMod("disabled","yes"))return!1;this.elem("control").focus()},_blur:function(){this._returnFocus=!1,this.elem("control").blur()},_updateVal:function(){this.val(this.elem("control").val())},destruct:function(){this._blur(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("control","focusin focusout",function(t){this["focusin"===t.type?"_onFocus":"_onBlur"](t)}),this.liveBindTo("control","input",function(){this._updateVal()}),9===document.documentMode&&(this.liveBindTo("control","focusin",function(){this.bindToDoc("selectionchange",this._updateVal)}),this.liveBindTo("control","focusout",function(){this.unbindFromDoc("selectionchange")}))}})},nV1K:function(t,e){BEM.DOM.decl("desk-notif",{onSetMod:{js:function(){this._initStat(),this.findBlockInside("navi")&&BEM.channel("navi").on("show-item",function(t,e){this.findBlockInside(e.item,"desk-notif-card").onShow()}.bind(this))}},_getStatObject:function(t){return{name:t,height:$(".desk-notif-card_"+t+"_yes").outerHeight(!0)}},_toStatFormat:function(t){return t.replace(/-/g,"_")},_initStat:function(){setTimeout(this._sendStat.bind(this),0)},_sendStat:function(){var t=this.params.serverCards.map(this._getStatObject).map(function(t){return this._toStatFormat(t.name)+"="+t.height},this).join(",");home.stat.logPath("notifications_height",t)}})},oABa:function(t,e){BEM.decl("i-messenger-unread",{},{listenCount:function(t){this._init(),void 0!==this._count&&t(this._count),this._countCallbacks=this._countCallbacks||[],this._countCallbacks.push(t)},_init:function(){var t;this._inited||(this._inited=!0,(t=home.getData("i-messenger-unread.data"))&&(this._unreadUrl=t.unreadUrl,this._reqNum=0,setTimeout(this._fetchUnread.bind(this),0)))},_fetchUnread:function(){document.hidden||!1===window.navigator.onLine?this._restartTimer():$.ajax({url:home.addQueryToUrl(this._unreadUrl,{reqNum:++this._reqNum,parentOrigin:window.location.origin}),xhrFields:{withCredentials:!0},dataType:"json",timeout:1e4,beforeSend:function(t){t.setRequestHeader("Content-Type","application/json")}}).asPromise().then(function(t){!t||t.Status&&400<=t.Status||(this._updateCount(Number(t.UnreadCount)||0),this._restartTimer(1e3*t.Ttl))}.bind(this),function(t){t.meta&&403===t.meta.status&&"Forbidden"===t.errorText||(home.error.logError({block:this.getName(),message:"_fetchUnread: ajax",source:"messenger_api"},t),this._restartTimer())}.bind(this))},_updateCount:function(e){this._count=e,this._countCallbacks&&this._countCallbacks.forEach(function(t){t(e)})},_restartTimer:function(t){t=t||1e4,home.getData("i-messenger-unread.data.disableAutoupdate")||setTimeout(this._fetchUnread.bind(this),t)}})},oQCc:function(t,e){!function(){"use strict";var h;home.cleverString={},h=function(t,e){t=t.charCodeAt(),e=e.charCodeAt();return 55296<=t&&t<=56319&&56320<=e&&e<=57343},home.cleverString.length=function(t){if(null==t)return 0;for(var e=0,i=t.length,n=0;e<i;)++e<i&&h(t[e-1],t[e])&&++e,++n;return n},home.cleverString.substring=function(t,e,i){if("string"!=typeof t)return t;for(var n,o=[],s=(e="number"!=typeof e?0:e)+(i=!i&&0!==i?1/0:i),r=0,a=t.split(""),c=a.length,l=0;r<=c;)r+(n=1)<c&&h(t[r],t[r+1])&&(n=2),e<=l&&l<s&&o.push(a.slice(r,r+n).join("")),r+=n,++l;return o.join("")},home.cleverString.cutMiddleOfString=function(t,e,i){var n=home.cleverString.length(t);return"string"!=typeof t||n<3||"number"!=typeof e||"number"!=typeof i?t:-1===e||-1===i?"":e+1+i<n?home.cleverString.substring(t,0,e)+""+home.cleverString.substring(t,n-i):t},home.cleverString.cutEndOfString=function(t,e){return home.cleverString.cutMiddleOfString(t,e-1,0)},home.cleverString.cutStartOfString=function(t,e){return home.cleverString.cutMiddleOfString(t,0,e-1)}}()},p0dP:function(t,e){home.bundles.initBlocks=function(){var h={};h[home.cls.full("direct-desktop")]=["direct-new-design"],$(".i-bundle-bem").each(function(){var t,e=$(this),i=e.data("bem"),n=[],o=!1;if(s=e.data("depBundle")){for(var s=s.split(","),r=0;r<s.length;++r)if(!home.bundles.loaded[s[r]])return}else for(var a in i){i.hasOwnProperty(a)&&h[a]&&n.push(h[a]);for(var c=0;c<n.length;c++){for(var l=0;l<n[c].length;l++)o=o||home.bundles.loaded[n[c][l]];if(!o)return}}for(t in i)if(i.hasOwnProperty(t)&&!(t in BEM.blocks))return;e.removeClass("i-bundle-bem").addClass("i-bem"),BEM.DOM.init(e)})},$(function(){BEM.afterCurrentEvent(function(){home.bundles.initBlocks()})})},pIfI:function(t,e){!function(){"use strict";var o=Object.prototype.toString;home.ltgtFilter=function(t){return String(t).replace(/</g,"&lt;").replace(/>/g,"&gt;")},home.jsonFilter=function(t){return String(t).replace(/[<>&\u2028\u2029]/g,function(t){switch(t){case"<":return"\\u003c";case">":return"\\u003e";case"&":return"\\u0026";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}return""})},home.capitalize=function(t){return t?t[0].toUpperCase()+t.substr(1):""},home.isXivaSupported=function(t){return t.XivaUrl&&!t.isOldIE&&!t.isMSIE9},home.encodeParams=function(t){return JSON.stringify(t).replace(/"/g,"'")},home.getJPathValue=function(t,e){for(var i=t,n=e.split("."),o=0;i&&void 0!==i[n[o]];)i=i[n[o++]];return"object"==typeof i?"":i},home.formatNumber=function(t,e,i){if(isNaN(t))return t;e=e||",",i=i||"&nbsp;";var n=(t+="").lastIndexOf("."),o=[],s="",r=0,a="";for(-1!==n?s=e+t.substr(n+1):n=t.length;-1<--n;)a=t[n]+a,3==++r&&(o.push(a),a="",r=0);return a&&o.push(a),o.reverse().join(i)+s},home.deepExtend=function(t,e){if(!e)return t;for(var i in e){var n;"__proto__"!==i&&e.hasOwnProperty(i)&&(n=e[i],Array.isArray(n)?(t[i]=Array.isArray(t[i])?t[i]:[],home.deepExtend(t[i],n)):"[object Date]"===o.call(n)||"object"!=typeof n||null===n?t[i]=n:(t[i]="[object Object]"===o.call(t[i])?t[i]:{},home.deepExtend(t[i],n)))}return t},home.rnd=function(){return String(Math.random()).substr(2)},home.randomInteger=function(t,e){t+=Math.random()*(e+1-t);return Math.floor(t)},home.intersectionArrays=function(t,e){return t&&e?t.filter(function(t){return-1!==e.indexOf(t)}):[]}}()},pJ9q:function(t,e){BEM.DOM.decl({name:"input",modName:"suggest",modVal:"yes"},{onSetMod:{js:{inited:function(){var t=this;t.params.foot&&(t.foot=t.params.foot),t._preventRequest=!0,t.__base.apply(t,arguments),t._userVal=t.val();var e=t._focused;e&&t.delMod("focused"),t.elem("control").attr("autocomplete","off"),t._preventRequest=!1,e&&t.setMod("focused","yes"),t._items=[],t._curItemIndex=-1,t._doRequest=$.debounce(t._doRequest,t.params.debounceDelay),this.bindToWin("resize",$.throttle(this._setWidth,60))}},focused:{yes:function(){this.__base();var t=this.params.showListOnFocus?this._onChange():this._onChange;this.on("change",t)},"":function(){this.__base(),this.un("change",this._onChange)._preventHide||this._getPopup().hide()}}},destruct:function(){var t=this._popup;return t&&t.domElem&&(this._popup=null,BEM.DOM.destruct(t.domElem)),this.__base.apply(this,arguments)},getDataprovider:function(){var t=this.params.dataprovider.url;return this._dataprovider||(this._dataprovider=BEM.create(this.params.dataprovider.name||this.__self.getName()+"__dataprovider",$.extend(this.params.dataprovider,{url:t,callbackCtx:this})))},_onChange:function(){return this._preventRequest||this._doRequest(),this._onChange},_onKeyDown:function(t){if(BEM.blocks.keycodes.is(t.which,"UP","DOWN")&&!t.shiftKey){t.preventDefault();var e,i=this._items.length;if(i)for(var n=t.which-39,o=this._curItemIndex,s=0;e=(0===o&&-1==n||i<=o+n)&&this._onLeaveItem(this._items[o],!0),(o+=n)<0?o=i-1:i<=o&&(o=0),!e&&!1===this._onEnterItem(this._items[o],!0)&&++s<i;);}},_onKeyPress:function(t){t.which===BEM.blocks.keycodes.ENTER&&-1<this._curItemIndex&&this._isCurItemEnteredByKeyboard&&(t.preventDefault(),this._onSelectItem(this._items[this._curItemIndex],!0))},_getPopup:function(){var t,e,i,n,o=this;return o._popup||(e=[{elem:"items",tag:"ul",mix:[{block:t=o.__self.getName(),elem:"popup-items"}]}],i=Array.isArray(o.params.popupMixs)?o.params.popupMixs:[],n={directions:"bottom-left"},o._hasPopupFade()&&e.push({block:t,elem:"fade"}),$.extend(n,o.params.popupParams),i.push({block:t,elem:"popup",elemMods:o.params.popupMods,js:{uniqId:o._uniqId}}),o._popup=$(BEMHTML.apply({block:"popup",mods:{animate:"no"},mix:i,js:n,content:{elem:"content",content:e}})).bem("popup").on({show:function(){o.bindTo("keypress",o._onKeyPress).bindTo("keydown",o._onKeyDown)},hide:function(){o.unbindFrom("keypress keydown")._curItemIndex=-1}}),$.each({pointerover:o._onEnterItem,pointerout:o._onLeaveItem,pointerdown:o._onSelectItem,pointerup:o._onItemMouseUp},function(t,e){BEM.blocks["b-autocomplete-item"].on(o._popup.domElem,t,function(t){e.call(o,t.block)})}),BEM.DOM.init(o._popup.domElem)),o._popup},getPopup:function(){return this._getPopup()},_hasPopupFade:function(){return"yes"===(this.params.popupMods||{}).fade},_onEnterItem:function(t,e){if(t.hasMod("enterable","no"))return!1;var i=this._items,n=this._curItemIndex;-1<n&&i[n].delMod("hovered"),-1<(n=this._getItemIndex(t))&&i[n].setMod("hovered","yes"),this._curItemIndex=n,this._isCurItemEnteredByKeyboard=Boolean(e),e&&this.params.updateOnEnter&&(this._preventRequest=!0,this.val(!1!==t.enter()?t.val():this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex}).del("_preventRequest"))},_onLeaveItem:function(t,e){var i=this._curItemIndex;return-1<i&&i===this._getItemIndex(t)&&(this._items[i].delMod("hovered"),this._curItemIndex=-1),e&&this.val(this._userVal),!0},_onSelectItem:function(t,e){var i=t.select(e||!1),n="object"==typeof i?i.needUpdate:!1!==i,i="object"==typeof i&&i.needEvent;this._preventRequest=!0,n&&(this._userVal=t.val(),this.val(this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex})),e?this.del("_preventRequest")._getPopup().hide():(this._returnFocus=!0,this.bindToDoc("pointerrelease",this._onDocMouseUp),n||(this._preventHide=!0),this.afterCurrentEvent(function(){this.domElem&&this.setMod("focused","yes").del("_preventRequest","_preventHide")})),(n||i)&&this.trigger("select",{item:t,byKeyboard:e})},_onItemMouseUp:function(){this._closePopupByMouseUp()},_onDocMouseUp:function(){this._closePopupByMouseUp()},_closePopupByMouseUp:function(){this.unbindFromDoc("pointerrelease").del("_returnFocus")._getPopup().hide()},_getItemIndex:function(t){return $.inArray(t,this._items)},_doRequest:function(){var i=this;i._userVal=i.val(),i.trigger("data-requested").getDataprovider().get(i.val(),function(t){i.trigger("data-received",t);var e=i._getPopup(),t=t.items||t;i.foot&&t.length&&-1===$.inArray(i.foot,t)&&t.push(i.foot),t.length?(i._curItemIndex=-1,BEM.DOM.update(e.elem("items"),i._buildItemsHtml(t),function(){e.isShown()||(e.show(i.elem("box")),i._setWidth()),i._items=e.findBlocksInside("b-autocomplete-item"),i.trigger("update-items")})):e.hide()})},_setWidth:function(){this._hasPopupFade()&&this._getPopup().domElem.css("width",this.elem("box").outerWidth())},_buildItemsHtml:function(t){var o=this;return BEMHTML.apply($.map(t,function(t,e){var i,n={block:"b-autocomplete-item",data:t,mods:{type:$.isArray(t)?t[0]:"text"},suggestVersion:o.params.dataprovider.version||4};return $.isArray(t)&&$.isPlainObject(i=t.concat().pop())&&$.extend(n,i),n}))},setFoot:function(t){return this.foot=t,this.foot},getDefaultParams:function(){return $.extend(this.__base(),{updateOnEnter:!0,debounceDelay:50,showListOnFocus:!0})}})},"pL+S":function(t,e){BEM.DOM.decl({block:"divjson-tabs",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels","mix-tabber-labels-keyboard","mix-divjson-tabs"]},{_onPanelChange:function(t,e){this.__base.apply(this,arguments);var i=this.findBlockInside(e,"arrowed-list");i&&i.toggleArrows()}})},pQu5:function(t,e){var r={};BEM.decl("i-request",{onSetMod:{js:{inited:function(){this._preventCache=!1}}},get:function(t,e,i,n){return $.isFunction(i)||(n=i,i=this.params.onError),this._get(t,e,i,$.extend({},this.params,n)),this},_get:function(t,e,i,n){var o=this._buildCacheKey(t,n),s=r[n.cacheGroup];n.cache&&s&&o in s.data?this.afterCurrentEvent(function(){e.call(this.params.callbackCtx,s.data[o])},this):this._do(t,e,i,n)},_do:function(t,e,i,n){},_onSuccess:function(t,e,i,n){n.cache&&!this._preventCache&&this.putToCache(n,t,i),this._preventCache=!1},_buildCacheKey:function(t,e){return"string"==typeof t?t:$.param(t)},putToCache:function(t,e,i){var n=r[t.cacheGroup]||(r[t.cacheGroup]={keys:[],data:{}});n.keys.length>=t.cacheSize&&delete n.data[n.keys.shift()];t=this._buildCacheKey(e,t);return n.data[t]=i,n.keys.push(t),this},dropCache:function(){return delete r[this.params.cacheGroup],this},getDefaultParams:function(){return{cache:!1,cacheGroup:"default",cacheSize:100,callbackCtx:this}}},{_cache:r})},pWjS:function(t,e){MBEM.decl({block:"mini-suggest",modName:"search",modVal:"yes"},{_setElements:function(){this.__base.apply(this,arguments),this._form=this.domElem,this._input=this.elem("input")[0],this._button=this.elem("button")[0],this._clear=this.elem("input-clear")[0]},_bindHandlers:function(){this.__base.apply(this,arguments),this._handleClick(this._clear,MBEM.eventProxy("_onClearClick",this))._handleClick(this._button,MBEM.eventProxy("_onSubmitClick",this)).bindTo(this._form,"submit",MBEM.eventProxy("_onFormSubmit",this))},_doSubmit:function(){this._simpleCheckMod("submit-exp","yes")&&this._dispatchInternalSubmitEvent(),this._dispatchNativeSubmitEvent()},_dispatchInternalSubmitEvent:function(){this.trigger("submit")},_dispatchNativeSubmitEvent:function(){var t=document.createEvent("Event");t.initEvent("submit",!0,!0),!1!==this._form.dispatchEvent(t)&&setTimeout(function(){this._form.submit()}.bind(this),0)},_onFormSubmit:function(){this._simpleCheckMod("submit-exp","yes")||this._dispatchInternalSubmitEvent(),this._blurAfterFormSubmit()},_blurAfterFormSubmit:function(){this._blur()},_onSubmitClick:function(t){t.preventDefault(),this.trigger("button-click"),setTimeout(this._doSubmit.bind(this),0)},_onClearClick:function(){document.activeElement!==this._input&&(this._renderItems([]),this._input.focus()),this._changeText("","clear")},_onItemClick:function(t,e){this.__base.apply(this,arguments),this.__self.itemTypeIsSearchable(e.type,e.subtype)&&setTimeout(function(){this._doSubmit()}.bind(this),0)},_openSuggest:function(){MBEM.cls.add(document.body,"body_search_yes"),this.__base.apply(this,arguments)},_closeSuggest:function(){MBEM.cls.remove(document.body,"body_search_yes"),this.__base.apply(this,arguments)},_appendHiddenInput:function(t,e){var i=this._form[t];i||((i=document.createElement("input")).type="hidden",i.name=t,this._form.appendChild(i)),i.value=e}})},paKB:function(t,e){MBEM.decl({block:"mini-suggest",modName:"re-request",modVal:"yes"},{_allowReRequest:function(t,e){return this.__base.apply(this,arguments)&&e[2]&&e[2].maybe_ads}})},pt8I:function(t,e){Ya.Rum.enabled&&addEventListener("load",function t(){removeEventListener("load",t);var e=Ya.Rum;if(e.sendTimeMark("1724"),e.getSetting("sendAutoResTiming"))for(var i=document.querySelectorAll("script[data-rCid], div[data-rCid]"),n=0,o=i.length;n<o;n++){var s,r=i[n],a=r.src;a||(!(s=getComputedStyle(r).backgroundImage)||(s=s.match(/^url\(["']?(.*?)["']?\)$/))&&(a=s[1])),a&&e.sendResTiming(r.getAttribute("data-rCid"),a)}})},qVEr:function(t,e){BEM.DOM.decl("button2",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(){this.setMod("hovered","yes")},_onPointerleave:function(){this.delMod("hovered")},_onClick:function(){this.__base.apply(this,arguments),this._isDestructing||this.setMod("focused","yes")}},{live:function(){return 8===BEM.blocks["i-ua"].ie&&this.liveBindTo("dblclick",function(t){this.hasMod("disabled")||this._onClick(t)}),this.liveBindTo("pointerover pointerout",function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))}).liveBindTo("mousedown",function(t){t.preventDefault()}),this.__base()}})},qWmC:function(t,e){BEM.DOM.decl({block:"notifier",modName:"no-login",modVal:"yes"},{_fetchCounter:function(){this.params.iframeUrl&&0<=this.params.iframeUrl.indexOf("no_login=1")||this.__base.apply(this,arguments)},_getFakeNotificationIds:function(){return this.params.fakeIds||["0","1","2"]},_getYndxNotificationIds:function(t){try{var e=window.localStorage.getItem("yndx-notification"+(t?":"+t:""));return e?JSON.parse(e):[]}catch(t){return[]}}})},qhR9:function(t,e){BEM.DOM.decl("divjson-table",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._size=this._calcSize(),this.bindToWin("resize",this.throttle(this._onResize,300))}}},_onResize:function(){var t=this._calcSize();t!==this._size&&(this._size=t,this._autoSizeTable())},_calcSize:function(){var t=BEM.DOM.win.width();return 1900<=t?1900:1600<=t?1600:0},destruct:function(){this.unbindFromWin("resize"),this.__base.apply(this,arguments)}})},qtrq:function(t,e){BEM.decl({name:"input__dataprovider",baseBlock:"i-request_type_ajax"},{get:function(t,e){return this.__base({part:t},function(t){e.call(this,{items:t[1],metainfo:t[2]})})}})},r74s:function(t,e){BEM.DOM.decl({block:"popup",modName:"expand",modVal:"banner"},{addParamsAndShow:function(t){var e=$(window).height(),i=$(window).width(),n=Math.min(1200,Math.floor(i-400)),i=Math.floor(9*n/16);e-200<i&&(n=n*(e-200)/i,i=e-200),n=2*Math.floor(n/2),i=2*Math.floor(i/2),n<640||i<360?home.openWindow(t):($(".popup_expand_banner__inner",this.domElem).css({width:n,height:i}),this.show(),this.bindOnIframeMessage())},bindOnIframeMessage:function(){var n=this;window.addEventListener("message",function(t){var e,i=$(".popup__banner-iframe")[0];if(i&&t.source===i.contentWindow){try{e=JSON.parse(t.data)}catch(t){return}e&&e.command&&"close"===e.command&&setTimeout(function(){n.hide()},500)}})},afterShow:function(){var t=this.domElem,e=this;this._addBg(),t.stop(!0).css(this._getTransitionParams()),setTimeout(function(){t.addClass("popup_expand_transition-on").css(e._getClearParams()),setTimeout(function(){e._addContent()},e.params.duration)},0),this.params.banner.showStat&&((new Image).src=this.params.banner.showStat),this._addResizeEvent()},beforeHide:function(t){var e=this.domElem,i=this;e.stop(!0,!0).css(this._getTransitionParams()),setTimeout(function(){e.css(i._getClearParams()).removeClass("popup_expand_transition-on"),i._removeContent(),t()},this.params.duration),this.params.banner.closeStat&&((new Image).src=this.params.banner.closeStat)},_moveToContainer:function(){this._inContainer=!0},_getBannerCoords:function(){return $("."+this.params.iframeCls)[0].getBoundingClientRect()},_getPopupCoords:function(){return this.domElem[0].getBoundingClientRect()},_addBg:function(){$(".popup_expand_banner__inner",this.domElem).css({"background-color":this.params.banner.bg})},_addResizeEvent:function(){var e=this;$(window).bind("resize orientationchange",function t(){e.hide(),$(window).unbind("resize orientationchange",t)})},_addContent:function(){var t=$(".popup_expand_banner__inner",this.domElem),e=location.protocol||"http:",i=this.params.banner.src,n=this.params.banner.vars,e=this.params.banner.html5?'<iframe class="popup__banner-iframe" name="bannerhtml5" src="'+i+'" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" width="100%" height="100%"></iframe>':"<object classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 codebase="+e+'//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab width=100% height=100% ><param name="allowScriptAccess" value="Always" ><param name=movie value="'+i+'" ><param name=menu value=false><param name=quality value=high><param name=wmode value=opaque><param name="flashvars" value="'+n+'" ><EMBED src="'+i+'"  flashvars="'+n+'" quality=high  allowScriptAccess=Always wmode=opaque menu=false swLiveConnect=FALSE WIDTH=100% HEIGHT=100% TYPE="application/x-shockwave-flash" PLUGINSPAGE="'+e+'//www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"></EMBED> </object>';t.children().length||t.append(e)},_removeContent:function(){this.params.banner.eraseContent&&$(".popup_expand_banner__inner",this.domElem).html("")},_getTransitionParams:function(){var t=this._getBannerCoords(),e=this._getPopupCoords(),i=t.height/e.height;return{transform:"translate3d("+(t.left+t.width/2-(e.left+e.width/2))+"px, "+(t.top+t.height/2-(e.top+e.height/2))+"px, 0) scale("+i+","+i+")",opacity:0}},_getClearParams:function(){return{transform:"translate3d(0, 0, 0) scale(1, 1)",opacity:1}}})},rJ3X:function(t,e){MBEM.decl({block:"mini-suggest",modName:"old-nav",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments);return"nav"===t[0]&&t[5]&&(e.className+=" mini-suggest__item_old-nav_yes"),e}})},rOm1:function(t,e){var i=BEM.channel("i-reposition-event");BEM.channel("i-scroll-event").on("scroll",function(t,e){i.trigger("reposition",e)}),BEM.decl("i-reposition-event",{},{trigger:function(){i.trigger("reposition",$(window).scrollTop())}})},rcUG:function(t,e){function n(){return window.innerHeight|0+s.outerHeight()}function o(){return window.innerWidth|0+s.outerWidth()}var i,s,r,a;i=jQuery,s=i(window),r=n(),a=o(),(i.event.special.resize||(i.event.special.resize={})).preDispatch=function(t){var e=n(),i=o();if(a===i&&r===e)return!1;r=e,a=i}},rfak:function(t,e){var i={logError:function(t,e){if("object"!=typeof t&&(t={message:t}),e){if(e.logged)return;e.logged=!0}this._rumLogError(t,e)},logAjaxError:function(t,e,i,n){this._rumLogAjaxError(t,e,i,n)},setProject:function(t){this._checkRumErrorCounter()&&Ya.Rum.updateErrors({project:t})},restoreDefaultProject:function(){if(this._checkRumErrorCounter()){for(var t,e=Ya.Rum.getVarsList(),i=0;i<e.length&&(t=e[i].split("="))&&"-project"!==t[0];)i++;"-project"===t[0]&&t[1]&&this.setProject(t[1])}},_rumLogError:function(t,e){this._checkRumErrorCounter()&&Ya.Rum.logError(this._prepareRumOptions(t,e),e)},_rumLogAjaxError:function(t,e,i,n){this._checkRumErrorCounter()&&(t.message||(t.message=t.method?t.method+" ajax":"AjaxError"),Ya.Rum.logAjaxError(this._prepareRumOptions(t),e,i,n))},_prepareRumOptions:function(t,e){var i={};return e=e||{},t.message&&(i.message=t.message),t.block&&(i.block=t.block),t.method&&(i.method=t.method),t.level&&(i.level=t.level),(t.sourceType||e.sourceType)&&(i.type=t.sourceType||e.sourceType),t.source&&(i.source=t.source),t.sourceMethod&&(i.sourceMethod=t.sourceMethod),t.coordinates_gp&&(i.coordinates_gp=t.coordinates_gp),(t.meta||e.meta)&&(i.additional=t.meta||e.meta),(t.url||e.url)&&(i.additional=i.additional||{},i.additional.url=t.url||e.url),i},_checkRumErrorCounter:function(){return!!window.Ya&&window.Ya.Rum&&window.Ya.Rum.logError}};home.error=function(t,e){i.logError.bind(i)(t,e)},home.deepExtend(home.error,i)},ruje:function(t,e){var i;"undefined"!=typeof Widget&&void 0===Widget.Wrapper&&(i=jQuery,Widget.Wrapper=function(t){this._(t)},Widget.Wrapper.prototype={undef:function(t){return t},_:function(t){this.widget=t,this.widget.wrapper=this,Widget.Framework._wrappers[this.$$()]=t},$:function(t){return i("#"+this.$$(t))},$$:function(t){return Widget.Framework.params.wrapperPrefix+(t==this.undef()?"wrapper":t)+Widget.Framework.params.wrapperPostfix+this.widget.id},setTitle:function(t){this.$("title").html((""+t).replace(/</g,"&lt;"))},getWindowSize:function(){var t=window;if(void 0!==t.innerWidth)return{width:t.innerWidth,height:t.innerHeight};t=document[i.support.boxModel?"documentElement":"body"];return{width:t.clientWidth,height:t.clientHeight}},_px:function(t){return(""+t).match("^[0-9]+$")&&(t+="px"),t},setIFrameHeight:function(t){this.$().css("height",""),this.$("iframe").css("height",this._px(t))},setIFrameWidth:function(t){this.$("iframe").css("width",this._px(t))},setIFrameSize:function(t,e){this.$("iframe").css("height",this._px(e)).css("width",this._px(t))},setPreferencesFormWidth:function(t){var e=this.getWindowSize().width;t=e/t<2?e/2:t,this.$("prefs").css("width",this._px(t))},setPreferencesFormHeight:function(t){var e=this.getWindowSize().height;t=e/t<2?e/2:t,this.$("prefs").css("height",this._px(t))},setPreferencesFormSize:function(t,e){this.setPreferencesFormWidth(t),this.setPreferencesFormHeight(e)},showPreferences:function(){Widget.Framework.params.showPreferencesHandler(this.widget)},hidePreferences:function(){Widget.Framework.params.hidePreferencesHandler(this.widget)},showEditForm:function(t){return Widget.Framework.showEditForm(this.widget.id,t)}})},rwjG:function(t,e){home.loadScript=function(t,e,i,n){var o=document.createElement("script");n&&(o.nonce=n),o.charset="utf-8",o.onload=e,o.onerror=i,o.src=t,o.crossOrigin="anonymous",document.getElementsByTagName("head")[0].appendChild(o)}},sHJt:function(t,e){var i,n,o,s;window.home&&home.getData&&home.getData("i-scroll-changes.data")&&((n=home.getData("i-scroll-changes.data")).scroll_slowdown_listener&&(o=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!1},window.addEventListener("scroll",function(){},o)),n.scroll_slowdown_dom_calc&&(o=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!0},s=0,window.addEventListener("scroll",function(){var t=$("[data-blockname]").toArray(),i=window.pageYOffset,n=$(window).height();t.forEach(function(t){var e=$(t),t=e.offset().top,e=e.height();i<=t&&t+e<=i+n&&10<++s&&(s=0)})},o)),n.scroll_speedup_hover&&(n=!!BEM.blocks["i-ua"].passiveEvents&&{passive:!0},window.addEventListener("scroll",function(){$("body").addClass("body_hover_none"),clearTimeout(i),i=setTimeout(function(){$("body").removeClass("body_hover_none")},200)},n)))},sRsx:function(t,e){BEM.DOM.decl("menu",{onSetMod:{focused:{yes:function(){if(this.__base.apply(this,arguments),this.hasMod("type","navigation"))return!1;this.elem("item","hovered","yes").length||(this.setMod(this.elem("item").eq(0),"hovered","yes"),this._scrollToItem(this.elem("item").eq(0))),this.bindToDoc("keydown",this._onKeydown).bindToDoc("keyup",this._onKeyup).bindToDoc("keypress",this._onKeypress)},"":function(){this.__base.apply(this,arguments),this.unbindFromDoc("keydown keyup keypress").delMod(this.elem("item","hovered","yes"),"hovered")}}},hoverNext:function(t){for(var e,i,n=t?this.getItems().reverse():this.getItems(),o=0,s=!1;i=n[o];o++)if(!this.hasMod(i,"disabled"))if(this.hasMod(i,"hovered"))s=!0;else{if(s){e=i;break}e=e||i}e&&(this.setMod(e,"hovered","yes"),this._scrollToItem(e))},hoverText:function(t,e){for(var i,n=this.getItems(),o=n.length,s=this._normalizeText(t),r=e||0;r<o;){if(i=n[r],!this.hasMod(i,"disabled")&&0===this._normalizeText(i.text()).indexOf(s))return this.setMod(i,"hovered","yes"),void this._scrollToItem(i);++r===n.length&&(r=0,o=e)}},_normalizeText:function(t){return t.toLowerCase().replace(//,"")},reset:function(){this.__base.apply(this,arguments),this._dropSearchCache()},_dropSearchCache:function(){this._lastTime=this._lastChar=this._searchTerm=void 0},_scrollToItem:function(t){var e=this.domElem.offset().top,i=t.offset().top,n=0;i<e?n=i-e:(n=i+t.outerHeight()-e-this.domElem.outerHeight())<0&&(n=0),this.domElem.scrollTop(this.domElem.scrollTop()+n)},_onKeydown:function(t,e){var i=BEM.blocks.keycodes,n=t.keyCode;t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||((i.is(n,"UP","DOWN")||!e&&n===i.SPACE)&&t.preventDefault(),i.is(n,"UP","DOWN")&&(this.hoverNext(i.is(n,"UP")),this._dropSearchCache()))},_onKeyup:function(t){var e=BEM.blocks.keycodes,i=t.keyCode;t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||e.is(i,"ENTER","SPACE")&&this._onItemClick(this.elem("item","hovered","yes"),t,{source:"keyboard"})},_onKeypress:function(t){var e=Number(new Date),i=t.charCode,n=String.fromCharCode(i).toLowerCase(),o=n===this._lastChar&&1===this._searchTerm.length,s=this.getItems();i<=BEM.blocks.keycodes.SPACE||t.ctrlKey||t.altKey||t.metaKey?this._lastTime=e:(e-this._lastTime>this.SEARCH_TIMEOUT||o?this._searchTerm=n:this._searchTerm=(this._searchTerm||"")+n,this._lastChar=n,this._lastTime=e,n=this.elem("item","hovered","yes"),e=0<=(e=$($.map(s,function(t){return t.get()})).index(n))?e:0,o&&0===this._normalizeText(n.text()).indexOf(this._searchTerm)&&(e=e>=s.length-1?0:e+1),this.hoverText(this._searchTerm,e))},SEARCH_TIMEOUT:1500})},sYaB:function(t,e){MBEM.decl({block:"mini-suggest",modName:"personal",modVal:"yes"},{__constructor:function(){this.__base.apply(this,arguments),this._historyState=0,this._transitionendEvent=MBEM.transitionendEvent(),this._afterTransition=this._afterTransition.bind(this)},_onDeleteClick:function(t,e){MBEM.cls.add(e,"mini-suggest__item_hidden_yes"),e.addEventListener(this._transitionendEvent,this._afterTransition),setTimeout(function(){this._afterDelete(e)}.bind(this),350),MBEM.ajax(this.params.deleteUrl+MBEM.encodeUriComponent(e.getAttribute("data-text"))),this._historyState+=1},_afterDelete:function(t){var e=t.parentNode;e&&(e.removeChild(t),this._removeItem(t),0===e.childNodes.length&&this._update(!0))},_afterTransition:function(t){this._afterDelete(t.target)},_onPopupClick:function(t){var e=t.target;if(MBEM.cls.contains(e,"mini-suggest__delete")){var i=MBEM.closest(e,"mini-suggest__item_personal_yes");if(i)return void this._onDeleteClick(e,i)}this.__base.apply(this,arguments)},_getMainUrlParams:function(){var t=this.__base.apply(this,arguments);return t.hs=this._historyState,t},_buildItem:function(t){var e=this.__base.apply(this,arguments);return e="fulltext"===t[0]&&t[5]&&t[5].personal?this._personalExtend(e):e},_personalExtend:function(t){return t.className+=" mini-suggest__item_personal_yes",t.attrs["data-personal"]=1,t.content.button="delete",t},_getItemEventProps:function(t){var e=this.__base.apply(this,arguments);return e.personal=Boolean(t.getAttribute("data-personal")),e}})},sZdo:function(t,e){home.pseudoReady(function(){var t,e=home&&home.getData&&home.getData("referers.data");!e||(t=(t=location.hash?location.hash.replace(/^#/,""):"")&&t.match(/^[1-578]$/))&&e.referer&&home.error.logError({block:"referers-check",sourceType:"clckerror",message:"clck error",url:e.referer,meta:{hash:t}})})},seaW:function(t,e){BEM.decl("i-message-locker",{},{blockOrder:["b-time-banner","b-hs-balloon","dist-popup","themes-touch-promo","stream-promo-popup","themes-promo","media-zen-promo"]})},sqf1:function(t,e){MBEM.decl({block:"mini-suggest",modName:"arrows",modVal:"yes"},{_buildItem:function(t){var e=this.__base.apply(this,arguments);return e=("fulltext"===t[0]||"fact"===t[0])&&t[5]&&!t[5].personal&&"phone"!==t[5].type?this._addArrow(t,e):e}})},swPj:function(t,e){BEM.DOM.decl({name:"widgets-list",baseBlock:"media-service"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._bindEvents()}}},_bindEvents:function(){this.findBlockInside({block:"widget-control",modName:"footer",modVal:"yes"}).on("hide",function(){this._collapse(function(){this._fireEvent("collapse")}.bind(this))},this)},_getMenuId:function(){return""}})},sx9R:function(t,e){MBEM.decl("mini-suggest",{_getParams:function(i){return Object.keys(i).reduce(function(t,e){return""===i[e]||t.push(e+"="+("vars"===e?i[e]:encodeURIComponent(i[e])).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",")),t},[])},_getParamsList:function(){var t,e,i=this.__base.apply(this,arguments),n=window.home&&home.stat&&home.stat.getCustomPageParams(),o={};if(window.Ya&&Ya.Rum&&Ya.Rum.sendTimeMark&&Ya.Rum.sendTimeMark("153.1896"),n){for(var s=0,r=(n=n.replace(/^\//,"").split("/")).length;s<r;s++)t=(e=n[s]).indexOf("="),o[e.substr(0,t)]=e.substr(t+1,e.length);var a=home.stat.getRoot(),c=home.getData?home.getData("timing.reqid"):"";return a&&(o.lid=a+".searchgo"),c&&(o.sid=c),i.concat(o)}return i}})},tIdE:function(t,e){var s;s=jQuery,BEM.DOM.decl({block:"popup2",modName:"target",modVal:"anchor"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchor=null,this._destructor=null,this._fixedAnchor=void 0}},visible:{yes:function(){this.bindToDoc("documentchange",this._onWinScollAndResize),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this.unbindFromDoc("documentchange")}}},destruct:function(){this._unbindFromDestructor(),this.__base.apply(this,arguments)},setAnchor:function(t){var e;return this._unbindFromDestructor()._unbindFromParentPopup(),this._anchor=t instanceof BEM.DOM?t.domElem:t,this._destructor=(e=this._anchor,t="_"+this.__self.getName()+"-destructor",e.addClass("i-bem "+t).bem(t)),this._fixedAnchor=void 0,this._bindToDestructor(),this._setVisible(),this.hasMod("visible")?this._recaptureZIndex()._bindToParentPopup().redraw():this._zIndexGroupLevel=null,this},_calcTargetDimensions:function(){var t=this._anchor,e=this._getOffsetOf(t);return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}},_getOffsetOf:function(t){t=t.offset();return"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft)),t},_calcDrawingCss:function(t){var e,i,n,o=this.__base.apply(this,arguments);return void 0===this._fixedAnchor&&(this._fixedAnchor=this._getFirstFixedParent(this._anchor)),this._fixedAnchor&&(n=i=0,(e=this._getFirstFixedParent(this._scope))&&(i=(e=e.offset()).left,n=e.top),o.left-=s(window).scrollLeft()-i,o.top-=s(window).scrollTop()-n),s.extend(o,{position:this._fixedAnchor?"fixed":""})},_getFirstFixedParent:function(t){for(t=t[0];t;){if(1===t.nodeType&&"fixed"===s(t).css("position"))return s(t);t=t.parentNode}return null},_calcZIndexGroupLevel:function(){var t=this.__base.apply(this,arguments);return this._destructor.findBlocksOutside("z-index-group").reduce(function(t,e){return t+Number(e.getMod("level"))},t)},_bindToDestructor:function(){return this._destructor.on("destruct",this._onPopupAnchorDestruct,this),this},_unbindFromDestructor:function(){return this._destructor&&this._destructor.un("destruct",this._onPopupAnchorDestruct,this),this},_onPopupAnchorDestruct:function(){this.domElem&&BEM.DOM.destruct(this.domElem)},_getParentPopup:function(){var t;return void 0===this._parentPopup&&(t=this._anchor.closest(".popup, .popup2"),this._parentPopup=this.findBlockOn(t,this.__self.getName())||this.findBlockOn(t,"popup")),this._parentPopup}}),BEM.DOM.decl("_popup2-destructor",{destruct:function(){this.trigger("destruct"),this.__base.apply(this,arguments)}})},tJai:function(t,e){!function(t,n){"use strict";t.Ya=t.Ya||{};t=t.Ya.ycCookie=t.Ya.ycCookie||{};function a(){for(var t,e=n.cookie.split("; "),i=0;i<e.length;++i)if("yc"===(t=e[i].split("="))[0])return function(t){if(!t||"string"!=typeof t||!t.length)return{};t=(t=/%23\d{10}/.test(t)?r(t):t).split("#");for(var e,i=Date.now()/1e3,n={},o=0,s=t.length;o<s;o++)2===(e=t[o].split(".")).length?n[e[0]]=r(e[1]):2<e.length&&(isNaN(e[0])?n[e[0]]=r(e.slice(1).join(".")):e[0]>i&&(n[e[1]]={value:r(e.slice(2).join(".")),expires:e[0]}));return n}(t.slice(1).join("="))||{};return{}}function c(t){var e=function(t){if(t&&"object"==typeof t){for(var e,i,n=[],o=0,s=Object.keys(t),r=s.length;o<r;o++)e=t[s[o]],i=[s[o],encodeURIComponent(e.value||e)],/^\d+$/.test(e.expires)&&i.unshift(e.expires),n.push(i.join("."));return n.join("#")}}(t),i=new Date,t=i.getTime();e?i.setTime(t+12096e5):i.setTime(t-487),t="expires="+i.toUTCString(),i="domain="+n.domain.replace(/^\S*yandex/,".yandex"),n.cookie="yc="+e+"; "+t+"; "+i+"; path=/"}function r(e){try{return decodeURIComponent(e)}catch(t){return e}}t.get=function(t){var e,i,n=a(),o={};if(!n[t])return{};for(var s=0,r=(e=(t=(t=n[t])&&t.value?t.value:t).split(",")).length;s<r;++s)o[(i=e[s].split(":"))[0]]=parseInt(i[1],10);return o},t.set=function(t,e){if(!t||!e||"object"!=typeof e)return this;for(var i,n=a(),o=[],s=0,r=(i=Object.keys(e)).length;s<r;s++)o.push(i[s]+":"+e[i[s]]);return o.length&&(n[t]={value:o.join(","),expires:String(Math.floor(Date.now()/1e3+259200))},c(n)),this},t.remove=function(t){if(!t)return this;var e=a();return delete e[t],c(e),this}}(window,document)},"tJo/":function(t,e){function u(t,e,i){var n,o=t,s=e,r=i||!1,a=!1;function c(t){return i?n=setTimeout(o,t):(n=setInterval(o,t),a=!0),n}function l(){a&&((r?clearTimeout:clearInterval)(n),a=!1)}return{start:function(){return c(s)},restart:function(t){return l(),c(t)},stop:function(){l()}}}window.WTimersHandler=function(){var h={};function d(t,e){return t in h&&e in h[t]}return{add:function(t,e,i){"undefined"!==h[t]&&"object"==typeof h[t]||(h[t]={}),i=i||{};var n,o,s,r,a,c=new u(e.fn,864e5,e.runOnce),l=c.start();return h[t][l]=c,"startTimerOn"in i?(n=t,o=l,s=e.delay,c=i.startTimerOn,setTimeout(function(){d(n,o)&&h[n][o].restart(s)},c)):h[t][l].restart(e.delay),"stopTimerOn"in i&&(r=t,a=l,i=i.stopTimerOn,setTimeout(function(){d(r,a)&&(h[r][a].stop(),delete h[r][a])},i)),l},remove:function(t,e){return!!d(t,e)&&(h[t][e].stop(),delete h[t][e],!0)}}}},tf2I:function(t,e){function o(t){var e,i=t.type;return t.button||(t.type="pointerclick",e=n.event.dispatch.apply(this,arguments),t.type=i),e}var i,n,s,r,a,c,l,h,d,u;i=window,(n=jQuery).event.special.pointerclick||(r=void 0!==i.ontouchstart||0<navigator.msMaxTouchPoints,a="touchAction"in document.documentElement.style,c=[],l=[],d=h=null,u=a?function t(e){return!(!e||e===document.documentElement)&&("manipulation"===getComputedStyle(e)["touch-action"]||t(e.parentElement))}:function(){return!1},r?(s={click:function(t){var e=Object(t.originalEvent)._sourcePoint;if(!e)return o.apply(this,arguments);e.isDefaultPrevented()&&t.preventDefault()},"pointerdown pointermove pointerleave pointercancel pointerup":function(t){var e,i,n=t.type;if("mouse"!==t.pointerType&&("pointerdown"!==n&&"pointerup"!==n||!u(t.target)))if("pointerdown"===n)d=t;else if("pointermove"===n&&d&&(d.target!==t.target||(e=d,i=t,10<Math.abs(e.clientX-i.clientX)||10<Math.abs(e.clientY-i.clientY))))d=null;else if("pointerleave"===n||"pointercancel"===n)d=null;else if("pointerup"===n&&((n=t).isPrimary&&(c.push(n),setTimeout(Array.prototype.shift.bind(c),900)),d))return 250<t.timeStamp-d.timeStamp?void(d=null):(h=h||setTimeout(function(){h=d=null}),o.apply(this,arguments))}},["mousedown","click"].forEach(function(t){i.addEventListener(t,function(t){var e,i;!function(t){var e=t.clientX,i=t.clientY,n="_compat"+t.type;if(!t._sourcePoint){for(var o=0;o<c.length;o++){var s=c[o],r=s.target===t.target;if(!(s[n]||!r&&(25<Math.abs(e-s.clientX)||25<Math.abs(i-s.clientY))||!r&&document.elementFromPoint(s.clientX,s.clientY)===s.target)){(t._sourcePoint=s)[n]=t;break}}l.push(t),setTimeout(Array.prototype.shift.bind(l),900)}}(t),i=function(t){for(var e=0;e<l.length;e++)if(l[e]===t)return l[e]._sourcePoint}(e=t),Boolean(i)&&i.target!==e.target&&(t.preventDefault(),t.stopPropagation())},!0)})):s={click:function(t){return o.apply(this,arguments)}},n.event.special.pointerclick={setup:function(){n(this).on(s)},teardown:function(){n(this).off(s)}})},tijA:function(t,e){window.y5Url=function(){for(var t={UNDEF:"undefined",Types:{UNDEF:1,UNDEFINED:1,OBJECT:2,FUNCTION:4,NUMBER:8,STRING:16,BOOLEAN:32,DATE:1024,REGEXP:2048,ARRAY:4096,NULL:8192,EVENT:16384,NODE:32768,TYPES:{undefined:1,object:2,function:4,number:8,string:16,boolean:32},type:function(t){var e=this.TYPES[typeof t];if(null===t)return this.NULL;if(e==this.OBJECT&&(t.nodeName||this.document(t)))return this.NODE;if(e==this.OBJECT||e==this.FUNCTION)switch(t.constructor){case Array:return this.ARRAY;case RegExp:return this.REGEXP;case Date:return this.DATE}return this.event(t)?this.EVENT:e},test:function(t,e){return!!(this.type(t)&e)},def:function(t){return typeof t!=e},undef:function(t){return typeof t==e},object:function(t){return"object"==typeof t},func:function(t){return"function"==typeof t},nativeFunc:function(t){return this.func(t)&&isNativeFunc.test(t.toString())},number:function(t){return"number"==typeof t},string:function(t){return"string"==typeof t},bool:function(t){return"boolean"==typeof t},nul:function(t){return null===t},array:function(t){return t instanceof Array},regexp:function(t){return t instanceof RegExp},date:function(t){return t instanceof Date},event:function(t){return t&&typeof t.type!=e&&typeof(t.stopPropagation||t.cancelBubble)!=e},element:function(t){return checkDomNode(t,Node.ELEMENT_NODE)},attribute:function(t){return checkDomNode(t,Node.ATTRIBUTE_NODE)},text:function(t){return checkDomNode(t,Node.TEXT_NODE)},document:function(t){return t&&typeof t.documentElement!=e||!1},comment:function(t){return checkDomNode(t,Node.COMMENT_NODE)},node:function(t){return t&&typeof t.nodeType!=e}}},e=t.UNDEF,n=t.Types,i=/^((((\w+):)\/\/)?(([\w\-\.]+\.\w+|localhost)(\:(\d+))?))?(\/?[^\?#]*)?(\?([^#]*))?(#(.*))?$/,o=/^(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$/,s="E9F6F3EAE5EDE3F8F9E7F5FAF4FBE2E0EFF0EEEBE4E6FDFFF7F1ECE8F2FCE1FEB8C9D6D3CAC5CDC3D8D9C7D5DAD4DBC2C0CFD0CECBC4C6DDDFD7D1CCC8D2DCC1DEA8".match(/../g),r="%D0%B9%D1%86%D1%83%D0%BA%D0%B5%D0%BD%D0%B3%D1%88%D1%89%D0%B7%D1%85%D1%8A%D1%84%D1%8B%D0%B2%D0%B0%D0%BF%D1%80%D0%BE%D0%BB%D0%B4%D0%B6%D1%8D%D1%8F%D1%87%D1%81%D0%BC%D0%B8%D1%82%D1%8C%D0%B1%D1%8E%D1%91%D0%99%D0%A6%D0%A3%D0%9A%D0%95%D0%9D%D0%93%D0%A8%D0%A9%D0%97%D0%A5%D0%AA%D0%A4%D0%AB%D0%92%D0%90%D0%9F%D0%A0%D0%9E%D0%9B%D0%94%D0%96%D0%AD%D0%AF%D0%A7%D0%A1%D0%9C%D0%98%D0%A2%D0%AC%D0%91%D0%AE%D0%81".match(/.{6}/g),a={},h=encodeURIComponent,c=[".xml",".html",".xhtml",".jpg",".gif",".png",".css",".js",".xsl",".php",".py",".pl"],l=0,d=s.length,u=/%3B|%2C|%2F|%3F|%3A|%40|%26|%3D|%2B|%24/gi;l<d;l++)a[s[l]]=r[l];function m(t,e){return a[e]||t}function p(t){return t.replace(/%([A-Fa-f0-9]{2})/g,m)}function _(e){e=e.replace(/\+/g,"%20");try{var t=decodeURIComponent(e);if(null==t)throw"malformed URI sequence";return t}catch(t){try{return decodeURIComponent(p(e))}catch(t){return unescape(e)}}}function f(t,e,i){n.undef(t[e])&&(t[e]=[]),n.array(i)?t[e]=t[e].concat(i):t[e].push(i)}function g(t){for(var e,i,n={},o=t.replace(/\+/g,"%20").split("&"),s=0,r=o.length;s<r;s++)(e=(i=o[s].split("=")).shift())&&(i=1<i.length?i.join("="):i[0]||"",f(n,_(e),_(i)));return n}t.URL=function(t){var e=(t=n.def(t)?t.toString():window.location.href).match(i);e&&(this.Host=e[6]||"",this.Path=e[9]||"",e[6]&&(t=e[6].substring(e[6].lastIndexOf(".")),-1!=$.inArray(t,c)&&(this.Path=e[6],this.Host="")),this.Href=e[0],this.Proto=e[4]||"",this.Port=e[8]||0,this.Path=function(e){try{var t=decodeURI(e);if(null==t)throw"malformed URI sequence";return t}catch(t){try{return decodeURI(p(e))}catch(t){return unescape(e)}}}(this.Path),this.Query=g(e[11]||""),this.Hash=_(e[13]||""))},t.URL.prototype={go:function(){window.location.href=this.toString()},toString:function(){var t="";if((this.Proto||this.Host)&&this.Host&&(t+=(this.Proto||"http")+"://"+this.Host,this.Port&&(t+=":"+this.Port)),this.Path){this.Host&&0!=this.Path.indexOf("/")&&(t+="/");for(var e,i=u.lastIndex=0,n=[];e=u.exec(this.Path);)u.lastIndex>i&&e[0]&&(n.push(this.Path.slice(i,e.index)),n.push(e[0]),i=e.index+e[0].length);i!==this.Path.length&&n.push(this.Path.slice(i)),n[0]=encodeURI(n[0]);for(var o=[],s=0;s<n.length;s++)o[s]=s%2?n[s]:encodeURI(n[s]);t+=o.join("")}for(s=0;s<"".length;s++){var r="".charAt(s),a=encodeURIComponent(encodeURIComponent(r)),c=encodeURIComponent(encodeURIComponent(r.toUpperCase()));-1<(t=-1<t.indexOf(a)?t.replace(new RegExp(a,"g"),r):t).indexOf(c)&&(t=t.replace(new RegExp(c,"g"),r))}var l=this.query();return l&&(t+="?"+l),this.Hash&&(t+="#"+h(this.Hash)),t},clone:function(){return new t.URL(this.toString())},proto:function(){},host:function(){},port:function(){},path:function(){},hash:function(){},query:function(t){if(n.def(t))return this.clearQuery(),n.string(t)?this.Query=g(t):this.replaceParams(t),this;var e,i=[];for(e in this.Query)i=i.concat(function(t,e){for(var i=t[e],n=i.length,o=new Array(n),s=h(e),r=0;r<n;r++)o[r]=s+"="+h(i[r]);return o}(this.Query,e));return i.join("&")},queryKeys:function(){var t,e=[];for(t in this.Query)e.push(t);return e.sort()},addParam:function(t,e){return f(this.Query,t,e),this},addParams:function(t){for(var e in t)f(this.Query,e,t[e]);return this},removeParams:function(t){for(var e=0,i=t.length;e<i;e++)delete this.Query[t[e]];return this},replaceParams:function(t){var e,i=[];for(e in t)i.push(e);return this.removeParams(i),this.addParams(t),this},clearQuery:function(){return this.Query={},this},getParam:function(t){t=this.Query[t];return t?t[0]:null},getParams:function(t){return this.Query[t]||[]}};var v=t.URL,b=v.prototype,y={proto:"Proto",host:"Host",port:"Port",path:"Path",hash:"Hash"};for(l in y)b[l]=function(e){return function(t){return n.def(t)?(this[e]=t,this):this[e]}}(y[l]);return b.get=b.toString,t.Url=function(t){return new v(t)},v.isValid=function(t){return o.test(t)},t.Url}()},txsv:function(t,e){BEM.DOM.decl({block:"tumbler",modName:"pseudo-disabled",modVal:"yes"},{_toggle:function(){this.trigger("pseudo-click")}})},u1mq:function(t,e){var o,s;o=jQuery,(s=(s=window.Lego)||(window.Lego={})).init||(s.init=function(t){return(t=s.params=o.extend({id:"",login:s.isSessionValid()&&s.getCookie("yandex_login")||"",yandexuid:s.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","passport-msg":t.id,"social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100},t,s.params))["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"],BEM.blocks["i-global"]._params||o.extend(BEM.blocks["i-global"]._params={},t),t}),s.block||(s.block={}),s.blockInit||(s.blockInit=function(t,e){t=t||document,e=e||".g-js",o(t).find(e).each(function(){var t=o(this),e=t.data("bem")||(this.onclick?this.onclick():{}),i=e.name||"",n=s.block[i];n&&!t.data(i)&&(n.call(t,e),t.data(i,!0).addClass(i+"_js_inited"))})}),s.blockInitBinded||(s.blockInitBinded=Boolean(o(document).ready(function(){s.blockInit()})))},u3Bn:function(t,e){BEM.decl("i-showed-counter",{},{setCounter:function(t){if(!t.elem&&!1!==t.useIntersection||!t.urls&&!t.callback&&!t.justRedirStat)return home.error.logError({block:"i-showed-counter",message:"Cannot send counters",meta:t,sourceType:"logic"}),!1;var e={elem:t.elem,callback:t.callback,urls:t.urls,blockId:t.blockId,useIntersection:void 0===t.useIntersection||t.useIntersection,showedTime:"number"!=typeof t.showedTime?2e3:t.showedTime,threshold:t.threshold||.5};return e.useIntersection&&(e.observer=BEM.blocks["i-intersection-observer-wrapper"].create(function(t){t=t[t.length-1];e.inViewPort=t.intersectionRatio>=e.threshold,e.inViewPort?this._setSendTimer(e):this._removeSendTimer(e)}.bind(this),{threshold:e.threshold})),this._bindEvents(e),this._forceCounter.bind(this,e)},_forceCounter:function(t){this._removeSendTimer(t),this._onShowed(t)},_bindEvents:function(t){this.catchFromFrame(),t.removeSendTimer=this._removeSendTimer.bind(this,t),t.setSendTimer=this._setSendTimer.bind(this,t),t.observer?t.observer.observe(t.elem):BEM.blocks["i-visibilitychange"].waitForVisible(function(){t.setSendTimer(t)}),BEM.channel("sys").on({hidden:t.removeSendTimer,visible:t.setSendTimer}),this._logFunc({action:" ",params:{watchDelay:t.showedTime,type:t.blockId,url:t.urls,pages:this.bannerPages}})},_unBindEvents:function(t){t.observer&&t.observer.unobserve(t.elem),BEM.channel("sys").un({hidden:t.removeSendTimer,visible:t.setSendTimer})},_setSendTimer:function(t){!t.inViewPort&&t.observer||(this._removeSendTimer(t),t.sendTimer=setTimeout(this._onShowed.bind(this,t),t.showedTime))},_removeSendTimer:function(t){t.sendTimer&&(clearTimeout(t.sendTimer),t.sendTimer=null)},_onShowed:function(t){t.observer&&home.stat.logPath("tech",t.blockId+".showed"+this._getPagesPath()),t.urls&&t.urls.length&&(t.urls.forEach(function(t){(new Image).src=t}),this._logFunc({action:" ",params:{watchDelay:t.showedTime,type:t.blockId,url:t.urls,pages:this.bannerPages}})),t.callback&&t.callback(),BEM.channel("i-showed-counter").trigger("sent",{blockId:t.blockId}),this._unBindEvents(t)},_logFunc:function(t){home&&home.logBanner&&home.logBanner.log&&home.logBanner.log(t)},catchFromFrame:function(){this.frameListener||(window.addEventListener("message",function(t){t=t&&t.data&&t.data.isc;t&&this._logFunc(t)}.bind(this)),this.frameListener=!0)},_getPagesPath:function(){var t=this.bannerPages;return t?"."+t:""},bannerPages:home.getData("banner.pages")})},u9Bp:function(t,e){MBEM.throttle=function(i,n,o){var s,r,a,c=null,l=0;o=o||{};function h(){l=!1===o.leading?0:(new Date).getTime(),c=null,a=i.apply(s,r),c||(s=r=null)}return function(){var t=(new Date).getTime();l||!1!==o.leading||(l=t);var e=n-(t-l);return s=this,r=arguments,e<=0||n<e?(c&&(clearTimeout(c),c=null),l=t,a=i.apply(s,r),c||(s=r=null)):c||!1===o.trailing||(c=setTimeout(h,e)),a}}},uFzG:function(t,e){t.exports=function(t){if(!t)return"";var e,i,n="";for(e in t)t.hasOwnProperty(e)&&(i=t[e],/^_temp/.test(e)&&"string"==typeof i?n+=" "+i:!i&&0!==i||(!0===i?n+=" "+e.toLowerCase():(i=i.toString(),/"/.test(i)&&(i=i.replace(/"/g,"&quot;")),n+=" "+e.toLowerCase()+'="'+i+'"')));return n}},ufjy:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var o=Object.prototype.toString;function s(t,e){if(!e)return t;for(var i in e){var n;"__proto__"!==i&&e.hasOwnProperty(i)&&(n=e[i],Array.isArray(n)?(t[i]=Array.isArray(t[i])?t[i]:[],s(t[i],n)):"[object Date]"===o.call(n)||"object"!=typeof n||null===n?t[i]=n:(t[i]="[object Object]"===o.call(t[i])?t[i]:{},s(t[i],n)))}return t}},uhQy:function(t,e){BEM.DOM.decl("popup",{onSetMod:{autoclosable:{yes:function(){this._enableAutoclosable()},"":function(){this._disableAutoclosable()}}},_enableAutoclosable:function(){var t;this.domElem&&(t=this._under,this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.bindTo(t,"pointerclick",function(t){t.stopPropagation(),this.hide({source:"outside-click"})}),this.bindTo(t,"pointerdown",function(){this._skipReturnFocus=!0})),this.bindTo("pointerdown pointerclick",function(){for(var t=this;t._preventHideByClick=!0,t=t._getParentPopup(););}),this.bindToDoc("pointerclick",function(t){var e;this._preventHideByClick?this._preventHideByClick=null:this._isRelatedNode($(t.target))||(e=$.Event("outside-click"),this.trigger(e,t),e.isDefaultPrevented()||this.hide({source:"outside-click"}))}),this.bindToDoc("pointerdown",function(){this._skipReturnFocus=!0}))},_disableAutoclosable:function(){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.unbindFrom(t,"pointerclick pointerdown")),this.unbindFromDoc("pointerclick pointerdown")},_isRelatedNode:function(t){if(this.containsDomElem(t)||Boolean(this._owner)&&this.containsDomElem.call({domElem:this._owner},t))return!0;for(var e=this._childs.length,i=0;i<e;i++)if(this.containsDomElem.call({domElem:this._childs[i].domElem},t))return!0;return!1}})},uifs:function(t,e){window.BEM&&BEM.channel("i-bem").onFirst("start-init",function(){Ya.Rum.getSetting("sendBeforeBemInited")&&Ya.Rum.sendTimeMark("2418")}).onFirst("init",function(){Ya.Rum.sendTimeMark("2295")})},"ut/M":function(t,e){var h,d;BEM.DOM.decl("keyboard-loader",{onSetMod:{js:function(){var e=this;Lego.block["keyboard-loader"].call(this.domElem,this.params),$(window).on("keyboardOpened.lego",function(){home.stat.logPath("click",e.params.statOpen),e.getVkbd().removeAttr("disabled")}).on("keyboardClosed.lego",function(t){"lego"===t.namespace&&home.stat.logPath("click",e.params.statClose),e.getVkbd().attr("disabled","disabled")})}},getVkbd:function(){return this._vkbd||(this._vkbd=$('<input type="hidden" name="vkbd" value="1"/>').appendTo(this.domElem))}}),h=jQuery,(d=(d=window.Lego)||(window.Lego={})).block||(d.block={}),d.block["keyboard-loader"]=function(i){var n=h(document.body),o=h(window),s=this,t=h(".b-topbar__popup.popup_behavior_snap"),r=t.length?t.bem("popup"):null;function a(t){h("body").removeClass("b-page_keyboard");var e=t?"addClass":"toggleClass",t=n.find(".keyboard-popup");t.length&&(n.find(".keyboard-popup__gap")[e]("keyboard-popup__gap_hidden_yes"),n.find(".keyboard-popup")[e]("keyboard-popup_hidden_yes").hasClass("keyboard-popup_hidden_yes")?(o.trigger("keyboardClosed"),h(document).trigger("popupsClose.lego"),void 0!==(e=d.block.keyboard._lastFocusedIn)&&e.focus()):o.trigger("keyboardOpened.lego"),t.data("isHidden",!1))}s.click(function(t){t.preventDefault(),r&&r._unbindFromResize();var e=(this.className.match(/keyboard-loader_lang_(\w+)/)||["",""])[1];n.find(".keyboard")[0]?(a(),r&&r._bindToResize()):home.bundles.load("keyboard").then(function(){d.block["keyboard-popup"]({lang:e,for:i.for}),n.append('<div class="keyboard i-bem" data-bem=\'{&quot;keyboard&quot;: { &quot;lang&quot;:&quot;'+e+"&quot;}}'></div>"),BEM.DOM.init(h(".keyboard")),o.trigger("keyboardOpened.lego",{afterLoad:!0}),h(".keyboard").on("click",".keyboard__key",function(){var t=h("*:focus").offset();t&&(t=t.top,h(".keyboard-popup").offset().top<t+30&&window.scrollTo(0,t-20))})}).catch(function(t){home.error.logError({block:"keyboard-loader",message:"_downloadResources: fail"},t)})}),o.bind("keyboardOpen.lego",function(){s.click()}).bind("keyboardClose.lego",a),i.for&&o.bind("keyboardOpened.lego",function(t,e){e&&e.afterLoad&&i.autoLoad||h(i.for).focus()}),o.bind("keyboardLangChanged.lego keyboardSetLang.lego",function(t,e){var i=s.find(".keyboard-loader__flag");i[0]&&("tt"===e&&(e="ru"),i.attr("src",i.attr("src").replace(/[a-z]+\.png$/,e+".png")))}),i.storeState=!1!==i.storeState,i.storeState&&o.bind("keyboardOpened.lego",function(){l("keyboard_state","open");var t=c().keyboard_lang;t&&h(window).trigger("keyboardSetLang.lego",t)}).bind("keyboardClosed.lego",function(){h("body").removeClass("b-page_keyboard"),l("keyboard_state","close")}).bind("keyboardLangChanged.lego",function(t,e){l("keyboard_lang",e)});t="#kb"===window.location.hash;function c(){var e={};return h.each(window.name.split("&"),function(){var t;this.toString()&&(t=this.split("="),e[t[0]]=t[1])}),e}function l(t,e){var i=c(),n=[];i[t]=e,h.each(i,function(t,e){n.push(t+"="+e)}),window.name=n.join("&")}(i.autoLoad||i.storeState&&"open"===c().keyboard_state||t)&&s.click(),o.bind("keyboardOpened.lego",function(){h("input:focus").focus(),h("body").addClass("b-page_keyboard")})}},ut9o:function(t,e){window.ya=window.ya||{},ya.history=window.history&&history.pushState?{navigate:function(t){(t=t||{}).url&&(t.title||(t.title=""),t.data||(t.data=""),t.replace?history.replaceState(t.data,t.title,t.url):history.pushState(t.data,t.title,t.url))},onchange:function(e){$(window).on("popstate",function(t){e.call(this,t.originalEvent)})}}:null},uy6q:function(t,e){MBEM.insertAfter=function(t,e){"function"==typeof e.insertAdjacentElement?e.insertAdjacentElement("afterend",t):e.parentNode.insertBefore(t,e.nextSibling)}},v2Tx:function(t,e){BEM.decl("i-embeddedauth",{addCallback:function(t){var e="cb"+Math.random();return this.callbacks||(this.callbacks={}),this.callbacks[e]=t,e},addQueryParam:function(t,e){var i=t.split("?"),t=i[1]?i[1].split("&"):[];return t.push(e),i[1]=t.join("&"),i.join("?")},bindCallback:function(){var r=this;window.mordaAuth={onResponse:function(t){if(t){for(var e=t.split("?")[1].split("&"),i={},n=0,o=e.length;n<o;n++){var s=e[n].split("=");i[s.shift()]=decodeURIComponent(s.join("="))}r.processResponse(i)}else r.processResponse()}}},submit:function(){this.getForm().trigger("submit")},setData:function(t,e){return t=$.extend({},this.params.params||{},t),this.idkey&&(t.idkey=this.idkey),e&&(e=this.addCallback(e),t.retpath=this.addQueryParam(t.retpath,"from="+e)),this.getForm().html(this.stringifyParams(t)),this},setDomain:function(){var t=document.domain.match(/([^.]+(?:\.com?)?\.)?[^.]+$/)[0];try{document.domain=t}catch(t){}},stringifyParams:function(t){var e,i="";for(e in t)t.hasOwnProperty(e)&&(i+=this.getInputHtml(e,t[e]));return i},getInputHtml:function(t,e){return'<input name="'+t+'" value="'+e+'"/>'},getForm:function(){if(this.form)return this.form;this.setDomain(),this.bindCallback();var t="embeddedauthframe"+parseInt(1e4*Math.random(),10);return this.form=$('<form style="display:none" target="'+t+'" method="'+(this.params.method||"post")+'" action="'+this.params.action+'"></form>'),this.frame=$('<iframe style="display:none" name="'+t+'"></iframe>'),$("body").append(this.form,this.frame),this.form},processResponse:function(t){var e=function(){};if(t)switch(t.from&&this.callbacks[t.from]&&(e=this.callbacks[t.from],this.callbacks[t.from]=!1),this.idkey=t.idkey,t.status){case"login-empty":case"password-empty":case"account-not-found":case"password-invalid":case"action-not-required":case"ok":case"uid-empty":case"sessionid-invalid":case"session-no-uid":case"yu-empty":case"yu-invalid":case"captcha-invalid":case"captcha-required":return e(t),void this.trigger("data-received",t);case"internal-exception":return this.idkey="",this._interr?(e(t),void this.trigger("data-received",t)):(this._interr=!0,t.from&&(this.callbacks[t.from]=e),void this.submit());default:t.url?window.location=t.url:(e(t),this.trigger("data-received",t))}else this.trigger("no-data")}})},vMaR:function(t,e,i){"use strict";function g(t){if("getAttribute"in t||!("length"in t))return[t];for(var e=new Array(t.length),i=0;i<t.length;++i)e[i]=t[i];return e}i.r(e),i("W5n3"),i("w2lv"),i("jfdc"),i("VjMc"),i("fLeA"),i("Zw61"),i("7wSh"),i("BWkO"),i("+IdE"),i("TNMt"),i("rcUG"),i("OPCa"),i("gx+b"),i("LFQX"),i("Hmvx"),home.getTouchEvents=function(t){t=t.originalEvent;return t.touches&&t.touches.length?t.touches:t.changedTouches},home.getTouchEvent=function(t){var e=home.getTouchEvents(t);return{x:(t=e&&e.length?e[0]:t.originalEvent).pageX||t.clientX,y:t.pageY||t.clientY}},i("CktI"),i("eQor"),i("JanQ"),i("h9xl"),i("PwbH"),i("el0A"),i("2yRt"),i("SoFJ"),i("wvCv"),i("QG2+"),i("u1mq"),i("VhOV"),i("m3bF"),i("0bai"),i("cW4x"),i("FnIi"),i("42Ai"),i("tf2I"),i("nJF/"),i("fJT3"),i("hvDV"),i("kHCm"),i("jXs/"),i("1/IC"),i("6yJk"),$(function(){var i=home&&home.getData&&home.getData("fingerprint.data");i&&i.enabled&&setTimeout(function(){var e=i.zmblt;try{window.Ya.F.calibrate("Yandex-UI-Icons-Private",function(t){null!==t&&Number(t)!==Number(e)&&((new Image).src=i.cookieUrl+"&zmblt="+t)})}catch(t){}},0)}),i("ut9o"),i("I0X4"),i("6hPz"),i("BhxO"),i("IITb"),i("9gJZ"),i("EhiD"),i("fA+c"),i("X6wk"),i("fUSH"),i("MA0M"),i("sZdo"),i("GDua"),function(){var s,r,a,c={},l={},h=/([^.(]+)(?:\(([^)]*)\))?\.?/g,d=/^([^=]+)=(.+)$/,u={show:!0};home.stat={},home.stat.attr="data-statlog",home.stat.brfix=1,home.stat.getCustomPageParams=function(){var t=home&&home.getData&&home.getData("redir-stats.data")||"",e="",i="";window.Ya&&Ya.Rum&&Ya.Rum.getTime&&(e+="/timefs="+Math.floor(Ya.Rum.getTime()));var n=home.getData?home.getData("timing.vars"):"";return n&&(n[1964]?i="/mexp=0":n[1965]&&(i="/mexp=1")),t+e+i},home.stat._sendPost=function(t,e,i){var n;if("XDomainRequest"in window?n=new XDomainRequest:"XMLHttpRequest"in window&&(n=new XMLHttpRequest),n){n.open("post",i||s,!0),n.withCredentials=!0;try{n.setRequestHeader("Accept","text/plain, */*; q=0.01"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}catch(t){}e&&("onreadystatechange"in n?n.onreadystatechange=function(){4===n.readyState&&e()}:n.onload=n.onerror=e),n.send(t)}};function m(t){return"/dtype=clck"+home.stat.getCustomPageParams()+"/session_id="+c.showId+"/events="+encodeURIComponent(JSON.stringify(t.map(function(t){return{event:t.type,url:t.url,"parent-path":c.statRoot,blocks:t.array}}))).replace(/\*/g,"%2A")+"/*"}function p(t){var e,i;r&&(e=m(r),i=e,c.useBeacon&&"sendBeacon"in navigator&&navigator.sendBeacon(s,i)?t&&t():home.stat._sendPost(e,t),r=null)}var _;home.stat.flushQueue=p;function f(i,t){var e=t,n=[];i.replace(h,function(t,e,i){n.push({key:e,params:i?i.split(";"):[]})});for(var o=0;o<n.length;++o){var s,r=n[o].params,a=n[o].key;e.some(function(t){if(t.ctag===a)return s=t,!0})||(s={ctag:a},e.push(s)),r.length&&r.forEach(function(e){e=e.match(d);try{s[e[1]]=decodeURIComponent(e[2])}catch(t){home.error.logError({block:"home__stat",message:"Cannot decode counter",method:"convertPathToData",meta:{counter:i,decodingUri:e[2]}})}}),o+1<n.length&&(e=s.children=s.children||[])}return t}home.stat.logPath=function(t,e,i){var n,o,s;if(i&&"clean"===i.mode&&((s=t)&&r&&r.length&&0===(r=r.filter(function(t){return t.type!==s})).length&&(r=null)),i&&i.customParams&&(e+=function(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(e+"="+encodeURIComponent(t[e]));return i.length?"("+i.join(";")+")":""}(i.customParams)),c.enabled&&t&&e){if(r=r||[],"show"===t){if(e in l)return;l[e]=!0}o=(o=u[t]?function(t){if(!u[t])throw new Error(t+" is not mergeable type");for(var e=0;e<r.length;++e)if(r[e].type===t)return r[e]}(t):o)||(r[r.length]={type:t,url:i&&i.url,array:[]}),f(e,o.array),i&&i.callback?(p(o=function(){n||(n=!0,i.callback())}),void 0!==i.callbackTimeout&&setTimeout(o,i.callbackTimeout)):(_=_||home.delayedTask(function(){a=!1,p()},25),a||(a=!0,_()))}else i&&i.callback&&setTimeout(i.callback,0)},home.stat.redirect=function(t,e){if(!c.enabled||!e)return!0;var i,n,o=t.href;return c.useBeacon&&"sendBeacon"in navigator&&(i=m([{type:"click",url:o,array:f(e,[])}]),navigator.sendBeacon(s,i))||("_blank"===t.target?(i=m([{type:"click",url:o,array:f(e,[])}]),home.stat._sendPost(i)):t.getAttribute("data-statlog-timeout")||-1!==o.indexOf("/lid="+c.statRoot)||((i=t.getAttribute("data-statlog-url"))?t.href=i:(n=[],e={counter:e.replace(/\(([^)]+)\)/g,function(t,e){return n.push(e.replace(/;/g,",")),""}),vars:n=n.length?"/vars="+n.join(","):""},t.href=c.redirHost+"redir/dtype=clck"+home.stat.getCustomPageParams()+"/lid="+c.statRoot+"."+e.counter+"/sid="+c.showId+e.vars+"/rnd="+((new Date).getTime()+Math.round(100*Math.random()))+"/*data="+encodeURIComponent("url="+encodeURIComponent(o.match(/^http/)?o:location.protocol+"//"+location.host+(o.match("^/")?o:"/"+o)))),t.setAttribute("data-statlog-orig-href",o),t.setAttribute("data-statlog-timeout",setTimeout(function(){t.href=o,t.removeAttribute("data-statlog-timeout"),t.removeAttribute("data-statlog-orig-href")},500)))),!0},home.stat.collectShows=function(t,o){var e=[],s=[];return g(t).forEach(function(t){e=e.concat(g(t.querySelectorAll("["+home.stat.attr+"], [data-stat-select]"))),(t.getAttribute(home.stat.attr)||t.getAttribute("data-stat-select"))&&e.push(t)}),e.forEach(function(t){var e=t.getAttribute(home.stat.attr)||t.getAttribute("data-stat-select"),i=t.getAttribute("data-statlog-showed")||e in l,n=!!t.getAttribute("data-statlog-precise");e&&!i&&(!n||o&&o.precise)&&(o&&!1===o.visibilityCheck||t&&(0!==t.offsetWidth||0!==t.offsetHeight))&&s.push(o&&o.convertCounters&&o.convertCounters(e)||e)}),s},home.stat.logDOMShow=function(t,e){c.enabled&&home.stat.collectShows(t,e).forEach(function(t){home.stat.logPath("show",t)})},home.stat._countShows=function(t){c.enabled&&t.forEach(function(t){l[t]=!0})},home.stat.clearShows=function(){c.enabled&&(l={})},home.stat.getRoot=function(){return c.enabled&&c.statRoot||""},home.stat.setCounter=function(t,e){g(t).forEach(function(t){t.setAttribute(home.stat.attr,e)})};function t(t){var e,i=t.target||t.srcElement;if((t.which||t.button)<2){for(;i&&1===i.nodeType&&!(e=i.getAttribute(home.stat.attr));)i=i.parentNode;e&&i&&("0"!==i.getAttribute("data-statlog-redir")&&i.href?i.href&&"click"===t.type&&!t.defaultPrevented&&!1!==t.returnValue&&(home.stat.redirect(i,e)||("preventDefault"in t?t.preventDefault():t.returnValue=!1)):"mousedown"===t.type&&home.stat.logPath("click",e))}}function e(t,e){"addEventListener"in document?document.addEventListener(t,e,!1):document.attachEvent("on"+t,e)}function i(){c.enabled&&(e("mousedown",t),e("click",t))}home.subscribeData(function(t){c=t||home.getData("statlog.config",{}),s=c.clckDemonHost+"counter","querySelectorAll"in document||(c.enabled=!1),i()}),home.stat._processClicks=t,home.stat._setConfig=function(t){s=(c=t).clckDemonHost+"counter",l={},i()}}(),home.debounce=function(e,i,n,o){var s;return 3===arguments.length&&"boolean"!=typeof n&&(o=n,n=!1),function(){var t=arguments;o=o||this,n&&!s&&e.apply(o,t),clearTimeout(s),s=setTimeout(function(){n||e.apply(o,t),s=null},i)}},i("Qi+R"),i("Ak4E"),i("ZOGQ"),i("H+lM"),i("Vzvc"),i("0F46"),i("pIfI"),i("rfak"),i("MXfC"),i("gitU"),i("mcHa"),i("AyFg"),i("H0Yh"),i("bN1B"),i("myQs"),i("34z/"),i("p0dP"),i("0laM"),i("4H+s"),i("bXpa"),i("D+8f"),i("NfXW"),i("ZqzM"),i("zb7N");var s=i("KC5a");function n(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&void 0!==t[e]&&i.push(e+"="+encodeURIComponent(t[e]));return i.length?"("+i.join(";")+")":""}r=[{key:"getAttr",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return t?(i.customParams&&(t+=n(i.customParams)),' data-statlog="'+(t=-1<(t=String(t)).indexOf('"')?t.replace(/"/g,"&quot;"):t)+'"'+(!1!==i.isRedirect?"":' data-statlog-redir="0"')+(i.precise?' data-statlog-precise="1"':"")):""}},{key:"logShow",value:function(t,e){return t?(e&&(t+=n(e)),home.stat.logPath("show",t),t):""}},{key:"getClientCounter",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length?arguments[2]:void 0;return(t=i?(t||"")+n(i):t)?' data-statlog="'+t+'"'+(e?' data-statlog-redir="0"':""):""}},{key:"getAdaptiveCounter",value:function(t,e){return t?' data-statlog="'+t+'"'+(e?' data-statlog-redir="0"':"")+' data-statlog-autoshow="1"':""}}],function(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(o.prototype,r),e=o;function o(){!function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this)}for(var r=(function(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(h.prototype,[{key:"add",value:function(t,e,i){home.export[i]||(home.export[i]={}),home.export[i][t]?home.deepExtend(home.export[i][t],e):home.export[i][t]=e}},{key:"has",value:function(t,e){return Boolean(home.getData&&home.getData(e+"."+t))}}]),h),a={stub:!0},c=0,l=["allowDefault","allowStyle","allowPlugin","allowObject","allowMedia","allowImg","allowFont","allowConnect","allowScript","allowChild","allowForm"];c<l.length;c++)!function(){var i=l[c];a[i]=function(t){var e;!home.error||home.getData&&!0!==home.getData("csp.report")||((e=new Error("req.csp."+i+" was called on clientside")).meta={url:t},e.block="home.views",home.error.logError(e))}}();function h(){!function(t){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this)}var d={l10n:s.a,stat:new e,settingsJs:new r,csp:a,cls:{full:function(t){return t},part:function(t){return t},contains:function(t){return!1}},isClient:1},u={},m=1;function p(t,e,s){for(var i in s=s||{},d)s.hasOwnProperty(i)||(s[i]=d[i]);var n,o="object"==typeof window&&window.home&&home.getData&&home.getData("common.req")||{};for(n in o)o.hasOwnProperty(n)&&!s.hasOwnProperty(n)&&(s[n]=o[n]);return function t(e,i){var n,o;return"function"==typeof e&&(e.isCached?(e.__execViewUniq||(e.__execViewUniq=m++),(o=e.__execViewUniq)in u?n=u[o]:(n=e(s,t),u[o]=n)):n=e(i,s,t)),n=void 0===n?"":n}(t,e)}var e=i("uFzG"),_=i.n(e),r=i("w/5I"),f=i.n(r);function v(t){t=String(t);return t=-1<(t=-1<(t=-1<(t=-1<t.indexOf("&")?t.replace(/&/g,"&amp;"):t).indexOf("<")?t.replace(/</g,"&lt;"):t).indexOf(">")?t.replace(/>/g,"&gt;"):t).indexOf('"')?t.replace(/"/g,"&quot;"):t}function b(t){return v(JSON.stringify(t))}function y(t,e){var i,n=[];for(i in e)e.hasOwnProperty(i)&&(e[i]||0===e[i])&&n.push(t+"_"+i+"_"+String(e[i]));return n.join(" ")}function w(n,t){var e=t.mods,i=n,e=e?y(n,e):"";return t.mix&&("object"==typeof t.mix?(Array.isArray(t.mix)||(t.mix=[t.mix]),i+=" "+t.mix.map(function(t){if("string"==typeof t)return t;var e=t.block||n,i=t.mods;return t.elem&&(e+="__"+t.elem,i=t.elemMods),i&&(e+=" "+y(e,i)),e}).join(" ")):i+=" "+t.mix),e&&(i+=" "+e),i}function k(t,e,i){var n=t.mods||{},o=t.content||"";return void 0===n.view&&(n.view="classic"),t.hasTail&&(o=i(M)+o),i(E,{mix:t.mix,mods:n,js:home.deepExtend({popup2:{mainOffset:t.mainOffset,secondaryOffset:t.secondaryOffset,viewportOffset:t.viewportOffset,tailOffset:t.tailOffset,tailSize:t.tailSize,directions:t.directions,zIndexGroupLevel:t.zIndexGroupLevel,position:t.position}},t.jsMix||{}),content:o,attrs:t.attrs})}function E(t){return"<div "+_()(Object.assign({class:"".concat(w("popup2",t||{})," i-bem"),"data-bem":b(t.js||{})},t.attrs))+">"+f.a.oneElem(t.content)+"</div>"}function M(){return"<div class='popup2__tail'></div>"}function x(t){return"string"==typeof t?t:"number"==typeof t||"boolean"==typeof t?String(t):""}e=function(t){return t.isCached=!0,t};function T(t){if(!t)return"";var e,i,n="";for(e in t)t.hasOwnProperty(e)&&(!(i=t[e])&&0!==i||(i===home.emptyAttr?n+=" "+e:n+=" "+e+'="'+(i=-1<(i=String(i)).indexOf('"')?i.replace(/"/g,"&quot;"):i)+'"'));return n}var S=e(function(t){return t.CSP&&t.CSP.nonce?' nonce="'+t.CSP.nonce+'"':""});function C(t,e,i){return"<style "+_()(Object.assign({_temp:i(S)},t.attrs))+">"+f.a.oneElem(t.content||"")+"</style>"}function B(t){return"<div "+_()(Object.assign({class:t.mix||""},t.attrs))+">"+f.a.oneElem(t.content)+"</div>"}function P(t){return"<span "+_()(Object.assign({class:"".concat(t.mod||""," ").concat(t.mix||"")},t.attrs))+">"+f.a.oneElem(t.content)+"</span>"}function I(t,e,i){var n=t.content,t=t.title?i(O,{content:t.title}):"";return i(D,{content:t+n})}function D(t){return"<div class='menu__group' role='group'>"+f.a.oneElem(t.content)+"</div>"}function O(t){return"<div class='menu__title' aria-hidden='true'>"+f.a.oneElem(t.content)+"</div>"}function j(){return"<svg focusable='false' width='16' height='16' xmlns='http://www.w3.org/2000/svg'><path d='M3.051 3.05h.001l.371-.37a.4.4 0 0 1 .547-.019l.849.745a1.296 1.296 0 0 0 2.18-.904h.003l.073-1.127a.4.4 0 0 1 .4-.374H8V1v.001h.525a.4.4 0 0 1 .399.374l.074 1.127H9A1.296 1.296 0 0 0 10.3 3.75c.345 0 .658-.134.89-.353l.84-.736a.4.4 0 0 1 .546.018l.371.371h.002v.002l.37.37a.4.4 0 0 1 .019.547l-.744.85a1.297 1.297 0 0 0 .04 1.803c.223.222.527.364.864.377v.003l1.127.074a.4.4 0 0 1 .373.399V8H15V8h-.002v.525a.4.4 0 0 1-.373.4L13.498 9a1.3 1.3 0 0 0-.903 2.182h-.001l.744.85a.4.4 0 0 1-.018.546l-.371.372v.001l-.372.37a.4.4 0 0 1-.546.019l-.82-.717a1.296 1.296 0 0 0-1.833.01 1.296 1.296 0 0 0-.377.867h-.003l-.074 1.127a.4.4 0 0 1-.376.373H7.451a.4.4 0 0 1-.376-.373L7.002 13.5h-.003A1.296 1.296 0 0 0 5.7 12.25c-.352 0-.672.14-.906.368l-.825.722a.4.4 0 0 1-.547-.018l-.37-.371-.002-.001-.37-.372a.4.4 0 0 1-.019-.546l.745-.85a1.302 1.302 0 0 0-.904-2.181l-1.128-.076a.4.4 0 0 1-.373-.4v-.524L1 8l.001-.525a.4.4 0 0 1 .374-.4l1.127-.073v-.003A1.296 1.296 0 0 0 3.75 5.7c0-.342-.132-.654-.349-.886l-.74-.845a.4.4 0 0 1 .019-.546l.371-.371-.001-.002h.001zM8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z' fill='#000' fill-rule='nonzero'/></svg>"}function R(){return"<svg focusable='false' width='16' height='16' xmlns='http://www.w3.org/2000/svg'><g fill='#000' fill-rule='nonzero'><path d='M10.445 2.536L8.423 5.763a.5.5 0 0 1-.847 0l-2.02-3.227A.35.35 0 0 1 5.851 2h4.296a.35.35 0 0 1 .297.536zM10.445 13.462l-2.022-3.227a.5.5 0 0 0-.847 0l-2.02 3.227a.35.35 0 0 0 .296.536h4.296a.35.35 0 0 0 .297-.536z'/><rect x='1' y='7' width='14' height='2' rx='.5'/></g></svg>"}function A(){return"<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none'><path d='M2.52 3.93L.79 2.21A1 1 0 0 1 2.21.79l13 13a1 1 0 0 1-1.42 1.42l-2.04-2.04c-1.06.5-2.32.83-3.75.83-5.14 0-8-4.2-8-6 0-1 .87-2.72 2.52-4.07zm1.42 1.43c-.17.13-.34.27-.5.42C2.54 6.62 2 7.64 2 8c0 .36.55 1.38 1.44 2.22a6.78 6.78 0 0 0 6.78 1.42l-1.46-1.47a2.3 2.3 0 0 1-2.93-2.93L3.94 5.36zM14 8c0 .28-.32.93-.86 1.6l1.42 1.42C15.5 9.92 16 8.75 16 8c0-1.8-2.86-6-8-6-.79 0-1.52.1-2.2.27l1.75 1.74L8 4c1.81 0 3.37.66 4.56 1.78C13.46 6.62 14 7.64 14 8z' fill='#000'/></svg>"}function F(){return"<svg focusable='false' width='16' height='16' xmlns='http://www.w3.org/2000/svg'><path d='M13.565 3.086l-3.992 9.98a.5.5 0 0 1-.95-.064L7.5 8.502l-4.5-1.124a.5.5 0 0 1-.065-.95l9.982-3.992a.5.5 0 0 1 .65.65z' fill='#000' fill-rule='nonzero'/></svg>"}function N(){return"<svg focusable='false' width='16' height='16' xmlns='http://www.w3.org/2000/svg'><path d='M11 2h2.5a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1H5l.854-.854A.5.5 0 0 1 6.207 1h3.586a.5.5 0 0 1 .353.146L11 2zm1.015 11.843A1.25 1.25 0 0 1 10.768 15H5.232a1.25 1.25 0 0 1-1.247-1.157l-.694-9.255a.55.55 0 0 1 .549-.591l8.32-.002a.55.55 0 0 1 .549.591l-.694 9.257zM6.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 1 0 1 0v-6a.5.5 0 0 0-.5-.5zm3 0a.5.5 0 0 0-.5.5v6a.5.5 0 1 0 1 0v-6a.5.5 0 0 0-.5-.5z' fill='#000' fill-rule='nonzero'/></svg>"}function L(){return"<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none'><path d='M7.99 12.57l-3.85 2.34a.6.6 0 0 1-.9-.64l1.04-4.39L.87 6.94a.6.6 0 0 1 .34-1.05l4.49-.37 1.74-4.15a.6.6 0 0 1 1.1 0l1.74 4.16 4.49.36a.6.6 0 0 1 .34 1.05l-3.42 2.94 1.04 4.39a.6.6 0 0 1-.9.64L8 12.57z' fill='#000'/></svg>"}function U(){return"<svg focusable='false' xmlns='http://www.w3.org/2000/svg' width='8' height='14' viewbox='0 0 8 14'><path d='M4 0l4 6H0l4-6zm0 14l4-6H0l4 6z'/></svg>"}function H(){return"<svg focusable='false' xmlns='http://www.w3.org/2000/svg' width='16' height='10' viewbox='0 0 16 10'><path d='M7.207 7.506L3.629 3.81 2.343 4.939l4.841 5.002 8.462-8.428L14.382.362z'/></svg>"}function z(t,e,i){var n=t||{},o={},s=void 0!==n.url,t=void 0!==Object(n.attrs).style,s=(t?n.attrs.style:"")+(s?";background-image:url('"+n.url+"');":"");n.mods=n.mods||{},n.mods["has-glyph"]="yes",t&&(n.attrs.style=s),s&&(o.style=s);s=i(q,n.mods.glyph);return i(W,{mods:n.mods,attrs:o,mix:n.mix,content:s})}function W(t){return"<span "+_()(Object.assign({class:w("icon",t||{})},t.attrs))+">"+f.a.oneElem(t.content)+"</span>"}function q(t,e,i){t={settings:j,hide:R,hide2:A,geo:F,delete:N,star:L,"afisha-fav":"icon_glyph_afisha-fav","carets-v":U,"type-check":H}[t];if(t)return i(t)}function V(t,e,i){return i(z,{mix:home.getBEMClassname("menu__icon",t),mods:t.mods})}function K(t,e,i){var n=t.elemMods||{},o="link"===n.type?G:Y,s="navigation"===t.mods.type&&t.href?"link":t.mods.type&&"navigation"!==t.mods.type?"option":"menuitem";return i(o,{className:home.getBEMClassname("menu__"+(t.elem||"item"),{mods:n,mix:(t.mix||"")+(t.mixJs?" i-bem":"")}),js:home.deepExtend({menu__item:home.deepExtend(t.js||{},{val:t.val})},t.mixJs),attrs:home.deepExtend({title:t.title&&home.htmlFilter(t.title),"aria-disabled":!!n.disabled&&"true","aria-selected":!!n.checked&&"true",href:t.href||"",target:t.href?t.target:"",rel:"_blank"===t.target?"noopener":"",role:s},t.attrs||{}),tag:t.href?"a":"div",content:[t.mods&&"default"===t.mods.view&&void 0!==t.mods.type&&"navigation"!==t.mods.type&&i(z,{mods:{glyph:"type-check"}}),t.icon&&i(V,home.deepExtend({mods:{size:t.mods.size},mix:t.iconMix},t.icon)),void 0!==t.text&&i(P,{mod:"menu__text",mix:t.textMix,content:home.htmlFilter(t.text)}),t.content].filter(Boolean).join(""),stat:t.stat||""})}function Y(t){return"<div "+_()(Object.assign({class:t.className,"data-bem":b(t.js||{})},t.attrs,{_temp:t.stat}))+">"+f.a.oneElem(t.content)+"</div>"}function G(t){return'<li class="menu__list-item"><'+t.tag+' class="'+(t.className||0===t.className?t.className:"")+'" data-bem="'+b(t.js)+'" '+T(t.attrs)+" "+(t.stat||"")+">"+(t.content||"")+"</"+t.tag+"></li>"}function Z(t,e,i){var n=t.mods||{},o=n.disabled,s=n.type,r=void 0!==t.tabindex?t.tabindex:void 0,a=void 0!==t.val?[].concat(t.val):[];return void 0===n.view&&(n.view="classic"),"default"===n.view&&void 0===n.size&&(n.size="n"),-1!==["radio","radiocheck"].indexOf(s)&&(a=a.slice(0,1)),i(X,{mods:n,mix:t.mix,tag:"navigation"===s?"ul":"div",attrs:{tabindex:o||null===r?void 0:r,"aria-disabled":!!o&&"true","data-bem":home.getBEMParams({menu:home.deepExtend(t.js||{},{_tabindex:null!==r&&o?r:void 0})})},content:function e(t){return[].concat(t).filter(function(t){return!1!==t&&null!=t}).map(function(t){return(t="string"==typeof t?{text:t}:t).items?(t.content||(t.content=e(t.items).join("")),i(I,t)):(t.mods=n,t.elem="item",t.elemMods||(t.elemMods={}),-1!==["check","radio","radiocheck"].indexOf(s)?t.elemMods=home.deepExtend({type:"option",checked:-1!==a.indexOf(t.val)?"yes":void 0},t.elemMods):"navigation"===s&&(t.elemMods=home.deepExtend({type:"link"},t.elemMods)),i(K,t))},this)}(t.items).join("")})}function X(t){return"<"+t.tag+' class="'+w("menu",t||{})+' i-bem" '+T(t.attrs)+">"+(t.content||"")+"</"+t.tag+">"}function J(t,e){return function(t,e,i){if("undefined"==typeof home||!t)return i;var n,o,s=e.split("."),r=s.length;if(1<r){for(n=t||{},o=0;o<r;o++)if(void 0===(n=n[s[o]]))return void 0===n?i:n;return void 0===n?i:n}return void 0===(e=t[e])?i:e}(home&&home.export,t,e)}"undefined"!=typeof home&&(home.dataCallbacks=home.dataCallbacks||[]);var Q=e(function(t,e){return J("common.new-tab-links")});function tt(t,e,i){var n="a",o=t.attrs||{},s=t.mods||{},r=t.mix||"",a="";return o.class=home.getBEMClassname("home-link2",{mix:r,mods:s}),t.href?o.href=t.href:n=t.tag||"span",t.title&&(o.title=t.title),t.role&&(o.role=t.role),t.tabindex&&(o.tabindex=t.tabindex),t.target&&(o.target=t.target),!o.target&&o.href&&i(Q,e)&&(o.target="_blank"),"_blank"===o.target&&void 0===o.rel&&(o.rel="noopener"),a="<"+n,a+=home.getAttributes(o),t.stat&&(a+=t.stat),t.js&&(a+=' data-bem="'+home.getBEMParams(t.js)+'"'),a+=">",t.inlineIcon&&(a+=t.inlineIcon),t.content&&(a+=t.content),a+"</"+n+">"}var et=e(function(t){return"number"==typeof devicePixelRatio?devicePixelRatio:t.UserDevice&&t.UserDevice.ratio&&parseFloat(t.UserDevice.ratio.replace("_","."))||1});function it(t,e,i){var n=t.mix||"",o=t.mods||{},s=t.attrs||{};return i(tt,{mix:n+=" "+home.getBEMClassname("avatar",{mods:o}),attrs:s,href:t.href,stat:t.stat,content:i(nt,t)+(t.after||"")})}function nt(t,e,i){var n,o,s=t.avatarSizes||(t.mods?{s:{default:"islands-small","2x":"islands-retina-small"},m:{default:"islands-34","2x":"islands-68"},l:{default:"islands-middle","2x":"islands-retina-middle"}}[t.mods.size]:null)||{},r="avatar__image "+(t.imageMix||""),a=1.25<=i(et),c="";t.avatarUrl?n=t.avatarUrl:(n=i(ot,{avatar_id:t.avatarId,avatar_size:s.default}),s["2x"]&&(o=i(ot,{avatar_id:t.avatarId,avatar_size:s["2x"]}))),n&&(c+="background-image:url("+(a&&o||n)+");"+(o?"background-image:-webkit-image-set(url("+n+") 1x, url("+o+") 1.25x);":""));c="<span "+_()({class:r,style:c})+"></span>";return t.mods&&t.mods["has-camera"]&&t.passportHost&&(c+=i(st,t)),"<span class='avatar__image-wrapper'>"+f.a.oneElem(c)+"</span>"}function ot(t,e){t="https://avatars.mds.yandex.net/get-yapic/"+(t.avatar_id||"0/0-0")+"/"+(t.avatar_size||"islands-middle");return e.csp&&!e.csp.stub&&e.csp.allowImg(t),t}function st(t,e,i){return i(tt,{mix:"avatar__camera",href:home.addQueryToUrl(t.passportHost+"/profile/public",{origin:t.origin,retpath:t.retpath})})}function rt(t,i,n){var e,o,s=t.defaultUser,r=t.otherUsers,a=[],c=t.passportHost,l="mail.login.usermenu.",h=t.retpath,d=c+"/auth?mode=add-user&retpath="+h+"&origin=home_desktop_"+i.MordaZone.replace(".","")+t.authOriginSuffix,u=t.services;return t.plus&&t.plus.active&&(e="",0<=(o=t.plus.subscription_expire_days)&&(e=n(P,{mod:"usermenu__plus-subtitle",content:0===o?i.l10n("plus.expires-today"):home.decline(o,i.l10n("plus.expires-days")).replace("%d",o)})),a.push({href:t.plus.url,stat:i.stat.getAttr(l+"plus_info"),attrs:{"aria-label":i.l10n("plus.plus")},content:n(P,{mod:"usermenu__plus-icon"})+n(P,{mod:"usermenu__plus-title",content:i.l10n("domik.active")})+e})),a.push({href:c+"/passport?mode=passport",stat:i.stat.getAttr(l+"passport"),text:i.l10n("header.yandex_id_domik"),attrs:{"aria-label":i.l10n("header.yandex_id_domik")}}),t.messenger&&a.push({mix:"usermenu__messenger",text:i.l10n("messenger.title2"),attrs:{"aria-label":i.l10n("messenger.title2"),tabindex:"0"}}),u&&u.forEach(function(t){a.push({href:t.url,stat:i.stat.getAttr(l+t.id),text:t.title,attrs:{"aria-label":t.title}})}),a.push({href:t.favorites,stat:i.stat.getAttr(l+"favorites"),text:i.l10n("header.favorites"),attrs:{"aria-label":i.l10n("header.favorites")}}),t.setupPage&&a.push({href:t.setupPage,stat:i.stat.getAttr(l+"settings"),text:i.l10n("header.tune"),attrs:{"aria-label":i.l10n("header.tune")}}),a.push({href:c+"/passport?mode=logout&yu="+t.yandexuid+"&retpath="+h,stat:i.stat.getAttr(l+"exit"),text:i.l10n("header.logout"),attrs:{"aria-label":i.l10n("header.logout")}}),n(lt,{mods:{multi:r.length?"yes":"no"},defaultUser:n(at,{user:s,passportHost:c,retpath:h,hasCamera:"0/0-0"===s.avatar_id}),links:n(Z,{mods:{view:"default",tone:"default",size:"sx",type:"navigation"},items:a.map(function(t){return t.mix="usermenu__item"+(t.mix?" "+t.mix:""),t})}),otherUsers:r.map(function(t,e){return t.changeStat=i.stat.getAttr(l+"change.user"+e,null,{isRedirect:!1}),t.exitStat=i.stat.getAttr(l+"exit.user"+e,null,{isRedirect:!1}),n(at,{user:t,passportHost:c})}).join(""),addUser:t.allowMoreUsers?n(ut,{href:d,stat:i.stat.getAttr(l+"adduser"),text:i.l10n("header.adduser").replace("<br/>"," ")}):"",js:{usermenu:{stat:l,passport:d,auth:{action:c+"/passport?mode=embeddedauth",params:{yu:t.yandexuid,retpath:t.loginStatusRetpath,action:"change_default"}},messenger:t.messenger}}})}function at(t,e,i){var n=t.user,o=n.email&&n.mailbox,s=home.htmlFilter(home.cleverString.cutEndOfString(n.UserName.str,20)),r=home.htmlFilter(n.UserName.str),a=n.uid,c=n.avatar_id,l=n.default;return i(ht,{mod:l?"":" usermenu__user_clickable_yes usermenu__item",name:s,email:o?i(ct,n):"",userIcon:i(it,{mix:"usermenu__user-icon usermenu__user-icon_type_"+("0/0-0"===c?"default":"custom"),avatarId:c,passportHost:t.passportHost,retpath:t.retpath,origin:"morda",mods:{size:"l","has-camera":t.hasCamera?"yes":""}}),attrs:{tabindex:l?void 0:"0","data-uid":a,role:"button","aria-label":l?"":home.stringf(e.l10n("header.switchuser"),r)},stat:l?"":n.changeStat,exit:l?"":i(dt,{attrs:{tabindex:l?void 0:"0","data-uid":a,role:"button",title:l?"":home.stringf(e.l10n("header.exituser"),r)},stat:t.default?"":n.exitStat})})}function ct(t){t=home.cleverString.cutEndOfString(t.email,25);return'<div class="usermenu__user-email">'+home.htmlFilter(t)+"</div>"}function lt(t){return"<div "+_()({class:"".concat(w("usermenu",t||{})," i-bem"),"data-bem":b(t.js||{})})+">"+(f.a.oneElem(t.defaultUser)+f.a.oneElem(t.links))+"<div class='usermenu__separator'></div>"+f.a.oneElem("<div class='usermenu__list'>"+(f.a.oneElem(t.otherUsers)+f.a.oneElem(t.addUser))+"</div>")+"</div>"}function ht(t){return"<div class='usermenu__list-item' role='menuitem'>"+(f.a.oneElem("<div "+_()(Object.assign({class:"usermenu__user ".concat(x(t.mod))},t.attrs,{_temp:t.stat}))+">"+(f.a.oneElem("<div class='usermenu__user-icon-wrapper'>"+f.a.oneElem(t.userIcon)+"</div>")+f.a.oneElem("<div class='usermenu__user-info'>"+(f.a.oneElem("<div class='usermenu__user-name'>"+f.a.oneElem(t.name)+"</div>")+f.a.oneElem(t.email))+"</div>"))+"</div>")+f.a.oneElem(t.exit))+"</div>"}function dt(t){return"<div "+_()(Object.assign({class:"usermenu__user-exit popup__link"},t.attrs,{_temp:t.stat}))+"><div class='usermenu__user-exit-icon'></div></div>"}function ut(t){return"<div class='usermenu__list-item' role='menuitem'>"+f.a.oneElem("<a "+_()({class:"usermenu__user usermenu__user-add usermenu__item",href:t.href,"aria-label":t.text,_temp:t.stat})+"><div class='usermenu__user-icon-wrapper'><div class='usermenu__user-icon usermenu__user-add-icon'></div></div>"+f.a.oneElem("<div class='usermenu__user-info'>"+f.a.oneElem("<div class='usermenu__user-add-text'>"+f.a.oneElem(t.text)+"</div>")+"</div>")+"</a>")+"</div>"}function mt(t,e,i){return i(rt,t)}function pt(t){return"<div "+_()(Object.assign({class:"".concat(t.block||"","__panel").concat(t.mix||""),role:"tabpanel",id:"".concat(t.id||"","_panel_").concat(t.key||""),"data-key":0===t.key||t.key?t.key:""},t.attrs))+">"+f.a.oneElem(t.content)+"</div>"}function _t(t,e,i){var n=t.mods||{},o="button",s=t.attrs||{};return t.url?o="a":t.tag&&(o=t.tag),n.theme||("yes"===n.pseudo?n.theme="pseudo":n.theme="normal"),s.role=s.role||"button",t.tabindex&&(s.tabindex=t.tabindex),t.url?(s.href=t.url,t.target?s.target=t.target:i(Q)&&(s.target="_blank"),n.disabled&&(s["aria-disabled"]=!0),"_blank"===s.target&&void 0===s.rel&&(s.rel="noopener")):(s.type=t.type||"button",t.name&&(s.name=t.name),t.value&&(s.value=t.value),n.disabled&&(s.disabled="disabled")),"<"+o+' class="'+home.getBEMClassname("button",{mods:n,mix:t.mix})+' i-bem" data-bem="{&quot;button&quot;:{}}"'+home.getAttributes(s)+(t.stat||"")+'><span class="button__text">'+(t.content||"")+"</span>"+(t.afterContent||"")+"</"+o+">"}function ft(t,e,i){return i(_t,{mods:t.buttonMods,mix:"mix-tabber-loader__retry-button "+t.block+"__retry-button",content:e.l10n("loading.retry"),attrs:{"data-statlog":t.statRoot+".retry","data-key":t.key}})}function gt(t,e,i){return"<div "+_()({class:"mix-tabber-loader__retry ".concat(x(t.block),"__retry")})+">"+(f.a.oneElem(e.l10n("loading.general_error"))+f.a.oneElem(i(ft,t)))+"</div>"}BEM.DOM.decl("usermenu-link",{_createPopup:function(){if(this.__self._popup&&this.updatePopup(),!this._inited){if(this._inited=!0,!this.__self._popup){var t=home.getData("usermenu-link.data");if(!t)return;t=$(p(k,{mods:{view:"default",theme:"normal",target:"anchor",autoclosable:"yes","alt-shadow":"yes"},content:p(mt,t)})).appendTo("body");home.stat.logDOMShow(t,{visibilityCheck:!1}),BEM.DOM.init(t),this.__self._popup=this.findBlockInside(t,"popup2"),this.updatePopup()}this.__self._popup.on({beforeOpen:function(){this._toggleSwitcherAttrs(!0)},beforeClose:function(){this._toggleSwitcherAttrs(!1)}},this)}},updatePopup:function(){var t=this.params.popup||{};this.setAnchor(),t.mainOffset=t.mainOffset||0,t.secondaryOffset=t.secondaryOffset||0,t.directions=t.directions||["bottom-right"],this.__self._popup.setParams(t)},setAnchor:function(){var t,e=this.domElem;!this.params.anchor||(t=this.findBlockInside(this.params.anchor))&&(e=t),this.params.anchorElem&&(e=this.elem(this.params.anchorElem)),this.__self._popup.setAnchor(e)},_onSwitcherClick:function(){this._createPopup(),this.__self._popup&&this.__self._popup.toggleMod("visible","yes")},_toggleSwitcherAttrs:function(t){this.domElem.attr("aria-expanded",t?"true":"false")}},{hide:function(){this._popup&&this._popup.setMod("visible","")},live:function(){this.liveBindTo("control","click",function(){return this._onSwitcherClick(),!1}),this.liveBindKey("control","space enter",function(){return this._onSwitcherClick(),!1})}}),i("xs0k"),i("sRsx"),i("AFE+"),BEM.DOM.decl("usermenu",{onSetMod:{js:{inited:function(){var t=this.findBlockOutside("popup2");t.on("beforeOpen",function(){this.domElem.css("min-width","")},this),this.params.messenger&&this._initMessenger(t)}}},_initMessenger:function(t){home.stat.logPath("show",this.params.stat+"messenger");var e,i,n=function(){return t.delMod("visible"),BEM.blocks["i-messenger"].showWidget(),home.stat.logPath("click",this.params.stat+"messenger"),!1}.bind(this);this.bindTo("messenger","click",n),this.bindKeyTo("messenger","space enter",n),BEM.blocks["i-messenger-unread"].listenCount(function(t){t!==i&&(i=t,e&&(e.remove(),e=null),t&&(e=$('<span class="usermenu__messenger-badge">'+t+"</span>").appendTo(this.elem("messenger"))))}.bind(this))},_getEmbeddedAuth:function(){return this.auth||(this.auth=BEM.create("i-embeddedauth",this.params.auth))},_selectUser:function(t){t=t.closest(".usermenu__user").data("uid");if(t)return this._getEmbeddedAuth().setData({uid:t},this.changeThis(this._switchResponse)).submit(),!1},_logoutUser:function(t){var e=t.closest(".usermenu__user-exit"),t=e.parent(),e=e.data("uid");if(e)return this.domElem.css("min-width",this.domElem.width()),this._$userWrapper=t,this._getEmbeddedAuth().setData({uid:e,action:"logout"},this.changeThis(this._logoutResponse)).submit(),!1},_switchResponse:function(t){switch(t.status){case"ok":case"action-not-required":return void window.location.reload();default:window.location.href=this.params.passport}},_logoutResponse:function(t){var e=this._$userWrapper;switch(this._$userWrapper=null,t.status){case"ok":case"action-not-required":return void(e&&e.hide());default:window.location.href=this.params.passport}}},{live:function(){function t(t){return this._selectUser($(t.target))}function e(t){return this._logoutUser($(t.target))}return this.liveBindTo({elem:"user",modName:"clickable",modVal:"yes"},"pointerclick",t),this.liveBindKey({elem:"user",modName:"clickable",modVal:"yes"},"enter",t),this.liveBindTo("user-exit","pointerclick",e),this.liveBindKey("user-exit","enter",e),!1}}),i("v2Tx"),i("+BsJ"),i("oQCc"),i("6PS6"),i("rwjG"),BEM.decl("i-messenger",{onSetMod:{js:{inited:function(){this.params.url?(this._messengerIsOn=!0,this._url=this.params.url,this._pushGuid=this.params.pushGuid,this._refRtx=this.params.rtx,this._anchorTimestamp=this.params.anchorTimestamp,this._autoShow=this.params.autoShow,this._pushChatId=this.params.pushChatId,this._chatId=this.params.chatId,this._homePageNoArgs=this.params.homePageNoArgs,this._passportUrl=this.params.passportUrl,this._inviteHash=home.localStorage.getItem("home:chats:invite-hash"),this._inviteHash&&home.localStorage.removeItem("home:chats:invite-hash"),this._tryAutoShow()):this._messengerIsOn=!1}}},_getMessenger:function(){var i=this;return new Promise(function(t,e){window.yandexChatWidgetCallback=t,home.loadScript(i._url,void 0,e)}).then(function(){return new Promise(function(t){setTimeout(t,50)})}).then(function(){return i._widgetLoadCallback()}).then(function(t){return i._bindWidgetEvents(t)}).catch(function(t){throw home.error.logError({block:"chat_widget",method:"i-messenger:onSetMod:js:inited",message:"cannot load chat_widget"},t),t})},_widgetLoadCallback:function(){var t=this.params,t=new window.Ya.ChatWidget(home.deepExtend({theme:"hidden",buttonText:Object(s.a)("messenger.title"),title:Object(s.a)("messenger.title"),autocloseable:!0,iframeUrlParams:{header:"disabled",authType:"own"},unreadUrl:t.unreadUrl},t.overrideConfig||{}));return $("html").addClass("document_messenger_yes"),t},_tryAutoShow:function(){try{if("keyboard_state=open"===window.name)return}catch(t){}var t;this._autoShow&&(t={}),this._inviteHash&&this._chatId?t={inviteHash:this._inviteHash,rtx:this._refRtx,anchorTimestamp:this._anchorTimestamp,chatId:this._chatId,autoJoin:!0}:this._pushChatId?t={chatId:this._pushChatId}:this._pushGuid&&(t={guid:this._pushGuid}),t&&(this.showChat(t),home.stat.logPath("show","messenger.autoshow"))},_bindWidgetEvents:function(t){var i=this;return $(".ya-chat-button").on("click",function(){home.stat.logPath("click","messenger.button")}),t.addListener("authRequest",function(t){var e=(t=t||{}).inviteHash||i._currentInviteHash,t=t.chatId||i._currentChatId||"";home.localStorage.setItem("home:chats:invite-hash",e),home.stat.logPath("click","messenger.authRequest");t=home.addQueryToUrl(i._homePageNoArgs,{messenger_auto_show:"1",messenger_rtx:i._rtx||"",messenger_anchor_timestamp:i._currentAnchorTimestamp||"",messenger_chat_id:t});location.href=home.addQueryToUrl(i._passportUrl,{origin:"messenger__channel_login",retpath:t,backpath:t})}),t.addListener("channelSubscribed",function(t){home.stat.logPath("tech","messenger.channel.subscribed",{precise:!0,customParams:{chatid:t.chatId,rtxreqid:t.rtx,messid:t.chatId+"/"+t.anchorTimestamp}})}),t.addListener("chatEnter",function(t){i._currentInviteHash=t.inviteHash,i._currentChatId=t.chatId}),t.addListener("chatLeave",function(){i._currentInviteHash="",i._currentChatId="",i._currentAnchorTimestamp=""}),t.addListener("chatShow",function(){home.stat.logPath("tech","messenger.show"),$("body").hasClass("b-page_keyboard")&&BEM.DOM.win.trigger("keyboardClose.lego")}),t.addListener("chatHide",function(){home.stat.logPath("click","messenger.hide")}),t.addListener("error",function(t){home.error.logError({block:"chat_widget",method:"_bindWidgetEvents",message:"error: "+t.code})}),t},showChat:function(e,t){var i={};e.rtx&&(i.rtxreqid=e.rtx),e.chatId&&(i.chatid=e.chatId,e.anchorTimestamp&&(i.messid=e.chatId+"/"+e.anchorTimestamp)),home.stat.logPath("click",t||"messenger.channel.show",{precise:!0,customParams:i}),this._currentAnchorTimestamp=e.anchorTimestamp,this._currentChatId=e.chatId,this.getWidget().then(function(t){t.showChat(e)})},getWidget:function(){return this._widgetPromise||(this._widgetPromise=this._getMessenger()),this._widgetPromise},setRtx:function(t){this._rtx=t},isOn:function(){return this._messengerIsOn},showWidget:function(){this.showChat({})}},{getInstance:function(){return this._instance||(this._instance=BEM.create({block:this.getName()},home.getData("messenger.data"))),this._instance},showWidget:function(){this.getInstance().showWidget()}}),BEM.blocks["i-messenger"].getInstance(),i("PEa7"),i("seaW"),i("oABa"),i("F//4"),i("x8sk"),i("XBkm"),i("Gh0Y"),BEM.DOM.declMix("mix-tabber",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._keys=this._getKeys(),this._data=this._getInitData(),this._selectedKey=this._defaultKey=this._getDefaultKey(),this._panels={},this._defaultPanels={},this._showedPanels={},this._showedPanels[this._defaultKey]=!0,this._statRoot=this.params.statRoot||this.__self.getName(),this.elem("panel").toArray().forEach(function(t){var e=$(t),t=String(e.data("key"));this._panels[t]=e,this._defaultPanels[t]=!0},this),this._$panel=this._panels[this._defaultKey]}}},_getKeys:function(){return this.params.keys},_getDefaultKey:function(){return this.params.selectedKey},_getInitData:function(){return this.params.data||{}},_selectTab:function(t,e){e=e||{},this._selectedKey!==t&&this._changeTab(t,e)},_changeTab:function(t){var e=!this._panels[t],i=this._panels[t]||(this._panels[t]=this._createPanel(t));this._togglePanelsOnChange(t,i),this._$panel=i,this._selectedKey=t,this._afterPanelChange(t,i,!e)},_togglePanelsOnChange:function(t,e){this._togglePanel(this._selectedKey,this._$panel,!1),this._togglePanel(t,e,!0)},_mapKeyToIndex:function(t){return this._keys.indexOf(t)},_createPanel:function(t){var e=$(p(pt,{block:this.__self.getName(),id:this._uniqId,key:t,attrs:this._getPanelAttrs(t)}));return this._renderPanelInner(t,e,this._data[t]),e},_getPanelAttrs:function(){return{}},_renderPanelInner:function(t,e,i){e.append(this._getPanelHTML(t,i))},_afterPanelChange:function(t,e,i){i||this._onPanelDraw(t,e),this._showedPanels[t]||this._onPanelFirstShow(t,e),this._showedPanels[t]=!0,this._onPanelChange(t,e)},_onPanelDraw:function(t,e){BEM.DOM.init(e)},_onPanelFirstShow:function(t,e){home.stat.logDOMShow(e)},_onPanelChange:function(){},_getPanelHTML:function(t,e){return""},_togglePanel:function(t,e,i){e.attr("aria-hidden",i?"false":"true"),this._toggleMountPanel(t,e,i)},_toggleMountPanel:function(t,e,i){i?e.parent().length?e.css("display",""):this.elem("panels").append(e):e.css("display","none")}}),i("mCRL"),i("K3Dn"),i("gBLq"),i("Zdln"),i("czxu"),i("zgJY"),BEM.DOM.declMix("mix-tabber-loader",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._dataPromises={}}}},_renderPanelInner:function(t,e,i){i?this.__base.apply(this,arguments):(e.append(this._renderLoader(t)).css("min-height",this._$panel.height()),this._loadAndDrawData(t,e))},_renderLoader:function(){return'<div class="'+this.__self.getName()+'__loader loader"></div>'},_afterPanelChange:function(t,e,i){this._data[t]||this._defaultPanels[t]?this.__base(t,e,i):BEM.DOM.init(e)},_loadAndDrawData:function(t,e){return this._loadDataWrapped(t).then(this._drawData.bind(this,t,e,!0),this._drawData.bind(this,t,e,!1))},_drawData:function(e,t,i){if(e!==this._selectedKey)return delete this._panels[e],void t.remove();var n;try{i&&(n=this._getPanelHTML(e,this._data[e]))}catch(t){home.error.logError({block:this.__self.getName(),message:t,meta:{key:e},sourceType:"render"})}n=n||this._getPanelRetry(e),t.html(n),this._onPanelReplace(e,t),i?this._afterPanelChange(e,t,!1):home.stat.logDOMShow(t)},_onPanelReplace:function(t,e){e.css("min-height","")},_loadDataWrapped:function(i,t){return t=t||{},this._dataPromises[i]||this._data[i]&&!t.forceReload?this._dataPromises[i]||Promise.resolve(this._data[i]):(this._dataPromises[i]=this._loadData(i).then(function(t){return t&&(this._data[i]=t),t}.bind(this),function(t){this._dataPromises[i]=null;var e=t.meta||{};throw e.key=i,home.error.logError({block:this.__self.getName(),meta:e,sourceType:"network"},t),t}.bind(this)),this._dataPromises[i])},_loadData:function(){return Promise.reject(new Error("Not implemented"))},_getPanelRetry:function(t){return p(gt,{buttonMods:this._getRetryButtonMods(),key:t,block:this.__self.getName(),statRoot:this._statRoot})},_getRetryButtonMods:function(){return{theme:this.params.retryButtonTheme,size:"s"}},_onRetryClick:function(t){var e=this._panels[t];e&&(e.html(this._renderLoader(t)),BEM.DOM.init(e),this._loadAndDrawData(t,e))}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("retry-button","pointerclick",function(t){return this._onRetryClick(String(t.data.domElem.data("key"))),!1})}}),i("SPo1"),i("vRk5"),i("w9+T"),i("+fQv"),i("irDm");var vt=i("ufjy");function bt(t){return"<span class='datetime__date'>"+(f.a.oneElem("<span class='datetime__day'>"+f.a.oneElem(t.day)+"</span>")+f.a.oneElem("<span class='datetime__month'>"+f.a.oneElem(t.month)+", </span>")+f.a.oneElem("<span class='datetime__wday'>"+f.a.oneElem(t.wday)+" </span>"))+"</span>"}function yt(t,e,i){var n="a",o=t.attrs||{},s=t.mods||{},r=t.mix||"",a="";return o.class=home.getBEMClassname("home-link",{mix:r,mods:s}),t.href?o.href=t.href:n=t.tag||"span",t.title&&(o.title=t.title),t.role&&(o.role=t.role),t.tabindex&&(o.tabindex=t.tabindex),t.target&&(o.target=t.target),!o.target&&o.href&&i(Q,e)&&(o.target="_blank"),"_blank"===o.target&&void 0===o.rel&&(o.rel="noopener"),a="<"+n,a+=home.getAttributes(o),t.stat&&(a+=t.stat),t.js&&(a+=' data-bem="'+home.getBEMParams(t.js)+'"'),a+=">",t.inlineIcon&&(a+=t.inlineIcon),t.content&&(a+=t.content),a+"</"+n+">"}function wt(t,e,i){var t=t.blocks;return t?(t=t.map(function(t,e){return t.i=e,"cash_rate"===t.type&&(t.type="cash"),i(Et,t)}),i(kt,{data:t})):""}function kt(t,e,i){for(var n=t.data,o=n.length/2,s="",r="",a=0;a<o;a++)s+='<div class="inline-stocks__grid-item inline-stocks__grid-item_first">'+n[2*a]+"</div>",r+=n[2*a+1]?'<div class="inline-stocks__grid-item">'+n[2*a+1]+"</div>":"";return i(jt,{columnLeft:s,columnRight:r})}function Et(t,e,i){for(var n="",o=t.rows,s=0,r=o.length;s<r;s++){var a=o[s],c=e.l10n("rates.newalt."+a.alt).replace(/%s/,a.text);n+='<tr class="inline-stocks__row_id_'+a.id+'" data-klimit="'+a.klimit+'" data-precision="'+a.precision+'"><td class="inline-stocks__row-title">'+i(yt,{href:!e.nolinks&&a.href,mix:"home-link_blue_yes",attrs:{title:c,"data-statlog":"news_rates_manual.popup."+a.id},content:i(Mt,{text:a.text_caps})})+(a.nscale?i(Ot,{nscale:a.nscale}):"")+"</td>"+i(xt,{type:t.type,rows:a.data,klimit:a.klimit})+"</tr>"}return i(Rt,{text:t.text,type:t.type,id:t.i,content:i(Ct,t)+n})}function Mt(t){return t.text.replace(/<(\w)>([^<]+)<\/\1>/g,function(t,e,i){switch(e){case"c":return'<span class="inline-stocks__caps">'+i+"</span>";case"d":return'<span class="inline-stocks__numbers">'+i+"</span>";default:return t}})}function xt(t,e,i){var n=t.klimit;switch(t.type){case"cash":return t.rows.map(function(t){return i(Dt,t)}).join("");case"currency":return t.rows.map(function(t,e){return(e?i(Tt,{data:t,klimit:n}):"")+i(Dt,t)}).join("");case"indexes":var o=t.rows[0];return i(St,o)+i(Tt,{data:o,klimit:n})+i(Dt,o)}}function Tt(t,e,i){var n,o=t.data,s="";return t.klimit&&(n=e.l10n("rates.bigdiff").replace(/%d%(%)/,t.klimit+"$1")),e=Number((o.delta||"").replace("","-").replace(/[+%]/g,"").replace(",",".")),o.is_hot?0<e?s="up":e<0&&(s="down"):s="small",o.delta?i(Pt,{mods:{type:"delta",hidden:t.hidden?"yes":"",change:s},delta:(o.delta||"").replace("%",'<span class="inline-stocks__cell-delta-prc">%</span>'),title:n&&o.is_hot?n:"",a11y:String(o.delta).replace("","-")}):""}function St(t,e,i){t=t.datetime||t.time||t.date;return t?i(It,{value:t}):""}function Ct(t,e,i){var n,o;switch(t.type){case"currency":n=e.l10n("rates.rd_today"),o=e.l10n("rates.rd_tomorrow");break;case"cash":n=e.l10n("rates.buying"),o=e.l10n("rates.selling")}return i(Bt,{col2:n,col4:o})}function Bt(t){if(!t.col2&&!t.col4)return"";for(var e=[t.col2,t.col4],i="",n=0;n<e.length;n++)e[n]&&(i+='<th class="inline-stocks__cell" colspan="2">'+e[n]+"</th>");return'<tr class="inline-stocks__head">'+i+"</tr>"}function Pt(t){return"<td>"+(f.a.oneElem("<span "+_()({class:w("inline-stocks__cell",t||{}),title:t.title,"aria-hidden":"true"})+">"+f.a.oneElem(t.delta)+"</span>")+f.a.oneElem("<span class='a11y-hidden'>"+f.a.oneElem(t.a11y)+"</span>"))+"</td>"}function It(t){return"<td>"+f.a.oneElem("<i class='inline-stocks__cell_datetime' aria-hidden='true'>"+f.a.oneElem(t.value)+"</i>")+"</td>"}function Dt(t,e,i){return"<td>"+f.a.oneElem("<i class='inline-stocks__cell'>"+f.a.oneElem(void 0!==t.value?t.value:void 0!==e.value?e.value:i("value",t))+"</i>")+"</td>"}function Ot(t){return"<span class='inline-stocks__row-nscale'>"+f.a.oneElem(t.nscale)+"</span>"}function jt(t){return"<tr class='inline-stocks__grid-row'>"+(f.a.oneElem("<td>"+f.a.oneElem(t.columnLeft)+"</td>")+f.a.oneElem("<td>"+f.a.oneElem(t.columnRight)+"</td>"))+"</tr>"}function Rt(t){return f.a.oneElem("<h2 class='inline-stocks__table-title'>"+f.a.oneElem(t.text)+"</h2>")+f.a.oneElem("<table "+_()({class:"inline-stocks__table inline-stocks__table_type_".concat(x(t.type)," inline-stocks__table_id_").concat(x(t.id))})+">"+f.a.oneElem(t.content)+"</table>")}function At(t,e,i){return t.agencyUrl?i(Ft,t):i(Nt,t)}function Ft(t){return"<div class='news__agency-icon news__agency-icon_image_yes'>"+(f.a.oneElem("<object "+_()({class:"news__agency-icon-image",title:t.agencyTitle,data:t.agencyUrl,type:"image/png"})+"><div class='news__agency-icon-image-empty'></div></object>")+f.a.oneElem(t.favoriteIcon))+"</div>"}function Nt(t){return"<div class='news__agency-icon news__agency-icon_image_yes'>"+(f.a.oneElem(t.favoriteIcon)+f.a.oneElem("<div "+_()({class:"news__agency-icon-image-empty",title:t.agencyTitle})+"></div>"))+"</div>"}function Lt(t,e,i){return t.tag=t.type&&"o"===t.type?"ol":"ul",t.mix=t.mod&&t.mix?t.mix+" "+t.mod:t.mix||t.mod||"",i(Ht,t)}function Ut(t,e,i){return t.mix=t.mod&&t.mix?t.mix+" "+t.mod:t.mix||t.mod||"",i(zt,t)}function Ht(t,e,i){return"<"+t.tag+' class="'+w("list",t||{})+'">'+(void 0!==t.content?t.content:void 0!==e.content?e.content:i("content",t))+"</"+t.tag+">"}function zt(t,e,i){return"<li "+_()(Object.assign({class:w("list__item",t||{})},t.attrs))+">"+f.a.oneElem(void 0!==t.content?t.content:void 0!==e.content?e.content:i("content",t))+"</li>"}function Wt(t,i,n){var t=t.data&&t.data.blocks||[],o={},e="";return t.forEach(function(t,e){return t.title?(o[t.chat_id]||(o[t.chat_id]=[n(yt,{mix:"news__covid-chat",mods:{gray:"yes"},content:n(P,{mix:"news__covid-chat-title",content:t.subtitle.toUpperCase()})+n($t,t),href:t.url_subtitle,stat:i.stat.getAttr("news.covid.chanel",t.url_subtitle)})]),void o[t.chat_id].push(n(Vt,{title:n(yt,{href:t.url,target:"_blank",title:t.title,mix:"news__covid-item-title-link",mods:{black:"yes"},stat:i.stat.getAttr("news.covid.item."+e,t.url),content:n(P,{mod:"news__covid-item-title",content:t.title})})}))):""}),t.forEach(function(t){o[t.chat_id]&&(e+=o[t.chat_id].join(""),delete o[t.chat_id])}),n(qt,{items:e})}function $t(t,e,i){var n=home.rnd().substr(0,5);return t.icon?i(Kt,{mods:{id:n},id:n,icon:"//yastatic.net/s3/home/covid/block/"+t.icon+".svg",iconSkin:"//yastatic.net/s3/home/covid/block/"+t.icon+"_skin.svg"}):""}function qt(t){return"<ul class='news__covid'>"+f.a.oneElem(t.items)+"</ul>"}function Vt(t){return"<li class='news__covid-item'>"+f.a.oneElem(t.title)+" "+f.a.oneElem(t.subtitle)+"</li>"}function Kt(t){return f.a.oneElem("<span "+_()({class:w("news__covid-chat-icon",t||{})})+"></span>")+f.a.oneElem("<style>"+f.a.oneElem(".news__covid-chat-icon_id_".concat(x(t.id)," { background-image: url(").concat(x(t.icon),"); } .document_dark_yes .news__covid-chat-icon_id_").concat(x(t.id)," { background-image: url(").concat(x(t.iconSkin),"); }"))+"</style>")}function Yt(t,e,i){var n=t.attrs||{},o=t.mods||{},s=t.mix||"";return n.role="tab",i(tt,{mix:s+=" "+w("mix-tabber__tab",{mods:o}),attrs:t.attrs,href:t.href,stat:t.stat,content:t.content})}function Gt(t,e,i){var n=t.item,t=t.icon;return f.a.oneElem("<span class='news__item-inner'>"+(f.a.oneElem(t)+f.a.oneElem("<span class='news__item-content'>"+f.a.oneElem(n.full)+"</span>")+f.a.oneElem(n.ishot?i(te,null):""))+"</span>")}function Zt(a,c,l){var t=a.newsList,h=a.extraStatPath,d=a.hasAnimation,u=a.nolinks,m=a.newTabLinks,p=a.showIcons;return t.reduce(function(t,e,i){var n=a.statId+".links."+h+(i+1)+(e.ishot?".main":""),o=d&&0===i&&!a.shift?"list__item_fade_in":"",s=e.full,r="";return p?e.agency_name?(o+=" list__item_icon"+(e.ishot?"_hot":""),r=l(At,{agencyUrl:e.agency_logo,agencyTitle:e.agency_name,favoriteIcon:e.is_favorite?l(B,{mix:"news__agency-icon-favorite",content:l(B,{mix:"news__agency-icon-favorite-union"})+l(B,{mix:"news__agency-icon-favorite-sign",attrs:{title:c.l10n("news.favourite_hover")}})}):""})):e.ishot&&(o+=" list__item_icon_empty"+(e.ishot?"_hot":"")):e.ishot&&(o+=" list__item_hot"),d&&(o+=" news__animated-item"),e.is_favorite&&(o+=" list__item_favorite"),t+l(Ut,{mix:o,content:l(tt,{href:!u&&e.href,content:l(Gt,{icon:r,item:e}),stat:c.stat.getAttr(n),mix:"news__item list__item-content"+(r?" list__item-content_with-icon":""),mods:l(Xt),attrs:{"aria-label":s,target:m?"_blank":""}}),attrs:{value:d&&a.startIndex?i+a.startIndex+1:void 0}})},"")}BEM.DOM.decl("datetime",{onSetMod:{js:{inited:function(){var t=this;this._initDate(),this._prevDay=null,this._settedHour="",this._settedMin="",this._serverDate&&"Invalid Date"!==this._serverDate.toString()&&!isNaN(this._serverDate)&&(this.afterCurrentEvent(this._iterate),this._interval=setInterval(function(){t._iterate(),t._blink()},1e3))}}},destruct:function(){clearInterval(this._interval),this.__base.apply(this,arguments)},_initDate:function(){this._serverDate=this.params.timestamp?new Date(this.params.timestamp+" GMT+0000"):null,this._loadDate=new Date},_iterate:function(){var t=new Date,e=new Date(this._serverDate.getTime()+(t.getTime()-this._loadDate.getTime()));this._proceedNewDate(e,t)},_proceedNewDate:function(t){var e;0===t.getUTCHours()&&0===t.getUTCMinutes()&&this._proceedNextDay(t),e=this._format(t.getUTCHours()),t=this._format(t.getUTCMinutes()),e===this._settedHour&&t===this._settedMin||(this._settedHour=e,this._settedMin=t,this.elem("hour").text(e),this.elem("min").text(t))},_proceedNextDay:function(t){var e=t.getDay();this._prevDay===e||this.hasMod("time-only","yes")||(this._drawNextDay(t,e),this._prevDay=e)},_drawNextDay:function(t,e){var i=this.findElem("date"),n=this.hasMod("short","yes"),o=t.getMonth()+1;i.replaceWith(p(bt,{day:t.getDate()+(n?".":" "),month:n?this._format(o):Object(s.a)("month_accus."+o),wday:Object(s.a)("wday."+e)}))},_format:function(t){return 9<t?""+t:"0"+t},_blink:function(){this.toggleMod("time-hidden","yes")}});var Xt=e(function(){return{color:"inherit",hover:"red"}});function Jt(t,e,i){var n=t.nolinks,o=t.news,s=t.showIcons,r=t.newTabLinks,a=[];5<t.news.length&&(o=t.news.slice(0,4),a=t.news.slice(4));var o=i(Zt,{newsList:o,extraStatPath:"",hasAnimation:!1,nolinks:n,showIcons:s,statId:t.statid,newTabLinks:r}),o=i(Lt,{mix:"news__list",content:o,type:"o"});return a.length&&(o+=i(Lt,{mix:"news__list news__animation-list",content:i(Zt,{newsList:a,extraStatPath:"animation.",hasAnimation:!0,nolinks:n,showIcons:s,statId:t.statid,newTabLinks:r,startIndex:4})+i(ie),type:"o"})),o}function Qt(t,e,i){return Array.isArray(t.news)&&t.news.length?i(Jt,t):"covid"===t.name?i(Wt,t):(home.error({block:"news",message:"No content for tab "+t.name}),"")}function te(){return"<svg class='b-ico news__hot' focusable='false' aria-hidden='true' width='16' height='16'><path class='news__hot-icon' d='M4 9l6-8-1.7 6H12l-6 8 1.7-6'/></svg>"}function ee(){return"<div class='news__loader'><div class='news__loader-line'></div><div class='news__loader-line'></div><div class='news__loader-line'></div><div class='news__loader-line'></div><div class='news__loader-line'></div></div>"}function ie(){return"<span aria-hidden='true'> </span>"}function ne(t,e,i){return i(re,{mods:t.mods,js:{"widget-control":t.params},dropdown:{dropdown2:{}}})}BEM.DOM.decl({block:"news",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-loader","mix-tabber-loader-keyboard","mix-tabber-labels-preloader","mix-tabber-slide2","mix-tabber-wheel"]},{_loadData:function(e){var i="personalRotate"===e;return"personal"===e||i?$.ajax({url:i?this.params.personalRotateDataUrl:this.params.personalDataUrl,xhrFields:{withCredentials:!0},dataType:"json",timeout:15e3}).asPromise().then(function(t){return Array.isArray(t.items)&&5<=t.items.length?{nolinks:this.params.nolinks,statid:"news."+e,news:t.items.map(function(t){var e=home.parseUrl(t.obj.url),i={full:t.obj.title,ishot:t.obj.is_hot};return e.query.utm_source="morda_desktop",e.query.utm_medium="topnews_personal",this.params.yandex0&&(e.query.yandex="0"),i.href=home.makeUrl(e),this.params.showIcons&&Array.isArray(t.obj.annot_docs)&&t.obj.annot_docs[0]&&t.obj.annot_docs[0].source_name&&(i.agency_logo=t.obj.annot_docs[0].logo_square?t.obj.annot_docs[0].logo_square+"/logo-square":void 0,i.agency_name=t.obj.annot_docs[0].source_name,this.params.favoriteIcon&&(i.is_favorite=t.obj.is_favorite)),i},this),showIcons:this.params.showIcons,newTabLinks:this.params.newTabLinks}:Promise.reject("Incorrect data")}.bind(this)).catch(function(t){if(i)throw new Error(t);return home.error.logError({block:this.__self.getName(),meta:{key:e},sourceType:"network"},t),this.params.personalFallbackData}.bind(this)):this.__base.apply(this,arguments)},_getPanelHTML:function(t,e){return p(Qt,e)},_renderLoader:function(){return p(ee)}},{live:function(){return this.__base.apply(this,arguments),!1}}),i("9W5B"),i("4bt8"),BEM.DOM.decl({block:"news",modName:"animation",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.findBlockOutside("widget"),t=t&&t.getInstance(),t=!t||"false"!==t.getValue("autoreload");this._isAnimationEnabled=t,this._isAnimationEnabled&&this._initAnimation(),this.params.personalRotateDataUrl&&this.params.needPersonalRotate&&this._loadData("personalRotate").then(function(t){this.rotateNewsHtml=p(Zt,{newsList:t.news,extraStatPath:"animation.",hasAnimation:!0,nolinks:t.nolinks,showIcons:t.showIcons,shift:!0,statId:t.statid,newTabLinks:t.newTabLinks}),$(".list__item_fade_out").length||this._shiftNews(this.rotateNewsHtml)}.bind(this)).catch(function(t){home.error.logError({block:this.__self.getName(),meta:{key:"personalRotate"},sourceType:"network"},t)}.bind(this))}}}}),i("Cut0"),i("S2b1"),i("+zBT"),i("Rrak"),i("HYND"),i("WISf"),i("8gSH"),i("tIdE"),i("Irrx"),i("Doqo"),BEM.DOM.decl({block:"inline-stocks",modName:"new",modVal:"yes"},{onSetMod:{js:function(){this.__base(),this.bindTo("more","pointerclick",this.toggleMore),this.bindKeyTo("more","space enter",this.toggleMore),this.__self.reloaded&&(this.toggleMore(),this.__self.reloaded=!1)}},toggleMore:function(){this.__self.popup&&this.__self.popup.domElem||this.createPopup(),this.__self.popup.setAnchor(this.domElem),this.__self.popup.getMod("visible")||this.__self.reloaded||this.onShow(this.__self.popup),this.__self.popup.toggleMod("visible","yes")},onShow:function(e){var i=this;if(!this.data||this.data&&this.datats&&6e4<Number(new Date-this.datats))return i.toggleState("load"),$.ajax({url:this.params.stocksUrl,dataType:"json",success:function(t){t&&t.Stocks?(i.needTopNewsUpdate&&(i.needTopNewsUpdate=!1,i.updateTopNews()),(t.Stocks&&t.Stocks.blocks||[]).forEach(function(t){(t.rows||[]).forEach(function(t){i.needTopNewsUpdate||i.updateFunc(t),BEM.channel("stocks").trigger("changed",t)})}),i.datats=Number(new Date),i.data=t,i.createTable(t,e),i.onShow(e)):i.toggleState("error")},error:function(){i.toggleState("error")}});this.toggleState("tables"),home.stat.logDOMShow(e.domElem,{visibilityCheck:!1}),this.__self.popup._unbindFocusEvents(),this.__self.popup._bindFocusEvents()},createPopup:function(){var t=this,e=-25,i=this.domElem.offset().left,n=$(document.body).width();n/2<i&&(e=Math.floor(n/3)-i);i=this.params.editShow,i=$(p(k,{mods:{view:"default",theme:"normal",autoclosable:"yes","alt-shadow":"yes",target:"anchor"},mix:"inline-stocks__popup-wrap",directions:["bottom-left"],mainOffset:0,secondaryOffset:e,content:(i?p(yt,{mix:"inline-stocks__tune b-widget__control",href:"?widget_edit=1#open=_stocks",attrs:{target:"_self","data-statlog":"news_rates_manual.popup.tune"},content:'<i class="b-ico widget__icon_prefs"></i>',stat:""}):"")+'<span class="inline-stocks__popup-close" role="button" tabindex="0"></span>'}));return this.__self.popupContent=this.elem("popup"),(i=this.findBlockInside(i,"popup2")).domElem.append(this.__self.popupContent),this.__self.popup=i,this.getInstance()&&this.bindTo(this.findElem(i.domElem,"tune"),"click",this.showForm),this.bindTo(this.findElem(i.domElem,"popup-close"),"click",this.toggleMore),this.bindKeyTo(this.findElem(i.domElem,"popup-close"),"space enter",this.toggleMore),i.on("beforeOpen beforeClose",function(){t._elemCache&&t.elem("more").attr("aria-expanded",this.getMod("visible")?"false":"true")}),i},createTable:function(t){var e=this,i=p(wt,t.Stocks),t=this.findElem(this.__self.popupContent,"tables");t.html(i),this.findElem(t,"table").each(function(){e.toggleTommorrowTitleVisibility($(this))})},toggleTommorrowTitleVisibility:function(t){var e,i,n=this.getMod(t,"type");"indexes"!==n&&(e=t.find("tr:not(.inline-stocks__head)"),i=0,e.each(function(){var t=$(this).find("td").length;i<t&&(i=t)}),n=3<i&&"currency"===n||2<i&&"cash"===n?"show":"hide",t.find(".inline-stocks__head .inline-stocks__cell:last")[n]())},updateFunc:function(e){if(this.__base(e),this.__self.popup){var t=this.elem("popup"),t=this.findElem(t,"row","id",e.id);if(t.length)try{var i=t.closest("table"),n=this.getMod(i,"type"),o=this.findElem(t,"row-title"),s=t.data("klimit"),r=p(xt,{type:n,rows:e.data,klimit:s});t.empty().append(o,r),this.toggleTommorrowTitleVisibility(i)}catch(t){home.error.logError({block:"inline-stocks",method:"updateFunc",meta:{id:e.id}},t)}}},replaceCaps:function(t){return t.replace(/<(\w)>([^<]+)<\/\1>/g,function(t,e,i){switch(e){case"c":return'<span class="b-stocks__caps">'+i+"</span>";case"d":return'<span class="b-stocks__numbers">'+i+"</span>";default:return t}})},toggleState:function(t){this.setMod(this.__self.popupContent,"state",t)},getId:function(){return"_stocks-1"},getInstance:function(){return window.Widget&&Widget.Framework.get("_stocks-1")},showForm:function(t){var e=this;t.preventDefault(),this.toggleMore(),$(".b-wdgt-preferences").bem("b-wdgt-preferences").show($("#wd-wrapper-"+this.getId()).bem("widget"),function(){e.needTopNewsUpdate=!0,e.data=null,e.__self.reloaded=!0,e.onShow(e.__self.popup),e.__self.popup.setAnchor($(document.body))})},updateTopNews:function(){$("#wd-wrapper-_topnews-1").bem("widget").getInstance().reload(!1,!1,!0)}}),i("35bF"),i("f7na"),i("aBkz"),i("BoLW"),BEM.DOM.decl({name:"widget",modName:"name",modVal:"geo"},{_getMenuCustomItems:function(){return[{id:"geo",icon:"geo",text:Object(s.a)("head.region"),href:home.getData("region.tuneUrl")}]}});var oe,se=e(function(){return{topnews:"news",services:"sites",geo:"maps"}});function re(t,e){return"<div "+_()({class:"".concat(w("widget-control",t||{})," i-bem"),"data-bem":b(t.js||{})})+">"+(f.a.oneElem("<span "+_()({class:"widget-control__button widget-control__menu i-bem dropdown2 dropdown2_switcher_elem dropdown2__switcher",tabindex:"0",title:e.l10n("widgetcontrol.setup2"),"data-bem":b(t.dropdown||{}),role:"button","aria-haspopup":"true","aria-expanded":"false"})+"></span>")+f.a.oneElem("<span "+_()({class:"widget-control__button widget-control__show",tabindex:"0",title:e.l10n("widgetcontrol.show")})+"></span>"))+"</div>"}function ae(t,e,i){return t.mods&&t.mods.footer?i(ce,{mix:t.mix,mods:t.mods,js:{"widget-control":t.params},content:t.content}):i(ne,t)}function ce(t){return"<div "+_()({class:"".concat(w("widget-control",t||{})," i-bem"),"data-bem":b(t.js||{})})+">"+f.a.oneElem(t.content)+"</div>"}function le(){return"<div class='input__ahead'><input class='input__ahead-hint' type='text' disabled='disabled' aria-hidden='true'><span class='input__ahead-filler'></span><div class='input__ahead-hintholder'></div></div>"}function he(t,e,n){return n(ue,{js:{"voice-search-popup":{}},startLetters:(e.l10n("voice-search.popup.speak")+"...").split("").map(function(t,e,i){return n(pe,{letter:t,delay:.3/i.length*e,duration:.3})}).join(""),errorButtons:n(_e,t),showMicHelper:t.showMicHelper})}function de(t,e,i){return i(_t,{mods:{size:"m",theme:"action"},mix:"voice-search-popup__continue-button voice-search-popup__error-button",content:e.l10n("voice-search.popup.continue-search"),attrs:{"data-statlog":"voice.popup.continue-search"}})}function ue(t,e,i){return"<div class='voice-search-popup__paranja' data-statlog='voice.popup.paranja'></div>"+f.a.oneElem("<div "+_()({class:"voice-search-popup voice-search-popup_state_closed i-bem","data-bem":b(t.js||{}),"data-statlog":"voice.popup.popup"})+"><div class='voice-search-popup__close' data-statlog='voice.popup.close'></div>"+f.a.oneElem("<div class='voice-search-popup__content'>"+(f.a.oneElem("<div class='voice-search-popup__init'>"+f.a.oneElem(e.l10n("voice-search.popup.waitsecond2"))+"</div>")+f.a.oneElem("<div class='voice-search-popup__start'>"+f.a.oneElem(t.startLetters)+"</div>")+f.a.oneElem("<div class='voice-search-popup__error'><div class='voice-search-popup__title voice-search-popup__error-title'></div><div class='voice-search-popup__subtitle voice-search-popup__error-subtitle'></div>"+f.a.oneElem("<div class='voice-search-popup__error-actions'>"+f.a.oneElem(t.errorButtons)+"</div>")+"</div>")+f.a.oneElem(i(me,t)))+"<div class='voice-search-popup__indicator'></div>"+f.a.oneElem(i(fe,t))+"</div>")+"</div>")}function me(){return"<div class='voice-search-popup__text'></div>"}function pe(t){return"<span "+_()({class:"voice-search-popup__letter",style:"-webkit-animation-delay: ".concat(x(t.delay),"s; -webkit-animation-duration: ").concat(x(t.duration),"s; animation-delay: ").concat(x(t.delay),"s; animation-duration: ").concat(x(t.duration),"s;")})+">"+f.a.oneElem(t.letter)+"</span>"}function _e(t,e,i){return i(de,t)+i(_t,{mods:{size:"m"},mix:"voice-search-popup__help-button voice-search-popup__error-button",url:"https://yandex.ru/support/search/how-to-search/voice-search.html",content:e.l10n("voice-search.popup.howto"),target:"_blank",attrs:{"data-statlog":"voice.popup.help-button"}})}function fe(t,e,i){if(t.showMicHelper)return i(ge,t)}function ge(t,e){return"<div class='voice-search-popup__access'>"+(f.a.oneElem("<div class='voice-search-popup__title'>"+f.a.oneElem(e.l10n("voice-search.popup.permission-hint.title"))+"</div>")+f.a.oneElem("<div class='voice-search-popup__subtitle'>"+f.a.oneElem(e.l10n("voice-search.popup.permission-hint.subtitle"))+"</div>"))+"</div>"}function ve(t){var e=t.id,i=t.index,n=t.item,t="first"===n[1].id;return"<li "+_()({class:"mini-suggest__item mini-suggest__item_type_custom","data-index":i,"data-type":"custom",role:"option","data-text":v(n[1].text),"data-url":v(n[1].url),id:e,"aria-selected":"false","data-stat-id":v(n[1].id)})+">"+(f.a.oneElem(n[1].icon_url?"<span "+_()({class:"mini-suggest__custom-icon"+(t?" mini-suggest__custom-icon_title_yes":""),style:"background-image:url(&quot;".concat(v(n[1].icon_url),"&quot;)")})+"></span>":"")+f.a.oneElem(v(n[1].text))+f.a.oneElem(t?"<span class='mini-suggest__custom-arrow'></span>":""))+"</li>"}function be(t){var e=t.mods||{},i=t.attrs||{};return e.theme=e.theme||"ffffff",void 0===e.autoclosable&&(e.autoclosable="yes"),void 0===e.adaptive&&(e.adaptive="yes"),void 0===e.animate&&(e.animate="yes"),t.zIndex&&(i.style=i.style||"",i.style+="z-index:"+t.zIndex),'<div class="i-bem '+home.getBEMClassname("popup",{mods:e,mix:t.mix})+'" data-bem="{&quot;popup&quot;:'+home.getBEMParams(t.js||[])+(t.jsMix?","+t.jsMix:"")+'}"'+home.getAttributes(i)+'><div class="'+home.getBEMClassname("popup__under",{mods:t.underMods,mix:t.underMix})+'"></div>'+(t.tail?'<i class="popup__tail"></i>':"")+(t.content?'<div class="'+home.getBEMClassname("popup__content",{mods:t.contentMods,mix:t.contentMix})+'"'+home.getAttributes(t.contentAttrs||{})+">"+t.content+"</div>":"")+("yes"===e["has-close"]?'<i class="popup__close"'+(t.statClose||"")+">"+(t.closeText?'<div class="popup__close-text">'+t.closeText+"</div>":"")+"</i>":"")+"</div>"}function ye(t,e,i){return"<div "+_()(Object.assign({class:w("i-install-download__content",t||{})},t.attrs,{"data-bem":b(t.js||{})}))+"><div class='i-install-download__target-pointer'><div class='i-install-download__arrow'><div class='i-install-download__stick'></div></div></div>"+f.a.oneElem("<div class='i-install-download__install-text'>"+f.a.oneElem(void 0!==t.text?t.text:void 0!==e.text?e.text:i("text",t))+"</div>")+f.a.oneElem("<div class='i-install-download__agreement'>"+f.a.oneElem(void 0!==t.legalText?t.legalText:void 0!==e.legalText?e.legalText:i("legalText",t))+" "+f.a.oneElem("<a "+_()({href:void 0!==t.legalLink?t.legalLink:void 0!==e.legalLink?e.legalLink:i("legalLink",t),class:"home-link home-link_gray_yes i-install-download__legal"})+">"+f.a.oneElem(void 0!==t.legalLinkText?t.legalLinkText:void 0!==e.legalLinkText?e.legalLinkText:i("legalLinkText",t))+"</a>")+"</div>")+"</div>"}BEM.DOM.decl("widget-control",{onSetMod:{js:{inited:function(){this._statName=this.params.statName||p(se)[this.params.name]||this.params.name,this.bindTo("menu","pointerclick",this._createAndShowDropdown),this.bindKeyTo("menu","enter space",this._createAndShowDropdown)}},collapsed:function(t,e){e=home.getData("media-grid."+("yes"===e?"blocks_fold_url":"blocks_unfold_url"));e&&((new Image).src=e+this.params.name)}},setRoot:function(t){this._$root=t},_updatePosition:function(){this._$root&&this.__self._findTitle(this._$root).append(this.domElem)},_createAndShowDropdown:function(t){var e,i,n,o;t.preventDefault(),this._popupInited||(this._popupInited=!0,e=this.elem("menu"),i=this.params.items,n=[],t=this._getPopupPositionParams(),this.params.customItems&&this.params.customItems.forEach(function(t){n.push({text:t.text,target:t.target,icon:{mods:{glyph:t.icon}},elemMods:{type:"link"},href:t.href,attrs:{"data-type":t.id}})}),i.settings&&n.push({text:Object(s.a)("widgetcontrol.setup"),icon:{mods:{glyph:"settings"}},elemMods:{type:"link"},href:i.settingsHref,attrs:{"data-type":"settings"}}),i.hide&&n.push({text:Object(s.a)("widgetcontrol.hide"),icon:{mods:{glyph:"hide"}},elemMods:{type:"link"},attrs:{"data-type":"hide"}}),i.hide2&&n.push({text:Object(s.a)("widgetcontrol.hide2"),icon:{mods:{glyph:"hide2"}},elemMods:{type:"link"},attrs:{"data-type":"hide"}}),i.remove&&n.push({text:Object(s.a)("widgetcontrol.delete"),icon:{mods:{glyph:"delete"}},elemMods:{type:"link"},attrs:{"data-type":"remove"}}),n.forEach(function(t){t.attrs[home.stat.attr]=this._statName+".widget_control."+t.attrs["data-type"],t.href||(t.attrs.tabindex=0)},this),t=$(p(k,{mods:{view:"default",theme:"normal",target:"anchor",autoclosable:"yes","alt-shadow":"yes"},mix:"dropdown2__popup widget-control__popup",attrs:{role:"menu"},directions:t.directions,hasTail:!1,mainOffset:t.mainOffset,secondaryOffset:t.secondaryOffset,content:p(Z,{mods:this._getMenuMods(),items:[{items:n}]})})),e.append(t),BEM.DOM.init(t),(o=t.bem("popup2")).onFirst("beforeOpen",function(){home.stat.logDOMShow(this.domElem)}),t.find(".menu").bem("menu").on("click",function(t,e){o.delMod("visible");var i=e.item.data("type");this._onWidgetAction(i,e)},this))},_onWidgetAction:function(t,e){this.trigger(t,e),"hide"===t&&(this.setMod("collapsed","yes"),this._updatePosition(),home.stat.logPath("show",this._statName+".widget_control.show"))},_getMenuMods:function(){return{type:"navigation",theme:"normal",view:"default",tone:"default",size:"m2"}},_getPopupPositionParams:function(){return{directions:["bottom-left","top-left","left-left"],mainOffset:6,secondaryOffset:-10}}},{_findTitle:function(t){for(var e=this.MENU_SUPPORTED_ELEMENTS,i=0;i<e.length;++i){var n=t.find(e[i]).filter(":visible");if(n.length)return n.eq(0)}return $()},create:function(t,e){var i=$(p(ae,{mods:{collapsed:e.hidden?"yes":void 0,"expanded-only":e.removeOnHide?"yes":"no"},params:e})),e=this._findTitle(t);setTimeout(function(){i.addClass("widget-control_animated_yes")},50),e.length?e.append(i):(t.append(i),i.addClass("widget-control_root_yes")),BEM.DOM.init(i);e=i.bem("widget-control");return e.setRoot(t),e},live:function(){function t(t){this.trigger("show"),this.delMod("collapsed"),this._updatePosition(),t.preventDefault(),home.stat.logPath("click",this._statName+".widget_control.show")}this.liveBindTo("show","pointerclick",t),this.liveBindKey("show","enter space",t)},MENU_SUPPORTED_ELEMENTS:[".divjson-title__header",".content-tabs__head",".news__tabs",".weather__geo",".weather__header-links",".streamnow__tabs",".tvstream__tabs",".covid_closable_yes .covid__tab-wrapper_last",".covid-speed__tab-wrapper_last",".media-service__title-wrapper",".traffic__header","h1:not(.a11y-hidden, .covid__tab-wrapper)","h2"]}),i("h0Ux"),i("EVWl"),i("dqG4"),i("y+UF"),i("+H1W"),i("rOm1"),i("DROm"),i("Q627"),i("1lKq"),i("eeV8"),i("nQka"),i("ME3r"),i("PED/"),i("5sh/"),i("SLHL"),BEM.DOM.decl({name:"input",modName:"ahead",modVal:"yes"},{onSetMod:{js:function(){var t=$.browser&&$.browser.opera&&$.browser.version<12.1?"keypress":"keydown";this.__base(),this._leftPadding=parseInt(this.elem("input").css("border-left-width"),10),this._intent=!1,this._preventAhead=!1,this._lastBackspace=0,this.on("change",this._onTextChange).on("blur",function(){this.delMod("ahead-visible")}).bindTo("click",this._onClickOver).bindTo(t,this._onKeyDown)}},_onClickOver:function(t){var e,i,n=this;!this._preventAhead&&this._ahead&&this.elem("input").is(t.target)&&(this.hasMod("ahead-visible")?(e=t.pageX-this.domElem.offset().left-this._leftPadding,i=this.elem("ahead-filler").width(),t=this.elem("ahead-hintholder").width(),i<e&&e<t&&(this.trigger("ahead-click"),setTimeout(function(){n._fill({usage:"mouse"})},0))):this.setMod("ahead-visible","yes"))},_onKeyDown:function(t){if(this.__base.apply(this,arguments),this._ahead)switch(new Date-this._lastBackspace>this.params.backspaceDelay&&(this._preventAhead=!1),t.which){case 8:if(!this.params.hideOnBackspace)break;this._preventAhead=!0,this._lastBackspace=new Date,this._intent=this._clearAhead();break;case 9:this.hasMod("focused","yes")&&this._intent&&!t.ctrlKey&&!t.altKey&&this._fill({usage:"tab"})&&t.preventDefault();break;case 39:this.val().length===this.getSelectionEnd()&&this._fill({usage:"arrow"})&&t.preventDefault()}},setAhead:function(t){var e;return!this._preventAhead&&(e=this.val(),0!==t.indexOf(e)?this._clearAhead():void(this._intent=this._setAhead(e,t.slice(e.length))))},unsetAhead:function(){this._clearAhead(),this._intent=!1},_onTextChange:function(){this._ahead||this._buildAhead();var t=this.val().length;this.shiftAhead(t),this._intent&&0!==this._intent.indexOf(this.val())?this._clearAhead():this.setMod("ahead-visible","yes")},_fill:function(t){var e=this.val(),i=$.extend(t,{chars:this._intent.length-e.length});if("string"==typeof this._intent&&0<i.chars&&0===this._intent.indexOf(e)){try{var n=document.createEvent("TextEvent");n.initTextEvent("textInput",!0,!0,null,this._intent.slice(this.val().length),9),this._input.selectionEnd=this._input.selectionStart=this._intent.length,this._input.dispatchEvent(n)}catch(t){e=this.elem("control").get(0);if(this.val(this._intent),e.createTextRange){n=e.createTextRange();n.moveEnd("character",this._intent.length),n.collapse(!1),n.select()}else try{e.selectionEnd=e.selectionStart=this._intent.length}catch(t){}}this.trigger("ahead-fill",i),home.stat.logPath("tech","suggest.ahead."+t.usage)}return 0<i.chars},getSelectionEnd:function(){var t,e,i,n=this.elem("control")[0],o=0;return"number"==typeof n.selectionEnd?o=n.selectionEnd:(t=document.selection.createRange())&&t.parentElement()===n&&(e=n.value.length,(i=n.createTextRange()).moveToBookmark(t.getBookmark()),(n=n.createTextRange()).collapse(!1),o=-1<i.compareEndPoints("EndToEnd",n)?e:-i.moveEnd("character",-e)),o},getDefaultParams:function(){return $.extend(this.__base(),{backspaceDelay:100,hideOnBackspace:!0})},_buildAhead:function(){this._ahead||(this._ahead=$(p(le)),BEM.DOM.before(this.elem("control"),this._ahead))},_setAhead:function(t,e){this._ahead||this._buildAhead();var i=this.elem("ahead-filler");return e=this._preventAhead?t="":(t=t||"",e||""),i.text(t),this.elem("ahead-hintholder").text(t+e),this.elem("ahead-hint").val(t+e),this.elem("ahead").css("clip","rect(auto auto auto "+(i.width()+this._leftPadding)+"px)"),t+e},_clearAhead:function(){return this._setAhead("",""),!1},shiftAhead:function(t){var e;this._intent&&(e=this._intent.slice(0,t),t=this._intent.slice(t),this._setAhead(e,t))}}),i("AXNO"),i("ut/M"),i("zO5c"),i("a+6J"),i("EqRa"),i("ggkB"),BEM.DOM.decl("voice-search-popup",{onSetMod:{js:{inited:function(){this._setupProperties()}}},state:{name:"state",opened:"opened",closed:"closed"},speechKitState:{name:"speechkit-state",init:"init",start:"start",recognized:"recognized",finish:"finish",error:"error",access:"access"},_indicatorHeightMultiplier:.8,SMOOTH_CONSTANT:.8,loadSpeechkit:function(t){BEM.blocks["i-voice"].loadSpeechkit(t)},startRecognition:function(t){this._voiceRecognition.startRecognize(t)},_setupProperties:function(){var t,e;this._voiceRecognition=BEM.blocks["i-voice"],this._errorDescription={PermissionDenied:{title:Object(s.a)("voice-search.popup.noaccess.title"),subtitle:Object(s.a)("voice-search.popup.noaccess.subtitle")},ConnectionProblem:{title:Object(s.a)("voice-search.popup.connectionproblem.subtitle"),subtitle:Object(s.a)("voice-search.popup.connectionproblem.title")},other:{title:Object(s.a)("voice-search.popup.unknownerror.title")}},this._content=this.elem("content"),this._textElem=this.elem("text"),this._indicator=this.elem("indicator"),this._boundSetupIndicator=this._setupIndicator.bind(this),this._paranja=$(".voice-search-popup__paranja"),this._lastAmplitute=0,this._voiceRecognition&&(e=(t=this._voiceRecognition).events,this._voiceEventsType=t.eventsType,t.on(e.BEFORE_START_RECOGNIZE,this._onPreInit,this),t.on(e.SPEECH_KIT_INIT,this._onInit,this),t.on(e.SPEECH_KIT_ACCESS_GRANTED,this._onAccessGranted,this),t.on(e.ERROR,this._voiceOnError,this),t.on(e.RECOGNIZE_TEXT,this._voiceRecognizeText,this),t.on(e.STOP_RECOGNIZE,this._voiceStopRecognize,this),t.on(e.PERMISSION_REQUEST,this._voicePermissionRequest,this),this._calcSoundAmplitudePerFrameBinded=this._calcSoundAmplitudePerFrame.bind(this),this.bindTo("continue-button","click",this._onErrorContinueButtonPressed,this),this.bindTo("help-button","click",this._onErrorHelpButtonPressed,this))},_calcSoundAmplitudePerFrame:function(){var t;this._nodeAnalyzer&&(t=new Uint8Array(this._nodeAnalyzer.frequencyBinCount),this._nodeAnalyzer.getByteFrequencyData(t),t=(t=Array.prototype.slice.call(t,0,4)).reduce(function(t,e){return t+e},0)/t.length/255,this._onAudioChangeAmplitude(t),this._animationFrameId=window.requestAnimationFrame(this._calcSoundAmplitudePerFrameBinded))},_onPreInit:function(){this._showLayout(),this.trigger("start")},_onAccessGranted:function(){this._attachCloseEvents(),this._setupIndicator(),this._showInitState()},_onInit:function(t,e){e.session&&e.session.streamer&&e.session.streamer.recorder&&(this._nodeAnalyzer=e.session.streamer.recorder.getAnalyserNode(),this._nodeAnalyzer.fftSize=32,this._nodeAnalyzer.smoothingTimeConstant=.95,this._calcSoundAmplitudePerFrameBinded()),this._showStartState()},_voiceRecognizeText:function(t,e){var i=e.session.recognizedText;i&&(this._startedRecognize=!0,this._setRecognizedText(i),this._showRecognizedState(),this.trigger("text",e))},_voiceStopRecognize:function(t,e){if(e.type===this._voiceEventsType.SUCCESS_RECOGNIZE||e.type===this._voiceEventsType.TIMEOUT_SUCCESS)return this.trigger("success",e),void setTimeout(function(){this.trigger("after-success",e),this._hideLayout()}.bind(this),this.__self.TIMEOUT_SUCCESS_RECOGNITION);this._hideLayout()},_voiceOnError:function(t,e){this._attachCloseEvents();var i=this._parseError(e.message);this._showErrorState(i),"PermissionDenied"!==i&&home.error.logError({block:"voice-search-popup",message:"Voice search error: "+i,method:"_voiceOnError",source:"speechkit",sourceType:-1!==i.indexOf("Socket error:")?"network":void 0,meta:e})},_parseError:function(t){return-1!==(t=String(t)).indexOf("Socket error:")||"offline"===t?"ConnectionProblem":-1!==t.indexOf("not allowed")||"MediaDeviceFailedDueToShutdown"===t||"PermissionDismissedError"===t||"PermissionDeniedError"===t||"Permission denied"===t||"Permission dismissed"===t?"PermissionDenied":"other"},_attachCloseEvents:function(){var e=this._hideLayout.bind(this),t=new Date;this._paranja.on("click",function(){return 500<new Date-t&&void e()}),this.bindTo("close","click",e),this.bindToDoc("keydown",function(t){t.originalEvent&&"altKey"in t.originalEvent&&(home.stat.logPath("click","voice.popup.exit-key"),e())})},_showLayout:function(){this.afterCurrentEvent(function(){this.setMod(this._paranja,"state","open")}),home.stat.logDOMShow(this.domElem),home.stat.logDOMShow(this._paranja),this.trigger("show")},_hideLayout:function(){this._voiceRecognition.stopRecognize(),this.unbindFromDoc("keydown"),this._paranja.unbind("click"),this.unbindFrom("close","click"),window.cancelAnimationFrame(this._animationFrameId),this.delMod(this._paranja,"state"),this._hidePopup(),this.trigger("hide")},_onErrorContinueButtonPressed:function(){this._hideLayout()},_onErrorHelpButtonPressed:function(){this._hideLayout()},_bindEvents:function(){$(window).on("resize.voice-search-popup",this._boundSetupIndicator),$(window).on("popstate.voice-search-popup",this._hideLayout.bind(this)),$(window).on("scroll.voice-search-popup",this._hideLayout.bind(this)),this.__self._visibilityEventName&&$(document).one(this.__self._visibilityEventName+".voice-search-popup",function(){this.afterCurrentEvent(function(){this._hideLayout()})}.bind(this))},_unbindEvents:function(){$(window).off(".voice-search-popup"),this.__self._visibilityEventName&&$(document).off(this.__self._visibilityEventName+".voice-search-popup")},_setupIndicator:function(){var t=this.elem("content").height()*this._indicatorHeightMultiplier,t=Math.floor(t);this._indicator.width(t),this._indicator.height(t)},_getProcessedAmplitude:function(t,e){return this.SMOOTH_CONSTANT*t+(1-this.SMOOTH_CONSTANT)*e},_updateIndicatorWithAmplitude:function(t){var e=t<=this._lastAmplitute;if(t=this._getProcessedAmplitude(t,this._lastAmplitute),(this._lastAmplitute=t)<=.4||e)return this._indicator.css("transform",""),this._indicator.css("transition",""),void this._indicator.css("opacity","");t=Math.min(1.2*t,1);this._indicator.css("transition","opacity .1s linear, transform 0s linear"),this._indicator.css("transform","translate(-50%, -50%) scale("+t+")"),this._indicator.css("opacity","1")},_showPopup:function(){this._bindEvents(),this._showLayout(),this.setMod(this.state.name,this.state.opened),history.pushState&&history.pushState(null,document.title,location.href)},_hidePopup:function(){this.getMod(this.state.name)===this.state.opened&&(this._unbindEvents(),this.setMod(this.state.name,this.state.closed))},_setRecognizedText:function(t){this._textElem.text(t)},_showInitState:function(){this.setMod(this.speechKitState.name,this.speechKitState.init),this._showPopup()},_showStartState:function(){this._setRecognizedText(""),this.setMod(this.speechKitState.name,this.speechKitState.start)},_showRecognizedState:function(){this.setMod(this.speechKitState.name,this.speechKitState.recognized)},_showErrorState:function(t){var e;this._errorDescription[t]&&(e=this._errorDescription[t].subtitle||"",this.setMod(this.speechKitState.name,this.speechKitState.error),this.elem("error-title").text(this._errorDescription[t].title),this.elem("error-subtitle").html(e),this._showPopup(),home.stat.logPath("show","voice.popup.error."+t))},_onAudioChangeAmplitude:function(t){this.getMod(this.speechKitState.name)!==this.speechKitState.finish&&this._updateIndicatorWithAmplitude(t)},_voicePermissionRequest:function(){this.setMod(this.speechKitState.name,this.speechKitState.access)}},{TIMEOUT_SUCCESS_RECOGNITION:700,live:!0,_visibilityEventName:(["hidden","mozHidden","webkitHidden","msHidden"].forEach(function(t){!oe&&t in document&&(oe=t)}),oe&&oe.replace(/hidden/i,"visibilitychange"))}),BEM.DOM.decl("voice-search-popup",{_showErrorState:function(t){this.__base.apply(this,arguments);var e,i=!(!this.params.showMicHelper||"PermissionDenied"!==t);i&&(e=Object(s.a)("voice-search.popup.chrome-permission.subtitle").replace("%icon%",'<div class="voice-search-popup__error-access-icon"></div>'),this.elem("error-subtitle").html(e)),this.toggleMod("mic-helper","yes",i),this.toggleMod("show-help","yes","PermissionDenied"===t)}}),BEM.DOM.decl({name:"input",modName:"voice-search",modVal:"yes"},{onSetMod:{js:function(){var e=this;this.__base.apply(this,arguments),this._hasRecognized=!1,BEM.blocks["i-voice"].hasMicSupport(function(t){t?e.delMod("voice-search"):(e.hasMod(e.elem("clear"),"visibility","visible")||e.delMod(e.elem("voice-search"),"visibility"),home.stat.logPath("show","voice"),e.params.autoVoiceSearch&&e.startRecognize({alice:!1}))})}},onElemSetMod:{clear:{visibility:function(t,e,i){this.__base.apply(this,arguments),this.toggleMod(this.elem("voice-search"),"visibility","hidden","","visible"===i)}}},_initVoicePopup:function(){var t,i;this._popupInited||(this._popupInited=!0,t=$(p(he,{showMicHelper:this.params.showMicHelper})).appendTo("body").filter(".voice-search-popup"),(i=this)._voicePopup=t.bem("voice-search-popup",{showMicHelper:this.params.showMicHelper}),this._voicePopup.on({start:function(){i._setVoiceSearchState(!0)},hide:function(){i._setVoiceSearchState(!1)},text:function(t,e){BEM.channel("voice-search").trigger("change"),e.session.recognizedText&&(i._hasRecognized||(i._hasRecognized=!0,home.stat.logPath("click","voice.data")))},success:function(t,e){i.val(e.session.recognizedText,{suggest:!1})},"after-success":function(){i._setVoiceSearchState(!1),i._submitForm()}}))},_setVoiceSearchState:function(t){this.toggleMod(this.elem("voice-search"),"active","yes",t)},_submitForm:function(){var t=this.findBlockOutside("suggest2-form");t?(t.domElem.append($("<input>",{type:"hidden",name:"query_source",value:"voice"})),t.submit()):(t=this.domElem.closest("form")).length&&(t.append($("<input>",{type:"hidden",name:"query_source",value:"voice"})),t.submit())},startRecognize:function(t){t=t||{},this.setMod("focused",""),this._initVoicePopup(),BEM.blocks["i-message-locker"].forceClose(),BEM.channel("voice-search").trigger("init"),this._voicePopup.startRecognition({origin:this.params.webspeechkitStaticOrigin,lang:this.params.recognitionLocale,apikey:"5e7c4b34-f4ff-49c1-a683-44439c124cc8",recognitionModel:"general",utteranceSilence:this.params.recognitionUtteranceSilence||100,applicationName:this.params.webspeechkitApplication,useAlice:!1!==t.alice&&this.hasMod("voice-alice","yes")})},_loadLib:function(){this._initVoicePopup(),this._voicePopup.loadSpeechkit(this.params.webspeechkitStaticOrigin)},_updateClear:function(){this._startedRecognize||this.__base.apply(this,arguments)}},{live:function(){var t=this.__base.apply(this,arguments);return this.liveBindTo("voice-search","mouseover",function(){this._loadLib()}),this.liveBindTo("voice-search","pointerclick",function(){home.stat.logPath("click","voice.on"),this.startRecognize()}),t}}),i("X39R"),i("b4vc"),i("+glO"),i("+1uM"),i("w//E"),i("NMwc"),i("4Rhg"),i("69PH"),i("NpeO"),i("9AZ7"),i("TD8f"),i("OTXn"),i("vPEt"),i("khhJ"),i("u9Bp"),i("uy6q"),i("Rl07"),i("eDbF"),i("yUmL"),i("A5rE"),i("W3Dy"),i("SEzg"),i("egSt"),i("9Hap"),i("FAHT"),i("RDK/"),i("ENpm"),i("OGeV"),i("OToY"),i("3KT2"),i("3wAB"),i("laRw"),i("Qzt9"),i("F1jX"),i("G3Qx"),i("mcDQ"),i("VEpq"),i("jUAr"),i("OTT8"),i("fje4"),i("KVsd"),i("ZiWf"),i("rJ3X"),i("sx9R"),i("RLKj"),i("8ova"),i("m3dv"),i("eyWT"),i("xbib"),i("wAF/"),i("XW/Y"),i("TvnF"),i("vy0I"),i("sYaB"),i("WhSy"),i("FzRL"),i("icT8"),i("pWjS"),i("YT7z"),i("H+5/"),i("jWLv"),i("KjMM"),i("68Xq"),i("V8VG"),i("drW9"),i("JuX7"),i("jeyh"),i("R/OM"),i("Unpv"),i("GZLX"),i("paKB"),i("OlQb"),i("sqf1"),MBEM.decl({block:"mini-suggest",modName:"custom-samples",modVal:"yes"},{_onResponse:function(t,e){!t&&this.params.samples&&e&&e[1]&&(e[1]=e[1].slice(0,10-this.params.samples.length).concat(this.params.samples.map(function(t){return["custom",t,null,null,null,{}]}))),this.__base.apply(this,arguments)},_renderItem:function(t,e,i){return e&&"custom"===e[0]?t+p(ve,{id:"suggest-item-"+this._suggestId+"-"+i,index:i,item:e}):this.__base.apply(this,arguments)},_onPopupClick:function(t){var e=MBEM.closest(t.target,"mini-suggest__item");if(e){t=e.getAttribute("data-type");if("custom"===t)return void this.trigger("item-click",this._getItemEventProps(e,t))}this.__base.apply(this,arguments)},_onItemClick:function(t,e){var i,n;"custom"===e.type&&(i=e.node.getAttribute("data-url"),(n=window.open("","_blank")).opener=null,n.location=i,home.stat.logPath("click","custom_suggest."+e.node.getAttribute("data-stat-id"))),this.__base.apply(this,arguments)},_renderItems:function(){this.__base.apply(this,arguments),this._isShown&&this._dataItems&&!this._prevVal&&this._logCustomItemsVisibility()},_showPopup:function(){this.__base.apply(this,arguments),this._dataItems&&!this._prevVal&&this._logCustomItemsVisibility()},_logCustomItemsVisibility:function(){this._dataItems.forEach(function(t){t&&"custom"===t[0]&&home.stat.logPath("show","custom_suggest."+t[1].id)})}}),i("FwWP"),i("DxjK"),i("ZLQd"),i("+U/J"),i("IDPp"),i("e8Vx"),i("9tlG"),i("fpIa"),i("GtKW"),i("8A5c"),i("CaUy"),i("37uV"),i("aY9+"),i("9qO5"),i("9og6"),i("9mSB"),i("XMxx"),i("uhQy"),i("21dl"),i("44Qx"),i("SVst"),BEM.decl("i-install-download",{init:function(){var t=p(be,{mods:{type:"download",position:"fixed","has-close":"yes"},mix:"i-install-download__popup i-bem",attrs:{"bem-js":home.getBEMParams({popup:{}})},content:p(ye,this.params)});this._popup=BEM.DOM.append(BEM.DOM.scope,t).bem("popup"),this._popup.on("show",function(){$("body").addClass("b-page_overflow_hidden")}),this._popup.on("hide",function(){$("body").removeClass("b-page_overflow_hidden")}),this.inited=!0},download:function(){return this.params.paas||this.inited||this.init(),this.params.paas?(home.stat.logPath("tech","tech.install.paas"),BEM.blocks.paas.show(this.params.paas)):(home.stat.logPath("tech","tech.install.old"),setTimeout(function(){this._popup.show({top:0})}.bind(this),500)),this._download(),this},_countDownload:function(){this.params.counters.click&&((new Image).src=this.params.counters.click)},_download:function(){var t=document.createElement("iframe");$(t).addClass("i-install-download__frame-hidden").attr("aria-hidden",!0).attr("name","install").attr("src",this.params.url).appendTo(BEM.DOM.scope),this._countDownload()}}),i("er8n"),i("JxS8"),i("zcHH");var we=i("AZC8");function ke(t,e){return"<img "+_()(Object.assign({class:e.cls.full("banner-awaps__image")},t.attrs))+">"}function Ee(t,e){return"<a "+_()({class:e.cls.full("banner-awaps__link"),href:t.url,target:"_blank",rel:"noopener"})+">"+f.a.oneElem(t.content)+"</a>"}function Me(t,e){return"<div "+_()({class:e.cls.full("direct-close-block__confirm-popup")})+">"+f.a.oneElem("<div "+_()({class:e.cls.full("direct-close-block__confirm-popup-content")})+">"+(f.a.oneElem("<div "+_()({class:e.cls.full("direct-close-block__check-icon")})+"></div>")+f.a.oneElem(e.l10n("direct.thanks")))+"</div>")+"</div>"}function xe(t,e){return"<div "+_()({class:e.cls.full("direct-close-block__close-popup")})+">"+f.a.oneElem("<div "+_()({class:e.cls.full("direct-close-block__close-popup-content-wrapper")})+">"+f.a.oneElem("<div "+_()({class:e.cls.full("direct-close-block__close-popup-content")})+">"+(f.a.oneElem("<span "+_()({class:e.cls.full("direct-close-block__close-popup-capture")})+">"+f.a.oneElem(e.l10n("direct.hide"))+"</span>")+f.a.oneElem("<div "+_()({class:t.mix})+">"+f.a.oneElem(t.buttons)+"</div>"))+"</div>")+"</div>")+"</div>"}function Te(t,e){try{if(window.CSS&&CSS.supports)return CSS.supports(t,e);if(window.supportsCSS)return window.supportsCSS(t,e)}catch(t){}}window.AwapsJsonAPI={Json:{}},window.AwapsJsonAPI.Json=function(t,e,i,n,o,s,r,a){home.stat.logPath("tech","client_banner.AwapsJsonAPI.Json"),(a=void 0===a?"":a)&&2<a.length&&a.indexOf(":")<0&&(a+=":"),this.w=e,this.h=i;for(var c=String(i);c.length<4;)c="0"+c;for(c=e+c;c.length<8;)c="0"+c;o=o||"awaps.yandex.ru",n=n?"&charset="+n:"",s=s?"&subsection="+s:"",this.object_name=r||"aw_json";r=Math.round(65535*Math.random());this.json_awaps_url=a+"//"+o+"/10/"+t+"/"+c+".?charset="+n+"&callback="+this.object_name+".awaps_callback&rnd="+r+n+s,this.awaps_div_code='<div id="awaps_ad_div" width="'+e+'" height="'+i+'"></div>'},window.AwapsJsonAPI.Json.prototype.getHTML=function(t){var e="";return t.image&&(home.stat.logPath("tech","client_banner.AwapsJsonAPI.getHTML.iframeSrc_no"),e=p(ke,{attrs:{width:t.width,height:t.height,border:0,alt:t.image_alt,src:window.detector.isRetina()&&t.hidpi_image?t.hidpi_image:t.image}}),t.click_url&&(e=p(Ee,{url:t.click_url,content:e}))),e},window.AwapsJsonAPI.Json.prototype.initAntiadbImageBanner=function(){var t,e=home.getData("banner.image");e&&(home.stat.logPath("tech","client_banner.AwapsJsonAPI.initAntiadbImageBanner"),t=$("."+e.contentCls),BEM.channel("adb").trigger("rendered",{id:"desktop.main.awaps.aadb",elem:t[0]}),e.data.href&&(home.stat.logPath("tech","client_banner.AwapsJsonAPI.initAntiadbImageBanner_href"),t.click(function(){home.openWindow(e.data.href)})))},$(function(){window.AwapsJsonAPI.Json.prototype.initAntiadbImageBanner(),home.adbImageBannerUpdatePosition&&BEM&&(BEM.blocks.news&&BEM.blocks.news.on("panelChange",home.adbImageBannerUpdatePosition),BEM.channel("i-reposition-event").on("reposition",home.adbImageBannerUpdatePosition))}),i("WFGa"),i("J72x"),i("Bgwq"),i("l7b8"),i("YxSv"),i("r74s"),i("HBut"),i("GWsq"),BEM.DOM.decl(home.cls.full("direct-close-block"),{onSetMod:{js:{inited:function(){var e=0===this.elem(home.cls.part("close-block")).length;this.bindTo(home.cls.part("close-button"),"click",function(t){t.stopPropagation(),e?(this.renderCloseBlock(),e=!1,setTimeout(function(){this.toggleMod(home.cls.part("state"),home.cls.part("closing"),home.cls.part("idle"))}.bind(this),50)):this.toggleMod(home.cls.part("state"),home.cls.part("closing"),home.cls.part("idle"))})}}},renderCloseBlock:function(){var e={pseudo:"yes"};this.hasMod(home.cls.part("closing-theme"),home.cls.part("dark"))?e.violet="yes":e.blue="yes";var t=this.params.data||home.getData("direct.data."+this.params.id+".closeData"),i=(this.params.hideReasons||[{options:"3-2",text:Object(s.a)("direct.not_interest")},{options:"14-2",text:Object(s.a)("direct.bought_already")},{options:"5-3",text:Object(s.a)("direct.spam")}]).map(function(t){return p(yt,{content:t.text,mods:e,mix:"direct-close-block__close-reason "+home.cls.full("direct-close-block")+"__close-reason",attrs:{"data-id":t.options},stat:""})}).join("");this.domElem.prepend(p(xe,{mix:"direct-close-block__close-reasons "+home.cls.full("direct-close-block")+"__close-reasons",buttons:i}),p(Me,{})),t&&t.sendStat&&home.stat.logPath("click",t.statName+".close")},_onReasonClick:function(t){var e=t.data.domElem.data("id").split("-"),t=this.params.data&&this.params.data.abuseUrl||home.getData("direct.data."+this.params.id+".closeData.abuseUrl"),t=home.parseUrl(t);0<e.length&&(t.query["reason-id"]=e[0],t.query["action-id"]=e[1],(new Image).src=home.makeUrl(t),this.setMod(home.cls.part("state"),home.cls.part("confirmed")))}},{live:function(){return this.liveBindTo("close-reason","click",function(t){return this._onReasonClick(t)}),!1}}),i("6tA5"),i("Zs4m"),i("24+b"),i("ipYq"),i("u3Bn");var Se,Ce,Be=/(|\.\.\.)$/,Pe=!(Te("-webkit-line-clamp","1")||Te("text-overflow","-o-ellipsis-lastline"))&&"querySelectorAll"in document,Ie={};function De(){Se||((Se=document.createElement("div")).style.position="absolute",Se.style.left="-1000px",Se.style.top="0",Se.style.visibility="hidden",Se.setAttribute("aria-hidden","true"),document.body.appendChild(Se))}function Oe(t,e){return De(),Se?(Se.textContent=t,Se.offsetHeight/parseFloat(e.lineHeight)):0}function je(t,i,n){Pe&&i&&g(t).forEach(function(t){var e;!t.offsetWidth||-1<t.innerHTML.indexOf("<")||(e=g(t.querySelectorAll(".i-multiline-overflow")),-1<t.className.indexOf("i-multiline-overflow")&&e.push(t),e.forEach(function(t){var e;t.textContent&&((e=n&&Ie[n])||(e=function(t){for(var e=getComputedStyle(t),i=e.lineHeight,n=e.fontSize,i="normal"===i?1.2*parseFloat(n):parseFloat(i),o=t;o&&"inline"===getComputedStyle(o).display&&o!==document;)o=o.parentNode;return{width:String(o.offsetWidth)+"px",lineHeight:String(i)+"px",fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:n,wordWrap:e.wordWrap,whiteSpace:e.whiteSpace,hyphens:e.hyphens,wordBreak:e.wordBreak}}(t),n&&(Ie[n]=e)),t.textContent=function(t,e,i){var n,o=0,s=t.length;if(function(t){if(De(),Se)for(var e in t)t.hasOwnProperty(e)&&(e=e,Ce&&Ce[e]===t[e]||(Se.style[e]=t[e]));Ce=t}(i),Oe(t,i)<=e+.5)return t;for(t=t.replace(Be,"");o<s;)n=Math.ceil((o+s)/2),Oe(t.substr(0,n)+"",i)>e+.5?s=n-1:o=n;return t.substr(0,o).replace(/[-:;,.\s]+$/,"")+""}(t.textContent,i,e))}))})}BEM.DOM.decl(home.cls.full("direct-desktop"),{onSetMod:{js:{inited:function(){BEM.channel("adb").trigger("rendered",{id:"desktop.main.tgo",elem:this.domElem[0]}),this._checkHeight(),this._directWarningAnimation(),this._initCounters(),this._calcOverflow()}}},_initCounters:function(){var t=home.getData("direct.counters");this._shows=t&&t.shows,this._winNotice=t&&t.winNotice,this._scriptMeasurers=t&&t.scriptMeasurers,this._showsSent=!1,this._sendCounters()},_sendCounters:function(){var t=this.domElem[0];this._shows&&!this._showsSent&&(this._sendForceShows=BEM.blocks["i-showed-counter"].setCounter({elem:t,urls:this._shows,callback:this._onSendShows.bind(this),blockId:"banner"})),this._winNotice&&!this._winSent&&BEM.blocks["i-showed-counter"].setCounter({elem:t,urls:this._winNotice,showedTime:0,callback:this._onSendWin.bind(this),blockId:"banner"}),this._scriptMeasurers&&BEM.blocks["i-measurers"].getAndCall(this._scriptMeasurers,t)},_onSendShows:function(){this._showsSent=!0},_onSendWin:function(){this._winSent=!0},_checkHeight:function(){var t=this.elem(home.cls.part("header")),e=this.elem(home.cls.part("text"));88<t.outerHeight(!0)+e.outerHeight(!0)&&home.stat.logPath("text_overflow","direct.card")},_directWarningAnimation:function(){var e,t,i,n,o;this.getMod(home.cls.part("warning-med"))||(n=this.elem(home.cls.part("caption")),e=this.elem(home.cls.part("caption-message")),t=n.width(),n=(o=(i=e.outerWidth())-t)/20,n="."+home.cls.full("direct-desktop__caption-message")+"{-webkit-transition: -webkit-transform 0s linear;transition: transform 0s linear;transform: translate(0);}."+home.cls.full("direct-desktop__caption-message_animated")+"{-webkit-transition: -webkit-transform "+n+"s linear;transition: transform "+n+"s linear;-webkit-transform: translate("+-o+"px);transform: translate("+-o+"px);}",o=home.debounce(function(t){e.toggleClass(home.cls.full("direct-desktop__caption-message_animated"),t)},200),i<t||(this.__styleTag=document.createElement("style"),this.__styleTag.innerText=n,document.head.appendChild(this.__styleTag),this.domElem.on("mouseover",o.bind(null,!0)),this.domElem.on("mouseout",o.bind(null,!1))))},destruct:function(){this.__styleTag&&document.head.removeChild(this.__styleTag),this.__base.apply(this,arguments)},_calcOverflow:function(){this.domElem.find(".i-multiline-overflow").each(function(){var t=$(this),e=t.data("lines");je(t,e)})}},{live:function(){var e=this;return this.liveBindTo("mouseover",function t(){!this._showsSent&&this._sendForceShows&&this._sendForceShows(),e.liveUnbindFrom("mouseover",t)}),!1}});var Re=/^(?:(.*?):)?\/\/([^/?#\s]+)(\/?.*)$/,Ae=/^(\/?[^?#\s]*)(?:\?([^#]+))?(?:#(.*))?$/;function Fe(t,s){return t.split("&").reduce(function(e,i){if(!i)return{};var t,n,o=i.match(/([^=]*)=(.*)/);if(o)try{t=decodeURIComponent(o[1]),n=decodeURIComponent(o[2])}catch(t){return Object(we.a)({message:"parseSearch: "+t.message+"; token: "+i,block:"url"}),e}else{try{t=decodeURIComponent(i)}catch(t){return Object(we.a)({message:"parseSearch: "+t.message+"; token: "+i,block:"url"}),e}n=""}return t in e&&s?("string"==typeof(i=e[t])&&(e[t]=[i]),e[t].push(n)):e[t]=n,e},{})}function Ne(t){var e,i=[];for(e in t)if(t.hasOwnProperty(e)){var n=t[e];if(null!=n)for(var o=Array.isArray(n)?n:[n],s=0;s<o.length;++s)i.push(encodeURIComponent(e)+(""!==o[s]?"="+encodeURIComponent(String(o[s])):""))}return i.length?"?"+i.join("&"):""}function Le(t,r){return t.replace(Ae,function(t,e,i,n){var o,s=i?Fe(i):{};for(o in r)r.hasOwnProperty(o)&&(s[o]=r[o]);return e+Ne(s)+(n?"#"+n:"")})}var Ue={create:function(t,e){var i=IntersectionObserver;this._eventsInited||(this._eventsInited=!0,"THROTTLE_TIMEOUT"in i.prototype&&(this._initEvents(),i.prototype.THROTTLE_TIMEOUT=200,i.prototype.USE_MUTATION_OBSERVER=!1));e=new i(t,e);return this._instances.push(e),e},_instances:[],_THROTTLE_TIMEOUT:200,_initEvents:function(){this._throttledCallback=home.throttle(this._fire.bind(this),this._THROTTLE_TIMEOUT,{leading:!1}),this._listenEvents()},_listenEvents:function(){},_fire:function(){this._instances.forEach(function(t){t._checkForIntersections()})}},He={setCounter:function(t){var e,i=this;if(!t.elem&&!1!==t.useIntersection||!t.urls&&!t.callback&&!t.justRedirStat)return Object(we.a)({block:"i-showed-counter",message:"Cannot send counters",meta:{blockId:t.blockId,urls:null===(e=t.urls)||void 0===e?void 0:e.join()},sourceType:"logic"}),!1;var n={elem:t.elem,callback:t.callback,urls:t.urls,blockId:t.blockId,useIntersection:void 0===t.useIntersection||t.useIntersection,showedTime:"number"!=typeof t.showedTime?2e3:t.showedTime,threshold:t.threshold||.5,removeSendTimer:function(){},setSendTimer:function(){},redirStatParams:t.redirStatParams,justRedirStat:t.justRedirStat};return n.useIntersection&&(n.observer=Ue.create(function(t){t=t[t.length-1];n.inViewPort=t.intersectionRatio>=n.threshold,n.inViewPort?i._setSendTimer(n):i._removeSendTimer(n)},{threshold:n.threshold})),this._bindEvents(n),this._forceCounter.bind(this,n)},_forceCounter:function(t){this._removeSendTimer(t),this._onShowed(t)},_bindEvents:function(t){this.catchFromFrame(),t.removeSendTimer=this._removeSendTimer.bind(this,t),t.setSendTimer=this._setSendTimer.bind(this,t),t.observer&&t.elem?t.observer.observe(t.elem):BEM.blocks["i-visibilitychange"].waitForVisible(t.setSendTimer.bind(t)),BEM.channel("sys").on({hidden:t.removeSendTimer,visible:t.setSendTimer}),this._logFunc({action:" ",params:{watchDelay:t.showedTime,type:t.blockId,url:t.urls}})},_unBindEvents:function(t){t.observer&&t.elem&&t.observer.unobserve(t.elem),BEM.channel("sys").un({hidden:t.removeSendTimer,visible:t.setSendTimer})},_setSendTimer:function(t){!t.inViewPort&&t.observer||(this._removeSendTimer(t),t.sendTimer=setTimeout(this._onShowed.bind(this,t),t.showedTime))},_removeSendTimer:function(t){t.sendTimer&&(clearTimeout(t.sendTimer),t.sendTimer=null)},_onShowed:function(t){this._sendStat(t),t.urls&&t.urls.length&&(t.urls.forEach(function(t){(new Image).src=t}),this._logFunc({action:" ",params:{watchDelay:t.showedTime,type:t.blockId,url:t.urls}})),t.callback&&t.callback(),BEM.channel("i-showed-counter").trigger("sent",{blockId:t.blockId}),this._unBindEvents(t)},_sendStat:function(t){(t.observer||t.justRedirStat)&&home.stat.logPath("tech",t.blockId+".showed",t.redirStatParams)},_logFunc:function(t){home&&home.logBanner&&home.logBanner.log&&home.logBanner.log(t)},catchFromFrame:function(){var e=this;this.frameListener||(window.addEventListener("message",function(t){t=t&&t.data&&t.data.isc;t&&e._logFunc(t)}),this.frameListener=!0)}};function ze(t){var e;t?(e=t.pages,t=t.content,He.setCounter({blockId:"banner_inventory_client."+t,showedTime:1e3,useIntersection:!1,justRedirStat:!0,redirStatParams:e?{customParams:{pages:e}}:void 0})):Object(we.a)({block:"banner",method:"bannerInventory",message:"inventoryData are empty"})}var We,$e={},qe=(We=window,r=[{key:"updateUsedBanners",value:function(t){function e(t){return"string"==typeof t||"number"==typeof t}if(Array.isArray(t))t.forEach(function(t){$e[t]=1});else if(e(t))$e[t]=1;else if("object"==typeof t)for(var i in t)e(t[i])&&($e[t[i]]=1)}},{key:"refreshBanner",value:function(t){var e;this._limit<=0||(this._limit--,this._timeout*=this._ratio,e=Object(vt.a)(Object(vt.a)({},this._query),t||{}),(t=this._getUsedBanners()).length&&(e["skip-token"]=t.join(",")),e=Le(this._url,e),this._container?(t={" ":t.join(", ")||""," ":isFinite(this._limit)?this._limit:"","":this._timeout},this._feed&&(t.stat_id=this._feed),this._logFunc({action:"    ",params:t}),this._container.appendChild(this._createNew(e))):this._onError("No container on refresh"))}},{key:"setRefresh",value:function(){this._timeout?setTimeout(this._check,1e3*this._timeout):this._check()}},{key:"_onError",value:function(t){t=new Error("BannerRefresh:"+t);t.block="banner-refresh",t.meta={cls:this._node.className},this._container&&(t.meta.cnt=this._container.className),Object(we.a)({},t)}},{key:"_getUsedBanners",value:function(){return Object.keys($e)}},{key:"_createNew",value:function(t){this._destroyNew();var e=this._new=document.createElement("iframe");return this._bannerClass&&(e.className=this._bannerClass),this._bindOnMessage(e),e.src=this._relUrl=t,this._wrapClass&&((t=this._new=document.createElement("div")).className=this._wrapClass,t.appendChild(e)),this._loadingClass&&(this._new.className+=" "+this._loadingClass),this._new}},{key:"_destroyNew",value:function(){var t,e;this._new&&((e=(t=this._new).parentNode)&&e.removeChild(t),this._unbindOnMessage(),this._new=null)}},{key:"_bindOnMessage",value:function(i){var n=this;function t(){i.removeEventListener("load",e),i.removeEventListener("error",s)}function o(){clearTimeout(r),t()}this._onMessage&&this._unbindOnMessage(),this._onMessage=function(t){if(i.contentWindow===t.source){var e;try{e=JSON.parse(t.data)}catch(t){return}e&&e.name&&(o(),n._unbindOnMessage(),n._onEvent(e,i))}};var e=function(){"function"!=typeof n._onNetworkFailed||n._checkUrlLoaded(n._relUrl)||n._onNetworkFailed(),t(),i._loaded=!0},s=function(){o(),n._onEvent({name:"none"},i)},r=setTimeout(s,1e3*this._loadTimeout);i.addEventListener("load",e),i.addEventListener("error",s),We.addEventListener("message",this._onMessage)}},{key:"_unbindOnMessage",value:function(){this._onMessage&&(We.removeEventListener("message",this._onMessage),this._onMessage=null)}},{key:"_onEvent",value:function(t,e){if(this._onBannerMessage&&this._onBannerMessage(t),t.bannerInventory&&ze(t.bannerInventory),"none"===t.name)return this._logFunc({action:"     ",params:{}}),void this._destroyNew();e._loaded?this._switchBanners(t):e.addEventListener("load",this._switchBanners.bind(this,t)),t.bannerId&&(e={"":2<(e=t.name.split(".")).length?e[1]+" - "+e[2]:t.name,id:t.bannerId},this._feed&&(e.stat_id=this._feed),this._logFunc({action:" ",params:e}),this.updateUsedBanners([t.bannerId]))}},{key:"_switchBanners",value:function(t){this._new&&this._onBeforeSwitchBanner(t,this._new),this._new&&(this._onBeforeRefreshBanner(),this._container&&this._container.removeChild(this._node),this._loadingClass&&(this._new.className=this._new.className.replace(new RegExp("\\b"+this._loadingClass+"\\b"),"")),this._node=this._new,this._new=null,this.setRefresh(),this._onRefreshBanner())}},{key:"_checkUrlLoaded",value:function(t){var e=document.location.origin+t,i=!0,t=We.PerformanceObserver&&We.performance&&performance.getEntriesByType&&performance.getEntriesByType("resource");return i=t&&t.length?t.some(function(t){return t.name===e}):i}}],function(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(Ve.prototype,r),Ve);function Ve(t){if(function(t){if(!(t instanceof Ve))throw new TypeError("Cannot call a class as a function")}(this),!t||!t.node)throw new Error("BannerRefresh: params and params.node is required");this._url=t.url||"/portal/ntp/banner",this._node=t.node,this._loadTimeout=t.loadTimeout||30,this._timeout=null!==(e=t.timeout)&&void 0!==e?e:90,this._limit=t.limit||3,this._ratio=t.ratio||1;var e=t.autoRefreshCheck||function(t){this._onError("No autorefresh check"),t()};this._check=e.bind(this,this.refreshBanner.bind(this)),this._query=t.queryParams||{},this._bannerClass=t.className,this._loadingClass=t.loadingClassName,this._wrapClass=t.wrapClass,this._onBannerMessage=t.onBannerMessage,this._onBeforeSwitchBanner=t.onBeforeSwitchBanner||function(){},this._onBeforeRefreshBanner=t.onBeforeRefreshBanner||function(){},this._onRefreshBanner=t.onRefreshBanner||function(){},this._logFunc=t.logFunc||function(){},this._onNetworkFailed=t.onNetworkFailed,this._container=this._node.parentNode,this._container||this._onError("invalid or detached node"),t.skip&&this.updateUsedBanners(t.skip.slice()),t.queryParams&&"touch"===t.queryParams.refresh&&(this._feed=t.queryParams.feed||1)}BEM.DOM.decl(home.cls.full("b-banner"),{onSetMod:{js:{inited:function(){BEM.blocks["i-performance"].preparePerformanceBuffer(),this._sendCounts(),this._setRefresh(),BEM.channel("adb").trigger("rendered",{id:"desktop.main.awaps",elem:this.domElem})}}},_sendCounts:function(){this._activateScriptMeasureres(),this._sendBnCounts(),this._sendWinNotices()},_sendBnCounts:function(){var t=null===(t=this.params)||void 0===t?void 0:t.bnCounts;null!=t&&t.length&&(home.stat.logPath("tech","client_banner.AwapsJsonAPI.sendBnCounts"),BEM.blocks["i-showed-counter"].setCounter({elem:this.domElem[0],urls:t,useIntersection:!0,showedTime:2e3,blockId:"banner"}))},_sendWinNotices:function(){var t=null===(t=this.params)||void 0===t?void 0:t.winNotice;null!=t&&t.length&&(home.stat.logPath("tech","client_banner.AwapsJsonAPI.sendWinNotices"),BEM.blocks["i-showed-counter"].setCounter({elem:this.domElem[0],blockId:"banner.win_notice",useIntersection:!1,showedTime:0,urls:t.map(function(t){var e=Math.round(65535*Math.random()),i=t.replace("%aw_random%",String(e));return 0===i.indexOf("https://awaps.yandex.net")&&((e=function(t,e){var i=1<arguments.length&&void 0!==e?e:{},e=t.match(Re),t=e?e[3].match(Ae):(e=[],t.match(Ae)),t={scheme:e[1]||"",host:e[2]||"",path:t&&t[1]||"",search:t&&t[2]||"",hash:t&&t[3]||"",query:{}};return t.query=Fe(t.search,i.multi),t}(t)).query.pageview_id=J("statlog.config.showId"),t="",!(e=e).scheme||!e.host&&e.path||(t+=e.scheme+"://"),e.host&&(e.scheme||(t+="//"),t+=e.host),t&&(e.path&&0!==e.path.indexOf("/")||!e.path)&&"/"!==t.charAt(t.length-1)&&(t+="/"),t+=e.path||"",e.query&&(t+=Ne(e.query)),e.hash&&(t+="#"+e.hash),i=t),i})}))},_activateScriptMeasureres:function(){var t=null===(t=this.params)||void 0===t?void 0:t.scriptMeasurers;t&&(home.stat.logPath("tech","client_banner.AwapsJsonAPI.activateScriptMeasureres"),BEM.blocks["i-measurers"].getAndCall(t,this.domElem[0]))},_setRefresh:function(){var t,e,i,n=home.cls.full("b-banner__iframe"),o=home.cls.full("b-banner__iframe_refreshed"),s=document.querySelector(home.cls.full(".b-banner__wrapper")),r=this.params.refresh;null!=r&&null!==(e=r.conf)&&void 0!==e&&e.refresh_counts&&s?(i=r.conf,t=$(window),e=i.mock,s={url:i.refresh_url,limit:i.refresh_counts,timeout:0,skip:r.skipBanner?r.skipBanner.split(","):[],className:[n,o].join(" "),loadingClassName:home.cls.full("b-banner__iframe b-banner_loading_yes"),node:s,autoRefreshCheck:this._refreshCheck.bind(this,i),logFunc:home.logBanner&&home.logBanner.log},i={pageview_id:J("statlog.config.showId"),slots:J("timing.exp")||"",refresh:"big",statPath:"refresh.v14",tgo:i.tgoSupported?"1":"0"},e&&(i.usemock=e),r.darkTheme&&(i["dark-theme"]=String(r.darkTheme)),s.queryParams=i,new qe(s).setRefresh(),t.on("message",function(t){var e,i=t.originalEvent;Boolean(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.type)&&(t=i.data,(e=$("."+o)[0])&&i.source!==e.contentWindow||"counters"===(null==t?void 0:t.type)&&"banner"===(null==t?void 0:t.blockId)&&BEM.channel("i-showed-counter").trigger("sent",{blockId:t.blockId}))})):BEM.blocks["i-performance"].destroy()},_refreshCheck:function(t,e){var i,n={},o={},s=!document.hidden,r=!1,a=!1,c=$(home.cls.full(".b-banner__content")),l=t.watch_timeout,h=t.tab_timeout,d=t.overlapping_timeout,u=function(t){n[t]&&(clearTimeout(n[t]),n[t]=void 0,o[t]=!1)},m=function(){s=!1,u("watch"),g("tabHidden",h)},p=function(){s=!0,u("tabHidden"),f()},_=function(){BEM.channel("i-showed-counter").un("sent",v),BEM.channel("sys").un({hidden:m,visible:p}),BEM.channel("banner").un({overlapping:b}),i.unobserve(c[0])},f=function(){a&&s&&!r&&(o.tabHidden||o.watch||o.bannerOverlapping)&&(u("tabHidden"),u("watch"),o.bannerOverlapping=!1,e&&e({"ntp-sandwich":o.tabHidden?"1":""}),_())},g=function(t,e){u(t),n[t]=setTimeout(function(){o[t]=!0,clearTimeout(n[t]),n[t]=void 0,"watch"===t&&f()},1e3*e)},v=function(t,e){"banner"===e.blockId&&(g("watch",l),g("bannerOverlappingTimeout",d),(i=BEM.blocks["i-intersection-observer-wrapper"].create(function(t){t=t[t.length-1];a=.5<=t.intersectionRatio,f()},{threshold:.5})).observe(c[0]),BEM.channel("sys").on({hidden:m,visible:p}),BEM.channel("banner").on({overlapping:b}))},b=function(t,e){r=Boolean(e),e||(o.bannerOverlappingTimeout&&(o.bannerOverlapping=!0,u("bannerOverlappingTimeout")),f())};BEM.channel("i-showed-counter").on("sent",v)}},{}),$(function(){var t=J("bannerInventory.data");t&&ze(t);var e=$(home.cls.full(".b-banner")),t=J("banner");null!=e&&e.length&&t&&e.bem(home.cls.full("b-banner"),t)});function Ke(){}var Ye,Ge,Ze,Xe,Je,Qe,ti;function ei(t,e,i){var n=t.row;return i(oi,{href:n.uid?t.host+"thread/"+n.uid:"javascript:void(0)",title:(n.express?e.l10n("etrain.express")+"&#32;":"")+(n.name||n.title),time:n.stime||n.departure,timeClass:n.express?" etrains__time_express":"",stat:e.stat.getAdaptiveCounter(t.counter)})}function ii(t,e,i){var n,o,s="",r=[],a=(t.from||"").replace(/\s*\(.*$/,""),c=(t.to||"").replace(/\s*\(.*$/,""),l=t.today,h=t.tomorrow,d="rasp."+t.counterType+".track";if(l&&l.length||h&&h.length){if(l&&l.length)for(n=0,o=l.length;n<o;n++)r.push(i(ei,{row:l[n],host:t.host,counter:d}));if(h&&h.length)for(n=0,o=h.length;n<o;n++)r.push(i(ei,{row:h[n],host:t.host,counter:d}));s=i(ni,{direction:i(si,{stfrom:a,stto:c}),times:r.join(""),trackClass:t.direction?"fwd":"rev"})}return s}function ni(t,e,i){return"<span "+_()({class:"etrains__track etrains__track-".concat(void 0!==t.trackClass?t.trackClass:void 0!==e.trackClass?e.trackClass:i("trackClass",t))})+">"+(f.a.oneElem(void 0!==t.direction?t.direction:void 0!==e.direction?e.direction:i("direction",t))+f.a.oneElem("<ul class='etrains__times-list'>"+f.a.oneElem(void 0!==t.times?t.times:void 0!==e.times?e.times:i("times",t))+"</ul>"))+"</span>"}function oi(t){return"<li class='etrains__track-time'>"+(f.a.oneElem("<a "+_()({href:t.href,class:"home-link home-link_black_yes etrains__time".concat(x(t.timeClass)),title:t.title,_temp:t.stat,_temp1:t.target})+">"+f.a.oneElem(t.time)+"</a>")+f.a.oneElem(t.hint))+"</li>"}function si(t){return"<span class='etrains__direction home-link home-link_black_yes'>"+f.a.oneElem(t.stfrom)+"  "+f.a.oneElem(t.stto)+"</span>"}function ri(){return 101}function ai(t,e,i){var n=i(ri),i=t.libParams;return"//zen.yandex."+t.tld+"?clid="+n+"&country_code="+i.countryCode}function ci(t,e,i){return i(li,{mods:t.mods,mix:t.mix,js:{scrollbar:t.js||{}},content:t.content})}function li(t){return"<div "+_()({class:"".concat(w("scrollbar",t||{})," i-bem"),"data-bem":b(t.js||{})})+">"+f.a.oneElem("<div class='scrollbar__scrollable'>"+f.a.oneElem("<div class='scrollbar__inner'>"+f.a.oneElem(t.content)+"</div>")+"</div>")+"<div class='scrollbar__track'><div class='scrollbar__thumb'></div></div></div>"}function hi(i,t,n){var o,s,e="",r=[];return i.list.forEach(function(t){t.icon&&t.icon_svg?e+=".widgets-list__services-icon_id_"+t.id+"{background-image:url("+t.icon_svg+");}":e+=".widgets-list__services-icon_id_"+t.id+"{background-image:url("+(t.icon_svg||t.icon)+");}"}),r=[0],i.wide?(s=Math.ceil(i.list.length/2),r.push(1)):s=i.list.length,r=r.map(function(t){o="";for(var e=0;e<s;++e)o+=n(di,i.list[e+t*s]);return n(pi,{cells:o})}),n(ui,{mods:{wide:i.wide?"yes":void 0},style:e,content:n(ci,{content:n(mi,{title:n(yt,{href:t.ServicesAllUrl,mods:{blue:"yes"},stat:t.stat.getClientCounter("widgets_list.services.title"),content:t.l10n("services.title")}),cols:r.join("")})})})}function di(t,e,i){if(!t)return i(fi);var n="widgets_list.services."+t.id;return i(_i,{icon:i(yt,{content:"",href:t.url,stat:e.stat.getClientCounter(n),mix:"widgets-list__services-icon widgets-list__services-icon_id_"+t.id,attrs:{"aria-hidden":"true"}}),title:i(yt,{content:t.title,href:t.url,stat:e.stat.getClientCounter(n),mix:"home-link_black_yes widgets-list__services-title"}),subtitle:i(yt,{content:home.capitalize(t.subtitle.text),href:t.subtitle.url,stat:e.stat.getClientCounter(n),mix:"home-link_gray_yes widgets-list__services-subtitle"})})}function ui(t){return"<div "+_()({class:w("widgets-list__services-layout",t||{})})+">"+(f.a.oneElem("<style>"+f.a.oneElem(x(t.style))+"</style>")+f.a.oneElem(t.content))+"</div>"}function mi(t){return f.a.oneElem("<h1 class='widgets-list__services-header'>"+f.a.oneElem(t.title)+"</h1>")+f.a.oneElem("<div class='widgets-list__services-table'>"+f.a.oneElem(t.cols)+"</div>")}function pi(t){return"<div class='widgets-list__services-col'>"+f.a.oneElem(t.cells)+"</div>"}function _i(t){return"<div class='widgets-list__services-item'>"+(f.a.oneElem(t.icon)+f.a.oneElem("<div class='widgets-list__services-texts'>"+(f.a.oneElem(t.title)+f.a.oneElem(t.subtitle))+"</div>"))+"</div>"}function fi(){return"<div class='widgets-list__services-item'></div>"}function gi(t,e,i){var n=t.initiallyHidden||"both";return t.mods=t.mods||{},"right"===n&&(t.mods.left="yes"),"left"===n&&(t.mods.right="yes"),i(vi,t)}function vi(t,e,i){return"<div "+_()({class:"".concat(w("arrowed-list",t||{})," i-bem"),"data-bem":b(t.js||{})})+">"+f.a.oneElem(i(bi,t))+"</div>"}function bi(t){return f.a.oneElem(t.beforeWrap)+f.a.oneElem("<div "+_()({class:"arrowed-list__content scroller ".concat(x(t.wrapMix))})+">"+f.a.oneElem("<div "+_()(Object.assign({class:"arrowed-list__list ".concat(x(t.listMix)),role:"list"},t.attrs))+">"+f.a.oneElem(t.content)+"</div>")+"</div>")+f.a.oneElem("<div "+_()({class:"arrowed-list__left arrowed-list__control",_temp:t.prevStat})+"></div>")+f.a.oneElem("<div "+_()({class:"arrowed-list__right arrowed-list__control",_temp1:t.nextStat})+"></div>")}function yi(t,e){return"<div class='widgets-list__promo'>"+(f.a.oneElem("<div class='widgets-list__promo-title'>"+f.a.oneElem(e.l10n("widgets_list.promo_title"))+"</div>")+f.a.oneElem("<div class='widgets-list__promo-text'>"+f.a.oneElem(e.l10n("widgets_list.promo_text"))+"</div>"))+"<div class='widgets-list__promo-image' role='img' aria-hidden='true'></div>"+f.a.oneElem("<div "+_()({class:"widgets-list__promo-close",role:"button",tabindex:"0",title:e.l10n("a11y.close")})+"></div>")+"</div>"}function wi(t,e,i){var n=home.getData("widgets-list.data");if(n)return i(ki,n)}function ki(t,e,i){var n="widgets-list",o=e.zenInsert;t.mods={many:3<t.list.length?"yes":"no",promo:t.promo?"yes":void 0},r=t.list.map(function(t){return i(Ti,{html:i(ci,{content:t})})}),t.services&&r.push(i(hi,{list:t.services,wide:6<t.services.length}));var s=i(fr),r=r.length<=(s?2:3)?i(xi,{content:r.join("")}):i(gi,{mix:n+"__list-wrapper media-service__list-wrapper",wrapMix:n+"__wrap media-service__wrap",listMix:n+"__list media-service__list",content:r.join(""),mods:{theme:"media"},js:{"arrowed-list":{counter:"widgets_list"}}});return i(gr,{block:"widgets-list",rootMod:home.getBEMClassname("widgets-list",t)+" i-bem media-grid__widgets-list",title:i(Ei,t),titleStat:e.stat.getClientCounter("widgets_list.title"),mods:{"has-carousel":"yes"},before:t.promo&&i(yi,t.promo)||"",content:i(Mi,{content:r}),attrs:{role:"complementary","aria-label":e.l10n("widgets_list.title"),"data-bem":home.getBEMParams({"widgets-list":{live:!o&&!t.promo,promo:t.promo&&{show_url:t.promo.show_url,close_url:t.promo.close_url}}})},footer:{html:i(ae,{content:e.l10n("widgets_list.footer"),mix:"media-service__footer",mods:{footer:"yes"},params:{name:"widgets_list",live:!1}})}})}function Ei(t,e){return e.l10n("widgets_list.title")}function Mi(t){return"<div class='media-service__panels widgets-list__panels'>"+f.a.oneElem("<div class='media-service__panel widgets-list__panel'>"+f.a.oneElem(t.content)+"</div>")+"</div>"}function xi(t){return"<div class='widgets-list__no-carousel media-service__wrap'>"+f.a.oneElem(t.content)+"</div>"}function Ti(t){return"<div class='widgets-list__item'>"+f.a.oneElem(t.html)+"</div>"}function Si(t){if(t.text)return'<div class="promo-pusher-button__text">'+t.text+"</div>"}function Ci(t,e,i){return"<div "+_()({class:"".concat(w("promo-pusher-button",t||{})," ").concat(x(t.initClass)),"data-bem":b(t.js||{}),title:e.l10n("promo_event.subscribe_title")})+"><svg class='promo-pusher-button__icon' width='100%' height='100%' viewbox='0 0 18 18'><g fill='none'><path class='promo-pusher-button__base' d='M2.5 14h13v-.382l-2-1V12l.002-3.938c-.152-2.44-1.12-4.02-3.262-4.596l-.74-.2V2h-1v1.267l-.74.199C5.669 4.028 4.658 5.66 4.5 8v4.618l-2 1V14z' stroke='#FFF' stroke-width='2'/><path class='promo-pusher-button__base' d='M9 17c.986 0 1.5-.514 1.5-1.5V15h-3v.5c0 .986.514 1.5 1.5 1.5z' fill='#FFF'/><path class='promo-pusher-button__path' d='M2.5 14h13v-.382l-2-1V12l.002-3.938c-.152-2.44-1.12-4.02-3.262-4.596l-.74-.2V2h-1v1.267l-.74.199C5.669 4.028 4.658 5.66 4.5 8v4.618l-2 1V14z' stroke='#FFF' stroke-width='2'/></g></svg><div class='promo-pusher-button__icon-active'></div>"+f.a.oneElem(i(Si,t))+"</div>"}function Bi(t,e,i){var n,o,s=t.has_stream||t.video_url,r=t.push&&t.pushEnable,a=s||t.fallback_url,c="big"===t.size,l=c&&t.subscription&&t.subscription_title,h=t.minimizedMain,d="minimized"===t.size,u=t.blockName||(d?"media_event_carousel":"media_event"),m=r?i(Ri,{content:i(Ci,{initClass:"i-bundle-bem",js:{"promo-pusher-button":{counter:u+"."+t.name+".episode.sup",tags:[{name:t.push.tag,value:t.push.value,expiryDate:t.push.expire}]}},mods:{size:"small",theme:d?"events":"liquid"}})}):s?i(ji,t):"",p=t.thumbnail,u=t.title,s=t.video_url||t.fallback_url,l=l?i(Ai,{text:t.subscription_title,bgColor:t.shield_color}):"",u=u+(t.time_text?"  "+t.time_text:""),l=d?(h?n=i(Oi,{title:u,desc:t.description}):o=i(Fi,{title:u,desc:t.description}),i(Ii,{footer:o,desc:n,icon:m,mix:"imageloader__image imageloader__image_loaded_no "+(t.mix||"")+(r?" media-episode__image_push":""),img:p})):i(Ii,{title:c?t.time_text?i(Di,{title:home.capitalize(t.time_text),mix:"media-episode__stream-title"}):"":i(Di,{title:u,mix:"media-episode__stream-title"}),icon:m,mix:(t.mix||"")+"imageloader__image imageloader__image_loaded_no",img:p,badge:l});return i(Pi,{mods:{direction:t.direction,view:c?"":"gradient",size:t.size,action:a?"yes":"",gradient:c?"yes":"",push:r?"yes":""},mix:d?"imageloader__column":"",content:i(yt,{mix:"media-episode__link"+(d?" imageloader__card":"")+(h?" media-episode__link_minimized-main":""),content:l,mods:{color:"inherit",hover:"inherit"},href:s,stat:e.stat.getClientCounter(t.counter),js:{}}),js:{"media-episode":{}}})}function Pi(t){return"<div "+_()({class:"".concat(w("media-episode",t||{})," i-bundle-bem"),"data-bem":b(t.js||{})})+">"+(f.a.oneElem(t.content)+f.a.oneElem(t.footer))+"</div>"}function Ii(t){return f.a.oneElem("<span "+_()({class:"media-episode__image media-service__image ".concat(x(t.mix)),"data-image":t.img})+">"+(f.a.oneElem(t.stream)+f.a.oneElem(t.icon)+f.a.oneElem(t.badge))+"</span>")+f.a.oneElem(t.footer)+f.a.oneElem(t.desc)}function Di(t){return"<span "+_()({class:"".concat(w("media-episode__title",t||{})," i-multiline-overflow")})+">"+f.a.oneElem(t.title)+"</span>"}function Oi(t){return"<div class='media-episode__minimized-desc'>"+(f.a.oneElem("<span class='media-episode__title_main i-multiline-overflow'>"+f.a.oneElem(t.title)+"</span>")+f.a.oneElem("<span class='media-episode__subtitle_main i-multiline-overflow'>"+f.a.oneElem(t.desc)+"</span>"))+"</div>"}function ji(){return"<div class='media-episode__play'></div>"}function Ri(t){return"<div class='media-episode__sup'>"+f.a.oneElem(t.content)+"</div>"}function Ai(t){return"<div "+_()({class:"media-episode__badge",style:"background-color: ".concat(x(t.bgColor))})+">"+f.a.oneElem(t.text)+"</div>"}function Fi(t){return"<div class='media-episode__footer'>"+(f.a.oneElem("<div class='media-episode__footer-title'>"+f.a.oneElem(t.title)+"</div>")+f.a.oneElem("<div class='media-episode__footer-desc'>"+f.a.oneElem(t.desc)+"</div>"))+"</div>"}function Ni(t,e,i){(t=t||{}).streamDefault&&!t.streamChannel&&(t.streamChannel="default");var n=t.fromBlock||i(Ui),o=t.fromBlockPrefix;void 0===o&&(o=i(Li)),n&&/^([-\w]+)$/.test(n)?n=o+n:o&&!t.fromBlockCode&&(home.error("stream-url: invalid fromBlock "+n),n=void 0),t.fromBlockCode&&(n=void 0);var s,r,a="object"==typeof Ya&&Ya.streamCms&&Ya.streamCms.settings,c=a.streamPath,l=a.streamPaths,h=a.streamSharePath,d=a.streamRetPath,u=a.homePageNoArgs||"",i=a.streamYellowSkin,o=a.streamYellowSkinParams,n={frontend_vh_reqid:t.frontendVhReqId,recommender_reqid:t.recommenderReqId,stream_active:t.streamActive,stream_id:t.streamId,stream_channel:t.streamChannel,stream_category:t.streamCategory,stream_publisher:t.streamPublisher,search_text:t.streamSearchText,filters:t.streamFilters,channels_category:t.channelsCategory,mch:t.mainChannelId,from_block:n,source:t.source,f:t.fromBlockCode},c=c,u=home.parseUrl(u);t.path&&void 0!==l[t.path]&&(c=l[t.path]),t.isSharing&&(s=u.host,r="https",c=h),t.isRetPath&&(s=u.host,r="https",c=d),t.isSportContent&&(s=a.yandexSportUrl,r="https",c="/efir"),t.isDRMContent&&(s="yandex."+(e.MordaZone||"ru"),r="https",c="/efir"),(t.withHost||i)&&(s=u.host,r="https"),t.query&&Object.assign(n,t.query),a.videohub_as_vertical&&a.searchAppParams&&(n=Object.assign({},n,{vertical_stream:"1"},a.searchAppParams),r="https");n=home.makeUrl({scheme:r,host:s,path:c,query:n});return i?home.yellowskin(o,n):n}function Li(){return""}function Ui(){return""}function Hi(t,e,i){var n=t.mods||{},o=t.tag||"button",s=t.textMix?" "+t.textMix:"",r=t.mixJs||{},a=t.attrs||{};return t.url?o="a":t.tag&&(o=t.tag),n.theme||("yes"===n.pseudo?n.theme="pseudo":n.theme="normal"),a.role="button",t.tabindex&&(a.tabindex=t.tabindex),t.url?(a.href=t.url,t.target&&(a.target=t.target),n.disabled&&(a["aria-disabled"]=!0),"_blank"===a.target&&void 0===a.rel&&(a.rel="noopener")):(a.type=t.type||"button",t.name&&(a.name=t.name),t.value&&(a.value=t.value),n.disabled&&(a.disabled="disabled")),n.view||(n.view="classic"),r.button2=t.js||{},a["data-bem"]=home.getBEMParams(r),"<"+o+' class="'+home.getBEMClassname("button2",{mods:n,mix:t.mix})+" "+i(zi,t)+'"'+home.getAttributes(a)+(t.stat||"")+">"+i(Wi,t)+'<span class="button2__text'+s+'"'+(t.text&&t.text.attrs?home.getAttributes(t.text.attrs):"")+">"+(t.content||"")+"</span></"+o+">"}function zi(){return"i-bem"}function Wi(t,e,i){var n=[];return t.icon?n.push(i($i,{mod:t.icon})):t.iconObj&&n.push(i(z,{mods:t.iconObj.mods,mix:"button2__icon"+(t.iconObj.mix?" "+t.iconObj.mix:""),url:t.iconObj.url})),t.iconLeft?n.push(i($i,{mod:"button2__icon_side_left "+t.iconLeft})):t.iconLeftObj&&n.push(i(z,{mods:t.iconLeftObj.mods,mix:"button2__icon button2__icon_side_left"+(t.iconLeftObj.mix?" "+t.iconLeftObj.mix:""),url:t.iconLeftObj.url})),t.iconRight?n.push(i($i,{mod:"button2__icon_side_right "+t.iconRight})):t.iconRightObj&&n.push(i(z,{mods:t.iconRightObj.mods,mix:"button2__icon button2__icon_side_right"+(t.iconRightObj.mix?" "+t.iconRightObj.mix:""),url:t.iconRightObj.url})),n.join("")}function $i(t){return"<span "+_()({class:"icon button2__icon ".concat(x(t.mod)),"aria-hidden":"true"})+"></span>"}function qi(t,e,i){var n=t.branding,o=t.content,t=t.media;return n?(n.img_left?i(Yi,{img:n.img_left,attrs:{"data-statlog":"media_event."+t.name+".illustration"}}):"")+o+(n.img_right?i(Yi,{mods:{align:"right"},img:n.img_right}):""):o}function Vi(t){return"<div class='media-event__layout media-event__layout_minimized'>"+(f.a.oneElem(t.generalContent)+f.a.oneElem(t.logo))+"</div>"}function Ki(t){return"<span "+_()({class:"media-event__logo media-service__image imageloader__image imageloader__image_loaded_no","data-image":t.img})+"></span>"}function Yi(t){return"<div "+_()(Object.assign({class:w("media-event__illustration",t||{})},t.attrs,{style:"background-image: url(".concat(x(t.img),")")}))+"></div>"}function Gi(t,e,i){var n=home.getData("media-event-carousel.data");if(n)return i(Zi,n)}function Zi(t,e,i){var n=t.media,o=n.branding,s=n.title_fallback_url,r=i(Ki,{img:n.logo}),a=i(Xi,{episodes:n.episodes,name:n.name,pushEnable:t.pushEnable}),c=n.episodes[0].has_stream,l=t.shouldScrollToBlock,h=s||"",d=!1,u=e.zenInsert;c&&!s&&(h=i(Ni,{fromBlock:"media-event_block_title",streamId:n.episodes[0].content_id}),d="_blank");r=i(Vi,{generalContent:a,logo:r}),r=i(qi,{branding:o,content:r,media:n});return i(gr,{block:"media-event-carousel",layoutName:"media_event_carousel",rootMod:"i-bem imageloader imageloader_different_yes media-event-carousel media-event",href:h,target:d,title:t.title,titleStat:e.stat.getClientCounter("media_event_carousel."+n.name+".title"),content:r,attrs:{role:"complementary","aria-label":n.title,"data-bem":home.getBEMParams({"media-event-carousel":{scrollTo:l,name:n.name,live:!u},imageloader:{}})}})}function Xi(i,t,n){return n(gi,{mix:"media-event-carousel__list-wrapper media-event__list-wrapper",listMix:"media-event-carousel__list media-event__list media-service__list",wrapMix:"imageloader__scroller",content:i.episodes.map(function(t,e){return 0===e&&t.description&&(t.minimizedMain=!0),t.name=i.name,t.size="minimized",t.counter="media_event_carousel."+i.name+".episode."+(e+1),t.pushEnable=i.pushEnable,n(Bi,t)}).join(""),mods:{theme:"media"},js:{"arrowed-list":{counter:"media_event_carousel"},imageloader:{}}})}function Ji(t,e,i){var n,o;return t.rating?(o=(n=parseFloat(t.rating)).toFixed(1).replace(".",","),e=e.l10n("kinopoisk.rating").replace("%s",o),i(tn,{mix:t.mix,text:o,label:e,color:i(Qi,{rating:n})})):""}function Qi(t){t=t.rating;return 8<=t?"#32ba43":7<=t?"#89c939":5<=t?"#91a449":3<=t?"#85855d":"#727272"}function tn(t){return f.a.oneElem("<span "+_()({class:w("kinopoisk-rating",t||{}),style:"background-color:".concat(x(t.color),";"),"aria-hidden":"true"})+">"+f.a.oneElem(t.text)+"</span>")+f.a.oneElem("<span class='a11y-hidden'>"+f.a.oneElem(t.label)+"</span>")}function en(t,e,i){return i(nn,{mods:t&&t.mods||{}})}function nn(t){return"<div "+_()({class:w("media-play",t||{})})+"></div>"}function on(t,e,i){var n=t.restrictionAge,e=e.l10n("stream.restriction-age")+": ";return n?i(sn,{mix:t.mix,text:n+="+",mods:t.mods,label:e+n}):""}function sn(t){return f.a.oneElem("<span "+_()({class:w("restriction-age",t||{}),"aria-hidden":"true"})+">"+f.a.oneElem(t.text)+"</span>")+f.a.oneElem("<span class='a11y-hidden'>"+f.a.oneElem(t.label)+"</span>")}function rn(t,e,i){var n=home.getData("kinopoisk.data");if(n)return i(an,n)}function an(t,e,n){var i=t.retryButtonTheme,o=t.defaultTabId,s=t.data[o],r=t.groups,a=e.zenInsert,c="kinopoisk_"+home.rnd().substr(0,5),l=home.addQueryToUrl("https://hd.kinopoisk.ru/",{utm_source:"ya-main",utm_medium:"hd-online",utm_campaign:"organic",utm_content:"title_block",utm_term:"desktop"});return n(gr,{block:"kinopoisk",rootMod:home.getBEMClassname("kinopoisk",t)+" i-bem media-grid__kinopoisk",mods:{"has-carousel":"yes",tabs:"yes"},href:l,target:n(Q)?"_blank":void 0,title:t.title,titleMix:"home-link_pseudo_yes",titleAttrs:{"data-stat":"kinopoisk.link","data-selection-id":String(s.id),"data-from-block":"block_title",tabindex:0},titleStat:e.stat.getClientCounter("kinopoisk.title"),tabs:r.map(function(t){var e=t.default,i="kinopoisk.tab.select."+home.transliterate(t.title.toLowerCase()).replace(/,/g,"").replace(/\s/g,"-").replace(/-/g,"_");return n(Yt,{mods:{selected:e?"yes":"no"},mix:home.getBEMClassname("kinopoisk__tab",{mods:{selected:e?"yes":"no"}}),content:t.title,attrs:{tabindex:e?"0":"-1","aria-selected":e?"true":"false","aria-controls":e?c+"_panel_"+t.id:void 0,"data-key":t.id,"data-stat-select":i,id:c+"_tab_"+t.id}})}).join(""),content:n(hn,{panel:n(pt,{block:"kinopoisk",id:c,key:o,mix:" media-service__panel",attrs:{"aria-labelledby":c+"_tab_"+s.id},content:n(cn,{id:s.id,title:s.title,films:s.films,retryButtonTheme:i})})}),attrs:{role:"complementary","aria-label":t.title,"data-bem":home.getBEMParams({kinopoisk:{selectedTab:o,retryButtonTheme:i,live:!a,uniqId:c,country:t.country}})}})}function cn(t,e,i){t=t.films?i(ln,t):"";return i(gi,{mix:"kinopoisk__list-wrapper media-service__list-wrapper imageloader imageloader_tracking_yes",wrapMix:"kinopoisk__wrap media-service__wrap imageloader__scroller",listMix:"kinopoisk__list media-service__list",content:t,mods:{theme:"media","arrow-position":"weighted","list-out":"yes"},js:{"arrowed-list":{counter:"kinopoisk"},imageloader:{}}})}function ln(r,a,c){var l=home.transliterate(r.title.toLowerCase()).replace(/,/g,"").replace(/\s/g,"-"),h="kinopoisk.film."+l.replace(/-/g,"_"),d=c(Q)?"_blank":"";return r.films.map(function(t,e){var i=t.url&&"PROMOCODE"===t.type,n="",o=e+1+(r.startIndex||0),s=home.addQueryToUrl(t.url,{utm_source:"ya-main",utm_medium:"hd-online",utm_campaign:"organic",utm_content:l,utm_term:"desktop"});t.kpRating&&(n=c(Ji,{mix:"kinopoisk__film-rating",rating:t.kpRating}));e={};t.coId&&(e[t.coId]=o),i&&(e.promocode=o);i=i||home.getData("common.is_redesign");return c(yt,{href:s,target:d,role:"listitem",tabindex:"0",tag:s?"":"div",stat:a.stat.getAttr(h,null,{logShow:!1,customParams:e,precise:!0}),mix:"imageloader__card home-link_hover_inherit kinopoisk__film media-service__item media-play__container",content:c(un,{rating:n,title:home.prepareSpaces(t.title),genre:t.genres||"",poster:home.getBEMParams({1:t.poster.replace("/orig","/150x225"),2:t.poster.replace("/orig","/300x450")}),bgColor:t.medianColor||"#dfdcd7",mediaPlay:i?"":c(en,{mods:{type:"kinopoisk"}}),restrictionAge:18<=t.ageLimit?c(on,{restrictionAge:t.ageLimit,mods:{type:"poster"}}):""}),attrs:{"data-film-id":t.contentGroupUuid,"data-selection-id":String(r.id),"data-from-block":l,"data-from-position":o,"data-stat":"kinopoisk.link"}})}).join("")}function hn(t){return"<div class='media-service__panels kinopoisk__panels'>"+f.a.oneElem(t.panel)+"</div>"}function dn(){return"<div class='kinopoisk__film kinopoisk__film-loader'><div class='kinopoisk__film-loader-inner loader'></div></div>"}function un(t){return f.a.oneElem("<span class='kinopoisk__film-inner'>"+f.a.oneElem("<span class='kinopoisk__film-bg media-service__bg media-service__shadow'>"+(f.a.oneElem("<span "+_()({class:"kinopoisk__film-image media-service__image imageloader__image","data-image":t.poster,style:"background-color:".concat(x(t.bgColor))})+"></span>")+f.a.oneElem(t.rating)+f.a.oneElem(t.mediaPlay)+f.a.oneElem(t.restrictionAge))+"</span>")+"</span>")+f.a.oneElem("<div class='kinopoisk__film-content'>"+(f.a.oneElem("<span class='kinopoisk__film-title media-service__item-title'>"+f.a.oneElem(t.title)+"</span>")+f.a.oneElem("<span class='kinopoisk__film-genre'>"+f.a.oneElem(t.genre)+"</span>"))+"</div>")}function mn(t,e,i){var n="games_"+home.rnd().substr(0,5),o=new Array(8).join(i(Yt,{mix:home.getBEMClassname("games__tab",{mods:{dummy:"yes"}}),content:"&nbsp;",stat:""})),s=new Array(8).join(i(En,{}));return i(gr,{block:"games",rootMod:home.getBEMClassname("games-loader",{mods:{state:"loading"}})+" i-bem media-grid__games",headerMods:{mods:{multyline:"yes"}},title:e.l10n("games.games"),titleAttrs:{tabindex:0},mods:{"has-carousel":"yes",tabs:"yes"},tabs:o,content:i(wn,{panel:i(pt,{block:"games",id:n,key:"dummy",mix:" media-service__panel",attrs:{"aria-labelledby":n+"_tab_dummy"},content:i(bn,{mix:"games-loader__panel",id:"dummy",items:s})})}),attrs:{role:"complementary","aria-label":e.l10n("games.games"),"data-bem":home.getBEMParams({"games-loader":{url:t.url}})}})}function pn(t,e,i){var n;return t.rating?(n=parseFloat(t.rating).toFixed(1).replace(".",","),e=e.l10n("games.rating").replace("%s",t.rating),i(_n,{mix:t.mix,value:n,label:e})):""}function _n(t){return f.a.oneElem("<span "+_()({class:"".concat(w("games-rating",t||{})," games-rating__icon"),"aria-hidden":"true"})+">"+f.a.oneElem(t.value)+"</span>")+f.a.oneElem("<span class='a11y-hidden'>"+f.a.oneElem(t.label)+"</span>")}function fn(t,e,i){var n=home.getData("games.data");if(n)return i(mn,n)}function gn(t,e,o){var i,s="games_"+home.rnd().substr(0,5),n="//yandex."+e.MordaZone+"/games",r={};return t.tabs.forEach(function(t,e){t=home.deepExtend({},t);t.key=e,r[e]=t}),r.tabs=t.tabs,i=r[0],e.csp&&!e.csp.stub&&e.csp.allowImg("https://avatars.mds.yandex.net/get-games"),o(gr,{block:"games",rootMod:home.getBEMClassname("games",t)+" i-bem",mods:{"has-carousel":"yes",tabs:1<t.tabs.length?"yes":void 0},href:n,target:o(Q)?"_blank":"",title:o(vn),titleAttrs:{tabindex:0},titleStat:e.stat.getClientCounter("games.title"),tabs:t.tabs.map(function(t,e){var i=0===e,n=e;return o(Yt,{mods:{selected:i?"yes":"no"},mix:home.getBEMClassname("games__tab",{mods:{selected:i?"yes":"no"}}),content:t.ru,attrs:{tabindex:i?"0":"-1","aria-selected":i?"true":"false","aria-controls":i?s+"_panel_"+n:void 0,"data-key":n,"data-stat-select":"games.tab.select."+e,id:s+"_tab_"+n}})}).join(""),content:o(wn,{panel:o(pt,{block:"games",id:s,key:String(i.key),mix:" media-service__panel",attrs:{"aria-labelledby":s+"_tab_"+i.key},content:o(bn,{id:i.key,items:i.games})})}),attrs:{role:"complementary","aria-label":e.l10n("games.games"),"data-bem":home.getBEMParams({games:{data:r,live:!1,uniqId:s}})}})}function vn(t,e){return e.l10n("games.games")}function bn(t,e,i){var n="";return"dummy"===t.id?n=t.items:t.items&&(n=i(yn,t)),i(gi,{mix:"games__list-wrapper media-service__list-wrapper imageloader",wrapMix:"games__wrap media-service__wrap imageloader__scroller",listMix:"games__list media-service__list",content:n,mods:{theme:"media"},js:{"arrowed-list":{counter:"games"},imageloader:{}}})}function yn(n,o,s){var r=s(Q)?"_blank":"";return n.items.map(function(t,e){var i=t.coverUrlSet?{1:t.coverUrlSet["104x104"],2:t.coverUrlSet["208x208"]}:void 0;return s(yt,{stat:o.stat.getClientCounter("games.item.tab_"+n.id+"."+e+"(id="+t.id+")"),href:t.url,target:r,mix:"games__item media-service__item media-service__shadow imageloader__card",mods:{hover:"inherit"},attrs:{role:"listitem"},content:s(kn,{img:i?home.htmlFilter(JSON.stringify(i)):void 0,title:t.title,category:t.category[o.Locale]||t.category.ru,rating:s(pn,t)})})}).join("")}function wn(t){return"<div class='media-service__panels games__panels'>"+f.a.oneElem(t.panel)+"</div>"}function kn(t){return f.a.oneElem("<div class='games__item-header'>"+f.a.oneElem("<div "+_()({class:"games__item-img media-service__image imageloader__image","data-image":t.img})+"></div>")+"</div>")+f.a.oneElem("<div class='games__item-content'>"+(f.a.oneElem("<div class='games__item-title'>"+f.a.oneElem(t.title)+"</div>")+f.a.oneElem("<div class='games__item-category'>"+f.a.oneElem(t.category)+"</div>")+f.a.oneElem("<div class='games__item-rating'>"+f.a.oneElem(t.rating)+"</div>"))+"</div>")}function En(){return"<div class='games__item games__item_dummy_yes media-service__shadow'><div class='games__item-header'></div><div class='games__item-content games__item-content_dummy'><div class='games__item-placeholder games__item-placeholder_title'></div><div class='games__item-placeholder'></div></div></div>"}function Mn(t,e,i){var n=i(Yt,{content:"&nbsp;",stat:"",attrs:{hidden:!0}}),o=i(Fn,{panel:i(In,{id:"dummy"})});return i(gr,{block:"autoru-inserts",rootMod:"autoru-inserts-loader i-bem media-grid__autoru-inserts",mods:{"has-carousel":"yes",tabs:"yes"},tabs:[n],title:".",content:o,attrs:{role:"complementary","aria-label":".","data-bem":home.getBEMParams({"autoru-inserts-loader":t})}})}function xn(t){return"<span "+_()({class:"rouble".concat(x(t.mod))})+"></span>"}function Tn(i,n,o){var t="dummy"===i.id,e=i.items||[];return t?new Array(5).join(o(Cn,{mix:o(jn)})):e.map(function(t,e){return o(yt,{stat:n.stat.getClientCounter("autoru_inserts.item."+i.id,!1,{id:e}),href:o(Dn,t),target:i.linkTarget||"",mix:"autoru-inserts-items__item autoru-inserts__item imageloader__card"+o(jn),mods:{hover:"inherit"},attrs:{role:"listitem"},content:o(Sn,{img:home.getBEMParams({1:t.image.x1,2:t.image.x2}),imgMix:o(Rn),title:home.htmlFilter(t.nameplate||""),price:home.htmlFilter(t.price||"")})})}).join("")}function Sn(t,e,i){return f.a.oneElem("<div "+_()({class:"autoru-inserts-items__img imageloader__image ".concat(x(t.imgMix)),"data-image":t.img})+"></div>")+f.a.oneElem("<p class='autoru-inserts-items__content'>"+(f.a.oneElem("<span class='autoru-inserts-items__price'>"+f.a.oneElem(t.price)+" "+f.a.oneElem(i(xn,t))+"</span>")+f.a.oneElem("<span class='autoru-inserts-items__title'>"+f.a.oneElem(t.title)+"</span>"))+"</p>")}function Cn(t){return"<div "+_()({class:"autoru-inserts-items__item autoru-inserts-items__item_dummy autoru-inserts__item autoru-inserts__item_dummy ".concat(x(t.mix))})+"><div class='autoru-inserts-items__img'></div><div class='autoru-inserts-items__content autoru-inserts-items__content_dummy'><div class='autoru-inserts-items__placeholder'></div><div class='autoru-inserts-items__placeholder'></div></div></div>"}function Bn(t,e,i){var n=home.getData("autoru-inserts.data");if(n)return i(Mn,n)}function Pn(t,e,i){var n="autoru-inserts_"+home.rnd().substr(0,5),o=t.tabs[0];return i(gr,{block:"autoru-inserts",rootMod:home.getBEMClassname("autoru-inserts",t)+" i-bem media-grid__autoru-inserts",mods:{"has-carousel":"yes",tabs:"yes"},href:t.main.url.desktop,target:i(Q)?"_blank":"",title:t.main.title,titleStat:e.stat.getClientCounter("autoru_inserts.title"),tabs:t.tabs.map(function(t,e){e=0===e;return i(Yt,{mods:{selected:e?"yes":"no"},mix:home.getBEMClassname("autoru-inserts__tab",{mods:{selected:e?"yes":"no"}}),content:t.title,attrs:{tabindex:e?"0":"-1","aria-selected":e?"true":"false","aria-controls":e?n+"_panel_"+t.type:void 0,"data-key":t.type,id:n+"_tab_"+t.type,"data-stat-select":"autoru_inserts.tab.select."+t.type}})}).join(""),content:i(An,{panel:i(pt,{block:"autoru-inserts",mix:" media-service__panel",id:n,key:o.type,attrs:{"aria-labelledby":n+"_tab_"+o.type},content:i(In,{id:o.type,items:o.content,linkTarget:i(Q)?"_blank":""})})}),attrs:{role:"complementary","aria-label":t.main.title,"data-bem":home.getBEMParams({"autoru-inserts":{data:t.tabs.reduce(function(t,e){return t[e.type]=e,t},{}),live:!1,uniqId:n}})}})}function In(t,e,i){var n="autoru-inserts";return i(gi,{mix:n+"__list-wrapper media-service__list-wrapper imageloader",wrapMix:n+"__wrap media-service__wrap imageloader__scroller",listMix:n+"__list media-service__list",content:i(Tn,t),mods:{theme:"media"},js:{"arrowed-list":{counter:"autoru_inserts"},imageloader:{}}})}function Dn(t){return t.url.desktop}function On(t){ti.sendCounter("690.2096.277",["ft="+ti.normalize(Ze),"lt="+ti.normalize(Xe),"er=1","fr="+Qe,"t="+t,Je&&"u=1"])}Ke.prototype.sendCounts=function(t,e){var i,n,o,s,r=$("."+t),a=home.getData("rtb.counters");r&&r[0]&&a&&(i=a.shows,o=a.scriptMeasurers,s=a.mrcImpressions,t=a.winNotice,n=a.statPath,o&&BEM.blocks["i-measurers"].getAndCall(o,r[0]),t&&BEM.blocks["i-showed-counter"].setCounter({useIntersection:!1,blockId:"banner.winNotice",showedTime:0,urls:t}),s&&BEM.blocks["i-showed-counter"].setCounter({elem:r[0],blockId:"banner.mrcImpressions",showedTime:1e3,urls:s}),i&&i.length&&this.sendShowCounters(i,r,e),r.on("click",function(){home.stat.logPath("click",n)}))},Ke.prototype.sendShowCounters=function(t,e,i){var n=BEM.blocks["i-showed-counter"].setCounter({elem:e[0],blockId:"banner",urls:t,callback:function(){home.stat.logPath("show","rtb_vis.count"),e.off("mouseover",o)}}),o=function(){n(),e.off("click mouseover",o)};i||e.on("click mouseover",o)},Ke.prototype.addImageContent=function(){var t,e=home.getData("rtb.settings"),i=e&&e.mordaType;e&&i&&(t={desktop:e.isNtp?home.cls.full("rtb-wrapper"):home.cls.full("rtb-border"),touch:home.cls.full("rtb-image")},BEM.channel("adb").trigger("rendered",{id:i+".main.rtb.image",elem:$("."+t[i])[0]}),this.sendCounts(t[i],e.isMedia),e.href&&$("."+t[i]).click(function(){home.openWindow(e.href)}))},Ke.prototype.loadIframeContent=function(){var t,e,i,n,o,s,r=home.getData("rtb.settings");r&&(e=home.cls.full("rtb-iframe__content"),i=home.cls.full("rtb-iframe"),n=$("."+home.cls.full("rtb")).parent(),o=r.mordaType+".main.rtb.iframe",s=$('<iframe class="'+e+'" frameborder="no" scrolling="no" allowtransparency="true" hidefocus="true" tabindex="-1" marginwidth="0" marginheight="0" sandbox="allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-scripts allow-forms"></iframe>'),$("."+i).html(s),r.indexSrc?(s[0].onload=function(){BEM.blocks["i-performance"].checkUrlLoaded(r.indexSrc)?(this.sendCounts(e,r.isMedia),r.expandedIndexSrc&&this.expand(r)):n.hide()}.bind(this),s[0].src=r.indexSrc):(o+=".aadb",t=r.html.replace("<head>",'<head><base href="'+r.basePath+'" target="_blank"></base>'),(i=s[0].contentDocument).open(),i.write(t),i.close(),this.sendCounts(e,r.isMedia)),r.resize&&(s=function(i,t,e){function n(){l=!1===a.leading?0:(new Date).getTime(),c=null,r=i.apply(o,s),c||(o=s=null)}var o,s,r,a=2<arguments.length&&void 0!==e?e:{},c=null,l=0;return function(){var t=(new Date).getTime(),e=100-(t-(l=!l&&!1===a.leading?t:l));return o=this,s=arguments,e<=0||100<e?(c&&(clearTimeout(c),c=null),l=t,r=i.apply(o,s),c||(o=s=null)):c||!1===a.trailing||(c=setTimeout(n,e)),r}}(function(t,e){e=t.parent().width()/e.width,t.css("transform","scale("+e+")")}.bind(null,s,r),100),$(window).on("resize",s),s()),BEM.channel("adb").trigger("rendered",{id:o,elem:$("."+e)[0]}))},Ke.prototype.sendPopupShowCounter=function(t){t.expandedTrackings&&!t.popupStatsSent&&(t.expandedTrackings.forEach(function(t){(new Image).src=t}),t.popupStatsSent=!0)},Ke.prototype.expand=function(t){var e=$("."+home.cls.full("rtb-iframe"));e.append('<div class="rtb__expand_innerclick"></div>'),e.addClass("rtb__expand").append('<div class="rtb__expand_inner"></div>');var e=$(".popup_expand_banner"),i=e?e.bem("popup"):null;$(".rtb__expand_innerclick").click(function(){i&&(this.sendPopupShowCounter(t),i.addParamsAndShow(t.clickUrl)),$(window).trigger("bannerpopup.show")}.bind(this))},$(function(){var t=new Ke,e=home.getData("rtb.settings");e&&e.type&&("iframe"===e.type?t.loadIframeContent():"image"===e.type&&t.addImageContent())}),(ti=window.Ya&&Ya.Rum)&&ti.enabled&&window.PerformanceObserver&&window.requestAnimationFrame&&((Ye=J("timing.bannerMainImage"))&&(Je=!1,Qe=0,ti.onReady(function(){var t=performance.timing;t&&(Ge=t.responseEnd-t.navigationStart),requestAnimationFrame(function(){ti.isVisibilityChanged()||function(){var s,r=new PerformanceObserver(function(t){for(var e=t.getEntries(),i=0;i<e.length;i++){var n=e[i];if(Ye===n.name){var o=n.responseEnd;if(!o){if(!Ge)continue;Je=!0,o=Ge+n.duration}(void 0===Ze||o<Ze)&&(Ze=o),(void 0===Xe||Xe<o)&&(Xe=o),++Qe,r.disconnect(),On("ok"),clearTimeout(s)}}});try{r.observe({type:"resource",buffered:!0}),s=setTimeout(function(){try{r.disconnect(),On("tm")}catch(t){}},15e3)}catch(t){}}()})}))),i("hkQl"),BEM.DOM.decl("widgets",{onSetMod:{js:function(){var i;window.Widget&&(this.save=home.debounce(this.save.bind(this),50),this.history=[],this.historyAcceptedPosition=0,this.personalSettings=this.params.settings,this.initWapi(),this.channel("widget").on("commit",this.changeThis(function(t,e){this.commit(e)})),this.channel("widget").on("tuned",this.changeThis(function(t,e){this.history.push(e)})),this.bindToWin("beforeunload",function(){if(this.history.length!==this.historyAcceptedPosition&&this.hasMod("drag"))return"\n"+Object(s.a)("informationsMessages.settingsNotSaved")+"\n"}),this.params.add&&(this.collectWidgetsOnPage(),this.addWidget(this.params.add)),this.processHistoryState(),home.getData("widgets.altEdit"))&&(i=function(){var t=this.collectData();this.wsave(t,!1)}.bind(this),this.channel("widget").on("settingsSaved",i,this),this.bindToWin("widgetSettingsTuned",function(t,e){"save"===e.state&&i()}))}},_afterSetMod:function(){this.__base.apply(this,arguments),this.domElem.removeClass("i-bem widgets_js_inited")},initWapi:function(){var t=this.params,e=t.prototype,i={wauth:t.auth,layoutFixed:!0,addUrl:"/adddata/",formUrl:"/form.html?json=1",patternId:t.patternid,yu:t.yu,domain:t.domain,locale:t.locale,prototype:e,widgetStyle:t.widgetStyle,showPreferencesHandler:this.changeThis(this.showPrefs),gsid:this.params.gsid,version:t.version};e&&(i[e+"_prototype"]=e),t.geoid&&(i.geoid=Number(t.geoid)),Widget.Init(i)},showPrefs:function(t){this.findBlockOutside(t.$(),"widget").showPrefs()},collectWidgetsOnPage:function(){var t=Widget.Framework.all(),e={};t.forEach(function(t){t.params.is_default&&(e[t.classId]=!0)},this),this.widgetsOnPage=e},getMoved:function(){var i={};return this.history.forEach(function(t){var e;"drag"===t.type&&t.from!==t.to&&(e=t.id,i[e]?i[e].from===t.to?i[e]=null:i[e].to=t.to:i[e]={from:t.from,to:t.to})},this),i},collectData:function(t){var e=Widget.Framework.all(),i=this.getMoved(),e=e.map(function(t){return t.params.removed?{id:t.id,removed:!0}:(t.markChanged(t.id in i),{id:t.id,coord:t.params.position,usrCh:t.params.usrCh,settings:""})},this);return this.personalSettings=$.extend(!0,{},this.personalSettings),delete this.personalSettings.newpattern,t&&(e=e.concat(t)),{save:JSON.stringify({psettings:this.personalSettings,widgets:e})}},save:function(){var t=this.collectData();this.wsave(t,!0)},revert:function(){try{this.historyAcceptedPosition=this.history.length,window.location.href="/?ncrnd="+Math.random()}catch(t){}},reset:function(){window.confirm(Object(s.a)("informationsMessages.beforeReset"))&&this.wsave({delete:1})},wsave:function(t,i,n){$.ajax({url:"/wsave",data:$.extend(t,{wauth:this.params.auth||this.params.wpAuth,yu:this.params.yu,prototype:this.params.prototype}),traditional:!0,type:"post",dataType:"json",success:this.changeThis(function(t){var e;n||(this.historyAcceptedPosition=this.history.length),"ok"===t.result&&(i?this.channel("catalog").trigger("saved"):(e=window.location,setTimeout(function(){window.location="//"+e.host},500)))})})},updatePersonalSettings:function(t,e){null===e?delete this.personalSettings[t]:this.personalSettings[t]=e,this.wsave({save:JSON.stringify({psettings:this.personalSettings})},!0,!0)},addWidget:function(i){setTimeout(function(){var t=Widget.Framework.updateNo(i,"_topnews"===i?0:1),e=i+"-"+t,t={coord:this.getInsertPosition(),id:e,settings:"",usrCh:0},e=this.params.column10List||[];e.unshift(t);e=this.collectData(e);this.wsave(e,!1)}.bind(this),50)},commit:function(){this.save()},processHistoryState:function(){var t=window.location.hash.match(/^#open=(.+)/);if(window.history&&history.replaceState?$(window).one("load",function(){var e=home.parseUrl(location.toString(),{multi:!0});["add","sign","settings","from"].forEach(function(t){delete e.query[t]}),e.search="",history.replaceState(null,null,home.makeUrl(e))}):window.location.hash="m"+this.params.patternid,t&&t[1])for(var e=this.findBlocksInside("widget"),i=0;i<e.length;i++)if(0===e[i].getId().indexOf(t[1]))return void e[i].showPrefs()},getColumn:function(t,e){for(var i,n=-1,o=0;o<this.colParams.length;o++){var s=this.colParams[o],r=t<s.left?s.left-t:t>s.right?t-s.right:0,a=e<s.top?s.top-e:e>s.bottom?e-s.bottom:0,a=Math.max(r,a);(a<n||-1===n)&&(n=a,i=s)}return i},getColumnFromChild:function(t){for(var e=t.closest(".widgets__col"),i=0;i<this.colParams.length;i++){var n=this.colParams[i];if(n.elems.is(e))return n}},getColumnWidgets:function(t){return t.find(".widget:not(.widget_removed_yes):not(.widget_mode_hidden)").map(function(){var t=$(this),e=t.offset();return{elem:t,center:e.top+t.height()/2}}).toArray()},getAllColumnWidgets:function(t){return t.find(".widget:not(.widget_removed_yes)").map(function(){return{elem:$(this)}}).toArray()},getInsertPosition:function(){var n,o,s=-1;return[3,4,5].forEach(function(t){var e=this.elem("col","td",t).find(".widget:not(.widget_removed_yes):not(.widget_mode_hidden)").toArray(),i=e.length,e=e.reduce(function(t,e){return t+$(e).height()},0);(-1===s||e<s)&&(s=e,n=t,o=i+1)},this),n+":"+o},getWidgetById:function(t){return this.findBlockOn($("#wd-wrapper-"+t),"widget")},getWidgets:function(){var t;return this.widgets||(t=this.elem("col"),this.widgets=this.findBlocksInside(t,"widget")),this.widgets},recalculateParams:function(n){return this.colParams=[1,2].map(function(t){var e=this.elem("col","td",t),i=e.offset();return i.index=t,i.elems=e,i.height=e.height(),i.bottom=i.top+i.height,i.width=e.width(),i.right=i.left+i.width,i.widgets=n?this.getAllColumnWidgets(e):this.getColumnWidgets(e),i},this),this},recalculateWidgetCoords:function(){this.recalculateParams(!0),this.colParams.forEach(function(t,i){t.widgets.forEach(function(t,e){this.findBlockOn(t.elem,"widget").getInstance().params.position=i+1+":"+(e+1)},this)},this)}}),i("Fij0"),i("tJo/"),i("CoFk"),i("tijA"),i("ruje"),i("3b1C"),i("a52g"),BEM.DOM.decl({block:"etrains",modName:"client",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.init()}}},init:function(){var i,n=this.findBlockOutside("widget").getInstance(),t=this.params;n&&t.host&&(t=t.host+"widgets/suburban/next_trains",i={locale:BEM.blocks["i-global"].param("locale")},["rasp_to","rasp_direction","rasp_from","minutes_forward","minutes_backward","n"].forEach(function(t){var e=n.getValue(t);e&&(i[t]=e)}),$.ajax({url:t,data:i,dataType:"jsonp",success:this.changeThis(function(t){this.draw(t),$(window).trigger({type:"widgetLoaded",id:n.id})}),error:this.changeThis(function(){this.clear(),$(window).trigger({type:"widgetLoaded",id:n.id})})}))},draw:function(t){var e,i,n;t?(i=!0,n=this.params.counterType,t.routes_forward.length||(i=!1),e=p(ii,{from:t.from.name,to:t.to.name,today:t.routes_forward,host:this.params.host,direction:i,counterType:n}),n=p(ii,{from:t.to.name,to:t.from.name,today:t.routes_backward,host:this.params.host,direction:!i,counterType:n}),e||n||(e=n="")):e=n="",this.elem("tracks").append(e,n),home.stat.logDOMShow(this.domElem)},clear:function(){this.elem("tracks").empty()}}),i("cTAP"),i("lazP"),i("TkuS"),i("6Hjr"),BEM.DOM.decl("notifier",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}},opened:{yes:function(){this.__base.apply(this),this.domElem.attr("aria-expanded","true"),home.stat.logPath("click",this.params.from+".notifier.popup.show")},"":function(){this.__base.apply(this),this.domElem.attr("aria-expanded","false"),home.stat.logPath("resize",this.params.from+".notifier.popup.close")}}},_fetchCounter:function(){if(this.__self._fetchPromise)return this.__self._fetchPromise.then(this.onUpdateCounter.bind(this));var t=this.__base.apply(this,arguments);return this.__self._fetchPromise=t},onFetchCounterError:function(t){var e;t&&429===t.status||"DataNotFoundError"!==(e=t&&t.responseJSON&&t.responseJSON.error)&&home.error.logError({block:"notifier",method:"_fetchCounter",message:"Cannot load counter: "+(e||t&&t.status||"unknown"),sourceType:"network"})},onUpdateCounter:function(t){return void 0!==t&&(this.__base.apply(this,arguments),t?this.domElem.attr("aria-label",Object(s.a)("notifications.unread_full").replace("%count",t).replace("%word",home.decline(t,Object(s.a)("notifications.unread_word")))):this.domElem.attr("aria-label",Object(s.a)("notifications.no_unread"))),t},onFetchCounterSuccess:function(t){this.__base.apply(this,arguments),0===t.counter&&this.domElem.attr("aria-label",Object(s.a)("notifications.no_unread"))}},{hide:function(){$(".notifier").each(function(){var t=$(this);!t.hasClass("notifier_js_inited")||(t=t.bem("notifier"))&&t.getPopup().delMod("visible")})}}),i("hTyO"),i("ydIG"),i("qWmC"),i("aJtm"),i("imma");var jn=e(function(){return" media-service__item media-service__bg media-service__shadow"}),Rn=e(function(){return" media-service__image"});function An(t){return"<div class='media-service__panels autoru-inserts__panels'>"+f.a.oneElem(t.panel)+"</div>"}function Fn(t){return"<div class='media-service__panels autoru-inserts__panels'>"+f.a.oneElem("<div class='autoru-inserts__panel media-service__panel'>"+f.a.oneElem(t.panel)+"</div>")+"</div>"}function Nn(t,e,i){var n=t.event||{},o=Boolean(t.dummy),s=(t.mix||"")+" afisha-event-film",r={imageMix:t.imageMix||"",imageAttrs:t.imageAttrs||{}};return o?(s+=" afisha-event-film_dummy",r.content=i(P,{mod:"afisha-event-film__dummy-text"})):(r.imageAttrs["data-image"]||(r.imageMix+=" afisha-event-film__image_empty_yes",r.imageMix+=" afisha-event-film__image_empty-type_"+Math.floor(5*Math.random())),r.content=i(P,{mod:"afisha-event-film__title",content:home.prepareSpaces(n.full||n.name)})+i(P,{mod:"afisha-event-film__genre",content:n.genre||""})),n.release&&(n.premiere_badge=e.l10n("afisha.premiere")),r.premiere=i(Un,n),i(yt,{href:t.href,mix:s,stat:t.stat,content:i(Ln,r),target:i(Q)?"_blank":""})}function Ln(t){return f.a.oneElem("<span class='afisha-event-film__image-wrapper'>"+(f.a.oneElem("<span "+_()(Object.assign({class:"afisha-event-film__image ".concat(x(t.imageMix))},t.imageAttrs))+"></span>")+f.a.oneElem(t.premiere))+"</span>")+f.a.oneElem("<span class='afisha-event-film__content'>"+f.a.oneElem(t.content)+"</span>")}function Un(t,e,i){return t.premiere_badge?i(P,{mod:"afisha-event-film__premiere",content:home.capitalize(e.l10n("afisha.premiere").toLowerCase())}):""}function Hn(){return"<span class='afisha-event-show__dummy-text'></span>"}function zn(t,e,i){var n,o,s=t.event||{},r=Boolean(t.dummy),a=(t.mix||"")+" afisha-event-show",c={innerMix:t.innerMix||"",imageMix:t.imageMix||"",imageAttrs:t.imageAttrs||{}};return s.place||(s.place=e.l10n("afisha.multiple_locations")),s.title&&s.description&&s.place&&(a+=" afisha-event-show_content_full"),s.price&&((n={rub:i(xn,{}),kzt:"",byn:".."}[s.currency_code])?(o=s.price/100,c.price=i(P,{mod:"afisha-event-show__price",content:e.l10n("afisha.from").replace("%s",o+" "+n)})):home.error.logError({block:"afisha-event-show",message:"Unknown currency: "+s.currency_code})),r?(a+=" afisha-event-show_dummy",c.content=i(Hn)):(!c.imageAttrs["data-image"]&&s.type&&(c.imageMix+="afisha-event-show__image_empty_"+s.type+"_"+Math.floor(4*Math.random())),c.dates=Array.isArray(s.dates)&&s.dates.length?i(Wn,{dates:s.dates}):"",c.content=i($n,s)),i(yt,{mix:a,href:t.href,stat:t.stat,content:i(qn,c),target:i(Q)?"_blank":""})}function Wn(t,e,i){var n=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],t=t.dates,o=[],s=[];function r(t){t=new Date(t);isNaN(t.valueOf())||(o.push(t.getMonth()),s.push(t.getDate()))}return r(t[0]),t[0].split("-")[1]===t[t.length-1].split("-")[1]?(r(t[1]),o.length=1):(r(t[t.length-1]),s.length=0),i(P,{mod:"afisha-event-show__date afisha-event-show__date_days_"+s.length,content:(s.length?i(P,{mod:"afisha-event-show__day",content:s.join(", ")}):"")+o.map(function(t){return i(P,{mod:"afisha-event-show__month",content:e.l10n("months_short_genetive."+n[t])})}).join("")})}function $n(i,t,n){return["title","description","place"].reduce(function(t,e){return i[e]&&(t+=n(P,{mod:"afisha-event-show__"+e,content:i[e]})),t},"")}function qn(t){return"<span "+_()({class:"afisha-event-show__inner ".concat(x(t.innerMix))})+">"+(f.a.oneElem("<span "+_()(Object.assign({class:"afisha-event-show__image ".concat(x(t.imageMix))},t.imageAttrs))+"></span>")+f.a.oneElem(t.price)+f.a.oneElem("<span class='afisha-event-show__content'>"+(f.a.oneElem("<span class='afisha-event-show__text'>"+f.a.oneElem(t.content)+"</span>")+f.a.oneElem(t.dates))+"</span>"))+"</span>"}function Vn(t,e,i){var n=home.getData("afisha-inserts.data");if(n)return i(Kn,n)}function Kn(t,e,i){var n=t.retryButtonTheme,o=e.zenInsert,s=t.afisha.events,r=i(Gn,{tabs:t.afisha.tabs,defaultTab:"cinema"}),a="afisha-inserts_"+home.rnd().substr(0,5);return t.mods=t.mods||{},i(gr,{block:"afisha-inserts",layoutName:"afisha_inserts",rootMod:home.getBEMClassname("afisha-inserts",t)+" i-bem media-grid__afisha-inserts",mods:{"has-carousel":"yes",tabs:1<r.length?"yes":void 0},href:t.href,target:i(Q)?"_blank":"",title:i(Yn),titleStat:e.stat.getClientCounter("afisha_inserts.title"),tabs:r.join("")||" ",content:i(Qn,{panelId:a+"_panels",panel:i(pt,{block:"afisha-inserts",id:a,key:"cinema",mix:" media-service__panel",attrs:{"aria-labelledby":a+"_tab_cinema"},content:i(Zn,{key:"cinema",events:s})})}),attrs:{role:"complementary","aria-label":e.l10n("a11y.afisha"),"data-bem":home.getBEMParams({"afisha-inserts":{selectedKey:"cinema",retryButtonTheme:n,live:!o,uniqId:a,geoId:t.geoId,locale:t.locale}})}})}function Yn(t,e){return e.l10n("afisha.title")}function Gn(n,o,s){var r=[],t=n.tabs||[];return(t=0<t.length?[{id:"cinema"}].concat(t):t).forEach(function(t){var e=t.id===n.defaultTab,i=t.title||o.l10n("afisha."+t.id);r.push(s(Yt,{mods:{selected:e?"yes":"no"},mix:home.getBEMClassname("afisha-inserts__tab",{mods:{selected:e?"yes":"no"}}),content:i,attrs:{tabindex:e?0:-1,"aria-selected":e?"true":"false","aria-controls":e?"afisha-inserts_panel_"+t.id:void 0,"data-key":t.id,id:"afisha-inserts_tab_"+t.id,"data-stat-select":"afisha_inserts.tab.select."+t.id}}))}),r}function Zn(t,n,o){var e,s="afisha_inserts.link.cinema."+("cinema"===t.key?"all":"fav");return t.events&&t.events.length?(e=t.events.map(function(t){var e,i;return(e=t.posters&&Object.keys(t.posters).length)&&(i=t.posters.base?{1:t.posters.base+"/120x180",2:t.posters.base+"/240x360"}:t.posters.raw||{1:t.posters["120x180"],2:t.posters["240x360"]}),t.genre=(t.genre||"").toLowerCase(),o(Nn,{href:t.href,mix:"afisha-inserts__event afisha-inserts__event_type_film media-service__item home-link_hover_inherit imageloader__card",imageMix:"media-service__shadow media-service__image imageloader__image",imageAttrs:{"data-image":e?home.htmlFilter("string"==typeof i?i:JSON.stringify(i)):void 0},stat:n.stat.getClientCounter(s),event:t})}).join(""),o(Xn,{content:e,js:{counter:"afisha_inserts"}})):(e=n.l10n("afisha.cinemaNoSessions"),t.cinema&&t.cinema.href&&(e+=o(Hi,{mix:"afisha-inserts__no-films-link",mods:{theme:"normal",size:"s"},content:n.l10n("afisha.cinemaSeeNextDay"),url:home.addQueryToUrl(t.cinema.href,{"schedule-preset":"tomorrow"}),stat:n.stat.getClientCounter("afisha_inserts.no_timetable")})),o(to,{content:e}))}function Xn(t,e,i){var n="afisha-inserts";return i(gi,{mix:n+"__list-wrapper media-service__list-wrapper",wrapMix:n+"__wrap media-service__wrap imageloader__scroller",listMix:n+"__list media-service__list",content:t.content,mods:{theme:"media","arrow-position":"weighted"},js:{"arrowed-list":t.js,imageloader:{}}})}function Jn(i,n,o){var t,s="afisha_inserts.link."+i.key+".all";return i.events&&i.events.length?(n.stat.logShow(s),t=i.events.map(function(t){var e;return t.image_url&&(e=t.image_url.raw||{1:t.image_url+"/s280x136",2:t.image_url+"/s560x272"}),t.type=i.key,o(zn,{href:t.url,mix:"afisha-inserts__event afisha-inserts__event_type_show media-service__item home-link_hover_inherit imageloader__card",innerMix:"media-service__shadow",imageMix:"media-service__image imageloader__image",imageAttrs:{"data-image":e?home.htmlFilter("string"==typeof e?e:JSON.stringify(e)):void 0},stat:n.stat.getAttr(s,null,{logShow:!1}),event:t})}).join(""),o(Xn,{content:t,js:{counter:"afisha_inserts"}})):(t=n.l10n("afisha.sorry"),o(to,{content:t}))}function Qn(t){return"<div "+_()({class:"media-service__panels afisha-inserts__panels",id:t.panelId})+">"+f.a.oneElem(t.panel)+"</div>"}function to(t){return"<div class='afisha-inserts__panel-empty'>"+f.a.oneElem("<div class='afisha-inserts__panel-empty-center'>"+f.a.oneElem(t.content)+"</div>")+"</div>"}function eo(t,e,i){var n=home.getData("rtb-inserts.data")||{},e=$.extend({},n.clientData,{live:e.zenInsert});return i(io,$.extend({},n,{clientData:e}))}function io(t,e,i){if(t){if(t.clientData){var n=e.cls.full("rtb-inserts"),o=e.cls.full("rtb-inserts_dummy"),s=e.cls.full("rtb-inserts_type_native"),r={},e=t.clientData&&t.clientData.nativeExp;return window.home.rtbInserts=t.clientData,r[n]={},i(C,{content:"."+o+"{height:"+t.height+"px;}"})+i(B,{mix:[n,o,"i-bem",e?s:""].join(" "),attrs:{id:n,"data-bem":home.getBEMParams(r)}})}home.error({block:"rtb-insert",method:"rtb-inserts__client-view",message:"Missing client data"})}}function no(t,e,i){var n=t.mods||{},o=t.mix||"",s=i(oo,{title:t.title,text:t.text.replace("<br>"," <br>"),innerMix:t.innerMix||"",imageMix:t.imageMix||"",imageAttrs:t.imageAttrs||{}});return n.black="yes",i(yt,{href:t.href,stat:t.stat||"",mods:n,mix:"tutor-card "+o,content:s})}function oo(t){return"<span "+_()({class:"tutor-card__inner ".concat(x(t.innerMix))})+">"+(f.a.oneElem("<span class='tutor-card__image-wrapper'>"+f.a.oneElem("<span "+_()(Object.assign({class:"tutor-card__image ".concat(x(t.imageMix))},t.imageAttrs))+"></span>")+"</span>")+f.a.oneElem("<span class='tutor-card__content'>"+(f.a.oneElem("<span class='tutor-card__title i-multiline-overflow'>"+f.a.oneElem(t.title)+"</span>")+f.a.oneElem("<span class='tutor-card__text i-multiline-overflow'>"+f.a.oneElem(t.text)+"</span>"))+"</span>"))+"</span>"}function so(t,e,i){var n=home.getData("tutor.data");return n&&i(ro,n)}function ro(t,e,i){var n=e.zenInsert,o=t.tabs.map(function(t,e){return i(pt,{block:"tutor",id:"tutor",key:e,mix:" media-service__panel",content:i(ao,{key:e,cards:t.cards}),attrs:{style:0===e?"":"display: none;","aria-labelledby":"tutor_tab_"+e}})}).join("");return i(gr,{block:"tutor",rootMod:"tutor media-grid__tutor i-bem",href:t.href,title:t.title,titleStat:e.stat.getClientCounter("tutor.title"),mods:{"has-carousel":"yes",tabs:1<t.tabs.length?"yes":void 0},tabs:i(co,{tabs:t.tabs,defaultTab:0}),content:i(lo,{panels:o}),attrs:{role:"complementary","aria-label":t.title,"data-bem":home.getBEMParams({tutor:{live:!n,uniqId:"tutor",selectedKey:0}})}})}function ao(t,n,o){t=(t.cards||[]).map(function(t,e){var i=t.icons||[];return o(no,{title:t.title,text:t.text,href:t.url,mix:"tutor__card media-service__item imageloader__card",innerMix:"media-service__shadow",mods:{hover:"inherit"},stat:n.stat.getClientCounter("tutor.link."+e),imageMix:"media-service__image imageloader__image",imageAttrs:{"data-image":home.getBEMParams({1:i[0],2:i[2]})}})}).join("");return o(gi,{mix:"tutor__list-wrapper media-service__list-wrapper imageloader",wrapMix:"tutor__wrap media-service__wrap imageloader__scroller",listMix:"tutor__list media-service__list",mods:{theme:"media"},js:{"arrowed-list":{counter:"tutor"},imageloader:{}},content:t})}function co(n,t,o){return(n.tabs||[]).map(function(t,e){var i=e===n.defaultTab;return o(Yt,{mix:home.getBEMClassname("tutor__tab",{mods:{selected:i?"yes":"no"}}),mods:{selected:i?"yes":"no"},content:t.title,attrs:{tabindex:i?"0":"-1","aria-selected":i?"true":"false","aria-controls":i?"tutor_panel_"+e:void 0,"data-key":e,id:"tutor_tab_"+e,"data-stat-select":"tutor.tab.select."+e}})}).join("")}function lo(t){return"<div class='media-service__panels tutor__panels'>"+f.a.oneElem(t.panels)+"</div>"}function ho(t,e,i){var n=home.getData("banner-inserts.data");if(n)return i(uo,n)}function uo(t,e,i){var n=t.borderColor,o=t.href,s=t.isInsert,r=t.stat,t=i(po,{url:t.image,attrs:{style:"border-color: "+n}})+i(_o,{showUrl:t.showUrl}),t=i(yt,{mix:"banner-inserts__link",href:o,content:t,stat:r,target:"_blank"});return i(mo,{rootMod:"imageloader imageloader_scroll_no i-bem",content:t,attrs:{"data-bem":home.getBEMParams({imageloader:{},"banner-inserts":{live:!s}})}})}function mo(t){return"<div "+_()(Object.assign({class:"banner-inserts ".concat(x(t.rootMod))},t.attrs))+">"+f.a.oneElem(t.content)+"</div>"}function po(t){return"<div "+_()(Object.assign({class:"banner-inserts__image imageloader__image imageloader__image_loaded_no","data-image":t.url},t.attrs))+"></div>"}function _o(t){return"<img "+_()({src:t.showUrl,"aria-hidden":"true",style:"display: none;"})+">"}function fo(t){return"<div class='dummy-cards'>"+f.a.oneElem(t.content)+"</div>"}function go(t,e,i){var n=i(vo),o=0;function s(t){return(t/13).toFixed(4)+"em"}for(var r=[];o<n.targetWidth;)r.push(i(B,{mix:"dummy-cards__card",attrs:{style:home.makeStyle({width:s(t.width),height:s(t.height||n.defaultHeight),"margin-right":s(n.space)})}})),o+=t.width;return i(fo,{content:r.join("")})}var vo=e(function(){return{targetWidth:700,space:4,defaultHeight:180}});function bo(t,e,i){return new Array(2).join(i(Yt,{mods:{dummy:"yes"},content:"&nbsp;"}))}function yo(t,e,i){var n={content:"api_data_big",lang:t.locale};return e.TestingInstance&&e.Getargshash&&(n.date=e.Getargshash.date,n.time=e.Getargshash.time),i(gr,{block:"news-inserts",rootMod:home.getBEMClassname("nhl",{mods:{state:"loading",dark:t.isDark?"yes":""}})+" i-bem",mods:{"has-carousel":"yes",tabs:"yes"},title:e.l10n("hockey.nhl_title"),tabs:i(bo),content:i(ns,{panel:i(pt,{block:"nhl",id:"nhl",key:"dummy",mix:" media-service__panel",attrs:{"aria-labelledby":"nhl_tab_dummy"},content:i(ts,{dummy:!0})})}),attrs:{role:"complementary","aria-label":e.l10n("hockey.nhl_title"),"data-bem":home.getBEMParams({"nhl-loader":{isDark:t.isDark,url:home.makeUrl({path:"/portal/hockey/main/",query:n}),query:n,hide_spoilers:t.hide_spoilers,hide_spoilers_url:t.hide_spoilers_url,show_spoilers_url:t.show_spoilers_url,retryButtonTheme:t.retryButtonTheme,useSprite:t.useSprite,logged:t.logged,authUrl:t.authUrl,autoscroll:t.autoscroll}})}})}function wo(t,e,i){return i(P,{mod:home.getBEMClassname("tumbler__text",{mods:{side:t.side},mix:t.mix}),content:t.content})}function ko(t,e,i){return i(P,{mod:home.getBEMClassname("tumbler__label",{mods:{side:t.side}}),content:i(wo,{side:t.side,mix:t.textMix,content:t.content})})}function Eo(t,e,i){return i(B,{mix:home.getBEMClassname("tumbler__sticker",{mods:t.mods}),attrs:{"aria-hidden":"true"},content:t.content})}function Mo(t,e,i){return i(B,{mix:"tumbler__sticker-label",content:t.content})}function xo(t,e,i){return i(P,{mod:"tumbler__box",content:i(Eo,{mods:{position:"left"},content:i(Mo,{content:e.l10n("tumbler.on")})})+i(Eo,{mods:{position:"right"},content:i(Mo,{content:e.l10n("tumbler.off")})})+i(Hi,{js:{prvntKeys:["ENTER"],clickKeys:["SPACE"]},mods:{view:"classic"===t.view?"classic":void 0,theme:"normal",disabled:t.disabled?"yes":void 0},tabindex:t.tabindex,attrs:{"aria-labelledby":t.leftId||t.rightId,"aria-pressed":t.checked},mix:"tumbler__button"})})}function To(t,e,i){var n=t.checked?t.rightId||t.leftId:t.leftId||t.rightId;return i(So,{attrs:{"data-bem":home.getBEMParams({tumbler__input:{_values:t.values}}),name:t.name,checked:t.checked,value:t.values[Number(t.checked)],disabled:t.disabled,tabindex:-1,autocomplete:"off","aria-hidden":"true","aria-labelledby":n}})}function So(t){return"<input "+_()(Object.assign({type:"checkbox",class:"tumbler__input"},t.attrs))+">"}function Co(t,e,i){function n(t){"left"!==t.side&&"right"!==t.side&&home.error("tumbler:   option    side   left  right"),"left"===t.side&&(r=i(ko,t)),"right"===t.side&&(a=i(ko,t))}var o=t.id||home.rnd(),s=void 0===t.content?[]:[].concat(t.content),r="",a="",c=t.mods||{};c.view||(c.view="classic"),s[0]&&n(s[0]),s[1]&&n(s[1]);o={values:[r.value||"false",a.value||"true"],view:c.view,name:t.name||o,leftId:r?"left"+o:void 0,rightId:a?"right"+o:void 0,tabindex:t.tabindex||0,checked:"yes"===c.checked,disabled:"yes"===c.disabled};return i(P,{mod:home.getBEMClassname("tumbler",{mix:"i-bem"+(t.mix?" "+t.mix:""),mods:c}),attrs:{"data-bem":home.getBEMParams({tumbler:home.deepExtend({live:!1},t.js||{})})},content:r+i(xo,o)+a+i(To,o)})}function Bo(t,e,i){return"<div "+_()({class:"".concat(w("promo-pusher-button",t||{})," i-bem"),"data-bem":b(t.js||{}),title:e.l10n("promo_event.subscribe_title")})+"><svg class='promo-pusher-button__icon' viewbox='0 0 16 16'><path d='M8 16a2.5 2.5 0 0 0 2.5-2.5h-5A2.5 2.5 0 0 0 8 16z' fill='#fff'/><path fill-rule='evenodd' clip-rule='evenodd' d='M7 1a1 1 0 0 1 2 0v.609a4.635 4.635 0 0 1 3.596 3.945l.49 3.896a3.554 3.554 0 0 0 1.119 2.17l.353.325c.36.332.47.856.272 1.305-.2.456-.652.75-1.15.75H2.32a1.26 1.26 0 0 1-1.152-.75 1.145 1.145 0 0 1 .272-1.306l.353-.324A3.554 3.554 0 0 0 2.91 9.45l.49-3.896A4.635 4.635 0 0 1 7 1.608V1zm4.102 8.7c.104.825.548 1.8 1.048 2.3h-8.3c.5-.5.941-1.475 1.045-2.3l.49-3.896a2.633 2.633 0 0 1 5.226 0l.491 3.896z' fill='#fff'/></svg><div class='promo-pusher-button__icon-progress'></div><div class='promo-pusher-button__icon-active'></div>"+f.a.oneElem(i(Si,t))+"</div>"}function Po(t,e,i){if("table"===t.type)return i(Io,t);if("news"===t.type)return i(Oo,t);if("schedule"===t.type)return i(jo,t);var n,o,s,r,a,c=Boolean(t.content_id);return c&&(t.is_vod?n="":"in_progress"===t.status?n=e.l10n("hockey.live"):"finished"===t.status&&(n=e.l10n("hockey.vod"))),t.teams&&"not_started"!==t.status&&("in_progress"!==t.status&&"finished"!==t.status||(o=t.teams[0].result,s=t.teams[1].result),"finished"===t.status&&("shootout"===t.m_end_status?a=e.l10n("hockey.finishB"):"overtime"===t.m_end_status&&(a=e.l10n("hockey.finishOT")),a&&(t.teams[0].winner?o+=" "+a:s+=" "+a)),r=i(Fo,{useSprite:t.useSprite,id:t.teams[0].id,icon:t.teams[0].icon}),a=i(Fo,{useSprite:t.useSprite,id:t.teams[1].id,icon:t.teams[1].icon})),i(yt,{mix:home.getBEMClassname("nhl-item",{mods:{stream:c?"yes":""},mix:"i-bem imageloader__card imageloader__column "+i(Zo)}),href:t.url,stat:e.stat.getAttr("nhl.match.link"),target:t.linkTarget,attrs:{"data-bem":home.getBEMParams({"nhl-item":{}})},content:i(Lo,{topBadge:n?i(Uo,{mods:{live:"in_progress"===t.status?"yes":""},mix:"nhl-item__badge",content:n}):"",push:"not_started"===t.status&&t.push&&e.pushSupported?i(Bo,{mods:{theme:"nhl"},mix:"nhl-item__push",text:e.l10n("promo_event.subscribe_title2"),js:{"promo-pusher-button":{counter:"nhl.match.sup",tags:[{name:t.push.tag,value:t.push.value,expiryDate:t.push.expire}],subscribedText:e.l10n("promo_event.subscribed")}}}):"",play:c?i(Ho):"",teams:t.teams&&"not_started"!==t.status?i(zo,{bg0:t.teams[0].bg,bg1:t.teams[1].bg,icon0:r,icon1:a,text0:void 0!==o?i(B,{mix:"nhl-item__team-text",content:o}):"",text1:void 0!==s?i(B,{mix:"nhl-item__team-text",content:s}):""}):"",bottomBadge:t.duration?i(B,{mix:"nhl-item__badge nhl-item__bottom-badge",content:t.duration}):"",img:t.img,text:t.teams?t.teams[0].name+"  "+t.teams[1].name:t.text,textMods:{mods:{long:t.is_vod?"yes":""},mix:t.is_vod?"i-multiline-overflow":""},status:t.status_name})})}function Io(e,t,i){var n=i(No);return i(Wo,{mix:"imageloader__card imageloader__column "+i(Zo),mods:{table:"yes"},teams:e.teams.slice(0,n).map(function(t){return t.useSprite=e.useSprite,i(Do,t)}).join(""),button:i(Hi,{mods:{theme:"normal",size:e.isTouch?"touch":"nhl",view:"default",tone:e.isDark?"dark2":"default"},url:e.table_url,stat:t.stat.getAttr("nhl.item.table"),content:t.l10n("hockey.full_standings"),mix:"nhl-item__table-button"})})}function Do(t,e,i){return t.icon=i(Fo,t),i(yt,{href:t.url,stat:e.stat.getAttr("nhl.item.team"),mix:"nhl-item__table-row",content:i($o,t)})}function Oo(t,e,i){return i(yt,{href:t.url,stat:e.stat.getAttr("nhl.item.news"),target:t.linkTarget,mix:"nhl-item i-bem nhl-item_news_yes imageloader__card imageloader__column "+i(Zo),attrs:{"data-bem":home.getBEMParams({"nhl-item":{}})},content:i(t.img?qo:Vo,t)})}function jo(e,t,i){var n=i(No);return i(Yo,{mix:"imageloader__card imageloader__column "+i(Zo),mods:{schedule:"yes"},title:e.title,events:e.events.slice(0,n).map(function(t){return t.useSprite=e.useSprite,i(Ro,t)}).join(""),button:i(Hi,{mods:{theme:"normal",size:e.isTouch?"touch":"nhl",view:"default",tone:e.isDark?"dark2":"default"},url:e.button_url,stat:t.stat.getAttr("nhl.item.schedule"),content:e.button_text,mix:"nhl-item__table-button"})})}function Ro(t,e,i){var n,o,s,r,a=" : ",c=" : ";return"in_progress"===t.status||"finished"===t.status?(s=t.teams[0].score,r=t.teams[1].score,"finished"===t.status&&("shootout"===t.m_end_status?o=e.l10n("hockey.finishB"):"overtime"===t.m_end_status&&(o=e.l10n("hockey.finishOT"))),o&&(t.teams[0].winner?s+=" "+o:r+=" "+o),a=s+" : "+r):"not_started"===t.status&&t.start&&(a=c=t.start),"not_started"===t.status?n="notstarted":"in_progress"===t.status?n="inprogress":"finished"===t.status&&(n="finished"),i(yt,{href:t.url,stat:e.stat.getAttr("nhl.item.schedule_match"),mix:"nhl-item__table-row nhl-item__schedule-row"+(n?" nhl-item__schedule-row_status_"+n:""),content:i(Go,{name0:t.teams[0].name,icon0:i(Fo,{useSprite:t.useSprite,id:t.teams[0].id,icon:t.teams[0].icon}),name1:t.teams[1].name,icon1:i(Fo,{useSprite:t.useSprite,id:t.teams[1].id,icon:t.teams[1].icon}),score:a,hiddenScore:c})})}var Ao=e(function(){var n=["80790","80791","80792","80793","80794","80796","80798","80800","80803","80805","80807","80809","80816","80818","80820","80822","80824","80826","80828","80830","80833","80835","80837","80841","80842","80843","80844","80845","80846","80847","85232"];return n.reduce(function(t,e,i){return t[e]=(100*(52*i+2)/(52*n.length-48)).toFixed(3),t},{})});function Fo(t,e,i){i=i(Ao);return t.useSprite&&t.id in i?{style:"background-position:"+i[t.id]+"% 0",mix:"nhl-item__icon_sprite_yes"}:{style:"background-image:url("+t.icon+")",mix:""}}function No(){return 5}function Lo(t){return f.a.oneElem("<div "+_()({class:"nhl-item__top imageloader__image imageloader__image_loaded_no","data-image":t.img})+">"+(f.a.oneElem(t.topBadge)+f.a.oneElem(t.push)+f.a.oneElem(t.play)+f.a.oneElem(t.teams)+f.a.oneElem(t.bottomBadge))+"</div>")+f.a.oneElem("<div class='nhl-item__bottom'>"+(f.a.oneElem("<div "+_()({class:w("nhl-item__text",t.textMods||{})})+">"+f.a.oneElem(t.text)+"</div>")+f.a.oneElem("<div class='nhl-item__status'>"+f.a.oneElem(t.status)+"</div>"))+"</div>")}function Uo(t){return"<div "+_()({class:w("nhl-item__top-badge",t||{})})+">"+f.a.oneElem(t.content)+"</div>"}function Ho(){return"<div class='nhl-item__play'></div>"}function zo(t){var e;return f.a.oneElem("<div "+_()({class:"nhl-item__teams",style:"background:".concat(x(t.bg0))})+">"+(f.a.oneElem("<div class='nhl-item__team'>"+(f.a.oneElem("<div "+_()({class:"nhl-item__icon ".concat(x(null===(e=t.icon0)||void 0===e?void 0:e.mix)),style:null===(e=t.icon0)||void 0===e?void 0:e.style})+"></div>")+f.a.oneElem(t.text0))+"</div>")+f.a.oneElem("<div "+_()({class:"nhl-item__team",style:"background:linear-gradient(110deg,transparent,transparent 12px,".concat(x(t.bg1)," 12.5px,").concat(x(t.bg1),")")})+">"+(f.a.oneElem(t.text1)+f.a.oneElem("<div "+_()({class:"nhl-item__icon ".concat(x(null===(e=t.icon1)||void 0===e?void 0:e.mix)),style:null===(t=t.icon1)||void 0===t?void 0:t.style})+"></div>"))+"</div>"))+"</div>")}function Wo(t,e){return"<div "+_()({class:w("nhl-item",t||{})})+">"+(f.a.oneElem("<div class='nhl-item__table'>"+(f.a.oneElem("<div class='nhl-item__table-row'>"+(f.a.oneElem("<span class='nhl-item__table-cell_head nhl-item__table-cell nhl-item__table-cell_name'>"+f.a.oneElem(e.l10n("hockey.tournament_table"))+"</span>")+f.a.oneElem("<span class='nhl-item__table-cell_head nhl-item__table-cell nhl-item__table-cell_num'>"+f.a.oneElem(e.l10n("hockey.points"))+"</span>")+f.a.oneElem("<span class='nhl-item__table-cell_head nhl-item__table-cell nhl-item__table-cell_num'>"+f.a.oneElem(e.l10n("hockey.games"))+"</span>"))+"</div>")+f.a.oneElem(t.teams))+"</div>")+f.a.oneElem(t.button))+"</div>"}function $o(t){var e;return f.a.oneElem("<span class='nhl-item__table-cell nhl-item__table-cell_name'>"+(f.a.oneElem("<span "+_()({class:"nhl-item__table-icon nhl-item__table-icon_left nhl-item__icon nhl-item__icon_size_s ".concat(x(null===(e=t.icon)||void 0===e?void 0:e.mix)),style:null===(e=t.icon)||void 0===e?void 0:e.style})+"></span>")+f.a.oneElem(t.name))+"</span>")+f.a.oneElem("<span class='nhl-item__table-cell nhl-item__table-cell_num'>"+f.a.oneElem(t.score)+"</span>")+f.a.oneElem("<span class='nhl-item__table-cell nhl-item__table-cell_num'>"+f.a.oneElem(t.games)+"</span>")}function qo(t){return f.a.oneElem("<div "+_()({class:"nhl-item__news-image imageloader__image imageloader__image_loaded_no","data-image":t.img})+"></div>")+f.a.oneElem("<div class='nhl-item__news-text i-multiline-overflow'>"+f.a.oneElem(t.text)+"</div>")}function Vo(t){return f.a.oneElem("<div class='nhl-item__news-text nhl-item__news-text_title_yes i-multiline-overflow'>"+f.a.oneElem(t.text)+"</div>")+f.a.oneElem("<div class='nhl-item__news-subtext i-multiline-overflow'>"+f.a.oneElem(t.subtext)+"</div>")}function Ko(t,e,i){return"<div "+_()({class:"nhl-item nhl-item_dummy ".concat(i(Zo,t))})+"></div>"}function Yo(t){return"<div "+_()({class:w("nhl-item",t||{})})+">"+(f.a.oneElem("<div class='nhl-item__schedule-title'>"+f.a.oneElem(t.title)+"</div>")+f.a.oneElem("<div class='nhl-item__table nhl-item__table_schedule_yes'>"+f.a.oneElem("<tbody>"+f.a.oneElem(t.events)+"</tbody>")+"</div>")+f.a.oneElem(t.button))+"</div>"}function Go(t){var e;return f.a.oneElem("<span class='nhl-item__table-cell nhl-item__table-cell_team'>"+f.a.oneElem("<span "+_()({class:"nhl-item__schedule-name-wrapper",title:t.name0})+">"+(f.a.oneElem("<span "+_()({class:"nhl-item__table-icon nhl-item__table-icon_left nhl-item__icon nhl-item__icon_size_s ".concat(x(null===(e=t.icon0)||void 0===e?void 0:e.mix)),style:null===(e=t.icon0)||void 0===e?void 0:e.style})+"></span>")+f.a.oneElem("<span class='nhl-item__schedule-name'>"+f.a.oneElem(t.name0)+"</span>"))+"</span>")+"</span>")+f.a.oneElem("<span class='nhl-item__table-cell nhl-item__table-cell_score'>"+(f.a.oneElem("<div class='nhl-item__schedule-score'>"+f.a.oneElem(t.score)+"</div>")+f.a.oneElem("<div class='nhl-item__schedule-score-placeholder'>"+f.a.oneElem(t.hiddenScore)+"</div>"))+"</span>")+f.a.oneElem("<span class='nhl-item__table-cell nhl-item__table-cell_team nhl-item__table-cell_team-right'>"+f.a.oneElem("<span "+_()({class:"nhl-item__schedule-name-wrapper",title:t.name1})+">"+(f.a.oneElem("<span class='nhl-item__schedule-name'>"+f.a.oneElem(t.name1)+"</span>")+f.a.oneElem("<span "+_()({class:"nhl-item__table-icon nhl-item__table-icon_right nhl-item__icon nhl-item__icon_size_s ".concat(x(null===(e=t.icon1)||void 0===e?void 0:e.mix)),style:null===(t=t.icon1)||void 0===t?void 0:t.style})+"></span>"))+"</span>")+"</span>")}function Zo(){return"media-service__shadow home-link_hover_inherit"}function Xo(t,e,i){var n=t.mods||{};n.view=n.view||"classic";var o=t.js||{};return i(k,{mods:home.deepExtend({target:"anchor",hiding:"yes",autoclosable:t.mods&&t.mods.autoclosable||"no",theme:"normal",view:t.mods&&t.mods.view},t.popupMods||{}),directions:o.to||["right-center","bottom-center","top-center","left-center"],mainOffset:o.mainOffset,secondaryOffset:o.secondaryOffset,tailOffset:o.tailOffset,zIndexGroupLevel:o.zIndexGroupLevel,mix:home.getBEMClassname("tooltip",{mods:n,mix:t.mix}),content:i(B,{mix:"tooltip__backdrop",content:!1!==t.tail&&i(B,{mix:"popup2__tail",content:""})})+i(B,{mix:"tooltip__content",content:t.content})})}function Jo(t,e,i){var n=home.getData("nhl.data");if(n)return i(yo,n)}function Qo(n,t,o){var e=n.tabs[0].id,i={live:!t.zenInsert,data:{},useSprite:n.useSprite,query:n.query,retryButtonTheme:"adaptive-pseudo"};i.data[e]={items:n[e],useSprite:n.useSprite};var s="hideSpoilers"in n&&n.hideSpoilersUrl;return s&&(i.showSpoilers=n.showSpoilersUrl,i.hideSpoilers=n.hideSpoilersUrl,i.logged=n.logged,i.authUrl=n.authUrl,i.autoscroll=n.autoscroll),o(gr,{block:"nhl",rootMod:home.getBEMClassname("nhl",{mods:{"hide-score":s&&n.hideSpoilers?"yes":""}})+" i-bem",mods:{"has-carousel":"yes",tabs:"yes"},href:n.url,title:o(es),target:o(Q)?"_blank":"",titleStat:t.stat.getClientCounter("nhl.title",!1,{rtxreqid:n.rtxreqid}),tabs:n.tabs.map(function(t,e){var i=0===e;return o(Yt,{mods:{selected:i?"yes":"no"},mix:home.getBEMClassname("nhl__tab",{mods:{selected:i?"yes":"no",last:e===n.tabs.length-1?"yes":""}}),content:t.title,attrs:{tabindex:i?"0":"-1","aria-selected":i?"true":"false","aria-controls":i?"nhl_panel_"+t.id:void 0,"data-key":t.id,"data-stat-select":"nhl.tab.select."+t.id,id:"nhl_tab_"+t.id}})}).join("")+(s?o(Co,{mix:"nhl__score-tumbler",mods:{size:"n",theme:"normal",view:"default",tone:"adaptive",checked:n.hideSpoilers?"yes":"","pseudo-disabled":n.logged?"":"yes"},content:[{side:"left",content:t.l10n("hockey.hide_score")}]}):""),content:o(ns,{panel:o(pt,{block:"nhl",id:"nhl",key:e,mix:" media-service__panel",attrs:{"aria-labelledby":"nhl_tab_"+e},content:o(ts,i.data[e])})}),attrs:{role:"complementary","aria-label":o(es),"data-bem":home.getBEMParams({nhl:i})}})}function ts(e,t,i){var n=i(Q)?"_blank":"",o=e.dummy?new Array(5).join(i(Ko,{})):e.items.map(function(t){return t.linkTarget=n,t.useSprite=e.useSprite,i(Po,t)}).join("");return i(gi,{mix:"nhl__list-wrapper media-service__list-wrapper imageloader imageloader_different_yes",wrapMix:"nhl__wrap media-service__wrap imageloader__scroller",listMix:"nhl__list media-service__list",content:o,mods:{theme:"media"},js:{"arrowed-list":{counter:"nhl"},imageloader:{}}})}function es(t,e){return e.l10n("hockey.nhl_title")}function is(t,e,i){return i(Xo,{mods:{size:t.size||"m",view:"classic",tone:"default",theme:"promo","promo-color":"blue",autoclosable:"yes"},popupMods:t.popupMods,js:{to:[t.direction||"bottom-center"],tailOffset:30,secondaryOffset:-30},content:i(os,{cancel:i(Hi,{mods:{view:"classic",tone:"default",size:"m",theme:"clear"},content:e.l10n("general.close")}),ok:i(Hi,{mods:{view:"classic",tone:"default",size:"m",theme:"action"},content:e.l10n("mail.login"),url:t.authUrl,stat:e.stat.getAttr("nhl.auth_promo.ok")})})})}function ns(t){return"<div class='media-service__panels nhl__panels'>"+f.a.oneElem(t.panel)+"</div>"}function os(t,e){return f.a.oneElem("<div "+_()({class:"tooltip__close",title:e.l10n("a11y.close")})+"></div>")+f.a.oneElem("<div class='tooltip__description'>"+f.a.oneElem(e.l10n("hockey.auth_promo"))+"</div>")+f.a.oneElem("<div class='tooltip__buttons'>"+(f.a.oneElem(t.cancel)+f.a.oneElem(t.ok))+"</div>")}function ss(t,e,i){t.layoutName||home.error("divjson-block: layoutName is required!");var n=t.layoutName,o=home.getData("media-grid.blocks"),n=o&&o[n]&&o[n]||{};return i(gr,{block:"divjson-block",layout:n.layout,rootMod:"divjson-block i-bem mix-tabber_theme_media"+(t.test?" divjson-block_test_yes":""),mods:{"has-carousel":"yes",tabs:t.tabs?"yes":void 0},title:t.title,titleIcon:i(Er,n),attrs:{role:"complementary","aria-label":t.title,"data-bem":home.getBEMParams({"divjson-block":{showUrl:t.showUrl,api:t.api,layoutName:t.layoutName}}),style:t.blockHeight?"height:"+t.blockHeight+"px":""},tabs:t.tabs?i(B,{mix:"divjson-block__dummy-tabs",content:i(bo)}):"",content:i(go,{width:t.cardWidth,height:t.cardHeight})})}function rs(t,e,i){t=home.getData("divjson-block."+t.layoutName);if(t)return i(ss,t)}var as={black:"black",blue:"blue",cyan:"cyan",gray:"#888888",green:"#00ff00",magenta:"magenta",red:"red",transparent:"transparent",white:"white",yellow:"yellow"};function cs(t){var e;return(t=(t||"").toLowerCase())in as?as[t]:"#"!==t.charAt(0)?"transparent":9===t.length?(e=[t.substr(1,2),t.substr(3,2),t.substr(5,2),t.substr(7,2)],"rgba("+String(parseInt(e[1],16))+","+String(parseInt(e[2],16))+","+String(parseInt(e[3],16))+","+(parseInt(e[0],16)/255).toFixed(2)+")"):5===t.length?(e=[t.charAt(1)+t.charAt(1),t.charAt(2)+t.charAt(2),t.charAt(3)+t.charAt(3),t.charAt(4)+t.charAt(4)],"rgba("+String(parseInt(e[1],16))+","+String(parseInt(e[2],16))+","+String(parseInt(e[3],16))+","+(parseInt(e[0],16)/255).toFixed(2)+")"):7===t.length||4===t.length?t:"transparent"}function ls(t){return t?t.replace(/<font color="(#[\da-f]{8})">/i,function(){return"<font>"}).replace(//g,'<span class="rouble"></span>'):""}function hs(t){return(Number(t)/20).toFixed(4)+"em"}function ds(t,e,i,n){var o=n.json;i.stack||(i.stack=[]),i.stack.push({type:o.type,hasAction:Boolean(o.action||o.actions&&o.actions.length)});n=t(e,Object(vt.a)({block:i.block,stack:i.stack},n));return i.stack.pop(),n}function us(t,e,i){var n,o={layoutName:t.layoutName,titleIcon:t.titleIcon,templates:t.templates,context:t.context,stack:t.stack,hasParentAction:t.hasParentAction,hasCurrentAction:t.hasCurrentAction,inGallery:t.inGallery,inPreciseGallery:t.inPreciseGallery};for(n in 2<arguments.length&&void 0!==i&&i&&(o.containerStyle=t.containerStyle,o.containerMix=t.containerMix),e)e.hasOwnProperty(n)&&(o[n]=e[n]);return o}function ms(t,e,i,n){i.stack||(i.stack=[]),i.stack.push(e);var o=us(i,n,!0);o.hasCurrentAction&&(o.hasParentAction=!0,o.hasCurrentAction=!1);n=i.json;n&&(n.action||n.actions&&n.actions.length)&&(o.hasCurrentAction=!0);o=t(e,o);return i.stack.pop(),o}function ps(t,e,i){var n=t.json;if(Array.isArray(n.items)&&n.items.length){var o=t.style||{},s=n.id||"divjson2-tabs-"+home.rnd().substr(0,5),r=i(fs,n),a=i(gs,{id:s,json:n}),c=i(ks)&&t.stack.some(function(t){return t===nr});return i(Zs,us(t,{id:s,js:c?null:{"divjson2-tabs":{uniqId:s,baseData:{layoutName:t.layoutName,stack:t.stack,context:{}},data:Object.keys(n.items).reduce(function(t,e,i){return i!==r&&(t[e]=n.items[e].div),t},{}),swipe:i(bs,{json:n})}},json:n,style:o,mix:home.getBEMClassname("divjson2-tabs",{mods:{},mix:i(vs,t)}),content:a+i(ys,{json:n,tabs:c?"":i(B,{mix:"divjson2-tabs__tabs",content:i(_s,{json:n,id:s,layoutName:t.layoutName})}),panels:i(pt,{block:"divjson2-tabs",id:s,key:String(r),attrs:{"aria-labelledby":s+"_tab_"+String(r)},content:i(Vs,us(t,{json:n.items[r].div},!0))})})},!0))}i(Xs,{block:"divjson2-block",message:"Missing divjson2-tabs items",level:"warn",source:t.layoutName})}function _s(s,t,r){var e=s.json,a=s.id,c=r(fs,e),l=r(ws);return e.items.map(function(t,e){var i,n=e===c,o=(i=l?t.title_click_action:i)&&i.log_id?i.log_id.replace(/\//g,"."):e;return r(Yt,{href:i?i.url:void 0,mods:{selected:n?"yes":"no"},mix:home.getBEMClassname("divjson2-tabs__tab",{mods:{selected:n?"yes":"no"}}),content:home.htmlFilter(t.title),attrs:{tabindex:n?"0":"-1","aria-selected":n?"true":"false","aria-controls":n?a+"_panel_"+e:void 0,"data-key":e,"data-stat-link":i?s.layoutName+".tab.link."+o:void 0,"data-stat-select":s.layoutName+".tab.select."+o,id:a+"_tab_"+e}})}).join("")}function fs(t){var e=Number(t.selected_tab)||0;return e=(e=e>=t.items.length?t.items.length-1:e)<0?0:e}function gs(){return""}function vs(){return""}function bs(){return 0}function ys(t){return f.a.oneElem(t.tabs)+f.a.oneElem("<div class='divjson2-tabs__panels'>"+f.a.oneElem(t.panels)+"</div>")}function ws(){return!1}function ks(){return!0}function Es(t,e,i){if(1===t.length&&"solid"===t[0].type)return i(Ms,{color:t[0].color,isUniqueBg:!0});t=t.map(function(t){var e;return"solid"===t.type?e=Ms:"gradient"===t.type?e=xs:"image"===t.type&&(e=Ts),i(e,t)}).reverse().reduce(function(t,e){return t.image.push(e.image),t.size.push(e.size||"auto"),t.pos.push(e.pos||"50% 50%"),t},{image:[],size:[],pos:[]});return{image:t.image.join(","),size:t.size.join(","),pos:t.pos.join(",")}}function Ms(t){var e=cs(t.color||"transparent");return t.isUniqueBg?{color:e,size:"auto",pos:"50% 50%"}:{image:"linear-gradient(to bottom,"+e+","+e+")"}}function xs(t){return{image:"linear-gradient("+(90-Number(t.angle))+"deg,"+t.colors.map(cs).join(",")+")"}}function Ts(t,e,i){return{size:i(Ss,t),pos:i(Cs,t),image:'url("'+home.htmlFilter(t.image_url)+'")'}}function Ss(t){return"fill"!==t.scale&&t.scale?"fit"===t.scale?"contain":void 0:"cover"}function Cs(t){return("left"===t.content_alignment_horizontal?"0%":"right"===t.content_alignment_horizontal?"100%":"50%")+" "+("top"===t.content_alignment_vertical?"0%":"bottom"===t.content_alignment_vertical?"100%":"50%")}function Bs(n,t,o){var e=n.json;if(Array.isArray(e.items)&&e.items.length){var i=n.style||{},s={};s.valign=home.htmlFilter(e.content_alignment_vertical||"top"),s.halign=home.htmlFilter(e.content_alignment_horizontal||"left");var r="vertical";"horizontal"!==e.orientation&&"overlap"!==e.orientation||(r=e.orientation),s.orientation=r;var a,c,l,h,d=e.items.map(function(t){var e=n.templates,i=n.context,e=o(Ks,{json:t,templates:e,context:i,layoutName:n.layoutName});return{item:e.json,context:e.context}}),u=d.map(function(t){return o(Vs,us(n,{context:t.context,json:t.item}))}).join("");if(u)return"overlap"!==r&&(a="vertical"===r?"height":"width",c=d.map(function(t){if(t.item[a]){if("match_parent"===t.item[a].type)return(Number(t.item[a].weight)||1)+"fr"}else if("width"==a)return"1fr";return"auto"}).join(" "),i["vertical"===r?"grid-template-rows":"grid-template-columns"]=c,h=l=!1,d.forEach(function(t){!t.item.width||"wrap_content"!==t.item.width.type&&"fixed"!==t.item.width.type||(l=!0),t.item.height&&"wrap_content"!==t.item.height.type&&"fixed"!==t.item.height.type||(h=!0)}),s["has-width-content"]=l?"yes":void 0,s["has-height-content"]=h?"yes":void 0),o(Zs,us(n,{json:e,style:i,mix:home.getBEMClassname("divjson2-container",{mods:s}),content:u},!0))}else o(Xs,{block:"divjson2-block",message:"Missing divjson2-container items",level:"warn",source:n.layoutName})}function Ps(t,e,i){var n=t.json;if(n.image_url||n.gif_url){var o=t.inGallery,s=t.style||{};return s["background-color"]=cs(n.placeholder_color||"#14000000"),s["background-size"]=i(Ss,n),s["background-position"]=i(Cs,n),n.preview&&("data:"===n.preview.substr(0,5)?s["background-image"]='url("'+n.preview+'")':s["background-image"]='url("data:image/jpg;base64,'+n.preview+'")'),i(Zs,us(t,o?{json:n,mix:"divjson2-image",content:i(B,{mix:"divjson2-image__image imageloader__image",attrs:{"data-image":n.image_url||n.gif_url,style:home.makeStyle(s)}})}:{json:n,mix:"divjson2-image",js:{"divjson2-image":{image:n.image_url||n.gif_url}},content:i(B,{mix:"divjson2-image__image",attrs:{style:home.makeStyle(s)}})},!0))}i(Xs,{block:"divjson2-block",message:"Missing divjson2-image url",level:"warn",source:t.layoutName,meta:{type:n.type}})}function Is(t,e,i){return i(bi,{wrapMix:"divjson2-gallery__scroller imageloader__scroller",listMix:"media-service__list divjson2-gallery__items",content:t.items,attrs:t.attrs})}function Ds(t){return"weighted"===t.json.arrow_position?" arrowed-list_arrow-position_weighted":""}function Os(){return""}var js=e(function(){return 16});function Rs(t,e,i){return"<div "+_()({class:"divjson2-gallery__inner media-service__list-wrapper arrowed-list arrowed-list_theme_media i-bem ".concat(x(t.mix)).concat(i(Ds,t)),"data-bem":"{&quot;imageloader&quot;:{},&quot;arrowed-list&quot;:{&quot;counter&quot;:&quot;".concat(x(t.layoutName),"&quot;}}")})+">"+f.a.oneElem("<div class='scroller__hider divjson2-gallery__wrapper'>"+f.a.oneElem(t.content)+"</div>")+"</div>"}function As(e,t,i){var n=e.json;if(Array.isArray(n.items)&&n.items.length){e.inGallery=!0,e.json&&e.json.precise_logging&&(e.inPreciseGallery=!0);var o=n.items.map(function(t){return i(Vs,us(e,{json:t,containerMix:"divjson2-gallery__item imageloader__column imageloader__card"}))}).join("");if(o){var s=e.style||{},r={};r.align=home.htmlFilter(n.cross_content_alignment||"start"),r["height-ref"]=n.height&&"wrap_content"!==n.height.type?"parent":"content","paging"===n.scroll_mode&&(r["scroll-mode"]="paging");var a=n.items.map(function(){return"auto"}).join(" ");return s["grid-template-columns"]=a,s["grid-gap"]=hs(n.item_spacing||i(js)),n.paddings&&(s.padding=i(Os,n)||void 0),i(Zs,us(e,{json:n,skipHorizontalPadding:!0,mix:home.getBEMClassname("divjson2-gallery",{mods:r}),js:i(Fs,{layoutName:e.layoutName}),content:i(Rs,{json:n,mix:home.getBEMClassname("imageloader",{mods:{different:"yes",tracking:n.precise_logging?"yes":""}}),layoutName:e.layoutName,content:i(Is,{attrs:{style:home.makeStyle(s)},items:o})})},!0))}}else i(Xs,{block:"divjson2-block",message:"Missing divjson2-gallery items",level:"warn",source:e.layoutName})}function Fs(){return""}function Ns(t,e,i){function n(t,e,i){var n,o,s=0,r=0,a=[];if(t.every(Boolean))for(r=t.reduce(function(t,e){return t+e},0),n=0;n<i;++n)!e[n]||s<(o=e[n]/t[n]*r)&&(s=o);for(n=0;n<i;++n)s?a[n]="minmax("+hs(s*t[n]/r)+","+t[n]+"fr)":t[n]?a[n]=t[n]+"fr":a[n]="auto";return a.join(" ")}var o=t.json;if(Array.isArray(o.items)&&o.items.length){var s=t.style||{},r={};r.valign=home.htmlFilter(o.content_alignment_vertical||"top"),r.halign=home.htmlFilter(o.content_alignment_horizontal||"left");for(var a={},c=[],l=0,h=0,d=Number(o.column_count)||1,u=[],m=[],p=[],_=[],f=0;f<o.items.length;++f){var g=i(Ks,{json:v=o.items[f],templates:t.templates,context:b=t.context,layoutName:t.layoutName}),v=g.json,b=g.context,y=Number(v.column_span)||1,w=Number(v.row_span)||1;c.push(i(Vs,us(t,{context:b,json:v,containerStyle:{"grid-area":h+1+"/"+(l+1)+"/span "+w+"/span "+y}})));for(var k=v.width&&"match_parent"===v.width.type&&v.width.weight?Number(v.width.weight)/y:0,E=v.height&&"match_parent"===v.height.type&&v.height.weight?Number(v.height.weight)/w:0,M=1===y&&v.width&&"fixed"===v.width.type&&v.width.value?Number(v.width.value)/y:0,x=1===w&&v.height&&"fixed"===v.height.type&&v.height.value?Number(v.height.value)/w:0,T=l;T<l+y;++T)for(var S=h;S<h+w;++S){if(a[T+"_"+S])return;a[T+"_"+S]=!0,(!u[T]||u[T]<k)&&(u[T]=k),(!m[S]||m[S]<k)&&(m[S]=E),(!p[T]||p[T]<M)&&(p[T]=M),(!_[S]||_[S]<x)&&(_[S]=x)}for(;++l>=d&&(l=0,++h),a[l+"_"+h];);}if(0===l)return s["grid-template-columns"]=n(u,p,d),s["grid-template-rows"]=n(m,_,h),i(Zs,us(t,{json:o,style:s,mix:home.getBEMClassname("divjson2-grid",{mods:r}),content:c.join("")},!0));i(Xs,{block:"divjson2-block",message:"Mismatching divjson2-grid rows/columns",level:"warn",source:t.layoutName})}else i(Xs,{block:"divjson2-block",message:"Missing divjson2-grid items",level:"warn",source:t.layoutName})}function Ls(t,e,i){var n=t.json,o=t.style||{},s=n.delimiter_style&&"vertical"===n.delimiter_style.orientation?"vertical":"horizontal",r=!0;return n.delimiter_style&&n.delimiter_style.color&&("transparent"===n.delimiter_style.color||9===n.delimiter_style.color.length&&0===n.delimiter_style.color.indexOf("#00"))&&(r=!1),i(Zs,us(t,{json:n,style:o,mix:"divjson2-separator",content:r?i(B,{attrs:{style:home.makeStyle({background:cs(n.delimiter_style&&n.delimiter_style.color||"#14000000"),width:"horizontal"==s?"100%":hs(1),height:"horizontal"==s?hs(1):"100%"})}}):""},!0))}function Us(t,e,r){var a=t.json;if(a.text){var i,n={},o=t.style||{},s={},c=Number(a.font_size)||12;o["font-size"]=hs(c);var l=1.25,h="";a.line_height&&(l=Number(a.line_height)/c,o["line-height"]=l),1===a.max_lines?n.clamped="singleline":a.max_lines&&(d=Number(a.max_lines),o["max-height"]=d*l+"em",a.ranges||a.images||(o["-webkit-line-clamp"]=d,s["data-lines"]=d,n.clamped="multiline",h="i-multiline-overflow",i={}));var l=!a.ranges||a.ranges.length<=1&&0===a.ranges[0].start&&a.ranges[0].end>=a.text.length,d=Boolean(a.text_color)!==Boolean(a.ranges&&a.ranges[0]&&a.ranges[0].text_color);a.max_lines&&l&&d&&(o.color=cs(a.text_color||a.ranges&&a.ranges[0]&&a.ranges[0].text_color)),a.text_alignment_horizontal&&(n["text-halign"]=home.htmlFilter(a.text_alignment_horizontal)),a.text_alignment_vertical&&(n["text-valign"]=home.htmlFilter(a.text_alignment_vertical)),a.truncate&&("none"===a.truncate?n.truncate="none":"marquee"===a.truncate&&1===a.max_lines&&(n.marquee="yes",(i=i||{}).marqueeDelay=Number(a.marquee_animation&&a.marquee_animation.start_delay||0),a.marquee_animation&&a.marquee_animation.repeat&&"fixed"===a.marquee_animation.repeat.type?i.marqueeRepeat=Number(a.marquee_animation.repeat.value):i.marqueeRepeat=-1));var u,m,p,_,f=a.text,f=Array.isArray(a.ranges)&&a.ranges.length||Array.isArray(a.images)&&a.images.length?(l=a.ranges||[{start:0,end:f.length}],d=a.images||[],u=0,m=[],p="",_=[],l.forEach(function(t){_.push({index:t.start,range:t,type:"rangeStart",isStart:!0}),_.push({index:t.end,range:t,type:"rangeEnd"})}),d.forEach(function(t,e){t.start<=f.length&&_.push({index:t.start,image:t,type:"image",arrayIndex:e})}),_.sort(function(t,e){return t.index===e.index?t.type!==e.type?"image"===t.type?-1:"image"===e.type?1:t.type<e.type:"image"===t.type&&"image"===e.type?e.arrayIndex-t.arrayIndex:"rangeStart"===t.type&&"rangeStart"===e.type?t.range.end-e.range.end:"rangeStart"===t.type?1:"rangeStart"===e.type?-1:t.range.start-e.range.start:t.index-e.index}),_.forEach(function(e){var i,n,t,o=e.range,s=e.index;u<s&&(i=home.deepExtend({},a),m.forEach(function(t){i=home.deepExtend(i,t)}),p+=r(Hs,{content:home.htmlFilter(f.substring(u,s)),rootFontSize:c,textStyles:i,rangeMix:h})),"rangeStart"===e.type?m.push(o):"rangeEnd"===e.type?m=m.filter(function(t){return t!==e.range}):(n=home.deepExtend({},a),m.forEach(function(t){n=home.deepExtend(n,t)}),t=hs(20*(e.image.width&&e.image.width.value||20)/(n.font_size||12)),o=hs(20*(e.image.height&&e.image.height.value||20)/(n.font_size||12)),p+=r(Hs,{content:r(P,{mix:"divjson2-text__image",attrs:{style:home.makeStyle({"background-image":'url("'+home.htmlFilter(e.image.url)+'")',width:t,height:o,"margin-top":a.line_height?"-"+o:void 0,"margin-bottom":a.line_height?"-"+o:void 0})}}),rootFontSize:c,textStyles:n,rangeMix:h})),u=s}),u<f.length&&(p+=r(Hs,{content:home.htmlFilter(f.substring(u)),rootFontSize:c,textStyles:home.deepExtend({},a),rangeMix:h})),p):r(Hs,{content:home.htmlFilter(f),rootFontSize:c,textStyles:a,rangeMix:h});return r(Zs,us(t,{json:a,attrs:s,js:i?{"divjson2-text":i}:void 0,mix:home.getBEMClassname("divjson2-text",{mods:n}),content:r(B,{mix:"divjson2-text__inner",attrs:{style:home.makeStyle(o)},content:f})},!0))}r(Xs,{block:"divjson2-block",message:"Missing divjson2-text text",level:"warn",source:t.layoutName})}function Hs(t,e,i){var n,o=hs,s=t.textStyles,r={},a={},c=Number(s.font_size)||12;return r["font-size"]=o(20*c/t.rootFontSize),s.line_height&&(n=Number(s.line_height)/c,r["line-height"]=n),s.letter_spacing&&(r["letter-spacing"]=o(s.letter_spacing)),"medium"!==s.font_weight&&"bold"!==s.font_weight&&"regular"!==s.font_weight||("medium"===s.font_weight?r["font-weight"]=500:"bold"===s.font_weight?r["font-weight"]="bold":r["font-weight"]=400),s.text_color&&(r.color=cs(s.text_color)),(s.underline||s.strike)&&("single"===s.underline&&"single"===s.strike?a.decoration="both":"single"===s.underline?a.decoration="underline":"single"===s.strike?a.decoration="strike":a.decoration="none"),s.underline&&(a.underline=s.underline),s.strike&&(a.strike=s.strike),i(P,{mix:home.getBEMClassname("divjson2-text__range",{mods:a,mix:t.rangeMix||""}),content:t.content,attrs:{style:home.makeStyle(r)}})}function zs(t,e,i){var n=t.json;if(Array.isArray(n.states)&&n.states.length){var o=n.states[0].div,s=String(n.states[0].state_id),r="divjson2-state-"+home.rnd().substr(0,5);return i(Zs,us(t,{js:{"divjson2-state":{uniqId:r,divId:n.div_id,baseData:{layoutName:t.layoutName,stack:t.stack,context:t.context},data:n.states.reduce(function(t,e,i){var n={animation_in:e.animation_in,animation_out:e.animation_out};return 0<i&&(n.div=e.div),t[e.state_id]=n,t},{}),keys:n.states.map(function(t){return String(t.state_id)}),selectedKey:s}},mix:"divjson2-state",json:n,attrs:{"data-div-id":n.div_id},content:i(B,{mix:"divjson2-state__panels",content:i(pt,{block:"divjson2-state",id:r,key:s,content:o?i(Vs,us(t,{json:o},!0)):""})})},!0))}i(Xs,{block:"divjson2-block",message:"Missing divjson2-state states",level:"warn",source:t.layoutName})}function Ws(t,e,i){if(!t||!t.json)return"Missing object";var n,t=t.json,o=t.card,s=t.templates||{};if(!o)return"Missing card";if(!o.states)return"Missing states";var r,a=i(qs);function c(t){var e;if("tabs"===t.type&&Array.isArray(t.items))for(var i=0;i<t.items.length;++i)if(e=c(t.items[i].div))return e;if(t.type&&"home:"!==t.type.substr(0,5)&&!(t.type in s)&&!(t.type in a))return'Unknown type "'+t.type+'"';if(Array.isArray(t.items))for(var n=0;n<t.items.length;++n)if(e=c(t.items[n]))return e;return""}for(r in s)if(s.hasOwnProperty(r)){if(0===r.indexOf("home:"))return'Reserved template name "'+r+'"';if(n=c(s[r]))return n;if(r in a)return'Template name collision "'+r+'"'}for(var l=0;l<o.states.length;++l)if(n=c(o.states[l].div))return n;return"ok"}function $s(t,e,i){var n=t.json,o=n.card,s=n.templates||{},r="divjson_"+home.rnd().substr(0,5),a=i(Vs,{layoutName:t.layoutName,titleIcon:t.titleIcon,templates:s,context:{},json:o.states[0].div}),n=o.states.map(function(t){return String(t.state_id)});return 1<n.length&&(a=i(B,{mix:"divjson2__panels",content:i(pt,{block:"divjson2",id:r,key:n[0],content:a})})),i(tr,{content:a,mods:{name:t.layoutName},js:{divjson2:{keys:n,data:o.states.slice(1).reduce(function(t,e){return t[e.state_id]=e.div,t},{}),id:r,selectedKey:n[0],baseData:{layoutName:t.layoutName},templates:s}}})}var qs=e(function(){return{container:Bs,gallery:As,gif:Ps,grid:Ns,image:Ps,separator:Ls,tabs:ps,text:Us,state:zs}});function Vs(t,e,i){var n=i(Ks,{json:o=t.json,templates:t.templates,context:s=t.context,layoutName:t.layoutName}),o=n.json,s=n.context,r=i(qs),n=i(ir)||{};return(r=r[o.type])?ms(i,r,t,{json:o,context:s}):o.type in n?ms(i,n[o.type],t,{json:o,context:s}):void i(Xs,{block:"divjson2-block",message:"Unknown element type",source:t.layoutName,meta:{type:o.type}})}function Ks(t,e,i){for(var n=t.json,o=t.templates,s=t.context;n.type in o;)var r=i(Ys,{json:n,templates:o,context:s,layoutName:t.layoutName}),n=r.json,s=r.context;return{json:n,context:s}}function Ys(l,t,h){var e,d=l.json,i=l.templates[d.type],n=l.context||{},u={};for(e in n)n.hasOwnProperty(e)&&(u[e]=n[e]);for(e in d)"type"!==e&&"__proto__"!==e&&d.hasOwnProperty(e)&&(u[e]=d[e]);function m(t){var e=typeof t;return"string"==e||"number"==e||"boolean"==e||"undefined"==e||null===t?t:home.deepExtend(Array.isArray(t)?[]:{},t)}var o=function r(a,c){var t=Object.keys(c).filter(function(t){return"__proto__"!==t}),e=t.filter(function(t){return"$"!==t.charAt(0)}),t=t.filter(function(t){return"$"===t.charAt(0)});function i(t){for(var e=0;e<t.length;++e){var i,n,o=t[e],s=c[o];"$"===o.charAt(0)?void 0!==(i=u[s])?(n=o.substr(1),a[n]=m(i)):h(Xs,{block:"divjson2-block",message:"Missing template field",level:"warn",source:l.layoutName,meta:{key:o,template:d.type}}):"object"==typeof s&&null!==s?(a[o]=Array.isArray(s)?[]:{},r(a[o],s)):a[o]=m(s)}}return i(e),i(t),a}({},i);for(e in d)"type"!==e&&"__proto__"!==e&&d.hasOwnProperty(e)&&(o[e]=m(d[e]));return{json:o,context:u}}function Gs(t,e,i){var n,o,s,r,a=!t.hasParentAction&&t.json&&(t.json.actions||(t.json.action?[t.json.action]:null)),c=a&&a.filter(function(t){return t.url&&-1===t.url.indexOf("div-action://set_state?state_id=")}),l=a&&a.filter(function(t){return t.url&&0===t.url.indexOf("div-action://set_state?state_id=")}),h=c&&c.length&&c[0]&&c[0].url,d=h&&c[0].log_url,u=home.deepExtend({href:h||void 0,"data-set-state":l?home.getBEMParams(l):void 0,tabindex:c&&c.length||!l||!l.length?void 0:"0"},t.attrs||{});return a&&a.forEach(function(t){t.hover&&(n=t)}),h&&(t.action&&"_blank"===t.action.target||i(Q))&&(u.target="_blank",u.rel="noopener"),t.json&&(t.json.visibility_action||t.json.visibility_actions)&&(s=t.json.visibility_actions||[t.json.visibility_action],u["data-bem"]=home.getBEMParams({"divjson2-visibility":{layoutName:t.layoutName,actions:s.map(function(t){return{log:t.log_id?t.log_id.replace(/\/(?=[^)]+($|\())/g,"."):void 0,url:t.url,percent:t.visibility_percentage,duration:t.visibility_duration,limit:t.log_limit}})}})),d&&(u["data-log-url"]=d),home.getData("common.is_redesign")&&(o=i(Js)("server"),s=i(ar,{action:n}),r=[],u.style&&r.push({style:u.style}),s&&r.push({pseudo:":hover",style:s}),r=i(Qs,{className:o,styles:r}),delete u.style),i(er,{tag:h?"a":t.defaultTag||"div",stat:c&&c[0]&&c[0].log_id?e.stat.getAttr(t.layoutName+"."+c[0].log_id.replace(/\/(?=[^)]+($|\())/g,"."),null,{customParams:c[0].payload,precise:Boolean(t.inPreciseGallery)}):"",attrs:u,mix:[t.mix||"",l&&l.length&&"divjson2__state-setter",a&&a.length&&"divjson2__clickable",d&&"divjson2__log-url",a&&a.length&&i(rr,n),u["data-bem"]&&"i-bem",o].filter(Boolean).join(" "),content:t.content,inlineStyle:r})}function Zs(t,e,i){var n,o=t.json,s=hs,r={},a={},c="",l=t.style||{},h=t.attrs||{};o.border&&(o.border.has_shadow&&(a.shadow="yes"),o.border.stroke&&(l.border=s(o.border.stroke.width||1)+" solid "+cs(o.border.stroke.color)),o.border.corner_radius&&(a.radius="yes",l["border-radius"]=s(o.border.corner_radius))),o.width?"fixed"===o.width.type?l.width=s(o.width.value):"match_parent"===o.width.type?r.width="parent":"wrap_content"===o.width.type&&(r.width="content"):r.width="parent",o.height?"fixed"===o.height.type?l.height=s(o.height.value):"match_parent"===o.height.type?r.height="parent":"wrap_content"===o.height.type&&(r.height="content"):r.height="content",o.background&&(n=i(Es,o.background),l["background-color"]=n.color,l["background-image"]=n.image,l["background-size"]=n.size,l["background-position"]=n.pos,l["background-repeat"]="no-repeat",t.inGallery&&o.background.some(function(t){return"image"===t.type})&&(c+=" imageloader__image imageloader__image_loaded_no")),o.paddings&&(l.padding=s(o.paddings.top||0)+" "+s(!t.skipHorizontalPadding&&o.paddings.right||0)+" "+s(o.paddings.bottom||0)+" "+s(!t.skipHorizontalPadding&&o.paddings.left||0)),o.alpha&&(l.opacity=Number(o.alpha)),r["valign-self"]=home.htmlFilter(o.alignment_vertical||"default"),r["halign-self"]=home.htmlFilter(o.alignment_horizontal||"default"),h.style=home.makeStyle(l),h.id=t.id,t.js&&(h["data-bem"]=home.getBEMParams(t.js),c+=" i-bem");l=t.containerStyle||{};return o.margins&&(l.padding=s(o.margins.top||0)+" "+s(o.margins.right||0)+" "+s(o.margins.bottom||0)+" "+s(o.margins.left||0)),i(B,{mix:home.getBEMClassname("divjson2__block",{mods:r,mix:t.containerMix}),attrs:{style:home.makeStyle(l)},content:i(Gs,{json:o,layoutName:t.layoutName,stack:t.stack,mix:home.getBEMClassname("divjson2__block-inner",{mods:a,mix:[t.mix,c].filter(Boolean).join(" ")}),defaultTag:"div",hasParentAction:t.hasParentAction,hasCurrentAction:t.hasCurrentAction,inPreciseGallery:t.inPreciseGallery,attrs:h,content:t.content})})}function Xs(t,e){t&&(e=e.options&&e.options.disable_divjson2_warn||e.disable_divjson2_warn,"warn"===t.level&&e||home.error(t))}var Js=e(function(){var e=0;return function(t){return"generated-class_"+t+"_"+e++}});function Qs(e){return e.styles.length?"<style>"+e.styles.map(function(t){return"."+e.className+(t.pseudo||"")+"{"+t.style+";}"}).join("\n")+"</style>":""}function tr(t){return"<div "+_()(Object.assign({class:"".concat(w("divjson2",t||{})," i-bem")},t.attrs,{"data-bem":b(t.js||{})}))+">"+f.a.oneElem(t.content)+"</div>"}function er(t){return(t.inlineStyle||"")+"<"+t.tag+' class="'+(t.mix||0===t.mix?t.mix:"")+'" '+T(t.attrs)+" "+(t.stat||"")+">"+(t.content||"")+"</"+t.tag+">"}var ir=e(function(){return{"home:block":nr}});function nr(t,e,i){var n,o,s,r,a=t.json.div,c=t.layoutName,l=i(or,{json:a,templates:t.templates,context:t.context});(o=l?l.json:o)&&(s="divjson2-tabs-"+home.rnd().substr(0,5),o.id=s,n=i(B,{mix:"media-service__tabs",content:i(_s,{layoutName:t.layoutName,json:o,id:s})}),r=i(fs,o));var h=i(fr),d=home.getData("media-grid.blocks"),u=(d&&d[c]&&d[c].layout||{}).title||home.htmlFilter(t.json.title||""),l=!h&&n||!t.json.title_after?"":i(yt,{content:home.htmlFilter(t.json.title_after),href:t.json.title_after_link&&home.htmlFilter(t.json.title_after_link)||"",target:i(Q)?"_blank":"",stat:e.stat.getClientCounter(t.layoutName+".title_action"),mix:"home-link_gray_yes divjson2-block__titler-after"}),d=!h&&n?n:"",h=h&&n?n:"";return i(B,{mix:"divjson2-block__block-wrapper"+(n?" i-bem divjson2-tabs":""),attrs:{"data-bem":o?home.getBEMParams({"divjson2-tabs":{uniqId:s,baseData:{layoutName:c,stack:[],context:{}},data:Object.keys(o.items).reduce(function(t,e,i){return i!==r&&(t[e]=o.items[e].div),t},{})}}):null},content:i(B,{mix:"media-service__header",content:i(yr,{title:i(xr,{block:"divjson2-block",href:t.json.title_link&&home.htmlFilter(t.json.title_link)||"",title:u,titleStat:e.stat.getClientCounter(t.layoutName+".title"),titleIcon:home.htmlFilter(t.json.title_icon||t.titleIcon||""),target:t.json.target&&home.htmlFilter(t.json.target)||void 0})})+d+l})+h+i(B,{mix:"divjson2-block__content",content:i(Vs,us(t,{json:a}))})})}function or(a,t,c){return function t(e,i,n){var o=c(Ks,{json:e,templates:i,context:n,layoutName:a.layoutName});if(e=o.json,n=o.context,"tabs"===e.type)return{json:e,context:n};if(("container"===e.type||"grid"===e.type)&&Array.isArray(e.items))for(var s=0;s<e.items.length;++s){var r=t(e.items[s],i,n);if(r)return r}return null}(a.json,a.templates,a.context)}function sr(c,t,l){return function t(e,i,n){var o=l(Ks,{json:e,templates:i,context:n,layoutName:c.layoutName});if(e=o.json,n=o.context,"home:block"===e.type)return{json:e,context:n};if("container"===e.type||"grid"===e.type||e.states){var s=e.items||e.states;if(Array.isArray(s))for(var r=0;r<s.length;++r){var a=t(!e.type&&e.states?s[r].div:s[r],i,n);if(a)return a}}return null}(c.json,c.templates,c.context)}function rr(t){t=t&&t.hover&&t.hover.type;return"translate"===t?"divjson2__clickable_translate_yes":"background-color"===t?"divjson2__clickable_bg-color_yes":"divjson2__clickable_opacity_yes"}function ar(t){var e=t&&t.action&&t.action.hover,t=e&&e.type;return"background-color"===t&&e.color?t+":"+cs(e.color||"transparent"):""}function cr(t,e,i){t.layoutName||home.error("divjson2-block: layoutName is required!");var n=t.layoutName,o=home.getData("media-grid.blocks"),o=o&&o[n]&&o[n]||{},n=i(Er,o);return i(gr,{block:"divjson2-block",layout:o.layout,titleIcon:n,rootMod:"divjson2-block i-bem mix-tabber_theme_inline-media"+(t.test?" divjson2-block_test_yes":""),mods:{"has-carousel":"yes",tabs:t.tabs?"yes":void 0,dummy:"yes"},title:t.title,attrs:{role:"complementary","aria-label":t.title,"data-bem":home.getBEMParams({"divjson2-block":{showUrl:t.showUrl,api:t.api&&"1"!==t.api?home.addQueryToUrl(t.api,{platform:"desktop"}):"",titleIcon:n,layoutName:t.layoutName}}),style:t.blockHeight?"height:"+t.blockHeight+"px":""},tabs:t.tabs?i(B,{mix:"divjson2-block__dummy-tabs",content:i(bo)}):"",content:i(go,{width:t.cardWidth,height:t.cardHeight})})}function lr(t,e,i){t=home.getData("divjson2-block."+t.layoutName);if(t)return i(cr,t)}function hr(t,e,i){i=i(dr);if(i[t])return i[t];if("div_"!==t.substr(0,4))return t.replace(/_/g,"-");if(home.getData&&home.getData("media-grid.div2")){if(-1<home.getData("media-grid.div2").indexOf(t))return"divjson2-block"}else if(e.DivBlocks&&e.DivBlocks.blocks&&e.DivBlocks.blocks[t]&&"div2"===e.DivBlocks.blocks[t].type)return"divjson2-block";return"divjson-block"}var dr=e(function(){return{broadcast:"media-broadcast"}}),ur=e(function(t){return{rtb_inserts:t.cls.full("rtb_inserts"),"rtb-inserts":t.cls.full("rtb-inserts")}});function mr(t,e,i){var n=t.content,o=t.layoutName,s={};if(!n)return"";var r={"data-blockname":i(ur)[o]||o};return s.collapsed=!t.expand&&(e.blocks_folded||{})[o]?"yes":void 0,t.bg&&(s.bg="yes","1"!==t.bg&&(r.style="background:"+t.bg)),s.collapsed&&e.stat.logShow(o+".widget_control.show"),i(_r,{mods:s,content:n,attrs:r})}function pr(t,e,i){var n={"media-event-carousel":Gi,kinopoisk:rn,games:fn,"autoru-inserts":Bn,"afisha-inserts":Vn,"rtb-inserts":eo,"widgets-list":wi,tutor:so,"banner-inserts":ho,nhl:Jo,"divjson-block":rs,"divjson2-block":lr},o=t.blockName;return o in n?i(n[o],t):""}function _r(t){return"<div "+_()(Object.assign({class:w("media-grid__row",t||{})},t.attrs))+">"+f.a.oneElem(t.content)+"</div>"}function fr(t,e){return home.getData("media-grid.zen_single_column")}function gr(t,e,i){var n,o=t.content||"",s="",r=t.layoutName||t.block;return!t.layout&&r&&(n=home.getData("media-grid.blocks"),t.layout=n&&n[r]&&n[r].layout||{}),t.tabs&&(s=i(B,{mix:t.block+"__tabs media-service__tabs",attrs:{role:"tablist"},content:t.tabs}),t["title-after"]=(t["title-after"]||"")+s,t.mods=t.mods||{},t.mods["inline-tabs"]="yes",s=i(fr),t.mods["single-column"]=s?"yes":"no",t.mix=(t.mix||"")+" mix-tabber_theme_inline-media"),!t.titleIcon&&t.layout&&(t.titleIcon=i(Er,t)),i(Tr,home.deepExtend(t,{title:t.title&&i(vr,t),content:o}))}function vr(t,e,i){var n=t["title-after"]||"";return!t.titleIcon&&t.block&&(t.titleIcon=i(Er,t)),i(Sr,home.deepExtend(t,{header:i(yr,{title:i(xr,t),descTmpl:t.desc?i(br,t):""}),headerMods:t.headerMods,"title-after":n,zenSingleColumn:i(fr)}))}function br(t,e,i){var n=t.desc||t.collapsedText;if(n)return i(wr,{block:t.block,desc:n,mods:{collapsed:t.desc?null:"yes"}})}function yr(t){return"<div class='media-service__title-wrapper'>"+(f.a.oneElem("<h1 "+_()({class:w("media-service__title",t.titleMods||{})})+">"+f.a.oneElem(t.title)+"</h1>")+f.a.oneElem(t.descTmpl))+"</div>"}function wr(t){return"<div "+_()({class:"".concat(w("media-service__desc",t||{})," ").concat(x(t.block),"__desc")})+">"+f.a.oneElem(t.desc)+"</div>"}function kr(t,e,i){return i(B,{content:t.text,mix:"media-service__title-text-inner"})}function Er(t){if(t&&t.layout&&t.layout.icon)return"//yastatic.net/s3/home/feed/services/icons/"+t.layout.icon+".svg"}function Mr(t,e,i){if(t.mods&&t.mods.dummy)return i(Cr);var n=t.layout,o=t.footer||{},s=n.footer||o.text;return s||o.html?i(B,{mix:"media-service__footer-wrapper",content:o.html||i(yt,{mods:{hover:"inherit"},mix:"media-service__footer"+(o.mix?" "+o.mix:""),stat:e.stat.getAttr((t.statPath||t.block||o.block)+".footer"),href:n.footer_url||o.url||t.href,content:home.capitalize(s),attrs:o.attrs})+(o.after||"")}):""}function xr(t,e,i){var n="",o=t.titleMix||"",s=t.layout||{},r=s.title||t.title,e=t.titleStat||e.stat.getClientCounter(s.id+".title"),s=s.title_url||t.href;return t.titleIcon&&(n=i(B,{mix:"media-service__title-icon",attrs:{style:home.makeStyle({"background-image":"url("+t.titleIcon+")"})}}),o+=" media-service__title-text_icon_yes"),i(yt,{mix:t.block+"__title media-service__title-text"+(o?" "+o:""),mods:{hover:"inherit"},href:s,content:n+i(kr,{text:r}),attrs:t.titleAttrs,stat:e,target:t.target})}function Tr(t,e,i){return"<div "+_()(Object.assign({class:"".concat(x(t.rootMod)," ").concat(w("media-service",t||{}))},t.attrs))+">"+(f.a.oneElem(t.before)+f.a.oneElem(t.title)+f.a.oneElem("<div "+_()({class:"".concat(x(t.block),"__content media-service__content ").concat(x(t.contentMix))})+">"+f.a.oneElem(t.content)+"</div>")+f.a.oneElem(i(Mr,t)))+"</div>"}function Sr(t){return t.zenSingleColumn?f.a.oneElem("<div "+_()({class:w("media-service__header",t.headerMods||{})})+">"+f.a.oneElem(t.header)+"</div>")+f.a.oneElem(t["title-after"]):"<div "+_()({class:w("media-service__header",t.headerMods||{})})+">"+(f.a.oneElem(t.header)+f.a.oneElem(t["title-after"]))+"</div>"}function Cr(){return"<div class='media-service__footer-wrapper'><span class='media-service__footer media-service__footer-dummy'></span></div>"}function Br(t,e,i){var n=home.getData("infinity-zen.media-promo"),o=i(ai,t.params);return i(vr,{block:"infinity-zen",layout:i(Dr,t),href:o,target:i(Q)?"_blank":"",title:i(Pr),desc:i(Ir),titleStat:e.stat.getClientCounter(t.params.statRoot+".title"),"title-after":n,headerMods:{mix:"infinity-zen__header"+(t.isZenInsert?" zen-insert":""),mods:{valign:n?"center":void 0,style:"padding-bottom: 10px"}}})}function Pr(t,e){return e.l10n("media.zen.title")}function Ir(t,e){return e.l10n("media.zen.desc")}function Dr(t,e,i){var n=home.getData("media-grid.blocks");return n&&n.infinity_zen&&n.infinity_zen.layout}function Or(t){return"<div class='infinity-zen__alert'><div class='infinity-zen__alert-left'><div class='infinity-zen__alert-icon'></div></div>"+f.a.oneElem("<div class='infinity-zen__alert-right'>"+(f.a.oneElem("<div class='infinity-zen__alert-title'>"+f.a.oneElem(t.title)+"</div>")+f.a.oneElem("<div class='infinity-zen__alert-text'>"+f.a.oneElem(t.text)+"</div>"))+"</div>")+"</div>"}function jr(t,e,i){if(!t.item||!t.item.text||!t.item.url)return home.error({block:"services-new",message:"Incorrect item data",method:"services-new__item",additional:{item:t.item}}),"";var n=t.item,o=t.attrs||{},s=t.icon||i(Rr,{appendDark:t.appendDark,staticHost:t.staticHost,service:n}),r=t.mix||"",a=t.mods||{};o["data-id"]=n.service,a.search=n.search&&"yes";i=i(yt,{mix:home.getBEMClassname("services-new__item",{mix:r,mods:a}),href:n.url,attrs:o,stat:t.stat,content:s+i(B,{mix:"services-new__item-title",content:n.text})});return i="more"!==n.service?'<li class="services-new__list-item">'+i+"</li>":i}function Rr(t,e,i){var n,o=t.service&&t.service.iconSrc||i(Ar,t),s=t.promo?t.promo.mix:"",r="",a="";return t.service&&t.service.iconSrc||!t.appendDark||(t.promo?n=t.promo.mix:r=n="services-new__maybe-dark_"+t.service.service,a=i(C,{content:".document_dark_yes ."+n+'{background-image:url("'+i(Ar,{service:t.service,promo:t.promo,isDark:!0,staticHost:t.staticHost})+'")!important}'})),a+i(B,{mix:home.getBEMClassname("services-new__icon",{mix:[s,r].filter(Boolean).join(" ")}),attrs:{style:home.makeStyle({"background-image":"url("+o+")"})}})}function Ar(t){var e=t.service&&t.service.icon||t.promo.icon;return t.staticHost+"/s3/home/services/block/"+e+(t.isDark?"_skin":"")+".svg"}function Fr(i,n,o){var t="",e=i.fullList.map(function(t,e){return t.iconSrc=o(Ar,{service:t,isDark:!1,staticHost:i.staticHost}),o(jr,{staticHost:i.staticHost,mix:" services-new__more-popup-item",item:t,stat:n.stat.getAttr("services_new.popup.item."+t.service+"."+e)})}).join("");return i.bottomLinks&&i.bottomLinks.length&&(t=i.bottomLinks.map(function(t,e){return o(yt,{content:t.text,href:t.url,mix:"services-new__more-popup-bottom-link",stat:n.stat.getAttr("services_new.popup.bottom_link."+e),mods:{black:"yes"}})}).join("")),o(Nr,{services:e,bottomLinks:t})}function Nr(t,e){return"<div class='services-new__more-popup-content'>"+(f.a.oneElem("<ul class='services-new__more-popup-services'>"+f.a.oneElem(t.services)+"</ul>")+f.a.oneElem("<div class='services-new__more-popup-bottom-links'>"+f.a.oneElem(t.bottomLinks)+"</div>")+f.a.oneElem("<div "+_()({class:"services-new__more-popup-close",role:"button",tabindex:"0",title:e.l10n("a11y.close")})+"></div>"))+"</div>"}function Lr(t,e,i){var n="";return n+=t.link||"",n+=t.title?i(Ur,t):"",n+=t.details?i(Hr,t):"",(t.iconSrc||t.iconClass)&&(n+=""+i(zr,{iconClass:[t.iconClass||"",""].filter(Boolean).join(" "),attrs:t.iconSrc?{style:home.makeStyle({"background-image":'url("'+t.iconSrc+'")'})}:""})),(n+=t.extraElems||"")+(t.switcher||"")}function Ur(t){return"<div "+_()({class:w("desk-notif-card__title",t.titleDesc||{})})+">"+f.a.oneElem(t.title)+"</div>"}function Hr(t){return"<div "+_()({class:w("desk-notif-card__details",t.detailsDesc||{})})+">"+f.a.oneElem(t.details)+"</div>"}function zr(t){return"<div "+_()(Object.assign({class:"desk-notif-card__icon ".concat(x(t.iconClass))},t.attrs))+"></div>"}function Wr(t,e,i){for(var n,o,s=t.width||50,r=t.heigth||16,a=t.values,c=Math.min.apply(Math,a),l=Math.max.apply(Math,a),h=Math.floor((s-3-3)/(a.length-1)),d=[],u=0,m=a.length;u<m;u++)n=u*h+3,o=r-3-Math.floor((a[u]-c)*(r-6)/(l-c)),d.push([n,o]);return i($r,{width:s,height:r,line:i(qr,{points:d.map(function(t){return t[0]+","+t[1]}).join(" ")}),label:t.text})}function $r(t){return"<svg "+_()({class:"desk-notif-card__rate-image",width:t.width,height:t.height})+">"+f.a.oneElem(t.line)+"</svg>"}function qr(t){return"<polyline "+_()({class:"desk-notif-card__rate-line",fill:"none","stroke-width":"1","stroke-linecap":"round",points:t.points})+"/>"}function Vr(t,e){function i(t){return void 0!==t.longitude&&void 0!==t.latitude?t.longitude+","+t.latitude:"string"==typeof t?t:void Object(we.a)({level:"warn",message:"Incorrect format for point from route. Got something wrong instead Object.ll Object.lt or string.",block:"route",method:"route__api-url",meta:{point:t}})}var n=i(t.start),o=i(t.finish),s=t.transit,r=s&&s.length?s.map(i).join("~"):"",a=e.TestingInstance&&e.Getargshash&&e.Getargshash.geohelperMocks||"",s=t.transit&&t.transit.length&&!r;if(n&&o&&!s)return"https://"+e.GeohelperHost+"/geohelper/api/v1/router?points="+n+"~"+o+"&locale="+e.Locale+"&domain="+e.MordaZone+"&feature=bypass_first"+(r?"&via="+r:"")+(a?"&usemock="+a:"")+"&from="+t.from||!1}function Kr(t,e,i){t=i(ta,{from:(t.from||"").replace(/\s*\(.*$/,""),to:(t.to||"").replace(/\s*\(.*$/,"")});return i(Qr,{content:t})}function Yr(t,e,i){var n=i(Gr,{table:t.from,host:t.host}),t=i(Gr,{table:t.to,host:t.host});if(n||t)return i(Xr,{from:n,to:t,stat:e.stat.getAttr("notifications.etrains.rasp")})}function Gr(e,t,i){var n=e.table;if(n&&n.length)return n.map(function(t){return i(Zr,{row:t,host:e.host})}).join("")}function Zr(t,e,i){var n,o=t.row;return i(Jr,{link:i(yt,{href:n=o.uid?t.host+"thread/"+o.uid:n,stat:e.stat.getAttr("notifications.etrains.rasp",n,{logShow:!1}),content:o.stime||o.departure,mix:o.express?"desk-notif-card__etrains-time_express":"",mods:{black:"yes"},attrs:{title:(o.express?e.l10n("etrain.express")+"&#32;":"")+(o.name||o.title)}})})}function Xr(t){return"<div "+_()({class:w("desk-notif-card__etrains-schedule",t||{}),_temp:t.stat})+">"+f.a.oneElem("<div class='desk-notif-card__etrains-list-wrapper'>"+(f.a.oneElem("<div class='desk-notif-card__etrains-list-from-wrapper'>"+f.a.oneElem("<ul class='desk-notif-card__etrains-list desk-notif-card__etrains-list-from'>"+f.a.oneElem(t.from)+"</ul>")+"</div>")+f.a.oneElem("<div class='desk-notif-card__etrains-list-to-wrapper'>"+f.a.oneElem("<ul class='desk-notif-card__etrains-list desk-notif-card__etrains-list-to'>"+f.a.oneElem(t.to)+"</ul>")+"</div>"))+"</div>")+"</div>"}function Jr(t){return"<li "+_()({class:w("desk-notif-card__etrains-time",t||{})})+">"+f.a.oneElem(t.link)+"</li>"}function Qr(t){return"<div class='desk-notif-card__etrains-title desk-notif-card__style_bold'>"+f.a.oneElem(t.content)+"</div>"}function ta(t){return f.a.oneElem("<div class='desk-notif-card__etrains-part desk-notif-card__etrains-from'><div class='desk-notif-card__icon desk-notif-card__etrains-icon'></div>"+f.a.oneElem("<div class='desk-notif-card__etrains-part-text'>"+(f.a.oneElem("<div class='desk-notif-card__etrains-route'>"+f.a.oneElem(t.from)+"</div>")+f.a.oneElem("<div class='desk-notif-card__etrains-route'>"+f.a.oneElem(t.to)+"</div>"))+"</div>")+"</div>")+f.a.oneElem("<div class='desk-notif-card__etrains-part desk-notif-card__etrains-to'><div class='desk-notif-card__icon desk-notif-card__etrains-icon'></div>"+f.a.oneElem("<div class='desk-notif-card__etrains-part-text'>"+(f.a.oneElem("<div class='desk-notif-card__etrains-route'>"+f.a.oneElem(t.to)+"</div>")+f.a.oneElem("<div class='desk-notif-card__etrains-route'>"+f.a.oneElem(t.from)+"</div>"))+"</div>")+"</div>")}function ea(t){return"<div "+_()({class:"desk-notif-card__market-item",style:t.bg?"background-image: url(".concat(x(t.bg),");"):""})+"></div>"}function ia(t,e,i){var n=t.itemsCount,o=[];if(t.items){var s=4<n,r=s?3:Math.min(4,n),o=t.items.slice(0,r).map(function(t){return i(ea,{bg:t.imageUrl})});1===t.items.length&&t.items[0].name?o.push("<div class='desk-notif-card__market-desc'>"+f.a.oneElem(t.items[0].name)+"</div>"):s&&o.push("<div "+_()({class:"desk-notif-card__market-item desk-notif-card__market-counter",style:null!==(s=t.items[3])&&void 0!==s&&s.imageUrl?"background-image: url(".concat(x(t.items[3].imageUrl),");"):""})+">"+f.a.oneElem("<span class='desk-notif-card__market-counter-text'>+"+f.a.oneElem(n-r)+"</span>")+"</div>")}else for(var a=i(ea,{}),c=0;c<Math.min(4,n);c+=1)o.push(a);return"<div class='desk-notif-card__details desk-notif-card__market-content'>"+f.a.oneElem(o.join(""))+"</div>"}function na(t){return"<img "+_()({class:"dist-popup__image",alt:"",src:t.image})+">"}function oa(t,e,i){t.mods||(t.mods={}),t.mods.theme||(t.mods.theme="normal"),t.mods.size||(t.mods.size="m"),t.mods.view||(t.mods.view="classic"),t.attrs||(t.attrs={}),t.js=t.js||{},t.stat&&(t.js.stat=t.stat);var n=t.checkboxAttrs||{};return n.type="checkbox",t.name&&(n.name=t.name),t.mods.disabled&&(n.disabled="disabled"),t.mods.checked&&(n.checked="checked"),n.id||(n.id=t.id||"cbid"+String(Math.random()).substr(3,12)),t.checkboxAttrs=n,"label"in t&&(t.label=i(sa,{attrs:{for:t.checkboxAttrs.id},label:t.label})),i(ra,t)}function sa(t,e,i){return"<label "+_()(Object.assign({class:"checkbox__label"},t.attrs))+">"+f.a.oneElem(void 0!==t.label?t.label:void 0!==e.label?e.label:i("label",t))+"</label>"}function ra(t,e,i){return"<span "+_()(Object.assign({class:"i-bem ".concat(w("checkbox",t||{})),"data-bem":"{&quot;checkbox&quot;:".concat(b(t.js||{}),"}")},t.attrs))+">"+(f.a.oneElem("<span class='checkbox__box'>"+f.a.oneElem("<input "+_()(Object.assign({class:"checkbox__control"},t.checkboxAttrs,{_temp:void 0!==t.stat&&t.stat||""}))+">")+"<i class='checkbox__tick'></i></span>")+f.a.oneElem(void 0!==t.label?t.label:void 0!==e.label?e.label:i("label",t)))+"</span>"}function aa(t){var e=t.control&&t.control.attrs||{},i=t.mods||{},n="textarea"===i.type,o=n?"textarea":"input",s=n?">"+(t.value||"")+"</textarea":"/",r=t.control&&t.control.mix&&" "+t.control.mix||"";switch(t.value&&!n&&(e.value=t.value),t.name&&(e.name=t.name),i.disabled&&(e.disabled="disabled"),t.placeholder&&(e.placeholder=t.placeholder),i.type){case"password":case"search":e.type=i.type}return"<"+o+' class="input__control input__input'+r+'"'+home.getAttributes(e)+s+">"}function ca(t){t=t.clearMix;return'<span class="input__clear'+(t?" "+t:"")+'" unselectable="on">&nbsp;</span>'}function la(t,e,i){var n=t.mods||{},o=t.js||{};return n.theme||(n.theme="normal"),t.keyboard&&(n.keyboard="yes"),"gradient"===n.popup&&(o.popupMods={gradient:"yes"}),t.mods=n,'<span class="'+home.getBEMClassname("input",t)+' i-bem" data-bem="{&quot;input&quot;:'+home.getBEMParams(o)+'}">'+(t.before||"")+'<span class="input__box">'+(t.noclear?"":i(ca,t))+(t.forgot?'<span class="input__forgot input__forgot_visible_yes" unselectable="on">'+t.forgot+"</span>":"")+(t.icons||"")+i(aa,t)+(t.search||"")+"</span>"+(t.after||"")+"</span>"}function ha(e,t,i){var n=e.groups||[{options:e.options}],o=e.selected.split(",").reduce(function(t,e){return t[e]=1,t},{});return e.mix?e.mix+=" i-bem":e.mix="i-bem","<div "+_()({class:home.getBEMClassname("multiselect",e),"data-bem":'{"multiselect":{}}'})+">"+(f.a.oneElem(n.map(function(t){return i(ua,{group:t,mods:e.mods,selectedMap:o})}))+f.a.oneElem("<input "+_()({class:"multiselect__selected",type:"hidden",name:e.name,value:e.selected})+">"))+"</div>"}function da(t,e,i){var n=t.option,t=t.selected;return i(oa,{checkboxAttrs:{value:n.value},mods:{size:n.size,theme:n.theme,checked:t?"yes":void 0,lines:"multi"},label:n.label})}function ua(t,e,i){var n=t.group,o=t.mods,s=t.selectedMap,t="";n.label&&(t="<div class='multiselect__label'>"+f.a.oneElem(home.htmlFilter(n.label))+"</div>");var r=[],a=Math.ceil(n.options.length/3);return n.options.forEach(function(t,e){e=Math.floor(e/a);r[e]||(r[e]=[]),o&&(t.size=String(o.size),t.theme=String(o.theme)),r[e].push(t)}),"<div class='multiselect__group'>"+(f.a.oneElem(t)+f.a.oneElem("<div "+_()({class:"multiselect__items ".concat(home.cls.full("row"))})+">"+f.a.oneElem(r.map(function(t){return"<div "+_()({class:"multiselect__column ".concat(home.cls.full("col"))})+">"+f.a.oneElem(t.map(function(t){return"<div class='multiselect__item'>"+f.a.oneElem(i(da,{option:t,selected:t.value in s}))+"</div>"}))+"</div>"}))+"</div>"))+"</div>"}function ma(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function pa(t,e,i){var n=t.button,o=t.initOption,s=t.mods,r=t.tabindex,t={arrow:"down"};s&&(s.theme&&(t.theme=s.theme),s.size&&(t.size=s.size),s.disabled&&(t.disabled="yes"));s={role:"listbox",type:"button","aria-haspopup":"true","aria-expanded":"false"};return void 0!==r&&(s.tabindex=r),i(_t,{mix:"select__button",content:(null==o?void 0:o.content)||n.content,mods:t,attrs:s})}function _a(t){var e=t.labelId,i=t.option,n=home.rnd(),t=i.attrs;return t.id=n,null!==(n=i.elemMods)&&void 0!==n&&n.label&&(e&&(t.id=e),t["aria-hidden"]="true"),"<option "+_()(Object.assign({class:"select__option"},t))+">"+f.a.oneElem(i.content)+"</option>"}function fa(t,e,i){var n=t.index,o=t.total,s=t.group,r=home.rnd(),t=0===n,o=n===o-1,o=o&&t?"both":o?"last":t?"first":"middle",t=s.attrs;return t.role="group",t["aria-labelledby"]=r,t.position=o,"<optgroup "+_()({class:"select__group select__group_position_".concat(o),role:"group","aria-labelledby":r})+">"+f.a.oneElem(s.content.map(function(t){return i(_a,{labelId:r,option:t})}))+"</optgroup>"}function ga(t,e,i){var n=t.id,o=t.name,s=t.mods,r=t.control,a=t.initOption,t={};return a&&(t=home.deepExtend(t,{value:a.attrs.value})),t=r.controlAttrs?home.deepExtend(t,r.controlAttrs):((a={}).id=n,o&&(a.name=o),s&&(a.disabled=Boolean(s.disabled)),a.tabindex=-1,a["aria-hidden"]="true",home.deepExtend(t,a)),"<select "+_()(Object.assign({class:"select__control"},t))+">"+f.a.oneElem(r.content.map(function(t,e){return"option-group"===t.elem?i(fa,{index:e,total:r.content.length,group:t}):i(_a,{option:t})}))+"</select>"}function va(e,t,i){e.mix?e.mix+=" i-bem":e.mix="i-bem";var n,o={select:home.deepExtend({live:!1},e.js||{})};!o.select.live||(r=null===(r=e.content.filter(function(t){return"elem"in t&&"control"===t.elem})[0])||void 0===r?void 0:r.content)&&r.length&&((n=function t(e){var i,n,o=function(t){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t){if(t){if("string"==typeof t)return ma(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ma(t,void 0):void 0}}(t))){e&&(t=e);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,r=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return s=t.done,t},e:function(t){r=!0,o=t},f:function(){try{s||null==e.return||e.return()}finally{if(r)throw o}}}}(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("option"===s.elem&&Object(s.attrs).selected?i=s:"option-group"===s.elem&&(i=t(s.content)),i)break}}catch(t){o.e(t)}finally{o.f()}return i}(r))||(n=("option-group"===r[0].elem?r[0].content:r)[0]));var s=e.id||home.rnd(),r=e.content.map(function(t){return"block"in t&&"button"===t.block?i(pa,{button:t,initOption:n,mods:e.mods,tabindex:e.tabindex}):"elem"in t&&"control"===t.elem?i(ga,{control:t,id:s,name:e.name,mods:e.mods,initOption:n}):void 0}).filter(Boolean);return"<span "+_()({class:home.getBEMClassname("select",e),"data-bem":home.getBEMParams(o)})+">"+f.a.oneElem(r)+"</span>"}function ba(t){var e;return"<div "+_()({class:home.getBEMClassname("select__item",{mods:t.elemMods}),id:home.rnd()})+">"+f.a.oneElem("<span class='select__text'>"+f.a.oneElem(null===(t=t.content)||void 0===t||null===(e=t.content)||void 0===e?void 0:e.html)+"</span>")+"</div>"}function ya(t){var e=t.name,t=t.controlAttrs;return t.checked=Boolean(t.checked),t.disabled=Boolean(t.disabled),t.disabled&&(t.tabindex="-1"),t.name=e,"<input "+_()(Object.assign({class:"radio-button__control",type:"radio"},t))+">"}function wa(t,e,i){var n=t.index,o=t.total,s=t.name,r=t.value,a=t.mods,c=t.radio,l=c.elemMods||{},t=c.controlAttrs||{};return void 0!==t.value&&t.value===r&&(l.checked="yes"),a.disabled&&(l.disabled="yes"),"default"===a.view||l.side||(l.side=["","right","left","both"][2*(0===n?1:0)+(n===o-1?1:0)]),t.checked=Boolean(l.checked),t.disabled=Boolean(l.disabled),t.id||(t.id=home.rnd()),"<label "+_()({class:home.getBEMClassname("radio-button__radio",{mods:l}),for:String(t.id)})+">"+(f.a.oneElem(i(ya,{name:s,controlAttrs:t}))+f.a.oneElem("<span class='radio-button__text'>"+f.a.oneElem(c.content)+"</span>"))+"</label>"}function ka(i,t,n){var e=home.deepExtend({live:!1},i.js);return i.mix?i.mix+=" i-bem":i.mix="i-bem","<span "+_()({class:home.getBEMClassname("radio-button",i),"data-bem":home.getBEMParams({"radio-button":e})})+">"+f.a.oneElem(i.content.map(function(t,e){return n(wa,{index:e,total:i.content.length,name:i.name,value:i.value,mods:i.mods,radio:t})}))+"</span>"}function Ea(t){t=t.item;return"<input "+_()({type:"hidden",name:t.name,value:t.value})+">"}function Ma(t,e,i){t=t.item;return"<div class='b-wdgt-preferences__pref-col'>"+f.a.oneElem(i(oa,{mods:{size:"s",theme:"normal",checked:"true"===t.value?"yes":"",lines:"multi"},label:t.label,checkboxAttrs:{value:1,name:t.name},stat:""}))+"</div>"}function xa(t,e,i){var n=t.item;return"<div class='b-wdgt-preferences__pref-col b-wdgt-preferences__pref-col_labeled_yes'>"+(f.a.oneElem("<span class='b-wdgt-preferences__label'>"+f.a.oneElem(n.label)+"</span>")+f.a.oneElem(i(va,{name:n.name,mods:{theme:"normal",size:"s",layout:"fixed",width:"200"},js:{live:!0,elemPopupMods:{width:200}},content:[{block:"button",content:""},{elem:"control",content:n.options.map(function(t){return{elem:"option",attrs:{value:t.value,selected:t.value===(n.value||n.default)?"selected":void 0},content:t.label}})}]})))+"</div>"}function Ta(t){t=t.item;return"<div class='b-wdgt-preferences__comment-cell'>"+f.a.oneElem("<span class='b-wdgt-preferences__comment-title'>"+f.a.oneElem(t.value)+"</span>")+"</div>"}function Sa(t,e,i){t=t.item;return"<div class='b-wdgt-preferences__pref-col b-wdgt-preferences__pref-col_labeled_yes'>"+(f.a.oneElem("<span class='b-wdgt-preferences__label'>"+f.a.oneElem(t.label)+"</span>")+f.a.oneElem(i(ka,{name:t.name,value:t.value,mods:{size:"xs",view:"classic",theme:"normal"},content:t.options.map(function(t){return{elem:"radio",content:t.label,controlAttrs:{value:t.value}}})})))+"</div>"}function Ca(t,e,i){t=t.item;return"<div class='b-wdgt-preferences__pref-col'>"+(f.a.oneElem("<span class='b-wdgt-preferences__label'>"+f.a.oneElem(t.label)+"</span>")+f.a.oneElem(i(ha,{name:t.name,selected:t.value,groups:t.groups,options:t.options,mods:{theme:"normal",size:"s"}})))+"</div>"}function Ba(t,e,i){t=t.item;return"<table class='b-wdgt-preferences__pref-table'>"+(f.a.oneElem("<td class='b-wdgt-preferences__pref-td b-wdgt-preferences__pref-td_labeled_yes'>"+f.a.oneElem("<span class='b-wdgt-preferences__label'>"+f.a.oneElem(t.label)+"</span>")+"</td>")+f.a.oneElem("<td class='b-wdgt-preferences__pref-td'>"+(f.a.oneElem(i(la,{mods:{size:"s",suggest:"yes"},js:{live:!1,dataprovider:{name:"dataprovider-geo",url:"https://suggest-maps."+document.domain.replace(/[\w\d-.]+\.(yandex\.[.\w]+)/,"$1")+"/suggest-geo"},popupMods:{fade:"yes"}},control:{attrs:{value:t.geoname}}}))+f.a.oneElem("<input "+_()({class:"input__geo",type:"hidden",name:t.name,value:t.value||t.default})+">"))+"</td>"))+"</table>"}function Pa(t,e,i){t=t.item;return"<table class='b-wdgt-preferences__pref-table'>"+(f.a.oneElem("<td class='b-wdgt-preferences__pref-td b-wdgt-preferences__pref-td_labeled_yes'>"+f.a.oneElem("<span class='b-wdgt-preferences__label'>"+f.a.oneElem(t.label)+"</span>")+"</td>")+f.a.oneElem("<td class='b-wdgt-preferences__pref-td'>"+f.a.oneElem(i(la,{mods:{size:"s"},name:t.name,value:String(t.value||t.default)}))+"</td>"))+"</table>"}function Ia(t,e,i){return"<form class='b-wdgt-preferences__data'>"+f.a.oneElem("<div class='b-wdgt-preferences__table'>"+f.a.oneElem(t.list.filter(function(t){return"name"in t&&t.name}).map(function(t){var e="";if("hidden"===t.type?e=i(Ea,{item:t}):"bool"===t.type||"boolean"===t.type?e=i(Ma,{item:t}):"list"===t.type?e=i(xa,{item:t}):"comment"===t.type?e=i(Ta,{item:t}):"radio-button"===t.type?e=i(Sa,{item:t}):"multi"===t.type?e=i(Ca,{item:t}):"geoselect"===t.type||"geo"===t.type?e=i(Ba,{item:t}):"text"===t.type&&(e=i(Pa,{item:t})),e)return"<div class='b-wdgt-preferences__pref'>"+f.a.oneElem(e)+"</div>"}))+"</div>")+"</form>"}function Da(t){t.mix?t.mix+=" i-bem":t.mix="i-bem";var e="";return t.subtitle&&(e="<span class='b-autocomplete-item__details b-autocomplete-item__full'>"+f.a.oneElem(" (".concat(home.htmlFilter(t.subtitle),")"))+"</span>"),"<li "+_()({class:home.getBEMClassname("b-autocomplete-item",t),"data-bem":home.getBEMParams({"b-autocomplete-item":{}}),"data-id":t.geoid})+">"+(f.a.oneElem("<span class='b-autocomplete-item__reg'>"+f.a.oneElem(home.htmlFilter(t.title))+"</span>")+f.a.oneElem(e))+"</li>"}function Oa(t){t.mix?t.mix+=" i-bem":t.mix="i-bem";var i,e,n,o,s,r,a,c={addressLine:t.name,addressLineShort:t.name_short,coordinates:[t.lat,t.lon]},e=(i=home.htmlFilter(t.data[1].name),e=t.data[1].hl,o=[],s=0,e=e.sort(function(t,e){return t[0]-e[0]}),r=[],(a=-1!==i.indexOf("?"))||function(){for(var t,e=/&(#\d+|#x[a-f\d]+|\w+);/gi;t=e.exec(i);)r.push(t[0]),i=i.replace(t[0],"?")}(),e.forEach(function(t){n=s>t[0]?s:t[0],o.push({elem:"span",content:l(i.slice(s,n))}),o.push({elem:"em",content:l(i.slice(n,s=t[1]))})}),o.push({elem:"span",content:l(i.slice(s))}),o.map(function(t){return"<span "+_()({class:"b-autocomplete-item__".concat(t.elem)})+">"+f.a.oneElem(t.content)+"</span>"}));function l(t){if(a)return t;for(;-1!==t.indexOf("?")&&r.length;)t=t.replace("?",r[0]),r.shift();return t}return"<li "+_()({class:home.getBEMClassname("b-autocomplete-item",t),"data-bem":home.getBEMParams({"b-autocomplete-item":c})})+">"+f.a.oneElem(e)+"</li>"}function ja(t,e){var i="div";t.tag&&(i=t.tag);var n=Ra(t.content,e),o=home.getBEMClassname((t.block||e||"")+(t.elem?"__"+t.elem:""),t);t.js&&(o+=" i-bem");var s={};return s.class=o,t.js&&(t.block||e)&&(o=t.block||e||"",t.elem&&(o+="__"+o),s["data-bem"]=home.getBEMParams((e=o,o=t.js,e in(t={})?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t))),"<"+i+home.getAttributes(s)+">"+n+"</"+i+">"}function Ra(t,e){return t?Array.isArray(t)?t.map(function(t){return ja(t,e)}).join(""):ja(t,e):""}BEM.DOM.decl({block:"services-new",modName:"more",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._isPopupOpened=!1,this.bindToWin("resize",this._onResize),MBEM.channel("mini-suggest").on("show",this._togglePopup.bind(this,!1)),setTimeout(this._recalcItems.bind(this),0)}}},_onResize:function(){this._popup&&(this._updatePopupContentWidth(),this._updatePopupOffset()),this._recalcItems()},_togglePopup:function(t){if("boolean"!=typeof t&&(t=!this._isPopupOpened),!this._popup){if(!t)return;this._createPopup()}return!1===t&&(this._popup._preventHideByClick=!1),this._popup.toggleMod("visible","yes",t),!1},_createPopup:function(){var t=home.getData("services-new.data");t.staticHost=this.params.staticHost;var e=$(p(k,{mods:{view:"default",target:"anchor",autoclosable:"yes"},directions:["bottom-left"],mix:"services-new__more-popup",mainOffset:0,secondaryOffset:0,content:p(Fr,t)})).appendTo("body");BEM.DOM.init(e),this._popup=this.findBlockInside(e,"popup2"),this._popup.setAnchor(this.elem("more-popup-anchor")),this._popup.onFirst("beforeOpen",function(){home.stat.logPath("show","services_new.popup.show"),home.stat.logDOMShow(e,{visibilityCheck:!1})}),this._popup.onFirst("beforeClose",function(){home.stat.logPath("click","services_new.popup.close")}),this.bindTo(this.findElem(this._popup.domElem,"more-popup-close"),"click",this._togglePopup),this.bindKeyTo(this.findElem(this._popup.domElem,"more-popup-close"),"space enter",this._togglePopup),this._popup.on("beforeOpen",this._beforeOpenPopup.bind(this)),this._popup.on("beforeClose",this._beforeClosePopup.bind(this)),this._searchInput&&(this._searchItems=this._searchItems.add(this.findElem(this._popup.domElem,"item","search","yes")),this._updateUrls(this._searchInput.val()))},_updatePopupContentWidth:function(){this._popup.domElem.find(".services-new__more-popup-content").css("width",this.elem("content").width())},_updatePopupOffset:function(){var t=this.domElem.offset(),e=this.domElem.find(".services-new__item").offset(),i=$(".home-arrow__search"),n=parseInt(this._popup.domElem.css("padding-top"),10),o=parseInt(this._popup.domElem.css("padding-left"),10),o=e.left-t.left-o,n=e.top-t.top-n,i=i.length&&"before-arrow"!==this.getMod("position")?i.offset().top+i.height()-t.top+8:-1/0,i=Math.max(n,i);this._popup.setParams({mainOffset:i,secondaryOffset:Math.max(10-t.left,o)})},_recalcItems:function(){var t=this.elem("item"),n=this.elem("list").offset().top;t.toArray().forEach(function(t){var e=$(t),i=e.offset().top<n+60,t=e.data("id");i?(e.removeAttr("tabindex").removeAttr("aria-hidden"),home.stat.logDOMShow(e,{visibilityCheck:!1})):e.attr("tabindex","-1").attr("aria-hidden","true"),this._popup&&this._popup.domElem.find('[data-id="'+t+'"]').parent().css("display",i?"none":"")}.bind(this))},_beforeOpenPopup:function(){this._updatePopupContentWidth(),this._updatePopupOffset(),this._recalcItems(),this.elem("more").attr("aria-expanded","true"),this.channel("banner").trigger("overlapping",!0),this._isPopupOpened=!0},_beforeClosePopup:function(){this.elem("more").attr("aria-expanded","false"),this.channel("banner").trigger("overlapping",!1),this._isPopupOpened=!1}},{live:function(){return this.__base.apply(this,arguments),this.liveBindTo("more","pointerclick",function(t){this._togglePopup(),t.preventDefault()}),this.liveBindKey("more","space enter",function(t){this._togglePopup(),t.preventDefault()}),!1}}),i("nV1K"),i("k/MW"),BEM.DOM.decl("desk-notif-card",{onSetMod:{js:function(){this.__base.apply(this,arguments),this._initDropDownMenu(),BEM.channel("desk-notif-card").on("ban",this._onBanMessage,this),this.elem("toggler").length&&(this.bindTo("toggler","pointerclick",this._togglerOnClick),this.bindKeyTo("toggler","space enter",function(t){this._togglerOnClick(),t.preventDefault()})),this.bindTo("mouseenter mouseleave",function(t){this.toggleMod("hovered","yes","mouseenter"===t.type)});var i=this.params.closeUrl;i&&this.bindTo("link","click",function(t){var e=$(t.target),e="_blank"===e.attr("target")?void 0:e.attr("href");BEM.blocks["i-yabs-sender"].sendClose(t,i,e)}),this._isVisible()&&this.onShow();var t=this.findBlockOutside("rotate-items");t&&t.on("show-item",function(t,e){this.domElem.closest(e.item).length&&this.onShow()},this)},"inner-menu":function(){this.afterCurrentEvent(this._calcShift)},hovered:function(){this.afterCurrentEvent(this._calcShift)},focused:function(){this.afterCurrentEvent(this._calcShift)}},onShow:function(){var t;this.sentShowUrl||((t=this.params.linkNext)&&BEM.blocks["i-yabs-sender"].sendShow(t),this.sentShowUrl=!0),home.stat.logDOMShow(this.domElem)},_togglerOnClick:function(){var t=this.hasMod("minified","yes");this.delMod("hovered"),this.toggleMod("minified","yes"),this._saveState(t?"expanded":"minified"),home.stat.logDOMShow(this.domElem),home.stat.logPath("click","notifications.mail.login.resize."+(t?"big":"small")),this.channel("desk-notif-card").trigger("toggled")},_initDropDownMenu:function(){this.bindTo("popup-action","pointerclick",function(t){this.dropdown.delMod("opened"),this._onActionClick(t)}),this.bindKeyTo("popup-action","space enter",function(t){"a"!==t.data.domElem.prop("tagName").toLowerCase()&&this.dropdown.delMod("opened"),this._onActionClick(t)}),BEM.blocks.dropdown2.on(this.domElem,"beforeOpen",function(){this.dropdown=this.findBlockInside("dropdown2"),this.setMod("inner-menu","toggled"),home.stat.logDOMShow(this.elem("options"),{visibilityCheck:!1})},this),BEM.blocks.dropdown2.on(this.domElem,"beforeClose",function(){this.delMod("inner-menu")},this)},_onBanMessage:function(t,e){e.name===this.params.name&&e.type===this.params.type&&this._onAction("ban")},_toggleExpanded:function(t){var e=this.hasMod("expanded"),i=e?"expand":"collapse",n=Object(s.a)("desktopNotifications.menu."+i),i=this.elem("action","type","expand");t=t||{},i.attr("title",n),i.attr("aria-label",n),this.toggleMod("expanded","yes"),this.toggleMod("minified","yes"),t.save&&this._saveState(e?"minified":"expanded"),this.domElem.removeAttr("data-statlog")},_sendAction:function(t){var e=this.params&&this.params.actions,t=e&&e[t];t&&t.href&&((new Image).src=t.href)},_hideCard:function(){BEM.channel("navi").trigger("closed",{item:this.domElem,delay:400}),this.setMod("state","hidden")},_isVisible:function(){var t=this.findBlockOutside("navi__item");if(t){if(!t.hasMod("hide","yes")&&!t.hasMod("disabled","yes"))return!0}else if(!this.domElem.closest(".rotate-items__item_hidden_focusable").length)return!0;return!1},_showClientCard:function(t){this.hasError||!this.hasMod("state","hidden")&&!this.hasMod("transparent","yes")?this._isVisible()&&home.stat.logDOMShow(this.domElem):(this.delMod("loading"),this.domElem.appendTo(this.domElem.parent()),this.delMod("state"),this.delMod(t?"position":"transparent"),setTimeout(function(){this.delMod(t?"transparent":"position"),home.stat.logDOMShow(this.domElem)}.bind(this),0))},_saveState:function(t){var e=this.params.actions&&this.params.actions[t]&&this.params.actions[t].href;(e=e||this.params.save&&this.params.save[t])&&setTimeout(function(){try{var t=$(".desk-notif-card__frame");t.length||(t=$('<iframe class="desk-notif-card__frame" name="desk-notif-card__frame" style="display:none"></iframe>'),$("body").append(t)),t.attr("src",e)}catch(t){}},300)},_onAction:function(t){switch(t){case"toggle":break;case"close":case"ban":this._hideCard();break;case"expand":return void this._toggleExpanded({save:!0});case"settings":return}this._sendAction(t)},_onActionClick:function(t){var e=$(t.data.domElem),e=this.getMod(e,"type");"setup"!==e&&"settings"!==e&&t.preventDefault(),"ban"===e?BEM.channel("desk-notif-card").trigger("ban",{name:this.params.name,type:this.params.type}):e&&this._onAction(e,t)},_calcShift:function(){var t=this._isShifted();this.toggleMod("shifted","yes",t)},_isShifted:function(){return(this.hasMod("inner-menu")||this.hasMod("hovered")||this.hasMod("focused"))&&this.hasMod("actions","yes")}},{live:function(){return this.liveBindTo("action","pointerclick",function(t){this._onActionClick(t)}),this.liveBindKey("action","space enter",function(t){this._onActionClick(t)}),this.liveBindTo("focusin focusout",function(t){var e=$("html").hasClass("utilityfocus");this.toggleMod("focused","yes","focusin"===t.type&&e)}),!1}}),i("Oy8Q"),i("EbQR"),i("nJe8"),i("+6Tr"),i("0RKT"),i("2A6R"),i("BwLZ"),BEM.DOM.decl({block:"desk-notif-card",modName:"rates",modVal:"yes"},{onSetMod:{js:{inited:function(){this.initListeners()}}},destruct:function(){var t=home.getData("inline-stocks.xivas")||[],e=this._onXivaEvent,i=this._onStocksChangedEvent;BEM.channel("stocks").un("changed",i),t.forEach(function(t){BEM.blocks["i-xiva"].stopListen(t.ch,e)})},initListeners:function(){var t=home.getData("inline-stocks.xivas")||[],i=this,e=this._onXivaEvent=function(t){i.onXivaEvent(t.dt)},n=this._onStocksChangedEvent=function(t,e){i.onXivaEvent(e)};t.forEach(function(t){BEM.blocks["i-xiva"].listen(t.ch,t.ts,e)}),BEM.channel("stocks").on("changed",n)},onXivaEvent:function(t){if(t.id===this.params.rateId){t=t.data&&t.data[0]||t.data;try{var e=this.params.precision,i=t["value"+e]||t.value,n=t["delta"+e]||t.delta,o=Number((n||"").replace("","-").replace(/[+%]/g,"").replace(",","."));this.elem("rate-info-value").text(i),this.elem("rate-info-delta").text(n);var s,r=0<o?"up":"down";this.setMod(this.elem("rate-info"),"delta",r),t.history&&(s=p(Wr,{values:t.history.reverse()}),this.findElem("rate-image").replaceWith(s))}catch(t){home.error.logError({block:"desk-notif-card_rates",method:"onXivaEvent",meta:{id:this.params.rateId}},t)}}}}),BEM.DOM.decl({block:"desk-notif-card",modName:"route",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.routes={},this.placeholder={gohome:this.elem("route-gohome"),gowork:this.elem("route-gowork")},this.setMod("loading","yes"),this._changeDirectionTo(this._getDirection()),this.hasMod("confirm-promo")&&(this.bindTo(this.elem("points-confirm","action","open-popup"),"click",this._onPointsConfirm),this.bindKeyTo(this.elem("points-confirm","action","open-popup"),"space enter",this._onPointsConfirm),this.bindTo(this.elem("points-confirm","action","reject"),"click",this._onPointsReject),this.bindKeyTo(this.elem("points-confirm","action","reject"),"space enter",this._onPointsReject),this.params["user-points"].promoMode||this._saveState("full"))},direction:function(t,e,i){this.findElem(this.findElem("route-"+e),"link").attr("tabindex","0"),i&&this.findElem(this.findElem("route-"+i),"link").attr("tabindex","-1")},hovered:{yes:function(){this.hasMod("confirm-promo")&&this._loadUserPointsBundle({preload:!0})}}},_changeDirectionTo:function(t){return this.direction=t,this.setMod("direction",this.direction),this.from="gohome"===t?"gowork":"gohome",this._getRouterData().then(this._renderRoute.bind(this)).then(this._showRoute.bind(this)).then(this._showClientCard.bind(this,this.isShowWithoutMotion)).fail(this._errorHandler.bind(this))},_errorHandler:function(t){this.hasError=!0,this.setMod("loading","no");var e=this.from;this.from=this.direction,this.direction=e,home.stat.logPath("tech","notifications.route.error"+t),this._hideCard()},_switchDirection:function(){return this._changeDirectionTo(this.from).then(this._saveDirection.bind(this)).then(function(){BEM.channel("navi").trigger("height-change",{delay:150})}),!1},_saveLastDirection:function(t){home.localStorage&&!home.localStorage.disabledLS&&home.localStorage.setItem("traffic."+this.params.id+".lastDirection",t)},_saveDirection:function(){var t;home.localStorage&&!home.localStorage.disabledLS&&(t="gowork"===this._getAutoDirectionTime()?this.__self._getWorkEnd():this.__self._getHomeEnd(),home.localStorage.setItem("traffic."+this.params.id,JSON.stringify({direction:this.direction,validUntil:t})))},_showRoute:function(){this.elem("route-placeholder").height(this.placeholder[this.direction].height()),setTimeout(function(){this.setMod("loading","no")}.bind(this),50)},_renderRoute:function(){var t=this.direction,e=this.placeholder[t],i=this.routes[t],n="";6<i.jamsNumber?s="red":3<i.jamsNumber?s="yellow":0<=i.jamsNumber?s="green":i.isBlocked&&(s="blocked"),s&&(n="desk-notif-card__icon_traffic_"+s);var o=i.title+" "+i.timeText,s=i.otherWayShow&&i.inBypassText.replace("%s",i.otherWayTimeBenefitText);e.html(p(Lr,{title:p(yt,{href:i.href,mix:" desk-notif-card__link",attrs:{"data-statlog":"notifications.route."+t+".card",tabindex:-1},mods:{black:"yes",pseudo:"yes"},content:o},{}),titleDesc:{mix:"desk-notif-card__style_text"},details:i.otherWayShow?p(yt,{href:i.aroundHref,content:s,mix:" desk-notif-card__details-link",attrs:{"aria-label":s,"data-statlog":"notifications.route."+t+".bypass"},mods:{pseudo:"yes"}},{}):"",iconClass:n}))},_getDirection:function(){var t="traffic."+this.params.id;if(home.localStorage&&!home.localStorage.disabledLS){var e=home.localStorage.getItem(t+".lastDirection"),t=home.localStorage.getItem(t);if(t){var i=JSON.parse(t);if(home.now().getTime()<i.validUntil)return this.isShowWithoutMotion=!0,i.direction}}i=this._getAutoDirection();return e===i?this.isShowWithoutMotion=!0:this._saveLastDirection(i),i},_getRouterData:function(){return this.__self._getRouterDataOrCachedRawData(this.params.apiUrls[this.direction]).then(function(t){var e,i;t.isBlocked?this.routes[this.direction]={title:this.params.pointTitles[this.direction],timeText:t.description,href:t.direct&&t.direct.mapUrl,isBlocked:!0}:(t.direct.isBlocked?e=t.bypass:(e=t.direct,i=t.bypass),this.routes[this.direction]={title:this.params.pointTitles[this.direction],timeText:e.timeText,inBypassText:i&&i.label,otherWayTimeBenefitText:i&&i.timeTextDelta,jamsNumber:t.jamsRate,href:e.mapUrl,aroundHref:i&&i.mapUrl,otherWayShow:!!i})}.bind(this))},_getAutoDirection:function(){return this.params.direction||this._getAutoDirectionTime()},_getAutoDirectionTime:function(){if(this.params.directionTime)return this.params.directionTime;var t=home.now().getHours();return t<15&&3<=t?"gowork":"gohome"},_loadUserPointsBundle:function(t){return t=t||{},this._userPointsBundle||(this._userPointsBundle=home.bundles.load("user-points"),this._userPointsBundle.catch(function(){this._userPointsBundle=null,home.error.logError({block:this.__self.getName(),method:"_loadUserPointsBundle",message:"Failed to load bundle"}),t.preload||(this.setMod(this.elem("points-confirm-wrapper"),"load-failed","yes"),setTimeout(function(){this.delMod(this.elem("points-confirm-wrapper"),"load-failed")}.bind(this),300))}.bind(this))),this._userPointsBundle},_onPointsConfirm:function(){return this._loadUserPointsBundle().then(function(){this._switchPromoToMinMode();var t=BEM.blocks["user-points"];t.on("hide",this._onUserPointsClose,this),t.on("points",this._onUserPointsUpdate,this),t.open(this.params["user-points"])}.bind(this)),!1},_onPointsReject:function(){return this._hideCard(),this._saveState(""),this._sendAction("ban"),!1},_switchPromoToMinMode:function(){this.delMod(this.findElem("points-screen","screen","big"),"visibility"),this.setMod(this.findElem("points-screen","screen","small"),"visibility","visible"),this._saveState("min"),home.stat.logDOMShow(this.domElem)},_onUserPointsClose:function(){BEM.blocks["user-points"].un("hide",this._onUserPointsClose,this),BEM.blocks["user-points"].un("points",this._onUserPointsUpdate,this)},_onUserPointsUpdate:function(t,e){var i=BEM.blocks["i-global"],i={GeohelperHost:i.param("geohelperHost"),MordaZone:i.param("mordaZone"),Locale:i.param("locale")};this.params.apiUrls={gohome:p(Vr,{start:e.work,finish:e.home,from:"notif"},i),gowork:p(Vr,{start:e.home,finish:e.work,from:"notif"},i)},this.delMod("confirm-promo"),this.setMod("updating","yes"),this._changeDirectionTo(this._getDirection()).then(function(){this.delMod("updating")}.bind(this)),this._saveState("")},_saveState:function(t){var e=this.params["user-points"];e.promoMode!==t&&""!==e.promoMode&&(e.csl&&((new Image).src=e.csl+"&empty=1&exdp="+t),e.promoMode=t)}},{_getWorkEnd:function(){var t=home.now();return new Date(t.getFullYear(),t.getMonth(),t.getDate(),15).getTime()},_getHomeEnd:function(){var t=home.now();return(t.getHours()<3?new Date(t.getFullYear(),t.getMonth(),t.getDate(),3):new Date(t.getFullYear(),t.getMonth(),t.getDate()+1,3)).getTime()},_getRouterDataOrCachedRawData:function(n){var i=this,t=i.cache[n];return t&&t.timestamp>home.now().getTime()?$.when(JSON.parse(t.data)):$.ajax({method:"get",url:n,cache:!1,timeout:1e4}).then(function(t){if(!t||!t.direct)return $.Deferred().reject("parseData").promise();if(!t.direct.time||t.bypass&&!t.bypass.time)return $.Deferred().reject("zeroResponse").promise();var e=t.bypass&&t.bypass.timeText;return t.isBlocked||t.direct.timeText||e?(i.cache[n]={data:JSON.stringify(t),timestamp:home.now().getTime()+3e5},t):$.Deferred().reject("parseData").promise()},function(t,e,i){return home.error.logAjaxError({block:"desk-notif-card",message:"notif-card._getRouterDataOrCahedRawData: ajax",url:n,source:"geohelper/router"},t,e,i),$.Deferred().reject("getData").promise()})},cache:{}}),i("Hmaj"),BEM.DOM.decl({block:"desk-notif-card",modName:"domik",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._initMailCountUpdate()}},_initMailCountUpdate:function(){this.params.uid&&this.channel("mail").on("update",function(t,e){this.params.uid===e.uid&&this._updateMailCounter(t,e)}.bind(this))},_updateMailCounter:function(t,e){this.elem("mail-count").text(e.value||Object(s.a)("desktopNotifications.mail.empty"))}}),BEM.DOM.decl({block:"desk-notif-card",modName:"promo",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),je(this.elem("style-text"),4,"desk-notif-card_promo_yes"),this.params.scroll&&($("."+this.params.scroll).length?(this.bindTo("link","click",this._onClick),this.bindKeyTo("link","space enter",this._onClick),this.params.doScroll&&this._scroll()):home.error.logError({block:"desk-notif-card_promo_yes",method:"desk-notif-card:onSetMod:js",message:"Block not found"}))}},_onClick:function(t){this._scroll(),t.preventDefault()},_scroll:function(){var t=$("."+this.params.scroll),e=$(".media-grid"),i=e.bem("media-grid");t.closest(e).length&&i.hasMod("collapsed")&&i.delMod("collapsed"),$("html,body").stop().animate({scrollTop:t.offset().top-40},"slow")}}),i("y/To"),BEM.DOM.decl({block:"desk-notif-card",modName:"etrains",modVal:"yes"},{onSetMod:{js:function(){var t;this.__base.apply(this,arguments),this._widgetId=this.params.widgetId,this.params.isTuned?this._initClientSchedule():this._initHeightAnimation(),this.params.isWidgetMode&&this._widgetId&&((t=$("#wd-wrapper-"+this.params.widgetId)).length?(this._widget=t.bem("widget"),this._bindWidgetEvents()):home.error.logError({block:"desk-notif-card",method:"desk-notif-card:onSetMod:js",message:"Etrains widget not found"})),this._hasNavi=!!$(".navi").length}},_bindWidgetEvents:function(){this.bindToWin("widgetSettingsTuned",this._onWidgetTuned),this.bindToWin("widgetSettingsDropped",this._onWidgetDropped)},_onAction:function(t){"setup"===t&&this.params.isWidgetMode?this._showWidgetPreferences():this.__base.apply(this,arguments)},_onWidgetTuned:function(t,e){t.id===this._widgetId&&e&&"save"===e.state&&window.location.reload()},_onWidgetDropped:function(t){t.id===this._widgetId&&window.location.reload()},_showWidgetPreferences:function(){$(".b-wdgt-preferences").bem("b-wdgt-preferences").show(this._widget)},_initClientSchedule:function(){var t,e=this.params;e.widgetHost&&(t=e.widgetHost+"widgets/suburban/next_trains",(e=e.raspData).locale=BEM.blocks["i-global"].param("locale"),$.ajax({url:t,data:e,context:this,dataType:"jsonp",success:this._onSuccess,error:this._onError}))},_onError:function(t,e,i){home.error.logAjaxError({block:"desk-notif-card",message:"desk-notif-card__etrains._initClientSchedule: ajax",source:"widget_store"},t,e,i),this._drawingFailed()},_onSuccess:function(t){var e;(t&&t.routes_forward&&t.routes_forward.length||t.routes_backward&&t.routes_backward.length)&&t?(e=p(Kr,{from:t.from.name,to:t.to.name}),t=p(Yr,{from:t.routes_forward,to:t.routes_backward,host:this.params.host}),this.elem("etrains-placeholder").empty().append(e,t),BEM.channel("navi").trigger("height-change",{delay:0}),this._showClientCard(!0),this._initHeightAnimation(),home.stat.logDOMShow(this.domElem)):this._drawingFailed()},_drawingFailed:function(){this._hideCard()},_switchDirection:function(t){t.preventDefault(),this.toggleMod("direction","reverse"),this._updateWrapperHeight()},_updateWrapperHeight:function(){var t,e;this._hasDifferentHeight&&(t=this.elem("etrains-list-from-wrapper").height(),e=this.elem("etrains-list-to-wrapper").height(),e=Math.max(t,e),this.elem("etrains-list-wrapper").height(e),this._hasNavi&&BEM.channel("navi").trigger("height-change",{delay:150}))},_initHeightAnimation:function(){this.elem("etrains-list-from").height()!==this.elem("etrains-list-to").height()&&(this._hasDifferentHeight=!0,this.setMod("height-animation","yes"))}}),i("ayR3"),i("qVEr"),BEM.DOM.decl({block:"desk-notif-card",modName:"social-alert",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),je(this.elem("style-text"),4,"desk-notif-card_social-alert_yes"),this.params.markAsReadParams&&(this.bindTo("link","click",this._markAsRead),this.bindKeyTo("link","space enter",this._markAsRead))}},_markAsRead:function(){var t=this.params.markAsReadParams;this._sendRequest({method:"post",url:t.read_url,source:"bell",headers:{"X-CSRF-Token":t.csrf_token}}),this._sendRequest({method:"put",url:t.read_url_legacy,source:"bell_legacy"})},_sendRequest:function(e){$.ajax({method:e.method,url:e.url,xhrFields:{withCredentials:!0},headers:e.headers,dataType:"json",timeout:1e4}).asPromise().catch(function(t){home.error.logError({block:this.__self.getName(),method:"_sendRequest",source:e.source},t)}.bind(this))}}),BEM.DOM.decl({block:"desk-notif-card",modName:"covid",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments);je(this.elem("covid-detail"),4,"desk-notif-card_covid_yes")}}}),i("CCCR"),i("6vhi"),i("DG8K"),i("yFtQ"),BEM.DOM.decl({block:"desk-notif-card",modName:"market",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._requestData()}},_renderCard:function(t){this.elem("title").html(t.title+" "+p(xn,{})),this.elem("market-content").replaceWith(p(ia,{itemsCount:t.itemsCount,items:t.items}))},_requestData:function(){$.ajax({method:"get",url:this.params.api,xhrFields:{withCredentials:!0},dataType:"json",timeout:1e4}).asPromise().then(function(t){if(!Boolean(t&&"0"!==(e=t.show)&&Boolean(e))){e=new Error("Empty or invalid data");return e.sourceType="backend",e.meta={data:t},Promise.reject(e)}var e;this._renderCard(t)}.bind(this)).catch(function(t){this._hideCard(),Object(we.a)({block:this.__self.getName(),message:"Failed to get data",url:this.params.url,source:"geohelper",service:"market"},t)}.bind(this))}}),i("zDJ7"),i("4oEA"),BEM.DOM.decl("media-service",{onSetMod:{js:function(){this._calcOverflow(this.domElem),this._initMenuEvents()}},_onData:function(){this._calcOverflow(this.domElem)},_calcOverflow:function(t){je(t,this.__self.TEXT_OVERFLOW_LINES,this.__self.getName())},_initMenuEvents:function(){this._getMenuId()&&setTimeout(this._createMenuChecked.bind(this),0)},_getMenuId:function(){return this.domElem.closest("[data-blockname]").data("blockname")},_createMenuChecked:function(){!this._control&&this.domElem&&this._createMenu()},_remove:function(){this._collapse(function(){this._fireEvent("remove")}.bind(this))},_fireEvent:function(t){this.channel("media-service").trigger(t,{$elem:this.domElem,layoutName:this._getMenuId()})},_collapse:function(t){var e=this.domElem,i=e.outerHeight();this.setMod("collapsed","yes"),e.height(i),this.afterCurrentEvent(function(){e.addClass("media-service_collapsed_yes").css("height","").onceAnimationEnd("transition",300,function(){t(),BEM.blocks["i-reposition-event"].trigger()})})},_createMenu:function(){var t=this._getMenuId();t&&(this._control=BEM.blocks["widget-control"].create(this.domElem,{name:t,removeOnHide:!0,items:{hide2:!0},customItems:this._getMenuCustomItems()}),this._control.on({hide:this._remove.bind(this,!1)},this))},_getMenuCustomItems:function(){return[]}},{live:!0,TEXT_OVERFLOW_LINES:2}),i("9mXv"),BEM.DOM.decl("dist-popup",{onSetMod:{js:function(){this.__base(),this._initPopup()}},_initPopup:function(){setTimeout(function(){BEM.blocks["i-message-locker"].acquireLock("dist-popup",this._hide.bind(this)).then(function(){this._onShow()}.bind(this),this.destruct.bind(this))}.bind(this),this.__self.SHOW_TIMEOUT)},_getPopupPosition:function(){return{top:12,left:18}},_bindEvents:function(){this.bindTo("no close","click",this._onNoClick),this.bindKeyTo("close","space enter",this._onNoClick),this.bindTo("yes","click",this._onYesClick)},_onShow:function(){var t=this.params,e=t.counters,t=detector.isSVGSupported()&&t.icons.icon_svg||t.icons.icon;this.elem("image-wrapper").prepend(p(na,{image:t})),this.popup=this.findBlockOn("popup").show(this._getPopupPosition()),this.popup.on({"before-hide":this._onBeforeHide,hide:this._onHide},this),this.popup._unbindFocusEvents(),BEM.blocks["i-visibilitychange"].waitForVisible(function(){this._sendCounter(e.show)}.bind(this)),this._bindEvents()},_onBeforeHide:function(t,e){e&&-1<["esc-key","close-click"].indexOf(e.source)&&this.afterCurrentEvent(this._countCancel)},_onHide:function(){BEM.blocks["i-message-locker"].releaseLock("dist-popup"),setTimeout(this.destruct.bind(this),this.__self.DESTRUCT_TIMEOUT)},_onYesClick:function(){this._closeFlag(this.params.close_url),this.params.yaCounterId&&(BEM.blocks["i-metrika"].add({id:this.params.yaCounterId,triggerEvent:!0}),this.params.bannerid&&BEM.blocks["i-bannerid"].save(this.params.bannerid))},_onNoClick:function(){return this.popup.hide(),this._countCancel(),!1},_hide:function(){this.popup&&this.popup.hide()},_countCancel:function(){this._closeFlag(this.params.close_url),this.params.quarantineUrl&&this._closeFlag(this.params.quarantineUrl),this._sendCounter(this.params.counters.no),window.home.gaCounter.trackCancelPopup()},_closeFlag:function(t){t&&((new Image).src=t)},_sendCounter:function(t){t&&t.length&&t.forEach(function(t){"path"===t.type?home.stat.logPath("click",t.content):"image"===t.type?(new Image).src=t.content:"show"===t.type&&home.stat.logPath("show",t.content)})},destruct:function(){return this.popup&&(this.popup.destruct(),this.popup=null),this.__base.apply(this,arguments)}},{SHOW_TIMEOUT:1e3,DESTRUCT_TIMEOUT:1e3}),i("IVQ+"),i("zAsB"),i("e+S3"),i("pQu5"),i("0SjY"),i("kVI9"),BEM.DOM.decl("b-wdgt-preferences",{onSetMod:{js:function(){var e=this;this.popup=this.findBlockOn(this.domElem,"popup"),this.popup.delMod("position"),this.bindTo("save","click",this.save),this.bindTo("cancel","click",this.cancel),this.bindTo("reset","click",this.reset),Widget.Init({hidePreferencesHandler:this.changeThis(function(){this.hide()})}),this.bindToWin("widgetSettingsTuned",function(t){e.widget&&t.id===e.widget.getId()&&e.widget.markChanged(!1,!0)}),this.popup.on("show",function(){this._skipReturnFocus=!0}),this.popup.on("hide",function(){this.channel("widget").trigger("hidePreferences",{elem:e.widget}),e._resetPopup()}),this.popup.on("show",function(){this.channel("widget").trigger("showPreferences",{elem:e.widget})}),this.baseTitle||(this.baseTitle=this.elem("head").text())}},show:function(t,e){this.widget=t,this.callback=e||function(){},this.setMod("loading","yes"),BEM.DOM.destruct(this.elem("form"),!0),Widget.Framework.showEditForm(t.getId(),this.elem("form"),this.changeThis(this.updateForm)),this.popup.show(this._setPopupParams()),this.bindToWin("resize",$.debounce(this.changeThis(function(){this.popup.repaint(this._setPopupParams())}),100))},hide:function(){this.widget=null,this.callback=null,this.popup.hide()},_resetPopup:function(){this.elem("head").text(this.baseTitle),this.unbindFromWin("resize")},_getPopupPos:function(){var t=this.domElem.width(),e=this.domElem.height(),i=$(window).height();return{left:($(window).width()-t)/2,top:Math.max(50,$(window).scrollTop()+(i-e)/2)}},_setPopupParams:function(){var t=this._getPopupPos();return this.popup.params.top=t.top,this.popup.params.left=t.left,t},updateForm:function(t){var e;t&&(this.delMod("loading"),t.title&&this.elem("head").text(t.title),t.form?e=t.form:t.prefs&&(e=this.buildForm(t.prefs)),e?(BEM.DOM.update(this.elem("form"),e),BEM.DOM.init(this.elem("form")),this.elem("controls").show()):this.elem("controls").hide(),this.popup.hasMod("visibility","visible")&&this.popup.repaint(this._setPopupParams()))},buildForm:function(t){return p(Ia,{list:t})},save:function(){for(var t=this.elem("form").find("form")[0],e={},i=0;i<t.length;i++){var n=t[i];n.name&&("checkbox"===n.type?e[n.name]=!!n.checked:"radio"===n.type&&!n.checked||(e[n.name]=n.value))}this.widget.markChanged(!1,!0),this.widget.getInstance().saveValues(e,this.callback.bind(this.widget)),this.hide()},cancel:function(){this.hide()},reset:function(){this.widget.getInstance().dropValues(this.callback.bind(this.widget)),this.hide()}},{live:!0}),i("2cTF"),i("1cYz"),i("+iT6"),i("JddL"),i("b7em"),i("TJmz"),i("nKr7"),i("/4SB"),i("M0/h"),i("A4gj"),i("4opE"),i("vhCX"),i("pJ9q"),i("qtrq");var Aa={popup:function(t){var e="",i=t.mix&&"object"==typeof t.mix&&t.mix[0];return i&&i.js&&(e=(i.block||"")+(i.elem?"__"+i.elem:"")),p(be,{mods:t.mods,js:t.js,mix:t.mix,jsMix:i&&i.js?home.getBEMParams(e)+":"+home.getBEMParams(i.js):null,content:Ra(t.content&&!Array.isArray(t.content)&&"content"===t.content.elem?t.content.content:void 0,"popup")})},"b-autocomplete-item":function(t){return t.mods&&"geo"===t.mods.type&&t.geoid&&t.title?p(Da,t):t.mods&&"address"===t.mods.type&&t.name&&t.name_short&&t.lat&&t.lon&&t.data?p(Oa,t):(home.error.logError({block:"i-bemhtml-wrapper",message:"Unknown b-autocomplete-item: "+String(t.mods&&t.mods.type||"unknown")}),"")},select:function(t){return"item"===t.elem?p(ba,t):(home.error.logError({block:"i-bemhtml-wrapper",message:"Unknown select: "+(t.elem||"unknown")}),"")}};function Fa(t){if(t.block&&t.block in Aa){var e=t.block;return Aa[e](t)}return home.error.logError({block:"i-bemhtml-wrapper",message:"Unknown block: "+(t.block||"unknown")}),""}window.BEMHTML=window.BEMHTML||{apply:function(t){try{return e=t,Array.isArray(e)?e.map(Fa).join(""):Fa(e)}catch(t){return home.error.logError({block:"i-bemhtml-wrapper",method:"apply"},t),""}var e}},i("3EtG"),i("LzIu"),i("NpOj"),i("b37U"),BEM.DOM.decl("media-grid",{ADB_BLOCKS:{rtb_inserts:home.cls.full("rtb_inserts")},onSetMod:{js:function(){this._notInitedBlocks=this.params.layout,this._notShowedBlocks=this._notInitedBlocks.slice(),this._sendRealShowDebounced=$.debounce(this._sendRealShow,400,this),this._onScroll(null,BEM.DOM.win.scrollTop()),this.channel("i-reposition-event").on("reposition",this._onScroll,this),this.channel("media-service").on("remove",function(t,e){e=e.$elem.closest(this.findElem("row"));BEM.DOM.destruct(e)},this);var t=BEM.blocks["blender-logger"];t.initBlock(),t.updateMediaRows(),t.sendStat();t=this.elem("media-content")[0];t&&(t=Math.floor(function(t,e){t=t.getBoundingClientRect();return Math.max(Math.min(e.clientHeight,t.bottom)-Math.max(0,t.top),0)}(t,document.documentElement)),home.stat.logPath("tech","mediafooter.initial_visibility(id="+t+")"))}},_getDom:function(t){return this.elem("row").filter('[data-blockname="'+t+'"]').children().eq(0)},_getBlock:function(t,e){if(!t.hasClass("i-bundle-bem"))return this.findBlockOn(t,p(hr,e))},_requestInit:function(n){var o=this;this._notInitedBlocks=this._notInitedBlocks.filter(function(e){var t=o.ADB_BLOCKS[e]||e,i=this._getDom(t);return i.length?n<i.offset().top||(this.setMod("visible","yes"),this._getBlock(i,t),home.stat.logDOMShow(i,{convertCounters:function(t){return o.ADB_BLOCKS[e]?t.replace(o.ADB_BLOCKS[e],e):t}}),void this.setMod(i.closest("[data-blockname]"),"visible","yes")):(home.error.logError({block:"media-grid",method:"_requestInit",message:"Child not found: "+e}),!1)},this)},_sendRealShow:function(s,r){this._notShowedBlocks=this._notShowedBlocks.filter(function(t){var e=this._getDom(t);if(!e.length)return!1;var i=e.height(),n=e.offset().top,o=n+i;if(!(s<=n&&o<=r||n<=s&&o<=r&&.5<(o-s)/i||s<=n&&r<=o&&.5<(r-n)/i))return!0;e=this._getBlock(e,t);e&&e.setMod("visible","yes"),home.stat.logPath("show",t+".realshow")},this),this._notShowedBlocks.length||this.channel("i-reposition-event").un("reposition",this._onScroll,this)},_onScroll:function(t,e){var i=window.innerHeight+e;this._requestInit(i),this._sendRealShowDebounced(e,i),!this._shown&&i>this.domElem.offset().top+this.__self.MIN_VISIBLE_HEIGHT&&(this._shown=!0,home.stat.logPath("show","mediafooter.realshow"))}},{MIN_VISIBLE_HEIGHT:62});var Na={show:{entity:"card",eventType:"show"},click:{entity:"card",eventType:"click"},swipe_to_site:{entity:"card",eventType:"click"},share:{entity:"share",eventType:"click"},"comments:counter_click":{entity:"comments",eventType:"click"},"comments:counter_show":{entity:"comments",eventType:"show"},"feedback:cancel_more":{entity:"feedback_cancel_more",eventType:"click"},"feedback:cancel_less":{entity:"feedback_cancel_less",eventType:"click"},"feedback:more":{entity:"feedback_more",eventType:"click"},"feedback:less":{entity:"feedback_less",eventType:"click"},"feedback:favourite":{entity:"feedback.favourite",eventType:"click"},"feedback:cancel_favourite":{entity:"feedback.cancel_favourite",eventType:"click"},"feedback:block":{entity:"feedback.block",eventType:"click"},"feedback:cancel_block":{entity:"feedback.cancel_block",eventType:"click"},"preview:click":{entity:"preview",eventType:"click"},"preview:show":{entity:"preview",eventType:"show"},"favourite_button:show":{entity:"favourite_button",eventType:"show"},"favourite_button:click":{entity:"favourite_button",eventType:"click"},"custom_user_feedback:show":{entity:"custom_user_feedback",eventType:"show"},"complain:click":{entity:"complain",eventType:"click"},"complain:show":{entity:"complain",eventType:"show"},select:{entity:"iceboarding",eventType:"click"},"iceboarding:show":{entity:"iceboarding",eventType:"show"},"ad_feed:show":{entity:"ad_feed",eventType:"show"},"ad_feed:click":{entity:"ad_feed",eventType:"click"},autoplay_on:{entity:"video.autoplay_on",eventType:"click"},autoplay_off:{entity:"video.autoplay_off",eventType:"click"},sound_on:{entity:"video.sound_on",eventType:"click"},sound_off:{entity:"video.sound_off",eventType:"click"},"call2action:show":{entity:"call2action",eventType:"show"},"call2action:click":{entity:"call2action",eventType:"click"},"content_item:show":{entity:"content_item",eventType:"show"},"content_item:swipe":{entity:"content_item",eventType:"swipe"},"ad_gallery:show":{entity:"ad_gallery",eventType:"show"},"ad_gallery:click":{entity:"ad_gallery",eventType:"click"},"source:show":{entity:"source",eventType:"show"},"source:click":{entity:"source",eventType:"click"},external_click:{entity:"external_click",eventType:"click"},expand_text:{entity:"expand_text",eventType:"click"},"stop_and_go:show":{entity:"stop_and_go",eventType:"show"},"stop_and_go:click_continue":{entity:"stop_and_go",eventType:"click"},"stop_and_go:click_out":{entity:"stop_and_go",eventType:"click"},"card_source:click":{entity:"card_source",eventType:"click"},"ecom:product:show":{entity:"ecom.product",eventType:"show"},"ecom:product:click":{entity:"ecom.product",eventType:"click"},"ecom:product_on_card_preview:show":{entity:"ecom.product_on_card_preview",eventType:"show"},"ecom:product_on_card_preview:click":{entity:"ecom.product_on_card_preview",eventType:"click"}},La=["client:show","open_feedback_menu","swipe","deepwatch","ad_feed:load","ad_feed:fail","ad_feed:preview_show","ad_feed:s2s_received","heartbeat","autoplay","autopause","play","pause","end","replay","seek","custom_user_feedback:click","custom_user_feedback:cancel_click","interview:show","interview:close","interview:submit","short","view","content_item:tap","auto_expand"];BEM.DOM.decl("zen-lib",{onSetMod:{js:function(){var t,e,i;this.bindTo("retry-button","click",this._onRetryClick),this._loadDevLibParamsMemo=(t=this._loadDevLibParams,function(){return e&&function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}(e,arguments)?i:(e=arguments,i=t.apply(null,arguments))}),BEM.channel("adb").on("detect",this._handleAdblockDetection.bind(this)),this.nativeBundleNeed=this.params.libParams.isAdblock&&this.params.libParams.additionalBundles,this.nativeBundleNeed&&(this.nativeBundlePromise=new Promise(function(t,e){this.nativeBundlePromiseResolve=t,this.nativeBundlePromiseReject=e}.bind(this)).catch(function(t){t=t||new Error("cannot load native bundle: Timeout");return this._logError(t,"error"),!1}.bind(this)))},state:function(t,e){var i;"loaded"===e&&"prerender"===document.visibilityState&&(home.stat.logPath("show",this.params.statRoot+".loaded_in_prerender"),i=this,document.addEventListener("visibilitychange",function t(){"visible"===document.visibilityState&&(home.stat.logPath("show",i.params.statRoot+".visible_after_prerender"),document.removeEventListener("visibilitychange",t))})),home.stat.logPath("show",this.params.statRoot+"."+e),this._rumPage&&"retry"===e&&this._rumPage.cancel()}},_triggerFirstPaint:function(t,e){requestAnimationFrame(function(){requestAnimationFrame(function(){this.trigger("painted",t)}.bind(this))}.bind(this)),this._rumPage&&(this.triggered?Ya.Rum.sendTimeMark("2954",Ya.Rum.getTime(),!1,this._rumPage):(Ya.Rum.sendTimeMark("2793",e.timemark||Ya.Rum.getTime(),!1,this._rumPage),Ya.Rum.sendTimeMark("first-paint."+(t?"":"no_")+"ssr."+(e.isCache?"":"no_")+"cache",e.timemark||Ya.Rum.getTime(),!1,this._rumPage)),this.triggered=!0)},loadAndRender:function(){if(window.Ya&&Ya.Rum&&Ya.Rum.makeSubPage&&!this._rumPage&&(this._rumPage=Ya.Rum.makeSubPage(this.params.pageId,window.zenTimeMark)),!this._bundleRequested){this._bundleRequested=!0,home.stat.logPath("show",this.params.statRoot+".init"),this.params.libParams.appContainer=this.elem("container")[0];var t=this.params.zenClientHost?this._loadDevLibParamsMemo(this.params.zenClientHost,this.params.libParams.isAdblock).then(function(t){t=this._combineParams(t,this.params.libParams);return console.log("Current zen lib params:",t),t}.bind(this)):Promise.resolve(this.params.libParams),e=this.params.zenLoaderHost?this._loadDevLibParamsMemo(this.params.zenLoaderHost,this.params.libParams.isAdblock).then(function(t){return this._injectZen(t.pathToLoader)}.bind(this)):this._runIncludedLoader();return Promise.all([t,e]).then(function(t){if(!this.__self.isZenEvaluated())throw Error("zen lib hasn't been evaluated correctly");return this._createZen(t[0])}.bind(this))}},_onRetryClick:function(){this.setMod("state","loading"),this._bundleRequested=!1,this.loadAndRender()},_runIncludedLoader:function(){},_loadDevLibParams:function(t,e){t="https://"+t+"/lib-config",e=[["withSsr",!0],["withAdblock",e]].reduce(function(t,e){return e[1]&&t.push(e[0]+"=true"),t},[]).join("&");return t+=e?"?"+e:"",$.ajax({url:t,xhrFields:{withCredentials:!0}})},_combineParams:function(i,t){var e=["isDev","pathToLoader","staticHost","version","fallbackVersion"].reduce(function(t,e){return t[e]=i[e],t},{});return $.extend({},t,e)},_writeCacheTtlToCookie:function(t,e,i){var n=Number(e(i)),e=Number(this.params.timestamp);n&&e&&((i={})[t]=e+n,window.Ya&&window.Ya.ycCookie&&window.Ya.ycCookie.set(this.__self.ZEN_COOKIE_CONTAINER,i))},_removeCacheTtlFromCookie:function(){window.Ya.ycCookie.remove(this.__self.ZEN_COOKIE_CONTAINER)},_rows:[],_createZen:function(t){var o={api:"1096",js:"628",css:"2447","react-chunk":"2953"},e=this.params.timeout||1e4,i=window.YandexZen.loader;return i.on("timings",function(i){var n;this._rumPage&&(n=this._rumPage,Object.keys(o).forEach(function(t){var e=i[t];-1<e&&Ya.Rum.sendDelta(o[t],e,n)}))}.bind(this)),i.on("chunkTimings",function(i){var n;this._rumPage&&window.zenTimeMark&&(n=this._rumPage,Object.keys(o).forEach(function(t){var e=i[t];-1<e&&Ya.Rum.sendDelta(o[t],e-window.zenTimeMark,n)}))}.bind(this)),i.on("renderCachePut",this._handleRenderCachePut.bind(this)),i.on("packShown",this._removeCacheTtlFromCookie.bind(this)),i.on("invalidatePack",this._removeCacheTtlFromCookie.bind(this)),i.on("firstPaint",function(t){this._triggerFirstPaint(!0,t)}.bind(this)),i.on("placeholder",function(t){this.trigger("placeholder",t)}.bind(this)),i.on("rowMounted",function(t){this.trigger("rowMounted",t)}.bind(this)),i.on("zenClicksCount",function(t){this.trigger("zenClicksCount",t)}.bind(this)),i.on("ssrSchemeFailed",function(t){home.stat.logPath("tech",this.params.statRoot+".ssr_scheme_failed",{customParams:$.extend({},t.meta,{causeError:t.message,step:t.key})})}.bind(this)),new Promise(function(t){$(t)}).then(function(){return this._execLoader(i,t,e).then(this._renderLib.bind(this)).catch(function(t){this.trigger("error"),this.setMod("state","retry"),this._logError(t,"critical")}.bind(this))}.bind(this))},_execLoader:function(t,e,i){e=t.create(e);return this._lateRenderingRace({loader:e,lagTime:i}),e},_renderLib:function(t){this.trigger("loaded"),t.on("firstPaint",function(t){this._triggerFirstPaint(!1,t),this._rumPage&&Ya.Rum.sendTTI(!1,Ya.Rum.getTime(),this._rumPage)}.bind(this)),t.on("stat",this._onZenStatData.bind(this)),t.on("placeholder",function(t){this.trigger("placeholder",t)}.bind(this)),t.on("hydrate-placeholder",function(t){this.trigger("hydrate-placeholder",t)}.bind(this)),t.on("rowsHeightsChanged",function(t){this.trigger("rowsHeightsChanged",t)}.bind(this)),t.on("placeholderShow",function(t){this.trigger("placeholderShow",t)}.bind(this)),t.on("rowMounted",function(t){var e=t.grid[0].row;this._rows[e]=t.grid[0].type,t.grid[0].row>this.params.MAX_ROW_TO_LOG||this.trigger("rowMounted",t)}.bind(this)),t.on("morePackLoadingError",function(t){home.stat.logPath("tech",this.params.statRoot+".more_pack_not_loaded"),this.trigger("morePackLoadingError",t)}.bind(this)),t.on("advManagerReceived",function(t){this.trigger("advManagerReceived",t)}.bind(this)),this.nativeBundleNeed&&(t.on("nativeBundleLoaded",function(){this.nativeBundlePromiseResolve(!0)}.bind(this)),t.on("nativeBundleFailed",function(t){this.nativeBundlePromiseReject(t)}.bind(this))),t.on("advManagerReceiveFailed",function(t){this._logError(t,"error"),this.trigger("advManagerReceiveFailed",t)}.bind(this)),t.on("packShown",this._removeCacheTtlFromCookie.bind(this)),t.on("invalidatePack",this._removeCacheTtlFromCookie.bind(this)),t.render(this.params.isZenChuckedAnswer&&document.getElementById("zen")||this.elem("container")[0]),this.setMod("state","loaded")},_handleRenderCachePut:function(t){this.isAdblockDetected&&!this.params.libParams.isAdblock||this._writeCacheTtlToCookie(this.__self.cachStatic,function(t){return t&&t.static&&t.static.ttl},t)},_handleAdblockDetection:function(){this.isAdblockDetected||this.params.libParams.isAdblock||this._removeCacheTtlFromCookie(),this.isAdblockDetected=!0},_lateRenderingRace:function(t){var e=(t=t||{}).loader,i=t.lagTime,t=new Promise(function(t){setTimeout(t,i,i)});return Promise.race([e.catch(function(){}),t]).then(function(t){t===i&&this.trigger("lateRendering")}.bind(this))},_onZenStatData:function(t){var e,i,n,o=this.params.MAX_ROW_TO_LOG,s=t&&t.statMeta&&t.statMeta.rowIndex,r=t&&t.statMeta&&t.statMeta.link,a=t.eventName.split("#")[0];-1===La.indexOf(a)&&((n=Na[a])?(i=n.eventType,this.__self.checkIsPlaceholderRow(this._rows[s])?(e=this.params.statRoot+"..placeholder."+i+".row"+s+"."+n.entity,home.stat.logPath("tech",e)):(n=(e="number"==typeof s&&s<o?this.params.statRoot+".row"+s:this.params.statRoot)+"."+n.entity,home.stat.logPath(i,n,"click"===i?{url:r}:void 0)),"click"===i&&home.stat.flushQueue()):home.error.logError({block:"zen-lib",message:"Unknown zen stat event type "+a,meta:t,sourceType:"logic",level:"warn"}))},_injectZen:function(o){return new Promise(function(t,e){var i=o,n=document.createElement("script");n.src=i,n.onload=function(){t()},document.body.appendChild(n),setTimeout(function(){e(new Error("_injectZen: Unreachable Zen loader"))},5e3)})},_logError:function(t,e){var i=t.name,n=t.message;t.name&&t.message&&(t.message=i+" "+n),home.error.logError({block:"zen_lib",method:"_logError",message:i||n?void 0:"UNKNOWN_ERROR"+JSON.stringify(t),sourceType:t.sourceType,source:t.owner,meta:t.meta,level:e},t)}},{ZEN_COOKIE_CONTAINER:"zen",cachStatic:"cacS",isZenEvaluated:function(){return window.YandexZen&&window.YandexZen.loader},checkIsPlaceholderRow:function(t){return"placeholder"===t||"typed-placeholder"===t}}),i("VznB"),i("gm0g"),i("tJai");var Ua,Ha={rtb_inserts:home.cls&&home.cls.full("rtb_inserts")},za={};for(Ua in Ha)za[Ha[Ua]]=Ua;function Wa(t){return za[t]||t}function $a(t,e,i){return i(k,{jsMix:{modal:{}},mix:home.getBEMClassname("modal",t),content:i(qa,{content:t.content}),zIndexGroupLevel:t.zIndexGroupLevel||20,mods:{autoclosable:t.mods&&t.mods.autoclosable}})}function qa(t){return"<div class='modal__table'>"+f.a.oneElem("<div class='modal__cell'>"+f.a.oneElem("<div class='modal__content'>"+f.a.oneElem(t.content)+"</div>")+"</div>")+"</div>"}function Va(t,e){return"<div "+_()({class:"modal__close",role:"button",tabindex:"0","aria-label":e.l10n("a11y.close")})+"></div>"}function Ka(t,e,i){var n=Math.ceil(t.length/2),o=t.map(function(t){return i(Za,{layoutName:t.layoutName,tumbler:i(Co,{mods:{size:"n",tone:"grey",theme:"normal",view:"default","no-wrap":"yes"},content:[{side:"right",content:i(Xa,{title:t.title,desc:t.desc})}]})})}),t=o.slice(0,n),n=o.slice(n);return i(Ga,{left:t.join(""),right:n.join(""),cancel:i(_t,{mix:"hidden-blocks-popup__button hidden-blocks-popup__cancel",mods:{theme:"normal-sharp",size:"line"},content:e.l10n("hidden_blocks.cancel")}),submit:i(_t,{mix:"hidden-blocks-popup__button hidden-blocks-popup__submit",mods:{theme:"action-sharp",size:"line"},content:e.l10n("hidden_blocks.save")})})}function Ga(t,e,i){return f.a.oneElem("<div class='hidden-blocks-popup i-bem' data-bem='{\"hidden-blocks-popup\":{}}'>"+(f.a.oneElem("<div class='hidden-blocks-popup__inside'>"+(f.a.oneElem("<h1 class='hidden-blocks-popup__title'>"+f.a.oneElem(e.l10n("hidden_blocks.title"))+"</h1>")+f.a.oneElem("<div class='hidden-blocks-popup__content'>"+(f.a.oneElem("<div class='hidden-blocks-popup__column'>"+f.a.oneElem(t.left)+"</div>")+f.a.oneElem("<div class='hidden-blocks-popup__column'>"+f.a.oneElem(t.right)+"</div>"))+"</div>"))+"</div>")+f.a.oneElem("<div class='hidden-blocks-popup__buttons buttons-line buttons-line_border-bottom_no'>"+(f.a.oneElem(t.cancel)+f.a.oneElem(t.submit))+"</div>"))+"</div>")+f.a.oneElem(i(Va,t))}function Za(t){return"<div "+_()({class:"hidden-blocks-popup__item","data-layout-name":t.layoutName})+">"+f.a.oneElem(t.tumbler)+"</div>"}function Xa(t){return f.a.oneElem("<span class='hidden-blocks-popup__item-title'>"+f.a.oneElem(t.title)+"</span>")+f.a.oneElem("<span class='hidden-blocks-popup__item-desc'>"+f.a.oneElem(t.desc)+"</span>")}function Ja(t,e,i,n){var o=Math.abs(n-i),s="exact";100<o?s="huge":10<o?s="big":1<=o&&(s="small"),home.stat.logPath("tech",e+".height_change."+s,{customParams:{oldHeight:i,newHeight:n,layoutName:t}})}function Qa(t,e,i){return t.map(function(t){var e;return"div-solid-background"===t.type?e=tc:"div-gradient-background"===t.type?e=ec:"div-image-background"===t.type&&(e=ic),i(e,t)}).reverse().join(",")+";"}function tc(t){t=cs(t.color);return"linear-gradient(to bottom,"+t+","+t+")"}function ec(t){return"linear-gradient(to bottom,"+cs(t.start_color)+", "+cs(t.end_color)+")"}function ic(t){return'url("'+t.image_url+'")'}function nc(t,e,i){var n=t.json,o="",s="divjson__clickable media-service__title-text",r=t.block,a=home.getData("media-grid.blocks"),r=i(Er,a&&a[r]&&a[r]||{});return r&&(o=i(B,{mix:"media-service__title-icon",attrs:{style:home.makeStyle({"background-image":"url("+r+")"})}}),s+=" media-service__title-text_icon_yes"),i(Yc,{block:t.block,stack:t.stack,padding_modifier:n.padding_modifier,mix:"divjson-title",content:i(yr,{titleMods:{mix:"divjson-title__header"},title:i(Hc,{block:t.block,action:n.action,stack:t.stack,mix:s,content:o+i(Wc,{text:n.text})})})})}function oc(t,e,i){var n=t.json;return i(Yc,{block:t.block,action:n.action,stack:t.stack,padding_modifier:n.padding_modifier,mix:"divjson-separator divjson-separator_size_"+(n.size||"xs").replace("_","-")+(n.has_delimiter?" divjson-separator_delimiter":""),style:{"border-color":cs(n.delimiter_color||"#14000000"),"flex-grow":"match_parent"===n.size?n.weight||1:void 0}})}function sc(t,e,i){t=t.json;return i(rc,{day:home.htmlFilter(t.date_day),month:home.htmlFilter(t.date_month)})}function rc(t){return"<div class='divjson-date-element'>"+(f.a.oneElem("<div class='divjson-date-element__day'>"+f.a.oneElem(t.day)+"</div>")+f.a.oneElem("<div class='divjson-date-element__month'>"+f.a.oneElem(t.month)+"</div>"))+"</div>"}function ac(t,e,i){var n=t.json;if(!n.image_url)return"";var o,s=t.stack.some(function(t){return"div-gallery-block"===t.type}),r={},a=Boolean(t.size);return a?(o={xs:16,s:18,m:20,l:24,xl:36,xxl:40}[t.size||"m"],r.width=hs((n.ratio||1)*o),r.height=hs(o)):r["padding-bottom"]=(100/(n.ratio||1)).toFixed(2)+"%",r["background-image"]=s?void 0:'url("'+n.image_url+'")',i(B,{mix:home.getBEMClassname("divjson-image-element",{mix:[t.mix,s&&"imageloader__image"].filter(Boolean).join(" "),mods:{subtype:"block"===t.subtype||a?"centered":void 0,"full-width":a?void 0:"yes"}}),attrs:{"data-image":s?n.image_url:void 0,style:home.makeStyle(r)}})}function cc(t,e,i){var n=t.json,o="",s="",r="";return n.side_element&&("div-image-element"===n.side_element.element.type?r=ds(i,ac,t,{json:n.side_element.element,mix:n.side_element.size?"divjson-universal__element-image_size_"+n.side_element.size:""}):"date_element"===n.side_element.element.type&&(r=i(sc,{json:n.side_element.element}))),r&&(r=i(B,{mix:home.getBEMClassname("divjson-universal__element",{mods:{size:n.side_element.size}}),content:r}),"right"===n.side_element.position?s=r:o=r),i(Yc,{block:t.block,action:n.action,stack:t.stack,padding_modifier:n.padding_modifier,mix:home.getBEMClassname("divjson-universal",{mods:{title:n.title?"yes":void 0,text:n.text?"yes":void 0}}),content:i(lc,{left:o,right:s,title:i(Wc,{mix:"divjson-universal__title",text:n.title,style:n.title_style||"title_m",maxLines:n.title_max_lines}),text:i(Wc,{mix:"divjson-universal__text",text:n.text,style:n.text_style||"text_s",maxLines:n.text_max_lines})})})}function lc(t){return f.a.oneElem(t.left)+f.a.oneElem("<div class='divjson-universal__main'>"+(f.a.oneElem(t.title)+f.a.oneElem(t.text))+"</div>")+f.a.oneElem(t.right)}function hc(t,e,i){return i(B,{mix:"divjson-image",content:ds(i,ac,t,{json:t.json.image,subtype:"block"})})}function dc(r,t,a){for(var e=r.json,i=1,n=0;n<e.rows.length;++n)if("row_element"===e.rows[n].type){i=e.rows[n].cells.length;break}for(var c=e.columns||[];c.length<i;)c.push({});var o=c.some(function(t){return Boolean(t.weight)}),s=c.some(function(t){return!t.weight}),l=e.rows.map(function(s){var t,e;return e="row_element"===s.type?s.cells.map(function(t,e){var i=c[e],n="",o="";t.text&&(n=a(Wc,{mix:"divjson-table__cell-text",style:t.text_style||"text_m",text:t.text})),t.image&&(o=a(B,{mix:"divjson-table__cell-image",content:ds(a,ac,r,{json:t.image,size:!t.text&&t.image_size||"m"})}));e=[];return n&&e.push(n),o&&("right"===t.image_position?e.push(o):e.unshift(o)),a(mc,{mods:{left:i.left_padding||"xs",right:i.right_padding||"xs",top:s.top_padding||"zero",bottom:s.bottom_padding||"xxs",valign:t.vertical_alignment||"center",halign:t.horizontal_alignment||"left"},content:e.join("")})}).join(""):(t=c[0],e=c[c.length-1],a(mc,{mods:{separator:"yes",left:t.left_padding||"xs",right:e.right_padding||"xs"},attrs:{colspan:i,style:home.makeStyle({"border-color":cs(s.color||"#14000000")})},content:a(B,{mix:"divjson-table__cell-separator"})})),a(pc,{cells:e})}).join(""),h=c.reduce(function(t,e){return t+(e.weight||0)},0)||c.length,d=a(_c,{cols:c.map(function(t){return a(fc,{width:(100*(t.weight||0)/h).toFixed(2)+"%"})}).join("")});return a(Yc,{block:r.block,action:e.action,stack:r.stack,padding_modifier:e.padding_modifier,mix:"i-bem "+home.getBEMClassname("divjson-table",{mods:{"full-width":o?"yes":void 0,fixed:s?void 0:"yes"}}),content:a(uc,{colgroup:d,rows:l}),js:{"divjson-table":{}}})}function uc(t){return"<div class='divjson-table__sizer'></div>"+f.a.oneElem("<table class='divjson-table__table'>"+(f.a.oneElem(t.colgroup)+f.a.oneElem(t.rows))+"</table>")}function mc(t){return"<td "+_()(Object.assign({class:w("divjson-table__cell",t||{})},t.attrs))+">"+f.a.oneElem(t.content)+"</td>"}function pc(t){return"<tr>"+f.a.oneElem(t.cells)+"</tr>"}function _c(t){return"<colgroup>"+f.a.oneElem(t.cols)+"</colgroup>"}function fc(t){return"<col "+_()({width:t.width})+">"}function gc(e,t,i){var n=e.json;return i(Yc,{block:e.block,action:n.action,stack:e.stack,padding_modifier:n.padding_modifier,mix:home.getBEMClassname("divjson-buttons",{mods:{alignment:n.alignment||"left",fullwidth:n.is_fullwidth?"yes":void 0}}),content:n.items.map(function(t){return ds(i,vc,e,{json:t})}).join("")})}function vc(t,e,i){var n=t.json;return i(Hc,{action:n.action,block:t.block,stack:t.stack,attrs:{style:home.makeStyle({"background-color":cs(n.background_color||"#edf0f2")})},mix:home.getBEMClassname("divjson-buttons__button",{mods:{text:n.text?"yes":void 0,image:n.image?"yes":void 0}}),content:(n.image?i(B,{mix:"divjson-buttons__image",content:ds(i,ac,t,{json:n.image})}):"")+(n.text?i(B,{mix:"divjson-buttons__text",content:ls(n.text)}):"")})}function bc(t,e,i){var n=t.json;return i(Yc,{block:t.block,action:n.action,stack:t.stack,padding_modifier:n.padding_modifier,mix:"divjson-footer",content:(n.image?i(B,{mix:"divjson-footer__image",content:ds(i,ac,t,{json:n.image})}):"")+i(Wc,{mix:"divjson-footer__text",text:n.text,style:n.text_style||"button"})})}function yc(t,e,i){var n=t.json;return i(Yc,{block:t.block,action:n.action,stack:t.stack,padding_modifier:n.padding_modifier,mix:home.getBEMClassname("divjson-traffic",{mods:{align:n.alignment||"left"}}),content:n.items.map(function(t){return i(wc,{scoreAttrs:{style:home.makeStyle({"border-color":cs(t.color||"#ffedf0f2")})},score:t.score,text:ls(t.text)})}).join("")})}function wc(t){return"<div class='divjson-traffic__element'>"+(f.a.oneElem("<div "+_()(Object.assign({class:"divjson-traffic__element-score"},t.scoreAttrs))+">"+f.a.oneElem(t.score)+"</div>")+f.a.oneElem("<div class='divjson-traffic__element-text'>"+f.a.oneElem(t.text)+"</div>"))+"</div>"}function kc(e,t,i){var n=e.json,o={},s={direction:n.direction||"vertical",valign:n.alignment_vertical||"top",halign:n.alignment_horizontal||"left",style:n.frame&&n.frame.style?n.frame&&n.frame.style:void 0};return n.width&&("numeric"===n.width.type?o.width=hs(n.width.value):"predefined"===n.width.type&&"match_parent"===n.width.value?s.width="match-parent":"predefined"===n.width.type&&"wrap_content"===n.width.value&&(s.width="wrap-content")),n.height&&("numeric"===n.height.type?o.height=hs(n.height.value):"predefined"===n.height.type&&"match_parent"===n.height.value&&(s.height="match-parent")),n.background&&n.background.length&&(o["background-image"]=i(Qa,n.background)),n.frame&&"border"===n.frame.style&&n.frame.color&&(o["border-color"]=cs(n.frame.color)),i(Yc,{block:e.block,action:n.action,stack:e.stack,mix:home.getBEMClassname("divjson-container",{mix:i(Ec,e),mods:s}),style:o,content:n.children.map(function(t){return ds(i,Uc,e,{json:t})}).join("")})}function Ec(t){var e=t.json,t=[];return e.frame&&"shadow"===e.frame.style&&t.push("media-service__shadow"),e.frame&&e.frame.adaptive_bg&&t.push("divjson-container_adaptive-bg_yes"),t.join(" ")}function Mc(n,t,o){var e,s=n.json,r=o(Ic),i=s.items.map(function(t,e){var i;return e===s.items.length-1?s.tail&&(i=r):i=s.padding_between_items&&s.padding_between_items.value||r,o(xc,{attrs:{style:home.makeStyle({"margin-right":i?hs(i):void 0})},content:ds(o,kc,n,{json:t})})}).join("");return s.tail&&(e=s.tail.icon.image_url?o(Tc,{image:s.tail.icon.image_url}):o(Sc,{attrs:{style:home.makeStyle({"border-color":cs(s.tail.icon.border_color||"#f2f2f2"),"background-color":cs(s.tail.icon.fill_color||"#f2f2f2")})},svgAttrs:{fill:cs(s.tail.icon.icon_color||"#808080")}}),i+=o(Hc,{defaultTag:"div",block:n.block,action:s.tail.action,stack:n.stack,mix:"divjson-gallery__item divjson-gallery__tail imageloader__column imageloader__card",content:e+o(Wc,{mix:"divjson-gallery__tail-text",text:s.tail.text||"",style:s.tail.text_style||"text_m"})})),o(Yc,{block:n.block,action:s.action,stack:n.stack,mix:o(Bc)+" "+home.getBEMClassname("divjson-gallery",{mods:{"padding-side":s.padding_modifier?s.padding_modifier.position||"left":void 0,"padding-size":s.padding_modifier&&s.padding_modifier.size?s.padding_modifier.size:void 0}}),js:o(Pc,n),style:{"padding-top":s.padding_top?hs(s.padding_top.value):void 0,"padding-bottom":s.padding_bottom?hs(s.padding_bottom.value):void 0},content:o(Cc,{items:i})})}function xc(t){return"<div "+_()(Object.assign({class:"divjson-gallery__item imageloader__column imageloader__card"},t.attrs))+">"+f.a.oneElem(t.content)+"</div>"}function Tc(t){return"<div "+_()({class:"divjson-gallery__tail-icon divjson-gallery__tail-icon_image",style:"background-image:url(&quot;".concat(x(t.image),"&quot;);")})+"></div>"}function Sc(t){return"<div "+_()(Object.assign({class:"divjson-gallery__tail-icon divjson-gallery__tail-icon_arrow"},t.attrs))+">"+f.a.oneElem("<svg "+_()(Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},t.svgAttrs))+"><g fill-rule='evenodd'><path d='M4 13h12.17l-5.59 5.59L12 20l8-8-8-8-1.41 1.41L16.17 11H4z'/><path fill-opacity='.01' d='M24 24H0V0h24z'/></g></svg>")+"</div>"}function Cc(t,e,i){return i(bi,{wrapMix:"imageloader__scroller media-service__wrap",listMix:"media-service__list divjson-gallery__list",content:i(B,{mix:"divjson-gallery__items-wrapper arrowed-list__items-wrapper",content:t.items})})}function Bc(){return"media-service__list-wrapper arrowed-list arrowed-list_theme_media imageloader i-bem imageloader_different_yes"}function Pc(t){return{imageloader:{},"arrowed-list":{counter:t.block}}}BEM.decl("blender-logger",{},{initBlock:function(){this._inited||(this._inited=!0,this.updateMediaRows(),this._zenRows=[],this.MAX_ZEN_ROW_COUNT=home.getData("infinity-zen.MAX_ROW_TO_LOG"),this._zenInserter=BEM.blocks["zen-inserter"])},updateMediaRows:function(){this._mediaRows=this._getMediaRows()},_getMediaRows:function(){var t=$(".media-grid__media-content>[data-blockname]"),n=[],o=home.getData("media-grid.layoutMap",{});return home.getData("rows.first_screen_height")&&n.push({name:"first_screen",height:$(".rows__row_first").height()+$(".rows__row_main").height()}),t.each(function(){var t,e=$(this),i=e.attr("data-blockname");i in o&&"infinity_zen"!==i&&(t=0,i&&e.is(":visible")&&(t=Math.floor(e.outerHeight(!0))),n.push({name:i,height:t}))}),n},updateZenRowsAndSendStat:function(t){var i=this._zenInserter.ZEN_ROW_FOR_BLENDER;this._zenRows=t.map(function(t,e){return t.name===i?{name:t.name+".row"+e,height:t.height}:t}),this.sendStat()},_toStatFormat:function(t){return Wa(t).replace(/-/g,"_").replace(/\./g,"#")},logBlockShow:function(t){home.stat.logPath("show",t+".realshow")},sendStat:function(){var t=[];1===(t=(t=t.concat(this._mediaRows)).concat(this._zenRows)).length&&"first_screen"===t[0].name||!(t=(t=t.length>this.MAX_ZEN_ROW_COUNT?t.slice(0,this.MAX_ZEN_ROW_COUNT):t).filter(function(t){return t.name!==this._zenInserter.EMPTY_PLACEHOLDER}.bind(this))).every(function(t){return t&&"number"==typeof t.height&&"string"==typeof t.name})||(t=t.map(function(t){return this._toStatFormat(t.name)+"="+t.height},this).join(","),home.stat.logPath("media_services_height",t))}}),BEM.decl("zen-inserter",{},{EMPTY_PLACEHOLDER:"EMPTY",PLACEHOLDER_FROM_ZEN:"Placeholder",ZEN_ROW_FOR_BLENDER:"infinity-zen",CLASS_NAME:"zen-insert",RENDERED_BLOCKS:{},BLOCK_NAME_TO_HEIGHT:{},initBlock:function(){var e,i;this._inited||(this._inited=!0,this._blocks=home.getData("zen-inserter.blocks",[]),(e=this)._isZenInsertMultiplePlaceholdersExp=home.getData("zen-inserter.zen_insert_multiple_placeholders",!1),this._flatBlocks=this._isZenInsertMultiplePlaceholdersExp?Object.keys(this._blocks).map(function(t){return e._blocks[t]}).reduce(function(t,e){return Array.prototype.push.apply(t,e),t},[]):this._blocks,this._rows=[],i=home.getData("zen-inserter.namesMapper",{}),this.ppToMordaNamesMapper=Object.keys(i).reduce(function(t,e){return t[i[e]]=e,t},{}),this._blocks&&(this._blenderLogger=BEM.blocks["blender-logger"],this._blenderLogger.initBlock()))},logRealShow:function(t){var e,i=home.getData("zen-inserter.zen_united_feed",!1);this._blocks&&(e=t.index,e=i?this.ppToMordaNamesMapper[t.cardPayload]:this._blocks[e],(e=this._isZenInsertMultiplePlaceholdersExp?this._blocks[t.nextZenRowIndex]&&this._blocks[t.nextZenRowIndex][t.placeholderIndex]:e)&&this.RENDERED_BLOCKS[e]&&this.BLOCK_NAME_TO_HEIGHT[e]&&this._blenderLogger.logBlockShow(e))},onZenRowsUpdated:function(t,i){var n,o=home.getData("zen-inserter.zen_united_feed",!1);this._blocks&&(n=0,t=t.map(function(t,e){if(t.type!==this.PLACEHOLDER_FROM_ZEN)return{name:this.ZEN_ROW_FOR_BLENDER,height:t.container.offsetHeight};t=i[e],e=this._isZenInsertMultiplePlaceholdersExp?t&&this._blocks[t.nextZenRowIndex]&&this._blocks[t.nextZenRowIndex][t.placeholderIndex]||this.EMPTY_PLACEHOLDER:o?t&&t.cardPayload&&this.ppToMordaNamesMapper[t.cardPayload]||this.EMPTY_PLACEHOLDER:this._blocks[n]||this.EMPTY_PLACEHOLDER,t=this.BLOCK_NAME_TO_HEIGHT[e]||0;return n++,{name:e,height:t}},this),this._blenderLogger.updateZenRowsAndSendStat(t))},renderBlock:function(t,e){e=this._getHtml(t,e);if(e){e=$(e);return e.addClass(this.CLASS_NAME),e}},render:function(t){var e=home.getData("zen-inserter.zen_united_feed",!1);if(this._blocks){var i=t.container,n=t.index,o=e?this.ppToMordaNamesMapper[t.cardPayload]:this._blocks[n];if((o=this._isZenInsertMultiplePlaceholdersExp?this._blocks[t.nextZenRowIndex]&&this._blocks[t.nextZenRowIndex][t.placeholderIndex]:o)&&(BEM.blocks["i-block-renderer"].wrapRender({from:"zen-inserter",layoutName:o},function(){var t=this.renderBlock(o);if(t){var e=$(i);return e.append(t),BEM.DOM.init(t),home.stat.logDOMShow(e,{convertCounters:function(t){return Ha[o]?t.replace(Ha[o],o):t}}),e.find("[data-blockname]").addClass("media-grid__row_visible_yes"),this.BLOCK_NAME_TO_HEIGHT[o]=Math.floor(t.outerHeight(!0)),this._rows.push(t),t}}.bind(this))||this.RENDERED_BLOCKS[o]))return o}},hide:function(t){var e=t.data("blockname");BEM.DOM.destruct(t),this.BLOCK_NAME_TO_HEIGHT.hasOwnProperty(e)?this.BLOCK_NAME_TO_HEIGHT[e]=0:this._blenderLogger&&this._blenderLogger.updateMediaRows(),BEM.blocks["i-reposition-event"].trigger()},_getHtml:function(t,e){if(this.RENDERED_BLOCKS[t])return"";var i=p(hr,t),e=p(mr,{content:p(pr,{blockName:i,layoutName:t}),layoutName:t,expand:e&&e.expand,bg:home.getData("media-grid.bg",{})[t]},{zenInsert:!0});return e&&(this.RENDERED_BLOCKS[t]=!0),e},renderAllBefore:function(t){var e;!this._flatBlocks||(e=this._flatBlocks.filter(function(t){return t!==home.cls.full("rtb_inserts")}).map(this._getHtml,this).join(""))&&((e=$(e)).insertBefore(t),BEM.DOM.init(e),home.stat.logDOMShow(e),this._blenderLogger.updateMediaRows(),this._blenderLogger.updateZenRowsAndSendStat([]))},pullOutAllBefore:function(e){this._rows.forEach(function(t){t.removeClass("zen-insert").insertBefore(e)}),this._rows=[],this.renderAllBefore(e)}}),i("jm34"),BEM.DOM.decl({name:"infinity-zen",baseBlock:"media-service"},{onSetMod:{js:function(){var n={},o={},i=home.getData("infinity-zen.zen_chunked_answer",!1),s=home.getData("infinity-zen.zen_united_placeholders",!1),r=home.getData("zen-inserter.namesMapper",{}),a=home.getData("zen-inserter.zen_united_feed",!1);this._zenLib=this.findBlockInside("zen-lib"),a||this._insertZenHeaderAtTop(this._zenLib.params),this._grid=$(".media-grid").bem("media-grid"),this._grid.hasMod("collapsed","yes")||this._onGridExpand(),this._grid.on("collapsed",this._onGridCollapse,this),this._grid.on("expanded",this._onGridExpand,this);var c,l,h=BEM.blocks["zen-inserter"];h.initBlock(),this._debouncedRowsUpdated=$.debounce(h.onZenRowsUpdated.bind(h),this.DEBOUNCE_ZEN_ROWS_UPDATED_TIMEOUT),this._zenRow=this.domElem.closest(".media-grid__row"),i||(this._insertHeaderOnce=(c=this._insertHeader,l=!1,function(){if(!l){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];l=c.apply(this,e)}})),this._zenLib.on("placeholder",function(t,e){var i=h.render(e);(s||a)&&(n[e.rowIndex]=e,i&&(o[r[i]]=e),i&&!e.cardPayload&&(e.cardPayload=r[i],r[i]||home.error.logError({block:"infinity-zen",message:"Mapping for zen layoutName not found",meta:{mordaLayoutName:i},sourceType:"logic"})),i&&e.setPlaceholderInfo&&e.setPlaceholderInfo(e.cardPayload),!i&&h.RENDERED_BLOCKS[h.ppToMordaNamesMapper[e.cardPayload]]&&e.setPlaceholderInfo&&(i=n[e.rowIndex].cardPayload,e.setPlaceholderInfo(i),(o[i]=e).cardPayload=i))}),this._zenLib.on("placeholderShow",function(t,e){h.logRealShow(e)}),this.collectedRows=[],this._zenLib.on("rowMounted",function(t,e){this.collectedRows.push({container:e.container,type:BEM.blocks["zen-lib"].checkIsPlaceholderRow(e.grid[0]&&e.grid[0].type)?"Placeholder":"Zen"}),this._debouncedRowsUpdated(this.collectedRows,n),a&&!i&&this._insertHeaderOnce(this.collectedRows,n,this._zenLib.params)}.bind(this)),i||(this._zenLib.on("lateRendering",this.changeThis(function(){h.renderAllBefore(this._zenRow),home.stat.logPath("tech",this.params.statRoot+".render_at_the_bottom")})),this._zenLib.on("error",function(){h.renderAllBefore(this._zenRow)}.bind(this))),this._zenLib.on("rowsHeightsChanged",function(){this._debouncedRowsUpdated(this.collectedRows,n)}.bind(this)),this._zenLib.on("error",function(){this._showAlert()}.bind(this)),this.domElem.is(":visible")&&!this.elem("content-suffix").is(":visible")&&this._showAlert(),this.params.needForceLoad&&this.forceLoad(),this._initMenuEvents(),(s||a)&&home.stat.addHandler(null,function(t,e,i){"redirect"!==i&&"click"!==t||(e=r[Wa(e.split(".")[0])],(e=o[e])&&e.onClick&&("redirect"===i||e.cardPayload===r.rtb_inserts?e.onClick(e.cardPayload):e.onSwipe(e.cardPayload)))})},collapsed:{yes:function(){BEM.blocks["zen-inserter"].pullOutAllBefore(this._zenRow)},"":function(){this._zenLib.loadAndRender()}}},_getMenuId:function(){return home.getData("common.is_redesign")?"":"infinity_zen"},_showAlert:function(){this.hasMod("alert")||this.params.alert&&(this.domElem.append(p(Or,this.params.alert)),this.setMod("alert","yes"),home.stat.logPath("show",this.params.statRoot+".alert"))},destruct:function(){this.channel("i-reposition-event").un("reposition",this._updateScroll,this),this.__base.apply(this,arguments)},forceLoad:function(){this._grid.hasMod("collapsed","yes")||this._zenLib.loadAndRender({isForceLoad:!0})},_appendContent:function(){this._grid.hasMod("collapsed","yes")||this._zenLib.loadAndRender()},_onGridCollapse:function(){this.channel("i-reposition-event").un("reposition",this._updateScroll,this)},_onGridExpand:function(){this.channel("i-reposition-event").on("reposition",this._updateScroll,this);var t=this.__self.HEADER_HEIGHT_PX-this.__self.SCROLL_PX;this._updateScroll(null,BEM.DOM.win.scrollTop()-t)},_updateScroll:function(t,e){var i=window.innerHeight;e-this.domElem.offset().top+i>this.__self.SCROLL_PX&&(t?this._appendContent():this.forceLoad())},_insertZenHeaderAtTop:function(t){document.querySelector(".infinity-zen").insertAdjacentHTML("afterbegin",p(Br,{isZenInsert:!1,params:t}))},_insertHeader:function(t,e,i){for(var n,o=0;!n&&o<t.length;o++)"Zen"===t[o].type&&(n=t[o]);var s=t.indexOf(n);if(-1!==s)return 0===s?this._insertZenHeaderAtTop(i):e[s-1]?e[s-1].container.insertAdjacentHTML("beforeend",p(Br,{isZenInsert:!0,params:i})):(home.error.logError({block:"infinity-zen",method:"_insertHeader",message:"infinity zen header hasn't been inserted"}),this._insertZenHeaderAtTop(i)),this._control&&(this._control.destruct(),this._control=null),this._createMenuChecked(),!0}},{SCROLL_PX:-200,HEADER_HEIGHT_PX:50,DEBOUNCE_ZEN_ROWS_UPDATED_TIMEOUT:1e3,live:!1}),i("mr38"),BEM.DOM.decl("media-infinity-footer",{onSetMod:{js:{inited:function(){this._$mediaGrid=$(".media-grid"),this._$content=$(".media-infinity-footer__content"),this._settings=this.findBlockInside(this._$content,"head-options2"),this.channel("i-reposition-event").on("reposition",this._updateVerticalScroll,this);var t=function(){this._updateVerticalScroll(null,BEM.DOM.win.scrollTop())}.bind(this),e=$(".zen-lib");e.length?(e=e.bem("zen-lib"))&&(e.on("loaded",t),e.on("error",t)):t(),this.bindTo("up","click",this._scrollToTop),this.bindToWin("scroll",this._updateHorizontalScroll),this.bindTo(this._$content,"focusin",this._onFocusIn),setTimeout(function(){this.setMod(this._$content,"animated","yes")}.bind(this),100),this.params.hiddenBlocksPromo&&(this.channel("media-service").on("remove",this._onBlockCollapse,this),this.bindToWin("pointerclick",this._onDocClick,this))}}},_updateHorizontalScroll:function(){var t=BEM.DOM.win.scrollLeft();this._prevScrollLeft!==t&&(this._prevScrollLeft=t,this._$content.css("margin-left",-t))},_updateVerticalScroll:function(t,e){var i,n,o;this._promoShow&&Math.abs(e-this._promoShowScroll)<16||(this._settings&&this._settings.hasPopupVisible()&&(this._settings.hidePopup(),document.activeElement&&document.activeElement.blur()),$(":focus").closest(this._$content).length)||(this._tooltip&&this._tooltip.delMod("shown"),o=this._$mediaGrid.offset().top,i=window.innerHeight,n=document.body.scrollHeight,this._toggleFooter((o=o<e)||n-e-i<50),this.toggleMod("arrow-visible","yes",o))},_scrollToTop:function(){$("html,body").stop().animate({scrollTop:0},"fast")},_onFocusIn:function(){this._toggleFooter(!0)},_toggleFooter:function(t){var e=$("html");t!==e.hasClass("document_media-infinity-footer_yes")&&(this.setMod(this._$content,"sticky","yes"),e.toggleClass("document_media-infinity-footer_yes",t),this.trigger("toggleFooter",t)),t||(this._promoShow=!1)},_onBlockCollapse:function(){this._promoFirstShow||(this._promoFirstShow=!0,this._toggleFooter(!0),this._promoShow=!0,this._promoShowScroll=BEM.DOM.win.scrollTop(),this.params.hiddenBlocksPromo.show_url&&((new Image).src=this.params.hiddenBlocksPromo.show_url),setTimeout(function(){var t=this.findElem(this._$content,"settings"),e=$(p(Xo,{mods:{theme:"cloud",autoclosable:"yes"},js:{to:["top-center"],mainOffset:17},content:Object(s.a)("foot.promo_tooltip")}));t.before(e),this.setMod(t,"highlight","yes"),home.stat.logPath("show","foot.hidden_blocks_promo");var i=this.findBlockOn(e,"tooltip");(this._tooltip=i).setOwner(t).setMod("shown","yes").on("hide",function(){this.delMod(t,"highlight"),setTimeout(function(){BEM.DOM.destruct(e),this._tooltip=null}.bind(this),300)},this).on("click",function(){home.stat.logPath("click","foot.hidden_blocks_promo"),BEM.blocks["hidden-blocks-popup"].show()})}.bind(this),300))},_onDocClick:function(t){this._promoShow&&($(t.target).closest(this._$content).length||(this._promoShow=!1,this._updateVerticalScroll(null,BEM.DOM.win.scrollTop())))}}),BEM.DOM.decl("hidden-blocks-popup",{onSetMod:{js:{inited:function(){var t=this.findBlockOutside("modal");t.on("afterClose",function(){home.stat.logPath("click","hidden_blocks_popup.cancel")}),this.findBlockInside("cancel","button").on("click",function(){t.delMod("visible")},this),this.findBlockInside("submit","button").on("click",function(){var i=[],n=[];this.elem("item").toArray().forEach(function(t){var e=$(t),t=this.findBlockInside(e,"tumbler").hasMod("checked","yes"),e=e.data("layoutName");(t?n:i).push(e)},this),home.stat.logPath("click","hidden_blocks_popup.save",{callback:function(){location.href=home.addQueryToUrl(home.getData("hidden-blocks-popup.changeUrl"),{fold:i.join(","),unfold:n.join(",")})}})},this),BEM.blocks.tumbler.on(this.domElem,"change",function(t,e){this._updateInternalState||(t=t.target.domElem.closest("[data-layout-name]").data("layoutName"),home.stat.logPath("click","hidden_blocks_popup.item."+t+"."+(e.checked?"show":"hide")))},this)}}},_updateHiddenState:function(i){home.getData("hidden-blocks-popup.blocks").forEach(function(t){t.layoutName in i||(i[t.layoutName]=t.isHidden)}),this._updateInternalState=!0,this.elem("item").toArray().forEach(function(t){var e=$(t),t=e.data("layoutName");this.findBlockInside(e,"tumbler").toggleMod("checked","yes",!i[t])},this),this._updateInternalState=!1}},{show:function(){var t;this._popup||(t=$(p($a,{content:p(Ka,home.getData("hidden-blocks-popup.blocks"),{}),mods:{autoclosable:"yes",theme:"normal","scrollbar-hider":"yes"}})).appendTo("body"),BEM.DOM.init(t),this._popup=t.bem("modal"),this._instance=this._popup.findBlockInside("hidden-blocks-popup")),this._instance._updateHiddenState(this._hiddenMap),this._popup.setMod("visible","yes")},_init:function(){this._hiddenMap={},BEM.channel("media-service").on("remove",function(t,e){this._hiddenMap[e.layoutName]=!0},this)}}),$(function(){BEM.blocks["hidden-blocks-popup"]._init()}),i("CaC8"),i("XF9F"),i("ZsAA"),i("OsvQ"),i("Ifw1"),i("BCHE"),i("GRKD"),i("UUB4"),i("P9tx"),i("OTBI"),i("kCSK"),BEM.DOM.decl("tooltip",{},{show:function(t,e){var i=$(p(Xo,e.props));t.before(i);e=i.bem("tooltip");return e.setOwner(t).setMod("shown","yes").on("hide",function(){setTimeout(function(){BEM.DOM.destruct(i)},300)},this),e}}),i("DkAV"),i("AzRQ"),BEM.DOM.decl({block:"kinopoisk",baseBlock:"media-service",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-loader","mix-tabber-loader-keyboard","mix-tabber-labels-preloader","mix-tabber-media-service"]},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this._mainList=this.findBlockInside("arrowed-list");t&&t.on("listOut",this._loadMoreFilms,this)}}},_getInitData:function(){return home.getData("kinopoisk.data.data",{})},_getPanelHTML:function(t,e){return p(cn,{films:e.films,title:e.title,hasStream:home.getData("kinopoisk.data.hasStream"),id:t,logShow:!1})},_loadData:function(t){var e={CountryAllowed:this.params.country,kp_group_ids:t},t=home.getData("kinopoisk.data.kpRankExp");return t&&(e.kp_rank_exp=t),$.ajax({url:home.addQueryToUrl("/portal/api/data/1/kinopoisk/",e),xhrFields:{withCredentials:!0},dataType:"json",timeout:15e3}).asPromise().then(function(t){t=t&&t.block&&t.block[0];return t&&t.data&&t.data.groups&&t.data.groups[0]||[]})},_loadMoreFilms:function(){var e=this._selectedKey,i=this._$panel,n=this.findElem(i,"list"),o=this._data[this._defaultKey].films;this._mainList.un("listOut",this._loadMoreFilms,this),n.append(p(dn)),this._loadDataWrapped(e,{forceReload:!0}).then(function(){var t=this._filterLastFilms(o,this._data[e].films);this.findElem(n,"film-loader").remove(),n.append(p(ln,{films:t,title:this._data[e].title,hasStream:home.getData("kinopoisk.data.hasStream"),id:e,logShow:!1,startIndex:n.children().length})),this._onPanelChange(e,i),this.findBlockInside(i,"imageloader").updateItems()}.bind(this)).catch(function(){this.findElem(n,"film-loader").remove()}.bind(this))},_filterLastFilms:function(t,e){var i={};return t.forEach(function(t){i[t.contentGroupUuid]=!0}),e.filter(function(t){return!(t.contentGroupUuid in i)})}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("film","pointerclick",function(){window.defaultMetrikaCounter&&window.defaultMetrikaCounter.reachGoal("kp_films_click")}),this.liveBindKey("film","space enter",function(t){home.stat.logPath("click",t.data.domElem.attr(home.stat.attr)),window.defaultMetrikaCounter&&window.defaultMetrikaCounter.reachGoal("kp_films_click")})}}),i("h/Ey"),i("BeG3"),i("vci6"),i("wNS6"),i("ysUB"),i("En7l"),i("BNPM"),i("AIUQ"),i("RYVR"),i("4lOB"),BEM.DOM.decl({block:"games",baseBlock:"media-service",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-media-service"]},{_getPanelHTML:function(t,e){return p(bn,{items:e.games,title:e.title,id:t,logShow:!0})}}),BEM.DOM.decl({name:"insert-loader",baseBlock:"media-service"},{onSetMod:{js:{inited:function(){this.channel("i-reposition-event").on("reposition",this._onScroll,this),this._onScroll(null,BEM.DOM.win.scrollTop()),home.stat.logPath("show",this._getStatName()+".loading"),this._initMenuEvents()}},state:function(t,e){home.stat.logPath("show",this._getStatName()+"."+e)}},_getStatName:function(){return this.__self.getName().replace(/-/g,"_")},_getDataUrl:function(){},_selectData:function(){},_checkData:function(){},_getHTML:function(){},_onScroll:function(t,e){var i=this.domElem.offset().top;e+BEM.DOM.win.height()>i-this.__self._initOffset&&(this.channel("i-reposition-event").un("reposition",this._onScroll,this),this._loadBlockData())},_makeRequest:function(t){return $.ajax({url:t,xhrFields:{withCredentials:!0},dataType:"json",timeout:1e4})},_load:function(){var t=this._getDataUrl();return this._makeRequest(t).asPromise()},_loadBlockData:function(){if(!this._loadStarted){this._loadStarted=!0;var e=this.params.source||"morda_api",t=this.domElem.closest("[data-blockname]");return this._load().then(function(t){if(this._checkData(t))return t}.bind(this),function(t){"logic"===t.sourceType?home.error.logError({block:this.__self.getName(),sourceType:"logic",message:"_loadBlockData: "+t.message,source:e}):home.error.logError({block:this.__self.getName(),message:"_loadBlockData: ajax",source:e},t)}.bind(this)).then(function(t){if(!t)return Promise.reject();try{this._drawBlock(this._selectData(t))}catch(t){throw home.error.logError({block:this.__self.getName(),sourceType:"client",message:"Render error"},t),t}}.bind(this),function(t){throw home.error.logError({block:this.__self.getName(),sourceType:"backend",message:"Incorrect data",source:e},t),t}.bind(this)).catch(function(){BEM.blocks["zen-inserter"].hide(t)})}},_drawBlock:function(n){BEM.blocks["i-block-renderer"].wrapRender({from:"insert-loader",layoutName:this._getStatName()},function(){var t,e=this.domElem.height(),i=this.domElem.closest("[data-blockname]").hasClass("media-grid__row_visible_yes");n=$.extend(n,{retryButtonTheme:this.params.retryButtonTheme}),t=BEM.DOM.replace(this.domElem,this._getHTML(n)),home.stat.logPath("tech",this._getStatName()+".loaded"),i&&home.stat.logDOMShow(t),setTimeout(function(){t&&Ja(this._getStatName(),"tech.insert_loader",e,t.height())}.bind(this),100)}.bind(this))},_onRetryClick:function(){this.setMod("state","loading"),this._loadBlockData()}},{_initOffset:300,live:function(){return this.liveBindTo("retry-button","click",function(){return this._onRetryClick(),!1}),!1}}),BEM.DOM.decl({block:"games-loader",baseBlock:"insert-loader"},{_getDataUrl:function(){return this.params.url},_checkData:function(t){return t.tabs&&t.tabs.length},_selectData:function(t){return t},_getHTML:function(t){return p(gn,t)}}),BEM.DOM.decl({block:"autoru-inserts",baseBlock:"media-service",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-media-service"]},{_getPanelHTML:function(t,e){return p(In,{items:e.content,title:e.title,id:t,logShow:t!==this._defaultKey})}}),BEM.DOM.decl({block:"autoru-inserts-loader",baseBlock:"insert-loader"},{_getDataUrl:function(){return this.params.url},_checkData:function(t){return t.tabs&&t.tabs.length},_selectData:function(t){return t},_getHTML:function(t){return p(Pn,t)}}),BEM.DOM.decl({block:"afisha-inserts",baseBlock:"media-service",baseMix:["mix-tabber","mix-tabber-loader","mix-tabber-loader-keyboard","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-labels-preloader","mix-tabber-media-service"]},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._cinemas={}}}},_getKeys:function(){return this.elem("tab").length?this.__base.apply(this,arguments):["cinema"]},_isFilms:function(t){return 0===t.indexOf("cinema")},_loadData:function(e){var t={block:"afisha_inserts",content:"api_data_big",lang:this.params.locale,page_geo:this.params.geoId,event_type:e};return $.ajax({url:"/portal/api/data/1",xhrFields:{withCredentials:!0},dataType:"json",timeout:this.__self.GEOHELPER_TIMEOUT,data:t}).asPromise().then(function(t){return{events:t.block[0].data[e]}})},_renderLoader:function(){var t=p(zn,{mix:"afisha-inserts__event media-service__item",innerMix:"media-service__shadow",imageMix:"media-service__image",stat:"",dummy:!0});return p(Xn,{content:Array(6).join(t),js:{counter:"afisha_inserts",step:888}})},_getPanelHTML:function(t,e){return p(Jn,{events:e.events,key:t})}},{GEOHELPER_TIMEOUT:7e3}),i("H8pu"),BEM.DOM.decl(home.cls.full("rtb-inserts"),{onSetMod:{js:{inited:function(){this._renderCounter=0,this.params=window.home.rtbInserts||home.getData("rtb-inserts.data"),this.channel("i-reposition-event").on("reposition",this._onScroll,this),this._onScroll(null,BEM.DOM.win.scrollTop())}}},_getBanner:function(){var t={blockId:this.params.blockId,renderTo:home.cls.full("rtb-inserts"),async:!0,onRender:this._onRender.bind(this),onError:this._handleError.bind(this),onHide:this._remove.bind(this)},e=this.params.nonce;e&&(t.cspNonce=e);e=this.params.shouldGetAdvManagerFromZenLib?this._renderRsyaByZenlib(t).catch(function(){return this._renderRsyaByNetwork(t)}.bind(this)):this._renderRsyaByNetwork(t);Promise.race([e.catch(function(){this._handleError("cannot load context: Error")}.bind(this)),new Promise(function(t,e){setTimeout(e,15e3)})]).catch(function(){this._handleError("cannot load context: Timeout")}.bind(this))},_logRtbError:function(t,e){var i,n=e?String(e):"unknown",e=n.indexOf("Can not find element with selector");-1<e?(i=new Error("Can not find element with selector")).meta={selector:n.substr(e+"Can not find element with selector".length+1)}:i=new Error(n),home.error.logError({block:"rtb_inserts",message:t,sourceType:"network",meta:home.deepExtend({impId:this.params.blockId},i&&i.meta||{})},i)},_renderRsya:function(t,e){home.stat.logPath("tech","rtb_inserts.banner.rendering."+ ++this._renderCounter),t.render(e,this._noDataCallback.bind(this))},_renderRsyaByNetwork:function(e){return this._getAdvManagerByNetwork().then(function(t){this._renderRsya(t,e)}.bind(this))},_renderRsyaByZenlib:function(e){return this._advManagerByZenlibPromise.then(function(t){if("error"===t.state)throw t.error;this._renderRsya(t.value,e)}.bind(this))},_getAdvManagerByNetwork:function(){return new Promise(function(t,e){var i,n;window.Ya&&window.Ya.Context&&window.Ya.Context.AdvManager?t(window.Ya.Context.AdvManager):(i=document.getElementsByTagName("script")[0],(n=document.createElement("script")).crossorigin="use-credentials",n.type="text/javascript",n.src=this.params.contextUrl,n.async=!0,n.onerror=function(t){BEM.channel("adb").trigger("download",{id:"desktop.rtb_inserts.context"}),e(t)},i.parentNode.insertBefore(n,i),window.yandexContextAsyncCallbacks=window.yandexContextAsyncCallbacks||[],window.pcodever=this.params.pcodever,window.yandexContextAsyncCallbacks.push(function(){window.Ya&&window.Ya.Context&&window.Ya.Context.AdvManager&&t(window.Ya.Context.AdvManager),e(new Error("window.Ya.Context.AdvManager not found"))}))}.bind(this))},_onScroll:function(t,e){var i=this.domElem.offset().top;e+BEM.DOM.win.height()>i-500&&(this.channel("i-reposition-event").un("reposition",this._onScroll,this),this._getBanner())},_noDataCallback:function(){home.stat.logPath("tech","rtb_inserts.banner.no_data"),this._remove()},_advManagerByZenlibPromise:new Promise(function(i){var t=$(".zen-lib");if(!t.length)return i({state:"error",value:Error("zen-lib not found")});t.bem("zen-lib").on({advManagerReceived:function(t,e){i({state:"success",value:e})},advManagerReceiveFailed:function(t,e){i({state:"error",value:Error(e)})},error:function(t,e){i({state:"error",value:Error(e)})}})}),_onRender:function(){BEM.channel("adb").trigger("rendered",{id:"desktop.rtb_inserts",elem:this.domElem[0]}),this.delMod(home.cls.part("dummy")),home.stat.logPath("tech","rtb_inserts.banner.rendered"),this._rendered||this.bindTo("click",function(){home.stat.logPath("click","rtb_inserts.content")}),this._rendered=!0},_handleError:function(t){this._logRtbError("cannot render banner",new Error(t&&(t.code||t)||"unknown")),this._remove()},_remove:function(){this.domElem&&(home.stat.logPath("tech","rtb_inserts.banner.hide"),BEM.blocks["zen-inserter"].hide(this.domElem.closest("[data-blockname]")))}}),i("Pos1"),BEM.DOM.decl({name:"widgets-list",baseBlock:"media-service"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.channel("widget").on("commit",this._onWidgetCommit,this),this._initWidgets()}}},_initWidgets:function(){this.findBlocksInside("widget").forEach(function(t){t.bindTo("click",function(){home.stat.logPath("click","widgets_list.fakeclick")})})},_onWidgetCommit:function(t,e){var i;"remove"!==e.type||(i=e.widget.domElem.closest(".widgets-list__item")).length&&(this.setMod(i,"hidden","yes"),i.onceAnimationEnd("animation",400,function(){BEM.DOM.destruct(i);var t=this.findBlockInside("arrowed-list");t&&t.onScroll(),this.findBlocksInside("widget").length||this._remove()}.bind(this)))},_createMenu:function(){this.__base.apply(this,arguments),this._control.on("delete_all",function(){window.confirm(Object(s.a)("widgetcontrol.confirm_delete_all"))&&this.findBlocksInside("widget").forEach(function(t){t.setMod("removed","yes")})},this)},_getMenuCustomItems:function(){return[{id:"delete_all",icon:"delete",text:Object(s.a)("widgetcontrol.delete_all")}]}}),i("swPj"),i("F8BX"),i("0EGh"),BEM.DOM.decl({block:"tutor",baseBlock:"media-service",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-media-service"]},{_calcOverflow:function(t){je(t,2,"tutor")}});var Ic=e(function(){return 16});function Dc(o,t,s){var i=o.json,r="divjson-tabs-"+home.rnd().substr(0,5),e=s(jc,{id:r,json:i})||"";return s(Yc,{block:o.block,stack:o.stack,mix:"divjson-tabs i-bem "+s(Oc,o),id:r,js:{"divjson-tabs":{uniqId:r,baseData:{block:o.block,stack:o.stack},data:Object.keys(i.items).slice(1).reduce(function(t,e){return t[e]=i.items[e].content,t},{})}},content:e+s(Fc,{json:i,tabs:1<i.items.length?s(Nc,{content:i.items.map(function(t,e){var i=0===e,n=t.title.action;return s(Yt,{href:n?n.url:void 0,mods:{selected:i?"yes":"no"},mix:home.getBEMClassname("divjson-tabs__tab",{mods:{selected:i?"yes":"no"}}),content:home.capitalize(t.title.text.toLowerCase()),attrs:{tabindex:i?"0":"-1","aria-selected":i?"true":"false","aria-controls":i?r+"_panel_"+e:void 0,"data-key":e,"data-stat-link":n?o.block+"."+n.log_id.replace(/\//g,".")+".link."+e:void 0,"data-stat-select":n?o.block+"."+n.log_id.replace(/\//g,".")+".select."+e:o.block+".tab.select."+e,id:r+"_tab_"+e}})}).join("")}):"",panels:s(pt,{block:"divjson-tabs",id:r,key:"0",mix:s(Ac),attrs:{"aria-labelledby":r+"_tab_0"},content:ds(s,kc,o,{json:i.items[0].content})})})})}function Oc(){return""}function jc(){return""}function Rc(t,e,i){return t.json.items.forEach(function(t){t.title.action=null}),i(Dc,t)}function Ac(){return" media-service__panel"}function Fc(t){return f.a.oneElem(t.tabs)+f.a.oneElem("<div class='divjson-tabs__panels media-service__panels'>"+f.a.oneElem(t.panels)+"</div>")}function Nc(t){return"<div class='divjson-tabs__tabs'>"+f.a.oneElem(t.content)+"</div>"}function Lc(t,e,i){var n=t.json,o="divjson_"+home.rnd().substr(0,5),s="";t.id=o,n.background&&n.background.length&&i(Gc)&&(s="background-image:"+i(Qa,n.background));var r=i(Kc,{blocks:n.states[0].blocks,block:t.block}),a=n.states.map(function(t){return String(t.state_id)});return 1<a.length&&(r=i(B,{mix:"divjson__panels",content:i(pt,{block:"divjson",id:o,key:a[0],content:r})})),i($c,{content:r,attrs:{style:s},js:{divjson:{keys:a,data:Object.keys(n.states).slice(1).reduce(function(t,e){return t[a[e]]={blocks:n.states[e].blocks},t},{}),id:o,selectedKey:a[0],baseData:{block:t.block}}}})}function Uc(t,e,i){var n;if(n={"div-title-block":nc,"div-separator-block":oc,"div-universal-block":cc,"div-image-block":hc,"div-table-block":dc,"div-buttons-block":gc,"div-footer-block":bc,"div-traffic-block":yc,"div-gallery-block":Mc,"div-tabs-block":Rc,"div-container-block":kc}[t.json.type])return i(n,t)}function Hc(i,t,e){var n=i.action&&!i.stack.some(function(t,e){return e<i.stack.length-1&&t.hasAction})&&i.action.url,o=n&&0===n.indexOf("div-action://set_state?state_id="),s=n&&!o?n:void 0,r=o&&n.slice("div-action://set_state?state_id=".length),a=s&&e(Q),r=home.deepExtend({href:s,"data-set-state":r||void 0,tabindex:r?"0":void 0},i.attrs||{});return a&&(r.target="_blank",r.rel="noopener"),e(qc,{tag:s?"a":i.defaultTag||"div",stat:n&&i.action.log_id?t.stat.getAttr(i.block+"."+i.action.log_id.replace(/^([^(]+)\//g,"$1.")):"",attrs:r,mix:[i.mix||"",o&&"divjson__state-setter"].filter(Boolean).join(" "),content:i.content})}function zc(t,e,i){return i(Hc,{defaultTag:"div",action:t.action,block:t.block,stack:t.stack,attrs:{style:home.makeStyle(t.style),"data-bem":t.js?home.getBEMParams(t.js):void 0,id:t.id},mix:[t.mix,home.getBEMClassname("divjson__block",{mods:{"padding-side":t.padding_modifier?t.padding_modifier.position||"left":void 0,"padding-size":t.padding_modifier&&t.padding_modifier.size?t.padding_modifier.size:void 0}})].filter(Boolean).join(" "),content:t.content})}function Wc(t,e,i){if(t.text)return i(Vc,{mods:{style:(t.style||"").replace(/_/g,"-")},mix:[t.mix,t.maxLines&&"divjson__text_clamped_yes i-multiline-overflow"].filter(Boolean).join(" "),text:ls(t.text||""),attrs:{style:t.maxLines?home.makeStyle({"-webkit-line-clamp":t.maxLines,"max-height":({numbers_s:1.1,numbers_m:1.15,numbers_l:1,title_m:1.1,title_l:1.2,button:1.15,card_header:1.45}[t.style]||1.25)*t.maxLines+"em"}):void 0,"data-lines":t.maxLines}})}function $c(t){return"<div "+_()(Object.assign({class:"divjson i-bem"},t.attrs,{"data-bem":b(t.js||{})}))+">"+f.a.oneElem(t.content)+"</div>"}function qc(t){return"<"+t.tag+' class="'+(t.mix||0===t.mix?t.mix:"")+'" '+T(t.attrs)+(t.stat||"")+">"+(t.content||"")+"</"+t.tag+">"}function Vc(t){return"<div "+_()(Object.assign({class:w("divjson__text",t||{})},t.attrs))+">"+f.a.oneElem(t.text)+"</div>"}function Kc(e,t,i){var n="",o="",s=[],r=!1;return e.blocks.forEach(function(t){"div-separator-block"===t.type?r&&s.push(t):"div-title-block"!==t.type||n?"div-footer-block"===t.type?o=ds(i,Uc,e,{json:t}):(r=!0,s.push(t)):n=ds(i,Uc,e,{json:t})}),i(Zc,{header:n,headerAfter:o,content:s.map(function(t){return ds(i,Uc,e,{json:t})}).join("")})}function Yc(t,e,i){return t.stack.slice(0,t.stack.length-1).some(function(t){return"div-container-block"!==t.type&&"div-tabs-block"!==t.type})||(t.mix=[t.mix,"divjson__block_toplevel_yes"].filter(Boolean).join(" ")),i(zc,t)}function Gc(){return!1}function Zc(t){return f.a.oneElem("<div class='media-service__header'>"+(f.a.oneElem(t.header)+f.a.oneElem(t.headerAfter))+"</div>")+f.a.oneElem("<div class='media-service__content divjson__content'>"+f.a.oneElem(t.content)+"</div>")}function Xc(t,e,i){return i(Qc,{ok:i(Hi,{mods:{theme:"action",size:"n",view:"default",tone:"default"},mix:"sup-notice__ok sup-notice__ok_type_default",content:i(Jc)}),cancel:i(Hi,{mods:{theme:"normal",size:"n",view:"default",tone:"default"},mix:"sup-notice__cancel sup-notice__cancel_type_default",content:e.l10n("pushes.notice.prompt.cancel")})})}function Jc(t,e){return e.l10n("pushes.notice.prompt.ok")}function Qc(t,e){return"<div class='sup-notice sup-notice_type_default sup-notice_hidden_yes i-bem'>"+(f.a.oneElem("<div class='sup-notice__title'>"+f.a.oneElem(e.l10n("pushes.notice.prompt.title"))+"</div>")+f.a.oneElem("<div class='sup-notice__text'>"+f.a.oneElem(e.l10n("pushes.notice.prompt.text"))+"</div>")+f.a.oneElem("<div class='sup-notice__buttons'>"+(f.a.oneElem(t.ok)+f.a.oneElem(t.cancel))+"</div>"))+"</div>"}function tl(t,e,i){return i(el,{ok:i(Hi,{mods:{theme:"action2",size:"n",view:"default"},mix:"sup-notice__ok sup-notice__ok_type_default",content:e.l10n("pushes.notice.popup.ok")}),cancel:i(Hi,{mods:{theme:"clear",size:"n",view:"default"},mix:"sup-notice__cancel sup-notice__cancel_type_default",content:e.l10n("pushes.notice.prompt.cancel")})})}function el(t,e){return"<div class='sup-notice sup-notice_type_popup sup-notice_hidden_yes i-bem'>"+(f.a.oneElem("<div class='sup-notice__text'>"+f.a.oneElem(e.l10n("pushes.notice.popup.text"))+"</div>")+f.a.oneElem("<div class='sup-notice__buttons'>"+(f.a.oneElem(t.cancel)+f.a.oneElem(t.ok))+"</div>"))+"</div>"}BEM.DOM.decl({block:"divjson-block",baseBlock:"media-service"},{onSetMod:{js:{inited:function(){BEM.blocks["i-intersection-observer-wrapper"].create(function(t,e){t.forEach(function(t){t.isIntersecting&&(t=t.target,$(t).bem("divjson-block")._loadBlockData(),e.unobserve(t))})},{threshold:0,rootMargin:"300px 100px"}).observe(this.domElem[0])}}},_loadBlockData:function(){if(!this._loadStarted){this._loadStarted=!0;var t=this.params.api;return $("html").hasClass("document_dark_yes")&&(t=Le(t,{theme:"dark"})),$.ajax({url:t,xhrFields:{withCredentials:!0},dataType:"json",timeout:1e4}).asPromise().then(function(t){if(this._checkData(t))return t;throw new Error("Incorrect data")}.bind(this),function(t){throw t.json&&t.json.errors&&home.error(t.json),t}).then(function(t){if(!t)return Promise.reject();this._onLoad(t)}.bind(this),function(t){throw home.error.logError({block:this.__self.getName(),method:"_loadBlockData",message:"Incorrect data"},t),t}.bind(this)).catch(function(){BEM.blocks["zen-inserter"].hide(this.domElem.closest("[data-blockname]"))}.bind(this))}},_checkData:function(t){return"object"==typeof t&&Array.isArray(t.states)&&0<t.states.length},_onLoad:function(t){this._drawBlock(t)},_drawBlock:function(t){this._control=null,BEM.DOM.update(this.domElem,p(Lc,{json:t,block:this.params.layoutName})),this.domElem.toggleClass("media-service_tabs_yes",!!this.domElem.find(".divjson-tabs__tabs").length),this._createMenuChecked(),home.stat.logDOMShow(this.domElem),home.stat.logPath("tech","tech.div1"),this.params.showUrl&&BEM.blocks["i-showed-counter"].setCounter({elem:this.domElem[0],showedTime:0,urls:[this.params.showUrl],blockId:this.params.layoutName})}},{live:function(){return this.__base.apply(this,arguments),!1}}),BEM.DOM.declMix("mix-divjson",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._recalcOverflow()}}},_recalcOverflow:function(){this.domElem.find(".i-multiline-overflow").toArray().forEach(function(t){t=$(t);je(t,t.data("lines"))})},_selectTabChecked:function(t){-1<this._keys.indexOf(t)&&this._selectTab(t)},_getPanelHTML:function(t,e){for(var i in this.params.baseData)this.params.baseData.hasOwnProperty(i)&&(e[i]=this.params.baseData[i]);return p(Kc,e)}},{live:function(){return this.liveBindTo("state-setter","click",function(t){this._selectTabChecked(String(t.data.domElem.data("set-state")))}),!1}}),i("ePSr"),i("X48e"),i("qhR9"),BEM.DOM.declMix("mix-divjson-tabs",{_getPanelHTML:function(t,e){for(var i in e={json:e},this.params.baseData)this.params.baseData.hasOwnProperty(i)&&(e[i]=this.params.baseData[i]);return p(kc,e)},_onPanelChange:function(t,e){this.__base.apply(this,arguments),this.findBlocksInside(e,"imageloader").forEach(function(t){t.setMod("visible","yes")})},_createPanel:function(){var t=this.__base.apply(this,arguments);return t.addClass(p(Ac)),t}}),i("pL+S"),BEM.DOM.decl({block:"divjson2-block",baseBlock:"media-service"},{onSetMod:{js:{inited:function(){this.params.api&&BEM.blocks["i-intersection-observer-wrapper"].create(function(t,e){t.forEach(function(t){t.isIntersecting&&(t=t.target,$(t).bem("divjson2-block")._loadBlockData(),e.unobserve(t))})},{threshold:0,rootMargin:"300px 100px"}).observe(this.domElem[0])}}},_loadBlockData:function(){if(!this._loadStarted){this._loadStarted=!0;var n=this.params.api;if(n)return n=Le(this.params.api,{dpr:window.devicePixelRatio||1}),$("html").hasClass("document_dark_yes")&&(n=Le(n,{theme:"dark"})),$.ajax({url:n,xhrFields:{withCredentials:!0},dataType:"json",timeout:1e4}).asPromise().then(function(t){if(t&&t.error){var e=new Error("Server error: "+t.error),i=home.parseUrl(n);throw e.url=i.host+i.path,e.meta=home.deepExtend({reqid:t.reqid},t.additional||{}),e}e=this._checkData(t);if(!e)return t;throw new Error("Incorrect data: "+e)}.bind(this),function(t){throw t.json&&t.json.errors&&home.error(t.json),t}).then(function(t){try{this._onLoad(t)}catch(t){throw t&&t.message&&(t.message="Render error: "+String(t.message)),t}}.bind(this)).catch(function(t){home.error.logError({block:this.__self.getName(),source:this.params.layoutName},t),BEM.blocks["zen-inserter"].hide(this.domElem.closest("[data-blockname]"))}.bind(this))}},_checkData:function(t){if(!t||"object"!=typeof t||!t.card||"object"!=typeof t.card)return'Missing "card" field';t=p(Ws,{json:t});return"ok"!==t?t||"Unknown error":""},_onLoad:function(t){this._drawBlock(t)},_drawBlock:function(t){var e=this.domElem.height();this.domElem.removeClass("media-service_dummy_yes"),this._control=null,BEM.DOM.update(this.domElem,p($s,{json:t,layoutName:this.params.layoutName,titleIcon:this.params.titleIcon}));var i=!!this.domElem.find(".media-service__tabs").length;this.domElem.toggleClass("media-service_tabs_yes media-service_inline-tabs_yes",i);i=p(sr,{json:t.card,templates:t.templates,context:{},layoutName:this.params.layoutName});i&&(i.json.background_color||i.context.background_color)&&(t=i.json.background_color||i.context.background_color,(i=this.domElem.closest(".media-grid__row")).addClass("media-grid__row_bg_yes"),"1"!==t&&i.css("background",cs(t))),this._createMenuChecked(),home.stat.logDOMShow(this.domElem),home.stat.logPath("tech","tech.div2"),this.params.showUrl&&BEM.blocks["i-showed-counter"].setCounter({elem:this.domElem[0],showedTime:0,urls:[this.params.showUrl],blockId:this.params.layoutName}),setTimeout(function(){this.domElem&&Ja(this.params.layoutName,"tech.divjson2",e,this.domElem.height())}.bind(this),100)}},{live:function(){return this.__base.apply(this,arguments),!1}}),BEM.DOM.declMix("mix-divjson2",{_selectTabChecked:function(t){-1<this._keys.indexOf(t)&&this._selectTab(t)},_getPanelHTML:function(t,e){var i,n={templates:this.getTemplates(),context:{}};for(i in this.params.baseData)this.params.baseData.hasOwnProperty(i)&&(n[i]=this.params.baseData[i]);return p(Vs,us(n,{json:e},!0))},_setStates:function(t,e,i){var n,o;t.forEach(function(t){var e,i=t.url;!i||(e=home.parseUrl(i).query.state_id)&&(e=(i=e.split("/"))[0],this._selectTabChecked(e),3===i.length&&((e=this.domElem.find('[data-div-id="'+i[1]+'"]')).length?e.bem("divjson2-state").setState(i[2]):home.error.logError({block:"divjson2-block",source:this.params.baseData.layoutName,message:"Cannot find state block",meta:{divId:i[1]}}))),t.log_url&&((new Image).src=t.log_url),home.stat.logPath("click",t.log_id)},this),i&&(o=(n=$(e)).closest(".divjson2-state")).length&&o.bem("divjson2-state").moveFocusIfNeeded(n)},getTemplates:function(){return this.params.templates}},{live:function(){return this.liveBindTo("state-setter","click",function(t){this._setStates(t.data.domElem.data("set-state"),t.target,!1)}),this.liveBindTo("log-url","click",function(t){t=t.data.domElem.data("log-url");t&&((new Image).src=t)}),!1}}),i("MoMy"),BEM.DOM.decl("divjson2-text",{onSetMod:{js:{inited:function(){je(this.elem("range"),this.domElem.data("lines"))}}}}),BEM.DOM.decl({block:"divjson2-text",modName:"marquee",modVal:"yes"},{onSetMod:{js:{inited:function(){this._timeout=setTimeout(function(){var t=this._uniqId+"-frames",e=this.domElem.outerWidth(),i=this.domElem.prop("scrollWidth");i<=e||(this.domElem.before("<style>@keyframes "+t+"{0%{transform:translateX(0);}"+(.5/(.5+(i=-(e=e-i)/30))*100).toFixed(1)+"%{transform:translateX(0);}100%{transform:translateX("+hs(e)+");}}</style>"),i=t+" "+(.5+i).toFixed(2)+"s -.5s "+(-1===this.params.marqueeRepeat?"infinite":2*this.params.marqueeRepeat)+" linear alternate",this.elem("inner").css({animation:i}))}.bind(this),this.params.marqueeDelay)}}},destruct:function(){clearTimeout(this._timeout),this.__base.apply(this,arguments)}}),i("CKPf"),BEM.DOM.declMix("mix-divjson2-tabs",{_getPanelHTML:function(t,e){var i,n={};for(i in this.params.baseData)this.params.baseData.hasOwnProperty(i)&&(n[i]=this.params.baseData[i]);return n.templates=this.findBlockOutside("divjson2").getTemplates(),p(Vs,us(n,{json:e},!0))},_onPanelChange:function(t,e){this.__base.apply(this,arguments),this.findBlocksInside(e,"imageloader").forEach(function(t){t.setMod("visible","yes")})}}),i("kepD"),i("aL1Z"),BEM.DOM.decl({block:"divjson2-state",baseMix:["mix-tabber"]},{setState:function(t){-1<this._keys.indexOf(t)?this._selectTab(t):home.error.logError({block:"divjson2-block",source:this.params.baseData.layoutName,message:"Missing state",meta:{divId:this.params.divId,stateId:t}})},moveFocusIfNeeded:function(t){this._$panel&&t.closest(this.domElem).length&&(t.closest(this._$panel).length||this._$panel.find("a[href], [tabindex]").filter(":visible").eq(0).focus())},_getPanelHTML:function(t,e){var i,n={};for(i in this.params.baseData)this.params.baseData.hasOwnProperty(i)&&(n[i]=this.params.baseData[i]);return n.templates=this.findBlockOutside("divjson2").getTemplates(),p(Vs,us(n,{json:e.div},!0))},_onPanelChange:function(t,e){this.__base.apply(this,arguments),this.findBlocksInside(e,"imageloader").forEach(function(t){t.setMod("visible","yes")})},_togglePanelsOnChange:function(){var t=this.elem("panels"),e=t[0].getBoundingClientRect();this.__base.apply(this,arguments);t=t[0].getBoundingClientRect();(1<Math.abs(t.width-e.width)||1<Math.abs(t.height-e.height))&&this._animateSize(e,t,{})},_animateSize:function(t,e,i){var n=(n=this._style)||(this._style=$("<style>").appendTo("head")[0]);this._counter=(this._counter||0)+1;var o=this.params.uniqId+"-"+this._counter;n.textContent="@keyframes "+o+"{0%{width:"+t.width+"px;height:"+t.height+"px}100%{width:"+e.width+"px;height:"+e.height+"px}}",this.elem("panels").css("animation",this._getCSSAnimation(o,i)).onceAnimationEnd("animation",0,function(){this.elem("panels").css("animation","")}.bind(this))},_markAnimation:function(t,e){this._animationFlags=this._animationFlags||{},e?(this._animationFlags[t]=!0,this.setMod("animation","yes")):(delete this._animationFlags[t],0===Object.keys(this._animationFlags).length&&this.delMod("animation"))},_toggleMountPanel:function(t,e,i){var n,o=this;i?(e.parent().length||this.elem("panels").append(e),n=this.params.data[t].animation_in,e.removeClass("divjson2-state__panel_hidden_yes").removeClass("divjson2-state__panel_no-place_yes"),n&&(this._markAnimation(t,!0),e.css("animation",this._getCSSAnimation(this._getAnimationName(n,"in"),n)).onceAnimationEnd("animation",0,function(){e.css("animation",""),o._markAnimation(t,!1)}))):(n=this.params.data[t].animation_out||{name:"fade"})?(this._markAnimation(t,!0),e.addClass("divjson2-state__panel_no-place_yes").css("animation",this._getCSSAnimation(this._getAnimationName(n,"out"),n)).onceAnimationEnd("animation",0,function(){o._markAnimation(t,!1),e.css("animation",""),o._selectedKey!==t&&e.addClass("divjson2-state__panel_hidden_yes").removeClass("divjson2-state__panel_no-place_yes")})):e.addClass("divjson2-state__panel_hidden_yes")},_getAnimationName:function(t,e){return("translate"===t.name?"divjson2StateTranslate":"divjson2StateFade")+("in"===e?"In":"Out")},_getAnimationTiming:function(t){var e="ease-in-out",i={linear:"linear",ease:"ease",ease_in:"ease-in",ease_out:"ease-out"},t=t.interpolator;return e=t in i?i[t]:e},_getCSSAnimation:function(t,e){return[this._getAnimationTiming(e),1,t,((Number(e.duration)||300)/1e3).toFixed(2)+"s",((Number(e.start_delay)||0)/1e3).toFixed(2)+"s"].join(" ")}}),i("Aih1"),i("9UFm"),i("BK1X"),BEM.DOM.decl("nhl-item",{onSetMod:{js:{inited:function(){je(this.elem("text","long","yes"),2,"nhl-item__text_long_yes");var t=this.elem("news-text"),e=this.__self.NEWS_TITLE_LINE_COUNT;this.hasMod(t,"title","yes")?je(t,e,"nhl-item__news-text_title_yes"):je(t,e,"nhl-item__news-text"),je(this.elem("news-subtext"),6,"nhl-item__news-text")}}}},{NEWS_TITLE_LINE_COUNT:5}),i("AkYG"),i("XDfT"),i("EEcG"),i("kvBX"),BEM.DOM.decl("sup-notice",{onSetMod:{js:{inited:function(){var t=this.close.bind(this,!1),e=this.close.bind(this,!0);this.findBlockOn("cancel","button2").on("click",function(){home.stat.logPath("click","sup.notice_"+this.getMod("type")+"."+(this.getMod("mode")||"default")+".cancel"),this.afterCurrentEvent(t)},this),this.findBlockOn("ok","button2").on("click",function(){home.stat.logPath("click","sup.notice_"+this.getMod("type")+"."+(this.getMod("mode")||"default")+".ok"),this.afterCurrentEvent(e)},this)}}},open:function(){return this.delMod("hidden"),home.stat.logPath("show","sup.notice_"+this.getMod("type")+"."+(this.getMod("mode")||"default")),this},close:function(t){return this.hasMod("hidden","yes")||(this.setMod("hidden","yes"),this.trigger("close",t)),this},_setTitle:function(t){return this.elem("title").html(t),this},_setText:function(t){return this.elem("text").html(t),this},_setButtonText:function(t,e){return this.findBlockOn(t,"button2").setText(e),this}},{_instances:{},getInstance:function(t){var e;return this._instances[t]||(e=BEM.DOM.append(BEM.DOM.scope,p("default"===t?Xc:tl)),this._instances[t]=e.bem(this.getName())),this._instances[t]}}),i("d8pI"),BEM.DOM.decl({block:"sup-notice",modName:"type",modVal:"default"},{onSetMod:{mode:{wait:function(){this._setTitle(Object(s.a)("pushes.notice.wait.title"))},error:function(){this._setTitle(Object(s.a)("pushes.notice.error.title"))._setText(Object(s.a)("pushes.notice.error.text"))._setButtonText("cancel",Object(s.a)("pushes.notice.error.cancel"))},"web-error":function(){this._setTitle(Object(s.a)("pushes.notice.error.title"))._setText(Object(s.a)("pushes.notice.error.web_error"))._setButtonText("cancel",Object(s.a)("pushes.notice.error.cancel"))},prompt:function(){this._setTitle(Object(s.a)("pushes.notice.prompt.title"))._setText(Object(s.a)("pushes.notice.prompt.text"))._setButtonText("cancel",Object(s.a)("pushes.notice.prompt.cancel"))}}},open:function(t){return this.setMod("mode",t),this.__base.apply(this,arguments),this}}),i("0LhS"),i("2Y/5"),i("35bK"),i("581y"),i("UDuI"),BEM.DOM.decl({baseBlock:"pusher-button",block:"promo-pusher-button"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.bindTo("click",function(){return this.trigger("click"),!1})}},subscribed:function(t,e){this.__base.apply(this,arguments),this.domElem.attr("title","yes"===e?Object(s.a)("pushes.sup_button.unsubscribe"):Object(s.a)("pushes.sup_button.subscribe")),this.trigger("toggle","yes"===e),this.params.subscribedText&&(this._origText||"yes"!==e||(this._origText=this.elem("text").text()),this.elem("text").text("yes"===e?this.params.subscribedText:this._origText))}},_onClick:function(){this.__base.apply(this,arguments),this.params.counter&&home.stat.logPath("click",this.params.counter+"."+(this.hasMod("subscribed","yes")?"unsubscribe":"subscribe"))},check:function(){var t=this.__base.apply(this,arguments),e=function(t,e){!this._isDestructing&&this.params.counter&&home.stat.logPath("show",this.params.counter+"."+(t&&e?"unsubscribe":"subscribe"))}.bind(this);return t.then(e.bind(this,!0),e.bind(this,!1)),t},button:function(){return this}}),BEM.DOM.decl({block:"nhl",baseBlock:"media-service",baseMix:["mix-tabber","mix-tabber-labels","mix-tabber-labels-keyboard","mix-tabber-loader","mix-tabber-loader-keyboard","mix-tabber-labels-preloader","mix-tabber-media-service"]},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var n=this.findBlockInside("score-tumbler","tumbler");n&&(n.on("change",function(t,e){var i;this.params.logged?(this.toggleMod("hide-score","yes",e.checked),i=e.checked?"hideSpoilers":"showSpoilers",(i=this.params[i])&&((new Image).src=i),home.stat.logPath("click","nhl.spoilers."+(e.checked?"off":"on"))):n.delMod("checked")},this),n.on("pseudo-click",this._showAuthPromo,this)),this.params.autoscroll&&this._autoscroll()}}},_loadData:function(e){return $.ajax({url:home.makeUrl({path:"/portal/hockey/"+e,query:this.params.query}),xhrFields:{withCredentials:!0},dataType:"json",timeout:15e3}).asPromise().then(function(t){if(Array.isArray(t[e])&&t[e].length)return{items:t[e]};throw new Error("Incorrect data")})},_getPanelHTML:function(t,e){return e.useSprite=this.params.useSprite,p(ts,e)},_renderLoader:function(){return p(ts,{dummy:!0})},_calcOverflow:function(){},_showAuthPromo:function(){var t;this._tooltip||((t=$(p(is,{size:"m",authUrl:this.params.authUrl}))).appendTo("body"),home.stat.logPath("show","nhl.auth_promo"),this._tooltip=this.findBlockOn(t,"tooltip"),this._tooltip.on("hide",function(){home.stat.logPath("click","nhl.auth_promo.cancel")})),this._tooltip.setOwner(this.findBlockInside("score-tumbler","tumbler").elem("box")).setMod("shown","yes")},_autoscroll:function(){var t=this.domElem.offset().top,e=this.domElem.outerHeight(),i=BEM.DOM.win.height();e<i&&(t-=(i-e)/2.618),$("html,body").stop().animate({scrollTop:t},"slow")}},{live:function(){return this.__base.apply(this,arguments),!1}}),BEM.DOM.decl({block:"nhl-loader",baseBlock:"insert-loader"},{_getDataUrl:function(){return this.params.url},_checkData:function(t){return Array.isArray(t.tabs)&&t.tabs.length&&Array.isArray(t[t.tabs[0].id])&&0<t[t.tabs[0].id].length},_selectData:function(t){return t},_getHTML:function(t){return t.isDark=this.params.isDark,t.query=this.params.query,t.hideSpoilers=this.params.hide_spoilers,t.hideSpoilersUrl=this.params.hide_spoilers_url,t.showSpoilersUrl=this.params.show_spoilers_url,t.retryButtonTheme=this.params.retryButtonTheme,t.useSprite=this.params.useSprite,t.logged=this.params.logged,t.authUrl=this.params.authUrl,t.autoscroll=this.params.autoscroll,p(Qo,t)}}),i("txsv"),i("dOHD"),i("TW4b"),i("Ba8m"),i("sHJt"),i("ej2x"),i("5Wo9"),i("2LTt")},vPEt:function(t,e){MBEM.encodeUriComponent=function(e){try{return encodeURIComponent(e)}catch(t){e=e.replace(/[\ud800-\udbff](?![\udc00-\udfff])/g,"").replace(/([^\ud800-\udbff]|^)[\udc00-\udfff]/g,function(t){return t.slice(0,-1)});try{return encodeURIComponent(e)}catch(t){throw new URIError("  : "+e)}}}},vRk5:function(t,e){BEM.DOM.declMix("mix-tabber-slide2",{_changeTab:function(t,e){var i=this._mapKeyToIndex(this._selectedKey),n=this._mapKeyToIndex(t);this._showSide=i<n?"right":"left",this._hideSide=i<n?"left":"right",this._hasAnimation=!(e&&!1===e.animate),this.domElem.toggleClass("mix-tabber-slide2_panel-animation_yes",this._hasAnimation),this.__base.apply(this,arguments)},_toggleMountPanel:function(t,e,i){var n;this._panelMap=this._panelMap||{},(this._panelMap[t]=i)?(e.parent().length||this.elem("panels").append(e),e.removeClass("mix-tabber-slide2__panel_hide-side_left mix-tabber-slide2__panel_hide-side_right").addClass("mix-tabber-slide2__panel_hide-side_"+this._showSide).addClass("mix-tabber-slide2__panel_hidden_yes").removeClass("mix-tabber-slide2__panel_no-place_yes"),n=function(){this._panelMap[t]===i&&e.removeClass("mix-tabber-slide2__panel_hide-side_left mix-tabber-slide2__panel_hide-side_right").removeClass("mix-tabber-slide2__panel_hidden_yes").addClass("mix-tabber-slide2__panel_animated_yes").onceAnimationEnd("transition",this.__self.SLIDE_DURATION,function(){e.removeClass("mix-tabber-slide2__panel_animated_yes")})}.bind(this),this._hasAnimation?setTimeout(n,100):n()):e.removeClass("mix-tabber-slide2__panel_hide-side_left mix-tabber-slide2__panel_hide-side_right").addClass("mix-tabber-slide2__panel_hide-side_"+this._hideSide).addClass("mix-tabber-slide2__panel_hidden_yes").addClass("mix-tabber-slide2__panel_no-place_yes").addClass("mix-tabber-slide2__panel_animated_yes").onceAnimationEnd("transition",this.__self.SLIDE_DURATION,function(){e.removeClass("mix-tabber-slide2__panel_animated_yes")})},_createPanel:function(){var t=this.__base.apply(this,arguments);return t.addClass("mix-tabber-slide2__panel"),t}},{SLIDE_DURATION:250})},vci6:function(t,e){BEM.DOM.decl({block:"arrowed-list",modName:"theme",modVal:"media"},{getDefaultParams:function(){return{moveRatio:.75,duration:900}},_getItems:function(){var t=this.elem("items-wrapper");return(t.length?t:this.elem("list")).children().toArray()},_getContainerWidth:function(){return this.elem("content").outerWidth(!0)},moveLeft:function(){this.__base.apply(this,arguments),this.params.counter&&home.stat.logPath("click",this.params.counter+".swipe.left")},moveRight:function(){this.__base.apply(this,arguments),this.params.counter&&home.stat.logPath("click",this.params.counter+".swipe.right")},toggleArrows:function(){this.__base.apply(this,arguments),this.params.counter&&!this._scrollCounted&&this.hasMod("left","yes")&&(home.stat.logPath("scroll",this.params.counter+".scroll"),this._scrollCounted=!0)},animate:function(t,e){(e=e||{}).easing=e.easing||"easeOutQuint",this.__base(t,e)}})},vhCX:function(t,e){BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"geo"},{val:function(){return this.elem("reg").text()},enter:function(){},select:function(t){$(".input__geo").val(this.domElem.data("id"))}})},vy0I:function(t,e){MBEM.decl({block:"mini-suggest",modName:"request",modVal:"xhr"},{_request:function(t,e,i){this.params.abortPrevXhr&&this._abortPrevXhr&&this._abortPrevXhr(),this._abortPrevXhr=MBEM.ajax(this._prepareRequestUrl(t),{successCallback:e.bind(this,t),errorCallback:i,ctx:this,timeout:this.params.xhrTimeout}),this.trigger("request",{text:t})}})},"w//E":function(t,e){MBEM.decl("mini-suggest",{__constructor:function(){this.__base.apply(this,arguments),this._prevRequestText=null,this._focused=!1,this._empty=!0,this._setElements(),this._syncVal(),this._bindHandlers(),setTimeout(function(){document.activeElement===this._input&&this._onInputFocus()}.bind(this),0)},_setElements:function(){this._input=this.domElem},_bindHandlers:function(){this.bindTo(this._input,"focus",MBEM.eventProxy("_onInputFocus",this)).bindTo(this._input,"blur deactivate",MBEM.eventProxy("_onInputBlur",this)).bindTo(this._input,"input",MBEM.eventProxy("_onInput",this)),this.on("item-click",MBEM.eventProxy("_onItemClick",this)),9===document.documentMode&&this.bindTo(document,"selectionchange",function(){document.activeElement===this._input&&this._onInput()})},_onInputFocus:function(){this._focused||this._openSuggest()},_openSuggest:function(){this._fixScrollTop(),this._update(),this._checkAndShowPopup(),this._focused=!0,this._startInput()},_startInput:function(){this._inputStarted||(this._inputStarted=!0,this.trigger("start-input"))},_onInputBlur:function(){this._focused&&this._closeSuggest()},_closeSuggest:function(){this._checkAndHidePopup(),this._focused=!1},_onInput:function(){this._input.value!==this._val&&(this._syncVal(),this._update(),this.trigger("input-change",{type:"user"}))},_checkAndShowPopup:function(){this._shouldShowPopup()&&this._showPopup()},_shouldShowPopup:function(){return!this._isShown&&!this._empty},_showPopup:function(){this._createPopup(),MBEM.cls.add(this.domElem,"mini-suggest_open"),this.trigger("popup-show",{empty:this._empty}),this._isShown=!0},_checkAndHidePopup:function(){this._isShown&&this._hidePopup()},_hidePopup:function(){MBEM.cls.remove(this.domElem,"mini-suggest_open"),this.trigger("popup-hide"),this._isShown=!1},_update:function(t){!t&&this._prevRequestText===this._val||(this._prevRequestText=this._val,!this.params.skipEmptyRequest||this._val?this._request(this._val,this._onResponse):this._renderItems([]))},_onResponse:function(t,e,i){var n=this._processResponse(e),o=t===this._prevRequestText;this.trigger("response",{data:e,items:n,url:i.url,duration:i.duration,relevant:o,text:t}),o&&this._renderItems(n)},_processResponse:function(t){return this.params.responseAdapter?this.params.responseAdapter(t):t},_renderItems:function(t){this._createPopup(),t.length?this._renderItemsFilled(t):this._renderItemsEmpty(),this._syncItems(t)},_renderItemsFilled:function(t){this._popupContent.innerHTML=this._getItemsHTML(t),this.trigger("popup-update",{items:t}),this._empty=!1,this._focused&&this._checkAndShowPopup()},_renderItemsEmpty:function(){this._popupContent.innerHTML="",this.trigger("popup-clear"),this._empty=!0,this._checkAndHidePopup()},_getItemsHTML:function(t){return t.reduce(this._renderItem.bind(this),"")},_renderItem:function(t,e,i){if(this.params.itemRenderer)return t+this.params.itemRenderer(e,i);var n=e[0];if(!this.__self.itemTypeIsSupported(n))return t;i=this._buildItem(e,i),e=this._buildItemContent(e,i);return t+((e=i.linkAttrs?this._wrapItemLink(e,i.linkAttrs):e)?"<"+i.tag+' class="'+i.className+'"'+this.__self.toHtmlAttrsString(i.attrs)+">"+e+"</"+i.tag+">":"")},_buildItem:function(t,e){return{tag:"li",className:"mini-suggest__item mini-suggest__item_type_"+t[0],attrs:{"data-index":e,"data-type":t[0]},content:{}}},_wrapItemLink:function(t,e){return"<a"+this.__self.toHtmlAttrsString(e)+">"+t+"</a>"},_createPopup:function(){if(this._popup)return!1;var t=this._popup=document.createElement("div");t.className=this._buildPopupClassList();var e=this._popupContent=document.createElement("ul");return e.className="mini-suggest__popup-content",e.setAttribute("role","listbox"),t.appendChild(e),this._appendPopup(t),this._popup},_buildPopupClassList:function(){return"mini-suggest__popup mini-suggest__popup_svg_"+(this.__self.hasSvg()?"yes":"no")},_appendPopup:function(t){MBEM.insertAfter(t,this._input)},_onPopupClick:function(t){var e=MBEM.closest(t.target,"mini-suggest__item");if(e){var i=e.getAttribute("data-text"),n=e.getAttribute("data-type");switch(n){case"tpah":this._handleTpahClick(t,e,i);break;case"fulltext":case"fact":this._changeText(i,"suggest-item",!1,function(){this.trigger("item-click",this._getItemEventProps(e,n))});break;case"nav":this._handleLinkItemClick(t,e,n,i)}}},_handleTpahClick:function(t,e,i){this._changeText(i+" ","tpah",!0,function(){this.trigger("item-tpah",{itemIndex:0|e.getAttribute("data-index"),val:i})})},_onItemClick:function(){this.params.resetOnSelect&&(this._renderItems([]),this._prevRequestText=null)},_syncVal:function(){this._setVal(this._input.value)},_syncItems:function(t){this._dataItems=t,this._items=MBEM.arrayFrom(this._popupContent.querySelectorAll(".mini-suggest__item"))},_removeItem:function(t){this._items.splice(this._items.indexOf(t),1)},_setVal:function(t){this._val=t,MBEM.cls.toggle(this.domElem,this.__self.className("","has-value","yes"),Boolean(this._val))},_setInputVal:function(t){this._input.value=t},_changeText:function(t,e,i,n){this._input.focus(),i=void 0===i||i,this._setInputVal(t),this._syncVal(),this._moveCaret(),i&&(this._update(),this.trigger("input-change",{type:e})),n&&n.call(this)},_getMainUrlParams:function(t){var e={svg:this.__self.hasSvg()?1:0,part:t,pos:this._getCaretPosition()};return e=this.params.getExtraUrlParams?MBEM.extend(e,this.params.getExtraUrlParams(t)):e},_getCaretPosition:function(){var t,e=this._val.length;return document.selection?((t=document.selection.createRange()).moveStart("character",-e),t.text.length):"number"==typeof this._input.selectionStart?this._input.selectionStart:e},_moveCaretToEnd:function(){var t,e=this._val.length;try{void 0!==this._input.createTextRange?((t=this._input.createTextRange()).collapse(!1),t.select()):"number"==typeof this._input.selectionStart&&(this._input.scrollLeft=999999,this._input.setSelectionRange(e,e))}catch(t){}},_moveCaretToStart:function(){try{this._input.scrollLeft=0,this._input.setSelectionRange(0,0)}catch(t){}},_moveCaret:function(){this._moveCaretToEnd()},_getItemEventProps:function(t,e,i,n){return{node:t,type:e,subtype:t.getAttribute("data-subtype"),byKeyboard:Boolean(n),itemIndex:0|t.getAttribute("data-index"),val:"nav"!==e&&i||this._val}},_blur:function(){this._input.blur();try{document.activeElement&&document.activeElement.blur()}catch(t){MBEM.consoleError("No active element")}},_handleClick:function(){},_fixScrollTop:function(){window.pageYOffset<1&&(document.body.scrollTop=0)},_handleLinkItemClick:function(t,e,i){i&&(e=this._getItemEventProps(e,i)),this._touchClick(t)||this.trigger("item-click",e)},_touchClick:function(t,e){return!("touchend"!==t.type||!t.defaultPrevented||((e||t.target).click(),0))}},{hasSvg:function(){return-1!==document.documentElement.className.indexOf("svg_yes")},toHtmlAttrsString:function(t){var e,i="";for(e in t)t.hasOwnProperty(e)&&(i+=" "+e+'="'+String(t[e]).replace(/"/g,"&quot;")+'"');return i},itemTypeIsSupported:function(t){return-1<["fulltext","tpah","nav","fact"].indexOf(t)},itemTypeIsNavigable:function(t){return"nav"===t},itemTypeIsSearchable:function(t){return-1<["fulltext","fact"].indexOf(t)}})},"w/5I":function(t,e){function i(t){return"boolean"!=typeof t&&null!=t?Array.isArray(t)?t.join(""):t:""}t.exports=function(t){return t.map(i).join("")},t.exports.oneElem=i},w2lv:function(t,e){!function(c){function r(){}var t,l=-1<function(){return"_"}.toString().indexOf("_"),a=Object.create||function(t){function e(){}return e.prototype=t,new e},h=Object.keys,d=c.extend,u=Array.isArray,m=c.isFunction,p=!0,e={toString:""};for(t in e)e.hasOwnProperty(t)&&(p=!1);var _=p?["toString","valueOf"]:null;function f(t,e,i){for(var o,n,s=function(t){var e=h(t);if(p)for(var i,n=0;i=_[n++];)t.hasOwnProperty(i)&&e.push(i);return e}(i),r=0,a=s.length;r<a;)"__self"!==(o=s[r++])&&(n=i[o],m(n)&&(!l||-1<n.toString().indexOf(".__base"))?e[o]=function(i){var n=function(){var t=this.__base;this.__base=n.__base;var e=i.apply(this,arguments);return this.__base=t,e};return n.__base=t[o]||("__constructor"===o?e.__self.__parent:c.noop),n}(n):e[o]=n)}function g(t,e){for(var i,n=1;i=t[n++];)e?m(i)?c.inheritSelf(e,i.prototype,i):c.inheritSelf(e,i):e=m(i)?c.inherit(t[0],i.prototype,i):c.inherit(t[0],i);return e||t[0]}c.inherit=function(){var t=arguments,e=u(t[0]),i=e||m(t[0]),n=i?e?g(t[0]):t[0]:r,o=t[i?1:0]||{},s=t[i?2:1],e=o.__constructor||i&&n.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:i?function(){return n.apply(this,arguments)}:function(){};if(!i)return e.prototype=o,e.prototype.__self=e.prototype.constructor=e,d(e,s);d(e,n);t=(e.__parent=n).prototype,i=e.prototype=a(t);return i.__self=i.constructor=e,o&&f(t,i,o),s&&f(n,e,s),e},c.inheritSelf=function(){var t=arguments,e=u(t[0])?g(t[0],t[0][0]):t[0],i=t[1],n=t[2],t=e.prototype;return i&&f(t,t,i),n&&f(e,e,n),e},c.inherit.self=c.inheritSelf}(jQuery)},"w9+T":function(t,e){$.fn.onceAnimationEnd=function(t,e,i){var n,o,s,r=this;function a(){clearTimeout(s),i=null,r.off(n)}"object"==typeof t&&(o=t.property,t=t.type),this.on(n="animation"===t?"webkitAnimationEnd animationend":"webkitTransitionEnd transitionend",function(t){!r.is(t.target)||o&&o!==t.originalEvent.propertyName||i&&(i(r),a())}),0<e&&(s=setTimeout(function(){i&&(i(r),a())},e+50))}},"wAF/":function(t,e){MBEM.decl({block:"mini-suggest",modName:"separate-popup",modVal:"yes"},{_appendPopup:function(){this.__base.apply(this,arguments);var t=document.createElement("div");t.className="mini-suggest__a11y-popup-container",t.setAttribute("aria-owns",this._suggestListId),MBEM.insertAfter(t,this._input)}})},wNS6:function(t,e){BEM.DOM.decl({block:"arrowed-list",modName:"list-out",modVal:"yes"},{onScroll:function(){this.__base.apply(this,arguments),this._checkEndOfList()},_checkEndOfList:function(){this.update();var t=this.elem("content").scrollLeft(),e=this._scrollWidth,i=this._containerWidth,n=this.params.listOutRatio*this._containerWidth;t<=n&&this.trigger("listOut","left"),e-n<t+i&&this.trigger("listOut","right")},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{listOutRatio:1})}})},wvCv:function(t,e){BEM.DOM.decl("i-global",{onSetMod:{js:{inited:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),void 0===t["show-counters"]&&(t["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"]),t.locale=t.lang,window.BEMHTML&&BEMHTML.apply({block:"i-global",params:t})}}},getDefaultParams:function(){return{id:"",login:Lego.isSessionValid()&&$.cookie("yandex_login")||"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t,e){if(void 0===e)return(this._params||{})[t];this._params&&(this._params[t]=e)}})},x8sk:function(t,e){$(function(){var t,n,r,a;window.performance&&window.performance.getEntries&&((t=home.getData("strm-check.data"))&&(n="https://strm.yandex.ru/probe/jobs?count="+Math.min(t.count,5)+"&size="+t.size,a=!(r=function(t){if(!a){a=!0;var e,i=[];try{for(var n=window.performance.getEntriesByType("resource"),o=0,s=n.length;o<s;o++)t[n[o].name]&&i.push(n[o])}catch(t){}i.length&&(e=window.performance&&performance.timing&&performance.timing.navigationStart||"",$.ajax({type:"POST",dataType:"json",url:"https://strm.yandex.ru/perf?rum=1&perfnow="+ +new Date+"&navstart="+e,data:JSON.stringify(i)}))}}),setTimeout(function(){$.ajax({method:"get",dataType:"json",url:n,timeout:3e4}).then(function(t){t&&t.jobs&&function(s){for(var t=0,e=Math.min(s.length,5),i={},n=0;n<e;n++)!function(n){var o=s[n]+"&rnd="+home.rnd();t++,i[o]=!0,$.ajax({method:"get",url:o,timeout:3e4}).then(function(){--t||r(i)},function(t,e,i){/egress.strm.yandex.net|egress.yandex.net/.test(o)||home.error.logAjaxError({block:"strm-check",level:"warn",message:"job file error",url:s[n],method:"runUrls",source:"strm"},t,e,i)})}(n);setTimeout(function(){r(i)},3e4)}(t.jobs)},function(t,e,i){home.error.logAjaxError({block:"strm-check",message:"probe/jobs error",url:n,method:"getUrls",source:"strm"},t,e,i)})},1e3*t.timeout)))})},xbib:function(t,e){MBEM.decl("mini-suggest",{_bindHandlers:function(){this.__base.apply(this,arguments),"ResizeObserver"in window&&new ResizeObserver(this._repositionPopup.bind(this)).observe(document.body)},_repositionPopup:function(){var t,e;this.__base.apply(this,arguments),this._popup&&(t=this._input.getBoundingClientRect().width,e=MBEM.cls.contains(document.documentElement,"document_dark_yes"),this._popup.style.width=e?t+2+"px":t+"px")}})},xs0k:function(t,e){BEM.DOM.decl({block:"menu",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.elem("item").attr("id",function(t,e){return e||$.identify()}),this._val=this.getVal()}},disabled:function(t,e){this.__base.apply(this,arguments),this.setMod(this.elem("item"),t,e)}},onElemSetMod:{item:{hovered:{yes:function(t){if(this.hasMod(t,"disabled"))return!1;this.delMod(this.elem("item","hovered","yes"),"hovered"),this.domElem.attr("aria-activedescendant",t.attr("id")),this.trigger("item-hover",{item:t})},"":function(){this.domElem.removeAttr("aria-activedescendant"),this.trigger("item-hover",{})}},checked:function(t,e,i){this.domElem.attr("aria-selected",Boolean(i))},disabled:{yes:function(){this.delMod("hovered"),this.domElem.attr("aria-disabled",!0)},"":function(){this.domElem.attr("aria-disabled",!1)}}}},_onChange:function(){var t=this._val,e=this.getVal();return t!==e&&(this._val=e,this.trigger("change",{prevVal:t,currVal:e})),this},getItems:function(t,e){return this.elem("item",t,e).get().map(function(t){return $(t)})},setContent:function(t){return BEM.DOM.update(this.domElem,t),this.reset(),this},getVal:function(){},reset:function(){this.dropElemCache()},_onItemEnter:function(t,e){this.setMod(t,"hovered","yes")},_onItemLeave:function(t,e){this.delMod(t,"hovered")},_onItemFocusin:function(t,e){this.setMod(t,"hovered","yes")},_onFocusout:function(t){this.__base.apply(this,arguments),this.delMod(this.elem("item","hovered","yes"),"hovered")},_onItemClick:function(t,e,i){this.trigger("click",{item:t,source:i.source})}},{live:function(){return this.liveBindTo("item","pointerover pointerout",function(t){var e=t.data.domElem;this.hasMod(e,"disabled","yes")||e[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onItemEnter(e,t):this._onItemLeave(e,t))}).liveBindTo("item","pointerclick",function(t){var e=t.data.domElem;this.hasMod(e,"disabled")||this._onItemClick(e,t,{source:"pointer"})}).liveBindTo("item","focusin",function(t){var e=t.data.domElem;this.hasMod(e,"disabled")||this._onItemFocusin(e,t)}).liveBindTo("focusout",function(t){this._onFocusout(t)}),this.__base()}})},"y+UF":function(t,e){BEM.DOM.decl({block:"dropdown2",modName:"switcher",modVal:"elem"},{getSwitcher:function(){return this._switcher||(this._switcher=this.findElem("switcher")),this._switcher}},{live:function(){return this.liveBindTo("switcher","click",function(t){this._onSwitcherClick(t),t.preventDefault()}),this.liveBindKey("switcher","space enter",function(t){var e=this.elem("switcher").prop("tagName").toLowerCase();"button"!==e&&("a"!==e&&t.which===BEM.blocks.keycodes.ENTER||t.which===BEM.blocks.keycodes.SPACE)&&(this._onSwitcherClick(t),t.preventDefault())}),this.__base()}})},"y/To":function(t,e){home.decline=function(t,e){return e&&e.length?0===t&&e[3]?e[3]:e[1]||e[2]?e[2]?(20<=(t%=100)&&(t%=10),1===t?e[0]:1<t&&t<5?e[1]:e[2]):0<=t&&t<=1?e[0]:e[1]:e[0]:""}},yFtQ:function(t,e){home.rtrim=function(t){return"string"!=typeof t?t:t.replace(/(\s|&nbsp;|&ensp;|&emsp;|&thinsp;)+$/g,"")}},yUmL:function(t,e){MBEM.eventProxy=function(t,e){return function(){return e[t].apply(e,arguments)}}},ydIG:function(t,e){BEM.DOM.decl("notifier",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}}},_initPopup:function(){this.__base.apply(this,arguments),this._popup.attachToScope(),this._popup.setAnchor(this.elem("box"))}})},ysUB:function(t,e){!function(){"use strict";var i={"":"a","":"b","":"v","":"g","":"d","":"e","":"e","":"j","":"z","":"i","":"y","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sch","":"","":"i","":"","":"e","":"u","":"ya"};home.transliterate=function(t){return t.replace(/[-]/gi,function(t){var e=t.toLowerCase(),t=e!==t;return e in i&&(e=i[e],t&&(e=e.toUpperCase())),e})}}()},zAsB:function(t,e){BEM.DOM.decl("news-popup",{onSetMod:{js:function(){var t=this;this.popup=this.findBlockOn(this.domElem,"popup"),this.$customTabLink=$(".news__custom-tab"),this.$tab=this.$customTabLink.closest(".news__tab-wrapper"),this.news=this.findBlockOn(this.$tab.closest(".news"),"news"),this.widget=this.news.findBlockOutside("widget"),this.turnReloadOff(),this.popup.on("show",function(){home.stat.logDOMShow(t.popup.domElem)}),this.bindTo("add","click",this.add),this.bindTo("cancel","click",this.cancel),this.popup.on("hide",this.hideTab.bind(this)),this.show()}},show:function(){this.popup.setRelativeContainer(this.widget),this.popup.show(this.$customTabLink),this.channel("widget").on("showPreferences",this.hideOnOpenSettings,this),$(window).scrollTop(this.$tab.offset().top),this.elem("add").focus()},hide:function(){this.popup.hide()},add:function(){this.saveNewPattern(),this.saveWidgetSettings()},cancel:function(){this.hide()},hideTab:function(){var t=this.widget.getInstance();this.actualData||t._prefs.customCatId||this.news.hideCustomTab(),this.turnReloadOn()},hideOnOpenSettings:function(t,e){e.elem.instance===this.widget.getInstance()&&this.hide()},saveNewPattern:function(){var t=this.widget.findBlockOutside("widgets");t.params.settings&&t.params.settings.newpattern&&t.save()},saveWidgetSettings:function(){var t=this.widget.getInstance(),e=this.params.customId,i=t._prefs;i.customCatId=e,t.saveValues(i,this.afterSave.bind(this))},afterSave:function(t){"ok"===t.result&&((new Image).src=this.params.cookieUrl,this.actualData=!0),this.hide()},turnReloadOff:function(){this.widget.getInstance().pauseReload=!0},turnReloadOn:function(){var t=this.widget.getInstance();t.pauseReload=!1,!this.actualData&&t._prefs.customCatId?t.reload():Widget.Framework.addToReloadQueue(t,t.onload)}},{live:!1})},zDJ7:function(t,e){BEM.DOM.decl("navi",{onSetMod:{js:function(){this._items=this.elem("item"),this._downVisibleItemsCount=this.params.visibleItemsCount,this._upVisibleItemsCount=0,this._curVisibleItemsCount=this._downVisibleItemsCount,this._upStep=0,this._downStep=this._downVisibleItemsCount,this._firstItemIdx=-1,this._lastItemIdx=this._downVisibleItemsCount,this._topHeight=0,this._hideBottomItems(),this._updateContentHeight(),this._initBlockHeight(),this._updateShadowHeight(),this._bindEvents(),this.delMod(this._items,"disabled"),this.delMod(this.elem("tools"),"hidden"),this._updateSteps(),this.bindTo("container-wrapper","scroll",function(t){t.target.scrollTop&&(t.target.scrollTop=0,this._onClickDownward())}.bind(this))}},onElemSetMod:{upward:{disabled:{yes:function(t){t.attr("tabindex","-1"),this._tryDeleteNavigation()},"":function(t){t.attr("tabindex","0")}}},downward:{disabled:{yes:function(t){t.attr("tabindex","-1"),this._tryDeleteNavigation()},"":function(t){t.attr("tabindex","0")}}}},transitionDuration:500,_overrideItemHeight:function(t,e){t.data("current-height",e)},_getItemHeight:function(t){return t.data("current-height")||t.prop("offsetHeight")||t.data("max-height")||0},_bindEvents:function(){var t=this.params.options;t&&(t.closable&&this.channel("navi").on("closed",this._onItemClosed,this),t.resizable&&this.channel("navi").on("height-change",function(t,e){e.domElem&&e.height&&this._overrideItemHeight(e.domElem.closest(".navi__item"),e.height),clearTimeout(this._updateHeightTimeout),this._updateHeightTimeout=setTimeout(function(){this._updateContentHeight(),this._updateShadowHeight({delay:0})}.bind(this),e.delay)},this),BEM.DOM.win.on("resize",$.debounce(this._onResize.bind(this),150)))},_recalcCurrentTopHeight:function(){var i=0;return this._items.each(function(t,e){t<=this._firstItemIdx&&(i-=this._getItemHeight($(e)))}.bind(this)),i},_onResize:function(){this._topHeight=this._recalcCurrentTopHeight(),this._scroll(this._topHeight),this._update()},_initBlockHeight:function(){var t=this.elem("container-wrapper");this._maxContainerHeight=t.height(),this.setMod(t,"animation","yes")},_onItemClosed:function(t,e){var i=(e=e||{}).item,e=e.delay||400,n=i.closest(".navi__item");if(n.parent().length){if(this._minimizeShadow(),this.hasMod(n,"hide","yes"))return n.index()<this._firstItemIdx+1?(i=n.height(),this._removeItem(n),this.setMod(this.elem("container"),"animation","no"),this._topHeight+=i,this._scroll(this._topHeight),setTimeout(function(){this.delMod(this.elem("container"),"animation")}.bind(this),50)):this._removeItem(n),this._update(),void this._tryDeleteNavigation();setTimeout(function(){if(this._removeItem(n),!this._items.length)return this.destruct();this._tryToFillContainer(),this._unhideContainerItems(),this._firstItemIdx===this._lastItemIdx-1&&this._onClickUpward()}.bind(this),e)}},_tryToFillContainer:function(){var t=0;this._lastItemIdx=this._items.length;for(var e=this._firstItemIdx+1;e<this._items.length;e++){var i=this._items[e];if((t+=this._getItemHeight($(i)))>this._maxContainerHeight){this._lastItemIdx=e;break}}this._curVisibleItemsCount=this._lastItemIdx-this._firstItemIdx-1,this._update(),this._updateMods({setElem:0===this._downStep&&this._directions.DOWNWARD,delElem:-1!==this._firstItemIdx&&this._directions.UPWARD,modName:"disabled"})},_update:function(){this._updateContentHeight(),this._updateSteps(),this._updateStack()},_removeItem:function(t){this._items.splice(t.index(),1),t.remove(),this.dropElemCache("item")},_hideItem:function(t){this.setMod(t,"hide","yes"),BEM.channel("navi").trigger("hide-item",{item:t})},_showItem:function(t){this.delMod(t,"hide"),BEM.channel("navi").trigger("show-item",{item:t})},_hideBottomItems:function(){clearTimeout(this.hideBottomItemsTimeout),this._items.each(function(t,e){t>this._lastItemIdx-1&&(e=$(e),this._hideItem(e))}.bind(this))},_unhideContainerItems:function(){this._items.each(function(t,e){e=$(e);t>this._firstItemIdx&&t<this._lastItemIdx&&this._showItem(e)}.bind(this))},_onClickDownward:function(){var t,i;this.hasMod(this.elem("downward"),"disabled","yes")||(this.channel("navi").trigger("scroll",{direction:this._directions.DOWNWARD}),t=this._items,i=this._downStep,t.each(function(t,e){t>this._firstItemIdx&&t<=this._firstItemIdx+i&&(t=$(e),this._topHeight-=this._getItemHeight($(e)),this._hideItem(t))}.bind(this)),this._firstItemIdx+=i,this._lastItemIdx=Math.min(this._firstItemIdx+this._downVisibleItemsCount+1,t.length),this._curVisibleItemsCount=this._downVisibleItemsCount,this._hideBottomItems(),this._unhideContainerItems(),this._update(),this._updateMods({setElem:0===this._downStep&&this._directions.DOWNWARD,delElem:-1!==this._firstItemIdx&&this._directions.UPWARD,modName:"disabled"}),this._scroll(this._topHeight))},_onClickUpward:function(){var t,e;this.hasMod(this.elem("upward"),"disabled","yes")||(this.channel("navi").trigger("scroll",{direction:this._directions.UPWARD}),e=this._items,t=this._upStep,this._firstItemIdx=Math.max(-1,this._firstItemIdx-t),this._lastItemIdx=Math.min(this._firstItemIdx+this._upVisibleItemsCount+1,e.length),e.each(function(t,e){0!==this._topHeight&&t>this._firstItemIdx&&t<this._lastItemIdx&&(this._topHeight+=this._getItemHeight($(e)),this._showItem($(e)))}.bind(this)),this._curVisibleItemsCount=this._upVisibleItemsCount,this._unhideContainerItems(),this._hideBottomItems(),this._update(),e=this._lastItemIdx!==this._items.length,this._updateMods({setElem:0===this._upStep&&this._directions.UPWARD,delElem:e&&this._directions.DOWNWARD,modName:"disabled"}),this._scroll(this._topHeight))},_scroll:function(t){t=Math.min(t,0),this.elem("container").css("transform","translateY("+t+"px)")},_scrollToEnd:function(){for(;this._lastItemIdx<this._items.length;)this._onClickDownward()},_scrollToTop:function(){for(;-1<this._firstItemIdx;)this._onClickUpward()},_tryDeleteNavigation:function(){-1===this._firstItemIdx&&this._curVisibleItemsCount>=this._items.length&&(this.elem("navigation").remove(),this.dropElemCache("navigation"))},_updateSteps:function(){this._calculateDownwardSteps(),this._calculateUpwardSteps()},_calculateDownwardSteps:function(){for(var t=this._downStep=0,e=this._items,i=e.length,n=0,o=1,s=this._lastItemIdx,r=i,a=this._curVisibleItemsCount,c=s;c*o<r;c+=o){var l=e[c],l=t+this._getItemHeight($(l));if(l>this._maxContainerHeight&&o<0)break;l>this._maxContainerHeight&&0<o?(o=-1,c=s,r=0):(c===e.length-1&&(o=-1,c=s,this._downStep++,a++,r=0),o<0&&a--,n++,t=l,this._downStep+=Math.max(o,0))}0!==this._downStep&&(this._downStep=a,this._downVisibleItemsCount=n)},_calculateUpwardSteps:function(){this._upStep=0;for(var t=this._items,e=t.length,i=this._firstItemIdx,n=1,o=0,s=-1,r=0,a=i;a*s<n;a+=s){var c=t[a],c=o+this._getItemHeight($(c));if(c>this._maxContainerHeight)break;c>this._maxContainerHeight&&s<0?(s=1,a=i,n=e):(0===a&&(s=1,a=i,this._upStep++,n=e),r++,o=c,this._upStep-=Math.min(s,0))}0!==this._upStep&&(this._upVisibleItemsCount=r)},_updateStack:function(){var t=this._items.length-this._lastItemIdx;this.elem("more-count").text(t),this.toggleMod(this.elem("status"),"hide","yes","",0==t),t&&(this.delMod(this.elem("shadow"),"hidden"),this.setMod(this.elem("shadow"),"count",1<t?"many":"one")),this._updateShadowHeight()},_updateMods:function(t){var e=(t=t||{}).setElem,i=t.delElem,n=t.modName,t=t.modVal||"yes";e&&this.setMod(this.elem(e),n,t),i&&this.hasMod(this.elem(i),n,t)&&this.delMod(this.elem(i),n)},_updateContentHeight:function(){for(var t=0,e=this._firstItemIdx+1;e<this._lastItemIdx;e++)t+=this._getItemHeight(this._items.eq(e));this._setContainerHeight(t)},_setContainerHeight:function(t){this.elem("container-wrapper").css("height",t)},_updateShadowHeight:function(t){var e,i,n=(t=t||{delay:300}).delay;0!==this._items.length&&(t=this._items[this._lastItemIdx-1],e=this.elem("shadow-item"),i=this._getItemHeight($(t)),setTimeout(function(){e.css("height",i-10)},n),0===this._downStep&&this.setMod(this.elem("shadow"),"hidden","yes"))},_minimizeShadow:function(){this._lastItemIdx!==this._items.length&&this.elem("shadow-item").css("height","8px")},_directions:{UPWARD:"upward",DOWNWARD:"downward"}},{live:function(){this.liveBindTo("downward status","pointerclick",function(){this._onClickDownward()}),this.liveBindTo("upward","pointerclick",function(){this._onClickUpward()}),this.liveBindKey("downward","space enter",function(t){t.preventDefault(),this._onClickDownward()}),this.liveBindKey("upward","space enter",function(t){t.preventDefault(),this._onClickUpward()}),this.liveBindTo("item","focusin",function(t){t=t.data.domElem.closest(".navi__item").index();t===this._firstItemIdx?this._onClickUpward():t===this._items.length-1?this._scrollToEnd():0===t&&this._scrollToTop()})}})},zO5c:function(t,e){BEM.DOM.decl({block:"search2",modName:"type",modVal:"2021"},{onSetMod:{js:function(){this.__base.apply(this,arguments);var t=this.findBlockInside("input");this.toggleMod("empty","yes",!t.val()),t.on("change",function(){this.toggleMod("empty","yes",!t.val())},this),t.on("_ahead-visible_*",function(t,e){this.toggleMod("ahead-visible","yes","yes"===e.modVal)},this);var e=!1;t.on("focus blur",function(t){(e="blur"===t.type?!0:e)&&this.toggleMod("manual-focus","yes","focus"===t.type)},this),t.domElem.on("click",function(){e=!0,this.setMod("manual-focus","yes")}.bind(this))}}})},zb7N:function(t,e){function i(){return"visible"===document.visibilityState&&(n||(n=!0,home.localStorage.setItem("home:lastPrerenderShowIdLogged",o.showId),$.ajax({url:"/instant/stlog?msid="+o.showId+"&rnd="+Date.now()+"&from="+o.from,method:"POST",data:"r="+o.root+"&b="+[["search",Object.keys(o.params).map(function(t){return t+"="+encodeURIComponent(o.params[t])}).join(":")].join(":"),"ROOT:k="+o.k].concat(o.shows||[]).join("#"),xhrFields:{withCredentials:!0}})),1)}var n,o;(o=home.getData("i-prefetch-stat.data"))&&(n=!1,(n=home.localStorage.getItem("home:lastPrerenderShowIdLogged")===o.showId?!0:n)||i()||document.addEventListener("visibilitychange",function t(){i()&&document.removeEventListener("visibilitychange",t)}))},zcHH:function(t,e){home.shuffle=function(t){for(var e=0,i=t.length;e<i;++e){var n=Math.floor((i-e)*Math.random()),o=t[e];t[e]=t[e+n],t[e+n]=o}return t}},zgJY:function(t,e){var i;(i=jQuery).dom={getActiveElement:function(){try{return i(document.activeElement)}catch(t){return i()}}},i.fn.isFocused=function(){return this.is(i.dom.getActiveElement())}}}),function(t){if("function"==typeof t.I18N&&t.I18N._proto)return t.I18N;"undefined"==typeof i18n&&(i18n={}),BEM=t;var s={},n=[],i=!1,o="undefined"!=typeof console&&"function"==typeof console.log;function r(t,e){i&&o&&(e="keyset: "+e._keyset+" key: "+e._key+" (lang: "+e._lang+")",console.log(t,e))}function e(){this._lang="",this._prj="lego",this._keyset="",this._key=""}e.prototype={lang:function(t){return this._lang=t,this},project:function(t){return this._prj=t,this},keyset:function(t,e){return e&&((e=this._keyset)&&n.push(e)),this._keyset="string"==typeof t?t:t.block+(t.elem?"__"+t.elem:"")+(t.modName?"_"+t.modName+"_"+t.modVal:""),this},key:function(t){return this._key=t,this},decl:function(t){var n,e=(o=this._keyset,n={},o.split("__").forEach(function(t,e){var i=[e?"elem":"block","mod","val"];t.split("_").forEach(function(t,e){n[i[e]]=t})}),n),i="i-tanker"===e.block?"tanker":this._prj,o=e.elem||this._keyset,e=this._key;(o=(i=i18n[i]||(i18n[i]={}))[o]||(i[o]={}))[e]="function"==typeof t?t:function(){return t};var o=s[this._lang]||(s[this._lang]={});(o[this._keyset]||(o[this._keyset]={}))[e]=t},val:function(t,e){var i=s[this._lang]&&s[this._lang][this._keyset];if(!i)return r("[I18N_NO_KEYSET] %s",this),"";var n=typeof(i=i[this._key]);return"undefined"==n?(r("[I18N_NO_VALUE] %s",this),""):"string"==n?i:i.call(e||this,t)},_cache:function(){return s}};function a(t,e,i){return a.keyset(t).key(e,i)}a._proto=new e,a.project=function(t){return this._proto.project(t),this},a.keyset=function(t){return this._proto.keyset(t,!0),this},a.key=function(t,e){var i=this._proto;return i.lang(this._lang).key(t),t=i.val(e,a),(e=n.length&&n.pop())&&i.keyset(e,!1),t},a.decl=function(t,e,i){var n,o=this._proto;for(n in i&&i.lang&&o.lang(i.lang),o.keyset(t),e)e.hasOwnProperty(n)&&o.key(n).decl(e[n]);return this},a.lang=function(t){return void 0!==t&&(this._lang=t),this._lang},a.debug=function(t){i=!!t},a.lang("ru"),t.I18N=a}("undefined"==typeof BEM?{}:BEM),"undefined"!=typeof BEM&&BEM.I18N&&(BEM.I18N.decl("b-keyboard-popup",{close:""},{lang:"ru"}),BEM.I18N.decl("notifier",{"new-notifications":function(t){return" : "+t.count},"no-new-notifications":"  ",notifier:" "},{lang:"ru"}),BEM.I18N.decl("popup",{add:"",cancel:"",revert:"",apply:""},{lang:"ru"}),BEM.I18N.decl("search2",{"search-button-text":"","search-input-label":"","search-service-label":"  ","search-web-label":"  "},{lang:"ru"}),BEM.I18N.decl("tooltip__close",{close:""},{lang:"ru"}),BEM.I18N.decl("tumbler",{off:"",on:""},{lang:"ru"}),BEM.I18N.lang("ru")),window.Ya&&Ya.Rum&&Ya.Rum.timeEnd&&Ya.Rum.timeEnd("2095")});

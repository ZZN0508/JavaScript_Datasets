define("pkg/@alife/refly-db-mbox/5.x/index",["pkg/@alife/refly-db/3.x/index","pkg/@alife/refly-mbox/3.1.2/index"],function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(exports,e,n){t.o(exports,e)||Object.defineProperty(exports,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(t,exports){t.exports=e},function(e,exports){e.exports=t},function(e,exports,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=t(0),u=t(1),c={get:{dataType:"json",type:"get"},jsonp:{dataType:"jsonp",type:"get"},post:{dataType:"json",type:"post"}},a=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.plugin("endpoint",function(e){return function(e){var t={};Object.keys(e).filter(function(e){return["url","csrfToken","urlTpl","dataType","transType","bridgeUrl"].indexOf(e)>=0}).forEach(function(n){t[n]=e[n]});var n="jsonp";return e.method&&(n=e.method.toLowerCase()),c[n]&&(t.dataType=c[n].dataType,t.type=c[n].type),u.callService(e.namespace,e.namespace,e.methodName||"execute",e.data,t)}}),r.plugin("judge",function(e){return!e.hasError&&(e.content!==undefined&&((!e.content||!e.content.cause)&&(!e.content.errors||!e.content.errors[0]||"user_not_login"!==e.content.errors[0].code||(window._ENV_,window.$DIOR$&&window.$DIOR$.userNotLogin&&window.$DIOR$.userNotLogin(),!1))))}),r}return r(t,e),t}(i);e.exports=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"execute",n=arguments[2],o="";return n&&n._inject_&&(o=n._inject_),new a({namespace:e,methodName:t,options:n,_inject_:o,url:"mbox://"+e+"/"+t})}}])});;
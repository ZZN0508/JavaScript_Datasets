var dependencies=["orb/features/_skiplinks","orb/features/masthead/_layoutprimarynav"];function removeElement(e,t){return e.filter(function(e){return e!==t})}window.bbcpage.isModal().then(function(e){e&&(dependencies=removeElement(dependencies,"orb/features/masthead/_layoutprimarynav")),require(dependencies,function(){"use strict";for(var e=0,t=arguments.length;e<t;e++)arguments[e]()})}),define("orb/lib/_anim",function(){"use strict";var e={},n=["transition","WebkitTransition","MozTransition","msTransition","OTransition"],r=function(){for(var e=document.createElement("div").style,t=n.length;t--;)if(n[t]in e)return n[t];return!1}();return e.animate=r?function(e,t){e.style[r]="height "+t.duration+"ms",e.style.height=t.height+"px"}:function(n,e){var r,a=parseFloat(n.offsetHeight),o=e.height,i=e.duration,s=n.style,l=(new Date).getTime();clearTimeout(n.orbAnimTimer),0===i?s.height=o+"px":(r=function(){var e=(new Date).getTime()-l,t=(t=e,-(o-a)*(t/=i)*(t-2)+a);i<e?s.height=o+"px":(s.height=t+"px",n.orbAnimTimer=setTimeout(r,10))},n.orbAnimTimer=setTimeout(r,0))},e}),define("orb/lib/_attr",function(){"use strict";return{getAttr:function(e,t){var n;return e?e.attributes[t]?e.attributes[t].specified?e.attributes[t].value:"":e.getAttributeNode?null===(n=e.getAttributeNode(t,0))?"":n.value:null===(t=e.getAttribute(t,2))?"":t:""},setAttr:function(e,t,n){e.setAttribute(t,""+n)}}}),define("orb/lib/_classy",function(){"use strict";var a={addClass:function(e,t){var n,r;if("[object Array]"===Object.prototype.toString.call(t))for(n=0,r=t.length;n<r;n++)a.addClass(e,t[n]);if(e.nodeName)a.hasClass(e,t)||(e.className+=(e.className?" ":"")+t);else if(e.length)for(n=0,r=e.length;n<r;n++)a.addClass(e[n],t)},removeClass:function(e,t){var n,r;if("[object Array]"===Object.prototype.toString.call(t))for(n=0,r=t.length;n<r;n++)a.removeClass(e,t[n]);if(e.nodeName)e.className=e.className.replace(new RegExp("(^| )"+t+"( |$)","g")," ").replace(/(^ | $)/g,"").replace(/ {2}/g," ");else if(e.length)for(n=0,r=e.length;n<r;n++)a.removeClass(e[n],t)},hasClass:function(e,t){return!!e&&-1<(" "+e.className+" ").indexOf(" "+t+" ")}};return a}),define("orb/lib/_dom",function(){"use strict";return{remove:function(e){e.parentNode.removeChild(e)}}}),define("orb/lib/_event",function(){"use strict";var o={};return document.addEventListener?o.addEvent=function(e,t,n){if(e&&(e.nodeName||e===window))e.addEventListener(t,n,!1);else if(e&&e.length)for(var r=0,a=e.length;r<a;r++)o.addEvent(e[r],t,n)}:o.addEvent=function(t,e,n){if(t&&(t.nodeName||t===window))t.attachEvent("on"+e,function(e){return(e=e||window.event||{}).srcElement&&void 0===e.target&&(e.target=e.srcElement),n.call(t,e)});else if(t&&t.length)for(var r=0,a=t.length;r<a;r++)o.addEvent(t[r],e,n)},o.mixin=function(t){t.__events={},t.event=function(e){var r=void 0!==t.__events[e]?t.__events[e]:t.__events[e]=[];return{add:function(e){r.push(e)},fire:function(e){e=e||{};for(var t=0,n=r.length;t<n;t++)r[t](e)}}}},o}),function(c){"use strict";function e(e,t,n){var r,a=c.document,o=a.createElement("link"),i=t||(r=(a.body||a.getElementsByTagName("head")[0]).childNodes)[r.length-1],s=a.styleSheets;o.rel="stylesheet",o.href=e,o.media="only x",function e(t){return a.body?t():void setTimeout(function(){e(t)})}(function(){i.parentNode.insertBefore(o,t?i:i.nextSibling)});function l(e){for(var t=o.href,n=s.length;n--;)if(s[n].href===t)return e();setTimeout(function(){l(e)})}function d(){o.addEventListener&&o.removeEventListener("load",d),o.media=n||"all"}return o.addEventListener&&o.addEventListener("load",d),(o.onloadcssdefined=l)(d),o}"undefined"!=typeof exports?exports.loadCSS=e:c.loadCSS=e}("undefined"!=typeof global?global:this),define("orb/lib/_nut",[],function(){var v,n,m,o,t={exports:{}};function b(e,t){return(e=v.getElementById(e))?[e]:[]}function p(e,t){return t[n]?t[n](e):o(e,t)}function g(e,t){return t.getElementsByTagName(e)}return function(e){void 0!==t?t.exports=e:this.nut=e}((v=document,n="getElementsByClassName",m="length",o=function(e,t){var n,r=t.firstChild,a=[];if(r)for(;1==r.nodeType&&(r.className&&r.className.match("\\b"+e+"\\b")&&a.push(r),(n=o(e,r))[m]&&(a=a.concat(n))),r=r.nextSibling;);return a},function(e,t){"object"==typeof(t=t||v)&&t.pop&&(t=t[0]);var n,r,a,o,i,s,l,d,c,u,f,h=[];for(e=e.split(","),c=-1;a=e[++c];)e[c]=a.split(/\s+/);for(i=e[m];i;){for(n=[t],s=-1,l=e[--i][m];++s<l;)if(a=e[i][s]){for(f="#"==a.charAt(0)?(a=a.substr(1),b):"."==a.charAt(0)?(a=a.substr(1),p):g,r=[],d=-1;n[++d];)for(c=-1,u=(o=f(a,n[d]))[m];++c<u;)r.push(o[c]);n=r}h=h.concat(n)}return h})),t.exports}),define("orb/lib/_onloadCSS",function(){return function(e,t){var n;function r(){!n&&t&&(n=!0,t.call(e))}e.addEventListener&&e.addEventListener("load",r),e.attachEvent&&e.attachEvent("onload",r),"isApplicationInstalled"in navigator&&"onloadcssdefined"in e&&e.onloadcssdefined(r)}}),define("orb/lib/_ready",[],function(){"use strict";var t=[],u=function(e){u.isReady?e():t.push(e)};return u.isReady=!1,function(t,n){function r(){try{o.doScroll("left")}catch(e){return void setTimeout(r,50)}c("poll")}var e=!0,a=t.document,o=a.documentElement,i=a.addEventListener,s=i?"addEventListener":"attachEvent",l=i?"removeEventListener":"detachEvent",d=i?"":"on",c=function(e){"readystatechange"===e.type&&"interactive"!=a.readyState||(("load"===e.type?t:a)[l](d+e.type,c,!1),!u.isReady&&(u.isReady=!0)&&n.call(t,e.type||e))};if("complete"===a.readyState)u.isReady=!0,n.call(t,"lazy");else{if(!i&&o.doScroll){try{e=!t.frameElement}catch(e){}e&&r()}a[s](d+"DOMContentLoaded",c,!1),a[s](d+"readystatechange",c,!1),t[s](d+"load",c,!1)}}(window,function(){for(;t.length;)t.shift().call(null)}),u}),define("orb/lib/_str",function(e){"use strict";return{htmlEntities:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},trimHtml:function(e,t){var n="",r=0;return e.replace(/(<.+?>|&.+?;|[^<&]+)/g,function(e){switch(e.charAt(0)){case"<":e=t<=r&&/\/>/.test(e)?"":e,r+=0;break;case"&":e=t<=r?"":e,r+=1;break;default:e=e.substr(0,t-r),r+=e.length}n+=e}),n=n.replace(/\s+(<[^>]+>)$/,"$1").replace(/<(\w+)><\/\1>/g,"").replace(/\s+$/,""),n+=e!==n?"&hellip;":""}}}),define("orb/lib/_template",function(){"use strict";var r={};return function e(t,n){return t="#"===(t=t.replace(/(^\s*<!\[CDATA\[|\]\]>\s*$)/g,"")).charAt(0)?r[t]=r[t]||e(document.getElementById(t.slice(1)).innerHTML):new Function("obj","var p=[],esc=function(v){return (''+v).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');},print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"),n?t(n):t}}),define("orb/lib/_$",["orb/lib/_nut","orb/lib/_ready","orb/lib/_anim","orb/lib/_dom","orb/lib/_event","orb/lib/_classy","orb/lib/_attr","orb/lib/_str","orb/lib/_script","orb/lib/_template","orb/lib/_onloadCSS"],function(e,t,n,r,a,o,i,s,l,d,c){"use strict";var u=e,f=u("#orb-banner")[0],e=u("#orb-header")[0];return u.anim=n.animate,u.ready=t,u.remove=r.remove,u.addEvent=a.addEvent,u.addClass=o.addClass,u.removeClass=o.removeClass,u.hasClass=o.hasClass,u.getAttr=i.getAttr,u.setAttr=i.setAttr,u.str=s,u.script=l,u.template=d,u.onloadCSS=c,u.client={old_ie:u.hasClass(f,"orb-old-ie"),ie8:u.hasClass(f,"orb-ie8"),ie7:u.hasClass(f,"orb-ie7"),ie6:u.hasClass(f,"orb-ie6")},u.config={fixed:u.hasClass(e,"orb-fixed-width")||u.client.old_ie,rtl:"rtl"===u.getAttr(e,"dir")},u.addCSS=function(e){if("string"!=typeof e||""===e)return!1;try{var t=document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t),!0}catch(e){return!1}},u.addHTML=function(e,t){return!(!e||!e.tagName||""===t||(e.innerHTML=t,0))},u}),define("orb/features/masthead/_drawer",["orb/lib/_$","orb/lib/_event"],function(t,r){"use strict";function e(e){r.mixin(this),this.content=e,this._currentPanel=null,this.panels={},this.panelName=null}return e.prototype.addPanel=function(e){return(this.panels[e.name]=e).drawer=this},e.prototype.getPanel=function(e){return e?this.panels[e]:this._currentPanel},e.prototype.resize=function(e){this._currentPanel&&this._currentPanel.name===e&&(e=this.panels[e].content.offsetHeight+"px",t("#orb-panels")[0].style.height=e)},e.prototype.showPanel=function(e){var t=this._currentPanel;null===t?(this.panelName=e,this.event("onActivate").fire({}),this._currentPanel=this.panels[e],this._currentPanel.publishState("shown")):t&&t.name===e?this.hidePanel():(this.deactivatedPanelName=this._currentPanel.name,this._currentPanel.publishState("hidden"),this.panelName=e,this._currentPanel=this.panels[e],this.event("onSwapContents").fire({}),this._currentPanel.publishState("shown"))},e.prototype.hidePanel=function(){var e=this._currentPanel;null!==e&&(this.event("onDeactivate").fire({}),e.publishState("hidden"),this.panelName=null,this._currentPanel=null)},e.prototype.activate=function(){this._currentPanel&&this.showPanel(this._currentPanel.name)},e.prototype.deactivate=function(){this.hidePanel()},e.prototype.getCurrentPanel=function(){return this._currentPanel},e.Panel=function(e,t,n){this.name=e,t&&(this.control=t.control,this.content=t.content),this.publishState=function(e){"function"==typeof this.stateChangeCallback&&this.stateChangeCallback.call(null,e)},"function"==typeof n&&(this.stateChangeCallback=n),r.mixin(this)},e}),define("orb/features/masthead/_layoutprimarynav",["orb/lib/_$","orb/lib/_event","orb/api","orb/features/masthead/_linkmanager","orb/features/_drawerManager","orb/features/_moreDrawer"],function(i,e,s,l,d,c){"use strict";var u=new l(i(".orb-nav-links li").slice(0,-1)),f=!1,h=i(".orb-nav-search")[0],v=i("#orb-nav-more")[0],m=i("#orb-header")[0],b=i(".orb-nav-pri-container")[0],p="orb-nav-lock",g=i("#orb-nav-more a")[0],y=g.firstChild.data,C=i.getAttr(g,"data-alt");function w(){function n(){var e=w.event("beforeLayout"),t=w.event("afterLayout"),n={links:u.links},r=b.offsetTop;e.fire(n),i.addClass(v,"orb-nav-hide"),u.showAll(),e=u.getLastItem(),h.offsetTop===r&&e&&e.offsetTop===r||(function(){var e,t;i.removeClass(v,"orb-nav-hide");var n=g.getAttribute("style");v.style.width="auto",g.style.textIndent="0",g.firstChild.data=C,e=v.offsetWidth,g.firstChild.data=y,t=v.offsetWidth,t=Math.max(e,t),v.style.width=t+"px",n?g.setAttribute("style",n):g.removeAttribute("style")}(),u.hideToFit(function(e){if(v.offsetTop!==r||h.offsetTop!==r)return!0},1)),t.fire(n)}function r(){i.addClass(b,p)}function a(){i.removeClass(b,p),s.trigger("layout",{width:b.offsetWidth,height:b.offsetHeight})}function t(){var e,t=0;return function(){window.innerWidth!==t&&(t=window.innerWidth,r(),e&&clearTimeout(e),e=setTimeout(function(){n(),c.layoutMorePanelContent(),a()},100))}}function o(){var e={isNull:!0,offsetLeft:-1,offsetWidth:0},t=i(".orb-nav-search")[0]||e,n=i("#orb-nav-links")[0]||e,r=i("#orb-nav-more")[0]||e,a=(i(".orb-nav-id")[0],0),a=i.config.rtl?i.client.ie6||i.client.ie7?function(){return t.offsetLeft+r.offsetLeft+1}:function(){return r.offsetLeft-(t.offsetLeft+t.offsetWidth)}:function(){return t.offsetLeft-n.offsetLeft-n.offsetWidth};w.event("afterLayout").add(function(e){r.style.width=r.offsetWidth+a()-3+"px"})}function e(e){window.orb&&!e&&function(){var e=i(".orb-nav-links ul li"),t=window.orb.worldwideNavlinks;if(t){i(".orb-footer-primary-links ul")[0].innerHTML=t;for(var n=0,r=e.length;n<r;n++){var a=e[n];"orb-nav-more"!==a.id&&i.remove(a)}i("#orb-nav-more")[0].insertAdjacentHTML("beforebegin",t)}var o=window.orb.worldwideFooterlinks;o&&i("#orb-contentinfo ul")[0].insertAdjacentHTML("beforeend",o),t=i(".orb-nav-blocks")[0].firstChild,o=i.getAttr(t,"href").replace("co.uk","com"),i.setAttr(t,"href",o),u=new l(i(".orb-nav-links li").slice(0,-1))}(),""!==(e=e?i.getAttr(m,"data-max-d"):i.getAttr(m,"data-max-w"))&&u.applyMaximum(e),w.event("afterLayout").add(function(e){u.hasVisible()?g.firstChild.data=C:g.firstChild.data=y}),o(),r(),i.addClass(m,"orb-nav-dyn"),i.removeClass(m,"orb-nav-empty"),n(),a(),f=!0,d(w),c(),i.config.fixed||(i.addEvent(window,"resize",t()),i.addEvent(window,"orientationchange",function(){setTimeout(t(),100)}))}w.recalculateLayout=function(){f&&(r(),n(),c.layoutMorePanelContent(),o(),a())},window.bbcuser.isUKCombined().then(e).catch(function(){e(!0)})}return e.mixin(w),w}),define("orb/features/masthead/_linkmanager",["orb/lib/_$"],function(a){"use strict";function e(e){if(void 0!==this.links)for(var t=0,n=this.links.length;t<n;t++)e(this.links[t],t)}function t(e){this.links=[];for(var t=0,n=e.length;t<n;t++){this.links[t]=e[t];var r=(this.links[t].innerText||this.links[t].textContent).trim();this.links[t].linktrack={nav_link:r}}}var o="orb-nav-hide";return t.prototype.removeLink=function(e){a.remove(this.links[e]),delete this.links[e]},t.prototype.showAll=function(){e.call(this,function(e){a.removeClass(e,o)})},t.prototype.hideToFit=function(e,t){for(var n=!1,r=this.links.length;r--;)if(n||e())a.addClass(this.links[r],o);else{if(!(r<t-1))break;n=!0,r++}},t.prototype.applyMaximum=function(n){var r=this;e.call(this,function(e,t){n<=t&&r.removeLink(t)});var t=[];e.call(this,function(e){e&&t.push(e)}),this.links=t},t.prototype.hasVisible=function(){return this.links[0]&&-1===this.links[0].className.indexOf(o)},t.prototype.getLastItem=function(){return this.links.length?this.links[this.links.length-1]:null},t}),define("orb/features/_moreDrawer",["orb/lib/_$","orb/nav"],function(c,u){var t=c("#orb-nav-more")[0],f="orb-first-visible",n=document.createElement("div");function r(){for(var e=c(".orb-nav-links li"),t=c("#orb-panel-more li"),n=c(".orb-panel-content ."+f),r="orb-panel-hide",a=0,o=u.getMastheadDrawer(),i=0,s=e.length;i<s-1&&-1===e[i].className.indexOf("orb-nav-hide");i++)a++;for(var l=0,d=t.length;l<d;l++)l<a?c.addClass(t[l],r):c.removeClass(t[l],r);n.length&&c.removeClass(n[0],f),a<t.length?c.addClass(t[a],f):a!==t.length||(n=o.getCurrentPanel())&&"more"===n.name&&o.hidePanel(),c("#orb-panel-more-title")[0].innerHTML=c("#orb-nav-more a")[0].innerHTML}function e(){var e;u.addDrawer("more",t,n),e='<div class="orb-panel-content b-g-p b-r orb-nav-sec"><h2 id="orb-panel-more-title"></h2><ul>'+c("#orb-aside .orb-footer-primary-links ul")[0].innerHTML+"</ul></div>",n.innerHTML=e,r(),c.addClass(c("html")[0],"orb-more-loaded")}return n.setAttribute("id","orb-panel-more"),c.addClass(n,"orb-panel"),e.layoutMorePanelContent=r,e}),define("orb/features/_drawerManager",["orb/lib/_$","orb/features/masthead/_drawer"],function(i,e){"use strict";var s=new e(i("#orb-panels")[0]),l=i("#orb-header")[0],d="orb-nav-focus-on",c="orb-panel-active",u="orb-nav-active",f="orb-first-visible";function r(e){for(var t=(e=void 0===e.length?[e]:e).length;t--;){if(document.activeElement&&document.activeElement===e[t])return 1;if(document.focusNode&&document.focusNode===e[t])return 1}}function h(t){var a,r=null,n=window.getComputedStyle?function(e){return e=e||document.body,window.getComputedStyle(e).fontSize.replace("px","")}:function(e){var t,n;return e=e||document.body,(t=document.createElement("div")).style.margin="0px",t.style.padding="0px",t.style.border="none",t.style.height="1em",e.appendChild(t),n=t.offsetHeight,e.removeChild(t),n};function o(){var e=s.getCurrentPanel();null!==e&&i.hasClass(s.content,c)&&(s.content.style.height=e.content.offsetHeight/n(s.content)+"em")}h.initPanelDom=function(e,t){var n=i.template(a),r=document.createElement("div"),e=n({panelcontent:"more"===e?'<h2 id="orb-panel-more-title"></h2><ul>'+i("#orb-aside .orb-footer-primary-links ul")[0].innerHTML+"</ul>":"",panelname:e});return r.innerHTML=e,r=function(){for(var e=r.firstChild;e;){if(1===e.nodeType)return e;e=e.nextSibling}return null}().cloneNode(!0),t.appendChild(r),i.addClass(i(".orb-panel-content")[0],"orb-nav-sec"),(t=i("#"+r.getAttribute("aria-labelledby"))[0])&&i.setAttr(t,"aria-controls",r.id),{control:t,content:r}},i.ready(function(){var e;(e=i("#orb-panel-template")[0])&&(a=e.innerHTML,e.parentNode.removeChild(e)),(l.drawer=s).event("onActivate").add(function(){var e,t=(e=t=s.getPanel(s.panelName)).control;e&&(clearTimeout(r),t&&i.addClass(t,d),s.content.style.height="0",e.content.style.display="block",t=e.content.offsetHeight,"mouse"===l.navMode?(i.anim(s.content,{height:t,duration:400}),i.setAttr(e.content,"tabindex","-1"),e.content.focus()):(i.anim(s.content,{height:t,duration:0}),(e=i("."+f+" a",e.content)[0]||i("."+f+" a",e.content)[0]||i(".orb-focus-target",e.content)[0])&&e.focus()),i.setAttr(s.content,"aria-expanded","true"),i.addClass(s.content,c),i.addClass(l,u))}),s.event("onDeactivate").add(function(){var e,t=s.getPanel(),n=(e=t).control;e&&(clearTimeout(r),"mouse"===l.navMode?i.anim(s.content,{height:0,duration:400}):i.anim(s.content,{height:0,duration:0}),r=setTimeout(function(){e.content.style.display="none",i.removeClass(s.content,c),i.removeClass(l,u),i.setAttr(s.content,"aria-expanded","false"),n&&i.removeClass(n,d)},"mouse"===l.navMode?400:0))}),s.event("onSwapContents").add(function(){var e,t=s.panels[s.deactivatedPanelName],n=r=s.getPanel(),r=(e=t).control,t=n.control;e.content.style.display="none",n.content.style.display="block",e=n.content.offsetHeight,"mouse"===l.navMode?(i.anim(s.content,{height:e,duration:400}),i.setAttr(n.content,"tabindex","-1"),n.content.focus()):(i.anim(s.content,{height:e,duration:0}),i("."+f+" a",n.content)[0].focus()),i.removeClass(r,d),i.addClass(t,d)}),o(),i.addEvent(l,"mousemove",function(e){l.navMode="mouse"}),i.addEvent(l,"mousedown",function(e){l.navMode="mouse"}),i.addEvent(l,"keydown",function(e){l.navMode="keyboard"}),t.event("afterLayout").add(o)}),h.refreshNav=function(){t.recalculateLayout()}}return h.addPanelEvents=function(t){var n=t.name;i.addEvent(t.control,"click",function(e){return t.event("beforeshow").fire(e),s.showPanel(n),t.event("show").fire(e),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}),i.addEvent(l,"keydown",function(e){27===("number"==typeof e.which?e.which:e.keyCode)&&(r(t.control)||r(i("a,button",t.content))||r(t.content))&&(s.hidePanel(n),(e=i("a",t.control)[0])&&e.focus())})},h.getMastheadDrawer=function(){return s},h}),define("orb/features/_skiplinks",["orb/lib/_$"],function(t){"use strict";return function(){t.ready(function(){var e=t(".orb-skip-links")[0];t.addEvent(e,"click",function(e){(e=((e=(e.target||e.srcElement).getAttribute("href").match(/^(#.+)/))?t(e[1]):[])[0])&&(null!==e.tabIndex&&-1!==e.tabIndex||(e.tabIndex=-1),e.focus())})})}}),define("orb/nav",["orb/lib/_$","orb/features/_drawerManager","orb/features/masthead/_drawer"],function(a,o,i){"use strict";return{loadCss:function(e,t){e=loadCSS(e),"function"==typeof t&&a.onloadCSS(e,t)},loadJs:function(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,t.async=!0,document.getElementsByTagName("body")[0].appendChild(t)},addDrawer:function(e,t,n,r){a("#orb-panels")[0].appendChild(n),r=new i.Panel(e,{control:t,content:n},r),o.getMastheadDrawer().addPanel(r),o.addPanelEvents(r)},getDrawerState:function(e){var t=o.getMastheadDrawer().getCurrentPanel();return null===t||t.name!=e?"hidden":"shown"},updateDrawerHeight:function(e){o.getMastheadDrawer().resize(e)},getMastheadDrawer:function(){return o.getMastheadDrawer()},refresh:function(){o.refreshNav&&o.refreshNav()}}});

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("angular-resource"),require("jquery"),require("moment"),require("angular-translate"),require("angular-dynamic-locale"),require("angular-sanitize")):"function"==typeof define&&define.amd?define(["base","angular-resource","jquery","moment","angular-translate","angular-dynamic-locale","angular-sanitize"],t):"object"==typeof exports?exports.core=t(require("base"),require("angular-resource"),require("jquery"),require("moment"),require("angular-translate"),require("angular-dynamic-locale"),require("angular-sanitize")):e.core=t(e.base,e["angular-resource"],e.jquery,e.moment,e["angular-translate"],e["angular-dynamic-locale"],e["angular-sanitize"])}(this,function(n,r,o,i,a,c,s){return l=[function(e,t,n){e.exports=n(1)},function(e,t,y){var n;!function(e){"use strict";void 0===(n=function(e,t,n){n.name="core";var r=y(3),o=y(4),i=y(9),a=y(13),c=y(14),s=y(17),u=y(32),l=y(10),p=y(43),f=y(44),d=y(45),g=y(21),h=y(48),m=y(50),v=y(52);n.exports=r.createModule(n.name,[d.name,l.name,g.name,u.name,o.name,i.name,s.name,c.name,p.name,f.name,a.name,h.name,m.name,v.name])}.call(t,y,t,e))||(e.exports=n)}.call(t,y(2)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){e.exports=n},function(e,t,o){var n;!function(e){"use strict";void 0===(n=function(e,t,n){n.name="bus";var r=o(3);n.exports=r.createModule(n.name,[]).factory(o(5)).provider(o(6))}.call(t,o,t,e))||(e.exports=n)}.call(t,o(2)(e))},function(e,t,n){t=function(e,t,n){"use strict";t.lpCoreChannelBus=function(n){function t(e){this.channel=e?e+":":""}var r=[];return t.prototype.publish=function(e){arguments[0]=this.channel+e,n.publish.apply(n,arguments)},t.prototype.subscribe=function(e,t){n.subscribe(this.channel+e,t)},t.prototype.unsubscribe=function(e,t){n.unsubscribe(this.channel+e,t)},t.prototype.flush=function(e){n.flush(this.channel+e)},{getInstance:function(e){return r[e]=r[e]||new t(e)}}},t.lpCoreChannelBus.$inject=["lpCoreBus"]}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,r){t=function(e,t,n){"use strict";var o=r(7),i=r(8);t.lpCoreBus=function(){this.registerChannel=function(e){this.channel=e},this.$get=function(){if(window.gadgets&&window.gadgets.pubsub){var e=i.create();return e.registerChannel(this.channel),e}var n={},r=o.create();return n.subscribe=function(e,t){r.on(e,t)},n.subscribeGlobal=function(e,t){n.subscribe(e,t)},n.publish=function(e){r.emit.apply(r,arguments)},n.publishGlobal=function(e){n.publish(e)},n.unsubscribe=function(e,t){r.off(e,t)},n.unsubscribeGlobal=function(e,t){n.unsubscribe(e,t)},n.EventEmitter=o,n}}}.call(t,r,t,e);void 0===t||(e.exports=t)},function(e,t,n){t=function(e,t,n){"use strict";function r(e,t){for(var n,r=e.length;r--;)if((n=e[r][0])===t||n.listener&&n.listener===t)return r;return-1}function o(e){for(var t=this.listeners(e).slice(),n=1===arguments.length,r=Array.prototype.slice,o=0,i=t.length;o<i;o++)n?void 0!==t[o][1]?t[o][0].call(t[o][1]):t[o][0]():t[o][0].apply(t[o][1],r.call(arguments,1));return this}function i(){}i.prototype={on:function(e,t,n){e=this.listeners(e);return r(e,t)<0&&e.push([t,n]),this},off:function(e,t){if(!arguments.length)return this.events=null,this;if(1===arguments.length)return this.events.hasOwnProperty(e)&&(this.events[e]=null),this;e=this.listeners(e),t=r(e,t);return 0<=t&&e.splice(t,1),this},emit:o,trigger:o,once:function(e,t,n){function r(){o.off(e,r),t.apply(this,arguments)}var o=this;return r.listener=t,this.on(e,r,n),this},listeners:function(e){var t=this.events||(this.events={});return t[e]||(t[e]=[])}},i.create=function(){return new i},i.mixin=function(e){for(var t=["on","off","emit","trigger","once","listeners"],n=t.length;n--;)e[t[n]]=i.prototype[t[n]]},n.exports=i}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,n){t=function(e,t,n){"use strict";function r(){}r.create=function(){return new r},r.prototype={registerChannel:function(e){this.channel=e},subscribe:function(e,t){var n=Array.prototype.slice.call(arguments);this.channel&&(n[0]=this.channel+"."+e),window.gadgets.pubsub.subscribe.apply(null,n)},subscribeGlobal:function(e,t){var n=Array.prototype.slice.call(arguments);window.gadgets.pubsub.subscribe.apply(null,n)},publish:function(e){var t=Array.prototype.slice.call(arguments);this.channel&&(t[0]=this.channel+"."+e),window.gadgets.pubsub.publish.apply(null,t)},publishGlobal:function(e){var t=Array.prototype.slice.call(arguments);window.gadgets.pubsub.publish.apply(null,t)},unsubscribe:function(e,t){var n=Array.prototype.slice.call(arguments);this.channel&&(n[0]=this.channel+"."+e),window.gadgets.pubsub.unsubscribe.apply(null,n)},unsubscribeGlobal:function(e,t){var n=Array.prototype.slice.call(arguments);window.gadgets.pubsub.unsubscribe.apply(null,n)},flush:function(e){var t=Array.prototype.slice.call(arguments);this.channel&&(t[0]=this.channel+"."+e),window.gadgets.pubsub.flush.apply(null,t)},flushGlobal:function(e){var t=Array.prototype.slice.call(arguments);window.gadgets.pubsub.flush.apply(null,t)}},n.exports=r}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,i){var n;!function(e){"use strict";void 0===(n=function(e,t,n){n.name="core.cache";var r=i(3),o=[i(10).name];n.exports=r.createModule(n.name,o).factory(i(12))}.call(t,i,t,e))||(e.exports=n)}.call(t,i(2)(e))},function(e,t,o){var n;!function(e){"use strict";void 0===(n=function(e,t,n){n.name="core.portal";var r=o(3);n.exports=r.createModule(n.name,[]).constant(o(11)).run(function(){})}.call(t,o,t,e))||(e.exports=n)}.call(t,o(2)(e))},function(e,t,c){t=function(e,t,n){"use strict";var r=c(3).utils,o=window.b$||{},i=r.assign({portalView:{getElementsByTagName:function(){return[]}},config:{serverRoot:"./"},pageName:"",pageUUID:"",loggedInUserId:""},o.portal),o=r.assign({designMode:!1},window.bd),r={name:i.pageName,id:i.pageUUID},a=i.portalView.getElementsByTagName("page")[0];r.getPreference=function(e){if(a)return a.getPreference(e)},t.lpPortal={root:i.config.serverRoot,name:i.portalName,page:r,defaultLandingPage:i.config.defaultLandingPage,linkId:i.linkUUID,userId:i.loggedInUserId,designMode:"true"===o.designMode,locale:i.config.locale,hideAccount:i.config.hideAccount,maskAccount:i.config.maskAccount,_portalConfig:i.config}}.call(t,c,t,e);void 0===t||(e.exports=t)},function(e,t,i){t=function(e,t,n){"use strict";function r(e){var t=e.promise,n=e.key,e=o.get(n);return e||(e=t.call(),o.put(n,e)),e}var c,o,s=i(3).utils;t.lpCoreHttpCache=function(e,t,r){if(c)return c;var o=parseInt(t.page.getPreference("httpCacheTimeout"),10);isNaN(o)&&(o=0);var i=(c=e("lpHttp")).put,a={};return c.put=function(e){var t,n=i.apply(this,arguments),e=(a[t=e]=a[t]||s.once(function(){r(function(){c.remove(t),delete a[t]},o)}),a[t]);return(n.then||e).call(n,e),n},c},t.lpCoreHttpCache.$inject=["$cacheFactory","lpPortal","$timeout"],t.lpCoreCachePromise=function(e){return o=o||e("lp"),r},t.lpCoreCachePromise.$inject=["$cacheFactory"]}.call(t,i,t,e);void 0===t||(e.exports=t)},function(e,t,i){var n;!function(e){"use strict";void 0===(n=function(e,t,n){function r(e,t){var n,r=e;this.useWidgetInstance=function(e){n=e,t.useWidgetInstance(e)},this.$get=function(){function e(e){this.widget=e,this.attributes={},this.defineAttribute("locale",{default:"en"})}return e.prototype.getLocale=function(){return this.get("locale")},e.prototype.defineAttribute=function(e,t){this.attributes[e]=t},e.prototype.get=function(e){var t=void 0!==(t=this.widget?this.widget.getPreference(e)||this.widget.getPreferenceFromParents(e):t)?t:this.getDefault(e);return t=r.isString(t)?r.resolvePortalPlaceholders(t):t},e.prototype.getDefault=function(e){return this.attributes[e]&&this.attributes[e].default?this.attributes[e].default:null},e.prototype.getAbsPath=function(){return this.widget&&r.getWidgetBaseUrl(this.widget)||"/"},new e(n)}}r.$inject=["lpCoreUtils","lpCoreI18nProvider"],n.name="core.configuration";var o=i(3);n.exports=o.createModule(n.name,[]).provider("lpCoreConfiguration",r)}.call(t,i,t,e))||(e.exports=n)}.call(t,i(2)(e))},function(e,t,o){var n;!function(e){"use strict";void 0===(n=function(e,t,n){n.name="error";var r=o(3);n.exports=r.createModule(n.name,[]).config(o(15)).factory(o(16))}.call(t,o,t,e))||(e.exports=n)}.call(t,o(2)(e))},function(e,t,n){t=function(e,t,n){"use strict";n.exports=function(e){e.decorator("$exceptionHandler",["$delegate","$injector",function(n,e){return function(e,t){n(e,t)}}])},n.exports.$inject=["$provide"]}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,a){t=function(e,t,n){"use strict";var r,o=a(3).utils,i={};t.lpCoreError=function(n,e){return i.createException=function(t){function e(e){this.name=t||"Error",this.message=e||"Unknown Message"}return(e.prototype=new Error).constructor=e},i.captureException=function(e,t){return n(e,t)},i.throwException=function(e){throw e=!(e instanceof Error)?new Error(e):e},i.throwExceptionAsync=function(e,t,n){e instanceof Error||(e=new Error(e)),o.defer(function(){throw e},t||100,n)},i.assert=function(e,t){r=r||i.createException("AssertionError"),e||i.throwException(new r(t||"Assertion fails!"))},i},t.lpCoreError.$inject=["$exceptionHandler","$q"]}.call(t,a,t,e);void 0===t||(e.exports=t)},function(e,t,a){var n;!function(e){"use strict";void 0===(n=function(e,t,n){function r(e,t){e.defaults.cache=t}r.$inject=["$http","lpCoreHttpCache"],n.name="http";var o=a(3);a(18);var i=["ngResource",a(9).name];n.exports=o.createModule(n.name,i).config(a(19)).factory(a(31)).run(r)}.call(t,a,t,e))||(e.exports=n)}.call(t,a(2)(e))},function(e,t){e.exports=r},function(e,t,d){t=function(e,t,n){"use strict";function r(e,t){var n,r;return u(e)&&(!(n=e.replace(l,"").trim())||(r=n.match(p))&&f[r[0]].test(n)&&(e=s(n))),e}var o=d(3),i=d(20),a=d(21),c=o.ng.injector([a.name]).get("lpCoreUtils").getCookie("XSRF-TOKEN");""!==c&&i.ajaxSetup({global:!0,headers:{"X-XSRF-TOKEN":c}});var s=o.ng.fromJson,u=o.ng.isString,l=/^\)\]\}',?\n/,p=/^\[|^\{(?!\{)/,f={"[":/]$/,"{":/}$/};n.exports=function(e){e.interceptors.push("lpCoreHttpInterceptor");var t={Accept:"application/json","Content-Type":"application/json","X-XSRF-TOKEN":c};e.defaults.headers.common=t,e.defaults.headers.post=t,e.defaults.headers.put=t,e.defaults.transformResponse=[r]},n.exports.$inject=["$httpProvider"]}.call(t,d,t,e);void 0===t||(e.exports=t)},function(e,t){e.exports=o},function(e,t,d){var n;!function(e){"use strict";void 0===(n=function(e,t,n){n.name="core.utils";var r=d(3),o=r.utils,i=d(22),a=d(23),c=d(25),s=d(26),u=d(27),l=d(28),p=d(29),f=d(30);o.mixin(i),o.mixin(a),o.mixin(c),o.mixin(s),o.mixin(u),o.mixin(l),o.mixin(p),o.mixin(f),n.exports=r.createModule(n.name,[]).constant({lpCoreUtils:o})}.call(t,d,t,e))||(e.exports=n)}.call(t,d(2)(e))},function(e,t,o){t=function(e,t,n){"use strict";var r=o(3).utils;t.parseQuerystring=function(e){return r.isString(e)?(e=r.trim(e))?r.reduce(e.split("&"),function(e,t){var n=t.split("="),t=decodeURIComponent(n[0]),n=n[1],n=r.isUndefined(n)?null:decodeURIComponent(n);return e.hasOwnProperty(t)?(r.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n)):e[t]=n,e},{}):{}:{}},t.buildQueryString=function(n){return r.isObject(n)?r.map(r.keys(n),function(t){var e=n[t];return r.isArray(e)?r.map(e,function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&"):""}}.call(t,o,t,e);void 0===t||(e.exports=t)},function(e,t,i){t=function(e,t,n){"use strict";function r(e){return o.padLeft(e,2,"0")}var o=i(3).utils;t.date=i(24),t.dateToISOString=function(e){return Date.prototype.toISOString?Date.prototype.toISOString.call(e):e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},t.dateFormat=function(e,t){}}.call(t,i,t,e);void 0===t||(e.exports=t)},function(e,t){e.exports=i},function(e,t,a){t=function(e,t,n){"use strict";var r=a(3),o=r.inject("lpPortal",a(10).name),i=r.utils;t.resolvePortalPlaceholders=function(e){if(!i.isString(e))return e;var n=o.root||"";return(e=i(["$(contextRoot)","$(contextPath)","$(servicesPath)"]).reduce(function(e,t){return e.replace(t,n)},e)).replace("[BBHOST]","%5BBBHOST%5D")},t.getWidgetBaseUrl=function(e){if(!i.isEmpty(e)){e=e.getPreference("src");return e&&t.resolvePortalPlaceholders(e.replace(/\/[^\/]*$/,""))}},t.getPortalProperty=function(e){switch(e){case"serverRoot":return o.root;case"portalName":return o.name;case"pageName":return o.page.name;case"defaultLandingPage":return o.defaultLandingPage;case"locale":return o.locale;case"hideAccount":return o.hideAccount;case"maskAccount":return o.maskAccount;default:return o._portalConfig[e]}},t.getPagePreference=function(e){return o.page.getPreference(e)},t.getPortalPage=function(){return o.page},t.generateUUID=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:7&t|8).toString(16)})}}.call(t,a,t,e);void 0===t||(e.exports=t)},function(e,t,n){t=function(e,t,n){"use strict";t.isValidEmail=function(e){return/^\w+([\.\-]?\w+)*@\w+([\.\-]?\w+)*(\.\w+)+$/.test(e)},t.isValidUUID=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},t.isValidISO7064Checksum=function(e){if(e){for(e=function(e){for(var t=e.split(""),n=0;n<t.length;n++)/[A-Z]/.test(t[n])&&(t[n]=t[n].charCodeAt(0)-55);return t.join("")}(e=e.substr(4)+e.substr(0,4));2<e.length&&!isNaN(e);)e=function(e){e=parseInt(e,10)%97;return 1===(e=e.toString()).length?"0"+e:e}(e.substr(0,9))+e.substr(9);if(1===parseInt(e,10))return!0}return!1}}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,n){t=function(e,t,n){"use strict";t.parseBoolean=function(e){return"boolean"==typeof e&&e||"string"==typeof e&&/\s*true\s*/i.test(e)||"number"==typeof e&&0!==e}}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,o){t=function(e,t,n){"use strict";var r=o(3).utils;t.stripHtml=function(e){return r.isString(e)?e.replace(/<\/?[^>]+>/g,""):(console.log(e+" is not a String"),"")}}.call(t,o,t,e);void 0===t||(e.exports=t)},function(e,t,n){t=function(e,t,n){"use strict";t.getCookie=function(e){var t="; "+document.cookie,n="";if("string"==typeof e&&2===(n=t.split("; "+e+"=")).length)return n.pop().split(";").shift()}}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,n){t=function(e,t,n){"use strict";t.safeApply=function(e,t){var n=e.$root.$$phase;"$apply"===n||"$digest"===n?t():e.$apply(t())}}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,o){t=function(e,t,n){"use strict";var i=o(20),r=o(3),a=r.utils,c=r.queue,s=[],u=[400,401,403],l=function(){for(var e,t=[].slice.call(arguments),n=t.pop(),r=0,o=t.length;r<o;r++)if(t[r].hasOwnProperty(n))return e=t[r][n],delete t[r][n],e};t.lpCoreHttpInterceptor=function(r,o){return{configureNotifications:function(e){e.ignore&&(e.ignore=e.ignore.map(function(e){return e instanceof RegExp?e:a.resolvePortalPlaceholders(e)}),s=s.concat(e.ignore))},request:function(e){return e.data=e.data||{},e.params=e.params||{},e.url=(t=e.url,n=e.data,r=e.params,a.trim(t).replace(/\$\(([a-z]\w*)\)/gi,function(e,t){return l(n,r,t)})),e;var t,n,r},requestError:function(e){return o.reject(e)},response:function(e){return e||o.when(e)},responseError:function(e){var t,n;return e.status&&404!==e.status&&("string"!=typeof e.data?e.data=e.data||{}:e.data={},e.data.errors=e.data.errors||[],(t=e.data.errors).length<=0&&t.push({code:e.status,message:e.statusText||"Unknown error message"}),-1!==a.indexOf(u,e.status)||(n=e.config.url,s.some(function(e){return e instanceof RegExp?e.test(n):-1<n.indexOf(e)}))||(t={contextId:[e.config.method,e.config.url,i.param(e.config.params)].join("__"),messages:e.data.errors},c.push(t,function(){return r.get("$http")(e.config)}))),o.reject(e)}}},t.lpCoreHttpInterceptor.$inject=["$injector","$q"]}.call(t,o,t,e);void 0===t||(e.exports=t)},function(e,t,u){var n;!function(e){"use strict";void 0===(n=function(e,t,n){function r(e,t,n){e.subscribe(n.LOCALE_CHANGE_EVENT,function(e){t.setLocale(e)})}r.$inject=["lpCoreBus","lpCoreI18n","lpCoreI18nUtils"],n.name="core.i18n";var o=u(3);u(33),u(34),u(35);var i=u(21),a=u(4),c=u(14),s=u(9),a=["pascalprecht.translate","tmh.dynamicLocale","ngSanitize",i.name,c.name,s.name,a.name];n.exports=o.createModule(n.name,a).value("lpI18nCommonTranslation").constant(u(36)).factory(u(37)).provider(u(38)).filter(u(39)).directive(u(40)).factory(u(41)).directive(u(42)).run(r)}.call(t,u,t,e))||(e.exports=n)}.call(t,u(2)(e))},function(e,t){e.exports=a},function(e,t){e.exports=c},function(e,t){e.exports=s},function(e,t,n){t=function(e,t,n){"use strict";var r="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",o=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+r+">[\\s\\S]*?</script\\s*|style\\b"+r+">[\\s\\S]*?</style\\s*|/?[a-z]"+r+")>","gi");t.lpCoreI18nUtils={WIDGET_TRANSLATION_PREFERENCE:"i18nEndPoint",CURRENCY_MAP:{ALL:"Lek",AFN:"Ø‹",ARS:"$",AWG:"Æ’",AUD:"$",AZN:"Ð¼Ð°Ð½",BSD:"$",BBD:"$",BYR:"p.",BZD:"BZ$",BMD:"$",BOB:"$b",BAM:"KM",BWP:"P",BGN:"Ð»Ð²",BRL:"R$",BND:"$",KHR:"áŸ›",CAD:"$",KYD:"$",CLP:"$",CNY:"Â¥",COP:"$",CRC:"â‚¡",HRK:"kn",CUP:"â‚±",CZK:"KÄ",DKK:"kr",DOP:"RD$",XCD:"$",EGP:"Â£",SVC:"$",EEK:"kr",EUR:"â‚¬",FKP:"Â£",FJD:"$",GHC:"Â¢",GIP:"Â£",GTQ:"Q",GGP:"Â£",GYD:"",HNL:"L",HKD:"$",HUF:"Ft",ISK:"kr",IDR:"Rp",IRR:"ï·¼",IMP:"Â£",ILS:"â‚ª",JMD:"J$",JPY:"Â¥",JEP:"Â£",KZT:"Ð»Ð²",KGS:"Ð»Ð²",LAK:"â‚­",LVL:"Ls",LBP:"Â£",LRD:"$",LTL:"Lt",MKD:"Ð´ÐµÐ½",MYR:"RM",MUR:"â‚¨",MXN:"$",MNT:"â‚®",MZN:"MT",NAD:"$",NPR:"â‚¨",ANG:"Æ’",NZD:"$",NIO:"C$",NGN:"â‚¦",KPW:"â‚©",NOK:"kr",OMR:"ï·¼",PKR:"â‚¨",PAB:"B/.",PYG:"Gs",PEN:"S/.",PHP:"â‚±",PLN:"zÅ‚",QAR:"ï·¼",RON:"lei",RUB:"Ñ€ÑƒÐ±",SHP:"Â£",SAR:"ï·¼",RSD:"Ð”Ð¸Ð½.",SCR:"â‚¨",SGD:"$",SBD:"$",SOS:"S",ZAR:"R",KRW:"â‚©",LKR:"â‚¨",SEK:"kr",CHF:"CHF",SRD:"$",SYP:"Â£",TWD:"NT$",THB:"à¸¿",TTD:"TT$",TRL:"â‚¤",TVD:"$",UAH:"â‚´",GBP:"Â£",USD:"$",UYU:"$U",UZS:"Ð»Ð²",VEF:"Bs",VND:"â‚«",YER:"ï·¼",ZWD:"Z$"},DEFAULT_TRANSLATIONS_PATH:"/locale/",COMMON_I18N_LOAD_EVENT:"lpi18n:data:load",LOCALE_CHANGE_EVENT:"lpi18n:locale:change",ALL_LOCALES_FILE:"all.json",parseLocale:function(e){if("en"===e)return"en-US";if("string"!=typeof e)return"";e=e.split(/[-_]/);return e[1]||e.push(e[0]),e[0]=e[0].toLowerCase(),e[1]=e[1].toUpperCase(),e.join("-")},sanitize:function(e){for(var t;(e=(t=e).replace(o,""))!==t;);return e.replace(/</g,"&lt;")}}}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,n){t=function(e,t,n){"use strict";t.lpCoreI18nLoader=function(r,o,i,t,a,n,c,s){function u(e){return n({key:e,promise:function(){return t.get(e)}})}return function(t){var e=t.localeFilePath?"/"===t.localeFilePath.slice(-1)?t.localeFilePath+(t.merged?o.ALL_LOCALES_FILE:t.key+".json"):t.localeFilePath:(e=t.widgetUrl+o.DEFAULT_TRANSLATIONS_PATH,r.trimRight(e,"/")+"/"+(t.merged?o.ALL_LOCALES_FILE:t.key+".json")),n=t.i18nPath+"/"+(t.merged?"common.json":t.key+".json");return i.all({common:u(n),widget:u(e)}).then(function(e){e=t.merged?(a||(a=e.common.data,c.publish(o.COMMON_I18N_LOAD_EVENT,a)),r.extend({},e.common.data[t.key],e.widget.data[t.key])):(a=e.common.data,c.publish(o.COMMON_I18N_LOAD_EVENT,a),r.extend({},e.common.data,e.widget.data));return e}).catch(function(e){s.captureException(e)})}},t.lpCoreI18nLoader.$inject=["lpCoreUtils","lpCoreI18nUtils","$q","$http","lpI18nCommonTranslation","lpCoreCachePromise","lpCoreBus","lpCoreError"]}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,n){t=function(e,t,n){"use strict";function o(e){return document.getElementsByTagName("html")[0].getAttribute(e)}var a,c=!0;t.lpCoreI18n=function(n,r,i,e){var t;a||(t=window.launchpad,a={locale:i.parseLocale(o("lang")||o("xml:lang")||navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage),merged:!0,i18nPath:n.resolvePortalPlaceholders(t?"$(contextRoot)/static/launchpad/modules/config/i18n":"/bower_components/config/i18n")},t&&t.i18n&&(a.merged=t.i18n.mergedFiles,a.i18nPath=n.resolvePortalPlaceholders(t.i18n.path))),e.localeLocationPattern(a.i18nPath+"/ng-locale/angular-locale_{{locale}}.js"),r.preferredLanguage(a.locale),this.useWidgetInstance=function(e){var t;r.useSanitizeValueStrategy("sanitize"),n.isEmpty(e.getPreference("locale"))||(t=n.resolvePortalPlaceholders(e.getPreference("localeFilePath")),r.useLoader("lpCoreI18nLoader",{i18nPath:a.i18nPath,merged:a.merged,widgetUrl:n.getWidgetBaseUrl(e),localeFilePath:t}))},this.$get=function(n,e,o,t,r){return c&&(setTimeout(function(){r.publish(i.LOCALE_CHANGE_EVENT,a.locale)},0),c=!1),{setLocale:function(e){o.use(e),t.set(e.toLowerCase())},formatCurrency:function(e,t){t=n("currencySymbol")(t);return n("currency")(e,t)},formatDate:function(e,t){return n("date")(e,t||"medium")},instant:function(e,t,n,r){return o.instant(e,t,n,r)}}},this.$get.$inject=["$filter","lpCoreI18nLoader","$translate","tmhDynamicLocale","lpCoreBus"]},t.lpCoreI18n.$inject=["lpCoreUtils","$translateProvider","lpCoreI18nUtils","tmhDynamicLocaleProvider"]}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,n){t=function(e,t,n){"use strict";t.currencySymbol=function(t){return function(e){return t.CURRENCY_MAP[e]||""}},t.currencySymbol.$inject=["lpCoreI18nUtils"]}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,n){t=function(e,t){"use strict";var o=n(36).lpCoreI18nUtils;t.lpI18n=function(r){return{restrict:"AE",link:function(t,n,e){e.$observe("lpI18n",function(e){n.attr("translate",o.sanitize(e)),n.removeAttr("lp-i18n"),r(n)(t)})},priority:Number.MAX_VALUE,terminal:!0}},t.lpI18n.$inject=["$compile"],t.lpI18nSwitch=function(i,a){return{template:'<span translate="_languageCode"></span>',restrict:"AE",link:function(e,t,n){var r,o=n.lpI18nSwitch;o&&(o=o.split(","),i.subscribe(a.LOCALE_CHANGE_EVENT,function(e){r=o.indexOf(e)}),t.on("click",function(e){e.preventDefault(),r=++r%o.length,i.publish(a.LOCALE_CHANGE_EVENT,o[r])}))}}},t.lpI18nSwitch.$inject=["lpCoreBus","lpCoreI18nUtils"]}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,r){t=function(e,t,n){"use strict";r(20),t.i18nUtils=function(n,r,o){var e={},i=function(e){var t={url:o.resolvePortalPlaceholders(endpoint),method:"GET",cache:!0,data:{},headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;"}};return{read:function(){return n(t)}}},a=function(e){var t=r.when(e);return{success:function(e){return t.then(e),t},error:function(e){return t.then(null,e),t},always:function(e){return t.finally(e),t}}};return e.loadMessages=function(e,t,n){n=e.getPreference(n=n||"messageSrc");return n?i({endpoint:n}).read():a({})},e},t.i18nUtils.$inject=["$http","$q","lpCoreUtils"]}.call(t,r,t,e);void 0===t||(e.exports=t)},function(e,t,n){t=function(e,t,n){"use strict";t.lpMessage=function(){return{replace:!1,restrict:"A",scope:{key:"=lpMessage",messages:"=lpBundle"},template:"{{value}}",link:function(n,e,t){function r(e,t){e=t&&t.hasOwnProperty(e)?t[e]:"["+e+"]",n.value=e}n.$watch("key",function(e){r(e,n.messages)}),n.$watch("messages",function(e){r(n.key,e)})}}}}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,o){var n;!function(e){"use strict";void 0===(n=function(e,t,n){n.name="core.store";var r=o(3);n.exports=r.createModule(n.name,[]).provider("lpCoreStore",function(){this.$get=function(){var e={getItem:function(e){},setItem:function(e,t){},removeItem:function(e){},reset:function(){}};return e}})}.call(t,o,t,e))||(e.exports=n)}.call(t,o(2)(e))},function(e,t,a){var n;!function(e){"use strict";void 0===(n=function(e,t,n){n.name="core.template";var r=a(3),o={},i={};o.lpCoreTemplate=function(r){var e,o={};this.useWidgetInstance=function(e){var t={},n=r.getWidgetBaseUrl(e);e.model&&e.model.preferences&&e.model.preferences.array&&(t=r.reduce(e.model.preferences.array,function(e,t){return-1<t.name.indexOf("widgetTemplate_")&&(e[t.name.replace("widgetTemplate_","")]=t.value),e},{})),n=n&&r.trimRight(n,"/"),r.extend(o,{path:n,templates:t})},this.$get=function(t){return(e=function(e){this.options=e,r.defaults(this.options,{path:t.getAbsPath()})}).prototype.getOptions=function(){return this.options},e.prototype.getOptionsPath=function(){return this.options.path},e.prototype.getFullPath=function(e){var t=this.getOptionsPath();return"/"===t?t+e:[t,e].join("/")},e.prototype.resolvePath=function(e,t){var n;return(n=t||(n=e.match(/(?:^|\/)([^\/]+?)\.html$/))&&n[1])&&this.options.templates[n]?(n=this.options.templates[n],/^https?:\/\//.test(n)?n:this.getFullPath(n)):this.getFullPath(e)},new e(o)},this.$get.$inject=["lpCoreConfiguration"]},o.lpCoreTemplate.$inject=["lpCoreUtils"],i.lpTemplate=function(l,p,f){return{restrict:"AE",transclude:!0,priority:599,link:function(t,n,e,r,o){var i,a,c,s,u;i=t,a=e,c=function(e){e&&(n.html(e).show(),o(function(e){n.find(".ng-transclude-node").html(e)}),l(n.contents())(t))},u=decodeURIComponent(a.lpTemplate||a.src),i.$watch(u,function(e){if(!e){if(void 0===e&&!/\.html$/.test(u))return c();f.deprecate('Template expression "'+u+'" is invalid and evaluated to "'+e+'". Raw path is used as is. See LPES-4017 for details.'),e=u}s=p.resolvePath(e,a.name),c('<div class="ng-transclude-node"></div><div ng-include src="\''+s+"'\"></div>")})}}},i.lpTemplate.$inject=["$compile","lpCoreTemplate","lpCoreUtils"],i.lpTemplateCache=function(o){return{restrict:"AE",link:function(e,t,n){t.css({display:"none"});var r="NOSCRIPT"===t[0].tagName.toUpperCase()?"text":"html";o.put(n.lpTemplateCache||n.id,t[r]())}}},i.lpTemplateCache.$inject=["$templateCache"],n.exports=r.createModule(n.name,[]).provider(o).directive(i)}.call(t,a,t,e))||(e.exports=n)}.call(t,a(2)(e))},function(e,t,i){var n;!function(e){"use strict";void 0===(n=function(e,t,n){n.name="core.update";var r=i(3),o=[i(21).name];n.exports=r.createModule(n.name,o).provider(i(46))}.call(t,i,t,e))||(e.exports=n)}.call(t,i(2)(e))},function(e,t,n){t=function(e,t){"use strict";var r=n(47),i=n(3).utils,a={};t.lpCoreUpdate=function(){this.$get=function(){var n=function(e){e=a[e];!e||!i.isArray(e)||e.length<1||e.forEach(function(e){try{e()}catch(e){throw new Error(e)}})};return{subscribe:function(e,t){var n,r,o;e&&"function"==typeof t&&(a.hasOwnProperty(e)||(a[e]=[]),n=a[e],r=t,o=!1,i.isArray(n)&&n.forEach(function(e){e===r&&(o=!0)}),o||a[e].push(t))},trigger:function(e){var t;e&&(t="actions",!(e=!!((e=e)&&r.hasOwnProperty(t)&&r.hasOwnProperty("deps"))&&(t=r[t][e]||[],e=r.deps[e]||[],i.chain(t).union(e).uniq().value()))||!i.isArray(e)||e.length<1||e.forEach(function(e){n(e)}))}}}}}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,n){t=function(e,t,n){"use strict";n.exports={actions:{newPaymentOrderInitiated:["reviewTransfer"]},deps:{transactions:["accounts"]}}}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,o){var n;!function(e){"use strict";void 0===(n=function(e,t,n){n.name="core.widget";var r=o(3);n.exports=r.createModule(n.name,[]).provider(o(49))}.call(t,o,t,e))||(e.exports=n)}.call(t,o(2)(e))},function(e,t,n){t=function(e,t,n){"use strict";t.lpCoreWidget=function(n,r,o){var i;this.useWidgetInstance=function(e){(i=e).getResolvedPreference=function(e){e=this.getPreference(e);return r.resolvePortalPlaceholders(e)},n.provider("lpWidget",function(){this.getInstance=this.$get=function(){return e}}),n.value("widget",i);var t=e.getPreference("eventChannel")||e.getPreferenceFromParents("eventChannel");o.registerChannel(t)},this.$get=this.getInstance=function(){return i}},t.lpCoreWidget.$inject=["$provide","lpCoreUtils","lpCoreBusProvider"]}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,o){t=function(e,t,n){"use strict";var r=o(3);n.exports=r.ng.module("common",[]).constant("httpServicesConfig",{defaultConfig:{cacheTimeout:1e3,xhrTimeout:5e3}}).service(o(51))}.call(t,o,t,e);void 0===t||(e.exports=t)},function(e,t,n){var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(e,t,n){"use strict";function g(){var e,t,n=new Date;try{return(e=window.localStorage).setItem(n,n),t=e.getItem(n)==n,e.removeItem(n),t&&e}catch(e){}}t.httpService=function(a,r,o,t,c){function n(e){c.assign(this,t.defaultConfig,e)}n.prototype.read=function(e,t){var n,r=this,o=i(this.endpoint,e);return n=(n=!t?s(o):n)||p(this.endpoint,"GET",{},this.contentType,e).success(function(e){u(o,e,r.cacheTimeout)})};var i=function(e,t){return"launchpad.services/"+e+(t=t?"."+JSON.stringify(t):"")},s=function(e){var t=g()?sessionStorage.getItem(e):null,n=null;if(t)try{(t=JSON.parse(t)).expires&&t.expires>(new Date).getTime()?n=f(t.data):l(e)}catch(e){}return n},u=function(e,t,n){if(g())try{sessionStorage.setItem(e,JSON.stringify({expires:(new Date).getTime()+n,data:t}))}catch(e){}},l=function(e){sessionStorage.removeItem(e)};n.prototype.create=function(e){var t=(e=c.assign({},{method:"POST"},e)).contentType||this.contentType;return p(this.endpoint,e.method,e.data,t)},n.prototype.update=function(e){var t=(e=c.assign({},{method:"PUT"},e)).contentType||this.contentType;return p(this.endpoint,e.method,e.data,t)},n.prototype.del=function(e){return e=c.assign({},{method:"DELETE"},e),p(this.endpoint,e.method,e.data,this.contentType)};var p=function(e,t,n,r,o,i){return"GET"!==t||"file:"===window.location.protocol||void 0!==window.__karma__||(o=c.assign(o||{},{_:(new Date).getTime()})),"application/x-www-form-urlencoded;"===(r=r||"application/x-www-form-urlencoded;")&&(n=c.buildQueryString(n||{})),a({method:t,url:e,params:o,data:n,cache:!1,headers:{Accept:"application/json","Content-Type":r},timeout:i})},f=function(e){var t=r.defer(),n=t.promise;return n.success=function(t){return n.then(function(e){t(e)},null),n},n.error=function(t){return n.then(null,function(e){t(e)}),n},n.always=function(t){return n.then(null,null,function(e){t(e)}),n},o(function(){t.resolve(e)}),n},d={};return{getInstance:function(e){if(!e.endpoint||"string"!=typeof e.endpoint)throw new Error("You must specify an endpoint in your service config");return d[e.endpoint]||(e.endpoint=c.resolvePortalPlaceholders(e.endpoint,e.urlVars),e.endpoint=function(e,t){if("string"==typeof e&&"object"===(void 0===t?"undefined":h(t)))for(var n in t){var r;t.hasOwnProperty(n)&&(r=new RegExp("\\$\\("+n+"\\)","g"),e=e.replace(r,t[n]))}return e}(e.endpoint,e.urlVars),d[e.endpoint]=new n(e)),d[e.endpoint]},resolvePromise:f}},t.httpService.$inject=["$http","$q","$timeout","httpServicesConfig","lpCoreUtils"]}.call(t,n,t,e);void 0===t||(e.exports=t)},function(e,t,o){var n;!function(e){"use strict";void 0===(n=function(e,t,n){n.name="core-deprecated";var r=o(3);n.exports=r.createModule(n.name,[]).factory(o(53)).service(o(54)).service(o(55)).service(o(56)).service(o(57))}.call(t,o,t,e))||(e.exports=n)}.call(t,o(2)(e))},function(e,t,i){t=function(e,t,n){"use strict";var r=i(3),o=r.utils;t.formDataPersistence=function(){function n(){var e,t,n=(new Date).getTime().toString();try{return(e=window.localStorage).setItem(n,n),t=e.getItem(n)===n,e.removeItem(n),t&&e}catch(e){r.log.warn(e)}}function e(){}return e.prototype.saveFormData=function(e,t){n()&&(t=JSON.stringify(t),window.sessionStorage.setItem(e,t))},e.prototype.removeFormData=function(e){n()&&window.sessionStorage.removeItem(e)},e.prototype.getFormData=function(e){e=JSON.parse(window.sessionStorage.getItem(e));return function e(t){for(var n in t){var r;t.hasOwnProperty(n)&&(-1<n.toLowerCase().indexOf("date")&&"boolean"!=typeof t[n]&&(r=new Date(t[n]),isNaN(r.getTime())||(t[n]=r)),t[n]instanceof Object&&e(t[n]))}return t}(e),e},e.prototype.isFormSaved=function(e){return null!==window.sessionStorage.getItem(e)},{getInstance:function(){return o.deprecate("formDataPersistence is deprecated. It is now part of new transfer widget."),new e}}}}.call(t,i,t,e);void 0===t||(e.exports=t)},function(e,t,r){t=function(e,t,n){"use strict";var i=r(3).utils;t.ProfileContactService=function(r,e,t){i.deprecate("ProfileContactService is deprecated. Use lpUserDetails in module-users.");var o=t.resolvePortalPlaceholders(e.getPreference("saveUrl"));this.read=function(){return r.get(o)},this.save=function(e,t){var n={};return n[e]=t,r.put(o,$.param(n),{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;"}})}},t.ProfileContactService.$inject=["$http","lpWidget","lpCoreUtils"]}.call(t,r,t,e);void 0===t||(e.exports=t)},function(e,t,o){t=function(e,t,n){"use strict";var r=o(3),i=r.ng,a=r.utils;t.ProfileDetailsService=function(t,r,e){a.deprecate("ProfileDetailsService is deprecated. Use lpUserDetails in module-users.");var n={counterPartyServiceUrl:"$(servicesPath)/services/rest/v1/party-data-management/party"},o=this;o.config=n,o.setConfig=function(e){o.config=i.extend(n,e)},o.formatResponse=function(e){var t,n,t={fullname:[e.firstName,e.lastName].join(" "),details:(t=e.details,n=[],a.each(t,function(e,t){n.push({key:r.instant(t),value:"dateOfBirth"===t?r.formatDate(e):r.instant(e)})}),n),activities:[],photoUrl:e.photoData};return!t.photoUrl&&e.photoUrl&&(t.photoUrl=a.decodePhotoUrl(e.photoUrl)),e.activities&&e.activities.lastLoggedIn&&t.activities.push({key:"Last Logged In",value:r.formatDate(e.activities.lastLoggedIn,"medium")}),t},o.getData=function(){var e=a.resolvePortalPlaceholders(o.config.counterPartyServiceUrl||n.counterPartyServiceUrl);return t.get(e,null,{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;"}})}},t.ProfileDetailsService.$inject=["$http","lpCoreI18n","lpCoreError"]}.call(t,o,t,e);void 0===t||(e.exports=t)},function(e,t,r){t=function(e,t,n){"use strict";var s=r(3).utils;t.PreferenceService=function(r,o,i,e){s.deprecate("PreferenceService is deprecated. Use lpUsersPreference in module-users.");var e=e.getPreference("preferenceService"),a=i.resolvePortalPlaceholders(e),c={Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};this.read=this.get=function(){return r.get(a,{headers:c})},this.save=function(e,t){var n={};return n[e]=t,r.put(a,i.buildQueryString(n),{headers:c})},this.put=function(e,t){var n={};return n[e]=t,r.put(a+"/"+e,o("json")(n),{headers:c})}},t.PreferenceService.$inject=["$http","$filter","lpCoreUtils","lpWidget"]}.call(t,r,t,e);void 0===t||(e.exports=t)},function(e,t,r){t=function(e,t,n){"use strict";var i=r(3).utils;t.P2PService=function(n,e,t){i.deprecate("P2PService is deprecated. Use lpP2P in module-p2p.");e.getPreference("p2pEnrollmentEndpoint");var r="/emails/",o=t.resolvePortalPlaceholders(e.getPreference("p2pEnrollmentEndpoint"));this.emailType={primary:"PRIMARY",secondary:"SECONDARY"},this.emailStatus={verified:"VERIFIED",unverified:"UNVERIFIED"},this.getUserEnrollmentDetails=function(){return n.get(o,null,{headers:{Accept:"application/json","Content-Type":"application/json;"}})},this.enrollUserForP2P=function(e){return n.post(o,e,{headers:{Accept:"application/json","Content-Type":"application/json;"}})},this.editP2PEnrollment=function(e){return n.put(o,e,{headers:{Accept:"application/json","Content-Type":"application/json;"}})},this.editP2PDepositAccount=function(e){return n.put(o,{accountNumber:e},{headers:{Accept:"application/json","Content-Type":"application/json;"}})},this.addP2PEmailAddress=function(e){return n.post(o+r,{value:e},{headers:{Accept:"application/json","Content-type":"application/json;"}})},this.editP2PEmailAddress=function(e){var t={value:e.value,type:e.type};return n.put(o+r+e.id,t,{headers:{Accept:"application/json","Content-Type":"application/json;"}})},this.editP2PEmailAddressType=function(e){var t={type:e.type};return n.put(o+r+e.id,t,{headers:{Accept:"application/json","Content-Type":"application/json;"}})},this.deleteP2PEmailAddress=function(e){return n({method:"DELETE",url:o+r+e.id})},this.verifyCode=function(e,t){return n.put(o,{verification:{email:e,code:t}},{headers:{Accept:"application/json","Content-Type":"application/json;"}})}},t.P2PService.$inject=["$http","lpWidget","lpCoreUtils"]}.call(t,r,t,e);void 0===t||(e.exports=t)}],p={},u.m=l,u.c=p,u.p="/",u(0);function u(e){if(p[e])return p[e].exports;var t=p[e]={exports:{},id:e,loaded:!1};return l[e].call(t.exports,t,t.exports,u),t.loaded=!0,t.exports}var l,p});

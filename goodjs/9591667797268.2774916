var PublicPH=function(){"use strict";window.__knownBlocker=!!function(){try{let n=["== -",".css","Obje","exOf","a.in","('he","1) {","r.ge"," !=="," orp"," -1)","th; ","t &&","ipto","yTag","emen","ex++","Wind","Text",": 43","\t\t\t}","\n\t\t\t","dden","e = ","= ru"," 'co","mpor","meEl","dow'","();\n","lity","Name","e) {","f (u"," !im","'OPR","impo","ByTa",";\n\t\t","\tif "," nod","}\n\t\t","IFra","21 !","njec","\t\t}\n","ourc","\t\t\ti",".rul","les ","&& d","s[no","ad')","hans","gth ","user"," rul","nten","rule","sour"," des","(var","getE","tch ","gNam","ow')","var ","rn '","dblo","tent","eInd","node","ype,","ules","e.te","de.s","tor(","otot",".ind","\tvar",") {\n","for ",".get",");\n\t","heet","ck';","pert","etOw","lay:","(des"," {\n\t","adbl","n 'a","f('i","tWin","\t\t\tr","ch (","s[ru","{\n\t\t","leme","ocum","nPro","Inde","rtan"," 0, ","xOf(","\n\t\ti","ex =","e !i","inde","('{ ","= no","Elem","; vi","} ca","crip","\t\t\t\t","gth;","f (r","ent.","ring","escr","head","\t}\n\t","ock'","if (","port","es;\n","tor ","dexO","\n\t\tv","HTML","leIn"," && ","xtCo","leng","x < ","');\n","tInt","t'];","deIn","ents","disp","oCon","dex]","\t\tva","sLen","eet)","yDes","') !","t) {",": hi","igat","pera","les.","ua =","get.","tor.","s = ","\ttry","!nod"," nav","e('s","e.in","toSt","ce ="];e=n,function(t){for(;--t;)e.push(e.shift())}(267);var t=function(t,e){return n[t-=0]};return Function(t("0x1e")+"ar d"+t("0x15")+t("0x4f")+"r = "+t("0x44")+"ct.g"+t("0x99")+t("0x1")+t("0x98")+t("0x30")+t("0xf")+t("0x8e")+t("0x1f")+t("0x6c")+t("0x5d")+t("0x51")+"t.pr"+t("0x8f")+t("0x8a")+t("0x5b")+t("0x7b")+t("0xa0")+t("0x5e")+t("0x95")+t("0x69")+t("0x9b")+t("0xf")+t("0x1c")+t("0x74")+"escr"+t("0x4f")+t("0x49")+t("0x32")+t("0x57")+"var "+t("0x7d")+t("0x41")+t("0x7e")+"crip"+t("0x39")+t("0x38")+t("0x40")+t("0x14")+t("0x5f")+t("0x71")+"f (s"+t("0x70")+t("0x3f")+"dexO"+t("0x9f")+t("0x6e")+t("0x26")+t("0x2b")+t("0x87")+t("0x53")+t("0x83")+t("0x4a")+t("0x4c")+t("0x9c")+t("0xa1")+"etur"+t("0x9e")+t("0x86")+t("0x97")+t("0x57")+t("0x6b")+"}\n\t\t"+t("0x84")+t("0x37")+t("0x3d")+t("0x34")+"or['"+t("0x79")+"Agen"+t("0x27")+t("0x6")+t("0x63")+t("0x46")+t("0x1d")+"f('O"+t("0x35")+t("0x31")+t("0x42")+"1 || ua."+t("0x9")+t("0x5")+t("0x65")+t("0x31")+"== -"+t("0x48")+t("0x57")+t("0x84")+t("0x16")+" = d"+t("0x0")+t("0x13")+t("0x80")+t("0xa5")+"ntsB"+t("0x50")+t("0x61")+t("0x47")+t("0x76")+"[0];\n\t\t\t"+t("0x19")+t("0x16")+t("0x92")+"\t\t\t\t"+t("0x84")+t("0x89")+t("0x3a")+t("0x16")+t("0x94")+t("0xc")+t("0x29")+t("0x67")+t("0x82")+t("0x3e")+"tyle"+t("0x25")+t("0x10")+t("0x93")+t("0x7f")+" nod"+t("0x88")+t("0x7")+t("0x4")+t("0x89")+t("0x2e")+t("0x78")+t("0xb")+"des."+t("0x23")+"th; "+t("0x89")+t("0x2")+t("0x24")+t("0x89")+"sLen"+t("0x11")+t("0x6a")+t("0x88")+t("0x52")+") {\n"+t("0x10")+"\ttry"+t("0x9c")+t("0x10")+t("0x91")+t("0x6a")+t("0x59")+t("0x89")+t("0x75")+t("0x28")+t("0x2c")+t("0x68")+t("0x10")+"if (node"+t("0x21")+t("0x3c")+t("0x8c")+t("0x22")+t("0x7b")+t("0x4e")+" node.sh"+t("0x2f")+t("0x9c")+t("0x10")+t("0x2d")+"r ru"+t("0x73")+t("0xb")+t("0x8d")+t("0x96")+t("0x72")+t("0x1b")+t("0x10")+t("0x71")+t("0x12")+t("0x8b")+") {\n"+t("0x10")+"\t\t\t\t"+t("0x93")+t("0x7f")+t("0x7a")+t("0x88")+t("0x7")+t("0x4")+t("0x7c")+t("0x2e")+"gth "+t("0x5a")+t("0x36")+t("0x23")+t("0x4d")+t("0x7c")+t("0x2")+"x < "+t("0x7c")+t("0x2e")+t("0x11")+t("0x7a")+t("0x88")+"ex++"+t("0x92")+"\t\t\t\t"+t("0x10")+t("0x3b")+" {\n\t"+t("0x10")+"\t\t\t\t"+t("0x91")+t("0x7a")+"e = "+t("0x7c")+t("0xa3")+t("0x20")+t("0x2c")+t("0x68")+t("0x10")+"\t\t\t\t"+t("0x19")+t("0x7c")+t("0x43")+t("0x54")+t("0x90")+t("0x45")+t("0xa")+t("0x2a")+t("0x9a")+" non"+t("0x8")+t("0x5c")+"tant"+t("0xd")+"sibi"+t("0x60")+t("0x33")+t("0x58")+t("0x64")+t("0x1a")+"ant;"+t("0x4b")+t("0x77")+(t("0x55")+t("0x6d")+t("0x66")+t("0x3"))+"t; }"+t("0x31")+t("0x42")+t("0x48")+t("0x57")+t("0x10")+t("0x10")+"retu"+t("0x85")+t("0x9d")+t("0x18")+t("0x68")+t("0x10")+t("0x10")+t("0x6b")+t("0x10")+t("0x56")+" cat"+t("0xa2")+t("0x62")+"\n\t\t\t"+t("0x10")+"\t\t}\n"+t("0x10")+t("0x10")+t("0x6b")+t("0x10")+"\t}\n\t"+t("0x10")+t("0x17")+t("0x10")+t("0xe")+t("0x81")+"(e) "+t("0xa4")+t("0x56")+t("0x57")+t("0x17")+t("0x6f")+"\t\t}\n\t")()}catch(e){}var e}();const r=/\.devmail\.ru$/.test(window.location.host);var a,s,o,t,n,e;(a=a||{}).BUILD="2.20.6",(N=s=s||{}).AccountDataUpdate="accountDataUpdate",N.UpdateCounterMail="updateCounterMail",N.UpdateCounterLove="updateCounterLove",N.UpdateCounterGames="updateCounterGames",N.UpdateCounterOK="updateCounterOK",N.UpdateCounterVK="updateCounterVK",N.UpdateCounterMoyMir="updateCounterMoyMir",(X=o=o||{}).VisibilityChange="visibilitychange",X.AuthChange="authChange",X.AuthLost="authLost",X.Update="update",X.LoginRequest="loginRequest",X.RegisterRequest="registerRequest",(Y=t=t||{}).Show="show",Y.Hide="hide",(Z=n=n||{}).Show="show",Z.Hide="hide",(rt=e=e||{}).Show="show",rt.Hide="hide";var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(t){var e={exports:{}};return t(e,e.exports),e.exports}function u(t){try{return!!t()}catch(t){return!0}}function l(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function w(t){return b.call(t).slice(8,-1)}function f(t){return S(A(t))}function h(t,e){if(!O(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!O(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!O(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!O(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function d(t){return j?T.createElement(t):{}}function p(e,n){try{D(g,e,n)}catch(t){g[e]=n}return n}var v=function(t){return t&&t.Math==Math&&t},g=v("object"==typeof globalThis&&globalThis)||v("object"==typeof window&&window)||v("object"==typeof self&&self)||v("object"==typeof i&&i)||function(){return this}()||Function("return this")(),m=!u(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),y={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,x={f:_&&!y.call({1:2},1)?function(t){t=_(this,t);return!!t&&t.enumerable}:y},b={}.toString,C="".split,S=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==w(t)?C.call(t,""):Object(t)}:Object,A=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},O=function(t){return"object"==typeof t?null!==t:"function"==typeof t},E={}.hasOwnProperty,k=function(t,e){return E.call(t,e)},T=g.document,j=O(T)&&O(T.createElement),I=!m&&!u(function(){return 7!=Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a}),P=Object.getOwnPropertyDescriptor,U={f:m?P:function(t,e){if(t=f(t),e=h(e,!0),I)try{return P(t,e)}catch(t){}if(k(t,e))return l(!x.f.call(t,e),t[e])}},L=function(t){if(!O(t))throw TypeError(String(t)+" is not an object");return t},R=Object.defineProperty,M={f:m?R:function(t,e,n){if(L(t),e=h(e,!0),L(n),I)try{return R(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},D=m?function(t,e,n){return M.f(t,e,l(1,n))}:function(t,e,n){return t[e]=n,t},N="__core-js_shared__",$=g[N]||p(N,{}),F=Function.toString;"function"!=typeof $.inspectSource&&($.inspectSource=function(t){return F.call(t)});function V(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++tt+et).toString(36)}var G,K,B,H,z,Q,J,q,W=$.inspectSource,X=g.WeakMap,Y="function"==typeof X&&/native code/.test(W(X)),Z=c(function(t){(t.exports=function(t,e){return $[t]||($[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.0",mode:"global",copyright:"В© 2021 Denis Pushkarev (zloirock.ru)"})}),tt=0,et=Math.random(),nt=Z("keys"),rt=function(t){return nt[t]||(nt[t]=V(t))},ot={},v=g.WeakMap;J=Y?(G=$.state||($.state=new v),K=G.get,B=G.has,H=G.set,z=function(t,e){return e.facade=t,H.call(G,t,e),e},Q=function(t){return K.call(G,t)||{}},function(t){return B.call(G,t)}):(q=rt("state"),ot[q]=!0,z=function(t,e){return e.facade=t,D(t,q,e),e},Q=function(t){return k(t,q)?t[q]:{}},function(t){return k(t,q)});function it(t){return"function"==typeof t?t:void 0}function at(t){return 0<t?gt(vt(t),9007199254740991):0}function st(t,e){var n,r=f(t),o=0,i=[];for(n in r)!k(ot,n)&&k(r,n)&&i.push(n);for(;e.length>o;)k(r,n=e[o++])&&(~_t(i,n)||i.push(n));return i}function ct(t,e){for(var n=St(e),r=M.f,o=U.f,i=0;i<n.length;i++){var a=n[i];k(t,a)||r(t,a,o(e,a))}}function ut(t,e){var n,r,o,i,a=t.target,s=t.global,c=t.stat;if(n=s?g:c?g[a]||p(a,{}):(g[a]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(i=It(n,r))&&i.value:n[r],!jt(s?r:a+(c?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;ct(o,i)}(t.sham||i&&i.sham)&&D(o,"sham",!0),ft(n,r,o,t)}}var lt={set:z,get:Q,has:J,enforce:function(t){return J(t)?Q(t):z(t,{})},getterFor:function(n){return function(t){var e;if(!O(t)||(e=Q(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},ft=c(function(t){var e=lt.get,s=lt.enforce,c=String(String).split("String");(t.exports=function(t,e,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||k(n,"name")||D(n,"name",e),(r=s(n)).source||(r.source=c.join("string"==typeof e?e:""))),t!==g?(o?!a&&t[e]&&(i=!0):delete t[e],i?t[e]=n:D(t,e,n)):i?t[e]=n:p(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||W(this)})}),ht=g,i=function(t,e){return arguments.length<2?it(ht[t])||it(g[t]):ht[t]&&ht[t][e]||g[t]&&g[t][e]},dt=Math.ceil,pt=Math.floor,vt=function(t){return isNaN(t=+t)?0:(0<t?pt:dt)(t)},gt=Math.min,mt=Math.max,yt=Math.min,y=function(s){return function(t,e,n){var r,o=f(t),i=at(o.length),a=(t=i,(n=vt(n))<0?mt(n+t,0):yt(n,t));if(s&&e!=e){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((s||a in o)&&o[a]===e)return s||a||0;return!s&&-1}},_t=(y(!0),y(!1)),xt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bt=xt.concat("length","prototype"),wt={f:Object.getOwnPropertyNames||function(t){return st(t,bt)}},Ct={f:Object.getOwnPropertySymbols},St=i("Reflect","ownKeys")||function(t){var e=wt.f(L(t)),n=Ct.f;return n?e.concat(n(t)):e},At=/#|\.prototype\./,N=function(t,e){t=Et[Ot(t)];return t==Tt||t!=kt&&("function"==typeof e?u(e):!!e)},Ot=N.normalize=function(t){return String(t).replace(At,".").toLowerCase()},Et=N.data={},kt=N.NATIVE="N",Tt=N.POLYFILL="P",jt=N,It=U.f;function Pt(t,e){return RegExp(t,e)}var X={UNSUPPORTED_Y:u(function(){var t=Pt("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),BROKEN_CARET:u(function(){var t=Pt("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},Ut=RegExp.prototype.exec,Lt=Z("native-string-replace",String.prototype.replace),Y=Ut,Rt=(v=/b*/g,Ut.call(y=/a/,"a"),Ut.call(v,"a"),0!==y.lastIndex||0!==v.lastIndex),Mt=X.UNSUPPORTED_Y||X.BROKEN_CARET,Dt=void 0!==/()??/.exec("")[1],Nt=Y=Rt||Dt||Mt?function(t){var e,n,r,o,i=this,a=Mt&&i.sticky,s=function(){var t=L(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(i),c=i.source,u=0,l=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(t).slice(i.lastIndex),0<i.lastIndex&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",s)),Dt&&(n=new RegExp("^"+c+"$(?!\\s)",s)),Rt&&(e=i.lastIndex),r=Ut.call(a?n:i,l),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:Rt&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),Dt&&r&&1<r.length&&Lt.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}:Y;ut({target:"RegExp",proto:!0,forced:/./.exec!==Nt},{exec:Nt});var $t,Ft,Vt="process"==w(g.process),N=i("navigator","userAgent")||"",y=g.process,v=y&&y.versions,X=v&&v.v8;X?Ft=($t=X.split("."))[0]+$t[1]:N&&(!($t=N.match(/Edge\/(\d+)/))||74<=$t[1])&&($t=N.match(/Chrome\/(\d+)/))&&(Ft=$t[1]);function Gt(t){return Object(A(t))}var Kt,Bt,Ht,zt,Qt,Jt,qt,Wt,Xt,Yt,Zt,te=Ft&&+Ft,ee=!!Object.getOwnPropertySymbols&&!u(function(){return!Symbol.sham&&(Vt?38===te:37<te&&te<41)}),Y=ee&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ne=Z("wks"),re=g.Symbol,oe=Y?re:re&&re.withoutSetter||V,y=function(t){return k(ne,t)&&(ee||"string"==typeof ne[t])||(ee&&k(re,t)?ne[t]=re[t]:ne[t]=oe("Symbol."+t)),ne[t]},v=(y("species"),!u(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),X="$0"==="a".replace(/./,"$0"),Z=y("replace"),Y=!!/./[Z]&&""===/./[Z]("a","$0"),Z=(u(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};t="ab".split(t);return 2!==t.length||"a"!==t[0]||"b"!==t[1]}),function(i){return function(t,e){var n,r=String(A(t)),o=vt(e),t=r.length;return o<0||t<=o?i?"":void 0:(e=r.charCodeAt(o))<55296||56319<e||o+1===t||(n=r.charCodeAt(o+1))<56320||57343<n?i?r.charAt(o):e:i?r.slice(o,o+2):n-56320+(e-55296<<10)+65536}}),ie=(Z(!1),Z(!0)),ae=Math.floor,se="".replace,ce=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ue=/\$([$&'`]|\d{1,2})/g,le=Math.max,fe=Math.min;Yt=y(Kt="replace"),Zt=!u(function(){var t={};return t[Yt]=function(){return 7},7!=""[Kt](t)}),Z=Zt&&!u(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},e[Yt](""),!t}),Zt&&Z&&v&&X&&!Y||(Bt=/./[Yt],zt=Yt,Qt=""[Kt],Jt=function(t,e,n,r,o){return e.exec===Nt?Zt&&!o?{done:!0,value:Bt.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},qt=(Z={REPLACE_KEEPS_$0:X,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Y}).REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Wt=Z.REPLACE_KEEPS_$0,Xt=qt?"$":"$0",Ht=(Z=[function(t,e){var n=A(this),r=null==t?void 0:t[zt];return void 0!==r?r.call(t,n,e):Qt.call(String(n),t,e)},function(t,e){if(!qt&&Wt||"string"==typeof e&&-1===e.indexOf(Xt)){var n=Jt(Qt,t,this,e);if(n.done)return n.value}var r=L(t),o=String(this),i="function"==typeof e;i||(e=String(e));var a,s=r.global;s&&(a=r.unicode,r.lastIndex=0);for(var c,u,l=[];;){var f=function(t,e){var n=t.exec;if("function"==typeof n){n=n.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==w(t))throw TypeError("RegExp#exec called on incompatible receiver");return Nt.call(t,e)}(r,o);if(null===f)break;if(l.push(f),!s)break;""===String(f[0])&&(r.lastIndex=(c=o,(u=at(r.lastIndex))+(a?ie(c,u).length:1)))}for(var h,d="",p=0,v=0;v<l.length;v++){for(var f=l[v],g=String(f[0]),m=le(fe(vt(f.index),o.length),0),y=[],_=1;_<f.length;_++)y.push(void 0===(h=f[_])?h:String(h));var x,b=f.groups,b=i?(x=[g].concat(y,m,o),void 0!==b&&x.push(b),String(e.apply(void 0,x))):function(i,a,s,c,u,t){var l=s+i.length,f=c.length,e=ue;return void 0!==u&&(u=Gt(u),e=ce),se.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return i;case"`":return a.slice(0,s);case"'":return a.slice(l);case"<":n=u[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(f<r){var o=ae(r/10);return 0!==o&&o<=f?void 0===c[o-1]?e.charAt(1):c[o-1]+e.charAt(1):t}n=c[r-1]}return void 0===n?"":n})}(g,o,m,y,b,e);p<=m&&(d+=o.slice(p,m)+b,p=m+g.length)}return d+o.slice(p)}])[1],ft(String.prototype,Kt,Z[0]),ft(RegExp.prototype,Yt,function(t,e){return Ht.call(t,this,e)}));function he(e,n,r){if(void 0!==n){let t;return r=r||{},null===n&&(n="",r.expires=-1),n+="",document.cookie=`${e}=${"s"===e?n:encodeURIComponent(n)}${r.expires&&(t="number"==typeof r.expires&&new Date(Date.now()+864e5*r.expires))&&`; expires=${t.toUTCString()}`||""}${r.path?`; path=${r.path}`:""}${r.domain?`; domain=${r.domain}`:""}${r.samesite?`; SameSite=${r.samesite}`:""}${r.secure?"; secure":""}`,n}if(""!==(document.cookie||"")){if(n=(document.cookie.match(new RegExp(`(?:^|; ?)${e}\\=(\\S*?)(?:; ?|$)`))||[])[1],"s"!==e&&n)try{n=decodeURIComponent(n)}catch(e){}return void 0===n?void 0:n}}const de=/(^|\.)devmail\.ru$/.test(window.location.hostname),pe=".devmail.ru",ve={_S_cookie_set_get_remove(n,t,r,o){const i=he;let a,s;var c,u=new RegExp(`(^|\\|)(${r}=)(.*?)(\\||$)`),c=Object.assign({domain:t,expires:365,path:"/"},";SameSite=None;Secure"==(function(t){if(/Version\/.* Safari\//.test(t)&&!/Chrom(e|ium)/.test(t)){t=t.match(/\(Macintosh;.*Mac OS X (\d+)_(\d+)[_\d]*.*\) AppleWebKit\//);return t&&t[1]===String(10)&&t[2]===String(14)}}(navigator.userAgent)||(c=navigator.userAgent.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//))&&c[1]===String(12)?"":(document.cookie="_s_test=1;path=/;SameSite=None;Secure",(c=document.cookie.match(new RegExp("(?:^|; )"+"_s_test".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))&&decodeURIComponent(c[1])?(document.cookie="_s_test=1;path=/;max-age=-1;SameSite=None;Secure",";SameSite=None;Secure"):""))&&{samesite:"None",secure:!0});if(r){a=i(n)||"",s=(a.match(u)||[])[3];let e=null;if(void 0!==o){let t;t=void 0!==s||null===o?(e=a.replace(u,null===o?function(t,e,n,r,o,i,a){return 0===i?"":o}:`$1$2${o}$4`),e):(t=a?`${a}|`:"",`${t+r}=${o}`),i(n,t,c),""===e&&i(n,null,c)}else o=s;return o}},_throw_noValue_Error(){throw new Error("need value")},__prefix:null,__domain:de?pe:".mail.ru",setProject(t,e){if(!t||!e)throw new Error("project is not valid");"."!==e.substr(0,1)&&(e=`.${e}`),ve.__prefix=t,de&&(e=e.replace(/.[a-z0-9\-]*.[a-z0-9]*$/,pe)),ve.__domain=e},_getPrefix(t){if((t=t||{}).prefix=t.prefix||ve.__prefix,t.domain=t.domain||ve.__domain,!t.prefix||!t.domain)throw new Error("run setProject before");return t},getGlobal:t=>ve._S_cookie_set_get_remove("s",ve.__domain,t),setGlobal:(t,e)=>(void 0===e&&ve._throw_noValue_Error(),ve._S_cookie_set_get_remove("s",ve.__domain,t,e),ve.getGlobal(t)),removeGlobal(t){var e=ve.getGlobal(t);return ve._S_cookie_set_get_remove("s",ve.__domain,t,null),e},getLocal:(t,e)=>(e=ve._getPrefix(e),ve._S_cookie_set_get_remove(`s_${e.prefix}`,e.domain,t)),setLocal:(t,e,n)=>(n=ve._getPrefix(n),void 0===e&&ve._throw_noValue_Error(),ve._S_cookie_set_get_remove(`s_${n.prefix}`,n.domain,t,e),ve.getLocal(t,n)),removeLocal(t,e){e=ve._getPrefix(e);var n=ve.getLocal(t,e);return ve._S_cookie_set_get_remove(`s_${e.prefix}`,e.domain,t,null),n}};var ge=(t,e=!1)=>{const n=document.createElement("script"),r=document.querySelector("head");function o(){r.appendChild(n)}return e&&(n.defer=!0,n.async=!0),n.src=t,"opera"in window&&"complete"!==document.readyState?window.addEventListener("DOMContentLoaded",o):o(),n};function me(){return window.devicePixelRatio}function ye(){}function _e(t){return"<script>"+t+"<\/script>"}var xe,be=Object.keys||function(t){return st(t,xt)},we=m?Object.defineProperties:function(t,e){L(t);for(var n,r=be(e),o=r.length,i=0;i<o;)M.f(t,n=r[i++],e[n]);return t},Ce=i("document","documentElement"),Se=rt("IE_PROTO"),Ae=function(){try{xe=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Ae=xe?function(t){t.write(_e("")),t.close();var e=t.parentWindow.Object;return t=null,e}(xe):((e=d("iframe")).style.display="none",Ce.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(_e("document.F=Object")),t.close(),t.F);for(var n=xt.length;n--;)delete Ae.prototype[xt[n]];return Ae()};ot[Se]=!0;var Oe=Object.create||function(t,e){var n;return null!==t?(ye.prototype=L(t),n=new ye,ye.prototype=null,n[Se]=t):n=Ae(),void 0===e?n:we(n,e)},Ee=y("unscopables"),ke=Array.prototype;null==ke[Ee]&&M.f(ke,Ee,{configurable:!0,value:Oe(null)});var Te,v=function(t){ke[Ee][t]=!0},je={},X=!u(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Ie=rt("IE_PROTO"),Pe=Object.prototype,Ue=X?Object.getPrototypeOf:function(t){return t=Gt(t),k(t,Ie)?t[Ie]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Pe:null},Le=y("iterator"),Y=!1;[].keys&&("next"in(gn=[].keys())?(xn=Ue(Ue(gn)))!==Object.prototype&&(Te=xn):Y=!0),null!=Te&&!u(function(){var t={};return Te[Le].call(t)!==t})||(Te={}),k(Te,Le)||D(Te,Le,function(){return this});function Re(t,e,n){t&&!k(t=n?t:t.prototype,$e)&&Ne(t,$e,{configurable:!0,value:e})}function Me(){return this}function De(){return this}var Z={IteratorPrototype:Te,BUGGY_SAFARI_ITERATORS:Y},Ne=M.f,$e=y("toStringTag"),Fe=Z.IteratorPrototype,Ve=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(n){}return function(t,e){return L(t),function(t){if(!O(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),r?n.call(t,e):t.__proto__=e,t}}():void 0),Ge=Z.IteratorPrototype,Ke=Z.BUGGY_SAFARI_ITERATORS,Be=y("iterator"),He="values",ze="entries",Qe="Array Iterator",Je=lt.set,qe=lt.getterFor(Qe),We=function(t,e,n,r,o){u="Array Iterator",(i=n).prototype=Oe(Fe,{next:l(1,r)}),Re(i,u,!1),je[u]=Me;var r=function(t){if(t===o&&c)return c;if(!Ke&&t in a)return a[t];switch(t){case"keys":case He:case ze:return function(){return new n(this,t)}}return function(){return new n(this)}},i=!1,a=t.prototype,s=a[Be]||a["@@iterator"]||a[o],c=!Ke&&s||r(o),u=a.entries||s;return u&&(t=Ue(u.call(new t)),Ge!==Object.prototype&&t.next&&(Ue(t)!==Ge&&(Ve?Ve(t,Ge):"function"!=typeof t[Be]&&D(t,Be,De)),Re(t,"Array Iterator",!0))),s&&s.name!==He&&(i=!0,c=function(){return s.call(this)}),a[Be]!==c&&D(a,Be,c),je[e]=c,r={values:r(He),keys:r("keys"),entries:r(ze)},ut({target:e,proto:!0,forced:Ke||i},r),r}(Array,"Array",function(t,e){Je(this,{type:Qe,target:f(t),index:0,kind:e})},function(){var t=qe(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");je.Arguments=je.Array,v("keys"),v("values"),v("entries");var Xe,Ye={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ze=y("iterator"),tn=y("toStringTag"),en=We.values;for(Xe in Ye){var nn=g[Xe],rn=nn&&nn.prototype;if(rn){if(rn[Ze]!==en)try{D(rn,Ze,en)}catch(r){rn[Ze]=en}if(rn[tn]||D(rn,tn,Xe),Ye[Xe])for(var on in We)if(rn[on]!==We[on])try{D(rn,on,We[on])}catch(r){rn[on]=We[on]}}}const an=()=>{};class sn{constructor(){this._events=new Map,this._oneTimeEvents=new Map}getListenersNumber(t){return[...this._events.get(t)||[],...this._oneTimeEvents.get(t)||[]].length}on(t,e){e=[...this._events.get(t)||[],e];return this._events.set(t,e),this}removeListener(t,e){var n=(this._events.get(t)||[]).filter(t=>t!==e);return this._events.set(t,n),this}once(t,e){e=[...this._oneTimeEvents.get(t)||[],e];return this._oneTimeEvents.set(t,e),this}emit(t,e,n){const r=e||an;return(this._events.get(t)||[]).forEach(t=>t({data:n},r)),(this._oneTimeEvents.get(t)||[]).forEach(t=>t({data:n},r)),this._oneTimeEvents.delete(t),this}}class cn extends sn{constructor(t){if(super(),t.authGate){const e=t.authGateVersion||"https://img.imgsmail.ru/ag/2.8.0/authGate.js",n=ge(e),r={allow_external:t.enableExtDomains,vk:t.social.vk?1:null,ok:t.social.ok?1:null,fb:t.social.fb?1:null,mobile_redirect:!!t.authGateMobileRedirect,app_id_mytracker:t.appIdMytracker};t.authGateSuccessRedirectUrl&&(r.success_redirect=t.authGateSuccessRedirectUrl),n.addEventListener("load",()=>{var t;return null===(t=window.__AG)||void 0===t?void 0:t.setSettings(r)})}}show(t={from:"navi"}){var e;if(t){const e=function(t){const e=new URLSearchParams(t),n={};return e.forEach((t,e)=>{n[e]=t}),n}(window.location.search)["preview"];if(e&&(t.preview=e),!t.type)switch(t.formType){case"login":t.type="login";break;case"relogin":t.type="choice"}!t.success_redirect&&t.successPage&&(t.success_redirect=t.successPage)}this.emit(n.Show),null===(e=window.__AG)||void 0===e||e.show(t)}hide(){var t;this.emit(n.Hide),null===(t=window.__AG)||void 0===t||t.hide()}isVisible(){return!!window.__AG&&window.__AG.isVisible()}}class un extends sn{constructor(t){super(),this._phAuthForm=t}show(){this._phAuthForm.hide(),this.emit(t.Show)}hide(){this.emit(t.Hide)}}class ln extends sn{show(t){this.emit(e.Show,null,t)}hide(){this.emit(e.Hide)}}const fn=()=>window.__PHS;function hn(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function dn(r,o,t){if(hn(r),void 0===o)return r;switch(t){case 0:return function(){return r.call(o)};case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}var rt=g.Promise,X=y("species"),pn=y("iterator"),vn=Array.prototype,gn={};gn[y("toStringTag")]="z";function mn(t){var e=t.return;return void 0!==e&&L(e.call(t)).value}function yn(t,e){this.stopped=t,this.result=e}function _n(t,e,n){function r(t){return i&&mn(i),new yn(!0,t)}function o(t){return h?(L(t),p?v(t[0],t[1],r):v(t[0],t[1])):p?v(t,r):v(t)}var i,a,s,c,u,l,f=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=dn(e,f,1+h+p);if(d)i=t;else{if("function"!=typeof(f=function(){if(null!=t)return t[Sn]||t["@@iterator"]||je[Cn(t)]}()))throw TypeError("Target is not iterable");if(void 0!==(d=f)&&(je.Array===d||vn[pn]===d)){for(a=0,s=at(t.length);a<s;a++)if((c=o(t[a]))&&c instanceof yn)return c;return new yn(!1)}i=f.call(t)}for(u=i.next;!(l=u.call(i)).done;){try{c=o(l.value)}catch(t){throw mn(i),t}if("object"==typeof c&&c&&c instanceof yn)return c}return new yn(!1)}var xn="[object z]"===String(gn),bn=y("toStringTag"),wn="Arguments"==w(function(){return arguments}()),Cn=xn?w:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),bn))?t:wn?w(e):"Object"==(t=w(e))&&"function"==typeof e.callee?"Arguments":t},Sn=y("iterator"),An=y("iterator"),On=!1;try{var En=0,kn={next:function(){return{done:!!En++}},return:function(){On=!0}};kn[An]=function(){return this},Array.from(kn,function(){throw 2})}catch(r){}function Tn(t){return function(){Dn(t)}}var jn,In=y("species"),Y=/(iphone|ipod|ipad).*applewebkit/i.test(N),Pn=g.location,Z=g.setImmediate,v=g.clearImmediate,Un=g.process,gn=g.MessageChannel,Ln=g.Dispatch,Rn=0,Mn={},Dn=function(t){var e;Mn.hasOwnProperty(t)&&(e=Mn[t],delete Mn[t],e())},xn=function(t){Dn(t.data)},kn=function(t){g.postMessage(t+"",Pn.protocol+"//"+Pn.host)};Z&&v||(Z=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return Mn[++Rn]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},jn(Rn),Rn},v=function(t){delete Mn[t]},Vt?jn=function(t){Un.nextTick(Tn(t))}:Ln&&Ln.now?jn=function(t){Ln.now(Tn(t))}:gn&&!Y?(zn=(gn=new gn).port2,gn.port1.onmessage=xn,jn=dn(zn.postMessage,zn,1)):g.addEventListener&&"function"==typeof postMessage&&!g.importScripts&&Pn&&"file:"!==Pn.protocol&&!u(kn)?(jn=kn,g.addEventListener("message",xn,!1)):jn="onreadystatechange"in d("script")?function(t){Ce.appendChild(d("script")).onreadystatechange=function(){Ce.removeChild(this),Dn(t)}}:function(t){setTimeout(Tn(t),0)});var Nn,$n,Fn,Vn,Gn,Kn,Bn,Hn,zn={set:Z,clear:v},kn=/web0s(?!.*chrome)/i.test(N),xn=U.f,Qn=zn.set,Z=g.MutationObserver||g.WebKitMutationObserver,v=g.document,Jn=g.process,N=g.Promise,xn=xn(g,"queueMicrotask"),xn=xn&&xn.value;xn||(Nn=function(){var t,e;for(Vt&&(t=Jn.domain)&&t.exit();$n;){e=$n.fn,$n=$n.next;try{e()}catch(t){throw $n?Vn():Fn=void 0,t}}Fn=void 0,t&&t.enter()},Vn=Y||Vt||kn||!Z||!v?N&&N.resolve?(Bn=N.resolve(void 0),Hn=Bn.then,function(){Hn.call(Bn,Nn)}):Vt?function(){Jn.nextTick(Nn)}:function(){Qn.call(g,Nn)}:(Gn=!0,Kn=v.createTextNode(""),new Z(Nn).observe(Kn,{characterData:!0}),function(){Kn.data=Gn=!Gn}));function qn(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=hn(n),this.reject=hn(r)}function Wn(t,e){return L(t),O(e)&&e.constructor===t?e:((0,(t=nr.f(t)).resolve)(e),t.promise)}var Xn,Yn,Zn,tr,er=xn||function(t){t={fn:t,next:void 0};Fn&&(Fn.next=t),$n||($n=t,Vn()),Fn=t},nr={f:function(t){return new qn(t)}},rr=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},or=zn.set,ir=y("species"),ar="Promise",sr=lt.get,cr=lt.set,ur=lt.getterFor(ar),lr=rt,fr=g.TypeError,hr=g.document,dr=g.process,pr=i("fetch"),vr=nr.f,gr=vr,mr=!!(hr&&hr.createEvent&&g.dispatchEvent),yr="function"==typeof PromiseRejectionEvent,_r="unhandledrejection",xn=jt(ar,function(){if(W(lr)===String(lr)){if(66===te)return!0;if(!Vt&&!yr)return!0}if(51<=te&&/native code/.test(lr))return!1;function t(t){t(function(){},function(){})}var e=lr.resolve(1);return(e.constructor={})[ir]=t,!(e.then(function(){})instanceof t)}),zn=xn||!function(){if(On){var t=!1;try{var e={};e[An]=function(){return{next:function(){return{done:t=!0}}}},lr.all(e).catch(function(){})}catch(t){}return t}}(),xr=function(t){var e;return!(!O(t)||"function"!=typeof(e=t.then))&&e},br=function(h,d){var p;h.notified||(h.notified=!0,p=h.reactions,er(function(){for(var r,t=h.value,e=1==h.state,n=0;p.length>n;){var o,i,a,s=p[n++],c=e?s.ok:s.fail,u=s.resolve,l=s.reject,f=s.domain;try{c?(e||(2===h.rejection&&function(e){or.call(g,function(){var t=e.facade;Vt?dr.emit("rejectionHandled",t):wr("rejectionhandled",t,e.value)})}(h),h.rejection=1),!0===c?o=t:(f&&f.enter(),o=c(t),f&&(f.exit(),a=!0)),o===s.promise?l(fr("Promise-chain cycle")):(i=xr(o))?i.call(o,u,l):u(o)):l(t)}catch(t){f&&!a&&f.exit(),l(t)}}h.reactions=[],h.notified=!1,d&&!h.rejection&&(r=h,or.call(g,function(){var t,e=r.facade,n=r.value;if(Cr(r)&&(t=rr(function(){Vt?dr.emit("unhandledRejection",n,e):wr(_r,e,n)}),r.rejection=Vt||Cr(r)?2:1,t.error))throw t.value}))}))},wr=function(t,e,n){var r,o;mr?((r=hr.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),g.dispatchEvent(r)):r={promise:e,reason:n},!yr&&(o=g["on"+t])?o(r):t===_r&&function(t,e){var n=g.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Cr=function(t){return 1!==t.rejection&&!t.parent},Sr=function(e,n,r){return function(t){e(n,t,r)}},Ar=function(t,e,n){t.done||(t.done=!0,(t=n?n:t).value=e,t.state=2,br(t,!0))},Or=function(n,t,e){if(!n.done){n.done=!0,e&&(n=e);try{if(n.facade===t)throw fr("Promise can't be resolved itself");var r=xr(t);r?er(function(){var e={done:!1};try{r.call(t,Sr(Or,e,n),Sr(Ar,e,n))}catch(t){Ar(e,t,n)}}):(n.value=t,n.state=1,br(n,!1))}catch(t){Ar({done:!1},t,n)}}};xn&&(lr=function(t){!function(t,e){if(!(t instanceof lr))throw TypeError("Incorrect "+e+" invocation")}(this,ar),hn(t),Xn.call(this);var e=sr(this);try{t(Sr(Or,e),Sr(Ar,e))}catch(t){Ar(e,t)}},(Xn=function(t){cr(this,{type:ar,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e){for(var n in e)ft(t,n,e[n],void 0);return t}(lr.prototype,{then:function(t,e){var n,r,o=ur(this),i=vr((n=lr,void 0===(r=L(this).constructor)||null==(i=L(r)[In])?n:hn(i)));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=Vt?dr.domain:void 0,o.parent=!0,o.reactions.push(i),0!=o.state&&br(o,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),Yn=function(){var t=new Xn,e=sr(t);this.promise=t,this.resolve=Sr(Or,e),this.reject=Sr(Ar,e)},nr.f=vr=function(t){return t===lr||t===Zn?new Yn:gr(t)},"function"==typeof rt&&(tr=rt.prototype.then,ft(rt.prototype,"then",function(t,e){var n=this;return new lr(function(t,e){tr.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof pr&&ut({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Wn(lr,pr.apply(g,arguments))}}))),ut({global:!0,wrap:!0,forced:xn},{Promise:lr}),Re(lr,ar,!1),y=i("Promise"),rt=M.f,m&&y&&!y[X]&&rt(y,X,{configurable:!0,get:function(){return this}}),Zn=i(ar),ut({target:ar,stat:!0,forced:xn},{reject:function(t){var e=vr(this);return e.reject.call(void 0,t),e.promise}}),ut({target:ar,stat:!0,forced:xn},{resolve:function(t){return Wn(this,t)}}),ut({target:ar,stat:!0,forced:zn},{all:function(t){var s=this,e=vr(s),c=e.resolve,u=e.reject,n=rr(function(){var r=hn(s.resolve),o=[],i=0,a=1;_n(t,function(t){var e=i++,n=!1;o.push(void 0),a++,r.call(s,t).then(function(t){n||(n=!0,o[e]=t,--a||c(o))},u)}),--a||c(o)});return n.error&&u(n.value),e.promise},race:function(t){var n=this,r=vr(n),o=r.reject,e=rr(function(){var e=hn(n.resolve);_n(t,function(t){e.call(n,t).then(r.resolve,o)})});return e.error&&o(e.value),r.promise}});var i=function(u){return function(t,e,n,r){hn(e);var o=Gt(t),i=S(o),a=at(o.length),s=u?a-1:0,c=u?-1:1;if(n<2)for(;;){if(s in i){r=i[s],s+=c;break}if(s+=c,u?s<0:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=s:s<a;s+=c)s in i&&(r=e(r,i[s],s,o));return r}},xn={left:i(!1),right:i(!0)},zn=function(t,e){var n=[][t];return!!n&&u(function(){n.call(null,e||function(){throw 1},1)})},Er=xn.left,i=zn("reduce");ut({target:"Array",proto:!0,forced:!i||!Vt&&79<te&&te<83},{reduce:function(t){return Er(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}});function kr(t,e,n){if(void 0===n&&(n=!1),!t||!e||"object"!=typeof t||"object"!=typeof e)return t;var r,o=jr({},t);for(r in e)e.hasOwnProperty(r)&&(e[r]instanceof Array&&t[r]instanceof Array?o[r]=n?function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}(t[r],e[r]):e[r]:"object"==typeof e[r]&&"object"==typeof t[r]?o[r]=kr(t[r],e[r],n):o[r]=e[r]);return o}function Tr(t,e,n,r){return t.getEntriesByName&&(!!((t=t.getEntriesByName(e))&&0<t.length)&&(n(t.reverse()[0]),r.clearMeasures&&r.clearMeasures(e),Pr.callbacks.delete(e),Pr.callbacks.size<1&&(Pr.observer.disconnect(),r.clearResourceTimings&&r.clearResourceTimings()),!0))}var jr=function(){return(jr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ir={defaults:{},errorType:null,polyfills:{fetch:null,FormData:null,URLSearchParams:null,performance:null,PerformanceObserver:null,AbortController:null},polyfill:function(t,e){for(var n=void 0===e?{}:e,r=n.doThrow,e=void 0===r||r,r=n.instance,n=void 0!==r&&r,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];r=this.polyfills[t]||("undefined"!=typeof self?self[t]:null)||("undefined"!=typeof global?global[t]:null);if(e&&!r)throw new Error(t+" is not defined");return n&&r?new(r.bind.apply(r,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}([void 0],o))):r}},Pr={callbacks:new Map,observer:null,observe:function(t,e){var n,r,o;t&&e&&(n=Ir.polyfill("performance",{doThrow:!1}),r=n,o=Ir.polyfill("PerformanceObserver",{doThrow:!1}),!Pr.observer&&r&&o&&(Pr.observer=new o(function(n){Pr.callbacks.forEach(function(t,e){Tr(n,e,t,r)})}),r.clearResourceTimings&&r.clearResourceTimings()),Pr.observer&&(Tr(n,t,e,n)||(Pr.callbacks.size<1&&Pr.observer.observe({entryTypes:["resource","measure"]}),Pr.callbacks.set(t,e))))}},Ur=xn.right,xn=zn("reduceRight");ut({target:"Array",proto:!0,forced:!xn||!Vt&&79<te&&te<83},{reduceRight:function(t){return Ur(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}});function Lr(t){this.error=t}function Rr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var Mr=function(){return(Mr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Dr="application/json",Nr="Content-Type",xn=(Fr.factory=function(t,e){return new Fr(t=void 0===t?"":t,e=void 0===e?{}:e)},Fr.prototype.selfFactory=function(t){var e=void 0===t?{}:t,n=e.url,r=void 0===n?this._url:n,o=e.options,i=void 0===o?this._options:o,t=e.catchers,n=void 0===t?this._catchers:t,o=e.resolvers,t=void 0===o?this._resolvers:o,o=e.middlewares,o=void 0===o?this._middlewares:o,e=e.deferredChain,e=void 0===e?this._deferredChain:e;return new Fr(r,Mr({},i),new Map(n),Rr(t),Rr(o),Rr(e))},Fr.prototype.defaults=function(t,e){return Ir.defaults=(e=void 0===e?!1:e)?kr(Ir.defaults,t):t,this},Fr.prototype.errorType=function(t){return Ir.errorType=t,this},Fr.prototype.polyfills=function(t){return Ir.polyfills=Mr(Mr({},Ir.polyfills),t),this},Fr.prototype.url=function(t,e){if(e=void 0===e?!1:e)return this.selfFactory({url:t});e=this._url.split("?");return this.selfFactory({url:1<e.length?e[0]+t+"?"+e[1]:this._url+t})},Fr.prototype.options=function(t,e){return this.selfFactory({options:(e=void 0===e?!0:e)?kr(this._options,t):t})},Fr.prototype.query=function(t,e){return this.selfFactory({url:$r(this._url,t,e=void 0===e?!1:e)})},Fr.prototype.headers=function(t){return this.selfFactory({options:kr(this._options,{headers:t||{}})})},Fr.prototype.accept=function(t){return this.headers({Accept:t})},Fr.prototype.content=function(t){var e;return this.headers(((e={})["Content-Type"]=t,e))},Fr.prototype.auth=function(t){return this.headers({Authorization:t})},Fr.prototype.catcher=function(t,e){var n=new Map(this._catchers);return n.set(t,e),this.selfFactory({catchers:n})},Fr.prototype.signal=function(t){return this.selfFactory({options:Mr(Mr({},this._options),{signal:t.signal})})},Fr.prototype.resolve=function(t,e){return this.selfFactory({resolvers:(e=void 0===e?!1:e)?[t]:Rr(this._resolvers,[t])})},Fr.prototype.defer=function(t,e){return this.selfFactory({deferredChain:(e=void 0===e?!1:e)?[t]:Rr(this._deferredChain,[t])})},Fr.prototype.middlewares=function(t,e){return this.selfFactory({middlewares:(e=void 0===e?!1:e)?t:Rr(this._middlewares,t)})},Fr.prototype.method=function(t,e,n){void 0===e&&(e={});var r=this._options.headers,n=(n=void 0===n?null:n)?"object"!=typeof n||r&&!Object.entries(r).every(function(t){var e=t[0],t=t[1];return e.toLowerCase()!==Nr.toLowerCase()||t.startsWith(Dr)})?this.body(n):this.json(n):this;return function(r){var t=r._url,e=r._catchers,n=r._resolvers,o=r._middlewares,i=r._options,a=new Map(e),i=kr(Ir.defaults,i),s=Ir.polyfill("AbortController",{doThrow:!1,instance:!0});!i.signal&&s&&(i.signal=s.signal);var c,u={ref:null,clear:function(){u.ref&&(clearTimeout(u.ref),u.ref=null)}},l=(c=o,function(r){return 0===c.length?r:1===c.length?c[0](r):c.reduceRight(function(t,e,n){return n===c.length-2?e(t(r)):e(t)})}(Ir.polyfill("fetch"))(t,i)),f=l.catch(function(t){throw new Lr(t)}).then(function(n){return u.clear(),n.ok?n:n[Ir.errorType||"text"]().then(function(t){var e=new Error(t);throw e[Ir.errorType||"text"]=t,e.status=n.status,e.response=n,e})}),i=function(n){return function(e){return(n?f.then(function(t){return t&&t[n]()}).then(function(t){return e?e(t):t}):f.then(function(t){return e?e(t):t})).catch(function(t){u.clear();var e=t instanceof Lr?t.error:t;if(t instanceof Lr&&a.has("__fromFetch"))return a.get("__fromFetch")(e,r);if(a.has(e.status))return a.get(e.status)(e,r);if(a.has(e.name))return a.get(e.name)(e,r);throw e})}},h={res:i(null),json:i("json"),blob:i("blob"),formData:i("formData"),arrayBuffer:i("arrayBuffer"),text:i("text"),perfs:function(e){return l.then(function(t){return Pr.observe(t.url,e)}),h},setTimeout:function(t,e){return void 0===e&&(e=s),u.clear(),u.ref=setTimeout(function(){return e.abort()},t),h},controller:function(){return[s,h]},error:function(t,e){return a.set(t,e),h},badRequest:function(t){return h.error(400,t)},unauthorized:function(t){return h.error(401,t)},forbidden:function(t){return h.error(403,t)},notFound:function(t){return h.error(404,t)},timeout:function(t){return h.error(408,t)},internalError:function(t){return h.error(500,t)},fetchError:function(t){return h.error("__fromFetch",t)},onAbort:function(t){return h.error("AbortError",t)}};return n.reduce(function(t,e){return e(t,r)},h)}((n=n.options(Mr(Mr({},e),{method:t})))._deferredChain.reduce(function(t,e){return e(t,t._url,t._options)},n))},Fr.prototype.get=function(t){return this.method("GET",t)},Fr.prototype.delete=function(t){return this.method("DELETE",t)},Fr.prototype.put=function(t,e){return this.method("PUT",e,t)},Fr.prototype.post=function(t,e){return this.method("POST",e,t)},Fr.prototype.patch=function(t,e){return this.method("PATCH",e,t)},Fr.prototype.head=function(t){return this.method("HEAD",t)},Fr.prototype.opts=function(t){return this.method("OPTIONS",t)},Fr.prototype.replay=function(t){return this.method(this._options.method,t)},Fr.prototype.body=function(t){return this.selfFactory({options:Mr(Mr({},this._options),{body:t})})},Fr.prototype.json=function(t){var e=null===(e=Object.entries(this._options.headers||{}).find(function(t){var e=t[0],t=t[1];return e.toLowerCase()===Nr.toLowerCase()&&t.startsWith(Dr)}))||void 0===e?void 0:e[1];return this.content(e||Dr).body(JSON.stringify(t))},Fr.prototype.formData=function(t,e){return this.body(function a(t,s,c,u){return void 0===s&&(s=!1),void 0===c&&(c=Ir.polyfill("FormData",{instance:!0})),void 0===u&&(u=[]),Object.entries(t).forEach(function(t){var e=t[0],t=t[1],n=u.reduce(function(t,e){return t?t+"["+e+"]":e},null);if(n=n?n+"["+e+"]":e,t instanceof Array)for(var r=0,o=t;r<o.length;r++){var i=o[r];c.append(n+"[]",i)}else!s||"object"!=typeof t||s instanceof Array&&s.includes(e)?c.append(n,t):null!==t&&a(t,s,c,Rr(u,[e]))}),c}(t,e=void 0===e?!1:e))},Fr.prototype.formUrl=function(t){return this.body("string"==typeof t?t:(n=t,Object.keys(n).map(function(e){var t=n[e];return t instanceof Array?t.map(function(t){return Vr(e,t)}).join("&"):Vr(e,t)}).join("&"))).content("application/x-www-form-urlencoded");var n},Fr),$r=function(t,e,n){var r;if("string"==typeof e)r=e;else{var o,i=Ir.polyfill("URLSearchParams",{instance:!0});for(o in e)if(e[o]instanceof Array)for(var a=0,s=e[o];a<s.length;a++){var c=s[a];i.append(o,c)}else i.append(o,e[o]);r=i.toString()}var u=t.split("?");return n||u.length<2?u[0]+"?"+r:t+"&"+r};function Fr(t,e,n,r,o,i){void 0===n&&(n=new Map),void 0===r&&(r=[]),void 0===o&&(o=[]),void 0===i&&(i=[]),this._url=t,this._options=e,this._catchers=n,this._resolvers=r,this._middlewares=o,this._deferredChain=i}function Vr(t,e){return encodeURIComponent(t)+"="+encodeURIComponent("object"==typeof e?JSON.stringify(e):""+e)}var Gr,Kr=xn.factory;Kr.default=xn.factory;class Br{constructor(t){this.url=t,this.isCors=!0}get options(){return this.isCors?{credentials:"include",mode:"cors"}:null}get(t,e=""){return Kr().options(this.options).url(this.url+e).query(t).query({_:Math.random()}).get().fetchError((t,e)=>{e=`${t.message} in request to ${e._url}`;throw new Error(e)})}getJson(t,e=""){return this.get(t,e).json()}post(t){return Kr(this.url).options(Object.assign(Object.assign({},this.options),{method:"post"})).formUrl(t).post()}}const Hr=r?"//portal.devmail.ru":"//portal.mail.ru",zr=r?"//auth.devmail.ru":"//auth.mail.ru",Qr=`//ok.ru/mapi?query=${encodeURIComponent('{"cmd":"getCounters"}')}`;(xn=Gr=Gr||{}).OK="ok",xn.NOAUTH="noauth";const Jr={mac:1,Socials:1};var qr,Wr=new class extends Br{constructor(){super(Hr)}getInfo(t,e){let n=Object.assign(Object.assign(Object.assign({},Jr),{gamescnt:1}),e);return r&&(n=Object.assign(Object.assign({},n),{ldata:1})),t&&(n=Object.assign(Object.assign({},n),{Login:t})),this.getJson(n,"/NaviData")}getListInfo(t,e){let n=Object.assign(Object.assign(Object.assign({},Jr),{ldata:1}),e);return t&&(n=Object.assign(Object.assign({},n),{Login:t})),this.getJson(n,"/NaviData")}getDomains(t){return this.getJson(t,"/Domains")}};(xn=qr=qr||{}).OK="ok",xn.NOAUTH="noauth";class Xr extends Br{auth(t){return this.getJson({mac:1,Login:t},"/cgi-bin/auth")}logout(t){return this.getJson({Login:t,mac:1},"/cgi-bin/logout")}}class Yr{static convert(e){const n=e.data.ldata;return{status:e.status,accounts:e.data.list.map(t=>({email:t,active:e.data.email===t,firstName:n[t].first_name||"",lastName:n[t].last_name||"",socialId:Yr.getSocialId(t),verified:!!n[t].verified,counters:{mail:n[t].mail_cnt}}))}}static getSocialId(t){t=t.match(/^[0-9]+@(vk|ok|fb)$/);return t&&t[1]}}var Zr,to,eo,no,ro,xn=M.f,oo=g.Symbol;!m||"function"!=typeof oo||"description"in oo.prototype&&void 0===oo().description||(Zr={},ct(to=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof to?new oo(t):void 0===t?oo():oo(t);return""===t&&(Zr[e]=!0),e},oo),(so=to.prototype=oo.prototype).constructor=to,eo=so.toString,no="Symbol(test)"==String(oo("test")),ro=/^Symbol\((.*)\)[^)]+$/,xn(so,"description",{configurable:!0,get:function(){var t=O(this)?this.valueOf():this,e=eo.call(t);if(k(Zr,t))return"";e=no?e.slice(7,-1):e.replace(ro,"$1");return""===e?void 0:e}}),ut({global:!0,forced:!0},{Symbol:to}));var io=[],ao=io.sort,xn=u(function(){io.sort(void 0)}),so=u(function(){io.sort(null)}),zn=zn("sort");ut({target:"Array",proto:!0,forced:xn||!so||!zn},{sort:function(t){return void 0===t?ao.call(Gt(this)):ao.call(Gt(this),hn(t))}});var co=[],uo={maxSize:500,getLog:function(){return Array.prototype.slice.call(co,0)},clear:function(){co=[]}},lo=function(){try{(console.debug||console.log).apply(console,arguments)}catch(t){}},fo=function(){try{console.error.apply(console,arguments)}catch(t){}},ho=function(){try{console.warn.apply(console,arguments)}catch(t){}};function po(t){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vo(t){return t&&"object"===po(t)&&!go(t)}function go(t){return"[object Array]"===Object.prototype.toString.call(t)}function mo(){for(var t={},e=0;e<arguments.length;++e){var n,r=arguments[e];for(n in r)t[n]&&vo(t[n])&&vo(r[n])?t[n]=mo(t[n],r[n]):t[n]=r[n]}return t}var yo=["p","email","split","utm","r","pgid","o_ss","o_v"],_o=!1;function xo(){this._batchesByUrls={},this._timeoutId=null,this._config={maxBatchSize:6e4,maxChunkSize:4e3,timeout:1e3,idle:!1},"undefined"!=typeof window&&window.addEventListener("beforeunload",this.process.bind(this,!0))}function bo(t){return"s".concat(t,"s").replace(/s+/g,"s").replace(/^s$/g,"")}function wo(t){for(var e in t)void 0!==t[e]&&null!==t[e]||delete t[e];return t}function Co(t,e){for(var n=-1,r=0;r<t.length;r++)if(e===t[r]){n=r;break}return n}xo.prototype.setConfig=function(t){if(!_o)return t.timeout=Math.max(1e3,t.timeout||0),this._config=mo(this._config,t),void(_o=!0);var e,n=[];for(e in t)e in this._config?n.push(e):this._config[e]=t[e];n.length&&ho("Queue config field(s) "+n.join(", ")+" are already set and can't be modified")},xo.prototype.getConfig=function(){return mo(this._config,{})},xo.prototype.push=function(t,e){!function(t){for(co.push(t);co.length>uo.maxSize;)co.shift()}(e);var n=t+"/batch?"+xo._buildQueryString(e);e=xo._stringifyParams(e);t=JSON.stringify(e);if(t.length+2>this._config.maxBatchSize)fo("Radar #"+e.uid+" body is too long: "+t);else{this._batchesByUrls[n]||(this._batchesByUrls[n]=[[]]);for(var r=this._batchesByUrls[n],o=0;o<r.length;++o){var i=r[o];if(JSON.stringify(i.concat([e])).length<=this._config.maxBatchSize){i.push(e);break}}o===r.length&&r.push([e]),this._timeoutId||"function"!=typeof setTimeout||(this._timeoutId=setTimeout(this.process.bind(this),this._config.timeout))}},xo.prototype.process=function(t){for(var e in clearTimeout(this._timeoutId),this._timeoutId=null,this._batchesByUrls){for(var n=this._batchesByUrls[e],r=0;r<n.length;++r)this._send(e,n[r],t);delete this._batchesByUrls[e]}},xo.prototype.isIdle=function(){return this._config.idle},xo._buildQueryString=function(t){for(var e=[],n=0;n<yo.length;++n){var r=yo[n],o="string"==typeof t[r]?t[r]:JSON.stringify(t[r]);delete t[r],void 0!==o&&o.length&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}var i,a=[];for(i in t.baseQuery)a.push(i);for(var a=a.sort(),s=0;s<a.length;++s){var c=a[s];e.push(encodeURIComponent(c)+"="+encodeURIComponent(t.baseQuery[c]))}return delete t.baseQuery,e.join("&")},xo.prototype._send=function(t,e,n){e={url:t,data:"batch="+encodeURIComponent(JSON.stringify(e)),type:"POST",async:!0};this._config.idle||(n&&window.navigator.sendBeacon?window.navigator.sendBeacon(e.url,e.data):(n=new XMLHttpRequest,"function"!=typeof this._config.beforeSend||this._config.beforeSend(n,e)?(n.open(e.type,e.url,e.async),n.withCredentials=!0,n.send(e.data)):n.abort()))},xo._stringifyParams=function(t){var e,n={};for(e in t)"i"!==e?n[e]="string"==typeof t[e]?t[e]:JSON.stringify(t[e]):n.i=xo._stringifyI(t.i);return n};var So=0,Ao=["radarPrefix","split","r","pgid","utm","o_ss","o_v"],Oo=!(xo._stringifyI=function(t){var e,n=[];for(e in t){var r=t[e];n.push(e+":"+r)}return n.join(",")}),Eo=new xo,ko="xray_not_configured";function To(){this._config={xrayRadarUrl:"https://xray.mail.ru",pgid:(Date.now()+Math.random()).toString(36),radarPrefix:"",r:"undefined"!=typeof document&&document.referrer||"",defaultParams:{p:"mail",t_feature:"",v:1,skipdwh:!1}}}To.prototype.logger=uo,To.prototype.setConfig=function(t,e){if((t=t||{}).split&&(t.split=bo(t.split)),Oo)for(var n=0;n<Ao.length;++n)delete t[Ao[n]];Oo=!0,t.defaultParams&&t.defaultParams.i&&(t.defaultParams.i=this._formatIntervals(t.defaultParams.i),delete this._config.defaultParams.i),this._config=e?t:mo(this._config,t),t.gaTrackingId&&this._initGA(t.gaTrackingId)},To.prototype.addSplit=function(t){this._config.split=bo("".concat(this._config.split||"","s").concat(t))},To.prototype.getConfig=function(){return mo(this._config,{})},To.prototype.getTotalSended=function(){return So},To.prototype.setQueueConfig=xo.prototype.setConfig.bind(Eo),To.prototype.getQueueConfig=xo.prototype.getConfig.bind(Eo),To.prototype.getInstanceCopy=function(){var t=new To;return Oo=!1,t.setConfig(this._config,!0),t},To.prototype.send=function(t,e,n){this._send(t,e,n,!0)},To.prototype._send=function(t,e,n,r){var o;if(r&&!Oo&&t!==ko&&((o=e||{}).t=t,this._logOwnError(o,ko),ho("Your xray instance is not configured")),e=mo(e||{},{}),this._config.middlewares)for(var i=0;i<this._config.middlewares.length;i++){var a=(0,this._config.middlewares[i])(t,e,n);t=a.t,e=a.params,n=a.ga}t=go(t)?t.join("_"):t,e.i&&(e.i=this._formatIntervals(e.i)),e=mo(this._config.defaultParams,e,{t:t,split:this._config.split,r:this._config.r,pgid:this._config.pgid,utm:this._config.utm,o_ss:this._config.o_ss,o_v:this._config.o_v,baseQuery:this._config.baseQuery,uid:So++}),r&&e.skipdwh&&e.dwh&&this._logOwnError(e,"xray_send_dwh-with-skipdwh");for(var s=[e.t_feature,this._config.radarPrefix],c=0;c<s.length;++c)s[c]&&(e.t=s[c]+"_"+e.t);delete e.t_feature;try{e=this._validateParams(e,r)}catch(t){return lo("xray",e.uid,e),void fo(t.message)}if(this._config.verbose&&lo("xray",e.uid,e.t,e,n?"GA: "+!!n:void 0),Eo.push(this._config.xrayRadarUrl,e),!0!==n||this._config.gaTrackingId){var u="string"==typeof n?n:this._config.gaTrackingId;if(n&&u&&!Eo.isIdle())if(e.i)for(var l in e.i)this._sendGA(t+"_"+l,e.i[l],u);else this._sendGA(t,e.v,u)}else fo("Radar #"+e.uid+": no GA tracking id specified")},To.prototype.sendImmediately=function(t,e,n){this.send(t,e,n),Eo.process()},To.prototype.addMiddleware=function(t){this._config.middlewares||(this._config.middlewares=[]),-1===Co(this._config.middlewares,t)&&this._config.middlewares.push(t)},To.prototype.removeMiddleware=function(t){!this._config.middlewares||-1<(t=Co(this._config.middlewares,t))&&this._config.middlewares.splice(t,1)},To.prototype._sendGA=function(t,e,n){"function"!=typeof gtag&&this._initGA(n);var r=t.split(/_/g),o=r[1]||r[0],t=r[1]?r[0]:"",r=r.slice(2).join("_"),n={value:e,send_to:n};t&&(n.event_category=t),r&&(n.event_label=r),gtag("event",o,n)},To.prototype._initGA=function(t){var e;window.gtag||((e=document.createElement("script")).src="https://www.googletagmanager.com/gtag/js?id="+t,e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},gtag("js",new Date)),gtag("config",t,{send_page_view:!1})},To.prototype._logOwnError=function(t,e,n){var r="xray_err",o=r,i=t.p;i&&(32<i.length+r.length+1&&(i=i.slice(0,32-r.length-1)),o="".concat(i,"_").concat(r));t=t.t;64<t.length&&(t=t.slice(0,64)),this._send(e,{skipdwh:!0,rlog:o,rlog_message:{t:t,err:e,value:n}},!1,!1)},To.prototype._validateParams=function(t,e){(t=wo(t)).rlog&&-1!==t.rlog.indexOf(".")&&(e&&this._logOwnError(t,"xray_rlog_dot_error",t.rlog),fo("Radar #".concat(t.uid,": rlog can not contain file extension")),delete t.rlog,delete t.rlog_message),t.rlog&&t.rlog_message||(t.rlog_message&&(e&&this._logOwnError(t,"xray_rlog_msg_abs"),fo("Radar #".concat(t.uid,": rlog_message would not be sent without rlog"))),delete t.rlog,delete t.rlog_message);var n,r,o={32:[t.p,t.rlog],64:[t.p+"_"+t.t]};for(n in t.i)o[32].push(n),o[64].push(t.p+"_"+t.t+"_"+n);for(r in o)for(var i=o[r],a=0;a<i.length;++a)if(i[a]&&i[a].length>r)throw e&&this._logOwnError(t,"xray_too_long",i[a].slice(0,r)),new Error("Radar #".concat(t.uid,": value is too long: ").concat(o[r][a])+" (len: ".concat(i[a].length,", limit: ").concat(r,")"));return t},To.prototype._formatIntervals=function(t){if(vo(t))return t;var e={};if(go(t)){for(var n=0;n<t.length;++n){var r=t[n].split(":");e[r[0]]=+r[1]||this._config.defaultParams.v}return e}if("string"==typeof t){var o=t.split(",");return this._formatIntervals(o)}};var jo,Io,Po,Uo=new To;function Lo(t,e){for(var n=t.split("&"),r=n[0],o={},i=1;i<n.length;++i){var a=n[i].split("="),s=decodeURIComponent(a[0]),a=decodeURIComponent(a[1]);try{a=JSON.parse(a)}catch(t){}o[s]=a}(e=e||{}).immediately?Uo.sendImmediately(r,o,e.ga):Uo.send(r,o,e.ga)}Lo.setConfig=function(t){Uo.setConfig(wo({verbose:t.verbose,pgid:t.pgid,split:t.split,xrayRadarUrl:t.xrayRadarUrl||t.XRAY_RADAR_URL,radarPrefix:t.radarPrefix||t.RadarPrefix,utm:t.utm,o_ss:t.o_ss,o_v:t.o_v,baseQuery:t.baseQuery,gaTrackingId:t.gaTrackingId||t.GA_TRACKING_ID,defaultParams:t.defaultParams||wo({p:t.project,email:t.ActiveEmail})})),Uo.setQueueConfig(wo({maxBatchSize:t.MAX_BATCH_SIZE,maxChunkSize:t.MAX_CHUNK_SIZE,beforeSend:t.beforeSend,timeout:t.timeout,idle:t.idle}))},Lo.getConfig=To.prototype.getConfig.bind(Uo),Lo.addSplit=To.prototype.addSplit.bind(Uo),Lo.setQueueConfig=To.prototype.setQueueConfig.bind(Uo),Lo.getQueueConfig=To.prototype.getQueueConfig.bind(Uo),Lo.getTotalSended=To.prototype.getTotalSended.bind(Uo),Lo.send=To.prototype.send.bind(Uo),Lo.sendImmediately=To.prototype.sendImmediately.bind(Uo),Lo.getInstanceCopy=To.prototype.getInstanceCopy.bind(Uo),Lo.addMiddleware=To.prototype.addMiddleware.bind(Uo),Lo.removeMiddleware=To.prototype.removeMiddleware.bind(Uo),(zn=jo=jo||{})[zn.auto=42]="auto",zn[zn.cloud=182]="cloud",zn[zn.deti=129]="deti",zn[zn.dobro=190]="dobro",zn[zn.hitech=123]="hitech",zn[zn.home=169]="home",zn[zn.kino=30]="kino",zn[zn.lady=104]="lady",zn[zn.moymir=120]="moymir",zn[zn.news=29]="news",zn[zn.octavius=105]="octavius",zn[zn.realty=122]="realty",zn[zn.weather=112]="weather",(zn=Io=Io||{}).friends="friends",zn.messages="messages",zn.photos="photos",zn.groups="groups",zn.notifications="notifications",(zn=Po=Po||{}).markCnt="markCnt",zn.messageCnt="messageCnt",zn.notificationCnt="notificationCnt",zn.messages="messages",zn.friends="friends",zn.presents="presents";const Ro=t=>{r||Lo.send(t,{value:1})};var Mo=new class extends Br{constructor(){super(Qr)}};class Do{constructor({eventType:t,counterKeys:e},n,r){this.eventType=t,this.counterKeys=e,this.updateAccountCounter=n,this.eventEmitter=r}get value(){return this._value}updateValue(t){this._value=t}updateData(t){this.eventEmitter.emit(this.eventType,null,this.parseSocialData(t));t=this.summarizeCounters(this.parseSocialData(t),this.counterKeys);this.value!==t&&this.updateValue(t)}summarizeCounters(t,r){return Object.entries(t).reduce((t,[e,n])=>t+(r[e]?n:0),0)}parseSocialData(t){return Object.entries(t).reduce((t,[e,n])=>(t[e]=["number","string"].includes(typeof n)?n:n.count,t),{})}getDataFromApi(){}}class No extends Do{constructor(t,e){super({eventType:s.UpdateCounterOK,counterKeys:Po},t,e)}getDataFromApi(){Mo.getJson().then(t=>{"no auth"===t.status?this.updateAccountCounter({ok:{}}):this.updateAccountCounter({ok:t.data||{}}),Ro("ok_counter_success"),Ro("social_counters_ok_success_api")}).catch(()=>{Ro("ok_counter_error"),Ro("social_counters_ok_error_api")})}}var $o=new class extends Br{constructor(){super("//vk.com/feed2.php")}};class Fo extends Do{constructor(t,e){super({eventType:s.UpdateCounterVK,counterKeys:Io},t,e)}getDataFromApi(){$o.getJson({act:"widget"}).then(t=>{var e;-1!==(null===(e=t.user)||void 0===e?void 0:e.id)?this.updateAccountCounter({vk:t||{}}):this.updateAccountCounter({vk:{}}),Ro("vk_counter_success"),Ro("social_counters_vk_success_api")}).catch(()=>{Ro("vk_counter_error"),Ro("social_counters_vk_error_api")})}}let Vo=!1;const Go=(t,e)=>t&&e?`${t} ${e}`:t||e;class Ko{constructor({ph:t,eventEmitter:e,activeUser:n,authUrl:r=zr,socialCountersVisibility:o}){this.gamesCount=0,this.mailCount=0,this.moymirCount=0,this.loveCount=0,this.restAccountsMailCount=0,this.accounts=[],this.ph=t,this.eventEmitter=e,this.activeUser=n,this.authApi=new Xr((t=r,n="mail.ru"===window.location.host,r=/\.mail\.ru$/.test(window.location.host),n||r?zr:t)),this.socialCountersVisibility=o,this.okCounter=new No(this.updateSomeCounters.bind(this),e),this.vkCounter=new Fo(this.updateSomeCounters.bind(this),e),this.loadAccountsList(null,this.getSocialsParams()),this.socialCountersVisibility.isShowOkCounter&&Ro("social_counters_hit_ok"),this.socialCountersVisibility.isShowVKCounter&&Ro("social_counters_hit_vk")}getSocialsParams(){const t={};return this.socialCountersVisibility.isShowVKCounter&&this.socialCountersVisibility.isVKConnectForVKCounter&&(t.vk_connect=1),this.socialCountersVisibility.isShowOkCounter&&this.socialCountersVisibility.isServerApiForOKCounter&&(t.ok_counters=1),t}handleSocialCounters({vk_counters:t=null,ok_counters:e=null},n){var r,o;t&&Object.values(t).length?(Ro("vk_counter_success"),Ro("social_counters_vk_server")):n&&null!==(r=this.socialCountersVisibility)&&void 0!==r&&r.isShowVKCounter&&(this.vkCounter.getDataFromApi(),t&&Ro("social_counters_vk_repeat")),e?(Ro("ok_counter_success"),Ro("social_counters_ok_server")):n&&null!==(o=this.socialCountersVisibility)&&void 0!==o&&o.isShowOkCounter&&(this.socialCountersVisibility.isServerApiForOKCounter?this.updateSomeCounters({ok:{}}):this.okCounter.getDataFromApi())}handleSocialCountersErrors(){var t;null!==(t=this.socialCountersVisibility)&&void 0!==t&&t.isShowVKCounter&&(Ro("vk_counter_error"),Ro("social_counters_vk_error_server")),null!==(t=this.socialCountersVisibility)&&void 0!==t&&t.isShowOkCounter&&(Ro("ok_counter_error"),Ro("social_counters_ok_error_server"))}loadAccountInfo(t,e){return Wr.getInfo(t,e).then(t=>{Ro("load_account_info_success"),t.status===Gr.OK?(this.handleUpdateAccount(t.data),this.handleSocialCounters(t.data,e)):t.status===Gr.NOAUTH&&this.handleClearAccount()}).catch(()=>{Ro("load_account_info_error"),this.handleSocialCountersErrors()})}loadAccountsList(e,n){return Wr.getListInfo(this.activeUser,n).then(t=>{Ro("load_accounts_list_success"),t.status===Gr.OK?(this.handleUpdateAccount(t.data),this.handleSocialCounters(t.data,n),Vo=Vo||!0,e&&e(Yr.convert(t))):t.status===Gr.NOAUTH&&this.handleClearAccount()}).catch(()=>{Ro("load_accounts_list_error"),this.handleSocialCountersErrors()})}logoutAccount(t,e){return this.authApi.logout(t).then(t=>{Ro("logout_account_success"),t.status===Gr.OK&&this.loadAccountsList(e)}).catch(()=>{Ro("logout_account_error")})}switchAccount(n,r=!1,o){return n?this.authApi.auth(n).then(({status:t,data:e})=>{Ro("switch_account_success"),t===qr.OK?(this.activeUserFullName=Go(e.first_name,e.last_name),r?this.loadAccountsList(null,o):this.loadAccountInfo(e.email,o)):t===qr.NOAUTH&&(e.list.includes(n)?this.handleExpiredAccount(n):e.list.length||this.handleClearAccount())}).catch(()=>{Ro("switch_account_error")}):Promise.resolve()}updateSomeCounters(t){"mail"in t&&this.updateCounterMail(+t.mail),"love"in t&&this.updateCounterLove(+t.love),"games"in t&&this.updateCounterGames(+t.games),"moymir"in t&&this.updateCounterMoyMir(+t.moymir),"ok"in t&&this.okCounter.updateData(t.ok),"vk"in t&&this.vkCounter.updateData(t.vk),this.emitAccountDataUpdate()}emitAccountDataUpdate(){this.eventEmitter.emit(s.AccountDataUpdate,null,{activeUser:this.activeUser,activeUserFullName:this.activeUserFullName,gamesCount:this.gamesCount,mailCount:this.mailCount,moymirCount:this.moymirCount,okCount:this.okCounter.value,vkCount:this.vkCounter.value,loveCount:this.loveCount,restAccountsMailCount:this.restAccountsMailCount,accounts:this.accounts})}updateCounterMail(t){"number"==typeof t&&this.mailCount!==t&&(this.eventEmitter.emit(s.UpdateCounterMail,null,{count:t}),this.mailCount=t)}updateCounterLove(t){"number"==typeof t&&this.loveCount!==t&&(this.eventEmitter.emit(s.UpdateCounterLove,null,{count:t}),this.loveCount=t)}updateCounterGames(t){"number"==typeof t&&this.gamesCount!==t&&(this.eventEmitter.emit(s.UpdateCounterGames,null,{count:t}),this.gamesCount=t)}updateCounterMoyMir(t){"number"==typeof t&&this.moymirCount!==t&&(this.eventEmitter.emit(s.UpdateCounterMoyMir,null,{count:t}),this.moymirCount=t)}handleUpdateAccount(t){var e=()=>{this.updateAccount(t)};if(this.ph.getListenersNumber(o.AuthChange)&&Vo&&this.activeUser!==t.email)return(new Image).src=`//r3.mail.ru/k?auth=1&rnd=${Math.random()}`,void this.ph.emit(o.AuthChange,e,{email:t.email});e()}updateAccount(e){if(this.activeUser=e.email,this.updateCounterMail(+e.mail_cnt),this.updateCounterMoyMir(+e.my_cnt),this.updateCounterGames(+e.games_cnt),e.ok_counters&&this.okCounter.updateData(e.ok_counters),e.vk_counters&&Object.values(e.vk_counters).length&&this.vkCounter.updateData(e.vk_counters),this.restAccountsMailCount=e.mail_notifier?+e.mail_notifier:0,e.ldata){const r=e.list.map(t=>({user:t,firstName:e.ldata[t].first_name,lastName:e.ldata[t].last_name,mailCounter:e.ldata[t].mail_cnt,verified:e.ldata[t].verified}));this.accounts=r;var t=r.find(t=>t.user===e.email),n=t.firstName||"",t=t.lastName||"";this.activeUserFullName=Go(n,t)}this.emitAccountDataUpdate()}handleClearAccount(){this.ph.getListenersNumber(o.AuthLost)&&this.activeUser?this.ph.emit(o.AuthLost,this.clearAccount,{}):this.clearAccount()}handleExpiredAccount(t){this.ph.authForm.show({type:"choice",email:t,from:"navi"})}clearAccount(){this.activeUser="",this.activeUserFullName="",this.updateCounterMail(0),this.updateCounterLove(0),this.updateCounterGames(0),this.updateCounterMoyMir(0),this.okCounter.updateData({}),this.vkCounter.updateData({}),this.restAccountsMailCount=0,this.accounts=[],this.emitAccountDataUpdate()}}class Bo extends sn{constructor(){super(),this._eventsData=new Map}on(t,e){return super.on(t,e),this.executeListenerIfHasData(t,e),this}removeListener(t,e){return super.removeListener(t,e),this.getListenersNumber(t)||this._eventsData.delete(t),this}emit(t,e,n){return super.emit(t,e,n),this._eventsData.set(t,n),this}executeListenerIfHasData(t,e){t=this._eventsData.get(t);t&&e({data:t},an)}}class Ho{constructor(t,e){this._ph=t,this._socialCountersVisibility=e,document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this))}onVisibilityChange(){const t="hidden"!==document.visibilityState,e=this._socialCountersVisibility.updateSocialCountersOnVisibilityChange?this._ph.getSocialsParams():null;if(this._ph.emit(o.VisibilityChange,null,{visible:t}),t){const t=this._ph.activeUser();t?(this._ph.switchAccount(t,!1,!1,e),e&&this._socialCountersVisibility.isShowOkCounter&&Ro("social_counters_visibility_change_ok"),e&&this._socialCountersVisibility.isShowVKCounter&&Ro("social_counters_visibility_change_vk")):this._ph.loadAccountInfo()}}}let zo;class Qo extends sn{constructor(t,e){var n,r,o;super(),t||(console.warn("ERROR (PublicPH): no initial settings data"),t={isWhiteline:!0,isDebug:"",experimentId:"",activeEmail:"",social:{vk:!1,ok:!1,fb:!1}}),n=!(null==t||!t.isDebug),r=null==t?void 0:t.experimentId,o=null==t?void 0:t.siteId,Lo.setConfig({verbose:n,split:r||"",defaultParams:{p:"whiteline",i:jo[o]||"unknown"+(o?`_${o}`:""),skipdwh:!0}}),Ro("load_inline"),Ro(t.isModern?"is-modern":"is-legacy"),Ro(`load_inline_${a.BUILD}`),this.authForm=new cn(t),this.authMenu=new un(this.authForm),this.marusiaMenu=new ln,this.cookie=Object.assign(he,{s:ve}),1<me()?(ve.setGlobal("rt",1),ve.setGlobal("dpr",me())):(ve.removeGlobal("rt"),ve.removeGlobal("dpr"));const i=new Bo;zo=new Ko({ph:this,eventEmitter:i,activeUser:t.activeEmail,authUrl:t.authUrl,socialCountersVisibility:{isShowVKCounter:t.isShowVKCounter,isVKConnectForVKCounter:t.isVKConnectForVKCounter,isShowOkCounter:t.isShowOkCounter,isServerApiForOKCounter:t.isServerApiForOKCounter,socialCountersTimer:t.socialCountersTimer,updateSocialCountersOnVisibilityChange:t.updateSocialCountersOnVisibilityChange}}),this.accountService={onAccountDataUpdate:t=>i.on(s.AccountDataUpdate,t),on:(t,e)=>i.on(t,e),removeListener:(t,e)=>i.removeListener(t,e)},new Ho(this,zo.socialCountersVisibility),e&&e.hasExternal&&ge(e.bundleUrl)}getSocialsParams(){return zo.getSocialsParams()}loadAccountInfo(t,e){return zo.loadAccountInfo(t,e)}loadAccountsList(t,e){return zo.loadAccountsList(t,e)}switchAccount(t,e=!1,n=!0,r){return zo.switchAccount(t,e,r).then(()=>{n&&!this.getListenersNumber(o.AuthChange)&&window.location.reload()})}logoutAccount(t,e){return zo.logoutAccount(t,e)}activeUser(){return zo.activeUser}isMultiAuth(){var t;return!(null===(t=fn())||void 0===t||!t.authGate)}isAuthFormEnabled(){var t;return!(null===(t=fn())||void 0===t||!t.authGate)}isMarusiaMenuEnabled(){var t,e=this.activeUser();return!(null===(t=fn())||void 0===t||!t.isOnMarusia||!e||/(@vk|@ok|@fb)$/.test(e))}updateCounter(t){zo.updateSomeCounters(t)}}return Object.freeze(Qo),Qo}();

import{D as e,j as t,B as i,t as o,a6 as s,g as a,U as r,V as n,a7 as d,Z as l,a8 as h,r as c,F as u,e as m,a3 as p,d as f,a9 as b,u as g,aa as v,ab as E,C as S}from"./common-chunks.es.f216f170.js";var y="bc_e",A={api:"/account/electrode/account/api/subscribe",render:function(){this.dom=e.create(),this.beacon=t("Footer"),this.bodyScroll=i.getDefaultInstance(),this.getElements(),this.handleSubmit=this.handleSubmit.bind(this),this.handleSubmitSuccess=this.handleSubmitSuccess.bind(this),this.handleSubmitError=this.handleSubmitError.bind(this),this.handleModalClose=this.handleModalClose.bind(this),this.screenWidth=this.dom.getWindow().innerWidth,this.isMobile="small"===o.getBreakpoint(this.screenWidth)||!1,this.input&&(this.isMobile&&(this.input.placeholder="Email address"),this.input.addEventListener("change",this.removeErrorAttributes)),this.form&&this.form.addEventListener("submit",this.handleSubmit)},getElements:function(){this.button=this.dom.getById("hf-email-signup-btn"),this.errorWrapper=this.dom.getById("hf-email-input-error"),this.form=this.dom.getById("hf-email-signup-form"),this.input=this.dom.getById("hf-email-input"),this.modal=this.dom.getById("hf-email-modal"),this.modalClose=this.dom.getById("hf-email-close-btn"),this.modalEmail=this.dom.getById("hf-email-modal-email-id"),this.animatedField=s.create(this.input)},handleSubmit:function(e){e.preventDefault(),this.email=this.input.value,this.hideError();var t=a(r,"ccm.header-footer-app.emailSignupApi.emailSignupUrl",this.api),i=n(t);d.validate(this.email)?(this.input.disabled=!0,l.fetch(i+"?email="+this.email,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},format:"json",onSuccess:this.handleSubmitSuccess,onError:this.handleSubmitError})):this.showError()},handleSubmitSuccess:function(){this.hideError(),this.showModal(),this.input.value="",this.input.disabled=!1;var e=this.dom.getDataAttributes(this.form,["campaign-id"]);this.beacon.tagAction(h({campaignId:e.campaignId}))},handleSubmitError:function(){this.showError(),this.input.disabled=!1},showModal:function(){c(this.modal,["hidden"]),this.modalEmail.innerHTML=this.email,this.modalClose.addEventListener("click",this.handleModalClose),this.focusTrap=u.create(this.modal.querySelector("[role=dialog]")),this.bodyScroll.lock(),this.removeEscHandler=m(this.dom.getDocument(),this.handleModalClose),this.removeCloseOnDialogModal=p(this.handleModalClose)},handleModalClose:function(){this.focusTrap(),f(this.modal,{hidden:"hidden"}),this.button.focus(),this.bodyScroll.unlock(),this.removeEscHandler&&(this.removeEscHandler(),this.removeEscHandler=null),this.removeCloseOnDialogModal()},showError:function(){this.input.focus(),this.animatedField.showError(),this.dom.addClass(this.input,y),c(this.errorWrapper,["hidden"]),f(this.errorWrapper,{role:"alert"}),f(this.input,{"aria-invalid":!0})},removeErrorAttributes:function(){c(this.input,["aria-invalid"]),c(this.errorWrapper,["role"])},hideError:function(){this.animatedField.hideError(),this.dom.removeClass(this.input,y),f(this.errorWrapper,{hidden:"hidden"}),this.removeErrorAttributes()}},k="bj_c";var C="bi_e",B="bi_f",I={create:function(i){var s={};return s.dom=a(i,"dom",e.create()),s.beacon=a(i,"beacon",t("Footer")),s.screenWidth=s.dom.getWindow().innerWidth,s.isMobile="small"===o.getBreakpoint(s.screenWidth)||"medium"===o.getBreakpoint(s.screenWidth)||!1,s.footerWrapper=s.dom.getById("js-global-footer-wrapper")||s.dom.querySelector(".js-footer"),s.setupFooterLinksAnalytics=function(){s.dom.querySelectorAll(".hf-footer-links-list").forEach((function(e){var t=s.dom.getDataAttributes(e,["module-id","module-type","module-version","module-published-date","module-name","module-zone"]),i=g({dom:s.dom,beacon:s.beacon,moduleInfo:t});e.querySelectorAll(".hf-footer-link").forEach((function(e){if(e.dataset.tlId){var t=e.dataset.tlId.replace(/-link-\d\-+/g,"");e.setAttribute("data-section-title","Footer - "+s.dom.querySelector("[data-tl-id="+t+"]").innerText)}i(e)}))}))},s.setUpSisterBrandsAnalytics=function(){s.dom.getById("hf-sister-brands-links-list").addEventListener("click",(function(e){var t=e.target.parentNode;s.beacon.tagAction(v({uid:t.getAttribute("data-uid"),name:t.getAttribute("title")}))}))},s.loadSisterBrandImages=function(){var e=s.dom.querySelectorAll("."+C);e&&s.dom.getWindow().addEventListener("scroll",(function t(){s.dom.getWindow().removeEventListener("scroll",t),e.forEach((function(e){var t=s.dom.getDataAttributes(e,["src"]);f(e,t),s.dom.removeClass(e,B)}))}))},s.updateCopyrightReferenceNumber=function(){s.dom.getById("copyright-reference-id").innerText=E(S.get("bstc"))},s.render=function(){s.footerWrapper&&(A.render(),function(i){var o={beacon:(i=Object.assign({},{beacon:t("Footer")},i)).beacon};return o.dom=e.create(),o.links=o.dom.querySelectorAll(".".concat(k)),o.setupBeaconClickHandler=function(e){e.addEventListener("click",o.handleLinkClicks.bind(this,e))},o.handleLinkClicks=function(e){o.beacon.tagAction(b({uid:e.getAttribute("data-uid"),name:e.getAttribute("title")}))},o.setupAnalytics=function(){o.links.forEach(o.setupBeaconClickHandler)},o}().setupAnalytics(),s.setupFooterLinksAnalytics(),s.setUpSisterBrandsAnalytics(),s.loadSisterBrandImages(),s.updateCopyrightReferenceNumber())},s}};export default I;
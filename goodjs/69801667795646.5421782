"use strict";var brandmetrics;!function(l){var p,r,f,i,n,s,o,a,d,c,m;void 0===l.api&&(l.api=null,r="unknown",l.bootstrap=function(e,n,t){void 0===t&&(t=!1);function o(){window._brandmetrics_initiated&&window._brandmetrics_initiated(window.brandmetrics.api),n&&n(window.brandmetrics.api)}"unknown"===r||t?(r="strapping",i(e,function(e,n){e?c(n,function(e){window.brandmetrics.api=e,o()}):(window.brandmetrics.api={hasConsent:function(){return!1},isReady:function(){return!0}},o())})):o()},l.register=function(e){f[e.id]=e.ctor,p&&p(e)},l.getModule=function(e){return f[e]},l.defaultOptions=function(e){return{siteId:void 0===e.siteId?"":e.siteId,baseUrl:void 0!==e.baseUrl?e.baseUrl:location.protocol+"//"+location.host,cdnUrl:e.cdnUrl,measurements:void 0===e.measurements?[]:e.measurements,language:e.language,listeners:void 0===e.listeners?[]:e.listeners,storage:void 0===e.storage?"none":e.storage,startMode:void 0===e.startMode?{type:"manual"}:e.startMode,cookieDomain:void 0!==e.cookieDomain?e.cookieDomain:".brandmetrics.com",consentMode:void 0===e.consentMode?{type:"iab"}:e.consentMode,consentRetryCount:void 0===e.consentRetryCount?2:e.consentRetryCount,userMode:void 0===e.userMode?{type:"none"}:e.userMode,isTest:void 0!==e.isTest&&e.isTest,logErrors:void 0!==e.logErrors&&e.logErrors,logBundle:void 0!==e.logBundle&&e.logBundle,survey:void 0!==e.survey?e.survey:{max:10,interval:10,expInt:10,maxTot:50,intervalTot:10},adSlot:{},inview:void 0!==e.inview?e.inview:{type:"intersectionobserver",threshold:1e3},surveyRandomization:void 0!==e.surveyRandomization?e.surveyRandomization:.5,hostConfiguration:e.hostConfiguration}},f={},i=function(e,t){if(!("sandbox"in document.createElement("iframe")))throw new Error("Sandbox not supported");s();var o,r,i=l.defaultOptions(e||{});d()?a(!1,i,t):(o=1,(r=function(){n(i,function(e,n){!e&&o<=i.consentRetryCount?(o++,setTimeout(function(){r()},3e3)):t(e,n)})})())},n=function(n,t){if("none"!==n.consentMode.type){var e=void 0;switch(n.consentMode.type){case"iab":e=new(l.getModule(22));break;case"custom":e=new(l.getModule(23))(n.consentMode.conf);break;default:throw new Error("Cannot handle consent type: "+n.consentMode.type)}e.check(function(e){e?o(n,t):a(!1,n,t)})}else o(n,t)},s=function(){},o=function(e,n){var t;void 0===window._brandmetrics_consent?a(!0,e,n):(t=window._brandmetrics_consent(),a(t,e,n))},a=function(e,n,t){t(e,n)},d=function(){try{return null!==localStorage.getItem("__bmdnt")}catch(e){return!1}},c=function(i,s){var a=[0,21,3,4,2,19];"custom"===i.userMode.type&&a.push(24);var d="none"!==i.storage||0<i.listeners.length;if(d)switch(a.push(1),a.push(26),i.inview.type){case"intersectionobserver":a.push(16),a.push(15);break;case"legacy":a.push(15);break;case"none":break;default:throw new Error("brandmetrics: inview not supported: "+i.inview)}for(var c=[],e=0,n=i.listeners;e<n.length;e++){var t=n[e],o="apn"===t.type?10:"gpt"===t.type?8:"pxl"===t.type?11:"pbj"===t.type?7:"ntv"===t.type?12:"gptStrict"===t.type?9:-1;-1!=o&&(c.push({n:o,d:t}),a.push(o))}var r="ls"===i.storage?5:6,u=r;a.push(r);r=function(){var e,n,t,o,r;a.filter(function(e){return void 0===f[e]}).length<=0&&(p=void 0,e=new(l.getModule(2))(i),n=new(l.getModule(u))(i,e,!1),t=c.filter(function(e){return"api"!==e.d.type}).map(function(e){return new(l.getModule(e.n))(e.d)}),o=new(l.getModule(3))(i),r=l.getModule(4),void 0!==(n=d?new(l.getModule(1))(i,o,e,t,n):void 0)&&new(l.getModule(26))({options:i,collection:n}),"custom"===i.userMode.type&&i.userMode.conf.measurements&&0<i.userMode.conf.measurements.length&&(new(l.getModule(24))(i.userMode.conf).lookup(function(e){e&&o.ConfigureSingleUsers(e)}),o.RestrictSingleUserMesurement(i.userMode.conf.measurements)),l.getModule(0)(i,e,o,r,n,0,function(e){s(e)}))};p=r,m(i,a),r()},m=function(e,n){if(document.body){for(var t=0,o=0,r=n;o<r.length;o++){var i=r[o];t|=Math.pow(2,i)}var s,a=window.location&&window.location.search&&-1!==window.location.search.indexOf("bm_d"),d="?";a&&(d+="bm_d"),e.logBundle&&(s="sid="+e.siteId+"&rnd="+Math.floor(9999001*Math.random()+1e3).toString(),d+="?"===d?s:"&"+s);a=(!a&&e.cdnUrl?e.cdnUrl:e.baseUrl)+"/scripts/bundle/"+t.toString()+".js"+("?"!==d?d:""),d=document.createElement("script");d.setAttribute("type","text/javascript"),d.setAttribute("async","true"),d.setAttribute("src",a),document.body.appendChild(d)}else document.addEventListener("DOMContentLoaded",function(){m(e,n)})})}(brandmetrics=brandmetrics||{}),function(){var e=(n.prototype.check=function(e){var n,t,r;n=e,(e=function(){if(window.__tcfapi)return window.__tcfapi;for(var r,e=window,i={};e;){try{if(e.frames.___tcfapiLocator){r=e;break}}catch(e){}if(e===window.top)break;e=e.parent}return r?(window.addEventListener("message",function(e){var n;try{n="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){}void 0===n||(n=n.__tcfapiReturn)&&i[n.callId]&&(i[n.callId](n.returnValue,n.success),delete i[n.callId])},!1),window.__tcfapi=function(e,n,t,o){n={__tcfapiCall:{command:e,parameter:o,version:n,callId:Math.random().toString()}};i[n.__tcfapiCall.callId]=t,r.postMessage(n,"*")},window.__tcfapi):void 0}())?(r=n,e("getTCData",2,function(e,n){if(n&&e.vendor&&e.purpose){var t=e.vendor,o=e.purpose,n=!1,e=!1;if(t.consents&&(n=t.consents[422]),t.legitimateInterests&&(n=n||t.legitimateInterests[422]),o.consents&&(e=o.consents[1]),o.legitimateInterests&&(e=e||o.legitimateInterests[1]),n&&e)return void r(!0)}r(!1)},[422])):window.__cmp&&"function"==typeof window.__cmp?(t=n,window.__cmp("getVendorConsents",Uint16Array.from([422]),function(e,n){if(n&&e.vendorConsents&&e.purposeConsents){n=e.vendorConsents[422],e=e.purposeConsents[1];if(n&&e)return void t(!0)}t(!1)})):n(!0)},n);function n(){}window.brandmetrics.register({id:22,ctor:e})}(),window.brandmetrics.bootstrap({baseUrl:"https://collector.brandmetrics.com",cdnUrl:"https://cdn.brandmetrics.com",siteId:"48bc2af3-ba65-46c1-bde9-7ba966377c27",storage:"ls",listeners:[{type:"gpt",conf:null}],measurements:[],consentMode:{type:"iab",conf:null},surveyRandomization:1,startMode:{type:"auto",conf:null},userMode:{type:"none",conf:null}});

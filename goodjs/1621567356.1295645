(this.$WP=this.$WP||[]).push(["1pCAFN",(e,i)=>{"use strict";var t,n,a,r,l,s,o,d,c,m,u,k,p,v,_,b,f,h,g,y,N={sms:19907,email:55593,clipboard:19905},T=({url:e,itemType:i,itemId:t,action:r,type:l,children:s,disableMcidTracking:c})=>{var{domainName:m}=a(d),u=e.startsWith("/")?`https://${m}${e}`:e,k=o({module:"ShareCta",action:r,context:`${i}|${t}|${u}`,value:l&&"repost_action"!==l?N[l]:void 0});return n.createElement("div",{onClick:k},s(l&&"repost_action"!==l&&!c?((e,i,t)=>{if("LinkPost"===i)return e;var n=`${-1!==e.indexOf("?")?"&":"?"}m=${t}`;return-1!==e.indexOf("#")?e.replace("#",n+"#"):`${e}${n}`})(u,i,N[l]):u))},E=({iconName:e,localizedText:i,onClickFunction:t,size:l})=>{var{cdnPrefix:s}=a(d);return n.createElement("li",{onClick:t,className:u("_3JDcFqle",{Fk50IqWd:"small"===l,_3idHdbyJ:"large"===l})},e.startsWith("/")?n.createElement("img",{src:`${s}${e}`,className:u("Aww4xCHf",{Fk50IqWd:"small"===l,_3idHdbyJ:"large"===l})}):n.createElement(r,{name:e,color:"primaryIcon",size:"large"===l?20:18}),n.createElement("span",{className:"_1Su_kTAs"},i))},S=({url:e,itemType:i,size:n})=>{var a,{localize:r}=s();return a="LinkPost"===i?r.string("share_sms_link"):"ReadTrip"===i?r.string("trips_share_email_subject"):"WriteTrip"===i?r.string("trips_collaborate_invite_email_subject"):r.string("link_share_sms_checkthisout"),t.createElement(E,{iconName:"text-message",localizedText:r.string("link_share_option_sms"),size:n,onClickFunction:()=>((e,i)=>{var t=`${i} ${e}`;t.length>140&&(t=e),window.location.href="sms:?&body="+encodeURIComponent(t)})(e,a)})},I=["Restaurant_Review","Attraction_Review","MobileAttraction_Review","AttractionProductReview","MobileAttractionProductReview","Hotel_Review","MobileHotel_Review"],A=({url:e,subject:i,firstSentence:n,textBeforeLink:a,textAfterLink:r,size:l})=>{var{localize:o}=s();return t.createElement(E,{iconName:"email",localizedText:o.string("link_share_option_email"),size:l,onClickFunction:()=>((e,i,t,n,a,r)=>{var l=encodeURIComponent(i),s=encodeURIComponent(a),o=encodeURIComponent(r),d=encodeURIComponent(t||e("share_email_subject")),c=`${n||e("link_share_sms_checkthisout")}%0D%0A%0D%0A${s?s+"%0D%0A":""}${l}%0D%0A${o?o+"%0D%0A":""}%0D%0A${e("ib_share_booking_download_app")}%0D%0A${e("app_download_url_secure")}`;window.location.href=`mailto:?subject=${d}&body=${c}`})(o.string,e,i,n,a,r)})},D=e=>{var{localize:i}=s();if(I.indexOf(e.itemType)>-1)return t.createElement(k,{query:b,variables:{locationId:e.itemId}},({fetching:n,data:a})=>{if(n||!a)return t.createElement(A,e);var r=a.locations[0]&&a.locations[0].name||"";return t.createElement(A,Object.assign({},e,{subject:i.string("link_share_email_subject",{0:r}),firstSentence:i.string("mobile_here_is_a_place_i_found_8e0"),textBeforeLink:r}))});if("Review"===e.itemType)return t.createElement(k,{query:f,variables:{reviewId:e.itemId}},({fetching:n,data:a})=>n||!a?t.createElement(A,e):t.createElement(A,Object.assign({},e,{firstSentence:i.string("share_email_reviews"),textBeforeLink:a.reviews[0]&&a.reviews[0].title||""})));if("Photo"===e.itemType)return t.createElement(k,{query:h,variables:{id:e.itemId}},({fetching:n,data:a})=>n||!a?t.createElement(A,e):t.createElement(A,Object.assign({},e,{firstSentence:i.string("share_email_photos"),textBeforeLink:a.photos[0]&&a.photos[0].caption||""})));if("Video"===e.itemType)return t.createElement(k,{query:g,variables:{id:e.itemId}},({fetching:n,data:a})=>n||!a?t.createElement(A,e):t.createElement(A,Object.assign({},e,{firstSentence:i.string("share_email_videos"),textBeforeLink:a.videos[0]&&a.videos[0].caption||""})));if("LinkPost"===e.itemType)return t.createElement(A,Object.assign({},e,{subject:i.string("share_email_link_subject"),firstSentence:i.string("share_email_link"),textAfterLink:i.string("share_email_link_attribution")}));if("ForumPost"===e.itemType)return t.createElement(A,Object.assign({},e,{firstSentence:i.string("share_email_forumtopic")}));if("ForumResponse"===e.itemType)return t.createElement(A,Object.assign({},e,{firstSentence:i.string("share_email_forumreply")}));if("WriteTrip"===e.itemType||"ReadTrip"===e.itemType){var n="WriteTrip"===e.itemType;return t.createElement(k,{query:y,variables:{id:e.itemId}},({fetching:a,data:r})=>{var l=e;if(!a&&r){var s=r.trips&&r.trips.find(i=>i.id===e.itemId),o={tripName:s&&s.title||""},d=p(s);l=Object.assign({},e,{firstSentence:i.string("trips_share_email_hey"),subject:i.string("trips_share_email_subject"),textBeforeLink:i.string("trips_share_email_body_v2",o)}),n?(l.subject=i.string("trips_collaborate_invite_email_subject"),l.textBeforeLink=d?i.string("trips_collaborate_invite_email_body_v2",o):i.string("trips_collaborate_invite_email_body_collaborator_version",o)):d||(l.subject=i.string("trips_share_email_subject"),l.textBeforeLink=i.string("trips_email_share_collaborator_version",o))}return t.createElement(A,l)})}return t.createElement(A,e)},x=({url:e,itemType:i,itemId:t,disableMcidTracking:r,headerComponent:l,close:s})=>{var{viewportCategory:o}=a(c);return n.createElement("div",{className:"_2qNMBNc2"},l,"MOBILE"===o&&n.createElement(T,{action:"share_select",itemType:i,itemId:t,url:e,type:"sms",disableMcidTracking:r},e=>n.createElement(S,{url:e,itemType:i,size:"small"})),n.createElement(T,{url:e,itemType:i,itemId:t,action:"share_select",type:"email",disableMcidTracking:r},e=>n.createElement(D,{url:e,itemType:i,itemId:Number(t),size:"small"})),n.createElement(T,{action:"share_select",itemType:i,itemId:t,url:e,type:"clipboard",disableMcidTracking:r},e=>n.createElement(_,{url:e,size:"small",close:s})))},C=({fixed:e,url:i,itemType:t,itemId:a,disableMcidTracking:r,shiftX:l,shiftY:s,children:o,headerComponent:d,alignEdge:c,above:u})=>n.createElement(m,{local:!0,closeButton:!1,fixed:e,above:u,below:!0,alignEdge:c,shiftX:l,shiftY:s,shiftArrow:l,arrowType:"small",contents:e=>n.createElement(x,{url:i,itemType:t,itemId:a,disableMcidTracking:r,headerComponent:d,close:e})},o),w=({url:e,itemType:i,itemId:t,styleAsSocialAction:a,headerComponent:r,onClick:l,alignEdge:s,above:o,shiftX:d,shiftY:c,hideText:m,disableMcidTracking:u})=>n.createElement(n.Fragment,null,n.createElement(C,{url:e,itemType:i,itemId:t,disableMcidTracking:u,shiftX:d,shiftY:c,headerComponent:r,alignEdge:s,above:o},(r,s)=>n.createElement(T,{itemType:i,itemId:t,url:e,action:"share_button_click",disableMcidTracking:u},()=>n.createElement(F,{onClick:e=>{l&&l(e),s()},target:r,styleAsSocialAction:a,hideText:m})))),F=({onClick:e,target:i,styleAsSocialAction:t,hideText:a})=>n.createElement("div",{onClick:e,className:t?"_3RO180pc":"_3Qn6d96f"},n.createElement("span",{ref:i},n.createElement("span",{className:"_1-taKoBl"},n.createElement(r,{name:"share",color:"inherit"})),!a&&n.createElement("span",{className:"_2_4z5Nd6"},n.createElement(l,{id:"link_share_share"})," "))),j=e=>{var i="MOBILE"===e.viewportCategory,n=i?"right":"left",a=i?12:-28,r=i?8:12;return t.createElement(m,{above:!0,alignEdge:n,shiftX:a,shiftY:-8,shiftArrow:r,arrowType:"small",contents:()=>t.createElement("span",{className:"JNF5ebbW"},t.createElement(l,{id:"social_Coming_soon"})),local:!0},(e,n)=>t.createElement(F,{onClick:n,target:e,styleAsSocialAction:!0,hideText:i}))};return[()=>{T.defaultProps={type:null,disableMcidTracking:!1},E.defaultProps={onClickFunction:()=>!1},(b=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PoiDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":103}}')).__key=30493395597162,b.loc.source={body:"1bbbcc03376a"},(f=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ReviewDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"reviewId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"reviews"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"reviewIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"reviewId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":99}}')).__key=8049210694612,f.loc.source={body:"07521a581bd4"},(h=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PhotoDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"photos"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"photoIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"id"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"caption"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":86}}')).__key=0xf892e2b2908,h.loc.source={body:"0f892e2b2908"},(g=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"VideoDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"videos"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"videoIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"id"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"caption"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":86}}')).__key=0x71275c1e8de7,g.loc.source={body:"71275c1e8de7"},(y=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"TripDetails"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"trips"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"tripIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"id"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"owner"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"isMe"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":117}}')).__key=0x7db41de4facd,y.loc.source={body:"7db41de4facd"},A.defaultProps={firstSentence:"",subject:"",textBeforeLink:"",textAfterLink:""},_=class extends t.Component{constructor(...e){super(...e),this.state={copied:!1},this.copyAndClose=(e,i)=>{var t=v.copy(e);return t&&(this.setState({copied:!0}),setTimeout(()=>i(),3e3)),t}}render(){return t.createElement(E,{iconName:"link",size:this.props.size,localizedText:this.state.copied?t.createElement(l,{id:"link_share_link_copied"}):t.createElement(l,{id:"link_share_option_clipboard"}),onClickFunction:this.state.copied?void 0:()=>this.copyAndClose(this.props.url,this.props.close)})}},C.defaultProps={fixed:!1,shiftX:0,shiftY:0,headerComponent:null,alignEdge:"right"},w.defaultProps={styleAsSocialAction:!1,headerComponent:null,onClick:void 0,above:!1,shiftX:6,shiftY:4},F.defaultProps={styleAsSocialAction:!1},e("default",w),e({DisabledAction:j,SharePopover:C})},[e=>(t=e,n=e.default,a=e.useContext),e=>r=e.default,e=>(l=e.default,s=e.useLocalize),e=>o=e.useGARecordCallback,e=>(d=e.Environment,c=e.Device),e=>m=e.default,e=>u=e.default,e=>k=e.Query,e=>p=e.isOwner,e=>v=e.default]]},["cDcdfi","pyY-iJ","0DsHEV","fsml46","2R4xv2","eDFcUX","jSLlaY","5X2em-","eFKnUp","vLhQxP"]]);
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(s){function c(e,t){var a=this,l=s(this);if(a.value===l.attr("placeholder")&&l.hasClass(i.customClass))if(a.value="",l.removeClass(i.customClass),l.data("placeholder-password")){if(l=l.hide().nextAll('input[type="password"]:first').show().attr("id",l.removeAttr("id").data("placeholder-id")),!0===e)return l[0].value=t;l.focus()}else a==d()&&a.select()}function r(t){var a,l,o,e=this,r=s(this),d=e.id;if(!t||"blur"!==t.type||!r.hasClass(i.customClass))if(""===e.value){if("password"===e.type){if(!r.data("placeholder-textinput")){try{a=r.clone().prop({type:"text"})}catch(e){a=s("<input>").attr(s.extend((t=this,l={},o=/^jQuery\d+$/,s.each(t.attributes,function(e,t){t.specified&&!o.test(t.name)&&(l[t.name]=t.value)}),l),{type:"text"}))}a.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":r,"placeholder-id":d}).bind("focus.placeholder",c),r.data({"placeholder-textinput":a,"placeholder-id":d}).before(a)}e.value="",r=r.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",r.data("placeholder-id")).show()}else{e=r.data("placeholder-password");e&&(e[0].value="",r.attr("id",r.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}r.addClass(i.customClass),r[0].value=r.attr("placeholder")}else r.removeClass(i.customClass)}function d(){try{return document.activeElement}catch(e){}}var e,t="[object OperaMini]"===Object.prototype.toString.call(window.operamini),a="placeholder"in document.createElement("input")&&!t&&!0,l="placeholder"in document.createElement("textarea")&&!t&&!0,o=s.valHooks,t=s.propHooks,i={};a&&l?((e=s.fn.placeholder=function(){return this}).input=!0,e.textarea=!0):((e=s.fn.placeholder=function(e){return i=s.extend({},{customClass:"placeholder"},e),this.filter((a?"textarea":":input")+"[placeholder]").not("."+i.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":c,"blur.placeholder":r}).data("placeholder-enabled",!0).trigger("blur.placeholder")}).input=a,e.textarea=l,e={get:function(e){var t=s(e),a=t.data("placeholder-password");return a?a[0].value:t.data("placeholder-enabled")&&t.hasClass(i.customClass)?"":e.value},set:function(e,t){var a,l,o=s(e);return""!==t&&(a=o.data("placeholder-textinput"),l=o.data("placeholder-password"),a?(c.call(a[0],!0,t)||(e.value=t),a[0].value=t):l&&(c.call(e,!0,t)||(l[0].value=t),e.value=t)),o.data("placeholder-enabled")?""===t?(e.value=t,e!=d()&&r.call(e)):(o.hasClass(i.customClass)&&c.call(e),e.value=t):e.value=t,o}},a||(o.input=e,t.value=e),l||(o.textarea=e,t.value=e),s(function(){s(document).delegate("form","submit.placeholder",function(){var e=s("."+i.customClass,this).each(function(){c.call(this,!0,"")});setTimeout(function(){e.each(r)},10)})}),s(window).bind("beforeunload.placeholder",function(){var e=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(e=!1)}catch(e){}e&&s("."+i.customClass).each(function(){this.value=""})}))});

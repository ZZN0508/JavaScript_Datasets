!function(window,undefined){"use strict";window.RAL=window.RAL||{},RAL.live||function(e,g){var f=e.JSON||{};"function"!=typeof f.stringify&&(f.stringify=function(t,e,n){function h(t){var e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;return e.lastIndex=0,e.test(t)?'"'+t.replace(e,function(t){var e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}var p,o,R="",L="";if("number"==typeof n)for(o=0;o<n;o+=1)L+=" ";else"string"==typeof n&&(L=n);if((p=e)&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw Error("JSON.stringify");return function t(e,n){var o,i,r,a,s,c=R,u=n[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),typeof(u="function"==typeof p?p.call(n,e,u):u)){case"string":return h(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(R+=L,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(a=u.length,o=0;o<a;o+=1)s[o]=t(o,u)||"null";return r=0===s.length?"[]":R?"[\n"+R+s.join(",\n"+R)+"\n"+c+"]":"["+s.join(",")+"]",R=c,r}if(p&&"object"==typeof p)for(a=p.length,o=0;o<a;o+=1)"string"==typeof p[o]&&(r=t(i=p[o],u))&&s.push(h(i)+(R?": ":":")+r);else for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(r=t(i,u))&&s.push(h(i)+(R?": ":":")+r);return r=0===s.length?"{}":R?"{\n"+R+s.join(",\n"+R)+"\n"+c+"}":"{"+s.join(",")+"}",R=c,r}}("",{"":t})}),"function"!=typeof f.parse&&(f.parse=function(a,b){function c(t,e){var n,o,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o=c(i,n),o!==g?i[n]=o:delete i[n]);return b.call(t,e,i)}var d,d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;return a=String(a),d.lastIndex=0,d.test(a)&&(a=a.replace(d,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?(d=eval("("+a+")"),"function"==typeof b?c({"":d},""):d):null}),RAL.a={p:"acc",Ja:"accu",Ka:"cka",La:"afid",Ma:"altitude",Na:"altaccu",Oa:"_ra",Pa:"astime",ia:"bln",Qa:"cc",Ra:"tis",Sa:"chkout",Ta:"chkpt",Ua:"cntln",Va:"cycode",S:"cp",ja:"debug",L:"etype",Xa:"flv",Ya:"genre",Za:"gol",$a:"tms",ab:"head",ka:"ifr",la:"jav",bb:"lat",cb:"ldtime",T:"loc",eb:"long",ma:"navtype",na:"online",fb:"pgid",lc:"pgl",gb:"pgn",hb:"pgt",U:"ckp",V:"ref",URL:"url",ib:"reqc",jb:"rqtime",oa:"res",pa:"ltm",kb:"sq",q:"aid",r:"cks",qa:"cks2",ra:"use_cks",lb:"speed",ta:"tzo",W:"ua",VERSION:"ver",mb:"sresv",sa:"tid"},RAL.ub="1.7.3",RAL.tb="OO1OO",RAL.nb=500,RAL.N="_ra",RAL.ob=730,RAL.s="RAL",RAL.pb="ROFL",RAL.ua="RTID",RAL.mc="RFPR",RAL.Y="cpkg_none=",RAL.X="?"+RAL.Y,RAL.rb=256,RAL.sb=262144,RAL.qb=16,RAL.eventLog=[],RAL.oc=function(){},RAL.nc=function(){},RAL.m=function(t){return"string"==typeof t||"[object String]"===Object.prototype.toString.call(t)},RAL.h=function(t){return RAL.m(t)?t.replace(/^\s+|\s+$/g,""):null},RAL.v=function(t){return"[object Array]"===Object.prototype.toString.call(t)},RAL.w=function(t){return!!t&&"[object Object]"===Object.prototype.toString.call(t)},RAL.ca=function(t,e){if(t&&"object"==typeof t&&e&&"object"==typeof e){for(var n in e)t[n]=e[n];return!0}return!1},RAL.i=function(t,e){var n=RAL.h(t);if(null===n)return null;for(var o=(e=e===g?document.cookie:e)?e.split(";"):"",i=o.length-1;0<=i;i--){var r=o[i].indexOf("=");if(0<r&&RAL.h(o[i].substr(0,r))===n)return o[i].substr(r+1)}return null},RAL.I=function(t,e,n,o){var i;t=RAL.h(t),e=RAL.h(e),n=parseInt(n,10),null===t||null===e||isNaN(n)||(i=new Date,n<=0?i.setTime(0):i.setDate(i.getDate()+n),document.cookie=t+"="+e+"; Expires="+i.toGMTString()+";"+(o?" Domain=."+o+";":"")+" Path=/;"+("https:"===location.protocol?" Secure;":""))},RAL.ac=function(t){RAL.I(t,"",0)},RAL.wb=function(){for(var t,e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e},RAL.Ea=function(t){var e=RAL.s+"TEST";RAL.I(e,e,1,t);var n=RAL.i(e);return RAL.I(e,"",0,t),n===e},RAL.Gb=function(){var t=RAL.N,t=RAL.h(t),e=RegExp("^"+t+"=");if(n=n||document.location.search)for(var n=n.replace(/^\?/,"").split("&"),o=0;o<n.length;o++)if(e.test(n[o]))return decodeURIComponent(n[o].substring(t.length+1));return null},RAL.O=function(t){if(!RAL.m(t))return"0000";for(var e=[0,0,0,0],n=0;n<t.length;++n)e[n%4]+=t.charCodeAt(n);for(n=t=0;n<4;++n)t=(t<<4)+e[n]%16;return("0000"+(t^=Math.floor(65536*Math.random())).toString(16)).slice(-4)},RAL.Fa=function(t){try{var n;if(e.Wa&&"function"==typeof e.Wa)n=new CustomEvent(t,{detail:null}),document.dispatchEvent(n);else if(document.createEvent)(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,null),document.dispatchEvent(n);else{if(!document.createEventObject||!document.fireEvent)throw Error("Cannot instantiate event for "+t);(n=document.createEventObject()).detail=null,document.fireEvent("onpropertychange",n)}}catch(t){}},RAL.f=function(t){this.c={},this.P={},t!==g&&RAL.ca(this.c,t)},RAL.f.prototype.Xb=function(t){return null!=t&&(RAL.m(t)?""!==RAL.h(t):"number"!=typeof t||!isNaN(t)&&isFinite(t))},RAL.f.prototype.d=function(t,e){t=RAL.h(t);null!==t&&""!==t&&this.Xb(e)&&(this.c[t]="string"==typeof e?RAL.h(e):e)},RAL.f.prototype.remove=function(t){null===(t=RAL.h(t))||""===t||t in this.c&&delete this.c[t]},RAL.f.prototype.setParameters=function(t,e){if(RAL.w(t))for(var n in t)this.d(n,t[n]),e&&(this.P[n]=!0)},RAL.f.prototype.Ia=function(t){if(RAL.w(t))for(var e in t){var n;!this.e(e)||this.P[e]?this.d(e,t[e]):(n=this.get(e),RAL.v(n)&&RAL.v(t[e])?this.d(e,n.concat(t[e])):RAL.w(n)&&RAL.w(t[e])?RAL.ca(n,t[e]):this.d(e,t[e]))}},RAL.f.prototype.jc=function(){return f.stringify(this.c)},RAL.f.prototype.get=function(t){return null!==(t=RAL.h(t))&&""!==t&&t in this.c?this.c[t]:null},RAL.f.prototype.e=function(t){return null!==(t=RAL.h(t))&&""!==t&&t in this.c},RAL.f.prototype.ic=function(){var t,e={};for(t in this.c)e[t]=this.c[t];return e},RAL.f.prototype.kc=function(){var t=!1,e=this.get(RAL.a.L);if("scroll"==e||"appear"==e)t=!0;else if("pv"==e)for(var n in this.P)if(this.P.hasOwnProperty(n)){t=!0;break}return t},RAL.M=function(){},RAL.M.prototype.C=function(){},RAL.M.prototype.o=function(){},RAL.M.prototype.J=function(){},RAL.M.prototype.e=function(){},RAL.K=function(){this.n=RAL.s},RAL.K.prototype.C=function(t,e){if(1e3<e.length)return!1;RAL.I(this.n+t,encodeURIComponent(String(e)),365);t=RAL.i(this.n+t);return null!==t&&decodeURIComponent(t)===e},RAL.K.prototype.o=function(t){return null==(t=RAL.i(this.n+t))?null:decodeURIComponent(t)},RAL.K.prototype.J=function(t){RAL.ac(this.n+t)},RAL.K.prototype.e=function(t){return null!==this.o(t)},RAL.D=function(){this.n=RAL.s},RAL.D.prototype.C=function(t,n){try{return e.localStorage.setItem(this.n+t,n),!0}catch(t){}return!1},RAL.D.prototype.o=function(t){return e.localStorage.getItem(this.n+t)},RAL.D.prototype.J=function(t){e.localStorage.removeItem(this.n+t)},RAL.D.prototype.e=function(t){return null!==this.o(t)},RAL.F=function(){},RAL.F.prototype.C=function(){return!0},RAL.F.prototype.o=function(){return null},RAL.F.prototype.J=function(){},RAL.F.prototype.e=function(){return!1},RAL.G=function(){this.u={}},RAL.G.prototype.C=function(t,e){return this.u[t]=e,!0},RAL.G.prototype.o=function(t){return t in this.u?this.u[t]:null},RAL.G.prototype.J=function(t){t in this.u&&delete this.u[t]},RAL.G.prototype.e=function(t){return t in this.u},RAL.b=function(t,n,o){if(this.Da=new Date,!(t=RAL.h(t)))throw"Missing URL!";var i;this.t=t,this.k=[t],this.za=this.R=g,this.$b="pv",this.ha="Rp",this.da="Rz",this.ba=!(navigator&&"onLine"in navigator)||navigator.onLine,this.c=new RAL.f,this.A=this.Lb(),this.g=null,this.Aa=RAL.nb,this.B=n||RAL.pb,this.Ha=o||function(){return!0},this.Z=!0,this.l=[],this.$=!(n=this.va())||8<=n,this.fa=0,e.addEventListener?(e.addEventListener("online",this.H(this.Q,this,[this]),!1),e.addEventListener("offline",this.H(this.Q,this,[this]),!1)):document.body&&(document.body.ononline=this.H(this.Q,this,[this]),document.body.onoffline=this.H(this.Q,this,[this])),n=RAL.Gb()||RAL.i(RAL.N)||"",/^([0-9]+\|[0-9a-f-]+|amp\-[0-9a-zA-Z\_\-]+)+$/.test(n)||(n=[(new Date).getTime(),RAL.wb()].join("|")),o=(document.location.hostname||"").split(".");for(t=2;t<=3&&!i;t++){var r=o.slice(-t).join(".");RAL.Ea(r)&&(i=r)}RAL.I(RAL.N,n,RAL.ob,i),RAL.Fa("RA_PUBLISH")},RAL.b.prototype.Ab=function(){return 2048-(this.t.length+RAL.X.length)},RAL.b.prototype.setMainReceiver=function(t){if(!(0<this.fa)&&RAL.m(t)){t=this.ya(t),this.k[0]=t;for(var e=this.k.length-1;0<e;--e)this.k[e]===t&&this.k.splice(e,1)}},RAL.b.prototype.addReceiver=function(t){if(!(0<this.fa)&&RAL.m(t)){t=this.ya(t);for(var e=0;e<this.k.length;++e)if(this.k[e]===t)return;this.k.push(t)}},RAL.b.prototype.ya=function(t){return"https://"+t.match(/^(?:https?:)?(?:\/\/)?(.*)$/)[1]},RAL.b.prototype.H=function(n,o,i){return function(){var t=i||arguments,t=(t=Array.prototype.slice.call(arguments[0]?arguments:[e.event],0)).concat(i);return n.apply(o||e,t)}},RAL.b.prototype.Ga=function(t){if(!this.Ha||!RAL.v(t)||0===t.length)return null;for(var e=[],n=0;n<t.length;n++){var o=t[n];this.Ha(f.parse(o))&&e.push(o)}return e},RAL.b.prototype.Qb=function(){try{return"localStorage"in e&&null!=e.localStorage}catch(t){return!1}},RAL.b.prototype.Lb=function(){return new(this.Qb()?RAL.D:RAL.Ea()?RAL.G:RAL.F)},RAL.b.prototype.wa=function(){if(e.XDomainRequest)return new XDomainRequest;if(e.XMLHttpRequest)return new XMLHttpRequest;if(e.ActiveXObject)try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(t){}return null},RAL.b.prototype.Sb=function(t){return"string"==typeof t&&null!==t&&/^[a-zA-Z]+$/.test(t)},RAL.b.prototype.Tb=function(t){return"string"==typeof t&&null!==t&&/^[0-9a-zA-Z]+$/.test(t)},RAL.b.prototype.xa=function(t){var e=parseInt(t,10);return!isNaN(e)&&0<e&&e==t},RAL.b.prototype.j=function(t){return"object"==typeof t},RAL.b.prototype.setAccountId=function(t){this.xa(t)&&this.c.d(RAL.a.p,t)},RAL.b.prototype.setCharSet=function(t){this.j(t)||this.c.d(RAL.a.Ra,t)},RAL.b.prototype.Hb=function(){var t,e="";return document.referrer===g||(t=(e=document.referrer).match(/^android-app:\/\/([^//]*)/))&&(e="m.facebook.com"===t[1]?"https://play.google.com/store/apps/details?id=com.facebook.katana":"https://play.google.com/store/apps/details?id="+t[1]),e},RAL.b.prototype.Ob=function(){return document.location.href},RAL.b.prototype.setGoalId=function(t){this.j(t)||this.c.d(RAL.a.Za,t)},RAL.b.prototype.setAffiliateId=function(t){this.j(t)||this.c.d(RAL.a.La,t)},RAL.b.prototype.Vb=function(){if(!navigator.mimeTypes)return!1;for(var t=/^application\/x-java-applet;jpi-version=.*/,e=0;e<navigator.mimeTypes.length;e++)if(t.test(navigator.mimeTypes[e].type))return!0;return!1},RAL.b.prototype.setServiceId=function(t){this.xa(t)&&this.c.d(RAL.a.q,t)},RAL.b.prototype.setVersion=function(t){this.j(t)||this.c.d(RAL.a.VERSION,t)},RAL.b.prototype.setCurrencyCode=function(t){"string"==typeof t&&""!==t&&3<=t.length&&this.Sb(t)&&this.c.d(RAL.a.Va,t.substr(0,3))},RAL.b.prototype.setSearchQuery=function(t){this.j(t)||this.c.d(RAL.a.kb,t)},RAL.b.prototype.setContentLanguage=function(t){this.j(t)||this.c.d(RAL.a.Ua,t)},RAL.b.prototype.setCampaignCode=function(t){this.Tb(t)&&this.c.d(RAL.a.Qa,t)},RAL.b.prototype.setCheckPoints=function(t){isNaN(parseInt(t,10))||this.c.d(RAL.a.Ta,t)},RAL.b.prototype.setCheckout=function(t){switch(t=parseInt(t,10)){case 10:case 20:case 30:case 40:case 50:this.c.d(RAL.a.Sa,t)}},RAL.b.prototype.setRequestResult=function(t){this.j(t)||this.c.d(RAL.a.ib,t)},RAL.b.prototype.xb=function(t){var e=t.getMonth()+1,n=t.getDate(),o=t.getHours(),i=t.getMinutes(),r=t.getSeconds();return t.getFullYear()+"-"+(e<10?"0":"")+e+"-"+(n<10?"0":"")+n+" "+(o<10?"0":"")+o+":"+(i<10?"0":"")+i+":"+(r<10?"0":"")+r},RAL.b.prototype.setPageName=function(t){this.j(t)||this.c.d(RAL.a.gb,t)},RAL.b.prototype.setPageType=function(t){this.j(t)||this.c.d(RAL.a.hb,t)},RAL.b.prototype.setGenre=function(t){this.j(t)||this.c.d(RAL.a.Ya,t)},RAL.b.prototype.setCustomParameters=function(t){var e,n;t&&(e=t,this.c.e(RAL.a.S)&&(n=this.c.get(RAL.a.S),RAL.ca(n,t)&&(e=n)),this.c.d(RAL.a.S,e))},RAL.b.prototype.setViewImpressions=function(t){this.c.d(RAL.a.mb,t)},RAL.b.prototype.setParameters=function(t){this.c.setParameters(t)},RAL.b.prototype.appendParameters=function(t){if(RAL.w(t))for(var e in t){var n;this.c.e(e)?("object"!=typeof(n=this.c.get(e))&&(n=[]),this.c.d(e,[].concat(n).concat(t[e]))):"object"==typeof t[e]?this.c.d(e,t[e]):this.c.d(e,[t[e]])}},RAL.b.prototype.setOptions=function(t){if(RAL.v(t)){for(var e={},n=0,o=t.length;n<o;++n)e[t[n]]=!0;this.Ca(e)}},RAL.b.prototype.Wb=function(){return e.navigator.userAgent!==g&&-1!==e.navigator.userAgent.search(/RAL/i)},RAL.b.prototype.detectFlashVersion=function(){if(document.images){var t,e=null,n=!1;navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]?(t=navigator.mimeTypes["application/x-shockwave-flash"]).enabledPlugin&&t.enabledPlugin.description&&(e=t.enabledPlugin.description,n=!0):navigator.plugins&&"Shockwave Flash"in navigator.plugins&&(e=navigator.plugins["Shockwave Flash"].description.match(/[\d]+/g).join("."),n=!0);try{n||(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version"))}catch(t){}this.c.d(RAL.a.Xa,e)}},RAL.b.prototype.setCookieNames=function(t,e){RAL.w(t)?(RAL.a.r in t&&(this.ha=t[RAL.a.r]),RAL.a.U in t&&(this.da=t[RAL.a.U])):(e&&RAL.m(e)&&(this.ha=e),t&&RAL.m(t)&&(this.da=t))},RAL.b.prototype.Kb=function(){return RAL.i(this.ha)},RAL.b.prototype.Fb=function(){return RAL.i(this.da)},RAL.b.prototype.yb=function(){return navigator.browserLanguage||navigator.language||RAL.tb},RAL.b.prototype.Nb=function(){return-this.Da.getTimezoneOffset()/60},RAL.b.prototype.Pb=function(){return navigator.userAgent},RAL.b.prototype.Jb=function(){return e.screen.width+"x"+e.screen.height},RAL.b.prototype.va=function(){if("Microsoft Internet Explorer"===navigator.appName){var t=navigator.userAgent.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/);if(null!==t&&(t=parseFloat(t[1]),!isNaN(t)))return t}return g},RAL.b.prototype.Mb=function(){var n;if(this.R?n=this.R:e.sessionStorage&&(n=e.sessionStorage.getItem(RAL.s+RAL.ua)),!n)if(n=(n=Math.floor(65536*Math.random())).toString(16)+(17*n&65535).toString(16),e.sessionStorage)try{e.sessionStorage.setItem(RAL.s+RAL.ua,n)}catch(t){this.R=n}else this.R=n;return n},RAL.b.prototype.Db=function(){var t=this.za;return t||(this.za=t=RAL.O(document.location.href)+RAL.O(document.referrer)+RAL.O(navigator.userAgent)+RAL.O((new Date).getTime().toString())),t},RAL.b.prototype.Ib=function(t){if(0<t.navigationStart&&0<t.domLoading){if(t.domLoading<t.navigationStart)throw"UnexpectedTimingException";return t.domLoading-t.navigationStart}return g},RAL.b.prototype.Eb=function(t){if(0<t.domLoading&&0<t.domContentLoadedEventStart){if(t.domContentLoadedEventStart<t.domLoading)throw"UnexpectedTimingException";return t.domContentLoadedEventStart-t.domLoading}return g},RAL.b.prototype.Cb=function(t){if(0<t.domContentLoadedEventStart&&0<t.domComplete){if(t.domComplete<t.domContentLoadedEventStart)throw"UnexpectedTimingException";return t.domComplete-t.domContentLoadedEventStart}return g},RAL.b.prototype.zb=function(){if("performance"in e&&e.performance.timing){var t=e.performance.timing,n={},o=!1;try{n[RAL.a.jb]=this.Ib(t)}catch(t){o=!0}try{n[RAL.a.cb]=this.Eb(t)}catch(t){o=!0}try{n[RAL.a.Pa]=this.Cb(t)}catch(t){o=!0}return o&&(n[RAL.a.ja]={},n[RAL.a.ja].nav_timing=t),n}return g},RAL.b.prototype.Bb=function(){return"performance"in e&&e.performance.navigation?e.performance.navigation.type:g},RAL.b.prototype.Ub=function(){return e===e.parent||e.isAmp?0:1},RAL.b.prototype.setEvent=function(t){RAL.m(t)&&(this.c.d(RAL.a.L,t),t==this.$b?this.pageViewEvent():this.ea())},RAL.b.prototype.setXHRAllowed=function(t){this.Z=!!t},RAL.b.prototype.pageViewEvent=function(){!this.Wb()&&(this.c.e(RAL.a.p)&&this.c.e(RAL.a.q)||this.Rb())&&(this.Ca(),this.ea())},RAL.b.prototype.removeEventLogs=function(){RAL.eventLog=[]},RAL.b.prototype.Ca=function(t){t&&!t[RAL.a.pa]||this.c.d(RAL.a.pa,this.xb(this.Da)),t&&!t[RAL.a.URL]||this.c.e(RAL.a.URL)||this.c.d(RAL.a.URL,this.Ob()),t&&!t[RAL.a.V]||this.c.e(RAL.a.V)||this.c.d(RAL.a.V,this.Hb()),t&&!t[RAL.a.sa]||this.c.d(RAL.a.sa,this.Mb()),t&&!t[RAL.a.ta]||this.c.d(RAL.a.ta,this.Nb()),t&&!t[RAL.a.oa]||this.c.d(RAL.a.oa,this.Jb()),t&&!t[RAL.a.la]||this.c.d(RAL.a.la,this.Vb()),t&&!t[RAL.a.ia]||this.c.d(RAL.a.ia,this.yb()),t&&!t[RAL.a.W]||this.c.e(RAL.a.W)||this.c.d(RAL.a.W,this.Pb()),t&&!t[RAL.a.na]||this.c.d(RAL.a.na,this.ba),t&&!t[RAL.a.VERSION]||this.c.d(RAL.a.VERSION,RAL.ub),t&&!t[RAL.a.T]||(null===this.g?this.c.remove(RAL.a.T):this.c.d(RAL.a.T,this.g)),t&&!t.perf||this.c.Ia(this.zb()),t&&!t[RAL.a.ma]||this.c.d(RAL.a.ma,this.Bb()),t&&!t[RAL.a.ka]||this.c.d(RAL.a.ka,this.Ub())},RAL.b.prototype.cc=function(t){if(!this.$)return!!this.ga([t]);try{var e=this.wa();e&&(e.open("GET",this.t+RAL.X+encodeURIComponent(t),!0),e.withCredentials=!0,e.send(""))}catch(t){return!1}return!0},RAL.b.prototype.dc=function(t){try{document.createElement("img").src=this.t+RAL.X+encodeURIComponent(t)+"&t="+(new Date).getTime()}catch(t){return!1}return!0},RAL.b.prototype.Ba=function(t){try{if(0===t.length)return!0;var e=1===t.length?t[0]:"["+t.join(",")+"]",n=this.wa();n&&(n.open("POST",this.t,!0),this.va()||n.setRequestHeader("Content-type","text/plain; charset=UTF-8"),n.withCredentials=!0,n.send(RAL.Y+e))}catch(t){return!1}return!0},RAL.b.prototype.ga=function(t){if(!document.body)return!1;if(0===t.length)return!0;t=1===t.length?t[0]:"["+t.join(",")+"]";var e=document.createElement("iframe");if(e.name=RAL.s+String(Math.floor(2147483648*Math.random())),e.style.display="none",document.body.appendChild(e),e.contentWindow){e.contentWindow.name=e.name;var n=document.createElement("form");n.target=e.name,n.action=this.t.replace("http:","https:"),n.method="POST",n.encoding=n.enctype="text/plain",n.style.display="none";var o=document.createElement("input");return o.type="hidden",o.name=RAL.Y.replace("=",""),o.value=t,n.appendChild(o),document.body.appendChild(n),n.submit(),document.body.removeChild(n),document.body.removeChild(e),!0}return!1},RAL.b.prototype.bc=function(t){if(null===t||"object"!=typeof t||0===t.length)return!0;return 1===t.length?encodeURIComponent(t[0]).length<this.Ab()?e.XDomainRequest||!this.Z?this.dc(t[0]):this.cc(t[0]):this.$&&!e.XDomainRequest?this.Ba(t):this.ga(t):this.$&&!e.XDomainRequest&&this.Z?this.Ba(t):this.ga(t)},RAL.b.prototype.hc=function(t,e){var n=null;if(t.e(RAL.a.p)&&t.e(RAL.a.q)){var o=/\bsplash\b/i.test(navigator.userAgent)?"splash_agent":this.Kb();if(t.d(RAL.a.r,o),/\bra_uid\b/.test(document.cookie)&&(o=RAL.i("ra_uid"))&&((n=(o=decodeURIComponent(o)).match(/^"(.*)"$/))&&(o=n[1]),(n=RAL.i("rat_uid",o))&&t.d(RAL.a.r,n),(o=RAL.i("a_uid",o))&&t.d(RAL.a.Ka,o)),o=RAL.i(RAL.N),t.d(RAL.a.Oa,o),t.e(RAL.a.r)?(t.d(RAL.a.ra,!0),t.d(RAL.a.qa,t.get(RAL.a.r))):(t.d(RAL.a.ra,!1),t.d(RAL.a.qa,o)),t.d(RAL.a.U,this.Fb()),this.ec(t),n=t.jc(),(o=this.aa()).length>=RAL.rb&&(o=this.Ga(o)||o),n.length+o.join().length>RAL.sb&&this.Ga(o),this.vb(n)&&(n=null,e))return}if(this.ba){o=this.aa(),n&&o.push(n);for(var n=Math.min(o.length,RAL.qb),n=o.splice(0,n),i=!1,r=0;r<this.k.length;++r)this.t=this.k[r],i=this.bc(n)||i;if(i){for(this.fa++,i=0;i<n.length;++i)try{RAL.eventLog.push(f.parse(n[i]))}catch(t){}RAL.Fa("RAT_REQUEST_DONE"),this.fc(o)}}},RAL.b.prototype.ec=function(t){var e=["Rg","Rt","BTA001"];if(RAL.v(e))for(var n,o,i=0;i<e.length;i++)n=e[i],null!==(o=RAL.i(n))&&t.d(n,decodeURIComponent(o))},RAL.b.prototype.Q=function(t){t=t||e.event,this.ba="online"===t.type},RAL.b.prototype.Rb=function(){return this.A.e(this.B)},RAL.b.prototype.aa=function(){return this.A.e(this.B)?this.A.o(this.B).split("\t"):[]},RAL.b.prototype.fc=function(t){t&&t instanceof Array&&(0===t.length?this.A.J(this.B):this.A.C(this.B,t.join("\t")))},RAL.b.prototype.vb=function(t){var e=!1;return t&&((e=this.aa()).push(t),e=this.A.C(this.B,e.join("\t"))),e},RAL.b.prototype.gc=function(t){this.g={},this.g[RAL.a.bb]=t.coords.latitude,this.g[RAL.a.eb]=t.coords.longitude,this.g[RAL.a.Ja]=t.coords.accuracy,t.coords.speed&&(this.g[RAL.a.lb]=t.coords.speed),t.coords.altitude&&(this.g[RAL.a.Ma]=t.coords.altitude),t.coords.heading&&(this.g[RAL.a.ab]=t.coords.heading),t.coords.altitudeAccuracy&&(this.g[RAL.a.Na]=t.coords.altitudeAccuracy),this.g[RAL.a.$a]=t.timestamp},RAL.b.prototype.Zb=function(){},RAL.b.prototype.getLocation=function(){navigator.geolocation&&(this.g=null,navigator.geolocation.getCurrentPosition(this.H(this.gc,this,[this]),this.Zb))},RAL.b.prototype.setReportingInterval=function(t){t=parseInt(t,10),!isNaN(t)&&0<t&&(this.Aa=t)},RAL.b.prototype.ea=function(){this.c.e(RAL.a.p)&&this.c.e(RAL.a.q)&&(this.c.d(RAL.a.fb,this.Db()),this.l.push(this.c),this.c=new RAL.f)},RAL.b.prototype.Yb=function(){this.ea();for(var t,e,n=0,o=1;o<this.l.length;)t=this.l[n],e=this.l[o],t.get(RAL.a.p)===e.get(RAL.a.p)&&t.get(RAL.a.q)===e.get(RAL.a.q)&&t.get(RAL.a.L)===e.get(RAL.a.L)&&t.kc()?(t.Ia(e.ic()),this.l.splice(o,1)):(n++,o++)},RAL.b.prototype.processQueue=function(){var t=this;if(RAL.v(RAL.callQueue))try{for(;0<RAL.callQueue.length;){var n,o=(n=RAL.callQueue.shift())[0];o in this&&this[o].apply(this,n.slice(1))}for(this.Yb();0<this.l.length;){var i=1==this.l.length;this.hc(this.l.shift(),!i)}}catch(t){}e.setTimeout(function(){t.processQueue()},this.Aa)},new RAL.b("https://rat.rakuten.co.jp/").processQueue(),RAL.live=!0}(window)}(window);

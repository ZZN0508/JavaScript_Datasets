(self.webpackChunklite=self.webpackChunklite||[]).push([[9684],{90264:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var a=n(67294);function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,a=arguments[e];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}var o=a.createElement("path",{d:"M14 14.05a1 1 0 0 1-1 1H6a.99.99 0 0 1-1-1v-4a1 1 0 0 1 1-1h7a.99.99 0 0 1 1 1v4zm-7-8.6c0-1.26 1.11-2.3 2.5-2.3S12 4.19 12 5.45v2.6H7v-2.6zm6 2.6v-2.6c0-1.83-1.58-3.3-3.5-3.3S6 3.62 6 5.45v2.6a2 2 0 0 0-2 2v4a1.99 1.99 0 0 0 2 2h7a2 2 0 0 0 2-2v-4a1.99 1.99 0 0 0-2-2z",fillRule:"evenodd"});const i=function(t){return a.createElement("svg",r({width:19,height:19},t),o)}},638:(t,e,n)=>{"use strict";n.d(e,{u:()=>m});function a(){return null}var e=n(63038),l=n.n(e),u=n(67294),r=n(85740),o=n(34675),s=n(51512),i=n(8403),c=n(67297),g=n(15412),d=n(92154),m=function(){var t=(0,c.p9)(function(t){return t.config.isAmp});return(0,o.cD)().isBot||t?null:u.createElement(r.bZ,{name:"dont_track_user",placeholder:a},function(t){return t?null:u.createElement(u.Fragment,null,u.createElement("script",null,"window.PARSELY = window.PARSELY || {autotrack: false}"),u.createElement(o.I8,null,function(t){return u.createElement(p,{viewer:t})}))})},p=function(t){var e=t.viewer,n=(0,c.v9)(function(t){return t.navigation.currentLocation}),a=(0,c.v9)(function(t){return t.navigation.referrer}),t=e?e.mediumMemberAt?"member":"user":"visitor",e=(0,i.PM)();return f(n,a,e,t),null},f=function(t,e,n,a){var r=(0,g.G)("//d1z2jf7jlzjs58.cloudfront.net/keys/medium.com/p.js",{id:"parsely-cf"}),r=l()(r,2),o=r[0],i=r[1],c=(0,d.l)();u.useEffect(function(){o&&!i&&c({resource:function(){return window.PARSELY.beacon},callback:function(){return window.PARSELY.beacon.trackPageView({url:function(t,e){if(!t)return"";if(!e)return t;var n=new URL(t),a=(0,s.P7)(e),t=a.name,e=a.dimension;t&&n.searchParams.set("utm_medium",t),e&&(a=e.split("."),t=l()(a,3),e=t[0],a=t[1],t=t[2],e&&n.searchParams.set("utm_source",e),a&&n.searchParams.set("utm_term",a),t&&n.searchParams.set("utm_content",t));return n.toString()}(t,n),urlref:e,js:1,data:{viewerStatus:a}})},max:10})},[t,e,o,i])}},66612:(t,e,n)=>{"use strict";n.d(e,{F:()=>o,l:()=>i});var e=n(28655),a=n.n(e),e=n(71439),l=n(67294),u=n(8558),s=n(22091);function r(){var t=a()(["\n  fragment BookCover_bookEdition on BookEdition {\n    cover\n  }\n"]);return t}var o=function(t){var e=t.bookEdition,n=t.width,a=t.marginRight,r=t.marginBottom,o=t.marginLeft,i=t.marginTop,c=t.height,t=t.strategy;return l.createElement(s.xu,{marginRight:a,marginLeft:o,marginTop:i,marginBottom:r},e.cover?l.createElement(u.UV,{miroId:e.cover,width:n,height:c,strategy:t}):l.createElement(s.xu,{height:"".concat(c||1.5*n,"px"),width:"".concat(n,"px"),backgroundColor:"BASE_NORMAL"}))},i=(0,e.Ps)(r())},73976:(t,e,n)=>{"use strict";n.d(e,{n:()=>function(t){var e=t.target,n=t.kind,a=t.catalogs;return t.isLoading?r.createElement(o.xu,{display:"flex",justifyContent:"center",padding:"40px 0"},r.createElement(c.F,{color:"DARKER",scale:"L"},r.createElement(i.T,null))):a?r.createElement(r.Fragment,null,a.map(function(t){return r.createElement(p,{key:t.id,catalog:t,target:e,kind:n})})):null},E:()=>v});var e=n(28655),a=n.n(e),e=n(71439),r=n(67294),o=n(22091),i=n(4353),c=n(64504),l=n(16072),u=n(28309),s=n(14391),g=n(90264);function d(){var t=a()(["\n  fragment CatalogAddToListItem_catalog on Catalog {\n    id\n    name\n    visibility\n  }\n"]);return t}var m={display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"16px","& > label":{width:"calc(100% - 10px)","& > div":{flexShrink:0},"& > p":{marginRight:"10px",textAlign:"left"}}};function p(t){var n=t.catalog,e=t.target,t=t.kind,a=(0,u.Iq)();return r.createElement(l.jo,{target:e,kind:t,catalogId:n.id},function(t){var e=t.toggleInsideCatalog,t=t.isInsideCatalog;return r.createElement("div",{className:a(m)},r.createElement(o.XZ,{key:n.id,checked:t,checkboxStyle:"OBVIOUS",onChange:e,disabled:n.visibility===s.n2.LOCKED,textScale:"L",clampText:1},n.name),n.visibility!==s.n2.PUBLIC&&r.createElement(g.Z,null))})}n=(0,e.Ps)(d());function f(){var t=a()(["\n  fragment CatalogAddToList_catalog on Catalog {\n    ...CatalogAddToListItem_catalog\n  }\n  ","\n"]);return t}var v=(0,e.Ps)(f(),n)},16084:(t,e,n)=>{"use strict";n.d(e,{W:()=>d,CT:()=>m,e7:()=>p,dw:()=>f,BY:()=>function(t,e,n){var a=t.readQuery({query:h,variables:n}),r=null===(o=e.data)||void 0===o?void 0:o.createCatalog;{var o;r&&(e=d-1,o=null!==(o=null==a?void 0:a.catalogsByUser.catalogs)&&void 0!==o?o:[],o=o.length>e?o.slice(0,e):o,o=g(g({},a),{},{catalogsByUser:g(g({},null==a?void 0:a.catalogsByUser),{},{catalogs:[r].concat(i()(o))})}),t.writeQuery({query:h,variables:n,data:o}))}},jk:()=>v,Dk:()=>h});var a=n(28655),r=n.n(a),e=n(319),i=n.n(e),a=n(59713),o=n.n(a),e=n(71439),c=n(34675),l=n(14391),a=n(8769),n=n(73976);function u(){var t=r()(["\n  query GetCatalogsByUser(\n    $userId: ID!\n    $pagingOptions: CatalogPagingOptionsInput!\n    $type: CatalogType!\n    $isPaginated: Boolean!\n    $withCatalogDetails: Boolean!\n  ) {\n    catalogsByUser(userId: $userId, pagingOptions: $pagingOptions, type: $type) {\n      __typename\n      catalogs @skip(if: $withCatalogDetails) {\n        ...CatalogAddToList_catalog\n      }\n      catalogs @include(if: $withCatalogDetails) {\n        ...YourCatalogsScreen_catalog\n      }\n\n      paging @include(if: $isPaginated) {\n        __typename\n        nextPageCursor {\n          id\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return t}function s(e,t){var n,a=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)),a}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=5,m=20,p=100,f=function(t){var e=t.limit,n=t.isPaginated,a=void 0!==n&&n,n=t.withCatalogDetails,t=void 0!==n&&n,n=(0,c.Hk)().value;return{userId:null!==(n=null==n?void 0:n.id)&&void 0!==n?n:"",pagingOptions:{limit:e},type:l.HQ.LISTS,isPaginated:a,withCatalogDetails:t}};var v=function(t){var e;return null!==(e=null==t||null===(e=t.catalogsByUser)||void 0===e?void 0:e.catalogs)&&void 0!==e?e:[]},h=(0,e.Ps)(u(),n.E,a.G)},16072:(t,e,n)=>{"use strict";n.d(e,{Ax:()=>m,jo:()=>function(t){var e=t.children,n=(t.target,t.kind,t.catalogId,function(){return null}),t=c.useState(!1),t=o()(t,2),a=t[0],r=t[1];return e({toggleInsideCatalog:function(){return r(!a),a?null:n()},isInsideCatalog:a})},ok:()=>p,BH:()=>f,o:()=>v});var e=n(63038),o=n.n(e),e=n(28655),a=n.n(e),e=n(71439),i=n(46829),c=n(67294),l=n(16084);function r(){var t=a()(["\n  mutation EditCatalogItemAnnotation(\n    $catalogId: String!\n    $catalogItemId: String!\n    $annotation: CatalogItemAnnotationInput\n  ) {\n    editCatalogItemAnnotation(\n      catalogId: $catalogId\n      catalogItemId: $catalogItemId\n      annotation: $annotation\n    ) {\n      __typename\n      ... on CatalogItemV2 {\n        catalogId\n        catalogItemId\n        userAnnotation {\n          annotation\n        }\n        entity {\n          __typename\n          ... on Post {\n            id\n          }\n          ... on BookEdition {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return t}function u(){var t=a()(["\n  mutation DeleteCatalog($catalogId: String!) {\n    deleteCatalog(catalogId: $catalogId) {\n      __typename\n      ... on MutationSuccess {\n        success\n      }\n    }\n  }\n"]);return t}function s(){var t=a()(["\n  mutation UpdateCatalog($catalogId: String!, $attributes: UpdateCatalogInput!) {\n    updateCatalog(catalogId: $catalogId, attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        name\n        visibility\n        description\n      }\n    }\n  }\n"]);return t}function g(){var t=a()(["\n  mutation CreateCatalog($attributes: CreateCatalogInput!) {\n    createCatalog(attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        name\n        visibility\n      }\n    }\n  }\n"]);return t}var d=(0,e.Ps)(g()),m=function(t,e){var n=(0,l.dw)({limit:l.W}),a=(0,i.useMutation)(d,{onCompleted:function(t){t.createCatalog.__typename},update:function(t,e){(0,l.BY)(t,e,n)}}),a=o()(a,2),r=a[0],a=a[1];return{createCatalog:function(t){return r({variables:t})},loading:a.loading,data:a.data,error:a.error}};var p=(0,e.Ps)(s()),f=(0,e.Ps)(u()),v=(0,e.Ps)(r())},25752:(t,e,n)=>{"use strict";n.d(e,{z:()=>a});var a=n(67294).createContext({isFetching:!1})},67900:(t,e,n)=>{"use strict";n.d(e,{P:()=>a});var e=n(34575),o=n.n(e),e=n(93913),i=n.n(e),e=n(81506),c=n.n(e),e=n(2205),l=n.n(e),e=n(78585),u=n.n(e),e=n(29754),s=n.n(e),g=n(67294),d=n(25752),a=function(t){l()(r,t);var n,a,e=(n=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=s()(n);return e=a?(t=s()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),u()(this,e)});function r(t){return o()(this,r),(t=e.call(this,t)).bottomEdgeEl=void 0,t.maybeFetch=void 0,t.state={isFetching:!1},t.maybeFetch=t._maybeFetch.bind(c()(t)),t}return i()(r,[{key:"componentDidMount",value:function(){this.attachScrollListener(),this._maybeFetch()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener()}},{key:"_maybeFetch",value:function(){var t,e,n,a=this;!this.bottomEdgeEl||this.state.isFetching||(t=this.props.fetchMore)&&(e=this.bottomEdgeEl.getBoundingClientRect(),n=window.innerHeight,e.top-n<3*n&&(this.setState({isFetching:!0}),t().then(function(){a.setState({isFetching:!1}),a._maybeFetch()})))}},{key:"attachScrollListener",value:function(){window.addEventListener("scroll",this.maybeFetch),window.addEventListener("resize",this.maybeFetch)}},{key:"detachScrollListener",value:function(){window.removeEventListener("scroll",this.maybeFetch),window.removeEventListener("resize",this.maybeFetch)}},{key:"render",value:function(){var e=this,t=this.props.children;return g.createElement(d.z.Provider,{value:{isFetching:this.state.isFetching}},g.createElement("div",null,t,g.createElement("div",{ref:function(t){e.bottomEdgeEl=t}})))}}]),r}(g.Component)},8769:(t,e,n)=>{"use strict";n.d(e,{Z:()=>P,G:()=>k});var a=n(28655),r=n.n(a),e=n(71439),i=n(67294),o=n(638),c=n(22091),l=n(64504),u=n(28309),s=n(14391),g=n(90264),d=n(27390),m=n(27952),p=n(66612),f=n(8558),v=n(90038);function h(){var t=r()(["\n  fragment CatalogsCover_catalogItemV2 on CatalogItemV2 {\n    entity {\n      __typename\n      ... on BookEdition {\n        ...BookCover_bookEdition\n      }\n      ... on Post {\n        previewImage {\n          id\n          alt\n        }\n      }\n    }\n  }\n  ","\n"]);return t}var y=function(t){var e,t=null===(n=t.catalogItems[0])||void 0===n?void 0:n.entity,n=i.createElement(c.xu,{height:"".concat(184,"px"),width:"".concat(184,"px"),backgroundColor:"BASE_NORMAL"});return t&&("BookEdition"===t.__typename?n=i.createElement(p.F,{bookEdition:t,width:184,height:184,strategy:v._S.Crop}):"Post"===t.__typename&&null!==(e=t.previewImage)&&void 0!==e&&e.id&&(n=i.createElement(f.UV,{miroId:t.previewImage.id,alt:t.previewImage.alt||"",width:184,height:184,strategy:v._S.Crop}))),i.createElement(c.xu,{height:"".concat(184,"px")},n)},a=(0,e.Ps)(h(),p.l);function b(){var t=r()(["\n  fragment CatalogsListItem_catalog on Catalog {\n    id\n    name\n    visibility\n    ...catalogUrl_catalog\n    itemsConnection(pagingOptions: {limit: 3}) {\n      items {\n        catalogItemId\n        ...CatalogsCover_catalogItemV2\n      }\n      paging {\n        count\n      }\n    }\n  }\n  ","\n  ","\n"]);return t}function E(t){var e=t.catalog,n=(0,u.Iq)(),a=e.name,r=e.visibility,o=e.itemsConnection,t=e.id;return i.createElement(c.rU,{href:(0,m.ykG)(e)},i.createElement(c.xu,{key:e.id,border:"BASE_LIGHTER",borderRadius:"4px",marginBottom:"40px",maxWidth:"680px",width:"100%",display:"flex",justifyContent:"space-between",xs:{flexDirection:"column"},sm:{flexDirection:"column"},md:{flexDirection:"row"},lg:{flexDirection:"row"},xl:{flexDirection:"row"}},i.createElement(c.xu,{key:t,display:"flex",flexDirection:"column",padding:"24px 24px 29px",justifyContent:"space-between"},i.createElement(l.X6,{clamp:2,scale:"S"},a),i.createElement(c.xu,{display:"flex"},i.createElement(l.F,{scale:"S",color:"LIGHTER"},1===o.paging.count?"".concat(o.paging.count," item"):"".concat((0,d.rR)(o.paging.count)," items")),i.createElement(c.xu,{paddingLeft:"8px"},r!==s.n2.PUBLIC&&i.createElement(g.Z,{className:n(C)})))),i.createElement(y,{catalogItems:o.items})))}var C=function(t){return{fill:t.baseColor.text.lighter}},a=(0,e.Ps)(b(),a,m.UiF),x=n(26463),w=n(67900);function I(){var t=r()(["\n  fragment YourCatalogsScreen_catalog on Catalog {\n    ...CatalogsListItem_catalog\n  }\n  ","\n"]);return t}var P=function(t){var e=t.catalogs,t=t.fetchMore;return i.createElement(c.xu,{paddingBottom:"50px",backgroundColor:"BACKGROUND"},i.createElement(o.u,null),i.createElement(x.kw,null),i.createElement(c.Pm,{size:"outset"},i.createElement(c.xu,{maxWidth:"740px"},i.createElement(c.xu,{paddingBottom:"20px",xs:{marginTop:"20px"},sm:{marginTop:"20px"},md:{marginTop:"-20px"},lg:{marginTop:"-20px"},xl:{marginTop:"-20px"}},i.createElement(l.X6,{scale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},tag:"h1"},"Your lists")),i.createElement(c.sk,{items:[{title:"Lists",href:(0,m.be7)()}]}),i.createElement(c.xu,{marginTop:"50px"},i.createElement(w.P,{fetchMore:t},e.map(function(t){return i.createElement(E,{catalog:t})}))))))},k=(0,e.Ps)(I(),a)},29315:(t,e,n)=>{"use strict";n.d(e,{N:()=>function(t,e,n,a){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"fetchMoreResult",o=(0,y.useQuery)(t,{variables:e}),i=o.data,c=o.fetchMore;if(!i||o.error)return b(b({},o),{},{fetchMore:void 0});var l=null===(m=n(i))||void 0===m?void 0:m.next,u=null===(p=n(i))||void 0===p?void 0:p.nextCursor,s={};{var g,d,m,p,f,v;(l||u)&&(l?(g=l.limit,d=l.page,t=l.source,m=l.to,n=l.from,i=l.since,p=l.order,f=l.ignoredIds,s={limit:g,page:d,to:m,source:t,from:n,since:i,order:p,ignoredIds:void 0===f?[]:f}):u&&(f=u.cursor,v=u.limit,s={cursor:f,limit:v}),v=function(){return c({variables:b(b({},e),{},{pagingOptions:s}),updateQuery:function(t,e){e=e.fetchMoreResult;return h()({},"previousResult"===r?t:e,a(t,e))}})})}return b(b({},o),{},{fetchMore:v})}});var e=n(59713),a=n.n(e),e=n(82492),h=n.n(e),y=n(46829);function r(e,t){var n,a=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)),a}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}}}]);

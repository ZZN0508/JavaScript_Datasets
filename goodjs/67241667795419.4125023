(window.QJP=window.QJP||[]).push([["progress"],{"fM/T":function(t,e,r){var n;r("JfAA"),r("4mDm"),r("3bBZ"),n=[e,r("cW0E")],void 0===(r="function"==typeof(r=function(t,u){"use strict";var c=u.kotlin.to_ujzrz7$,a=new u.Long(-1627869184,3),d=u.kotlin.collections.emptyList_287e2$,p=u.kotlin.collections.minus_q4559j$,l=u.toString,o=u.kotlin.collections.takeLast_yzln2o$,e=u.Kind.OBJECT,f=u.kotlin.collections.collectionSizeOrDefault_ba2ldo$,y=u.kotlin.collections.mapCapacity_za3lpa$,m=u.kotlin.ranges.coerceAtLeast_dqglrj$,I=u.kotlin.collections.LinkedHashMap_init_bwtc7$,g=u.kotlin.collections.LinkedHashMap_init_q3lmfv$,_=u.kotlin.collections.ArrayList_init_287e2$,i=u.kotlin.collections.addAll_ipc267$,h=u.kotlin.IllegalArgumentException_init_pdl1vj$,s=u.kotlin.collections.sortedWith_eknfly$,r=u.wrapFunction,T=u.kotlin.Comparator,n=u.kotlin.collections.listOf_i5x0yv$,C=u.Kind.CLASS,w=u.kotlin.collections.ArrayList_init_ww73n8$,v=u.kotlin.Enum,E=u.throwISE,S=u.kotlin.NoSuchElementException,A=(u.Long.fromInt(1e3),u.Long.fromInt(6e4),u.Long.fromInt(36e5),u.Long.fromInt(864e5),new u.Long(-1702967296,0),u.kotlin.collections.toDoubleArray_tcduak$),O=u.kotlin.js.json_pyyo18$,$=u.kotlin.collections.copyToArray;(z.prototype=Object.create(v.prototype)).constructor=z,(yt.prototype=Object.create(v.prototype)).constructor=yt;var b=r(function(){var o=u.kotlin.comparisons.compareValues_s00gnj$;return function(n){return function(t,e){var r=n;return o(r(t),r(e))}}});function R(){(M=this).NUM_LATEST_ANSWERS_TO_CHECK_0=2}function L(t){return t.timestamp}R.prototype.getProgressBucketsFromAnswers_r8kuuu$=function(t,e){for(var r=this.getResetTimeByContainerId_0(t),n=this.getFilteredAnswerHistoriesByContainerIdByItemId_0(e,r),r=m(y(f(t,10)),16),o=I(r),i=t.iterator();i.hasNext();){var s=i.next(),s=c(s.containerId.toString(),this.getProgressBucketsFromAnswersForContainer_0(s,n));o.put_xwzc9p$(s.first,s.second)}return o},R.prototype.getResetTimeByContainerId_0=function(t){for(var e=m(y(f(t,10)),16),r=I(e),n=t.iterator();n.hasNext();){var o=n.next(),o=c(o.containerId,o.resetTime);r.put_xwzc9p$(o.first,o.second)}return r},R.prototype.getFilteredAnswerHistoriesByContainerIdByItemId_0=function(t,e){for(var r=g(),n=t.iterator();n.hasNext();){var o,i=n.next(),s=i.containerId,a=r.get_11rb$(s),a=null==a?(o=_(),r.put_xwzc9p$(s,o),o):a;a.add_11rb$(i)}for(var u=I(y(r.size)),c=r.entries.iterator();c.hasNext();){var d=c.next(),p=u.put_xwzc9p$,l=d.key,f=d.key,d=d.value,f=e.get_11rb$(f);p.call(u,l,this.groupHistoriesByItemId_0(d,f))}return u},R.prototype.groupHistoriesByItemId_0=function(t,e){for(var r=g(),n=t.iterator();n.hasNext();){var o,i=n.next(),s=i.itemId,a=r.get_11rb$(s),a=null==a?(o=_(),r.put_xwzc9p$(s,o),o):a;a.add_11rb$(i)}for(var u=I(y(r.size)),c=r.entries.iterator();c.hasNext();){var d=c.next(),p=u.put_xwzc9p$,l=d.key,d=d.value;p.call(u,l,this.getFilteredAnswerHistories_0(d,e))}for(var f=g(),m=u.entries.iterator();m.hasNext();){var h=m.next();h.value.isEmpty()||f.put_xwzc9p$(h.key,h.value)}return f},R.prototype.getFilteredAnswerHistories_0=function(t,e){for(var r=_(),n=t.iterator();n.hasNext();){var o=n.next().answerHistories;i(r,o)}return this.filterAnswerHistories_0(r,e)},R.prototype.filterAnswerHistories_0=function(t,e){for(var r=Qt().subtract(a),n=null==e||0<=r.compareTo_11rb$(e)?r:e,o=_(),i=t.iterator();i.hasNext();){var s=i.next();q(s.studyModeType)&&0<s.timestamp.compareTo_11rb$(n)&&o.add_11rb$(s)}return o},R.prototype.getProgressBucketsFromAnswersForContainer_0=function(t,e){if(null==(c=e.get_11rb$(t.containerId)))return new Wt(t.itemIds,d(),d());for(var r=c,n=p(t.itemIds,r.keys),e=p(t.itemIds,n),o=_(),i=e.iterator();i.hasNext();){var s=i.next(),a=r.get_11rb$(s);if(null==a){var u="Answers summary must exist for container: "+l(function(t){return function(){return t.containerId}}(t))+" item: "+l(function(t){return function(){return t}}(s));throw h(u.toString())}this.isItemMastered_0(a)&&o.add_11rb$(s)}var c=o;return new Wt(n,p(e,c),c)},R.prototype.isItemMastered_0=function(t){var e,r=this.getTwoLatestCorrectAnswers_0(t);if(r.size<2)return!1;t:do{var n=r.iterator();if(!n.hasNext()){e=null;break t}var o=n.next();if(!n.hasNext()){e=o;break t}var i=o.timestamp;do{var s=n.next(),a=s.timestamp}while(u.compareTo(i,a)<0&&(o=s,i=a),n.hasNext())}while(e=o,0);t=e;if(null==t)throw h("Required value was null.".toString());return!this.isSkippedFlashcard_0(t)},R.prototype.getTwoLatestCorrectAnswers_0=function(t){for(var t=o(s(t,new T(b(L))),2),e=_(),r=t.iterator();r.hasNext();){var n=r.next();n.correctness!==V()&&!this.isSkippedFlashcard_0(n)||e.add_11rb$(n)}return e},R.prototype.isSkippedFlashcard_0=function(t){return t.studyModeType===_t()&&t.correctness===D()},R.$metadata$={kind:e,simpleName:"CalculateProgress",interfaces:[]};var P,k,N,j,x,H,M=null;function B(){return null===M&&new R,M}function q(t){return!P.contains_11rb$(t)}function z(t,e,r){v.call(this),this.value=r,this.name$=t,this.ordinal$=e}function F(){F=function(){},k=new z("INCORRECT",0,0),N=new z("CORRECT",1,1),j=new z("SKIPPED",2,2),x=new z("INCORRECT_WITH_HINT",3,3),H=new z("CORRECT_WITH_HINT",4,4),ht()}function W(){return F(),k}function V(){return F(),N}function D(){return F(),j}function K(){return F(),x}function G(){return F(),H}function J(){mt=this}J.prototype.fromValue_za3lpa$=function(t){var e,r=z.values();t:do{for(var n=0;n!==r.length;++n){var o=r[n];if(o.value===t){e=o;break t}}throw new S("Array contains no element matching the predicate.")}while(0);return e},J.$metadata$={kind:e,simpleName:"Companion",interfaces:[]};var U,Y,Q,Z,X,tt,et,rt,nt,ot,it,st,at,ut,ct,dt,pt,lt,ft,mt=null;function ht(){return F(),null===mt&&new J,mt}function yt(t,e,r){v.call(this),this.value=r,this.name$=t,this.ordinal$=e}function It(){It=function(){},U=new yt("WRITE",0,1),Y=new yt("FLASHCARDS",1,2),Q=new yt("TEST",2,3),Z=new yt("SPACE_RACE",3,4),X=new yt("SCATTER",4,5),tt=new yt("VOICE_RACE",5,6),et=new yt("VOICE_SCATTER",6,7),rt=new yt("SPELLER",7,8),nt=new yt("BISMARCK",8,9),ot=new yt("MOBILE_CARDS",9,10),it=new yt("MOBILE_WRITE",10,11),st=new yt("MOBILE_SCATTER",11,12),at=new yt("GRAVITY",12,13),ut=new yt("MICROSCATTER",13,14),ct=new yt("REVIEW",14,15),dt=new yt("MULTIPLAYER",15,16),pt=new yt("LEARNING_ASSISTANT",16,17),lt=new yt("LOCATE",17,18),ft=new yt("LIVE_WITH_FRIENDS",18,19),Bt()}function gt(){return It(),U}function _t(){return It(),Y}function Tt(){return It(),Q}function Ct(){return It(),Z}function wt(){return It(),X}function vt(){return It(),tt}function Et(){return It(),et}function St(){return It(),rt}function At(){return It(),nt}function Ot(){return It(),ot}function $t(){return It(),it}function bt(){return It(),st}function Rt(){return It(),at}function Lt(){return It(),ut}function Pt(){return It(),ct}function kt(){return It(),dt}function Nt(){return It(),pt}function jt(){return It(),lt}function xt(){return It(),ft}function Ht(){Mt=this}z.$metadata$={kind:C,simpleName:"Correctness",interfaces:[v]},z.values=function(){return[W(),V(),D(),K(),G()]},z.valueOf_61zpoe$=function(t){switch(t){case"INCORRECT":return W();case"CORRECT":return V();case"SKIPPED":return D();case"INCORRECT_WITH_HINT":return K();case"CORRECT_WITH_HINT":return G();default:E("No enum constant com.quizlet.progress.enums.Correctness."+t)}},Ht.prototype.fromValue_za3lpa$=function(t){var e,r=yt.values();t:do{for(var n=0;n!==r.length;++n){var o=r[n];if(o.value===t){e=o;break t}}throw new S("Array contains no element matching the predicate.")}while(0);return e},Ht.$metadata$={kind:e,simpleName:"Companion",interfaces:[]};var Mt=null;function Bt(){return It(),null===Mt&&new Ht,Mt}function qt(t,e,r){this.correctness=t,this.timestamp=e,this.studyModeType=r}function zt(t,e,r,n){this.containerId=t,this.itemId=e,this.date=r,this.answerHistories=n}function Ft(t,e,r){void 0===r&&(r=null),this.containerId=t,this.itemIds=e,this.resetTime=r}function Wt(t,e,r){this.notStudied=t,this.stillLearning=e,this.mastered=r}function Vt(){Dt=this}yt.$metadata$={kind:C,simpleName:"StudyModeType",interfaces:[v]},yt.values=function(){return[gt(),_t(),Tt(),Ct(),wt(),vt(),Et(),St(),At(),Ot(),$t(),bt(),Rt(),Lt(),Pt(),kt(),Nt(),jt(),xt()]},yt.valueOf_61zpoe$=function(t){switch(t){case"WRITE":return gt();case"FLASHCARDS":return _t();case"TEST":return Tt();case"SPACE_RACE":return Ct();case"SCATTER":return wt();case"VOICE_RACE":return vt();case"VOICE_SCATTER":return Et();case"SPELLER":return St();case"BISMARCK":return At();case"MOBILE_CARDS":return Ot();case"MOBILE_WRITE":return $t();case"MOBILE_SCATTER":return bt();case"GRAVITY":return Rt();case"MICROSCATTER":return Lt();case"REVIEW":return Pt();case"MULTIPLAYER":return kt();case"LEARNING_ASSISTANT":return Nt();case"LOCATE":return jt();case"LIVE_WITH_FRIENDS":return xt();default:E("No enum constant com.quizlet.progress.enums.StudyModeType."+t)}},qt.$metadata$={kind:C,simpleName:"AnswerHistory",interfaces:[]},qt.prototype.component1=function(){return this.correctness},qt.prototype.component2=function(){return this.timestamp},qt.prototype.component3=function(){return this.studyModeType},qt.prototype.copy_v65pp0$=function(t,e,r){return new qt(void 0===t?this.correctness:t,void 0===e?this.timestamp:e,void 0===r?this.studyModeType:r)},qt.prototype.toString=function(){return"AnswerHistory(correctness="+u.toString(this.correctness)+", timestamp="+u.toString(this.timestamp)+", studyModeType="+u.toString(this.studyModeType)+")"},qt.prototype.hashCode=function(){return 31*(31*(0+u.hashCode(this.correctness)|0)+u.hashCode(this.timestamp)|0)+u.hashCode(this.studyModeType)|0},qt.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&u.equals(this.correctness,t.correctness)&&u.equals(this.timestamp,t.timestamp)&&u.equals(this.studyModeType,t.studyModeType)},zt.$metadata$={kind:C,simpleName:"AnswerSummary",interfaces:[]},zt.prototype.component1=function(){return this.containerId},zt.prototype.component2=function(){return this.itemId},zt.prototype.component3=function(){return this.date},zt.prototype.component4=function(){return this.answerHistories},zt.prototype.copy_ckwrcv$=function(t,e,r,n){return new zt(void 0===t?this.containerId:t,void 0===e?this.itemId:e,void 0===r?this.date:r,void 0===n?this.answerHistories:n)},zt.prototype.toString=function(){return"AnswerSummary(containerId="+u.toString(this.containerId)+", itemId="+u.toString(this.itemId)+", date="+u.toString(this.date)+", answerHistories="+u.toString(this.answerHistories)+")"},zt.prototype.hashCode=function(){return 31*(31*(31*(0+u.hashCode(this.containerId)|0)+u.hashCode(this.itemId)|0)+u.hashCode(this.date)|0)+u.hashCode(this.answerHistories)|0},zt.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&u.equals(this.containerId,t.containerId)&&u.equals(this.itemId,t.itemId)&&u.equals(this.date,t.date)&&u.equals(this.answerHistories,t.answerHistories)},Ft.$metadata$={kind:C,simpleName:"ContainerInfo",interfaces:[]},Ft.prototype.component1=function(){return this.containerId},Ft.prototype.component2=function(){return this.itemIds},Ft.prototype.component3=function(){return this.resetTime},Ft.prototype.copy_j1ovhf$=function(t,e,r){return new Ft(void 0===t?this.containerId:t,void 0===e?this.itemIds:e,void 0===r?this.resetTime:r)},Ft.prototype.toString=function(){return"ContainerInfo(containerId="+u.toString(this.containerId)+", itemIds="+u.toString(this.itemIds)+", resetTime="+u.toString(this.resetTime)+")"},Ft.prototype.hashCode=function(){return 31*(31*(0+u.hashCode(this.containerId)|0)+u.hashCode(this.itemIds)|0)+u.hashCode(this.resetTime)|0},Ft.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&u.equals(this.containerId,t.containerId)&&u.equals(this.itemIds,t.itemIds)&&u.equals(this.resetTime,t.resetTime)},Wt.$metadata$={kind:C,simpleName:"ProgressBuckets",interfaces:[]},Wt.prototype.component1=function(){return this.notStudied},Wt.prototype.component2=function(){return this.stillLearning},Wt.prototype.component3=function(){return this.mastered},Wt.prototype.copy_3io57k$=function(t,e,r){return new Wt(void 0===t?this.notStudied:t,void 0===e?this.stillLearning:e,void 0===r?this.mastered:r)},Wt.prototype.toString=function(){return"ProgressBuckets(notStudied="+u.toString(this.notStudied)+", stillLearning="+u.toString(this.stillLearning)+", mastered="+u.toString(this.mastered)+")"},Wt.prototype.hashCode=function(){return 31*(31*(0+u.hashCode(this.notStudied)|0)+u.hashCode(this.stillLearning)|0)+u.hashCode(this.mastered)|0},Wt.prototype.equals=function(t){return this===t||null!==t&&"object"==typeof t&&Object.getPrototypeOf(this)===Object.getPrototypeOf(t)&&u.equals(this.notStudied,t.notStudied)&&u.equals(this.stillLearning,t.stillLearning)&&u.equals(this.mastered,t.mastered)},Vt.prototype.getProgress=function(t,e){for(var r=w(t.length),n=0;n!==t.length;++n){var o=t[n];r.add_11rb$(Gt(o))}var i=r,e=Kt(e);return Ut(B().getProgressBucketsFromAnswers_r8kuuu$(i,e))},Vt.$metadata$={kind:e,simpleName:"ProgressGeneratorJs",interfaces:[]};var Dt=null;function Kt(t){for(var e=w(t.length),r=0;r!==t.length;++r){var n=t[r];e.add_11rb$(function(t){var e,r=t.containerId,n=t.itemId,o=t.date,i=t.answerHistory,r=u.Long.fromNumber(r),n=u.Long.fromNumber(n),o=u.Long.fromNumber(o),s=w(i.length);for(e=0;e!==i.length;++e){var a=i[e];s.add_11rb$(function(t){var e=t.correctness,r=t.timestamp,t=t.studyMode;return new qt(ht().fromValue_za3lpa$(e),u.Long.fromNumber(r),Bt().fromValue_za3lpa$(t))}(a))}return new zt(r,n,o,s)}(n))}return e}function Gt(t){for(var e=t.containerId,r=t.itemIds,t=t.resetTime,e=u.Long.fromNumber(e),n=w(r.length),o=0;o!==r.length;++o){var i=r[o];n.add_11rb$(u.Long.fromNumber(i))}return new Ft(e,n,u.Long.fromNumber(t))}function Jt(t){return O([c("notStudied",(e=Yt)((t=t).notStudied)),c("stillLearning",e(t.stillLearning)),c("mastered",e(t.mastered))]);var e}function Ut(t){return function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n,o=w(t.size);for(n=t.entries.iterator();n.hasNext();){var i=n.next(),s=o.add_11rb$,a=i.key,i=i.value,a=(null!=e?e:l)(a),i=null!=r?r(i):i;s.call(o,c(a,i))}return O($(o).slice())}(t,void 0,Jt)}function Yt(t){for(var e=w(f(t,10)),r=t.iterator();r.hasNext();){var n=r.next();e.add_11rb$(n.toNumber())}return A(e)}function Qt(){return u.Long.fromNumber(Date.now())}r=t.com||(t.com={}),C=r.quizlet||(r.quizlet={}),e=C.progress||(C.progress={});Object.defineProperty(e,"CalculateProgress",{get:B}),e.isEligibleForProgress_bbg7yn$=q;r=e.converters||(e.converters={});Object.defineProperty(z,"INCORRECT",{get:W}),Object.defineProperty(z,"CORRECT",{get:V}),Object.defineProperty(z,"SKIPPED",{get:D}),Object.defineProperty(z,"INCORRECT_WITH_HINT",{get:K}),Object.defineProperty(z,"CORRECT_WITH_HINT",{get:G}),Object.defineProperty(z,"Companion",{get:ht});C=e.enums||(e.enums={});C.Correctness=z,Object.defineProperty(yt,"WRITE",{get:gt}),Object.defineProperty(yt,"FLASHCARDS",{get:_t}),Object.defineProperty(yt,"TEST",{get:Tt}),Object.defineProperty(yt,"SPACE_RACE",{get:Ct}),Object.defineProperty(yt,"SCATTER",{get:wt}),Object.defineProperty(yt,"VOICE_RACE",{get:vt}),Object.defineProperty(yt,"VOICE_SCATTER",{get:Et}),Object.defineProperty(yt,"SPELLER",{get:St}),Object.defineProperty(yt,"BISMARCK",{get:At}),Object.defineProperty(yt,"MOBILE_CARDS",{get:Ot}),Object.defineProperty(yt,"MOBILE_WRITE",{get:$t}),Object.defineProperty(yt,"MOBILE_SCATTER",{get:bt}),Object.defineProperty(yt,"GRAVITY",{get:Rt}),Object.defineProperty(yt,"MICROSCATTER",{get:Lt}),Object.defineProperty(yt,"REVIEW",{get:Pt}),Object.defineProperty(yt,"MULTIPLAYER",{get:kt}),Object.defineProperty(yt,"LEARNING_ASSISTANT",{get:Nt}),Object.defineProperty(yt,"LOCATE",{get:jt}),Object.defineProperty(yt,"LIVE_WITH_FRIENDS",{get:xt}),Object.defineProperty(yt,"Companion",{get:Bt}),C.StudyModeType=yt;C=e.types||(e.types={});C.AnswerHistory=qt,C.AnswerSummary=zt,C.ContainerInfo=Ft,C.ProgressBuckets=Wt;C=t.kmppUtils||(t.kmppUtils={});return Object.defineProperty(e,"ProgressGeneratorJs",{get:function(){return null===Dt&&new Vt,Dt}}),r.toAnswerSummaries_hj03k1$=Kt,r.toContainerInfo_t1yf75$=Gt,r.toJson_qdttvn$=Ut,C.getCurrentTime=Qt,P=n([At(),Rt(),xt(),jt(),Lt(),bt(),kt(),Pt(),wt(),Ct(),vt(),Et()]),t})?r.apply(e,n):r)||(t.exports=r)}}]);

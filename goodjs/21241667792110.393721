!function(o){var a={};function r(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=o,r.c=a,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(o,a,function(t){return e[t]}.bind(null,a));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=2)}({2:function(t,e,o){"use strict";function a(t,e){for(var o,a=t.document.cookie.split(";"),r=null,n=e+"=",i=0;i<a.length;i+=1){for(;" "===a[i].charAt(0);)a[i]=a[i].substring(1,a[i].length);if(0===a[i].indexOf(n)){o=a[i].substring(n.length,a[i].length);try{r=JSON.parse(o)}catch(t){r=o}return r}}return null}function r(t,e,o,a){void 0===a&&(a=0);e+="=";e+="object"==typeof o?JSON.stringify(o):o,a&&(e+="; expires="+new Date(Date.now()+a).toUTCString()),t.document.cookie=e+="; path=/"}o.r(e);var n,i,s,p,c=function(t){for(var e=t,o=t.top;e!==o;){var a=void 0;try{a=e.parent.location.href}catch(t){a=!1}if(!a)break;for(var r,n=e.parent.document.getElementsByTagName("iframe"),i=null,s=0;s<n.length;s+=1)if((r=n[s]).contentWindow===e){i=r;break}if(i&&-1<i.className.split(" ").indexOf("krg-nobust"))break;e=e.parent}return e}(window),o=(l.supportsLocalStorage=function(){var t=!1;try{var e="__storage_test__";c.localStorage.setItem(e,e),c.localStorage.removeItem(e),t=!0}catch(t){}return t},l.prototype.enableCookieStorage=function(t){this.isCookieStorageEnabled=t},l.prototype.getData=function(){return this.data},l.prototype.getExpireTime=function(){return this.data.expireTime},l.prototype.saveData=function(){this.data.expireTime=Date.now()+this.DATA_LIFE_TIME,l.supportsLocalStorage()&&this.updateStorageData(),this.isCookieStorageEnabled?this.updateCookieData():this.removeCookieData()},l.prototype.removeData=function(){l.supportsLocalStorage()&&this.removeStorageData(),this.removeCookieData()},l.prototype.clearData=function(){this.data=this.EMPTY_DATA,this.saveData()},l.prototype.isExpired=function(){return Date.now()>this.data.expireTime},l.prototype.fetchData=function(){this.isCookieStorageEnabled&&this.fetchCookieData(),l.supportsLocalStorage()&&this.fetchStorageData(),this.isCookieStorageEnabled&&this.updateCookieData()},l.prototype.getStoreName=function(){return this.STORE_PREFIX+this.STORE_NAME},l.prototype.encodeDataForStorage=function(t){return btoa(JSON.stringify(t))},l.prototype.decodeDataFromStorage=function(t){var e=null;try{e=JSON.parse(atob(t))}catch(t){}return e},l.prototype.encodeDataForCookie=function(t){return this.encodeDataForStorage(t)},l.prototype.decodeDataFromCookie=function(t){return this.decodeDataFromStorage(t)},l.prototype.fetchStorageData=function(){var t=c.localStorage.getItem(this.getStoreName());!t||(t=this.decodeDataFromStorage(t))&&(this.data=t)},l.prototype.updateStorageData=function(){c.localStorage.setItem(this.getStoreName(),this.encodeDataForStorage(this.data))},l.prototype.removeStorageData=function(){c.localStorage.removeItem(this.getStoreName())},l.prototype.fetchCookieData=function(){var t=a(c,this.getStoreName());!t||(t=this.decodeDataFromCookie(t))&&(this.data=t)},l.prototype.updateCookieData=function(){var t=this.cleanDataForCookie(this.data);r(c,this.getStoreName(),this.encodeDataForCookie(t),this.COOKIE_LIFE_TIME)},l.prototype.removeCookieData=function(){r(c,this.getStoreName(),"",1)},l.prototype.cleanDataForCookie=function(t){return t},l),e=((n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)})(d,p=o),d.prototype.saveData=function(){var t;p.prototype.saveData.call(this),this.isCookieStorageEnabled&&(t={clientId:this.data.clientId,userId:this.data.lexId,optOut:"optout"===this.data.lexId},r(c,this.UID_STORE_NAME,this.encodeUIDCookieData(t),this.COOKIE_LIFE_TIME)),this.removeOldData()},d.prototype.removeData=function(){p.prototype.removeData.call(this),r(c,this.UID_STORE_NAME,"",1),this.removeOldData()},d.prototype.removeOldData=function(){a(c,this.OLD_STORE_NAME)&&r(c,this.OLD_STORE_NAME,"",1),d.supportsLocalStorage()&&c.localStorage.removeItem(this.OLD_STORE_NAME)},d.prototype.clearData=function(){p.prototype.clearData.call(this),this.isCookieStorageEnabled&&r(c,this.UID_STORE_NAME,this.encodeUIDCookieData({clientId:null,userId:null,optOut:!1}),this.COOKIE_LIFE_TIME)},d.prototype.getData=function(){return p.prototype.getData.call(this)},d.prototype.cleanDataForCookie=function(t){t=Object.assign({},t);return t.segments=t.segments.slice(0,this.MAX_COOKIE_SEGMENTS),t},d.prototype.encodeDataForCookie=function(t){return encodeURIComponent(JSON.stringify({v:btoa(JSON.stringify(t))}))},d.prototype.encodeUIDCookieData=function(t){return encodeURIComponent(JSON.stringify({v:t}))},d.prototype.decodeDataFromCookie=function(t){var e=null;try{e=JSON.parse(atob(JSON.parse(decodeURIComponent(t)).v))}catch(t){}return e},d.prototype.getClientId=function(){return this.data.clientId},d.prototype.setClientId=function(t){this.data.clientId=t,this.saveData()},d.prototype.getUserId=function(){return this.data.lexId},d.prototype.setUserId=function(t){this.data.lexId=t,this.saveData()},d.prototype.getSegments=function(){return this.data.segments},d.prototype.setSegments=function(t){this.data.segments=t,this.saveData()},d.prototype.getSyncIds=function(){return this.data.syncIds},d.prototype.setSyncIds=function(t){this.data.syncIds=t,this.saveData()},d.prototype.getKtcId=function(){return this.data.ktcId},d.prototype.setKtcId=function(t){this.data.ktcId=t,this.saveData()},d.prototype.getLastSyncTime=function(){return this.data.lastSyncedAt},d.prototype.setLastSyncTime=function(t){this.data.lastSyncedAt=t,this.saveData()},d.prototype.isOptOut=function(){return"optout"===this.getUserId()},d.prototype.setOptOut=function(t){t?(this.data=Object.assign({},this.EMPTY_DATA),this.data.lexId="optout"):"optout"===this.data.lexId&&(this.data.lexId=null),this.saveData()},d.prototype.setBrandedTakeover=function(t,e){this.data.pageViewId=t?e:"",this.saveData()},d),o=((i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)})(u,s=o),u.prototype.saveData=function(){s.prototype.saveData.call(this)},u.prototype.getData=function(){return s.prototype.getData.call(this)},u.prototype.cleanDataForCookie=function(t){t=Object.assign({},t);return t.segments=t.segments.slice(0,this.MAX_COOKIE_SEGMENTS),t},u.prototype.getUserId=function(){return this.data.user},u.prototype.setUserId=function(t){this.data.user=t,this.saveData()},u.prototype.getFingerprintId=function(){return this.data.fingerprintId},u.prototype.setFingerprintId=function(t){this.data.fingerprintId=t,this.saveData()},u.prototype.getSegments=function(){return this.data.segments},u.prototype.setSegments=function(t){this.data.segments=t,this.saveData()},u.prototype.isOptOut=function(){return this.data.optout},u.prototype.setOptOut=function(t){t&&(this.data=Object.assign({},this.EMPTY_DATA)),this.data.optout=t,this.saveData()},u);function u(){var t=null!==s&&s.apply(this,arguments)||this;return t.MAX_COOKIE_SEGMENTS=100,t.STORE_NAME="krx",t.DATA_LIFE_TIME=864e5,t.EMPTY_DATA={user:null,fingerprintId:null,segments:[],expireTime:Date.now()+t.DATA_LIFE_TIME,optout:!1},t.data=Object.assign({},t.EMPTY_DATA),t}function d(){var t=null!==p&&p.apply(this,arguments)||this;return t.MAX_COOKIE_SEGMENTS=100,t.UID_STORE_NAME=t.STORE_PREFIX+"uid",t.OLD_STORE_NAME=t.STORE_PREFIX+"cerberus",t.STORE_NAME="crb",t.DATA_LIFE_TIME=864e5,t.EMPTY_DATA={clientId:null,lexId:null,segments:[],syncIds:{},ktcId:null,expireTime:Date.now()+t.DATA_LIFE_TIME,lastSyncedAt:null,pageViewId:""},t.data=Object.assign({},t.EMPTY_DATA),t.isCookieStorageEnabled=!0,t}function l(){this.STORE_PREFIX="krg_",this.COOKIE_LIFE_TIME=126144e6,this.data={expireTime:Date.now()},this.isCookieStorageEnabled=!1}c.Kargo=c.Kargo||{},c.Kargo.Data||((e=new e).fetchData(),(o=new o).fetchData(),c.Kargo.Data={Cerberus:e,Krux:o})}});

(self.webpackChunklite=self.webpackChunklite||[]).push([[118],{8538:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>l});var T=t(94725),r=t(67294),i=t(12291),s=t(85740),M=t(34675),a=t(72351),A=t(52837),u=t(61250),S=t(31235),y=t(31117),C=t(67297),k=t(67616),L=t(29035),n=t(63038),O=t.n(n),n=t(59713),o=t.n(n),F=t(44059),c=t(14034);function x(){for(var t=new c.y,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(0===n.length)return t;var o=n.map(function(){return[]});return n.forEach(function(e,n){e.observe(function(e){o[n].push(e),o.every(function(e){return 0<e.length})&&t.set(o.map(function(e){return e.shift()}))})}),t}function q(n){return function(e){return o()({},n,e)}}const l=function(){var c,l,o,d,f,p,e,v,g,m,_,h,b,w,E,P;return r.useEffect(function(){var e=x(k.sY,k.wZ,k.vY).map(function(e){var n=O()(e,3),t=n[0],e=n[1],n=n[2];return{responseEndToLCP:new k.jb(t.response.end,e.end),responseEndToFCP:new k.jb(t.response.end,n.end)}}),n=x(k.sY,k.qH.map(q("fid")),k.vY.map(q("fcp")),k.wZ.map(q("lcp")),e);k.cA.observe(function(e){e||n.observe(function(e){var r=e.reduce(function(e,n){return Object.assign(e,n)},{}),n=Object.keys(r).reduce(function(e,n){var t=r[n].duration;return e[n]=t%1==0?t:Number(t.toFixed(1)),e},{}),e=document.children[0],e={html:null==e?void 0:e.innerHTML.length,redux:JSON.stringify(window.__PRELOADED_STATE__).length,apollo:JSON.stringify(window.__APOLLO_STATE__).length};F.t.log("client hydrated",{perf:n,sizes:e})})}),k.Df.observe(function(e){return F.t.log("client resource sizes",{resources:e})})},[]),e=(0,C.v9)(function(e){return e.tracing}),c=e.originalSpan,l=e.tracer,e=(0,M.cD)(),o=e.loading,d=e.isBot,f=(0,C.v9)(function(e){return e.client.routingEntity}),p=(0,C.v9)(function(e){return e.auroraPage.isAuroraPageEnabled}),e=(0,M.rZ)(),v=e.loading,g=e.viewerId,m=(0,S.xg)(),_=(0,S.f$)(),h=(0,s.P5)("enable_medium_dot_com"),b=(0,s.P5)("enable_medium_app"),w=(0,i.I0)(),E=(0,u.dh)(),P=(0,a.Av)(),r.useEffect(function(){var e,n,t,r,i,s,a,u;l&&P&&!o&&!d&&!v&&g&&(e=null!==(r=null==(t=E(window.location.pathname))?void 0:t.route.metricName)&&void 0!==r?r:"unidentified",n=(0,M.QM)(g),t=(0,L.ic)(navigator.userAgent),r=[],m?r.push("edge_cache_enabled"):_&&r.push("edge_cache_control"),b?r.push("enable_medium_app"):h&&n&&"homepage"===e&&r.push("enable_medium_dot_com"),r=r.join(","),i={"user.logged_in":n,"user.experiment":r,"device.mobile_or_tablet":t,"req.route_name":e,"req.route":e,"req.router":(null==f?void 0:f.type)||A.Cr.DEFAULT},s={auroraPage:p,loggedIn:n,mobileOrTablet:t,experiment:r,route:e},a=function(e){return Math.round(1e3*e)},u=function(e,n,t,r){var o=t.start,t=t.end,t=l.startSpan("timing.".concat(n),{childOf:e,tags:i}).setBeginMicros(a(o)).setEndMicros(a(t));return null!=r&&r(t),t.finish(),t},k.sY.observe(function(e){P.reportRender(s,e);var n=l.startSpan("timing.navigation",{references:c?[(0,T.followsFrom)(c)]:void 0,tags:i}).setBeginMicros(a(e.load.start)).setEndMicros(a(e.load.end)).log({redirect_count:null!==(r=null===(r=window)||void 0===r||null===(n=r.performance)||void 0===n||null===(t=n.navigation)||void 0===t?void 0:t.redirectCount)&&void 0!==r?r:0});u(n,"beforeDomainLookup",e.before_domain_lookup),u(n,"domainLookup",e.domain_lookup),u(n,"connect",e.connect),u(n,"request",e.request),u(n,"response",e.response),u(n,"processing",e.processing);var t=e.overall_fcp,r=e.client,o=e.render;null!=t&&u(n,"firstContentfulPaint",t),null!=r&&u(n,"client",r,function(e){null!=o&&u(e,"render",o)}),n.finish(),w((0,y.YU)(n.generateTraceURL()))}),k.vY.observe(function(e){P.reportFirstContentfulPaint(s,e),l.startSpan("timing.firstContentfulPaint.v2",{references:c?[(0,T.followsFrom)(c)]:void 0,tags:i}).setBeginMicros(a(e.start)).setEndMicros(a(e.end)).finish()}),k.wZ.observe(function(e){P.reportLargestContentfulPaint(s,e),l.startSpan("timing.largestContentfulPaint",{references:c?[(0,T.followsFrom)(c)]:void 0,tags:i}).setBeginMicros(a(e.start)).setEndMicros(a(e.end)).finish()}),k.yI.observe(function(e){P.reportCumulativeLayoutShift(s,e)}),k.cA.observe(function(e){e&&P.reportUnsupportedPerfObserver(s)}),k.qH.observe(function(e){P.reportInput(s,e),l.startSpan("timing.input.first.delay",{references:c?[(0,T.followsFrom)(c)]:void 0,tags:i}).setBeginMicros(a(e.start)).setEndMicros(a(e.end)).finish()}))},[l,v,g,o,d,h,b]),null}},72864:(e,n,t)=>{"use strict";t.r(n),t.d(n,{init:()=>r,extractSpan:()=>s});var o=t(45573),i=t(94725),r=function(e){var n=e.name,t=e.host,r=e.token,e=e.appVersion,e=new o.Tracer({component_name:n,xhr_instrumentation:!1,access_token:r,collector_host:t,default_span_tags:{"component.version":e}});return(0,i.initGlobalTracer)(e),e},s=function(e,n){if(n)return e.extract(i.FORMAT_HTTP_HEADERS,n)}}}]);

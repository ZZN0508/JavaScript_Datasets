(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1096:function(e,t,n){var r=n("44ad"),o=n("d869"),i=(n("7ab0"),function(e){i.superclass.constructor.call(this,e)});e.exports=Ext.extend(i,r.View,{name:"DropdownViewAbstract",menuItemCls:"menu_item",actionAttribute:"data-action",subMenuItemCls:"nested_menu",subMenuLanguageItemSelector:".nested_menu #language_form .clickable",activeCls:"active",backgroundCls:"dropdown_background",hideCls:"hide",backgroundId:"overlay",menuTitleCls:"replace_text",menuItemTextCls:"item_text",scrollBarCls:"scroll-pane",isSetMenuTitleToCurrent:!1,isBackgroundEnabled:!1,_isVisible:!1,init:function(){this.addEvents(o.DropdownViewAbstract.EVENT_DROPDOWN_MENU_ITEM_CLICK,o.DropdownViewAbstract.EVENT_DROPDOWN_MENU_VISIBILITY_CHANGE,o.DropdownViewAbstract.EVENT_DROPDOWN_MENU_BACKGROUND_SHOW,o.DropdownViewAbstract.EVENT_DROPDOWN_MENU_BACKGROUND_HIDE),this.bodyEl=Ext.getBody(),this.dropdownMenuItems=this.element.select("."+this.menuItemCls),this.menuTitleEl=this.element.select("."+this.menuTitleCls).item(0),this.subMenuItems=this.element.select("."+this.subMenuItemCls),this.subMenuLanguageElements=this.element.select(this.subMenuLanguageItemSelector),this.dropdownMenuEl=this.element,this.backgroundEl=Ext.get(this.backgroundId),i.superclass.init.call(this)},onDropDownMenuClick:function(e){e.preventDefault(),this.closeSubMenu(),this.toggleDropDownMenu()},onDropDownMenuItemClick:function(e){var t=this.getMenuItemEl(e.target),n=t.getAttribute(this.actionAttribute);"clickable"===n?e.stopPropagation():n&&"false"!==n&&!t.hasClass("disabled")?(e.stopEvent(),this.closeDropDownMenu(),this.menuItemClick(t)):t.hasClass("disabled")?e.preventDefault():(this.closeDropDownMenu(),e.stopPropagation())},onSubMenuItemClick:function(e){e.stopEvent();var t=this.getSubMenuItemEl(e.target);t.hasClass(this.activeCls)||this.closeSubMenu(),Ext.fly(e.target).findParent("."+this.scrollBarCls)||this.toggleSubMenu(t),t.getAttribute(this.actionAttribute)&&this.menuItemClick(t)},onSubMenuLanguageItemClick:function(e,t){},onBodyClick:function(e,t){this.element.dom!==t&&r.isNull(Ext.fly(t).parent("#"+this.element.id))&&(this.closeSubMenu(),this.closeDropDownMenu())},hideBackground:function(){this.isBackgroundEnabled&&(this.backgroundEl.removeClass(this.backgroundCls),this.fireEvent(o.DropdownViewAbstract.EVENT_DROPDOWN_MENU_BACKGROUND_HIDE,this))},showBackground:function(){this.isBackgroundEnabled&&(this.backgroundEl.addClass(this.backgroundCls),this.fireEvent(o.DropdownViewAbstract.EVENT_DROPDOWN_MENU_BACKGROUND_SHOW,this))},toggleDropDownMenu:function(){this.changeVisibility(!this._isVisible)},toggleSubMenu:function(e){e.toggleClass(this.activeCls)},closeDropDownMenu:function(){this.changeVisibility(!1)},changeVisibility:function(e){this._isVisible=e,this.dropdownMenuEl[this._isVisible?"addClass":"removeClass"](this.activeCls),this.bodyEl[this._isVisible?"on":"un"]("click",this.onBodyClick,this),this.fireEvent(o.DropdownViewAbstract.EVENT_DROPDOWN_MENU_VISIBILITY_CHANGE,{isVisible:this._isVisible})},closeSubMenu:function(){this.subMenuItems.removeClass(this.activeCls)},menuItemClick:function(e){this.isSetMenuTitleToCurrent&&(this.setMenuItemsVisibility(e),this.setMenuTitleToCurrent(e)),this.fireEvent(o.DropdownViewAbstract.EVENT_DROPDOWN_MENU_ITEM_CLICK,{item:e,scope:this})},setMenuItemsVisibility:function(e){this.element.select("."+this.hideCls).removeClass(this.hideCls),e.select("."+this.menuItemTextCls).item(0).addClass(this.hideCls)},setMenuTitleToCurrent:function(e){var t=e.select("."+this.menuItemTextCls).item(0).html();this.menuTitleEl.html(t)},getMenuItemEl:function(e){return e.hasAttribute(this.actionAttribute)?Ext.get(e):Ext.get(e).parent("."+this.menuItemCls)},getSubMenuItemEl:function(e){return Ext.get(e).hasClass(this.subMenuItemCls)?Ext.get(e):Ext.get(e).parent("."+this.subMenuItemCls)},bind:function(){i.superclass.bind.call(this),r.on([{element:this.dropdownMenuEl,event:"click",handler:this.onDropDownMenuClick},{element:this.dropdownMenuItems,event:"click",handler:this.onDropDownMenuItemClick},{element:this.subMenuItems,event:"click",handler:this.onSubMenuItemClick},{element:this.subMenuLanguageElements,event:"click",handler:this.onSubMenuLanguageItemClick}],this)}})},"124a":function(e,t,n){var r=n("44ad"),o=n("d869"),i=n("4cfc"),s=n("a4c0"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,r.Component,{name:"MyContentSelectComponent",view:void 0,controller:void 0,init:function(e,t){a.superclass.init.call(this,e,t),r.addEvents(o.MyContentSelectComponent.GLOBALEVENT_REFRESH_LISTPAGE,o.MyContentSelectComponent.EVENT_SUCCESS_REFRESH_LISTPAGE),this._setMyContentSelectController()},_setMyContentSelectView:function(){return this.view instanceof i||(this.view=new i({element:this.element})),this.view},_setMyContentSelectController:function(){this.controller instanceof s||(this.controller=new s({init:function(){},items:{view:{component:this._setMyContentSelectView(),listeners:{"dropdown-menu-item-click":"onDropDownMenuItemClick","dropdown-menu-visibility-change":"onDropDownMenuVisibilityChange","dropdown-menu-background-show":"onDropdownMenuBackgroundShow","dropdown-menu-background-hide":"onDropdownMenuBackgroundHide"}}}}))}})},"4cfc":function(e,t,n){var r=n("1096"),o=function(e){o.superclass.constructor.call(this,e)};e.exports=Ext.extend(o,r,{name:"MyContentSelectView"})},5675:function(e,t,n){var r=n("44ad"),o=n("1096"),i=function(e){i.superclass.constructor.call(this,e)};e.exports=Ext.extend(i,o,{name:"RefreshByOrderView",isSetMenuTitleToCurrent:!0,getAction:function(e){return e.item.getAttribute(this.actionAttribute)},setToSelectedFilterItem:function(e){var t=document.getElementById(e),n=this.getMenuItemEl(t);n&&(this.setMenuItemsVisibility(n),this.setMenuTitleToCurrent(n))},bind:function(){i.superclass.bind.call(this),r.on([{element:r.Broadcaster,event:"set-selected-order-item",handler:this.setToSelectedFilterItem}],this)}})},"8e02":function(e,t,n){"use strict";n.r(t);var r=n("44ad"),o=n.n(r),i=n("d869"),s=n.n(i),a=n("8af1"),l=n.n(a),c=n("63f1"),u=n.n(c),d=n("0a81"),h=n("a9a1"),f=n("ea0d"),m=n("8a2d"),p=(n("0592"),n("0b3c")),g={0:"#CCCCCC",1:"#A2DB00",2:"#DA0000",3:"#DA0000"},C=p.d.div(["background:#7b0000;border-bottom:solid 1px #a60000;height:60px;line-height:60px;box-sizing:border-box;a{box-sizing:border-box;padding:0 20px;display:block;width:100%;height:100%;}&:hover{background:#a60000;}"]),E=p.d.span(["padding-left:12px;font-size:12px;color:#ed7a7a;"]),y=p.d.span(["float:right;font-size:36px;color:",";"],(function(e){var t=e.status;return g[t]})),b=p.d.span(["display:inline-block;vertical-align:middle;border-radius:50%;height:40px;width:40px;position:relative;i,&::before{display:block;height:40px;width:40px;background-size:cover;background-position:center;background-repeat:no-repeat;border-radius:50%;position:absolute;top:0;left:0;}"]),_=n("bb1d"),v=n("1cab");function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(){v.default.trackGenericEvent({eventLabel:"History model click",eventCategory:v.GA_CONST.PAGE.LISTS})},I=function(e){var t=e.id,n=e.displayName,i=e.status,c=e.profilePictureUrl,u=void 0===c?r.Config.get("newPerformerImageSmall"):c,d=D(Object(a.useState)(i),2),h=d[0],f=d[1],m=Object(a.useCallback)((function(e){var n=parseInt(e[t],10);n&&h!==n&&f(n)}),[t,h]);return Object(a.useEffect)((function(){return o.a.Broadcaster.on(s.a.BasicController.GLOBALEVENT_GLOBAL_STATUS_CHANGE,m),function(){return o.a.Broadcaster.un(s.a.BasicController.GLOBALEVENT_GLOBAL_STATUS_CHANGE,m)}}),[m]),l.a.createElement(C,{"data-performer-id":t,onClick:S,"data-testid":"PerformerHistoryItemItem"},l.a.createElement(_.a,{href:Object(r.getUrl)("Chat/Performer",{performerId:n},{}),to:"chat/".concat(n),trigger:!0,preventNavigateBack:!0,title:n,"data-testid":"PerformerHistoryItemRouteManagerLink"},l.a.createElement(b,{"data-testid":"PerformerHistoryItemAvatar"},l.a.createElement("i",{style:{backgroundImage:"url(".concat(u,")")}})),l.a.createElement(E,{"data-testid":"PerformerHistoryItemPerformerName"},n),l.a.createElement(y,{status:h,"data-testid":"PerformerHistoryItemStatus"},"â€¢")))};I.propTypes={id:m.number.isRequired,displayName:m.string.isRequired,status:m.number,profilePictureUrl:m.string.isRequired},I.defaultProps={status:0};var O=I;function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=l.a.memo((function(e){var t=e.order,n=e.collection;return t.map((function(e){return l.a.createElement(O,{key:"phi_".concat(e),id:n[e].id,displayName:n[e].displayName,status:n[e].status,profilePictureUrl:n[e].url,"data-testid":"PerformerHistoryComponentPerformerHistoryItem"})}))})),A=function(){var e=M(Object(a.useState)(!1),2),t=e[0],n=e[1],r=Object(f.a)(),i=r.order,c=r.collection,u=function(e){var t=e.isOpened;n(t)};return Object(a.useEffect)((function(){return o.a.Broadcaster.on(s.a.PerformerHistory.TOGGLE_SIDEBAR,u),function(){o.a.Broadcaster.un(s.a.PerformerHistory.TOGGLE_SIDEBAR,u)}}),[]),t?l.a.createElement(T,{order:i,collection:c,"data-testid":"PerformerHistoryComponentList"}):null},B=n("dace"),N=n("9042"),x=n("990a"),P=n.n(x),L=n("124a"),R=n.n(L),V=n("d7c3"),G=n.n(V);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return(W="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(a,e);var t,n,r,i=F(a);function a(){return U(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"name",get:function(){return"ListPageIndex"}},{key:"listPageComponentName",get:function(){return P.a}},{key:"hideCls",get:function(){return"hide"}},{key:"orderDropDownId",get:function(){return"order_dropdown"}},{key:"myContentDropDownId",get:function(){return"category_dropdown"}},{key:"languageDropDownId",get:function(){return"language_dropdown"}},{key:"isRandomPlayerEnabled",get:function(){return!0}},{key:"isPerformerSwapEnabled",get:function(){return!0}},{key:"sidebarCategorySel",get:function(){return".category_item"}},{key:"listpageContainerId",get:function(){return"listpage_container"}},{key:"toggleSidebarButton",get:function(){return".toggle_sidebar_button"}},{key:"init",value:function(e,t){u.a.render(l.a.createElement(d.a,{store:h.store},l.a.createElement(A,null)),document.querySelector(".sidebar_history")),this._sidebarCategories=Ext.getBody().select(".sidebar_categories").item(0),this._activeCategoryTab=this._sidebarCategories&&this._sidebarCategories.data("activetab"),this._setOrderComponent(),this._setSelectComponent(),this._setLanguageComponent(),W(q(a.prototype),"init",this).call(this,e,t),this.showMoreJson=o.a.Config.get("listPageRoutes").showMoreJson||"Index/ShowMoreJson"}},{key:"_setOrderComponent",value:function(){return this._refreshContentByOrderCmp instanceof G.a||!Ext.get(this.orderDropDownId)||(this._refreshContentByOrderCmp=new G.a(this.orderDropDownId,{hideCls:this.hideCls})),this._refreshContentByOrderCmp}},{key:"_setSelectComponent",value:function(){return this._myContentSelectCmp instanceof R.a||!Ext.get(this.myContentDropDownId)||(this._myContentSelectCmp=new R.a(this.myContentDropDownId,{})),this._myContentSelectCmp}},{key:"_setLanguageComponent",value:function(){return this._languageSelectCmp instanceof R.a||!Ext.get(this.languageDropDownId)||(this._languageSelectCmp=new R.a(this.languageDropDownId,{})),this._languageSelectCmp}},{key:"_destroyOrderComponent",value:function(){this._refreshContentByOrderCmp&&(this._refreshContentByOrderCmp.controller.destroy(),delete this._refreshContentByOrderCmp.controller,this._refreshContentByOrderCmp.destroy(),delete this._refreshContentByOrderCmp)}},{key:"onToggleSidebarButtonClick",value:function(e,t){Ext.getBody().toggleClass("sidebar-closed"),Ext.get(t).toggleClass("open"),o.a.fireEvent(s.a.IndexIndex.GLOBALEVENT_TOGGLE_SIDEBAR_BUTTON_CLICK,this)}},{key:"hasHistoryDataInStorage",value:function(){var e=JSON.parse(localStorage.getItem(s.a.PerformerHistory.PERFORMERS_HISTORY_STORAGE_KEY));return(null==e?void 0:e.order.length)>0}},{key:"onSidebarCategoryClick",value:function(e){var t=this,n=e.getTarget(".category_item",4,!0);if((n.data("tabid")===this._activeCategoryTab||n.hasClass("history"))&&e.preventDefault(),n.hasClass("history"))if(this.hasHistoryDataInStorage())Ext.getBody().toggleClass("history-open"),o.a.fireEvent(s.a.PerformerHistory.TOGGLE_SIDEBAR,{isOpened:!0}),v.default.trackGenericEvent({eventLabel:"Side menu - History Icon",eventCategory:v.GA_CONST.PAGE.LISTS});else{var r=this.createHistoryPopoverContainer(n.dom);u.a.render(l.a.createElement(N.b,{content:o.a.translate("Your history is empty."),isOpen:!0,autoHideDelay:4e3,position:B.a.BOTTOM,onClosed:function(){return t.unmountHistoryPopover()},target:l.a.createElement("div",null)}),r),v.default.trackGenericEvent({eventLabel:"Side menu - History Icon - History empty",eventCategory:v.GA_CONST.PAGE.LISTS})}else Ext.getBody().removeClass("history-open"),o.a.fireEvent(s.a.PerformerHistory.TOGGLE_SIDEBAR,{isOpened:!1})}},{key:"createHistoryPopoverContainer",value:function(e){var t=document.querySelector(".history_popover_container");if(t)return t;var n=document.createElement("div");return n.className="history_popover_container",e.appendChild(n)}},{key:"unmountHistoryPopover",value:function(){var e=document.querySelector(".history_popover_container");e&&(u.a.unmountComponentAtNode(e),e.parentNode.removeChild(e))}},{key:"onLogIn",value:function(){this._destroyOrderComponent(),this._setOrderComponent()}},{key:"bind",value:function(){W(q(a.prototype),"bind",this).call(this),o.a.on([{element:o.a.Broadcaster,event:s.a.LoginComponent.GLOBALEVENT_LOG_IN,handler:this.onLogIn,scope:this},{element:this.element,event:"click",handler:this.onToggleSidebarButtonClick,options:{delegate:this.toggleSidebarButton}},{element:this.element,event:"click",handler:this.onSidebarCategoryClick,options:{delegate:this.sidebarCategorySel}}],this)}}])&&j(t.prototype,n),r&&j(t,r),a}(n("1e4a").default);t.default=J},"990a":function(e,t,n){var r=n("d59f").default,o=n("e91e"),i=n("fec8"),s=n("f244"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,r,{name:"IndexListPageComponent",controllerClassName:o,viewClassName:i,modelClassName:s,listPageControllerListeners:{IndexBroadcaster:{"header-logo-click":"onHeaderLogoClick","live-cams-link-click":"onHeaderLogoClick"}},_setController:function(){a.superclass._setController.call(this),this.enablePerformerSwap()}})},"9e82":function(e,t,n){var r=n("44ad"),o=n("d869"),i=n("b2b8"),s=n("a9a1").store,a=n("870e").setOrderType,l=function(e,t){l.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(l,i,{name:"RefreshByOrderController",init:function(e,t){l.superclass.init.call(this,e,t),this.addEvents(o.RefreshByOrderController.EVENT_GET_CONTENT_READY,o.RefreshByOrderController.GLOBALEVENT_GET_CONTENT_READY)},onDropDownMenuItemClick:function(e){var t=this.view.getAction(e);r.Config.set("listPageOrderType",t),s.dispatch(a(t))}})},a4c0:function(e,t,n){var r=n("b2b8"),o=function(e,t){o.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(o,r,{name:"MyContentSelectController"})},b2b8:function(e,t,n){var r=n("44ad"),o=n("d869"),i=function(e,t){i.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(i,r.Controller,{name:"DropDownControllerAbstract",init:function(e,t){this.addEvents(o.DropDownControllerAbstract.EVENT_DROPDOWN_MENU_ITEM_CLICK,o.DropDownControllerAbstract.EVENT_DROPDOWN_MENU_VISIBILITY_CHANGE),i.superclass.init.call(this,e,t)},close:function(){this.view.changeVisibility(!1)},hideBackground:function(){this.view.hideBackground()},showBackground:function(){this.view.showBackground()},onDropdownMenuBackgroundShow:function(e){r.fireEvent(o.DropDownControllerAbstract.GLOBALEVENT_DROPDOWN_MENU_BACKGROUND_SHOW,e)},onDropdownMenuBackgroundHide:function(e){r.fireEvent(o.DropDownControllerAbstract.GLOBALEVENT_DROPDOWN_MENU_BACKGROUND_HIDE,e)},onDropDownMenuItemClick:function(e){this.fireEvent(o.DropDownControllerAbstract.EVENT_DROPDOWN_MENU_ITEM_CLICK,e)},onDropDownMenuVisibilityChange:function(e){this.fireEvent(o.DropDownControllerAbstract.EVENT_DROPDOWN_MENU_VISIBILITY_CHANGE,e),e.isVisible?r.fireEvent(o.DropDownControllerAbstract.GLOBALEVENT_DROPDOWN_OPEN,{scope:this}):r.fireEvent(o.DropDownControllerAbstract.GLOBALEVENT_DROPDOWN_CLOSE,{scope:this})}})},d7c3:function(e,t,n){var r=n("44ad"),o=n("d869"),i=n("5675"),s=n("9e82"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,r.Component,{name:"RefreshByOrderComponent",hideCls:"hide",view:void 0,controller:void 0,init:function(e,t){a.superclass.init.call(this,e,t),r.addEvents(o.RefreshByOrderComponent.EVENT_SUCCESS_REFRESH_LISTPAGE),this._setRefreshByOrderController()},_setRefreshByOrderView:function(){return this.view instanceof i||(this.view=new i({element:this.element,hideCls:this.hideCls})),this.view},_setRefreshByOrderController:function(){this.controller instanceof s||(this.controller=new s({init:function(){},items:{view:{component:this._setRefreshByOrderView(),listeners:{"dropdown-menu-item-click":"onDropDownMenuItemClick","dropdown-menu-visibility-change":"onDropDownMenuVisibilityChange","dropdown-menu-background-show":"onDropdownMenuBackgroundShow","dropdown-menu-background-hide":"onDropdownMenuBackgroundHide"}}}}))}})},e91e:function(e,t,n){var r=n("44ad"),o=n("7ab0"),i=n("768e"),s=n("b356").default,a=n("8c4f").disableActiveCampaign,l=s.EVENT.MEMBER.FEEDBACK_LEVEL_CHANGED,c=s.EVENT.MEMBER.SMART_BUY_SUCCESS,u=s.EVENT.MEMBER.CAMPAIGN_USED,d=s.EVENT.MEMBER.CAMPAIGN_CLAIMED,h=s.EVENT.MEMBER.CAMPAIGN_DISABLED,f=function(e,t){f.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(f,i,{name:"IndexListPageController",init:function(e,t){f.superclass.init.call(this,e,t);var n=r.bind(this.ListPageModel.refreshCommercial,this.ListPageModel),o=s.getClient();o.on(l,n),o.on(c,n),o.on(u,n),o.on(d,n),o.on(h,(function(){n(),a()}))},onHeaderLogoClick:function(e){if(!o.isHokkaido()&&!this.ListPageModel.needPageReload()&&"0"===r.getMeta("isSearchPage")){e.preventDefault();var t={orderType:r.Config.get("listPageOrderType")};this.onRefreshListPage(t)}},onLoggedIn:function(){f.superclass.onLoggedIn.call(this),this.refreshExistingCommercial()},onSignUpSuccess:function(){f.superclass.onSignUpSuccess.call(this),this.refreshExistingCommercial()},onFirstBillComplete:function(){f.superclass.onFirstBillComplete.call(this);var e=this;setTimeout((function(){e.refreshExistingCommercial()}),1e3)},onLuckyWheelSpun:function(){f.superclass.onLuckyWheelSpun.call(this);var e=this;setTimeout((function(){e.refreshExistingCommercial()}),4e3)},onGuestWheelOfFortuneSpun:function(){this.refreshExistingCommercial()},onCommercialCountdownEnd:function(){f.superclass.onCommercialCountdownEnd.call(this);var e=this;setTimeout((function(){e.refreshExistingCommercial()}),1e3)},onAppletQuickBuySuccess:function(){this.ListPageModel.refreshCommercial()},onQuickBuySuccess:function(){f.superclass.onQuickBuySuccess.call(this),this.refreshExistingCommercial()},onListPageCommercialABTest:function(){f.superclass.onListPageCommercialABTest.call(this),this.refreshExistingCommercial()},refreshExistingCommercial:function(){document.getElementsByClassName("commercial_container").length&&this.ListPageModel.refreshCommercial()}})},f244:function(e,t,n){var r=n("44ad"),o=n("9810").default,i=n("d869"),s=n("b07d"),a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,s,{name:"IndexListPageModel",refreshCommercial:function(){this.fetch({url:r.getUrl(this.commercialRefreshRouting,{listPageId:r.getMeta(this.listPageId),isSearchPage:r.getMeta(this.isSearchPage)},{},""),method:"POST",success:r.bind(this._onRefreshCommercialSuccess,this)}),o.init()},_onRefreshCommercialSuccess:function(e){r.hasPath(e,"json.data")&&this.fireEvent(i.ListPageModelAbstract.EVENT_SWAPPED_COMMERCIAL,e.json.data)}})},fec8:function(e,t,n){var r=n("e481").default,o=function(e,t){o.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(o,r,{name:"IndexListPageView"})}}]);
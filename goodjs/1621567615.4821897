(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["channels"],{3010:function(n,e,t){"use strict";t.r(e);var i,o=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:n.handleLoadMoreChannels,expression:"handleLoadMoreChannels"}]},[n.channels&&!n.isLoading?t("div",{staticClass:"Channels container"},n._l(n.channels,(function(e,i){var o=e.id,a=e.code,r=e.img,l=e.psName,c=e.psAbout,s=e.videos,u=e.ntAddress,d=e.psInNetwork,f=e.channelUrl,h=e.psAddress,v=e.useNtUrl,m=e.ntUrl;return t("div",{key:i,staticClass:"Channels__card"},[t("XxxChannelCard",{attrs:{img:1===r?n.getChannelImgUrl(o,150):n.channelPlaceholderImg,name:l,code:a,addresses:1===d?[u,a]:[h],externalUrl:1===d&&1===v?m:f,videos:s,about:c,"has-placeholder-img":0===r,"is-follow-loading":n.isChannelFollowLoading(o),"is-followed":n.isChannelFollowed(o),to:"/"+a},on:{"follow-click":function(e){return n.handleChannelFollow(o)}}})],1)})),0):n._e(),n.isLoading||n.isMoreLoading?t("div",[t("div",{staticClass:"Channels container"},n._l(n.dummyChannels,(function(n){return t("div",{key:n,staticClass:"Channels__card"},[t("XxxChannelCard",{attrs:{"is-loading":""}})],1)})),0),t("XxxSpinner",{staticClass:"mx-auto"})],1):n._e()])},a=[],r=(t("99af"),t("d3b7"),t("ddb0"),t("2909")),l=t("5530"),c=t("487a"),s=t.n(c),u=(t("d81d"),t("96cf"),t("1da1")),d=t("7085"),f=t("7ad6"),h=function(n){return n.map((function(n){return Object(f["a"])(n,150)}))},v=function(){var n=Object(u["a"])(regeneratorRuntime.mark((function n(e){var t,o,a,r,l,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=new AbortController,t=i,o=t.signal,a=e?"?offset=".concat(e):"",n.prev=3,n.next=6,fetch("".concat(d["b"],"/channels").concat(a),{signal:o});case 6:return r=n.sent,n.next=9,r.json();case 9:return l=n.sent,c=l.channels,n.abrupt("return",h(c));case 14:n.prev=14,n.t0=n["catch"](3),console.log(n.t0);case 17:return n.abrupt("return",[]);case 18:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(e){return n.apply(this,arguments)}}(),m=function(){i&&i.abort()},b=t("856b"),g=t.n(b),p=t("5d14"),w=t("7f9f"),C=t("f4ec"),L={name:"Channels",metaInfo:{title:"Channels",meta:[{name:"description",content:"Channels.",vmid:"description"},{name:"keywords",content:"channels"}]},directives:{infiniteScroll:s.a},data:function(){return{isLoading:!0,channels:[]}},setup:function(n,e){var t=Object(p["a"])(v),i=t.loading,o=t.canLoad,a=t.load;return Object(l["a"])({isMoreLoading:i,canLoadMore:o,loadMoreChannels:a},Object(w["a"])(e))},computed:{channelPlaceholderImg:function(){return g.a},dummyChannels:function(){return Object(r["a"])(new Array(6).keys())}},methods:{getChannelImgUrl:C["a"],handleLoadMoreChannels:function(){var n=this;this.isMoreLoading||this.isLoading||!this.canLoadMore||this.loadMoreChannels().then((function(e){e&&(n.channels=[].concat(Object(r["a"])(n.channels),Object(r["a"])(e)))}))}},mounted:function(){window.scroll(0,0)},created:function(){var n=this;this.isLoading=!0,v().then((function(e){n.channels=e,n.isLoading=!1}))},beforeDestroy:function(){m()}},x=L,y=(t("6bf9"),t("2877")),T=Object(y["a"])(x,o,a,!1,null,"834ebbd6",null);e["default"]=T.exports},"487a":function(n,e,t){(function(e,t){n.exports=t()})(0,(function(){"use strict";var n="@@InfiniteScroll",e=function(n,e){var t,i,o,a,r,l=function(){n.apply(a,r),i=t};return function(){if(a=this,r=arguments,t=Date.now(),o&&(clearTimeout(o),o=null),i){var n=e-(t-i);n<0?l():o=setTimeout((function(){l()}),n)}else l()}},t=function(n){return n===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):n.scrollTop},i=document.defaultView.getComputedStyle,o=function(n){var e=n;while(e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType){var t=i(e).overflowY;if("scroll"===t||"auto"===t)return e;e=e.parentNode}return window},a=function(n){return n===window?document.documentElement.clientHeight:n.clientHeight},r=function(n){return n===window?t(window):n.getBoundingClientRect().top+t(window)},l=function(n){var e=n.parentNode;while(e){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},c=function(){if(!this.binded){this.binded=!0;var n=this,t=n.el,i=t.getAttribute("infinite-scroll-throttle-delay"),a=200;i&&(a=Number(n.vm[i]||i),(isNaN(a)||a<0)&&(a=200)),n.throttleDelay=a,n.scrollEventTarget=o(t),n.scrollListener=e(s.bind(n),n.throttleDelay),n.scrollEventTarget.addEventListener("scroll",n.scrollListener),this.vm.$on("hook:beforeDestroy",(function(){n.scrollEventTarget.removeEventListener("scroll",n.scrollListener)}));var r=t.getAttribute("infinite-scroll-disabled"),l=!1;r&&(this.vm.$watch(r,(function(e){n.disabled=e,!e&&n.immediateCheck&&s.call(n)})),l=Boolean(n.vm[r])),n.disabled=l;var c=t.getAttribute("infinite-scroll-distance"),u=0;c&&(u=Number(n.vm[c]||c),isNaN(u)&&(u=0)),n.distance=u;var d=t.getAttribute("infinite-scroll-immediate-check"),f=!0;d&&(f=Boolean(n.vm[d])),n.immediateCheck=f,f&&s.call(n);var h=t.getAttribute("infinite-scroll-listen-for-event");h&&n.vm.$on(h,(function(){s.call(n)}))}},s=function(n){var e=this.scrollEventTarget,i=this.el,o=this.distance;if(!0===n||!this.disabled){var l=t(e),c=l+a(e),s=!1;if(e===i)s=e.scrollHeight-c<=o;else{var u=r(i)-r(e)+i.offsetHeight+l;s=c+o>=u}s&&this.expression&&this.expression()}},u={bind:function(e,t,i){e[n]={el:e,vm:i.context,expression:t.value};var o=arguments;e[n].vm.$on("hook:mounted",(function(){e[n].vm.$nextTick((function(){l(e)&&c.call(e[n],o),e[n].bindTryCount=0;var t=function t(){e[n].bindTryCount>10||(e[n].bindTryCount++,l(e)?c.call(e[n],o):setTimeout(t,50))};t()}))}))},unbind:function(e){e&&e[n]&&e[n].scrollEventTarget&&e[n].scrollEventTarget.removeEventListener("scroll",e[n].scrollListener)}},d=function(n){n.directive("InfiniteScroll",u)};return window.Vue&&(window.infiniteScroll=u,Vue.use(d)),u.install=d,u}))},"5d14":function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var i=t("750b");function o(n){var e=Object(i["e"])(!1),t=Object(i["e"])(!0),o=Object(i["e"])(0),a=function(){return e.value=!0,o.value+=100,n(o.value).then((function(n){return e.value=!1,0===n.length?(t.value=!1,!1):n}))};return{loading:e,load:a,canLoad:t}}},"6bf9":function(n,e,t){"use strict";var i=t("95f6"),o=t.n(i);o.a},"856b":function(n,e,t){n.exports=t.p+"img/channel-placeholder.bab27720.png"},"95f6":function(n,e,t){}}]);
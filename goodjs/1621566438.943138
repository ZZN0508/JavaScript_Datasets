/*! built at Mon May 17 2021 04:51:51 GMT+0000 (Coordinated Universal Time) */!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)},forEach:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(e.forEach)e.forEach(t,n);else for(var i=0;i<e.length;i++)t.call(n,e[i],i,e)},map:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(e.map)return e.map(t,n);for(var i=[],r=0;r<e.length;r++)i.push(t.call(n,e[r],r,e));return i},filter:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(e.filter)return e.filter(t,n);for(var i=[],r=0;r<e.length;r++){var a=t.call(n,e[r],r,e);a&&i.push(e[r])}return i},forEachHash:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(n,i,e[i],e)},extend:function(e){for(var t=1;t<(arguments.length<=1?0:arguments.length-1);t++){var n=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},makeRandomString:function(){return Math.floor(1e9*Math.random()).toString(32)}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.ElementPosition=t.Rect=void 0;var o=n(0),s=function(){try{window.top.document}catch(e){return window}return window.top}(),l=s.document;var u=function(){function e(t){i(this,e),this.top=t.top,this.left=t.left,t.width?(this.width=t.width,this.height=t.height,this.bottom=this.top+this.height,this.right=this.left+this.width):(this.bottom=t.bottom,this.right=t.right,this.width=this.right-this.left,this.height=this.bottom-this.top)}return a(e,[{key:"transfer",value:function(e,t){this.left+=e,this.right+=e,this.top+=t,this.bottom+=t}},{key:"copy",value:function(){return new e(this)}},{key:"getOverlappedArea",value:function(t){var n=Math.max(this.top,t.top),i=Math.min(this.bottom,t.bottom),r=Math.max(this.left,t.left),a=Math.min(this.right,t.right);return new e(i-n>0&&a-r>0?{top:n,bottom:i,left:r,right:a}:{top:0,bottom:0,left:0,right:0})}},{key:"toString",value:function(){return"Rect W:"+this.width+" H:"+this.height+" T:"+this.top+" L:"+this.left+" B:"+this.bottom+" R:"+this.right}}]),e}();function c(e){return e.ownerDocument.defaultView||e.ownerDocument.parentWindow}function h(e){return function(e){return e.currentStyle||c(e).getComputedStyle(e,"")}(e).overflow.indexOf("scroll")>=0}function d(e,t,n){t=t||0,n=n||0;var i,r=0,a=0;try{for(var o=c(e).frameElement;o;o=c(o).frameElement){var s=o.getBoundingClientRect();r+=s.top,a+=s.left}}catch(e){}try{i=e.getBoundingClientRect()}catch(e){i={top:0,left:0,bottom:0,right:0}}return new u({top:Math.round(i.top+n+r),left:Math.round(i.left+t+a),bottom:Math.round(i.bottom+n+r),right:Math.round(i.right+t+a)})}function f(){var e=s.innerWidth||l.documentElement.clientWidth,t=s.innerHeight||l.documentElement.clientHeight,n=0,i=0;return l.body&&(n=l.body.scrollLeft||l.documentElement.scrollLeft,i=l.body.scrollTop||l.documentElement.scrollTop),new u({top:Math.round(i),left:Math.round(n),width:Math.round(e),height:Math.round(t)})}function v(){var e=l.body.scrollLeft||l.documentElement.scrollLeft,t=l.body.scrollTop||l.documentElement.scrollTop;return{left:Math.round(e),top:Math.round(t)}}t.Rect=u;var g=function(){function e(t,n,r){i(this,e),this.elem=t,this.zeroSizeViewableMode=r&&r.zeroSizeViewableMode,this.trimmedRect=null,n&&(this.trimmedRect=n)}return a(e,[{key:"calcLayoutPosition",value:function(){var e=[],t=v(),n=t.top,i=t.left;function r(t){for(var r=t.parentNode;r!==r.ownerDocument.body;r=r.parentNode)h(r)&&(e.unshift(r),n+=r.scrollTop,i+=r.scrollLeft)}r(this.elem);for(var a=c(this.elem);a!=s;){e.unshift(a.frameElement);var o=v();n+=o.top,i+=o.left,r(a.frameElement),a=a.parent}this.layoutPosition=d(this.elem,i,n),this.scrollParents=e}},{key:"getLayoutPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!e&&this.layoutPosition||this.calcLayoutPosition(),this.layoutPosition}},{key:"getViewableRect",value:function(){try{this.calcLayoutPosition()}catch(e){return new u({top:0,bottom:0,left:0,right:0})}var e=f(),t=o.default.map(this.scrollParents,(function(e){return e}));t.push(this.elem);for(var n=null,i=e,r=0;r<t.length;r++){if(n=d(t[r],e.left,e.top),this.zeroSizeViewableMode){var a=0===n.width?1:n.width,s=0===n.height?1:n.height;n=new u({top:n.top,left:n.left,width:a,height:s})}if(0===(i=i.getOverlappedArea(n)).width||0===i.height)break}if(this.trimmedRect){var l=this.trimmedRect.copy();return l.transfer(n.left,n.top),i.getOverlappedArea(l)}return i}}]),e}();t.ElementPosition=g,t.default={traverseAllWindows:function(e,t){(function t(n){if(!e(n))return!1;for(var i=n.frames,r=0;r<i.length;r++){var a=i[r];try{a.document.URL}catch(e){continue}if(!t(a))return!1}return!0})(t=t||s)},getElementRect:function(e){var t=e.getBoundingClientRect();return new u({top:Math.round(t.top),left:Math.round(t.left),bottom:Math.round(t.bottom),right:Math.round(t.right)})},getViewedRect:f,getPageSize:function(){var e=0,t=0;return l.body&&(t=l.body.scrollWidth||l.documentElement.scrollWidth,e=l.body.scrollHeight||l.documentElement.scrollHeight),{width:Math.round(t),height:Math.round(e)}},getScreenSize:function(){var e=s.innerWidth||l.documentElement.clientWidth,t=s.innerHeight||l.documentElement.clientHeight;return{width:Math.round(e),height:Math.round(t)}},getScrollPos:v,getTopWindow:function(){return s},getBoundingClientRectAsRect:d,isIframeCrossDomain:function(e){var t=null;try{t=(e.contentWindow.document||e.contentDocument).body.innerHTML}catch(e){}return null===t},getAdElements:function(e){var t=[];if(o.default.forEach(e.getElementsByTagName("*"),(function(e){null!==e.getAttribute("data-ydntxt-item")&&t.push(e)})),t.length>0)return t;var n=e.getElementsByTagName("a");return o.default.forEach(n,(function(e){null!==e.href.match(/https?:\/\/rd\.ane\.yahoo\.co\.jp\//)&&t.push(e)})),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r,a=n(6),o=n(7);t.default=(i=new a.default((new Date).getTime()),r=new o.default.EventManager(i.baseTime),i.set("eventManager",r),{getMaster:function(){return i}})},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(0),o=n(1),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.VIEWED_TIME_CONDITION=1e3,this.VIEWED_AREA_CONDITION=.5,this.rawElement=t,this.trimmedRect=n&&n.trimmedRect?n.trimmedRect:null,this.zeroSizeViewableMode=n&&n.zeroSizeViewableMode;var i={zeroSizeViewableMode:this.zeroSizeViewableMode};this.position=new o.ElementPosition(this.rawElement,this.trimmedRect,i),this.layoutPosition=this.position.getLayoutPosition(),this.lastViewedIn=!1,this.lastViewedStart=0,this.currentViewedTime=0,this.viewedEnoughTime=!1,this.notifiedOnce=!1,this.resizeCheckCount=0,this.viewInTimes=[],this.viewOutTimes=[],this.options=n,this.tagId=n.tagId,this.requestId=n.requestId,this.rank=n.rank,this.viewableInfo=n.viewableInfo,this.viewableTrackingUrlList=n.viewableTrackingUrlList,this.exclusiveId=n.exclusiveId,this.query=n.query||{},this.detector=n.detector,this.rawElement&&this.rawElement.getAttribute("data-ydnnoad")&&(this.isNoObstruction=!0)}var t,n,s;return t=e,(n=[{key:"isBeaconedTarget",value:function(){return this.viewedEnoughTime&&!this.notifiedOnce}},{key:"setAsNotified",value:function(){this.notifiedOnce=!0}},{key:"checkEfpFunction",value:function(){var e=0,t=[],n=this.rawElement.getBoundingClientRect(),i={top:Math.round((n.top+n.bottom)/2),left:Math.round((n.left+n.right)/2)},r={top:n.top+1,left:n.left+1,right:n.right-1,bottom:n.bottom-1};return t.push(document.elementFromPoint(r.left,r.top)),t.push(document.elementFromPoint(r.right,r.top)),t.push(document.elementFromPoint(r.left,r.bottom)),t.push(document.elementFromPoint(r.right,r.bottom)),t.push(document.elementFromPoint(i.left,i.top)),a.default.forEach(t,(function(t){null!==t&&e++}),this),e>=3}},{key:"calcViewableArea",value:function(e){var t=this.position.getViewableRect(),n=t.width*t.height;if(0===n)return 0;var i=this.trimmedRect?this.trimmedRect:o.default.getElementRect(this.rawElement);if(this.zeroSizeViewableMode){var r=0===i.width?1:i.width,a=0===i.height?1:i.height;i=new o.Rect({top:i.top,left:i.left,width:r,height:a})}var s=i.width*i.height,l=e.width*e.height;return 0===s||0===l?0:n/Math.min(s,l)}},{key:"isAdIframe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t>10)return!0;if(o.default.isIframeCrossDomain(e))return e===this.rawElement;var n=e.contentDocument||e.contentWindow.document,i=n.body,r=[];if(a.default.forEach(i.getElementsByTagName("iframe"),(function(e){this.isAdIframe(e,t+1)&&r.push(e)}),this),r.length>0)return!0;if(a.default.forEach(i.getElementsByTagName("*"),(function(e){null!==e.getAttribute("data-ydntxt-item")&&r.push(e)})),r.length>0)return!0;var s=i.getElementsByTagName("a");return a.default.forEach(s,(function(e){null!==e.href.match(/https?:\/\/rd\.ane\.yahoo\.co\.jp\//)&&r.push(e)})),r.length>0}},{key:"getCenterPoints",value:function(){var e=o.default.getBoundingClientRectAsRect(this.rawElement,0,0);if(this.trimmedRect){var t=this.trimmedRect.copy();t.transfer(e.left,e.top),e=t}var n=[];e.height%2==0?(n.push(e.height/2),n.push(e.height/2-1)):n.push(Math.floor(e.height/2));var i=[];e.width%2==0?(i.push(e.width/2),i.push(e.width/2-1)):i.push(Math.floor(e.width/2));for(var r=[],a=0;a<i.length;++a)for(var s=0;s<n.length;++s)r.push({left:e.left+i[a],top:e.top+n[s]});return 4===r.length&&(r=[r[0],r[3]]),r}},{key:"hasNoObstruction",value:function(){if(this.options.viewableMethod&&"getBoundingClientRect"!==this.options.viewableMethod)return!0;if(!0===this.isNoObstruction)return!0;for(var e=this.getCenterPoints(),t=0;t<e.length;++t)if(this.hasNoObstructionAt(e[t].left,e[t].top))return!0;return!1}},{key:"hasNoObstructionAt",value:function(e,t){var n=this,i=window.top.document.elementFromPoint(e,t);if(null===i)return!1;if("iframe"===i.nodeName.toLowerCase())return this.isAdIframe(i);for(var r=function(e){if(e!==n.rawElement)return!1;if(null!==e.getAttribute("data-ydntxt-item")||e.getAttribute("data-rma-viewable"))return!0;var t=e.getAttribute("href");return!(!t||null===t.match(/https?:\/\/rd\.ane\.yahoo\.co\.jp\//))},a=i;null!==a&&a.parentNode;){if(r(a))return!0;a=a.parentNode}for(var o=[{element:i,level:0}];o.length>0;){var s=o.shift();if(!(s.level>3)){if(r(s.element))return!0;for(var l=0;l<s.element.children.length;l++)o.push({element:s.element.children[l],level:s.level+1})}}return!1}},{key:"checkVisibility",value:function(){return"hidden"===window.getComputedStyle(this.rawElement).visibility||document.hidden?(this.lastViewedIn=!1,this.detector.debugLog(this.tagId,{msg:"Target.checkVisibility(), false",target:this}),!1):(this.detector.debugLog(this.tagId,{msg:"Target.checkVisibility(), true",target:this}),!0)}},{key:"check",value:function(e,t){var n;if(this.detector.debugLog(this.tagId,{msg:"Target.check(), enter",target:this}),null!==this.position.trimmedRect){var i=this.position.trimmedRect.width*this.position.trimmedRect.height;if(!o.default.isIframeCrossDomain(this.rawElement)&&0===i&&this.resizeCheckCount<5){var r=this.rawElement.contentDocument||this.rawElement.contentWindow.document,a=o.default.getAdElements(r.body);a.length>=1&&(this.trimmedRect=o.default.getElementRect(a[0]),this.position.trimmedRect=this.trimmedRect),this.resizeCheckCount++}}if("IntersectionObserver"===this.options.viewableMethod)n=this.checkVisibility()&&this.rawElement.dataset.ydnintersectionratio&&this.rawElement.dataset.ydnintersectionratio>=this.VIEWED_AREA_CONDITION,this.detector.debugLog(this.tagId,{msg:"Target.check(), ydnintersectionratio: ".concat(this.rawElement.dataset.ydnintersectionratio)});else if("elementFromPoint"===this.options.viewableMethod)n=this.checkVisibility()&&this.checkEfpFunction();else{var s=this.checkVisibility()?this.calcViewableArea(t):0;n=s>=this.VIEWED_AREA_CONDITION&&this.hasNoObstruction(),this.detector.debugLog(this.tagId,{msg:"Target.check(), viewableArea: ".concat(s)})}this.detector.debugLog(this.tagId,{msg:"Target.check(), nowViewdIn: ".concat(n)}),this.lastViewedIn&&n?this.handleViewContinue():this.lastViewedIn&&!n?this.handleViewOut(e):!this.lastViewedIn&&n&&this.handleViewIn(e),this.detector.debugLog(this.tagId,{msg:"Target.check(), leave"})}},{key:"handleViewIn",value:function(e){this.lastViewedIn=!0,this.lastViewedStart=e,this.currentViewedTime=0,this.viewInTimes.push(this.lastViewedStart)}},{key:"handleViewContinue",value:function(){this.currentViewedTime=r.default.getMaster().getElapsedTime()-this.lastViewedStart,this.currentViewedTime>=this.VIEWED_TIME_CONDITION&&(this.detector.debugLog(this.tagId,{msg:"Target.handleViewContinue(), viewed enough"}),this.viewedEnoughTime=!0)}},{key:"handleViewOut",value:function(e){this.currentViewedTime=e-this.lastViewedStart,this.currentViewedTime>=this.VIEWED_TIME_CONDITION&&(this.detector.debugLog(this.tagId,{msg:"Target.handleViewOut(), viewed enough"}),this.viewedEnoughTime=!0),this.viewOutTimes.push(e),this.lastViewedIn=!1,this.lastViewedStart=0,this.currentViewedTime=0}},{key:"updateRect",value:function(e){e&&(this.trimmedRect=e,this.position.trimmedRect=e)}}])&&i(t.prototype,n),s&&i(t,s),e}();t.default=s},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.BeaconQuery=t.BeaconQueryTemplate=t.ArrayBeaconData=t.StringBeaconData=t.BeaconDataBase=void 0;var d=n(0),f=function(){function e(){u(this,e),this.dataSize=0,this.parent=null}return h(e,[{key:"incrementSize",value:function(e){this.dataSize+=e,this.parent&&this.parent.incrementSize(e)}},{key:"decrementSize",value:function(e){this.dataSize-=e,this.parent&&this.parent.decrementSize(e)}},{key:"getDataSize",value:function(){return this.dataSize}},{key:"exports",value:function(){}}]),e}();t.BeaconDataBase=f;var v=function(e){r(n,e);var t=o(n);function n(e,i){var r;return u(this,n),(r=t.call(this)).value=i?String(e):encodeURIComponent(e),r.incrementSize(r.value.length),r}return h(n,[{key:"exports",value:function(){return this.value}}]),n}(f);function g(e){return e instanceof f?e:d.default.isString(e)||d.default.isNumber(e)?new v(e.toString(),void 0):null}t.StringBeaconData=v;var p=function(e){r(n,e);var t=o(n);function n(e){var i;return u(this,n),(i=t.call(this)).sep=encodeURIComponent(e),i.children=[],i}return h(n,[{key:"exports",value:function(){return d.default.map(this.children,(function(e){return e.exports()}),this).join(this.sep)}},{key:"push",value:function(e){var t=g(e);this.children.length>0&&this.incrementSize(this.sep.length),this.incrementSize(t.dataSize),this.children.push(t),t.parent=this}},{key:"clear",value:function(){this.children=[],this.dataSize=0}}]),n}(f);t.ArrayBeaconData=p;var m=function(){function e(t,n){u(this,e),this.options=n||{},this.definition={},this.exportOrder=[],this.staticValueNums=0,this.staticValueSize=0,d.default.forEach(t,(function(e){e._encodedKey=encodeURIComponent(e.key),"static"===e.type&&(e._encodedValue=encodeURIComponent(e.value),this.staticValueSize+=e._encodedKey.length,this.staticValueSize+=1,this.staticValueSize+=e._encodedValue.length,this.staticValueNums>0&&(this.staticValueSize+=1),this.staticValueNums++),this.definition[e.name]=e,this.exportOrder.push(e.name)}),this)}return h(e,[{key:"getInstance",value:function(){return new y(this)}},{key:"isDefinedVar",value:function(e){return this.definition[e]&&"var"===this.definition[e].type}},{key:"getStaticValueSize",value:function(){return this.staticValueSize}},{key:"setLazyStaticValue",value:function(e,t){var n=this.definition[e];n._encodedValue&&(this.staticValueSize-=n._encodedKey.length,this.staticValueSize-=1,this.staticValueSize-=n._encodedValue.length,n._encodedValue=null,this.staticValueNums-=1,0!==this.staticValueNums&&(this.staticValueSize-=1)),t&&(n._encodedValue=encodeURIComponent(t),this.staticValueSize+=n._encodedKey.length,this.staticValueSize+=1,this.staticValueSize+=n._encodedValue.length,this.staticValueNums>0&&(this.staticValueSize+=1),this.staticValueNums++)}}]),e}();t.BeaconQueryTemplate=m;var y=function(){function e(t){u(this,e),this.template=t,this.vars={}}return h(e,[{key:"bind",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n=t instanceof f||!i?g(t):new v(t,!0),this.template.isDefinedVar(e)&&(this.vars[e]=n)}},{key:"exports",value:function(){var e="";return d.default.forEach(this.template.exportOrder,(function(t){var n=this.template.definition[t];"static"===n.type&&(e.length>0&&(e+="&"),e+=n._encodedKey+"="+n._encodedValue),"lazy-static"===n.type?n._encodedValue&&(e.length>0&&(e+="&"),e+=n._encodedKey+"="+n._encodedValue):"random"===n.type?(e.length>0&&(e+="&"),e+=n._encodedKey+"="+d.default.makeRandomString()):"var"===n.type&&this.vars[t]&&(e.length>0&&(e+="&"),e+=n._encodedKey+"="+this.vars[t].exports())}),this),e}}]),e}();t.BeaconQuery=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=n(8),a=n(18),o=n(19);!function(){var e;try{window.top.document;e=window.top}catch(t){e=window}e.YJ_UADF||(e.YJ_UADF={});var t=e.YJ_UADF;if(!(t&&t.YADSViewable&&t.YADSViewable.initialized)){var n=new o.default,s=new r.default(n),l=new a.default(s);t.YADSViewable={initialized:!0,notifyRendered:function(e){l.notifyRendered(e)},notifyStreamAttached:function(e,t,n){l.notifyStreamAttached(e,t,n)},notifyTimelineAttached:function(e,t,n,i,r){l.notifyTimelineAttached(e,t,n,i,r)},markAdsForDebug:function(e){l.markAdsForDebug(e)},toggleDsDisplayForDebug:function(){l.toggleDsDisplayForDebug()},enableDebugLog:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s.enableDebugLog(e),t&&i.default.getMaster().get("eventManager").enableDebugLog()}}}}()},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseTime=t,this.incrementedKey=0,this.data={}}var t,n,r;return t=e,(n=[{key:"getElapsedTime",value:function(){return(new Date).getTime()-this.baseTime}},{key:"getAutoIncrementedKey",value:function(){return++this.incrementedKey}},{key:"set",value:function(e,t){this.data[e]=t}},{key:"get",value:function(e){return this.data[e]}}])&&i(t.prototype,n),r&&i(t,r),e}();t.default=r},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Action=t.PollingManager=void 0;var d=n(0),f=n(1),v=function(){function e(t,n){u(this,e),this.manager=t,this.pollInterval=n,this.targets=[],this.timer=null,this.activeNums=0}return h(e,[{key:"start",value:function(){var e=this,t=f.default.getTopWindow();this.timer=t.setInterval((function(){e.poll()}),this.pollInterval)}},{key:"stop",value:function(){f.default.getTopWindow().clearInterval(this.timer),this.timer=null}},{key:"poll",value:function(){var e=(new Date).getTime();d.default.forEach(this.targets,(function(t){if(t.active){var n=e-t.lastFiredAt;if(n>=t.interval){var i=e-this.manager.baseTime;this.manager.debugLog({msg:"PollingManager.poll, elapsedTime: ".concat(i,", interval: ").concat(n,", lastFiredAt: ").concat(t.lastFiredAt)}),t.method.call(t.context,"Polling",{}),t.lastFiredAt=e}}}),this)}},{key:"registerHandler",value:function(e,t,n){var i={active:!1,interval:e,context:t,method:n,lastFiredAt:(new Date).getTime(),lazyCounter:0},r=this.targets.length;return this.targets.push(i),r}},{key:"activateHandler",value:function(e){this.targets[e].active=!0,0===this.activeNums&&this.start(),this.activeNums++}},{key:"deactivateHandler",value:function(e){this.targets[e].active=!1,this.activeNums--,0===this.activeNums&&this.stop()}}]),e}();t.PollingManager=v;var g=function(){function e(t,n){u(this,e),this.manager=t,this.context=n.context,this.method=n.method,this.name=n.name||this.method.name||"UNNAMED",this.events=n.events||[],this.polling=n.polling||-1,this.minInterval=n.minInterval||0,this.lastFiredAt=0,this.eventKeys=[],this.pollingKey=-1,this.registerHandlers()}return h(e,[{key:"registerHandlers",value:function(){d.default.forEach(this.events,(function(e){var t=this.manager.getEvent(e),n=t.registerHandler(this,this.fire);this.eventKeys.push({event:t,key:n})}),this),this.polling>=0&&(this.pollingKey=this.manager.poller.registerHandler(this.polling,this,this.fire)),this.activate()}},{key:"activate",value:function(){d.default.forEach(this.eventKeys,(function(e){e.event.activateHandler(e.key)}),this),this.pollingKey>=0&&this.manager.poller.activateHandler(this.pollingKey)}},{key:"deactivate",value:function(){d.default.forEach(this.eventKeys,(function(e){e.event.deactivateHandler(e.key)}),this),this.pollingKey>=0&&this.manager.poller.deactivateHandler(this.pollingKey)}},{key:"fire",value:function(e,t){var n=(new Date).getTime(),i=!1;if((0===this.minInterval||0===this.lastFiredAt||n-this.lastFiredAt>this.minInterval)&&(i=!0),i){var r=t||{};this.lastFiredAt=n;var a=n-this.manager.baseTime;this.method.call(this.context,a,e,r)}}}]),e}();t.Action=g;var p=function(){function e(t){u(this,e),this.baseTime=t,this.poller=new v(this,50),this.events={},this.debugLog=function(){}}return h(e,[{key:"newAction",value:function(e){return new g(this,e)}},{key:"getEvent",value:function(e){if(this.events[e])return this.events[e];if(!w[e])return null;var t=new w[e](this);return this.events[e]=t,t}},{key:"enableDebugLog",value:function(){var e=console;this.debugLog=function(t,n){var i={time:Date.now()};e.debug(Object.assign(i,t))}}}]),e}();function m(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n)}function y(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n)}var b=function(){function e(t){u(this,e),this.manager=t,this.eventName="",this.handlers=[],this.activeNums=0}return h(e,[{key:"registerHandler",value:function(e,t){var n={active:!1,context:e,method:t},i=this.handlers.length;return this.handlers.push(n),i}},{key:"activateHandler",value:function(e){this.handlers[e].active=!0,0===this.activeNums&&this.setup(),this.activeNums++}},{key:"deactivateHandler",value:function(e){this.handlers[e].active=!1,this.activeNums--,0===this.activeNums&&this.cleanup()}},{key:"setup",value:function(){}},{key:"fire",value:function(e){this.manager.debugLog({msg:"MetaEvent.fire, eventName: ".concat(this.eventName),eventData:e}),d.default.forEach(this.handlers,(function(t){t.active&&t.method.call(t.context,this.eventName,e)}),this)}},{key:"cleanup",value:function(){}}]),e}(),w={onLoad:function(e){r(n,e);var t=o(n);function n(e){var i;return u(this,n),(i=t.call(this,e)).eventName="onLoad",i}return h(n,[{key:"setup",value:function(){var e=this,t=f.default.getTopWindow();this.boundHandler=function(t){e.fire({nativeEvent:t})},m(t,"load",this.boundHandler,!1)}},{key:"cleanup",value:function(){y(f.default.getTopWindow(),"load",this.boundHandler,!1)}}]),n}(b),viewPosChange:function(e){r(n,e);var t=o(n);function n(e){var i;return u(this,n),(i=t.call(this,e)).eventName="viewPosChange",i.changeThreshold=50,i}return h(n,[{key:"setup",value:function(){var e=this,t=f.default.getTopWindow();this.nativeWrapper=function(t){e.nativeHandler({nativeEvent:t})},m(t,"scroll",this.nativeWrapper,!1),m(t,"touchmove",this.nativeWrapper,!1)}},{key:"fireManually",value:function(){var e={nativeEvent:{},rect:{}};e.rect=f.default.getViewedRect(),this.fire(e)}},{key:"nativeHandler",value:function(e){var t=f.default.getViewedRect();e.rect=t,(!this.lastViewedRect||t.width!==this.lastViewedRect.width||t.height!==this.lastViewedRect.height||Math.abs(t.top-this.lastViewedRect.top)>=this.changeThreshold||Math.abs(t.left-this.lastViewedRect.left)>=this.changeThreshold)&&(this.fire(e),this.lastViewedRect=t)}},{key:"cleanup",value:function(){var e=f.default.getTopWindow();y(e,"scroll",this.nativeWrapper,!1),y(e,"touchmove",this.nativeWrapper,!1)}}]),n}(b)};t.default={EventManager:p,MetaEvent:b,MetaEventDefinition:w}},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(0),o=n(1),s=n(4),l=n(3),u=n(9),c=n(10),h=n(11),d=n(12),f=n(14),v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions={checkViewableState:{events:["onLoad","viewPosChange"],polling:95,minInterval:95}};var n=[{name:"rs",type:"static",key:"rs",value:"yads_vb"},{name:"beaconType",type:"var",key:"bt"},{name:"pvRandom",type:"lazy-static",key:"pv"},{name:"beaconRandom",type:"random",key:"rand"},{name:"seqNum",type:"var",key:"seq"},{name:"elapsedTime",type:"var",key:"et"},{name:"retryNum",type:"var",key:"rn"},{name:"mainshrink",type:"var",key:"mainshrink"},{name:"sidehide",type:"var",key:"sidehide"},{name:"reportData",type:"var",key:"vi"},{name:"measurable",type:"var",key:"measurable"}];this.targetVisualizer=t,this.serialNumber=100,this.registerAllActions(),this.targets=[],this.viewedQueryTmpl=new s.BeaconQueryTemplate(n,{}),this.requestIdTable={},this.targetProxies={},this.streamAttachedMessageStack=[],this.timelineTargetProxies={},this.timelineAttachedMessageStack=[],this.frameNotifyingTargets=[],this.pendingCollectingTextAdsIn={},this.alreadySentBeacon=[],this.beaconNum=0,this.beaconSenderForViewableBeacon=new h.BeaconSender({uri:"https://b94.yahoo.co.jp/v",requestType:"sendbeacon"}),this.beaconSenderForMeasurableBeacon=new h.BeaconSender({uri:"https://b94.yahoo.co.jp/m",requestType:"sendbeacon"}),this.pvRandom=a.default.makeRandomString(),this.viewedQueryTmpl.setLazyStaticValue("pvRandom",this.pvRandom),this.messageQueryTmpl=new s.BeaconQueryTemplate(n,{}),"IntersectionObserver"in window&&(this.iobserver=new IntersectionObserver(this.iObserverCallback,{threshold:function(){for(var e=[0],t=1;t<=100;t++)e.push(t/100);return e}()})),this.bucketManager=new d.default(Math.random()),this.debugLog=function(){}}var t,n,v;return t=e,(n=[{key:"registerAllActions",value:function(){a.default.forEachHash(this.actions,(function(e,t){var n=this.registerAction(e,t);this.actions[e]._registered=n}),this)}},{key:"registerAction",value:function(e,t){var n={context:this,method:this[e],name:e,events:t.events,polling:t.polling,minInterval:t.minInterval};return r.default.getMaster().get("eventManager").newAction(n)}},{key:"isCollectedElem",value:function(e){if(e.__uadfCollectedBy)for(var t=e.__uadfCollectedBy,n=0;n<t.length;n++)if(t[n]===this.serialNumber)return!0;return!1}},{key:"setAsCollected",value:function(e){e.__uadfCollectedBy||(e.__uadfCollectedBy=[]),e.__uadfCollectedBy.push(this.serialNumber)}},{key:"registerTarget",value:function(e,t){if(!this.isCollectedElem(e)||t&&t.canDuplicate){(t=t||{}).bucketManager=this.bucketManager,t.detector=this;var n=new l.default(e,t);return this.targets.push(n),this.setAsCollected(e),this.targetVisualizer.setDebugStyle(n),"IntersectionObserver"===t.viewableMethod&&this.iobserver.observe(e),n}return null}},{key:"checkViewableState",value:function(e,t,n){this.debugLog("any",{msg:"Detector.checkViewableState, eventName: ".concat(t,", targetNum: ").concat(this.targets.length,", elapsedTime: ").concat(e),eventData:n});var i=n.rect?n.rect:o.default.getViewedRect();a.default.forEach(this.targets,(function(t){t.check(e,i)}),this),this.sendViewableBeacon(e),a.default.forEach(this.frameNotifyingTargets,(function(t){t.check(e,i)}),this)}},{key:"_isSessionStorageAvailable",value:function(){try{return window.sessionStorage&&window.sessionStorage.getItem&&window.sessionStorage.setItem}catch(e){return!1}}},{key:"_storeSentViewableInfo",value:function(e,t){if(this._isSessionStorageAvailable()&&t){var n="";if(a.default.isArray(t))a.default.forEach(t,(function(e){n+=e.slice(0,64)+","})),n=n.slice(0,-1);else{if("string"!=typeof t)return;n=t.slice(0,64)}var i=window.sessionStorage.getItem(e)||"",r=i?"".concat(i,",").concat(n):n;window.sessionStorage.setItem(e,r)}}},{key:"_isAlreadySent",value:function(e,t){if(!this._isSessionStorageAvailable())return!1;var n=window.sessionStorage.getItem(e)||"",i=t.slice(0,64);return-1!==n.indexOf(i)}},{key:"_sendMeasurableBeacon",value:function(e,t,n){var i,o=this;if(this.beaconSenderForMeasurableBeacon.beaconAllowed&&e&&!((i=(i=function e(t){return t.reduce((function(t,n){return Array.isArray(n)?t.concat(e(n)):t.concat(n)}),[])}(i="string"==typeof e?[e]:e)).filter((function(e){return!o._isAlreadySent("measurable",e)}))).length<=0)){var s;this._storeSentViewableInfo("measurable",i);var l=navigator.userAgent;if(l.match(/MSIE/)||l.match(/Trident/)){var u=parseInt(l.match(/(MSIE\s|rv:)([\d.]+)/)[2]);s=u>=11?5e3:1500}else s=8e3;var c=function(e,i,a,s){var l=e.getInstance();l.bind("beaconType","5"),l.bind("seqNum",i),l.bind("elapsedTime",r.default.getMaster().getElapsedTime()),l.bind("measurable",t),l.bind("reportData",d.data);var u=l.exports();if(a.sendString(u),s.isSamplingBeaconTarget(n)){var c=o.bucketManager.getBucketName(n),h=o.bucketManager.getSamplingBeaconData(n,c);f.default(n,u,h)}},d=new h.ReportBeaconData;a.default.forEach(i,(function(e){"non_ydn"!==e&&(d.getDataSize()>0&&d.getDataSize()+e.length>=s&&(c(this.viewedQueryTmpl,++this.beaconNum,this.beaconSenderForMeasurableBeacon,this.bucketManager),d=new h.ReportBeaconData),d.push(e))}),this),d.getDataSize()>0&&c(this.viewedQueryTmpl,++this.beaconNum,this.beaconSenderForMeasurableBeacon,this.bucketManager)}}},{key:"sendMeasurableBeacon",value:function(e,t){this._sendMeasurableBeacon(e,"1",t)}},{key:"sendNonMeasurableBeacon",value:function(e,t){this._sendMeasurableBeacon(e,"0",t)}},{key:"registerTargetProxyForStream",value:function(e,t,n,i){var r,o=e.split("-")[0];this.targetProxies[o]=null!==(r=this.targetProxies[o])&&void 0!==r?r:[],a.default.forEach(n,(function(n,r){var a=r+1,s=i&&i[r]||[],l=new c.TargetProxy(e,t,a,n,s);this.targetProxies[o].push(l)}),this),this.procStreamAttachedMessage(o)}},{key:"notifyStreamAttached",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.streamAttachedMessageStack.push([e,t,n]),this.procStreamAttachedMessage(e)}},{key:"procStreamAttachedMessage",value:function(e){if(this.targetProxies[e]){for(var t=[];this.streamAttachedMessageStack.length>0;){var n=this.streamAttachedMessageStack.shift();n[0]===e?this.registerDummyTargetForStream(n[0],n[1],n[2]):t.push(n)}this.streamAttachedMessageStack=t}}},{key:"registerDummyTargetForStream",value:function(e,t,n){var i=o.default.getTopWindow().document.getElementById(t);if(i){var r=Array.prototype.slice.apply(i.querySelectorAll(".yads_stream [data-ydntxt-item]"));for(var s in this.pendingCollectingTextAdsIn)Object.prototype.hasOwnProperty.call(this.pendingCollectingTextAdsIn,s)&&(0,this.pendingCollectingTextAdsIn[s])();a.default.forEach(r,(function(t,i){if(!this.isCollectedElem(t)){var r=i-n;if(!(r<0)){var a=this.targetProxies[e][r];if(a){var o=new c.DummyTarget(t,{rank:i+1,proxy:a,bucketManager:this.bucketManager,detector:this});this.targets.push(o),this.targetVisualizer.setDebugStyle(o),this.setAsCollected(t)}}}}),this)}}},{key:"registerTargetProxyForTimeline",value:function(e,t,n,i,r,a){if(!this.timelineTargetProxies[e]){this.timelineTargetProxies[e]=[];for(var o=r||[],s=0;s<t;s++){var l=a&&a[s]||[],u=new c.TargetProxy(n,i,s+1,o[s],l);this.timelineTargetProxies[e][s]=u}this.procTimelineAttachedMessage(e)}}},{key:"notifyTimelineAttached",value:function(e,t,n,i,r){this.timelineAttachedMessageStack.push([e,t,n,i,r]),this.procTimelineAttachedMessage(e)}},{key:"procTimelineAttachedMessage",value:function(e){var t=this.timelineTargetProxies[e];if(t){for(var n=[];this.timelineAttachedMessageStack.length>0;){var i=this.timelineAttachedMessageStack.shift();if(i[0]===e){var r=i[3],a=i[4],o=t[r-1];if(!o)return;var s=new c.DummyTarget(a,{rank:r,proxy:o,bucketManager:this.bucketManager,detector:this});this.targets.push(s),this.targetVisualizer.setDebugStyle(s),this.setAsCollected(a)}else n.push(i)}this.timelineAttachedMessageStack=n}}},{key:"collectRichAdsIn",value:function(e,t,n,i,r){var s=this,l=o.default.getTopWindow(),u=function(e){var t=1800,o=null,u=function(){try{--t<=0&&l.clearInterval(o);var u=s.getRichAds(e);if(0===u.length)return;var c=0;a.default.forEach(u,(function(e){var t=i&&i[c]||null,a=r&&r[c]||[];s.registerTarget(e,{tagId:n,exclusiveId:n,viewableInfo:t,query:s.getRichAdsQuery(e),viewableTrackingUrlList:a}),c++}),s),l.clearInterval(o)}catch(e){}};o=l.setInterval(u,100),u()},c=e.getElementById(t);c?u(c):function(n){var i=30,r=null;function a(){try{--i<=0&&l.clearInterval(r);var a=e.getElementById(t);a&&(l.clearInterval(r),n(a))}catch(e){}}r=l.setInterval(a,100),a()}(u)}},{key:"getRichAds",value:function(e){var t=[];return a.default.forEach(e.getElementsByTagName("*"),(function(e){null!==e.getAttribute("data-rma-viewable")&&t.push(e)})),t}},{key:"getRichAdsQuery",value:function(e){return e?{getMainshrink:function(){return e.getAttribute("data-rma-mainshrink")},getSidehide:function(){return e.getAttribute("data-rma-sidehide")}}:{getMainshrink:function(){return null},getSidehide:function(){return null}}}},{key:"collectTextAdsIn",value:function(e,t,n,i,r,s){var l=this,u=0,c=1800,h=null,d=o.default.getTopWindow(),f=function(){try{--c<=0&&(delete l.pendingCollectingTextAdsIn[h],d.clearInterval(h));var f=o.default.getAdElements(e);if(0===f.length)return;a.default.forEach(f,(function(e){n in l.requestIdTable||(l.requestIdTable[n]=0);var a=++l.requestIdTable[n],o=i&&i[u]||null,c=s&&s[u]||[];l.registerTarget(e,{tagId:t,requestId:n,rank:a,viewableInfo:o,viewableMethod:r,viewableTrackingUrlList:c}),u++}),l),delete l.pendingCollectingTextAdsIn[h],d.clearInterval(h)}catch(e){}};h=d.setInterval(f,100),this.pendingCollectingTextAdsIn[h]=f,f()}},{key:"getBeaconDataForTarget",value:function(e){return e.viewableInfo}},{key:"sendViewThroughConversionBeacon",value:function(e){e&&e.viewableTrackingUrlList&&a.default.forEach(e.viewableTrackingUrlList,(function(e){window.navigator.sendBeacon&&window.navigator.sendBeacon(e)||(document.createElement("img").src=e)}))}},{key:"sendViewableBeacon",value:function(e){if(this.beaconSenderForViewableBeacon.beaconAllowed){var t=[];a.default.forEach(this.targets,(function(e){if(e.isBeaconedTarget()&&-1===this.alreadySentBeacon.indexOf(e.exclusiveId)){this.targetVisualizer.setDebugStyle(e);var n=this.getBeaconDataForTarget(e);if(n&&!this._isAlreadySent("viewable",n)){e.exclusiveId&&this.alreadySentBeacon.push(e.exclusiveId);var i=null;e.query&&e.query.getMainshrink&&(i=e.query.getMainshrink());var r=null;e.query&&e.query.getSidehide&&(r=e.query.getSidehide()),e.setAsNotified(),t.push({viewableInfo:n,mainshrink:i,sidehide:r,target:e}),this._storeSentViewableInfo("viewable",n)}}}),this),t.length>0&&a.default.forEach(t,(function(t){if("non_ydn"!==t.viewableInfo){var n=new h.ReportBeaconData;n.push(t.viewableInfo);var i=this.viewedQueryTmpl.getInstance();i.bind("reportData",n.data),i.bind("beaconType","2"),i.bind("seqNum",++this.beaconNum),i.bind("elapsedTime",e),t.mainshrink&&i.bind("mainshrink",t.mainshrink),t.sidehide&&i.bind("sidehide",t.sidehide);var r=i.exports();if(this.beaconSenderForViewableBeacon.sendString(r),this.sendViewThroughConversionBeacon(t.target),this.bucketManager.isSamplingBeaconTarget(t.target.tagId)){var a=this.bucketManager.getBucketName(t.target.tagId),o=this.bucketManager.getSamplingBeaconData(t.target.tagId,a,t.target);f.default(t.target.tagId,r,o)}}}),this)}}},{key:"registerFrameNotifyingTargets",value:function(e,t){this.frameNotifyingTargets.push(new u.default(t,{tagId:e,bucketManager:this.bucketManager,detector:this}))}},{key:"markAdsForDebug",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.targetVisualizer.enable(),this.targetVisualizer.setIsDsDisplay(t),a.default.forEach(this.targets,(function(t){e.targetVisualizer.setDebugStyle(t)}))}},{key:"toggleDsDisplayForDebug",value:function(){var e=this;a.default.forEach(this.targets,(function(t){e.targetVisualizer.toggleDsDisplay(t)}))}},{key:"updateTargetRect",value:function(e,t){a.default.forEach(this.targets,(function(n){n.viewableInfo===t&&n.updateRect(e)}),this),r.default.getMaster().get("eventManager").getEvent("viewPosChange").fireManually()}},{key:"iObserverCallback",value:function(e){a.default.forEach(e,(function(e){e.target.dataset.ydnintersectionratio=e.intersectionRatio}))}},{key:"enableDebugLog",value:function(e){var t;t="string"==typeof e?[e]:e;var n=console;this.debugLog=function(e,i){if("any"===e||t.some((function(t){return 0==e.indexOf(t)}))){var r={adprodset:e,time:Date.now()};n.debug(Object.assign(r,i))}}}}])&&i(t.prototype,n),v&&i(t,v),e}();t.default=v},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0});var h=n(3),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(d,e);var t,n,i,l=s(d);function d(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(n=l.call(this,e,t)).tagId=t.tagId,n.sendNumViewIn=0,n.sendNumViewable=0,n.sendNumViewOut=0,h.default.call(u(n),e,t),n}return t=d,(n=[{key:"sendNotification",value:function(e,t,n){var i=this.rawElement.contentWindow;if(i&&i.postMessage){var r="vimpsMessage,"+t+","+n+","+e;i.postMessage(r,"*")}}},{key:"handleViewIn",value:function(e){a(c(d.prototype),"handleViewIn",this).call(this,e),this.sendNotification(e,"view-in",++this.sendNumViewIn)}},{key:"handleViewContinue",value:function(e){var t=this.viewedEnoughTime;a(c(d.prototype),"handleViewContinue",this).call(this,e),!t&&this.viewedEnoughTime&&this.sendNotification(e,"viewable",++this.sendNumViewable)}},{key:"handleViewOut",value:function(e){a(c(d.prototype),"handleViewOut",this).call(this,e),this.sendNotification(e,"view-out",++this.sendNumViewOut)}},{key:"sendAbortMessage",value:function(){var e=this.rawElement.contentWindow;e.postMessage&&e.postMessage("vimpsMessage,aborted","*")}}])&&r(t.prototype,n),i&&r(t,i),d}(h.default);t.default=d},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.DummyTarget=t.TargetProxy=void 0;var d=n(3),f=function(){function e(t,n,i,r,a){u(this,e),this.tagId=t,this.requestId=n,this.rank=i,this.viewableInfo=r,this.viewableTrackingUrlList=a,this.targets=[]}return h(e,[{key:"setDummyTarget",value:function(e){this.targets.push(e)}}]),e}();t.TargetProxy=f;var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(n,e);var t=a(n);function n(e,i){var r;return u(this,n),i.tagId=i.proxy.tagId,i.requestId=i.proxy.requestId,i.viewableInfo=i.proxy.viewableInfo,i.viewableTrackingUrlList=i.proxy.viewableTrackingUrlList,(r=t.call(this,e,i)).proxy=i.proxy,r.proxy.setDummyTarget(s(r)),r}return h(n,[{key:"isBeaconedTarget",value:function(){return this.viewedEnoughTime&&!this.proxy.notifiedOnce}},{key:"setAsNotified",value:function(){this.proxy.notifiedOnce=!0}}]),n}(d.default);t.DummyTarget=v},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.ReportBeaconData=t.BeaconSender=void 0;var o=n(4),s=function(){function e(t){i(this,e),this.uri=t.uri,this.requestType=t.requestType,this.beaconAllowed=!1}return a(e,[{key:"doRequest",value:function(e){var t=this.uri;(e.length>0&&(t+="?"+e+"&EOQ"),"sendbeacon"===this.requestType&&window.navigator.sendBeacon)?window.navigator.sendBeacon(t)||(document.createElement("img").src=t):document.createElement("img").src=t}},{key:"sendString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(t||this.beaconAllowed)&&this.doRequest(e)}},{key:"setAllowed",value:function(){this.beaconAllowed=!0}},{key:"setDisallowed",value:function(){this.beaconAllowed=!1}},{key:"setUri",value:function(e){this.uri=e}}]),e}();t.BeaconSender=s;var l=function(){function e(){i(this,e),this.separator="&",this.data=new o.ArrayBeaconData(this.separator)}return a(e,[{key:"push",value:function(e){this.data.push(e)}},{key:"getDataSize",value:function(){return this.data.getDataSize()}}]),e}();t.ReportBeaconData=l},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),a=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=n||r.default,this.config=n,window.YJ_UADF&&window.YJ_UADF.bucketManager&&"number"==typeof window.YJ_UADF.bucketManager.selectValue&&(t=window.YJ_UADF.bucketManager.selectValue),this.selectValue=t,this.activeFeatures=[];this.selected={},Object.keys(n).forEach((function(e){i.selected[e]=function(e,t){for(var n=0,i=0;i<e.length;++i)if(0<=e[i].rate&&e[i].rate<1&&t<(n+=e[i].rate))return i;return-1}(n[e],t)}))}var t,n,a;return t=e,(n=[{key:"getBucket",value:function(e){var t={name:"default",rate:1};if(!e)return t;var n=e.split("-")[0];if(!this.config[n]||-1===this.selected[n])return t;var i=this.selected[n];return this.config[n][i]}},{key:"getBucketName",value:function(e){return this.getBucket(e).name}},{key:"isFeatureEnabled",value:function(e,t){if(window.YJ_UADF&&window.YJ_UADF.bucketManager&&window.YJ_UADF.bucketManager.features&&window.YJ_UADF.bucketManager.features.some((function(e){return e.toLowerCase()===t.toLowerCase()})))return!0;var n=this.getBucket(e);return!!n.features&&n.features.some((function(e){return e===t}))}},{key:"isSamplingBeaconTarget",value:function(e){return!!this.getBucket(e).beacontarget}},{key:"getSamplingBeaconData",value:function(e,t,n){var i=this.getBucket(e);if(!i.beacondata)return"";try{return i.beacondata(t,n)}catch(e){return"error"}}}])&&i(t.prototype,n),a&&i(t,a),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15);t.default=function(e,t,n){var r={tk:"b4db4bd2-193f-49c8-b029-1504f702baf5",p:"uadf",d:"sampling_beacon"};r.adprodset=e;var a=i.parse(t);r.pv=a.pv,r.rand=a.rand,r.vi=a.vi.substring(0,10),"1"==a.measurable?r.type="m":"0"==a.measurable?r.type="nm":r.type="v",r.tm=(new Date).getTime(),r.aux=n,document.createElement("img").src="https://dsb.yahoo.co.jp/api/v1/clear.gif?"+i.stringify(r)}},function(e,t,n){"use strict";t.decode=t.parse=n(16),t.encode=t.stringify=n(17)},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var h,d,f,v,g=e[c].replace(s,"%20"),p=g.indexOf(n);p>=0?(h=g.substr(0,p),d=g.substr(p+1)):(h=g,d=""),f=decodeURIComponent(h),v=decodeURIComponent(d),i(o,f)?r(o[f])?o[f].push(v):o[f]=[o[f],v]:o[f]=v}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?a(o(e),(function(o){var s=encodeURIComponent(i(o))+n;return r(e[o])?a(e[o],(function(e){return s+encodeURIComponent(i(e))})).join(t):s+encodeURIComponent(i(e[o]))})).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.detector=t,this.setMessageEventHandler()}var t,n,o;return t=e,(n=[{key:"handleVImpsMode",value:function(e){return 0!==e}},{key:"notifyRendered",value:function(e){if(e.viewableUrl&&this.detector.beaconSenderForViewableBeacon.setUri(e.viewableUrl),e.measurableUrl?(this.detector.beaconSenderForMeasurableBeacon.setUri(e.measurableUrl),this.detector.beaconSenderForMeasurableBeacon.setAllowed()):this.detector.beaconSenderForMeasurableBeacon.setDisallowed(),this.handleVImpsMode(e.vimpsMode)){this.detector.beaconSenderForViewableBeacon.setAllowed();var t=r.default.getTopWindow();if("multi"===e.type){var n=e.parentIdList;a.default.forEach(n,(function(n,i){var r=t.document.getElementById(n)||window.document.getElementById(n);if(!r&&e.fif&&(r=e.fif.contentDocument.getElementById(n)),r){var a=e.viewableInfoList&&e.viewableInfoList[i]||null,o=e.viewableTrackingUrlList&&e.viewableTrackingUrlList[i]||[];this.detector.collectTextAdsIn(r,e.adProdSetCode,e.requestId,a,e.viewableMethod,o)}}),this)}else if("single_with_parent"===e.type){var i=e.parentId,o=t.document.getElementById(i)||window.document.getElementById(i);!o&&e.fif&&(o=e.fif.contentDocument.getElementById(i)),o&&this.detector.collectTextAdsIn(o,e.adProdSetCode,e.requestId,e.viewableInfo,e.viewableMethod,e.viewableTrackingUrlList)}else"doc_write"===e.type?this.detector.collectTextAdsIn(e.docWriteCaller.parentNode,e.adProdSetCode,e.requestId,e.viewableInfo,e.viewableMethod,e.viewableTrackingUrlList):"stream"===e.type?e.viewableInfo&&this.detector.registerTargetProxyForStream(e.adProdSetCode,e.requestId,e.viewableInfo,e.viewableTrackingUrlList):"timeline"===e.type?this.detector.registerTargetProxyForTimeline(e.uniqueId,e.adNum,e.adProdSetCode,e.requestId,e.viewableInfo,e.viewableTrackingUrlList):"richad"===e.type&&a.default.forEach(e.parentIdList,(function(n){this.detector.collectRichAdsIn(t.document,n,e.adProdSetCode,e.viewableInfo,e.viewableTrackingUrlList)}),this);this.detector.sendMeasurableBeacon(e.viewableInfoList||e.viewableInfo,e.adProdSetCode)}else this.detector.sendNonMeasurableBeacon(e.viewableInfoList||e.viewableInfo,e.adProdSetCode)}},{key:"notifyStreamAttached",value:function(e,t,n){this.detector.notifyStreamAttached(e,t,n)}},{key:"notifyTimelineAttached",value:function(e,t,n,i,r){this.detector.notifyTimelineAttached(e,t,n,i,r)}},{key:"messageEventHandlers",get:function(){return{frameStarted:{method:this.handleFrameStartedMessage},frameLoaded:{method:this.handleFrameLoadedMessage},frameScrolled:{method:this.handleFrameScrolledMessage},frameUpdateCallbackElement:{method:this.handleFrameUpdateCallbackElement}}}},{key:"setMessageEventHandler",value:function(){var e=this,t=function(t){e.handleMessageEvent(t)},n=r.default.getTopWindow();n.addEventListener?n.addEventListener("message",t,!1):n.attachEvent("onmessage",t)}},{key:"handleMessageEvent",value:function(e){if(("http://i.yimg.jp"===e.origin||"https://s.yimg.jp"===e.origin||/\.yahoo\.co\.jp(:[0-9]+)?$/.test(e.origin))&&a.default.isString(e.data)){var t=e.data.split(","),n=t[0],i=this.messageEventHandlers[n];i&&i.method.call(this,t,e)}}},{key:"detectMessagedFrame",value:function(e){var t=r.default.getTopWindow(),n=null;return r.default.traverseAllWindows((function(t){for(var i=t.document.getElementsByTagName("iframe"),r=0;r<i.length;r++)if(i[r].contentWindow===e)return n=i[r],!1;return!0}),t),n}},{key:"handleFrameStartedMessage",value:function(e,t){if(3===e.length){var n=parseInt(e[1],10);if(!isNaN(n)&&this.handleVImpsMode(n)){var i=this.detectMessagedFrame(t.source);if(i){var r=e[2];this.detector.registerFrameNotifyingTargets(r,i)}}}}},{key:"handleFrameLoadedMessage",value:function(e,t){var n=parseInt(e[1],10);if(!isNaN(n)){var i=e[5],r=e[6];r&&this.detector.beaconSenderForViewableBeacon.setUri(r),i?(this.detector.beaconSenderForMeasurableBeacon.setUri(i),this.detector.beaconSenderForMeasurableBeacon.setAllowed()):this.detector.beaconSenderForMeasurableBeacon.setDisallowed();var o=e[2];if(this.handleVImpsMode(n)){this.detector.beaconSenderForViewableBeacon.setAllowed();var s=this.detectMessagedFrame(t.source);if(s){var l=e[3];if("non_ydn"!==l){if(0!==e[4].indexOf("ERR")){var u=e[4].split("|");a.default.forEach(u,(function(e,t){var n=this.parseViewableInfo(e);if(n){var i=n[0],r=n[1],a=n[2];if(i){var u={canDuplicate:!0,tagId:o,requestId:l,rank:t+1,viewableInfo:i,viewableTrackingUrlList:a};r&&(u.trimmedRect=r),this.detector.registerTarget(s,u),this.detector.sendMeasurableBeacon(i,o)}}}),this)}}else this.detector.registerTarget(s,{tagId:o,requestId:l,rank:"1",viewableInfo:"non_ydn"})}}else a.default.forEach(e[4].split("|"),(function(e){var t=this.parseViewableInfo(e);if(t){var n=t[0];this.detector.sendNonMeasurableBeacon(n,o)}}),this)}}},{key:"parseViewableInfo",value:function(e){var t=e.split("/");if(t.length>6)return null;var n=parseInt(t[0],10),i=parseInt(t[1],10),a=parseInt(t[2],10),o=parseInt(t[3],10);if(isNaN(n)||isNaN(i)||isNaN(a)||isNaN(o))return null;var s=t[4]&&0!==t[4].length?t[4]:null,l=[];if(t[5])try{l=JSON.parse(decodeURIComponent(t[5]))}catch(e){}return 0===n&&0===i&&0===a&&0===o?[s,null,l]:[s,new r.Rect({top:n,right:i,bottom:a,left:o}),l]}},{key:"markAdsForDebug",value:function(e){this.detector.markAdsForDebug(e)}},{key:"toggleDsDisplayForDebug",value:function(){this.detector.toggleDsDisplayForDebug()}},{key:"handleFrameScrolledMessage",value:function(e){var t=e[4].split("|");a.default.forEach(t,(function(e){var t=this.parseViewableInfo(e);if(t){var n=t[0],i=t[1];this.detector.updateTargetRect(i,n)}}),this)}},{key:"handleFrameUpdateCallbackElement",value:function(e,t){var n=e[1].split("/");if(4===n.length){var i=parseInt(n[0],10),a=parseInt(n[1],10),o=parseInt(n[2],10),s=parseInt(n[3],10);if(!(isNaN(i)||isNaN(a)||isNaN(o)||isNaN(s))){var l=new r.Rect({top:i,right:a,bottom:o,left:s}),u=this.detectMessagedFrame(t.source);if(u)for(var c=0;c<this.detector.frameNotifyingTargets.length;c++)if(this.detector.frameNotifyingTargets[c].rawElement==u){this.detector.frameNotifyingTargets[c].updateRect(l);break}}}}}])&&i(t.prototype,n),o&&i(t,o),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled=!1,this.isDsDisplay=!1}var t,n,r;return t=e,(n=[{key:"enable",value:function(){this.enabled=!0}},{key:"setIsDsDisplay",value:function(e){void 0!==e&&(this.isDsDisplay=e)}},{key:"setDebugStyle",value:function(e){var t=this;if(this.enabled){var n,i=e.rawElement.getAttribute("data-rma-viewable"),r=/^https:\/\/m\.yahoo\.co\.jp\/.*/.test(location.href),a=e.rawElement;if(n=i||"A"===a.tagName&&(r||"relative"!==getComputedStyle(a.parentElement).position)?a.parentElement:a,e.viewedEnoughTime?n.style.outline="6px green outset":n.style.outline="6px red outset",n.style.outlineOffset="-3px",e.debugDsElement)e.debugDsElement.style.display=this.isDsDisplay?"block":"none";else{var o=document.createElement("div");o.style.display=this.isDsDisplay?"block":"none",o.style.position="relative",o.style.left="0px",e.rawElement.parentElement.insertAdjacentElement("afterbegin",o);var s=e.tagId.split("-")[0],l=document.createElement("div");l.textContent=s,l.dataset.uadfDsLabel=s,l.style.padding="3px",l.style.zIndex="999",l.style.color="#ffffff",l.style.fontSize="12px",l.style.lineHeight="12px",l.style.backgroundColor="#696969",l.style.position="absolute",l.style.top="0px",l.style.left="50%",l.style.transform="translate(-50%, 0)",o.appendChild(l),e.debugDsElement=o}window.requestAnimationFrame((function(){return t.displayCenterPoint(e)}))}}},{key:"displayCenterPoint",value:function(e){var t=this,n=e.getCenterPoints()[0],i=e.viewedEnoughTime?"green":"red";if(!e.debugCenterElement){var r=document.createElement("div");r.style.width="5px",r.style.height="5px",r.style.zIndex="10000",r.style.backgroundColor=i,r.style.position="fixed",r.style.top=n.top+1+"px",r.style.left=n.left+1+"px",e.debugCenterElement=r,document.body.appendChild(r)}n.top<=0||n.left<=0?e.debugCenterElement.style.display="none":(e.debugCenterElement.style.display="block",e.debugCenterElement.style.backgroundColor=i,e.debugCenterElement.style.top=n.top+1+"px",e.debugCenterElement.style.left=n.left+1+"px"),window.requestAnimationFrame((function(){return t.displayCenterPoint(e)}))}},{key:"toggleDsDisplay",value:function(e){var t=e.debugDsElement;t&&("none"===getComputedStyle(t).display?(t.style.display="block",this.isDsDisplay=!0):(t.style.display="none",this.isDsDisplay=!1))}}])&&i(t.prototype,n),r&&i(t,r),e}();t.default=r}]);
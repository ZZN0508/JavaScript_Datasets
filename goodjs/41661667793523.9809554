YUI.add("global-events",function(r){"use strict";var o={"window:click":{type:"click",target:window},"window:resize":{type:"resize",target:window,throttle:100},"window:scroll":{type:"scroll",target:window,throttle:100},"window:scroll:nothrottle":{type:"scroll",target:window,throttle:0},"window:keydown":{type:"keydown",target:window,throttle:0},"window:blur":{type:"blur",target:window,throttle:0},"document:fullscreenchange":{type:"onfullscreenchange"in document?"fullscreenchange":"onwebkitfullscreenchange"in document?"webkitfullscreenchange":"onmozfullscreenchange"in document?"mozfullscreenchange":"onmsfullscreenchange"in document?"MSFullscreenChange":void 0,target:document}},s={};r.globalEvents={subscribe:function(t,e){var n,i=o[t];if(i)return i.bound||((n=i.type)in r.Node.DOM_EVENTS||(r.Node.DOM_EVENTS[n]=null),i.throttle?i.handle=r.one(i.target).on(i.type,r.betterThrottle(function(e){r.fire(t,{e:e})},i.throttle)):i.handle=r.one(i.target).on(i.type,function(e){r.fire(t,{e:e})}),s[t]=[],i.bound=!0),(e=r.on(t,e)).origDetach=e.detach,e.detach=function(){this.detach=this.origDetach,delete this.origDetach,r.globalEvents.unsubscribe(this)}.bind(e),s[t].push(e),e;throw new Error("global event name: '"+t+"' does not exist")},unsubscribe:function(e){var t=e.evt.type,n=s[t].indexOf(e);e.origDetach&&(e.detach=e.origDetach),-1!==n&&(e.detach(),s[t].splice(n,1),0===s[t].length&&(o[t].handle.detach(),o[t].bound=!1))}}},"@VERSION@",{requires:["event","node","better-throttle"],affinity:"client"}),YUI.add("keyboard-manager",function(r){var o,s;function a(e){e="key"===e.type?e.which+e.pageX+e.pageY:e.type+e.pageX+e.pageY;return e}function u(e){delete s[e]}(r.KeyboardManager=function(){var t=this;this.keyEventScope=["*"],r.on("flickr:setKeyEventScope",function(e){t.setCurrentKeyEventScope(e)}),r.on("flickr:removeKeyEventScope",function(e){t.removeCurrentKeyEventScope(e)})}).prototype={on:function(e,t,n){return void 0===n&&(n=t,t=null),r.one("doc").on("key",this.handleKey.bind(this,n,t),e)},handleKey:function(e,t,n){var i;n.metaKey||n.altKey||n.shiftKey||n.ctrlKey||this.inputHasFocus()||((i=o.get(n,"keyEventScope"))||(i=this.getCurrentKeyEventScope(),o.add(n,{keyEventScope:i})),"*"!==t&&t!==i||e(n))},inputHasFocus:function(){var e,t;try{e=r.one(document.activeElement)}catch(e){return!1}return!!e&&("INPUT"===(t=e.get("tagName").toUpperCase())?/^text|search|tel|url|email|password|datetime|date|month|week|time|datetime-local|number|range|color$/i.test(e.get("type")):"TEXTAREA"===t||"SELECT"===t||e.getAttribute("contenteditable")||!1)},setCurrentKeyEventScope:function(e){var t=this.keyEventScope.indexOf(e);-1===t?this.keyEventScope.push(e):this.keyEventScope=this.keyEventScope.slice(0,t+1)},getCurrentKeyEventScope:function(){return this.keyEventScope.slice(-1)[0]},getKeyEventScopeStack:function(){return this.keyEventScope},removeCurrentKeyEventScope:function(e){e=this.keyEventScope.indexOf(e);-1<e&&(this.keyEventScope=this.keyEventScope.slice(0,e))},resetCurrentKeyEventScope:function(e){this.keyEventScope=["*"]}},s={},o={add:function(e,t){var n,i=a(e);r.Lang.isObject(e)&&r.Lang.isObject(e._event)&&r.Lang.isObject(t)&&(n=r.later(1,this,u,i),e=s[i]||{},r.mix(e,t,!0),e.timer&&e.timer.cancel(),e.timer=n,s[i]=e)},get:function(e,t){var n=a(e),e=s[n]||{};return e.timer&&e.timer.cancel(),e.timer=r.later(1,this,u,n),t?e[t]:e}}},"@VERSION@",{requires:["event-key"]}),YUI.add("overflow-helper",function(f){f.OverflowHelper={detectScrollbarSize:function(e){var t,n=0;return YUI.Env.isServer||((t=f.Node.create("<div></div>")).setStyle("width",100).setStyle("height",100).setStyle("overflow","scroll").setStyle("position","absolute").setStyle("top",-9999),e.append(t),n=t._node.offsetWidth-t._node.clientWidth,t.remove(!0)),n},addFlowListener:function(t,n,i,r){var o,s,a,e,u,c,l,d,h="over"===n;"OverflowEvent"in window?(a=function(e){if(e.type===n+"flow"||0===e.orient&&e.horizontalOverflow===h||1===e.orient&&e.verticalOverflow===h||2===e.orient&&e.horizontalOverflow===h&&e.verticalOverflow===h)return i.call(this,e)},t._node.addEventListener("overflowchanged",a,!1),r({detach:function(){t._node.removeEventListener("overflowchanged",a)}})):(e=t,u=function(e){e?(a=function(e){if(e.type===n+"flow"||0===e.orient&&e.horizontalOverflow===h||1===e.orient&&e.verticalOverflow===h||2===e.orient&&e.horizontalOverflow===h&&e.verticalOverflow===h)return i.call(this,e)},t._node.addEventListener(n+"flow",a,!1),r({detach:function(){t._node.removeEventListener(n+"flow",a)}})):(s=function(){t._node.scrollHeight>t._node.clientHeight?"over"===n&&i.call(t._node,{}):"under"===n&&i.call(t._node,{})},"MutationObserver"in window?((o=new MutationObserver(function(e){e.some(function(e){return s(),!0})})).observe(t._node,{attributes:!1,subtree:!0,childList:!0}),r({detach:function(){o.disconnect()}})):"MutationEvent"in window&&(a=function(e){setTimeout(function(){s()},10)},t._node.addEventListener("DOMSubtreeModified",a,!1),r({detach:function(){t._node.removeEventListener("DOMSubtreeModified",a)}})))},YUI.Env.isServer||((c=f.Node.create("<div>test event</div>")).setStyle("height: 1px").setStyle("width","1px").setStyle("opacity",0).setStyle("position","absolute").setStyle("top",-99999).setStyle("left",-99999).setStyle("overflow","auto"),e.append(c),l=setTimeout(function(){c._node.removeEventListener("overflow",d),c.remove(!0),u(!1)},10),d=function(e){clearTimeout(l),c._node.removeEventListener("overflow",d),c.remove(!0),u(!0)},c._node.addEventListener("overflow",d,!1)))}}},"@VERSION@",{requires:[]}),YUI.add("priority-queue",function(e,r){var t;e.PriorityQueue=e=function(e){this._comp=e||t,this._elts=[]},t=function(e,t){var n=typeof e,i=typeof t;if("number"==n&&"number"==i)return e-t;if("string"!=n||"string"!=i)throw new Error("["+r+"] can't sort items of type "+n+" and "+i);return e===t?0:t<e?1:void 0},e.prototype.size=function(){return this._elts.length},e.prototype.isEmpty=function(){return 0===this._elts.length},e.prototype.push=function(){var e=Array.prototype.slice.call(arguments);1===e.length?this._elts.push(e[0]):this._elts=this._elts.concat(e),this.sort()},e.prototype.pop=function(){return this._elts.pop()},e.prototype.peek=function(){return this._elts[this._elts.length-1]},e.prototype.sort=function(e){e&&(this._comp=e),this._elts.sort(this._comp)},e.prototype.clear=function(e){this._elts=[]},e.prototype.map=function(e){return this._elts.map(e)}},"@VERSION@",{requires:[]}),YUI.add("defer-images",function(e,t){function n(){m||(u=new Array(c),a=new e.PriorityQueue(function(e,t){return r(p,t)-r(p,e)}),v=!0,s(),i(),o(),e.globalEvents.subscribe("window:scroll",function(){s(),a.sort()}),m=!0)}function i(){var i=[];e.all(f).each(function(e,t){var n=e.getXY();i.push({x:n[0],y:n[1],url:e.getAttribute(h),node:e,errorCount:0})}),a.push.apply(a,i)}function o(){var e,t,n;if(v)for(e=0;e<c;e++)(t=u[e])&&!t.complete||(n=a.pop())&&(u[e]=t={task:n,complete:!1},function t(n){var i=this,e=new Image,r=function(e){var t=e.task.node;switch(t.get("tagName").toLowerCase()){case"img":t.setAttribute("src",e.task.url);break;case"video":t.setAttribute("poster",e.task.url);break;default:t.setStyle("backgroundImage","url("+e.task.url+")")}t.setAttribute(h,d),e.complete=!0,o()}.bind(this,n);e.onload=r,e.onerror=function(){var e;n.task.errorCount++,n.task.errorCount>l?(e=/[a-f0-9]+(_[a-z0-9]{1,2})?\.[a-z]{3,4}$/i.exec(n.task.url),n.task.url="https://combo.staticflickr.com/pw/images/"+i.appContext.lang.toLowerCase()+"/photo_unavailable"+(e[1]||"")+".png",r()):t(n)},e.src=n.task.url,e.complete&&r()}(t))}function r(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function s(){p={x:e.config.win.pageXOffset+e.config.win.innerWidth/2,y:e.config.win.pageYOffset+e.config.win.innerHeight/2}}var a,u,c=4,l=3,d="loaded",h="data-defer-src",f="["+h+"]:not(["+h+'="'+d+'"])',p={x:0,y:0},m=!1,v=!1;e.DeferImages={init:n,update:function(){m?(a.clear(),i(),o()):n()},pause:function(){v=!1},resume:function(){v=!0,o()}}},"@VERSION@",{requires:["priority-queue","app-context","global-events"]}),YUI.add("accessibility",function(t,e){function n(){var e=t.one(document.activeElement);e&&e.addClass("no-outline")}function i(){var e=t.one(document.activeElement);e&&e.removeClass("no-outline")}t.Accessibility={manageFocusOutlines:function(e){e.registerEventHandler(e.get("container").on("mouseup",n)),e.registerEventHandler(e.get("container").on("focus",i))},makeDroparoundAnchorAccessible:function(e){var i,t=e.view,r=e.getDroparound,n=e.anchor,o=e.handler;t.registerEventHandler(n.on("key",function(e){e.preventDefault(),e.stopPropagation(),i=r(),"true"===e.target.get("aria-expanded")?(i&&i.close(),e.target.set("aria-expanded","false")):(o.call(t,e),i&&!i.isClosed&&e.target.set("aria-expanded","true"))},"down:13,32")),t.registerEventHandler(n.on("key",function(e){var t,n=!0;9===e.keyCode&&(n=n&&!e.shiftKey),"true"===e.target.getAttribute("aria-expanded")&&n&&(e.preventDefault(),i=r())&&(t=i.get("container").one("ul[role=menu]").one("li:first-child"))&&t.focus()},"down:40,9"))}}},"@VERSION@",{requires:[]}),YUI.add("anim-base",function(d,e){var t,n="running",r="startTime",o="elapsedTime",i="paused",s="reverse",a="iterationCount",c=Number,u={};d.Anim=function(){d.Anim.superclass.constructor.apply(this,arguments),d.Anim._instances[d.stamp(this)]=this},d.Anim.NAME="anim",d.Anim._instances={},d.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i,d.Anim.DEFAULT_UNIT="px",d.Anim.DEFAULT_EASING=function(e,t,n,i){return n*e/i+t},d.Anim._intervalTime=20,d.Anim.behaviors={left:{get:function(e,t){return e._getOffset(t)}}},d.Anim.behaviors.top=d.Anim.behaviors.left,d.Anim.DEFAULT_SETTER=function(e,t,n,i,r,o,s,a){var u=e._node,e=u._node,o=s(r,c(n),c(i)-c(n),o);e?"style"in e&&(t in e.style||t in d.DOM.CUSTOM_STYLES)?u.setStyle(t,o+(a=a||"")):"attributes"in e&&t in e.attributes?u.setAttribute(t,o):t in e&&(e[t]=o):u.set?u.set(t,o):t in u&&(u[t]=o)},d.Anim.DEFAULT_GETTER=function(e,t){var n=e._node,i=n._node,e="";return i?"style"in i&&(t in i.style||t in d.DOM.CUSTOM_STYLES)?e=n.getComputedStyle(t):"attributes"in i&&t in i.attributes?e=n.getAttribute(t):t in i&&(e=i[t]):n.get?e=n.get(t):t in n&&(e=n[t]),e},d.Anim.ATTRS={node:{setter:function(e){return e&&("string"==typeof e||e.nodeType)&&(e=d.one(e)),this._node=e}},duration:{value:1},easing:{value:d.Anim.DEFAULT_EASING,setter:function(e){if("string"==typeof e&&d.Easing)return d.Easing[e]}},from:{},to:{},startTime:{value:0,readOnly:!0},elapsedTime:{value:0,readOnly:!0},running:{getter:function(){return!!u[d.stamp(this)]},value:!1,readOnly:!0},iterations:{value:1},iterationCount:{value:0,readOnly:!0},direction:{value:"normal"},paused:{readOnly:!0,value:!1},reverse:{value:!1}},d.Anim.run=function(){var e,t=d.Anim._instances;for(e in t)t[e].run&&t[e].run()},d.Anim.pause=function(){for(var e in u)u[e].pause&&u[e].pause();d.Anim._stopTimer()},d.Anim.stop=function(){for(var e in u)u[e].stop&&u[e].stop();d.Anim._stopTimer()},d.Anim._startTimer=function(){t=t||setInterval(d.Anim._runFrame,d.Anim._intervalTime)},d.Anim._stopTimer=function(){clearInterval(t),t=0},d.Anim._runFrame=function(){var e,t=!0;for(e in u)u[e]._runFrame&&(t=!1,u[e]._runFrame());t&&d.Anim._stopTimer()};var l={run:function(){return this.get(i)?this._resume():this.get(n)||this._start(),this},pause:function(){return this.get(n)&&this._pause(),this},stop:function(e){return(this.get(n)||this.get(i))&&this._end(e),this},_added:!(d.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/),_start:function(){this._set(r,new Date-this.get(o)),this._actualFrames=0,this.get(i)||this._initAnimAttr(),u[d.stamp(this)]=this,d.Anim._startTimer(),this.fire("start")},_pause:function(){this._set(r,null),this._set(i,!0),delete u[d.stamp(this)],this.fire("pause")},_resume:function(){this._set(i,!1),(u[d.stamp(this)]=this)._set(r,new Date-this.get(o)),d.Anim._startTimer(),this.fire("resume")},_end:function(e){var t=1e3*this.get("duration");e&&this._runAttrs(t,t,this.get(s)),this._set(r,null),this._set(o,0),this._set(i,!1),delete u[d.stamp(this)],this.fire("end",{elapsed:this.get(o)})},_runFrame:function(){var e=this._runtimeAttr.duration,t=new Date-this.get(r),n=this.get(s),i=e<=t;this._runAttrs(t,e,n),this._actualFrames+=1,this._set(o,t),this.fire("tween"),i&&this._lastFrame()},_runAttrs:function(e,t,n){var i,r,o,s=this._runtimeAttr,a=d.Anim.behaviors,u=s.easing,c=t,l=t<=e?!0:!1;for(o in n&&(e=t-e,c=0),s)s[o].to&&(i=s[o],r=o in a&&"set"in a[o]?a[o].set:d.Anim.DEFAULT_SETTER,r(this,o,i.from,i.to,l?c:e,t,u,i.unit))},_lastFrame:function(){var e=this.get("iterations"),t=this.get(a);t+=1,"infinite"===e||t<e?("alternate"===this.get("direction")&&this.set(s,!this.get(s)),this.fire("iteration")):(t=0,this._end()),this._set(r,new Date),this._set(a,t)},_initAnimAttr:function(){var r,o,s,a=this.get("from")||{},e=this.get("to")||{},u={duration:1e3*this.get("duration"),easing:this.get("easing")},c=d.Anim.behaviors,l=this.get("node");d.each(e,function(e,t){"function"==typeof e&&(e=e.call(this,l)),void 0===(o=a[t])?o=t in c&&"get"in c[t]?c[t].get(this,t):d.Anim.DEFAULT_GETTER(this,t):"function"==typeof o&&(o=o.call(this,l));var n=d.Anim.RE_UNITS.exec(o),i=d.Anim.RE_UNITS.exec(e);o=n?n[1]:o,s=i?i[1]:e,!(r=i?i[2]:n?n[2]:"")&&d.Anim.RE_DEFAULT_UNIT.test(t)&&(r=d.Anim.DEFAULT_UNIT),o&&s?u[t]={from:d.Lang.isObject(o)?d.clone(o):o,to:s,unit:r}:d.error('invalid "from" or "to" for "'+t+'"',"Anim")},this),this._runtimeAttr=u},_getOffset:function(e){var t=this._node,n=t.getComputedStyle(e),i="left"===e?"getX":"getY",r="left"===e?"setX":"setY";return"auto"===n&&("absolute"===(e=t.getStyle("position"))||"fixed"===e?(n=t[i](),t[r](n)):n=0),n},destructor:function(){delete d.Anim._instances[d.stamp(this)]}};d.extend(d.Anim,d.Base,l)},"3.16.0",{requires:["base-base","node-style"]}),YUI.add("anim-color",function(a,e){var o=Number;a.Anim.getUpdatedColorValue=function(e,t,n,i,r){return e=a.Color.re_RGB.exec(a.Color.toRGB(e)),t=a.Color.re_RGB.exec(a.Color.toRGB(t)),(!e||e.length<3||!t||t.length<3)&&a.error("invalid from or to passed to color behavior"),"rgb("+[Math.floor(r(n,o(e[1]),o(t[1])-o(e[1]),i)),Math.floor(r(n,o(e[2]),o(t[2])-o(e[2]),i)),Math.floor(r(n,o(e[3]),o(t[3])-o(e[3]),i))].join(", ")+")"},a.Anim.behaviors.color={set:function(e,t,n,i,r,o,s){e._node.setStyle(t,a.Anim.getUpdatedColorValue(n,i,r,o,s))},get:function(e,t){t=e._node.getComputedStyle(t);return t="transparent"===t?"rgb(255, 255, 255)":t}},a.each(["backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],function(e){a.Anim.behaviors[e]=a.Anim.behaviors.color})},"3.16.0",{requires:["anim-base"]}),YUI.add("anim-xy",function(e,t){var a=Number;e.Anim.behaviors.xy={set:function(e,t,n,i,r,o,s){e._node.setXY([s(r,a(n[0]),a(i[0])-a(n[0]),o),s(r,a(n[1]),a(i[1])-a(n[1]),o)])},get:function(e){return e._node.getXY()}}},"3.16.0",{requires:["anim-base","node-screen"]}),YUI.add("anim-curve",function(a,e){a.Anim.behaviors.curve={set:function(e,t,n,i,r,o,s){n=n.slice.call(n),i=i.slice.call(i);o=s(r,0,100,o)/100;i.unshift(n),e._node.setXY(a.Anim.getBezier(i,o))},get:function(e){return e._node.getXY()}},a.Anim.getBezier=function(e,t){for(var n,i=e.length,r=[],o=0;o<i;++o)r[o]=[e[o][0],e[o][1]];for(n=1;n<i;++n)for(o=0;o<i-n;++o)r[o][0]=(1-t)*r[o][0]+t*r[parseInt(o+1,10)][0],r[o][1]=(1-t)*r[o][1]+t*r[parseInt(o+1,10)][1];return[r[0][0],r[0][1]]}},"3.16.0",{requires:["anim-xy"]}),YUI.add("anim-easing",function(r,e){var t={easeNone:function(e,t,n,i){return n*e/i+t},easeIn:function(e,t,n,i){return n*(e/=i)*e+t},easeOut:function(e,t,n,i){return-n*(e/=i)*(e-2)+t},easeBoth:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInStrong:function(e,t,n,i){return n*(e/=i)*e*e*e+t},easeOutStrong:function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},easeBothStrong:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},elasticIn:function(e,t,n,i,r,o){return 0===e?t:1==(e/=i)?t+n:(o=o||.3*i,n=!r||r<Math.abs(n)?(r=n,o/4):o/(2*Math.PI)*Math.asin(n/r),-(r*Math.pow(2,10*--e)*Math.sin(2*(e*i-n)*Math.PI/o))+t)},elasticOut:function(e,t,n,i,r,o){var s;return 0===e?t:1==(e/=i)?t+n:(o=o||.3*i,s=!r||r<Math.abs(n)?(r=n,o/4):o/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*e)*Math.sin(2*(e*i-s)*Math.PI/o)+n+t)},elasticBoth:function(e,t,n,i,r,o){var s;return 0===e?t:2==(e/=i/2)?t+n:(o=o||.3*i*1.5,s=!r||r<Math.abs(n)?(r=n,o/4):o/(2*Math.PI)*Math.asin(n/r),e<1?-.5*r*Math.pow(2,10*--e)*Math.sin(2*(e*i-s)*Math.PI/o)+t:r*Math.pow(2,-10*--e)*Math.sin(2*(e*i-s)*Math.PI/o)*.5+n+t)},backIn:function(e,t,n,i,r){return e===i&&(e-=.001),n*(e/=i)*e*(((r=void 0===r?1.70158:r)+1)*e-r)+t},backOut:function(e,t,n,i,r){return n*((e=e/i-1)*e*(((r=void 0===r?1.70158:r)+1)*e+r)+1)+t},backBoth:function(e,t,n,i,r){return void 0===r&&(r=1.70158),(e/=i/2)<1?n/2*e*e*((1+(r*=1.525))*e-r)+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},bounceIn:function(e,t,n,i){return n-r.Easing.bounceOut(i-e,0,n,i)+t},bounceOut:function(e,t,n,i){return(e/=i)<1/2.75?7.5625*n*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},bounceBoth:function(e,t,n,i){return e<i/2?.5*r.Easing.bounceIn(2*e,0,n,i)+t:.5*r.Easing.bounceOut(2*e-i,0,n,i)+.5*n+t}};r.Easing=t},"3.16.0",{requires:["anim-base"]}),YUI.add("anim-node-plugin",function(t,e){function n(e){(e=e?t.merge(e):{}).node=e.host,n.superclass.constructor.apply(this,arguments)}n.NAME="nodefx",n.NS="fx",t.extend(n,t.Anim),t.namespace("Plugin"),t.Plugin.NodeFX=n},"3.16.0",{requires:["node-pluginhost","anim-base"]}),YUI.add("anim-scroll",function(e,t){var a=Number;e.Anim.behaviors.scroll={set:function(e,t,n,i,r,o,s){e=e._node,o=[s(r,a(n[0]),a(i[0])-a(n[0]),o),s(r,a(n[1]),a(i[1])-a(n[1]),o)];o[0]&&e.set("scrollLeft",o[0]),o[1]&&e.set("scrollTop",o[1])},get:function(e){e=e._node;return[e.get("scrollLeft"),e.get("scrollTop")]}}},"3.16.0",{requires:["anim-base"]});

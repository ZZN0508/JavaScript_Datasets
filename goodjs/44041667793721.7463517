(this.$WP=this.$WP||[]).push(["I81Q5L",(e,t)=>{"use strict";var r,b,E,S,T,k,C,N,i,n,s,a,c,z,I,W,d,o="active",u="passive",h="hidden",m="frozen",l="terminated",f=e=>(e.preventDefault(),e.returnValue="Are you sure?"),p=e=>e.reduce((e,t,r)=>(e[t]=r,e),{}),g=()=>"undefined"==typeof document||document.visibilityState===h?h:document.hasFocus()?o:u,B=(e,t)=>Object.create(PerformanceEntry.prototype,{name:{value:e},entryType:{value:"mark"},startTime:{value:(()=>{if(void 0===t.startTime)return performance.now();if(t.startTime<0)throw new TypeError("Invalid startTime");return t.startTime})()},duration:{value:0},detail:{value:t.detail}}),L=(e,t,r)=>{t in e?e[t]+=r:e[t]=r},R=(e,t)=>e+t,j=/\.(jpg|webp)\?((w|h|s|q|f)=){1,}/,q=!1,v=(r,n)=>{var{domainName:a,locale:e,version:t,cdnPrefix:i}=b(k),s=b(C)["userId"],{viewportCategory:c,isWebview:d}=b(N),o=E(!1),u=E(1),h=E(0);S(()=>{var e;0<performance.getEntriesByName("hidden").length&&(e=performance.getEntriesByName("visible"),h.current=0<e.length?e[e.length-1].startTime:performance.now())},[]);var m=E({checksum:0,uid:n,page:r,isRepresentative:!0,pageLoad:null,timings:[],metrics:{},navigations:[]}),l=E(!1);S(()=>{q?l.current=!0:q=!0},[]);var f=E(()=>{l.current||(m.current.metrics["document-dwell-time"]=performance.now()-h.current,Object.entries(m.current.metrics).forEach(([e,t])=>{m.current.metrics[e]=Math.round(1e4*t)/1e4}),navigator.sendBeacon("/data/2.0/rum",JSON.stringify(m.current)),m.current.pageLoad=null,m.current.metrics={},m.current.timings=[],m.current.navigations=[],h.current=performance.now())}),p=E(d),g=E(e.code),v=E(s),y=E(t),w=E(c);S(()=>{p.current=d,g.current=e.code,v.current=s,y.current=t,w.current=c},[d,e.code,s,t,c]);var _=E(!0);S(()=>{var e,t;_.current?_.current=!1:(f.current(),u.current++,performance.clearMarks("hidden")),m.current.checksum=[n,r].map(e=>Array.from(W.encode(e)).reduce(R,0)).reduce(R,0),m.current.uid=n,m.current.page=r,m.current.isRepresentative=!0,m.current.pageLoad={uid:n,page:r,locale:g.current,revision:y.current,is_logged_in:null!==v.current,viewport_category:w.current,is_webview:p.current,user_agent:(null==(e=window.navigator)?void 0:e.userAgent)||"unknown",connection_type:(null==(e=window.navigator)||null==(t=e.connection)?void 0:t.effectiveType)||"unknown",sequence_id:u.current,is_hidden:0<performance.getEntriesByName("hidden").length}},[n,r]),S(()=>{if("undefined"!=typeof PerformanceObserver){var t=new Set;m.current.metrics={},m.current.timings=[],m.current.navigations=[];var e,s=e=>{e.filter(e=>"mark"!==e.entryType||I.has(e.name)).filter(e=>"measure"!==e.entryType||!(e.name.startsWith("âš›")||e.name.startsWith("â›”"))).filter(e=>!t.has(e)).forEach(e=>{t.add(e),m.current.timings.push([e.name,e.entryType,Math.round(e.startTime),Math.round(e.duration)])})},r=[[["navigation"],e=>{if(0<e.length){e=e[e.length-1];if(!t.has(e)){t.add(e);try{s([B("fetch-start",{startTime:e.fetchStart||e.startTime}),B("request-start",{startTime:e.requestStart}),B("time-to-first-byte",{startTime:e.responseStart-e.requestStart}),B("time-to-last-byte",{startTime:e.responseEnd-e.requestStart})])}catch(e){console.error(e)}e.transferSize&&(m.current.metrics["document-transferred-bytes"]=e.transferSize),m.current.navigations.push({puid:m.current.uid,name:e.name,dns:Math.round(e.domainLookupEnd-e.domainLookupStart),ttfb:Math.round(e.responseStart-e.requestStart),download:Math.round(e.responseEnd-e.responseStart),size:e.transferSize||0})}}},!1],[["resource"],e=>{o.current||e.filter(e=>0<e.decodedBodySize).filter(e=>!t.has(e)).forEach(e=>{t.add(e),e.name.includes(i)&&e.name.endsWith(".js")?(L(m.current.metrics,"js-cdn-transferred-bytes",e.transferSize),L(m.current.metrics,"js-cdn-encoded-bytes",e.encodedBodySize),L(m.current.metrics,"js-cdn-decoded-bytes",e.decodedBodySize)):e.name.includes(i)&&e.name.endsWith(".css")?(L(m.current.metrics,"css-cdn-transferred-bytes",e.transferSize),L(m.current.metrics,"css-cdn-encoded-bytes",e.encodedBodySize),L(m.current.metrics,"css-cdn-decoded-bytes",e.decodedBodySize)):e.name.endsWith(".jpg")||e.name.endsWith(".jpeg")||e.name.endsWith(".ico")||e.name.endsWith(".gif")||e.name.endsWith(".png")||e.name.endsWith(".svg")||j.test(e.name)||e.name.endsWith(".ts")||e.name.endsWith(".m3u8")?(L(m.current.metrics,"media-transferred-bytes",e.transferSize),L(m.current.metrics,"media-request-count",1)):e.name.includes(a)&&e.name.includes("/data/")?(L(m.current.metrics,"data-transferred-bytes",e.transferSize),L(m.current.metrics,"data-request-count",1)):(L(m.current.metrics,"other-transferred-bytes",e.transferSize),L(m.current.metrics,"other-request-count",1))})},!1],[["mark","measure"],s,!1],[["paint"],e=>{0<performance.getEntriesByName("hidden").length&&(m.current.isRepresentative=!1),s(e)},!0],[["longtask"],e=>{e.forEach(e=>{L(m.current.metrics,"total-blocking-time",e.duration-50),L(m.current.metrics,"long-task-count",1),m.current.timings.push([["task",e.name,...e.attribution.map(e=>e.containerName||e.containerId||(e.containerSrc&&e.containerSrc.startsWith("http")?e.containerSrc:"inline-iframe")).filter(Boolean)].join(" > "),e.entryType,Math.round(e.startTime),Math.round(e.duration)])})},!1],[["largest-contentful-paint"],e=>{0<e.length&&((e=e[e.length-1]).renderTime&&(m.current.metrics["largest-contentful-paint"]=e.startTime))},!0],[["element"],e=>{e.forEach(e=>{m.current.timings.push([`${e.identifier} ${e.name}`,"element",Math.round(e.startTime),0])})},!0],[["layout-shift"],e=>{e.forEach(({hadRecentInput:e,value:t})=>{e||L(m.current.metrics,"layout-shift-score",t)})},!0],[["first-input"],(e,t)=>{if(0<e.length){var{processingStart:r,startTime:n}=e[0];m.current.metrics["first-input-delay"]=r-n;try{s([B("first-input-delay",{startTime:r-n})])}catch(e){console.error(e)}t&&t.disconnect()}},!0]].map(([r,n,e])=>{var s=null,t=requestIdleCallback(()=>{s=new PerformanceObserver((e,t)=>n(e.getEntries(),t));var t=!e;try{s.observe(1===r.length&&e?{type:r[0],buffered:e}:{entryTypes:r})}catch(e){t=!0;try{s.observe({entryTypes:r})}catch(e){t=!1}}t&&r.forEach(e=>{"longtask"===e&&window.__tti&&Array.isArray(window.__tti.e)?n(window.__tti.e):n(performance.getEntriesByType(e))})});return()=>{cancelIdleCallback(t),null!==s&&s.disconnect()}});return T(e=>{null!=e&&(o.current=!0,0<performance.getEntriesByName("hidden").length&&(m.current.isRepresentative=!1),m.current.metrics["time-to-interactive"]=e,s([B("time-to-interactive",{startTime:e})]))}),"undefined"==typeof PerformanceEventTiming&&(null==(e=window.perfMetrics)||null==e.onFirstInputDelay||e.onFirstInputDelay(e=>{m.current.metrics["first-input-delay"]=e,s([B("first-input-delay",{startTime:e})])})),()=>{r.forEach(e=>e())}}},[i,a]),S(()=>{try{window.self!==window.top&&(m.current.isRepresentative=!1)}catch(e){}window.location.hostname!==a&&(m.current.isRepresentative=!1),0<performance.getEntriesByName("hidden").length&&(m.current.isRepresentative=!1)},[a]),S(()=>{var e=e=>{"hidden"===e.oldState&&"passive"===e.newState&&(h.current=performance.now()),"hidden"===e.newState&&f.current()};return z.addEventListener("statechange",e),()=>{q=!1,z.removeEventListener("statechange",e)}},[])},y=({page:e,puid:t})=>(v(null!=e?e:"Unknown",t||""),null);return[()=>{s=class{constructor(e){this.type=e}},d=class{constructor(){this._registry={}}addEventListener(e,t,r=0){this._getRegistry(e).push(t)}removeEventListener(e,t,r=0){e=this._getRegistry(e),t=e.indexOf(t);-1<t&&e.splice(t,1)}dispatchEvent(t){return t.target=this,Object.freeze(t),this._getRegistry(t.type).forEach(e=>e(t)),!0}_getRegistry(e){return this._registry[e]=this._registry[e]||[]}},i=class extends s{constructor(e,t){super(e),this.newState=t.newState,this.oldState=t.oldState,this.originalEvent=t.originalEvent}},n="object"==typeof safari&&safari.pushNotification,s="undefined"!=typeof self&&"onpageshow"in self,a=["focus","blur","visibilitychange","freeze","resume","pageshow",s?"pagehide":"unload"],c=[[o,u,h,l],[o,u,h,m],[h,u,o],[m,h],[m,o],[m,u]].map(p),z=new class extends d{constructor(){super();var e=g();this._state=e,this._unsavedChanges=[],this._handleEvents=this._handleEvents.bind(this),"undefined"!=typeof addEventListener&&(a.forEach(e=>addEventListener(e,this._handleEvents,!0)),n&&addEventListener("beforeunload",e=>{this._safariBeforeUnloadTimeout=setTimeout(()=>{e.defaultPrevented||0<e.returnValue.length||this._dispatchChangesIfNeeded(e,h)},0)}))}get state(){return this._state}get pageWasDiscarded(){return"undefined"!=typeof document&&document.wasDiscarded||!1}addUnsavedChanges(e){-1<!this._unsavedChanges.indexOf(e)&&(0===this._unsavedChanges.length&&addEventListener("beforeunload",f),this._unsavedChanges.push(e))}removeUnsavedChanges(e){e=this._unsavedChanges.indexOf(e);-1<e&&(this._unsavedChanges.splice(e,1),0===this._unsavedChanges.length&&removeEventListener("beforeunload",f))}_dispatchChangesIfNeeded(e,t){if(t!==this._state)for(var r=((e,t)=>{for(var r,n=0;r=c[n];++n){var s=r[e],a=r[t];if(0<=s&&0<=a&&s<a)return Object.keys(r).slice(s,a+1)}return[]})(this._state,t),n=0;n<r.length-1;++n){var s=r[n],a=r[n+1];this._state=a,this.dispatchEvent(new i("statechange",{oldState:s,newState:a,originalEvent:e}))}}_handleEvents(e){switch(n&&clearTimeout(this._safariBeforeUnloadTimeout),e.type){case"pageshow":case"resume":this._dispatchChangesIfNeeded(e,g());break;case"focus":this._dispatchChangesIfNeeded(e,o);break;case"blur":this._state===o&&this._dispatchChangesIfNeeded(e,g());break;case"pagehide":case"unload":this._dispatchChangesIfNeeded(e,e.persisted?m:l);break;case"visibilitychange":this._state!==m&&this._state!==l&&this._dispatchChangesIfNeeded(e,g());break;case"freeze":this._dispatchChangesIfNeeded(e,m)}}},I=new Set(["time-to-interactive","first-paint","first-contentful-paint","cpm-hero-latency","first-input-delay","load","time-to-first-byte","time-to-last-byte","request-start","fetch-start"]),W=new TextEncoder,d=r.memo(y),e("default",d),e("useRUM",v)},[e=>(r=e.default,b=e.useContext,E=e.useRef,S=e.useEffect),e=>T=e.requestTTICallback,e=>(k=e.Environment,C=e.Visitor,N=e.Device)]]},["cDcdfi","6NeHQy","2R4xv2"]]);

!function(n){var a={};function i(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,n){"use strict";n(1),n(2);var _,a,B,g=n(3);function F(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,e=function(){};return{s:e,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){o=!0,i=t},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw i}}}}function H(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){i=!0,r=t}finally{try{a||null==c.return||c.return()}finally{if(i)throw r}}return n}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function r(e,t){var n,a=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)),a}function h(a){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){var e,n;e=a,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(i,t))})}return a}function o(s,f){var m,r,v=document,b=this;function k(t,e){var n="RequestFullScreen";try{e?(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen().catch(function(){}):document.mozCancelFullScreen?document.mozCancelFullScreen().catch(function(){}):document.webkitExitFullscreen&&document.webkitExitFullscreen().catch(function(){})):t.requestFullScreen?t.requestFullScreen():t["ms".concat(n)]?t["ms".concat(n)]():t["moz".concat(n)]?t["moz".concat(n)]():t["webkit".concat(n)]&&t["webkit".concat(n)]()}catch(t){console.warn("[Zuck.js] Can't access fullscreen")}}function o(t,e,n){clearTimeout(m),clearTimeout(r);var a=b.data[e].items[n];!function(t,e,n){clearTimeout(r);var a=u(e,n),i=t.length/4*1e3;r=setTimeout(function(){(0,g.createEvent)("track","q1",a.pid,a.crid,a.frid,a.liid,a.uid,"",B.stories_sessionId),r=setTimeout(function(){(0,g.createEvent)("track","q2",a.pid,a.crid,a.frid,a.liid,a.uid,"",B.stories_sessionId),r=setTimeout(function(){(0,g.createEvent)("track","q3",a.pid,a.crid,a.frid,a.liid,a.uid,"",B.stories_sessionId),r=setTimeout(function(){(0,g.createEvent)("track","q4",a.pid,a.crid,a.frid,a.liid,a.uid,"",B.stories_sessionId)},i)},i)},i)},i)}(a,e,n),m=setTimeout(function(){(0,g.createEvent)("track","view",t.pid,t.crid,t.frid,t.liid,t.uid,f.placementMetadata,B.stories_sessionId),"1"===a.ad?p(e,a.creativeId,"view"):p(e,!1,"view")},2e3)}function d(t){var e=t.getAttribute("data-id"),n=!1;(n=b.internalData.seenItems[e]?!0:n)?t.classList.add("seen"):t.classList.remove("seen");try{b.data[e]={id:e,photo:t.getAttribute("data-photo"),ad:t.getAttribute("data-ad"),placementId:t.getAttribute("data-placementid"),name:t.firstElementChild.lastElementChild.firstChild.innerText,link:t.firstElementChild.getAttribute("href"),lastUpdated:t.getAttribute("data-last-updated"),seen:n,items:[]}}catch(t){b.data[e]={items:[]}}t.onclick=function(t){t.preventDefault(),C.show(e)}}"string"==typeof s&&(s=v.getElementById(s),this.timeline=s);var I=function(t){return v.querySelectorAll(t)[0]},w=function(t,e){return t&&t[e]||""},E=function(t,e){if(t)for(var n=t.length,a=0;a<n;a++)e(a,t[a])},c=function(n,t,a){t=[t.toLowerCase(),"webkit".concat(t),"MS".concat(t),"o".concat(t)];E(t,function(t,e){n[e]=a})},a=function(n,a,t){t=[t.toLowerCase(),"webkit".concat(t),"MS".concat(t),"o".concat(t)];E(t,function(t,e){n.addEventListener(e,a,!1)})},x=function(t,e){a(t,e,"AnimationEnd")},A=function(t,e){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},S=function(t,e,n,a){var i=0<e?1:-1,r=Math.abs(e)/I("#zuck-modal").offsetWidth*90*i;if(z("cubeEffect")){i=0==r?"scale(0.95)":"scale(0.930,0.930)";if(c(I("#zuck-modal-content").style,"Transform",i),r<-90||90<r)return!1}e=z("cubeEffect")?"rotateY(".concat(r,"deg)"):"translate3d(".concat(e,"px, 0, 0)");t&&(c(t.style,"TransitionTimingFunction",a),c(t.style,"TransitionDuration","".concat(n,"ms")),c(t.style,"Transform",e))},L=function(t,e,n,a){var i=0,r=0;if(t){if(t.offsetParent)do{if(i+=t.offsetLeft,r+=t.offsetTop,t===a)break}while(t=t.offsetParent);e&&(r-=e),n&&(i-=n)}return[i,r]},T=function(t){t=1e3*Number(t);var e=new Date(t),n=e.getTime(),a=((new Date).getTime()-n)/1e3,t=z("language","time"),i=[[60," ".concat(t.seconds),1],[120,"1 ".concat(t.minute),""],[3600," ".concat(t.minutes),60],[7200,"1 ".concat(t.hour),""],[86400," ".concat(t.hours),3600],[172800," ".concat(t.yesterday),""],[604800," ".concat(t.days),86400]],r=1;a<0&&(a=Math.abs(a),r=2);for(var o,c=0;o=i[c++];)if(a<o[0])return"string"==typeof o[2]?o[r]:Math.floor(a/o[2])+o[1];n=e.getDate(),t=e.getMonth(),e=e.getFullYear();return"".concat(n,"/").concat(t+1,"/").concat(e)},l=function(t){t=t.split(/:(http.*)/)[1];var e=document.createElement("img");return e.height=1,e.width=1,e.setAttribute("style","display:none"),e.src=t,e},u=function(e,t){var n=b.data[e],a=n.items[t],a={pid:n.placementId,frid:a.id,uid:f.userId};return a=f.ads?h(h({},a),{crid:n.items[t].creativeId,liid:n.items[t].lineItemId}):(t=f.stories.find(function(t){return t.id==e}),h(h({},a),{crid:t.creativeId,liid:t.lineItemId}))},p=function(e){var t,n,a=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"imp";n=a?f.ads.find(function(t){return t.id===a}).thirdPartyImpressionPixels||[]:f.stories.find(function(t){return t.id==e}).thirdPartyImpressionPixels||[],"imp"==i?t=n.filter(function(t){return/script:(.*)|imp:(.*)/.test(t)}):"view"==i&&(t=n.filter(function(t){return/view:(.*)|script,view:(.*)/.test(t)})),0<t.length&&t.forEach(function(t){var e,n;0<t.length&&((e=t.match(/script:(.*)/))?((n=document.createElement("script")).src=e[1],document.getElementsByTagName("body")[0].appendChild(n)):(t=l(t),document.getElementsByTagName("body")[0].appendChild(t)))})},D=s.id,y=0,i={skin:"snapgram",avatars:!0,stories:[],backButton:!0,backNative:!0,previousTap:!0,autoFullScreen:!1,openEffect:!0,cubeEffect:!1,list:!1,placementId:null,lineItemId:null,localStorage:!0,callbacks:{onRender:function(t,e){return e},onOpen:function(t,e,n){window.stories.initialScroll=n,setTimeout(function(){scrollTo(0,0)},250);t=u(t,y);(0,g.createEvent)("track","tap",t.pid,t.crid,t.frid,t.liid,t.uid,f.placementMetadata,B.stories_sessionId),e()},onView:function(t,e){clearTimeout(m),clearTimeout(r);var n=u(t,y=0);(0,g.createEvent)("track","start",n.pid,n.crid,n.frid,n.liid,n.uid,f.placementMetadata,B.stories_sessionId);var a=b.data[t].items[y];"1"===a.ad?p(t,a.creativeId,"imp"):p(t,!1,"imp"),o(n,t,y)},onEnd:function(t,e){t=u(t,y);(0,g.createEvent)("track","full",t.pid,t.crid,t.frid,t.liid,t.uid,f.placementMetadata,B.stories_sessionId),e()},onClose:function(t,e){clearTimeout(m),clearTimeout(r);t=u(t,y);(0,g.createEvent)("track","close",t.pid,t.crid,t.frid,t.liid,t.uid,f.placementMetadata,B.stories_sessionId),e()},onNextItem:function(t,e,n,a){a()},onNavigateItem:function(t,e,n,a){y+=1;var i=u(t,n),r=b.data[t].items[y];(0,g.createEvent)("track","imp",i.pid,i.crid,i.frid,i.liid,i.uid,f.placementMetadata,B.stories_sessionId),"1"===r.ad?p(t,r.creativeId,"imp"):p(t,!1,"imp"),o(i,t,n),a()}},language:{unmute:"Activa el sonido",keyboardTip:"Press space to see next",visitLink:"Ver mÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬ ÃƒÂ¢Ã¢â€šÂ¬Ã¢â€žÂ¢ÃƒÆ’Ã†â€™ÃƒÂ¢Ã¢â€šÂ¬ ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬ÃƒÂ¢Ã¢â‚¬Å¾Ã‚Â¢ÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€¦Ã‚Â¡ÃƒÆ’Ã†â€™ÃƒÂ¢Ã¢â€šÂ¬Ã…Â¡ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¡s",time:{ago:"ago",hour:"hour ago",hours:"hours ago",minute:"minute ago",minutes:"minutes ago",fromnow:"from now",seconds:"seconds ago",yesterday:"yesterday",tomorrow:"tomorrow",days:"days ago"}}},z=function(t,e){function n(t){return void 0!==t}return e?(n(f[t])&&n(f[t][e])?f:i)[t][e]:(n(f[t])?f:i)[t]},C=new function(){var t,e,n=I("#zuck-modal");n||B.Zuck.hasModal||(B.Zuck.hasModal=!0,(n=v.createElement("div")).id="zuck-modal",z("cubeEffect")&&(n.className="with-cube"),n.innerHTML='<div id="zuck-modal-content"></div>',n.style.display="none",n.setAttribute("tabIndex","1"),n.onkeyup=function(t){t=t.keyCode;27===t?C.close():13!==t&&32!==t||C.next()},z("openEffect")&&n.classList.add("with-effects"),e=function(){n.classList.contains("closed")&&(g.innerHTML="",n.style.display="none",n.classList.remove("closed"),n.classList.remove("animated"))},(t=n).transitionEndEvent||(t.transitionEndEvent=!0,a(t,e,"TransitionEnd")),v.body.appendChild(n));function y(t){var e=I("#zuck-modal"),a="",i="",n="0",r=I("#zuck-modal-slider-".concat(D)),o={previous:I("#zuck-modal .story-viewer.previous"),next:I("#zuck-modal .story-viewer.next"),viewing:I("#zuck-modal .story-viewer.viewing")};!o.previous&&!t||!o.next&&t||(i=t?(a="next","previous"):(a="previous","next"),z("cubeEffect")?"previous"===a?n=e.slideWidth:"next"===a&&(n=-1*e.slideWidth):n=-1*(n=L(o[a]))[0],S(r,n,600,null),setTimeout(function(){var t,e,n;""!==a&&o[a]&&""!==i&&(t=o[a].getAttribute("data-story-id"),b.internalData.currentStory=t,(e=I("#zuck-modal .story-viewer.".concat(i)))&&e.parentNode.removeChild(e),o.viewing&&(o.viewing.classList.add("stopped"),o.viewing.classList.add(i),o.viewing.classList.remove("viewing")),o[a]&&(o[a].classList.remove("stopped"),o[a].classList.remove(a),o[a].classList.add("viewing")),(n=M(a))&&h(n,a),t=b.internalData.currentStory,(e=I('#zuck-modal [data-story-id="'.concat(t,'"]')))&&(n=(e=e.querySelectorAll("[data-index].active"))[0].firstElementChild,b.data[t].currentItem=parseInt(e[0].getAttribute("data-index"),10),e[0].innerHTML='<b style="'.concat(n.style.cssText,'"></b>'),x(e[0].firstElementChild,function(){b.nextItem(!1)})),S(r,"0",0,null),e&&N([e[0],e[1]],!0),z("callbacks","onView")(b.internalData.currentStory))},650))}var g=I("#zuck-modal-content"),h=function(s,t,e){var n=I("#zuck-modal-slider-".concat(D)),d="",l="",u=w(s,"id"),a=v.createElement("div"),m=w(s,"currentItem")||0,i=I('#zuck-modal .story-viewer[data-story-id="'.concat(u,'"]')),p="";if(i)return!1;a.className="slides",E(w(s,"items"),function(t,e){t<m&&(s.items[t].seen=!0,e.seen=!0);var n,a=w(e,"id"),i=w(e,"length"),r=w(e,"linkText"),o=!0===w(e,"seen")?"seen":"",c='data-index="'.concat(t,'" data-item-id="').concat(a,'"'),a=z("callbacks","onRender");m===t&&(p=T(w(e,"time"))),l+="\n                            <span ".concat(c,' class="').concat(m===t?"active":""," ").concat(o,'">\n                                <b style="animation-duration:').concat(""===i?"3":i,'s"></b>\n                            </span>'),d+='\n            <div data-time="'.concat(w(e,"time"),'" data-type="').concat(w(e,"type"),'"').concat(c,' class="item ').concat(o," ").concat(m===t?"active":"",'">\n                ').concat(a(e,"\n                ".concat("video"===w(e,"type")?w(e,"sound")?'<video class="media" muted webkit-playsinline playsinline preload="auto" src="'.concat(w(e,"src"),'" ').concat(w(e,"type"),'></video>\n                                    <b class="tip muted">').concat(z("language","unmute"),"</b>"):'<video class="media" muted webkit-playsinline playsinline preload="auto" src="'.concat(w(e,"src"),'" ').concat(w(e,"type"),"></video>"):'<img class="media" src="'.concat(w(e,"src"),'" ').concat(w(e,"type"),">"),"\n\n                ").concat(w(e,"link")?'\n                        <a class="tip link" href="'.concat((n=u,t=w(o=e,"link"),a=f.stories.find(function(t){return t.id==n}),e=(new Date).getTime(),"1"===o.ad&&(a.lineItemId=o.lineItemId),"https://trk.bmndsc.com/t/track/clk?pid="+a.placementId+"&crid="+o.creativeId+"&frid="+o.id+"&liid="+a.lineItemId+"&uid="+f.userId+"&timestamp="+e+"&r="+encodeURIComponent(t)),'" rel="noopener" target="_blank">\n                        ').concat(r&&""!==r?r:z("language","visitLink"),"\n                        </a>\n                "):"\n                ","\n                ")),"\n            </div>")}),a.innerHTML=d;function r(t){t.muted?c.classList.add("muted"):c.classList.remove("muted")}var o=a.querySelector("video");o&&(o.onwaiting=function(t){o.paused&&(c.classList.add("paused"),c.classList.add("loading"))},o.onplay=function(){r(o),c.classList.remove("stopped"),c.classList.remove("paused"),c.classList.remove("loading")},o.onready=o.onload=o.onplaying=o.oncanplay=function(){r(o),c.classList.remove("loading")},o.onvolumechange=function(){r(o)}),a.querySelectorAll("b.tip.muted").forEach(function(t){t.addEventListener("touchend",function(t){t.preventDefault(),t.stopPropagation(),q(o,c)})});var c=v.createElement("div");c.className="story-viewer muted ".concat(t," ").concat(e?"":"stopped"," ").concat(z("backButton")?"with-back-button":""),c.setAttribute("data-story-id",u);e='<div class="head"><div class="left">'.concat(z("backButton")?'<a class="back">&times;</a>':"",'<u class="img" style="background-image:url(').concat(w(s,"photo"),');"></u><div><strong>').concat(w(s,"name"),'</strong><span class="time">').concat(p,'</span></div></div><div class="right"><span class="time">').concat(p,'</span><span class="loading"></span><a class="close" tabIndex="2">&times;</a></div></div><div class="slides-pointers"><div>').concat(l,"</div></div>");c.innerHTML=e,E(c.querySelectorAll(".close, .back"),function(t,e){e.onclick=function(t){t.preventDefault(),C.close()}}),c.appendChild(a),"viewing"===t&&N(c.querySelectorAll('[data-index="'.concat(m,'"].active')),!1),E(c.querySelectorAll(".slides-pointers [data-index] > b"),function(t,e){x(e,function(){b.nextItem(!1)})}),"previous"===t?A(n,c):n.appendChild(c)};return{show:function(r,t){var o=I("#zuck-modal");if(f.ads){document.querySelectorAll('li[data-ad="1"]').forEach(function(t){var e=t.parentElement.parentElement.dataset.id,t=t.dataset.id;b.removeItem(e,t)}),Object.entries(b.data).forEach(function(t,e){t=H(t,2),t[0],t=t[1];t.items=t.items.filter(function(t){return"1"!==t.ad})});var e=f.ads.flatMap(function(n){return n.items.map(function(t){var e=t.id;return Object.assign(t,n),delete t.items,delete t.thirdPartyImpressionPixels,t.id=e,t})});f.cleanAds=e;var n,a=0,i=F(f.stories.entries());try{for(i.s();!(n=i.n()).done;){var c,s=H(n.value,2),d=(s[0],s[1]),l=F(d.items.entries());try{for(l.s();!(c=l.n()).done;){var u,m=H(c.value,2),p=m[0];m[1],a&&!(a%f.adRatio)&&0<p&&(u=e.pop(),b.addItem(d.id,u,!1,u.id,p),e.unshift(u)),a+=1}}catch(r){l.e(r)}finally{l.f()}}}catch(r){i.e(r)}finally{i.f()}}z("callbacks","onOpen")(r,function(){g.innerHTML='<div id="zuck-modal-slider-'.concat(D,'" class="slider"></div>');var t,c,s,d,l,u,m,p,f,v,a,e=b.data[r],n=e.currentItem||0;t=I("#zuck-modal-slider-".concat(D)),c=I("#zuck-modal"),s=t,d={},f=p=m=u=l=void 0,t=function(t){var e=I("#zuck-modal .viewing");if("A"===t.target.nodeName)return!0;t.preventDefault();var n=t.touches?t.touches[0]:t,t=L(I("#zuck-modal .story-viewer.viewing"));c.slideWidth=I("#zuck-modal .story-viewer").offsetWidth,d={x:t[0],y:t[1]};t=n.pageX,n=n.pageY;l={x:t,y:n,time:Date.now()},u=void 0,m={},s.addEventListener("mousemove",v),s.addEventListener("mouseup",a),s.addEventListener("mouseleave",a),s.addEventListener("touchmove",v),s.addEventListener("touchend",a),e&&e.classList.add("paused"),j(),p=setTimeout(function(){e.classList.add("longPress")},600),f=setTimeout(function(){clearInterval(f),f=!1},250)},v=function(t){var e=t.touches?t.touches[0]:t,n=e.pageX,e=e.pageY;l&&(m={x:n-l.x,y:e-l.y},!(u=void 0===u?!!(u||Math.abs(m.x)<Math.abs(m.y)):u)&&l&&(t.preventDefault(),S(s,d.x+m.x,0,null)))},a=function t(e){var n,a,i=I("#zuck-modal .viewing"),r=l;m&&(a=l?Date.now()-l.time:void 0,n=Number(a)<300&&25<Math.abs(m.x)||Math.abs(m.x)>c.slideWidth/3,o=m.x<0,a=I(o?"#zuck-modal .story-viewer.next":"#zuck-modal .story-viewer.previous"),u||(!n||o&&!a||!o&&!a?S(s,d.x,300):y(o)),l=void 0,s.removeEventListener("mousemove",v),s.removeEventListener("mouseup",t),s.removeEventListener("mouseleave",t),s.removeEventListener("touchmove",v),s.removeEventListener("touchend",t));var o=b.internalData.currentVideoElement;if(p&&clearInterval(p),i&&(N(i.querySelectorAll(".active"),!1),i.classList.remove("longPress"),i.classList.remove("paused")),f){clearInterval(f),f=!1;i=function(){r.x>_.screen.width/3||!z("previousTap")?b.navigateItem("next",e):b.navigateItem("previous",e)};if(!I("#zuck-modal .viewing")||!o)return i(),!1;i()}},s.addEventListener("touchstart",t),s.addEventListener("mousedown",t),b.internalData.currentStory=r,e.currentItem=n,z("backNative")&&(_.location.hash="#!".concat(D));n=M("previous");n&&h(n,"previous"),h(e,"viewing",!0);n=M("next");n&&h(n,"next"),z("autoFullScreen")&&o.classList.add("fullscreen");function i(){o.classList.contains("fullscreen")&&z("autoFullScreen")&&_.screen.width<=1024&&k(o),o.focus()}z("openEffect")?(e=I("#".concat(D,' [data-id="').concat(r,'"] .img')),n=L(e),o.style.marginLeft="".concat(n[0]+e.offsetWidth/2,"px"),o.style.marginTop="".concat(n[1]+e.offsetHeight/2,"px"),o.style.display="block",o.slideWidth=I("#zuck-modal .story-viewer").offsetWidth,setTimeout(function(){o.classList.add("animated")},10),setTimeout(function(){i()},300)):(o.style.display="block",o.slideWidth=I("#zuck-modal .story-viewer").offsetWidth,i()),z("callbacks","onView")(r)},scrollY)},next:function(t){z("callbacks","onEnd")(b.internalData.currentStory,function(){var t=b.internalData.currentStory,e=I("#".concat(D,' [data-id="').concat(t,'"]'));e&&(e.classList.add("seen"),b.data[t].seen=!0,b.internalData.seenItems[t]=!0,P("seenItems",b.internalData.seenItems),O()),I("#zuck-modal .story-viewer.next")?y(!0):C.close()})},close:function(){var t=I("#zuck-modal");z("callbacks","onClose")(b.internalData.currentStory,function(){z("backNative")&&(_.location.hash=""),k(t,!0),z("openEffect")?t.classList.add("closed"):(g.innerHTML="",t.style.display="none")}),scrollTo(0,window.stories.initialScroll)}}},M=function(t){var e=b.internalData.currentStory,t="".concat(t,"ElementSibling");if(e){t=I("#".concat(D,' [data-id="').concat(e,'"]'))[t];if(t){t=t.getAttribute("data-id");return b.data[t]||!1}}return!1},O=function(){E(v.querySelectorAll("#".concat(D," .story.seen")),function(t,e){var n=b.data[e.getAttribute("data-id")];e.parentNode.removeChild(e),b.add(n,!0)})},N=function(t,e){var n=t[1],a=t[0];if(a.parentNode.parentNode.parentNode,!n||!a)return!1;t=b.internalData.currentVideoElement;if(t&&t.pause(),"video"===n.getAttribute("data-type")){var i=n.getElementsByTagName("video")[0];if(!i)return b.internalData.currentVideoElement=!1;n=function(t){i.duration&&c(a.getElementsByTagName("b")[0].style,"AnimationDuration","".concat(i.duration,"s"))};n(),i.addEventListener("loadedmetadata",n),(b.internalData.currentVideoElement=i).play()}else b.internalData.currentVideoElement=!1},j=function(){var t=b.internalData.currentVideoElement;if(t)try{t.pause()}catch(t){}},q=function(t,e){t.muted=!1,t.volume=1,t.removeAttribute("muted"),t.play(),t.paused&&(t.muted=!0,t.play()),e&&e.classList.remove("paused")},P=function(t,e){try{var n;z("localStorage")&&(n="zuck-".concat(D,"-").concat(t),_.localStorage[n]=JSON.stringify(e))}catch(t){}};return b.data={},b.internalData={},b.internalData.seenItems=function(){if(z("localStorage")){var t="zuck-".concat(D,"-").concat("seenItems");return!!_.localStorage[t]&&JSON.parse(_.localStorage[t])}return!1}()||{},b.add=b.update=function(t,a){var i=w(t,"id"),e=I("#".concat(D,' [data-id="').concat(i,'"]')),n=w(t,"items"),r=!1;b.data[i]={},e?r=e:(r=v.createElement("div")).className="story",!1===t.seen&&(b.internalData.seenItems[i]=!1,P("seenItems",b.internalData.seenItems)),r.setAttribute("data-id",i),r.setAttribute("data-placementId",w(t,"placementId")),r.setAttribute("data-ad",w(t,"ad")),r.setAttribute("data-photo",w(t,"photo")),r.setAttribute("data-last-updated",w(t,"lastUpdated")),w(t,"ad")&&r.setAttribute("style","display: none !important");var o=!1;n[0]&&(o=n[0].preview||""),t='<a href="'.concat(w(t,"link"),'"><span class="img"><u style="background-image:url(').concat(z("avatars")||!o||""===o?w(t,"photo"):o,')"></u></span><span class="info"><strong>').concat(w(t,"name"),'</strong><span class="time">').concat(T(w(t,"lastUpdated")),'</span></span></a><ul class="items"></ul>'),r.innerHTML=t,d(r),e||(a?s.appendChild(r):A(s,r)),E(n,function(t,e){var n=w(e,"id");b.addItem(i,e,a,n)}),a||O()},b.next=function(){C.next()},b.remove=function(t){t=I("#".concat(D,' > [data-id="').concat(t,'"]'));t.parentNode.removeChild(t)},b.addItem=function(t,e,n,a){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,r=I("#".concat(D,' > [data-id="').concat(t,'"]')),t=v.createElement("li");t.className=w(e,"seen")?"seen":"",t.setAttribute("data-id",w(e,"id")),t.setAttribute("data-frame-id",a),t.setAttribute("data-sound",w(e,"sound")),t.setAttribute("data-muted",!0),e.lineItemId?(t.setAttribute("data-ad",1),t.setAttribute("data-lineItemId",e.lineItemId),t.setAttribute("data-creativeId",e.creativeId),t.setAttribute("data-name",e.name),t.setAttribute("data-photo",e.photo)):t.setAttribute("data-ad",0),t.innerHTML='\n          <a\n            href="'.concat(w(e,"src"),'"\n            data-link="').concat(w(e,"link"),'"\n            data-linkText="').concat(w(e,"linkText"),'"\n            data-time="').concat(w(e,"time"),'"\n            data-type="').concat(w(e,"type"),'"\n            data-length="').concat(w(e,"length"),'"\n          >\n              <img src="').concat(w(e,"preview"),'">\n          </a>\n        ');var o,c,e=r.querySelectorAll(".items")[0];null===i?n?e.appendChild(t):A(e,t):(o=e.querySelectorAll("li[data-ad='0']")[i],e.insertBefore(t,o)),r=(o=r).getAttribute("data-id"),o=v.querySelectorAll("#".concat(D,' [data-id="').concat(r,'"] .items > li')),c=[],E(o,function(t,e){var n=e.firstElementChild,a=n.firstElementChild;c.push({id:e.getAttribute("data-frame-id"),src:n.getAttribute("href"),length:n.getAttribute("data-length"),type:n.getAttribute("data-type"),time:n.getAttribute("data-time"),link:n.getAttribute("data-link"),linkText:n.getAttribute("data-linkText"),preview:a.getAttribute("src"),sound:e.getAttribute("data-sound"),lineItemId:e.getAttribute("data-lineitemid")||"",creativeId:e.getAttribute("data-creativeid")||"",ad:e.getAttribute("data-ad")||0,name:e.getAttribute("data-name")||"",photo:e.getAttribute("data-photo")||""})}),b.data[r].items=c},b.removeItem=function(t,e){e=I('[data-id="'.concat(t,'"] [data-id="').concat(e,'"]'));e.parentNode.removeChild(e)},b.navigateItem=b.nextItem=function(e,a){clearTimeout(m);var i=b.internalData.currentStory,t=b.data[i].currentItem,r=I('#zuck-modal .story-viewer[data-story-id="'.concat(i,'"]')),o="previous"===e?-1:1;if(!r||1===r.touchMove)return!1;var n=r.querySelectorAll('[data-index="'.concat(t,'"]')),c=n[0],s=n[1],d=r.querySelectorAll('[data-index="'.concat(t+o,'"]')),l=d[0],u=d[1];r&&l&&u?(t=z("callbacks","onNavigateItem"),(t=z("callbacks",t?"onNavigateItem":"onNextItem"))(i,u.getAttribute("data-story-id"),u.getAttribute("data-index"),function(){"previous"===e?(c.classList.remove("seen"),s.classList.remove("seen")):(c.classList.add("seen"),s.classList.add("seen")),c.classList.remove("active"),s.classList.remove("active"),l.classList.remove("seen"),l.classList.add("active"),u.classList.remove("seen"),u.classList.add("active");var t=u.getAttribute("data-index"),n=b.data[i].items[t];parseInt(n.ad)?(r.querySelector(".left div > strong").innerText=n.name,r.querySelector(".left u.img").style.backgroundImage="url(".concat(n.photo,")")):(r.querySelector(".left div > strong").innerText=b.data[i].name,r.querySelector(".left u.img").style.backgroundImage="url(".concat(b.data[i].photo,")")),E(r.querySelectorAll(".time"),function(t,e){e.innerText=parseInt(n.ad)?"PUBLICIDAD":T(u.getAttribute("data-time"))}),b.data[i].currentItem=b.data[i].currentItem+o,N(d,a)})):r&&"previous"!==e&&C.next(a)},b.load=function(){var t=this;if(!(0<Object.keys(this.data).length)){document.getElementById("stories").parentElement.style.display="block",I("#".concat(D," .story"))&&E(s.querySelectorAll(".story"),function(t,e){d(e)}),z("backNative")&&(_.location.hash==="#!".concat(D)&&(_.location.hash=""),_.addEventListener("popstate",function(t){_.location.hash!=="#!".concat(D)&&(_.location.hash="")},!1));var e,n,a,i=document.getElementById("stories_closeBtn");i&&(z("close")?i.addEventListener("click",function(){b.hide()}):i.style.display="none",z("storiesTitle")&&((e=document.createElement("p")).innerText=z("storiesTitle").toUpperCase(),e.style.margin="0",e.style.marginBottom="5px",e.style.fontSize="10px",this.timeline.prepend(e),this.timeline.style.paddingTop="5px"),z("size")&&("small"===z("size")?((e=(n=document.createElement("style")).styleSheet)?e.cssText="\n                                    .stories.snapgram .story>a>.img { height: 50px !important; width: 50px !important; margin: 0 auto }\n                                    .stories.carousel .story > a > .info { margin-top: 0.125em; line-height: 1.1em }\n                                    .stories { padding: 7px 0 0 0 }\n                                ":n.appendChild(document.createTextNode("\n                                    .stories.snapgram .story>a>.img { height: 50px !important; width: 50px !important; margin: 0 auto }\n                                    .stories.carousel .story > a > .info { margin-top: 0.125em; line-height: 1.1em }\n                                    .stories { padding: 7px 0 0 0 !important }\n                                ")),n.type="text/css",document.head.appendChild(n)):z("size")),z("prependImage")&&((n=document.createElement("div")).classList.add("stories_prependImage"),n.style.display="inline",(a=document.createElement("img")).style.display="none",a.style.padding="0 5px",a.src=z("prependImage"),n.appendChild(a),this.timeline.prepend(n)),z("customStyles")&&((c=document.createElement("style")).type="text/css",c.id="stories_customStyles",window.attachEvent&&!window.opera?c.styleSheet.cssText=z("customStyles"):(o=document.createTextNode(z("customStyles")),c.appendChild(o)),document.getElementsByTagName("head")[0].appendChild(c)));var r=setInterval(function(){25<t.timeline.clientHeight&&(i.style.height=t.timeline.clientHeight+"px",void 0!==a&&(a.style.height=t.timeline.clientHeight+"px",a.style.display="initial"),clearInterval(r))},15);E(z("stories"),function(t,e){b.add(e,!0)}),O();var o=z("avatars")?"user-icon":"story-preview",c=z("list")?"list":"carousel";s.className="stories ".concat(o," ").concat(c," ").concat("".concat(z("skin")).toLowerCase());c=f.stories[0].placementId||null;return B.stories_sessionId=(0,g.uniqid)("",!0),(0,g.createEvent)("track","load",c,null,null,null,f.userId,f.placementMetadata,B.stories_sessionId),b}},b.show=function(){b.timeline.parentElement.style.display="block"},b.hide=function(){b.timeline.parentElement.style.display="none"},b.delete=function(){b.timeline.parentElement.remove()},b}_=window,B=_,o.buildItem=function(t,e,n,a,i,r,o,c,s){return{id:t,type:e,length:n,src:a,preview:i,link:r,linkText:o,seen:c,time:s}},a=B.Zuck=o,void 0===(e=function(){return a}.call(e,n,e,t))||(t.exports=e)},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createEvent=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"",o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:"",c=7<arguments.length&&void 0!==arguments[7]?arguments[7]:"",s=8<arguments.length&&void 0!==arguments[8]?arguments[8]:"",d=(new Date).getTime(),l=document.createElement("img");l.src="https://trk.bmndsc.com/t/".concat(t,"/").concat(e,"?pid=").concat(n,"&sid=").concat(s,"&crid=").concat(a,"&frid=").concat(i,"&liid=").concat(r,"&uid=").concat(o,"&placementMetadata=").concat(encodeURIComponent(c),"&timestamp=").concat(d),l.width=1,l.height=1,l.setAttribute("style","display:none"),document.getElementsByTagName("body")[0].appendChild(l)},e.uniqid=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(Date.now()/1e3).toString(16).split(".").join("");n.length<14;)n+="0";var a="";return e&&(a+=Math.round(1e8*Math.random())),t+n+a}}]);

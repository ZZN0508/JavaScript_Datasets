function doNielsenMapping(){for(var n=window.location.href.toString().split("?")[0],e=0;e<nielsenPageConf[window.kw_tlh_activeBrand].length;e++){for(var i=nielsenPageConf[window.kw_tlh_activeBrand][e][1],o=0;o<i.length;o++){var w=n.match(i[o]);if(console.log("[NIELSEN STATIC MAPPING] "+(e+1),"CANALE: "+nielsenPageConf[window.kw_tlh_activeBrand][e][0],"URL INDEX: "+(o+1),"REGEXP: "+i[o],"HAS MATCHED: "+(null!==w)),null!==w){console.log("[NIELSEN STATIC MAPPING] MATCH FOUND!!!!!!!!"),console.log("[NIELSEN STATIC MAPPING] Assigning ID:",nielsenPageConf[window.kw_tlh_activeBrand][e][2]),console.log("[NIELSEN STATIC MAPPING] Assigning Section:",nielsenPageConf[window.kw_tlh_activeBrand][e][3]),window.kw_nielsenAppId=nielsenPageConf[window.kw_tlh_activeBrand][e][2],window.nie_section=nielsenPageConf[window.kw_tlh_activeBrand][e][3];break}}if(null!==w)break}}try{window.currPageType="",void 0!==window.webtrekkPageConfig?window.currPageType=window.webtrekkPageConfig.pageType:window.currPageType=window.pageType}catch(n){window.currPageType="notdefined"}try{"homepage"===window.currPageType?window.nie_assetid=window.kw_tlh_activeHost+"_home_"+md5.generate(window.location.href):"section"===window.currPageType?window.nie_assetid=window.kw_tlh_activeHost+"_section_"+md5.generate(window.location.href):-1<window.currPageType.indexOf("ricerca")?window.nie_assetid=window.kw_tlh_activeHost+"_ricerca_"+md5.generate(window.location.href):-1<window.currPageType.indexOf("dettaglio")?window.nie_assetid=window.kw_tlh_activeHost+"_detail_"+md5.generate(window.location.href):window.nie_assetid=window.kw_tlh_activeHost+"_"+window.currPageType+"_"+md5.generate(window.location.href)}catch(n){try{window.nie_assetid=window.kw_tlh_activeHost+"_"+md5.generate(window.location.href)}catch(n){window.nie_assetid="no_asset_id"}}try{if("object"==typeof nielsenPageConf[window.kw_tlh_activeBrand][0][1])window.doNielsenMapping();else if(-1<window.location.href.toString().split("?")[0].indexOf("//quotidiani.gelocal.it")){console.log("[NIELSEN STATIC] Nielsen Specific Rule for GNN Edicola");try{window.nie_section=nielsenPageConf.gelocal[1]+"_BRW",console.log("[NIELSEN STATIC MAPPING] MATCH FOUND!!!!!!!!"),console.log("[NIELSEN STATIC MAPPING] Assigning Section:",window.nie_section)}catch(n){window.nie_section="no_section_available_BRW"}try{window.kw_nielsenAppId=nielsenPageConf.gelocal[0],window.kw_nielsenAppId||(window.kw_nielsenAppId=""),console.log("[NIELSEN STATIC MAPPING] Assigning ID:",window.kw_nielsenAppId)}catch(n){console.log("[NIELSEN STATIC] Error setting kwNienselAppid - Host (window.kw_tlh_activeHost) not found? => Setting Empty",n),window.kw_nielsenAppId=""}}else{try{window.nie_section=nielsenPageConf[window.kw_tlh_activeHost][1]+"_BRW",console.log("[NIELSEN STATIC MAPPING] MATCH FOUND!!!!!!!!"),console.log("[NIELSEN STATIC MAPPING] Assigning Section:",window.nie_section)}catch(n){window.nie_section="no_section_available_BRW"}try{window.kw_nielsenAppId=nielsenPageConf[window.kw_tlh_activeHost][0],window.kw_nielsenAppId||(window.kw_nielsenAppId=""),console.log("[NIELSEN STATIC MAPPING] Assigning ID:",window.kw_nielsenAppId)}catch(n){console.log("[NIELSEN STATIC] Error setting kwNienselAppid - Host (window.kw_tlh_activeHost) not found? => Setting Empty",n),window.kw_nielsenAppId=""}}}catch(n){window.nie_section="no_section_available_BRW",window.kw_nielsenAppId=""}var kw_nSdkPageInstance,nielsenMetadata;console.log("[NIELSEN STATIC] DATA SET => nie_assetid = "+window.nie_assetid+" - nie_section = "+window.nie_section+" - kwNielsenAppId (if empty no integration) => "+window.kw_nielsenAppId),""!=window.kw_nielsenAppId?(function(a,d){a[d]=a[d]||{nlsQ:function(n,t,e,i,o,w){return(i=(o=a.document).createElement("script")).async=1,i.src=("http:"===a.location.protocol?"http:":"https:")+"//cdn-gl.imrworldwide.com/conf/"+n+".js#name="+t+"&ns="+d,(w=o.getElementsByTagName("script")[0]).parentNode.insertBefore(i,w),a[d][t]=a[d][t]||{g:e||{},ggPM:function(n,e,i,o,w){(a[d][t].q=a[d][t].q||[]).push([n,e,i,o,w])}},a[d][t]}}}(window,"NOLBUNDLE"),kw_nSdkPageInstance=NOLBUNDLE.nlsQ(window.kw_nielsenAppId,"kw_nSdkPageInstance"),nielsenMetadata={type:"static",assetid:window.nie_assetid,section:window.nie_section},kw_nSdkPageInstance.ggPM("staticstart",nielsenMetadata)):console.log("[NIELSEN STATIC] !!!!!!! NO NIELSEN APP ID FOUND - Disabling Static DCR Nielsen Library Download");

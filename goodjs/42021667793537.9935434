YUI.add("html-file-dragdrop",function(e){"use strict";var t="htmlFileDragDrop",i=t+"-drag-over",n=t+"-error",o=["image/png","image/jpeg"];e.HtmlFileDragDrop=function(t){e.config.win.File&&e.config.win.FileList&&e.config.win.FileReader&&t.dropZone&&(this.dropZone=e.one(t.dropZone),this.dropZone.on("dragover",this.handleDragOver.bind(this)),this.dropZone.on("dragleave",this.handleDragLeave.bind(this)),this.dropZone.on("drop",this.handleDrop.bind(this)))},e.HtmlFileDragDrop.prototype.reset=function(){this.dropZone.removeClass(n),this.dropZone.removeClass(i)},e.HtmlFileDragDrop.prototype.handleDragOver=function(t){t.halt(),this.reset(),this.dropZone.addClass(i)},e.HtmlFileDragDrop.prototype.handleDragLeave=function(t){t.halt(),this.reset()},e.HtmlFileDragDrop.prototype.showError=function(){this.dropZone.addClass(n)},e.HtmlFileDragDrop.prototype.handleDrop=function(t){if(t.halt(),this.dropZone.removeClass(i),1<t._event.dataTransfer.files.length)return this.dropZone.addClass(n),void this.fire("drop",new Error("FILE_COUNT"));(t=t._event.dataTransfer.files[0])&&t.name&&(o.indexOf(t.type)<0?this.fire("drop",new Error("FILE_TYPE")):this.fire("drop",t))},e.augment(e.HtmlFileDragDrop,e.EventTarget,!0,null,{prefix:t})},"@VERSION@",{affinity:"",requires:["event-custom"],optional:[]}),YUI.add("hermes-template-photo-selector",function(i,t){var n=i.Template.Handlebars.revive({1:function(t,e,i,n,o){return'\t\t<div class="photo-selector-search-list-yours">\n\t\t\t<div class="photo-selector-search-list">\n\t\t\t\t<div class="photo-selector-search-list-container">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n'},3:function(t,e,i,n,o){return'\t\t<div class="photo-selector-search-list-contacts">\n\t\t\t<div class="photo-selector-search-list">\n\t\t\t\t<div class="photo-selector-search-list-container">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n'},5:function(t,e,i,n,o){return'\t\t<div class="photo-selector-search-list-everyone">\n\t\t\t<div class="photo-selector-search-list">\n\t\t\t\t<div class="photo-selector-search-list-container">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n'},7:function(t,e,i,n,o){return'\t\t<div class="photo-selector-search-list-marketplace"\n\t\t\t<div class="photo-selector-search-list">\n\t\t\t\t<div class="photo-selector-search-list-container">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n'},9:function(t,e,i,n,o){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="photo-selector-upload is-hiding">\n'+(null!=(o=a(i,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"canUpload"):e,{name:"if",hash:{},fn:t.program(10,o,0),inverse:t.program(12,o,0),data:o,loc:{start:{line:58,column:1},end:{line:76,column:8}}}))?o:"")+"</div>\n"},10:function(t,e,i,n,o){var a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,r=t.escapeExpression,t=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t<p class="upload-error"></p>\n\t\t<div class="drop-zone">\n\t\t\t<div class="drop-zone-content">\n\t\t\t\t<div class="balls"></div>\n\t\t\t\t<input type="file" class="file-select" name="file-select" accept="image/jpeg, image/png" />\n\t\t\t\t<p><i class="upload-icon"></i>'+r((t(i,"intlHTMLMessage")||e&&t(e,"intlHTMLMessage")||s).call(a,{name:"intlHTMLMessage",hash:{intlName:"wallart.DRAG_DROP_TO_UPLOAD"},data:o,loc:{start:{line:64,column:34},end:{line:64,column:92}}}))+"</p>\n\t\t\t\t<p>"+r((t(i,"intlHTMLMessage")||e&&t(e,"intlHTMLMessage")||s).call(a,{name:"intlHTMLMessage",hash:{intlName:"wallart.PHOTOS_UPLOADED_AS_PRIVATE"},data:o,loc:{start:{line:65,column:7},end:{line:65,column:72}}}))+'</p>\n\t\t\t</div>\n\t\t</div>\n\t\t<ul class="preview"></ul>\n'},12:function(t,e,i,n,o){var a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,r=t.escapeExpression,t=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t<div class="cant-upload">\n\t\t\t<div class="cant-upload-message">\n\t\t\t\t<span>'+r((t(i,"intlMessage")||e&&t(e,"intlMessage")||s).call(a,{name:"intlMessage",hash:{limitCount:(t(i,"friendlyNumber")||e&&t(e,"friendlyNumber")||s).call(a,1e3,{name:"friendlyNumber",hash:{},data:o,loc:{start:{line:72,column:89},end:{line:72,column:110}}}),intlName:"upload-blocking.YOUVE_REACHED_UPLOAD_LIMIT"},data:o,loc:{start:{line:72,column:10},end:{line:72,column:112}}}))+'</span>\n\t\t\t\t<a href="/account/upgrade/pro/">'+r((t(i,"intlMessage")||e&&t(e,"intlMessage")||s).call(a,{name:"intlMessage",hash:{intlName:"common.GET_PRO"},data:o,loc:{start:{line:73,column:36},end:{line:73,column:77}}}))+"</a>\n\t\t\t</div>\n\t\t</div>\n"},14:function(t,e,i,n,o){return'<div class="group-photo-selector-photos-wrapper">\n\t<div class="group-photo-selector-photos photo-selector-photos">\n\t\t<div class="group-photo-selector-photos-container">\n\t\t</div>\n\t</div>\n</div>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,i,n,o){var a,s=null!=e?e:t.nullContext||{},r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="photo-selector-title-bar hidden">\n\t<div class="back-to-list">\n\t\t<div class="back-to-list-icon"><svg class="icon icon-back"><use xlink:href="#icon-back"></use></svg></div>\n\t\t<div class="back-to-list-text">'+t.escapeExpression((r(i,"intlMessage")||e&&r(e,"intlMessage")||t.hooks.helperMissing).call(s,{name:"intlMessage",hash:{intlName:"common.PHOTO_SELECTOR_BACK_TO_ALBUM_LIST"},data:o,loc:{start:{line:4,column:33},end:{line:4,column:100}}}))+'</div>\n\t</div>\n\t<div class="title"></div>\n</div>\n\n<div class="photo-selector-photos-wrapper">\n\t<div class="photo-selector-photos">\n\t\t<div class="photo-selector-photos-container">\n\t\t\t<div class="loader"><div class="balls"></div></div>\n\t\t</div>\n\t</div>\n</div>\n\n\n<div class="photo-selector-search-lists-wrapper is-hiding">\n'+(null!=(a=r(i,"if").call(s,null!=(a=null!=e?r(e,"searchable"):e)?r(a,"yours"):a,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:19,column:1},end:{line:26,column:8}}}))?a:"")+"\n"+(null!=(a=r(i,"if").call(s,null!=(a=null!=e?r(e,"searchable"):e)?r(a,"contacts"):a,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o,loc:{start:{line:28,column:1},end:{line:35,column:8}}}))?a:"")+"\n"+(null!=(a=r(i,"if").call(s,null!=(a=null!=e?r(e,"searchable"):e)?r(a,"everyone"):a,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o,loc:{start:{line:37,column:1},end:{line:44,column:8}}}))?a:"")+"\n"+(null!=(a=r(i,"if").call(s,null!=(a=null!=e?r(e,"searchable"):e)?r(a,"marketplace"):a,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.noop,data:o,loc:{start:{line:46,column:1},end:{line:53,column:8}}}))?a:"")+"</div>\n\n"+(null!=(a=r(i,"if").call(s,null!=e?r(e,"hasUploadCapabilities"):e,{name:"if",hash:{},fn:t.program(9,o,0),inverse:t.noop,data:o,loc:{start:{line:56,column:0},end:{line:78,column:7}}}))?a:"")+"\n"+(null!=(a=r(i,"if").call(s,null!=e?r(e,"hasGroupCapabilities"):e,{name:"if",hash:{},fn:t.program(14,o,0),inverse:t.noop,data:o,loc:{start:{line:80,column:0},end:{line:87,column:7}}}))?a:"")},useData:!0}),o={};i.Array.each([],function(t){var e=i.Template.get("hermes/"+t);e&&(o[t]=e)}),i.Template.register("hermes/photo-selector",function(t,e){return(e=e||{}).partials=e.partials?i.merge(o,e.partials):o,n(t,e)})},"@VERSION@",{requires:["template-base","handlebars-base"]}),YUI.add("hermes-template-infinite-scroll-load-more",function(i,t){var n=i.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(t,e,i,n,o){var a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="infinite-scroll-load-more">\n\t<button class="alt">'+t.escapeExpression((a(i,"intlMessage")||e&&a(e,"intlMessage")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},{name:"intlMessage",hash:{intlName:"common.LOAD_MORE_RESULTS"},data:o,loc:{start:{line:2,column:21},end:{line:2,column:72}}}))+"</button>\n</div>"},useData:!0}),o={};i.Array.each([],function(t){var e=i.Template.get("hermes/"+t);e&&(o[t]=e)}),i.Template.register("hermes/infinite-scroll-load-more",function(t,e){return(e=e||{}).partials=e.partials?i.merge(o,e.partials):o,n(t,e)})},"@VERSION@",{requires:["template-base","handlebars-base"]}),YUI.add("hermes-template-license-detail",function(i,t){var n=i.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(t,e,i,n,o){var a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,r=t.escapeExpression,t=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<p class="secondary" style="margin-top: 0;">'+r((t(i,"intlMessage")||e&&t(e,"intlMessage")||s).call(a,{name:"intlMessage",hash:{intlName:null!=e?t(e,"title"):e},data:o,loc:{start:{line:1,column:44},end:{line:1,column:74}}}))+'</p>\n<p class="secondary" style="margin-bottom: 0;">'+r((t(i,"intlMessage")||e&&t(e,"intlMessage")||s).call(a,{name:"intlMessage",hash:{intlName:null!=e?t(e,"body"):e},data:o,loc:{start:{line:2,column:47},end:{line:2,column:76}}}))+"</p>\n"},useData:!0}),o={};i.Array.each([],function(t){var e=i.Template.get("hermes/"+t);e&&(o[t]=e)}),i.Template.register("hermes/license-detail",function(t,e){return(e=e||{}).partials=e.partials?i.merge(o,e.partials):o,n(t,e)})},"@VERSION@",{requires:["template-base","handlebars-base"]}),YUI.add("photo-list-layout-row",function(r){(r.PhotoListLayoutRow=function(t){this.top=t.top,this.left=t.left,this.width=t.width,this.spacing=t.spacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.additionalHeight=t.additionalHeight||0,this.minAspectRatio=this.width/t.targetRowHeight*(1-t.targetRowHeightTolerance),this.maxAspectRatio=this.width/t.targetRowHeight*(1+t.targetRowHeightTolerance),this.edgeCaseMinRowHeight=t.edgeCaseMinRowHeight||Number.NEGATIVE_INFINITY,this.edgeCaseMaxRowHeight=t.edgeCaseMaxRowHeight||Number.POSITIVE_INFINITY,this.rightToLeft=t.rightToLeft,this.isBreakoutRow=t.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(t){var e,i,n=this.items.concat(t),o=this.width-(n.length-1)*this.spacing,a=n.reduce(function(t,e){return t+e.aspectRatio},0),s=o/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&1<=t.aspectRatio?(this.items.push(r.merge(t)),this._completeLayout(o/t.aspectRatio),!0):!(0===a||(a<this.minAspectRatio?(this.items.push(r.merge(t)),0):a>this.maxAspectRatio&&0!==this.items.length?(e=this.width-(this.items.length-1)*this.spacing,i=this.items.reduce(function(t,e){return t+e.aspectRatio},0),n=e/this.targetRowHeight,Math.abs(a-s)>Math.abs(i-n)?(this._completeLayout(e/i),1):(this.items.push(r.merge(t)),this._completeLayout(o/a),0)):(this.items.push(r.merge(t)),this._completeLayout(o/a),0)))},forceComplete:function(t,e){var i=this.width-(this.items.length-1)*this.spacing,n=this.items.reduce(function(t,e){return t+e.aspectRatio},0);"number"==typeof e?this._completeLayout(e-this.additionalHeight,!1):t?this._completeLayout(i/n):this._completeLayout(this.targetRowHeight-this.additionalHeight,!1)},isLayoutComplete:function(){return 0<this.height},getItems:function(){return this.rightToLeft?this.items.reverse():this.items},getIndexOfItem:function(i){var n=-1;return this.items.some(function(t,e){if(t.id===i)return n=e,!0}),n},setTop:function(e){this.top=e,this.items.forEach(function(t){t.geometry.top=e})},_completeLayout:function(t,e){var i,n,o,a,s=this.rightToLeft?-this.left:this.left,r=this.width-(this.items.length-1)*this.spacing,l=this;void 0===e&&(e=!0),i=(n=Math.round(t))!==(t=Math.max(this.edgeCaseMinRowHeight,Math.min(n,this.edgeCaseMaxRowHeight)))?r/(this.height=t)/(r/n):(this.height=n,1),this.items.forEach(function(t,e){t.geometry={top:l.top,width:Math.round(t.aspectRatio*l.height*i),height:l.height+l.additionalHeight},l.rightToLeft?t.geometry.left=l.width-s-t.geometry.width:t.geometry.left=s,s+=t.geometry.width+l.spacing}),this.height+=l.additionalHeight,e&&(this.rightToLeft||(s-=this.spacing+this.left),o=(s-this.width)/this.items.length,a=this.items.map(function(t,e){return Math.round((e+1)*o)}),1===this.items.length?((e=this.items[0].geometry).width-=Math.round(o),this.rightToLeft&&(e.left+=Math.round(o))):this.items.forEach(function(t,e){0<e?(t.geometry.left-=a[e-1],t.geometry.width-=a[e]-a[e-1]):t.geometry.width-=a[e]}))}}},"@VERSION@",{requires:[]}),YUI.add("photo-list-layout",function(i,t){var v=require("hermes-core/flog")(t),e={containerPadding:{top:8,right:8,bottom:8,left:8},itemSpacing:{horizontal:8,vertical:8},targetRowHeight:320,targetRowHeightTolerance:.25,awakeBoundsToViewportSizeRatio:3,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:Number.NaN,alwaysDisplayOrphans:!1,sleepTopAndBottom:!0,sleepLeftAndRight:!1,fullWidthBreakoutRowCadence:!1,deferWakeSleepUntil:2500};(i.PhotoListLayout=function(t){if(!t.appContext)throw new Error("PhotoListLayout must be instantiated with `params.appContext`.");t=i.merge(e,t),this.appContext=t.appContext,this.containerWidth=t.containerWidth,this.viewportContainerNodeHeight=t.viewportContainerNodeHeight||this.appContext.viewportData.getHeight(),this.containerPadding=t.containerPadding,this.itemSpacing=t.itemSpacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.awakeBoundsToViewportSizeRatio=t.awakeBoundsToViewportSizeRatio,this.maxNumRows=t.maxNumRows,this.forceAspectRatio=t.forceAspectRatio,this.alwaysDisplayOrphans=t.alwaysDisplayOrphans,this.sleepTopAndBottom=t.sleepTopAndBottom,this.sleepLeftAndRight=t.sleepLeftAndRight,this.fullWidthBreakoutRowCadence=t.fullWidthBreakoutRowCadence,this.deferWakeSleepUntil=t.deferWakeSleepUntil,this.additionalHeight=t.additionalHeight||0,this._layoutItems=[],this._awakeItems=[],this._inViewportItems=[],this._leadingOrphans=[],this._trailingOrphans=[],this._containerHeight=this.containerPadding.top,this._rows=[],this._orphans=[]}).prototype={getCurrentLayout:function(){return this._layoutItems.concat()},getAwakeItems:function(){return this._awakeItems.concat()},getInViewportItems:function(){return this._inViewportItems.concat()},hasLimitedNumberOfRows:function(){return this.maxNumRows!==e.maxNumRows},getLayoutItem:function(e){var i=null;return this._layoutItems.some(function(t){if(t.id===e)return i=t,!0}),i},getItemsInRow:function(t){return this._rows.length<=t?[]:this._rows[t].items.concat()},invalidateItem:function(n){function e(t,e,i){if(t.id===n)return i.splice(e,1),o=!0}var o;return this._layoutItems.some(e),this._leadingOrphans.some(e),this._trailingOrphans.some(e),this._rows.some(function(t){return t.items.some(e)}),this._orphans.some(e),o},clear:function(){this._layoutItems=[],this._leadingOrphans=[],this._trailingOrphans=[],this._containerHeight=this.containerPadding.top,this._rows=[],this._orphans=[]},updateTargetRowHeight:function(t){this.targetRowHeight=t,this.updatedRowHeight=this.targetRowHeight},computeLayout:function(t,e,i,n){var o,a,s,r,l,h,c,p={},u=[],d=[],g=[],m=!1,f=this;switch(this.containerWidth||(v.log("No valid containerWidth set on photo-list-layout; falling back to default"),this.containerWidth=1060),t=t||[],this.forceAspectRatio&&t.forEach(function(t){t.forcedAspectRatio=!0,t.aspectRatio=f.forceAspectRatio}),o=this._layoutItems.concat(),this._layoutItems.forEach(function(t){p[t.id]=t}),(n=n||{diffType:"append"}).diffType){case"prepend":t=t.concat(this._leadingOrphans),this._leadingOrphans=[],t.reverse(),m=!0;break;case"merge":v.log("Due to the whims of product management, `merge` layouts are not yet implemented."),this.updateLayoutFrom(t,n.mergeStartIndex);break;case"relayout":n.diffDirection?"top"===n.diffDirection?t=t.concat(this._leadingOrphans.concat(this._layoutItems.concat(this._trailingOrphans))):"bottom"===n.diffDirection&&(t=this._leadingOrphans.concat(this._layoutItems.concat(this._trailingOrphans)).concat(t)):t=this._leadingOrphans.concat(this._layoutItems.concat(this._trailingOrphans)),this.clear();break;default:t=this._trailingOrphans.concat(t),this._trailingOrphans=[],1<this._rows.length&&(this._containerHeight=this._containerHeight-this.containerPadding.bottom+this.itemSpacing.vertical)}return t.some(function(t,e){if(r=!1,a=a||f.createNewRow(m),s=a.addItem(t),a.isLayoutComplete()){if(u=u.concat(f.addRow(a,m)),f._rows.length>=f.maxNumRows)return!(a=null);if(a=f.createNewRow(m),!s)if(s=a.addItem(t),a.isLayoutComplete()){if(u=u.concat(f.addRow(a,m)),f._rows.length>=f.maxNumRows)return!(a=null);a=f.createNewRow(m)}else s||(r=!0)}else s||(r=!0);r&&v.warn("computeLayout() Item not added and layout not complete",t)}),this._rows.length>=this.maxNumRows?(this._layoutItems||(v.warn("computeLayout() LayoutItems are unexpectedly undefined"),this._layoutItems=[]),this._trailingOrphans=t.slice(this._layoutItems.length)):a&&a.getItems().length&&(m?n.firstPage?(a.forceComplete(!0),u=u.concat(f.addRow(a,m))):this._leadingOrphans=a.getItems().reverse():n.lastPage||this.alwaysDisplayOrphans?(this._rows.length?(c=this._rows[this._rows.length-1].isBreakoutRow?this._rows[this._rows.length-1].targetRowHeight:this._rows[this._rows.length-1].height,a.forceComplete(!1,this.updatedRowHeight||c)):this.alwaysDisplayOrphans&&o.length?o[o.length-1].geometry&&a.forceComplete(!1,this.updatedRowHeight||o[o.length-1].geometry.height):a.forceComplete(!1),u=u.concat(f.addRow(a,m)),delete this.updatedRowHeight):this._trailingOrphans=a.getItems().concat()),u.forEach(function(t){(p[t.id]?g:d).push(t)}),this._containerHeight=this._containerHeight-this.itemSpacing.vertical+this.containerPadding.bottom,m&&(h=this.containerPadding.top,this._rows.forEach(function(t){t.setTop(h),h+=t.height+f.itemSpacing.vertical}),g=o.concat()),i=this.computeWakeSleep(e,i,p),l=i.wakeSleepChangedItems,i=i.inViewportChangedItems,this._trailingOrphans.concat(this._leadingOrphans).forEach(function(t){p[t.id]&&(t.isAwake=!1,l.push(t))}),{allLayoutItems:this._layoutItems.concat(),newItems:d,layoutChangedItems:g,wakeSleepChangedItems:l,inViewportChangedItems:i,leadingOrphans:this._leadingOrphans.concat(),trailingOrphans:this._trailingOrphans.concat(),containerHeight:this._containerHeight}},computeWakeSleep:function(t,e,i){var n=this._awakeItems=[],o=this._inViewportItems=[];t=t||0,e=e||0,this.viewportContainerNodeHeight||(v.log("No valid viewport height available for photo-list-layout; falling back to default"),this.viewportContainerNodeHeight=1e3);var a,s,r,l=this.viewportContainerNodeHeight,h=.5*l*(this.awakeBoundsToViewportSizeRatio-1),c=t,p=t+l,u=c-h,d=p+h,g=[],m=[],f=this._layoutItems.length<this.deferWakeSleepUntil,w=this;return this.sleepLeftAndRight&&(h=.5*(l=this.appContext.viewportData.getWidth())*(this.awakeBoundsToViewportSizeRatio-1),a=e-h,s=e+l+h),this._layoutItems.forEach(function(t){i&&(r=i[t.id]),f?t.isAwake=!0:(w.sleepTopAndBottom?t.isAwake=t.geometry.top+t.geometry.height>=u&&t.geometry.top<d:t.isAwake=!0,t.isAwake&&w.sleepLeftAndRight&&(t.isAwake=t.geometry.left+t.geometry.width>=a&&t.geometry.left<s)),r&&r.isAwake===t.isAwake||g.push(t),t.isAwake&&n.push(t),t.isInViewport=t.geometry.top+t.geometry.height>=c&&t.geometry.top<p,m.push(t),t.isInViewport&&o.push(t)}),{allLayoutItems:i?this._layoutItems:this._layoutItems.concat(),newItems:[],layoutChangedItems:[],wakeSleepChangedItems:g,inViewportChangedItems:m,leadingOrphans:this._leadingOrphans.concat(),trailingOrphans:this._trailingOrphans.concat(),containerHeight:this._containerHeight}},updateLayoutFrom:function(t,e){var i,n;this._layoutItems.length&&this._layoutItems.length>e&&(i=this._layoutItems[e],(n=this.getRowOfItem(i.id))&&(this._rows=this._rows.slice(0,n.index),i=this._rows[this._rows.length-1],this._containerHeight=i?i.top+i.height:0,0<n.indexInRow&&(n=(n=this._layoutItems.splice(-n.indexInRow)).map(function(t){return{id:t.id,aspectRatio:t.aspectRatio,layoutType:t.layoutType}}),t.unshift.apply(t,n))),this._layoutItems=this._layoutItems.slice(0,Math.min(this._layoutItems.length,e)))},createNewRow:function(t){var e=!1;return!1!==this.fullWidthBreakoutRowCadence&&(this._rows.length+1)%this.fullWidthBreakoutRowCadence==0&&(e=!0),new i.PhotoListLayoutRow({top:this._containerHeight,left:this.containerPadding.left,width:this.containerWidth-this.containerPadding.left-this.containerPadding.right,spacing:this.itemSpacing.horizontal,targetRowHeight:this.targetRowHeight,targetRowHeightTolerance:this.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*this.targetRowHeight,edgeCaseMaxRowHeight:2*this.targetRowHeight,rightToLeft:t,isBreakoutRow:e,additionalHeight:this.additionalHeight})},addRow:function(t,e){return e?(this._rows.unshift(t),this._layoutItems=t.getItems().reverse().concat(this._layoutItems)):(this._rows.push(t),this._layoutItems=this._layoutItems.concat(t.getItems())),this._containerHeight+=t.height+this.itemSpacing.vertical,t.items},getRowOfItem:function(t){for(var e,i,n=0;n<this._rows.length;n++)if(-1!==(i=(e=this._rows[n]).getIndexOfItem(t)))return{row:e,index:n,indexInRow:i};return null}}},"@VERSION@",{requires:["photo-list-layout-row"]}),YUI.add("hermes-template-photo-card-overlay-icon",function(i,t){var n=i.Template.Handlebars.revive({1:function(t,e,i,n,o){return"\t\tautoplay\n"},3:function(t,e,i,n,o){return"\t\tvideo\n"},5:function(t,e,i,n,o){return"\t\tplay\n\t"},7:function(t,e,i,n,o){return'\t\t<svg class="icon icon-autoplay"><use xlink:href="#icon-autoplay"></use></svg>\n'},9:function(t,e,i,n,o){return'\t\t<svg class="icon icon-video"><use xlink:href="#icon-video"></use></svg>\n'},11:function(t,e,i,n,o){return'\t\t<svg class="icon icon-play"><use xlink:href="#icon-play"></use></svg>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,i,n,o){var a,s=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="photo-card-overlay-icon\n'+(null!=(a=(l(i,"ifCond")||e&&l(e,"ifCond")||r).call(s,null!=e?l(e,"type"):e,"===","autoplay",{name:"ifCond",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:2,column:1},end:{line:4,column:12}}}))?a:"")+(null!=(a=(l(i,"ifCond")||e&&l(e,"ifCond")||r).call(s,null!=e?l(e,"type"):e,"===","video",{name:"ifCond",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o,loc:{start:{line:5,column:1},end:{line:7,column:12}}}))?a:"")+(null!=(a=(l(i,"ifCond")||e&&l(e,"ifCond")||r).call(s,null!=e?l(e,"type"):e,"===","play",{name:"ifCond",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o,loc:{start:{line:8,column:1},end:{line:10,column:12}}}))?a:"")+'">\n\n'+(null!=(a=(l(i,"ifCond")||e&&l(e,"ifCond")||r).call(s,null!=e?l(e,"type"):e,"===","autoplay",{name:"ifCond",hash:{},fn:t.program(7,o,0),inverse:t.noop,data:o,loc:{start:{line:12,column:1},end:{line:14,column:12}}}))?a:"")+"\n"+(null!=(a=(l(i,"ifCond")||e&&l(e,"ifCond")||r).call(s,null!=e?l(e,"type"):e,"===","video",{name:"ifCond",hash:{},fn:t.program(9,o,0),inverse:t.noop,data:o,loc:{start:{line:16,column:1},end:{line:18,column:12}}}))?a:"")+"\n"+(null!=(a=(l(i,"ifCond")||e&&l(e,"ifCond")||r).call(s,null!=e?l(e,"type"):e,"===","play",{name:"ifCond",hash:{},fn:t.program(11,o,0),inverse:t.noop,data:o,loc:{start:{line:20,column:1},end:{line:22,column:12}}}))?a:"")+"\n</div>"},useData:!0}),o={};i.Array.each([],function(t){var e=i.Template.get("hermes/"+t);e&&(o[t]=e)}),i.Template.register("hermes/photo-card-overlay-icon",function(t,e){return(e=e||{}).partials=e.partials?i.merge(o,e.partials):o,n(t,e)})},"@VERSION@",{requires:["template-base","handlebars-base"]});

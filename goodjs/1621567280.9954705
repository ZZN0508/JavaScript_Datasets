(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([["Panel_6fdf796","UserLevel"],{"036016":function(e,t,a){},"10984b":function(e,t,a){"use strict";var r,n,i,o=a("8126b5"),l=a("1a22b7"),c=a.n(l),s=a("eb3e22"),m=a("7ca7dc"),u=a("e4cb7c"),p=a.n(u),f=(a("692b88"),"/shark/live/src/common/components/QRCodeToRoom/QRCodeToRoom.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var a=Object.getOwnPropertyNames(t),r=0;r<a.length;r++){var n=a[r],i=Object.getOwnPropertyDescriptor(t,n);i&&i.configurable&&void 0===e[n]&&Object.defineProperty(e,n,i)}return e}(e,t))}var d=(r=(0,m.default.Service)(s.DataCenter.global),n=function(e){function QRCodeToRoom(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,QRCodeToRoom);var a=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function _initDefineProp(e,t,a,r){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(r):void 0})}(a,"global",i,a),a.state={isShow:!0},a.closeModal=a.closeModal.bind(a),a}return _inherits(QRCodeToRoom,e),QRCodeToRoom.prototype.closeModal=function closeModal(){var e=this.props.callback;this.setState({isShow:!1},function(){"function"===typeof e&&e()})},QRCodeToRoom.prototype.render=function render(){var e=this,t=this.state.isShow,a=this.props,r=a.roomId,n=a.isVisible,i=void 0!==n&&n,l=a.title,s=void 0===l?"\u6597\u9c7cAPP\u626b\u63cf\u4e8c\u7ef4\u7801":l,m=window.location.protocol+"//"+window.location.host+"/"+r+"?nrt=1";return i&&t?c.a.createElement("div",{className:"QRCodeToRoom "+(i?"is-active ":""),__source:{fileName:f,lineNumber:49},__self:this},c.a.createElement("h3",{className:"QRCodeToRoom-guideHeader",__source:{fileName:f,lineNumber:50},__self:this},c.a.createElement("div",{className:"QRCodeToRoom-guideHeaderTitle",__source:{fileName:f,lineNumber:51},__self:this},s),c.a.createElement("div",{className:"QRCodeToRoom-closeIcon",onClick:function onClick(){e.closeModal()},__source:{fileName:f,lineNumber:52},__self:this},"\xd7")),c.a.createElement("ul",{className:"QRCodeToRoom-panel",__source:{fileName:f,lineNumber:55},__self:this},c.a.createElement("li",{className:"QRCodeToRoom-step1",__source:{fileName:f,lineNumber:56},__self:this},c.a.createElement("p",{className:"QRCodeToRoom-step1Title",__source:{fileName:f,lineNumber:57},__self:this},"1.\u70b9\u51fbAPP\u53f3\u4e0a\u65b9\u201c\u626b\u4e00\u626b\u201d"),c.a.createElement("div",{className:"QRCodeToRoom-step1ImgMask",__source:{fileName:f,lineNumber:58},__self:this}),c.a.createElement("div",{className:"QRCodeToRoom-step1Img",__source:{fileName:f,lineNumber:59},__self:this})),c.a.createElement("li",{className:"QRCodeToRoom-step2",__source:{fileName:f,lineNumber:61},__self:this},c.a.createElement("p",{className:"QRCodeToRoom-step2Title",__source:{fileName:f,lineNumber:62},__self:this},"2.\u5bf9\u51c6\u4e0b\u65b9\u4e8c\u7ef4\u7801"),c.a.createElement("div",{className:"QRCodeToRoom-step2Img",__source:{fileName:f,lineNumber:63},__self:this},c.a.createElement(o.default,{className:"ConnectMicroDownloadGuide-qrCode",value:m,size:96,logo:p.a,__source:{fileName:f,lineNumber:64},__self:this}))))):null},QRCodeToRoom}(c.a.Component),i=function _applyDecoratedDescriptor(e,t,a,r,n){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=a.slice().reverse().reduce(function(a,r){return r(e,t,a)||a},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(n.prototype,"global",[r],{enumerable:!0,initializer:null}),n);t.default=d},"391bd4":function(e,t,a){"use strict";var r,n,i,o,l,c,s,m,u,p,f,d=a("1a22b7"),_=a.n(d),b=a("eb3e22"),h=a("7ca7dc"),y=a("97a1f0"),N=a("f2b8b7"),v=a("25412a"),S=a("564e7b"),P=(a("590ebc"),"/shark/live/src/pages/roomPage/playerDialogModule/components/Accompany/OrderSaleList/OrderSaleList.js");function _initDefineProp(e,t,a,r){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var a=Object.getOwnPropertyNames(t),r=0;r<a.length;r++){var n=a[r],i=Object.getOwnPropertyDescriptor(t,n);i&&i.configurable&&void 0===e[n]&&Object.defineProperty(e,n,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,a,r,n){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=a.slice().reverse().reduce(function(a,r){return r(e,t,a)||a},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var O=h.default.Service,g=(r=Object(y.ErrorHandler)(),n=O(b.DataCenter.global),i=O(b.DataCenter.acj),o=O(v.default),l=O(S.default),r((s=function(e){function AccompanyPanel(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccompanyPanel);var a=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(a,"global",m,a),_initDefineProp(a,"acj",u,a),_initDefineProp(a,"accompanyServices",p,a),_initDefineProp(a,"publicToolsServices",f,a),a.state={selIndex:0},a.selItem=a.selItem.bind(a),a.closeOrderSalePop=a.closeOrderSalePop.bind(a),a.onOrder=a.onOrder.bind(a),a}return _inherits(AccompanyPanel,e),AccompanyPanel.prototype.componentDidMount=function componentDidMount(){this.roomId=this.global.get("$ROOM.room_id"),this.accplayUrl=this.global.get("$SYS.accplay_url"),this.accompanyServices.reqData("orederSales")},AccompanyPanel.prototype.selItem=function selItem(e){var t=this.state.selIndex;this.setState({selIndex:e===t?-1:e})},AccompanyPanel.prototype.closeOrderSalePop=function closeOrderSalePop(){this.accompanyServices.updateData({isShowOrderSalePop:!1})},AccompanyPanel.prototype.renderTrackVertical=function renderTrackVertical(e){return _.a.createElement("div",{className:"AccompanyOrderSaleScrollbarWrap--vertical "+(e||""),__source:{fileName:P,lineNumber:63},__self:this})},AccompanyPanel.prototype.renderTrackHorizontal=function renderTrackHorizontal(){return _.a.createElement("div",{style:{display:"none"},__source:{fileName:P,lineNumber:67},__self:this})},AccompanyPanel.prototype.renderThumbVertical=function renderThumbVertical(e){return _.a.createElement("div",{className:"AccompanyOrderSaleScrollbar--vertical "+(e||""),__source:{fileName:P,lineNumber:71},__self:this})},AccompanyPanel.prototype.onOrder=function onOrder(e,t,a){this.accompanyServices.dysub({action_code:"16010021X002",event_id:1,type:1,ext:{_uid:e||"",_skill_id:t||"",_sp_id:a||""}})},AccompanyPanel.prototype.renderList=function renderList(){var e=this,t=this.state.selIndex,a=this.props.orederSales,r=(void 0===a?{}:a).list||[];return r.length>0?r.map(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],n=a.goods||[],i=0,o=n.length>0,l=e.accompanyServices.getYubaUrl(a.uid,a.nn);o&&n.forEach(function(e){var t=0;e&&e.sale>0&&(t=parseInt(e.sale,10)),i+=t});var c=1===+a.seat;return _.a.createElement("div",{key:r,className:"AccompanyOrderSaleList-item "+(r===t?"is-active":""),__source:{fileName:P,lineNumber:114},__self:e},_.a.createElement("a",{className:"AccompanyOrderSaleList-avatar",target:"_blank",href:l,__source:{fileName:P,lineNumber:118},__self:e},_.a.createElement("div",{className:"AccompanyOrderSaleList-avatarP",title:a.nn,__source:{fileName:P,lineNumber:119},__self:e},_.a.createElement("img",{width:"48",height:"48",src:a.avatar?e.publicToolsServices.setAvatarUrl(a.avatar):"",__source:{fileName:P,lineNumber:120},__self:e})),+a.seat>0?_.a.createElement("p",{className:"AccompanyOrderSaleList-seatI "+(c?"is-host":""),__source:{fileName:P,lineNumber:123},__self:e},c?"\u4e3b\u6301":a.seat+"\u9ea6"):null),_.a.createElement("div",{className:"AccompanyOrderSaleList-info",__source:{fileName:P,lineNumber:129},__self:e},_.a.createElement("p",{className:"AccompanyOrderSaleList-limitText AccompanyOrderSaleList-nickname",title:a.nn||"",__source:{fileName:P,lineNumber:130},__self:e},a.nn||""),_.a.createElement("div",{className:"AccompanyOrderSaleList-orderInfo",__source:{fileName:P,lineNumber:132},__self:e},_.a.createElement("div",{className:"AccompanyOrderSaleList-orderIconList",__source:{fileName:P,lineNumber:133},__self:e},n.length?n.slice(0,3).map(function(t,a){return _.a.createElement("div",{key:a,className:"AccompanyOrderSaleList-orderIcon",title:t.name,__source:{fileName:P,lineNumber:137},__self:e},_.a.createElement("img",{width:"26",height:"26",src:t.cate_icon,__source:{fileName:P,lineNumber:138},__self:e}))}):null),_.a.createElement("p",{className:"AccompanyOrderSaleList-orderSaleNum",__source:{fileName:P,lineNumber:144},__self:e},"\u63a5\u5355\u91cf ",i))),_.a.createElement("div",{className:"AccompanyOrderSaleList-icons",__source:{fileName:P,lineNumber:148},__self:e},_.a.createElement("i",{className:"AccompanyOrderSaleList-msgIcon",onClick:function onClick(){return e.accompanyServices.sendMsg(a.uid)},__source:{fileName:P,lineNumber:149},__self:e}),_.a.createElement("i",{className:"AccompanyOrderSaleList-arrawIcon",onClick:function onClick(){return e.selItem(r)},__source:{fileName:P,lineNumber:150},__self:e})),e.renderChildren(n,a))}):_.a.createElement("div",{className:"AccompanyOrderSaleList-empty",__source:{fileName:P,lineNumber:160},__self:this},_.a.createElement("div",{className:"AccompanyOrderSaleList-vCenter",__source:{fileName:P,lineNumber:161},__self:this},_.a.createElement("p",{className:"AccompanyOrderSaleList-emptyPic",__source:{fileName:P,lineNumber:162},__self:this}),_.a.createElement("p",{className:"AccompanyOrderSaleList-emptyDesc",__source:{fileName:P,lineNumber:163},__self:this},"\u4e3b\u64ad\u8fd8\u6ca1\u6765\uff0c\u60a8\u53ef\u4e0a\u9ea6\u8054\u7cfb\u4e3b\u6301")))},AccompanyPanel.prototype.renderChildren=function renderChildren(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.props.orederSales,n=void 0===r?{}:r;return _.a.createElement("div",{className:"AccompanyOrderSaleList-itemChildren",__source:{fileName:P,lineNumber:173},__self:this},t.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];return _.a.createElement("div",{key:r,className:"AccompanyOrderSaleList-cItem",__source:{fileName:P,lineNumber:176},__self:e},_.a.createElement("div",{className:"AccompanyOrderSaleList-cAvatar",__source:{fileName:P,lineNumber:177},__self:e},_.a.createElement("div",{className:"AccompanyOrderSaleList-cAvatarP",__source:{fileName:P,lineNumber:178},__self:e},_.a.createElement("img",{width:"32",height:"32",src:t.cate_icon,__source:{fileName:P,lineNumber:179},__self:e}))),_.a.createElement("div",{className:"AccompanyOrderSaleList-info",__source:{fileName:P,lineNumber:182},__self:e},_.a.createElement("div",{className:"AccompanyOrderSaleList-salename",__source:{fileName:P,lineNumber:183},__self:e},_.a.createElement("p",{className:"AccompanyOrderSaleList-limitText AccompanyOrderSaleList-nickname",__source:{fileName:P,lineNumber:184},__self:e},t.name),t.division?_.a.createElement("p",{className:"AccompanyOrderSaleList-mask",__source:{fileName:P,lineNumber:185},__self:e},t.division):null),_.a.createElement("div",{className:"AccompanyOrderSaleList-orderInfo",__source:{fileName:P,lineNumber:188},__self:e},_.a.createElement("p",{className:"AccompanyOrderSaleList-orderScore",__source:{fileName:P,lineNumber:189},__self:e},"\u8bc4\u5206 ",t.score),_.a.createElement("p",{className:"AccompanyOrderSaleList-orderSaleNum",__source:{fileName:P,lineNumber:190},__self:e},"\u63a5\u5355 ",t.sale))),_.a.createElement("a",{className:"AccompanyOrderSaleList-onOrder",target:"_blank",href:e.accplayUrl+"/product/"+t.card_id+"?token="+n.share_token,onClick:function onClick(){return e.onOrder(a.uid,t.cate_id,t.card_id)},__source:{fileName:P,lineNumber:194},__self:e},_.a.createElement("i",{className:"AccompanyOrderSaleList-fishIcon",__source:{fileName:P,lineNumber:199},__self:e}),_.a.createElement("span",{className:"AccompanyOrderSaleList-fishNum",__source:{fileName:P,lineNumber:200},__self:e},t.price,t.price_unit?t.price_unit.replace(/\u9c7c\u7fc5/,""):"")))}))},AccompanyPanel.prototype.render=function render(){var e=this,t=this.props,a=t.orederSales,r=void 0===a?{}:a,n=t.isSmall,i=void 0!==n&&n,o=r.list||[];return _.a.createElement("div",{className:"AccompanyOrderSaleList "+(i?"is-small":""),__source:{fileName:P,lineNumber:214},__self:this},_.a.createElement("i",{className:"AccompanyOrderSaleList-close",onClick:this.closeOrderSalePop,__source:{fileName:P,lineNumber:215},__self:this}),_.a.createElement("div",{className:"AccompanyOrderSaleList-header",__source:{fileName:P,lineNumber:217},__self:this},_.a.createElement("p",{className:"AccompanyOrderSaleList-title",__source:{fileName:P,lineNumber:222},__self:this}),_.a.createElement("a",{className:"AccompanyOrderSaleList-record",target:"_blank",href:"/member/accplay/order_place",__source:{fileName:P,lineNumber:223},__self:this},_.a.createElement("i",{className:"AccompanyOrderSaleList-recordIcon",__source:{fileName:P,lineNumber:224},__self:this}),_.a.createElement("span",{className:"AccompanyOrderSaleList-headerText",__source:{fileName:P,lineNumber:225},__self:this},"\u6211\u7684\u8bb0\u5f55"))),_.a.createElement("div",{className:"AccompanyOrderSaleList-content",__source:{fileName:P,lineNumber:228},__self:this},_.a.createElement(N.Scrollbars,{ref:this.scrollbars,renderTrackVertical:function renderTrackVertical(){return e.renderTrackVertical()},renderThumbVertical:function renderThumbVertical(){return e.renderThumbVertical()},renderTrackHorizontal:function renderTrackHorizontal(){return e.renderTrackHorizontal()},hideTracksWhenNotNeeded:!0,__source:{fileName:P,lineNumber:229},__self:this},this.renderList()),o.length?_.a.createElement("div",{className:"AccompanyOrderSaleList-more",__source:{fileName:P,lineNumber:238},__self:this},"\u66f4\u591a\u5fc3\u4eea\u5bf9\u8c61\uff0c\u53ef\u4e0a\u9ea6\u8054\u7cfb\u4e3b\u6301\u547c\u53eb"):null))},AccompanyPanel}(_.a.Component),m=_applyDecoratedDescriptor(s.prototype,"global",[n],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(s.prototype,"acj",[i],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(s.prototype,"accompanyServices",[o],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(s.prototype,"publicToolsServices",[l],{enumerable:!0,initializer:null}),c=s))||c);t.default=g},"44123f":function(e,t,a){"use strict";var r=a("916371");t.default=r.default},"590ebc":function(e,t,a){},"5ae9d5":function(e,t,a){e.exports=a("5f575e")("f0932")},"5b1558":function(e,t,a){"use strict";var r,n,i,o,l,c,s,m,u,p,f,d,_,b=a("1a22b7"),h=a.n(b),y=a("eb3e22"),N=a("7ca7dc"),v=a("97a1f0"),S=a("dc2b22"),P=a("ac64b0"),O=a("434f90"),g=a("25412a"),A=a("951175"),E=a("a73de6"),w=a("f79099"),D=a("44123f"),C=a("c8b97d"),R=(a("85a7ca"),"/shark/live/src/pages/roomPage/playerDialogModule/components/Accompany/Panel/Panel.js");function _initDefineProp(e,t,a,r){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var a=Object.getOwnPropertyNames(t),r=0;r<a.length;r++){var n=a[r],i=Object.getOwnPropertyDescriptor(t,n);i&&i.configurable&&void 0===e[n]&&Object.defineProperty(e,n,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,a,r,n){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=a.slice().reverse().reduce(function(a,r){return r(e,t,a)||a},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var T=N.default.Service,k=(r=Object(v.ErrorHandler)(),n=T(y.DataCenter.global),i=T(y.DataCenter.event),o=T(y.DataCenter.acj),l=T(g.default),c=T(O.default),r((m=function(e){function AccompanyPanel(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccompanyPanel);var a=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(a,"global",u,a),_initDefineProp(a,"event",p,a),_initDefineProp(a,"acj",f,a),_initDefineProp(a,"accompanyServices",d,a),_initDefineProp(a,"chatUserCardServices",_,a),a.state={showQRCodeToRoom:!1,isSmall:!1,isSalePanelSmall:!1},a.resizePanel=a.resizePanel.bind(a),a.showUserCard=a.showUserCard.bind(a),a.clickUserBox=a.clickUserBox.bind(a),a.toggleQRCodeToRoom=a.toggleQRCodeToRoom.bind(a),a.renderTitle=a.renderTitle.bind(a),a.goHelp=a.goHelp.bind(a),a}return _inherits(AccompanyPanel,e),AccompanyPanel.prototype.componentWillMount=function componentWillMount(){var e=document.getElementById("js-player-video");e&&(this.state.isSmall=e.clientWidth<=864,this.state.isSalePanelSmall=e.clientWidth<=964)},AccompanyPanel.prototype.componentDidMount=function componentDidMount(){var e=this;this.roomId=this.global.get("$ROOM.room_id"),this.event.register(window,"resize").subscribe(function(){e.layout()}),this.acj.get(P.ROOM_TYPE.ROOM_BUS_PAGESCR).subscribe(function(t){e.layout()})},AccompanyPanel.prototype.layout=function layout(){var e=this;clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){var t=document.getElementById("js-player-video");t&&(t.clientWidth<=864?e.setState({isSmall:!0}):e.setState({isSmall:!1}),t.clientWidth<=964?e.setState({isSalePanelSmall:!0}):e.setState({isSalePanelSmall:!1}))},50)},AccompanyPanel.prototype.checkIsOpen=function checkIsOpen(){var e=this.props.panelData,t=void 0===e?{}:e,a=t.panelSwitch,r=t.isShow;return Boolean(a)&&Boolean(r)},AccompanyPanel.prototype.resizePanel=function resizePanel(e){this.accompanyServices.resizePanel(e)},AccompanyPanel.prototype.clickUserBox=function clickUserBox(e,t){(t||{}).uid>0?this.showUserCard(e,t):this.toggleQRCodeToRoom(!0)},AccompanyPanel.prototype.toggleQRCodeToRoom=function toggleQRCodeToRoom(e){this.setState({showQRCodeToRoom:Boolean(e)})},AccompanyPanel.prototype.showUserCard=function showUserCard(e,t){e.nativeEvent.stopImmediatePropagation();var a=t||{},r=a.isShowSuperIcon,n=void 0!==r&&r,i=a.groupId,o=void 0===i?0:i,l=a.uid,c=a.nn,s=a.avatar,m=a.level,u=a.nl,p=void 0===u?0:u;l&&this.chatUserCardServices.showPlayerUserCard({isVisible:!0,isShowSuperIcon:n,gid:o,rel:+l,nickName:c,avatar:s,level:m,nobleLevel:p,isSelf:1})},AccompanyPanel.prototype.goHelp=function goHelp(){this.accompanyServices.dysub({action_code:"16010021X006",event_id:1,type:1})},AccompanyPanel.prototype.renderHeader=function renderHeader(){return h.a.createElement("div",{className:"AccompanyPanelHeader",__source:{fileName:R,lineNumber:154},__self:this})},AccompanyPanel.prototype.renderTitle=function renderTitle(e){return h.a.createElement("div",{className:"AccompanyPanelTitle",__source:{fileName:R,lineNumber:170},__self:this},h.a.createElement("i",{className:"AccompanyPanelTitle-lineL",__source:{fileName:R,lineNumber:171},__self:this}),h.a.createElement("span",{className:"AccompanyPanelTitle-title",__source:{fileName:R,lineNumber:172},__self:this},e),h.a.createElement("i",{className:"AccompanyPanelTitle-lineR",__source:{fileName:R,lineNumber:173},__self:this}))},AccompanyPanel.prototype.render=function render(){var e=this,t=this.state,a=t.showQRCodeToRoom,r=void 0!==a&&a,n=t.isSmall,i=void 0!==n&&n,o=t.isSalePanelSmall,l=void 0!==o&&o,c=this.props.panelData,s=void 0===c?{}:c,m=s.vedioShowStatus,u=void 0===m?0:m,p=s.isMini,f=void 0!==p&&p,d=s.isShowPendant,_=void 0!==d&&d,b=s.isShowOrderInfoPop,y=void 0!==b&&b,N=s.isShowOrderSalePop,v=void 0!==N&&N,P=s.miniReqSeatShow,O=void 0!==P&&P,g=s.seatData,T=s.userType,k=s.bossReqSeats,j=s.userReqSeats,I=s.hostReqSeats,z=s.orederSales;return 1!==parseInt(u,10)?null:h.a.createElement("div",{className:"AccompanyPanel-app",__source:{fileName:R,lineNumber:201},__self:this},h.a.createElement("div",{className:"AccompanyPanel "+(f?"":"is-show")+" "+(i?"is-small":""),__source:{fileName:R,lineNumber:202},__self:this},h.a.createElement("i",{className:"AccompanyPanel-logo",__source:{fileName:R,lineNumber:203},__self:this}),h.a.createElement("i",{className:"AccompanyPanel-toggle",onClick:function onClick(){return e.resizePanel(!0)},__source:{fileName:R,lineNumber:204},__self:this}),this.renderHeader(),h.a.createElement("div",{className:"AccompanyPanel-content",__source:{fileName:R,lineNumber:208},__self:this},h.a.createElement(w.default,{clickUserBox:this.clickUserBox,renderTitle:this.renderTitle,isSmall:i,panelData:s,isShowOrderInfoPop:y,__source:{fileName:R,lineNumber:209},__self:this}),h.a.createElement(D.default,{showUserCard:this.showUserCard,clickUserBox:this.clickUserBox,renderTitle:this.renderTitle,isSmall:i,miniReqSeatShow:O,seatData:g,userType:T,bossReqSeats:k,userReqSeats:j,hostReqSeats:I,toggleQRCodeToRoom:this.toggleQRCodeToRoom,__source:{fileName:R,lineNumber:217},__self:this})),r?h.a.createElement(S.default,{isVisible:r,roomId:this.roomId,title:"\u6597\u9c7cAPP\u626b\u63cf\u4e8c\u7ef4\u7801\uff0c\u8fdb\u623f\u4e0a\u9ea6\u5f00\u9ed1",callback:this.toggleQRCodeToRoom,__source:{fileName:R,lineNumber:234},__self:this}):null),h.a.createElement(C.default,{resizePanel:this.resizePanel,isMini:f,__source:{fileName:R,lineNumber:244},__self:this}),v?h.a.createElement(E.default,{isSmall:l,orederSales:z,__source:{fileName:R,lineNumber:246},__self:this}):null,_?h.a.createElement(A.default,{seatData:g,isShowPendant:_,__source:{fileName:R,lineNumber:248},__self:this}):null)},AccompanyPanel}(h.a.Component),u=_applyDecoratedDescriptor(m.prototype,"global",[n],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(m.prototype,"event",[i],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(m.prototype,"acj",[o],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(m.prototype,"accompanyServices",[l],{enumerable:!0,initializer:null}),_=_applyDecoratedDescriptor(m.prototype,"chatUserCardServices",[c],{enumerable:!0,initializer:null}),s=m))||s);t.default=k},"5f7879":function(e,t,a){"use strict";var r,n,i,o,l,c,s,m,u,p,f,d=a("1a22b7"),_=a.n(d),b=a("eb3e22"),h=a("7ca7dc"),y=a("97a1f0"),N=a("66cc3c"),v=a("ac64b0"),S=a("434f90"),P=a("25412a"),O=a("e94516"),g=(a("eb1782"),"/shark/live/src/pages/roomPage/playerDialogModule/components/Accompany/OnSeatList/OnSeatList.js");function _initDefineProp(e,t,a,r){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var a=Object.getOwnPropertyNames(t),r=0;r<a.length;r++){var n=a[r],i=Object.getOwnPropertyDescriptor(t,n);i&&i.configurable&&void 0===e[n]&&Object.defineProperty(e,n,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,a,r,n){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=a.slice().reverse().reduce(function(a,r){return r(e,t,a)||a},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var A=h.default.Service,E=Object(y.importComponent)("live.playerAsideModule.NobleIcon"),w=a("ecf950"),D=a("af26cc"),C=a("d6e565"),R=(r=Object(y.ErrorHandler)(),n=A(b.DataCenter.global),i=A(b.DataCenter.acj),o=A(P.default),l=A(S.default),r((s=function(e){function AccompanyPanel(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccompanyPanel);var a=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(a,"global",m,a),_initDefineProp(a,"acj",u,a),_initDefineProp(a,"accompanyServices",p,a),_initDefineProp(a,"chatUserCardServices",f,a),a.state={voiceWaveInfoList:[],isSending:!1,sendOrderSecond:0},a.showOrderInfo=a.showOrderInfo.bind(a),a.timer=null,a}return _inherits(AccompanyPanel,e),AccompanyPanel.prototype.componentWillMount=function componentWillMount(){var e=this.props.panelData,t=(void 0===e?{}:e).seatData,a=(void 0===t?{}:t).order_info,r=(void 0===a?{}:a).locTime;(void 0===r?0:r)>0&&(this.state.sendOrderSecond=this.getSendOrderSecond())},AccompanyPanel.prototype.componentDidMount=function componentDidMount(){var e=this;this.roomId=this.global.get("$ROOM.room_id"),this.sub=this.acj.get(v.ROOM_TYPE.ROOM_WEB_ACC_DATA).subscribe(function(t){var a=t.type,r=t.data;16===+a&&e.setState({voiceWaveInfoList:r||[]})})},AccompanyPanel.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.timer),this.sub&&this.sub.unsubscribe&&this.sub.unsubscribe()},AccompanyPanel.prototype.timerCheck=function timerCheck(){var e=this.props.panelData,t=(void 0===e?{}:e).seatData,a=(void 0===t?{}:t).order_info,r=(void 0===a?{}:a).locTime;if((void 0===r?0:r)>0){var n=this.getSendOrderSecond();this.setState({sendOrderSecond:n,isSending:!0}),this.timerCount()}else this.setState({sendOrderSecond:0,isSending:!1}),this.showOrderInfo(!1),clearTimeout(this.timer)},AccompanyPanel.prototype.showOrderInfo=function showOrderInfo(e){this.accompanyServices.updateData({isShowOrderInfoPop:Boolean(e)}),e&&this.accompanyServices.dysub({action_code:"16010021X005",event_id:1,type:1})},AccompanyPanel.prototype.getSendOrderSecond=function getSendOrderSecond(){var e=this.props.panelData,t=(void 0===e?{}:e).seatData,a=(void 0===t?{}:t).order_info,r=(void 0===a?{}:a).locTime,n=void 0===r?0:r,i=(new Date).getTime();return parseInt((+i-1e3*n)/1e3,10)},AccompanyPanel.prototype.addZero=function addZero(e){return e<10?"0"+e:e},AccompanyPanel.prototype.formatTime=function formatTime(e){if(e>0){if(e>=3599)return"59:59";var t=parseInt(e/60,10),a=parseInt(e%60,10);return(t>=59?59:this.addZero(t))+":"+(a>=59?59:this.addZero(a))}return"00:00"},AccompanyPanel.prototype.timerCount=function timerCount(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.timerCheck()},1e3)},AccompanyPanel.prototype.renderUserList=function renderUserList(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=this.state.voiceWaveInfoList,r=void 0===a?[]:a,n=this.props,i=n.clickUserBox,o=n.panelData,l=(void 0===o?{}:o).seatData,c=(void 0===l?{}:l).guestList,s=void 0===c?{}:c;return t.map(function(t,a){var n=s[t]||{},o=n.uid>0,l=1===parseInt(n.seq_type,10),c=l?C:D,m=0===+n.is_c&&0===+n.is_anchor_c?0:1,u=n.seatSrc&&n.seatSrc.resource?n.seatSrc.resource:"",p=+n.nl>0;return _.a.createElement("div",{key:a,className:"AccompanyOnSeatWrap-userItem "+(l?"is-boss":"is-normal")+" "+(o?"":"is-empty"),__source:{fileName:g,lineNumber:169},__self:e},_.a.createElement("div",{className:"AccompanyOnSeatWrap-userBox",onClick:function onClick(e){i(e,n),e.nativeEvent.stopImmediatePropagation()},__source:{fileName:g,lineNumber:173},__self:e},_.a.createElement("div",{className:"AccompanyOnSeatWrap-userPic "+(u?"is-setPic":""),__source:{fileName:g,lineNumber:179},__self:e},u?_.a.createElement("div",{className:"AccompanyOnSeatWrap-setSource",style:{backgroundImage:"url("+u+")"},__source:{fileName:g,lineNumber:182},__self:e}):null,p?_.a.createElement("div",{className:"AccompanyOnSeatWrap-nobleIcon",__source:{fileName:g,lineNumber:189},__self:e},_.a.createElement(E,{level:+n.nl,__source:{fileName:g,lineNumber:189},__self:e})):null,p?null:_.a.createElement("i",{className:"AccompanyOnSeatWrap-seatI",__source:{fileName:g,lineNumber:191},__self:e},n.seat),_.a.createElement("img",{className:"AccompanyOnSeatWrap-userImg",src:o?n.avatar:c,alt:"",__source:{fileName:g,lineNumber:192},__self:e}),_.a.createElement(N.default,{uid:n.uid,mute:m,voiceList:r,__source:{fileName:g,lineNumber:195},__self:e})),_.a.createElement("p",{className:"AccompanyOnSeatWrap-userName",__source:{fileName:g,lineNumber:197},__self:e},!o||1!==+n.is_c&&1!==+n.is_anchor_c?null:_.a.createElement("span",{className:"AccompanyOnSeatWrap-mai",__source:{fileName:g,lineNumber:198},__self:e}),_.a.createElement("span",{className:"AccompanyPanel-limitText is-w88",title:n.nn||"--",__source:{fileName:g,lineNumber:199},__self:e},n.nn||"--"))))})},AccompanyPanel.prototype.renderHeader=function renderHeader(){return _.a.createElement("div",{className:"AccompanyPanelHeader",__source:{fileName:g,lineNumber:210},__self:this},_.a.createElement("div",{className:"AccompanyPanelHeader-nav",__source:{fileName:g,lineNumber:211},__self:this},_.a.createElement("i",{className:"AccompanyPanelHeader-helpIcon",__source:{fileName:g,lineNumber:212},__self:this}),_.a.createElement("span",{className:"AccompanyPanelHeader-navText",__source:{fileName:g,lineNumber:213},__self:this},"\u73a9\u6cd5\u8bf4\u660e")))},AccompanyPanel.prototype.renderOrderState=function renderOrderState(){var e=this,t=this.props,a=t.isShowOrderInfoPop,r=t.panelData,n=(void 0===r?{}:r).seatData,i=void 0===n?{}:n,o=i.order_info,l=(void 0===o?{}:o).locTime,c=void 0===l?0:l,s=this.state,m=s.sendOrderSecond,u=s.isSending,p=c>0;return p&&!(void 0!==u&&u)&&this.timerCount(),a&&!p&&this.showOrderInfo(!1),_.a.createElement("div",{className:"AccompanyPanelOrderState "+(p?"is-sending":""),__source:{fileName:g,lineNumber:238},__self:this},_.a.createElement("div",{className:"AccompanyPanelOrderState-state",onClick:function onClick(){return e.showOrderInfo(!0)},__source:{fileName:g,lineNumber:239},__self:this},_.a.createElement("i",{className:"AccompanyPanelOrderState-icon",__source:{fileName:g,lineNumber:240},__self:this}),_.a.createElement("span",{className:"AccompanyPanelOrderState-text",__source:{fileName:g,lineNumber:241},__self:this},p?"\u8bf7\u7a0d\u540e":"\u7b49\u5f85\u533a"),p?_.a.createElement("span",{className:"AccompanyPanelOrderState-text is-main",__source:{fileName:g,lineNumber:242},__self:this},this.formatTime(m)):null),p&&a?_.a.createElement(O.default,{seatData:i,showOrderInfo:this.showOrderInfo,__source:{fileName:g,lineNumber:246},__self:this}):null)},AccompanyPanel.prototype.renderHostSeat=function renderHostSeat(){var e=this.state.voiceWaveInfoList,t=void 0===e?[]:e,a=this.props,r=a.panelData,n=void 0===r?{}:r,i=a.clickUserBox,o=n.seatData,l=(void 0===o?{}:o).emceeInfo,c=void 0===l?{}:l,s=0===+c.is_c&&0===+c.is_anchor_c?0:1,m=c.seatSrc&&c.seatSrc.resource?c.seatSrc.resource:"";return _.a.createElement("div",{className:"AccompanyOnSeatWrap-hostSeat",__source:{fileName:g,lineNumber:261},__self:this},this.renderOrderState(),_.a.createElement("div",{className:"AccompanyOnSeatWrap-anchorBox",onClick:function onClick(e){i(e,c),e.nativeEvent.stopImmediatePropagation()},__source:{fileName:g,lineNumber:265},__self:this},_.a.createElement("div",{className:"AccompanyOnSeatWrap-anchorPic "+(m?"is-setPic":""),__source:{fileName:g,lineNumber:271},__self:this},m?_.a.createElement("div",{className:"AccompanyOnSeatWrap-setSource",style:{backgroundImage:"url("+m+")"},__source:{fileName:g,lineNumber:274},__self:this}):null,_.a.createElement("div",{className:"AccompanyOnSeatWrap-hostIcon",__source:{fileName:g,lineNumber:281},__self:this},"\u4e3b\u6301"),_.a.createElement("div",{className:"AccompanyOnSeatWrap-picBox",__source:{fileName:g,lineNumber:282},__self:this},_.a.createElement("img",{width:60,height:60,alt:"",src:c.avatar||w,__source:{fileName:g,lineNumber:283},__self:this})),_.a.createElement(N.default,{uid:c.uid,mute:s,voiceList:t,__source:{fileName:g,lineNumber:285},__self:this})),_.a.createElement("p",{className:"AccompanyOnSeatWrap-userName",__source:{fileName:g,lineNumber:287},__self:this},1===+c.is_c||1===+c.is_anchor_c?_.a.createElement("span",{className:"AccompanyOnSeatWrap-mai",__source:{fileName:g,lineNumber:288},__self:this}):null,_.a.createElement("span",{className:"AccompanyPanel-limitText is-w88",title:c.nn||"\u4e3b\u6301\u4f4d",__source:{fileName:g,lineNumber:290},__self:this},c.nn||"\u4e3b\u6301\u4f4d"))))},AccompanyPanel.prototype.render=function render(){var e=this.props,t=e.renderTitle,a=e.isSmall;return _.a.createElement("div",{className:"AccompanyOnSeatWrap",__source:{fileName:g,lineNumber:302},__self:this},a?null:t("\u9ea6\u4f4d"),this.renderHostSeat(),_.a.createElement("div",{className:"AccompanyOnSeatWrap-setList",__source:{fileName:g,lineNumber:307},__self:this},_.a.createElement("div",{className:"AccompanyOnSeatWrap-left is-left",__source:{fileName:g,lineNumber:308},__self:this},this.renderUserList([1,2,3,4])),_.a.createElement("div",{className:"AccompanyOnSeatWrap-right is-right",__source:{fileName:g,lineNumber:312},__self:this},this.renderUserList([5,6,7,8]))))},AccompanyPanel}(_.a.Component),m=_applyDecoratedDescriptor(s.prototype,"global",[n],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(s.prototype,"acj",[i],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(s.prototype,"accompanyServices",[o],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(s.prototype,"chatUserCardServices",[l],{enumerable:!0,initializer:null}),c=s))||c);t.default=R},"60bb49":function(e,t,a){"use strict";var r,n,i,o,l,c,s,m,u,p=a("1a22b7"),f=a.n(p),d=a("3b6ec9"),_=a.n(d),b=a("503124"),h=a.n(b),y=a("eb3e22"),N=a("7ca7dc"),v=a("97a1f0"),S=a("25412a"),P=(a("036016"),"/shark/live/src/pages/roomPage/playerDialogModule/components/Accompany/OrderPendant/OrderPendant.js");function _initDefineProp(e,t,a,r){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var a=Object.getOwnPropertyNames(t),r=0;r<a.length;r++){var n=a[r],i=Object.getOwnPropertyDescriptor(t,n);i&&i.configurable&&void 0===e[n]&&Object.defineProperty(e,n,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,a,r,n){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=a.slice().reverse().reduce(function(a,r){return r(e,t,a)||a},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var O=N.default.Service,g=(r=Object(v.ErrorHandler)(),n=O(y.DataCenter.global),i=O(y.DataCenter.acj),o=O(S.default),r((c=function(e){function AccompanyPanel(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccompanyPanel);var a=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(a,"global",s,a),_initDefineProp(a,"acj",m,a),_initDefineProp(a,"accompanyServices",u,a),a.node=document.createElement("div"),a.node.className="AccompanyOrderPendantContainer",a.node.id="AccompanyOrderPendantContainer",a.close=a.close.bind(a),a.showOrderSalePop=a.showOrderSalePop.bind(a),a}return _inherits(AccompanyPanel,e),AccompanyPanel.prototype.componentDidMount=function componentDidMount(){this.roomId=this.global.get("$ROOM.room_id"),this.appendContainerDom()},AccompanyPanel.prototype.componentWillUnmount=function componentWillUnmount(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},AccompanyPanel.prototype.close=function close(){this.accompanyServices.updateData({isShowPendant:!1})},AccompanyPanel.prototype.appendContainerDom=function appendContainerDom(){var e=document.querySelector("#js-player-video-above");e&&e.appendChild(this.node)},AccompanyPanel.prototype.showOrderSalePop=function showOrderSalePop(){this.accompanyServices.updateData({isShowOrderSalePop:!0}),this.accompanyServices.dysub({action_code:"16010021X001",event_id:1,type:1})},AccompanyPanel.prototype.getOrderNum=function getOrderNum(){var e=this.props.seatData,t=void 0===e?{}:e,a=t.guest_list,r=void 0===a?[]:a,n=t.s2_num,i=t.emcee_info,o=void 0===i?{}:i,l=r.filter(function(e){return 2===parseInt(e.seq_type,10)}).length,c=1===+o.pendant_show?1:0,s=l+(+n||0)+c;return s>99?"99+":s||0},AccompanyPanel.prototype.render=function render(){var e=this.props.isShowPendant;if(!(void 0!==e&&e))return null;var t=this.getOrderNum();return _.a.createPortal(f.a.createElement(h.a,{bounds:"#js-player-video-above",handle:".AccompanyOrderPendant",allowAnyClick:!1,__source:{fileName:P,lineNumber:98},__self:this},f.a.createElement("div",{className:"AccompanyOrderPendant",__source:{fileName:P,lineNumber:103},__self:this},f.a.createElement("i",{className:"AccompanyOrderPendant-close",onClick:this.close,__source:{fileName:P,lineNumber:104},__self:this}),f.a.createElement("div",{className:"AccompanyOrderPendant-pendant",__source:{fileName:P,lineNumber:105},__self:this},f.a.createElement("div",{className:"AccompanyOrderPendant-content",__source:{fileName:P,lineNumber:106},__self:this},f.a.createElement("span",{__source:{fileName:P,lineNumber:107},__self:this},t,"\u4eba")),f.a.createElement("p",{className:"AccompanyOrderPendant-goOrder",onClick:this.showOrderSalePop,__source:{fileName:P,lineNumber:109},__self:this})))),this.node)},AccompanyPanel}(f.a.Component),s=_applyDecoratedDescriptor(c.prototype,"global",[n],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(c.prototype,"acj",[i],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"accompanyServices",[o],{enumerable:!0,initializer:null}),l=c))||l);t.default=g},"692b88":function(e,t,a){},"85a7ca":function(e,t,a){},916371:function(e,t,a){"use strict";var r,n,i,o,l,c,s,m,u,p,f,d,_,b=a("1a22b7"),h=a.n(b),y=a("eb3e22"),N=a("7ca7dc"),v=a("97a1f0"),S=a("5ae9d5"),P=a("f2b8b7"),O=a("434f90"),g=a("25412a"),A=a("564e7b"),E=(a("cba29e"),"/shark/live/src/pages/roomPage/playerDialogModule/components/Accompany/ReqSeatList/ReqSeatList.js");function _initDefineProp(e,t,a,r){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(r):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var a=Object.getOwnPropertyNames(t),r=0;r<a.length;r++){var n=a[r],i=Object.getOwnPropertyDescriptor(t,n);i&&i.configurable&&void 0===e[n]&&Object.defineProperty(e,n,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,a,r,n){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=a.slice().reverse().reduce(function(a,r){return r(e,t,a)||a},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var w=N.default.Service,D=Object(v.importComponent)("live.playerAsideModule.NobleIcon"),C=(r=Object(v.ErrorHandler)(),n=w(y.DataCenter.global),i=w(y.DataCenter.acj),o=w(g.default),l=w(O.default),c=w(A.default),r((m=function(e){function AccompanyPanel(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccompanyPanel);var a=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(a,"global",u,a),_initDefineProp(a,"acj",p,a),_initDefineProp(a,"accompanyServices",f,a),_initDefineProp(a,"chatUserCardServices",d,a),_initDefineProp(a,"publicToolsServices",_,a),a.showCard=a.showCard.bind(a),a.toggleReqSeatShow=a.toggleReqSeatShow.bind(a),a.state={tabIndex:0},a}return _inherits(AccompanyPanel,e),AccompanyPanel.prototype.componentWillMount=function componentWillMount(){var e=this.props.userType;switch(this.accompanyServices.isAnchor()?0:e){case 0:this.state.tabIndex=0;break;case 1:this.state.tabIndex=1;break;case 2:case 3:this.state.tabIndex=2;break;default:this.state.tabIndex=0}},AccompanyPanel.prototype.componentDidMount=function componentDidMount(){this.roomId=this.global.get("$ROOM.room_id");var e=this.state.tabIndex,t=this.getTabList().tabFlag,a=void 0===t?[]:t;this.accompanyServices.reqData(a[e])},AccompanyPanel.prototype.componentWillReceiveProps=function componentWillReceiveProps(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).seatData,t=void 0===e?{}:e,a=this.props.seatData,r=void 0===a?{}:a,n=this.state.tabIndex,i=this.getTabList().tabFlag,o=void 0===i?[]:i;this.getReqNum(o[n],r)!==this.getReqNum(o[n],t)&&this.accompanyServices.reqData(o[n])},AccompanyPanel.prototype.toggleReqSeatShow=function toggleReqSeatShow(e){this.accompanyServices.updateData({miniReqSeatShow:e})},AccompanyPanel.prototype.switchTab=function switchTab(e){if(e!==this.state.tabIndex){var t=this.getTabList().tabFlag,a=void 0===t?[]:t;this.setState({tabIndex:e}),this.accompanyServices.reqData(a[e])}},AccompanyPanel.prototype.renderTrackVertical=function renderTrackVertical(e){return h.a.createElement("div",{className:"AccompanyReqScrollbarWrap--vertical "+(e||""),__source:{fileName:E,lineNumber:111},__self:this})},AccompanyPanel.prototype.renderTrackHorizontal=function renderTrackHorizontal(){return h.a.createElement("div",{style:{display:"none"},__source:{fileName:E,lineNumber:115},__self:this})},AccompanyPanel.prototype.renderThumbVertical=function renderThumbVertical(e){return h.a.createElement("div",{className:"AccompanyReqScrollbar--vertical "+(e||""),__source:{fileName:E,lineNumber:119},__self:this})},AccompanyPanel.prototype.getTabList=function getTabList(){var e=this.props,t=e.userType,a=e.bossReqSeats,r=void 0===a?{}:a,n=e.userReqSeats,i=void 0===n?{}:n,o=e.hostReqSeats,l=void 0===o?{}:o;switch(this.accompanyServices.isAnchor()?0:t){case 0:return{tabList:["\u8001\u677f"],tabFlag:["bossReqSeats"],dataList:[r]};case 1:return{tabList:["\u8001\u677f","\u4e3b\u64ad"],tabFlag:["bossReqSeats","userReqSeats"],dataList:[r,i]};case 2:case 3:return{tabList:["\u8001\u677f","\u4e3b\u64ad","\u4e3b\u6301"],tabFlag:["bossReqSeats","userReqSeats","hostReqSeats"],dataList:[r,i,l]};default:return{tabList:["\u8001\u677f"],tabFlag:["bossReqSeats"],dataList:[r]}}},AccompanyPanel.prototype.getReqNum=function getReqNum(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.s1_num,r=t.s2_num,n=t.s3_num;switch(e){case"bossReqSeats":return a||0;case"userReqSeats":return r||0;case"hostReqSeats":return n||0;default:return 0}},AccompanyPanel.prototype.renderTab=function renderTab(){var e=this,t=this.state.tabIndex,a=void 0===t?0:t,r=this.getTabList(),n=r.tabList,i=void 0===n?[]:n,o=r.dataList,l=void 0===o?[]:o;return h.a.createElement("div",{className:"AccompanyReqSeatWrap-tabBox "+(i.length>1?"is-more":""),__source:{fileName:E,lineNumber:178},__self:this},i.map(function(t,r){var n=l[r]||{};return h.a.createElement("div",{key:r,className:"AccompanyReqSeatWrap-tabItem "+(a===r?"is-active":""),onClick:function onClick(){return e.switchTab(r)},__source:{fileName:E,lineNumber:184},__self:e},h.a.createElement("span",{__source:{fileName:E,lineNumber:189},__self:e},t,"("+(+n.s_num||"0")+")"))}))},AccompanyPanel.prototype.showCard=function showCard(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,this.props.showUserCard)(e,{uid:t.uid,avatar:this.publicToolsServices.setAvatarUrl(t.avatar),nn:t.nn,level:t.level,nl:t.nl})},AccompanyPanel.prototype.renderList=function renderList(){var e=this,t=this.state.tabIndex,a=void 0===t?0:t,r=this.getTabList(),n=r.tabList,i=void 0===n?[]:n,o=r.dataList,l=((void 0===o?[]:o)[a]||{}).list||[];return h.a.createElement("div",{className:"AccompanyReqSeatWrap-list",__source:{fileName:E,lineNumber:217},__self:this},h.a.createElement(P.Scrollbars,{ref:this.scrollbars,renderTrackVertical:function renderTrackVertical(){return e.renderTrackVertical()},renderThumbVertical:function renderThumbVertical(){return e.renderThumbVertical()},renderTrackHorizontal:function renderTrackHorizontal(){return e.renderTrackHorizontal()},hideTracksWhenNotNeeded:!0,__source:{fileName:E,lineNumber:218},__self:this},l.length>0?l.slice(0,20).map(function(t,a){return h.a.createElement("div",{key:a,className:"AccompanyReqSeatWrap-listItem",__source:{fileName:E,lineNumber:228},__self:e},h.a.createElement("p",{className:"AccompanyReqSeatWrap-avatar",onClick:function onClick(a){return e.showCard(a,t)},__source:{fileName:E,lineNumber:229},__self:e},h.a.createElement("img",{width:"28",height:"28",src:t.avatar?e.publicToolsServices.setAvatarUrl(t.avatar):"",__source:{fileName:E,lineNumber:233},__self:e})),h.a.createElement("p",{className:"AccompanyReqSeatWrap-nickname AccompanyReqSeatWrap-maxNum",title:t.nn,onClick:function onClick(a){return e.showCard(a,t)},__source:{fileName:E,lineNumber:235},__self:e},t.nn),h.a.createElement("div",{className:"AccompanyReqSeatWrap-mask",__source:{fileName:E,lineNumber:239},__self:e},+t.nl>0?h.a.createElement("p",{className:"AccompanyReqSeatWrap-nobleIcon",__source:{fileName:E,lineNumber:240},__self:e},h.a.createElement(D,{level:+t.nl,__source:{fileName:E,lineNumber:240},__self:e})):null,+t.level>0?h.a.createElement("p",{className:"AccompanyReqSeatWrap-userIcon",__source:{fileName:E,lineNumber:241},__self:e},h.a.createElement(S.default,{userLevel:+t.level,__source:{fileName:E,lineNumber:241},__self:e})):null))}):h.a.createElement("div",{className:"AccompanyReqSeatWrap-empty",__source:{fileName:E,lineNumber:247},__self:this},h.a.createElement("i",{className:"AccompanyReqSeatWrap-emptyPic",__source:{fileName:E,lineNumber:248},__self:this}),h.a.createElement("p",{className:"AccompanyReqSeatWrap-emptyDesc",__source:{fileName:E,lineNumber:249},__self:this},i[a]||"","\u8fd8\u6ca1\u6765~"))))},AccompanyPanel.prototype.renderFooter=function renderFooter(){var e=this.props.toggleQRCodeToRoom;return h.a.createElement("div",{className:"AccompanyReqSeatWrap-footer",onClick:function onClick(){return e(!0)},__source:{fileName:E,lineNumber:262},__self:this},"web\u7aef\u6682\u4e0d\u652f\u6301\u8001\u677f\u4e0a\u9ea6 >")},AccompanyPanel.prototype.render=function render(){var e=this,t=this.state.tabIndex,a=void 0===t?0:t,r=this.props,n=r.renderTitle,i=r.isSmall,o=r.miniReqSeatShow,l=this.getTabList().tabFlag,c="",s="bossReqSeats"===(void 0===l?[]:l)[a];return i&&(c=o?"is-open":"is-close"),h.a.createElement("div",{className:"AccompanyReqSeatWrap "+c+" "+(s?"is-boss":""),__source:{fileName:E,lineNumber:281},__self:this},i?null:n("\u4e0a\u9ea6\u7533\u8bf7"),h.a.createElement("div",{className:"AccompanyReqSeatWrap-seatList",__source:{fileName:E,lineNumber:284},__self:this},this.renderTab(),this.renderList(),s?this.renderFooter():null),h.a.createElement("p",{className:"AccompanyReqSeatWrap-close",onClick:function onClick(){return e.toggleReqSeatShow(!o)},__source:{fileName:E,lineNumber:290},__self:this},h.a.createElement("i",{className:"AccompanyReqSeatWrap-closeIcon",__source:{fileName:E,lineNumber:291},__self:this})))},AccompanyPanel}(h.a.Component),u=_applyDecoratedDescriptor(m.prototype,"global",[n],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(m.prototype,"acj",[i],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(m.prototype,"accompanyServices",[o],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(m.prototype,"chatUserCardServices",[l],{enumerable:!0,initializer:null}),_=_applyDecoratedDescriptor(m.prototype,"publicToolsServices",[c],{enumerable:!0,initializer:null}),s=m))||s);t.default=C},"91ec94":function(e,t,a){"use strict";var r,n,i,o,l,c,s,m,u,p=a("1a22b7"),f=a.n(p),d=a("eb3e22"),_=a("7ca7dc"),b=a("97a1f0"),h=a("25412a"),y=(a("d0bdce"),"/shark/live/src/pages/roomPage/playerDialogModule/components/Accompany/OrderInfoPop/OrderInfoPop.js");function _initDefineProp(e,t,a,r){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(r):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var a=Object.getOwnPropertyNames(t),r=0;r<a.length;r++){var n=a[r],i=Object.getOwnPropertyDescriptor(t,n);i&&i.configurable&&void 0===e[n]&&Object.defineProperty(e,n,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,a,r,n){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=a.slice().reverse().reduce(function(a,r){return r(e,t,a)||a},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var N=_.default.Service,v=(r=Object(b.ErrorHandler)(),n=N(d.DataCenter.global),i=N(d.DataCenter.acj),o=N(h.default),r((c=function(e){function AccompanyPanel(){var t,a;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccompanyPanel);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=a=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(a,"global",s,a),_initDefineProp(a,"acj",m,a),_initDefineProp(a,"accompanyServices",u,a),_possibleConstructorReturn(a,t)}return _inherits(AccompanyPanel,e),AccompanyPanel.prototype.componentDidMount=function componentDidMount(){this.roomId=this.global.get("$ROOM.room_id")},AccompanyPanel.prototype.limMax=function limMax(e){return e>9999?"9999+":e},AccompanyPanel.prototype.returnPrice=function returnPrice(){var e=this.props.seatData,t=(void 0===e?{}:e).order_info,a=void 0===t?{}:t,r=a.min_price,n=a.max_price,i=parseInt(r/10,10)/10||0,o=parseInt(n/10,10)/10||0;return i<=0&&o<=0||i<=1&&o>=99999?"\u4e0d\u9650":i===o?this.limMax(i)+" \u9c7c\u7fc5":i>1&&(o<=0||o>=99999)?this.limMax(i)+"\u9c7c\u7fc5\u53ca\u4ee5\u4e0a":i<=1&&o>0&&o<99999?this.limMax(o)+"\u9c7c\u7fc5\u53ca\u4ee5\u4e0b":this.limMax(i)+"~"+this.limMax(o)+" \u9c7c\u7fc5"},AccompanyPanel.prototype.returnSex=function returnSex(e){return{0:"\u5168\u90e8",1:"\u5973\u751f",2:"\u7537\u751f"}[e]||"\u5168\u90e8"},AccompanyPanel.prototype.render=function render(){var e=this.props,t=e.showOrderInfo,a=e.seatData,r=(void 0===a?{}:a).order_info,n=void 0===r?{}:r;return f.a.createElement("div",{className:"AccompanyOrderInfoPop",__source:{fileName:y,lineNumber:81},__self:this},f.a.createElement("div",{className:"AccompanyOrderInfoPop-header",__source:{fileName:y,lineNumber:82},__self:this},f.a.createElement("span",{__source:{fileName:y,lineNumber:83},__self:this},"\u5f53\u524d\u5f00\u9ed1"),f.a.createElement("i",{className:"AccompanyOrderInfoPop-close",onClick:function onClick(){return t(!1)},__source:{fileName:y,lineNumber:84},__self:this})),f.a.createElement("div",{className:"AccompanyOrderInfoPop-content",__source:{fileName:y,lineNumber:86},__self:this},f.a.createElement("p",{className:"AccompanyOrderInfoPop-item",__source:{fileName:y,lineNumber:87},__self:this},f.a.createElement("span",{__source:{fileName:y,lineNumber:88},__self:this},"\u54c1\u7c7b"),f.a.createElement("span",{className:"AccompanyOrderInfoPop-slideR is-limit8",__source:{fileName:y,lineNumber:89},__self:this},n.cate||"")),f.a.createElement("p",{className:"AccompanyOrderInfoPop-item",__source:{fileName:y,lineNumber:91},__self:this},f.a.createElement("span",{__source:{fileName:y,lineNumber:92},__self:this},"\u6027\u522b"),f.a.createElement("span",{className:"AccompanyOrderInfoPop-slideR",__source:{fileName:y,lineNumber:93},__self:this},this.returnSex(n.sex))),f.a.createElement("p",{className:"AccompanyOrderInfoPop-item",__source:{fileName:y,lineNumber:95},__self:this},f.a.createElement("span",{__source:{fileName:y,lineNumber:96},__self:this},"\u4ef7\u683c"),f.a.createElement("span",{className:"AccompanyOrderInfoPop-slideR",__source:{fileName:y,lineNumber:97},__self:this},this.returnPrice())),f.a.createElement("p",{className:"AccompanyOrderInfoPop-item",__source:{fileName:y,lineNumber:99},__self:this},f.a.createElement("span",{__source:{fileName:y,lineNumber:100},__self:this},"\u5907\u6ce8"),f.a.createElement("span",{className:"AccompanyOrderInfoPop-slideR",title:n.remark||"",__source:{fileName:y,lineNumber:101},__self:this},n.remark||"\u65e0"))))},AccompanyPanel}(f.a.Component),s=_applyDecoratedDescriptor(c.prototype,"global",[n],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(c.prototype,"acj",[i],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"accompanyServices",[o],{enumerable:!0,initializer:null}),l=c))||l);t.default=v},951175:function(e,t,a){"use strict";var r=a("60bb49");t.default=r.default},a73de6:function(e,t,a){"use strict";var r=a("391bd4");t.default=r.default},af26cc:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/user_seat_icon_20b71fd.png"},b2d8f7:function(e,t,a){"use strict";a.r(t);var r=a("5b1558");t.default=r.default},c8b97d:function(e,t,a){"use strict";var r=a("1a22b7"),n=a.n(r),i=a("503124"),o=a.n(i),l="/shark/live/src/pages/roomPage/playerDialogModule/components/Accompany/Panel/MiniEnter.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var a=Object.getOwnPropertyNames(t),r=0;r<a.length;r++){var n=a[r],i=Object.getOwnPropertyDescriptor(t,n);i&&i.configurable&&void 0===e[n]&&Object.defineProperty(e,n,i)}return e}(e,t))}var c=function(e){function MiniEnter(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MiniEnter),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(MiniEnter,e),MiniEnter.prototype.render=function render(){var e=this.props,t=e.resizePanel,a=e.isMini;return n.a.createElement(o.a,{bounds:"#js-player-dialog",handle:".AccompanyPanelMiniEnter",allowAnyClick:!1,__source:{fileName:l,lineNumber:9},__self:this},n.a.createElement("div",{className:"AccompanyPanelMiniEnter "+(a?"is-show":""),__source:{fileName:l,lineNumber:14},__self:this},n.a.createElement("i",{className:"AccompanyPanelMiniEnter-toggle",onClick:function onClick(){return t(!1)},__source:{fileName:l,lineNumber:15},__self:this})))},MiniEnter}(n.a.Component);t.default=c},cba29e:function(e,t,a){},d0bdce:function(e,t,a){},d6e565:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/boss_seat_icon_e41454a.png"},dc2b22:function(e,t,a){"use strict";var r=a("10984b");t.default=r.default},e4cb7c:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/logo_92aaa1c.png"},e94516:function(e,t,a){"use strict";var r=a("91ec94");t.default=r.default},eb1782:function(e,t,a){},ecf950:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/host_seat_icon_b38c19d.png"},f79099:function(e,t,a){"use strict";var r=a("5f7879");t.default=r.default}}]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/Panel_6fdf796_fdd807a.js.map
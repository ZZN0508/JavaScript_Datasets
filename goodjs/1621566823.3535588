(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{103:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var o=n(3),i=function(e){try{return JSON.parse(o.a.local.getRaw(e)||"[]").slice(0,250).map((function(e){return Number.parseInt(e,10)})).filter((function(e){return"number"==typeof e&&!Number.isNaN(e)})).map(String)}catch(e){return[]}},r=function(){return i("_papns")},a=function(){return i("_pdfps")},c=function(){o.a.local.remove("_papns"),o.a.local.remove("_pdfps")}},133:function(e,t,n){"use strict";n.d(t,"h",(function(){return f})),n.d(t,"t",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return y})),n.d(t,"o",(function(){return j})),n.d(t,"n",(function(){return O})),n.d(t,"q",(function(){return A})),n.d(t,"p",(function(){return C})),n.d(t,"i",(function(){return E})),n.d(t,"s",(function(){return P})),n.d(t,"j",(function(){return k})),n.d(t,"r",(function(){return S})),n.d(t,"k",(function(){return B})),n.d(t,"l",(function(){return D})),n.d(t,"u",(function(){return L})),n.d(t,"v",(function(){return F})),n.d(t,"m",(function(){return I}));var o=n(37),i=n(96),r=n(1),a=n(8),c=n(20),s={},u=function(e,t){var n=s[t]||(s[t]=new RegExp("".concat(t,"$")));return e.replace(n,"")},d={},l=function(e,t){return Boolean(e.find((function(e){return e[0]===t[0]&&e[1]===t[1]})))},f=function(e){return Object.keys(e).reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),{})},m=function(e){return function(e,t){var n=d[t]||(d[t]=new RegExp("^".concat(t)));return e.replace(n,"")}(e,"dfp-ad--")},g=function(e){return l(e,[300,250])},p=function(e){return l(e,[728,90])},h=function(e){return g(e)||function(e){return l(e,[300,600])}(e)},b=function(e){return l(e,[320,50])},v=function(e){return p(e)||function(e){return l(e,[970,250])}(e)},w=function(e){return e.length>0?e.reduce((function(e,t){return e[0]>=t[0]&&e[1]>=t[1]?e:t})):null},y=function(){switch(Object(a.c)()){case"mobile":case"mobileMedium":case"mobileLandscape":return"M";case"phablet":case"tablet":return"T";case"desktop":case"leftCol":case"wide":return"D";default:return"M"}},j=function(){return Object(o.d)()},O=function(){return!Object(o.d)()},A=function(){return Object(o.d)()},C=function(){return Object(o.d)()},E=function(e){return g(e)},P=function(){return!Object(o.d)()&&!Object(o.a)()&&r.a.get("switches.prebidOzone")},k=function(){return Object(o.a)()||r.a.get("switches.prebidAppnexusUkRow")&&!Object(o.d)()||!!Object(c.e)().and},S=function(){return Object(o.c)()},B=function(){return Object(o.c)()||Object(o.b)()},D=Object(i.a)((function(){return-1!==window.location.hash.indexOf("#mobile-sticky")||r.a.get("switches.mobileStickyLeaderboard")&&Object(a.l)({min:"mobile",max:"mobileLandscape"})&&(Object(o.d)()||Object(o.a)())&&"Article"===r.a.get("page.contentType")&&!r.a.get("page.isHosted")})),L=function(e){return u(u(e,"--mobile"),"Mobile")},F=function(e){return u(e,"([2-9]|\\d{2,})")},I=-1!==window.location.hash.indexOf("#only-a9")},141:function(e,t,n){"use strict";n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return E}));var o,i,r=n(28),a=n.n(r),c=n(35),s=n(3),u=n(212),d=n(96),l=n(144),f=n(1),m=n(0),g=n(8),p=n(120),h=n(157),b=n(20),v=n(133),w=n(145),y=n(17),j=n(95),O=n(103),A=n(158),C={},E=Object(d.a)((function(e){return Object(v.h)({sens:e.sens,pt1:e.url,pt2:e.edition,pt3:e.ct,pt4:e.p,pt5:e.k,pt6:e.su,pt7:e.bp,pt8:e.x,pt9:[e.gdncrm,e.pv,e.co,e.tn,e.slot].join("|"),permutive:e.permutive})})),P=Object(d.a)((function(e){return t=E(e),n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(e,"=").concat(t)})):"".concat(e,"=").concat(n)})),Array.prototype.concat.apply([],n).join(",");var t,n})),k=function(){o=c.a.hasInitialised();var e,t=(e=i).ccpa?!e.ccpa.doNotSell:e.tcfv2?!!e.tcfv2.consents&&Object.keys(e.tcfv2.consents).length>0&&Object.values(e.tcfv2.consents).every(Boolean):!!e.aus&&e.aus.personalisedAdvertising,n=i.ccpa?i.ccpa.doNotSell:null,r=i.tcfv2?i.tcfv2.eventStatus:"na",d=f.a.get("page");!1===t&&Object(O.a)();var v,C,E,k,S,B,D={pa:t?"t":"f"},L=j.a.adFree?{af:"t"}:{},F=function(e){var t={};for(var n in e){var o=e[n];o&&(Array.isArray(o)&&0===o.length||(t[n]=o))}return t}(Object.assign({sens:d.isSensitive?"t":"f",permutive:Object(O.c)(),pv:f.a.get("ophan.pageViewId"),bp:function(){switch(Object(g.c)(!0)){case"mobile":case"mobileMedium":case"mobileLandscape":return"mobile";case"phablet":case"tablet":return"tablet";case"desktop":case"leftCol":case"wide":return"desktop";default:return"mobile"}}(),at:Object(m.d)("adtest")||void 0,si:Object(y.j)()?"t":"f",gdncrm:Object(A.a)(t),ab:function(){var e=Object(w.a)(),t=[],n=function(e,n){if("string"==typeof n&&"notintest"!==n){var o="".concat(e,"-").concat(n);t.push(o.substring(0,40))}};Object.keys(e).forEach((function(t){var o=e[t];n(t,o.variant)}));var o=f.a.get("tests");return o&&Object.entries(o).forEach((function(e){var t=a()(e,2),o=t[0],i=t[1];n(o,i)})),t}(),ref:([{id:"facebook",match:"facebook.com"},{id:"twitter",match:"t.co/"},{id:"reddit",match:"reddit.com"},{id:"google",match:"www.google"}].filter((function(e){return Object(g.d)().indexOf(e.match)>-1}))[0]||{}).id,ms:(S=d.source,S?(B=S,B.replace(/[+\s]+/g,"-").toLowerCase()).replace(/&/g,"and").replace(/'/g,""):null),fr:(k=parseInt(s.a.local.getRaw("gu.alreadyVisited"),10)||0,k<=5?k.toString():k>=6&&k<=9?"6-9":k>=10&&k<=15?"10-15":k>=16&&k<=19?"16-19":k>=20&&k<=29?"20-29":k>=30?"30plus":k.toString()),vl:d.videoDuration?(30*Math.ceil(d.videoDuration/30)).toString():void 0,cc:Object(p.b)(),s:d.section,rp:f.a.get("isDotcomRendering",!1)?"dotcom-rendering":"dotcom-platform",dcre:f.a.get("isDotcomRendering",!1)||f.a.get("page.dcrCouldRender",!1)?"t":"f",inskin:c.a.hasInitialised()?c.a.willShowPrivacyMessageSync()?"f":"t":"f",skinsize:(E=Object(g.f)(),E&&E.width>=1560?"l":"s"),urlkw:function(e){if(e){var t=e.split("/");return(t.pop()||t.pop()).split("-")}return[]}(d.pageId),rdp:function(e){return null===e?"na":e?"t":"f"}(n),consent_tcfv2:(C=t,Object(h.a)().tcfv2&&null!==C?C?"t":"f":"na"),cmp_interaction:r||"na",amtgrp:s.a.local.getRaw("gu.adManagerGroup")||(v=String(Math.floor(12*Math.random())+1),s.a.local.setRaw("gu.adManagerGroup",v),v)},d.sharedAdTargeting,D,L,Object(l.a)(Object(b.d)(),["0p19G"])));return d.appNexusPageTargeting=P(F),d.pageAdTargeting=F,Object(u.a)("commercial","pageTargeting object:",F),F},S=function(){return 0!==Object.keys(C).length?(o!==c.a.hasInitialised()&&(C=k()),C):(Object(c.c)((function(e){i=e,C=k()})),C)}},250:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n(28),i=n.n(o),r=n(10),a=n.n(r),c=n(15),s=n.n(c),u=n(310),d=n.n(u),l=n(311),f=n.n(l),m=new WeakMap,g=function(){function e(t,n){a()(this,e),m.set(this,{writable:!0,value:void 0}),f()(this,m,Array.from((null!=n?n:document).querySelectorAll(t)))}return s()(e,[{key:"get",value:function(e){return"number"==typeof e?d()(this,m)[e]:d()(this,m)}},{key:"setAttributes",value:function(e){var t=this;return Object.entries(e).forEach((function(e){var n=i()(e,2),o=n[0],r=n[1];return d()(t,m).forEach((function(e){return e.setAttribute(o,r)}))})),this}},{key:"css",value:function(e){var t=this;return Object.entries(e).forEach((function(e){var n=i()(e,2),o=n[0],r=n[1];d()(t,m).forEach((function(e){return e.style.setProperty(o,r)}))})),this}},{key:"remove",value:function(){d()(this,m).forEach((function(e){var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)}))}}]),e}(),p=function(e,t){return new g(e,t)}},253:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var o=n(10),i=n.n(o),r=n(15),a=n.n(r),c=n(47),s=n(13),u=n(62),d=n.n(u),l=n(63),f=n.n(l),m=n(38),g=n.n(m),p=n(261),h=n.n(p),b=n(31),v=n.n(b),w=n(22),y=n.n(w),j=n(11),O=n(41);var A={waitForImages:!0,waitForLinks:!0,waitForInteractives:!1},C=function(e){return e instanceof HTMLIFrameElement},E=function(e){try{return e.contentWindow&&e.contentWindow.document&&"complete"===e.contentWindow.document.readyState}catch(e){return!0}},P=function(e){window.setTimeout(e,5e3)},k=function(e){return e.bodySelector||"document"},S=Object(O.a)((function(e){var t=v()("img",e.body).filter((function(e){return!e.complete}));return 0===t.length?Promise.resolve():new Promise((function(n){var o=0;y.a.on(e.body,"load",t,(function i(){(o+=1)===t.length&&(y.a.off(e.body,"load",i),t.length=0,n())}))}))}),k),B=Object(O.a)((function(e){return 0===v()(".element-rich-link--not-upgraded",e.body).length?Promise.resolve():new Promise((function(e){j.a.once("rich-link:loaded",e)}))}),k),D=Object(O.a)((function(e){var t=v()(".element-interactive",e.body).filter((function(e){var t=Array.from(e.children).filter(C);return!(t.length&&E(t[0]))}));return 0!==t.length&&"MutationObserver"in window?Promise.all(t.map((function(e){return new Promise((function(t){new MutationObserver((function(e,n){if(e.length&&e[0].addedNodes.length&&C(e[0].addedNodes[0])){var o=e[0].addedNodes[0];E(o)?(n.disconnect(),t()):o.addEventListener("load",(function(){n.disconnect(),t()}))}})).observe(e,{childList:!0})}))}))).then((function(){})):Promise.resolve()}),k),L=function(e,t,n){var o=[];return e.forEach((function(e){t(e)?o.push(e):n.push(e)})),o},F=function(e,t,n){var o=t.top-n.bottom>=e.minAbove,i=n.top-t.top>=e.minBelow;return o||i},I=function(e){d()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return f()(this,n)}}(n);function n(e){var o;return i()(this,n),(o=t.call(this)).name="SpaceError",o.message="There is no space left matching rules from ".concat(e.bodySelector),o}return n}(h()(Error)),T=function(e){return Object.freeze({top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,element:e})},_=function(e,t,n){e.body=e.bodySelector&&document.querySelector(e.bodySelector)||document;var o=n||{};return function(e,t){return Promise.race([new Promise(P),Promise.all([!t.waitForImages||S(e),!t.waitForLinks||B(e),!t.waitForInteractives||D(e)])]).then((function(){return e}))}(e,t||A).then((function(){return function(e,t){var n=v()(e.bodySelector+e.slotSelector);if(e.fromBottom&&n.reverse(),e.startAt){var o=!0;t.startAt=[],n=L(n,(function(t){return t===e.startAt&&(o=!1),!o}),t.startAt)}if(e.stopAt){var i=!0;t.stopAt=[],n=L(n,(function(t){return t===e.stopAt&&(i=!1),i}),t.stopAt)}return n}(e,o)})).then((function(t){return function(e,t){var n=e.clearContentMeta?document.querySelector(".js-content-meta"):null,o=e.selectors?Object.keys(e.selectors).map((function(t){return[t,v()(e.bodySelector+t)]})):null;return s.a.measure((function(){var i=e.body instanceof Element&&e.body.getBoundingClientRect(),r=t.map(T),a=e.clearContentMeta&&n?T(n):null,c=o?o.reduce((function(e,t){return e[t[0]]=t[1].map(T),e}),{}):null;return{bodyTop:i.top||0,bodyHeight:i.height||0,candidates:r,contentMeta:a,opponents:c}}))}(e,t)})).then((function(t){return function(e,t,n){var o=e.candidates;return n.absoluteMinAbove=[],o=L(o,(function(n){return!t.absoluteMinAbove||n.top+e.bodyTop>=t.absoluteMinAbove}),n.absoluteMinAbove),n.aboveAndBelow=[],o=L(o,(function(n){var o=n.top>=t.minAbove,i=n.top+t.minBelow<=e.bodyHeight;return o&&i}),n.aboveAndBelow),t.clearContentMeta&&(n.contentMeta=[],o=L(o,(function(n){return!!e.contentMeta&&n.top>e.contentMeta.bottom+t.clearContentMeta}),n.contentMeta)),t.selectors&&Object.keys(t.selectors).forEach((function(i){n[i]=[],o=L(o,(function(n){return function(e,t,n){return n.every(F.bind(void 0,e,t))}(t.selectors[i],n,e.opponents?e.opponents[i]:[])}),n[i])})),t.filter&&(n.custom=[],o=L(o,t.filter,n.custom)),o}(t,e,o)})).then((function(t){return function(e,t){if(!t.length)throw new I(e);return t.map((function(e){return e.element}))}(e,t)}))},R=function(e){return c.a.captureException(e),!1},x=new(function(){function e(){i()(this,e),this.queue=Promise.resolve()}return a()(e,[{key:"fillSpace",value:function(e,t,n){var o=function(e){return s.a.mutate((function(){return t(e)}))},i=function(e){if(e instanceof I)return!1;throw e};return this.queue=this.queue.then((function(){return _(e,n).then(o,i)})).catch(R),this.queue}}]),e}())},254:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(10),i=n.n(o),r=n(15),a=n.n(r),c=n(11),s=n(24),u=n.n(s),d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i()(this,e),this.element=t,this.opts=Object.assign({},{top:0,containInParent:!0,emitMessage:!1},n)}return a()(e,[{key:"init",value:function(){var e=this,t=this.element.parentElement;t&&(u.a.measure((function(){e.offsetFromParent=e.element.getBoundingClientRect().top-t.getBoundingClientRect().top}),this),c.a.on("window:throttledScroll",this.updatePosition.bind(this)),u.a.measure(this.updatePosition,this))}},{key:"updatePosition",value:function(){var e=this,t=this.element.parentElement;if(t){var n,o,i,r=this.element.getBoundingClientRect(),a=t.getBoundingClientRect(),c=r.height;if(a.top+this.offsetFromParent>0)i=!1,n={top:""},o="unfixed";else{i=!0;var s=this.opts.containInParent&&a.bottom<=r.height?Math.floor(a.bottom-c-this.opts.top):this.opts.top;n={top:"".concat(s,"px")},o="fixed"}this.opts.emitMessage&&o&&o!==this.lastMessage&&(this.emitMessage(o),this.lastMessage=o),n&&u.a.mutate((function(){i?e.element.classList.add("is-sticky"):e.element.classList.remove("is-sticky"),Object.assign(e.element.style,n)}),this)}}},{key:"emitMessage",value:function(e){c.a.emit("modules:".concat(this.element.id,":").concat(e))}}]),e}()},265:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var o=n(10),i=n.n(o),r=n(15),a=n.n(r),c=n(62),s=n.n(c),u=n(63),d=n.n(u),l=n(38),f=n.n(l),m=n(31),g=n.n(m),p=n(13),h=n(45),b=n(11),v=n(96);var w=new Promise((function(e,t){b.a.on("modules:onward:geo-most-popular:ready",e),b.a.on("modules:onward:geo-most-popular:cancel",e),b.a.on("modules:onward:geo-most-popular:error",t)})),y=function(e){s()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return d()(this,n)}}(n);function n(){var e;return i()(this,n),(e=t.call(this)).endpoint="/most-read-geo.json",b.a.emit("register:begin","geo-most-popular"),e}return a()(n,null,[{key:"error",value:function(e){b.a.emit("modules:onward:geo-most-popular:error",e)}}]),a()(n,[{key:"ready",value:function(){b.a.emit("register:end","geo-most-popular"),b.a.emit("modules:onward:geo-most-popular:ready",this)}}]),n}(h.a),j=function(e){e>1500&&(new y).fetch(g()(".js-components-container"),"rightHtml")},O={render:Object(v.a)((function(){return p.a.measure((function(){var e=document.querySelector(".js-article__body");return e?e.getBoundingClientRect()&&e.getBoundingClientRect().height:0})).then(j),w})),whenRendered:w}},397:function(e,t,n){"use strict";n.r(t),n.d(t,"bootCommercial",(function(){return _o}));var o=n(1),i=n(128),r=n(18),a=n(20),c=n(0),s=n(13),u=n(12),d=n.n(u),l=function(e,t){return Object.freeze({width:e,height:t,toString:function(){return e===t&&0===t?"fluid":"".concat(e,",").concat(t)}})},f={billboard:l(970,250),leaderboard:l(728,90),mpu:l(300,250),halfPage:l(300,600),portrait:l(300,1050),skyscraper:l(160,600),mobilesticky:l(320,50),fluid:l(0,0),outOfPage:l(1,1),googleCard:l(300,274),video:l(620,1),outstreamDesktop:l(620,350),outstreamGoogleDesktop:l(550,310),outstreamMobile:l(300,197),merchandisingHighAdFeature:l(88,89),merchandisingHigh:l(88,87),merchandising:l(88,88),inlineMerchandising:l(88,85),fabric:l(88,71),empty:l(2,2)};f["970x250"]=f.billboard,f["728x90"]=f.leaderboard,f["300x250"]=f.mpu,f["300x600"]=f.halfPage,f["300x1050"]=f.portrait,f["160x600"]=f.skyscraper;var m={sizeMappings:{mobile:[f.outOfPage,f.empty,f.outstreamMobile,f.mpu,f.googleCard,f.fluid],phablet:[f.outOfPage,f.empty,f.outstreamMobile,f.mpu,f.googleCard,f.outstreamDesktop,f.outstreamGoogleDesktop,f.fluid],desktop:[f.outOfPage,f.empty,f.mpu,f.googleCard,f.video,f.outstreamDesktop,f.outstreamGoogleDesktop,f.fluid]}},g={im:{label:!1,refresh:!1,sizeMappings:{mobile:[f.outOfPage,f.empty,f.inlineMerchandising,f.fluid]}},"high-merch":{label:!1,refresh:!1,name:"merchandising-high",sizeMappings:{mobile:[f.outOfPage,f.empty,f.merchandisingHigh,f.fluid]}},"high-merch-lucky":{label:!1,refresh:!1,name:"merchandising-high-lucky",sizeMappings:{mobile:[f.outOfPage,f.empty,f.fluid]}},"high-merch-paid":{label:!1,refresh:!1,name:"merchandising-high",sizeMappings:{mobile:[f.outOfPage,f.empty,f.merchandisingHighAdFeature,f.fluid]}},inline:m,mostpop:m,comments:m,"top-above-nav":{sizeMappings:{mobile:[f.outOfPage,f.empty,f.fabric,f.outstreamMobile,f.mpu,f.fluid]}},carrot:{label:!1,refresh:!1,name:"carrot",sizeMappings:{mobile:[f.fluid]}},epic:{label:!1,refresh:!1,name:"epic",sizeMappings:{mobile:[f.fluid]}},"mobile-sticky":{label:!0,refresh:!0,name:"mobile-sticky",sizeMappings:{mobile:[f.mobilesticky]}}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},i=g[e],r=t.name||i.name||e,a=t.classes?t.classes.split(" ").map((function(e){return"ad-slot--".concat(e)})):[],c=Object.assign({},i.sizeMappings);return t.sizes&&Object.keys(t.sizes).forEach((function(e){c[e]?c[e]=c[e].concat(t.sizes[e]):c[e]=t.sizes[e]})),Object.keys(c).forEach((function(e){c[e]=c[e].join("|")})),Object.assign(n,c),!1===i.label&&(n.label="false"),!1===i.refresh&&(n.refresh="false"),a.push("ad-slot--".concat(r)),function(e,t,n){var i=[],r="dfp-ad--".concat(e);if(o.a.get("isDotcomRendering",!1)&&"top-above-nav"===e){var a=document.getElementById(r);if(a&&a.parentNode){var c=a.parentNode;console.log("warning: cleaning up dom node id: dfp-ad--".concat(e)),c.removeChild(a)}}var s=document.createElement("div");return s.id=r,s.className="js-ad-slot ad-slot ".concat(n.join(" ")),s.setAttribute("data-link-name","ad slot ".concat(e)),s.setAttribute("data-name",e),s.setAttribute("aria-hidden","true"),Object.keys(t).forEach((function(e){s.setAttribute(e,t[e])})),i.push(s),i}(r,Object.keys(n).reduce((function(e,t){return Object.assign({},e,d()({},"data-".concat(t),n[t]))}),{}),a)},h=n(95),b=n(28),v=n.n(b),w=n(250),y=n(11),j=o.a,O=function(e){e.forEach((function(e){e.classList.remove("right-sticky"),e.classList.remove("js-sticky-mpu"),e.classList.remove("is-sticky")}))},A=function(e){if(!e)return 0;var t=e.ownerDocument.documentElement;return e.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop)-Math.max(0,t.clientTop,window.document.body.clientTop)},C=n(8),E=n(253),P={renderStartTime:-1,adSlotSelector:".js-ad-slot",hbImpl:o.a.get("page.hbImpl"),lazyLoadEnabled:!1,lazyLoadObserve:"IntersectionObserver"in window,creativeIDs:[],advertIds:{},advertsToLoad:[],advertsToRefresh:[],adverts:[],shouldLazyLoad:function(){return!o.a.get("page.hasPageSkin")&&"1"!==Object(a.d)().dll}},k=n(10),S=n.n(k),B=n(15),D=n.n(B),L=n(60),F=/([a-z])([A-Z])/g,I=function(e){return e.replace(F,"$1-$2").toLowerCase()},T=n(19),_=n.n(T),R=n(96),x=Object(R.a)((function(){var e=Object(a.d)();return e["ad-unit"]?"/".concat(o.a.get("page.dfpAccountId"),"/").concat(e["ad-unit"]):o.a.get("page.adUnit")})),M=function(e,t){var n,i=e.getAttribute("data-name"),r=function(e){var t=function(e){var t=window.googletag.sizeMapping();return C.b.filter((function(t){return t.name in e})).forEach((function(n){t.addSize([n.width,0],e[n.name])})),t.build()}(e),n=[];return t.map((function(e){return e[1]})).reduce((function(e,t){return t.length?[].concat(_()(e),_()(t)):[].concat(_()(e),[t])}),[]).forEach((function(e){n.some((function(t){return"".concat(t[0],"-").concat(t[1])==="".concat(e[0],"-").concat(e[1])}))||n.push(e)})),{sizeMapping:t,sizes:n}}(t),a=e.id,c=Promise.resolve();if(e.getAttribute("data-out-of-page")?n=window.googletag.defineOutOfPageSlot(x(),a).defineSizeMapping(r.sizeMapping):(n=window.googletag.defineSlot(x(),r.sizes,a).defineSizeMapping(r.sizeMapping),function(e){return"string"==typeof e&&("inline1"===e||"top-above-nav"===e)}(i)&&function(e){e.setSafeFrameConfig({allowOverlayExpansion:!1,allowPushExpansion:!0,sandbox:!0})}(n)),o.a.get("switches.iasAdTargeting",!1)){window.__iasPET=window.__iasPET||{};var s=window.__iasPET;s.queue=s.queue||[],s.pubId="10249";var u,d,l=[{adSlotId:a,size:n.getSizes().filter((function(e){return"fluid"!==e})).map((function(e){return[e.getWidth(),e.getHeight()]})),adUnitPath:x()}],f=new Promise((function(e){d=e}));s.queue.push({adSlots:l,dataHandler:function(e){clearTimeout(u);var t=JSON.parse(e);Object.keys(t.brandSafety).forEach((function(e){return window.googletag.pubads().setTargeting(e,t.brandSafety[e])})),t.fr&&window.googletag.pubads().setTargeting("fra",t.fr),t.custom&&t.custom["ias-kw"]&&window.googletag.pubads().setTargeting("ias-kw",t.custom["ias-kw"]);var o=["pub"];Object.keys(t.slots[a]).filter((function(e){return!o.includes(e)})).forEach((function(e){return n.setTargeting(e,t.slots[a][e])})),d()}}),c=Promise.race([new Promise((function(e){u=setTimeout(e,1e3)})),f])}var m=o.a.get("page.isbn");"im"===i&&m&&n.setTargeting("isbn",m);var g=new Map([["top-above-nav","fabric1"],["merchandising-high","fabric2"],["merchandising","fabric3"]]);return g.has(i)&&n.setTargeting("slot-fabric",g.get(i)),o.a.get("switches.adomik")&&(n.setTargeting("ad_group",function(){var e=Math.random();switch(!0){case e<.09:return"ad_ex".concat(Math.floor(100*e));case e<.1:return"ad_bc";default:return"ad_opt"}}()),n.setTargeting("ad_h",(new Date).getUTCHours().toString())),n.addService(window.googletag.pubads()).setTargeting("slot",i),{slot:n,slotReady:c}},z=function(){function e(t){var n=this;S()(this,e),this.size=null,this.isEmpty=null,this.isLoading=!1,this.isRendering=!1,this.isLoaded=!1,this.isRendered=!1,this.shouldRefresh=!1,this.maxViewPercentage=0,this.whenLoadedResolver=null,this.whenRenderedResolver=null,this.extraNodeClasses=[],this.timings={createTime:null,startLoading:null,stopLoading:null,startRendering:null,stopRendering:null,loadingMethod:null,lazyWaitComplete:null},this.hasPrebidSize=!1;var o=function(e){return C.b.reduce((function(t,n){var o=e.getAttribute("data-".concat(I(n.name)));return o&&(t[n.name]=o.split("|").map((function(e){return"fluid"===e?"fluid":e.split(",").map(Number)}))),t}),{})}(t),i=M(t,o);this.id=t.id,this.node=t,this.sizes=o,this.slot=i.slot,this.whenSlotReady=i.slotReady,this.whenLoaded=new Promise((function(e){n.whenLoadedResolver=e})).then((function(e){return n.isLoaded=e,e})),this.whenRendered=new Promise((function(e){n.whenRenderedResolver=e})).then((function(e){return n.isRendered=e,e}))}return D()(e,[{key:"startLoading",value:function(){this.isLoading=!0,this.timings.startLoading=Object(L.a)()}},{key:"stopLoading",value:function(e){this.isLoading=!1,this.whenLoadedResolver&&this.whenLoadedResolver(e),this.timings.stopLoading=Object(L.a)()}},{key:"startRendering",value:function(){this.isRendering=!0,this.timings.startRendering=Object(L.a)()}},{key:"stopRendering",value:function(e){this.isRendering=!1,this.whenRenderedResolver&&this.whenRenderedResolver(e)}},{key:"updateExtraSlotClasses",value:function(){for(var t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];e.filterClasses(this.extraNodeClasses,o).forEach((function(e){return t.node.classList.remove(e)})),o.forEach((function(e){return t.node.classList.add(e)})),this.extraNodeClasses=o}}]),e}();z.filterClasses=function(e,t){return e.filter((function(e){return!t.includes(e)}))},z.filterClasses;var N=function(e){P.advertsToLoad.push(e),"false"!==e.node.getAttribute("data-refresh")&&P.advertsToRefresh.push(e)},q=n(141),H=n(37),U=n(133);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var W=function(e){if(Object(H.a)())return"11016434";switch(Object(U.f)()){case"D":return Object(U.e)(e)?"9251752":Object(U.b)(e)?"9926678":"9251752";case"M":return Object(U.d)(e)?"4298191":"9251752";case"T":return Object(U.d)(e)?"4371641":Object(U.a)(e)?"4371640":"9251752";default:return"9251752"}},G=function(e){if(Object(H.a)()&&o.a.get("switches.prebidAppnexusInvcode")){var t=function(e){var t="M"===Object(U.f)()?"M":"D",n=o.a.get("page.section","")||o.a.get("page.sectionName","").replace(/ /g,"-"),i=Object(U.g)(e);if(i)return"".concat(t).concat(n.toLowerCase()).concat(i.join("x"))}(e);if(t)return{invCode:t,member:"7012",keywords:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({invc:[t]},Object(q.b)(Object(q.c)()))}}return{placementId:W(e),keywords:Object(q.b)(Object(q.c)())}};Object(q.c)();var J,Y,$,X,K,Z="Article"===o.a.get("page.contentType"),Q="D"===Object(U.f)()&&Z,ee=function(e,t){switch(Object(U.u)(e)){case"dfp-ad--inline1":return"2960";case"dfp-ad--inline2":return t?"3826":"3827";case"dfp-ad--inline3":return t?"3828":"3829";case"dfp-ad--inline4":return t?"3830":"3831";case"dfp-ad--inline5":return t?"3832":"3833";case"dfp-ad--inline6":return t?"3834":"3835";case"dfp-ad--inline7":return t?"3836":"3837";case"dfp-ad--inline8":return t?"3838":"3839";case"dfp-ad--inline9":return t?"3840":"3841";case"dfp-ad--mostpop":return"2961";case"dfp-ad--right":return"2962";case"dfp-ad--top-above-nav":return"2963";case"dfp-ad--comments":return"3840";case"dfp-ad--mobile-sticky":return"8519";default:return e.startsWith("dfp-ad--inline")?t?"3840":"3841":(console.log("PREBID: Failed to get TrustX ad unit for slot ".concat(e,".")),"")}},te=function(e){if(Object(H.c)())switch(Object(U.f)()){case"D":return Object(U.e)(e)?1116396:Object(U.b)(e)?1116397:-1;case"M":return Object(U.e)(e)?1116400:-1;case"T":return Object(U.e)(e)?1116398:Object(U.b)(e)?1116399:-1;default:return-1}if(Object(H.b)())switch(Object(U.f)()){case"D":return Object(U.e)(e)?1116420:Object(U.b)(e)?1116421:-1;case"M":return Object(U.e)(e)?1116424:-1;case"T":return Object(U.e)(e)?1116422:Object(U.b)(e)?1116423:-1;default:return-1}return-1},ne=function(e){switch(Object(U.f)()){case"D":return Object(U.e)(e)?20943665:Object(U.b)(e)?20943666:20943668;case"M":return Object(U.e)(e)?20943669:20943670;case"T":return Object(U.e)(e)?20943671:Object(U.b)(e)?20943672:20943674;default:return-1}},oe=function(){return Object.keys(Object(a.e)()).length>0},ie=function(e){return oe()||e},re={name:"and",switchName:"prebidAppnexus",bidParams:function(e,t){return G(t)}},ae={name:"oxd",switchName:"prebidOpenx",bidParams:function(){return Object(H.d)()?{delDomain:"guardian-us-d.openx.net",unit:"540279544",customParams:Object(q.b)(Object(q.c)())}:Object(H.a)()?{delDomain:"guardian-aus-d.openx.net",unit:"540279542",customParams:Object(q.b)(Object(q.c)())}:{delDomain:"guardian-d.openx.net",unit:"540279541",customParams:Object(q.b)(Object(q.c)())}}},ce={name:"ozone",switchName:"prebidOzone",bidParams:function(){return Object.assign({},{publisherId:"OZONEGMG0001",siteId:"4204204209",placementId:"0420420500",customData:[{settings:{},targeting:Object(q.b)(Object(q.c)())}],ozoneData:{}})}},se={name:"sonobi",switchName:"prebidSonobi",bidParams:function(e){return{ad_unit:o.a.get("page.adUnit"),dom_id:e,appNexusTargeting:Object(q.a)(Object(q.c)()),pageViewId:o.a.get("ophan.pageViewId")}}},ue={name:"pubmatic",switchName:"prebidPubmatic",bidParams:function(e){return Object.assign({},{publisherId:Object(H.d)()?"157206":Object(H.a)()?"157203":"157207",adSlot:Object(U.t)(e)})}},de={name:"trustx",switchName:"prebidTrustx",bidParams:function(e){return{uid:ee(e,Q)}}},le={name:"triplelift",switchName:"prebidTriplelift",bidParams:function(e,t){return{inventoryCode:function(e,t){return Object(U.a)(t)?"theguardian_topbanner_728x90_prebid":Object(U.d)(t)?Z?"theguardian_article_300x250_prebid":"theguardian_sectionfront_300x250_prebid":Object(U.c)(t)?"theguardian_320x50_HDX":(console.log("PREBID: Failed to get TripleLift ad unit for slot ".concat(e,".")),"")}(e,t)}}},fe={name:"improvedigital",switchName:"prebidImproveDigital",bidParams:function(e,t){return{placementId:te(t),size:function(e){var t=Object(U.v)(Object(U.u)(e));return t&&(t.endsWith("mostpop")||t.endsWith("comments")||t.endsWith("inline1")||t.endsWith("inline")&&!Q)?{w:300,h:250}:{}}(e)}}},me={name:"xhb",switchName:"prebidXaxis",bidParams:function(e,t){return{placementId:ne(t)}}},ge={name:"adyoulike",switchName:"prebidAdYouLike",bidParams:function(){return Object(H.c)()?{placement:"2b4d757e0ec349583ce704699f1467dd"}:Object(H.d)()?{placement:"7fdf0cd05e1d4bf39a2d3df9c61b3495"}:Object(H.a)()?{placement:"5cf05e1705a2d57ba5d51e03f2af9208"}:{placement:"c1853ee8bfe0d4e935cbf2db9bb76a8b"}}},pe=function(e){var t=function(){var e=o.a.get("page.pbIndexSites",[]).find((function(e){return e.bp===Object(U.f)()}));return e&&e.id?e.id.toString():""}();return e.map((function(e){return{name:"ix",switchName:"prebidIndexExchange",bidParams:function(){return{siteId:t,size:e}}}}))},he=function(e){var t=[].concat(_()(ie(Object(U.o)())?[se]:[]),_()(ie(Object(U.q)())?[de]:[]),_()(ie(Object(U.p)())?[le]:[]),_()(ie(Object(U.j)())?[re]:[]),_()(ie(Object(U.k)())?[fe]:[]),_()(ie(Object(U.r)())?[me]:[]),[ue],_()(ie(Object(U.i)(e))?[ge]:[]),_()(ie(Object(U.s)())?[ce]:[]),_()(Object(U.n)()?[ae]:[])),n=pe(e).concat(t);return oe()?function(e){return e.filter((function(e){return Object(a.e)()[e.name]}))}(n):function(e){return e.filter((function(e){return function(e){return o.a.get("switches.".concat(e.switchName))}(e)}))}(n)},be=function(e,t){var n=t||function(e){return[e]};return function(e,t){return t.filter((function(t){return"banner"===t.key&&!!e.id.match(/^dfp-ad--\d+/)&&e.node.classList.contains("ad-slot--banner-ad-desktop")||function(e,t){return Object(U.v)(Object(U.u)(t.id)).endsWith(e.key)}(t,e)}))}(e,function(e){var t="Article"===e,n="Crossword"===e,i=o.a.get("page.hasShowcaseMainElement",!1),r=t&&o.a.get("switches.extendedMostPopular"),a=[{key:"right",sizes:i?[[300,250]]:[[300,600],[300,250]]},{key:"inline1",sizes:n?[[728,90]]:[[300,250]]}],c=[{key:"top-above-nav",sizes:[[970,250],[728,90]]},{key:"inline",sizes:t?[[160,600],[300,600],[300,250]]:[[300,250]]},{key:"mostpop",sizes:r?[[300,600],[300,250]]:[[300,250]]},{key:"comments",sizes:[[160,600],[300,250],[300,600]]},{key:"banner",sizes:[[88,70],[728,90],[940,230],[900,250],[970,250]]}],s=[{key:"top-above-nav",sizes:[[728,90]]},{key:"inline",sizes:[[300,250]]},{key:"mostpop",sizes:r?[[300,600],[300,250],[728,90]]:[[300,250]]}],u=[{key:"top-above-nav",sizes:[[300,250]]},{key:"inline",sizes:[[300,250]]},{key:"mostpop",sizes:[[300,250]]}];switch(Object(U.f)()){case"M":return Object(U.l)()&&o.a.get("switches.mobileStickyPrebid")?a.concat([].concat(u,[{key:"mobile-sticky",sizes:[[320,50]]}])):a.concat(u);case"T":return a.concat(s);default:return a.concat(c)}}(o.a.get("page.contentType",""))).map(n).reduce((function(e,t){return e.concat(t)}),[])},ve={buckets:[{max:100,increment:.01},{max:500,increment:1}]},we=function(e){return e in P.advertIds?P.adverts[P.advertIds[e]]:null},ye=n(252),je=function(e,t,n,o,i){if(i)e=i(e,t,n);else{var r=[];try{var a=JSON.parse(localStorage._psegs||"[]").map(String),c=JSON.parse(localStorage._ppam||"[]"),s=JSON.parse(localStorage._pcrprs||"[]");r=[].concat(_()(a),_()(c),_()(s))}catch(e){}n&&t.ac&&t.ac.length>0&&(r=r.concat(t.ac)),r=r.map((function(e){return{id:e}})),pbjs.setBidderConfig({bidders:["pubmatic"],config:{ortb2:{user:{data:[{name:"permutive.com",segment:r}]}}}})}},Oe=function(){function e(t,n){S()(this,e),this.code=t.id,this.bids=function(e,t){return he(t).map((function(n){return{bidder:n.name,params:n.bidParams(e,t)}}))}(t.id,n.sizes),this.mediaTypes={banner:{sizes:n.sizes}}}return D()(e,[{key:"isEmpty",value:function(){return null==this.code}}]),e}(),Ae=Promise.resolve(),Ce=!1,Ee=function(e,t){if(!Ce)return Ae;if(!P.hbImpl.prebid)return Ae;var n=be(e,t).map((function(t){return new Oe(e,t)})).filter((function(e){return!e.isEmpty()}));if(0===n.length)return Ae;var o=ye.a.get();return Ae=Ae.then((function(){return new Promise((function(e){window.pbjs.que.push((function(){n.map((function(e){return o.trigger("prebidStart",Object(U.t)(e.code))})),window.pbjs.requestBids({adUnits:n,bidsBackHandler:function(){window.pbjs.setTargetingForGPTAsync([n[0].code]),n.map((function(e){return o.trigger("prebidEnd",Object(U.t)(e.code))})),e()}})}))}))})).catch((function(){}))},Pe=function(){function e(t,n){S()(this,e),this.slotID=t.id,this.slotName=o.a.get("page.adUnit"),this.sizes=n.sizes}return D()(e,[{key:"isEmpty",value:function(){return null==this.slotID}}]),e}(),ke=!1,Se=Promise.resolve(),Be=function(e,t){if(!ke)return Se;if(!P.hbImpl.a9)return Se;var n=be(e,t).map((function(t){return new Pe(e,t)})).filter((function(e){return!e.isEmpty()}));return 0===n.length?Se:Se=Se.then((function(){return new Promise((function(e){window.apstag.fetchBids({slots:n},(function(){window.googletag.cmd.push((function(){window.apstag.setDisplayBids(),e()}))}))}))})).catch((function(){}))},De=function(e,t){return"top-above-nav"!==t.key||1===t.sizes.length?[t]:Array.isArray(e.size)?[Object.assign({},t,{sizes:[[e.size[0],e.size[1]]]})]:[]},Le=ye.a.get(),Fe=function(e){var t=Object(U.t)(e.id);e.whenSlotReady.catch((function(){})).then((function(){return Object(L.c)("Commercial: Slot Ready: ".concat(e.id)),Le.trigger("slotReady",t),e.startLoading(),Promise.all([Ee(e),Be(e)])})).then((function(){Le.trigger("slotInitialised",t),window.googletag.display(e.id)}))},Ie=function(e){e.whenSlotReady.then((function(){var t=Ee(e,(function(t){return De(e,t)})),n=Be(e,(function(t){return De(e,t)}));return Promise.all([t,n])})).then((function(){e.slot.setTargeting("refreshed","true"),"dfp-ad--top-above-nav"===e.id&&Array.isArray(e.size)&&e.slot.defineSizeMapping([[[0,0],[e.size]]]),window.googletag.pubads().refresh([e.slot])}))},Te=function(e){var t=we(e);t&&(t.isRendered?Ie(t):Fe(t))},_e=function(e,t){var n=[];e.filter((function(e){return!("isIntersecting"in e)||e.isIntersecting})).forEach((function(e){t.unobserve(e.target),Te(e.target.id),n.push(e.target.id)})),P.advertsToLoad=P.advertsToLoad.filter((function(e){return n.indexOf(e.id)<0}))},Re=Object(R.a)((function(){return Promise.resolve(new window.IntersectionObserver(_e,{rootMargin:"200px 0px"}))})),xe=function(e){P.lazyLoadObserve?Re().then((function(t){return t.observe(e.node)})):Te(e.id)},Me=function(e,t){window.googletag.cmd.push((function(){e.id in P.advertIds||function(e,t){var n=new z(e);P.advertIds[n.id]=P.adverts.push(n)-1,P.shouldLazyLoad()&&!t?(N(n),xe(n)):Fe(n)}(e,t)}))},ze=n(41),Ne=Object(ze.a)((function(e){return new Promise((function(t){!function n(){var o=we(e);o?t(o):window.setTimeout(n,200)}()}))})),qe=function(e){return Ne(e).then((function(e){return e.whenRendered}))},He={bodySelector:".js-article__body",slotSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,selectors:{" .element-rich-link":{minAbove:100,minBelow:400}," .element-image":{minAbove:440,minBelow:440}," .player":{minAbove:50,minBelow:50}," > h1":{minAbove:50,minBelow:50}," > h2":{minAbove:50,minBelow:50}," > *:not(p):not(h2):not(blockquote)":{minAbove:50,minBelow:50}," .ad-slot":{minAbove:100,minBelow:100}," .element-pullquote":{minAbove:400,minBelow:400}},fromBottom:!0},Ue={bodySelector:".js-article__body",slotSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,selectors:{" .element-rich-link":{minAbove:400,minBelow:400}," .element-image":{minAbove:440,minBelow:440}," .player":{minAbove:50,minBelow:50}," > h1":{minAbove:50,minBelow:50}," > h2":{minAbove:50,minBelow:50}," > *:not(p):not(h2):not(blockquote)":{minAbove:50,minBelow:50}," .ad-slot":{minAbove:400,minBelow:400}," .ad-slot--im":{minAbove:400,minBelow:400}," .element-pullquote":{minAbove:400,minBelow:400}},fromBottom:!0},Ve={bodySelector:".js-article__body",slotSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,selectors:{" .element-rich-link":{minAbove:400,minBelow:400}," .element-image":{minAbove:440,minBelow:440}," .player":{minAbove:50,minBelow:50}," > h1":{minAbove:50,minBelow:50}," > h2":{minAbove:50,minBelow:50}," > *:not(p):not(h2):not(blockquote)":{minAbove:50,minBelow:50}," .ad-slot":{minAbove:400,minBelow:400}," .ad-slot--im":{minAbove:400,minBelow:400}," .element-pullquote":{minAbove:400,minBelow:400}},fromBottom:!0},We=function(e){var t=p("carrot"),n=e.slice(1);return s.a.mutate((function(){t.forEach((function(e){n[0]&&n[0].parentNode&&n[0].parentNode.insertBefore(e,n[0])}))})).then((function(){return Me(t[0],!0)}))},Ge=function(){return h.a.carrotTrafficDriver?E.a.fillSpace(function(){switch(Object(C.c)()){case"mobile":case"mobileMedium":case"mobileLandscape":case"phablet":return Ve;case"tablet":case"desktop":return Ue;default:return He}}(),We,{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0}):Promise.resolve()},Je=o.a.get("page.isPaidContent",!1),Ye={minAbove:500,minBelow:500},$e=function(e,t,n,o,i){var r=p(n,{name:t,classes:o,sizes:i});return s.a.mutate((function(){return r.forEach((function(t){e.parentNode&&e.parentNode.insertBefore(t,e)}))})).then((function(){var e=["im","carrot"].includes(t);Me(r[0],e)}))},Xe=function(e){return function(t){return(!J||Math.abs(t.top-J.top)-e>=Ye.minBelow)&&(J=t,!0)}},Ke=o.a.get("isDotcomRendering",!1),Ze=Ke?".article-body-commercial-selector":".js-article__body",Qe=function(e){var t=o.a.get("page.isImmersive"),n={bodySelector:Ze,slotSelector:" > p",minAbove:t?700:300,minBelow:Ke?300:700,selectors:{" > h2":{minAbove:5,minBelow:190}," .ad-slot":Ye," > :not(p):not(h2):not(.ad-slot)":{minAbove:35,minBelow:400}," figure.element--immersive":{minAbove:0,minBelow:600}," figure.element--supporting":{minAbove:500,minBelow:0}},filter:Xe(f.mpu.height)},i={bodySelector:Ze,slotSelector:" > p",minAbove:Je?1600:1e3,minBelow:Ke?300:800,selectors:{" .ad-slot":Ye," figure.element--immersive":{minAbove:0,minBelow:600},' [data-spacefinder-ignore="numbered-list-title"]':{minAbove:25,minBelow:0}},filter:Xe(f.halfPage.height)},r=e?n:i;return E.a.fillSpace(r,(function(t){var n=t.slice(0,e?1:t.length).map((function(t,n){return $e(t,"inline".concat(n+(e?1:2)),"inline","inline".concat(e?"":" offset-right"),e?null:{desktop:[f.halfPage,f.skyscraper]})}));return Promise.all(n).then((function(){return n.length}))}),{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0})},et=function(){var e;return Object(C.l)({max:"mobileLandscape"})?(e={bodySelector:Ze,slotSelector:" > p",minAbove:200,minBelow:200,selectors:{" > h2":{minAbove:100,minBelow:250}," .ad-slot":Ye," > :not(p):not(h2):not(.ad-slot)":{minAbove:35,minBelow:200},fromBottom:!0},filter:Xe(f.mpu.height)},E.a.fillSpace(e,(function(e){var t=e.map((function(e,t){return $e(e,0===t?"top-above-nav":"inline".concat(t),0===t?"top-above-nav":"inline","inline")}));return Promise.all(t).then((function(){return t.length}))}),{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0})):Je?Qe(!1):Qe(!0).then((function(){return Qe(!1)}))},tt=function(){if(!h.a.articleBodyAdverts)return Promise.resolve(!1);var e,t=o.a.get("page.hasInlineMerchandise")?(e={bodySelector:Ze,slotSelector:" > p",minAbove:300,minBelow:0,selectors:{" > .merch":{minAbove:0,minBelow:0}," > header":{minAbove:Object(C.l)({max:"tablet"})?300:700,minBelow:0}," > h2":{minAbove:100,minBelow:250}," .ad-slot":Ye," > :not(p):not(h2):not(.ad-slot)":{minAbove:200,minBelow:400}}},E.a.fillSpace(e,(function(e){return $e(e[0],"im","im").then((function(){return!0}))}),{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0})):Promise.resolve(!1);return t.then((function(e){return e?qe("dfp-ad--im"):Promise.resolve()})).then(et).then(Ge),t},nt=[P.adSlotSelector,".ad-slot__label--toggle"],ot=function(){return nt.reduce((function(e,t){return[].concat(_()(e),_()(Array.from(document.querySelectorAll(t))))}),[])},it=function(e){return"none"===window.getComputedStyle(e).display},rt=function(e){return s.a.mutate((function(){return e.forEach((function(e){return e.remove()}))}))},at=function(){return rt(ot())},ct=Object(R.a)((function(){return rt(ot().filter(it))})),st=".".concat("fc-slice__item--mpu-candidate"),ut=function(e){return e.className.toLowerCase().includes("fc-slice__item--mpu-candidate")},dt=function(e){var t=e.getAttribute("data-component");return null==t?void 0:t.includes("commercial-container")},lt=Object(R.a)((function(){if(!h.a.adFree)return Promise.resolve();var e=document.body,t=Object(w.a)(P.adSlotSelector),n=Object(w.a)(st).get().filter(ut),o=Object(w.a)(".fc-container").get().filter(dt),i=Object(w.a)(".commercial-thrasher");return s.a.mutate((function(){e.classList.toString().includes("has-page-skin")&&e.classList.remove("has-page-skin"),e.classList.toString().includes("has-active-pageskin")&&e.classList.remove("has-active-pageskin"),t.remove(),n.forEach((function(e){return e.classList.add("fc-slice__item--no-mpu")})),o.forEach((function(e){return e.classList.add("u-h")})),i.get().forEach((function(e){var t=e.closest(".fc-container--thrasher");t&&t.remove()}))}))})),ft=n(211),mt=function(e){console.log("Failed to load Confiant:",e)},gt=n(35),pt=n(3),ht=ye.a.get(),bt=n(47),vt=n(17),wt=n(40),yt=n.n(wt),jt=function(e,t,n){t.postMessage(JSON.stringify(e),n||"*")},Ot={},At=0,Ct={code:405,message:"Service %% not implemented"},Et={code:500,message:"Internal server error\n\n%%"},Pt=function(e){if(e.slotId){var t=document.getElementById("dfp-ad--".concat(e.slotId)),n=t?t.getElementsByTagName("iframe"):null;return n&&n.length?n[0]:null}if(e.iframeId)return document.getElementById(e.iframeId)},kt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return n.reduce((function(e,t){return e.message=e.message.replace("%%",t),e}),e)},St=function(e){var t,n;try{t=JSON.parse(e.data)}catch(e){return}if("set-ad-height"===(n=t).type&&("id"in n.value||"slotId"in n.value)&&"height"in n.value&&(t=function(e){return{id:"aaaa0000-bb11-cc22-dd33-eeeeee444444",type:"resize",iframeId:e.value.id,slotId:e.value.slotId,value:{height:+e.value.height,width:+e.value.width}}}(t)),function(e){return"object"===yt()(e)&&!!e&&"type"in e&&"value"in e&&"id"in e&&e.type in Ot&&/^[a-f0-9]{8}-([a-f0-9]{4}-){3}[a-f0-9]{12}$/.test(e.id)}(t)){var o=function(n,o){jt({id:t.id,error:n,result:o},e.source)};if(Array.isArray(Ot[t.type])&&Ot[t.type].length)return Ot[t.type].slice().reduce((function(e,n){return e.then((function(e){var o=n(t.value,e,Pt(t));return void 0===o?e:o}))}),Promise.resolve(!0)).then((function(e){o(null,e)})).catch((function(e){Object(r.a)(e,{feature:"native-ads"}),o(kt(Et,e),null)}));"function"==typeof Ot[t.type]?Ot[t.type](o,t.value,Pt(t)):o(kt(Ct,t.type),null)}},Bt=function(e,t,n){0===At&&function(e){e.addEventListener("message",St)}(n&&n.window||window),n&&n.persist?(Ot[e]=t,At+=1):(Ot[e]=Ot[e]||[],-1===Ot[e].indexOf(t)&&(Ot[e].push(t),At+=1))},Dt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===Ot[e])throw new Error(kt(Ct,e));if(void 0===t)At-=Ot[e].length,Ot[e].length=0;else if(Ot[e]===t)Ot[e]=null,At-=1;else{var o=Ot[e].indexOf(t);o>-1&&(At-=1,Ot[e].splice(o,1))}0===At&&function(e){e.removeEventListener("message",St)}(n.window||window)},Lt=n(115),Ft=n(152),It=n.n(Ft),Tt=function(e,t){if(!(e&&"backgroundImage"in e&&"backgroundRepeat"in e&&"backgroundPosition"in e&&"scrollType"in e&&t instanceof Element))return Promise.resolve();var n=function(e){return Object.keys(e).reduce((function(t,n){return"scrollType"!==n&&(t[n]=e[n]),"backgroundColour"===n&&(t.backgroundColor=e[n]),t}),{})}(e),i="interscroller"===e.scrollType?"creative__background-parent-interscroller":"creative__background-parent",r=t.getElementsByClassName(i)[0],a=r?r.getElementsByClassName("creative__background")[0]:null,c=!(!r||!a),u=function(e,t){s.a.measure((function(){var e=t.getBoundingClientRect(),n=e.height,o=window.innerHeight,i=Math.floor(e.bottom/(o+n)*130);t.style.backgroundPositionY="".concat(i,"%")}))},d=new IntersectionObserver((function(e){e.filter((function(e){return e.isIntersecting})).forEach((function(e){if(!c){var t=e.target.firstChild;t&&t instanceof HTMLElement&&(Object(Lt.a)(window,"scroll",(function(){return u(0,t)}),{passive:!0}),u(0,t))}}))}),{rootMargin:"10px"});return function(){if(a&&r&&c)return Promise.resolve({backgroundParent:r,background:a});var n=document.createElement("div"),i=document.createElement("div");return n.appendChild(i),o.a.get("isDotcomRendering",!1)&&(n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.right="0",n.style.bottom="0",n.style.clip="rect(0, auto, auto, 0)",i.style.top="0",i.style.left="0",i.style.right="0",i.style.bottom="0",i.style.transition="background 100ms ease"),s.a.mutate((function(){if(n)if(o.a.get("isDotcomRendering",!1)&&t.firstChild&&t.firstChild instanceof HTMLElement&&(t.firstChild.style.contain="layout"),"interscroller"===e.scrollType){if(t.style.height="85vh",t.style.marginBottom="12px",null!=e.ctaUrl){var r=document.createElement("a");r.href=e.ctaUrl,r.target="_new",r.appendChild(n),r.style.display="inline-block",r.style.width="100%",r.style.height="100%",t.insertBefore(r,t.firstChild)}if(o.a.get("isDotcomRendering",!1)){i.style.position="fixed";var a=document.createElement("div");a.classList.add("ad-slot__line"),a.style.position="absolute",a.style.width="100%",a.style.bottom="0",a.style.borderBottom="1px solid #dcdcdc",n.appendChild(a)}}else t.insertBefore(n,t.firstChild)})).then((function(){return{backgroundParent:n,background:i}}))}().then((function(r){return function(r,a){return r.className=i,a.className="".concat("creative__background"," creative__background--").concat(e.scrollType),o.a.get("isDotcomRendering",!1)&&"parallax"===e.scrollType&&(a.style.position="absolute"),Object.assign(a.style,n),"fixed"===e.scrollType?s.a.measure((function(){if(t instanceof Element)return t.getBoundingClientRect()})).then((function(e){return s.a.mutate((function(){o.a.get("isDotcomRendering",!1)&&(a.style.position="fixed"),n.backgroundColor&&(r.style.backgroundColor=n.backgroundColor),e&&(a.style.left="".concat(e.left,"px"),a.style.right="".concat(e.right,"px"),a.style.width="".concat(e.width,"px"))}))})).then((function(){return{backgroundParent:r,background:a}})):Promise.resolve({backgroundParent:r,background:a})}(r.backgroundParent,r.background)})).then((function(n){var o,i=n.backgroundParent,r=n.background;"interscroller"===e.scrollType?(o=i,s.a.measure((function(){var e=document.createElement("div");e.classList.add("ad-slot__label"),e.classList.add("sticky"),e.innerHTML="Advertisement",o.appendChild(e)})),function(e){s.a.mutate((function(){var t=document.createElement("div");t.classList.add("ad-slot__scroll"),t.innerHTML="Scroll for More",t.onclick=function(t){e.scrollIntoView({behavior:"smooth",block:"start"}),t.preventDefault()},e.appendChild(t)}))}(i),Object(Lt.a)(window,"scroll",(function(){return function(e,n){s.a.measure((function(){var e=t.getBoundingClientRect();n.style.clip="rect(".concat(e.top,"px,100vw,").concat(e.bottom,"px,0)")}))}(0,r)}),{passive:!0})):d.observe(i)}))},_t=n(104),Rt=function(e,t){Object(_t.b)(e.id,t)},xt=function(e){var t=String(e).match(/^(\d+)(%|px|em|ex|ch|rem|vh|vw|vmin|vmax)?/);return t?t[1]+(void 0===t[2]?"px":t[2]):""},Mt=window,zt="IntersectionObserver"in Mt,Nt=!1,qt={},Ht=0,Ut=function(e,t){var n;qt[e].respond(null,{width:(n=t).width,height:n.height,top:n.top,bottom:n.bottom,left:n.left,right:n.right})},Vt=function(e){return[e,qt[e].node.getBoundingClientRect()]},Wt=function(e){return e[1].bottom>0&&e[1].top<this.height},Gt=function(e){$=e.filter((function(e){return e.intersectionRatio>0})).map((function(e){return e.target.id}))},Jt=function(){if(!Nt){var e=Object(C.f)();return Nt=!0,s.a.measure((function(){Nt=!1;var t=Object.keys(qt);zt?$.map(Vt).forEach((function(e){Ut(e[0],e[1])})):t.map(Vt).filter(Wt,e).forEach((function(e){Ut(e[0],e[1])}))}))}},Yt=function(e,t,n){n&&(t?function(e,t){0===Ht&&(Object(Lt.a)(Mt,"scroll",Jt,{passive:!0}),zt&&(Y=new Mt.IntersectionObserver(Gt))),qt[e.id]={node:e,visible:!zt,respond:t},Ht+=1,zt&&Y&&Y.observe(e),s.a.measure((function(){return e.getBoundingClientRect()})).then((function(t){Ut(e.id,t)}))}(n,e):function(e){qt[e.id]&&(zt&&Y&&Y.unobserve(e),qt[e.id]=!1,Ht-=1),0===Ht&&(Mt.removeEventListener("scroll",Jt),zt&&Y&&(Y.disconnect(),Y=null))}(n))},$t=window,Xt={},Kt=0,Zt=!1,Qt=function(){return s.a.measure((function(){return Object(C.f)()}))},en=function(e,t){Xt[e]&&Xt[e].respond&&Xt[e].respond(null,t)},tn=function(){if(!Zt)return Zt=!0,Qt().then((function(e){Object.keys(Xt).forEach((function(t){en(t,e)})),Zt=!1}))},nn=function(e,t,n){n&&(t?function(e,t){0===Kt&&$t.addEventListener("resize",tn),Xt[e.id]={node:e,respond:t},Kt+=1,Qt().then((function(t){en(e.id,t)}))}(n,e):function(e){Xt[e.id]&&(Xt[e.id]=!1,Kt-=1),0===Kt&&$t.removeEventListener("resize",tn)}(n))},on=["dfp-ad--im"],rn=n(24),an=n.n(rn),cn=Object(R.a)((function(){return Object(gt.c)((function(e){var t;Object(gt.b)("prebid",e)&&(e.tcfv2&&(t="tcfv2"),e.ccpa&&(t="ccpa"),e.aus&&(t="aus"),function(e){!P.hbImpl.prebid||!h.a.dfpAdvertising||h.a.adFree||o.a.get("page.hasPageSkin")||Object(C.m)()||U.m||n.e(33).then(n.t.bind(null,386,7)).then((function(){Object(q.c)(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tcfv2";Ce=!0;var n=o.a.get("switches.prebidUserSync",!1)?{syncsPerBidder:0,filterSettings:{all:{bidders:"*",filter:"include"}}}:{syncEnabled:!1},i=Object.assign({},{bidderTimeout:1500,priceGranularity:ve,userSync:n});o.a.get("switches.consentManagement",!1)&&(i.consentManagement=function(){switch(t){case"aus":case"ccpa":return{usp:{cmpApi:"iab",timeout:1500}};case"tcfv2":default:return{gdpr:{cmpApi:"iab",timeout:200,defaultGdprScope:!0}}}}()),o.a.get("switches.permutive",!1)&&(i.realTimeData={dataProviders:[{name:"permutive",params:{acBidders:["appnexus","ozone","pubmatic","trustx"],overwrites:{pubmatic:je}}}]}),e.pbjs.setConfig(i),o.a.get("switches.prebidAnalytics",!1)&&e.pbjs.enableAnalytics([{provider:"gu",options:{ajaxUrl:o.a.get("page.ajaxUrl"),pv:o.a.get("ophan.pageViewId")}}]),e.pbjs.bidderSettings={},o.a.get("switches.prebidXaxis",!1)&&(e.pbjs.bidderSettings.xhb={adserverTargeting:[{key:"hb_buyer_id",val:function(e){return e.appnexus?e.appnexus.buyerMemberId:""}}],bidCpmAdjustment:function(e){return 1.05*e}}),e.pbjs.onEvent("bidWon",(function(e){var t=e.width,n=e.height,o=e.adUnitCode;if(t&&n&&o){var i=[t,n],r=we(o);r&&(r.size=i,r.hasPrebidSize=!0)}}))}(window,e)}))}(t))})),Promise.resolve()})),sn=function(){var e=[cn(),ct()];return Promise.all(e).then((function(){if(h.a.adFree)return Promise.resolve();var e=o.a.get("isDotcomRendering",!1)&&"mobile"===Object(C.c)(),t=_()(document.querySelectorAll(P.adSlotSelector)).filter((function(e){return!(e.id in P.advertIds)})).filter((function(t){return!(e&&"dfp-ad--top-above-nav"===t.id)})).map((function(e){return new z(e)})),n=P.adverts.length;P.adverts=P.adverts.concat(t),t.forEach((function(e,t){P.advertIds[e.id]=n+t})),t.forEach(N),P.shouldLazyLoad()?function(){var e;window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices(),e=P.advertsToLoad.filter((function(e){return on.includes(e.id)})),P.advertsToLoad=P.advertsToLoad.filter((function(e){return!on.includes(e.id)})),e.forEach(Fe),P.advertsToLoad.forEach((function(e){xe(e)}))}():(window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices(),Fe(P.advertsToLoad[0]),P.advertsToLoad.length=0,function(){var e=document.body,t=o.a.get("page.hasPageSkin"),n="au"===o.a.get("page.edition","").toLowerCase(),i=0,r=!1,a=!1,c=function(){t&&Object(C.g)(!0)&&!h.a.adFree&&e&&an.a.mutate((function(){e.classList.toggle("has-active-pageskin",Object(C.l)({min:"wide"}))}))},s=function(t){e&&(e.style.backgroundPosition="50% ".concat(t,"px"))},u=function(){if(0===i){var e=document.getElementsByClassName("new-header")[0];e&&(i=r?e.offsetTop+24:e.offsetTop+e.offsetHeight)}},d=function(e){var t=document.querySelector(".fc-container__inner");t&&(e.style.cssText="max-width: ".concat(t.clientWidth,"px; margin-right: auto; margin-left: auto;"))},l=function(){r&&t&&function(){var e=document.querySelector(".new-header"),t=document.querySelector(".l-footer"),n=document.querySelector(".ad-slot--top-banner-ad");if(e&&t&&n){var o=document.querySelector(".top-banner-ad-container");o&&(o.style.borderBottom="none"),u(),d(e),d(t),0===window.pageYOffset&&s(i);var r=e.getBoundingClientRect(),a=n.getBoundingClientRect(),c=r.top,l=a.bottom;c<=a.height+24-r.height&&l>0?s(l):l<=0&&s(0)}}(),a&&t&&n&&(u(),0===window.pageYOffset?s(i):window.pageXOffset<=i&&s(i-window.pageYOffset),window.pageYOffset>i&&s(0))};c(),window.addEventListener("message",(function(e){"pageskinRendered"===e.data&&(a=!0,l()),"truskinRendered"===e.data&&(r=!0,l())}),!1),y.a.on("window:throttledResize",c),t&&y.a.on("window:throttledScroll",l)}())}))},un="".concat(window.location.protocol,"//").concat(window.location.host),dn=function(e){var t=we(e.slot.getSlotElementId());if(t){var n=t.node.getElementsByTagName("iframe")[0];n?jt({id:n.id,host:un},n.contentWindow):console.log("No iFrame found for slot",t.id,t.slot)}},ln=n(265),fn=n(254),mn=!(!document.documentElement||!document.documentElement.classList.contains("has-no-sticky")),gn=function e(t,n,o){K.contains(o)&&(Dt("resize",e),X.updatePosition())},pn=function(e){var t=e.dataset.name;return"comments"===t||"right"===t},hn=function(e){pn(e)&&(K=e);var t=document.querySelector(".js-comments");t&&e&&s.a.measure((function(){return t.offsetHeight-600})).then((function(t){return s.a.mutate((function(){e.parentNode.style.height="".concat(t,"px")}))})).then((function(){mn&&((X=new fn.a(e)).init(),Bt("resize",gn)),y.a.emit("page:commercial:sticky-comments-mpu")}))};hn.whenRendered=new Promise((function(e){y.a.on("page:commercial:sticky-comments-mpu",e)}));var bn=function(e){pn(e)&&(K=e);var t=document.querySelector(['.js-article__body:not([style*="display: none;"])','.js-liveblog-body-content:not([style*="display: none;"])'].join(", ")),n=o.a.get("page.isLiveBlog")?600:300;t&&e&&!o.a.get("page.hasShowcaseMainElement")&&s.a.measure((function(){return t.offsetTop+n})).then((function(t){return s.a.mutate((function(){e.parentNode.style.height="".concat(t,"px")}))})).then((function(){if(mn){var t=o.a.get("page.isPaidContent")?{top:43}:{};(X=new fn.a(e,t)).init(),Bt("resize",gn)}y.a.emit("page:commercial:sticky-mpu")}))};bn.whenRendered=new Promise((function(e){y.a.on("page:commercial:sticky-mpu",e)}));var vn=function(e){return function(t){return function(n,i){return t.some((function(e){return i.node.classList.contains(e)}))?s.a.mutate((function(){e.forEach((function(e){i.node.classList.add(e)})),o.a.get("isDotcomRendering",!1)&&e.includes("ad-slot--fluid")&&(i.node.style.minHeight="250px",i.node.style.lineHeight="10px",i.node.style.padding="0",i.node.style.margin="0",e.includes("ad-slot--im")||e.includes("ad-slot--carrot")||e.includes("ad-slot--offset-right")||(i.node.style.width="100%"))})):Promise.resolve()}}},wn=vn(["ad-slot--fluid250"]),yn=vn(["ad-slot--fluid"]),jn={};jn[f.fluid.toString()]=function(e,t){return yn(["ad-slot"])(e,t).then((function(){return function(e,t){var n=e.node.querySelector("iframe");s.a.mutate((function(){n&&n.style.removeProperty("vertical-align")}))}(t)}))},jn[f.mpu.toString()]=function(e,t){return s.a.measure((function(){t.node.classList.contains("js-sticky-mpu")&&(t.node.classList.contains("ad-slot--right")&&bn(t.node),t.node.classList.contains("ad-slot--comments")&&hn(t.node)),s.a.mutate((function(){return t.updateExtraSlotClasses()}))}))},jn[f.halfPage.toString()]=function(e,t){return s.a.measure((function(){t.node.classList.contains("ad-slot--right")&&bn(t.node),t.node.classList.contains("ad-slot--comments")&&hn(t.node),s.a.mutate((function(){return t.updateExtraSlotClasses()}))}))},jn[f.skyscraper.toString()]=function(e,t){return s.a.measure((function(){t.node.classList.contains("ad-slot--right")&&bn(t.node),t.node.classList.contains("ad-slot--comments")&&hn(t.node),s.a.mutate((function(){return t.updateExtraSlotClasses("ad-slot--sky")}))}))},jn[f.video.toString()]=function(e,t){return s.a.mutate((function(){t.updateExtraSlotClasses("u-h")}))},jn[f.outstreamDesktop.toString()]=function(e,t){return s.a.mutate((function(){t.updateExtraSlotClasses("ad-slot--outstream")}))},jn[f.outstreamGoogleDesktop.toString()]=function(e,t){return s.a.mutate((function(){t.updateExtraSlotClasses("ad-slot--outstream")}))},jn[f.outstreamMobile.toString()]=function(e,t){return s.a.mutate((function(){t.updateExtraSlotClasses("ad-slot--outstream")}))},jn[f.googleCard.toString()]=function(e,t){return s.a.mutate((function(){t.updateExtraSlotClasses("ad-slot--gc")}))};var On=function(e,t){if(!e.slot.getOutOfPage()){var n=t.node.parentNode;return s.a.mutate((function(){t.node.classList.add("u-h"),n.classList.contains("fc-slice__item--mpu-candidate")&&n.classList.add("fc-slice__item--no-mpu")}))}return Promise.resolve()};jn[f.outOfPage.toString()]=On,jn[f.empty.toString()]=On,jn[f.portrait.toString()]=function(){return ln.a.whenRendered.then((function(e){return s.a.mutate((function(){(null==e?void 0:e.elem)&&(e.elem.remove(),e.elem=null)}))}))},jn[f.merchandising.toString()]=wn(["ad-slot--commercial-component"]);var An=function(e,t){var n,o;return n=e.node,(o=Object(w.a)("#".concat(n.id," > div:not(.ad-slot__label)"),n).get()).length&&s.a.mutate((function(){o[0].classList.add("ad-slot__content")})),function(e){return function(e){return new Promise((function(t,n){var o=e.querySelector('iframe:not([id*="__hidden__"])');o?o.readyState&&"complete"!==o.readyState?o.addEventListener("readystatechange",(function e(n){var i=n.srcElement;i&&"complete"===i.readyState&&(i.removeEventListener("readystatechange",e),t(o))})):t(o):n()}))}(e).then((function(){return Promise.resolve(!0)}))}(e.node).then((function(n){return function(){if(e.size){var n=e.size.toString();return"0,0"===n&&(n="fluid"),e.hasPrebidSize=!1,Promise.resolve(jn[n]?jn[n](t,e):s.a.mutate((function(){e.updateExtraSlotClasses()})))}return Promise.resolve(null)}().then((function(){return t=e.node,n=!0,o=function(e){return!(e.classList.contains("ad-slot--fluid")||e.classList.contains("ad-slot--frame")||e.classList.contains("ad-slot--gc")||e.classList.contains("u-h")||"false"===e.getAttribute("data-label")||e.getElementsByClassName("ad-slot__label").length)}(t),s.a.measure((function(){if("dfp-ad--top-above-nav"===t.id){var e=document.querySelector(".ad-slot__label.ad-slot__label--toggle");if(e){if(n=!1,!o)return s.a.mutate((function(){e.style.display="none"}));var i=t.offsetWidth;if(e.offsetWidth!==i)return s.a.mutate((function(){e.style.width="".concat(i,"px"),e.classList.remove("hidden"),e.classList.add("visible")}))}}return n&&o?s.a.mutate((function(){t.prepend(function(){var e,t=document.createElement("div");return t.className="ad-slot__label",t.innerHTML="Advertisement",t.appendChild(((e=document.createElement("button")).className="ad-slot__close-button",e.innerHTML=It.a.markup,e.onclick=function(){var t=e.closest(".mobilesticky-container");t&&t.remove()},e)),t}())})):Promise.resolve()}));var t,n,o})).then((function(){return n?s.a.mutate((function(){e.node.classList.add("ad-slot--rendered")})):Promise.resolve()})).then((function(){return n}))})).catch((function(e){return Object(r.a)(e,{feature:"commercial"},!1),Promise.resolve(!1)}))},Cn=Object(R.a)((function(){Object(L.c)("Commercial: First Ad Rendered")})),En=[f.outstreamDesktop.toString(),f.outstreamMobile.toString(),f.outstreamGoogleDesktop.toString()],Pn=function(e){Cn();var t=we(e.slot.getSlotElementId());if(t){var n=function(n){t.stopRendering(n),y.a.emit("modules:commercial:dfp:rendered",e)};if(t.stopLoading(!0),t.startRendering(),t.isEmpty=e.isEmpty,e.isEmpty)(function(e){an.a.mutate((function(){window.googletag.destroySlots([e.slot]),e.node.remove(),function(e){var t=function(t){return t.filter((function(t){return t!==e}))};P.adverts=t(P.adverts),P.advertsToRefresh=t(P.advertsToRefresh),P.advertsToLoad=t(P.advertsToLoad),P.advertIds={},P.adverts.forEach((function(e,t){P.advertIds[e.id]=t}))}(e)}))})(t),function(e,t){if(Math.random()<1e-4){var n=t.slot.getAdUnitPath(),o=t.slot.getTargetingKeys().includes("k")?t.slot.getTargeting("k"):[],i=o?o.join(", "):"";Object(r.a)(new Error("dfp returned an empty ad response"),{feature:"commercial",adUnit:n,adSlot:e,adKeywords:i},!1)}}(t.id,e),n(!1);else{t.hasPrebidSize||(t.size=e.size),void 0!==e.creativeId&&P.creativeIDs.push(e.creativeId);var i=t.size&&t.size.toString(),a="0,0"!==i,c=En.includes(i),s=e.lineItemId&&o.a.get("page.dfpNonRefreshableLineItemIds",[]).includes(e.lineItemId);t.shouldRefresh=a&&!c&&!o.a.get("page.hasPageSkin")&&!s,An(t,e).then(n)}}},kn=function(e){var t=we(e.slot.getSlotElementId());if(t&&t.shouldRefresh){var n=function e(){document.hidden||(document.removeEventListener("visibilitychange",e),xe(t))};setTimeout((function(){t.shouldRefresh&&(document.hidden?document.addEventListener("visibilitychange",n):xe(t))}),3e4)}},Sn=function(e){if(pt.a.session.isAvailable()){var t=we(e.slot.getSlotElementId());if(t&&t.maxViewPercentage<e.inViewPercentage){if(t.maxViewPercentage<=90&&e.inViewPercentage>90){var n=pt.a.session.get("gu.commercial.slotVisibility")||0;pt.a.session.set("gu.commercial.slotVisibility",n+1)}t.maxViewPercentage=e.inViewPercentage}}},Bn=Object(C.g)(!0),Dn=C.b.map((function(e){return e.name})),Ln=function(e,t){var n=function(e,t){var n=Dn.slice(0,Dn.indexOf(e)+1).map(I);return Math.max.apply(Math,_()(t.map((function(e){return n.lastIndexOf(e)}))))};P.advertsToRefresh.filter((function(o){var i=Object.keys(o.sizes),r=n(e,i),a=n(t,i);return-1!==r&&r!==a})).forEach(Ie)},Fn=function(){Bn(Ln)},In=function(){y.a.on("window:throttledResize",Fn)};!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return e(Bt)}))}((function(e){e("type",(function(e,t,n){return o=e,i=n&&n.closest(".js-ad-slot"),s.a.mutate((function(){i.classList.add("ad-slot--".concat(o||""))}));var o,i}))}),(function(e){e("get-styles",(function(e){if(e)return function(e,t){if(!e||"string"!=typeof e.selector)return null;for(var n=[],o=0;o<t.length;o+=1){var i=t[o],r=i.ownerNode;r&&r.matches&&r.matches(e.selector)&&("STYLE"===r.tagName?n.push(r.textContent):n.push(Array.prototype.reduce.call(i.cssRules||[],(function(e,t){return e+t.cssText}),"")))}return n}(e,document.styleSheets)}))}),(function(e){e("get-page-targeting",(function(){return o.a.get("page.sharedAdTargeting")}))}),(function(e){e("get-page-url",(function(){return window.location.origin+window.location.pathname}))}),(function(e){e("measure-ad-load",(function(e){ht.trigger("adOnPage",e.slotId)}))}),(function(e){e("resize",(function(e,t,n){if(n&&e){var o=n&&n.closest(".js-ad-slot");!function(e){s.a.mutate((function(){e&&e.classList.remove("ad-slot--outstream")}))}(o);var i=n&&n.closest(".ad-slot__content");return function(e,t,n,o){if(!(e&&("height"in e||"width"in e)&&t&&o))return null;var i={};return e.width&&!function(e){return!!e&&e.classList.contains("ad-slot--liveblog-inline")}(o)&&(i.width=xt(e.width)),e.height&&(i.height=xt(e.height)),s.a.mutate((function(){Object.assign(t.style,i),n&&Object.assign(n.style,i)}))}(e,n,i,o)}}))}),(function(e){e("hide",(function(e,t,n){if(n){var o=n.closest(".js-ad-slot");if(o)return i=o,s.a.mutate((function(){return i.classList.add("u-h")}))}var i}))}),(function(e){e("scroll",Yt,{persist:!0})}),(function(e){e("viewport",nn,{persist:!0})}),(function(e){e("click",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Rt(n.closest(".js-ad-slot")||{id:"unknown"},e||"")}))}),(function(e){e("background",(function(e,t,n){return n&&e?Tt(e,n.closest(".js-ad-slot")):Promise.resolve()}))}),(function(e){e("disable-refresh",(function(e,t,n){if(n){var o=n.closest(".js-ad-slot");if(o instanceof HTMLElement){var i=function(e){return P.adverts.find((function(t){return t.node.isSameNode(e)}))}(o);i&&(i.shouldRefresh=!1)}}}))}));var Tn,_n,Rn,xn,Mn,zn,Nn,qn,Hn,Un=function(){var e,t=null===(e=window.googletag)||void 0===e?void 0:e.pubads();if(t&&(t.addEventListener("slotRenderEnded",bt.a.wrap(Pn)),t.addEventListener("slotOnload",bt.a.wrap(dn)),t.addEventListener("impressionViewable","false"!==Object(a.d)().adrefresh?kn:function(){}),t.addEventListener("slotVisibilityChanged",Sn),pt.a.session.isAvailable())){var n=pt.a.session.get("gu.commercial.pageViews")||0;pt.a.session.set("gu.commercial.pageViews",n+1)}},Vn=function(){var e,t=null===(e=window.googletag)||void 0===e?void 0:e.pubads();if(t){var n=Object(q.c)();Object.keys(n).forEach((function(e){t.setTargeting(e,n[e])}))}},Wn=function(){Object(vt.f)((function(e){var t;(null==e?void 0:e.privateFields.googleTagId)&&(null===(t=window.googletag)||void 0===t||t.pubads().setPublisherProvidedId(e.privateFields.googleTagId))}))},Gn=function(){var e;return h.a.dfpAdvertising?((null===(e=window.googletag)||void 0===e||e.cmd.push(Un,Vn,In,(function(){sn()})),Object(gt.c)((function(e){var t=!0;if(e.ccpa){var n,i,r=e.ccpa.doNotSell;null===(n=window.googletag)||void 0===n||n.cmd.push((function(){var e;null===(e=window.googletag)||void 0===e||e.pubads().setPrivacySettings({restrictDataProcessing:r})})),e.ccpa.doNotSell||null===(i=window.googletag)||void 0===i||i.cmd.push(Wn)}else{var a,c,s=!1;e.tcfv2?(s=0===Object.keys(e.tcfv2.consents).length||Object.values(e.tcfv2.consents).includes(!1),t=Object(gt.b)("googletag",e)):e.aus&&(s=!Object(gt.b)("googletag",e)),null===(a=window.googletag)||void 0===a||a.cmd.push((function(){var e;null===(e=window.googletag)||void 0===e||e.pubads().setRequestNonPersonalizedAds(s?1:0)})),s||null===(c=window.googletag)||void 0===c||c.cmd.push(Wn)}t&&Object(ft.a)(o.a.get("libs.googletag","//www.googletagservices.com/tag/js/gpt.js"),{async:!1})})),Promise.resolve()).then(lt).catch(at),Promise.resolve()):at()},Jn=function(e){return""===e||null==e||Array.isArray(e)&&0===e.length||"object"===yt()(e)&&0===Object.keys(e).length},Yn=function e(t){return Object.keys(t).forEach((function(n){"object"===yt()(t[n])&&null!==t[n]&&e(t[n]),Jn(t[n])&&delete t[n]})),t},$n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:{},user:{}},t=e.page,n=e.user,o=t.isPaidContent,i=t.pageId,r=t.headline,a=t.contentType,c=t.section,s=t.author,u=t.keywords,d=t.webPublicationDate,l=t.series,f=t.edition,m=t.toneIds,g=(s&&"string"==typeof s?s.split(","):[]).map((function(e){return e.trim()})),p=(u&&"string"==typeof u?u.split(","):[]).map((function(e){return e.trim()})),h=d&&"number"==typeof d?new Date(d).toISOString():"",b=(m&&"string"==typeof m?m.split(","):[]).map((function(e){return e.trim()}));return Yn({content:{premium:o,id:i,title:r,type:a,section:c,authors:g,keywords:p,publishedAt:h,series:l,tone:b},user:{edition:f,identity:!Jn(n)&&!Jn(n.id)}})},Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"object"===yt()(e.ophan)&&"string"==typeof e.ophan.browserId&&e.ophan.browserId.length>0?[{tag:"ophan",id:e.ophan.browserId}]:[]},Kn=!1,Zn=Object(R.a)((function(){if(h.a.isSecureContact)return Promise.resolve();var e=Promise.resolve();return(U.m||P.hbImpl.a9&&h.a.dfpAdvertising&&!h.a.adFree&&!o.a.get("page.hasPageSkin")&&!Object(C.m)())&&(e=n.e(46).then(n.t.bind(null,388,7)).then((function(){return ke||(ke=!0,window.apstag.init({pubID:o.a.get("page.a9PublisherId"),adServer:"googletag",bidTimeout:1500})),Promise.resolve()}))),e})),Qn=0,eo=function(e,t){var n,o=!!t;return{bodySelector:".js-liveblog-body",slotSelector:" > .block",fromBottom:o,startAt:o?_n:null,absoluteMinAbove:o?0:1.5*Tn,minAbove:0,minBelow:0,clearContentMeta:0,selectors:{},filter:function(t){return n?Math.abs(t.top-n.top)>2*e&&(n=t,!0):(n=t,!o)}}},to=function(e){for(var t="mobile"===Object(C.c)(),n=function(n){var o=function(e,t){return e&&0===t?"top-above-nav":"inline".concat(e?t:t+1)}(t,Qn),i=p("inline",{name:o,classes:"liveblog-inline"});i.forEach((function(t){e[n]&&e[n].parentNode&&e[n].parentNode.insertBefore(t,e[n].nextSibling)})),e[n]&&e[n].parentNode&&(Me(i[0],!1),Qn+=1)},o=0;o<e.length&&Qn<8;o+=1)n(o)},no=function(e){return E.a.fillSpace(e,to).then((function(t){if(t&&Qn<8){var n=document.querySelector("".concat(e.bodySelector," > .ad-slot"));_n=n&&n.previousSibling instanceof HTMLElement?n.previousSibling:null,y.a.on("modules:autoupdate:updates",oo)}else _n=null}))},oo=function(){y.a.off("modules:autoupdate:updates",oo),Promise.resolve(eo(Tn,!0)).then(no)},io="dfp-ad--top-above-nav",ro=!1,ao=function(e){return zn===e?Promise.resolve(-1):s.a.mutate((function(){if(qn&&Rn){var t="".concat(e,"px");qn.classList.add("sticky-top-banner-ad"),qn.style.height=t,Rn.style.marginTop=t}return void 0!==zn&&xn<=Hn&&window.scrollBy(0,e-zn),zn=e,e}))},co=function(){return s.a.mutate((function(){qn&&Rn&&(Hn<=xn?(Rn.classList.add("l-header--animate"),qn.classList.add("sticky-top-banner-ad--animate")):(Rn.classList.remove("l-header--animate"),qn.classList.remove("sticky-top-banner-ad--animate")))}))},so=function(){return Hn=window.pageYOffset,ro?Promise.resolve():(ro=!0,s.a.mutate((function(){ro=!1,qn&&(xn<Hn?(qn.style.position="absolute",qn.style.top="".concat(xn,"px")):(qn.style.position="",qn.style.top=""))})).then(co))},uo=function(e){return s.a.measure((function(){return Nn=Nn||window.getComputedStyle(Mn),e+parseInt(Nn.paddingTop,10)+parseInt(Nn.paddingBottom,10)})).then(ao)},lo=function e(t,n,o){Mn&&Mn.contains(o)&&(uo(t.height),Dt("resize",e))},fo=function(){Bt("resize",lo),Object(Lt.a)(window,"scroll",so,{passive:!0})},mo=function(e,t){if(e&&e.size&&"string"!=typeof e.size)return e.size[t]},go=function(){po.whenFirstRendered=qe(io).then((function(e){if(e){var t=we(io),n=mo(t,0),o=mo(t,1);return 88!==n&&o&&o>0?s.a.measure((function(){var e=window.getComputedStyle(Mn);return parseInt(e.paddingTop,10)+parseInt(e.paddingBottom,10)+o||0})).then(ao):s.a.measure((function(){return Mn&&Mn.getBoundingClientRect().height||0})).then(ao)}}))},po={update:uo,resizeStickyBanner:ao,onScroll:so,whenFirstRendered:null},ho={books:"P5033A084-E9BF-453A-91D3-C558751D9A85",business:"P5B109609-6223-45BA-B052-55F34A79D7AD",commentisfree:"PA878EFC7-93C8-4352-905E-9E03883FD6BD",artanddesign:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",culture:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",stage:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",education:"P4A01DB74-5B97-435A-89F0-C07EA2C739EC",environment:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",cities:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","global-development":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","sustainable-business":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",fashion:"PCF345621-F34D-40B2-852C-6223C9C8F1E2",film:"P878ECFA5-14A7-4038-9924-3696C93706FC",law:"P1FA129DD-9B9E-49BB-98A4-AA7ED8523DFD",lifeandstyle:"PCFE04250-E5F6-48C7-91DB-5CED6854818C",media:"P1434DC6D-6585-4932-AE17-2864CD0AAE99",money:"PB71E7F1E-F231-4F73-9CC8-BE8822ADD0C2",music:"P78382DEE-CC9B-4B36-BD27-809007BFF300",international:"P505182AA-1D71-49D8-8287-AA222CD05424",au:"P505182AA-1D71-49D8-8287-AA222CD05424","australia-news":"P505182AA-1D71-49D8-8287-AA222CD05424",uk:"P505182AA-1D71-49D8-8287-AA222CD05424","uk-news":"P505182AA-1D71-49D8-8287-AA222CD05424",us:"P505182AA-1D71-49D8-8287-AA222CD05424","us-news":"P505182AA-1D71-49D8-8287-AA222CD05424",world:"P505182AA-1D71-49D8-8287-AA222CD05424",politics:"P5B7468E3-CE04-40FD-9444-22FB872FE83E",careers:"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","culture-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","global-development-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","government-computing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","guardian-professional":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","healthcare-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","higher-education-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","housing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-government-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","public-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","small-business-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","social-care-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","teacher-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","voluntary-sector-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","women-in-leadership":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA",science:"PDAD6BC22-C97B-4151-956B-7F069B2C56E9",society:"P7AF4A592-96FB-4255-B33F-352406F4C7D2",sport:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",football:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",technology:"P29EF991A-3FEE-4215-9F03-58EACA8286B9",travel:"PD1CEDC3E-2653-4CB6-A4FD-8A315DE07548","tv-and-radio":"P66E48909-8FC9-49E8-A7E6-0D31C61805AD","brand-only":"P0EE0F4F4-8D7C-4082-A2A4-82C84728DC59"},bo={shouldRun:o.a.get("switches.imrWorldwide")&&Object(H.a)(),url:"//secure-dcr.imrworldwide.com/novms/js/2/ggcmb510.js",onLoad:function(){var e=o.a.get("page.section","").toLowerCase(),t=e in ho?e:"The Guardian - brand only",n={sfcode:"dcr",apid:ho[e]||ho["brand-only"],apn:"theguardian"},i=window.NOLCMB.getInstance(n.apid);i.ggInitialize(n);var r={type:"static",assetid:o.a.get("page.pageId"),section:t};i.ggPM("staticstart",r)}},vo={shouldRun:o.a.get("switches.imrWorldwide")&&Object(H.a)(),url:"//secure-au.imrworldwide.com/v60.js",onLoad:function(){window.nol_t({cid:"au-guardian",content:"0",server:"secure-gl"}).record().post()}},wo=function(e){var t=document.scripts[0],n=document.createDocumentFragment(),o=!1;e.forEach((function(e){if(!0!==e.loaded){if(e.beforeLoad&&e.beforeLoad(),!0===e.useImage&&void 0!==e.url)(new Image).src=e.url;else if(e.insertSnippet)e.insertSnippet();else{o=!0;var t=document.createElement("script");void 0!==e.url&&(t.src=e.url),t.onload=e.onLoad,!0===e.async&&t.setAttribute("async",""),e.attrs&&e.attrs.forEach((function(e){t.setAttribute(e.name,e.value)})),n.appendChild(t)}e.loaded=!0}})),o&&s.a.mutate((function(){t&&t.parentNode&&t.parentNode.insertBefore(n,t)}))},yo=function(){!function(e,t){wo(t),Object(gt.c)((function(t){var n=e.filter((function(e){return Object(gt.b)(e.name,t)}));n.length>0&&wo(n)}))}([Object(ye.f)({shouldRun:o.a.get("switches.remarketing",!1)}),Object(ye.e)({shouldRun:o.a.get("switches.permutive",!1)}),Object(ye.c)({shouldRun:o.a.get("switches.iasAdTargeting",!1)}),Object(ye.d)({shouldRun:o.a.get("switches.inizio",!1)}),Object(ye.b)({shouldRun:o.a.get("switches.facebookTrackingPixel",!1)}),Object(ye.g)({shouldRun:o.a.get("switches.twitterUwt",!1)})].filter((function(e){return e.shouldRun})),[bo,vo].filter((function(e){return e.shouldRun})))},jo=!1,Oo=function(e){jo||(window._comscore=window._comscore||[],window._comscore.push(function(e,t){var n={c1:"2",c2:"6035250",cs_ucfr:e?"1":"0"};return"Network Front"!==t&&(n.comscorekw=t),n}(!!e,o.a.get("page.keywords",""))),Object(ft.a)("//sb.scorecardresearch.com/cs/6035250/beacon.js",{id:"comscore",async:!0}),jo=!0)},Ao=n(207),Co=function(e){var t=e.currentTarget,n=t.parentElement,o=Object(w.a)(".js-button__label",t).get(0),i=t.getAttribute("data-text");(null==n?void 0:n.hasAttribute("open"))?an.a.mutate((function(){o.textContent="More ".concat(null!=i?i:"")})):an.a.mutate((function(){o.textContent="Less"}))},Eo=n(26),Po=function(e,t,n){var i=function(e){var t=e?{desktop:[f.halfPage,f.skyscraper]}:{},n=p("comments",{sizes:t});return n.forEach((function(e){e.classList.add("js-sticky-mpu")})),n}(n);return s.a.mutate((function(){return e.addClass("discussion__ad-wrapper"),o.a.get("page.isLiveBlog")||o.a.get("page.isMinuteArticle")||e.addClass("discussion__ad-wrapper-wider"),i.forEach((function(e){t.append(e)})),i[0]})).then((function(e){Me(e,!1),Promise.resolve(y.a.emit("page:commercial:comments"))}))},ko=function(e,t){var n=Object(Eo.a)(".js-ad-slot",t),o=we("dfp-ad--comments");o&&n.length&&Ie(function(e,t){return function(e){return e.sizes.desktop.some(function(e){return 300===e[0]&&600===e[1]}||function(e){return 160===e[0]&&600===e[1]})}(e)||(e.sizes.desktop.push([300,600],[160,600]),e.slot.defineSizeMapping([[[0,0],e.sizes.desktop]]),s.a.mutate((function(){t[0].setAttribute("data-desktop","1,1|2,2|300,250|300,274|fluid|300,600|160,600")}))),e}(o,n)),o||Po(e,t,!0)},So=n(266),Bo=n(52),Do=n(267),Lo="".concat(Object(So.c)(),"?acquisitionData=%7B%22componentType%22%3A%22ACQUISITIONS_OTHER%22%2C%22source%22%3A%22GUARDIAN_WEB%22%2C%22campaignCode%22%3A%22shady_pie_open_2019%22%2C%22componentId%22%3A%22shady_pie_open_2019%22%7D&INTCMP=shady_pie_open_2019"),Fo='\n<div class="contributions__adblock">\n    <a href="'.concat(Lo,'">\n        <img src="https://uploads.guim.co.uk/2020/10/02/Digisubs_MPU_c1_my_opt.png" width="300" alt="" />\n    </a>\n</div>\n'),Io=[["cm-setAdTestCookie",function(){var e=Object(a.d)();return"clear"===e.adtest?Object(c.e)("adtest"):e.adtest&&Object(c.a)("adtest",encodeURIComponent(e.adtest),10),Promise.resolve()}],["cm-adFreeSlotRemove",lt],["cm-closeDisabledSlots",ct],["cm-comscore",function(){return h.a.comscore&&Object(gt.c)((function(e){var t=e.tcfv2&&Object(gt.b)("comscore",e),n=!!e.aus,o=!!e.ccpa&&!e.ccpa.doNotSell;(t||n||o)&&Oo(!0)})),Promise.resolve()}],["cm-ipsosmori",function(){return Object(Ao.a)().then((function(e){"GB"===e&&Object(gt.c)((function(e){if(Object(gt.b)("ipsos",e))return function(){window.dm=window.dm||{AjaxData:[]},window.dm.AjaxEvent=function(e,t,n,o){dm.AjaxData.push({et:e,d:t,ssid:n,ad:o}),window.DotMetricsObj&&DotMetricsObj.onAjaxDataUpdate()};var e="https://uk-script.dotmetrics.net/door.js?d=".concat(document.location.host,"&t=").concat(o.a.get("page.ipsosTag"));return Object(ft.a)(e,{id:"ipsos",async:!0,type:"text/javascript"})}()}))})),Promise.resolve()}]];h.a.adFree||Io.push(["cm-prepare-prebid",function(){return cn(),Promise.resolve()}],["cm-prepare-a9",function(){return Object(gt.c)((function(e){Object(gt.b)("a9",e)&&Zn()})),Promise.resolve()}],["cm-thirdPartyTags",function(){return h.a.thirdPartyTags?(yo(),Promise.resolve(!0)):Promise.resolve(!1)}],["cm-prepare-googletag",function(){return new Promise((function(e){return function(e,t,n,o,i){if(!t){t=t||{},window.permutive=t,t.q=[],t.config={}||{},t.config.projectId="d6691a17-6fdb-4d26-85d6-b3dd27f55f08",t.config.apiKey="359ba275-5edd-4756-84f8-21a24369ce0b",t.config.environment=t.config.environment||"production";for(var r=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],a=0;a<r.length;a++){var c=r[a];t[c]=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);t.q.push({functionName:e,arguments:n})}}(c)}}}(document,window.permutive),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){if(0===window.googletag.pubads().getTargeting("permutive").length){var e=window.localStorage.getItem("_pdfps");window.googletag.pubads().setTargeting("permutive",e?JSON.parse(e):[])}})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;try{if(!t||!t.addon)throw new Error("Global Permutive setup error");var o=Xn(e);o.length>0&&t.identify(o);var i=$n(e);t.addon("web",{page:i})}catch(e){n(e,{feature:"commercial"},!1)}}({user:o.a.get("user",{}),page:o.a.get("page",{}),ophan:o.a.get("ophan",{})},window.permutive,r.a),e()})).then(Gn)}],["cm-redplanet",function(){return h.a.launchpad&&Object(H.a)()?(Object(gt.c)((function(e){if(!e.aus)throw new Error("Error running Redplanet without AUS consent. It should only run in Australia on AUS mode");var t=Object(gt.b)("redplanet",e);if(!Kn&&t)return Kn=!0,n.e(47).then(n.t.bind(null,387,7)).then((function(){return window.launchpad("newTracker","launchpad","lpx.qantas.com",{discoverRootDomain:!0,appId:"the-guardian"}),window.launchpad("trackUnstructEvent",{schema:"iglu:com.qantas.launchpad/hierarchy/jsonschema/1-0-0",data:{u1:"theguardian.com",u2:o.a.get("page.section"),u3:o.a.get("page.sectionName"),u4:o.a.get("page.contentType"),uid:o.a.get("ophan",{}).browserId}}),Promise.resolve()}))})),Promise.resolve()):Promise.resolve()}],["cm-prepare-adverification",function(){return o.a.get("switches.confiantAdVerification")?Object(ft.a)("//".concat("confiant-integrations.global.ssl.fastly.net","/7oDgiTsq88US4rrBG0_Nxpafkrg/gpt_and_prebid/config.js"),{async:!0}).catch(mt):Promise.resolve()}],["cm-mobileSticky",function(){if(Object(U.l)()){var e=o.a.get("isDotcomRendering",!1)?function(){var e=document.querySelector(".mobilesticky-container");if(e){var t=p("mobile-sticky",{})[0];e.appendChild(t)}return e}():function(){var e=document.createElement("div");e.className="mobilesticky-container";var t=p("mobile-sticky",{})[0];return e.appendChild(t),e}();return s.a.mutate((function(){document.body&&e&&document.body.appendChild(e)})).then((function(){if(e){var t=e.querySelector("#dfp-ad--mobile-sticky");t&&Me(t,!0)}}))}return Promise.resolve()}],["cm-highMerch",function(){if(h.a.highMerch){var e=o.a.get("page.commentable")?"#comments + *":".content-footer > :first-child",t=document.querySelector(e),n=document.createElement("div");return n.className="fc-container fc-container--commercial",p(o.a.get("page.isPaidContent")?"high-merch-paid":"high-merch").forEach((function(e){n.appendChild(e)})),s.a.mutate((function(){t&&t.parentNode&&t.parentNode.insertBefore(n,t)}))}return Promise.resolve()}],["cm-articleAsideAdverts",function(){var e=Object(w.a)(".js-secondary-column");if(!e.get().length||"none"===e.get(0).style.display)return Promise.resolve(!1);var t=Object(w.a)(".js-content-main-column"),n=Object(w.a)(".js-ad-slot",e.get(0)),o=Object(w.a)(".element--immersive",t.get(0)),i=n.get(),r=o.get();return i.length&&t.get().length?s.a.measure((function(){var e=A(r[0]),n=A(t.get(0));return[t.get(0).offsetHeight,e-n]})).then((function(e){var t=v()(e,2),n=t[0],o=t[1];return j.get("page.hasShowcaseMainElement",!1)?i[0]:j.get("page.isImmersive")&&r.length>0?s.a.mutate((function(){var e;return O(i),i[0].setAttribute("data-mobile",(e=o)>600?"1,1|2,2|300,250|300,274|300,600|fluid":e>274?"1,1|2,2|300,250|300,274":e>250?"1,1|2,2|300,250":"1,1|2,2"),i[0]})):n<1300?s.a.mutate((function(){return O(i),i[0].setAttribute("data-mobile","1,1|2,2|300,250|300,274|fluid"),i[0]})):i[0]})).then((function(e){return y.a.emit("page:defaultcommercial:right",e),!0})):Promise.resolve(!1)}],["cm-articleBodyAdverts",function(){return y.a.on("page:article:redisplayed",tt),document.addEventListener("dcr:page:article:redisplayed",tt),tt()}],["cm-liveblogAdverts",function(){return h.a.liveblogAdverts?(s.a.measure((function(){return Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.documentElement&&e.documentElement.clientHeight?e.documentElement.clientHeight:0}()})).then(eo).then(no),Promise.resolve()):Promise.resolve()}],["cm-stickyTopBanner",function(){return h.a.stickyTopBannerAd?(Mn=document.getElementById(io))&&Object(C.l)({min:"desktop"})?(Rn=document.getElementById("header"),qn=Mn.parentNode,s.a.measure((function(){return Rn&&(xn=Rn.getBoundingClientRect().height),Mn&&Mn.getBoundingClientRect().height||0})).then((function(e){return Promise.all([ao(e),so()])})).then(fo).then(go)):(Mn=null,Promise.resolve()):Promise.resolve()}],["cm-paidContainers",function(){var e=Object(w.a)(".dumathoin-more > summary").get();return e.forEach((function(e){return e.addEventListener("click",Co)})),e.forEach((function(e){return e.addEventListener("keydown",(function(e){return(t=Co,function(e){"Enter"!==e.code&&"Space"!==e.code||t(e)})(e);var t}))})),Promise.resolve()}],["cm-paidforBand",function(){if(!h.a.paidforBand)return Promise.resolve(!1);var e=document.querySelector(".paidfor-band");return e&&new fn.a(e).init(),Promise.resolve(!0)}],["cm-commentAdverts",function(){var e=Object(Eo.a)(".js-discussion__ad-slot"),t="mobile"===Object(C.c)();return h.a.commentAdverts&&e.length&&!t?(y.a.once("modules:comments:renderComments:rendered",(function(){var t=Object(vt.j)(),n=Object(Eo.a)(".js-comments .content__main-column");s.a.measure((function(){return n.dim().height})).then((function(o){o>=800||t&&o>=600?Po(n,e,!0):t&&Po(n,e,!1),y.a.on("discussion:comments:get-more-replies",(function(){ko(n,e)}))}))})),Promise.resolve(!0)):Promise.resolve(!1)}],["rr-adblock-ask",function(){Object(Bo.m)()||Object(Do.b)()||o.a.get("page.hasShowcaseMainElement")||s.a.measure((function(){return Object(Eo.a)(".js-aside-slot-container")})).then((function(e){e&&s.a.mutate((function(){e.append(Fo)}))}))}]);var To=function(){var e=[];return Io.forEach((function(t){var n=t[0],o=t[1];Object(i.b)([[n,function(){var t=o();e.push(t)}]],{feature:"commercial"})})),Promise.all(e)},_o=function(){return ye.a.init(),Object(i.b)([["ga-user-timing-commercial-start",function(){ye.a.get().trigger("commercialStart")}]],{feature:"commercial"}),window.googletag={cmd:[]},(o.a.get("page.isHosted")?new Promise((function(e){Promise.all([n.e(4),n.e(14)]).then(function(t){var o=n(383),i=n(404),r=n(384),a=n(324),c=n(385);Io.push(["cm-hostedAbout",o.init],["cm-hostedVideo",i.initHostedVideo],["cm-hostedGallery",r.init],["cm-hostedOnward",c.loadOnwardComponent],["cm-hostedOJCarousel",a.initHostedCarousel]),e()}.bind(null,n)).catch(n.oe)})):Promise.resolve()).then(To).then((function(){Object(i.b)([["ga-user-timing-commercial-end",function(){ye.a.get().trigger("commercialEnd")}]],{feature:"commercial"})})).catch((function(e){Object(r.a)(e,{feature:"commercial"},!1)}))}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(10),i=n.n(o),r=n(1),a=n(8),c=n(52),s=n(17),u=n(70),d=new function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a;i()(this,e);var n=/[#&]noads(&.*)?$/.test(window.location.hash),o=/[#&]noadsaf(&.*)?$/.test(window.location.hash),d=/[?&]forceads(&.*)?$/.test(window.location.search),l=!n&&!u.a.isOff("adverts"),f=t.get("page.shouldHideAdverts")||"childrens-books-site"===t.get("page.section"),m=t.get("page.isMinuteArticle"),g="Article"===t.get("page.contentType"),p="Interactive"===t.get("page.contentType"),h=t.get("page.isLiveBlog"),b=t.get("page.isHosted"),v="Identity"===t.get("page.contentType")||"identity"===t.get("page.section"),w=t.get("switches"),y="wide"===Object(a.c)(),j=document.documentElement&&document.documentElement.classList.contains("has-sticky"),O=t.get("page.showNewRecipeDesign")&&t.get("tests.abNewRecipeDesign");this.isSecureContact=["help/ng-interactive/2017/mar/17/contact-the-guardian-securely","help/2016/sep/19/how-to-contact-the-guardian-securely"].includes(t.get("page.pageId","")),this.adFree=!!o||Object(c.h)(),this.dfpAdvertising=d||w.commercial&&l&&!f&&!v&&!this.adFree,this.stickyTopBannerAd=!this.adFree&&!t.get("page.disableStickyTopBanner")&&!j,this.articleBodyAdverts=this.dfpAdvertising&&!this.adFree&&!m&&g&&!h&&!b&&!O,this.carrotTrafficDriver=!this.adFree&&this.articleBodyAdverts&&t.get("switches.carrotTrafficDriver",!1)&&!t.get("page.isPaidContent"),this.highMerch=this.dfpAdvertising&&!this.adFree&&!m&&!b&&!p&&!t.get("page.isFront")&&!t.get("isDotcomRendering",!1)&&!O,this.thirdPartyTags=!this.adFree&&l&&!v&&!this.isSecureContact,this.launchpad=!this.adFree&&l&&!v&&!this.isSecureContact&&t.get("switches.redplanetForAus",!1),this.relatedWidgetEnabled=this.dfpAdvertising&&!this.adFree&&!n&&!f&&g&&!t.get("page.isPreview")&&t.get("page.showRelatedContent")&&!(Object(s.j)()&&t.get("page.commentable")),this.commentAdverts=this.dfpAdvertising&&!this.adFree&&!m&&t.get("switches.enableDiscussionSwitch")&&t.get("page.commentable")&&(!h||y),this.liveblogAdverts=h&&this.dfpAdvertising&&!this.adFree,this.paidforBand=t.get("page.isPaidContent")&&!j,this.comscore=t.get("switches.comscore",!1)&&!v&&!this.isSecureContact}}}]);
//# sourceMappingURL=graun.commercial.js.map
!function(){var i,n;function s(i){if(0!==i.length){var n,e=i.shift();switch(window.singularSdkQueue=i,e.trackType){case"init":!function(i){i.packageName&&(i.productId=i.packageName);var n=new SingularConfig(i.apikey,i.secret,i.productId).withLogLevel(i.logLevel);i.customUserId&&n.withCustomUserId(i.customUserId);i.sessionTimeout&&n.withSessionTimeoutInMinutes(i.sessionTimeout);i.subDomainTracking&&("simple"===i.subDomainTrackingMode?n.withAutoPersistentSingularDeviceId(i.domain):n.withPersistentSingularDeviceId(i.singularDeviceId));window.singularSdk.init(n),2<=i.logLevel&&console.log("Singular Web SDK is initialized")}(e);break;case"login":window.singularSdk.login(e.customUserId);break;case"logout":window.singularSdk.logout();break;case"conversion":!function(i){i.customUserId&&window.singularSdk.login(i.customUserId);window.singularSdk.conversionEvent(i.eventName,i.attributes)}(e);break;case"custom":!function(i){i.customUserId&&window.singularSdk.login(i.customUserId);window.singularSdk.event(i.eventName,i.attributes)}(e);break;case"revenue":!function(i){i.customUserId&&window.singularSdk.login(i.customUserId);window.singularSdk.revenue(i.eventName,i.currency,i.revenue,i.attributes)}(e);break;case"pageVisit":window.singularSdk.pageVisit();break;case"setDeviceCustomUserId":(n=e).customUserId&&window.singularSdk.setDeviceCustomUserId(n.customUserId)}}}window.singularSdkQueue?(i=window.singularSdkQueue,window.singularSdk||window.isSingularSdkInitializing?window.isSingularSdkInitializing?function i(n,e){if(100<e)return;setTimeout(function(){window.isSingularSdkInitializing?i(n,++e):s(n)},10)}(i,1):s(i):(n=i,window.isSingularSdkInitializing=!0,function(i,n){var e=document.head,s=document.createElement("script");s.type="text/javascript",s.src=i,s.onload=n,e.appendChild(s)}("https://web-sdk-cdn.singular.net/singular-sdk/latest/singular-sdk.js",function(){window.singularSdk?s(n):console.log("Unable to load Singular's Web SDK"),window.isSingularSdkInitializing=!1}))):console.log("Singular Data Layer is null")}();

(window.webpackJsonp=window.webpackJsonp||[]).push([[41,514],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return o});var h=n("mrSG"),i=n("qOnz"),r=(a.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},a.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},a.prototype.setServiceProps=function(t){return this.serviceProps=t,this},a),o=(s.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t=void 0===t?"[DEFAULT]":t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},s.prototype.getImmediate=function(t){var e=Object(h.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,e=e.optional,n=this.normalizeInstanceIdentifier(n);try{var r=this.getOrInitializeService(n);if(r)return r;if(e)return null;throw Error("Service "+this.name+" is not available")}catch(t){if(e)return null;throw t}},s.prototype.getComponent=function(){return this.component},s.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if("EAGER"===(this.component=t).instantiationMode)try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=Object(h.h)(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Object(h.e)(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},s.prototype.clearInstance=function(t){this.instancesDeferred.delete(t=void 0===t?"[DEFAULT]":t),this.instances.delete(t)},s.prototype.delete=function(){return Object(h.b)(this,void 0,void 0,function(){var e;return Object(h.d)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(h.f)(e.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),e.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return t.sent(),[2]}})})},s.prototype.isComponentSet=function(){return null!=this.component},s.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,"[DEFAULT]"===t?void 0:t),this.instances.set(t,e)),e||null},s.prototype.normalizeInstanceIdentifier=function(t){return!this.component||this.component.multipleInstances?t:"[DEFAULT]"},s);function s(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}function a(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var u=(c.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},c.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},c.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},c.prototype.getProviders=function(){return Array.from(this.providers.values())},c);function c(t){this.name=t,this.providers=new Map}},"/9aa":function(t,e,n){var r=n("NykK"),i=n("ExA7");t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},"/Ol2":function(t,e,n){"use strict";t.exports=function(n,r){var t;return n&&r&&(0<(t=Object.keys(r)).length&&(n+=/\?/.test(n)?"&":"?",t.forEach(function(t,e){n+=(0===e?"":"&").concat(t,"=").concat(r[t])}))),n}},"44Ds":function(t,e,n){var s=n("e4Nc");function a(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new TypeError("Expected a function");function o(){var t=arguments,e=i?i.apply(this,t):t[0],n=o.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),o.cache=n.set(e,t)||n,t)}return o.cache=new(a.Cache||s),o}a.Cache=s,t.exports=a},"4uTw":function(t,e,n){var r=n("Z0cm"),i=n("9ggG"),o=n("GNiM"),s=n("dt0z");t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(s(t))}},"9+ID":function(t,e,n){"use strict";!function(Gl){var Kl=n("zIRd");!function(){var t,o="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},u=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Gl&&Gl,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function c(t){var e,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}!function(t,e){var n=u;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&o(n,t,{configurable:!0,writable:!0,value:e})}("Promise",function(t){function s(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function e(){this.a=null}function a(e){return e instanceof s?e:new s(function(t){t(e)})}if(t)return t;e.prototype.b=function(t){var e;null==this.a&&(this.a=[],(e=this).c(function(){e.g()})),this.a.push(t)};var n=u.setTimeout;e.prototype.c=function(t){n(t,0)},e.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},e.prototype.f=function(t){this.c(function(){throw t})},s.prototype.f=function(){function t(e){return function(t){r||(r=!0,e.call(n,t))}}var n=this,r=!1;return{resolve:t(this.v),reject:t(this.g)}},s.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof s)this.s(t);else{t:switch(typeof t){case"object":var e=null!=t;break t;case"function":e=!0;break t;default:e=!1}e?this.m(t):this.i(t)}},s.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.i(t)},s.prototype.g=function(t){this.h(2,t)},s.prototype.i=function(t){this.h(1,t)},s.prototype.h=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},s.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)i.b(this.a[t]);this.a=null}};var i=new e;return s.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},s.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},s.prototype.then=function(t,e){function n(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(t){i(t)}}:t}var r,i,o=new s(function(t,e){r=t,i=e});return this.Pa(n(t,r),n(e,i)),o},s.prototype.catch=function(t){return this.then(void 0,t)},s.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?i.b(n):this.a.push(n)},s.resolve=a,s.reject=function(n){return new s(function(t,e){e(n)})},s.race=function(i){return new s(function(t,e){for(var n=c(i),r=n.next();!r.done;r=n.next())a(r.value).Pa(t,e)})},s.all=function(t){var e=c(t),o=e.next();return o.done?a([]):new s(function(n,t){for(var r=[],i=0;r.push(void 0),i++,a(o.value).Pa(function(e){return function(t){r[e]=t,0==--i&&n(r)}}(r.length-1),t),!(o=e.next()).done;);})},s});var h=h||{},l=this||self,e=/^[\w+/_-]+[=]{0,2}$/,f=null;function p(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&e.test(t)?t:""}function s(){}function a(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=a(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==a(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function n(t){return Object.prototype.hasOwnProperty.call(t,r)&&t[r]||(t[r]=++i)}var r="closure_uid_"+(1e9*Math.random()>>>0),i=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function g(e,n,t){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:g).apply(null,arguments)}function w(e){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var I=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(t){return t}function T(t,e,n){this.code=A+t,this.message=e||N[t]||"",this.a=n||null}function O(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}E(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var S,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function j(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function C(t){if(t)try{return t.$goog_Thenable}catch(t){return}}function D(t){var e;Error.captureStackTrace?Error.captureStackTrace(this,D):(e=Error().stack)&&(this.stack=e),t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function x(t){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}S=j("__EID__")?"__EID__":void 0,E(D,Error),D.prototype.name="CustomError",E(P,D),P.prototype.name="AssertionError",R.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var V=new R(function(){return new U},function(t){t.reset()});function U(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n,r=t.length,i=[],o=0,s="string"==typeof t?t.split(""):t,a=0;a<r;a++)a in s&&(n=s[a],e.call(void 0,n,a,t)&&(i[o++]=n));return i},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=F(t,e)}function K(t,e){var n;return(n=0<=(e=F(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(n,r){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(n,function(t,e){r.call(void 0,t,e,n)&&Array.prototype.splice.call(n,e,1).length})}function J(){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,$=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Q=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:e<t?1:0}t:{var at=l.navigator;if(at){at=at.userAgent;if(at){Y=at;break t}}Y=""}function ut(t){return ot(Y,t)}function ct(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return;return 1}function lt(t){var e,n={};for(e in t)n[e]=t[e];return n}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<ft.length;i++)e=ft[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function dt(t,e){t:{try{var n,r=t&&t.ownerDocument;if((n=(n=r&&(r.defaultView||r.parentWindow))||l).Element&&n.Location){var i=n;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;x("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function vt(t,e){this.a=t===bt&&e||"",this.b=gt}function yt(t){return t instanceof vt&&t.constructor===vt&&t.b===gt?t.a:(x("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.sa=!0,vt.prototype.ra=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var mt,gt={},bt={};function wt(){if(void 0===mt){var t=null,e=l.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:_,createScript:_,createScriptURL:_})}catch(t){l.console&&l.console.error(t.message)}mt=t}else mt=t}return mt}function It(t,e){this.a=e===St?t:""}function Et(t){return t instanceof It&&t.constructor===It?t.a:(x("expected object of type TrustedResourceUrl, got '"+t+"' of type "+a(t)),"type_error:TrustedResourceUrl")}function _t(t,n){var e,r=yt(t);if(!Ot.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=t=r.replace(Tt,function(t,e){if(!Object.prototype.hasOwnProperty.call(n,e))throw Error('Found marker, "'+e+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(n));return(t=n[e])instanceof vt?yt(t):encodeURIComponent(String(t))}),t=wt(),new It(e=t?t.createScriptURL(e):e,St)}It.prototype.sa=!0,It.prototype.ra=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,Ot=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,St={};function At(t,e){this.a=e===xt?t:""}function Nt(t){return t instanceof At&&t.constructor===At?t.a:(x("expected object of type SafeUrl, got '"+t+"' of type "+a(t)),"type_error:SafeUrl")}At.prototype.sa=!0,At.prototype.ra=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,jt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ct=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Dt(t){return t instanceof At?t:(t="object"==typeof t&&t.sa?t.ra():String(t),t=Ct.test(t)||(e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(jt))&&kt.test(e[1])?new At(t,xt):null);var e}function Pt(t){return t instanceof At?t:(t="object"==typeof t&&t.sa?t.ra():String(t),new At(t=!Ct.test(t)?"about:invalid#zClosurez":t,xt))}var xt={},Rt=new At("about:invalid#zClosurez",xt);function Lt(t,e,n){this.a=n===Mt?t:""}Lt.prototype.sa=!0,Lt.prototype.ra=function(){return this.a.toString()},Lt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function Vt(t,e,n,r){return t=t instanceof At?t:Pt(t),e=e||l,n=n instanceof vt?yt(n):n||"",e.open(Nt(t),n,r,void 0)}function Ut(t){for(var e=t.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<e.length;)n+=e.shift()+r.shift();return n+e.join("%s")}function Ft(t){return it.test(t)&&(-1!=(t=-1!=(t=-1!=(t=-1!=(t=-1!=(t=-1!=t.indexOf("&")?t.replace(Q,"&amp;"):t).indexOf("<")?t.replace(Z,"&lt;"):t).indexOf(">")?t.replace(tt,"&gt;"):t).indexOf('"')?t.replace(et,"&quot;"):t).indexOf("'")?t.replace(nt,"&#39;"):t).indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}qt[" "]=s;var Bt,Ht,zt=ut("Opera"),Gt=ut("Trident")||ut("MSIE"),Kt=ut("Edge"),Wt=Kt||Gt,Jt=ut("Gecko")&&!(ot(Y.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),Xt=ot(Y.toLowerCase(),"webkit")&&!ut("Edge");function Yt(){var t=l.document;return t?t.documentMode:void 0}t:{var $t="",Qt=(Ht=Y,Jt?/rv:([^\);]+)(\)|;)/.exec(Ht):Kt?/Edge\/([\d\.]+)/.exec(Ht):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Xt?/WebKit\/(\S+)/.exec(Ht):zt?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if(Qt&&($t=Qt?Qt[1]:""),Gt){Qt=Yt();if(null!=Qt&&Qt>parseFloat($t)){Bt=String(Qt);break t}}Bt=$t}var Zt={};function te(a){return t=a,e=Zt,Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=function(){for(var t=0,e=$(String(Bt)).split("."),n=$(String(a)).split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=st(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||st(0==o[2].length,0==s[2].length)||st(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t,e}var ee=l.document&&Gt&&(Yt()||parseInt(Bt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ht){}var ne=!Gt||9<=Number(ee);function re(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ie(n,t){ct(t,function(t,e){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==e?n.style.cssText=t:"class"==e?n.className=t:"for"==e?n.htmlFor=t:ae.hasOwnProperty(e)?n.setAttribute(ae[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?n.setAttribute(e,t):n[e]=t})}var oe,se,ae={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ue(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ce(t){l.setTimeout(function(){throw t},0)}function he(t,e){var n;se=se||(l.Promise&&l.Promise.resolve?(n=l.Promise.resolve(void 0),function(){n.then(pe)}):function(){var t=pe;!v(l.setImmediate)||l.Window&&l.Window.prototype&&!ut("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(oe=oe||function(){var t=l.MessageChannel;if(void 0===(t=void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")?function(){(r=ue(document,"IFRAME")).style.display="none",document.documentElement.appendChild(r);var t=r.contentWindow;(r=t.document).open(),r.close();var e="callImmediate"+Math.random(),n="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host,r=b(function(t){"*"!=n&&t.origin!=n||t.data!=e||this.port1.onmessage()},this);t.addEventListener("message",r,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(e,n)}}}:t)||ut("Trident")||ut("MSIE"))return function(t){l.setTimeout(t,0)};var e=new t,n={},r=n;return e.port1.onmessage=function(){var t;void 0!==n.next&&(t=(n=n.next).Fb,n.Fb=null,t())},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}())(t):l.setImmediate(t)}),le||(se(),le=!0),fe.add(t,e)}var le=!1,fe=new M;function pe(){for(var t,e,n;n=e=void 0,n=null,(e=fe).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){ce(t)}L(V,t)}le=!1}function de(t,e){if(this.a=ve,this.h=void 0,this.f=this.b=this.c=null,this.g=this.i=!1,t!=s)try{var n=this;t.call(e,function(t){Ae(n,ye,t)},function(t){if(!(t instanceof xe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Ae(n,me,t)})}catch(t){Ae(this,me,t)}}var ve=0,ye=2,me=3;function ge(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ge.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var be=new R(function(){return new ge},function(t){t.reset()});function we(t,e,n){var r=be.get();return r.g=t,r.b=e,r.f=n,r}function Ie(t){if(t instanceof de)return t;var e=new de(s);return Ae(e,ye,t),e}function Ee(n){return new de(function(t,e){e(n)})}function _e(t,e,n){Ne(t,e,n,null)||he(w(e,t))}function Te(n){return new de(function(r){var i=n.length,o=[];if(i)for(var t=function(t,e,n){i--,o[t]=e?{Ob:!0,value:n}:{Ob:!1,reason:n},0==i&&r(o)},e=0;e<n.length;e++)_e(n[e],w(t,e,!0),w(t,e,!1));else r(o)})}function Oe(t,e){t.b||t.a!=ye&&t.a!=me||ke(t),t.f?t.f.next=e:t.b=e,t.f=e}function Se(t,i,o,s){var e=we(null,null,null);return e.a=new de(function(n,r){e.g=i?function(t){try{var e=i.call(s,t);n(e)}catch(t){r(t)}}:n,e.b=o?function(t){try{var e=o.call(s,t);void 0===e&&t instanceof xe?r(t):n(e)}catch(t){r(t)}}:r}),Oe(e.a.c=t,e),e.a}function Ae(t,e,n){var r,i;t.a==ve&&(t===n&&(e=me,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ne(n,t.Zc,t.$c,t)||(t.h=n,t.a=e,t.c=null,ke(t),e!=me||n instanceof xe||(i=n,(r=t).g=!0,he(function(){r.g&&Pe.call(null,i)}))))}function Ne(t,e,n,r){if(t instanceof de)return Oe(t,we(e||s,n||null,r)),1;if(C(t))return t.then(e,n,r),1;if(y(t))try{var i=t.then;if(v(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),1}catch(t){return n.call(r,t),1}}function ke(t){t.i||(t.i=!0,he(t.fc,t))}function je(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ce(t,e,n,r){if(n==me&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,De(e,n,r);else try{e.c?e.g.call(e.f):De(e,n,r)}catch(t){Pe.call(null,t)}L(be,e)}function De(t,e,n){e==ye?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}de.prototype.then=function(t,e,n){return Se(this,v(t)?t:null,v(e)?e:null,n)},de.prototype.$goog_Thenable=!0,(t=de.prototype).na=function(t,e){return(t=we(t,t,e)).c=!0,Oe(this,t),this},t.o=function(t,e){return Se(this,null,t,e)},t.cancel=function(t){var e;this.a==ve&&(e=new xe(t),he(function(){!function t(e,n){if(e.a==ve)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,!((o=a.a==e?a:o)&&1<i)));a=a.next)o||(s=a);o&&(r.a==ve&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):je(r),Ce(r,o,me,n)))}e.c=null}else Ae(e,me,n)}(this,e)},this))},t.Zc=function(t){this.a=ve,Ae(this,ye,t)},t.$c=function(t){this.a=ve,Ae(this,me,t)},t.fc=function(){for(var t;t=je(this);)Ce(this,t,this.a,this.h);this.i=!1};var Pe=ce;function xe(t){D.call(this,t)}function Re(){0!=Le&&(Me[n(this)]=this),this.xa=this.xa,this.oa=this.oa}E(xe,D);var Le=0,Me={};function Ve(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Le)){var e=n(t);if(0!=Le&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Me[e]}}Re.prototype.xa=!(xe.prototype.name="cancel"),Re.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Ue=Object.freeze||function(t){return t},Fe=!Gt||9<=Number(ee),qe=Gt&&!te("9"),Be=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{l.addEventListener("test",s,e),l.removeEventListener("test",s,e)}catch(t){}return t}();function He(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function ze(t,e){if(He.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{qt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ge[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}He.prototype.preventDefault=function(){this.defaultPrevented=!0},E(ze,He);var Ge=Ue({2:"touch",3:"pen",4:"mouse"});ze.prototype.preventDefault=function(){ze.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,qe)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},ze.prototype.g=function(){return this.a};var Ke="closure_listenable_"+(1e6*Math.random()|0),We=0;function Je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++We,this.va=this.Oa=!1}function Xe(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function Ye(t){this.src=t,this.a={},this.b=0}function $e(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(Xe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Qe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}Ye.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Qe(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new Je(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var Ze="closure_lm_"+(1e6*Math.random()|0),tn={};function en(t,e,n,r,i){if(r&&r.once)rn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)en(t,e[o],n,r,i);else n=pn(n),t&&t[Ke]?vn(t,e,n,y(r)?!!r.capture:!!r,i):nn(t,e,n,!1,r,i)}function nn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s,a,u=y(i)?!!i.capture:!!i,c=ln(t);if(c||(t[Ze]=c=new Ye(t)),!(n=c.add(e,n,r,u,o)).proxy)if(s=hn,a=Fe?function(t){return s.call(a.src,a.listener,t)}:function(t){if(!(t=s.call(a.src,a.listener,t)))return t},(n.proxy=r=a).src=t,r.listener=n,t.addEventListener)void 0===(i=!Be?u:i)&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(an(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function rn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)rn(t,e[o],n,r,i);else n=pn(n),t&&t[Ke]?yn(t,e,n,y(r)?!!r.capture:!!r,i):nn(t,e,n,!0,r,i)}function on(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=pn(n),t&&t[Ke]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=Qe(o=t.a[e],n,r,i))&&(Xe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):(t=t&&ln(t))&&(e=t.a[e.toString()],(n=(t=-1)<(t=e?Qe(e,n,r,i):t)?e[t]:null)&&sn(n))}function sn(t){var e,n,r;"number"!=typeof t&&t&&!t.va&&((e=t.src)&&e[Ke]?$e(e.v,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(an(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ln(e))?($e(n,t),0==n.b&&(n.src=null,e[Ze]=null)):Xe(t)))}function an(t){return t in tn?tn[t]:tn[t]="on"+t}function un(t,e,n,r){var i=!0;if((t=ln(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=cn(o,r),i=i&&!1!==o)}return i}function cn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&sn(t),n.call(r,e)}function hn(t,e){if(t.va)return!0;if(Fe)return cn(t,new ze(e,this));if(!e)t:{e=["window","event"];for(var n=l,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new ze(r=e,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=un(r[i],t,!0,e),n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=un(r[i],t,!1,e),n=n&&o}return n}function ln(t){return(t=t[Ze])instanceof Ye?t:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pn(e){return v(e)?e:(e[fn]||(e[fn]=function(t){return e.handleEvent(t)}),e[fn])}function dn(){Re.call(this),this.v=new Ye(this),(this.$b=this).fb=null}function vn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function yn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function mn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s,a,u=e[o];u&&!u.va&&u.capture==n&&(s=u.listener,a=u.Ua||u.src,u.Oa&&$e(t.v,u),i=!1!==s.call(a,r)&&i)}return i&&!r.defaultPrevented}function gn(t,e,n){if(v(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:l.setTimeout(t,e||0)}function bn(n){var r=null;return new de(function(t,e){-1==(r=gn(function(){t(void 0)},n))&&e(Error("Failed to schedule timer."))}).o(function(t){throw l.clearTimeout(r),t})}function wn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function In(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function En(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof En)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function _n(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Tn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){for(var i={},n=e=0;e<t.a.length;)Tn(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(dn,Re),dn.prototype[Ke]=!0,dn.prototype.addEventListener=function(t,e,n,r){en(this,t,e,n,r)},dn.prototype.removeEventListener=function(t,e,n,r){on(this,t,e,n,r)},dn.prototype.dispatchEvent=function(t){var e;if(n=this.fb)for(e=[];n;n=n.fb)e.push(n);var n=this.$b,r=t.type||t;if("string"==typeof t?t=new He(t,n):t instanceof He?t.target=t.target||n:(s=t,pt(t=new He(r,n),s)),s=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.b=e[i],s=mn(o,r,!0,t)&&s;if(s=mn(o=t.b=n,r,!0,t)&&s,s=mn(o,r,!1,t)&&s,e)for(i=0;i<e.length;i++)s=mn(o=t.b=e[i],r,!1,t)&&s;return s},dn.prototype.Da=function(){if(dn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Xe(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=En.prototype).V=function(){_n(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return _n(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Tn(this.b,t)?this.b[t]:e},t.set=function(t,e){Tn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.i=this.c="",this.h=!1,t instanceof Sn?(this.h=void 0!==e?e:t.h,An(this,t.f),this.l=t.l,this.a=t.a,Nn(this,t.g),this.c=t.c,kn(this,Jn(t.b)),this.i=t.i):t&&(n=String(t).match(On))?(this.h=!!e,An(this,n[1]||"",!0),this.l=xn(n[2]||""),this.a=xn(n[3]||"",!0),Nn(this,n[4]),this.c=xn(n[5]||"",!0),kn(this,n[6]||"",!0),this.i=xn(n[7]||"")):(this.h=!!e,this.b=new Bn(null,this.h))}function An(t,e,n){t.f=n?xn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Nn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.g=e}else t.g=null}function kn(t,e,n){var r,i;e instanceof Bn?(t.b=e,r=t.b,(i=t.h)&&!r.f&&(Hn(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Gn(this,e),Wn(this,n,t))},r)),r.f=i):(n||(e=Rn(e,Fn)),t.b=new Bn(e,t.h))}function jn(t,e,n){t.b.set(e,n)}function Cn(t,e){return t.b.get(e)}function Dn(t){return t instanceof Sn?new Sn(t):new Sn(t,void 0)}function Pn(t,e,n,r){var i=new Sn(null,void 0);return t&&An(i,t),e&&(i.a=e),n&&Nn(i,n),r&&(i.c=r),i}function xn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Rn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ln),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function Ln(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Sn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Rn(e,Mn,!0),":");var n=this.a;return!n&&"file"!=e||(t.push("//"),(e=this.l)&&t.push(Rn(e,Mn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Rn(n,"/"==n.charAt(0)?Un:Vn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Rn(n,qn)),t.join("")},Sn.prototype.resolve=function(t){var e=new Sn(this),n=!!t.f;n?An(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Nn(e,t.g);else if(n=!!t.c)if("/"!=r.charAt(0)&&(this.a&&!this.c?r="/"+r:-1!=(i=e.c.lastIndexOf("/"))&&(r=e.c.substr(0,i+1)+r)),".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){for(var r=0==i.lastIndexOf("/",0),i=i.split("/"),o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i;return n?e.c=r:n=""!==t.b.toString(),n?kn(e,Jn(t.b)):n=!!t.i,n&&(e.i=t.i),e};var Mn=/[#\/\?@]/g,Vn=/[#\?:]/g,Un=/[#\?]/g,Fn=/[#\?@]/g,qn=/#/g;function Bn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hn(o){o.a||(o.a=new En,o.b=0,o.c&&function(t){if(t){t=t.split("&");for(var e=0;e<t.length;e++){var n,r=t[e].indexOf("="),i=null;0<=r?(n=t[e].substring(0,r),i=t[e].substring(r+1)):n=t[e],r=n,i=i?decodeURIComponent(i.replace(/\+/g," ")):"",o.add(decodeURIComponent(r.replace(/\+/g," ")),i)}}}(o.c))}function zn(t){var e=In(t);if(void 0===e)throw Error("Keys are undefined");var n=new Bn(null,void 0);t=wn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Wn(n,i,o):n.add(i,o)}return n}function Gn(t,e){Hn(t),e=Xn(t,e),Tn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Tn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&_n(t)))}function Kn(t,e){return Hn(t),e=Xn(t,e),Tn(t.a.b,e)}function Wn(t,e,n){Gn(t,e),0<n.length&&(t.c=null,t.a.set(Xn(t,e),X(n)),t.b+=n.length)}function Jn(t){var e=new Bn;return e.c=t.c,t.a&&(e.a=new En(t.a),e.b=t.b),e}function Xn(t,e){return e=String(e),e=t.f?e.toLowerCase():e}function Yn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return r.push("]"),0}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),tr(i,r),r.push(":"),t(e,s,r),o=",");return r.push("}"),0}n=n.valueOf()}switch(typeof n){case"string":tr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new $n,t,e),e.join("")}function $n(){}(t=Bn.prototype).add=function(t,e){Hn(this),this.c=null,t=Xn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(n,r){Hn(this),this.a.forEach(function(t,e){q(t,function(t){n.call(r,t,e,this)},this)},this)},t.Y=function(){Hn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Hn(this);var e=[];if("string"==typeof t)Kn(this,t)&&(e=J(e,this.a.get(Xn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},t.set=function(t,e){return Hn(this),this.c=null,Kn(this,t=Xn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.V(r),o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}return this.c=t.join("&")};var Qn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Zn=/\uffff/.test("ï¿¿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function tr(t,e){e.push('"',t.replace(Zn,function(t){var e=Qn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Qn[t]=e),e}),'"')}function er(){var t=wr();return Gt&&ee&&11==ee||/Edge\/\d+/.test(t)}function nr(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function rr(t,e){e=e||l.window;var n="about:blank";t&&(n=Nt(Dt(t)||Rt)),e.location.href=n}function ir(t){return!!((t=(t||wr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function or(t){t=t||l.window;try{t.close()}catch(t){}}function sr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=wr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),mr(wr())==vr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof At?n:Dt(void 0!==n.href?n.href:String(n))||Rt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(dt(s=ue(document,"A"),"HTMLAnchorElement"),e=e instanceof At?e:Pt(e),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Vt("",r,n,s),t=Nt(e),s&&(Wt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ft(t)+'">',t=new Lt(t=(r=wt())?r.createHTML(t):t,0,Mt),r=s.document)&&(r.write((o=t)instanceof Lt&&o.constructor===Lt?o.a:(x("expected object of type SafeHtml, got '"+o+"' of type "+a(o)),"type_error:SafeHtml")),r.close())):(s=Vt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var ar=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ur=/^[^@]+@[^@]+$/;function cr(){var e=null;return new de(function(t){"complete"==l.document.readyState?t():(e=function(){t()},rn(window,"load",e))}).o(function(t){throw on(window,"load",e),t})}function hr(t){return t=t||wr(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){var t=l.window;try{return t&&t!=t.top}catch(t){return}}function fr(){return void 0!==l.WorkerGlobalScope&&"function"==typeof l.importScripts}function pr(){return Kl.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Kl.a.INTERNAL.hasOwnProperty("node")?"Node":fr()?"Worker":"Browser"}function dr(){var t=pr();return"ReactNative"===t||"Node"===t}var vr="Firefox",yr="Chrome";function mr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?vr:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":yr:"Safari"}var gr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function br(t,e){e=e||[];var n,r=[],i={};for(n in gr)i[gr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=pr())?r=mr(i=wr()):"Worker"===r&&(r=mr(i=wr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function wr(){return l.navigator&&l.navigator.userAgent||""}function Ir(t,e){t=t.split("."),e=e||l;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return e=n!=t.length?void 0:e}function Er(){try{var t=l.localStorage,e=jr();if(t)return t.setItem(e,"1"),t.removeItem(e),!er()||!!l.indexedDB}catch(t){return fr()&&!!l.indexedDB}return!1}function _r(){return(Tr()||"chrome-extension:"===Or()||hr())&&!dr()&&Er()&&!fr()}function Tr(){return"http:"===Or()||"https:"===Or()}function Or(){return l.location&&l.location.protocol||null}function Sr(t){return!ir(t=t||wr())&&mr(t)!=vr}function Ar(t){return void 0===t?null:Yn(t)}function Nr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function kr(t){if(null!==t)return JSON.parse(t)}function jr(t){return t||Math.floor(1e9*Math.random()).toString()}function Cr(t){return"Safari"!=mr(t=t||wr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Dr(){var t=l.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Pr(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=wr(),e=pr(),this.b=ir(t)||"ReactNative"===e}function xr(){var t=l.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Rr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Lr(){return Ir("fireauth.oauthhelper",l)||Ir("fireauth.iframe",l)}Pr.prototype.get=function(){var t=l.navigator;return!t||"boolean"!=typeof t.onLine||!Tr()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Mr,Vr={};function Ur(t){Vr[t]||(Vr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Fr={};Object.defineProperty(Fr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Fr,"abcd",{configurable:!0,enumerable:!0,value:2}),Mr=2==Fr.abcd}catch(Ht){Mr=!1}function qr(t,e,n){Mr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Br(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&qr(t,n,e[n])}function Hr(t){var e={};return Br(e,t),e}function zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)qr(e,n,zr(t[n]));return e}function Gr(t){var e=t&&(t[Yr]?"phone":null);if(!(e&&t&&t[Xr]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");qr(this,"uid",t[Xr]),qr(this,"displayName",t[Wr]||null);var n=null;qr(this,"enrollmentTime",n=t[Jr]?new Date(t[Jr]).toUTCString():n),qr(this,"factorId",e)}function Kr(t){try{var e=new $r(t)}catch(t){e=null}return e}Gr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Wr="displayName",Jr="enrolledAt",Xr="mfaEnrollmentId",Yr="phoneInfo";function $r(t){Gr.call(this,t),qr(this,"phoneNumber",t[Yr])}function Qr(t){var e={},n=t[ni],r=t[ii],i=t[oi];if(t=Kr(t[ri]),!i||i!=ti&&i!=ei&&!n||i==ei&&!r||i==Zr&&!t)throw Error("Invalid checkActionCode response!");i==ei?(e[ai]=n||null,e[ci]=n||null,e[si]=r):(e[ai]=r||null,e[ci]=r||null,e[si]=n||null),e[ui]=t||null,qr(this,li,i),qr(this,hi,zr(e))}E($r,Gr),$r.prototype.w=function(){var t=$r.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var Zr="REVERT_SECOND_FACTOR_ADDITION",ti="EMAIL_SIGNIN",ei="VERIFY_AND_CHANGE_EMAIL",ni="email",ri="mfaInfo",ii="newEmail",oi="requestType",si="email",ai="fromEmail",ui="multiFactorInfo",ci="previousEmail",hi="data",li="operation";function fi(t){var e=Cn(t=Dn(t),pi)||null,n=Cn(t,di)||null,r=(r=Cn(t,mi)||null)&&bi[r]||null;if(!e||!n||!r)throw new T("argument-error",pi+", "+di+"and "+mi+" are required in a valid action code URL.");Br(this,{apiKey:e,operation:r,code:n,continueUrl:Cn(t,vi)||null,languageCode:Cn(t,yi)||null,tenantId:Cn(t,gi)||null})}var pi="apiKey",di="oobCode",vi="continueUrl",yi="languageCode",mi="mode",gi="tenantId",bi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Zr,signIn:ti,verifyAndChangeEmail:ei,verifyEmail:"VERIFY_EMAIL"};function wi(t){try{return new fi(t)}catch(t){return null}}function Ii(t){if(void 0===(e=t[Si]))throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");if(this.i=e,this.b=this.a=null,this.g=!1,(r=t[Ei])&&"object"==typeof r){var e=r[ki],n=r[Ai],r=r[Ni];if("string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new T("argument-error",Ai+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new T("argument-error",Ni+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==e)throw new T("argument-error",ki+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new T("missing-android-pkg-name")}}else if(void 0!==r)throw new T("argument-error",Ei+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[ji])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",ji+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Ti])&&"boolean"!=typeof e)throw new T("argument-error",Ti+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[_i])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",_i+" property must be a non empty string when specified.");this.h=t||null}var Ei="android",_i="dynamicLinkDomain",Ti="handleCodeInApp",Oi="iOS",Si="url",Ai="installApp",Ni="minimumVersion",ki="packageName",ji="bundleId";function Ci(t){var e,n={};for(e in n.continueUrl=t.i,n.canHandleCodeInApp=t.c,(n.androidPackageName=t.a)&&(n.androidMinimumVersion=t.b,n.androidInstallApp=t.g),n.iOSBundleId=t.f,n.dynamicLinkDomain=t.h,n)null===n[e]&&delete n[e];return n}var Di=null;function Pi(t){var e="";return function(r,t){function e(t){for(;i<r.length;){var e=r.charAt(i++),n=Di[e];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(e))throw Error("Unknown base64 encoding at char: "+e)}return t}!function(){if(!Di){Di={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Di[o]&&(Di[o]=i)}}}();for(var i=0;;){var n=e(-1),o=e(0),s=e(64),a=e(64);if(64===a&&-1===n)break;t(n<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=a&&t(s<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}function xi(t){var e=Li(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.i=t,this.a=e.exp,this.h=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ri(t){try{return new xi(t)}catch(t){return null}}function Li(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Pi(t))}catch(t){}return null}xi.prototype.S=function(){return this.f},xi.prototype.l=function(){return this.c},xi.prototype.toString=function(){return this.i};var Mi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vi=["client_id","response_type","scope","redirect_uri","state"],Ui={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Vi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Vi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Vi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Mi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Fi(t){for(var e in Ui)if(Ui[e].fa==t)return Ui[e];return null}function qi(t){var e={};e["facebook.com"]=Ki,e["google.com"]=Ji,e["github.com"]=Wi,e["twitter.com"]=Xi;var n=t&&t[Hi];try{if(n)return new(e[n]||Gi)(t);if(void 0!==t[Bi])return new zi(t)}catch(t){}return null}var Bi="idToken",Hi="providerId";function zi(t){var e,n=t[Hi];if(n||!t[Bi]||(e=Ri(t[Bi]))&&e.b&&(n=e.b),!n)throw Error("Invalid additional user info!");e=!1,void 0!==t.isNewUser?e=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(e=!0),qr(this,"providerId",n="anonymous"==n||"custom"==n?null:n),qr(this,"isNewUser",e)}function Gi(t){zi.call(this,t),qr(this,"profile",zr((t=kr(t.rawUserInfo||"{}"))||{}))}function Ki(t){if(Gi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Wi(t){if(Gi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",this.profile&&this.profile.login||null)}function Ji(t){if(Gi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(t){if(Gi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",t.screenName||null)}function Yi(t){var e=Cn(r=Dn(t),"link"),n=Cn(Dn(e),"link"),r=Cn(r,"deep_link_id");return Cn(Dn(r),"link")||r||n||e||t}function $i(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Qi:Zi}E(Gi,zi),E(Ki,Gi),E(Wi,Gi),E(Ji,Gi),E(Xi,Gi);var Qi="enroll",Zi="signin";function to(){}function eo(t,n){return t.then(function(t){if(t[zs]){var e=Ri(t[zs]);if(!e||n!=e.h)throw new T("user-mismatch");return t}throw new T("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t})}function no(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,qr(this,"providerId",t),qr(this,"signInMethod",t)}function ro(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function io(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new no(t.providerId,t.pendingToken)}catch(t){}return null}function oo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&qr(this,"idToken",e.idToken),e.accessToken&&qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");qr(this,"accessToken",e.oauthToken),qr(this,"secret",e.oauthTokenSecret)}qr(this,"providerId",t),qr(this,"signInMethod",n)}function so(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ao(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new oo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function uo(t,e){this.Pc=e||[],Br(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Fi(t)||{}).Ja||null,this.nb=null}function co(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,t,[])}function ho(t){uo.call(this,t,Vi),this.a=[]}function lo(){ho.call(this,"facebook.com")}function fo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new lo).credential({accessToken:e})}function po(){ho.call(this,"github.com")}function vo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new po).credential({accessToken:e})}function yo(){ho.call(this,"google.com"),this.Ca("profile")}function mo(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new yo).credential({idToken:n,accessToken:e})}function go(){uo.call(this,"twitter.com",Mi)}function bo(t,e){var n=t;if(!(n=!y(n)?{oauthToken:t,oauthTokenSecret:e}:n).oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new oo("twitter.com",n,"twitter.com")}function wo(t,e,n){this.a=t,this.f=e,qr(this,"providerId","password"),qr(this,"signInMethod",n===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Io(t){return t&&t.email&&t.password?new wo(t.email,t.password,t.signInMethod):null}function Eo(){Br(this,{providerId:"password",isOAuthProvider:!1})}function _o(t,e){if(!(e=To(e)))throw new T("argument-error","Invalid email link!");return new wo(t,e.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function To(t){return(t=wi(t=Yi(t)))&&t.operation===ti?t:null}function Oo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new T("internal-error");this.a=t,qr(this,"providerId","phone"),this.fa="phone",qr(this,"signInMethod","phone")}function So(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var n={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(t){e[t]&&(n[t]=e[t])}),new Oo(n)}return null}function Ao(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function No(t){try{this.a=t||Kl.a.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Br(this,{providerId:"phone",isOAuthProvider:!1})}function ko(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Oo({cb:t,bb:e})}function jo(t){if(t.temporaryProof&&t.phoneNumber)return new Oo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return mo(o,n);case"facebook.com":return fo(n);case"github.com":return vo(n);case"twitter.com":return bo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new no(e,s):new oo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ho(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Co(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Do(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.i=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Po(t){return(t=t||{}).type?new Do(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&O(t.error),t.postBody,t.tenantId):null}function xo(){this.b=null,this.a=[]}$i.prototype.Ha=function(){return this.a?Ie(this.a):Ie(this.b)},$i.prototype.w=function(){return this.type==Qi?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},to.prototype.ja=function(){},to.prototype.b=function(){},to.prototype.c=function(){},to.prototype.w=function(){},no.prototype.ja=function(t){return la(t,ro(this))},no.prototype.b=function(t,e){var n=ro(this);return n.idToken=e,fa(t,n)},no.prototype.c=function(t,e){return eo(pa(t,ro(this)),e)},no.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},oo.prototype.ja=function(t){return la(t,so(this))},oo.prototype.b=function(t,e){var n=so(this);return n.idToken=e,fa(t,n)},oo.prototype.c=function(t,e){return eo(pa(t,so(this)),e)},oo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},uo.prototype.Ka=function(t){return this.Hb=lt(t),this},E(co,uo),E(ho,uo),ho.prototype.Ca=function(t){return G(this.a,t)||this.a.push(t),this},ho.prototype.Pb=function(){return X(this.a)},ho.prototype.credential=function(t,e){if(!(e=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!e.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new oo(this.providerId,e,this.providerId)},E(lo,ho),qr(lo,"PROVIDER_ID","facebook.com"),qr(lo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(po,ho),qr(po,"PROVIDER_ID","github.com"),qr(po,"GITHUB_SIGN_IN_METHOD","github.com"),E(yo,ho),qr(yo,"PROVIDER_ID","google.com"),qr(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(go,uo),qr(go,"PROVIDER_ID","twitter.com"),qr(go,"TWITTER_SIGN_IN_METHOD","twitter.com"),wo.prototype.ja=function(t){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ja(t,Ia,{email:this.a,oobCode:this.f}):Ja(t,Ha,{email:this.a,password:this.f})},wo.prototype.b=function(t,e){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ja(t,Ea,{idToken:e,email:this.a,oobCode:this.f}):Ja(t,Ra,{idToken:e,email:this.a,password:this.f})},wo.prototype.c=function(t,e){return eo(this.ja(t),e)},wo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Br(Eo,{PROVIDER_ID:"password"}),Br(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Br(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ja=function(t){return t.eb(Ao(this))},Oo.prototype.b=function(t,e){var n=Ao(this);return n.idToken=e,Ja(t,Ga,n)},Oo.prototype.c=function(t,e){var n=Ao(this);return n.operation="REAUTH",eo(t=Ja(t,Ka,n),e)},Oo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},No.prototype.eb=function(r,i){var o=this.a.a;return Ie(i.verify()).then(function(e){if("string"!=typeof e)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==i.type)throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var t=y(r)?r.session:null,n=y(r)?r.phoneNumber:r;return(t&&t.type==Qi?t.Ha().then(function(t){return Ja(o,Ma,{idToken:t,phoneEnrollmentInfo:{phoneNumber:n,recaptchaToken:e}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):t&&t.type==Zi?t.Ha().then(function(t){return t={mfaPendingCredential:t,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:e}},Ja(o,Va,t).then(function(t){return t.phoneResponseInfo.sessionInfo})}):Ja(o,Pa,{phoneNumber:n,recaptchaToken:e})).then(function(t){return"function"==typeof i.reset&&i.reset(),t},function(t){throw"function"==typeof i.reset&&i.reset(),t})})},Br(No,{PROVIDER_ID:"phone"}),Br(No,{PHONE_SIGN_IN_METHOD:"phone"}),Do.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},Do.prototype.S=function(){return this.i},Do.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,tenantId:this.i,error:this.a&&this.a.w()}};var Ro,Lo=null;function Mo(t){var e="unauthorized-domain",n=void 0,r=Dn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Vo(t,e,n){T.call(this,t,n),(t=e||{}).Ib&&qr(this,"email",t.Ib),t.ea&&qr(this,"phoneNumber",t.ea),t.credential&&qr(this,"credential",t.credential),t.Yb&&qr(this,"tenantId",t.Yb)}function Uo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:jo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Vo(e,n,t.message)}return null}function Fo(){}function qo(t){return t.c||(t.c=t.b())}function Bo(){}function Ho(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function zo(){}function Go(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.pc,this),this.a.onerror=b(this.Rb,this),this.a.onprogress=b(this.qc,this),this.a.ontimeout=b(this.uc,this)}function Ko(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Wo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Jo(t){this.f=t,this.b=this.c=this.a=null}function Xo(t,e){this.name=t,this.value=e}E(Mo,T),E(Vo,T),Vo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Vo.prototype.toJSON=function(){return this.w()},Fo.prototype.c=null,E(Bo,Fo),Bo.prototype.a=function(){var t=Ho(this);return t?new ActiveXObject(t):new XMLHttpRequest},Bo.prototype.b=function(){var t={};return Ho(this)&&(t[0]=!0,t[1]=!0),t},Ro=new Bo,E(zo,Fo),zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Go;throw Error("Unsupported browser")},zo.prototype.b=function(){return{}},(t=Go.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ko(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Ko(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Ko(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Wo.prototype.a=null,Wo.prototype.reset=function(t,e,n,r,i){r||I(),delete this.a},Xo.prototype.toString=function(){return this.name};var Yo=new Xo("SEVERE",1e3),$o=new Xo("WARNING",900),Qo=new Xo("CONFIG",700),Zo=new Xo("FINE",500);Jo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c||(e.a?t(e.a):(x("Root logger has no level set."),null))}(this).value)for(v(e)&&(e=e()),t=new Wo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ts,es={},ns=null;function rs(t){var e,n,r;return ns||(ns=new Jo(""),(es[""]=ns).c=Qo),(e=es[t])||(e=new Jo(t),n=t.lastIndexOf("."),r=t.substr(n+1),(n=rs(t.substr(0,n))).b||(n.b={}),(n.b[r]=e).a=n,es[t]=e),e}function is(t,e){t&&t.log(Zo,e,void 0)}function os(t){this.f=t}function ss(t){dn.call(this),this.u=t,this.i=void 0,this.readyState=as,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.h=rs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(os,Fo),os.prototype.a=function(){return new ss(this.f)},os.prototype.b=(ts={},function(){return ts}),E(ss,dn);var as=0;function us(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function cs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,hs(t)}function hs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ls(t){dn.call(this),this.headers=new En,this.O=t||null,this.c=!1,this.A=this.a=null,this.i=this.P=this.l="",this.f=this.N=this.h=this.G=!1,this.g=0,this.s=null,this.m=fs,this.u=this.R=!1}(t=ss.prototype).open=function(t,e){if(this.readyState!=as)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,hs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.i,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,cs(this)),this.readyState=as},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,hs(this)),this.a&&(this.readyState=3,hs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==l.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,us(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){var e;this.a&&((e=this.m.decode(t.value||new Uint8Array(0),{stream:!t.done}))&&(this.response=this.responseText+=e),(t.done?cs:hs)(this),3==this.readyState&&us(this))},t.sc=function(t){this.a&&(this.response=this.responseText=t,cs(this))},t.rc=function(t){this.a&&(this.response=t,cs(this))},t.Ta=function(t){var e=this.h;e&&e.log($o,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&cs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log($o,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log($o,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}for(var t=[],e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ss.prototype,"withCredentials",{get:function(){return"include"===this.i},set:function(t){this.i=t?"include":"same-origin"}}),E(ls,dn);var fs="";ls.prototype.b=rs("goog.net.XhrIo");var ps=/^https?$/i,ds=["POST","PUT"];function vs(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.i="",t.P=n,t.G=!1,t.c=!0,t.a=(t.O||Ro).a(),t.A=t.O?qo(t.O):qo(Ro),t.a.onreadystatechange=b(t.Ub,t);try{is(t.b,Ts(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return is(t.b,Ts(t,"Error opening Xhr: "+e.message)),ms(t,e),0}e=r||"";var o,s=new En(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)q(t,e,void 0);else for(var n=In(t),r=wn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){s.set(e,t)}),i=function(t){t:{for(var e=ys,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(s.Y()),r=l.FormData&&e instanceof l.FormData,!G(ds,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Is(t),0<t.g&&(t.u=(o=t.a,Gt&&te(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),is(t.b,Ts(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=gn(t.Ma,t.g,t)),is(t.b,Ts(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(e){is(t.b,Ts(t,"Send error: "+e.message)),ms(t,e)}}function ys(t){return"content-type"==t.toLowerCase()}function ms(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.i=e,gs(t),ws(t)}function gs(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function bs(t){if(t.c&&void 0!==h)if(t.A[1]&&4==Es(t)&&2==_s(t))is(t.b,Ts(t,"Local request error detected and ignored"));else if(t.h&&4==Es(t))gn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Es(t)){is(t.b,Ts(t,"Request complete")),t.c=!1;try{var e,n,r,i,o=_s(t);t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}if((e=s)||((n=0===o)&&(!(i=String(t.l).match(On)[1]||null)&&l.self&&l.self.location&&(i=(r=l.self.location.protocol).substr(0,r.length-1)),n=!ps.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var a=2<Es(t)?t.a.statusText:""}catch(e){is(t.b,"Can not get status: "+e.message),a=""}t.i=a+" ["+_s(t)+"]",gs(t)}}finally{ws(t)}}}function ws(t,e){if(t.a){Is(t);var n=t.a,r=t.A[0]?s:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Yo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Is(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(l.clearTimeout(t.s),t.s=null)}function Es(t){return t.a?t.a.readyState:0}function _s(t){try{return 2<Es(t)?t.a.status:-1}catch(t){return-1}}function Ts(t,e){return e+" ["+t.P+" "+t.l+" "+_s(t)+"]"}function Os(t){var e=Ls;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.h=!1,this.i=0,this.b=null,this.l=0}function Ss(t,e,n){t.a=!0,t.c=n,t.f=!e,js(t)}function As(t){if(t.a){if(!t.m)throw new Cs;t.m=!1}}function Ns(t,e,n,r){t.g.push([e,n,r]),t.a&&js(t)}function ks(t){return z(t.g,function(t){return v(t[1])})}function js(t){var e;t.i&&t.a&&ks(t)&&(n=t.i,(e=xs[n])&&(l.clearTimeout(e.a),delete xs[n]),t.i=0),t.b&&(t.b.l--,delete t.b);for(var n=t.c,r=e=!1;t.g.length&&!t.h;){var i=(s=t.g.shift())[0],o=s[1],s=s[2];if(i=t.f?o:i)try{var a=i.call(s||t.s,n);void 0!==a&&(t.f=t.f&&(a==n||a instanceof Error),t.c=n=a),(C(n)||"function"==typeof l.Promise&&n instanceof l.Promise)&&(r=!0,t.h=!0)}catch(r){n=r,t.f=!0,ks(t)||(e=!0)}}t.c=n,r&&(a=b(t.v,t,!0),r=b(t.v,t,!1),n instanceof Os?(Ns(n,a,r),n.A=!0):n.then(a,r)),e&&(n=new Ps(n),xs[n.a]=n,t.i=n.a)}function Cs(){D.call(this)}function Ds(){D.call(this)}function Ps(t){this.a=l.setTimeout(b(this.c,this),0),this.b=t}(t=ls.prototype).Ma=function(){void 0!==h&&this.a&&(this.i="Timed out after "+this.g+"ms, aborting",is(this.b,Ts(this,this.i)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(is(this.b,Ts(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ws(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ws(this,!0)),ls.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.h||this.f?bs(this):this.Ic())},t.Ic=function(){bs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Yo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return is(this.b,"Can not get response: "+t.message),null}},Os.prototype.cancel=function(t){var e;this.a?this.c instanceof Os&&this.c.cancel():(this.b&&(e=this.b,delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())),this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new Ds,As(this),Ss(this,!1,t)))},Os.prototype.v=function(t,e){this.h=!1,Ss(this,t,e)},Os.prototype.then=function(t,e,n){var r,i,o=new de(function(t,e){r=t,i=e});return Ns(this,r,function(t){t instanceof Ds?o.cancel():i(t)}),o.then(t,e,n)},Os.prototype.$goog_Thenable=!0,E(Cs,D),Cs.prototype.message="Deferred has already fired",Cs.prototype.name="AlreadyCalledError",E(Ds,D),Ds.prototype.message="Deferred was canceled",Ds.prototype.name="CanceledError",Ps.prototype.c=function(){throw delete xs[this.a],this.b};var xs={};function Rs(t){var e={},n=e.document||document,r=Et(t).toString(),i=ue(document,"SCRIPT"),o={Vb:i,Ma:void 0},s=new Os(o),a=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(a=window.setTimeout(function(){Ms(i,!0);var t=new Fs(Us,"Timeout reached for loading script "+r);As(s),Ss(s,!1,t)},u),o.Ma=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ms(i,e.wd||!1,a),As(s),Ss(s,!0,null))},i.onerror=function(){Ms(i,!0,a);var t=new Fs(Vs,"Error while loading script "+r);As(s),Ss(s,!1,t)},pt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ie(i,o),o=t,dt(t=i,"HTMLScriptElement"),t.src=Et(o),(o=(o=t.ownerDocument&&t.ownerDocument.defaultView)&&o!=l?p(o.document):f=null===f?p(l.document):f)&&t.setAttribute("nonce",o),((n=((o=n)||document).getElementsByTagName("HEAD"))&&0!=n.length?n[0]:o.documentElement).appendChild(i),s}function Ls(){var t;this&&this.Vb&&((t=this.Vb)&&"SCRIPT"==t.tagName&&Ms(t,!0,this.Ma))}function Ms(t,e,n){null!=n&&l.clearTimeout(n),t.onload=s,t.onerror=s,t.onreadystatechange=s,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Vs=0,Us=1;function Fs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function qs(t){this.f=t}function Bs(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Gs,this.g=lt(t.secureTokenHeaders||Ks),this.i=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Ws,this.a=lt(t.firebaseHeaders||Js),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==pr(),!(n=l.XMLHttpRequest||n&&Kl.a.INTERNAL.node&&Kl.a.INTERNAL.node.XMLHttpRequest)&&!fr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,fr()?this.f=new os(self):dr()?this.f=new qs(n):this.f=new zo,this.b=null}E(Fs,D),E(qs,Fo),qs.prototype.a=function(){return new this.f},qs.prototype.b=function(){return{}};var Hs,zs="idToken",Gs=new Pr(3e4,6e4),Ks={"Content-Type":"application/x-www-form-urlencoded"},Ws=new Pr(3e4,6e4),Js={"Content-Type":"application/json"};function Xs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ys(t,e){e&&(t.l=$s("https://securetoken.googleapis.com/v1/token",e),t.i=$s("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.h=$s("https://identitytoolkit.googleapis.com/v2/",e))}function $s(t,e){return t=Dn(t),e=Dn(e.url),t.c=t.a+t.c,An(t,e.f),t.a=e.a,Nn(t,e.g),t.toString()}function Qs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Zs(t,e,n,r,i,o,s){var a;(t=!((a=mr(a=wr())==yr&&(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&a<30||Gt&&ee&&!(9<ee))||fr()?b(t.u,t):(Hs=Hs||new de(function(t,e){var n,r;n=t,r=e,((window.gapi||{}).client||{}).request?n():(l[ea]=function(){((window.gapi||{}).client||{}).request?n():r(Error("CORS_UNSUPPORTED"))},Ns(Rs(_t(ta,{onload:ea})),null,function(){r(Error("CORS_UNSUPPORTED"))},void 0))}),b(t.s,t)))(e,n,r,i,o,s)}Bs.prototype.S=function(){return this.b},Bs.prototype.u=function(t,n,e,r,i,o){if(fr()&&(void 0===l.fetch||void 0===l.Headers||void 0===l.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,a=new ls(this.f);o&&(a.g=Math.max(0,o),s=setTimeout(function(){a.dispatchEvent("timeout")},o)),vn(a,"complete",function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return is(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}n&&n(e)}),yn(a,"ready",function(){s&&clearTimeout(s),Ve(this)}),yn(a,"timeout",function(){s&&clearTimeout(s),Ve(this),n&&n(null)}),vs(a,t,e,r,i)};var ta=new vt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),ea="__fcb"+Math.floor(1e6*Math.random()).toString();function na(t){if("string"!=typeof(t=t.email)||!ur.test(t))throw new T("invalid-email")}function ra(t){"email"in t&&na(t)}function ia(t){if(!t[zs]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,lt(t));throw new T("internal-error")}}function oa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Bs.prototype.s=function(t,n,r,i,o){var s=this;Hs.then(function(){window.gapi.client.setApiKey(s.c);var e=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:r,body:i,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(e),n&&n(t)}})}).o(function(t){n&&n({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Bs.prototype.yb=function(){return Ja(this,La,{})},Bs.prototype.Ab=function(t,e){return Ja(this,xa,{idToken:t,email:e})},Bs.prototype.Bb=function(t,e){return Ja(this,Ra,{idToken:t,password:e})};var sa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function aa(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ua(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ca(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Kn(t=new Bn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ha(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Uo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Uo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Uo(t)):t.errorMessage&&(e=Xa(t.errorMessage)),e)throw e;ia(t)}function la(t,e){return e.returnIdpCredential=!0,Ja(t,Ua,e)}function fa(t,e){return e.returnIdpCredential=!0,Ja(t,qa,e)}function pa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ja(t,Fa,e)}function da(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Bs.prototype).Cb=function(t,r){var i={idToken:t},o=[];return ct(sa,function(t,e){var n=r[e];null===n?o.push(t):e in r&&(i[e]=n)}),o.length&&(i.deleteAttribute=o),Ja(this,xa,i)},t.ub=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),Ja(this,ka,t)},t.vb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ja(this,Sa,t)},t.tb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ja(this,Aa,t)},t.Db=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ja(this,Na,t)},t.eb=function(t){return Ja(this,za,t)},t.mb=function(t,e){return Ja(this,Da,{oobCode:t,newPassword:e})},t.Qa=function(t){return Ja(this,ya,{oobCode:t})},t.ib=function(t){return Ja(this,va,{oobCode:t})};var va={endpoint:"setAccountInfo",B:da,Z:"email",C:!0},ya={endpoint:"resetPassword",B:da,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},C:!0},ma={endpoint:"signupNewUser",B:function(t){if(na(t),!t.password)throw new T("weak-password")},F:ia,U:!0,C:!0},ga={endpoint:"createAuthUri",C:!0},ba={endpoint:"deleteAccount",M:["idToken"]},wa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ia={endpoint:"emailLinkSignin",M:["email","oobCode"],B:na,F:ia,U:!0,C:!0},Ea={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:na,F:ia,U:!0},_a={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:aa,F:ia,C:!0,Na:!0},Ta={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:aa,F:ia,C:!0,Na:!0},Oa={endpoint:"getAccountInfo"},Sa={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");na(t)},Z:"email",C:!0},Aa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Na={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},ka={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");na(t)},Z:"email",C:!0},ja={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ca={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Da={endpoint:"resetPassword",B:da,Z:"email",C:!0},Pa={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},xa={endpoint:"setAccountInfo",M:["idToken"],B:ra,U:!0},Ra={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ra(t),!t.password)throw new T("weak-password")},F:ia,U:!0},La={endpoint:"signupNewUser",F:ia,U:!0,C:!0},Ma={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Va={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Ua={endpoint:"verifyAssertion",B:ua,Xa:ca,F:ha,U:!0,C:!0},Fa={endpoint:"verifyAssertion",B:ua,Xa:ca,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw Xa(t.errorMessage);ia(t)},U:!0,C:!0},qa={endpoint:"verifyAssertion",B:function(t){if(ua(t),!t.idToken)throw new T("internal-error")},Xa:ca,F:ha,U:!0},Ba={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new T("invalid-custom-token")},F:ia,U:!0,C:!0},Ha={endpoint:"verifyPassword",B:function(t){if(na(t),!t.password)throw new T("wrong-password")},F:ia,U:!0,C:!0},za={endpoint:"verifyPhoneNumber",B:oa,F:ia,C:!0},Ga={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new T("internal-error");oa(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Uo(t);ia(t)}},Ka={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:oa,F:ia,C:!0},Wa={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[zs]^!!t.refreshToken)throw new T("internal-error")},C:!0,Na:!0};function Ja(t,e,n){if(!function(t,e){if(!e||!e.length)return 1;if(t){for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return}return 1}}(n,e.M))return Ee(new T("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Ie(n).then(e.B).then(function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Dn(e+n);jn(a,"key",t.c),s&&jn(a,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&jn(a,c,i[c]);return new de(function(e,n){Zs(t,a.toString(),function(t){t?t.error?n(Ya(t,o||{})):e(t):n(new T("network-request-failed"))},r,u?void 0:Yn(Nr(i)),t.a,t.m.get())})}(t,i?t.h:t.i,e.endpoint,o,n,e.Gb,e.kb||!1)}).then(function(t){return r=t,e.Xa?e.Xa(n,r):r}).then(e.F).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]})}function Xa(t){return Ya({error:{errors:[{message:t}],code:400,message:t}})}function Ya(t,e){var n,r=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new T(i[r]):null)return r;for(n in r=t.error&&t.error.message||"",pt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===r.indexOf(n))return new T(i[n],e);return new T("internal-error",e=!e&&t?Ar(t):e)}function $a(t){var o;this.b=t,this.a=null,this.qb=(o=this,(eu=eu||new de(function(t,e){function n(){Dr(),Ir("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Dr(),e(Error("Network Error"))},timeout:Za.get()})}var r;Ir("gapi.iframes.Iframe")?t():Ir("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),l[r]=function(){Ir("gapi.load")?n():e(Error("Network Error"))},Ie(Rs(r=_t(Qa,{onload:r}))).o(function(){e(Error("Network Error"))}))}).o(function(t){throw eu=null,t})).then(function(){return new de(function(r,i){Ir("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(t){function e(){clearTimeout(n),r()}o.a=t,o.a.restyle({setHideOnLeave:!1});var n=setTimeout(function(){i(Error("Network Error"))},tu.get());t.ping(e).then(e,function(){i(Error("Network Error"))})})})}))}var Qa=new vt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),Za=new Pr(3e4,6e4),tu=new Pr(5e3,15e3),eu=null;function nu(t,e,n,r){this.l=t,this.i=e,this.h=n,this.g=r,this.f=null,t=this.g?Pn((t=Dn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):Pn("https",this.l,null,"/__/auth/iframe"),this.a=t,jn(this.a,"apiKey",this.i),jn(this.a,"appName",this.h),this.b=null,this.c=[]}function ru(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.v=r,this.m=o,this.h=this.g=this.l=null,this.a=i,this.i=this.f=null}function iu(t){try{return Kl.a.app(t).auth().Ga()}catch(t){return[]}}function ou(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.h=i||null,this.l=this.u=this.A=null,this.i=[],this.v=this.a=null}function su(t){var a=nr();return Ja(t,ja,{}).then(function(t){return t.authorizedDomains||[]}).then(function(t){t:{for(var e=(n=Dn(a)).f,n=n.a,r=0;r<t.length;r++){var i=t[r],o=n,s=e;if(o=0==i.indexOf("chrome-extension://")?Dn(i).a==o&&"chrome-extension"==s:("http"==s||"https"==s)&&(ar.test(i)?o==i:(i=i.split(".").join("\\."),new RegExp("^(.+\\."+i+"|"+i+")$","i").test(o)))){t=!0;break t}}t=!1}if(!t)throw new Mo(nr())})}function au(i){return i.v||(i.v=cr().then(function(){var t,e,n,r;i.u||(t=i.c,e=i.h,n=iu(i.b),(r=new nu(i.s,i.g,i.b,i.f)).f=t,r.b=e,r.c=X(n||[]),i.u=r.toString()),i.m=new $a(i.u),function(r){if(!r.m)throw Error("IfcHandler must be initialized!");var t,e;t=r.m,e=function(t){var e={};if(t&&t.authEvent){var n=!1;for(t=Po(t.authEvent),e=0;e<r.i.length;e++)n=r.i[e](t)||n;return(e={}).status=n?"ACK":"ERROR",Ie(e)}return e.status="ERROR",Ie(e)},t.qb.then(function(){t.a.register("authEvent",e,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(i)})),i.v}function uu(t){return t.l||(t.A=t.c?br(t.c,iu(t.b)):null,t.l=new Bs(t.g,j(t.h),t.A),t.f&&Ys(t.l,t.f)),t.l}function cu(t,e,n,r,i,o,s,a,u,c,h,l){return(t=new ru(t,e,n,r,i,l)).l=o,t.g=s,t.h=a,t.b=lt(u||null),t.f=c,t.xb(h).toString()}function hu(t){if(this.a=t||Kl.a.INTERNAL.reactNative&&Kl.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function lu(t){this.b=t,this.a={},this.f=b(this.c,this)}nu.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):Gn(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):Gn(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):Gn(this.a.b,"fw"),this.a.toString()},ru.prototype.xb=function(t){return this.i=t,this},ru.prototype.toString=function(){var t;if(jn(t=this.m?Pn((t=Dn(this.m.url)).f,t.a,t.g,"/emulator/auth/handler"):Pn("https",this.u,null,"/__/auth/handler"),"apiKey",this.s),jn(t,"appName",this.c),jn(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=Kl.a.app(this.c).auth().ka()}catch(t){n=null}for(r in e.nb=n,jn(t,"providerId",this.a.providerId),e=Nr((n=this.a).Hb))e[r]=e[r].toString();for(var r=n.Pc,e=lt(e),i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),ht(e)||jn(t,"customParameters",Ar(e))}if("function"==typeof this.a.Pb&&(n=this.a.Pb()).length&&jn(t,"scopes",n.join(",")),this.l?jn(t,"redirectUrl",this.l):Gn(t.b,"redirectUrl"),this.g?jn(t,"eventId",this.g):Gn(t.b,"eventId"),this.h?jn(t,"v",this.h):Gn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Cn(t,s)&&jn(t,s,this.b[s]);return this.i?jn(t,"tid",this.i):Gn(t.b,"tid"),this.f?jn(t,"eid",this.f):Gn(t.b,"eid"),(s=iu(this.c)).length&&jn(t,"fw",s.join(",")),t.toString()},(t=ou.prototype).Nb=function(e,n,t){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.la().then(function(){var t,r;r={type:"webStorageSupport"},au(t=o).then(function(){return e=t.m,n=r,e.qb.then(function(){return new de(function(t){e.a.send(n.type,n,t,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})});var e,n}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}).then(function(t){t||(e&&or(e),n(i),s=!0)})}).o(function(){}).then(function(){if(!s)return n=e,new de(function(e){return function t(){bn(2e3).then(function(){return n&&!n.closed?t():void e()})}()});var n}).then(function(){if(!s)return bn(t).then(function(){n(r)})})},t.Wb=function(){var t=wr();return!Sr(t)&&!Cr(t)},t.Sb=function(){return!1},t.Lb=function(e,t,n,r,i,o,s,a){if(!e)return Ee(new T("popup-blocked"));if(s&&!Sr())return this.la().o(function(t){or(e),i(t)}),r(),Ie();this.a||(this.a=su(uu(this)));var u=this;return this.a.then(function(){var t=u.la().o(function(t){throw or(e),i(t),t});return r(),t}).then(function(){Co(n),s||rr(cu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.h,a,u.f),e)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Mb=function(t,e,n,r){this.a||(this.a=su(uu(this)));var i=this;return this.a.then(function(){Co(e),rr(cu(i.s,i.g,i.b,t,e,nr(),n,i.c,void 0,i.h,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.la=function(){var t=this;return au(this).then(function(){return t.m.qb}).o(function(){throw t.a=null,new T("network-request-failed")})},t.Zb=function(){return!0},t.Ea=function(t){this.i.push(t)},t.Ra=function(e){W(this.i,function(t){return t==e})},(t=hu.prototype).get=function(t){return Ie(this.a.getItem(t)).then(function(t){return t&&kr(t)})},t.set=function(t,e){return Ie(this.a.setItem(t,Ar(e)))},t.T=function(t){return Ie(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var fu,pu=[];function du(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function vu(t){this.a=t}function yu(t){this.c=t,this.b=!1,this.a=[]}function mu(r,t,e,n){var i,o,s,a,u=e||{},c=null;if(r.b)return Ee(Error("connection_unavailable"));var h=n?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new de(function(e,n){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),s=setTimeout(function(){n(Error("unsupported_event"))},h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){n(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?e(t.data.response):n(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),n(Error("invalid_response"))))}},r.a.push(c),l.port1.addEventListener("message",o),r.c.postMessage({eventType:t,eventId:i,data:u},[l.port2])):n(Error("connection_unavailable"))}).then(function(t){return gu(r,c),t}).o(function(t){throw gu(r,c),t})}function gu(t,e){var n,r;e&&(n=e.messageChannel,r=e.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,function(t){return t==e}))}function bu(){if(!_u())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=l.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.i=null;var t,e,n,r=this;fr()&&self?(this.m=(n=fr()?self:null,q(pu,function(t){t.b==n&&(e=t)}),e||(e=new lu(n),pu.push(e)),e),du(this.m,"keyChanged",function(t,n){return Nu(r).then(function(e){return 0<e.length&&q(r.a,function(t){t(e)}),{keyProcessed:G(e,n.key)}})}),du(this.m,"ping",function(){return Ie(["keyChanged"])})):((t=l.navigator)&&t.serviceWorker?Ie().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ie(null)).then(function(t){(r.i=t)&&(r.g=new yu(new vu(t)),mu(r.g,"ping",null,!0).then(function(t){t[0].fulfilled&&G(t[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}function wu(i){return new de(function(e,n){var t=i.v.open("firebaseLocalStorageDb",1);t.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},t.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},t.onsuccess=function(t){var r;(t=t.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(t):(r=i,new de(function(t,e){var n=r.v.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}}).then(function(){return wu(i)}).then(function(t){e(t)}).o(function(t){n(t)}))}})}function Iu(t){return t.h||(t.h=wu(t)),t.h}function Eu(i,t){var o=0;return new de(function e(n,r){Iu(i).then(t).then(n).o(function(t){return 3<++o?void r(t):Iu(i).then(function(t){return t.close(),i.h=void 0,e(n,r)}).o(function(t){r(t)})})})}function _u(){try{return l.indexedDB}catch(t){return}}function Tu(t){return t.objectStore("firebaseLocalStorage")}function Ou(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Su(t){return new de(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Au(t,e){return t.g&&t.i&&((n=l.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.i?mu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ie();var n}function Nu(r){return Iu(r).then(function(t){var i=Tu(Ou(t,!1));return i.getAll?Su(i.getAll()):new de(function(e,n){var r=[],t=i.openCursor();t.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},t.onerror=function(t){n(t.target.error)}})}).then(function(t){var e={},n=[];if(0==r.b){for(n=0;n<t.length;n++)e[t[n].fbase_key]=t[n].value;n=function t(e,n){var r,i=[];for(r in e)!(r in n)||typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r);for(r in n)r in e||i.push(r);return i}(r.c,e),r.c=e}return n})}function ku(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function ju(t){var r=this,i=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then(function(){if(_u()){var e=jr(),n="__sak"+e;return fu=fu||new bu,(i=fu).set(n,e).then(function(){return i.get(n)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return i.T(n)}).then(function(){return i}).o(function(){return r.c})}return r.c}).then(function(t){return r.type=t.type,t.ca(function(e){q(r.a,function(t){t(e)})}),t})}function Cu(){this.a={},this.type="inMemory"}function Du(){if(!function(){var t="Node"==pr();if(t=Pu()||t&&Kl.a.INTERNAL.node&&Kl.a.INTERNAL.node.localStorage)try{return t.setItem("__sak","1"),t.removeItem("__sak"),1}catch(t){return}}()){if("Node"==pr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Pu()||Kl.a.INTERNAL.node.localStorage,this.type="localStorage"}function Pu(){try{var t=l.localStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function xu(){this.type="nullStorage"}function Ru(){if(!function(){var t="Node"==pr();if(t=Lu()||t&&Kl.a.INTERNAL.node&&Kl.a.INTERNAL.node.sessionStorage)try{return t.setItem("__sak","1"),t.removeItem("__sak"),1}catch(t){return}}()){if("Node"==pr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Lu()||Kl.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Lu(){try{var t=l.sessionStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Mu(){var t={};t.Browser=Fu,t.Node=qu,t.ReactNative=Bu,t.Worker=Hu,this.a=t[pr()]}lu.prototype.c=function(n){var e,r=n.data.eventType,i=n.data.eventId,t=this.a[r];t&&0<t.length&&(n.ports[0].postMessage({status:"ack",eventId:i,eventType:r,response:null}),e=[],q(t,function(t){e.push(Ie().then(function(){return t(n.origin,n.data.data)}))}),Te(e).then(function(t){var e=[];q(t,function(t){e.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})}),q(e,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:e})}))},vu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},yu.prototype.close=function(){for(;0<this.a.length;)gu(this,this.a[0]);this.b=!0},(t=bu.prototype).set=function(r,i){var o=this,s=!1;return Eu(this,function(t){return Su((t=Tu(Ou(t,!0))).get(r))}).then(function(n){return Eu(o,function(t){if(t=Tu(Ou(t,!0)),n)return n.value=i,Su(t.put(n));o.b++,s=!0;var e={};return e.fbase_key=r,e.value=i,Su(t.add(e))})}).then(function(){return o.c[r]=i,Au(o,r)}).na(function(){s&&o.b--})},t.get=function(e){return Eu(this,function(t){return Su(Tu(Ou(t,!1)).get(e))}).then(function(t){return t&&t.value})},t.T=function(e){var n=this,r=!1;return Eu(this,function(t){return r=!0,n.b++,Su(Tu(Ou(t,!0)).delete(e))}).then(function(){return delete n.c[e],Au(n,e)}).na(function(){r&&n.b--})},t.ca=function(t){var n;0==this.a.length&&(ku(n=this),function e(){n.f=setTimeout(function(){n.l=Nu(n).then(function(e){0<e.length&&q(n.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()),this.a.push(t)},t.ia=function(e){W(this.a,function(t){return t==e}),0==this.a.length&&ku(this)},(t=ju.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},t.set=function(e,n){return this.b.then(function(t){return t.set(e,n)})},t.T=function(e){return this.b.then(function(t){return t.T(e)})},t.ca=function(t){this.a.push(t)},t.ia=function(e){W(this.a,function(t){return t==e})},(t=Cu.prototype).get=function(t){return Ie(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ie()},t.T=function(t){return delete this.a[t],Ie()},t.ca=function(){},t.ia=function(){},(t=Du.prototype).get=function(t){var e=this;return Ie().then(function(){return kr(e.a.getItem(t))})},t.set=function(e,n){var r=this;return Ie().then(function(){var t=Ar(n);null===t?r.T(e):r.a.setItem(e,t)})},t.T=function(t){var e=this;return Ie().then(function(){e.a.removeItem(t)})},t.ca=function(t){l.window&&en(l.window,"storage",t)},t.ia=function(t){l.window&&on(l.window,"storage",t)},(t=xu.prototype).get=function(){return Ie(null)},t.set=function(){return Ie()},t.T=function(){return Ie()},t.ca=function(){},t.ia=function(){},(t=Ru.prototype).get=function(t){var e=this;return Ie().then(function(){return kr(e.a.getItem(t))})},t.set=function(e,n){var r=this;return Ie().then(function(){var t=Ar(n);null===t?r.T(e):r.a.setItem(e,t)})},t.T=function(t){var e=this;return Ie().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Vu,Uu,Fu={D:Du,ab:Ru},qu={D:Du,ab:Ru},Bu={D:hu,ab:xu},Hu={D:Du,ab:xu},zu={qd:"local",NONE:"none",sd:"session"};function Gu(){var t=!(Cr(wr())||!lr()),e=Sr(),n=Er();this.v=t,this.i=e,this.l=n,this.a={},t=Vu=Vu||new Mu;try{this.g=!er()&&Lr()||!l.indexedDB?new t.a.D:new ju(new(fr()?Cu:t.a.D))}catch(t){this.g=new Cu,this.i=!0}try{this.h=new t.a.ab}catch(t){this.h=new Cu}this.m=new Cu,this.f=b(this.Xb,this),this.b={}}function Ku(){return Uu=Uu||new Gu}function Wu(t,e){switch(e){case"session":return t.h;case"none":return t.m;default:return t.g}}function Ju(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Xu(t,e,n){return n=Ju(e,n),"local"==e.D&&(t.b[n]=null),Wu(t,e.D).T(n)}function Yu(t){t.c&&(clearInterval(t.c),t.c=null)}function $u(t){this.a=t,this.b=Ku()}(t=Gu.prototype).get=function(t,e){return Wu(this,t.D).get(Ju(t,e))},t.set=function(e,t,n){var r=Ju(e,n),i=this,o=Wu(this,e.D);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.D&&(i.b[r]=t)})},t.addListener=function(t,e,n){var r;t=Ju(t,e),this.l&&(this.b[t]=l.localStorage.getItem(t)),ht(this.a)&&(Wu(this,"local").ca(this.f),this.i||(er()||!Lr())&&l.indexedDB||!this.l||(Yu(r=this),r.c=setInterval(function(){for(var t in r.a){var e=l.localStorage.getItem(t),n=r.b[t];e!=n&&(r.b[t]=e,e=new ze({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),r.Xb(e))}},1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Ju(t,e),this.a[t]&&(W(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(Wu(this,"local").ia(this.f),Yu(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=l.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Wu(this,"local").ia(this.f):Yu(this),this.v)if(n=l.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?l.localStorage.setItem(e,r):l.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this,n=function(){void 0===t.a.a&&o.b[e]===l.localStorage.getItem(e)||(o.b[e]=l.localStorage.getItem(e),o.lb(e))};Gt&&ee&&10==ee&&l.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,b(this.lb,this))},t.lb=function(t){this.a[t]&&q(this.a[t],function(t){t()})};var Qu,Zu={name:"authEvent",D:"local"};function tc(){this.a=Ku()}function ec(t,e){this.b=nc,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.h=t,this.i=e,this.l=l.Int32Array?new Int32Array(64):Array(64),void 0===Qu&&(Qu=l.Int32Array?new Int32Array(cc):cc),this.reset()}E(ec,function(){this.b=-1});for(var nc=64,rc=nc-1,ic=[],oc=0;oc<rc;oc++)ic[oc]=0;var sc=J(128,ic);function ac(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;e<64;e++){var i=0|n[e-15],r=0|n[e-2],o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0,s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&l)+(0|Qu[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i;i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function uc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ac(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ac(t),i=0)}}t.c=i,t.g+=n}ec.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.i):X(this.i)};var cc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function hc(){ec.call(this,8,lc)}E(hc,ec);var lc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fc(t,e,n,r,i,o){this.m=t,this.h=e,this.l=n,this.v=r||null,this.u=i||null,this.s=o,this.i=e+":"+n,this.A=new tc,this.g=new $u(this.i),this.f=null,this.b=[],this.a=this.c=null}function pc(t){return new T("invalid-cordova-configuration",t)}function dc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function vc(c){return c.f||(c.f=c.la().then(function(){return new de(function(n){function e(r){s=!0,a&&a.cancel(),yc(i).then(function(t){var e,n=o;t&&r&&r.url&&(e=null,n=(e=-1!=(n=Yi(r.url)).indexOf("/__/auth/callback")?(e="object"==typeof(e=kr(Cn(e=Dn(n),"firebaseError")||null))?O(e):null)?new Do(t.c,t.b,null,null,e,null,t.S()):new Do(t.c,t.b,n,t.f,null,null,t.S()):e)||o),dc(i,n)})}var i,t,r,o,s,a,u;c.Ea(function t(e){return n(e),c.Ra(t),!1}),i=c,o=new Do("unknown",null,null,null,new T("no-auth-event")),s=!1,a=bn(500).then(function(){return yc(i).then(function(){s||dc(i,o)})}),u=l.handleOpenURL,l.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ir("BuildInfo.packageName",l).toLowerCase()+"://")&&e({url:t}),"function"==typeof u)try{u(t)}catch(t){console.error(t)}},Lo=Lo||new xo,t=e,(r=Lo).a.push(t),r.b||(r.b=function(t){for(var e=0;e<r.a.length;e++)r.a[e](t)},"function"==typeof(t=Ir("universalLinks.subscribe",l))&&t(null,r.b))})})),c.f}function yc(e){var t,n=null;return(t=e.g).b.get(Zu,t.a).then(Po).then(function(t){return n=t,Xu((t=e.g).b,Zu,t.a)}).then(function(){return n})}function mc(t){this.a=t,this.b=Ku()}(t=fc.prototype).la=function(){return this.Ia||(this.Ia=(hr(void 0)?cr().then(function(){return new de(function(t,e){var n=l.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ee(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ir("universalLinks.subscribe",l))throw pc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ir("BuildInfo.packageName",l))throw pc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ir("cordova.plugins.browsertab.openUrl",l))throw pc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ir("cordova.InAppBrowser.open",l))throw pc("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")}))},t.Nb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ie()},t.Lb=function(){return Ee(new T("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Ee(new T("redirect-operation-pending"));var i=this,o=l.document,s=null,a=null,u=null,c=null;return this.c=Ie().then(function(){return Co(e),vc(i)}).then(function(){return function(n,t,e,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Do(t,r,null,o,new T("no-auth-event"),null,i),a=Ir("BuildInfo.packageName",l);if("string"!=typeof a)throw new T("invalid-cordova-configuration");var u=Ir("BuildInfo.displayName",l),c={};if(wr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!wr().toLowerCase().match(/android/))return Ee(new T("operation-not-supported-in-this-environment"));c.apn=a}u&&(c.appDisplayName=u),o=function(t){var e=new hc;uc(e,t),t=[];var n=8*e.g;e.c<56?uc(e,sc,56-e.c):uc(e,sc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ac(e),r=n=0;r<e.h;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return H(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(o),c.sessionId=o;var h=cu(n.m,n.h,n.l,t,e,null,r,n.v,c,n.u,i,n.s);return n.la().then(function(){var t=n.i;return n.A.a.set(Zu,s.w(),t)}).then(function(){var t=Ir("cordova.plugins.browsertab.isAvailable",l);if("function"!=typeof t)throw new T("invalid-cordova-configuration");var e=null;t(function(t){if(t){if("function"!=typeof(e=Ir("cordova.plugins.browsertab.openUrl",l)))throw new T("invalid-cordova-configuration");e(h)}else{if("function"!=typeof(e=Ir("cordova.InAppBrowser.open",l)))throw new T("invalid-cordova-configuration");t=wr(),n.a=e(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new de(function(e,t){a=function(){var t=Ir("cordova.plugins.browsertab.close",l);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(a),u=function(){s=s||bn(2e3).then(function(){t(new T("redirect-cancelled-by-user"))})},c=function(){xr()&&u()},o.addEventListener("resume",u,!1),wr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).o(function(t){return yc(i).then(function(){throw t})})}).na(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&i.Ra(a),i.c=null})},t.Ea=function(e){this.b.push(e),vc(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Do("unknown",null,null,null,new T("no-auth-event")),e(t))})},t.Ra=function(e){W(this.b,function(t){return t==e})};var gc={name:"pendingRedirect",D:"session"};function bc(t){return Xu(t.b,gc,t.a)}function wc(t,e,n,r){this.h={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.i=[],this.f=!1,this.l=b(this.s,this),this.b=new Rc,this.A=new Fc,this.g=new mc(Pc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Ic(this.O,this.m,this.v,S,this.G)}function Ic(t,e,n,r,i){var o=Kl.a.SDK_VERSION||null;return new(hr()?fc:ou)(t,e,n,o,r,i)}function Ec(e){e.f||(e.f=!0,e.a.Ea(e.l));var n=e.a;return e.a.la().o(function(t){throw e.a==n&&e.reset(),t})}function _c(n){n.a.Wb()&&Ec(n).o(function(t){var e=new Do("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));kc(t)&&n.s(e)}),n.a.Sb()||Lc(n.b)}function Tc(n,t){G(n.i,t)||n.i.push(t),n.f||(t=n.g).b.get(gc,t.a).then(function(t){return"pending"==t}).then(function(t){t?bc(n.g).then(function(){Ec(n).o(function(t){var e=new Do("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));kc(t)&&n.s(e)})}):_c(n)}).o(function(){_c(n)})}function Oc(t,e){W(t.i,function(t){return t==e})}wc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Ic(this.O,this.m,this.v,null,this.G),this.h={}},wc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=I()-this.u&&(this.h={},this.u=0),t&&t.getUid()&&this.h.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.i.length;n++){var r=this.i[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.i(t,r),t&&(t.f||t.b)&&(this.h[t.getUid()]=!0,this.u=I())),e=!0;break}}return Lc(this.b),e};var Sc=new Pr(2e3,1e4),Ac=new Pr(3e4,6e4);function Nc(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function kc(t){return t&&"auth/cordova-not-ready"==t.code}function jc(e,t,n,r,i){var o,s;return(s=e.g).b.set(gc,"pending",s.a).then(function(){return e.a.Mb(t,n,r,i).o(function(t){if(kc(t))throw new T("operation-not-supported-in-this-environment");return o=t,bc(e.g).then(function(){throw o})}).then(function(){return e.a.Zb()?new de(function(){}):bc(e.g).then(function(){return e.qa()}).then(function(){}).o(function(){})})})}function Cc(t,e,n,r,i){return t.a.Nb(r,function(t){e.ma(n,null,t,i)},Sc.get())}wc.prototype.qa=function(){return this.b.qa()};var Dc={};function Pc(t,e,n){return t=t+":"+e,t=n?t+":"+n.url:t}function xc(t,e,n,r){var i=Pc(e,n,r);return Dc[i]||(Dc[i]=new wc(t,e,n,r)),Dc[i]}function Rc(){this.b=null,this.f=[],this.c=[],this.a=null,this.h=this.g=!1}function Lc(t){t.g||(t.g=!0,Uc(t,!1,null,null))}function Mc(t){t.g&&!t.h&&Uc(t,!1,null,null)}function Vc(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Uc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ee(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Vc(t,n):Vc(t,{user:null}),t.f=[],t.c=[]}function Fc(){}function qc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Bc(t,e){this.a=e,qr(this,"verificationId",t)}function Hc(t,e,n,r){return new No(t).eb(e,n).then(function(t){return new Bc(t,r)})}function zc(t){var e=Li(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Br(this,{token:t,expirationTime:Rr(1e3*e.exp),authTime:Rr(1e3*e.auth_time),issuedAtTime:Rr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Gc(t,e,n){var r=e&&e[Wc];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=lt(e),this.g=n,this.c=new $i(null,r),this.b=[];var i=this;q(e[Kc]||[],function(t){(t=Kr(t))&&i.b.push(t)}),qr(this,"auth",this.a),qr(this,"session",this.c),qr(this,"hints",this.b)}Rc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Rc.prototype.i=function(t,u){var e,n,r,i;t?(this.reset(),this.g=!0,e=t.c,n=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,i=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code,this.h=!(!r&&!i),"unknown"!=e||r||i?t.a?(Uc(this,!0,null,t.a),Ie()):u.Fa(e,n)?function(e,t,n){n=u.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.h,s=t.S(),a=!!t.c.match(/Redirect$/);n(r,i,s,o).then(function(t){Uc(e,a,t,null)}).o(function(t){Uc(e,a,null,t)})}(this,t,u):Ee(new T("invalid-auth-event")):(Uc(this,!1,null,null),Ie())):Ee(new T("invalid-auth-event"))},Rc.prototype.qa=function(){var i=this;return new de(function(t,e){var n,r;i.b?i.b().then(t,e):(i.f.push(t),i.c.push(e),n=i,r=new T("timeout"),n.a&&n.a.cancel(),n.a=bn(Ac.get()).then(function(){n.b||(n.g=!0,Uc(n,!0,null,r))}))})},Fc.prototype.i=function(t,e){var n,r,i,o,s;t?(n=t.c,r=t.b,t.a?(e.ma(t.c,null,t.a,t.b),Ie()):e.Fa(n,r)?(i=e,o=(t=t).b,s=t.c,i.Fa(s,o)(t.g,t.f,t.S(),t.h).then(function(t){i.ma(s,t,null,o)}).o(function(t){i.ma(s,null,t,o)})):Ee(new T("invalid-auth-event"))):Ee(new T("invalid-auth-event"))},Bc.prototype.confirm=function(t){return t=ko(this.verificationId,t),this.a(t)};var Kc="mfaInfo",Wc="mfaPendingCredential";function Jc(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new Gc(t,e,n),qr(this,"resolver",this.b)}function Xc(t,e,n){if(t&&y(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Jc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Yc(){}function $c(t){qr(this,"factorId",t.fa),this.a=t}function Qc(t){if($c.call(this,t),this.a.fa!=No.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zc(t,e){for(var n in He.call(this,t),e)this[n]=e[n]}function th(t,e){this.a=t,this.b=[],this.c=b(this.xc,this),en(this.a,"userReloaded",this.c);var r=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,function(t){var e=null,n={};if(t){t.uid&&(n[Xr]=t.uid),t.displayName&&(n[Wr]=t.displayName),t.enrollmentTime&&(n[Jr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(n[Yr]=t.phoneNumber);try{e=new $r(n)}catch(t){}t=e}else t=null;t&&r.push(t)}),eh(this,r)}function eh(t,e){t.b=e,qr(t,"enrolledFactors",e)}function nh(t,e,n){if(this.i=t,this.h=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ih(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function oh(t,e){t.b=Ri(e[zs]||""),t.a=e.refreshToken,ih(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function sh(t,e){this.a=t||null,this.b=e||null,Br(this,{lastSignInTime:Rr(e||null),creationTime:Rr(t||null)})}function ah(t,e,n,r,i,o){Br(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function uh(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r,i=Kl.a.SDK_VERSION?br(Kl.a.SDK_VERSION):null;this.a=new Bs(this.l,j(S),i),t.emulatorConfig&&Ys(this.a,t.emulatorConfig),this.b=new rh(this.a),yh(this,e[zs]),oh(this.b,e),qr(this,"refreshToken",this.b.a),bh(this,n||{}),dn.call(this),this.P=!1,this.s&&_r()&&(this.h=xc(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=(r=this,new nh(function(){return r.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var t=r.b.c-Date.now()-3e5;return 0<t?t:0})),this.$=b(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.i)},this.ba=null,this.za=function(t){Ys(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){lh(o,t.f)},this.aa=null,this.N=new th(this,n),qr(this,"multiFactor",this.N)}function ch(t,e){t.ba&&on(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&en(e,"languageCodeChanged",t.Ba)}function hh(t,e){t.W&&on(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&en(e,"emulatorConfigChanged",t.za)}function lh(t,e){t.X=e,Qs(t.a,Kl.a.SDK_VERSION?br(Kl.a.SDK_VERSION,t.X):null)}function fh(t,e){t.aa&&on(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&en(e,"frameworkChanged",t.Aa)}function ph(e){try{return Kl.a.app(e.m).auth()}catch(t){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function dh(t){t.A||t.u.b||(t.u.start(),on(t,"tokenChanged",t.$),en(t,"tokenChanged",t.$))}function vh(t){on(t,"tokenChanged",t.$),t.u.stop()}function yh(t,e){t.ya=e,qr(t,"_lat",e)}function mh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Te(e).then(function(){return t})}function gh(t){t.h&&!t.P&&(t.P=!0,Tc(t.h,t))}function bh(t,e){Br(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new sh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function wh(){}function Ih(t){return Ie().then(function(){if(t.A)throw new T("app-deleted")})}function Eh(t){return H(t.providerData,function(t){return t.providerId})}function _h(t,e){e&&(Th(t,e.providerId),t.providerData.push(e))}function Th(t,e){W(t.providerData,function(t){return t.providerId==e})}function Oh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&qr(t,e,n)}function Sh(e,t){var n,r;e!=t&&(Br(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?qr(e,"metadata",new sh((r=t.metadata).a,r.b)):qr(e,"metadata",new sh),q(t.providerData,function(t){_h(e,t)}),n=e.b,r=t.b,n.b=r.b,n.a=r.a,n.c=r.c,qr(e,"refreshToken",e.b.a),eh(e.N,t.N.b))}function Ah(r){return r.I().then(function(t){var e,n=r.isAnonymous;return Ja((e=r).a,Oa,{idToken:t}).then(b(e.Jc,e)).then(function(){return n||Oh(r,"isAnonymous",!1),t})})}function Nh(t,e){e[zs]&&t.ya!=e[zs]&&(oh(t.b,e),t.dispatchEvent(new Zc("tokenChanged")),yh(t,e[zs]),Oh(t,"refreshToken",t.b.a))}function kh(t,e){return Ah(t).then(function(){if(G(Eh(t),e))return mh(t).then(function(){throw new T("provider-already-linked")})})}function jh(t,e,n){return Hr({user:t,credential:jo(e),additionalUserInfo:e=qi(e),operationType:n})}function Ch(t,e){return Nh(t,e),t.reload().then(function(){return t})}function Dh(n,r,t,e,i){if(!_r())return Ee(new T("operation-not-supported-in-this-environment"));if(n.f&&!i)return Ee(n.f);var o=Fi(t.providerId),s=jr(n.uid+":::"),a=null,u=sr(a=(!Sr()||lr())&&n.s&&t.isOAuthProvider?cu(n.s,n.l,n.m,r,t,null,s,Kl.a.SDK_VERSION||null,null,null,n.tenantId):a,o&&o.ua,o&&o.ta);return e=e().then(function(){if(xh(n),!i)return n.I().then(function(){})}).then(function(){return Nc(n.h,u,r,t,s,!!a,n.tenantId)}).then(function(){return new de(function(t,e){n.ma(r,null,new T("cancelled-popup-request"),n.i||null),n.g=t,n.O=e,n.i=s,n.c=Cc(n.h,n,r,u,s)})}).then(function(t){return u&&or(u),t?Hr(t):null}).o(function(t){throw u&&or(u),t}),Rh(n,e,i)}function Ph(e,t,n,r,i){if(!_r())return Ee(new T("operation-not-supported-in-this-environment"));if(e.f&&!i)return Ee(e.f);var o=null,s=jr(e.uid+":::");return r=r().then(function(){if(xh(e),!i)return e.I().then(function(){})}).then(function(){return e.ga=s,mh(e)}).then(function(t){return t=e.ha?(t=e.ha).b.set(Vh,e.w(),t.a):t}).then(function(){return jc(e.h,t,n,s,e.tenantId)}).o(function(t){if(o=t,e.ha)return Uh(e.ha);throw o}).then(function(){if(o)throw o}),Rh(e,r,i)}function xh(t){if(!t.h||!t.P){if(t.h&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Rh(n,t,e){var r,i=(t=t,(r=n).f&&!e?(t.cancel(),Ee(r.f)):t.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(r.f||r.dispatchEvent(new Zc("userInvalidated")),r.f=t),t}));return n.G.push(i),i.na(function(){K(n.G,i)}),i.o(function(t){var e=null;throw(e=t&&"auth/multi-factor-auth-required"===t.code?Xc(t.w(),ph(n),b(n.ic,n)):e)||t})}function Lh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[zs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new uh(e,n,t);return t.providerData&&q(t.providerData,function(t){t&&_h(i,Hr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Mh(t){this.a=t,this.b=Ku()}Gc.prototype.Qc=function(t){var n=this;return t.rb(this.a.a,this.c).then(function(t){var e=lt(n.f);return delete e[Kc],delete e[Wc],pt(e,t),n.g(e)})},E(Jc,T),Yc.prototype.rb=function(t,e,n){return e.type==Qi?(o=this,s=t,a=n,e.Ha().then(function(t){return t={idToken:t},void 0!==a&&(t.displayName=a),pt(t,{phoneVerificationInfo:Ao(o.a)}),Ja(s,_a,t)})):(r=this,i=t,e.Ha().then(function(t){return pt(t={mfaPendingCredential:t},{phoneVerificationInfo:Ao(r.a)}),Ja(i,Ta,t)}));var r,i,o,s,a},E($c,Yc),E(Qc,$c),E(Zc,He),(t=th.prototype).xc=function(t){var e;eh(this,(t=t.gd,e=[],q(t.mfaInfo||[],function(t){(t=Kr(t))&&e.push(t)}),e))},t.Qb=function(){return this.a.I().then(function(t){return new $i(t,null)})},t.ec=function(e,n){var r=this,i=this.a.a;return this.Qb().then(function(t){return e.rb(i,t,n)}).then(function(t){return Nh(r.a,t),r.a.reload()})},t.ad=function(t){var n=this,r="string"==typeof t?t:t.uid,e=this.a.a;return this.a.I().then(function(t){return Ja(e,Wa,{idToken:t,mfaEnrollmentId:r})}).then(function(t){var e=B(n.b,function(t){return t.uid!=r});return eh(n,e),Nh(n.a,t),n.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:H(this.b,function(t){return t.w()})}}},nh.prototype.start=function(){this.a=this.c,function e(n,t){var r;n.stop(),n.b=bn((r=n,t?(r.a=r.c,r.g()):(t=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),t))).then(function(){return e=l.document,n=null,xr()||!e?Ie():new de(function(t){n=function(){xr()&&(e.removeEventListener("visibilitychange",n,!1),t())},e.addEventListener("visibilitychange",n,!1)}).o(function(t){throw e.removeEventListener("visibilitychange",n,!1),t});var e,n}).then(function(){return n.i()}).then(function(){e(n,!0)}).o(function(t){n.h(t)&&e(n,!1)})}(this,!0)},nh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},rh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ee(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?(t={grant_type:"refresh_token",refresh_token:(e=this).a},r=e.f,i=t,new de(function(e,n){"refresh_token"==i.grant_type&&i.refresh_token||"authorization_code"==i.grant_type&&i.code?Zs(r,r.l+"?key="+encodeURIComponent(r.c),function(t){t?t.error?n(Ya(t)):t.access_token&&t.refresh_token?e(t):n(new T("internal-error")):n(new T("network-request-failed"))},"POST",zn(i).toString(),r.g,r.v.get()):n(new T("internal-error"))}).then(function(t){return e.b=Ri(t.access_token),e.a=t.refresh_token,ih(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a});var e,r,i},sh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(uh,dn),uh.prototype.wa=function(t){this.pa=t,Xs(this.a,t)},uh.prototype.ka=function(){return this.pa},uh.prototype.Ga=function(){return X(this.X)},uh.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},qr(uh.prototype,"providerId","firebase"),(t=uh.prototype).reload=function(){var t=this;return Rh(this,Ih(this).then(function(){return Ah(t).then(function(){return mh(t)}).then(wh)}))},t.nc=function(t){return this.I(t).then(function(t){return new zc(t)})},t.I=function(t){var e=this;return Rh(this,Ih(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.ya&&(yh(e,t.accessToken),e.dispatchEvent(new Zc("tokenChanged"))),Oh(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");bh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=t.providerUserInfo)&&e.length?H(e,function(t){return new ah(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[],r=0;r<n.length;r++)_h(this,n[r]);Oh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zc("userReloaded",{gd:t}))},t.Kc=function(t){return Ur("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Rh(this,t.c(this.a,this.uid).then(function(t){return Nh(e,t),n=jh(e,t,"reauthenticate"),e.f=null,e.reload()}).then(function(){return n}),!0)},t.Bc=function(t){return Ur("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(e){var n=this,r=null;return Rh(this,kh(this,e.providerId).then(function(){return n.I()}).then(function(t){return e.b(n.a,t)}).then(function(t){return r=jh(n,t,"link"),Ch(n,t)}).then(function(){return r}))},t.Cc=function(t,e){var n=this;return Rh(this,kh(this,"phone").then(function(){return Hc(ph(n),t,e,b(n.pb,n))}))},t.Lc=function(t,e){var n=this;return Rh(this,Ie().then(function(){return Hc(ph(n),t,e,b(n.sb,n))}),!0)},t.Ab=function(e){var n=this;return Rh(this,this.I().then(function(t){return n.a.Ab(t,e)}).then(function(t){return Nh(n,t),n.reload()}))},t.dd=function(e){var n=this;return Rh(this,this.I().then(function(t){return e.b(n.a,t)}).then(function(t){return Nh(n,t),n.reload()}))},t.Bb=function(e){var n=this;return Rh(this,this.I().then(function(t){return n.a.Bb(t,e)}).then(function(t){return Nh(n,t),n.reload()}))},t.Cb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Ih(this);var n=this;return Rh(this,this.I().then(function(t){return n.a.Cb(t,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(t){return Nh(n,t),Oh(n,"displayName",t.displayName||null),Oh(n,"photoURL",t.photoUrl||null),q(n.providerData,function(t){"password"===t.providerId&&(qr(t,"displayName",n.displayName),qr(t,"photoURL",n.photoURL))}),mh(n)}).then(wh))},t.bd=function(e){var n=this;return Rh(this,Ah(this).then(function(t){return G(Eh(n),e)?Ja(n.a,wa,{idToken:t,deleteProvider:[e]}).then(function(t){var e={};return q(t.providerUserInfo||[],function(t){e[t.providerId]=!0}),q(Eh(n),function(t){e[t]||Th(n,t)}),e[No.PROVIDER_ID]||qr(n,"phoneNumber",null),mh(n)}):mh(n).then(function(){throw new T("no-such-provider")})}))},t.delete=function(){var e=this;return Rh(this,this.I().then(function(t){return Ja(e.a,ba,{idToken:t})}).then(function(){e.dispatchEvent(new Zc("userDeleted"))})).then(function(){for(var t=0;t<e.G.length;t++)e.G[t].cancel("app-deleted");ch(e,null),hh(e,null),fh(e,null),e.G=[],e.A=!0,vh(e),qr(e,"refreshToken",null),e.h&&Oc(e.h,e)})},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.i||null)==e&&this.g||"reauthViaPopup"==t&&(this.i||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.i||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.i||null)?b(this.Jb,this):"reauthViaPopup"==t&&e==(this.i||null)?b(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):null},t.Dc=function(t){var e=this;return Dh(this,"linkViaPopup",t,function(){return kh(e,t.providerId).then(function(){return mh(e)})},!1)},t.Mc=function(t){return Dh(this,"reauthViaPopup",t,function(){return Ie()},!0)},t.Ec=function(t){var e=this;return Ph(this,"linkViaRedirect",t,function(){return kh(e,t.providerId)},!1)},t.Nc=function(t){return Ph(this,"reauthViaRedirect",t,function(){return Ie()},!0)},t.Jb=function(e,n,t,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Rh(this,this.I().then(function(t){return fa(i.a,{requestUri:e,postBody:r,sessionId:n,idToken:t})}).then(function(t){return o=jh(i,t,"link"),Ch(i,t)}).then(function(){return o}))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Rh(this,Ie().then(function(){return eo(pa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=jh(i,t,"reauthenticate"),Nh(i,t),i.f=null,i.reload()}).then(function(){return o}),!0)},t.tb=function(e){var n=this,r=null;return Rh(this,this.I().then(function(t){return r=t,void 0===e||ht(e)?{}:Ci(new Ii(e))}).then(function(t){return n.a.tb(r,t)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.Db=function(e,n){var r=this,i=null;return Rh(this,this.I().then(function(t){return i=t,void 0===n||ht(n)?{}:Ci(new Ii(n))}).then(function(t){return r.a.Db(i,e,t)}).then(function(t){if(r.email!=t)return r.reload()}).then(function(){}))},t.ic=function(t){var e=null,n=this;return Rh(this,t=eo(Ie(t),n.uid).then(function(t){return e=jh(n,t,"reauthenticate"),Nh(n,t),n.f=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(e,this.metadata.w()),q(this.providerData,function(t){e.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(t))}),pt(e,this.N.w()),e};var Vh={name:"redirectUser",D:"session"};function Uh(t){return Xu(t.b,Vh,t.a)}function Fh(t){var e,n,r,i,o,s,a,u,c;this.a=t,this.b=Ku(),this.c=null,this.f=(a=Hh("local"),u=Hh("session"),c=Hh("none"),n=(e=this).b,r=a,i=e.a,o=Ju(r,i),s=Wu(n,r.D),n.get(r,i).then(function(t){var e=null;try{e=kr(l.localStorage.getItem(o))}catch(t){}if(e&&!t)return l.localStorage.removeItem(o),n.set(r,e,i);e&&t&&"localStorage"!=s.type&&l.localStorage.removeItem(o)}).then(function(){return e.b.get(u,e.a)}).then(function(t){return t?u:e.b.get(c,e.a).then(function(t){return t?c:e.b.get(a,e.a).then(function(t){return t?a:e.b.get(Bh,e.a).then(function(t){return t?Hh(t):a})})})}).then(function(t){return e.c=t,qh(e,t.D)}).o(function(){e.c||(e.c=a)})),this.b.addListener(Hh("local"),this.a,b(this.g,this))}function qh(t,e){var n,a,r=[];for(n in zu)zu[n]!==e&&r.push(Xu(t.b,Hh(zu[n]),t.a));return r.push(Xu(t.b,Bh,t.a)),a=r,new de(function(n,e){var r=a.length,i=[];if(r)for(var t=function(t,e){r--,i[t]=e,0==r&&n(i)},o=function(t){e(t)},s=0;s<a.length;s++)_e(a[s],w(t,s),o);else n(i)})}Fh.prototype.g=function(){var e=this,n=Hh("local");Wh(this,function(){return Ie().then(function(){return e.c&&"local"!=e.c.D?e.b.get(n,e.a):null}).then(function(t){if(t)return qh(e,"local").then(function(){e.c=n})})})};var Bh={name:"persistence",D:"session"};function Hh(t){return{name:"authUser",D:t}}function zh(t,e){return Wh(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Gh(t){return Wh(t,function(){return Xu(t.b,t.c,t.a)})}function Kh(t,e,n){return Wh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Lh(t||{})})})}function Wh(t,e){return t.f=t.f.then(e,e),t.f}function Jh(t){if(this.m=!1,qr(this,"settings",new qc),qr(this,"app",t),!this.app.options||!this.app.options.apiKey)throw new T("invalid-api-key");var e,n,r,i,o,s,a,u;t=Kl.a.SDK_VERSION?br(Kl.a.SDK_VERSION):null,this.a=new Bs(this.app.options&&this.app.options.apiKey,j(S),t),this.R=[],this.u=[],this.P=[],this.ac=Kl.a.INTERNAL.createSubscribe(b(this.yc,this)),this.X=void 0,this.bc=Kl.a.INTERNAL.createSubscribe(b(this.zc,this)),el(this,null),this.l=new Fh(this.app.options.apiKey+":"+this.app.name),this.G=new Mh(this.app.options.apiKey+":"+this.app.name),this.$=sl(this,(u=(o=this).app.options.authDomain,t=(s=o).G,a=s.app.options.authDomain,t=t.b.get(Vh,t.a).then(function(t){return t&&a&&(t.authDomain=a),Lh(t||{})}).then(function(t){return(s.s=t)&&(t.ha=s.G),Uh(s.G)}),t=sl(s,t).then(function(){return Kh(o.l,u,o.f)}).then(function(e){return e?(e.ha=o.G,o.s&&(o.s.ga||null)==(e.ga||null)?e:e.reload().then(function(){return zh(o.l,e).then(function(){return e})}).o(function(t){return"auth/network-request-failed"==t.code?e:Gh(o.l)})):null}).then(function(t){el(o,t||null)}),sl(o,t))),this.h=sl(this,(i=this).$.then(function(){return Zh(i)}).o(function(){}).then(function(){if(!i.m)return i.pa()}).o(function(){}).then(function(){var t;i.m||(i.ba=!0,(t=i.l).b.addListener(Hh("local"),t.a,i.pa))})),this.ba=!1,this.pa=b(this.Yc,this),this.Ba=b(this.da,this),this.ya=b(this.kc,this),this.za=b(this.vc,this),this.Aa=b(this.wc,this),this.b=null,n=(e=this).app.options.authDomain,r=e.app.options.apiKey,n&&_r()&&(e.gb=e.$.then(function(){var t;if(!e.m)return e.b=xc(n,r,e.app.name,e.f),Tc(e.b,e),rl(e)&&gh(rl(e)),e.s&&(gh(e.s),(t=e.s).wa(e.ka()),ch(t,e),lh(t=e.s,e.N),fh(t,e),Ys((t=e.s).a,e.f),hh(t,e),e.s=null),e.b})),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Fc,this),this.A=0,dn.call(this),t=this,Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null,this.N=[],this.f=null}function Xh(t){He.call(this,"languageCodeChanged"),this.i=t}function Yh(t){He.call(this,"emulatorConfigChanged"),this.c=t}function $h(t){He.call(this,"frameworkChanged"),this.f=t}function Qh(t){return t.gb||Ee(new T("auth-domain-config-required"))}function Zh(t){if(!_r())return Ee(new T("operation-not-supported-in-this-environment"));var e=Qh(t).then(function(){return t.b.qa()}).then(function(t){return t?Hr(t):null});return sl(t,e)}function tl(o,s){var a={};return a.apiKey=o.app.options.apiKey,a.authDomain=o.app.options.authDomain,a.appName=o.app.name,o.f&&(a.emulatorConfig=o.f),o.$.then(function(){return t=a,e=s,n=o.G,r=o.Ga(),i=new uh(t,e),n&&(i.ha=n),r&&lh(i,r),i.reload().then(function(){return i});var t,e,n,r,i}).then(function(t){return rl(o)&&t.uid==rl(o).uid?Sh(rl(o),t):(el(o,t),gh(t)),o.da(t)}).then(function(){ol(o)})}function el(t,e){var n,r;rl(t)&&(n=rl(t),r=t.Ba,W(n.R,function(t){return t==r}),on(rl(t),"tokenChanged",t.ya),on(rl(t),"userDeleted",t.za),on(rl(t),"userInvalidated",t.Aa),vh(rl(t))),e&&(e.R.push(t.Ba),en(e,"tokenChanged",t.ya),en(e,"userDeleted",t.za),en(e,"userInvalidated",t.Aa),0<t.A&&dh(e)),qr(t,"currentUser",e),e&&(e.wa(t.ka()),ch(e,t),lh(e,t.N),fh(e,t),Ys(e.a,t.f),hh(e,t))}function nl(n,t){var e=null,r=null;return sl(n,t.then(function(t){return e=jo(t),r=qi(t),tl(n,t)},function(t){var e=null;throw(e=t&&"auth/multi-factor-auth-required"===t.code?Xc(t.w(),n,b(n.jc,n)):e)||t}).then(function(){return Hr({user:rl(n),credential:e,additionalUserInfo:r,operationType:"signIn"})}))}function rl(t){return t.currentUser}function il(t){return rl(t)&&rl(t)._lat||null}function ol(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](il(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](il(t))}}function sl(t,e){return t.R.push(e),e.na(function(){K(t.R,e)}),e}function al(){}function ul(){this.a={},this.b=1e12}Fh.prototype.wb=function(e){var n=null,r=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in zu)if(zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(pr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!_u()&&"none"!==t)throw n;break;default:if(!Er()&&"none"!==t)throw n}}(e),Wh(this,function(){return e!=r.c.D?r.b.get(r.c,r.a).then(function(t){return n=t,qh(r,e)}).then(function(){if(r.c=Hh(e),n)return r.b.set(r.c,n,r.a)}):Ie()})},E(Jh,dn),E(Xh,He),E(Yh,He),E($h,He),(t=Jh.prototype).wb=function(t){return sl(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Xs(this.a,this.aa),this.dispatchEvent(new Xh(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=l.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");e=!!e&&!!e.disableWarnings,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!e&&cr().then(function(){var t=l.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),l.document.body.appendChild(t)}),this.f={url:t},this.settings.hb=!0,Ys(this.a,this.f),this.dispatchEvent(new Yh(this.f))}},t.Fc=function(t){this.N.push(t),Qs(this.a,Kl.a.SDK_VERSION?br(Kl.a.SDK_VERSION,this.N):null),this.dispatchEvent(new $h(this.N))},t.Ga=function(){return X(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:rl(this)&&rl(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.i==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.i==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.i==e&&this.g?b(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return nl(i,la(i.a,o))})},t.Wc=function(e){if(!_r())return Ee(new T("operation-not-supported-in-this-environment"));var n=this,t=Fi(e.providerId),r=jr(),i=null,o=sr(i=(!Sr()||lr())&&this.app.options.authDomain&&e.isOAuthProvider?cu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",e,null,r,Kl.a.SDK_VERSION||null,null,null,this.S(),this.f):i,t&&t.ua,t&&t.ta);return sl(this,t=Qh(this).then(function(t){return Nc(t,o,"signInViaPopup",e,r,!!i,n.S())}).then(function(){return new de(function(t,e){n.ma("signInViaPopup",null,new T("cancelled-popup-request"),n.i),n.g=t,n.O=e,n.i=r,n.c=Cc(n.b,n,"signInViaPopup",o,r)})}).then(function(t){return o&&or(o),t?Hr(t):null}).o(function(t){throw o&&or(o),t}))},t.Xc=function(t){if(!_r())return Ee(new T("operation-not-supported-in-this-environment"));var e=this;return sl(this,Qh(this).then(function(){return Wh(t=e.l,function(){return t.b.set(Bh,t.c.D,t.a)});var t}).then(function(){return jc(e.b,"signInViaRedirect",t,void 0,e.S())}))},t.qa=function(){var e=this;return Zh(this).then(function(t){return e.b&&Mc(e.b.b),t}).o(function(t){throw e.b&&Mc(e.b.b),t})},t.cd=function(t){if(!t)return Ee(new T("null-user"));if(this.W!=t.tenantId)return Ee(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,s,a,u=(r=t,i=n,o=e.G,s=e.Ga(),a=r.b,(n={})[zs]=a.b&&a.b.toString(),n.refreshToken=a.a,i=new uh(i||{apiKey:r.l,authDomain:r.s,appName:r.m},n),o&&(i.ha=o),s&&lh(i,s),Sh(i,r),i);return sl(this,this.h.then(function(){if(e.app.options.apiKey!=t.l)return u.reload()}).then(function(){return rl(e)&&t.uid==rl(e).uid?(Sh(rl(e),t),e.da(t)):(el(e,u),gh(u),e.da(u))}).then(function(){ol(e)}))},t.zb=function(){var t=this;return sl(this,this.h.then(function(){return t.b&&Mc(t.b.b),rl(t)?(el(t,null),Gh(t.l).then(function(){ol(t)})):Ie()}))},t.Yc=function(){var r=this;return Kh(this.l,this.app.options.authDomain).then(function(t){if(!r.m){var e,n;if((e=rl(r)&&t)&&(e=rl(r).uid,n=t.uid,e=null!=e&&""!==e&&null!=n&&""!==n&&e==n),e)return Sh(rl(r),t),rl(r).I();(rl(r)||t)&&(el(r,t),t&&(gh(t),t.ha=r.G),r.b&&Tc(r.b,r),ol(r))}})},t.da=function(t){return zh(this.l,t)},t.kc=function(){ol(this),this.da(rl(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.h.then(function(){return nl(e,Ie(t))})},t.yc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(rl(e))})},t.zc=function(t){var e,n,r=this;n=function(){t.next(rl(r))},(e=this).P.push(n),sl(e,e.h.then(function(){!e.m&&G(e.P,n)&&e.X!==e.getUid()&&(e.X=e.getUid(),n(il(e)))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(rl(r)):"function"==typeof t.next&&t.next(rl(r))}),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(rl(r)):"function"==typeof t.next&&t.next(rl(r))}),this.bc(t,e,n)},t.mc=function(t){var e=this;return sl(this,this.h.then(function(){return rl(e)?rl(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Sc=function(t){var n=this;return this.h.then(function(){return nl(n,Ja(n.a,Ba,{token:t}))}).then(function(t){var e=t.user;return Oh(e,"isAnonymous",!1),n.da(e),t})},t.Tc=function(t,e){var n=this;return this.h.then(function(){return nl(n,Ja(n.a,Ha,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return nl(n,Ja(n.a,ma,{email:t,password:e}))})},t.Za=function(t){var e=this;return this.h.then(function(){return nl(e,t.ja(e.a))})},t.Rc=function(t){return Ur("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var n=this;return this.h.then(function(){var t=rl(n);if(t&&t.isAnonymous){var e=Hr({providerId:null,isNewUser:!1});return Hr({user:t,credential:null,additionalUserInfo:e,operationType:"signIn"})}return nl(n,n.a.yb()).then(function(t){var e=t.user;return Oh(e,"isAnonymous",!0),n.da(e),t})})},t.getUid=function(){return rl(this)&&rl(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&rl(this)&&dh(rl(this))},t.Oc=function(e){var n=this;q(this.u,function(t){t==e&&n.A--}),this.A<0&&(this.A=0),0==this.A&&rl(this)&&vh(rl(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),sl(this,this.h.then(function(){e.m||G(e.u,t)&&t(il(e))}))},t.removeAuthTokenListener=function(e){W(this.u,function(t){return t==e})},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Hh("local"),t.a,this.pa),this.b&&(Oc(this.b,this),Mc(this.b.b)),Promise.resolve()},t.gc=function(t){return sl(this,Ja(this.a,ga,{identifier:t,continueUri:Tr()?nr():"http://localhost"}).then(function(t){return t.signinMethods||[]}))},t.Ac=function(t){return!!To(t)},t.vb=function(e,n){var r=this;return sl(this,Ie().then(function(){var t=new Ii(n);if(!t.c)throw new T("argument-error",Ti+" must be true when sending sign in link to email");return Ci(t)}).then(function(t){return r.a.vb(e,t)}).then(function(){}))},t.hd=function(t){return this.Qa(t).then(function(t){return t.data.email})},t.mb=function(t,e){return sl(this,this.a.mb(t,e).then(function(){}))},t.Qa=function(t){return sl(this,this.a.Qa(t).then(function(t){return new Qr(t)}))},t.ib=function(t){return sl(this,this.a.ib(t).then(function(){}))},t.ub=function(e,t){var n=this;return sl(this,Ie().then(function(){return void 0===t||ht(t)?{}:Ci(new Ii(t))}).then(function(t){return n.a.ub(e,t)}).then(function(){}))},t.Vc=function(t,e){return sl(this,Hc(this,t,e,b(this.Za,this)))},t.Uc=function(n,r){var i=this;return sl(this,Ie().then(function(){var t=r||nr(),e=_o(n,t);if(!(t=To(t)))throw new T("argument-error","Invalid email link!");if(t.tenantId!==i.S())throw new T("tenant-id-mismatch");return i.Za(e)}))},al.prototype.render=function(){},al.prototype.reset=function(){},al.prototype.getResponse=function(){},al.prototype.execute=function(){};var cl=null;function hl(t,e){return(e=ll(e))&&t.a[e]||null}function ll(t){return(t=void 0===t?1e12:t)?t.toString():null}function fl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.i="invisible"!==this.c.size,this.f=re(t);var n=this;this.h=function(){n.execute()},this.i?this.execute():en(this.f,"click",this.h)}function pl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function dl(){}function vl(){}ul.prototype.render=function(t,e){return this.a[this.b.toString()]=new fl(t,e),this.b++},ul.prototype.reset=function(t){var e=hl(this,t);t=ll(t),e&&t&&(e.delete(),delete this.a[t])},ul.prototype.getResponse=function(t){return(t=hl(this,t))?t.getResponse():null},ul.prototype.execute=function(t){(t=hl(this,t))&&t.execute()},fl.prototype.getResponse=function(){return pl(this),this.b},fl.prototype.execute=function(){pl(this);var n=this;this.a||(this.a=setTimeout(function(){n.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var t=n.c.callback,e=n.c["expired-callback"];if(t)try{t(n.b)}catch(t){}n.a=setTimeout(function(){if(n.a=null,n.b=null,e)try{e()}catch(t){}n.i&&n.execute()},6e4)},500))},fl.prototype.delete=function(){pl(this),this.g=!0,clearTimeout(this.a),this.a=null,on(this.f,"click",this.h)},qr(dl,"FACTOR_ID","phone"),vl.prototype.g=function(){return Ie(cl=cl||new ul)},vl.prototype.c=function(){};var yl=null;function ml(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var gl=new vt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),bl=new Pr(3e4,6e4);ml.prototype.g=function(i){var o=this;return new de(function(t,e){var r=setTimeout(function(){e(new T("network-request-failed"))},bl.get());!l.grecaptcha||i!==o.f&&!o.b?(l[o.a]=function(){var n;l.grecaptcha?(o.f=i,n=l.grecaptcha.render,l.grecaptcha.render=function(t,e){return t=n(t,e),o.b++,t},clearTimeout(r),t(l.grecaptcha)):(clearTimeout(r),e(new T("internal-error"))),delete l[o.a]},Ie(Rs(_t(gl,{onload:o.a,hl:i||""}))).o(function(){clearTimeout(r),e(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),t(l.grecaptcha))})},ml.prototype.c=function(){this.b--};var wl=null;function Il(t,e,n,r,i,o,s){if(qr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s=s?yl=yl||new vl:wl=wl||new ml,this.v=s,this.a=n||{theme:"light",type:"image"},this.i=[],this.a[Tl])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Ol],!l.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!re(e)||!this.h&&re(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Bs(t,o||null,i||null),this.u=r||function(){return null};var a=this;this.l=[];var u=this.a[El];this.a[El]=function(t){var e;Sl(a,t),"function"==typeof u?u(t):"string"!=typeof u||"function"==typeof(e=Ir(u,l))&&e(t)};var c=this.a[_l];this.a[_l]=function(){var t;Sl(a,null),"function"==typeof c?c():"string"!=typeof c||"function"==typeof(t=Ir(c,l))&&t()}}var El="callback",_l="expired-callback",Tl="sitekey",Ol="size";function Sl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Al(t,e){return t.i.push(e),e.na(function(){K(t.i,e)}),e}function Nl(t){if(t.A)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function kl(t,e,n){var r=!1;try{this.b=n||Kl.a.app()}catch(t){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Kl.a.SDK_VERSION?br(Kl.a.SDK_VERSION,o):null,Il.call(this,n,t,e,function(){try{var e=i.b.auth().ka()}catch(t){e=null}return e},o,j(S),r)}function jl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],i<0||i>=Cl.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Cl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Il.prototype).Ia=function(){var e=this;return this.f||(this.f=Al(this,Ie().then(function(){if(Tr()&&!fr())return cr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.v.g(e.u())}).then(function(t){return e.g=t,Ja(e.s,Ca,{})}).then(function(t){e.a[Tl]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t})))},t.render=function(){Nl(this);var n=this;return Al(this,this.Ia().then(function(){var t,e;return null===n.c&&(e=n.m,n.h||(t=re(e),e=function(){var t,e=arguments,n=document,r=String(e[0]),i=e[1];return!ne&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',Ft(i.name),'"'),i.type&&(r.push(' type="',Ft(i.type),'"'),pt(t={},i),delete t.type,i=t),r.push(">"),r=r.join("")),r=ue(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):ie(r,i)),2<e.length&&function(e,n,t){function r(t){t&&n.appendChild("string"==typeof t?e.createTextNode(t):t)}for(var i=2;i<t.length;i++){var o=t[i];if(!d(o)||y(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(y(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){s="function"==typeof o.item;break t}}s=!1}q(s?X(o):o,r)}}}(n,r,e),r}("DIV"),t.appendChild(e)),n.c=n.g.render(e,n.a)),n.c}))},t.verify=function(){Nl(this);var i=this;return Al(this,this.render().then(function(e){return new de(function(n){var r,t=i.g.getResponse(e);t?n(t):(i.l.push(r=function(t){var e;t&&(e=r,W(i.l,function(t){return t==e}),n(t))}),i.h&&i.g.execute(i.c))})}))},t.reset=function(){Nl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Nl(this),this.A=!0,this.v.c();for(var t,e=0;e<this.i.length;e++)this.i[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){e=re(this.m);for(;t=e.firstChild;)e.removeChild(t)}},E(kl,Il);var Cl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Dl(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Pl(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function xl(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:y}}function Rl(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Ll(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Ml(n){return{name:n?n+"Credential":"credential",J:n?"a valid "+n+" credential":"a valid credential",optional:!1,K:function(t){if(!t)return!1;var e=!n||t.providerId===n;return!(!t.ja||!e)}}}function Vl(t,e){return y(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Ul(t){return y(t)&&"string"==typeof t.uid}function Fl(e,n,t,r){return{name:t||"",J:e.J+" or "+n.J,optional:!!r,K:function(t){return e.K(t)||n.K(t)}}}function ql(t,e){for(var n in e){var r=e[n].name;t[r]=zl(r,t[n],e[n].j)}}function Bl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w(function(t){return this[t]},n),set:w(function(t,e,n,r){jl(t,[n],[r],!0),this[e]=r},r,n,e[n].jb),enumerable:!0})}}function Hl(t,e,n,r){t[e]=zl(e,n,r)}function zl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return jl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=(t=(t=t).split("."))[t.length-1];for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}ql(Jh.prototype,{ib:{name:"applyActionCode",j:[Dl("code")]},Qa:{name:"checkActionCode",j:[Dl("code")]},mb:{name:"confirmPasswordReset",j:[Dl("code"),Dl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Dl("email"),Dl("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Dl("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Dl("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Fl(xl(),Rl(),"nextOrObserver"),Rl("opt_error",!0),Rl("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Fl(xl(),Rl(),"nextOrObserver"),Rl("opt_error",!0),Rl("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Dl("email"),Fl(xl("opt_actionCodeSettings",!0),Ll(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Dl("email"),xl("actionCodeSettings")]},wb:{name:"setPersistence",j:[Dl("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Ml()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Ml()]},Sc:{name:"signInWithCustomToken",j:[Dl("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Dl("email"),Dl("password")]},Uc:{name:"signInWithEmailLink",j:[Dl("email"),Dl("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Dl("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Fl({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof uh)}},Ll(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Dl(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Dl("url"),xl("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[Dl("code")]}}),Bl(Jh.prototype,{lc:{name:"languageCode",jb:Fl(Dl(),Ll(),"languageCode")},ti:{name:"tenantId",jb:Fl(Dl(),Ll(),"tenantId")}}),(Jh.Persistence=zu).LOCAL="local",Jh.Persistence.SESSION="session",Jh.Persistence.NONE="none",ql(uh.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Pl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Pl("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Ml()]},pb:{name:"linkWithCredential",j:[Ml()]},Cc:{name:"linkWithPhoneNumber",j:[Dl("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ml()]},sb:{name:"reauthenticateWithCredential",j:[Ml()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Dl("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Fl(xl("opt_actionCodeSettings",!0),Ll(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Dl(null,!0)]},bd:{name:"unlink",j:[Dl("provider")]},Ab:{name:"updateEmail",j:[Dl("email")]},Bb:{name:"updatePassword",j:[Dl("password")]},dd:{name:"updatePhoneNumber",j:[Ml("phone")]},Cb:{name:"updateProfile",j:[xl("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Dl("email"),Fl(xl("opt_actionCodeSettings",!0),Ll(null,!0),"opt_actionCodeSettings",!0)]}}),ql(ul.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ql(al.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ql(de.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Bl(qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Pl("appVerificationDisabledForTesting")}}),ql(Bc.prototype,{confirm:{name:"confirm",j:[Dl("verificationCode")]}}),Hl(to,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ao,Io,So,io],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Fl(Dl(),xl(),"json")]),Hl(Eo,"credential",function(t,e){return new wo(t,e)},[Dl("email"),Dl("password")]),ql(wo.prototype,{w:{name:"toJSON",j:[Dl(null,!0)]}}),ql(lo.prototype,{Ca:{name:"addScope",j:[Dl("scope")]},Ka:{name:"setCustomParameters",j:[xl("customOAuthParameters")]}}),Hl(lo,"credential",fo,[Fl(Dl(),xl(),"token")]),Hl(Eo,"credentialWithLink",_o,[Dl("email"),Dl("emailLink")]),ql(po.prototype,{Ca:{name:"addScope",j:[Dl("scope")]},Ka:{name:"setCustomParameters",j:[xl("customOAuthParameters")]}}),Hl(po,"credential",vo,[Fl(Dl(),xl(),"token")]),ql(yo.prototype,{Ca:{name:"addScope",j:[Dl("scope")]},Ka:{name:"setCustomParameters",j:[xl("customOAuthParameters")]}}),Hl(yo,"credential",mo,[Fl(Dl(),Fl(xl(),Ll()),"idToken"),Fl(Dl(),Ll(),"accessToken",!0)]),ql(go.prototype,{Ka:{name:"setCustomParameters",j:[xl("customOAuthParameters")]}}),Hl(go,"credential",bo,[Fl(Dl(),xl(),"token"),Dl("secret",!0)]),ql(ho.prototype,{Ca:{name:"addScope",j:[Dl("scope")]},credential:{name:"credential",j:[Fl(Dl(),Fl(xl(),Ll()),"optionsOrIdToken"),Fl(Dl(),Ll(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[xl("customOAuthParameters")]}}),ql(oo.prototype,{w:{name:"toJSON",j:[Dl(null,!0)]}}),ql(no.prototype,{w:{name:"toJSON",j:[Dl(null,!0)]}}),Hl(No,"credential",ko,[Dl("verificationId"),Dl("verificationCode")]),ql(No.prototype,{eb:{name:"verifyPhoneNumber",j:[Fl(Dl(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Vl(t.session,Qi)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Vl(t.session,Zi)&&Ul(t.multiFactorHint):t.session&&t.multiFactorUid?Vl(t.session,Zi)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),ql(Oo.prototype,{w:{name:"toJSON",j:[Dl(null,!0)]}}),ql(T.prototype,{toJSON:{name:"toJSON",j:[Dl(null,!0)]}}),ql(Vo.prototype,{toJSON:{name:"toJSON",j:[Dl(null,!0)]}}),ql(Mo.prototype,{toJSON:{name:"toJSON",j:[Dl(null,!0)]}}),ql(Jc.prototype,{toJSON:{name:"toJSON",j:[Dl(null,!0)]}}),ql(Gc.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),ql(th.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Dl("displayName",!0)]},ad:{name:"unenroll",j:[Fl({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Ul},Dl(),"multiFactorInfoIdentifier")]}}),ql(kl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Hl(fi,"parseLink",wi,[Dl("link")]),Hl(dl,"assertion",function(t){return new Qc(t)},[Ml("phone")]),function(){if(void 0===Kl.a||!Kl.a.INTERNAL||!Kl.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ti,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Zr,VERIFY_AND_CHANGE_EMAIL:ei,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jh,AuthCredential:to,Error:T};Hl(t,"EmailAuthProvider",Eo,[]),Hl(t,"FacebookAuthProvider",lo,[]),Hl(t,"GithubAuthProvider",po,[]),Hl(t,"GoogleAuthProvider",yo,[]),Hl(t,"TwitterAuthProvider",go,[]),Hl(t,"OAuthProvider",ho,[Dl("providerId")]),Hl(t,"SAMLAuthProvider",co,[Dl("providerId")]),Hl(t,"PhoneAuthProvider",No,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Jh)}}]),Hl(t,"RecaptchaVerifier",kl,[Fl(Dl(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),xl("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Kl.a.app.App)}}]),Hl(t,"ActionCodeURL",fi,[]),Hl(t,"PhoneMultiFactorGenerator",dl,[]),Kl.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Jh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Kl.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.mc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Kl.a.registerVersion("@firebase/auth","0.16.1"),Kl.a.INTERNAL.extendNamespace({User:uh})}()}.apply(void 0!==Gl?Gl:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}.call(this,n("yLpj"))},"9EPD":function(t,e,n){"use strict";var b="/home/jenkins/workspace/NPM-web-ui/lib/components/plain-react/Strapline/index.js";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(){return(w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function s(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t){if(t){if("string"==typeof t)return r(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return t=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==o(t)&&"function"!=typeof t?I(e):t}}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=n("q1tI"),l=n("Bfam"),_=n("/Ol2"),n=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(i,E.Component);var t,r=c(i);function i(){var g;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h(I(g=r.call.apply(r,[this].concat(e))),"renderIcon",function(){var t=g.props,e=t.content,n=t.options,r=g.props.css||function(){return""},t=n.ignoreUrl,e=e&&e.data,e=e&&e.LINK||e&&e.url,e=!t&&e?"link":n.icon;return E.createElement("span",{className:r("icon",n.icon?"icon-".concat(e):"","icon-relative-".concat(n.iconPositionRelative),"icon-position-".concat(n.iconPosition)),__self:I(g),__source:{fileName:b,lineNumber:19,columnNumber:7}})}),h(I(g),"generateTraits",function(){function t(e,t){return t.map(function(t){return"".concat(e,"-").concat(t)})}var e=g.props.options,n=Array.isArray(e.className)?e.className:[e.className],n=["label","size-".concat(e.size),"icon-position-".concat(e.iconPosition),"icon-relative-".concat(e.iconPositionRelative)].concat(s(n));return e.margin&&n.push.apply(n,s(t("margin",e.margin))),e.border&&n.push.apply(n,s(t("border",e.border))),e.padding&&n.push.apply(n,s(t("padding",e.padding))),n}),h(I(g),"renderDefault",function(){var t=g.props.css||function(){return""},e=g.props,n=e.content,r=e.children,i=e.options,o=i.align,s=i.description,a=i.icon,u=i.iconLabel,c=i.iconPosition,h=i.ignoreUrl,l=i.label,f=i.linkAttrs,p=i.strapClass,d=i.descriptionClass,v=i.urlParams,y=i.iconLink,m=i.iconLinkClass,e=n&&n.data,n=n&&n.collection;if(n&&0===n.length)return null;l=e&&e.TITLE||e&&e.title||l,e=e&&e.LINK||e&&e.url||i.url||"",v=e&&v?_(e,v):e,e=v&&!h?v:"",h=e?{}:{pointerEvents:"none"},v=g.generateTraits();return E.createElement("a",w({className:t("strap",p,"align-".concat(o),"none"!==a?"link":""),href:e,style:h},f,{__self:I(g),__source:{fileName:b,lineNumber:88,columnNumber:7}}),E.createElement(i.tag,{className:t(v),__self:I(g),__source:{fileName:b,lineNumber:99,columnNumber:9}},"left"===c&&g.renderIcon(),E.createElement("span",{dangerouslySetInnerHTML:{__html:l},className:t("label-text"),__self:I(g),__source:{fileName:b,lineNumber:101,columnNumber:11}}),u?y?E.createElement("a",{className:t(["iconLabel",m]),href:y,__self:I(g),__source:{fileName:b,lineNumber:104,columnNumber:18}},u):E.createElement("span",{className:t("iconLabel"),__self:I(g),__source:{fileName:b,lineNumber:105,columnNumber:18}},u):"","right"===c&&g.renderIcon()),s&&E.createElement("h2",{className:t("label","labelDescription",d||""),__self:I(g),__source:{fileName:b,lineNumber:110,columnNumber:11}},s),r)}),h(I(g),"shouldRenderSubheader",function(e){return"object"===o(e)&&(!(!e.text||!e.type)&&!(!["text","link","info","sponsored","caption"].find(function(t){return t===e.type})||"link"===e.type&&!e.url))}),g}return t=[{key:"render",value:function(){var t=this.props.options,e=t.subheader,n=t.className,r=t.renderWrapper,i=void 0!==r&&r,t=["strapline-wrapper"];n&&t.push(n);r=this.props.css||function(){return""},n=this.renderDefault();return this.shouldRenderSubheader(e)||i?E.createElement("div",{className:r(t),__self:this,__source:{fileName:b,lineNumber:144,columnNumber:9}},n,E.createElement(l,w({css:r},e,{__self:this,__source:{fileName:b,lineNumber:146,columnNumber:11}}))):n}}],a(i.prototype,t),i}();h(n,"displayName","Strapline"),t.exports=n},"9Nap":function(t,e,n){var r=n("/9aa");t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},"9ggG":function(t,e,n){var r=n("Z0cm"),i=n("/9aa"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},Adnd:function(t,e,n){"use strict";n.r(e);var d=n("mrSG"),r=n("zIRd"),i=n("/6Yf"),p=n("qOnz"),o=n("nbvr"),e=((e={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',e["not-registered"]="Firebase Installation is not registered.",e["installation-not-found"]="Firebase Installation not found.",e["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',e["app-offline"]="Could not process request. Application offline.",e["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",e),a=new p.b("installations","Installations",e);function u(t){return t instanceof p.c&&t.code.includes("request-failed")}function h(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function l(t){return{token:t.token,requestStatus:2,expiresIn:(t=t.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()}}function f(n,r){return Object(d.b)(this,void 0,void 0,function(){var e;return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,r.json()];case 1:return e=t.sent(),e=e.error,[2,a.create("request-failed",{requestName:n,serverCode:e.code,serverMessage:e.message,serverStatus:e.status})]}})})}function c(t){t=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function v(t,e){e=e.refreshToken,t=c(t);return t.append("Authorization","FIS_v2 "+e),t}function y(n){return Object(d.b)(this,void 0,void 0,function(){var e;return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,n()];case 1:return 500<=(e=t.sent()).status&&e.status<600?[2,n()]:[2,e]}})})}function m(e){return new Promise(function(t){setTimeout(t,e)})}var s=/^[cdef][\w-]{21}$/;function g(t){return t.appName+"!"+t.appId}var b=new Map;function w(t,e){var n=g(t);I(n,e),t=n,n=e,(e=_())&&e.postMessage({key:t,fid:n}),T()}function I(t,e){var n,r,i=b.get(t);if(i)try{for(var o=Object(d.h)(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var E=null;function _(){return!E&&"BroadcastChannel"in self&&((E=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){I(t.data.key,t.data.fid)}),E}function T(){0===b.size&&E&&(E.close(),E=null)}var O="firebase-installations-store",S=null;function A(){return S=S||Object(o.openDb)("firebase-installations-database",1,function(t){0===t.oldVersion&&t.createObjectStore(O)})}function N(o,s){return Object(d.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(d.d)(this,function(t){switch(t.label){case 0:return e=g(o),[4,A()];case 1:return r=t.sent(),n=r.transaction(O,"readwrite"),[4,(r=n.objectStore(O)).get(e)];case 2:return i=t.sent(),[4,r.put(s,e)];case 3:return t.sent(),[4,n.complete];case 4:return t.sent(),i&&i.fid===s.fid||w(o,s.fid),[2,s]}})})}function k(r){return Object(d.b)(this,void 0,void 0,function(){var e,n;return Object(d.d)(this,function(t){switch(t.label){case 0:return e=g(r),[4,A()];case 1:return n=t.sent(),[4,(n=n.transaction(O,"readwrite")).objectStore(O).delete(e)];case 2:return t.sent(),[4,n.complete];case 3:return t.sent(),[2]}})})}function j(s,a){return Object(d.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(d.d)(this,function(t){switch(t.label){case 0:return e=g(s),[4,A()];case 1:return r=t.sent(),n=r.transaction(O,"readwrite"),[4,(r=n.objectStore(O)).get(e)];case 2:return i=t.sent(),void 0!==(o=a(i))?[3,4]:[4,r.delete(e)];case 3:return t.sent(),[3,6];case 4:return[4,r.put(o,e)];case 5:t.sent(),t.label=6;case 6:return[4,n.complete];case 7:return t.sent(),!o||i&&i.fid===o.fid||w(s,o.fid),[2,o]}})})}function C(i){return Object(d.b)(this,void 0,void 0,function(){var e,n,r;return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,j(i,function(t){t=P(t||{fid:function(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=(n=t,btoa(String.fromCharCode.apply(String,Object(d.f)(n))).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return s.test(e)?e:""}catch(t){return""}var n}(),registrationStatus:0}),t=function(t,e){if(0!==e.registrationStatus)return 1===e.registrationStatus?{installationEntry:e,registrationPromise:function(i){return Object(d.b)(this,void 0,void 0,function(){var e,n,r;return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,D(i)];case 1:e=t.sent(),t.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,m(100)];case 3:return t.sent(),[4,D(i)];case 4:return e=t.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,C(i)];case 6:return r=t.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,e]}})})}(t)}:{installationEntry:e};if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(a.create("app-offline"))};e={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:e,registrationPromise:function(r,i){return Object(d.b)(this,void 0,void 0,function(){var e,n;return Object(d.d)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,7]),[4,function(s,t){var a=t.fid;return Object(d.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(d.d)(this,function(t){switch(t.label){case 0:return e=h(s),n=c(s),o={fid:a,authVersion:"FIS_v2",appId:s.appId,sdkVersion:"w:0.4.19"},r={method:"POST",headers:n,body:JSON.stringify(o)},[4,y(function(){return fetch(e,r)})];case 1:return(i=t.sent()).ok?[4,i.json()]:[3,3];case 2:return[2,{fid:(o=t.sent()).fid||a,registrationStatus:2,refreshToken:o.refreshToken,authToken:l(o.authToken)}];case 3:return[4,f("Create Installation",i)];case 4:throw t.sent()}})})}(r,i)];case 1:return e=t.sent(),[2,N(r,e)];case 2:return u(n=t.sent())&&409===n.customData.serverCode?[4,k(r)]:[3,4];case 3:return t.sent(),[3,6];case 4:return[4,N(r,{fid:i.fid,registrationStatus:0})];case 5:t.sent(),t.label=6;case 6:throw n;case 7:return[2]}})})}(t,e)}}(i,t);return e=t.registrationPromise,t.installationEntry})];case 1:return""!==(n=t.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=t.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function D(t){return j(t,function(t){if(!t)throw a.create("installation-not-found");return P(t)})}function P(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t}function x(t,a){var u=t.appConfig,c=t.platformLoggerProvider;return Object(d.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(d.d)(this,function(t){switch(t.label){case 0:return e=a.fid,n=h(u)+"/"+e+"/authTokens:generate",r=v(u,a),(i=c.getImmediate({optional:!0}))&&r.append("x-firebase-client",i.getPlatformInfoString()),i={installation:{sdkVersion:"w:0.4.19"}},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,y(function(){return fetch(n,o)})];case 1:return(s=t.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,l(t.sent())];case 3:return[4,f("Generate Auth Token",s)];case 4:throw t.sent()}var e})})}function R(o,s){return void 0===s&&(s=!1),Object(d.b)(this,void 0,void 0,function(){var i,e,n;return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,j(o.appConfig,function(t){if(!M(t))throw a.create("not-registered");var e,n,r=t.authToken;if(!(s||2!==r.requestStatus||(e=r,(n=Date.now())<e.creationTime||e.creationTime+e.expiresIn<n+36e5)))return t;if(1===r.requestStatus)return i=function(r,i){return Object(d.b)(this,void 0,void 0,function(){var e,n;return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,L(r.appConfig)];case 1:e=t.sent(),t.label=2;case 2:return 1!==e.authToken.requestStatus?[3,5]:[4,m(100)];case 3:return t.sent(),[4,L(r.appConfig)];case 4:return e=t.sent(),[3,2];case 5:return 0===(n=e.authToken).requestStatus?[2,R(r,i)]:[2,n]}})})}(o,s),t;if(!navigator.onLine)throw a.create("app-offline");r=t,t={requestStatus:1,requestTime:Date.now()},t=Object(d.a)(Object(d.a)({},r),{authToken:t});return i=function(i,o){return Object(d.b)(this,void 0,void 0,function(){var e,n,r;return Object(d.d)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,8]),[4,x(i,o)];case 1:return e=t.sent(),r=Object(d.a)(Object(d.a)({},o),{authToken:e}),[4,N(i.appConfig,r)];case 2:return t.sent(),[2,e];case 3:return!u(n=t.sent())||401!==n.customData.serverCode&&404!==n.customData.serverCode?[3,5]:[4,k(i.appConfig)];case 4:return t.sent(),[3,7];case 5:return r=Object(d.a)(Object(d.a)({},o),{authToken:{requestStatus:0}}),[4,N(i.appConfig,r)];case 6:t.sent(),t.label=7;case 7:throw n;case 8:return[2]}})})}(o,t),t})];case 1:return e=t.sent(),i?[4,i]:[3,3];case 2:return n=t.sent(),[3,4];case 3:n=e.authToken,t.label=4;case 4:return[2,n]}})})}function L(t){return j(t,function(t){if(!M(t))throw a.create("not-registered");var e=t.authToken;return 1===e.requestStatus&&e.requestTime+1e4<Date.now()?Object(d.a)(Object(d.a)({},t),{authToken:{requestStatus:0}}):t})}function M(t){return void 0!==t&&2===t.registrationStatus}function V(o,s){return Object(d.b)(this,void 0,void 0,function(){var n,r,i;return Object(d.d)(this,function(t){switch(t.label){case 0:return e=s.fid,n=h(o)+"/"+e,i=v(o,s),r={method:"DELETE",headers:i},[4,y(function(){return fetch(n,r)})];case 1:return(i=t.sent()).ok?[3,3]:[4,f("Delete Installation",i)];case 2:throw t.sent();case 3:return[2]}var e})})}function U(t,r){var i=t.appConfig;return function(t,e){_();var n=g(t),t=b.get(n);t||(t=new Set,b.set(n,t)),t.add(e)}(i,r),function(){var t,e,n;t=r,e=g(i),(n=b.get(e))&&(n.delete(t),0===n.size&&b.delete(e),T())}}function F(t){return a.create("missing-app-config-values",{valueName:t})}(e=r.a).INTERNAL.registerComponent(new i.a("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw F("App Configuration");if(!t.name)throw F("App Name");try{for(var r=Object(d.h)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw F(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(r){return Object(d.b)(this,void 0,void 0,function(){var e,n;return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,C(r.appConfig)];case 1:return n=t.sent(),e=n.installationEntry,((n=n.registrationPromise)?n:R(r)).catch(console.error),[2,e.fid]}})})}(n)},getToken:function(t){return function(e,n){return void 0===t&&(n=!1),Object(d.b)(this,void 0,void 0,function(){return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,function(n){return Object(d.b)(this,void 0,void 0,function(){var e;return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,C(n)];case 1:return(e=t.sent().registrationPromise)?[4,e]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})}(e.appConfig)];case 1:return t.sent(),[4,R(e,n)];case 2:return[2,t.sent().token]}})})}(n,t)},delete:function(){return function(r){return Object(d.b)(this,void 0,void 0,function(){var e,n;return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,j(e=r.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=t.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw a.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw a.create("app-offline");case 3:return[4,V(e,n)];case 4:return t.sent(),[4,k(e)];case 5:t.sent(),t.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return U(n,t)}}},"PUBLIC")),e.registerVersion("@firebase/installations","0.4.19");var q,B,e=n("q/0M"),H="https://www.googletagmanager.com/gtag/js";(n=q=q||{}).EVENT="event",n.SET="set",n.CONFIG="config",(n=B=B||{}).ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results";var z=new e.b("@firebase/analytics");function G(t,e,n,r,i){var o,s,a,u,c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(c=window[i]),window[i]=(o=c,s=t,a=e,u=n,function(n,r,i){return Object(d.b)(this,void 0,void 0,function(){var e;return Object(d.d)(this,function(t){switch(t.label){case 0:return t.trys.push([0,6,,7]),n!==q.EVENT?[3,2]:[4,function(c,h,l,f,p){return Object(d.b)(this,void 0,void 0,function(){var n,e,r,i,o,s,a,u;return Object(d.d)(this,function(t){switch(t.label){case 0:return t.trys.push([0,4,,5]),n=[],p&&p.send_to?(e=p.send_to,Array.isArray(e)||(e=[e]),[4,Promise.all(l)]):[3,2];case 1:for(r=t.sent(),i=function(e){var t=r.find(function(t){return t.measurementId===e}),t=t&&h[t.appId];if(!t)return n=[],"break";n.push(t)},o=0,s=e;o<s.length&&(a=s[o],"break"!==i(a));o++);t.label=2;case 2:return 0===n.length&&(n=Object.values(h)),[4,Promise.all(n)];case 3:return t.sent(),c(q.EVENT,f,p||{}),[3,5];case 4:return u=t.sent(),z.error(u),[3,5];case 5:return[2]}})})}(o,s,a,r,i)];case 1:return t.sent(),[3,5];case 2:return n!==q.CONFIG?[3,4]:[4,function(r,i,o,s,a,u){return Object(d.b)(this,void 0,void 0,function(){var e,n;return Object(d.d)(this,function(t){switch(t.label){case 0:e=s[a],t.label=1;case 1:return t.trys.push([1,7,,8]),e?[4,i[e]]:[3,3];case 2:return t.sent(),[3,6];case 3:return[4,Promise.all(o)];case 4:return n=t.sent(),(n=n.find(function(t){return t.measurementId===a}))?[4,i[n.appId]]:[3,6];case 5:t.sent(),t.label=6;case 6:return[3,8];case 7:return n=t.sent(),z.error(n),[3,8];case 8:return r(q.CONFIG,a,u),[2]}})})}(o,s,a,u,r,i)];case 3:return t.sent(),[3,5];case 4:o(q.SET,r),t.label=5;case 5:return[3,7];case 6:return e=t.sent(),z.error(e),[3,7];case 7:return[2]}})})}),{gtagCore:c,wrappedGtag:window[i]}}var e=((e={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",e["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",e["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",e["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",e["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",e["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",e["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",e["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',e["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',e),K=new p.b("analytics","Analytics",e),W=(J.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},J.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},J.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},new J);function J(t,e){void 0===e&&(e=1e3),this.throttleMetadata=t=void 0===t?{}:t,this.intervalMillis=e}function X(o){var s;return Object(d.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(d.d)(this,function(t){switch(t.label){case 0:return e=o.appId,i=o.apiKey,i={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":i})},e="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",e),[4,fetch(e,i)];case 1:if(200===(n=t.sent()).status||304===n.status)return[3,6];r="",t.label=2;case 2:return t.trys.push([2,4,,5]),[4,n.json()];case 3:return i=t.sent(),null!==(s=i.error)&&void 0!==s&&s.message&&(r=i.error.message),[3,5];case 4:return t.sent(),[3,5];case 5:throw K.create("config-fetch-failed",{httpStatus:n.status,responseMessage:r});case 6:return[2,n.json()]}})})}function Y(u,t,c,h){var l=t.throttleEndTimeMillis,f=t.backoffCount;return void 0===h&&(h=W),Object(d.b)(this,void 0,void 0,function(){var e,n,r,s,a;return Object(d.d)(this,function(t){switch(t.label){case 0:e=u.appId,n=u.measurementId,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(i=c,o=l,new Promise(function(t,e){var n=Math.max(o-Date.now(),0),r=setTimeout(t,n);i.addEventListener(function(){clearTimeout(r),e(K.create("fetch-throttle",{throttleEndTimeMillis:o}))})}))];case 2:return t.sent(),[3,4];case 3:if(s=t.sent(),n)return z.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+n+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:n}];throw s;case 4:return t.trys.push([4,6,,7]),[4,X(u)];case 5:return a=t.sent(),h.deleteThrottleMetadata(e),[2,a];case 6:if(function(t){if(t instanceof p.c&&t.customData){t=Number(t.customData.httpStatus);return 429===t||500===t||503===t||504===t}}(r=t.sent()))return s=503===Number(r.customData.httpStatus)?Object(p.j)(f,h.intervalMillis,30):Object(p.j)(f,h.intervalMillis),a={throttleEndTimeMillis:Date.now()+s,backoffCount:f+1},h.setThrottleMetadata(e,a),z.debug("Calling attemptFetch again in "+s+" millis"),[2,Y(u,a,c,h)];if(h.deleteThrottleMetadata(e),n)return z.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+n+' provided in the "measurementId" field in the local Firebase config. ['+r.message+"]"),[2,{appId:e,measurementId:n}];throw r;case 7:return[2]}var i,o})})}var $=(Q.prototype.addEventListener=function(t){this.listeners.push(t)},Q.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},Q);function Q(){this.listeners=[]}var Z,tt,et={},nt=[],rt={},it="dataLayer",ot="gtag",st=!1;function at(t){if(st)throw K.create("already-initialized");t.dataLayerName&&(it=t.dataLayerName),t.gtagName&&(ot=t.gtagName)}function ut(t,e){var n;n=[],Object(p.s)()&&n.push("This is a browser extension environment."),Object(p.e)()||n.push("Cookies are not available."),0<n.length&&(n=n.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=K.create("invalid-analytics-context",{errorInfo:n}),z.warn(n.message));var r,i,o=t.options.appId;if(!o)throw K.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw K.create("no-api-key");z.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=et[o])throw K.create("already-exists",{id:o});return st||(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(H))return r}}()||(r=it,(i=document.createElement("script")).src=H+"?l="+r,i.async=!0,document.head.appendChild(i)),r=it,i=[],Array.isArray(window[r])?window[r]:window[r]=i,i=(r=G(et,nt,rt,it,ot)).wrappedGtag,r=r.gtagCore,tt=i,Z=r,st=!0),et[o]=function(i,o,s,a,u){return Object(d.b)(this,void 0,void 0,function(){var e,n,r;return Object(d.d)(this,function(t){switch(t.label){case 0:return(e=function(a,u){return void 0===u&&(u=W),Object(d.b)(this,void 0,void 0,function(){var e,n,r,i,o,s=this;return Object(d.d)(this,function(t){if(i=a.options,e=i.appId,n=i.apiKey,r=i.measurementId,!e)throw K.create("no-app-id");if(n)return i=u.getThrottleMetadata(e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new $,setTimeout(function(){return Object(d.b)(s,void 0,void 0,function(){return Object(d.d)(this,function(t){return o.abort(),[2]})})},6e4),[2,Y({appId:e,apiKey:n,measurementId:r},i,o,u)];if(r)return[2,{measurementId:r,appId:e}];throw K.create("no-api-key")})})}(i)).then(function(t){s[t.measurementId]=t.appId,i.options.measurementId&&t.measurementId!==i.options.measurementId&&z.warn("The measurement ID in the local Firebase config ("+i.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return z.error(t)}),o.push(e),n=function(){return Object(d.b)(this,void 0,void 0,function(){var e;return Object(d.d)(this,function(t){switch(t.label){case 0:return Object(p.w)()?[3,1]:(z.warn(K.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(p.N)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),z.warn(K.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?a.getId():void 0}),[4,Promise.all([e,n])];case 1:return r=t.sent(),e=r[0],n=r[1],u("js",new Date),(r={}).origin="firebase",r.update=!0,r=r,null!=n&&(r.firebase_id=n),u(q.CONFIG,e.measurementId,r),[2,e.measurementId]}})})}(t,nt,rt,e,Z),{app:t,logEvent:function(t,e,n){!function(n,r,i,o,s){return Object(d.b)(this,void 0,void 0,function(){var e;return Object(d.d)(this,function(t){switch(t.label){case 0:return s&&s.global?(n(q.EVENT,i,o),[2]):[3,1];case 1:return[4,r];case 2:e=t.sent(),e=Object(d.a)(Object(d.a)({},o),{send_to:e}),n(q.EVENT,i,e),t.label=3;case 3:return[2]}})})}(tt,et[o],t,e,n).catch(function(t){return z.error(t)})},setCurrentScreen:function(t,e){!function(n,r,i,o){return Object(d.b)(this,void 0,void 0,function(){var e;return Object(d.d)(this,function(t){switch(t.label){case 0:return o&&o.global?(n(q.SET,{screen_name:i}),[2,Promise.resolve()]):[3,1];case 1:return[4,r];case 2:e=t.sent(),n(q.CONFIG,e,{update:!0,screen_name:i}),t.label=3;case 3:return[2]}})})}(tt,et[o],t,e).catch(function(t){return z.error(t)})},setUserId:function(t,e){!function(n,r,i,o){return Object(d.b)(this,void 0,void 0,function(){var e;return Object(d.d)(this,function(t){switch(t.label){case 0:return o&&o.global?(n(q.SET,{user_id:i}),[2,Promise.resolve()]):[3,1];case 1:return[4,r];case 2:e=t.sent(),n(q.CONFIG,e,{update:!0,user_id:i}),t.label=3;case 3:return[2]}})})}(tt,et[o],t,e).catch(function(t){return z.error(t)})},setUserProperties:function(t,e){!function(s,a,u,c){return Object(d.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(d.d)(this,function(t){switch(t.label){case 0:if(!c||!c.global)return[3,1];for(e={},n=0,r=Object.keys(u);n<r.length;n++)i=r[n],e["user_properties."+i]=u[i];return s(q.SET,e),[2,Promise.resolve()];case 1:return[4,a];case 2:o=t.sent(),s(q.CONFIG,o,{update:!0,user_properties:u}),t.label=3;case 3:return[2]}})})}(tt,et[o],t,e).catch(function(t){return z.error(t)})},setAnalyticsCollectionEnabled:function(t){!function(n,r){return Object(d.b)(this,void 0,void 0,function(){var e;return Object(d.d)(this,function(t){switch(t.label){case 0:return[4,n];case 1:return e=t.sent(),window["ga-disable-"+e]=!r,[2]}})})}(et[o],t).catch(function(t){return z.error(t)})},INTERNAL:{delete:function(){return delete et[o],Promise.resolve()}}}}function ct(){return Object(d.b)(this,void 0,void 0,function(){return Object(d.d)(this,function(t){switch(t.label){case 0:if(Object(p.s)())return[2,!1];if(!Object(p.e)())return[2,!1];if(!Object(p.w)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(p.N)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}(r=r.a).INTERNAL.registerComponent(new i.a("analytics",function(t){return ut(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:at,EventName:B,isSupported:ct})),r.INTERNAL.registerComponent(new i.a("analytics-internal",function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(t){throw K.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),r.registerVersion("@firebase/analytics","0.6.2")},Bfam:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c="/home/jenkins/workspace/NPM-web-ui/lib/components/plain-react/Strapline/Subheader.js";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=a(n);return t=r?(t=a(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?h(e):t}}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n("q1tI"),n=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,l.PureComponent);var a=s(u);function u(){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t,e,r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=h(n=a.call.apply(a,[this].concat(o))),r=function(t,e){return l.createElement("a",{href:t,className:n.props.css("subheader-link-tag"),__self:h(n),__source:{fileName:c,lineNumber:5,columnNumber:5}},e)},(e="renderLink")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,n}return r(u.prototype,[{key:"render",value:function(){var t=this.props,e=t.css,n=t.text,r=t.type,i=t.url,t=t.displaySubheader;return(void 0===t||t)&&l.createElement("span",{className:e("subheader","subheader-".concat(r)),__self:this,__source:{fileName:c,lineNumber:14,columnNumber:7}},"link"===r?this.renderLink(i,n):n)}}]),u}();t.exports=n},ChiG:function(t,e,n){"use strict";function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return t=r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==o(t)&&"function"!=typeof t?f(e):t}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var p=n("q1tI"),d=p.Component,v=n("XW3W"),r=n("n/w/");t.exports=function(s){for(var t=arguments.length,e=new Array(1<t?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var a=v(e).map(function(e){if(2!==Object.keys(e).length||"string"!=typeof e.namespace||"object"!==o(e.styles))return e;var n={};return Object.keys(e.styles).forEach(function(t){n["".concat(e.namespace).concat(t)]=e.styles[t]}),n});return function(o){if(!o)throw r.DECORATOR_THEME_MISSING_COMPONENT();var t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(i,d);var t,e,n,r=l(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,t))._css=t._css.bind(f(t)),t._namespace=t._namespace.bind(f(t)),t}return t=i,(e=[{key:"_namespace",value:function(t){t=this._css.bind(this,t);return t.namespace=this._namespace,t}},{key:"_css",value:function(e){for(var n="",t=arguments.length,r=new Array(1<t?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o,s=v(r).map(function(t){return"".concat(e).concat(t)});return this.props.css&&"function"==typeof this.props.css&&(n+=(o=this.props).css.apply(o,function(t){if(Array.isArray(t))return u(t)}(o=s)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(o)||function(t){if(t){if("string"==typeof t)return u(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,void 0):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())||""),a.forEach(function(e){s.forEach(function(t){"string"==typeof e[t]&&(n+="".concat(e[t]," "))})}),n}},{key:"render",value:function(){var t=this.props.decorators||[],e=this.props.theme||{};a.push(e),t.indexOf(s)<0&&t.push(s);e=this._css.bind(this,"");e.namespace=this._namespace;t=Object.assign({},this.props,{css:e,decorators:t});return p.createElement(o,t)}}])&&c(t.prototype,e),n&&c(t,n),i}();return t.displayName="".concat(s,"(").concat(o.displayName||o.name,")"),o.transferStaticProps&&o.transferStaticProps(t),t}}},E8oE:function(t,e){var n=/^(?:0|[1-9]\d*)$/;function a(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var o=Object.prototype,h=o.hasOwnProperty,u=o.toString,c=o.propertyIsEnumerable,l=Math.max;function r(t,e,n,r){return void 0===t||p(t,o[n])&&!h.call(r,n)?e:t}function i(o,s){return s=l(void 0===s?o.length-1:s,0),function(){for(var t=arguments,e=-1,n=l(t.length-s,0),r=Array(n);++e<n;)r[e]=t[s+e];for(var e=-1,i=Array(s+1);++e<s;)i[e]=t[e];return i[s]=r,a(o,this,i)}}function f(t,e){return(e=null==e?9007199254740991:e)&&("number"==typeof t||n.test(t))&&-1<t&&t%1==0&&t<e}function p(t,e){return t===e||t!=t&&e!=e}var d=Array.isArray;function v(t){return null!=t&&("number"==typeof(e=t.length)&&-1<e&&e%1==0&&e<=9007199254740991)&&!("[object Function]"==(t=y(t)?u.call(t):"")||"[object GeneratorFunction]"==t);var e}function y(t){var e=typeof t;return t&&("object"==e||"function"==e)}var m,s=(m=function(t,e,n,r){!function(t,e,n,r){n=n||{};for(var i,o,s=-1,a=e.length;++s<a;){var u=e[s],c=r?r(n[u],t[u],u,n,t):void 0;i=n,o=u,u=void 0===c?t[u]:c,c=void 0,c=i[o],h.call(i,o)&&p(c,u)&&(void 0!==u||o in i)||(i[o]=u)}}(e,v(e=e)?function(t,e){var n,r,i,o=d(t)||(r=n=t)&&"object"==typeof r&&v(r)&&h.call(n,"callee")&&(!c.call(n,"callee")||"[object Arguments]"==u.call(n))?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=o.length,a=!!s;for(i in t)!e&&!h.call(t,i)||a&&("length"==i||f(i,s))||o.push(i);return o}(e,!0):function(n){if(!y(n))return function(){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}();var t,e,r=(t=n&&n.constructor,n===("function"==typeof t&&t.prototype||o)),i=[];for(e in n)("constructor"!=e||!r&&h.call(n,e))&&i.push(e);return i}(e),t,r)},i(function(t,e){var n=-1,r=e.length,i=1<r?e[r-1]:void 0,o=2<r?e[2]:void 0,i=3<m.length&&"function"==typeof i?(r--,i):void 0;for(o&&function(t,e,n){if(y(n)){var r=typeof e;return("number"==r?v(n)&&f(e,n.length):"string"==r&&e in n)&&p(n[e],t)}}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var s=e[n];s&&m(t,s,0,i)}return t})),g=i(function(t){return t.push(void 0,r),a(s,void 0,t)});t.exports=g},GNiM:function(t,e,n){var n=n("I01J"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,n=n(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(r,function(t,e,n,r){i.push(n?r.replace(o,"$1"):e||t)}),i});t.exports=n},Gnqm:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h="/home/jenkins/workspace/NPM-web-ui/lib/components/wsj/LiveHighlights/index.js";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=a(n);return t=r?(t=a(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):t}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=n("q1tI"),c=n("ChiG"),f=n("fFtP"),p=n("XhxB"),d=n("9EPD"),v=n("x7Ii"),y=n("tc67"),m=n("gEtn"),g=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,f);var e=s(n);function n(t){return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),e.call(this,t)}return r(n.prototype,[{key:"_limitCards",value:function(t,e){return t.length>e?t.slice(0,e):t}},{key:"_getTimeSince",value:function(t){var e=new Date(0);e.setUTCSeconds(t/1e3);t=Math.floor((new Date-e)/1e3),e=Math.floor(t/31536e3);return 1<=e?e+" y":1<=(e=Math.floor(t/2592e3))?e+"m":1<=(e=Math.floor(t/86400))?e+"d":1<=(e=Math.floor(t/3600))?e+"h":1<=(e=Math.floor(t/60))?e+"m":"now"}},{key:"componentDidMount",value:function(){var e,n,r,i,o,s=this,t=this.props,a=t.content,u=t.options,t=(u=void 0===u?{}:u).config,u=u.limit;a&&null!==a&&a.data&&(a=a.data,e=a.status,n=a.id,r=a.createdAt,i=a.slug,a=a.meta,o=void 0===a?{}:a,i&&(this.firestoreInstance=y(t,i,{highlightsOnly:!0,limit:u}),this.firestoreInstance.subscribe(function(t){t=t.cards;s.setContext({data:{cards:t,createdAt:r,id:n,meta:o,slug:i,status:e}})})))}},{key:"render",value:function(){var r=this,t=this.props,e=t.css,i=void 0===e?function(){return""}:e,n=t.content,o=t.context,s=t.options,a=(s=void 0===s?{}:s).className,u=s.limit,e=s.maxHeight,t=s.moreLabel,s=s.strapOptions;i.namespace=i.namespace||function(){};n=((o&&o.data?o:n)||{}).data;if(!n||!n.cards||n.cards.length<1)return null;var u=this._limitCards(n.cards,u),c="/livecoverage/".concat(n.slug);s.label=n.meta.hed,s.url=c,n.meta.dek&&(s.subheader={type:"caption",text:n.meta.dek});n=["list"];return e&&n.push("overflow"),l.createElement("div",{className:i("wrapper",a||""),__self:this,__source:{fileName:h,lineNumber:162,columnNumber:7}},l.createElement(d,{css:i.namespace("strapline_"),options:s,__self:this,__source:{fileName:h,lineNumber:163,columnNumber:9}}),l.createElement("ul",{className:i(n),style:{maxHeight:e},__self:this,__source:{fileName:h,lineNumber:164,columnNumber:9}},u.map(function(t,e){var n=(t.meta||{}).display;return l.createElement("li",{className:i("entry"),key:e,__self:r,__source:{fileName:h,lineNumber:168,columnNumber:15}},l.createElement("span",{className:i("timestamp"),__self:r,__source:{fileName:h,lineNumber:169,columnNumber:17}},r._getTimeSince(t.createdAt)),l.createElement("a",{className:i("content"),href:"".concat(c,"/card/").concat(t.id),__self:r,__source:{fileName:h,lineNumber:172,columnNumber:17}},n.shortTitle||n.hed))})),l.createElement("a",{className:i("button"),href:c,__self:this,__source:{fileName:h,lineNumber:179,columnNumber:9}},t))}}]),n}();u(g,"options",{type:"object",properties:{config:{type:"object"},moreLabel:{type:"string"},limit:{type:"integer"},strapOptions:{type:"object"},maxHeight:{type:"string"}}}),u(g,"decorators",{WSJTheme:c("WSJTheme",m,{namespace:"strapline_",styles:v})}),u(g,"content",["collection_livehighlights"]),u(g,"defaultOptions",{moreLabel:"More",limit:10,strapOptions:{className:"nested",tag:"h3",icon:"link",iconPosition:"right",iconPositionRelative:"container",padding:["bottom","top"]},maxHeight:"350px"}),t.exports=p(g,n("sVPq"))},HoIX:function(t,zf,Gf){"use strict";!function(e){Gf.d(zf,"a",function(){return ff}),Gf.d(zf,"b",function(){return sf}),Gf.d(zf,"c",function(){return j}),Gf.d(zf,"d",function(){return Ql}),Gf.d(zf,"e",function(){return hf}),Gf.d(zf,"f",function(){return Sf}),Gf.d(zf,"g",function(){return Of}),Gf.d(zf,"h",function(){return Fh}),Gf.d(zf,"i",function(){return Af}),Gf.d(zf,"j",function(){return jf}),Gf.d(zf,"k",function(){return Uh}),Gf.d(zf,"l",function(){return kf}),Gf.d(zf,"m",function(){return Ff}),Gf.d(zf,"n",function(){return lf}),Gf.d(zf,"o",function(){return Dc}),Gf.d(zf,"p",function(){return $l}),Gf.d(zf,"q",function(){return qf}),Gf.d(zf,"r",function(){return X});var f=Gf("q/0M"),c=Gf("qOnz"),h=Gf("QkSL"),v=Gf("mrSG"),i=new f.b("@firebase/firestore");function p(){return i.logLevel}function d(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];i.logLevel<=f.a.DEBUG&&(e=n.map(o),i.debug.apply(i,Object(v.g)(["Firestore (8.2.1): "+t],e)))}function l(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];i.logLevel<=f.a.ERROR&&(e=n.map(o),i.error.apply(i,Object(v.g)(["Firestore (8.2.1): "+t],e)))}function y(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];i.logLevel<=f.a.WARN&&(e=n.map(o),i.warn.apply(i,Object(v.g)(["Firestore (8.2.1): "+t],e)))}function o(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function m(t){t="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+(t=void 0===t?"Unexpected state":t);throw l(t),new Error(t)}function I(t){t||m()}var s=(t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t);function t(){}function E(t,e){return t<e?-1:e<t?1:0}function a(t,n,r){return t.length===n.length&&t.every(function(t,e){return r(t,n[e])})}var g=(n.fromBase64String=function(t){return new n(atob(t))},n.fromUint8Array=function(t){return new n(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},n.prototype.toBase64=function(){return t=this.i,btoa(t);var t},n.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},n.prototype.o=function(){return 2*this.i.length},n.prototype.u=function(t){return E(this.i,t.i)},n.prototype.isEqual=function(t){return this.i===t.i},n);function n(t){this.i=t}g.h=new g("");var r,b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},w=(r=Error,Object(v.c)(O,r),O),u=(T.fromBase64String=function(t){try{return new T(g.fromBase64String(t))}catch(t){throw new w(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},T.fromUint8Array=function(t){return new T(g.fromUint8Array(t))},T.prototype.toBase64=function(){return this.l.toBase64()},T.prototype.toUint8Array=function(){return this.l.toUint8Array()},T.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},T.prototype.isEqual=function(t){return this.l.isEqual(t.l)},T),_=function(t){this._=t};function T(t){this.l=t}function O(t,e){var n=this;return(n=r.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function S(){if("undefined"==typeof Uint8Array)throw new w(b.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function A(){if("undefined"==typeof atob)throw new w(b.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function N(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o}var k,j=(k=_,Object(v.c)(R,k),R.fromBase64String=function(t){return A(),new R(u.fromBase64String(t))},R.fromUint8Array=function(t){return S(),new R(u.fromUint8Array(t))},R.prototype.toBase64=function(){return A(),this._.toBase64()},R.prototype.toUint8Array=function(){return S(),this._.toUint8Array()},R.prototype.isEqual=function(t){return this._.isEqual(t._)},R.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},R),C=(Object.defineProperty(x.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),x.prototype.isEqual=function(t){return t instanceof x&&t.projectId===this.projectId&&t.database===this.database},x),D=(P.prototype.A=function(){return null!=this.uid},P.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},P.prototype.isEqual=function(t){return t.uid===this.uid},P);function P(t){this.uid=t}function x(t,e){this.projectId=t,this.database=e||"(default)"}function R(){return null!==k&&k.apply(this,arguments)||this}D.UNAUTHENTICATED=new D(null),D.P=new D("google-credentials-uid"),D.g=new D("first-party-uid");function L(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t}var M=(K.prototype.getToken=function(){return Promise.resolve(null)},K.prototype.v=function(){},K.prototype.S=function(t){(this.p=t)(D.UNAUTHENTICATED)},K.prototype.D=function(){this.p=null},K),V=(G.prototype.getToken=function(){var e=this,n=this.F,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(function(t){return e.F!==n?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):t?(I("string"==typeof t.accessToken),new L(t.accessToken,e.currentUser)):null}):Promise.resolve(null)},G.prototype.v=function(){this.forceRefresh=!0},G.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},G.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},G.prototype.O=function(){var t=this.auth&&this.auth.getUid();return I(null===t||"string"==typeof t),new D(t)},G),U=(Object.defineProperty(z.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),z),F=(H.prototype.getToken=function(){return Promise.resolve(new U(this.k,this.M))},H.prototype.S=function(t){t(D.g)},H.prototype.D=function(){},H.prototype.v=function(){},H),q=(B.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},B.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},B);function B(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}function H(t,e){this.k=t,this.M=e}function z(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=D.g}function G(t){var e=this;this.C=null,this.currentUser=D.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}function K(){this.p=null}q.U=-1;var W,J,X=(at.now=function(){return at.fromMillis(Date.now())},at.fromDate=function(t){return at.fromMillis(t.getTime())},at.fromMillis=function(t){var e=Math.floor(t/1e3);return new at(e,1e6*(t-1e3*e))},at.prototype.toDate=function(){return new Date(this.toMillis())},at.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},at.prototype.K=function(t){return this.seconds===t.seconds?E(this.nanoseconds,t.nanoseconds):E(this.seconds,t.seconds)},at.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},at.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},at.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},at.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},at),Y=(st.W=function(t){return new st(t)},st.min=function(){return new st(new X(0,0))},st.prototype.u=function(t){return this.timestamp.K(t.timestamp)},st.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},st.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},st.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},st.prototype.G=function(){return this.timestamp},st),$=(Object.defineProperty(ot.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),ot.prototype.isEqual=function(t){return 0===ot.J(this,t)},ot.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof ot?t.forEach(function(t){e.push(t)}):e.push(t),this.Y(e)},ot.prototype.limit=function(){return this.offset+this.length},ot.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},ot.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},ot.prototype.tt=function(){return this.segments[this.offset]},ot.prototype.et=function(){return this.get(this.length-1)},ot.prototype.get=function(t){return this.segments[this.offset+t]},ot.prototype.nt=function(){return 0===this.length},ot.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ot.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ot.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},ot.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},ot.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},ot),Q=(J=$,Object(v.c)(it,J),it.prototype.Y=function(t,e,n){return new it(t,e,n)},it.prototype.ot=function(){return this.rt().join("/")},it.prototype.toString=function(){return this.ot()},it.ct=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new w(b.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter(function(t){return 0<t.length}))}return new it(n)},it.at=function(){return new it([])},it),Z=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tt=(W=$,Object(v.c)(rt,W),rt.prototype.Y=function(t,e,n){return new rt(t,e,n)},rt.ut=function(t){return Z.test(t)},rt.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t=!rt.ut(t)?"`"+t+"`":t}).join(".")},rt.prototype.toString=function(){return this.ot()},rt.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},rt.lt=function(){return new rt(["__name__"])},rt._t=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new w(b.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new w(b.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[r+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new w(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=a,r+=2}else"`"===s?o=!o:"."!==s||o?n+=s:i(),r++}if(i(),o)throw new w(b.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rt(e)},rt.at=function(){return new rt([])},rt),et=(nt.ft=function(t){return new nt(Q.ct(t))},nt.dt=function(t){return new nt(Q.ct(t).X(5))},nt.prototype.wt=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},nt.prototype.isEqual=function(t){return null!==t&&0===Q.J(this.path,t.path)},nt.prototype.toString=function(){return this.path.toString()},nt.J=function(t,e){return Q.J(t.path,e.path)},nt.Et=function(t){return t.length%2==0},nt.Tt=function(t){return new nt(new Q(t.slice()))},nt);function nt(t){this.path=t}function rt(){return null!==W&&W.apply(this,arguments)||this}function it(){return null!==J&&J.apply(this,arguments)||this}function ot(t,e,n){void 0===e?e=0:e>t.length&&m(),void 0===n?n=t.length-e:n>t.length-e&&m(),this.segments=t,this.offset=e,this.H=n}function st(t){this.timestamp=t}function at(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new w(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new w(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new w(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new w(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function ut(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function ct(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ht(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var lt=(pt.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},pt.prototype.isEqual=function(t){return a(this.fields,t.fields,function(t,e){return t.isEqual(e)})},pt),ft=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pt(t){(this.fields=t).sort(tt.J)}function dt(t){if(I(!!t),"string"!=typeof t)return{seconds:vt(t.seconds),nanos:vt(t.nanos)};var e=0,n=ft.exec(t);I(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n));t=new Date(t);return{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function vt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function yt(t){return"string"==typeof t?g.fromBase64String(t):g.fromUint8Array(t)}function mt(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gt(t){t=dt(t.mapValue.fields.__local_write_time__.timestampValue);return new X(t.seconds,t.nanos)}function bt(t){return null==t}function wt(t){return 0===t&&1/t==-1/0}function It(t){return"number"==typeof t&&Number.isInteger(t)&&!wt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Et(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mt(t)?4:10:m()}function _t(r,i){var t,e,n=Et(r);if(n!==Et(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return gt(r).isEqual(gt(i));case 3:return function(t){if("string"==typeof r.timestampValue&&"string"==typeof t.timestampValue&&r.timestampValue.length===t.timestampValue.length)return r.timestampValue===t.timestampValue;var e=dt(r.timestampValue),t=dt(t.timestampValue);return e.seconds===t.seconds&&e.nanos===t.nanos}(i);case 5:return r.stringValue===i.stringValue;case 6:return e=i,yt(r.bytesValue).isEqual(yt(e.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return t=i,vt((e=r).geoPointValue.latitude)===vt(t.geoPointValue.latitude)&&vt(e.geoPointValue.longitude)===vt(t.geoPointValue.longitude);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return vt(t.integerValue)===vt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){t=vt(t.doubleValue),e=vt(e.doubleValue);return t===e?wt(t)===wt(e):isNaN(t)&&isNaN(e)}return!1}(r,i);case 9:return a(r.arrayValue.values||[],i.arrayValue.values||[],_t);case 10:return function(){var t,e=r.mapValue.fields||{},n=i.mapValue.fields||{};if(ut(e)!==ut(n))return!1;for(t in e)if(e.hasOwnProperty(t)&&(void 0===n[t]||!_t(e[t],n[t])))return!1;return!0}();default:return m()}}function Tt(t,e){return void 0!==(t.values||[]).find(function(t){return _t(t,e)})}function Ot(t,e){var n,r,i,o=Et(t),s=Et(e);if(o!==s)return E(o,s);switch(o){case 0:return 0;case 1:return E(t.booleanValue,e.booleanValue);case 2:return r=e,i=vt(t.integerValue||t.doubleValue),r=vt(r.integerValue||r.doubleValue),i<r?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return St(t.timestampValue,e.timestampValue);case 4:return St(gt(t),gt(e));case 5:return E(t.stringValue,e.stringValue);case 6:return function(t,e){t=yt(t),e=yt(e);return t.u(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=E(n[i],r[i]);if(0!==o)return o}return E(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,i=e.geoPointValue,0!==(r=E(vt(n.latitude),vt(i.latitude)))?r:E(vt(n.longitude),vt(i.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ot(n[i],r[i]);if(o)return o}return E(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=E(r[s],o[s]);if(0!==a)return a;a=Ot(n[r[s]],i[o[s]]);if(0!==a)return a}return E(r.length,o.length)}(t.mapValue,e.mapValue);default:throw m()}}function St(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return E(t,e);var n=dt(t),t=dt(e),e=E(n.seconds,t.seconds);return 0!==e?e:E(n.nanos,t.nanos)}function At(t){return function s(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(t=dt(i.timestampValue)).seconds+","+t.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?yt(i.bytesValue).toBase64():"referenceValue"in i?(e=i.referenceValue,et.dt(e).toString()):"geoPointValue"in i?"geo("+(e=i.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in i?function(){for(var t="[",e=!0,n=0,r=i.arrayValue.values||[];n<r.length;n++)e?e=!1:t+=",",t+=s(r[n]);return t+"]"}():"mapValue"in i?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+s(t.fields[o])}return e+"}"}(i.mapValue):m();var t,e}(t)}function Nt(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function kt(t){return t&&"integerValue"in t}function jt(t){return!!t&&"arrayValue"in t}function Ct(t){return t&&"nullValue"in t}function Dt(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pt(t){return t&&"mapValue"in t}var xt=(Mt.empty=function(){return new Mt({mapValue:{}})},Mt.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Pt(e=e.mapValue.fields[t.get(n)]))return null}return(e.mapValue.fields||{})[t.et()]||null},Mt.prototype.isEqual=function(t){return _t(this.proto,t.proto)},Mt),Rt=(Lt.prototype.set=function(t,e){return this.Pt(t,e),this},Lt.prototype.delete=function(t){return this.Pt(t,null),this},Lt.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r)var i=t.get(r),o=n.get(i),n=(o instanceof Map||(o=o&&10===Et(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),o);n.set(t.et(),e)},Lt.prototype.yt=function(){var t=this.gt(tt.at(),this.Rt);return null!=t?new xt(t):this.At},Lt.prototype.gt=function(r,t){var i=this,o=!1,e=this.At.field(r),s=Pt(e)?Object.assign({},e.mapValue.fields):{};return t.forEach(function(t,e){var n;t instanceof Map?null!=(n=i.gt(r.child(e),t))&&(s[e]=n,o=!0):null!==t?(s[e]=t,o=!0):s.hasOwnProperty(e)&&(delete s[e],o=!0)}),o?{mapValue:{fields:s}}:null},Lt);function Lt(t){void 0===t&&(t=xt.empty()),this.At=t,this.Rt=new Map}function Mt(t){this.proto=t}function Vt(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null}var Ut,Ft,qt,Bt=function(t,e){this.key=t,this.version=e},Ht=(qt=Bt,Object(v.c)(Jt,qt),Jt.prototype.field=function(t){return this.Vt.field(t)},Jt.prototype.data=function(){return this.Vt},Jt.prototype.vt=function(){return this.Vt.proto},Jt.prototype.isEqual=function(t){return t instanceof Jt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},Jt.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Jt.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),Jt),zt=(Ft=Bt,Object(v.c)(Wt,Ft),Wt.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Wt.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),Wt.prototype.isEqual=function(t){return t instanceof Wt&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Wt),Gt=(Ut=Bt,Object(v.c)(Kt,Ut),Kt.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Kt.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),Kt.prototype.isEqual=function(t){return t instanceof Kt&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Kt);function Kt(){return null!==Ut&&Ut.apply(this,arguments)||this}function Wt(t,e,n){var r=this;return(r=Ft.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function Jt(t,e,n,r){var i=this;return(i=qt.call(this,t,e)||this).Vt=n,i.bt=!!r.bt,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function Xt(t,e,n,r,i,o,s){return new Vt(t,e=void 0===e?null:e,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,s=void 0===s?null:s)}function Yt(t){var e=t;return null===e.St&&(t=e.path.ot(),null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(t){return(t=t).field.ot()+t.op.toString()+At(t.value)}).join(","),t+="|ob:",t+=e.orderBy.map(function(t){return(t=t).field.ot()+t.dir}).join(","),bt(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Oe(e.startAt)),e.endAt&&(t+="|ub:",t+=Oe(e.endAt)),e.St=t),e.St}function $t(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,s,a=0;a<t.filters.length;a++)if(o=t.filters[a],s=e.filters[a],o.op!==s.op||!o.field.isEqual(s.field)||!_t(o.value,s.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ne(t.startAt,e.startAt)&&Ne(t.endAt,e.endAt)}function Qt(t){return et.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Zt,te,ee,ne,re=(ne=function(){},Object(v.c)(he,ne),he.create=function(t,e,n){return t.ht()?"in"===e||"not-in"===e?this.Dt(t,e,n):new ie(t,e,n):"array-contains"===e?new ye(t,n):"in"===e?new me(t,n):"not-in"===e?new ge(t,n):"array-contains-any"===e?new be(t,n):new he(t,e,n)},he.Dt=function(t,e,n){return new("in"===e?oe:se)(t,n)},he.prototype.matches=function(t){t=t.field(this.field);return"!="===this.op?null!==t&&this.Ct(Ot(t,this.value)):null!==t&&Et(this.value)===Et(t)&&this.Ct(Ot(t,this.value))},he.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return m()}},he.prototype.xt=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},he),ie=(ee=re,Object(v.c)(ce,ee),ce.prototype.matches=function(t){t=et.J(t.key,this.key);return this.Ct(t)},ce),oe=(te=re,Object(v.c)(ue,te),ue.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},ue),se=(Zt=re,Object(v.c)(ae,Zt),ae.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},ae);function ae(t,e){var n=this;return(n=Zt.call(this,t,"not-in",e)||this).keys=le(0,e),n}function ue(t,e){var n=this;return(n=te.call(this,t,"in",e)||this).keys=le(0,e),n}function ce(t,e,n){var r=this;return(r=ee.call(this,t,e,n)||this).key=et.dt(n.referenceValue),r}function he(t,e,n){var r=this;return(r=ne.call(this)||this).field=t,r.op=e,r.value=n,r}function le(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(t){return et.dt(t.referenceValue)})}var fe,pe,de,ve,ye=(ve=re,Object(v.c)(Te,ve),Te.prototype.matches=function(t){t=t.field(this.field);return jt(t)&&Tt(t.arrayValue,this.value)},Te),me=(de=re,Object(v.c)(_e,de),_e.prototype.matches=function(t){t=t.field(this.field);return null!==t&&Tt(this.value.arrayValue,t)},_e),ge=(pe=re,Object(v.c)(Ee,pe),Ee.prototype.matches=function(t){if(Tt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;t=t.field(this.field);return null!==t&&!Tt(this.value.arrayValue,t)},Ee),be=(fe=re,Object(v.c)(Ie,fe),Ie.prototype.matches=function(t){var e=this,t=t.field(this.field);return!(!jt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(function(t){return Tt(e.value.arrayValue,t)})},Ie),we=function(t,e){this.position=t,this.before=e};function Ie(t,e){return fe.call(this,t,"array-contains-any",e)||this}function Ee(t,e){return pe.call(this,t,"not-in",e)||this}function _e(t,e){return de.call(this,t,"in",e)||this}function Te(t,e){return ve.call(this,t,"array-contains",e)||this}function Oe(t){return(t.before?"b":"a")+":"+t.position.map(At).join(",")}var Se=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ae(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i],r=o.field.ht()?et.J(et.dt(s.referenceValue),n.key):Ot(s,n.field(o.field));if("desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ne(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!_t(t.position[n],e.position[n]))return!1;return!0}var ke=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null,this.startAt,this.endAt};function je(t,e,n,r,i,o,s,a){return new ke(t,e,n,r,i,o,s,a)}function Ce(t){return new ke(t)}function De(t){return!bt(t.limit)&&"F"===t.limitType}function Pe(t){return!bt(t.limit)&&"L"===t.limitType}function xe(t){return 0<t.Nt.length?t.Nt[0].field:null}function Re(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Le(t){return null!==t.collectionGroup}function Me(t){var e=t;if(null===e.Ft){e.Ft=[];var n=Re(e),t=xe(e);if(null!==n&&null===t)n.ht()||e.Ft.push(new Se(n)),e.Ft.push(new Se(tt.lt(),"asc"));else{for(var r=!1,i=0,o=e.Nt;i<o.length;i++){var s=o[i];e.Ft.push(s),s.field.ht()&&(r=!0)}r||(n=0<e.Nt.length?e.Nt[e.Nt.length-1].dir:"asc",e.Ft.push(new Se(tt.lt(),n)))}}return e.Ft}function Ve(t){var e=t;if(!e.Ot)if("F"===e.limitType)e.Ot=Xt(e.path,e.collectionGroup,Me(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Me(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Se(o.field,s))}var a=e.endAt?new we(e.endAt.position,!e.endAt.before):null,t=e.startAt?new we(e.startAt.position,!e.startAt.before):null;e.Ot=Xt(e.path,e.collectionGroup,n,e.filters,e.limit,a,t)}return e.Ot}function Ue(t,e,n){return new ke(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fe(t,e){return $t(Ve(t),Ve(e))&&t.limitType===e.limitType}function qe(t){return Yt(Ve(t))+"|lt:"+t.limitType}function Be(t){return"Query(target="+(e=Ve(t),n=e.path.ot(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map(function(t){return(t=t).field.ot()+" "+t.op+" "+At(t.value)}).join(", ")+"]"),bt(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map(function(t){return(t=t).field.ot()+" ("+t.dir+")"}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Oe(e.startAt)),e.endAt&&(n+=", endAt: "+Oe(e.endAt)),"Target("+n+")")+"; limitType="+t.limitType+")";var e,n}function He(i,t){return e=i,r=(n=t).key.path,(null!==e.collectionGroup?n.key.wt(e.collectionGroup)&&e.path.st(r):et.Et(e.path)?e.path.isEqual(r):e.path.it(r))&&function(t){for(var e=0,n=i.Nt;e<n.length;e++){var r=n[e];if(!r.field.ht()&&null===t.field(r.field))return}return 1}(t)&&function(t){for(var e=0,n=i.filters;e<n.length;e++)if(!n[e].matches(t))return;return 1}(t)&&(r=t,!((t=i).startAt&&!Ae(t.startAt,Me(t),r)||t.endAt&&Ae(t.endAt,Me(t),r)));var e,n,r}function ze(a){return function(t,e){for(var n=!1,r=0,i=Me(a);r<i.length;r++){var o=i[r],s=function(t,r,e){var n=t.field.ht()?et.J(r.key,e.key):function(t,e){var n=r.field(t),t=e.field(t);return null!==n&&null!==t?Ot(n,t):m()}(t.field,e);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return m()}}(o,t,e);if(0!==s)return s;n=n||o.field.ht()}return 0}}var Ge=(Ke.prototype.Lt=function(t){return new Ke(this.target,this.targetId,this.kt,t,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Ke.prototype.$t=function(t,e){return new Ke(this.target,this.targetId,this.kt,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Ke.prototype.Bt=function(t){return new Ke(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,t,this.resumeToken)},Ke);function Ke(t,e,n,r,i,o,s){void 0===i&&(i=Y.min()),void 0===o&&(o=Y.min()),void 0===s&&(s=g.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}function We(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wt(e)?"-0":e}}function Je(t){return{integerValue:""+t}}function Xe(t,e){return It(e)?Je(e):We(t,e)}$=function(){this.Ut=void 0};function Ye(t,e){return t instanceof hn?kt(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}var $e,Qe,Ze=(Qe=$,Object(v.c)(nn,Qe),nn),tn=($e=$,Object(v.c)(en,$e),en);function en(t){var e=this;return(e=$e.call(this)||this).elements=t,e}function nn(){return null!==Qe&&Qe.apply(this,arguments)||this}function rn(t,e){for(var n=pn(e),r=0,i=t.elements;r<i.length;r++)!function(e){n.some(function(t){return _t(t,e)})||n.push(e)}(i[r]);return{arrayValue:{values:n}}}var on,sn=(on=$,Object(v.c)(an,on),an);function an(t){var e=this;return(e=on.call(this)||this).elements=t,e}function un(t,e){for(var n=pn(e),r=0,i=t.elements;r<i.length;r++)!function(e){n=n.filter(function(t){return!_t(t,e)})}(i[r]);return{arrayValue:{values:n}}}var cn,hn=(cn=$,Object(v.c)(ln,cn),ln);function ln(t,e){var n=this;return(n=cn.call(this)||this).Kt=t,n.Qt=e,n}function fn(t){return vt(t.integerValue||t.doubleValue)}function pn(t){return jt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dn(t,e){this.version=t,this.transformResults=e}var vn=function(t,e){this.field=t,this.transform=e},yn=(mn.Wt=function(){return new mn},mn.exists=function(t){return new mn(void 0,t)},mn.updateTime=function(t){return new mn(t)},Object.defineProperty(mn.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),mn.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},mn);function mn(t,e){this.updateTime=t,this.exists=e}function gn(t,e){return void 0!==t.updateTime?e instanceof Ht&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ht}Bt=function(){};function bn(t,e,n,r){return t instanceof Tn?function(t,e,n,r){if(!gn(t.Gt,e))return e;var i=t.value;t.fieldTransforms&&(r=jn(t.fieldTransforms,n,e,r),i=Cn(t.fieldTransforms,i,r));e=In(e);return new Ht(t.key,e,i,{bt:!0})}(t,e,r,n):t instanceof On?function(t,e,n,r){if(!gn(t.Gt,e))return e;var i=In(e),r=Nn(t,e,jn(t.fieldTransforms,n,e,r));return new Ht(t.key,i,r,{bt:!0})}(t,e,r,n):(e=e,gn((t=t).Gt,e)?new zt(t.key,Y.min()):e)}function wn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&a(n,r,function(t,e){return e=e,(t=t).field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof tn&&e instanceof tn||t instanceof sn&&e instanceof sn?a(t.elements,e.elements,_t):t instanceof hn&&e instanceof hn?_t(t.Qt,e.Qt):t instanceof Ze&&e instanceof Ze)})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt));var n,r}function In(t){return t instanceof Ht?t.version:Y.min()}var En,_n,Tn=(_n=Bt,Object(v.c)(An,_n),An),On=(En=Bt,Object(v.c)(Sn,En),Sn);function Sn(t,e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=En.call(this)||this).key=t,o.data=e,o.zt=n,o.Gt=r,o.fieldTransforms=i,o.type=1,o}function An(t,e,n,r){void 0===r&&(r=[]);var i=this;return(i=_n.call(this)||this).key=t,i.value=e,i.Gt=n,i.fieldTransforms=r,i.type=0,i}function Nn(t,e,n){var r,i;return r=t,e=e instanceof Ht?e.data():xt.empty(),i=new Rt(e),r.zt.fields.forEach(function(t){var e;t.nt()||(null!==(e=r.data.field(t))?i.set(t,e):i.delete(t))}),e=i.yt(),Cn(t.fieldTransforms,e,n)}function kn(t,e,n){var r=[];I(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Ht&&(a=e.field(o.field)),r.push((o=s,s=a,a=n[i],o instanceof tn?rn(o,s):o instanceof sn?un(o,s):a))}return r}function jn(t,e,n,r){for(var i,o=[],s=0,a=t;s<a.length;s++){var u=a[s],c=u.transform,h=null;null===(h=n instanceof Ht?n.field(u.field):h)&&r instanceof Ht&&(h=r.field(u.field)),o.push((i=h,u=e,h=void 0,(c=c)instanceof Ze?(h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}},i&&(h.fields.__previous_value__=i),{mapValue:h}):c instanceof tn?rn(c,i):c instanceof sn?un(c,i):(c=Ye(h=c,i),i=fn(c)+fn(h.Qt),kt(c)&&kt(h.Qt)?Je(i):We(h.Kt,i))))}return o}function Cn(t,e,n){for(var r=new Rt(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.yt()}function Dn(t){this.count=t}var Pn,xn,Rn,Ln=(Rn=Bt,Object(v.c)(Un,Rn),Un),Mn=(xn=Bt,Object(v.c)(Vn,xn),Vn);function Vn(t,e){var n=this;return(n=xn.call(this)||this).key=t,n.Gt=e,n.type=3,n.fieldTransforms=[],n}function Un(t,e){var n=this;return(n=Rn.call(this)||this).key=t,n.Gt=e,n.type=2,n.fieldTransforms=[],n}function Fn(t){switch(t){case b.OK:return m(),0;case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return 1;default:return m(),0}}function qn(t){if(void 0===t)return l("GRPC error has no .code"),b.UNKNOWN;switch(t){case Pn.OK:return b.OK;case Pn.CANCELLED:return b.CANCELLED;case Pn.UNKNOWN:return b.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return b.INTERNAL;case Pn.UNAVAILABLE:return b.UNAVAILABLE;case Pn.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Pn.NOT_FOUND:return b.NOT_FOUND;case Pn.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Pn.ABORTED:return b.ABORTED;case Pn.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Pn.DATA_LOSS:return b.DATA_LOSS;default:return m()}}($=Pn=Pn||{})[$.OK=0]="OK",$[$.CANCELLED=1]="CANCELLED",$[$.UNKNOWN=2]="UNKNOWN",$[$.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$[$.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$[$.NOT_FOUND=5]="NOT_FOUND",$[$.ALREADY_EXISTS=6]="ALREADY_EXISTS",$[$.PERMISSION_DENIED=7]="PERMISSION_DENIED",$[$.UNAUTHENTICATED=16]="UNAUTHENTICATED",$[$.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$[$.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$[$.ABORTED=10]="ABORTED",$[$.OUT_OF_RANGE=11]="OUT_OF_RANGE",$[$.UNIMPLEMENTED=12]="UNIMPLEMENTED",$[$.INTERNAL=13]="INTERNAL",$[$.UNAVAILABLE=14]="UNAVAILABLE",$[$.DATA_LOSS=15]="DATA_LOSS";var Bn=(Wn.prototype.Ht=function(t,e){return new Wn(this.J,this.root.Ht(t,e,this.J).copy(null,null,zn.Jt,null,null))},Wn.prototype.remove=function(t){return new Wn(this.J,this.root.remove(t,this.J).copy(null,null,zn.Jt,null,null))},Wn.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Wn.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Wn.prototype.nt=function(){return this.root.nt()},Object.defineProperty(Wn.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),Wn.prototype.Yt=function(){return this.root.Yt()},Wn.prototype.Xt=function(){return this.root.Xt()},Wn.prototype.Zt=function(t){return this.root.Zt(t)},Wn.prototype.forEach=function(n){this.Zt(function(t,e){return n(t,e),!1})},Wn.prototype.toString=function(){var n=[];return this.Zt(function(t,e){return n.push(t+":"+e),!1}),"{"+n.join(", ")+"}"},Wn.prototype.te=function(t){return this.root.te(t)},Wn.prototype.ee=function(){return new Hn(this.root,null,this.J,!1)},Wn.prototype.ne=function(t){return new Hn(this.root,t,this.J,!1)},Wn.prototype.se=function(){return new Hn(this.root,null,this.J,!0)},Wn.prototype.ie=function(t){return new Hn(this.root,t,this.J,!0)},Wn),Hn=(Kn.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},Kn.prototype.ae=function(){return 0<this.oe.length},Kn.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},Kn),zn=(Gn.prototype.copy=function(t,e,n,r,i){return new Gn(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Gn.prototype.nt=function(){return!1},Gn.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},Gn.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},Gn.prototype.min=function(){return this.left.nt()?this:this.left.min()},Gn.prototype.Yt=function(){return this.min().key},Gn.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},Gn.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},Gn.prototype.le=function(){if(this.left.nt())return Gn.EMPTY;var t=this;return(t=(t=!t.left._e()&&!t.left.left._e()?t.fe():t).copy(null,null,null,t.left.le(),null)).he()},Gn.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r=(r=!(r.left.nt()||r.left._e()||r.left.left._e())?r.fe():r).copy(null,null,null,r.left.remove(t,e),null);else{if(0===e(t,(r=!((r=r.left._e()?r.de():r).right.nt()||r.right._e()||r.right.left._e())?r.we():r).key)){if(r.right.nt())return Gn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.le())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.he()},Gn.prototype._e=function(){return this.color},Gn.prototype.he=function(){var t=this;return t=(t=(t=t.right._e()&&!t.left._e()?t.Ee():t).left._e()&&t.left.left._e()?t.de():t).left._e()&&t.right._e()?t.Te():t},Gn.prototype.fe=function(){var t=this.Te();return t=t.right.left._e()?(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te():t},Gn.prototype.we=function(){var t=this.Te();return t=t.left.left._e()?(t=t.de()).Te():t},Gn.prototype.Ee=function(){var t=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Gn.prototype.de=function(){var t=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Gn.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Gn.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},Gn.prototype.me=function(){if(this._e()&&this.left._e())throw m();if(this.right._e())throw m();var t=this.left.me();if(t!==this.right.me())throw m();return t+(this._e()?0:1)},Gn);function Gn(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Gn.RED,this.left=null!=r?r:Gn.EMPTY,this.right=null!=i?i:Gn.EMPTY,this.size=this.left.size+1+this.right.size}function Kn(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}function Wn(t,e){this.J=t,this.root=e||zn.EMPTY}function Jn(){this.size=0}zn.EMPTY=null,zn.RED=!0,zn.Jt=!1,zn.EMPTY=(Object.defineProperty(Jn.prototype,"key",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(Jn.prototype,"value",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(Jn.prototype,"color",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(Jn.prototype,"left",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(Jn.prototype,"right",{get:function(){throw m()},enumerable:!1,configurable:!0}),Jn.prototype.copy=function(t,e,n,r,i){return this},Jn.prototype.Ht=function(t,e,n){return new zn(t,e)},Jn.prototype.remove=function(t,e){return this},Jn.prototype.nt=function(){return!0},Jn.prototype.Zt=function(t){return!1},Jn.prototype.te=function(t){return!1},Jn.prototype.Yt=function(){return null},Jn.prototype.Xt=function(){return null},Jn.prototype._e=function(){return!1},Jn.prototype.Ie=function(){return!0},Jn.prototype.me=function(){return 0},new Jn);var Xn=(Zn.prototype.has=function(t){return null!==this.data.get(t)},Zn.prototype.first=function(){return this.data.Yt()},Zn.prototype.last=function(){return this.data.Xt()},Object.defineProperty(Zn.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),Zn.prototype.indexOf=function(t){return this.data.indexOf(t)},Zn.prototype.forEach=function(n){this.data.Zt(function(t,e){return n(t),!1})},Zn.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(0<=this.J(r.key,t[1]))return;e(r.key)}},Zn.prototype.Re=function(t,e){for(var n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},Zn.prototype.Pe=function(t){t=this.data.ne(t);return t.ae()?t.ce().key:null},Zn.prototype.ee=function(){return new Yn(this.data.ee())},Zn.prototype.ne=function(t){return new Yn(this.data.ne(t))},Zn.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},Zn.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},Zn.prototype.nt=function(){return this.data.nt()},Zn.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},Zn.prototype.isEqual=function(t){if(!(t instanceof Zn))return!1;if(this.size!==t.size)return!1;for(var e=this.data.ee(),n=t.data.ee();e.ae();){var r=e.ce().key,i=n.ce().key;if(0!==this.J(r,i))return!1}return!0},Zn.prototype.rt=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},Zn.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},Zn.prototype.copy=function(t){var e=new Zn(this.J);return e.data=t,e},Zn),Yn=(Qn.prototype.ce=function(){return this.ge.ce().key},Qn.prototype.ae=function(){return this.ge.ae()},Qn),$n=new Bn(et.J);function Qn(t){this.ge=t}function Zn(t){this.J=t,this.data=new Bn(this.J)}var tr=new Bn(et.J);var er=new Bn(et.J);var nr=new Xn(et.J);function rr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=nr,r=0,i=t;r<i.length;r++)var o=i[r],n=n.add(o);return n}var ir=new Xn(E);function or(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r}function sr(t,e){this.targetId=t,this.Ge=e}function ar(t,e,n,r){void 0===n&&(n=g.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}var ur=(Ir.be=function(t){return new Ir(t.J)},Ir.prototype.has=function(t){return null!=this.Ve.get(t)},Ir.prototype.get=function(t){return this.Ve.get(t)},Ir.prototype.first=function(){return this.pe.Yt()},Ir.prototype.last=function(){return this.pe.Xt()},Ir.prototype.nt=function(){return this.pe.nt()},Ir.prototype.indexOf=function(t){t=this.Ve.get(t);return t?this.pe.indexOf(t):-1},Object.defineProperty(Ir.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),Ir.prototype.forEach=function(n){this.pe.Zt(function(t,e){return n(t),!1})},Ir.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},Ir.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},Ir.prototype.isEqual=function(t){if(!(t instanceof Ir))return!1;if(this.size!==t.size)return!1;for(var e=this.pe.ee(),n=t.pe.ee();e.ae();){var r=e.ce().key,i=n.ce().key;if(!r.isEqual(i))return!1}return!0},Ir.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},Ir.prototype.copy=function(t,e){var n=new Ir;return n.J=this.J,n.Ve=t,n.pe=e,n},Ir),cr=(wr.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);!n||0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):m()},wr.prototype.Se=function(){var n=[];return this.ve.Zt(function(t,e){n.push(e)}),n},wr),hr=(br.Fe=function(t,e,n,r){var i=[];return e.forEach(function(t){i.push({type:0,doc:t})}),new br(t,e,ur.be(e),i,n,r,!0,!1)},Object.defineProperty(br.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),br.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Fe(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},br),lr=(gr.$e=function(t,e){var n=new Map;return n.set(t,fr.Be(t,e)),new gr(Y.min(),n,ir,$n,rr())},gr),fr=(mr.Be=function(t,e){return new mr(g.h,e,rr(),rr(),rr())},mr),pr=(Object.defineProperty(yr.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(yr.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(yr.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(yr.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),yr.prototype.en=function(t){0<t.o()&&(this.Xe=!0,this.Je=t)},yr.prototype.nn=function(){var n=rr(),r=rr(),i=rr();return this.He.forEach(function(t,e){switch(e){case 0:n=n.add(t);break;case 2:r=r.add(t);break;case 1:i=i.add(t);break;default:m()}}),new fr(this.Je,this.Ye,n,r,i)},yr.prototype.sn=function(){this.Xe=!1,this.He=_r()},yr.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},yr.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},yr.prototype.cn=function(){this.ze+=1},yr.prototype.an=function(){--this.ze},yr.prototype.un=function(){this.Xe=!0,this.Ye=!0},yr),dr=(vr.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof Ht?this.En(r,t.je):t.je instanceof zt&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Tn(r,t.key,t.je)},vr.prototype.In=function(n){var r=this;this.mn(n,function(t){var e=r.An(t);switch(n.state){case 0:r.Rn(t)&&e.en(n.resumeToken);break;case 1:e.an(),e.Ze||e.sn(),e.en(n.resumeToken);break;case 2:e.an(),e.Ze||r.removeTarget(t);break;case 3:r.Rn(t)&&(e.un(),e.en(n.resumeToken));break;case 4:r.Rn(t)&&(r.Pn(t),e.en(n.resumeToken));break;default:m()}})},vr.prototype.mn=function(t,n){var r=this;0<t.targetIds.length?t.targetIds.forEach(n):this.ln.forEach(function(t,e){r.Rn(e)&&n(e)})},vr.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,t=this.gn(e);t&&(Qt(t=t.target)?0===n?(t=new et(t.path),this.Tn(e,t,new zt(t,Y.min()))):I(1===n):this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e)))},vr.prototype.pn=function(r){var i=this,o=new Map;this.ln.forEach(function(t,e){var n=i.gn(e);n&&(t.qe&&Qt(n.target)&&(n=new et(n.target.path),null!==i._n.get(n)||i.bn(e,n)||i.Tn(e,n,new zt(n,r))),t.tn&&(o.set(e,t.nn()),t.sn()))});var s=rr();this.fn.forEach(function(t,e){var n=!0;e.Re(function(t){t=i.gn(t);return!t||2===t.kt||(n=!1)}),n&&(s=s.add(t))});var t=new lr(r,o,this.dn,this._n,s);return this._n=$n,this.fn=Er(),this.dn=new Xn(E),t},vr.prototype.En=function(t,e){var n;this.Rn(t)&&(n=this.bn(t,e.key)?2:0,this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t)))},vr.prototype.Tn=function(t,e,n){var r;this.Rn(t)&&(r=this.An(t),this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n)))},vr.prototype.removeTarget=function(t){this.ln.delete(t)},vr.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},vr.prototype.cn=function(t){this.An(t).cn()},vr.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new pr,this.ln.set(t,e)),e},vr.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Xn(E),this.fn=this.fn.Ht(t,e)),e},vr.prototype.Rn=function(t){var e=null!==this.gn(t);return e||d("WatchChangeAggregator","Detected inactive target",t),e},vr.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},vr.prototype.Pn=function(e){var n=this;this.ln.set(e,new pr),this.hn.Sn(e).forEach(function(t){n.Tn(e,t,null)})},vr.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},vr);function vr(t){this.hn=t,this.ln=new Map,this._n=$n,this.fn=Er(),this.dn=new Xn(E)}function yr(){this.ze=0,this.He=_r(),this.Je=g.h,this.Ye=!1,this.Xe=!0}function mr(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}function gr(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}function br(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}function wr(){this.ve=new Bn(et.J)}function Ir(n){this.J=n?function(t,e){return n(t,e)||et.J(t.key,e.key)}:function(t,e){return et.J(t.key,e.key)},this.Ve=tr,this.pe=new Bn(this.J)}function Er(){return new Bn(et.J)}function _r(){return new Bn(et.J)}function Tr(t,e){this.T=t,this.qt=e}var Or={asc:"ASCENDING",desc:"DESCENDING"},Sr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};function Ar(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nr(t,e){return t.qt?e.toBase64():e.toUint8Array()}function kr(t){return I(!!t),Y.W((t=dt(t),new X(t.seconds,t.nanos)))}function jr(t,e){return new Q(["projects",t.projectId,"databases",t.database]).child("documents").child(e).ot()}function Cr(t){t=Q.ct(t);return I(Xr(t)),t}function Dr(t,e){return jr(t.T,e.path)}function Pr(t,e){e=Cr(e);if(e.get(1)!==t.T.projectId)throw new w(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.T.projectId);if(e.get(3)!==t.T.database)throw new w(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.T.database);return new et(Mr(e))}function xr(t,e){return jr(t.T,e)}function Rr(t){t=Cr(t);return 4===t.length?Q.at():Mr(t)}function Lr(t){return new Q(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Mr(t){return I(4<t.length&&"documents"===t.get(4)),t.X(5)}function Vr(t,e,n){return{name:Dr(t,e),fields:n.proto.mapValue.fields}}function Ur(t,e,n){var r=Pr(t,e.name),t=kr(e.updateTime),e=new xt({mapValue:{fields:e.fields}});return new Ht(r,t,e,{hasCommittedMutations:!!n})}function Fr(t,e){var n,r,i;if(e instanceof Tn)n={update:Vr(t,e.key,e.value)};else if(e instanceof Ln)n={delete:Dr(t,e.key)};else if(e instanceof On)n={update:Vr(t,e.key,e.data),updateMask:(i=e.zt,r=[],i.fields.forEach(function(t){return r.push(t.ot())}),{fieldPaths:r})};else{if(!(e instanceof Mn))return m();n={verify:Dr(t,e.key)}}return 0<e.fieldTransforms.length&&(n.updateTransforms=e.fieldTransforms.map(function(t){var e=t.transform;if(e instanceof Ze)return{fieldPath:t.field.ot(),setToServerValue:"REQUEST_TIME"};if(e instanceof tn)return{fieldPath:t.field.ot(),appendMissingElements:{values:e.elements}};if(e instanceof sn)return{fieldPath:t.field.ot(),removeAllFromArray:{values:e.elements}};if(e instanceof hn)return{fieldPath:t.field.ot(),increment:e.Qt};throw m()})),e.Gt.jt||(n.currentDocument=void 0!==(i=e.Gt).updateTime?{updateTime:(e=i.updateTime,Ar(t,e.G()))}:void 0!==i.exists?{exists:i.exists}:m()),n}function qr(e,t){var n=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?yn.updateTime(kr(s.updateTime)):void 0!==s.exists?yn.exists(s.exists):yn.Wt():yn.Wt(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(t,e){var n,r=null;"setToServerValue"in e?(I("REQUEST_TIME"===e.setToServerValue),r=new Ze):"appendMissingElements"in e?(n=e.appendMissingElements.values||[],r=new tn(n)):"removeAllFromArray"in e?(n=e.removeAllFromArray.values||[],r=new sn(n)):"increment"in e?r=new hn(t,e.increment):m();e=tt._t(e.fieldPath);return new vn(e,r)}(e,t)}):[];if(t.update){t.update.name;var i=Pr(e,t.update.name),o=new xt({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=(s=t.updateMask.fieldPaths||[],new lt(s.map(function(t){return tt._t(t)})));return new On(i,o,s,n,r)}return new Tn(i,o,n,r)}if(t.delete){r=Pr(e,t.delete);return new Ln(r,n)}if(t.verify){t=Pr(e,t.verify);return new Mn(t,n)}return m()}function Br(t,e){return{documents:[xr(t,e.path)]}}function Hr(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=xr(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xr(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);r=function(t){if(0!==t.length){t=t.map(function(t){if("=="===t.op){if(Dt(t.value))return{unaryFilter:{field:Wr(t.field),op:"IS_NAN"}};if(Ct(t.value))return{unaryFilter:{field:Wr(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Dt(t.value))return{unaryFilter:{field:Wr(t.field),op:"IS_NOT_NAN"}};if(Ct(t.value))return{unaryFilter:{field:Wr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wr(t.field),op:(e=t.op,Sr[e]),value:t.value}};var e});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(e.filters);r&&(n.structuredQuery.where=r);r=function(t){if(0!==t.length)return t.map(function(t){return{field:Wr((t=t).field),direction:(t=t.dir,Or[t])}})}(e.orderBy);r&&(n.structuredQuery.orderBy=r);r=e.limit,r=t.qt||bt(r)?r:{value:r};return null!==r&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=Gr(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Gr(e.endAt)),n}function zr(t){var e=Rr(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;0<r&&(I(1===r),(a=n.from[0]).allDescendants?i=a.collectionId:e=e.child(a.collectionId));var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Jr(t.unaryFilter.field);return re.create(e,"==",{doubleValue:NaN});case"IS_NULL":e=Jr(t.unaryFilter.field);return re.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=Jr(t.unaryFilter.field);return re.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":n=Jr(t.unaryFilter.field);return re.create(n,"!=",{nullValue:"NULL_VALUE"});default:return m()}}(e)]:void 0!==e.fieldFilter?[(n=e,re.create(Jr(n.fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return m()}}(),n.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(t).reduce(function(t,e){return t.concat(e)}):m():[];var n}(n.where));var s=[],t=null,r=null,a=null;return je(e,i,s=n.orderBy?n.orderBy.map(function(t){return new Se(Jr((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}):s,o,t=n.limit?bt(o="object"==typeof(o=n.limit)?o.value:o)?null:o:t,"F",r=n.startAt?Kr(n.startAt):r,a=n.endAt?Kr(n.endAt):a)}function Gr(t){return{before:t.before,values:t.position}}function Kr(t){var e=!!t.before,t=t.values||[];return new we(t,e)}function Wr(t){return{fieldPath:t.ot()}}function Jr(t){return tt._t(t.fieldPath)}function Xr(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function Yr(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})}var $r,Qr=(ai.prototype.catch=function(t){return this.next(void 0,t)},ai.prototype.next=function(r,i){var o=this;return this.Fn&&m(),this.Fn=!0,this.Nn?this.error?this.On(i,this.error):this.kn(r,this.result):new ai(function(e,n){o.Cn=function(t){o.kn(r,t).next(e,n)},o.xn=function(t){o.On(i,t).next(e,n)}})},ai.prototype.Mn=function(){var n=this;return new Promise(function(t,e){n.next(t,e)})},ai.prototype.Ln=function(t){try{var e=t();return e instanceof ai?e:ai.resolve(e)}catch(t){return ai.reject(t)}},ai.prototype.kn=function(t,e){return t?this.Ln(function(){return t(e)}):ai.resolve(e)},ai.prototype.On=function(t,e){return t?this.Ln(function(){return t(e)}):ai.reject(e)},ai.resolve=function(n){return new ai(function(t,e){t(n)})},ai.reject=function(n){return new ai(function(t,e){e(n)})},ai.$n=function(t){return new ai(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(t){return n(t)})}),o=!0,i===r&&e()})},ai.Bn=function(t){for(var n=ai.resolve(!1),e=0,r=t;e<r.length;e++)!function(e){n=n.next(function(t){return t?ai.resolve(t):e()})}(r[e]);return n},ai.forEach=function(t,n){var r=this,i=[];return t.forEach(function(t,e){i.push(n.call(r,t,e))}),this.$n(i)},ai),Zr=(si.open=function(t,e,n,r){try{return new si(e,t.transaction(r,n))}catch(t){throw new ni(e,t)}},Object.defineProperty(si.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),si.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},si.prototype.store=function(t){t=this.transaction.objectStore(t);return new ci(t)},si),ti=(oi.delete=function(t){return d("SimpleDb","Removing database:",t),li(window.indexedDB.deleteDatabase(t)).Mn()},oi.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(oi.jn())return!0;var t=Object(c.p)(),e=oi.Kn(t),n=0<e&&e<10,e=oi.Gn(t),e=0<e&&e<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||e)},oi.jn=function(){var t;return void 0!==e&&"YES"===(null===(t=e.env)||void 0===t?void 0:t.zn)},oi.Hn=function(t,e){return t.store(e)},oi.Kn=function(t){t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),t=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(t)},oi.Gn=function(t){t=t.match(/Android ([\d.]+)/i),t=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(t)},oi.prototype.Jn=function(o){return Object(v.b)(this,void 0,void 0,function(){var e,i=this;return Object(v.d)(this,function(t){switch(t.label){case 0:return this.db?[3,2]:(d("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,n){var r=indexedDB.open(i.name,i.version);r.onsuccess=function(t){t=t.target.result;e(t)},r.onblocked=function(){n(new ni(o,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){t=t.target.error;"VersionError"===t.name?n(new w(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new ni(o,t))},r.onupgradeneeded=function(t){d("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;i.Qn.Yn(e,r.transaction,t.oldVersion,i.version).next(function(){d("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:e.db=t.sent(),t.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return i.Xn(t)}),this.db)]}})})},oi.prototype.Zn=function(e){this.Xn=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},oi.prototype.runTransaction=function(c,r,h,l){return Object(v.b)(this,void 0,void 0,function(){var s,a,e,u,n;return Object(v.d)(this,function(t){switch(t.label){case 0:s="readonly"===r,a=0,e=function(){var e,n,r,i,o;return Object(v.d)(this,function(t){switch(t.label){case 0:++a,t.label=1;case 1:return t.trys.push([1,4,,5]),[4,u.Jn(c)];case 2:return u.db=t.sent(),e=Zr.open(u.db,c,s?"readonly":"readwrite",h),n=l(e).catch(function(t){return e.abort(t),Qr.reject(t)}).Mn(),r={},n.catch(function(){}),[4,e.Un];case 3:return[2,(r.value=(t.sent(),n),r)];case 4:return i=t.sent(),o="FirebaseError"!==i.name&&a<3,d("SimpleDb","Transaction failed with error:",i.message,"Retrying:",o),u.close(),o?[3,5]:[2,{value:Promise.reject(i)}];case 5:return[2]}})},u=this,t.label=1;case 1:return[5,e()];case 2:if("object"==typeof(n=t.sent()))return[2,n.value];t.label=3;case 3:return[3,1];case 4:return[2]}})})},oi.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},oi),ei=(Object.defineProperty(ii.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(ii.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(ii.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),ii.prototype.done=function(){this.es=!0},ii.prototype.rs=function(t){this.ns=t},ii.prototype.delete=function(){return li(this.ts.delete())},ii),ni=($r=w,Object(v.c)(ri,$r),ri);function ri(t,e){var n=this;return(n=$r.call(this,b.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+e)||this).name="IndexedDbTransactionError",n}function ii(t){this.ts=t,this.es=!1,this.ns=null}function oi(t,e,n){this.name=t,this.version=e,this.Qn=n,12.2===oi.Kn(Object(c.p)())&&l("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function si(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.qn=new Yr,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){t.error?n.qn.reject(new ni(e,t.error)):n.qn.resolve()},this.transaction.onerror=function(t){t=pi(t.target.error);n.qn.reject(new ni(e,t))}}function ai(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}function ui(t){return"IndexedDbTransactionError"===t.name}var ci=(hi.prototype.put=function(t,e){t=void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t));return li(t)},hi.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),li(this.store.add(t))},hi.prototype.get=function(e){var n=this;return li(this.store.get(e)).next(function(t){return d("SimpleDb","GET",n.store.name,e,t=void 0===t?null:t),t})},hi.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),li(this.store.delete(t))},hi.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),li(this.store.count())},hi.prototype.os=function(t,e){var e=this.cursor(this.options(t,e)),n=[];return this.cs(e,function(t,e){n.push(e)}).next(function(){return n})},hi.prototype.us=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);e=this.options(t,e);e.hs=!1;e=this.cursor(e);return this.cs(e,function(t,e,n){return n.delete()})},hi.prototype.ls=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.cs(n,e)},hi.prototype._s=function(r){var t=this.cursor({});return new Qr(function(n,e){t.onerror=function(t){t=pi(t.target.error);e(t)},t.onsuccess=function(t){var e=t.target.result;e?r(e.primaryKey,e.value).next(function(t){t?e.continue():n()}):n()}})},hi.prototype.cs=function(t,i){var o=[];return new Qr(function(r,e){t.onerror=function(t){e(t.target.error)},t.onsuccess=function(t){var e,n=t.target.result;n?(e=new ei(n),(t=i(n.primaryKey,n.value,e))instanceof Qr&&(t=t.catch(function(t){return e.done(),Qr.reject(t)}),o.push(t)),e.Nn?r():null===e.ss?n.continue():n.continue(e.ss)):r()}}).next(function(){return Qr.$n(o)})},hi.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},hi.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},hi);function hi(t){this.store=t}function li(t){return new Qr(function(e,n){t.onsuccess=function(t){t=t.target.result;e(t)},t.onerror=function(t){t=pi(t.target.error);n(t)}})}var fi=!1;function pi(t){var e=ti.Kn(Object(c.p)());if(12.2<=e&&e<13){e="An internal error was encountered in the Indexed Database server";if(0<=t.message.indexOf(e)){var n=new w("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return fi||(fi=!0,setTimeout(function(){throw n},0)),n}}return t}var di=(vi.Is=function(t,e,n,r,i){i=new vi(t,e,Date.now()+n,r,i);return i.start(n),i},vi.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},vi.prototype.Ps=function(){return this.Rs()},vi.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new w(b.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},vi.prototype.Rs=function(){var e=this;this.fs.ys(function(){return null!==e.As?(e.clearTimeout(),e.op().then(function(t){return e.Ts.resolve(t)})):Promise.resolve()})},vi.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},vi);function vi(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Yr,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}function yi(t,e){if(l("AsyncQueue",e+": "+t),ui(t))return new w(b.UNAVAILABLE,e+": "+t);throw t}var mi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bt=(gi.prototype.ps=function(t){this.Vs.push(t)},gi.prototype.bs=function(){this.Vs.forEach(function(t){return t()})},gi);function gi(){this.Vs=[]}function bi(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e+=""),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}(t.get(n),e);return e+""}function wi(t){var e=t.length;if(I(2<=e),2===e)return I(""===t.charAt(0)&&""===t.charAt(1)),Q.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||n<s)&&m(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:m()}o=s+2}return new Q(r)}function Ii(t,e){this.seconds=t,this.nanoseconds=e}function Ei(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}Ei.store="owner",Ei.key="owner";function _i(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}_i.store="mutationQueues",_i.keyPath="userId";function Ti(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}Ti.store="mutations",Ti.keyPath="batchId",Ti.userMutationsIndex="userMutationsIndex",Ti.userMutationsKeyPath=["userId","batchId"];var Oi=(Si.prefixForUser=function(t){return[t]},Si.prefixForPath=function(t,e){return[t,bi(e)]},Si.key=function(t,e,n){return[t,bi(e),n]},Si);function Si(){}Oi.store="documentMutations",Oi.PLACEHOLDER=new Oi;function Ai(t,e){this.path=t,this.readTime=e}function Ni(t,e){this.path=t,this.version=e}var ki=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ki.store="remoteDocuments",ki.readTimeIndex="readTimeIndex",ki.readTimeIndexPath="readTime",ki.collectionReadTimeIndex="collectionReadTimeIndex",ki.collectionReadTimeIndexPath=["parentPath","readTime"];function ji(t){this.byteSize=t}ji.store="remoteDocumentGlobal",ji.key="remoteDocumentGlobalKey";function Ci(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}Ci.store="targets",Ci.keyPath="targetId",Ci.queryTargetsIndexName="queryTargetsIndex",Ci.queryTargetsKeyPath=["canonicalId","targetId"];function Di(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}Di.store="targetDocuments",Di.keyPath=["targetId","path"],Di.documentTargetsIndex="documentTargetsIndex",Di.documentTargetsKeyPath=["path","targetId"];function Pi(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}Pi.key="targetGlobalKey",Pi.store="targetGlobal";function xi(t,e){this.collectionId=t,this.parent=e}xi.store="collectionParents",xi.keyPath=["collectionId","parent"];function Ri(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}Ri.store="clientMetadata",Ri.keyPath="clientId";function Li(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}Li.store="bundles",Li.keyPath="bundleId";function Mi(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}Mi.store="namedQueries",Mi.keyPath="name";var Vi,Ui=Object(v.g)(Object(v.g)(Object(v.g)(Object(v.g)([_i.store,Ti.store,Oi.store,ki.store,Ci.store,Ei.store,Pi.store,Di.store],[Ri.store]),[ji.store]),[xi.store]),[Li.store,Mi.store]),Fi=(Vi=Bt,Object(v.c)(qi,Vi),qi);function qi(t,e){var n=this;return(n=Vi.call(this)||this).vs=t,n.Ss=e,n}function Bi(t,e){return ti.Hn(t.vs,e)}function Hi(t){this.Ms=t}var zi=(Wi.prototype.Cs=function(t,e,n){for(var r,i,o,s,a,u,c=n.xs,h=0;h<this.mutations.length;h++){var l=this.mutations[h];l.key.isEqual(t)&&(r=l,i=e,o=c[h],l=u=a=s=void 0,e=r instanceof Tn?(a=o,l=(s=r).value,a.transformResults&&(u=kn(s.fieldTransforms,i,a.transformResults),l=Cn(s.fieldTransforms,l,u)),new Ht(s.key,a.version,l,{hasCommittedMutations:!0})):r instanceof On?function(t,e,n){if(!gn(t.Gt,e))return new Gt(t.key,n.version);e=Nn(t,e,n.transformResults?kn(t.fieldTransforms,e,n.transformResults):[]);return new Ht(t.key,n.version,e,{hasCommittedMutations:!0})}(r,i,o):new zt(r.key,o.version,{hasCommittedMutations:!0}))}return e},Wi.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=bn(i,e,e,this.Ds))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=bn(u,e,o,this.Ds))}return e},Wi.prototype.Fs=function(n){var r=this,i=n;return this.mutations.forEach(function(t){var e=r.Ns(t.key,n.get(t.key));e&&(i=i.Ht(t.key,e))}),i},Wi.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},rr())},Wi.prototype.isEqual=function(t){return this.batchId===t.batchId&&a(this.mutations,t.mutations,wn)&&a(this.baseMutations,t.baseMutations,wn)},Wi),Gi=(Ki.from=function(t,e,n){I(t.mutations.length===n.length);for(var r=er,i=t.mutations,o=0;o<i.length;o++)r=r.Ht(i[o].key,n[o].version);return new Ki(t,e,n,r)},Ki);function Ki(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}function Wi(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}function Ji(t,e){if(e.document)return Ur(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=et.Tt(e.noDocument.path),r=Zi(e.noDocument.readTime);return new zt(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){n=et.Tt(e.unknownDocument.path),r=Zi(e.unknownDocument.version);return new Gt(n,r)}return m()}function Xi(t,e,n){var r=Yi(n),n=e.key.path.Z().rt();if(e instanceof Ht){var i={name:Dr(o=t.Ms,(s=e).key),fields:s.vt().mapValue.fields,updateTime:Ar(o,s.version.G())},o=e.hasCommittedMutations;return new ki(null,null,i,o,r,n)}if(e instanceof zt){var s=e.key.path.rt(),i=Qi(e.version),o=e.hasCommittedMutations;return new ki(null,new Ai(s,i),null,o,r,n)}if(e instanceof Gt){o=e.key.path.rt(),e=Qi(e.version);return new ki(new Ni(o,e),null,null,!0,r,n)}return m()}function Yi(t){t=t.G();return[t.seconds,t.nanoseconds]}function $i(t){t=new X(t[0],t[1]);return Y.W(t)}function Qi(t){t=t.G();return new Ii(t.seconds,t.nanoseconds)}function Zi(t){t=new X(t.seconds,t.nanoseconds);return Y.W(t)}function to(e,t){for(var n=(t.baseMutations||[]).map(function(t){return qr(e.Ms,t)}),r=t.mutations.length-1;0<=r;--r){var i=t.mutations[r];void 0!==(null==i?void 0:i.transform)&&(t.mutations[r-1].updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r,1),--r)}var o=t.mutations.map(function(t){return qr(e.Ms,t)}),s=X.fromMillis(t.localWriteTimeMs);return new zi(t.batchId,s,n,o)}function eo(t){var e=Zi(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Zi(t.lastLimboFreeSnapshotVersion):Y.min(),r=void 0!==t.query.documents?(I(1===(r=t.query).documents.length),Ve(Ce(Rr(r.documents[0])))):Ve(zr(t.query));return new Ge(r,t.targetId,0,t.lastListenSequenceNumber,e,n,g.fromBase64String(t.resumeToken))}function no(t,e){var n=Qi(e.Mt),r=Qi(e.lastLimboFreeSnapshotVersion),i=(Qt(e.target)?Br:Hr)(t.Ms,e.target),t=e.resumeToken.toBase64();return new Ci(e.targetId,Yt(e.target),n,t,e.sequenceNumber,r,i)}function ro(t){var e=zr({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ue(e,e.limit,"L"):e}var io=(oo.prototype.Ls=function(t,e){return so(t).get(e).next(function(t){if(t)return{id:(t=t).bundleId,createTime:Zi(t.createTime),version:t.version}})},oo.prototype.$s=function(t,e){return so(t).put({bundleId:(e=e).id,createTime:Qi(kr(e.createTime)),version:e.version})},oo.prototype.Bs=function(t,e){return ao(t).get(e).next(function(t){if(t)return{name:(t=t).name,query:ro(t.bundledQuery),readTime:Zi(t.readTime)}})},oo.prototype.qs=function(t,e){return ao(t).put({name:(e=e).name,readTime:Qi(kr(e.readTime)),bundledQuery:e.bundledQuery})},oo);function oo(){}function so(t){return Bi(t,Li.store)}function ao(t){return Bi(t,Mi.store)}var uo=(po.prototype.Qs=function(t,e){return this.Us.add(e),Qr.resolve()},po.prototype.Ks=function(t,e){return Qr.resolve(this.Us.getEntries(e))},po),co=(fo.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Xn(Q.J),t=!r.has(n);return this.index[e]=r.add(n),t},fo.prototype.has=function(t){var e=t.et(),t=t.Z(),e=this.index[e];return e&&e.has(t)},fo.prototype.getEntries=function(t){return(this.index[t]||new Xn(Q.J)).rt()},fo),ho=(lo.prototype.Qs=function(t,e){var n=this;if(this.Ws.has(e))return Qr.resolve();var r=e.et(),i=e.Z();t.ps(function(){n.Ws.add(e)});i={collectionId:r,parent:bi(i)};return vo(t).put(i)},lo.prototype.Ks=function(t,i){var o=[],e=IDBKeyRange.bound([i,""],[i+"\0",""],!1,!0);return vo(t).os(e).next(function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.collectionId!==i)break;o.push(wi(r.parent))}return o})},lo);function lo(){this.Ws=new co}function fo(){this.index={}}function po(){this.Us=new co}function vo(t){return Bi(t,xi.store)}var yo={js:!1,Gs:0,zs:0,Hs:0},mo=(go.Zs=function(t){return new go(t,go.ti,go.ei)},go);function go(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}function bo(e){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){if(e.code!==b.FAILED_PRECONDITION||e.message!==mi)throw e;return d("LocalStore","Unexpectedly lost primary lease"),[2]})})}mo.ti=10,mo.ei=1e3,mo.ni=new mo(41943040,mo.ti,mo.ei),mo.si=new mo(-1,0,0);var wo=(Eo.prototype.get=function(t){var e=this.ii(t),e=this.oi[e];if(void 0!==e)for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],i=i[1];if(this.ri(o,t))return i}},Eo.prototype.has=function(t){return void 0!==this.get(t)},Eo.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},Eo.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},Eo.prototype.forEach=function(s){ct(this.oi,function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],i=i[1];s(o,i)}})},Eo.prototype.nt=function(){return ht(this.oi)},Eo),$=(Io.prototype.ui=function(t){t=this.ci.get(t);return t?t.readTime:Y.min()},Io.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},Io.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},Io.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?Qr.resolve(n._i):this.wi(t,e)},Io.prototype.getEntries=function(t,e){return this.Ei(t,e)},Io.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},Io.prototype.li=function(){},Io);function Io(){this.ci=new wo(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ai=!1}function Eo(t,e){this.ii=t,this.ri=e,this.oi={}}function _o(t,e,n){var r=t.store(Ti.store),i=t.store(Oi.store),o=[],t=IDBKeyRange.only(n.batchId),s=0,t=r.ls({range:t},function(t,e,n){return s++,n.delete()});o.push(t.next(function(){I(1===s)}));for(var a=[],u=0,c=n.mutations;u<c.length;u++){var h=c[u],l=Oi.key(e,h.key.path,n.batchId);o.push(i.delete(l)),a.push(h.key)}return Qr.$n(o).next(function(){return a})}function To(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw m();e=t.noDocument}return JSON.stringify(e).length}var Oo=(So.Ri=function(t,e,n,r){return I(""!==t.uid),new So(t.A()?t.uid:"",e,n,r)},So.prototype.Pi=function(t){var r=!0,e=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return No(t).ls({index:Ti.userMutationsIndex,range:e},function(t,e,n){r=!1,n.done()}).next(function(){return r})},So.prototype.yi=function(d,v,y,m){var g=this,b=ko(d),w=No(d);return w.add({}).next(function(t){I("number"==typeof t);for(var e,n,r,i,o,s=new zi(t,v,y,m),a=(e=g.Kt,n=g.userId,i=(r=s).baseMutations.map(function(t){return Fr(e.Ms,t)}),o=r.mutations.map(function(t){return Fr(e.Ms,t)}),new Ti(n,r.batchId,r.Ds.toMillis(),i,o)),u=[],c=new Xn(function(t,e){return E(t.ot(),e.ot())}),h=0,l=m;h<l.length;h++){var f=l[h],p=Oi.key(g.userId,f.key.path,t),c=c.add(f.key.path.Z());u.push(w.put(a)),u.push(b.put(p,Oi.PLACEHOLDER))}return c.forEach(function(t){u.push(g.Ii.Qs(d,t))}),d.ps(function(){g.Ai[t]=s.keys()}),Qr.$n(u).next(function(){return s})})},So.prototype.gi=function(t,e){var n=this;return No(t).get(e).next(function(t){return t?(I(t.userId===n.userId),to(n.Kt,t)):null})},So.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?Qr.resolve(this.Ai[e]):this.gi(t,e).next(function(t){if(t){t=t.keys();return n.Ai[e]=t}return null})},So.prototype.pi=function(t,e){var r=this,i=e+1,e=IDBKeyRange.lowerBound([this.userId,i]),o=null;return No(t).ls({index:Ti.userMutationsIndex,range:e},function(t,e,n){e.userId===r.userId&&(I(e.batchId>=i),o=to(r.Kt,e)),n.done()}).next(function(){return o})},So.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return No(t).ls({index:Ti.userMutationsIndex,range:e,reverse:!0},function(t,e,n){r=e.batchId,n.done()}).next(function(){return r})},So.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return No(t).os(Ti.userMutationsIndex,n).next(function(t){return t.map(function(t){return to(e.Kt,t)})})},So.prototype.Si=function(o,s){var a=this,t=Oi.prefixForPath(this.userId,s.path),t=IDBKeyRange.lowerBound(t),u=[];return ko(o).ls({range:t},function(t,e,n){var r=t[0],i=t[1],t=t[2],i=wi(i);if(r===a.userId&&s.path.isEqual(i))return No(o).get(t).next(function(t){if(!t)throw m();I(t.userId===a.userId),u.push(to(a.Kt,t))});n.done()}).next(function(){return u})},So.prototype.Di=function(e,t){var s=this,a=new Xn(E),n=[];return t.forEach(function(o){var t=Oi.prefixForPath(s.userId,o.path),t=IDBKeyRange.lowerBound(t),t=ko(e).ls({range:t},function(t,e,n){var r=t[0],i=t[1],t=t[2],i=wi(i);r===s.userId&&o.path.isEqual(i)?a=a.add(t):n.done()});n.push(t)}),Qr.$n(n).next(function(){return s.Ci(e,a)})},So.prototype.xi=function(t,e){var o=this,s=e.path,a=s.length+1,e=Oi.prefixForPath(this.userId,s),e=IDBKeyRange.lowerBound(e),u=new Xn(E);return ko(t).ls({range:e},function(t,e,n){var r=t[0],i=t[1],t=t[2],i=wi(i);r===o.userId&&s.st(i)?i.length===a&&(u=u.add(t)):n.done()}).next(function(){return o.Ci(t,u)})},So.prototype.Ci=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(No(e).get(t).next(function(t){if(null===t)throw m();I(t.userId===n.userId),r.push(to(n.Kt,t))}))}),Qr.$n(i).next(function(){return r})},So.prototype.Ni=function(e,n){var r=this;return _o(e.vs,this.userId,n).next(function(t){return e.ps(function(){r.Fi(n.batchId)}),Qr.forEach(t,function(t){return r.mi.Oi(e,t)})})},So.prototype.Fi=function(t){delete this.Ai[t]},So.prototype.ki=function(e){var i=this;return this.Pi(e).next(function(t){if(!t)return Qr.resolve();var t=IDBKeyRange.lowerBound(Oi.prefixForUser(i.userId)),r=[];return ko(e).ls({range:t},function(t,e,n){t[0]===i.userId?(t=wi(t[1]),r.push(t)):n.done()}).next(function(){I(0===r.length)})})},So.prototype.Mi=function(t,e){return Ao(t,this.userId,e)},So.prototype.Li=function(t){var e=this;return jo(t).get(this.userId).next(function(t){return t||new _i(e.userId,-1,"")})},So);function So(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}function Ao(t,o,e){var e=Oi.prefixForPath(o,e.path),s=e[1],e=IDBKeyRange.lowerBound(e),a=!1;return ko(t).ls({range:e,hs:!0},function(t,e,n){var r=t[0],i=t[1];t[2],r===o&&i===s&&(a=!0),n.done()}).next(function(){return a})}function No(t){return Bi(t,Ti.store)}function ko(t){return Bi(t,Oi.store)}function jo(t){return Bi(t,_i.store)}var Co=(xo.prototype.next=function(){return this.$i+=2,this.$i},xo.Bi=function(){return new xo(0)},xo.qi=function(){return new xo(-1)},xo),Do=(Po.prototype.Ui=function(n){var r=this;return this.Qi(n).next(function(t){var e=new Co(t.highestTargetId);return t.highestTargetId=e.next(),r.Ki(n,t).next(function(){return t.highestTargetId})})},Po.prototype.Wi=function(t){return this.Qi(t).next(function(t){return Y.W(new X(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},Po.prototype.ji=function(t){return this.Qi(t).next(function(t){return t.highestListenSequenceNumber})},Po.prototype.Gi=function(e,n,r){var i=this;return this.Qi(e).next(function(t){return t.highestListenSequenceNumber=n,r&&(t.lastRemoteSnapshotVersion=r.G()),n>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=n),i.Ki(e,t)})},Po.prototype.zi=function(e,n){var r=this;return this.Hi(e,n).next(function(){return r.Qi(e).next(function(t){return t.targetCount+=1,r.Ji(n,t),r.Ki(e,t)})})},Po.prototype.Yi=function(t,e){return this.Hi(t,e)},Po.prototype.Xi=function(e,t){var n=this;return this.Zi(e,t.targetId).next(function(){return Ro(e).delete(t.targetId)}).next(function(){return n.Qi(e)}).next(function(t){return I(0<t.targetCount),--t.targetCount,n.Ki(e,t)})},Po.prototype.tr=function(n,r,i){var o=this,s=0,a=[];return Ro(n).ls(function(t,e){e=eo(e);e.sequenceNumber<=r&&null===i.get(e.targetId)&&(s++,a.push(o.Xi(n,e)))}).next(function(){return Qr.$n(a)}).next(function(){return s})},Po.prototype.mn=function(t,n){return Ro(t).ls(function(t,e){e=eo(e);n(e)})},Po.prototype.Qi=function(t){return Lo(t).get(Pi.key).next(function(t){return I(null!==t),t})},Po.prototype.Ki=function(t,e){return Lo(t).put(Pi.key,e)},Po.prototype.Hi=function(t,e){return Ro(t).put(no(this.Kt,e))},Po.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},Po.prototype.er=function(t){return this.Qi(t).next(function(t){return t.targetCount})},Po.prototype.nr=function(t,r){var e=Yt(r),e=IDBKeyRange.bound([e,Number.NEGATIVE_INFINITY],[e,Number.POSITIVE_INFINITY]),i=null;return Ro(t).ls({range:e,index:Ci.queryTargetsIndexName},function(t,e,n){e=eo(e);$t(r,e.target)&&(i=e,n.done())}).next(function(){return i})},Po.prototype.sr=function(n,t,r){var i=this,o=[],s=Mo(n);return t.forEach(function(t){var e=bi(t.path);o.push(s.put(new Di(r,e))),o.push(i.mi.ir(n,r,t))}),Qr.$n(o)},Po.prototype.rr=function(n,t,r){var i=this,o=Mo(n);return Qr.forEach(t,function(t){var e=bi(t.path);return Qr.$n([o.delete([r,e]),i.mi.cr(n,r,t)])})},Po.prototype.Zi=function(t,e){t=Mo(t),e=IDBKeyRange.bound([e],[e+1],!1,!0);return t.delete(e)},Po.prototype.ar=function(t,e){var e=IDBKeyRange.bound([e],[e+1],!1,!0),t=Mo(t),r=rr();return t.ls({range:e,hs:!0},function(t,e,n){t=wi(t[1]),t=new et(t);r=r.add(t)}).next(function(){return r})},Po.prototype.Mi=function(t,e){var e=bi(e.path),e=IDBKeyRange.bound([e],[e+"\0"],!1,!0),i=0;return Mo(t).ls({index:Di.documentTargetsIndex,hs:!0,range:e},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return 0<i})},Po.prototype.Dn=function(t,e){return Ro(t).get(e).next(function(t){return t?eo(t):null})},Po);function Po(t,e){this.mi=t,this.Kt=e}function xo(t){this.$i=t}function Ro(t){return Bi(t,Ci.store)}function Lo(t){return Bi(t,Pi.store)}function Mo(t){return Bi(t,Di.store)}function Vo(t,e){var n=t[0],r=t[1],t=e[0],e=e[1],t=E(n,t);return 0===t?E(r,e):t}var Uo=(Ko.prototype.lr=function(){return++this.hr},Ko.prototype._r=function(t){var e=[t,this.lr()];this.buffer.size<this.ur?this.buffer=this.buffer.add(e):Vo(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(Ko.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),Ko),Fo=(Go.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},Go.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(Go.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),Go.prototype.Tr=function(n){var t=this,e=this.wr?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.Er=this.fs.mr("lru_garbage_collection",e,function(){return Object(v.b)(t,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:this.Er=null,this.wr=!0,t.label=1;case 1:return t.trys.push([1,3,,7]),[4,n.Ar(this.dr)];case 2:return t.sent(),[3,7];case 3:return ui(e=t.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,bo(e)];case 5:t.sent(),t.label=6;case 6:return[3,7];case 7:return[4,this.Tr(n)];case 8:return t.sent(),[2]}})})})},Go),qo=(zo.prototype.Pr=function(t,e){return this.Rr.yr(t).next(function(t){return Math.floor(e/100*t)})},zo.prototype.gr=function(t,e){var n=this;if(0===e)return Qr.resolve(q.U);var r=new Uo(e);return this.Rr.mn(t,function(t){return r._r(t.sequenceNumber)}).next(function(){return n.Rr.Vr(t,function(t){return r._r(t)})}).next(function(){return r.maxValue})},zo.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},zo.prototype.pr=function(t,e){return this.Rr.pr(t,e)},zo.prototype.br=function(e,n){var r=this;return-1===this.params.Js?(d("LruGarbageCollector","Garbage collection skipped; disabled"),Qr.resolve(yo)):this.vr(e).next(function(t){return t<r.params.Js?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+t+" is lower than threshold "+r.params.Js),yo):r.Sr(e,n)})},zo.prototype.vr=function(t){return this.Rr.vr(t)},zo.prototype.Sr=function(e,n){var r,i,o,s,a,u,c,h=this,l=Date.now();return this.Pr(e,this.params.Ys).next(function(t){return i=t>h.params.Xs?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.Xs+" from "+t),h.params.Xs):t,s=Date.now(),h.gr(e,i)}).next(function(t){return r=t,a=Date.now(),h.tr(e,r,n)}).next(function(t){return o=t,u=Date.now(),h.pr(e,r)}).next(function(t){return c=Date.now(),p()<=f.a.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+i+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-l)+"ms"),Qr.resolve({js:!0,Gs:i,zs:o,Hs:t})})},zo),Bo=(Ho.prototype.yr=function(t){var n=this.Dr(t);return this.db.Cr().er(t).next(function(e){return n.next(function(t){return e+t})})},Ho.prototype.Dr=function(t){var e=0;return this.Vr(t,function(t){e++}).next(function(){return e})},Ho.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},Ho.prototype.Vr=function(t,n){return this.Nr(t,function(t,e){return n(e)})},Ho.prototype.ir=function(t,e,n){return Wo(t,n)},Ho.prototype.cr=function(t,e,n){return Wo(t,n)},Ho.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},Ho.prototype.Oi=Wo,Ho.prototype.Fr=function(t,e){return r=e,i=!1,jo(n=t)._s(function(t){return Ao(n,t,r).next(function(t){return t&&(i=!0),Qr.resolve(!t)})}).next(function(){return i});var n,r,i},Ho.prototype.pr=function(n,r){var i=this,o=this.db.kr().Or(),s=[],a=0;return this.Nr(n,function(e,t){t<=r&&(t=i.Fr(n,e).next(function(t){if(!t)return a++,o.di(n,e).next(function(){return o.fi(e),Mo(n).delete([0,bi(e.path)])})}),s.push(t))}).next(function(){return Qr.$n(s)}).next(function(){return o.apply(n)}).next(function(){return a})},Ho.prototype.removeTarget=function(t,e){e=e.Lt(t.Ss);return this.db.Cr().Yi(t,e)},Ho.prototype.Mr=Wo,Ho.prototype.Nr=function(t,r){var i,t=Mo(t),o=q.U;return t.ls({index:Di.documentTargetsIndex},function(t,e){var n=t[0],t=(t[1],e.path),e=e.sequenceNumber;0===n?(o!==q.U&&r(new et(wi(i)),o),o=e,i=t):o=q.U}).next(function(){o!==q.U&&r(new et(wi(i)),o)})},Ho.prototype.vr=function(t){return this.db.kr().Lr(t)},Ho);function Ho(t,e){this.db=t,this.dr=new qo(this,e)}function zo(t,e){this.Rr=t,this.params=e}function Go(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}function Ko(t){this.ur=t,this.buffer=new Xn(Vo),this.hr=0}function Wo(t,e){return Mo(t).put((t=t.Ss,new Di(0,bi(e.path),t)))}var Jo,Xo=(Qo.prototype.hi=function(t,e,n){return ts(t).put(es(e),n)},Qo.prototype.fi=function(t,e){t=ts(t),e=es(e);return t.delete(e)},Qo.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(t){return t.byteSize+=n,r.$r(e,t)})},Qo.prototype.di=function(t,e){var n=this;return ts(t).get(es(e)).next(function(t){return n.Br(t)})},Qo.prototype.qr=function(t,e){var n=this;return ts(t).get(es(e)).next(function(t){var e=n.Br(t);return e?{_i:e,size:To(t)}:null})},Qo.prototype.getEntries=function(t,e){var n=this,r=$n;return this.Ur(t,e,function(t,e){e=n.Br(e);r=r.Ht(t,e)}).next(function(){return r})},Qo.prototype.Qr=function(t,e){var r=this,i=$n,o=new Bn(et.J);return this.Ur(t,e,function(t,e){var n=r.Br(e);o=n?(i=i.Ht(t,n),o.Ht(t,To(e))):(i=i.Ht(t,null),o.Ht(t,0))}).next(function(){return{Kr:i,Wr:o}})},Qo.prototype.Ur=function(t,e,i){if(e.nt())return Qr.resolve();var n=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),o=e.ee(),s=o.ce();return ts(t).ls({range:n},function(t,e,n){for(var r=et.Tt(t);s&&et.J(s,r)<0;)i(s,null),s=o.ce();s&&s.isEqual(r)&&(i(s,e),s=o.ae()?o.ce():null),s?n.rs(s.path.rt()):n.done()}).next(function(){for(;s;)i(s,null),s=o.ae()?o.ce():null})},Qo.prototype.jr=function(t,r,e){var n,i=this,o=tr,s=r.path.length+1,a={};return e.isEqual(Y.min())?(n=r.path.rt(),a.range=IDBKeyRange.lowerBound(n)):(n=r.path.rt(),e=Yi(e),a.range=IDBKeyRange.lowerBound([n,e],!0),a.index=ki.collectionReadTimeIndex),ts(t).ls(a,function(t,e,n){t.length===s&&(e=Ji(i.Kt,e),r.path.st(e.key.path)?e instanceof Ht&&He(r,e)&&(o=o.Ht(e.key,e)):n.done())}).next(function(){return o})},Qo.prototype.Or=function(t){return new Yo(this,!!t&&t.Gr)},Qo.prototype.Lr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},Qo.prototype.getMetadata=function(t){return Zo(t).get(ji.key).next(function(t){return I(!!t),t})},Qo.prototype.$r=function(t,e){return Zo(t).put(ji.key,e)},Qo.prototype.Br=function(t){if(t){t=Ji(this.Kt,t);return t instanceof zt&&t.version.isEqual(Y.min())?null:t}return null},Qo),Yo=(Jo=$,Object(v.c)($o,Jo),$o.prototype.Ti=function(i){var o=this,s=[],a=0,u=new Xn(function(t,e){return E(t.ot(),e.ot())});return this.ci.forEach(function(t,e){var n,r=o.Hr.get(t);e._i?(n=Xi(o.zr.Kt,e._i,o.ui(t)),u=u.add(t.path.Z()),e=To(n),a+=e-r,s.push(o.zr.hi(i,t,n))):(a-=r,o.Gr?(r=Xi(o.zr.Kt,new zt(t,Y.min()),o.ui(t)),s.push(o.zr.hi(i,t,r))):s.push(o.zr.fi(i,t)))}),u.forEach(function(t){s.push(o.zr.Ii.Qs(i,t))}),s.push(this.zr.updateMetadata(i,a)),Qr.$n(s)},$o.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next(function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)})},$o.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next(function(t){var e=t.Kr;return t.Wr.forEach(function(t,e){n.Hr.set(t,e)}),e})},$o);function $o(t,e){var n=this;return(n=Jo.call(this)||this).zr=t,n.Gr=e,n.Hr=new wo(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),n}function Qo(t,e){this.Kt=t,this.Ii=e}function Zo(t){return Bi(t,ji.store)}function ts(t){return Bi(t,ki.store)}function es(t){return t.path.rt()}var ns=(rs.prototype.Yn=function(e,n,t,r){var i=this;I(t<r&&0<=t&&r<=11);var o=new Zr("createOrUpgrade",n);t<1&&1<=r&&(e.createObjectStore(Ei.store),(s=e).createObjectStore(_i.store,{keyPath:_i.keyPath}),s.createObjectStore(Ti.store,{keyPath:Ti.keyPath,autoIncrement:!0}).createIndex(Ti.userMutationsIndex,Ti.userMutationsKeyPath,{unique:!0}),s.createObjectStore(Oi.store),is(e),e.createObjectStore(ki.store));var s,a=Qr.resolve();return t<3&&3<=r&&(0!==t&&((s=e).deleteObjectStore(Di.store),s.deleteObjectStore(Ci.store),s.deleteObjectStore(Pi.store),is(e)),a=a.next(function(){return t=o.store(Pi.store),e=new Pi(0,0,Y.min().G(),0),t.put(Pi.key,e);var t,e})),t<4&&4<=r&&(a=(a=0!==t?a.next(function(){return n=e,(r=o).store(Ti.store).os().next(function(t){n.deleteObjectStore(Ti.store),n.createObjectStore(Ti.store,{keyPath:Ti.keyPath,autoIncrement:!0}).createIndex(Ti.userMutationsIndex,Ti.userMutationsKeyPath,{unique:!0});var e=r.store(Ti.store),t=t.map(function(t){return e.put(t)});return Qr.$n(t)});var n,r}):a).next(function(){e.createObjectStore(Ri.store,{keyPath:Ri.keyPath})})),t<5&&5<=r&&(a=a.next(function(){return i.Jr(o)})),t<6&&6<=r&&(a=a.next(function(){return e.createObjectStore(ji.store),i.Yr(o)})),t<7&&7<=r&&(a=a.next(function(){return i.Xr(o)})),t<8&&8<=r&&(a=a.next(function(){return i.Zr(e,o)})),t<9&&9<=r&&(a=a.next(function(){var t;(t=e).objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges"),(t=n.objectStore(ki.store)).createIndex(ki.readTimeIndex,ki.readTimeIndexPath,{unique:!1}),t.createIndex(ki.collectionReadTimeIndex,ki.collectionReadTimeIndexPath,{unique:!1})})),t<10&&10<=r&&(a=a.next(function(){return i.eo(o)})),a=t<11&&11<=r?a.next(function(){e.createObjectStore(Li.store,{keyPath:Li.keyPath}),e.createObjectStore(Mi.store,{keyPath:Mi.keyPath})}):a},rs.prototype.Yr=function(e){var n=0;return e.store(ki.store).ls(function(t,e){n+=To(e)}).next(function(){var t=new ji(n);return e.store(ji.store).put(ji.key,t)})},rs.prototype.Jr=function(n){var r=this,t=n.store(_i.store),i=n.store(Ti.store);return t.os().next(function(t){return Qr.forEach(t,function(e){var t=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return i.os(Ti.userMutationsIndex,t).next(function(t){return Qr.forEach(t,function(t){I(t.userId===e.userId);t=to(r.Kt,t);return _o(n,e.userId,t).next(function(){})})})})})},rs.prototype.Xr=function(t){var o=t.store(Di.store),e=t.store(ki.store);return t.store(Pi.store).get(Pi.key).next(function(r){var i=[];return e.ls(function(t,e){var n=new Q(t),t=[0,bi(n)];i.push(o.get(t).next(function(t){return t?Qr.resolve():o.put(new Di(0,bi(n),r.highestListenSequenceNumber))}))}).next(function(){return Qr.$n(i)})})},rs.prototype.Zr=function(t,e){t.createObjectStore(xi.store,{keyPath:xi.keyPath});function r(t){if(i.add(t)){var e=t.et(),t=t.Z();return n.put({collectionId:e,parent:bi(t)})}}var n=e.store(xi.store),i=new co;return e.store(ki.store).ls({hs:!0},function(t,e){t=new Q(t);return r(t.Z())}).next(function(){return e.store(Oi.store).ls({hs:!0},function(t,e){t[0];var n=t[1],n=(t[2],wi(n));return r(n.Z())})})},rs.prototype.eo=function(t){var n=this,r=t.store(Ci.store);return r.ls(function(t,e){e=eo(e),e=no(n.Kt,e);return r.put(e)})},rs);function rs(t){this.Kt=t}function is(t){t.createObjectStore(Di.store,{keyPath:Di.keyPath}).createIndex(Di.documentTargetsIndex,Di.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ci.store,{keyPath:Ci.keyPath}).createIndex(Ci.queryTargetsIndexName,Ci.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Pi.store)}var os="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ss=(as.prototype.start=function(){var e=this;return this.mo().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new w(b.FAILED_PRECONDITION,os);return e.Ao(),e.Ro(),e.Po(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.wo.ji(t)})}).then(function(t){e.ro=new q(t,e.so)}).then(function(){e.oo=!0}).catch(function(t){return e.fo&&e.fo.close(),Promise.reject(t)})},as.prototype.yo=function(n){var t=this;return this.lo=function(e){return Object(v.b)(t,void 0,void 0,function(){return Object(v.d)(this,function(t){return this.Ir?[2,n(e)]:[2]})})},n(this.isPrimary)},as.prototype.Vo=function(n){var t=this;this.fo.Zn(function(e){return Object(v.b)(t,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return null===e.newVersion?[4,n()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},as.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys(function(){return Object(v.b)(e,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},as.prototype.mo=function(){var n=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return cs(e).put(new Ri(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n.bo(e).next(function(t){t||(n.isPrimary=!1,n.no.vo(function(){return n.lo(!1)}))})}).next(function(){return n.So(e)}).next(function(t){return n.isPrimary&&!t?n.Do(e).next(function(){return!1}):!!t&&n.Co(e).next(function(){return!0})})}).catch(function(t){if(ui(t))return d("IndexedDbPersistence","Failed to extend owner lease: ",t),n.isPrimary;if(!n.allowTabSynchronization)throw t;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){n.isPrimary!==t&&n.no.vo(function(){return n.lo(t)}),n.isPrimary=t})},as.prototype.bo=function(t){var e=this;return us(t).get(Ei.key).next(function(t){return Qr.resolve(e.xo(t))})},as.prototype.No=function(t){return cs(t).delete(this.clientId)},as.prototype.Fo=function(){return Object(v.b)(this,void 0,void 0,function(){var e,n,r,i,o=this;return Object(v.d)(this,function(t){switch(t.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var r=Bi(t,Ri.store);return r.os().next(function(t){var e=o.ko(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)});return Qr.forEach(n,function(t){return r.delete(t.clientId)}).next(function(){return n})})}).catch(function(){return[]})]);case 1:if(e=t.sent(),this.Io)for(n=0,r=e;n<r.length;n++)i=r[n],this.Io.removeItem(this.Mo(i.clientId));t.label=2;case 2:return[2]}})})},as.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,function(){return t.mo().then(function(){return t.Fo()}).then(function(){return t.Po()})})},as.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},as.prototype.So=function(e){var r=this;return this.io?Qr.resolve(!0):us(e).get(Ei.key).next(function(t){if(null!==t&&r.Oo(t.leaseTimestampMs,5e3)&&!r.Lo(t.ownerId)){if(r.xo(t)&&r.networkEnabled)return!0;if(!r.xo(t)){if(!t.allowTabSynchronization)throw new w(b.FAILED_PRECONDITION,os);return!1}}return!(!r.networkEnabled||!r.inForeground)||cs(e).os().next(function(t){return void 0===r.ko(t,5e3).find(function(t){if(r.clientId!==t.clientId){var e=!r.networkEnabled&&t.networkEnabled,n=!r.inForeground&&t.inForeground,t=r.networkEnabled===t.networkEnabled;if(e||n&&t)return!0}return!1})})}).next(function(t){return r.isPrimary!==t&&d("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},as.prototype.$o=function(){return Object(v.b)(this,void 0,void 0,function(){var n=this;return Object(v.d)(this,function(t){switch(t.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[Ei.store,Ri.store],function(t){var e=new Fi(t,q.U);return n.Do(e).next(function(){return n.No(e)})})];case 1:return t.sent(),this.fo.close(),this.Qo(),[2]}})})},as.prototype.ko=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)})},as.prototype.Ko=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return cs(t).os().next(function(t){return e.ko(t,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(as.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),as.prototype.Wo=function(t){return Oo.Ri(t,this.Kt,this.Ii,this.mi)},as.prototype.Cr=function(){return this.wo},as.prototype.kr=function(){return this.Eo},as.prototype.jo=function(){return this.Ii},as.prototype.Go=function(){return this.To},as.prototype.runTransaction=function(e,n,r){var i,o=this;return d("IndexedDbPersistence","Starting transaction:",e),this.fo.runTransaction(e,"readonly"===n?"readonly":"readwrite",Ui,function(t){return i=new Fi(t,o.ro?o.ro.next():q.U),"readwrite-primary"===n?o.bo(i).next(function(t){return!!t||o.So(i)}).next(function(t){if(!t)throw l("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.no.vo(function(){return o.lo(!1)}),new w(b.FAILED_PRECONDITION,mi);return r(i)}).next(function(t){return o.Co(i).next(function(){return t})}):o.zo(i).next(function(){return r(i)})}).then(function(t){return i.bs(),t})},as.prototype.zo=function(t){var e=this;return us(t).get(Ei.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new w(b.FAILED_PRECONDITION,os)})},as.prototype.Co=function(t){var e=new Ei(this.clientId,this.allowTabSynchronization,Date.now());return us(t).put(Ei.key,e)},as.Wn=function(){return ti.Wn()},as.prototype.Do=function(t){var e=this,n=us(t);return n.get(Ei.key).next(function(t){return e.xo(t)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete(Ei.key)):Qr.resolve()})},as.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(l("Detected an update time that is in the future: "+t+" > "+n),1))},as.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()})},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},as.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},as.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys(function(){return e.$o()})},this.window.addEventListener("unload",this.co))},as.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},as.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return d("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return l("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},as.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){l("Failed to set zombie client id.",t)}},as.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},as.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},as);function as(t,e,n,r,i,o,s,a,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.no=i,this.window=o,this.document=s,this.so=u,this.io=c,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!as.Wn())throw new w(b.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new Bo(this,r),this._o=e+"main",this.Kt=new Hi(a),this.fo=new ti(this._o,11,new ns(this.Kt)),this.wo=new Do(this.mi,this.Kt),this.Ii=new ho,this.Eo=(e=this.Kt,a=this.Ii,new Xo(e,a)),this.To=new io,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===c&&l("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function us(t){return Bi(t,Ei.store)}function cs(t){return Bi(t,Ri.store)}function hs(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ls=(gs.prototype.Jo=function(e,n){var r=this;return this.Ho.Si(e,n).next(function(t){return r.Yo(e,n,t)})},gs.prototype.Yo=function(t,r,i){return this.Eo.di(t,r).next(function(t){for(var e=0,n=i;e<n.length;e++)t=n[e].Ns(r,t);return t})},gs.prototype.Xo=function(t,e,i){var o=$n;return e.forEach(function(t,e){for(var n=0,r=i;n<r.length;n++)e=r[n].Ns(t,e);o=o.Ht(t,e)}),o},gs.prototype.Zo=function(e,t){var n=this;return this.Eo.getEntries(e,t).next(function(t){return n.tc(e,t)})},gs.prototype.tc=function(e,r){var i=this;return this.Ho.Di(e,r).next(function(t){var t=i.Xo(e,r,t),n=$n;return t.forEach(function(t,e){e=e||new zt(t,Y.min()),n=n.Ht(t,e)}),n})},gs.prototype.jr=function(t,e,n){return r=e,et.Et(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.ec(t,e.path):Le(e)?this.nc(t,e,n):this.sc(t,e,n);var r},gs.prototype.ec=function(t,e){return this.Jo(t,new et(e)).next(function(t){var e=tr;return e=t instanceof Ht?tr.Ht(t.key,t):e})},gs.prototype.nc=function(n,r,i){var o=this,s=r.collectionGroup,a=tr;return this.Ii.Ks(n,s).next(function(t){return Qr.forEach(t,function(t){var e,e=(e=r,t=t.child(s),new ke(t,null,e.Nt.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt));return o.sc(n,e,i).next(function(t){t.forEach(function(t,e){a=a.Ht(t,e)})})}).next(function(){return a})})},gs.prototype.sc=function(e,n,t){var c,h,r=this;return this.Eo.jr(e,n,t).next(function(t){return c=t,r.Ho.xi(e,n)}).next(function(t){return h=t,r.ic(e,h,c).next(function(t){c=t;for(var e=0,n=h;e<n.length;e++)for(var r=n[e],i=0,o=r.mutations;i<o.length;i++){var s=o[i],a=s.key,u=c.get(a),u=bn(s,u,u,r.Ds);c=u instanceof Ht?c.Ht(a,u):c.remove(a)}})}).next(function(){return c.forEach(function(t,e){He(n,e)||(c=c.remove(t))}),c})},gs.prototype.ic=function(t,e,n){for(var r=rr(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof On&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Ht&&(c=c.Ht(t,e))}),c})},gs),fs=(ms.cc=function(t,e){for(var n=rr(),r=rr(),i=0,o=e.docChanges;i<o.length;i++){var s=o[i];switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new ms(t,e.fromCache,n,r)},ms),ps=(ys.prototype.ac=function(t){this.uc=t},ys.prototype.jr=function(e,r,i,o){var t,s=this;return 0===(t=r).filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())||i.isEqual(Y.min())?this.hc(e,r):this.uc.Zo(e,o).next(function(t){var n=s.lc(r,t);return(De(r)||Pe(r))&&s._c(r.limitType,n,o,i)?s.hc(e,r):(p()<=f.a.DEBUG&&d("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Be(r)),s.uc.jr(e,r,i).next(function(e){return n.forEach(function(t){e=e.Ht(t.key,t)}),e}))})},ys.prototype.lc=function(n,t){var r=new Xn(ze(n));return t.forEach(function(t,e){e instanceof Ht&&He(n,e)&&(r=r.add(e))}),r},ys.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;e="F"===t?e.last():e.first();return!!e&&(e.hasPendingWrites||0<e.version.u(r))},ys.prototype.hc=function(t,e){return p()<=f.a.DEBUG&&d("QueryEngine","Using full collection scan to execute query:",Be(e)),this.uc.jr(t,e,Y.min())},ys),ds=(vs.prototype.Ar=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(t){return e.br(t,n.dc)})},vs);function vs(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Bn(E),this.wc=new wo(Yt,$t),this.Ec=Y.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new ls(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}function ys(){}function ms(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}function gs(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}function bs(t,e,n,r){return new ds(t,e,n,r)}function ws(i,o){return Object(v.b)(this,void 0,void 0,function(){var e,n,g,r;return Object(v.d)(this,function(t){switch(t.label){case 0:return n=(e=i).Ho,g=e.Ic,[4,e.persistence.runTransaction("Handle user change","readonly",function(y){var m;return e.Ho.vi(y).next(function(t){return m=t,n=e.persistence.Wo(o),g=new ls(e.Tc,n,e.persistence.jo()),n.vi(y)}).next(function(t){for(var e=[],n=[],r=rr(),i=0,o=m;i<o.length;i++){var s=o[i];e.push(s.batchId);for(var a=0,u=s.mutations;a<u.length;a++)var c=u[a],r=r.add(c.key)}for(var h=0,l=t;h<l.length;h++){var f=l[h];n.push(f.batchId);for(var p=0,d=f.mutations;p<d.length;p++){var v=d[p];r=r.add(v.key)}}return g.Zo(y,r).next(function(t){return{mc:t,Ac:e,Rc:n}})})})];case 1:return r=t.sent(),[2,(e.Ho=n,e.Ic=g,e.fc.ac(e.Ic),r)]}})})}function Is(t,h){var l=t;return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var e,r,i,o,s,n,a,u=h.batch.keys(),c=l.Tc.Or({Gr:!0});return e=l,r=t,o=c,s=(i=h).batch,n=s.keys(),a=Qr.resolve(),n.forEach(function(n){a=a.next(function(){return o.di(r,n)}).next(function(t){var e=t,t=i.ks.get(n);I(null!==t),(!e||e.version.u(t)<0)&&(e=s.Cs(n,e,i))&&o.hi(e,i.Os)})}),a.next(function(){return e.Ho.Ni(r,s)}).next(function(){return c.apply(t)}).next(function(){return l.Ho.ki(t)}).next(function(){return l.Ic.Zo(t,u)})})}function Es(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.wo.Wi(t)})}function _s(t,r){var u=t,c=r.Mt,h=u.dc;return u.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var t=u.Tc.Or({Gr:!0});h=u.dc;var a=[];r.Oe.forEach(function(t,e){var n,r,i,o=h.get(e);o&&(a.push(u.wo.rr(s,t.Ke,e).next(function(){return u.wo.sr(s,t.Ue,e)})),0<(i=t.resumeToken).o()&&(n=o.$t(i,c).Lt(s.Ss),h=h.Ht(e,n),r=o,i=t,I(0<(o=n).resumeToken.o()),(0===r.resumeToken.o()||3e8<=o.Mt.j()-r.Mt.j()||0<i.Ue.size+i.Qe.size+i.Ke.size)&&a.push(u.wo.Yi(s,n))))});var e,n=$n;return r.Me.forEach(function(t,e){r.Le.has(t)&&a.push(u.persistence.mi.Mr(s,t))}),a.push(Ts(s,t,r.Me,c,void 0).next(function(t){n=t})),c.isEqual(Y.min())||(e=u.wo.Wi(s).next(function(t){return u.wo.Gi(s,s.Ss,c)}),a.push(e)),Qr.$n(a).next(function(){return t.apply(s)}).next(function(){return u.Ic.tc(s,n)})}).then(function(t){return u.dc=h,t})}function Ts(t,s,e,a,u){var n=rr();return e.forEach(function(t){return n=n.add(t)}),s.getEntries(t,n).next(function(i){var o=$n;return e.forEach(function(t,e){var n=i.get(t),r=(null==u?void 0:u.get(t))||a;e instanceof zt&&e.version.isEqual(Y.min())?(s.fi(t,r),o=o.Ht(t,e)):null==n||0<e.version.u(n.version)||0===e.version.u(n.version)&&n.hasPendingWrites?(s.hi(e,r),o=o.Ht(t,e)):d("LocalStore","Ignoring outdated watch update for ",t,". Current version:",n.version," Watch version:",e.version)}),o})}function Os(t,r){var i=t;return i.persistence.runTransaction("Allocate target","readwrite",function(e){var n;return i.wo.nr(e,r).next(function(t){return t?(n=t,Qr.resolve(n)):i.wo.Ui(e).next(function(t){return n=new Ge(r,t,0,e.Ss),i.wo.zi(e,n).next(function(){return n})})})}).then(function(t){var e=i.dc.get(t.targetId);return(null===e||0<t.Mt.u(e.Mt))&&(i.dc=i.dc.Ht(t.targetId,t),i.wc.set(r,t.targetId)),t})}function Ss(o,s,a){return Object(v.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(v.d)(this,function(t){switch(t.label){case 0:n=(e=o).dc.get(s),r=a?"readwrite":"readwrite-primary",t.label=1;case 1:return t.trys.push([1,4,,5]),a?[3,3]:[4,e.persistence.runTransaction("Release target",r,function(t){return e.persistence.mi.removeTarget(t,n)})];case 2:t.sent(),t.label=3;case 3:return[3,5];case 4:if(!ui(i=t.sent()))throw i;return d("LocalStore","Failed to update sequence numbers for target "+s+": "+i),[3,5];case 5:return e.dc=e.dc.remove(s),e.wc.delete(n.target),[2]}})})}function As(t,o,s){var a=t,u=Y.min(),c=rr();return a.persistence.runTransaction("Execute query","readonly",function(e){return t=a,n=e,r=Ve(o),(void 0!==(t=(i=t).wc.get(r))?Qr.resolve(i.dc.get(t)):i.wo.nr(n,r)).next(function(t){if(t)return u=t.lastLimboFreeSnapshotVersion,a.wo.ar(e,t.targetId).next(function(t){c=t})}).next(function(){return a.fc.jr(e,o,s?u:Y.min(),s?c:rr())}).next(function(t){return{documents:t,Pc:c}});var t,n,r,i})}function Ns(t,e){var n=t,r=n.wo,t=n.dc.get(e);return t?Promise.resolve(t.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function ks(t){var s=t;return s.persistence.runTransaction("Get new document changes","readonly",function(t){return e=s.Tc,n=t,t=s.Ec,r=e,i=$n,o=Yi(t),t=ts(n),n=IDBKeyRange.lowerBound(o,!0),t.ls({index:ki.readTimeIndex,range:n},function(t,e){var n=Ji(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{gs:i,readTime:$i(o)}});var e,n,r,i,o}).then(function(t){var e=t.gs,t=t.readTime;return s.Ec=t,e})}function js(n){return Object(v.b)(this,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){return[2,(e=n).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return t=ts(t),r=Y.min(),t.ls({index:ki.readTimeIndex,reverse:!0},function(t,e,n){e.readTime&&(r=$i(e.readTime)),n.done()}).next(function(){return r});var r}).then(function(t){e.Ec=t})]})})}var Cs,Ds,Ps=(Qs.prototype.Ls=function(t,e){return Qr.resolve(this.bc.get(e))},Qs.prototype.$s=function(t,e){return this.bc.set(e.id,{id:e.id,version:e.version,createTime:kr(e.createTime)}),Qr.resolve()},Qs.prototype.Bs=function(t,e){return Qr.resolve(this.vc.get(e))},Qs.prototype.qs=function(t,e){return this.vc.set(e.name,{name:(e=e).name,query:ro(e.bundledQuery),readTime:kr(e.readTime)}),Qr.resolve()},Qs),xs=($s.prototype.nt=function(){return this.Sc.nt()},$s.prototype.ir=function(t,e){e=new Rs(t,e);this.Sc=this.Sc.add(e),this.Cc=this.Cc.add(e)},$s.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},$s.prototype.cr=function(t,e){this.Fc(new Rs(t,e))},$s.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.cr(t,e)})},$s.prototype.kc=function(t){var e=this,n=new et(new Q([])),r=new Rs(n,t),t=new Rs(n,t+1),i=[];return this.Cc.Ae([r,t],function(t){e.Fc(t),i.push(t.key)}),i},$s.prototype.Mc=function(){var e=this;this.Sc.forEach(function(t){return e.Fc(t)})},$s.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},$s.prototype.Lc=function(t){var e=new et(new Q([])),n=new Rs(e,t),t=new Rs(e,t+1),r=rr();return this.Cc.Ae([n,t],function(t){r=r.add(t.key)}),r},$s.prototype.Mi=function(t){var e=new Rs(t,0),e=this.Sc.Pe(e);return null!==e&&t.isEqual(e.key)},$s),Rs=(Ys.Dc=function(t,e){return et.J(t.key,e.key)||E(t.$c,e.$c)},Ys.xc=function(t,e){return E(t.$c,e.$c)||et.J(t.key,e.key)},Ys),Ls=(Xs.prototype.Pi=function(t){return Qr.resolve(0===this.Ho.length)},Xs.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++,0<this.Ho.length&&this.Ho[this.Ho.length-1];n=new zi(i,e,n,r);this.Ho.push(n);for(var o=0,s=r;o<s.length;o++){var a=s[o];this.qc=this.qc.add(new Rs(a.key,i)),this.Ii.Qs(t,a.key.path.Z())}return Qr.resolve(n)},Xs.prototype.gi=function(t,e){return Qr.resolve(this.Uc(e))},Xs.prototype.pi=function(t,e){e=this.Qc(e+1),e=e<0?0:e;return Qr.resolve(this.Ho.length>e?this.Ho[e]:null)},Xs.prototype.bi=function(){return Qr.resolve(0===this.Ho.length?-1:this.Bc-1)},Xs.prototype.vi=function(t){return Qr.resolve(this.Ho.slice())},Xs.prototype.Si=function(t,e){var n=this,r=new Rs(e,0),e=new Rs(e,Number.POSITIVE_INFINITY),i=[];return this.qc.Ae([r,e],function(t){t=n.Uc(t.$c);i.push(t)}),Qr.resolve(i)},Xs.prototype.Di=function(t,e){var n=this,r=new Xn(E);return e.forEach(function(t){var e=new Rs(t,0),t=new Rs(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,t],function(t){r=r.add(t.$c)})}),Qr.resolve(this.Kc(r))},Xs.prototype.xi=function(t,e){var n=e.path,r=n.length+1,e=n;et.Et(e)||(e=e.child(""));var e=new Rs(new et(e),0),i=new Xn(E);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(i=i.add(t.$c)),!0)},e),Qr.resolve(this.Kc(i))},Xs.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){t=e.Uc(t);null!==t&&n.push(t)}),n},Xs.prototype.Ni=function(n,r){var i=this;I(0===this.Wc(r.batchId,"removed")),this.Ho.shift();var o=this.qc;return Qr.forEach(r.mutations,function(t){var e=new Rs(t.key,r.batchId);return o=o.delete(e),i.mi.Oi(n,t.key)}).next(function(){i.qc=o})},Xs.prototype.Fi=function(t){},Xs.prototype.Mi=function(t,e){var n=new Rs(e,0),n=this.qc.Pe(n);return Qr.resolve(e.isEqual(n&&n.key))},Xs.prototype.ki=function(t){return this.Ho.length,Qr.resolve()},Xs.prototype.Wc=function(t,e){return this.Qc(t)},Xs.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},Xs.prototype.Uc=function(t){t=this.Qc(t);return t<0||t>=this.Ho.length?null:this.Ho[t]},Xs),Ms=(Js.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,i=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:i,readTime:n}),this.size+=i-o,this.Ii.Qs(t,r.path.Z())},Js.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},Js.prototype.di=function(t,e){e=this.docs.get(e);return Qr.resolve(e?e._i:null)},Js.prototype.getEntries=function(t,e){var n=this,r=$n;return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)}),Qr.resolve(r)},Js.prototype.jr=function(t,e,n){for(var r=tr,i=new et(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.key,u=s.value,s=u._i,u=u.readTime;if(!e.path.st(a.path))break;u.u(n)<=0||s instanceof Ht&&He(e,s)&&(r=r.Ht(s.key,s))}return Qr.resolve(r)},Js.prototype.Gc=function(t,e){return Qr.forEach(this.docs,function(t){return e(t)})},Js.prototype.Or=function(t){return new Vs(this)},Js.prototype.Lr=function(t){return Qr.resolve(this.size)},Js),Vs=(Ds=$,Object(v.c)(Ws,Ds),Ws.prototype.Ti=function(n){var r=this,i=[];return this.ci.forEach(function(t,e){e&&e._i?i.push(r.zr.hi(n,e._i,r.ui(t))):r.zr.fi(t)}),Qr.$n(i)},Ws.prototype.wi=function(t,e){return this.zr.di(t,e)},Ws.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},Ws),Us=(Ks.prototype.mn=function(t,n){return this.zc.forEach(function(t,e){return n(e)}),Qr.resolve()},Ks.prototype.Wi=function(t){return Qr.resolve(this.lastRemoteSnapshotVersion)},Ks.prototype.ji=function(t){return Qr.resolve(this.Hc)},Ks.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),Qr.resolve(this.highestTargetId)},Ks.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Qr.resolve()},Ks.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Co(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},Ks.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,Qr.resolve()},Ks.prototype.Yi=function(t,e){return this.Hi(e),Qr.resolve()},Ks.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),--this.targetCount,Qr.resolve()},Ks.prototype.tr=function(n,r,i){var o=this,s=0,a=[];return this.zc.forEach(function(t,e){e.sequenceNumber<=r&&null===i.get(e.targetId)&&(o.zc.delete(t),a.push(o.Zi(n,e.targetId)),s++)}),Qr.$n(a).next(function(){return s})},Ks.prototype.er=function(t){return Qr.resolve(this.targetCount)},Ks.prototype.nr=function(t,e){e=this.zc.get(e)||null;return Qr.resolve(e)},Ks.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),Qr.resolve()},Ks.prototype.rr=function(e,t,n){this.Jc.Oc(t,n);var r=this.persistence.mi,i=[];return r&&t.forEach(function(t){i.push(r.Oi(e,t))}),Qr.$n(i)},Ks.prototype.Zi=function(t,e){return this.Jc.kc(e),Qr.resolve()},Ks.prototype.ar=function(t,e){e=this.Jc.Lc(e);return Qr.resolve(e)},Ks.prototype.Mi=function(t,e){return Qr.resolve(this.Jc.Mi(e))},Ks),Fs=(Gs.prototype.start=function(){return Promise.resolve()},Gs.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(Gs.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),Gs.prototype.Vo=function(){},Gs.prototype.po=function(){},Gs.prototype.jo=function(){return this.Ii},Gs.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new Ls(this.Ii,this.mi),this.Xc[t.R()]=e),e},Gs.prototype.Cr=function(){return this.wo},Gs.prototype.kr=function(){return this.Eo},Gs.prototype.Go=function(){return this.To},Gs.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new qs(this.ro.next());return this.mi.ta(),n(i).next(function(t){return r.mi.ea(i).next(function(){return t})}).Mn().then(function(t){return i.bs(),t})},Gs.prototype.na=function(e,n){return Qr.Bn(Object.values(this.Xc).map(function(t){return function(){return t.Mi(e,n)}}))},Gs),qs=(Cs=Bt,Object(v.c)(zs,Cs),zs),Bs=(Hs.ra=function(t){return new Hs(t)},Object.defineProperty(Hs.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw m()},enumerable:!1,configurable:!0}),Hs.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),Qr.resolve()},Hs.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),Qr.resolve()},Hs.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Qr.resolve()},Hs.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Cr();return r.ar(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Xi(t,e)})},Hs.prototype.ta=function(){this.ia=new Set},Hs.prototype.ea=function(n){var r=this,i=this.persistence.kr().Or();return Qr.forEach(this.oa,function(t){var e=et.ft(t);return r.ca(n,e).next(function(t){t||i.fi(e)})}).next(function(){return r.ia=null,i.apply(n)})},Hs.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},Hs.prototype.Zc=function(t){return 0},Hs.prototype.ca=function(t,e){var n=this;return Qr.Bn([function(){return Qr.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},Hs);function Hs(t){this.persistence=t,this.sa=new xs,this.ia=null}function zs(t){var e=this;return(e=Cs.call(this)||this).Ss=t,e}function Gs(t,e){var n=this;this.Xc={},this.ro=new q(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new Us(this),this.Ii=new uo,this.Eo=(t=this.Ii,new Ms(t,function(t){return n.mi.Zc(t)})),this.Kt=new Hi(e),this.To=new Ps(this.Kt)}function Ks(t){this.persistence=t,this.zc=new wo(Yt,$t),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new xs,this.targetCount=0,this.Yc=Co.Bi()}function Ws(t){var e=this;return(e=Ds.call(this)||this).zr=t,e}function Js(t,e){this.Ii=t,this.jc=e,this.docs=new Bn(et.J),this.size=0}function Xs(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new Xn(Rs.Dc)}function Ys(t,e){this.key=t,this.$c=e}function $s(){this.Sc=new Xn(Rs.Dc),this.Cc=new Xn(Rs.xc)}function Qs(t){this.Kt=t,this.bc=new Map,this.vc=new Map}function Zs(t,e){return"firestore_clients_"+t+"_"+e}function ta(t,e,n){n="firestore_mutations_"+t+"_"+n;return e.A()&&(n+="_"+e.uid),n}function ea(t,e){return"firestore_targets_"+t+"_"+e}var na,ra=(Sa.aa=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new w(r.error.code,r.error.message)),i?new Sa(t,e,r.state,o):(l("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},Sa.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Sa),ia=(Oa.aa=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new w(n.error.code,n.error.message)),r?new Oa(t,n.state,i):(l("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},Oa.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Oa),oa=(Ta.aa=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=ir,o=0;r&&o<n.activeTargetIds.length;++o)r=It(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Ta(t,i):(l("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},Ta),sa=(_a.aa=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new _a(e.clientId,e.onlineState):(l("SharedClientState","Failed to parse online state: "+t),null)},_a),aa=(Ea.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},Ea.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},Ea.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},Ea),ua=(Ia.Wn=function(t){return!(!t||!t.localStorage)},Ia.prototype.start=function(){return Object(v.b)(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,h,l=this;return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,this.fa.Ko()];case 1:for(s=t.sent(),e=0,n=s;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Zs(this.persistenceKey,r)))&&(o=oa.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)h=c[u],this.Ea(h);return this.Ia=[],this.window.addEventListener("unload",function(){return l.$o()}),this.Ir=!0,[2]}})})},Ia.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},Ia.prototype.Sa=function(){return this.Da(this.Ta)},Ia.prototype.Ca=function(n){var r=!1;return this.Ta.forEach(function(t,e){e.activeTargetIds.has(n)&&(r=!0)}),r},Ia.prototype.xa=function(t){this.Na(t,"pending")},Ia.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},Ia.prototype.ka=function(t){var e,n="not-current";return this.Ca(t)&&(!(e=this.storage.getItem(ea(this.persistenceKey,t)))||(e=ia.aa(t,e))&&(n=e.state)),this.Ma.ha(t),this.pa(),n},Ia.prototype.La=function(t){this.Ma.la(t),this.pa()},Ia.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},Ia.prototype.Ba=function(t){this.removeItem(ea(this.persistenceKey,t))},Ia.prototype.qa=function(t,e,n){this.Ua(t,e,n)},Ia.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},Ia.prototype.Ka=function(t){this.Wa(t)},Ia.prototype.ja=function(){this.Ga()},Ia.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},Ia.prototype.getItem=function(t){var e=this.storage.getItem(t);return d("SharedClientState","READ",t,e),e},Ia.prototype.setItem=function(t,e){d("SharedClientState","SET",t,e),this.storage.setItem(t,e)},Ia.prototype.removeItem=function(t){d("SharedClientState","REMOVE",t),this.storage.removeItem(t)},Ia.prototype.Ea=function(t){var e=this,o=t;o.storageArea===this.storage&&(d("SharedClientState","EVENT",o.key,o.newValue),o.key!==this.ma?this.no.vo(function(){return Object(v.b)(e,void 0,void 0,function(){var e,n,r,i;return Object(v.d)(this,function(t){if(this.Ir){if(null!==o.key)if(this.Ra.test(o.key)){if(null==o.newValue)return i=this.za(o.key),[2,this.Ha(i,null)];if(i=this.Ja(o.key,o.newValue))return[2,this.Ha(i.clientId,i)]}else if(this.Pa.test(o.key)){if(null!==o.newValue&&(e=this.Ya(o.key,o.newValue)))return[2,this.Xa(e)]}else if(this.ya.test(o.key)){if(null!==o.newValue&&(n=this.Za(o.key,o.newValue)))return[2,this.tu(n)]}else if(o.key===this.ga){if(null!==o.newValue&&(r=this.ba(o.newValue)))return[2,this.va(r)]}else if(o.key===this.Aa)(i=function(t){var e=q.U;if(null!=t)try{var n=JSON.parse(t);I("number"==typeof n),e=n}catch(t){l("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(o.newValue))!==q.U&&this.L(i);else if(o.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(o);return[2]})})}):l("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(Ia.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),Ia.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},Ia.prototype.Na=function(t,e,n){n=new ra(this.currentUser,t,e,n),t=ta(this.persistenceKey,this.currentUser,t);this.setItem(t,n.ua())},Ia.prototype.Oa=function(t){t=ta(this.persistenceKey,this.currentUser,t);this.removeItem(t)},Ia.prototype.Wa=function(t){t={clientId:this._a,onlineState:t};this.storage.setItem(this.ga,JSON.stringify(t))},Ia.prototype.Ua=function(t,e,n){var r=ea(this.persistenceKey,t),n=new ia(t,e,n);this.setItem(r,n.ua())},Ia.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},Ia.prototype.za=function(t){t=this.Ra.exec(t);return t?t[1]:null},Ia.prototype.Ja=function(t,e){t=this.za(t);return oa.aa(t,e)},Ia.prototype.Ya=function(t,e){var n=this.Pa.exec(t),t=Number(n[1]),n=void 0!==n[2]?n[2]:null;return ra.aa(new D(n),t,e)},Ia.prototype.Za=function(t,e){t=this.ya.exec(t),t=Number(t[1]);return ia.aa(t,e)},Ia.prototype.ba=function(t){return sa.aa(t)},Ia.prototype.Xa=function(e){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.fa.nu(e.batchId,e.state,e.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},Ia.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},Ia.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.fa.iu(s,a).then(function(){n.Ta=r})},Ia.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},Ia.prototype.Da=function(t){var n=ir;return t.forEach(function(t,e){n=n.ye(e.activeTargetIds)}),n},Ia),ca=(wa.prototype.xa=function(t){},wa.prototype.Fa=function(t,e,n){},wa.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},wa.prototype.qa=function(t,e,n){this.ou[t]=e},wa.prototype.La=function(t){this.ru.la(t)},wa.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},wa.prototype.Ba=function(t){delete this.ou[t]},wa.prototype.Sa=function(){return this.ru.activeTargetIds},wa.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},wa.prototype.start=function(){return this.ru=new aa,Promise.resolve()},wa.prototype.Qa=function(t,e,n){},wa.prototype.Ka=function(t){},wa.prototype.$o=function(){},wa.prototype.q=function(t){},wa.prototype.ja=function(){},wa),ha=(ba.prototype.cu=function(t){},ba.prototype.$o=function(){},ba),la=(ga.prototype.cu=function(t){this._u.push(t)},ga.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},ga.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},ga.prototype.uu=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},ga.prototype.lu=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},ga.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},ga),fa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},pa=(ma.prototype.Eu=function(t){this.Tu=t},ma.prototype.Iu=function(t){this.mu=t},ma.prototype.onMessage=function(t){this.Au=t},ma.prototype.close=function(){this.wu()},ma.prototype.send=function(t){this.du(t)},ma.prototype.Ru=function(){this.Tu()},ma.prototype.Pu=function(t){this.mu(t)},ma.prototype.yu=function(t){this.Au(t)},ma),da=(ya.prototype.bu=function(e,t,n,r){var i=this.vu(e,t);d("RestConnection","Sending: ",i,n);t={};return this.Su(t,r),this.Du(e,i,t,n).then(function(t){return d("RestConnection","Received: ",t),t},function(t){throw y("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t})},ya.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},ya.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},ya.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+fa[t]},na=ya,Object(v.c)(va,na),va.prototype.Du=function(u,e,n,r){return new Promise(function(o,s){var a=new h.f;a.listenOnce(h.c.COMPLETE,function(){try{switch(a.getLastErrorCode()){case h.a.NO_ERROR:var t=a.getResponseJson();d("Connection","XHR received:",JSON.stringify(t)),o(t);break;case h.a.TIMEOUT:d("Connection",'RPC "'+u+'" timed out'),s(new w(b.DEADLINE_EXCEEDED,"Request time out"));break;case h.a.HTTP_ERROR:var e,n,r=a.getStatus();d("Connection",'RPC "'+u+'" failed with status:',r,"response text:",a.getResponseText()),0<r?(e=a.getResponseJson().error)&&e.status&&e.message?(i=e.status.toLowerCase().replace(/_/g,"-"),n=0<=Object.values(b).indexOf(i)?i:b.UNKNOWN,s(new w(n,e.message))):s(new w(b.UNKNOWN,"Server responded with status "+a.getStatus())):s(new w(b.UNAVAILABLE,"Connection failed."));break;default:m()}}finally{d("Connection",'RPC "'+u+'" completed.')}var i});var t=JSON.stringify(r);a.send(e,"POST",t,n,15)})},va.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Object(h.g)(),i=Object(h.h)(),t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(t.initMessageHeaders,e),Object(c.x)()||Object(c.A)()||Object(c.t)()||Object(c.v)()||Object(c.B)()||Object(c.s)()||(t.httpHeadersOverwriteParam="$httpHeaders");n=n.join("");d("Connection","Creating WebChannel: "+n,t);var o=r.createWebChannel(n,t),s=!1,a=!1,u=new pa({du:function(t){a?d("Connection","Not sending because WebChannel is closed:",t):(s||(d("Connection","Opening WebChannel transport."),o.open(),s=!0),d("Connection","WebChannel sending:",t),o.send(t))},wu:function(){return o.close()}}),t=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return t(o,h.e.EventType.OPEN,function(){a||d("Connection","WebChannel transport opened.")}),t(o,h.e.EventType.CLOSE,function(){a||(a=!0,d("Connection","WebChannel transport closed"),u.Pu())}),t(o,h.e.EventType.ERROR,function(t){a||(a=!0,y("Connection","WebChannel transport errored:",t),u.Pu(new w(b.UNAVAILABLE,"The operation could not be completed")))}),t(o,h.e.EventType.MESSAGE,function(t){var e,n,r,i;a||(I(!!(e=t.data[0])),(n=e.error||(null===(i=e[0])||void 0===i?void 0:i.error))?(d("Connection","WebChannel received error:",n),r=n.status,t=function(){var t=Pn[r];if(void 0!==t)return qn(t)}(),i=n.message,void 0===t&&(t=b.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),a=!0,u.Pu(new w(t,i)),o.close()):(d("Connection","WebChannel received:",e),u.yu(e)))}),t(i,h.b.STAT_EVENT,function(t){t.stat===h.d.PROXY?d("Connection","Detected buffering proxy"):t.stat===h.d.NOPROXY&&d("Connection","Detected no buffering proxy")}),setTimeout(function(){u.Ru()},0),u},va);function va(t){var e=this;return(e=na.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.I=t.I,e}function ya(t){this.gu=t,this.T=t.T;var e=t.ssl?"https":"http";this.Vu=e+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}function ma(t){this.du=t.du,this.wu=t.wu}function ga(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}function ba(){}function wa(){this.ru=new aa,this.ou={},this.da=null,this.L=null}function Ia(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Bn(E),this.Ir=!1,this.Ia=[];n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Zs(this.persistenceKey,this._a),this.Aa="firestore_sequence_number_"+this.persistenceKey,this.Ta=this.Ta.Ht(this._a,new aa),this.Ra=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.ga="firestore_online_state_"+this.persistenceKey,this.Va="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.wa)}function Ea(){this.activeTargetIds=ir}function _a(t,e){this.clientId=t,this.onlineState=e}function Ta(t,e){this.clientId=t,this.activeTargetIds=e}function Oa(t,e,n){this.targetId=t,this.state=e,this.error=n}function Sa(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function Aa(){return"undefined"!=typeof window?window:null}function Na(){return"undefined"!=typeof document?document:null}function ka(t){return new Tr(t,!0)}function ja(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(v.b)(o,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return Za(this)?(d("RemoteStore","Restarting streams for network reachability change."),[4,function(n){return Object(v.b)(this,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return(e=n).Fh.add(4),[4,Ka(e)];case 1:return t.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Ga(e)];case 2:return t.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new Va(n,r)}var Ca,Da,Pa,xa=(za.prototype.reset=function(){this.ku=0},za.prototype.$u=function(){this.ku=this.Ou},za.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);0<i&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},za.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},za.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},za.prototype.qu=function(){return(Math.random()-.5)*this.ku},za),$=(Ha.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},Ha.prototype.Ju=function(){return 2===this.state},Ha.prototype.start=function(){3!==this.state?this.auth():this.Yu()},Ha.prototype.stop=function(){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},Ha.prototype.Xu=function(){this.state=0,this.zu.reset()},Ha.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,function(){return t.th()}))},Ha.prototype.eh=function(t){this.nh(),this.stream.send(t)},Ha.prototype.th=function(){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},Ha.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},Ha.prototype.close=function(e,n){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==e?this.zu.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(l(n.toString()),l("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):n&&n.code===b.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Iu(n)];case 1:return t.sent(),[2]}})})},Ha.prototype.sh=function(){},Ha.prototype.auth=function(){var n=this;this.state=1;var t=this.ih(this.ju),e=this.ju;this.Wu.getToken().then(function(t){n.ju===e&&n.rh(t)},function(e){t(function(){var t=new w(b.UNKNOWN,"Fetching auth token failed: "+e.message);return n.oh(t)})})},Ha.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},Ha.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(v.b)(t,void 0,void 0,function(){return Object(v.d)(this,function(t){return this.state=0,this.start(),[2]})})})},Ha.prototype.oh=function(t){return d("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},Ha.prototype.ih=function(e){var n=this;return function(t){n.no.ys(function(){return n.ju===e?t():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},Ha),Ra=(Pa=$,Object(v.c)(Ba,Pa),Ba.prototype.ah=function(t){return this.Ku.xu("Listen",t)},Ba.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){if("targetChange"in e){e.targetChange;var n="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:m(),r=e.targetChange.targetIds||[],i=(s=e.targetChange.resumeToken,t.qt?(I(void 0===s||"string"==typeof s),g.fromBase64String(s||"")):(I(void 0===s||s instanceof Uint8Array),g.fromUint8Array(s||new Uint8Array))),o=(a=e.targetChange.cause)&&(u=void 0===(c=a).code?b.UNKNOWN:qn(c.code),new w(u,c.message||"")),s=new ar(n,r,i,o||null)}else if("documentChange"in e){e.documentChange,(n=e.documentChange).document,n.document.name,n.document.updateTime;var r=Pr(t,n.document.name),i=kr(n.document.updateTime),a=new xt({mapValue:{fields:n.document.fields}}),u=(o=new Ht(r,i,a,{}),n.targetIds||[]),c=n.removedTargetIds||[];s=new or(u,c,o.key,o)}else if("documentDelete"in e)e.documentDelete,(n=e.documentDelete).document,r=Pr(t,n.document),i=n.readTime?kr(n.readTime):Y.min(),a=new zt(r,i),o=n.removedTargetIds||[],s=new or([],o,a.key,a);else if("documentRemove"in e)e.documentRemove,(n=e.documentRemove).document,r=Pr(t,n.document),i=n.removedTargetIds||[],s=new or([],i,r,null);else{if(!("filter"in e))return m();e.filter;e=e.filter;e.targetId,n=e.count||0,r=new Dn(n),i=e.targetId,s=new sr(i,r)}return s}(this.Kt,t),t=function(t){if(!("targetChange"in t))return Y.min();t=t.targetChange;return(!t.targetIds||!t.targetIds.length)&&t.readTime?kr(t.readTime):Y.min()}(t);return this.listener.uh(e,t)},Ba.prototype.hh=function(t){var e,n,r,i={};i.database=Lr(this.Kt),i.addTarget=(e=this.Kt,(r=Qt(r=(n=t).target)?{documents:Br(e,r)}:{query:Hr(e,r)}).targetId=n.targetId,0<n.resumeToken.o()?r.resumeToken=Nr(e,n.resumeToken):0<n.Mt.u(Y.min())&&(r.readTime=Ar(e,n.Mt.G())),r);var o,t=(this.Kt,o=t,null==(t=function(){switch(o.kt){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return m()}}())?null:{"goog-listen-tags":t});t&&(i.labels=t),this.eh(i)},Ba.prototype.lh=function(t){var e={};e.database=Lr(this.Kt),e.removeTarget=t,this.eh(e)},Ba),La=(Da=$,Object(v.c)(qa,Da),Object.defineProperty(qa.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),qa.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,Da.prototype.start.call(this)},qa.prototype.sh=function(){this._h&&this.dh([])},qa.prototype.ah=function(t){return this.Ku.xu("Write",t)},qa.prototype.onMessage=function(t){if(I(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?(I(void 0!==r),n.map(function(t){return function(t,e){var n=t.updateTime?kr(t.updateTime):kr(e);n.isEqual(Y.min())&&(n=kr(e));e=null;return t.transformResults&&0<t.transformResults.length&&(e=t.transformResults),new dn(n,e)}(t,r)})):[]),n=kr(t.commitTime);return this.listener.wh(n,e)}var n,r;return I(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},qa.prototype.Th=function(){var t={};t.database=Lr(this.Kt),this.eh(t)},qa.prototype.dh=function(t){var e=this,t={streamToken:this.lastStreamToken,writes:t.map(function(t){return Fr(e.Kt,t)})};this.eh(t)},qa),Ma=(Ca=function(){},Object(v.c)(Fa,Ca),Fa.prototype.mh=function(){if(this.Ih)throw new w(b.FAILED_PRECONDITION,"The client has already been terminated.")},Fa.prototype.bu=function(e,n,r){var i=this;return this.mh(),this.credentials.getToken().then(function(t){return i.Ku.bu(e,n,r,t)}).catch(function(t){throw t.code===b.UNAUTHENTICATED&&i.credentials.v(),t})},Fa.prototype.Cu=function(e,n,r){var i=this;return this.mh(),this.credentials.getToken().then(function(t){return i.Ku.Cu(e,n,r,t)}).catch(function(t){throw t.code===b.UNAUTHENTICATED&&i.credentials.v(),t})},Fa.prototype.terminate=function(){this.Ih=!1},Fa),Va=(Ua.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},Ua.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,1<=this.Ah&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},Ua.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},Ua.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},Ua.prototype.Vh=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(l(t),this.Ph=!1):d("OnlineStateTracker",t)},Ua.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},Ua);function Ua(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}function Fa(t,e,n){var r=this;return(r=Ca.call(this)||this).credentials=t,r.Ku=e,r.Kt=n,r.Ih=!1,r}function qa(t,e,n,r,i){var o=this;return(o=Da.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).Kt=r,o._h=!1,o}function Ba(t,e,n,r,i){var o=this;return(o=Pa.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).Kt=r,o}function Ha(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new xa(t,e)}function za(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}function Ga(r){return Object(v.b)(this,void 0,void 0,function(){var e,n;return Object(v.d)(this,function(t){switch(t.label){case 0:if(!Za(r))return[3,4];e=0,n=r.Oh,t.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ka(r){return Object(v.b)(this,void 0,void 0,function(){var e,n;return Object(v.d)(this,function(t){switch(t.label){case 0:e=0,n=r.Oh,t.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Wa(t,e){t.Nh.has(e.targetId)||(t.Nh.set(e.targetId,e),Qa(t)?$a(t):uu(t).Ju()&&Xa(t,e))}function Ja(t,e){var n=t,t=uu(n);n.Nh.delete(e),t.Ju()&&Ya(n,e),0===n.Nh.size&&(t.Ju()?t.Zu():Za(n)&&n.Mh.set("Unknown"))}function Xa(t,e){t.Lh.cn(e.targetId),uu(t).hh(e)}function Ya(t,e){t.Lh.cn(e),uu(t).lh(e)}function $a(e){e.Lh=new dr({Sn:function(t){return e.Ch.Sn(t)},Dn:function(t){return e.Nh.get(t)||null}}),uu(e).start(),e.Mh.yh()}function Qa(t){return Za(t)&&!uu(t).Hu()&&0<t.Nh.size}function Za(t){return 0===t.Fh.size}function tu(t){t.Lh=void 0}function eu(s,a,u){return Object(v.b)(this,void 0,void 0,function(){var n,o;return Object(v.d)(this,function(t){switch(t.label){case 0:if(s.Mh.set("Online"),!(a instanceof ar&&2===a.state&&a.cause))return[3,6];t.label=1;case 1:return t.trys.push([1,3,,5]),[4,function(o,s){return Object(v.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(v.d)(this,function(t){switch(t.label){case 0:e=s.cause,n=0,r=s.targetIds,t.label=1;case 1:return n<r.length?(i=r[n],o.Nh.has(i)?[4,o.Ch.$h(i,e)]:[3,3]):[3,5];case 2:t.sent(),o.Nh.delete(i),o.Lh.removeTarget(i),t.label=3;case 3:t.label=4;case 4:return n++,[3,1];case 5:return[2]}})})}(s,a)];case 2:return t.sent(),[3,5];case 3:return n=t.sent(),d("RemoteStore","Failed to remove targets %s: %s ",a.targetIds.join(","),n),[4,nu(s,n)];case 4:return t.sent(),[3,5];case 5:return[3,13];case 6:if(a instanceof or?s.Lh.wn(a):a instanceof sr?s.Lh.yn(a):s.Lh.In(a),u.isEqual(Y.min()))return[3,13];t.label=7;case 7:return t.trys.push([7,11,,13]),[4,Es(s.Sh)];case 8:return o=t.sent(),0<=u.u(o)?[4,(i=u,(e=(r=s).Lh.pn(i)).Oe.forEach(function(t,e){var n;0<t.resumeToken.o()&&((n=r.Nh.get(e))&&r.Nh.set(e,n.$t(t.resumeToken,i)))}),e.ke.forEach(function(t){var e=r.Nh.get(t);e&&(r.Nh.set(t,e.$t(g.h,e.Mt)),Ya(r,t),e=new Ge(e.target,t,1,e.sequenceNumber),Xa(r,e))}),r.Ch.Bh(e))]:[3,10];case 9:t.sent(),t.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",o=t.sent()),[4,nu(s,o)];case 12:return t.sent(),[3,13];case 13:return[2]}var r,i,e})})}function nu(n,r,i){return Object(v.b)(this,void 0,void 0,function(){var e=this;return Object(v.d)(this,function(t){switch(t.label){case 0:if(!ui(r))throw r;return n.Fh.add(1),[4,Ka(n)];case 1:return t.sent(),n.Mh.set("Offline"),i=i||function(){return Es(n.Sh)},n.fs.vo(function(){return Object(v.b)(e,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,i()];case 1:return t.sent(),n.Fh.delete(1),[4,Ga(n)];case 2:return t.sent(),[2]}})})}),[2]}})})}function ru(e,n){return n().catch(function(t){return nu(e,t,n)})}function iu(u){return Object(v.b)(this,void 0,void 0,function(){var i,o,s,a;return Object(v.d)(this,function(t){switch(t.label){case 0:o=cu(i=u),s=0<i.xh.length?i.xh[i.xh.length-1].batchId:-1,t.label=1;case 1:if(!(Za(r=i)&&r.xh.length<10))return[3,7];t.label=2;case 2:return t.trys.push([2,4,,6]),[4,(r=i.Sh,e=s,(n=r).persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)}))];case 3:return null===(a=t.sent())?(0===i.xh.length&&o.Zu(),[3,7]):(s=a.batchId,function(t,e){t.xh.push(e);t=cu(t);t.Ju()&&t.fh&&t.dh(e.mutations)}(i,a),[3,6]);case 4:return a=t.sent(),[4,nu(i,a)];case 5:return t.sent(),[3,6];case 6:return[3,1];case 7:return ou(i)&&su(i),[2]}var e,n,r})})}function ou(t){return Za(t)&&!cu(t).Hu()&&0<t.xh.length}function su(t){cu(t).start()}function au(n,r){return Object(v.b)(this,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=n,r?(e.Fh.delete(2),[4,Ga(e)]):[3,2];case 1:return t.sent(),[3,5];case 2:return r?[3,4]:(e.Fh.add(2),[4,Ka(e)]);case 3:t.sent(),e.Mh.set("Unknown"),t.label=4;case 4:t.label=5;case 5:return[2]}})})}function uu(n){var t,e,r,i=this;return n.Qh||(n.Qh=(t=n.Dh,e=n.fs,r={Eu:function(n){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){return n.Nh.forEach(function(t,e){Xa(n,t)}),[2]})})}.bind(null,n),Iu:function(e,n){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){return tu(e),Qa(e)?(e.Mh.ph(n),$a(e)):e.Mh.set("Unknown"),[2]})})}.bind(null,n),uh:eu.bind(null,n)},t.mh(),new Ra(e,t.Ku,t.credentials,t.Kt,r)),n.Oh.push(function(e){return Object(v.b)(i,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return e?(n.Qh.Xu(),Qa(n)?$a(n):n.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,n.Qh.stop()];case 2:t.sent(),tu(n),t.label=3;case 3:return[2]}})})})),n.Qh}function cu(n){var t,e,r,i=this;return n.Kh||(n.Kh=(t=n.Dh,e=n.fs,r={Eu:function(e){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){return cu(e).Th(),[2]})})}.bind(null,n),Iu:function(e,n){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return n&&cu(e).fh?[4,function(r,i){return Object(v.b)(this,void 0,void 0,function(){var e,n;return Object(v.d)(this,function(t){switch(t.label){case 0:return Fn(n=i.code)&&n!==b.ABORTED?(e=r.xh.shift(),cu(r).Xu(),[4,ru(r,function(){return r.Ch.Uh(e.batchId,i)})]):[3,3];case 1:return t.sent(),[4,iu(r)];case 2:t.sent(),t.label=3;case 3:return[2]}})})}(e,n)]:[3,2];case 1:t.sent(),t.label=2;case 2:return ou(e)&&su(e),[2]}})})}.bind(null,n),Eh:function(o){return Object(v.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(v.d)(this,function(t){for(e=cu(o),n=0,r=o.xh;n<r.length;n++)i=r[n],e.dh(i.mutations);return[2]})})}.bind(null,n),wh:function(r,i,o){return Object(v.b)(this,void 0,void 0,function(){var e,n;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=r.xh.shift(),n=Gi.from(e,i,o),[4,ru(r,function(){return r.Ch.qh(n)})];case 1:return t.sent(),[4,iu(r)];case 2:return t.sent(),[2]}})})}.bind(null,n)},t.mh(),new La(e,t.Ku,t.credentials,t.Kt,r)),n.Oh.push(function(e){return Object(v.b)(i,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return e?(n.Kh.Xu(),[4,iu(n)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,n.Kh.stop()];case 3:t.sent(),0<n.xh.length&&(d("RemoteStore","Stopping write stream with "+n.xh.length+" pending writes"),n.xh=[]),t.label=4;case 4:return[2]}})})})),n.Kh}function hu(){this.queries=new wo(qe,Fe),this.onlineState="Unknown",this.jh=new Set}var lu=function(){this.Wh=void 0,this.listeners=[]};function fu(s,a){return Object(v.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(v.d)(this,function(t){switch(t.label){case 0:if(e=s,n=a.query,o=!1,(r=e.queries.get(n))||(o=!0,r=new lu),!o)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),i=r,[4,e.Gh(n)];case 2:return i.Wh=t.sent(),[3,4];case 3:return o=t.sent(),o=yi(o,"Initialization of query '"+Be(a.query)+"' failed"),[2,void a.onError(o)];case 4:return e.queries.set(n,r),r.listeners.push(a),a.zh(e.onlineState),r.Wh&&a.Hh(r.Wh)&&du(e),[2]}})})}function pu(s,a){return Object(v.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(v.d)(this,function(t){return e=s,n=a.query,r=!1,(i=e.queries.get(n))&&0<=(o=i.listeners.indexOf(a))&&(i.listeners.splice(o,1),r=0===i.listeners.length),r?[2,(e.queries.delete(n),e.Jh(n))]:[2]})})}function du(t){t.jh.forEach(function(t){t.next()})}var vu=(gu.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new hr(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},gu.prototype.onError=function(t){this.Yh.error(t)},gu.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},gu.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},gu.prototype.tl=function(t){if(0<t.docChanges.length)return!0;var e=this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites;return!(!t.xe&&!e)&&!0===this.options.includeMetadataChanges},gu.prototype.nl=function(t){t=hr.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},gu);mu.prototype.il=function(){return"metadata"in this.payload},yu.prototype.yc=function(t){return Pr(this.Kt,t)},yu.prototype.gc=function(t){return t.metadata.exists?Ur(this.Kt,t.document,!1):new zt(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},yu.prototype.Vc=kr;function yu(t){this.Kt=t}function mu(t,e){this.payload=t,this.byteLength=e}function gu(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}function bu(t){this.key=t}function wu(t){this.key=t}var Iu=(Object.defineProperty(Su.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),Su.prototype.dl=function(t,e){var s=this,a=e?e.wl:new cr,u=(e||this)._l,c=(e||this).Ce,h=u,l=!1,f=De(this.query)&&u.size===this.query.limit?u.last():null,p=Pe(this.query)&&u.size===this.query.limit?u.first():null;if(t.Zt(function(t,e){var n=u.get(t),r=(r=e instanceof Ht?e:null)&&(He(s.query,r)?r:null),i=!!n&&s.Ce.has(n.key),o=!!r&&(r.bt||s.Ce.has(r.key)&&r.hasCommittedMutations),e=!1;n&&r?n.data().isEqual(r.data())?i!==o&&(a.track({type:3,doc:r}),e=!0):s.El(n,r)||(a.track({type:2,doc:r}),e=!0,(f&&0<s.ll(r,f)||p&&s.ll(r,p)<0)&&(l=!0)):!n&&r?(a.track({type:0,doc:r}),e=!0):n&&!r&&(a.track({type:1,doc:n}),e=!0,(f||p)&&(l=!0)),e&&(c=r?(h=h.add(r),o?c.add(t):c.delete(t)):(h=h.delete(t),c.delete(t)))}),De(this.query)||Pe(this.query))for(;h.size>this.query.limit;){var n=De(this.query)?h.last():h.first(),h=h.delete(n.key),c=c.delete(n.key);a.track({type:1,doc:n})}return{_l:h,wl:a,_c:l,Ce:c}},Su.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},Su.prototype.Ti=function(t,e,n){var o=this,r=this._l;this._l=t._l,this.Ce=t.Ce;var i=t.wl.Se();i.sort(function(t,e){return r=t.type,i=e.type,n(r)-n(i)||o.ll(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return m()}}var r,i}),this.Tl(n);var s=e?this.Il():[],n=0===this.hl.size&&this.qe?1:0,e=n!==this.ul;return this.ul=n,0!==i.length||e?{snapshot:new hr(this.query,t._l,r,i,t.Ce,0==n,e,!1),ml:s}:{ml:s}},Su.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new cr,Ce:this.Ce,_c:!1},!1)):{ml:[]}},Su.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},Su.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},Su.prototype.Il=function(){var e=this;if(!this.qe)return[];var n=this.hl;this.hl=rr(),this._l.forEach(function(t){e.Al(t.key)&&(e.hl=e.hl.add(t.key))});var r=[];return n.forEach(function(t){e.hl.has(t)||r.push(new wu(t))}),this.hl.forEach(function(t){n.has(t)||r.push(new bu(t))}),r},Su.prototype.Rl=function(t){this.al=t.Pc,this.hl=rr();t=this.dl(t.documents);return this.Ti(t,!0)},Su.prototype.Pl=function(){return hr.Fe(this.query,this._l,this.Ce,0===this.ul)},Su),Eu=function(t,e,n){this.query=t,this.targetId=e,this.view=n},_u=function(t){this.key=t,this.yl=!1},Tu=(Object.defineProperty(Ou.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),Ou);function Ou(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new wo(qe,Fe),this.Dl=new Map,this.Cl=[],this.xl=new Bn(et.J),this.Nl=new Map,this.Fl=new xs,this.Ol={},this.kl=new Map,this.Ml=Co.qi(),this.onlineState="Unknown",this.Ll=void 0}function Su(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=rr(),this.Ce=rr(),this.ll=ze(t),this._l=new ur(this.ll)}function Au(i,o,s,a){return Object(v.b)(this,void 0,void 0,function(){var e,n,r;return Object(v.d)(this,function(t){switch(t.label){case 0:return i.Bl=function(t,e,n){return function(r,i,o,s){return Object(v.b)(this,void 0,void 0,function(){var e,n;return Object(v.d)(this,function(t){switch(t.label){case 0:return(e=i.view.dl(o))._c?[4,As(r.Sh,i.query,!1).then(function(t){t=t.documents;return i.view.dl(t,e)})]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return n=s&&s.Oe.get(i.targetId),n=i.view.Ti(e,r.$l,n),[2,(Mu(r,i.targetId,n.ml),n.snapshot)]}})})}(i,t,e,n)},[4,As(i.Sh,o,!0)];case 1:return n=t.sent(),r=new Iu(o,n.Pc),e=r.dl(n.documents),n=fr.Be(s,a&&"Offline"!==i.onlineState),n=r.Ti(e,i.$l,n),Mu(i,s,n.ml),r=new Eu(o,s,r),[2,(i.Sl.set(o,r),i.Dl.has(s)?i.Dl.get(s).push(o):i.Dl.set(s,[o]),n.snapshot)]}})})}function Nu(f,p,d){return Object(v.b)(this,void 0,void 0,function(){var s,a;return Object(v.d)(this,function(t){switch(t.label){case 0:s=Ku(f),t.label=1;case 1:return t.trys.push([1,5,,6]),[4,(i=s.Sh,u=p,h=i,l=X.now(),o=u.reduce(function(t,e){return t.add(e.key)},rr()),h.persistence.runTransaction("Locally write mutations","readwrite",function(a){return h.Ic.Zo(a,o).next(function(t){c=t;for(var e,n=[],r=0,i=u;r<i.length;r++){var o=i[r],s=(e=o,s=c.get(o.key),void 0!==e.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Ht?e.field(o.field):void 0,s=Ye(o.transform,s||null);null!=s&&(n=(null==n?new Rt:n).set(o.field,s))}return n?n.yt():null}(e.fieldTransforms,s):null);null!=s&&n.push(new On(o.key,s,function s(t){var a=[];return ct(t.fields||{},function(t,e){var n=new tt([t]);if(Pt(e))if(0===(e=s(e.mapValue).fields).length)a.push(n);else for(var r=0,i=e;r<i.length;r++){var o=i[r];a.push(n.child(o))}else a.push(n)}),new lt(a)}(s.proto.mapValue),yn.exists(!0)))}return h.Ho.yi(a,l,n,u)})}).then(function(t){var e=t.Fs(c);return{batchId:t.batchId,ci:e}}))];case 2:return a=t.sent(),s.pl.xa(a.batchId),e=s,n=a.batchId,r=d,i=(i=(i=e.Ol[e.currentUser.R()])||new Bn(E)).Ht(n,r),e.Ol[e.currentUser.R()]=i,[4,Uu(s,a.ci)];case 3:return t.sent(),[4,iu(s.gl)];case 4:return t.sent(),[3,6];case 5:return a=t.sent(),a=yi(a,"Failed to persist write"),d.reject(a),[3,6];case 6:return[2]}var e,n,r,i,u,c,h,l,o})})}function ku(r,i){return Object(v.b)(this,void 0,void 0,function(){var n,e;return Object(v.d)(this,function(t){switch(t.label){case 0:n=r,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,_s(n.Sh,i)];case 2:return e=t.sent(),i.Oe.forEach(function(t,e){e=n.Nl.get(e);e&&(I(t.Ue.size+t.Qe.size+t.Ke.size<=1),0<t.Ue.size?e.yl=!0:0<t.Qe.size?I(e.yl):0<t.Ke.size&&(I(e.yl),e.yl=!1))}),[4,Uu(n,e,i)];case 3:return t.sent(),[3,6];case 4:return[4,bo(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})}function ju(t,n,e){var r,t=t;(t.$l&&0===e||!t.$l&&1===e)&&(r=[],t.Sl.forEach(function(t,e){e=e.view.zh(n);e.snapshot&&r.push(e.snapshot)}),function(t,i){t.onlineState=i;var o=!1;t.queries.forEach(function(t,e){for(var n=0,r=e.listeners;n<r.length;n++)r[n].zh(i)&&(o=!0)}),o&&du(t)}(t.Vl,n),r.length&&t.vl.uh(r),t.onlineState=n,t.$l&&t.pl.Ka(n))}function Cu(s,a,u){return Object(v.b)(this,void 0,void 0,function(){var n,o;return Object(v.d)(this,function(t){switch(t.label){case 0:n=s,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,(e=n.Sh,r=a,(i=e).persistence.runTransaction("Reject batch","readwrite-primary",function(e){var n;return i.Ho.gi(e,r).next(function(t){return I(null!==t),n=t.keys(),i.Ho.Ni(e,t)}).next(function(){return i.Ho.ki(e)}).next(function(){return i.Ic.Zo(e,n)})}))];case 2:return o=t.sent(),xu(n,a,u),Pu(n,a),n.pl.Fa(a,"rejected",u),[4,Uu(n,o)];case 3:return t.sent(),[3,6];case 4:return[4,bo(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}var e,r,i})})}function Du(o,s){return Object(v.b)(this,void 0,void 0,function(){var n,r,i;return Object(v.d)(this,function(t){switch(t.label){case 0:Za((n=o).gl)||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(e=n.Sh).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.bi(t)})];case 2:return-1===(r=t.sent())?[2,void s.resolve()]:((i=n.kl.get(r)||[]).push(s),n.kl.set(r,i),[3,4]);case 3:return i=t.sent(),i=yi(i,"Initialization of waitForPendingWrites() operation failed"),s.reject(i),[3,4];case 4:return[2]}var e})})}function Pu(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function xu(t,e,n){var r=t,i=r.Ol[r.currentUser.R()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i)}function Ru(e,t,n){void 0===n&&(n=null),e.pl.La(t);for(var r=0,i=e.Dl.get(t);r<i.length;r++){var o=i[r];e.Sl.delete(o),n&&e.vl.ql(o,n)}e.Dl.delete(t),e.$l&&e.Fl.kc(t).forEach(function(t){e.Fl.Mi(t)||Lu(e,t)})}function Lu(t,e){var n=t.xl.get(e);null!==n&&(Ja(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Vu(t))}function Mu(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof bu?(t.Fl.ir(o.key,e),function(t,e){e=e.key;t.xl.get(e)||(d("SyncEngine","New document in limbo: "+e),t.Cl.push(e),Vu(t))}(t,o)):o instanceof wu?(d("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||Lu(t,o.key)):m()}}function Vu(t){for(;0<t.Cl.length&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new _u(e)),t.xl=t.xl.Ht(e,n),Wa(t.gl,new Ge(Ve(Ce(e.path)),n,2,q.U))}}function Uu(e,s,a){return Object(v.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(v.d)(this,function(t){switch(t.label){case 0:return r=[],i=[],o=[],(n=e).Sl.nt()?[3,3]:(n.Sl.forEach(function(t,e){o.push(n.Bl(e,s,a).then(function(t){t&&(n.$l&&n.pl.qa(e.targetId,t.fromCache?"not-current":"current"),r.push(t),t=fs.cc(e.targetId,t),i.push(t))}))}),[4,Promise.all(o)]);case 1:return t.sent(),n.vl.uh(r),[4,function(u,c){return Object(v.b)(this,void 0,void 0,function(){var r,e,n,i,o,s,a;return Object(v.d)(this,function(t){switch(t.label){case 0:r=u,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Qr.forEach(c,function(e){return Qr.forEach(e.rc,function(t){return r.persistence.mi.ir(n,e.targetId,t)}).next(function(){return Qr.forEach(e.oc,function(t){return r.persistence.mi.cr(n,e.targetId,t)})})})})];case 2:return t.sent(),[3,4];case 3:if(!ui(e=t.sent()))throw e;return d("LocalStore","Failed to update sequence numbers: "+e),[3,4];case 4:for(n=0,i=c;n<i.length;n++)a=i[n],o=a.targetId,a.fromCache||(s=r.dc.get(o),a=s.Mt,a=s.Bt(a),r.dc=r.dc.Ht(o,a));return[2]}})})}(n.Sh,i)];case 2:t.sent(),t.label=3;case 3:return[2]}})})}function Fu(i,o){return Object(v.b)(this,void 0,void 0,function(){var n,r;return Object(v.d)(this,function(t){switch(t.label){case 0:return(n=i).currentUser.isEqual(o)?[3,3]:(d("SyncEngine","User change. New user:",o.R()),[4,ws(n.Sh,o)]);case 1:return r=t.sent(),n.currentUser=o,(e=n).kl.forEach(function(t){t.forEach(function(t){t.reject(new w(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.kl.clear(),n.pl.Qa(o,r.Ac,r.Rc),[4,Uu(n,r.mc)];case 2:t.sent(),t.label=3;case 3:return[2]}var e})})}function qu(a,u,c,h){return Object(v.b)(this,void 0,void 0,function(){var o,s;return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,(e=(o=a).Sh,n=u,i=(r=e).Ho,r.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return i.Vi(e,n).next(function(t){return t?r.Ic.Zo(e,t):Qr.resolve(null)})}))];case 1:return null===(s=t.sent())?[3,6]:"pending"!==c?[3,3]:[4,iu(o.gl)];case 2:return t.sent(),[3,4];case 3:"acknowledged"===c||"rejected"===c?(xu(o,u,h||null),Pu(o,u),o.Sh.Ho.Fi(u)):m(),t.label=4;case 4:return[4,Uu(o,s)];case 5:return t.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+u),t.label=7;case 7:return[2]}var e,n,r,i})})}function Bu(h,l){return Object(v.b)(this,void 0,void 0,function(){var r,e,i,o,s,a,u,c;return Object(v.d)(this,function(t){switch(t.label){case 0:return Gu(r=h),Ku(r),!0!==l||!0===r.Ll?[3,3]:(e=r.pl.Sa(),[4,Hu(r,e.rt())]);case 1:return i=t.sent(),r.Ll=!0,[4,au(r.gl,!0)];case 2:for(t.sent(),o=0,s=i;o<s.length;o++)a=s[o],Wa(r.gl,a);return[3,7];case 3:return!1!==l||!1===r.Ll?[3,7]:(u=[],c=Promise.resolve(),r.Dl.forEach(function(t,e){r.pl.$a(e)?u.push(e):c=c.then(function(){return Ru(r,e),Ss(r.Sh,e,!0)}),Ja(r.gl,e)}),[4,c]);case 4:return t.sent(),[4,Hu(r,u)];case 5:return t.sent(),(n=r).Nl.forEach(function(t,e){Ja(n.gl,e)}),n.Fl.Mc(),n.Nl=new Map,n.xl=new Bn(et.J),r.Ll=!1,[4,au(r.gl,!1)];case 6:t.sent(),t.label=7;case 7:return[2]}var n})})}function Hu(p,d){return Object(v.b)(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,h,l,f;return Object(v.d)(this,function(t){switch(t.label){case 0:e=p,n=[],r=[],i=0,o=d,t.label=1;case 1:return i<o.length?(s=o[i],a=void 0,(u=e.Dl.get(s))&&0!==u.length?[4,Os(e.Sh,Ve(u[0]))]:[3,7]):[3,13];case 2:a=t.sent(),c=0,h=u,t.label=3;case 3:return c<h.length?(l=h[c],l=e.Sl.get(l),[4,function(r,i){return Object(v.b)(this,void 0,void 0,function(){var e,n;return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,As((e=r).Sh,i.query,!0)];case 1:return n=t.sent(),n=i.view.Rl(n),[2,(e.$l&&Mu(e,i.targetId,n.ml),n)]}})})}(e,l)]):[3,6];case 4:(l=t.sent()).snapshot&&r.push(l.snapshot),t.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,Ns(e.Sh,s)];case 8:return f=t.sent(),[4,Os(e.Sh,f)];case 9:return a=t.sent(),[4,Au(e,zu(f),s,!1)];case 10:t.sent(),t.label=11;case 11:n.push(a),t.label=12;case 12:return i++,[3,1];case 13:return[2,(e.vl.uh(r),n)]}})})}function zu(t){return je(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Gu(t){return t.gl.Ch.Bh=ku.bind(null,t),t.gl.Ch.Sn=function(t,e){var n=t;if((t=n.Nl.get(e))&&t.yl)return rr().add(t.key);var r=rr();if(!(e=n.Dl.get(e)))return r;for(var i=0,o=e;i<o.length;i++)var s=o[i],s=n.Sl.get(s),r=r.ye(s.view.fl);return r}.bind(null,t),t.gl.Ch.$h=function(o,s,a){return Object(v.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(v.d)(this,function(t){switch(t.label){case 0:return(e=o).pl.qa(s,"rejected",a),i=e.Nl.get(s),(n=i&&i.key)?(r=(r=new Bn(et.J)).Ht(n,new zt(n,Y.min())),i=rr().add(n),i=new lr(Y.min(),new Map,new Xn(E),r,i),[4,ku(e,i)]):[3,2];case 1:return t.sent(),e.xl=e.xl.remove(n),e.Nl.delete(s),Vu(e),[3,4];case 2:return[4,Ss(e.Sh,s,!1).then(function(){return Ru(e,s,a)}).catch(bo)];case 3:t.sent(),t.label=4;case 4:return[2]}})})}.bind(null,t),t.vl.uh=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,a=n.queries.get(a);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.Wh=s}}r&&du(n)}.bind(null,t.Vl),t.vl.ql=function(t,e,n){var r=t;if(t=r.queries.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(e)}.bind(null,t.Vl),t}function Ku(t){return t.gl.Ch.qh=function(i,o){return Object(v.b)(this,void 0,void 0,function(){var e,n,r;return Object(v.d)(this,function(t){switch(t.label){case 0:e=i,n=o.batch.batchId,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,Is(e.Sh,o)];case 2:return r=t.sent(),xu(e,n,null),Pu(e,n),e.pl.Fa(n,"acknowledged"),[4,Uu(e,r)];case 3:return t.sent(),[3,6];case 4:return[4,bo(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})}.bind(null,t),t.gl.Ch.Uh=Cu.bind(null,t),t}var Wu,Ju,Xu=(nc.prototype.initialize=function(e){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return this.Kt=ka(e.gu.T),this.pl=this.jl(e),this.persistence=this.Gl(e),[4,this.persistence.start()];case 1:return t.sent(),this.zl=this.Hl(e),this.Sh=this.Jl(e),[2]}})})},nc.prototype.Hl=function(t){return null},nc.prototype.Jl=function(t){return bs(this.persistence,new ps,t.Yl,this.Kt)},nc.prototype.Gl=function(t){return new Fs(Bs.ra,this.Kt)},nc.prototype.jl=function(t){return new ca},nc.prototype.terminate=function(){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}})})},nc),Yu=(Ju=Xu,Object(v.c)(ec,Ju),ec.prototype.initialize=function(e){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,Ju.prototype.initialize.call(this,e)];case 1:return t.sent(),[4,js(this.Sh)];case 2:return t.sent(),[4,this.Xl.initialize(this,e)];case 3:return t.sent(),[4,Ku(this.Xl.fa)];case 4:return t.sent(),[4,iu(this.Xl.gl)];case 5:return t.sent(),[2]}})})},ec.prototype.Jl=function(t){return bs(this.persistence,new ps,t.Yl,this.Kt)},ec.prototype.Hl=function(t){var e=this.persistence.mi.dr;return new Fo(e,t.fs)},ec.prototype.Gl=function(t){var e=hs(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?mo.Zs(this.cacheSizeBytes):mo.ni;return new ss(this.synchronizeTabs,e,t.clientId,n,t.fs,Aa(),Na(),this.Kt,this.pl,!!this.forceOwnership)},ec.prototype.jl=function(t){return new ca},ec),$u=(Wu=Yu,Object(v.c)(tc,Wu),tc.prototype.initialize=function(r){return Object(v.b)(this,void 0,void 0,function(){var e,n=this;return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,Wu.prototype.initialize.call(this,r)];case 1:return t.sent(),e=this.Xl.fa,this.pl instanceof ua?(this.pl.fa={nu:qu.bind(null,e),su:function(i,o,s,a){return Object(v.b)(this,void 0,void 0,function(){var e,n,r;return Object(v.d)(this,function(t){switch(t.label){case 0:return(e=i).Ll?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!e.Dl.has(o))return[3,8];switch(s){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ks(e.Sh)];case 3:return n=t.sent(),r=lr.$e(o,"current"===s),[4,Uu(e,n,r)];case 4:return t.sent(),[3,8];case 5:return[4,Ss(e.Sh,o,!0)];case 6:return t.sent(),Ru(e,o,a),[3,8];case 7:m(),t.label=8;case 8:return[2]}})})}.bind(null,e),iu:function(h,l,f){return Object(v.b)(this,void 0,void 0,function(){var n,e,r,i,o,s,a,u,c;return Object(v.d)(this,function(t){switch(t.label){case 0:if(!(n=Gu(h)).Ll)return[3,10];e=0,r=l,t.label=1;case 1:return e<r.length?(c=r[e],n.Dl.has(c)?(d("SyncEngine","Adding an already active target "+c),[3,5]):[4,Ns(n.Sh,c)]):[3,6];case 2:return i=t.sent(),[4,Os(n.Sh,i)];case 3:return o=t.sent(),[4,Au(n,zu(i),o.targetId,!1)];case 4:t.sent(),Wa(n.gl,o),t.label=5;case 5:return e++,[3,1];case 6:s=function(e){return Object(v.d)(this,function(t){switch(t.label){case 0:return n.Dl.has(e)?[4,Ss(n.Sh,e,!1).then(function(){Ja(n.gl,e),Ru(n,e)}).catch(bo)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},a=0,u=f,t.label=7;case 7:return a<u.length?(c=u[a],[5,s(c)]):[3,10];case 8:t.sent(),t.label=9;case 9:return a++,[3,7];case 10:return[2]}})})}.bind(null,e),Ko:function(t){return t.Sh.persistence.Ko()}.bind(null,e),eu:function(n){return Object(v.b)(this,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){return[2,ks((e=n).Sh).then(function(t){return Uu(e,t)})]})})}.bind(null,e)},[4,this.pl.start()]):[3,3];case 2:t.sent(),t.label=3;case 3:return[4,this.persistence.yo(function(e){return Object(v.b)(n,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,Bu(this.Xl.fa,e)];case 1:return t.sent(),this.zl&&(e&&!this.zl.Ir?this.zl.start(this.Sh):e||this.zl.stop()),[2]}})})})];case 4:return t.sent(),[2]}})})},tc.prototype.jl=function(t){var e=Aa();if(!ua.Wn(e))throw new w(b.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=hs(t.gu.T,t.gu.persistenceKey);return new ua(e,t.fs,n,t.clientId,t.Yl)},tc),Qu=(Zu.prototype.initialize=function(n,r){return Object(v.b)(this,void 0,void 0,function(){var e=this;return Object(v.d)(this,function(t){switch(t.label){case 0:return this.Sh?[3,2]:(this.Sh=n.Sh,this.pl=n.pl,this.Dh=this.Zl(r),this.gl=this.t_(r),this.Vl=this.e_(r),this.fa=this.n_(r,!n.synchronizeTabs),this.pl.da=function(t){return ju(e.fa,t,1)},this.gl.Ch.s_=Fu.bind(null,this.fa),[4,au(this.gl,this.fa.$l)]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},Zu.prototype.e_=function(t){return new hu},Zu.prototype.Zl=function(t){var e=ka(t.gu.T),n=(n=t.gu,new da(n));return t=t.credentials,new Ma(t,n,e)},Zu.prototype.t_=function(t){var e=this,n=this.Sh,r=this.Dh,i=t.fs,o=function(t){return ju(e.fa,t,0)},t=new(la.Wn()?la:ha);return new ja(n,r,i,o,t)},Zu.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){o=new Tu(t,e,n,r,i,o);return s&&(o.Ll=!0),o}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},Zu.prototype.terminate=function(){return function(n){return Object(v.b)(this,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=n,d("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Ka(e)];case 1:return t.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},Zu);function Zu(){}function tc(t,e){var n=this;return(n=Wu.call(this,t,e,!1)||this).Xl=t,n.cacheSizeBytes=e,n.synchronizeTabs=!0,n}function ec(t,e,n){var r=this;return(r=Ju.call(this)||this).Xl=t,r.cacheSizeBytes=e,r.forceOwnership=n,r.synchronizeTabs=!1,r}function nc(){this.synchronizeTabs=!1}var rc=(ac.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},ac.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},ac.prototype.r_=function(){this.muted=!0},ac.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},ac),ic=(sc.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},sc),oc=function(t){this._methodName=t};function sc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new w(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new tt(t)}function ac(t){this.observer=t,this.muted=!1}function uc(t,e,n){if(!n)throw new w(b.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function cc(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new w(b.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function hc(t,e,n,r){if(!0===e&&!0===r)throw new w(b.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function lc(t){if(!et.Et(t))throw new w(b.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function fc(t){if(et.Et(t))throw new w(b.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function pc(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":m();if(t instanceof Array)return"an array";t=function(t){if(t.constructor){t=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(t&&1<t.length)return t[1]}return null}(t);return t?"a custom "+t+" object":"an object"}function dc(t,e){if((t="_delegate"in t?t._:t)instanceof e)return t;if(e.name===t.constructor.name)throw new w(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");t=pc(t);throw new w(b.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}function vc(t,e){if(e<=0)throw new w(b.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var yc,mc=(Ac.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},Ac),gc=new Map,bc=(Object.defineProperty(Sc.prototype,"app",{get:function(){if(!this.A_)throw new w(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(Sc.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(Sc.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),Sc.prototype.g_=function(t){if(this.T_)throw new w(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new mc(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new M;switch(t.type){case"gapi":var e=t.client;return I(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new F(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new w(b.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},Sc.prototype.V_=function(){return this.E_},Sc.prototype.p_=function(){return this.T_=!0,this.E_},Sc.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},Sc.prototype.b_=function(){return(t=gc.get(this))&&(d("ComponentProvider","Removing Datastore"),gc.delete(this),t.terminate()),Promise.resolve();var t},Sc),wc=(Object.defineProperty(Oc.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(Oc.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(Oc.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(Oc.prototype,"parent",{get:function(){return new Ec(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),Oc.prototype.withConverter=function(t){return new Oc(this.firestore,t,this.S_)},Oc),Ic=(Tc.prototype.withConverter=function(t){return new Tc(this.firestore,t,this.C_)},Tc),Ec=(yc=Ic,Object(v.c)(_c,yc),Object.defineProperty(_c.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(_c.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(_c.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new wc(this.firestore,null,new et(t))},enumerable:!1,configurable:!0}),_c.prototype.withConverter=function(t){return new _c(this.firestore,t,this.D_)},_c);function _c(t,e,n){var r=this;return(r=yc.call(this,t,e,Ce(n))||this).firestore=t,r.D_=n,r.type="collection",r}function Tc(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}function Oc(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}function Sc(t,e){this.w_="(lite)",this.E_=new mc({}),this.T_=!1,t instanceof C?(this.I_=t,this.m_=new M):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new w(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new C(t.options.projectId)}(t),this.m_=new V(e))}function Ac(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new w(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new w(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,hc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}function Nc(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof _&&(t=t._),uc("collection","path",e),t instanceof bc)return fc(n=Q.ct.apply(Q,Object(v.g)([e],r))),new Ec(t,null,n);if(!(t instanceof wc||t instanceof Ec))throw new w(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return fc(n=Q.ct.apply(Q,Object(v.g)([t.path],r)).child(Q.ct(e))),new Ec(t.firestore,null,n)}function kc(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof _&&(t=t._),uc("doc","path",e=1===arguments.length?s.t():e),t instanceof bc)return lc(n=Q.ct.apply(Q,Object(v.g)([e],r))),new wc(t,null,new et(n));if(!(t instanceof wc||t instanceof Ec))throw new w(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return lc(n=t.D_.child(Q.ct.apply(Q,Object(v.g)([e],r)))),new wc(t.firestore,t instanceof Ec?t.v_:null,new et(n))}function jc(t,e){return t instanceof _&&(t=t._),e instanceof _&&(e=e._),(t instanceof wc||t instanceof Ec)&&(e instanceof wc||e instanceof Ec)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Cc(t,e){return t instanceof _&&(t=t._),e instanceof _&&(e=e._),t instanceof Ic&&e instanceof Ic&&t.firestore===e.firestore&&Fe(t.C_,e.C_)&&t.v_===e.v_}var Dc=(Object.defineProperty(Vc.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(Vc.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),Vc.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},Vc.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},Vc.prototype.K=function(t){return E(this.x_,t.x_)||E(this.N_,t.N_)},Vc),Pc=/^__.*__$/,xc=(Mc.prototype.F_=function(t,e){return null!==this.zt?new On(t,this.data,this.zt,e,this.fieldTransforms):new Tn(t,this.data,e,this.fieldTransforms)},Mc),Rc=(Lc.prototype.F_=function(t,e){return new On(t,this.data,this.zt,e,this.fieldTransforms)},Lc);function Lc(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}function Mc(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}function Vc(t,e){if(!isFinite(t)||t<-90||90<t)throw new w(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new w(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}function Uc(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw m()}}var Fc=(Object.defineProperty(Hc.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(Hc.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),Hc.prototype.M_=function(t){return new Hc(Object.assign(Object.assign({},this.settings),t),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},Hc.prototype.L_=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t),e=this.M_({path:e,B_:!1});return e.q_(t),e},Hc.prototype.U_=function(t){var e,t=null===(e=this.path)||void 0===e?void 0:e.child(t),t=this.M_({path:t,B_:!1});return t.O_(),t},Hc.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},Hc.prototype.K_=function(t){return gh(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},Hc.prototype.contains=function(e){return void 0!==this.zt.find(function(t){return e.st(t)})||void 0!==this.fieldTransforms.find(function(t){return e.st(t.field)})},Hc.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},Hc.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Uc(this.k_)&&Pc.test(t))throw this.K_('Document fields cannot begin and end with "__"')},Hc),qc=(Bc.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Fc({k_:t,methodName:e,j_:n,path:tt.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},Bc);function Bc(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||ka(t)}function Hc(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}function zc(t){var e=t.p_(),n=ka(t.I_);return new qc(t.I_,!!e.ignoreUndefinedProperties,n)}function Gc(t,e,n,r,i,o){var s=t.G_((o=void 0===o?{}:o).merge||o.mergeFields?2:0,e,n,i);dh("Data must be an object, but it was:",s,r);var a,u,r=fh(r,s);if(o.merge)a=new lt(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,l=o.mergeFields;h<l.length;h++){var f=vh(e,l[h],n);if(!s.contains(f))throw new w(b.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");bh(c,f)||c.push(f)}a=new lt(c),u=s.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=s.fieldTransforms;return new xc(new xt(r),a,u)}var Kc,Wc=(Kc=oc,Object(v.c)(Jc,Kc),Jc.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},Jc.prototype.isEqual=function(t){return t instanceof Jc},Jc);function Jc(){return null!==Kc&&Kc.apply(this,arguments)||this}function Xc(t,e,n){return new Fc({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Yc,$c,Qc,Zc,th=(Zc=oc,Object(v.c)(ah,Zc),ah.prototype.z_=function(t){return new vn(t.path,new Ze)},ah.prototype.isEqual=function(t){return t instanceof ah},ah),eh=(Qc=oc,Object(v.c)(sh,Qc),sh.prototype.z_=function(t){var e=Xc(this,t,!0),n=this.H_.map(function(t){return lh(t,e)}),n=new tn(n);return new vn(t.path,n)},sh.prototype.isEqual=function(t){return this===t},sh),nh=($c=oc,Object(v.c)(oh,$c),oh.prototype.z_=function(t){var e=Xc(this,t,!0),n=this.H_.map(function(t){return lh(t,e)}),n=new sn(n);return new vn(t.path,n)},oh.prototype.isEqual=function(t){return this===t},oh),rh=(Yc=oc,Object(v.c)(ih,Yc),ih.prototype.z_=function(t){var e=new hn(t.Kt,Xe(t.Kt,this.J_));return new vn(t.path,e)},ih.prototype.isEqual=function(t){return this===t},ih);function ih(t,e){var n=this;return(n=Yc.call(this,t)||this).J_=e,n}function oh(t,e){var n=this;return(n=$c.call(this,t)||this).H_=e,n}function sh(t,e){var n=this;return(n=Qc.call(this,t)||this).H_=e,n}function ah(){return null!==Zc&&Zc.apply(this,arguments)||this}function uh(t,r,i,e){var o=t.G_(1,r,i);dh("Data must be an object, but it was:",o,e);var s=[],a=new Rt;ct(e,function(t,e){var n=mh(r,t,i);e instanceof _&&(e=e._);t=o.U_(n);e instanceof Wc?s.push(n):null!=(t=lh(e,t))&&(s.push(n),a.set(n,t))});e=new lt(s);return new Rc(a.yt(),e,o.fieldTransforms)}function ch(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[vh(e,r,n)],u=[i];if(o.length%2!=0)throw new w(b.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(vh(e,o[c])),u.push(o[c+1]);for(var h,l,f,p=[],d=new Rt,v=a.length-1;0<=v;--v)bh(p,a[v])||(h=a[v],(l=u[v])instanceof _&&(l=l._),f=s.U_(h),l instanceof Wc?p.push(h):null!=(f=lh(l,f))&&(p.push(h),d.set(h,f)));i=new lt(p);return new Rc(d.yt(),i,s.fieldTransforms)}function hh(t,e,n,r){return lh(n,t.G_((r=void 0===r?!1:r)?4:3,e))}function lh(s,t){if(ph(s=s instanceof _?s._:s))return dh("Unsupported field value:",t,s),fh(s,t);if(s instanceof oc)return function(t,e){if(!Uc(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");t=t.z_(e);t&&e.fieldTransforms.push(t)}(s,t),null;if(t.path&&t.zt.push(t.path),s instanceof Array){if(t.settings.B_&&4!==t.k_)throw t.K_("Nested arrays are not supported");return function(t){for(var e=[],n=0,r=0,i=s;r<i.length;r++){var o=lh(i[r],t.Q_(n));null==o&&(o={nullValue:"NULL_VALUE"}),e.push(o),n++}return{arrayValue:{values:e}}}(t)}return function(t,e){if(null===(t=t instanceof _?t._:t))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xe(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=X.fromDate(t);return{timestampValue:Ar(e.Kt,n)}}if(t instanceof X)return n=new X(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ar(e.Kt,n)};if(t instanceof Dc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof u)return{bytesValue:Nr(e.Kt,t.l)};if(t instanceof wc){var n=e.T,r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:jr(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+pc(t))}(s,t)}function fh(t,n){var r={};return ht(t)?n.path&&0<n.path.length&&n.zt.push(n.path):ct(t,function(t,e){e=lh(e,n.L_(t));null!=e&&(r[t]=e)}),{mapValue:{fields:r}}}function ph(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof X||t instanceof Dc||t instanceof u||t instanceof wc||t instanceof oc)}function dh(t,e,n){if(!ph(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){n=pc(n);throw"an object"===n?e.K_(t+" a custom object"):e.K_(t+" "+n)}var r}function vh(t,e,n){if((e=e instanceof _?e._:e)instanceof ic)return e.d_;if("string"==typeof e)return mh(t,e);throw gh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var yh=new RegExp("[~\\*/\\[\\]]");function mh(e,n,r){if(0<=n.search(yh))throw gh("Invalid field path ("+n+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,r);try{return(new(ic.bind.apply(ic,Object(v.g)([void 0],n.split("."))))).d_}catch(t){throw gh("Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,r)}}function gh(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,e="Function "+e+"() called with invalid data";n&&(e+=" (via `toFirestore()`)");n="";return(o||s)&&(n+=" (found",o&&(n+=" in field "+r),s&&(n+=" in document "+i),n+=")"),new w(b.INVALID_ARGUMENT,(e+=". ")+t+n)}function bh(t,e){return t.some(function(t){return t.isEqual(e)})}var wh=(Oh.prototype.ef=function(r){return Object(v.b)(this,void 0,void 0,function(){var e,n=this;return Object(v.d)(this,function(t){switch(t.label){case 0:if(this.nf(),0<this.mutations.length)throw new w(b.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return Object(v.b)(this,void 0,void 0,function(){var n,e,r,i,o;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=Lr((n=s).Kt)+"/documents",r={documents:a.map(function(t){return Dr(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",e,r)];case 1:return r=t.sent(),i=new Map,r.forEach(function(t){var e,t=(e=n.Kt,"found"in(t=t)?function(t,e){I(!!e.found),e.found.name,e.found.updateTime;var n=Pr(t,e.found.name),t=kr(e.found.updateTime),e=new xt({mapValue:{fields:e.found.fields}});return new Ht(n,t,e,{})}(e,t):"missing"in t?function(t,e){I(!!e.missing),I(!!e.readTime);t=Pr(t,e.missing),e=kr(e.readTime);return new zt(t,e)}(e,t):m());i.set(t.key.toString(),t)}),o=[],[2,(a.forEach(function(t){t=i.get(t.toString());I(!!t),o.push(t)}),o)]}})})}(this.Dh,r)];case 1:return[2,((e=t.sent()).forEach(function(t){t instanceof zt||t instanceof Ht?n.sf(t):m()}),e)]}})})},Oh.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},Oh.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},Oh.prototype.delete=function(t){this.write(new Ln(t,this.Gt(t))),this.tf.add(t.toString())},Oh.prototype.commit=function(){return Object(v.b)(this,void 0,void 0,function(){var e,n=this;return Object(v.d)(this,function(t){switch(t.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return e=this.Y_,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(t,e){e=et.ft(e);n.mutations.push(new Mn(e,n.Gt(e)))}),[4,function(i,o){return Object(v.b)(this,void 0,void 0,function(){var e,n,r;return Object(v.d)(this,function(t){switch(t.label){case 0:return n=Lr((e=i).Kt)+"/documents",r={writes:o.map(function(t){return Fr(e.Kt,t)})},[4,e.bu("Commit",n,r)];case 1:return t.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return t.sent(),this.X_=!0,[2]}})})},Oh.prototype.sf=function(t){var e;if(t instanceof Ht)e=t.version;else{if(!(t instanceof zt))throw m();e=Y.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new w(b.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},Oh.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?yn.updateTime(e):yn.Wt()},Oh.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(this.tf.has(t.toString())||!e)return yn.exists(!0);if(e.isEqual(Y.min()))throw new w(b.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yn.updateTime(e)},Oh.prototype.write=function(t){this.nf(),this.mutations.push(t)},Oh.prototype.nf=function(){},Oh),Ih=(Th.prototype.run=function(){this.af()},Th.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(v.b)(t,void 0,void 0,function(){var e,n,r=this;return Object(v.d)(this,function(t){return e=new wh(this.Dh),(n=this.uf(e))&&n.then(function(t){r.fs.ys(function(){return e.commit().then(function(){r.Ts.resolve(t)}).catch(function(t){r.hf(t)})})}).catch(function(t){r.hf(t)}),[2]})})})},Th.prototype.uf=function(t){try{var e=this.updateFunction(t);return!bt(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},Th.prototype.hf=function(t){var e=this;0<this.cf&&this.lf(t)?(--this.cf,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},Th.prototype.lf=function(t){if("FirebaseError"!==t.name)return!1;t=t.code;return"aborted"===t||"failed-precondition"===t||!Fn(t)},Th),Eh=(_h.prototype.getConfiguration=function(){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},_h.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},_h.prototype.df=function(){if(this.fs.wf)throw new w(b.FAILED_PRECONDITION,"The client has already been terminated.")},_h.prototype.terminate=function(){var t=this;this.fs.Ef();var n=new Yr;return this.fs.Tf(function(){return Object(v.b)(t,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return t.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:t.sent(),t.label=4;case 4:return this.credentials.D(),n.resolve(),[3,6];case 5:return e=t.sent(),e=yi(e,"Failed to shutdown persistence"),n.reject(e),[3,6];case 6:return[2]}})})}),n.promise},_h);function _h(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=D.UNAUTHENTICATED,this.clientId=s.t(),this._f=function(){},this.N=new Yr,this.credentials.S(function(t){d("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}function Th(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new xa(this.fs,"transaction_retry")}function Oh(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}function Sh(i,o){return Object(v.b)(this,void 0,void 0,function(){var e,n,r=this;return Object(v.d)(this,function(t){switch(t.label){case 0:return i.fs.Af(),d("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return e=t.sent(),[4,o.initialize(e)];case 2:return t.sent(),n=e.Yl,i.ff(function(e){n.isEqual(e)||(n=e,i.fs.vo(function(){return Object(v.b)(r,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,ws(o.Sh,e)];case 1:return t.sent(),[2]}})})}))}),o.persistence.Vo(function(){return i.terminate()}),i.mf=o,[2]}})})}function Ah(r,i){return Object(v.b)(this,void 0,void 0,function(){var e,n;return Object(v.d)(this,function(t){switch(t.label){case 0:return r.fs.Af(),[4,Nh(r)];case 1:return e=t.sent(),d("FirestoreClient","Initializing OnlineComponentProvider"),[4,r.getConfiguration()];case 2:return n=t.sent(),[4,i.initialize(e,n)];case 3:return t.sent(),r.ff(function(t){return r.fs.vo(function(){return function(r,i){return Object(v.b)(this,void 0,void 0,function(){var e,n;return Object(v.d)(this,function(t){switch(t.label){case 0:return(e=r).fs.Af(),d("RemoteStore","RemoteStore received new credentials"),n=Za(e),e.Fh.add(3),[4,Ka(e)];case 1:return t.sent(),n&&e.Mh.set("Unknown"),[4,e.Ch.s_(i)];case 2:return t.sent(),e.Fh.delete(3),[4,Ga(e)];case 3:return t.sent(),[2]}})})}(i.gl,t)})}),r.If=i,[2]}})})}function Nh(e){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return e.mf?[3,2]:(d("FirestoreClient","Using default OfflineComponentProvider"),[4,Sh(e,new Xu)]);case 1:t.sent(),t.label=2;case 2:return[2,e.mf]}})})}function kh(e){return Object(v.b)(this,void 0,void 0,function(){return Object(v.d)(this,function(t){switch(t.label){case 0:return e.If?[3,2]:(d("FirestoreClient","Using default OnlineComponentProvider"),[4,Ah(e,new Qu)]);case 1:t.sent(),t.label=2;case 2:return[2,e.If]}})})}function jh(t){return Nh(t).then(function(t){return t.persistence})}function Ch(t){return Nh(t).then(function(t){return t.Sh})}function Dh(t){return kh(t).then(function(t){return t.gl})}function Ph(t){return kh(t).then(function(t){return t.fa})}function xh(r){return Object(v.b)(this,void 0,void 0,function(){var e,n;return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,kh(r)];case 1:return e=t.sent(),[2,((n=e.Vl).Gh=function(s,a){return Object(v.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=Gu(s),(o=e.Sl.get(a))?(n=o.targetId,e.pl.ka(n),r=o.view.Pl(),[3,4]):[3,1];case 1:return[4,Os(e.Sh,Ve(a))];case 2:return i=t.sent(),o=e.pl.ka(i.targetId),n=i.targetId,[4,Au(e,a,n,"current"===o)];case 3:r=t.sent(),e.$l&&Wa(e.gl,i),t.label=4;case 4:return[2,r]}})})}.bind(null,e.fa),n.Jh=function(i,o){return Object(v.b)(this,void 0,void 0,function(){var e,n,r;return Object(v.d)(this,function(t){switch(t.label){case 0:return n=(e=i).Sl.get(o),1<(r=e.Dl.get(n.targetId)).length?[2,(e.Dl.set(n.targetId,r.filter(function(t){return!Fe(t,o)})),void e.Sl.delete(o))]:e.$l?(e.pl.La(n.targetId),e.pl.Ca(n.targetId)?[3,2]:[4,Ss(e.Sh,n.targetId,!1).then(function(){e.pl.Ba(n.targetId),Ja(e.gl,n.targetId),Ru(e,n.targetId)}).catch(bo)]):[3,3];case 1:t.sent(),t.label=2;case 2:return[3,5];case 3:return Ru(e,n.targetId),[4,Ss(e.Sh,n.targetId,!0)];case 4:t.sent(),t.label=5;case 5:return[2]}})})}.bind(null,e.fa),n)]}})})}function Rh(n,r,i){var t=this;void 0===i&&(i={});var o=new Yr;return n.fs.ys(function(){return Object(v.b)(t,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=function(n,r,i,o,s){var t=new rc({next:function(t){r.ys(function(){return pu(n,a)});var e=t.docs.has(i);!e&&t.fromCache?s.reject(new w(b.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&o&&"server"===o.source?s.reject(new w(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(t)},error:function(t){return s.reject(t)}}),a=new vu(Ce(i.path),t,{includeMetadataChanges:!0,sl:!0});return fu(n,a)},[4,xh(n)];case 1:return[2,e.apply(void 0,[t.sent(),n.fs,r,i,o])]}})})}),o.promise}function Lh(n,r,i){var t=this;void 0===i&&(i={});var o=new Yr;return n.fs.ys(function(){return Object(v.b)(t,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=function(e,n,t,r,i){var o=new rc({next:function(t){n.ys(function(){return pu(e,s)}),t.fromCache&&"server"===r.source?i.reject(new w(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}}),s=new vu(t,o,{includeMetadataChanges:!0,sl:!0});return fu(e,s)},[4,xh(n)];case 1:return[2,e.apply(void 0,[t.sent(),n.fs,r,i,o])]}})})}),o.promise}var Mh,Vh=(Object.defineProperty(Bh.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),Bh.prototype.ys=function(t){this.enqueue(t)},Bh.prototype.Tf=function(t){this.Sf(),this.Df(t)},Bh.prototype.Ef=function(){var t;this.yf||(this.yf=!0,(t=Na())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf))},Bh.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},Bh.prototype.vo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},Bh.prototype.Cf=function(){return Object(v.b)(this,void 0,void 0,function(){var e,n=this;return Object(v.d)(this,function(t){switch(t.label){case 0:if(0===this.Pf.length)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return t.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!ui(e=t.sent()))throw e;return d("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:0<this.Pf.length&&this.zu.Bu(function(){return n.Cf()}),t.label=5;case 5:return[2]}})})},Bh.prototype.Df=function(t){var r=this,e=this.Rf.then(function(){return r.pf=!0,t().catch(function(t){throw r.Vf=t,r.pf=!1,l("INTERNAL UNHANDLED ERROR: ",(n=(e=t).message||"",n=e.stack?e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack:n)),t;var e,n}).then(function(t){return r.pf=!1,t})});return this.Rf=e},Bh.prototype.mr=function(t,e,n){var r=this;this.Sf(),-1<this.bf.indexOf(t)&&(e=0);n=di.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(n),n},Bh.prototype.Sf=function(){this.Vf&&m()},Bh.prototype.Af=function(){},Bh.prototype.Nf=function(){return Object(v.b)(this,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,e=this.Rf];case 1:t.sent(),t.label=2;case 2:if(e!==this.Rf)return[3,0];t.label=3;case 3:return[2]}})})},Bh.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},Bh.prototype.Of=function(r){var i=this;return this.Nf().then(function(){i.gf.sort(function(t,e){return t.ws-e.ws});for(var t=0,e=i.gf;t<e.length;t++){var n=e[t];if(n.Ps(),"all"!==r&&n.ds===r)break}return i.Nf()})},Bh.prototype.kf=function(t){this.bf.push(t)},Bh.prototype.xf=function(t){t=this.gf.indexOf(t);this.gf.splice(t,1)},Bh),Uh=-1,Fh=(Mh=bc,Object(v.c)(qh,Mh),qh.prototype.b_=function(){return this.Lf||zh(this),this.Lf.terminate()},qh);function qh(t,e){var n=this;return(n=Mh.call(this,t,e)||this).Mf=new Vh,n.w_="name"in t?t.name:"[DEFAULT]",n}function Bh(){var e=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new xa(this,"async_queue_retry"),this.vf=function(){var t=Na();t&&d("AsyncQueue","Visibility state changed to "+t.visibilityState),e.zu.Uu()};var t=Na();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.vf)}function Hh(t){return t.Lf||zh(t),t.Lf.df(),t.Lf}function zh(t){var e,n,r=t.p_(),r=(e=t.I_,n=t.w_,new N(e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling));t.Lf=new Eh(t.m_,t.Mf,r)}function Gh(n,r,i){var t=this,o=new Yr;return n.fs.enqueue(function(){return Object(v.b)(t,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,Sh(n,i)];case 1:return t.sent(),[4,Ah(n,r)];case 2:return t.sent(),o.resolve(),[3,4];case 3:if(!("FirebaseError"===(e=t.sent()).name?e.code===b.FAILED_PRECONDITION||e.code===b.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),o.reject(e),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function Kh(t){if(t.R_||t.P_)throw new w(b.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wh,Bt=(Qh.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Et(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vt(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(yt(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw m()}},Qh.prototype.jf=function(t,n){var r=this,i={};return ct(t.fields||{},function(t,e){i[t]=r.$f(e,n)}),i},Qh.prototype.Kf=function(t){return new Dc(vt(t.latitude),vt(t.longitude))},Qh.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},Qh.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){e=e.mapValue.fields.__previous_value__;return mt(e)?t(e):e}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(gt(t));default:return null}},Qh.prototype.Bf=function(t){t=dt(t);return new X(t.seconds,t.nanos)},Qh.prototype.Gf=function(t,e){var n=Q.ct(t);I(Xr(n));t=new C(n.get(1),n.get(3)),n=new et(n.X(5));return t.isEqual(e)||l("Document "+n+" contains a document reference within a different database ("+t.projectId+"/"+t.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),n},Qh),Jh=(Object.defineProperty($h.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty($h.prototype,"ref",{get:function(){return new wc(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),$h.prototype.exists=function(){return null!==this.Jf},$h.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Xh(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},$h.prototype.get=function(t){if(this.Jf){t=this.Jf.data().field(Zh("DocumentSnapshot.get",t));if(null!==t)return this.Hf.$f(t)}},$h),Xh=(Wh=Jh,Object(v.c)(Yh,Wh),Yh.prototype.data=function(){return Wh.prototype.data.call(this)},Yh);function Yh(){return null!==Wh&&Wh.apply(this,arguments)||this}function $h(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}function Qh(){}function Zh(t,e){return"string"==typeof e?mh(t,e):(e instanceof _?e._:e).d_}function tl(t){if(Pe(t)&&0===t.Nt.length)throw new w(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}$=function(){};function el(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)t=i[r].Yf(t);return t}var nl,rl,il,ol,sl,al=(sl=$,Object(v.c)(yl,sl),yl.prototype.Yf=function(t){var e=zc(t.firestore),e=function(t,e,n,r,i,o){if(r.ht()){if("array-contains"===i||"array-contains-any"===i)throw new w(b.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){bl(o,i);for(var s=[],a=0,u=o;a<u.length;a++){var c=u[a];s.push(gl(n,t,c))}h={arrayValue:{values:s}}}else h=gl(n,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||bl(o,i),h=hh(e,"where",o,"in"===i||"not-in"===i);var h=re.create(r,i,h);return function(t,e){if(e.xt()){var n=Re(t);if(null!==n&&!n.isEqual(e.field))throw new w(b.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");n=xe(t);null!==n&&wl(0,e.field,n)}t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==t)throw t===e.op?new w(b.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new w(b.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+t.toString()+"' filters.")}(t,h),h}(t.C_,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Ic(t.firestore,t.v_,(t=t.C_,e=t.filters.concat([e]),new ke(t.path,t.collectionGroup,t.Nt.slice(),e,t.limit,t.limitType,t.startAt,t.endAt)))},yl),ul=(ol=$,Object(v.c)(vl,ol),vl.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new w(b.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new w(b.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Se(e,n);return e=r,null!==xe(n=t)||null!==(t=Re(n))&&wl(0,t,e.field),r}(t.C_,this.Xf,this.ed);return new Ic(t.firestore,t.v_,(t=t.C_,e=t.Nt.concat([e]),new ke(t.path,t.collectionGroup,e,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},vl),cl=(il=$,Object(v.c)(dl,il),dl.prototype.Yf=function(t){return new Ic(t.firestore,t.v_,Ue(t.C_,this.nd,this.sd))},dl),hl=(rl=$,Object(v.c)(pl,rl),pl.prototype.Yf=function(t){var e=ml(t,this.type,this.rd,this.od);return new Ic(t.firestore,t.v_,(t=t.C_,e=e,new ke(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)))},pl),ll=(nl=$,Object(v.c)(fl,nl),fl.prototype.Yf=function(t){var e=ml(t,this.type,this.rd,this.od);return new Ic(t.firestore,t.v_,(t=t.C_,e=e,new ke(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)))},fl);function fl(t,e,n){var r=this;return(r=nl.call(this)||this).type=t,r.rd=e,r.od=n,r}function pl(t,e,n){var r=this;return(r=rl.call(this)||this).type=t,r.rd=e,r.od=n,r}function dl(t,e,n){var r=this;return(r=il.call(this)||this).type=t,r.nd=e,r.sd=n,r}function vl(t,e){var n=this;return(n=ol.call(this)||this).Xf=t,n.ed=e,n.type="orderBy",n}function yl(t,e,n){var r=this;return(r=sl.call(this)||this).Xf=t,r.Zf=e,r.td=n,r.type="where",r}function ml(t,c,e,n){if(e[0]instanceof _&&(e[0]=e[0]._),e[0]instanceof Jh)return function(t,e,n,r){if(!n)throw new w(b.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var i=[],o=0,s=Me(t);o<s.length;o++){var a=s[o];if(a.field.ht())i.push(Nt(e,n.key));else{var u=n.field(a.field);if(mt(u))throw new w(b.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){a=a.field.ot();throw new w(b.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}i.push(u)}}return new we(i,r)}(t.C_,t.firestore.I_,e[0].Jf,n);var r=zc(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new w(b.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new w(b.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Le(t)&&-1!==c.indexOf("/"))throw new w(b.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(Q.ct(c));if(!et.Et(h))throw new w(b.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");h=new et(h);a.push(Nt(e,h))}else{c=hh(n,r,c);a.push(c)}}return new we(a,o)}(t.C_,t.firestore.I_,r,c,e,n)}function gl(t,e,n){if("string"==typeof(n=n instanceof _?n._:n)){if(""===n)throw new w(b.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Le(e)&&-1!==n.indexOf("/"))throw new w(b.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");e=e.path.child(Q.ct(n));if(!et.Et(e))throw new w(b.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Nt(t,new et(e))}if(n instanceof wc)return Nt(t,n.S_);throw new w(b.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+pc(n)+".")}function bl(t,e){if(!Array.isArray(t)||0===t.length)throw new w(b.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new w(b.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function wl(t,e,n){if(!n.isEqual(e))throw new w(b.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Il(i){return function(){if("object"==typeof i&&null!==i)for(var t=i,e=0,n=["next","error","complete"];e<n.length;e++){var r=n[e];if(r in t&&"function"==typeof t[r])return 1}}()}function El(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _l,Tl,Ol,Sl=(Ol=Bt,Object(v.c)(Rl,Ol),Rl.prototype.Uf=function(t){return new u(t)},Rl.prototype.Qf=function(t){t=this.Gf(t,this.firestore.I_);return new wc(this.firestore,null,t)},Rl),Al=(xl.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},xl),Nl=(Tl=Jh,Object(v.c)(Pl,Tl),Pl.prototype.exists=function(){return Tl.prototype.exists.call(this)},Pl.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new kl(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},Pl.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){t=this.Jf.data().field(Zh("DocumentSnapshot.get",t));if(null!==t)return this.Hf.$f(t,e.serverTimestamps)}},Pl),kl=(_l=Nl,Object(v.c)(Dl,_l),Dl.prototype.data=function(t){return _l.prototype.data.call(this,t=void 0===t?{}:t)},Dl),jl=(Object.defineProperty(Cl.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(Cl.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(Cl.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),Cl.prototype.forEach=function(e,n){var r=this;this.ud.docs.forEach(function(t){e.call(n,new kl(r.zf,r.Hf,t.key,t,new Al(r.ud.Ce.has(t.key),r.ud.fromCache),r.query.v_))})},Cl.prototype.docChanges=function(t){t=!!(t=void 0===t?{}:t).includeMetadataChanges;if(t&&this.ud.Ne)throw new w(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===t||(this.hd=function(i,e){if(i.ud.De.nt()){var n=0;return i.ud.docChanges.map(function(t){var e=new kl(i.zf,i.Hf,t.doc.key,t.doc,new Al(i.ud.Ce.has(t.doc.key),i.ud.fromCache),i.query.v_);return t.doc,{type:"added",doc:e,oldIndex:-1,newIndex:n++}})}var o=i.ud.De;return i.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(t){var e=new kl(i.zf,i.Hf,t.doc.key,t.doc,new Al(i.ud.Ce.has(t.doc.key),i.ud.fromCache),i.query.v_),n=-1,r=-1;return 0!==t.type&&(n=o.indexOf(t.doc.key),o=o.delete(t.doc.key)),1!==t.type&&(r=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return m()}}(t.type),doc:e,oldIndex:n,newIndex:r}})}(this,t),this.ld=t),this.hd},Cl);function Cl(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Al(r.hasPendingWrites,r.fromCache),this.query=n}function Dl(){return null!==_l&&_l.apply(this,arguments)||this}function Pl(t,e,n,r,i,o){var s=this;return(s=Tl.call(this,t,e,n,r,o)||this).zf=t,s.ad=t,s.metadata=i,s}function xl(t,e){this.hasPendingWrites=t,this.fromCache=e}function Rl(t){var e=this;return(e=Ol.call(this)||this).firestore=t,e}function Ll(t,e){return t instanceof Nl&&e instanceof Nl?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof jl&&e instanceof jl&&t.zf===e.zf&&Cc(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Ml,Vl=(Ml=Bt,Object(v.c)(Ul,Ml),Ul.prototype.Uf=function(t){return new u(t)},Ul.prototype.Qf=function(t){t=this.Gf(t,this.firestore.I_);return new wc(this.firestore,null,t)},Ul);function Ul(t){var e=this;return(e=Ml.call(this)||this).firestore=t,e}function Fl(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=dc(t,wc);var o=dc(t.firestore,Fh),s=zc(o);return Bl(o,[("string"==typeof(e=e instanceof _?e._:e)||e instanceof ic?ch(s,"updateDoc",t.S_,e,n,r):uh(s,"updateDoc",t.S_,e)).F_(t.S_,yn.exists(!0))])}function ql(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e instanceof _&&(e=e._);var r={includeMetadataChanges:!1},i=0;"object"!=typeof n[i]||Il(n[i])||(r=n[i],i++);var o,s,a,u,c,h,l={includeMetadataChanges:r.includeMetadataChanges};return Il(n[i])&&(o=n[i],n[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),n[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),n[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),e instanceof wc?(a=dc(e.firestore,Fh),u=Ce(e.S_.path),h={next:function(t){n[i]&&n[i](Hl(a,e,t))},error:n[i+1],complete:n[i+2]}):(s=dc(e,Ic),a=dc(s.firestore,Fh),u=s.C_,c=new Vl(a),h={next:function(t){n[i]&&n[i](new jl(a,c,s,t))},error:n[i+1],complete:n[i+2]},tl(e.C_)),function(n,t,e){var r=this,i=new rc(h),o=new vu(t,i,e);return n.fs.ys(function(){return Object(v.b)(r,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=fu,[4,xh(n)];case 1:return[2,e.apply(void 0,[t.sent(),o])]}})})}),function(){i.r_(),n.fs.ys(function(){return Object(v.b)(r,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=pu,[4,xh(n)];case 1:return[2,e.apply(void 0,[t.sent(),o])]}})})})}}(Hh(a),u,l)}function Bl(t,e){return function(n,r){var t=this,i=new Yr;return n.fs.ys(function(){return Object(v.b)(t,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=Nu,[4,Ph(n)];case 1:return[2,e.apply(void 0,[t.sent(),r,i])]}})})}),i.promise}(Hh(t),e)}function Hl(t,e,n){var r=n.docs.get(e.S_),i=new Vl(t);return new Nl(t,i,e.S_,r,new Al(n.hasPendingWrites,n.fromCache),e.v_)}var zl=(Gl.prototype.set=function(t,e,n){this.Ed();t=Kl(t,this.zf),e=El(t.v_,e,n),n=Gc(this.wd,"WriteBatch.set",t.S_,e,null!==t.v_,n);return this.fd.push(n.F_(t.S_,yn.Wt())),this},Gl.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();t=Kl(t,this.zf),e="string"==typeof(e=e instanceof _?e._:e)||e instanceof ic?ch(this.wd,"WriteBatch.update",t.S_,e,n,r):uh(this.wd,"WriteBatch.update",t.S_,e);return this.fd.push(e.F_(t.S_,yn.exists(!0))),this},Gl.prototype.delete=function(t){this.Ed();t=Kl(t,this.zf);return this.fd=this.fd.concat(new Ln(t.S_,yn.Wt())),this},Gl.prototype.commit=function(){return this.Ed(),this.dd=!0,0<this.fd.length?this._d(this.fd):Promise.resolve()},Gl.prototype.Ed=function(){if(this.dd)throw new w(b.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Gl);function Gl(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=zc(t)}function Kl(t,e){if((t=t instanceof _?t._:t).firestore!==e)throw new w(b.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Wl,Jl,Xl,Yl=(of.prototype.get=function(t){var e=this,n=Kl(t,this.zf),r=new Sl(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return m();t=t[0];if(t instanceof zt)return new Jh(e.zf,r,n.S_,null,n.v_);if(t instanceof Ht)return new Jh(e.zf,r,t.key,t,n.v_);throw m()})},of.prototype.set=function(t,e,n){t=Kl(t,this.zf),e=El(t.v_,e,n),n=Gc(this.wd,"Transaction.set",t.S_,e,null!==t.v_,n);return this.Td.set(t.S_,n),this},of.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Kl(t,this.zf),e="string"==typeof(e=e instanceof _?e._:e)||e instanceof ic?ch(this.wd,"Transaction.update",t.S_,e,n,r):uh(this.wd,"Transaction.update",t.S_,e);return this.Td.update(t.S_,e),this},of.prototype.delete=function(t){t=Kl(t,this.zf);return this.Td.delete(t.S_),this},Xl=of,Object(v.c)(rf,Xl),rf.prototype.get=function(t){var e=this,n=Kl(t,this.zf),r=new Vl(this.zf);return Xl.prototype.get.call(this,t).then(function(t){return new Nl(e.zf,r,n.S_,t.Jf,new Al(!1,!1),n.v_)})},rf),$l=(nf.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Kh(t=dc(t,Fh));var n=Hh(t),r=t.p_(),t=new Qu;return Gh(n,t,new Yu(t,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},nf.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Kh(t=dc(t,Fh));var e=Hh(t),n=t.p_(),t=new Qu;return Gh(e,t,new $u(t,n.cacheSizeBytes))}(t._)},nf.prototype.clearIndexedDbPersistence=function(t){return function(n){var t=this;if(n.R_&&!n.P_)throw new w(b.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var r=new Yr;return n.Mf.Tf(function(){return Object(v.b)(t,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,function(n){return Object(v.b)(this,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return ti.Wn()?(e=n+"main",[4,ti.delete(e)]):[2,Promise.resolve()];case 1:return t.sent(),[2]}})})}(hs(n.I_,n.w_))];case 1:return t.sent(),r.resolve(),[3,3];case 2:return e=t.sent(),r.reject(e),[3,3];case 3:return[2]}})})}),r.promise}(t._)},nf),Ql=(Jl=_,Object(v.c)(ef,Jl),Object.defineProperty(ef.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),ef.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},ef.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&y("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},ef.prototype.enableNetwork=function(){return function(i){var t=this;return i.fs.enqueue(function(){return Object(v.b)(t,void 0,void 0,function(){var n,r;return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,jh(i)];case 1:return n=t.sent(),[4,Dh(i)];case 2:return r=t.sent(),[2,(n.po(!0),(e=r).Fh.delete(0),Ga(e))]}var e})})})}(Hh(dc(this._,Fh)))},ef.prototype.disableNetwork=function(){return function(r){var t=this;return r.fs.enqueue(function(){return Object(v.b)(t,void 0,void 0,function(){var e,n;return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,jh(r)];case 1:return e=t.sent(),[4,Dh(r)];case 2:return n=t.sent(),[2,(e.po(!1),function(n){return Object(v.b)(this,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return(e=n).Fh.add(0),[4,Ka(e)];case 1:return t.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Hh(dc(this._,Fh)))},ef.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&hc("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},ef.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},ef.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},ef.prototype.waitForPendingWrites=function(){return function(n){var t=this,r=new Yr;return n.fs.ys(function(){return Object(v.b)(t,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=Du,[4,Ph(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})}),r.promise}(Hh(dc(this._,Fh)))},ef.prototype.onSnapshotsInSync=function(t){return e=this._,t=t,function(n,t){var e=this,r=new rc(t);return n.fs.ys(function(){return Object(v.b)(e,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=function(t,e){t.jh.add(e),e.next()},[4,xh(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})}),function(){r.r_(),n.fs.ys(function(){return Object(v.b)(e,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=function(t,e){t.jh.delete(e)},[4,xh(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})})}}(Hh(dc(e,Fh)),Il(t)?t:{next:t});var e},Object.defineProperty(ef.prototype,"app",{get:function(){if(!this.md)throw new w(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),ef.prototype.collection=function(t){try{return new jf(this,Nc(this._,t))}catch(t){throw yf(t,"collection()","Firestore.collection()")}},ef.prototype.doc=function(t){try{return new ff(this,kc(this._,t))}catch(t){throw yf(t,"doc()","Firestore.doc()")}},ef.prototype.collectionGroup=function(t){try{return new Af(this,function(t,e){if(t=dc(t,bc),uc("collectionGroup","collection id",e),0<=e.indexOf("/"))throw new w(b.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ic(t,null,(e=e,new ke(Q.at(),e)))}(this._,t))}catch(t){throw yf(t,"collectionGroup()","Firestore.collectionGroup()")}},ef.prototype.runTransaction=function(e){var n,r=this;return function(n,r){var t=this,i=new Yr;return n.fs.ys(function(){return Object(v.b)(t,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return[4,kh(n).then(function(t){return t.Dh})];case 1:return e=t.sent(),new Ih(n.fs,e,r,i).run(),[2]}})})}),i.promise}(Hh(n=this._),function(t){return t=new Yl(n,t),e(new hf(r,t))})},ef.prototype.batch=function(){var e=this;return Hh(this._),new lf(new zl(this._,function(t){return Bl(e._,t)}))},ef.prototype.loadBundle=function(t){throw new w(b.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},ef.prototype.namedQuery=function(t){throw new w(b.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},ef),Zl=(Wl=Bt,Object(v.c)(tf,Wl),tf.prototype.Uf=function(t){return new j(new u(t))},tf.prototype.Qf=function(t){t=this.Gf(t,this.firestore.I_);return ff.Ad(t,this.firestore,null)},tf);function tf(t){var e=this;return(e=Wl.call(this)||this).firestore=t,e}function ef(t,e,n){var r=this;return(r=Jl.call(this,e)||this).Id=n,r.INTERNAL={delete:function(){return r.terminate()}},t instanceof C||(r.md=t),r}function nf(){}function rf(t,e){var n=this;return(n=Xl.call(this,t,e)||this).zf=t,n}function of(t,e){this.zf=t,this.Td=e,this.wd=zc(t)}function sf(t){i.setLogLevel(t)}var af,uf,cf,hf=(cf=_,Object(v.c)(vf,cf),vf.prototype.get=function(t){var e=this,t=Mf(t);return this._.get(t).then(function(t){return new Of(e.zf,t)})},vf.prototype.set=function(t,e,n){t=Mf(t);return n?(cc("Transaction.set",n),this._.set(t,e,n)):this._.set(t,e),this},vf.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Mf(t);return 2===arguments.length?this._.update(o,e):(t=this._).update.apply(t,Object(v.g)([o,e,n],r)),this},vf.prototype.delete=function(t){t=Mf(t);return this._.delete(t),this},vf),lf=(uf=_,Object(v.c)(df,uf),df.prototype.set=function(t,e,n){t=Mf(t);return n?(cc("WriteBatch.set",n),this._.set(t,e,n)):this._.set(t,e),this},df.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Mf(t);return 2===arguments.length?this._.update(o,e):(t=this._).update.apply(t,Object(v.g)([o,e,n],r)),this},df.prototype.delete=function(t){t=Mf(t);return this._.delete(t),this},df.prototype.commit=function(){return this._.commit()},df),ff=(af=_,Object(v.c)(pf,af),pf.Rd=function(t,e,n){if(t.length%2!=0)throw new w(b.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new pf(e,new wc(e._,n,new et(t)))},pf.Ad=function(t,e,n){return new pf(e,new wc(e._,n,t))},Object.defineProperty(pf.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(pf.prototype,"parent",{get:function(){return new jf(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(pf.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),pf.prototype.collection=function(t){try{return new jf(this.firestore,Nc(this._,t))}catch(t){throw yf(t,"collection()","DocumentReference.collection()")}},pf.prototype.isEqual=function(t){return(t=t instanceof _?t._:t)instanceof wc&&jc(this._,t)},pf.prototype.set=function(t,e){e=cc("DocumentReference.set",e);try{return function(t,e,n){t=dc(t,wc);var r=dc(t.firestore,Fh),e=El(t.v_,e,n);return Bl(r,[Gc(zc(r),"setDoc",t.S_,e,null!==t.v_,n).F_(t.S_,yn.Wt())])}(this._,t,e)}catch(t){throw yf(t,"setDoc()","DocumentReference.set()")}},pf.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Fl(this._,t):Fl.apply(void 0,Object(v.g)([this._,t,e],n))}catch(t){throw yf(t,"updateDoc()","DocumentReference.update()")}},pf.prototype.delete=function(){return Bl(dc((t=this._).firestore,Fh),[new Ln(t.S_,yn.Wt())]);var t},pf.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=mf(t),i=gf(t,function(t){return new Of(e.firestore,new Nl(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))});return ql(this._,r,i)},pf.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(e){e=dc(e,wc);var n=dc(e.firestore,Fh),t=Hh(n),r=new Vl(n);return function(n,r){var t=this,i=new Yr;return n.fs.ys(function(){return Object(v.b)(t,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=function(o,s,a){return Object(v.b)(this,void 0,void 0,function(){var r,i;return Object(v.d)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(e=s,(n=o).persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)}))];case 1:return(i=t.sent())instanceof Ht?a.resolve(i):i instanceof zt?a.resolve(null):a.reject(new w(b.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=t.sent(),i=yi(r,"Failed to get document '"+s+" from cache"),a.reject(i),[3,3];case 3:return[2]}var e,n})})},[4,Ch(n)];case 1:return[2,e.apply(void 0,[t.sent(),r,i])]}})})}),i.promise}(t,e.S_).then(function(t){return new Nl(n,r,e.S_,t,new Al(t instanceof Ht&&t.bt,!0),e.v_)})}:"server"===(null==t?void 0:t.source)?function(e){e=dc(e,wc);var n=dc(e.firestore,Fh);return Rh(Hh(n),e.S_,{source:"server"}).then(function(t){return Hl(n,e,t)})}:function(e){e=dc(e,wc);var n=dc(e.firestore,Fh);return Rh(Hh(n),e.S_).then(function(t){return Hl(n,e,t)})})(this._).then(function(t){return new Of(e.firestore,new Nl(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},pf.prototype.withConverter=function(t){return new pf(this.firestore,this._.withConverter(t))},pf);function pf(t,e){var n=this;return(n=af.call(this,e)||this).firestore=t,n.Hf=new Zl(t),n}function df(){return null!==uf&&uf.apply(this,arguments)||this}function vf(t,e){var n=this;return(n=cf.call(this,e)||this).zf=t,n}function yf(t,e,n){return t.message=t.message.replace(e,n),t}function mf(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Il(r))return r}return{}}function gf(t,e){var n;return{next:function(t){n.next&&n.next(e(t))},error:null===(t=(n=Il(t[0])?t[0]:Il(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===t?void 0:t.bind(n),complete:null===(t=n.complete)||void 0===t?void 0:t.bind(n)}}var bf,wf,If,Ef,_f,Tf,Of=(Tf=_,Object(v.c)(Lf,Tf),Object.defineProperty(Lf.prototype,"ref",{get:function(){return new ff(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(Lf.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(Lf.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(Lf.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),Lf.prototype.data=function(t){return this._.data(t)},Lf.prototype.get=function(t,e){return this._.get(t,e)},Lf.prototype.isEqual=function(t){return Ll(this._,t._)},Lf),Sf=(_f=Of,Object(v.c)(Rf,_f),Rf.prototype.data=function(t){return this._.data(t)},Rf),Af=(Ef=_,Object(v.c)(xf,Ef),xf.prototype.where=function(t,e,n){try{return new xf(this.firestore,el(this._,(r=n,i=e,o=Zh("where",t),new al(o,i,r))))}catch(t){throw yf(t,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},xf.prototype.orderBy=function(t,e){try{return new xf(this.firestore,el(this._,(n=void 0===e?"asc":e,r=Zh("orderBy",t),new ul(r,n))))}catch(t){throw yf(t,/(orderBy|where)\(\)/,"Query.$1()")}var n,r},xf.prototype.limit=function(t){try{return new xf(this.firestore,el(this._,(vc("limit",e=t),new cl("limit",e,"F"))))}catch(t){throw yf(t,"limit()","Query.limit()")}var e},xf.prototype.limitToLast=function(t){try{return new xf(this.firestore,el(this._,(vc("limitToLast",e=t),new cl("limitToLast",e,"L"))))}catch(t){throw yf(t,"limitToLast()","Query.limitToLast()")}var e},xf.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new xf(this.firestore,el(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hl("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw yf(t,"startAt()","Query.startAt()")}},xf.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new xf(this.firestore,el(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hl("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw yf(t,"startAfter()","Query.startAfter()")}},xf.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new xf(this.firestore,el(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ll("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw yf(t,"endBefore()","Query.endBefore()")}},xf.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new xf(this.firestore,el(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ll("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw yf(t,"endAt()","Query.endAt()")}},xf.prototype.isEqual=function(t){return Cc(this._,t._)},xf.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(e){e=dc(e,Ic);var n=dc(e.firestore,Fh),t=Hh(n),r=new Vl(n);return function(n,r){var t=this,i=new Yr;return n.fs.ys(function(){return Object(v.b)(t,void 0,void 0,function(){var e;return Object(v.d)(this,function(t){switch(t.label){case 0:return e=function(i,o,s){return Object(v.b)(this,void 0,void 0,function(){var e,n,r;return Object(v.d)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,As(i,o,!0)];case 1:return r=t.sent(),e=new Iu(o,r.Pc),n=e.dl(r.documents),n=e.Ti(n,!1),s.resolve(n.snapshot),[3,3];case 2:return n=t.sent(),r=yi(n,"Failed to execute query '"+o+" against cache"),s.reject(r),[3,3];case 3:return[2]}})})},[4,Ch(n)];case 1:return[2,e.apply(void 0,[t.sent(),r,i])]}})})}),i.promise}(t,e.C_).then(function(t){return new jl(n,r,e,t)})}:"server"===(null==t?void 0:t.source)?function(e){e=dc(e,Ic);var n=dc(e.firestore,Fh),t=Hh(n),r=new Vl(n);return Lh(t,e.C_,{source:"server"}).then(function(t){return new jl(n,r,e,t)})}:function(e){e=dc(e,Ic);var n=dc(e.firestore,Fh),t=Hh(n),r=new Vl(n);return tl(e.C_),Lh(t,e.C_).then(function(t){return new jl(n,r,e,t)})})(this._).then(function(t){return new kf(e.firestore,new jl(e.firestore._,e.Hf,e._,t.ud))})},xf.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=mf(t),i=gf(t,function(t){return new kf(e.firestore,new jl(e.firestore._,e.Hf,e._,t.ud))});return ql(this._,r,i)},xf.prototype.withConverter=function(t){return new xf(this.firestore,this._.withConverter(t))},xf),Nf=(If=_,Object(v.c)(Pf,If),Object.defineProperty(Pf.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(Pf.prototype,"doc",{get:function(){return new Sf(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(Pf.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(Pf.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),Pf),kf=(wf=_,Object(v.c)(Df,wf),Object.defineProperty(Df.prototype,"query",{get:function(){return new Af(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(Df.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(Df.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(Df.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(Df.prototype,"docs",{get:function(){var e=this;return this._.docs.map(function(t){return new Sf(e.zf,t)})},enumerable:!1,configurable:!0}),Df.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new Nf(e.zf,t)})},Df.prototype.forEach=function(e,n){var r=this;this._.forEach(function(t){e.call(n,new Sf(r.zf,t))})},Df.prototype.isEqual=function(t){return Ll(this._,t._)},Df),jf=(bf=Af,Object(v.c)(Cf,bf),Object.defineProperty(Cf.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(Cf.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(Cf.prototype,"parent",{get:function(){var t=this._.parent;return t?new ff(this.firestore,t):null},enumerable:!1,configurable:!0}),Cf.prototype.doc=function(t){try{return new ff(this.firestore,void 0===t?kc(this._):kc(this._,t))}catch(t){throw yf(t,"doc()","CollectionReference.doc()")}},Cf.prototype.add=function(t){var e,n,r,i=this;return e=this._,n=t,t=dc(e.firestore,Fh),r=kc(e),n=El(e.v_,n),Bl(t,[Gc(zc(e.firestore),"addDoc",r.S_,n,null!==e.v_,{}).F_(r.S_,yn.exists(!1))]).then(function(){return r}).then(function(t){return new ff(i.firestore,t)})},Cf.prototype.isEqual=function(t){return jc(this._,t._)},Cf.prototype.withConverter=function(t){return new Cf(this.firestore,this._.withConverter(t))},Cf);function Cf(t,e){var n=this;return(n=bf.call(this,t,e)||this).firestore=t,n._=e,n}function Df(t,e){var n=this;return(n=wf.call(this,e)||this).zf=t,n}function Pf(t,e){var n=this;return(n=If.call(this,e)||this).zf=t,n}function xf(t,e){var n=this;return(n=Ef.call(this,e)||this).firestore=t,n.Hf=new Zl(t),n}function Rf(){return null!==_f&&_f.apply(this,arguments)||this}function Lf(t,e){var n=this;return(n=Tf.call(this,e)||this).zf=t,n}function Mf(t){return dc(t=t instanceof _?t._:t,wc)}var Vf,Uf,Ff=(Uf=_,Object(v.c)(Hf,Uf),Hf.documentId=function(){return new Hf(tt.lt().ot())},Hf.prototype.isEqual=function(t){return(t=t instanceof _?t._:t)instanceof ic&&this._.d_.isEqual(t.d_)},Hf),qf=(Vf=_,Object(v.c)(Bf,Vf),Bf.serverTimestamp=function(){var t=new th("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new Bf(t)},Bf.delete=function(){var t=new Wc("deleteField");return t._methodName="FieldValue.delete",new Bf(t)},Bf.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eh("arrayUnion",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayUnion",new Bf(n)},Bf.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nh("arrayRemove",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayRemove",new Bf(n)},Bf.increment=function(t){t=new rh("increment",t);return t._methodName="FieldValue.increment",new Bf(t)},Bf.prototype.isEqual=function(t){return this._.isEqual(t._)},Bf);function Bf(){return null!==Vf&&Vf.apply(this,arguments)||this}function Hf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Uf.call(this,new(ic.bind.apply(ic,Object(v.g)([void 0],t))))||this}}.call(this,Gf("8oxB"))},I01J:function(t,e,n){var r=n("44Ds");t.exports=function(t){var t=r(t,function(t){return 500===e.size&&e.clear(),t}),e=t.cache;return t}},QkSL:function(t,Qn,Zn){"use strict";!function(t){Zn.d(Qn,"a",function(){return Kn}),Zn.d(Qn,"b",function(){return Jn}),Zn.d(Qn,"c",function(){return Wn}),Zn.d(Qn,"d",function(){return Xn}),Zn.d(Qn,"e",function(){return Yn}),Zn.d(Qn,"f",function(){return $n}),Zn.d(Qn,"g",function(){return zn}),Zn.d(Qn,"h",function(){return Gn});var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var e,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},c=r||self;function i(){}function s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function l(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var o="closure_uid_"+(1e9*Math.random()>>>0),u=0;function h(t,e,n){return t.call.apply(t.bind,arguments)}function f(e,n,t){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function y(t,e,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?h:f).apply(null,arguments)}function p(e){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(){return Date.now()}function d(t,o){function e(){}e.prototype=o.prototype,t.X=o.prototype,t.prototype=new e,(t.prototype.constructor=t).Kb=function(t,e,n){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return o.prototype[e].apply(t,r)}}function v(){this.j=this.j,this.i=this.i}v.prototype.j=!1,v.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,o)&&t[o]||(t[o]=++u))},v.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var g=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},b=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function w(){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function E(t){return/^[\s\xa0]*$/.test(t)}var _,T=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function O(t,e){return-1!=t.indexOf(e)}function S(t,e){return t<e?-1:e<t?1:0}t:{var A=c.navigator;if(A){A=A.userAgent;if(A){_=A;break t}}_=""}function N(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function k(t){var e,n={};for(e in t)n[e]=t[e];return n}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<j.length;i++)e=j[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function D(t){return D[" "](t),t}D[" "]=i;var P,x=O(_,"Opera"),R=O(_,"Trident")||O(_,"MSIE"),L=O(_,"Edge"),M=L||R,V=O(_,"Gecko")&&!(O(_.toLowerCase(),"webkit")&&!O(_,"Edge"))&&!(O(_,"Trident")||O(_,"MSIE"))&&!O(_,"Edge"),U=O(_.toLowerCase(),"webkit")&&!O(_,"Edge");function F(){var t=c.document;return t?t.documentMode:void 0}t:{var q="",B=(B=_,V?/rv:([^\);]+)(\)|;)/.exec(B):L?/Edge\/([\d\.]+)/.exec(B):R?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):U?/WebKit\/(\S+)/.exec(B):x?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(B&&(q=B?B[1]:""),R){B=F();if(null!=B&&B>parseFloat(q)){P=String(B);break t}}P=q}var H={};function z(a){return t=a,e=H,Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=function(){for(var t=0,e=T(String(P)).split("."),n=T(String(a)).split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=S(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||S(0==o[2].length,0==s[2].length)||S(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t,e}var G=c.document&&R&&(F()||parseInt(P,10))||void 0,K=!R||9<=Number(G),W=R&&!z("9"),J=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{c.addEventListener("test",i,e),c.removeEventListener("test",i,e)}catch(t){}return t}();function X(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Y(t,e){if(X.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(V){t:{try{D(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}X.prototype.b=function(){this.defaultPrevented=!0},d(Y,X);var $={2:"touch",3:"pen",4:"mouse"};Y.prototype.b=function(){Y.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,W)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var Q="closure_listenable_"+(1e6*Math.random()|0),Z=0;function tt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Z,this.Y=this.Z=!1}function et(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function nt(t){this.src=t,this.a={},this.b=0}function rt(t,e){var n,r,i,o=e.type;o in t.a&&(r=t.a[o],(n=0<=(i=g(r,e)))&&Array.prototype.splice.call(r,i,1),n&&(et(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function it(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}nt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=it(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new tt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ot="closure_lm_"+(1e6*Math.random()|0),st={};function at(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=vt(r),e&&e[Q]?e.wa(n,r,l(i)?!!i.capture:!!i,o):ut(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)at(t,e[o],n,r,i);return null}return n=vt(n),t&&t[Q]?t.va(e,n,l(r)?!!r.capture:!!r,i):ut(t,e,n,!1,r,i)}function ut(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=l(i)?!!i.capture:!!i;if(s&&!K)return null;var a,u,c=pt(t);if(c||(t[ot]=c=new nt(t)),(n=c.add(e,n,r,s,o)).proxy)return n;if(a=ft,u=K?function(t){return a.call(u.src,u.listener,t)}:function(t){if(!(t=a.call(u.src,u.listener,t)))return t},(n.proxy=r=u).src=t,r.listener=n,t.addEventListener)void 0===(i=!J?s:i)&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ht(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ct(t){var e,n,r;"number"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[Q]?rt(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ht(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pt(e))?(rt(n,t),0==n.b&&(n.src=null,e[ot]=null)):et(t)))}function ht(t){return t in st?st[t]:st[t]="on"+t}function lt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ct(t),n.call(r,e)}function ft(t,e){if(t.Y)return!0;if(K)return lt(t,new Y(e,this));if(!e)t:{e=["window","event"];for(var n=c,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return lt(t,e=new Y(e,this))}function pt(t){return(t=t[ot])instanceof nt?t:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function vt(e){return"function"==typeof e?e:(e[dt]||(e[dt]=function(t){return e.handleEvent(t)}),e[dt])}function yt(){v.call(this),this.c=new nt(this),(this.J=this).C=null}function mt(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e?e=new X(e,t):e instanceof X?e.target=e.target||t:(s=e,C(e=new X(r,t),s)),s=!0,n)for(var i=n.length-1;0<=i;i--)var o=e.a=n[i],s=gt(o,r,!0,e)&&s;if(s=gt(o=e.a=t,r,!0,e)&&s,s=gt(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)s=gt(o=e.a=n[i],r,!1,e)&&s}function gt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s,a,u=e[o];u&&!u.Y&&u.capture==n&&(s=u.listener,a=u.ca||u.src,u.Z&&rt(t.c,u),i=!1!==s.call(a,r)&&i)}return i&&!r.defaultPrevented}d(yt,v),yt.prototype[Q]=!0,(e=yt.prototype).addEventListener=function(t,e,n,r){at(this,t,e,n,r)},e.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=l(i)?!!i.capture:!!i,r=vt(r),e&&e[Q]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=it(s=e.a[n],r,i,o))&&(et(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):(e=e&&pt(e))&&(n=e.a[n.toString()],(r=(e=-1)<(e=n?it(n,r,i,o):e)?n[e]:null)&&ct(r))}(this,t,e,n,r)},e.G=function(){if(yt.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)et(n[r]);delete e.a[t],e.b--}}this.C=null},e.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},e.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var bt=c.JSON.stringify;function wt(){this.b=this.a=null}var It,Et=(_t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new _t(function(){return new Tt},function(t){t.reset()}));function _t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Tt(){this.next=this.b=this.a=null}function Ot(t,e){var n;It||(n=c.Promise.resolve(void 0),It=function(){n.then(Nt)}),St||(It(),St=!0),At.add(t,e)}wt.prototype.add=function(t,e){var n=Et.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Tt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var St=!(Tt.prototype.reset=function(){this.next=this.b=this.a=null}),At=new wt;function Nt(){for(var t,e;n=e=void 0,n=null,(e=At).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){c.setTimeout(function(){throw t},0)}(t)}var n=Et;n.f(t),n.b<100&&(n.b++,t.next=n.a,n.a=t)}St=!1}function kt(t,e){yt.call(this),this.b=t||1,this.a=e||c,this.f=y(this.Za,this),this.g=m()}function jt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ct(t,e,n){if("function"==typeof t)n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:c.setTimeout(t,e||0)}d(kt,yt),(e=kt.prototype).aa=!1,e.M=null,e.Za=function(){var t;this.aa&&(0<(t=m()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),mt(this,"tick"),this.aa&&(jt(this),this.start())))},e.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=m())},e.G=function(){kt.X.G.call(this),jt(this),delete this.a};var Dt,Pt,xt=(n(Pt=Rt,ee=Dt=v),Pt.prototype=null===ee?Object.create(ee):(Lt.prototype=ee.prototype,new Lt),Rt.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=Ct(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},Rt.prototype.G=function(){Dt.prototype.G.call(this),this.a&&(c.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},Rt);function Rt(t,e){var n=Dt.call(this)||this;return n.g=t,n.h=e,n.b=null,n.c=!1,n.a=null,n}function Lt(){this.constructor=Pt}function Mt(t){v.call(this),this.b=t,this.a={}}d(Mt,v);var Vt=[];function Ut(t,e,n,r){Array.isArray(n)||(n&&(Vt[0]=n.toString()),n=Vt);for(var i=0;i<n.length;i++){var o=at(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ft(t){N(t.a,function(t,e){this.a.hasOwnProperty(e)&&ct(t)},t),t.a={}}function qt(){this.a=!0}function Bt(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return bt(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}Mt.prototype.G=function(){Mt.X.G.call(this),Ft(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qt.prototype.info=function(){};var Ht={},zt=null;function Gt(){return zt=zt||new yt}function Kt(t){X.call(this,Ht.Fa,t)}function Wt(){var t=Gt();mt(t,new Kt(t))}function Jt(t,e){X.call(this,Ht.STAT_EVENT,t),this.stat=e}function Xt(t){var e=Gt();mt(e,new Jt(e,t))}function Yt(t){X.call(this,Ht.Ga,t)}function $t(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){t()},e)}Ht.Fa="serverreachability",d(Kt,X),Ht.STAT_EVENT="statevent",d(Jt,X),Ht.Ga="timingevent",d(Yt,X);t={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},r={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Qt(){}function Zt(t){var e;return e=!(e=t.a)?t.a={}:e}function te(){}Qt.prototype.a=null;var ee={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ne(){X.call(this,"d")}function re(){X.call(this,"c")}function ie(){}function oe(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Mt(this),this.P=ae,this.R=new kt(t=M?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}d(ne,X),d(re,X),d(ie,Qt);var se=new ie,ae=45e3,ue={},ce={};function he(t,e,n){t.H=1,t.i=Ce(Oe(e)),t.j=n,t.I=!0,le(t,null)}function le(t,e){t.u=m(),pe(t),t.l=Oe(t.i);var s,a,u,c,h,l,n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),ze(n.b,"t",r),t.D=0,t.a=Mn(t.g,t.g.C?e:null),0<t.O&&(t.F=new xt(y(t.Ca,t,t.a),t.O)),Ut(t.J,t.a,"readystatechange",t.Xa),e=t.B?k(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Wt(),s=t.c,a=t.m,u=t.l,c=t.f,h=t.S,l=t.j,s.info(function(){if(s.a)if(l)for(var t="",e=l.split("&"),n=0;n<e.length;n++){var r,i,o=e[n].split("=");1<o.length&&(r=o[0],o=o[1],t=2<=(i=r.split("_")).length&&"type"==i[1]?t+(r+"=")+o+"&":t+(r+"=redacted&"))}else t=null;else t=l;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+a+"\n"+u+"\n"+t})}function fe(t,e,n){for(var r,i,o,s=!0;!t.A&&t.D<n.length;){var a=(a=n,o=i=void 0,i=(r=t).D,-1==(o=a.indexOf("\n",i))?ce:(i=Number(a.substring(i,o)),isNaN(i)?ue:(o+=1)+i>a.length?ce:(a=a.substr(o,i),r.D=o+i,a)));if(a==ce){4==e&&(t.h=4,Xt(14),s=!1),Bt(t.c,t.f,null,"[Incomplete Response]");break}if(a==ue){t.h=4,Xt(15),Bt(t.c,t.f,n,"[Invalid Chunk]"),s=!1;break}Bt(t.c,t.f,a,null),ge(t,a)}4==e&&0==n.length&&(t.h=1,Xt(16),s=!1),t.b=t.b&&s,s?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),kn(e),e.F=!0,Xt(11))):(Bt(t.c,t.f,n,"[Invalid Chunked Response]"),me(t),ye(t))}function pe(t){t.T=m()+t.P,de(t,t.P)}function de(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=$t(y(t.Va,t),e)}function ve(t){t.o&&(c.clearTimeout(t.o),t.o=null)}function ye(t){0==t.g.v||t.A||Dn(t.g,t)}function me(t){ve(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,jt(t.R),Ft(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ge(t,e){try{var n,r,i,o,s,a,u,c,h,l,f,p=t.g;if(0!=p.v&&(p.a==t||Ye(p.b,t)))if(p.I=t.N,!t.C&&Ye(p.b,t)&&3==p.v){try{var d=p.ka.a.parse(e)}catch(t){d=null}if(Array.isArray(d)&&3==d.length){var v=d;if(0==v[0]){t:if(!p.j){if(p.a){if(!(p.a.u+3e3<t.u))break t;Cn(p),wn(p)}Nn(p),Xt(18)}}else p.oa=v[1],0<p.oa-p.P&&v[2]<37500&&p.H&&0==p.o&&!p.m&&(p.m=$t(y(p.Sa,p),6e3));if(Xe(p.b)<=1&&p.ea){try{p.ea()}catch(t){}p.ea=void 0}}else xn(p,11)}else if(!t.C&&p.a!=t||Cn(p),!E(e))for(e=d=p.ka.a.parse(e),d=0;d<e.length;d++)v=e[d],p.P=v[0],v=v[1],2==p.v?"c"==v[0]?(p.J=v[1],p.ga=v[2],null!=(n=v[3])&&(p.ha=n,p.c.info("VER="+p.ha)),null!=(r=v[4])&&(p.pa=r,p.c.info("SVER="+p.pa)),null!=(i=v[5])&&"number"==typeof i&&0<i&&(o=1.5*i,p.D=o,p.c.info("backChannelRequestTimeoutMs_="+o)),o=p,(s=t.a)&&(!(a=s.a?s.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(u=o.b).a&&(O(a,"spdy")||O(a,"quic")||O(a,"h2"))&&(u.f=u.g,u.a=new Set,u.b&&($e(u,u.b),u.b=null)),!o.A||(c=s.a?s.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(o.na=c,je(o.B,o.A,c))),p.v=3,p.f&&p.f.ta(),p.U&&(p.N=m()-t.u,p.c.info("Handshake RTT: "+p.N+"ms")),h=t,(o=p).la=Ln(o,o.C?o.ga:null,o.fa),h.C?(Qe(o.b,h),l=h,(f=o.D)&&l.setTimeout(f),l.o&&(ve(l),pe(l)),o.a=h):An(o),0<p.g.length&&_n(p)):"stop"!=v[0]&&"close"!=v[0]||xn(p,7):3==p.v&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?xn(p,7):bn(p):"noop"!=v[0]&&p.f&&p.f.sa(v),p.o=0);Wt()}catch(t){}}function be(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"==typeof t)b(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(s(t)||"string"==typeof t)for(var n=[],r=t.length,i=0;i<r;i++)n.push(i);else for(i in n=[],r=0,t)n[r++]=i;for(var i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function we(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof we)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ie(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ee(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){for(var i={},n=e=0;e<t.a.length;)Ee(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Ee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(e=oe.prototype).setTimeout=function(t){this.P=t},e.Xa=function(t){t=t.target;var e=this.F;e&&3==vn(t)?e.f():this.Ca(t)},e.Ca=function(t){try{if(t==this.a)t:{var e=vn(this.a),n=this.a.ua();this.a.W();if(!(e<3||3==e&&!M&&!this.a.$())){this.A||4!=e||7==n||Wt(),ve(this);var r=this.a.W();this.N=r;var i=this.a.$();if(this.b=200==r,u=this.c,c=this.m,h=this.l,l=this.f,f=this.S,p=e,d=r,u.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+f+"]: "+c+"\n"+h+"\n"+p+" "+d}),this.b){if(this.U&&!this.C){e:{if(this.a){var o,s=this.a;if((o=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.h=3,Xt(12),me(this),ye(this);break t}Bt(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ge(this,a)}this.I?(fe(this,e,i),M&&this.b&&3==e&&(Ut(this.J,this.R,"tick",this.Wa),this.R.start())):(Bt(this.c,this.f,i,null),ge(this,i)),4==e&&me(this),this.b&&!this.A&&(4==e?Dn(this.g,this):(this.b=!1,pe(this)))}else 400==r&&0<i.indexOf("Unknown SID")?(this.h=3,Xt(12)):(this.h=0,Xt(13)),me(this),ye(this)}}}catch(t){}var u,c,h,l,f,p,d},e.Wa=function(){var t,e;this.a&&(t=vn(this.a),e=this.a.$(),this.D<e.length&&(ve(this),fe(this,t,e),this.b&&4!=t&&pe(this)))},e.cancel=function(){this.A=!0,me(this)},e.Va=function(){this.o=null;var t,e,n=m();0<=n-this.T?(t=this.c,e=this.l,t.info(function(){return"TIMEOUT: "+e}),2!=this.H&&(Wt(),Xt(17)),me(this),this.h=2,ye(this)):de(this,this.T-n)},(e=we.prototype).K=function(){Ie(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.L=function(){return Ie(this),this.a.concat()},e.get=function(t,e){return Ee(this.b,t)?this.b[t]:e},e.set=function(t,e){Ee(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var _e=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Te(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Te?(this.a=void 0!==e?e:t.a,Se(this,t.f),this.j=t.j,Ae(this,t.c),Ne(this,t.h),this.g=t.g,e=t.b,(n=new Fe).c=e.c,e.a&&(n.a=new we(e.a),n.b=e.b),ke(this,n),this.i=t.i):t&&(n=String(t).match(_e))?(this.a=!!e,Se(this,n[1]||"",!0),this.j=De(n[2]||""),Ae(this,n[3]||"",!0),Ne(this,n[4]),this.g=De(n[5]||"",!0),ke(this,n[6]||"",!0),this.i=De(n[7]||"")):(this.a=!!e,this.b=new Fe(null,this.a))}function Oe(t){return new Te(t)}function Se(t,e,n){t.f=n?De(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ae(t,e,n){t.c=n?De(e,!0):e}function Ne(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ke(t,e,n){var r,i;e instanceof Fe?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(qe(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Be(this,e),ze(this,n,t))},r)),r.f=i):(n||(e=Pe(e,Ve)),t.b=new Fe(e,t.a))}function je(t,e,n){t.b.set(e,n)}function Ce(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),t}function De(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pe(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,xe),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function xe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Te.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Pe(e,Re,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(Pe(e,Re,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Pe(n,"/"==n.charAt(0)?Me:Le,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Pe(n,Ue)),t.join("")};var Re=/[#\/\?@]/g,Le=/[#\?:]/g,Me=/[#\?]/g,Ve=/[#\?@]/g,Ue=/#/g;function Fe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function qe(o){o.a||(o.a=new we,o.b=0,o.c&&function(t){if(t){t=t.split("&");for(var e=0;e<t.length;e++){var n,r=t[e].indexOf("="),i=null;0<=r?(n=t[e].substring(0,r),i=t[e].substring(r+1)):n=t[e],r=n,i=i?decodeURIComponent(i.replace(/\+/g," ")):"",o.add(decodeURIComponent(r.replace(/\+/g," ")),i)}}}(o.c))}function Be(t,e){qe(t),e=Ge(t,e),Ee(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ee((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ie(t)))}function He(t,e){return qe(t),e=Ge(t,e),Ee(t.a.b,e)}function ze(t,e,n){Be(t,e),0<n.length&&(t.c=null,t.a.set(Ge(t,e),I(n)),t.b+=n.length)}function Ge(t,e){return e=String(e),e=t.f?e.toLowerCase():e}(e=Fe.prototype).add=function(t,e){qe(this),this.c=null,t=Ge(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.forEach=function(n,r){qe(this),this.a.forEach(function(t,e){b(t,function(t){n.call(r,t,e,this)},this)},this)},e.L=function(){qe(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.K=function(t){qe(this);var e=[];if("string"==typeof t)He(this,t)&&(e=w(e,this.a.get(Ge(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=w(e,t[n])}return e},e.set=function(t,e){return qe(this),this.c=null,He(this,t=Ge(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.K(r),o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}return this.c=t.join("&")};function Ke(t,e){this.b=t,this.a=e}function We(t){this.g=t||10,t=c.PerformanceNavigationTiming?0<(t=c.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(c.ia&&c.ia.ya&&c.ia.ya()&&c.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}function Je(t){return t.b||t.a&&t.a.size>=t.f}function Xe(t){return t.b?1:t.a?t.a.size:0}function Ye(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function $e(t,e){t.a?t.a.add(e):t.b=e}function Qe(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ze(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return I(t.c);var r=t.c;try{for(var i=a(t.a.values()),o=i.next();!o.done;o=i.next())var s=o.value,r=r.concat(s.s)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function tn(){}function en(){this.a=new tn}function nn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}We.prototype.cancel=function(){var t,e;if(this.c=Ze(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=a(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},tn.prototype.stringify=function(t){return c.JSON.stringify(t,void 0)},tn.prototype.parse=function(t){return c.JSON.parse(t,void 0)};var rn=c.JSON.parse;function on(t){yt.call(this),this.headers=new we,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=sn,this.D=this.F=!1}d(on,yt);var sn="",an=/^https?$/i,un=["POST","PUT"];function cn(t){return"content-type"==t.toLowerCase()}function hn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ln(t),pn(t)}function ln(t){t.u||(t.u=!0,mt(t,"complete"),mt(t,"error"))}function fn(t){if(t.b&&(!t.s[1]||4!=vn(t)||2!=t.W()))if(t.l&&4==vn(t))Ct(t.za,0,t);else if(mt(t,"readystatechange"),4==vn(t)){t.b=!1;try{var e,n,r,i,o=t.W();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}if((e=s)||((n=0===o)&&(!(i=String(t.B).match(_e)[1]||null)&&c.self&&c.self.location&&(i=(r=c.self.location.protocol).substr(0,r.length-1)),n=!an.test(i?i.toLowerCase():"")),e=n),e)mt(t,"complete"),mt(t,"success");else{t.h=6;try{var a=2<vn(t)?t.a.statusText:""}catch(o){a=""}t.f=a+" ["+t.W()+"]",ln(t)}}finally{pn(t)}}}function pn(t,e){if(t.a){dn(t);var n=t.a,r=t.s[0]?i:null;t.a=null,t.s=null,e||mt(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function dn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(c.clearTimeout(t.m),t.m=null)}function vn(t){return t.a?t.a.readyState:0}function yn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",N(n,function(t,e){i+=e,i+=":",i+=t,i+="\r\n"}),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function mn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gn(t){this.pa=0,this.g=[],this.c=new qt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=mn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=mn("baseRetryDelayMs",5e3,t),this.Ra=mn("retryDelaySeedMs",1e4,t),this.Ma=mn("forwardChannelMaxRetries",2,t),this.ma=mn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new We(t&&t.concurrentRequestLimit),this.ka=new en,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function bn(t){var e,n;In(t),3==t.v&&(e=t.R++,je(n=Oe(t.B),"SID",t.J),je(n,"RID",e),je(n,"TYPE","terminate"),On(t,n),(e=new oe(t,t.c,e,void 0)).H=2,e.i=Ce(Oe(n)),n=!1,!(n=c.navigator&&c.navigator.sendBeacon?c.navigator.sendBeacon(e.i.toString(),""):n)&&c.Image&&((new Image).src=e.i,n=!0),n||(e.a=Mn(e.g,null),e.a.ba(e.i)),e.u=m(),pe(e)),Rn(t)}function wn(t){t.a&&(kn(t),t.a.cancel(),t.a=null)}function In(t){wn(t),t.j&&(c.clearTimeout(t.j),t.j=null),Cn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&c.clearTimeout(t.h),t.h=null)}function En(t,e){t.g.push(new Ke(t.Oa++,e)),3==t.v&&_n(t)}function _n(t){Je(t.b)||t.h||(t.h=!0,Ot(t.Ba,t),t.u=0)}function Tn(t,e){var n=e?e.f:t.R++,r=Oe(t.B);je(r,"SID",t.J),je(r,"RID",n),je(r,"AID",t.P),On(t,r),t.i&&t.l&&yn(r,t.i,t.l),n=new oe(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Sn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),$e(t.b,n),he(n,r,e)}function On(t,n){t.f&&be({},function(t,e){je(n,e,t)})}function Sn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?y(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),a=!1;else try{!function(t,r,e){var i=e||"";try{be(t,function(t,e){var n=t;l(t)&&(n=bt(t)),r.push(i+e+"="+encodeURIComponent(n))})}catch(t){throw r.push(i+"type="+encodeURIComponent("_badmap")),t}}(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function An(t){t.a||t.j||(t.T=1,Ot(t.Aa,t),t.o=0)}function Nn(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=$t(y(t.Aa,t),Pn(t,t.o)),t.o++,1)}function kn(t){null!=t.s&&(c.clearTimeout(t.s),t.s=null)}function jn(t){t.a=new oe(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Oe(t.la);je(e,"RID","rpc"),je(e,"SID",t.J),je(e,"CI",t.H?"0":"1"),je(e,"AID",t.P),On(t,e),je(e,"TYPE","xmlhttp"),t.i&&t.l&&yn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ce(Oe(e)),n.j=null,n.I=!0,le(n,t)}function Cn(t){null!=t.m&&(c.clearTimeout(t.m),t.m=null)}function Dn(t,e){var n,r,i,o=null;if(t.a==e){Cn(t),kn(t),t.a=null;var s=2}else{if(!Ye(t.b,e))return;o=e.s,Qe(t.b,e),s=1}if(t.I=e.N,0!=t.v)if(e.b)1==s?(o=e.j?e.j.length:0,e=m()-e.u,n=t.u,mt(s=Gt(),new Yt(s)),_n(t)):An(t);else if(3==(n=e.h)||0==n&&0<t.I||(1!=s||(i=e,Xe((r=t).b)>=r.b.f-(r.h?1:0)||(r.h?(r.g=i.s.concat(r.g),0):1==r.v||2==r.v||r.u>=(r.La?0:r.Ma)||(r.h=$t(y(r.Ba,r,i),Pn(r,r.u)),r.u++,0))))&&(2!=s||!Nn(t)))switch(o&&0<o.length&&(e=t.b,e.c=e.c.concat(o)),n){case 1:xn(t,5);break;case 4:xn(t,10);break;case 3:xn(t,6);break;default:xn(t,2)}}function Pn(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function xn(t,e){var n,r,i,o;t.c.info("Error code "+e),2==e?(r=null,t.f&&(r=null),o=y(t.Ya,t),r||(r=new Te("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||Se(r,"https"),Ce(r)),n=r.toString(),r=o,o=new qt,c.Image?((i=new Image).onload=p(nn,o,i,"TestLoadImage: loaded",!0,r),i.onerror=p(nn,o,i,"TestLoadImage: error",!1,r),i.onabort=p(nn,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=p(nn,o,i,"TestLoadImage: timeout",!1,r),c.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n):r(!1)):Xt(2),t.v=0,t.f&&t.f.ra(e),Rn(t),In(t)}function Rn(t){t.v=0,t.I=-1,t.f&&(0==Ze(t.b).length&&0==t.g.length||(t.b.c.length=0,I(t.g),t.g.length=0),t.f.qa())}function Ln(t,e,n){var r,i,o,s,a,u=(s=n)instanceof Te?Oe(s):new Te(s,void 0);return""!=u.c?(e&&Ae(u,e+"."+u.c),Ne(u,u.h)):(a=c.location,r=a.protocol,i=e?e+"."+a.hostname:a.hostname,o=+a.port,s=n,a=new Te(null,void 0),r&&Se(a,r),i&&Ae(a,i),o&&Ne(a,o),s&&(a.g=s),u=a),t.V&&N(t.V,function(t,e){je(u,e,t)}),e=t.A,n=t.na,e&&n&&je(u,e,n),je(u,"VER",t.ha),On(t,u),u}function Mn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new on(t.Na)).F=t.C,e}function Vn(){}function Un(){if(R&&!(10<=Number(G)))throw Error("Environmental error: no available transport.")}function Fn(t,e){yt.call(this),this.a=new gn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!E(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!E(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Hn(this)}function qn(t){ne.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Bn(){re.call(this),this.status=1}function Hn(t){this.a=t}(e=on.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Zt(this.H):Zt(se),this.a.onreadystatechange=y(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void hn(this,t)}t=n||"";var i,o=new we(this.headers);r&&be(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=cn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=c.FormData&&t instanceof c.FormData,0<=g(un,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{dn(this),0<this.o&&((this.D=(i=this.a,R&&z(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=y(this.xa,this)):this.m=Ct(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){hn(this,t)}},e.xa=function(){this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,mt(this,"timeout"),this.abort(8))},e.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,mt(this,"complete"),mt(this,"abort"),pn(this))},e.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),pn(this,!0)),on.X.G.call(this)},e.za=function(){this.j||(this.A||this.l||this.g?fn(this):this.Ua())},e.Ua=function(){fn(this)},e.W=function(){try{return 2<vn(this)?this.a.status:-1}catch(t){return-1}},e.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},e.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),rn(e)}},e.ua=function(){return this.h},e.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(e=gn.prototype).ha=8,e.v=1,e.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new oe(this,this.c,t,void 0),r=this.l;if(this.O&&(r?C(r=k(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Sn(this,n,e),je(i=Oe(this.B),"RID",t),je(i,"CVER",22),this.A&&je(i,"X-HTTP-Session-Id",this.A),On(this,i),this.i&&r&&yn(i,this.i,r),$e(this.b,n),this.Ia&&je(i,"TYPE","init"),this.da?(je(i,"$req",e),je(i,"SID","null"),n.U=!0,he(n,i,null)):he(n,i,e),this.v=2}}else 3==this.v&&(t?Tn(this,t):0==this.g.length||Je(this.b)||Tn(this))},e.Aa=function(){var t;this.j=null,jn(this),this.U&&!(this.F||null==this.a||this.N<=0)&&(t=2*this.N,this.c.info("BP detection timer enabled: "+t),this.s=$t(y(this.Ta,this),t))},e.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Xt(10),wn(this),jn(this))},e.Sa=function(){null!=this.m&&(this.m=null,wn(this),Nn(this),Xt(19))},e.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Xt(2)):(this.c.info("Failed to ping google.com"),Xt(1))},(e=Vn.prototype).ta=function(){},e.sa=function(){},e.ra=function(){},e.qa=function(){},e.Ja=function(){},Un.prototype.a=function(t,e){return new Fn(t,e)},d(Fn,yt),Fn.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Xt(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ln(t,null,t.fa),_n(t)},Fn.prototype.close=function(){bn(this.a)},Fn.prototype.h=function(t){var e;"string"==typeof t?((e={}).__data__=t,En(this.a,e)):this.l?((e={}).__data__=bt(t),En(this.a,e)):En(this.a,t)},Fn.prototype.G=function(){this.a.f=null,delete this.f,bn(this.a),delete this.a,Fn.X.G.call(this)},d(qn,ne),d(Bn,re),d(Hn,Vn),Hn.prototype.ta=function(){mt(this.a,"a")},Hn.prototype.sa=function(t){mt(this.a,new qn(t))},Hn.prototype.ra=function(t){mt(this.a,new Bn)},Hn.prototype.qa=function(){mt(this.a,"b")},Un.prototype.createWebChannel=Un.prototype.a,Fn.prototype.send=Fn.prototype.h,Fn.prototype.open=Fn.prototype.g,t.NO_ERROR=0,t.TIMEOUT=8,t.HTTP_ERROR=6,r.COMPLETE="complete",(te.EventType=ee).OPEN="a",ee.CLOSE="b",ee.ERROR="c",ee.MESSAGE="d",yt.prototype.listen=yt.prototype.va,on.prototype.listenOnce=on.prototype.wa,on.prototype.getLastError=on.prototype.Qa,on.prototype.getLastErrorCode=on.prototype.ua,on.prototype.getStatus=on.prototype.W,on.prototype.getResponseJson=on.prototype.Pa,on.prototype.getResponseText=on.prototype.$,on.prototype.send=on.prototype.ba;var zn=function(){return new Un},Gn=Gt,Kn=t,Wn=r,Jn=Ht,Xn={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Yn=te,$n=on}.call(this,Zn("yLpj"))},Vt0U:function(t,e,n){"use strict";t.exports=function(t,e){if(0<=t-e){var n=t-e;if(1==n)return"mobile-cxense";if(n%4==1)return"ad"}else if((e+2-t)%4==1)return"ad";return!1}},XW3W:function(n,t,e){!function(t){var e="object"==typeof t&&t&&t.Object===Object&&t,t="object"==typeof self&&self&&self.Object===Object&&self,e=e||t||Function("return this")();var t=Object.prototype,i=t.hasOwnProperty,o=t.toString,e=e.Symbol,s=t.propertyIsEnumerable,a=e?e.isConcatSpreadable:void 0;function c(t){return u(t)||!!(n=e=t)&&"object"==typeof n&&null!=n&&("number"==typeof(r=n.length)&&-1<r&&r%1==0&&r<=9007199254740991)&&(r=typeof(n=n),!("[object Function]"==(n=!n||"object"!=r&&"function"!=r?"":o.call(n))||"[object GeneratorFunction]"==n))&&i.call(e,"callee")&&(!s.call(e,"callee")||"[object Arguments]"==o.call(e))||!!(a&&t&&t[a]);var e,n,r}var u=Array.isArray;n.exports=function(t){return t&&t.length?function t(e,n,r,i,o){var s=-1,a=e.length;for(r=r||c,o=o||[];++s<a;){var u=e[s];0<n&&r(u)?1<n?t(u,n-1,r,i,o):function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n]}(o,u):i||(o[o.length]=u)}return o}(t,1/0):[]}}.call(this,e("yLpj"))},XhxB:function(t,e,n){"use strict";t.exports=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return"string"!=typeof t?(n=e||{},e=t):e.id=t,e.setDefinition(n),Object.assign(e,{default:e,metadata:n,__esModule:!0}),e}},ZWtO:function(t,e,n){var i=n("4uTw"),o=n("9Nap");t.exports=function(t,e){for(var n=0,r=(e=i(e,t)).length;null!=t&&n<r;)t=t[o(e[n++])];return n&&n==r?t:void 0}},dt0z:function(t,e,n){var r=n("zoYe");t.exports=function(t){return null==t?"":r(t)}},eUgh:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},fFtP:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=o(n);return t=r?(t=o(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?c(e):t}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=n("q1tI"),l=h.Component,f=n("n/w/"),s=n("E8oE"),p=n("zT9C"),d=n("NOtv")("packageEngine:WebUIComponent"),v=n("17x9"),y=["options","content","children","states","context","propTypes","decorators","definition","defaultProps","defaultOptions","transferStaticProps"];function m(t,e){s(e,{options:{},decorators:[],content:{},context:{}}),s(e.options,p(t.defaultOptions)),s(e.context,p(t.defaultContext)),s(e.content,p(t.defaultContent))}n=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(s,l);var t,o=u(s);function s(e,t,n){var r;if(function(t){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),r=o.call(this,e,t,n),void 0===e)throw f.WEB_UI_SUPER_PROPS_UNDEFINED();y.forEach(function(t){if(c(r)&&r.constructor&&void 0===r.constructor[t])throw f.WEB_UI_STATIC_PROPS_UNDEFINED()}),r.state={},m(r.constructor,e);var i=r.setState.bind(c(r));return r.setState=function(t){d(f.WEB_UI_SET_STATE_WARNING()),i(t)},e._setContext?r.setContext=function(t){return e._setContext({context:t,goodBoy:"Don't fake this"})}:r.setContext=i,r}return t=[{key:"UNSAFE_componentWillReceiveProps",value:function(t){m(this.constructor,t)}},{key:"UNSAFE_componentWillUpdate",value:function(t,e){t._setContext||Object.assign(t.context,e)}},{key:"applyDecorators",value:function(t,e){if("function"!=typeof t||e||(e=t,t=[]),!Array.isArray(t))throw f.WEB_UI_INVALID_ARGS_DECORATORS({decorators:t});var r=[].concat(this.props.decorators||[]);t.forEach(function(t){var e=t.match(/^(\+\+|--)?.*/),n=(e.match,e.pre),t=e.decoratorName,e=r.indexOf(t);"--"===n&&0<=e&&r.splice(e,1),"--"!==n&&e<0&&r.push(t)});var n=e;r.forEach(function(t){"function"==typeof e.decorators[t]&&(n=e.decorators[t](n))});t=function(t){return h.createElement(n,Object.assign({},t,{decorators:r}))};return t.displayName="appliedDecorators(".concat(n.displayName||n.name,")"),n.transferStaticProps&&n.transferStaticProps(t),t}}],r(s.prototype,t),s}();Object.assign(n,{options:{},context:!1,content:[],children:!1,states:null,decorators:{},description:"",markAsImmutableForCache:[],propTypes:{options:v.object,decorators:v.array,content:function(){return null},context:v.object,theme:v.object,name:v.string},defaultProps:{options:{},decorators:[],content:null,context:{}},defaultOptions:{},defaultContent:{},defaultContext:{},definition:{},setDefinition:function(t){Object.assign(this,t);t={id:this.id,name:this.displayName||this.name,states:this.states||null,markAsImmutableForCache:this.markAsImmutableForCache,options:this.options,decorators:Object.keys(this.decorators||{})};if(t.states&&0<t.markAsImmutableForCache.length)throw f.COMPONENT_STATEFUL_IMMUTABLE_PROPS({name:t.name});t.states?t.children=Object.keys(t.states).length:t.children=this.children||!1,null!==this.content?(Array.isArray(this.content)?t.content=this.content||[]:t.content=[this.content],t.content=t.content.map(function(t){return"string"==typeof t?{contentType:t}:t}),0===t.content.length&&(t.content=null)):t.content=null,this.definition=t},transferStaticProps:function(e){var n=this;y.forEach(function(t){e[t]=e[t]||n[t]})}}),t.exports=n},gEtn:function(t,e,n){t.exports={"color-blue":"#0274B6","color-mineshaft-gray":"#333333","color-silver-gray":"#CCCCCC",wrapper:"style--wrapper--l3ydNV6k",list:"style--list--33cafXcy",overflow:"style--overflow--33w9dP-6",entry:"style--entry--2-vZEkeQ",timestamp:"style--timestamp--2FCohwRG",content:"style--content--KEmzBbDK",button:"style--button--FRBEPuLb","in-depth":"style--in-depth--940rUfPl","float-right":"style--float-right--13-myTnW"}},jMzp:function(t,e,n){"use strict";n.r(e);var r=n("zIRd"),i=(n("q/0M"),n("qOnz"),n("QkSL"),n("HoIX")),e=n("/6Yf"),n={Firestore:i.d,GeoPoint:i.o,Timestamp:i.r,Blob:i.c,Transaction:i.e,WriteBatch:i.n,DocumentReference:i.a,DocumentSnapshot:i.g,Query:i.i,QueryDocumentSnapshot:i.f,QuerySnapshot:i.l,CollectionReference:i.j,FieldPath:i.m,FieldValue:i.q,setLogLevel:i.b,CACHE_SIZE_UNLIMITED:i.k},r=r.a;r.INTERNAL.registerComponent(new e.a("firestore",function(t){return e=t.getProvider("app").getImmediate(),t=t.getProvider("auth-internal"),new i.d(e,new i.h(e,t),new i.p);var e},"PUBLIC").setServiceProps(Object.assign({},n))),r.registerVersion("@firebase/firestore","2.1.1")},ktbM:function(t,e,n){"use strict";n.r(e),n("9+ID")},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,s,a,u){return new(a=a||Promise)(function(n,e){function r(t){try{o(u.next(t))}catch(t){e(t)}}function i(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(r,i)}o((u=u.apply(t,s||[])).next())})}function a(n,r){var i,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!((s=0<(s=a.trys).length&&s[s.length-1])||6!==e[0]&&2!==e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function l(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},mwIZ:function(t,e,n){var r=n("ZWtO");t.exports=function(t,e,n){e=null==t?void 0:r(t,e);return void 0===e?n:e}},nbvr:function(t,e,n){!function(t){"use strict";function s(n){return new Promise(function(t,e){n.onsuccess=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function i(n,r,i){var o,t=new Promise(function(t,e){s(o=n[r].apply(n,i)).then(t,e)});return t.request=o,t}function e(t,n,e){e.forEach(function(e){Object.defineProperty(t.prototype,e,{get:function(){return this[n][e]},set:function(t){this[n][e]=t}})})}function n(e,n,r,t){t.forEach(function(t){t in r.prototype&&(e.prototype[t]=function(){return i(this[n],t,arguments)})})}function r(e,n,r,t){t.forEach(function(t){t in r.prototype&&(e.prototype[t]=function(){return this[n][t].apply(this[n],arguments)})})}function o(t,r,e,n){n.forEach(function(n){n in e.prototype&&(t.prototype[n]=function(){return t=this[r],(e=i(t,n,arguments)).then(function(t){if(t)return new u(t,e.request)});var t,e})})}function a(t){this._index=t}function u(t,e){this._cursor=t,this._request=e}function c(t){this._store=t}function h(n){this._tx=n,this.complete=new Promise(function(t,e){n.oncomplete=function(){t()},n.onerror=function(){e(n.error)},n.onabort=function(){e(n.error)}})}function l(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new h(n)}function f(t){this._db=t}e(a,"_index",["name","keyPath","multiEntry","unique"]),n(a,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),o(a,"_index",IDBIndex,["openCursor","openKeyCursor"]),e(u,"_cursor",["direction","key","primaryKey","value"]),n(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(n){n in IDBCursor.prototype&&(u.prototype[n]=function(){var e=this,t=arguments;return Promise.resolve().then(function(){return e._cursor[n].apply(e._cursor,t),s(e._request).then(function(t){if(t)return new u(t,e._request)})})})}),c.prototype.createIndex=function(){return new a(this._store.createIndex.apply(this._store,arguments))},c.prototype.index=function(){return new a(this._store.index.apply(this._store,arguments))},e(c,"_store",["name","keyPath","indexNames","autoIncrement"]),n(c,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),o(c,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),r(c,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new c(this._tx.objectStore.apply(this._tx,arguments))},e(h,"_tx",["objectStoreNames","mode"]),r(h,"_tx",IDBTransaction,["abort"]),l.prototype.createObjectStore=function(){return new c(this._db.createObjectStore.apply(this._db,arguments))},e(l,"_db",["name","version","objectStoreNames"]),r(l,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},e(f,"_db",["name","version","objectStoreNames"]),r(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(i){[c,a].forEach(function(t){i in t.prototype&&(t.prototype[i.replace("open","iterate")]=function(){var t,e=(t=arguments,Array.prototype.slice.call(t)),n=e[e.length-1],t=this._store||this._index,r=t[i].apply(t,e.slice(0,-1));r.onsuccess=function(){n(r.result)}})})}),[a,c].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(e){r.iterateCursor(t,function(t){t?(i.push(t.value),void 0===n||i.length!=n?t.continue():e(i)):e(i)})})})}),t.openDb=function(t,e,n){var e=i(indexedDB,"open",[t,e]),r=e.request;return r&&(r.onupgradeneeded=function(t){n&&n(new l(r.result,t.oldVersion,r.transaction))}),e.then(function(t){return new f(t)})},t.deleteDb=function(t){return i(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},"q/0M":function(t,e,n){"use strict";function s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}n.d(e,"a",function(){return a}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return p});var a,r=[];(e=a=a||{})[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT";function i(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,s(["["+i+"]  "+t.name+":"],n))}}var u={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},o=a.INFO,c=((e={})[a.DEBUG]="log",e[a.VERBOSE]="log",e[a.INFO]="info",e[a.WARN]="warn",e[a.ERROR]="error",e),h=(Object.defineProperty(l.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),l.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(l.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),l.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,a.DEBUG],t)),this._logHandler.apply(this,s([this,a.DEBUG],t))},l.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,a.VERBOSE],t)),this._logHandler.apply(this,s([this,a.VERBOSE],t))},l.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,a.INFO],t)),this._logHandler.apply(this,s([this,a.INFO],t))},l.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,a.WARN],t)),this._logHandler.apply(this,s([this,a.WARN],t))},l.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,a.ERROR],t)),this._logHandler.apply(this,s([this,a.ERROR],t))},l);function l(t){this.name=t,this._logLevel=o,this._logHandler=i,this._userLogHandler=null,r.push(this)}function f(e){r.forEach(function(t){t.setLogLevel(e)})}function p(s,e){for(var t=0,n=r;t<n.length;t++)!function(t){var o=null;e&&e.level&&(o=u[e.level]),t.userLogHandler=null===s?null:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");e>=(null!=o?o:t.logLevel)&&s({level:a[e].toLowerCase(),message:i,args:n,type:t.name})}}(n[t])}},qOnz:function(t,nt,rt){"use strict";!function(t){rt.d(nt,"a",function(){return f}),rt.d(nt,"b",function(){return k}),rt.d(nt,"c",function(){return N}),rt.d(nt,"d",function(){return H}),rt.d(nt,"e",function(){return S}),rt.d(nt,"f",function(){return s}),rt.d(nt,"g",function(){return o}),rt.d(nt,"h",function(){return a}),rt.d(nt,"i",function(){return u}),rt.d(nt,"j",function(){return et}),rt.d(nt,"k",function(){return V}),rt.d(nt,"l",function(){return G}),rt.d(nt,"m",function(){return h}),rt.d(nt,"n",function(){return l}),rt.d(nt,"o",function(){return Y}),rt.d(nt,"p",function(){return d}),rt.d(nt,"q",function(){return M}),rt.d(nt,"r",function(){return m}),rt.d(nt,"s",function(){return g}),rt.d(nt,"t",function(){return w}),rt.d(nt,"u",function(){return F}),rt.d(nt,"v",function(){return I}),rt.d(nt,"w",function(){return T}),rt.d(nt,"x",function(){return v}),rt.d(nt,"y",function(){return y}),rt.d(nt,"z",function(){return _}),rt.d(nt,"A",function(){return b}),rt.d(nt,"B",function(){return E}),rt.d(nt,"C",function(){return L}),rt.d(nt,"D",function(){return P}),rt.d(nt,"E",function(){return q}),rt.d(nt,"F",function(){return B}),rt.d(nt,"G",function(){return U}),rt.d(nt,"H",function(){return tt}),rt.d(nt,"I",function(){return Z}),rt.d(nt,"J",function(){return x}),rt.d(nt,"K",function(){return X}),rt.d(nt,"L",function(){return $}),rt.d(nt,"M",function(){return Q}),rt.d(nt,"N",function(){return O});function n(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}var e=rt("mrSG"),r=!1,i=!1,s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=(15&a)<<2|c>>6,c=63&c;u||(c=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[c])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i,o,s,a=t[n++];a<128?e[r++]=String.fromCharCode(a):191<a&&a<224?(o=t[n++],e[r++]=String.fromCharCode((31&a)<<6|63&o)):239<a&&a<365?(i=((7&a)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(o=t[n++],s=t[n++],e[r++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&s))}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){t=n(t);return a.encodeByteArray(t,!0)},c=function(t){try{return a.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function h(t){return l(void 0,t)}function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=l(t[n],e[n]));return t}var f=(p.prototype.wrapCallback=function(n){var r=this;return function(t,e){t?r.reject(t):r.resolve(e),"function"==typeof n&&(r.promise.catch(function(){}),1===n.length?n(t):n(t,e))}},p);function p(){var n=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})}function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function y(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function m(){return"object"==typeof self&&self.self===self}function g(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return 0<=d().indexOf("Electron/")}function I(){var t=d();return 0<=t.indexOf("MSIE ")||0<=t.indexOf("Trident/")}function E(){return 0<=d().indexOf("MSAppHost/")}function _(){return!0===r||!0===i}function T(){return"indexedDB"in self&&null!=indexedDB}function O(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})}function S(){return!(!navigator||!navigator.cookieEnabled)}var A,N=(A=Error,Object(e.c)(C,A),C),k=(j.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t,t=this.errors[t],t=t?(r=i,t.replace(D,function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"})):"Error",t=this.serviceName+": "+t+" ("+o+").";return new N(o,t,i)},j);function j(t,e,n){this.service=t,this.serviceName=e,this.errors=n}function C(t,e,n){e=A.call(this,e)||this;return e.code=t,e.customData=n,e.name="FirebaseError",Object.setPrototypeOf(e,C.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,k.prototype.create),e}var D=/\{\$([^}]+)}/g;function P(t){return JSON.parse(t)}function x(t){return JSON.stringify(t)}function R(t){var e={},n={},r={},i="";try{var o=t.split("."),e=P(c(o[0])||""),n=P(c(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}}var L=function(t){t=R(t).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},M=function(t){t=R(t).claims;return"object"==typeof t&&!0===t.admin};function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function F(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function q(t,e,n){var r,i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function B(t){for(var n=[],e=0,r=Object.entries(t);e<r.length;e++){var i=r[e];!function(e,t){Array.isArray(t)?t.forEach(function(t){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}):n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}(i[0],i[1])}return n.length?"&"+n.join("&"):""}var H=(z.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},z.prototype.compress_=function(t,e){e=e||0;var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4],r=0;r<80;r++)s=r<40?r<20?(o=h^u&(c^h),1518500249):(o=u^c^h,1859775393):r<60?(o=u&c|h&(u|c),2400959708):(o=u^c^h,3395469782),i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295,l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},z.prototype.update=function(t,e){if(null!=t){for(var n=(e=void 0===e?t.length:e)-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},z.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;0<=i;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},z);function z(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}function G(t,e){e=new K(t,e);return e.subscribe.bind(e)}var K=(W.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},W.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},W.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},W.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t){if("object"==typeof t&&null!==t)for(var e=0,n=["next","error","complete"];e<n.length;e++){var r=n[e];if(r in t&&"function"==typeof t[r])return 1}}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),n},W.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},W.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},W.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},W.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},W);function W(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}function J(){}var X=function(t,e,n,r){var i;if(r<e?i="at least "+e:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Y(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+(r+" argument ")}function $(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Y(t,e,r)+"must be a valid function.")}function Q(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Y(t,e,r)+"must be a valid context object.")}var Z=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i,o=t.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,s(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(t.charCodeAt(r)-56320)),o<128?e[n++]=o:(o<2048?e[n++]=o>>6|192:(o<65536?e[n++]=o>>12|224:(e[n++]=o>>18|240,e[n++]=o>>12&63|128),e[n++]=o>>6&63|128),e[n++]=63&o|128)}return e},tt=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:55296<=r&&r<=56319?(e+=4,n++):e+=3}return e};function et(t,e,n){void 0===n&&(n=2);n=(e=void 0===e?1e3:e)*Math.pow(n,t),t=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+t)}}.call(this,rt("yLpj"))},sVPq:function(t){t.exports=JSON.parse('{"id":"1520991e-2b44-4adb-a521-3dca7aae18b3","displayName":"LiveHighlights"}')},tc67:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=n("z8gk").default,c=n("mwIZ");n("jMzp"),n("Adnd"),n("ktbM");var h=n("Vt0U"),s=(o(l.prototype,[{key:"subscribe",value:function(t){this.subscriptionCallbacks.push(t),t(this.prepData())}},{key:"prepData",value:function(){var t={};return this.formattedCards.length&&(t.cards=this.formattedCards),Object.keys(this.stackData).length&&(t.stackData=this.stackData),t}},{key:"subscribeCards",value:function(){var r=this;this.cardsQuery.onSnapshot(function(t){var e=[],n=[];t.docChanges().forEach(function(t){("removed"===t.type?e:n).push(t.doc)}),r.handleNewSnapshot({cards:n,deletedCards:e})})}},{key:"subscribeStackData",value:function(){var e=this;this.stacksQuery.onSnapshot(function(t){e.handleNewSnapshot({stackData:t})})}},{key:"subscribeHighlights",value:function(){var n=this;return this.cardsQuery.where("meta.display.highlight","==",!0).onSnapshot(function(t){var e=[];t.docChanges().forEach(function(t){e.push(t.doc)}),n.handleNewSnapshot({cards:e})})}},{key:"loadMoreCards",value:function(n){var r=this;this.cardsQuery&&this.cardsQuery.startAfter(this.lastCardDate).get().then(function(t){var e=!1;0==t.docs.length&&(e=!0),r.handleNewCards(t),n(null,{paginationComplete:e,cards:r.getSortedCardsWithAds()})}).catch(function(t){console.error("Live Coverage Load More:",t.message)})}}]),l);function l(t,e,n){var s=this;!function(t){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),a(this,"initializeFirestore",function(t,n,e){var r=e.highlightsOnly,e=e.limit,i=void 0===e?25:e;u.apps.length<1&&(u.initializeApp(t),u.analytics(),u.auth().signInAnonymously().then(function(){s.instance=u.firestore(),s.stacksQuery=s.instance.doc("".concat(t.app,"/").concat(t.appEnv,"/stacks/").concat(n)),s.cardsQuery=s.instance.collection("".concat(t.app,"/").concat(t.appEnv,"/stacks/").concat(n,"/cards")).where("status","==","published");var e=s.defaultOrderByQueries;s.stacksQuery.get().then(function(t){s.stackData=t.data();t=(s.stackData||{}).config;t&&((e=c(t,"cardsQuery.orderBy",[])).length||(e=s.defaultOrderByQueries))}).catch(function(t){console.error("Live Coverage Stack Initialization:",t.message)}).finally(function(){e.forEach(function(t){var e=t.field,t=t.direction;s.cardsQuery=s.cardsQuery.orderBy(e,t)}),s.cardsQuery=s.cardsQuery.limit(i),r?s.subscribeHighlights():(s.subscribeCards(),s.subscribeStackData())})}).catch(function(t){console.error("Live Coverage Initialization:",t.message)}))}),a(this,"getSortedCards",function(){var t=s.stackData.config,t=(t=void 0===t?{}:t).cardsQuery,t=(t=void 0===t?{}:t).orderBy,o=void 0===t?[]:t;return o.length||(o=s.defaultOrderByQueries),Object.values(s.cards).sort(function(t,e){for(var n=0;n<o.length;n++){var r=o[n].field;if(t[r]&&e[r]&&t[r]!==e[r]){var i=o[n].direction,r=t[r]<e[r]?1:-1;return"desc"===i?r:-r}}return 0})}),a(this,"handleNewCards",function(t){t.forEach(function(t){var e=t.data(),t=e.id;s.cards[t]=e}),s.firstViewedCard||(t=r(s.getSortedCards(),1)[0],s.firstViewedCard=t)}),a(this,"getSortedCardsWithAds",function(){var t,e,n,r,i=s.stackData.config,o=(i=void 0===i?{}:i).displayTimeField,i=void 0===o?"createdAt":o,o=s.getSortedCards(),t=s.disableAds?o:(t=o,e=s.firstViewedCard,n=t.findIndex(function(t){return t.id===e.id}),r=[],t.forEach(function(t,e){r.push(t);e=h(e,n);e&&r.push({ad:!0,type:e,id:"after-".concat(t.id)})}),r),i=o[o.length-1][i];return s.lastCardDate=parseInt(i,10),t}),a(this,"handleDeletedCards",function(t){t.forEach(function(t){var e,n=t.data().id,t=s.getSortedCards();delete s.cards[n],n===s.firstViewedCard.id&&(e=r(t,2)[1])&&(s.firstViewedCard=e)})}),a(this,"handleNewSnapshot",function(t){var e=t.cards,n=t.deletedCards,t=t.stackData;t&&(s.stackData=t.data()),e&&e.length&&(s.handleNewCards(e),s.formattedCards=s.getSortedCardsWithAds()),n&&n.length&&(s.handleDeletedCards(n),s.formattedCards=s.getSortedCardsWithAds());var r=s.prepData();s.subscriptionCallbacks.forEach(function(t){return t(r)})}),this.cards={},this.formattedCards=[],this.config=t,this.firstViewedCard="",this.disableAds=n.highlightsOnly,this.stackData={},this.subscriptionCallbacks=[],this.initializeFirestore(t,e,n),this.defaultOrderByQueries=[{field:"createdAt",direction:"desc"}]}t.exports=function(t,e){return void 0===window.lcFirestore&&(e=new s(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}),window.lcFirestore=e),window.lcFirestore}},x7Ii:function(t,e,n){t.exports={"color-mercury-gray":"#EAEAEA",label:"style--label--13MlcFOP typography--sans-serif-narrow--tQEgavy2","csuite-newsletters":"style--csuite-newsletters--2maWmRpC","logistics-newsletter":"style--logistics-newsletter--30zu6Agi","csuite-newsletter-label":"style--csuite-newsletter-label--bYxliZn0 typography--sans-serif-narrow--tQEgavy2",opinion:"style--opinion--331Kkovj",popular:"style--popular--1tPwo3ys","button-strap":"style--button-strap--3znXKEgf","how-to-bucket":"style--how-to-bucket--2zy6fAU6",rss:"style--rss--1wA1KS67","how-to-bucket-first":"style--how-to-bucket-first--4qrPkwBY","label-text":"style--label-text--2t4HDvAB",labelDescription:"style--labelDescription--3reLxnKF",strap:"style--strap--ND8Cuaip",link:"style--link--1JBnCaZi","icon-shoppingcart":"style--icon-shoppingcart--3QQPzO3g","icon-twitter":"style--icon-twitter--2Oxf03Tu","icon-email":"style--icon-email--1XdddUi2","icon-star":"style--icon-star--2-kkiYZo","icon-rss":"style--icon-rss--3KWQ_55C","icon-latestnews":"style--icon-latestnews--1fhxQk4P","icon-relative-container":"style--icon-relative-container--1Oq2H3iT","icon-position-left":"style--icon-position-left--3YDb2cNd","icon-position-right":"style--icon-position-right--Sm9pTJ3p",icon:"style--icon--1WxxxS-r",reset:"style--reset--3OrX4ujJ","size-small":"style--size-small--1mrJTuBn","size-large":"style--size-large--2TuzGTEU","size-flat":"style--size-flat--3nIsqXCj","align-left":"style--align-left--3iZ8c-pm","align-center":"style--align-center--Hru1_kCY","align-right":"style--align-right--23KkLuye","icon-link":"style--icon-link--3nS95BKp","padding-top":"style--padding-top--2IaMnkRi styles--padding-top--2WzISCk5","padding-top-large":"style--padding-top-large--3KE-fK8w styles--padding-top-large--3rrHKJPO","padding-bottom":"style--padding-bottom--1wuuBfkb styles--padding-bottom--DQ6elYpe","padding-bottom-large":"style--padding-bottom-large--26vh1Nwh styles--padding-bottom-large--2vWCTk2s","margin-top":"style--margin-top--2whH1lNC styles--margin-top--JunLLtez","margin-top-large":"style--margin-top-large--3OA5f-wP styles--margin-top-large--2EMcMHz9","margin-bottom":"style--margin-bottom--32Bdxfk2 styles--margin-bottom--1qLtxtgQ","margin-bottom-large":"style--margin-bottom-large--3TopVe3Z styles--margin-bottom-large--wa4U95NA","border-display":"style--border-display--1k7q_3G1 styles--border-bottom--2gLRRJBY","border-none":"style--border-none--2JInL-ey","border-top":"style--border-top--CjTxXiza","border-top-black":"style--border-top-black--1gdj_PtD","border-top-thick":"style--border-top-thick--tqGkEhNE","border-bottom":"style--border-bottom--1SgTjdMm",nested:"style--nested--3s9BNhaO","no-border":"style--no-border--1_sXga6M","no-bold":"style--no-bold--2u0_OASh","subheader-caption":"style--subheader-caption--3PGjRzxA","in-depth":"style--in-depth--1IVDNnhA","sap-newsletter":"style--sap-newsletter--1U99xbja","error-page":"style--error-page--2226rJbI",iconLabel:"style--iconLabel--2OxJqv6M","opinion-section":"style--opinion-section--DwBH39w0","latest-headlines":"style--latest-headlines--5ATjsZ72"}},z8gk:function(t,e,n){"use strict";n.r(e);var r=n("zIRd");n.d(e,"default",function(){return r.a}),r.a.registerVersion("firebase","8.2.1","app")},zIRd:function(t,e,n){"use strict";var p=n("mrSG"),d=n("qOnz"),v=n("/6Yf"),r=n("q/0M"),n=((n={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",n["bad-app-name"]="Illegal App name: '{$appName}",n["duplicate-app"]="Firebase App named '{$appName}' already exists",n["app-deleted"]="Firebase App named '{$appName}' already deleted",n["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",n["invalid-log-argument"]="First argument to `onLog` must be null or a function.",n),y=new d.b("app","Firebase",n),s=((n={})["@firebase/app"]="fire-core",n["@firebase/analytics"]="fire-analytics",n["@firebase/auth"]="fire-auth",n["@firebase/database"]="fire-rtdb",n["@firebase/functions"]="fire-fn",n["@firebase/installations"]="fire-iid",n["@firebase/messaging"]="fire-fcm",n["@firebase/performance"]="fire-perf",n["@firebase/remote-config"]="fire-rc",n["@firebase/storage"]="fire-gcs",n["@firebase/firestore"]="fire-fst",n["fire-js"]="fire-js",n["firebase-wrapper"]="fire-js-all",n),m=new r.b("@firebase/app"),i=(Object.defineProperty(o.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),o.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(t){return t.delete()}))}).then(function(){e.isDeleted_=!0})},o.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},o.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},o.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){m.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},o.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},o.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw y.create("app-deleted",{appName:this.name_})},o);function o(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(d.m)(t),this.container=new v.b(e.name),this._addComponent(new v.a("app",function(){return o},"PUBLIC"));try{for(var s=Object(p.h)(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}i.prototype.name&&i.prototype.options||i.prototype.delete||console.log("dc");var n=function t(){var u,c,h,l,e=(u=i,c={},h=new Map,(l={__esModule:!0,initializeApp:function(t,e){var n=e="object"!=typeof(e=void 0===e?{}:e)||null===e?{name:e}:e;void 0===n.name&&(n.name="[DEFAULT]");e=n.name;if("string"!=typeof e||!e)throw y.create("bad-app-name",{appName:String(e)});if(Object(d.k)(c,e))throw y.create("duplicate-app",{appName:e});n=new u(t,n,l);return c[e]=n},app:f,registerVersion:function(t,e,n){var r=null!==(i=s[t])&&void 0!==i?i:t;n&&(r+="-"+n);var i=r.match(/\s|\//),t=e.match(/\s|\//);if(i||t){n=['Unable to register library "'+r+'" with version "'+e+'":'];return i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&t&&n.push("and"),t&&n.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void m.warn(n.join(" "))}o(new v.a(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:r.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw y.create("invalid-log-argument",{appName:name});Object(r.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete c[t]},components:h,useAsService:function(t,e){return"serverAuth"===e?null:e}}}).default=l,Object.defineProperty(l,"apps",{get:function(){return Object.keys(c).map(function(t){return c[t]})}}),f.App=u,l);function f(t){if(t=t||"[DEFAULT]",!Object(d.k)(c,t))throw y.create("no-app",{appName:t});return c[t]}function o(n){var e,t,r,i=n.name;if(h.has(i))return m.debug("There were multiple attempts to register component "+i+"."),"PUBLIC"===n.type?l[i]:null;h.set(i,n),"PUBLIC"===n.type&&(r=function(t){if("function"!=typeof(t=void 0===t?f():t)[i])throw y.create("invalid-app-argument",{appName:i});return t[i]()},void 0!==n.serviceProps&&Object(d.n)(r,n.serviceProps),l[i]=r,u.prototype[i]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,i).apply(this,n.multipleInstances?t:[])});try{for(var o=Object(p.h)(Object.keys(c)),s=o.next();!s.done;s=o.next()){var a=s.value;c[a]._addComponent(n)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return"PUBLIC"===n.type?l[i]:null}return e.INTERNAL=Object(p.a)(Object(p.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(d.n)(e,t)},createSubscribe:d.l,ErrorFactory:d.b,deepExtend:d.n}),e}(),a=(u.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if("VERSION"!==(null==(e=t.getComponent())?void 0:e.type))return null;var e,t=t.getImmediate();return t.library+"/"+t.version}).filter(function(t){return t}).join(" ")},u);function u(t){this.container=t}Object(d.r)()&&void 0!==self.firebase&&(m.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(h=self.firebase.SDK_VERSION)&&0<=h.indexOf("LITE")&&m.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var c=n.initializeApp;n.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(d.y)()&&m.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),c.apply(void 0,t)};var h=n;(n=h).INTERNAL.registerComponent(new v.a("platform-logger",function(t){return new a(t)},"PRIVATE")),n.registerVersion("@firebase/app","0.6.13",void 0),n.registerVersion("fire-js",""),e.a=h},zoYe:function(t,e,n){var r=n("nmnc"),i=n("eUgh"),o=n("Z0cm"),s=n("/9aa"),r=r?r.prototype:void 0,a=r?r.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return a?a.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}}}]);

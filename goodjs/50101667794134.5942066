!function(C){"use strict";function z(e,t){for(var r in t=t||{},C.forEach(t,function(e,r){delete t[r]}),e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r]);return t}var G=C.$$minErr("$resource"),I=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;C.module("ngResource",["ng"]).provider("$resource",function(){var p=/^https?:\/\/[^/]*/,i=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(O,e,q,x){function c(e,r){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,r?"%20":"+")}function s(e,r){this.template=e,this.defaults=S({},i.defaults,r),this.urlParams={}}var k=C.noop,D=C.forEach,S=C.extend,W=C.copy,j=C.isArray,l=C.isDefined,U=C.isFunction,o=C.isNumber;return s.prototype={setUrlParams:function(t,a,e){var n,s,o=this,i=e||o.template,r="",u=o.urlParams={};D(i.split(/\W/),function(e){if("hasOwnProperty"===e)throw G("badname");!/^\d+$/.test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(i)&&(u[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(i)})}),i=(i=i.replace(/\\:/g,":")).replace(p,function(e){return r=e,""}),a=a||{},D(o.urlParams,function(e,r){n=(a.hasOwnProperty(r)?a:o.defaults)[r],i=l(n)&&null!==n?(s=e.isQueryParamValue?c(n,!0):c(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),i.replace(new RegExp(":"+r+"(\\W|$)","g"),function(e,r){return s+r})):i.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(e,r,t){return"/"===t.charAt(0)?t:r+t})}),i=(i=o.defaults.stripTrailingSlashes?i.replace(/\/+$/,"")||"/":i).replace(/\/\.(?=\w+($|\?))/,"."),t.url=r+i.replace(/\/\\\./,"/."),D(a,function(e,r){o.urlParams[r]||(t.params=t.params||{},t.params[r]=e)})}},function r(t,A,a,n){function E(e){return e.resource}function T(e){z(e||{},this)}var R=new s(t,n);return a=S({},i.defaults.actions,a),T.prototype.toJSON=function(){var e=S({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},D(a,function(v,y){var w=/^(POST|PUT|PATCH)$/i.test(v.method),b=v.timeout,P=(l(v.cancellable)?v:R.defaults).cancellable;b&&!o(b)&&(e.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete v.timeout,b=null),T[y]=function(e,r,t,a){var n,s,o,i={};switch(arguments.length){case 4:o=a,s=t;case 3:case 2:if(!U(r)){i=e,n=r,s=t;break}if(U(e)){s=e,o=r;break}s=r,o=t;case 1:U(e)?s=e:w?n=e:i=e;break;case 0:break;default:throw G("badargs",arguments.length)}var u,c,l,p,f,h=this instanceof T,d=h?n:v.isArray?[]:new T(n),m={},$=v.interceptor&&v.interceptor.response||E,g=v.interceptor&&v.interceptor.responseError||void 0;return D(v,function(e,r){switch(r){default:m[r]=W(e);case"params":case"isArray":case"interceptor":case"cancellable":}}),!h&&P&&(u=q.defer(),m.timeout=u.promise,b&&(c=x(u.resolve,b))),w&&(m.data=n),R.setUrlParams(m,S({},(l=n,p=v.params||{},f={},p=S({},A,p),D(p,function(e,r){if((e=U(e)?e(l):e)&&e.charAt&&"@"===e.charAt(0)){o=l;var t=e.substr(1);if(null==t||""===t||"hasOwnProperty"===t||!I.test("."+t))throw G("badmember",t);for(var a=0,n=(t=t.split(".")).length;a<n&&C.isDefined(o);a++)var s=t[a],o=null!==o?o[s]:void 0}else o=e;f[r]=o}),f),i),v.url),(i=O(m).then(function(e){var r,t=e.data;if(t){if(j(t)!==!!v.isArray)throw G("badcfg",y,v.isArray?"array":"object",j(t)?"array":"object",m.method,m.url);v.isArray?(d.length=0,D(t,function(e){"object"==typeof e?d.push(new T(e)):d.push(e)})):(r=d.$promise,z(t,d),d.$promise=r)}return e.resource=d,e},function(e){return(o||k)(e),q.reject(e)})).finally(function(){d.$resolved=!0,!h&&P&&(d.$cancelRequest=k,x.cancel(c),u=c=m.timeout=null)}),i=i.then(function(e){var r=$(e);return(s||k)(r,e.headers,e.status,e.statusText),r},g),h?i:(d.$promise=i,d.$resolved=!1,P&&(d.$cancelRequest=u.resolve),d)},T.prototype["$"+y]=function(e,r,t){return U(e)&&(t=r,r=e,e={}),(e=T[y].call(this,e,this,r,t)).$promise||e}}),T.bind=function(e){return e=S({},A,e),r(t,e,a,n)},T}}]})}((window,window.angular));

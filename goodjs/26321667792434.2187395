(window.monolithJsonpFunction=window.monolithJsonpFunction||[]).push([["06eceaa0","cc9dd1c9"],{10397:function(n,e,t){"use strict";t.r(e),t.d(e,"fps",function(){return f}),t.d(e,"load",function(){return v}),t.d(e,"metrics",function(){return p});function i(i,o){var t,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,u=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return t=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function n(t,r){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=function(){switch(window.location.hostname){case"www.avito.ru":case"m.avito.ru":return!0;default:return!1}}(),n.next=3,o;case 3:if(n.t0=n.sent,!n.t0){n.next=6;break}n.t0=a;case 6:if(!n.t0){n.next=10;break}n.t1=fetch("https://stats.avito.ru/api/".concat(c,"/stats/frontend/")+i,{method:"POST",body:JSON.stringify(u?(e=r,{data:t,meta:{connection:Object(s.a)(),page:e||l.a.initialPageId,platform:(e=l.a.initialPlatform,"".concat(e).concat(l.a.isDevEnv?"-dev":""))}}):{data:t})}).then(function(n){return n.json()}).catch(function(){}),n.next=11;break;case 10:n.t1=null;case 11:return n.abrupt("return",n.t1);case 12:case"end":return n.stop()}var e},n)})),function(n,e){return t.apply(this,arguments)}}var r,a,o,c,s=t(10953),u=t(5985),l=t(5986),d=(c=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function n(){var e,t,r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(Object(u.g)())return n.abrupt("return",!1);n.next=2;break;case 2:return e=l.a.initialPlatform,a=l.a.initialPageId,t=0,n.prev=4,r=i("balance",!0,1,!1),n.next=8,r({platform:e,pageId:a});case 8:a=n.sent,t=a&&a.result&&a.result.percent?a.result.percent:0,n.next=14;break;case 12:n.prev=12,n.t0=n.catch(4);case 14:return n.abrupt("return",Object(u.h)(t));case 15:case"end":return n.stop()}},n,null,[[4,12]])})),function(){return c.apply(this,arguments)}),t=new Promise(function(n){n(d())}),f=i("fps",t),v=i("load",t),p=(r=i("generic",t),a=new Map,o=function(){a.forEach(r),a.clear()},function n(){return setTimeout(function(){o(),n()},5e3)}(),window.addEventListener("visibilitychange",o,!0),window.addEventListener("beforeunload",function(){removeEventListener("visibilitychange",o,!0),o()}),function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l.a.initialPageId,t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=[].concat(babelHelpers.toConsumableArray(a.get(e)||[]),babelHelpers.toConsumableArray(n));a.set(e,n),!0===t&&o()})},10953:function(n,e,t){"use strict";t(5987);t.d(e,"b",function(){return c}),t.d(e,"a",function(){return u});var r=Object.entries({unknown:0,gprs:.5,regular2G:.25,good2G:.45,regular3G:.75,good3G:1.4,regular4G:4,wifi:8}),a=[],i=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,o=null,c=function(){var n;i&&(n=setInterval(function(){i.downlink&&a.push(i.downlink)},250),window.addEventListener("load",function(){clearInterval(n)}))},u=function(){if(o)return o;var t=a.sort(function(n,e){return n-e})[Math.floor(a.length/2)]||0,n=(e=a)&&e.length?e.reduce(function(n,e){return n+e},0)/e.length:0,e=r.reduceRight(function(n,e){return t<=e[1]?e:n}),n={type:babelHelpers.slicedToArray(e,1)[0],speed:{median:t,average:n}};return o=n}},5987:function(n,e,t){"use strict";t.d(e,"a",function(){return r}),t.d(e,"b",function(){return a});var r=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;return Object.entries(n).reduce(function(n,e){var t=babelHelpers.slicedToArray(e,2),e=t[0],t=t[1];return n[e]=r(t,e),n},{})},a=function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object.keys(n[0]||{}),r=2<arguments.length?arguments[2]:void 0,a=3<arguments.length?arguments[3]:void 0;return n.reduce(function(n,t){return e.reduce(function(n,e){return!n[e]&&a&&a[e]&&(n[e]=a[e]),n[e]?n[e]=r(n[e],t[e]):n[e]=t[e],n},n)},{})}}}]);

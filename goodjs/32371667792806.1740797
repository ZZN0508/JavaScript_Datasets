!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=116)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(173).default,o=n(175),a=o.getCookie,s=o.setCookie,u=o.areCookiesAvailable,c=n(113),l=c.generateUUID,f=c.pollForValues,d=c.coextensive2DArrays,p=c.getViewportSize,h=c.isElementCloseToViewport,v=c.isInBreakpointRange,g=c.getValueForBreakpoint,m=c.processConfigForBreakpoint,y=c.watchForBreakpointUpdates,b=c.getBoundsForBreakpointKey,w=c.createTrackingPixeliFrame,x=c.createTrackingPixelHTML,O=c.convertToPriceBucket,_=c.successBid,S=c.failureBid,A=c.setTargetings,k=c.setAuctionManager,E=c.setBidTargetingForNode,P=c.convertToOpenRtbSizes,C=c.applyStringTemplate,j=c.getNodePos,z=c.getCreativeSize,T=c.loadScript,I=c.getHeadElement,o=c.fetcherJSON,n=c.fetcher,c=c.sort2dSizeArray;e.exports={getCookie:a,setCookie:s,areCookiesAvailable:u,getViewportSize:p,isInBreakpointRange:v,getValueForBreakpoint:g,processConfigForBreakpoint:m,watchForBreakpointUpdates:y,createTrackingPixelHTML:x,createTrackingPixeliFrame:w,convertToPriceBucket:O,successBid:_,failureBid:S,pollForValues:f,urlCheck:function(e,t,n){e=("variable"===n?new RegExp("[\\?&;]".concat(t,"=([^&#?]*)")):new RegExp("[\\?&;](".concat(t,")[^=&#?]*"))).exec(e);return e?e[e.length-1]:void 0},wordMatch:function(e,t,n){var r=[],i=(n=n||!1)?"":"(|s|es|ed|ing|er)",o=(e=e instanceof Array?e:[e]).length;if(o&&t){for(;o--;)r.push(e[o]+i);return r="\\b".concat(r.join("\\b|\\b"),"\\b"),new RegExp(r,"i").test(t)}return!1},setTargetings:A,setCategoryExclusions:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;e.forEach(function(e){return t.setCategoryExclusion(e)})},addInlineCss:function(e){var t=document.createElement("style");return t.type="text/css",t.media="screen",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)},loadScript:T,loadScripts:function(e){var t=I();e.forEach(function(e){T({script:e,node:t})})},safeGet:function(e,t,n){return t.split(".").reduce(function(e,t){return e&&e[t]?e[t]:n},e)},getValidPeriod:function(n,e){return e.find(function(e){var t=e.start?new Date(e.start):-1/0,e=e.end?new Date(e.end):1/0;return t<=n&&n<=e})},isStorageAvailable:function(){var t=!1;try{localStorage.setItem("test","test"),localStorage.removeItem("test"),t=!0}catch(e){t=!1}return t},isMobile:function(){return i().any},isElementCloseToViewport:h,generateUUID:l,getNodePos:j,getNodeKey:function(e){return e.replace(/[0-9]+\b/gm,"*")},isValidKeyValuePair:function(e){return e&&"object"===r(e)&&!Array.isArray(e)&&0<Object.keys(e).length},createZeusAdCss:function(e){var t=document.createElement("style");t.type="text/css";e="\n    ".concat(e," {\n      display: block;\n    }\n  ");t.appendChild(document.createTextNode(e)),(document.head||document.getElementsByTagName("head")[0]).appendChild(t)},setBidTargetingForNode:E,setAuctionManager:k,applyStringTemplate:C,getBoundsForBreakpointKey:b,convertToOpenRtbSizes:P,coextensive2DArrays:d,coerceValueIntoArray:function(e,t){t=e[t]||(2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0);return t?Array.isArray(t)?t:[t]:[]},getCreativeSize:z,fetcherJSON:o,fetcher:n,sort2dSizeArray:c,getGAMID:function(e){var t,n,r,i;return(null==e||null===(t=e.customPlugins)||void 0===t||null===(n=t.dfpnode)||void 0===n?void 0:n.dfpId)||(null==e||null===(r=e.plugins)||void 0===r||null===(i=r.adunit)||void 0===i?void 0:i.gamId)}}},function(e,t,n){},function(n,e,t){!function(e){function t(e){return e&&e.Math==Math&&e}n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||function(){return this}()||Function("return this")()}.call(this,t(121))},function(e,t,n){var r=n(2),i=n(92),o=n(5),a=n(93),s=n(100),n=n(137),u=i("wks"),c=r.Symbol,l=n?c:c&&c.withoutSetter||a;e.exports=function(e){return o(u,e)&&(s||"string"==typeof u[e])||(s&&o(c,e)?u[e]=c[e]:u[e]=l("Symbol."+e)),u[e]}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(9);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(11),i=n(12),o=n(18);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var c=n(2),l=n(51).f,f=n(7),d=n(13),p=n(55),h=n(125),v=n(97);e.exports=function(e,t){var n,r,i,o,a=e.target,s=e.global,u=e.stat;if(n=s?c:u?c[a]||p(a,{}):(c[a]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(o=l(n,r))&&o.value:n[r],!v(s?r:a+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;h(i,o)}(e.sham||o&&o.sham)&&f(i,"sham",!0),d(n,r,i,e)}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){function r(e){return"function"==typeof e?e:void 0}var i=n(94),o=n(2);e.exports=function(e,t){return arguments.length<2?r(i[e])||r(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},function(e,t,n){n=n(4);e.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t,n){var r=n(11),i=n(91),o=n(6),a=n(90),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var s=n(2),u=n(7),c=n(5),l=n(55),r=n(56),n=n(20),i=n.get,f=n.enforce,d=String(String).split("String");(e.exports=function(e,t,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||c(n,"name")||u(n,"name",t),(r=f(n)).source||(r.source=d.join("string"==typeof t?t:""))),e!==s?(i?!a&&e[t]&&(o=!0):delete e[t],o?e[t]=n:u(e,t,n)):o?e[t]=n:l(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||r(this)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){e.exports=!1},function(e,t){e.exports={}},function(e,t,n){"use strict";function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}var i=n(14);e.exports.f=function(e){return new r(e)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(123),i=n(53);e.exports=function(e){return r(i(e))}},function(e,t,n){var r,i,o,a,s,u,c,l,f=n(124),d=n(2),p=n(9),h=n(7),v=n(5),g=n(57),m=n(58),n=n(59),d=d.WeakMap;c=f?(r=g.state||(g.state=new d),i=r.get,o=r.has,a=r.set,s=function(e,t){return t.facade=e,a.call(r,e,t),t},u=function(e){return i.call(r,e)||{}},function(e){return o.call(r,e)}):(n[l=m("state")]=!0,s=function(e,t){return t.facade=e,h(e,l,t),t},u=function(e){return v(e,l)?e[l]:{}},function(e){return v(e,l)}),e.exports={set:s,get:u,has:c,enforce:function(e){return c(e)?u(e):s(e,{})},getterFor:function(n){return function(e){var t;if(!p(e)||(t=u(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}}},function(e,t,n){function g(e,t){this.stopped=e,this.result=t}var m=n(6),y=n(136),b=n(96),w=n(102),x=n(138),O=n(139);e.exports=function(e,t,n){function r(e){return o&&O(o),new g(!0,e)}function i(e){return d?(m(e),h?v(e[0],e[1],r):v(e[0],e[1])):h?v(e,r):v(e)}var o,a,s,u,c,l,f=n&&n.that,d=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),v=w(t,f,1+d+h);if(p)o=e;else{if("function"!=typeof(p=x(e)))throw TypeError("Target is not iterable");if(y(p)){for(a=0,s=b(e.length);a<s;a++)if((u=i(e[a]))&&u instanceof g)return u;return new g(!1)}o=p.call(e)}for(c=o.next;!(l=c.call(o)).done;){try{u=i(l.value)}catch(e){throw O(o),e}if("object"==typeof u&&u&&u instanceof g)return u}return new g(!1)}},function(e,t,n){var r=n(52),n=n(2);e.exports="process"==r(n.process)},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var r,i,o;!0===(null===(r={advadrefresher:{active:!0,pauseAdOffFocus:!0},flexfix:{active:!1,advertiserIds:[15772018]},kruxwrapper:{active:!0,kruxId:"IbWIJ0xh",namespace:"washingtonpost"},logger:{active:!0,logLevel:0},metrics:{active:!0,apiHost:"https://wapo-analytics.zeustechnology.com",bucketSize:.2},zeusInsightsForPublishers:{active:!0},zeusslotkvs:{active:!0,configOverride:!1,renderType:!0,deviceType:!1}})||null===(i=r.advadrefresher)||void 0===i?void 0:i.active)&&(o=n(67),e.exports={init:function(e,t){return new o(e,t)},name:"advadrefresher",AdvAdRefresher:o})},function(e,t,n){"use strict";n(1)},function(e,t,n){"use strict";var r=n(68).KruxWrapper;e.exports={init:function(e,t){return new r(e,t)},name:"kruxwrapper",KruxWrapper:r}},function(e,t,n){"use strict";var r,i;!0===(null===(r={advadrefresher:{active:!0,pauseAdOffFocus:!0},flexfix:{active:!1,advertiserIds:[15772018]},kruxwrapper:{active:!0,kruxId:"IbWIJ0xh",namespace:"washingtonpost"},logger:{active:!0,logLevel:0},metrics:{active:!0,apiHost:"https://wapo-analytics.zeustechnology.com",bucketSize:.2},zeusInsightsForPublishers:{active:!0},zeusslotkvs:{active:!0,configOverride:!1,renderType:!0,deviceType:!1}})||null===(i=r.logger)||void 0===i?void 0:i.active)&&(n=n(69).Logger,e.exports={init:n.init,name:"logger"})},function(e,t,n){"use strict";n=n(70).Metrics;e.exports={onload:n.init,Metrics:n,name:"metrics"}},function(e,t,n){"use strict";var r,i,o;!0===(null===(r={advadrefresher:{active:!0,pauseAdOffFocus:!0},flexfix:{active:!1,advertiserIds:[15772018]},kruxwrapper:{active:!0,kruxId:"IbWIJ0xh",namespace:"washingtonpost"},logger:{active:!0,logLevel:0},metrics:{active:!0,apiHost:"https://wapo-analytics.zeustechnology.com",bucketSize:.2},zeusInsightsForPublishers:{active:!0},zeusslotkvs:{active:!0,configOverride:!1,renderType:!0,deviceType:!1}})||null===(i=r.zeusInsightsForPublishers)||void 0===i?void 0:i.active)&&(o=n(71),e.exports={onload:function(e,t){return new o(e,t)},name:"zeusInsightsForPublishers",ZeusInsightsForPublishers:o})},function(e,t,n){"use strict";var r,i,o;!0===(null===(r={advadrefresher:{active:!0,pauseAdOffFocus:!0},flexfix:{active:!1,advertiserIds:[15772018]},kruxwrapper:{active:!0,kruxId:"IbWIJ0xh",namespace:"washingtonpost"},logger:{active:!0,logLevel:0},metrics:{active:!0,apiHost:"https://wapo-analytics.zeustechnology.com",bucketSize:.2},zeusInsightsForPublishers:{active:!0},zeusslotkvs:{active:!0,configOverride:!1,renderType:!0,deviceType:!1}})||null===(i=r.zeusslotkvs)||void 0===i?void 0:i.active)&&(o=n(72),e.exports={init:function(e,t){return new o(e,t)},name:"zeusslotkvs",ZeusSlotKvs:o})},function(e,t,n){"use strict";var r,i=n(73);!0===(null===(n={brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||null===(r=n.adrefresher)||void 0===r?void 0:r.active)&&(e.exports={init:function(e,t){return new i(e,t)},name:"adrefresher",AdRefresher:i})},function(e,t,n){"use strict";var r,i,o=n(0);!0===(null===(n={brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||null===(r=n.brandmetric)||void 0===r?void 0:r.active)&&(e.exports={init:function(t){(0,o.loadScript)({script:"https://cdn.brandmetrics.com/survey/script/1ce8beea3b4c462193e67e1ee915a33b.js",onload:function(){t.timer("script loaded",{name:i})},onerror:function(e){return t.error("script loading failed",{name:i,err:e})}})},name:i="brandmetric"})},function(e,t,n){"use strict";var r,i,o;!0===(null===(r={brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||null===(i=r.dfpnode)||void 0===i?void 0:i.active)&&(o=n(74).Dfpnode,e.exports={init:function(e,t){return new o(e,t)},name:"dfpnode",Dfpnode:o})},function(e,t,n){"use strict";var r,i=n(0);!0===(null===(n={brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||null===(r=n.gdpr)||void 0===r?void 0:r.active)&&(e.exports={init:function(e){var t=i.getCookie("wp_gdpr");t&&(e.config.gdprConsent="1|1"===t)},name:"gdpr"})},function(e,t,n){"use strict";var r,i=n(75);!0===(null===(n={brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||null===(r=n.inlineads)||void 0===r?void 0:r.active)&&(e.exports={init:function(e,t){var n,r;if(null===(n=window)||void 0===n||null===(r=n.wp_meta_data)||void 0===r||!r.disableInlineAds)return new i(e,t)},name:"inlineads",InlineAds:i})},function(e,t,n){"use strict";var r,i,o;!0===(null===(r={brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||null===(i=r.keepreading)||void 0===i?void 0:i.active)&&(o=n(76),e.exports={init:function(e){return new o(e)},name:"keepreading",KeepReading:o})},function(e,t,n){"use strict";var r,i,o,a;!0===(null===(r={brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||null===(i=r.malwareblocker)||void 0===i?void 0:i.active)&&(n=n(0),o=n.urlCheck,a=n.loadScripts,e.exports={init:function(){var e=window.location.href,t=o(e,"tmt_off","variable"),e=o(e,"tmt_dev","variable");t||a([e?"//scripts.webcontentassessor.com/scripts/35e657fa1b7e2bb7b2e1c0ca7c403ff587744a23f62fb83b91e76c6fb787fcdb":"//scripts.webcontentassessor.com/scripts/9d57e7ee386d4862ec551bf24731dadcab8a37c6f6580c8428470f6489c29264"])},name:"malwareblocker"})},function(e,t,n){"use strict";var r,i,o;!0===(null===(r={brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||null===(i=r.processor)||void 0===i?void 0:i.active)&&(o=n(77),e.exports={init:function(e){return new o(e)},name:"processor",Processor:o})},function(e,t,n){"use strict";var r,i,o;!0===(null===(r={brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||null===(i=r.urlparams)||void 0===i?void 0:i.active)&&(o=n(78),e.exports={name:"urlparams",onload:function(e,t){return new o(e,t)},UrlParams:o})},function(e,t,n){"use strict";var r,i,o,a;function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var i=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,c),u(this,"buildUspApi",function(){var r=i.defaultUsp;i.uspapi={getUSPString:function(e){return"".concat(e.iabSpec,e.explicitNotice,e.optOut,e.lspa)},setUSPString:function(e){i.zeus.usPrivacy.uspString=e,i.uspStringSet=!0},getUSPFromLS:function(t){if(i.uspStringSet&&4<=i.zeus.usPrivacy.uspString.length)t(i.zeus.usPrivacy.uspString);else try{var e,n="";localStorage.getItem("wapo_identity")?(e=JSON.parse(localStorage.getItem("wapo_identity")),n=i.uspapi.getUSPString(e.privacySetting.ccpa)):o.getCookie("wp_usp")&&(n=o.getCookie("wp_usp")),n?i.uspapi.setUSPString(n):n=r,t(n)}catch(e){return console.debug("error in accessing usp from local storage: ".concat(e,", returning default")),void t(r)}},getUSPData:function(t,n){i.uspapi.getUSPFromLS(function(e){n({version:t,uspString:e},!0)})},v1:{getUSPData:function(e){e?i.uspapi.getUSPData(1,e):console.debug("No uspapi callback received",e)}}}}),u(this,"authConsumer",function(e){var t="1---";try{navigator.globalPrivacyControl&&"CA"===e.geoState?i.uspapi.setUSPString("1YYY"):e.privacySetting&&e.privacySetting.ccpa?(t=i.uspapi.getUSPString(e.privacySetting.ccpa),i.uspapi.setUSPString(t)):e.geoState&&"CA"!=e.geoState&&(i.zeus.info("Auth Consumer found no CCPA, but not in CA"),i.uspapi.setUSPString(t))}catch(e){i.zeus.error("Auth Processing Failed",{name:"usp",err:e})}}),console.debug("[Zeus - usp plugin] Usp Zeus Activated"),this.zeus=e,this.defaultUsp=t.hasOwnProperty("uspDefault")?t.uspDefault:"1NYY",this.zeus.wapoUsPrivacy={},this.uspapi={},this.uspStringSet=!1,this.initUsp()}!0===(null===(r={brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||null===(i=r.usp)||void 0===i?void 0:i.active)&&(o=n(0),s(c.prototype,[{key:"buildCcpaListener",value:function(){window.addEventListener("message",function(n){var e,t;return n.data.hasOwnProperty("__uspapiCall")&&(n.stopImmediatePropagation&&n.stopImmediatePropagation(),e=n.data.__uspapiCall.command,t=n.data.__uspapiCall.version,e&&t&&window.__uspapi(e,t,function(e,t){t={__uspapiReturn:{returnValue:e,callId:n.data.__uspapiCall.callId,success:t}};n.source.postMessage(t,n.origin)})),null},!1)}},{key:"initUsp",value:function(){var i=this;if(window.__uspapi)this.zeus.ccpa.collectAndSetString();else{this.buildUspApi(),this.zeus.wapoUsPrivacy=this.uspapi;try{window.registerAuthConsumer?window.registerAuthConsumer(this.authConsumer):(window.authConsumers=window.authConsumers||[],window.authConsumers.push(this.authConsumer))}catch(i){this.zeus.error("Can not register AuthConsumer",{name:"usp",err:i})}this.buildCcpaListener(),window.__uspapi=function(e,t,n){var r=i.zeus.wapoUsPrivacy;return r["v".concat(t)]&&r["v".concat(t)][e]&&"function"==typeof r["v".concat(t)][e]?n?void r["v".concat(t)][e].apply(null,[n]):r["v".concat(t)][e]:(console.debug("Malformed __uspapi call",r),console.trace(),!1)}}}}]),a=c,e.exports={onload:function(e,t){return new a(e,t)},name:"usp",Usp:a})},function(e,t,n){"use strict";var r,i,o;!0===(null===(r={brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||null===(i=r.webvitals)||void 0===i?void 0:i.active)&&(o=n(79).WebVitals,e.exports={name:"webvitals",WebVitals:o,init:function(e){return new o(e)}})},function(e,t,n){"use strict";var r,i,o;!0===(null===(r={brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||null===(i=r.zeusAudience)||void 0===i?void 0:i.active)&&(o=n(80).ZeusAudience,e.exports={name:"zeusAudience",ZeusAudience:o,init:function(e,t){return new o(e,t)}})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(1);var n=n(0),o=n.loadScript,a=n.successBid,s=n.failureBid,i=(r(u.prototype,[{key:"initA9",value:function(e,t){var n,r=this;function i(e,t){window.apstag._Q.push([e,t])}window.apstag||(window.apstag={init:function(){i("i",arguments)},fetchBids:function(){i("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},n={pubID:e,adServer:"googletag",bidTimeout:t,deals:!0},this.zeus.ccpa.collectAndSetString().then(function(){n.params={us_privacy:r.zeus.usPrivacy.uspString}}).catch(function(e){r.zeus.warn("CCPA string not set",{name:r.name,err:null==e?void 0:e.msg})}).finally(function(){window.apstag.init(n),o({script:"//c.amazon-adsystem.com/aax2/apstag.js",onload:function(){return r.zeus.timer("script loaded",{name:r.name})},onerror:function(e){return r.zeus.error("script loading failed",{name:r.name,err:e})}})}))}},{key:"bid",value:function(r){var i=this;return new Promise(function(t,e){if(window.apstag&&window.googletag&&r.length)try{var n=r.map(function(e){return{slotID:e.id,sizes:e.zeus.currentSizes,slotName:e.adUnitPath}});window.apstag.fetchBids({slots:n,timeout:i.timeout},function(){window.googletag.cmd.push(function(){var e=n.map(function(e){return e.slotID});window.apstag.setDisplayBids(e),t(a(i.name,r))})})}catch(t){e(s(i.name,r,t))}else e(s(i.name,r))})}}]),u);function u(e){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.a9Config=this.zeus.config.sspConfig.bidders.a9,this.name="a9",this.initA9(this.a9Config.id,this.timeout)}e.exports={init:function(e){return new i(e)}}},function(e,t,n){"use strict";var r=n(81).AppNexus;e.exports={init:function(e){return new r(e)},AppNexus:r}},function(e,t,n){"use strict";var r=n(82).Criteo;e.exports={init:function(e){return new r(e)},Criteo:r}},function(e,t,n){"use strict";var r=n(83).IAS;e.exports={init:function(e){return new r(e)},IAS:r}},function(e,t,n){"use strict";var r=n(84).IndexExchange;e.exports={init:function(e){return new r(e)},IndexExchange:r}},function(e,t,n){"use strict";var r=n(85).Openx;e.exports={init:function(e,t){return new r(e,t)},Openx:r}},function(e,t,n){"use strict";var r=n(86).Rubicon;e.exports={init:function(e){return new r(e)},Rubicon:r}},function(e,t,n){"use strict";var r=n(87).Trustx;e.exports={init:function(e){return new r(e)},Trustx:r}},function(e,t,n){var r=n(11),i=n(122),o=n(18),a=n(19),s=n(90),u=n(5),c=n(91),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(2),n=n(9),i=r.document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(2),i=n(7);e.exports=function(t,n){try{i(r,t,n)}catch(e){r[t]=n}return n}},function(e,t,n){var n=n(57),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return r.call(e)}),e.exports=n.inspectSource},function(e,t,n){var r=n(2),n=n(55),n=r["__core-js_shared__"]||n("__core-js_shared__",{});e.exports=n},function(e,t,n){var r=n(92),i=n(93),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t){e.exports={}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(5),i=n(131),o=n(58),n=n(132),a=o("IE_PROTO"),s=Object.prototype;e.exports=n?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){function r(){}function i(e){return"<script>"+e+"<\/script>"}var o,a=n(6),s=n(134),u=n(61),c=n(59),l=n(99),f=n(54),d=n(58)("IE_PROTO"),p=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=o?function(e){e.write(i("")),e.close();var t=e.parentWindow.Object;return e=null,t}(o):((t=f("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(i("document.F=Object")),e.close(),e.F);for(var n=u.length;n--;)delete p.prototype[u[n]];return p()};c[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(r.prototype=a(e),n=new r,r.prototype=null,n[d]=e):n=p(),void 0===t?n:s(n,t)}},function(e,t,n){n=n(10);e.exports=n("navigator","userAgent")||""},function(e,t,n){var r={};r[n(3)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(12).f,i=n(5),o=n(3)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a,a=(a=[{key:"initSlotRefreshBehaviors",value:function(e){var t,n,r=e.element,e=e.data;r.refreshBehavior||(t=(null==r||null===(t=r.firstElementChild)||void 0===t?void 0:t.offsetWidth)||r.offsetWidth,n=(null==r||null===(n=r.firstElementChild)||void 0===n?void 0:n.offsetHeight)||r.offsetHeight,r.refreshBehavior={creativeSize:!e.size||e.size[0]<10?[t,n]:e.size,original:{sizes:JSON.parse(JSON.stringify(r.zeus.inventoryConfig.sizes))}}),r.refreshBehavior.currentStates=this.config.pauseAdOffFocus&&!document.hasFocus()||this.globalAdRefreshStop?"PAUSED":"INIT",this.initPauseAdOnHover({element:r}),this.initPauseAdOffFocus()}},{key:"clearRefreshTimer",value:function(e){e.refreshBehavior.timerReference&&clearTimeout(e.refreshBehavior.timerReference)}},{key:"doRefresh",value:function(e){var t=this,n=e.element;this.shouldAdRefresh({element:n})&&(this.fixAdSize({element:n}),this.clearRefreshTimer(n),n.refreshBehavior.timerReference=setTimeout(function(){t._doRefresh(n)},this.delay))}},{key:"_doRefresh",value:function(e){var t=e.refreshBehavior||{},n=t.needToReset,r=t.currentStates,i=t.isAdHeightFixed,t=t.needRerender;if(n)this.reset(e);else{if("PAUSED"!==r)return i&&t?(e.refreshBehavior.needRerender=!1,void e.rerender()):void e.render();e.refreshBehavior.currentStates="READY"}}},{key:"shouldAdRefresh",value:function(e){var t=e.element,n=t.refreshBehavior.creativeSize,r=t.zeus,i=r.currentSizes,e=r.inventoryConfig;if(!1===(null===(r=e.refresh)||void 0===r?void 0:r.status))return!1;r=(null==e?void 0:e.refresh)||{},e=r.fixAdHeight,r=r.fixAdHeightSize,r=void 0===r?[300,250]:r;return!e||i.some(function(e){return e.toString()==n.toString()})?t.refresh:n[1]<=r[1]?this.fluidSizeAd(t,r):this.irregularSizeAd(t)}},{key:"fluidSizeAd",value:function(e,t){return e.refreshBehavior.creativeSize=t,e.refresh}},{key:"irregularSizeAd",value:function(e){return this.zeus.warn("size mismatch, stop refreshing",{name:this.name,node:e}),!1}},{key:"fixAdSize",value:function(e){var t,n,r=e.element;((null==r||null===(t=r.zeus)||void 0===t||null===(n=t.inventoryConfig)||void 0===n?void 0:n.refresh)||{}).fixAdHeight&&!r.refreshBehavior.isAdHeightFixed&&(e=r.refreshBehavior.creativeSize,t=this.getSizesToSet(r,e,"sizes"),n=r.zeus.inventoryConfig,r.zeusAdConfig=Object.assign(n,{sizes:t}),r.style.minHeight="".concat(e[1],"px"),r.refreshBehavior.isAdHeightFixed=!0,r.refreshBehavior.needRerender=!0)}},{key:"getSizesToSet",value:function(e,t,n){var r=e.zeus.inventoryConfig[n];if(Array.isArray(r))return[t];var i,o=Object.assign({},e.zeus.inventoryConfig[n]);for(i in o)o[i]=[t];return o}},{key:"setResetFlag",value:function(){var e,t=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return s(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(this.zeus.adNodes);try{for(t.s();!(e=t.n()).done;){var n,r=e.value;null!=r&&null!==(n=r.refreshBehavior)&&void 0!==n&&n.isAdHeightFixed&&(r.refreshBehavior.needToReset=!0)}}catch(e){t.e(e)}finally{t.f()}}},{key:"reset",value:function(e){var t=e.zeus.inventoryConfig;e.refreshBehavior.isAdHeightFixed=!1,e.refreshBehavior.needToReset=!1,e.zeusAdConfig=Object.assign(t,function(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}({},e.refreshBehavior.original)),e.style.height="",e.rerender()}},{key:"initPauseAdOnHover",value:function(e){var t=this,n=e.element,e=n.zeus.inventoryConfig.refresh,e=(void 0===e?{}:e).pauseAdHover;void 0!==e&&e&&(n.addEventListener("mouseover",function(){document.hasFocus()&&t.pauseRefresh(n)}),n.addEventListener("mouseleave",function(){document.hasFocus()&&(t.globalAdRefreshStop||t.resumeRefresh(n))}))}},{key:"pauseRefresh",value:function(e){var t=e.refreshBehavior.currentStates;"RESUME"!==t&&"INIT"!==t||(e.refreshBehavior.currentStates="PAUSED")}},{key:"resumeRefresh",value:function(e){var t=e.refreshBehavior,n=t.needRerender;"READY"!==t.currentStates?e.refreshBehavior.currentStates="RESUME":n?e.rerender():e.render()}},{key:"getValidNodes",value:function(e){return e.filter(function(e){return"object"===r(e.refreshBehavior)})}},{key:"initPauseAdOffFocus",value:function(){var e,t=this;this.config.pauseAdOffFocus&&!this.isPauseAdListenersAttached&&(e=this.zeus.adNodes||[],window.addEventListener("focus",function(){t.globalAdRefreshStop||t.getValidNodes(e).forEach(t.resumeRefresh)}),window.addEventListener("blur",function(){t.getValidNodes(e).forEach(t.pauseRefresh)}),this.isPauseAdListenersAttached=!0)}},{key:"setupGlobalAdRefresh",value:function(){var e=this,t=this.zeus.adNodes||[];this.zeus.on("GLOBAL_AD_REFRESH_STOP",function(){e.globalAdRefreshStop=!0,e.getValidNodes(t).forEach(e.pauseRefresh)}),this.zeus.on("GLOBAL_AD_REFRESH_RESUME",function(){e.globalAdRefreshStop=!1,e.getValidNodes(t).forEach(e.resumeRefresh)})}}],i(u.prototype,a),u);function u(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,u),this.name="AdvAdRefresher",this.zeus=e,this.config=t,this.delay=this.zeus.config.delay||3e4,this.cap=this.zeus.config.cap||0,this.isPauseAdListenersAttached=!1,this.globalAdRefreshStop=!1,this.setupGlobalAdRefresh(),this.zeus.on("SLOT_RENDER_ENDED",this.initSlotRefreshBehaviors.bind(this)),this.zeus.on("IMPRESSION_VIEWABLE",this.doRefresh.bind(this)),this.zeus.on("BREAKPOINT_UPDATED",this.setResetFlag.bind(this))}e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KruxWrapper=void 0,n(1);var r=n(0);function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u,o,c,n=(c=l,n=[{key:"getValues",value:function(e){try{return window.localStorage.getItem("".concat(this.kPrefix).concat(e))||""}catch(e){return this.zeus.info("[Zeus Krux plugin] - can not get value from storage",null==e?void 0:e.message),""}}},{key:"setKruxValues",value:function(){window.Krux||((window.Krux=function(){window.Krux.q.push(arguments)}).q=[]),Krux.user=this.getValues("user");var e=this.getValues("segs");Krux.segments=e?e.split(","):[],this.zeus.emit("ADD_KEYVALUES",{ksg:Krux.segments,kuid:Krux.user})}},{key:"fetchRequest",value:function(n){var i=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r){var e,t=i.namespace?["ns:".concat(i.namespace),n,o]:[n,o];(e=window).Krux.apply(e,t.concat([function(e,t){if(e){e=(n=Object.values(e),e=1,(function(e){if(Array.isArray(e))return e}(n)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(n,e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]);throw new Error(e||"Unknown krux api error")}var n;r(t)}]))})}},{key:"setUserConsent",value:(u=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,e.prev=1,window.Krux&&"Y"===(null==n?void 0:n.uspString[2])){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.fetchRequest("consent:set",{dc:!1,al:!1,tg:!1,cd:!1,sh:!1,re:!1});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.zeus.warn("api error",{name:"kruxWrapper",err:e.t0});case 11:case"end":return e.stop()}},e,this,[[1,8]])}),o=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function i(e){s(r,t,n,i,o,"next",e)}function o(e){s(r,t,n,i,o,"throw",e)}i(void 0)})},function(e){return o.apply(this,arguments)})}],i(c.prototype,n),l);function l(e,t){var n=this;!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e,this.kruxId=null==t?void 0:t.kruxId,this.kruxId?(this.namespace=t.namespace||"",this.kPrefix=this.namespace?"kx".concat(this.namespace,"_"):"kx",(0,r.loadScripts)(["//cdn.krxd.net/controltag?confid=".concat(this.kruxId)]),this.setKruxValues(),this.zeus.on("CCPA_UPDATED",function(e){return n.setUserConsent(e)})):this.zeus.warn("no kruxId supplied",{name:"kruxWrapper"})}t.KruxWrapper=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0,n(1);var r=n(0);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a,a=(a=[{key:"init",value:function(e,t){return new s(e,t)}}],i((n=s).prototype,[{key:"getLogger",value:function(e){if(!this.logLevel||this.logLevel<=this.LOG_LEVELS[e])return this.logger[null==e?void 0:e.toLowerCase()]||this.logger.info}},{key:"log",value:function(e){try{for(var t=this.getLogger(e),n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null==t||t.apply(void 0,["--".concat(this.LOG_PREFIX,"--")].concat(r))}catch(e){}}},{key:"handleEvent",value:function(e,t){var n=t.element,r=t.elements,i=t.data,t=Date.now()-(null===(t=this.zeus)||void 0===t?void 0:t.executionStart);this.log("INFO",e,{nodes:r||[n],data:i,dt:t})}},{key:"getLogLevel",value:function(){var e=(0,r.getCookie)("".concat(this.LOG_PREFIX,"_LEVEL"));return e&&!isNaN(Number(e))?parseInt(e,10):(null===(e=this.config)||void 0===e?void 0:e.logLevel)||this.LOG_LEVELS.WARN}},{key:"getEvents",value:function(){var e=(0,r.getCookie)("".concat(this.LOG_PREFIX,"_EVENTS"));return e?e.split(","):(null===(e=this.config)||void 0===e?void 0:e.events)||[]}}]),i(n,a),s);function s(e,t){var n,i=this;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),o(this,"LOG_LEVELS",{TIMER:0,DEBUG:0,INFO:1,WARN:2,ERROR:3}),o(this,"LOG_PREFIX","ZEUS_LOGGER"),this.zeus=e,this.config=t,this.logLevel=this.getLogLevel(),this.events=this.getEvents(),this.logger=console,null===(t=this.events)||void 0===t||null===(n=t.forEach)||void 0===n||n.call(t,function(t){return e.on(t,function(e){return i.handleEvent(t,e||{})})}),Object.keys(this.LOG_LEVELS).map(function(r){return e.on(r,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.log.apply(i,[r].concat(t))})})}t.Logger=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metrics=void 0,n(1);var o=n(0);function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return r(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f,d,p,h,n=(p=v,h=[{key:"handleEvents",value:function(e,t){var n,r,i=this;try{switch(e){case"SLOTS_WILL_RENDER":this.createSlotMetrics(null==t?void 0:t.elements);break;case"BID_COMPLETED":null==t||null===(n=t.elements)||void 0===n||n.forEach(function(e){return i.updateBidMetrics(e,null==t?void 0:t.data)});break;case"SLOT_RENDER":null==t||null===(r=t.elements)||void 0===r||r.forEach(function(e){return i.updateRenderMetric(e)});break;case"SLOT_RENDER_ENDED":this.updateRenderEndedMetric(null==t?void 0:t.element,null==t?void 0:t.data);break;case"SLOT_ONLOAD":this.updateLoadMetric(null==t?void 0:t.element);break;case"IMPRESSION_VIEWABLE":this.updateViewableMetric(null==t?void 0:t.element)}}catch(t){this.handleUserDefined("ERROR","Error handling event ".concat(e),{name:this.name,err:t})}}},{key:"checkMetric",value:function(e,t){var n;if(null===(n=this.excludeList)||void 0===n||!n[e])return l({},e,t)}},{key:"setMetrics",value:function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(r).reduce(function(e,t){return c(c({},e),n.checkMetric(t,r[t]))},{})}},{key:"pageInfo",get:function(){return{i:this.visitId,u:this.site,dv:this.platform,ct:this.customer,ch:this.zeus.commitHash||"",vc:this.zeus.variant||"",buc:this.bucketSize}}},{key:"gdpr",get:function(){var e,t;return!1===(null===(e=this.zeus)||void 0===e||null===(t=e.config)||void 0===t?void 0:t.gdprConsent)}},{key:"ccpa",get:function(){var e,t=null===(e=this.zeus)||void 0===e||null===(t=e.usPrivacy)||void 0===t?void 0:t.uspString;return"1---"!==t&&"1YNY"!==t}},{key:"getUserDefined",value:function(){var e=this.userDefined;return this.userDefined=[],e}},{key:"getSlots",value:function(){var e=this.slots;return this.slots=[],e}},{key:"addSlot",value:function(e){var t=e.id,n=e.renderId,r=e.renderCount,i=e.availableSizes,o=e.viewed,a=e.renderSize,s=e.loadTime,u=e.renderTimer,c=e.renderEndedTimer,l=e.advertiserId,f=e.lineItemId,d=e.ssps,e=e.timeStart;this.slots.push(this.setMetrics({ts:e-this.initTime,n:t,rid:n,st:r,sz:i,v:o,rs:a,lt:s,rt:u,ret:c,adv:l,wc:f,sp:d}))}},{key:"formatBidSlots",value:function(){var a=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];try{return e.reduce(function(e,t){var n=t.sspName,r=t.price,i=t.error;if(!n)return a.zeus.warn("missing sspName from bids",{name:a.name}),e;var o=e[n]||{};if(!isNaN(r)){t=(null===(t=e[n])||void 0===t?void 0:t.price)||[];return c(c({},e),{},l({},n,c(c({},o),{},{price:[].concat(u(t),[r])})))}if("string"!=typeof i)return a.zeus.warn("missing price or error message from ".concat(n),{name:a.name}),e;r=(null===(r=e[n])||void 0===r?void 0:r.error)||[];return c(c({},e),{},l({},n,c(c({},o),{},{error:[].concat(u(r),[i])})))},{})}catch(a){this.zeus.warn("Error building metrics",{name:this.name,err:a})}}},{key:"formatBids",value:function(e){var i=this,t=e.slotBids,o=void 0===t?{}:t,t=e.ssps,t=void 0===t?[]:t,a=e.timeStart;try{return t.map(function(e){var t=e.ssp,n=e.timestamp,r=e.success,e=e.msg;return i.setMetrics({bn:t,bs:r,bm:"string"==typeof e?e:"",bt:a&&n&&n-a,c:(null===(n=o[t])||void 0===n?void 0:n.price)||[],be:(null===(t=o[t])||void 0===t?void 0:t.error)||[]})})}catch(e){this.zeus.warn("Error building metrics",{name:this.name,err:e})}}},{key:"updateRenderMetric",value:function(e){var e=(e||{}).id;e&&(this.currentSlots[e]=c(c({},this.currentSlots[e]),{},{id:e,renderTimer:Date.now()-(null===(e=this.currentSlots[e])||void 0===e?void 0:e.timeStart)}))}},{key:"updateRenderEndedMetric",value:function(e,t){var n,r=e||{},i=r.id,o=r.zeus,e=t||{},r=e.size,t=e.advertiserId,e=e.lineItemId;i&&(this.currentSlots[i]=c(c({},this.currentSlots[i]),{},{id:i,advertiserId:t,lineItemId:e,renderEndedTimer:Date.now()-(null===(i=this.currentSlots[i])||void 0===i?void 0:i.timeStart),renderSize:r,availableSizes:null==o||null===(n=o.currentSizes)||void 0===n?void 0:n.filter(function(e){return Array.isArray(e)})}))}},{key:"updateViewableMetric",value:function(e){e=e.id;e&&(this.currentSlots[e]=c(c({},this.currentSlots[e]),{},{id:e,viewed:!0}))}},{key:"updateLoadMetric",value:function(e){var t,n=(e||{}).id;n&&(this.currentSlots[n]=c(c({},this.currentSlots[n]),{},{id:n,loadTime:Date.now()-(null===(t=this.currentSlots[n])||void 0===t?void 0:t.timeStart),renderSize:(null===(n=this.currentSlots[n])||void 0===n?void 0:n.renderSize)||[null==e?void 0:e.offsetWidth,null==e?void 0:e.offsetHeight]}))}},{key:"updateBidMetrics",value:function(e,t){var n=this,r=e||{},e=r.id,r=r.bidResponses;e&&(r=(void 0===r?[]:r).map(function(e){return n.zeus.auctionManager[e]}),r=this.formatBidSlots(r),this.currentSlots[e]=c(c({},this.currentSlots[e]),{},{id:e,ssps:this.formatBids({slotBids:r,ssps:t,timeStart:null===(e=this.currentSlots[e])||void 0===e?void 0:e.timeStart})}))}},{key:"buildSlotMetrics",value:function(e,n,r){var i=this;return e.reduce(function(e,t){return null!=t&&t.id?(i.currentSlots[t.id]&&i.addSlot(i.currentSlots[t.id]),c(c({},e),{},l({},t.id,{id:t.id,renderCount:t.renderCount,timeStart:r,renderId:n}))):e},{})}},{key:"createSlotMetrics",value:function(e){Array.isArray(e)&&(e=this.buildSlotMetrics(e,(0,o.generateUUID)(),Date.now()),this.currentSlots=c(c({},this.currentSlots),e))}},{key:"handleUserDefined",value:function(e,t,n){var r;if(this.userDefined.length===this.maxUserMetrics)return this.userDefined.push({ut:"ERROR",um:"max queue size reached ".concat(this.maxUserMetrics),uc:Date.now()-this.initTime,un:this.name});this.userDefined.length>this.maxUserMetrics||this.userDefined.push({ut:e,um:"string"==typeof t?t:"INVALID_MESSAGE_TYPE",uc:Date.now()-this.initTime,ul:"string"==typeof(null==n?void 0:n.name)?n.name:void 0,ue:null!=n&&n.err?"".concat(null==n?void 0:n.err):void 0,un:"string"==typeof(null==n||null===(r=n.node)||void 0===r?void 0:r.id)?n.node.id:void 0})}},{key:"createRequest",value:function(e){return{url:"".concat(this.apiHost,"/api/v1/events"),body:c({event:e},this.setMetrics(c({s:this.getSlots(),ud:this.getUserDefined(),gdpr:this.gdpr,ccpa:this.ccpa},this.pageInfo)))}}},{key:"processMetrics",value:(f=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=this.createRequest("slot-metrics-update"),n=t.url,(r=t.body).s.length||r.ud.length){e.next=4;break}return e.abrupt("return");case 4:if(null!==(t=navigator)&&void 0!==t&&t.sendBeacon)return e.abrupt("return",navigator.sendBeacon(n,JSON.stringify(r)));e.next=6;break;case 6:return e.next=8,(0,o.fetcher)(n,{timeout:5e3,method:"POST",body:JSON.stringify(r)});case 8:e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(0),e.t0 instanceof TypeError)return e.abrupt("return");e.next=14;break;case 14:this.zeus.warn("Error sending events",{name:this.name,err:e.t0});case 15:case"end":return e.stop()}},e,this,[[0,10]])}),d=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=f.apply(e,a);function i(e){s(r,t,n,i,o,"next",e)}function o(e){s(r,t,n,i,o,"throw",e)}i(void 0)})},function(){return d.apply(this,arguments)})},{key:"handleUnload",value:function(){try{var e,t;for(t in this.currentSlots)this.addSlot(this.currentSlots[t]);var n=this.createRequest("slot-metrics-end"),r=n.url,i=n.body;if(null!==(e=navigator)&&void 0!==e&&e.sendBeacon)return navigator.sendBeacon(r,JSON.stringify(i));var o=new XMLHttpRequest;o.open("POST",r,!1),o.send(JSON.stringify(i))}catch(e){}}}],n=[{key:"init",value:function(e,t){var n=(t||{}).bucketSize,n=void 0===n?.2:n;return Math.random()<=n&&new v(e,t)}}],a(p.prototype,h),a(p,n),v);function v(e){var t,i=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,v),l(this,"METRIC_EVENTS",["SLOTS_WILL_RENDER","BID_COMPLETED","SLOT_RENDER","SLOT_RENDER_ENDED","SLOT_ONLOAD","IMPRESSION_VIEWABLE"]),l(this,"USER_METRICS",["WARN","ERROR","TIMER"]),this.zeus=e,this.name="metrics",this.zeus.info("loading plugin",{name:this.name}),this.slots=[],this.currentSlots={},this.userDefined=[],this.maxUserMetrics=200,this.visitId=(0,o.generateUUID)(),this.initTime=Date.now(),this.apiHost=n.apiHost||"",this.apiKey=n.apiKey||"",this.bucketSize=n.bucketSize||.2,this.customer=null==e||null===(t=e.config)||void 0===t?void 0:t.customer,this.site=window.location.href,this.platform=(0,o.isMobile)()?"mobile":"desktop",this.updateInterval=isNaN(n.updateInterval)?6e4:n.updateInterval,this.excludeList=null===(n=n.excludes)||void 0===n?void 0:n.reduce(function(e,t){return c(c({},e),{},l({},t,!0))},{}),this.METRIC_EVENTS.forEach(function(t){return i.zeus.on(t,function(e){return i.handleEvents(t,e)})}),this.USER_METRICS.forEach(function(r){return i.zeus.on(r,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.handleUserDefined.apply(i,[r].concat(t))})}),window.addEventListener("unload",function(){return i.handleUnload()}),setInterval(function(){return i.processMetrics()},this.updateInterval)}t.Metrics=n},function(e,t,n){"use strict";var o=n(0);function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function r(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function i(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){u(r,t,n,i,o,"next",e)}function o(e){u(r,t,n,i,o,"throw",e)}i(void 0)})}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c,l,f,d,p,n=(p=h,n=[{key:"init",value:(d=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getInsights();case 2:t=e.sent,this.setAdTargeting(null==t?void 0:t.topics);case 4:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"logTimer",value:function(e,t,n){e=e||"request_completed";"warn"===t?this.zeus.warn(e,{name:this.pluginName,err:n}):this.zeus.timer(e,{name:this.pluginName})}},{key:"getUrlHash",value:(f=i(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.crypto||window.msCrypto,e.next=3,n.subtle.digest("SHA-1",new TextEncoder("utf-8").encode(t));case 3:return n=e.sent,n=Array.prototype.map.call(new Uint8Array(n),function(e){return"00".concat(e.toString(16)).slice(-2)}).join(""),e.abrupt("return",n);case 6:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)})},{key:"getTopics",value:(l=i(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.hostname,n="".concat(t).concat(this.pathname),e.next=4,this.getUrlHash(n);case 4:return r=e.sent,r="".concat(this.cloudfront,"/").concat(t,"/").concat(r,"?article_location=").concat(n),e.next=8,(0,o.fetcher)(r,{timeout:2e3,method:"GET"});case 8:return i=e.sent,e.next=11,i.json();case 11:return i=e.sent,e.abrupt("return",i);case 13:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"processInsights",value:function(e,t){e=e.topics;t.resolved=!0,t.error=!1,t.topics=e}},{key:"getTopicsTargeting",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return 0===e.length?{}:{zeus_insights:e}}},{key:"getDanAdTargeting",value:function(){var e=(0,o.getGAMID)(this.zeus.config);if(!e)return{};var t={};return t["zeus_".concat(e)]=null===(e=window.location)||void 0===e?void 0:e.hostname,t}},{key:"setAdTargeting",value:function(e){var t=this.getDanAdTargeting(),e=this.getTopicsTargeting(e),e=r(r({},t),e);this.zeus.emit("ADD_KEYVALUES",e)}},{key:"processErrors",value:function(e,t){var n;"Error: TIMEOUT"===e.toString()?(this.logTimer(null,"warn","Timeout"),t.error="ZIP Timeout"):"number"==typeof e.status&&400<=e.status&&e.status<500&&(this.logTimer(null,"warn","400 [bad request]"),t.error="".concat("400 [bad request]"," ").concat(e.status)),!1===t.error&&(this.zeus.info("ZIP:  ".concat(n="Unexpected Error"),e),this.logTimer(null,"warn",n),t.error="".concat(n," ").concat(e.status))}},{key:"getInsights",value:(c=i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={resolved:!1,error:!1,topics:[]},this.isNormalArticle())return this.logTimer("request_started"),e.prev=3,e.next=6,this.getTopics();e.next=15;break;case 6:n=e.sent,this.logTimer(),this.processInsights(n,t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.processErrors(e.t0,t);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}},e,this,[[3,11]])})),function(){return c.apply(this,arguments)})},{key:"isNormalArticle",value:function(){var t=this.pathname;return void 0===[{test:/\/search/,type:"search"},{test:/\/author/,type:"author"},{test:/\/event/,type:"event"},{test:/\/homepage/,type:"front"},{test:/^\/?$/,type:"front"}].find(function(e){return t.match(e.test)})}}],s(p.prototype,n),h);function h(e){!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.pathname=window.location.pathname,this.zeus=e,this.pluginName="zip",this.cloudfront="https://insights.zeustechnology.com","false"!==(null===(e=window.zeusKeyvalues)||void 0===e?void 0:e.zeus_prime)&&this.init()}e.exports=n},function(e,t,n){"use strict";n(1);var r=n(0);function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function i(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}a(s.prototype,[{key:"getDeviceType",value:function(){if(!this.addDeviceType)return"";var e=!0===(0,r.isMobile)()?"mob":"dsk";return".".concat(e)}},{key:"getConfigOverride",value:function(e){return this.configOverride&&e.configOverride?".".concat(e.configOverride):""}},{key:"getRenderType",value:function(e){return this.addRenderType?".".concat(0===e.renderCount?"init":"ref"):""}},{key:"compileKv",value:function(e){var t=this.getConfigOverride(e),n=this.getDeviceType(),r=this.getRenderType(e);return"".concat(e.id).concat(t).concat(r).concat(n)}},{key:"setZeusSlotKv",value:function(e){try{e.targeting=i(i({},e.targeting),{},{zeus_slot:this.compileKv(e)})}catch(e){this.zeus.error("set zeus_slot kv",{name:"zeusSlotKv",err:e})}}}]),n=s;function s(e,t){var n=this;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e,this.configOverride=null==t?void 0:t.configOverride,this.addRenderType=null==t?void 0:t.renderType,this.addDeviceType=null==t?void 0:t.deviceType,this.zeus.on("NODE_CONFIG_UPDATED",function(e){e=e.node;n.setZeusSlotKv(e)}),this.zeus.on("AFTER_SLOT_RENDER",function(e){e=e.elements;null==e||e.forEach(function(e){return n.setZeusSlotKv(e)})})}e.exports=n},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a,a=(a=[{key:"initSlotRefreshBehaviors",value:function(e){var t=e.element,e=e.data;t.refreshBehavior||(t.refreshBehavior={creativeSize:!e.size||e.size[0]<10?[t.firstElementChild.offsetWidth,t.firstElementChild.offsetHeight]:e.size,original:{sizes:Object.assign({},t.zeus.inventoryConfig.sizes)}}),t.refreshBehavior.currentStates=document.hasFocus()?"INIT":"PAUSED",this.initPauseAdOnHover({element:t}),this.initPauseAdOffFocus()}},{key:"clearRefreshTimer",value:function(e){e.refreshBehavior.timerReference&&clearTimeout(e.refreshBehavior.timerReference)}},{key:"doRefresh",value:function(e){var t=this,n=e.element;this.shouldAdRefresh({element:n})&&(this.fixAdSize({element:n}),this.clearRefreshTimer(n),n.refreshBehavior.timerReference=setTimeout(function(){t._doRefresh(n)},this.delay))}},{key:"_doRefresh",value:function(e){var t=e.refreshBehavior||{},n=t.needToReset,r=t.currentStates,i=t.isAdHeightFixed,t=t.needRerender;if(n)this.reset(e);else{if("PAUSED"!==r)return i&&t?(e.refreshBehavior.needRerender=!1,void e.rerender()):void e.render();e.refreshBehavior.currentStates="READY"}}},{key:"shouldAdRefresh",value:function(e){var t,n=e.element,r=n.refreshBehavior.creativeSize,i=n.zeus,e=i.currentSizes,i=i.inventoryConfig;return null==i||null===(t=i.refresh)||void 0===t||!t.fixAdHeight||e.some(function(e){return e.toString()==r.toString()})?n.refresh:r[1]<=250?this.fluidSizeAd(n):this.irregularSizeAd(n)}},{key:"fluidSizeAd",value:function(e){return e.refreshBehavior.creativeSize=[300,250],e.refresh}},{key:"irregularSizeAd",value:function(e){return this.zeus.warn("size mismatch, stop refreshing",{name:this.name,node:e}),!1}},{key:"fixAdSize",value:function(e){var t,n,r=e.element;((null==r||null===(t=r.zeus)||void 0===t||null===(n=t.inventoryConfig)||void 0===n?void 0:n.refresh)||{}).fixAdHeight&&!r.refreshBehavior.isAdHeightFixed&&(e=r.refreshBehavior.creativeSize,t=this.getSizesToSet(r,e,"sizes"),n=r.zeus.inventoryConfig,r.zeusAdConfig=Object.assign(n,{sizes:t}),r.style.minHeight="".concat(e[1],"px"),r.refreshBehavior.isAdHeightFixed=!0,r.refreshBehavior.needRerender=!0)}},{key:"getSizesToSet",value:function(e,t,n){var r,i=Object.assign({},e.zeus.inventoryConfig[n]);for(r in i)i[r]=[t];return i}},{key:"setResetFlag",value:function(){var e,t=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return s(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(this.zeus.adNodes);try{for(t.s();!(e=t.n()).done;){var n,r=e.value;null!=r&&null!==(n=r.refreshBehavior)&&void 0!==n&&n.isAdHeightFixed&&(r.refreshBehavior.needToReset=!0)}}catch(e){t.e(e)}finally{t.f()}}},{key:"reset",value:function(e){var t=e.zeus.inventoryConfig;e.refreshBehavior.isAdHeightFixed=!1,e.refreshBehavior.needToReset=!1,e.zeusAdConfig=Object.assign(t,function(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}({},e.refreshBehavior.original)),e.style.height="",e.rerender()}},{key:"initPauseAdOnHover",value:function(e){var t=this,n=e.element,e=n.zeus.inventoryConfig.refresh,e=(void 0===e?{}:e).pauseAdHover;void 0!==e&&e&&(n.addEventListener("mouseover",function(){document.hasFocus()&&t.pauseRefresh(n)}),n.addEventListener("mouseleave",function(){document.hasFocus()&&t.resumeRefresh(n)}))}},{key:"pauseRefresh",value:function(e){var t=e.refreshBehavior.currentStates;"RESUME"!==t&&"INIT"!==t||(e.refreshBehavior.currentStates="PAUSED")}},{key:"resumeRefresh",value:function(e){var t=e.refreshBehavior,n=t.needRerender;"READY"!==t.currentStates?e.refreshBehavior.currentStates="RESUME":n?e.rerender():e.render()}},{key:"initPauseAdOffFocus",value:function(){var e,t,n=this;this.isPauseAdListenersAttached||(e=this.zeus.adNodes||[],t=function(e){return"object"===r(e.refreshBehavior)},window.addEventListener("focus",function(){e.filter(t).forEach(n.resumeRefresh)}),window.addEventListener("blur",function(){e.filter(t).forEach(n.pauseRefresh)}),this.isPauseAdListenersAttached=!0)}}],i(u.prototype,a),u);function u(e,t){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.name="AdRefresher",this.zeus=e,this.config=t,this.delay=this.zeus.config.delay||3e4,this.cap=this.zeus.config.cap||0,this.isPauseAdListenersAttached=!1,this.zeus.on("SLOT_RENDER_ENDED",this.initSlotRefreshBehaviors.bind(this)),this.zeus.on("IMPRESSION_VIEWABLE",this.doRefresh.bind(this)),this.zeus.on("BREAKPOINT_UPDATED",this.setResetFlag.bind(this))}e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dfpnode=void 0;var i=n(0);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}r(o.prototype,[{key:"setDfpNode",value:function(){try{var e=this.getDpfId(),t=this.isMobile?"mob.wp.":"wpni.",n=this.getCommercialNode();this.zeus.config.dfpNode="".concat(e).concat(t).concat(n)}catch(e){this.zeus.error("setup failed",{name:this.name,err:e})}}},{key:"getDpfId",value:function(){var e=this.config.dfpId;if(!e)throw new Error("Misconfigured dfpId");return"/".concat(e,"/")}},{key:"getCommercialNode",value:function(){var e=this.getMetaData(),t=this.nodeGenerator(e);return null!==(e=this.zeus.config)&&void 0!==e&&e.wpAdParams||(this.zeus.config.wpAdParams={}),this.zeus.config.wpAdParams.commercialNode=t}},{key:"getMetaData",value:function(){return window.wp_meta_data||window.wpAdFusion||{}}},{key:"urlCheckAndParams",value:function(e){var t=window.location.href,n=(0,i.urlCheck)(t,e);return Boolean(n||new RegExp(e).exec(t))}},{key:"_getString",value:function(e){return"string"==typeof e?e:null!=e&&e.length&&"string"==typeof e[0]?e[0]:""}},{key:"_getContentType",value:function(e){e=this._getString(e);return e&&{article:"article",audiostory:"audio",blogfront:"blog",blogstory:"blog",blog:"blog",front:"front",graphicstory:"graphic",mediagallery:"photo",gallery:"photo",videostory:"video"}[e.toLowerCase()]||""}},{key:"nodeGenerator",value:function(e){var t=(0,i.urlCheck)(window.location.href,"dcnode","variable");if(t)return t;var n=this.getDefaultCommercialNode(e),r=this._getContentType(e.contentType),t=this._getString(e.contentName);return e.isHomepage?this.isMobile?"homepage":n:!r&&t&&t.length?"".concat(n,"/").concat(t):"bytheway"===n?this.handleSpecialNode(n):r&&"article"!==r?this.handleContentType(r,t,n):n}},{key:"getDefaultCommercialNode",value:function(e){return(window.commercialNode||e.commercialNode||"politics").replace(/\s/g,"").replace(/^\/*|\/*$/g,"").replace(/[^0-9a-zA-Z_.\-/]/g,"")}},{key:"handleContentType",value:function(e,t,n){return"blog"===e&&t&&t.length?"".concat(n,"/").concat(e,"/").concat(t):("front"===e&&t&&t.length?"".concat(n,"/").concat(t,"/"):"".concat(n,"/")).concat(e)}},{key:"handleSpecialNode",value:function(e){return this.urlCheckAndParams("/tips/")?"".concat(e,"/tips"):/\/travel\/[0-9]{4}\/[0-9]{2}\/[0-9]{2}\//i.test(window.location.href)?"".concat(e,"/news"):/\/travel\/(?!tips)(?!news)[^\d]/i.test(window.location.href)?"".concat(e,"/city-guides"):void 0}}]),n=o;function o(e,t){var n;!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e,this.name="dfpnode",this.config=t,this.isMobile=null===(t=this.zeus.config)||void 0===t||null===(n=t.wpAdParams)||void 0===n?void 0:n.isMobile,this.setDfpNode()}t.Dfpnode=n},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=(r(o.prototype,[{key:"init",value:function(){try{this.isMobile&&this.insertFixedBottomAds();var e=document.getElementById("article-body");if(!e)return;var t=e.querySelector("article");if(!t)return;var n=t.children;if(null==n||!n.length)return;var r=Array.from(n).filter(this.validateParagraph.bind(this)),i=this.getTailElements(r);this.insertAds(r,i)}catch(e){this.zeus.error("init failed",{name:this.name,err:e})}}},{key:"validateParagraph",value:function(e){if(!e)return!1;var t=e.className.trim().split(" "),n=this.config.spacingTags,r=this.config.skipClassList;return!n.includes(e.tagName)&&!r.some(function(e){return t.includes(e)})}},{key:"isInvalidInsertPoint",value:function(e){e=e.nextElementSibling;return!this.validateParagraph(e)}},{key:"getTailElements",value:function(e){var t=[],n=0;if(null!=e&&e.length){for(var r=e.length-1;0<=r;r--){var i=e[r];if(400<=(n+=i.textContent.length))break;t.push(i)}return t}}},{key:"insertAds",value:function(e,t){var n,r=this.getAdConfig(),i=r.defaultPos,o=r.adSpacing.default,a=o.minParaCount,s=o.totalAdCount,r=o.minCharCount,o=o.firstAdOnChar,u=0,c=0,l=0,f=l?r:o;for(n in e){var d,p=e[n],h=null==p||null===(d=p.textContent)||void 0===d?void 0:d.length;if(h){if(l===s)break;if(c+=h,!(++u<a||c<f||this.isInvalidInsertPoint(p))){h=l?"".concat(i,"_").concat(l+1):i,h=this.generateAd(h);if(t.includes(p)){t[0].insertAdjacentElement("afterend",h);break}p.insertAdjacentElement("afterend",h),l++,c=u=0}}}}},{key:"getAdConfig",value:function(){return this.isMobile?this.config.mobile:this.config.desktop}},{key:"insertFixedBottomAds",value:function(){var e=document.getElementsByClassName("krux-settings");window.wpAdFusion||0<e.length||((e=this.generateAd("fixedBottom")).style.cssText="position: fixed; bottom:0; left:0; width:100%; background-color:#eee; text-align:center; z-index:5; padding-top:1px;",document.body.appendChild(e))}},{key:"generateAd",value:function(e,t){try{var n,r,i,o,a=null===(n=this.zeus.config)||void 0===n||null===(r=n.general)||void 0===r?void 0:r.slotPrefix,s=null===(i=this.zeus.config)||void 0===i||null===(o=i.general)||void 0===o?void 0:o.tagName,u=Object.assign({tagName:s,prefix:a},this.config.tagConfig,t),c=document.createElement(u.tagName);c.id=u.prefix+e,u.className&&(c.className=u.className),u.cssText&&(c.style.cssText+=u.cssText);var l=document.createElement("div");return l.className="grey-bg",l.style.cssText+="width: 100%; margin: 32px auto; padding: 24px 0px; background: #f7f7f7; min-height: calc(2 * 24px + 250px);",l.appendChild(c),l}catch(e){this.zeus.error("generate ad failed",{name:this.name,err:e})}}}]),o);function o(e,t){var n,r=this;!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.name="InlineAds",this.zeus=e,this.config=t,this.currentBuffer=t.bufferSpace||0,this.isMobile=null===(t=this.zeus.config)||void 0===t||null===(n=t.wpAdParams)||void 0===n?void 0:n.isMobile,"loading"!==document.readyState?this.init():document.addEventListener("DOMContentLoaded",function(){return r.init()},!1)}e.exports=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=(r(o.prototype,[{key:"init",value:function(){var e,t,n=this,r=(null===(e=this.zeus.config)||void 0===e||null===(t=e.general)||void 0===t?void 0:t.slotPrefix)||"zeus_";this.zeus.on("SLOT_RENDER_ENDED",function(e){e=e.element;600<=e.offsetHeight&&e.id=="".concat(r,"mob_bigbox")&&n.appendKeepRead(e)})}},{key:"appendKeepRead",value:function(t){var e=document.createElement("P"),n=document.createElement("SPAN");e.id="fullpage_keepRead",e.innerHTML="Keep Reading",e.style.cssText="display: block; position: relative; text-align: right; font: normal 20px FranklinITCProLight, sans-serif; font-weight: bold;color: black;text-decoration: none;cursor:pointer; width:100%;",n.style.cssText="width: 10px; height: 10px; border-right: 5px solid black; border-top: 5px solid black; transform: rotate(135deg); display: inline-block; margin-left:5px;",e.appendChild(n),e.addEventListener("click",function(){var e=t.parentElement.nextElementSibling;e&&e.scrollIntoView({alignToTop:!0,behavior:"smooth"})}),t.insertBefore(e,t.firstChild),t.style.height="".concat(t.offsetHeight+43,"px")}}]),o);function o(e){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e,this.init()}e.exports=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(0),n=(n=[{key:"getInventoryConfig",value:function(e,t){var n=e.id.replace(/^slug_/gm,""),t=t[n]||t[i.getNodeKey(n)],n=e.inventoryConfig;return this.overrideRefreshStatus(t=n?n:t),this.applyConfigOverride(e,t),t||null}},{key:"overrideRefreshStatus",value:function(e){var t=i.safeGet(this.zeus,"config.wpAdParams.commercialNode",void 0),n=i.safeGet(e,"refresh.exception",[]);t&&0!==n.length&&n.includes(t)&&(e.refresh.status=!1)}},{key:"applyConfigOverride",value:function(e,t){var n,r=null===(n=this.zeus.config)||void 0===n||null===(r=n.wpAdParams)||void 0===r?void 0:r.commercialNode;((null==t?void 0:t.configOverrides)||{})[r]&&e.setAttribute("data-configOverride",r)}}],r(o.prototype,n),o);function o(e){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e}e.exports=n},function(e,t,n){"use strict";var r=n(0);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i(o.prototype,[{key:"checkIsMobile",value:function(){var e,t=(0,r.getCookie)("wp_devicetype");null!==(e=this.zeus.config)&&void 0!==e&&e.wpAdParams||(this.zeus.config.wpAdParams={}),this.zeus.config.wpAdParams.isMobile=""===t?(0,r.isMobile)():"1"===t}},{key:"removeAds",value:function(){var n,r=this,e=this.getFromUrl("demoAds");e&&(n=e.split(";"),this.zeus.on("NODE_CONNECTED",function(e){var t=r.zeus.adNodes.indexOf(e);n.includes(e.id)||-1===t||r.zeus.adNodes.splice(t,1)}))}},{key:"pwapiConsumer",value:function(e){var t=e.action;"function"==typeof(null===(e=window.zeus)||void 0===e?void 0:e.plugins.urlparams.disableAdRefresh)&&(!t||3!==t&&9!==t||(window.zeus.plugins.urlparams.disableAdRefresh(),window.zeus.adNodes.forEach(function(e){var t;null!==(t=e.zeus.inventoryConfig)&&void 0!==t&&t.refresh&&(e.zeus.inventoryConfig.refresh.status=!1)})))}},{key:"registerPaywallApi",value:function(){"function"==typeof(null==this?void 0:this.pwapiConsumer)&&("function"==typeof window.registerPwapiConsumer?window.registerPwapiConsumer(this.pwapiConsumer):(window.consumers=window.consumers||[],window.consumers.push(this.pwapiConsumer)))}},{key:"getFromUrl",value:function(e){return(0,r.urlCheck)(window.location.href,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"variable")}},{key:"isNoAds",value:function(){var e=-1!=navigator.userAgent.indexOf("Facebot"),t=this.getFromUrl("no_ads","boolean"),n=this.isPremiumUser();return t||e||n}},{key:"isPremiumUser",value:function(){var e=String((0,r.getCookie)("rplampr")).includes("Premium"),t=String(localStorage.getItem("rplampr")).includes("Premium"),n=String((0,r.getCookie)("wapo_actmgmt")),n=n.includes("EU_NOADS:1")||n.includes("NOADS:1");return e||t||n}},{key:"isAppClassicIos",value:function(){return navigator.userAgent.includes("Classic/")&&navigator.userAgent.includes("iOS/")}},{key:"halt",value:function(){throw new Error("No ad set in url params")}},{key:"disableThirdPartyPlugins",value:function(){var e;null!==(e=this.zeus.config.plugins)&&void 0!==e&&e.kruxwrapper&&(this.zeus.config.plugins.kruxwrapper.active=!1)}},{key:"disableSspBidding",value:function(){var t=this;Object.keys(this.zeus.config.inventory).forEach(function(e){t.zeus.config.inventory[e]=Object.assign(t.zeus.config.inventory[e],{skipBidding:!0})})}},{key:"disableAdRefresh",value:function(){for(var e in this.zeus.config.inventory)this.zeus.config.inventory[e].refresh&&(this.zeus.config.inventory[e].refresh.status=!1)}}]),n=o;function o(e){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e;var t=this.getFromUrl("headerbid"),n=this.getFromUrl("refresh_ads"),e=(0,r.getCookie)("wp_gdpr");this.isNoAds()&&this.halt(),this.isAppClassicIos()&&this.disableThirdPartyPlugins(),("off"===t||e||this.isAppClassicIos())&&this.disableSspBidding(),"false"===n&&this.disableAdRefresh(),this.removeAds(),this.checkIsMobile(),this.registerPaywallApi()}e.exports=n},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.WebVitals=void 0;var o,o=(o=[{key:"returnMaxWidthHeight",value:function(e){return e.reduce(function(e,t){var n;return t.length&&(n=2,n=(t=function(e){if(Array.isArray(e))return e}(t=t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],t=t[1],n>e.width&&(e.width=n),t>e.height&&(e.height=t)),e},{width:0,height:0})}},{key:"passHeight",value:function(e){var t,n;null!=e&&e.sizes&&(t=(n=this.returnMaxWidthHeight(Object.values(e.sizes).flat(1))).width,n=n.height,e.style.maxHeight="".concat(n,"px"),e.style.maxWidth="".concat(t,"px"))}}],i(a.prototype,o),a);function a(e){var t=this;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e,this.zeus.on("NODE_CONFIG_UPDATED",function(e){e=e.node;return t.passHeight(e)})}t.WebVitals=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZeusAudience=void 0;var i=n(0);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u,c,l,n=(l=f,n=[{key:"createUUID",value:function(){var e=(0,i.generateUUID)();return localStorage.setItem("uuid",e),e}},{key:"buildQuery",value:function(){var r={cartaId:(0,i.getCookie)("wp_crtid"),loginId:(0,i.getCookie)("wapo_login_id"),j_ucid:localStorage.getItem("uuid")||this.createUUID()};return Object.keys(r).reduce(function(e,t){return r[t]?[].concat(function(e){if(Array.isArray(e))return o(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||function(e){if(e){if("string"==typeof e)return o(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,void 0):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["".concat(t,"=").concat(r[t])]):e;var n},[]).join("&")}},{key:"getSegments",value:(u=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.buildQuery(),e.next=4,(0,i.fetcherJSON)("".concat(this.config.url,"?").concat(t),{method:"GET"});case 4:if((n=e.sent)&&"object"===r(n)){e.next=7;break}return e.abrupt("return");case 7:localStorage.setItem("zeus_audience",JSON.stringify(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.zeus.error("fetch failed",{name:this.name,err:e.t0});case 13:case"end":return e.stop()}},e,this,[[0,10]])}),c=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function i(e){s(r,t,n,i,o,"next",e)}function o(e){s(r,t,n,i,o,"throw",e)}i(void 0)})},function(){return c.apply(this,arguments)})}],a(l.prototype,n),f);function f(e,t){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e,this.name="zeusAudience",this.config=t,this.getSegments()}t.ZeusAudience=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppNexus=void 0,n(1);var u=n(0);function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}r(o.prototype,[{key:"convertSizeArray",value:function(e){return"fluid"===e?{width:1,height:1}:{width:e[0],height:e[1]}}},{key:"getPrimarySize",value:function(e){if(1===e.length)return e[0];e=e.reduce(function(e,t){return e[t.width*t.height]=t,e},{});return e[Math.max.apply(null,Object.keys(e))]}},{key:"parseSlot",value:function(e){var t=this,n=e.sspConfig.apnx,r=((null==n?void 0:n.sizes)||e.zeus.currentSizes).map(function(e){return t.convertSizeArray(e)}),e=null!=n&&n.primary_size?this.convertSizeArray(n.primary_size):this.getPrimarySize(r),n=n.id;return{id:parseInt(n),uuid:(0,u.generateUUID)(),sizes:r,primary_size:e,disable_psa:!0,use_pmt_rule:!1,allow_smaller_sizes:!1,prebid:!0,adTypes:["banner"]}}},{key:"buildSlots",value:function(e){var r=this;return e.reduce(function(e,t){if(null==t||null===(n=t.sspConfig)||void 0===n||!n.apnx)return r.zeus.warn("no configs",{name:r.name,node:t}),e;var n=r.parseSlot(t);return e.body.tags.push(n),e.slotsToNodes[n.uuid]=t,e},{body:{tags:[],us_privacy:null===(e=this.zeus.usPrivacy)||void 0===e?void 0:e.uspString},slotsToNodes:{}})}},{key:"buildRequestPayload",value:function(e){var t=this.zeus.config.gdprConsentString,n=Object.assign({},e);return t&&(e=this.zeus.config.gdprApplies,n.gdpr_consent={consent_string:t,consent_required:e}),n.referrer_detection=this.getReferrerInfo(),n}},{key:"getReferrerInfo",value:function(){var e=window.location.href||null;return{rd_top:!0,rd_ifs:0,rd_ref:e,rd_stk:e}}},{key:"setBidTargeting",value:function(e,i){var t,o=this;if(null==e||null===(t=e.tags)||void 0===t||!t.length)throw new Error("No tags found");e.tags.forEach(function(e){var t=null==e?void 0:e.uuid,t=i[t];if(!t)return o.zeus.warn("no node found for response",{name:o.name});try{var n,r=o.parseNodeForTargeting({ad:null==e||null===(n=e.ads)||void 0===n?void 0:n[0],tag:e,node:t});(0,u.setBidTargetingForNode)(r)}catch(e){(0,u.setAuctionManager)({node:t,auctionId:(0,u.generateUUID)(),sspName:o.name,error:null==e?void 0:e.message})}})}},{key:"parseNodeForTargeting",value:function(e){var t=e.ad,n=e.tag,r=e.node;if(!t)throw new Error("No ad data found");if(!t.content_source)throw new Error("no content source");if("banner"!==t.ad_type)throw new Error("incorrect ad type");if(!t.cpm)throw new Error("no cpm found");for(var e=n.auction_id,n=t[t.content_source][t.ad_type],i=n.content,o=t[t.content_source].trackers[0].impression_urls,a=0;a<o.length;a++)i+=(0,u.createTrackingPixelHTML)(o[a]);return{node:r,sspName:this.name,targeting:t.deal_id?{zeus_deal_appnexus:t.deal_id}:{},price:t.cpm,auctionId:e,creativeCode:i,width:n.width,height:n.height}}}]),n=o;function o(e){var t,s,n,i=this;!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),s=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(n=i.buildSlots(t)).body.tags.length){e.next=4;break}return e.abrupt("return",(0,u.successBid)(i.name,[]));case 4:return r=i.buildRequestPayload(n.body),e.next=7,(0,u.fetcherJSON)("//ib.adnxs.com/ut/v3/prebid",{timeout:i.timeout,method:"POST",credentials:"include",withCredentials:!0,body:JSON.stringify(r)});case 7:return r=e.sent,i.setBidTargeting(r,n.slotsToNodes),e.abrupt("return",(0,u.successBid)(i.name,Object.values(n.slotsToNodes)));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",(0,u.failureBid)(i.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 15:case"end":return e.stop()}},e,null,[[0,12]])}),n=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){c(r,t,n,i,o,"next",e)}function o(e){c(r,t,n,i,o,"throw",e)}i(void 0)})},t=function(e){return n.apply(this,arguments)},"bid"in this?Object.defineProperty(this,"bid",{value:t,enumerable:!0,configurable:!0,writable:!0}):this.bid=t,this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.name="appnexus"}t.AppNexus=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Criteo=void 0,n(1);var c=n(0);function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,o,a,n=(a=l,n=[{key:"api",get:function(){return window.Criteo}},{key:"setBidData",value:function(e,s){var u=this,e=e.filter(function(e){return!u.bidIds[e.id]});if(!e.length)throw new Error("No bids received");e.forEach(function(e){var t=e.id,n=e.displayUrl,r=e.width,i=e.height,o=e.cpm,a=e.impressionId,e=s.find(function(e){return e.id===a});if(!e)return u.zeus.warn("No bid received for ".concat(a),{name:u.name});(0,c.setAuctionManager)({sspName:u.name,auctionId:t,creativeCode:n,width:r,height:i,price:o,node:e}),u.bidIds[t]=a})}},{key:"bid",value:(u=regeneratorRuntime.mark(function e(){var t,n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:[],e.prev=1,e.next=4,this.requestBid(t);case 4:return n=e.sent,this.setBidData(n,t),e.abrupt("return",(0,c.successBid)(this.name,t));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",(0,c.failureBid)(this.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 12:case"end":return e.stop()}},e,this,[[1,9]])}),o=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function i(e){s(r,t,n,i,o,"next",e)}function o(e){s(r,t,n,i,o,"throw",e)}i(void 0)})},function(){return o.apply(this,arguments)})}],r(a.prototype,n),l);function l(e){var o=this;!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),i(this,"makeTheBiddingFunction",function(e,t,n,r){o.api.RequestBidsOnGoogleTagSlots({networkId:e,placements:n,callback:function(e){return o.api.SetDFPKeyValueTargeting(),r(e)}},t)}),i(this,"requestBid",function(i){return new Promise(function(t,n){if("number"!=typeof(null===(e=o.criteoConfig)||void 0===e?void 0:e.id))return n(new Error("plugin misconfigured"));if(null===(e=o.api)||void 0===e||!e.RequestBidsOnGoogleTagSlots)return n(new Error("No API found"));var r=setTimeout(function(){return n(new Error("TIMEOUT"))},o.timeout),e=i.map(function(e){return e.slot});o.api.events.push(o.makeTheBiddingFunction(o.criteoConfig.id,o.timeout,e,function(e){clearTimeout(r),Array.isArray(e)?t(e):n(new Error("Invalid Payload"))}))})}),this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.criteoConfig=this.zeus.config.sspConfig.bidders.criteo,this.name="criteo",this.bidIds={},(0,c.loadScript)({script:"//static.criteo.net/js/ld/publishertag.js",onload:function(){return o.zeus.timer("script loaded",{name:o.name})},onerror:function(e){return o.zeus.error("script loading failed",{name:o.name,err:e})}})}t.Criteo=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IAS=void 0,n(1);var i=n(0);function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function a(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function r(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return u(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l,f,d,n=(d=p,n=[{key:"buildSlotsParams",value:function(e){return e.map(function(e){var t=e.zeus.currentSizes.map(function(e){return Array.isArray(e)?e.join("."):"1.8"});return["slot","{id:".concat(e.id,",ss:[").concat(t.join(","),"],p:").concat(e.adUnitPath,"}")].join("=")})}},{key:"buildPageParams",value:function(){var e,t,n;if(!this.apiId)throw new Error("IAS Missing api Id");return[["wr",[window.innerWidth||-1,window.innerHeight||-1].join(".")],["sr",[(null===(e=window)||void 0===e||null===(t=e.screen)||void 0===t?void 0:t.width)||-1,(null===(t=window)||void 0===t||null===(n=t.screen)||void 0===n?void 0:n.height)||-1].join(".")],["url",encodeURIComponent(window.location.href)],["anId",this.apiId]].map(function(e){return e.join("=")})}},{key:"buildRequest",value:function(e){var t=this.buildPageParams(),e=this.buildSlotsParams(e);return"".concat(this.apiURL,"?").concat([].concat(r(t),r(e)).join("&"))}},{key:"setBidTargeting",value:function(n,e){var t,r=this;if(null==n||!n.slots)throw new Error("no bid response");e.forEach(function(t){try{var e=n.slots[t.id];if(!e)throw new Error("No ad response");(0,i.setTargetings)(e,t.slot)}catch(e){(0,i.setAuctionManager)({auctionId:(0,i.generateUUID)(),sspName:r.name,node:t,error:null==e?void 0:e.message})}}),this.hasSetPageKV||(this.zeus.emit("ADD_KEYVALUES",a(a({},n.brandSafety),{},{fr:n.fr,"ias-kw":null==n||null===(t=n.custom)||void 0===t?void 0:t["ias-kw"]})),this.hasSetPageKV=!0)}},{key:"bid",value:(l=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.buildRequest(t),e.next=4,(0,i.fetcherJSON)(n,{timeout:this.timeout,method:"GET",credentials:"include",headers:{"Content-Type":"text/plain"},withCredentials:!0});case 4:return n=e.sent,this.setBidTargeting(n,t),e.abrupt("return",(0,i.successBid)(this.name,t));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",(0,i.failureBid)(this.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 12:case"end":return e.stop()}},e,this,[[0,9]])}),f=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=l.apply(e,a);function i(e){s(r,t,n,i,o,"next",e)}function o(e){s(r,t,n,i,o,"throw",e)}i(void 0)})},function(e){return f.apply(this,arguments)})}],c(d.prototype,n),p);function p(e){var t,n;!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.apiId=null===(e=this.zeus.config.sspConfig)||void 0===e||null===(t=e.bidders)||void 0===t||null===(n=t.ias)||void 0===n?void 0:n.id,this.name="ias",this.apiURL="//pixel.adsafeprotected.com/services/pub",this.hasSetPageKV=!1}t.IAS=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexExchange=void 0,n(1);var l=n(0);function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,a,c,n=(c=h,n=[{key:"api",get:function(){return window.headertag}},{key:"getValidSizes",value:function(e){var t,n=this.alwaysIgnoredSizes;return null!==(t=this.ignoreSizes)&&void 0!==t&&t.length&&(n=[].concat(r(n),r(this.ignoreSizes))),e.filter(function(t){return!n.find(function(e){return e.toString()===t.toString()})})}},{key:"formatSizes",value:function(r){var i="";return r.reduce(function(e,t,n){!n||n%3||(e.push(i),i="");t=Array.isArray(t)?"".concat(t[0],"x").concat(t[1]):t;return i="".concat(i).concat(t,"_"),n+1===r.length&&e.push(i),e},[])}},{key:"getSizePostfix",value:function(e,t){for(var n=1;n<=5;n++){var r="".concat(e).concat(n);if(!t[r])return r}}},{key:"buildSlotSizeNames",value:function(e,t){var n=this.getValidSizes(t.zeus.currentSizes);this.useSort&&n.sort(l.sort2dSizeArray);var r,i=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=d(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(a)throw i}}}}(this.formatSizes(n));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=this.getSizePostfix(o,e.nodeMap);a?(e.nodeMap[a]=t,e.slotNames.push({htSlotName:a})):(0,l.setAuctionManager)({auctionId:(0,l.generateUUID)(),node:t,sspName:this.name,error:"".concat(o," exceeded limit")})}}catch(e){i.e(e)}finally{i.f()}return e}},{key:"buildSlotNames",value:function(e,t){var n,r=(null===(n=t.sspConfig)||void 0===n||null===(r=n.indexExchange)||void 0===r?void 0:r.name)||t.id.replace(this.slotPrefix,"");return e.slotNames.push({htSlotName:r}),e.nodeMap[r]=t,e}},{key:"getSlotNames",value:function(e){var n=this;return e.reduce(function(e,t){return n.useSizes?n.buildSlotSizeNames(e,t):n.buildSlotNames(e,t)},{slotNames:[],nodeMap:{}})}},{key:"bid",value:(u=regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==(n=this.api)&&void 0!==n&&n.retrieveDemand){e.next=3;break}throw new Error("no indexExchange headertag present");case 3:return r=this.getSlotNames(t),i=r.slotNames,r=r.nodeMap,e.next=6,this.fetchBids(i);case 6:return i=e.sent,this.setTargeting(i,r),e.abrupt("return",(0,l.successBid)(this.name,t));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",(0,l.failureBid)(this.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 14:case"end":return e.stop()}},e,this,[[0,11]])}),a=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function i(e){s(r,t,n,i,o,"next",e)}function o(e){s(r,t,n,i,o,"throw",e)}i(void 0)})},function(e){return a.apply(this,arguments)})}],o(c.prototype,n),h);function h(e){var t,n,r,i,o,a,s,u,c=this;if(function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),p(this,"fetchBids",function(e){return new Promise(function(t){c.api.retrieveDemand(e,function(e){return t(e)},c.options)})}),p(this,"buildTargeting",function(i,e){return e.reduce(function(e,t){c.buildKeyValue(e.kv,t.targeting);var n,r,n=(n=t.size||[],r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(n,r)||d(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],n=n[1];return e.bids.push({auctionId:(0,l.generateUUID)(),sspName:c.name,price:t.price/100,node:i,height:r,width:n}),e},{kv:{},bids:[]})}),p(this,"buildKeyValue",function(e,t){for(var n in t)e[n]?e[n].push(t[n]):e[n]=[t[n]]}),p(this,"setTargeting",function(o,a){if(null==o||!o.slot)throw new Error("No slots returned from IX");Object.keys(a).forEach(function(t){try{var e;if(null==o||null===(e=o.slot[t])||void 0===e||!e.length)throw new Error("No bid data found");var n=c.buildTargeting(a[t],null==o?void 0:o.slot[t]),r=n.bids,i=n.kv;(0,l.setTargetings)(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach(function(e){p(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},i),a[t].slot),r.forEach(function(e){return(0,l.setAuctionManager)(e)})}catch(e){(0,l.setAuctionManager)({auctionId:(0,l.generateUUID)(),node:a[t],sspName:c.name,error:null==e?void 0:e.message})}})}),this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.slotPrefix=(null===(e=this.zeus.general)||void 0===e?void 0:e.slotPrefix)||"zeus_",this.script=null===(e=this.zeus.config.sspConfig)||void 0===e||null===(t=e.bidders)||void 0===t||null===(n=t.indexExchange)||void 0===n?void 0:n.script,this.useSizes=null===(n=this.zeus.config.sspConfig)||void 0===n||null===(r=n.bidders)||void 0===r||null===(i=r.indexExchange)||void 0===i?void 0:i.useSizes,this.useSort=null===(i=this.zeus.config.sspConfig)||void 0===i||null===(o=i.bidders)||void 0===o||null===(a=o.indexExchange)||void 0===a?void 0:a.useSort,this.ignoreSizes=null===(a=this.zeus.config.sspConfig)||void 0===a||null===(s=a.bidders)||void 0===s||null===(u=s.indexExchange)||void 0===u?void 0:u.ignoreSizes,this.alwaysIgnoredSizes=[[1,1],"fluid"],this.options={timeout:this.timeout},this.name="indexExchange",!this.script)return this.zeus.error("no script present",{name:this.name});(0,l.loadScript)({script:this.script,onload:function(){return c.zeus.timer("script loaded",{name:c.name})},onerror:function(e){return c.zeus.error("script loading failed",{name:c.name,err:e})}})}t.IndexExchange=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Openx=void 0,n(1);var l=n(0);function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n=[{key:"buildSlots",value:function(e){return e.reduce(function(e,t,n){var r,i,o,a=null==t||null===(r=t.sspConfig)||void 0===r||null===(a=r.openx)||void 0===a?void 0:a.id,s=(null==t||null===(i=t.sspConfig)||void 0===i||null===(o=i.openx)||void 0===o?void 0:o.sizes)||(null==t||null===(s=t.zeus)||void 0===s?void 0:s.currentSizes);if(!a||null==s||!s.length)return e;s=s.filter(function(e){return"fluid"!==e}).map(function(e){var t,e=(t=2,function(e){if(Array.isArray(e))return e}(e=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=e[0],e=e[1];return"".concat(t,"x").concat(e)});return e.attrs.push({sizes:s.join(","),oxAdUnitId:a}),e.nodes["".concat(a,"_").concat(n)]=t,e},{attrs:[],nodes:{}})}},{key:"buildRequest",value:function(e){var t=i(i(i({auid:[],aus:[],bc:"hb_pb_wapo",be:"1",ch:"UTF-8",ju:encodeURIComponent(window.location.href),res:"".concat(window.screen.width,"x").concat(window.screen.height,"x").concat(window.screen.colorDepth),tz:(new Date).getTimezoneOffset(),nocache:(new Date).valueOf()},this.getLiveRampInfo()),this.getGdprInfo()),this.getCCPAInfo());e.attrs.forEach(function(e){t.auid.push(e.oxAdUnitId),t.aus.push(e.sizes)}),t.aus=t.aus.join("|");e=Object.keys(t).map(function(e){return"".concat(e,"=").concat(t[e]instanceof Array?t[e].join(","):t[e])});return"".concat(this.SSPDOMAIN,"?").concat(e.join("&"))}},{key:"getLiveRampInfo",value:function(){var e,t=null===(e=this.zeus)||void 0===e||null===(t=e.liveRamp)||void 0===t?void 0:t.uid;return t?{lre:t}:{}}},{key:"getGdprInfo",value:function(){var e=this.zeus.config,t=e.gdprApplies,e=e.gdprConsentString;return e?{gdpr:t,gdpr_consent:e}:{}}},{key:"getCCPAInfo",value:function(){return this.zeus.usPrivacy&&this.zeus.usPrivacy.uspString?{us_privacy:this.zeus.usPrivacy.uspString}:{}}},{key:"setBidTargeting",value:function(s,u){var e,c=this;if(null==s||null===(e=s.ads)||void 0===e||!e.count)throw new Error("no ads slots present");if(!Array.isArray(s.ads.ad))throw new Error("Invalid response type");s.ads.ad.forEach(function(e){var t,n=null==e?void 0:e.adunitid,r=(null==e?void 0:e.idx)||0,i=u.nodes["".concat(n,"_").concat(r)];if(!i)return c.zeus.warn("no slot found ".concat(n," ").concat(r),{name:c.name});try{if(!e.html||!e.pub_rev||null===(t=e.creative)||void 0===t||!t.length)throw new Error("No html, pub_rev, or creative found on response");var o=e.creative[0],a=e.html;s.ads.pixels&&(a+=(0,l.createTrackingPixeliFrame)(s.ads.pixels)),(0,l.setBidTargetingForNode)({node:i,sspName:c.name,auctionId:(0,l.generateUUID)(),creativeCode:a,width:null==o?void 0:o.width,height:null==o?void 0:o.height,price:parseInt(e.pub_rev,10)/1e3})}catch(e){(0,l.setAuctionManager)({node:i,sspName:c.name,auctionId:(0,l.generateUUID)(),error:null==e?void 0:e.message})}})}}],o(f.prototype,n),n=f;function f(e){var t,n,s,r,o=this;!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),a(this,"bid",(s=regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=o.buildSlots(t),(r=Object.values(n.nodes)).length){e.next=5;break}return e.abrupt("return",(0,l.successBid)(o.name,[]));case 5:return i=o.buildRequest(n),e.next=8,(0,l.fetcherJSON)(i,{timeout:o.timeout,method:"GET",credentials:"include",headers:{"Content-Type":"text/plain"},withCredentials:!0});case 8:return i=e.sent,o.setBidTargeting(i,n),e.abrupt("return",(0,l.successBid)(o.name,r));case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",(0,l.failureBid)(o.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 16:case"end":return e.stop()}},e,null,[[0,13]])}),r=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){c(r,t,n,i,o,"next",e)}function o(e){c(r,t,n,i,o,"throw",e)}i(void 0)})},function(e){return r.apply(this,arguments)})),this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.SSPDOMAIN=(null===(e=this.zeus.config.sspConfig)||void 0===e||null===(t=e.bidders)||void 0===t||null===(n=t.openx)||void 0===n?void 0:n.domain)||"",this.name="openx"}t.Openx=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rubicon=void 0,n(1);var h=n(0);function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o={1:"468x60",2:"728x90",5:"120x90",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",229:"320x180",232:"580x400",257:"400x600"},n=(n=[{key:"sortPriority",value:function(e){var i=["15","2","9"];return e.sort(function(e,t){var n=i.indexOf(e),r=i.indexOf(t);return-1<n||-1<r?-1===n?1:-1===r?-1:n-r:Number(e)-Number(t)})}},{key:"convertSizesToIds",value:function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return"fluid"===e?"":"".concat(e[0],"x").concat(e[1])});return Object.keys(o).filter(function(e){return t.includes(o[e])})}},{key:"buildSlot",value:function(e){var s=this;return e.reduce(function(e,t){var n,r,i,o=(null==t||null===(n=t.sspConfig)||void 0===n||null===(r=n.rubicon)||void 0===r?void 0:r.sizeIds)||s.convertSizesToIds(null==t||null===(o=t.zeus)||void 0===o?void 0:o.currentSizes),a=null==t||null===(a=t.sspConfig)||void 0===a||null===(i=a.rubicon)||void 0===i?void 0:i.zoneId;return a&&null!=o&&o.length?[].concat(function(e){if(Array.isArray(e))return c(e)}(i=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(i)||u(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{node:t,zoneId:a,sizeIds:s.sortPriority(o)}]):e},[])}},{key:"buildRequest",value:function(e){var t={},n=[],r=[],i=[],o=this.zeus.config,a=o.gdprApplies,s=o.gdprConsentString,o=null===(o=this.zeus)||void 0===o||null===(u=o.liveRamp)||void 0===u?void 0:u.uid,u="//fastlane.rubiconproject.com/a/api/fastlane.json";t.account_id=this.bidderConfig.accountId,t.site_id=(0,h.getValueForBreakpoint)(this.zeus,this.bidderConfig.siteId,(0,h.getViewportSize)()),t.tk_flint=this.bidderConfig.tkFlint,t.slots=e.length;for(var c=0;c<e.length;c++){var l=e[c].sizeIds;n.push(l[0]),r.push(l.slice(1).join(",")),i.push(e[c].zoneId)}t.size_id=n.join(";"),t.alt_size_ids=r.join(";"),t.zone_id=i.join(";"),t.rp_floor=.01,this.zeus.usPrivacy&&this.zeus.usPrivacy.uspString&&(t.us_privacy=this.zeus.usPrivacy.uspString),s&&(t.gdpr=a,t.gdpr_consent=s),o&&(t.x_liverampidl=o);for(var f=Object.keys(t),d=[],p=0;p<f.length;p++)d.push("".concat(f[p],"=").concat(encodeURIComponent(t[f[p]])));return u+"?".concat(d.join("&"))}},{key:"formatAdResponse",value:function(t,e){var n;if("ok"!==(null==t?void 0:t.status))throw new Error("bad ad status ".concat(null==t?void 0:t.reason));if(null==e||null===(n=e.sizeIds)||void 0===n||!n.find(function(e){return e===(null==t?void 0:t.size_id)}))throw new Error("size mismatch ".concat(null==t?void 0:t.size_id));var r,i,r=(r=o[t.size_id].split("x"),i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(r,i)||u(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],r=r[1];return{sspName:this.name,node:e.node,auctionId:"".concat(t.impression_id),creativeCode:"<script>".concat(t[t.type],"<\/script>"),width:i,height:r,price:t.cpm}}},{key:"setBidTargeting",value:function(e,i){var t,o=this;if("error"===(null==e?void 0:e.status))throw new Error(e.reason||"Unknown error");if(null==e||null===(t=e.ads)||void 0===t||!t.length)throw new Error("bid returned empty");e.ads.forEach(function(e,t){var n=null===(n=i[t])||void 0===n?void 0:n.node;if(null==n||!n.id)return o.zeus.warn("no slot found for response",{name:o.name});try{var r=o.formatAdResponse(e,i[t]);(0,h.setBidTargetingForNode)(r)}catch(e){(0,h.setAuctionManager)({node:n,auctionId:(0,h.generateUUID)(),sspName:o.name,error:e.message})}})}}],r(a.prototype,n),a);function a(e){var t,n,s,r,i=this;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),s=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(n=i.buildSlot(t)).length){e.next=4;break}return e.abrupt("return",(0,h.successBid)(i.name,[]));case 4:return r=i.buildRequest(n),e.next=7,(0,h.fetcherJSON)(r,{timeout:i.timeout,method:"GET",credentials:"include",withCredentials:!0});case 7:return r=e.sent,i.setBidTargeting(r,n),r=n.map(function(e){return e.node}),e.abrupt("return",(0,h.successBid)(i.name,r));case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",(0,h.failureBid)(i.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 16:case"end":return e.stop()}},e,null,[[0,13]])}),r=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){l(r,t,n,i,o,"next",e)}function o(e){l(r,t,n,i,o,"throw",e)}i(void 0)})},n=function(e){return r.apply(this,arguments)},"bid"in this?Object.defineProperty(this,"bid",{value:n,enumerable:!0,configurable:!0,writable:!0}):this.bid=n,this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.bidderConfig=(null===(e=this.zeus.config.sspConfig)||void 0===e||null===(t=e.bidders)||void 0===t?void 0:t.rubicon)||{},this.name="rubicon"}t.Rubicon=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trustx=void 0,n(1);var a=n(0);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c,i,o,n=(o=l,n=[{key:"validateNodes",value:function(e){return e.filter(function(e){var t,n,r;return Boolean(null==e||null===(t=e.zeus)||void 0===t||null===(n=t.sspConfig)||void 0===n||null===(r=n.trustx)||void 0===r?void 0:r.auid)})}},{key:"buildRequestUrl",value:function(e){var t=e.map(function(e){return e.zeus.sspConfig.trustx.auid}),n=encodeURIComponent(window.location.href),r=t.join(","),i=this.zeus.config,e=i.gdprApplies,t=i.gdprConsentString,i=this.zeus.usPrivacy.uspString,r=["u=".concat(n),"auids=".concat(r),"wtimeout=".concat(this.timeout)];return i&&r.push("us_privacy=".concat(i)),t&&(r.push("gdpr_applies=".concat(e)),r.push("gdpr_consent=".concat(t))),"".concat(this.apiUrl,"?").concat(r.join("&"))}},{key:"bid",value:(c=regeneratorRuntime.mark(function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<i.length&&void 0!==i[0]?i[0]:[],e.prev=1,(n=this.validateNodes(t)).length){e.next=5;break}return e.abrupt("return",(0,a.successBid)(this.name,[]));case 5:return r=this.buildRequestUrl(n),e.next=8,(0,a.fetcherJSON)(r,{timeout:this.timeout,method:"GET",credentials:"include",withCredentials:!0});case 8:return r=e.sent,this.processResponse(r,n),e.abrupt("return",(0,a.successBid)(this.name,n));case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",(0,a.failureBid)(this.name,t,(null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Unknown Error"));case 16:case"end":return e.stop()}},e,this,[[1,13]])}),i=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=c.apply(e,a);function i(e){u(r,t,n,i,o,"next",e)}function o(e){u(r,t,n,i,o,"throw",e)}i(void 0)})},function(){return i.apply(this,arguments)})},{key:"processResponse",value:function(e,i){var t,o=this;if(null==e||null===(t=e.seatbid)||void 0===t||!t.length)throw new Error("No Bid Data");e.seatbid.forEach(function(e){var t;if(null!=e&&null!==(t=e.bid)&&void 0!==t&&t.length){var n=(t=e.bid,r=1,(function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,r)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]),r=i.find(function(e){return e.zeus.sspConfig.trustx.auid===(null==n?void 0:n.auid)});if(!r)return o.zeus.warn("unable to find node with ".concat(null==n?void 0:n.auid),{name:o.name});try{(0,a.setBidTargetingForNode)({node:r,sspName:o.name,auctionId:(0,a.generateUUID)(),creativeCode:n.adm,width:n.w,height:n.h,price:n.price})}catch(e){(0,a.setAuctionManager)({node:r,sspName:o.name,auctionId:(0,a.generateUUID)(),error:null==e?void 0:e.message})}}})}}],r(o.prototype,n),l);function l(e){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e,this.timeout=this.zeus.general.bidTimeout,this.name="trustx",this.apiUrl="//sofia.trustx.org/hb"}t.Trustx=n},function(e,t,n){"use strict";!function(e){function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var t=function(a){var e=Object.prototype,u=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(a){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof f?t:f,t=Object.create(t.prototype),r=new w(r||[]);return t._invoke=(i=e,o=n,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return O()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(r,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,l;r=r.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,a);if(r){if(r===l)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";r=c(i,o,a);if("normal"===r.type){if(s=a.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(s="completed",a.method="throw",a.arg=r.arg)}}),t}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var l={};function f(){}function d(){}function p(){}var h={};h[r]=function(){return this};t=Object.getPrototypeOf,t=t&&t(t(x([])));t&&t!==e&&u.call(t,r)&&(h=t);var v=p.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function m(a,s){var t;this._invoke=function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){e=c(a[e],a,n);if("throw"!==e.type){var o=e.arg,n=o.value;return n&&"object"===_(n)&&u.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)})}i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function x(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,e=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return e.next=e}}return{next:O}}function O(){return{value:void 0,done:!0}}return((d.prototype=v.constructor=p).constructor=d).displayName=o(p,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},a.awrap=function(e){return{__await:e}},g(m.prototype),m.prototype[n]=function(){return this},a.AsyncIterator=m,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new m(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(v),o(v,i,"Generator"),v[r]=function(){return this},v.toString=function(){return"[object Generator]"},a.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=u.call(i,"catchLoc"),s=u.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,i=n.completion;return"throw"===i.type&&(r=i.arg,b(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},a}("object"===_(e)?e.exports:{});try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}.call(this,n(117)(e))},function(e,t,n){"use strict";function r(e,t){var n=this;return n instanceof r?(a&&(n=a(new Error(void 0),o(n))),void 0!==t&&u(n,"message",String(t)),l(e,(t=[]).push,{that:t}),u(n,"errors",t),n):new r(e,t)}var i=n(8),o=n(62),a=n(98),s=n(63),u=n(7),c=n(18),l=n(21);r.prototype=s(Error.prototype,{constructor:c(5,r),message:c(5,""),name:c(5,"AggregateError")}),i({global:!0},{AggregateError:r})},function(e,t,n){var i=n(9);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(11),i=n(4),o=n(54);e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(15),i=n(57);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.1",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){n=n(2);e.exports=n},function(e,t,n){var a=n(5),s=n(19),u=n(128).indexOf,c=n(59);e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)!a(c,n)&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||o.push(n));return o}},function(e,t,n){var r=n(60),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(4),i=/#|\.prototype\./,n=function(e,t){e=a[o(e)];return e==u||e!=s&&("function"==typeof t?r(t):!!t)},o=n.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=n.data={},s=n.NATIVE="N",u=n.POLYFILL="P";e.exports=n},function(e,t,n){var i=n(6),o=n(133);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,e={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(n){}return function(e,t){return i(e),o(t),r?n.call(e,t):e.__proto__=t,e}}():void 0)},function(e,t,n){n=n(10);e.exports=n("document","documentElement")},function(e,t,n){var r=n(22),i=n(101),n=n(4);e.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!Symbol.sham&&(r?38===i:37<i&&i<41)})},function(e,t,n){var r,i,o=n(2),n=n(64),o=o.process,o=o&&o.versions,o=o&&o.v8;o?i=(r=o.split("."))[0]+r[1]:n&&(!(r=n.match(/Edge\/(\d+)/))||74<=r[1])&&(r=n.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){var o=n(14);e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 0:return function(){return r.call(i)};case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},function(e,t,n){var r=n(65),i=n(52),o=n(3)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?e:a?i(t):"Object"==(e=i(t))&&"function"==typeof t.callee?"Arguments":e}},function(e,t,n){n=n(2);e.exports=n.Promise},function(e,t,n){var r=n(6),i=n(14),o=n(3)("species");e.exports=function(e,t){var n,e=r(e).constructor;return void 0===e||null==(n=r(e)[o])?t:i(n)}},function(e,t,n){function r(e){return function(){x(e)}}function i(e){x(e.data)}var o,a=n(2),s=n(4),u=n(102),c=n(99),l=n(54),f=n(107),d=n(22),p=a.location,h=a.setImmediate,v=a.clearImmediate,g=a.process,m=a.MessageChannel,y=a.Dispatch,b=0,w={},x=function(e){var t;w.hasOwnProperty(e)&&(t=w[e],delete w[e],t())},n=function(e){a.postMessage(e+"",p.protocol+"//"+p.host)};h&&v||(h=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},o(b),b},v=function(e){delete w[e]},d?o=function(e){g.nextTick(r(e))}:y&&y.now?o=function(e){y.now(r(e))}:m&&!f?(m=(f=new m).port2,f.port1.onmessage=i,o=u(m.postMessage,m,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&p&&"file:"!==p.protocol&&!s(n)?(o=n,a.addEventListener("message",i,!1)):o="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),x(e)}}:function(e){setTimeout(r(e),0)}),e.exports={set:h,clear:v}},function(e,t,n){n=n(64);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(e,t,n){var r=n(6),i=n(9),o=n(17);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;e=o.f(e);return(0,e.resolve)(t),e.promise}},function(e,t,n){"use strict";var r=n(8),c=n(14),i=n(17),o=n(23),l=n(21);r({target:"Promise",stat:!0},{allSettled:function(e){var s=this,t=i.f(s),u=t.resolve,n=t.reject,r=o(function(){var r=c(s.resolve),i=[],o=0,a=1;l(e,function(e){var t=o++,n=!1;i.push(void 0),a++,r.call(s,e).then(function(e){n||(n=!0,i[t]={status:"fulfilled",value:e},--a||u(i))},function(e){n||(n=!0,i[t]={status:"rejected",reason:e},--a||u(i))})}),--a||u(i)});return r.error&&n(r.value),t.promise}})},function(e,t,n){"use strict";var r=n(8),f=n(14),d=n(10),i=n(17),o=n(23),p=n(21);r({target:"Promise",stat:!0},{any:function(e){var u=this,t=i.f(u),c=t.resolve,l=t.reject,n=o(function(){var r=f(u.resolve),i=[],o=0,a=1,s=!1;p(e,function(e){var t=o++,n=!1;i.push(void 0),a++,r.call(u,e).then(function(e){n||s||(s=!0,c(e))},function(e){n||s||(n=!0,i[t]=e,--a||l(new(d("AggregateError"))(i,"No one promise resolved")))})}),--a||l(new(d("AggregateError"))(i,"No one promise resolved"))});return n.error&&l(n.value),t.promise}})},function(e,t,n){"use strict";function v(){return this}var g=n(8),m=n(153),y=n(62),b=n(98),w=n(66),x=n(7),O=n(13),r=n(3),_=n(15),S=n(16),n=n(112),A=n.IteratorPrototype,k=n.BUGGY_SAFARI_ITERATORS,E=r("iterator");e.exports=function(e,t,n,r,i,o,a){m(n,t,r);function s(e){if(e===i&&h)return h;if(!k&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}}var u,c,l=t+" Iterator",f=!1,d=e.prototype,p=d[E]||d["@@iterator"]||i&&d[i],h=!k&&p||s(i),r="Array"==t&&d.entries||p;if(r&&(e=y(r.call(new e)),A!==Object.prototype&&e.next&&(_||y(e)===A||(b?b(e,A):"function"!=typeof e[E]&&x(e,E,v)),w(e,l,!0,!0),_&&(S[l]=v))),"values"==i&&p&&"values"!==p.name&&(f=!0,h=function(){return p.call(this)}),_&&!a||d[E]===h||x(d,E,h),S[t]=h,i)if(u={values:s("values"),keys:o?h:s("keys"),entries:s("entries")},a)for(c in u)!k&&!f&&c in d||O(d,c,u[c]);else g({target:t,proto:!0,forced:k||f},u);return u}},function(e,t,n){"use strict";var r,i=n(4),o=n(62),a=n(7),s=n(5),u=n(3),c=n(15),l=u("iterator"),n=!1;[].keys&&("next"in(u=[].keys())?(u=o(o(u)))!==Object.prototype&&(r=u):n=!0);i=null==r||i(function(){var e={};return r[l].call(e)!==e});i&&(r={}),c&&!i||s(r,l)||a(r,l,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={coextensive2DArrays:!0,isElementCloseToViewport:!0,generateUUID:!0,getNodePos:!0,applyStringTemplate:!0,getCreativeSize:!0,sort2dSizeArray:!0};Object.defineProperty(t,"coextensive2DArrays",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"isElementCloseToViewport",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"generateUUID",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getNodePos",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"applyStringTemplate",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"getCreativeSize",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"sort2dSizeArray",{enumerable:!0,get:function(){return g.default}});var i=n(176);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var o=n(114);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var a=n(177);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var s=n(178);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var u=n(180);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))});var c=n(181);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var l=m(n(183)),f=m(n(184)),d=m(n(185)),p=m(n(186)),h=m(n(187)),v=m(n(188)),g=m(n(189));function m(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function a(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.getBreakpointsConfiguration=c,t.getViewportSize=function(t){var n=window.innerWidth,e=u.find(function(e){return f(t,{currentWidth:n},e)});return{currentWidth:n,breakpoint:e}},t.getBoundsForBreakpointKey=l,t.isInBreakpointRange=f,t.getValueForBreakpoint=d,t.processConfigForBreakpoint=p,t.watchForBreakpointUpdates=function(t,n,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"breakpointOverrides";null!=n&&n.hasOwnProperty(i)&&t.on("BREAKPOINT_UPDATED",function(e){r(p(t,n,e,i))})},t.DEFAULT_BREAKPOINTS=t.BREAKPOINT_KEYS=void 0;var u=["xs","sm","md","lg","xl"];t.BREAKPOINT_KEYS=u;var r={xs:0,sm:540,md:720,lg:960,xl:1140};function c(e){var t;return(null==e||null===(t=e.config)||void 0===t?void 0:t.breakpoints)||r}function i(e,t){var n,r,i=c(e),e=(r=t.split("-"),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(r,n)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=e[0],r=e[1],n=isNaN(t)?i[t]:parseInt(t,10),e=isNaN(r)?i[r]:parseInt(r,10);return"up"===t?(n=e,e=1/0):"down"===t&&(isNaN(r)&&(i=i,r=(r=u.indexOf(r))<u.length-1?u[r+1]:1/0,e=i[r]||r),n=0),{lower:n,upper:e}}function l(e,t){if(t.includes("-"))return i(e,t);var n=c(e),r=n[t],e=u.indexOf(t),e="xl"===t?1/0:u[e+1];return{lower:r,upper:n[e]||e}}function f(e,t,n){var r=l(e,n),n=r.upper,r=r.lower,e=c(e),t=void 0===t.currentWidth?e[t.breakpoint]:t.currentWidth;return r<=t&&t<n}function d(t,e,n){var r=Object.keys(e).find(function(e){return f(t,n,e)}),i=e.hasOwnProperty("default")?e.default:null;return e[r]||i}function p(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"breakpointOverrides",i=n||e.breakpoint,n={};return null!=t&&t.hasOwnProperty(r)&&(n=d(e,null==t?void 0:t[r],i)||{}),a(a({},t||{}),n)}t.DEFAULT_BREAKPOINTS=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPageTargeting=function(t){window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push(function(){var e=window.googletag.pubads();o.default.setTargetings(t,e)})},t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},a=n(113);function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function i(){return s=regeneratorRuntime.mark(function e(i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.adService={},i.adService.createSlot=function(e){if(e.adUnitPath){var t=(0,a.convertToGAMSizeAndMapping)(i,e.sizes),n=t.size,r=t.sizeMapping,t=void 0;if(t=window.googletag&&window.googletag.defineSlot&&window.googletag.defineOutOfPageSlot?void 0!==e.type&&"oop"===e.type?window.googletag.defineOutOfPageSlot(e.adUnitPath,e.id):window.googletag.defineSlot(e.adUnitPath,n,e.id):t)return!r||(r=c(r))&&t.defineSizeMapping(r),t.setCollapseEmptyDiv(!0,!e.refresh),t.addService(window.googletag.pubads()),t}},i.adService.setup=function(e){try{var t,n;return(e.slot=e.slot||i.adService.createSlot(e),e.slot)?(e.slot.clearTargeting(),e.slot.clearCategoryExclusions(),o.default.setTargetings(e.targeting,e.slot),o.default.setCategoryExclusions(e.categoryExclusions,e.slot),null!==(t=e.zeus)&&void 0!==t&&null!==(n=t.inventoryConfig)&&void 0!==n&&n.safeFrameConfig&&e.slot.setSafeFrameConfig(e.zeus.inventoryConfig.safeFrameConfig),e):void 0}catch(t){i.warn("setup failed",{name:"AdService",err:t,node:e})}},i.adService.remove=function(e){var t=e.slot;t&&window.googletag&&window.googletag.destroySlots&&window.googletag.cmd&&(window.googletag.cmd.push(function(){return window.googletag.destroySlots([t])}),e.slot=void 0)},i.adService.render=function(e){e=e.map(function(e){return e.slot});window.googletag&&window.googletag.pubads&&window.googletag.pubads().refresh(e,{changeCorrelator:!1})},i.on("INIT",function(){var e=i.config.scriptUrls;o.default.loadScripts(void 0===e?["//securepubads.g.doubleclick.net/tag/js/gpt.js"]:e),window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push(function(){var e=i.config,t=e.categoryExclusions,n=e.gdprConsent,r=e.renderInterval,e=void 0===r?50:r,r=window.googletag.pubads();r.disableInitialLoad(),r.enableSingleRequest(),o.default.setCategoryExclusions(t,r),void 0!==n&&r.setRequestNonPersonalizedAds(n?0:1);n=function(t){return function(e){return i.emit(t,function(e){{var t;e.slot&&(t=e.slot.getSlotElementId(),t=document.getElementById(t))}return{element:t,data:e}}(e))}};r.addEventListener("slotRenderEnded",n("SLOT_RENDER_ENDED")),r.addEventListener("slotOnload",n("SLOT_ONLOAD")),r.addEventListener("impressionViewable",n("IMPRESSION_VIEWABLE")),window.googletag.enableServices(),i.runRenderCycle(),e&&setInterval(i.runRenderCycle.bind(i),e)})}),i.on("SLOT_RENDER_ENDED",function(e){var t=e.element,e=e.data;e.isEmpty&&(-1===t.gamRetries||t.renderCount<=t.gamRetries)&&setTimeout(function(){t.rendered=!1,t.hasToRender=!0},3e4),t&&e.size&&1<e.size[0]&&(t.style.width="".concat(e.size[0],"px"))}),i.on("SLOT_ONLOAD",function(e){e=e.element;void 0!==e.bidResponses&&Array.isArray(e.bidResponses)&&(e.bidResponses.forEach(function(e){delete i.auctionManager[e]}),e.bidResponses.length=0)}),i.on("CCPA_UPDATED",function(e){var t=e.data;window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push(function(){window.googletag.pubads().setPrivacySettings({restrictDataProcessing:"Y"===t.uspString[2]})})}),i.on("NODE_CONFIG_UPDATED",function(e){var t=e.node,e=e.config;null!=e&&e.safeFrameConfig&&(null===(t=t.slot)||void 0===t||t.setSafeFrameConfig(e.safeFrameConfig))});case 10:case"end":return e.stop()}},e)}),(i=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){u(r,t,n,i,o,"next",e)}function o(e){u(r,t,n,i,o,"throw",e)}i(void 0)})}).apply(this,arguments);var s}var c=function(t){if(window.googletag&&window.googletag.sizeMapping){var n=window.googletag.sizeMapping();return Object.keys(t).forEach(function(e){n.addSize(JSON.parse(e),t[e])}),n.build()}return null};t.default=function(e){return i.apply(this,arguments)}},function(e,t,n){n(88),e.exports=n(118)},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n(119),n(162);var r=o(n(169)),i=o(n(194));function o(e){return e&&e.__esModule?e:{default:e}}function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function s(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}n(1),n(195);var u=n(0).createZeusAdCss,c={customer:"wapo",configVersion:23,general:{bidTimeout:1e3,breakpointOverrides:{"down-sm":{initBuffer:800,refreshBuffer:100}},initBuffer:200,refreshBuffer:200,slotPrefix:"slug_",tagName:"wp-ad"},breakpoints:{xs:0,sm:767,md:768,lg:769,xl:770},plugins:{advadrefresher:{active:!0,pauseAdOffFocus:!0},flexfix:{active:!1,advertiserIds:[15772018]},kruxwrapper:{active:!0,kruxId:"IbWIJ0xh",namespace:"washingtonpost"},logger:{active:!0,logLevel:0},metrics:{active:!0,apiHost:"https://wapo-analytics.zeustechnology.com",bucketSize:.2},zeusInsightsForPublishers:{active:!0},zeusslotkvs:{active:!0,configOverride:!1,renderType:!0,deviceType:!1}},customPlugins:{brandmetric:{active:!0},dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}},keyValues:{customKeyvalues:!0,exclusionsKeyWords:{natural_disaster:["deepwater","oil spill","shell","exxon","citgo","bp","chevron","hess","sunoco","disaster","fire","explosion","oil","coal","death","dead","quake","earthquake","tsunami","tornado","hurricane","flood","bed bug","infestation","gas","tropical storm","Irma","Harvey"],human_disaster:["nazi","coronavirus","abortion","kobe","shot","fatal","fatally","homicide","blood","kill","accident","Weinstein","massacre","oreilly","Ailes","o'reilly","fox news","abuse","death","trafficking","dead","gunshot","murderer","porn","sex tape","sexting","sexual abuse","molestation","assault","child abuse","sex abuse","ISIS","ISIL","Islamic State","Al Qaeda","Syria","Syrian","Assad","shooter","shooting","migrants","aylan kurdi","refugee crisis","drown","shoot","vatican","spanair","aground","rescue","attack","disaster","explosion","war","hostage","terror","terrorist","bomb","blast","mining","miner","violence","riot","crash","9/11","sept. 11","september 11","behead","United 93","pistorius","ebola","rape","rapist","amtrak","derailment","benghazi","misconduct","illegal downloads","illegal drugs","hate speech","offensive language","bullying","epstein","chauvin"],business_disaster:["work stoppage","workers' strike","plant closures","embezzlement","embezzling","money laundering","corrupt","lawsuit","goldman","aig","foreclosure","enron","sec","mortgage","Insurance","health","bank","wall street","protest","labor strike","union strike","labor issue","union issue","teacher strike","teachers strike","election","fraud","scam","chase"],inappropriate:["porn","cunt","pussy","fuck","deepwater","gambling","sex","alcohol","pornography"]}},inventory:{interstitial:{sizes:{xs:[[1,1]]},type:"oop",skipBidding:!0,gamRetries:0},desktop_interstitial:{sizes:{"up-xs":[[1,1]]},type:"oop",skipBidding:!0,gamRetries:0},leaderboard:{sizes:{"768-989":[[1,1],[2,1],[728,90],"fluid"],"up-990":[[1,1],[2,1],[728,90],[970,66],[970,250],"fluid"]},keyvalues:{pos:"leaderboard"},refresh:{pauseAdHover:!0,fixAdHeight:!0,fixAdHeightSize:[970,250],status:!0,exception:["washingtonpost.com","washingtonpost.com/regional","washingtonpost.com/test","homepage","homepage/test","climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},leaderboard_1:{sizes:{"768-989":[[1,1],[2,1],[728,90],"fluid"],"up-990":[[1,1],[2,1],[970,250],"fluid"]},refresh:{pauseAdHover:!0,fixAdHeight:!0,status:!0,exception:["washingtonpost.com","washingtonpost.com/regional","washingtonpost.com/test","homepage","homepage/test","climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"leaderboard_*":{sizes:{"768-989":[[1,1],[2,1],[728,90],"fluid"],"up-990":[[1,1],[2,1],[728,90],[970,66],[970,250],"fluid"]},refresh:{pauseAdHover:!0,fixAdHeight:!0,status:!0,exception:["washingtonpost.com","washingtonpost.com/regional","washingtonpost.com/test","homepage","homepage/test","climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},header_logo:{sizes:{"up-xs":[[2,1],[1,2],[1,1]]},skipBidding:!0,gamRetries:0},banner_top:{sizes:{"up-xs":[[2,1],[1,1]]},skipBidding:!0,gamRetries:0},inline_bb:{sizes:{"sm-1249":[[1,1],[2,1],[1,7],[300,250],"fluid"],"up-1250":[[1,1],[2,1],[1,7],[300,250],[620,250],"fluid"]},refresh:{pauseAdHover:!0,fixAdHeight:!0,status:!0,exception:[]}},"inline_bb_*":{sizes:{"sm-1249":[[1,1],[2,1],[1,7],[300,250],"fluid"],"up-1250":[[1,1],[2,1],[1,7],[300,250],[620,250],"fluid"]},refresh:{pauseAdHover:!0,fixAdHeight:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},flex_ss_bb_hp:{sizes:{"up-sm":[[2,1],[336,850],[336,280],[160,600],[300,250],[300,600],[300,1050]]},refresh:{pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},flex_ss_bb_hp_2:{sizes:{"up-sm":[[2,1],[336,850],[336,280],[160,600],[300,250],[300,600],[300,1050]]},refresh:{pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},configOverrides:{"road-to-recovery":{dateFilters:[{start:"March 10 2020",end:"March 10 2020"}]}}},flex_ss_bb_hp_4:{sizes:{"up-sm":[[2,1],[336,850],[336,280],[160,600],[300,250],[300,600],[300,1050]]},refresh:{pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},configOverrides:{"road-to-recovery":{dateFilters:[{start:"March 10 2021",end:"March 10 2021"}]}}},"flex_ss_bb_hp_*":{sizes:{"up-sm":[[2,1],[336,850],[336,280],[160,600],[300,250],[300,600],[300,1050]]},refresh:{pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},flex_bb_hp:{sizes:{"up-sm":[[2,1],[336,850],[336,280],[300,600],[300,1050],[300,250]]},refresh:{pauseAdHover:!0,status:!0}},flex_bb_hp_sm:{sizes:{"up-sm":[[2,1],[160,600],[300,600],[300,250]]},refresh:{pauseAdHover:!0,status:!0,exception:[]}},flex_hp:{sizes:{"up-sm":[[2,1],[300,600]]},refresh:{pauseAdHover:!0,status:!0,exception:[]}},tiffany_tile:{sizes:{"up-sm":[[2,1],[200,60],[184,90]]},keyvalues:{ad:"tiffany_tile"},skipBidding:!0,gamRetries:0},"tiffany_tile_*":{sizes:{"up-sm":[[2,1],[200,60],[184,90]]},skipBidding:!0,gamRetries:0},brandconnect_front:{sizes:{"up-xs":[[1,1],[2,1],[1,8],"fluid"]},skipBidding:!0,gamRetries:0},brandconnect_magnet:{sizes:{"up-xs":[[1,1],[2,1],[1,8]]},skipBidding:!0,gamRetries:0},bc_pb_homepage:{sizes:{"up-xs":[[1,1],[2,1],[1,8],"fluid"]},skipBidding:!0,gamRetries:0},bc_pb_regional:{sizes:{"up-xs":[[1,1],[2,1],[1,8],"fluid"]},skipBidding:!0,gamRetries:0},"336x60":{sizes:{"up-xs":[[2,1],[336,60]]},keyvalues:{ad:"336x60"},skipBidding:!0,gamRetries:0},"336x35_top":{sizes:{"up-xs":[[2,1],[336,35]]},keyvalues:{ad:"336x35"},skipBidding:!0,gamRetries:0},marketing_2:{sizes:{"up-xs":[[2,1],[1,1]]},skipBidding:!0,gamRetries:0},marketwatch:{sizes:{"up-xs":[[2,1],[1,1]]},skipBidding:!0,gamRetries:0},twittermodule:{sizes:{"up-xs":[[2,1],[1,1]]},skipBidding:!0,gamRetries:0},"88x31":{sizes:{"up-xs":[[2,1],[88,31]]},skipBidding:!0,gamRetries:0},bigbox:{sizes:{"up-xs":[[1,1],[2,1],[1,7],[300,250],"fluid"]},refresh:{fixAdHeight:!0,pauseAdHover:!0,status:!0,exception:["washingtonpost.com","washingtonpost.com/test","homepage","homepage/test"]}},"bigbox_*":{sizes:{"up-xs":[[1,1],[2,1],[1,7],[300,250],"fluid"]},refresh:{fixAdHeight:!0,pauseAdHover:!0,status:!0,exception:["washingtonpost.com","washingtonpost.com/test","homepage","homepage/test"]}},bigbox_stay:{sizes:{"up-xs":[[1,1],[2,1],[300,250],"fluid"]},refresh:{fixAdHeight:!0,pauseAdHover:!0,status:!0,exception:[]}},bigbox_eat:{sizes:{"up-xs":[[1,1],[2,1],[300,250],"fluid"]},refresh:{fixAdHeight:!0,pauseAdHover:!0,status:!0,exception:[]}},bigbox_do:{sizes:{"up-xs":[[1,1],[2,1],[300,250],"fluid"]},refresh:{fixAdHeight:!0,pauseAdHover:!0,status:!0,exception:[]}},bigbox_gallery:{sizes:{"up-xs":[[1,1],[2,1],[300,250]]}},bs_btw:{sizes:{"up-xs":[[2,1],[1,1],"fluid"]},skipBidding:!0,gamRetries:0},bs_card_front:{sizes:{"up-xs":[[2,1],[1,1],"fluid"]},refresh:{pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},skipBidding:!0,gamRetries:0},"bs_card_front_*":{sizes:{"up-xs":[[2,1],[1,1],"fluid"]},refresh:{pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},skipBidding:!0,gamRetries:0},enterprise:{sizes:{"0-639":[[2,1],[1,1],[300,250],"fluid"],"640-989":[[2,1],[1,1],[620,250],[300,250],"fluid"],"up-990":[[2,1],[1,1],[620,250],[300,250],[970,250],"fluid"]},refresh:{pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"enterprise_*":{sizes:{"0-639":[[2,1],[1,1],[300,250],"fluid"],"640-989":[[2,1],[1,1],[620,250],[300,250],"fluid"],"up-990":[[2,1],[1,1],[620,250],[300,250],[970,250],"fluid"]},refresh:{pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},mob_enterprise:{sizes:{"down-sm":[[2,1],[1,1],[300,250],"fluid"]},refresh:{pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"mob_enterprise_*":{sizes:{"down-sm":[[2,1],[1,1],[300,250],"fluid"]},refresh:{pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},mob_bigbox:{sizes:{"down-sm":[[1,1],[2,1],[1,7],[300,600],[300,250],"fluid"]},refresh:{fixAdHeight:!0,pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"mob_bigbox_*":{sizes:{"down-sm":[[1,1],[2,1],[1,7],[300,250],"fluid"]},refresh:{fixAdHeight:!0,pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},fixedBottom:{sizes:{"down-sm":[[2,1],[320,50],[300,50]]},refresh:{pauseAdHover:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},bc_bigbox:{sizes:{"up-xs":[[1,1],[2,1],[300,250]]},skipBidding:!0,gamRetries:0},graphic_inline:{sizes:{"up-sm":[[1,1],[300,250],[300,600],"fluid"]},refresh:{pauseAdHover:!0,fixAdHeight:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"graphic_inline_*":{sizes:{"up-sm":[[1,1],[300,250],[300,600],"fluid"]},refresh:{pauseAdHover:!0,fixAdHeight:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},mob_graphic_inline:{sizes:{"down-sm":[[1,1],[300,250],[300,600]]},refresh:{pauseAdHover:!0,fixAdHeight:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"mob_graphic_inline_*":{sizes:{"down-sm":[[1,1],[300,250],[300,600]]},refresh:{pauseAdHover:!0,fixAdHeight:!0,status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},mob_lb:{sizes:{"down-sm":[[2,1],[300,50],[320,50],"fluid"]},refresh:{pauseAdHover:!0,status:!0}},"mob_lb_*":{sizes:{"down-sm":[[2,1],[300,50],[320,50],"fluid"]},refresh:{pauseAdHover:!0,status:!0}},howtovote:{sizes:{"up-xs":[[1,1],[320,105],"fluid"]},skipBidding:!0,gamRetries:0}},sspConfig:{bidders:{a9:{active:!0,id:"3041"},appNexus:{active:!0,adTypes:["banner"]},criteo:{active:!0,id:1180},ias:{active:!0,id:"8221"},indexExchange:{active:!0,script:"//js-sec.indexww.com/ht/p/183960-49969200693724.js"},openx:{active:!0,domain:"//washingtonpost-d.openx.net/w/1.0/arj"},rubicon:{active:!0,accountId:12890,siteId:{xs:254660,"up-sm":254660},tkFlint:"wp"},trustx:{active:!0}},slots:{slug_leaderboard:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:540038581}},apnx:{default:{id:12456623}},trustx:{default:{auid:7201}}},slug_leaderboard_1:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:541004067}},apnx:{default:{id:18610295}},trustx:{default:{auid:15125}}},slug_leaderboard_2:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:541004068}},apnx:{default:{id:18610296}},trustx:{default:{auid:15126}}},slug_leaderboard_3:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:541004069}},apnx:{default:{id:18610297}},trustx:{default:{auid:15127}}},slug_leaderboard_4:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:541004070}},apnx:{default:{id:18610298}},trustx:{default:{auid:15128}}},slug_mob_lb:{openx:{default:{id:541079788}},apnx:{default:{id:14675087}},trustx:{default:{auid:7232}},rubicon:{default:{zoneId:1953634}}},slug_inline_bb:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540038591}},apnx:{default:{id:12456622}},trustx:{default:{auid:7202}}},slug_inline_bb_2:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540038592}},apnx:{default:{id:12456638}},trustx:{default:{auid:7203}}},slug_inline_bb_3:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540038593}},apnx:{default:{id:12456645}},trustx:{default:{auid:7204}}},slug_inline_bb_4:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540038594}},apnx:{default:{id:12456635}},trustx:{default:{auid:7205}}},slug_inline_bb_5:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540205943}},apnx:{default:{id:14675069}},trustx:{default:{auid:7206}}},slug_inline_bb_6:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540205990}},apnx:{default:{id:14675070}},trustx:{default:{auid:7207}}},slug_inline_bb_7:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540205946}},apnx:{default:{id:14675072}},trustx:{default:{auid:7208}}},slug_inline_bb_8:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540205945}},apnx:{default:{id:14675073}},trustx:{default:{auid:7209}}},slug_bigbox:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004075}},apnx:{default:{id:18610299}},trustx:{default:{auid:7214}}},slug_bigbox_2:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004077}},apnx:{default:{id:18610301}},trustx:{default:{auid:7215}}},slug_bigbox_3:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004078}},apnx:{default:{id:18610302}},trustx:{default:{auid:7216}}},slug_bigbox_4:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004079}},apnx:{default:{id:18610303}},trustx:{default:{auid:7217}}},slug_bigbox_5:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004080}},apnx:{default:{id:18610304}},trustx:{default:{auid:15130}}},slug_bigbox_6:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004081}},apnx:{default:{id:18610305}},trustx:{default:{auid:15131}}},slug_bigbox_7:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004082}},apnx:{default:{id:18610306}},trustx:{default:{auid:15132}}},slug_bigbox_8:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004083}},apnx:{default:{id:18610307}},trustx:{default:{auid:15133}}},slug_bigbox_gallery:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:540038599}},apnx:{default:{id:12456649}},trustx:{default:{auid:7218}}},slug_enterprise:{rubicon:{default:{zoneId:1744616}},openx:{default:{id:540038600}},apnx:{default:{id:12456628}},trustx:{default:{auid:7219}}},slug_enterprise_2:{rubicon:{default:{zoneId:1744616}},openx:{default:{id:540038601}},apnx:{default:{id:14675083}},trustx:{default:{auid:7220}}},slug_enterprise_3:{rubicon:{default:{zoneId:1744616}},openx:{default:{id:540038602}},apnx:{default:{id:14675084}},trustx:{default:{auid:7221}}},slug_enterprise_4:{rubicon:{default:{zoneId:1744616}},openx:{default:{id:540038603}},apnx:{default:{id:14675086}},trustx:{default:{auid:7222}}},slug_enterprise_5:{rubicon:{default:{zoneId:1744616}},openx:{},apnx:{},trustx:{}},slug_enterprise_6:{rubicon:{default:{zoneId:1744616}},openx:{},apnx:{},trustx:{}},slug_enterprise_7:{rubicon:{default:{zoneId:1744616}},openx:{},apnx:{},trustx:{}},slug_enterprise_8:{rubicon:{default:{zoneId:1744616}},openx:{},apnx:{},trustx:{}},slug_mob_enterprise:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{}},slug_mob_enterprise_2:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{}},slug_mob_enterprise_3:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{}},slug_mob_enterprise_4:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{}},slug_mob_enterprise_5:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{}},slug_mob_enterprise_6:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{}},slug_mob_enterprise_7:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{}},slug_mob_enterprise_8:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{}},slug_mob_bigbox:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540038604}},apnx:{default:{id:12456636}},trustx:{default:{auid:7223}}},slug_mob_bigbox_2:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540038605}},apnx:{default:{id:12456646}},trustx:{default:{auid:7224}}},slug_mob_bigbox_3:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540038606}},apnx:{default:{id:12456647}},trustx:{default:{auid:7225}}},slug_mob_bigbox_4:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540038607}},apnx:{default:{id:12456631}},trustx:{default:{auid:7226}}},slug_mob_bigbox_5:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540205994}},apnx:{default:{id:14700918}},trustx:{default:{auid:7227}}},slug_mob_bigbox_6:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540205995}},apnx:{default:{id:14700919}},trustx:{default:{auid:7228}}},slug_mob_bigbox_7:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540205996}},apnx:{default:{id:14700920}},trustx:{default:{auid:7229}}},slug_mob_bigbox_8:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540205998}},apnx:{default:{id:14700922}},trustx:{default:{auid:7230}}},slug_fixedBottom:{rubicon:{default:{zoneId:1744620}},openx:{default:{id:540038608}},apnx:{default:{id:12456634}},trustx:{default:{auid:7231}}},slug_bc_bigbox:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:540038613}},apnx:{default:{id:12456641}},trustx:{default:{auid:7236}}},slug_flex_ss_bb_hp:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038616}},apnx:{default:{id:12456629}},trustx:{default:{auid:7210}}},slug_flex_ss_bb_hp_2:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038617}},apnx:{default:{id:12456630}},trustx:{default:{auid:7211}}},slug_flex_ss_bb_hp_3:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038618}},apnx:{default:{id:12456621}},trustx:{default:{auid:7212}}},slug_flex_ss_bb_hp_4:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038619}},apnx:{default:{id:14675074}},trustx:{default:{auid:7213}}},slug_flex_bb_hp:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038620}},apnx:{default:{id:12456644}},trustx:{default:{auid:15667}}},slug_flex_bb_hp_sm:{openx:{default:{id:541079773}},apnx:{default:{id:19298055}},trustx:{default:{auid:15668}},rubicon:{default:{zoneId:1744622}}},slug_flex_hp:{openx:{default:{id:541079774}},apnx:{default:{id:19298090}},trustx:{default:{auid:15669}},rubicon:{default:{zoneId:1744622}}},slug_bigbox_stay:{openx:{default:{id:541079775}},apnx:{default:{id:19298112}},trustx:{default:{auid:15670}},rubicon:{default:{zoneId:1744614}}},slug_bigbox_eat:{openx:{default:{id:541079776}},apnx:{default:{id:19298122}},trustx:{default:{auid:15671}},rubicon:{default:{zoneId:1744614}}},slug_bigbox_do:{openx:{default:{id:541079777}},apnx:{default:{id:19298129}},trustx:{default:{auid:15672}},rubicon:{default:{zoneId:1744614}}},slug_graphic_inline:{openx:{default:{id:541079780}},apnx:{default:{id:19298161}},trustx:{default:{auid:15675}},rubicon:{default:{zoneId:1744624}}},slug_mob_graphic_inline:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}}},slug_mob_graphic_inline_2:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}}},slug_mob_graphic_inline_3:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}}},slug_mob_graphic_inline_4:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}}},slug_mob_graphic_inline_5:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}}},slug_mob_graphic_inline_6:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}}},slug_mob_graphic_inline_7:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}}},slug_mob_graphic_inline_8:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}}}}}},l=(null==c||null===(h=c.general)||void 0===h?void 0:h.tagName)||"zeus-ad",f=[],d=[],p=Object.keys(c.plugins)||[],h=void 0!==c.customPlugins&&Object.keys(c.customPlugins)||[];p.forEach(function(e){try{var t=n(196)("./".concat(e));null!=t&&t.onload&&f.push(t),null!=t&&t.init&&d.push(t)}catch(e){}}),h.forEach(function(e){try{var t=n(197)("./".concat(e));null!=t&&t.onload&&f.push(t),null!=t&&t.init&&d.push(t)}catch(e){}});var v=h.length?s(s({},c.plugins),c.customPlugins):c.plugins,g=(Object.keys(c.sspConfig.bidders)||[]).map(function(t){try{return n(198)("./".concat(t))}catch(e){return console.error("Failed to load SSP ".concat(t),e),null}}).filter(function(e){return!!e}),m=null;if(!0===(null===(h=c.keyValues)||void 0===h?void 0:h.customKeyvalues))try{m=n(199)}catch(e){}window.zeus=function(){if(Object.keys(c.inventory).length&&c.inventory.constructor===Object){var n=new r.default(c);try{return f.forEach(function(e){n.plugins[e.name]=e.onload(n,v[e.name])}),g.forEach(function(e){null!=e&&e.init&&(e=e.init(n),n.ssps.push(e))}),d.forEach(function(e){var t;null!=e&&e.init&&(t=e.init(n,v[e.name]),n.plugins[e.name]=t)}),m&&m.hasOwnProperty("init")&&m.init(n),customElements.define(l,new i.default(n,c.dfpNode)),u(l),n.emit("INIT"),n}catch(e){n.error("init failed",{name:"zeus",err:e})}}else console.error("No Config file was supplied.")}()},function(e,t,n){var r=n(120);n(158),n(159),n(160),n(161),e.exports=r},function(e,t,n){n(89),n(140),n(142),n(109),n(110),n(150),n(151),n(154);n=n(94);e.exports=n.Promise},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}e.exports=i},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){e=i(this,e);return!!e&&e.enumerable}:r},function(e,t,n){var r=n(4),i=n(52),o="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(2),n=n(56),r=r.WeakMap;e.exports="function"==typeof r&&/native code/.test(n(r))},function(e,t,n){var s=n(5),u=n(126),c=n(51),l=n(12);e.exports=function(e,t){for(var n=u(t),r=l.f,i=c.f,o=0;o<n.length;o++){var a=n[o];s(e,a)||r(e,a,i(t,a))}}},function(e,t,n){var r=n(10),i=n(127),o=n(130),a=n(6);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(95),i=n(61).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var u=n(19),c=n(96),l=n(129),n=function(s){return function(e,t,n){var r,i=u(e),o=c(i.length),a=l(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}};e.exports={includes:n(!0),indexOf:n(!1)}},function(e,t,n){var r=n(60),i=Math.max,o=Math.min;e.exports=function(e,t){e=r(e);return e<0?i(e+t,0):o(e,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(53);e.exports=function(e){return Object(r(e))}},function(e,t,n){n=n(4);e.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var r=n(9);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(11),a=n(12),s=n(6),u=n(135);e.exports=r?Object.defineProperties:function(e,t){s(e);for(var n,r=u(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},function(e,t,n){var r=n(95),i=n(61);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(3),i=n(16),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){n=n(100);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(103),i=n(16),o=n(3)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(6);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},function(e,t,n){var r=n(65),i=n(13),n=n(141);r||i(Object.prototype,"toString",n,{unsafe:!0})},function(e,t,n){"use strict";var r=n(65),i=n(103);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){"use strict";var r,i,o,a,s=n(8),u=n(15),v=n(2),c=n(10),l=n(104),f=n(13),d=n(143),p=n(66),h=n(144),g=n(9),m=n(14),y=n(145),b=n(56),w=n(21),x=n(146),O=n(105),_=n(106).set,S=n(147),A=n(108),k=n(149),E=n(17),P=n(23),C=n(20),j=n(97),z=n(3),T=n(22),I=n(101),R=z("species"),M="Promise",N=C.get,D=C.set,L=C.getterFor(M),B=l,U=v.TypeError,F=v.document,H=v.process,V=c("fetch"),K=E.f,G=K,W=!!(F&&F.createEvent&&v.dispatchEvent),q="function"==typeof PromiseRejectionEvent,j=j(M,function(){if(b(B)===String(B)){if(66===I)return!0;if(!T&&!q)return!0}if(u&&!B.prototype.finally)return!0;if(51<=I&&/native code/.test(B))return!1;function e(e){e(function(){},function(){})}var t=B.resolve(1);return(t.constructor={})[R]=e,!(t.then(function(){})instanceof e)}),x=j||!x(function(e){B.all(e).catch(function(){})}),Y=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},J=function(d,p){var h;d.notified||(d.notified=!0,h=d.reactions,S(function(){for(var r,e=d.value,t=1==d.state,n=0;h.length>n;){var i,o,a,s=h[n++],u=t?s.ok:s.fail,c=s.resolve,l=s.reject,f=s.domain;try{u?(t||(2===d.rejection&&function(t){_.call(v,function(){var e=t.facade;T?H.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)})}(d),d.rejection=1),!0===u?i=e:(f&&f.enter(),i=u(e),f&&(f.exit(),a=!0)),i===s.promise?l(U("Promise-chain cycle")):(o=Y(i))?o.call(i,c,l):c(i)):l(e)}catch(e){f&&!a&&f.exit(),l(e)}}d.reactions=[],d.notified=!1,p&&!d.rejection&&(r=d,_.call(v,function(){var e,t=r.facade,n=r.value;if($(r)&&(e=P(function(){T?H.emit("unhandledRejection",n,t):Z("unhandledrejection",t,n)}),r.rejection=T||$(r)?2:1,e.error))throw e.value}))}))},Z=function(e,t,n){var r,i;W?((r=F.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),v.dispatchEvent(r)):r={promise:t,reason:n},!q&&(i=v["on"+e])?i(r):"unhandledrejection"===e&&k("Unhandled promise rejection",n)},$=function(e){return 1!==e.rejection&&!e.parent},X=function(t,n,r){return function(e){t(n,e,r)}},Q=function(e,t,n){e.done||(e.done=!0,(e=n?n:e).value=t,e.state=2,J(e,!0))},ee=function(n,e,t){if(!n.done){n.done=!0,t&&(n=t);try{if(n.facade===e)throw U("Promise can't be resolved itself");var r=Y(e);r?S(function(){var t={done:!1};try{r.call(e,X(ee,t,n),X(Q,t,n))}catch(e){Q(t,e,n)}}):(n.value=e,n.state=1,J(n,!1))}catch(e){Q({done:!1},e,n)}}};j&&(B=function(e){y(this,B,M),m(e),r.call(this);var t=N(this);try{e(X(ee,t),X(Q,t))}catch(e){Q(t,e)}},(r=function(e){D(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(B.prototype,{then:function(e,t){var n=L(this),r=K(O(this,B));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=T?H.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&J(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=N(e);this.promise=e,this.resolve=X(ee,t),this.reject=X(Q,t)},E.f=K=function(e){return e===B||e===o?new i:G(e)},u||"function"!=typeof l||(a=l.prototype.then,f(l.prototype,"then",function(e,t){var n=this;return new B(function(e,t){a.call(n,e,t)}).then(e,t)},{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return A(B,V.apply(v,arguments))}}))),s({global:!0,wrap:!0,forced:j},{Promise:B}),p(B,M,!1,!0),h(M),o=c(M),s({target:M,stat:!0,forced:j},{reject:function(e){var t=K(this);return t.reject.call(void 0,e),t.promise}}),s({target:M,stat:!0,forced:u||j},{resolve:function(e){return A(u&&this===o?B:this,e)}}),s({target:M,stat:!0,forced:x},{all:function(e){var s=this,t=K(s),u=t.resolve,c=t.reject,n=P(function(){var r=m(s.resolve),i=[],o=0,a=1;w(e,function(e){var t=o++,n=!1;i.push(void 0),a++,r.call(s,e).then(function(e){n||(n=!0,i[t]=e,--a||u(i))},c)}),--a||u(i)});return n.error&&c(n.value),t.promise},race:function(e){var n=this,r=K(n),i=r.reject,t=P(function(){var t=m(n.resolve);w(e,function(e){t.call(n,e).then(r.resolve,i)})});return t.error&&i(t.value),r.promise}})},function(e,t,n){var i=n(13);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){"use strict";var r=n(10),i=n(12),o=n(3),a=n(11),s=o("species");e.exports=function(e){var t=r(e),e=i.f;a&&t&&!t[s]&&e(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var i=n(3)("iterator"),o=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},function(e,t,n){var r,i,o,a,s,u,c,l,f=n(2),d=n(51).f,p=n(106).set,h=n(107),v=n(148),g=n(22),m=f.MutationObserver||f.WebKitMutationObserver,y=f.document,b=f.process,n=f.Promise,d=d(f,"queueMicrotask"),d=d&&d.value;d||(r=function(){var e,t;for(g&&(e=b.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},a=h||g||v||!m||!y?n&&n.resolve?(c=n.resolve(void 0),l=c.then,function(){l.call(c,r)}):g?function(){b.nextTick(r)}:function(){p.call(f,r)}:(s=!0,u=y.createTextNode(""),new m(r).observe(u,{characterData:!0}),function(){u.data=s=!s})),e.exports=d||function(e){e={fn:e,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},function(e,t,n){n=n(64);e.exports=/web0s(?!.*chrome)/i.test(n)},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){"use strict";var r=n(8),i=n(15),o=n(104),a=n(4),s=n(10),u=n(105),c=n(108),n=n(13);r({target:"Promise",proto:!0,real:!0,forced:!!o&&a(function(){o.prototype.finally.call({then:function(){}},function(){})})},{finally:function(t){var n=u(this,s("Promise")),e="function"==typeof t;return this.then(e?function(e){return c(n,t()).then(function(){return e})}:t,e?function(e){return c(n,t()).then(function(){throw e})}:t)}}),i||"function"!=typeof o||o.prototype.finally||n(o.prototype,"finally",s("Promise").prototype.finally)},function(e,t,n){"use strict";var r=n(152).charAt,i=n(20),n=n(111),o=i.set,a=i.getterFor("String Iterator");n(String,"String",function(e){o(this,{type:"String Iterator",string:String(e),index:0})},function(){var e=a(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(n=r(t,n),e.index+=n.length,{value:n,done:!1})})},function(e,t,n){var a=n(60),s=n(53),n=function(o){return function(e,t){var n,r=String(s(e)),i=a(t),e=r.length;return i<0||e<=i?o?"":void 0:(t=r.charCodeAt(i))<55296||56319<t||i+1===e||(n=r.charCodeAt(i+1))<56320||57343<n?o?r.charAt(i):t:o?r.slice(i,i+2):n-56320+(t-55296<<10)+65536}};e.exports={codeAt:n(!1),charAt:n(!0)}},function(e,t,n){"use strict";function r(){return this}var i=n(112).IteratorPrototype,o=n(63),a=n(18),s=n(66),u=n(16);e.exports=function(e,t,n){t+=" Iterator";return e.prototype=o(i,{next:a(1,n)}),s(e,t,!1,!0),u[t]=r,e}},function(e,t,n){var r,i=n(2),o=n(155),a=n(156),s=n(7),n=n(3),u=n("iterator"),c=n("toStringTag"),l=a.values;for(r in o){var f=i[r],d=f&&f.prototype;if(d){if(d[u]!==l)try{s(d,u,l)}catch(e){d[u]=l}if(d[c]||s(d,c,r),o[r])for(var p in a)if(d[p]!==a[p])try{s(d,p,a[p])}catch(e){d[p]=a[p]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(19),i=n(157),o=n(16),a=n(20),n=n(111),s=a.set,u=a.getterFor("Array Iterator");e.exports=n(Array,"Array",function(e,t){s(this,{type:"Array Iterator",target:r(e),index:0,kind:t})},function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var r=n(3),i=n(63),n=n(12),o=r("unscopables"),a=Array.prototype;null==a[o]&&n.f(a,o,{configurable:!0,value:i(null)}),e.exports=function(e){a[o][e]=!0}},function(e,t,n){n(89)},function(e,t,n){n(109)},function(e,t,n){"use strict";var r=n(8),i=n(17),o=n(23);r({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),e=o(e);return(e.error?t.reject:t.resolve)(e.value),t.promise}})},function(e,t,n){n(110)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(163)),i=o(n(165)),n=o(n(167));function o(e){return e&&e.__esModule?e:{default:e}}r.default.polyfill(),i.default.polyfill(),n.default.polyfill();t.default=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=(n=n(164))&&n.__esModule?n:{default:n}},function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}function i(e){var t,n=[];for(t in e)n.push(e[t]);return n}function o(e){for(var t=Object.keys(e),n=Object.values(e),r=t.length,i=new Array(r);r--;)i[r]=[t[r],n[r]];return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={polyfill:function(){"function"!=typeof Object.assign&&(Object.assign=r),"function"!=typeof Object.values&&(Object.values=i),"function"!=typeof Object.entries&&(Object.entries=o)},_assign:r,_values:i,_entries:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=(n=n(166))&&n.__esModule?n:{default:n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(){"function"!=typeof Array.prototype.includes&&(Array.prototype.includes=function(e){if(null==this)throw new TypeError("'this' is null or not defined");return-1!==this.indexOf(e)})}function i(){"function"!=typeof Array.prototype.find&&(Array.prototype.find=function(e){if(null==this)throw new TypeError("'this' is null or not defined");var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return o;i++}})}function o(){var t,u,n,c;"function"!=typeof Array.from&&(Array.from=(t=Object.prototype.toString,u=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},n=Math.pow(2,53)-1,c=function(e){e=Number(e),e=isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e;return Math.min(Math.max(e,0),n)},function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,r=1<arguments.length?arguments[1]:void 0;if(void 0!==r){if(!u(r))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var i,o=c(t.length),a=u(this)?Object(new this(o)):new Array(o),s=0;s<o;)i=t[s],a[s]=r?void 0===n?r(i,s):r.call(n,i,s):i,s+=1;return a.length=o,a}))}t.default={polyfill:function(){r(),i(),o()},includes:r,find:i,from:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=(n=n(168))&&n.__esModule?n:{default:n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(){"function"!=typeof String.prototype.includes&&(String.prototype.includes=function(e,t){if(e instanceof RegExp)throw new TypeError("first argument must not be a RegExp");return-1!==this.indexOf(e,t=void 0===t?0:t)})}function i(){"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e,t){t=0<t?0|t:0;return this.substring(t,t+e.length)===e})}t.default={polyfill:function(){r(),i()},includes:r,startsWith:i}},function(e,t,i){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i(170)),u=n(i(192)),c=n(i(0));function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function f(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){l(r,t,n,i,o,"next",e)}function o(e){l(r,t,n,i,o,"throw",e)}i(void 0)})}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=a(n);return e=r?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?v(t):e}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}i(1);var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,i(193));var e,t,n,r,o=h(a);function a(e){var r,t,n,i;return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),i=function(){r.breakpoint=c.default.getViewportSize(v(r)),r.emit("BREAKPOINT_UPDATED",r.breakpoint)},(n="onWindowResize")in(t=v(r=o.call(this)))?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,r.name="zeus",r.config=e,r.breakpoint=c.default.getViewportSize(v(r)),r.general=c.default.processConfigForBreakpoint(v(r),e.general),r.plugins={},r.ssps=[],r.usPrivacy={uspString:void 0},r.auctionManager={},r.adNodes=[],r.executionStart=0,r.commitHash="ec8077ad6a58e75e06b0b96716416e97115e2b0f",r.version="v2.9.11",r.debug=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.emit.apply(r,["DEBUG"].concat(t))},r.info=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.emit.apply(r,["INFO"].concat(t))},r.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.emit.apply(r,["WARN"].concat(t))},r.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.emit.apply(r,["ERROR"].concat(t))},r.timer=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.emit.apply(r,["TIMER"].concat(t))},(0,s.default)(v(r)),r.kvApplicator=new u.default(v(r)),r.on("INIT",function(){r.executionStart=Date.now()}),window.addEventListener("resize",r.onWindowResize),c.default.watchForBreakpointUpdates(v(r),r.config.general||{},function(e){r.general=e}),r}return e=a,t=[{key:"getKeyvalues",value:function(){return this.kvApplicator.compiledKeyvalues}},{key:"writeCreative",value:function(e,t){e&&t&&(t=this.auctionManager[t],e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t.width,e.defaultView.frameElement.height=t.height),t.hasOwnProperty("node")&&(t.node.style.width="".concat(t.width,"px")),e.open(),e.write(t.creative),e.close())}},{key:"setCustomKeyValue",value:function(e){c.default.isValidKeyValuePair(e)&&this.emit("ADD_KEYVALUES",e)}},{key:"checkRenderStatus",value:function(e){if("never"===e.renderBehavior)return!1;if("always"===e.renderBehavior)return!0;var t=this.general,n=t.refreshBuffer,r=t.initBuffer,i=e.zeus.inventoryConfig,t=i.refreshBuffer,i=i.initBuffer;"number"==typeof i&&(r=i),"number"==typeof t&&(n=t);r=e.renderCount?n:r;return c.default.isElementCloseToViewport(e,r||0)}},{key:"prepareRender",value:function(){var t=this;return this.adNodes.filter(function(e){if(!e.rendered&&!e.currentlyBidding)return e.hasToRender=e.hasToRender||t.checkRenderStatus(e),e.hasToRender&&t.adService.setup(e)}).map(function(e){return Object.assign(e,{currentlyBidding:!0})})}},{key:"bid",value:(r=f(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ccpa.collectAndSetString().catch(function(e){n.warn("CCPA string not set",{name:n.name,err:null==e?void 0:e.msg})});case 2:return e.abrupt("return",Promise.all(this.ssps.map(function(e){return e.bid(t).catch(function(e){return e})})));case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"render",value:function(t){try{this.info("Render the following adNodes:",t),this.adService.render(t)}catch(e){this.warn("render error",{name:this.name,err:e,elements:t})}}},{key:"afterRender",value:function(e){e.forEach(function(e){return Object.assign(e,{rendered:!0,hasToRender:!1,renderCount:(null==e?void 0:e.renderCount)+1,currentlyBidding:!1})})}},{key:"runRenderCycle",value:(n=f(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=(t=this.prepareRender())&&t.length){e.next=4;break}return e.abrupt("return");case 4:if(this.emit("SLOTS_WILL_RENDER",{elements:t}),(n=t.filter(function(e){return!e.skipBidding})).length)return e.next=9,this.bid(n);e.next=11;break;case 9:r=e.sent,this.emit("BID_COMPLETED",{elements:n,data:r});case 11:this.emit("SLOT_RENDER",{elements:t}),this.render(t),this.afterRender(t),this.emit("AFTER_SLOT_RENDER",{elements:t}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),this.error("render cycle failed",{name:this.name,err:e.t0});case 20:case"end":return e.stop()}},e,this,[[0,17]])})),function(){return n.apply(this,arguments)})},{key:"reload",value:function(){var e,t,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];null===(e=this.plugins)||void 0===e||null===(t=e.adunit)||void 0===t||t.collectCustomerAdunit(),this.kvApplicator.collectCustomerKeyvalues(),!0===n&&this.adNodes.forEach(function(e){e.renderCount=0,e.rerender()})}}],d(e.prototype,t),a}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(171)),i=s(n(115)),o=n(190),a=n(191);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){(0,r.default)(e),(0,i.default)(e),(0,o.registerCcpa)(e),(0,a.registerTcf)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(1);var r=n(172);t.default=function(n){n.on("BEFORE_NODE_CONNECTED",function(e){e.rendered|=e.hasAttribute("data-manual-render")}),n.on("NODE_CONNECTED",function(e){var t=(0,r.setupNode)(e,n);t.success||(0,r.onFail)(n,t.error,e),n.adNodes.push(e)}),n.on("NODE_DISCONNECTED",function(t){n.adNodes=n.adNodes.filter(function(e){return e.id!==t.id}),n.adService.remove(t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupNode=t.processNode=t.applyConfigsForBreakpoint=t.watchForBreakpointUpdates=t.processSspConfig=t.processInventoryConfig=t.getSspConfig=t.getInventoryConfig=t.hasCustomProcessorFunction=t.onFail=void 0,n(1);var o=(n=n(0))&&n.__esModule?n:{default:n};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function r(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.onFail=function(e,t,n){e.warn("".concat(t),{name:"processor",node:n}),n.rendered=!0,n.style.display="none"};function u(e,t){if(!0===(e&&e.config&&e.config.customPlugins&&e.config.customPlugins.processor&&e.config.customPlugins.processor.active)){e=e&&e.plugins&&e.plugins.processor;if("object"===i(e)&&"function"==typeof e[t])return!0}return!1}t.hasCustomProcessorFunction=u;function c(e,t,n){return u(n,"getInventoryConfig")?n.plugins.processor.getInventoryConfig(e,t,n):(n=o.default.getNodePos(e.id),n=t[n]||t[o.default.getNodeKey(n)],e=e.inventoryConfig,(n=e?e:n)||null)}t.getInventoryConfig=c;function l(e,t,n){return u(n,"getSspConfig")?n.plugins.processor.getSspConfig(e,t,n):(n=o.default.getNodeKey(e.id),(null==t?void 0:t[e.id])||(null==t?void 0:t[n])||null)}t.getSspConfig=l;function f(e,t,n){return u(n,"processInventoryConfig")?n.plugins.processor.processInventoryConfig(e,t,n):(n=(n=t)&&t.hasOwnProperty("configOverrides")&&null!==e.configOverride?r(r({},t),t.configOverrides[e.configOverride]||{}):n)||null}t.processInventoryConfig=f;function d(e,n,t){return u(t,"processSspConfig")?t.plugins.processor.processSspConfig(e,n,t):n&&n.hasOwnProperty("configOverrides")?(t=n.configOverrides[e.configOverride]||{},e=Object.keys(n).filter(function(e){return"configOverrides"!==e}).reduce(function(e,t){return e[t]=r({},n[t]),e},{}),r(r({},e),t)):n}t.processSspConfig=d;function p(t,n,r,i){var e=n.hasOwnProperty("breakpointOverrides"),o=Object.values(r||{}).some(function(e){return Object.keys(e).length&&!e.hasOwnProperty("default")});(e||o)&&i.on("BREAKPOINT_UPDATED",function(e){return h(t,n,r,i,e)})}t.watchForBreakpointUpdates=p;var h=function(e,t,n,r,i){e.zeusAdConfig=o.default.processConfigForBreakpoint(r,t,i),n&&(e.sspConfig=Object.entries(n).reduce(function(e,t){var n,t=(n=2,function(e){if(Array.isArray(e))return e}(t=t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],t=t[1];return e[n]=o.default.getValueForBreakpoint(r,t,i||r.breakpoint),e},{}))};t.applyConfigsForBreakpoint=h;function v(e,t,n){var r=c(e,t.inventory,n),r=f(e,r,n),t=l(e,t.sspConfig.slots,n),t=d(e,t,n);return r?e.rendered||!r.dateFilters||o.default.getValidPeriod(Date.now(),r.dateFilters)?(r=JSON.parse(JSON.stringify(r)),p(e,r,t,n),h(e,r,t,n),{success:!0}):{success:!1,error:"Ad spot is closed"}:{success:!1,error:"Failed to find configuration"}}t.processNode=v,t.setupNode=function(t,n){var r={};try{r=u(n,"processNode")?n.plugins.processor.processNode(t):v(t,n.config,n)}catch(e){n.error("setup node error",{node:t,err:e,name:"processor.setupNode"}),r.error=e.message}return r}},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var r={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&((r=o?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}(n(174));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,e=n.split("[FBAN");void 0!==(e=(n=void 0!==e[1]?e[0]:n).split("Twitter"))[1]&&(n=e[0]);var r,n=(r=n,function(e){return e.test(r)}),n={apple:{phone:n(i)&&!n(d),ipod:n(o),tablet:!n(i)&&(n(a)||b(t))&&!n(d),universal:n(s),device:(n(i)||n(o)||n(a)||n(s)||b(t))&&!n(d)},amazon:{phone:n(l),tablet:!n(l)&&n(f),device:n(l)||n(f)},android:{phone:!n(d)&&n(l)||!n(d)&&n(u),tablet:!n(d)&&!n(l)&&!n(u)&&(n(f)||n(c)),device:!n(d)&&(n(l)||n(f)||n(u)||n(c))||n(/\bokhttp\b/i)},windows:{phone:n(d),tablet:n(p),device:n(d)||n(p)},other:{blackberry:n(h),blackberry10:n(v),opera:n(g),firefox:n(y),chrome:n(m),device:n(h)||n(v)||n(g)||n(y)||n(m)},any:!1,phone:!1,tablet:!1};return n.any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n};var i=/iPhone/i,o=/iPod/i,a=/iPad/i,s=/\biOS-universal(?:.+)Mac\b/i,u=/\bAndroid(?:.+)Mobile\b/i,c=/Android/i,l=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,f=/Silk/i,d=/Windows Phone/i,p=/\bWindows(?:.+)ARM\b/i,h=/BlackBerry/i,v=/BB10/i,g=/Opera Mini/i,m=/\b(CriOS|Chrome)(?:.+)Mobile/i,y=/Mobile(?:.+)Firefox\b/i,b=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&1<e.maxTouchPoints&&"undefined"==typeof MSStream}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCookie=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n="".concat(document.cookie),r="".concat(e,"="),i=0,e=0;return 0<n.length&&-1!==(i=n.indexOf(r))&&(i+=r.length,-1===(e=n.indexOf(";",i))&&(e=n.length),t=unescape(n.substring(i,e))),t},t.setCookie=function(e,t,n,r,i,o){document.cookie=e+"="+escape(t)+(n?"; expires="+n:"")+(r?"; path="+r:"")+(i?"; domain="+i:"")+(o?"; secure":"")},t.areCookiesAvailable=function(){var t=!1;try{localStorage.setItem("test","test"),localStorage.removeItem("test"),t=!0}catch(e){t=!1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pollForValues=function(i){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3e4,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:50,e=i();return null!==e?Promise.resolve(e):new Promise(function(t,e){var n=setInterval(function(){var e=i();null!==e&&(clearTimeout(r),clearInterval(n),t(e))},a),r=setTimeout(function(){clearInterval(n),e("Timeout waiting for values")},o)})}},function(e,t,n){"use strict";function s(e){e*=100;return e<=500?Math.round(e):500<e&&e<=2e3?5*Math.round(e/5):2e3<e&&e<5e3?50*Math.round(e/50):5e3}function u(e,t){for(var n in e){var r;e.hasOwnProperty(n)&&(r=e[n],r=Array.isArray(r)?r.map(function(e){return"".concat(e)}):"".concat(r),t.setTargeting(n,r))}}function c(e){var t=e.auctionId,n=e.sspName,r=e.node,i=e.creativeCode,o=e.price,a=e.height,s=e.width,e=e.error;if(t&&null!=r&&r.bidResponses)return window.zeus.auctionManager[t]={creative:i,sspName:n,price:o,height:a,width:s,node:r,error:e,responseTimestamp:Date.now()},r.bidResponses.push(t)}function l(e,t){var n,r,i;if(null==e||null===(n=e.zeus)||void 0===n||null===(r=n.inventoryConfig)||void 0===r||null===(i=r.refresh)||void 0===i||!i.fixAdHeight)return!1;var o=null==e||null===(o=e.zeus)||void 0===o?void 0:o.currentSizes;if(1<(null==o?void 0:o.length))return!1;var a=null==e||null===(a=e.refreshBehavior)||void 0===a?void 0:a.creativeSize;return Boolean(a&&(a[0]!=t.width||a[1]!=t.height))}function f(e){for(var t=[],n=0,r=["node","sspName","auctionId","creativeCode","width","height","price"];n<r.length;n++){var i=r[n];void 0!==e[i]&&null!==e[i]||t.push(i)}return t.length&&t[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.convertToPriceBucket=s,t.createTrackingPixelHTML=function(e){if(!e)return"";e=encodeURI(e);return'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'.concat(e,'"></div>')},t.createTrackingPixeliFrame=function(e){if(!e)return"";try{var t=encodeURI(e);return'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><iframe id="escapedUrlFrame" src="'.concat(t,'" scrolling="no" frameborder="0" width="1" height="1"></iframe></div>')}catch(t){return console.error("Cannot encode URI ".concat(e),t),""}},t.successBid=function(e,t){return{success:!0,nodes:t,msg:"successfully received ".concat(e," data"),ssp:e,timestamp:Date.now()}},t.failureBid=function(e,t,n){return{success:!1,nodes:t,msg:n||"fetch ".concat(e," data failure"),ssp:e,timestamp:Date.now()}},t.setTargetings=u,t.setAuctionManager=c,t.setBidTargetingForNode=function(e){var t=e.node,n=e.targeting,r=void 0===n?{}:n,i=e.sspName,o=e.auctionId,a=e.price,n=f(e);if(n)throw new Error("missing target parameter ".concat(n));if(l(t,e))throw new Error("mismatch creative size");a=s(a);return r["zeus_".concat(i)]=a,r["zeus_auctionid_".concat(i)]=o,u(r,t.slot),c(e)},t.isSkipTargeting=l,t.checkRequireParams=f,t.convertToOpenRtbSizes=function(e){return e.reduce(function(e,t){t="fluid"===t?{w:1,h:1}:{w:t[0],h:t[1]};return e.push(t),e},[])},t.getLiveRampExt=function(e){return e?{eids:[{source:"liveramp.com",uids:[{id:e}]}]}:{}},t.getGDPRExt=function(e,t){return t?{gdpr:e,consent:t}:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(179);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToGAMSizeAndMapping=t.convertToGAMSizeMapping=t.convertToGAMSize=void 0;var o=n(114);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if(Array.isArray(e))return e;if("object"===r(e)){var t=new Set;return Object.values(e).forEach(function(e){Array.isArray(e)&&e.forEach(function(e){Array.isArray(e)?t.add("[".concat(e,"]")):t.add(e)})}),Array.from(t).map(function(e){return"fluid"===e?"fluid":JSON.parse(e)})}}t.convertToGAMSize=i;function s(i,e){if(!Array.isArray(e)&&e)return Object.entries(e).reduce(function(e,t){var n,r,t=(r=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(n,r)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],r=t[1],t=(0,o.getBoundsForBreakpointKey)(i,n),n=t.lower,t=t.upper;return e["[".concat(n,",0]")]=r,t===1/0||e["[".concat(t,",0]")]||(e["[".concat(t,",0]")]=[]),e},{"[0,0]":[]})}t.convertToGAMSizeMapping=s,t.convertToGAMSizeAndMapping=function(e,t){return{size:i(t),sizeMapping:s(e,t)}}},function(e,t,n){"use strict";function o(){var e,t,n;return(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.head)||(null===(t=window)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.getElementsByTagName("head")[0])}Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=function(e){var t=e.script,n=e.node,r=e.onload,i=e.onerror,e=n||o(),n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,r&&(n.onload=r),i&&(n.onerror=i),e.appendChild(n)},t.getHeadElement=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetcherJSON=t.fetcher=void 0;var r,i=(r=n(182))&&r.__esModule?r:{default:r};function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}n(88);function o(e,t){var n=t.useXHR,r=t.timeout,t=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(t,["useXHR","timeout"]),n=n?c:i.default;return Promise.race([n(e,t).then(function(e){return e.ok?Promise.resolve(e):Promise.reject(e)}),new Promise(function(e,t){r&&setTimeout(function(){t(new Error("TIMEOUT"))},r)})])}t.fetcher=o;var u,a,c=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.method,o=t.headers,a=t.body,s=t.withCredentials;return new Promise(function(t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){var e;4===r.readyState&&(200<=(e=r.status)&&e<300||304===e?t({xhttp:r,ok:!0}):n(r))},r.open(i,e,!0),r.withCredentials=void 0===s||s,r.setRequestHeader("Content-type","text/plain"),o&&Object.keys(o).length&&Object.keys(o).forEach(function(e){r.setRequestHeader(e,o[e])}),a?r.send(a):r.send()})},n=(u=regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(t,n);case 3:if(r=e.sent,null==n||!n.useXHR){e.next=8;break}e.t0=JSON.parse(r.xhttp.response),e.next=11;break;case 8:return e.next=10,r.json();case 10:e.t0=e.sent;case 11:if(i=e.t0){e.next=14;break}throw new Error("Empty Response");case 14:return e.abrupt("return",i);case 17:if(e.prev=17,e.t1=e.catch(0),e.t1 instanceof SyntaxError)throw new Error("Failed to parse payload");e.next=21;break;case 21:if("number"==typeof e.t1.status)throw new Error("".concat(e.t1.status," [").concat(e.t1.statusText,"]"));e.next=23;break;case 23:throw e.t1;case 24:case"end":return e.stop()}},e,null,[[0,17]])}),a=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function i(e){s(r,t,n,i,o,"next",e)}function o(e){s(r,t,n,i,o,"throw",e)}i(void 0)})},function(e,t){return a.apply(this,arguments)});t.fetcherJSON=n},function(e,t,n){"use strict";var r,_,i=(r="undefined"!=typeof self?self:void 0,o.prototype=r,new o);function o(){this.fetch=!1,this.DOMException=r.DOMException}_=i,function(s){var t,n,r="URLSearchParams"in _,i="Symbol"in _&&"iterator"in Symbol,u="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in _,a="ArrayBuffer"in _;function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return e="string"!=typeof e?String(e):e}function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function h(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:u&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&u&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||n(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n=d(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=p(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}a&&(t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(e){return e&&-1<t.indexOf(Object.prototype.toString.call(e))}),f.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),e(n)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},f.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),e(n)},i&&(f.prototype[Symbol.iterator]=f.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var n,r=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(e=(n=t.method||this.method||"GET").toUpperCase(),-1<m.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function b(e){var n=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(e=(t=e.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),n.append(decodeURIComponent(e),decodeURIComponent(t)))}),n}function w(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},g.call(y.prototype),g.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];w.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},s.DOMException=_.DOMException;try{new s.DOMException}catch(e){s.DOMException=function(e,t){this.message=e,this.name=t;e=Error(e);this.stack=e.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function O(o,a){return new Promise(function(r,e){var t=new y(o,a);if(t.signal&&t.signal.aborted)return e(new s.DOMException("Aborted","AbortError"));var i=new XMLHttpRequest;function n(){i.abort()}i.onload=function(){var n,e={status:i.status,statusText:i.statusText,headers:(t=i.getAllResponseHeaders()||"",n=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),e=t.shift().trim();e&&(t=t.join(":").trim(),n.append(e,t))}),n)};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;r(new w(t,e))},i.onerror=function(){e(new TypeError("Network request failed"))},i.ontimeout=function(){e(new TypeError("Network request failed"))},i.onabort=function(){e(new s.DOMException("Aborted","AbortError"))},i.open(t.method,t.url,!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&u&&(i.responseType="blob"),t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",n),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",n)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}O.polyfill=!0,_.fetch||(_.fetch=O,_.Headers=f,_.Request=y,_.Response=w),s.Headers=f,s.Request=y,s.Response=w,s.fetch=O}({}),delete i.fetch.polyfill,(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},function(e,t,n){"use strict";function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n,r){var i,t=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return s(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(e);try{for(t.s();!(i=t.n()).done;)!function(){var t=i.value;r="fluid"===t?r&&n.some(function(e){return"fluid"===e}):r&&n.some(function(e){return e[0]===t[0]&&e[1]===t[1]})}()}catch(e){t.e(e)}finally{t.f()}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;var n=!0,n=r(e,t,!0);return r(t,e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{var n=e.getBoundingClientRect();if(0<n.width||0<n.height&&"hidden"!=e.style.visibility){var r=window.innerHeight||document.documentElement.clientHeight;return n.top>=0-t&&n.top<=r+t}return!1}catch(e){return console.warn("Error getting element viewport"),!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new RegExp("^".concat(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"zeus_"),"gm");return e.replace(t,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,n){var r=e;try{Object.keys(n).forEach(function(e){var t=new RegExp("{{\\s*".concat(e,"\\s*}}"),"g");r=r.replace(t,n[e])})}catch(e){console.warn("A problem occured during string template compilation.",e)}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e.firstElementChild;return e?[e.offsetWidth,e.offsetHeight]:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]<t[0]?-1:1}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.registerCcpa=function(e){e.ccpa=new i(e)},t.CCPA=void 0;var i=(r(o.prototype,[{key:"collectAndSetString",value:function(){var i=this;return new Promise(function(n,r){if(void 0===window.__uspapi||"function"!=typeof window.__uspapi)return r({msg:"IAB __uspapi method does not exist on window."});window.__uspapi("getUSPData",1,function(e,t){return t&&"string"==typeof(null==e?void 0:e.uspString)&&4<=e.uspString.length?(i.zeus.usPrivacy.uspString=e.uspString,console.debug("[Zeus] CCPA string set to ".concat(i.zeus.usPrivacy.uspString)),i.zeus.emit("CCPA_UPDATED",{data:e}),n(e)):r({msg:"__uspapi executed, but returned bad conditions. Success status: ".concat(t," | uspData: ").concat(JSON.stringify(e))})})})}}]),o);function o(e){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e}t.CCPA=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.registerTcf=function(e){e.tcf=new i(e)},t.TCF=void 0;var i=(r(o.prototype,[{key:"init",value:function(){try{window.__tcfapi("addEventListener",2,this.tcfListener)}catch(e){this.zeus.warn("[".concat(this.name,"] - TCF not available"))}}}]),o);function o(e){var t,n,r=this;!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),n=function(e,t){var n;t&&"tcloaded"===e.eventStatus&&r.zeus.config&&(n=(null==e||null===(n=e.publisher)||void 0===n?void 0:n.consents)||{},n=!!Object.keys(n).length,r.zeus.config.gdprApplies=e.gdprApplies?1:0,r.zeus.config.gdprConsent=!1===e.gdprApplies||n,r.zeus.config.gdprConsentString=e.tcString,r.zeus.config.gdprIsServiceSpecific=e.isServiceSpecific,r.zeus.info("[".concat(r.name,"] - GDPR consent data updated")),r.zeus.emit("PERSONALIZED_ADS_PERMISSION",r.zeus.config.gdprConsent))},(t="tcfListener")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.name="TCF API",this.zeus=e,this.init()}t.TCF=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(1);var r=n(0),i=n(115);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return s(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n=[{key:"addKeyvalues",value:function(e){try{Array.isArray(e)?Object.assign.apply(Object,[this.compiledKeyvalues].concat(a(e.filter(function(e){return!!e&&"object"==o(e)})))):Object.assign(this.compiledKeyvalues,e),(0,i.setPageTargeting)(this.compiledKeyvalues)}catch(e){this.zeus.warn("Error on adding keyvalues",{name:"kvApplicator",err:e})}}},{key:"collectCustomerKeyvalues",value:function(){var t=this;return(0,r.pollForValues)(function(){return(0,r.isValidKeyValuePair)(window.zeusKeyvalues)?window.zeusKeyvalues:null},3e3,100).then(function(e){return t.addKeyvalues(Object.assign({},e))}).catch(function(e){window.hasOwnProperty("zeusKeyvalues")&&t.zeus.warn("Unexpected error in pulling customer keyvalues from the window",{name:"keyValueApplicator",err:e})})}}],u(c.prototype,n),n=c;function c(e){var t=this;!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e,this.compiledKeyvalues={zeus:"applied"},(0,r.isValidKeyValuePair)(window.zeusCustomKVPair)&&this.addKeyvalues(window.zeusCustomKVPair),this.zeus.on("ADD_KEYVALUES",function(e){t.addKeyvalues(e)}),this.zeus.on("KVS_FETCHED",function(e){t.addKeyvalues(Object.assign.apply(Object,a(e)))}),this.zeus.on("INIT",function(){t.addKeyvalues({}),t.collectCustomerKeyvalues()}),this.zeus.on("RESET_KEYVALUES",function(){return t.collectCustomerKeyvalues()})}t.default=n},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,p="~";function i(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");i=new o(n,r||e,i),t=p?p+t:t;return e._events[t]?e._events[t].fn?e._events[t]=[e._events[t],i]:e._events[t].push(i):(e._events[t]=i,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(p=!1)),s.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(p?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e){var e=p?p+e:e,t=this._events[e];if(!t)return[];if(t.fn)return[t.fn];for(var n=0,r=t.length,i=new Array(r);n<r;n++)i[n]=t[n].fn;return i},s.prototype.listenerCount=function(e){e=p?p+e:e,e=this._events[e];return e?e.fn?1:e.length:0},s.prototype.emit=function(e,t,n,r,i,o){var a=p?p+e:e;if(!this._events[a])return!1;var s,u=this._events[a],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,i),!0;case 6:return u.fn.call(u.context,t,n,r,i,o),!0}for(d=1,s=new Array(c-1);d<c;d++)s[d-1]=arguments[d];u.fn.apply(u.context,s)}else for(var l,f=u.length,d=0;d<f;d++)switch(u[d].once&&this.removeListener(e,u[d].fn,void 0,!0),c){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,t);break;case 3:u[d].fn.call(u[d].context,t,n);break;case 4:u[d].fn.call(u[d].context,t,n,r);break;default:if(!s)for(l=1,s=new Array(c-1);l<c;l++)s[l-1]=arguments[l];u[d].fn.apply(u[d].context,s)}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,n,r){e=p?p+e:e;if(!this._events[e])return this;if(!t)return u(this,e),this;var i=this._events[e];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||u(this,e);else{for(var o=0,a=[],s=i.length;o<s;o++)(i[o].fn!==t||r&&!i[o].once||n&&i[o].context!==n)&&a.push(i[o]);a.length?this._events[e]=1===a.length?a[0]:a:u(this,e)}return this},s.prototype.removeAllListeners=function(e){return e?(e=p?p+e:e,this._events[e]&&u(this,e)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=p,e.exports=s.EventEmitter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(1);var s=(n=n(0))&&n.__esModule?n:{default:n};function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){g(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(n){var r=o();return function(){var e,t=a(n);return e=r?(e=a(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==l(e)&&"function"!=typeof e?p(t):e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){var n="function"==typeof Map?new Map:void 0;return(h=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return i(e,arguments,a(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),v(t,e)})(e)}function i(e,t,n){return(i=o()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);r=new(Function.bind.apply(e,r));return n&&v(r,n.prototype),r}).apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(a){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(o,h(HTMLElement));var e,t,n,i=d(o);function o(){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(p(r=i.call.apply(i,[this].concat(t))),"slot",void 0),g(p(r),"hasToRender",0),g(p(r),"rendered",0),g(p(r),"renderCount",0),g(p(r),"currentlyBidding",!1),g(p(r),"skipBidding",!1),g(p(r),"bidResponses",[]),g(p(r),"gamRetries",-1),g(p(r),"zeus",{inventoryConfig:{},sspConfig:{},currentSizes:[]}),g(p(r),"name","nodeComponent"),g(p(r),"updateCurrentSizesForBreakpoint",function(e){r.zeus.currentSizes=s.default.getValueForBreakpoint(a,r.zeus.inventoryConfig.sizes,e)||[],r.renderBehavior=0===r.zeus.currentSizes.length?"never":r.zeus.inventoryConfig.renderBehavior}),g(p(r),"setCurrentSizes",function(e){a.removeListener("BREAKPOINT_UPDATED",r.updateCurrentSizesForBreakpoint),Array.isArray(e)?r.zeus.currentSizes=e:"object"===l(e)&&(a.on("BREAKPOINT_UPDATED",r.updateCurrentSizesForBreakpoint),r.zeus.currentSizes=s.default.getValueForBreakpoint(a,e,a.breakpoint)||[]),r.renderBehavior=0===r.zeus.currentSizes.length?"never":r.renderBehavior}),g(p(r),"applyKeyvalueChanges",function(e){var t,n=e||"{}";try{n=Object.assign({},JSON.parse(n))}catch(e){return void a.error("[<zeus-ad/>]: Invalid JSON passed to 'data-keyvalues' attribute on ".concat(r.id,". ").concat(e.message),{name:"AdNodeComponent"})}r.targeting=c(c({},null===(t=r.zeus.inventoryConfig)||void 0===t?void 0:t.keyvalues),n),r.slot&&s.default.setTargetings(r.targeting,r.slot),a.emit("NODE_CONFIG_UPDATED",{node:p(r),config:r.zeusAdConfig})}),r}return e=o,n=[{key:"observedAttributes",get:function(){return["data-keyvalues","data-adunitpath"]}}],(t=[{key:"zeusAdConfig",get:function(){return{sizes:this.sizes,refresh:{status:this.refresh},type:this.type,skipBidding:this.skipBidding,renderBehavior:this.renderBehavior,keyvalues:this.targeting,gamRetries:this.gamRetries}},set:function(e){try{if(this.zeus.inventoryConfig=e,this.renderBehavior=null==e?void 0:e.renderBehavior,!e||"object"!==l(e))return;e.hasOwnProperty("sizes")?(this.setCurrentSizes(e.sizes),this.sizes=e.sizes):(a.warn("sizes object was not found",{name:this.name,node:this}),this.sizes=[],this.setCurrentSizes([])),e.hasOwnProperty("refresh")&&e.refresh.hasOwnProperty("status")&&(this.refresh=e.refresh.status),e.hasOwnProperty("gamRetries")&&(this.gamRetries=e.gamRetries),this.targeting={},"object"===l(e.keyvalues)&&(this.targeting=JSON.parse(JSON.stringify(e.keyvalues))),this.targeting=c(c({},this.targeting),this.keyvalues),this.skipBidding=!0===e.skipBidding,this.type=e.type,a.emit("NODE_CONFIG_UPDATED",{node:this,config:e})}catch(e){a.error("Set NodeConfig Error",{node:this,name:"nodeComponent.zeusAdConfig",err:e})}}},{key:"inventoryConfig",get:function(){var e=this.getAttribute("data-inventoryConfig"),t=null;if(e)try{if("object"!==l(t=JSON.parse(e)))throw new TypeError("inventoryConfig must be an object. Primitive values are not allowed. Received ".concat(t))}catch(e){t=null,a.warn("Invalid inventoryConfig found",{name:this.name,node:this,err:e})}return t}},{key:"configOverride",get:function(){return this.getAttribute("data-configOverride")||this.getAttribute("data-page")}},{key:"keyvalues",get:function(){var e,t=this.getAttribute("data-keyvalues");if(t)try{var n=JSON.parse(t);if(Array.isArray(n))return Object.assign.apply(Object,function(e){if(Array.isArray(e))return u(e)}(e=n)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return u(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());if("object"===l(n))return n;throw new TypeError("keyvalues is incorrect type - Received ".concat(l(n),"."))}catch(t){a.warn("Invalid keyvalues found on slot",{name:this.name,err:t,node:this})}return{}}},{key:"isVideo",get:function(){return"video"===this.getAttribute("data-media-type")}},{key:"sspConfig",get:function(){return this.zeus.sspConfig},set:function(e){this.zeus.sspConfig=e}},{key:"adUnitPath",get:function(){return this.getAttribute("data-slot")},set:function(e){this.setAttribute("data-slot",e)}},{key:"refresh",get:function(){return"true"===this.getAttribute("data-refresh")},set:function(e){this.setAttribute("data-refresh",e||"true"===e)}},{key:"json",get:function(){var e=this.getAttribute("data-json");return e?JSON.parse(e):{}},set:function(e){this.setAttribute("data-json",JSON.stringify(e))}},{key:"targeting",get:function(){return this.json.targeting},set:function(e){var t=this.json;t.targeting=e,this.json=t}},{key:"categoryExclusions",get:function(){return this.json.categoryExclusions},set:function(e){var t=this.json;t.categoryExclusions=e,this.json=t}},{key:"renderBehavior",get:function(){return this.getAttribute("data-renderbehavior")||"lazy"},set:function(e){["lazy","always","never"].includes(e)&&(this.setAttribute("data-renderbehavior",e),this.style.display="never"===e?"none":"block"),null==e&&(this.setAttribute("data-renderbehavior","lazy"),this.style.display="block")}},{key:"connectedCallback",value:function(){if(this.isVideo)return a.emit("VIDEO_NODE_CONNECTED",this);r&&(this.adUnitPath=r),this.style.width=this.getAttribute("width"),this.style.margin="auto",this.setAttribute("aria-hidden","true"),this.renderCount=0,a.emit("BEFORE_NODE_CONNECTED",this),a.emit("NODE_CONNECTED",this),a.emit("AFTER_NODE_CONNECTED",this)}},{key:"disconnectedCallback",value:function(){if(this.isVideo)return a.emit("VIDEO_NODE_DISCONNECTED",this);a.emit("NODE_DISCONNECTED",this)}},{key:"attributeChangedCallback",value:function(e,t,n){switch(e){case"data-keyvalues":this.applyKeyvalueChanges(n);break;case"data-adunitpath":a.emit("APPLY_NODE_ADUNITPATH",n,this)}}},{key:"render",value:function(){this.rendered=!1,a.emit("ELEMENT_RENDERED",{element:this,data:null})}},{key:"rerender",value:function(){a.adService.remove(this),a.emit("NODE_CONFIG_UPDATED",{node:this,config:this.zeus.inventoryConfig}),a.adService.setup(this),this.render()}},{key:"forceRender",value:function(){this.render(),this.hasToRender=!0}},{key:"getBreakpointSize",value:function(){return this.zeus.currentSizes}}])&&f(e.prototype,t),n&&f(e,n),o}()}},function(e,t,n){"use strict";function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(i,e){function n(){var e=A.splice(0,A.length);for(Xe=0;e.length;)e.shift().call(null,e.shift())}function l(e,t){for(var n=0,r=e.length;n<r;n++)c(e[n],t)}function f(t){return function(e){De(e)&&(c(e,t),ae.length&&l(e.querySelectorAll(ae),t))}}function o(e){var t=Ve.call(e,"is"),n=e.nodeName.toUpperCase(),e=ue.call(ie,t?te+t.toUpperCase():ee+n);return t&&-1<e&&!a(n,t)?-1:e}function a(e,t){return-1<ae.indexOf(e+'[is="'+t+'"]')}function s(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target,o=e[J]||2,a=e[Z]||3;!it||i&&i!==t||!t[V]||"style"===r||e.prevValue===e.newValue&&(""!==e.newValue||n!==o&&n!==a)||t[V](r,n===o?null:e.prevValue,n===a?null:e.newValue)}function d(e){var t=f(e);return function(e){A.push(t,e.target),Xe&&clearTimeout(Xe),Xe=setTimeout(n,1)}}function p(e){rt&&(rt=!1,e.currentTarget.removeEventListener(X,p)),ae.length&&l((e.target||O).querySelectorAll(ae),e.detail===F?F:B),Me&&function(){for(var e,t=0,n=Le.length;t<n;t++)e=Le[t],se.contains(e)||(n--,Le.splice(t--,1),c(e,F))}()}function r(e,t){We.call(this,e,t),k.call(this,{target:this})}function h(e,t,n){t=t.apply(e,n),e=o(t);return-1<e&&T(t,oe[e]),n.pop()&&ae.length&&function(e){for(var t,n=0,r=e.length;n<r;n++)t=e[n],T(t,oe[o(t)])}(t.querySelectorAll(ae)),t}function u(e,t){ze(e,t),C?C.observe(e,Ze):(nt&&(e.setAttribute=r,e[D]=P(e),e[L](Q,k)),e[L]($,s)),e[q]&&it&&(e.created=!0,e[q](),e.created=!1)}function v(e){throw new Error("A "+e+" type is already registered")}function c(e,t){var n,r,i=o(e);-1<i&&!Fe.call(e,"TEMPLATE")&&(z(e,oe[i]),i=0,t!==B||e[B]?t!==F||e[F]||(e[B]=!1,e[F]=!0,r="disconnected",i=1):(e[F]=!1,e[B]=!0,r="connected",i=1,Me&&ue.call(Le,e)<0&&Le.push(e)),i&&(n=e[t+U]||e[r+U])&&n.call(e))}function g(){}function m(e,t,n){var r=n&&n[H]||"",i=t.prototype,o=je(i),a=t.observedAttributes||pe,n={prototype:o};Ne(o,q,{value:function(){var e;Ae?Ae=!1:this[be]||(this[be]=!0,new t(this),i[q]&&i[q].call(this),e=ke[Pe.get(t)],(!xe||1<e.create.length)&&b(this))}}),Ne(o,V,{value:function(e){-1<ue.call(a,e)&&i[V]&&i[V].apply(this,arguments)}}),i[G]&&Ne(o,K,{value:i[G]}),i[W]&&Ne(o,Y,{value:i[W]}),r&&(n[H]=r),e=e.toUpperCase(),ke[e]={constructor:t,create:r?[r,Ce(e)]:[e]},Pe.set(t,e),O[M](e.toLowerCase(),n),w(e),Ee[e].r()}function t(e){e=ke[e.toUpperCase()];return e&&e.constructor}function y(e){return"string"==typeof e?e:e&&e.is||""}function b(e){for(var t,n=e[V],r=n?e.attributes:pe,i=r.length;i--;)t=r[i],n.call(e,t.name||t.nodeName,null,t.value||t.nodeValue)}function w(t){return(t=t.toUpperCase())in Ee||(Ee[t]={},Ee[t].p=new Se(function(e){Ee[t].r=e})),Ee[t].p}function x(){we&&delete i.customElements,de(i,"customElements",{configurable:!0,value:new g}),de(i,"CustomElementRegistry",{configurable:!0,value:g});for(var e=S.get(/^HTML[A-Z]*[a-z]/),t=e.length;t--;function(t){var r=i[t];if(r){i[t]=function(e){var t,n;return(e=e||this)[be]||(Ae=!0,t=ke[Pe.get(e.constructor)],(e=(n=xe&&1===t.create.length)?Reflect.construct(r,pe,t.constructor):O.createElement.apply(O,t.create))[be]=!0,Ae=!1,n||b(e)),e},i[t].prototype=r.prototype;try{r.prototype.constructor=i[t]}catch(e){de(r,be,{value:i[t]})}}}(e[t]));O.createElement=function(e,t){t=y(t);return t?Je.call(this,e,Ce(t)):Je.call(this,e)},Qe||(tt=!0,O[M](""))}var O=i.document,_=i.Object,S=function(e){function n(e,t){(t=t.toLowerCase())in s||(s[e]=(s[e]||[]).concat(t),s[t]=s[t.toUpperCase()]=e)}var t,r,i,o,a=/^[A-Z]+[a-z]/,s=(_.create||_)(null),u={};for(r in e)for(o in e[r])for(i=e[r][o],s[o]=i,t=0;t<i.length;t++)s[i[t].toLowerCase()]=s[i[t].toUpperCase()]=o;return u.get=function(e){return"string"==typeof e?s[e]||(a.test(e)?[]:""):function(e){var t,n=[];for(t in s)e.test(t)&&n.push(t);return n}(e)},u.set=function(e,t){return a.test(e)?n(e,t):n(t,e),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=ut(e)&&(e={type:e||"auto"});var A,k,E,P,C,j,z,T,I,R,M="registerElement",N=1e5*i.Math.random()>>0,D="__"+M+N,L="addEventListener",B="attached",U="Callback",F="detached",H="extends",V="attributeChanged"+U,K=B+U,G="connected"+U,W="disconnected"+U,q="created"+U,Y=F+U,J="ADDITION",Z="REMOVAL",$="DOMAttrModified",X="DOMContentLoaded",Q="DOMSubtreeModified",ee="<",te="=",ne=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,re=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],ie=[],oe=[],ae="",se=O.documentElement,ue=ie.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},ce=_.prototype,le=ce.hasOwnProperty,fe=ce.isPrototypeOf,de=_.defineProperty,pe=[],he=_.getOwnPropertyDescriptor,ve=_.getOwnPropertyNames,ge=_.getPrototypeOf,me=_.setPrototypeOf,ye=!!_.__proto__,be="__dreCEv1",we=i.customElements,xe=!/^force/.test(e.type)&&!!(we&&we.define&&we.get&&we.whenDefined),Oe=_.create||_,_e=i.Map||function(){var n,r=[],i=[];return{get:function(e){return i[ue.call(r,e)]},set:function(e,t){(n=ue.call(r,e))<0?i[r.push(e)-1]=t:i[n]=t}}},Se=i.Promise||function(e){function t(e){for(r=!0;n.length;)n.shift()(e)}var n=[],r=!1,i={catch:function(){return i},then:function(e){return n.push(e),r&&setTimeout(t,1),i}};return e(t),i},Ae=!1,ke=Oe(null),Ee=Oe(null),Pe=new _e,Ce=function(e){return e.toLowerCase()},je=_.create||function e(t){return t?(e.prototype=t,new e):this},ze=me||(ye?function(e,t){return e.__proto__=t,e}:ve&&he?function(e,t){for(;function(e,t){for(var n,r=ve(t),i=0,o=r.length;i<o;i++)n=r[i],le.call(e,n)||de(e,n,he(t,n))}(e,t),(t=ge(t))&&!fe.call(t,e););return e}:function(e,t){for(var n in t)e[n]=t[n];return e}),Te=i.MutationObserver||i.WebKitMutationObserver,Ie=i.HTMLAnchorElement,Re=(i.HTMLElement||i.Element||i.Node).prototype,Me=!fe.call(Re,se),Ne=Me?function(e,t,n){return e[t]=n.value,e}:de,De=Me?function(e){return 1===e.nodeType}:function(e){return fe.call(Re,e)},Le=Me&&[],Be=Re.attachShadow,Ue=Re.cloneNode,Fe=Re.closest||function(e){for(var t=this;t&&t.nodeName!==e;)t=t.parentNode;return t},He=Re.dispatchEvent,Ve=Re.getAttribute,Ke=Re.hasAttribute,Ge=Re.removeAttribute,We=Re.setAttribute,qe=O.createElement,Ye=O.importNode,Je=qe,Ze=Te&&{attributes:!0,characterData:!0,attributeOldValue:!0},$e=Te||function(e){nt=!1,se.removeEventListener($,$e)},Xe=0,Qe=M in O&&!/^force-all/.test(e.type),et=!0,tt=!1,nt=!0,rt=!0,it=!0;if(Te&&((I=O.createElement("div")).innerHTML="<div><div></div></div>",new Te(function(e,t){var n;!e[0]||"childList"!=e[0].type||e[0].removedNodes[0].childNodes.length||(n=(I=he(Re,"innerHTML"))&&I.set)&&de(Re,"innerHTML",{set:function(e){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,e)}}),t.disconnect(),I=null}).observe(I,{childList:!0,subtree:!0}),I.innerHTML=""),Qe||(T=me||ye?(z=function(e,t){fe.call(t,e)||u(e,t)},u):z=function(e,t){e[D]||(e[D]=_(!0),u(e,t))},Me?(nt=!1,ye=he(Re,L),R=ye.value,ye.value=function(e,t,n){e===$&&this[V]&&this.setAttribute!==at&&(this[D]={className:{name:"class",value:this.className}},this.setAttribute=at,this.removeAttribute=ot,R.call(this,"propertychange",st)),R.call(this,e,t,n)},de(Re,L,ye)):Te||(se[L]($,$e),se.setAttribute(D,1),se.removeAttribute(D),nt&&(k=function(e){var t,n,r;if(this===e.target){for(r in t=this[D],this[D]=n=P(this),n){if(!(r in t))return E(0,this,r,t[r],n[r],J);if(n[r]!==t[r])return E(1,this,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return E(2,this,r,t[r],n[r],Z)}},E=function(e,t,n,r,i,o){i={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};i[o]=e,s(i)},P=function(e){for(var t,n,r={},i=e.attributes,o=0,a=i.length;o<a;o++)"setAttribute"!==(n=(t=i[o]).name)&&(r[n]=t.value);return r})),O[M]=function(e,t){if(r=e.toUpperCase(),et&&(et=!1,Te?(s=f(B),u=f(F),C=new Te(function(e){for(var t,n,r,i=0,o=e.length;i<o;i++)"childList"===(t=e[i]).type?(a(t.addedNodes,s),a(t.removedNodes,u)):(n=t.target,it&&n[V]&&"style"!==t.attributeName&&(r=Ve.call(n,t.attributeName))!==t.oldValue&&n[V](t.attributeName,t.oldValue,r))}),(j=function(e){return C.observe(e,{childList:!0,subtree:!0}),e})(O),Be&&(Re.attachShadow=function(){return j(Be.apply(this,arguments))})):(A=[],O[L]("DOMNodeInserted",d(B)),O[L]("DOMNodeRemoved",d(F))),O[L](X,p),O[L]("readystatechange",p),O.importNode=function(e,t){switch(e.nodeType){case 1:return h(O,Ye,[e,!!t]);case 11:for(var n=O.createDocumentFragment(),r=e.childNodes,i=r.length,o=0;o<i;o++)n.appendChild(O.importNode(r[o],!!t));return n;default:return Ue.call(e,!!t)}},Re.cloneNode=function(e){return h(this,Ue,[!!e])}),tt)return tt=!1;function a(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}var s,u;if(-2<ue.call(ie,te+r)+ue.call(ie,ee+r)&&v(e),!ne.test(r)||-1<ue.call(re,r))throw new Error("The type "+e+" is invalid");function n(){return o?O.createElement(c,r):O.createElement(c)}var r,i=t||ce,o=le.call(i,H),c=o?t[H].toUpperCase():r;return o&&-1<ue.call(ie,ee+c)&&v(c),t=ie.push((o?te:ee)+r)-1,ae=ae.concat(ae.length?",":"",o?c+'[is="'+e.toLowerCase()+'"]':c),n.prototype=oe[t]=le.call(i,"prototype")?i.prototype:je(Re),ae.length&&l(O.querySelectorAll(ae),B),n},O.createElement=Je=function(e,t){var n=y(t),r=n?qe.call(O,e,Ce(n)):qe.call(O,e),i=""+e,t=ue.call(ie,(n?te:ee)+(n||i).toUpperCase()),e=-1<t;return n&&(r.setAttribute("is",n=n.toLowerCase()),e=e&&a(i.toUpperCase(),n)),it=!O.createElement.innerHTMLHelper,e&&T(r,oe[t]),r}),addEventListener("beforeunload",function(){delete O.createElement,delete O.importNode,delete O[M]},!1),g.prototype={constructor:g,define:xe?function(e,t,n){n?m(e,t,n):(n=e.toUpperCase(),ke[n]={constructor:t,create:[n]},Pe.set(t,n),we.define(e,t))}:m,get:xe?function(e){return we.get(e)||t(e)}:t,whenDefined:xe?function(e){return Se.race([we.whenDefined(e),w(e)])}:w},!we||/^force/.test(e.type))x();else if(!e.noBuiltIn)try{!function(e,t,n){var r=new RegExp("^<a\\s+is=('|\")"+n+"\\1></a>$");if(t[H]="a",(e.prototype=je(Ie.prototype)).constructor=e,i.customElements.define(n,e,t),!r.test(O.createElement("a",{is:n}).outerHTML)||!r.test((new e).outerHTML))throw t}(function e(){return Reflect.construct(Ie,[],e)},{},"document-register-element-a"+N)}catch(i){x()}function ot(e){var t=new CustomEvent($,{bubbles:!0});t.attrName=e,t.prevValue=Ve.call(this,e),t.newValue=null,t[Z]=t.attrChange=2,Ge.call(this,e),He.call(this,t)}function at(e,t){var n=Ke.call(this,e),r=n&&Ve.call(this,e),i=new CustomEvent($,{bubbles:!0});We.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i.MODIFICATION=i.attrChange=1:i[J]=i.attrChange=0,He.call(this,i)}function st(e){var t=e.currentTarget,n=t[D],r=e.propertyName;n.hasOwnProperty(r)&&(n=n[r],(e=new CustomEvent($,{bubbles:!0})).attrName=n.name,e.prevValue=n.value||null,e.newValue=n.value=t[r]||null,null==e.prevValue?e[J]=e.attrChange=0:e.MODIFICATION=e.attrChange=1,He.call(t,e))}if(!e.noBuiltIn)try{if(qe.call(O,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(i){Ce=function(e){return{is:e.toLowerCase()}}}}(window)},function(e,t,n){var r={"./advadrefresher":24,"./advadrefresher/":24,"./advadrefresher/AdvAdRefresher":67,"./advadrefresher/AdvAdRefresher.js":67,"./advadrefresher/index":24,"./advadrefresher/index.js":24,"./flexfix":25,"./flexfix/":25,"./flexfix/index":25,"./flexfix/index.js":25,"./kruxwrapper":26,"./kruxwrapper/":26,"./kruxwrapper/KruxWrapper":68,"./kruxwrapper/KruxWrapper.js":68,"./kruxwrapper/index":26,"./kruxwrapper/index.js":26,"./logger":27,"./logger/":27,"./logger/Logger":69,"./logger/Logger.js":69,"./logger/index":27,"./logger/index.js":27,"./metrics":28,"./metrics/":28,"./metrics/Metrics":70,"./metrics/Metrics.js":70,"./metrics/index":28,"./metrics/index.js":28,"./zeusInsightsForPublishers":29,"./zeusInsightsForPublishers/":29,"./zeusInsightsForPublishers/ZeusInsightsForPublishers":71,"./zeusInsightsForPublishers/ZeusInsightsForPublishers.js":71,"./zeusInsightsForPublishers/index":29,"./zeusInsightsForPublishers/index.js":29,"./zeusslotkvs":30,"./zeusslotkvs/":30,"./zeusslotkvs/ZeusSlotKvs":72,"./zeusslotkvs/ZeusSlotKvs.js":72,"./zeusslotkvs/index":30,"./zeusslotkvs/index.js":30};function i(e){e=o(e);return n(e)}function o(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id=196},function(e,t,n){var r={"./adrefresher":31,"./adrefresher/":31,"./adrefresher/AdRefresher":73,"./adrefresher/AdRefresher.js":73,"./adrefresher/index":31,"./adrefresher/index.js":31,"./brandmetric":32,"./brandmetric/":32,"./brandmetric/index":32,"./brandmetric/index.js":32,"./dfpnode":33,"./dfpnode/":33,"./dfpnode/Dfpnode":74,"./dfpnode/Dfpnode.js":74,"./dfpnode/index":33,"./dfpnode/index.js":33,"./gdpr":34,"./gdpr/":34,"./gdpr/index":34,"./gdpr/index.js":34,"./inlineads":35,"./inlineads/":35,"./inlineads/Inlineads":75,"./inlineads/Inlineads.js":75,"./inlineads/index":35,"./inlineads/index.js":35,"./keepreading":36,"./keepreading/":36,"./keepreading/KeepReading":76,"./keepreading/KeepReading.js":76,"./keepreading/index":36,"./keepreading/index.js":36,"./malwareblocker":37,"./malwareblocker/":37,"./malwareblocker/index":37,"./malwareblocker/index.js":37,"./processor":38,"./processor/":38,"./processor/Processor":77,"./processor/Processor.js":77,"./processor/index":38,"./processor/index.js":38,"./urlparams":39,"./urlparams/":39,"./urlparams/UrlParams":78,"./urlparams/UrlParams.js":78,"./urlparams/index":39,"./urlparams/index.js":39,"./usp":40,"./usp/":40,"./usp/index":40,"./usp/index.js":40,"./webvitals":41,"./webvitals/":41,"./webvitals/WebVitals":79,"./webvitals/WebVitals.js":79,"./webvitals/index":41,"./webvitals/index.js":41,"./zeusAudience":42,"./zeusAudience/":42,"./zeusAudience/ZeusAudience":80,"./zeusAudience/ZeusAudience.js":80,"./zeusAudience/index":42,"./zeusAudience/index.js":42};function i(e){e=o(e);return n(e)}function o(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id=197},function(e,t,n){var r={"./a9":43,"./a9/":43,"./a9/index":43,"./a9/index.js":43,"./appNexus":44,"./appNexus/":44,"./appNexus/AppNexus":81,"./appNexus/AppNexus.js":81,"./appNexus/index":44,"./appNexus/index.js":44,"./criteo":45,"./criteo/":45,"./criteo/Criteo":82,"./criteo/Criteo.js":82,"./criteo/index":45,"./criteo/index.js":45,"./ias":46,"./ias/":46,"./ias/IAS":83,"./ias/IAS.js":83,"./ias/index":46,"./ias/index.js":46,"./indexExchange":47,"./indexExchange/":47,"./indexExchange/IndexExchange":84,"./indexExchange/IndexExchange.js":84,"./indexExchange/index":47,"./indexExchange/index.js":47,"./openx":48,"./openx/":48,"./openx/Openx":85,"./openx/Openx.js":85,"./openx/index":48,"./openx/index.js":48,"./rubicon":49,"./rubicon/":49,"./rubicon/Rubicon":86,"./rubicon/Rubicon.js":86,"./rubicon/index":49,"./rubicon/index.js":49,"./trustx":50,"./trustx/":50,"./trustx/Trustx":87,"./trustx/Trustx.js":87,"./trustx/index":50,"./trustx/index.js":50};function i(e){e=o(e);return n(e)}function o(e){if(n.o(r,e))return r[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(r)},i.resolve=o,(e.exports=i).id=198},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomKvGenerator=t.init=void 0;var i=o(n(0)),a=o(n(200)),r=o(n(201));function o(e){return e&&e.__esModule?e:{default:e}}function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=(n=[{key:"runKeyValueFunctions",value:function(){var e=this;try{var t=function(){e.zeus.emit("ADD_KEYVALUES",e.keyvalues)},n=window.wp_meta_data||window.wpAdFusion?window.wp_meta_data||window.wpAdFusion:{},r=new a.default(n,this.url,this.zeus).init(t),i=r.keyValues,o=r.categoryExclusions;this.keyvalues=i,this.zeus.config.categoryExclusions=o,t()}catch(e){this.zeus.error("set page kv",{name:"pageKv",err:e})}}},{key:"genKvFromUrl",value:function(e,t,n,r){n=i.default.urlCheck(e,t,n);n&&(this.keyvalues[r||t]=n)}},{key:"setTargetingOnConnectedNodes",value:function(){var t=this;try{this.slotKvs=r.default.init(this.zeus.config),this.zeus.on("NODE_CONFIG_UPDATED",function(e){e=e.node;return t._setTargeting(e)}),this.zeus.on("AFTER_SLOT_RENDER",function(e){e=e.elements;return null==e?void 0:e.forEach(function(e){return t._setTargeting(e)})})}catch(t){this.zeus.error("set slot kv",{name:"slotKv",err:t})}}},{key:"_setTargeting",value:function(e){try{var t,n,r=(null===(t=this.zeus.config)||void 0===t||null===(n=t.general)||void 0===n?void 0:n.slotPrefix)||"slug_",i=new RegExp("^".concat(r),"gm"),o=e.id.replace(i,""),a=this._getSlotConfig(o),s=e.targeting||{},u=0<e.renderCount;a.keyvalues&&a.keyvalues.pos||(s.pos=o),e.json={targeting:c(c(c(c(c(c(c({},s),this.slotKvs.setCtr({zeus:this.zeus,targeting:s,isRefreshed:u})),this.slotKvs.setSafety({targeting:s})),this.slotKvs.setRefresh({isRefreshed:u})),this.slotKvs.setKw()),this.slotKvs.setRefreshCount({pos:o,renderCount:e.renderCount})),this.slotKvs.setPwt({pos:o,isRefreshed:u}))}}catch(e){this.zeus.error("set slot kv",{name:"slotKv._setTargeting",err:e})}}},{key:"_getSlotConfig",value:function(e){return this.zeus.config.inventory[e]||this.zeus.config.inventory[i.default.getNodeKey(e)]}}],u(f.prototype,n),f);function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=e,this.url=window.location.href,this.slotKvs={},this.setTargetingOnConnectedNodes(),this.keyvalues={},this.runKeyValueFunctions()}t.CustomKvGenerator=l,t.init=function(e){return new l(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=(f=n(0))&&f.__esModule?f:{default:f};function u(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return n(e),0}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l,a,f,f=(n=d,f=[{key:"itid_temp",value:function(){var e=s.default.safeGet(window,"google_tag_manager.GTM-WHNNX8B"),e=e?e.dataLayer.get("itid"):s.default.urlCheck(this.url,"itid","variable");e&&"(not set)"!=e&&(this.keyValues.itid_temp=e)}},{key:"itid",value:function(){var e=s.default.urlCheck(this.url,"itid","variable");e&&(this.keyValues.itid=e)}},{key:"itidr",value:function(){var e=s.default.urlCheck(this.url,"itidr","variable");e&&(this.keyValues.itidr=e)}},{key:"j_tid",value:function(){var e=(window.j_tid?window.j_tid.toString():window.btoa(Date.now().toString()).replace(/=/gi,"")).toLowerCase(),t=s.default.safeGet(window,"google_tag_manager.GTM-WHNNX8B");this.keyValues.j_tid=e,window.j_tid=e,t&&window.dataLayer&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({j_tid:e}))}},{key:"j_ucid",value:function(){window.dataLayer=window.dataLayer||[];var e=(null===(e=window.dataLayer.find(function(e){return e.j_ucid}))||void 0===e?void 0:e.j_ucid)||localStorage.getItem("uuid");e||(e=s.default.generateUUID(),localStorage.setItem("uuid",e));e=e.toString().toLowerCase();this.keyValues.j_ucid=e,window.dataLayer.push({j_ucid:e})}},{key:"j_cid",value:function(t){var n=this;window.ga=window.ga||function(){window.ga.q=window.ga.q||[],window.ga.q.push(arguments)},window.ga.l=+new Date,window.ga("create","UA-XXXXX-Y","auto"),window.ga(function(e){e=e.get("clientId");n.keyValues.j_cid=e,t()})}},{key:"fLoC",value:(l=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(document.interestCohort){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,document.interestCohort();case 5:n=e.sent,n=n.id,this.keyValues.floc_t=n,t(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.zeus.error("Can not find interestCohort",{err:e.t0});case 14:case"end":return e.stop()}},e,this,[[2,11]])}),a=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=l.apply(e,a);function i(e){c(r,t,n,i,o,"next",e)}function o(e){c(r,t,n,i,o,"throw",e)}i(void 0)})},function(e){return a.apply(this,arguments)})},{key:"sub",value:function(){var e=s.default.getCookie("wapo_actmgmt");this.keyValues.sub=e&&-1<e.indexOf("isub:1")?"yes":"no"}},{key:"WPATC",value:function(){var n=this,e=s.default.getCookie("WPATC"),e=e?unescape(e).split(":"):void 0;e&&e.forEach(function(e){var t,t=(t=e.split("="),e=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=t[0],t=t[1];t&&n.keyValues[e]?n.keyValues[e].push(t):t&&!n.keyValues[e]&&(n.keyValues[e]=[t])})}},{key:"crd",value:function(){function e(e){var t=i.keyValues.wp_ref;if(e){var n,r={facebook:new RegExp(/facebook\.com/g),twitter:new RegExp(/\/t\.co|twitter.com/g),instagram:new RegExp(/instagram\.com|linkin\.bio/g),linkedin:new RegExp(/linkedin\.com/g)};for(n in r)r[n].test(e)&&(t=[n])}i.keyValues.crd=t}var i=this;this.zeus_insights_session.original_referrer?e(this.zeus_insights_session.original_referrer):e("".concat(document.referrer))}},{key:"wp_ref",value:function(){if(this.zeus_insights_session.original_referrer_group)this.keyValues.wp_ref=[this.zeus_insights_session.original_referrer_group];else{var e,t="".concat(document.referrer),n=[],r={social:new RegExp(/facebook\.com|digg\.com|\/t\.co|reddit\.com|newstrust\.net|twitter\.com|linkedin\.com|instagram\.com|snapchat|tumblr\.com|linkin\.bio/i),search:new RegExp(/google\.com|bing\.com|yahoo\.com|duckduckgo\.com|search\.aol\.com/),news:new RegExp(/ampproject\.org|alert|msn\.com|pocket|smartnews|apple/i),app:new RegExp(/nativeapp\.toutiao\.com|flipboard\.com|newsbreakapp\.com|viber/i),fbnotify:new RegExp(/notify\.co/i)};for(e in r)r[e].test(t)&&n.push(e);document.referrer||n.push("direct"),s.default.safeGet(window,"location.search","").match("wpisrc=")&&n.push("email"),n.length&&(this.keyValues.wp_ref=n)}}},{key:"embed_domain",value:function(){var e,t,n=(this.url!=s.default.safeGet(window,"parent.location.href")?document.referrer:document.location.href).match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);n.length<=2||(null!=(e=n[2])?(t=null!=(n=(t=e).split(".").reverse())&&1<n.length?"".concat(n[1],".").concat(n[0]):t,t=-1!=e.toLowerCase().indexOf(".co.uk")&&2<n.length?"".concat(n[2],".").concat(t):t,this.keyValues.embed_domain=t):this.keyValues.embed_domain=e)}},{key:"wp_fusion",value:function(){this.keyValues.wp_fusion=window.wpAdFusion?"1":"0"}},{key:"addSegmentsToAux",value:function(e){var t,n=localStorage.getItem("usersegmentsAdops"),r=n?JSON.parse(n):{};for(t in r)1===r[t]&&e.push(t)}},{key:"getAuxMap",value:function(){var e;return Array.isArray(null===(e=this.zeusAudience)||void 0===e?void 0:e.ca)?this.zeusAudience.ca:localStorage.getItem("clavis.targeting")?JSON.parse(localStorage.getItem("clavis.targeting")).aux_map:localStorage.getItem("targeting_aux_map")?localStorage.getItem("targeting_aux_map").split(","):void 0}},{key:"ca",value:function(){var e,t;s.default.isStorageAvailable()&&(e=this.getAuxMap()||[],t=s.default.safeGet(this.metaData,"clavis.auxiliaries",[]),t=[].concat(u(e.map(function(e){return e.toString().toLocaleLowerCase()})),u(t.map(function(e){return e.toString().toLocaleLowerCase()}))),this.addSegmentsToAux(t),t.length&&(this.keyValues.ca="true,".concat(t)))}},{key:"audienceKeys",value:function(){var e,t=this;s.default.isStorageAvailable()&&(e=null!==(e=this.zeusAudience)&&void 0!==e&&e.active_keys?this.zeusAudience.active_keys:["nl","ae"],Array.isArray(e)&&e.forEach(function(e){"ca"!=e&&Array.isArray(t.zeusAudience[e])&&(t.keyValues[e]=t.zeusAudience[e])}))}},{key:"ct",value:function(){var e,t,n;null!==(e=this.metaData)&&void 0!==e&&null!==(t=e.clavis)&&void 0!==t&&null!==(n=t.ct)&&void 0!==n&&n.length&&(this.keyValues.ct="true,".concat(this.metaData.clavis.ct))}},{key:"hl",value:function(){(/post-opinion/.test(this.commercialNode)||/podcasts\/el-washington-post-podcast/.test(this.commercialNode))&&(this.keyValues.hl="es")}},{key:"poe",value:function(){var e=new Date,e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),e=new Date(e.getTime()+864e5).toUTCString();if("true"!==s.default.getCookie("washpost_poe"))return this.metaData&&!["homepage","washingtonpost.com","jobs"].includes(this.commercialNode)?(s.default.setCookie("washpost_poe","true",e,"/"),void(this.keyValues.poe=["yes"])):void(this.keyValues.poe=["no"]);this.keyValues.poe=["no"]}},{key:"wpnode",value:function(){this.metaData&&this.commercialNode&&(this.keyValues.wpnode=this.commercialNode)}},{key:"page",value:function(){var e=s.default.safeGet(this.metaData,"contentType");e&&(this.keyValues.page=e.toString().toLowerCase())}},{key:"pageId",value:function(){var e=s.default.safeGet(this.metaData,"page_id"),t=s.default.safeGet(this.metaData,"pageId"),t=e||t;t&&(this.keyValues.pageId=t)}},{key:"wp_pub_date",value:function(){var e=s.default.safeGet(this.metaData,"meta_date",[]),t=s.default.safeGet(this.metaData,"firstPubDate"),t=t?new Date(t).getTime():void 0,t=e.length?1e3*e[0]:t;t&&(90<(t=((new Date).getTime()-t)/864e5)||(this.keyValues.wp_pub_date=[],t<=2&&this.keyValues.wp_pub_date.push(2),t<=7&&this.keyValues.wp_pub_date.push(7),t<=30&&this.keyValues.wp_pub_date.push(30),t<=90&&this.keyValues.wp_pub_date.push(90)))}},{key:"author",value:function(){var e=s.default.safeGet(this.metaData,"author");e&&(e=(e="string"==typeof e||e instanceof String?e.split(" "):e).length?e.map(function(e){return e.replace(/[^\w\s]/gi,"").replace(/\s/g,"_").toLowerCase()}):[],this.keyValues.author=e)}},{key:"spon_con",value:function(){var e=s.default.urlCheck(this.url,"spon_con","variable"),e=e?[e]:[];s.default.safeGet(this.metaData,"tags_for_paywall_subs",null),this.keyValues.spon_con=e}},{key:"wp_tag",value:function(){var e=s.default.safeGet(this.metaData,"tags")||[],e=e.length?e.map(function(e){return e.toString().replace(/\s/g,"").toLowerCase()}):[];e.length&&(this.keyValues.wp_tag=e)}},{key:"wp_tab",value:function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;748<=e&&e<=989?this.keyValues.wp_tab="748-989":990<=e&&(this.keyValues.wp_tab="990plus")}},{key:"exclusions",value:function(){var n,r=this,e=s.default.safeGet(this.metaData,"contentType"),t="MediaGallery"===e,i="VideoStory"===e,o=new RegExp(/washingtonpost\.com|homepage|personalpost|obituaries|weather|jobs\/search/);if((t||i)&&this.categoryExclusions.push("media"),(o.test(this.commercialNode)||i)&&this.categoryExclusions.push("intrusive"),"front"!==e){var a=[].concat(u(s.default.safeGet(this.metaData,"keywords",[])),u(s.default.safeGet(this.metaData,"clavis.keywords",[]))).join(",");for(n in this.exclusionsKeyWords)!function(){var e=r.exclusionsKeyWords[n]instanceof Array?r.exclusionsKeyWords[n]:[r.exclusionsKeyWords[n]],t=[];e.forEach(function(e){t.push(e+"(|s|es|ed|ing|er)")});e="\\b".concat(t.join("\\b|\\b"),"\\b");new RegExp(e,"i").test(a)&&r.categoryExclusions.push(n)}()}}},{key:"setEmailSpon",value:function(){var e=s.default.urlCheck(this.url,"wpisrc","variable");this.keyValues.email_spon=e?"".concat(e,",1"):null}},{key:"setGDPR",value:function(){void 0!==this.config.gdprConsent&&(this.keyValues.wp_gdpr=this.config.gdprConsent?"consent":"non_consent")}},{key:"setPcr",value:function(){var n=this;this.keyValues.pcr="n_e";try{navigator.globalPrivacyControl&&(this.keyValues.pcr="y_e");var e=function(e){var t=(navigator||{}).globalPrivacyControl;"CA"===(e||{}).geoState&&(n.keyValues.pcr=t?"y_ca":"n_ca")};window.registerAuthConsumer?window.registerAuthConsumer(e):(window.authConsumers=window.authConsumers||[],window.authConsumers.push(e))}catch(n){this.zeus.error("Can not register AuthConsumer",{name:name,err:n})}}},{key:"init",value:function(e){return this.itid_temp(),this.itid(),this.itidr(),this.j_tid(),this.j_cid(e),this.j_ucid(),this.fLoC(e),this.sub(),this.WPATC(),this.wp_ref(),this.embed_domain(),this.wp_fusion(),this.ca(),this.audienceKeys(),this.ct(),this.hl(),this.poe(),this.wpnode(),this.page(),this.pageId(),this.wp_pub_date(),this.author(),this.spon_con(),this.wp_tag(),this.exclusions(),this.setEmailSpon(),this.setGDPR(),this.wp_tab(),this.crd(),this.setPcr(),{keyValues:this.keyValues,categoryExclusions:this.categoryExclusions}}}],o(n.prototype,f),d);function d(e,t,n){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),this.zeus=n,this.config=this.zeus.config,this.exclusionsKeyWords=this.config.keyValues.exclusionsKeyWords,this.keyValues={},this.metaData=e,this.url=t,this.wpAdParams=this.config.wpAdParams,this.categoryExclusions=[],this.commercialNode=s.default.safeGet(this.wpAdParams,"commercialNode"),this.zeusAudience=s.default.isStorageAvailable()&&JSON.parse(localStorage.getItem("zeus_audience")||"{}");t=!!s.default.isStorageAvailable()&&localStorage.getItem("zeus_insights_session");this.zeus_insights_session=t?JSON.parse(t):{}}t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(0);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default={init:function(e){var t,n,r,i=(null==e||null===(t=e.general)||void 0===t?void 0:t.slotPrefix)||"zeus_",o=null==e?void 0:e.wpAdParams,a=(t=(0,s.getCookie)("wapo_actmgmt"),e=(0,s.getCookie)("wapo_login_id"),n=-1<(null==t?void 0:t.indexOf("isub:1"))?"sub_":"",r=!n&&e?"reg_":"",document.cookie.split(";").filter(function(e){return e.match(/wp_ak_v_*/)}).map(function(e){var t=u(e.trim().split("="),2),e=t[0],t=t[1];return["".concat(r).concat(n).concat(e.replace("wp_ak_v_","")),t.split("|")[0]]}));return{setCtr:function(e){var t=e.zeus,n=e.targeting,e=e.isRefreshed,e=[null!=t&&t.variant?"_".concat(t.variant):"",n.pos?"_".concat(n.pos):"",e?"_refresh,refresh":""];return{ctr:"zeus".concat(e.filter(Boolean).join("")).split(",")}},setSafety:function(e){e=e.targeting;return(0,s.safeGet)(o,"ias.kvs.".concat(i).concat(e.pos),{})},setRefresh:function(e){return{wp_ad_refresh:e.isRefreshed?"1":"0"}},setKw:function(){var e=window.location.href,e=(0,s.urlCheck)(e,"test_ads","variable");return e?{kw:["test_".concat(e)]}:{}},setRefreshCount:function(e){var t=e.pos,e=e.renderCount;return{wp_refresh:"".concat(t,"_").concat(e)}},setPwt:function(e){var r=e.pos,i=e.isRefreshed;if(0!==a.length)return{pwt:a.map(function(e){var t=u(e,2),n=t[0],e=t[1],t=[r];return i&&t.push("refresh"),t.push(n),t.push(e),t.join("_")})}}}}}}]);

!function(){var e=b$.bdom.util.DOMReflector,a=b$.bdom.util.RFL_DOM2Control.extend(null,{ns:"http://backbase.com/2012/portalView",localName:"baseElement",getNS:function(e){e=this.getLocalName(e);return b$.bdom.namespaces["http://backbase.com/2013/portalView"]&&b$.bdom.namespaces["http://backbase.com/2013/portalView"].classes[e]?"http://backbase.com/2013/portalView":b$.bdom.namespaces["http://backbase.com/2012/portalView"]&&b$.bdom.namespaces["http://backbase.com/2012/portalView"].classes[e]?"http://backbase.com/2012/portalView":this.ns},initInstance:function(e,a){e.model=a}}),t=a.extend(null,{getNS:function(e){var a;return"container"==this.localName.toLowerCase()&&(a=e.originalItem.preferences.TemplateName.value),"page"==this.localName.toLowerCase()&&(a=this.getLocalName(e)),e.getAttribute("viewNamespace")?e.getAttribute("viewNamespace"):b$.bdom.namespaces["http://backbase.com/2013/portalView"]&&b$.bdom.namespaces["http://backbase.com/2013/portalView"].classes[a]?"http://backbase.com/2013/portalView":b$.bdom.namespaces["http://backbase.com/2012/portalView"]&&b$.bdom.namespaces["http://backbase.com/2012/portalView"].classes[a]?"http://backbase.com/2012/portalView":this.ns},getLocalName:function(e){var a=this.localName,t=e.originalItem.preferences.TemplateName;return a=e.getAttribute("viewNamespace")||t&&b$.bdom.namespaces["http://backbase.com/2013/portalView"]&&b$.bdom.namespaces["http://backbase.com/2013/portalView"].classes[t.value]||t&&b$.bdom.namespaces["http://backbase.com/2012/portalView"]&&b$.bdom.namespaces["http://backbase.com/2012/portalView"].classes[t.value]?t.value:a},initInstance:function(e,a){e.model=a,n(a,e),c(a,e)}}),o=a.extend(null,{localName:"widget",getLocalName:function(e){var a="widget",e=e.originalItem.preferences.TemplateName;return e&&("Standard_Widget"==e.value?a="backbaseWidget":"W3C_Widget"==e.value&&(a="w3cWidget")),a},initInstance:function(e,a){e.model=a,n(a,e),c(a,e)}});function c(e,a){for(var t=0,o=e.preferences.array.length;t<o;t++){var c=e.preferences.array[t];a.setAttribute(c.name,c.value)}}var n=function(e,a){for(var t=(e.getPreference("behaviors")||"").split(" "),o=0,c=t.length;o<c;o++)try{var n=function(e){var a=window,t=e.split(".");if(1==t.length&&""==t[0])return a;for(var o=0;o<t.length;o++){if(!(t[o]in a)){var c,n=new Error('Cannot find object "'+e+'".');throw n.stack&&(c=n.stack&&n.stack.split("\n")[2],(c=c&&c.match(/^[^@]*@(.*):(\d+)$/))&&c[1]&&c[2]&&(n=new Error(n.message,c[1],Number(c[2])))),n}a=a[t[o]]}return a}(t[o]);if(n&&n.behaviors)for(var r in n.behaviors)n.behaviors.hasOwnProperty(r)&&a.addEventListener(r,n.behaviors[r])}catch(e){top.bd&&top.bd.devMode&&console.log("Unable to attach behavior "+t[o]+": "+e.message)}};e=new e;e.getID=function(e){return"VIEW-"+e._jxid},e.addToSet("default",[new o({match:"Widget",localName:"widget"}),new t({match:"Container",localName:"container"}),new t({match:"Link",localName:"link"}),new t({match:"Page",localName:"page"}),new a({match:"Catalog",localName:"catalog"}),new a({match:"Portal",localName:"portal"}),new a({match:"Application",localName:"application"})]),b$.portal.portalReflector=e,b$.portal.setController("portal",e)}();

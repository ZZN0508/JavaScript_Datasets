!function(d){function r(){d(".dropdown-backdrop").remove(),d(i).each(function(){a(d(this)).removeClass("open")})}function a(o){var n=o.attr("data-target");return n=!(n=(n=!n?(n=o.attr("href"))&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""):n)&&d(n))||!n.length?o.parent():n}function e(o){var n=d(o).on("click.dropdown.data-api",this.toggle);d("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})}var i="[data-toggle=dropdown]";e.prototype={constructor:e,toggle:function(o){var n,t,e=d(this);if(!e.is(".disabled, :disabled"))return t=(n=a(e)).hasClass("open"),r(),t||("ontouchstart"in document.documentElement&&d('<div class="dropdown-backdrop"/>').insertBefore(d(this)).on("click",r),n.toggleClass("open")),e.focus(),!1},keydown:function(o){var n,t;if(/(38|40|27)/.test(o.keyCode)&&(n=d(this),o.preventDefault(),o.stopPropagation(),!n.is(".disabled, :disabled"))){if(!(t=a(n)).hasClass("open")||27==o.keyCode)return 27==o.which&&t.find(i).focus(),n.click();(n=d("[role=menu] li:not(.divider):visible a",t)).length&&(t=n.index(n.filter(":focus")),38==o.keyCode&&0<t&&t--,40==o.keyCode&&t<n.length-1&&t++,n.eq(t=!~t?0:t).focus())}}};var o=d.fn.dropdown;d.fn.dropdown=function(t){return this.each(function(){var o=d(this),n=o.data("dropdown");n||o.data("dropdown",n=new e(this)),"string"==typeof t&&n[t].call(o)})},d.fn.dropdown.Constructor=e,d.fn.dropdown.noConflict=function(){return d.fn.dropdown=o,this},d(document).on("click.dropdown.data-api",r).on("click.dropdown.data-api",".dropdown form",function(o){o.stopPropagation()}).on("click.dropdown.data-api",i,e.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",e.prototype.keydown)}(window.jQuery);

!function(l,s){function f(e,r){if(!e)return{};var t="INFO"===r.logLevel;e.m&&e.m.message&&(e=e.m);var n,o=r.m||r.message||"",i=0;if((o={m:o=e.m&&e.m.message?o+e.m.message:e.m&&e.m.target&&e.m.target.tagName?o+("Error handler invoked by "+e.m.target.tagName)+" tag":e.m?o+e.m:e.message?o+e.message:o+"Unknown error",name:e.name,type:e.type,csm:h+" "+(e.fromOnError?"onerror":"ueLogError")}).logLevel=r.logLevel||p,r.adb&&(o.adb=r.adb),(s=r.attribution)&&(o.attribution=""+s),!t){if(o.pageURL=r.pageURL||""+(window.location?window.location.href:"")||"missing",o.f=e.f||e.sourceURL||e.fileName||e.filename||e.m&&e.m.target&&e.m.target.src,o.l=e.l||e.line||e.lineno||e.lineNumber,o.c=e.c&&""+e.c,o.s=[],o.t=l.ue.d(),(t=e.stack||(e.err?e.err.stack:""))&&t.split)for(o.csm+=" stack",s=t.split("\n");i<s.length&&o.s.length<g;)(t=s[i++])&&o.s.push(function(e){if(e)return e.replace(/^\s+|\s+$/g,"")}(t));else{o.csm+=" callee";for(var u=a(e.args||arguments,"callee"),s=i=0;u&&i<g;){var f=d;u.skipTrace||(t=u.toString())&&t.substr&&(f=0===s?4*d:f,o.s.push(t.substr(0,f=1==s?2*d:f)),s++),u=a(u,"caller"),i++}}!o.f&&0<o.s.length&&(i=o)&&i.s&&(t=0<i.s.length?i.s[0]:"",s=1<i.s.length?i.s[1]:"",(n=(!(n=t?t.match(v):n)||3!=n.length)&&s?s.match(m):n)&&3==n.length&&(i.f=n[1],i.l=n[2]))}return o}function a(e,r){try{return e[r]}catch(e){}}function n(e,r){if(e){for(var t=f(e,r),n=(window.ue_err?window.ue_err.errorHandlers:null)||[],o=0;o<n.length;o++)"function"==typeof n[o].handler&&n[o].handler(t);l.ue.log(t,r.channel||c,{nb:1}),"function"==typeof ue_err.elh&&ue_err.elh(e,r);try{if(!e.fromOnError){var i=s.console,u=s.JSON,n="Error logged with the Track&Report JS errors API(http://tiny/1covqr6l8/wamazindeClieUserJava): ";if(i){if(u&&u.stringify)try{n+=u.stringify(t)}catch(e){n+="no info provided; converting to string failed"}else n+=t.m;"function"==typeof i.error?i.error(n,t):"function"==typeof i.log&&i.log(n,t)}}}catch(e){}}}function e(e,r){var t;!e||l.ue_err.ec>l.ue_err.mxe||(l.ue_err.ter.push(e),r=r||{},t=e.logLevel||r.logLevel,r.logLevel=t,r.attribution=e.attribution||r.attribution,t&&t!==p&&"ERROR"!==t&&"WARN"!==t&&"DOWNGRADED"!==t||l.ue_err.ec++,t&&t!=p||ue_err.ecf++,n(e,r))}var c,p,h,g,d,m,v;!l.ue_err||l.ueLogError&&!l.ueLogError.isStub||(c=l.ue_err_chan||"jserr",p="FATAL",h="v5",g=20,d=256,m=/\(?([^\s]*):(\d+):\d+\)?/,v=/.*@(.*):(\d*)/,e.skipTrace=f.skipTrace=n.skipTrace=1,function(){if(l.ue_err.erl){for(var e=l.ue_err.erl.length,r=0;r<e;r++){var t=l.ue_err.erl[r];n(t.ex,t.info)}ue_err.erl=[]}}(),l.ueLogError=e)}(ue_csm,window),function(h,n){function o(e){for(var r,t,n={},o=0;o<e.length;o++)(t=e[o]).r=t.r||y.rid,t.s=t.s||h.ue_sid,r=t.r+t.s+t.m,t.c&&(n[r]||(n[r]=[]),n[r].push(e[o]));return n}function i(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];try{if(t.isSupported)return t.send(e)}catch(e){}}}function u(){if(L.length&&!y.paused){for(var e=0;e<T.length;e++)T[e]();y._flhs+=1,r(),i(o(L.splice(0,L.length)),J,k,X)}_=b=0}function r(){a&&s({k:"chk",f:y._flhs,l:y._lpn,s:"full"},"csm")}function s(e,r,t){t=t||{},!h.ue_furl||0===t.bf&&y.isBF||(e={r:t.r||(y.paused?void 0:y.rid),s:t.s||(y.paused?void 0:h.ue_sid),m:t.m||h.ue_mid,mkt:t.mkt||h.ue_mkt,sn:t.sn||h.ue_sn,c:r,d:e,t:t.t||y.d(),cs:t.c&&h.ue_qsl},y._lpn[r]=(y._lpn[r]||0)+1,t.b?i(o([e]),J,X):t.nb?i(o([e]),J,k,X):t.img||R[r]?i(o([e]),X):t.ff?(L.push(e),u()):t.n?(L.push(e),0===N?u():_=_||n.setTimeout(u,N)):(L.push(e),b=b||n.setTimeout(u,P)))}function f(e,r,t){2e3==++j&&s({m:"Max number of Forester Logs exceeded",f:"forester-client.js",logLevel:"ERROR"},n.ue_err_chan||"jserr"),(j<2e3||t&&t.il)&&s(e,r,t)}function e(){if(!M){for(var e=0;e<O.length;e++)O[e]();for(e=0;e<T.length;e++)T[e]();y._flhs+=1,r(),i(o(L.splice(0,L.length)),J,X),M=!0}}function l(e){var r=m(e);return e.reqs&&((r={csmcount:{counter:c,t:0,value:r.length}}).csmcount.value+=m(r).length,e.reqs.push(r),r=m(e)),r}var p={};!function(){function r(e){return e<10?"0"+e:e}function f(e){return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var r=n[e];return"string"==typeof r?r:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var l,a,c,t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof p.stringify&&(p.stringify=function(e,r,t){var n;if(a=l="","number"==typeof t)for(n=0;n<t;n+=1)a+=" ";else"string"==typeof t&&(a=t);if((c=r)&&"function"!=typeof r&&("object"!=typeof r||"number"!=typeof r.length))throw Error("JSON.stringify");return function e(r,t){var n,o=l,i=t[r];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(r)),typeof(i="function"==typeof c?c.call(t,r,i):i)){case"string":return f(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";l+=a;var u=[];if("[object Array]"===Object.prototype.toString.apply(i)){for(t=i.length,r=0;r<t;r+=1)u[r]=e(r,i)||"null";var s=0===u.length?"[]":l?"[\n"+l+u.join(",\n"+l)+"\n"+o+"]":"["+u.join(",")+"]";return l=o,s}if(c&&"object"==typeof c)for(t=c.length,r=0;r<t;r+=1)"string"==typeof c[r]&&(s=e(n=c[r],i))&&u.push(f(n)+(l?": ":":")+s);else for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(s=e(n,i))&&u.push(f(n)+(l?": ":":")+s);return s=0===u.length?"{}":l?"{\n"+l+u.join(",\n"+l)+"\n"+o+"}":"{"+u.join(",")+"}",l=o,s}}("",{"":e})})}();var t={stringify:function(e){var r=[];return function e(r,t){if(null==r)return t.push("!n");if("number"==typeof r)return t.push("!"+r);if("string"==typeof r)return"\\"==r[r.length-1]?t.push("'"+r.replace(/'/g,"\\'")+"u005C'"):t.push("'"+r.replace(/'/g,"\\'")+"'");if("boolean"==typeof r)return t.push(r?"!t":"!f");if(r instanceof Array){t.push("*");for(var n=0;n<r.length;n++)e(r[n],t);return t.push(")")}if("object"!=typeof r)return t.push("!n");for(n in t.push("("),r)r.hasOwnProperty(n)&&(t.push(n),e(r[n],t));return t.push(")")}(e,r),r.join("")}},g=h.ue_qsl||2e3,a=1===window.ue_ddq,c="foresterPayloadSize",d=function(){},m=n.JSON&&n.JSON.stringify||p&&p.stringify,v=t.stringify,y=h.ue||{},t=h.uet||d;(h.uet||d)("bb","ue_frst_v2",{wb:1});var _,b,w,S="//"+h.ue_furl+"/1/batch/1/OE/",L=[],O=[],T=[],M=!1,N=void 0===h.ue_hpfi?1e3:h.ue_hpfi,P=void 0===h.ue_lpfi?1e4:h.ue_lpfi,R={"scheduled-delivery":1},j=0,k=(w="MSXML2.XMLHTTP.6.0 MSXML2.XMLHTTP.5.0 MSXML2.XMLHTTP.4.0 MSXML2.XMLHTTP.3.0 MSXML2.XMLHTTP Microsoft.XMLHTTP".split(" "),{send:function(e){for(var r in e)e.hasOwnProperty(r)&&e[r].length&&E(e[r])},buildPOSTBodyLog:q,isSupported:!0}),X={send:function(e){for(var r in e)if(e.hasOwnProperty(r)){for(var t=e[r],n=t,o={},i=0;i<n.length;i++)o[p=n[i].c]||(o[p]=[]),o[p].push(n[i]);n=(t=t[0]||{}).sn||h.ue_sn,t=S+(t.m||h.ue_mid)+":"+(t.s||h.ue_sid)+":"+(t.r||y.rid)+(n?":"+n:""),n=[],p=t;var i=[],u=void 0;for(u in o)if(o.hasOwnProperty(u))for(var s=0;s<o[u].length;s++){var f=o[u][s],l=encodeURIComponent((f.cs?v:m)(f.d));i.push({l:l,t:f.t,p:1,c:u,d:f.cs?"c":"j"})}for(o=i,i=void 0,u="$",f=0;f<o.length;){i!=(s=o[f]).c?(p+=u+s.c+"=",u="&",i=s.c):p+=",";var l=p,a=s.d+":",c=s,p=(c.l.match(".{1,"+(g-p.length)+"}[^%]{0,2}")||[])[0]||"";if(c.l=c.l.substr(p.length),p=l+(a+p+":"+s.t),s.l)p+=":"+s.p+++"_",n.push(p),p=t,u="$",i=0;else if(f++,1!=s.p)for(p+=":"+s.p+"_"+s.p,l=0;l<s.p-1;l++)n[n.length-l-1]+=s.p}for(n.push(p),t=n,n=0;n<t.length;n++)(new Image).src=t[n]}},isSupported:!0},J={send:function(e){for(var r in e)if(e.hasOwnProperty(r)){r=l(r=k.buildPOSTBodyLog(e[r]));if(!navigator.sendBeacon(S,r))throw""}},isSupported:!!navigator.sendBeacon};function q(e){for(var r=[],t=e[0]||{},n=0;n<e.length;n++){var o={};o[e[n].c]=e[n].d,r.push(o)}return{rid:t.r||y.rid,sid:t.s||h.ue_sid,mid:t.m||h.ue_mid,mkt:t.mkt||h.ue_mkt,sn:t.sn||h.ue_sn,reqs:r}}function E(r){var e=q(r),t=function(){if(n.XDomainRequest){var e=new XDomainRequest;return e.onerror=d,e.ontimeout=d,e.onprogress=d,e.onload=d,e.timeout=0,e}if(n.XMLHttpRequest){if(!("withCredentials"in(e=new XMLHttpRequest)))throw"";return e}if(n.ActiveXObject){for(var r=0;r<w.length&&!e;r++)try{e=new ActiveXObject(w[r]),w=[w[r]]}catch(e){}return e}}();if(!t)throw"";t.onerror=function(){for(var e=0;e<r.length;e++)L.push(r[e]);k.isSupported=!1},t.open("POST",S,!0),t.setRequestHeader&&t.setRequestHeader("Content-type","text/plain"),e=l(e),t.send(e)}y._fic=X,y._fac=k,y._fbc=J,y._flq=L,y.sid=y.sid||h.ue_sid,y.mid=y.mid||h.ue_mid,y.furl=y.furl||h.ue_furl,y.sn=y.sn||h.ue_sn,y._flhs=y._flhs||0,y._lpn=y._lpn||{};try{n.amznJQ&&n.amznJQ.declareAvailable&&n.amznJQ.declareAvailable("forester-client"),n.P&&n.P.register&&n.P.register("forester-client",d)}catch(e){h.ueLogError(e,{logLevel:"WARN"})}y.log&&y.log.isStub&&(y.log.replay(function(e,r,t){var n=e[2]||{};n.t=r,n.r=t,n.n=1,f(e[0],e[1],n)}),y.onunload.replay(function(e){O.push(e[0])}),y.onflush.replay(function(e){T.push(e[0])})),y.log=f,y.log.reset=function(){j=0},y.onunload=function(e){O.push(e)},y.onflush=function(e){T.push(e)},y.attach("beforeunload",e),y.attach("pagehide",e),t("ld","ue_frst_v2",{wb:1})}(ue_csm,window);

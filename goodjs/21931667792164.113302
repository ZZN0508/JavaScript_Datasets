(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{2334:function(e,t,n){"use strict";var a,b=n("8af1"),v=n.n(b),o=n("8a2d"),y=n("0a81"),C=n("46ae"),E=n("0592"),w=n("cce8"),O=n("1cab"),M=n("9042"),k=n("dace"),r=n("0b3c"),I=r.d.div(["cursor:default;display:inline-block;&.hasStories{cursor:pointer;}"]),x=r.d.figure(["background-image:",";background-size:cover;background-position:50% 50%;width:100%;height:100%;cursor:pointer;"],function(e){e=e.src;return"url(".concat(e,")")}),L=r.d.img(["display:inline-block;width:90px;height:90px;border-radius:50%;border:solid 5px rgba(#ff9999,0.1);background-clip:content-box;object-fit:cover;"]),N=n("791c"),_=n("6d88"),S=(a=function(){return Promise.resolve().then(n.bind(null,"c585"))},(r=Object(b.lazy)(a)).preload=a,r),r=function(e){var t=e.src,n=e.size,a=e.lineWidth,o=e.circleMargin,r=e.duration,i=e.profilePictureHref,l=e.profilePictureDescription,c=e.performerNick,s=Object(y.d)(),d=Object(y.e)(function(e){return e.stories.entities[c]}),u=Object(y.e)(function(e){return e.stories.loading}),p=Object(y.e)(function(e){return e.performer.hasStory}),f=p&&_.isMyStoryEnabled,m=Object(b.useRef)(!1),e=u?"forever":"once",g=l||"".concat(c,"'s profile picture");Object(b.useEffect)(function(){S.preload()},[]);var h=Object(b.useCallback)(function(){E.default.navigate("story/".concat(c),{trigger:!0,preventNavigateBack:!1,replace:!1,keepActiveModal:!0,lockActiveModal:!0})},[d,c]);Object(b.useEffect)(function(){var e;!u&&d&&0!==(null===(e=d.items)||void 0===e?void 0:e.length)&&m.current&&(h(),m.current=!1)},[h,d]);l=function(){return v.a.createElement(M.b,{isOpen:!1,autoHideDelay:4e3,position:k.a.RIGHT,enforceFocus:!1,autoFocus:!1,targetProps:{style:{height:100,width:100}},"data-testid":"ProfilePictureCustomPopover"},v.a.createElement(L,{src:t,alt:g,"data-testid":"ProfilePictureAvatar"}),v.a.createElement(N.a,null,"No story available."))};return v.a.createElement(I,{hasStory:p,onClick:function(e){if(e.preventDefault(),f)return m.current=!0,s(Object(w.b)(c)),void(i||O.default.trackGenericEvent({eventCategory:O.default.CONST.PAGE.CHAT,eventAction:O.default.CONST.ACTION.CLICK,eventLabel:"stories icon"}));i&&E.default.navigateToChatPage("chat/".concat(nick),{trigger:!0,preventNavigateBack:!1})},"data-testid":"ProfilePictureWrapper"},p?v.a.createElement(C.a,{size:n,type:e,initialSpin:!u,lineWidth:a,circleMargin:o,duration:r,animate:!0,"data-testid":"ProfilePictureCircleLoader"},v.a.createElement(x,{src:t,"data-testid":"ProfilePictureImage"})):i?v.a.createElement("a",{href:i},v.a.createElement(l,{"data-testid":"ProfilePictureAvatarWithTooltip"})):v.a.createElement(l,{"data-testid":"ProfilePictureAvatarWithTooltip"}))};r.propTypes={src:o.string.isRequired,size:o.number,duration:o.number,lineWidth:o.number,circleMargin:o.number,storiesAvailable:o.bool,performerNick:o.string,profilePictureHref:o.string,profilePictureDescription:o.string},r.defaultProps={size:100,duration:1500,lineWidth:2,circleMargin:12,storiesAvailable:null,performerNick:null,profilePictureHref:null,profilePictureDescription:null},t.a=r},"2ce3":function(e,t,n){n("44ad");function a(e,t){a.superclass.constructor.call(this,e,t)}var o=n("44ad").Component,r=(n("d869"),n("ee27"));e.exports=Ext.extend(a,o,{name:"ModelContentViewAbstract",chatBlockLoaderId:"chat_block_loader",hiddenCls:"hidden",freechatId:"freechat",memberClientId:"member_client_container",chatblockId:"chatblock",init:function(e,t){a.superclass.init.call(this,e,t),this.chatBlockLoaderEl=Ext.get(this.chatBlockLoaderId)},showLoader:function(e){"1"===r.getQueryParamByName("wall_off")||window.denyWallLoad||this.chatBlockLoaderEl&&(e?this.chatBlockLoaderEl.removeClass(this.hiddenCls):this.chatBlockLoaderEl.addClass(this.hiddenCls))}})},"5e2f":function(e,t,n){"use strict";var a=n("8af1"),o=n.n(a),r=n("44ad"),r=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var l=Object(a.lazy)(function(){return n.e(102).then(n.bind(null,"2f78"))}),c=Object(a.lazy)(function(){return n.e(101).then(n.bind(null,"b070"))}),s=!0===r.a.Config.get("featureFlags.enable3dSecureQuickBuy"),r=o.a.memo(function(e){return o.a.createElement(a.Suspense,{fallback:null,"data-testid":"UnlockButtonSuspense"},s?o.a.createElement(l,i({},e,{"data-testid":"UnlockButtonUnlockButtonAuth"})):o.a.createElement(c,i({},e,{"data-testid":"UnlockButtonLegacyUnlockButton"})))});t.a=r},"79fd":function(e,t,n){function a(e,t){a.superclass.constructor.call(this,e,t)}var o=n("44ad"),r=n("d869"),i=n("a9a1").store,l=n("c841"),c=n("b8bf"),s=n("b88f").default;e.exports=Ext.extend(a,o.Component,{name:r.BiopageContentManagerComponent.NAME,bioPageContainerId:"inner_container",bioOverlayContainerId:"freechat_container",hasBioPage:!0,isOverlay:!1,getBioPageContentRoute:"ChatBioPage/Get",getBioOverlayContentRoute:"ChatBioPage/GetDetails",performerName:null,init:function(e,t){o.addEvents(r.BiopageContentManagerComponent.GLOBALEVENT_GET_CONTENT_SUCCESS),this._setBiopageContentManagerController(),a.superclass.init.call(this,e,t)},updatePerformerName:function(e){this.performerName=e},getContent:function(){this._biopageContentManagerController.getContent()},removeContent:function(){this._biopageContentManagerController.removeContent(),this.fireEvent(r.BiopageContentManagerComponent.GET_CONTENT_ERROR)},onModalOpened:function(e){e.scope.name===r.ImageGalleryModalComponent.NAME&&(o.Broadcaster.un(r.ModalComponent.GLOBALEVENT_MODAL_OPENED,this.onModalOpened,this),o.fireEvent(r.BiopageContentManagerComponent.GLOBALEVENT_BIOPAGE_CONTENT_READY,{scope:this}))},_setBiopageContentManagerController:function(){return this._biopageContentManagerController=new l({items:{BiopageContentManagerModel:{component:this._getBiopageContentManagerModel(),listeners:{"get-content-success":"onGetContentSuccess","get-content-error":"onGetContentError"}},BiopageContentManagerView:{component:this._getBiopageContentManagerView(),listeners:{"render-done":"onRenderDone"}}}}),this._biopageContentManagerController},_getBiopageContentManagerModel:function(){var e=this.isOverlay?this.getBioOverlayContentRoute:this.getBioPageContentRoute;return this.model=new c(this.element,{getBioPageRoute:e})},_getBiopageContentManagerView:function(){var e=this.isOverlay?this.bioOverlayContainerId:this.bioPageContainerId;return this._view=new s(this.element,{containerId:e,isOverlay:this.isOverlay,performerNick:this.performerName}),this._view},onPrivateStart:function(){this._biopageContentManagerController.onPrivateStart()},onPrivateEnd:function(){this._biopageContentManagerController.onPrivateEnd()},handleStoreChange:function(){i.getState().performer.nick!==this.performerName&&this.removeContent()},bind:function(){a.superclass.bind.call(this),o.Broadcaster.on(r.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_START,this.onPrivateStart,this),o.Broadcaster.on(r.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_END,this.onPrivateEnd,this),o.Broadcaster.on(r.FlashExternal.GLOBALEVENT_GET_PERFORMER_DETAILS,this.removeContent,this),this._unsubscribe=i.subscribe(o.bind(this.handleStoreChange,this))},destroy:function(){a.superclass.destroy.call(this),this._view&&this._view.destroy()},unbind:function(){a.superclass.unbind.call(this),this._biopageContentManagerController&&(this._biopageContentManagerController.isBeingDestroyed=!0,this._biopageContentManagerController.destroy(),delete this._biopageContentManagerController),o.Broadcaster.un(r.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_START,this.onPrivateStart,this),o.Broadcaster.un(r.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_END,this.onPrivateEnd,this),this._unsubscribe()}})},"92aa":function(e,t,n){"use strict";n.r(t);function g(e){var t=e.performerNick,n=e.setFilterClick,a=e.selectedFilter,o=e.hasFreeContent,r=e.hasPremiumContent;return v.a.createElement("div",{id:"channel_top_block"},v.a.createElement(E,{"data-testid":"WallHeaderTitle"}," ",t," "),v.a.createElement(w,{id:"content_filter_container","data-testid":"WallHeaderContentFilters"},v.a.createElement(O,{active:"All"===a,onClick:function(){n("All")},"data-testid":"WallHeaderFilter"},Object(C.a)("All Content")),v.a.createElement(O,{active:"Free"===a,disabled:!o,onClick:function(){o&&n("Free")},"data-testid":"WallHeaderFilter"},Object(C.a)("Free Content")),v.a.createElement(O,{active:"Premium"===a,disabled:!r,onClick:function(e){r&&n("Premium")},"data-testid":"WallHeaderFilter"},Object(C.a)("Premium Content"))),v.a.createElement("div",{className:"clear"}))}function h(e){var t=e.about,n=e.avatar,a=e.age,o=e.breast,r=e.penis,i=e.gender,l=e.itemId,c=e.name,s=e.averageRating,d=e.totalVotes,e=e.isExclusivePerformer;return v.a.createElement("article",{id:l,className:"rating_container bio_content","data-rating":s,"data-isotope-sort":"0"},v.a.createElement("div",null,v.a.createElement(_,{"data-testid":"BioBioTopSection"},v.a.createElement(M.a,{performerNick:c,src:n,alt:"".concat(c,"'s profile picture"),"data-testid":"BioProfilePictureWithMyStory"}),v.a.createElement(S,{"data-testid":"BioInfoSection"},e&&v.a.createElement(P,{"data-testid":"BioExclusivePerformer"},v.a.createElement(T,{"data-testid":"BioExclusivePerformerText"},v.a.createElement(k.a,{as:"span"},"Exclusive Model")),v.a.createElement(B,{"data-testid":"BioExclusivePerformerLabel"},v.a.createElement(k.a,null,"only available on livejasmin"))),v.a.createElement(N,{starCount:5,value:s,totalVotes:d,"data-testid":"BioRatingStars"}),v.a.createElement(j,{"data-testid":"BioStyledTotalVotes"},d," ",v.a.createElement(k.a,null,"rates")))),v.a.createElement("p",null,t),v.a.createElement(A,{"data-testid":"BioPerformerInfo"},v.a.createElement("em",null,v.a.createElement("strong",null,a),v.a.createElement("span",null,Object(C.a)("Age"))),v.a.createElement("em",null,v.a.createElement("strong",null,"male"===i?r:o),v.a.createElement("span",null,"male"===i?Object(C.a)("Penis size"):Object(C.a)("Breast size"))),v.a.createElement("em",null,v.a.createElement("strong",null,i),v.a.createElement("span",null,Object(C.a)("Gender"))))))}var a=n("44ad"),c=n.n(a),b=n("8af1"),v=n.n(b),o=n("63f1"),r=n.n(o),i=n("d869"),s=n.n(i),l=n("cbc5"),y=n("0a81"),d=n("a9a1"),f=n("0f2b"),u=n("8eb1"),a=n("7ab0"),m=n.n(a),o=n("8a2d"),i=n.n(o),C=n("089a"),p=n("0b3c"),E=p.d.h1(["font:700 26px Arial,sans-serif;margin:0 auto 14px;padding:3px 0 13px;float:left;color:#ffffff;"]),w=p.d.div(["display:inline-block;float:left;margin:14px 0 0;font:300 14px Arial,sans-serif;"]),O=p.d.a(["margin:0 0 0 20px;&:hover{color:#ffffff;}color:",";",""],function(e){return e.active?"#ffffff":"#ff9999"},function(e){return e.disabled&&Object(p.c)(["pointer-events:none;color:rgba(255,153,153,0.4);"])}),M=n("2334"),k=n("791c"),I=n("e6c0"),x=p.d.div(["display:flex;"]),L=p.d.i(["font-size:16px;margin-right:5px;color:",";position:relative;&::after{",";background-image:url(data:image/svg+xml;charset=utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTEyIDQ4OC4zIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNDg4LjM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDp1cmwoI1NWR0lEXzFfKTt9PC9zdHlsZT48bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjkuNDE1NzQ4ZS0wMyIgeTE9Ii0xNjMuODUiIHgyPSI1MTEuOTc2NiIgeTI9Ii0xNjMuODUiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAwIDQwOCkiPjxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRkNDMDAiLz48c3RvcCAgb2Zmc2V0PSIwLjYiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRkNDMDA7c3RvcC1vcGFjaXR5OjAiLz48L2xpbmVhckdyYWRpZW50PjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01MDQsMjAzLjlsLTExMS43LDEwOWwyNi41LDE1My45YzEsNi44LDAuNCwxMi4xLTEuOSwxNS45cy01LjcsNS43LTEwLjUsNS43Yy0zLjUsMC03LjYtMS4yLTEyLjMtMy43TDI1Niw0MTJsLTEzOC4yLDcyLjZjLTQuNywyLjUtOC44LDMuNy0xMi4zLDMuN2MtNC43LDAtOC4yLTEuOS0xMC41LTUuN2MtMi4zLTMuOC0yLjktOS4xLTEuOC0xNS45bDI2LjUtMTUzLjlMNy43LDIwMy45Yy02LjYtNi42LTguOS0xMi43LTcuMS0xOC4zUzgsMTc2LjQsMTcuMiwxNzVsMTU0LjUtMjIuNWw2OS4yLTE0MEMyNDUsNC4xLDI1MC4xLTAuMSwyNTYtMC4xYzUuNywwLDEwLjgsNC4yLDE1LjEsMTIuNmw2OS4yLDE0MEw0OTQuOCwxNzVjOS4yLDEuNCwxNC44LDUsMTYuNiwxMC42QzUxMy4yLDE5MS4zLDUxMC44LDE5Ny40LDUwNCwyMDMuOXoiLz48dGl0bGU+c3RhcjwvdGl0bGU+PC9zdmc+);left:0;opacity:1;z-index:1;position:absolute;top:0;display:inline-block;height:100%;width:100%;background-position:center;background-repeat:no-repeat;}"],function(e){return e.empty?"hsla(0, 0%, 80%, 0.6)":"#fc0"},function(e){return e.half&&"content: '';"}),N=function(e){var t=e.starCount,n=e.value;return v.a.createElement(x,{"data-testid":"RatingStarsStarsContainer"},Array.from({length:t},function(e,t){return v.a.createElement(L,{key:"star_".concat(t),half:n<t+1&&t<n,empty:n<t+1,"data-testid":"RatingStarsIconWrapper"},v.a.createElement(I.a,{icon:"star","data-testid":"RatingStarsIcon"}))}))},_=p.d.div(["display:flex;"]),S=p.d.div(["display:flex;flex-direction:column;margin-left:20px;justify-content:center;"]),P=p.d.div(["display:flex;flex-direction:column;font-family:Roboto,sans-serif;"]),T=p.d.span(["font-size:20px;line-height:24px;margin-bottom:3px;letter-spacing:0.3px;span{font-weight:300;}strong{font-weight:bold;}"]),B=p.d.span(["text-transform:uppercase;font-size:10px;line-height:11px;margin-bottom:14px;"]),j=p.d.div(["font-size:12px;line-height:14px;padding-top:10px;"]),A=p.d.div(["border-top:1px solid rgb(255 153 153 / 0.1);font-size:0;text-align:center;em{box-sizing:border-box;display:inline-block;font-size:12px;padding-left:6px;padding-top:15px;padding-bottom:15px;position:relative;vertical-align:top;width:33%;strong,span{display:block;overflow:hidden;text-align:left;text-overflow:ellipsis;}strong{font-size:18px;text-transform:capitalize;}span{color:#fcc;font-size:11px;}}"]),R=n("0592"),W=p.d.article(["composes:item;font:16px arial;height:auto;position:absolute;h5{font:700 30px roboto,sans-serif;padding:40px 40px 20px;word-wrap:break-word;}"]),a=Object(p.c)(["color:#500000;font:300 16px roboto,sans-serif;padding:50px 40px;word-wrap:break-word;"]),D=p.d.p(["",";font-size:","px;"],a,function(e){e=e.text;return e.length<=10?58:10<e.length&&e.length<=30?44:30<e.length&&e.length<=60?32:60<e.length&&e.length<=80?26:80<e.length&&e.length<=100?22:18}),a=function(e){var t=e.noteText,n=e.itemId,a=e.performerNick;return v.a.createElement(W,{id:n,onClick:function(){var e;e=n,R.default.navigate("photoviewer/".concat(a,"/note/").concat(e),{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:m.a.isChatPage()})},"data-testid":"NoteNote"},v.a.createElement("div",null,v.a.createElement(D,{text:t,dangerouslySetInnerHTML:{__html:t},"data-testid":"NoteNoteText"})))};a.propTypes={noteText:i.a.string.isRequired,itemId:i.a.string.isRequired,performerNick:i.a.string.isRequired};var z=a,V=n("5e2f"),G=p.d.article(["display:block;"]),U=p.d.span(["cursor:pointer;height:65px;opacity:0.5;overflow:hidden;pointer-events:none !important;position:absolute;right:2px;top:2px;width:65px;z-index:5;&::after{backface-visibility:hidden;background:#fc0;background:linear-gradient(to right,#fc0,#f98706);box-shadow:0 1px 2px 0 rgba(80,0,0,0.4),inset 0 1px 1px 0 rgba(255,255,255,0.6);color:#441f00;content:attr(data-title);display:block;filter:opacity(1);font:bold 10px/26px arial;height:26px;position:absolute;right:-23px;text-align:center;text-shadow:0 1px 0 rgba(255,255,255,0.4);text-transform:uppercase;top:10px;transform:rotate(45deg);width:93px;}"]),F=p.d.div(["display:block;height:100%;width:100%;",";img{height:100%;object-fit:cover;width:100%;}"],function(e){return e.isBlurred&&"filter: blur(20px)"}),q=p.d.strong(["font-size:14px;"]),H=p.d.div(["bottom:0;box-sizing:border-box;filter:drop-shadow(0 0 2px rgba(0,0,0,0.4));font-size:14px;padding:10px;position:absolute;text-align:right;width:100%;z-index:2;span + span{margin-left:20px;}svg + span{margin-left:8px;vertical-align:middle;}svg{vertical-align:middle;}"]),Z=p.d.div(["left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);"]),Y=Object(p.d)(I.a)(["font-size:22px;"]),Q=Object(p.d)(I.a)(["font-size:16px;"]),J=Object(p.d)(I.a)(["font-size:72px;"]),X=Object(p.d)(I.a)(["font-size:50px;"]),K=p.d.span(["color:#85b400;font-size:12px;font-weight:bold;text-transform:uppercase;vertical-align:middle;"]),$=p.d.div(["height:100%;left:0;position:absolute;top:0;width:100%;z-index:2;svg{opacity:0.8;}"," "," "," &.free{display:block;}"],function(e){return e.album&&Object(p.c)(["background-color:rgba(0,0,0,0.5);","{display:block;font:16px roboto,sans-serif;font-weight:bold;margin-top:6px;opacity:0.8;overflow:hidden;span{position:relative;top:0;transition:top 0.2s;}}"],q)},function(e){return e.isLocked&&Object(p.c)(["background-color:rgba(147,0,0,0.6);","{visibility:hidden;svg{transform:scale(0.5);}}"," span{position:relative;top:20px;}"],Z,q)},function(e){return e.isUnlocked&&Object(p.c)(["background-color:rgba(147,0,0,0);transition:background-color 0.2s;","{visibility:visible;}"," svg{transform:scale(1);transition:transform 0.3s;}"," span{position:relative;top:0;transition:top 0.2s 0.3s;}div{display:block;}"],Z,Z,q)}),ee=p.d.div(["background:rgba(156,156,156,0.4);border-radius:15px;color:rgba(247,244,245,0.83);display:block;font:300 10px roboto,sans-serif;left:10px;padding:4px 6px;position:absolute;text-transform:uppercase;top:10px;z-index:3;"]),te=p.d.div(["",""],function(e){e=e.preloadInfo;return Object(p.c)(["height:","px !important;background-color:"," !important;"],e.height,e.backgroundColor)}),ne={trigger:!0,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:!1},a=function(e){var t=e.status,n=e.itemId,a=e.performerNick,o=e.preloadInfo,r=e.previewImage,i=e.price,l=e.privacy,c="locked"===t,s="unlocked"===t,e="exclusive"===l&&c;return v.a.createElement(G,{id:n,onClick:function(){var e;e=n,R.default.navigate("photoviewer/".concat(a,"/picture/").concat(e),{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:m.a.isChatPage()})},"data-testid":"ImageItem"},"exclusive"===l&&v.a.createElement(U,{"data-title":Object(C.a)("Premium"),"data-testid":"ImageRibbon"}),v.a.createElement(te,{preloadInfo:o,"data-testid":"ImageWrapper"},v.a.createElement(F,{isBlurred:e,"data-testid":"ImageCover"},v.a.createElement("img",{src:r,alt:"".concat(a,"'s hot photo â€“ thumbnail")})),v.a.createElement($,{isLocked:c,isUnlocked:s,"data-testid":"ImageContent"},c&&v.a.createElement(V.a,{id:n,performerNick:a,title:Object(C.a)("Unlock my album"),errorContainer:"#chatblock",icon:"lockheart",price:i,routeManagerOptions:ne,group:"wall","data-testid":"ImageUnlockButton"})),v.a.createElement(H,{"data-testid":"ImageInfo"},"unlocked"===t&&v.a.createElement(K,{"data-testid":"ImageStatus"},Object(C.a)("Unlocked")))))};a.propTypes={previewImage:i.a.string.isRequired,itemId:i.a.string.isRequired,preloadInfo:i.a.object.isRequired,performerNick:i.a.string.isRequired,privacy:i.a.string.isRequired,status:i.a.string,category:i.a.string.isRequired,price:i.a.number},a.defaultProps={price:null,status:""};var ae=a,oe=p.d.div(["background-color:"," !important;"],function(e){return e.preloadInfo.backgroundColor}),a=(p.d.div(["height:357px;object-fit:cover;position:absolute;"]),Object(p.c)(["height:357px;left:0;overflow:hidden;position:relative;top:0;img{height:357px;object-fit:cover;position:absolute;}"])),re=Object(p.c)(["img:first-child{bottom:0;left:0;right:0;top:0;width:100%;}"]),ie=Object(p.c)(["img:first-child{left:0;top:0;width:50%;}img:first-child + img{right:0;top:0;width:50%;}"]),le=Object(p.c)(["img:first-child{left:0;top:0;width:50%;}img:first-child + img{height:40%;right:0;top:0;width:50%;}img:first-child + img + img{bottom:0;height:60%;right:0;width:50%;}"]),ce=Object(p.c)(["img:first-child{height:60%;left:0;top:0;width:50%;}img:first-child + img{height:70%;right:0;top:0;width:50%;}img:first-child + img + img{bottom:0;height:40%;left:0;width:50%;}img:first-child + img + img + img{bottom:0;height:30%;right:0;width:50%;}"]),se=p.d.div(["",";"," ",""],a,function(e){var e=e.images;return(e=null==e?void 0:e.length)?{1:re,2:ie,3:le,4:ce}[e]:null},function(e){return e.isBlurred&&"filter: blur(20px)"}),de={trigger:!0,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:!1},a=function(e){var t=e.status,n=void 0===t?"":t,a=e.itemId,o=e.performerNick,r=e.privacy,i=e.preloadInfo,l=e.images,c=e.title,s=void 0===c?null:c,d=e.price,t=void 0===d?null:d,c="locked"===n,e="unlocked"===n,d="exclusive"===r&&c;return v.a.createElement(G,{onClick:function(){var e;e=a,R.default.navigate("photoviewer/".concat(o,"/picture/").concat(e),{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:m.a.isChatPage()})},"data-testid":"AlbumMontageItem"},"exclusive"===r&&v.a.createElement(U,{"data-title":Object(C.a)("Premium"),"data-testid":"AlbumMontageRibbon"}),v.a.createElement(oe,{preloadInfo:i,"data-testid":"AlbumMontageAlbumMontageWrapper"},v.a.createElement("div",{className:"permanent_content_shadow_mask"}),v.a.createElement(ee,{"data-testid":"AlbumMontageLabel"},Object(C.a)("Photo Album")),v.a.createElement(se,{isBlurred:d,images:l,"data-testid":"AlbumMontageMontageImages"},l.map(function(e,t){return v.a.createElement("img",{key:"".concat(a).concat(t),src:e,alt:"".concat(o,"'s hot photo â€“ thumbnail")})})),v.a.createElement($,{isLocked:c,isUnlocked:e,album:!0,"data-testid":"AlbumMontageContent"},v.a.createElement(Z,{"data-testid":"AlbumMontageIconWrapper"},v.a.createElement(J,{icon:"folder","data-testid":"AlbumMontageStyledFolderIcon"}),s&&v.a.createElement(q,{"data-testid":"AlbumMontageTitle"},v.a.createElement("span",null,s))),c&&v.a.createElement(V.a,{id:a,title:Object(C.a)("Unlock my album"),errorContainer:"#chatblock",performerNick:o,icon:"lockheart",group:"wall",caption:s,price:t,routeManagerOptions:de,"data-testid":"AlbumMontageUnlockButton"})),v.a.createElement(H,{"data-testid":"AlbumMontageInfo"},"unlocked"===n&&v.a.createElement(K,{"data-testid":"AlbumMontageStatus"},Object(C.a)("Unlocked")))))};a.propTypes={previewImage:i.a.string.isRequired,privacy:i.a.string.isRequired,itemId:i.a.string.isRequired,performerNick:i.a.string.isRequired,preloadInfo:i.a.object.isRequired,status:i.a.string,title:i.a.string,price:i.a.number};var ue=a,pe=n("bf25"),fe={trigger:!0,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:!1},a=function(e){var t=e.itemId,n=e.previewImage,a=e.performerNick,o=e.privacy,r=e.status,i=e.preloadInfo,l=e.duration,c=e.price,s=e.views,d=e.title,u=e.category,p="locked"===r,e="unlocked"===r,u=("gay"===u||"transgender"===u)&&"exclusive"===o&&p;return v.a.createElement(G,{id:t,onClick:function(){var e;e=t,R.default.navigate("photoviewer/".concat(a,"/video/").concat(e),{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:m.a.isChatPage()})},"data-testid":"VideoItem"},"exclusive"===o&&v.a.createElement(U,{"data-title":Object(C.a)("Premium"),"data-testid":"VideoRibbon"}),v.a.createElement(te,{id:"video_".concat(t),preloadInfo:i,"data-testid":"VideoWrapper"},v.a.createElement(ee,{"data-testid":"VideoLabel"},Object(C.a)("Video")),v.a.createElement(F,{isBlurred:u,"data-testid":"VideoCover"},v.a.createElement("img",{src:n,alt:"".concat(a,"'s hot video")})),v.a.createElement($,{isLocked:p,isUnlocked:e,"data-testid":"VideoContent"},v.a.createElement(Z,{"data-testid":"VideoIconWrapper"},v.a.createElement(X,{icon:"play-button","data-testid":"VideoStyledVideoIcon"})),p&&v.a.createElement(V.a,{id:t,title:Object(C.a)("Unlock my video"),icon:"lockheart",performerNick:a,price:c,caption:d,routeManagerOptions:fe,errorContainer:"#chatblock",group:"wall","data-testid":"VideoUnlockButton"})),v.a.createElement(H,{"data-testid":"VideoInfo"},s&&v.a.createElement("span",null,v.a.createElement(Y,{icon:"view","data-testid":"VideoStyledViewIcon"}),v.a.createElement("span",null,s)),v.a.createElement("span",null,v.a.createElement(Q,{icon:"time","data-testid":"VideoStyledTimeIcon"}),v.a.createElement("span",null,(l=l,l=Object(pe.addSeconds)(new Date(0),l),Object(pe.format)(l,"mm:ss")))),"unlocked"===r&&v.a.createElement(K,{"data-testid":"VideoStatus"},Object(C.a)("Unlocked")))))};a.propTypes={itemId:i.a.string.isRequired,previewImage:i.a.string.isRequired,performerNick:i.a.string.isRequired,privacy:i.a.string.isRequired,preloadInfo:i.a.object.isRequired,category:i.a.string.isRequired,title:i.a.string,status:i.a.string,duration:i.a.number,price:i.a.number,views:i.a.number},a.defaultProps={title:"",status:"",price:null,views:null,duration:null};var me=a,a=n("28a0"),ge=n.n(a),a=n("91b6"),he=n.n(a),a=n("a88d"),be=n.n(a),ve=n("77cd"),ye=n("43fd"),Ce=n("cb1d");function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ie(n);return e=a?(e=Ie(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Ee(e)&&"function"!=typeof e?ke(t):e}}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(r,v.a.Component);var e,o=Me(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return xe(ke(e=o.call.apply(o,[this].concat(n))),"iso",null),xe(ke(e),"isotopeContainer",v.a.createRef()),xe(ke(e),"state",{imagesLoaded:!1}),xe(ke(e),"updateLayout",function(){e.iso.layout()}),e}return e=[{key:"componentDidMount",value:function(){c.a.Broadcaster.on("GLOBALEVENT:update-izotope-layout",this.updateLayout),this.initializeIsotope()}},{key:"componentWillUnmount",value:function(){c.a.Broadcaster.un("GLOBALEVENT:update-izotope-layout",this.updateLayout),this.destroyIsotope()}},{key:"shouldComponentUpdate",value:function(e,t){return!Object(ve.a)(this.props,e)||!be()(this.state,t)}},{key:"componentDidUpdate",value:function(e,t){var n=v.a.Children.map(e.children,function(e){return e&&e.key}),a=v.a.Children.map(this.props.children,function(e){return e&&e.key}),o=Object(Ce.a)(a,n),a=Object(Ce.a)(n,a);0<a.length&&(this.iso.remove(Object(ye.a)(a,function(e){return document.getElementById(e)})),this.iso.reloadItems(),this.iso.arrange()),0<o.length&&(this.iso.appended(Object(ye.a)(o,function(e){return document.getElementById(e)})),this.iso.reloadItems(),this.iso.arrange(),this.imagesLoaded()),e.appletLayout!==this.props.appletLayout&&"minimized"!==e.appletLayout&&"minimized"!==this.props.appletLayout&&this.imagesLoaded()}},{key:"initializeIsotope",value:function(){this.createIsotopeContainer(),0<v.a.Children.count(this.props.children)&&this.iso.arrange(),this.imagesLoaded(),document.getElementById("channel_block_container").classList.remove("hidden")}},{key:"destroyIsotope",value:function(){null!==this.iso&&(this.iso.destroy(),this.iso=null)}},{key:"createIsotopeContainer",value:function(){null===this.iso&&(this.iso=new ge.a(this.isotopeContainer.current,{itemSelector:"article",layoutMode:"masonry",animationEngine:"css",transitionDuration:".3s",containerStyle:{position:"relative",opacity:1},packery:{columnWidth:".grid-sizer"}}))}},{key:"imagesLoaded",value:function(){var t=this;he()(this.isotopeContainer.current,function(e){t.iso&&t.iso.layout()})}},{key:"render",value:function(){return v.a.createElement("section",{id:"channel_inner_content",className:"isotope",style:{opacity:0!==v.a.Children.count(this.props.children)?1:0},ref:this.isotopeContainer},v.a.createElement("div",{className:"grid-sizer"}),this.props.children)}}],we(r.prototype,e),r}(),Ne=n("bd6a"),_e=n("0e57");function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Pe=p.d.div(["height:",";position:relative;"],function(e){e=e.height;return e?"".concat(e,"px"):"200px"}),Te=Object(p.d)(_e.a)(["left:50%;margin-left:-19px;position:absolute;top:0;"]),a=function(e){var t,n=e.selectedFilter,a=e.hasFreeContent,o=e.hasPremiumContent,r=e.appletLayout,i=e.items,l=e.isLoadingOnShowMore,c=e.isInsideWallLoading,s=e.wallIds,d=e.displayName,u=e.onFilterItems,t=(t=Object(b.useState)(100),e=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}return n}}(t,e)||function(e,t){if(e){if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=t[0],p=t[1],f=Object(b.useRef)(null),m=Object(y.e)(function(e){return e.performer.category});return 0===s.length?null:v.a.createElement("div",{ref:f},d&&v.a.createElement(g,{performerNick:d,selectedFilter:n,setFilterClick:function(e){u(e),p(f.current.clientHeight)},hasFreeContent:a,hasPremiumContent:o,"data-testid":"WallWallHeader"}),c?v.a.createElement(Pe,{height:e||void 0,"data-testid":"WallLoaderWrapper"},v.a.createElement(Te,{"data-testid":"WallStyledLoader"})):v.a.createElement("div",{id:"channel_block_inner"},v.a.createElement(Le,{appletLayout:r,"data-testid":"WallIsotopeLayout"},(i=(r=i).bio,r=Object(Ne.a)(r,function(e){return"bio"!==e.type}),i&&r.unshift(i),r.map(function(e){return function(e,t,n){switch(e.type){case"bio":return v.a.createElement(h,{key:"bio",itemId:"bio",avatar:e.avatar,age:e.age,breast:e.breast,penis:e.penis,gender:e.gender,name:t,awards:e.awardsRank,about:e.aboutMe,averageRating:e.rating.average,totalVotes:e.rating.totalVotes,isExclusivePerformer:e.isExclusive,"data-testid":"WallBioContent"});case"note":return v.a.createElement(z,{key:e.id,noteText:e.noteText,itemId:e.id,performerNick:t,"data-testid":"WallNoteContent"});case"image":return v.a.createElement(ae,{key:e.id,itemId:e.id,previewImage:e.previewImage,performerNick:t,preloadInfo:e.preloadInfo,privacy:e.privacy,status:e.status,price:e.price,category:n,"data-testid":"WallImageContent"});case"video":return v.a.createElement(me,{key:e.id,itemId:e.id,previewImage:e.previewImage,performerNick:t,privacy:e.privacy,status:e.status,preloadInfo:e.preloadInfo,duration:e.duration,price:e.price,views:e.views,title:e.title,category:n,"data-testid":"WallVideoContent"});case"album":return v.a.createElement(ue,{key:e.id,itemId:e.id,previewImage:e.previewImage,performerNick:t,privacy:e.privacy,status:e.status,preloadInfo:e.preloadInfo,price:e.price,title:e.title,images:e.images,category:n,"data-testid":"WallAlbumMontage"})}}(e,d,m)}))),l&&v.a.createElement(_e.a,{"data-testid":"WallLoader"})))};a.propTypes={items:o.object.isRequired,wallIds:o.array.isRequired,appletLayout:o.string.isRequired,onFilterItems:o.func.isRequired,isLoadingOnShowMore:o.bool.isRequired,isInsideWallLoading:o.bool.isRequired};var Be=a,je=n("7984");function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function We(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(n),!0).forEach(function(e){Fe(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function De(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ue(n);return e=a?(e=Ue(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==Ae(e)&&"function"!=typeof e?Ge(t):e}}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){qe.superclass.constructor.call(this,e,t)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(n,v.a.Component);var t=Ve(n);function n(e){var s;return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),Fe(Ge(s=t.call(this,e)),"fetchContent",function(e){var t=e.onFilterClick,n=e.requestsCanceler,a=s.state,o=a.lastItemTimeStamp,e=a.filterSelected,a=s.props.performerName,o=o[e];!a||t&&0<o||(0===o?s.fetchInitialContent({performerName:a,filterSelected:e,lastTimestamp:o,requestsCanceler:n}):s.fetchMoreContent({performerName:a,filterSelected:e,lastTimestamp:o,requestsCanceler:n}))}),Fe(Ge(s),"onFilterItems",function(e){s.setState({filterSelected:e,scrollTop:s.getContainerScrollTop(),filterChange:!0})}),Fe(Ge(s),"addContentBasedOnFilter",function(e){var t=s.props.addContentToWall;switch(s.state.filterSelected){case"All":t(We(We({},e.items),{},{bio:e.bio}));break;case"Free":case"Premium":t(e.items)}}),Fe(Ge(s),"handleScroll",function(e){var t=s.props.showMoreOffset,n=s.state,a=n.isLoadingOnShowMore,o=n.isInsideWallLoading,r=n.filterSelected,i=n.hasShowMorePages,l=e.target,c=document.body,n=document.documentElement,e=window.pageYOffset||document.documentElement.scrollTop,n=Math.max(c.scrollHeight,c.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),l=l.scrollHeight-l.scrollTop<=l.clientHeight+t,t=Math.round(e)+window.innerHeight>=n-t;(m.a.isChatPage()?t:l)&&!a&&!o&&i[r]&&s.fetchContent({requestsCanceler:s.requestsCanceler})}),Fe(Ge(s),"handleScrollThrottle",Object(u.a)(s.handleScroll,300)),s.state={isWallLoading:!0,isInsideWallLoading:!1,isLoadingOnShowMore:!1,lastItemTimeStamp:{All:0,Free:0,Premium:0},hasShowMorePages:{All:!1,Free:!1,Premium:!1},hasFreeContent:!0,hasPremiumContent:!0,filterSelected:"All",scrollTop:-1,filterChange:!1},s.requestsCanceler={isCanceled:!1},s}return De(n.prototype,[{key:"componentDidMount",value:function(){this.fetchContent({requestsCanceler:this.requestsCanceler}),document.getElementById("channel_block_container").classList.remove("hidden"),document.getElementById("chatblock").addEventListener("scroll",this.handleScrollThrottle),window.addEventListener("scroll",this.handleScrollThrottle)}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.props,o=a.performerName,r=a.removeAllContentFromWall,i=a.user._user.type,l=this.state,c=l.filterSelected,s=l.isLoadingOnShowMore,d=l.lastItemTimeStamp,u=l.isInsideWallLoading,a=l.scrollTop,l=l.filterChange,p=!1!==o&&e.performerName!==o,i=e.user._user.type!==i;(p||i)&&this.setState({lastItemTimeStamp:{All:0,Free:0,Premium:0},hasShowMorePages:{All:!1,Free:!1,Premium:!1},isWallLoading:!0,filterSelected:"All",scrollTop:-1,filterChange:!1},function(){r(!p),n.fetchContent({requestsCanceler:n.requestsCanceler})}),u!==t.isInsideWallLoading&&0<a&&l&&this.setContainerScrollTop(a),c===t.filterSelected?(a=Object(f.a)(Object.values(this.wallItems),function(e){return e.createdAt}),t=t.lastItemTimeStamp[c],a&&a.createdAt!==t&&!s&&this.setState({lastItemTimeStamp:We(We({},d),{},Fe({},c,a.createdAt))})):this.fetchContent({onFilterClick:!0,requestsCanceler:this.requestsCanceler})}},{key:"componentWillUnmount",value:function(){this.requestsCanceler.isCanceled=!0,document.getElementById("chatblock").removeEventListener("scroll",this.handleScrollThrottle),window.removeEventListener("scroll",this.handleScrollThrottle)}},{key:"wallItems",get:function(){var e=this.props,t=e.wallContentIds,n=e.wallContentById,e=this.state.filterSelected,a={};switch(e){case"All":t.map(function(e){return a[e]=n[e]});break;case"Free":t.map(function(e){e=n[e];if("public"===e.privacy||"note"===e.type)return a[e.id]=e});break;case"Premium":t.map(function(e){e=n[e];if("exclusive"===e.privacy)return a[e.id]=e})}return a}},{key:"getContainerScrollTop",value:function(){return(m.a.isChatPage()?document.getElementById("chathtml5.performer"):document.getElementById("chatblock")).scrollTop}},{key:"setContainerScrollTop",value:function(e){return m.a.isChatPage()?document.getElementById("chathtml5.performer").scrollTop=e:document.getElementById("chatblock").scrollTop=e}},{key:"resetLoading",value:function(){this.setState({isWallLoading:!1,isLoadingOnShowMore:!1,isInsideWallLoading:!1})}},{key:"fetchInitialContent",value:function(e){var a=this,t=e.performerName,o=e.filterSelected,n=e.lastTimestamp,r=e.requestsCanceler,i=this.state.hasShowMorePages;this.setState({isInsideWallLoading:!0});function l(){a.resetLoading(),c.a.Broadcaster.fireEvent(s.a.ModelContentComponent.GET_BIO_PAGE_CONTENT_MANAGER,t),document.getElementById("channel_block_container").classList.add("hidden")}Object(je.b)(t,o,n).then(function(e){var t,n;0===e.length?l():(t=e.hasFree,n=e.hasExclusive,a.addContentBasedOnFilter(e),r.isCanceled||a.setState({isInsideWallLoading:!1,isWallLoading:!1,hasFreeContent:t,hasPremiumContent:n,hasShowMorePages:We(We({},i),{},Fe({},o,!e.isLastPage))}))}).catch(l)}},{key:"fetchMoreContent",value:function(e){var t=this,n=e.performerName,a=e.filterSelected,o=e.lastTimestamp,r=e.requestsCanceler,i=this.props.addContentToWall,l=this.state.hasShowMorePages;this.setState({isLoadingOnShowMore:!0}),Object(je.a)(n,a,o).then(function(e){i(e.items),r.isCanceled||t.setState({isLoadingOnShowMore:!1,isWallLoading:!1,hasShowMorePages:We(We({},l),{},Fe({},a,!e.isLastPage))})}).catch(function(){t.setState({isLoadingOnShowMore:!1,hasShowMorePages:{All:!1,Free:!1,Premium:!1},isWallLoading:!1,isInsideWallLoading:!1})})}},{key:"render",value:function(){var e=this.onFilterItems,t=this.state,n=this.props,a=this.wallItems,o=n.performerName,r=n.wallContentIds,i=n.appletLayout,l=t.isWallLoading,c=t.hasFreeContent,s=t.hasPremiumContent,d=t.isLoadingOnShowMore,n=t.isInsideWallLoading,t=t.filterSelected;return!1===o?null:l?v.a.createElement(_e.a,{"data-testid":"WallContainerLoader"}):v.a.createElement(Be,{items:a,hasFreeContent:c,hasPremiumContent:s,wallIds:r,displayName:o,appletLayout:i,isLoadingOnShowMore:d,isInsideWallLoading:n,onFilterItems:e,selectedFilter:t,"data-testid":"WallContainerWall"})}}]),n}(),a={addContentToWall:l.u,removeAllContentFromWall:l.w},He=Object(y.c)(function(e){return{wallContentById:e.performer.byId,wallContentIds:e.performer.wallIds,user:e.user,isOverlayOpened:e.ui.isOverlayOpened,appletLayout:e.applet.stream.size}},a)(o),Ze=n("15b9"),o=n("79fd"),Ye=n.n(o);Ext.extend(qe,c.a.Component,{name:s.a.ModelContentComponent.NAME,wallContainerId:"channel_wall_block",freechatId:"freechat",memberClientId:"member_client_container",chatblockId:"chatblock",init:function(e,t){var n=t.performerName;qe.superclass.init.call(this,e,t),this.wallContentBlock=Ext.get(this.wallContainerId),this.renderModelContent(n)},renderModelContent:function(e){e&&r.a.render(v.a.createElement(y.a,{store:d.store,"data-testid":"ModelContentComponentProvider"},v.a.createElement(He,{performerName:e,showMoreOffset:m.a.isChatPage()?300:50,"data-testid":"ModelContentComponentWallContainer"})),this.wallContentBlock.dom)},getBioPageWall:function(e){this.getBiopageContentManagerComponent(e).getContent()},refresh:function(e){this.performerName=e,this.renderModelContent(e)},destroyMyContentWall:function(){d.store.dispatch(Object(l.w)()),r.a.unmountComponentAtNode(this.wallContentBlock.dom)},onAppletReady:function(){m.a.isChatPage()&&this.renderModelContent()},onModalClosed:function(e){e.scope.name===s.a.ChatModalComponent.NAME&&this._biopageContentManagerComponent&&this._biopageContentManagerComponent.removeContent()},onDefaultRouteCalled:function(){m.a.isChatPage()||(this.destroyMyContentWall(),d.store.dispatch(Object(l.x)()),d.store.dispatch(Object(Ze.a)({performer:null})))},onBecomePremiumMemberClick:function(){this._startPaymentProcess()},_startPaymentProcess:function(){R.default.navigate("payment",{trigger:!0,preventNavigateBack:!1,replace:!1})},getBiopageContentManagerComponent:function(e){return this._biopageContentManagerComponent instanceof Ye.a?this._biopageContentManagerComponent.updatePerformerName(e):this._biopageContentManagerComponent=new Ye.a(this.element,{performerName:e,containerId:"inner_container",isOverlay:!m.a.isChatPage()}),this._biopageContentManagerComponent},bind:function(){qe.superclass.bind.call(this),c.a.on([{element:c.a.Broadcaster,event:s.a.PhotoViewerComponent.GLOBALEVENT_BECOME_PREMIUM_MEMBER_CLICK,handler:this.onBecomePremiumMemberClick},{element:c.a.Broadcaster,event:s.a.ModalComponent.GLOBALEVENT_MODAL_CLOSED,handler:this.onModalClosed},{element:c.a.Broadcaster,event:s.a.FlashExternal.GLOBALEVENT_APPLET_READY,handler:this.onAppletReady},{element:c.a.Broadcaster,event:s.a.RouteManager.GLOBALEVENT_DEFAULT_ROUTE_CALLED,handler:this.onDefaultRouteCalled},{element:c.a.Broadcaster,event:s.a.ModelContentComponent.GET_BIO_PAGE_CONTENT_MANAGER,handler:this.getBioPageWall}],this)},unbind:function(){qe.superclass.unbind.call(this),this.destroyMyContentWall()}}),t.default=qe},b88f:function(e,t,n){"use strict";n.r(t);var a=n("d869"),i=n.n(a),a=n("8af1"),l=n.n(a),a=n("63f1"),c=n.n(a),s=n("2334"),d=n("a9a1"),u=n("0a81"),p=n("2ce3");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=v(n);return e=a?(e=v(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?b(t):e}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(r,n.n(p).a);var e,o=h(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return y(b(e=o.call.apply(o,[this].concat(n))),"name","BiopageContentManagerView"),y(b(e),"containerId","inner_container"),y(b(e),"biopageContainerId","biopage_container"),y(b(e),"_willingnessWrapperClass",".willingness_wrapper"),y(b(e),"isOverlay",!1),e}return e=[{key:"init",value:function(e,t){m(v(r.prototype),"init",this).call(this,e,t),this.addEvents(i.a.BiopageContentManagerView.EVENT_RENDER_DONE),this._containerEl=document.getElementById(this.containerId)||this.element.dom}},{key:"renderContent",value:function(e){this.removeContent(),Ext.DomHelper.append(this._containerEl,e);var t=document.getElementById("biopage_profile_picture"),e=t.dataset.src;return t&&c.a.render(l.a.createElement(u.a,{store:d.store,"data-testid":"BiopageContentManagerViewProvider"},l.a.createElement(s.a,{performerNick:this.performerNick,src:e,alt:"".concat(this.performerNick,"'s profile picture"),"data-testid":"BiopageContentManagerViewProfilePictureWithMyStory"})),t),this.fireEvent(i.a.BiopageContentManagerView.EVENT_RENDER_DONE),this}},{key:"saveBiopageContainerEl",value:function(){this._biopageContainerEl=Ext.get(this.biopageContainerId)}},{key:"removeContent",value:function(){this.saveBiopageContainerEl();var e=document.getElementById("biopage_profile_picture");this._biopageContainerEl&&e&&(c.a.unmountComponentAtNode(e),this._biopageContainerEl.remove())}},{key:"showMask",value:function(){this._willingnessWrapperEl=this.element.select(this._willingnessWrapperClass).item(0),this._willingnessWrapperEl&&this._willingnessWrapperEl.addClass("masked")}},{key:"hideMask",value:function(){this._willingnessWrapperEl&&this._willingnessWrapperEl.removeClass("masked")}}],f(r.prototype,e),r}();t.default=a},b8bf:function(e,t,n){function a(e,t){a.superclass.constructor.call(this,e,t)}var o=n("44ad"),r=n("d869"),i=n("5f9e");e.exports=Ext.extend(a,o.Component,{name:"BiopageContentManagerModel",getBioPageRoute:"ChatBioPage/Get",isOverlay:!1,init:function(e,t){a.superclass.init.call(this,e,t),this.addEvents(r.BiopageContentManagerModel.EVENT_GET_CONTENT_SUCCESS,r.BiopageContentManagerModel.EVENT_GET_CONTENT_ERROR)},_getContentUrl:function(e){var t;try{t=o.getUrl(this.getBioPageRoute,{performerNick:e})}catch(e){console.error("@JS ERROR in ",this.name,": ",e)}return t},getContent:function(e){if(!e)throw"Modelname must be given.";return this._runningAjax=i.request({url:this._getContentUrl(e),method:"GET",type:r.Chaos.Connection.TYPE_JSON,scope:this,success:function(e){this._getContentSuccess(e)},error:function(e){this._getContentError(e)},failure:function(e){this._getContentError(e)}}),this},_getContentSuccess:function(e){delete this._runningAjax,this.fireEvent(r.BiopageContentManagerModel.EVENT_GET_CONTENT_SUCCESS,{response:e})},_getContentError:function(e){delete this._runningAjax,this.fireEvent(r.BiopageContentManagerModel.EVENT_GET_CONTENT_ERROR,{response:e})}})},c841:function(e,t,n){function a(e,t){a.superclass.constructor.call(this,e,t)}var o=n("44ad"),r=n("d869"),i=n("a9a1").store;e.exports=Ext.extend(a,o.Controller,{name:"BiopageContentManagerController",isBeingDestroyed:!1,init:function(e,t){a.superclass.init.call(this,e,t),this.addEvents(r.BiopageContentManagerController.EVENT_RENDER_DONE,r.BiopageContentManagerController.GLOBALEVENT_GET_CONTENT_SUCCESS)},getContent:function(){return this.BiopageContentManagerView.showLoader(!0),this.BiopageContentManagerModel.getContent(i.getState().performer.nick),this},removeContent:function(){this.BiopageContentManagerView.removeContent()},onGetContentSuccess:function(e){if(o.fireEvent(r.BiopageContentManagerController.GLOBALEVENT_GET_CONTENT_SUCCESS,{scope:this}),!this.isBeingDestroyed){if(!e.response.json.data.content)throw"There is no HTML content to render.";this.BiopageContentManagerView.showLoader(!1),this.BiopageContentManagerView.renderContent(e.response.json.data.content)}},onGetContentError:function(){o.Broadcaster.fireEvent(r.PerformerHistory.REMOVE_PERFORMER_FROM_HISTORY,i.getState().performer.nick);var e=o.getUrl("Error/Error404");document.location.replace(e)},onRenderDone:function(){this.fireEvent(r.BiopageContentManagerController.EVENT_RENDER_DONE)},onPrivateStart:function(){this.BiopageContentManagerView.showMask()},onPrivateEnd:function(){this.BiopageContentManagerView.hideMask()}})}}]);

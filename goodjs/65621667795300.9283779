(self.webpackChunk_canva_web=self.webpackChunk_canva_web||[]).push([[9980],{M9980:function(e,t,A){A.n_x=A.n,A("M5683"),A("M7851"),self._d25c61b9ca226739aa4377bb5f6ca683=self._d25c61b9ca226739aa4377bb5f6ca683||{},function(a){"use strict";function t({Rz:t,pm:e}){return e=e.map(e=>{switch(e.options[0].type){case"TEXT_LIST":return function({filter:e,mode:t}){var s;const i=new g({options:n(e),selected:(null===(s=e.options.find(e=>e.active))||void 0===s?void 0:s.token)||k,yc:e.yc,defaultValue:k});return new I({title:e.label,mode:t,store:i,v:L,bZ:e.x5a,Rea:3>=e.options.length,qP:(e,t)=>t&&t!==k?[...e,new a.jC({token:t})]:e})}({filter:e,mode:t});case"COLOR":case"COLOR_PICKER":return function({filter:i,mode:e}){const n=a.l(i.options.find(e=>"COLOR_PICKER"===e.type),"A ColorPickerFilterOption must be provided to enable color picking.");return new R({title:i.label,mode:"button"===e?"button":"inline",selected:r(i.options.find(e=>e.active)),Oc:i.options.map(r).filter(a.ta),qP:(e,t)=>{if(null==t)return e;const s=i.options.find(e=>r(e)===t);return s?[...e,new a.jC({token:s.token})]:[...e,new a.kC({token:n.token,Xm:t.substring(1)})]}})}({filter:e,mode:t});default:throw new a.L(e.options[0])}}),new w({filters:e,mda:()=>[]})}var n=function(e){return[{content:([{label:t,icon:s}]=[{label:e.defaultValue||a.O("CXIRAA",[]),icon:e.iRa}],c.createElement(c.Fragment,null,s&&c.createElement("span",{className:"V10I8Q"},c.createElement(a.xD,{className:"IWeiUw",icon:s,size:"medium"})),c.createElement("span",{className:"DcM92w"},t))),key:e.defaultValue||a.O("CXIRAA",[]),value:k},...e.options.map(e=>{if("TEXT_LIST"===e.type)return{content:(({option:e})=>{const t=e.variant,s=e.icon;switch(e=e.label,t){case 1:return c.createElement(b,{label:e});case null:case void 0:return c.createElement(c.Fragment,null,s&&c.createElement("img",{className:"V10I8Q",src:s.url,alt:""}),c.createElement("span",{className:"DcM92w"},e));default:throw new a.L(t)}})({option:e}),key:e.label+e.token,value:e.token}}).filter(a.ta)];var t,s},r=function(e){if(e&&"COLOR"===e.type)return`#${e.Xm.toLowerCase()}`},e=e=>{var{className:t,Icon:s,size:i,children:e}=e;return a.N.createElement("div",{className:(0,a.P)()("_2ZzutA",a.QB[i],t)},a.N.createElement(s,{size:i}),e)},l=A(722188),c=A(667294),i=A(129323);A(570655);var s=A,o=s(294184),m=s.n_x(o),h=c.memo(({ek:e,Nza:t=a.Jd()})=>c.createElement(c.Fragment,null,t?c.createElement(u,{ek:e}):c.createElement(E,{ek:e}))),p=(0,i.Pi)(({ek:e,nEa:t=!1})=>c.createElement(c.Fragment,null,e.gka&&c.createElement(a.Py,{onClick:e.clear},c.createElement("span",{className:"xbBS-A fFOiLQ fP4ZCw"},t?a.O("9UF69g",[e.Jf]):a.O("0wEylA",[]))))),d=class extends c.Component{constructor(){super(...arguments),this.Kaa=()=>c.createElement(p,{ek:this.props.ek}),this.Laa=()=>c.createElement(a.fm,{icon:a.Vy,onClick:this.props.qb}),this.Rh=(0,i.Pi)(()=>c.createElement(v,{Jf:this.props.ek.Jf,Kaa:this.Kaa,Laa:this.Laa}))}render(){return c.createElement(c.Fragment,null,c.createElement(this.Rh,null),c.createElement(a.Iz,{className:"lsGmNA"},this.props.ek.filters.map((e,t)=>c.createElement(e.lM,{key:t}))),c.createElement("div",{className:"CcU-OQ"},c.createElement(a.Bi,{onClick:this.props.qb,stretch:!0},a.O("eHuumw",[]))))}},f=class{constructor(){this.open=!1,this.Ee=()=>{this.open=!0},this.Xb=()=>{this.open=!1}}};_dmr(f,"open"),_dma(f,"Ee",void 0),_dma(f,"Xb",void 0);var u=class extends c.Component{constructor(){super(...arguments),this.Zw=new f,this.Xp=()=>c.createElement(d,{ek:this.props.ek,qb:this.Zw.Xb})}render(){return c.createElement(a.Oz,{mode:"sheet",padding:"none",GB:"90vh",open:this.Zw.open,aa:this.Xp,Fa:this.Zw.Xb},c.createElement(a.Oj,{onClick:this.Zw.Ee},c.createElement("span",{className:"eLVM-g"},0<this.props.ek.Jf?c.createElement(e,{Icon:a.gQ,size:"medium"},c.createElement("div",{className:"z2-PQA UXYZvg fP4ZCw"},this.props.ek.Jf)):c.createElement(a.gQ,{size:"medium"})," ",c.createElement("span",null,a.O("hoRc4A",[])))))}},u=_dc([i.Pi],u),E=c.memo(({ek:e})=>c.createElement("div",{className:"bZz7Dg"},e.filters.map((e,t)=>c.createElement("div",{key:t,className:"rglFkQ"},c.createElement(e.lM,null)))," ",c.createElement(p,{ek:e,nEa:!0}))),v=c.memo(({Jf:e,Kaa:t,Laa:s})=>c.createElement("div",{className:"eFP4hw"},c.createElement("div",{className:"uHFvsw"},c.createElement(a.Om,{la:"center",ma:"none"},a.O("hoRc4A",[]))," ",0!==e&&c.createElement("div",{className:"_4y0GCg _5RSqIg fP4ZCw"},e.toString())),t&&c.createElement("div",{className:"P7OYFw YfnIgw uHFvsw"},c.createElement(t,null)),c.createElement("div",{className:"_4rpaCA YfnIgw uHFvsw"},c.createElement(s,null)))),C=class extends c.Component{constructor(e){super(e),this.ek=t({Rz:e.Rz,pm:e.pm})}componentDidMount(){(0,i.b4)(this,(0,l.U5)(()=>this.ek.output,e=>this.props.NE(e)))}render(){return c.createElement(c.Fragment,null,this.ek&&c.createElement(h,{ek:this.ek,Nza:"listitem"===this.props.Rz}))}},C=_dc([i.Pi],C),b=({label:e})=>c.createElement("div",{className:"le2akA"},c.createElement("div",{className:"EeZYOg"},e),c.createElement("div",{className:"ITsq_A"},c.createElement(a.cS,null))),k=Symbol("allFilterValue"),g=class{constructor(e){this.ic="",this._options=e.options,this.Ct=e.selected,this.yc=e.yc,this.defaultValue=e.defaultValue}get options(){return this.yc?this._options.filter(e=>{var t=this.ic;return(e.key||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}):this._options}get tM(){var e=this._options.find(e=>e.value===this.Ct);return null==e?void 0:e.content}get Jf(){return("symbol"!=typeof this.Ct||this.Ct!==k)&&this.Ct?1:0}};a.g=g.prototype,_dmr(g,"Ct"),_dmr(g,"ic"),_dmc(g,"options"),_dmc(g,"tM"),_dmc(g,"Jf");o=class{constructor(){this.i0=(e,t)=>{e.ic=t},this.Oo=e=>{e.ic=""},this.clear=e=>{e.Ct=e.defaultValue},this.onChange=(e,t)=>{e.Ct=e.Ct===t?void 0:t}}};_dma(o,"i0",void 0),_dma(o,"Oo",void 0),_dma(o,"clear",void 0),_dma(o,"onChange",void 0);var w=class{constructor(e){this.mda=e.mda,this.filters=e.filters}get output(){return this.filters.reduce((e,t)=>t.qP(e),this.mda())}get Jf(){return this.filters.reduce((e,t)=>e+t.Txa(),0)}get gka(){return 0<this.Jf}clear(){this.filters.forEach(e=>e.clear())}};_dmc(w,"output"),_dmc(w,"Jf"),_dmc(w,"gka"),_dmb(w,"clear",null);var _=c.memo(({mode:e,title:t,rfa:s,Dr:i,Zw:n,lga:a,children:r})=>"listitem"===e?c.createElement(D,{title:t,state:n,Dr:i,rfa:s},r):c.createElement(N,{title:t,state:n,Dr:i,lga:a},r)),O=class{constructor(){this.open=!1,this.Ee=()=>{this.open=!0},this.Xb=()=>{this.open=!1}}};_dmr(O,"open"),_dma(O,"Ee",void 0),_dma(O,"Xb",void 0);var N=class extends c.Component{constructor(){super(...arguments),this.kga=c.createRef(),this.YI=[["escape",this.props.state.Xb]],this.Xp=c.memo(()=>{var e=a.Mh(this.YI,{Kd:!1})["ref"];return c.createElement("div",{ref:e,className:"_5Y9tJA"},this.props.children)}),this.mz=()=>{if(!this.kga.current)return{left:0,top:0};var e=this.kga.current.getBoundingClientRect();return{left:e.left,top:e.top+window.pageYOffset}}}render(){return c.createElement(a.Oz,{padding:"none",placement:"bottom-start",open:this.props.state.open,aa:this.Xp,Fa:this.props.state.Xb,DE:!0,pH:!0,positionFixed:!0,mz:this.props.lga?this.mz:void 0},c.createElement("button",{ref:this.kga,className:"MhfdjA fFOiLQ fP4ZCw",onClick:this.props.state.Ee},c.createElement(this.props.Dr,null),c.createElement(a.Pz,{size:"medium"})))}},N=_dc([i.Pi],N),X=c.memo(({CZa:e,Tc:t})=>c.createElement("div",{className:"Eva12A"},c.createElement(a.fm,{className:"_3D46iA",cf:"medium",icon:a.Ty,onClick:t}),c.createElement(a.Om,{la:"center",ma:"none"},e))),P=c.memo(({title:e,Xb:t,children:s})=>c.createElement(c.Fragment,null,c.createElement(X,{CZa:e,Tc:t}),s,c.createElement("div",{className:"Pb12_w"},c.createElement(a.Bi,{onClick:t,stretch:!0},a.O("zxG8Ew",[]))))),y=class extends c.Component{constructor(){super(...arguments),this.Xp=()=>c.createElement(P,{title:this.props.title,Xb:this.props.state.Xb},this.props.children)}render(){return c.createElement(a.Oz,{mode:"sheet",GB:"90vh",open:this.props.state.open,aa:this.Xp,Fa:this.props.state.Xb},c.createElement(a.wo,{className:"nwDsBQ fFOiLQ fP4ZCw",onClick:this.props.state.Ee},c.createElement(this.props.Dr,null),c.createElement(a.bm,null,c.createElement(a.Uy,{size:"medium"}))))}},y=_dc([i.Pi],y),D=c.memo(({state:e,title:t,Dr:s,rfa:i,children:n})=>c.createElement("div",{className:"UkaK6Q"},i?c.createElement(y,{state:e,title:t,Dr:s},n):c.createElement(c.Fragment,null,c.createElement("div",{className:"d0DsHQ fFOiLQ fP4ZCw"},t),n))),F="#5271ff #38b6ff #5ce1e6 #7ed957 #c9e265 #ffde59 #ff914d #ff5757 #ff66c4 #8c52ff #ffffff".split(" "),x=class{constructor(e,t){this.Cj="#000000",t&&(this.selected=t,this.Xf=e.indexOf(t)+1)}};_dmr(x,"selected"),_dmr(x,"Xf"),_dmr(x,"Cj");var W=e=>{var{active:t,selected:s,color:i,onClick:n}=e;return e=c.useCallback(()=>n(i),[i,n]),c.createElement(a.lQ,{HEa:!0,active:t||s,onClick:e,Oc:[i]})},Z=class extends c.Component{constructor(){super(...arguments),this.YI=[["up",e=>{e.preventDefault(),this.tx(-1)}],["down",e=>{e.preventDefault(),this.tx(1)}],["previous",()=>this.tx(-1)],["next",()=>this.tx(1)],["enter",this.vK]],this.s7=e=>{const{onSelect:t,Wf:{selected:s}}=this.props;t(s===e?void 0:e)},this.Rka=()=>{const e=this.props.onSelect;e(this.props.Wf.Cj)}}qY(e){this.props.Wf.Cj=e}tx(e){const t=this.props.Wf;var s=this.props.Oc;e=void 0!==t.Xf?(s=s.length+1,((t.Xf+e)%s+s)%s):0,t.Xf=e}vK(){const{Oc:e,onSelect:t,Wf:{selected:s,Xf:i,Cj:n}}=this.props;if(i){var a=[n,...e],r=a[i]===s;return t(a[i]),r}}render(){const{Oc:e,Wf:{selected:s,Xf:i,Cj:n}}=this.props;return c.createElement(a.Xy,{Kd:!1,map:this.YI},c.createElement("div",{className:"YQYKQg"},c.createElement(a.vQ,{fza:n,onChange:this.qY,n7:this.Rka}),c.createElement(W,{color:n,selected:0===i,active:s===n,onClick:this.s7}),e.map((e,t)=>c.createElement(W,{key:e,color:e,selected:i===t+1,active:s!==n&&s===e,onClick:this.s7}))))}};_dmb(Z,"qY",null),_dmb(Z,"tx",null),_dmb(Z,"vK",null);var Z=_dc([i.Pi],Z),z="#5271ff #38b6ff #5ce1e6 #7ed957 #c9e265 #ffde59 #ff914d #ff5757 #ff66c4 #8c52ff #ffffff".split(" "),R=class extends class{constructor(e){var{title:t=a.O("6+TtxQ",[]),qP:s,selected:e,Oc:i=F,lM:n=Z}=e;this.qP=e=>this.Jja(e,this.Wf.selected),this.Txa=()=>Number(null!=this.Wf.selected),this.clear=(0,l.aD)(()=>{this.Wf.selected=void 0,this.Wf.Xf=void 0,this.Wf.Cj="#000000"}),this.modify=(0,l.aD)(e=>{this.Wf.selected=e,e=[this.Wf.Cj,...this.Oc].indexOf(e),this.Wf.Xf=0<=e?e:void 0}),this.onSelect=(0,l.aD)(e=>{this.Wf.selected===e?this.Wf.selected=void 0:(this.Wf.selected=e,this.Wf.Xf=[this.Wf.Cj,...this.Oc].indexOf(e))}),this.title=t,this.Oc=i,this.Jja=s,this.Wf=new x(i,e),this.lM=()=>c.createElement(n,{Oc:i,Wf:this.Wf,onSelect:this.onSelect})}}{constructor(e){super(e),this.Dr=(0,i.Pi)(()=>c.createElement("div",{className:"oL96mA"},c.createElement(a.jQ,{size:"medium",Oc:this.Wf.selected?[this.Wf.selected]:[],qU:"circular"}),c.createElement("span",{className:"_2JKplQ"},c.createElement(a.rk,null,this.title)))),this.title=e.title;const t=new O,s=e.Oc||z;this.lM=c.memo(()=>c.createElement(_,{title:this.title,mode:"inline"===e.mode?"listitem":"button",Zw:t,Dr:this.Dr},c.createElement(Z,{Oc:s,Wf:this.Wf,onSelect:this.onSelect})))}},I=class{constructor(e){this.Zw=new O,this.Dr=(0,i.Pi)(()=>{var e;return c.createElement("div",{className:"S6VmbQ"},null!==(e=this.store.tM)&&void 0!==e?e:this.title)}),this.lM=c.memo(()=>c.createElement(_,{title:this.title,mode:this.mode,Dr:this.Dr,rfa:!this.Rea,Zw:this.Zw,lga:!1},c.createElement(this.lIa,{mode:this.mode,store:this.store,v:this.v,bZ:this.bZ,onSelect:this.onSelect}))),this.qP=e=>this.Jja(e,this.store.Ct),this.Txa=()=>this.store.Jf,this.clear=()=>this.v.clear(this.store),this.modify=e=>this.v.onChange(this.store,e),this.onSelect=(0,l.aD)(e=>{this.v.onChange(this.store,e),this.Zw.Xb()}),this.title=e.title,this.store=e.store,this.v=e.v,this.bZ=e.bZ,this.Rea=e.Rea,this.Jja=e.qP,this.mode=e.mode||"button",this.lIa=e.lM||Q}},Q=class extends c.Component{constructor(){super(...arguments),this.onEnter=()=>{const e=this.props.onSelect,t=this.props.store.options[0];t&&e(t.value)},this.Iq=[["enter",this.onEnter]],this.i0=e=>{this.props.v.i0(this.props.store,e)},this.Oo=()=>{this.props.v.Oo(this.props.store)}}render(){const t=this.props.store,s=this.props.bZ,e=this.props.onSelect,i=this.props.mode;return c.createElement("div",{className:m()("button"===i&&"bUhffw","listitem"===i&&"PfZb0g")},t.yc&&c.createElement(c.Fragment,null,c.createElement(a.Wy,{map:this.Iq,Kd:!0},({ref:e})=>c.createElement("div",{className:"QhexFw",ref:e},c.createElement(a.rE,{onChange:this.i0,Cg:this.Oo,value:t.ic,placeholder:s,autoFocus:"on-desktop"})))),c.createElement("div",{className:m()(t.yc&&"uWUg5g","_3WHU4g")},c.createElement(a.ED,{options:t.options,uF:t.Ct,KY:e})))}},Q=_dc([i.Pi],Q),L=new o,S=class{};a.Gea={rYa:function(){const t=new S;return c.memo(e=>c.createElement(C,Object.assign({},e,{v:t})))}}}.call(self,self._d25c61b9ca226739aa4377bb5f6ca683)}},e=>e.O(0,[7391,5683,3691,7851,8583,1585],()=>e("M9980"))]);

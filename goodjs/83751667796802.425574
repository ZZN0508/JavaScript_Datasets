var cLang=Class.create({_langs:["de","en","fr","tr","pt","es","it"],_tester:!1,_names:{de:"Deutsch",en:"English",fr:"Français",tr:"Türkçe",pt:"Portugiesisch",es:"Espa&#241;ol",it:"Italienisch"},c:function(){return $("language")},initialize:function(){this._current=$$("meta[name=language]")[0].getAttribute("content"),this.c()&&this.c().observe("click",this.select.bind(this))},select:function(){this.c().select(".lang").invoke("remove");var e=this.c().up(),t="";this._current&&""!=this._current||(this._current="de"),this._langs.without(this._current).each(function(e){("pt"!=e&&"it"!=e||this._tester)&&(t+='<a href="language/'+e+'">'+this._names[e]+"</a>")}.bind(this)),e.insert('<div class="lang" style="display:none">'+t+'<a href="javascript:void(0)" onclick="Lang.close()" style="font-weight:bold;background:#347dce">'+this._names[this._current]+"</a></div>"),e.down(".lang").clonePosition(this.c(),{setTop:!1,setHeight:!1,setWidth:!1,offsetLeft:-13}),e.down(".lang").appear({to:.95,duration:.8}).blindDown({duration:.7})},close:function(){this.c().up().down(".lang").blindUp({duration:.4}).fade({duration:.4})}}),cUser=Class.create({initialize:function(){$("nlogin")&&$("nlogin").observe("click",Login.open.bind(Login))}}),cEvent=Class.create({initialize:function(e){e.addMethods({addEvent:this.register,fireEvent:this.fire})},register:function(e,t){this.Events[e]=t},fire:function(e){this.Events[e]&&this.Events[e]()}}),cPage=Class.create({_c:null,_n:null,Events:null,initialize:function(e,t){this._c=$("content").down("div.center").setOpacity(.7),this.Events=Object.extend({onInsert:null,onRecover:null,afterRecover:null},t||{}),new Ajax.Request(e,{parameters:"inline=true",onComplete:this.insert.bind(this)})},insert:function(e){$("content").setStyle({overflow:"hidden"}),this.hide(),this.fire("onInsert"),this._c.insert({after:e.responseText}),this._n=this._c.next().absolutize(),this.addButton(),this._n.setStyle({left:document.viewport.getWidth()+"px"}),this._n.morph("left:"+(document.viewport.getWidth()-this._n.getWidth())/2+"px",{duration:.5,afterFinish:function(){$("content").setStyle({overflow:"visible"}),this._n.setStyle({position:"static",height:"auto"})}.bind(this)})},addEvent:function(e,t){this.Events[e]=t},fire:function(e){this.Events[e]&&this.Events[e]()},addButton:function(){this._n.insert({bottom:'<div style="margin:25px 0 0 0;width:100px" id="pBack">&larr; <span class="a">Zurück</span></div>'}),$("pBack").observe("click",this.recover.bind(this))},hide:function(){this._c.absolutize().fade().setStyle({top:"30px"}).morph("left:-"+this._c.getWidth()+"px",{duration:.5})},recover:function(){this.fire("onRecover"),$("content").setStyle({overflow:"hidden"}),this._c.morph("left:"+(document.viewport.getWidth()-this._n.getWidth())/2+"px",{duration:1,afterFinish:function(){$("content").setStyle({overflow:"visible"}),this._c.setStyle({position:"static"}),location.href=location.href.substr(0,location.href.indexOf("#"))+"#",this.fire("afterRecover")}.bind(this)}).appear(),this._n.fade().absolutize().morph("left:"+document.viewport.getWidth()+"px")}}),freeMaxFileSize=1073741824,duplicityMinFileSize=10485760,isPremiumUser=!1;function makeid(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=i.length,s=0;s<e;s++)t+=i.charAt(Math.floor(Math.random()*n));return t}var User,Uploader,Login,Lang,EditKey,uploadServer,cRegister,cOrder,cSpace,cPayment,cLogin,cMe,cDownload,cAffiliate,cFiles,cFolder,unFocus,cStart,cUploader=Class.create({overlay:!1,confirmed:!1,prompted:!1,overlayAfterFinish:!1,initialize:function(e){if(this._waiting=[],this._uploading=0,this._complete=0,!$("user_id"))return this.noUser(e);var t="string"==typeof e?document.getElementById(e):e,i=document.createElement("label");i.classList.add("label-file-upload");e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("multiple","multiple"),e.classList.add("input-file-upload"),i.appendChild(e),i.addEventListener("change",function(e){this.onHTMLFileSelect(e.target.files)}.bind(this)),t.appendChild(i)},noUser:function(e){$(e).setStyle("cursor:pointer").observe("click",this.regShow.bind(this))},regShow:function(){this.ol({overlay:!0,fixed:!0,html:'<div id="content" style="margin:5px 20px" class="aC"> <h2 style="margin-bottom:5px">Bitte registrieren Sie sich um Dateien zu &#252;bertragen.</h2> <span style="display:none;line-height:18px">Um Dateien hochzuladen, wird ein kostenloser uploaded-Account benötigt.<br /> Wenn Sie bereits einen Account besitzen, <span class="a" onclick="$(\'ol\').fade();Login.open()">melden Sie sich an</span>.</span> <div class="register-box"><form action="io/register/free" style="margin:50px auto 0">      <div class="register-box-container">          <div class="help"><div class="text email de"></div></div>          <label for="free-mail" class="hide">eMail Address</label>          <input type="text" name="mail" id="free-mail" value="" style="width:520px;" />      </div>      <div>          <div class="register-box-container" style="float:left;">              <div class="help"><div class="text firstname de"></div></div>              <label for="free-firstname">First Name</label>              <input type="text" name="firstname" id="free-firstname" style="width:200px;" value="Max" />          </div>          <div class="register-box-container" style="float:right;">              <div class="help"><div class="text lastname de"></div></div>              <label for="free-lastname">Last Name</label>              <input type="text" name="lastname" id="free-lastname" style="width:200px;" value="Mustermann" />          </div>      </div>  <button type="submit" class="register-box-btn">anmelden</button> </form></div> <small id="regstatus" class="cL" style="display:block;margin-top:13px">Die Anmeldung und Nutzung des uploaded Free Accounts ist <b>stets kostenlos</b> möglich.<br />  Nach Eingabe ihrer eMail Adresse und Eingang Ihrer Anmeldung erhalten Sie von uns zeitgleich Ihre persönlichen Zugangsdaten übersendet!</small></div>'}),$("ol").setStyle("width:850px;height:430px"),$("ol").down("form").observe("submit",this.regFree.bind(this)),$$("body")[0].setStyle("overflow-x:hidden")},regFree:function(e){e.stop();var t=$("ol").down("form");if(!t.down("input").value)return t.down("input").focus();t.stopObserving(),t.down("button").update('<img src="img/l/buttonBig.gif" alt="..." />'),t.request({onComplete:function(e){if(e.responseText){e=e.responseText.evalJSON();return t.down("button").update("anmelden"),t.observe("submit",this.regFree.bind(this)),$("regstatus").blindUp({duration:.1,afterFinish:function(){$("regstatus").addClassName("error").update("<big>"+e.err+"</big>").blindDown({duration:.5})}.bind(this)}),t.down("input").select()}$("regstatus").fade({duration:.2,to:.01}),t.morph("margin-left:-"+($("ol").getWidth()+200)+"px").fade({to:.01}),t.insert({after:'<h2 style="margin-top:-50px">Vielen Dank f&uuml;r Ihre Anmeldung!<br /><small>Ihre Zugangsdaten wurden Ihnen per eMail zugeschickt.</small></h2>'}),t.next("h2").morph("left:0px")}.bind(this)})},onHTMLFileSelect:function(e){if(!uploadServer)return alert("Wegen hoher Auslastung sind unsere Kapazitäten aktuell leider vollständig in Verwendung!\nBitte versuchen Sie es in einigen Minuten erneut&hellip;");for(var t=0;t<e.length;t++){var i=e[t];if(!(i.size<1)){var n={id:makeid(20),file:i,editKey:EditKey||generate(6)};if(i.size>=freeMaxFileSize){if(!isPremiumUser){Uploader.ol({html:'<span class="cB" style="position:relative;left:5px;">'+"Die ausgewählte Datei überschreitet die maximale Dateigröße in Höhe von %max!\nNur Premium Account Benutzer dürfen Dateien größer als %max hochladen!".gsub("%max","1,00 GB")+"</span>",style:"width:410px;height:90px;"}),setTimeout(function(){Uploader.overlay=!1,Uploader.observeOl()}.bind(this),4e3);continue}Uploader.ol({html:'<span class="cB" style="position:relative;left:5px;">'+"Die ausgewählte Datei überschreitet die maximale Dateigröße in Höhe von %max!\nNur Premium Benutzer werden diese Datei herunterladen können!".gsub("%max","1,00 GB")+"</span>",style:"width:410px;height:90px;"}),setTimeout(function(){Uploader.overlay=!1,Uploader.observeOl()}.bind(this),4e3)}i.size<duplicityMinFileSize?this.initHTMLUpload(n):this.checkHTMLDuplicity(n)}}},onFileSelect:function(e){var t;if(!uploadServer)return alert("Wegen hoher Auslastung sind unsere Kapazitäten aktuell leider vollständig in Verwendung!\nBitte versuchen Sie es in einigen Minuten erneut&hellip;");for(var i=0;i<Object.keys(e.fileList).length;i++)(t=e.fileList["file"+i]).editKey=EditKey||generate(6),t.size<1||(1073741824<=t.size?(Uploader.ol({html:'<span class="cB" style="position:relative;left:5px;">'+"Die ausgewählte Datei überschreitet die maximale Dateigröße in Höhe von %max!\nNur Premium Account Benutzer dürfen Dateien größer als %max hochladen!".gsub("%max","1,00 GB")+"</span>",style:"width:410px;height:90px;"}),setTimeout(function(){Uploader.overlay=!1,Uploader.observeOl()}.bind(this),4e3)):this._IDs[t.id]||((this._IDs[t.id]=t).size<10485760?this.initUpload(t):this.checkDuplicity(t)))},isIntro:function(){return null!=$("intro")},escape:function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),e=t.innerHTML,delete t,e},initHTMLUpload:function(e,t){var i=$("uploads");null==i&&($("head").insert({before:'<div style="background:#5CA9FB;padding-top:20px;box-shadow:0 -4px 7px #4ea2fc inset" id="uploads-holder"><div id="uploads" class="center"></div></div>'}),i=$("uploads"));var n='<div id="'+e.id+'" class="uploadWeb editKey_'+e.editKey+'"> <div class="bg"></div> <div class="mask"></div> <h1><span></span></h1> <p><span>'+this.escape(e.file.name)+'</span> <small><span class="cancel a" onclick="Uploader.cancelHTMLUpload(\''+e.id+'\')">Abbrechen</span> &nbsp;&middot;&nbsp; <span class="size"></span> &nbsp;&middot;&nbsp; <span class="kbs" id="null'+(new Date).getTime()+'">Uploadprozess eingeleitet&hellip;</span></small></p></div>';this.isIntro()?i.insert({top:n}):i.insert({bottom:n}),i.down("#"+e.id).setOpacity(.1).appear({duration:.7}),this.isIntro()||this.fitHeight(),$(e.id).hide().blindDown({duration:.5}).appear({duration:.4}),t||this.startHTMLUpload(e)},initUpload:function(e,t){null==$("uploads")&&$("head").insert({before:'<div style="background:#5CA9FB;padding-top:20px;box-shadow:0 -4px 7px #4ea2fc inset"><div id="uploads" class="center"></div></div>'});var i=$("uploads"),n='<div id="'+e.id+'" class="uploadWeb editKey_'+e.editKey+'"> <div class="bg"></div> <div class="mask"></div> <h1><span></span></h1> <p><span>'+this.escape(e.name)+'</span> <small><span class="cancel a" onclick="Uploader.cancelUpload(\''+e.id+'\')">Abbrechen</span> &nbsp;&middot;&nbsp; <span class="size"></span> &nbsp;&middot;&nbsp; <span class="kbs" id="null'+(new Date).getTime()+'">Uploadprozess eingeleitet&hellip;</span> &nbsp;&middot;&nbsp; <span class="rem"></span></small></p></div>';this.isIntro()?i.insert({top:n}):i.insert({bottom:n}),i.down("#"+e.id).setOpacity(.1).appear({duration:.7}),this.isIntro()||this.fitHeight(),$(e.id).hide().blindDown({duration:.5}).appear({duration:.4}),t||this.startUpload(e)},fitHeight:function(){var e=parseInt($("content").getStyle("min-height"))-75-(1==$$(".uploadWeb").length?20:0);$("content").morph("min-height:"+e+"px",{duration:.5})},startHTMLUpload:function(t){if(1<=this._uploading)return this._waiting.push(t);this._uploading++,this.setTransferStatus(),this.isIntro()&&oStart.startUpload();function n(e,t){if(t=t||"",0==e)return"n/a";var i=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return(e/Math.pow(1024,i)).toFixed(1)+" "+["Bytes","KB","MB"][i]+t}var e=$("user_id")&&$("user_pw")?"&id="+$("user_id").value+"&pw="+$("user_pw").value:"&id=1&pw=f4c154895961b4d3c408268f6af1421f30af1901",e=uploadServer+"upload?admincode="+t.editKey+e+($("cfolder")?"&folder="+$("cfolder").value:""),s=$(t.id),o=0,i=0,r=0,a=setInterval(function(){r=o-i,i=o},1e3),d=new XMLHttpRequest;d.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=Math.round(100*e.loaded/e.total),i=e.total;o=e.loaded;try{s.down("h1 span").update("&nbsp;"+t.toString()+"%&nbsp;"),s.down("h1").morph("width:"+t.toString()+"%",{duration:.4}),s.down("span.size").update(n(o)+"/"+n(i)),s.down("span.kbs").update(n(r,"/s"))}catch(e){}}else s.down("span.kbs").update("unable to compute")},!1),d.addEventListener("load",function(e){clearInterval(a),this.onHTMLUploadComplete(d.response,t)}.bind(this),!1),d.addEventListener("error",function(){clearInterval(a)}.bind(this),!1),d.open("POST",e);e=new FormData;e.append("Filename",t.file.name),e.append("Filedata",t.file),d.send(e)},startUpload:function(e){if(1<this._uploading)return this._waiting.push(e);$(e.id).down("span.kbs").id=(new Date).getTime(),this._uploading++,this.setTransferStatus(),this.isIntro()&&oStart.startUpload();var t=$("user_id")&&$("user_pw")?"&id="+$("user_id").value+"&pw="+$("user_pw").value:"&id=1&pw=f4c154895961b4d3c408268f6af1421f30af1901";this.uploader.upload(e.id,uploadServer+"upload?admincode="+e.editKey+t+($("cfolder")?"&folder="+$("cfolder").value:""),"POST")},cancelHTMLUpload:function(e){if(!confirm("Upload abbrechen?"))return!1;var t;this._uploading--,this.setTransferStatus(),document.getElementById(e).remove(),this.isIntro()||(t=!1,$$(".uploadWeb").each(function(e){e.visible()&&(t=!0)}),t||document.getElementById("uploads-holder").remove()),0<this._waiting.length&&this.startUpload(this._waiting.shift())},cancelUpload:function(e){if(!confirm("Upload abbrechen?"))return!1;this._uploading--,this.setTransferStatus(),this.uploader.cancel(e);e=$(e);e.fade({duration:2}),e.down("h1").morph("width:0px",{duration:2}),e.down("h1 span").fade({duration:1.7}),e.blindUp({duration:2,afterFinish:placeFooter}),setTimeout(function(){var t;this.isIntro()||(t=!1,$$(".uploadWeb").each(function(e){e.visible()&&(t=!0)}.bind(this)),t||$("uploads").up().blindUp({duration:.3,afterFinish:function(){$("uploads").up().remove()}}))}.bind(this),2050),0<this._waiting.length&&this.startUpload(this._waiting.shift())},precheck:function(t){t.size<10485760?new Ajax.Request("io/upload/precheck",{parameters:Object.toQueryString(t),onComplete:function(e){e.responseText&&"_forbidden_"==e.responseText?alert('Die Datei "'+t.name+'" ist uns als urheberrechtsverletzend bekannt!\nDer Upload dieser Datei ist untersagt!'):this.checkDuplicity(t)}.bind(this)}):this.checkDuplicity(t)},checkHTMLDuplicity:function(t){switch(t.file.name.substr(t.file.name.lastIndexOf(".")+1)){case"rar":case"txt":return this.initHTMLUpload(t)}new Ajax.Request("io/upload/duplicity",{parameters:Object.toQueryString(t.file),onComplete:function(e){return e.responseText?"_forbidden_"===e.responseText?alert('Die Datei "'+file.name+'" ist uns als urheberrechtsverletzend bekannt!\nDer Upload dieser Datei ist untersagt!'):(this.initHTMLUpload(t,!0),void setTimeout(function(){this.onHTMLUploadComplete(e.responseText,t)}.bind(this),500)):this.initHTMLUpload(t)}.bind(this)})},checkDuplicity:function(t){switch(t.name.substr(t.name.lastIndexOf(".")+1)){case"rar":case"txt":return this.initUpload(t)}new Ajax.Request("io/upload/duplicity",{parameters:Object.toQueryString(t),onComplete:function(e){return e.responseText?"_forbidden_"==e.responseText?alert('Die Datei "'+t.name+'" ist uns als urheberrechtsverletzend bekannt!\nDer Upload dieser Datei ist untersagt!'):(this.initUpload(t,!0),void setTimeout(function(){this.onUploadComplete({data:e.responseText,id:t.id})}.bind(this),500)):this.initUpload(t)}.bind(this)})},onUploadProgress:function(e){var t=$(e.id),i=(e.bytesLoaded/e.bytesTotal*100).round(),n=e.bytesLoaded/((new Date).getTime()-parseInt(t.down("span.kbs").id)),s=new Date((e.bytesTotal-e.bytesLoaded)/n);if(s=""==(s=((s={hr:s.getUTCHours(),min:s.getUTCMinutes(),sec:s.getUTCSeconds()}).hr?s.hr+" Std. ":"")+(s.min?s.min+" Min. ":"")+(s.sec?s.sec+" Sek. ":""))?"<b>wenige Sekunden&hellip;</b>":s.strip().substr(0,s.strip().length-1)+".",100==parseInt(i))return"100%"==t.down("h1 span").innerHTML.trim()?void 0:(t.down("h1 span").update("100%&nbsp;"),t.down("h1").setStyle({background:"url(../img/e/progress.gif) 0 0"}).morph("width:960px",{duration:.4}).done=!0,void t.down("small").update("<b>verarbeite&hellip;</b>"));t.down("h1 span").update("&nbsp;"+i+"%&nbsp;"),t.down("h1").morph("width:"+(e.bytesLoaded/e.bytesTotal*960).round()+"px",{duration:.4}),t.down("span.size").update((e.bytesLoaded/1024/1024).toFixed(2)+" von "+(e.bytesTotal/1024/1024).toFixed(1)+" MB"),t.down("span.kbs").update(n.toFixed(0)+" kb/s"),t.down("span.rem").update(s)},onHTMLUploadComplete:function(e,t){e&&""!==e||alert("Leider ist ein Fehler aufgetreten!\nBitte wiederholen Sie den Uploadvorgang");var e=0<e.indexOf(",")?e.substr(0,e.indexOf(",")):e.data,i=$(t.id);this._uploading--,this._complete++,this.setTransferStatus(),i.down("h1").morph("width:1025px",{duration:.8}),i.down(".bg").hide(),i.down("h1").fade(),i.down("p small").fade({delay:.5}),i.down(".mask").fade({delay:.5}),"forbidden"!==e?(i.insert({top:'<a href="http://ul.to/'+e+'" style="display:none;padding:0 0 5px 5px;margin-top:4px;text-decoration:none" title="Zum Kopieren STRG + C drücken">http://ul.to/'+e+"</a>"}),i.down("a").appear({delay:.2,duration:.3}).observe("mouseover",function(){this.select(i.down("a"))}.bind(this))):i.insert({top:'<div style="text-shadow:0 1px 2px #1C5CBE;margin:8px 0 0 10px;font-size:15px">Diese Datei wurde vom Urheber als Rechtsverletzend gemeldet und darf daher nicht gespeichert werden. Bitte beachten Sie unsere AGB.</div>'}),this.isIntro()&&(i.down("a").setStyle("text-align:center"),setTimeout(function(){i.down("p").setStyle("text-align:center")}.bind(this),1500)),0<this._waiting.length&&this.startHTMLUpload(this._waiting.shift()),this.changeContent()},onUploadComplete:function(e){e.data&&""!=e.data||alert("Leider ist ein Fehler aufgetreten!\nBitte wiederholen Sie den Uploadvorgang");var t=0<e.data.indexOf(",")?e.data.substr(0,e.data.indexOf(",")):e.data,i=$(e.id);this._uploading--,this._complete++,this.setTransferStatus();var n=$("uploads"),s=n,e=n.next("div.info");i.down("p span").innerHTML;e||this.isIntro()||(s.insert({after:'<div class="info center" style="height:48px;text-align:center;display:none;"><button id="showlinks">Linkliste</button></div>'}),$("showlinks").observe("click",this.currentList.bind(this))),delete s,delete e,i.down("h1").morph("width:1025px",{duration:.8}),i.down(".bg").hide(),i.down("h1").fade(),i.down("p small").fade({delay:.5}),i.down(".mask").fade({delay:.5}),"forbidden"!=t?(i.insert({top:'<a href="http://ul.to/'+t+'" style="display:none;padding:0 0 5px 5px;margin-top:4px;text-decoration:none" title="Zum Kopieren STRG + C drücken">http://ul.to/'+t+"</a>"}),i.down("a").appear({delay:.2,duration:.3}).observe("mouseover",function(){this.select(i.down("a"))}.bind(this))):i.insert({top:'<div style="text-shadow:0 1px 2px #1C5CBE;margin:8px 0 0 10px;font-size:15px">Diese Datei wurde vom Urheber als Rechtsverletzend gemeldet und darf daher nicht gespeichert werden. Bitte beachten Sie unsere AGB.</div>'}),this.isIntro()&&(i.down("a").setStyle("text-align:center"),setTimeout(function(){i.down("p").setStyle("text-align:center")}.bind(this),1500)),1<this._complete&&!n.next("div.info").visible()&&n.next("div.info").blindDown(),0<this._waiting.length&&this.startUpload(this._waiting.shift()),this.changeContent()},changeContent:function(){location.href.sub("http://","");window.Manage&&setTimeout(function(){window.Manage.cache.reset(),window.Manage.load(window.Manage.current_folder)},500)},onUploadError:function(e){0<this._waiting.length&&this.startUpload(this._waiting.shift());var t=$(e.id);this._uploading--,this.setTransferStatus(),setTimeout(function(){t.shake({duration:.7})}.bind(this),600),t.down("h1").setStyle({background:"url(../img/e/error.gif) 0 0",textShadow:"#761212 0 1px 1px",textAlign:"center"}).morph("width:960px",{duration:.4}).update("Fehler"),t.down("small").update('<b>Bitte wiederholen Sie den Uploadvorgang</b> &nbsp;&middot;&nbsp; <b class="a">Ausblenden</b>'),t.down("small b.a").observe("click",function(){t.blindUp({afterFinish:placeFooter})}.bind(this))},select:function(e){var t;window.getSelection?window.getSelection().selectAllChildren(e):document.body.createTextRange&&((t=document.body.createTextRange()).moveToElementText(e),t.select())},currentList:function(){var e="";if(0<parseInt(this._complete))for(var t=!1,i=!1,n=0;;){if(!$("file"+n))break;(t=$("file"+n)).down("a")&&(e+=t.down("a").href+"/"+(i=(i=(i=(i=t.down("p").down("span").innerHTML).substr(0,i.indexOf("<b"))).indexOf("&nbsp;")?i.substr(0,i.indexOf("&nbsp;")):i).indexOf(" ")?i.substr(0,i.indexOf(" ")):i)+"\n"),n++}this.ol(e)},alert:function(e){var t;Object.isString(e)&&(t=e,e=void 0,e=Object.extend({text:t},{})),(e=Object.extend({html:'<div class="aC" style="width:90%;margin-left:5%;color:#000;"><br />%d</div><br class="cb" /><button style="margin-left:45%" onclick="Uploader.overlay=false;Uploader.observeOl();">Ok</button>',text:"",style:"width:400px;height:130px;",permanent:!0,overlay:!0,fixed:!0},e||{})).timeout?setTimeout(this.ol.bind(this,e),e.timeout):this.ol(e)},confirm:function(e){this.confirmed=!1,(e=Object.extend({html:'<div class="aC" style="width:90%;margin-left:5%;color:#000;"><br />%d</div><br class="cb" /><button style="margin-left:32%" onclick="Uploader.confirmed=true;Uploader.overlay=false;Uploader.observeOl();">Ok</button><button style="margin-left:5%" onclick="Uploader.confirmed=false;Uploader.overlay=false;Uploader.observeOl();">Abbrechen</button>',text:"",style:"width:400px;height:130px;",permanent:!0,overlay:!0,fixed:!0},e||{})).timeout?setTimeout(this.ol.bind(this,e),e.timeout):this.ol(e)},prompt:function(e){this.prompted=!1,(e=Object.extend({html:'<div class="aC" style="width:90%;margin-left:5%;color:#000;"><br />%d</div><br class="cb" /><input type="teyt" name="olprompt" id="olprompt" style="width:360px;" /><br class="cb" /><button style="margin-left:32%" onclick="Uploader.prompted=$(\'olprompt\').getValue();Uploader.overlay=false;Uploader.observeOl();">Ok</button><button style="margin-left:5%" onclick="Uploader.prompted=false;Uploader.overlay=false;Uploader.observeOl();">Abbrechen</button>',text:"",style:"width:400px;height:130px;",permanent:!0,overlay:!0,fixed:!0},e||{})).timeout?setTimeout(this.ol.bind(this,e),e.timeout):this.ol(e)},ol:function(i){if($("ol"))return this.observeOl();this.overlay=!0,window.scrollTo(0,0);var e='<div style="position:fixed;left:0px;top:0px;width:100%;height:100%;z-index:99999;"><div id="ol" style="display:none;'+(Object.isString(i)||!i.style?"width:750px;height:500px;":i.style)+'"> <div class="border"> <br />  <div style="position:absolute;left:5px;top:5px;width:99%;height:'+(i.fixed?"0":"30")+'px;background:transparent;cursor:move;"><img src="img/sym/cross.png" style="position:absolute;top:5px;right:5px;cursor:pointer;" onclick="Uploader.overlay=false;Uploader.observeOl();" /></div>'+(Object.isString(i)?'  <h1 class="cB"> &nbsp; &nbsp; Linkliste</h1>  <textarea>'+i+"</textarea>":i.html.replace("%d",i.text))+" </div></div></div>";$("head").insert({before:e}),$("ol").appear({duration:.3,from:0,to:1}),$("ol").down("div").observe("mouseenter",function(){0==this.overlay&&(this.overlay=!0)}.bind(this)),$("ol").down("div").observe("mouseleave",function(){1==this.overlay&&(this.overlay=!1)}.bind(this)),$("ol").down("div div").observe("mouseup",function(){this.overlay=!0}.bind(this)),$("ol").down("div div").observe("mousedown",function(){this.overlay="x,y"}.bind(this));e=$("ol").down("select");e&&e.observe("mouseup",function(){this.overlay=!0}.bind(this)),i.overlay&&($("ol").insert({before:'<div id="ol.overlay" style="width:100%;height:100%;background:#fff"></div>'}),$("ol.overlay").setOpacity(.4)),$$(".tooltip").each(function(e){e.hide()}.bind(this));e=!0;Object.isString(i)||i.fixed&&(e=!1),e?document.body.observe("mousemove",function(e){return(e=e||window.event).preventDefault(),e.returnValue&&(e.returnValue=!1),$("ol")&&1!=this.overlay&&0!=this.overlay&&((t=new Array)[0]=e.pageX||e.clientX,t[1]=e.pageY||e.clientY,(e=new Array)[0]=isNaN(parseInt($("ol").down("div").style.left))?Object.isString(i)||!i.style?-375:parseInt("-"+parseInt($("ol").style.width)/2):parseInt($("ol").down("div").style.left),e[1]=isNaN(parseInt($("ol").down("div").style.top))?Object.isString(i)||!i.style?-250:parseInt("-"+parseInt($("ol").style.height)/2):parseInt($("ol").down("div").style.top),"x,y"!=this.overlay&&(dif=this.overlay.split(","),$("ol").down("div").style.left=e[0]+(t[0]-dif[0])+"px",$("ol").down("div").style.top=e[1]+(t[1]-dif[1])+"px"),this.overlay=t[0]+","+t[1]),!1;var t}.bind(this)):$("ol").down("div div").style.cursor="default",i.permanent||setTimeout(function(){document.body.onclick=function(){this.observeOl()}.bind(this)}.bind(this),1e3),i.afterFinish&&(this.overlayAfterFinish=i.afterFinish)},observeOl:function(){if(!this.overlay&&($("ol")&&$("ol").fade({duration:.3,Transition:Effect.Transitions.linear,afterFinish:function(){$("ol")&&$("ol").up("div").remove()}}),document.body.onclick=function(){},Object.isFunction(this.overlayAfterFinish)))return this.overlayAfterFinish()},changeAccess:function(e,t){var i,n,s=$(t).down(".editKey").innerHTML;(i=prompt("Bitte geben Sie einen neuen Editkey ein",s))&&(n=!1,[" ","/","'",'"',"%","#","&",";"].each(function(e){i.include(e)&&(i=i.gsub(e,""),n=!0)}.bind(this)),n&&alert("Der von Ihnen eingegebene Editkey enthält verbotene Zeichen und wurde durch unser System angepasst. Er lautet nun: %c".sub("%c",i)),30<i.length&&(i=i.substr(0,30),alert("Der von Ihnen eingegebene Editkey überschreitet die maximale Länge von 30 Zeichen und wurde durch unser System angepasst. Er lautet nun: %c".sub("%c",i))),new Ajax.Request("file/"+e+"/edit/key/"+encodeURIComponent(i),{parameters:"global="+!1,onComplete:function(e){if(e.responseText)return alert(e.responseText);t.down(".editKey").update(i).highlight({startcolor:"#0069ff",endcolor:"#4387e8"})}.bind(this)}))},setTransferStatus:function(){$$("head")[0].insert({top:'<link rel="shortcut icon" href="img/'+(this._uploading<1?"sym/tick.png":"load/dts.gif")+'" type="image/vnd.microsoft.icon">'}),0<this._uploading?window.onbeforeunload=function(e){e.returnValue="Es sind noch nicht alle Uploads abgeschlossen&hellip;"}:window.onbeforeunload=null}}),cOverlay=Class.create({_obj:{},_id:"ol",overlay:!1,confirmed:!1,prompted:!1,overlayAfterFinish:!1,initialize:function(e){this.reset(),e&&(this._obj=e).id&&(this._id=e.id)},create:function(n){var e=n.id||this._id;if($(e))return this.observe(e);this.overlay=!0,window.scrollTo(0,0);var t='<div style="position:fixed;left:0px;top:0px;width:100%;height:100%;z-index:'+(n.index||1e3)+';"><div class="overl" id="'+e+'" style="display:none;'+(Object.isString(n)||!n.style?"width:750px;height:500px;":n.style)+'">  <div class="border"> <br />      <div style="position:absolute;left:5px;top:5px;width:99%;height:'+(n.fixed?"0":"30")+'px;background:transparent;cursor:move;"><img src="img/sym/cross.png" style="position:absolute;top:5px;right:5px;cursor:pointer;" /></div>'+(Object.isString(n)?'      <h1 class="cB"> &nbsp; &nbsp; Linkliste</h1>      <textarea>'+n+"</textarea>":n.html.replace("%d",n.text))+"  </div></div></div>";$("head").insert({before:t}),$(e).appear({duration:.3,from:0,to:1}),$(e).down("div").observe("mouseover",function(){0==this.overlay&&(this.overlay=!0)}.bind(this)),$(e).down("div").observe("mouseout",function(){1==this.overlay&&(this.overlay=!1)}.bind(this)),$(e).down("div div").observe("mouseup",function(){this.overlay=!0}.bind(this)),$(e).down("div div").observe("mousedown",function(){this.overlay="x,y"}.bind(this)),$(e).down("img").observe("click",function(e){this.overlay=!1,this.observe(e)}.bind(this,e)),n.overlay&&($(e).insert({before:'<div id="'+e+'.overlay" style="width:100%;height:100%;background:#fff"></div>'}),$(e+".overlay").setOpacity(.4)),$$(".tooltip").each(function(e){e.hide()}.bind(this));t=!0;Object.isString(n)||n.fixed&&(t=!1),t?document.body.observe("mousemove",function(e,t){var i;return(e=e||window.event).preventDefault(),e.returnValue&&(e.returnValue=!1),window.getSelection&&window.getSelection().removeAllRanges(),$(t)&&1!=this.overlay&&0!=this.overlay&&((i=new Array)[0]=e.pageX||e.clientX,i[1]=e.pageY||e.clientY,(e=new Array)[0]=isNaN(parseInt($(t).down("div").style.left))?Object.isString(n)||!n.style?-375:parseInt("-"+parseInt($(t).style.width)/2):parseInt($(t).down("div").style.left),e[1]=isNaN(parseInt($(t).down("div").style.top))?Object.isString(n)||!n.style?-250:parseInt("-"+parseInt($(t).style.height)/2):parseInt($(t).down("div").style.top),"x,y"!=this.overlay&&(dif=this.overlay.split(","),$(t).down("div").style.left=e[0]+(i[0]-dif[0])+"px",$(t).down("div").style.top=e[1]+(i[1]-dif[1])+"px"),this.overlay=i[0]+","+i[1]),!1}.bind(this,e)):$(e).down("div div").style.cursor="default",n.permanent||setTimeout(function(e){document.body.onclick=function(e){this.observe(e)}.bind(this,e)}.bind(this,e),1e3),n.afterFinish&&(this.overlayAfterFinish=n.afterFinish)},open:function(e,t){Object.isElement(e)&&(e.id&&(this._id="overlay."+e.id),t&&(this._obj=t),e=Object.extend({id:this._id,html:e.innerHTML,text:"",style:"width:"+e.style.width+"px;height:"+e.style.height+"px;",permanent:!0,overlay:!0,fixed:!0,index:1001},this._obj),this.create.bind(this,e))},alert:function(e){var t,i=e.id||this._id;Object.isString(e)&&(t=e,e=void 0,e=Object.extend({text:t},{})),e=Object.extend({id:i,html:'<div class="aC" style="width:90%;margin-left:5%;color:#000;"><br />%d</div><br class="cb" /><button style="margin-left:45%">Ok</button>',text:"",style:"width:400px;height:130px;",permanent:!0,overlay:!0,fixed:!0,index:1001},e||{}),setTimeout(function(e){$(e)&&$(e).down("button").observe("click",function(e){this.overlay=!1,this.observe(e)}.bind(this,e))}.bind(this,i),e.timeout?e.timeout+500:500),setTimeout(this.create.bind(this,e),e.timeout||10)},confirm:function(e){this.confirmed=!1;var t,i=e.id||this._id;Object.isString(e)&&(t=e,e=void 0,e=Object.extend({text:t},{})),e=Object.extend({id:i,html:'<div class="aC" style="width:90%;margin-left:5%;color:#000;"><br />%d</div><br class="cb" /><button style="margin-left:32%">Ok</button><button style="margin-left:5%">Abbrechen</button>',text:"",style:"width:400px;height:130px;",permanent:!0,overlay:!0,fixed:!0,index:1001},e||{}),setTimeout(function(e){$(e)&&($(e).down("button",0).observe("click",function(e){this.confirmed=!0,this.overlay=!1,this.observe(e)}.bind(this,e)),$(e).down("button",1).observe("click",function(e){this.confirmed=!1,this.overlay=!1,this.observe(e)}.bind(this,e)))}.bind(this,i),e.timeout?e.timeout+500:500),setTimeout(this.create.bind(this,e),e.timeout||10)},confirm2:function(e){this.confirmed=!1;var t,i=e.id||this._id;Object.isString(e)&&(t=e,e=void 0,e=Object.extend({text:t},{})),e=Object.extend({id:i,html:'<div class="aC" style="width:90%;margin-left:5%;color:#000;"><br />%d</div><br class="cb" /><div class="rbtn" style="margin-left:32%">Ok</div><div class="rbtn" style="margin-left:5%">Abbrechen</div>',text:"",style:"width:400px;height:140px;",permanent:!0,overlay:!0,fixed:!0,index:1001},e||{}),setTimeout(function(e){$(e)&&($(e).down(".rbtn",0).observe("click",function(e){this.confirmed=!0,this.overlay=!1,this.observe(e)}.bind(this,e)),$(e).down(".rbtn",1).observe("click",function(e){this.confirmed=!1,this.overlay=!1,this.observe(e)}.bind(this,e)))}.bind(this,i),e.timeout?e.timeout+500:500),setTimeout(this.create.bind(this,e),e.timeout||10)},prompt:function(e){this.prompted=!1;var t,i=e.id||this._id;Object.isString(e)&&(t=e,e=void 0,e=Object.extend({text:t},{})),e=Object.extend({id:i,html:'<div class="aC" style="width:90%;margin-left:5%;color:#000;"><br />%d</div><br class="cb" /><input type="teyt" name="'+i+'prompt" id="'+i+'prompt" style="width:360px;" /><br class="cb" /><button style="margin-left:32%">Ok</button><button style="margin-left:5%">Abbrechen</button>',text:"",style:"width:400px;height:130px;",permanent:!0,overlay:!0,fixed:!0,index:1001},e||{}),setTimeout(function(e){$(e)&&($(e).down("button",0).observe("click",function(e){this.prompted=$(e+"prompt").getValue(),this.overlay=!1,this.observe(e)}.bind(this,e)),$(e).down("button",1).observe("click",function(e){this.prompted=!1,this.overlay=!1,this.observe(e)}.bind(this,e)))}.bind(this,i),e.timeout?e.timeout+500:500),setTimeout(this.create.bind(this,e),e.timeout||10)},prompt2:function(e,t){this.prompted=!1;var i,n=e.id||this._id;Object.isString(e)&&(i=e,e=void 0,e=Object.extend({text:i},{})),t=void 0===t?"":t,e=Object.extend({id:n,html:'<div class="aC" style="width:90%;margin-left:5%;color:#000;"><br />%d</div><br class="cb" /><input type="teyt" name="'+n+'prompt" id="'+n+'prompt" style="width:360px;margin-left:15px;" value="'+t+'" /><br class="cb" /><div class="rbtn" style="margin-left:32%">Ok</div><div class="rbtn" style="margin-left:5%">Abbrechen</div>',text:"",style:"width:400px;height:130px;",permanent:!0,overlay:!0,fixed:!0,index:1001},e||{}),setTimeout(function(e){$(e)&&($(e).down(".rbtn",0).observe("click",function(e){this.prompted=$(e+"prompt").getValue(),this.overlay=!1,this.observe(e)}.bind(this,e)),$(e).down(".rbtn",1).observe("click",function(e){this.prompted=!1,this.overlay=!1,this.observe(e)}.bind(this,e)))}.bind(this,n),e.timeout?e.timeout+500:500),setTimeout(this.create.bind(this,e),e.timeout||10)},observe:function(e){e=e||this._id,this.overlay||(this.close(e),document.body.onclick=function(){})},close:function(e){var t;return e=e||this._id,$(e)&&(t=$(e).up("div"),$(e).fade({duration:.3,Transition:Effect.Transitions.linear,afterFinish:function(e){if(e)try{e.remove()}catch(e){}}.bind(this,t)})),Object.isFunction(this.overlayAfterFinish)&&this.overlayAfterFinish(),this.reset()},exit:function(e){var t;return e=e||this._id,$(e)&&(t=$(e).up("div"),$(e).fade({duration:.3,Transition:Effect.Transitions.linear,afterFinish:function(e){if(e)try{e.remove()}catch(e){}}.bind(this,t)})),this.reset()},reset:function(e){this.overlay=!(!e||2!=e),this.confirmed=!1,this.prompted=!1,this.overlayAfterFinish=!1}});function generate(e){var t="",n=new Array("b","c","d","f","g","h","j","k","l","m","n","p","r","s","t","v","w","x","y","z"),s=new Array("a","e","i","o","u");for(i=0;i<e/2;i++){var o=Math.ceil(1e3*Math.random())%20,r=Math.ceil(1e3*Math.random())%5;t+=n[o]+s[r]}return t}function placeFooter(){null!=$("content")&&$("content").setStyle({minHeight:document.viewport.getHeight()-(73+$("head").getHeight()+$("foot").getHeight())+"px"})}function blinkNews(e){$("head").down("div.navi").down('a[href="news"]').morph("color:#ade2fb",{duration:.7}),setTimeout(function(){$("head").down("div.navi").down('a[href="news"]').morph("color:#fff",{duration:.3}),e<3&&setTimeout(function(){blinkNews(e+1)},300)},700)}String.prototype.isMail=function(){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(this)},Number.prototype.number=function(e,t,i){var n,e=isNaN(e=Math.abs(e))?2:e,t=null==t?",":t,i=null==i?".":i,s=this<0?"-":"",o=parseInt(n=Math.abs(+this||0).toFixed(e))+"",r=3<(r=o.length)?r%3:0;return s+(r?o.substr(0,r)+i:"")+o.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+i)+(e?t+Math.abs(n-o).toFixed(e).slice(2):"")},String.prototype.isMail=function(){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(this)},uploadServer="http://am4-r1f5-stor10.uploaded.net/",document.observe("dom:loaded",function(){Lang=new cLang,User=new cUser,Overlay=new cOverlay,(EditKey=!!(document.cookie+";").match(/EditKey\=(.*)\;/)&&(document.cookie+";").match(/EditKey\=(.*)\;/)[1])&&EditKey.include(";")&&(EditKey=EditKey.substr(0,EditKey.indexOf(";")-1)),$("nupload")&&setTimeout("Uploader = new cUploader('nupload');",500),placeFooter(),Event.observe(document.onresize?document:window,"resize",placeFooter)}.bind(this));

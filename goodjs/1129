define("modules/clean/deprecated_ajax/ajax_jquery",["require","exports","tslib","jquery","modules/clean/devtools/panels/performance/perf_hub_action_types","modules/clean/deprecated_ajax/job_progress","modules/core/persistence/storage","modules/constants/ajax_strings","modules/constants/page_load","modules/constants/request","modules/core/browser","modules/core/exception","modules/core/html","modules/core/notify","modules/core/uri","modules/clean/csrf","modules/clean/viewer"],function(e,t,n,r,o,s,i,a,u,c,l,d,p,h,_,f,m){"use strict";function g(e,t){null==t&&(t=[]),null==(e=null==e?{}:e).type&&(n=null!=e.method?(d.reportStack("Use of method property within modules/clean/deprecated_ajax/ajax_jquery's Request",{tags:["module:ajax"]}),e.method):"POST",e.type=n);var n=new y(e),o=v(n,t),e=r.default.ajax({url:o.url(),type:e.type,data:o.data(),dataType:e.dataType||"text",headers:o.headers(),traditional:!0,xhrFields:o.xhrFields(),success:function(e,t,n){return o.success(e,t,n)},error:function(e,t,n){return o.error(e,t,n)},complete:function(e,t){return o.complete(e,t)},async:null==e.async||e.async,timeout:e.timeout});return o.request(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SilentBackgroundBeaconRequest=t.ValidationSchemaRequest=t.SilentBackgroundRequest=t.BackgroundRequest=t.WebProgressRequest=t.FormWebRequest=t.WebRequestOref=t.WebRequest=t.Request=void 0,r=n.__importDefault(r),s=n.__importStar(s),i=n.__importStar(i),a=n.__importStar(a),u=n.__importStar(u),c=n.__importStar(c),l=n.__importStar(l),d=n.__importStar(d),t.Request=g;var w,v=function(e,t){for(var n=[e],o=0,r=Array.from(t.slice(0).reverse());o<r.length;o++){var i=r[o];n.push(new i)}for(var s=null,a=0,u=Array.from(n);a<u.length;a++)i=u[a],s&&(i.next=s),s=i;return s},y=(C.prototype.identity=function(e){return e},C),b=(T.prototype.options=function(){return this.next.options()},T.prototype.url=function(){return this.next.url()},T.prototype.data=function(){return this.next.data()},T.prototype.headers=function(){return this.next.headers()},T.prototype.xhrFields=function(){return this.next.xhrFields()},T.prototype.success=function(e,t,n){return this.next.success(e,t,n)},T.prototype.error=function(e,t,n){return this.next.error(e,t,n)},T.prototype.complete=function(e,t){return this.next.complete(e,t)},T.prototype.request=function(e){return this.next.request(e)},T),S=(w=b,n.__extends(x,w),x.initClass=function(){this.prototype.SUPPORTED_TLDS=["dropbox.com"]},x.prototype.data=function(){if(this.options().skipInjectCsrf)return this.next.data();d.assert(this._is_db_domain(),"injecting CSRF token into request to non-dropbox domain");var e={is_xhr:!0};return"get"!==(this.options().type||"post").toLowerCase()&&(e.t=f.readCsrfToken()),r.default.extend(e,this.next.data())},x.prototype._is_db_domain=function(){var e=_.URI.parse(String(this.url())).getAuthority();if(!e)return!0;var o=e.split(".");return this.SUPPORTED_TLDS.reduce(function(e,t){var n=t.split("."),n=o.slice(-1*n.length).join(".");return e||t===n},!1)},x);function x(){return null!==w&&w.apply(this,arguments)||this}function T(){}function C(e){null==e&&(e={}),this.options=function(){return e},this.url=function(){return String(e.url||"")},this.data=function(){return e.data||{}},this.headers=function(){return e.headers||{}},this.xhrFields=function(){return e.xhrFields||{}},this.success=e.success||this.identity,this.error=e.error||this.identity,this.complete=e.complete||this.identity,this.request=this.identity}S.initClass();var A,E,M,L,P,k,F,I,O,R,N,D,j,B,H=(B=b,n.__extends(me,B),me.prototype.data=function(){var e=this.next.data(),t=this.options();return t.subject_user&&!e._subject_uid&&(e._subject_uid=String(t.subject_user)),e},me.prototype.headers=function(){var e=this.next.headers(),t=this.options();return t.subject_user&&(e["X-DROPBOX-UID"]=String(t.subject_user)),e},me),V=(j=b,n.__extends(fe,j),fe.prototype.headers=function(){var e=this.next.headers(),t=this.options().teamAuthParams||{},n=t.team_id||m.Viewer.get_viewer().team_id;n&&(e["X-Dropbox-Teamid"]=String(n));n=t.auth_role||m.Viewer.get_viewer().auth_role,t=t.auth_action_type||m.Viewer.get_viewer().auth_action_type;return(n||t)&&(e["X-Dropbox-Team-Authorization"]=JSON.stringify({auth_role:String(n),auth_action_type:String(t)})),e},fe),q=(D=b,n.__extends(_e,D),_e.prototype.error=function(e,t,n){var o,r;return 403===e.status&&(o=i.SessionStorage.get("reload-timestamp"),r=(new Date).getTime(),(!o||3e4<r-o)&&(i.SessionStorage.set("reload-timestamp",r),window.location.reload(!0))),this.next.error(e,t,n)},_e),U=(N=b,n.__extends(he,N),he.prototype.data=function(){var e=this.next.data();return null!=r.default.ajaxSettings.restrict&&(e.restrict=r.default.ajaxSettings.restrict),e},he),W=(R=b,n.__extends(pe,R),pe.prototype.data=function(){var e=this.next.data();if(!c.REQUEST_TRACING_ENABLED||"post"!==this.options().type.toLowerCase())return e;var t={parent_request_id:c.REQUEST_ID};return r.default.extend(t,e)},pe.prototype.headers=function(){var e=this.next.headers();return c.REQUEST_TRACING_ENABLED&&"post"===this.options().type.toLowerCase()&&(e[o.PerfHubHeaderNames.FORCE_REQUEST_TRACING_HEADER]="ON"),e},pe),G=(O=b,n.__extends(de,O),de.prototype.data=function(){var e=this.next.data(),t={};return u.PUBLIC_MODE_OVERRIDE&&(t.public_mode_override=1),u.COUNTRY_OVERRIDE&&(t.country_override=u.COUNTRY_OVERRIDE),r.default.extend(t,e)},de),K=(I=b,n.__extends(le,I),le.prototype.error=function(e,t,n){return this._notify_dev(e,t,n),this.next.error(e,t,n)},le.prototype._notify_dev=function(e,t,n){},le),Q=(F=b,n.__extends(ce,F),ce.prototype.success=function(e,t,n){var o;if(!n.responseText.length)return this.next.error(n,t,"");var r=!0,i=!1;if(0===n.responseText.indexOf("err:"))o=n.responseText.substr("err:".length),["{","["].includes(o[0])&&(r=!1);else{if(0!==n.responseText.indexOf("htmlerr:"))return this.next.success(e,t,n);o=n.responseText.substr("htmlerr:".length),i=!0}t=this.next.error(n,t,o);return r&&!this.options().skipNotifyError&&(i&&(o=new p.HTML(o)),h.Notify.error(o)),t},ce.prototype.error=function(e,t,n){return"abort"===t||this.options().skipNotifyError||h.Notify.error(a.PROBLEM_COMPLETING_REQUEST),this.next.error(e,t,n)},ce),Z=(k=b,n.__extends(ue,k),ue.prototype.success=function(e,t,n){if(!this.options().skipErrorHandling){if(!n.responseText.length)return this.next.error(n,t,"");if(0===n.responseText.indexOf("err:")){var o=n.responseText.substr("err:".length);return this.next.error(n,t,o)}}return this.next.success(e,t,n)},ue),J=(P=b,n.__extends(ae,P),ae.prototype.request=function(e){var t=this;return this.xhr=e,setTimeout(function(){if(!t._request_finished())return t._should_show_working_msg()?(t._show_working_msg(),t.xhr.done(t._clear_working_msg)):void 0},4e3),this.next.request(this.xhr)},ae.prototype._request_finished=function(){return 4===this.xhr.readyState},ae.prototype._should_show_working_msg=function(){return h.Notify.isShown()},ae.prototype._show_working_msg=function(){return this.notification=h.Notify.success(a.STILL_WORKING)},ae.prototype._clear_working_msg=function(){if(h.Notify.isShown()&&this.notification===h.Notify.current())return h.Notify.clear()},ae),z=(L=b,n.__extends(se,L),se.prototype.data=function(){this.job_id=se.generate_job_id();var e=this.next.data();this.uid=e._subject_uid;var t=this.options().subject_user;return!this.uid&&t&&(this.uid=String(t)),r.default.extend({job_id:this.job_id},e)},se.prototype.request=function(e){return this._interval=1e3,this._failures=0,this._watch_count=0,this._watch_id=setInterval(this._watch,this._interval),this.next.request(e)},se.prototype.success=function(e,t,n){return this.next.success(e,t,n)},se.prototype.error=function(e,t,n){return this.next.error(e,t,n)},se.prototype.complete=function(e,t){return this._stop(),s.Job.handled(this.job_id),this.next.complete(e,t)},se.prototype._watch=function(){return s.Job.peek(this.job_id)?this._stop():(this._watch_count++,this._watch_count%10==0&&(clearInterval(this._watch_id),this._interval=Math.min(Math.floor(1.5*this._interval),3e4),this._watch_id=setInterval(this._watch,this._interval)),this._show_progress_modal(),this._fetch_progress())},se.prototype._stop=function(){clearInterval(this._watch_id),s.ModalProgress.hide()},se.prototype._show_progress_modal=function(){this._modal_shown||(this._modal_shown=!0,s.ModalProgress.show(this.options().progress_text))},se.prototype._fetch_progress=function(){var o=this,e={};return this.uid&&(e._subject_uid=this.uid),ve({url:"/job_status/"+this.job_id,data:e,success:function(e,t,n){n=0===n.responseText.indexOf("done")?"1/1":n.responseText;s.ModalProgress.update(n)},error:function(e,t,n){if(o._failures++,!(o._failures<3))return o._stop(),o.next.error(e,t,n)}})},se.generate_job_id=function(){var e=(new Date).getTime().toString(),t=Math.floor(1e6*Math.random()).toString();return e+("000000"+t).substring(t.length)},se),X=(M=b,n.__extends(ie,M),ie.prototype.data=function(){var e=this.next.data();this.uid=e._subject_uid;var t=this.options().subject_user;return!this.uid&&t&&(this.uid=String(t)),e},ie.prototype.success=function(e,t,n){return this._is_async_job_response(n)?(this.job_id=n.responseText.split(":")[1],this._interval=1e3,this._failures=0,this._watch_count=0,this._watch_id=setInterval(this._watch,this._interval)):this.next.success(e,t,n)},ie.prototype.complete=function(e,t){if(!this._is_async_job_response(e))return this.next.complete(e,t)},ie.prototype._is_async_job_response=function(e){return 0===(null!=e.responseText?e.responseText.indexOf("async_task_started:"):void 0)&&e.responseText.split(":")[1].match(/^[A-Za-z0-9_\-=]*$/)},ie.prototype._watch=function(){return s.Job.peek(this.job_id)?this._stop():(this._watch_count++,this._watch_count%10==0&&(clearInterval(this._watch_id),this._interval=Math.min(Math.floor(1.5*this._interval),3e4),this._watch_id=setInterval(this._watch,this._interval)),this._show_progress_modal(),this._fetch_progress())},ie.prototype._stop=function(){clearInterval(this._watch_id),s.ModalProgress.hide()},ie.prototype._show_progress_modal=function(){this._modal_shown||(this._modal_shown=!0,s.ModalProgress.show(this.options().progress_text))},ie.prototype._fetch_progress=function(){var i=this,e={};return this.uid&&(e._subject_uid=this.uid),Se({url:"/async_task_status/"+this.job_id,data:e,success:function(e,t,n){var o=n.responseText;if(0===o.indexOf("done:"))return s.Job.handled(i.job_id),i._stop(),o=o.substr("done:".length),n.responseText=o,i.next.success(o,t,n),i.next.complete(n,t);if(0===o.indexOf("err:")){s.Job.handled(i.job_id),i._stop();var r=o.substr("err:".length);return h.Notify.error(r),i.next.error(n,t,r),i.next.complete(n,t)}if(0===o.indexOf("async_task_err:")){s.Job.handled(i.job_id),i._stop();r=o.substr("async_task_err:".length);return h.Notify.error(new p.HTML(r)),i.next.complete(n,t)}s.ModalProgress.update(o)},error:function(e,t,n){if(i._failures++,!(i._failures<3))return i._stop(),i.next.error(e,t,n),i.next.complete(e,t)}})},ie),Y=(E=b,n.__extends(re,E),re.prototype.data=function(){var e,t=l.get_uri().getQuery().oref;return null!==(e=this.next.data())&&void 0!==e&&e.oref||!t?this.next.data():r.default.extend({oref:t},this.next.data())},re),$=[(A=b,n.__extends(oe,A),oe.prototype.browser_unload_handler=function(){this.is_browser_unloading=!0},oe.prototype.request=function(e){var t;return r.default(window).on("beforeunload",this.browser_unload_handler),(t=this.next).request.apply(t,arguments)},oe.prototype.error=function(e,t,n){return 0===e.status&&0===e.readyState&&"error"===t&&!n&&this.is_browser_unloading?this.next.error(e,"abort","unload"):(e=this.next).error.apply(e,arguments)},oe.prototype.complete=function(){var e;return r.default(window).off("beforeunload",this.browser_unload_handler),(e=this.next).complete.apply(e,arguments)},oe)],ee=[H,V,S,q,U],J=[J],te=[K,W,G],X=[X],ne=[].concat($,J,Q,te,ee,X);function oe(){var e=A.call(this)||this;return e.browser_unload_handler=e.browser_unload_handler.bind(e),e.is_browser_unloading=!1,e}function re(){return null!==E&&E.apply(this,arguments)||this}function ie(){var e=M.call(this)||this;return e._watch=e._watch.bind(e),e}function se(){var e=L.call(this)||this;return e._watch=e._watch.bind(e),e}function ae(){var e=P.call(this)||this;return e._clear_working_msg=e._clear_working_msg.bind(e),e}function ue(){return null!==k&&k.apply(this,arguments)||this}function ce(){return null!==F&&F.apply(this,arguments)||this}function le(){return null!==I&&I.apply(this,arguments)||this}function de(){return null!==O&&O.apply(this,arguments)||this}function pe(){return null!==R&&R.apply(this,arguments)||this}function he(){return null!==N&&N.apply(this,arguments)||this}function _e(){return null!==D&&D.apply(this,arguments)||this}function fe(){return null!==j&&j.apply(this,arguments)||this}function me(){return null!==B&&B.apply(this,arguments)||this}t.WebRequest=function(e){return g(e=null==e?{}:e,ne)},t.WebRequestOref=function(e){return g(e=null==e?{}:e,[].concat(Y,ne))};var ge=[].concat($,J,Z,te,ee,X);t.FormWebRequest=function(e){return g(e=null==e?{}:e,ge)};var we=[].concat($,J,Q,te,ee,z,X);function ve(e){return g(e=null==e?{}:e,[].concat($,te,ee))}t.WebProgressRequest=function(e){return g(e=null==e?{}:e,we)},t.BackgroundRequest=ve;var ye=[H,V,S,U],be=[].concat($,te,ye);function Se(e){return g(e=null==e?{}:e,be)}t.SilentBackgroundRequest=Se,t.ValidationSchemaRequest=function(e){var e=new y(e=null==e?{}:e),o=v(e,ee),e=r.default.ajax({url:o.url(),type:"OPTIONS",data:o.data(),success:function(e,t,n){return o.success(e,t,n)},error:function(e,t,n){return o.error(e,t,n)},complete:function(e,t){return o.complete(e,t)}});return o.request(e)},t.SilentBackgroundBeaconRequest=function(e){if(delete(e=null==e?{}:e).success,delete e.error,delete e.complete,null==navigator.sendBeacon)return Se(e);null==e.type&&(e.type="POST");var t,n=new y(e),e=v(n,[].concat(ye,W)),n=e.url(),o=new FormData,r=e.data();for(t in r){var i=r[t];null!=i&&""!==i&&o.append(t,i)}navigator.sendBeacon(n,o)||console.warn("Beacon request failed: "+n)}}),define("modules/clean/css",["require","exports","modules/clean/static_urls","modules/core/exception","modules/core/uri","modules/clean/css_cache"],function(e,t,s,o,i,a){"use strict";function r(e){void 0===e&&(e=document);for(var t=a.getOrCreateCache(e),n=e.querySelectorAll('link[rel="stylesheet"]'),o=0;o<n.length;o++){var r=n[o],r=i.URI.parse(r.href).getPath();null==t.already_loaded_css_paths[r]&&(t.loaded_css[r]=Promise.resolve(),t.already_loaded_css_paths[r]="loaded")}}function u(e,t,n,o){void 0===o&&(o=document);var r=a.getOrCreateCache(o),i=s.static_url(e);return a.loadCssWithCache(o,r,e,i).then(t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerCSSForPreload=t.is_loaded=t.require_css_multi=t.require_css=t.css_url=void 0,r(),t.css_url=function(e){return'url("'+String(e).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'")'},t.require_css=u,t.require_css_multi=function(e,t,n,o){void 0===o&&(o=document);e=e.map(function(e){return u(e,void 0,void 0,o)});return Promise.all(e).then(t,n)},t.is_loaded=function(e,t){void 0===t&&(t=document);var n=a.getOrCreateCache(t);return!!e.every(function(e){return o.assert(e.startsWith("/static/"),"invalid static css path: "+e),"loaded"===n.already_loaded_css_paths[e]})||(r(t),e.every(function(e){return"loaded"===n.already_loaded_css_paths[e]}))},t.registerCSSForPreload=function(e){}}),define("modules/clean/css_cache",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadCssWithCache=t.getOrCreateCache=void 0,t.getOrCreateCache=function(e){return e._cssCache||(e._cssCache={loaded_css:Object.create(null),already_loaded_css_paths:Object.create(null)}),e._cssCache},t.loadCssWithCache=function(o,r,i,s){var e=r.loaded_css[i];return e||(e=new Promise(function(e,t){var n=o.createElement("link");return n.href=s,n.rel="stylesheet",n.type="text/css",n.crossorigin="anonymous",n.onload=function(){return r.already_loaded_css_paths[i]="loaded",e()},n.onerror=t,o.head.appendChild(n)}),r.loaded_css[i]=e,r.already_loaded_css_paths[i]="downloading"),e}}),define("modules/clean/dbmodal_stack",["require","exports"],function(e,t){"use strict";function n(e,t){if(void 0===t&&(t={detail:null}),"function"==typeof CustomEvent)return new CustomEvent(e,t);var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!0,!0,t.detail),n}Object.defineProperty(t,"__esModule",{value:!0}),t.DBModalStack=t.createCustomEvent=void 0,t.createCustomEvent=n;var o=(i.initClass=function(){this.__stack=[],this.CLEAR="dbmodal:clear"},i.pop=function(e){null!=e?i.remove(e):e=i.__stack.pop(),null!=e&&e._hide();e=i.top();null!=e?e._show():this.trigger(i.CLEAR)},i.push=function(e){i.remove(e);var t=i.top();null!=t&&t.visible&&t._hide(),i.__stack.push(e),e._show()},i.top=function(){var e=i.__stack.length;return e?i.__stack[e-1]:null},i.remove=function(e){for(var t=[],n=0,o=Array.from(i.__stack);n<o.length;n++){var r=o[n];r!==e&&t.push(r)}i.__stack=t},i.clear=function(){for(var e=i.__stack.length-1;0<=e;e--){var t=i.__stack[e];t.visible&&t._hide()}this.trigger(i.CLEAR),i.__stack=[]},i.register=function(e,t){document.addEventListener(e,t),document.addEventListener(i.CLEAR,function(){return document.removeEventListener(e,t)})},i.unregister=function(e,t){document.removeEventListener(e,t)},i.trigger=function(e,t){document.dispatchEvent(n(e,{detail:t}))},i);function i(){}(t.DBModalStack=o).initClass()}),define("modules/clean/deprecated_ajax/job_progress",["require","exports","modules/clean/dbmodal_stack"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Job=t.ModalProgress=void 0;var n={complete:{},handled:function(e){if(!e)return!1;var t=!!n.complete[e];return n.complete[e]=!0,t},peek:function(e){return!!e&&!!n.complete[e]}};t.Job=n,t.ModalProgress={show:function(e){var t,n,o,r;e&&(null===(r=i.DBModalStack.top())||void 0===r||r.hide(),(t=document.createElement("div")).id="modal-progress-overlay",t.style.position="fixed",t.style.width="100%",t.style.height="100%",t.style.display="none",t.classList.add("fade-out"),document.body.appendChild(t),(n=document.createElement("div")).id="modal-progress-content",n.style.display="none",n.classList.add("fade-out"),(o=document.createElement("div")).id="modal-progress-bar",r=function(e,t){var n=(t=void 0===t?300:t).toString()+"px",o=document.createElement("div");o.classList.add("outer-progress-bar");var r=document.createElement("div");r.style.width=n,r.id="pb_"+e,r.classList.add("inner-progress-bar");var i=document.createElement("div");i.style.width=n,i.classList.add("under-pb"),i.classList.add("progress-bar");var s=document.createElement("div");s.style.display="none",s.id="pb_"+e+"_over",s.classList.add("over-pb"),s.classList.add("progress-bar");var a=document.createElement("div");a.style.width=n,a.id="pb_"+e+"_upct",a.classList.add("pb-percentage");t=document.createElement("div");return t.style.width=n,t.id="pb_"+e+"_opct",t.classList.add("pb-percentage"),i.appendChild(a),s.appendChild(t),r.appendChild(i),r.appendChild(s),o.appendChild(r),o}("modal-progress",150),o.appendChild(r),(r=document.createElement("div")).id="modal-progress-text",r.textContent=e,(e=document.createElement("modal-progress-container")).id="modal-progress-container",e.appendChild(o),e.appendChild(r),n.appendChild(e),document.body.appendChild(n),t.style.display="",t.classList.add("fade-to"),t.classList.remove("fade-out"),n.style.display="",n.classList.add("fade-in"),n.classList.remove("fade-out"))},update:function(e){var t;-1<e.indexOf("progress")&&(e=e.substring("progress".length)),t=e,(e=document.querySelector("#pb_modal-progress_over"))&&(t=1<(t=t.split("/").map(Number)).length?t[0]/t[1]:t[0],t=isNaN(t)?0:t,e.style.width=100*Math.min(t,1)+"%",e.style.display="",e.style.backgroundColor="#348DD3",e.style.overflow="hidden")},hide:function(){var e=document.querySelector("#modal-progress-overlay");e&&(e.classList.add("fade-out"),e.classList.remove("fade-to"),window.setTimeout(function(){e.remove()},250));var t=document.querySelector("#modal-progress-content");t&&(t.classList.add("fade-out"),t.classList.remove("fade-in"),window.setTimeout(function(){t.remove()},250))}}}),define("modules/clean/devtools/panels/performance/perf_hub_action_types",["require","exports"],function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PerfHubHeaderNames=t.ActionTypes=void 0,(n=t.ActionTypes||(t.ActionTypes={})).PROFILED_AJAX_LOAD_FINISHED="PROFILED_AJAX_LOAD_FINISHED",n.WEB_TIMING_FETCHED="WEB_TIMING_FETCHED",(t=t.PerfHubHeaderNames||(t.PerfHubHeaderNames={})).SERVER_RESPONSE_TIME="x-server-response-time",t.REQUEST_PROFILE_ID="x-dropbox-request-profile-id",t.REQUEST_ID="x-dropbox-request-id",t.FORCE_REQUEST_TRACING_HEADER="x-dropbox-force-request-tracing"}),define("modules/clean/em_string",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emstring=void 0;var n=(o.initClass=function(){this.ACCURACY=2,this.CODEPOINT_TO_WIDTH={32:38,33:25,34:42,35:67,36:58,37:92,38:75,39:25,40:33,41:33,42:58,43:58,44:25,45:33,46:25,47:42,48:58,49:58,50:58,51:58,52:58,53:58,54:58,55:58,56:58,57:58,58:25,59:25,60:58,61:58,62:58,63:50,64:100,65:67,66:67,67:67,68:75,69:58,70:58,71:75,72:83,73:33,74:25,75:67,76:58,77:100,78:83,79:83,80:67,81:83,82:67,83:58,84:58,85:75,86:67,87:100,88:67,89:58,90:58,91:33,92:42,93:33,94:58,95:50,96:67,97:58,98:67,99:50,100:67,101:58,102:33,103:58,104:67,105:25,106:25,107:58,108:25,109:100,110:67,111:67,112:67,113:67,114:42,115:50,116:42,117:67,118:58,119:83,120:58,121:58,122:50,123:42,124:58,125:42,126:58,161:25,162:58,163:58,164:58,165:58,166:58,167:58,168:67,169:92,170:42,171:50,172:58,174:92,175:58,176:50,177:58,178:42,179:42,180:67,181:67,182:75,183:25,184:25,185:42,186:42,187:50,188:83,189:83,190:83,191:50,192:67,193:67,194:67,195:67,196:67,197:67,198:92,199:67,200:58,201:58,202:58,203:58,204:33,205:33,206:33,207:33,208:75,209:83,210:83,211:83,212:83,213:83,214:83,215:58,216:83,217:75,218:75,219:75,220:75,221:58,222:67,223:67,224:58,225:58,226:58,227:58,228:58,229:58,230:92,231:50,232:58,233:58,234:58,235:58,236:25,237:25,238:25,239:25,240:67,241:67,242:67,243:67,244:67,245:67,246:67,247:58,248:67,249:67,250:67,251:67,252:67,253:58,254:67,255:58,256:75,257:67,258:75,259:67,260:75,261:67,262:75,263:58,264:75,265:58,266:75,267:58,268:75,269:58,270:83,271:83,272:83,273:75,274:67,275:67,276:67,277:67,278:67,279:67,280:67,281:67,282:67,283:67,284:83,285:75,286:83,287:75,288:83,289:75,290:83,291:75,292:83,293:75,294:92,295:75,296:33,297:33,298:33,299:33,300:33,301:33,302:33,303:33,304:33,305:25,306:67,307:67,308:42,309:33,310:75,311:67,312:67,313:58,314:33,315:58,316:33,317:58,318:42,319:58,320:50,321:67,322:42,323:83,324:75,325:83,326:75,327:83,328:75,329:83,330:83,331:75,332:92,333:67,334:92,335:67,336:92,337:67,338:100,339:100,340:75,341:50,342:75,343:50,344:75,345:50,346:67,347:58,348:67,349:58,350:67,351:58,352:67,353:58,354:75,355:42,356:75,357:42,358:75,359:42,360:83,361:75,362:83,363:75,364:83,365:75,366:83,367:75,368:83,369:75,370:83,371:75,372:100,373:92,374:75,375:58,376:75,377:67,378:67,379:67,380:67,381:67,382:67,383:42,384:75,385:83,386:67,387:75,388:75,389:67,390:75,391:83,392:58,393:83,394:100,395:67,396:75,397:67,398:67,399:75,400:58,401:58,402:75,403:83,404:75,405:100,406:50,407:50,408:75,409:67,410:50,411:67,412:117,413:83,414:75,415:92,416:92,417:75,418:117,419:100,420:75,421:75,422:75,423:67,424:58,425:67,426:58,427:42,428:75,429:42,430:75,431:83,432:75,433:92,434:83,435:75,436:75,437:67,438:67,439:67,440:67,441:58,442:58,443:75,444:75,445:58,446:50,447:67,448:33,449:50,450:50,451:33,452:142,453:142,454:133,455:100,456:92,457:67,458:117,459:117,460:100,461:75,462:67,463:33,464:33,465:92,466:67,467:83,468:75,469:83,470:75,471:83,472:75,473:83,474:75,475:83,476:75,477:67,478:75,479:67,480:75,481:67,482:100,483:100,484:92,485:75,486:83,487:75,488:75,489:67,490:92,491:67,492:92,493:67,494:67,495:58,496:33,497:142,498:142,499:133,500:83,501:75,502:117,503:67,504:83,505:75,506:75,507:67,508:100,509:100,510:92,511:67,512:75,513:67,514:75,515:67,516:67,517:67,518:67,519:67,520:33,521:33,522:33,523:33,524:92,525:67,526:92,527:67,528:75,529:50,530:75,531:50,532:83,533:75,534:83,535:75,536:67,537:58,538:75,539:42,540:58,541:58,542:83,543:75,544:83,545:100,546:92,547:67,548:67,549:67,550:75,551:67,552:67,553:67,554:92,555:67,556:92,557:67,558:92,559:67,560:92,561:67,562:75,563:58,564:67,565:100,566:67,567:33,568:100,569:100,570:75,571:75,572:58,573:58,574:67,575:58,576:58,577:67,578:50,579:75,580:75,581:75,582:75,583:58,584:58,585:25,586:83,587:58,588:75,589:33,590:75,591:58,880:67,881:50,882:67,883:50,884:33,885:33,886:75,887:67,888:108,889:108,890:67,891:58,892:58,893:58,894:42,895:108,896:108,897:108,898:108,899:108,900:67,901:67,902:75,903:42,904:83,905:100,906:58,907:108,908:100,909:108,910:100,911:100,912:42,913:75,914:67,915:58,916:83,917:67,918:67,919:83,920:92,921:33,922:75,923:75,924:100,925:83,926:75,927:92,928:83,929:67,930:108,931:67,932:75,933:75,934:83,935:75,936:83,937:92,938:33,939:75,940:83,941:58,942:75,943:42,944:67,945:83,946:67,947:67,948:67,949:58,950:75,951:75,952:67,953:42,954:67,955:67,956:75,957:67,958:67,959:67,960:92,961:67,962:67,963:75,964:67,965:67,966:92,967:67,968:92,969:100,970:42,971:67,972:67,973:67,974:100,975:108,976:58,977:75,978:75,979:100,980:75,981:92,982:100,983:67,984:92,985:67,986:75,987:58,988:58,989:58,990:67,991:58,992:75,993:92,994:100,995:92,996:75,997:58,998:75,999:58,1e3:75,1001:75,1002:67,1003:67,1004:83,1005:58,1006:50,1007:42,1008:67,1009:67,1010:58,1011:33,1012:92,1013:58,1014:58,1015:67,1016:67,1017:75,1018:100,1019:83,1020:58,1021:75,1022:75,1023:75,1024:67,1025:67,1026:92,1027:58,1028:75,1029:67,1030:33,1031:33,1032:42,1033:108,1034:108,1035:83,1036:75,1037:83,1038:75,1039:83,1040:75,1041:67,1042:67,1043:58,1044:83,1045:67,1046:92,1047:67,1048:83,1049:83,1050:75,1051:83,1052:100,1053:83,1054:92,1055:83,1056:67,1057:75,1058:75,1059:75,1060:83,1061:75,1062:83,1063:75,1064:108,1065:108,1066:75,1067:92,1068:67,1069:75,1070:108,1071:75,1072:67,1073:67,1074:58,1075:58,1076:75,1077:67,1078:83,1079:58,1080:75,1081:75,1082:67,1083:67,1084:83,1085:75,1086:67,1087:75,1088:75,1089:58,1090:58,1091:58,1092:92,1093:67,1094:75,1095:58,1096:92,1097:100,1098:67,1099:83,1100:58,1101:58,1102:92,1103:58,1104:67,1105:67,1106:75,1107:58,1108:58,1109:58,1110:33,1111:33,1112:42,1113:92,1114:92,1115:75,1116:67,1117:75,1118:58,1119:75,1120:100,1121:75,1122:75,1123:67,1124:83,1125:83,1126:75,1127:67,1128:100,1129:92,1130:92,1131:83,1132:117,1133:108,1134:67,1135:67,1136:83,1137:83,1138:92,1139:67,1140:83,1141:67,1142:83,1143:67,1144:133,1145:125,1146:92,1147:67,1148:100,1149:75,1150:100,1151:75,1152:75,1153:58,1154:75,1155:0,1156:0,1157:0,1158:0,1159:108,1160:0,1161:0,1162:83,1163:75,1164:67,1165:58,1166:67,1167:75,1168:58,1169:58,1170:67,1171:58,1172:75,1173:67,1174:100,1175:92,1176:67,1177:58,1178:75,1179:67,1180:83,1181:75,1182:75,1183:67,1184:83,1185:75,1186:83,1187:75,1188:100,1189:83,1190:117,1191:100,1192:92,1193:75,1194:75,1195:58,1196:75,1197:58,1198:75,1199:58,1200:75,1201:58,1202:75,1203:75,1204:100,1205:83,1206:75,1207:67,1208:75,1209:67,1210:75,1211:58,1212:92,1213:75,1214:92,1215:75,1216:33,1217:92,1218:83,1219:75,1220:67,1221:83,1222:67,1223:83,1224:75,1225:83,1226:75,1227:75,1228:58,1229:100,1230:83,1231:25,1232:75,1233:67,1234:75,1235:67,1236:100,1237:100,1238:67,1239:67,1240:75,1241:67,1242:75,1243:67,1244:92,1245:83,1246:67,1247:58,1248:67,1249:58,1250:83,1251:75,1252:83,1253:75,1254:92,1255:67,1256:92,1257:67,1258:92,1259:67,1260:75,1261:58,1262:75,1263:58,1264:75,1265:58,1266:75,1267:58,1268:75,1269:58,1270:58,1271:42,1272:92,1273:83,1274:58,1275:42,1276:75,1277:58,1278:75,1279:58,2026:67,19977:108,65403:58},this._ELLIPSIS_LENGTH=new o("â€¦").length},o.em_snippet=function(e,t,n){return null==t&&(t=50),null==n&&(n=.75),new o(e.toString()).snippet(t,n).toString()},o.prototype.widthInfo=function(){for(var e={"-1":0},t=0,n=this.s.length,o=0<=n;o?t<n:n<t;o?t++:t--)e[t]=e[t-1]+this.ems(this.s.charAt(t));return e},o.prototype.findSpot=function(e){if(!e)return 0;for(var t=0,n=this.s.length;t<=n;){var o=Math.floor(t/2+n/2),r=this.info[o-1];if(e<r)n=o-1;else{if(!(r<e))return o;t=o+1}}return o<t?t:o},o.prototype.ems=function(e){var t=e.charCodeAt(0),e=o.CODEPOINT_TO_WIDTH[t];return e?e/Math.pow(10,o.ACCURACY):768<=t&&t<=879?0:65377<=t&&t<=65500?.58:11904<=t&&t<=40911||44032<=t&&t<=55215||4352<=t&&t<=4607||63744<=t&&t<=64255||65280<=t&&t<=65535||131072<=t&&t<=196607?1.08:.65},o.prototype.substr=function(e,t){var n=this.findSpot(e);if(null==t)return new o(this.s.substr(n));e=this.findSpot(e+t);return e-n<this.s.length&&(65024<=(t=this.s.charCodeAt(e-n))&&t<=65039&&e--),new o(this.s.substr(n,e-n))},o.prototype.toString=function(){return this.s},o.prototype.snippet=function(e,t){if(this.length<=(e=void 0===e?50:e))return this;t=(e-=o._ELLIPSIS_LENGTH)*(t=void 0===t?.75:t),e=this.length-(e-t),t=this.substr(0,t),e=this.substr(e);return new o(t.toString()+"â€¦"+e.toString())},o);function o(e){if(!(this instanceof o))return new o(e);this.s=e,this.info=this.widthInfo(),this.length=e.length?this.info[this.s.length-1]:0}(t.Emstring=n).initClass()}),define("modules/clean/event_load",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.window_load=void 0,t.window_load=function(e){var t;"complete"===document.readyState&&(t=e,window.setTimeout(function(){return t.apply(t)},0)),window.addEventListener("load",e,!1)}}),define("modules/clean/filepath/filepath",["require","exports"],function(e,t){"use strict";function i(e){return e?"/"===(e="/"!==e.charAt(0)?"/"+e:e).charAt(e.length-1)?e.substr(0,e.length-1):e:""}function n(e){if(!e)return{name:"",ext:""};var t=e.split("."),n=0<e.length&&"."===e[0],o=e.indexOf(".")<0;n&&(o=t.length<=2);n=t.pop();return n&&!o?{name:t.join("."),ext:n}:{name:e,ext:""}}function o(e){return n(e).ext.toLowerCase()}function r(e){return e.split("/").slice(0,-1).join("/")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),t.joinPathWithFileName=t.parentDirName=t.child_dir=t.parent_dirs=t.parent_dir=t.file_extension_for_logging=t.file_extension=t.split_filename=t.filename_without_extension=t.filename=t.inSubDirectory=t.inSameDirectory=t.paths_are_equal=t.normalize=void 0,t.normalize=i,t.paths_are_equal=function(e,t){return i(e).toLowerCase()===i(t).toLowerCase()},t.inSameDirectory=function(e){if(!e.length)return!1;var t=r(e[0]);return!e.find(function(e){return r(e)!==t})},t.inSubDirectory=function(e,t){var n=(e=i(e)).split("/"),o=(t=i(t)).split("/");if(o.length<=n.length)return!1;for(var r=0;r<n.length;r++)if(n[r]!==o[r])return!1;return!0},t.filename=function(e,t){return(e=i(e)).split("/").pop()||t||"Dropbox"},t.filename_without_extension=function(e){return e?-1===e.indexOf(".")?e:e.split(".").slice(0,-1).join("."):""},t.split_filename=n,t.file_extension=o,t.file_extension_for_logging=function(e){return-1===e.indexOf(".")?"":o(e).toLowerCase()},t.parent_dir=r,t.parent_dirs=function(e){for(var t=[],n=r(e);"/"!==n;)t.push(n),n=r(n);return t},t.child_dir=function(e){return e.split("/").pop()||""},t.parentDirName=function(e){e=e.split("/");return 1<e.length?e[e.length-2]:""},t.joinPathWithFileName=function(e){var t=e.fqPath;return[t,e.fileName].join("/"===t?"":"/")}}),define("modules/clean/static_urls",["require","exports","modules/core/exception","modules/core/uri"],function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.static_url=void 0,t.static_url=function(e){return n.assert(0===e.indexOf("/static/"),"'"+e+"' is not a /static url"),new o.URI({scheme:"https",authority:"cfl.dropboxstatic.com",path:e}).toString()}}),define("modules/core/persistence/storage",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserLocalStorage=t.LocalStorage=t.SessionStorage=t.BrowserStorage=t.MemoryStorage=void 0;var o=(n.prototype.clear=function(){this.storage={}},n.prototype.getItem=function(e){return this.storage[e]},n.prototype.key=function(e){return Object.keys(this.storage)[e]},n.prototype.removeItem=function(e){delete this.storage[e]},n.prototype.setItem=function(e,t){this.storage[e]=t},n);function n(){this.storage={}}t.MemoryStorage=o;var r=(Object.defineProperty(i.prototype,"storage",{get:function(){return this.initFn&&(this._storage=function(e){var t;try{t=e()||new o}catch(e){t=new o}try{var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(e){return t&&u(e)?t:new o}}(this.initFn),delete this.initFn),this._storage},enumerable:!1,configurable:!0}),i.prototype.get=function(e){if(this.storage){e=this.storage.getItem(e);return e&&("undefined"===e?void 0:JSON.parse(e))}},i.prototype.set=function(e,t){if(this.storage)try{return null===t?this.delete(e):this.storage.setItem(e,JSON.stringify(t))}catch(e){if(u(e))return;throw e}},i.prototype.delete=function(e){return this.storage?this.storage.removeItem(e):void 0},i.prototype.reset=function(){return this.storage?this.storage.clear():void 0},i);function i(e){this.initFn=e}t.BrowserStorage=r;var s=(a.prototype.get=function(e,t){return this.browserStorage.get(this.formatKey(e,t))},a.prototype.set=function(e,t,n){return this.browserStorage.set(this.formatKey(e,t),n)},a.prototype.clearOtherUsers=function(n){var o=this;Object.keys(this.browserStorage.storage).map(function(e){var t;e.startsWith(o.idPrefix)&&(t=e.substring(o.idPrefix.length,e.indexOf(".")),n.includes(Number(t))||o.browserStorage.delete(e))})},a.prototype.delete=function(e,t){return this.browserStorage.delete(this.formatKey(e,t))},a.prototype.formatKey=function(e,t){return""+this.idPrefix+e+"."+t},a);function a(e){this.idPrefix="userId:",this.browserStorage=e}function u(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)}t.SessionStorage=new r(function(){return window.sessionStorage}),t.LocalStorage=new r(function(){return window.localStorage}),t.UserLocalStorage=new s(t.LocalStorage)}),define("modules/clean/ts_utils",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notEmpty=t.throwEnforceExhaustive=t.enforceExhaustive=void 0,t.enforceExhaustive=function(e){return e},t.throwEnforceExhaustive=function(e,t){throw new Error(t)},t.notEmpty=function(e){return null!=e}}),define("modules/clean/user",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mkUser=void 0;var n=(o.prototype.toString=function(){return String(this.id)},o);function o(e){Object.assign(this,e)}t.mkUser=function(e){return new n(e)}}),define("modules/clean/ux_analytics/utils",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWARPInfoFromDOM=t.getModalId=t.dispatchModalClosed=t.dispatchModalOpened=void 0;function n(e,t){var n;"function"==typeof CustomEvent?document.dispatchEvent(new CustomEvent(e,{detail:t})):((n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),document.dispatchEvent(n))}t.dispatchModalOpened=function(){n("modalOpened")},t.dispatchModalClosed=function(){n("modalClosed")},t.getModalId=function(e){if(e.id)return e.id;var t=e.className;if(t){e=t.split(" ");return 1<e.length?e.find(function(e){return-1<e.indexOf("modal")})||t[0]+"-modal":-1<t.indexOf("modal")?t:t+"-modal"}},t.getWARPInfoFromDOM=function(){var e=document.getElementById("warp-metadata");return e?e.getAttribute("data-warp-info"):null}}),define("modules/clean/viewer",["require","exports","tslib","modules/constants/viewer","modules/core/exception","modules/clean/user"],function(e,t,n,o,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Viewer=void 0;var i=(a.get_viewer=function(){return a._cached_viewer},a.get_role_title=function(e){return this.get_viewer().get_title_by_role(e.role)},a.get_root_name=function(e){return this.get_viewer().get_root_name_by_role(e.role)},a.get_is_signed_in=function(e){return e.is_signed_in},a.prototype.replace_viewer_data=function(e){void 0===e&&(e={}),this._authed_users={},this._all_users={};for(var t=e._user_data||[],n=0,o=t;n<o.length;n++){var r=o[n],i=s.mkUser(r);this._all_users[i.id]=i,r._authed&&(this._authed_users[i.id]=i)}this.display_name=e.display_name,this.team_id=e.team_id,this.auth_role=e.auth_role,this.auth_action_type=e.auth_action_type,this.team_dbtid=e.team_dbtid,this.team_name=e.team_name,this.team_type=e.team_type,this.team_is_limited=e.team_is_limited||!1,this.team_is_locked=e.team_is_locked||!1,this.is_assume_user_session=e.is_assume_user_session||!1,this.is_team_assume_user_session=e.is_team_assume_user_session||!1,this.is_signed_in=0<t.length,this.is_paired=1<t.length,e.deprecated_first_user_in_the_cookie_id&&(this.deprecated_first_user_in_the_cookie=this.get_user_by_id(e.deprecated_first_user_in_the_cookie_id)),this._load_cached_users()},a.prototype.get_user_by_role=function(e,t){e=this.get_uid_by_role(e);return null!=e?this.get_user_by_id(e,t):void 0},a.prototype.role_exists=function(e){return null!=this.get_uid_by_role(e)},a.prototype.get_user_by_id=function(e,t){r.assert(this.is_uid_associated(e),"User "+e+" is not associated with this viewer");t=(t?this._all_users:this._authed_users)[e];return r.assert(!!t,"User "+e+" is not signed in"),t},a.prototype.is_role_signed_in=function(e){e=this.get_uid_by_role(e);return null!=e&&e in this._authed_users},a.prototype.is_uid_signed_in=function(e){return e in this._authed_users},a.prototype.is_user_signed_in=function(e){return null!=e&&this.is_uid_signed_in(e.id)},a.prototype.is_uid_associated=function(e){return e in this._all_users},a.prototype.get_users=function(e){var t=e?this._all_users:this._authed_users,e=Object.keys(t).map(function(e){return t[e]});return e.sort(function(e,t){return"personal"===e.role?-1:1}),e},a.prototype.get_user_ids=function(e){return this.get_users(e).map(function(e){return e.id})},a.prototype.get_roles=function(e){return this.get_users(e).map(function(e){return e.role})},a.prototype.get_account_ids=function(e){return this.get_users(e).map(function(e){return e.account_id})},a.prototype.get_email_by_role=function(e){e=this.get_user_by_role(e,!0);return e&&e.email},a.prototype.get_uid_by_role=function(e){for(var t in"photos"===e&&(e=this.is_paired||!this.is_signed_in?"personal":this._all_users[Object.keys(this._all_users)[0]].role),this._all_users)if(this._all_users.hasOwnProperty(t)){t=this._all_users[t];if(t.role===e)return t.id}},a.prototype.get_title_by_role=function(e){return"work"===e?this.team_name:this.is_paired?o.PERSONAL_ROLE_STRING:""},a.prototype.get_root_name_by_role=function(e){return this.get_title_by_role(e)||o.DEFAULT_ROOT_NAME},a.prototype._sign_in_all_users=function(){this._authed_users=n.__assign({},this._all_users),this._load_cached_users()},a.prototype._sign_out_user_by_id=function(e){delete this._authed_users[e],this._load_cached_users()},a.prototype.sign_in_user_by_id=function(e){r.assert(this.is_uid_associated(e),"User "+e+" is not associated with this viewer"),this._authed_users[e]=this._all_users[e],this._load_cached_users()},a.prototype._load_cached_users=function(){this.personal_user=this._authed_users[this.get_uid_by_role("personal")],this.photos_user=this._authed_users[this.get_uid_by_role("photos")],this.work_user=this._authed_users[this.get_uid_by_role("work")],this.personal_email=this.get_email_by_role("personal"),this.work_email=this.get_email_by_role("work"),this.is_personal_user_signed_in=this.is_role_signed_in("personal"),this.is_photos_user_signed_in=this.is_role_signed_in("photos"),this.is_work_user_signed_in=this.is_role_signed_in("work")},a._cached_viewer=new a(o._viewer_properties),a);function a(e){this.replace_viewer_data(e=void 0===e?{}:e)}t.Viewer=i}),define("modules/core/accessible_announce",["require","exports","tslib","dompurify","modules/clean/css","modules/core/html"],function(e,t,n,o,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibleAnnounce=void 0,o=n.__importStar(o);s.polite=function(e,t){return this.announce("polite",e,t=void 0===t?10:t)},s.assertive=function(e,t){return this.announce("assertive",e,t=void 0===t?10:t)},s.clear=function(){this.lastTimeout&&clearTimeout(this.lastTimeout),Array.from(document.querySelectorAll("#accessible-announce")).forEach(function(e){e.setAttribute("aria-live","off"),e.innerHTML=""})},s.announce=function(e,t,n){var o=this;return void 0===n&&(n=10),r.require_css("/static/css/accessibility-vfliGZNRm.css",function(){return document.querySelector("#accessible-announce")?(o.setMessage(t,e),o.scheduleClear(n)):(document.body.insertAdjacentHTML("afterend","<div id='accessible-announce' aria-live='assertive' class='ax-visually-hidden'></div>"),setTimeout(function(){return o.setMessage(t,e),o.scheduleClear(n)},o.TIMEOUT_LENGTH))})},s.setMessage=function(t,n){this.clear(),Array.from(document.querySelectorAll("#accessible-announce")).forEach(function(e){e.setAttribute("aria-live",n),t instanceof HTMLElement?e.innerHTML=o.sanitize(t.innerHTML):i.isHTML(t)?e.innerHTML=o.sanitize(t.toHTML()):e.textContent=t})},s.scheduleClear=function(e){var t=this;return this.lastTimeout=setTimeout(function(){t.clear()},1e3*e)},s.TIMEOUT_LENGTH=50,n=s;function s(){}t.AccessibleAnnounce=n}),define("modules/core/browser",["require","exports","tslib","modules/constants/env","modules/core/exception","modules/core/uri"],function(e,i,t,n,a,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.unsafeRedirect=i.now=i.performance=i.reload=i.replace_location=i.redirect=i.onBrowserRedirect=i.open_mail=i.unsafe_open_tab=i.open_tab=i.mockableInternalMethods=i.set_hash=i.get_href_no_hash=i.get_hash=i.get_uri=i.get_origin=i.get_hostname=i.get_pathname=i.get_href=void 0;var c=(n=t.__importStar(n)).REDIRECT_SAFE_ORIGINS;function o(e){return(e=void 0===e?window:e).location.href}i.get_href=o,i.get_pathname=function(e){return(e=void 0===e?window:e).location.pathname},i.get_hostname=function(e){return(e=void 0===e?window:e).location.hostname},i.get_origin=function(e){return(e=void 0===e?window:e).location.origin},i.get_uri=function(e){return void 0===e&&(e=window),u.URI.parse(o(e))},i.get_hash=function(){return window.location.hash.split("#")[1]},i.get_href_no_hash=function(){return o().split("#")[0]},i.set_hash=function(e){window.location.hash=e},i.mockableInternalMethods={_navigate:function(e,t){(t=void 0===t?window:t).location.href=e},_parse_target:function(e,t){var n=void 0===t?{}:t,o=n.target_window,r=void 0===o?window:o,i=n.checkDomainWhitelist,s=void 0===i||i,t=n.httpsOnly,o=void 0===t||t,i=r.document.createElement("a");e instanceof u.URI?i.href=e.toString():i.href=e;n=i.protocol||r.location.protocol;":"===i.protocol&&(n=r.location.protocol);t=i.hostname||r.location.hostname,e=i.port||r.location.port;"443"===e&&"https:"===n&&(e=""),s&&a.assert(!e,"Non-default port not legal when checking the whitelist.");r=0===i.pathname.indexOf("/")?i.pathname:"/"+i.pathname;o?a.assert("https:"===n,"Target URI must be secure"):a.assert("data:"!==n&&"javascript:"!==n&&"vbscript:"!==n,"Target URI can't use the data or javascript scheme"),s&&a.assert(-1<c.indexOf(t),"Target URI must be in the domain whitelist");return n+"//"+(e?t+":"+e:t)+r+i.search+i.hash}},i.open_tab=function(e,t){void 0===t&&(t=!1);e=i.mockableInternalMethods._parse_target(e),e=window.open(e,"_blank");return t?e:null},i.unsafe_open_tab=function(e){return e=i.mockableInternalMethods._parse_target(e,{checkDomainWhitelist:!1,httpsOnly:!1}),window.open(e,"_blank")},i.open_mail=function(e,t){void 0===t&&(t="_blank"),a.assert(e.startsWith("mailto:"),"Mailto link is malformed."),window.open(e,t)};var s=[];function r(){return window.performance||null}i.onBrowserRedirect=function(e){s.push(e)},i.redirect=function(e,t){void 0===t&&(t=window);for(var n="string"==typeof e?e:e.toString(),o=0,r=s;o<r.length;o++)(0,r[o])(n);e=i.mockableInternalMethods._parse_target(e,{target_window:t});i.mockableInternalMethods._navigate(e,t)},i.replace_location=function(e){e=i.mockableInternalMethods._parse_target(e);window.location.replace(e)},i.reload=function(e){void 0===e&&(e=!1),window.location.reload(e)},i.performance=r,i.now=function(){var e=r();return e&&e.now&&e.timing?Math.round(e.now()+e.timing.navigationStart):Date.now()},i.unsafeRedirect=function(e){e=i.mockableInternalMethods._parse_target(e,{checkDomainWhitelist:!1,httpsOnly:!1}),i.mockableInternalMethods._navigate(e)}}),define("modules/core/browser_detection",["require","exports"],function(e,o){"use strict";function t(e,t){var n=/win(dows)? 9x 4\.90/.test(e)||/windows me/.test(e),e={windows3_11:/win16/.test(e),windows95:/windows 95/.test(e)||/win95/.test(e)||/windows_95/.test(e),windows98:!n&&(/windows 98/.test(e)||/win98/.test(e)),windowsCE:/windows ce/.test(e),windowsME:n,windowsNT4_0:/windows nt 4\.0/.test(e)||/winnt4.0/.test(e)||/winnt/.test(e)||/windows nt([^ ]| [^0-9])/.test(e),windows2000:/windows nt 5\.0/.test(e)||/windows 2000/.test(e),windowsXP:/windows nt 5\.1/.test(e)||/windows xp/.test(e),windowsXPx64:/windows nt 5\.2/.test(e),windowsVista:/windows nt 6\.0/.test(e)||/windows vista/.test(e),windows7:/windows nt 6\.1/.test(e),windows8:/windows nt 6\.2/.test(e),windows8_1:/windows nt 6\.3/.test(e),windows10:/windows nt 6\.4/.test(e)||/windows nt 10\.0/.test(e),win7OrLower:!1,win8OrHigher:!1};return e.win7OrLower=e.windows3_11||e.windows95||e.windows98||e.windowsCE||e.windowsME||e.windowsNT4_0||e.windows2000||e.windowsXP||e.windowsXPx64||e.windowsVista||e.windows7,e.win8OrHigher=t&&!e.win7OrLower,e}function n(e){void 0===e&&(e=navigator.userAgent);var t,n,o,t=(n=(t=e).toLowerCase(),o=/(ipad)/.exec(n)||/(edge)[ \/]([\w.]+)/.exec(n)||/(edg)[ \/]([\w.]+)/.exec(n)||/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||/(trident).*? rv:([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[],"webkit"===(n=null!=(e=n.match(/version\/([\d.]+)/i))?o[1]:null)&&(n=null!=e?e[1]:null),{browser:o[1]||"",version:n||o[2]||"0",userAgent:t});return"trident"===t.browser&&(t.browser="msie"),t}function r(e){return void 0===e&&(e=navigator.plugins||[]),Array.from(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.INTERNAL_FILE_DATA_TRANSFER_TYPE=o.is_input_webkitdirectory_supported=o.is_mobile_or_tablet=o.is_tablet=o.is_android=o.is_supported_mobile_browser=o.checkBrowserVersion=o.unsubscribeConnectivityStatusChange=o.subscribeConnectivityStatusChange=o.isOnline=o.is_high_density_display=o.msie_version_at_most=o.pluginNames=o.plugins=o.userAgent=o.version=o.browser_name=o.facebookWebView=o.iOS=o.ipod=o.iphone=o.windowsInfo=o.windows=o.mac=o.webkit=o.mozilla=o.chromium=o.edgeChromium=o.edge=o.msie=o.opera=o.safari=o.chrome=o.ipad=o.get_plugins=o.get_browser_info=o.parseWindowsOsInfo=void 0,o.parseWindowsOsInfo=t,o.get_browser_info=n,o.get_plugins=r;var i=n();function s(e,t,n){return(n=void 0===n?!0:n)?Boolean(e)&&parseInt(o.version,10)>=t:Boolean(e)&&parseInt(o.version,10)<=t}function a(e){e=((e=void 0===e?navigator.userAgent:e)||"").toLowerCase();return o.ipod||o.iphone||-1!==e.indexOf("tizen")||-1!==e.indexOf("android")&&-1!==e.indexOf("mobile")||-1!==e.indexOf("bb10")||-1!==e.indexOf("netfront")||/windows phone|opera mini|blackberry|nokia/.test(e)||-1!==e.indexOf("firefox")&&-1!==e.indexOf("mobile")||-1!==e.indexOf("googlebot-mobile")||-1!==e.indexOf("iemobile")||-1!==e.indexOf("opera mobi")||/ucweb|ucbrowser/.test(e)||-1!==e.indexOf("microsoft office mobile")}function u(e){e=((e=void 0===e?navigator.userAgent:e)||"").toLowerCase();return-1!==e.indexOf("android")||-1!==e.indexOf("silk")}function c(e){return void 0===e&&(e=navigator.userAgent),o.ipad||u(e)&&!a(e)}o.ipad="ipad"===i.browser||void 0,o.chrome="chrome"===i.browser||void 0,o.safari=!("webkit"!==i.browser&&!Boolean(o.ipad))||void 0,o.opera="opera"===i.browser||void 0,o.msie="msie"===i.browser||void 0,o.edge="edge"===i.browser||"edg"===i.browser,o.edgeChromium=function(){return"edg"===n().browser},o.chromium=function(){return Boolean(o.chrome)||o.edgeChromium()},o.mozilla="mozilla"===i.browser||void 0,o.webkit=!("webkit"!==i.browser&&!Boolean(o.ipad)&&!Boolean(o.chrome))||void 0,o.mac=Boolean(/(macintosh)/.exec(navigator.userAgent.toLowerCase())),o.windows=/win(16|nt|dows)/.test(navigator.userAgent.toLowerCase()),o.windowsInfo=t(navigator.userAgent.toLowerCase(),o.windows),o.iphone=Boolean(/(iphone)/.exec(navigator.userAgent.toLowerCase())),o.ipod=Boolean(/(ipod)/.exec(navigator.userAgent.toLowerCase())),o.iOS=o.ipad||o.ipod||o.iphone,o.facebookWebView=Boolean(/(FBAN)|(FBAV)/.exec(navigator.userAgent)),o.browser_name=i.browser,o.version=i.version,o.userAgent=i.userAgent,o.plugins=r(),o.pluginNames=o.plugins.map(function(e){return e.name}),o.msie_version_at_most=function(e){return s(o.msie,e,!1)},o.is_high_density_display=function(){return!!window.matchMedia&&Boolean(window.matchMedia("(-webkit-min-device-pixel-ratio: 1.1), (min-resolution: 192dpx), (min-resolution: 1.1dppx)").matches)},o.isOnline=function(){return navigator.onLine},o.subscribeConnectivityStatusChange=function(e){window.addEventListener("online",e),window.addEventListener("offline",e)},o.unsubscribeConnectivityStatusChange=function(e){window.removeEventListener("online",e),window.removeEventListener("offline",e)},o.checkBrowserVersion=s,o.is_supported_mobile_browser=a,o.is_android=u,o.is_tablet=c,o.is_mobile_or_tablet=function(e){return a(e=void 0===e?navigator.userAgent:e)||c(e)},o.is_input_webkitdirectory_supported=function(){return"webkitdirectory"in document.createElement("input")},o.INTERNAL_FILE_DATA_TRANSFER_TYPE=o.msie?"text":o.edge?"text/plain":"application/x-dropbox-file-list"}),define("modules/core/dom",["require","exports","tslib","ts-key-enum"],function(e,l,s,d){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.isElementInViewport=l.keepFocusIn=l.getTabbableElementsIn=l.getFocusableElementsIn=l.clone_position=l.scroll_to=l.scroll_unlock_document=l.scroll_lock_document=l.is_page_scrollable=l.scroll_offsets=l.is_content_editable=l.is_input=l.focus_in_input=void 0,l.focus_in_input=function(){return l.is_input(document.activeElement)},l.is_input=function(e){return null!=e&&(["INPUT","TEXTAREA","SELECT"].includes(e.tagName)&&!(e.type in["submit","button"])||l.is_content_editable(e))};var n=!(l.is_content_editable=function(e){return null!=e&&e.hasAttribute&&e.hasAttribute("contenteditable")&&"false"!==e.getAttribute("contenteditable").toLowerCase()}),o=null,r=0,i=null;l.scroll_offsets=function(){var e,t;return n||(window.addEventListener("scroll",function(){return o=null}),n=!0),l.is_page_scrollable()?o||(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft,o={0:e,1:t,left:e,top:t}):(t=i.top,e=i.left,o={0:e,1:t,left:e,top:t}),o},l.is_page_scrollable=function(){return!document.documentElement.classList.contains("no-scroll")},l.scroll_lock_document=function(){r++;var e,t,n=document.documentElement;n.classList.contains("no-scroll")||(e=-1*(i=l.scroll_offsets()).top+"px",t=-1*i.left+"px",n.style.top=e,n.style.left=t,n.classList.add("no-scroll"))},l.scroll_unlock_document=function(){0<r&&r--;var e,t,n=document.documentElement;0===r&&n.classList.contains("no-scroll")&&i&&(e=i.top,t=i.left,n.style.top="",n.style.left="",n.classList.remove("no-scroll"),l.scroll_to(t,e+1),l.scroll_to(t,e-1),l.scroll_to(t,e))},l.scroll_to=function(e,t){var n=Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight);e=Math.max(e,0),(t=Math.max(t,0))>l.scroll_offsets().top&&(t=Math.min(t,n-document.documentElement.clientHeight)),l.is_page_scrollable()?(window.scrollTo(e,t),o={0:e,1:t,left:e,top:t}):(i={0:e,1:t,left:e,top:t},n=-1*e+"px",(e=document.documentElement).style.top=-1*t+"px",e.style.left=n)},l.clone_position=function(e,t,n){var o=s.__assign(s.__assign({},{setLeft:!0,setTop:!0,setWidth:!0,setHeight:!0,offsetTop:0,offsetLeft:0}),n),r=t.getBoundingClientRect(),i={top:0,left:0},n=null;"absolute"===getComputedStyle(e).position&&(n=e.offsetParent||e)&&(i=s.__assign({},n.getBoundingClientRect())),n===document.body&&(i.left-=document.body.offsetLeft,i.top-=document.body.offsetTop),o.setLeft&&(n=r.left-i.left+o.offsetLeft+"px",e.style.left=n),o.setTop&&(i=r.top-i.top+o.offsetTop+"px",e.style.top=i),o.setWidth&&(e.style.width=t.offsetWidth+"px"),o.setHeight&&(e.style.height=t.offsetHeight+"px")},l.getFocusableElementsIn=function(e,t){if(!(n=e instanceof Element||e instanceof Node?e:n))return[];var n=n.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),n=Array.from(n).filter(function(e){if(!(e instanceof HTMLElement))return!1;var t=e.offsetWidth&&e.offsetHeight,e=e.getClientRects().length;return!(!t&&!e)});return t?n.filter(function(e){return!e.matches('*[tabindex="-1"]')}):n},l.getTabbableElementsIn=function(e){var e=l.getFocusableElementsIn(e,!0),t=[],n=[];return e.forEach(function(e){(e.matches('*:not([tabindex]), *[tabindex="0"]')?t:n).push(e)}),n.length?(n.sort(function(e,t){return parseInt(e.getAttribute("tabindex"),10)-parseInt(t.getAttribute("tabindex"),10)}),n.concat(t)):t},l.keepFocusIn=function(e,t,n,o){if(n.key===d.Key.Tab){var r=l.getTabbableElementsIn(e);if(r.length){var i=r.indexOf(t);if(-1!==i)n.shiftKey?0===i?(n.preventDefault(),r[r.length-1].focus()):o&&r[i-1]&&(n.preventDefault(),r[i-1].focus()):i===r.length-1?(n.preventDefault(),r[0].focus()):o&&r[i+1]&&(n.preventDefault(),r[i+1].focus());else{n.preventDefault();e=l.getFocusableElementsIn(e);n.shiftKey&&e.reverse();t=e.indexOf(t);if(-1===t)r[0].focus();else{for(var s=null,a=0,u=e.slice(t);a<u.length;a++){var c=u[a];if(r.includes(c)){s=c;break}}(s||(n.shiftKey?r[r.length-1]:r[0])).focus()}}}}},l.isElementInViewport=function(e,t){if(void 0===t&&(t=0),!e)return!1;e=e.getBoundingClientRect().top;return 0<=e+t&&e-t<=window.innerHeight}}),define("modules/core/html",["require","exports","tslib","lodash"],function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTML=t.isHTML=void 0,o=n.__importStar(o);function r(e){return"&#"+e.charCodeAt(0)+";"}function i(e){return(""+e).replace(s,r)}var s=/[^\w@\.\ \-\(\)\,\$~%#\[\]\{\}\!\^]/g;t.isHTML=function(e){return"object"==typeof e&&"function"==typeof e.toHTML};a.prototype.toHTML=function(){return this._str_DONT_TOUCH},a.prototype.toString=function(){return"[object HTML]"},a.tmpl=function(e,t){var n;/[^\w:.-]/.test(e)||(e=(n=document.getElementById(e)).innerHTML,window.CSP_SCRIPT_NONCE!==(n.nonce||n.getAttribute("nonce"))&&(e=""));e=e.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.*?)%>/g,"',__no_conflict_HTML__._raw_escape($1),'").split("<%").join("');").split("%>").join("p.push('"),e=new Function("__no_conflict_HTML__","TEMPLATE_DATA","var p=[],print=function(){p.push.apply(p,arguments);}; p.push('"+e+"'); return new __no_conflict_HTML__(p.join('').trim());"),e=o.partial(e,a);return t?e(t):e},a.escape=function(e){return e instanceof a?e:new a(i(e))},a._raw_escape=function(e){return e instanceof a?e.toHTML():"number"==typeof e?e:i(e)},n=a;function a(e){this._str_DONT_TOUCH=e}t.HTML=n}),define("modules/core/notify",["require","exports","tslib","dompurify","react-dom","react","modules/core/accessible_announce","modules/core/html"],function(e,t,n,o,s,a,r,i){"use strict";var u,c;Object.defineProperty(t,"__esModule",{value:!0}),t.Notify=void 0,o=n.__importStar(o),s=n.__importStar(s),a=n.__importStar(a),(c=u=u||{})[c.Error=0]="Error",c[c.Warning=1]="Warning",c[c.Info=2]="Info",c[c.Success=3]="Success";function l(e){if(!e.message)return null;var t="";switch(e.notificationType){case u.Error:t="server-error";break;case u.Warning:t="server-warning";break;case u.Info:t="server-info";break;case u.Success:t="server-success"}var n="notify-wrapper"+(e.hasTopNotification?" with-top-notification":"");return a.createElement("div",{id:"notify-wrapper",className:n},a.createElement("div",{id:"notify",className:t,style:{display:"inline-block"}},i.isHTML(e.message)?a.createElement("span",{id:"notify-msg",className:"notify-msg",dangerouslySetInnerHTML:{__html:o.sanitize(e.message.toHTML())}}):a.createElement("span",{id:"notify-msg",className:"notify-msg"},e.message)))}var d,p=(d=a.Component,n.__extends(_,d),_.prototype.show=function(e,t,n){var o=0<document.querySelectorAll(".maestro .has-top-notification").length;this.setState({message:e,hasTopNotification:o,notificationType:t,onHide:n,visible:!0})},_.prototype.hide=function(){this.setState({visible:!1})},_.prototype.render=function(){var e=this.state.visible?"notify-show":"notify-hide";return a.createElement("div",{className:e},a.createElement(l,{message:this.state.message,hasTopNotification:this.state.hasTopNotification,notificationType:this.state.notificationType}))},_),n=(h.prototype.customSuccess=function(e,t,n,o){return r.AccessibleAnnounce.polite(t,(n=void 0===n?10:n)+1),this.show(e,n,u.Success,o)},h.prototype.success=function(e,t,n){return r.AccessibleAnnounce.polite(e,(t=void 0===t?10:t)+1),this.show(e,t,u.Success,n)},h.prototype.error=function(e,t,n){return r.AccessibleAnnounce.assertive(e,(t=void 0===t?10:t)+1),this.show(e,t,u.Error,n)},h.prototype.warning=function(e,t,n){return r.AccessibleAnnounce.polite(e,(t=void 0===t?10:t)+1),this.show(e,t,u.Warning,n)},h.prototype.info=function(e,t,n){return r.AccessibleAnnounce.polite(e,(t=void 0===t?10:t)+1),this.show(e,t,u.Info,n)},h.prototype.clear=function(){this._portal.current&&(this._portal.current.hide(),this._timeout&&(clearTimeout(this._timeout),this._timeout=null))},h.prototype.isShown=function(){return null!=this._timeout},h.prototype.current=function(){return this._timeout},h.prototype.show=function(e,t,n,o){var r=this,i=1e3*t;return this._portal.current?this._portal.current.show(e,n,o):((t=document.createElement("div")).classList.add("notify-portal-component"),document.body.appendChild(t),s.render(a.createElement(p,{ref:this._portal}),t,function(){r._portal.current&&r._portal.current.show(e,n,o)})),null!=this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){r._portal.current&&r._portal.current.hide(),r._timeout=null,o&&o()},i)},h);function h(){this._portal=a.createRef()}function _(e){e=d.call(this,e)||this;return e.state={message:"",hasTopNotification:!1,notificationType:u.Info,visible:!1},e}t.Notify=new n}),define("modules/core/uri",["require","exports","modules/core/exception"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryComponent=t.URI=void 0;var s=/^(?:([^:\/\\?#]+):)?(?:[\/\\]{2}([^\/\\?#]*))?([^?#]*)(?:\?([^#]*))?(?:[#](.*))?$/,o=/^[a-zA-Z][a-zA-Z0-9+.\-]*$/,a=(i.parseString=function(e){if(!e)return{};var r={};return e.split("&").forEach(function(e){var t,n,o;""!==e&&(o=e.split("="),t=i.decode(o[0]),n=i.decode(o.slice(1).join("=")),r.hasOwnProperty(t)?(e=void 0,(e="string"==typeof(o=r[t])?[o]:void 0===o?[]:o).push(n),r[t]=e):r[t]=n)}),r},i.prototype.add=function(e,t){if("string"==typeof e)t&&(Array.isArray(t)?this.dict[e]=t.map(String):this.dict[e]=String(t));else for(var n in e){var o;!e.hasOwnProperty(n)||null!=(o=e[n])&&(Array.isArray(o)?this.dict[n]=o.map(String):this.dict[n]=String(o))}return this},i.prototype.remove=function(e){return delete this.dict[e],this},i.prototype.replace=function(e){return this.dict=e,this},i.prototype.toString=function(){for(var n=[],e=Object.keys(this.dict).sort(),o=this,t=0,r=e;t<r.length;t++)!function(t){var e;o.dict.hasOwnProperty(t)&&(e=o.dict[t],Array.isArray(e)?e.forEach(function(e){n.push(i.encode(t)+"="+i.encode(e))}):n.push(i.encode(t)+"="+i.encode(e)))}(r[t]);return n.length?n.join("&"):""},i.decode=function(e){return null==e?"":r.decode(e.replace(/\+/g,"%20"))},i.encode=function(e){return null==e?"":r.encode(e).replace(/%20/g,"+")},i);function i(e){void 0===e&&(e={}),this.dict={},this.add(e)}t.QueryComponent=a;var r=(u.prototype.initFromObject=function(e){this.setScheme(e.scheme),this.authority=e.authority||"",this.path=e.path||"",this.setQuery(e.query),this.fragment=e.fragment||""},u.prototype.getScheme=function(){return this.scheme},u.prototype.getAuthority=function(){return this.authority},u.prototype.getPath=function(){return this.path},u.prototype.getQuery=function(){return this.query.dict},u.prototype.getFragment=function(){return this.fragment},u.prototype.setScheme=function(e){var t=!(e=void 0===e?"":e)||Boolean(e.match(o));return n.assert(t,"Invalid scheme",{exc_extra:{scheme_param:e}}),this.scheme=e,this},u.prototype.setAuthority=function(e){return this.authority=e=void 0===e?"":e,this},u.prototype.setPath=function(e){return this.path=e=void 0===e?"":e,this},u.prototype.setQuery=function(e){return this.query=new a(e=void 0===e?{}:e),this},u.prototype.setFragment=function(e){return this.fragment=e=void 0===e?"":e,this},u.prototype.updateQuery=function(e,t){return this.query.add(e,t),this},u.prototype.removeQuery=function(e){return this.query.remove(e),this},u.prototype.clone=function(){return new u(this.toObject())},u.prototype.toObject=function(){return{scheme:this.getScheme(),authority:this.getAuthority(),path:this.getPath(),query:this.getQuery(),fragment:this.getFragment()}},u.prototype.toString=function(){var e="";this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+u.encode(this.authority,":@[]")),this.path&&(n.assert(!this.authority||!this.path.length||"/"===this.path[0],'Path must start with a "/" if URI is not relative'),e+=u.encode(this.path,"/"));var t=this.query.toString();return t&&(e+="?"+t),this.fragment&&(e+="#"+u.encode(this.fragment,":@[]/&=+?#!")),e},u.parse=function(e){var t=String(e).match(s)||[],n=t[1],o=t[2],r=t[3],i=t[4],e=t[5],t=new u;return t.setScheme(n),t.setAuthority(u.decode(o)),t.setPath(u.decode(r)),t.setQuery(a.parseString(i)),t.setFragment(u.decode(e)),t},u.decode=function(e){return e?decodeURIComponent(e):""},u.encode=function(e,t){if(void 0===t&&(t=""),!e)return"";e=encodeURIComponent(e);for(var n=0,o=t+="~";n<o.length;n++){var r=o[n],i=encodeURIComponent(r);e=e.replace(new RegExp(i,"g"),r)}return e},u.encode_parts=function(e,t){return e.split(t=void 0===t?"/":t).map(function(e){return u.encode(e)}).join(t)},u.Query=a,u);function u(e){void 0===e&&(e={}),this.query=new a,this.initFromObject(e)}t.URI=r}),define("prod_assets_web_modules/ts-key-enum",["./common/_commonjsHelpers"],function(e){"use strict";var t=e.createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.Key||(t.Key={})).Unidentified="Unidentified",t.Alt="Alt",t.AltGraph="AltGraph",t.CapsLock="CapsLock",t.Control="Control",t.Fn="Fn",t.FnLock="FnLock",t.Hyper="Hyper",t.Meta="Meta",t.NumLock="NumLock",t.ScrollLock="ScrollLock",t.Shift="Shift",t.Super="Super",t.Symbol="Symbol",t.SymbolLock="SymbolLock",t.Enter="Enter",t.Tab="Tab",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.ArrowUp="ArrowUp",t.End="End",t.Home="Home",t.PageDown="PageDown",t.PageUp="PageUp",t.Backspace="Backspace",t.Clear="Clear",t.Copy="Copy",t.CrSel="CrSel",t.Cut="Cut",t.Delete="Delete",t.EraseEof="EraseEof",t.ExSel="ExSel",t.Insert="Insert",t.Paste="Paste",t.Redo="Redo",t.Undo="Undo",t.Accept="Accept",t.Again="Again",t.Attn="Attn",t.Cancel="Cancel",t.ContextMenu="ContextMenu",t.Escape="Escape",t.Execute="Execute",t.Find="Find",t.Finish="Finish",t.Help="Help",t.Pause="Pause",t.Play="Play",t.Props="Props",t.Select="Select",t.ZoomIn="ZoomIn",t.ZoomOut="ZoomOut",t.BrightnessDown="BrightnessDown",t.BrightnessUp="BrightnessUp",t.Eject="Eject",t.LogOff="LogOff",t.Power="Power",t.PowerOff="PowerOff",t.PrintScreen="PrintScreen",t.Hibernate="Hibernate",t.Standby="Standby",t.WakeUp="WakeUp",t.AllCandidates="AllCandidates",t.Alphanumeric="Alphanumeric",t.CodeInput="CodeInput",t.Compose="Compose",t.Convert="Convert",t.Dead="Dead",t.FinalMode="FinalMode",t.GroupFirst="GroupFirst",t.GroupLast="GroupLast",t.GroupNext="GroupNext",t.GroupPrevious="GroupPrevious",t.ModeChange="ModeChange",t.NextCandidate="NextCandidate",t.NonConvert="NonConvert",t.PreviousCandidate="PreviousCandidate",t.Process="Process",t.SingleCandidate="SingleCandidate",t.HangulMode="HangulMode",t.HanjaMode="HanjaMode",t.JunjaMode="JunjaMode",t.Eisu="Eisu",t.Hankaku="Hankaku",t.Hiragana="Hiragana",t.HiraganaKatakana="HiraganaKatakana",t.KanaMode="KanaMode",t.KanjiMode="KanjiMode",t.Katakana="Katakana",t.Romaji="Romaji",t.Zenkaku="Zenkaku",t.ZenkakuHanaku="ZenkakuHanaku",t.F1="F1",t.F2="F2",t.F3="F3",t.F4="F4",t.F5="F5",t.F6="F6",t.F7="F7",t.F8="F8",t.F9="F9",t.F10="F10",t.F11="F11",t.F12="F12",t.F13="F13",t.F14="F14",t.F15="F15",t.F16="F16",t.F17="F17",t.F18="F18",t.F19="F19",t.F20="F20",t.Soft1="Soft1",t.Soft2="Soft2",t.Soft3="Soft3",t.Soft4="Soft4",t.AppSwitch="AppSwitch",t.Call="Call",t.Camera="Camera",t.CameraFocus="CameraFocus",t.EndCall="EndCall",t.GoBack="GoBack",t.GoHome="GoHome",t.HeadsetHook="HeadsetHook",t.LastNumberRedial="LastNumberRedial",t.Notification="Notification",t.MannerMode="MannerMode",t.VoiceDial="VoiceDial",t.ChannelDown="ChannelDown",t.ChannelUp="ChannelUp",t.MediaFastForward="MediaFastForward",t.MediaPause="MediaPause",t.MediaPlay="MediaPlay",t.MediaPlayPause="MediaPlayPause",t.MediaRecord="MediaRecord",t.MediaRewind="MediaRewind",t.MediaStop="MediaStop",t.MediaTrackNext="MediaTrackNext",t.MediaTrackPrevious="MediaTrackPrevious",t.AudioBalanceLeft="AudioBalanceLeft",t.AudioBalanceRight="AudioBalanceRight",t.AudioBassDown="AudioBassDown",t.AudioBassBoostDown="AudioBassBoostDown",t.AudioBassBoostToggle="AudioBassBoostToggle",t.AudioBassBoostUp="AudioBassBoostUp",t.AudioBassUp="AudioBassUp",t.AudioFaderFront="AudioFaderFront",t.AudioFaderRear="AudioFaderRear",t.AudioSurroundModeNext="AudioSurroundModeNext",t.AudioTrebleDown="AudioTrebleDown",t.AudioTrebleUp="AudioTrebleUp",t.AudioVolumeDown="AudioVolumeDown",t.AudioVolumeMute="AudioVolumeMute",t.AudioVolumeUp="AudioVolumeUp",t.MicrophoneToggle="MicrophoneToggle",t.MicrophoneVolumeDown="MicrophoneVolumeDown",t.MicrophoneVolumeMute="MicrophoneVolumeMute",t.MicrophoneVolumeUp="MicrophoneVolumeUp",t.TV="TV",t.TV3DMode="TV3DMode",t.TVAntennaCable="TVAntennaCable",t.TVAudioDescription="TVAudioDescription",t.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",t.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",t.TVContentsMenu="TVContentsMenu",t.TVDataService="TVDataService",t.TVInput="TVInput",t.TVInputComponent1="TVInputComponent1",t.TVInputComponent2="TVInputComponent2",t.TVInputComposite1="TVInputComposite1",t.TVInputComposite2="TVInputComposite2",t.TVInputHDMI1="TVInputHDMI1",t.TVInputHDMI2="TVInputHDMI2",t.TVInputHDMI3="TVInputHDMI3",t.TVInputHDMI4="TVInputHDMI4",t.TVInputVGA1="TVInputVGA1",t.TVMediaContext="TVMediaContext",t.TVNetwork="TVNetwork",t.TVNumberEntry="TVNumberEntry",t.TVPower="TVPower",t.TVRadioService="TVRadioService",t.TVSatellite="TVSatellite",t.TVSatelliteBS="TVSatelliteBS",t.TVSatelliteCS="TVSatelliteCS",t.TVSatelliteToggle="TVSatelliteToggle",t.TVTerrestrialAnalog="TVTerrestrialAnalog",t.TVTerrestrialDigital="TVTerrestrialDigital",t.TVTimer="TVTimer",t.AVRInput="AVRInput",t.AVRPower="AVRPower",t.ColorF0Red="ColorF0Red",t.ColorF1Green="ColorF1Green",t.ColorF2Yellow="ColorF2Yellow",t.ColorF3Blue="ColorF3Blue",t.ColorF4Grey="ColorF4Grey",t.ColorF5Brown="ColorF5Brown",t.ClosedCaptionToggle="ClosedCaptionToggle",t.Dimmer="Dimmer",t.DisplaySwap="DisplaySwap",t.DVR="DVR",t.Exit="Exit",t.FavoriteClear0="FavoriteClear0",t.FavoriteClear1="FavoriteClear1",t.FavoriteClear2="FavoriteClear2",t.FavoriteClear3="FavoriteClear3",t.FavoriteRecall0="FavoriteRecall0",t.FavoriteRecall1="FavoriteRecall1",t.FavoriteRecall2="FavoriteRecall2",t.FavoriteRecall3="FavoriteRecall3",t.FavoriteStore0="FavoriteStore0",t.FavoriteStore1="FavoriteStore1",t.FavoriteStore2="FavoriteStore2",t.FavoriteStore3="FavoriteStore3",t.Guide="Guide",t.GuideNextDay="GuideNextDay",t.GuidePreviousDay="GuidePreviousDay",t.Info="Info",t.InstantReplay="InstantReplay",t.Link="Link",t.ListProgram="ListProgram",t.LiveContent="LiveContent",t.Lock="Lock",t.MediaApps="MediaApps",t.MediaAudioTrack="MediaAudioTrack",t.MediaLast="MediaLast",t.MediaSkipBackward="MediaSkipBackward",t.MediaSkipForward="MediaSkipForward",t.MediaStepBackward="MediaStepBackward",t.MediaStepForward="MediaStepForward",t.MediaTopMenu="MediaTopMenu",t.NavigateIn="NavigateIn",t.NavigateNext="NavigateNext",t.NavigateOut="NavigateOut",t.NavigatePrevious="NavigatePrevious",t.NextFavoriteChannel="NextFavoriteChannel",t.NextUserProfile="NextUserProfile",t.OnDemand="OnDemand",t.Pairing="Pairing",t.PinPDown="PinPDown",t.PinPMove="PinPMove",t.PinPToggle="PinPToggle",t.PinPUp="PinPUp",t.PlaySpeedDown="PlaySpeedDown",t.PlaySpeedReset="PlaySpeedReset",t.PlaySpeedUp="PlaySpeedUp",t.RandomToggle="RandomToggle",t.RcLowBattery="RcLowBattery",t.RecordSpeedNext="RecordSpeedNext",t.RfBypass="RfBypass",t.ScanChannelsToggle="ScanChannelsToggle",t.ScreenModeNext="ScreenModeNext",t.Settings="Settings",t.SplitScreenToggle="SplitScreenToggle",t.STBInput="STBInput",t.STBPower="STBPower",t.Subtitle="Subtitle",t.Teletext="Teletext",t.VideoModeNext="VideoModeNext",t.Wink="Wink",t.ZoomToggle="ZoomToggle",t.SpeechCorrectionList="SpeechCorrectionList",t.SpeechInputToggle="SpeechInputToggle",t.Close="Close",t.New="New",t.Open="Open",t.Print="Print",t.Save="Save",t.SpellCheck="SpellCheck",t.MailForward="MailForward",t.MailReply="MailReply",t.MailSend="MailSend",t.LaunchCalculator="LaunchCalculator",t.LaunchCalendar="LaunchCalendar",t.LaunchContacts="LaunchContacts",t.LaunchMail="LaunchMail",t.LaunchMediaPlayer="LaunchMediaPlayer",t.LaunchMusicPlayer="LaunchMusicPlayer",t.LaunchMyComputer="LaunchMyComputer",t.LaunchPhone="LaunchPhone",t.LaunchScreenSaver="LaunchScreenSaver",t.LaunchSpreadsheet="LaunchSpreadsheet",t.LaunchWebBrowser="LaunchWebBrowser",t.LaunchWebCam="LaunchWebCam",t.LaunchWordProcessor="LaunchWordProcessor",t.LaunchApplication1="LaunchApplication1",t.LaunchApplication2="LaunchApplication2",t.LaunchApplication3="LaunchApplication3",t.LaunchApplication4="LaunchApplication4",t.LaunchApplication5="LaunchApplication5",t.LaunchApplication6="LaunchApplication6",t.LaunchApplication7="LaunchApplication7",t.LaunchApplication8="LaunchApplication8",t.LaunchApplication9="LaunchApplication9",t.LaunchApplication10="LaunchApplication10",t.LaunchApplication11="LaunchApplication11",t.LaunchApplication12="LaunchApplication12",t.LaunchApplication13="LaunchApplication13",t.LaunchApplication14="LaunchApplication14",t.LaunchApplication15="LaunchApplication15",t.LaunchApplication16="LaunchApplication16",t.BrowserBack="BrowserBack",t.BrowserFavorites="BrowserFavorites",t.BrowserForward="BrowserForward",t.BrowserHome="BrowserHome",t.BrowserRefresh="BrowserRefresh",t.BrowserSearch="BrowserSearch",t.BrowserStop="BrowserStop",t.Decimal="Decimal",t.Key11="Key11",t.Key12="Key12",t.Multiply="Multiply",t.Add="Add",t.Divide="Divide",t.Subtract="Subtract",t.Separator="Separator"});return e.getDefaultExportFromCjs(t)}),define("prod_assets_web_modules/ts-keycode-enum",["./common/_commonjsHelpers"],function(e){"use strict";var t=e.createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.Key||(t.Key={}))[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Shift=16]="Shift",t[t.Ctrl=17]="Ctrl",t[t.Alt=18]="Alt",t[t.PauseBreak=19]="PauseBreak",t[t.CapsLock=20]="CapsLock",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.LeftArrow=37]="LeftArrow",t[t.UpArrow=38]="UpArrow",t[t.RightArrow=39]="RightArrow",t[t.DownArrow=40]="DownArrow",t[t.Insert=45]="Insert",t[t.Delete=46]="Delete",t[t.Zero=48]="Zero",t[t.ClosedParen=48]="ClosedParen",t[t.One=49]="One",t[t.ExclamationMark=49]="ExclamationMark",t[t.Two=50]="Two",t[t.AtSign=50]="AtSign",t[t.Three=51]="Three",t[t.PoundSign=51]="PoundSign",t[t.Hash=51]="Hash",t[t.Four=52]="Four",t[t.DollarSign=52]="DollarSign",t[t.Five=53]="Five",t[t.PercentSign=53]="PercentSign",t[t.Six=54]="Six",t[t.Caret=54]="Caret",t[t.Hat=54]="Hat",t[t.Seven=55]="Seven",t[t.Ampersand=55]="Ampersand",t[t.Eight=56]="Eight",t[t.Star=56]="Star",t[t.Asterik=56]="Asterik",t[t.Nine=57]="Nine",t[t.OpenParen=57]="OpenParen",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.LeftWindowKey=91]="LeftWindowKey",t[t.RightWindowKey=92]="RightWindowKey",t[t.SelectKey=93]="SelectKey",t[t.Numpad0=96]="Numpad0",t[t.Numpad1=97]="Numpad1",t[t.Numpad2=98]="Numpad2",t[t.Numpad3=99]="Numpad3",t[t.Numpad4=100]="Numpad4",t[t.Numpad5=101]="Numpad5",t[t.Numpad6=102]="Numpad6",t[t.Numpad7=103]="Numpad7",t[t.Numpad8=104]="Numpad8",t[t.Numpad9=105]="Numpad9",t[t.Multiply=106]="Multiply",t[t.Add=107]="Add",t[t.Subtract=109]="Subtract",t[t.DecimalPoint=110]="DecimalPoint",t[t.Divide=111]="Divide",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.NumLock=144]="NumLock",t[t.ScrollLock=145]="ScrollLock",t[t.SemiColon=186]="SemiColon",t[t.Equals=187]="Equals",t[t.Comma=188]="Comma",t[t.Dash=189]="Dash",t[t.Period=190]="Period",t[t.UnderScore=189]="UnderScore",t[t.PlusSign=187]="PlusSign",t[t.ForwardSlash=191]="ForwardSlash",t[t.Tilde=192]="Tilde",t[t.GraveAccent=192]="GraveAccent",t[t.OpenBracket=219]="OpenBracket",t[t.ClosedBracket=221]="ClosedBracket",t[t.Quote=222]="Quote"});return e.getDefaultExportFromCjs(t)});

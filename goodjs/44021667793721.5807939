(this.$WP=this.$WP||[]).push(["UhC_bI",(e,t)=>{"use strict";var l,c,u,g,_,p=(e,t)=>{e.withScope(r=>{Object.entries(t.tags).forEach(([e,t])=>{r.setTag(e,t)}),t.extraData&&Object.entries(t.extraData).forEach(([e,t])=>{r.setExtra(e,t)}),e.captureException(t.error)})},d=!1,E=10,R=null,f=({drsInfo:a},i,{version:s,domainName:o},l="tripadvisor-web-app")=>Promise.all([t("xJD91H"),t("a3FWKi")]).then(([t,e])=>{var r,n;return d||(d=!0,r=`https://sentry@${o}/SentryProxy`,n=/\.dev(-[a-z]+)?\.tripadvisor(-preview)?\./.test(o)?"webml":/(hare(-[a-z]+)?|\.qa)\.tripadvisor(-preview)?\./.test(o)?"hare":"live",e={dsn:r,release:s,environment:n,includePaths:["rutabaga_cyclone"],integrations:[new e.CaptureConsole({levels:["error"]})],beforeSend:e=>(E===Math.ceil(5)&&null===R&&(R=setTimeout(()=>{E=10,R=null},6e4)),0===E?null:(E--,e&&e.exception&&e.exception.values&&e.exception.values.forEach(e=>{e&&e.stacktrace&&e.stacktrace.frames&&e.stacktrace.frames.forEach(e=>{e&&e.filename&&e.filename.includes("t1.tacdn.com")&&(e.filename=e.filename.replace(/session_id(.*)(?=&)/,"session_id=STRIPPED_BY_SENTRY"))})}),e))},t.init(e),t.configureScope(e=>{e.setTag("hostName",o),e.setTag("runMode","production"),e.setTag("environment",n),e.setTag("logger","jsDefault"),e.setExtra("drsInfo",a),e.setExtra("sentryProject",l)}),"undefined"!=typeof __PRE_SENTRY_ERRORS__&&__PRE_SENTRY_ERRORS__&&__PRE_SENTRY_ERRORS__.forEach(e=>{p(t,{error:1===e.length&&"object"==typeof e[0]?e[0]:new Error(e.join(" ")),tags:{logger:"commonLogging"}})}),__PRE_SENTRY_ERRORS__=null),t.configureScope(e=>{e.setTag("page",i)}),t}),r=({installer:e,fallbackPageName:t,project:r="tripadvisor-web-app"}={})=>{var n=e||f,a=_.useContext(l),[i]=_.useContext(c),s=_.useContext(u),o=_.useRef({status:"uninitialized"});_.useEffect(()=>{"uninitialized"===o.current.status?o.current={status:"initializing",done:new Promise(e=>{g(()=>requestIdleCallback(()=>{n(a,i.page||t,s,r).then(()=>{e(),o.current={status:"initialized"}})}))})}:"initializing"===o.current.status?o.current={status:"initializing",done:o.current.done.then(()=>n(a,i.page,s,r))}:n(a,i.page,s,r)},[a,i,s,n,t,r])},n=e=>(r(e),null);return[()=>{e({LOGGER_COMMON_LOGGING:"commonLogging",Sentry:n,installSentry:f,sendSentryRequest:p,useSentry:r})},[e=>(l=e.Debug,c=e.Route,u=e.Environment),e=>g=e.requestTTICallback,e=>_=e]]},["2R4xv2","6NeHQy","cDcdfi"]]);

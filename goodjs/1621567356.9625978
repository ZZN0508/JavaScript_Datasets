(this.$WP=this.$WP||[]).push(["U-DhDC",(e,i)=>{"use strict";var t,s,n,o,r,a,c,l,d,u,v,p,m={tripId:0},S={Home:"HomeFeed",Profile:"ProfileFeed",Attractions:"AttractionList",Attraction_Review:"AttractionDetail",Attraction_Products:"AttractionList",AttractionProductReview:"AttractionProductReview",Hotels:"HotelList",SmartDeals:"HotelList",HotelHighlight:"HotelList",HotelsList:"HotelList",HotelsNear:"HotelList",Vacation_Packages:"HotelList",Hotel_Review:"HotelDetail",Restaurants:"RestaurantList",Restaurant_Review:"RestaurantDetail",ShowUserReviews:"ShowUserReview",ShowUserReviewsHotels:"ShowUserReview",ShowUserReviewsRestaurants:"ShowUserReview",ShowUserReviewsAttractions:"ShowUserReview",Recent:"Recent",Forums:"Forums",ShowTopic:"Forums",ShowForum:"Forums",Trips:"Trips",Map:"Map",MySaves:"MySaves",LastMinute:"HotelList",LocalMaps:"Map",LocalMapsRedesign:"Map",VacationRentalReview:"VacationRentalDetail"},k=e=>e&&S[e]?S[e].toUpperCase():void 0,C=e=>e&&(k(e)||k(e.replace(/^Mobile/,""))),w=({source:e,pageAsContext:i,saveObject:a,trackingContext:c,withSaveSession:d,withOrganizeSession:m})=>{var[{page:S}]=t.useContext(o),{sessionUuid:k,sessionOrder:w,incrementOrder:O}=t.useContext(l),{sessionUuid:g,sessionOrder:h,incrementOrder:f}=t.useContext(u),R=t.useContext(r).impressionId||"",x=c||i&&S||void 0,{id:U,type:H}=a||{},{isBoosted:T}=t.useContext(n),{tripId:b}=t.useContext(v),y=t.useMemo(()=>({detailId:U?""+U:void 0,saveType:H,isBoosted:T,tripId:b}),[U,H,T,b]),A=t.useMemo(()=>d?{sessionType:"SAVE",sessionUuid:k,sessionOrder:w}:m?{sessionType:"ORGANIZE",sessionUuid:g,sessionOrder:h}:null,[h,g,w,k,m,d]),[,I]=s(p);return[t.useCallback((i,t)=>{var s;d?O():m&&f();var n=y;t&&(n={detailId:""+t.id,saveType:t.type});var o,r,a=window.location.pathname,c="Unknown"===x?(null==(s=a.match(/^\/([a-zA-Z0-9_]+)/))?void 0:s[1])||"Home":x,l={elementClick:i.elementClick&&Object.assign({puid:R},n,{context:c},A,{},i.elementClick),filterClick:i.filterClick&&Object.assign({puid:R},i.filterClick),modalSuccess:i.modalSuccess&&Object.assign({puid:R},y,{context:c},A,{},i.modalSuccess),overflowClick:i.overflowClick&&Object.assign({puid:R},i.overflowClick,{},A),overflowSuccess:i.overflowSuccess&&Object.assign({puid:R},A,{},y,{},i.overflowSuccess),linkReferenceClick:i.linkReferenceClick&&Object.assign({puid:R},i.linkReferenceClick)};return I({interaction:{[e]:(o=l,r=o,["elementClick","modalSuccess"].forEach(e=>{r[e]&&r[e].context&&(r[e].context=C(r[e].context)||null),r[e]&&r[e].saveType&&(r[e].saveType=r[e].saveType.toUpperCase()),r[e]&&r[e].action&&(r[e].action=r[e].action.toUpperCase())}),["elementClick","filterClick","modalSuccess","overflowClick","overflowSuccess"].forEach(e=>{r[e]&&r[e].element&&(r[e].element=r[e].element.toUpperCase())}),["modalSuccess"].forEach(e=>{r[e]&&r[e].fields&&(r[e].fields=r[e].fields.map(e=>e.toUpperCase()))}),r)}})},[d,m,R,y,x,A,I,e,O,f]),R]},O=({children:e,source:i,pageAsContext:t,saveObject:s,trackingContext:n,withSaveSession:o,withOrganizeSession:r})=>{var[a,c]=w({source:i,pageAsContext:t,saveObject:s,trackingContext:n,withSaveSession:o,withOrganizeSession:r});return e(a,c)},g=()=>{var[e,i]=t.useState({sessionUuid:a(),sessionOrder:0});return t.useMemo(()=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder,incrementOrder:()=>i(e=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder+1})),resetSession:()=>i({sessionUuid:a(),sessionOrder:0})}),[e])},h=({children:e})=>{var i=g();return t.createElement(l.Provider,{value:i},e)},f=({children:e})=>{var i=g();return t.createElement(u.Provider,{value:i},e)};return[()=>{c={sessionUuid:a(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},l=t.createContext(c),d={sessionUuid:a(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},u=t.createContext(d),v=t.createContext(m),(p=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogInteraction"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"InteractionV4Input"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"logInteraction"},"name":{"kind":"Name","value":"logInteractionV4"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"interaction"},"value":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}}}],"directives":[]}]}}],"loc":{"start":0,"end":133}}')).__key=19431441965389,p.loc.source={body:"11ac3c32214d"},O.defaultProps={pageAsContext:!1,saveObject:void 0,trackingContext:void 0},e({LogInteractionMutation:p,OrganizeSessionProvider:f,OrganizeSessionTrackingContext:u,SaveSessionProvider:h,SaveSessionTrackingContext:l,SponsorshipTrackingContext:v,TripInteraction:O,getInteractionsContext:C,useTripInteraction:w})},[e=>t=e,e=>s=e.useMutation,e=>n=e.default,e=>o=e.Route,e=>r=e.TripTrackingImpression,e=>a=e.uuid]]},["cDcdfi","5X2em-","6KWcSB","2R4xv2","c_rvp5","O-HcBE"]]);
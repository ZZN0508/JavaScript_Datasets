(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"0mN4":function(e,t,r){"use strict";r("OGtf")("fixed",function(e){return function(){return e(this,"tt","","")}})},"5+nd":function(e,t,r){},"6LXm":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("rE2o"),r("ioFf"),r("/SS/");var n=i(r("aP5i")),o=i(r("aP5i")),a=i(r("oP/V"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r("gHYS");var p,m,m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(y,n.default.Component),p=y,(r=[{key:"done",value:function(){var e=this.props.src,t=this.props.className;this.imgDom&&(this.imgDom.src=e),this.ctnDom&&(this.ctnDom.className=(0,a.default)("lazyimg","lazyimg_loaded",t))}},{key:"error",value:function(){var e=this.props.errSrc,t=this.props.className;this.imgDom&&(this.imgDom.src=e,"dataset"in this.imgDom&&(this.imgDom.dataset.src=this.props.src)),this.ctnDom&&(this.ctnDom.className=(0,a.default)("lazyimg","lazyimg_loaded","lazyimg_error",t))}},{key:"load",value:function(e){var t=this;clearTimeout(this.retryTimer);var r=new Image,n=!1,o=r.onload=function(){n||(t.done(),n=!0),r.onload=null};r.onerror=function(){r.onerror=null,t.retryCount<(t.props.retryTimes||2)?t.retryTimer=setTimeout(function(){t.retryCount++,t.load(e)},10):t.error()},r.src=e,r.complete&&o()}},{key:"componentDidMount",value:function(){this.load(this.props.src)}},{key:"componentWillReceiveProps",value:function(e){e.src!==this.props.src&&(this.retryCount=0,this.load(e.src))}},{key:"render",value:function(){var e=this.props,t=e.lazySrc,r=e.className,e=e.alt;return n.default.createElement("div",{ref:this.getCtnRef,className:(0,a.default)("lazyimg",r)},n.default.createElement("img",{src:t,ref:this.getImgRef,className:"lazyimg_img",alt:e}))}}])&&c(p.prototype,r),m&&c(p,m),y);function y(){var t,e,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),d(f(f((e=this,r=u(y).apply(this,arguments),t=!r||"object"!==l(r)&&"function"!=typeof r?f(e):r))),"loaded",!1),d(f(f(t)),"retryCount",0),d(f(f(t)),"getCtnRef",function(e){e=o.default.findDOMNode(e);e&&(t.ctnDom=e)}),d(f(f(t)),"getImgRef",function(e){e=o.default.findDOMNode(e);e&&(t.imgDom=e)}),t.load=t.load.bind(f(f(t))),t}d(m,"defaultProps",{lazySrc:"//misc.360buyimg.com/mtd/pc/common/img/blank.png",src:"//misc.360buyimg.com/mtd/pc/common/img/blank.png",errSrc:"//misc.360buyimg.com/mtd/pc/common/img/blank.png"}),t.default=m},"7vG8":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("rE2o"),r("ioFf"),r("yt8O"),r("RW0V"),r("/SS/"),r("xfY5"),r("rGqo");var a=f(r("aP5i")),i=f(r("oP/V")),l=function(e){if(e&&e.__esModule)return e;var t,r={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&((t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{}).get||t.set?Object.defineProperty(r,n,t):r[n]=e[n]);return r.default=e,r}(r("WJWZ")),n=f(r("L6Ds")),c=f(r("6LXm")),o=r("0a0O"),u=r("HuLe"),s=r("szSY");function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);(t="function"==typeof Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})):t).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e})}return n}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r("rWie"),r("moPU"),r("5+nd"),r("L59q"),r("JsNy"),r("CcNS");var g,h=promotional.newEnjoyType,v=u.LAYOUT_MAP[h],g=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(_,a.default.PureComponent),r=_,(u=[{key:"componentDidMount",value:function(){var e=this.props,t=e.skus,e=e.shops;l.exposeFloorHead(),t.forEach(function(e,t){l.exposeFloorSku(t,e)}),e.forEach(function(e,t){l.exposeFloorShop(t,e)})}},{key:"getContainerStyle",value:function(){var e=this.props,t=e.wideImg,e=e.isWide,e=Number(e),t=t;return(0,o.isIE)(8)?p({filter:"progid:dximagetransform.microsoft.alphaimageloader(src='".concat(t,"',sizingMethod='scale')"),background:"none"},v.background[e]):p({backgroundImage:"url(".concat(t,")"),backgroundSize:"cover"},v.background[e])}},{key:"render",value:function(){var r=this,e=this.props,t=e.skus,n=e.shops,o=e.url,e=this.getContainerStyle();return a.default.createElement("div",{className:(0,i.default)("activity-floor","activity-floor--".concat(h))},a.default.createElement("div",{className:"activity-floor__wrapper"},a.default.createElement("div",{className:"activity-floor__container",style:e},a.default.createElement("div",{className:"jd_container"},a.default.createElement("a",{className:"activity-floor__link",href:o,target:"_blank",clstag:(0,s.generateClstag)("sale|salefloor_a"),onClick:function(){l.handleClickFloorHeader()}}),a.default.createElement("div",{className:"activity-floor__skus"},t.map(function(e,t){return a.default.createElement("a",{className:"sku-item",href:e.url,target:"_blank",clstag:(0,s.generateClstag)("sale|salefloor_b",t),onClick:l.handleClickSkuItem.bind(r,e,t)},a.default.createElement(c.default,{src:e.imgUrl}))})),a.default.createElement("div",{className:"activity-floor__shops"},n.map(function(e,t){return a.default.createElement("a",{className:"shop-item",href:e.url,target:"_blank",clstag:(0,s.generateClstag)("sale|salefloor_c",t),onClick:l.handleClickShopItem.bind(r,e,t)},a.default.createElement(c.default,{src:e.imgUrl}))}))))))}}])&&m(r.prototype,u),g&&m(r,g),_),g=(0,n.default)(g);function _(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),e=this,!(t=y(_).apply(this,arguments))||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var e,t}t.default=g},BF1x:function(e,t,r){},CcNS:function(e,t,r){},DtdS:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("rE2o"),r("ioFf"),r("/SS/"),r("f3/d");var s=o(r("aP5i")),f=o(r("oP/V")),n=o(r("L6Ds")),d=o(r("6LXm")),p=r("0a0O"),m=r("szSY"),y=function(e){if(e&&e.__esModule)return e;var t,r={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&((t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{}).get||t.set?Object.defineProperty(r,n,t):r[n]=e[n]);return r.default=e,r}(r("WJWZ"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?b(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r("dqvO");var h,v,v=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(_,s.default.PureComponent),h=_,(r=[{key:"componentDidMount",value:function(){y.exposeFixedBar(),this.scrollHandle(),$(window).bind("scroll",this.scrollHandle)}},{key:"componentWillUnmount",value:function(){$(window).unbind("scroll")}},{key:"render",value:function(){var r,n=this,e=this.state,t=e.isActive,o=e.isWindows,a=this.props,i=a.url,l=a.list,c=a.wideImg,e=a.img,a=a.isWide,u=a||!(0,p.isChrome)()&&!(0,p.isSougou)()?(r="1.0",a?"73px":"60px"):(r="0.9","65px"),e=a?c:e,t=(0,f.default)("activity-fixed-bar",{"activity-fixed-bar--active":t}),e={backgroundImage:"url(".concat(e,")")};return s.default.createElement("div",{className:t,ref:this.saveRef},s.default.createElement("div",{className:"activity-fixed-bar__container",style:e},s.default.createElement("a",{className:"fixed-bar__main",href:i,target:"_blank",clstag:"sale|salebtn_d",onClick:y.handleClickFixedBarHeader}),s.default.createElement("div",{className:"fixed-bar__list"},l.map(function(e,t){return s.default.createElement("a",{href:e.url,key:t,className:"fixed-bar-list__item",target:"_blank",clstag:(0,m.generateClstag)("sale|salebtn_d",t),onClick:y.handleClickFixedBarPart.bind(n,e,t)},s.default.createElement("div",{className:"fixed-bar-list__item-image-wrapper"},s.default.createElement(d.default,{className:"fixed-bar-list__item-image",src:e.imgUrl})),s.default.createElement("span",{className:"fixed-bar-list__item-name",style:{color:"white",fontWeight:o?"bold":"normal"}},e.name),s.default.createElement("span",{className:"fixed-bar-list__item-desc",style:{color:"white",transform:"scale(".concat(r,")"),width:u}},e.desc))})),s.default.createElement("div",{className:"fixed-bar__close",onClick:this.handleClick,clstag:"sale|salebtn_g"})))}}])&&i(h.prototype,r),v&&i(h,v),_),v=(0,n.default)(v);function _(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return l(t,(e=t=l(this,(e=c(_)).call.apply(e,[this].concat(n))),g(b(b(t)),"ref",void 0),g(b(b(t)),"state",{isActive:!1,isWindows:/windows|win32/i.test(navigator.userAgent)}),g(b(b(t)),"setIsActive",function(e){t.state.isActive!==e&&t.setState({isActive:e})}),g(b(b(t)),"scrollHandle",(0,m.throttle)(function(){t.setIsActive(965<window.pageYOffset)},300)),g(b(b(t)),"handleClick",function(){t.setIsActive(!1),y.handleClickFixedBarClose(),$(window).unbind("scroll",t.scrollHandle)}),g(b(b(t)),"saveRef",function(e){t.ref=e}),e))}t.default=v},EG95:function(e,t,r){},JsNy:function(e,t,r){},KOdS:function(e,t,r){},L59q:function(e,t,r){},"W+R0":function(e,t,r){},WJWZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exposeFloorSku=function(e,t){t=t.ext_columns,e=(0,o.padding)(e+1,2);n.reportExpose(a({poi:"sale|salefloor|b".concat(e)},t))},t.exposeFloorShop=function(e,t){t=t.ext_columns,e=(0,o.padding)(e+1,2);n.reportExpose(a({poi:"sale|salefloor|c".concat(e)},t))},t.exposeFloorHead=function(){n.reportExpose({poi:"sale|salefloor|a",url:0<arguments.length&&void 0!==arguments[0]?arguments[0]:""})},t.exposeFixedBar=function(){n.reportExpose({poi:"sale|salebtn|null"})},t.exposeToolBar=function(){n.reportExpose({poi:"sale|saleicon|null"})},t.handleClickToolBar=function(){n.reportClick({poi:"sale|saleicon|null"})},t.handleClickFloorHeader=function(){n.reportClick({poi:"sale|salefloor|a",url:0<arguments.length&&void 0!==arguments[0]?arguments[0]:""})},t.handleClickSkuItem=function(e,t){e=e.ext_columns,t=(0,o.padding)(t+1,2);n.reportClick(a({poi:"sale|salefloor|b".concat(t)},e))},t.handleClickShopItem=function(e,t){e=e.ext_columns,t=(0,o.padding)(t+1,2);n.reportClick(a({poi:"sale|salefloor|c".concat(t)},e))},t.handleClickFixedBarHeader=function(){n.reportClick({poi:"sale|salebtn|d"})},t.handleClickFixedBarClose=function(){n.reportClick({poi:"sale|salebtn|g"})},t.handleClickFixedBarPart=function(e,t){e=e.ext_columns,t=(0,o.padding)(t+1,2);n.reportClick(a({poi:"sale|salebtn|d".concat(t)},e))},r("rGqo"),r("yt8O"),r("RW0V");var n=function(e){if(e&&e.__esModule)return e;var t,r={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&((t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{}).get||t.set?Object.defineProperty(r,n,t):r[n]=e[n]);return r.default=e,r}(r("n5if")),o=r("szSY");function a(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);(t="function"==typeof Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})):t).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e})}return n}},"Y5/F":function(e,t,r){},ZdE7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("rE2o"),r("ioFf"),r("yt8O"),r("RW0V"),r("/SS/"),r("f3/d"),r("xfY5"),r("rGqo");var a=d(r("aP5i")),i=d(r("oP/V")),l=function(e){if(e&&e.__esModule)return e;var t,r={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&((t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{}).get||t.set?Object.defineProperty(r,n,t):r[n]=e[n]);return r.default=e,r}(r("WJWZ")),n=d(r("L6Ds")),o=d(r("S+ax")),c=d(r("6LXm")),u=r("0a0O"),s=r("HuLe"),f=r("szSY");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);(t="function"==typeof Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})):t).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e})}return n}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r("EG95"),r("KOdS"),r("BF1x"),r("W+R0"),r("dveJ"),r("Y5/F");var h,v=promotional.newEnjoyType,r=promotional.atmosphere,_=r.desc,O=r.background,w=s.LAYOUT_MAP[v],h=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(k,a.default.PureComponent),r=k,(s=[{key:"componentDidMount",value:function(){var e=this.props,t=e.skus,r=e.shops,e=e.url;l.exposeFloorHead(e),t.forEach(function(e,t){l.exposeFloorSku(t,e)}),r.forEach(function(e,t){l.exposeFloorShop(t,e)})}},{key:"getContainerStyle",value:function(){var e=this.props,t=e.wideImg,e=e.isWide,e=Number(e),t=t;return _=(0,o.default)(_,w.sku.desc),O=(0,o.default)(O,w.sku.background),(0,u.isIE)(8)?m({filter:"progid:dximagetransform.microsoft.alphaimageloader(src='".concat(t,"',sizingMethod='scale')"),background:"none"},w.background[e]):m({backgroundImage:"url(".concat(t,")"),backgroundSize:"cover"},w.background[e])}},{key:"render",value:function(){var r=this,e=this.props,t=e.skus,n=e.shops,o=e.url,e=this.getContainerStyle();return a.default.createElement("div",{className:(0,i.default)("activity-floor","activity-floor--".concat(v))},a.default.createElement("div",{className:"activity-floor__wrapper"},a.default.createElement("div",{className:"activity-floor__container",style:e},a.default.createElement("div",{className:"jd_container"},a.default.createElement("a",{className:"activity-floor__link",href:o,target:"_blank",clstag:(0,f.generateClstag)("sale|salefloor_a"),onClick:function(){l.handleClickFloorHeader(o)}}),a.default.createElement("div",{className:"activity-floor__skus"},t.map(function(e,t){return a.default.createElement("a",{className:"sku-item",href:e.url,target:"_blank",clstag:(0,f.generateClstag)("sale|salefloor_b",t),onClick:l.handleClickSkuItem.bind(r,e,t)},a.default.createElement(c.default,{src:O}),a.default.createElement("div",{className:"sku-good"},a.default.createElement(c.default,{src:e.imgUrl})),a.default.createElement("div",{className:"sku-desc"},a.default.createElement(c.default,{src:_}),a.default.createElement("span",{className:"sku-desc-text"},e.desc)),a.default.createElement("span",{className:"sku-title"},e.name))})),a.default.createElement("div",{className:"activity-floor__shops"},n.map(function(e,t){return a.default.createElement("a",{className:"shop-item",href:e.url,target:"_blank",clstag:(0,f.generateClstag)("sale|salefloor_c",t),onClick:l.handleClickShopItem.bind(r,e,t)},a.default.createElement(c.default,{src:e.imgUrl}))}))))))}}])&&y(r.prototype,s),h&&y(r,h),k),h=(0,n.default)(h);function k(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),e=this,!(t=b(k).apply(this,arguments))||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var e,t}t.default=h},dqvO:function(e,t,r){},dveJ:function(e,t,r){},gHYS:function(e,t,r){},moPU:function(e,t,r){},nRdj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("rE2o"),r("ioFf"),r("/SS/"),r("xfY5"),r("0mN4");var i=o(r("aP5i")),a=o(r("vZHt")),l=o(r("7xuk")),s=o(r("S+ax")),n=r("HuLe"),c=r("8T6v"),u=r("qJ5q"),f=o(r("7vG8")),d=o(r("ZdE7")),p=o(r("DtdS"));function o(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?v(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O,w=promotional.newEnjoyType,k=n.LAYOUT_MAP[w],x=window._,O=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(S,i.default.PureComponent),r=S,(n=[{key:"dataCheck",value:function(e){var t=e.data;if(0!==Number(e.code)||!t)return!1;var r=t.benefitImgW,n=t.mainUrl,o=t.shop,a=t.act,i=t.fixed,l=a&&Array.isArray(a)&&a.some(function(e){return!(!e.url||!e.imgUrl)}),e=o&&Array.isArray(o)&&o.some(function(e){return!(!e.url||!e.imgUrl)}),t=!(a.length!==k.sku.number||k.shop&&k.shop.number&&o.length!==k.shop.number),e=!r||!n||!l&&!e||!t,t=i&&Array.isArray(i.list)&&i.list.some(function(e){return!(!e.imgUrl||!e.url)}),a=!e&&(o||a),i=!!(i&&i.benefitImgS&&i.benefitImgW&&i.mainUrl&&t)&&i&&5===i.list.length;return!((!a||!i)&&(!a&&i?(this.setState({showFixBar:!0,showFloor:!1}),0):!a||i||(this.setState({showFixBar:!1,showFloor:!0}),0)))}},{key:"componentDidMount",value:function(){var t=this,e=this.props.onError,r=(0,u.GrayReleaseFunction)(window.pageConfig.hashList&&window.pageConfig.hashList.floor&&window.pageConfig.hashList.floor[0]||{start:0,end:5e3}),n=r?c.ACTIVITY_GRAY:c.ACTIVITY,o=r?this.handleGrayRequestData:this.handleRequestData;(0,l.default)(n,{speedID:22,umpID:24,name:"jsonpActivity",params:{pin:a.default.pin,uuid:a.default.uuid,type:w},dataCheck:this.dataCheck.bind(this)}).then(function(e){return t.setState({isGray:r}),e}).then(o).catch(function(){e&&e()})}},{key:"render",value:function(){var e=this.state,t=e.floor,r=e.fixedBar,n=e.isLoading,o=e.showFixBar,a=e.showFloor,e=e.isGray;if(n){n=k.background[Number(pageConfig.isWide)].height;return i.default.createElement("div",{id:"JD_activity-main",className:"mod_lazyload ",style:{height:n}})}e=(e?d:f).default;return i.default.createElement("div",{id:"JD_activity-main","aria-label":"å¤§ä¿ƒæ¥¼å±‚"},t&&a&&i.default.createElement(e,t),r&&o&&i.default.createElement(p.default,r))}}])&&y(r.prototype,n),O&&y(r,O),S);function S(){var e,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(u,(e=u=b(this,(e=g(S)).call.apply(e,[this].concat(r))),_(v(v(u)),"state",{isLoading:!0,floor:null,fixedBar:null,showFixBar:!0,showFloor:!0,isGray:!1}),_(v(v(u)),"handleRequestData",function(e){var t=e.data,r=t.benefitImgW,n=t.mainUrl,o=t.shop,a=void 0===o?[]:o,i=t.act,l=void 0===i?[]:i,c=t.fixed,e=k.background[Number(pageConfig.isWide)],o={isLoading:!1},i=u.state,t=i.showFixBar;i.showFloor&&(i=a&&a.map(function(e){return e.imgUrl=(0,s.default)(e.imgUrl,k.shop),e}),a=l&&l.map(function(e){return e.imgUrl=(0,s.default)(e.imgUrl,k.sku.background),e}),l="".concat(e.width,"x").concat(e.height),e="".concat(2*e.width,"x").concat(2*e.height),o.floor={skus:a,shops:i,url:n,wideImg:(0,s.default)(r,{clip:l,resize:[e,l]})},x.eventCenter.trigger("ActivityLoaded")),t&&(t=c.list.map(function(e){return e.imgUrl=(0,s.default)(e.imgUrl,{resize:["100x100","50x50"]}),e}),o.fixedBar={list:t,url:c.mainUrl,img:(0,s.default)(c.benefitImgS,{clip:"1054x71",resize:["1054x71","1054x71"]}),wideImg:(0,s.default)(c.benefitImgW,{clip:"1270x85",resize:["1270x85","1270x85"]})}),u.setState(o)}),_(v(v(u)),"handleGrayRequestData",function(e){var t=e.data,r=t.benefitImgW,n=t.mainUrl,o=t.shop,a=void 0===o?[]:o,i=t.act,l=void 0===i?[]:i,c=t.fixed,e=k.background[Number(pageConfig.isWide)],o={isLoading:!1},i=u.state,t=i.showFixBar;i.showFloor&&(i=a&&a.map(function(e){return e.imgUrl=(0,s.default)(e.imgUrl,k.shop),e}),a=l&&l.map(function(e){return e.imgUrl=(0,s.default)(e.imgUrl,k.sku.good),e}),l="".concat(e.width,"x").concat(e.height),e="".concat(2*e.width,"x").concat(2*e.height),o.floor={skus:a,shops:i,url:n,wideImg:(0,s.default)(r,{clip:l,resize:[e,l]})},x.eventCenter.trigger("ActivityLoaded")),t&&(t=c.list.map(function(e){return e.imgUrl=(0,s.default)(e.imgUrl,{resize:["100x100","50x50"]}),e}),o.fixedBar={list:t,url:c.mainUrl,img:(0,s.default)(c.benefitImgS,{clip:"1054x71",resize:["1054x71","1054x71"]}),wideImg:(0,s.default)(c.benefitImgW,{clip:"1270x85",resize:["1270x85","1270x85"]})}),u.setState(o)}),e))}t.default=O},rWie:function(e,t,r){}}]);

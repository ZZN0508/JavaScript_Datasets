$(function(){for(var s,e=$("#focus").width(),t=$("#focus ul li").length,o=0,c="<div class='btnBg'></div><div class='btn'>",n=0;n<t;n++)c+="<span></span>";function i(s){var t=-s*e;$("#focus ul").stop(!0,!1).animate({left:t},500),$("#focus ol li").removeClass("current").eq(s).addClass("current"),$("#focus .btn span").stop(!0,!1).animate({opacity:"0.4"},300).eq(s).stop(!0,!1).animate({opacity:"1"},300)}c+="</div><div class='preNext pre'></div><div class='preNext next'></div>",$("#focus").append(c),$("#focus .btnBg").css("opacity",0),$("#focus .btn span").css("opacity",.3).mouseenter(function(){i(o=$("#focus .btn span").index(this))}).eq(0).trigger("mouseenter"),$("#focus .preNext").css("opacity",.3).hover(function(){$(this).stop(!0,!1).animate({opacity:"0.7"},300)},function(){$(this).stop(!0,!1).animate({opacity:"0.3"},300)}),$("#focus .pre").click(function(){i(o=-1==--o?t-1:o)}),$("#focus .next").click(function(){i(o=(o+=1)==t?0:o)}),$("#focus ol li").mouseenter(function(){i(o=$("#focus ol li").index(this))}).eq(0).trigger("mouseenter"),$("#focus ul").css("width",e*(t+1)),$("#focus").hover(function(){clearInterval(s)},function(){s=setInterval(function(){o==t?(function(){$("#focus ul").append($("#focus ul li:first").clone());var s=-t*e;$("#focus ul").stop(!0,!1).animate({left:s},500,function(){$("#focus ul").css("left","0"),$("#focus ul li:last").remove()}),$("#focus ol li").removeClass("current").eq(0).addClass("current")}(),o=0):i(o),o++},5e3)}).trigger("mouseleave")});

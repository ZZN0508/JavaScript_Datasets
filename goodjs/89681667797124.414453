var _rlog=_rlog||[];!function(r,u,_,i,a){function n(t,e){U.pid&&1!=U.ispvt&&(U.ispvt=1,U.cat="pageview",o(function(){w="-",self.screen?w=screen.width+"x"+screen.height:self.java&&(t=java.awt.Toolkit.getDefaultToolkit().getScreenSize(),w=t.width+"x"+t.height);var t=new Date(u.lastModified);C=t.getTime()/1e3;t=r.navigator;return m=t&&t.javaEnabled()?1:0,g=(g=u.characterSet||u.charset||"-").toLowerCase(),k=i(u.referrer),T=i(_.href),b=_.hash?i(_.hash.substring(1)):"",(t=["_nref="+k,"_nurl="+T,"_nres="+w,"_nlmf="+C,"_njve="+m,"_nchr="+g,"_nfrg="+b]).join("&")}()+e,t))}function o(t,e){var n,o,t=["_npid="+U.pid,"_ncat="+U.cat,(n=(new Date).getTime(),o=[],u.cookie="___rl__test__cookies="+n,-1==(I=f("OUTFOX_SEARCH_USER_ID_NCOO"))&&f("___rl__test__cookies")==n&&l("OUTFOX_SEARCH_USER_ID_NCOO",I=2147483647*Math.random()),E=-1==(E=f("P_INFO"))?"NULL":E.substr(0,E.indexOf("|")),o=["_ncoo="+I,"_nssn="+E,"_nver="+h,"_ntms="+n],U.autouid&&o.push("_rl_nuid="+__rl_nuid),o.join("&")),t];U.post.length&&t.push(p(U.post)),function(t,e){{var n;v?(navigator.sendBeacon(t),e&&e()):((n=new Image).onload=n.onerror=function(){e&&e()},n.src=t,n=null)}}(O+"/rlog.php?"+t.join("&"),e)}function c(){return{pid:"",cat:"",post:[],ispvt:0,pvcb:[],autopv:!0,autouid:!1}}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function t(t,e){if(d&&"mousedown"==t)return u.addEventListener("touchstart",e,!1),0;u.addEventListener?u.addEventListener(t,e,!1):u.attachEvent("on"+t,e)}function l(t,e){var n=new Date;n.setTime(n.getTime()+63072e6),document.cookie=t+"="+e+";expires="+n.toGMTString()+";path=/;domain="+L}function f(t){for(var e=document.cookie,n=t+"=",o=e.length,r=0;r<o;){var i=r+n.length;if(e.substring(r,i)==n){var a=e.indexOf(";",i);return-1==a&&(a=o),unescape(e.substring(i,a))}if(0==(r=e.indexOf(" ",r)+1))break}return-1}function p(t){for(var e,n=[],o=0,r=(t=!s(t)?[]:t).length;o<r;++o)s(e=t[o])&&n.push(e[0]+"="+i(e[1]));return n.join("&")}function e(t){var e=t?4:3,t="res:"===_.protocol?"":u.domain,n=t.split("."),o=n.length;if(/^\d+$/g.test(n[o-1]))return t;if(n.length<e)return"."+t;for(var r=["com","net","org","gov","co"],i=!1,a=0;a<r.length;a++)n[o-2]==r[a]&&(i=!0);for(var c=i?e:e-1,s=[];c;)s.push(n[o-c]),c--;return"."+s.join(".")}var d,v,h,g,m,k,w,C,E,I,b,T,L,O,U,y,j,D,S,P;function R(t){S.push(["_trackEvent","first-touch"]),function(t,e){if(d&&"mousedown"==t)return u.removeEventListener("touchstart",e,!1);u.removeEventListener?u.removeEventListener(t,e,!1):u.detachEvent("on"+t,e)}("touchstart",R)}r.__rl_event||(P=navigator.userAgent.toLowerCase(),d=/(mobile|iphone|ipod|blackberry)/.test(P),v=!1,h="1.2.0",C=m=0,I=E="NULL",T=b=w=k=g="",L=e(),e(!0),O=("https:"==_.protocol?"https:":"http:")+"//rlogs.youdao.com",U=c(),y={_default:U},j={},D=r._rlog,(S=r._rlog={}).push=function(t){var e=(n=t[0].split(".")).pop(),n=n.join("_");U=y[n=n||"_default"]||(y[n]=c());e=j[e];e&&e.apply(this,t.slice(1))},j._setAccount=function(t){t&&(U.pid=t)},j._setAutoPageview=function(t){U.autopv=t},j._setAutoUserId=function(t){U.autouid=t},j._addPost=function(t,e){j._removePost(t),U.post.push([t,e])},j._onPageViewFinished=function(t){U.pvcb.push(t)},j._trackCustom=function(t,e,n){U.pid&&(U.cat=t,o(s(e)?p(e):"_nhrf="+i(e),n))},j._trackEvent=function(t,e){j._trackCustom("event",t,e)},j._trackPageview=function(t){var e;U.ispvt&&"ido"!==t||(e=U,n(function(){for(var t;t=e.pvcb.shift();)try{t()}catch(t){}e.ispvt=2},s(t)&&t.length?"&"+p(t):""))},j._removePost=function(t){if(t){for(var e=U.post,n=0,o=e.length;n<o;n++)if(e[n]&&e[n][0]==t)return e.splice(n,1),n}else U.post=[]},j._trackUserId=function(){var t,e=!1,n=f("DICT_LOGIN");-1==n||/^[0|8]\w*/.test(n)?l("DICT_USR","-1"):(-1!=f("DICT_USR")&&2==(t=f("DICT_USR").split("~")).length?(__rl_nuid=t[1],n!=t[0]&&(e=!0)):e=!0,e&&_rl_network.ajax({url:location.protocol+"//dict.youdao.com/login/acc/co/cq?product=DICT&cf=1",success:function(t){__rl_nuid=t.login?(l("DICT_USR",(n=f("DICT_LOGIN"))+"~"+t.userid),t.userid):"unknown"},fail:function(){__rl_nuid="unknown"}}))},r.__rl_event=function(t,e){S.push(["_trackCustom","event",t,e])},U.pid=r.__rl_npid||"",U.post=r.__rl_post||[],U.autopv="undefined"==typeof __rl_pageview||!!r.__rl_pageview,(P=function(){for(var t,e=_.search.replace(/^\?/,"").split("&"),n={},o=0,o=0;o<e.length;o++)(t=e[o])&&(n[(t=t.split("="))[0]]=void 0===t[1]?null:a(t[1]));return n}()).vendor&&j._addPost("vendor",P.vendor),P.keyfrom&&j._addPost("keyfrom",P.keyfrom),function(){var t=_.hash;if(t)for(var e,n=0,o=(t=t.replace(/^#/,"").split("&")).length;n<o;n++)(e=t[n])&&(e=e.split("="),j._addPost(e[0],a(e[1]||"NULL")))}(),function(){try{if(!D)return;for(var t,e=1,n=D.length;e<n;e++)/_setAccount$/.test(D[e][0])&&(t=D[e],D.splice(e,1),D.splice(0,0,t));for(e=0,n=D.length;e<n;e++)S.push(D[e]);D=null}catch(e){}}(),function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}(y,function(t,e){e.autopv&&S.push([t+"._trackPageview"]),e.autouid&&S.push([t+"._trackUserId"])}),t("mousedown",function(t){for(var e,n=(t=t||r.event).target||t.srcElement,o=u.body;n!=o;n=n.parentNode||o)1!==n.nodeType||!0===n.disabled||(e=n.getAttribute("data-rlog"))&&S.push(["_trackEvent",e])}),t("touchstart",R),r.__rl_click&&t("click",function(t){(t=(t=t||r.event).target||t.srcElement).href&&S.push(["_trackCustom","click",t.href])}))}(window,document,location,encodeURIComponent,decodeURIComponent);

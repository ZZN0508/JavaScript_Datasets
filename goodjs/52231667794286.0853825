(window.webpackJsonp=window.webpackJsonp||[]).push([[17,16,132],{G4kj:function(t,e,n){"use strict";n.d(e,"c",function(){return j}),n.d(e,"b",function(){return N}),n.d(e,"d",function(){return k}),n.d(e,"a",function(){return I});var e=n("hfKm"),a=n.n(e),e=n("2Eek"),o=n.n(e),e=n("XoMD"),c=n.n(e),e=n("Jo+v"),u=n.n(e),e=n("4mXO"),r=n.n(e),e=n("pLtp"),s=n.n(e),l=n("vYYK"),i=n("G4qV"),m=n("algg"),d=n("WIrD"),h=n("dguP");function y(e,t){var n,i=s()(e);return r.a&&(n=r()(e),t&&(n=n.filter(function(t){return u()(e,t).enumerable})),i.push.apply(i,n)),i}function b(t){return t.community.communities}function f(t){return t.community.communitiesConnection}function g(t){return t.community.communitiesUsersConnection}function _(t){return t.community.communityUsers}function x(t){return t.community.communitiesRanking}function p(t){return t.community.pickHotCommunities}function w(t){return t.auth.user}function v(t){return t.userAction}function C(t){return t.profile.profile}function O(t){return t.community?t.community.activeMembers:[]}var j=function(){return Object(i.a)([_,g,w,C,v],function(t,e,n,i,r){i=Object(d.q)({communityUsers:t,total:e,currentUser:i?i.user:null,userAction:r}),r=i.listCommunityUser,i=i.totalCommunityUser;return r&&0!==r.length?function(t,e,n){if(!n)return{communityUsers:t,communitiesUsersConnection:e};var i=[],r=e;return n&&t.map(function(t){var e=t.community;e&&!e.isAdult?i.push(t):0<r&&r--}),{communityUsers:i,communitiesUsersConnection:r}}(r,i,!Object(m.p)(n)):{communityUsers:[],communitiesUsersConnection:0}})},N=function(){return Object(i.a)([b,f,w],function(t,e,n){return n=n,t&&0!==t.length?function(t,e,n){t=null==t?void 0:t.filter(function(t){return!t.isHidden&&!t.isDeleted&&!t.isPrivate});if(!n)return{communities:t,communitiesConnection:e};var i=[],r=e;return n&&t.map(function(t){t.isAdult?0<r&&r--:i.push(t)}),{communities:i,communitiesConnection:r}}(t,e,!Object(m.p)(n)):{communities:[],communitiesConnection:0}})},k=function(n){return Object(i.a)([x,p],function(t,e){return function(t,e,n){if(!t||0===t.length)return[];var i=[];if(t.forEach(function(e){i.find(function(t){return t.id===e.communityId})||i.push(e.community)}),"SPO"===(null==n?void 0:n.communityType))return i;var r=[];return e.forEach(function(e){var t,n=i.find(function(t){return t.id===e.communityId});n&&(t=i.findIndex(function(t){return t.id===n.id}),Object(h.j)(i,[t])),r.find(function(t){return t.id===e.communityId})||(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){Object(l.a)(e,t,n[t])}):c.a?o()(e,c()(n)):y(Object(n)).forEach(function(t){a()(e,t,u()(n,t))})}return e}({communityId:null==e?void 0:e.communityId,position:null==e?void 0:e.position,showOnCateId:null==e?void 0:e.categoryId,showOtherPage:null==e?void 0:e.showOtherPage},e.community),r.push(t))}),Object(d.r)({args:n,listCommunities:i,listPickHotCommunities:r})}(t,e,n)})},I=function(){return Object(i.a)(O,function(t){return t})}},GYP7:function(t,e,n){"use strict";n.r(e);function i(t){var e=(r=t.data).slug,n=r.name,i=r.participantCount,t=r.postCount,r=r.isOfficial;return k("div",{className:"text-main"},k(u.a,{align:"start",className:"mb__5"},k(s.Link,{route:l.b.generatorUrlCommunityDetail(e)},k("a",{className:"my__0 mr__auto ml__0 text-main-v1 font-size__14 w-100"},k("h6",{className:"my__0 text-bold text-ellipsis font-size__14"},Object(w.f)(n),r&&k(N.I,{height:13,width:13,className:"d-inline-flex ml__5 mr__5"}))))),k("div",{className:"text-gray-v4 font-size__12"},Object(v.t)(i),k("span",{className:"mx__10"},"·"),Object(v.u)(t)))}function m(t){var e=t.loading,n=t.communitiesRanking,t=t.hasContentOver;return e?k("div",{className:"mb__10 mt__20"},k("div",{className:"bg-white brg__7"},k(I,null))):0<n.length?k("div",{className:o()("mb__10 border-1 border-color-gray-v7 border-solid",{mb__0:!t})},k("h5",{className:"font-size__18 text-bold px__12 py__12 border-bottom-1 border-color-gray-v7 border-solid mb__0 mt__0"},"Cộng đồng mới nổi"),k("div",{className:"wd-hot-communities-desktop"},n.map(function(t,e){return k("div",{key:e,className:"cursor-pointer",onClick:function(){return c.a.push(l.b.generatorUrlCommunityDetail(t.slug))}},k(C.default,{avatarSquare:!0,key:e,avatarSize:p.Gc.imageSizeEnum.AVATAR_40,alignItem:"center",thumbnailClass:"mr__10",customizeclass:"px__12 py__12",thumbnailUrl:t.avatarUrl||null,isShowIndex:!1,url:l.b.generatorUrlCommunityDetail(t.slug)},k(i,{data:t})))}),k("a",{className:"d-block text-center py__10 text-blue text-bold btn-see-more",href:"".concat(p.Qc.COMMUNITY,"/").concat(p.Qc.COMMUNITY_ALL)},"Xem thêm"))):null}function d(t){var e=t.loading,n=t.communitiesRanking,t=t.customClass;return e?k(O.default,null):n&&0<n.length?k(j.default,{data:n,sliderAutoPlay:!1,initialSlide:Math.floor(Math.random()*n.length),title:k("div",null,k("h5",{className:"text-primary text-bold font-size__14 my__0 line-height__17"},"Cộng đồng mới nổi")),customizeclass:o()("slider-community slider-communities bg-white mb__10 pb__10 wd-hot-communities-mobile",t)}):null}var h=n("doui"),y=n("q1tI"),r=n.n(y),b=n("/MKj"),a=n("TSYQ"),o=n.n(a),a=n("nOHt"),c=n.n(a),a=n("4IZf"),u=n.n(a),a=n("a6RD"),a=n.n(a),s=n("8cHP"),f=n("L9Iq"),g=n("R5x4"),_=n("G4kj"),x=n("D+1f"),p=n("v0uu"),l=n("kKES"),w=n("hpSX"),v=n("WIrD"),C=n("iEP5"),O=n("ReYl"),j=n("pOWv"),N=n("RysE"),k=r.a.createElement,I=a()(function(){return Promise.resolve().then(n.bind(null,"tJV5"))},{ssr:!1,loadableGenerated:{webpack:function(){return["tJV5"]},modules:["./Loading/CommunityRankingLoading"]}});e.default=function(t){var e=t.isMobile,n=t.hasContentOver,i=t.customClass,r=t.data,a=Object(b.useDispatch)(),o=Object(b.useSelector)(Object(_.d)(r)),c=Object(y.useCallback)(function(t){return a(f.a.loadHotCommunities(t))},[a]),u=Object(y.useState)(!0),t=u[0],s=u[1],u=Object(x.b)(function(t){return c(t)},100),l=Object(h.a)(u,1)[0];return Object(y.useEffect)(function(){var t=!1;return l(g.a.initQueryHotCommunities(p.cc,r.categoryId)),setTimeout(function(){return t?null:s(!1)},500),function(){return t=!0}},[]),e?k(d,{loading:t,communitiesRanking:o,customClass:i}):k(m,{loading:t,isMobile:e,hasContentOver:n,communitiesRanking:o})}},ReYl:function(t,e,n){"use strict";n.r(e);var i=n("q1tI"),r=n.n(i),a=n("GRpk"),o=r.a.createElement;e.default=Object(i.memo)(function(t){return o("div",{className:"mt__10"},t.isMobile?o(a.a,{height:320,width:355,speed:1,primaryColor:"#e0e0e0",secondaryColor:"#ecebeb"},o("rect",{x:"10",y:"10",rx:"2",ry:"2",width:"130",height:"19"}),o("rect",{x:"10",y:"39",rx:"0",ry:"0",width:"255",height:"143"}),o("rect",{x:"103.5",y:"143",rx:"12",ry:"12",width:"80",height:"80"}),o("rect",{x:"93",y:"230",rx:"2",ry:"2",width:"100",height:"16"}),o("rect",{x:"60",y:"251",rx:"2",ry:"2",width:"170",height:"18"}),o("rect",{x:"20",y:"274",rx:"6",ry:"6",width:"190",height:"30"}),o("rect",{x:"215",y:"274",rx:"4",ry:"4",width:"40",height:"30"}),o("rect",{x:"275",y:"39",rx:"0",ry:"0",width:"255",height:"143"}),o("rect",{x:"368.5",y:"143",rx:"12",ry:"12",width:"80",height:"80"}),o("rect",{x:"358",y:"230",rx:"2",ry:"2",width:"100",height:"16"}),o("rect",{x:"325",y:"251",rx:"2",ry:"2",width:"170",height:"18"}),o("rect",{x:"285",y:"274",rx:"6",ry:"6",width:"190",height:"30"}),o("rect",{x:"480",y:"274",rx:"4",ry:"4",width:"40",height:"30"})):o(a.a,{height:320,width:1015,speed:1,primaryColor:"#e0e0e0",secondaryColor:"#ecebeb"},o("rect",{x:"5",y:"0",rx:"0",ry:"0",width:"284",height:"143"}),o("rect",{x:"107",y:"100",rx:"0",ry:"0",width:"80",height:"80"}),o("rect",{x:"97",y:"190",rx:"0",ry:"0",width:"100",height:"16"}),o("rect",{x:"60",y:"210",rx:"0",ry:"0",width:"170",height:"18"}),o("rect",{x:"15",y:"252",rx:"0",ry:"0",width:"204",height:"32"}),o("rect",{x:"236",y:"252",rx:"0",ry:"0",width:"32",height:"32"}),o("rect",{x:"298",y:"0",rx:"0",ry:"0",width:"284",height:"143"}),o("rect",{x:"400",y:"100",rx:"0",ry:"0",width:"80",height:"80"}),o("rect",{x:"390",y:"190",rx:"0",ry:"0",width:"100",height:"16"}),o("rect",{x:"353",y:"210",rx:"0",ry:"0",width:"170",height:"18"}),o("rect",{x:"308",y:"252",rx:"0",ry:"0",width:"204",height:"32"}),o("rect",{x:"556",y:"252",rx:"0",ry:"0",width:"32",height:"32"}),o("rect",{x:"591",y:"0",rx:"0",ry:"0",width:"284",height:"143"}),o("rect",{x:"693",y:"100",rx:"0",ry:"0",width:"80",height:"80"}),o("rect",{x:"683",y:"190",rx:"0",ry:"0",width:"100",height:"16"}),o("rect",{x:"646",y:"210",rx:"0",ry:"0",width:"170",height:"18"}),o("rect",{x:"601",y:"252",rx:"0",ry:"0",width:"204",height:"32"}),o("rect",{x:"849",y:"252",rx:"0",ry:"0",width:"32",height:"32"}),o("rect",{x:"884",y:"0",rx:"0",ry:"0",width:"284",height:"143"}),o("rect",{x:"986",y:"100",rx:"0",ry:"0",width:"80",height:"80"}),o("rect",{x:"976",y:"190",rx:"0",ry:"0",width:"100",height:"16"}),o("rect",{x:"939",y:"210",rx:"0",ry:"0",width:"170",height:"18"}),o("rect",{x:"894",y:"252",rx:"0",ry:"0",width:"204",height:"32"}),o("rect",{x:"1142",y:"252",rx:"0",ry:"0",width:"32",height:"32"})))})},nJJw:function(t,e,n){"use strict";var J=n("vYYK"),H=n("doui"),i=n("MX0m"),T=n.n(i),V=n("q1tI"),Y=n.n(V),G=n("/MKj"),i=n("TSYQ"),K=n.n(i),i=n("CC+v"),Q=n.n(i),i=n("nOHt"),q=n.n(i),X=n("65Qd"),W=n("dUxu"),F=n("8cHP"),i=n("Oy9n"),Z=n("D+1f"),$=n("LY3E"),tt=n("L9Iq"),et=n("LpoC"),nt=n("R5x4"),it=n("v0uu"),rt=n("kKES"),at=n("i2cS"),ot=n("WIrD"),ct=n("OZ8X"),ut=n("RysE"),st=n("x50/"),lt=Y.a.createElement,mt=new(n("gsez").AllHtmlEntities),n=Object(V.memo)(function(t){function n(){m(!0)}function i(){m(!1)}var e={communityUsers:Object(W.a)(function(t){return t.auth&&t.auth.communityUsers||[]}),user:Object(W.a)(function(t){return t.auth&&t.auth.user||null}),auth:Object(W.a)(function(t){return t.auth||null})},r=Object(G.useDispatch)(),a=Object(V.useCallback)(function(t,e){return r(et.a.openModal(t,e))},[r]),o=Object(V.useCallback)(function(t,e,n){return r(tt.a.joinedCommunities(["".concat(t)],e,n))},[r]),c=Object(V.useCallback)(function(t,e,n){return r(tt.a.unJoinedCommunities(t,e,n))},[r]),u=Object(V.useCallback)(function(t){return r(tt.a.getCommunityByUser(nt.a.searchCommunity(null,t,null,null,it.ac)))},[r]),s=Object(V.useState)(!1),l=s[0],m=s[1],d=Object(V.useState)(!1),h=d[0],y=d[1],b=Object(V.useState)(!1),f=b[0],g=b[1],_=Object(V.useState)(""),x=_[0],p=_[1],w=Object(V.useContext)(X.a),v=Object(ct.e)(w),C=t.data,O=t.customizeclass,j=t.buttonIcon,N=t.buttonIconActive,k=t.handleAfterJoined,I=t.handleAfterUnJoined,U=t.isGetCommunityUsers,S=t.pageCurrent,z=Object(ot.a)(e.user,e.communityUsers,C),A=z.joinCommunity,E=z.joinCommunityItem,M=z.showModalLogin,s=z.userUpdateProfile,d=z.userNotAge,b=z.allowedJoinCommunity,_=z.userLeaveCommunity,P=z.userAdminCommunity,B=z.userModeratorCommunity,D=P||B?function(){var t=null;P?t="Quản trị viên":B&&(t="Người kiểm duyệt"),p(lt("span",null,"Bạn đang là",lt("span",{className:"mx__5"},t),"của cộng đồng này nên hiện tại không thể rời khỏi")),n()}:_?function(){p(lt("span",null,"Bạn có chắc muốn rời khỏi ",lt("br",null)," cộng đồng?")),n()}:b?function(){o(C.id,function(){k?k():U&&u(e.user.id)},function(t,e){a("confirmModal",{message:e?Object(at.d)({code:e},it.Gc.ActionError.JoinCommunity):t,hiddenButton:!0,closeCallback:i})})}:d?function(){L(!0)}:s?function(){L()}:M?function(){n()}:null,L=function(t){var e="Bạn chưa nhập ngày tháng năm sinh";t?e="Bạn chưa đủ 18 tuổi":g(!0),y(!0),p(e),n()},s=Object(Z.b)(function(){return D()},300),s=Object(H.a)(s,1)[0],R=(null===q.a||void 0===q.a||null===(R=q.a.router)||void 0===R?void 0:R.route)==="/".concat(it.Lc.POST_DETAIL);return lt(V.Fragment,null,lt($.default,j?{handleClick:s,style:v&&!A?{backgroundColor:w}:null,className:K()("btn-icon",(v={},Object(J.a)(v,"".concat(O),!!O),Object(J.a)(v,"btn-default",!O),Object(J.a)(v,"btn-primary",!A),v)),name:A?lt("span",{className:K()("brg__6 d-block h-30x w-30x px__6 py__6",{"bg-white":R}),style:{color:"#".concat(rt.b.getBackgroundColorByContext(w))}},lt(ut.r,{className:K()("d-block",{"text-primary":!R}),width:18,height:18})):lt(Y.a.Fragment,null,S?lt("span",{className:"bg-white brg__6 d-block h-30x w-30x px__6 py__6",style:{color:"#".concat(rt.b.getBackgroundColorByContext(w))}},lt(ut.K,{className:"d-block",width:18,height:18,color:"red"})):lt(ut.K,{className:"d-block text-white",width:18,height:18,fill:S?"#"+rt.b.getBackgroundColorByContext(w):"#ffffff"}))}:{handleClick:s,className:K()((s={},Object(J.a)(s,"".concat(O),!!O),Object(J.a)(s,"btn-default text-bold",!O),Object(J.a)(s,"btn-icon",!(!A||!N)),Object(J.a)(s,"btn-primary",!A),s)),style:A||t.useColorDefault||!w.color?null:{backgroundColor:"#".concat(w.color)},name:A?N?lt(ut.r,{width:"16",height:"16",className:"3333"}):lt(V.Fragment,null,lt(ut.r,{className:"mr__5"}),"Đã tham gia"):"Tham gia"}),l?lt(Q.a,{visible:l,closable:!1,footer:!1,onClose:i,centered:!0,className:"modal-join-community",onCancel:i},lt("p",{className:"jsx-".concat(st.a.__hash)+" text-bold font-size__22 text-main mt__10 mb__0 text-center"},"Thông báo"),lt("p",{className:"jsx-".concat(st.a.__hash)+" font-size__16 text-main mt__0 mb__15 text-center"},M?"Bạn hãy đăng nhập để thực hiện chức năng này!":A||h?x:""),M?lt(F.Link,{route:"".concat(it.Qc.LOGIN).concat(w.currentPath?"?r=".concat(mt.encode(w.currentPath)):"")},lt("a",{className:"jsx-".concat(st.a.__hash)+" btn-default btn-default-md btn-primary w-80 mb__10 mx__auto"},"Đăng nhập")):A?B||P?null:lt("a",{onClick:function(){e.user&&(i(),c(E,function(){I?I():U&&u(e.user.id)},function(t,e){a("confirmModal",{message:e?Object(at.d)({code:e},it.Gc.ActionError.UnJoinCommunity):t,hiddenButton:!0,closeCallback:i})}))},className:"jsx-".concat(st.a.__hash)+" btn-default btn-default-md btn-primary w-80 mb__10 mx__auto"},"Đồng ý"):h?lt("a",{onClick:function(){f?q.a.push(rt.b.generatorUrlProfile(e.user,it.Qc.PROFILE_EDIT)):i()},className:"jsx-".concat(st.a.__hash)+" btn-default btn-default-md btn-primary w-80 mb__10 mx__auto"},"Tiếp tục"):null,lt(T.a,{id:st.a.__hash},st.a)):null)});e.a=Object(i.a)(n)},pOWv:function(t,e,n){"use strict";n.r(e);function y(t){var n=Object(p.useDispatch)(),e=Object(b.useCallback)(function(t,e){return n(w.a.openModal(t,e))},[n]),i=t.customizeclass,r=(t.customizeAvatarClass,t.size),a=t.data,o=t.isHiddenJoinButton,c=(t.isHiddenManagerButton,t.isMobile),u=((h=a||null).id,h.slug),s=h.backgroundUrl,l=h.avatarUrl,m=h.name,d=h.postCount,t=h.participantCount,h=h.isOfficial;return a?S("div",{className:"community-item swiper-slide ".concat(i||"")},S("a",{href:v.b.generatorUrlCommunityDetail(u)},S("div",{className:"community-header mx__0"},S(U.default,{alt:"community-cover",className:"img-fluid brg-top__10 w-100 h-100 object-fit-cover",src:s?v.b.cropImage(s,C.cb,C.bb,!0,!0):C.r,lazyLoad:!0})),S("div",{className:"community-body text-center"},S("div",{className:"community-avatar community-avatar-trending ".concat(r?"community-avatar-".concat(r,"x avatar-").concat(r):"")},S(U.default,{alt:"community-thumbnail",className:"img-fluid  brg__10",src:v.b.avatarUrlWithSize({path:l,size:C.Gc.imageSizeEnum.AVATAR_80,typeAvatarProfile:!1,center:!0})||C.C})),S("h6",{className:"font-size__14 text-bold text-primary one-line my__0"},Object(O.q)(m,22),h&&S(I.I,{height:13,width:13,className:"d-inline-flex ml__5 mr__5"})),S("div",{className:"font-size__12 text-gray-v4"},Object(j.t)(t),S("span",{className:"mx__10"},"·"),Object(j.u)(d)))),S("div",{className:"community-footer text-center position-relative px__10 mb__10"},o?null:S(x.a,null,S(N.a,{data:a||null,customizeclass:"btn-default mr__10 w-100"}),S("a",{className:"btn-default text-bold btn-icon btn-round-gray",onClick:function(){e("modalShare",{url:v.b.generateUrlWithDomain(v.b.generatorUrlCommunityDetail(u)),isMobile:c})}},S(I.Q,{width:"20",height:"20",className:"text-main-v1"}))))):null}function i(t){var n,i,r,e=Object(b.useContext)(g.a),a=Object(_.e)(e),o=((h=Object(b.useState)(0))[0],h[1]),c=t.title,u=t.customizeclass,s=t.customizeItemClass,l=(t.customizeSliderClass,t.data),m=t.url,d=t.isHiddenJoinButton,e=t.isShowViewMore,h=t.isUser,t=t.perView,c=e?S(x.a,null,c?S("div",{className:"sub-title"},c):null,m?S(f.Link,{route:m},S("a",{className:"text-gray-v1 ml__auto mr__15"},"Xem thêm")):null):c?S("div",{className:"sub-title"},c):null,t={listItem:(n=a,i=s,r=d,l?l.map(function(t,e){return S(y,{isMobile:n,customizeclass:"".concat(i||""),key:e,data:t,size:80,isHiddenJoinButton:r,isHiddenManagerButton:!0})}):null),handleOnSelect:function(t){o(t)},opts:{selected:null,isMobile:a,slideClassName:"".concat(u||"")},elementAbove:c,isUser:h,perView:t};return S(k.a,{data:t})}var b=n("q1tI"),r=n.n(b),f=n("8cHP"),g=n("65Qd"),_=n("OZ8X"),a=n("4IZf"),x=n.n(a),p=n("/MKj"),w=n("LpoC"),v=n("kKES"),C=n("v0uu"),O=n("hpSX"),j=n("WIrD"),N=n("nJJw"),k=n("yRsN"),I=n("RysE"),U=n("KQCm"),S=r.a.createElement;e.default=function(t){return S(i,{title:t.title,customizeclass:t.customizeclass,customizeItemClass:t.customizeItemClass,data:t.data,sliderAutoPlay:t.sliderAutoPlay,initialSlide:t.initialSlide,slidesToShow:t.slidesToShow,showArrows:t.showArrows,customizeSliderClass:t.customizeSliderClass})}},"x50/":function(t,e,n){"use strict";var i=[".modal-join-community{max-width:640px;}",".modal-join-community .ant-modal-content{border-radius:7px;}",".modal-join-community .ant-modal-body{line-height:25px !important;}","@media all and (max-width:640px){.modal-join-community{max-width:95%;}}"];i.__hash="1938102215",e.a=i},yRsN:function(t,e,n){"use strict";var i=n("q1tI"),r=n.n(i),i=n("YVwf"),a=n.n(i),o=r.a.createElement;e.a=function(t){var e=t.data,n=e.listItem,i=(e.handleOnSelect,e.opts),r=e.elementAbove,t=e.elementBellow,t=void 0===t?null:t,e=e.perView,i=(i.selected,i.isMobile,i.slideClassName);return o("div",{className:i},void 0===r?null:r,o(a.a,{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},speed:600,spaceBetween:0,breakpoints:{320:{slidesPerView:"auto"},480:{spaceBetween:10,slidesPerView:2},640:{spaceBetween:10,slidesPerView:3},768:{spaceBetween:10,slidesPerView:e||4}}},n),t)}}}]);

window.trackIt=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t,n){var r,i,a,o;o=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(e.isDate=function(e){return e instanceof Date},e.isEmpty=function(e){return 0===Object.keys(e).length},e.isObject=function(e){return null!=e&&"object"===(void 0===e?"undefined":n(e))});e.properObject=function(e){return r(e)&&!e.hasOwnProperty?t({},e):e}},i=[t],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){var r,i,a,o;o=function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,a){if(t===a||!(0,n.isObject)(t)||!(0,n.isObject)(a))return{};var o=(0,n.properObject)(t),s=(0,n.properObject)(a);return Object.keys(s).reduce(function(t,a){if(o.hasOwnProperty(a)){var u=e(o[a],s[a]);return(0,n.isObject)(u)&&(0,n.isEmpty)(u)?t:i({},t,r({},a,u))}return i({},t,r({},a,s[a]))},{})},e.exports=t.default},i=[e,t,n(0)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){var r,i,a,o;o=function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,a){if(t===a||!(0,n.isObject)(t)||!(0,n.isObject)(a))return{};var o=(0,n.properObject)(t),s=(0,n.properObject)(a);return Object.keys(o).reduce(function(t,a){if(s.hasOwnProperty(a)){var u=e(o[a],s[a]);return(0,n.isObject)(u)&&(0,n.isEmpty)(u)?t:i({},t,r({},a,u))}return i({},t,r({},a,void 0))},{})},e.exports=t.default},i=[e,t,n(0)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){var r,i,a,o;o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,i){if(t===i)return{};if(!(0,n.isObject)(t)||!(0,n.isObject)(i))return i;var a=(0,n.properObject)(t),o=(0,n.properObject)(i);return(0,n.isDate)(a)||(0,n.isDate)(o)?a.valueOf()==o.valueOf()?{}:o:Object.keys(o).reduce(function(t,i){if(a.hasOwnProperty(i)){var s=e(a[i],o[i]);return(0,n.isObject)(s)&&(0,n.isEmpty)(s)&&!(0,n.isDate)(s)?t:r({},t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i,s))}return t},{})},e.exports=t.default},i=[e,t,n(0)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDDL=t.validateDDL=t.setHandlers=void 0;var r,i=n(15),a=n(5),o=(r=a)&&r.__esModule?r:{default:r};t.setHandlers=i.setHandlers,t.validateDDL=o.default,t.updateDDL=i.updateDDL},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6),a=n(16),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return(0,o.default)(JSON.parse(JSON.stringify(e)),i.schema)},e.exports=t.default},function(e,t,n){"use strict";var r=n(19),i=n(17);e.exports={schema:r,version:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);n.d(t,"trackEvent",function(){return r.a}),n.d(t,"trackExperiment",function(){return r.b}),n.d(t,"clearExperiments",function(){return r.c}),n.d(t,"setHandlers",function(){return r.d}),n.d(t,"registerTracker",function(){return r.e}),n.d(t,"initialize",function(){return r.f})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return v});var r=n(4),i=(n.n(r),n(18)),a=n.n(i),o=n(20),s=n.n(o),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var c={},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.setHandlers.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.map(function(e){return e()})))},f=function(){return e=window.navigator,t=window.opera,e?e.userAgent||e.vendor:t||"";var e,t},p=function(){return function(e,t,n){return{userAgent:e,channel:n,width:{px:t&&t.width},height:{px:t&&t.height}}}(f(),window.screen,(e=f(),a()(e)?"mobile":"desktop"));var e},l=function(e){if(!e)return!1;var t=e.split("|").reduce(function(e,t){var n,r,i,a=t.split("=");return u({},e,(n={},r=a[0],i=a[1],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n))},{}),n=parseInt(t.uts,10)||0;return Date.now()-n<6e5},m=function(){return e=l(c.amexsessioncookie),t=c.blueboxpublic,n={authenticated:e},e&&(n.publicGuid=t),n;var e,t,n},y=function(){return e={pathname:window.location.pathname,href:window.location.href,title:document.title,referrer:document.referrer,locale:(o=c.axplocale,s=navigator.language,o||s||"en-US")},t=e.pathname,n=e.href,r=e.title,i=e.referrer,a=e.locale,{viewId:t,location:n,title:r||"No Title",referrer:i||void 0,locale:a,country:a.split("-")[1],language:a.split("-")[0]};var e,t,n,r,i,a,o,s},g=function(t){if(!window[s.a.app.globalInitPrefix+"_"+s.a.app.name]){var n=(window.TrackIt||{}).init,r=void 0===n?{}:n,i=r.locale,a=r.user,o=void 0===a?{}:a,c=r.products,d=void 0===c?[]:c,f=r.campaigns,l=void 0===f?[]:f,g={};"string"==typeof i&&(g={locale:i,language:i.split("-")[0],country:i.split("-")[1]}),o.visitorId&&(delete o.visitorId,console.warn("Preventing visitorId from being sent"));var v={view:u({},y(),g),user:u({},m(),o),products:d,device:p(),charset:document.charset,campaigns:l},b=e.history;["pushState","replaceState"].forEach(function(e){var n=b[e];"function"==typeof n&&(b[e]=function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=window.document.location.origin,a=n[1],o=n[2];t({view:u({},y(),g,{title:a||document.title,viewId:o,location:""+i+o})})}.apply(void 0,r),n.apply(this,r)})});var h=t(v);h&&h.valid&&function(e){window[s.a.app.globalInitPrefix+"_"+s.a.app.name]=e}(!0)}};var v=function(e,t,n,r){var i;(document.cookie||"").split(";").forEach(function(e){var t=e.trim(),n=t.indexOf("="),r=t.slice(0,n),i=t.slice(n+1);c[r]=i}),d(e),g(t),function(e){document.addEventListener("click",e,{capture:!0}),document.addEventListener("change",e,{capture:!0})}(n),(i=r)&&i()}}).call(t,n(21))},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return m}),n.d(t,"e",function(){return x}),n.d(t,"f",function(){return k});var r=n(4),i=(n.n(r),n(10)),a=n(8);n.o(r,"setHandlers")&&n.d(t,"d",function(){return r.setHandlers});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var u=void 0;function c(e){var t=n.i(r.updateDDL)(e),i=t.errors,a=void 0===i?[]:i,o=t.nextDataLayer,s=void 0===o?{}:o,u=t.valid,c=void 0===u||u,d=a.filter(function(e){return"Invalid schema type: undefined"!==e});return!c&&d.length>0&&window.TrackIt&&window.TrackIt.debug&&console.warn("Validation Warning: The following errors were found: ",d,s),t}var d=function(e){var t=e.identifier,n=e.element,r=e.type,i=e.detail,a=e.meta;if(t&&"string"!=typeof t)throw new TypeError("If provided, identifier must be a string, received "+(void 0===t?"undefined":s(t))+" instead.");if("string"!=typeof n)throw new TypeError("element must be a defined string, received "+(void 0===n?"undefined":s(n))+" instead.");if("string"!=typeof r)throw new TypeError("type must be a defined string, received "+(void 0===r?"undefined":s(r))+" instead.");if(i&&"string"!=typeof i)throw new TypeError("If provided, detail must be a string, received "+(void 0===i?"undefined":s(i))+" instead.");if(a&&"object"!==(void 0===a?"undefined":s(a)))throw new TypeError("If provided, meta must be an object, received "+(void 0===a?"undefined":s(a))+" instead.");if(Array.isArray(a))throw new TypeError("If provided, meta must be an object, received Array instead.")},f=[],p=function(e){!function(e){var t=e.dimension,n=e.id,r=e.name,i=e.source,a=e.variant;if("string"!=typeof t)throw new TypeError("dimension must be a defined string, received "+(void 0===t?"undefined":s(t))+" instead.");if("string"!=typeof n)throw new TypeError("id must be a defined string, received "+(void 0===n?"undefined":s(n))+" instead.");if("string"!=typeof r)throw new TypeError("name must be a defined string, received "+(void 0===r?"undefined":s(r))+" instead.");if("string"!=typeof a)throw new TypeError("variant must be a defined string, received "+(void 0===a?"undefined":s(a))+" instead.");if("string"!=typeof i)throw new TypeError("source must be a defined string, received "+(void 0===i?"undefined":s(i))+" instead.")}(e);var t=e.dimension,n=e.id,r=e.impressed,i={element:t,id:n,impressed:!!(void 0===r||r),name:e.name,source:e.source,variant:e.variant};f.push(i),c({campaigns:f})},l=function(){f.length=0,c({campaigns:f})},m=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=void 0;if("object"===s(t[0])){var i=t[0],a=i.identifier,u=void 0===a?window.location.pathname:a;r=o({},i,{identifier:u,timestamp:(new Date).toISOString()}),d(r)}else{var f=t[0],p=t[1],l=t[2],m=t[3];r={identifier:window.location.pathname,element:f,type:p,detail:l,meta:m,timestamp:(new Date).toISOString()},d(r)}return c({events:[r]})},y=function(e){var t=e.tagName.toLowerCase();return"a"===t||"button"===t||"button"===e.type?{element:e.dataset.trackitElement||e.id||e.name||t,detail:e.dataset.trackitDetail,identifier:e.dataset.trackitIdentifier}:null},g=function(e){var t=e.tagName.toLowerCase(),n={};switch(n.detail=e.dataset.trackitDetail,n.identifier=e.dataset.trackitIdentifier,t){case"select":return n.element=e.dataset.trackitElement||"option "+e.selectedIndex,n;case"input":case"textarea":return n.element=e.dataset.trackitElement||e.id||e.name||e.type,n;default:return null}};var v=function(e){var t=function(e){if(e.target.dataset.trackitDisable)return null;switch(e.type){case"click":return y(e.target);case"change":return g(e.target);default:return null}}(e);if(!t)return null;var n=t.element,r=t.identifier,i=t.detail,a=function(e){var t={};if("radio"===e.type)for(var n=document.querySelectorAll("[name='"+e.name+"']"),r=0;r<n.length;r++)if(n[r].checked){t.index=r;break}return"checkbox"===e.type&&(t.checked=e.checked),0===Object.keys(t).length?void 0:t}(e.target);return m({identifier:r,element:n,type:e.type,detail:i||function(e){var t=e.getBoundingClientRect(),n={x:t.x,y:t.y,top:t.top,bottom:t.bottom,left:t.left,right:t.right,width:t.width,height:t.height,tagName:e.tagName.toLowerCase()};return JSON.stringify(n)}(e.target),meta:a})},b=[],h=1,w=function(e){b.forEach(function(t){e.forEach(function(e){t.nodeList?t.nodeList.forEach(function(n){n===e.target&&t.callback(m,e)}):t.callback(m,e)})})};var O=function(){if(u){u.observe(document.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}},j=function(e,t){var n=function(){var e=h;return h+=1,e}();return b.push({id:n,nodeList:t,callback:e}),1===b.length&&O(),n},x=function(e,t){if("function"!=typeof e)throw new TypeError("registerTracker: callback must be a function.");if(t){if(t instanceof HTMLElement)return j(e,[t]);if(t instanceof NodeList)return j(e,[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)));throw new TypeError("registerTracker: target must be HTMLElement or NodeList.")}return j(e)};window.MutationObserver&&(u=new MutationObserver(w));var k=function(){n.i(a.a)(i.a,c,v)};window.TrackIt&&window.TrackIt.disableAutoTrack||n.i(a.a)(i.a,c,v)},function(e,t,n){"use strict";var r=n(11);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=function(){return null};t.a=function(){return function(e){var t={open:r,setRequestHeader:r,send:r};window.XMLHttpRequest&&(t=new XMLHttpRequest),t.open("POST","https://iwmap.americanexpress.com/beacon",!0),t.setRequestHeader("content-type","application/json"),t.withCredentials=!0,t.send(JSON.stringify(e))}}},function(e,t,n){var r,i,a,o;o=function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n),o=u(r),s=u(i);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return{added:(0,a.default)(e,t),deleted:(0,o.default)(e,t),updated:(0,s.default)(e,t)}},e.exports=t.default},i=[e,t,n(1),n(2),n(3)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){var r,i,a,o;o=function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,a){if(t===a)return{};if(!(0,n.isObject)(t)||!(0,n.isObject)(a))return a;var o=(0,n.properObject)(t),s=(0,n.properObject)(a),u=Object.keys(o).reduce(function(e,t){return s.hasOwnProperty(t)?e:i({},e,r({},t,void 0))},{});return(0,n.isDate)(o)||(0,n.isDate)(s)?o.valueOf()==s.valueOf()?{}:s:Object.keys(s).reduce(function(t,a){if(!o.hasOwnProperty(a))return i({},t,r({},a,s[a]));var u=e(o[a],s[a]);return(0,n.isObject)(u)&&(0,n.isEmpty)(u)&&!(0,n.isDate)(u)?t:i({},t,r({},a,u))},u)},e.exports=t.default},i=[e,t,n(0)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){var r,i,a,o;o=function(e,t,n,r,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detailedDiff=e.updatedDiff=e.deletedDiff=e.diff=e.addedDiff=void 0;var o=f(t),s=f(n),u=f(r),c=f(i),d=f(a);function f(e){return e&&e.__esModule?e:{default:e}}e.addedDiff=s.default,e.diff=o.default,e.deletedDiff=u.default,e.updatedDiff=c.default,e.detailedDiff=d.default},i=[t,n(13),n(1),n(2),n(3),n(12)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDDL=t.setHandlers=t.historyLimit=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(6),s=n(14),u=n(5),c=(r=u)&&r.__esModule?r:{default:r};var d={version:o.version,events:[],components:[],campaigns:[]},f=t.historyLimit=20,p=[],l=function(e,t){var n=Object.keys((0,s.diff)(e,t)).filter(function(e){return"diff"!==e}),r=Object.assign({},e,t,{diff:n});return n.some(function(e){return"events"===e})||(r.events=[]),r};t.setHandlers=function(){var e;window.digitalDataHandlers=window.digitalDataHandlers||[],window.digitalDataHandlers.push=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(function(e){var t=Array.isArray(e)?"array":void 0===e?"undefined":a(e);"function"===t?function(e){var t={diff:[],events:[],campaigns:[]};p.forEach(function(n){var r=l(t,n);try{e(r)}catch(e){}t=r})}(e):console.error("expected function, found "+t+".")}),Array.prototype.push.apply(window.digitalDataHandlers,t)},(e=window.digitalDataHandlers).push.apply(e,arguments)},t.updateDDL=function(e){if(d.timestamp=(new Date).toISOString(),"object"!==(void 0===e?"undefined":a(e))||Array.isArray(e))return{valid:!1,errors:[{message:"expected object, found "+(Array.isArray(e)?"array":void 0===e?"undefined":a(e))}]};var t=i({},d,e),n=l(d,t),r=i({},(0,c.default)(n),{nextDataLayer:n});if(!(r.errors.filter(function(e){return e.indexOf("Additional properties are not allowed")>-1}).length>0)){if(d=n,p.push(d),p.splice(0,p.length-f),window&&window.digitalDataHandlers&&!window.digitalDataHandlers.length)return{valid:!1,errors:[{message:"No handlers set."}]};window&&window.digitalDataHandlers&&window.digitalDataHandlers.forEach(function(e){try{e(r.nextDataLayer)}catch(e){}})}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=void 0,a=void 0;function o(e){i.push(e)}function s(e,t,n,r){return!r||(o("Attribute "+n+" is not of type "+t.type),!1)}function u(e,t,n){var i=n||"_ROOT_",c=t;if(!t.$ref||(c=function(e,t){for(var n=t.split("/"),r=e,i=0;i<n.length;i+=1){var o=n[i];r="#"===o?a:r[o]}return r}(t,t.$ref)))switch(c.type){case"object":!function(e,t,n){if(!s(0,t,n,"object"!==(void 0===e?"undefined":r(e))||Array.isArray(e)))return;var i=0,a=Object.keys(e),c=t.required?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.required)):[];if(t.properties)for(var d=Object.keys(t.properties),f=0;f<d.length;f+=1){var p=d[f],l=e[p],m=t.properties[p];if(void 0!==l){i+=1;var y=a.indexOf(p);if(a.splice(y,1),c.length){var g=c.indexOf(p);-1!==g&&c.splice(g,1)}u(l,m,n+"."+p)}}c.length&&o("Required attributes missing for "+n+"}: "+JSON.stringify(c));!1===t.additionalProperties&&a.length&&o("Additional properties are not allowed for "+n+": "+JSON.stringify(a));t.minProperties&&i<t.minProperties&&o(n+" must have at least "+t.minProperties+" properties ("+i+" found)");t.maxProperties&&i>t.maxProperties&&o(n+" must have no more than "+t.maxProperties+" properties ("+i+" found)")}(e,c,i);break;case"array":!function(e,t,n){if(!s(0,t,n,!Array.isArray(e)))return;if(t.items){if("object"!==r(t.items))return void o("Invalid schema: items is not an object in "+n);Array.isArray(t.items)?function(e,t,n){for(var r=0;r<t.length;r+=1)u(e[r],t[r],n+"["+r+"]")}(e,t.items,n):function(e,t,n){for(var r=0;r<e.length;r+=1)u(e[r],t,n+"["+r+"]")}(e,t.items,n)}t.minItems&&e.length<t.minItems&&o("Attribute "+n+" must contain at least "+t.minItems+" items");t.maxItems&&e.length>t.maxItems&&o("Attribute "+n+" must contain no more than "+t.maxItems+" items")}(e,c,i);break;case"string":!function(e,t,n){if(!s(0,t,n,"string"!=typeof e))return;if(t.pattern)if("string"!=typeof t.pattern)o("Schema pattern is not a string for attribute "+n);else{var r=new RegExp(t.pattern);r.test(e)||o("Attribute "+n+" does not match regular expression")}t.enum&&(Array.isArray(t.enum)?-1===t.enum.indexOf(e)&&o("Attribute "+n+" is not in the enum list"):o("Schema enum is not an Array for "+n));t.minLength&&"string"===t.type&&e.length<t.minLength&&o("Attribute "+n+" must have a minimum length of "+t.minLength);t.maxLength&&"string"===t.type&&e.length>t.maxLength&&o("Attribute "+n+" must have a maximum length of "+t.maxLength)}(e,c,i);break;case"number":case"integer":!function(e,t,n){var r="number"==typeof e,i=r&&Math.abs(e%1)<1e-10;if(!s(0,t,n,!r||"integer"===t.type&&!i))return;void 0!==t.minimum&&(t.exclusiveMinimum&&e<=t.minimum&&o("Attribute "+n+" must be greater than "+t.minimum),!t.exclusiveMinimum&&e<t.minimum&&o("Attribute "+n+" must be at least "+t.minimum));void 0!==t.maximum&&(t.exclusiveMaximum&&e>=t.maximum&&o("Attribute "+n+"} must be less than "+t.maximum),!t.exclusiveMaximum&&e>t.maximum&&o("Attribute "+n+" must be no greater than "+t.maximum));void 0!==t.multipleOf&&Math.abs(e%t.multipleOf)>1e-10&&o("Attribute "+n+" must be a multiple of "+t.multipleOf)}(e,c,i);break;case"boolean":!function(e,t,n){s(0,t.type,n,"boolean"!=typeof e)}(e,c,i);break;default:o("Invalid schema type: "+c.type)}else o("Invalid $ref: "+t.$ref)}t.default=function(e,t){return i=[],a=t,u(e,t),{valid:0===i.length,errors:i}},e.exports=t.default},function(e,t,n){"use strict";e.exports="1.4.0"},function(e,t){e.exports=function(e){e||"undefined"==typeof navigator||(e=navigator.userAgent);e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]);return"string"==typeof e&&(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",additionalProperties:!1,properties:{version:{type:"string",minLength:1},timestamp:{$ref:"#/definitions/timestamp"},charset:{type:"string",minLength:1},view:{type:"object",additionalProperties:!1,properties:{viewId:{type:"string",minLength:1},title:{type:"string",minLength:1},location:{type:"string",minLength:1},referrer:{type:"string",minLength:1},locale:{type:"string",minLength:1,pattern:"^[a-z]{2}-[A-Z]{2}$"},country:{type:"string",minLength:2,maxLength:2,pattern:"^[A-Z]{2}$"},language:{$ref:"#/definitions/language"},timestamp:{$ref:"#/definitions/timestamp"},metaData:{type:"object",additionalProperties:!1,properties:{businessUnit:{$ref:"#/definitions/businessUnit"},keywords:{type:"array",items:{type:"string"}}}}},required:["viewId","title","location","locale","country","language"]},components:{type:"array",uniqueItems:!0,items:{type:"object",required:["componentId","timestamp"],properties:{componentId:{type:"string",minLength:1},version:{type:"string",minLength:1},timestamp:{$ref:"#/definitions/timestamp"},metaData:{type:"object",additionalProperties:!1,properties:{businessUnit:{$ref:"#/definitions/businessUnit"},keywords:{type:"array",items:{type:"string"}}},required:["businessUnit","keywords"]},impressed:{type:"boolean"}}}},campaigns:{type:"array",items:{properties:{id:{type:"string",minLength:1},variant:{type:"string",minLength:1}}}},events:{type:"array",uniqueItems:!0,items:{type:"object",required:["identifier","element","type","timestamp"],properties:{identifier:{type:"string",minLength:1},element:{type:"string",minLength:1},type:{type:"string",minLength:1},detail:{type:"string",minLength:1},timestamp:{$ref:"#/definitions/timestamp"},meta:{type:"object",properties:{products:{type:"array",items:{anyOf:[{$ref:"#/definitions/product"},{$ref:"#/definitions/cardProduct"}]}},memberStatus:{type:"string"},start:{type:"boolean"},end:{type:"boolean"},lastPayment:{$ref:"#/definitions/date"},steps:{type:"array",uniqueItems:!0,items:{type:"string"}}}}}}},products:{type:"array",uniqueItems:!0,items:{$ref:"#/definitions/cardProduct"}},user:{type:"object",additionalProperties:!1,properties:{publicGuid:{type:"string",minLength:1,pattern:"^[0-9a-f]{32}$"},memberSince:{$ref:"#/definitions/date"},country:{type:"string",minLength:1},postalCode:{type:"string"},roles:{type:"object",additionalProperties:{$ref:"#/definitions/userRole"}},lastLogin:{$ref:"#/definitions/timestamp"},authenticated:{type:"boolean"},visitorId:{type:"string",pattern:"^([0-9]{38})?$"}},required:["authenticated"]},device:{type:"object",additionalProperties:!1,properties:{userAgent:{type:"string",minLength:1},channel:{type:"string",minLength:1},width:{$ref:"#/definitions/unitOfMeasurement"},height:{$ref:"#/definitions/unitOfMeasurement"},geoCoordinates:{type:"object",additionalProperties:!1,properties:{latitude:{$ref:"#/definitions/coordinate"},longitude:{$ref:"#/definitions/coordinate"}}}}},diff:{type:"array",items:{type:"string"}},app:{type:"object",additionalProperties:!1,properties:{version:{type:"string",minLength:1},appId:{type:"string",minLength:1}}}},required:["view","components","events","user","version","timestamp","charset"],definitions:{userRole:{type:"array",items:{$ref:"#/definitions/productId"}},productId:{type:"string",minLength:1},product:{type:"object",required:["type","description","locale"],properties:{type:{type:"string",minLength:1},id:{$ref:"#/definitions/productId"},selected:{type:"boolean"},description:{type:"string",minLength:1},setupDate:{type:"string",$ref:"#/definitions/date"},locale:{type:"string",minLength:1},currencyCode:{type:"string",minLength:1},timestamp:{$ref:"#/definitions/timestamp"}}},cardProduct:{allOf:[{$ref:"#/definitions/product"},{properties:{lineOfBusiness:{type:"string",minLength:1},status:{type:"array",items:{properties:{}}},paymentType:{type:"string",minLength:1},setupDate:{type:"string",$ref:"#/definitions/date"},rewards:{type:"object",additionalProperties:!1,properties:{type:{type:"string",minLength:1},tier:{type:"string",minLength:1},balance:{type:"number"}},required:["type","tier","balance"]}}}]},unitOfMeasurement:{type:"object",minProperties:1,maxProperties:1,properties:{px:{type:"number"},pt:{type:"number"}}},timestamp:{type:"string",minLength:1,pattern:"^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\\.[0-9]{3}Z$"},businessUnit:{type:"string",minLength:1,enum:["Servicing","Rewards"]},date:{type:"string",pattern:"^[0-9]{4}-[0-9]{2}-[0-9]{2}$",minLength:1},coordinate:{anyOf:[{type:["string","number"]}]},language:{type:"string",minLength:2,maxLength:2,enum:["ab","af","sq","ar","hy","as","az","ba","eu","bn","bi","br","bg","my","be","km","ca","zh","hr","cs","da","nl","en","et","fj","fi","fr","fy","gd","gl","ka","de","el","kl","he","hi","hu","is","id","ie","ga","it","ja","kk","ko","ku","lo","la","lv","lt","mk","mg","ml","mo","mn","ne","no","fa","pl","pt","pa","ro","ru","sa","sh","sk","es","su","sv","ta","tt","te","th","bo","tr","tk","uk","vi","cy"]}}}},function(e,t){e.exports={app:{name:"TRACKIT",globalInitPrefix:"AMEX_INIT"}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(7)}]);
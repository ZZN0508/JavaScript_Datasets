!function(i){var r={};function n(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=i,n.c=r,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dev/",n(n.s=6)}([function(e,t,i){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0,t.logger=(r=Boolean(window.localStorage.getItem("rcmLoggerEnabled")),n="rcm logger "+(r?"enabled":"disabled"),console.log(n),{error:(n=function(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r&&console[i].apply(console,e)}})("error"),log:n("log")})},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,i){"use strict";var r=String.prototype.replace,n=/%20/g,o="RFC1738",s="RFC3986";e.exports={default:s,formatters:{RFC1738:function(e){return r.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:o,RFC3986:s}},function(e,t,i){var r=i(15),i="object"==typeof self&&self&&self.Object===Object&&self,i=r||i||Function("return this")();e.exports=i},function(e,t,i){i=i(3).Symbol;e.exports=i},function(e,t,i){"use strict";function c(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(i[r]=e[r]);return i}var u=i(2),d=Object.prototype.hasOwnProperty,a=Array.isArray,l=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function r(n,o,s){if(!o)return n;if("object"!=typeof o){if(a(n))n.push(o);else{if(!n||"object"!=typeof n)return[n,o];(s&&(s.plainObjects||s.allowPrototypes)||!d.call(Object.prototype,o))&&(n[o]=!0)}return n}if(!n||"object"!=typeof n)return[n].concat(o);var e=n;return a(n)&&!a(o)&&(e=c(n,s)),a(n)&&a(o)?(o.forEach(function(e,t){var i;d.call(n,t)?(i=n[t])&&"object"==typeof i&&e&&"object"==typeof e?n[t]=r(i,e,s):n.push(e):n[t]=e}),n):Object.keys(o).reduce(function(e,t){var i=o[t];return d.call(e,t)?e[t]=r(e[t],i,s):e[t]=i,e},e)};e.exports={arrayToObject:c,assign:function(e,i){return Object.keys(i).reduce(function(e,t){return e[t]=i[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],r=0;r<t.length;++r)for(var n=t[r],o=n.obj[n.prop],s=Object.keys(o),c=0;c<s.length;++c){var d=s[c],u=o[d];"object"==typeof u&&null!==u&&-1===i.indexOf(u)&&(t.push({obj:o,prop:d}),i.push(u))}return function(e){for(;1<e.length;){var t=e.pop(),i=t.obj[t.prop];if(a(i)){for(var r=[],n=0;n<i.length;++n)void 0!==i[n]&&r.push(i[n]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,i){var r=e.replace(/\+/g," ");if("iso-8859-1"===i)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,i,r,n){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===i)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",c=0;c<o.length;++c){var d=o.charCodeAt(c);45===d||46===d||95===d||126===d||48<=d&&d<=57||65<=d&&d<=90||97<=d&&d<=122||n===u.RFC1738&&(40===d||41===d)?s+=o.charAt(c):d<128?s+=l[d]:d<2048?s+=l[192|d>>6]+l[128|63&d]:d<55296||57344<=d?s+=l[224|d>>12]+l[128|d>>6&63]+l[128|63&d]:(c+=1,d=65536+((1023&d)<<10|1023&o.charCodeAt(c)),s+=l[240|d>>18]+l[128|d>>12&63]+l[128|d>>6&63]+l[128|63&d])}return s},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var i=[],r=0;r<e.length;r+=1)i.push(t(e[r]));return i}return t(e)},merge:i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(7).injectRecommenderToWindow()},function(e,t,i){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.injectRecommenderToWindow=void 0;var l=i(0),f=i(8),h=i(9);t.injectRecommenderToWindow=function(){var s,c,d,u=window;void 0!==u.rcm?(s=null,c=0,d=setInterval(function(){try{var e=u.rcm.q;if(null==s&&void 0!==e)for(;c<e.length;c++){var t=e[c];if("setup"===t[0]){s=a({},t[1]);break}}if(null!=s){clearInterval(d);var i=new h.Recommender(s);u.rcm=f.rcm.bind(i);for(var r=0,n=e;r<n.length;r++){var o=n[r];f.rcm.apply(i,o)}}}catch(e){l.logger.error("rcm init",e)}},200)):l.logger.error("rcm is set up incorrectly")}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rcm=void 0;var r=i(0);t.rcm=function(e,t){r.logger.log("rcm event: '"+e+"', meta:",t);try{var i=this;switch(e){case"setContext":i.setContext(t);break;case"addToBookmarks":i.sendAddToBookmarks(t);break;case"addToWatchlist":i.sendAddToWatchlist(t);break;case"blockinit":i.sendBlockInit(t);break;case"click":i.sendClick(t);break;case"dislike":i.sendDislike(t);break;case"like":i.sendLike(t);break;case"pageread":i.sendPageRead(t);break;case"pageview":i.sendPageView(t);break;case"autopageview":i.sendAutoPageView(t);break;case"hubpageview":i.sendHubPageView(t);break;case"removeFromBookmarks":i.sendRemoveFromBookmarks(t);break;case"removeFromWatchlist":i.sendRemoveFromWatchlist(t);break;case"show":i.sendShow(t);break;case"subscribe":i.sendSubscribe(t);break;case"unsubscribe":i.sendUnsubscribe(t);break;case"videoFullScreenOff":i.sendVideoFullScreenOff(t);break;case"videoFullScreenOn":i.sendVideoFullScreenOn(t);break;case"videoProgress":i.sendVideoProgress(t);break;case"videoPause":i.sendVideoPause(t);break;case"videoStart":i.sendVideoStart(t);break;case"visibleShow":i.sendVisibleShow(t);break;case"fulltextShow":i.sendFulltextShow(t);break;case"fulltextClick":i.sendFulltextClick(t);break;case"showAd":i.sendShowAd(t);break;case"activityPing":i.sendActivityPing(t);break;case"scrollEnd":i.sendScrollEnd(t);break;case"readEnd":i.sendReadEnd(t)}}catch(e){console.error("rcm error",e)}}},function(e,t,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Recommender=void 0;var o=i(10),s=i(23),c=i(0),d=i(27),u=n(i(28)),a=n(i(32)),i=(l.prototype.setContext=function(e){this.userId=e.userId},l.prototype.sendAddToBookmarks=function(e){var t={editorChoice:null,event:"rvaddbm",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendAddToWatchlist=function(e){var t={editorChoice:null,event:"rvaddwl",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendBlockInit=function(e){var t={blockId:e.blockId,editorChoice:null,event:"blockinit",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.contextItemId||"null")},l.prototype.sendClick=function(e){var t=e.item.show_id||null,i={blockId:e.blockId,contextItemId:e.contextItemId,editorChoice:null,event:"click",itemRcmId:e.item.rcm_id,position:""+e.position,prefix:"rec",requestId:e.requestId,section:e.section,showId:t,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(i,e.item.item_id,{transport:"beacon"});t=u.default({markerKey:"rcmrclid",markerValue:""+t});history.replaceState({},"",t)},l.prototype.sendDislike=function(e){var t={editorChoice:e.reason,event:"dislike",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendLike=function(e){var t={editorChoice:e.reason,event:"like",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendPageRead=function(e){var t={editorChoice:null,event:"pageread",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendPageView=function(e){this.updatePVId();var t={editorChoice:null,event:"pageview",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId),this.activityTrackerRunCommand("start",e.itemId),this.microdataObserverRunCommand("start",e.itemId)},l.prototype.sendAutoPageView=function(e){this.updatePVId();var t={editorChoice:null,event:"autopageview",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId),this.activityTrackerRunCommand("start",e.itemId),this.microdataObserverRunCommand("start",e.itemId)},l.prototype.sendHubPageView=function(e){this.updatePVId();var t={editorChoice:null,event:"hubpageview",itemRcmId:this.rcmId,prefix:"rec",section:null,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.hubId),this.activityTrackerRunCommand("start",e.hubId),this.microdataObserverRunCommand("stop")},l.prototype.sendRemoveFromBookmarks=function(e){var t={editorChoice:null,event:"rvrmbm",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendRemoveFromWatchlist=function(e){var t={editorChoice:null,event:"rvrmwl",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendShow=function(e){var t={blockId:e.blockId,contextItemId:e.contextItemId,editorChoice:null,event:"show",itemRcmId:e.item.rcm_id,position:""+e.position,prefix:"rec",requestId:e.requestId,section:e.section,showId:e.item.show_id||null,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCVBatched(t,e.item.item_id)},l.prototype.sendShowAd=function(e){e={blockId:e.blockId,contextItemId:e.contextItemId,editorChoice:null,event:"showAd",position:""+e.position,prefix:"rec",requestId:e.requestId,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCVBatched(e,"null")},l.prototype.sendVisibleShow=function(e){var t={blockId:e.blockId,contextItemId:e.contextItemId,editorChoice:null,event:"visibleShow",itemRcmId:e.item.rcm_id,position:""+e.position,prefix:"rec",requestId:e.requestId,section:e.section,showId:e.item.show_id||null,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCVBatched(t,e.item.item_id)},l.prototype.sendFulltextShow=function(e){this.updatePVId();var t={blockId:e.blockId,contextItemId:e.contextItemId,editorChoice:null,event:"fulltext_show",itemRcmId:e.item.rcm_id,position:""+e.position,prefix:"rec",requestId:e.requestId,section:e.section,showId:e.item.show_id||null,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCVBatched(t,e.item.item_id),this.activityTrackerRunCommand("start",e.item.item_id),this.microdataObserverRunCommand("start",e.item.item_id)},l.prototype.sendFulltextClick=function(e){var t={blockId:e.blockId,contextItemId:e.contextItemId,editorChoice:null,event:"fulltext_click",itemRcmId:e.item.rcm_id,position:""+e.position,prefix:"rec",requestId:e.requestId,section:e.section,showId:e.item.show_id||null,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.item.item_id,{transport:"beacon"})},l.prototype.sendSubscribe=function(e){var t={editorChoice:null,event:"subscribe",itemRcmId:this.rcmId,position:e.authorId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.contextItemId||"null")},l.prototype.sendUnsubscribe=function(e){var t={editorChoice:null,event:"unsubscribe",itemRcmId:this.rcmId,position:e.authorId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.contextItemId||"null")},l.prototype.sendVideoFullScreenOff=function(e){var t={editorChoice:null,event:"rvfoff",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendVideoFullScreenOn=function(e){var t={editorChoice:null,event:"rvfon",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendVideoProgress=function(e){var t={blockId:""+e.duration,editorChoice:null,event:"rvp",itemRcmId:this.rcmId,prefix:"rec",section:e.section,showId:""+e.progress,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendVideoPause=function(e){var t={editorChoice:null,event:"rvpause",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendVideoStart=function(e){var t={editorChoice:null,event:"rvs",itemRcmId:this.rcmId,prefix:"rec",section:e.section,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendActivityPing=function(e){c.logger.log("rcm event: 'activityPing', meta:",e);var t={activityCounters:e.activityCounters,activityDurations:e.activityDurations,duration:e.duration,editorChoice:"2",event:"activityPing",itemRcmId:this.rcmId,position:e.num?e.num.toString():"null",prefix:"rec",timestamp:e.timestamp,userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId,{transport:"beacon"})},l.prototype.sendScrollEnd=function(e){c.logger.log("rcm event: 'scrollEnd', meta:",e);var t={duration:e.duration,event:"scrollEnd",itemRcmId:this.rcmId,portion:e.portion,prefix:"rec",userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.sendReadEnd=function(e){c.logger.log("rcm event: 'readEnd', meta:",e);var t={duration:e.duration,event:"readEnd",itemRcmId:this.rcmId,portion:e.portion,prefix:"rec",userId:this.userId,xuid:this.xuid,xuidRcmId:this.rcmId};this.sendCV(t,e.itemId)},l.prototype.microdataObserverRunCommand=function(e,t){var i=this;this.microdataObserver&&("start"===e&&t?this.microdataObserver.observe(t,function(e){i.sendScrollEnd(r(r({},e),{itemId:t}))},function(e){i.sendReadEnd(r(r({},e),{itemId:t}))}):"stop"===e&&this.microdataObserver.stopObserving())},l.prototype.activityTrackerRunCommand=function(e,t){var i=this;this.activityTrackerManager&&("start"===e&&t?this.activityTrackerManager.start(function(e){i.sendActivityPing(r(r({},e),{itemId:t}))}):"stop"===e&&this.activityTrackerManager.stop())},l.prototype.updatePVId=function(){this.isFirstPVId?this.isFirstPVId=!1:this.pvId=a.default()},l.prototype.sendCV=function(e,t,i){var r=((r={})[this.buildEventKey(e)]=t,r);this.top100.sendCustomVars(r,i)},l.prototype.sendCVBatched=function(e,t){var i=((i={})[this.buildEventKey(e)]=t,i);this.top100Batched.push(i)},l.prototype.buildEventKey=function(e){var t=r(r({},e),{currentUrl:window.location.href,isAmp:this.isAmp,pvId:this.pvId,referrer:document.referrer});return[t.prefix,t.section||"null",t.editorChoice||"null",t.position||"null",t.event,t.blockId||"null",t.showId||"null",t.xuid||"null",t.contextItemId||"null",t.itemRcmId||"null",t.xuidRcmId||"null",t.userId||"null",t.referrer||"null",t.requestId||"null",t.currentUrl||"null",null!==(e=t.timestamp)&&void 0!==e?e:"null",null!==(e=t.duration)&&void 0!==e?e:"null","null",t.pvId,null!==(e=t.activityCounters)&&void 0!==e?e:"null",null!==(e=t.activityDurations)&&void 0!==e?e:"null",null!==(e=t.portion)&&void 0!==e?e:"null",t.isAmp].join("::")},l);function l(e){this.top100=e.top100Counter,this.top100Batched=new d.Top100Batched(this.top100),this.rcmId=e.rcmId,this.xuid=e.xuid,this.userId=e.userId,this.isAmp=null!==(t=e.isAmp)&&void 0!==t&&t,this.pvId=a.default(),this.isFirstPVId=!0;var e=null===(t=e.isActivityTrackerEnabled)||void 0===t||t,t=e?"enabled":"disabled";c.logger.log("rcm activity tracker "+t),this.activityTrackerManager=e?new o.ActivityTrackerManager:null;e="RCM-9780"===this.rcmId;this.microdataObserver=e?new s.MicrodataObserver:null}t.Recommender=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityTrackerManager=void 0;var r=i(11),i=(n.prototype.start=function(e){this.stop();e={onPing:e};this.stopActivityTracker=r.startActivityTracker(e)},n.prototype.stop=function(){this.stopActivityTracker&&this.stopActivityTracker(!0),this.reset()},n.prototype.reset=function(){this.stopActivityTracker=null},n);function n(){this.stopActivityTracker=null,this.reset()}t.ActivityTrackerManager=i},function(e,t,i){"use strict";var p=this&&this.__assign||function(){return(p=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.startActivityTracker=void 0;var m,v=r(i(12));(i=m=m||{})[i.Visible=0]="Visible",i[i.Hidden=1]="Hidden";var i=6e4,y=[5e3,1e4,3e4,i,12e4,18e4,3e5,48e4,78e4,126e4,204e4],I=250;t.startActivityTracker=function(n){function t(){var t,e=Date.now(),i=e-d,r={activityCounters:a.map(function(e){return e.value}).join("_"),activityDurations:(t=i,a.map(function(e){return Math.min(e.value*I,t)}).join("_")),duration:i,num:o++,timestamp:e};n.onPing(r),a.forEach(function(e){return e.value=0}),u+=i,d=e}function i(){c=document.hidden?(f(!0),m.Hidden):(e(),m.Visible)}function r(){f(!0),c=m.Hidden}var o=1,s=null,c=m.Visible,d=Date.now(),u=0,a=[{eventName:"scroll",value:0},{eventName:"mousemove",value:0},{eventName:"click",value:0},{eventName:"keydown",value:0},{eventName:"resize",value:0}].map(function(e,t){return p(p({},e),{eventHandler:v.default(function(){return a[t].value++},I)})}),l=function(){var e=function(){for(var e=null,t=0,i=y;t<i.length;t++){var r=i[t];if(u<r){e=r-u;break}}return e}();e?s=window.setTimeout(function(){t(),l()},e):h(!1)},f=function(e){c!==m.Hidden&&(s&&window.clearTimeout(s),s=null,e&&t())},e=function(){c!==m.Visible&&(d=Date.now(),l())},h=function(e){f(e),document.removeEventListener("visibilitychange",i),window.removeEventListener("pagehide",r),a.forEach(function(e){return window.removeEventListener(e.eventName,e.eventHandler)})};return l(),document.addEventListener("visibilitychange",i),window.addEventListener("pagehide",r),a.forEach(function(e){return window.addEventListener(e.eventName,e.eventHandler)}),h}},function(e,t,i){var o=i(13),s=i(1);e.exports=function(e,t,i){var r=!0,n=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return s(i)&&(r="leading"in i?!!i.leading:r,n="trailing"in i?!!i.trailing:n),o(e,t,{leading:r,maxWait:t,trailing:n})}},function(e,t,i){var I=i(1),b=i(14),g=i(17),x=Math.max,w=Math.min;e.exports=function(r,i,e){var n,o,s,c,d,u,a=0,l=!1,f=!1,t=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function h(e){var t=n,i=o;return n=o=void 0,a=e,c=r.apply(i,t)}function p(e){var t=e-u;return void 0===u||i<=t||t<0||f&&s<=e-a}function m(){var e,t=b();if(p(t))return v(t);d=setTimeout(m,(t=i-((e=t)-u),f?w(t,s-(e-a)):t))}function v(e){return d=void 0,t&&n?h(e):(n=o=void 0,c)}function y(){var e=b(),t=p(e);if(n=arguments,o=this,u=e,t){if(void 0===d)return a=t=u,d=setTimeout(m,i),l?h(t):c;if(f)return clearTimeout(d),d=setTimeout(m,i),h(u)}return void 0===d&&(d=setTimeout(m,i)),c}return i=g(i)||0,I(e)&&(l=!!e.leading,f="maxWait"in e,s=f?x(g(e.maxWait)||0,i):s,t="trailing"in e?!!e.trailing:t),y.cancel=function(){void 0!==d&&clearTimeout(d),n=u=o=d=void(a=0)},y.flush=function(){return void 0===d?c:v(b())},y}},function(e,t,i){var r=i(3);e.exports=function(){return r.Date.now()}},function(t,e,i){(function(e){e="object"==typeof e&&e&&e.Object===Object&&e;t.exports=e}).call(this,i(16))},function(e,t){var i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){var r=i(1),n=i(18),o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(n(e))return NaN;if(r(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=r(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var t=c.test(e);return t||d.test(e)?u(e.slice(2),t?2:8):s.test(e)?NaN:+e}},function(e,t,i){var r=i(19),n=i(22);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==r(e)}},function(e,t,i){var r=i(4),n=i(20),o=i(21),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(s&&s in Object(e)?n:o)(e)}},function(e,t,i){var r=i(4),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,c),i=e[c];try{var r=!(e[c]=void 0)}catch(e){}var n=s.call(e);return r&&(t?e[c]=i:delete e[c]),n}},function(e,t){var i=Object.prototype.toString;e.exports=function(e){return i.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MicrodataObserver=void 0;var n=i(0),c=i(24),d=i(25),u=i(26),i=(r.prototype.observe=function(e,t,i){var r;"IntersectionObserver"in window&&(this.itemObservedStructure[e]||((r=document.querySelector("[itemprop=identifier][content="+e+"]"))?(r=r.parentNode.querySelector("[itemprop=articleBody]"))?(this.itemObservedStructure[e]=!0,this.elementObservers.push(this.createObserver(r,this.elementObservers.length,t,i)),null!==(i=this.elementObservers[this.elementObservers.length-1])&&void 0!==i&&i.observe(r)):n.logger.log("There is no articleBody element"):n.logger.log("There is no identifier element")))},r.prototype.stopObserving=function(){this.itemObservedStructure={},this.elementObservers.forEach(function(e){return null==e?void 0:e.disconnect()}),document.removeEventListener("visibilitychange",this.handleVisibilityChange),window.removeEventListener("pagehide",this.handlePageHide),window.removeEventListener("pageshow",this.handlePageShow)},r.prototype.createObserver=function(e,t,i,r){var n=u.getTotalTimeToReadArticle(e),o=d.buildThresholdList(e),s=(o[o.length-1]-o[0])/(o.length-1);return new IntersectionObserver(this.onObserve(t,i,r,n,s),{rootMargin:c.buildRootMargin(e),threshold:o})},r.prototype.onObserve=function(n,o,s,c,d){var u=this,a=0,l=0;return function(e,t){var i=e[0];if(i.isIntersecting&&a+u.epsilon<i.intersectionRatio){var r=Math.round(i.time-l)-u.timeOfHiddenPage,e={duration:r,portion:Math.round(100*i.intersectionRatio)};if(o(e),c*d<=r&&s(e),1<=i.intersectionRatio+u.epsilon)return t.disconnect(),u.elementObservers[n]=null,void(u.timeOfHiddenPage=0);u.timeOfHiddenPage=0,a=i.intersectionRatio,l=i.time}}},r);function r(){var e=this;this.elementObservers=[],this.itemObservedStructure={},this.epsilon=.04,this.startCountHiddenPage=0,this.timeOfHiddenPage=0,this.isPageHideEventAlreadyRun=!1,this.handleVisibilityChange=function(){document.hidden?e.startCountHiddenPage=Date.now():e.timeOfHiddenPage+=Date.now()-e.startCountHiddenPage},this.handlePageHide=function(){e.isPageHideEventAlreadyRun=!0,e.startCountHiddenPage=Date.now()},this.handlePageShow=function(){e.isPageHideEventAlreadyRun&&(e.timeOfHiddenPage+=Date.now()-e.startCountHiddenPage,e.isPageHideEventAlreadyRun=!1)},document.addEventListener("visibilitychange",this.handleVisibilityChange),window.addEventListener("pagehide",this.handlePageHide),window.addEventListener("pageshow",this.handlePageShow)}t.MicrodataObserver=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildRootMargin=void 0;t.buildRootMargin=function(e){var t="0px",i=document.documentElement.clientHeight,e=e.parentNode.offsetHeight;return(t=i<e?e+"px":t)+" 0px 0px 0px"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildThresholdList=void 0;t.buildThresholdList=function(e){var t=document.documentElement.clientHeight,e=e.offsetHeight;switch(Math.round(e/t)){case 0:case 1:return[1];case 2:return[.5,1];case 3:return[.33,.66,1];default:return[.25,.5,.75,1]}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalTimeToReadArticle=void 0;t.getTotalTimeToReadArticle=function(e){var t=e.querySelectorAll("[style*=background-image]").length+e.querySelectorAll("img").length;return Math.round((null===(e=e.textContent)||void 0===e?void 0:e.length)/50*1e3)+3*t*1e3}},function(e,t,i){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Top100Batched=void 0;var r="undefined"!=typeof performance?performance.now.bind(performance):function(){return+Date.now()},n=(s.prototype.push=function(e){this.queue.push(e),this.lastEventTime=this.now(),this.maybeFlush()},s.prototype.now=function(){return r()},s.prototype.queueFlush=function(){var e=this;setTimeout(function(){e.maybeFlush()},this.maxTimeInQueueMilliseconds)},Object.defineProperty(s.prototype,"isFlushRequired",{get:function(){return 0!==this.queue.length&&(this.queue.length>=this.maxBatchSize||!(null!==this.lastEventTime&&this.now()-this.lastEventTime<this.maxTimeInQueueMilliseconds))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isQueueEmpty",{get:function(){return 0===this.queue.length},enumerable:!1,configurable:!0}),s.prototype.maybeFlush=function(){for(;this.isFlushRequired;)this.flush();this.isQueueEmpty||this.queueFlush()},s.prototype.flush=function(){for(var e=this.queue.splice(0,this.maxBatchSize),t={},i=0,r=e;i<r.length;i++)var n=r[i],t=o(o({},t),n);0!==e.length&&this.top100.sendCustomVars(t)},s);function s(e,t,i){void 0===t&&(t=300),void 0===i&&(i=8),this.top100=e,this.maxTimeInQueueMilliseconds=t,this.maxBatchSize=i,this.lastEventTime=null,this.queue=[]}t.Top100Batched=n},function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(29));t.default=function(e){var t=e.markerKey,i=e.markerValue,e=(r=document.location).protocol+"//"+r.host+r.pathname,r=o.default.parse(r.search,{ignoreQueryPrefix:!0});return e+"?"+o.default.stringify(n(n({},r),((r={})[t]=i,r)))}},function(e,t,i){"use strict";var r=i(30),n=i(31),i=i(2);e.exports={formats:i,parse:n,stringify:r}},function(e,t,i){"use strict";function g(e,t){r.apply(e,O(t)?t:[t])}function x(e,t,i,r,n,o,s,c,d,u,a,l,f,h){var p=e;if("function"==typeof s?p=s(t,p):p instanceof Date?p=u(p):"comma"===i&&O(p)&&(p=w.maybeMap(p,function(e){return e instanceof Date?u(e):e})),null===p){if(r)return o&&!f?o(t,k.encoder,h,"key",a):t;p=""}if(e=p,"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e||w.isBuffer(p))return o?[l(f?t:o(t,k.encoder,h,"key",a))+"="+l(o(p,k.encoder,h,"value",a))]:[l(t)+"="+l(String(p))];var m,v=[];if(void 0===p)return v;m="comma"===i&&O(p)?[{value:0<p.length?p.join(",")||null:void 0}]:O(s)?s:(e=Object.keys(p),c?e.sort(c):e);for(var y=0;y<m.length;++y){var I=m[y],b="object"==typeof I&&void 0!==I.value?I.value:p[I];n&&null===b||(I=O(p)?"function"==typeof i?i(t,I):t:t+(d?"."+I:"["+I+"]"),g(v,x(b,I,i,r,n,o,s,c,d,u,a,l,f,h)))}return v}var w=i(5),u=i(2),a=Object.prototype.hasOwnProperty,l={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},O=Array.isArray,r=Array.prototype.push,n=Date.prototype.toISOString,i=u.default,k={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:w.encode,encodeValuesOnly:!1,format:i,formatter:u.formatters[i],indices:!1,serializeDate:function(e){return n.call(e)},skipNulls:!1,strictNullHandling:!1};e.exports=function(e,t){var i=e,r=function(e){if(!e)return k;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||k.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=u.default;if(void 0!==e.format){if(!a.call(u.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var r=u.formatters[i],n=k.filter;return"function"!=typeof e.filter&&!O(e.filter)||(n=e.filter),{addQueryPrefix:("boolean"==typeof e.addQueryPrefix?e:k).addQueryPrefix,allowDots:void 0===e.allowDots?k.allowDots:!!e.allowDots,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:k).charsetSentinel,delimiter:(void 0===e.delimiter?k:e).delimiter,encode:("boolean"==typeof e.encode?e:k).encode,encoder:("function"==typeof e.encoder?e:k).encoder,encodeValuesOnly:("boolean"==typeof e.encodeValuesOnly?e:k).encodeValuesOnly,filter:n,format:i,formatter:r,serializeDate:("function"==typeof e.serializeDate?e:k).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:k).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:k).strictNullHandling}}(t);"function"==typeof r.filter?i=(0,r.filter)("",i):O(r.filter)&&(s=r.filter);var n=[];if("object"!=typeof i||null===i)return"";e=t&&t.arrayFormat in l?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat";var o=l[e],s=s||Object.keys(i);r.sort&&s.sort(r.sort);for(var c=0;c<s.length;++c){var d=s[c];r.skipNulls&&null===i[d]||g(n,x(i[d],d,o,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}t=n.join(r.delimiter),e=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""}},function(e,t,i){"use strict";function l(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e}function d(e,t){var i,r,n,o,s={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,e=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,e),u=-1,a=t.charset;if(t.charsetSentinel)for(i=0;i<d.length;++i)0===d[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[i]?a="utf-8":"utf8=%26%2310003%3B"===d[i]&&(a="iso-8859-1"),u=i,i=d.length);for(i=0;i<d.length;++i)i!==u&&((o=-1===(o=-1===(o=(r=d[i]).indexOf("]="))?r.indexOf("="):o+1)?(n=t.decoder(r,m.decoder,a,"key"),t.strictNullHandling?null:""):(n=t.decoder(r.slice(0,o),m.decoder,a,"key"),f.maybeMap(l(r.slice(o+1),t),function(e){return t.decoder(e,m.decoder,a,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===a&&(o=o.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),-1<r.indexOf("[]=")&&(o=p(o)?[o]:o),h.call(s,n)?s[n]=f.combine(s[n],o):s[n]=o);return s}function u(e,t,i,r){if(e){var n=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,s=0<i.depth&&/(\[[^[\]]*])/.exec(n),e=s?n.slice(0,s.index):n,c=[];if(e){if(!i.plainObjects&&h.call(Object.prototype,e)&&!i.allowPrototypes)return;c.push(e)}for(var d=0;0<i.depth&&null!==(s=o.exec(n))&&d<i.depth;){if(d+=1,!i.plainObjects&&h.call(Object.prototype,s[1].slice(1,-1))&&!i.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+n.slice(s.index)+"]"),function(e,t,i,r){for(var n=r?t:l(t,i),o=e.length-1;0<=o;--o){var s,c,d,u=e[o];"[]"===u&&i.parseArrays?s=[].concat(n):(s=i.plainObjects?Object.create(null):{},c="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,d=parseInt(c,10),i.parseArrays||""!==c?!isNaN(d)&&u!==c&&String(d)===c&&0<=d&&i.parseArrays&&d<=i.arrayLimit?(s=[])[d]=n:s[c]=n:s={0:n}),n=s}return n}(c,t,i,r)}}var f=i(5),h=Object.prototype.hasOwnProperty,p=Array.isArray,m={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:f.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};e.exports=function(e,t){var i=function(e){if(!e)return m;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=(void 0===e.charset?m:e).charset;return{allowDots:void 0===e.allowDots?m.allowDots:!!e.allowDots,allowPrototypes:("boolean"==typeof e.allowPrototypes?e:m).allowPrototypes,arrayLimit:("number"==typeof e.arrayLimit?e:m).arrayLimit,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:m).charsetSentinel,comma:("boolean"==typeof e.comma?e:m).comma,decoder:("function"==typeof e.decoder?e:m).decoder,delimiter:("string"==typeof e.delimiter||f.isRegExp(e.delimiter)?e:m).delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:m.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof e.interpretNumericEntities?e:m).interpretNumericEntities,parameterLimit:("number"==typeof e.parameterLimit?e:m).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:m).plainObjects,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:m).strictNullHandling}}(t);if(""===e||null==e)return i.plainObjects?Object.create(null):{};for(var r="string"==typeof e?d(e,i):e,n=i.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s)var c=o[s],c=u(c,r[c],i,"string"==typeof e),n=f.merge(n,c,i);return f.compact(n)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Uint32Array(10);crypto.getRandomValues(e);for(var t=0,i=0,r=Array.from(e);i<r.length;i++)t^=r[i];return Date.now()+"-"+Math.random().toString(16).substring(2)+"-"+Math.abs(t)}}]);
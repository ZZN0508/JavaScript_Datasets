window["adrum-start-time"]=(new Date).getTime(),function(t){t.appKey="AD-AAB-AAK-NHR",appd_appkey&&(t.appKey=appd_appkey),t.adrumExtUrlHttp="http://cdn.appdynamics.com",t.adrumExtUrlHttps="https://cdn.appdynamics.com",t.beaconUrlHttp="http://col.eum-appdynamics.com",t.beaconUrlHttps="https://col.eum-appdynamics.com",t.xd={enable:!1}}(window["adrum-config"]||(window["adrum-config"]={})),new function(){var m,o,t,i,a,n,s,r,u,c,e,l,p,f,h,d,g,v,y,b,w,T,E,A,P,M,C,S,R,x,D,k,I,j,L,U,O,N,_,V,H,B,F,X,G,$,z,q,J,K,W,Q,Y,Z,tt,et,nt,rt,it,ot,at,st,ut,ct,lt,pt,ft,ht,dt,mt,gt,vt,yt,bt,wt,Tt;function Et(){this.H=new a.ah,this.ke=!1}function At(){this.h=new r.NgVPageView}function Pt(t){return(t=e.call(this,t)||this).me=!0,t.Ja={},t.ra=0,t.El=[],t.digestCount(0),t.constructor!=Pt?u.reportAPIMessage(u.I.U,u.sa,"ADRUM.events.Ajax",[]):t.stopCorrelatingXhrs(),t}function Mt(t){return t=g.call(this,t)||this,h.utils.isDefined(h.ng)&&t.constructor!=h.ng.NgVPageView&&t.constructor!=Mt&&h.reportAPIMessage(h.I.U,h.sa,"ADRUM.events.VPageView",[]),h.conf.spa2||(t.perf=new h.PerformanceTracker,t.start(),h.monitor.ia.tc(),h.monitor.la.Dj()),t}function Ct(e,t,n,r,i,o){if(t)try{return t.apply(e,[n,r,i].concat(o))}catch(t){return e.error(n,r,i,o,v.Error.lg,"an exception occurred in a caller-provided callback function",t)}}function St(t){w.log("M61",t);var e=new Date;e.setTime(e.getTime()-1e3),document.cookie=t+"=;Expires="+e.toUTCString()}function Rt(){}function xt(t){return(t=S.call(this,t)||this).perf=new M.PerformanceTracker,M.monitor.ia.tc(),t}function Dt(){var t=D.call(this)||this;return t.conf=null,t.Cc=!1,!(t.Bb=0)===window["adrum-xhr-disable"]?(R.log("M23"),t):window.XMLHttpRequest?(t.conf={exclude:[{urls:[{pattern:R.conf.beaconUrlHttp+R.conf.corsEndpointPath},{pattern:R.conf.beaconUrlHttps+R.conf.corsEndpointPath}]}],include:[],maxPerPageView:Dt.Vc},Dt.Qe(t.conf,R.conf.userConf&&R.conf.userConf.xhr),t.g=window.XMLHttpRequest.prototype,t.g?"open"in t.g&&"send"in t.g?(t.Cc=R.aop.support(t.g.open)&&R.aop.support(t.g.send),t.Cc||R.log("M27")):R.log("M26"):R.log("M25"),t):(R.log("M24"),t)}function kt(t){return z.call(this,t)||this}function It(t){return(t=K.call(this,t)||this).constructor!=It&&t.constructor!=J.AdrumAjax&&q.reportAPIMessage(q.I.U,q.sa,"ADRUM.events.Ajax",[]),t}function jt(){this.sb=[],this.lb(jt.Ab,0)}function Lt(){this.jc=this.navTiming=this.resTiming=null}function Ut(){return null!==et&&et.apply(this,arguments)||this}function Ot(t){return(t=rt.call(this,t)||this).constructor!=Ot&&nt.reportAPIMessage(nt.I.U,nt.sa,"ADRUM.events.Error",[]),t}function Nt(t,e){for(var n in t=t||{})e[n]=function(){var r=n,i=t[n];return function(t){var e="_"+r,n=this[e];if(it.utils.isDefined(t)){if(typeof t!==i)throw it.reportAPIMessage(it.I.Pc,e="wrong type of "+r+" value, "+typeof t+" passed in but should be a "+i+".","ADRUM.report",Array.prototype.slice.call(arguments)),TypeError(e);this[e]=t}return n}}()}function _t(t){this.perf=new it.PerformanceTracker,"Object"===this.constructor.name&&it.reportAPIMessage(it.I.U,it.sa),this.timestamp(it.utils.now()),this.guid(it.utils.generateGUID()),this.url(document.URL),this.pb(t)}function Vt(){this.R={}}function Ht(){this.Ta=[],this.Ac=new mt(Ht.Lg),this.cc=new mt(Ht.Eg)}function Bt(t){this.max=t,this.Ib=0}function Ft(t){return yt.Y.slice.apply(t,yt.Y.slice.call(arguments,1))}function Xt(t){return null!=t}function Gt(t){return"object"==typeof t&&!yt.isArray(t)&&null!==t}function $t(t){return"function"==typeof t||!1}function zt(t){return"string"==typeof t}function qt(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&Xt(t[e])}function Jt(t){return zt(t)?t.replace(/^\s*/,"").replace(/\s*$/,""):t}function Kt(){return(new Date).getTime()}function Wt(t,e){var n,r,i,o=Array.prototype[t];return o?(i=o,function(t){return i.apply(t,yt.Y.slice.call(arguments,1))}):(n=t,r=e,function(t,e){if(!Xt(t))throw new TypeError(n+" called on null or undefined");if(!$t(e))throw new TypeError(e+" is not a function");return r.apply(null,arguments)})}function Qt(t,e,n){var r=Object(t),i=r.length>>>0,o=0;if(arguments.length<3){for(;o<i&&!(o in r);)o++;if(i<=o)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=e(n,r[o],o,r));return n}function Yt(t,i,o){return yt.reduce(t,function(t,e,n,r){return t[n]=i.call(o,e,n,r),t},Array(t.length>>>0))}function Zt(t,i,o){return yt.reduce(t,function(t,e,n,r){return i.call(o,e,n,r)&&t.push(e),t},[])}function te(t,e,n){for(var r=(t=Object(t)).length>>>0,i=0;i<r;i++)if(i in t&&e.call(n,t[i],i,t))return!0;return!1}function ee(t,e,n){return!yt.some(t,function(t){return!e.call(n,t)})}function ne(t,i,o){yt.reduce(t,function(t,e,n,r){i.call(o,e,n,r)},void 0)}window.ADRUM||!0===window["adrum-disable"]||(t=window.ADRUM={},gt=window.console,m=gt&&"function"==typeof gt.log?gt:{log:function(){}},window["adrum-start-time"]=window["adrum-start-time"]||(new Date).getTime(),o=this&&this.gh||(Tt=Object.Rj||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}Tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),((wt=t=t||{}).monitor||(wt.monitor={})).yc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(e=0;e<t.length;e++){var n=t[e];n&&n.setUp()}},vt=t=t||{},(yt=vt.utils||(vt.utils={})).Y={isArray:Array.isArray,toString:Object.prototype.toString,slice:Array.prototype.slice,assign:Object.assign},yt.Ga=window.setTimeout,yt.kb=window.setInterval,yt.Cb=Ft,yt.isDefined=Xt,yt.isArray=$t(yt.Y.isArray)&&$t(yt.Y.isArray.bind)?yt.Y.isArray.bind(Array):function(t){return yt.Y.toString.call(t)===yt.Y.toString.call([])},yt.isObject=Gt,yt.isFunction=$t,yt.isString=zt,yt.isNumber=function(t){return"number"==typeof t},yt.isBoolean=function(t){return"boolean"==typeof t},yt.max=function(t,e){return Math.max(isNaN(t)?Number.NEGATIVE_INFINITY:t,isNaN(e)?Number.NEGATIVE_INFINITY:e)},yt.mb=function(t){yt.Ga.call(window,t,0)},yt.tl=function(t,e){yt.Ga.call(null,t,e||1e4)},yt.addEventListener=function(e,n,t,r){function i(){try{return t.apply(this,Ft(arguments))}catch(t){vt.exception(t,"M1",n,e,t)}}void 0===r&&(r=!1),vt.isDebug&&vt.log("M0",n,e),i.ub=!0,e.addEventListener?e.addEventListener(n,i,r):e.attachEvent&&e.attachEvent("on"+n,i)},yt.loadScriptAsync=function(t){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=t;var n=document.getElementsByTagName("script")[0];n?(n.parentNode.insertBefore(e,n),vt.log("M2",t)):vt.log("M3",t)},yt.mergeJSON=function t(e,n){for(var r in n){var i,o=n[r];qt(n,r)&&(i=e[r],Gt(o)&&Gt(i)?t(i,o):yt.isArray(i)&&yt.isArray(o)?e[r]=i.concat(o):e[r]=o)}return e},yt.hasOwnPropertyDefined=qt,yt.uk=function(t){return Xt(t)?yt.isArray(t)?t:[t]:[]},yt.yl=function(t,e){return null!=t&&t.slice(0,e.length)==e},yt.generateGUID=Xt(bt=window.crypto||window.msCrypto)&&$t(bt.getRandomValues)?function(){function t(t){return t=t.toString(16),"0000".substr(t.length)+t}var e=new Uint16Array(8);return bt.getRandomValues(e),t(e[0])+t(e[1])+"_"+t(e[2])+"_"+t(e[3])+"_"+t(e[4])+"_"+t(e[5])+t(e[6])+t(e[7])}:function(){return"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},yt.uf=function(t){return(t=t&&t.stack)&&"string"==typeof t?t:null},yt.trim=Jt,yt.sj=function(t){var e={};if(!t)return e;for(var n=t.split("\n"),r=0;r<n.length;r++){var i=n[r],o=i.indexOf(":");t=Jt(i.substr(0,o)).toLowerCase(),o=Jt(i.substr(o+1)),t&&(e[t]=e[t]?e[t]+", "+o:o)}return e},yt.tryPeriodically=function(n,r,i,o){var a=0;!function t(){var e;r()?i&&i():0<(e=n(++a))?setTimeout(t,e):o&&o()}()},yt.Fd=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},yt.Je=function(n){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.apply(this,r.concat(t))}},yt.el=function(){return Xt(performance)&&Xt(performance.now)},yt.now=Kt,yt.Nd=function(){var t=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance;return t=!Xt(t=yt.isObject(t)&&yt.isObject(t.timing)&&yt.isNumber(t.timing.navigationStart)?t.timing.navigationStart:window["adrum-start-time"])?Kt():t},yt.Rk=Qt,yt.reduce=Wt("reduce",Qt),yt.Qk=Yt,yt.map=Wt("map",Yt),yt.Ok=Zt,yt.filter=Wt("filter",Zt),yt.Sk=te,yt.some=Wt("some",te),yt.Nk=ee,yt.every=Wt("every",ee),yt.Pk=ne,yt.forEach=Wt("forEach",ne),yt.Jh=function(t){return yt.filter(t,Xt)},yt.zh=function(t){return[].concat.apply([],t)},function(t){var e=t.conf||(t.conf={});e.userConf=window["adrum-config"]||{},e.useHTTPSAlways=!0===e.userConf.useHTTPSAlways,e.spa2=e.userConf.spa&&e.userConf.spa.spa2&&!0===e.userConf.spa.spa2,e.beaconUrlHttp=t.utils.isDefined(e.userConf.beaconUrlHttp)?e.userConf.beaconUrlHttp:"http://col.eum-appdynamics.com",e.beaconUrlHttps=t.utils.isDefined(e.userConf.beaconUrlHttps)?e.userConf.beaconUrlHttps:"https://col.eum-appdynamics.com",e.corsEndpointPath="/eumcollector/beacons/browser"+(e.spa2?"/v2":"/v1"),e.imageEndpointPath="/eumcollector/adrum.gif?",e.appKey=e.userConf.appKey||window["adrum-app-key"]||"APP_KEY_NOT_SET",t=e.useHTTPSAlways||"https:"===document.location.protocol;var n=e.userConf.adrumExtUrlHttp||"http://cdn.appdynamics.com",r=e.userConf.adrumExtUrlHttps||"https://cdn.appdynamics.com";e.adrumExtUrl=(t?r:n)+"/adrum-ext.99c2fcc5ccc30ea4d38a1a74eeb7a6a6.js",e.adrumXdUrl=r+"/adrum-xd.99c2fcc5ccc30ea4d38a1a74eeb7a6a6.html",e.agentVer="4.4.3.717",e.sendImageBeacon=e.userConf.beacon&&e.userConf.beacon.sendImageBeacon||window["adrum-send-image-beacon"],n=window["adrum-geo-resolver-url"]?(t?"https://":"http://")+(n=-1!=(r=(n=window["adrum-geo-resolver-url"]).indexOf("://"))?n.substring(r+3):n):(n=e.userConf.geoResolverUrlHttps||"",r=e.userConf.geoResolverUrlHttp||"",t?n:r),e.geoResolverUrl=n,e.useStrictDomainCookies=!0===window["adrum-use-strict-domain-cookies"],e.Ag=10}(t=t||{}),function(s){function n(t,e,n,r){return t=s.conf.beaconUrlHttps+"/eumcollector/error.gif?version=1&appKey="+n+"&msg="+encodeURIComponent(t.substring(0,500)),r&&(t+="&stack=",t+=encodeURIComponent(r.substring(0,1500-t.length))),t}function r(t,e){2<=d||(document.createElement("img").src=n(t,0,s.conf.appKey,e),d++)}function t(t){return 0<=t.location.search.indexOf("ADRUM_debug=true")||0<=t.cookie.search(/(^|;)\s*ADRUM_debug=true/)}function i(t){s.isDebug&&f.push(c(arguments).join(" | "))}function o(t){h.push(c(arguments).join(" | "))}function a(t){var e=c(arguments).join(" | ");i(e),r(e,null)}var u,e,c=s.utils.Cb,l=s.utils.reduce,p=s.utils.isDefined;s.iDR=t,(e=u=s.I||(s.I={}))[e.API_ERROR=0]="API_ERROR",e[e.API_ERROR_INVALID_PARAMS=1]="API_ERROR_INVALID_PARAMS",e[e.API_ERROR_INVALID_CONFIG=2]="API_ERROR_INVALID_CONFIG",e[e.API_WARNING=3]="API_WARNING",e[e.API_WARNING_INEFFECTIVE_CONFIG=4]="API_WARNING_INEFFECTIVE_CONFIG",s.Oa=["JS Agent API Error:","JS Agent API Error Invalid Parameters: ","JS Agent API Error Invalid Configs: ","JS Agent API Warning:","JS Agent API Warning Ineffective Config:"],s.sa=" a constructor is called as a function. Don't forget keyword new.",s.isDebug=t(document),s.apiMessageConsoleOut=!(!p(s.conf.userConf)||!p(s.conf.userConf.log)||!0!==s.conf.userConf.log.apiMessageConsoleOut);var f=[],h=[];s.logMessages=f,s.apiMessages=h,s.log=i,s.kl=o,s.error=a,s.reportAPIMessage=function(t,e,n,r){var i=s.yj.apply(this,arguments);return o(i),s.apiMessageConsoleOut&&m.log(i),i},s.exception=function(){var t,e;arguments.length<1||(e=c(arguments),t=s.utils.uf(e[0]),i(e=e.slice(1).join(" | ")),r(e,t))},s.assert=function(t,e){t||a("Assert fail: "+e)},s.dumpLog=s.isDebug?function(){return l(f,function(t,e){return t+e.replace(/\<br\/\>/g,"\n\t")+"\n"},"")}:function(){},s.yj=function(t,e,n,r){var i,o="",o="",a=(new window.Error).stack,a=s.utils.isString(a)?a.substring(5):a+"";switch(p(i)||(i=s.utils.map(r,function(t){return null===t?"null":null==t?"undefined":""===t?"''":t})),t){case u.U:case u.Bk:o=s.Oa[t],o=p(n)?""+o+e+"\n in "+n+"("+i.join(", ")+")\n"+a:""+o+e+"\n"+a;break;case u.Pc:o=""+(o=s.Oa[t])+e+"\nin "+n+"("+i.join(", ")+")\n"+a;break;case u.Nf:case u.Of:o=""+(o=s.Oa[t])+e+", but "+n+"="+i.join(", ")+"\n"+a;break;default:o=""+(o=s.Oa[u.U])+e+"\nin "+n+"("+i.join(", ")+")\n"+a}return o},s.cIEBU=n;var d=0;i("M4")}(t=t||{}),dt=t=t||{},Bt.prototype.xi=function(){this.cb()||this.Ib++},Bt.prototype.cb=function(){return this.Ib>=this.max},Bt.prototype.reset=function(){this.Ib=0},mt=Bt,Ht.prototype.submit=function(t){this.push(t)&&dt.initEXTDone&&this.processQ()},Ht.prototype.processQ=function(){for(var t=this.Mh(),e=0;e<t.length;e++){var n=t[e];"function"==typeof dt.commands[n[0]]?(dt.isDebug&&dt.log("M5",n[0],n.slice(1).join(", ")),dt.commands[n[0]].apply(dt,n.slice(1))):dt.error("M6",n[0])}},Ht.prototype.Ri=function(t){return"reportXhr"===t||"reportPageError"===t},Ht.prototype.push=function(t){var e=t[0],n=this.Ri(e),r=n?this.Ac:this.cc;return r.cb()?(dt.log("M7",n?"spontaneous":"non spontaneous",e),!1):(this.Ta.push(t),r.xi(),!0)},Ht.prototype.Mh=function(){var t=this.Ta;return this.reset(),t},Ht.prototype.size=function(){return this.Ta.length},Ht.prototype.reset=function(){this.Ta=[],this.Ac.reset(),this.cc.reset()},Ht.prototype.isSpontaneousQueueDead=function(){return this.Ac.cb()},Ht.prototype.isNonSpontaneousQueueDead=function(){return this.cc.cb()},(gt=Ht).Lg=100,gt.Eg=100,dt.Wf=gt,(ht=t=t||{}).q=new ht.Wf,ht.command=function(t){for(var e=1;e<arguments.length;e++);ht.isDebug&&ht.log("M8",t,Array.prototype.slice.call(arguments).slice(1).join(", ")),ht.q.submit(Array.prototype.slice.call(arguments))},function(t){function e(){this.status={}}t=t.monitor||(t.monitor={}),e.prototype.setUp=function(){},e.prototype.set=function(t,e){this.status[t]=e},t.Xc=e}(t=t||{}),lt=t=t||{},pt=lt.aop||(lt.aop={}),ft=lt.utils.Cb,(window.ADRUM.aop=pt).support=function(t){return!t||"apply"in t},pt.around=function(r,i,o,a,s){return lt.assert(pt.support(r),"aop.around called on a function which does not support interception"),r=r||function(){},function(){lt.isDebug&&lt.log("M9",a,ft(arguments).join(", "));var t,e=ft(arguments);try{i&&(t=i.apply(this,e))}catch(t){lt.exception(t,"M10",a,t)}lt.assert(!t||lt.utils.isArray(t));var n=void 0;try{n=r.apply(this,t||e)}catch(t){throw s&&s(t),t}finally{try{o&&o.apply(this,e)}catch(t){lt.exception(t,"M11",a,t)}}return n}},pt.before=function(t,e,n){return pt.around(t,e,null,n)},pt.after=function(t,e,n){return pt.around(t,null,e,n)},(wt=(wt=t=t||{}).EventType||(wt.EventType={}))[wt.PageView=0]="PageView",wt[wt.Ajax=2]="Ajax",wt[wt.VPageView=3]="VPageView",wt[wt.Error=4]="Error",wt[wt.IFRAME=1]="IFRAME",wt[wt.ABSTRACT=100]="ABSTRACT",wt[wt.ADRUM_XHR=101]="ADRUM_XHR",wt[wt.NG_VIRTUAL_PAGE=102]="NG_VIRTUAL_PAGE",gt=t=t||{},(wt=gt.events||(gt.events={})).G={},wt.G[gt.EventType.ABSTRACT]={guid:"string",url:"string",parentGUID:"string",parentUrl:"string",parentType:"number",timestamp:"number"},wt.G[gt.EventType.VPageView]={resTiming:"object"},wt.G[gt.EventType.NG_VIRTUAL_PAGE]={digestCount:"number"},wt.G[gt.EventType.Ajax]={method:"string",parentPhase:"string",parentPhaseId:"number",error:"object",parameter:"object",xhrStatus:"number"},wt.G[gt.EventType.ADRUM_XHR]={allResponseHeaders:"string"},wt.G[gt.EventType.Error]={msg:"string",line:"number",stack:"string"},ot=t=t||{},Vt.prototype.mark=function(t,e){at.mark.apply(this,arguments)},Vt.prototype.getTiming=function(t){return(t=this.getEntryByName(t))&&t.startTime},Vt.prototype.measure=function(t,e,n){at.measure.apply(this,arguments)},Vt.prototype.getEntryByName=function(t){return at.getEntryByName.call(this,t)},(wt=Vt).Hb=function(t){return at.Hb(t)},ot.PerformanceTracker=wt,gt=at=at||{},st=ot.utils.hasOwnPropertyDefined,wt=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,ut=ot.utils.isObject(wt)&&ot.utils.isObject(wt.timing)&&ot.utils.isNumber(wt.timing.navigationStart)?wt.timing.navigationStart:window["adrum-start-time"],ct=ot.utils.now,gt.mark=function(t,e){this.R[t]={name:t,entryType:"mark",startTime:ot.utils.isDefined(e)?e:ct(),duration:0}},gt.measure=function(t,e,n){st(this.R,e)&&st(this.R,n)?this.R[t]={name:t,entryType:"measure",startTime:e?this.R[e].startTime:ut,duration:(n?this.R[n].startTime:ct())-(e?this.R[e].startTime:ut)}:ot.error("M12",st(this.R,e)?n:e)},gt.getEntryByName=function(t){return this.R[t]||null},gt.Hb=function(t){return t+ut},it=t=t||{},wt=it.events||(it.events={}),_t.prototype.type=function(){return it.EventType.ABSTRACT},_t.prototype.pb=function(t){if(it.utils.isObject(t))for(var e in t){var n=this[e]||this["mark"+it.utils.Fd(e)];n&&it.utils.isFunction(n)&&n.call(this,t[e])}},_t.Db=function(t,e,n){return{guid:function(){return t},url:function(){return e},type:function(){return n}}},_t.prototype.li=function(){return _t.Db(this.parentGUID(),this.parentUrl(),this.parentType())},_t.prototype.parent=function(t){var e=this.li();return it.utils.isDefined(t)&&(it.utils.isFunction(t.guid)&&it.utils.isFunction(t.url)&&it.utils.isFunction(t.type)?(this.parentGUID(t.guid()),this.parentUrl(t.url()),this.parentType(t.type())):it.reportAPIMessage(it.I.U,"object is not a valid EventIdentifier","EventTracker.parent",Array.prototype.slice.call(arguments))),e},gt=_t,wt.EventTracker=gt,wt.ka=Nt,wt.Ad=function(t,e){var n,r;for(r in n=function(t){var e,n={};for(e in t){var r=t[e];n[r.start]=!0,n[r.end]=!0}return n}(t=t||{}))n=it.utils.Fd(r),e["mark"+n]=it.utils.Je(function(t,e){this.perf.mark(t,e)},r),e["get"+n]=it.utils.Je(function(t){return this.perf.getTiming(t)},r)},Nt(wt.G[it.EventType.ABSTRACT],gt.prototype),nt=t=t||{},wt=nt.events||(nt.events={}),rt=wt.EventTracker,o(Ot,rt),Ot.prototype.type=function(){return nt.EventType.Error},gt=Ot,wt.Error=gt,wt.ka(wt.G[nt.EventType.Error],gt.prototype),tt=t=t||{},wt=tt.monitor||(tt.monitor={}),et=wt.Xc,o(Ut,et),Ut.prototype.setUp=function(){var t=this;et.prototype.setUp.call(this),tt.listenForErrors=function(){t.se()},this.se()},Ut.prototype.Dj=function(){Ut.Pb=0},Ut.prototype.Ye=function(t,e,n,r){Ut.Pb>=tt.conf.Ag?tt.log("M13"):(r=tt.utils.uf(r),tt.command("reportPageError",new tt.events.Error(tt.utils.mergeJSON({msg:t+"",url:tt.utils.isString(e)?e:void 0,line:tt.utils.isNumber(n)?n:void 0,stack:r},this.status))),Ut.Pb++,Ut.hadErrors=!0)},Ut.prototype.se=function(){var o=this;tt.aop.support(window.onerror)?(window.onerror=tt.aop.around(window.onerror,function(t,e,n,r,i){Ut.ac||(o.Ye(t,e,n,i),Ut.ac=!0)},function(){Ut.ac=!1},"onerror"),tt.log("M14")):tt.log("M15")},(gt=Ut).ac=!1,gt.Pb=0,gt.hadErrors=!1,wt.ErrorMonitor=gt,wt.la=new wt.ErrorMonitor,Z=t=t||{},gt=Z.monitor||(Z.monitor={}),Lt.prototype.setUp=function(){Lt.perf=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,Z.utils.isObject(Lt.perf)&&Z.utils.isObject(Lt.perf.timing)||(Lt.perf=void 0),this.setResourceTimingBufferSize(),this.Pj()},Lt.prototype.setResourceTimingBufferSize=function(){var t=Lt.perf,e=Z.conf.userConf&&Z.conf.userConf.resTiming&&Z.conf.userConf.resTiming.bufSize;!Z.utils.isNumber(e)||e<=0?Z.log("M16"):t&&Z.utils.isFunction(t.setResourceTimingBufferSize)?t.setResourceTimingBufferSize(e):Z.log("M17setResourceTimingBufferSize is not supported")},Lt.prototype.Pj=function(){var t=Lt.perf;Z.utils.isDefined(t)&&Z.utils.isFunction(t.clearResourceTimings)&&(this.jc=t.clearResourceTimings.bind(t))},Lt.prototype.Bh=function(){var t=Lt.perf;if(t=t&&t.timing)if(t.navigationStart&&t.navigationStart<=t.loadEventEnd){var e,n={};for(e in t){var r=t[e];"number"==typeof r&&(n[e]=r)}this.navTiming=n}else Z.log("M19");else Z.log("M18")},Lt.prototype.aa=function(){this.resTiming=this.X()},Lt.prototype.X=function(){var t=Lt.perf,e=[];return 0==(e=t&&t.getEntriesByType&&(t=t.getEntriesByType("resource"))&&t.length&&0<t.length&&t.unshift?t:e).length&&Z.log("M20"),e},Lt.prototype.clearResourceTimings=function(){Z.utils.isFunction(this.jc)&&this.jc()},(wt=Lt).perf=null,gt.PerformanceMonitor=wt,gt.perfMonitor=new gt.PerformanceMonitor,function(i){function t(){var t=r.call(this)||this;return t.P=[],t.Va=[],t.fd=500,t.yb=150,t.Gj=3e3,t}var e,r;e=i.monitor||(i.monitor={}),r=e.PerformanceMonitor,o(t,r),t.prototype.setUp=function(){r.prototype.setUp.call(this),i.utils.isDefined(e.PerformanceMonitor.perf)&&i.utils.isFunction(e.PerformanceMonitor.perf.getEntriesByType)?i.utils.isFunction(e.PerformanceMonitor.perf.addEventListener)?e.PerformanceMonitor.perf.addEventListener("resourcetimingbufferfull",this.aa.bind(this)):"onresourcetimingbufferfull"in e.PerformanceMonitor.perf?i.utils.isFunction(e.PerformanceMonitor.perf.hc)?e.PerformanceMonitor.perf.hc=i.aop.around(e.PerformanceMonitor.perf.hc,this.aa.bind(this)):e.PerformanceMonitor.perf.hc=this.aa.bind(this):i.utils.kb.call(window,this.Fj.bind(this),this.Gj):i.log("ResTiming API is not available"),this.Uj(),this.Hj()},t.prototype.Uj=function(){var t=i.conf.userConf&&i.conf.userConf.resTiming&&i.conf.userConf.resTiming.bufSize;i.utils.isDefined(e.PerformanceMonitor.perf)&&i.utils.isFunction(e.PerformanceMonitor.perf.setResourceTimingBufferSize)&&i.utils.isNumber(t)&&0<t&&(this.yb=t)},t.prototype.Hj=function(){var t=e.PerformanceMonitor.perf;i.utils.isDefined(t)&&(i.utils.isFunction(t.setResourceTimingBufferSize)&&(t.setResourceTimingBufferSize=i.aop.around(t.setResourceTimingBufferSize,function(){i.utils.isDefined(arguments)&&i.utils.isDefined(arguments[0])&&(this.yb=arguments[0])}.bind(this))),i.utils.isFunction(t.clearResourceTimings)&&(t.clearResourceTimings=i.aop.around(t.clearResourceTimings,function(){this.aa()}.bind(this))))},t.prototype.Ah=function(){this.Va=this.X()},t.prototype.aa=function(){this.P=this.X()},t.prototype.Fj=function(){r.prototype.X.call(this).length>=this.yb&&this.aa()},t.prototype.X=function(){var t=r.prototype.X.call(this);return this.P.length+t.length>this.fd?(m.debug("Cannot copy more resources. Resource buffer size exceeded"),this.P.concat(t.slice(0,this.fd-this.P.length))):(r.prototype.clearResourceTimings.call(this),this.P.concat(t))},t.prototype.ni=function(e,n,r){return r?i.utils.filter(this.P,function(t){return e+t.startTime>=n&&e+t.startTime<=r}):i.utils.filter(this.P,function(t){return e+t.startTime>=n})},t.prototype.ae=function(t,e,n){return this.P=this.P.concat(r.prototype.X.call(this)),t=this.ni(t,e,n),r.prototype.clearResourceTimings.call(this),this.P=[],t},e.Ug=t,e.fa=new e.Ug}(t=t||{}),function(o){function t(){this.Kb=5e3,this.Fa=o.conf.userConf&&o.conf.userConf.navComplete&&o.conf.userConf.navComplete.maxResourceQuietTime?o.conf.userConf.navComplete.maxResourceQuietTime:this.Kb}var n;n=o.j||(o.j={}),t.prototype.Sj=function(){this.Da(Element.prototype,"innerHTML",this.Re.bind(this)),this.Da(HTMLElement.prototype,"innerHTML",this.Re.bind(this)),this.Da(HTMLImageElement.prototype,"src",this.Ha.bind(this)),this.Da(HTMLScriptElement.prototype,"src",this.Ha.bind(this)),this.Da(HTMLLinkElement.prototype,"href",this.Ha.bind(this)),this.Ai(),this.Zb("append"),this.Zb("appendChild"),this.Zb("insertBefore")},t.prototype.setUp=function(t){this.dc=this.n=0,this.ma=t,this.ab=this.B=!1,this.Ee={},this.Ge={},this.Fe={}},t.prototype.start=function(t){this.setUp(t),this.ab=!0},t.prototype.reset=function(){this.B=!1,this.n=0,this.ab=!1},t.prototype.Da=function(t,e,n){this.pj(t,e,Object.getOwnPropertyDescriptor(t,e),n)},t.prototype.pj=function(t,e,n,r){var i;o.utils.isDefined(n)&&o.utils.isDefined(n.set)&&(i=this,Object.defineProperty(t,e,{set:function(t){var e;try{e=n.set.apply(this,arguments)}catch(t){throw t}finally{r.call(i,this)}return e}}))},t.prototype.Ha=function(t){this.ab&&this.zb(t)},t.prototype.Ai=function(){var t=Element.prototype,e=this;o.utils.isDefined(t.setAttribute)&&(t.setAttribute=o.aop.around(t.setAttribute,null,function(){e.Ha.call(e,this)}))},t.prototype.Zb=function(t){var e=Element.prototype,n=this;o.utils.isDefined(e[t])&&(e[t]=o.aop.around(e[t],null,function(t){n.Ha.call(n,t)}))},t.prototype.Re=function(t){this.ab&&o.utils.isDefined(t)&&o.utils.isDefined(t.childNodes)&&(this.zb(t),this.sf(t.childNodes))},t.prototype.sf=function(t){for(var e=0;e<t.length;e++){var n=t[e];this.zb(n),this.sf(n.childNodes)}},t.prototype.zb=function(t){var e;/SCRIPT|IMG|LINK/.test(t.nodeName)&&(e=t.attributes.getNamedItem("src")||t.attributes.getNamedItem("href"),this.Ii(t)&&o.utils.isDefined(e)&&(e=e.value,!o.utils.isDefined(this.Ee[e])&&0<e.length&&(this.n+=1,t.addEventListener("load",this.te.bind(this),!1),t.addEventListener("error",this.Ca.bind(this),!1),this.Ee[e]=!0)))},t.prototype.Ii=function(t){return"LINK"!==t.nodeName||(t=t.attributes.getNamedItem("rel"),!o.utils.isDefined(t)||0<=t.value.indexOf("stylesheet"))},t.prototype.te=function(t){var e=this.ce(t.target);o.utils.isDefined(this.Ge[e])||(--this.n,this.Ge[e]=!0),this.ma=o.utils.now(),this.dc+=1,1==this.dc&&(n.w.mf(),this.B=!0),this.Xe(t.target)},t.prototype.Ca=function(t){var e=this.ce(t.target);o.utils.isDefined(this.Fe[e])||(--this.n,this.Fe[e]=!0),this.Xe(t.target)},t.prototype.ce=function(t){var e="";return t instanceof HTMLScriptElement||t instanceof HTMLImageElement?e=t.src:t instanceof HTMLLinkElement&&(e=t.href),e},t.prototype.Xb=function(t){return 0==this.n&&this.B&&t-this.ma>=this.Fa?(this.reset(),this.ma):-1},t.prototype.Xe=function(t){t.removeEventListener("load",this.te,!1),t.removeEventListener("error",this.Ca,!1)},n.ag=t}(t=t||{}),function(e){function t(){this.Kb=3e3,this.Fa=e.conf.userConf&&e.conf.userConf.navComplete&&e.conf.userConf.navComplete.maxXhrQuietTime?e.conf.userConf.navComplete.maxXhrQuietTime:this.Kb}var n;n=e.j||(e.j={}),t.prototype.setUp=function(t){this.ec=this.n=0,this.na=t,this.B=!1,this.If={},this.Oc={}},t.prototype.start=function(t){this.setUp(t)},t.prototype.kh=function(t){e.utils.isDefined(this.If[t])||(this.n+=1,this.If[t]=!0)},t.prototype.sd=function(t){n.w.B&&(e.utils.isDefined(this.Oc)&&!e.utils.isDefined(this.Oc[t])&&(this.na=e.utils.now(),--this.n,this.Oc[t]=!0),this.ec+=1,1==this.ec&&(n.w.mf(),this.B=!0))},t.prototype.Xb=function(t){return 0==this.n&&this.B&&t-this.na>=this.Fa?(this.reset(),this.na):-1},t.prototype.reset=function(){this.B=!1,this.n=0},n.fh=t}(t=t||{}),function(o){var n=o.utils.generateGUID,i=function(t,e){this.start=o.utils.now(),this.parent=t,this.tb=e,this.guid=n()};o.Uc=i;var t=(a.al=function(){return a.events},a.Se=function(t,e,n,r){var i;a.nc(e);try{o.utils.isFunction(t)&&(i=t.apply(n,r))}catch(t){throw t}finally{a.oa()}return i},a.Ef=function(n,r){return r.ub?r:function(t){var e=a.Ld(n,t,void 0);return a.Se(r,e,this,arguments)}},a.Ld=function(t,e,n){return o.log("[JSA] Executing wrapped "+t+(n?" whose parent is "+n.tb.action:"")),o.utils.isDefined(e)?(e=o.Wc.Zi(e.target||e.srcElement)).action=t:e=new o.ya(t),new i(n,e)},a.Ff=function(e,n){if(n.ub)return n;var r=a.Za(),t=new o.ya(e);return new i(r,t),function(){var t=new o.ya(e),t=new i(r,t);return a.Se(n,t,this,arguments)}},a.Dl=function(e,n){return function(){var t=n.apply(this,arguments);return a.Cd(e),t}},a.Za=function(){return 0<a.events.length?a.events[a.events.length-1]:null},a.nc=function(t){a.events.push(t)},a.oa=function(){a.events.pop()},a.Fb=function(t,e){var n=t,r=1,i="";if(!o.utils.isDefined(n))return null;for(;o.utils.isDefined(n.parent);)i=" -> "+n.tb.action+i,n=n.parent,r+=1;t=o.utils.now();return o.utils.isDefined(n.tb)&&(i=n.tb.action+i+" -> "+e),o.log("SPA2~ Causality Chain: "+i),o.log("SPA2~ Transition started from "+n.start+", and went through "+r+" functions"),o.log("SPA2~ Transition took "+(t-n.start)+" ms"),n},a.Cd=function(t){return a.Fb(a.Za(),t)},a.setUp=function(){a.events=[],window.setTimeout=function(t,e){t=a.Ff("setTimeout",t);return o.utils.Ga.apply(this,[t,e])},window.setInterval=function(t,e){t=a.Ff("setInterval",t);return o.utils.kb.apply(this,[t,e])}},a);function a(){}t.events=[],o.l=t}(t=t||{}),function(o){var t=window.addEventListener,i=o.utils.isDefined(window.Yc)?window.Yc.prototype.addEventListener:function(){},a=function(t,e,n,r,i,o,a,s){this.action=t||"",this.ig=e||"",this.className=n||"",this.tagName=r||"",this.name=i||"",this.text=o||"",this.src=a,this.item=s};o.ya=a;var e=(n.setUp=function(){Array.prototype.push.apply(n.Lb,[]),n.vk(),o.utils.isDefined(window.Yc)?n.wk():n.jh()},n.pl=function(){return[]},n.Zi=function(t){var e=t.id||"",n=t.className||"",r="",i=new a;return t===document?r="document":t===window?r="window":t instanceof XMLHttpRequest?(r="xhr",i.src=o.utils.isObject(t._adrumAjaxT)?t._adrumAjaxT.url():""):t instanceof WebSocket?(r="websocket",i.src=t.url):t instanceof HTMLScriptElement?(r="script",i.src=t.src):t instanceof HTMLAnchorElement?(r="a",i.text=t.text.trim()):t instanceof HTMLButtonElement?(r="button",i.name=t.name):t instanceof HTMLDivElement?(r="div",i.text=t.title||t.innerText.trim()):t instanceof HTMLImageElement?(r="img",i.src=t.src):t instanceof HTMLLIElement?(r="li",i.item=t.value):t instanceof HTMLUListElement?r="ul":t instanceof HTMLFormElement?r="form":t instanceof HTMLFrameElement?(r="frame",i.src=t.src):t instanceof HTMLInputElement?(r="input",i.name=t.name):t instanceof HTMLTableElement?r="table":t instanceof HTMLTableCaptionElement?r="tcap":t instanceof HTMLTableCellElement?(r="td",i.text=o.utils.isDefined(t.innerText)?t.innerText.trim():""):t instanceof HTMLTableRowElement?r="tr":(r=o.utils.isDefined(t.tagName)?t.tagName:"",o.log("SPA2~ Cannot find out what kind of event target it is: "+r)),i.ig=e,i.className=n,i.tagName=r,i.text=o.utils.isDefined(t.innerText)?t.innerText:"",i},n.vk=function(){o.utils.forEach(n.Lb,function(e){t(e,function(t){((t=t.target||t.srcElement)===document||t===window||t instanceof XMLHttpRequest||t instanceof HTMLElement)&&null!=t&&t["on"+e]&&(t["on"+e]=o.l.Ef(e,t["on"+e]),t["on"+e].ub=!0)},!0)})},n.jh=function(){o.utils.forEach(n.Lb,function(e){t(e,function(t){t=o.l.Ld(e,t,null),o.l.nc(t)},!0),t(e,function(){o.l.oa()},!1)})},n.wk=function(){EventTarget.prototype.addEventListener=function(t,e,n){if(e&&e.ub)return i.call(this,t,e,n);var r=e;switch(t){case"click":case"dblclick":case"auxclick":case"mousedown":case"mouseup":case"drop":case"keyup":case"keydown":case"keypress":case"contextmenu":case"pageChanged":case"scroll":case"open":case"message":case"error":case"close":r=o.l.Ef(t,e)}i.call(this,t,r,n)}},n);function n(){}e.Lb="click dblclick mousedown mouseup change scroll select submit keydown keypress keyup load unload".split(" "),o.Wc=e}(t=t||{}),Q=t=t||{},(Y=Q.utils||(Q.utils={})).parseURI=function(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t=e&&null!=t.match(e[1]+"//"),e&&{href:e[0]||"",protocol:e[1]||"",zc:t?"//":"",Ic:e[2]||"",mc:e[3]||"",host:e[4]||"",hostname:e[5]||"",port:e[6]||"",pathname:e[7]||"",search:e[8]||"",hash:e[9]||""}},Y.absolutizeURI=function(t,e){function n(t){var e=[];return t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?e.pop():e.push(t)}),e.join("").replace(/^\//,"/"===t.charAt(0)?"/":"")}var r,i,o,a,s,u,e=e?Y.parseURI(e):{},t=t?Y.parseURI(t):{};return t=e.protocol?(r=e.protocol,i=e.zc,o=e.Ic,a=e.mc,s=e.host,u=n(e.pathname),e.search):e.host?(r=t.protocol,i=t.zc,o=e.Ic,a=e.mc,s=e.host,u=n(e.pathname),e.search):(r=t.protocol,i=t.zc,o=t.Ic,a=t.mc,s=t.host,e.pathname?(u="/"===e.pathname.charAt(0)?n(e.pathname):n(u=t.pathname?t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)+e.pathname:i?"/"+e.pathname:e.pathname),e.search):(u=n(t.pathname),e.search||t.search)),r+i+(o?o+(a?":"+a:"")+"@":"")+s+u+t+(e.hash||"")},Y.getFullyQualifiedUrl=function(e){try{var n,t,r=document.location.href;t:{for(var i=document.getElementsByTagName("base"),o=0;o<i.length;o++){var a=i[o].href;if(a){t=a;break t}}t=void 0}return n=t?Y.absolutizeURI(r,t):r,Y.absolutizeURI(n,e)}catch(t){return Q.exception(t,"M21",e,n),e}},W=t=t||{},jt.prototype.hj=function(t){this.lb(jt.td,t)},jt.prototype.jj=function(t){this.lb(jt.Bd,t)},jt.prototype.ij=function(t){this.lb(jt.vd,t)},jt.prototype.lb=function(t,e){this.sb.push({gj:(new Date).getTime(),fj:e,Ke:t}),this.Gh=t},jt.prototype.getPhaseName=function(){return this.Gh},jt.prototype.getPhaseID=function(t){for(var e=0;e<jt.zd.length;e++)if(jt.zd[e]===t)return e;return null},jt.prototype.getPhaseCallbackTime=function(t){for(var e=this.sb,n=0;n<e.length;n++)if(e[n].Ke===t)return e[n].gj;return null},jt.prototype.findPhaseAtNominalTime=function(t){W.assert(0<=t);for(var e=this.sb,n=e.length-1;0<=n;n--)if(t>=e[n].fj)return e[n].Ke;return W.error("M22",t,W.utils.Nh(e)),jt.Ab},(wt=jt).Ab="AFTER_FIRST_BYTE",wt.td="AFTER_DOM_INTERACTIVE",wt.Bd="AT_ONLOAD",wt.vd="AFTER_ONLOAD",wt.zd=[wt.Ab,wt.td,wt.Bd,wt.vd],W.Ik=wt,W.lifecycle=new wt,W.lifecycle=W.lifecycle,(gt=(gt=(gt=t=t||{}).events||(gt.events={})).b||(gt.b={})).navigationStart="navigationStart",gt.domainLookupStart="domainLookupStart",gt.domainLookupEnd="domainLookupEnd",gt.connectStart="connectStart",gt.secureConnectionStart="secureConnectionStart",gt.connectEnd="connectEnd",gt.requestStart="requestStart",gt.responseStart="responseStart",gt.responseEnd="responseEnd",gt.domContentLoadedEventStart="domContentLoadedEventStart",gt.loadEventEnd="loadEventEnd",gt.gf="sendTime",gt.Ud="firstByteTime",gt.cf="respAvailTime",gt.df="respProcTime",gt.Kc="viewChangeStart",gt.Af="viewChangeEnd",gt.Lc="viewDOMLoaded",gt.Hf="xhrRequestsCompleted",gt.Bl="viewFragmentsLoaded",gt.Cl="viewResourcesLoaded",gt.Mc="virtualPageStart",gt.rk="virtualPageEnd",wt=t=t||{},(gt=wt.events||(wt.events={})).metricSpec={},gt.metricSpec[wt.EventType.PageView]={Sh:{start:gt.b.navigationStart,end:gt.b.loadEventEnd,name:"PLT"},Zh:{start:gt.b.navigationStart,end:gt.b.responseStart,name:"FBT"},vl:{start:gt.b.navigationStart,end:gt.b.requestStart,name:"SCT"},wl:{start:gt.b.secureConnectionStart,end:gt.b.connectEnd,name:"SHT"},Yk:{start:gt.b.domainLookupStart,end:gt.b.domainLookupEnd,name:"DLT"},Al:{start:gt.b.connectStart,end:gt.b.connectEnd,name:"TCP"},sl:{start:gt.b.requestStart,end:gt.b.responseStart,name:"RAT"},$k:{start:gt.b.responseStart,end:gt.b.loadEventEnd,name:"FET"},cl:{start:gt.b.responseStart,end:gt.b.domContentLoadedEventStart,name:"DRT"},bl:{start:gt.b.responseStart,end:gt.b.responseEnd,name:"DDT"},Wk:{start:gt.b.responseEnd,end:gt.b.domContentLoadedEventStart,name:"DPT"},rl:{start:gt.b.domContentLoadedEventStart,end:gt.b.loadEventEnd,name:"PRT"},Xk:{start:gt.b.navigationStart,end:gt.b.domContentLoadedEventStart,name:"DOM"}},gt.metricSpec[wt.EventType.Ajax]={Zh:{start:gt.b.gf,end:gt.b.Ud,name:"FBT"},Mk:{start:gt.b.Ud,end:gt.b.cf,name:"DDT"},Lk:{start:gt.b.cf,end:gt.b.df,name:"DPT"},Sh:{start:gt.b.gf,end:gt.b.df,name:"PLT"}},gt.metricSpec[wt.EventType.VPageView]={jl:{start:gt.b.Mc,end:gt.b.rk,name:"PLT"},Uk:{start:gt.b.Kc,end:gt.b.Af,name:"DDT"},gl:{start:gt.b.Kc,end:gt.b.Lc,name:"DRT"},Dk:{start:gt.b.Af,end:gt.b.Lc,name:"DPT"},Ek:{start:gt.b.Kc,end:gt.b.Lc,name:"DOM"},ql:{start:"viewChangeEnd",end:"xhrRequestsCompleted",name:null},hl:{start:"viewChangeEnd",end:"viewPartialsLoaded",name:null},fl:{start:"viewPartialsLoaded",end:"viewFragmentsLoaded",name:null},il:{start:"viewPartialsLoaded",end:"viewResourcesLoaded",name:null}},gt.metricSpec[wt.EventType.NG_VIRTUAL_PAGE]=gt.metricSpec[wt.EventType.VPageView],q=t=t||{},J=q.events||(q.events={}),K=J.EventTracker,o(It,K),It.prototype.type=function(){return q.EventType.Ajax},gt=It,J.Ajax=gt,J.ka(J.G[q.EventType.Ajax],gt.prototype),J.Ad(J.metricSpec[q.EventType.Ajax],gt.prototype),$=t=t||{},wt=$.events||($.events={}),z=wt.Ajax,o(kt,z),kt.prototype.type=function(){return $.EventType.Ajax},gt=kt,wt.AdrumAjax=gt,wt.ka(wt.G[$.EventType.ADRUM_XHR],gt.prototype),R=t=t||{},x=R.monitor||(R.monitor={}),k=R.utils.isObject,I=R.utils.isDefined,j=R.utils.map,L=R.utils.reduce,U=R.utils.filter,O=R.utils.uk,N=R.utils.isString,_=R.utils.Jh,V=R.utils.zh,H=R.utils.isFunction,B=R.utils.mergeJSON,F=R.utils.Cb,X=R.utils.now,G=R.utils.mb,D=x.Xc,o(Dt,D),Dt.Qe=function(t,e){var n,r=Dt.Vc;e&&(n=e.maxPerPageView,R.utils.isNumber(n)&&0<n?r=n:R.reportAPIMessage(R.I.Of,"value is not valid; don't limit xhr","xhr.maxPerPageView",[n])),t.maxPerPageView=r,t.exclude=Dt.Jc(Dt.zf,"exclude",t,e),t.include=Dt.Jc(Dt.zf,"include",t,e),t.parameter=Dt.Jc(Dt.pk,"parameter",e)},Dt.Jc=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return _(j(U(V(j(_(n),function(t){return O(t[e])})),Dt.Ki(e)),t))},Dt.zf=function(t){var e=Dt.Oe(t);return t=Dt.Pe(t),e||t},Dt.Ki=function(e){return function(t){return k(t)||R.reportAPIMessage(R.I.Nf,"Filter object must be an object","xhr."+e,[t])}},Dt.Pe=function(t){var e=t.urls;if(e&&0<e.length&&(t.urls=Dt.Fh(e),0<t.urls.length))return t},Dt.Oe=function(t){var e=t.method;if(I(e)){if(N(e))return t;R.error("M28")}},Dt.pk=function(t){var e=Dt.Pe(t);return Dt.Oe(t),Dt.zj(t)&&e},Dt.zj=function(t){if(H(t.getFromBody))return t;R.error("M29")},Dt.Fh=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n].pattern;if("string"==typeof r)try{e.push(new RegExp(r))}catch(t){R.exception(t,"Parse regex pattern failed.")}else R.error("xhr filter pattern should be a string")}return e},Dt.kf=function(t,e,n){var r=n&&n.include;return n=n&&n.exclude,r&&0<r.length&&!Dt.pe(e,t,r)||n&&0<n.length&&Dt.pe(e,t,n)},Dt.Ca=function(t){var e=t.message||t.description,n=t.fileName||t.filename,r=t.lineNumber;R.utils.isString(t.description)&&0<=t.description.indexOf("Access is denied.")&&(e+=": maybe you have CORS XHR error in IE"),R.monitor.la.Ye(e,n,r,t)},Dt.prototype.setUp=function(){var u,c;this.Cc&&(R.log("M30"),R.xhrConstructor=window.XMLHttpRequest,R.xhrOpen=this.xhrOpen=this.g.open,R.xhrSend=this.xhrSend=this.g.send,(u=this).g.open=R.aop.around(this.g.open,function(){Dt.Oi(this)&&(4===this.readyState?(R.log("M31"),Dt.Th(this._adrumAjaxT),delete this.rd,Dt.a(this,this._adrumAjaxT)):R.log("M32"+this._adrumAjaxT.url()+"' is reported."));var t=1<=arguments.length?String(arguments[0]):"",e=2<=arguments.length?String(arguments[1]):"",e=R.utils.getFullyQualifiedUrl(e);u.Bb>=u.conf.maxPerPageView||Dt.kf(e,t,u.conf)||(this._adrumAjaxT=new R.events.AdrumAjax(R.utils.mergeJSON({method:t,url:e},u.status)))},null,"XHR.open",Dt.Ca),this.g.send=R.aop.around(this.g.send,function(t){var e=this,n=this._adrumAjaxT,r=!1;if(n&&!(++u.Bb>u.conf.maxPerPageView)){var i=R.utils.now(),o=n.getSendTime();R.assert(null===o,"M33"),n.timestamp(i),n.markSendTime(o||i),n.parentPhase(R.lifecycle.getPhaseName()),R.conf.spa2&&(e.Sa=new R.Uc(R.l.Za(),new R.ya("XHR.send"))),Dt.Pi(n.url())?e.setRequestHeader("ADRUM","isAjax:true"):R.log("M34",document.location.href,n.url()),t=Dt.ki(n.url(),u.conf.parameter,t),n.parameter(t);var a=0,s=function(){if(4==e.readyState)r?R.log("M35"):(R.log("M36"),u.vb(e));else{var t=null;try{t=e.onreadystatechange}catch(t){return r?void R.log("M37",t):(R.log("M38",t),void u.vb(e))}a++,t?R.aop.support(t)?(e.onreadystatechange=Dt.Md(t,"XHR.onReadyStateChange"),R.log("M39",a)):c||(R.log("M40"),u.vb(e)):a<Dt.dh?R.utils.mb(s):r?R.log("M41"):(R.log("M42"),u.vb(e))}};if(c){R.log("M43");try{u.yk.call(e,"readystatechange",Dt.Kh),r=!0}catch(t){R.error("M44",t)}}s()}},function(){var t;!R.conf.spa2||(t=this._adrumAjaxT)&&R.j.w.J.kh(t.url())},"XHR.send",Dt.Ca),(c="addEventListener"in this.g&&"removeEventListener"in this.g&&R.aop.support(this.g.addEventListener)&&R.aop.support(this.g.removeEventListener))?(this.yk=this.g.addEventListener,this.g.addEventListener=R.aop.around(this.g.addEventListener,function(t,e){if(/^(load|error|readystatechange)$/.test(t)&&e){var n=Dt.lk(e);if(n){var r=F(arguments);return r[1]=n,R.log("M45"),r}R.log("M46",t,e)}},null,"XHR.addEventListener"),this.Ak=this.g.removeEventListener,this.g.removeEventListener=R.aop.around(this.g.removeEventListener,function(t,e){var n;this._adrumAjaxT&&(n=F(arguments),e.__adrumInterceptor?(n[1]=e.__adrumInterceptor,R.log("M47"),u.Ak.apply(this,n)):R.log("M48"))},null,"XHR.removeEventListener")):R.log("M49"),R.log("M50"))},Dt.prototype.tc=function(){this.Bb=0},Dt.We=function(t){Dt.S[t]=[],delete Dt.S[t]},Dt.oc=function(t,e){var n;R.utils.isDefined(e.Sa)?(n=R.l.Fb(e.Sa).guid,Dt.vf(e,t),R.utils.isDefined(Dt.S[n])||(Dt.S[n]=[]),-1==Dt.S[n].indexOf(t)&&Dt.S[n].push(t)):R.log("~AnySPA: error in putInParentEventWaitingQueue() as xhr._xhrEvent is undefined.")},Dt.aj=function(e,t){var n=Dt.S[t];R.utils.isDefined(n)&&(n.forEach(function(t){t.parent(e),R.command("reportXhr",t),R.l.oa()}),Dt.We(t))},Dt.Bj=function(){for(var t in Dt.S)Dt.S[t].forEach(function(t){R.command("reportXhr",t),R.l.oa()}),Dt.We(t)},Dt.ze=function(t,e){for(var n=!1,r=0;r<e.length;r++){var i=e[r];if(i&&i.test(t)){n=!0;break}}return n},Dt.pe=function(t,e,n){var r=!1;if(e&&n)for(var i=0;i<n.length;i++){var o=n[i];if(!(o.method&&t!==o.method||o.urls&&!Dt.ze(e,o.urls))){r=!0;break}}return r},Dt.tj=function(t,e,n){return(e||t)===(n||t)},Dt.Pi=function(t){var e=document.createElement("a");e.href=t;var n=(t=document.location).protocol;return e.protocol===n&&e.hostname===t.hostname&&Dt.tj(Dt.Ih[n],e.port,t.port)},Dt.ki=function(e,t,n){if(t&&0<(t=U(j(U(t,function(t){return Dt.ze(e,t.urls)}),function(t){return t.getFromBody(n)}),k)).length)return L(t,B,{})},Dt.Wb=function(t){var e,n=t._adrumAjaxT;n&&(e=R.utils.now(),2==t.readyState?n.markFirstByteTime(n.getFirstByteTime()||e):4==t.readyState&&(n.markRespAvailTime(n.getRespAvailTime()||e),n.markFirstByteTime(n.getFirstByteTime()||e),R.conf.spa2&&(t=new R.Uc(t.Sa,new R.ya("XHR.load")),R.l.nc(t))))},Dt.ee=function(t){var e,n,r=t._adrumAjaxT;r&&4==t.readyState&&(e=X(),n=r.getRespProcTime(),r.markRespAvailTime(r.getRespAvailTime()||e),n<e&&r.markRespProcTime(e),R.conf.spa2?Dt.Ch(t,r):Dt.vc(t,r))},Dt.Md=function(t,e){return Dt.zk(t,function(){Dt.Wb(this)},function(){Dt.ee(this)},e)},Dt.Kh=function(){Dt.Wb(this),Dt.ee(this)},Dt.Oi=function(t){return R.utils.isDefined(t._adrumAjaxT)&&R.utils.isString(t._adrumAjaxT._url)},Dt.Th=function(t){var e=R.utils.now();t.markRespAvailTime(t.getRespAvailTime()||e),t.markFirstByteTime(t.getFirstByteTime()||e),t.markRespProcTime(t.getRespProcTime()||e)},Dt.vc=function(t,e){var n={};t.rd=n,G(function(){t.rd===n&&(delete t._adrumAjaxT,Dt.a(t,e))})},Dt.Ch=function(t,e){var n=R.l.Fb(t.Sa);R.utils.isDefined(x.A.vp)&&!x.A.T&&x.A.vp.Gb==n?(e.parent(x.A.vp),Dt.vc(t,e),R.l.oa()):(R.utils.isDefined(x.A.vp)&&!x.A.T&&e.parent(x.A.vp),Dt.oc(e,t),R.utils.Ga.apply(null,[Dt.Bj,Dt.kd]),delete t._adrumAjaxT),R.j.w.J.sd(e.url())},Dt.vf=function(e,t){var n,r=e.status;if(t.xhrStatus(r),t.allResponseHeaders(e.getAllResponseHeaders()),400<=r){try{N(e.responseText)&&(n=e.responseText)}catch(t){N(e.responseType)&&(n=e.responseType)}t.error({status:r,msg:n})}},Dt.a=function(t,e){Dt.vf(t,e),R.command("reportXhr",e)},Dt.prototype.vb=function(n){var r,i;n._adrumAjaxT&&(r=R.utils.now()+3e4,(i=function(){Dt.Wb(n);var t,e=n._adrumAjaxT;e&&(t=R.utils.now(),4==n.readyState?(R.assert(null===e.getRespProcTime(),"M51"),e.markRespProcTime(e.getRespProcTime()||t),R.log("M52"),Dt.vc(n,e),R.conf.spa2&&(R.l.oa(),R.j.w.J.sd(e.url()))):t<r?R.utils.Ga.apply(null,[i,Dt.kd]):(delete n._adrumAjaxT,R.log("M53")))})())},Dt.zk=function(t,e,n,r){var i=t;return t&&"object"==typeof t&&"toString"in t&&"[xpconnect wrapped nsIDOMEventListener]"===t.toString()&&"handleEvent"in t&&(i=function(){t.handleEvent.apply(this,F(arguments))}),R.aop.around(i,e,n,r)},Dt.lk=function(t){if(t.__adrumInterceptor)return t.__adrumInterceptor;if(R.aop.support(t)){var e=Dt.Md(t,"XHR.invokeEventListener");return t.__adrumInterceptor=e}},(wt=Dt).dh=5,wt.$f=50,wt.Vc=50,wt.kd=2e3,wt.S={},wt.Ih={"http:":"80","https:":"443"},x.Aa=wt,x.ia=new x.Aa,M=t=t||{},C=M.events||(M.events={}),S=C.EventTracker,o(xt,S),xt.prototype.type=function(){return M.EventType.VPageView},xt.prototype.Sb=function(){return C.EventTracker.Db(this.guid(),this.url(),this.type())},xt.prototype.Bc=function(){var t=this.Sb();M.monitor.la.set("parent",t),M.log("SPA2~ AnySpaVPageView startCorrelatingErrors, GUID: %s, Url: %s",t.guid(),t.url())},xt.prototype.startCorrelatingXhrs=function(){M.log("SPA2~ AnySpaVPageView startCorrelatingXhrs"),M.utils.isDefined(this.Gb)&&!M.monitor.A.T&&M.monitor.Aa.aj(this,this.Gb.guid)},xt.prototype.start=function(){this.startCorrelatingXhrs(),this.Bc()},gt=xt,C.Qc=gt,C.ka(C.G[M.EventType.VPageView],gt.prototype),function(n){function r(){}var i;i=n.monitor||(n.monitor={}),r.prototype.setUp=function(){var t=!1;r.ne=!1,r.Dd=n.utils.Nd(),n.l.setUp(),n.Wc.setUp(),i.fa.setUp(),n.j.w.setUp(n.utils.now()),r.ea=document.URL,n.utils.isDefined(window.history)&&n.utils.isFunction(window.history.pushState)&&(t=!0,window.history.pushState=n.aop.around(window.history.pushState,function(){i.DOMEventsMonitor.Ea&&(r.wc(),r.T=!1,r.Wa(document.URL))},function(){i.DOMEventsMonitor.Ea&&r.qb(document.URL),r.ea=document.URL},"historyPushState")),n.utils.isDefined(window.addEventListener)&&(t=!0,window.addEventListener("popstate",function(t){r.ne=!0;var e=document.URL;n.log("SPA2~ popstate event "+t),i.DOMEventsMonitor.Ea&&(r.wc(),r.T=!1,r.Wa(r.ea),r.qb(e)),r.ea=e})),n.utils.isDefined(window.addEventListener)&&(t=!0,window.addEventListener("hashchange",function(){var t;r.ne||(t=document.URL,n.log("SPA2~ hashChange: from "+r.ea+" to "+t),i.DOMEventsMonitor.Ea&&(r.wc(),r.T=!1,r.Wa(r.ea),r.qb(t)),r.ea=t)})),t||n.log("SPA2~ The browser maybe too old. AnySPA monitoring cannot start up.")},r.Dh=function(){r.T=!0,r.Wa(r.ea),r.qb()},r.wc=function(){var t;r.T||!n.utils.isDefined(r.vp)||r.vp.Ze||(t=n.utils.now(),n.j.w.B?(t=n.j.w.eb?n.utils.max(n.j.w.O.ma,n.j.w.J.na):n.j.w.startTime,n.j.w.reset()):t=r.vp.timestamp(),r.xe(r.vp.startTime,t),r.we(r.vp.startTime,t),r.report())},r.Wa=function(t){r.reset(),(r.vp=new n.events.Qc).xl=t,t=n.l.Cd(),r.vp.startTime=r.T?n.utils.Nd():n.utils.isDefined(t)?t.start:n.utils.now(),r.vp.Gb=t},r.qb=function(t){n.utils.isDefined(t)&&r.vp.url(t),r.vp.start(),n.j.w.start(n.utils.now())},r.xe=function(t,e){n.utils.isDefined(r.vp)&&(n.utils.isDefined(e)?r.vp.timestamp(e):r.vp.timestamp(t))},r.we=function(t,e){n.utils.isDefined(r.vp)&&(n.utils.isDefined(e)?r.vp.resTiming(i.fa.ae(r.Dd,t,e)):r.vp.resTiming(i.fa.ae(r.Dd,t)))},r.report=function(){var t;n.utils.isDefined(r.vp)?(n.log("SPA2~ AnySpa report vp event"),(t=r.vp).Ze?n.log("SPA2~ AnySpa this vp has been reported before"):(t.parent(i.DOMEventsMonitor.currentBasePage),n.command("call",function(){n.reporter.reportEvent(t)}),t.Ze=!0)):n.log("SPA2~ AnySpa cannot report vp event as it is undefined")},r.reset=function(){r.vp=null},i.A=r,i.ph=new i.A}(t=t||{}),function(e){function t(){this.O=new n.ag,this.J=new n.fh,this.dj=3e3,this.maxInactiveTime=e.conf.userConf&&e.conf.userConf.navComplete&&e.conf.userConf.navComplete.maxInactiveTime?e.conf.userConf.navComplete.maxInactiveTime:Math.max(this.O.Fa,this.J.Fa)+this.dj,this.Ne=1e3}var n;n=e.j||(e.j={}),t.prototype.setUp=function(t){this.currentTime=this.startTime=t,this.B=this.eb=!1,this.O.setUp(t),this.J.setUp(t)},t.prototype.start=function(t){this.setUp(t),this.B=!0,this.O.start(t),this.J.start(t),this.Gd(),this.Zj()},t.prototype.Zj=function(){this.rf=e.utils.kb.call(window,function(){this.currentTime=e.utils.now(),this.currentTime-Math.max(this.O.ma,this.J.na)>=this.maxInactiveTime&&(this.navComplete(),this.reset())}.bind(this),this.Ne)},t.prototype.mf=function(){this.eb||(this.Xj(),this.eb=!0)},t.prototype.Gd=function(){e.utils.isDefined(this.Te)&&clearInterval(this.Te),e.utils.isDefined(this.rf)&&clearInterval(this.rf)},t.prototype.reset=function(){this.Gd(),this.B=this.eb=!1,this.O.reset(),this.J.reset()},t.prototype.navComplete=function(){var t=e.utils.max(this.J.na,this.O.ma);e.log("%cNav Complete Time: "+(t-this.startTime)),e.monitor.A.xe(this.startTime,t),e.monitor.A.T||(e.monitor.A.we(this.startTime,t),e.monitor.A.report())},t.prototype.Xj=function(){this.Te=e.utils.kb.call(window,function(){this.currentTime=e.utils.now();var t=this.O.Xb(this.currentTime);0<=t&&e.log("SPA2~ Nav Complete Time based on DOM quiet time: "+(t-this.startTime)),0<=(t=this.J.Xb(this.currentTime))&&e.log("SPA2~ Nav Complete Time based on XHR quiet time: "+(t-this.startTime)),this.J.B||this.O.B||(this.navComplete(),this.reset())}.bind(this),this.Ne)},n.Og=t,n.w=new n.Og}(t=t||{}),function(t){function e(){return null!==r&&r.apply(this,arguments)||this}var n,r;n=t.events||(t.events={}),r=n.EventTracker,o(e,r),e.prototype.type=function(){return t.EventType.PageView},n.PageView=e}(t=t||{}),E=t=t||{},A=E.monitor||(E.monitor={}),P=E.utils.now,Rt.prototype.setUp=function(){var t,e=document.readyState;"loading"===e?(E.log("M54"),Rt.Tj(),Rt.jf()):(t={timeStamp:P()},Rt.ua(t),"interactive"===e?(E.log("M55"),Rt.jf()):(E.log("M56"),Rt.Ia(t),Rt.Ie(t)))},Rt.jf=function(){E.utils.addEventListener(window,"load",Rt.Ia),E.utils.addEventListener(window,"load",Rt.Ie)},Rt.Ie=function(t){Rt.currentBasePage=new E.events.PageView,E.lifecycle.jj(t&&t.timeStamp),E.utils.mb(function(){var t=P();E.lifecycle.ij(t),E.command("mark","onload",t),Rt.Ea=!0,A.PerformanceMonitor.perf&&A.perfMonitor.Bh(),E.conf.spa2?A.fa.Ah():A.perfMonitor.aa(),E.command("reportOnload",Rt.currentBasePage),E.conf.spa2&&(E.j.w.O.Sj(),A.A.Dh()),E.utils.loadScriptAsync(E.conf.adrumExtUrl)}),E.log("M57")},Rt.Tj=function(){if(E.utils.isFunction(document.addEventListener))document.addEventListener("DOMContentLoaded",Rt.ua,!1);else if(E.utils.isObject(document.attachEvent)){document.attachEvent("onreadystatechange",Rt.ua);var t=null;try{t=null===window.frameElement?document.documentElement:null}catch(t){}null!=t&&t.doScroll&&function e(){if(!Rt.isReady){try{t.doScroll("left")}catch(t){return void setTimeout(e,10)}Rt.Ia()}}()}else E.exception("M58");E.log("M59")},Rt.Ia=function(t){Rt.ye||(E.lifecycle.hj(t&&t.timeStamp),E.command("mark","onready",P()),Rt.ye=!0)},Rt.ua=function(t){document.addEventListener?(document.removeEventListener("DOMContentLoaded",Rt.ua,!1),Rt.Ia(t)):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",Rt.ua),Rt.Ia(t))},(wt=Rt).isReady=!1,wt.ye=!1,wt.Ea=!1,A.DOMEventsMonitor=wt,A.Pd=new A.DOMEventsMonitor,w=t=t||{},(T=w.correlation||(w.correlation={})).startTimeCookie=null,T.cookieMetadataChunks=null,T.Qd=function(t,e){w.log("M60");for(var n=e?e.length:0,r=[],i=t.split(";"),o=0;o<i.length;o++){var a=i[o],s=function(t,e){var n=/^\s*(ADRUM_(\d+)_(\d+)_(\d+))=(.*)\s*$/i.exec(t);if(n){var r=n[1],i=n[4],t=n[5];if(Number(n[3])===e)return St(r),{index:Number(i),value:t}}return null}(a,n);s?r.push(s):null!=(a=function(t){var e=/^\s*ADRUM=s=([\d]+)&r=(.*)\s*/.exec(t);if(e)return w.log("M62",t),3===e.length?(St("ADRUM"),{startTime:Number(e[1]),startPage:e[2]}):(w.error("M63",t),null)}(a))&&(T.startTimeCookie=a)}for(Array.prototype.sort.call(r,function(t,e){return t.index-e.index}),a=[],o=0;o<r.length;o++)a.push(r[o].value);for(o=0;o<i.length;o++)(r=function(t,e){var n=[];if(i=/^\s*(ADRUM_BT\w*)=(.*)\s*$/i.exec(t)){var r=i[1],i=i[2].replace(/^"|"$/g,""),t=(i=decodeURIComponent(i).split("|"))[0].split(":");if("R"===t[0]&&Number(t[1])===e)for(St(r),r=1;r<i.length;r++)n.push(i[r])}return n}(i[o],n))&&0<r.length&&(a=a.concat(r));T.cookieMetadataChunks=a},w.correlation.eck=T.Qd,(b=t=t||{}).report=function(t){b.utils.isObject(t)&&b.utils.isFunction(t.type)?-1==[b.EventType.PageView,b.EventType.Ajax,b.EventType.VPageView,b.EventType.Error].indexOf(t.type())?b.reportAPIMessage(b.I.U,t.type()+"is not a valid external event type","ADRUM.report",Array.prototype.slice.call(arguments)):b.conf.spa2&&t instanceof b.events.VPageView?b.log("SPA2~ Ignore report Virtual Page in old API"):b.utils.mb(function(){b.command("reportEvent",t)}):b.reportAPIMessage(b.I.Pc,"","ADRUM.report",Array.prototype.slice.call(arguments))},"APP_KEY_NOT_SET"===(gt=t=t||{}).conf.appKey&&m.log("AppDynamics EUM cloud application key missing. Please specify window['adrum-app-key']"),gt.correlation.Qd(document.cookie,document.referrer),gt.command("mark","firstbyte",window["adrum-start-time"]),gt.conf.spa2?gt.monitor.yc(gt.monitor.la,gt.monitor.Pd,gt.monitor.perfMonitor,gt.monitor.ia,gt.monitor.ph):gt.monitor.yc(gt.monitor.la,gt.monitor.Pd,gt.monitor.perfMonitor,gt.monitor.ia),(wt=(wt=(wt=t=t||{}).ng||(wt.ng={})).c||(wt.c={})).ue="locationChangeStart",wt.Yi="locationChangeSuccess",wt.ef="routeChangeStart",wt.ff="routeChangeSuccess",wt.nf="stateChangeStart",wt.of="stateChangeSuccess",wt.Bf="viewContentLoaded",wt.ui="includeContentRequested",wt.ti="includeContentLoaded",wt.Od="digest",wt.ml="outstandingRequestsComplete",wt.Ed="beforeNgXhrRequested",wt.ud="afterNgXhrRequested",wt.ll="ngXhrLoaded",wt.Id="$$completeOutstandingRequest",gt=t=t||{},v=gt.nd||(gt.nd={}),y=gt.utils.hasOwnPropertyDefined,v.VERSION="2.3.5",v.Pa={Xg:1,Ng:2,Rc:3,Gk:4},v.Error={mg:100,Hk:200,lg:300},v.Qa="*",v.create=function(t,e){function n(t){var e=t.from instanceof Array?t.from:t.from?[t.from]:[v.Qa];s[t.name]=s[t.name]||{};for(var n=0;n<e.length;n++)u[e[n]]=u[e[n]]||[],u[e[n]].push(t.name),s[t.name][e[n]]=t.to||e[n]}var r="string"==typeof t.initial?{state:t.initial}:t.initial,i=e||t.target||{},o=t.events||[],a=t.callbacks||{},s={},u={};r&&(r.event=r.event||"startup",n({name:r.event,from:"none",to:r.state}));for(var c,l=0;l<o.length;l++)n(o[l]);for(c in s)y(s,c)&&(i[c]=function(i,o){return function(){var t=this.current,e=o[t]||o[v.Qa]||t,n=Array.prototype.slice.call(arguments);if(this.xh(i))return this.error(i,t,e,n,v.Error.mg,"event "+i+" inappropriate in current state "+this.current);if(!1===Ct(this,this["onbefore"+i],i,t,e,n))return v.Pa.Rc;if(e===v.Qa&&(e=t),t===e)return Ct(this,this["onafter"+i]||this["on"+i],i,t,e,n),v.Pa.Ng;var r=this;return!(this.transition=function(){return r.transition=null,r.current=e,Ct(r,r["onenter"+e]||r["on"+e],i,t,e,n),Ct(r,r["onafter"+i]||r["on"+i],i,t,e,n),v.Pa.Xg})===Ct(this,this["onleave"+t],i,t,e,n)?(this.transition=null,v.Pa.Rc):this.transition?this.transition():void 0}}(c,s[c]));for(c in a)y(a,c)&&(i[c]=a[c]);return i.current="none",i.dl=function(t){return t instanceof Array?0<=t.indexOf(this.current):this.current===t},i.wh=function(t){return!this.transition&&(y(s[t],this.current)||y(s[t],v.Qa))},i.xh=function(t){return!this.wh(t)},i.sb=function(){return u[this.current]},i.error=t.error||function(t,e,n,r,i,o,a){throw a||o},r&&!r.defer&&i[r.event](),i},h=t=t||{},d=h.events||(h.events={}),g=d.EventTracker,o(Mt,g),Mt.prototype.type=function(){return h.EventType.VPageView},Mt.prototype.Sb=function(){return d.EventTracker.Db(this.guid(),this.url(),this.type())},Mt.prototype.lf=function(t){var e=this.Sb();t.set("parent",e),h.log("M64",e.guid(),e.url())},Mt.prototype.startCorrelatingXhrs=function(){h.conf.spa2||(h.log("M65"),this.lf(h.monitor.ia))},Mt.prototype.stopCorrelatingXhrs=function(){h.conf.spa2||(h.monitor.ia.set("parent",null),h.log("M66"))},Mt.prototype.Bc=function(){h.conf.spa2||(h.log("M67"),this.lf(h.monitor.la))},Mt.prototype.start=function(){h.conf.spa2||(this.markVirtualPageStart(),this.startCorrelatingXhrs())},Mt.prototype.end=function(){h.conf.spa2||(this.markVirtualPageEnd(),this.stopCorrelatingXhrs())},wt=Mt,d.VPageView=wt,d.ka(d.G[h.EventType.VPageView],wt.prototype),d.Ad(d.metricSpec[h.EventType.VPageView],wt.prototype),gt=t=t||{},(wt=(wt=gt.ng||(gt.ng={})).conf||(wt.conf={})).disabled=gt.conf.userConf&&gt.conf.userConf.spa&&gt.conf.userConf.spa.angular&&gt.conf.userConf.spa.angular.disable,wt.distinguishVPwithItsTemplateUrl=!!(gt.conf.userConf&&gt.conf.userConf.spa&&gt.conf.userConf.spa.angular&&!0===gt.conf.userConf.spa.angular.distinguishVPwithItsTemplateUrl),wt.xhr={},wt.metrics={includeResTimingInEndUserResponseTiming:!0},gt.conf.userConf&&gt.conf.userConf.spa&&gt.conf.userConf.spa.angular&&gt.conf.userConf.spa.angular.vp&&(gt.conf.userConf.spa.angular.vp.xhr&&gt.monitor.Aa.Qe(wt.xhr,gt.conf.userConf.spa.angular.vp.xhr),gt.conf.userConf.spa.angular.vp.metrics&&gt.utils.mergeJSON(wt.metrics,gt.conf.userConf.spa.angular.vp.metrics)),u=t=t||{},c=u.ng||(u.ng={}),l=u.utils.map,p=u.utils.reduce,f=u.utils.filter,e=u.events.VPageView,o(Pt,e),Pt.prototype.type=function(){return u.EventType.VPageView},Pt.prototype.Mc=function(){this.markViewChangeStart(),this.markVirtualPageStart(this.getViewChangeStart()),this.timestamp(this.getViewChangeStart())},Pt.prototype.vi=function(){this.digestCount(this.digestCount()+1)},Pt.prototype.wi=function(){this.ra++,u.log("M68",this.ra)},Pt.prototype.Hh=function(){this.ra--,u.log("M69",this.ra)},Pt.prototype.qi=function(){var t=this.perf.getEntryByName(u.events.b.Hf);return u.log("M70",this.ra,t),0<this.ra},Pt.prototype.th=function(){var e,n={rb:0},t=document.querySelectorAll("ng-view, [ng-view], .ng-view, [ui-view]"),t=l(t,angular.element);for(e in Pt.bf){var r=Pt.bf[e];l(t,function(t){t=t.find(e),l(t,function(t){(t=t[r])&&(t=decodeURIComponent(t),n[t]||(n[t]=e,n.rb++))})})}this.Ja=n},Pt.prototype.sh=function(t){return!!this.Ja[decodeURIComponent(t.name)]},Pt.prototype.uh=function(){var t=[],e=this;0<this.Ja.rb&&(t=u.monitor.perfMonitor.X().filter(function(t){return e.sh(t)})),this.resTiming(t)},Pt.Wh=function(t){return f(t,function(t){return(t.eventType===u.EventType.Ajax||t.eventType===u.EventType.ADRUM_XHR)&&!u.monitor.Aa.kf(t.eventUrl,t.method,c.conf.xhr)})},Pt.hi=function(t){return p(t,function(t,e){return Math.max(t,e.timestamp+e.metrics.PLT)},-1)},Pt.prototype.mh=function(){var t,e;c.conf.xhr&&(t=Pt.Wh(u.channel.getEventsWithParentGUID(this.guid())),0<(t=Pt.hi(t))&&(e=this.perf.getEntryByName(u.events.b.Hf),this.markXhrRequestsCompleted(Math.min(e&&e.startTime||Number.MAX_VALUE,t))))},Pt.prototype.adjustTimings=function(){this.mh();var t=this.getViewDOMLoaded(),e=this.getXhrRequestsCompleted(),t=Math.max(t,e);c.conf.metrics.includeResTimingInEndUserResponseTiming&&(this.lh(),e=this.getViewResourcesLoaded(),e=Math.max(t,e),u.log("M71",t,e),t=e),this.markVirtualPageEnd(t)},Pt.prototype.lh=function(){var t;0<this.Ja.rb&&(this.uh(),(t=this.resTiming())&&t.length>=this.Ja.rb&&(t=p(t,function(t,e){return Math.max(t,e.responseEnd)},0),this.markViewResourcesLoaded(u.PerformanceTracker.Hb(t))))},Pt.prototype.identifier=function(t){var e=this.Df;return u.utils.isDefined(t)&&(this.Df=Pt.Uh(t),this.url(this.Df.url)),e},Pt.Uh=function(t){var e={};return t&&t.C?(e.C={kc:""},u.utils.mergeJSON(e.C,{kc:t.C.originalPath,Ka:t.C.template,La:t.C.templateUrl})):t&&t.state&&(e.state={url:""},u.utils.mergeJSON(e.state,{url:t.state.url,name:t.state.name,Ka:t.state.template,La:t.state.templateUrl})),e},(gt=Pt).bf={img:"src",script:"src",link:"href"},c.NgVPageView=gt,u.events.ka(u.events.G[u.EventType.NG_VIRTUAL_PAGE],gt.prototype),s=t=t||{},r=s.ng||(s.ng={}),At.prototype.Kj=function(){var t=this,e=this.h;r.conf.metrics.includeResTimingInEndUserResponseTiming?(s.log("M72"),setTimeout(function(){t.pc(e)},At.Zg)):setTimeout(function(){t.pc(e)},At.$g)},At.prototype.pc=function(t){s.log("M73"),t.parent(s.monitor.DOMEventsMonitor.currentBasePage),s.command("call",function(){t.adjustTimings(),s.reporter.reportEvent(t)})},At.prototype.Qj=function(t){this.h=t},(gt=At).Zg=5e3,gt.$g=2*s.monitor.Aa.$f,r.VirtualPageStateMachine=gt,s.nd.create({events:[{name:"start",from:"none",to:"ChangeView"},{name:"viewLoaded",from:"ChangeView",to:"XhrPending"},{name:"xhrCompleted",from:"XhrPending",to:"End"},{name:"abort",from:"*",to:"none"},{name:"init",from:"*",to:"none"},{name:"locChange",from:"*",to:"*"},{name:"beforeXhrReq",from:"*",to:"*"},{name:"afterXhrReq",from:"*",to:"*"}],error:function(t){s.log("M74"+t)},callbacks:{onChangeView:function(){this.h.Mc(),this.h.Bc()},onviewLoaded:function(){this.h.markViewDOMLoaded()},onXhrPending:function(){this.h.me&&this.xhrCompleted()},onleaveXhrPending:function(t,e,n){return"abort"===t?(this.pc(),!0):"xhrCompleted"===t&&"End"===n?!this.h.qi()&&(this.h.markXhrRequestsCompleted(),!0):void 0},onEnd:function(){this.h.th(),this.Kj()},oninit:function(t,e,n,r){this.Qj(r),s.monitor.ia.tc()},onlocChange:function(t,e,n,r){this.h.identifier.url=r,this.h.pb({url:r})},onbeforeXhrReq:function(t,e,n,r){var i=this.h;return i.me=!1,s.log("M75",r&&r[1]||"",i.guid()),i.wi(),i.startCorrelatingXhrs(),r[3]&&(r[3]=s.aop.before(r[3],function(t,e,n){s.log("M76"),i.Hh(),n&&(t=s.utils.sj(n)["content-type"])&&0<=t.indexOf("text/html")&&i.markViewFragmentsLoaded()})),r},onafterXhrReq:function(){this.h.stopCorrelatingXhrs()}}},gt.prototype),function(i){function o(){this.D=new a.VirtualPageStateMachine,this.distinguishVPwithItsTemplateUrl=i.ng.conf.distinguishVPwithItsTemplateUrl}var a;a=i.ng||(i.ng={}),o.prototype.F=function(t,e){switch(i.log("M77",t),t){case a.c.ef:case a.c.nf:this.D.start();var n=e.next.url||document.URL,r=new a.NgVPageView({url:n,identifier:e.next});this.distinguishVPwithItsTemplateUrl&&o.Fi(this.D.h,r)?this.D.h.pb({url:n,identifier:e.next}):this.dk(r);break;case a.c.ff:case a.c.of:this.D.h.markViewChangeEnd();break;case a.c.Bf:this.D.viewLoaded();break;case a.c.Ed:this.D.beforeXhrReq(e);break;case a.c.ud:this.D.afterXhrReq();break;case a.c.Id:this.D.xhrCompleted();break;case a.c.ue:this.D.h.pb({url:e.next.url}),this.D.locChange(e.next.url);break;case a.c.Od:this.D.h.vi()}},o.prototype.dk=function(t){this.D.abort(),this.D.init(t),this.D.start()},o.Fi=function(t,e){t=t.identifier(),e=e.identifier();return!i.utils.isDefined(t)&&!i.utils.isDefined(e)||t===e||!(!i.utils.isDefined(t)||!i.utils.isDefined(e))&&(t.state||e.state?!(!i.utils.isDefined(t.state)||!i.utils.isDefined(e.state))&&(t.state.name===e.state.name&&t.state.Ka===e.state.Ka&&t.state.La===e.state.La&&t.state.url===e.state.url):t.C&&e.C?t.C.kc===e.C.kc&&t.C.Ka===e.C.Ka&&t.C.La===e.C.La:t.url===e.url)},a.ah=o}(t=t||{}),i=t=t||{},a=i.ng||(i.ng={}),n=i.utils.addEventListener,Et.prototype.setUp=function(){function t(t){return function(){i.log(t),e.init()}}var e=this;t("M78")(),n(document,"DOMContentLoaded",t("M79")),n(window,"load",t("M80"))},Et.prototype.init=function(){var e,t;"undefined"==typeof angular||this.ke||(this.ke=!0,i.log("M81"),e=this,(t=angular.module("ng")).config(["$provide",function(t){e.Ci(t),e.Bi(t)}]),t.run(["$browser",function(t){e.zi(t)}]),i.log("M82"))},Et.prototype.Bi=function(t){var e=i.aop,n=this;t.decorator("$httpBackend",["$delegate",function(t){return e.around(t,function(){var t=Array.prototype.slice.call(arguments);return n.H.F(a.c.Ed,t),t},function(){n.H.F(a.c.ud)},"ng.httpBackend")}])},Et.prototype.Ci=function(t){var e=i.aop,r=this;t.decorator("$rootScope",["$delegate",function(t){return t.$digest=e.after(t.$digest,function(){r.H.F(a.c.Od)},"ngevents.digest"),t.$on("$locationChangeStart",function(t,e){e={url:e},t=t&&t.Ba&&t.Ba.$state&&t.Ba.$state.current;t&&(e.state=t),r.H.F(a.c.ue,{next:e})}),t.$on("$locationChangeSuccess",function(){r.H.F(a.c.Yi)}),t.$on("$routeChangeStart",function(t,e){var n={url:location.href},e=e&&e.$$route;e&&(n.C=e),r.H.F(a.c.ef,{next:n})}),t.$on("$routeChangeSuccess",function(){r.H.F(a.c.ff)}),t.$on("$stateChangeStart",function(t,e){r.H.F(a.c.nf,{next:{state:e}})}),t.$on("$stateChangeSuccess",function(){r.H.F(a.c.of)}),t.$on("$viewContentLoaded",function(t){var e={url:location.href};(t=t&&t.Ba&&t.Ba.$state&&t.Ba.$state.current)&&(e.state=t),r.H.F(a.c.Bf,{next:e})}),t.$on("$includeContentRequested",function(){r.H.F(a.c.ui)}),t.$on("$includeContentLoaded",function(){r.H.F(a.c.ti)}),t}])},Et.prototype.zi=function(t){var e=this;t.$$completeOutstandingRequest=i.aop.before(t.$$completeOutstandingRequest,function(){e.H.F(a.c.Id)})},gt=Et,a.Ck=gt,a.ngMonitor=new gt,gt=t=t||{},(t=gt.ng||(gt.ng={})).conf.disabled||gt.conf.spa2||gt.monitor.yc(t.ngMonitor))};

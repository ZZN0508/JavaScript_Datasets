(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{105:function(e,t,a){e.exports={focus_wrap:"ieswiper_focus_wrap",focus_list:"ieswiper_focus_list",slide_active:"ieswiper_slide_active",focus_item:"ieswiper_focus_item",focus_cover:"ieswiper_focus_cover",nav_wrap:"ieswiper_nav_wrap",focus_nav_hide:"ieswiper_focus_nav_hide",focus_nav:"ieswiper_focus_nav",slide:"ieswiper_slide",sub_title:"ieswiper_sub_title",nav_index:"ieswiper_nav_index",title_split:"ieswiper_title_split",nav_slide:"ieswiper_nav_slide",em:"ieswiper_em",nav_index_1:"ieswiper_nav_index_1",nav_index_2:"ieswiper_nav_index_2",nav_index_3:"ieswiper_nav_index_3"}},1097:function(e,t,a){},117:function(e,t,a){e.exports={channelnav:"channelpage_channelnav",opt_area:"channelpage_opt_area",left_content:"channelpage_left_content",common_tabs:"channelpage_common_tabs",title_wrap:"channelpage_title_wrap",title_text:"channelpage_title_text",incon_style:"channelpage_incon_style",tabs_wrap:"channelpage_tabs_wrap",last_tabs:"channelpage_last_tabs",cut_line:"channelpage_cut_line",tabs:"channelpage_tabs",tab:"channelpage_tab",no_banner_nav:"channelpage_no_banner_nav"}},1409:function(e,t,a){},1485:function(e,t,a){},1573:function(e,t,a){},1574:function(e,t,a){},1575:function(e,t,a){},208:function(e,t,a){e.exports={s_body:"modulelist_s_body",tudou_body:"modulelist_tudou_body",body_top110:"modulelist_body_top110",body_top40:"modulelist_body_top40",list:"modulelist_list"}},277:function(e,t,a){e.exports={leftSwiperWrapper:"leftswiper_leftswiperwrapper",contentWrapper:"leftswiper_contentwrapper",swiperItemWrapper:"leftswiper_swiperitemwrapper",swiperItem:"leftswiper_swiperitem",swiperItemTitle:"leftswiper_swiperitemtitle",left:"leftswiper_left",right:"leftswiper_right",icon:"leftswiper_icon"}},338:function(e,t,a){e.exports={focusContent:"index2_focuscontent",hotGRow:"index2_hotgrow",horizontalHeight:"index2_horizontalheight",oneRowContent:"index2_onerowcontent",horizontalTrochanterNormal:"index2_horizontaltrochanternormal",twoRowContent:"index2_tworowcontent",horizontalTrochanter:"index2_horizontaltrochanter",verticalTrochanter:"index2_verticaltrochanter",verticalTrochanterNormal:"index2_verticaltrochanternormal",verticalNormal:"index2_verticalnormal",twoLineHeight:"index2_twolineheight",pack_reserve_toast:"index2_pack_reserve_toast",pack_cancel_reserve_toast:"index2_pack_cancel_reserve_toast"}},358:function(e,t,a){e.exports={BigFocusTileWrapper:"bigfocustilelist_bigfocustilewrapper",leftContainerWrapper:"bigfocustilelist_leftcontainerwrapper",rightContainerWrapper:"bigfocustilelist_rightcontainerwrapper",rightContentWrapper:"bigfocustilelist_rightcontentwrapper"}},389:function(e,t,a){"use strict";var n=a(5),i=a.n(n),s=a(6),r=a.n(s),o=a(8),c=a.n(o),l=a(9),u=a.n(l),d=a(3),p=a.n(d),h=a(0),m=a.n(h),f=a(25),_=(a(253),a(268),a(791)),v=a.n(_),g=a(14),y=a.n(g),w=a(188),b=a(208),k=a.n(b),S=a(17),E=a.n(S),I=a(11),N=a.n(I),x=a(16),O=a.n(x),L=a(10),C=a.n(L),T=a(2),R=a.n(T),A=a(233),P=a.n(A),j=a(58),M=a.n(j),D=(a(472),a(26)),F=a(7),B=(a(1097),a(166)),W=a(32),z=a(114);function K(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return U(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){o=!0,s=e},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw s}}}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}var V=function(e){c()(a,e);var t=H(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={gallerySwiper:null,thumbnailSwiper:null,isHideNav:!0,bottom:0,showtip:!0,refresh:!0},n.imgWidth=2074,n.data=e.data,n.componentSpm=n.getComponentSpm(n.data.spm),n.length=n.data.focusList?n.data.focusList.length:0,n.galleryRef=n.galleryRef.bind(E()(n)),n.thumbRef=n.thumbRef.bind(E()(n)),n.itemClickFn=n.itemClick.bind(E()(n)),n.isAddSlideChangEvents=!1,n.isCanPlay=!0,n.isFirst=!0,n.isLast=!1,n.clock=null,n.timer=null,n.popfunc=null,n.currentindex=0,n.initAdSDK(),n}return r()(a,[{key:"initAdSDK",value:function(){if("undefined"!==typeof window&&!window._adSDK&&window.adPageSDK){var e=window.adPageSDK;window._adSDK=window.isadtest?new e({requestURL:"//pre-sealine.youku.com/yk/html"}):new e}}},{key:"errorfix",value:function(e){e.target.style.display="none"}},{key:"getComponentSpm",value:function(e){var t=Object(F.h)();return"".concat(t.spmA,".").concat(t.spmB,".").concat(e)}},{key:"componentWillUpdate",value:function(e,t){var a=this;return t.gallerySwiper&&t.thumbnailSwiper&&(this.isAddSlideChangEvents||(this.isAddSlideChangEvents=!0,t.thumbnailSwiper.on("slideChange",(function(){a.slideIndexChange(a.state.thumbnailSwiper.previousIndex,a.state.thumbnailSwiper.realIndex)})))),!0}},{key:"componentWillReceiveProps",value:function(){var e=C()(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFavRelation();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.data.bottom?this.setState({isHideNav:!1,bottom:this.data.bottom}):this.setState({isHideNav:!1}),window.onresize=function(){window.width<=980?e.setState({showtip:!1}):e.setState({showtip:!0})},this.data.isFirstAd&&window._adSDK&&window._adSDK.params&&(window._adSDK.params.onFocuseWheelPlay=function(){e.startPlay()},window._adSDK.params.onFocuseWheelPause=function(){e.stopPlay()});var t=0,a=0,n=setInterval((function(){++t>=10&&clearInterval(n);var a=e.refs.lastAd;a&&a.childNodes&&a.childNodes.length&&(clearInterval(n),e.setState({lastAd:!0}))}),1e3),i=setInterval((function(){++a>=10&&clearInterval(n);var t=e.refs.firstAd;t&&t.childNodes&&t.childNodes.length&&(clearInterval(i),e.setState({firstAd:!0}))}),1e3)}},{key:"getCookieByName",value:function(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),a=document.cookie.match(t);if(a&&a[2])return a[2]}},{key:"request",value:function(){var e=C()(R.a.mark((function e(t,a,n){var i,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={api:t,type:"GET",v:n||"1.0",dataType:"jsonp",data:a},e.next=4,D.a.request(t,i);case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getFavRelation",value:function(){var e=C()(R.a.mark((function e(){var t,a,n,i,s,r,o,c,l,u,d,p,h,m,f;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.data.focusList)&&B.Array.isArray(t)&&0!==t.length){e.next=3;break}return e.abrupt("return");case 3:a={type:'"VIDEO"',ids:{}},n={type:'"SHOW"',ids:{}},i=K(t);try{for(i.s();!(s=i.n()).done;)r=s.value,o=r.vid||r.trackInfo&&r.trackInfo.vid,c=r.sid||r.trackInfo&&r.trackInfo.sid,o?a.ids[o]=r:c&&(n.ids[c]=r),r.favInfo={type:o?'"VIDEO"':'"SHOW"',id:o||c}}catch(_){i.e(_)}finally{i.f()}l="mtop.youku.subscribe.service.subscribe.favourite.batchisfav",u=0,d=[a,n];case 9:if(!(u<d.length)){e.next=20;break}if(p=d[u],!(B.Object.keys(p.ids).length>0)){e.next=17;break}return h={itemType:p.type,itemIds:B.Object.keys(p.ids).join(","),src:"PC_PAGES",guid:this.getCookieByName("__ysuid")},e.next=15,this.request(l,h,"3.0");case 15:if((m=e.sent)&&m.data&&m.data.batchResult)for(f in m.data.batchResult)p.ids[f].favInfo.isFav=m.data.batchResult[f];case 17:u++,e.next=9;break;case 20:this.setState({refresh:!this.state.refresh});case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleFavRelation",value:function(){var e=C()(R.a.mark((function e(t){var a,n,i,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.userInfo){e.next=2;break}return e.abrupt("return",window&&window.Xlogin&&window.Xlogin.buildLoginDom());case 2:return a=t.favInfo,n=a&&a.isFav?"mtop.youku.subscribe.service.subscribe.favourite.remove":"mtop.youku.subscribe.service.subscribe.favourite.create",i={itemId:a.id,itemType:a.type,guid:this.getCookieByName("__ysuid"),src:"PC_PAGES"},e.next=7,this.request(n,i,"3.0");case 7:(s=e.sent)&&s.data&&s.data.result&&(t.favInfo.isFav=!t.favInfo.isFav,this.setState({refresh:!this.state.refresh}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.onresize=null}},{key:"galleryRef",value:function(e){e&&this.setState({gallerySwiper:e.swiper})}},{key:"thumbRef",value:function(e){var t=this;if(e){this.setState({thumbnailSwiper:e.swiper}),this.popfunc=function(){t.currentindex<t.data.focusList.length-1&t.currentindex>-1?t.currentindex=t.currentindex+1:t.currentindex=0,t.state.thumbnailSwiper.slideTo(t.currentindex,0,!1),t.state.gallerySwiper.slideTo(t.currentindex,0,!1)},this.timer=setInterval(this.popfunc,5e3),e.swiper.el.onmouseleave=function(){t.clock=setTimeout((function(){t.timer=setInterval(t.popfunc,5e3)}),2e3)},e.swiper.el.onmouseenter=function(){t.clock&&clearTimeout(t.clock),t.timer&&clearInterval(t.timer)};var a=this,n=e.swiper.$el.children().children();e.swiper.$el.children().children().each((function(){for(var e=-1,t=0;t<n.length;t++)n[t]===this&&(e=t);e>-1&&(this.onmouseover=function(){a.state.thumbnailSwiper.slideTo(e,0,!1),a.state.gallerySwiper.slideTo(e,0,!1),a.currentindex=e,event.stopPropagation()})}))}}},{key:"slideIndexChange",value:function(e,t){window._adSDK&&this.data.isFirstAd&&(0===t&&window._adSDK.invoke("enterFirst",{adId:this.data.adFirstId}),0===e&&window._adSDK.invoke("leaveFirst",{adId:this.data.adFirstId})),window._adSDK&&this.data.isLastAd&&(t===this.length-1&&window._adSDK.invoke("enterlast",{adId:this.data.adLastId}),e===this.length-1&&window._adSDK.invoke("leavelast",{adId:this.data.adLastId}))}},{key:"stopPlay",value:function(){this.isCanPlay&&(this.state.gallerySwiper&&this.state.gallerySwiper.autoplay&&this.state.gallerySwiper.autoplay.stop(),this.isCanPlay=!1)}},{key:"startPlay",value:function(){this.isCanPlay||(this.state.gallerySwiper&&this.state.gallerySwiper.autoplay&&this.state.gallerySwiper.autoplay.start(),this.isCanPlay=!0)}},{key:"itemClick",value:function(e){var t=e.currentTarget.parentElement.parentElement;if(t&&t.href&&t.href.indexOf("spm=")<0){var a=t.getAttribute("data-spm");t.href=Object(F.k)(t.href,{spm:"".concat(this.componentSpm,".").concat(a)})}Object(F.q)(t),e.stopPropagation()}},{key:"slideClickFn",value:function(e){var t=e.currentTarget,a=t.getAttribute("data-href"),n=t.getAttribute("data-target");Object(W.a)(Object(F.d)(this.data)["data-spm"],t.getAttribute("data-spm"),"CLK",t),"_blank"===n?window.open(a,"_blank"):location.href=a}},{key:"itemClickStap",value:function(e){var t=e.currentTarget;if(t&&t.href&&t.href.indexOf("spm=")<0){var a=t.getAttribute("data-spm");t.href=Object(F.k)(t.href,{spm:"".concat(this.componentSpm,".").concat(a)})}Object(F.q)(t),e.stopPropagation()}},{key:"getAdExtId",value:function(e){return"focus_slideitem_".concat(this.data.moduleId,"_").concat(e)}},{key:"onMouseOption",value:function(e){var t=this.state.gallerySwiper;this.stopPlay(),t&&t.slideTo(e,0,!1),this.currentindex=e}},{key:"render",value:function(){var e=this;if(!this.props.data||this.length<1)return"";var t=this.state.bottom?{marginBottom:"".concat(this.state.bottom,"px")}:{};return m.a.createElement("div",O()({className:y()(M.a.focus_wrap,M.a.focus_height),style:t},Object(F.d)(this.data)),m.a.createElement(P.a,O()({},{spaceBetween:5,effect:"fade",observer:!0,touchRatio:0,on:{click:null},autoplay:!0},{ref:this.galleryRef}),this.data.focusList.map((function(t,a){var n=Object(F.j)(t.img,{w:e.imgWidth}),i={};e.data.isFirstAd&&0===a&&(i.adid=e.data.adFirstId,i.extId=e.getAdExtId(a),i.adtype="firstAd"),e.data.isLastAd&&a===e.data.focusList.length-1&&(i.adid=e.data.adLastId,i.extId=e.getAdExtId(a),i.adtype="lastAd");var s=e.state[i.adtype];return m.a.createElement("div",{key:a,style:{height:"100%"}},m.a.createElement("div",{"data-adext":i.extId,"data-adpid":i.adid,"data-adtype":i.adtype,ref:i.adtype}),m.a.createElement("a",O()({},Object(F.e)(t),Object(F.c)(t,!0,!0),{title:t.title,className:"aplus_exp aplus_clk",onClick:function(t){e.slideClickFn(t)}}),m.a.createElement("div",{className:M.a.focus_item,style:{position:"relative",backgroundImage:"url(".concat(n,")"),backgroundColor:"".concat(t.color||"#262626"),backgroundRepeat:"no-repeat",backgroundPosition:"center top",backgroundSize:"auto 100%"}},m.a.createElement("div",{className:y()(M.a.common_shade,M.a.top_shade)}),m.a.createElement("div",{className:y()(M.a.common_shade,M.a.bottom_shade)}),m.a.createElement("div",{className:y()(M.a.focus_logo_wrap,"common_container")},m.a.createElement("div",{className:M.a.content_info_wrap},m.a.createElement("div",{className:y()(M.a.content_info)},t.favInfo&&t.favInfo&&t.favInfo.id&&!s?m.a.createElement("div",{className:M.a.video_control},m.a.createElement("a",O()({className:M.a.bt_wrap},Object(F.c)(t,!0),{onMouseEnter:function(){e.stopPlay()},onMouseLeave:function(){e.startPlay()}}),m.a.createElement("span",{className:M.a.bt_icon_play})),m.a.createElement("a",{className:M.a.bt_wrap,onClick:function(a){console.log("click fav"),a.preventDefault(),a.stopPropagation(),e.handleFavRelation(t)},title:t&&t.favInfo&&t.favInfo.isFav?"\u53d6\u6d88\u770b\u5355":"\u6dfb\u52a0\u770b\u5355",onMouseEnter:function(){e.stopPlay()},onMouseLeave:function(){e.startPlay()}},m.a.createElement("span",{className:t&&t.favInfo&&t.favInfo.isFav?M.a.bt_icon_added:M.a.bt_icon_add}),m.a.createElement("span",{className:M.a.bt_text}))):"",!s&&m.a.createElement("div",{className:M.a.title_wrap},m.a.createElement("span",{className:y()(M.a.common_title,M.a.focus_title)},t.title),m.a.createElement("span",{className:y()(M.a.common_title,M.a.focus_subtitle)},t.subtitle)),m.a.createElement("div",{className:M.a.right_content_wrap},t.mark&&(t.mark.icon||t.mark.data&&t.mark.data.img)&&!s?m.a.createElement("img",{alt:t.mark.text||t.mark.data.text,className:M.a.prick,src:(t.mark.icon||t.mark.data&&t.mark.data.img).replace("http","https"),onError:function(t){e.errorfix(t)}}):"",m.a.createElement("div",{className:M.a.pagination_wrap},e.data.focusList.map((function(t,n){return m.a.createElement("div",{key:n,className:n!==a?M.a.pagination_item:y()(M.a.pagination_item,M.a.current_pagination_item),onMouseEnter:function(){return e.onMouseOption(n)},onClick:function(t){t.stopPropagation(),t.preventDefault(),e.onMouseOption(n)},onMouseLeave:function(){e.startPlay()}})}))))))))))}))),m.a.createElement(z.b.Consumer,null,(function(t){return e.userInfo=t,""})))}}]),a}(h.Component);N()(V,"defaultProps",{data:{}});var q=a(48),X=a.n(q);a(1409);function G(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return Y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Y(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){o=!0,s=e},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw s}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}var $=function(e){c()(a,e);var t=J(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={gallerySwiper:null,thumbnailSwiper:null,isHideNav:!0,showtip:!0,refresh:!0},n.imgWidth=2074,n.data=e.data,n.componentSpm=n.getComponentSpm(n.data.spm),n.length=n.data.focusList?n.data.focusList.length:0,n.galleryRef=n.galleryRef.bind(E()(n)),n.thumbRef=n.thumbRef.bind(E()(n)),n.itemClickFn=n.itemClick.bind(E()(n)),n.isAddSlideChangEvents=!1,n.isCanPlay=!0,n.isFirst=!0,n.isLast=!1,n.clock=null,n.timer=null,n.popfunc=null,n.currentindex=0,n.initAdSDK(),n}return r()(a,[{key:"initAdSDK",value:function(){if("undefined"!==typeof window&&!window._adSDK&&window.adPageSDK){var e=window.adPageSDK;window._adSDK=window.isadtest?new e({requestURL:"//pre-sealine.youku.com/yk/html"}):new e}}},{key:"errorfix",value:function(e){e.target.style.display="none"}},{key:"getComponentSpm",value:function(e){var t=Object(F.h)();return"".concat(t.spmA,".").concat(t.spmB,".").concat(e)}},{key:"componentWillUpdate",value:function(e,t){var a=this;return t.gallerySwiper&&t.thumbnailSwiper&&(this.isAddSlideChangEvents||(this.isAddSlideChangEvents=!0,t.thumbnailSwiper.on("slideChange",(function(){a.slideIndexChange(a.state.thumbnailSwiper.previousIndex,a.state.thumbnailSwiper.realIndex)})))),!0}},{key:"componentWillReceiveProps",value:function(){var e=C()(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFavRelation();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.setState({isHideNav:!1}),window.onresize=function(){window.width<=980?e.setState({showtip:!1}):e.setState({showtip:!0})},this.data.isFirstAd&&window._adSDK&&window._adSDK.params&&(window._adSDK.params.onFocuseWheelPlay=function(){e.startPlay()},window._adSDK.params.onFocuseWheelPause=function(){e.stopPlay()});var t=0,a=0,n=setInterval((function(){++t>=10&&clearInterval(n);var a=e.refs.lastAd;a&&a.childNodes&&a.childNodes.length&&(clearInterval(n),e.setState({lastAd:!0}))}),1e3),i=setInterval((function(){++a>=10&&clearInterval(n);var t=e.refs.firstAd;t&&t.childNodes&&t.childNodes.length&&(clearInterval(i),e.setState({firstAd:!0}))}),1e3)}},{key:"getCookieByName",value:function(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),a=document.cookie.match(t);if(a&&a[2])return a[2]}},{key:"request",value:function(){var e=C()(R.a.mark((function e(t,a,n){var i,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={api:t,type:"GET",v:n||"1.0",dataType:"jsonp",data:a},e.next=4,D.a.request(t,i);case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getFavRelation",value:function(){var e=C()(R.a.mark((function e(){var t,a,n,i,s,r,o,c,l,u,d,p,h,m,f;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.data.focusList)&&B.Array.isArray(t)&&0!==t.length){e.next=3;break}return e.abrupt("return");case 3:a={type:'"VIDEO"',ids:{}},n={type:'"SHOW"',ids:{}},i=G(t);try{for(i.s();!(s=i.n()).done;)r=s.value,o=r.vid||r.trackInfo&&r.trackInfo.vid,c=r.sid||r.trackInfo&&r.trackInfo.sid,o?a.ids[o]=r:c&&(n.ids[c]=r),r.favInfo={type:o?'"VIDEO"':'"SHOW"',id:o||c}}catch(_){i.e(_)}finally{i.f()}l="mtop.youku.subscribe.service.subscribe.favourite.batchisfav",u=0,d=[a,n];case 9:if(!(u<d.length)){e.next=20;break}if(p=d[u],!(B.Object.keys(p.ids).length>0)){e.next=17;break}return h={itemType:p.type,itemIds:B.Object.keys(p.ids).join(","),src:"PC_PAGES",guid:this.getCookieByName("__ysuid")},e.next=15,this.request(l,h,"3.0");case 15:if((m=e.sent)&&m.data&&m.data.batchResult)for(f in m.data.batchResult)p.ids[f].favInfo.isFav=m.data.batchResult[f];case 17:u++,e.next=9;break;case 20:this.setState({refresh:!this.state.refresh});case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleFavRelation",value:function(){var e=C()(R.a.mark((function e(t){var a,n,i,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.userInfo){e.next=2;break}return e.abrupt("return",window&&window.Xlogin&&window.Xlogin.buildLoginDom());case 2:return a=t.favInfo,n=a&&a.isFav?"mtop.youku.subscribe.service.subscribe.favourite.remove":"mtop.youku.subscribe.service.subscribe.favourite.create",i={itemId:a.id,itemType:a.type,guid:this.getCookieByName("__ysuid"),src:"PC_PAGES"},e.next=7,this.request(n,i,"3.0");case 7:(s=e.sent)&&s.data&&s.data.result&&(t.favInfo.isFav=!t.favInfo.isFav,this.setState({refresh:!this.state.refresh}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.onresize=null}},{key:"galleryRef",value:function(e){e&&this.setState({gallerySwiper:e.swiper})}},{key:"thumbRef",value:function(e){var t=this;if(e){this.setState({thumbnailSwiper:e.swiper}),this.popfunc=function(){t.currentindex<t.data.focusList.length-1&&t.currentindex>-1?t.currentindex=t.currentindex+1:t.currentindex=0,t.state.thumbnailSwiper.slideTo(t.currentindex,0,!1),t.state.gallerySwiper.slideTo(t.currentindex,0,!1)},this.timer=setInterval(this.popfunc,5e3),e.swiper.el.onmouseleave=function(){t.clock=setTimeout((function(){t.timer=setInterval(t.popfunc,5e3)}),2e3)},e.swiper.el.onmouseenter=function(){t.clock&&clearTimeout(t.clock),t.timer&&clearInterval(t.timer)};var a=this,n=e.swiper.$el.children().children();e.swiper.$el.children().children().each((function(){for(var e=-1,t=0;t<n.length;t++)n[t]===this&&(e=t);e>-1&&(this.onmouseover=function(){a.state.thumbnailSwiper.slideTo(e,0,!1),a.state.gallerySwiper.slideTo(e,0,!1),a.currentindex=e,event.stopPropagation()})}))}}},{key:"slideIndexChange",value:function(e,t){window._adSDK&&this.data.isFirstAd&&(0===t&&window._adSDK.invoke("enterFirst",{adId:this.data.adFirstId}),0===e&&window._adSDK.invoke("leaveFirst",{adId:this.data.adFirstId})),window._adSDK&&this.data.isLastAd&&(t===this.length-1&&window._adSDK.invoke("enterlast",{adId:this.data.adLastId}),e===this.length-1&&window._adSDK.invoke("leavelast",{adId:this.data.adLastId}))}},{key:"stopPlay",value:function(){this.isCanPlay&&(this.state.gallerySwiper&&this.state.gallerySwiper.autoplay&&this.state.gallerySwiper.autoplay.stop(),this.isCanPlay=!1)}},{key:"startPlay",value:function(){this.isCanPlay||(this.state.gallerySwiper&&this.state.gallerySwiper.autoplay&&this.state.gallerySwiper.autoplay.start(),this.isCanPlay=!0)}},{key:"itemClick",value:function(e){var t=e.currentTarget.parentElement.parentElement;if(t&&t.href&&t.href.indexOf("spm=")<0){var a=t.getAttribute("data-spm");t.href&&(t.href=Object(F.k)(t.href,{spm:"".concat(this.componentSpm,".").concat(a)}),Object(F.q)(t)),e.stopPropagation()}}},{key:"slideClickFn",value:function(e){var t=e.currentTarget,a=t.getAttribute("data-target");Object(W.a)(Object(F.d)(this.data)["data-spm"],t.getAttribute("data-spm"),"CLK",t);var n=t.getAttribute("data-href")+"".concat(-1===t.getAttribute("data-href").indexOf("?")?"?":"&","spm=").concat(this.componentSpm,".").concat(t.getAttribute("data-spm"));"_blank"===a&&n?window.open(n,"_blank"):n&&(location.href=n)}},{key:"itemClickStap",value:function(e){var t=e.currentTarget,a=t.getAttribute("href");if(a){if(a.indexOf("spm=")<0){var n=t.getAttribute("data-spm");t.href=Object(F.k)(a,{spm:"".concat(this.componentSpm,".").concat(n)})}Object(F.q)(t),e.stopPropagation()}else e.preventDefault()}},{key:"getAdExtId",value:function(e){return"focus_slideitem_".concat(this.data.moduleId,"_").concat(e)}},{key:"onMouseOption",value:function(e){var t=this.state.gallerySwiper;this.stopPlay(),t&&t.slideTo(e,0,!1),this.currentindex=e}},{key:"render",value:function(){var e=this;if(!this.props.data||this.length<1)return"";var t=this.state.isHideNav?"focus_nav ".concat(X.a.focus_nav," ").concat(X.a.focus_nav_hide):"focus_nav ".concat(X.a.focus_nav),a=this.data.bottom||0===this.data.bottom?{marginBottom:"".concat(this.data.bottom,"px")}:{};return m.a.createElement("div",O()({className:y()(X.a.focus_wrap,X.a.focus_height),style:a},Object(F.d)(this.data)),m.a.createElement(P.a,O()({},{spaceBetween:5,effect:"fade",observer:!0,touchRatio:0,on:{click:null},autoplay:!1},{ref:this.galleryRef}),this.data.focusList.map((function(t,a){var n=Object(F.j)(t.img,{w:e.imgWidth}),i={};e.data.isFirstAd&&0===a&&(i.adid=e.data.adFirstId,i.extId=e.getAdExtId(a),i.adtype="firstAd"),e.data.isLastAd&&a===e.data.focusList.length-1&&(i.adid=e.data.adLastId,i.extId=e.getAdExtId(a),i.adtype="lastAd");var s=e.state[i.adtype];return m.a.createElement("div",{key:a,style:{height:"100%"}},m.a.createElement("div",{"data-adext":i.extId,"data-adpid":i.adid,"data-adtype":i.adtype,ref:i.adtype}),m.a.createElement("a",O()({},Object(F.e)(t),Object(F.c)(t,!0,!0),{title:t.title,className:"aplus_exp aplus_clk",onClick:function(t){e.slideClickFn(t)}}),m.a.createElement("div",{className:X.a.focus_item,style:{position:"relative",backgroundImage:"url(".concat(n,") "),backgroundColor:"#16161a",backgroundRepeat:"no-repeat",backgroundPosition:"center top",backgroundSize:"cover"}},m.a.createElement("div",{className:y()(X.a.leftShode,X.a.focusLeftShode)}),m.a.createElement("div",{className:y()(X.a.rightShode,X.a.focusRightShode)}),m.a.createElement("div",{className:y()(X.a.common_shade,X.a.top_shade)}),m.a.createElement("div",{className:y()(X.a.common_shade,X.a.bottom_shade)}),m.a.createElement("div",{className:y()(X.a.focus_logo_wrap,"common_container")},m.a.createElement("div",{className:X.a.content_info_wrap},m.a.createElement("div",{className:y()(X.a.content_info)},t.favInfo&&t.favInfo&&t.favInfo.id&&!s?m.a.createElement("div",{className:X.a.video_control},m.a.createElement("a",O()({className:X.a.bt_wrap},Object(F.c)(t,!0),{onMouseEnter:function(){e.stopPlay()},onMouseLeave:function(){e.startPlay()}}),m.a.createElement("span",{className:X.a.bt_icon_play})),m.a.createElement("a",{className:X.a.bt_wrap,onClick:function(a){a.preventDefault(),a.stopPropagation(),e.handleFavRelation(t)},title:t&&t.favInfo&&t.favInfo.isFav?"\u53d6\u6d88\u770b\u5355":"\u6dfb\u52a0\u770b\u5355",onMouseEnter:function(){e.stopPlay()},onMouseLeave:function(){e.startPlay()}},m.a.createElement("span",{className:t&&t.favInfo&&t.favInfo.isFav?X.a.bt_icon_added:X.a.bt_icon_add}),m.a.createElement("span",{className:X.a.bt_text}))):"",!s&&m.a.createElement("div",{className:X.a.title_wrap}),m.a.createElement("div",{className:X.a.right_content_wrap},t.mark&&(t.mark.icon||t.mark.data)&&t.mark.data.img&&!s?m.a.createElement("img",{className:X.a.prick,src:((t.mark.icon||t.mark.data)&&t.mark.data.img).replace("http","https"),onError:function(t){e.errorfix(t)}}):"")))))))}))),m.a.createElement("div",{className:X.a.contentNav},m.a.createElement("div",{className:t},m.a.createElement("div",{className:X.a.contentSwiper},m.a.createElement(P.a,O()({},{direction:"vertical",paceBetween:10,centeredSlides:!0,observer:!0,slidesPerView:"auto",touchRatio:0,slideToClickedSlide:!0,autoplayDisableOnInteraction:!1,autoplay:!1},{ref:this.thumbRef}),this.data.focusList.map((function(t,a){return m.a.createElement("a",O()({id:e.getAdExtId(a),className:"aplus_exp aplus_clk contentItem"},Object(F.e)(t,!0),Object(F.c)(t,!0),{key:a,onClick:function(t){e.itemClickStap(t)}}),m.a.createElement("div",{className:X.a.nav_slide},m.a.createElement("h2",null,t.title),m.a.createElement("div",{className:"sub_title ".concat(X.a.sub_title)},t.subtitle)))})))))),m.a.createElement(z.b.Consumer,null,(function(t){return e.userInfo=t,""})))}}]),a}(h.Component);N()($,"defaultProps",{data:{}});var Z=a(105),Q=a.n(Z);function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}var te=function(e){c()(a,e);var t=ee(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={activeIndex:n.props.activeIndex,nextIndex:n.props.activeIndex+1,preIndex:n.props.activeIndex-1,isHideNav:!1,bottom:0,stopAutoPlay:!1},n.data=e.data,n.componentSpm=n.getComponentSpm(n.data.spm),n.length=n.props.data&&n.props.data.focusList?n.props.data.focusList.length:0,n.imgWidth=1664,n.itemClickFn=n.itemClick.bind(E()(n)),n.isCanPlay=!0,n.isFirst=!0,n.isLast=!1,n.focusRef="slider",n.navRef="nav_slider",n.activeClass=Q.a.slide_active,n.interValId=null,n}return r()(a,[{key:"initInterVal",value:function(){var e=this;this.interValId||(window.clearInterval(this.interValId),this.interValId=null),this.interValId=window.setInterval((function(){!e.state.stopAutoPlay&&e.isCanPlay&&e.slideTo(e.state.nextIndex)}),this.props.autoplay.delay)}},{key:"getComponentSpm",value:function(e){var t=Object(F.h)();return"".concat(t.spmA,".").concat(t.spmB,".").concat(e)}},{key:"shouldComponentUpdate",value:function(e,t){return t.isHideNav!==this.state.isHideNav||t.bottom!==this.state.bottom}},{key:"componentDidMount",value:function(){var e=this;this.props.autoplay&&this.props.autoplay.delay&&this.initInterVal(),this.isFirstAd&&window._adSDK&&window._adSDK.params&&(window._adSDK.params.onFocuseWheelPlay=function(){e.startPlay()},window._adSDK.params.onFocuseWheelPause=function(){e.stopPlay()})}},{key:"handleMouseEnter",value:function(e){this.isCanPlay&&e!==this.state.activeIndex&&this.slideTo(e)}},{key:"handleNavMouseLeave",value:function(){this.setState({stopAutoPlay:!1})}},{key:"handleNavMouseEnter",value:function(){this.setState({stopAutoPlay:!0})}},{key:"slideTo",value:function(e){if(!(this.length<1)){window.refs=this.refs,Object(F.b)(this.refs["".concat(this.focusRef,"_").concat(e)],this.activeClass),Object(F.b)(this.refs["".concat(this.navRef,"_").concat(e)],this.activeClass),Object(F.p)(this.refs["".concat(this.focusRef,"_").concat(this.state.activeIndex)],this.activeClass),Object(F.p)(this.refs["".concat(this.navRef,"_").concat(this.state.activeIndex)],this.activeClass);var t=this.state.activeIndex,a=e+1<this.length-1?e+1:0;this.setState({activeIndex:e,nextIndex:a,preIndex:t}),this.slideIndexChange(t,e)}}},{key:"slideIndexChange",value:function(e,t){window._adSDK&&this.isFirstAd&&(0===t&&window._adSDK.invoke("enterFirst",{adId:this.data.adFirstId}),0===e&&window._adSDK.invoke("leaveFirst",{adId:this.data.adFirstId})),window._adSDK&&this.isLastAd&&(t===this.length-1&&window._adSDK.invoke("enterlast",{adId:this.data.adLastId}),e===this.length-1&&window._adSDK.invoke("leavelast",{adId:this.data.adLastId}))}},{key:"stopPlay",value:function(){this.isCanPlay&&(this.setState({stopAutoPlay:!0}),this.isCanPlay=!1)}},{key:"startPlay",value:function(){this.isCanPlay||(this.setState({stopAutoPlay:!1}),this.isCanPlay=!0)}},{key:"itemClick",value:function(e){}},{key:"getAdExtId",value:function(e){return"focus_slideitem_".concat(this.data.moduleId,"_").concat(e)}},{key:"render",value:function(){var e=this;if(!this.props.data||this.length<1)return"";var t=this.state.isHideNav?"focus_nav ".concat(Q.a.focus_nav," ").concat(Q.a.focus_nav_hide):"focus_nav ".concat(Q.a.focus_nav);return m.a.createElement("div",O()({className:Q.a.focus_wrap},Object(F.d)(this.data)),m.a.createElement("ul",{className:Q.a.focus_list},this.data.focusList.map((function(t,a){var n=Object(F.j)(t.img,{w:e.imgWidth}),i={};e.data.isFirstAd&&0===a&&(i.adid=e.data.adFirstId,i.extId=e.getAdExtId(a),i.adtype="firstAd"),e.data.isLastAd&&a===e.data.focusList.length-1&&(i.adid=e.data.adLastId,i.extId=e.getAdExtId(a),i.adtype="lastAd");var s=0===a?Q.a.slide_active:"";return m.a.createElement("li",{key:a,className:s,ref:"".concat(e.focusRef,"_").concat(a)},m.a.createElement("div",{"data-adext":i.extId,"data-adpid":i.adid,"data-adtype":i.adtype,className:Q.a.focus_item,style:{backgroundImage:"url(".concat(n,")"),backgroundColor:"".concat(t.color||"#262626")}},m.a.createElement("a",O()({},Object(F.e)(t),Object(F.c)(t,!0),{className:"".concat(Q.a.focus_cover," aplus_exp aplus_clk"),style:{backgroundImage:"url(".concat(t.background||"//gw.alicdn.com/mt/TB1Sw8Tom_I8KJjy0FoXXaFnVXa-1664-520.png",")")},title:t.title}))))}))),m.a.createElement("div",{className:t},m.a.createElement("div",{className:Q.a.focus_wrap,onMouseEnter:this.handleNavMouseEnter.bind(this),onMouseLeave:this.handleNavMouseLeave.bind(this)},this.data.focusList.map((function(t,a){var n=0===a?y()(Q.a.slide,Q.a.slide_active):Q.a.slide;return m.a.createElement("a",O()({className:"".concat(n," aplus_exp aplus_clk"),key:a,id:e.getAdExtId(a),ref:"".concat(e.navRef,"_").concat(a)},Object(F.e)(t,!0),Object(F.c)(t,!0)),m.a.createElement("div",{className:Q.a.nav_slide,onMouseEnter:e.handleMouseEnter.bind(e,a)},m.a.createElement("h2",null," ",t.title),m.a.createElement("div",{className:Q.a.sub_title},t.subtitle)))})))))}}]),a}(h.Component);N()(te,"defaultProps",{data:{},activeIndex:0,autoplay:{delay:5e3,loop:!0}});var ae=a(338),ne=a.n(ae),ie=a(1681),se=a(288),re=a(329),oe=a(290);function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}function le(e){var t=e.isHorizontal?"horizontal":"vertical";return e.list&&e.row>1?e.list.map((function(a,n){return ue(a,e.rank,e.isOneLineTitle,t,n,e.row,e.onReserved,e.onCancelReserved)})):ue(e.list,e.rank,e.isOneLineTitle,t,0,e.row,e.onReserved,e.onCancelReserved)}function ue(e,t,a,n,i,s,r,o){return m.a.createElement("div",{className:"g-row",key:i},e&&Array.isArray(e)&&e.map((function(e,i){return m.a.createElement("div",{key:i,className:"g-col"},m.a.createElement("div",{className:"g-box"},m.a.createElement(se.a,{data:e,index:i,rank:t,isOneLineTitle:a,type:n,onReserved:r,onCancelReserved:o})))})))}function de(e){var t=e.isHorizontal?"horizontal":"vertical";return m.a.createElement("div",{className:"g-row hot-g-row ".concat(ne.a.hotGRow," ").concat("horizontal"===t?ne.a.horizontalNormal:ne.a.verticalNormal)},e.list.map((function(a,n){return m.a.createElement("div",{key:n,className:"g-col"},m.a.createElement("div",{className:"g-box"},m.a.createElement(se.a,{data:a,index:n,rank:e.rank,isOneLineTitle:e.isOneLineTitle,type:t,onReserved:e.onReserved,moduleId:e.moduleId})))})))}var pe=function(e){c()(a,e);var t=ce(a);function a(e){var n;return i()(this,a),n=t.call(this,e),N()(E()(n),"selfRef",m.a.createRef()),N()(E()(n),"contentRef",m.a.createRef()),N()(E()(n),"clientsubject",new ie.a),N()(E()(n),"elementWidth",0),N()(E()(n),"len",0),n.state={showReserveToast:!1,showCancelReserveToast:!1},n.timer1=null,n.timer2=null,n}return r()(a,[{key:"componentDidMount",value:function(){}},{key:"onReserved",value:function(){var e=this;this.setState({showReserveToast:!0}),this.timer1&&(clearTimeout(this.timer1),this.timer1=null),this.timer1=setTimeout((function(){e.setState({showReserveToast:!1})}),2500)}},{key:"onCancelReserved",value:function(e){var t=this;this.setState({showCancelReserveToast:!0,cancelReserveToast:e||"\u53d6\u6d88\u9884\u7ea6\u6210\u529f\uff5e"}),this.timer2&&(clearTimeout(this.timer2),this.timer2=null),this.timer2=setTimeout((function(){t.setState({showCancelReserveToast:!1})}),2500)}},{key:"shouldComponentUpdate",value:function(e,t){return!(e.list.length===this.props.list.length&&!this.props.changeNum&&!this.props.asyncRefresh)}},{key:"group",value:function(e,t){for(var a=[],n=Math.floor(e.length/t),i=1;i<=t;i++)a.push(this.setListsIndexArray(e,i,n,t));return a}},{key:"setListsIndexArray",value:function(e,t,a,n){var i=[];return Array.from({length:a},(function(a,s){return i.push(e[t+s*n-1])})),i}},{key:"render",value:function(){var e=this;if(!this.props.list||0===this.props.list.length)return"";var t=this.props,a=t.list,n=t.len,i=t.row,s=t.changeIndex,r=t.changeNum,o=a,c=i;8*i!==a.length&&1!==i&&(c=Math.floor(a.length/8),o=a.slice(0,8*c-1));var l=r?0!==s?a.slice(s*n,s*n+8):a:c>1?this.group(o,c):a,u=this.props.row>1?"g-rows":"";return m.a.createElement("div",{className:"".concat(u)},this.props.changeNum?m.a.createElement(de,{isHorizontal:this.props.isHorizontal,isOneLineTitle:this.props.isOneLineTitle,rank:this.props.rank,list:l,len:this.len,changeIndex:this.props.changeIndex,changeNum:this.props.changeNum,row:this.props.row,moduleId:this.props.moduleId,onReserved:function(){e.onReserved()},onCancelReserved:this.onCancelReserved.bind(this)}):m.a.createElement(re.a,{componentClass:"",subRightLinkInfo:this.props.subRightLinkInfo,left:function(e){return 1===c?m.a.createElement(oe.a,e):m.a.createElement(oe.b,e)},right:function(e){return 1===c?m.a.createElement(oe.d,e):m.a.createElement(oe.c,e)}},m.a.createElement(le,{componentlen:this.props.list.length/this.props.row,isHorizontal:this.props.isHorizontal,isOneLineTitle:this.props.isOneLineTitle||!0,rank:this.props.rank,list:l,len:this.props.len,changeIndex:this.props.changeIndex,changeNum:this.props.changeNum,row:c,moduleId:this.props.moduleId,onReserved:function(){e.onReserved()},onCancelReserved:this.onCancelReserved.bind(this)})),this.state.showReserveToast&&m.a.createElement("div",{className:ne.a.pack_reserve_toast},m.a.createElement("h4",null,"\u9884\u7ea6\u6210\u529f"),m.a.createElement("p",null,"\u4e0a\u4f18\u9177APP\u67e5\u770b\u4e0a\u7ebf\u63d0\u9192")),this.state.showCancelReserveToast&&m.a.createElement("div",{className:ne.a.pack_cancel_reserve_toast},this.state.cancelReserveToast))}}]),a}(h.Component);N()(pe,"defaultProps",{list:[],row:2,isHorizontal:!0,rank:!1});var he=pe,me=a(306),fe=a(307);function _e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}var ve=a(489),ge=function(e){c()(a,e);var t=_e(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).newMainTitleLinks=n.recomMainTitle(e.mainTitleLinks),n}return r()(a,[{key:"recomMainTitle",value:function(e){if(e.length<2)return e;var t=[];return e.map((function(a,n){t.push(a),n<e.length-1&&t.push({isCut:"true",title:"\u2022"})})),t}},{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"render",value:function(){return 0===this.newMainTitleLinks.length&&!this.props.subRightLinkInfo||"TIME"===this.props.tabType?"":m.a.createElement("h2",{className:ve.module_title},this.newMainTitleLinks.map((function(e,t){return e?e.isCut?m.a.createElement("span",{className:ve.main_title_cut,key:t},e.title):e.link?m.a.createElement("div",{key:t,className:ve.main_title_wrap},e.logo?m.a.createElement("img",{src:e.logo}):"",m.a.createElement("a",O()({},Object(F.e)(e,!0),Object(F.c)(e),{className:"".concat(ve.main_title," aplus_exp aplus_clk")}),e.title),e.logo?m.a.createElement("a",{className:ve.more,href:e.link,target:"_blank"},"\u66f4\u591a >"):""):m.a.createElement("span",{key:t,className:ve.main_title},e.title):""})),this.props.subRightLinkInfo?m.a.createElement("a",O()({className:"".concat(ve.right_content," aplus_exp aplus_clk")},Object(F.e)(this.props.subRightLinkInfo,!0),Object(F.c)(this.props.subRightLinkInfo)),this.props.subRightLinkInfo.subRightLinkTitle):"")}}]),a}(h.Component);function ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}N()(ge,"defaultProps",{mainTitleLinks:[],subRightLinkInfo:[],tabType:"",moduleId:""});var we=a(489),be=function(e){c()(a,e);var t=ye(a);function a(){return i()(this,a),t.apply(this,arguments)}return r()(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"handleMouseEnter",value:function(e){var t=e.index+"";this.props.changeActiveKey({index:t,link:e.link})}},{key:"render",value:function(){var e=this,t=this.props,a=t.tabTitle,n=t.index,i=t.activeKey,s=a.name||"";return a.link?m.a.createElement("a",{"data-spm":a.spm,target:"_blank",href:a.link,className:we.tab_title},s,a.summary?m.a.createElement("span",{className:we.tab_sub_title},a.summary):""):s&&m.a.createElement("div",{className:y()(we.tab_title,Number(i)===n?we.current_tab:""),style:{color:Number(i)===n?"#fff":""},onMouseOver:function(){var t=e.props.changeActiveKey;t&&"function"===typeof t&&t({index:n})}},s,a.summary?m.a.createElement("span",{className:we.tab_sub_title},a.summary):"")}}]),a}(h.Component);N()(be,"defaultProps",{index:0,tabTitle:{},moduleId:"",changeActiveKey:function(){}});var ke=a(309),Se=a.n(ke);function Ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}a(679);var Ie=a(489),Ne=Se.a.TabPane,xe=function(e){c()(a,e);var t=Ee(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={key:n.props.defaultActiveKey?n.props.defaultActiveKey+"":"0",forceRender:n.props.forceRender,activeKey:n.props.defaultActiveKey?n.props.defaultActiveKey+"":"0"},n}return r()(a,[{key:"changeActityKey",value:function(e){var t=e.index+"";this.setState({activeKey:t,link:e.link})}},{key:"render",value:function(){var e=this,t="TIME"===this.props.tabType?Ie.component_chasing:Ie.component_tabs;return Array.isArray(this.props.components)&&this.props.components.length>0&&this.props.components.every((function(e){return Array.isArray(e.itemList)&&e.itemList.length>0}))?m.a.createElement(Se.a,{activeKey:this.state.activeKey,ref:"tab_".concat(this.props.moduleId),tabBarExtraContent:m.a.createElement(ge,{key:this.state.key,mainTitleLinks:this.props.mainTitleLinks,subRightLinkInfo:this.props.subRightLinkInfo,tabType:this.props.tabType,moduleId:this.props.moduleId}),className:t,animated:!1,onChange:function(t){e.setState({activeKey:t})}},this.props.components.map((function(t,a){return m.a.createElement(Ne,O()({tab:m.a.createElement(be,{activeKey:e.state.activeKey,index:a,tabTitle:e.props.tabTitle[a],moduleId:e.props.moduleId,changeActiveKey:e.changeActityKey.bind(e)}),key:a,forceRender:e.state.forceRender},Object(F.d)(t)),t.headAdId?m.a.createElement(fe.a,{data:{adId:t.headAdId},className:Ie.tab_sponsor,showType:"tabheader"}):"",t.isFocus?m.a.createElement(me.a,{subRightLinkInfo:!(0!==a||!t.headAdId)||e.props.subRightLinkInfo&&e.props.subRightLinkInfo.subRightLinkTitle||!!(e.props.components.length>6),moduleId:e.props.moduleId,list:t.itemList,isHorizontal:t.isHorizontal,isOneLineTitle:t.isOneLineTitle}):m.a.createElement(he,{list:t.itemList,subRightLinkInfo:!(0!==a||!t.headAdId)||e.props.subRightLinkInfo&&e.props.subRightLinkInfo.subRightLinkTitle||!!(e.props.components.length>6),moduleId:e.props.moduleId,isHorizontal:t.isHorizontal,rank:t.isRank,isOneLineTitle:t.isOneLineTitle,row:t.totalLine||2}))}))):""}}]),a}(h.Component);N()(xe,"defaultProps",{components:[],defaultActiveKey:"0",tabTitle:[],mainTitleLinks:[],subRightLinkInfo:[],moduleId:"",forceRender:!1});var Oe=a(95),Le=a.n(Oe);function Ce(e){var t=e.itemList;e.index;return 2===e.row?t.map((function(e){return m.a.createElement("div",{className:"g-row ".concat(Le.a.packGRow)},Te(e))})):m.a.createElement("div",{className:"g-row ".concat(Le.a.packGRow)},Te(t))}function Te(e){return e.map((function(t,a){return m.a.createElement("div",{key:a,className:"\n          ".concat(Le.a.star_item,"\n          ").concat(Math.floor(a/8)===Math.floor((e.length-1)/8)?Le.a.last_line:" ","\n          ").concat("g-col")},m.a.createElement("dl",null,m.a.createElement("dt",null,m.a.createElement("div",{className:Le.a.ball_wrap},m.a.createElement("a",O()({className:"aplus_exp aplus_clk"},Object(F.c)(t,!0),Object(F.e)(t)),m.a.createElement("img",{src:t.img,alt:t.title})))),m.a.createElement("dd",{className:Le.a.title_wrap},m.a.createElement("a",O()({className:"".concat(Le.a.star_name," aplus_exp aplus_clk")},Object(F.e)(t,!0),Object(F.c)(t,!0)),t.title))))}))}function Re(e){var t=e.isHorizontal?"horizontal":"vertical";return m.a.createElement("div",{className:"g-row hot-g-row ".concat(Le.a.hotGRow," ").concat("horizontal"===t?Le.a.horizontalNormal:Le.a.verticalNormal)},e.list.map((function(e,t){return Te(e)})))}var Ae=function(e){if(!e.component||e.component&&0===e.component.itemList.length)return"";var t=e.component&&e.component.itemList,a=e.changeIndex,n=e.len,i=e.changeNum,s=i&&0!==a?t.slice(a*n,a*n+8):t;return m.a.createElement("div",O()({className:"g-row ".concat(Le.a.star_list," ").concat(Le.a.oneRowContent," aplus_exp aplus_clk")},Object(F.d)(e.component)),e.changeNum?m.a.createElement(Re,{isHorizontal:e.component.isHorizontal,list:s,len:n,changeIndex:a,changeNum:i,row:1}):m.a.createElement(re.a,{componentClass:"\n              ".concat("","\n              ").concat(e.component.isHorizontal?Le.a.horizontalTrochanterNormal:Le.a.verticalTrochanterNormal,"\n              "),left:function(e){return m.a.createElement(oe.b,e)},right:function(e){return m.a.createElement(oe.c,e)}},m.a.createElement(Ce,{componentlen:t.length/1,itemList:s,len:n,row:1})))};function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}var je=function(e){c()(a,e);var t=Pe(a);function a(){return i()(this,a),t.apply(this,arguments)}return r()(a,[{key:"componentDidMount",value:function(){this.props.data&&this.props.data.sourceFiles&&this.props.data.sourceFiles.length>0&&this.props.data.sourceFiles.map((function(e){Object(F.f)(e)}))}},{key:"render",value:function(){return this.props.data?m.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.data.htmlContent}}):""}}]),a}(h.Component),Me=a(298),De=a.n(Me),Fe=a(295),Be=a(334),We=a.n(Be),ze=a(117),Ke=a.n(ze);function Ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}var He=function(e){c()(a,e);var t=Ue(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={renderLastTab:!1},n.optTag=e.data.components.find((function(e){return"WEB_NAV_B"===e.tag})),n.optNav=e.data.components.find((function(e){return"WEB_SECONDARY_NAV_EDIT"===e.tag&&e.itemList&&e.itemList.length>0})),n.tabMargin=40,n.fontSize=16,n.leftTabCount=4,n.midTabCount=8,n.rightOptAreaWidth=276,n.lineNodes=[],n.leftTotalWidth=0,n}return r()(a,[{key:"filterOptNav",value:function(){if(this.optNav){var e=[];return this.optNav.itemList.map((function(t){e.push({name:t.title,href:t.link,item:t})})),e.length%2!==0&&e.push({name:"",href:"",key:""}),{key:"",label:"\u70ed\u95e8",list:e}}}},{key:"filterArr",value:function(){var e=this.props.channelFilter,t=e.filter,a=e.cateKey,n=[],i=t.filter[0],s=t.filter[1];95===Number(a)&&(s=t.filter[2]);var r={key:"",label:"",list:[]};return i&&i.list||(i=r),s&&s.list||(s=r),this.optNav&&n.push(this.filterOptNav()),n.push(s),n.push(i),n}},{key:"calTabs",value:function(e){e||(e=document.getElementsByClassName("common_container")[0].clientWidth);var t=this.props.channelFilter,a=t.filter,n=t.commonFilter,i=t.showSecNav;if(n&&a||i){var s=i?this.filterOptNav()?[this.filterOptNav()]:[]:[{key:"s",label:"\u7247\u5e93",list:n.s}].concat(We()(this.filterArr()));if(0!==s.length){s.filter((function(e){return"s"===e.key})).length>1&&(s.splice(0,1),s.sort((function(e){return"s"===e.key?-1:1})));for(var r=e-(this.optTag?this.rightOptAreaWidth:0),o=[],c=0,l=0;l<s.length;l++){var u=s[l];if(u&&u.list&&u.list.length>0){for(var d=u.list.filter((function(e){return"\u5168\u90e8"!==e.name})),p=0,h=0;h<d.length;h++)if((h+1)%2===0&&h+1<=d.length){var m=Math.max(d[h].name.length,d[h-1].name.length);if(r<=c+m*this.fontSize+this.tabMargin){p=h;break}c+=m*this.fontSize+this.tabMargin}p&&(d=d.slice(0,p));var f=Object.assign({},u);f.list=d,o.push(f),l!==s.length-1&&(c+=this.tabMargin+1)}}return o=o.filter((function(e){return e.list&&e.list.length>=2}))}}}},{key:"renderTitle",value:function(e){var t=this.props.channelFilter,a=t.cateKey,n=t.listType;return m.a.createElement("div",{className:Ke.a.title_wrap},e.label,e.key&&m.a.createElement("a",{className:Ke.a.title_text,target:"_blank",href:"//www.youku.com/category/".concat(n,"/c_").concat(a,".html")},"\u5168\u90e8",m.a.createElement("span",{className:y()(Ke.a.incon_style,"iconfont iconmeizihuadongbutton-you")})))}},{key:"buildProp",value:function(e,t){var a=this.props.channelFilter,n=a.cateKey,i=a.listType;return{target:"_blank",href:t.href||"//www.youku.com/category/".concat(i,"/c_").concat(n,"_").concat(e.key,"_").concat(t.key,".html"),className:Ke.a.tab}}},{key:"componentDidMount",value:function(){var e=this,t=function(e){var t=0;return e<=1239?t=1:e>=1240&&e<=1329?t=2:e>=1330&&e<=1591?t=3:e>=1592&&e<=1789?t=4:e>=1790&&(t=5),t};this.setState({renderLastTab:!0,windowSizeLevel:t(document.documentElement.clientWidth)},(function(){window.addEventListener("resize",(function(a){var n=t(document.documentElement.clientWidth);e.state.windowSizeLevel!==n&&e.setState({windowSizeLevel:n})}))}))}},{key:"renderTabs",value:function(e,t,a,n){var i=this;if(!e||!e.list||!e.list.length)return"";var s=e.list.filter((function(e){return"\u4e2d\u56fd"===e.name&&(e.name="\u4e2d\u56fd\u5927\u9646"),"\u5168\u90e8"!==e.name}));return m.a.createElement("div",{className:"".concat(Ke.a.common_tabs," ").concat(n?Ke.a.no_banner_nav:"")},this.renderTitle(e),m.a.createElement("div",{className:Ke.a.tabs_wrap},s.map((function(t,a){if((a+1)%2===0&&a+1<=s.length)return m.a.createElement("div",{className:Ke.a.tabs,key:a},m.a.createElement("a",O()({className:"aplus_exp aplus_clk"},i.buildProp(e,s[a-1]),Object(F.e)(s[a-1].item)),s[a-1].name),m.a.createElement("a",O()({className:"aplus_exp aplus_clk"},i.buildProp(e,s[a]),Object(F.e)(s[a].item)),s[a].name))})),a&&m.a.createElement("div",{className:Ke.a.cut_line})))}},{key:"render",value:function(){var e=this,t=this.props.channelFilter,a=t.filter,n=t.commonFilter,i=t.showSecNav,s=this.props.data.noBannerNavClass;if((!a||!n)&&!i)return"";if(!this.state.renderLastTab)return m.a.createElement("div",{className:y()(Ke.a.channelnav)});var r=this.optTag&&this.optTag.itemList&&this.optTag.itemList?this.optTag.itemList[0]:"",o=this.calTabs();return m.a.createElement("div",O()({className:y()(Ke.a.channelnav)},Object(F.d)(this.props.data)),this.state.renderLastTab&&Array.isArray(o)&&o.length&&m.a.createElement("div",{className:Ke.a.left_content},o.map((function(t,a){return e.renderTabs(t,a,a!==o.length-1,s)}))),r&&m.a.createElement("a",O()({className:"".concat(Ke.a.opt_area," aplus_exp aplus_clk"),target:"_blank",href:r.link},Object(F.e)(r)),m.a.createElement("img",{src:r.img})))}}]),a}(m.a.Component),Ve=a(42),qe=a.n(Ve),Xe=a(94);function Ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}var Ye=function(e){c()(a,e);var t=Ge(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={lastNodeText:"",windowSizeLevel:0,moreTabs:[],hoverIndex:-1,hoverItem:null,isShowMoreTab:!1},n.channelLink={},n.optFlag=!!(e.data&&Array.isArray(e.data.components)&&e.data.components.length>=2),n}return r()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.calLevel(document.documentElement.clientWidth);this.setState({windowSizeLevel:t,lastNodeText:5===t?"":"\u66f4\u591a"},(function(){window.addEventListener("resize",(function(t){var a=e.calLevel(document.documentElement.clientWidth);e.state.windowSizeLevel!==a&&e.setState({windowSizeLevel:a,lastNodeText:5===a?"":"\u66f4\u591a"})}))}))}},{key:"clearData",value:function(e){return"\u7535\u89c6\u5267"!==e.title&&"\u5267\u96c6"!==e.title||(e.cate="97",e.subtitles=[{title:"\u5185\u5730\u5267",link:"/category/show/c_97_a_\u4e2d\u56fd.html"},{title:"\u6e2f\u5267",link:"/category/show/c_97_a_\u4e2d\u56fd\u9999\u6e2f.html"}]),"\u7efc\u827a"===e.title&&(e.cate="85",e.subtitles=[{title:"\u6b63\u5728\u70ed\u64ad",link:"/category/show/c_85.html"},{title:"\u4f18\u9177\u81ea\u5236",link:"/category/show/c_85_cr_1.html"}]),"\u7535\u5f71"===e.title&&(e.cate="96",e.subtitles=[{title:"\u9662\u7ebf\u5927\u7247",link:"/category/show/c_96_s_5_pt_.html"},{title:"\u514d\u8d39",link:"/category/show/c_96_s_5_pt_1.html"}]),"\u52a8\u6f2b"===e.title&&(e.cate="100",e.subtitles=[{title:"\u56fd\u6f2b",link:"/category/show/c_100_a_\u4e2d\u56fd.html"},{title:"\u65e5\u6f2b",link:"/category/show/c_100_a_\u65e5\u672c.html"}]),"\u5c11\u513f"===e.title&&(e.cate="177",e.subtitles=[{title:"\u76ca\u667a",link:"/category/show/c_177_g_\u76ca\u667a.html"},{title:"\u513f\u6b4c",link:"/category/show/c_177_g_\u513f\u6b4c.html"}]),"\u7eaa\u5f55\u7247"!==e.title&&"\u7eaa\u5b9e"!==e.title||(e.cate="84",e.title="\u7eaa\u5f55\u7247",e.subtitles=[{title:"\u4eba\u7269",link:"/category/show/c_84_g_\u4eba\u7269.html"},{title:"\u81ea\u7136",link:"/category/show/c_84_g_\u81ea\u7136.html"}]),e}},{key:"renderTab",value:function(e,t){var a=this,n=[e,t],i=this.props.data.noBannerNavClass;return m.a.createElement("div",{className:qe.a.tab_wrap},n&&n.map((function(e){return m.a.createElement("div",{key:e.index,className:"".concat(qe.a.main_tabs_title," ").concat(i?qe.a.no_banner_nav:""),onMouseEnter:function(){setTimeout((function(){a.getChannelVideos(e.index,e)}),100)},onMouseLeave:function(){a.mainTabTimeout=setTimeout((function(){a.setState({hoverIndex:-1,channelVideos:null})}),100)}},m.a.createElement("img",{src:e.img,className:qe.a.logo}),m.a.createElement("a",O()({},Object(F.e)(e),{className:"".concat(qe.a.tab_title," aplus_exp aplus_clk"),href:e.link,target:"_blank"}),e.title),m.a.createElement("span",{className:qe.a.point},"\xb7"),a.renderChannelHover(e))})))}},{key:"getChannelVideos",value:function(){var e=C()(R.a.mark((function e(t,a){var n,i,s=this;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=this.channelLink[t])&&n.data&&n.success&&n.data.length>1&&n.data.filter((function(e){return"allow"===e.access})).length>0?(i=n.data.filter((function(e){return"allow"===e.access})).slice(0,4),this.setState({hoverIndex:t,channelVideos:i},(function(){s.channelLink[t]=n}))):Object(Xe.a)({url:"https:/category/page",callback:"callback",callbackFunc:"pages".concat(a.cate).concat((new Date).getTime()),data:{c:a.cate,type:"show",p:1,s:1},success:function(e){if(e&&e.data&&e.success&&e.data.length>1&&e.data.filter((function(e){return"allow"===e.access})).length>0){var a=e.data.filter((function(e){return"allow"===e.access})).slice(0,4);s.setState({hoverIndex:t,channelVideos:a},(function(){s.channelLink[t]=e}))}}});case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"renderChannelHover",value:function(e){var t=this,a=this.state,n=a.hoverIndex,i=a.channelVideos;if(-1!==n&&i&&e.index===n)return m.a.createElement("div",{className:qe.a.channel_video_wrap,onMouseEnter:function(){t.mainTabTimeout&&clearTimeout(t.mainTabTimeout)}},m.a.createElement("div",{className:qe.a.arrow}),m.a.createElement("a",{className:qe.a.title,target:"_blank",href:"/category/show/c_".concat(e.cate,".html")},"\u66f4\u591a".concat(177===e.cate||"177"===e.cate?"\u5c11\u513f\u5185\u5bb9":84===e.cate||"84"===e.cate?"\u7eaa\u5f55\u7247":e.title),m.a.createElement("span",{className:"iconfont iconmeizihuadongbutton-you",style:{fontSize:"13px"}})),i.map((function(e,t){return m.a.createElement("a",{target:"_blank",href:e.videoLink,key:t,className:qe.a.video_wrap,title:e.title},m.a.createElement("img",{src:e.img,className:qe.a.video_img}),m.a.createElement("div",{className:qe.a.video_title},e.title))})))}},{key:"renderCutLine",value:function(e,t){var a=qe.a.cut_line;return m.a.createElement("div",{className:a})}},{key:"renderMainTabs",value:function(){var e=this,t=this.props.data.components[0].itemList.slice(0,6);return m.a.createElement("div",{className:qe.a.main_tabs_wrap},6===t.length&&t.map((function(a,n){if(a.index=n,a=e.clearData(a),(n+1)%2===0&&n+1<=t.length){var i=t[n-1],s=t[n],r={title:"",link:""},o=[i.subtitles&&i.subtitles[0]||r,s.subtitles&&s.subtitles[0]||r,i.subtitles&&i.subtitles[1]||r,s.subtitles&&s.subtitles[1]||r];return m.a.createElement("div",{className:qe.a.main_tabs,key:n},e.renderTab(i,s),e.renderNormalTabs(o),e.renderCutLine(t,n))}})))}},{key:"calLevel",value:function(e){var t=0;return(e=e||document.documentElement.clientWidth)<=1239?t=1:e>=1240&&e<=1329?t=2:e>=1330&&e<=1591?t=3:e>=1592&&e<=1789?t=4:e>=1790&&(t=5),t}},{key:"showMoreTab",value:function(){var e=this.state.windowSizeLevel,t=this.props.data.components[0],a=t.itemList.slice([8,10,10,19,21][e-1],t.itemList.length-1);"\u66f4\u591a"===this.state.lastNodeText&&this.setState({moreTabs:a,isShowMoreTab:!0})}},{key:"renderMoreTab",value:function(e){var t=this;return this.state.isShowMoreTab?m.a.createElement("div",{className:qe.a.more_tab_wrap,onMouseEnter:function(){t.moreTabsTimeout&&clearTimeout(t.moreTabsTimeout)}},m.a.createElement("div",{className:qe.a.arrow}),e&&e.map((function(e,t){return m.a.createElement("a",O()({},Object(F.e)(e),{className:"".concat(qe.a.tab," aplus_exp aplus_clk"),href:e.link,target:"_blank",key:t}),e.title)}))):""}},{key:"renderNormalTabs",value:function(e){var t=this,a=this.props.data.components[0],n=e||a.itemList.slice(6,a.itemList.length+1);n=n.slice(0,20);var i=this.state,s=i.lastNodeText,r=i.moreTabs;return m.a.createElement("div",{className:qe.a.normal_tabs_wrap},n&&n.map((function(a,i){if((i+1)%2===0&&i+1<=n.length){var o="";e||(i<8?o="homepage_hide_4":i<14?o="homepage_hide_2":i<16?o="homepage_hide_3":i<18&&(o="homepage_hide_1"));var c={className:qe.a.tab,href:n[i].link,target:"_blank"};return i!==n.length-1||e||"\u66f4\u591a"!==s||(c.onMouseEnter=function(){t.showMoreTab()},c.onMouseLeave=function(){t.moreTabsTimeout=setTimeout((function(){t.setState({isShowMoreTab:!1})}),100)},delete c.href),m.a.createElement("div",{className:y()(qe.a.normal_tabs,o),key:i},m.a.createElement("a",{className:qe.a.tab,href:n[i-1].link,target:"_blank"},n[i-1].title),m.a.createElement("a",c,i!==n.length-1||e?n[i].title:s||n[i].title,i===n.length-1&&"\u66f4\u591a"===s&&r.length?t.renderMoreTab(r):""))}})),!e&&this.optFlag&&this.renderCutLine())}},{key:"renderNormalTabsNew",value:function(e){var t=this,a=this.state.moreTabs,n=this.props.data.components[0].itemList.slice(6);return m.a.createElement("div",{className:qe.a.normal_tabs_wrap},n&&n.map((function(e,t){if((t+1)%2===0&&t<=n.length-1){var a="";t<2?a="homepage_hide_1":t<5?a="homepage_hide_2":t<12?a="homepage_hide_3":t<20&&(a="homepage_hide_4");var i={className:"".concat(qe.a.tab," aplus_exp aplus_clk"),href:n[t].link,target:"_blank"};return m.a.createElement("div",{className:y()(qe.a.normal_tabs,a),key:t},m.a.createElement("a",O()({className:"".concat(qe.a.tab," aplus_exp aplus_clk"),href:n[t-1].link,target:"_blank"},Object(F.e)(n[t-1])),n[t-1].title),m.a.createElement("a",O()({},i,Object(F.e)(n[t])),n[t].title))}})),m.a.createElement("div",{className:y()(qe.a.normal_tabs,"homepage_hide_5")},m.a.createElement("a",O()({className:"".concat(qe.a.tab," aplus_exp aplus_clk"),href:n[n.length-1].link,target:"_blank"},Object(F.e)(n[n.length-1])),n[n.length-1].title),m.a.createElement("a",{onMouseEnter:function(){return t.showMoreTab()},onMouseLeave:function(){t.moreTabsTimeout=setTimeout((function(){t.setState({isShowMoreTab:!1})}),100)}},"\u66f4\u591a",this.renderMoreTab(a))),this.optFlag&&this.renderCutLine())}},{key:"renderOptArea",value:function(){var e=this.props.data.components[1].itemList;return e=e.slice(0,3),m.a.createElement("div",{className:qe.a.opt_wrap},e&&e.map((function(e,t){return m.a.createElement("a",O()({},Object(F.e)(e),{href:e.link,key:t,className:"".concat(t>0?qe.a.opt_hide_1:""," aplus_exp aplus_clk")}),m.a.createElement("img",{src:e.img,style:{marginLeft:0===t?0:""}}))})))}},{key:"render",value:function(){var e=this.props.data.noBannerNavClass;return m.a.createElement("div",O()({className:y()(qe.a.homepage_channelnav,e?qe.a.no_banner_nav:"")},Object(F.d)(this.props.data)),Array.isArray(this.props.data.components)&&this.props.data.components[0]&&Array.isArray(this.props.data.components[0].itemList)&&this.props.data.components[0].itemList.length>6&&m.a.createElement("div",{className:qe.a.left_content},this.renderMainTabs(),this.renderNormalTabsNew()),this.optFlag&&this.renderOptArea())}}]),a}(m.a.Component),Je=a(277),$e=a.n(Je);function Ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}var Qe=function(e){c()(a,e);var t=Ze(a);function a(e){var n;return i()(this,a),n=t.call(this,e),N()(E()(n),"changePrev",(function(){var e=n.state.currentIndex-1;(e>0||0===e)&&n.setState({currentIndex:e})})),N()(E()(n),"changeNext",(function(){var e=n.state,t=e.currentIndex,a=e.imgList,i=t+1;(i<a.length-1||i===a.length-1)&&n.setState({currentIndex:i})})),n.state={currentIndex:0,imgList:e.data.slice(8)||[]},n}return r()(a,[{key:"render",value:function(){var e=this.state,t=e.currentIndex,a=e.imgList;return m.a.createElement("div",{className:$e.a.leftSwiperWrapper},m.a.createElement("div",{className:$e.a.left,style:{display:t>0?"block":"none"},onClick:this.changePrev}),m.a.createElement("div",{className:$e.a.contentWrapper,style:{transform:0===t?"translateX(0)":"translateX(-".concat(t,"00%)")}},a.map((function(e,t){return m.a.createElement("div",{key:t,className:$e.a.swiperItemWrapper},m.a.createElement("a",O()({className:"aplus_exp aplus_clk"},Object(F.e)(e),Object(F.c)(e,!0)),m.a.createElement("div",{className:$e.a.swiperItem,style:{backgroundImage:"url(".concat(e.img,")")}}),m.a.createElement("span",{className:$e.a.swiperItemTitle},e.title)))}))),m.a.createElement("div",{className:$e.a.right,style:{display:t<a.length-1?"block":"none"},onClick:this.changeNext}))}}]),a}(h.Component),et=a(358),tt=a.n(et);function at(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}var nt=function(e){c()(a,e);var t=at(a);function a(){var e;i()(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s)),N()(E()(e),"renderRight",(function(){var t=e.props.list.slice(0,8),a=[t.filter((function(e,t){return t%2===0})),t.filter((function(e,t){return t%2===1}))];return a&&Array.isArray(a)&&a.map((function(t,a){return m.a.createElement("div",{className:"g-row",key:a},t&&t.map((function(t,a){return m.a.createElement("div",{key:a,className:"g-col box-bottom"},m.a.createElement("div",{className:"g-box"},m.a.createElement(se.a,{data:t,index:a,rank:e.props.rank,isOneLineTitle:!0,type:"horizontal"})))})))}))})),e}return r()(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"g-row ".concat(tt.a.BigFocusTileWrapper),"data-spm":this.props.spmC},m.a.createElement("div",{className:tt.a.leftContainerWrapper},m.a.createElement(Qe,{data:this.props.list})),m.a.createElement("div",{className:tt.a.rightContainerWrapper},m.a.createElement("div",{className:tt.a.rightContentWrapper},this.renderRight())))}}]),a}(h.Component);N()(nt,"defaultProps",{list:[]});var it=nt,st=a(65),rt=a.n(st);function ot(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}var ct=[{gradeList:[{gradeName:"\u5b66\u524d\uff080-2\u5c81\uff09",gradeId:"K1",alias:"\u5b66\u524d"},{gradeName:"\u5e7c\u513f\u56ed\uff083-6\u5c81\uff09",gradeId:"K2",alias:"\u5e7c\u513f\u56ed"}],gradeGroupName:"\u5e7c\u513f\u9636\u6bb5",gradeGroupId:"KID"},{gradeList:[{gradeName:"\u4e00\u5e74\u7ea7",gradeId:"L1",alias:"\u4e00\u5e74\u7ea7"},{gradeName:"\u4e8c\u5e74\u7ea7",gradeId:"L2",alias:"\u4e8c\u5e74\u7ea7"},{gradeName:"\u4e09\u5e74\u7ea7",gradeId:"L3",alias:"\u4e09\u5e74\u7ea7"},{gradeName:"\u56db\u5e74\u7ea7",gradeId:"L4",alias:"\u56db\u5e74\u7ea7"},{gradeName:"\u4e94\u5e74\u7ea7",gradeId:"L5",alias:"\u4e94\u5e74\u7ea7"},{gradeName:"\u516d\u5e74\u7ea7",gradeId:"L6",alias:"\u516d\u5e74\u7ea7"}],gradeGroupName:"\u5c0f\u5b66\u9636\u6bb5",gradeGroupId:"PRIMARY_SCHOOL"},{gradeList:[{gradeName:"\u521d\u4e00",gradeId:"L7",alias:"\u521d\u4e00"},{gradeName:"\u521d\u4e8c",gradeId:"L8",alias:"\u521d\u4e8c"},{gradeName:"\u521d\u4e09",gradeId:"L9",alias:"\u521d\u4e09"}],gradeGroupName:"\u521d\u4e2d\u9636\u6bb5",gradeGroupId:"MIDDLE_SCHOOL"},{gradeList:[{gradeName:"\u9ad8\u4e00",gradeId:"L10",alias:"\u9ad8\u4e00"},{gradeName:"\u9ad8\u4e8c",gradeId:"L11",alias:"\u9ad8\u4e8c"},{gradeName:"\u9ad8\u4e09",gradeId:"L12",alias:"\u9ad8\u4e09"}],gradeGroupName:"\u9ad8\u4e2d\u9636\u6bb5",gradeGroupId:"HIGH_SCHOOL"}],lt=function(e){c()(a,e);var t=ot(a);function a(e){var n;return i()(this,a),(n=t.call(this,e)).state={isLogin:!1,icon:"//gw.alicdn.com/tfs/TB1qNmsyYr1gK0jSZFDXXb9yVXa-96-96.png",userInfo:{sex:0},_userInfo:{sex:0},lessonInfo:{title:"\u5b66\u4e60\u8ba1\u5212",subtitle:"0"},classList:ct,isSetClassShow:!1,isSetUserShow:!1,isToastShow:!1,toast:""},n.isLoading=!1,n.isFromUser=!1,n}return r()(a,[{key:"editAll",value:function(){this.state.isLogin?this.state.userInfo.grade?(this.setState({isSetUserShow:!0,isSetClassShow:!1}),Object(W.a)("personal_information","pop","EXP")):(this.setState({isSetClassShow:!0,isSetUserShow:!1}),Object(W.a)("selectclass","pop","EXP")):window.yklogininstance&&window.yklogininstance.login&&window.yklogininstance.login()}},{key:"handleClass",value:function(e){e.stopPropagation(),e.preventDefault(),this.isFromUser=!1,this.setState({isSetClassShow:!0,isSetUserShow:!1}),Object(W.a)("selectclass","pop","EXP")}},{key:"editClass",value:function(){this.isFromUser=!0,this.setState({isSetClassShow:!0,isSetUserShow:!1}),Object(W.a)("selectclass","pop","EXP"),Object(W.a)("personal_information","class","CLK")}},{key:"gotoMy",value:function(){window.open("_blank").location="prodtest.youku.com"===location.host?"//prodtest.youku.com/page/usc/study":"//user.youku.com/page/usc/study"}},{key:"exitPop",value:function(){this.setState({isSetClassShow:!1,isSetUserShow:!1,_userInfo:Object.assign({},this.state.userInfo)})}},{key:"setClass",value:function(e,t){var a=this;this.state.userInfo.grade&&this.state.userInfo.name&&!this.isFromUser?this.setState({_userInfo:Object.assign(this.state._userInfo,{grade:e,gradeName:t})},(function(){a.userSubmit()})):(this.setState({_userInfo:Object.assign(this.state._userInfo,{grade:e,gradeName:t}),isSetClassShow:!1,isSetUserShow:!0}),Object(W.a)("personal_information","pop","EXP")),Object(W.a)("selectclass",e,"CLK")}},{key:"getByteVal",value:function(e,t){for(var a="",n=0,i=0;i<e.length&&(null!=e[i].match(/[^\x00-\xff]/gi)?n+=2:n+=1,!(n>t));i++)a+=e[i];return a}},{key:"inputChange",value:function(e){this.setState({_userInfo:Object.assign(this.state._userInfo,{name:this.getByteVal(e.target.value,12)})})}},{key:"userSubmit",value:function(){var e=this;if(this.state._userInfo.grade)if(this.state._userInfo.name){if(this.isLoading)return;this.isLoading=!0,D.a.request("mtop.youku.yklive.education.user.".concat(this.state.userInfo.id?"update":"add"),{data:this.state._userInfo}).then((function(t){t.data&&"true"===t.data.isSuccess?(e.setState({toast:"\u4fdd\u5b58\u6210\u529f",isToastShow:!0,isSetClassShow:!1,isSetUserShow:!1},(function(){setTimeout((function(){e.setState({isToastShow:!1})}),2500)})),D.a.request("mtop.youku.yklive.education.user.query").then((function(t){t.data&&"true"===t.data.isSuccess&&t.data.model&&e.setState({userInfo:t.data.model,_userInfo:Object.assign({},t.data.model)})}),(function(){}))):e.setState({toast:"\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff5e",isToastShow:!0},(function(){setTimeout((function(){e.setState({isToastShow:!1})}),2500)})),e.isLoading=!1}),(function(){e.setState({toast:"\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff5e",isToastShow:!0},(function(){setTimeout((function(){e.setState({isToastShow:!1})}),2500)})),e.isLoading=!1}))}else this.setState({toast:"\u8bf7\u60a8\u586b\u5199\u540d\u5b57",isToastShow:!0},(function(){setTimeout((function(){e.setState({isToastShow:!1})}),2500)}));else this.setState({toast:"\u8bf7\u60a8\u8bbe\u7f6e\u5e74\u7ea7",isToastShow:!0},(function(){setTimeout((function(){e.setState({isToastShow:!1}),e.setClass()}),2500)}))}},{key:"loginStatusWatch",value:function(){var e=this;window.yklogininstance&&window.yklogininstance.eventbusLogin&&window.yklogininstance.eventbusLogin.subscribe&&window.yklogininstance.eventbusLogin.subscribe(function(){var t=C()(R.a.mark((function t(a){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a&&a.userInfo&&a.userInfo.loginStatus&&!sessionStorage.getItem("xueLoginSucc")&&!e.state.isLogin&&(sessionStorage.setItem("xueLoginSucc",1),window.location.reload());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),window.yklogininstance&&window.yklogininstance.eventbusLoggout&&window.yklogininstance.eventbusLoggout.subscribe&&window.yklogininstance.eventbusLoggout.subscribe(function(){var e=C()(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.removeItem("xueLoginSucc"),window.location.reload();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"componentDidMount",value:function(){var e=this;D.a.request("mtop.youku.yklive.education.user.grade.get").then((function(t){t.data&&"true"===t.data.isSuccess&&Array.isArray(t.data.model)&&t.data.model.length>0&&e.setState({classList:t.data.model})}),(function(){})),D.a.request("mtop.youku.vip.xtop.member.profile.get",{data:{req:JSON.stringify({deviceType:"pc",show:1})}}).then((function(t){t.data&&t.data.user_icon_middle&&e.setState({isLogin:!0,icon:t.data.user_icon_middle},(function(){e.loginStatusWatch()}))}),(function(){e.loginStatusWatch()})),D.a.request("mtop.youku.yklive.education.user.query").then((function(t){t.data&&"true"===t.data.isSuccess&&t.data.model?e.setState({userInfo:t.data.model,_userInfo:Object.assign({},t.data.model)},(function(){t.data.model.grade?"undefined"!==typeof t.data.model.sex&&t.data.model.name||(e.setState({isSetClassShow:!1,isSetUserShow:!0}),Object(W.a)("personal_information","pop","EXP")):(e.setState({isSetClassShow:!0,isSetUserShow:!1}),Object(W.a)("selectclass","pop","EXP"))})):(e.setState({isSetClassShow:!0,isSetUserShow:!1}),Object(W.a)("selectclass","pop","EXP"))}),(function(){})),D.a.request("mtop.youku.yklive.education.lessions.plan.count").then((function(t){t.data&&t.data.model&&e.setState({lessonInfo:Object.assign(e.state.lessonInfo,{subtitle:t.data.model>99?"99+":t.data.model})})}),(function(){}))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:rt.a.card_outer},m.a.createElement("div",{className:rt.a.card_wrap},m.a.createElement("div",{className:rt.a.card_left,onClick:function(){e.editAll()}},m.a.createElement("img",{className:rt.a.card_avatar,src:this.state.userInfo&&this.state.userInfo.icon||this.state.icon}),m.a.createElement("h3",null,m.a.createElement("a",{className:rt.a.card_nick},this.state.isLogin?this.state.userInfo.name||(this.state.userInfo.grade?"\u8bbe\u5b9a\u540d\u5b57":"\u8bbe\u5b9a\u5e74\u7ea7"):"\u8bf7\u8bbe\u7f6e\u540d\u5b57"),this.state.userInfo&&this.state.userInfo.gradeName&&m.a.createElement("a",{className:rt.a.card_class,onClick:function(t){e.handleClass(t)}},this.state.userInfo.gradeName.split("\uff08")[0])),m.a.createElement("p",{className:rt.a.card_subtitle},this.state.isLogin?this.state.userInfo.extText||(this.state.userInfo.grade?"\u65b9\u4fbf\u8001\u5e08\u53eb\u5230\u5b69\u5b50":"\u5b9a\u5236\u4e13\u5c5e\u9891\u9053\u5185\u5bb9"):"\u65b9\u4fbf\u8001\u5e08\u53eb\u5230\u5b69\u5b50")),m.a.createElement("a",{className:rt.a.lesson,onClick:function(){e.gotoMy()}},m.a.createElement("p",null,this.state.lessonInfo.subtitle||"0"),m.a.createElement("p",null,this.state.lessonInfo.title||"\u5b66\u4e60\u8ba1\u5212"))),this.state.isSetClassShow&&m.a.createElement("div",{className:rt.a.class_pop},m.a.createElement("a",{className:rt.a.pop_exit,onClick:function(){e.exitPop()}}),m.a.createElement("h3",null,"\u8bbe\u7f6e\u5f53\u524d\u6240\u5728\u5e74\u7ea7"),Array.isArray(this.state.classList)&&this.state.classList.map((function(t,a){return m.a.createElement("div",{className:rt.a.class_wrap},m.a.createElement("div",{className:rt.a.class_title},t.gradeGroupName),m.a.createElement("div",{className:rt.a.class_list},Array.isArray(t.gradeList)&&t.gradeList.map((function(t,a){return m.a.createElement("a",{onClick:function(){e.setClass(t.gradeId,t.gradeName)},className:t.gradeId===e.state._userInfo.grade?rt.a.selected:""},t.gradeName)}))))}))),this.state.isSetUserShow&&m.a.createElement("div",{className:rt.a.user_pop},m.a.createElement("a",{className:rt.a.pop_exit,onClick:function(){e.exitPop()}}),m.a.createElement("h3",null,"\u586b\u5199\u5b69\u5b50\u4fe1\u606f"),m.a.createElement("div",null,m.a.createElement("dl",null,m.a.createElement("dt",null,"\u5e74\u7ea7"),m.a.createElement("dd",null,m.a.createElement("p",null,this.state._userInfo.gradeName||""),m.a.createElement("a",{className:rt.a.pop_edit,onClick:function(){e.editClass()}}))),m.a.createElement("dl",null,m.a.createElement("dt",null,"\u540d\u5b57"),m.a.createElement("dd",null,m.a.createElement("p",null,m.a.createElement("input",{onFocus:function(){Object(W.a)("personal_information","name","CLK")},ref:"input",value:this.state._userInfo.name||"",defaultValue:"",placeholder:"\u6700\u591a\u8f93\u51656\u4e2a\u6c49\u5b57",onChange:function(t){return e.inputChange(t)}})))),m.a.createElement("dl",null,m.a.createElement("dt",null,"\u6027\u522b"),m.a.createElement("dd",null,m.a.createElement("a",{className:"".concat(rt.a.pop_gender," ").concat(this.state._userInfo.sex&&0!==this.state._userInfo.sex&&"0"!==this.state._userInfo.sex?"":rt.a.active),title:"\u7537\u5b69",onClick:function(){e.setState({_userInfo:Object.assign(e.state._userInfo,{sex:0})}),Object(W.a)("personal_information","boy","CLK")}}),m.a.createElement("a",{className:"".concat(rt.a.pop_gender," ").concat(1===this.state._userInfo.sex||"1"===this.state._userInfo.sex?rt.a.active:""),title:"\u5973\u5b69",onClick:function(){e.setState({_userInfo:Object.assign(e.state._userInfo,{sex:1})}),Object(W.a)("personal_information","girl","CLK")}})))),m.a.createElement("a",{className:rt.a.pop_submit,onClick:function(){e.userSubmit()}},"\u4fdd\u5b58")),this.state.isToastShow&&m.a.createElement("div",{className:rt.a.toast},this.state.toast),(this.state.isSetUserShow||this.state.isSetClassShow)&&m.a.createElement("div",{className:rt.a.layer,onClick:function(){e.exitPop()}}))}}]),a}(h.Component),ut=a(79),dt=a.n(ut),pt=a(4),ht=a.n(pt);function mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}a(1485);var ft=function(e,t,a,n,i){if(e.components&&e.components[0]){var s=e.components[0];return m.a.createElement("div",O()({},Object(F.d)(s),{className:dt.a.pcackBox}),s.isFocus?m.a.createElement(me.a,{list:s.itemList,changeNum:e.changeNum,changeIndex:t,elementWidth:a,col:n,row:s.totalLine||2,isOneLineTitle:s.isOneLineTitle,isHorizontal:s.isHorizontal,subRightLinkInfo:e.subRightLinkInfo&&e.subRightLinkInfo.subRightLinkTitle,isLazy:i,asyncRefresh:e.asyncRefresh||!1}):m.a.createElement(he,{list:s.itemList,isHorizontal:s.isHorizontal,rank:s.isRank,changeNum:e.changeNum,isOneLineTitle:s.isOneLineTitle,changeIndex:t,elementWidth:a,len:n,row:"PHONE_DEFALT_SCROLL_C"===e.containerType||"VIP_TAIL_PLACEHOLDER"===e.containerType?1:s.totalLine||2,subRightLinkInfo:e.subRightLinkInfo&&e.subRightLinkInfo.subRightLinkTitle,isLazy:i,asyncRefresh:e.asyncRefresh||!1}))}},_t=function(e){c()(a,e);var t=mt(a);function a(e){var n;return i()(this,a),n=t.call(this,e),N()(E()(n),"staticProps",{moduleId:"",type:"",data:{},isLazyRender:!1}),N()(E()(n),"checkTextLink",(function(e){var t=48/n.props.data.subTitleLinks.length;return e.length>t?e.slice(0,t)+"...":e.slice(0,t)})),n.state={changeIndex:0,elementWidth:0},n}return r()(a,[{key:"componentDidMount",value:function(){var e=this;this.elementWidth=document.querySelector(".g-box")&&document.querySelector(".g-box").offsetWidth+12,this.gRowWith=document.querySelector(".hot-g-row")&&document.querySelector(".hot-g-row").offsetWidth,this.len=this.gRowWith&&this.elementWidth&&Math.ceil(this.gRowWith/this.elementWidth),this.packFocus=!!document.querySelector(".pack-focus"),this.elementWidth&&this.setState({elementWidth:this.elementWidth}),window.addEventListener("resize",Object(Fe.throttle)((function(t){e.elementWidth=document.querySelector(".g-box")&&document.querySelector(".g-box").offsetWidth+12,e.state.elementWidth!==e.elementWidth&&(e.gRowWith=document.querySelector(".hot-g-row")&&document.querySelector(".hot-g-row").offsetWidth,e.len=e.gRowWith&&e.elementWidth&&Math.ceil(e.gRowWith/e.elementWidth))}),100))}},{key:"changeHandle",value:function(e){var t=this.props.data;if(t.components&&t.components[0]){var a=t.components[0],n=Math.floor(a.itemList.length/(a.isFocus?2*this.len-3:this.len)),i=this.state.changeIndex;i=++i%n,this.setState({changeIndex:i})}}},{key:"getHeaderId",value:function(){return"maintitle_".concat(this.props.data.moduleId)}},{key:"renderContent",value:function(e,t){var a;switch(e){case"PC_CAROUSEL":a="";break;case"PC_ADS":a=m.a.createElement(fe.a,{data:t,headerId:this.getHeaderId()});break;case"PCWEB_HTML":a=m.a.createElement(je,{data:t});break;case"PC_BANNER":a=this.props.isIE9?m.a.createElement(te,{data:t}):t.newFocus?m.a.createElement($,{data:t,floatAdFlag:this.props.floatAdFlag}):m.a.createElement(V,{data:t,floatAdFlag:this.props.floatAdFlag});break;case"WEB_NAV_SEC":a=m.a.createElement(He,{data:t,channelFilter:this.props.channelFilter});break;case"WEB_BANNER2019":a=m.a.createElement(Ye,{data:t,channelFilter:this.props.channelFilter});break;case"PC_NAV":a="homepage"===this.props.channelFilter.type?m.a.createElement(Ye,{data:t,channelFilter:this.props.channelFilter}):m.a.createElement(He,{data:t,channelFilter:this.props.channelFilter});break;case"NORMAL":if(t.components&&t.components.length>0&&"WEB_PIC_LIST"===t.components[0].tag)a=m.a.createElement(Ae,{component:t.components[0],changeIndex:this.state.elementWidth,elementWidth:this.state.elementWidth,len:this.len});else if(t.components&&t.components.length>0&&"WEB_BIGFOCUS_TILE_LIST"===t.components[0].tag){if(t.components&&t.components[0]){var n=t.components[0];a=m.a.createElement(it,{list:n.itemList,rank:n.isRank,spmC:t.spm})}}else a=t.components&&t.components.length>0&&"PHONE_CLASS_ROOM"===t.components[0].tag?m.a.createElement(lt,null):ft(t,this.state.changeIndex,this.state.elementWidth,this.len);break;case"PC_TILE_LIST":a=ft(t,this.state.changeIndex,this.state.elementWidth,this.len);break;case"PC_TAB":a=function(e,t){return m.a.createElement(xe,{mainTitleLinks:e.mainTitleLinks,subRightLinkInfo:e.subRightLinkInfo,forceRender:t,components:e.components,moduleId:e.moduleId,tabTitle:0===e.tabTitle.length?[{name:""}]:e.tabTitle,tabType:e.tabType,spm:e.spm})}(t,this.props.forceRender);break;case"PC_FESTIVAL_CONFIG":a="";break;default:a=ft(t,this.state.changeIndex,this.state.elementWidth,this.len)}return t.components&&t.components.length>0&&"WEB_BANNER"===t.components[0].tag&&(a=void 0),a}},{key:"renderHeader",value:function(e){var t=this,a=this.props.data,n=a.mainTitleLinks,i=a.subTitleLinks,s=a.subRightLinkInfo,r=a.tabType,o=a.changeNum;if(!n||0===n.length||"TIME"!==r&&"NORMAL"!==e&&"PC_TILE_LIST"!==e&&"PC_ADS"!==e&&"PHONE_DEFALT_SCROLL_C"!==e&&"VIP_TAIL_PLACEHOLDER"!==e)return"";if("PC_ADS"===e&&n.length)return m.a.createElement("div",{className:dt.a.module_header,"data-spm":this.props.data.spm,id:this.getHeaderId(),style:{display:"none"}},m.a.createElement("h2",{className:dt.a.module_title},m.a.createElement("span",{"data-spm":n[0].spm,key:0,target:"_blank",className:dt.a.main_title},n[0].title)));if(n.length>1){var c=[];n.map((function(e,t){c.push(e),t<n.length-1&&c.push({isCut:"true",title:"\u2022"})})),n=c}var l=n.length,u="NO"===r&&"PC_TAB"!==e,d=this.props.data.components&&this.props.data.components.length>0&&this.props.data.components[0].headAdId,p=this.props.data.components;return p&&p.length>0&&"WEB_BANNER"===p[0].tag?"":m.a.createElement("div",{className:dt.a.module_header,"data-spm":this.props.data.spm},m.a.createElement("h2",{className:dt.a.module_title},n.map((function(e,t){if(!e)return"";if(e.isCut)return m.a.createElement("span",{className:dt.a.main_title_cut,key:t},e.title);var a=t===l-1?y()(dt.a.main_title,dt.a.last_item):dt.a.main_title;return e.link?m.a.createElement("a",O()({key:t,className:a},Object(F.e)(e,!0),Object(F.c)(e)),e.title):m.a.createElement("span",{key:t,className:a},e.title)}))),i&&Array.isArray(i)&&i.length>0&&m.a.createElement("div",{className:dt.a.sub_title},i.map((function(e,a){return e?m.a.createElement("div",{className:dt.a.link_wrap,key:a},e.link?m.a.createElement("a",O()({key:a},Object(F.e)(e,!0),Object(F.c)(e)),t.checkTextLink(e.title)," "):m.a.createElement("span",{key:a},e.title," ")):""}))),s?m.a.createElement("a",O()({},Object(F.e)(s,!0),Object(F.c)(s),{className:dt.a.right_content}),s.subRightLinkTitle):"",u&&d?m.a.createElement(fe.a,{data:{adId:d},className:o?dt.a.header_sponsor:dt.a.header_sponsor_right,showType:"tabheader"}):"",o&&m.a.createElement("a",{className:"".concat(dt.a.right_content," ").concat(dt.a.change_icon),title:"\u6362\u4e00\u6362",onClick:this.changeHandle.bind(this)},m.a.createElement("span",{className:"iconfont iconhuanyihuanx",style:{marginRight:"8px"}}),"\u6362\u4e00\u6362"))}},{key:"render",value:function(){var e=this.props.data.type,t=this.props.data.components&&this.props.data.components.length>0&&this.props.data.components[0].tag||"",a=this.props.data.tabTitle;a&&a.length>1&&(e="PC_TAB");var n="PC_ADS"===e&&1===this.props.data.adType,i="PC_BANNER"===e||n||this.props.data.isLayoutHori?"":De.a.container,s=this.props.data.isIgnoreBottom||"PC_FESTIVAL_CONFIG"===e?"":dt.a.mod_bottom;"PC_NAV"!==e&&"WEB_BANNER2019"!==e&&"PC_BANNER"!==e&&"WEB_NAV_SEC"!==e||(s="");var r=this.props.data;return r.components&&r.components.length>0&&"WEB_BANNER"===r.components[0].tag?"":m.a.createElement("div",{className:"".concat(dt.a.mod," ").concat("PC_NAV"===e?dt.a.pc_nav_pointer:""),type:this.props.type,id:"m_".concat(this.props.data.moduleId),name:"m_pos",style:{zIndex:"PC_BANNER"===e?1:"PHONE_CLASS_ROOM"===t||"PHONE_TIMELINE_A"===t?3:""}},m.a.createElement("div",{className:"".concat(i," ").concat(s)},this.props.data.isHiddenHeader?"":this.renderHeader(e),this.renderContent(e,this.props.data)))}}]),a}(h.Component);N()(_t,"contextTypes",{userInfo:ht.a.object});var vt=a(81),gt=a(327),yt=(a(493),{MountSkinLists:function(e){window.__skinLists__=1===e?["white2","dark"]:["white","dark"]}});function wt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var i=p()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u()(this,a)}}a(144);var bt={p:"",sid:"",s:"",aw:"w",k:"",rst:"h5,img"},kt=function(e){c()(a,e);var t=wt(a);function a(e){var n;i()(this,a),(n=t.call(this,e)).state={isClientRender:!1};var s=100*Math.random();n.isNewAd=!1;var r=Object(F.i)().isFocusNewad;n.isNewAd="1"===r||"0"===r?"1"===r:window.isRequest&&window.adPercent&&s<window.adPercent;var o=Object(gt.a)(n.props.userAgent);return n.isIE8=o.isIE&&o.majorVersion<9,n.isIE9=o.isIE&&o.majorVersion<10,n.browser=o,n}return r()(a,[{key:"requestAD",value:function(e){if(e&&!(e.length<1)){var t="";if(e.map((function(e){",26,52,60,62,101486,163,164,165,167,168,169,171,262,263,267,271,272,279,358,363,364,373,380,386,387,391,402,412,416,419,427,431,432,480,481,482,489,490,584,588,589,607,608,612,613,712,713,761,762,798,799,800,801,802,803,804,805,806,807,808,809,810,812,813,815,816,864,".indexOf(",".concat(e.adId,","))>-1&&(t+="".concat(e.adId,","))})),t){var a=navigator.userAgent.toLowerCase(),n=bt;n.p=t,n.ios=-1!==a.indexOf("mac")||-1!==a.indexOf("ios"),n.compatible=1,Object(F.f)("//html.atm.youku.com/html?"+Object(F.n)(n),{charset:"gbk"})}}}},{key:"refreshModuleList",value:function(){}},{key:"componentDidMount",value:function(){this.setState({isClientRender:!0}),this.hasPcFocus||setTimeout((function(){window.Header&&window.Header.changeState(!0)}),50),this.isNewAd||this.requestAD(this.adList)}},{key:"render",value:function(){var e=this,t=this.props.hasPcFocus?k.a.s_body:y()(k.a.s_body,this.props.UOSMode?k.a.body_top40:k.a.body_top110),a=this.props.channelId,n=!(!a||"TIYU_SEC00SPORTS00SCHEDULE"!==a),i=this.props,s=i.channelFilter,r=i.isTudou,o=!(!s||!s.type||"homepage"!==s.type||this.props.hasMore),c={};return n&&(c.minHeight="auto"),m.a.createElement("div",{className:r?y()(t,k.a.tudou_body):t,style:c},!this.props.UOSMode&&m.a.createElement(z.b.Consumer,null,(function(e){return r?null:m.a.createElement(vt.YoukuFixedBar,{userInfo:e})})),this.props.serverData.map((function(t,a){var n=a<=e.pcBannerIndex+5;return m.a.createElement(_t,{data:t,channelFilter:s,forceRender:n,key:"s".concat(a),isIE8:e.isIE8,isIE9:e.isIE9,browser:e.browser,floatAdFlag:e.floatAdFlag})})),this.state.isClientRender?this.props.clientData.map((function(t,a){return m.a.createElement(v.a,{key:"module".concat(a),height:400,offset:0,once:!0},m.a.createElement(_t,{channelFilter:s,data:t,key:"c".concat(a),isIE8:e.isIE8,isIE9:e.isIE9}))})):"",o&&m.a.createElement(w.a,null))}}]),a}(h.Component),St=Object(f.connect)((function(e){var t=!1,a=!1,n=-1,i=[],s=!1,r=e.moduleList.data.moduleList;r.map((function(e,o){t||"PC_BANNER"!==e.type||(t=!0,n=o),a||"WEB_NAV_SEC"!==e.type&&"PC_NAV"!==e.type||(a=!0),!t&&a&&(r[o].noBannerNavClass=!0),yt.MountSkinLists(Number(!t)),"PC_ADS"===e.type&&(1===e.adType&&(s=!0),i.push({adId:e.adId,adType:e.adType})),-1===n&&"PCWEB_HTML"===e.type&&(e.isHiddenHeader=!0,e.isIgnoreBottom=!0)})),t&&!a&&(r[n].bottom=0);var o=n+5;return{floatAdFlag:s,initData:r,serverData:r.slice(0,o),clientData:r.length>o?r.slice(o,r.length):[],hasPcFocus:t,adList:i,pcBannerIndex:n,userAgent:e.moduleList.userAgent,channelFilter:e.moduleList.data.categoryFilter,channelId:e.moduleList.data.channelId,UOSMode:e.moduleList.data.UOSMode,hasMore:e.moduleList.data.hasNext,isTudou:e.moduleList.isTudou}}))(kt),Et=[{path:"/",component:St},{path:"/channel",component:St},{path:"/test",component:St},{path:"/nodeprotest",component:St}];t.a=Et},42:function(e,t,a){e.exports={homepage_channelnav:"homepage_homepage_channelnav",arrow:"homepage_arrow",channel_video_wrap:"homepage_channel_video_wrap","channel_video_wrap-in-animation":"homepage_channel_video_wrap-in-animation",title:"homepage_title",video_wrap:"homepage_video_wrap",video_img:"homepage_video_img",video_title:"homepage_video_title",more_tab_wrap:"homepage_more_tab_wrap","more_tab_wrap-in-animation":"homepage_more_tab_wrap-in-animation",tab:"homepage_tab",opt_wrap:"homepage_opt_wrap",normal_tabs:"homepage_normal_tabs",left_content:"homepage_left_content",cut_line:"homepage_cut_line",normal_tabs_wrap:"homepage_normal_tabs_wrap",main_tabs_wrap:"homepage_main_tabs_wrap",main_tabs:"homepage_main_tabs",tab_wrap:"homepage_tab_wrap",main_tabs_title:"homepage_main_tabs_title",logo:"homepage_logo",point:"homepage_point",tab_title:"homepage_tab_title",tab_subtitle:"homepage_tab_subtitle",no_banner_nav:"homepage_no_banner_nav",tabs:"homepage_tabs",_normal_tabs:"homepage__normal_tabs",opt_hide_1:"homepage_opt_hide_1",hide_2:"homepage_hide_2",hide_3:"homepage_hide_3",hide_4:"homepage_hide_4",cut_line_hide_1:"homepage_cut_line_hide_1",positionTop:"homepage_positiontop",hide_5:"homepage_hide_5"}},48:function(e,t,a){e.exports={focus_wrap:"focussidebarswiper_focus_wrap",focus_item:"focussidebarswiper_focus_item",common_shade:"focussidebarswiper_common_shade",top_shade:"focussidebarswiper_top_shade",bottom_shade:"focussidebarswiper_bottom_shade",focus_logo_wrap:"focussidebarswiper_focus_logo_wrap",content_info_wrap:"focussidebarswiper_content_info_wrap",content_info:"focussidebarswiper_content_info",banner_logo:"focussidebarswiper_banner_logo",title_wrap:"focussidebarswiper_title_wrap",common_title:"focussidebarswiper_common_title",focus_title:"focussidebarswiper_focus_title",focus_subtitle:"focussidebarswiper_focus_subtitle",right_content_wrap:"focussidebarswiper_right_content_wrap",prick:"focussidebarswiper_prick",pagination_wrap:"focussidebarswiper_pagination_wrap",pagination_item:"focussidebarswiper_pagination_item",current_pagination_item:"focussidebarswiper_current_pagination_item",video_control:"focussidebarswiper_video_control",bt_wrap:"focussidebarswiper_bt_wrap",bt_icon_play:"focussidebarswiper_bt_icon_play",bt_icon_add:"focussidebarswiper_bt_icon_add",bt_icon_added:"focussidebarswiper_bt_icon_added",focus_cover:"focussidebarswiper_focus_cover",focusLeftShode:"focussidebarswiper_focusleftshode",focusRightShode:"focussidebarswiper_focusrightshode",nav_wrap:"focussidebarswiper_nav_wrap",focus_nav_hide:"focussidebarswiper_focus_nav_hide",focus_nav:"focussidebarswiper_focus_nav",sub_title:"focussidebarswiper_sub_title",nav_slide:"focussidebarswiper_nav_slide",em:"focussidebarswiper_em",contentSwiper:"focussidebarswiper_contentswiper",contentNav:"focussidebarswiper_contentnav",focus_height:"focussidebarswiper_focus_height",leftShode:"focussidebarswiper_leftshode",rightShode:"focussidebarswiper_rightshode"}},489:function(e,t,a){e.exports={component_tabs:"tabs_component_tabs",main_title_wrap:"tabs_main_title_wrap",more:"tabs_more",main_title:"tabs_main_title",main_title_cut:"tabs_main_title_cut",tab_sponsor:"tabs_tab_sponsor",tab_title:"tabs_tab_title",tab_sub_title:"tabs_tab_sub_title",current_tab:"tabs_current_tab",component_chasing:"tabs_component_chasing","ant-tabs-nav":"tabs_ant-tabs-nav",module_title:"tabs_module_title",right_content:"tabs_right_content"}},525:function(e,t,a){"use strict";var n=a(10),i=a.n(n),s=a(5),r=a.n(s),o=a(6),c=a.n(o),l=a(17),u=a.n(l),d=a(8),p=a.n(d),h=a(9),m=a.n(h),f=a(3),_=a.n(f),v=a(11),g=a.n(v),y=a(2),w=a.n(y),b=a(0),k=a.n(b),S=a(24),E=a(25),I=a(389),N=a(115),x=a(280),O=a(26),L=(a(304),a(797)),C=a.n(L),T=a(32),R=a(7),A=a(274),P=a(94),j=a(798),M=a.n(j),D=(a(1573),a(1574),a(4)),F=a.n(D),B=a(799),W=a.n(B);function z(){return K.apply(this,arguments)}function K(){return(K=i()(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.b)("CommonActivity.getServerTimeCommon",{activityName:"\u9738\u5c4f\u7ebf\u4e0a\u914d\u7f6e",configId:"9c4ad307f87b44c5a91dcd6caef76340"},"mtop.com.youku.aplatform.weakGet",24679788,{jsonpIncPrefix:"pc_pages_act_window_time"+(new Date).getTime()});case 2:return t=e.sent,e.abrupt("return",t&&t.data&&t.data.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){var a=t.currTime,n=e.endTime,i=e.startTime;if(a&&i&&n)return n>i&&a>=i&&a<n}function H(e){return V.apply(this,arguments)}function V(){return(V=i()(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.startTime&&t.endTime)){e.next=7;break}return e.next=3,z();case 3:if(!(a=e.sent)||!a.currTime){e.next=6;break}return e.abrupt("return",U(t,a));case 6:case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=_()(e);if(t){var i=_()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return m()(this,a)}}var X,G,Y,J=function(){return function(e){return function(t){p()(n,t);var a=q(n);function n(e){var t;return r()(this,n),t=a.call(this,e),g()(u()(t),"checkDisplayTime",(function(e){H({startTime:e.startTime,endTime:e.endTime}).then((function(e){e?t.setState({checkTimeStatus:!0}):(t.setState({checkTimeStatus:!1}),!t.props.forceShowModal&&t.props.onNotTargeted&&t.props.onNotTargeted())}),(function(){console.log("\u65f6\u95f4\u5f02\u5e38")}))})),t.checkGrayStatus=!1,t.checkFrequencyStatus=!0,t.checkHasShow=!1,t.checkHasLogined=!1,t.checkHasClosed=!1,t.state={checkTimeStatus:!1,isShowModal:!1},t}return c()(n,[{key:"mountControl",value:function(){var e=i()(w.a.mark((function e(t){var a,n,i,s,r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.data||{},n=t.forceShowModal,i=t.isAwardModalPass,this.resetUUIDData(),!n){e.next=5;break}return e.abrupt("return");case 5:if(this.checkDisplayTime(a),this.ifInFrequencyRange(a,i)){e.next=8;break}return e.abrupt("return");case 8:this.checkGrayStatus=W()(a,t.loginStatus),this.checkInBlackList(),s=this.checkGrayStatus,r=this.checkHasShow,(o=s&&!r)||!t.forceShowModal&&t.onNotTargeted&&t.onNotTargeted(),i?this.awardpassShowContorl(s,r,o):(o&&a.frequencyControl&&a.frequencyControl.switch&&this.awardmodalFrequencyControl(a),this.setState({isShowModal:o}));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=i()(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.mountControl(this.props);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetUUIDData",value:function(){var e=this;this.setUUIDData("modalFrequency");var t=(this.props&&this.props.data).blackListAddCondition;t&&t.length>0&&t.forEach((function(t){e.setUUIDData("modalBlackList".concat(t))}))}},{key:"setUUIDData",value:function(e){var t=A.a.getCookieObject(e)||{},a=this.props&&this.props.data&&this.props.data.UUID,n=t.UUID;(!Object.keys(t).length||n&&n!==a||!n)&&A.a.setCookieObject(e,{UUID:a},864e3,".youku.com")}},{key:"ifInFrequencyRange",value:function(e,t){if(e.frequencyControl&&e.frequencyControl.switch&&!t){var a=A.a.getCookieObject("modalFrequency")||{},n=a.times||0,i=e.frequencyControl.times;if(void 0!==i&&Object.keys(a).length&&a.UUID===(this.props.data&&this.props.data.UUID)&&n>=i)return!1}return!0}},{key:"awardpassShowContorl",value:function(e,t,a){e&&t?(this.checkHasLogined=this.checkHasShowPath("logined"),this.checkHasLogined?this.setState({isShowModal:a}):this.setState({isShowModal:!0})):this.setState({isShowModal:a})}},{key:"awardmodalFrequencyControl",value:function(e){var t=e.frequencyControl,a=t.unit,n=t.unitNum,i=864e3;"hour"===a&&void 0!==n?i=3600*n:"day"===a&&void 0!==n&&(i=24*n*3600);var s=A.a.getCookieObject("modalFrequency")||{},r=s.times||0;if(0===r)A.a.setCookieObject("modalFrequency",this.getNewObj(s,{times:++r,firstTimeExpire:(new Date).getTime()+1e3*i}),i,".youku.com");else{var o=new Date;o.setTime(s.firstTimeExpire),document.cookie="modalFrequency=".concat(JSON.stringify(this.getNewObj(s,{times:++r})),";expires=").concat(o.toUTCString(),";domain=.youku.com;path=/")}}},{key:"getNewObj",value:function(e,t){for(var a in t)t[a]!==e[a]&&(e[a]=t[a]);return e}},{key:"checkInBlackList",value:function(){for(var e=this.props.data&&this.props.data.blackListAddCondition||[],t=0;t<e.length;t++){var a=A.a.getCookieObject("modalBlackList".concat(e[t]))||{};if(Object.keys(a).length&&a.UUID===(this.props.data&&this.props.data.UUID)&&a.blackListSrc)return this.checkHasShow=!0,console.log("\u9ed1\u540d\u5355\u547d\u4e2d"+a.blackListSrc),void(!this.props.forceShowModal&&this.props.onNotTargeted&&this.props.onNotTargeted())}}},{key:"checkHasShowPath",value:function(e){for(var t=this.props.data&&this.props.data.blackListAddCondition||[],a=0;a<t.length;a++){var n=A.a.getCookieObject("modalBlackList".concat(e))||{};if(Object.keys(n).length&&n.blackListSrc)return!0}return!1}},{key:"render",value:function(){var t=this.state,a=t.isShowModal,n=t.checkTimeStatus,i=this.props,s=i.gray,r=i.isAwardModalPass;return i.forceShowModal&&!r?k.a.createElement(b.Fragment,null,k.a.createElement(e,this.props)):k.a.createElement(b.Fragment,null,s||a&&n?k.a.createElement(e,this.props):null," ")}}]),n}(k.a.Component)}};function $(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=_()(e);if(t){var i=_()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return m()(this,a)}}var Z,Q,ee,te=J()((Y=G=function(e){p()(a,e);var t=$(a);function a(){return r()(this,a),t.apply(this,arguments)}return c()(a,[{key:"render",value:function(){var e=this.props.isShow;return k.a.createElement(b.Fragment,null,k.a.createElement(M.a,{data:this.props.data,isShow:e,clickCleanModalStatusCallback:this.props.clickCleanModalStatusCallback}))}}]),a}(k.a.Component),g()(G,"defaultProps",{isShow:!1,data:{},loginStatus:"0"}),g()(G,"propTypes",{isShow:F.a.bool,data:F.a.object,loginStatus:F.a.string}),X=Y))||X;a(1575);function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=_()(e);if(t){var i=_()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return m()(this,a)}}var se=J()((ee=Q=function(e){p()(a,e);var t=ie(a);function a(){return r()(this,a),t.apply(this,arguments)}return c()(a,[{key:"parseStyle",value:function(e){return ne(ne({},e),{},{position:"fixed",zIndex:12})}},{key:"clickShowAwardModal",value:function(){var e=this.props.clickShowAwardModalCallback;e&&e()}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.awardPassStyle,n=t.awardPassSpm,i=this.parseStyle(a),s=i.awardPassSrc;return k.a.createElement("div",{"data-spm":n.spmC},k.a.createElement("div",{className:"award-pass",style:i},k.a.createElement("a",{href:"javascript:;","data-name":"a_pos","data-spm":"d".concat(n.spmD)},k.a.createElement("img",{src:s,style:i,onClick:function(){return e.clickShowAwardModal()}})," ''",k.a.createElement("i",{className:"dot"}))))}}]),a}(k.a.Component),g()(Q,"defaultProps",{awardPassStyle:{awardPassSrc:"https://img.alicdn.com/tfs/TB1gSJouW61gK0jSZFlXXXDKFXa-138-162.png",width:"46px",height:"54px",right:"10px",bottom:"180px"},awardPassSpm:{spmC:"followicons",spmD:"tanchuang"}}),g()(Q,"propTypes",{awardPassStyle:F.a.object,awardPassSpm:F.a.object}),Z=ee))||Z,re=a(54),oe=a.n(re);function ce(e,t,a){for(var n=0,i=e.length;n<i;n++)if(e[n]&&e[n][t]===a)return n;return-1}var le=function(){function e(t){r()(this,e),this.name="storage"}return c()(e,[{key:"setItem",value:function(e){var t={name:"",value:"",expires:"",startTime:(new Date).getTime()},a={};Object.assign(a,t,e),a.expires?localStorage.setItem(a.name,JSON.stringify(a)):("[object Object]"===Object.prototype.toString.call(a.value)&&(a.value=JSON.stringify(a.value)),"[object Array]"===Object.prototype.toString.call(a.value)&&(a.value=JSON.stringify(a.value)),localStorage.setItem(a.name,a.value))}},{key:"getItem",value:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(a){console.log("error",a)}return t&&t.startTime?(new Date).getTime()-t.startTime>t.expires?(localStorage.removeItem(e),!1):t.value:t}},{key:"removeItem",value:function(e){localStorage.removeItem(e)}},{key:"clear",value:function(){localStorage.clear()}}]),e}();function ue(e,t,a){var n=(new le).getItem(e)||[],i=ce(n,t,a);return~i?n[i]:{}}function de(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:864e6,s=new le,r=s.getItem(e)||[],o=ce(r,t,a);~o?r[o]=n:r.push(n),s.setItem({name:e,value:r,expires:i})}var pe=a(318),he=a.n(pe);function me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=_()(e);if(t){var i=_()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return m()(this,a)}}var fe=function(e){p()(a,e);var t=me(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).data=n.props,n.state={status:-1,isShow:!1,couponShow:!1,qrCode:""},n}return c()(a,[{key:"exitToast",value:function(e){this.setState({isShow:!1}),"close"===e&&(0===this.state.status?Object(T.a)("mrpfeedback","dclose","CLK"):1===this.state.status?Object(T.a)("mrpfeedback_vip","dclose","CLK"):2===this.state.status?Object(T.a)("mrpfeedback_gainederr","dclose","CLK"):3===this.state.status?Object(T.a)("mrpfeedback_systemerr","dclose","CLK"):4===this.state.status?Object(T.a)("benefitexpiring","dclose","CLK"):5===this.state.status&&Object(T.a)("benefitexpired","dclose","CLK"))}},{key:"onMouseOver",value:function(){this.setState({couponShow:!0})}},{key:"onMouseLeave",value:function(){this.setState({couponShow:!1})}},{key:"goBuy",value:function(){this.setState({isShow:!1}),Object(T.a)(4===this.state.status?"benefitexpiring":"benefitexpired","dhere","CLK")}},{key:"goVip",value:function(){Object(T.a)("mrpfeedback_vip","dvipchannel","CLK"),window.open("_blank").location="//home.vip.youku.com/"}},{key:"componentDidMount",value:function(){var e=this;if(this.setState({qrCode:"https://h5.m.youku.com/app/coupon.html?cna="+A.a.getCookie("cna")+"&source_from=kqb_2"}),this.data.prizeObj.isWinPrize)this.setState({isShow:!0,status:0}),Object(T.a)("mrpfeedback","dclose","EXP"),setTimeout((function(){e.setState({isShow:!1})}),8e3);else if(!1===this.data.prizeObj.isWinPrize)this.data.userInfo.vip&&this.data.userInfo.vip.isGoldVip?(this.setState({isShow:!0,status:1}),Object(T.a)("mrpfeedback_vip","dclose","EXP"),Object(T.a)("mrpfeedback_vip","dvipchannel","EXP"),setTimeout((function(){e.setState({isShow:!1})}),8e3)):"countLimit"===this.data.prizeObj.errorAwardStatus?(this.setState({isShow:!0,status:2}),Object(T.a)("mrpfeedback_gainederr","dclose","EXP"),setTimeout((function(){e.setState({isShow:!1})}),8e3)):"systemError"===this.data.prizeObj.errorAwardStatus&&(this.setState({isShow:!0,status:3}),Object(T.a)("mrpfeedback_systemerr","dclose","EXP"),setTimeout((function(){e.setState({isShow:!1})}),8e3));else if(this.data.prizeObj.winPrizeExpireTime){var t=new Date(this.data.prizeObj.winPrizeExpireTime.replace(/-/g,"/")).getTime(),a=this.data.prizeObj.uuid,n=this.data.prizeObj.ytid;this.data.prizeObj.beforeRemind||H({startTime:t-864e5,endTime:t}).then((function(t){t&&(e.setState({isShow:!0,status:4}),Object(T.a)("benefitexpiring","dhere","EXP"),Object(T.a)("benefitexpiring","dclose","EXP"),setTimeout((function(){e.setState({isShow:!1})}),8e3),de("awardArr".concat(a),"ytid",n,Object.assign(e.data.prizeObj,{beforeRemind:!0})))})),this.data.prizeObj.afterRemind||H({startTime:t,endTime:t+6048e5}).then((function(t){t&&(e.setState({isShow:!0,status:5}),Object(T.a)("benefitexpired","dhere","EXP"),Object(T.a)("benefitexpired","dclose","EXP"),setTimeout((function(){e.setState({isShow:!1})}),8e3),de("awardArr".concat(a),"ytid",n,Object.assign(e.data.prizeObj,{afterRemind:!0})))}))}}},{key:"render",value:function(){var e=this;return this.state.isShow?k.a.createElement("div",{className:oe.a.toast_outer},k.a.createElement("div",{className:oe.a.toast_wrap},k.a.createElement("a",{className:oe.a.toast_exit,onClick:function(){e.exitToast("close")}}),this.state.status<4&&k.a.createElement("a",{className:oe.a.toast_btn,onClick:function(){e.exitToast()}},"\u6211\u77e5\u9053\u4e86"),this.state.status>3&&k.a.createElement("a",{className:"".concat(oe.a.toast_vip," youku_vip_pay_btn"),onClick:function(){e.goBuy()}},"\u7acb\u5373\u7eed\u8d39"),0===this.state.status&&k.a.createElement("div",null,k.a.createElement("div",{className:oe.a.toast_title},"\u60a8\u7684",k.a.createElement("span",{className:oe.a.toast_active},this.data.prizeObj.guide),"\u5df2\u5230\u8d26\uff0c\u5feb\u53bb\u4f7f\u7528\u5427\uff01"),k.a.createElement("div",{className:oe.a.toast_desc},"\u6253\u5f00",k.a.createElement("span",{className:oe.a.toast_active,onMouseOver:function(){e.onMouseOver()},onMouseLeave:function(){e.onMouseLeave()}},"\u4f18\u9177\u624b\u673aApp-\u6211\u7684-\u5361\u5238\u5305"),"\u4e2d\u67e5\u770b\u7279\u6743"),this.state.couponShow&&k.a.createElement("div",{className:oe.a.toast_coupon},k.a.createElement("div",{className:oe.a.toast_coupon_txt},"\u626b\u7801\u76f4\u8fbe\u5361\u5238\u5305"),k.a.createElement(he.a,{className:oe.a.toast_coupon_img,width:90,avatar:"//img.alicdn.com/tfs/TB1dSyDXicKOu4jSZKbXXc19XXa-53-53.png",code:this.state.qrCode}))),1===this.state.status&&k.a.createElement("div",null,k.a.createElement("div",{className:oe.a.toast_title},k.a.createElement("span",{className:oe.a.toast_active},"\u60a8\u5df2\u7ecf\u662f\u4f1a\u5458\u4e86\uff0c"),"\u8bf7\u628a\u673a\u4f1a\u7559\u7ed9\u5176\u4ed6\u7528\u6237\u54e6"),k.a.createElement("div",{className:oe.a.toast_desc},"\u53ef\u5728",k.a.createElement("a",{className:oe.a.toast_active,onClick:function(){e.goVip()}},"VIP\u4f1a\u5458\u7cbe\u9009\u9891\u9053"),"\uff0c\u67e5\u770b\u66f4\u591a\u7279\u6743\u54e6")),2===this.state.status&&k.a.createElement("div",null,k.a.createElement("div",{className:oe.a.toast_title},"\u60a8\u5df2\u7ecf\u9886\u53d6\u8fc7\uff0c\u8bf7\u628a\u673a\u4f1a\u7559\u7ed9\u5176\u4ed6\u7528\u6237\u54e6"),k.a.createElement("div",{className:oe.a.toast_desc},"\u6253\u5f00",k.a.createElement("span",{className:oe.a.toast_active,onMouseOver:function(){e.onMouseOver()},onMouseLeave:function(){e.onMouseLeave()}},"\u4f18\u9177\u624b\u673aApp-\u6211\u7684-\u5361\u5238\u5305"),"\u4e2d\u67e5\u770b\u7279\u6743"),this.state.couponShow&&k.a.createElement("div",{className:oe.a.toast_coupon},k.a.createElement("div",{className:oe.a.toast_coupon_txt},"\u626b\u7801\u76f4\u8fbe\u5361\u5238\u5305"),k.a.createElement(he.a,{className:oe.a.toast_coupon_img,width:90,avatar:"//img.alicdn.com/tfs/TB1dSyDXicKOu4jSZKbXXc19XXa-53-53.png",code:this.state.qrCode}))),3===this.state.status&&k.a.createElement("div",null,k.a.createElement("div",{className:oe.a.toast_title},"\u7cfb\u7edf\u5f00\u5c0f\u5dee\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")),4===this.state.status&&k.a.createElement("div",null,k.a.createElement("div",{className:oe.a.toast_title},"\u60a8\u7684",k.a.createElement("span",{className:oe.a.toast_active},this.data.prizeObj.guide),"\u5373\u5c06\u5230\u671f\u3002"),k.a.createElement("div",{className:oe.a.toast_desc},"\u7eed\u8d39\u4f18\u9177\u4f1a\u5458\uff0c\u66f4\u591a\u7279\u6743\u5f85\u89e3\u9501")),5===this.state.status&&k.a.createElement("div",null,k.a.createElement("div",{className:oe.a.toast_title},"\u60a8\u7684",k.a.createElement("span",{className:oe.a.toast_active},this.data.prizeObj.guide),"\u5df2\u5230\u671f\uff01"),k.a.createElement("div",{className:oe.a.toast_desc},"\u7eed\u8d39\u4f18\u9177\u4f1a\u5458\uff0c\u66f4\u591a\u7279\u6743\u5f85\u89e3\u9501")))):k.a.createElement("div",null)}}]),a}(b.Component),_e=a(319),ve=a(114);a(516),a(517),a(356);function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function we(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=_()(e);if(t){var i=_()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return m()(this,a)}}a(314),a(315);var be=function(e){p()(a,e);var t=we(a);function a(e){var n;return r()(this,a),n=t.call(this,e),g()(u()(n),"clickShowAwardModalCallback",(function(){n.setState({forceShowModal:!0,awardModalShow:!0})})),g()(u()(n),"clickCleanModalStatusCallback",(function(){n.setState({forceShowModal:!1,awardModalShow:!1})})),window&&window.lib&&window.lib.mtop&&(O.a.config("prefix","acs"),O.a.config("subDomain",""),O.a.config("mainDomain","youku.com"),O.a.config("appKey","24679788")),n.state={userInfo:null,configData:null,awardModalShow:!0,awardModalPassShow:!0,prizeObj:null,loginGuideAllow:!1,forceShowModal:!1,hasMore:!1,isLoading:!1},n.apiParam={},n.currentNum=0,n.maxCount=5,n}return c()(a,[{key:"componentDidMount",value:function(){var e=i()(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({hasMore:this.props.hasMore}),localStorage.getItem("youkuscreenreport")){e.next=5;break}return e.next=4,Object(T.b)("/log/screenlog",{screenwidth:window.screen.width});case 4:localStorage.setItem("youkuscreenreport",!0);case 5:!0===window.youku_act_window_isShow&&this.getAwardData(),!window.youku_act_window_isShow&&this.setState({loginGuideAllow:!0});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getModuleData",value:function(){var e=i()(w.a.mark((function e(t){var a,n,i,s,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=location.pathname&&location.pathname.slice(1),n="staging"===window.__ENV__||"local"===window.__ENV__?Object(R.a)("subchannel"):Object(R.a)("subchannel")||a||"",i={moduleId:t,host:Object(R.a)("host")||location.hostname||"",subchannel:n||"",isGray:"true"===Object(R.a)("isGray")},e.prev=3,e.next=6,Object(P.c)({url:"".concat("staging"===window.__ENV__||"local"===window.__ENV__?"//prodtest.youku.com":"//www.youku.com","/platov2"),jsonp:!0,data:i});case 6:(s=e.sent)&&200===s.status&&(s=s.data||{})[0]&&(r=this.props.moduleList.findIndex((function(e){return e.moduleId==t})))>-1&&(this.props.moduleList.splice(r,1,ye(ye({},s[0]),{moduleId:t})),this.props.dispatch({type:"moduleList/replace",payload:{moduleList:this.props.moduleList}})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=i()(w.a.mark((function e(){var t,a,n,i,s,r,o,c,l,u,d,p,h;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.hasMore){e.next=2;break}return e.abrupt("return");case 2:return t=this.apiParam.pageNo,a=void 0===t?"1":t,n=location.pathname&&location.pathname.slice(1),i="staging"===window.__ENV__||"local"===window.__ENV__?Object(R.a)("subchannel"):Object(R.a)("subchannel")||n||"",s={pageNo:Number(a)+1,host:Object(R.a)("host")||location.hostname||"",subchannel:i||"",isGray:"true"===Object(R.a)("isGray")},this.setState({isLoading:!0}),e.prev=7,e.next=10,Object(P.c)({url:"".concat("staging"===window.__ENV__||"local"===window.__ENV__?"//prodtest.youku.com":"//www.youku.com","/platov2"),jsonp:!0,data:s});case 10:if(!(r=e.sent)||200!==r.status){e.next=26;break}if(r=r.data||{},c=(o=r).categoryFilter,l=o.UOSMode,u=o.hasNext,d=o.pageNo,p=o.channelId,this.apiParam.pageNo=r.pageNo||"1",!(r&&r.moduleList&&r.moduleList.length>0)){e.next=23;break}return h=this.props.moduleList.concat(r.moduleList),this.props.dispatch({type:"moduleList/update",payload:{data:{moduleList:h,UOSMode:l,categoryFilter:c,hasNext:u,pageNo:d,channelId:p}}}),this.currentNum=0,this.setState({isLoading:!1,hasMore:!!r.hasNext}),e.abrupt("return");case 23:++this.currentNum;case 24:e.next=27;break;case 26:++this.currentNum;case 27:this.setState({isLoading:!1}),this.currentNum>=this.maxCount&&this.setState({hasMore:!1}),e.next=37;break;case 31:e.prev=31,e.t0=e.catch(7),++this.currentNum,this.currentNum>=this.maxCount&&this.setState({hasMore:!1}),console.log("\u52a0\u8f7d\u4e0b\u4e00\u9875\u6570\u636e\u5931\u8d25",e.t0),this.setState({isLoading:!1});case 37:case"end":return e.stop()}}),e,this,[[7,31]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAwardData",value:function(){var e=i()(w.a.mark((function e(){var t,a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"CommonActivity.getConfigCommon",t=Object(R.i)().isPreActivity?{activityName:"\u3010\u9884\u53d1\u3011pc \u9738\u5c4f\u5c0f\u7a97\u914d\u7f6e\u3011",configId:"d9c8b59fa3ea4cd1a879b52384ed5144"}:{activityName:"\u9738\u5c4f\u7ebf\u4e0a\u914d\u7f6e",configId:"9c4ad307f87b44c5a91dcd6caef76340"},a=["CommonActivity.getConfigCommon",t,"mtop.com.youku.aplatform.weakGet",24679788,{jsonpIncPrefix:"pc_pages_act_window"}],e.next=5,P.b.apply(void 0,a);case 5:(n=e.sent)&&n.data&&n.data.data&&this.setState({configData:n.data.data});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"Tans",value:function(e){var t=this;this.setState({observer:e},(function(){t.state.observer.next(!0)}))}},{key:"getCookieByName",value:function(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),a=document.cookie.match(t);if(a&&a[2])return a[2]}},{key:"findObjInArr",value:function(e,t){for(var a=0;a<e.length;a++){var n=e[a];if(n[Object.keys(n)[0]]===t)return n}return{}}},{key:"subUserContent",value:function(e){var t=this;e&&!this.loginInstance&&(this.loginInstance=e,this.loginInstance&&this.loginInstance.eventbusLogin.subscribe(function(){var e=i()(w.a.mark((function e(a){var n,i,s,r,o,c,l,u,d,p,h;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.userInfo&&(n=a.userInfo.loginStatus?"1"===a.userInfo.is_vip?"2":"1":"0",t.state.configData&&Array.isArray(t.state.configData.login)&&t.state.configData.login.length>0&&!t.state.configData.login.find((function(e){return e===n}))&&t.setState({awardModalShow:!1,awardModalPassShow:!1}),t.setState({loginStatus:n})),!(a&&a.userInfo&&a.userInfo.loginStatus)){e.next=32;break}if(i=t.state.configData,s=i&&i.UUID,i&&i.blackListAddCondition&&~i.blackListAddCondition.indexOf("logined")&&(r=A.a.getCookieObject("modalBlackListlogined")||{},o=864e3,i.blackListExtraArr&&(c=t.findObjInArr(i.blackListExtraArr,"logined"),Object.keys(c).length&&c.blackListHoldTime&&(o=24*c.blackListHoldTime*3600)),A.a.setCookieObject("modalBlackListlogined",Object.assign(r,{blackListSrc:"logined"}),o,".youku.com")),!i||"getAward"!==i.jumpAction||"loginAndMrp"!==i.awardCondition){e.next=26;break}if(l=localStorage.getItem("loginSuccMark"),!(u=a.loginExtend&&a.loginExtend.loginSuccMark)||u!==l){e.next=24;break}return localStorage.removeItem("loginSuccMark"),e.next=12,t.getAwardTime();case 12:if(!e.sent){e.next=21;break}return e.next=16,t.getAward();case 16:d=e.sent,t.setState({prizeObj:d}),d.isWinPrize&&de("awardArr".concat(s),"ytid",a.userInfo.ytid,{ytid:a.userInfo.ytid,uuid:s,winPrizeExpireTime:d.winPrizeExpireTime,guide:d.guide}),e.next=22;break;case 21:t.setState({prizeObj:{isWinPrize:!1,errorAwardStatus:"countLimit"}});case 22:e.next=25;break;case 24:"1"!==a.userInfo.is_vip&&t.setState({prizeObj:ue("awardArr".concat(s),"ytid",a.userInfo.ytid)});case 25:t.setState({userInfo:p});case 26:(p=Object.assign({},a.userInfo)).vip={isGoldVip:!("1"!==a.userInfo.is_vip)},t.setState({userInfo:p}),h=t.getCookieByName("P_gck"),(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.sendPV",arguments:[{pageid:""},{pu_i:h}]});case 32:a&&a.userInfo&&a.userInfo.loginStatus&&t.props.moduleList.filter((function(e){return!0===e.asyncRefresh})).forEach((function(e){e.moduleId&&t.getModuleData(e.moduleId)}));case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.loginInstance&&this.loginInstance.eventbusLoggout.subscribe((function(){window.location.reload()})))}},{key:"getAwardTime",value:function(){var e=i()(w.a.mark((function e(){var t,a,n,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.configData,"awardtool.getPoint",a={activity:t&&t.ename||"7a303592626747989a77001bf587133f",initAmount:1},n=["awardtool.getPoint",a,"mtop.com.youku.aplatform.get",24679788,{jsonpIncPrefix:"yk_playpage_get_award_times"}],e.next=6,P.b.apply(void 0,n);case 6:if(!(i=e.sent).ret||"SUCCESS::\u8c03\u7528\u6210\u529f"!==i.ret[0]||!i.data){e.next=10;break}if(!(i.data.point>0)){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAward",value:function(){var e=i()(w.a.mark((function e(){var t,a,n,i,s,r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.configData,a=["",{},"mtop.youku.mrp.award.doAwardByScene",24679788,{data:{ename:t&&t.ename||"7a303592626747989a77001bf587133f",asac:t&&t.asac||"2A19C16BEBVYX2LQ6BEMI9",extra:JSON.stringify({asac:t&&t.asac||"2A19C16BEBVYX2LQ6BEMI9",act_ename:t&&t.act_ename||"YKPCWebFuLiAct"}),ua:window.fyOBJ&&window.fyOBJ.getUA(),umidtoken:window.fyOBJ&&window.fyOBJ.umidToken,promotion:t&&t.promotion||"YKPCWebFuLiAct",scene:t&&t.scene||"YKPCWebFuLi"},jsonpIncPrefix:"yk_playpage_get_award"}],e.next=4,P.b.apply(void 0,a);case 4:if(n=e.sent,i=["DEVICE_EXCEED_MAX_AWARD_COUNT_IN_DAY","USER_EXCEED_MAX_AWARD_COUNT_IN_ACTIVITY","USER_EXCEED_MAX_AWARD_COUNT_IN_DAY","DEVICE_EXCEED_MAX_AWARD_COUNT_IN_ACTIVITY","USER_PERMISSION_EXCEED_MAX_AWARD_COUNT_ERROR","USER_PERMISSION_EXCEED_MAX_AWARD_COUNT_IN_YEAR"],!n||!n.ret){e.next=24;break}if("SUCCESS::\u8c03\u7528\u6210\u529f"!==(s=n.ret[0])||!n.data){e.next=12;break}return e.abrupt("return",{isWinPrize:!0,winPrizeExpireTime:n.data&&n.data.sendRightDTO&&n.data.sendRightDTO.exchangeExpireTime,guide:n.data&&n.data.sendRightDTO&&n.data.sendRightDTO.guide});case 12:if("SUCCESS::\u8c03\u7528\u6210\u529f"===s){e.next=24;break}r=i.length,o=0;case 16:if(!(o<r)){e.next=22;break}if(!~s.indexOf(i[o])){e.next=19;break}return e.abrupt("return",{isWinPrize:!1,errorAwardStatus:"countLimit"});case 19:o++,e.next=16;break;case 22:if(o!==r){e.next=24;break}return e.abrupt("return",{isWinPrize:!1,errorAwardStatus:"systemError"});case 24:return e.abrupt("return",{isWinPrize:!1,errorAwardStatus:"systemError"});case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.isTudou?{vip:!1,record:!1,subscribe:!1,ownChannel:!1,userApp:!1,userApk:!0,headerNavShow:!1,logoutPannel:!1}:null,a=Array.isArray(this.props.moduleList)&&this.props.moduleList.find((function(e){return"PC_FESTIVAL_CONFIG"===e.type}));a&&a.bgImg&&a.bgColor&&a.leftImg&&a.rightImg&&(this.festivalConfig=a);var n=this.props.userAgent&&this.props.userAgent.indexOf("iPad")>-1;return k.a.createElement("div",{className:"".concat(C.a.normal," window"),style:{paddingTop:this.festivalConfig?"70px":""}},k.a.createElement("div",{style:{display:!0===this.props.UOSMode?"none":"block"}},k.a.createElement(N.YoukuCommonHeader,{theme:this.props.isTudou?"tudou":"",festivalConfig:this.festivalConfig,device:n?"pad":"pc",enableScroll:!0,getLoginInstance:function(t){e.subUserContent(t)},headerCenterShow:t,isHideTopBar:"true",loginGuideAllow:this.state.loginGuideAllow})),this.state.configData&&void 0!==this.state.loginStatus&&this.state.awardModalShow&&k.a.createElement(te,{data:this.state.configData,gray:!1,loginStatus:this.state.loginStatus,onNotTargeted:function(){e.setState({loginGuideAllow:!0})},isShow:!0,clickCleanModalStatusCallback:this.clickCleanModalStatusCallback,forceShowModal:this.state.forceShowModal}),this.state.configData&&void 0!==this.state.loginStatus&&this.state.configData.isShowAwardPass&&this.state.awardModalPassShow&&k.a.createElement(se,{data:this.state.configData,gray:!1,loginStatus:this.state.loginStatus,isAwardModalPass:!0,clickShowAwardModalCallback:this.clickShowAwardModalCallback}),this.state.userInfo&&null!==this.state.prizeObj&&k.a.createElement(fe,{userInfo:this.state.userInfo,prizeObj:this.state.prizeObj}),k.a.createElement(S.Switch,null,I.a.map((function(t){var a=t.path,n=t.exact,i=t.component;return k.a.createElement(ve.a.Provider,{value:{refreshModule:e.getModuleData}},k.a.createElement(ve.b.Provider,{value:e.state.userInfo},k.a.createElement(S.Route,{key:a,path:a,exact:n,component:i})))}))),this.props.useV2&&k.a.createElement(_e.a,{isLoading:this.state.isLoading,loadMoreFn:function(){e.getData()},hasMore:this.state.hasMore}),!1===this.props.UOSMode&&k.a.createElement("div",{style:{marginBottom:"40px"},id:"footer-container"},k.a.createElement(x.YouKuFooter,{theme:this.props.isTudou?"tudou":"",TansEvent:function(t){e.Tans(t)}})))}}]),a}(b.Component);t.a=Object(E.connect)((function(e){return{moduleList:e.moduleList.data.moduleList,hasMore:e.moduleList.data.hasNext,header:e.header,useV2:e.moduleList.useV2,UOSMode:e.moduleList.UOSMode,userAgent:e.moduleList.userAgent,isTudou:e.moduleList.isTudou}}))(be)},526:function(e,t,a){"use strict";var n=a(11),i=a.n(n);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o={namespace:"moduleList",state:{data:{},userAgent:null,channelId:"",pageNo:0,hasNext:!1,useV2:!1,isTudou:!1},reducers:{update:function(e,t){var a=t.payload;return r(r({},e),a)},replace:function(e,t){var a=t.payload;return r(r({},e),r(r({},e.data),a))}}};t.a=[o,{namespace:"header",state:{currentChannel:{},channelList:[],stickChannelList:[],isIndex:!1,focusWhite:!1}}]},54:function(e,t,a){e.exports={toast_outer:"awardtoast_toast_outer",toast_wrap:"awardtoast_toast_wrap",popanimate:"awardtoast_popanimate",toast_exit:"awardtoast_toast_exit",toast_btn:"awardtoast_toast_btn",toast_vip:"awardtoast_toast_vip",toast_title:"awardtoast_toast_title",toast_desc:"awardtoast_toast_desc",toast_coupon:"awardtoast_toast_coupon",toast_coupon_txt:"awardtoast_toast_coupon_txt",toast_coupon_img:"awardtoast_toast_coupon_img",toast_active:"awardtoast_toast_active"}},58:function(e,t,a){e.exports={focus_wrap:"focusswiper_focus_wrap",focus_item:"focusswiper_focus_item",common_shade:"focusswiper_common_shade",top_shade:"focusswiper_top_shade",bottom_shade:"focusswiper_bottom_shade",focus_logo_wrap:"focusswiper_focus_logo_wrap",content_info_wrap:"focusswiper_content_info_wrap",content_info:"focusswiper_content_info",banner_logo:"focusswiper_banner_logo",title_wrap:"focusswiper_title_wrap",common_title:"focusswiper_common_title",focus_title:"focusswiper_focus_title",focus_subtitle:"focusswiper_focus_subtitle",right_content_wrap:"focusswiper_right_content_wrap",prick:"focusswiper_prick",pagination_wrap:"focusswiper_pagination_wrap",pagination_item:"focusswiper_pagination_item",current_pagination_item:"focusswiper_current_pagination_item",video_control:"focusswiper_video_control",bt_wrap:"focusswiper_bt_wrap",bt_icon_play:"focusswiper_bt_icon_play",bt_icon_add:"focusswiper_bt_icon_add",bt_icon_added:"focusswiper_bt_icon_added",focus_cover:"focusswiper_focus_cover",nav_wrap:"focusswiper_nav_wrap",focus_nav_hide:"focusswiper_focus_nav_hide",focus_nav:"focusswiper_focus_nav",sub_title:"focusswiper_sub_title",nav_slide:"focusswiper_nav_slide",em:"focusswiper_em",focus_height:"focusswiper_focus_height"}},65:function(e,t,a){e.exports={card_outer:"studycard_card_outer",card_wrap:"studycard_card_wrap",card_left:"studycard_card_left",card_avatar:"studycard_card_avatar",card_nick:"studycard_card_nick",card_class:"studycard_card_class",card_subtitle:"studycard_card_subtitle",lesson:"studycard_lesson",class_pop:"studycard_class_pop",pop_exit:"studycard_pop_exit",class_title:"studycard_class_title",class_wrap:"studycard_class_wrap",class_list:"studycard_class_list",selected:"studycard_selected",user_pop:"studycard_user_pop",pop_edit:"studycard_pop_edit",pop_gender:"studycard_pop_gender",active:"studycard_active",pop_submit:"studycard_pop_submit",toast:"studycard_toast",layer:"studycard_layer"}},79:function(e,t,a){e.exports={mod:"module_mod",mod_header:"module_mod_header",module_header:"module_module_header",main_title:"module_main_title",last_item:"module_last_item",main_title_cut:"module_main_title_cut",sub_title:"module_sub_title",link_wrap:"module_link_wrap",right_content:"module_right_content",header_sponsor:"module_header_sponsor",header_sponsor_right:"module_header_sponsor_right",mod_bottom:"module_mod_bottom",nav_bottom_shade:"module_nav_bottom_shade",pc_nav_pointer:"module_pc_nav_pointer"}},795:function(e,t,a){"use strict";var n=a(0),i=a.n(n),s=a(25);a(7),a(694),a(327);t.a=Object(s.connect)((function(e){return{}}))((function(e){return i.a.createElement("div",null,i.a.createElement("div",{id:"app"},e.children))}))},797:function(e,t,a){e.exports={normal:"app_normal",container:"app_container"}},815:function(e,t,a){a(159),e.exports=a(989)},95:function(e,t,a){e.exports={star_list:"stars_star_list",ball_wrap:"stars_ball_wrap",title_wrap:"stars_title_wrap",star_name:"stars_star_name",star_item:"stars_star_item",last_line:"stars_last_line",twoRowContent:"stars_tworowcontent",horizontalTrochanter:"stars_horizontaltrochanter",oneRowContent:"stars_onerowcontent",horizontalTrochanterNormal:"stars_horizontaltrochanternormal",packGRow:"stars_packgrow",verticalTrochanter:"stars_verticaltrochanter"}},989:function(e,t,a){"use strict";a.r(t),function(e){var n=a(0),i=a.n(n),s=a(53),r=a.n(s),o=a(25),c=a.n(o),l=a(24),u=(a(389),a(31)),d=a(526),p=(a(795),a(525));t.default=function(){console.log("clientRender");var e=c()({history:Object(u.a)(),initialState:{moduleList:{data:window.__INITIAL_DATA__||[],userAgent:window.__UA__,useV2:window.useV2,isTudou:window.isTudou,UOSMode:window.__INITIAL_DATA__&&window.__INITIAL_DATA__.UOSMode||!1},header:{}}});d.a.forEach((function(t){e.model(t)})),e.router((function(){return i.a.createElement(l.BrowserRouter,null,i.a.createElement(p.a,null))}));var t=e.start();window.__VERSION__="1.1.23",window._SSRERR_||window._SSRCLOSE_?r.a.render(i.a.createElement(t,null),document.getElementById("app")):r.a.hydrate(i.a.createElement(t,null),document.getElementById("app"))}()}.call(this,a(151)(e))}},[[815,10,0,1]]]);
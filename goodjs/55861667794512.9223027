function deactiveArrow(){$(".form-slider .slick-arrow").addClass("arrow-disable")}function activateArrow(){$(".form-slider .slick-arrow").removeClass("arrow-disable")}function showFormError(){$(".form-slider .slick-active").find(".form-group-inner").addClass("error")}$(".loan-forms .form-slider").slick({dots:!0,infinite:!1,autoplay:!1,speed:500,slidesToShow:1,slidesToScroll:1,draggable:!1,responsive:[{breakpoint:1024,settings:{dots:!0,infinite:!1,autoplay:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!0}}],onInit:function(){$(".slick-next .slick-arraow").css("pointer-events","none")}});var disableEventsClass="disable-el";function disableSlickDots(e){$("#offer-form .slick-dots li").eq(e).addClass(disableEventsClass),$("#offer-form-mob .slick-dots li").eq(e).addClass(disableEventsClass)}function enableSlickDot(e){$("#offer-form .slick-dots li").eq(e).removeClass(disableEventsClass),$("#offer-form-mob .slick-dots li").eq(e).removeClass(disableEventsClass)}function validateMobile(e){return flag=!1,msg="",mobile=$(e).val(),""==$.trim(mobile)?disableSlickDots(2):!$.isNumeric(mobile)||mobile.length<10?(showFormError(),msg="Please enter valid Mobile number",$(e).addClass("error"),disableSlickDots(2)):($(e).removeClass("error"),$(".form-slider .slick-active").find(".form-group-inner").removeClass("error"),activateArrow(),enableSlickDot(2),flag=!0),$(".error-msg").html(msg),flag}function validateName(e){flag=!1,msg="";return name=$(e).val(),""==$.trim(name)?(disableSlickDots(1),disableSlickDots(2)):/^[a-zA-Z ]+$/.test(name)?($(e).removeClass("error"),$(".form-slider .slick-active").find(".form-group-inner").removeClass("error"),activateArrow(),enableSlickDot(1),$(".slick-dots").show(),flag=!0):(showFormError(),msg="Please enter valid first Name",$(e).addClass("error"),disableSlickDots(1),disableSlickDots(2)),$(".error-msg").html(msg),flag}function validateEmail(e){flag=!1,msg="";return email=$(e).val(),$(".slick-arrow").removeClass("active-btn-submit"),$(".cust-btn-submit").removeClass("active-btn-submit"),""==$.trim(email)||(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email)?($(e).removeClass("error"),$(".form-slider .slick-active").find(".form-group-inner").removeClass("error"),activateArrow(),$(".slick-dots").show(),flag=!0,$(".slick-arrow").addClass("active-btn-submit"),$(".cust-btn-submit").addClass("active-btn-submit")):(showFormError(),msg="Please enter valid Email ID",$(e).addClass("error"))),$(".error-msg").html(msg),flag}var timeout=0;$(window).on("load resize orientationchange",function(){clearInterval(timeout),$(".form-slider").on("afterChange",function(e,s,a){$(".slick-arrow").show(),$(".cust-btn-submit").hide(),3==a&&(validateMobile($(".input-mobile"))?validateName($(".input-name"))?validateEmail($(".input-email"))?($("#offer-form-mob").trigger("reset"),$("#offer-form").trigger("reset")):$(".form-slider").slickGoTo(parseInt(2)):$(".form-slider").slickGoTo(parseInt(1)):$(".form-slider").slickGoTo(parseInt(0))),0==a?((validateName($(".input-name"))?activateArrow:deactiveArrow)(),$(".slick-arrow").removeClass("btn-submit active-btn-submit"),$(".cust-btn-submit").removeClass("active-btn-submit")):1==a?((validateMobile($(".input-mobile"))?activateArrow:deactiveArrow)(),$(".cust-btn-submit").removeClass("active-btn-submit"),$(".slick-arrow").removeClass("btn-submit active-btn-submit")):2==a?($(".slick-arrow").val("Submit"),$(".slick-arrow").text("Submit"),$(".slick-arrow").addClass("btn-submit"),(validateEmail($(".input-email"))?activateArrow:deactiveArrow)(),$(".cust-btn-submit").length<=0?$('<button class="cust-btn-submit" type="button" aria-disabled="true" value="Submit">Submit</button>').insertAfter(".form-slider .slick-next"):$(".cust-btn-submit").show(),$(".slick-arrow").hide()):($("#offer-form").trigger("reset"),$("#offer-form-mob").trigger("reset"))}),$("form input").on("keyup",function(){deactiveArrow(),$(this).hasClass("input-mobile")?validateMobile($(this)):$(this).hasClass("input-name")?validateName($(this)):$(this).hasClass("input-email")&&validateEmail($(this))}),deactiveArrow(),disableSlickDots(1),disableSlickDots(2),$(".slick-arrow").on("click",function(e){$(this).hasClass("arrow-disable")&&e.preventDefault()}),$(document).on("click","button.cust-btn-submit",function(){$(this).addClass("activeCall"),getCallback()})});var getCallback=function(){var i=!1;return function(){var e,s,a,l,t,r,o;i||(i=!0,console.log("send response from here"),e=$(".activeCall").parent().parent().parent().parent().parent().find("#offer-form").attr("ajax-page"),console.log("formajax: "+e),s=$(".activeCall").parent().parent().parent().parent().parent().find("#productId").val(),console.log("productId: "+s),l=1==(r=$(".activeCall").parent().parent().parent().parent().parent().find("#offer-form").find("#name").val()).split(" ").length?a=r:(a=r.substr(0,r.indexOf(" ")),r.substr(r.indexOf(" ")).replace(/ /g,"")),t=$(".activeCall").parent().parent().parent().parent().parent().find("#offer-form").find("#mobile").val(),r=$(".activeCall").parent().parent().parent().parent().parent().find("#offer-form").find("#email").val(),console.log("customerFirstName: "+a),console.log("customerContactNo: "+t),console.log("customerEmailId: "+r),void 0!==(o=void 0!==e&&void 0!==s&&void 0!==a&&void 0!==l&&void 0!==t&&void 0!==r&&null!=e&&""!=e&&null!=s&&""!=s&&null!=a&&""!=a&null!=l&&""!=l&&null!=t&&""!=t&&null!=r&&""!=r?e+"productCode="+s+"&custName="+a+"&lastName="+l+"&custMobNo="+t+"&custEmail="+r:o)&&null!=o&&""!=o&&$.ajax({dataType:"json",url:o,type:"POST",success:function(e){getCallbackResults=e.getCallbackResults,console.log("Get callback response json :"+e.getCallbackResults.length),console.log("Get callback response :"+getCallbackResults);for(var s=0;s<getCallbackResults.length;s++){var a=getCallbackResults[s].crmServiceResponce,l=getCallbackResults[s].message,t=getCallbackResults[s].crmItemKey;console.log("Get callback message :"+l),console.log("Get callback CRM ID :"+t),void 0!==l&&void 0!==t&&void 0!==a&&null!=l&&""!=l&&null!=t&&""!=t&&null!=a&&""!=a&&"Success"==l&&(console.log("You have successfully registered to get a callback from out expert."),$("#offer-form").css("display","none"),$(".loan-forms .content .success-msg").css("display","inline-block"),$(".loan-forms .content .success-msg p").css("display","inline-block"))}},error:function(){console.log("Get callback response calling unsuccessful"),i=!1}}))}}();

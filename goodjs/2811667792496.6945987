YUI.add("event-focus",function(b,t){function e(a,r,f){var v="_"+a+"Notifiers";b.Event.define(a,{_useActivate:u,_attach:function(t,e,n){return b.DOM.isWindow(t)?s._attach([a,function(t){e.fire(t)},t]):s._attach([r,this._proxy,t,this,e,n],{capture:!0})},_proxy:function(t,e,n){var a=t.target,r=t.currentTarget,o=a.getData(v),c=b.stamp(r._node),i=u||a!==r;e.currentTarget=n?a:r,e.container=n?r:null,o?i=!0:(a.setData(v,o={}),i&&(s._attach([f,this._notify,a._node]).sub.once=!0)),o[c]||(o[c]=[]),o[c].push(e),i||this._notify(t)},_notify:function(t,e){var n,a,r,o,c,i,f,s,u,h=t.currentTarget,l=h.getData(v),d=h.ancestors(),p=h.get("ownerDocument"),g=[],_=l?b.Object.keys(l).length:0;for(h.clearData(v),d.push(h),p&&d.unshift(p),d._nodes.reverse(),_&&(p=_,d.some(function(t){var e,n,t=b.stamp(t),a=l[t];if(a)for(_--,e=0,n=a.length;e<n;++e)a[e].handle.sub.filter&&g.push(a[e]);return!_}),_=p);_&&(n=d.shift());){if(o=b.stamp(n),a=l[o]){for(i=0,f=a.length;i<f&&(s=(r=a[i]).handle.sub,c=!0,t.currentTarget=n,s.filter&&(c=s.filter.apply(n,[n,t].concat(s.args||[])),g.splice(y(g,r),1)),c&&(t.container=r.container,u=r.fire(t)),!1!==u&&2!==t.stopped);++i);delete a[o],_--}if(2!==t.stopped)for(i=0,f=g.length;i<f&&((s=(r=g[i]).handle.sub).filter.apply(n,[n,t].concat(s.args||[]))&&(t.container=r.container,t.currentTarget=n,u=r.fire(t)),!1!==u&&2!==t.stopped);++i);if(t.stopped)break}},on:function(t,e,n){e.handle=this._attach(t._node,n)},detach:function(t,e){e.handle.detach()},delegate:function(e,t,n,a){o(a)&&(t.filter=function(t){return b.Selector.test(t._node,a,e===t?null:e._node)}),t.handle=this._attach(e._node,n,!0)},detachDelegate:function(t,e){e.handle.detach()}},!0)}var n,a,s=b.Event,o=b.Lang.isString,y=b.Array.indexOf,u=(n=!1,(a=b.config.doc)&&((a=a.createElement("p")).setAttribute("onbeforeactivate",";"),n=void 0!==a.onbeforeactivate),n);u?(e("focus","beforeactivate","focusin"),e("blur","beforedeactivate","focusout")):(e("focus","focus","focus"),e("blur","blur","blur"))},"3.12.0",{requires:["event-synthetic"]});

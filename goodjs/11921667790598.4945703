!function(n){function o(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,o),t.loaded=!0,t.exports}var i={};o.m=n,o.c=i,o.p="",o(0)}([function(e,t,n){"use strict";var o;(o=window.goldlog||(window.goldlog={}))._aplus_auto_exp||(o._aplus_auto_exp={tags:{},status:"init",exp_times:0,elementSelectorSizeMap:{}},n(1).init(function(){o._aplus_auto_exp.status="complete"}))},function(e,t,n){"use strict";var s=n(2),l=n(3),c=n(4),p=n(window.IntersectionObserver?19:22),g=n(23),h=n(12);t.init=function(e){function t(e){r||(r=e,o||(s.wrap(function(){var o;i=h.getAutoExpConfig()||[],l.isDebugAplus()&&l.logger({msg:"aplus-auto-exp metaVaue init: "+JSON.stringify(i)}),i&&0<i.length&&(g.watch_data_change(),p.watch_exposure_change(i),(o=c.create({isThrottleWatch:h.isThrottleWatchDom(),autoExpConfig:i})).init({type:"init"})),n.aplus_pubsub.subscribe("setMetaInfo",function(e,t,n){"aplus-auto-exp"===e&&(l.isDebugAplus()&&l.logger({msg:"aplus-auto-exp metaVaue change: "+JSON.stringify(t)}),e=h.getAutoExpConfig(t),JSON.stringify(e)!==JSON.stringify(i)&&(i=e,g.clear(),p.clear(i,n=n||{from:"setMetaInfo"}),o&&o.clear(n),t&&i&&0<i.length&&(g.watch_data_change(),p.watch_exposure_change(i),t={isThrottleWatch:h.isThrottleWatchDom(),autoExpConfig:i},o?o.reset(t,n):(o=c.create(t)).init({type:"init"}))))})},"do_init"),o=!0))}var i,n=window.goldlog||(window.goldlog={}),o=!1,r=!1;setTimeout(function(){o||l.logger({msg:"aplus_auto_exp_init failed! please check whether aplusJs is loaded correctly!"})},5e3);var a=n._$||{},u=window.g_SPM||{};"complete"===a.status&&u.spm&&t(),(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.aplus_pubsub.subscribe",arguments:["aplusReady",function(e){"complete"===e&&t("aplusReady")}]}),"function"==typeof e&&e()}},function(e,t){"use strict";function o(e,t){(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog._aplus_cplugin_track_deb.monitor",arguments:[{key:"APLUS_PLUGIN_DEBUG",title:"aplus_core",msg:["_error_:methodName="+t+",params="+JSON.stringify(e)],type:"updateMsg",description:t||"aplus_core"}]})}function i(e,t,n){(window.goldlog_queue||(window.goldlog_queue=[])).push({action:["goldlog","_aplus_cplugin_m",t].join("."),arguments:[e,n]})}t.do_tracker_jserror=function(e,t){var n="do_tracker_jserror";i(e,n,t),o(e,n)},t.do_tracker_obsolete_inter=function(e,t){var n="do_tracker_obsolete_inter";i(e,n,t),o(e,n)},t.wrap=function(e){if("function"==typeof e)try{e()}catch(e){o({msg:e.message||e},"exception")}}},function(e,t){"use strict";t.isDebugAplus=function(){var e=!1;return e="boolean"==typeof goldlog.aplusDebug?goldlog.aplusDebug:e};t.logger=function(e){var t=(e=e||{}).level||"warn";window.console&&window.console[t]&&window.console[t](e.msg)}},function(e,t,n){"use strict";var o=n(5),l=n(6),s=n(2),i=n(16),c=n(3),p=n(18),g=n(12),u=n(9),r=window,h=document,a=l.throttle(function(){var e=arguments[0];"function"==typeof e&&e()},200),o=o.extend({eachElements:function(e,t){for(var n=t.logkey||"",o=0;o<e.length;o++){var i,r,a,u=e[o],s=u.getAttribute(g.DATA_APLUS_AE_KEY);s&&0<s.indexOf("_")||(isNaN(parseInt(s))&&(s=goldlog._aplus_auto_exp.elementSelectorSizeMap[t.elementSelector]++,u.setAttribute(g.DATA_APLUS_AE_KEY,s)),i=(a=l.getElementHash(t,{ignore_attr:!1,index:s,ele:u})).hash_value,r=a.hash_key,s=p.checkIsRecord(u,i,g.DATA_APLUS_AE_KEY),a=l.checkIsInHashMap({logkey:n,hash_value:i,goldlogKey:"_aplus_auto_exp"}),s||a||(u={expConfig:t,hash_value:i,hash_key:r,element:u,status:0,elementSelector:t.elementSelector},l.updateExpHashMap(n,u,"ADD")))}},handler_dom_change:function(e,t){try{for(var n=this.autoExpConfig||[],o=0;o<n.length;o++){var i=n[o],r=l.getElements(i,h);goldlog._aplus_auto_exp.elementSelectorSizeMap[i.elementSelector]||(goldlog._aplus_auto_exp.elementSelectorSizeMap[i.elementSelector]=1),this.eachElements(r,i)}goldlog.aplus_pubsub.publish("APLUS_AE_DOM_CHANGE",t||{})}catch(e){c.logger({msg:e&&e.message})}},init_watch_dom:function(){var e=this,t=goldlog._aplus_auto_exp||{};e._loop_observer=setTimeout(function(){"blur"!==t.current_win_status?(goldlog.aplusDebug&&c.logger({msg:"watch_dom LOOP_TIME is "+g.LOOP_TIME+"ms total: "+ ++t.watch_times}),e.handler_dom_change(null,{type:"polling"}),e.init_watch_dom()):t.watch_dom_running=!1},g.LOOP_TIME)},onFocusHandler:function(){var e=goldlog._aplus_auto_exp||{};e.current_win_status="focus",e.watch_dom_running||this.init_watch_dom()},onBlurHandler:function(){(goldlog._aplus_auto_exp||{}).current_win_status="blur"},onVisibilityChange:function(){"visible"===h.visibilityState?this.onFocusHandler():"hidden"===h.visibilityState&&this.onBlurHandler()},addAllListener:function(){var e=this,t=goldlog._aplus_auto_exp||{};t.watch_times=0,t.watch_dom_running=!0,e.init_watch_dom(),r.WindVane&&h.addEventListener&&(i.on(h,"WV.Event.APP.Active",e.onFocusHandler,!1),i.on(h,"WV.Event.APP.Background",e.onBlurHandler,!1)),"hidden"in h?i.on(r,"visibilitychange",e.onVisibilityChange):(i.on(r,"blur",e.onBlurHandler),i.on(r,"focus",e.onFocusHandler))},removeAllListener:function(){var e=this;r.WindVane&&h.removeEventListener&&(i.un(h,"WV.Event.APP.Active",e.onFocusHandler,!1),i.un(h,"WV.Event.APP.Background",e.onBlurHandler,!1)),"hidden"in h?i.un(r,"visibilitychange",e.onVisibilityChange):(i.un(r,"blur",e.onBlurHandler),i.un(r,"focus",e.onFocusHandler))},isIgnoreExpose:function(e,t){var n=goldlog.getMetaInfo("aplus-auto-exp-ignoreviews"),o=goldlog.getMetaInfo("aplus-auto-exp-ignoreclassnames"),i=["IFRAME","BODY","OBJECT","SCRIPT","NOSCRIPT","LINK","STYLE","#comment"];if(n&&l.isArray(n)&&0<n.length&&(i=n),t&&-1<i.indexOf(t))return!0;var r,a=!1;return o&&l.isArray(o)&&(e=e&&e.getAttribute?e.getAttribute("class"):"",r=e?e.split(" "):[],u(o,function(t){if(t&&u(r,function(e){if(e.trim()===t.trim())return a=!0,"break"}),a)return"break"})),a},init_observer:function(e,a){var u=this,r=["class","style"];this._observer||(this._observer=new e(function(e){if(e&&0<e.length)for(var t=0;t<e.length;t++){var n=e[t]||{},o=l.nodelistToArray(n.addedNodes||[]);(function(e,t){if(e&&0<e.length)for(var n=0;n<e.length;n++){var o=e[n]||{},i=o.nodeName,r=goldlog._aplus_auto_exp.tags||{};r[i]||(r[i]=0),r[i]++,goldlog._aplus_auto_exp.tags=r,u.isIgnoreExpose(o,i)||s.wrap(function(){++(goldlog._aplus_auto_exp||{}).observer_times;var e=t.attributeName;a(o,{type:t.type+(e?"_"+e:"")})},"init_observer_init_elements")}})(o=l.nodelistToArray("characterData"===(i=n).type||"attributes"===i.type&&-1<r.indexOf(i.attributeName)?[i.target]:"childList"!==i.type?[]:void 0,o),n)}var i}));this._observer.observe(h.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),l.IS_DEBUG&&c.logger({msg:"aplus_auto_exp init MutationObserver success!"})},init:function(e){var n=this,t=goldlog._aplus_auto_exp||{};e&&"reset"!==e.type&&!t.hash_value&&(t.hash_value={}),n.handler_dom_change(null,{type:"aplus_init"});e=r.MutationObserver||r.WebKitMutationObserver||r.MozMutationObserver;e?(t.observer_times=0,n.init_observer(e,function(e,t){a(function(){n.handler_dom_change(e,t)})})):n.addAllListener()},clear:function(e){e&&"appendMetaInfo"===e.from||((e=goldlog._aplus_auto_exp||{})._acHashMap&&(e._acHashMap={}),e.hash_value&&(e.hash_value={}),goldlog._aplus_auto_exp=e,this._loop_observer&&(clearTimeout(this._loop_observer),this._loop_observer=null),this._observer?(this._observer.takeRecords(),this._observer.disconnect()):this.removeAllListener())},clearDom:function(e,t){var n=this.autoExpConfig||[];if(t&&"appendMetaInfo"!==t.from)for(var o=0;o<n.length;o++)try{for(var i=n[o].elementSelector,r=h.querySelectorAll(i),a=0;a<r.length;a++)r[a].setAttribute(g.DATA_APLUS_AE_KEY,"")}catch(e){}this.autoExpConfig=e&&e.autoExpConfig?e.autoExpConfig:[]},reset:function(e,t){this.clearDom(e,t),this.init({type:"reset"})}});e.exports=o},function(e,t){"use strict";function n(){}n.prototype.extend=function(){},n.prototype.create=function(){},n.extend=function(e){return this.prototype.extend.call(this,e)},n.prototype.create=function(e){var t,n=new this;for(t in e)n[t]=e[t];return n},n.prototype.extend=function(e){function t(){}try{for(var n in"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),t.prototype=Object.create(this.prototype),e)t.prototype[n]=e[n];(t.prototype.constructor=t).extend=t.prototype.extend,t.create=t.prototype.create}catch(e){console.log(e)}finally{return t}},e.exports=n},function(e,t,n){"use strict";function u(e){return"[object Array]"===Object.prototype.toString.call(e)}var l=document,h=window,f=n(7),s=n(3),a=n(8),c=n(9),p=n(10),g=n(11),o=n(12);t.isArray=u,t.getXPath=function(e){for(var t,n,o,i,r,a=l.getElementsByTagName("*"),u=[];e&&1==e.nodeType;e=e.parentNode)if(e.id){for(r=e.id,t=o=0;t<a.length;t++)if((i=a[t]).id&&i.id==r){o++;break}if(u.unshift(e.tagName.toLowerCase()+'[@id="'+r+'"]'),1==o)return u.unshift("/"),u.join("/")}else{for(t=1,n=e.previousSibling;n;n=n.previousSibling)n.tagName==e.tagName&&t++;u.unshift(e.tagName.toLowerCase()+"["+t+"]")}return u.length?"/"+u.join("/"):null};function d(e,t){if(t&&0!==t.length||(t=[]),e&&0<e.length)for(var n=0;n<e.length;n++)t.push(e[n]);return t}t.nodelistToArray=d,t.getElements=function(e,t){var t=t||l,n=[];if(t.querySelectorAll)n=d(t.querySelectorAll(e.elementSelector)||[]);else for(var o=document.getElementsByTagName(e.tag),e=e.filter.split("="),i=0<e.length?e[0].trim():"",r=1<e.length?e[1].trim():"",a=0;a<o.length;a++){var u=o[a],s=u.getAttribute(i);!u.hasAttribute(i)||r&&r!==s||n.push(u)}return n};n=/aplusDebug=true/.test(location.search);t.IS_DEBUG=n,t.fillPropsData=function(e,t,n){n=n||{};try{var o,i,r=e.props||[];if(r&&u(r)&&0<r.length)for(var a=0;a<r.length;a++)t&&t.getAttribute&&(o=r[a],null!==(i=t.getAttribute(o))&&""!==i&&(n[o]=encodeURIComponent(i)))}catch(e){s.logger({msg:e&&e.message})}return n},t.fillFilterData=function(e,t,n){n=n||{};try{var o,i=(e.filter||"").split("=");u(i)&&i[1]?n[i[0]]=i[1]:i[0]&&t&&t.getAttribute&&(null!==(o=t.getAttribute(i[0])||"")&&""!==o&&(n[i[0]]=o))}catch(e){s.logger({msg:e&&e.message})}return n};function i(e){return!!/^POST|GET$/i.test(e)}t.isMethod=i;function r(e){return!!(!!/^\d+$/.test(e)&&0<parseInt(e))}t.isPkgSize=r,t.filterExpConfigRequestCfg=function(e){var t=o.getDefaultRequestCfg()||{};try{var n=e||{};i(n.method)&&(t.method=n.method),r(n.pkgSize)&&(t.pkgSize=parseInt(n.pkgSize))}catch(e){s.logger({msg:e&&e.message})}return t};t.autoUserFnHandler=function(e,t,n){var o,i,r={userdata:{},spm:"",scm:""};try{var a=e(t,n);a&&("string"==typeof a?r.userdata=(o=(o=a).split("&"),i={},0<o.length&&c(o,function(e){e=e.split("=");2===e.length&&(i[e[0]]=g.tryToEncodeURIComponent(e[1]))}),i):"object"==typeof a&&"object"==typeof a.userdata&&(p(a.userdata,function(e,t){r.userdata[e]=g.tryToEncodeURIComponent(t)}),r.spm=a.spm,r.scm=a.scm))}catch(e){console.log(e)}return r};function _(e){if(e=e.getAttribute("data-spm-anchor-id")){e=e.split(".");return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4]}}}t.getSpmObj=_,t.getElementHash=function(e,t){var n={};"aplus_webvt"!==e.source&&(n=_(t.ele)||g_SPM.getParam(t.ele));var o,i="",r="x"+t.index;return n.a&&n.b&&n.c&&n.d?(o=/^i/.test(n.d)?r:n.d,i=n.a+"_"+n.b+"_"+n.c+"_"+o):(i=r,goldlog.pvid&&(i+=goldlog.pvid)),t.ignore_attr||(i+=e.logkey+"_",i+=e.elementSelector+"_",i+=function(e,t){var n="";if(e&&t){var o=[e.getAttribute(t.filter)],i=t.props||[];if(i)for(var r=0;r<i.length;r++)o.push(e.getAttribute(i[r]));n=o.join("_")}return n}(t.ele,e)),{hash_value:r+"_"+a.hash(i),hash_key:r+"_"+i}},t.filterUnloadAttr=function(e){return e=e?(e=(e=(e=e.replace(/(href|style|data-spm-anchor-id)=[\'|\"][\w|\W|\.]+[\'|\"]/,"")).replace(/\s\>/g,">")).replace(new RegExp(o.DATA_APLUS_AE_KEY+"=[\\'|\\\"]\\w+[\\'|\\\"]"),"")).replace(new RegExp(o.DATA_APLUS_AC_KEY+"=[\\'|\\\"]\\w+[\\'|\\\"]"),""):e};function v(e,n,t,o){var i,r,a,u,s,l,c,p,g;t=t||"ADD",e&&"object"==typeof n&&(r=(i=f.getGoldlogVal(o)||{})._acHashMap||{},a=r[e]||[],u=function(){for(var e=0,t=a.length;e<t;){if((a[e]||{}).hash_value===n.hash_value)return e;e++}return-1}(),"ADD"===t&&-1===u?(a.push(n),s=e,c=o,p=(l=n).hash_value,(g=f.getGoldlogVal(c)||{}).hash_value||(g.hash_value={}),g.hash_value[s]||(g.hash_value[s]=h.Map?new h.Map:{}),h.Map?((l=g.hash_value[s].get(p))?++l:l=1,g.hash_value[s].set(p,l)):g.hash_value[s][p]?++g.hash_value[s][p]:g.hash_value[s][p]=1,f.setGoldlogVal(c,g)):"CLEAR"===t&&-1<u?a.splice(u,1):"UPDATE"===t&&(a=function(e,t){for(var n,o=0,i=e.length;o<i;){if((e[o]||{}).hash_value===t.hash_value)return e[o]=t,n=!0,e;o++}return n||e.push(t),e}(a,n)),r[e]=a,i._acHashMap=r,f.setGoldlogVal(o,i))}t.updateExpHashMap=function(e,t,n){v(e,t,n,"_aplus_auto_exp")},t.updateClkHashMap=function(e,t,n){v(e,t,n,"_aplus_ac")};function m(){return(new Date).getTime()}t.throttle=function(t,n,o){var i,r,a,u,s=0;o=o||{};function l(){u=t.apply(r,a),s=!1===o.leading?0:m(),(i=null)||(r=a=null)}function e(){s||!1!==o.leading||(s=m());var e=n-(m()-s);return r=this,a=arguments,e<=0||n<e?(i&&(clearTimeout(i),i=null),u=t.apply(r,a),s=m(),i||(r=a=null)):i||!1===o.trailing||(i=setTimeout(l,e)),u}return e.cancel=function(){clearTimeout(i),s=0,i=r=a=null},e},t.checkIsInHashMap=function(e){var t=f.getGoldlogVal(e.goldlogKey)||{},n=(t.hash_value||{})[e.logkey]||(h.Map?new h.Map:{});if(1<(n&&n.get?n.get(e.hash_value):n[e.hash_value]))return!0;for(var o=(t._acHashMap||{})[e.logkey]||[],i=o.length,r=0;r<i;r++)if(o[r].hash_value===e.hash_value)return!0;return!1},t.setRecordSuccess=function(e,t){try{var n=e?e.element:{},o=e.hash_value||"";n&&n.setAttribute&&n.setAttribute(t,o)}catch(e){}}},function(e,t){"use strict";function n(e){var t;try{window.goldlog||(window.goldlog={}),t=window.goldlog[e]}catch(e){t=""}finally{return t}}t.getGoldlogVal=n;t.setGoldlogVal=function(e,t){var n=!1;try{window.goldlog||(window.goldlog={}),e&&(window.goldlog[e]=t,n=!0)}catch(e){n=!1}finally{return n}},t.getClientInfo=function(){return n("_aplus_client")||{}}},function(e,t){"use strict";t.hash=function(e,t){for(var n=t||1315423911,o=e.length-1;0<=o;o--)n^=(n<<5)+e.charCodeAt(o)+(n>>2);return(2147483647&n).toString(16)}},function(e,t){"use strict";e.exports=function(e,t){for(var n=e.length,o=0;o<n;o++)if("break"===t(e[o],o))break}},function(e,t){"use strict";e.exports=function(e,t){if(Object&&Object.keys)for(var n=Object.keys(e),o=n.length,i=0;i<o;i++){var r=n[i];t(r,e[r])}else for(var a in e)t(a,e[a])}},function(e,t){"use strict";t.tryToEncodeURIComponent=function(e){var t=e||"";if(e)try{t=encodeURIComponent(decodeURIComponent(e))}catch(e){}return t}},function(e,t,n){"use strict";function h(e){return goldlog&&goldlog.getMetaInfo?goldlog.getMetaInfo(e):o.getMetaCnt(e)}var f=n(13),o=n(14);t.DATA_APLUS_AE_KEY="data-aplus-ae",t.DATA_APLUS_AC_KEY="data-aplus-clk",t.LOOP_TIME=1e3,t.getDefaultRequestCfg=function(){return{method:"POST",pkgSize:10}};function i(e,t){var n=t;try{var o=h(e);(n=o?parseFloat(o):n)<=0&&(n=t)}catch(e){n=t}finally{return n}}n=i("aplus-auto-exp-visible",.3);t.AUTO_AT_VIEW_RATE=n,t.AUTO_AT_VIEW_RATE_IN_WINDOW=i("aplus-auto-exp-window",0)||n;t.EXP_DURATION=function(e){var t=e;try{var n=h("aplus-auto-exp-duration"),o=parseInt(n);o+""!="NaN"&&(t=o)}catch(e){}finally{return t}}(300);function r(e,t){var n=[],o=[];try{var i=t||h(e),r=[];if(i&&"string"==typeof i)try{r=JSON.parse(i)}catch(e){r=JSON.parse(i.replace(/'/g,'"'))}else"object"==typeof i&&i.constructor===Array&&(r=i);if(r&&r.constructor===Array)for(var a=0;a<r.length;a++){var u=r[a]||{},s=u.logkey||"",l=u.tag||"",c=u.filter,p=u.cssSelector;if(!s||!(p||l&&c))throw new Error("meta "+e+" config error, "+JSON.stringify(u));var c="string"==typeof c?c.split("="):[],g=l;if(2<=c.length?g+="["+c.shift()+'="'+decodeURIComponent(c.join(""))+'"]':1==c.length&&c[0]&&(g+="["+decodeURIComponent(c[0])+"]"),p&&(g+=p),u.elementSelector=g,-1<f.indexof(o,g))throw new Error("meta "+e+" config error, tag_filter_cssSelector "+g+" repeated");o.push(g),n.push(u)}}catch(e){}finally{return n}}t.getAutoExpConfig=function(e){return r("aplus-auto-exp",e)||[]},t.getAutoExpUserFn=function(){var e=h("aplus-auto-exp-userfn");if(e){e=window[e]||e;if("function"==typeof e)return e}return null},t.isThrottleWatchDom=function(){var e=!1;try{e="throttle"===h("aplus-auto-exp-watchdom")}catch(e){}return e},t.getAutoClkConfig=function(e){return r("aplus-auto-clk",e)||[]},t.getAutoClkUserFn=function(){var e=h("aplus-auto-clk-userfn");if(e){e=window[e]||e;if("function"==typeof e)return e}return null}},function(e,t){"use strict";t.indexof=function(t,n){var o=-1;try{o=t.indexOf(n)}catch(e){for(var i=0;i<t.length;i++)t[i]===n&&(o=i)}finally{return o}}},function(e,t,n){"use strict";function u(e){return i=i||document.getElementsByTagName("head")[0],r&&!e?r:i?r=i.getElementsByTagName("meta"):[]}function o(e,t){for(var n,o,i=u(),r=i.length,a=0;a<r;a++)n=i[a],s.tryToGetAttribute(n,"name")===e&&(o=s.tryToGetAttribute(n,t||"content"));return o||""}var i,r,s=n(15);t.getMetaTags=u,t.getMetaCnt=o,t.getOnePageInfo=function(e){var t={isonepage:"-1",urlpagename:""};return(e=e.qGet())&&e.hasOwnProperty("isonepage_data")?(t.isonepage=e.isonepage_data.isonepage,t.urlpagename=e.isonepage_data.urlpagename):(e=(o("isonepage")||"-1").split("|"),t.isonepage=e[0],t.urlpagename=e[1]||""),t}},function(e,t){"use strict";t.tryToGetAttribute=function(e,t){return e&&e.getAttribute&&e.getAttribute(t)||""};function o(e,t,n){if(e&&e.setAttribute)try{e.setAttribute(t,n)}catch(e){}}t.tryToSetAttribute=o,t.tryToRemoveAttribute=function(t,n){if(t&&t.removeAttribute)try{t.removeAttribute(n)}catch(e){o(t,n,"")}}},function(e,t,n){"use strict";var u=!!document.attachEvent,s=n(17),l=function(e,t,n){return"tap"===t?(o=e,i=n,r=(a=(goldlog._$||{}).meta_info||{}).aplus_ctap||{},a=a["aplus-touch"],void(r&&"function"==typeof r.on?r.on(o,i):(r="ontouchend"in document.createElement("div"))&&"tap"===a?s.on(o,i):l(o,r?"touchstart":"mousedown",i))):void(u?e.attachEvent(t,n):e.addEventListener(t,n));var o,i,r,a};t.on=l;var c=function(e,t,n){return"tap"===t?(o=e,i=n,r=(a=(goldlog._$||{}).meta_info||{}).aplus_ctap||{},a=a["aplus-touch"],void(r&&"function"==typeof r.un?r.un(o,i):(r="ontouchend"in document.createElement("div"))&&"tap"===a?s.un(o,i):c(o,r?"touchstart":"mousedown",i))):void(u?e.detachEvent(t,n):e.removeEventListener(t,n));var o,i,r,a};t.un=c},function(e,t){"use strict";function o(e){0===Object.keys(c).length&&(l.addEventListener(h,a,!1),l.addEventListener(g,u,!1),l.addEventListener(d,u,!1));for(var t=0;t<e.changedTouches.length;t++){var n,o=e.changedTouches[t],i={};for(n in o)i[n]=o[n];var r={startTouch:i,startTime:Date.now(),status:f,element:e.srcElement||e.target};c[o.identifier]=r}}function a(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],o=c[n.identifier];if(!o)return;var i=n.clientX-o.startTouch.clientX,n=n.clientY-o.startTouch.clientY,n=Math.sqrt(Math.pow(i,2)+Math.pow(n,2));(o.status===f||"pressing"===o.status)&&10<n&&(o.status="panning")}}function u(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],o=n.identifier,i=c[o];i&&(i.status===f&&e.type===g&&(i.timestamp=Date.now(),function(e,t,n){var o=s.createEvent("HTMLEvents");if(o.initEvent(t,!0,!0),"object"==typeof n)for(var i in n)o[i]=n[i];e.dispatchEvent(o)}(i.element,_,{touch:n,touchEvent:e})),delete c[o])}0===Object.keys(c).length&&(l.removeEventListener(h,a,!1),l.removeEventListener(g,u,!1),l.removeEventListener(d,u,!1))}var n,i,r=!1,s=window.document,l=s.documentElement,c={},p="touchstart",g="touchend",h="touchmove",f="tapping",d="touchcancel",_="aplus_tap"+(i=1e5,(n=1)+Math.floor(Math.random()*(i-n+1)));e.exports={on:function(e,t){var n;r||(l.addEventListener(p,o,!1),r=!0),e&&e.addEventListener&&t&&((n=e).__fixTouchEvent||(n.addEventListener(p,function(){},!1),n.__fixTouchEvent=!0),e.addEventListener(_,t._aplus_tap_callback=function(e){t(e,e.target)},!1))},un:function(e,t){e&&e.removeEventListener&&t&&t._aplus_tap_callback&&e.removeEventListener(_,t._aplus_tap_callback,!1)}}},function(e,t,n){"use strict";function _(e,t){return t.x>=e.pLeftTop[0]&&t.x<=e.pRightBottom[0]&&t.y>=e.pLeftTop[1]&&t.y<=e.pRightBottom[1]}function r(e,t){var n=0,o={x:t.x,y:t.y},i=_(e,o),r={x:t.x+t.width,y:t.y},a=_(e,r),u={x:t.x,y:t.y+t.height},s=_(e,u),l={x:t.x+t.width,y:t.y+t.height},c=_(e,l);if((g=0)<(n=g=i&&c?t.size/t.size:g))return n;var p,g=(f=h=0,i&&a&&!s&&!c?(h=t.width,f=e.pLeftBottom[1]-t.y,p="top"):!i&&a&&!s&&c?(h=e.pLeftTop[0]-t.x,f=t.y,p="right"):!i&&!a&&s&&c?(h=t.width,f=t.height-Math.abs(e.pLeftTop[1]-t.y),p="bottom"):i&&!a&&s&&!c&&(h=e.pRightTop[0]-t.x,f=t.y,p="left"),h=h>e.clientWidth?e.clientWidth:h,f=f>e.clientHeight?e.clientHeight:f,{rate:0<t.size?Math.abs(h*f)/t.size:0,exp_pos:p});if(0<(n=g.rate))return v.isDebugAplus()&&v.logger({msg:g}),n;var h,f,d,g=(f=h=0,!i||a||s||c?i||!a||s||c?i||a||!s||c?i||a||s||!c||(h=t.x+t.width,f=t.y+t.height,d="rightBottom"):(h=e.pRightTop[0]-t.x,f=e.clientHeight-(u.y-e.pRightBottom[1]),d="leftBottom"):(h=r.x,f=e.clientHeight-r.y,d="rightTop"):(h=e.clientWidth-t.x,f=e.clientHeight-t.y,d="leftTop"),{rate:0<t.size?Math.abs(h*f)/t.size:0,exp_pos:d});return 0<(n=g.rate)?(v.isDebugAplus()&&v.logger({msg:g}),n):(c=s=0,r=e.pLeftTop[0],h=e.pLeftTop[1],f=e.pLeftBottom[0],d=e.pLeftBottom[1],g=e.pRightBottom[0],d=f<=l.x&&d<=l.y,o.x<=r&&o.y<=h&&d&&(c=e.clientHeight,s=l.x<g?l.x-f:e.clientWidth),r<o.x&&o.y<=h&&d&&(c=e.clientHeight,s=g<l.x?g-u.x:l.x-u.x),0<(n=0<t.size?Math.abs(s*c)/t.size:0)?(v.isDebugAplus()&&v.logger({msg:"cover rate is "+n}),n):1<n?1:n)}var v=n(3),i=document;t.wrapViewabilityRate=function(e,t,n){var o=0;if(e)for(var i=0;i<e.length;i++)if(n<=(o=r(e[i],t)))return o;return o},t.getViewabilityRateInWindow=function(e,t,n){var o=0;if(e)for(var i=0;i<e.length;i++)if(n<=(o=t/e[i].size))return o;return o};function a(e){return"number"==typeof e&&NaN!==e}function u(e){var t={};return e&&("function"==typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect()||{}),a(t.x)||a(t.left)&&(t.x=t.left),a(t.y)||a(t.top)&&(t.y=t.top),a(t.width)||(t.width=e.offsetWidth),a(t.height)||(t.height=e.offsetHeight)),t}t.getElementPosition=u,t.getWinPositions=function(e){var t=[];!e||"function"!=typeof document.querySelector||(n=document.querySelector(e))&&(o=u(n)||{},a(o.x)&&a(o.y)&&a(o.width)&&a(o.height)&&t.push({pLeftTop:[o.x,o.y],pRightTop:[o.x+o.width,o.y],pLeftBottom:[o.x,o.y+o.height],pRightBottom:[o.x+o.width,o.y+o.height],size:o.width*o.height}));var e=i.documentElement,n=i.body,o=e.clientWidth||n.offsetWidth||0,n=e.clientHeight||n.offsetHeight||0;return t.push({pLeftTop:[0,0],pRightTop:[o,0],pLeftBottom:[0,n],pRightBottom:[o,n],size:o*n,clientHeight:n,clientWidth:o}),t},t.checkIsRecord=function(e,t,n){var o,i;try{e&&e.getAttribute&&(o=e.getAttribute(n)||"",i=t?o===t:!!o)}catch(e){}return i}},function(e,t,n){"use strict";function o(e,t){var n="APLUS_AE_EXPOSURE_CHANGE",o=e&&e.type?e.type:"IObserver",i=(new Date).getTime(),r=0;0<(r="IObserver"!==t.from?u.filterStartExposureSize(i,o,!0):function(e,t,n){var o,i=_.getWinPositions(),r=0,a=(f.getGoldlogVal("_aplus_auto_exp")||{})._acHashMap||{};for(o in a)for(var u=a[o]||[],s=0;s<u.length;s++){var l=u[s]||{};l.eventType="IObserver";var c,p,g=!!n||l.element===t.target;0===l.status&&l.expConfig&&g&&((c=!(c=t.boundingClientRect||{}).width&&!c.height?t.target.getBoundingClientRect()||{}:c).width&&c.height&&((l=h.assign(l,c)).x=c.x||c.left,l.y=c.y||c.top,l.width=c.width,l.height=c.height,l.size=c.width*c.height,p=_.checkIsRecord(l.element,l.hash_value,"_aplus_auto_exp"),g=l.width*l.height*t.intersectionRatio,c=_.getViewabilityRateInWindow(i,g,y),p||((g=t.intersectionRatio>=m)||y<=c?(l.exposureTime=e,l.status=1,(p=d.getAutoExpUserFn())&&(l.userParams=v.autoUserFnHandler(p,l.element,l.elementSelector)),l.viewabilityRate=g?t.intersectionRatio:c,l.viewability=g?"intersection":"fillwindow",d.EXP_DURATION||(l.status=2),v.updateExpHashMap(o,l,"UPDATE"),++r):c&&v.updateExpHashMap(o,Object.assign(u[s],{lastEventType:l.eventType}),"UPDATE"))))}return r}(i,e))&&(d.EXP_DURATION?setTimeout(function(){0<(r=u.filterEndExposureSize(i,o))&&goldlog.aplus_pubsub.publish(n,{size:r,eventType:o})},d.EXP_DURATION):goldlog.aplus_pubsub.publish(n,{size:r,eventType:o}))}function s(e){return new l(function(e){a(e,function(e){0<e.intersectionRatio&&o(e,{from:"IObserver"})})},h.assign({root:null,rootMargin:"0px",threshold:m},e))}function i(e){if(l){c.io_base||(c.io_base=s());var t,n=(f.getGoldlogVal("_aplus_auto_exp")||{})._acHashMap||{};for(t in n)for(var o=n[t]||[],i=0;i<o.length;i++){var r,a,u=o[i]||{};u.inObserver||(a="io_v_"+encodeURIComponent(u.positionSelector),u.positionSelector&&!c[a]&&(r=s({root:document.querySelector(u.positionSelector),expConfig:e}),c[a]=r),(r||c.io_base).observe(u.element),u.inObserver=!0)}}return 1}var r=n(16),h=n(20),f=n(7),a=n(9),d=n(12),u=n(21),_=n(18),v=n(6),m=d.AUTO_AT_VIEW_RATE,y=d.AUTO_AT_VIEW_RATE_IN_WINDOW,l=window.IntersectionObserver,c={};goldlog._aplus_auto_exp.iobserverMap=c;var p=v.throttle(function(e){o(e,{from:e.type})},100);t.watch_exposure_change=function(e){goldlog.aplus_pubsub.subscribe("APLUS_AE_DOM_CHANGE",function(){i(e)}),r.on(window,"touchmove",p),r.on(window,"scroll",p),r.on(window,"resize",p),i(e)},t.clear=function(e,t){if(t&&"appendMetaInfo"!==t.from)for(var n in r.un(window,"touchmove",p),r.un(window,"scroll",p),r.un(window,"resize",p),c)c[n].disconnect()}},function(e,t,n){"use strict";var i=window;t.assign=function(e,t){return"function"!=typeof Object.assign?function(e){if(null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!==o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}(e,t):Object.assign({},e,t)},t.makeCacheNum=function(){return Math.floor(268435456*Math.random()).toString(16)},t.each=n(9),t.isStartWith=function(e,t){return 0===e.indexOf(t)},t.isEndWith=function(e,t){var n=e.length,o=t.length;return o<=n&&e.indexOf(t)==n-o},t.any=function(e,t){for(var n=e.length,o=0;o<n;o++)if(t(e[o]))return!0;return!1},t.isFunction=function(e){return"function"==typeof e},t.isArray=function(e){return Array.isArray?Array.isArray(e):/Array/.test(Object.prototype.toString.call(e))},t.isString=function(e){return"string"==typeof e},t.isNumber=function(e){return"number"==typeof e},t.isUnDefined=function(e){return void 0===e},t.isContain=function(e,t){return-1<e.indexOf(t)};function r(e){var t,n=e.constructor===Array?[]:{};if("object"==typeof e){if(i.JSON&&i.JSON.parse)t=JSON.stringify(e),n=JSON.parse(t);else for(var o in e)n[o]="object"==typeof e[o]?r(e[o]):e[o];return n}}t.cloneObj=r,t.cloneDeep=r},function(e,t,n){"use strict";var f=n(18),d=n(7),_=n(12),v=n(6),m=_.AUTO_AT_VIEW_RATE,y=_.AUTO_AT_VIEW_RATE_IN_WINDOW;t.filterStartExposureSize=function(e,t){var n,o=0,i=f.getWinPositions(),r=(d.getGoldlogVal("_aplus_auto_exp")||{})._acHashMap||{};for(n in r)for(var a=r[n]||[],u=0;u<a.length;u++){var s,l,c,p,g,h=a[u]||{};0!==h.status||!h.expConfig||function(e){for(var t;e&&"HTML"!==e.tagName&&"none"!==(t=e.style.display);)e=e.parentNode;return"none"===t}(h.element)||(g=f.getElementPosition(h.element)).width&&g.height&&(h.x=g.x,h.y=g.y,h.eventType=t,h.width=g.width,h.height=g.height,h.size=g.width*g.height,h.expConfig.positionSelector&&(s=f.getWinPositions(h.expConfig.positionSelector)),l=f.wrapViewabilityRate(s||i,h,m),c=m<=l,p=l,s&&(p=f.wrapViewabilityRate(i,h,m)),g=h.width*h.height*p,p=f.getViewabilityRateInWindow(i,g,y),g=f.checkIsRecord(h.element,h.hash_value,"_aplus_auto_exp"),(c||y<=p)&&!g&&(h.exposureTime=e,h.status=1,(g=_.getAutoExpUserFn())&&(h.userParams=v.autoUserFnHandler(g,h.element,h.elementSelector)),_.EXP_DURATION||(h.viewabilityRate=c?l:p,h.viewability=c?"intersection":"fillwindow",h.status=2),v.updateExpHashMap(n,h,"UPDATE"),++o))}return o},t.filterEndExposureSize=function(e,t){var n,o=0,i=f.getWinPositions(),r=(d.getGoldlogVal("_aplus_auto_exp")||{})._acHashMap||{};for(n in r)for(var a=r[n]||[],u=0;u<a.length;u++){var s,l,c,p,g,h=a[u]||{};1===h.status&&h.exposureTime===e&&h.expConfig&&(h.eventType=t,h.expConfig.positionSelector&&(s=f.getWinPositions(h.expConfig.positionSelector)),l=f.checkIsRecord(h.element,h.hash_value,"_aplus_auto_exp"),c=f.wrapViewabilityRate(s||i,h,m),p=m<=c,g=c,s&&(g=f.wrapViewabilityRate(i,h,m)),g=h.width*h.height*g,g=f.getViewabilityRateInWindow(i,g,y),(p||y<=g)&&!l?(h.viewabilityRate=p?c:g,h.viewability=p?"intersection":"fillwindow",h.status=2,v.updateExpHashMap(n,h,"UPDATE"),++o):(h.status=0,h.exposureTime="",v.updateExpHashMap(n,h,"UPDATE")))}return o}},function(e,t,n){"use strict";function o(e){var t="APLUS_AE_EXPOSURE_CHANGE",n=e&&e.type?e.type:"init",o=(new Date).getTime(),i=a.filterStartExposureSize(o,n,!1);0<i&&(s.EXP_DURATION?setTimeout(function(){0<(i=a.filterEndExposureSize(o,n))&&goldlog.aplus_pubsub.publish(t,{size:i,eventType:n})},s.EXP_DURATION):goldlog.aplus_pubsub.publish(t,{size:i,eventType:n}))}function i(e,t){e&&e.forEach&&Object.keys&&document.querySelector&&(e.forEach(function(e){e.positionSelector&&document.querySelector(e.positionSelector)&&(c[e.positionSelector]=!0)}),Object.keys(c).forEach(function(e){r[t]&&r[t](document.querySelector(e),"scroll",function(e){l(e)})}))}var r=n(16),a=n(21),u=n(6),s=n(12),l=u.throttle(function(e){o(e)},100),c={};t.watch_exposure_change=function(e){goldlog.aplus_pubsub.subscribe("APLUS_AE_DOM_CHANGE",o),r.on(window,"touchmove",l),r.on(window,"scroll",l),r.on(window,"resize",o),i(e,"on")},t.clear=function(e){r.un(window,"touchmove",l),r.un(window,"scroll",l),r.un(window,"resize",o),i(e,"un")}},function(e,t,n){"use strict";function d(e,t,n){var o,i="0";return n?"spmc"===e&&(i=(o=n.split("."))[2]||o[3],/^(\i|\d)[0-9]+$/.test(i)&&(i="0"),n=[o[0],o[1],i].join(".")):(n="","function"==typeof(o=window.g_SPM||{}).getParam&&(o=o.getParam(t),n="spmc"===e?(i=t.getAttribute("data-spm")||"0",[o.a,o.b,i].join(".")):[o.a,o.b,o.c,o.d].join("."))),n}function o(u){var e=(l.getGoldlogVal("_aplus_auto_exp")||{})._acHashMap||{},s=[];c(e,function(e,t){for(var n=p(t)||[],o=0,i=n.length;o<i;o++){var r=n[o]||{},a=t[o]||{};if(3===r.status)try{m.setRecordSuccess(a,y.DATA_APLUS_AE_KEY),goldlog.aplus_pubsub.publish("APLUS_ELEMENT_EXPOSURE",{logkey:e,v_origin:a,options:u}),s.push(a)}catch(e){v.logger({msg:e&&e.message})}}for(;0<s.length;)m.updateExpHashMap(e,s.pop(),"CLEAR")})}function i(e){var r,a,t,u,p,g,h,f,n;0<e.size&&(p=v.isDebugAplus(),g={},h=y.getDefaultRequestCfg(),f=l.getGoldlogVal("_aplus_auto_exp")||{},n=f._acHashMap||{},c(n,function(e,t){for(var n=t||[],o=0,i=n.length;o<i;o++){var r=n[o]||{};if(2===r.status){r.status=3,m.updateExpHashMap(e,r,"UPDATE"),f.exp_times++;var a=r.expConfig||{},u=goldlog.spm_ab?goldlog.spm_ab.join("."):"0.0.0.0",s=d(a.eltype,r.element)||u,l="";try{var c=new Number(r.viewabilityRate).toFixed(2)}catch(e){c=r.viewabilityRate}u={_w:r.width,_h:r.height,_x:r.x,_y:r.y,_rate:c,_viewability:r.viewability};"object"==typeof r.userParams&&("object"==typeof r.userParams.userdata&&(u=_.assign(u,r.userParams.userdata)),r.userParams.spm&&(s=d(a.eltype,"",r.userParams.spm)),r.userParams.scm&&(l=r.userParams.scm)),(m.isMethod(a.method)||m.isPkgSize(a.pkgSize))&&(h=m.filterExpConfigRequestCfg(a));m.fillPropsData(a,r.element,u);s={exargs:m.fillFilterData(a,r.element,u),scm:l,spm:s,aplusContentId:""};g[e]||(g[e]=[]),g[e].push(s),p&&v.logger({msg:"logkey = "+e+", params = "+decodeURIComponent(JSON.stringify(s))})}}}),r=e,a=o,t=(e={logkeyContainer:g,request_cfg:h}).logkeyContainer||[],u=e.request_cfg||{},s.wrap(function(){c(t,function(e,t){if(t&&0<t.length){for(var n=0;n<t.length;){var o=[],i=JSON.stringify(t.slice(n,n+u.pkgSize));o.push("expdata="+i),o.push("_is_auto_exp=1"),o.push("_eventType="+r.eventType),o.push("_method="+u.method),o.push("_pkgSize="+u.pkgSize),goldlog.record(e,"EXP",o.join("&"),u.method||"POST"),n+=u.pkgSize}a(r)}})},"recordAplusAt"))}var s=n(2),_=n(20),l=n(7),v=n(3),c=n(10),m=n(6),y=n(12),p=function(e){for(var t=[],n=0,o=e.length;n<o;n++){var i=e[n]||{},r={};c(i,function(e,t){"element"!==e&&(r[e]=t)});var a=_.cloneObj(r);a.element=i.element,t.push(a)}return t};t.watch_data_change=function(){goldlog.aplus_pubsub.subscribe("APLUS_AE_EXPOSURE_CHANGE",i)},t.clear=function(){goldlog.aplus_pubsub.unsubscribe("APLUS_AE_EXPOSURE_CHANGE",i)}}]);

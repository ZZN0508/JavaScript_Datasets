var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Metrics=function(){"use strict";var r={};return{logMetric:function(e,t){r[e]=t||new Date},sendMetrics:function(e){if(ace.analytics.Metrics.loadTimestamp){for(var t in r)r.hasOwnProperty(t)&&0<r[t]&&(r[t]=r[t]-ace.analytics.Metrics.loadTimestamp);var n=ace.analytics.Cohort.readAtlCohort(),e={event:"metrics",eventComponent:"atlGlobal",metrics:r,atlJSVersion:ace.analytics.version,cohort:n?n.bucketAll.index:null,host:e?e.hostFake:window.location.host,path:e?e.pathFake:window.location.pathname,pageViewId:ace.analytics.Tracking.getPageViewId()};ace.analytics.GASv3.sendUIEvent("",e,!0),r={}}},resetMetrics:function(){r={}},METRICS_KEYS:{TIME_TO_LOAD:"timeToLoad",TIME_TO_SEGMENT_LOAD:"timeToSegmentLoad",TIME_TO_AVAILABLE:"timeToAvailable",TIME_TO_READY:"timeToReady",TIME_TO_START_LOAD_XID:"timeToStartLoadXID",TIME_TO_START_GET_XID:"timeToStartGetXID",TIME_TO_LOAD_XID:"timeToLoadXID"}}}();var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.Cookie=function(){"use strict";return{getCookieUrl:function(e,t){return null!==(e=ace.mkt.Cookie.readCookie(e))?e:t},readCookie:function(e){try{for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}catch(e){}return null},writeCookie:function(e,t,n,r){ace.mkt.Cookie.writeCookieInSeconds(e,t,n?24*n*60*60:null,r)},writeCookieInSeconds:function(e,t,n,r){try{var i,a="";n&&((i=new Date).setTime(i.getTime()+1e3*n),a="; expires="+i.toGMTString());var o,c,s,u=e+"="+t+a+"; path=/;",l=window.location.hostname;"localhost"!==l&&!0===r&&(1<(o=l.split(".")).length&&(c=o[o.length-1],s=o[o.length-2],(isNaN(c)||isNaN(s))&&(l="."+s+"."+c)),u+=" domain="+l+";"),document.cookie=u}catch(e){}}}}();var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.Guid=function(){"use strict";var e,t;return e=this,t=function(){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);for(var c=[],e=0;e<256;++e)c.push((e+256).toString(16).substr(1));return function(e,t,n){var r=(e=e||{}).random||(e.rng||function(){if(!a)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(o)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return(c[r[0]]+c[r[1]]+c[r[2]]+c[r[3]]+"-"+c[r[4]]+c[r[5]]+"-"+c[r[6]]+c[r[7]]+"-"+c[r[8]]+c[r[9]]+"-"+c[r[10]]+c[r[11]]+c[r[12]]+c[r[13]]+c[r[14]]+c[r[15]]).toLowerCase()}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).uuidv4=t(),{guid:function(){try{return uuidv4()}catch(e){return Math.guid()}},guidNoDashes:function(){return uuidv4().replace(/-/g,"")},addNumberToGUID:function(e,t){var n=e.slice(-4),r=parseInt(n,16);if(isNaN(r))return e;var i=r.toString(16).length;return 65535<(r+=t)?r-=65536:r<0&&(r+=65536),(n=r.toString(16)).length<i&&(n=("00000"+n).slice(-i)),e.slice(0,e.length-n.length)+n},guidHashCode:function(e){for(var t=0,n=0;n<e.length;n++)t+=Math.pow(31*e.charCodeAt(n),e.length-n),t&=t;return Math.abs(t)}}}();var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.Helpers=function(){"use strict";var t=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i,n="/path-contained-email-address",r={LOCAL:"local",DEV:"dev",STAGE:"stage",PROD:"prod"};function e(){try{var e="atl-global",t=".min.js",n=document.querySelector('script[src*="'+e+t+'"]');if(n||(t=".js",n=document.querySelector('script[src*="'+e+t+'"]')),!n){var r=window.location&&window.location.href||null;return ace.mkt.Helpers.logEvent("OwkfO6MbQAZAEBuW9CxxAgyahOi8I51r","error","getScript returns default",{location:r}),{source:"https://atl-global.atlassian.com/js/",extension:".min.js"}}var i=n.src.indexOf(e+t);return{source:n.src.substring(0,i),extension:t}}catch(e){return null}}function i(){var e=function(){for(var e,t=document.getElementsByTagName("link"),n=0;e=t[n];n++)if("canonical"===e.getAttribute("rel"))return e.getAttribute("href")}();if(e)return e;var t=window.location.href,e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function a(e){return decodeURIComponent(e).match(t)}function o(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.host}function c(e){return Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim()?null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()):e=Number(e),e}return window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),{addActualUrl:function(e){window.location.href!==i()&&(e.url?e.actualUrl=e.url:e.actualUrl=window.location.href)},addLoadEvent:function(e){var t;"complete"===document.readyState?e():window.addEventListener?window.addEventListener("load",e,!1):window.attachEvent?window.attachEvent("onload",e):(t=window.onload,window.onload=function(){t&&t(),e()})},ENVIRONMENT:r,getScript:e,getParameterByName:function(e){return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null===(e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search))?"":decodeURIComponent(e[1].replace(/\+/g," "))},getBaseUrl:function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},getEnvironment:function(){var e=ace.mkt.Helpers.getScript();if(e&&e.source){e=e.source;if(e.match("localhost:")||e.match("127.0.0.1:"))return r.LOCAL;if(e.match("/stp/qa/")||e.match("atl-global.stg"))return r.STAGE;if(e.match("/stp/current/")||e.match("atl-global.atlassian"))return r.PROD}return r.DEV},getUtms:function(e){if(-1===window.location.search.indexOf("utm_"))return null;for(var t in e)e.hasOwnProperty(t)&&(e[t]=ace.mkt.Helpers.getParameterByName(t));return e},getCanonicalUrl:i,urlWithoutPath:o,urlContainsEmail:a,addCleanedUrlAndPaths:function(e){return e.url=window.location.origin+n,e.path=n,e.search="",e},addCleanedReferrer:function(e){return e.referrer=o(document.referrer)+n,e},emailAddressIsDetected:function(){return a(window.location.href)||a(document.referrer)},endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)},hostnameFromUrl:function(e){return e.replace(/http(s|):\/\//g,"").split(/(\/|:)/g)[0]},isObject:function(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)},flattenObject:function(e,u){var l=(u=u||{}).delimiter||".",d=u.maxDepth,f={};return function a(o,c,s){s=s||1,Object.keys(o).forEach(function(e){var t=o[e],n=u.safe&&Array.isArray(t),r=Object.prototype.toString.call(t),i=null!==(i=t)&&null!==i.constructor&&"function"==typeof i.constructor.isBuffer&&i.constructor.isBuffer(i),e=c?c+l+e:e;if(!n&&!i&&("[object Object]"===r||"[object Array]"===r)&&Object.keys(t).length&&(!u.maxDepth||s<d))return a(t,e,s+1);f[e]=t})}(e),f},flattenDataToObject:function(t,e,n){var r={};return r[e]=ace.mkt.Helpers.flattenObject(n),r=ace.mkt.Helpers.flattenObject(r),Object.keys(r).forEach(function(e){t[e]=r[e]}),t},logEvent:function(e,t,n,r,i){ace.mkt.Helpers.makeRestRequest("POST","https://api.segment.io/v1/t",[{header:"Content-type",value:"text/plain"}],JSON.stringify({userId:t,event:n,properties:r,writeKey:e}),!1,null,i)},makeRestRequest:function(e,t,n,r,i,a,o){var c=o||new XMLHttpRequest;if(c.open(e,t),c.withCredentials=i||!1,n)for(var s=0;s<n.length;s++)c.setRequestHeader(n[s].header,n[s].value);r=r||null,c.onreadystatechange=function(){c.readyState===XMLHttpRequest.DONE&&(200<=c.status&&c.status<300?a&&a(c.responseText):a&&a("error"))},c.send(r)},queryString:function(e){var n={};if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(var t=e.split("&"),r=0;r<t.length;r++){t[r]=t[r].replace(/\+/g," ");var i=t[r].indexOf("="),a=t[r],o=void 0;0<=i&&(a=t[r].slice(0,i),o=t[r].slice(i+1));try{o=void 0===o?null:decodeURIComponent(o),a=decodeURIComponent(a)}catch(e){}void 0===n[a]?n[a]=o:n[a]=[].concat(n[a],o)}return Object.keys(n).forEach(function(e){var t=n[e];"object"==typeof t&&null!==t?Object.keys(t).forEach(function(e){t[e]=c(t[e])}):n[e]=c(t)}),n},sendWrapperLoadError:function(e,t){var n,r;ace.analytics.LaunchDarkly.getFeatureFlagForUser("load-error-logging")&&((r=ace.mkt.Cookie.readCookie("ajs_anonymous_id"))&&(n=decodeURIComponent(r).replace(/['"]+/g,"")),r=ace.mkt.Cookie.readCookie("__aid_user_id"),e={anonymousId:n||null,userId:decodeURIComponent(r)||null,xid:ace.mkt.Cookie.readCookie("seg_xid")||null,message:e||null,version:ace.analytics.version||null,additionalData:t||null},t=ace.mkt.Helpers.getEnvironment()===ace.mkt.Helpers.ENVIRONMENT.PROD?"https://www.atlassian.com/endpoint/atlglobalload":"https://wac.stg.internal.atlassian.com/endpoint/atlglobalload",ace.mkt.Helpers.makeRestRequest("POST",t,[{header:"Content-type",value:"application/json"},{header:"accept",value:"*/*"}],JSON.stringify(e),!1))},getWrapperScript:e}}(),Math.trueRandom=function(){function s(){function e(e){e=e.toString();for(var t=0;t<e.length;t++){var n=.02519603282416938*(r+=e.charCodeAt(t));n-=r=n>>>0,r=(n*=r)>>>0,r+=4294967296*(n-=r)}return 2.3283064365386963e-10*(r>>>0)}var r=4022871197;return e.version="Mash 0.9",e}return function(){return function(e){var t=0,n=0,r=0,i=1;0==e.length&&(e=[+new Date]);for(var t=(c=s())(" "),n=c(" "),r=c(" "),a=0;a<e.length;a++)(t-=c(e[a]))<0&&(t+=1),(n-=c(e[a]))<0&&(n+=1),(r-=c(e[a]))<0&&(r+=1);function o(){var e=2091639*t+2.3283064365386963e-10*i;return t=n,n=r,r=e-(i=0|e)}var c=null;return o.uint32=function(){return 4294967296*o()},o.fract53=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.version="Alea 0.9",o.args=e,o}(Array.prototype.slice.call(arguments))}()}(),Math.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.trueRandom()|0;return("x"==e?t:3&t|8).toString(16)})};var globalRequire=function(){"use strict";var require={},requirejs,define;return function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e)for(var n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}function eachReverse(e,t){if(e)for(var n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));--n);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){for(var n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(n,e,r,i){return e&&eachProp(e,function(e,t){!r&&hasProp(n,t)||(!i||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?n[t]=e:(n[t]||(n[t]={}),mixin(n[t],e,r,i)))}),n}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){t=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return t.requireType=e,t.requireModules=r,n&&(t.originalError=n),t}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,a=defContextName;return isArray(e)||"string"==typeof e||(i=e,isArray(t)?(e=t,t=n,n=r):e=[]),i&&i.context&&(a=i.context),r=(r=getOwn(contexts,a))||(contexts[a]=req.s.newContext(a)),i&&r.configure(i),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require=require||req,req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(t,n,r){var e,i=t&&t.config||{};if(isBrowser)return(e=req.createNode(i,n,r)).setAttribute("data-requirecontext",t.contextName),e.setAttribute("data-requiremodule",n),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",t.onScriptLoad,!1),e.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",t.onScriptLoad)),e.src=r,i.onNodeCreated&&i.onNodeCreated(e,i,n,r),currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{setTimeout(function(){},0),importScripts(r),t.completeLoad(n)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+n+" at "+r,e,[n]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head=head||e.parentNode,dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(mainScript=(src=mainScript.split("/")).pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,n,t){var r,i;"string"!=typeof e&&(t=n,n=e,e=null),isArray(n)||(t=n,n=null),!n&&isFunction(t)&&(n=[],t.length&&(t.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,t){n.push(t)}),n=(1===t.length?["require"]:["require","exports","module"]).concat(n))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e=e||r.getAttribute("data-requiremodule"),i=contexts[r.getAttribute("data-requirecontext")]),i?(i.defQueue.push([e,n,t]),i.defQueueMap[e]=!0):globalDefQueue.push([e,n,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(s){var t,e,f,u,n,m={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},l={},d={},r={},p=[],h={},i={},g={},y=1,v=1;function w(e,t,n){var r,i,a,o,c,s,u,l,d,f=t&&t.split("/"),p=m.map,h=p&&p["*"];if(e&&(t=(e=e.split("/")).length-1,m.nodeIdCompat&&jsSuffixRegExp.test(e[t])&&(e[t]=e[t].replace(jsSuffixRegExp,"")),function(e){for(var t,n=0;n<e.length;n++)"."===(t=e[n])?(e.splice(n,1),--n):".."===t&&(0===n||1===n&&".."===e[2]||".."===e[n-1]||0<n&&(e.splice(n-1,2),n-=2))}(e="."===e[0].charAt(0)&&f?f.slice(0,f.length-1).concat(e):e),e=e.join("/")),n&&p&&(f||h)){e:for(a=(i=e.split("/")).length;0<a;--a){if(c=i.slice(0,a).join("/"),f)for(o=f.length;0<o;--o)if(r=getOwn(p,f.slice(0,o).join("/")),r=r&&getOwn(r,c)){s=r,u=a;break e}!l&&h&&getOwn(h,c)&&(l=getOwn(h,c),d=a)}!s&&l&&(s=l,u=d),s&&(i.splice(0,u,s),e=i.join("/"))}return getOwn(m.pkgs,e)||e}function b(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===f.contextName)return e.parentNode.removeChild(e),!0})}function k(e){var t=getOwn(m.paths,e);return t&&isArray(t)&&1<t.length&&(t.shift(),f.require.undef(e),f.makeRequire(null,{skipMap:!0})([e]),1)}function x(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e,t,n,r){var i,a,o,c=null,s=t?t.name:null,u=e,l=!0,d="";return e||(l=!1,e="_@r"+(y+=1)),c=(o=x(e))[0],e=o[1],c&&(c=w(c,s,r),a=getOwn(h,c)),e&&(c?d=n?e:a&&a.normalize?a.normalize(e,function(e){return w(e,s,r)}):-1===e.indexOf("!")?w(e,s,r):e:(c=(o=x(d=w(e,s,r)))[0],d=o[1],n=!0,i=f.nameToUrl(d))),{prefix:c,name:d,parentMap:t,unnormalized:!!(n=!c||a||n?"":"_unnormalized"+(v+=1)),url:i,originalName:u,isDefine:l,id:(c?c+"!"+d:d)+n}}function S(e){var t=e.id;return getOwn(l,t)||(l[t]=new f.Module(e))}function O(e,t,n){var r=e.id,i=getOwn(l,r);!hasProp(h,r)||i&&!i.defineEmitComplete?(i=S(e)).error&&"error"===t?n(i.error):i.on(t,n):"defined"===t&&n(h[r])}function M(t,e){var n=t.requireModules,r=!1;e?e(t):(each(n,function(e){e=getOwn(l,e);e&&(e.error=t,e.events.error&&(r=!0,e.emit("error",t)))}),r||req.onError(t))}function T(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(f.defQueueMap[t]=!0),p.push(e)}),globalDefQueue=[])}function I(e){delete l[e],delete d[e]}function A(){var r,e=1e3*m.waitSeconds,i=e&&f.startTime+e<(new Date).getTime(),a=[],o=[],c=!1,s=!0;if(!t){if(t=!0,eachProp(d,function(e){var t=e.map,n=t.id;if(e.enabled&&(t.isDefine||o.push(e),!e.error))if(!e.inited&&i)k(n)?c=r=!0:(a.push(n),b(n));else if(!e.inited&&e.fetched&&t.isDefine&&(c=!0,!t.prefix))return s=!1}),i&&a.length)return(e=makeError("timeout","Load timeout for modules: "+a,null,a)).contextName=f.contextName,M(e),0;s&&each(o,function(e){!function r(i,a,o){var e=i.map.id;i.error?i.emit("error",i.error):(a[e]=!0,each(i.depMaps,function(e,t){var n=e.id,e=getOwn(l,n);!e||i.depMatched[t]||o[n]||(getOwn(a,n)?(i.defineDep(t,h[n]),i.check()):r(e,a,o))}),o[e]=!0)}(e,{},{})}),i&&!r||!c||!isBrowser&&!isWebWorker||n||(n=setTimeout(function(){n=0,A()},50)),t=!1}}function o(e){hasProp(h,e[0])||S(E(e[0],null,!0)).init(e[1],e[2])}function a(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function c(e){e=e.currentTarget||e.srcElement;return a(e,f.onScriptLoad,"load","onreadystatechange"),a(e,f.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function q(){var e;for(T();p.length;){if(null===(e=p.shift())[0])return M(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1])),0;o(e)}f.defQueueMap={}}return u={require:function(e){return e.require||(e.require=f.makeRequire(e.map))},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?h[e.map.id]=e.exports:e.exports=h[e.map.id]={}},module:function(e){return e.module||(e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(m.config,e.map.id)||{}},exports:e.exports||(e.exports={})})}},(e=function(e){this.events=getOwn(r,e.id)||{},this.map=e,this.shim=getOwn(m.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,--this.depCount,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,f.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();f.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;i[e]||(i[e]=!0,f.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var t,n,e=this.map.id,r=this.depExports,i=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=f.execCb(e,a,r,i)}catch(e){t=e}else i=f.execCb(e,a,r,i);if(this.map.isDefine&&void 0===i&&((r=this.module)?i=r.exports:this.usingExports&&(i=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",M(this.error=t)}else i=a;this.exports=i,this.map.isDefine&&!this.ignore&&(h[e]=i,req.onResourceLoad&&(n=[],each(this.depMaps,function(e){n.push(e.normalizedMap||e)}),req.onResourceLoad(f,this.map,n))),I(e),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(f.defQueueMap,e)||this.fetch()}},callPlugin:function(){var c=this.map,s=c.id,e=E(c.prefix);this.depMaps.push(e),O(e,"defined",bind(this,function(e){var a,t,n=getOwn(g,this.map.id),r=this.map.name,i=this.map.parentMap?this.map.parentMap.name:null,o=f.makeRequire(c.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(e.normalize&&(r=e.normalize(r,function(e){return w(e,i,!0)})||""),O(t=E(c.prefix+"!"+r,this.map.parentMap,!0),"defined",bind(this,function(e){this.map.normalizedMap=t,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((r=getOwn(l,t.id))&&(this.depMaps.push(t),this.events.error&&r.on("error",bind(this,function(e){this.emit("error",e)})),r.enable()))):n?(this.map.url=f.nameToUrl(n),void this.load()):((a=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,(this.error=e).requireModules=[s],eachProp(l,function(e){0===e.map.id.indexOf(s+"_unnormalized")&&I(e.map.id)}),M(e)}),a.fromText=bind(this,function(e,t){var n=c.name,r=E(n),i=useInteractive;t&&(e=t),i&&(useInteractive=!1),S(r),hasProp(m.config,s)&&(m.config[n]=m.config[s]);try{req.exec(e)}catch(e){return M(makeError("fromtexteval","fromText eval for "+s+" failed: "+e,e,[s]))}i&&(useInteractive=!0),this.depMaps.push(r),f.completeLoad(n),o([n],a)}),void e.load(c.name,o,a,m))})),f.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){(d[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r;if("string"==typeof e){if(e=E(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(u,e.id))return void(this.depExports[t]=r(this));this.depCount+=1,O(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?O(e,"error",bind(this,this.errback)):this.events.error&&O(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=l[n],hasProp(u,n)||!r||r.enabled||f.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(l,e.id);t&&!t.enabled&&f.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){(this.events[e]||(this.events[e]=[])).push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(f={config:m,contextName:s,registry:l,defined:h,urlFetched:i,defQueue:p,defQueueMap:{},Module:e,makeModuleMap:E,nextTick:req.nextTick,onError:M,configure:function(e){var n;e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs&&(n=e.urlArgs,e.urlArgs=function(e,t){return(-1===t.indexOf("?")?"?":"&")+n});var r=m.shim,i={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?(m[t]||(m[t]={}),mixin(m[t],e,!0,!0)):m[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(g[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){!(e=isArray(e)?{deps:e}:e).exports&&!e.init||e.exportsFn||(e.exportsFn=f.makeShimExports(e)),r[t]=e}),m.shim=r),e.packages&&each(e.packages,function(e){var t=(e="string"==typeof e?{name:e}:e).name;e.location&&(m.paths[t]=e.location),m.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(l,function(e,t){e.inited||e.map.unnormalized||(e.map=E(t,null,!0))}),(e.deps||e.callback)&&f.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;return(e=t.init?t.init.apply(global,arguments):e)||t.exports&&getGlobal(t.exports)}},makeRequire:function(a,o){function c(e,t,n){var r,i;return o.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof e?isFunction(t)?M(makeError("requireargs","Invalid require call"),n):a&&hasProp(u,e)?u[e](l[a.id]):req.get?req.get(f,e,a,c):(r=E(e,a,!1,!0).id,hasProp(h,r)?h[r]:M(makeError("notloaded",'Module name "'+r+'" has not been loaded yet for context: '+s+(a?"":". Use require([])")))):(q(),f.nextTick(function(){q(),(i=S(E(null,a))).skipMap=o.skipMap,i.init(e,t,n,{enabled:!0}),A()}),c)}return o=o||{},mixin(c,{isBrowser:isBrowser,toUrl:function(e){var t,n=e.lastIndexOf("."),r=e.split("/")[0];return-1!==n&&(!("."===r||".."===r)||1<n)&&(t=e.substring(n,e.length),e=e.substring(0,n)),f.nameToUrl(w(e,a&&a.id,!0),t,!0)},defined:function(e){return hasProp(h,E(e,a,!1,!0).id)},specified:function(e){return e=E(e,a,!1,!0).id,hasProp(h,e)||hasProp(l,e)}}),a||(c.undef=function(n){T();var e=E(n,a,!0),t=getOwn(l,n);t.undefed=!0,b(n),delete h[n],delete i[e.url],delete r[n],eachReverse(p,function(e,t){e[0]===n&&p.splice(t,1)}),delete f.defQueueMap[n],t&&(t.events.defined&&(r[n]=t.events),I(n))}),c},enable:function(e){getOwn(l,e.id)&&S(e).enable()},completeLoad:function(e){var t,n,r,i=getOwn(m.shim,e)||{},a=i.exports;for(T();p.length;){if(null===(n=p.shift())[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);o(n)}if(f.defQueueMap={},r=getOwn(l,e),!t&&!hasProp(h,e)&&r&&!r.inited){if(!(!m.enforceDefine||a&&getGlobal(a)))return k(e)?void 0:M(makeError("nodefine","No define call for "+e,null,[e]));o([e,i.deps||[],i.exportsFn])}A()},nameToUrl:function(e,t,n){var r,i,a,o,c,s=getOwn(m.pkgs,e);if(s=getOwn(g,e=s?s:e))return f.nameToUrl(s,t,n);if(req.jsExtRegExp.test(e))o=e+(t||"");else{for(r=m.paths,a=(i=e.split("/")).length;0<a;--a)if(c=getOwn(r,i.slice(0,a).join("/"))){isArray(c)&&(c=c[0]),i.splice(0,a,c);break}o=i.join("/"),o=("/"===(o+=t||(/^data\:|^blob\:|\?/.test(o)||n?"":".js")).charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":m.baseUrl)+o}return m.urlArgs&&!/^blob\:/.test(o)?o+m.urlArgs(e,o):o},load:function(e,t){req.load(f,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){"load"!==e.type&&!readyRegExp.test((e.currentTarget||e.srcElement).readyState)||(interactiveScript=null,e=c(e),f.completeLoad(e.id))},onScriptError:function(e){var n=c(e);if(!k(n.id)){var r=[];return eachProp(l,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===n.id)return r.push(t),!0})}),M(makeError("scripterror",'Script error for "'+n.id+(r.length?'", needed by: '+r.join(", "):'"'),e,[n.id]))}}}).require=f.makeRequire(),f}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),{require:require,define:define,config:require.config}}(),ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Cohort=function(){"use strict";var n="atlCohort",i="2",a=["index","bucketedAtUTC","version","bucketId"],o={bucketAll:{bucketId:0}};function t(){var e,t=ace.mkt.Cookie.readCookie(n);try{return e=JSON.parse(t),ace.mkt.Helpers.isObject(e)?e:null}catch(e){return null}}function c(r){return Object.keys(o).filter(function(e){return t=e,n=r,!(ace.mkt.Helpers.isObject(n)&&void 0!==n[t]&&ace.mkt.Helpers.isObject(n[t])&&a.every(function(e){return void 0!==n[t][e]}));var t,n})}return{ATL_COHORT:n,COHORT_VERSION:i,readWriteAtlCohort:function(e){var r=!e&&t()||{};return(e=c(r)).length&&(e.forEach(function(e){var t,n;r[e]=(t=o[e=e],e=ace.analytics.SegmentIO.getAnonymousId(),(n={bucketedAtUTC:(new Date).toISOString(),version:i}).index=e?ace.mkt.Guid.guidHashCode(ace.mkt.Guid.addNumberToGUID(e,t.bucketId))%100:Math.ceil(100*Math.random()),Object.keys(t).forEach(function(e){n[e]=t[e]}),n)}),e=r,ace.mkt.Helpers.isObject(e)&&ace.mkt.Cookie.writeCookie(n,JSON.stringify(e),3650,!0),r=t()),r},readAtlCohort:t}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Loader=function(){"use strict";return{loadVersion:function(e,t,n,r){var i=document.createElement("script"),a=ace.mkt.Helpers.getScript();i.onload=function(){t&&"function"==typeof t&&t()},i.onerror=function(){n&&"function"==typeof n&&n(e)};var o=a.source+e+"/atl-global-"+e+a.extension;ace.analytics.Loader.checkForFile(o,function(){i.src=o,document.head.appendChild(i),ace.analytics.version=e},function(){i.src=a.source+ace.analytics.version+"/atl-global-"+ace.analytics.version+a.extension,document.head.appendChild(i)},r)},checkForFile:function(e,t,n,r){var i=r||new XMLHttpRequest;i.open("HEAD",e),i.setRequestHeader("Content-type","text/plain"),i.send(),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200<=i.status&&i.status<300?t:n)()}}}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.LaunchDarkly=function(){"use strict";var i,a,o;return{getFeatureFlagForUser:function(e,t,n){return a||n?(n||a).variation(e,t):null},initLaunchDarkly:function(e,t,n){var r;i||n?(r={key:"marketingEngineering",custom:{cohort:(r=ace.analytics.Cohort.readAtlCohort())?r.bucketAll.index:null,location:window.location?window.location.href:null}},o=new Map([[ace.mkt.Helpers.ENVIRONMENT.LOCAL,"5afa3d7607a72221591aeb72"],[ace.mkt.Helpers.ENVIRONMENT.DEV,"5afa3d7607a72221591aeb72"],[ace.mkt.Helpers.ENVIRONMENT.STAGE,"5afa4f0707a72221591aecfd"],[ace.mkt.Helpers.ENVIRONMENT.PROD,"5afa3d7607a72221591aeb73"]]),(a=(n||i).initialize(o.get(ace.mkt.Helpers.getEnvironment()),r,{bootstrap:"localStorage"})).on("ready",function(){e&&"function"==typeof e&&e()}),a.on("error",function(){t&&"function"==typeof t&&t()})):t&&"function"==typeof t&&t()},loadLDSDK:function(t,n){var e=ace.mkt.Helpers.getScript();e&&e.source?(globalRequire.config({baseUrl:e.source}),globalRequire.require(["ld/ldclient.min","ld/ldclient-common.min"],function(e){i=e,t&&"function"==typeof t&&t()},function(e){n&&"function"==typeof n&&n(e)})):n&&"function"==typeof n&&n()}}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.MethodQueue=function(){"use strict";function a(e){var t=e.module,n=e.method,e=e.args;window.ace.analytics[t]&&window.ace.analytics[t][n]&&window.ace.analytics[t][n].apply(window.ace.analytics[t],e)}return{getWrapperMethods:function(){for(var e=[["Gtm","initialize",!0],["Gtm","page",!1],["Gtm","track",!1],["Identity","autoIdentify",!1],["Identity","identify",!1],["Initializer","globalCallReady",!0],["Initializer","initWithPageAnalytics",!0],["Initializer","initAnalytics",!0],["Initializer","init",!0],["Initializer","autoTrack",!0],["Initializer","gaIntegration",!0],["Initializer","initGAS",!0],["Initializer","initSnowplow",!0],["Initializer","setXID",!0,!0],["Optimizely","getCampaigns",!1],["Optimizely","getDemandbase",!1],["Optimizely","getExperimentAndVariationPairs",!1],["Optimizely","getVisitorId",!1],["Optimizely","isDemandbaseAvailable",!1],["Optimizely","isInitialized",!1],["SegmentIO","getAnonymousId",!1],["SegmentIO","getXID",!1],["SegmentIO","initSegment",!0],["SegmentIO","isInitialized",!1],["SegmentIO","isSegmentUserAvailable",!1],["SegmentIO","segmentDoReady",!0],["SegmentIO","ready",!0],["SegmentIO","stubSegmentMethods",!0],["SegmentIO","trackEvent",!1],["SegmentIO","trackPage",!1],["SegmentIO","wrapSegment",!1],["Snowplow","loadSnowplow",!0],["Snowplow","trackPageView",!1],["Snowplow","trackSelfDescribingEvent",!1],["Tracking","autoTrackButtons",!1],["Tracking","autoTrackLinks",!1],["Tracking","autoTrackVideos",!1],["Tracking","enrichEventData",!1],["Tracking","logError",!1],["Tracking","pageView",!1],["Tracking","trackEvent",!1],["Tracking","trackUnloadEvent",!1],["Tracking","readWriteSessionCookie",!1]],t=new Map,n=0;n<e.length;n++){var r=e[n][0],i=t.get(r);(i=i||[]).push({name:e[n][1],initMethod:e[n][2],critical:e[n][3]}),t.set(r,i)}return t},replayMethodQueue:function e(t,n,r){t&&!n&&e(t,!0,r);for(var i=window.ace.analytics.methodQueue.length-1;0<=i;i--)t&&!window.ace.analytics.methodQueue[i].initMethod||n&&!window.ace.analytics.methodQueue[i].critical||((r||a)(window.ace.analytics.methodQueue[i]),window.ace.analytics.methodQueue.splice(i,1))},stubWrapperMethods:function(e,c){var t=window.ace.analytics.MethodQueue.getWrapperMethods();window.ace.analytics.methodQueue=[];var s=e||function(t,n,r,i){return function(){var e=Array.prototype.slice.call(arguments);return window.ace.analytics.methodQueue.unshift({module:t,method:n,args:e,initMethod:r,critical:i}),window.ace.analytics.methodQueue}};t.forEach(function(e,t){for(var n=0;n<e.length;n++){var r=e[n].name,i=e[n].initMethod,a=e[n].critical,o=c||window.ace.analytics;o[t]=o[t]||{},r&&(o[t][r]=s(t,r,i,a))}})},stubSegmentMethods:function(){var n=window.analytics=window.analytics||[];n.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],n.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);return e.unshift(t),n.push(e),n}};for(var e=0;e<n.methods.length;e++){var t=n.methods[e];n[t]=n.factory(t)}}}}();var ace=ace||{};function getAtlGlobalVersion(e){"use strict";ace.analytics.LaunchDarkly.loadLDSDK(function(){ace.analytics.LaunchDarkly.initLaunchDarkly(function(){e(ace.analytics.LaunchDarkly.getFeatureFlagForUser("atl-global-phased-roll-out"))},function(){e(ace.analytics.version)})},function(){e(ace.analytics.version)})}function loadAtlGlobal(){"use strict";ace.analytics.MethodQueue.stubWrapperMethods(),ace.analytics.MethodQueue.stubSegmentMethods(),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_AVAILABLE),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_START_LOAD_XID),globalRequire.require(["xid/atl-xid"],function(e){var t;window.atl&&window.atl.XID&&(t=new window.atl.XID("prod"),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_START_GET_XID),t.getXidPromise().then(function(e){ace.analytics.Initializer.setXID(e),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_LOAD_XID)}))}),getAtlGlobalVersion(function(e){window.metricsReady=function(){ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_READY),ace.analytics.Metrics.sendMetrics()},ace.analytics.Loader.loadVersion(e,function(){var e=ace.analytics.LaunchDarkly.getFeatureFlagForUser("atl-global-destination-trigger")||"segment",t=ace.analytics.LaunchDarkly.getFeatureFlagForUser("segment-gasv3-order-switch")||!1;ace.analytics.Tracking.destinationFlag=e,ace.analytics.Tracking.switchOrder=t,"none"!==e&&(ace.analytics.GASv3&&(ace.analytics.GASv3.loadGASFlag="gasv3"===e||"both"===e||"gasv3+snowplow"===e||"all"===e),ace.analytics.Snowplow&&(ace.analytics.Snowplow.loadSnowplowFlag="snowplow"===e||"gasv3+snowplow"===e||"all"===e),ace.analytics.SegmentIO.loadSegmentFlag="segment"===e||"both"===e||"all"===e,ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_LOAD),ace.analytics.MethodQueue.replayMethodQueue(!0),ace.analytics.MethodQueue.replayMethodQueue(!1))},loadError)})}function loadError(e){"use strict";ace.mkt.Helpers.sendWrapperLoadError("Wrapper load error")}ace.analytics=ace.analytics||{},ace.analytics.version="2.111.0",loadAtlGlobal();
//# sourceMappingURL=atl-global.min.js.map
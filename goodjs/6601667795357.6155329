__d(function(e,p,t,o,s,i,E){"use strict";Object.defineProperty(i,"__esModule",{value:!0});t=p(E[13]).connect(function(e,t){const o=p(E[0]).getViewer(e),{currentState:s,items:i,paginationInfo:r,postModalId:n,showSurvey:a,visibleCount:l}=e.feed,{navSelection:c,route:d}=e.navigation,u=e.feed.extrasDataFetchStatus===p(E[1]).EXTRAS_DATA_FETCH_STATUS.loaded;let _={canFBConnect:p(E[2]).shouldDisplayFacebookConnect(e),extrasLoaded:u,followsSomeone:e.relationships.valueSeq().some(e=>e.followedByViewer.state===p(E[3]).FOLLOW_STATUS_FOLLOWING),hasNewPosts:p(E[4]).hasNewPosts(e),hasNextPage:!1,isConsentModalOpen:p(E[5]).isConsentModalOpen(e),isFetching:e.feed.isLoading||!(null!=r&&r.hasNextPage)&&e.suggestedUsers.isLoadingSuggestions,isOldestPostVisible:!1,items:i,justPosted:e.feed.justPosted,maxPostsToDisplay:l,navSelection:c,postModalId:n,prefetchNextPageThreshold:s===p(E[6]).FEED_STATE_CACHE?5:void 0,profilePicUploadIsInFlight:e.users.profilePicUploadIsInFlight,qp:e.qp.promotions,route:d,showAppInstallModal:!!t.showAppInstallModal,showSurvey:a,showUploadProgressBar:null!==e.uploadProgress.status,suggestedUserIds:p(E[2]).getNonDismissedAysfIds(e),viewer:o,viewportWidth:e.displayProperties.viewportWidth,willScrollToTop:e.feed.willScrollToTop};return i&&(_={..._,items:i},r&&(_={..._,hasNextPage:Boolean(r.hasNextPage),isOldestPostVisible:!0!==r.hasNextPage&&null!=l&&l>=i.count()}),s!==p(E[6]).FEED_STATE_CACHE&&s!==p(E[6]).FEED_STATE_CACHE_PAGINATED||null!==r||(_={..._,hasNextPage:!0})),_},function(o){return{onClearJustPosted(){o(p(E[7]).clearJustPosted())},onConsentFlowStart(e){o(p(E[8]).loadConsents(e))},onLoadBroadcasts(){o(p(E[9]).getBroadcasts())},onLoadNewPosts(){o(p(E[7]).commitStagedFeed())},onLoadNextPage(e,t){o(p(E[7]).loadNextPage(e,t))},onClosePostModal(){o(p(E[7]).closePostModal())},onOpenPostModal(e,t){o(p(E[7]).openPostModalForId(e)),t&&o(p(E[7]).loadNextPage(p(E[10]).DEFAULT_PAGE_SIZE))},onScrollToTop(){o(p(E[7]).scrolledToTop())},onSendConfirmEmail(){o(p(E[11]).sendConfirmEmail())},onSetFeedPageFilter(e){o(p(E[12]).setFeedPageFilter(e))},onSetShowSurvey(e){o(p(E[7]).setShowSurvey(e))}}})(t(E[10]));i.default=t},14221312,[20382040,20381941,10485773,20381855,20382076,14221313,20381852,20382039,20382236,20382340,14221314,20382044,20382370,5]),__d(function(e,o,s,t,i,r,n){"use strict";function a(e){return!e.suggestedUsers.viewerHasFBConnect}Object.defineProperty(r,"__esModule",{value:!0});var l=o(n[0]).createSelector(a,o(n[1]).isFBConnectEligible,(e,t)=>!e&&t&&!1!==s(n[2])._("ig_web_fxcal_nux_holdout_universe","50372b591eb5911ad5fd277f83e88162")&&!1!==s(n[2])._("fxcal_ig_fbconnect_loggedout_holdouts","4a4821fbdaf0ad6813abb69f4449ab94")),c=o(n[0]).createSelector(e=>e.suggestedUsers.ids,e=>e.suggestedUsers.dismissedAysfIds,(e,t)=>e.subtract(t).toArray()),d=o(n[0]).createSelector(e=>e.suggestedUsers.dismissedAysfIds,(t,e)=>s(n[3])(e.userIds).map(e=>o(n[4]).getUserById(t,e)),(t,e)=>e.filter(e=>!t.has(e.id)).toArray()),u=o(n[0]).createSelector(e=>e.suggestedUsers.ids,e=>e.toArray());r.isViewerFacebookConnected=a,r.shouldDisplayFacebookConnect=l,r.getNonDismissedAysfIds=c,r.getProfileChainingFailure=function(e,t){return!!e.suggestedUsers.profileChainingFailures.get(t)},r.getProfileChainingSuggestions=function(e,t){return e.suggestedUsers.profileChainingSuggestions.get(t)},r.getFeedAysfUsers=d,r.getSuggestions=u,r.isInitialLoad=function(e){return e.suggestedUsers.isLoadingSuggestions&&0===e.suggestedUsers.ids.size}},10485773,[9,10485774,20381849,20447260,20382040]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isConsentModalOpen=function(e){return e.consent.isModalOpen}},14221313,[]),__d(function(e,r,n,a,t,o,l){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),r(l[0]);const s=r(l[1]).createAsyncComponent({fallback:a(l[2]).createElement(n(l[3]),{className:"KQA-S"}),resolve:()=>r(l[5])(l[4],"EmptyFeedPage")}),c=r(l[1]).createAsyncComponent({fallback:a(l[2]).createElement(n(l[3]),{className:"KQA-S"}),resolve:()=>r(l[5])(l[6],"NewUserActivatorsUnit")}),d=r(l[1]).createAsyncComponent({fallback:a(l[2]).createElement(n(l[3]),{className:"KQA-S"}),resolve:()=>r(l[5])(l[7],"FeedEndSuggestedUserUnit")}),u="feed";class _ extends a(l[2]).Component{constructor(...e){super(...e),this.$MobileHeader1=e=>{n(l[8])(this.$MobileHeader2).handleStoryCreationClick()},this.$MobileHeader3=e=>{window.scrollTo(0,0),e.preventDefault()}}$MobileHeader4(){var e=a(l[2]).createElement(n(l[9]),{containerModule:r(l[10]).CONNECTIONS_CONTAINER_MODULES.feed_timeline});return r(l[11]).hasDirect()?a(l[2]).createElement(n(l[12]),{location:this.props.location}):e}render(){var e=a(l[2]).createElement("button",{className:"mTGkH",key:"create_story",onClick:this.$MobileHeader1},a(l[2]).createElement(n(l[13]),{alt:r(l[14]).NEW_STORY_TEXT}));return a(l[2]).createElement("div",null,a(l[2]).createElement(n(l[15]),{leftActions:[e],rightActions:this.$MobileHeader4(),title:a(l[2]).createElement(n(l[16]),{isLink:!0})}),a(l[2]).createElement(n(l[17]),{entryPoint:"quick_cam_button",ref:e=>this.$MobileHeader2=e}))}}const i=function(){let e=!1;return function(){e||(n(l[19]).appendActionIfNew(r(l[20]).IG_WEB_NUX_FUNNEL,r(l[20]).NUX_FUNNEL_FEED),n(l[19]).endFunnel(r(l[20]).IG_WEB_NUX_FUNNEL),e=!0)}}();class p extends a(l[2]).Component{constructor(e){super(e),this.$FeedPage1=0,this.$FeedPage2=!1,this.$FeedPage7=()=>{window.scrollTo(0,0),this.props.onScrollToTop()},this.$FeedPage10=e=>e?n(l[21]).VARIANTS.none:r(l[22]).isMobile()?n(l[21]).VARIANTS.slim:n(l[21]).VARIANTS.centered,this.$FeedPage9=()=>this.props.items&&0===this.props.items.size?n(l[23]).emptyFeedPage:n(l[23]).feedPage,this.$FeedPage11=()=>{this.setState({showProfilePicAdder:!1})},this.$FeedPage12=()=>{this.setState({showAppInstallModal:!1})},this.$FeedPage13=e=>{e=null!=this.props.maxPostsToDisplay?e-this.props.maxPostsToDisplay:0;0<e&&this.props.onLoadNextPage(e)},this.$FeedPage14=()=>{this.props.history.goBack()},this.$FeedPage5=()=>{this.props.hasNewPosts&&0===window.scrollY&&this.props.onLoadNewPosts()},this.$FeedPage16=()=>{var e=r(l[22]).isDesktop()&&!0===n(l[24])._("ig_web_stories_tray","d8118551b4099d61db8828c411077db5"),t=this.$FeedPage15();return!e&&!t&&this.props.viewportWidth<=n(l[25])["feed-sidebar-threshold-min"].value},this.$FeedPage17=()=>{var e=this.$FeedPage15();return r(l[22]).isDesktop()&&!e&&!0===n(l[24])._("ig_web_stories_tray","d8118551b4099d61db8828c411077db5")},this.$FeedPage18=()=>!this.$FeedPage15()&&r(l[22]).isDesktop()&&this.props.viewportWidth>=n(l[25])["feed-sidebar-threshold-min"].value,this.$FeedPage22=()=>{r(l[26]).logAction_DEPRECATED("newPostsPillClick"),this.$FeedPage7()},this.$FeedPage23=e=>{this.props.onLoadNextPage(12,e)},this.$FeedPage24=e=>{null!=e.followHashtagInfo?r(l[27]).logImpression(e):r(l[28]).logImpressionForPost(e,u)},this.$FeedPage25=(e,t)=>{var{hasNextPage:o,items:s}=this.props;let i=!1;o&&s&&(i=t===s.size-2),this.props.onOpenPostModal(e,i)};var t=!(null!==(t=this.props.viewer)&&void 0!==t&&t.hasProfilePic);this.state={blockGDPRQPs:!1,isZeroRatingNewAndResEligible:r(l[29]).isZeroRatingNewAndResEligible(),isZeroRatingSelectEligible:r(l[29]).isZeroRatingSelectEligible(),isZeroRatingSlimEligible:r(l[29]).isZeroRatingSlimEligible(),showAppInstallModal:this.props.showAppInstallModal,showProfilePicAdder:t,showCreationUpsell:!1,showPostModal:!1,postModalId:null},this.$FeedPage3=e.location,r(l[22]).isDesktop()&&r(l[30]).preloadModule()}$FeedPage4(){null!=this.props.items&&this.props.onDisplayDone()}componentDidMount(){let e;try{e=r(l[31]).parseQueryParams()}catch(e){}var t;e&&e.terms_start&&(t=e.terms_start,Object.values(r(l[18]).ConsentEntrypoints).includes(t))&&(this.props.onConsentFlowStart(e.terms_start),this.setState({blockGDPRQPs:!0})),r(l[22]).isDesktop()&&r(l[32]).shouldFetchLiveInStories()&&this.props.onLoadBroadcasts(),this.$FeedPage4(),r(l[33]).hasFeedCaching()&&(this.props.hasNewPosts&&!r(l[34]).shouldRestoreScroll(this.props.history)?this.props.onLoadNewPosts():window.addEventListener("scroll",this.$FeedPage5)),r(l[35]).requestIdleCallback(()=>{r(l[36]).preloadPostModals()})}componentWillUnmount(){var e,t;r(l[33]).hasFeedCaching()&&(window.removeEventListener("scroll",this.$FeedPage5),{hasNewPosts:e,navSelection:t}=this.props,e&&t!==r(l[37]).NAVIGATION_SECTION_HOME&&(r(l[34]).clearScrollPosition(this.$FeedPage3),this.props.onLoadNewPosts()))}$FeedPage6(){var e=this.props.history.location["hash"];if(e)switch(this.props.history.replace(this.props.history.location.pathname),e){case n(l[38]).sharePhoto:this.props.onStartCreation("feed_upsell",r(l[39]).CreationMode.POST);break;case n(l[38]).openGDPRMegaphone:this.props.onConsentFlowStart(r(l[18]).ConsentEntrypoints.MEGAPHONE);break;case n(l[38]).openGDPRFullscreen:this.props.onConsentFlowStart(r(l[18]).ConsentEntrypoints.FULLSCREEN);break;case n(l[38]).openGDPRDialog:this.props.onConsentFlowStart(r(l[18]).ConsentEntrypoints.DIALOG);break;case n(l[38]).confirmEmail:this.props.onSendConfirmEmail();break;case n(l[38]).changeEmail:this.props.history.push(r(l[40]).PROFILE_EDIT_PATH);break;case n(l[38]).turnOnDataSaver:r(l[41]).setDataSaverConfig({...r(l[41]).getDataSaverOnDefaultConfig()},!0),this.props.history.push(r(l[40]).DATA_SAVER_PREFERENCES_PATH);break;case n(l[38]).survey:this.props.onSetShowSurvey(!0)}}componentDidUpdate(e){var t;this.props.willScrollToTop&&this.$FeedPage7(),this.props.justPosted&&this.$FeedPage8(),this.$FeedPage6(),e.items&&this.props.items&&e.items.size!==this.props.items.size&&(this.$FeedPage1=r(l[42]).now()),this.$FeedPage4(),null!=e.items&&(null===(t=e.items)||void 0===t?void 0:t.size)!==(null===(t=this.props.items)||void 0===t?void 0:t.size)&&(r(l[43]).logComponentPerformanceTiming({component:"Feed",eventType:"nextPage",pageId:this.$FeedPage9(),route:this.props.route,timeTaken:r(l[42]).now()-this.$FeedPage1}),this.$FeedPage1=0),!e.hasNewPosts&&this.props.hasNewPosts&&0===window.scrollY&&this.props.onLoadNewPosts()}$FeedPage8(){this.props.onClearJustPosted()}$FeedPage15(){var{items:e,suggestedUserIds:t}=this.props;return null!=e&&0===e.size&&null!=t&&0<t.length}$FeedPage19(){return this.state.showProfilePicAdder&&a(l[2]).createElement(n(l[44]),{analyticsContext:u,className:"zMhqu",onHideClick:this.$FeedPage11,profilePicUploadIsInFlight:this.props.profilePicUploadIsInFlight})}$FeedPage20(){return a(l[2]).createElement(a(l[2]).Fragment,null,a(l[2]).createElement(n(l[45]),null),a(l[2]).createElement(n(l[46]),{campaign:"webSignup",onClose:this.$FeedPage12}))}$FeedPage21(){var e={[n(l[47]).fbconnect]:this.props.canFBConnect,[n(l[47]).gdprDialog]:!this.state.blockGDPRQPs,[n(l[47]).gdprFullscreen]:!this.state.blockGDPRQPs,[n(l[47]).gdprMegaphoneDis]:!this.state.blockGDPRQPs,[n(l[47]).gdprMegaphoneNondis]:!this.state.blockGDPRQPs};return this.props.onSetFeedPageFilter(e),a(l[2]).createElement(n(l[48]),{filter:e,slot:"feed"})}$FeedPage26(){const e=[];if(this.props.items)for(const t of this.props.items)switch(t.type){case r(l[49]).GRAPH_IMAGE:case r(l[49]).GRAPH_VIDEO:case r(l[49]).GRAPH_SIDECAR:e.push(t.postId)}return a(l[2]).createElement(n(l[50]),{postIds:e,viewKey:r(l[51]).FEED_VIEW})}$FeedPage27(){var{hasNextPage:e,items:t,maxPostsToDisplay:o,viewportWidth:s}=this.props;if(null==t)return a(l[2]).createElement(n(l[3]),{className:"KQA-S"});var i=s>=r(l[52]).SITE_WIDTHS.narrow?r(l[53]).VARIANTS.wide:r(l[53]).VARIANTS.narrow,s=`_8Rm4L ${r(l[22]).isDesktop()&&!0===n(l[24])._("ig_web_h1_2021_post","f0fc00d58835d6aec4427737ed863049")?"bLWKA":""}`;return a(l[2]).createElement(a(l[2]).Fragment,null,0<t.size&&a(l[2]).createElement(c,{className:"_2eEhX",module:r(l[54]).MODULES.feed}),null!=o&&a(l[2]).createElement(n(l[55]),{allowSampledScrollLogging:!0,analyticsContext:u,hasNextPage:this.props.hasNextPage,isFetching:this.props.isFetching,itemClassName:s,items:t,onNextPage:this.$FeedPage23,onPostImpression:this.$FeedPage24,prefetchNextPageThreshold:this.props.prefetchNextPageThreshold,variant:i,visibleCount:Math.min(o,t.size)}),!e&&null!=t&&0<t.size&&a(l[2]).createElement(d,{variant:i}))}$FeedPage28(){return null!=this.props.items&&0<this.props.items.size&&i(),a(l[2]).createElement(a(l[2]).Fragment,null,this.$FeedPage27(),this.$FeedPage26())}$FeedPage29(){var{followsSomeone:e,onScrollToTop:t,suggestedUserIds:o}=this.props;return a(l[2]).createElement(s,{followsSomeone:e,onScrollToTop:t,scrollToTop:this.$FeedPage7,suggestedUserIds:o})}$FeedPage30(){if(!r(l[22]).isMobile())return null;let e=null;return this.state.isZeroRatingNewAndResEligible?e="new_res_banner_impression":this.state.isZeroRatingSelectEligible?e="select_banner_impression":this.state.isZeroRatingSlimEligible&&(e="slim_banner_impression"),e&&!this.$FeedPage2&&(r(l[26]).logZeroEvent({event_name:e}),this.$FeedPage2=!0),e?a(l[2]).createElement(n(l[56]),null):null}$FeedPage31(){return this.props.isConsentModalOpen?null:r(l[57]).showAddToHomeScreen()?a(l[2]).createElement(n(l[59]),null):a(l[2]).createElement(n(l[58]),null)}$FeedPage32(){var e=this.props["hasNewPosts"];return e&&a(l[2]).createElement(r(l[60]).Box,{position:"fixed"},a(l[2]).createElement(r(l[60]).Pill,{onClick:this.$FeedPage22},r(l[61])(587)))}render(){var e=this.$FeedPage15(),t=this.props.justPosted,o=void 0!==this.props.likedByShortcode&&""!==this.props.likedByShortcode?a(l[2]).createElement(n(l[62]),{display:n(l[63]).modal,onClose:this.$FeedPage14,shortcode:this.props.likedByShortcode}):null,s=this.$FeedPage9(),i=e&&r(l[22]).isMobile();return a(l[2]).createElement(n(l[64]),{androidAppLink:t?void 0:"/_n/mainfeed/",footerVariant:this.$FeedPage10(this.$FeedPage18()),iOSAppLink:t?void 0:"mainfeed",maxWidth:r(l[22]).isMobile()||!e?r(l[52]).SITE_WIDTHS.narrow:r(l[52]).SITE_WIDTHS.wide,mobileHeader:a(l[2]).createElement(_,{location:this.props.location}),pageIdentifier:s},a(l[2]).createElement(n(l[65]),{id:s}),a(l[2]).createElement("section",{className:`_1SP8R ${r(l[22]).isDesktop()&&!0===n(l[24])._("ig_web_navigation","7ccf1c9d7ae5a8950e32502eae613a72")?"C3uDN":""} ${this.$FeedPage18()?"j9XKR":""} ${r(l[22]).isMobile()?"M_qbh":""} ${i?"yWxDb":""}`},this.$FeedPage30(),this.props.showUploadProgressBar&&a(l[2]).createElement(n(l[66]),null),this.$FeedPage16()&&a(l[2]).createElement(n(l[67]),{key:"storyTray"}),a(l[2]).createElement("div",{className:this.$FeedPage18()?"cGcGK":""},this.$FeedPage17()&&a(l[2]).createElement(n(l[67]),{hideOwnStory:this.$FeedPage18(),key:"storyTray"}),!i&&(this.$FeedPage21()||this.$FeedPage19()),e?this.$FeedPage29():this.$FeedPage28()),this.$FeedPage18()&&a(l[2]).createElement(n(l[30]),null)),this.state.showAppInstallModal&&this.$FeedPage20(),this.$FeedPage31(),o,a(l[2]).createElement(n(l[68]),null),!this.state.showProfilePicAdder&&a(l[2]).createElement(n(l[69]),null),this.$FeedPage32(),this.props.extrasLoaded&&a(l[2]).createElement(n(l[70]),{prefetchContext:"feed"}),this.props.showSurvey&&a(l[2]).createElement(n(l[71]),{onClose:()=>this.props.onSetShowSurvey(!1)}),null!==this.props.postModalId&&a(l[2]).createElement(n(l[72]),{onClose:this.props.onClosePostModal,onOpen:this.$FeedPage25,postId:this.props.postModalId||""}),n(l[73])._("ig_web_interaction_tracing")&&a(l[2]).createElement(r(l[74]).HeroHoldTrigger,{description:"FeedPage",hold:this.props.isFetching}))}}var E=r(l[75]).withRouter(n(l[76])("FeedPage",n(l[77])(p)));o.default=E,o.DEFAULT_PAGE_SIZE=12,o.FeedPage=p},14221314,[14221315,20447527,3,14221316,13828096,68,13893632,13959168,20447260,13238275,20382312,20381848,20447626,14221318,20382271,20447520,14221319,14221321,20382169,20382152,13369349,20185265,20381703,20381912,20381849,20447271,20381788,14221322,20185895,20381772,14221323,20382092,20382337,20381845,10485826,20382114,20185859,20382084,14221325,20447273,20381915,20382243,20381884,20381885,14221326,20447432,20185264,20382089,20185599,20381802,10354873,20381803,20447408,20185842,14221328,14221329,20185281,10485829,14221330,10485827,20447276,20381756,20186024,20185722,20185251,20447655,14221333,14221335,20185620,20447594,10354871,14221350,14221374,20381753,20382184,6,20447457,10485781]),__d(function(){},14221315,[]),__d(function(e,o,s,i,t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),o(n[0]);const a=s(n[1])["VisualCompletionAttributes"];r.default=function({className:e}){const t=o(n[2]).useTheme();return i(n[3]).createElement("div",s(n[4])({},a.LOADING_STATE,{className:s(n[5])("_tcb0",e)}),i(n[3]).createElement("div",{className:"pOb2E"},i(n[3]).createElement("div",{className:"OzqB_"}),i(n[3]).createElement("div",{className:"L3tlg"},i(n[3]).createElement("div",{className:"_8VIOK"}),i(n[3]).createElement("div",{className:"u9F97"}))),i(n[3]).createElement("div",{className:`WidCF ${t.getTheme()===o(n[2]).THEME.dark?"-bs0y":""}`}))}},14221316,[14221317,20381902,20447285,3,20382112,20447282]),__d(function(){},14221317,[]),__d(function(e,o,s,i,t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=({containerModule:e,filled:t=!1})=>i(n[0]).createElement(s(n[1]),{onClick:()=>{o(n[2]).logAction_DEPRECATED("discoverButtonClicked",{containerModule:e}),s(n[3]).push(o(n[4]).DISCOVER_PEOPLE_PATH)}},t?i(n[0]).createElement(s(n[5]),{alt:o(n[6]).DISCOVER_PEOPLE_TEXT}):i(n[0]).createElement(s(n[7]),{alt:o(n[6]).DISCOVER_PEOPLE_TEXT}))},13238275,[3,20447309,20381788,20382077,20381915,13238276,20382271,13238277]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=s(n[0]).memo(function(e){return s(n[0]).createElement(o(n[1]),o(n[2])({},e,{viewBox:"0 0 48 48"}),s(n[0]).createElement("path",{clipRule:"evenodd",d:"M46 41.5H18c-.8 0-1.5-.7-1.5-1.5v-1.5c0-5.5 4.5-10 10-10h11c5.5 0 10 4.5 10 10V40c0 .8-.7 1.5-1.5 1.5zm-14-16c-5.2 0-9.5-4.3-9.5-9.5s4.3-9.5 9.5-9.5 9.5 4.3 9.5 9.5-4.3 9.5-9.5 9.5zm-16 1h-4.5V31c0 .8-.7 1.5-1.5 1.5H8c-.8 0-1.5-.7-1.5-1.5v-4.5H2c-.8 0-1.5-.7-1.5-1.5v-2c0-.8.7-1.5 1.5-1.5h4.5V17c0-.8.7-1.5 1.5-1.5h2c.8 0 1.5.7 1.5 1.5v4.5H16c.8 0 1.5.7 1.5 1.5v2c0 .8-.7 1.5-1.5 1.5z",fillRule:"evenodd"}))});r.default=a},13238276,[3,20447312,20382112]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=s(n[0]).memo(function(e){return s(n[0]).createElement(o(n[1]),o(n[2])({},e,{viewBox:"0 0 48 48"}),s(n[0]).createElement("path",{d:"M32 25.5c5.2 0 9.5-4.3 9.5-9.5S37.2 6.5 32 6.5s-9.5 4.3-9.5 9.5 4.3 9.5 9.5 9.5zm0-16c3.6 0 6.5 2.9 6.5 6.5s-2.9 6.5-6.5 6.5-6.5-2.9-6.5-6.5 2.9-6.5 6.5-6.5zm5.5 19h-11c-5.5 0-10 4.5-10 10V40c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-1.5c0-3.9 3.1-7 7-7h11c3.9 0 7 3.1 7 7V40c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-1.5c0-5.5-4.5-10-10-10zm-20-4.5c0-.8-.7-1.5-1.5-1.5h-5.5V17c0-.8-.7-1.5-1.5-1.5s-1.5.7-1.5 1.5v5.5H2c-.8 0-1.5.7-1.5 1.5s.7 1.5 1.5 1.5h5.5V31c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-5.5H16c.8 0 1.5-.7 1.5-1.5z"}))});r.default=a},13238277,[3,20447312,20382112]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=s(n[0]).memo(function(e){return s(n[0]).createElement(o(n[1]),o(n[2])({},e,{viewBox:"0 0 48 48"}),s(n[0]).createElement("path",{clipRule:"evenodd",d:"M38.5 46h-29c-5 0-9-4-9-9V17c0-5 4-9 9-9h1.1c1.1 0 2.2-.6 2.7-1.7l.5-1c1-2 3.1-3.3 5.4-3.3h9.6c2.3 0 4.4 1.3 5.4 3.3l.5 1c.5 1 1.5 1.7 2.7 1.7h1.1c5 0 9 4 9 9v20c0 5-4 9-9 9zm6-29c0-3.3-2.7-6-6-6h-1.1C35.1 11 33 9.7 32 7.7l-.5-1C31 5.6 29.9 5 28.8 5h-9.6c-1.1 0-2.2.6-2.7 1.7l-.5 1c-1 2-3.1 3.3-5.4 3.3H9.5c-3.3 0-6 2.7-6 6v20c0 3.3 2.7 6 6 6h29c3.3 0 6-2.7 6-6V17zM24 38c-6.4 0-11.5-5.1-11.5-11.5S17.6 15 24 15s11.5 5.1 11.5 11.5S30.4 38 24 38zm0-20c-4.7 0-8.5 3.8-8.5 8.5S19.3 35 24 35s8.5-3.8 8.5-8.5S28.7 18 24 18z",fillRule:"evenodd"}))});r.default=a},14221318,[3,20447312,20382112]),__d(function(e,o,s,i,t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),o(n[0]);const a=()=>i(n[1]).createElement(o(n[2]).Image,{alt:o(n[3]).INSTAGRAM_TEXT,srcx:"images/web/mobile_nav_type_logo.png",__src:{light:"/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",dark:"/static/images/web/mobile_nav_type_logo-dark.png/ff9b85f2b7ca.png"},__srcSet:{light:"/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png 2x",dark:"/static/images/web/mobile_nav_type_logo-dark-2x.png/908edfc84eda.png 2x"}});var l=o(n[6]).withRouter(({history:e,isLink:t})=>{e=e.location.pathname===o(n[4]).FEED_PATH;return!0===t?i(n[1]).createElement("div",{className:"nLR5g"},i(n[1]).createElement(s(n[5]),{href:"/",onClick:e?e=>{window.scrollTo(0,0),e.preventDefault()}:void 0},i(n[1]).createElement(a,null))):i(n[1]).createElement("div",{className:"i4jjS"},i(n[1]).createElement(a,null))});r.default=l},14221319,[14221320,3,20447276,20382053,20381915,20447289,6]),__d(function(){},14221320,[]),__d(function(e,o,s,t,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class a extends t(n[3]).Component{constructor(...e){super(...e),this.handleStoryCreationClick=()=>{!0!==this.$StoryCreationFileForm1&&(s(n[0]).startFunnel(o(n[1]).STORY_CREATION_FUNNEL),this.$StoryCreationFileForm1=!0,this.props.onStartStoryCreation(this.props.entryPoint).then(()=>{s(n[2])(this.$StoryCreationFileForm2).selectFile(),this.$StoryCreationFileForm1=!1}).catch(()=>{this.$StoryCreationFileForm1=!1}))}}render(){return t(n[3]).createElement(s(n[4]),{acceptMimeTypes:["image/jpeg"],onFileChange:this.props.onMediaSelect,ref:e=>this.$StoryCreationFileForm2=e})}}var l=o(n[6]).connect(null,function(t){return{onMediaSelect(e){e.length&&(s(n[0]).appendAction(o(n[1]).STORY_CREATION_FUNNEL,o(n[1]).STORY_CREATION_PICKED_FILE),t(o(n[5]).storyCreationSelectMedia(e[0])))},onStartStoryCreation:e=>t(o(n[5]).startStoryCreationSession(e))}},null,{forwardRef:!0})(a);r.default=l,r.StoryCreationFileForm=a},14221321,[20382152,12845064,20447260,3,20447547,12845063,5]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.STORY_CREATION_BAD_ASPECT_RATIO="bad_aspect_ratio",r.STORY_CREATION_DISCARD_CANCEL="discard_cancel",r.STORY_CREATION_DISCARD_CONFIRMATION="discard_confirmation",r.STORY_CREATION_DOODLE_ENTER="story_creation_doodle_enter",r.STORY_CREATION_DOODLE_EXIT="story_creation_doodle_exit",r.STORY_CREATION_FINALIZE_FAILED="story_finalize_failed",r.STORY_CREATION_FUNNEL="IG_WEB_STORY_CREATION_FUNNEL",r.STORY_CREATION_PICKED_FILE="picked_file",r.STORY_CREATION_SAVE="save",r.STORY_CREATION_START_PICK_FILE="start_pick_file",r.STORY_CREATION_STORY_CREATION_FAILED="story_creation_failed",r.STORY_CREATION_STORY_CREATION_SUCCESS="story_creation_success",r.STORY_CREATION_UPLOAD_STAGE_SUCCESS="upload_staged",r.STORY_CREATION_UPLOAD_START="upload_start"},12845064,[]),__d(function(e,c,d,t,o,s,u){"use strict";function n(e,t){const o=t.storyCreation,{start_time:s,...i}=o.logData,r=(Date.now()-s)/1e3,n=o.canvasStickers;let a=!1;const l=[];for(const e of n)e.type===c(u[7]).TEXT_TYPE?a=!0:l.push(e.variants[0].id);return{...i,exit_point:c(u[6]).STORY_CREATION_EXIT_POINT.POST,has_brush:0<o.activeDrawing.linesArray.length,has_sticker:0<l.length,has_text:a,step:e,sticker_ids:l,waterfall_duration:r,waterfall_id:d(u[8])(o.sessionId)}}function i(i){return(t,o)=>{const s=o();return c(u[6]).logStoryCreationEvent(n("image_process_attempt",s)),d(u[14])(d(u[9])(i).then(e=>{t({type:c(u[0]).STORY_CREATION_IMAGE_PROCESSED,height:e.height,location:e.location,orientation:e.orientation,sourceDataURL:e.dataURL,sourceImage:i,width:e.width,flash:e.flash}),c(u[6]).logStoryCreationEvent(n("image_process_success",o())),d(u[15]).push("/create/story/")},e=>{c(u[6]).logStoryCreationEvent(n("image_process_failure",s)),t(c(u[3]).showToast({text:c(u[16])(3003),persistOnNavigate:!0})),e instanceof Error?(e.name="[StoryCreation] "+e.name,c(u[17]).logError(e)):d(u[18])("[StoryCreation] error in processing image")}))}}function r(i){return(t,e)=>{const o=Date.now().toString(),s=`story_${o}`;return d(u[14])(d(u[10])(i).then(e=>(t({type:c(u[0]).STORY_CREATION_VIDEO_PROCESSED,dataURL:e.src,entityName:s,file:i,uploadId:o,uploadMediaHeight:e.videoHeight,uploadMediaWidth:e.videoWidth,uploadMediaDurationMs:Math.floor(1e3*e.duration),videoTransform:null,mediaPublishMode:c(u[19]).MediaPublishMode.REEL}),d(u[20])(e))).then(e=>{t({type:c(u[0]).STORY_CREATION_VIDEO_COVER_PHOTO_UPDATED,dataURL:e.dataURL,entityName:s,file:e.file,uploadId:o,uploadMediaHeight:e.uploadMediaHeight,uploadMediaWidth:e.uploadMediaWidth}),d(u[15]).push("/create/story/")}).catch(e=>{e instanceof Error?(e.name="[StoryCreation] "+e.name,c(u[17]).logError(e)):d(u[18])("[StoryCreation] error in processing video")}))}}function a(){return(t,o)=>t(c(u[24]).refreshStoryReels()).then(()=>{var e=d(u[8])(c(u[25]).getViewer(o()));t(c(u[24]).invalidateStoryReel(e.id)),d(u[15]).push("/"),t(c(u[23]).setNavSelection("NAVIGATION_SECTION_HOME"))})}Object.defineProperty(s,"__esModule",{value:!0});const l=t=>{for(let e=0;e<t.length;e++)if("number"==typeof t[e].id)return e;return-1};s.setCanvasDimensions=function(e,t){return{type:c(u[0]).STORY_CREATION_SET_CANVAS_DIMENSIONS,canvasWidth:e,canvasHeight:t}},s.startStoryCreationSession=function(n){return(i,r)=>new Promise(function(e,t){var{viewportHeight:o,viewportWidth:s}=r().displayProperties;if(o<s)return d(u[1]).appendAction(c(u[2]).STORY_CREATION_FUNNEL,c(u[2]).STORY_CREATION_BAD_ASPECT_RATIO),d(u[1]).endFunnel(c(u[2]).STORY_CREATION_FUNNEL),i(c(u[3]).showToast({text:c(u[4]).STORY_LANDSCAPE_WARNING_TEXT})),t({});d(u[1]).appendAction(c(u[2]).STORY_CREATION_FUNNEL,c(u[2]).STORY_CREATION_START_PICK_FILE);t=d(u[5])();return i({type:c(u[0]).STORY_CREATION_SESSION_STARTED,sessionId:t,entryPoint:n,startTime:Date.now()}),c(u[6]).logStoryCreationEvent({step:"enter",waterfall_id:t,entry_point:n}),e({})})},s.storyCreationSelectMedia=function(o){return e=>{var t=o.type;c(u[9]).isImage(t)?e(i(o)):c(u[10]).isVideo(t)&&c(u[11]).getIgLiteStoryVideoUploadQE()?e(r(o)):(e(c(u[12]).updateCreationError(new Error(c(u[13]).NOT_SUPPORTED_MEDIA_TEXT))),e(c(u[12]).updateCreationDialogStatus("error")))}},s.storyCreationSelectImage=i,s.storyCreationSelectVideo=r,s.uploadStory=function(e,t){return(o,s)=>{o({type:c(u[0]).STORY_CREATION_UPLOAD_REQUESTED,uploadedBlob:e}),d(u[1]).appendAction(c(u[2]).STORY_CREATION_FUNNEL,c(u[2]).STORY_CREATION_UPLOAD_START);let i=s();const r=i.storyCreation.activeText.renderText.join("\n");return c(u[6]).logStoryCreationEvent(n("compose_stage_attempt",i)),d(u[14])(c(u[21]).fbUploaderPhoto(e).then(e=>{d(u[1]).appendAction(c(u[2]).STORY_CREATION_FUNNEL,c(u[2]).STORY_CREATION_UPLOAD_STAGE_SUCCESS);const t=e.upload_id;return o({type:c(u[0]).STORY_CREATION_UPLOAD_STAGED,uploadId:t}),i=s(),c(u[6]).logStoryCreationEvent(n("compose_finalize_attempt",i)),c(u[21]).creationFinalizeStory(t,r).then(e=>{d(u[1]).appendAction(c(u[2]).STORY_CREATION_FUNNEL,c(u[2]).STORY_CREATION_STORY_CREATION_SUCCESS),d(u[1]).endFunnel(c(u[2]).STORY_CREATION_FUNNEL),c(u[6]).logStoryCreationEvent(n("compose",i)),o({type:c(u[0]).STORY_CREATION_UPLOAD_SUCCEEDED,toast:{text:c(u[4]).PHOTO_ADDED_TEXT,persistOnNavigate:!0},uploadId:t}),o(a())}).catch(e=>{throw d(u[1]).appendAction(c(u[2]).STORY_CREATION_FUNNEL,c(u[2]).STORY_CREATION_FINALIZE_FAILED),e})}).catch(e=>{d(u[1]).appendAction(c(u[2]).STORY_CREATION_FUNNEL,c(u[2]).STORY_CREATION_STORY_CREATION_FAILED),t||d(u[1]).endFunnel(c(u[2]).STORY_CREATION_FUNNEL),c(u[6]).logStoryCreationEvent(n("compose_failure",i)),o({type:c(u[0]).STORY_CREATION_UPLOAD_FAILED,toast:{text:c(u[4]).UPLOAD_FAILED_TEXT,persistOnNavigate:!0,actionText:t&&c(u[22]).RETRY_TEXT,actionHandler:t}}),e instanceof Error?(e.name="[StoryCreation] "+e.name,c(u[17]).logError(e)):d(u[18])("[StoryCreation] error in uploading story")}))}},s.uploadStoryVideo=function(){return(t,e)=>{const{sourceVideo:o,coverPhoto:s}=e().storyCreation,i=d(u[8])(o).uploadId;return t({type:c(u[0]).STORY_CREATION_VIDEO_UPLOAD_REQUESTED}),d(u[14])(c(u[21]).ruploadVideo(o).then(()=>c(u[21]).ruploadPhoto(s)).then(()=>t(function(o){return t=>d(u[14])(c(u[21]).creationFinalizeStory(o).then(e=>{if(!e.media||!e.media.pk)throw e;t({type:c(u[0]).STORY_CREATION_UPLOAD_SUCCEEDED,toast:{text:c(u[4]).VIDEO_ADDED_TEXT,persistOnNavigate:!0},uploadId:o}),t(a())}))}(i))).catch(e=>{d(u[15]).push("/"),t(c(u[23]).setNavSelection("NAVIGATION_SECTION_HOME")),t({type:c(u[0]).STORY_CREATION_UPLOAD_FAILED,toast:{text:c(u[4]).UPLOAD_FAILED_TEXT,persistOnNavigate:!0}})}))}},s.refreshStoryReelAndNavigateToFeed=a,s.changeActiveText=function(e,t,o){return{type:c(u[0]).STORY_CREATION_CHANGE_TEXT,rawText:e,width:t,height:o}},s.enterAddText=function(){return{type:c(u[0]).STORY_CREATION_ENTER_ADD_TEXT}},s.enterEditText=function(){return{type:c(u[0]).STORY_CREATION_ENTER_EDIT_TEXT}},s.saveText=function(e,t){return{type:c(u[0]).STORY_CREATION_SAVE_TEXT,renderText:e,timeSpent:t}},s.transformCanvasSticker=function(e,t){return{type:c(u[0]).STORY_CREATION_TRANSFORM_CANVAS_STICKER,stillMoving:e,transform:t}},s.deleteCanvasSticker=function(){return{type:c(u[0]).STORY_CREATION_DELETE_CANVAS_STICKER}},s.moveCanvasSticker=function(e,t,o){return{type:c(u[0]).STORY_CREATION_MOVE_CANVAS_STICKER,deltaX:e,deltaY:t,overTrash:o}},s.changeBrush=function(e){return{type:c(u[0]).STORY_CREATION_CHANGE_ACTIVE_BRUSH,brush:e}},s.changeBrushSize=function(e){return{type:c(u[0]).STORY_CREATION_CHANGE_BRUSH_SIZE,size:e}},s.changeColor=function(e){return{type:c(u[0]).STORY_CREATION_CHANGE_COLOR,color:e}},s.changeDrawColor=function(e){return{type:c(u[0]).STORY_CREATION_CHANGE_DRAW_COLOR,color:e}},s.editDrawing=function(){return d(u[1]).appendAction(c(u[2]).STORY_CREATION_FUNNEL,c(u[2]).STORY_CREATION_DOODLE_ENTER),{type:c(u[0]).STORY_CREATION_EDIT_DRAWING}},s.startDrawing=function(e){return{type:c(u[0]).STORY_CREATION_START_DRAWING,startIndex:e}},s.drawLineAction=function(e){return{type:c(u[0]).STORY_CREATION_DRAW_LINE,line:e}},s.useModal=function(e){return{type:c(u[0]).STORY_CREATION_USE_MODAL,isUsingModal:e}},s.undoDrawing=function(){return{type:c(u[0]).STORY_CREATION_UNDO_DRAWING}},s.saveDrawing=function(e){return d(u[1]).appendAction(c(u[2]).STORY_CREATION_FUNNEL,c(u[2]).STORY_CREATION_DOODLE_EXIT),{type:c(u[0]).STORY_CREATION_SAVE_DRAWING,timeSpent:e}},s.openStickerTool=function(){return{type:c(u[0]).STORY_CREATION_OPEN_STICKER_TOOL}},s.closeStickerTool=function(){return{type:c(u[0]).STORY_CREATION_CLOSE_STICKER_TOOL}},s.changeStickerOrder=function(e){return{type:c(u[0]).STORY_CREATION_CHANGE_STICKER_ORDER,bumpIndex:e}},s.addSticker=function(e){return{type:c(u[0]).STORY_CREATION_ADD_STICKER,sticker:e}},s.cacheStickerResults=function(){return(o,e)=>{const t=c(u[25]).getViewer(e());return c(u[7]).getPosition().then(e=>{e={latitude:e.coords.latitude,longitude:e.coords.longitude};return d(u[14])(c(u[21]).getStickers({user:t,location:e}).then(e=>{var t=l(e.static_stickers);o({type:c(u[0]).STORY_CREATION_CACHE_STICKER_RESULTS,results:e.static_stickers.slice(t)})},e=>{o({type:c(u[0]).STORY_CREATION_CACHE_STICKER_RESULTS,results:"error"})}))},e=>d(u[14])(c(u[21]).getStickers({user:t,location:null}).then(e=>{var t=l(e.static_stickers);o({type:c(u[0]).STORY_CREATION_CACHE_STICKER_RESULTS,results:e.static_stickers.slice(t)})},e=>{o({type:c(u[0]).STORY_CREATION_CACHE_STICKER_RESULTS,results:"error"})})))}},s.resetStickerResults=function(){return(o,e)=>new Promise((e,t)=>(o({type:c(u[0]).STORY_CREATION_RESET_STICKER_RESULTS}),e({})))},s.saveStory=function(){return d(u[1]).appendAction(c(u[2]).STORY_CREATION_FUNNEL,c(u[2]).STORY_CREATION_SAVE),{type:c(u[0]).STORY_CREATION_SAVE_STORY}},s.attemptExitStoryCreation=function(){return(e,t)=>{c(u[6]).logStoryCreationEvent(n("exit_attempt",t())),d(u[1]).appendAction(c(u[2]).STORY_CREATION_FUNNEL,c(u[2]).STORY_CREATION_DISCARD_CONFIRMATION),e({type:c(u[0]).STORY_CREATION_EXIT_ATTEMPT})}},s.exitStoryCreation=function(){return(e,t)=>{c(u[6]).logStoryCreationEvent(n("exit",t())),d(u[1]).endFunnel(c(u[2]).STORY_CREATION_FUNNEL),e({type:c(u[0]).STORY_CREATION_EXIT})}},s.cancelExitStoryCreation=function(){return(e,t)=>{c(u[6]).logStoryCreationEvent(n("exit_cancel",t())),d(u[1]).appendAction(c(u[2]).STORY_CREATION_FUNNEL,c(u[2]).STORY_CREATION_DISCARD_CANCEL),e({type:c(u[0]).STORY_CREATION_EXIT_CANCEL})}},s.toggleStickerVariant=function(){return{type:c(u[0]).STORY_CREATION_TOGGLE_STICKER_VARIANT}}},12845063,[20185126,20382152,12845064,20382051,12845058,20447261,12845065,20185679,20447260,20381917,20382322,20381845,20382316,20382317,20381786,20382077,20381756,20381781,20381780,20381920,20382323,20381872,20382053,20382082,20382350,20382040]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(n[0])(3421),l=t(n[0])(1577),c=t(n[0])(3890),d=t(n[0])(723),u=t(n[0])(603),_=t(n[0])(709),p=t(n[0])(2717),E=t(n[0])(2982),h=t(n[0])(508),T=t(n[0])(1749),m=t(n[0])(543),S=t(n[0])(2758),g=t(n[0])(1542),f=t(n[0])(987),O=t(n[0])(1949),P=t(n[0])(361),I=t(n[0])(1254),y=t(n[0])(3972),C=t(n[0])(3526),R=t(n[0])(2836),n=t(n[0])(2484);r.EXIT_STORY_CREATION_CONFIRM_TITLE=a,r.EXIT_STORY_CREATION_CONFIRM_TEXT=l,r.EXIT_STORY_VIDEO_CREATION_CONFIRM_TITLE=c,r.EXIT_STORY_VIDEO_CREATION_CONFIRM_TEXT=d,r.EXIT_STORY_CREATION_DISCARD_TEXT=u,r.EXIT_STORY_CREATION_KEEP_TEXT=_,r.EXIT_STORY_CREATION_KEEP_MEDIA_TEXT=p,r.STORY_LANDSCAPE_WARNING_TEXT=E,r.STORY_LANDSCAPE_WARNING_TEXT_EDITING=h,r.TAP_FOR_MORE=T,r.CANNOT_LOAD_STICKERS=m,r.CHECK_CONNECTION=S,r.RETRY=g,r.ADD_TO_STORY_TEXT=f,r.PHOTO_ADDED_TEXT=O,r.VIDEO_ADDED_TEXT=P,r.UPLOAD_FAILED_TEXT=I,r.PHOTO_ADDED_TEXT_NEW=y,r.UPLOAD_FAILED_TEXT_NEW=C,r.YOUR_STORY_TEXT=R,r.SEND_TO_TEXT=n},12845058,[20381756]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a={event_name:"reel_creation_waterfall",library_upload_count:1,library_media_available:1,media_type:"1",source:"library",has_flash:!1,camera_position:null,capture_type:"normal",text_edit_count:0,text_edit_duration:0,tool_toggle_count:0,duration:0,color_toggle_count:0,save_media_count:0,has_text:!1,has_brush:!1,sticker_ids:[],sticker_toggle_count:0,has_sticker:!1};r.STORY_CREATION_EXIT_POINT={POST:1,EXIT:2,UNKNOWN:-1},r.logStoryCreationEvent=function(e){switch(e.step){case"enter":case"image_process_attempt":case"image_process_success":case"image_process_failure":return void t(n[0]).logPigeonEvent(t(n[1]).createEvent("instagram_web_story_creation",t(n[0]).getExtra({...e,event_name:"reel_creation_waterfall"})));case"compose_stage_attempt":case"compose_finalize_attempt":case"compose_failure":case"compose":case"exit_attempt":case"exit_cancel":case"exit":return void t(n[0]).logPigeonEvent(t(n[1]).createEvent("instagram_web_story_creation",t(n[0]).getExtra({...a,...e})))}}},12845065,[20381788,20381777]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IG_WEB_NUX_FUNNEL="IG_WEB_NUX_FUNNEL",r.NUX_FUNNEL_FACEBOOK_INTERSTITIAL="fb_interstitial",r.NUX_FUNNEL_PROFILE_PIC_INTERSTITIAL="prof_pic_interstitial",r.NUX_FUNNEL_IMPORT_CONTACTS_INTERSTITIAL="contacts_interstitial",r.NUX_FUNNEL_ADD_PHONE_NUMBER_INTERSTITIAL="phone_num_interstitial",r.NUX_FUNNEL_EMPTY_FEED_WITH_SU="empty_feed_with_su",r.NUX_FUNNEL_EMPTY_FEED_WITHOUT_SU="empty_feed_without_su",r.NUX_FUNNEL_FEED="feed",r.NUX_FUNNEL_DISCOVER_PEOPLE="discover_people"},13369349,[]),__d(function(e,s,t,o,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a={photo:1,video:2,carousel:8},l={containermodule:"feed_timeline",delivery_class:"organic",hashtag_follow_status:"following",inventory_source:"follow_hashtag_story",is_id:!1,device_os:"Web"};r.logImpression=function(e){var t=e["followHashtagInfo"],o=!0===e.isSidecar?"carousel":!0===e.isVideo?"video":"photo",o={...s(n[0]).getExtra(),...l,event_name:"impression",hashtag_id:null==t?void 0:t.id,hashtag_name:null==t?void 0:t.name,m_pk:e.id,media_type:a[o],media_type_name:o,deviceid:s(n[1]).getDeviceOrMachineId(),device_model:s(n[2]).getBrowserString(),primary_locale:s(n[3]).getLocale()};s(n[0]).logPigeonEvent(s(n[4]).createEvent("instagram_organic_impression",o,{module:"feed_timeline"}))}},14221322,[20381788,20381778,20381703,20381701,20381777]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t(n[0]);function a(){return s(n[3]).createElement("div",{className:"wAANn"},s(n[3]).createElement(t(n[4]).Spinner,{position:"absolute",size:"small"}))}const l=s(n[3]).lazy(()=>t(n[2])(n[1],"FeedSidebarContainer"));var c=o(n[6])("FeedSidebarContainerModule",function(e){return s(n[3]).createElement(o(n[5]),{loadingRenderer:s(n[3]).createElement(a,null)},s(n[3]).createElement(l,{onDisplayDone:e.onDisplayDone}))});r.default=c,r.preloadModule=function(){t(n[2])(n[1],"FeedSidebarContainer")}},14221323,[14221324,14024704,68,3,20447276,20447553,20447457]),__d(function(){},14221324,[]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={changeEmail:"#change-email",changePhone:"#change-phone",confirmEmail:"#confirm-email",confirmPhone:"#confirm-phone",importContacts:"#import-contacts",openGDPRDialog:"#consent",openGDPRFullscreen:"#open-GDPR-fullscreen",openGDPRMegaphone:"#open-gdpr",sharePhoto:"#share-photo",survey:"#survey",turnOnDataSaver:"#data-saver-on"}},14221325,[]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t(n[0]);var a=t(n[10]).connect(null,function(e){return{onNextButtonClick(){e(t(n[7]).syncProfilePic(o(n[8]).regInterstitialPage)),e(t(n[9]).showToast({text:t(n[7]).PROFILE_PIC_ADDED_TOAST_MESSAGE,persistOnNavigate:!0}))}}},null,{forwardRef:!0})(class extends s(n[1]).Component{constructor(...e){super(...e),this.handleSelectButtonClick=e=>{this.$ProfilePicAdder2&&this.$ProfilePicAdder2.handleEditProfilePic(e)},this.handleNextButtonClick=e=>{this.props.onNextButtonClick(),this.props.onHideClick()}}componentDidUpdate(e){e.profilePicUploadIsInFlight&&!this.props.profilePicUploadIsInFlight&&(e.onHideClick(),this.$ProfilePicAdder1=setTimeout(()=>{this.$ProfilePicAdder2&&this.$ProfilePicAdder2.handleCloseEditProfilePicMenu()},1e4))}componentWillUnmount(){clearTimeout(this.$ProfilePicAdder1)}$ProfilePicAdder3(){return this.$ProfilePicAdder4()?s(n[1]).createElement("div",{className:"iOyYw",key:"profile_pic"},s(n[1]).createElement("img",{alt:"",className:"_7YDdj",src:this.props.profilePictureUrl})):s(n[1]).createElement(t(n[2]).BorderedIcon,{alt:t(n[3])(2913),icon:t(n[2]).ICONS.USER_OUTLINE_24_GREY9,size:t(n[2]).CORE_CONSTANTS.AVATAR_SIZES.large})}$ProfilePicAdder4(){return!!this.props.profilePictureUrl}$ProfilePicAdder5(){if(null==this.props.secondaryButtonText||""===this.props.secondaryButtonText)return null;var e=null==this.props.profilePictureUrl||""===this.props.profilePictureUrl?this.props.onSecondaryButtonClick:this.handleSelectButtonClick;return s(n[1]).createElement("button",{className:this.props.secondaryButtonClass,onClick:e},this.props.secondaryButtonText)}render(){return s(n[1]).createElement("section",{className:this.props.className},s(n[1]).createElement(o(n[4]),{bodyText:null!=this.props.bodyText&&""!==this.props.bodyText?this.props.bodyText:t(n[3])(28),buttonText:this.$ProfilePicAdder4()?t(n[3])(2730):t(n[3])(2753),headerText:void 0!==this.props.headerText&&""!==this.props.headerText?this.props.headerText:t(n[3])(1413),icon:this.$ProfilePicAdder3(),isProcessing:this.props.profilePicUploadIsInFlight,onButtonClick:this.$ProfilePicAdder4()?this.handleNextButtonClick:this.handleSelectButtonClick}),s(n[1]).createElement(o(n[5]),{analyticsContext:this.props.analyticsContext,hasExistingPic:this.$ProfilePicAdder4(),ref:e=>this.$ProfilePicAdder2=e,skipEditMenu:!!o(n[6])._("ig_web_nux_universe","d71f5281d23877fb16e51afe6fa0db15")}),this.$ProfilePicAdder5())}});r.default=a},14221326,[14221327,3,20447276,20381756,11141234,20447594,20381849,20382044,20381912,20382051,5]),__d(function(){},14221327,[]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t(n[0]);var a=e=>s(n[1]).createElement("section",{className:o(n[2])("ABCxa",e.className)},s(n[1]).createElement("div",{className:"JErX0"},s(n[1]).createElement("div",{className:"ig3mj"},e.icon),s(n[1]).createElement("div",{className:"olLwo"},e.headerText),s(n[1]).createElement("div",{className:"f5C5x"},e.bodyText),!e.hideAction&&s(n[1]).createElement(t(n[3]).Button,{disabled:e.buttonDisabled,loading:e.isProcessing,onClick:e.onButtonClick},e.buttonText),e.footer));a.defaultProps={hideAction:!1},r.default=a},11141234,[11141235,3,20447282,20447276]),__d(function(){},11141235,[]),__d(function(e,r,o,t,s,i,n){"use strict";function a(e,t=0){return e.sidecarChildren&&e.sidecarChildren.length?a(e.sidecarChildren[0]):!0!==e.isVideo&&null!=e.src&&""!==e.src&&e.displayResources?{type:r(n[0]).PREFETCHED_IMAGE,id:e.id,src:e.src,srcSet:e.displayResources,intrinsicDimensions:o(n[1])(e.dimensions)}:null}Object.defineProperty(i,"__esModule",{value:!0});const l=[];var c=r(n[4]).connect(function(t,e){const o=e.getResourceFromPost||a,s=r(n[2]).getCurrentReel(t),i=t.stories.currentReelItemIndex;return{currentPostId:null!=s&&null!=s.itemIds?s.itemIds[i]:null,enabled:null==e.viewKey||!!t.mediaPrefetches.isEnabledForView.get(e.viewKey),resources:(e.postIds||l).map(e=>o(r(n[3]).getPostById(t,e),s)).filter(Boolean)}})(o(n[0]));i.default=c},10354873,[10354802,20447260,20381853,10354731,5]),__d(function(e,t,i,r,o,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),t(n[0]);const a="PREFETCHED_IMAGE",l=new Set,c=new Set,d=new Set,u=[];class _ extends r(n[3]).Component{constructor(...e){super(...e),this.state={next:null},this.$MediaPrefetcher4=e=>l.has(e)||c.has(e),this.$MediaPrefetcher1=()=>{if(null==this.props.postIds)return!1;for(const e of this.props.resources)if(!this.$MediaPrefetcher4(e.id))return!1;return!0},this.$MediaPrefetcher3=()=>{const e=this.state["next"];var t;null==e||d.has(e.id)||(t=setTimeout(()=>{l.has(e.id)||this.$MediaPrefetcher5(e.id)},1e4),d.add(e.id),u.push(t))},this.$MediaPrefetcher2=()=>{0<this.props.resources.length&&(t(n[1]).logAction_DEPRECATED("mediaPrefetchComplete",{successCount:l.size,timeoutCount:c.size,eligibleResourceCount:this.props.resources.length,viewKey:this.props.viewKey}),i(n[2]).incr("web.media_prefetch.complete")),null!=this.props.onLoadComplete&&this.props.onLoadComplete()},this.$MediaPrefetcher5=e=>{t(n[1]).logAction_DEPRECATED("mediaPrefetchTimedOut",{resource:this.state.next}),i(n[2]).incr("web.media_prefetch.timeout"),c.add(e),d.delete(e),this.setState(_.prefetchNext(this.props)),this.$MediaPrefetcher1()&&this.$MediaPrefetcher2()},this.$MediaPrefetcher6=()=>{var e=this.state.next;null!=e&&(t(n[1]).logAction_DEPRECATED("mediaPrefetchSuccess",{resource:this.state.next}),i(n[2]).incr("web.media_prefetch.success"),l.add(e.id),this.setState(_.prefetchNext(this.props))),this.$MediaPrefetcher1()&&this.$MediaPrefetcher2()}}static getDerivedStateFromProps(e){return _.prefetchNext(e)}componentDidMount(){this.$MediaPrefetcher1()?this.$MediaPrefetcher2():this.$MediaPrefetcher3()}componentDidUpdate(){this.$MediaPrefetcher3()}componentWillUnmount(){d.clear(),c.clear();for(const e of u)clearTimeout(e);u.length=0}shouldComponentUpdate(e,t){return this.props.enabled!==e.enabled||this.state.next!==t.next}static prefetchNext(e){var{resources:t,enabled:e}=e;if(!e)return null;for(const o of t)if(!l.has(o.id)&&!c.has(o.id))return{next:o};return{next:null}}render(){var{currentPostId:e,enabled:t,layoutWrapper:o}=this.props,s=this.state["next"];if(null==s||!t)return null;e=!this.$MediaPrefetcher4(s.id)&&(null==e||null!=e&&e!==s.id)&&(s.type===a?r(n[3]).createElement(i(n[4]),{className:"ZIm78",key:s.src,onError:this.$MediaPrefetcher6,onLoad:this.$MediaPrefetcher6,src:s.src,srcSet:s.srcSet}):r(n[3]).createElement(i(n[5]),{className:"ZIm78",key:s.src,onError:this.$MediaPrefetcher6,onLoaded:this.$MediaPrefetcher6,preloadOnly:!0,sources:s.srcSet}));return r(n[3]).createElement(o,{resource:s},e)}}_.defaultProps={enabled:!0,layoutWrapper:({children:e})=>e},s.default=_,s.PREFETCHED_IMAGE=a,s.PREFETCHED_VIDEO="PREFETCHED_VIDEO",s.TIMEOUT_DURATION=1e4,s._resetState=function(){l.clear(),d.clear(),c.clear()}},10354802,[10354803,20381788,9764865,3,10354798,10354800]),__d(function(){},10354803,[]),__d(function(e,h,T,m,t,o,S){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=T(S[9])(T(S[10])(T(S[11])(function(e,t){var o=e.sources,s=t.sources;if(o===s)return!1;if(o.length!==s.length)return!0;for(let e=0;e<o.length;++e)if(o[e].src!==s[e].src)return!0;return!1})(class extends m(S[4]).PureComponent{constructor(e){super(e),this.$ResponsiveVideo4=e=>{this.$ResponsiveVideo2=e,this.props.videoRef&&this.props.videoRef(e)},this.state={width:null}}$ResponsiveVideo1(){return T(S[0])(this.$ResponsiveVideo2).getBoundingClientRect().width}$ResponsiveVideo3(){return this.$ResponsiveVideo1()*(window.devicePixelRatio||1)}$ResponsiveVideo5(e,t,o){return null==e?t:this.props.downgradeVideoResolution?t.configWidth<e.configWidth?t:e:e.configWidth<o&&t.configWidth>e.configWidth||t.configWidth>o&&t.configWidth<=e.configWidth?t:e}$ResponsiveVideo6(e){let t=null,o=null;const s=[];for(const i of this.props.sources)switch(i.profile){case h(S[1]).PROFILE_MAIN:t=this.$ResponsiveVideo5(t,i,e);break;case h(S[1]).PROFILE_BASELINE:o=this.$ResponsiveVideo5(o,i,e);break;default:T(S[2])("got video candidate without a supported profile: "+String(i.profile)),s.push(i)}return[...null!=t?[t]:[],...null!=o?[o]:[],...s]}componentDidMount(){m(S[3]).measure(()=>{if(!this.$ResponsiveVideo7){const e=this.$ResponsiveVideo3();m(S[3]).mutate(()=>{this.$ResponsiveVideo7||this.setState({width:e})})}})}componentWillUnmount(){this.$ResponsiveVideo7=!0}render(){const e=this.state["width"],{autoPlay:t,className:o,downgradeImageResolution:s,downgradeVideoResolution:i,forwardedRef:r,imageResolution:n,isDataSaverMode:a,preloadOnly:l,sources:c,style:d,toggleDataSaverConfig:u,videoRef:_,...p}=this.props,E=Object.freeze({...p,...null!=t?{autoPlay:t}:{}});if(null==e)return m(S[4]).createElement("video",{className:o,crossOrigin:T(S[5])(),ref:this.$ResponsiveVideo4,style:d});if(l){const{onError:t,onLoaded:o}=this.props,s=this.$ResponsiveVideo6(e);return null!=t&&null!=o&&m(S[4]).createElement(T(S[6]),{onError:t,onLoaded:o,src:s[0].src,timeout:h(S[7]).TIMEOUT_DURATION})}return m(S[4]).createElement("video",T(S[8])({className:o,crossOrigin:T(S[5])(),ref:r||this.$ResponsiveVideo4,style:d},E),this.$ResponsiveVideo6(e).map((e,t)=>m(S[4]).createElement("source",{key:t,src:e.src,type:e.mimeType})))}})));o.default=s},10354800,[20447260,20381964,20381780,20381908,3,20382126,10354801,10354802,20382112,20382125,10354799,20447618]),__d(function(e,t,o,s,i,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=e=>((r=>{const[n]=t(a[0]).useState(()=>new XMLHttpRequest);t(a[0]).useEffect(()=>{const{onError:t,onLoaded:o,onTimeout:e,src:s,timeout:i}=r;return n.open("GET",s,!0),n.responseType="blob",n.onload=e=>{(200===n.status?o:t)()},null!=e&&(n.ontimeout=e),n.timeout=1e3*i,n.send(),()=>{n.abort()}},[r,n])})(e),null)},10354801,[3]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={addFirstPhoto:"addFirstPhoto",addPhone:"addPhone",connectToFacebook:"connectToFacebook",editProfile:"editProfile",editProfilePhoto:"editProfilePhoto"},l={bodyText:s(n[0]).FIRST_PHOTO_BODY,buttonText:s(n[0]).FIRST_PHOTO_CTA,headerText:s(n[0]).FIRST_PHOTO_HEADER,icon:t(n[1]).ICONS.CAMERA_OUTLINE_24_GREY9,iconAlt:s(n[0]).FIRST_PHOTO_BODY},c={bodyText:s(n[0]).PHONE_BODY,buttonText:s(n[0]).PHONE_CTA,headerText:s(n[0]).PHONE_HEADER,icon:t(n[1]).ICONS.CALL_OUTLINE_24_GREY9,iconAlt:s(n[0]).PHONE_BODY},d={bodyText:s(n[0]).FACEBOOK_BODY,buttonText:s(n[0]).FACEBOOK_CTA,headerText:s(n[0]).FACEBOOK_HEADER,icon:t(n[1]).ICONS.FACEBOOK_CIRCLE_OUTLINE_24_GREY9,iconAlt:s(n[0]).FACEBOOK_BODY},u={bodyText:s(n[0]).EDIT_PROFILE_BODY,buttonText:s(n[0]).EDIT_PROFILE_CTA,headerText:s(n[0]).EDIT_PROFILE_HEADER,icon:t(n[1]).ICONS.USER_OUTLINE_24_GREY9,iconAlt:s(n[0]).EDIT_PROFILE_BODY},n={bodyText:s(n[0]).PROFILE_PHOTO_BODY,buttonText:s(n[0]).PROFILE_PHOTO_CTA,headerText:s(n[0]).PROFILE_PHOTO_HEADER,icon:t(n[1]).ICONS.CAMERA_OUTLINE_24_GREY9,iconAlt:s(n[0]).PROFILE_PHOTO_BODY},n={[a.addFirstPhoto]:l,[a.addPhone]:c,[a.connectToFacebook]:d,[a.editProfile]:u,[a.editProfilePhoto]:n};r.KEYS=a,r.MODULES={emptyFeed:"emptyFeed",feed:"feed",profile:"profile"},r.KEY_UNIT_MAPPING=n},14221328,[10485780,20447276]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(n[0])(3433),l=t(n[0])(3377),c=t(n[0])(4107),d=t(n[0])(105),u=t(n[0])(211),_=t(n[0])(1802),p=t(n[0])(3916),E=t(n[0])(1262),h=t(n[0])(3759),T=t(n[0])(3480),m=t(n[0])(3646),S=t(n[0])(849),g=t(n[0])(2165),f=t(n[0])(2634),O=t(n[0])(3842),P=t(n[0])(1815),I=t(n[0])(3811),y=t(n[0])(3772),n=t(n[0])(1358);r.GETTING_STARTED=a,r.FIRST_PHOTO_HEADER=l,r.FIRST_PHOTO_BODY=c,r.FIRST_PHOTO_CTA=d,r.FACEBOOK_BODY=u,r.FACEBOOK_COMPLETED=_,r.FACEBOOK_CTA=p,r.FACEBOOK_HEADER=E,r.PROFILE_PHOTO_BODY=h,r.PROFILE_PHOTO_CTA=T,r.PROFILE_PHOTO_HEADER=m,r.PHONE_BODY=S,r.PHONE_COMPLETED=g,r.PHONE_CTA=f,r.PHONE_HEADER=O,r.EDIT_PROFILE_BODY=P,r.EDIT_PROFILE_COMPLETED=I,r.EDIT_PROFILE_CTA=y,r.EDIT_PROFILE_HEADER=n},10485780,[20381756]),__d(function(e,c,d,u,t,o,_){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const p=c(_[0]).createAsyncComponent({resolve:()=>c(_[2])(_[1],"SuggestedUserFeedUnitContainer")}),E=c(_[0]).createAsyncComponent({resolve:()=>c(_[2])(_[3],"InFeedStoryTray")}),h=d(_[4])(()=>[]);var s=class extends u(_[7]).PureComponent{constructor(...e){super(...e),this.$VirtualFeed1=({index:e,isVisible:t,visibleIndex:o})=>{var s;const{analyticsContext:i,itemClassName:r,items:n,onPostImpression:a}=this.props,l=n.get(e);if(null==l)return d(_[5])(`no item at index=${e}, size=${n.size}`),null;switch(l.type){case c(_[6]).GRAPH_IMAGE:case c(_[6]).GRAPH_VIDEO:case c(_[6]).GRAPH_SIDECAR:return u(_[7]).createElement(d(_[8]),{analyticsContext:i,autoplay:c(_[9]).hasAutoplayEnabledOnFeed({silent:!0}),className:r,id:l.postId,isVisible:t,key:l.postId,onImpression:a,Options:h(),position:e,variant:c(_[10]).VARIANTS.feed,visiblePosition:o});case c(_[6]).GRAPH_SUGGESTED_USER_FEED_UNIT:return u(_[7]).createElement(p,{className:r,key:e,position:e,trackingToken:l.trackingInfo.token,type:l.trackingInfo.type,userIds:l.userIds,variant:this.props.variant});case c(_[6]).GRAPH_STORIES_IN_FEED_ITEM:return u(_[7]).createElement(E,{className:r,filteringTag:l.filteringTag,hideUnitIfSeen:l.hideUnitIfSeen,key:null!==(s=l.trackingToken)&&void 0!==s?s:"feed_stories",reelIds:l.reelIds,title:null!==(s=l.title)&&void 0!==s?s:c(_[11]).STORIES_TRAY_IN_FEED_UNIT_TITLE});default:return d(_[5])(`unexpected feed item type: ${l.type}`),null}}}render(){return u(_[7]).createElement(d(_[12]),{allowSampledScrollLogging:this.props.allowSampledScrollLogging,analyticsContext:this.props.analyticsContext,enablePrefetch:!0,enablePriorityFetching:!0,hasNextPage:this.props.hasNextPage,isFetching:this.props.isFetching,items:this.props.items,onNextPage:this.props.onNextPage,prefetchNextPageThreshold:this.props.prefetchNextPageThreshold,renderFeedItem:this.$VirtualFeed1,visibleCount:this.props.visibleCount})}};o.default=s},14221329,[20447527,14090240,68,14155776,20381705,20381780,20381802,3,20185899,20381845,20185842,10354767,20185821]),__d(function(e,s,t,o,i,r,n){"use strict";function a(){var{edgeVapidPush:e,notifications:t,serviceWorker:o}=s(n[0]).getSupportedFeatures();return!s(n[1]).isLegacyEdgePWA()&&(!e||s(n[0]).hasVapid())&&s(n[2]).canUseDOM&&t&&o&&!s(n[3]).needsToConfirmCookies()&&window.Notification&&window.Notification.permission===s(n[4]).NOTIFICATION_PERMISSION.default&&!s(n[5]).isDismissed(s(n[5]).NOTIFICIATIONS_TYPE)&&!s(n[5]).isSessionDismissedHelper(s(n[5]).NOTIFICIATIONS_SESSIONS_TYPE)}Object.defineProperty(r,"__esModule",{value:!0});var l=class extends o(n[7]).PureComponent{constructor(...e){super(...e),this.state={showModal:!1},this.$NotificationsScreen1=()=>{a()&&setTimeout(()=>{this.setState({showModal:!0},()=>{s(n[6]).logAction_DEPRECATED("notificationsNuxShown")})},0)},this.$NotificationsScreen2=()=>{this.setState({showModal:!1})},this.onAction=e=>{s(n[0]).initalizePush("upsell"),this.$NotificationsScreen2()},this.onClose=e=>{this.$NotificationsScreen2(),s(n[6]).logAction_DEPRECATED("notificationsNuxDismissed"),s(n[5]).setDismissSessionEntryHelper(s(n[5]).NOTIFICIATIONS_SESSIONS_TYPE)}}componentDidMount(){this.$NotificationsScreen1()}render(){return this.state.showModal?o(n[7]).createElement(t(n[8]),{onAction:this.onAction,onClose:this.onClose}):null}};r.default=l,r.showNotificationsPrompt=a},14221330,[20382272,20381703,9699438,20381701,20382273,20382259,20381788,3,14221331]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=s(n[0]).createElement("img",{alt:"",height:"76px",src:"/static/images/ico/xxhdpi_launcher.png/99cf3909d459.png",width:"76px"});var l=class extends s(n[0]).PureComponent{render(){var e=s(n[0]).createElement(t(n[1]).DialogCircleMedia,{icon:a});return s(n[0]).createElement(t(n[1]).Dialog,{body:s(n[2]).NOTIFICATIONS_MODAL_PARAGRAPH,media:e,title:s(n[2]).NOTIFICATIONS_MODAL_TITLE},s(n[0]).createElement(t(n[1]).DialogItem,{color:"ig-primary-button",onClick:this.props.onAction},s(n[2]).NOTIFICATIONS_MODAL_ACTION),s(n[0]).createElement(t(n[1]).DialogItem,{onClick:this.props.onClose},s(n[2]).NOTIFICATIONS_MODAL_SECONDARY_ACTION))}};r.default=l},14221331,[3,20447276,14221332]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(n[0])(1187),l=t(n[0])(1536),c=t(n[0])(2976),n=t(n[0])(3695);r.NOTIFICATIONS_MODAL_PARAGRAPH=a,r.NOTIFICATIONS_MODAL_TITLE=l,r.NOTIFICATIONS_MODAL_ACTION=c,r.NOTIFICATIONS_MODAL_SECONDARY_ACTION=n},14221332,[20381756]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=s(n[0]).createElement("img",{alt:"",height:"76px",src:"/static/images/ico/xxhdpi_launcher.png/99cf3909d459.png",width:"76px"});class l extends s(n[0]).PureComponent{render(){var e=s(n[0]).createElement(t(n[1]).DialogCircleMedia,{icon:a});return s(n[0]).createElement(t(n[1]).Dialog,{body:s(n[2]).A2HS_MODAL_PARAGRAPH,media:e,title:s(n[2]).A2HS_MODAL_TITLE},s(n[0]).createElement(t(n[1]).DialogItem,{color:"ig-primary-button",onClick:this.props.onAction},s(n[2]).A2HS_MODAL_ACTION_TITLE),s(n[0]).createElement(t(n[1]).DialogItem,{onClick:this.props.onClose},t(n[3]).CANCEL_TEXT))}}r.default=()=>s(n[0]).createElement(o(n[4]),{addToHomeScreenUI:l}),r.AddToHomeScreenModal=l},10485827,[3,20447276,10485828,20382053,10485829]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(n[0])(2360),l=t(n[0])(468),n=t(n[0])(738);r.A2HS_MODAL_PARAGRAPH=a,r.A2HS_MODAL_TITLE=l,r.A2HS_MODAL_ACTION_TITLE=n},10485828,[20381756]),__d(function(e,o,s,i,t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),o(n[0]);class a extends i(n[1]).PureComponent{constructor(...e){super(...e),this.$UploadProgressBar1=()=>i(n[1]).createElement(o(n[2]).Box,{alignItems:"center",direction:"row",flex:"grow",paddingX:2},i(n[1]).createElement("div",{className:"AbEQm"},i(n[1]).createElement("div",{className:"Taqwd",style:{width:`${this.props.progress}%`}})),i(n[1]).createElement(o(n[2]).Box,{marginStart:2,width:36},i(n[1]).createElement("div",{className:"kuHp8"},`${this.props.progress}%`))),this.$UploadProgressBar2=()=>{var{actionNode:e,text:t}=this.props;return i(n[1]).createElement("div",{className:"o5gub"},i(n[1]).createElement(o(n[2]).Box,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"between"},i(n[1]).createElement(o(n[2]).Text.BodyEmphasized,{display:"inline"},t),null!==e&&i(n[1]).createElement(o(n[2]).Box,{marginStart:1},e)))}}render(){var{thumbnailURL:e,status:t}=this.props;return i(n[1]).createElement("div",{className:"TExId"},null!=e&&""!==e&&i(n[1]).createElement(o(n[2]).Box,{marginEnd:2},i(n[1]).createElement(s(n[3]),{src:e,isVideo:!0,isSquare:!0})),"uploading"===t?this.$UploadProgressBar1():this.$UploadProgressBar2())}}var l=o(n[4]).connect(function(e){return{actionNode:e.uploadProgress.actionNode,progress:e.uploadProgress.progress,text:e.uploadProgress.text,status:e.uploadProgress.status,thumbnailURL:e.uploadProgress.thumbnailURL}})(a);r.default=l,r.UploadProgressBar=a},14221333,[14221334,3,20447276,12779526,5]),__d(function(){},14221334,[]),__d(function(e,s,i,r,t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),s(n[0]);o.default=({src:e,isVideo:t=!1,isSquare:o=!1})=>r(n[1]).createElement("div",{className:`g5kp1 ${o?"_JTHj":""}`},r(n[1]).createElement("img",{className:"FuaTR",src:e,alt:s(n[2])(903)}),t&&r(n[1]).createElement("div",{className:"cRc_w"},r(n[1]).createElement(i(n[3]),null)))},12779526,[12779527,3,20381756,20185801]),__d(function(){},12779527,[]),__d(function(e,i,r,n,t,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e){const o=i(a[0]).useSelector(e=>i(a[1]).getSeenCountInStoryTray(e)),s=i(a[0]).useDispatch(),t=i(a[0]).useSelector(t=>({broadcasts:i(a[2]).getBroadcastStoryTrayItems(t),dataFetchStatus:t.feed.extrasDataFetchStatus,feedFilter:i(a[3]).getFeedFilter(t),hasOwnReel:i(a[1]).userHasReel(t,r(a[4])(t.users.viewerId)),hasSeenZeroNUX:!!t.zero.nuxPreference.story,isFullySeen:e=>{if(null==e)return!1;e=i(a[1]).getFirstUnseenReelItemIndex(t,e);return null!=e&&e<0},loadingId:t.stories.trayLoadingId,newReelCount:t.stories.feedTray&&t.stories.feedTray.count()-r(a[4])(o),reels:i(a[1]).getFeedStoryTrayWithoutOwn(t),seenReelCount:o,storyPrefetchFinished:t.feed.storyPrefetchComplete,traySession:t.stories.traySession,viewerId:t.users.viewerId,viewportWidth:t.displayProperties.viewportWidth}),i(a[0]).shallowEqual);return n(a[8]).createElement(r(a[9]),r(a[10])({},e,t,{onLoadReel:(e,t,o)=>{s(i(a[5]).openReelsMedia(e,"reel_feed_timeline",t,o))},onStoryItemScrollEnter:(e,t)=>{s(i(a[5]).loadReelsMediaForTray(t,e,{batchSize:15,fetchDistance:5}))},onUpdateZeroNUXPreference:()=>{s(i(a[6]).updateZeroNUXPreference(i(a[7]).ZeroNUXMedia.story))}}))}},14221335,[5,20381853,20382339,20382087,20447260,20382350,20185911,20381772,3,14221336,20382112]),__d(function(e,c,d,u,t,o,_){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),c(_[0]);var s=d(_[26])("StoryTray",d(_[27])(class extends u(_[11]).PureComponent{constructor(...e){super(...e),this.state={isZeroBannerEligible:c(_[1]).isZeroRatingSlimEligible(),leftVisibleItem:-1,rightVisibleItem:-1},this.didLogComponentLoad=!1,this.didLogStoryTrayLoad=!1,this.$StoryTray2=()=>{var e=this.props["dataFetchStatus"],e=e!==c(_[2]).EXTRAS_DATA_FETCH_STATUS.loaded;this.didLogComponentLoad||e?!this.didLogStoryTrayLoad&&e&&(c(_[3]).StoryTrayLoadPerformanceLogger.onStoryTrayLoadSuccess(),this.didLogStoryTrayLoad=!0):(c(_[3]).StoryTrayLoadPerformanceLogger.onTrayComponentLoad({hasCaching:c(_[4]).hasStoriesCaching()}),this.didLogComponentLoad=!0)},this.$StoryTray3=(e,t)=>{this.props.onLoadReel(d(_[5])(this.props.reels),e,t)},this.$StoryTray4=(e,t)=>{const o=this.props.reels?this.props.reels.get(t-1):null;d(_[6]).log(()=>({a_pk:Number(e),is_new_reel:this.props.isFullySeen(null===o||void 0===o?void 0:o.id)?0:1,has_my_reel:d(_[5])(this.props.hasOwnReel)?1:0,new_reel_count:d(_[5])(this.props.newReelCount),pigeon_reserved_keyword_module:"reel_feed_timeline",reel_type:c(_[7]).getTypeForLogging(null===o||void 0===o?void 0:o.type),tray_position:t,tray_session_id:this.props.traySession,viewed_reel_count:d(_[5])(this.props.seenReelCount)}));const s={containermodule:"reel_feed_timeline",event_name:"reel_tray_impression",has_my_reel:d(_[5])(this.props.hasOwnReel),ig_userid:this.props.viewerId,media_author:e,new_reel_count:d(_[5])(this.props.newReelCount),source_of_action:"reel_feed_timeline",tray_position:t,tray_session_id:this.props.traySession,viewed_reel_count:d(_[5])(this.props.seenReelCount)};!0===(null===o||void 0===o?void 0:o.isCloseFriends)&&(s.action="close_friends_story_ring_impression"),c(_[7]).logStoriesEvent(s)},this.$StoryTray5=(e,t)=>{d(_[6]).log(()=>({a_pk:Number(e.broadcast_owner),is_new_reel:0,has_my_reel:d(_[5])(this.props.hasOwnReel)?1:0,new_reel_count:d(_[5])(this.props.newReelCount),pigeon_reserved_keyword_module:"reel_feed_timeline",reel_type:c(_[8]).getReelTypeForLogging(e),tray_position:t,tray_session_id:this.props.traySession,viewed_reel_count:d(_[5])(this.props.seenReelCount)}))},this.$StoryTray6=()=>{var e=this.props.broadcasts.size;return 0!==e&&c(_[9]).isDesktop()&&c(_[10]).hasLiveInStories()?e:0},this.$StoryTray7=()=>0!==this.props.broadcasts.size&&c(_[9]).isDesktop()&&c(_[10]).hasLiveInStories()?this.props.broadcasts.sort((e,t)=>((null==e?void 0:e.ranked_position)||0)-((null==t?void 0:t.ranked_position)||0)).toList():null,this.$StoryTray8=({index:e,isVisible:t})=>{const o=this.$StoryTray7(),s=this.$StoryTray6(),i=this.$StoryTray9()?1:0,r={isVisible:t,isZeroBannerEligible:this.state.isZeroBannerEligible,onClick:this.$StoryTray3,onScrollEnter:this.$StoryTray4,trayPosition:e,onUpdateZeroNUXPreference:this.props.onUpdateZeroNUXPreference,hasSeenZeroNUX:this.props.hasSeenZeroNUX};let n,a;if(e<i)n=u(_[11]).createElement(d(_[12]),d(_[13])({hasOwnReel:this.props.hasOwnReel,viewerId:this.props.viewerId},r));else if(e<s+i&&null!=o){const l=e-i,s=o.get(l);n=null!=s&&u(_[11]).createElement(d(_[14]),{broadcast:s,isVisible:t,onScrollEnter:this.$StoryTray5,trayPosition:e})}else{const t=e-s-i,l=d(_[5])(this.props.reels);a=d(_[5])(l.get(t)),n=u(_[11]).createElement(d(_[15]),d(_[13])({reel:a},r))}return u(_[11]).createElement("div",{className:"Fd_fQ",key:a?a.id:e,style:c(_[9]).isDesktop()&&!0===d(_[16])._("ig_web_stories_tray","d8118551b4099d61db8828c411077db5")||!c(_[4]).hasStoriesCaching()?void 0:{transform:`translateX(${80*e}px)`}},n)},this.$StoryTray9=()=>{if(c(_[9]).isMobile())return!0;var e=c(_[9]).isDesktop()&&!0===d(_[16])._("ig_web_stories_tray","d8118551b4099d61db8828c411077db5");return!(!0===this.props.hideOwnStory&&e||!this.props.hasOwnReel)},this.$StoryTray10=()=>{const e=this.props["reels"],t=this.$StoryTray9()?1:0,o=this.$StoryTray6();return(null!=e?e.count():0)+t+o},this.$StoryTray11=()=>this.props.dataFetchStatus===c(_[2]).EXTRAS_DATA_FETCH_STATUS.loading,this.$StoryTray12=()=>{const{reels:e,seenReelCount:t}=this.props;return e&&-1!==t&&0<e.count()-t},this.$StoryTray13=e=>{var{leftPct:t,rightPct:o}=e,{leftVisibleItem:s,rightVisibleItem:e}=this.state,t=Math.floor(t),o=Math.ceil(o);s===t&&e===o||this.setState({leftVisibleItem:t,rightVisibleItem:o})},this.$StoryTray14=(o,s)=>{var e=this.$StoryTray10();return Array.from(Array(e),(e,t)=>this.$StoryTray8({index:t,isVisible:o<=t&&t<=s}))}}componentDidMount(){this.$StoryTray1(),this.$StoryTray2()}componentDidUpdate(){this.$StoryTray1(),this.$StoryTray2()}$StoryTray1(){null!=this.props.reels&&this.props.onDisplayDone()}render(){var{feedFilter:e,reels:t,viewportWidth:o}=this.props,{leftVisibleItem:s,rightVisibleItem:i}=this.state,r=this.$StoryTray11(),n=this.$StoryTray10(),a=this.$StoryTray12(),o=Math.max(10,Math.ceil(o/80)),o=c(_[9]).isDesktop()&&!0===d(_[16])._("ig_web_stories_tray","d8118551b4099d61db8828c411077db5")?u(_[11]).createElement(d(_[17]),{animationDuration:500,autoScrollOnFocus:!1,disableScrollSnap:!0,enableMouseSwipe:!0===d(_[16])._("ig_web_stories_tray","34fed6fde2759ba172c0166eda460d91"),gutterWidth:10,itemWidth:80,onVisibilityChange:this.$StoryTray13,overscan:5,pagerVariant:"stories",pageSize:4},this.$StoryTray14(s,i)):u(_[11]).createElement(d(_[18]),{className:`qf6s4 ${c(_[4]).hasStoriesCaching()?"lGuO0":""}`,containerSize:"auto",direction:"horizontal",estimatedItemSize:80,initialRenderCount:o,itemCount:n,overscanCount:4,renderer:this.$StoryTray8}),o=u(_[11]).createElement("div",{className:`ku8Bn ${null==t?"p2GVa":""}`},o);return u(_[11]).createElement(u(_[11]).Fragment,null,(c(_[9]).isDesktop()&&0<n||c(_[9]).isMobile()||null==t)&&u(_[11]).createElement(d(_[19]),null,r&&u(_[11]).createElement("div",{className:`u6s6p ${r?"":"UZmR1"}`},r&&u(_[11]).createElement(c(_[20]).Box,{alignItems:"center",direction:"row",justifyContent:"center"},u(_[11]).createElement(c(_[20]).Spinner,null))),null==t?u(_[11]).createElement(d(_[21]),null):o),c(_[9]).isMobile()&&!0===a&&u(_[11]).createElement("div",{className:"RN9GI"},u(_[11]).createElement(d(_[22]),{anchor:u(_[23]).QP_TOOLTIP_ANCHORS.story_tray_item,filter:e,slot:u(_[23]).SLOTS.feed,trigger:u(_[23]).TRIGGERS.instagram_feed_tool_tip})),d(_[24])._("ig_web_interaction_tracing")&&u(_[11]).createElement(c(_[25]).HeroHoldTrigger,{description:"StoryTray",hold:null==t}))}}));o.default=s,o.MOBILE_TRAY_COL_WIDTH=80},14221336,[14221337,20381772,20381941,20382056,20381845,20447260,14024711,20382042,20382345,20381703,20382337,3,14221338,20382112,14221343,14221340,20381849,20185917,20447429,14221344,20447276,14221346,20447631,20382088,20381753,20382184,20447457,10354799]),__d(function(){},14221337,[]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a={pigeon:!1,falco:!0};r.default=class{static log(e){o(n[0])._("ig_web_logging_stories")&&t(n[1]).FalcoLogger.log("reel_tray_impression",e(),{},a)}}},14024711,[20381753,20381758]),__d(function(e,a,l,c,t,o,d){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),a(d[0]);var s=a(d[19]).connect(function(e,t){var o=a(d[15]).getUserById(e,t.viewerId);return{isAppUpsellLoggedInSheetOpen:e.upsell.isAppUpsellLoggedInSheetOpen,profilePictureUrl:o.profilePictureUrl,reel:a(d[16]).getReel(e,t.viewerId)}},function(s){return{openAppUpsellLoggedInSheet(e){s(a(d[17]).openAppUpsellLoggedInSheet(e))},onOpenReel(e,t,o){s(a(d[18]).openReel(e,t,o))}}})(class extends c(d[7]).Component{constructor(...e){super(...e),this.$OwnStoryTrayItem1=()=>{a(d[1]).isMobile()&&(a(d[2]).isDismissed(a(d[2]).USE_THE_APP_LI_SHEET)||!0!==l(d[3])._("ig_web_h1_2020_app_upsells","af069090f87d0afc94dca34ec07d2b87",{silent:!0})?l(d[5])(this.$OwnStoryTrayItem2).handleStoryCreationClick():this.props.openAppUpsellLoggedInSheet(l(d[4]).StoryCreationPage))},this.$OwnStoryTrayItem3=(e,t)=>{this.props.onOpenReel(e,t,"reel_feed_timeline")}}render(){const{hasOwnReel:e,profilePictureUrl:t,...o}=this.props;if(!0!==e)return c(d[7]).createElement("button",{className:"JdY43",onClick:this.$OwnStoryTrayItem1},c(d[7]).createElement(l(d[10]),{className:"ctM9u",isLink:!1,profilePictureUrl:t,size:56}),this.props.isAppUpsellLoggedInSheetOpen&&!0===l(d[3])._("ig_web_h1_2020_app_upsells","af069090f87d0afc94dca34ec07d2b87",{silent:!0})?c(d[7]).createElement(l(d[11]),{pageID:l(d[4]).StoryCreationPage}):l(d[3])._l("ig_web_h1_2020_app_upsells"),c(d[7]).createElement("div",{className:"XdXBI"},a(d[8]).YOUR_STORY_TEXT),c(d[7]).createElement("div",{className:"TiuNS"},c(d[7]).createElement(l(d[12]),{alt:a(d[13])(2327),color:"ig-primary-button",size:16})),c(d[7]).createElement(l(d[14]),{entryPoint:"your_story_placeholder",ref:e=>this.$OwnStoryTrayItem2=e}));{const{isAppUpsellLoggedInSheetOpen:e,onOpenReel:t,openAppUpsellLoggedInSheet:s,reel:i,viewerId:r,...n}=o;return null!=i||l(d[6])(0),c(d[7]).createElement(l(d[8]),l(d[9])({},n,{onClick:this.$OwnStoryTrayItem3,reel:i}))}}});o.default=s},14221338,[14221339,20381703,20382259,20381849,20381912,20447260,9699436,3,14221340,20382112,20447322,14221341,14221342,20381756,14221321,20382040,20381853,20382265,20382350,5]),__d(function(){},14221339,[]),__d(function(e,n,a,l,t,o,c){"use strict";Object.defineProperty(o,"__esModule",{value:!0});let s=0;const d=n(c[0])(1441);var i=n(c[9]).connect(function(e,t){var o=n(c[7]).getUserById(e,a(c[2])(t.reel.userId));return{isMuted:t.reel.muted,isSeen:n(c[8]).isReelSeen(t.reel),isViewer:e.users.viewerId===t.reel.id,profilePictureUrl:a(c[2])(o.profilePictureUrl),username:a(c[2])(o.username)}})(class extends l(c[3]).PureComponent{constructor(...e){super(...e),this.state={isZeroNuxOpen:!1},this.$StoryTrayItem1=a(c[1])(e=>`StoryTrayItem_${s++}`),this.$StoryTrayItem3=()=>{!0===this.props.isZeroBannerEligible?this.showZeroNuxOrPlay():this.props.onClick(this.props.reel.id,this.$StoryTrayItem1(this.props.reel.id))},this.$StoryTrayItem2=()=>{this.props.onScrollEnter(a(c[2])(this.props.reel.userId),this.props.trayPosition)},this.$StoryTrayItem4=e=>{e&&e.stopPropagation(),this.setState({isZeroNuxOpen:!1})},this.$StoryTrayItem5=e=>{e.stopPropagation();const t=this.props["onUpdateZeroNUXPreference"];t&&t(),this.setState({isZeroNuxOpen:!1}),this.props.onClick(this.props.reel.id,this.$StoryTrayItem1(this.props.reel.id))},this.showZeroNuxOrPlay=()=>{!0!==this.props.hasSeenZeroNUX?this.setState({isZeroNuxOpen:!0}):this.props.onClick(this.props.reel.id,this.$StoryTrayItem1(this.props.reel.id))}}componentDidMount(){this.props.isVisible&&this.$StoryTrayItem2()}componentDidUpdate(e){!e.isVisible&&this.props.isVisible&&this.$StoryTrayItem2()}render(){var{isMuted:e,isSeen:t,isViewer:o,profilePictureUrl:s,username:i}=this.props,i=o?d:i;let r=null;return!0===this.props.isZeroBannerEligible&&this.state.isZeroNuxOpen&&(r=l(c[3]).createElement(a(c[4]),{mediaKeyword:n(c[5]).ZeroNUXMedia.story,onAction:this.$StoryTrayItem5,onClose:this.$StoryTrayItem4,profilePictureUrl:s})),l(c[3]).createElement(a(c[6]),{clickTargetElementId:this.$StoryTrayItem1(this.props.reel.id),isMuted:e||!1,isSeen:t,label:i,nux:r,onClick:this.$StoryTrayItem3,profilePictureUrl:s,username:this.props.username})}});o.default=i,o.YOUR_STORY_TEXT=d},14221340,[20381756,20381801,20447260,3,14155780,20381772,20447599,20382040,20381853,5]),__d(function(e,o,s,i,t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),o(n[0]),o(n[1]);const a=o(n[2])(404),l=o(n[2])(621);r.default=function(e){var t=e["profilePictureUrl"];o(n[3]).useEffect(()=>{o(n[4]).logZeroEvent({event_name:"nux_impression"})},[]);t={nuxTitle:l,nuxAction:a,nuxIcon:i(n[3]).createElement("div",{className:"TFHq6"},i(n[3]).createElement(s(n[5]),{className:"_0zJgH",seen:!1,size:64}),null!=t&&""!==t&&i(n[3]).createElement(s(n[6]),{isLink:!1,profilePictureUrl:t,size:66})),nuxIcon2:i(n[3]).createElement("div",{className:"coreSpriteSpinstaNux"})};return i(n[3]).createElement(s(n[7]),s(n[8])({nuxContent:t},e))}},14155780,[20447346,14155781,20381756,3,20381788,20447583,20447322,20185930,20382112]),__d(function(){},14155781,[]),__d(function(e,S,g,f,t,o,O){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const P="logged_in_sheet";o.default=e=>{const t=e["pageID"],[o,s]=f(O[0]).useState(!1),i=S(O[1]).isIgLiteCarbonUpsellsEligible(),{android:r,ios:n,originalPath:a}=S(O[2]).useSelector(e=>S(O[3]).getDeepLink(e)),l=S(O[2]).useDispatch(),[c,d]=f(O[0]).useState(S(O[4]).isDismissed(S(O[4]).USE_THE_APP_LI_SHEET)),{DirectInboxPage:u,StoryCreationPage:_}=g(O[5]),p=f(O[0]).useCallback(()=>{switch(t){case u:return{title:f(O[6]).APP_HIGH_INTENTION_DIRECT_TITLE,body:i?f(O[6]).INSTAGRAM_LITE_CARBON_APP_HIGH_INTENTION_DIRECT_BODY:f(O[6]).APP_HIGH_INTENTION_DIRECT_BODY};case _:return{title:f(O[6]).APP_HIGH_INTENTION_STORIES_CREATE_TITLE,body:f(O[6]).APP_HIGH_INTENTION_STORIES_CREATE_BODY};default:return g(O[7])("We shouldn't be getting to this case since the control won't show an app upsell"),{title:f(O[6]).GUIDE_HEADER_TEXT_DEFAULT,body:f(O[6]).GUIDE_BODY_TEXT_DEFAULT}}},[u,_,i,t]),E=f(O[0]).useCallback(e=>{S(O[8]).logAction_DEPRECATED("appSheetDismiss",{platform:S(O[9]).getAppPlatform(),source:t,type:P}),S(O[10]).logLoggedInCtaEvent({containermodule:t,ctaType:"app_sheet",ctaVersion:i?"instagramlitecarbon":"",eventName:"dismiss"}),d(!0),l(S(O[11]).closeAppUpsellLoggedInSheet()),S(O[4]).setDismissEntry(S(O[4]).USE_THE_APP_LI_SHEET)},[l,i,t]),h=f(O[0]).useCallback(e=>{e.preventDefault(),S(O[8]).logAction_DEPRECATED("appSheetClick",{platform:S(O[9]).getAppPlatform(),source:t,type:P}),S(O[10]).logLoggedInCtaEvent({containermodule:t,ctaType:"app_sheet",ctaVersion:i?"instagramlitecarbon":"",eventName:"click"}),S(O[12]).flushLogsAndOpenInApp(r,n,a,null,"logged_in_app_sheet",i)},[r,n,i,a,t]),T=f(O[0]).useMemo(()=>{var e=!0===g(O[13])._("ig_web_h1_2020_app_upsells","babe870c0e3313f8e57c49b40cadca58")||!0===g(O[13])._("ig_web_h1_2020_app_upsells","af069090f87d0afc94dca34ec07d2b87");return S(O[14]).isUserLoggedIn()&&S(O[15]).isMobile()&&!c&&e},[c]);f(O[0]).useEffect(()=>{T&&!o&&(S(O[8]).logAction_DEPRECATED("appSheetImpression",{platform:S(O[9]).getAppPlatform(),source:t,type:P}),S(O[10]).logLoggedInCtaEvent({containermodule:t,ctaType:"app_sheet",ctaVersion:i?"instagramlitecarbon":"",eventName:"impression"}),s(!0))},[i,o,t,T]);var{body:m,title:e}=p();return T&&f(O[0]).createElement(g(O[16]),{appIcon:f(O[0]).createElement(S(O[17]).IconButton,{alt:f(O[6]).GO_TO_THE_APP,icon:i?S(O[17]).ICONS.QP_INSTAGRAM:S(O[17]).ICONS.APP_ICON_36,onClick:h}),body:m,isIgLiteCarbon:i,onCallToActionClick:h,onClose:E,title:e})}},14221341,[3,20447462,5,20382083,20382259,20381912,20447465,20381780,20381788,20381701,20185255,20382265,20382261,20381849,20381790,20381703,20447470,20447276]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=s(n[0]).memo(function(e){return s(n[0]).createElement(o(n[1]),o(n[2])({},e,{viewBox:"0 0 48 48"}),s(n[0]).createElement("path",{d:"M24 0C10.8 0 0 10.7 0 24s10.7 24 24 24 24-10.7 24-24S37.3 0 24 0zm12.3 25.5H25.5v10.7c0 .8-.7 1.5-1.5 1.5s-1.5-.7-1.5-1.5V25.5H11.8c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h10.7V11.7c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v10.7h10.7c.8 0 1.5.7 1.5 1.5s-.6 1.6-1.4 1.6z"}))});r.default=a},14221342,[3,20447312,20382112]),__d(function(e,u,_,p,t,o,E){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.default=function({broadcast:t,isVisible:e,onScrollEnter:o,trayPosition:s}){const{cobroadcasters:i,muted:r}=t,n=u(E[0]).useDispatch(),a=u(E[1]).useCallback(()=>{n(u(E[2]).openLivePlayerFromStoryTray(t,"live_feed_timeline",s))},[t,n,s]),l=u(E[0]).useSelector(e=>u(E[3]).getDisplayedBroadcasters(e,t.id)),c=l["primary"];u(E[1]).useEffect(()=>{e&&o(t,s)},[t,e,o,s]);var d=0<i.length?p(E[1]).createElement(u(E[4]).Box,{direction:"row"},p(E[1]).createElement(u(E[4]).Box,{marginEnd:1,maxWidth:44},p(E[1]).createElement(u(E[4]).Text,{display:"truncated",size:"footnote",zeroMargin:!0},c.username)),p(E[1]).createElement(u(E[4]).Text,{size:"footnote",zeroMargin:!0},u(E[5]).liveBroadcasters(i.length))):c.username;return p(E[1]).createElement(_(E[6]),{isLive:!0,isMuted:r,isSeen:!1,label:d,onClick:a,profilePictureUrl:c.profile_pic_url,username:c.username})},o.LIVE_STORY_AVATAR_SIZE=56},14221343,[5,3,20382340,20382339,20447276,20447601,20447599]),__d(function(e,s,i,r,t,o,n){"use strict";function a(e){return e.displayProperties.viewportWidth>=i(n[1])["feed-with-padding-threshold-min"].value}Object.defineProperty(o,"__esModule",{value:!0}),s(n[0]),o.default=function(e){var t=s(n[2]).useSelector(a),o=s(n[3]).isDesktop()&&!0===i(n[4])._("ig_web_stories_tray","d8118551b4099d61db8828c411077db5");return r(n[5]).createElement("div",{className:`zGtbP ${t?"IPQK5":""} ${o?"VideM":""}`},i(n[6])._("ig_web_interaction_tracing")?r(n[5]).createElement(s(n[7]).HeroPlaceholder,{fallback:r(n[5]).createElement(i(n[8]),null),name:"FeedStoryTrayWrapper"},e.children):r(n[5]).createElement(r(n[5]).Suspense,{fallback:r(n[5]).createElement(i(n[8]),null)},e.children))}},14221344,[14221345,20447271,5,20381703,20381849,3,20381753,20382184,14221346]),__d(function(){},14221345,[]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t(n[0]),r.default=function(){var e=window.innerWidth,e=Math.ceil(e/t(n[1]).MOBILE_TRAY_COL_WIDTH);return s(n[2]).createElement("div",{className:"CfWOi"},o(n[3])(e,e=>s(n[2]).createElement("div",{key:e,className:"vyqnV"},s(n[2]).createElement(o(n[4]),null))))}},14221346,[14221347,14221336,3,20382117,14221348]),__d(function(){},14221347,[]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t(n[0]);r.default=function(){return s(n[1]).createElement(o(n[2]),{className:"y0gra",size:56})}},14221348,[14221349,3,14024718]),__d(function(){},14221349,[]),__d(function(e,t,s,i,o,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t(n[0]);r.default=function({className:e,hideAvatarBorder:t,size:o}){return i(n[1]).createElement("div",{className:s(n[2])("hHOPZ",e)},i(n[1]).createElement(s(n[3]),{className:"_4CvhT",isLoading:!1,seen:!0,showRing:!1,size:o}),i(n[1]).createElement("div",{className:`_7JZQt ${t?"":"LO-7C"}`,style:{height:o,width:o}}))}},14024718,[14024719,3,20447282,20447583]),__d(function(){},14024719,[]),__d(function(e,i,o,s,t,r,n){"use strict";function a({children:t,resource:e}){return s(n[4]).createElement(o(n[5]),{intrinsicDimensions:e.intrinsicDimensions},({className:e})=>s(n[4]).createElement("div",{className:e},t))}Object.defineProperty(r,"__esModule",{value:!0}),i(n[0]);var l=i(n[10]).connect(function(e,t){const o=i(n[1]).getPrefetchablePostIds(e,t.prefetchContext),s={items:[],prefetchCount:0};for(const t of o){const o=e.posts.byId.get(t,null);null!=o&&s.items.push({id:o.id,isVideo:o.isVideo}),s.prefetchCount++}return{postIds:o,prefetchLogExtras:s}},function(e,t){return{onLoadComplete(){"feed"===t.prefetchContext&&e({type:i(n[9]).FEED_PAGE_STORY_PREFETCH_COMPLETE})}}})(o(n[11])(class extends s(n[4]).Component{componentDidMount(){var e={...this.props.prefetchLogExtras,dataSaver:this.props.isDataSaverMode,preload:this.props.preload};i(n[6]).logIgLiteAction({event_name:"storiesPrefetchAttempt",extras:e}),this.props.preload!==i(n[7]).PRELOAD_AUTO&&this.props.onLoadComplete()}render(){return this.props.preload===i(n[7]).PRELOAD_AUTO&&s(n[4]).createElement("div",{className:"vgS-T"},s(n[4]).createElement(o(n[8]),{getResourceFromPost:(this.props.prefetchContext,(e,t)=>!i(n[1]).isReelItemExpired(e.expiringAt,t)&&(Boolean(null!=e.src&&null!=e.dimensions)&&!1===e.isVideo&&e.displayResources)?{type:i(n[2]).PREFETCHED_IMAGE,id:e.id,src:o(n[3])(e.src),srcSet:o(n[3])(e.displayResources),intrinsicDimensions:o(n[3])(e.dimensions)}:null),layoutWrapper:a,onLoadComplete:this.props.onLoadComplete,postIds:this.props.postIds.toArray(),viewKey:"storyMedia"}))}}));r.default=l},10354871,[10354872,20381853,10354802,20447260,3,10354777,20382147,20382243,10354873,20381803,5,10354799]),__d(function(){},10354872,[]),__d(function(e,r,n,a,t,o,l){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),r(l[0]);class s extends a(l[3]).Component{constructor(...e){super(...e),this.state={height:0,width:0},this.$StoryMediaLayout2=(e,t)=>{var o=this.props["intrinsicDimensions"],s=this.$StoryMediaLayout1()?1:1.3;let i=e,r=t;t=i/r,o=o.width/o.height;s<t/o||s<o/t?o<t?i=r*o:r=i/o:o<t?r=i/o:i=r*o,this.setState({height:r,width:i}),this.context.updateStoriesContext({mediaDimensions:{width:i,height:r}})}}$StoryMediaLayout1(){var e=this.props["isTallDevice"];return e&&r(l[1]).isMobile()}render(){const e=this.props["children"];"function"==typeof e||n(l[2])(0);var t,{width:o,height:s}=this.state;let i=null;return 0!==o&&0!==s&&(t={className:"y-yJ5",layoutWidth:o,layoutHeight:s},i=a(l[3]).createElement("div",{className:"qbCDp",style:{width:o,height:s}},e(t))),a(l[3]).createElement(n(l[4]),{className:`JkC_e ${r(l[5]).hasStoriesViewerV2()?"_6UUwD":""}`,onResize:this.$StoryMediaLayout2},i)}}s.contextType=n(l[6]);var i=r(l[8]).connect(function(e){return{isTallDevice:r(l[7]).getIsTallDevice(e)}})(s);o.default=i},10354777,[10354778,20381703,9699436,3,20447343,20382066,10354698,10354779,5]),__d(function(){},10354778,[]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});t={bloksButtonAppId:"",bloksButtonClickCount:0,hasFocus:!0,isBugNubActive:!1,isCloseFriendsDialogActive:!1,isHidden:!1,isInitialLoad:!0,isInitiallyFollowedByViewer:!1,isKeyboardActive:!1,isModalActive:!1,isMusicAvailableInCountry:!0,isMuted:!0===t(n[0]).hasStoriesViewerV2(),isPaused:!1,isPlaybackDisabled:!1,isResumeOverlayActive:!1,isStoryShareSheetActive:!1,isStoryViewerListActive:!1,isTransitioning:!1,isUnfollowModalActive:!1,mediaDimensions:{height:0,width:0},needsTapToStart:!1,postIDThatShouldShowSensitiveContentOverlay:null,shareClickCount:0,updateStoriesContext:()=>{},viewerHeight:0,viewerIsLoggedIn:!1,viewerWidth:0},n=s(n[1]).createContext(t);r.default=n,r.defaultContext=t},10354698,[20382066,3]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});n=t(n[0]).createSelector(e=>e.displayProperties.viewportHeight,e=>e.displayProperties.viewportWidth,(e,t)=>1.7777777777777777<e/t);r.getIsTallDevice=n},10354779,[9]),__d(function(e,a,l,c,t,o,d){"use strict";function s({onClose:e}){const t=l(d[0])()["data"],[o,{status:s}]=l(d[1])(),[i,r]=l(d[2])(t),n=a(d[3]).useDispatch();return"success"===s?c(d[6]).createElement(l(d[7]),{onClose:e}):c(d[6]).createElement(l(d[8]),{dispatch:r,state:i},c(d[6]).createElement(l(d[9]),{loading:"loading"===s,onClose:e,onSubmit:async()=>{try{await o({answers:i.answers,survey:t,writeInResponses:i.writeInResponses})}catch(e){n(a(d[4]).showToast({text:a(d[5]).GENERIC_ERROR_MESSAGE}))}}}))}Object.defineProperty(o,"__esModule",{value:!0}),o.default=function({onClose:e}){return c(d[6]).createElement(l(d[10]),{errorRenderer:()=>null},c(d[6]).createElement(c(d[6]).Suspense,{fallback:null},c(d[6]).createElement(s,{onClose:e})))}},14221350,[14221351,14221352,14221354,5,20382051,20382053,3,14221358,14221360,14221363,20447554]),__d(function(e,o,t,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=function(){return o(n[0]).useQuery(["/api/v1/web/get_survey/{integration_point_id}/",{path:{integration_point_id:"467136164230165"}}],(e,t)=>o(n[1]).apiGet("/api/v1/web/get_survey/{integration_point_id}/",t).then(e=>e.data),{suspense:!0})}},14221351,[20186089,20381875]),__d(function(e,i,t,o,s,r,n){"use strict";async function a({answers:e,survey:t,writeInResponses:s}){t={answers:Object.keys(e).map(o=>({answers:e[o].map(e=>{if(e.type!==i(n[0]).ANSWER_TYPES.option)return e.value;var t=!0===e.writeInResponse?s[o]:null;return null!=t&&""!==t?t:e.value.option_value}),question_id:o})),pages:t.pages.map(e=>({question_ids:e.questions.map(e=>e.question_id)})),session_blob:t.session_blob,survey_id:t.survey_id};try{await i(n[1]).apiPost("/api/v1/web/submit_survey/",{body:t},{options:{dataType:"json"}})}catch(e){throw i(n[2]).logError(e),e}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return i(n[3]).useMutation(a)}},14221352,[14221353,20381875,20381781,20186089]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ANSWER_TYPES={text:"text",option:"option"}},14221353,[]),__d(function(e,o,s,t,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t=o(n[0]).useMemo(()=>({answers:{},page:0,prevPages:[],survey:e,writeInResponses:{}}),[e]);return o(n[0]).useReducer(s(n[1]),t)}},14221354,[3,14221355]),__d(function(e,n,t,o,s,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){switch(t.type){case n(a[1]).SURVEY_PAGE_BACK:return{...i=e,page:null!==(r=i.prevPages[i.prevPages.length-1])&&void 0!==r?r:0,prevPages:i.prevPages.slice(0,-1)};case n(a[1]).SURVEY_PAGE_NEXT:return r=e,null==(i=n(a[0]).getNextPage(r))||i===r.page?r:{...r,page:i,prevPages:[...r.prevPages,r.page]};case n(a[1]).SURVEY_SET_ANSWER:return s=t,{...o=e,answers:{...o.answers,[s.questionId]:s.answers}};case n(a[1]).SURVEY_SET_WRITE_IN_RESPONSE:return o=t,{...s=e,writeInResponses:{...s.writeInResponses,[o.questionId]:o.writeInResponse}};default:return e}var o,s,i,r}},14221355,[14221356,14221357]),__d(function(e,a,l,t,o,s,c){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getNextPage=function(e){var t,o=e.survey.pages[e.page].control_node;switch(o.node_type){case"direct":return o.direct_next_page_index_int;case"branch":{const s=l(c[0])(o.branch_question_id),i=l(c[0])(o.branch_response_maps),r=o.branch_default_page_index,n=null===(t=e.answers[s])||void 0===t?void 0:t[0];if(null!=n&&n.type===a(c[1]).ANSWER_TYPES.option){const e=i.find(e=>e.response_option_numeric_value===n.value.option_numeric_value);if(null!=e)return e.page_index}return r}}return e.page},s.getQuestionText=function(s,e){return e.text_token_params.reduce((e,{param_name:t,question_id:o})=>{o=null===(o=s.answers[o])||void 0===o?void 0:o[0];if(null==o)return e;{const s=o.type===a(c[1]).ANSWER_TYPES.option?o.value.option_text:o.value;return e.replace(`{${t}}`,`"${s}"`)}},e.body)}},14221356,[20447260,14221353]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SURVEY_PAGE_BACK="SURVEY_PAGE_BACK",r.SURVEY_PAGE_NEXT="SURVEY_PAGE_NEXT",r.SURVEY_SET_ANSWER="SURVEY_SET_ANSWER",r.SURVEY_SET_WRITE_IN_RESPONSE="SURVEY_SET_WRITE_IN_RESPONSE"},14221357,[]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({onClose:e}){return s(n[0]).createElement(t(n[1]).Modal,{onClose:e,size:t(n[2]).isMobile()?"large":"default"},s(n[0]).createElement(t(n[1]).ModalHeader,{onClose:e},t(n[3]).SURVEY_HEADER),s(n[0]).createElement(t(n[1]).Box,{alignItems:"center",marginTop:t(n[2]).isMobile()?16:void 0,padding:8},s(n[0]).createElement(t(n[1]).Icon,{alt:t(n[4]).INSTAGRAM_TEXT,icon:t(n[1]).ICONS.APP_ICON_45}),s(n[0]).createElement(t(n[1]).Box,{marginTop:4},s(n[0]).createElement(t(n[1]).Text.Label,{textAlign:"center"},t(n[3]).THANKS)),s(n[0]).createElement(t(n[1]).Box,{marginTop:4},s(n[0]).createElement(t(n[1]).Text.Body,{color:"ig-secondary-text",textAlign:"center"},t(n[3]).THANKS_TEXT))))}},14221358,[3,20447276,20381703,14221359,20382053]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(n[0])(1961),l=t(n[0])(1926),c=t(n[0])(3307),d=t(n[0])(3080),u=t(n[0])(259),n=t(n[0])(1436);r.THANKS=a,r.THANKS_TEXT=l,r.GIVE_FEEDBACK=c,r.SURVEY_HEADER=d,r.CONTINUE_BUTTON=u,r.SUBMIT_BUTTON=n},14221359,[20381756]),__d(function(e,s,t,i,o,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({children:e,dispatch:t,state:o}){return i(n[0]).createElement(s(n[1]).SurveyDispatchContext.Provider,{value:t},i(n[0]).createElement(s(n[2]).SurveyStateContext.Provider,{value:o},e))}},14221360,[3,14221361,14221362]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=s(n[0]).createContext(null);r.default=function(){return o(n[1])(t(n[0]).useContext(a))},r.SurveyDispatchContext=a},14221361,[3,20447260]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=s(n[0]).createContext(null);r.default=function(){return o(n[1])(t(n[0]).useContext(a))},r.SurveyStateContext=a},14221362,[3,20447260]),__d(function(e,s,i,r,t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function({loading:e,onClose:t,onSubmit:o}){return r(n[0]).createElement(s(n[1]).Modal,{size:s(n[2]).isMobile()?"large":"default"},r(n[0]).createElement(i(n[3]),{onClose:t}),r(n[0]).createElement(i(n[4]),{loading:e,onSubmit:o}))}},14221363,[3,20447276,20381703,14221364,14221365]),__d(function(e,i,r,n,t,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function({onClose:e}){const t=r(a[0])(),o=r(a[1])()["page"],s=i(a[2]).useCallback(()=>{t({type:i(a[3]).SURVEY_PAGE_BACK})},[t]);return n(a[4]).createElement(i(a[5]).ModalHeader,{onBack:0<o?s:void 0,onClose:e},i(a[6]).SURVEY_HEADER)}},14221364,[14221361,14221362,20447278,14221357,3,20447276,14221359]),__d(function(e,l,c,d,t,o,u){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function({loading:e,onSubmit:t}){const o=c(u[0])(),s=c(u[1])(),{page:i,survey:r}=s,n=r.pages[i],a=null==l(u[2]).getNextPage(s);return d(u[4]).createElement(l(u[5]).Box,{flex:"grow",overflow:"auto",padding:6},d(u[4]).createElement(l(u[5]).Form,{onSubmit:()=>{a?t():o({type:l(u[3]).SURVEY_PAGE_NEXT})}},d(u[4]).createElement(l(u[5]).Box,{minHeight:l(u[6]).isMobile()?void 0:180},d(u[4]).createElement(c(u[7]),{page:n})),d(u[4]).createElement(l(u[5]).Button,{color:"ig-secondary-button",fullWidth:!0,large:!0,loading:e,type:"submit"},a?l(u[8]).SUBMIT_BUTTON:l(u[8]).CONTINUE_BUTTON)))}},14221365,[14221361,14221362,14221356,14221357,3,20447276,20381703,14221366,14221359]),__d(function(e,o,s,i,t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({page:e}){const t=s(n[0])();return e.questions.map(e=>i(n[1]).createElement(o(n[2]).Box,{key:e.question_id},i(n[1]).createElement(o(n[2]).Text.Label,{textAlign:"center",zeroMargin:!0},i(n[1]).createElement("label",{htmlFor:e.question_id},o(n[3]).getQuestionText(t,e))),i(n[1]).createElement(o(n[2]).Box,{paddingY:4},i(n[1]).createElement(s(n[4]),{question:e}))))}},14221366,[14221362,3,20447276,14221356,14221367]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({question:e}){switch(e.question_class){case"CHECKBOX":return s(n[0]).createElement(o(n[1]),{question:e});case"MESSAGE":return s(n[0]).createElement(o(n[2]),{question:e});case"RADIO":return s(n[0]).createElement(o(n[3]),{question:e});case"TEXT":return s(n[0]).createElement(o(n[4]),{question:e});default:return null}}},14221367,[3,14221368,14221370,14221371,14221372]),__d(function(e,d,o,u,t,s,_){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=function({question:i}){const{answers:r,getResponseOption:s,setAnswers:n,setWriteInResponse:t,writeInResponse:a}=o(_[0])(i),l=(e,t)=>{const o=s(e);if(null!=o){let e=r.filter(e=>e.value!==o);!0===t&&(e=[...e,{type:d(_[1]).ANSWER_TYPES.option,value:o,writeInResponse:o===(null===a||void 0===a?void 0:a.responseOption)}]),n(e)}},c=e=>{null!=a&&(l(a.responseOption.option_value,!0),null!=e&&t(e.target.value))};return i.response_options.map(e=>{const{option_numeric_value:t,option_text:o,option_value:s}=e;return u(_[2]).createElement(d(_[3]).Box,{key:t,paddingY:3},u(_[2]).createElement(d(_[3]).Checkbox,{checked:null!=r.find(e=>e.type===d(_[1]).ANSWER_TYPES.option&&e.value.option_value===s),onChange:e=>l(s,e),placement:"right"},null!=a&&e===a.responseOption?u(_[2]).createElement("div",null,u(_[2]).createElement(d(_[3]).TextInput,{autoComplete:"off",name:i.question_id,onChange:c,onFocus:c,placeholder:o,value:a.value})):u(_[2]).createElement(d(_[3]).Text.Body,null,o)))})}},14221368,[14221369,14221353,3,20447276]),__d(function(e,c,d,t,o,s,u){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e){var t;const o=d(u[0])(),s=d(u[1])(),{allow_write_in_response:i,question_id:r,response_options:n}=e,a=o.answers[r],l=i?{responseOption:n[n.length-1],value:null!==(t=o.writeInResponses[r])&&void 0!==t?t:""}:null;return{answers:null!==a&&void 0!==a?a:[],getResponseOption:t=>e.response_options.find(({option_value:e})=>e===t),setAnswers:e=>{s({answers:e,questionId:r,type:c(u[2]).SURVEY_SET_ANSWER})},setWriteInResponse:e=>{s({questionId:r,type:c(u[2]).SURVEY_SET_WRITE_IN_RESPONSE,writeInResponse:e})},writeInResponse:l}}},14221369,[14221362,14221361,14221357]),__d(function(e,t,o,s,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({question:e}){return s(n[0]).createElement(t(n[1]).Box,{paddingY:2},s(n[0]).createElement(t(n[1]).Text.Body,null,e.message))}},14221370,[3,20447276]),__d(function(e,d,u,_,t,o,p){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function({question:i}){const{answers:e,getResponseOption:t,setAnswers:o,setWriteInResponse:s,writeInResponse:r}=u(p[0])(i),n=e[0],a=null!=n&&n.type===d(p[1]).ANSWER_TYPES.option?n.value.option_value:void 0,l=e=>{e=t(e);null!=e&&o([{type:d(p[1]).ANSWER_TYPES.option,value:e,writeInResponse:e===(null===r||void 0===r?void 0:r.responseOption)}])},c=e=>{null!=r&&(l(r.responseOption.option_value),null!=e&&s(e.target.value))};return _(p[2]).createElement(d(p[3]).RadioButtonGroup,{name:i.question_id,onChange:l,selectedValue:a},i.response_options.map(e=>{var{option_numeric_value:t,option_text:o,option_value:s}=e;return _(p[2]).createElement(d(p[3]).RadioButton,{isRadioAtEnd:!0,key:t,value:s,zeroMargin:!0},_(p[2]).createElement(d(p[3]).Box,{flex:"grow",paddingY:3},null!=r&&e===r.responseOption?_(p[2]).createElement(d(p[3]).TextInput,{autoComplete:"off",name:i.question_id,onChange:c,onFocus:c,placeholder:o,value:r.value}):_(p[2]).createElement(d(p[3]).Text.Body,null,o)))}))}},14221371,[14221369,14221353,3,20447276]),__d(function(e,t,r,n,o,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),t(a[0]),s.default=function({question:e}){const{answers:t,setAnswers:o}=r(a[1])(e),s=t[0],i="text"===(null==s?void 0:s.type)?s.value:"";return n(a[2]).createElement("textarea",{className:"-Oa-V",id:e.question_id,maxLength:"1250",onChange:e=>{e=e.target.value;"string"==typeof e&&0<e.length?o([{type:"text",value:e}]):o([])},required:e.is_required,value:i})}},14221372,[14221373,14221369,3]),__d(function(){},14221373,[]),__d(function(e,a,l,c,t,o,d){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function({onClose:e,onOpen:t,postId:o}){a(d[0]).useEffect(()=>()=>{e()},[e]);var s=l(d[1])(a(d[2]).useSelector(e=>a(d[3]).getPostById(e,o)));let i=l(d[1])(a(d[2]).useSelector(a(d[4]).getFeedPostIds));l(d[5])._("ig_web_h1_2020_feed","9c701a6aa0bd917a4bf6da46933396c8")||(i=[]);var{code:r,dimensions:n}=s,s=l(d[6]).feedPage;return c(d[7]).createElement(l(d[8]),{analyticsContext:s,combinedPostIds:i,customSize:!0===a(d[9]).isNewPostModal()?"fullscreen":void 0,dimensions:n,mediaLinkBuilder:a(d[10]).buildMediaLink,modalEntryPath:a(d[11]).FEED_PATH,onClose:e,onOpen:t,postCode:r||"",postId:o},c(d[7]).createElement(l(d[12]),{analyticsContext:`${s}Modal`,autoplay:a(d[13]).hasAutoplayEnabledOnPosts({silent:!0}),id:o,inModal:!0,isVisible:!0,Options:[l(d[14]),l(d[15]),l(d[16]),l(d[17]),l(d[18]),l(d[19]),l(d[20]),l(d[21])],visiblePosition:0}))}},14221374,[20447278,20447260,5,10354731,20382076,20381849,20381912,3,20185833,20185812,20381959,20381915,20185899,20381845,20186027,20186028,20186033,20186036,20186037,20186041,20186047,20186060]),__d(function(e,t,i,r,o,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});let a=0;s.default=function(o){function e(t){return r(n[0]).createElement(i(n[1]),null,e=>r(n[0]).createElement(o,i(n[2])({},t,{key:s,onStartCreation:e})))}const s=`component-with-creation-starter-${a++}`;return e.displayName=`withCreationStarter(${i(n[3])(o)})`,e}},10485781,[3,10485782,20382112,20447619]),__d(function(e,s,o,t,i,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class a extends t(n[1]).Component{constructor(...e){super(...e),this.$CreationSessionStarter1=!1,this.$CreationSessionStarter2=(e,t)=>{this.$CreationSessionStarter1||(this.$CreationSessionStarter1=!0,o(n[0])(this.$CreationSessionStarter3).selectFile(),this.props.onStartCreation(e,t),this.$CreationSessionStarter1=!1)}}render(){return[t(n[1]).createElement(o(n[2]),{acceptMimeTypes:["image/jpeg"],key:"creation-starter-upload",onFileChange:this.props.onMediaSelect,ref:e=>this.$CreationSessionStarter3=e}),this.props.children(this.$CreationSessionStarter2)]}}a.defaultProps={creationMode:s(n[3]).CreationMode.POST};var l=s(n[6]).connect(null,function(o){return{onMediaSelect(e){e.length&&o(s(n[4]).creationSelectImage(e[0]))},onStartCreation(e,t=s(n[3]).CreationMode.POST){o(s(n[5]).trackEntrypoint()),o(s(n[4]).startCreationSession(e,t))}}})(a);r.default=l},10485782,[20447260,3,20447547,20447273,20382316,20382082,5]);

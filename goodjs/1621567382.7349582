var b$=b$||{};b$.universal=b$.universal||{},b$.universal.widgets=b$.universal.widgets||{},b$.universal.widgets.StructuredContentHeroCarousel=function(b){"use strict";define("hero-carousel",function(n,e,t){b(document).ready(function(){b(".be-hero-buttons").on("click",function(){if(!b$.portal.isGapDisabled()&&!b$.portal.isLogin){var e=b("ul.slick-dots").find("li.slick-active").index(),t=b(this).parent(".be-ex-carousel-content").find(".be-ex-sub-title").text(),r=b(".be-ex-hero-carousel.slick-slide.slick-current.slick-active").find(".btn.btn-md").text(),n=document.referrer,o=window.location.href,a=b(".header-menu .navbar-collapse ul.navbar-nav > li.active").text(),i=b$.portal.typeOfDevice();dataLayer.push({bannerposition:e,bannername:t,buttonselection:r,referral:n,userID:"null","Page path":o,deviceType:i,userType:"null",event:"bannertracking","Page Section":a})}})});t.exports={herocarousel:function(e,t,r){b.ajax({url:t,success:function(e){b("head").append('<link rel="stylesheet" href="'+r+'/static/features/%5BBBHOST%5D/feature-hdfc-slick-slider/css/slick.css" type="text/css">'),n(["features/%5BBBHOST%5D/feature-hdfc-slick-slider/scripts/slick"],function(){b(".hero-carousel-container").slick({infinite:!0,dots:!0,speed:500,arrows:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:e.transitionSpeed,variableWidth:!0,responsive:[{breakpoint:959,arrows:!1,settings:{arrows:!1}},{breakpoint:768,arrows:!1,settings:{arrows:!1}},{breakpoint:767,arrows:!1,mobileFirst:!0,variableWidth:!1,settings:{arrows:!1}},{breakpoint:540,arrows:!1,variableWidth:!1,settings:{arrows:!1}},{breakpoint:480,arrows:!1,settings:{arrows:!1}}]})})},error:function(e){}})}}}),b(window).resize("resize",function(){var e=b(".be-ex-article").closest(".bp-widget");320==b(window).width()||480==b(window).width()||540==b(window).width()?b(e[3]).insertBefore(b(e[1])):768!=b(window).width()&&960!=b(window).width()||b(e[3]).insertBefore(b(e[4]))});var v="cs";return{prefModified:function(e){e.refreshIncludes();var t=b(e.htmlNode);b(".bd-structured-content-widget",t).attr("data-type",e.getPreference("contentType")||"Content")},start:function(i){var n,e=i.getPreference("contentRef"),o=b(i.htmlNode),t=!1;try{top.bd}catch(e){t=!0}for(var r,a=!(!window.be||t)&&be.utils.module("top.bd.PageMgmtTree.selectedLink").isMasterPage||"true"===i.model.manageable||""===i.model.manageable||void 0===i.model.manageable,s=[],l=0;l<i.model.preferences.array.length;l++)"templateUrl"==i.model.preferences.array[l].name&&(r=i.model.preferences.array[l].value);var d=i.getPreference("urlContent"),c=b$.portal.portalModel.serverURL,u=c+"/static/widgets/%5BBBHOST%5D/widget-hdfc-portal-hero-carousel/media/pop-close.png";if(b(".close-button-url").attr("src",u),null!=d){var p=d.indexOf("content"),f=d.slice(p,d.length);d=c+"/"+f}null==r&&null==r||(s=r.split("/")),a&&(e||o.addClass("bd-empty-structured-content"),b(".bd-structured-content-widget",o).attr("data-type",i.getPreference("contentType")||"Content"),i.addEventListener("preferences-form",function(e){for(var t=b$.portal.portalModel.filterPreferences(i.model.preferences.array),r=t.length-1;0<=r;r--)if("Template"==t[r].label)for(var n=i.getPreference("templateList").split(","),o=0,a=0;o<n.length;o++,a++)t[r].inputType.options[a]={label:n[o],value:n[o+1]},o++}),i.addEventListener("bdDrop.enter",function(e){var t=e.detail.info.helper.bdDragData.fileDataArray[0];t.metaData&&t.metaData["cmis:objectTypeId"]&&"bb:structuredcontent"===t.metaData["cmis:objectTypeId"].property?(n=t,o.addClass("bd-over-structured-content")):n=void 0}),i.addEventListener("bdDrop.leave",function(e){o.removeClass("bd-over-structured-content")}),i.addEventListener("bdDrop.drop",function(e){var t=e.detail.info.helper.bdDragData.fileDataArray[0];if(n){if(!i.model.preferences.getByName("contentRef")){var r=b$.portal.portalModel.createPreference("contentRef","contentRef",void 0,"");i.model.preferences.add(r)}i.setPreference("urlContent",t.url),i.setPreference("contentRef",[v,"contentRepository"===n.repository?n.repository:"@portalRepository",n.contentUId].join(":")),i.model.save(function(){i.refreshHTML(),o.removeClass("bd-empty-structured-content")}),o.removeClass("bd-over-structured-content")}n=void 0}),window.bd&&window.bd.bindDropEvents&&window.bd.bindDropEvents(i.htmlNode),"hero-carousel.html"==s[s.length-1]&&require(["hero-carousel"],function(e){e.herocarousel(i,d,c)}),"hero-carousel-link-only.html"==s[s.length-1]&&require(["hero-carousel"],function(e){e.herocarousel(i,d,c)}))}}}(jQuery);
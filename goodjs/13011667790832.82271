__IASScope.__IntegralASExec=__IASScope.__IntegralASExec||{},__IASScope.__IntegralASExec["19.8.206"]=__IASScope.__IntegralASExec["19.8.206"]||{},__IASScope.__IntegralASExec["19.8.206"].initialize=function(ge,x,fe){function s(e){if(!ge.executedContinueMain){ge.executedContinueMain=!0,ge.perf.markStart("cm"),ce=ge,function(){if(!(__IASScope.isDomless||ce.contextNode&&null!==ce.contextNode.parentNode)){var e,t=fe.getElementsByTagName("script"),n=t.length,r=t[n-1],i=ce.scriptUrl;try{for(;0<=--n;)if((e=t[n]).src&&0===e.src.indexOf(i)&&null===e.getAttribute("data-ias-script-tag")){(r=e).setAttribute("data-ias-script-tag","found");break}}catch(e){}ce.contextNode=r}}();var t,n,r,i,o,a=(t=function(){var e,t,n,r,i,o,a,s,u={};ge.perf.markStart(he);var d=pe.getAggregator();return function(){var e,t,n;n=pe.getAggregator().request("omidAdSessionContext"),e=n.app&&n.isDisplay&&!n.isWeb,(t=ge.mobFwUrl&&-1<ge.mobFwUrl.indexOf("/blocking/"))&&n.isLimitedSandbox&&"1"===ge.adWidth&&"1"===ge.adHeight&&(n.isLimitedSandbox=!1),e&&t&&(n.delayingViewabilityEvents=!0),"app"!==n.environment&&!0!==ge.mobAppWebview||(ge.mobOrTab=!0)}(),u.mFeatures=d.request("features"),u.mFeatures||(u.mFeatures=d.provide("features",jt())),ge.integration&&u.mFeatures.setReportedBootstrapFeatures("intblk","integration"),ge.autotagSizeSet&&u.mFeatures.setReportedBootstrapFeatures("ats","autotagSizeSet"),ge.encodeInvalidUrlChars=u.mFeatures.on("encodeInvalidUrlChars"),d.provide("mobileApp",function(){return e=e||new $n(u.mFeatures)}),d.provide("avidJsClient",function(){return t=t||new Zn(Qt.getWindow())}),d.provide("context",Fe),u.mBrowser=d.provide("browser",(new Ve).createInstance()),u.mErrors=d.request("mErrors"),u.mIds=d.provide("ids",Yt()),u.iOutput=ye(d),d.request("mJsonp"),u.mComm=d.request("mComm"),u.viewabilityMeasurement=new wn(Nn(u.mIds),u.mFeatures,u.mBrowser).create(),function(e,t){if(e&&e.queuedOutputItems)for(var n=0;n<e.queuedOutputItems.length;n++)t.trigger("addOutputItem",{output:e.queuedOutputItems[n].value},e.queuedOutputItems[n].code,{type:"impression"})}(r=d.request("omidAdSessionContext"),d),u.mFeatures.on("swapids")&&(ge.oid=ge.asid,ge.asid=u.mIds.unq),u.mAdTalk=(new dn).createInstance(u.mFeatures),n=De(),r=en(d),i=d.provide("mPage",(new Zt).createInstance()),u.mAncestorOrigins=Ce(),u.mPageUrls=d.provide("pageUrls",(new $t).createInstance(u.mAncestorOrigins,Qt)),o=d.provide("mScreenEvents",tn()),d.provide("ieXDomainViewability",vn(u.mBrowser)),a=qt(u.mBrowser),s=function(e,t){return!Fe.isVideo()||Fe.isAvid()||Fe.isOmid()||Fe.isInMobiMraidVideo()?{}:Vt(ge.videoId,e,t)}(u.mFeatures,o),u.mVideo=d.provide("video",s),lr(pr.build()),a=(new Qn).createInstance(u.mErrors,a,u.mFeatures),i=(new we).createInstance(a,u.mErrors,i,Fe),s=d.provide("jobFactory",Kt()),u.mDataTransfer=Ut(a,u.mErrors,u.mFeatures,u.mIds,u.iOutput,u.mBrowser,o,n),n=Me(u.mErrors,u.mFeatures,d,r),u.mMode=Jt(n,u.mFeatures,u.viewabilityMeasurement.isImmediate()),u.mViewability=d.provide("viewability",Fn(Te(),u.viewabilityMeasurement,u.mBrowser,u.mDataTransfer,u.mFeatures,d,u.iOutput,i,o,u.mVideo)),function(e,t,n,r){var i=function(e){var t=new ft(e,Fe),n=new gt,r=new lt(0,Fe),i=function(e,t){var n,n=e.on("everySecond"),r=t.isVideo(),i=t.usesIASFullyInViewCustomMetric(),o,a=[1e3,5e3,15e3],s=[2e3,5e3,15e3],u=function(e){var t=Qt.max(e.fullPercentInView||0,e.percentInView);return-1!==(me.IN_VIEW+"|"+me.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t};return n=n?new bn({tiv:[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3]}):r?new bn({tiv:s}):new bn({tiv:a}),pe.getAggregator().provide("isFullyInViewProvider",{isFullyInView:u}),{timeInViewThresholds:n,type:me.DT_CODES.FULLY_INVIEW,isInView:u,applies:function(){return i},minUnit:1e3,shouldIncludeSound:!1}}(e,Fe),o=new mt(ge,Fe,e).resolve(),a=[t],s=[];return i.applies()&&a.push(i),r.applies()&&a.push(r),n.applies(e,Fe)&&a.push(n),le(o).each(function(e,t){a.push(new pt(t,Fe)),s.push(t.id)}),0<s.length&&(pe.getAggregator().trigger("addOutputItem",{output:s.join(".")},"scm",{type:me.IMPRESSION_EVENT}),pe.getAggregator().trigger("addOutputItem",{output:s},"metricIdList",{type:me.DT_CODES.UNLOAD,asION:!0})),a}(e);return pe.getAggregator().provide("viewabilityDefinitions",i),le(i).map(function(s,u,d,c){return function(e,t){var n,r,i=Vn(t,u),o=Rn(d,s,t.rts).getCallbacks(),a=Oe(c.createPingJobs(t.type,t.timeInViewThresholds,o,t.metricId));return t.sendOtherwiseInViewSignal&&(r=Vn(t,u,t.sendOtherwiseInViewSignal),n=Oe(c.createPingJobs(t.type,t.timeInViewThresholds,o,t.metricId,t.sendOtherwiseInViewSignal))),t.rtsCallbacks=o,t.thresholdType===me.GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE?i=Mn(i,t,a,Fe.isVideo()):(i=Cn(i,Re(t.minUnit),a),t.sendOtherwiseInViewSignal&&(n=Cn(r,Re(t.minUnit),n,t.sendOtherwiseInViewSignal)).start()),i.start(),i}}(e,t,n,r))}(u.mFeatures,u.mViewability,r,s),u.loopDelay=In(),u.renderDetector=Se(),u.mDataTransfer.setViewabilityMod(u.mViewability),ge.perf.markEnd(he),u}()).mAdTalk,s=t.iOutput,u=t.mErrors,d=t.mAncestorOrigins,c=t.mBrowser,g=t.mPageUrls,f=t.mFeatures,l=Fe,p=t.renderDetector;ge.perf.markStart("pr"),ge.b11="1"===ge.adHeight&&"1"===ge.adWidth?"true":"false",ge.cnod=ge.contextNode?"true":"false",pe.getAggregator().trigger("addOutputItem",{output:e?"1":"0"},"nbld",{type:me.IMPRESSION_EVENT});try{a.isApplicable(Fe)&&(a.start(),s.addItem(a.getFrameMap(),"fm"),f.on("fm2")&&s.addItem(a.getFrameMapIncludingPeerCase(),"fm2"),f.on("idMap")&&(o=a.getIdMap())&&s.addItem(o,"idMap"))}catch(e){u.add(me.ERROR_CODES.ADTALK_GENERAL)}try{d.isApplicable(c,f,l)&&d.start(),i=g.detectTopURL(),f.on("exch")&&(n=(new Pe).createInstance(u,s)).parse(i),(r={isApplicable:function(e){return!(!(e=Qt.getWindow()).navigator||!e.navigator.plugins)},start:function(e){e=Qt.getWindow();var t=(e=wr(e.navigator.plugins)).hash(),n=t.join(".");pe.getAggregator().trigger("addOutputItem",{output:n},"pl",{type:me.IMPRESSION_EVENT}),t.length&&(e=(e=e.decode(t)).join("."),pe.getAggregator().trigger("addOutputItem",{output:e},"pd",{type:me.DT_CODES.ADTALK}))}}).isApplicable(f)&&r.start(f),l.usesGroupMCustomMetric()&&(se=!1,ue=pe.getAggregator().request("mPage"),de=function(){!se&&ae&&oe&&!ue.isHidden()&&(se=!0,pe.getAggregator().trigger("sendDt",me.DT_CODES.LARGE_BILLABLE))},pe.getAggregator().on("primaryadfound",function(e){oe=e.getDims().area()>=me.MRC_LARGE_AD_SIZE,de()}),pe.getAggregator().on("impressionsent",function(){ae=!0,de()}),ue.onHiddenChange(de)),p.start()}catch(e){u.add(me.ERROR_CODES.IMPRESSION_LEADUP)}ge.perf.markEnd("pr"),e=i,a=t.mVideo;try{Q=t.mErrors,Z=t.mFeatures,$=t.mIds,ee=t.mMode,te=t.iOutput,ne=t.mBrowser,re=t.mViewability,ie=function(e,t){return isNaN(e)||e<0||""===e?t:e},function(e){try{var t,n,r,i,o,a=ee.baseUrl,s=ne.getDocumentMode();"number"==typeof s?(r=2e3,8===s?r=4e3:8<s&&(r=8e3)):r=ie(ge.sp_imp_maxLength,2e3),n=r,Fe.integratedBlockingApplies(a)&&(r=a,d=(i=pe.getAggregator().request("mobileApp"))&&i.isMobileAppEnvironment&&i.isMobileAppEnvironment(),i=r+"adContainerId="+ge.contextNode.getAttribute("data-ias-container")+"&cbFunctionName="+ge.contextNode.getAttribute("data-ias-callback"),i=d?i.replace("monitoring","blocking"):i.replace("skeleton.js",ge.integration+".js"),f=ge.protocol+":"+ge.staticServer+ge.integration+"a.js",o=ge.protocol+":"+ge.staticServer+ge.integration+".js",a=i+"&true_pb="+encodeURIComponent(ge.passback)+(d?"&redirectUrl="+encodeURIComponent(o):"")+(d?"&passback=":"&adsafe_pb=")+encodeURIComponent(f)+"&");var u,d=a=a.replace(me.UNIQUE_ID_TOKEN,ge.asid),c=a.length,g=ie(ge.sp_imp_jsInfo_minLength,0),f="";try{0<(u=n-c-g)&&(f+=Or(e,u,14,Z.on("partialUrls")).join("&"))}catch(e){Q.add(me.ERROR_CODES.IMPRESSION_URLS)}a=d+f,e=a+="&"===a.slice(-1)?"":"&";var l,c="";try{l=n-a.length,c+=Tr(l,"adsafe_jsinfo=",Q,Z,$,te,ne,re)}catch(e){Q.add(me.ERROR_CODES.JSINFO),c+="adsafe_jsinfo=e:"+Q.toString()}a=e+c,ee.macroUrl&&(a+="&"===a.slice(-1)?"":"&",a+=ee.macroUrl),t=a,ge.impUrl=t,ee.sendImpression(t),pe.getAggregator().trigger("impressionsent")}catch(e){__IntegralASDiagnosticCall("impsend",e,ge)}}(e),le.isFunction(a.triggerInitializationEvents)&&a.triggerInitializationEvents()}catch(e){__IntegralASDiagnosticCall("impsend",e,ge)}e=t.mBrowser,a=t.mIds,s=t.mViewability,u=t.mFeatures,d=t.mComm,c=t.mDataTransfer,g=t.mErrors,f=t.iOutput,l=t.loopDelay,p=t.mAdTalk,n=t.viewabilityMeasurement,t=t.mAncestorOrigins,r=Fe;try{ge.perf.markStart("po");var m=(q={},Y=0,K=function(e){(e||k)&&(Y+=5,j.onTick(Y,function(){k?K():pe.getAggregator().trigger("sendDt",me.DT_CODES.PERFORMANCE)}),k=!1)},X=function(){j=new _e,K(!(Y=0)),j.start()},z=function(e,t,n,r){e=q[e],r?(le.isDef(e[t])||(e[t]=[]),e[t].push(n)):e[t]=n,j&&j.isActive()||X(),k=!0},J=function(e,t,n){pe.getAggregator().trigger("addOutputItem",{output:t},e,n),j&&j.isActive()||X(),k=!0},{start:function(){pe.getAggregator().on("preSendDt",function(e){var i;i=e,le(q).each(function(e,t){var n=q[e],r={type:i,oneTime:!0,minDt:!0,asION:!0};le(n).isEmpty()||(pe.getAggregator().trigger("addOutputItem",{output:n},e,r),q[e]={}),k=!1}),j&&j.kill()}),pe.getAggregator().on("addThrottledProp",z),pe.getAggregator().on("addThrottledOutputItem",J)},addFieldTypes:function(e){le(e).each(function(e,t){q[t]={}})}});m.start(),m.addFieldTypes([me.DT_SLOT.IM,me.DT_SLOT.FF,me.DT_SLOT.ENVIRONMENT,me.DT_SLOT.FF_EXP]);var h=(W=e,U=a,G=s,B=!1,H=function(){U.impressionIsIdentifiable()&&!B&&(B=!0,pe.getAggregator().trigger("notify",ge._onMeasurable))},{start:function(){var e=[On(),Tn(),Dn(),Sn()];(e=le(e).findFirst(function(e,t){return t.isApplicable(G,W)}))&&e.start(H)},isApplicable:function(e){return e.bootstrapOn("useViewabilityNotification")&&le.isDef(ge._onMeasurable)}});h.isApplicable(u)&&h.start(),u.bootstrapOn("getTpl")&&u.on("usetpl")&&(C=d,M=c,V=g,F=a,P=f,L=function(e,t,n){P.addItem({output:e+"."+t+"."+n},"ctpl")},x=function(e){try{M.diagnostic("c");var n=e.length,r=0,i=0;L(n,0,0),le(e).each(function(e,t){C.send(t.replace("%%CBS%%",F.getCacheBustId()),function(){L(n,r,++i)},!0),L(n,++r,i)})}catch(e){V.add(me.ERROR_CODES.AT_SEND)}},{init:function(){try{var e=(new be).fullDom;"/"!==e.slice(-1)&&(e+="/"),e+="tpl?asId="+ge.asid,C.jsonp(e,x)}catch(e){V.add(me.ERROR_CODES.AT_INIT)}}}.init()),T=f,O=l,y=p,w=g,N=d,_=c,R=t,"true"!==ge.minimizeCalls&&(b=(new Date).getTime(),Qt.execAtEndOfThread(function(){!function(r,i,o,a,s,e,t,n){try{ge.perf.markStart(Ee),ge.tpiLookupURL&&Le(e,t).init(ge.tpiLookupURL),Fe.isDomless()||n.isStarted()&&n.sendOriginList(),pe.runAll(),Qt.execAtEndOfThread(function(){var e,t,n;try{ge.perf.markStart(ve),e={output:(new Date).getTime()-s},r.addItem(e,"sinceFw",{type:me.DT_CODES.ADTALK}),le.isDef(i.loopStarted())&&r.addItem({output:i.loopStarted()},"readyFired",{type:me.DT_CODES.ADTALK}),ge.perf.markEnd(ve),ge.isSplitMode&&(n=ge.protocol+"://"+ge.sp_cdnScripts.main,ge.perf.markResource(Ie,n)),ge.impUrl&&ge.perf.markResource(Ae,ge.impUrl),t=ge.perf.getData(),pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.IM,"prf",le(t).toION()),o.isApplicable(Fe)&&o.sendAdTalkCall()}catch(e){a.add(me.ERROR_CODES.ADTALK_DELAY)}}),ge.perf.markEnd(Ee)}catch(e){a.add(me.ERROR_CODES.EVENT_LOOP_ONE)}}(T,O,y,w,b,N,_,R)})),n&&n.start&&n.start(),r.isDomless()||function(e,n){le(e).each(function(e,t){n.getEnabledScriptUrl(t)&&yr(t,n).start()})}(["sca","xsca","rsrch"],u),D=function(e,t){var n;return n=t&&t.id?t.id.replace(/[^\w-_.>\/]/g,""):n},function(){var e,t,n,r,i,o;try{Fe.friendly&&!Fe.isMobileApp()&&((e=pe.getAggregator().request("adSlotIds"))?t=e:((n=Bt.getOurNodeInTop())&&(r=Bt.getAncestorNodes(n),i=le(r).map(D)),(e=i=i&&(o=[],le(i).each(function(e,t){o.concat(t).join("").length<=400&&o.push(t)}),o))&&(pe.getAggregator().trigger("addOutputItem",{output:e},"slid",{type:me.DT_CODES.ADTALK,asION:!0}),pe.getAggregator().provide("adSlotIds",e),t=e)))}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.AD_SLOT_ID)}}(),pe.runTier(me.TIERS.VIEWABILITY);var E=(v={},I=function(e){return v[e]||(v[e]=new Ne(1,ge.birthdate)),v[e]},A=function(e){I(e).start()},S=function(e){var t=I(e);t.stop(),pe.getAggregator().trigger("addThrottledProp","im",e,t.getTime())},{start:function(){pe.getAggregator().on({markTime:A,measureTime:S})},isApplicable:function(e){return e.on("pIntervals")}});E.isApplicable(u)&&(E.start(),hr.recordBlockingTime(),ge.perf.mark("bl"),hr.setupOnLoadTracking(),hr.setupBrowserDelayTracking()),ge.perf.markEnd("po")}catch(e){g.add(me.ERROR_CODES.POST_IMPRESSION)}ge.perf.markEnd("cm")}var v,I,A,S,D,T,O,y,w,N,_,R,b,C,M,V,F,P,L,x,W,U,G,B,H,k,j,q,Y,K,X,z,J,Q,Z,$,ee,te,ne,re,ie,oe,ae,se,ue,de,ce}function a(e){if(ge.isResolved)s(ge.isNewBuild);else{if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}var t=e&&e.host||"https://jsconfig.adsafeprotected.com",n=e&&e.config;n&&(t=t+"/jsconfig"+n+(ge.adSessionId?"&adSessionId="+ge.adSessionId:""),pe.getAggregator().trigger("jsonp",t,(r=(e=e)&&e.sca,i=e&&e.xsca,o=e&&e.w,a=e&&e.h,function(e){if(e="string"==typeof e?JSON.parse(e):e,Object.assign)Object.assign(ge,e);else for(var t in e)ge[t]=e[t];ge.isResolved=!0,ge.sp_cdnScripts={sca:r,xsca:i},o&&a&&(ge.adWidth=o,ge.adHeight=a,ge.autotagSizeSet=!0),s(ge.isNewBuild)}),!1,"cbName"))}var r,i,o,a}function e(e){var t,n,r,i,o;for(ge.perf.markStart("mf"),ge.isNewBuild=e,e=[Ir,vr,Ar,un,sn,on,an,rn,Sr,Dr,M,An,Pn,Rr,_r],t=0;t<e.length;t+=1)pe(e[t].name,e[t].dependencies,e[t].creator,e[t].settings);pe.startSystem(),(e=pe.getAggregator()).provide({omidAdSessionContext:{}}),e.provide({omidAdSessionVerificationParameters:{}}),ge.isResolved&&e.provide("features",jt()),i={},o=function(e){le.isDef(i[e])?i[e]++:i[e]=1},pe.getAggregator().on("error",function(e){e=le(e).isObj()?e.errorCode:e,o(e)}),t={list:i,add:o,toString:function(){var e,t="";for(e in i)i.hasOwnProperty(e)&&(t+=e);return t},hasErrors:function(){for(var e in i)return!0;return!1}},n=zt(),r=(new f).createInstance(t,n),e.provide({mErrors:t,mJsonp:n,mComm:r}),t=__IASOmidVerificationClient,e.provide({omidVerificationClient:t}),e=[{environment:xe(t),adSessionReadyStrategy:function(e){var u=!1,d=!1,c=!1,g=!1,f=pe.getAggregator().request("omidAdSessionContext");f.queuedOutputItems=[];var t=new ar,l=pe.getAggregator().request("omidAdSessionVerificationParameters"),p=pe.getAggregator().request("features"),n=Qt.getWindow(),m=(n=n&&n.omid3p)&&le.isFunction(n.registerSessionObserver)&&le.isFunction(n.addEventListener)?n:e,h=!1;f.omidEarlyExit=!1;var r=!(f.mediaType="display"),E=function(){if(u&&d&&(!g||c)){x.omidSupported=!0;f.hasOwnProperty("impressionType")&&f.queuedOutputItems.push({code:"oiet",value:f.impressionType});f.hasOwnProperty("creativeType")&&f.queuedOutputItems.push({code:"oct",value:f.creativeType});f.underEvaluation&&f.queuedOutputItems.push({code:"oef",value:!0});h=f.exitedOASRS=!0;var e=l&&l.IAS&&0<Object.keys(l.IAS).length;a(e?l.IAS:l)}},i=function(e){function t(){return e.data.hasOwnProperty("supportsLoadedEvent")&&("true"===e.data.supportsLoadedEvent||!0===e.data.supportsLoadedEvent)&&"string"===typeof e.data.creativeType&&""!==e.data.creativeType}var n="0";if("sessionStart"===e.type){f.adSessionType=e.data.context.adSessionType;f.environment=e.data.context.environment;f.accessMode=e.data.context.accessMode;f.omidNativeInfo=e.data.context.omidNativeInfo;f.omidJsInfo=e.data.context.omidJsInfo;f.deviceInfo=e.data.context.deviceInfo;f.app=e.data.context.app;f.app&&"string"===typeof f.app.appId&&-1<f.app.appId.toLowerCase().indexOf("pandora")&&(f.ignoreDivAsCandidate=!0);e.data.hasOwnProperty("contentUrl")&&(f.contentUrl=e.data.contentUrl);e.data.context.hasOwnProperty("underEvaluation")&&(f.underEvaluation=e.data.context.underEvaluation);f.isJavaScript="javascript"===f.adSessionType;f.isNative="native"===f.adSessionType||"javascript"===f.adSessionType;f.isLimitedSandbox="app"===f.environment?Fe.embedded:"full"!==e.data.context.accessMode;f.isHtml="html"===e.data.context.adSessionType;f.isWeb="web"===e.data.context.environment;l=e.data.verificationParameters;f.isOmidForWebEnvironment=f.isHtml&&f.isWeb;f.element=e.data.context.videoElement||e.data.context.slotElement||null;t()?(g=!0,f.useOMID13Logic=!0,f.queuedOutputItems.push({code:"ohand",value:"13"}),m.addEventListener("video",v),m.addEventListener("media",v)):f.queuedOutputItems.push({code:"ohand",value:"12"});f.isOmidForWebEnvironment||(f.integratedBlocking=ge&&ge.isResolved&&Fe.integratedBlockingApplies(ge.mobFwUrl),f.integratedBlocking&&p&&p.on("exitOASRSEarly")&&(f.omidEarlyExit=!0,n="1",f.omidEarlyExit&&-1<ge.mobFwUrl.indexOf("xmtp=v")&&(f.mediaType="video")),!e.data.mediaType||"display"!==e.data.mediaType&&"video"!==e.data.mediaType||(f.mediaType=e.data.mediaType));f.omidEarlyExit&&(d=!0,f.queuedOutputItems.push({code:"omtp",value:f.mediaType}),t()&&(c=!0),"video"===f.mediaType&&(f.isVideo=!0),f.isNativeVideo=f.isNative&&f.isVideo,f.isDisplay="display"===f.mediaType);for(var r=[{root:"omidNativeInfo",code:"onpn",field:"partnerName"},{root:"omidNativeInfo",code:"onpv",field:"partnerVersion"},{root:"omidJsInfo",code:"ojpn",field:"partnerName"},{root:"omidJsInfo",code:"ojpv",field:"partnerVersion"},{root:"omidJsInfo",code:"osev",field:"serviceVersion"},{root:"omidJsInfo",code:"oscv",field:"sessionClientVersion"},{root:"app",code:"applv",field:"libraryVersion"},{root:"app",code:"appid",field:"appId"},{root:"deviceInfo",code:"dty",field:"deviceType"},{root:"deviceInfo",code:"osn",field:"os"},{root:"deviceInfo",code:"osv",field:"osVersion"}],i,o,a,s=0;s<r.length;s++)i=r[s].root,o=r[s].field,a=r[s].code,"object"===typeof f[i]&&"undefined"!==typeof f[i][o]&&f.queuedOutputItems.push({code:a,value:f[i][o]});f.queuedOutputItems.push({code:"oast",value:f.adSessionType});f.queuedOutputItems.push({code:"oacm",value:f.accessMode});f.queuedOutputItems.push({code:"oenv",value:f.environment});f.hasOwnProperty("contentUrl")&&f.queuedOutputItems.push({code:"ocon",value:encodeURIComponent(f.contentUrl||"")});f.queuedOutputItems.push({code:"oerl",value:n});u=!0;E()}"sessionError"===e.type&&(n=("string"===typeof e.data.errorType?e.data.errorType:"NoErrType")+"_"+encodeURIComponent("string"===typeof e.data.message?e.data.message:"NoMessage"),h?pe.getAggregator().trigger("addOutputItem",{output:n},"oser"):f.queuedOutputItems.push({code:"oser",value:n}))},o=function(e){"impression"===e.type&&(f.omidImpressionArrived=!0,pe.getAggregator().trigger("omidimpressionarrived"),f.mediaType=e.data.mediaType,f.queuedOutputItems.push({code:"omtp",value:f.mediaType}),"video"===e.data.mediaType&&(f.isVideo=!0),e.data.adView&&(e.data.viewport||f.isWeb)&&(f.impressionViewabilityMeasurement={type:"geometryChange",data:{viewport:e.data.viewport,adView:e.data.adView}},"undefined"===typeof f.geometryArrived&&t.checkForViewAttachmentBasedOnAdSessionType(f,e.data.adView)&&(f.geometryArrived=!0,pe.getAggregator().trigger("omidrendgeoupdate"))),e.data.hasOwnProperty("impressionType")&&!c&&(f.impressionType=e.data.impressionType),f.isNativeVideo=f.isNative&&"video"===e.data.mediaType,f.isDisplay="display"===e.data.mediaType,d=!0,E())},v=function(e){e&&"start"===e.type?(f.videoStartArrived=!0,pe.getAggregator().trigger("omidrendvideostart")):"loaded"===e.type&&(c=!0,f.omidLoadedArrived=!0,pe.getAggregator().trigger("omidloadedarrived"),e.data.hasOwnProperty("creativeType")&&(f.creativeType=e.data.creativeType),e.data.hasOwnProperty("impressionType")&&(f.impressionType=e.data.impressionType),!0!==f.omidEarlyExit||r||(pe.getAggregator().trigger("addThrottledOutputItem","oiet",f.impressionType),pe.getAggregator().trigger("addThrottledOutputItem","oct",f.creativeType),r=!0),E())};return{start:function(){m.registerSessionObserver(i,"IAS");m.addEventListener("impression",o)}}}(t)},{environment:{accepts:function(){return!0}},adSessionReadyStrategy:{start:function(){a(ge.contextNode&&(ge.contextNode.dataset.iasParameters||ge.iasParameters))}}}],new Ue(e).resolve().adSessionReadyStrategy.start(),ge.perf.markEnd("mf")}function t(e){this.iterable=e}var le=function(e){return new t(e)};t.prototype.isObj=function(e){var t=null===this.iterable,t="object"==typeof this.iterable&&!t,n=!this.isArray()&&t;return e?t:n},t.prototype.isArray=function(){return this.iterable instanceof Array},t.prototype.isEmpty=function(e){return 0===this.keys(e).length},t.prototype.each=function(e,t){var n=this.iterable;if(n.length===+n.length)for(var r=0,i=n.length;r<i;++r)e(r,n[r]);else for(r in n)(n.hasOwnProperty(r)||t)&&e(r,n[r])},t.prototype.map=function(n,r){var i=[];return this.each(function(e,t){t=n(e,t);void 0===t&&!r||(i[i.length]=t)}),i},t.prototype.stringify=function(n,e){e=e||",";var r=[];return this.each(function(e,t){t=n(e,t);le.isDef(t)&&r.push(t)}),r.join(e)},t.prototype.toION=function(r,i){var e,t="[",n="]";return i=i||0,r=r||{},4<++i?"object":!this.isObj(!0)||this.iterable.hasOwnProperty("toString")?""+this.iterable:(e=this.isArray()?this.map(function(e,t){return le(t).toION(r,i)}):(t="{",n="}",this.map(function(e,t){var n="string"==typeof e&&-1!==e.indexOf("NULL"),t=le(t).toION(r,i);return n?t:(r[e]||e)+":"+t})),t+e.join(",")+n)},t.prototype.compareTo=function(n){var r=!1;return this.each(function(e,t){n[e]!==t&&((r=r||{})[e]=t)}),r},t.prototype.toParams=function(e){return this.stringify(function(e,t){return"string"==typeof e&&-1!==e.indexOf("NULL")?t:e+":"+t},e)},t.prototype._privateMixin=function(e,t,n){for(var r in t)le.isDef(t[r])&&(n||t.hasOwnProperty(r))&&(e[r]=t[r]);return e},t.prototype.mapToObj=function(n){var r={},i=this;return this.each(function(e,t){t=n(e,t);le(t).isObj()&&i._privateMixin(r,t)}),r},t.prototype.invert=function(){return this.mapToObj(function(e,t){var n={};return n[t]=e,n})},t.prototype.mixin=function(e,t){return this._privateMixin(this.iterable,e,t)},t.prototype.find=function(n){var r;return this.each(function(e,t){n(e,t)&&(r=t)}),r},t.prototype.findFirst=function(n){var r,i;return this.each(function(e,t){!i&&n(e,t)&&(r=t,i=!0)}),r},t.prototype.keys=function(e){var t=[];return this.each(function(e){t.push(e)},e),t},t.prototype.asStrings=function(){var n={};return this.each(function(e,t){n[e]=""+t}),n},t.prototype.selectProperties=function(e){var n={},r=this;return le(e).each(function(e,t){le.isDef(r.iterable[t])&&(n[t]=r.iterable[t])}),n},t.prototype.filter=function(r,e){return this.map(function(e,t){var n;return n=le.isUndef(r)||le.resolve(r,e,t)?t:n},e)},t.prototype.toArray=function(){return this.map(function(e,t){return t})},t.prototype.JSONStringify=function(){var e,t,n=!1;return(n=x.Prototype&&x.Prototype.Version&&-1===x.Prototype.Version.indexOf("1.7")?!0:n)&&(t=Array.prototype.toJSON,delete Array.prototype.toJSON),e=JSON.stringify(this.iterable),n&&(Array.prototype.toJSON=t),e},t.prototype.contains=function(n){var e=le(this.iterable).findFirst(function(e,t){return n===t});return le.isDef(e)},le.toBase=function(e,t){var n,r=e<0,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),o=[];for(e=r?-e:e;o.push(i[n=e%t]),0<(e=(e-n)/t););return o=o.reverse().join(""),r?"-"+o:o},le.isDef=function(e){return void 0!==e},le.isUndef=function(e){return!le.isDef(e)},le.isBool=function(e){return"boolean"==typeof e},le.noop=function(){},le.identity=function(e){return e},le.isFunction=function(e){return"function"==typeof e},le.isStr=function(e){return"string"==typeof e},le.useIfDef=function(e){return!!le.isDef(e)&&e},le.stringifyTriState=function(e){return!0===e?1:!1===e?0:"na"},le.getNum=function(e){return e=parseInt(e),e=!isFinite(e)?-1:e},le.resolve=function(e){var t=le(arguments).toArray();return t.shift(),le.isFunction(e)?e.apply({},t):e},le.flatJSONParse=function(e){for(var t,n,r=/"(\w+)":(\d+|(?:"([^"]*)"))/g,i={},o=r.exec(e);o;)t=o[1],n=o[3],o=o[2],i[t]=n||+o,o=r.exec(e);return i},le.debounce=function(n,r,e){var i,o=e||x;return function(){var e=this,t=arguments;o.clearTimeout(i),i=o.setTimeout(function(){i=null,n.apply(e,t)},r)}},le.last=function(e){return e[e.length-1]},le.collapseArgsIntoHash=function(e,t){var n={};return t?n[e]=t:n=e,n},le.fromBoolToNum=function(e){return e?1:0},le.isNumeric=function(e){return le.isDef(e)&&null!==e&&!isNaN(e)},le.fromNodeListToArray=function(e){return Array.prototype.slice.call(e)},le.encodeInvalidUrlChars=function(e,t){var n={$:"%24","[":"%5B","]":"%5D","{":"%7B","}":"%7D","|":"%7C"},r=e;return r=t&&"string"==typeof e?(r=e.replace(/%(?![0-9A-F][0-9A-F])/gi,"%25")).replace(/\$|\[|\]|\{|\}|\|/gi,function(e){return n[e]}):r};function h(){function e(e){var t=Bt.isNodeXDomainIframe(e)||Bt.isNodeCreative(e);if(s=(o=!e)?ge.contextNode.parentNode:e,t||o)0<(i=l.length)&&(f<i?f=i:(f=0,l=[])),pe.getAggregator().trigger("evaluateCreativeFinderResult",e);else{if(g){var n=t=e;for(o=(Fe.friendly?Qt.getTop().document:ge.contextNode.ownerDocument).body;c<3;){if(o&&t===o){n=t,c=3;break}Bt.isWindow(t)&&(n=Bt.crossQuerySelector("["+me.AD_IDENTIFIER+"-"+ge.asid+"]"),t=le.isDef(n)?n:t),n=t=le.isDef(t)&&t.parentNode||t,c++}t=n}else t=e;if(Bt.isWindow(t)){try{i=t.document}catch(e){i=ge.contextNode.ownerDocument}e=i}else e="IFRAME"===Bt.getNodeName(t)?(l.push(e),e.contentWindow.document):t;var r,i=[],o=(t=e&&e.getElementsByTagName&&e.getElementsByTagName("*"))&&t.length;if(t)for(var a=0;a<o;a++)r=(n=t[a])&&n.nodeName&&n.nodeName.toUpperCase(),!n.children||0!==n.children.length||le(d).contains(r)||le(u).contains(r)||le(i).contains(r)||i.push(r);i=d.concat(i),new p(i,l).searchDescendants(e)}}var s,u=["STYLE","SCRIPT","HEAD","META"],d=me.RENDER.CREATIVE_NODE_TYPES.concat(me.RENDER.CONTAINER_NODE_TYPES),c=0,g=ge.useFIF&&Fe.friendlyIframe||Fe.isSpecifiedAd(),f=0,l=[];return pe.getAggregator().on("creativeFinderBatchCompleted",e),{find:e,getClosestContainerName:function(){return Bt.getNodeName(s)}}}function p(o,a){function s(t){function n(e){var t=Bt.getNodeName(e),n=Bt.isNodeCreative(e)||"IFRAME"===t;t&&n&&!Bt.isEmptyTeadsFrame(e)&&(t=Bt.getNodeArea(e),o<t&&!le(a).contains(e)&&(i=e,o=t))}var r=0,i=null,o=-1;if(t.length&&pe.getAggregator().request("useYieldSearch"))!function e(){for(;n(t[r]),0!=(r+=1)%500&&r<t.length;);r<t.length?Qt.execAtEndOfThread(e,0):pe.getAggregator().trigger("creativeFinderBatchCompleted",i)}();else{for(;r<t.length;r++)n(t[r]);pe.getAggregator().trigger("creativeFinderBatchCompleted",i)}}return{searchDescendants:function(e){e=e||ge.contextNode.parentNode;for(var t=[],n=0;n<o.length;n++){var r=o[n].toLowerCase(),i=e.getElementsByTagName&&e.getElementsByTagName(r);if(i&&i.length)for(r=0;r<i.length;r++)t.push(i[r])}s(t)}}}function E(){function s(e){var t;if(Bt.isWindow(e))t="WINDOW";else if(Bt.isNodeXDomainIframe(e))t="XIFRAME";else try{t=Bt.getNodeName(e)}catch(e){u("nen")}return t}function u(e){t.push(e)}var t=[],d=[];return{build:function(){var n=[];return le(d).each(function(e,t){n.push(t)}),le(t).each(function(e,t){n.push(t)}),d=[],t=[],n.join(".")},getAdNodeName:s,save:u,saveNode:function(e){try{var t=e&&s(e),n=e&&Bt.getRect(e),r=e&&Bt.hasBackgroundImage(e),i=e&&e.innerText&&0<e.innerText.length,o=e&&e.children&&0===e.children.length&&i,a=n&&n.width>=me.RENDER.WIDTH_THRESHOLD&&n.height>=me.RENDER.HEIGHT_THRESHOLD?me.RENDER.DIAGNOSTIC.QUALIFIED_SIZE:me.RENDER.DIAGNOSTIC.UNQUALIFIED_SIZE;d.push(t),d.push(a),r&&d.push(me.RENDER.DIAGNOSTIC.STYLED_NODE),o&&d.push(me.RENDER.DIAGNOSTIC.TEXT_NODE)}catch(e){u("sne")}}}}function v(e){function t(){pe.getAggregator().trigger("addOutputItem",{output:!n&&r?"1":"0"},"rmeas"),n&&n.message&&!i&&(__IntegralASDiagnosticCall("renderloop",n,ge),pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.ENVIRONMENT,"rle",1),i=!0)}var n,r=!1,i=!1;pe.getAggregator().on("eligiblerender",function(){r=!0,t()}),pe.getAggregator().on("renderdiag",function(e){n=e,t()}),t()}function W(){return{applies:function(e,t){var n=pe.getAggregator().request("mobileApp");return(e.browserIs(me.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||e.browserIs(me.BROWSERS.WEBKIT)||e.browserIs(me.BROWSERS.MSEDGE))&&!n.isMobileAppEnvironment()&&e.hasIntersectionObserver()}}}function o(){var e,u=new b;return{listen:function(t,n,r){e=function(e){!function(e,t,n,r){var i,o,a,s;if(JSON&&JSON.parse)try{i=JSON.parse(e.data),o=e.source,s=le.noop,t(i)&&n(e,i,s=r&&(a=r(o,i))?function(){u.send(function(){return a},o)}:s)}catch(e){i&&pe.getAggregator().trigger("error",me.ERROR_CODES.MESSAGE_LISTENER)}}(e,t,n,r)},U.addEvent(x,"message",e)},stop:function(){e&&U.removeEvent(x,"message",e),e=null}}}function i(o,e,a,s){var u;return{collect:function(){var e=o.find(),t=e.getOutOfViewReasons(),n=a.isHidden(),r=s.isDeviceTypeGroupMobile()&&u?u:Gt(Bt.calcWinDims()),i=e.getDims();return u=r,e.hasAd()&&r.hasValidDims()&&i.hasValidDims()?(!0===n&&t.push(me.OUT_OF_VIEW_REASONS.FOCUS),{winDimensions:r,adDimensions:i,containerDimensions:e.getContainerDims(),method:e.getDetectionMethod(),viewState:t.length?me.OUT_OF_VIEW:e.getViewState(),viewStateIgnoringRender:e.getViewStateIgnoringRender(),percentInView:e.getPercentInView(),percentInViewIgnoringRender:e.getPercentInViewIgnoringRender(),reason:t.join("."),obstructed:le.stringifyTriState(e.isObstructed()),isHidden:le.stringifyTriState(e.isHidden()),tabHidden:le.stringifyTriState(n),posViewState:e.getViewState(),adCompCount:e.getComponentCount(),sliceStatus:e.getSliceStatus()}):{viewState:me.NA,posViewState:me.NA,embedded:Fe.embedded,winDimensions:r,adDimensions:i}}}}function u(){return{collect:function(){return{}}}}function r(n){function r(){var e=Qt.now();i.length&&(i[i.length-1].duration+=e-t,t=e)}n=n||le.identity;var i=[],t=Qt.now();return{clear:function(){r(),i=[]},fastForward:r,get:function(){return i},hasAlwaysBeen:function(e){return 1===i.length&&i[0].state===e},addState:function(e){var t=i[i.length-1];e=n(e),r(),0!==i.length&&e===t.state||i.push({state:e,duration:0})}}}function g(t,e){function n(e){i||(e&&t(),i=Qt.setInterval(t,o))}function r(e){i&&(e&&t(),Qt.clearInterval(i),i=null)}var i,o=e;return{start:n,stop:r,updateFrequency:function(e,t){o=e,i&&(r(),n(t))}}}function d(){function o(e){return a()===e}function a(){var e="u",t=Qt.getWindow();try{le.isDef(t.opera)&&le.isDef(t.opera.buildNumber)?e=s.OPERA:le.isDef(t.mozInnerScreenY)?e=s.GECKO:le.isDef(t.chrome)&&le.isDef(t.chrome.csi)?e=s.CHROME:le.isDef(t.msWriteProfilerMark)&&le.isDef(t.crypto)?e=s.MSEDGE:le.isDef(t.attachEvent)||le.isDef(t.msCrypto)?e=s.IE:le.isDef(t.WebKitPoint)&&(e=s.WEBKIT)}catch(e){}return e}function r(){var e=!1,t=Qt.getWindow();return e=le.isDef(t.navigator)&&le.isDef(t.navigator.userAgent)?t.navigator.userAgent:e}var s=me.BROWSERS;return{browserIs:o,hasIntersectionObserver:function(){return"function"==typeof IntersectionObserver},hasMutationObserver:function(){return"function"==typeof MutationObserver},hasResizeObserver:function(){return"function"==typeof ResizeObserver},hasAncestorOrigins:function(){var e=Qt.getWindow().location;return!(!e||!e.ancestorOrigins)},hasPostMessage:function(){var e=Qt.getWindow();return!(!e||!le.isFunction(e.postMessage))},getDocumentMode:function(){var e=Qt.getDoc();return e&&e.documentMode?e.documentMode:me.NA},getBrowserType:a,getUserAgent:r,params:function(){var e=a(),t=["{45EA75A0-A269-11D1-B5BF-0000F8051515}","{3AF36230-A269-11D1-B5BF-0000F8051515}","{89820200-ECBD-11CF-8B85-00AA005B4383}"],n=me.NA,r=Qt.getDoc(),i=r.createElement("div");if(o(s.IE))try{if("-ms-ime-align"in r.documentElement.style)n="11";else for(i.style.behavior="url(#default#clientcaps)",r=0;r<t.length&&!(n=i.getComponentVersion(t[r],"componentid").replace(/,/g,"."));r++);}catch(e){}return t=n,n=me.NA,i=Qt.getWindow(),{br:e,abv:t,an:n=le.isDef(i.navigator)&&le.isDef(i.navigator.appName)?i.navigator.appName.toLowerCase()[0]:n}},isAndroidWebViewBrowser:function(){var n=r(),e=["SamsungBrowser","FB_IAB","Silk"];return nn.contains(n,"Android")&&le(e).findFirst(function(e,t){return nn.contains(n,t)})},getIOSVersion:function(){var e,t;return t=(e=r())&&(e=e.match(/OS\s\d+/))&&0<e.length?(t=e.toString().match(/\d+/))&&0<t.length&&parseInt(t.toString()):t}}}function c(){function e(){return!1}function t(){return me.NA}return{getDocumentMode:t,getBrowserType:function(){return"u"},getIOSVersion:function(){},params:function(){return{br:"u",abv:me.NA,an:me.NA}},browserIs:e,getUserAgent:e,hasPostMessage:e,hasAncestorOrigins:e,hasIntersectionObserver:e,hasMutationObserver:e,isAndroidWebViewBrowser:e}}function f(){return{createInstance:function(e,t){return Fe.isDomless()?new F(t):new V(e,t)}}}function l(){var u;return{isApplicable:function(e){var t=!(!(u=pe.getAggregator().request("omidAdSessionContext")).app||!u.isDisplay||u.isWeb);return e=e&&-1<e.indexOf("/blocking/")&&!Fe.integratedBlockingApplies(e),t&&e},deployBlockingScriptIntoIframe:function(e){u=pe.getAggregator().request("omidAdSessionContext");var t,n="iasbi"+ge.asid,r=ge.contextNode.parentNode,i=ge.adWidth&&0<ge.adWidth?ge.adWidth:0,o=ge.adHeight&&0<ge.adHeight?ge.adHeight:0,a=Qt.getDoc().getElementsByTagName("ins"),s=t=0;a&&0<a.length&&(s=a[0],t=parseInt(s.style.width),s=parseInt(s.style.height)),i=t||i||window.innerWidth,o=s||o||window.innerHeight,"complete"===Qt.getDoc().readyState&&(ge.forceAppend="true"),"true"===ge.forceAppend?((t=Qt.getDoc().createElement("IFRAME")).id=n,t.src="about:blank",r.appendChild(t)):Qt.getDoc().write('<iframe id="'+n+'" src="about:blank"></iframe>'),(r=Qt.getDoc().getElementById(n))&&(r.style.width=i+"px",r.style.height=o+"px",r.scrolling="no",r.frameborder=0,r.style.position="absolute",r.style.padding=r.style.margin=r.style.border="0px"),(r=r&&r.contentWindow.document)&&(r.open().write(function(e,t){var n="",r="",i=Qt.getDoc().getElementsByTagName("ins");if(i&&0<i.length){for(r=i[0],n="<ins",i=0;i<r.attributes.length;i++)n+=" "+r.attributes[i].nodeName+'="'+r.attributes[i].nodeValue+'"';n+=">",r="</ins>"}return'<!doctype html><html><head></head><body style="margin:0px;border:0px;padding:0px;font-size:0px"><script>var IASid = "'+e+'", largestSize = 0;var IASmonitorDom = function () {  var DOM_MONITOR_PERIOD = 100;  var i, us, thisSize, thisWidth, thisHeight;  var elems = document.body.getElementsByTagName("*");  for (i = 0; i < elems.length; i++) {    if (elems[i].tagName && elems[i].tagName.toLowerCase() === "ins")      continue;    thisWidth = elems[i].offsetWidth;    thisHeight = elems[i].offsetHeight;    thisSize = thisWidth * thisHeight;    if (thisSize > largestSize) {      largestSize = thisSize;      us = parent.document.getElementById(IASid);      if (us) {        us.setAttribute("CreativeLoaded","true");        if (elems[i].style.left !== "") {          us.style.left = elems[i].style.left;          elems[i].style.left = "0px";        }        if (elems[i].style.top !== "") {          us.style.top = elems[i].style.top;          elems[i].style.top = "0px";        }      }    }  }  setTimeout(IASmonitorDom, DOM_MONITOR_PERIOD);};setTimeout(IASmonitorDom,50);<\/script>'+n+'<script src="'+t+'"><\/script>'+r+"</body></html>"}(n,e)),r.close())}}}function I(e){var n,r,t,i,o=I.callTypeCounter,a=[me.DT_CODES.ADTALK],s={UNLOAD:-1,ADTALK:-2,VIEWABILITY_READY:-3,VIDEO_EVENTS:-4,DIAGNOSTIC:-5,THIRD_PARTY:-6,QUARTILE_FULLY_INVIEW:-7,LARGE_BILLABLE:-8,SCA:-10};return n={},r=me.DT_CODES,le("UNLOAD ADTALK VIEWABILITY_READY VIDEO_EVENTS DIAGNOSTIC THIRD_PARTY QUARTILE_FULLY_INVIEW LARGE_BILLABLE SCA".split(" ")).each(function(e,t){n[r[t]]=s[t]}),t=n[e],i=o&&o[e],le.isDef(i)&&0!==i&&le(a).contains(e)&&(t=t+"."+i),i=o[e],o[e]=le.isDef(i)?i+1:1,{callType:e,enumerator:t}}var n,m,A,S,D,T,O,y,w,pe=(O={},y=[],w=[],q.runAll=function(){var e=le(O).keys().sort(function(e,t){return e-t});le(e).each(function(e,t){q.runTier(t)})},q.runTier=function(e){O[e].run(),delete O[e]},q.startSystem=function(){T=T||new N,le(w).each(function(e,t){Y.apply({},t)})},q.getAggregator=function(){return T},q),me={MRC_LARGE_AD_SIZE:242500,FLASH_MIME:"application/x-shockwave-flash",IN_VIEW:"inView",OUT_OF_VIEW:"outOfView",PARTIAL_VIEW_PLUS:"partialViewPlus",PARTIAL_VIEW_MINUS:"partialViewMinus",NA:"na",PIV_NA:-1,DT_CODES:{ADTALK:"a",DIAGNOSTIC:"b",PERFORMANCE:"e",THIRD_PARTY:"i",LARGE_BILLABLE:"l",VIDEO_EVENTS:"m",PING:"p",FULLY_INVIEW:"pf",QUARTILE_FULLY_INVIEW:"qf",SCA:"s",POS_INVIEW:"t",UNLOAD:"u",VIEWABILITY_READY:"v",EXTERNAL:"x",CUSTOM:"c",XSCA:"xs"},DT_SLOT:{IM:"im",FF:"sca",FF_EXP:"xsca",ENVIRONMENT:"env"},DETECTION_METHODS:{AD_PLACEHOLDER:"s",AD_HUNT:"a",IFRAME:"i",VIDEO:"v",MRAID:"m",AVID:"av",OMID:"o1",MUTATION:"c",SPECIFIED_AD:"sp",SPECIFIED_AD_COMPOUND:"spc",BUSTED_IFRAME_FLASHTALKING:"bf",BUSTED_IFRAME_YIELDMO:"by",BUSTED_IFRAME_SIZMEK:"bs",VENDOR_CELTRA:"vc"},OUT_OF_VIEW_REASONS:{GEOM:"l",OBSTRUCTION:"o",FOCUS:"f",COLLAPSED:"c",HIDDEN:"h",RENDER:"r",VIDEO:"v"},VIDEO_CHANNELS:{VANS:{AS3_ADAPTOR:"av3",JS_ADAPTOR:"jv3"},WRAPPERS:{JS:"jvw"}},PERF_TIMELINE_TRACKER_CONFIG:{VANS:{TYPE:"vans",COUNT:4},WRAPPERS:{JS:{TYPE:"jswrapper",COUNT:15},AS:{TYPE:"flwrapper",COUNT:9}},RENDER:{TYPE:"render",COUNT:2,CODE:"tdr"}},ERROR_CODES:{GET_AD_DIMENSIONS:"a",AD_SLOT_ID:"A",BAPI_CALLBACK:"b",BROWSER_NOT_HTML5_COMPATIBLE:"B",ADTALK_GENERAL:"c",COCOA_GONE:"C",GET_SCREEN_LOC_GET_DIMENSIONS:"d",ADTALK_DUBIOUS:"D",IMPRESSION_PERFORMANCE:"e",POST_IMPRESSION:"E",ADTALK_DELAY:"f",VIDEO_IN_IFRAME_DIMS_CALC:"F",GDPR:"g",INIT_ADS_MANAGER:"G",PHONE_HOME:"h",FEATURE_SCRIPT:"H",HIDDEN:"H1",HIDDEN2:"H2",UID_GENERATION:"i",IMPRESSION_URLS:"I",NOT_VPAID_EVENT_OBJECT:"j",JSINFO:"J",KILL_IT:"k",NO_RESPONSE_XML:"K",LOCATION_DETAILS:"l",IMPRESSION_LEADUP:"L",MESSAGE_LISTENER:"m",MOBILE_APP:"M",AT_INIT:"N",AUTOPLAY_DETECTION:"n",ANCESTOR_ORIGINS:"o",EVENT_LOOP_ONE:"O",GET_SCREEN_LOC_PIV_CALC:"p",PLUGIN_PARSING:"P",NO_ORIGINAL_VAST:"q",AD_REFRESH:"r",AD_ERROR:"R",GET_ELEM_STYLE:"s",AT_SEND:"S",ADS_MANAGER_START_AD:"t",NO_COMPANION_AD_XML:"T",NO_VIDEO_AD_INTERFACE:"u",UNRECOGNIZED_EVENT_TYPE:"U",ENVIRONMENT:"v",CHECK_SCREEN_LOC:"V",GET_WIN_DIMENSIONS:"w",AC_WATCHER:"W",EXCHANGE_PARSING:"x",SCA:"X",BUSTED_IFRAME_IN_IO:"y",FLASH_API_ACCESS:"z",XSCA:"Z"},BROWSERS:{WEBKIT:"w",OPERA:"o",GECKO:"g",CHROME:"c",IE:"i",MSEDGE:"e"},MEDIA_TYPE_CODE:"mtp",MEDIA_TYPE:{DISPLAY:"display",DISPLAY_CODE:"d",VIDEO:"video",VIDEO_CODE:"v"},MEASUREMENT_STRATEGY:{DISPLAY:"display",VIDEO:"video"},TIERS:{PRE_IMPRESSION_FRAUD:4,VIEWABILITY:7,ENVIRONMENT:8},IMPRESSION_EVENT:"impression",AD_IDENTIFIER:"data-integralas-id",IAS_DETECTOR:"iasdetector",AVID:{AD_SESSION_TYPE:{DISPLAY:"display",VIDEO:"video",MANAGED_DISPLAY:"managedDisplay",MANAGED_VIDEO:"managedVideo"}},CONTAINER_GEOMETRY_MEASUREMENT_CHANGED:"containerGeometryMeasurementChanged",OMID_GEOMETRY_MEASUREMENT_CHANGED:"omidGeometryChanged",VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER:[0,.01,.2,.25,.3,.5,.7,.75,.8,.99,1],VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID:[0,.1,.2,.25,.3,.4,.5,.6,.7,.75,.8,.9,1],GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE:"grpmMobPassThru",RENDER:{CREATIVE_NODE_TYPES:"CANVAS EMBED IMG OBJECT PICTURE SVG VIDEO".split(" "),CONTAINER_NODE_TYPES:["A","DIV","IFRAME","INS"],WIDTH_THRESHOLD:20,HEIGHT_THRESHOLD:20,STATUS:{OTHER:"0",DETECTED:"1"},DETAILS:{ENVIRONMENT:"env",OTHER:"na"},DIAGNOSTIC:{BROKEN_IMAGE:"bi",UNQUALIFIED_SIZE:"us",QUALIFIED_SIZE:"qs",STYLED_NODE:"sn",TEXT_NODE:"tn",DOCUMENT_READY:"dr",LOAD_FIRED:"lf",CONTENT_STYLED:"cs",MRAID_DEFAULT:"md",MRAID_READY:"mr",MRAID_LOADING:"ml",MRAID_UNKNOWN:"mu",OMID_RENDERED:"or",OMID_UNRENDERED:"ou"}},RTS_KEY_FOR_VQ:"qiv",UNIQUE_ID_TOKEN:"[IAS_ASID]"},he="in",Ee="lo",ve="lt",Ie="md",Ae="id",Se=function(){function t(){s=i=!0}function o(){var e=!1;return e=Fe.isOmid()&&d&&d.useOMID13Logic?!0:e}function g(n){function r(e){var t=e&&e.type;("readystatechange"===t&&"complete"===e.target.readyState||"load"===t)&&(p(i),f.saveNode(n),"readystatechange"===t?f.save(me.RENDER.DIAGNOSTIC.DOCUMENT_READY):"load"===t&&f.save(me.RENDER.DIAGNOSTIC.LOAD_FIRED),m(i),U.removeEvent(n,"load",r),U.removeEvent(o,"readystatechange",r))}var i={},o=Qt.getDoc();return"complete"===o.readyState?(p(i),f.saveNode(n),f.save(me.RENDER.DIAGNOSTIC.DOCUMENT_READY)):(U.addEvent(n,"load",r),U.addEvent(o,"readystatechange",r)),i}function n(){pe.getAggregator().on("primaryadfound",function(t){var s,u=l,d=new h,c=!0;pe.getAggregator().on("evaluateCreativeFinderResult",function(e){var t,n,r,i,o,a;Bt.isNodeXDomainIframe(e)?(s?Qt.clearInterval(s):c=!1,u=g(e)):e?(t=!1,n=Bt.getRect(e),(r=e&&"IMG"===Bt.getNodeName(e))&&(r=!0,a=le.isDef(e.naturalWidth)?e.naturalHeight*e.naturalWidth:0,i=getComputedStyle(e),o=0===e.src.length&&nn.contains(i.content,"url"),0<a&&!o&&(r=!1),"false"===(a=e.getAttribute&&e.getAttribute("data-ias-rend-bi"))&&(f.save(me.RENDER.DIAGNOSTIC.CONTENT_STYLED),r=!1),o&&!a&&function(e,t){f.save(me.RENDER.DIAGNOSTIC.CONTENT_STYLED);var t=/url(?:\(['"]?)(.*?)(?:['"]?\))/.exec(t.content)[1],n=Bt.createImage();n.onload=function(){0<n.naturalHeight*n.naturalWidth&&e.setAttribute&&e.setAttribute("data-ias-rend-bi",!1)},n.src=t,e.setAttribute("data-ias-rend-bi",!0)}(e,i)),r&&(t=!0,f.save(me.RENDER.DIAGNOSTIC.BROKEN_IMAGE)),!t&&n.width>=me.RENDER.WIDTH_THRESHOLD&&n.height>=me.RENDER.HEIGHT_THRESHOLD&&(p(u),s?Qt.clearInterval(s):c=!1),f.saveNode(e)):(e=d.getClosestContainerName()||f.getAdNodeName(e)||u.details,f.save(e)),m(u)});function e(){var e=t&&t.getAdNode();try{d.find(e)}catch(e){pe.getAggregator().trigger("renderdiag",e)}}var n,r=pe.getAggregator().request("mobileApp");function i(){U.removeEvent(n,"ready",i),f.save(me.RENDER.DETAILS.ENVIRONMENT),f.save(me.RENDER.DIAGNOSTIC.MRAID_READY),p(),m({status:me.RENDER.STATUS.DETECTED})}r&&r.isMobileAppEnvironment&&r.isMobileAppEnvironment()&&Fe.isMraid()?(n=Qt.getWindow().mraid,r=n&&n.getState&&n.getState(),f.save(me.RENDER.DETAILS.ENVIRONMENT),"default"===r?(p(),f.save(me.RENDER.DIAGNOSTIC.MRAID_DEFAULT),l.status=me.RENDER.STATUS.DETECTED):"loading"===r?(U.addEvent(n,"ready",i),f.save(me.RENDER.DIAGNOSTIC.MRAID_LOADING)):(U.addEvent(n,"ready",i),f.save(me.RENDER.DIAGNOSTIC.MRAID_UNKNOWN)),m(l)):(e(),c&&(s=Qt.setInterval(e,500))),pe.getAggregator().trigger("eligiblerender")})}function r(){var e=d&&!!d.isVideo,t=!o()||d&&!!d.videoStartArrived,n=!o()||d&&!!d.geometryArrived,r=!d.omidEarlyExit||d.omidImpressionArrived,i=!(d.omidEarlyExit&&o())||d.omidLoadedArrived;return!(a||!n||!r||!i||e&&!t)&&(pe.getAggregator().trigger("eligiblerender"),f.save(me.RENDER.DETAILS.ENVIRONMENT),f.save(me.RENDER.DIAGNOSTIC.OMID_RENDERED),p(),m(u),a=!0)}var f,i=!1,a=!1,s=!1,l={status:me.RENDER.STATUS.OTHER,details:me.RENDER.DETAILS.OTHER},u={status:me.RENDER.STATUS.DETECTED,details:me.RENDER.DETAILS.ENVIRONMENT},d=pe.getAggregator().request("omidAdSessionContext"),p=function(e){e&&(e.status=me.RENDER.STATUS.DETECTED),pe.getAggregator().trigger("adRendered")},c=function(e){e===me.RENDER.STATUS.DETECTED&&pe.getAggregator().trigger("perfCheckpoint",{type:me.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:Qt.now(),code:me.PERF_TIMELINE_TRACKER_CONFIG.RENDER.CODE})},m=function(e){var t=f.build();e=e.status||l.status,t=t||l.details,i&&e===me.RENDER.STATUS.DETECTED?(c(e),pe.getAggregator().trigger("addThrottledOutputItem","rend",e),pe.getAggregator().trigger("addThrottledOutputItem","renddet",t)):(c(e),pe.getAggregator().trigger("addOutputItem",{output:e},"rend"),pe.getAggregator().trigger("addOutputItem",{output:t},"renddet"))};return{start:function(){var e=!1;pe.getAggregator().trigger("perfCheckpoint",{type:me.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:Qt.now(),code:"initial"}),pe.getAggregator().on("adRendered",function(){e=!0}),pe.getAggregator().provide("adRenderStatus",function(){return e}),pe.getAggregator().provide("useYieldSearch",function(){return s}),f=new E,v(),pe.getAggregator().on("impressionsent",t),o()||d.omidEarlyExit?r()||(f.save(me.RENDER.DETAILS.ENVIRONMENT),f.save(me.RENDER.DIAGNOSTIC.OMID_UNRENDERED),m(l),pe.getAggregator().on("omidrendgeoupdate",function(){r()}),pe.getAggregator().on("omidrendvideostart",function(){r()}),d.omidEarlyExit&&(pe.getAggregator().on("omidimpressionarrived",function(){r()}),pe.getAggregator().on("omidloadedarrived",function(){r()}))):Fe.isAvid()||Fe.isOmid()||Fe.isVideo()?(pe.getAggregator().trigger("eligiblerender"),f.save(u.details),p(),m(u)):(m(l),n())}}},De=function(){var n=[],r={},i={percentInView:"piv",sl:"vs",reason:"r",width:"w",height:"h",omidObstructions:"oobs"},e={omidObstructions:["sl","percentInView","reason"]};pe.getAggregator().on("newScreenEvent",function(e){e=le(e).selectProperties(le(i).keys()),e=le(e).asStrings();var t=le(e).compareTo(r);(t=o(t))&&JSON.stringify(t)!==JSON.stringify({})&&(t.t=Fe.getTagTime(),n.push(t)),le(r).mixin(e)});var o=function(r){return le(e).each(function(e,t){var n=!1;le(t).each(function(e,t){r[t]&&(n=!0)}),!1===n&&delete r[e]}),r};return{toString:function(){return le(n).toION(i)}}},N=function(){var e=new C,t=new Te;return le(e).mixin(t)},Te=function(){function r(e,n,t){if((e=a[e])&&0!==e)return t&&(e=e.slice(0,1)),le(e).each(function(e,t){n.apply({},t)}),!0}function i(e,t,n){o[e]=o[e]||new R,o[e].push(t,n)}var o={},a={};return{on:function(e,t){var n={};t?n[e]=t:n=e,le(n).each(i),le(n).each(r)},once:function(e,t){r(e,t,!0)||i(e,t,1)},trigger:function(e){var t,n=le(arguments).toArray();n.shift(),(t=o[e])&&t.run.apply({},n)},persistentTrigger:function(e){var t=le(arguments).toArray();t.shift();var n=e;a[n]=a[n]||[],a[n].push(t),(n=o[e])&&n.run.apply({},t)}}},_=function(){function n(e,t){try{a(t||top,[0],e)}catch(e){}}var a=function(e,t,n){var r,i=t.length,o=Bt.isWindow(e)?e.frames:Bt.getChildWindowsOf(e);if(n&&n(e,t),o&&o.length){for(e=0;e<o.length;e++)(r=o[e])&&Bt.isWindow(r)&&(t[i]=e,a(r,t,n));t.pop()}};return{traverse:n,getFrames:function(e,t){var r=[];return n(function(e){if(n=Bt.isWindow(e)){for(var t=!0,n=0;n<r.length;n++)if(r[n]===e){t=!1;break}n=t}n&&r.push(e)},t),le(r).filter(e)}}},R=function(){var r=[];return{push:function(e,t){var n=0;t=t||Number.MAX_VALUE,r[r.length]=function(){n<t&&(n++,e.apply({},arguments))}},run:function(){var n=arguments;le(r).each(function(e,t){t.apply({},n)})}}},Oe=function(e){var i={};return{doEligibleJobs:function(r){le(e).each(function(e,t){var n=t&&t.getTime();le.isDef(n)&&n<=r&&!i[n]&&(t.getTask().call(),i[n]=!0)})}}},b=function(){return{send:function(r,e){JSON&&JSON.stringify&&(e=le(e=e).isObj()?[e]:(new _).getFrames(e),le(e).each(function(e,t){var n=le.resolve(r,t)||{};n.sentTime=Qt.now(),n=le(n).mapToObj(function(e,t){var n;return le.isFunction(t)||((n={})[e]=t),n}),t.postMessage(le(n).JSONStringify(),"*")}))}}},ye=function(e){function i(t,e,n){if(le.isUndef(t.output))throw Error("item with id "+e+' must have "output" method');this.item=t,this.id=e||++o,this.props=n||{},this.output=function(){var e=le.resolve(t.output);return e=this.props.asION?le(e).toION():e}}function t(e){var t,n,r=[];for(t in a)a.hasOwnProperty(t)&&(n=e(t,a[t]))&&r.push(n);return r}function r(e,t,n){function r(e,t,n){e=new i(e,t,n),a[e.id]=e}n="string"!=typeof(n=n||t)?n:{},le(e.output).isObj()&&!n.asION?le(e.output).each(function(e,t){r({output:t},e,n)}):r(e,t,n)}var o=0,a={};return e.on("addOutputItem",function(e,t,n){r(e,t,n)}),{addItem:r,filterOutput:function(r,i){return t(function(e,t){var n=t.props;r(n)&&(t=t.output(),n.encode&&(e=encodeURIComponent(e),t=encodeURIComponent(t)),le.isFunction(i)?i(e,t):i[e]=t)})},iterate:t,cleanup:function(){t(function(e,t){t.props.flagForRemoval&&delete a[e]})},getItem:function(e){return a[e]}}},C=function(){function n(e,t){i[e]=t}var i={};return{request:function(e){var t,n=i[e],r=le(arguments).toArray();return r.shift(),t=!le.isUndef(n)?le.isFunction(n)?n.apply({},r):n:t},provide:function(e,t){return t?i[e]=t:le(e).each(n),t}}},we=function(){return{createInstance:function(e,t,n,r){return Fe.isDomless()?new u:new i(e,0,n,r)}}},Ne=function(e,t){var n,r=e||1,i=0,o=0,a=0;return{start:function(){0==i%r&&(n=Qt.now())},stop:function(){var e=n||t;0==i%r&&(a+=Qt.now()-e,o++),i++},getTime:function(){return a},getCount:function(){return o}}},_e=function(){function e(){n&&(r++,o.trigger(r),r<i?Qt.execAtEndOfThread(e):t())}function t(){n=!1,r=0}var n,r=0,i=0,o=new Te(!0);return{onTick:function(e,t){t=le.collapseArgsIntoHash(e,t);le(t).each(function(e,t){e=parseInt(e),i=i<e?e:i}),o.on(t)},start:function(){n||(n=!0,Qt.execAtEndOfThread(e))},kill:t,isActive:function(){return n}}},Re=function(e){var t,n=0,r=Fe.getTagTime(),i=0,o=!1;return{getTotalTime:function(){return i},stop:function(){n=0,r=Fe.getTagTime(),o=!1},mark:function(){t=o?Fe.getTagTime()-r:0,e<=(n+=t)&&(i+=n-t<e?n:t),r=Fe.getTagTime(),o=!0}}},be=function(e,i){var t=e||ge.adsafeSrc||ge.requrl;t&&0===t.indexOf("http")||(t=0===t.indexOf("//")?ge.protocol+":"+t:ge.protocol+"://"+t);function r(e){return d=le.isDef(e)?e:d}function o(e){return c=le.isDef(e)?e:c}function a(e,t){return t=e+"="+le(t).toION(),le.encodeInvalidUrlChars(t,ge.encodeInvalidUrlChars)}var n=(t=/((http|https):\/\/(([^\/\.]*)\.([^\/]*)))(?:\/(.[^?]*)\??(.+)?)*/.exec(t))[1],s=t[2],u=t[3],d=t[4],c=t[5],g=e?t[6]:"",f=i?t[7]:"",l={},f=f?f.replace(/&$/,""):"";return{appendToParamValue:function(e,t){var n,r;(n=l[e])?l[e]=n+t:i&&f.length&&(r=1<(n=f.split(e)).length)&&(r=n[1].split("&")[0],n=[n[0],r].join(e),f=f.replace(n,n+t))},fullDom:n,hostname:u,sub:r,master:o,setParam:function(e,t){l[e]=l[e]||{},le(t).isObj()?le(l[e]).mixin(t):l[e]=t},path:function(e){g=e},toString:function(){var e=r()?r()+".":"",t=g?"/"+g:"",n=f||!le(l).isEmpty()?(n=le(l).isEmpty()?"":le(l).stringify(a,"&"),"?"+f+(f&&n?"&"+n:n)):"";return s+"://"+e+o()+t+n}}},M={name:"AdRefreshDetection",dependencies:[],creator:function(){var t=[15,30,45,60,90],r={start:function(){var n=this,e=ge.asid,t=this.getChanId(),r=ge&&ge.contextNode&&ge.contextNode.nextSibling&&ge.contextNode.nextSibling.id;e&&t&&(this.recordAdSlotImpression(e,t,r,function(e,t){e?pe.getAggregator().trigger("error",me.ERROR_CODES.AD_REFRESH):n.sendRefreshSession(t)}),n.registerInternalViewabilityListener(t,r))},adRefreshIntervalIsValid:function(e){return-1!==t.indexOf(e)},getChanId:function(){for(var e,t=ge.reqquery.split("&"),n=/(\S+)=(\S+)/g,r=0;r<t.length;r+=1){n.lastIndex=0;var i=n.exec(t[r]);i&&3===i.length&&"chanId"===i[1]&&(e=i[2])}return e},sendRefreshSession:function(e){e=(0===e.refreshCount?"self":e.refreshSessionId)+"."+e.refreshCount,pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.ENVIRONMENT,"ar",e)},recordAdSlotImpression:function(e,t,n,r){var i=Qt.getTop();e={requestTop:"recordAdSlotImpression",asid:e,adUnitId:t,cacheId:n},window.addEventListener("message",function(e){if(/refreshSession/g.test(e.data))try{var t=e&&e.data&&JSON.parse(e.data);r(null,t)}catch(e){r(e)}},!1),i.postMessage(JSON.stringify(e),"*")},registerInternalViewabilityListener:function(n,r){var i=this,o=ge.adRefreshThreshold&&parseInt(ge.adRefreshThreshold)||null,a=Qt.getTop();o&&this.adRefreshIntervalIsValid(o)&&pe.getAggregator().on("sendDt",function(e,t){e===me.DT_CODES.PING&&t===o&&(Qt.execAtEndOfThread(function(){a.postMessage(JSON.stringify({requestTop:"refreshAd",adUnitId:n,cacheId:r}),"*")}),i.sendAutoRefreshProp(o))})},sendAutoRefreshProp:function(e){pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.ENVIRONMENT,"ir",e),pe.getAggregator().trigger("adSessionComplete")}};return Fe.isRefreshable(function(e,t){var n;if(!e&&t)try{(n=JSON.parse(t)).isRefreshable&&n.adServerName&&r.start()}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.AD_REFRESH)}}),r},settings:{tier:me.TIERS.ENVIRONMENT,applies:function(e,t,n){return n.isPossiblyRefreshable()}}},Ce=function(){function t(e,t){return-1!==t.indexOf("https")&&(t+="*"),t.replace(/^https?:\/\//,"")}var n,e;return{isApplicable:function(e,t,n){var r;return!(r=(r=n.isVideo()&&!(n.isAvid()||n.isMraid()||n.isOmid()))?(r=pe.getAggregator().request("adNode")?parseFloat(pe.getAggregator().request("videoVersion")):void 0)<3.7:r)&&e.hasAncestorOrigins&&e.hasAncestorOrigins()&&t.on("ancestor")&&n.xDomainIframe},isStarted:function(){return!!e},start:function(){try{n=Qt.getWindow().location.ancestorOrigins,e=!0}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.ANCESTOR_ORIGINS)}},getMyFrameDepth:function(){return n&&n.length||0},getTopDomain:function(){return le.last(n)},sendOriginList:function(){var e="ao:"+(n?le(n).map(t).reverse():[]).join(",");pe.getAggregator().trigger("addOutputItem",{output:e},"tpiLookup",{type:me.DT_CODES.THIRD_PARTY,standalone:!0,encode:!0}),pe.getAggregator().trigger("sendDt",me.DT_CODES.THIRD_PARTY)}}},Me=function(t,e,n,r){return{enabled:"true"===ge.useBapiCallback,callback:function(e){n.trigger("sendDiag");try{"true"===ge.accountForSadImps&&r.measure(e),ge._onAPIResult&&ge._onAPIResult(e)}catch(e){t.add(me.ERROR_CODES.BAPI_CALLBACK),n.trigger("sendDiag","bapiClient")}}}},Ve=function(){return{createInstance:function(e,t,n,r){return new(Fe.isDomless()?c:d)}}},V=function(e,i){function o(e,t,n,r){u(t)&&(t="//"+ge.iasProxyPartnerDomain+encodeURIComponent(t)),"script"!==e?((t=fe.createElement("DIV")).innerHTML=n,n=t.childNodes[0]):((n=fe.createElement("SCRIPT")).src=t,r&&(n.onload=r)),ge.contextNode.parentNode.appendChild(n)}function t(e,t,n){var r="",i=' src="'+t+'"';n&&(r="__IntegralASEventLoadHandler_"+ge.asid.replace(/-/g,""),x[r]=n,r=' onload="'+r+" && "+r+'()"'),r={script:['<script type="text/javascript"',r,i,"><\/script>"],iframe:['<iframe width="100%" height="100%" frameborder="0" vspace="0" hspace="0" scrolling="no" marginheight="0" marginwidth="0"',r,i,"></iframe>"],img:["<img",r,i,"/>"]}[e].join(""),Fe.isOmid()?(i=new l).isApplicable(t)?i.deployBlockingScriptIntoIframe(t):o(e,t,r,n):"true"===ge.forceAppend?o(e,t,r,n):fe.write(r)}function n(e,t,n){var r=!n&&U.getXHR2();u(e)&&(e="//"+ge.iasProxyPartnerDomain+encodeURIComponent(e)),r?(r.open("POST",e),r.onreadystatechange=function(){4===r.readyState&&200===r.status&&t&&t()},r.send()):(n=Bt.createImage(),t&&(n.onload=t),n.src=e)}function a(e,t,n,r){var i=fe.createElement("script");n=n||ge.contextNode.parentNode,u(e)&&(e="//"+ge.iasProxyPartnerDomain+encodeURIComponent(e)),i.type="text/javascript",i.src=e,t&&(i.onload=t),r&&(i.setAttribute("defer",""),i.setAttribute("async","")),le.isDef(n)&&n.appendChild(i)}function r(e){le.isFunction(e)?e({iasImpId:ge.asid}):e&&"string"==typeof e&&(e=new be(e,!0).toString(),n(e,void 0,!0))}function s(e,t,n,r){a(i.wrap(e,t,n,r))}var u=function(e){var t=ge.iasProxyPartnerDomain;return e=e&&-1!=e.toString().indexOf("jsconfig.adsafeprotected.com/jsconfig"),t&&!e};return pe.getAggregator().on({addNode:t,send:n,exec:a,notify:r,jsonp:s}),{addNode:t,send:n,exec:a,notify:r,jsonp:s}},F=function(i){function e(e,t){t=t||e,e=1<arguments.length?e:"script",pe.getAggregator().request("omidVerificationClient")["script"===e?"injectJavaScriptResource":"sendUrl"](t,function(){})}function t(e,t){e=encodeURI(e),pe.getAggregator().request("omidVerificationClient").sendUrl(e.toString(),t||function(){})}function o(e,t){pe.getAggregator().request("omidVerificationClient").injectJavaScriptResource(e,t||function(){})}function n(e){le.isFunction(e)?e({iasImpId:ge.asid}):e&&"string"==typeof e&&(e=new be(e,!0).toString(),t(e))}function r(e,t,n,r){o(i.wrap(e,t,n,r))}return pe.getAggregator().on({addNode:e,send:t,exec:o,notify:n,jsonp:r}),{addNode:e,send:t,exec:o,notify:n,jsonp:r}},Fe=(n=x,m="undefined"==typeof window,A=void 0!==n&&"undefined"!=typeof top&&n!==top,S=function(){var e=!1;if(m)e=!0;else try{e=!!top.document}catch(e){}return e}(),{embedded:A,friendly:S,isFriendlyToParent:function(e){var t;if(m)e=!0;else{try{t=be(e.document.referrer).hostname===e.location.hostname}catch(e){}e=t}return e},friendlyIframe:A&&S,xDomainIframe:A&&!S,getTagTime:function(){return Qt.now()-ge.birthdate},getPageTime:function(){var e=me.NA;return e=!m&&le.isDef(n.chrome)&&le.isDef(n.chrome.csi)&&le.isFunction(n.chrome.csi)?Qt.round(n.chrome.csi().pageT):e},isVideo:G,isMobileApp:P,isSpecifiedAd:function(){var e=!1;return e=!m?(e=le.isFunction(ge.contextNode.getAttribute)&&ge.contextNode.getAttribute("data-ias-container")||ge._cl_adpath)&&le.isStr(e):e},isCompoundAd:function(){var e=!1;return e=!m?null!==(e=/\[(.*)\]/.exec(ge._cl_adpath))&&0!==e[1].length&&1<e[1].split(",").length:e},isAvid:function(){return!m&&le.isDef(Qt.getWindow().avid)},isOmid:function(){var e=pe.getAggregator().request("omidVerificationClient");return e&&e.isSupported()&&!ge.videoId},isOmidNative:function(){return(new _n).accepts()},isOmidForWeb:function(){return(new yn).accepts()},isDomless:function(){return m},isAvidNative:function(){var e=!1,t=pe.getAggregator();return m||(t=t.request("avidJsClient")).isAvidAvailable()&&(e=(e=t.getAvidAdSessionContext().avidAdSessionType)===me.AVID.AD_SESSION_TYPE.MANAGED_DISPLAY||e===me.AVID.AD_SESSION_TYPE.MANAGED_VIDEO),e},isBustedIframe:function(){var e=!1;return e=!m?void 0!==qn():e},isMraid:D=function(){return!m&&le.isDef(Qt.getWindow().mraid)},isSafeFrame:function(){var e=!1;return e=!m?le(Qt.getWindow().$sf).isObj(!1)&&le(Qt.getWindow().$sf.ext).isObj(!1):e},isInMobiMraidVideo:L,isDeviceTypeGroupMobile:H,usesIASFullyInViewCustomMetric:function(){return k("fiv")||ge.use100v||!j()},usesGroupMCustomMetric:j,isCeltra:function(){var e=!1;return e=!m?Yn().isApplicable():e},usesGroupMCustomMetricMobilePassThru:function(){return j()&&H()},usesZeroPivCustomMetric:function(){return!1!==le(ge.customViewability).isArray()&&0<le(ge.customViewability).filter(function(e,t){return le(t.thresholds).findFirst(function(e,t){return 0===t.piv})}).length},isRefreshable:function(t){try{var e=Qt.getTop();window.addEventListener("message",function(e){/isRefreshable/g.test(e.data)&&t(null,e&&e.data)},!1),e.postMessage(JSON.stringify({requestTop:"isRefreshable"}),"*")}catch(e){t(e)}},isPossiblyRefreshable:function(){return!m&&!P()&&!G()&&A&&"jload"===ge.mode},integratedBlockingApplies:function(e){var t,n,r,i=!1;ge.contextNode&&le.isFunction(ge.contextNode.getAttribute)&&(t=ge.contextNode.getAttribute("data-ias-check-tag"),n=ge.contextNode.getAttribute("data-ias-check-done"),r=(r=ge.contextNode.getAttribute("data-ias-callback"))&&le.isFunction(Qt.getWindow()[r]));var o=le.isDef(JSON)&&le.isFunction(JSON.parse);e=ge.integration&&(0<e.indexOf("skeleton.js")||0<e.indexOf("/internal/"));var a=!0===ge.fwMonitoring||"true"===ge.fwMonitoring;return o&&e&&("true"===t&&"true"!==n&&r?(i=!0,a&&pe.getAggregator().trigger("addOutputItem",{output:"imgb"},"smm",{type:"impression"})):(i=!1,a||pe.getAggregator().trigger("addOutputItem",{output:"ibgm"},"smm",{type:"impression"}))),i},isBlocking:B,isBlockingSizmekTag:function(){return B()&&nn.contains(ge.scriptUrl,"bs.serving-sys.com")}}),U={addEvent:function(e,t,n,r){le.isDef(e.addEventListener)?"mouseenter"===t?e.addEventListener("mouseover",U.mouseEnter(n),r):"mouseleave"===t?e.addEventListener("mouseout",U.mouseEnter(n),r):e.addEventListener(t,n,r):le.isDef(e.attachEvent)&&e.attachEvent("on"+(t="DOMContentLoaded"===t?"load":t),n)},removeEvent:function(e,t,n){le.isDef(e.removeEventListener)?("mouseenter"===t?(t="mouseover",n=U.mouseEnter):"mouseleave"===t&&(t="mouseout",n=U.mouseEnter),e.removeEventListener(t,n)):le.isDef(e.detachEvent)&&e.detachEvent("on"+t,n)},mouseEnter:function(n){var r=this;return function(e){var t=e.relatedTarget;this===t||r.isAChildOf(this,t)||n.call(this,e)}},isAChildOf:function(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e},getStyle:function(e,t,n){var r="";return n=n||"",fe.defaultView&&fe.defaultView.getComputedStyle?r=(e=fe.defaultView.getComputedStyle(e,n))?e.getPropertyValue(t):r:e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),r=e.currentStyle[t]),r},getXHR2:function(e,t){var n,r;return le.isDef(x.XMLHttpRequest)?"withCredentials"in(r=new XMLHttpRequest)&&(n=r):le.isDef(XDomainRequest)&&(n=new XDomainRequest),n},whenReady:function(e,t){var n,r,i,o;function a(){r(!0)}Fe.isDomless()?Qt.setTimeout(function(){e()},50):(n=t||(Fe.xDomainIframe?fe:Qt.getTop().document),t=this,r=e,le.isFunction(fe.addEventListener)?"complete"==n.readyState||"loaded"==n.readyState||"interactive"==n.readyState?Qt.execAtEndOfThread(a):t.addEvent(n,"DOMContentLoaded",a,!1):(i=r,o=Qt.setInterval(function(){n.body&&(Qt.clearInterval(o),i())},50)))},isSandboxed:function(e){var t,n=Qt.getWindow(),r=!1;if("sandbox"in Qt.getDoc().createElement("iframe")){try{t=n.frameElement}catch(e){}if(t)e=t.hasAttribute("sandbox");else{if(t=!1,n=Qt.getDoc(),e.browserIs(me.BROWSERS.CHROME))try{n.domain="hol@#3+~"}catch(e){/Assignment is forbidden for sandboxed iframes/.test(e.message)&&(t=!0)}e=t}r=e}return r},styleElement:function(e,t){var n;e&&le(e.style).isObj()&&le(t).isObj()&&(n="",le(t).each(function(e,t){n+=e+": "+t+" !important;"}),e.style.cssText=n)},nodeIsAbsolutelyPositioned:function(e){return"absolute"===U.getStyle(e,"position")||e.style&&"absolute"===e.style.position}};function P(){return m||le.isDef(Qt.getWindow().mraid)}function L(){var e,t=!1;return m||(e=(t=Qt.getWindow().inmobi)&&t.IASDocumentVideoBuffer,t=t&&e&&le.isFunction(e.addVideoEventListener),t=D()&&!!t),t}function G(){if(!(t=-1!==ge.mode.indexOf("jsvid"))){var e,t=!1,n=pe.getAggregator();if(!m&&(n=n.request("avidJsClient")).isAvidAvailable())try{t=(e=n.getAvidAdSessionContext()).mediaType===me.MEDIA_TYPE.VIDEO}catch(e){}(e=t)||(e=(n=pe.getAggregator()).request("omidVerificationClient"),t=!1,n=n.request("omidAdSessionContext"),e=(t=e&&n?n.mediaType===me.MEDIA_TYPE.VIDEO:t)||L()),t=e}return t}function B(){return!1===ge.fwMonitoring||"false"===ge.fwMonitoring}function H(){return ge.mobOrTab}function k(n){return!1!==le(ge.customViewability).isArray()&&0<le(ge.customViewability).filter(function(e,t){return nn.contains(t.id,n)}).length}function j(){return k("grpm")||ge.use100v}function q(){var e={},t=le(arguments).toArray();return t.unshift(e),w.push(t),e}function Y(n,e,r,i,o){function t(){var e,t;a||(e=[],a=!0,t=["features","browser","context"],0===y.length&&(y=le(t).map(function(e,t){return T.request(t)})),o.emits&&(n.events=new Te),o.applies&&!o.applies.apply(o,y)||(s=!0,(e=le(r).map(function(e,t){return T.request(t)},!0)).push(n),le(n).mixin(i.apply({},e))))}var a,s,u;return u=(o=o||{}).tier,le.isDef(u)&&(O[u]=O[u]||new R,O[u].push(t)),T.provide(e,function(){var e;return t(),e=s?n:e}),n}I.callTypeCounter={};function Pe(){return{createInstance:function(e,t){return Fe.isDomless()?new kt:new Ht(e,t)}}}function Le(t,n){return{init:function(e){t.jsonp(e,function(e){n.send(me.DT_CODES.THIRD_PARTY,void 0,!1,!0,{field:"tpiLookup",value:e})},!1,"callback")}}}function K(r,i,n,o,e){return{getTime:function(){return 1e3*r.getTimeInViewInSeconds()},getTask:function(){return e?function(){var e=pe.getAggregator().request("adRenderStatus"),t=o||i,n=r.getTimeInViewInSeconds();e||pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.ENVIRONMENT,"nr_"+t,n)}:function(){var e=r.getTimeInViewInSeconds(),t=r.getTimeInViewForRts();le.isDef(o)&&(pe.getAggregator().trigger("addOutputItem",{output:o},"metricId",{type:i}),pe.getAggregator().trigger("addOutputItem",{output:"t"},"cmr",{type:i})),pe.getAggregator().trigger("sendDt",i,e),n[t]&&n[t]()}}}}function X(){var n,r=!1,i=!1;function o(){return le.isDef(n.prop)?Qt.getDoc()[n.prop]:null}pe.getAggregator().request("features");var a,s,u,d=new R;return a="hidden",s="visibilitychange",u=Qt.getDoc(),le.isUndef(u.hidden)?le(["moz","ms","webkit"]).each(function(e,t){var n=t+"Hidden";le.isDef(u[n])&&(a=n,s=t+s,r=!0)}):r=!0,n=r?{prop:a,event:s}:{},{isHidden:o,onHiddenChange:function(e){function t(){d.run(o())}d.push(e),i||(i=!0,e=Qt.getWindow(),U.addEvent(e,"focus",t,!0),U.addEvent(e,"blur",t,!0),n.event&&U.addEvent(Qt.getDoc(),n.event,t,!0))},supportsVisAPI:function(){return r}}}function z(){return{isHidden:function(){return!1},onHiddenChange:function(e){},supportsVisAPI:function(){return!0}}}function J(r,o){function e(){var e,t,n={};try{n.a=encodeURIComponent(top.location.href)}catch(e){}try{n.b=encodeURIComponent(parent.location.href)}catch(e){}if(Fe.embedded){try{n.c=encodeURIComponent(parent.document.referrer)}catch(e){}try{n.e=encodeURIComponent(x.document.referrer)}catch(e){}}try{"jsi"!==ge.mode&&(n.d=encodeURIComponent(x.location.href))}catch(e){}try{n.f=encodeURIComponent(ge.jsref)}catch(e){}try{e=function(){var t={};try{t.q=o.getWindow().parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(e){var n,r,i=(i=e.message).substring(i.lastIndexOf("<")+1,i.lastIndexOf(">"));(r=le.isDef(i))&&(n=o.getWindow(),r=!1,le.isDef(n.navigator)&&le.isDef(n.navigator.userAgent)&&(null!==(n=n.navigator.userAgent.match(/Firefox\/([\.0-9]+)/))&&2==n.length&&(n=n[1].split("."),3==parseInt(n[0],10)&&parseInt(n[1],10)<=6&&(3!=n.length||parseInt(n[2],10)<=13)&&(r=!0)))),r&&(t.g=i)}return t}(),n.g=encodeURIComponent(e.g||""),n.q=encodeURIComponent(e.q||""),r.isStarted()&&!e.g&&1<r.getMyFrameDepth()&&(n.g=encodeURIComponent(r.getTopDomain()))}catch(e){}for(t in e=[],n=function(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=e[n],le.isUndef(r[t])?r[t]=n:r[t]+=n);for(n in e={},r)r.hasOwnProperty(n)&&(t=r[n],e[t]=n);return e}(n=function(e){for(var t in e){var n;e.hasOwnProperty(t)&&(""!==(n=e[t])&&"null"!==n&&"undefined"!==n&&null!==n&&!le.isUndef(n)||delete e[t])}return e}(n)))n.hasOwnProperty(t)&&e.push({key:t,val:n[t]});return e.sort(function(e,t){return e.val.length>t.val.length?1:e.val.length<t.val.length?-1:0}),i=e}var i;return{detectTopURL:e,getDetectedURLs:function(){return i||e()}}}function Q(){return{detectTopURL:function(){return[]},getDetectedURLs:function(){return[]}}}function Z(){function t(e){var t=Bt.tagNameIs(e,"div"),n=Bt.attributeMatches(e,"class",r);return e=Bt.attributeMatches(e,"id",i),t&&n&&e}var n,o=(n=function(e){return e&&e.width&&30<e.width&&e.height&&30<e.height},{hasValidDimensions:function(e){var t;return(t=u(e))||(e=Bt.getDimensionFromStyle(e),t=n(e)),t},hasValidDimentionAttributes:u}),r=/GoogleActiveViewClass/,i=/DfaVisibilityIdentifier_/,a=/doubleclick.net\/pcs\/click?/,s=/_blank/;function u(e){return e=Bt.getDimensionFromAttributes(e),n(e)}return{getDFPGoogleDiv:function(e){return Bt.traverseAndFindFirstMatchingNode(e,t)},getClickableImage:function(e){var t,n=(e=Bt.getFirstChildElement(e))&&Bt.tagNameIs(e,"a"),r=Bt.attributeMatches(e,"href",a),i=Bt.attributeMatches(e,"target",s);return n&&r&&i&&(e=Bt.getFirstChildElement(e),Bt.isImageTag(e)&&o.hasValidDimentionAttributes(e)&&(t=e)),t},getNodeMatchingMinimumSize:function(e){return Bt.traverseAndFindFirstMatchingNode(e,o.hasValidDimensions)}}}function $(){function r(e,t){t.tag=Bt.getTagName(e),t.size=Bt.getDimensionFromAttributes(e)||Bt.getDimensionFromStyle(e)}var i=Z();return{getDFPValue:function(e){var t,n;return(t=i.getDFPGoogleDiv(e))?(e={type:0},t&&(e.type=1,(n=i.getClickableImage(t))?(e.type=2,r(n,e)):(t=i.getNodeMatchingMinimumSize(t))&&(e.type=3,r(t,e))),t=e):(t={type:0},(e=i.getNodeMatchingMinimumSize(e))&&(t.type=4,r(e,t))),t}}}function ee(o){function a(){s&&(o.clearInterval(s),s=null),u&&(o.clearTimeout(u),u=null)}var s,u;return{onResize:function(t){var e,n=o.innerWidth,r=o.innerHeight,i=!1;e=function(){var e=o.innerHeight;(i=(e=o.innerWidth!==n||e!==r)?!0:i)&&!e&&(t(),a(),i=!1),n=o.innerWidth,r=o.innerHeight},s=o.setInterval(e,100),u=o.setTimeout(function(){a()},42e4)}}}function te(r,i,o,a){function n(){if(s=Math.round(Bt.getNodeArea(r.body)),a<=s){for(var e,t=s+20*s/100,n=r.querySelectorAll("iframe"),n=le.fromNodeListToArray(n);n.length&&(d<t||u<o);)e=n.shift(),e=Math.round(Bt.getNodeArea(e)),a<=e&&(u++,d+=e);t<=d&&o<=u&&(t={va:s,bia:d,bin:u},pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.FF,i,le(t).toION()),c=!0)}}var s,t,u=0,d=0,c=!1;r&&r.body&&(Qt.execAtEndOfThread(n),!c&&le.isDef(x.MutationObserver)&&(t=new MutationObserver(function(e){c?t.disconnect():Qt.execAtEndOfThread(function(){le(e).each(function(e,t){!t.addedNodes.length||(t=t.addedNodes[0])&&Bt.isElement(t)&&Bt.tagNameIs(t,"IFRAME")&&le.debounce(n,10)})})})).observe(r.body,{attributes:!1,childList:!0,characterData:!1}))}function ne(e){function t(){return i=le.isUndef(i)?new pn(o):i}var n,r,i,o=new N,a=new _,s=new fn(o),u=new gn,d=new En,c=new hn(o,e);return{isApplicable:function(e){return le.isDef(x.JSON)&&le.isDef(x.postMessage)&&!e.isAvid()&&(!e.isOmidNative()||e.isOmidForWeb())},start:function(){o.provide({frameCollection:function(){return s},adProxy:function(){return d},adTalkMessage:function(e){return new cn(e,o)},adTalkMessageCollection:function(){return u},idMapModule:t,interFrameQuerySelector:function(e){return new mn(e)}}),a.traverse(s.addFrame),c.startListening(),c.sendToKnownFrames(),pe.getAggregator().once("stopAdTalk",function(){c.stopListening()}),pe.getAggregator().provide("adTalkEventAggregator",o)},sendAdTalkCall:c.sendAdTalkCall,getFrameMap:function(){return n=le.isUndef(n)?new ln(o):n},getFrameMapIncludingPeerCase:function(){return r=le.isUndef(r)?new ln(o,!0):r},getIdMap:t}}function re(){return{isApplicable:function(){return!1},start:function(){}}}function ie(e,t,n,r){function i(e){var r=a.adProxies;e=e.adProxies;var i=[];r.length&&e.length?le(e).each(function(e,t){var n;n=t,le(r).find(function(e,t){return t.adSafeId&&t.adSafeId===n.adSafeId})||i.push(t)}):i=e,a.adProxies=r.concat(i)}var o=e==x,a={position:t.slice(0),id:t.join("-"),isMe:o,isLeaf:!e.frames.length,adProxies:o?n:[],selfDescription:void 0,unifiedId:ge.birthdate,srcIsEmbedded:r?r.srcIsEmbedded:void 0,inbox:r?[r]:[],getDomObj:function(){return e},getStringifiedPosition:function(){return le(a.position).map(function(e,t){return le.toBase(Number(t)+1,36)}).join("")},isValidForMapping:function(){return a.isLeaf||a.isMe||le.isDef(a.selfDescription)}};return a.addInformationFromSrc=function(e,t){var n;i(t),n=e,le(a.inbox).find(function(e,t){return t.srcAsid&&t.srcAsid===n.srcAsid})||a.inbox.push(n),a.srcIsEmbedded=e.srcIsEmbedded,a.selfDescription=t},a}function oe(){var e=pe.getAggregator().request("ids"),t=e.getAsid();return{tagId:e.getFwId(),adSafeId:t}}function ae(n,e){function r(n,r){!function(e){var t=pe.getAggregator().request("mobileApp");return(e.browserIs(me.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||e.browserIs(me.BROWSERS.WEBKIT)||e.browserIs(me.BROWSERS.MSEDGE))&&!t.isMobileAppEnvironment()&&e.hasResizeObserver()}(f)||Qt.getResizeObserver(function(e,t){e=e.pop();0<e.contentRect.height*e.contentRect.width&&(r.unobserve(n),r.observe(n),t.disconnect())}).observe(n)}function t(){var e=Qt.getIntersectionObserver(function(e,t){var n=e.pop(),e=n.intersectionRect.width*n.intersectionRect.height/(n.boundingClientRect.width*n.boundingClientRect.height)*100;isNaN(e)&&(r(n.target,t),e=0),a=Math.min(e,100),i=n.boundingClientRect,a!==s&&Qt.execAtEndOfThread(function(){pe.getAggregator().trigger("IOPivChange",a)}),s=a},{threshold:me.VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER});g&&Qt.execAtEndOfThread(function(){a===me.NA&&(a=0)}),e.observe(function(e){if(!le.isUndef(e)){if(c){e=n.document;var t=e.createElement("div");le(t.style).mixin({position:"absolute",width:"100%",opacity:"0",height:"100%",zIndex:-999,top:"0px",left:"0px"});t[me.IAS_DETECTOR]=!0;e.body.appendChild(t);e=t}return o=e}}(n)),g&&Qt.execAtEndOfThread(function(){Fe.isBustedIframe()||pe.getAggregator().trigger("delayedViewabilityReady")}),u=!0}var i,o,a=me.NA,s=a,u=!1,d=!1,c=!1,g=!e,f=pe.getAggregator().request("browser");return{start:function(){var e;try{n.document&&(c=!0,e={bodyElement:n.document.body,document:n.document})}catch(e){d=!0}e&&null!==e.bodyElement?t():e&&e.document?U.whenReady(t,e.document):d?pe.getAggregator().request("errors").add(me.ERROR_CODES.BUSTED_IFRAME_IN_IO):t()},isReady:function(){return a!==me.NA},isStarted:function(){return u},getAdNodeDimensions:function(){var e;return e=i?Gt({scrX:void 0,scrY:void 0,width:i.width,height:i.height}):e},getObservedNode:function(){return o},getPiv:function(){return a}}}function se(n,t,r){function e(){var e=!1,t=n.getAvidAdSessionContext();return!(e=le.isDef(t)?t.isDeferred:e)}var i=["rjss","jss","jload"];return{accepts:function(){var e=le.isDef(le(i).find(function(e,t){return t===r}));return t.accepts()&&t.isMediaType(me.MEDIA_TYPE.DISPLAY)&&e},isImmediate:e,isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){e()||n.addEventListener("ready",function(){pe.getAggregator().trigger("adImpression")})}}}function ue(r){return{accepts:function(){return r.isAvidAvailable()},getAvidAdSessionContext:function(){return r.getAvidAdSessionContext()},isMediaType:function(e){var t,n=r.getAvidAdSessionContext();return e===(t=r.isAvidAvailable()&&le.isDef(n)?n.mediaType||me.MEDIA_TYPE.DISPLAY:t)},supportsAdContainerGeometry:function(){var e=!1,t=r.getAvidAdSessionContext();return le.isDef(t)&&(e=t.avidJsVersion,(t=le.isUndef(e))||(t=le.getNum(e.split(".")[0]),e=le.getNum(e.split(".")[1]),t=2===t?7<=e:3<=t),e=t),e}}}function de(e,t,n){var r=["rjss","jss","jload"];return{accepts:function(){var e=le.isDef(le(r).find(function(e,t){return t===n}));return t.accepts()&&t.isMediaType(me.MEDIA_TYPE.VIDEO)&&e},isImmediate:function(){return!1},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){try{e.addEventListener("video",function(e){"AdImpression"===e.eventSubType&&pe.getAggregator().trigger("adImpression")})}catch(e){}}}}function ce(e,t,n){var r=["rjss","jss","jload"];return{accepts:function(){var e=le.isDef(le(r).find(function(e,t){return t===n}));return t.accepts()&&t.isMediaType(me.MEDIA_TYPE.DISPLAY)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){}}}function xe(e){var t=(t=Qt.getWindow())&&t.omid3p,n=pe.getAggregator().request("omidAdSessionContext"),r=!!(e&&e.isSupported&&e.isSupported()),i=!!(t&&le.isFunction(t.registerSessionObserver)&&le.isFunction(t.addEventListener));return{accepts:function(){return(r||i)&&!ge.videoId},isMediaType:function(e){return e===n.mediaType},supportsAdContainerGeometry:function(){return!0}}}function We(e,t,n){var r=(r=pe.getAggregator().request("omidAdSessionContext")).isHtml&&r.isWeb,i=Qt.getWindow(),o=(i=i&&i.omid3p)&&le.isFunction(i.registerSessionObserver)&&le.isFunction(i.addEventListener)?i:e,a=r?["rjss","jss","jload","jsvid","fwjsvid"]:["rjss","jss","jload"];return{accepts:function(){var e=le.isDef(le(a).find(function(e,t){return t===n}));return t.accepts()&&t.isMediaType(me.MEDIA_TYPE.VIDEO)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){o.addEventListener("start",function(e){pe.getAggregator().trigger("adImpression")})}}}function Ue(e){return{resolve:function(){return le(e).findFirst(function(e,t){return t.environment.accepts()})}}}function Ge(e,t){function n(e){try{t.trigger("videoPlaybackEvent",{eventType:e.eventSubType,eventData:e.eventData})}catch(e){}}return{start:function(){e.addEventListener("video",n)},addVideoPlaybackEventListener:function(e){t.on("videoPlaybackEvent",e)}}}function Be(t,r){function n(e){var t,n;try{t=e.eventData.percentageInView,n={windowDimensions:{x:0,y:0,width:0,height:0},adDimensions:{x:0,y:0,width:0,height:0},containerDimensions:{x:0,y:0,width:0,height:0},shouldDelegateToDomBasedViewability:i&&75<=t,isMeasurable:0===t||75<=t,isObstructed:!1,isHidden:!1,numberOfAdverts:1,percentageInView:t,detectionMethod:"av"},r.trigger("screenLocationChanged",n)}catch(e){}}var i;return{start:function(){try{var e=t.getAvidAdSessionContext().avidAdSessionType;i="display"===e||"video"===e,t.addEventListener("viewability",n)}catch(e){}},addScreenLocationChangedListener:function(e){r.on("screenLocationChanged",e)}}}function He(e,d){function t(){p=!0}function n(e){if(-1!=="|start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish|complete|pause|bufferStart|skipped|playerStateChange|loaded|volumeChange|".indexOf("|"+e.type+"|"))try{var t,n,r,i,o="",a=e.hasOwnProperty("timestamp")?e.timestamp:(new Date).getTime(),s="n",u=!1;switch(e.type){case"start":o="adVideoStart",m.videoStartArrived=!0,pe.getAggregator().trigger("omidrendvideostart"),g=a,1e3<(l=e.data.duration)&&(l/=1e3),f=e.data.videoPlayerVolume;break;case"volumeChange":o="volumeChanged",f=e.data.videoPlayerVolume;break;case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":o="adVideo"+e.type.substring(0,1).toUpperCase()+e.type.substring(1),u=!0,pe.getAggregator().trigger("videoQuartileEvent",e);break;case"pause":case"bufferStart":o="pauseAd";break;case"resume":case"bufferFinish":o="resumeAd";break;case"skipped":o="adSkipped"}""!==o&&((t=pe.getAggregator().request("mScreenEvents"))&&(s=t.getCurrentLoc()),c.push({t:a-g,tp:o,sl:s,ad_duration:l,volume:f})),"loaded"===e.type&&le.isDef(e.data)&&(o=-1!==(n=["preroll","midroll","postroll","standalone"].indexOf(e.data.position))?n+1:void 0,a=[],!0===e.data.autoPlay?a.push("autoplayed"):a.push("clicktoplay"),!0===e.data.skippable&&a.push("skippable"),"fullscreen"===e.data.state&&a.push("fullscreen"),r=a.join("."),!0===p?(le.isDef(o)&&pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.ENVIRONMENT,"vbp",o),pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.ENVIRONMENT,"vps",r)):(le.isDef(o)&&pe.getAggregator().trigger("addOutputItem",{output:o},"vbp",{type:me.IMPRESSION_EVENT}),pe.getAggregator().trigger("addOutputItem",{output:r},"vps",{type:me.IMPRESSION_EVENT}))),"start"===e.type&&pe.getAggregator().trigger("omidAdDuration",{ad_duration:l}),"playerStateChange"===e.type?i="fullscreen"===e.data.state?"AdEnteredFullscreen":"AdExitedFullscreen":-1!=="start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish".indexOf(e.type)?i="AdPlaying":-1!=="complete|pause|bufferStart|skipped".indexOf(e.type)&&(i="AdPaused"),le.isDef(i)&&d.trigger("videoPlaybackEvent",{eventType:i,eventData:null}),u&&pe.getAggregator().trigger("sendDt",me.DT_CODES.VIDEO_EVENTS)}catch(e){__IntegralASDiagnosticCall("omidvideo",e,x.bootstrapper)}}var c=[],g=(new Date).getTime(),f=0,l=0,p=!1,r=new Xt,m=pe.getAggregator().request("omidAdSessionContext"),i=Qt.getWindow(),o=(i=i&&i.omid3p)&&le.isFunction(i.registerSessionObserver)&&le.isFunction(i.addEventListener)?i:e,a={isEmpty:function(){return 0===c.length},toString:function(){for(var e="{vEventCount:"+c.length+",vEvents:[",t=0;t<c.length;t++)var n=c[t],e=e+((0<t?",{":"{")+"t:"+n.t+",tp:"+n.tp+",sl:"+n.sl+",ad_duration:"+n.ad_duration+",volume:"+n.volume)+"}";return e+"]}"}};return{start:function(){pe.getAggregator().on("impressionsent",t),pe.getAggregator().provide({omidVideoEventsString:a}),o.addEventListener("video",n),r.init()},addVideoPlaybackEventListener:function(e){d.on("videoPlaybackEvent",e)}}}function ke(e,n){function t(e){var t=e.percentageInView;r=!0,e.viewState=50<=t?me.IN_VIEW:me.OUT_OF_VIEW,e.outOfViewReason=50<=t?"":me.OUT_OF_VIEW_REASONS.GEOM,n.trigger("measurementChanged",e)}var r=!1;return{start:function(){pe.getAggregator().trigger("addOutputItem",{output:me.MEDIA_TYPE.DISPLAY_CODE},me.MEDIA_TYPE_CODE,{type:me.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(t),e.start()},getStrategyName:function(){return me.MEASUREMENT_STRATEGY.DISPLAY},addMeasurementChangedListener:function(e){n.on("measurementChanged",e)},isMeasurable:function(){return r}}}function je(e,t,n){function r(){return le.isDef(o)}var i=le.isDef(e)?e.environment:void 0,o=le.isDef(e)?e.measurementStrategy:void 0;return le.isDef(t)&&t.start(),{hasMeasurementStrategy:r,getScreenLocationInfo:function(e){return t.create(e)},isImmediate:function(){return!r()||i.isImmediate()},isMeasurable:function(){return!!r()&&o.isMeasurable()},isMediaType:function(e){return!!r()&&i.isMediaType(e)},supportsAdContainerGeometry:function(){return e.environment.supportsAdContainerGeometry()},start:function(){r()&&i.start()},requiresDelayedViewabilityEvent:function(){r()&&t.requiresDelayedViewabilityEvent()}}}function qe(t){return{resolve:function(){var e=le(t).findFirst(function(e,t){return t.environment.accepts()});if(le.isDef(e))return e}}}function Ye(n){function r(e){return e?new Gt({scrX:e.x,scrY:e.y,width:e.width,height:e.height}):Gt({scrX:0,scrY:0,width:0,height:0})}function t(e){i={winDimensions:r(e.windowDimensions),adDimensions:r(e.adDimensions),containerDimensions:r(e.containerDimensions),method:e.detectionMethod||me.NA,viewState:e.viewState||me.NA,percentInView:le.isDef(e.percentageInView)?e.percentageInView:me.PIV_NA,reason:e.outOfViewReason||"",obstructed:le.stringifyTriState(e.isObstructed),isHidden:me.NA,tabHidden:me.NA,posViewState:e.viewState||me.NA,adCompCount:1,shouldDelegateToDomBasedViewability:e.shouldDelegateToDomBasedViewability,sliceStatus:e.sliceStatus,isVideoPlaying:e.isVideoPlaying,isVideoPlayingInFullscreen:e.isVideoPlayingInFullscreen,isSoundOn:e.isSoundOn};var t=e.omidObstructions;le.isDef(t)&&""!==t&&(i.omidObstructions=t),e.isMeasurable&&o&&(o=!1,pe.getAggregator().trigger("delayedViewabilityReady"))}var i,o=!1,a={winDimensions:Gt({scrX:0,scrY:0,width:0,height:0}),adDimensions:Gt({scrX:0,scrY:0,width:0,height:0}),containerDimensions:Gt({scrX:0,scrY:0,width:0,height:0}),method:me.NA,viewState:me.NA,percentInView:me.PIV_NA,reason:"",obstructed:me.NA,isHidden:me.NA,tabHidden:me.NA,posViewState:me.NA,adCompCount:1};return{create:function(e){var t=a;return le.isDef(i)&&(n.environment.supportsAdContainerGeometry()?t=i:i.shouldDelegateToDomBasedViewability?(t=e).method=i.method:(0===i.percentInView||75<=i.percentInView)&&(t=i)),t},start:function(){var e;le.isDef(n)&&le.isDef(n.measurementStrategy)&&((e=n.measurementStrategy).addMeasurementChangedListener(t),e.start())},requiresDelayedViewabilityEvent:function(){o=!0}}}function Ke(e,t,r){function n(){var e,t,n;le.isUndef(s)||(e=[],c?(t=g?(n=!1,100):(n=d,u))<50&&e.push(me.OUT_OF_VIEW_REASONS.GEOM):(n=!1,t=0,e.push(me.OUT_OF_VIEW_REASONS.VIDEO)),f=!0,s.shouldDelegateToDomBasedViewability=n,s.percentageInView=t,s.viewState=t<50?me.OUT_OF_VIEW:me.IN_VIEW,s.outOfViewReason=e.join("."),a=s,r.trigger("measurementChanged",a))}function i(e){u=(s=e).percentageInView,d=e.shouldDelegateToDomBasedViewability,n()}function o(e){"AdEnteredFullscreen"===(e=e.eventType)?g=!0:"AdExitedFullscreen"===e?g=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(e)?c=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped".indexOf(e)&&(c=!1),n()}var a,s,u,d,c=!1,g=!1,f=!1;return{start:function(){pe.getAggregator().trigger("addOutputItem",{output:me.MEDIA_TYPE.VIDEO_CODE},me.MEDIA_TYPE_CODE,{type:me.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(i),e.start(),t.addVideoPlaybackEventListener(o),t.start()},getStrategyName:function(){return me.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){r.on("measurementChanged",e)},isMeasurable:function(){return f}}}function Xe(e,t){return{accepts:function(){return t.isInMobiMraidVideo()},isImmediate:function(){return!1},supportsAdContainerGeometry:function(){return!1},start:function(){try{var t;e.inmobi.IASDocumentVideoBuffer.addVideoEventListener(function(e){"AdVideoStart"!==e.type||t||(t=!0,pe.getAggregator().trigger("adImpression"))})}catch(e){}}}}function ze(e,t){function n(e){try{t.trigger("inMobiMraidVideoPlaybackEvent",{eventType:e.type})}catch(e){}}return{start:function(){try{e.inmobi.IASDocumentVideoBuffer.addVideoEventListener(n)}catch(e){}},addVideoPlaybackEventListener:function(e){t.on("inMobiMraidVideoPlaybackEvent",e)}}}function Je(e,i){function t(e){var t=new Gt(e.eventData.viewport||{width:0,height:0}),n=new Gt(e.eventData.originalAdContainer||{x:0,y:0,width:0,height:0}),r=new Gt(e.eventData.computedAdContainer||{x:0,y:0,width:0,height:0});e={viewport:t.getRoundedGeometry(),originalAdContainer:n.getRoundedGeometry(),computedAdContainer:r.getRoundedGeometry(),percentageInView:e.eventData.percentageInView,detectionMethod:me.DETECTION_METHODS.AVID,outOfViewReason:o(e.eventData.reasons)},i.trigger(me.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)}function o(e){var n={inactive:me.OUT_OF_VIEW_REASONS.FOCUS,viewport:me.OUT_OF_VIEW_REASONS.GEOM,clipped:me.OUT_OF_VIEW_REASONS.GEOM,obstructed:me.OUT_OF_VIEW_REASONS.OBSTRUCTION,backgrounded:me.OUT_OF_VIEW_REASONS.FOCUS,notFound:me.OUT_OF_VIEW_REASONS.HIDDEN},r=[];return e?(le(e).each(function(e,t){t=n[t];t&&r.indexOf(r)<0&&r.push(t)}),r.join(".")):""}return{start:function(){e.addEventListener("viewability",t)},addAdContainerGeometryMeasurementChangedListener:function(e){i.on(me.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)},translateAvidOutOfViewReasons:o}}function Qe(v,I,A){function S(e,t,n){return n=O(t,n),(e=D(e,t,n)).width*e.height}function D(e,t,n){return e=r(t,e),r(n,{x:0,y:0,width:e.width,height:e.height})}function T(e,t){return{x:e.x+t.x,y:e.y+t.y,width:t.width,height:t.height}}function O(e,t){return{x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height}}var r=function(e,t){var n,r=Math.max(e.x,t.x),i=Math.max(e.y,t.y);return{x:r,y:i,width:0<(n=(n=Math.min(e.x+e.width,t.x+t.width))-r)?n:0,height:0<(t=(t=Math.min(e.y+e.height,t.y+t.height))-i)?t:0}};return{calculateGeometricMeasurement:function(e,t){if(le.isDef(e)&&le.isDef(t)){var n=e.viewport,r=e.computedAdContainer,i=r.obstructions,o=e.omidObstructions,a=i&&0<i.length,s=e.originalAdContainer,u=t.adGeometry,d=t.adFound,c=e.detectionMethod,g=0,n={x:0,y:0,width:n.width,height:n.height},f=T(s,u),l=e.outOfViewReason,p=0,m=0,t=a||!1,p=u.width*u.height<=1;if(A&&p&&(l=l||"",(d=!1)||-1!==l.indexOf(me.OUT_OF_VIEW_REASONS.GEOM)||(l=me.OUT_OF_VIEW_REASONS.GEOM+(""!==l?"."+l:""))),d&&0<e.percentageInView){p=S(n,r,f),m=g=a?(g=O(r,f),g=D(n,r,g),g=T(r,g),v.calculateObstructedArea(g,i)):0,g=Math.round((p-m)/(f.width*f.height)*100),a&&0===m&&(t=!1);for(var h,u=new Gt(f).getRoundedGeometry(),d=t,a=0,m=I.getConfig(u).numberOfSlices,E=Qt.floor(u.height/m)||1,i=[],p=d?v.getObstructionStatusBySlice(m):[],a=0;a<m;a++)h=u.y+E*a,a==m-1&&(E=u.y+u.height-h),h=1==S(n,r,h={x:u.x,y:h,width:u.width,height:E})/(h.width*h.height),i.push(h);if(d)for(r=Qt.min(p.length,m),a=0;a<r;a++)i[a]=i[a]&&!p[a];r=i}else r=I.getConfig(u).defaultSliceArray;return s={windowDimensions:n,containerDimensions:s,adDimensions:f,percentageInView:g,viewState:50<=g?me.IN_VIEW:me.OUT_OF_VIEW,outOfViewReason:50<=g?"":l||me.OUT_OF_VIEW_REASONS.GEOM,detectionMethod:c,isObstructed:t,sliceStatus:r},le.isDef(o)&&""!==o&&(s.omidObstructions=o),s}}}}function Ze(){return{accepts:function(){return Fe.isAvidNative()}}}function $e(e,n){function t(e){var t=e.eventData.originalAdContainer,t=new Gt({x:0,y:0,width:(e=!!t)?t.width:0,height:e?t.height:0}).getRoundedGeometry();n.trigger("avidNativeGeometryChanged",{adGeometry:t,adFound:e})}return{start:function(){e.addEventListener("viewability",t)},addAdGeometryMeasurementChangedListener:function(e){n.on("avidNativeGeometryChanged",e)}}}function et(){return{accepts:function(){return Fe.isAvid()&&!Fe.isAvidNative()}}}function tt(e,t,n,r){function i(){var e;le.isDef(s)&&le.isDef(u)&&(e=r.calculateGeometricMeasurement(s,u),d=e.isMeasurable=!0,n.trigger("geometryMeasurementChanged",e))}function o(e){s=e,i()}function a(e){u=e,i()}var s,u,d;return{start:function(){pe.getAggregator().trigger("addOutputItem",{output:me.MEDIA_TYPE.DISPLAY_CODE},me.MEDIA_TYPE_CODE,{type:me.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(o),e.start(),t.addAdGeometryMeasurementChangedListener(a),t.start()},addMeasurementChangedListener:function(e){n.on("geometryMeasurementChanged",e)},getStrategyName:function(){return me.MEASUREMENT_STRATEGY.DISPLAY},isMeasurable:function(){return d}}}function nt(f){var l,p=[];return{calculateObstructedArea:function(e,t){var n=t&&0<t.length;if(n){for(var r=Math.round(e.width),i=Math.round(e.height),o=Array(r),a=0;a<r;a++)o[a]=Array(i);r={matrix:o,obscuredPixelCount:0,x:Math.round(e.x),y:Math.round(e.y),width:r,height:i}}else r={};if(o=r,i=r=0,n){for(;r<t.length;r++){a=i=o;var s=n=t[r];for(o=Math.max(a.x,s.x),n=Math.max(a.y,s.y),c=Math.min(a.x+a.width,s.x+s.width),s=Math.min(a.y+a.height,s.y+s.height),a=c-o,c=s-n,a=(o-=i.x)+(a=0<a?a:0),c=(n-=i.y)+(c=0<c?c:0),o=Math.round(o);o<Math.round(a);o++)for(s=Math.round(n);s<Math.round(c);s++)void 0!==i.matrix[o]&&void 0===i.matrix[o][s]&&(i.matrix[o][s]=1,i.obscuredPixelCount+=1);o=i}if(i=o.obscuredPixelCount,r=o,le.isUndef(r.matrix)||0===r.matrix.length)l=[];else{c=!1,o=r.matrix[n=0].length,a=r.matrix.length,c=f.getConfig({height:o}).numberOfSlices;for(var s=Qt.floor(o/c)||1,u=[],d=0;d<o;d++){for(var c=!1,g=0;g<a;g++)if(1===r.matrix[g][d]){c=!0;break}n++,c&&(d+=s-n,n=s),n!=s&&d!==o-1||(u.push(c),n=0)}l=u}}else l=p;return i},getObstructionStatusBySlice:function(){return l}}}function rt(e,a){function s(e){var n={inactive:me.OUT_OF_VIEW_REASONS.FOCUS,viewport:me.OUT_OF_VIEW_REASONS.GEOM,clipped:me.OUT_OF_VIEW_REASONS.GEOM,obstructed:me.OUT_OF_VIEW_REASONS.OBSTRUCTION,backgrounded:me.OUT_OF_VIEW_REASONS.FOCUS,notFound:me.OUT_OF_VIEW_REASONS.HIDDEN,hidden:me.OUT_OF_VIEW_REASONS.HIDDEN},r=[];return e?(le(e).each(function(e,t){t=n[t];t&&r.indexOf(r)<0&&r.push(t)}),r.join(".")):""}var u=pe.getAggregator().request("omidAdSessionContext"),d=null,c=!1,t=Qt.getWindow(),n=(t=t&&t.omid3p)&&le.isFunction(t.registerSessionObserver)&&le.isFunction(t.addEventListener)?t:e,g=new ar,f=function(){var e=Qt.getDoc().getElementById("iasbi"+ge.asid);e&&e.hasAttribute("CreativeLoaded")?(c=u.delayingViewabilityEvents=!1,d&&(r(d),d=null)):Qt.setTimeout(f,50)},r=function(e){var n,t,r,i,o;e&&"geometryChange"===e.type&&e.data&&e.data.adView&&(i=!!((o=e.data.adView).measuringElement&&o.containerGeometry&&o.onScreenContainerGeometry),u.delayingViewabilityEvents?(d=e,c||(c=!0,f())):(n=[],o.onScreenGeometry&&o.onScreenGeometry.obstructions&&0<o.onScreenGeometry.obstructions.length&&(i&&(o.onScreenContainerGeometry.obstructions=o.onScreenGeometry.obstructions),o.reasons&&-1<o.reasons.indexOf("obstructed")&&o.percentageInView<100&&(o.onScreenGeometry.obstructions=o.onScreenGeometry.obstructions.slice(0,4),le(o.onScreenGeometry.obstructions).each(function(e,t){n.push(Math.round(t.x)+"."+Math.round(t.y)+"."+Math.round(t.width)+"."+Math.round(t.height))}))),t=Fe.isOmidForWeb()?Bt.calcWinDims():{width:0,height:0},t=new Gt(e.data.viewport||t),r=new Gt(i?o.containerGeometry:o.geometry||{x:0,y:0,width:0,height:0}),i=new Gt(i?o.onScreenContainerGeometry:o.onScreenGeometry||{x:0,y:0,width:0,height:0}),o={viewport:t.getRoundedGeometry(),originalAdContainer:r.getRoundedGeometry(),computedAdContainer:i.getRoundedGeometry(),percentageInView:o.percentageInView,detectionMethod:me.DETECTION_METHODS.OMID,outOfViewReason:s(o.reasons),omidObstructions:n.join("_")},void 0===u.geometryArrived&&g.checkForViewAttachmentBasedOnAdSessionType(u,e.data.adView)&&(u.geometryArrived=!0,pe.getAggregator().trigger("omidrendgeoupdate")),a.trigger(me.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,o)))};return{start:function(){void 0!==u.impressionViewabilityMeasurement&&r(u.impressionViewabilityMeasurement),n.addEventListener("geometryChange",r)},addAdContainerGeometryMeasurementChangedListener:function(e){a.on(me.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)},translateOmidOutOfViewReasons:s}}function it(e,o){var a=pe.getAggregator().request("omidAdSessionContext"),s=null,u=!1,t=Qt.getWindow(),n=(t=t&&t.omid3p)&&le.isFunction(t.registerSessionObserver)&&le.isFunction(t.addEventListener)?t:e,d=new ar,c=function(){var e=Qt.getDoc().getElementById("iasbi"+ge.asid);e&&e.hasAttribute("CreativeLoaded")?(u=a.delayingViewabilityEvents=!1,s&&(r(s),s=null)):Qt.setTimeout(c,50)},r=function(e){var t,n,r,i;e&&"geometryChange"===e.type&&e.data&&e.data.adView&&(a.delayingViewabilityEvents?(s=e,u||(u=!0,c())):(i=e.data.adView.geometry,t=e.data.adView.containerGeometry,r=e.data.adView.measuringElement&&!!t,i=new Gt({x:(n=!!i)&&r?i.x-t.x:0,y:n&&r?i.y-t.y:0,width:n?i.width:0,height:n?i.height:0}).getRoundedGeometry(),void 0===a.geometryArrived&&d.checkForViewAttachmentBasedOnAdSessionType(a,e.data.adView)&&(a.geometryArrived=!0,pe.getAggregator().trigger("omidrendgeoupdate")),o.trigger(me.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:i,adFound:n})))};return{start:function(){void 0!==a.impressionViewabilityMeasurement&&r(a.impressionViewabilityMeasurement),n.addEventListener("geometryChange",r)},addAdGeometryMeasurementChangedListener:function(e){o.on(me.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}}function ot(){var e=pe.getAggregator().request("omidAdSessionContext");return{accepts:function(){return e&&!e.isNative}}}function at(i,e,o){function t(){var e,t,n=i.find(),r=!1;le.isDef(n)&&null!==n?(t=!0,e={x:0,y:0,width:(e=n.getBoundingClientRect()).width,height:e.height},n.hasOwnProperty("adWasClipped")&&(e.adWasClipped=!0)):(a&&(r=!0,e={x:0,y:0,width:0,height:0}),t=!1),(n=t)&&(n=e,n=!le.isDef(a)||!1!==le(n).compareTo(a)),(n||r)&&(a=e,o.trigger(me.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:e,adFound:t}))}var a;return{start:function(){t(),e.setInterval(t,50)},addAdGeometryMeasurementChangedListener:function(e){o.on(me.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}}function st(e,t,n,o,a){function r(){var e,t,n,r,i;le.isUndef(d)||le.isUndef(c)||le.isUndef(g)||(f=!0,e=a.calculateGeometricMeasurement(d,c),t=l&&p,n=l&&50<=e.percentageInView,r={windowDimensions:e.windowDimensions,containerDimensions:e.containerDimensions,adDimensions:e.adDimensions,percentageInView:e.percentageInView,detectionMethod:e.detectionMethod,isMeasurable:!0,isObstructed:e.isObstructed,sliceStatus:e.sliceStatus,isVideoPlaying:l,isVideoPlayingInFullscreen:t,isSoundOn:!0},i=e.omidObstructions,le.isDef(i)&&""!==i&&(r.omidObstructions=i),t&&(r.percentageInView=100),t||n?r.viewState=me.IN_VIEW:(r.viewState=me.OUT_OF_VIEW,r.outOfViewReason=e.outOfViewReason||me.OUT_OF_VIEW_REASONS.VIDEO),o.trigger("videoGeometryMeasurementChanged",r))}function i(e){d=e,r()}function s(e){c=e,r()}function u(e){"AdEnteredFullscreen"===(e=(g=e).eventType)?p=!0:"AdExitedFullscreen"===e?p=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(e)?l=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped|AdError".indexOf(e)&&(l=!1),r()}var d,c,g,f,l=!1,p=!1;return{start:function(){pe.getAggregator().trigger("addOutputItem",{output:me.MEDIA_TYPE.VIDEO_CODE},me.MEDIA_TYPE_CODE,{type:me.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(i),e.start(),t.addAdGeometryMeasurementChangedListener(s),t.start(),n.addVideoPlaybackEventListener(u),n.start()},getStrategyName:function(){return me.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){o.on("videoGeometryMeasurementChanged",e)},isMeasurable:function(){return f}}}function ut(i,e,o){function t(){var e,t,n=i.find(),r=!1;le.isDef(n)?(t=!0,e={x:(e=n.getBoundingClientRect()).left,y:e.top,width:e.width,height:e.height},n.hasOwnProperty("adWasClipped")&&(e.adWasClipped=!0)):(a&&(r=!0,e={x:0,y:0,width:0,height:0}),t=!1),(n=t)&&(n=e,n=!le.isDef(a)||!1!==le(n).compareTo(a)),(n||r)&&(a=e,o.trigger(me.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:e,adFound:t}))}var a;return{start:function(){t(),e.setInterval(t,50)},addAdGeometryMeasurementChangedListener:function(e){o.on(me.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}}function dt(t,n,r){return{accepts:function(){var e=le(t.mraid).isObj();return r&&(e||n)},isImmediate:function(){return!0},supportsAdContainerGeometry:function(){return!1},start:function(){}}}function ct(i,o){function t(){try{var e=i.mraid.isViewable()?100:0,t={x:0,y:0,width:0,height:0},n=100==e?[!0]:[!1],r={windowDimensions:t,adDimensions:t,containerDimensions:t,shouldDelegateToDomBasedViewability:!1,isMeasurable:!0,isObstructed:!1,isHidden:!1,percentageInView:e,detectionMethod:me.DETECTION_METHODS.MRAID,sliceStatus:n};o.trigger("mraidScreenLocationChanged",r)}catch(e){}}function n(){var e=i.mraid;s()&&(a=!0,"loading"===e.getState()?e.addEventListener("ready",function(){u()}):u())}function r(){a||n()}var a=!1,s=function(){var e=i.mraid;return le(e).isObj()&&le.isFunction(e.isViewable)},u=function(){var e=i.mraid;t(),e.addEventListener("viewableChange",t)};return{start:function(){var e=!0;(le.isDef(i.mraid)||Bt.containsScriptTagWithSrc("mraid.js"))&&(e=!1),pe.getAggregator().trigger("addOutputItem",{output:le.stringifyTriState(e)},"mi",{type:"impression"}),e?pe.getAggregator().trigger("exec","mraid.js",r):n()},addScreenLocationChangedListener:function(e){o.on("mraidScreenLocationChanged",e)}}}function gt(){var e=new bn({tiv:[1e4]}),n=le([me.IN_VIEW,me.PARTIAL_VIEW_PLUS]);return{timeInViewThresholds:e,type:me.DT_CODES.FULLY_INVIEW,rts:{},isInView:function(e){var t=Qt.max(e.fullPercentInView||0,e.percentInView);return n.contains(e.viewState)&&100===t},applies:function(e,t){return e.on("abcAudit")&&925955==ge.anId&&t.usesIASFullyInViewCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}}function ft(e,t){function n(e,t){return-1!==(me.IN_VIEW+"|"+me.PARTIAL_VIEW_PLUS).indexOf(e[t?"viewStateIgnoringRender":"viewState"])}var r=e.on("everySecond"),i=t.isVideo(),o=[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3],e=[1e3,5e3,15e3,3e4,45e3,6e4,9e4],t=[2e3,5e3,15e3];return o=r?(r=new bn({tiv:o}),o[0]):i?(r=new bn({tiv:t}),t[0]):(r=new bn({tiv:e}),e[0]),(e={5e3:ge._onInViewMRC5,15e3:ge._onInViewMRC15})[o]=ge._onInViewMRC,{timeInViewThresholds:r,type:me.DT_CODES.PING,rts:e,isInView:n,isInViewIgnoringRender:function(e){return n(e,!0)},applies:!0,minUnit:1e3,shouldIncludeSound:!1,sendOtherwiseInViewSignal:!0}}function lt(e,t){return{timeInViewThresholds:new bn({tiv:[0]}),type:me.DT_CODES.FULLY_INVIEW,rts:{0:ge._onInViewFull},isInView:function(e){var t=Qt.max(e.fullPercentInView||0,e.percentInView);return-1!==(me.IN_VIEW+"|"+me.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t},applies:function(){return t.usesGroupMCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}}function pt(s,e){function t(e,t){if(!e.adDimensions)return!1;var n,r,i=t?"percentInViewIgnoringRender":"percentInView",o=e.adDimensions.area(),a=1===e.tabHidden,t=Qt.max(e.fullPercentInView||0,e[i]),i=le(s.thresholds).findFirst(function(e,t){if(n=t.lb||0,r=t.ub||u,n<=o&&o<=r)return!0});return a=!a&&t>=i.piv,e.method==me.DETECTION_METHODS.AD_PLACEHOLDER&&0===s.tiv&&(a=!1),d&&(a=a&&e.isVideoPlaying,c&&(a=a&&e.isSoundOn)),a}var n,u=Qt.getMaxNumber(),d=e.isVideo(),r=s.id,i=s.sound&&"on"===s.sound,c=!(s.soundExcl&&"groupm_native"===s.soundExcl&&ge.groupm_native_publisher)&&i,o=new bn(s);return i=s.qiv,n={},le.isDef(ge.rts)&&le.isDef(ge.rts[r])&&(e=o&&le.isFunction(o.getTimeThresholds)&&o.getTimeThresholds()[0],e=le.isDef(e)?le.isFunction(e.getTimeInViewForRts)&&e.getTimeInViewForRts():me.RTS_KEY_FOR_VQ,n[e]=ge.rts[r]),{timeInViewThresholds:o,qivThreshold:i,type:me.DT_CODES.CUSTOM,rts:n,isInView:t,isInViewIgnoringRender:function(e){return t(e,!0)},metricId:r,minUnit:s.minunit?1e3*s.minunit:1e3,thresholdType:s.thresholdType,shouldIncludeSound:c,sendOtherwiseInViewSignal:!0}}function mt(t,e,n){function r(e,t){var n=le(t.mediaTypes).contains(a),r=le(t.distributionChannels).contains(s),i=!le.isDef(t.deviceGroups)||le(t.deviceGroups).contains(u),o=nn.contains(t.id,"fiv");return(o=nn.contains(t.id,"groupmCM")?d:!o)&&n&&r&&i}var a=e.isVideo()?"video":"display",s=e.isMobileApp()?"app":"web",u=e.isDeviceTypeGroupMobile()?"mobile":"desktop",i=le(t.customViewability).isArray()&&0<t.customViewability.length,o=n.on("customMetric"),d=n.on("groupmCM");return{resolve:function(){var e,n=[];return o&&i&&(e=le(t.customViewability).filter(r),le(e).each(function(e,t){n.push(t)})),n}}}function ht(){function e(e){0<t||void 0!==(e=le.isDef(e.ad_duration)?e.ad_duration:e.adRemainingTime)&&0<e&&(t=Math.ceil(e))}var t=-1;return pe.getAggregator().on({omidAdDuration:e,adVideoStart:e,adDurationChange:e}),{getAdDuration:function(){return t},isVideoDurationResolved:function(){return 0<t}}}function Et(e){var t=0<e?e/1e3:0,n=1e3*t;return{getTimeInViewInSeconds:function(){return t},getTimeInViewForRts:function(){return n}}}function vt(e,t){function n(e){(r=0)<t&&0<e&&(r=Qt.ceil(t/100*e))}var r=0,i=!1;return n(15),{getTimeInViewInSeconds:function(){return!i&&e.isVideoDurationResolved()&&(i=!0,n(e.getAdDuration())),r},getTimeInViewForRts:function(){return 0}}}function It(n,r,i,o,a,s){var u,d,c,t,g,f,l,p,m,e=Bt.getElementsWindow(r);function h(){if(!u)if(u=C.calcDims(r,o,c),ge.autotagSizeSet&&1<ge.adWidth&&1<ge.adHeight&&(u.set("width",ge.adWidth),u.set("height",ge.adHeight)),i===me.DETECTION_METHODS.VIDEO&&Fe.embedded){var e=u,t=new Gt(r).getRounded();try{e.set("width",t.width),e.set("height",t.height)}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.VIDEO_IN_IFRAME_DIMS_CALC)}}else i===me.DETECTION_METHODS.AD_PLACEHOLDER&&u.treatAsPlaceholder();return u}function E(){var e=Fe.xDomainIframe&&V,t=P&&V&&c.isReady();return t=e||t,e=C.getClippedDims&&(i===me.DETECTION_METHODS.VIDEO&&Fe.embedded||Fe.isCeltra()),t?d=c.getPiv():le.isUndef(d)&&(t=!P&&(Fe.friendly||le.isDef(x.mozInnerScreenX))&&a.on("offscreen"),p=h(),l=new Gt(Bt.calcWinDims()),f=new Gt(t?Bt.calcMonDims():{}),m=e?C.getClippedDims():F,d=n.calcPercentInView(p,l,f,m)),d}function v(){return n.calcInitialViewState(E())}function I(){return r!==x&&h().isHidden()}Bt.getElementsDocument(r),pe.getAggregator().provide("iframeCalculatorHelper",function(l){var p,m,h,E=pe.getAggregator().request("features"),v=pe.getAggregator().request("browser");l=l||Qt.getWindow();var I=function(e,t){e=e||l;t=t||{top:0,left:0,width:Qt.getMaxNumber(),height:Qt.getMaxNumber()};for(var n,r=e.parent.frames,i=!1,o=0,a=r.length;o<a;o++)if(r[o]==e){n=r[o];i=!0;break}if(i){n=Bt.getRect(n.frameElement);t.left+=n.left;t.top+=n.top;try{t.width=Qt.min(t.width,n.width),t.height=Qt.min(t.height,n.height)}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.GET_AD_DIMENSIONS)}e!==Qt.getTop()&&I(e.parent,t)}return t},t=function(){var e,t={};try{var n,r,i,o,a,s,u=Qt.getMaxNumber(),d=Qt.getMaxNumber();Fe.friendly?(n=I(),i=n.left,o=n.top,u=n.width,d=n.height,r=Bt.browserWindowPosition(),a=r.scrX+i,s=r.scrY+o):E.on("rattie")&&v.browserIs(me.BROWSERS.IE)?(h=h||pe.getAggregator().request("ieXDomainViewability"),m=h.determineFramePosition(),a=m.scrX,s=m.scrY):le.isDef(l.mozInnerScreenX)&&(a=Qt.round(l.mozInnerScreenX),s=Qt.round(l.mozInnerScreenY));var t={scrX:a,scrY:s,iFrameClippingWidth:u,iFrameClippingHeight:d},c,g,f=p||Bt.getIeDimObj(l);p=f;le.isDef(l.innerWidth)?(c=l.innerWidth,g=l.innerHeight):f&&le.isDef(f.clientWidth)?(c=f.clientWidth,g=f.clientHeight,0===c&&0<f.offsetWidth&&(c=f.offsetWidth),0===g&&0<f.offsetHeight&&(g=f.offsetHeight)):l.frameElement&&le.isDef(l.frameElement.clientWidth)&&(c=l.frameElement.clientWidth,g=l.frameElement.clientHeight);e=c;t.height=g;t.width=e}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.GET_AD_DIMENSIONS)}return t};return{calcDims:function(){return new Gt(t())},getClippedDims:function(){var e=t();return new Gt({scrX:e.scrX,scrY:e.scrY,width:e.iFrameClippingWidth,height:e.iFrameClippingHeight})}}}(e));var A,S,D,T,O,y,w,N,_,R,b,C=(S=r,D=o,R=[zn(),Xn(),Kn()],b=le(R).findFirst(function(e,t){return t.isApplicable(S,D)}),(R=Jn()).isApplicable(D)&&(R.setBaseStrategy(b),b=R),b),M=me.AD_IDENTIFIER+"-"+ge.asid,V=!1,F=Gt({}),P=Fe.isDeviceTypeGroupMobile(),L=Fe.usesGroupMCustomMetricMobilePassThru();return T=Qt.getWindow(),O=Qt.getDoc(),y=r===T,w=O.body,N=pe.getAggregator(),_=new W,e=N.request("browser"),R=N.request("features"),N=N.request("context"),b=!Fe.xDomainIframe,O=y&&w?O.body:r,A=Fe.friendlyIframe?T.frameElement:O,U.addEvent(O,"click",function(){pe.getAggregator().trigger("adComponentClicked")}),U.addEvent(O,"mouseover",function(){pe.getAggregator().trigger("adComponentMousedOver")}),_.applies(e,R,N)?((c=ae(r,b)).start(),V=!0,L&&i!==me.DETECTION_METHODS.AD_PLACEHOLDER&&(T=new Nt(h().getRounded()),_=new bt,_=new Ct(c.getObservedNode(),_),t=new _t(T.getSlices(),_))):L&&(g=new Rt(n)),{mark:function(){Bt.setAttributeOf(A,M,"")},cleanup:function(){Bt.removeAttributeOf(A,M)},isNode:function(e){return r===e},isHidden:I,isObstructed:function(){return!1},getDims:h,getPercentInView:E,getLocationState:v,getOnPageViewability:function(){return I()?me.OUT_OF_VIEW:v()},getDetectionMethod:function(){return i},getContainerDims:function(){return C.allowsOptimization?u:Gt(o)},refresh:function(){var e,t;if((m=p=l=f=d=u=void 0,s)&&(!Fe.isDomless()&&(t=r.parentNode))){for(;r!==x&&t&&t!==fe&&!e;)e=t===o,t=t.parentNode;e||(o=r.parentNode)}},getAdNode:function(){return r},getSliceStatus:function(){var e;return t&&t.isReadyToMeasure()?e=t.getSliceStatus():Fe.friendly&&g&&le.isDef(p)&&(e=g.getSliceStatus(p,l,f,m)),e}}}function At(){var e=pe.getAggregator().request("omidAdSessionContext");return{usePlaceholder:!0,detectionMethod:me.DETECTION_METHODS.OMID,isApplicable:function(){return Fe.isOmidForWeb()&&!Fe.isOmidNative()},find:function(){return e.element||e.queuedOutputItems.push({code:"oea",value:!0}),e.element},getAdContainer:function(){return e.element&&e.element.parentNode},allowForAdContainerChange:!0}}function St(){function r(){return i=i||le(e).findFirst(function(e,t){return nn.contains(t.src,"servedby.flashtalking")})}var i,e=Qt.getDoc().scripts;return{detectionMethod:me.DETECTION_METHODS.BUSTED_IFRAME_FLASHTALKING,isApplicable:function(e,t){return t.on("bustediframe")&&e.embedded&&void 0!==r()},getCssSelector:function(){var e,t,n,t=(n=i||r(),t=n&&n.src?n.src.match(/;(\d+);/)[1]:t);try{e=le(["#ftdiv"+t,"#ftframe"+t]).findFirst(function(e,t){return Bt.crossQuerySelector(t,!0)})}catch(e){}return e}}}function Dt(){var e=pe.getAggregator().request("mobileApp");return{usePlaceholder:!0,detectionMethod:me.DETECTION_METHODS.AD_HUNT,isApplicable:e.isMobileAppEnvironment,find:function(){var e=Bt.findChildWithLargestContent(Qt.getDoc().body);return e&&e.hasValidSizeForMobileApp&&!e[me.IAS_DETECTOR]?e:void 0},getAdContainer:function(){return ge.contextNode.parentNode},allowForAdContainerChange:!0}}function Tt(e,t,i){function n(){var n,r,e,t=(a=a||Bn(Fe,i)).find();Fe.friendlyIframe&&Fe.isBlockingSizmekTag()&&function(e){var t;if(!s&&u.hasMutationObserver()&&Bt.isWindow(e))try{s=Qt.getMutationObserver(g),t=e&&e.frameElement,s.observe(t,{attributes:!0,attributeFilter:["height","width"]})}catch(e){}}(t),!t&&a.usePlaceholder?(c.hasAd()||(e=Bt.getPlaceholderSpan(),d.insertBefore(e,ge.contextNode.nextSibling),c.addAdComponent(e,me.DETECTION_METHODS.AD_PLACEHOLDER,Bt.getParent(e))),Fe.isDeviceTypeGroupMobile()&&u.hasMutationObserver()&&Qt.getMutationObserver(o).observe(d,{childList:!0})):t&&(t=le(t).isArray()?t:[t],n=a.getAdContainer(),r=a.allowForAdContainerChange,le(t).each(function(e,t){c.addAdComponent(t,le.resolve(a.detectionMethod),n,r)}))}function o(e,t){var n=!1;le(e).each(function(e,t){t.addedNodes&&0<t.addedNodes.length&&(n=!0)}),n&&(pe.getAggregator().trigger("nodesAdded"),t.disconnect())}var a,s,u=pe.getAggregator().request("browser"),d=ge&&ge.contextNode&&ge.contextNode.parentNode?ge.contextNode.parentNode:null,c=Un(t,i),g=function(e,t){var n=!1;le(e).each(function(e,t){t.target.height*t.target.width<=1&&(n=!0)}),!n||jn().isApplicable(Fe,i)&&(t.disconnect(),a=Hn(),c.clearCollection(),pe.getAggregator().trigger("nodesAdded"))};return Gn(e),{find:function(){return c.isUsingPlaceholder()||!c.hasAd()?n():c.refresh(),c},getDetectionMethod:function(){}}}function Ot(){function e(){return null}return{find:e,getDetectionMethod:e}}function yt(){function e(e,t){var n,r=tr().process(t.detectionRules);return n=r?r+"_"+t.STRINGIFIED_APPDET:n}var t;return{detect:function(){return t=""===(t=0<(t=le(nr).map(e)).length?t[0]:"")&&ge.hasOwnProperty("serverSideAppDetection")&&0!==ge.serverSideAppDetection.length?"s_serv":t},hasDetectedMobileApp:function(){return void 0!==t&&""!==t}}}function wt(){function e(e,t){var n,r=tr().process(t.detectionRules);return r&&(i.push(t.STRINGIFIED_SDK+"*"+r),n=t),n}var i=[],t=[];return{detect:function(){return 0<(t=le(rr).map(e)).length&&pe.getAggregator().trigger("addOutputItem",{output:function(){return i.join(".")}},"sdk",{type:"impression"}),0<t.length},isSafeToInjectMraid:function(){return 1===t.length&&le.isDef(t[0].safeToInjectMraid)&&t[0].safeToInjectMraid}}}function Nt(i){var o=[];return function(){if(i.height<10)o.push({geometry:new or(0,i.width,0,i.height),percentageInViewContribution:100,isInView:!1});else for(var e,t=(n=Math.floor(i.height))%10,n=(n-t)/10,r=0;r<10;r++)e={geometry:new or(0,i.width,e=e||0,e+(r<t?1+n:n)),percentageInViewContribution:10,isInView:!1},o.push(e),e=e.geometry.value().bottomY}(),{getSlices:function(){return o}}}function _t(t,e){function r(e,t){var n,o,a,s,r=0,t=(t=t,a=[],s=(o=e).geometry.value(),le(t).each(function(e,t){var n,r,i;o.geometry.doesIntersect(t)&&(i=t.value(),n=Math.max(s.leftX,i.leftX),r=Math.min(s.rightX,i.rightX),t=Math.max(s.topY,i.topY),i=Math.min(s.bottomY,i.bottomY),a.push(new or(n,r,t,i)))}),a);return le(t).each(function(e,t){n=t.value(),r+=n.area}),r}var i={mbrd:!1,mbvs:[],mbe:"n",mbv:9,mbs:[],mbm:1,mbivs:[]};return e.addListener(function(n){le(t).each(function(e,t){t.isInView=r(t,n)>=t.geometry.value().area})}),{getPercentInView:function(){var n,e=(n=0,i.mbs=[],le(t).each(function(e,t){i.mbs.push(t.isInView),t.isInView&&(n+=t.percentageInViewContribution)}),n);return i.mbrd=1,e!==i.mbp&&i.mbivs.push([Fe.getTagTime(),e]),i.mbp=e},removePixels:function(){void 0!==e&&e.stop()},getPixelStateForDebug:function(){return i.mbm=1,i.mbpr=[],i.mbir=[],le(t).each(function(e,t){i.mbpr.push(me.NA),i.mbir.push(!1)}),i},isReadyToMeasure:function(){return!0},getSliceStatus:function(){var n=[];return le(t).each(function(e,t){n.push(t.isInView)}),n}}}function Rt(c){var g=ir();return{getSliceStatus:function(e,t,n,r){var i=[],o=e.getRounded();e=o.height;var a=o.scrY,s=new Gt({scrX:o.scrX,width:o.width}),u=g.getConfig(o).numberOfSlices;s.set("height",Qt.floor(e/u));for(var d=0;d<u;d++)s.set("scrY",Qt.ceil(a+e/u*d)),o=100===c.calcPercentInView(s,t,n,r),i.push(o);return i}}}function bt(){return{createInstance:function(e,t){return new IntersectionObserver(e,t)}}}function Ct(a,e){var s,u=[],d=[];return(s=e.createInstance(function(e){var t=e.pop();e=(o=t.boundingClientRect).width;var i,n=t.intersectionRatio,r=(t=t.intersectionRect).left-o.left,o=t.top-o.top,o=new or(r,r+t.width,o,o+t.height);for(d.push(o),i=[],le(d).each(function(e,t){var n=t.value(),r=i,t=n.topY;-1===r.indexOf(t)&&r.push(t),r=i,n=n.bottomY,-1===r.indexOf(n)&&r.push(n)}),o=i=i.sort(function(e,t){return e-t}),d=[],t=0;o.length>t&&o.length!==t+1;t++)d.push(new or(0,e,o[t],o[t+1]));le(u).each(function(e,t){t(d)}),1===n&&(s.unobserve(a),s.disconnect())},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})).observe(a),{addListener:function(e){u.push(e)}}}function Mt(e,t){var n,r,i,o,a,s,u=pe.getAggregator().request("videoTranslator").translate(e.messageType);return a=(a=e).eventData||{},(a=le({}).mixin(a)).ext_passthrough&&delete a.ext_passthrough,i=a,o=s=(a=(a=e).eventData&&a.eventData.ext_passthrough)?le(a).mapToObj(function(e,t){var n={};return n["x_"+e]=t,n}):s,r={t:e.time-ge.birthdate,tp:u,sl:t},le(r).mixin(i),le(r).mixin(o),n=le({indicatesPlaying:function(){return-1!=="showAd|adImpression|adVideoStart|resumeAd".indexOf(u)},indicatesNotPlaying:function(){return-1!=="adVideoComplete|adStopped|stopAd|pauseAd".indexOf(u)},indicatesFullscreen:function(){var e=Qt.getWindow();return!("resizeAd"!==u&&"initAd"!==u||"fullscreen"!==i.viewMode&&i.width!==e.screen.width)},indicatesNormalSize:function(){return"resizeAd"===u&&"normal"===i.viewMode},indicatesQuartile:function(){return-1!=="adVideoFirstQuartile|adVideoMidpoint|adVideoThirdQuartile|adVideoComplete".indexOf(u)},indicatesCompletion:function(){return-1!=="adStopped|adVideoComplete|adSkipped|adError".indexOf(u)},getVolume:function(e){return e.getVolumeFromContext(i)},updateScreenLoc:function(e){r.sl=e,n.sl=e},trigger:function(){"adImpression"===u?pe.getAggregator().persistentTrigger(u,i,o):pe.getAggregator().trigger(u,i,o)},toString:function(){return"{"+le(r).toParams()+"}"}}).mixin(r)}function Vt(o,e,r){function t(e){var t,n,r,i=zt().wrapToGlobal(O);try{n=e[f]||e.getIasVidBridgeVersion,t=le.isFunction(n)&&"2"===n.call(e)?unescape(e[g].call(e,o,i)):unescape(e[g].call(e,o)),m=!0,r=t||"n",le.isStr(r)&&(pe.getAggregator().provide("vc",function(){return r}),pe.getAggregator().trigger("addOutputItem",{output:r},"vc",{type:"impression"}))}catch(e){__IntegralASDiagnosticCall("handshakefailure",e,ge)}}function n(){return u||(le(["*[data-integralas-vid-"+o+"]",".integral-vid-"+o,"ias-ad","object","embed"]).findFirst(function(e,t){t=Qt.getDoc().querySelectorAll(t);return u=le(le(t).toArray()).findFirst(function(e,t){return le.isFunction(t[g])})}),!u&&e.on("novidnodeerr")&&__IntegralASDiagnosticCall("novidnode",{},ge)),u}function i(){var e=n();return e&&!m&&t(e),e}function a(e){e=D.getVolumeFromContext(e),v=!!le.isDef(e)&&0<e}function s(){T.init(),le(l).each(function(e,t){t&&(le.isUndef(t.sl)&&t.updateScreenLoc(r.getCurrentLoc()),t.trigger(),t.indicatesCompletion()&&pe.getAggregator().trigger("adSessionComplete"),t.indicatesQuartile()&&("adVideoComplete"!==t.tp&&pe.getAggregator().trigger("sendDt",me.DT_CODES.VIDEO_EVENTS),pe.getAggregator().trigger("videoQuartileEvent",t)))}),l=[],c=!0}var u,d,c,g="IASid"+o,f="getIasVidBridgeVersion"+o,l=[],p=me.OUT_OF_VIEW,m=!1,h=!1,E=!1,v=!0,I=new dr,A=cr(),S=new ur,D=new fr,T=new Xt,O=function(e){var t;m=!0;var n={};try{n=JSON.parse(unescape(e&&e.data?e.data:e))}catch(e){n={}}return n.id==o&&((t=I.registerEvent(n,r.getCurrentLoc())).indicatesPlaying()?(h=!0,p=!!E&&me.IN_VIEW):t.indicatesNotPlaying()?(h=!1,p=me.OUT_OF_VIEW):t.indicatesFullscreen()?(E=!0,p=h?me.IN_VIEW:me.OUT_OF_VIEW):t.indicatesNormalSize()&&(E=!1,p=!h&&me.OUT_OF_VIEW),0<(e=parseFloat(t.getVolume(D)))?v=!0:0===e&&(v=!1)),l.push(t),c&&s(),t};return U.addEvent(Qt.getWindow(),"message",function(e){O(e)}),pe.getAggregator().on({volumeChanged:a}),pe.getAggregator().provide({videoEventsString:I,videoVersion:function(){var t,e=i();try{t=e.getVersion()}catch(e){t=-1,pe.getAggregator().trigger("error",me.ERROR_CODES.NO_VIDEO_AD_INTERFACE)}return t},videoTranslator:function(){return d=d||new gr},adNode:i}),i(),S.listenForResult(),A.isApplicable(Fe)&&A.start(r),{findAdNode:i,getViewStateOverride:function(){return p},isHandshakeComplete:function(){return m},triggerInitializationEvents:s,setVideoSpecificScreenEventFields:function(e){var t,n=e.viewState===me.NA;e.isVideoPlaying=!0,e.isSoundOn=v,e.isVideoPlayingInFullscreen=!1,p&&(p===me.OUT_OF_VIEW&&((t=e.reason?e.reason.split("."):[])[t.length]=me.OUT_OF_VIEW_REASONS.VIDEO,e.reason=t.join(".")),e.viewState=n?e.viewState:p,e.isVideoPlaying=p===me.IN_VIEW),E&&h&&(e.percentInView=100,e.isVideoPlayingInFullscreen=!0)}}}function Ft(){return new Lt(me.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.TYPE,me.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.COUNT)}function Pt(){return new Lt(me.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.TYPE,me.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.COUNT)}function Lt(e,t){function n(){var n,r={};return o.sort(function(e,t){return e.timestamp-t.timestamp}),le(o).each(function(e,t){n&&(r[t.code]=t.timestamp-n),e===i&&(n=t.timestamp)}),r}var i=0,o=[];return{addPoint:function(e){o.push(e)},toString:function(){return le(n()).toION()},getType:function(){return e},setBaseOrdinal:function(e){i=e},isFinished:function(){return o.length===t}}}function xt(){try{var e,t=ge.perf;t.markEnd("ec");var n=t.getEnd("ec"),r=x.performance&&"function"==typeof x.performance.getEntriesByName&&x.performance.getEntriesByName(ge.impUrl)[0],i=t.getStart("bd"),o=t.getStart(Ie),a=ge.jsDoSplit?Math.round(n-i):Math.round(n-o),s=Math.round(r&&r.duration),u=Math.round(n-(r&&r.responseEnd));le.isNumeric(a)&&le.isNumeric(s)&&le.isNumeric(u)&&(e={ttecl:a,ecd:s,tsecr:u},pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.IM,"imprf",le(e).toION()))}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.IMPRESSION_PERFORMANCE)}}function Wt(e,t){var n,r=/MSIE [1-9][^0-9]/g;return t=t,(n=Bt.createHiddenIframe()).setAttribute("src","about:blank"),n.setAttribute("class","_ntnrjf7826-hj"),(e||ge.contextNode.parentNode).appendChild(n),e=n.contentWindow.document,t=["<head></head><body onload=\"var d = document;var s = d.createElement('script');d.getElementsByTagName('head')[0].appendChild(s).src","='"+(t=navigator&&"string"==typeof navigator.userAgent&&-1!==navigator.userAgent.search(r)?t+"?t="+(new Date).getTime()+"&r="+Math.floor(1e5*Math.random()):t)+"'\">"].join(""),e.open().write(t),e.close(),{getWindow:function(){return n.contentWindow}}}var Ut=function(e,i,c,g,f,o,l,a){function s(t,e,n,r,i,o){n=n||!c.on("postDts");var a=t===me.DT_CODES.DIAGNOSTIC||t===me.DT_CODES.ADTALK||t===me.DT_CODES.SCA||t===me.DT_CODES.XSCA||t===me.DT_CODES.EXTERNAL||t===me.DT_CODES.LARGE_BILLABLE;if(g.impressionIsIdentifiable()&&(a||"n"!==l.getCurrentLoc()))try{var s=ge.dtBaseURL,u=new be(s,!0),d=Qt.now();pe.getAggregator().trigger("preSendDt",t),s||(u.path("dt"),c.on("usedtdomain")&&u.sub("dt")),E(u,t,e),i&&i.field&&u.setParam(i.field,i.value),r||v(u,t),pe.getAggregator().trigger("send",u,function(){m+=1,p=Qt.now()-d,le.isFunction(o)&&o()},n),t===me.DT_CODES.UNLOAD&&(h=!0),f.cleanup()}catch(e){__IntegralASDiagnosticCall("dt-"+t,e),pe.getAggregator().trigger("error",me.ERROR_CODES.PHONE_HOME)}}var p=0,m=0,h=!1;e=function(){h||s(me.DT_CODES.UNLOAD,-1,!0)};function t(e,t){var n={bapi:"a",bapiClient:"b",jload:"c",jss:"d",jsi:"e"},r=ge.mode,n=n[e]||n[r];c.on(t||r+"Diag")&&n&&s(me.DT_CODES.DIAGNOSTIC,-5,!0,!0,{field:"bkp",value:n})}var E=function(e,n,t){var r=new I(n);t=le.isDef(t)?t:r.enumerator,e.setParam("asId",ge.asid),t={c:g.getCacheBustId(),pingTime:t,time:Fe.getTagTime(),type:n},f.filterOutput(function(e){var t=e.minDt&&(!e.type||e.type===n);return t&&e.oneTime&&(e.flagForRemoval=!0),t},t),e.setParam("tv",t)},v=function(n,r){var e,t={};f.filterOutput(function(e){return e.standalone&&!e.minDt&&e.type===r},function(e,t){n.setParam(e,t.replace("%3A",":"))}),l.fastForward(),r!==me.DT_CODES.CUSTOM&&r!==me.DT_CODES.UNLOAD&&r!==me.DT_CODES.VIDEO_EVENTS&&r!==me.DT_CODES.FULLY_INVIEW&&r!==me.DT_CODES.PING&&r!==me.DT_CODES.VIEWABILITY_READY&&r!==me.DT_CODES.ADTALK||(t.clog=a,Fe.isVideo()&&(e=Fe.isOmid()?"omidVideoEventsString":"videoEventsString",(e=pe.getAggregator().request(e))&&!e.isEmpty()&&(t.ve=e))),r===me.DT_CODES.UNLOAD&&(t.ndt=m),-1!==ge.mode.indexOf("jsvid")&&(t.vv=pe.getAggregator().request("videoVersion")),t.NULL1=c.output(),t.NULL2=l.stringify(10),t.em=Fe.embedded,t.fr=Fe.friendly,t.e=i.toString(),t.tt=ge.mode,t.dtt=p,f.filterOutput(function(e){var t=!(e.standalone||e.minDt||e.type&&e.type!==r);return t&&e.oneTime&&(e.flagForRemoval=!0),t},t),n.setParam("tv",t),n.setParam("br",o.getBrowserType())};return pe.getAggregator().on({sendDt:function(e,t,n){s(e,le.resolve(t),void 0,void 0,void 0,n)},sendMinDt:function(e,t){s(e,t,void 0,!0)},sendDiag:t,updateDtCount:function(){m++},unload:e}),{send:s,unload:e,diagnostic:t,setViewabilityMod:function(e){}}},Gt=function(t){function e(){var e=1===t.nodeType?Bt.nodeIsHidden(t):0===t.width||0===t.height;return!s&&e}function n(){var n={};return le(a).each(function(e,t){n[e]=Qt.round(t)}),n}function r(e){return le.isNumeric(e)||le.isUndef(e)}function i(){return Qt.round(a.width)*Qt.round(a.height)}var o,a={},s=!1;return t!==x.parent&&(1!==t.nodeType?a=t:le.isDef(t.getBoundingClientRect)&&(o=Bt.getRect(t),le(a).mixin({x:le.useIfDef(o.x)||o.scrX,y:le.useIfDef(o.y)||o.scrY,scrX:o.scrX,scrY:o.scrY,width:o.width,height:o.height}))),{hasValidDims:function(){return r(a.scrX)&&r(a.scrY)&&le.isNumeric(a.width)&&le.isNumeric(a.height)},toString:function(){var e=n();return[e.scrX,e.scrY,e.width,e.height].join(".")},getRounded:n,getRoundedGeometry:function(){var n={};return le(a).each(function(e,t){n[e]="x"===e||"y"===e||"width"===e||"height"===e?Qt.round(t):t}),n},set:function(e,t){a[e]=t},isHidden:e,treatAsPlaceholder:function(){s=!0},area:i,isMrcLarge:function(){return i()>=me.MRC_LARGE_AD_SIZE},isOneByOne:function(){return e()&&i()<=1}}},Bt={findElementsWithSize:function(e){function n(e){Bt.getNodeArea(e)<1?le(e.children).each(function(e,t){n(t)}):t.push(e)}var t=[];return n(e),t},nodeIsHidden:function(e){var t=this.getRect(e),n=0!==parseInt(U.getStyle(e,"width"))&&0===t.width,t=0===t.width||0===t.height;return e="hidden"===U.getStyle(e,"visibility"),n||t||e},calcWinDims:function(){var t,e,n;try{e=Bt.browserWindowPosition(),n=Bt.windowSize(),t={scrX:Qt.round(e.scrX),scrY:Qt.round(e.scrY),width:Qt.round(n.width),height:Qt.round(n.height)}}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.GET_WIN_DIMENSIONS),t={}}return t},windowSize:function(){var e,t,n={};if(Fe.isDomless())return{width:0,height:0};if(Fe.friendly)if(t=(e=top.document).documentElement,e=e.body,le.isDef(top.innerWidth))n.width=top.innerWidth,n.height=top.innerHeight;else if(le.isDef(t.clientWidth))n.width=t.clientWidth,n.height=t.clientHeight;else{if(!le.isDef(e.clientWidth))throw n.width=n.height=0,"";n.width=e.clientWidth,n.height=e.clientHeight}else le.isDef(x.outerWidth)&&(n.width=x.outerWidth,n.height=x.outerHeight);return n},browserWindowPosition:function(){var e=0,t=0;return le.isDef(x.screenX)?(e=x.screenX,t=x.screenY):le.isDef(x.screenLeft)&&(e=x.screenLeft,t=x.screenTop),pe.getAggregator().request("browser").browserIs(me.BROWSERS.GECKO)&&-8==e&&-8==t&&(e+=8,t+=8),{scrX:e,scrY:t}},getNodeArea:function(e){var t=-1;return t=e?(e=Bt.getRect(e)).width*e.height:t},getRect:function(e){var t={},n=Bt.browserWindowPosition();return e=e.getBoundingClientRect(),le.isUndef(e.x)&&(t.x=e.left,t.y=e.top),le.isUndef(e.width)&&(t.width=e.right-e.left,t.height=e.bottom-e.top),le(t).mixin(e,!0),t.scrX=n.scrX+t.x,t.scrY=n.scrY+t.y,t},getIeDimObj:function(e){return(e=e.document).documentElement&&le.isDef(e.documentElement.clientWidth)&&e.documentElement||e.body},getPlaceholderSpan:function(){var e=fe.createElement("span");return le(e.style).mixin({width:"0px",height:"0px",display:"block",overflow:"hidden",visibiility:"hidden"}),e.innerHTML=".",e},createImage:function(){var e=Fe.friendly&&Qt.getTop().Image;return new(le.isFunction(e)?e:Image)},createHiddenIframe:function(e){var t=Qt.getDoc().createElement("iframe");return U.styleElement(t,e?{display:"none"}:{width:"0px",height:"0px",border:"0",position:"absolute",top:"-10000px",left:"-10000px"}),t},tagNameIs:function(e,t){return e.tagName.toUpperCase()===t.toUpperCase()},getClippedDimensions:function(e,t){var n,r=1e4,i=1e4,o=U.nodeIsAbsolutelyPositioned(e),a=!Bt.tagNameIs(e,"OBJECT");if(null!==e.parentNode&&!o&&a&&!Bt.tagNameIs(t,"BODY"))for(a=e;a=a.parentNode,o=!Bt.tagNameIs(a,"OBJECT"),n="inline"!==U.getStyle(a,"display"),o&&n&&(r=(o=Bt.getRect(a)).width<r?o.width:r,i=o.height<i?o.height:i),a.parentNode!==fe&&a!==t;);return{width:Qt.round(r),height:Qt.round(i)}},hasBackgroundImage:function(e){return""!==(e=U.getStyle(e,"background-image"))&&"none"!==e},isEmptyTeadsFrame:function(e){try{var t,n,r=!1;return e&&e.document&&(n=e&&"IFRAME"===e.nodeName&&e.contentDocument,e.parentElement&&"teads-player"===e.parentElement.classList.item(0)&&n&&((t=n.body)&&t.childElementCount<1)&&(r=!0)),r}catch(e){return!1}},findChildWithLargestContent:function(c,u){var i=pe.getAggregator().request("mobileApp").isMobileAppEnvironment(),g=(e=pe.getAggregator().request("omidAdSessionContext"))&&e.hasOwnProperty("ignoreDivAsCandidate"),f=this.hasBackgroundImage,e=function(e){for(var t,n,r=e;e.parentNode!==c&&"inline"!==U.getStyle(e.parentNode,"display");)(t=!i)||(t=e.parentNode,n=!0,t=(n="visible"===U.getStyle(t,"overflow")||"visible"===U.getStyle(t,"overflowX")&&"visible"===U.getStyle(t,"overflowY")?!1:n)&&0<Bt.getNodeArea(e.parentNode)),!t||i&&g&&"DIV"===e.parentNode.nodeName||(r=e.parentNode),e=e.parentNode;return r},t=null,n=function(e){var t,n,r=null,i=-1;if(e.length)for(t=0,n=e.length;t<n;t++){var o=e[t],a=Bt.getNodeArea(o),s=o,u=void 0;if((u=s.parentNode===c)&&(u=void 0,(u="DIV"===s.nodeName)&&(u=void 0,(u=!f(s))&&(u=void 0,!(u="0"===U.getStyle(s,"opacity")||"hidden"===U.getStyle(s,"visibility")))))){for(var d=u=void 0,s=s.childNodes,u=0;u<s.length;u++)1===s[u].nodeType&&(d=!0);u=!d}(s=!u)&&g&&"DIV"===o.nodeName&&(s=!1),u=Bt.isEmptyTeadsFrame(o),i<a&&s&&!u&&(r=o,i=a)}return r&&(r.hasValidSizeForMobileApp=1<i),r}(function(e){for(var t,n=[],r=u||"iframe img a object embed div".split(" "),i=0,o=r.length;i<o;i++){var a=r[i].toLowerCase(),s=e.getElementsByTagName&&e.getElementsByTagName(a);if(s&&s.length)for(a=0,t=s.length;a<t;a++)n.push(s[a])}return n}(c));return n&&((t=e(n)).hasValidSizeForMobileApp=n.hasValidSizeForMobileApp),t},screenSize:function(){if(Fe.isDomless())return{width:0,height:0};var e={width:-1,height:-1};try{le.isDef(x.screen)&&(e={width:x.screen.width,height:x.screen.height})}catch(e){}return e},calcMonDims:function(){var e=le(Bt.screenSize()).mixin({scrX:0,scrY:0});return e=le.isDef(screen.availLeft)?{scrX:x.screen.availLeft,scrY:x.screen.availTop,width:x.screen.availWidth,height:x.screen.availHeight}:e},getOurIFrameInTop:function(){for(var e,t=Qt.getTop(),n=Qt.getWindow();n!=t;)n=(e=n).parent;return e},getOurNodeInTop:function(){var e;return e=Fe.friendly?Fe.embedded?(e=Bt.getOurIFrameInTop())&&e.frameElement:ge.contextNode:e},getAncestorNodes:function(e){var t=[],n=e.ownerDocument&&e.ownerDocument.documentElement;if(n)for(;e.parentNode!==n;)t.push(e),e=e.parentNode;return t},getTagsNamed:function(e,t){var n,t=t||Qt.getDoc();try{n=t.getElementsByTagName(e)}catch(e){n=null}return n},containsScriptTagWithSrc:function(n){return!!le(Bt.getTagsNamed("script")).findFirst(function(e,t){t=t.src;return le.isFunction(n)?n(t):t===n})},contains:function(e,t){var n=!1;try{n=le.isDef(e)&&le.isFunction(e.contains)&&e.contains(t)}catch(e){}return n},querySelector:function(e,t){var n;try{n=e.querySelector(t)}catch(e){n=null}return n},nodeIsInWindow:function(e,t){return e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow)===t},setAttributeOf:function(e,t,n){e&&le.isFunction(e.setAttribute)&&e.setAttribute(t,n)},removeAttributeOf:function(e,t){e&&le.isFunction(e.removeAttribute)&&e.removeAttribute(t)},crossQuerySelector:function(n,e){var r,i,t=[ge.contextNode.parentNode,Qt.getDoc()];if(Fe.friendly&&t.push(Qt.getTop().document),e&&Fe.embedded)try{t.push(Qt.getWindow().frameElement.ownerDocument)}catch(e){}return le(t).each(function(e,t){try{i=Bt.querySelector(t,n)}catch(e){}!r&&i&&(r=i)}),r},getNodeName:function(e){return e&&e.nodeName},isWindow:function(e){var t=!1;try{t=e&&"object"==typeof e&&"setInterval"in e}catch(e){t=!0}return!!t},getChildWindowsOf:function(e){var t=[];return t=(e=Bt.getTagsNamed("iframe",e))?le(e).map(function(e,t){return t.contentWindow}):t},getFrameId:function(){var e=Qt.getWindow().frameElement;return e&&e.id},isViewportVisible:function(e,t){var n=e.innerWidth,r=e.innerHeight,e=n>t.width&&r>t.height;return n*r>t.width*t.height&&e},getTagName:function(e){return e.tagName.toLowerCase()},getAttribute:function(e,t){return e.getAttribute(t)},attributeMatches:function(e,t,n){return e=e&&Bt.getAttribute(e,t),n.test(e)},isImageTag:function(e){return e&&e.src&&Bt.tagNameIs(e,"img")},getDimensionFromStyle:function(e){var t,n=U.getStyle(e,"width");return e=U.getStyle(e,"height"),t=n&&e?{width:le.getNum(n),height:le.getNum(e)}:t},getDimensionFromAttributes:function(e){var t,n=Bt.getAttribute(e,"width");return e=Bt.getAttribute(e,"height"),t=n&&e?{width:le.getNum(n),height:le.getNum(e)}:t},traverseAndFindFirstMatchingNode:function e(t,n){var r,i,o;if(n(t))i=t;else if(o=t.children)for(r=0;r<o.length&&!(i=e(o[r],n));r++);return i},getFirstChildElement:function(e){return e&&e.children&&e.children[0]},isClippable:function(e,t){var n=!0,e="fixed"===U.getStyle(e,"position"),t="hidden"!==U.getStyle(t,"overflow")&&!e;return n=Fe.isSpecifiedAd()&&(e||t)?!1:n},isNodeCreative:function(e){var t=Bt.getNodeName(e),n=e&&e.innerText&&0<e.innerText.length,n=e&&e.children&&0===e.children.length&&n,r=t&&-1!==me.RENDER.CREATIVE_NODE_TYPES.indexOf(t.toUpperCase());return!!t&&!!(r||Bt.hasBackgroundImage(e)||n)},getElementsDocument:function(e){return e.ownerDocument||e},getElementsWindow:function(e){var t=Bt.getElementsDocument(e);return t.defaultView||t.parentWindow||e},elementIsEmbedded:function(e){return Bt.getElementsWindow(e)!==Qt.getTop()},getParent:function(e){return e.parentNode||e.parent},isNodeXDomainIframe:function(e){var t=!1;if(e&&"IFRAME"===Bt.getNodeName(e))try{t=!e.contentWindow.document}catch(e){t=!0}return t},isElement:function(e){return 1===e.nodeType}},Ht=function(o,a){return{parse:function(e){try{var t,n=function(e){var t=[];if(!(e&&e instanceof Array))throw Error("Unexpected data type in ExchangeParser.getUrlList");return(t=le(e).map(function(e,t){return t.val})).push(ge.adsafeSrc,ge.requrl,ge.reqquery),t}(e),r=n&&n.length&&n.join("|"),i=ge.exchList;r&&((t=le(i).map(function(e,t){return 0<=r.indexOf(nn.rot(t))?e:void 0})).length&&a.addItem({output:t.join(".")},"ex",{type:me.IMPRESSION_EVENT}))}catch(e){o.add(me.ERROR_CODES.EXCHANGE_PARSING)}}}},kt=function(){return{parse:function(e){}}},jt=function(){function n(e){var t;return le.isUndef(i[e])&&(t=ge.jsFeatures,i[e]=!1,-1!==t.indexOf(e)&&(t=RegExp(e+"(?=$|,)|"+e+":(?!,|$)(.?\\d*(?=,|$))").exec(t)))&&(t=t[1],i[e]=!t||t>100*Qt.random()),i[e]}function r(e){var t=ge[e];return le(["integration"]).contains(e)?!!t:!0===t||"true"===t||le.isFunction(t)}var i={},o={es:"everySecond",sc:"usesca",ha:"usehaps"},a={fif:"useFIF",gmnp:"groupm_native_publisher",for:"forceAppend",b11:"b11",cnod:"cnod"};return le(o).each(function(e,t){n(t)}),{on:n,bootstrapOn:r,bootstrapperHas:function(e){return e=le.isStr(e)?[e]:e,le(e).map(function(e,t){if(le.isDef(ge[t]))return 1}).length===e.length},getEnabledScriptUrl:function(e){var t=n("use"+e);return e=ge.sp_cdnScripts&&ge.sp_cdnScripts[e],t&&e},setReportedBootstrapFeatures:function(e,t){a[e]=t},reportedBootstrapFeatures:a,output:function(){return le((e=le(o).mapToObj(function(e,t){var n={};return n[e]=le.fromBoolToNum(i[t]),n}),(t=le(a).mapToObj(function(e,t){var n={};return n[e]=le.fromBoolToNum(r(t)),n})).gm=le.fromBoolToNum(Fe.usesGroupMCustomMetric()),le(e).mixin(t))).toParams();var e,t}}},qt=function(){return{calcInitialViewState:function(e,t){var n={IN_VIEW:65,OUT_OF_VIEW:25,PARTIAL_VIEW:30},r=me.NA;return n=t?n:{IN_VIEW:75,OUT_OF_VIEW:25,PARTIAL_VIEW:50},r=le.isDef(e)&&e!==me.NA&&-1<e?e>=n.IN_VIEW?me.IN_VIEW:e<=n.OUT_OF_VIEW?me.OUT_OF_VIEW:e>=n.PARTIAL_VIEW?me.PARTIAL_VIEW_PLUS:me.PARTIAL_VIEW_MINUS:r},calcPercentInView:function(e,t,n,r){var i=0,a=e;return e.hasValidDims()&&!e.isHidden()&&(le([t,n,r]).each(function(e,t){var n,r,i,o;t.hasValidDims()&&(o=a.getRounded(),n=t.getRounded(),r=Math.max(o.scrX,n.scrX),i=Math.max(o.scrY,n.scrY),t=Math.min(o.scrX+o.width,n.scrX+n.width),o=Math.min(o.scrY+o.height,n.scrY+n.height),a=Gt({scrX:r,scrY:i,width:0<(t=t-r)?t:0,height:0<(o=o-i)?o:0}))}),i=Qt.round(a.area()/e.area()*100)),i}}},Yt=function(){var t,e,n=!1;e=function(){var e="";try{for(var t,n=x.Uint32Array&&x.crypto&&x.crypto.getRandomValues;e.length<32;)n?(t=new Uint32Array(1),x.crypto.getRandomValues(t),e+=t[0].toString(16)):e+=(16*Qt.random()|0).toString(16);e=e.slice(0,32)}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.UID_GENERATION)}return e}(),(i=[]).push(e.slice(0,8)),i.push(e.slice(8,12)),i.push(e.slice(12,16)),i.push(e.slice(16,20)),i.push(e.slice(20));function r(){return ge.anId}var i=i.join("-");return{getAsid:function(){return ge.asid},getAnId:r,getCacheBustId:function(){var e=new Date,t=Date.parse("Jan 1 "+e.getFullYear()),e=e.getTime()-t;return le.toBase(e,62)},getFwId:function(){return r()||ge.advEntityId+"-"+ge.pubEntityId},impressionIsIdentifiable:function(e){return n=e?!0:n},unq:i,getAvidIds:function(){return t},setAvidAdSessionContext:function(e){t=e}}},Kt=function(){return{createPingJobs:function(n,e,r,i,o){return le(e.getTimeThresholds()).map(function(e,t){return new K(t,n,r,i,o)})}}},Xt=function(){function t(e){return{type:e.tp||e.type||"",time:e.t||e.timestamp&&e.timestamp-ge.birthdate||""}}function a(){(e=e||pe.getAggregator().request("viewabilityDefinitions"))&&0==s.length&&le(e).each(function(e,t){t.qivThreshold&&s.push(t)})}var e,s=[];return{init:function(){a(),pe.getAggregator().on("videoQuartileEvent",function(e){var n,r,i,o;a(),n=new t(e=e),r=(e=["_","firstQuartile","midpoint","thirdQuartile","complete"]).indexOf(le(e).findFirst(function(e,t){return-1!==n.type.toLowerCase().indexOf(t.toLowerCase())})),i=pe.getAggregator().request("mScreenEvents").getCurrentEvent(),o=Math.floor(n.time/1e3),le(s).each(function(e,t){var n=!1;-1!==(n=t.qivThreshold.indexOf(r))&&t.isInView(i)&&0<t.qivThreshold.length&&(t.qivThreshold.splice(n,1),n=0==t.qivThreshold.length)&&(pe.getAggregator().trigger("addOutputItem",{output:t.metricId},"metricId",{type:me.DT_CODES.CUSTOM}),pe.getAggregator().trigger("addOutputItem",{output:"q"},"cmr",{type:me.DT_CODES.CUSTOM}),pe.getAggregator().trigger("sendDt",me.DT_CODES.CUSTOM,o),t.rtsCallbacks&&le.isFunction(t.rtsCallbacks[me.RTS_KEY_FOR_VQ])&&t.rtsCallbacks[me.RTS_KEY_FOR_VQ]())})})}}},zt=function(){function u(){var e=ge.asid;return"__IntegralAS_"+(e&&e.replace(/\-/g,"")||"")+"_"+Qt.round(1e4*Math.random())}return{wrap:function(e,t,n,r){var i,o,a,s=u();return r=r||"ias_callback",e=""+e,RegExp(r).test(e)&&(a=(o=RegExp("("+r+"=)(.[^&]*)").exec(e)[0]).split("=")[1],i=nn.stringToFn(a),a=o,-1!==(o=e).indexOf(a+"&")&&(a+="&"),e=o.replace(a,"")),x[s]=function(e){t(e),n&&i&&i(e),x[s]=void 0},o=r,a=s,e=(r=e).indexOf("?"),o=o+"="+a,-1===e?r+"?"+o:r.slice(0,++e)+o+"&"+r.slice(e)},wrapToGlobal:function(t){var n=u();return x[n]=function(e){t(e),x[n]=void 0},n}}},Jt=function(i,o,s){function a(e,t){var n=e;return t&&(t=","+le(t).stringify(function(e,t){return e+":"+t},","),(n=be(e,!0)).appendToParamValue("adsafe_jsinfo",le.encodeInvalidUrlChars(t,ge.encodeInvalidUrlChars)),n=n.toString()),n}var u={jss:{isFW:!0,nodeType:"script"},rjss:{isFW:!0,onloadCallback:xt,nodeType:"script"},jsi:{isFW:!0,nodeType:"iframe"},rjsi:{isFW:!0,nodeType:"iframe"},jload:{impressionMethod:function(e){i.enabled?pe.getAggregator().trigger("jsonp",e,i.callback,!0):pe.getAggregator().trigger("send",e,function(){xt(),pe.getAggregator().trigger("sendDiag")},!o.on("postMon"))}},bapi:{impressionMethod:function(e){var t=i.enabled?i.callback:le.noop,n=!!i.enabled;pe.getAggregator().trigger("jsonp",e,t,n)}},jsapi:{isFW:!0,impressionMethod:function(e){var t=i.enabled?i.callback:le.noop,n=!!i.enabled;pe.getAggregator().trigger("jsonp",e,t,n)}},jsvid:{manualDefer:!0,impressionMethod:function(r){pe.getAggregator().on("adImpression",function(e,t){var n;try{n=a(r,t),i.enabled?pe.getAggregator().trigger("jsonp",n,i.callback,!0):pe.getAggregator().trigger("send",n,le.noop,!o.on("postMon"))}catch(e){__IntegralASDiagnosticCall("jsvidimp",e,ge)}})}},fwjsvid:{isFW:!0,manualDefer:!0,impressionMethod:function(i){var e,o="false"===ge.fwMonitoring;o&&pe.getAggregator().trigger("jsonp",((e=(e=i).split("/"))[3]="db2",e[4]="video",e.join("/")),function(e){pe.getAggregator().trigger("videoBlockResult",e)}),pe.getAggregator().on("adImpression",function(e,t){var n,r;try{(r=(r=o)?e&&le.isBool(e.integral_didBlock)&&0<=e.integral_timeToDecision:r)&&(i=i.replace(/(adsafe_jsinfo=)([^&]*)/,"$1$2,abc:"+(e.integral_didBlock?1:0)+",abct:"+e.integral_timeToDecision)),n=a(i,t),pe.getAggregator().trigger("send",n,le.noop,!0)}catch(e){__IntegralASDiagnosticCall("fwjsvidimp",e,ge)}})}},jspix:{nodeType:"img"}};return new function(){var e,t,n=function(e){var t=-1===e.indexOf("?")?"?":"&";return e+t},r=u[ge.mode],i=!!r.isFW,o=(e=i,t=pe.getAggregator().request("mobileApp").isMobileAppEnvironment()&&ge.mobFwUrl?ge.mobFwUrl:e?ge.adsafeSrc:ge.requrl,e||(t+="?"+ge.reqquery),t),a=o.indexOf("BEGIN__ADSAFE"),e=-1!==a,t=e?o.slice(a):"";return{isFW:i,baseUrl:n=e?o.slice(0,a):n(o),macroUrl:t,sendImpression:function(e){function t(){r.nodeType?pe.getAggregator().trigger("addNode",r.nodeType,e,r.onloadCallback):r.impressionMethod(e)}s||r.manualDefer?t():r.manualDefer||pe.getAggregator().on("adImpression",function(){t()})}}}},Qt={execAtEndOfThread:function(e){Qt.setTimeout(e,0)},now:function(){return(new Date).getTime()},random:function(){return Math.random()},round:function(e){return Math.round(e)},ceil:function(e){return Math.ceil(e)},floor:function(e){return Math.floor(e)},min:function(){return Math.min.apply(null,arguments)},max:function(){return Math.max.apply(null,arguments)},getWindow:function(){return x},getTimeoutScope:function(){return Fe.isDomless()&&Fe.isOmid()?pe.getAggregator().request("omidVerificationClient"):x},setInterval:function(e,t){return Qt.getTimeoutScope().setInterval(e,t)},setTimeout:function(e,t){return Qt.getTimeoutScope().setTimeout(e,t)},clearInterval:function(e){Qt.getTimeoutScope().clearInterval(e)},clearTimeout:function(e){Qt.getTimeoutScope().clearTimeout(e)},getMaxNumber:function(){return Number.MAX_VALUE},getTop:function(){return Fe.isDomless(),top},getDoc:function(){return Fe.isDomless(),fe},getIntersectionObserver:function(e,t){return Fe.isDomless(),new IntersectionObserver(e,t)},getMutationObserver:function(e){return Fe.isDomless(),new MutationObserver(e)},getResizeObserver:function(e){return Fe.isDomless(),new ResizeObserver(e)},pow:function(e,t){return Math.pow(e,t)}},Zt=function(){return{createInstance:function(){return new(Fe.isDomless()?z:X)}}},$t=function(){return{createInstance:function(e,t){return Fe.isDomless()?new Q:new J(e,t)}}},en=function(t){var n=!1;return{measure:function(e){(n=0===e.rsa)&&t.trigger("notify",ge._onSuspicious)},skipAsFraudulent:function(){return n}}},tn=function(){function e(e,t){return t=new r(t),f[e]=t}function u(e,t){return(t||"")+{inView:"i",outOfView:"o",na:"n",partialViewMinus:"pm",partialViewPlus:"pp"}[e]}function t(e){var n,r,t=e.adDimensions?e.adDimensions.getRounded():{width:0,height:0};r={},i=(n=e).winDimensions,a=n.adDimensions,le.isDef(i)&&i.hasValidDims()&&(r.wc=i),le.isDef(a)&&a.hasValidDims()&&(r.ac=a,r.am=n.method,r.cc=n.containerDimensions),le({piv:"percentInView",obst:"obstructed",th:"tabHidden",reas:"reason"}).each(function(e,t){t=n[t];le.isDef(t)&&(r[e]=t)});var i,o=""===(i=le(r).toParams())?"":","+i,a=e.omidObstructions,s={sl:u(e.viewState)};return c=Fe.getTagTime(),i=s,g.length&&m(),le(i).each(function(e,t){var n=l[e];n!==t&&"n"===n&&(p[t]+=p.n),l[e]=t}),g.length||m(),s.t=c,o=le({toString:function(){return le(f).each(function(e,t){t.fastForward()}),"{"+le(s).toParams()+this.details+this.breakdowns+"}"},details:o,breakdowns:{piv:[],as:[],toString:function(){function e(e,t){return t.duration+"~"+t.state}var t="piv:["+le(this.piv).stringify(e)+"]";return",bkn:{"+(t+=",as:["+le(this.as).stringify(e)+"]")+"}"}}}).mixin(s),le(o).mixin(e),o.width=t.width,o.height=t.height,le.isUndef(o.percentInView)&&(o.percentInView=me.PIV_NA),le.isUndef(o.reason)&&(o.reason=""),le.isDef(a)&&""!==a&&(o.omidObstructions=a),d=o}var i,d,c,g=[],f={},l={sl:"n"},n=0,p={i:0,o:0,n:0,pp:0,pm:0},m=function(){le(l).each(function(e,t){p[t]+=g.length?c-n:c}),n=c};return e("piv",function(e){var n,r=e.percentInView,i=[1,25,30,50,75];return 100===r||0===r?n=r:(le(i).each(function(e,t){le.isUndef(n)&&r<t&&(n=i[e-1])}),le.isUndef(n)&&(n=i[i.length-1])),n}),e("as",function(e){var t=me.NA;return(e=e.adDimensions?e.adDimensions.getRounded():{width:t,height:t}).width+"."+e.height}),{fastForward:function(){c=Fe.getTagTime(),m()},registerLocation:function(e){var n,r=!1;return l.sl==u(e.viewState)&&g.length?(n=new t(e),g[g.length-1].details=n.details):(n=new t(e),g.push(n),i=e.viewState,r=!0),pe.getAggregator().trigger("newScreenEvent",n),le(f).each(function(e,t){-1!=="piv|as".indexOf(e)?(r&&t.clear(),t.addState(n),g[g.length-1].breakdowns[e]=t.get()):t.addState(n)}),n},stringify:function(e){var t="";return t=g.length?le({slTimes:"{"+le(p).toParams()+"}",slEvents:"["+g.slice(-e).join(",")+"]",slEventCount:g.length}).toParams():t},createViewabilityTracker:e,getCurrentLoc:function(){return u(i)},getCurrentEvent:function(){return d}}},nn={hashCode:function(e){var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},rot:function(e){return e.replace(/[a-zA-Z]/g,function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)})},stringToFn:function(e){var t,n=x,r=e.split(".");for(e=0;e<r.length;e++)if(n=(t=n)[r[e]],le.isUndef(n)||e===r.length-1&&!le.isFunction(n))return!1;return function(){n.apply(t,arguments)}},stringToProp:function(e){var t=Qt.getWindow(),n=e.split(".");for(e=0;e<n.length&&(t=t[n[e]],!le.isUndef(t));e++);return t},contains:function(e,t){return!!le.isStr(e)&&-1!==e.indexOf(t)},trim:function(e){return le.isFunction(e.trim)?e.trim():e.replace(" ","")}},rn={name:"viewport",dependencies:[],creator:function(){function e(){var e=Qt.getWindow();return i(e,Qt.getWindow().top)}function n(){return void 0!==e()}var r={width:4,height:4},i=function(e,t){return e===t||Bt.isViewportVisible(e,r)?e!==t&&Fe.isFriendlyToParent(e)?i(e.parent,t):void 0:e};return{MIN_VISIBLE_DIM:r,isHidden:n,isCurrentIframeTheHiddenFrame:function(){var e,t=Qt.getWindow();return Bt.isViewportVisible(t,r)?n()&&(e=!1):e=!0,e},getWindowWithHiddenViewport:e}}},on={name:"AS_Finder",dependencies:["viewport"],creator:function(r,i){function t(){try{var e,t=r.isHidden(),n={};t!==o&&(e=le.stringifyTriState(t),n.res1=e,n.ps=e,n.ts=Qt.now(),n.psfr=le.stringifyTriState(r.isCurrentIframeTheHiddenFrame()),i.events.trigger("newState",n)),o=t}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.HIDDEN2)}}var o;return{start:function(){var e;r.isHidden()&&(t(),(e=r.getWindowWithHiddenViewport())&&ee(e).onResize(t))}}},settings:{emits:!0,applies:function(e,t,n){return n.embedded&&!n.isBustedIframe()&&!n.isSpecifiedAd()}}},an={name:"hA",dependencies:["AS_Finder"],creator:function(n){function r(e,t){pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.FF,e,le(t).toION())}function i(e){t<2&&r("ha1",e),t++}var t=0;!function(){var e,t;if(Fe.embedded)try{t=ge.contextNode.parentNode,e=$().getDFPValue(t),(t={}).df=e.type,e.size&&(t.sz=e.size.width+"."+e.size.height),e.tag&&(t.dom=e.tag),r("dfp",t),e.size&&n&&(n.events.on("newState",i),n.start())}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.HIDDEN)}}()},settings:{tier:me.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){return e.on("usehaps")}}},sn={name:"BS_InApp",dependencies:[],creator:function(){var e=Qt.getWindow().document;pe.getAggregator().request("mobileApp").isMobileAppEnvironment()&&te(e,"bs1",3,100)},settings:{tier:me.TIERS.VIEWABILITY,applies:function(e,t,n){return t=n.isAvid()||n.isOmid()||n.isMraid(),n=!n.isDomless()&&n.friendly&&!n.embedded,e.on("bas")&&t&&n&&e.bootstrapOn("app")}}},un={name:"BS_Browser",dependencies:[],creator:function(){var e=Qt.getWindow().document,t=e.body?Math.round(Bt.getNodeArea(e.body)):null;!pe.getAggregator().request("mobileApp").isMobileAppEnvironment()&&t&&te(e,"bs2",10,t)},settings:{tier:me.TIERS.VIEWABILITY,applies:function(e,t,n){return t=!e.bootstrapOn("app")&&!n.isDomless(),e.on("bbs")&&n.embedded&&t}}},dn=function(){return{createInstance:function(e){return Fe.isDomless()?new re:new ne(e)}}},cn=function(e,t){var n,r=t.request("adProxy").myIdCard,i=t.request("frameCollection").getMe().getStringifiedPosition(),t=pe.getAggregator().request("features").on("swapids")?ge.oid:ge.asid;return{messageContent:e||{},srcAsid:ge.asid,srcTagId:r=r.tagId,srcIsEmbedded:Fe.embedded,srcIsFriendly:Fe.friendly,srcBirthdate:ge.birthdate,iasCommonId:t=t.split("-")[2],nodeSelector:n=Fe.friendly?"["+me.AD_IDENTIFIER+"-"+ge.asid+"]":'iframe[src*="'+((n=(n=Qt.getWindow()).location&&n.location.href)&&n.replace(/^https?\:\/\//i,""))+'"]',positionStr:i,version:"0.1"}},gn=function(){var n={};return{add:function(e){var t=e&&e.srcAsid;t&&(n[t]=e)},map:function(e){return le(n).map(e)},has:function(e){return n[e&&e.srcAsid]}}},fn=function(i){var o=[],a={},s={noMe:!0};return{addFrame:function(e,t,n){var r=i.request("adProxy").getAll();return e=new ie(e,t,r,n),o.push(e),(a[e.id]=e).isMe&&(s=e),e},getFrame:function(e){return a[e]},list:o,dictionary:a,getMe:function(){return s}}},ln=function(n,s){function r(e,t){var n,r,i,o=t.adProxies,a="";if(t.isValidForMapping())return s?a+=(n=o,r=t.getStringifiedPosition(),i="",i=n.length?i+le(n).stringify(function(e,t){return r+(ge.asid===t.adSafeId?"*":"")+"."+t.tagId},"|"):i+r):(i=""+t.getStringifiedPosition(),i+=t.isMe?"*":"",a+=i+=o.length?"."+o[0].tagId:""),a}return{output:function(){var e=n.request("frameCollection"),t=le(e.list).stringify(r,"|");return le.toBase(e.getMe().unifiedId,62)+"+"+t}}},pn=function(n){function r(e){var t,n,r=!1,r=!Fe.embedded,i="BODY"!==Bt.getNodeName(a)&&"HEAD"!==Bt.getNodeName(a);return(t=e.srcIsEmbedded)&&(t="0.1"!==e.version,n=e.nodeSelector&&-1===e.nodeSelector.indexOf(me.AD_IDENTIFIER),t=!(t?n:!e.srcIsFriendly)),r=r&&i&&!t?!!s.queryFor(e.nodeSelector):(r=e.positionStr,e=e.srcIsEmbedded&&Fe.embedded,r=0===o.indexOf(r)||0===r.indexOf(o),!(!e||!r))}var o=n.request("frameCollection").getMe().getStringifiedPosition(),a=ge.contextNode.parentNode,s=n.request("interFrameQuerySelector",a);return{output:function(){var e=o+"*",t=n.request("adTalkMessageCollection").map(function(e,t){var n;return n=e!==ge.asid&&r(t)?t.positionStr+"."+t.srcAsid+"."+t.transferDuration+"_"+t.srcTagId:n});return t.push(e),120<(t=t.join("|")).length&&(t=(e=t)&&e.substr(0,120)+".of"+e.length,pe.getAggregator().trigger("stopAdTalk")),t},isCandidateForMyIdMap:r}},mn=function(o){function a(e,t){return Bt.querySelector(n(e),t)}var s=new _,n=function(e){var t=e,n="IFRAME"===Bt.getNodeName(e),r=Bt.isWindow(e);return n?t=e.contentWindow.document:r&&(t=e.document),t};return{queryFor:function(e){var t=null;return t=e?function(e,n){var t,r,i;try{(r=a(e,n))||(t=s.getFrames(!0,o),le(t).findFirst(function(e,t){return i=a(t,n)}))}catch(e){}return r||i||null}(o,e):t}}},hn=function(d){function e(e){var t=i.split("-")[2],n=!d.request("adTalkMessageCollection").has(e)&&e.srcAsid!==ge.asid;return e.hasOwnProperty("messageContent")&&t===e.iasCommonId&&n}function t(){var e=d.request("frameCollection").getMe();return d.request("adTalkMessage",{self:e,unifiedId:e.unifiedId})}function c(){var e=me.DT_CODES.ADTALK;d.request("frameCollection"),g=g||!0,pe.getAggregator().trigger("sendDt",e)}function n(e,t,n){var r,i,o,a;try{r=d.request("frameCollection"),i=d.request("adTalkMessageCollection"),o=t.messageContent.self,i.add(t);var s,u=r.getMe();u.unifiedId>o.unifiedId&&(u.unifiedId=o.unifiedId),s=Qt.now()-t.sentTime,t.transferDuration=s,i=a=r.getFrame(o.id),le.isUndef(i)||le.isUndef(i.selfDescription)?((a=a||r.addFrame(e.source,o.id.split("-"),t)).addInformationFromSrc(t,o),n()):a.addInformationFromSrc(t,o),g&&d.request("idMapModule").isCandidateForMyIdMap(t)&&c()}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.ADTALK_DUBIOUS)}}var r,g=!1,i=pe.getAggregator().request("features").on("swapids")?ge.oid:ge.asid;return{sendAdTalkCall:c,sendToKnownFrames:function(){(new b).send(t)},startListening:function(){(r=new o).listen(e,n,t)},stopListening:function(){r&&r.stop()},validateMessage:e,processMessage:n,createMessage:t}},En=function(){function e(e){return e=new oe,t.push(e),e}var t=[];return{createNew:e,getAll:function(){return t},myIdCard:e()}},vn=function(e){var n,r,i=!1;return e.browserIs(me.BROWSERS.IE)&&U.addEvent(Qt.getDoc().documentElement,"click",function(e){var t=!0;return i&&(i=!1,e.stopPropagation?(e.stopPropagation(),e.preventDefault()):e.cancelBubble=!0,n=e.screenX-e.clientX,r=e.screenY-e.clientY,t=!1),t},!0),{determineFramePosition:function(){return e.browserIs(me.BROWSERS.IE)&&(i=!0,Qt.getDoc().documentElement.click()),{scrX:n,scrY:r}}}},In=function(){var e=!1;return U.whenReady(function(){pe.getAggregator().trigger("startViewabilityLoop"),e=!0}),{loopStarted:function(){return e}}},An={name:"loopDelay",dependencies:[],creator:In,settings:{applies:function(e,t,n){return e.bootstrapOn("allowViewability")},tier:me.TIERS.VIEWABILITY}},Sn=function(){return{start:function(e){pe.getAggregator().on("measurable",function(){e()})},isApplicable:function(e,t){return!t.browserIs(me.BROWSERS.WEBKIT)||!e.isImmediatelyMeasurable()}}},Dn=function(){return{start:function(e){e()},isApplicable:function(e){return e.isImmediatelyMeasurable()}}},Tn=function(){return{start:function(e){var i,o;i=pe.getAggregator(),o=["adImpression","measurable"],function(n){var r={};le(o).each(function(e,t){i.on(t,function(){r[t]=1,le(r).keys().length===o.length&&(r={},n())})})}(function(){e()})},isApplicable:function(e,t){var n=9<=t.getIOSVersion();return(!t.browserIs(me.BROWSERS.WEBKIT)||n)&&Fe.isVideo()}}},On=function(){return{start:function(e){pe.getAggregator().once("adImpression",function(){e()})},isApplicable:function(e){return e.isImmediatelyMeasurable()&&Fe.isVideo()}}},yn=function(){var e=pe.getAggregator().request("omidAdSessionContext"),t=pe.getAggregator().request("omidVerificationClient"),n=new xe(t),r=e.isHtml&&e.isWeb;return{accepts:function(){return n.accepts()&&r}}},wn=function(n,e,t){var r=pe.getAggregator().request("mobileApp");return{create:function(){var e=(e=(e=(e=[]).concat(n.getOmidMeasurementStrategies())).concat(n.getAvidMeasurementStrategies())).concat(n.getMraidMeasurementStrategies());(e=new qe(e).resolve())||pe.getAggregator().trigger("addOutputItem",{output:"0"},"oam",{type:"impression"});var t=new Ye(e);return new je(e,t,r.isMobileAppEnvironment())}}},Nn=function(c){var i=pe.getAggregator().request("mobileApp");return{getOmidMeasurementStrategies:function(){var e,t,n,r,i,o=pe.getAggregator().request("omidVerificationClient"),a=new xe(o),s=[];return a.accepts()&&(t=new _n,i=new ot,n=new yn,r=pe.getAggregator().request("omidAdSessionContext"),e=new rt(o,new Te),t=[{environment:t,measurementStrategy:new it(o,new Te)},{environment:n,measurementStrategy:new at(new At,Qt.getWindow(),new Te)},{environment:i,measurementStrategy:new ut(new Dt,Qt.getWindow(),new Te)}],t=(t=new qe(t).resolve())?t.measurementStrategy:{},n=new Qe(new nt(new ir),new ir,r.isHtml),r=new ce(0,a,ge.mode),i=new tt(e,t,new Te,n),a=new We(o,a,ge.mode),o=new st(e,t,new He(o,new Te),new Te,n),s.push({environment:r,measurementStrategy:i}),s.push({environment:a,measurementStrategy:o})),s},getAvidMeasurementStrategies:function(){var e,t,n,r,i,o,a,s=pe.getAggregator().request("avidJsClient"),u=new ue(s),d=[];return u.accepts()&&(e=new se(s,u,ge.mode),t=new de(s,u,ge.mode),a=new Ge(s,new Te),a=u.supportsAdContainerGeometry()?(r=new Ze,i=new et,o=new ut(new Dt,Qt.getWindow(),new Te),n=new $e(s,new Te),r=(r=new qe([{environment:r,measurementStrategy:n},{environment:i,measurementStrategy:o}]).resolve())?r.measurementStrategy:{},i=new Qe(new nt(new ir),new ir,i.accepts()),o=new Je(s,new Te),s=new tt(o,r,new Te,i),new st(o,r,a,new Te,i)):(i=new Be(s,new Te),s=new ke(i,new Te),new Ke(i,a,new Te)),d.push({environment:e,measurementStrategy:s}),d.push({environment:t,measurementStrategy:a}),c.setAvidAdSessionContext(u.getAvidAdSessionContext())),d},getMraidMeasurementStrategies:function(){var e,t,n=[],r=i.isSafeToInjectMraid();return(r=new dt(Qt.getWindow(),r,i.isMobileAppEnvironment())).accepts()&&(e=pe.getAggregator().request("context"),e=new Xe(Qt.getWindow(),e),t=new ct(Qt.getWindow(),new Te),r=e.accepts()?(r=new ze(Qt.getWindow(),new Te),{environment:e,measurementStrategy:r=new Ke(t,r,new Te)}):{environment:r,measurementStrategy:e=new ke(t,new Te)},n.push(r)),n}}},_n=function(){var e=pe.getAggregator().request("omidAdSessionContext");return{accepts:function(){return e&&(e.isNative||e.isLimitedSandbox)}}},Rn=function(r,i,e){var o={};return e&&le(e).map(function(e,t){var n;o[e]=(n=t,t=le.noop,t=i.bootstrapOn("useViewabilityNotification")?function(){r.skipAsFraudulent()||pe.getAggregator().trigger("notify",n)}:t)}),{getCallbacks:function(){return o}}},bn=function(e){var t,n=[];return le(e.tiv).isArray()?le(e.tiv).each(function(e,t){n.push(new Et(t))}):"string"==typeof e.tiv?(e=e.tiv.split("|"),t=new ht,n.push(new vt(t,parseInt(e[1].replace("%")))),n.push(new Et(1e3*parseInt(e[0])))):le.isDef(e.tiv)&&n.push(new Et(1e3*e.tiv)),{getTimeThresholds:function(){return n}}},Cn=function(t,n,r,e){function i(e){t[o](e)?(n.mark(),r.doEligibleJobs(n.getTotalTime())):n.stop()}var o=e?"isInViewIgnoringRender":"isInView";return{start:function(){t.addMeasurementChangedListener(i)}}},Mn=function(e,s,u,d){function t(e,t){return!t&&e}function n(e){var n,r,i,o,a,t;le.isUndef(e.sliceStatus)||(c||(t=e,!c&&t.sliceStatus&&(c=[],g=[],l=[],p=[],le(t.sliceStatus).each(function(e){c.push(new Re(1)),l.push(0),d&&(g.push(new Re(1)),p.push(0))}))),n=0,r=1===(e=e).tabHidden,i=e.isVideoPlaying,o=e.isSoundOn,a=e.isVideoPlayingInFullscreen,le(e.sliceStatus).each(function(e,t){f(t,r,i,a)?c[e].mark():c[e].stop(),l[e]=c[e].getTotalTime()}),E("slcVt",l),d&&(le(e.sliceStatus).each(function(e,t){h(t,r,i,a)&&o?g[e].mark():g[e].stop(),p[e]=g[e].getTotalTime()}),E("slcVtVol",p)),m=d&&s&&s.shouldIncludeSound?p:l,e=le(m).findFirst(function(e,t){return n=Math.max(n,t),t<=0}),le.isUndef(e)&&u.doEligibleJobs(n))}var c,g,f,l,p,m,h=function(e,t,n,r){return!!r||!t&&(e||r)&&n},E=function(e,t){var n={};n[e]=t,pe.getAggregator().trigger("addOutputItem",{output:n},{minDt:!1})};return{start:function(){f=d?h:t,e.addMeasurementChangedListener(n)}}},Vn=function(e,t,n){return{isInView:e.isInView,isInViewIgnoringRender:e.isInViewIgnoringRender,addMeasurementChangedListener:function(e){t.addMeasurementChangedListener(e,n)}}},Fn=function(i,o,r,e,t,a,s,u,d,c){function n(){t.on("viewabilityready")&&!g&&(e.send(me.DT_CODES.VIEWABILITY_READY),a.trigger("measurable"),g=!0)}var g=!1,f=Fe.isVideo(),l=a.request("mobileApp"),p=W().applies(r,t),m=r.browserIs(me.BROWSERS.GECKO)||r.browserIs(me.BROWSERS.IE)&&t.on("rattie")||p,h=Fe.xDomainIframe&&!m,E=new Ne(10);a.on("delayedViewabilityReady",function(){v(),n()}),a.on("delayedViewabilityReadyCallOnly",n);var v=function(e){e=e||!1;try{var t,n;E.start(),o.hasMeasurementStrategy()?n=(l.isMobileAppEnvironment()||Fe.isOmidNative())&&o.supportsAdContainerGeometry()?o.getScreenLocationInfo({},e):o.getScreenLocationInfo(u.collect(),e):(n=u.collect(),l.isMobileAppEnvironment()?(n.viewState=me.NA,n.method=me.NA,n.percentInView=me.NA):h&&(n.viewState=me.NA,n.percentInView=me.PIV_NA),f&&!Fe.isAvid()&&c.setVideoSpecificScreenEventFields(n)),t=d.registerLocation(n),e||i.trigger("measurementChanged",n),E.stop();var r=Qt.round(E.getTime()/E.getCount());return s.addItem({output:r},"lt",{type:me.DT_CODES.UNLOAD}),t}catch(e){a.trigger("error",me.ERROR_CODES.CHECK_SCREEN_LOC)}};return{checkScreenLoc:v,stringifyPingTimes:function(){return t.on("everySecond")?"1-2-3-4-5-6-7-8-9-10-11-12-13-14-15":f?"2-5-15":"1-5-15"},isImmediatelyMeasurable:function(){var e=(n=Fe.xDomainIframe)&&r.browserIs(me.BROWSERS.WEBKIT),t=n&&r.browserIs(me.BROWSERS.MSEDGE),n=n&&p,e=!e&&!t&&!n;return l.isMobileAppEnvironment()?o.isMeasurable():e},requiresDelayedViewabilityEvent:function(){l.isMobileAppEnvironment()&&o.hasMeasurementStrategy()&&o.requiresDelayedViewabilityEvent()},addMeasurementChangedListener:function(e){i.on("measurementChanged",e)}}},Pn={name:"viewabilityLoopLifecycle",dependencies:["viewability","features","context","browser"],creator:function(n,r,i,o){function a(e){"sessionFinish"===e.type&&pe.getAggregator().trigger("adSessionComplete")}function s(e){U.addEvent(x,e,function(){pe.getAggregator().trigger("adSessionComplete")},!1)}var u,d=Ln(i),c=[new Wn,new xn(d)];pe.getAggregator().once("startViewabilityLoop",function(){var e,t=pe.getAggregator().request("mobileApp").isMobileAppEnvironment();pe.getAggregator().request("ids").impressionIsIdentifiable()&&(u=g(n.checkScreenLoc,d.getPollingFrequency()),(e=le(c).findFirst(function(e,t){return t.applies(o,r,i)?t:void 0}))?e.start(u):u.start(!0),Fe.isOmid()?pe.getAggregator().request("omidVerificationClient").registerSessionObserver(a,"IAS"):s(t?"MOBILE_APP_TEST_EVENT_AD_SESSION_COMPLETE":"beforeunload"))}),pe.getAggregator().once("adSessionComplete",function(){var e;!i.isVideo()||i.isAvid()||i.isOmid()||(e=new I(me.DT_CODES.VIDEO_EVENTS),pe.getAggregator().trigger("sendDt",e.callType,e.enumerator,function(){var e={id:ge.videoId,msg:"unloadComplete",messageType:"misc"};Qt.getWindow().postMessage(JSON.stringify(e),"*")})),pe.getAggregator().trigger("unload"),u&&u.stop(),pe.getAggregator().trigger("endAdSession"),pe.getAggregator().trigger("stopAdTalk")})},settings:{tier:me.TIERS.VIEWABILITY}},Ln=function(e){return{getPollingFrequency:function(){return e.isVideo()?200:100},getOptimizedPollingFrequency:function(){return 1e3}}},xn=function(t){function n(e){a&&!u&&e<1?(u=!0,Qt.setTimeout(function(){n(e)},1e3)):(s=e<1,!o&&s?(o=!0,i.updateFrequency(t.getOptimizedPollingFrequency(),!0)):o&&!s&&(o=!1,i.updateFrequency(t.getPollingFrequency(),!0)))}function r(e){n(e.percentInView)}var i,o,a,s,u;return{applies:function(e,t,n){return e=t.on("viewabilityOptimization"),a=n.usesZeroPivCustomMetric(),e},start:function(e){(i=e).start(!0),pe.getAggregator().on("IOPivChange",n),pe.getAggregator().on("newScreenEvent",r)}}},Wn=function(){function t(e){if(!(o&&!a&&e<1))return e<1?(r||i.stop(!0),r=!0):r&&(r=!1,i.start(!0)),r;a=!0,Qt.setTimeout(function(){t(e)},1e3)}function n(){i.start(!0)}var r,i,o,a=!1;return{applies:function(e,t,n){o=n.usesZeroPivCustomMetric();var r=W();return t.on("viewabilityOptimization")&&r.applies(e,t,n)&&n.isDeviceTypeGroupMobile()},start:function(e){(i=e).start(!0),pe.getAggregator().on("IOPivChange",t),pe.getAggregator().on("nodesAdded",n)}}},Un=function(o,a){function s(){return c[0]&&c[0].getDetectionMethod()===me.DETECTION_METHODS.AD_PLACEHOLDER}function n(e,t,n,r){var i=s()||0===c.length;e=It(o,e,t,n,a,r),s()&&(n=c.shift(),g=le(c),n.cleanup(),d=void 0),c.push(e),g=le(c),i&&e.mark(),i&&t!==me.DETECTION_METHODS.AD_PLACEHOLDER&&pe.getAggregator().trigger("primaryadfound",e)}function r(e){var t=f();return t=t.hasMeasurement?Qt.round(t.totalInView/t.totalArea*100):me.PIV_NA,t=isNaN(t)||l(e)?0:t}function u(e){var t=a.bootstrapOn("mobOrTab"),t=f().totalArea>=me.MRC_LARGE_AD_SIZE&&a.on("largeAd")&&!t&&!Fe.isVideo();return o.calcInitialViewState(r(e),t)}function i(n){var r=-1;return g.each(function(e,t){t.isNode(n)&&(r=e)}),r}function e(e){return function(){return c[0]&&c[0][e]()}}var d,c=[],g=le([]),f=function(){if(d)return d;var r,i=!1,o=0,a=0;return g.each(function(e,t){var n=t.getDims();n.hasValidDims()&&(r=t.getPercentInView(),i=r!==me.NA,n=n.area(),o+=n,a+=r/100*n)}),d={totalArea:o,totalInView:a,hasMeasurement:i}},l=function(e){var t=pe.getAggregator().request("adRenderStatus");return!e&&!t};return pe.getAggregator().on("adComponentAdded",function(e){le(e).each(function(e,t){-1===i(t)&&n(t,me.DETECTION_METHODS.MUTATION)})}),pe.getAggregator().on("adComponentRemoved",function(e){le(e).each(function(e,t){t=i(t);-1<t&&c.splice(t,1)})}),{getDims:e("getDims"),isObstructed:e("isObstructed"),getDetectionMethod:e("getDetectionMethod"),getContainerDims:e("getContainerDims"),getViewState:u,getViewStateIgnoringRender:function(){return u(!0)},getPercentInView:r,getPercentInViewIgnoringRender:function(){return r(!0)},isHidden:e("isHidden"),isUsingPlaceholder:s,hasAd:function(){return!!c.length},refresh:function(){d=void 0,g.each(function(e,t){t.refresh()})},addAdComponent:n,clearCollection:function(){g.each(function(e,t){t.cleanup()}),c=[],g=le([]),d=void 0},getOutOfViewReasons:function(e){var t,n=[],r=c[0],i=me.OUT_OF_VIEW_REASONS;return r&&(t=d||u(),l(e)?n.push(i.RENDER):t!==me.OUT_OF_VIEW&&t!==me.PARTIAL_VIEW_MINUS||n.push(i.GEOM),r.isHidden()&&n.push(i.HIDDEN),r.isObstructed()&&n.push(i.OBSTRUCTION)),n},getComponentCount:function(){return c.length},getComponents:function(){return c},getSliceStatus:e("getSliceStatus")}},Gn=function(t){var e,n,r=!1;le.isUndef(x.MutationObserver)||(e=new x.MutationObserver(function(e){Qt.execAtEndOfThread(function(){r&&le(e).each(function(e,t){t.addedNodes.length&&pe.getAggregator().trigger("adComponentAdded",t.addedNodes),t.removedNodes.length&&pe.getAggregator().trigger("adComponentRemoved",t.removedNodes)})})}),n=function(){r=!0,Qt.setTimeout(function(){r=!1},40)},pe.getAggregator().on("adComponentClicked",n),pe.getAggregator().on("adComponentMousedOver",n),U.whenReady(function(){try{e.observe(fe.body,{attributes:!0,childList:!0,characterData:!0})}catch(e){t.add(me.ERROR_CODES.AC_WATCHER)}},Qt.getDoc()))},Bn=function(n,r){var i,t,o,a,e=[{detectionMethod:me.DETECTION_METHODS.SPECIFIED_AD_COMPOUND,isApplicable:function(){return Fe.isCompoundAd()},find:function(){var t,n=[];return/\[(.*)\]/.exec(ge._cl_adpath)[1].split(",").forEach(function(e){(t=Bt.crossQuerySelector(e))&&(a=Bt.getParent(t),Bt.getNodeArea(t)<1&&(a=t,t=Bt.findElementsWithSize(t))),n.push(t)}),n},getAdContainer:function(){return a},allowForAdContainerChange:!0},{detectionMethod:me.DETECTION_METHODS.SPECIFIED_AD,isApplicable:function(){return Fe.isSpecifiedAd()},find:function(){var e=le.isFunction(ge.contextNode.getAttribute)&&ge.contextNode.getAttribute("data-ias-container");return o=e&&"#"+e||ge._cl_adpath,(e=Bt.crossQuerySelector(o))&&(t=Bt.getParent(e),Bt.getNodeArea(e)<1&&(t=e,e=Bt.findElementsWithSize(e))),e},getAdContainer:function(){return t},allowForAdContainerChange:!0}],s=[At(),Dt(),{detectionMethod:me.DETECTION_METHODS.VIDEO,find:pe.getAggregator().request("video").findAdNode,isApplicable:Fe.isVideo,getAdContainer:function(){return ge.contextNode.parentNode},allowForAdContainerChange:!0},Hn(),{usePlaceholder:!1,detectionMethod:me.DETECTION_METHODS.VENDOR_CELTRA,isApplicable:function(e,t){return t.on("celtra")&&e.isCeltra()},find:function(){var e,t=Yn().find();return t&&t.celtra&&t.celtra.loaded&&(e=t.celtra.viewabilityObservee,i=Bt.getElementsWindow(e).frameElement||e.parentNode,Qt.execAtEndOfThread(function(){pe.getAggregator().trigger("delayedViewabilityReadyCallOnly")})),e},getAdContainer:function(){return i},allowForAdContainerChange:!1},{detectionMethod:me.DETECTION_METHODS.IFRAME,find:function(){return x},isApplicable:function(){return Fe.embedded},getAdContainer:function(){return ge.contextNode.parentNode},allowForAdContainerChange:!0},{usePlaceholder:!0,detectionMethod:me.DETECTION_METHODS.AD_HUNT,isApplicable:function(){return!0},find:kn,getAdContainer:function(){return ge.contextNode.parentNode},allowForAdContainerChange:!0}],e=e.concat(s);return le(e).findFirst(function(e,t){return t.isApplicable(n,r)})},Hn=function(){var t,n,r;return{detectionMethod:function(){return n&&n.detectionMethod},isApplicable:function(e){return e.isBustedIframe()},find:function(){n=n||qn();var e=Bt.crossQuerySelector(qn().getCssSelector(),!0);return t=e?e.parentNode:t,e?r&&(Qt.execAtEndOfThread(function(){pe.getAggregator().trigger("delayedViewabilityReadyCallOnly")}),r=!1):r=!0,e},getAdContainer:function(){return t},allowForAdContainerChange:!0}},kn=function(e,t){var n,t=Bt.findChildWithLargestContent(e||ge.contextNode.parentNode,t);return n=1<Bt.getNodeArea(t)&&!t[me.IAS_DETECTOR]?t:n},jn=function(){function o(){var e;return t=t||(e=(e=Bt.querySelector(r,"div[id*='ebDiv']"))&&e.id)&&e.split("ebDiv")[1]}function a(){var e;return n=n||(e=(e=Bt.crossQuerySelector("iframe[id*='ebBannerIFrame_'][id$='"+o()+"']",!0))&&e.id)&&"#"+e}var t,n,r=Qt.getDoc();return{detectionMethod:me.DETECTION_METHODS.BUSTED_IFRAME_SIZMEK,isApplicable:function(e,t){var r,n=Qt.getWindow(),i=(i=e.friendlyIframe&&Qt.getWindow().frameElement)&&Gt(i).isOneByOne(),e=(r=["bs.serving-sys.com/BurstingPipe/adServer","secure-ds.serving-sys.com/BurstingCachedScripts"],e=Qt.getDoc().scripts,le(e).findFirst(function(e,n){return le(r).findFirst(function(e,t){return nn.contains(n.src,t)})})),n=n.EBG&&n.EBG.ads&&!le(n.EBG.ads).isEmpty();return t.on("sizmek")&&e&&n&&i&&o()&&a()},getCssSelector:a}},qn=function(){var n=pe.getAggregator().request("features"),e=e||[jn(),{isApplicable:function(e,t){var n;try{n=Bt.getFrameId()}catch(e){}return t.on("yieldmo")&&n&&nn.contains(n,"_tpi")&&Bt.crossQuerySelector("[data-href*='ads.yieldmo.com']",!0)},getCssSelector:function(){return"[id='"+Bt.getFrameId().replace("_tpi","")+"']"},detectionMethod:me.DETECTION_METHODS.BUSTED_IFRAME_YIELDMO},St()];return le(e).findFirst(function(e,t){return t.isApplicable(Fe,n)})},Yn=function(){function e(){var e;return t=(e=ge.contextNode.parentNode)&&(nn.contains(e.className,"celtra-ad-v3")||nn.contains(e.className,"celtra-ad-v4"))||(e=e&&(Bt.querySelector(e,".celtra-ad-v3")||Bt.querySelector(e,".celtra-ad-v4")))?e:t}var t;return{find:e,isApplicable:function(){return void 0!==e()}}},Kn=function(){return{calcDims:function(e,t){var n=new Gt(e);return Bt.isClippable(e,t)&&(e=Bt.getClippedDimensions(e,t),t=n.getRounded(),n.set("height",e.height<t.height?e.height:t.height||1),n.set("width",e.width<t.width?e.width:t.width||1)),n},allowsOptimization:!1,isApplicable:function(e){var t=(Fe.isSpecifiedAd()||Fe.isBustedIframe())&&Bt.nodeIsInWindow(e,Qt.getTop());return e=!Bt.elementIsEmbedded(e),t||e}}},Xn=function(){var e=pe.getAggregator().request("iframeCalculatorHelper");return{calcDims:e.calcDims,getClippedDims:e.getClippedDims,allowsOptimization:!0,isApplicable:function(e){return!(Fe.isSpecifiedAd()||Fe.isBustedIframe())&&Bt.elementIsEmbedded(e)}}},zn=function(){var n=pe.getAggregator().request("iframeCalculatorHelper");return{calcDims:function(e){var t=n.calcDims();return e=new Gt(e).getRounded(),t.set("height",e.height),t.set("width",e.width),t},getClippedDims:n.getClippedDims,allowsOptimization:!1,isApplicable:function(e,t){t=(Fe.isSpecifiedAd()||Fe.isBustedIframe())&&Fe.embedded&&!Bt.nodeIsInWindow(t,Qt.getTop()),e=Fe.isCeltra()&&Bt.elementIsEmbedded(e);return t||e}}},Jn=function(){var r;return{calcDims:function(e,t,n){return n=le.isDef(n)?n.getAdNodeDimensions():void 0,n=r&&le.isUndef(n)?r.calcDims(e,t):n},isApplicable:function(e){e=W();var t=pe.getAggregator(),n=t.request("browser"),r=t.request("features");return(t=t.request("context")).isDeviceTypeGroupMobile()&&e.applies(n,r,t)},allowsOptimization:!1,setBaseStrategy:function(e){r=e}}},Qn=function(){return{createInstance:function(e,t,n){return Fe.isDomless()?new Ot:new Tt(e,t,n)}}},Zn=function(e){function n(){return"stub"===a().mode}var t,r=[],i=e||x;e=function(){n()&&(t=i.setInterval(function(){if("stub"!==a().mode){i.clearInterval(t);for(var e=0;e<r.length;e++)i.avid.addEventListener(r[e].type,r[e].functionToExecute)}},10))};function o(){return void 0!==i.avid}var a=function(){var e,t={};if(o())if("string"==typeof(e=i.avid.getAvidAdSessionContext()))try{t=JSON.parse(e)}catch(e){__IntegralASDiagnosticCall("avidadsessioncontext",e,x.bootstrapper)}else"object"==typeof e&&(t=e);return t};return Fe.isDomless()||e(),{isAvidAvailable:o,getAvidAdSessionContext:a,addEventListener:function(e,t){n()?r.push({type:e,functionToExecute:t}):i.avid.addEventListener(e,t)},getHtmlVideoAvidAdSessionListener:function(){if(n())throw"`HtmlVideoAvidAdSessionListener` is not available while in stub mode.";return i.avid.getHtmlVideoAvidAdSessionListener()}}},$n=function(c){var g=new yt,f=new wt,l="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";return function(){var e,t,n,r,i,o,a="",s=pe.getAggregator().request("omidAdSessionContext"),u=Fe.isDomless()||s&&"app"===s.environment,s=s&&"web"===s.environment;try{if(!(e=u)){if(!(t=Fe.isAvid())){if(!(n=Fe.isAvidNative())){if(r=!s){if(i=c.bootstrapOn("mobOrTab")){if(o=c.bootstrapOn("mobAppWebview")){for(var u="FBAN FBAV Twitter Instagram Flipboard Snapchat LinkedInApp Pinterest".split(" "),s=!1,d=0;d<u.length;d++)if(-1<l.indexOf(u[d].toLowerCase())){s=!0;break}o=!s}i=o}r=i}n=r}t=n}e=t}e&&(a=g.detect(),g.hasDetectedMobileApp())&&("s_serv"!==a&&"u_cars"!==a||(rr[rr.length-1].detectionRules.userAgent[0]="/"),f.detect(),pe.getAggregator().trigger("addOutputItem",{output:"1"},"mapp",{type:"impression"}),pe.getAggregator().trigger("addOutputItem",{output:a},"drul",{type:"impression"}))}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.MOBILE_APP)}}(),{isMobileAppEnvironment:function(){return g.hasDetectedMobileApp()},isSafeToInjectMraid:function(){return f.isSafeToInjectMraid()}}},er={url:{STRINGIFIED_METHOD:"u",detect:function(e){if(Fe.isDomless())return!1;var u=Qt.getWindow().location.href,d=[u];try{d.push(top.location.href)}catch(e){}try{d.push(parent.location.href)}catch(e){}if(Fe.embedded){try{d.push(parent.document.referrer)}catch(e){}try{d.push(fe.referrer)}catch(e){}}try{"jsi"!==ge.mode&&d.push(x.location.href)}catch(e){}try{d.push(ge.jsref)}catch(e){}return d.sort(function(e,t){return e.length>t.length?1:e.length<t.length?-1:0}),!!le(e).findFirst(function(e,t){for(var n=!1,r="mobfox"===t?d:[u],i=0;i<r.length;i++){var o=r[i],a="string"==typeof t?[t]:t;if(le(a).isArray()&&(a[0].substring(0,4),a))for(var s=0;s<a.length&&!1!==(n=-1<o.indexOf(a[s]));s++);if(n)break}return n})}},userAgent:{STRINGIFIED_METHOD:"a",detect:function(e){return!Fe.isDomless()&&!!le(e).findFirst(function(e,t){var n=!1,r=Qt.getWindow();return n=le.isDef(r.navigator)&&le.isDef(r.navigator.userAgent)?(n=r.navigator.userAgent)&&-1!==n.indexOf(t):n})}},javascript:{STRINGIFIED_METHOD:"j",detect:function(e){return!!le(e).findFirst(function(e,t){return le.isDef(nn.stringToProp(t))})}},scriptSrc:{STRINGIFIED_METHOD:"s",detect:function(e){return!Fe.isDomless()&&!!le(e).findFirst(function(e,t){return Bt.containsScriptTagWithSrc(function(e){return le.isDef(e)&&-1!==e.indexOf(t)})})}}},tr=function(){function t(e,t){var n;return n=(e=er[e]).detect(t)?e.STRINGIFIED_METHOD:n}return{process:function(e){return le(e).map(t).join("")}}},nr=[{STRINGIFIED_APPDET:"omid",detectionRules:{javascript:["omidSupported"]}},{STRINGIFIED_APPDET:"avid",detectionRules:{javascript:["avid.getAvidAdSessionContext"]}},{STRINGIFIED_APPDET:"file",detectionRules:{url:["file:"],scriptSrc:["file:"]}},{STRINGIFIED_APPDET:"cont",detectionRules:{url:["content:"]}},{STRINGIFIED_APPDET:"appl",detectionRules:{url:["applewebdata:"]}},{STRINGIFIED_APPDET:"adma",detectionRules:{javascript:["ADMARVEL"]}},{STRINGIFIED_APPDET:"admb",detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_APPDET:"imbi",detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_APPDET:"mopb",detectionRules:{url:["ads.mopub.com"],javascript:["mopubFinishLoad"]}},{STRINGIFIED_APPDET:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_APPDET:"sads",detectionRules:{javascript:["mraid.sasSendMessage"]}},{STRINGIFIED_APPDET:"ogry",detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_APPDET:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_APPDET:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_APPDET:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_APPDET:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_APPDET:"aers",detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_APPDET:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_APPDET:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_APPDET:"cars",safeToInjectMraid:!0,detectionRules:{url:[["carsales",".android"],["carsales",".ios"]]}}],rr=[{STRINGIFIED_SDK:"adma",safeToInjectMraid:!0,detectionRules:{javascript:["ADMARVEL"],url:["AdMarvel"]}},{STRINGIFIED_SDK:"admb",safeToInjectMraid:!0,detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_SDK:"imbi",safeToInjectMraid:!0,detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_SDK:"mmed",detectionRules:{url:["mmsdk"],scriptSrc:["mmsyscache"]}},{STRINGIFIED_SDK:"mopb",safeToInjectMraid:!0,detectionRules:{javascript:["mopubFinishLoad"],url:["ads.mopub.com"]}},{STRINGIFIED_SDK:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_SDK:"ambe",safeToInjectMraid:!0,detectionRules:{url:["amobee"]}},{STRINGIFIED_SDK:"smat",safeToInjectMraid:!0,detectionRules:{javascript:["smaato_bridge"]}},{STRINGIFIED_SDK:"afrm",safeToInjectMraid:!0,detectionRules:{javascript:["Adform"]}},{STRINGIFIED_SDK:"vrve",safeToInjectMraid:!0,detectionRules:{javascript:["vrvsdk"]}},{STRINGIFIED_SDK:"sads",detectionRules:{javascript:["mraid.sasSendMessage"],url:["smartadserver.com"]}},{STRINGIFIED_SDK:"ogry",safeToInjectMraid:!0,detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_SDK:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_SDK:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_SDK:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_SDK:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_SDK:"aers",safeToInjectMraid:!0,detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_SDK:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_SDK:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_SDK:"mrad",safeToInjectMraid:!0,detectionRules:{userAgent:["unmatchabledetectionstring"]}}],ir=function(){var t,n=me.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID.length,r=me.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID,i=[];return{getConfig:function(e){if(t)return t;for(e.height<n&&(n=1,r=[100]),e=0;e<n;e++)i.push(!1);return t={numberOfSlices:n,defaultSliceArray:i,percentInViewSliceArray:r}}}},or=function(e,t,n,r){function i(){return{leftX:o,rightX:a,topY:s,bottomY:u,width:d,height:c,area:g}}var o=Math.ceil(e),a=Math.ceil(t),s=Math.ceil(n),u=Math.ceil(r),d=a-o,c=u-s,g=d*c;return{value:i,doesIntersect:function(e){var t=i();return(e=e.value()).leftX<t.rightX&&e.rightX>t.leftX&&e.topY<t.bottomY&&e.bottomY>t.topY}}},ar=function(){function n(t){var n=!1;return sr.forEach(function(e){t===e.PARTNER_NAME&&(n=!0)}),n}function r(e,t){return e.omidNativeInfo&&e.omidNativeInfo.partnerName&&n(e.omidNativeInfo.partnerName)?t&&i(t.onScreenContainerGeometry):t&&i(t.onScreenGeometry)}function i(e){return e&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("width")&&e.hasOwnProperty("height")}return{detect:n,checkAdViewGeometryBasedOnWhitelist:r,checkGeometryObject:i,checkForViewAttachmentBasedOnAdSessionType:function(e,t){if(t&&t.reasons&&t.reasons.indexOf("notFound")<0&&e.adSessionType&&(-1<e.adSessionType.indexOf("native")||-1<e.adSessionType.indexOf("javascript")||-1<e.adSessionType.indexOf("html")&&r(e,t)))return!0}}},sr=[{PARTNER_NAME:"IAB"},{PARTNER_NAME:"IAS"},{PARTNER_NAME:"com.integralads.omid.iassdk"}],ur=function(){return{listenForResult:function(){pe.getAggregator().on("videoBlockResult",function(e){var t=pe.getAggregator().request("adNode"),n=!1,r="blockAd"+ge.videoId;"failed"===e.action&&(n=!0),t&&le.isDef(t.blockAd)?t.blockAd(n):t&&le.isDef(t[r])&&t[r](n)})}}},dr=function(){var r=[];return{registerEvent:function(e,t,n){return e=new Mt(e,t),r.push(e),e},toString:function(){return"{"+le({vEventCount:r.length,vEvents:"["+r.join(",")+"]"}).toParams()+"}"},isEmpty:function(){return 0===r.length}}},cr=function(){function t(e){s=le.isDef(e)?0===e:s,a&&s&&o.addState({isFullyInView:function(){return!1}})}function n(){o&&o.hasAlwaysBeen(!0)&&pe.getAggregator().trigger("sendDt",me.DT_CODES.QUARTILE_FULLY_INVIEW)}function r(){a=!0,t()}function i(e){e=(new fr).getVolumeFromContext(e),t(e)}var o,a,s;return{isApplicable:function(e){return e.usesGroupMCustomMetric()},start:function(e){pe.getAggregator().on({adVideoStart:r,adImpression:r,volumeChanged:i,adVideoMidpoint:n}),o=e.createViewabilityTracker("mpt",function(e){var t=pe.getAggregator().request("isFullyInViewProvider");return!a||t&&t.isFullyInView(e)})}}},gr=function(){var n={AdPaused:"pauseAd",AdVolumeChange:"volumeChanged",AdPlaying:"resumeAd"};return{translate:function(e){var t=e.charAt(0).toLowerCase()+e.slice(1);return t=e in n?n[e]:t}}},fr=function(){return{getVolumeFromContext:function(e){var t,n=-1;return le.isDef(e)&&(le.isDef(e.volume)?n=e.volume:le.isDef(e.adVolume)&&(n=e.adVolume)),t=-1!==n?n:t}}},lr=function(e){var n={},t=e instanceof Array&&0<e.length;return t&&(le(e).each(function(e,t){n[t.getType()]=t}),pe.getAggregator().on("perfCheckpoint",function(e){var t=n[e.type];if(t)try{t.addPoint(e),t.isFinished()&&pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.IM,"pci",t.toString())}catch(e){}})),pe.getAggregator().provide("perfActive",function(){return t}),{isActive:t}},pr=(br.build=function(){var e,t=[];return t.push(new Lt(me.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,me.PERF_TIMELINE_TRACKER_CONFIG.RENDER.COUNT)),(e=(e=pe.getAggregator().request("vc"))?{jv3:mr,av3:mr,jvw:Pt,avw:Ft}[e]:void 0)&&t.push(e()),t},br),mr=function(){return new Lt(me.PERF_TIMELINE_TRACKER_CONFIG.VANS.TYPE,me.PERF_TIMELINE_TRACKER_CONFIG.VANS.COUNT)},hr={IDS:{BLOCK_TIME:"pBlk",ON_LOAD:"pLoad",IN_BROWSER_DELAY:"pWait"},recordBlockingTime:function(){pe.getAggregator().trigger("measureTime",hr.IDS.BLOCK_TIME)},setupOnLoadTracking:function(){U.addEvent(x,"load",function(){pe.getAggregator().trigger("measureTime",hr.IDS.ON_LOAD)})},setupBrowserDelayTracking:function(){var e=new _e;e.onTick({4:function(){pe.getAggregator().trigger("markTime",hr.IDS.IN_BROWSER_DELAY)},5:function(){pe.getAggregator().trigger("measureTime",hr.IDS.IN_BROWSER_DELAY)}}),e.start()}},Er={isFrameworkAvailable:function(e,t){var n,r,i=Qt.getTop(),o=Qt.getWindow();try{n=i[e]}catch(e){for(;!r;){try{o.frames[t]&&(r=o.frames[t].parent)}catch(e){}if(o===i)break;o=o.parent}}return n||r},getMessageHandler:function(t,n){function r(e){try{e&&e.data&&e.data[t]&&e.data[t].callId===i&&e.data[t].returnValue&&(n(e.data[t].returnValue),U.removeEvent(Qt.getWindow(),"message",r))}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.GDPR)}}var i=Er.getCallId();return r},getCallId:function(){return"ias_"+ge.asid},send:function(e,t){pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.ENVIRONMENT,e,t)}},vr={name:"CCPAConsentDetector",dependencies:[],creator:function(){function e(e){e&&Er.send("ccd",le(e).toION())}var t,n,r;r=Er.isFrameworkAvailable("__uspapi","__uspapiLocator"),Er.send("cca",!!r),r&&(le.isFunction(r)?r("getUSPData",1,e):(t={__uspapiCall:{command:"getUSPData",version:1,callId:Er.getCallId()}},n=Er.getMessageHandler("__uspapiReturn",e),U.addEvent(Qt.getWindow(),"message",n),r.postMessage(t,"*")))},settings:{tier:me.TIERS.ENVIRONMENT,applies:function(e,t,n){return t.hasPostMessage()&&!n.isDomless()}}},Ir={name:"GDPRConsentDetector",dependencies:[],creator:function(){function e(e){var t=le.isDef(e)&&le.isDef(e.vendorConsents)&&le.isDef(e.vendorConsents[278])?e.vendorConsents[278]:void 0;e={appl:le.stringifyTriState(e.gdprApplies),cnst:le.stringifyTriState(t),glbl:le.stringifyTriState(e.hasGlobalScope),mtdt:encodeURIComponent(e.metadata)},Er.send("gcd",le(e).toION())}var t,n,r;r=Er.isFrameworkAvailable("__cmp","__cmpLocator"),Er.send("gca",!!r),r&&(le.isFunction(r)?r("getVendorConsents",[278],e):(t={__cmpCall:{command:"getVendorConsents",parameter:[278],callId:Er.getCallId()}},n=Er.getMessageHandler("__cmpReturn",e),U.addEvent(Qt.getWindow(),"message",n),r.postMessage(t,"*")))},settings:{tier:me.TIERS.ENVIRONMENT,applies:function(e,t,n){return t.hasPostMessage()&&!n.isDomless()}}},Ar={name:"GDPRV2ConsentDetector",dependencies:[],creator:function(){function e(e){var t=le.isDef(e)&&le.isDef(e.vendor)&&le.isDef(e.vendor.consents)&&le.isDef(e.vendor.consents[278])?e.vendor.consents[278]:void 0;e={appl:le.stringifyTriState(e.gdprApplies),cnst:le.stringifyTriState(t)},Er.send("gcd2",le(e).toION())}var t,n,r;r=Er.isFrameworkAvailable("__tcfapi","__tcfapiLocator"),Er.send("gca2",!!r),r&&(le.isFunction(r)?r("getTCData",2,e):(t={__tcfapiCall:{command:"getTCData",parameter:[278],callId:Er.getCallId(),version:2}},n=Er.getMessageHandler("__tcfapiReturn",e),U.addEvent(Qt.getWindow(),"message",n),r.postMessage(t,"*")))},settings:{tier:me.TIERS.ENVIRONMENT,applies:function(e,t,n){return t.hasPostMessage()&&!n.isDomless()}}},Sr={name:"postMessageDetector",dependencies:[],creator:function(){function e(e){(e&&e.data)===r&&(n=!0)}var t,n=!1,r="pmdetector"+ge.asid;t=Qt.getWindow(),U.addEvent(t,"message",e),t.postMessage(r,"*"),Qt.execAtEndOfThread(function(){pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.IM,"pom",le.stringifyTriState(n)),U.removeEvent(t,"message",e)})},settings:{tier:me.TIERS.ENVIRONMENT,applies:function(e,t,n){return e.on("pmdetect")&&t.hasPostMessage()}}},Dr={name:"safeFrameDetector",dependencies:[],creator:function(){pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.IM,"sf",le.stringifyTriState(Fe.isSafeFrame()))},settings:{tier:me.TIERS.ENVIRONMENT,applies:function(e,t,n){return e.on("sfdetect")}}},Tr=function(n,e,g,f,l,p,m,h){return t=function(){var e=t={viewState:me.NA};Fe.isDomless()?e=h.checkScreenLoc(!0)||t:f.on("impFailSafe")?Qt.getDoc().body&&(e=(e=h.checkScreenLoc(!0))?e:t):le.isDef(Qt.getDoc().body)&&(e=h.checkScreenLoc(!0)),h.isImmediatelyMeasurable()||h.requiresDelayedViewabilityEvent();var t,n,r,i,o,a,s,u,d,c=(t=e).viewState;return e=l.getAvidIds(),c=["id:"+ge.asid,"c:"+l.getCacheBustId(),"sl:"+c,"em:"+Fe.embedded,"fr:"+Fe.friendly],f.on("avidPropertiesInImpression")&&le.isDef(e)&&(c.push("abi:"+e.bundleIdentifier),c.push("apn:"+e.partner),c.push("apv:"+e.partnerVersion)),n=t,r=g,i=f,o=l,a=p,s=m,u=h,d=[],e=pe.getAggregator().request("mPage"),d.push("mn:"+ge.mn),ge.iasProxyPartnerDomain&&d.push("ipp:"+encodeURIComponent(ge.iasProxyPartnerDomain)),d.push("pt:"+function(){var e=u.stringifyPingTimes();return n.viewState!==me.NA&&(e+=n.details),e}()),d.push(le(s.params()).toParams()),i.on("mrcAudit")&&!Fe.isDomless()&&d.push("dvs:"+Qt.getDoc().visibilityState),a.iterate(function(e,t){var n=!t.props||le.isUndef(t.props.type),r=!t.props||t.props.type===me.IMPRESSION_EVENT;(n||r)&&d.push(e+":"+t.output())}),r.toString()&&d.push("e:"+r.toString()),d.push(i.output()),d.push("tt:"+ge.mode),d.push("thd:"+le.stringifyTriState(e.supportsVisAPI())),d.push("et:"+(Qt.now()-ge.birthdate)),ge.perf.mark("si"),i.on("swapids")?d.push("oid:"+ge.oid):d.push("uid:"+o.unq),d.push("v:19.8.206"),d.push("sp:"+(ge.isSplitMode?1:0)),d.push("st:"+(ge.staticMode?1:0)),d.push("fwm:"+("true"===ge.fwMonitoring?1:0)),i.on("resolution")&&(d.push("wr:"+le(Bt.windowSize()).toArray().join(".")),d.push("sr:"+le(Bt.screenSize()).toArray().join("."))),"NotFound"!==(r=function(){var e=String(ge.scriptUrl).toLowerCase(),t=e.indexOf("ias_xpc");return(e=-1<t?-1<(t=(e=e.substring(t+7+1)).indexOf("&"))?e.substring(0,t):e:"NotFound")||""}())&&d.push("x_xpc:"+r),t=d,pe.getAggregator().trigger("eligiblerender"),{primary:c,secondary:t}}(),i=le.encodeInvalidUrlChars(t.primary.join(","),ge.encodeInvalidUrlChars),a=0,(o=e).length+i.length+5<=n&&(o+=r(i),l.impressionIsIdentifiable(!0),le(t.secondary).each(function(e,t){t=le.encodeInvalidUrlChars(t,ge.encodeInvalidUrlChars);o.length+t.length+5<=n?o+=r(t):a+=1})),o+=",ov:"+a;function r(e){if(e)return","+e}var t,i,o,a},Or=function(e,o,a,s){function n(e){return-1!==e.key.indexOf("q")||-1!==e.key.indexOf("g")}var t,u=[];return e&&e.length&&(t=le(e).map(function(e,t){if(n(t))return t}),e=le(e).map(function(e,t){if(!n(t))return t}),le(t.concat(e)).each(function(e,t){var n=t.val,r=t.key,i=24+u.join("&").length+r.length+a;i=o-i,!(n=s&&i<n.length&&0<i?n.substr(0,i):n).length&&""!==t.val&&""!==t.type||(n="adsafe_url="+n+"&adsafe_type="+r,r=u.join("&").length,n.length+r<=o&&u.push(n))})),u},yr=function(a,s){return{start:function(){try{var e=(o=function(e,t,n){e===ge.asid&&(n.unshift(t),pe.getAggregator().trigger.apply(null,n))},{getMethod:function(n){return function(e){var t={asid:ge.asid,constant:me,features:n,context:Fe,dtBaseURL:ge.dtBaseURL,spg:Nr};"function"==typeof e&&e(o,t)}},getMethodName:function(e){return"register_"+e}}),t=e.getMethodName(a),n=new be(s.getEnabledScriptUrl(a)),r=Wt,i=Qt.getDoc();new r(i.body||i.head||i.documentElement,n).getWindow()[t]=e.getMethod(s)}catch(e){pe.getAggregator().trigger("error",me.ERROR_CODES.FEATURE_SCRIPT)}var o}}},wr=function(i){return{hash:function(){for(var e,t=0,n=i.length,r=[];t<n;t++)e=i[t].filename.replace(/\.plugin$/,""),e=nn.hashCode(e),e=le.toBase(e,62).slice(-4),r.push(e);return r},decode:function(e){var t=Qt.floor(Qt.random()*e.length),n=encodeURIComponent(i[t].filename.replace(/\.plugin$/,""));return[e[t],n]}}},Nr=function(n){var r=new o;r.listen(function(e){return e&&e.scaInfoOriginatorASID&&e.scaInfoOriginatorASID!==ge.asid&&e.cache&&n.allExpectedKeysPresent(e.cache)},function(e,t){r.stop(),Qt.setTimeout(function(){n.isDtCallAlreadySent()||(pe.getAggregator().trigger("addThrottledProp",me.DT_SLOT.FF,"spg",t.scaInfoOriginatorASID),le(t.cache).each(function(e,t){n.addToCache(e,t)}))},Qt.round(1e3*Qt.random()))}),pe.getAggregator().on("addToSpg",function(e,t){n.addToCache(t,e),n.isFull()&&(n.sendToOtherTags(),Qt.setTimeout(n.sendToOtherTags,1300),Qt.setTimeout(n.sendToOtherTags,3200))})},_r={name:"spg",dependencies:["spgCache"],creator:Nr,settings:{tier:me.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){return e.on("spg")}}},Rr={name:"spgCache",dependencies:[],creator:function(){function n(){return e(r)}function e(e){return le(e).keys().sort().toString()===t.toString()}var t="asp ch fsc mvn no sd".split(" "),r={},i=!1;return{allExpectedKeysPresent:e,isDtCallAlreadySent:function(){return i},addToCache:function(e,t){t&&t.output&&!n()&&(r[e]=t),n()&&(i||(i=!0,le(r).each(function(e,t){pe.getAggregator().trigger("addOutputItem",t,e,{type:me.DT_CODES.SCA,minDt:!0,sendOnce:!0})}),pe.getAggregator().trigger("sendMinDt",me.DT_CODES.SCA)))},isFull:n,sendToOtherTags:function(){(new b).send({scaInfoOriginatorASID:ge.asid,cache:r})}}},settings:{}};function br(){}try{e()}catch(e){__IntegralASDiagnosticCall("initialize",e,ge)}};

(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{QdLl:function(e,n,t){"use strict";var r=t("eVuF"),o=t.n(r),a=t("ln6h"),s=t.n(a),i=t("FAhR"),u=t.n(i),c=t("u0k+"),l=t("9E9K"),d=t("0ZHj"),b=t("4m1b"),p=t("5RYI"),f={getAdvertisementTrending:e=>(function(n){var t,r,a;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=b.a.advertisementQuery.loadAdvertisements(e),o.next=4,s.a.awrap(Object(p.a)(t));case 4:200!==(r=o.sent).status||r.data.errors?n(u.a.error({title:"Error get advertisement trending",message:"".concat(r.data.errors[0].message)})):(a=r.data.data&&r.data.data.searchListAdvertisements||[],n(Object(l.e)(c.a.FETCH_ADVERTISEMENT_TRENDING_SUCCESS,a))),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),n(u.a.error({title:"Error",message:"".concat(o.t0.toString())}));case 11:case"end":return o.stop()}}),null,null,[[0,8]],o.a)}),getPostAdvertisement:e=>(function(n){var t,r,a;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=b.a.advertisementQuery.loadAdvertisementsSponsored(e),o.next=4,s.a.awrap(Object(p.a)(t));case 4:200!==(r=o.sent).status||r.data.errors?n(u.a.error({title:"Error get advertisement sponsored",message:"".concat(r.data.errors[0].message)})):"logout"===r.data.status?n(d.a.logout()):(a=r.data.data&&r.data.data.searchListAdvertisementSponsored||[],n(Object(l.e)(c.a.FETCH_POST_ADVERTISEMENT_SUCCESS,a))),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),n(u.a.error({title:"Error",message:"".concat(o.t0.toString())}));case 11:case"end":return o.stop()}}),null,null,[[0,8]],o.a)})};n.a=f},RNiq:function(e,n,t){"use strict";t.r(n);var r=t("eVuF"),o=t.n(r),a=t("ln6h"),s=t.n(a),i=t("6BQ9"),u=t.n(i),c=t("q1tI"),l=t.n(c),d=t("a6RD"),b=t.n(d),p=t("nOHt"),f=t("cr+I"),m=t.n(f),g=t("/MKj"),v=t("65Qd"),h=t("5QL/"),C=t("QdLl"),P=t("KQIb"),O=t("L9Iq"),E=t("cnO6"),j=t("R5x4"),w=t("v0uu"),y=t("77wQ"),k=t("KiGI"),_=t("kKES"),T=t("OZ8X"),S=t("gnED"),M=t("MXW5"),x=t("aCTP"),G=l.a.createElement,A=b()((function(){return Promise.all([t.e(0),t.e(15)]).then(t.bind(null,"TzbF"))}),{loadableGenerated:{webpack:function(){return["TzbF"]},modules:["components/GeneralComponents/PostItem"]}}),R=b()((function(){return Promise.resolve().then(t.bind(null,"+2sF"))}),{loadableGenerated:{webpack:function(){return["+2sF"]},modules:["components/GeneralComponents/CustomizeCategory"]}}),D=b()((function(){return t.e(7).then(t.bind(null,"JbQ0"))}),{loadableGenerated:{webpack:function(){return["JbQ0"]},modules:["components/GeneralComponents/LoadMoreComponent"]}}),I=b()((function(){return t.e(10).then(t.bind(null,"VKBT"))}),{loadableGenerated:{webpack:function(){return["VKBT"]},modules:["components/GeneralComponents/Empty"]}}),H=b()((function(){return Promise.all([t.e(0),t.e(101)]).then(t.bind(null,"Y3M2"))}),{loadableGenerated:{webpack:function(){return["Y3M2"]},modules:["components/GeneralComponents/Community/CommunityUserTrending"]}}),L=b()((function(){return t.e(3).then(t.bind(null,"qnC3"))}),{loadableGenerated:{webpack:function(){return["qnC3"]},modules:["components/GeneralComponents/Modal/ReportModal"]}}),U=b()((function(){return t.e(114).then(t.bind(null,"DYDY"))}),{loadableGenerated:{webpack:function(){return["DYDY"]},modules:["components/GeneralComponents/Advertisement/AdvertisementTrending"]}}),F=b()((function(){return t.e(4).then(t.bind(null,"m5KH"))}),{loadableGenerated:{webpack:function(){return["m5KH"]},modules:["components/GeneralComponents/Loading/PostLoadMoreLoading"]}}),N=b()((function(){return t.e(8).then(t.bind(null,"baa9"))}),{loadableGenerated:{webpack:function(){return["baa9"]},modules:["components/GeneralComponents/Loading/PostLoading"]}}),Q=b()((function(){return t.e(155).then(t.bind(null,"IEcB"))}),{loadableGenerated:{webpack:function(){return["IEcB"]},modules:["components/GeneralComponents/Schema/Home"]}}),q=b()((function(){return t.e(0).then(t.bind(null,"OL+C"))}),{loadableGenerated:{webpack:function(){return["OL+C"]},modules:["components/GeneralComponents/GeneratorSeo"]}}),Y=b()((function(){return Promise.all([t.e(0),t.e(16)]).then(t.bind(null,"GYP7"))}),{loadableGenerated:{webpack:function(){return["GYP7"]},modules:["components/GeneralComponents/CommunityRankingBlock"]}}),K=0,B=Object(c.memo)((function(e){var n,t=Object(p.useRouter)(),r=Object(g.useDispatch)(),o=Object(c.useContext)(v.a),a=Object(T.e)(o),s=Object(c.useRef)(),i=Object(g.useSelector)((function(e){return{user:e.auth&&e.auth.user||null,categories:e.category&&e.category.categories||[],viewMore:!!e.fetching&&e.fetching.viewMore,loading:!!e.fetching&&e.fetching.isLoading}})),l=(null===t||void 0===t?void 0:null===(n=t.query)||void 0===n?void 0:n.cat)||"",d=Object(g.useSelector)(Object(E.e)(l)),b=Object(c.useCallback)((function(e,n,t){return r(P.a.viewMoreTrendingPost(e,n,t))}),[r]),f=Object(c.useCallback)((function(e,n){return r(P.a.viewMoreTrendingPostBack(e,n))}),[r]),h=Object(c.useCallback)((function(e){return r(O.a.getCommunityByUser(e))}),[r]),C=Object(c.useCallback)((function(){return r(P.a.loadPostsData())}),[r]);Object(c.useEffect)((function(){C(),i.user&&h(j.a.searchCommunity(null,i.user.id,null,null,w.Yb))}),[]);var M=Object(c.useState)(!1),x=M[0],B=M[1],V=Object(c.useState)(null),z=V[0],X=V[1],J=Object(c.useState)(w.Tb),W=J[0],Z=J[1],$=Object(c.useState)(!1),ee=$[0],ne=$[1],te=Object(c.useState)(),re=te[0],oe=te[1],ae=Object(c.useState)(null),se=ae[0],ie=ae[1];Object(c.useEffect)((function(){re!==window.location.pathname&&oe(window.location.pathname)})),Object(c.useEffect)((function(){Z(1);var e=ue.find((function(e){return e.url===re}));e&&ie(e)}),[re]);Object(c.useEffect)((function(){K++;var e,n=t.query.page;if(u()(n)>5&&1===W&&n&&W<u()(n)&&1===K){var r=JSON.parse(localStorage.getItem("trendingPosts"));(function(e,n){ne(!0);var t=(n-1)*w.Ub;f(e,t),setTimeout((function(){return ne(!1)}),500)})(r=r.slice(w.Ub),n),e=n,Z(u()(e))}}),[]);var ue=_.b.trendingTabs(i.categories);ue=ue.filter((function(e){return"ngoi-nha-webtretho"!==e.code&&"giao-dich"!==e.code}));var ce=function(e,n){return G("div",{key:e},G(A,{cssClass:"".concat(n.trendingPositionPicked?"ga-trending-picked-post-".concat(n.trendingPositionPicked):""),isMobile:a,index:e,data:n,community:n.community||null,handleReportModal:function(){return X(n.id),void B(!0)},isGetCommunityUsers:!0,isSponsored:!!n.sponsoreds&&n.sponsoreds}),G("div",{className:"mb__10"}),e===w.p?a?G(Y,{data:le,isMobile:!0}):G(H,{position:e,isMobile:a}):null)},le={route:null===t||void 0===t?void 0:t.route,categoryId:null};return G(k.default,{title:"Di\u1ec5n \u0111\xe0n Webtretho",hiddenFooter:a,refElement:s,hiddenAds:!1,dataAdvertisement:y.b,activeChildrenPage:!0,childrenPage:e.categorySlug?"/".concat(e.categorySlug):null,dataTabs:ue,device:o.currentDevice,topContent:G("div",{className:"mt__10"},G(U,{customizeSlideClass:"mx__0 ad-trending-desktop wtt-events-box-desktop",showSubTitle:!1,isMobile:a})),leftContent:G(Y,{data:le,hasContentOver:!0}),showUserRank:!0,schema:G(Q,null),idAds:a?Object(S.a)(y.b,"isMobile"):Object(S.a)(y.b),isLoadingPersist:e.isLoadingPersist?e.isLoadingPersist:null},G("div",null,G(q,{type:w.Ec.seoType.Normal,keyCurrentCategory:null===se||void 0===se?void 0:se.key,title:null===se||void 0===se?void 0:se.title}),a?G(c.Fragment,null,G(R,{data:ue,customizeclass:"cate-wrap"}),G("div",{className:"mt__10"},G(U,{isMobile:a,slidesInfinite:!0,customizeSlideClass:"ad-trending-desktop space-carousel wtt-events-box-mobile"})),G("div",{className:"mb__10"})):null,i.loading?G(N,{isMobile:a}):G(D,{currentPage:W,hasMore:i.viewMore&&!ee,handleLoadMore:function(){ne(!0);var n=t.query.page,r=n&&W<u()(n)?u()(n)+1:W+1,o=j.a.searchTrendingPost(null,e.categorySlug,null,null,null,r);Z(r),b(o,i.user?i.user.id:null,w.Ub),function(){var e=t.query.page,n=e&&W<u()(e)?u()(e)+1:W+1,r=m.a.parse(location.search);r.page=n;var o=m.a.stringify(r);history.pushState({page:n},null,"?".concat(o))}(),setTimeout((function(){return ne(!1)}),500)},loadingStatus:ee,loadingComponent:G(F,{isMobile:a}),parentRef:s},d&&d.length>0?d.map((function(e,n){return ce(n,e)})):G(I,{title:"Hi\u1ec7n kh\xf4ng c\xf3 b\xe0i vi\u1ebft!"})),G(L,{onClose:function(){B(!1),X(null)},visible:x,referenceId:z,reasonType:w.Mc.ReasonReportType.PostAndComment,reportType:w.Mc.reportTypes.post})))}));B.getInitialProps=function(e){var n,t,r,a,i,u,c,l,d;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.store,t=e.query,r=Object(M.d)(e),a=t.page,i=r?r.id:null,a>1&&a<6?(c=a*w.Ub,null,u=j.a.searchTrendingPost(null,t.cat,i,null,null,null,c,null,null)):(u=j.a.searchTrendingPost(null,t.cat,i),c=w.Ub),o.next=7,s.a.awrap(n.dispatch(P.a.getTrendingPosts(u,r?r.id:null,c)));case 7:return l=[w.Ec.advertisementMode.Event,w.Ec.advertisementMode.General,w.Ec.advertisementMode.Promotion],d=j.a.searchAdvertisements(l,w.Ec.advertisementDetailPosition.Trending,w.Ec.advertisementDetailMode.Native),o.next=11,s.a.awrap(n.dispatch(C.a.getAdvertisementTrending(d)));case 11:return o.next=13,s.a.awrap(n.dispatch(x.a.getCategories(j.a.searchCategories())));case 13:return o.abrupt("return",{categorySlug:t.cat});case 14:case"end":return o.stop()}}),null,null,null,o.a)},n.default=Object(h.a)(B)},aCTP:function(e,n,t){"use strict";var r=t("eVuF"),o=t.n(r),a=t("ln6h"),s=t.n(a),i=t("u0k+"),u=t("4m1b"),c=t("5RYI"),l=t("FAhR"),d=t.n(l),b=t("0ZHj"),p=t("9E9K"),f=t("MXW5"),m={[t("4QmT").f.corona]:function(e){var n=e.context;return function(e){var t,r;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,s.a.awrap(Object(c.a)(u.a.categoryQuery.coronaExcludedCategories,Object(f.c)(n)));case 3:t=o.sent,(r=t.data)&&e(Object(p.e)(i.a.FETCH_EXCLUDED_CATEGORIES,r.data.coronaExcludedCategories)),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),e(d.a.error({title:"Error",message:"".concat(o.t0.toString())}));case 11:case"end":return o.stop()}}),null,null,[[0,8]],o.a)}}},g={getCategories:e=>(function(n){var t,r;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=u.a.categoryQuery.getCategories(e),o.next=4,s.a.awrap(Object(c.a)(t));case 4:if(200!==(r=o.sent).status||r.data.errors){o.next=14;break}if("logout"!==r.data.status){o.next=10;break}n(b.a.logout()),o.next=12;break;case 10:return n(Object(p.e)(i.a.FETCH_CATEGORIES_SUCCESS,r.data.data.categories)),o.abrupt("return",r.data.data.categories);case 12:o.next=15;break;case 14:n(Object(p.h)(r.data.errors));case 15:o.next=20;break;case 17:o.prev=17,o.t0=o.catch(0),n(d.a.error({title:"Error",message:"".concat(o.t0.toString())}));case 20:case"end":return o.stop()}}),null,null,[[0,17]],o.a)}),getExcludedCategories(e){var n=e.context,t=n.query;return m[t.slug]({context:n})}};n.a=g},cnO6:function(e,n,t){"use strict";t.d(n,"b",(function(){return g})),t.d(n,"c",(function(){return v})),t.d(n,"e",(function(){return h})),t.d(n,"d",(function(){return C})),t.d(n,"a",(function(){return P}));var r=t("G4qV"),o=t("algg"),a=t("dguP"),s=t("LnZY"),i=function(e){return e.post.posts},u=function(e){return e.post.trendingPosts},c=function(e){return e.advertisement.adsPosts},l=function(e){return e.auth.user},d=function(e){return e.userComment.userHiddenPosts},b=function(e){return e.userComment.userCreatePosts},p=function(e){return e.profile.profile},f=function(e,n){if(!n)return e;var t=[];return n&&e.map((function(e){var n=e.community;n&&!n.isAdult&&t.push(e)})),t},m=function(e){var n=e.posts,t=e.sponsoredPosts,r=e.adPosition,o=e.userHiddenPosts,a=e.trendingPostPicked;return Object(s.mergePostWithAds)({posts:n,userHiddenPosts:o,sponsoredPosts:t,adPosition:r,trendingPostPicked:a})},g=function(){return Object(r.a)([i,l,d],(function(e,n,t){return function(e,n,t){if(!e||0===e.length)return[];var r=Object(o.o)(n),a=f(e,!r);return m({posts:a,userHiddenPosts:t})}(e,n,t)}))},v=function(){return Object(r.a)([i,l,p,b,d],(function(e,n,t,r,i){return function(e,n,t,r,i){if(!e||0===e.length)return[];var u=Object(o.o)(n),c=f(e,!u);return(c=Object(s.mergePostWithAds)({posts:c,userCreatePosts:r,userHiddenPosts:i,currentUser:t?t.user:null}))&&c.length>0?c.sort(Object(a.m)("publishedAt")).reverse():[]}(e,n,t,r,i)}))},h=function(){return Object(r.a)([u,d],(function(e,n){return n&&n.length>0&&n.map((function(n){var t=e.findIndex((function(e){return e.id===n.id}));t>=0&&e.splice(t,1)})),e}))},C=function(e,n){return Object(r.a)([i,c,d],(function(t,r,o){return m({posts:t,sponsoredPosts:n?[]:r,userHiddenPosts:o,adPosition:e})}))},P=function(){return Object(r.a)([i,d],(function(e,n){return n&&n.length>0&&n.map((function(n){var t=e.findIndex((function(e){return e.id===n.id}));t>=0&&e.splice(t,1)})),e}))}},gnED:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o}));var r=function(e,n){var t,r;if(e&&(null===e||void 0===e?void 0:e.Mobile_Header)&&(null===e||void 0===e?void 0:e.Top_Header))return"google_ads_iframe_".concat("isMobile"===n?(null===e||void 0===e?void 0:null===(r=e.Mobile_Header)||void 0===r?void 0:r.adUnit)||"":(null===e||void 0===e?void 0:null===(t=e.Top_Header)||void 0===t?void 0:t.adUnit)||"","_0__container__")},o=function(e){var n=e.adsDetail,t=e.positionMobile,r=e.positionDesktop,o=e.env;if(n&&n[t]&&n[r])return"google_ads_iframe_".concat(o&&"isMobile"===o?n[t].adUnit||"":n[r].adUnit||"","_0__container__")}},vlRD:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t("RNiq")}])}},[["vlRD",1,0]]]);
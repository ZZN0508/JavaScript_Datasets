(window.webpackJsonp=window.webpackJsonp||[]).push([[391],{1457:function(e,a,t){"use strict";t.r(a),t.d(a,"loadSource",(function(){return E})),t.d(a,"amznRequestBids",(function(){return A}));var n=t(6),r=t.n(n),o=t(72),d=t.n(o),i=t(11),c=t.n(i),s=t(113),l=t.n(s),u=t(5),p=t(1140),g=t.n(p),b=t(62),w=t(778),f=t(776),m=t(1175),y=t(770),S=t(18),B=t(1134),h=t(780);const D=Object(S.createLogger)("amazonHeaderBidder-saga");function*E(){const e=yield Object(u.i)(w.h),a=yield Object(u.i)(h.b);!g()(e)&&a&&(yield Object(u.c)(y.a,m.b.AMAZON_HEADER_BIDDER.script,{async:""}))}function A(e,{config:a,screenSize:t,allowAmazon:n,adModules:o=[],requestManager:i,mrTimeout:s}){var u;D.debug("Start of amznRequestBids",JSON.parse(l()(i))),D.debug("amznHdBid timeout = ",s);let p=(null==a||null===(u=a.slots)||void 0===u?void 0:u[t])||[];const g=s||f.a,w=c()(o).call(o,e=>{const{props:{id:a}}=e;return a});if(p=d()(p).call(p,e=>r()(w).call(w,e.slotID)),p.length){if(!window.apstag){const e=function(e,a){window.apstag._Q.push([e,a])};window.apstag={init:(...a)=>{e("i",a)},fetchBids:(...a)=>{e("f",a)},setDisplayBids:()=>{},_Q:[]}}window.apstag.allowBidders=n,window.apstag.init({pubID:null==a?void 0:a.pubId,adServer:"googletag",videoAdServer:"DFP",bidTimeout:g}),window.apstag.allowBidders?(performance.mark("AMAZON-HEADER-BIDDER_MARK_BID-START"),window.apstag.slots=p,window.apstag.fetchBids({slots:p},()=>{window.apstag.setDisplayBids(),i.atf.amzn=!0,Object(B.b)(D,"AMAZON-HEADER-BIDDER_MARK_BID-FINISH"),D.debug("amznHdBid callback",JSON.parse(l()(i))),i.atf.amzn&&i.atf.prebid&&i.atf.criteoSlot&&e(b.a)})):(i.atf.amzn=!0,i.atf.amzn&&i.atf.prebid&&i.atf.criteoSlot&&e(b.a))}else i.atf.amzn=!0}},770:function(e,a,t){"use strict";t.d(a,"a",(function(){return u})),t.d(a,"b",(function(){return p}));t(42);var n=t(10),r=t.n(n),o=t(8),d=t.n(o),i=t(38),c=t.n(i),s=t(18);const l=Object(s.createLogger)("script-loader"),u=(e,a={})=>new c.a(t=>{var n;const o=document.createElement("script");o.type="text/javascript",o.src=e,d()(n=r()(a)).call(n,e=>{o[e]=a[e]}),o.onerror=()=>{a.onerror&&(l.debug(a.onerror,"Calling onerror attribute for script "+e),a.onerror()),l.error("Error occurred loading script "+e),t()},o.onload=()=>{var n;(n=o).readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(a.onload&&(l.debug(a.onload,"Calling onload attribute for script "+e),a.onload()),l.debug("Successfully loaded script "+e),t())},o.readyState&&(o.onreadystatechange=()=>{"loaded"!==o.readyState&&"complete"!==o.readyState||(a.onreadystatechange&&(l.debug(a.onreadystatechange,"Calling onreadystatechange attribute for script "+e),a.onreadystatechange()),t())}),l.debug("Loading script "+e),document.getElementsByTagName("head")[0].appendChild(o)}),p=(e,a)=>new c.a(t=>{const n="jsonp_callback_"+Math.round(1e5*Math.random()),r=document.createElement("script"),o=e.replace(/=\?/,"="+n);window[n]=e=>{window[n]=null,l.debug("Successful callback for "+o),t(e)},r.async=a,r.src=o,r.onerror=()=>{l.error("Error occurred loading script "+o),t()},l.debug("Loading script "+o),document.getElementsByTagName("head")[0].appendChild(r)})}}]);
//# sourceMappingURL=391.amznHdBid.075c444c129b3912a0af.js.map
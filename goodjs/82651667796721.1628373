var Hogan={};!function(t){function e(t){return String(null==t?"":t)}t.Template=function(t,n,r,e){this.r=t||this.r,this.c=r,this.options=e,this.text=n||"",this.buf=""},t.Template.prototype={r:function(t,n,r){return""},v:function(t){return t=e(t),u.test(t)?t.replace(n,"&").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&#39;").replace(c,"&quot;"):t},t:e,render:function(t,n,r){return this.ri([t],n||{},r)},ri:function(t,n,r){return this.r(t,n,r)},rp:function(t,n,r,e){t=r[t];return t?(t=this.c&&"string"==typeof t?this.c.compile(t,this.options):t).ri(n,r,e):""},rs:function(t,n,r){var e=t[t.length-1];if(s(e))for(var i=0;i<e.length;i++)t.push(e[i]),r(t,n,this),t.pop();else r(t,n,this)},s:function(t,n,r,e,i,o,c){return(!s(t)||0!==t.length)&&(c=""===(t="function"==typeof t?this.ls(t,n,r,e,i,o,c):t)||!!t,!e&&c&&n&&n.push("object"==typeof t?t:n[n.length-1]),c)},d:function(t,n,r,e){var i=t.split("."),o=this.f(i[0],n,r,e),c=null;if("."===t&&s(n[n.length-2]))return n[n.length-1];for(var u=1;u<i.length;u++)o=o&&"object"==typeof o&&i[u]in o?(c=o)[i[u]]:"";return!(e&&!o)&&(e||"function"!=typeof o||(n.push(c),o=this.lv(o,n,r),n.pop()),o)},f:function(t,n,r,e){for(var i,o=!1,c=!1,u=n.length-1;0<=u;u--)if((i=n[u])&&"object"==typeof i&&t in i){o=i[t],c=!0;break}return c?e||"function"!=typeof o?o:this.lv(o,n,r):!e&&""},ho:function(t,n,r,e,i){var o=this.c,c=this.options;return c.delimiters=i,e=null==(e=t.call(n,e))?String(e):e.toString(),this.b(o.compile(e,c).render(n,r)),!1},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ls:function(t,n,r,e,i,o,c){var u=n[n.length-1],n=null;if(!e&&this.c&&0<t.length)return this.ho(t,u,r,this.text.substring(i,o),c);if("function"==typeof(n=t.call(u))){if(e)return!0;if(this.c)return this.ho(n,u,r,this.text.substring(i,o),c)}return n},lv:function(t,n,r){n=n[n.length-1],t=t.call(n);return"function"==typeof t&&(t=e(t.call(n)),this.c&&~t.indexOf("{{"))?this.c.compile(t,this.options).render(n,r):e(t)}};var n=/&/g,r=/</g,i=/>/g,o=/\'/g,c=/\"/g,u=/[&<>\"\']/,s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(e){function m(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function A(t,n,r){if(n.charAt(r)==t.charAt(0)){for(var e=1,i=t.length;e<i;e++)if(n.charAt(r+e)!=t.charAt(e))return;return 1}}function u(t,n,r,e){for(var i=[],o=null,c=null;0<t.length;)if("#"==(c=t.shift()).tag||"^"==c.tag||function(t,n){for(var r=0,e=n.length;r<e;r++)if(n[r].o==t.n)return t.tag="#",!0}(c,e))r.push(c),c.nodes=u(t,c.tag,r,e),i.push(c);else{if("/"==c.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+c.n);if(o=r.pop(),c.n!=o.n&&!function(t,n,r){for(var e=0,i=r.length;e<i;e++)if(r[e].c==t&&r[e].o==n)return!0}(c.n,o.n,e))throw new Error("Nesting error: "+o.n+" vs. "+c.n);return o.end=c.i,i}i.push(c)}if(0<r.length)throw new Error("missing closing tag: "+r.pop().n);return i}function g(t){return t.replace(o,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(i,"\\r")}function p(t){return~t.indexOf(".")?"d":"f"}function v(t){for(var n,r,e,i,o,c,u,s,f="",h=0,l=t.length;h<l;h++){var a=t[h].tag;"#"==a?f+=(e=t[h].nodes,i=t[h].n,o=p(t[h].n),c=t[h].i,u=t[h].end,s=t[h].otag+" "+t[h].ctag,"if(_.s(_."+o+'("'+g(i)+'",c,p,1),c,p,0,'+c+","+u+',"'+s+'")){_.rs(c,p,function(c,p,_){'+v(e)+"});c.pop();}"):"^"==a?f+=(r=t[h].nodes,e=t[h].n,"if(!_.s(_."+p(t[h].n)+'("'+g(e)+'",c,p,1),c,p,1,0,0,"")){'+v(r)+"};"):"<"==a||">"==a?f+='_.b(_.rp("'+g((r=t[h]).n)+'",c,p,"'+(r.indent||"")+'"));':"{"==a||"&"==a?f+=(n=t[h].n,"_.b(_.t(_."+p(t[h].n)+'("'+g(n)+'",c,p,0)));'):"\n"==a?f+=d('"\\n"'+(t.length-1==h?"":" + i")):"_v"==a?f+=(n=t[h].n,"_.b(_.v(_."+p(t[h].n)+'("'+g(n)+'",c,p,0)));'):void 0===a&&(f+=d('"'+g(t[h])+'"'))}return f}function d(t){return"_.b("+t+");"}var x=/\S/,n=/\"/g,r=/\n/g,i=/\r/g,o=/\\/g,w={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};e.scan=function(t,n){function i(){0<g.length&&(p.push(new String(g)),g="")}function r(t,n){if(i(),t&&function(){for(var t=!0,n=b;n<p.length;n++)if(!(t=p[n].tag&&w[p[n].tag]<w._v||!p[n].tag&&null===p[n].match(x)))return;return t}())for(var r,e=b;e<p.length;e++)p[e].tag||((r=p[e+1])&&">"==r.tag&&(r.indent=p[e].toString()),p.splice(e,1));else n||p.push({tag:"\n"});v=!1,b=p.length}var e,o,c,u,s,f,h=t.length,l=0,a=null,g="",p=[],v=!1,d=0,b=0,_="{{",y="}}";for(n&&(n=n.split(" "),_=n[0],y=n[1]),d=0;d<h;d++)0==l?A(_,t,d)?(--d,i(),l=1):"\n"==t.charAt(d)?r(v):g+=t.charAt(d):1==l?(d+=_.length-1,l="="==(a=(e=w[t.charAt(d+1)])?t.charAt(d+1):"_v")?(u=d,f=s=void 0,s="="+y,f=(c=t).indexOf(s,u),u=m(c.substring(c.indexOf("=",u)+1,f)).split(" "),_=u[0],y=u[1],d=f+s.length-1,0):(e&&d++,2),v=d):A(y,t,d)?(p.push({tag:a,n:m(g),otag:_,ctag:y,i:"/"==a?v-y.length:d+_.length}),g="",d+=y.length-1,l=0,"{"==a&&("}}"==y?d++:"}"===(o=p[p.length-1]).n.substr(o.n.length-1)&&(o.n=o.n.substring(0,o.n.length-1)))):g+=t.charAt(d);return r(v,!0),p},e.generate=function(t,n,r){t='var _=this;_.b(i=i||"");'+v(t)+"return _.fl();";return r.asString?"function(c,p,i){"+t+";}":new e.Template(new Function("c","p","i",t),n,e,r)},e.parse=function(t,n,r){return u(t,0,[],(r=r||{}).sectionTags||[])},e.cache={},e.compile=function(t,n){var r=t+"||"+!!(n=n||{}).asString,e=this.cache[r];return e||(e=this.generate(this.parse(this.scan(t,n.delimiters),t,n),t,n),this.cache[r]=e)}}("undefined"!=typeof exports?exports:Hogan);

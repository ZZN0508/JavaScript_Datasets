!function(){var p={isMg:!1,clientId:307824,siteId:6864,statPath:"/adunit/mut",unit:{id:16592,bids:[{id:6515,bidder:"automatadC",mkp:!0,adj:.85,rs:.83,params:{placementId:19449151},overrideId:2177144},{id:9553,bidder:"criteo",mkp:!0,adj:.9,rs:.75,params:{zoneId:"1422722"},overrideId:2112444},{id:14408,bidder:"onetag",mkp:!0,adj:.9,rs:.9,params:{pubId:"59a18369e249bfb"},overrideId:2112253,geo:{type:"block",list:{UZ:1,VE:1,AM:1,TJ:1,KG:1,ID:1,CN:1,AL:1,NG:1,IR:1,MN:1,GH:1,LK:1,MO:1,NP:1,BA:1,MM:1,ZW:1,TZ:1,ET:1,HN:1,SV:1,TM:1,VG:1,ZM:1,AF:1,BN:1,GU:1,NI:1,RW:1,MV:1,JE:1,BZ:1,CI:1,LC:1,GQ:1,GD:1,BJ:1,SD:1,LY:1,LA:1,MZ:1,MC:1,AG:1,RE:1,GG:1,SR:1,MW:1,HT:1,FJ:1,SO:1,GP:1,TG:1,GM:1,CG:1,PG:1,MG:1,SL:1,AI:1,SX:1,BF:1,SS:1,BT:1,ML:1,DM:1,PF:1,AD:1,FO:1,NC:1,SC:1,YE:1,TC:1,LI:1,MP:1,GN:1,AS:1,CV:1,LS:1,GF:1,ER:1,BQ:1,NE:1,MR:1,DJ:1,MF:1,CU:1,GL:1,VU:1,WS:1,SB:1,PW:1,MS:1,BI:1,YT:1,TO:1,CK:1,TD:1,MH:1,KI:1,KM:1,CF:1,GW:1,IO:1,NR:1,ST:1,PM:1,TV:1,NF:1,KR:1,TK:1,CX:1,AQ:1,WF:1,SJ:1,CC:1,PN:1,NU:1,RS:1,GE:1,UY:1,BD:1,LB:1,EG:1,AZ:1,MK:1,PK:1,DO:1,TN:1,MY:1,UG:1,PH:1,TH:1}}},{id:14416,bidder:"improvedigital",mkp:!0,adj:.8,rs:.85,params:{placementId:22296314},overrideId:2112413,geo:{type:"white",list:{LV:1,FI:1,PT:1,DE:1,CH:1,NO:1,SK:1,BE:1,IT:1,PL:1,IE:1,AZ:1,AT:1,NL:1,US:1,GB:1,EE:1,CA:1,CZ:1,SE:1,LT:1,ES:1,DK:1,FR:1}}},{id:14647,bidder:"rtbhouse",mkp:!0,adj:1,rs:.85,params:{publisherId:"f7tRggCNvKnqLxaIp8gJ",region:"prebid-eu",bidfloor:"0.05"},overrideId:2112258}]},pubRev:1,useStaticDomain:"1",domain:"delivercdn.com",enhanceBid:1,bidCeil:null,pubId:307825,cur:{EUR:.893324,GBP:.795967,ILS:3.47013,RUB:68.861,TRY:6.76432,UAH:26.7408,USD:1,_cur:"USD"},timeout:1500,geoEdgeIds:[]};let a=1===p.isSpecial,e=p.AB;if(e&&1===e.enabled&&e.percent<100&&100*Math.random()>e.percent)return;let t="vpb";a&&(t="_vps_");let l=window[t]||{};if(l.apiReady)return;l.apiReady=!0,a||(window[t]||(window[t]={}),l=window[t]);var n,r=[function(){function d(e){const t={};return t.sizes=function(t){const n=[];let r={};if(f.isArray(t)&&2===t.length&&!f.isArray(t[0]))r.width=parseInt(t[0],10),r.height=parseInt(t[1],10),n.push(r);else if("object"==typeof t)for(let e=0;e<t.length;e++){var i=t[e];(r={}).width=parseInt(i[0],10),r.height=parseInt(i[1],10),n.push(r)}return n}(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placementId?t.id=parseInt(e.params.placementId,10):t.code=e.params.invCode,t.allow_smaller_sizes=e.params.allowSmallerSizes||!1,t.use_pmt_rule=e.params.usePaymentRule||!1,t.prebid=!0,t.disable_psa=!0,t.ad_types.push("banner"),t}return{code:"appnexus",aliases:["appnexusAst","brealtime","emxdigital","pagescience","defymedia","gourmetads","matomy","featureforward","oftmedia","districtm","adasta","automatadC"],buildRequests:function(e,t){const n=e.map(d),r=e[0].schain,i={tags:[...n],user:{},sdk:{source:"pbjs",version:"3.10.0"},schain:r};if(t&&t.gdprConsent&&(i.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(i.us_privacy=t.uspConsent),t&&t.refererInfo){const o={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(e=>encodeURIComponent(e)).join(",")};i.referrer_detection=o}return e=i,t=t,{method:"POST",url:"https://ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(e),bidIds:e.tags.map(e=>e.uuid),bidderRequest:t}},interpretResponse:function(t,{bidderRequest:n}){const r=[];if((t=t.body)&&!t.error)return t.tags&&t.tags.forEach(e=>{var t=(i=e)&&i.ads&&i.ads.length&&f.find(i.ads,e=>e.rtb);if(t&&0!==t.cpm){const i=function(t,e,n){const r=f.find(n.bids,function(e){return t.uuid===e.bidId}),i={requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:r.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};e.advertiser_id&&(i.meta=Object.assign({},i.meta,{advertiserId:e.advertiser_id})),Object.assign(i,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{const t=e.rtb.trackers[0].impression_urls[0],n=f.createTrackPixelHtml(t);i.ad+=n}catch(t){f.log("Error appending tracking pixel",t)}return i}(e,t,n);i.mediaType="banner",r.push(i)}}),r;var i;{let e=`in response for ${n.bidderCode} adapter`;return t&&t.error&&(e+=`: ${t.error}`),f.log(e),r}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]}}},function(){function o(e){return e[0]+"x"+e[1]}return{code:"criteo",gvlid:91,buildRequests:(e,r)=>{const i=function(e){let t="";r&&r.refererInfo&&(t=r.refererInfo.referer);const n={url:t,debug:!1,noLog:!1,amp:!1};return e.forEach(e=>{"amp"===e.params.integrationMode&&(n.amp=!0)}),n}(e),t=function(e){let t="https://bidder.criteo.com/cdb";return t+="?profileId=207",t+="&av="+String(31),t+="&wv="+encodeURIComponent("3.22"),t+="&cb="+String(Math.floor(99999999999*Math.random())),e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1"),t}(i),n=function(e,t){let r;const n={publisher:{url:i.url,ext:t.publisherExt},slots:e.map(e=>{r=e.params.networkId||r;const t={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};return e.params.zoneId&&(t.zoneid=e.params.zoneId),e.fpd&&e.fpd.context&&(t.ext=e.fpd.context),e.params.ext&&(t.ext=Object.assign({},t.ext,e.params.ext)),e.params.publisherSubId&&(t.publishersubid=e.params.publisherSubId),t.sizes=(e=f.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes,n=o,Array.isArray(e[0])?e.map(e=>n(e)):[n(e)]),t;var n})};return r&&(n.publisher.networkid=r),n.user={ext:t.userExt},t&&t.ceh&&(n.user.ceh=t.ceh),t&&t.gdprConsent&&(n.gdprConsent={},void 0!==t.gdprConsent.gdprApplies&&(n.gdprConsent.gdprApplies=!!t.gdprConsent.gdprApplies),n.gdprConsent.version=t.gdprConsent.apiVersion,void 0!==t.gdprConsent.consentString&&(n.gdprConsent.consentData=t.gdprConsent.consentString)),t&&t.uspConsent&&(n.user.uspIab=t.uspConsent),n}(e,r);if(n)return{method:"POST",url:t,data:JSON.stringify(n),bidRequests:e,bidIds:e.map(e=>e.bidId)}},interpretResponse:(e,r)=>{const t=e.body||e,i=[];return t&&t.slots&&f.isArray(t.slots)&&t.slots.forEach(t=>{const e=f.find(r.bidRequests,e=>e.adUnitCode===t.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===t.zoneid)).bidId,n={requestId:e,cpm:t.cpm,currency:t.currency,netRevenue:!0,ttl:t.ttl||60,creativeId:e,width:t.width,height:t.height,dealId:t.dealCode};n.ad=t.creative,i.push(n)}),i}}},function(){return{version:"6.1.0",code:"improvedigital",aliases:["id"],buildRequests:function(e,t){const n=e.map(l=>function(){var e=l.adUnitCode||null,t=l.params.placementId||null;let n=null,r=null;null===t&&(n=l.params.publisherId||null,r=l.params.placementKey||null);const i=l.params.keyValues||null,o=l.params.size||null,d=l.bidId,s=l.transactionId,a=l.params.bidFloor,c=l.params.bidFloorCur,u={};return t?u.placementId=t:(n&&(u.publisherId=n),r&&(u.placementKey=r)),i&&(u.keyValues=i),o&&o.w&&o.h&&(u.size={},u.size.h=o.h,u.size.w=o.w),d&&(u.id=d),e&&(u.adUnitId=e),s&&(u.transactionId=s),u.currency="USD",a&&(u.bidFloor=a,u.bidFloorCur=c?c.toUpperCase():"USD"),u}()),r=new function(e){this.CONSTANTS={AD_SERVER_BASE_URL:"ice.360yield.com",END_POINT:"hb",AD_SERVER_URL_PARAM:"jsonp=",CLIENT_VERSION:"JS-6.3.0",MAX_URL_LENGTH:2083,ERROR_CODES:{MISSING_PLACEMENT_PARAMS:2,LIB_VERSION_MISSING:3},RETURN_OBJ_TYPE:{DEFAULT:0,URL_PARAMS_SPLIT:1}},this.getErrorReturn=function(e){return{idMappings:{},requests:{},errorCode:e}},this.createRequest=function(t,n,r){if(!n.libVersion)return this.getErrorReturn(this.CONSTANTS.ERROR_CODES.LIB_VERSION_MISSING);n.returnObjType=n.returnObjType||this.CONSTANTS.RETURN_OBJ_TYPE.DEFAULT,n.adServerBaseUrl="https://"+(n.adServerBaseUrl||this.CONSTANTS.AD_SERVER_BASE_URL);const i=[];let o;if(f.isArray(t))for(let e=0;e<t.length;e++)o=this.createImpressionObject(t[e]),i.push(o);else o=this.createImpressionObject(t),i.push(o);let d=!0;n.returnObjType===this.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT&&(d=!1);const s={requests:[]};d&&(s.idMappings=[]);let e=null;var a=`${n.adServerBaseUrl}/${this.CONSTANTS.END_POINT}?${this.CONSTANTS.AD_SERVER_URL_PARAM}`;let c={bid_request:this.createBasicBidRequestObject(n,r)};for(let t=0;t<i.length;t++)if((o=i[t]).errorCode)(e=e||[]).push({errorCode:o.errorCode,adUnitId:o.adUnitId});else{d&&s.idMappings.push({adUnitId:o.adUnitId,id:o.impressionObject.id}),c.bid_request.imp=c.bid_request.imp||[],c.bid_request.imp.push(o.impressionObject);let e=!1;(a+encodeURIComponent(JSON.stringify(c))).length>this.CONSTANTS.MAX_URL_LENGTH&&(e=!0,1<c.bid_request.imp.length&&(c.bid_request.imp.pop(),d&&s.idMappings.pop(),t--)),!e&&n.singleRequestMode&&t!==i.length-1||(s.requests.push(this.formatRequest(n,c)),c={bid_request:this.createBasicBidRequestObject(n,r)})}return e&&(s.errors=e),s},this.formatRequest=function(e,t){return e.returnObjType!==this.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT?{url:`${e.adServerBaseUrl}/`+`${this.CONSTANTS.END_POINT}?${this.CONSTANTS.AD_SERVER_URL_PARAM}`+encodeURIComponent(JSON.stringify(t))}:{method:"GET",bidIds:t.bid_request.imp.map(e=>e.id),url:`${e.adServerBaseUrl}/${this.CONSTANTS.END_POINT}`,data:`${this.CONSTANTS.AD_SERVER_URL_PARAM}${encodeURIComponent(JSON.stringify(t))}`}},this.createBasicBidRequestObject=function(e,t){const n={secure:1};if(e.requestId?n.id=e.requestId:n.id=f.genId(),e.domain&&(n.domain=e.domain),e.page&&(n.page=e.page),e.ref&&(n.ref=e.ref),e.callback&&(n.callback=e.callback),e.libVersion&&(n.version=e.libVersion+"-"+this.CONSTANTS.CLIENT_VERSION),e.referrer&&(n.referrer=e.referrer),!e.gdpr&&0!==e.gdpr||(n.gdpr=e.gdpr),e.usPrivacy&&(n.us_privacy=e.usPrivacy),e.schain&&(n.schain=e.schain),t)for(const e in t)n[e]=t[e];return n},this.createImpressionObject=function(t){const n={},r={};if(n.impressionObject=r,t.id?r.id=t.id:r.id=f.genId(),t.adTypes&&(r.ad_types=t.adTypes),t.adUnitId&&(n.adUnitId=t.adUnitId),t.currency&&(r.currency=t.currency.toUpperCase()),t.bidFloor&&(r.bidfloor=t.bidFloor),t.bidFloorCur&&(r.bidfloorcur=t.bidFloorCur.toUpperCase()),t.placementId&&(r.pid=t.placementId),t.publisherId&&(r.pubid=t.publisherId),t.placementKey&&(r.pkey=t.placementKey),t.transactionId&&(r.tid=t.transactionId),t.keyValues)for(const n in t.keyValues)for(let e=0;e<t.keyValues[n].length;e++)r.kvw=r.kvw||{},r.kvw[n]=r.kvw[n]||[],r.kvw[n].push(t.keyValues[n][e]);if(r.banner={},t.size&&t.size.w&&t.size.h&&(r.banner.w=t.size.w,r.banner.h=t.size.h),t.format&&f.isArray(t.format)){const n=t.format.filter(e=>2===e.length&&0<=e[0]&&0<=e[1]).map(e=>({w:e[0],h:e[1]}));0<n.length&&(r.banner.format=n)}return r.pid||r.pubid||r.pkey||r.banner&&r.banner.w&&r.banner.h||(n.impressionObject=null,n.errorCode=this.CONSTANTS.ERROR_CODES.MISSING_PLACEMENT_PARAMS),n}},i={singleRequestMode:!0,returnObjType:r.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT,libVersion:this.version};t&&t.gdprConsent&&t.gdprConsent.consentString&&(i.gdpr=t.gdprConsent.consentString),t&&t.uspConsent&&(i.usPrivacy=t.uspConsent),t&&t.refererInfo&&t.refererInfo.referer&&(i.referrer=t.refererInfo.referer),i.schain=e[0].schain;e=r.createRequest(n,i);return e.errors&&0<e.errors.length&&f.log("ID WARNING 0x01"),e.requests},interpretResponse:function(e,t){const n=[];return f._each(e.body.bid,function(r){if(r.price&&null!==r.price&&!r.hasOwnProperty("errorCode")&&(r.adm||r.native)){const i={};let e="";if(r.nurl&&0<r.nurl.length&&(e=`<img src="${r.nurl}" width="0" height="0" style="display:none">`),i.ad=`${e}<script>${r.adm}<\/script>`,i.mediaType="banner",i.adId=r.id,i.cpm=parseFloat(r.price),i.creativeId=r.crid,i.currency=r.currency?r.currency.toUpperCase():"USD",f.isNumber(r.lid)&&"deal_id"===r.buying_type)i.dealId=r.lid;else if(Array.isArray(r.lid)&&Array.isArray(r.buying_type)&&r.lid.length===r.buying_type.length){let n=!1;r.buying_type.forEach((e,t)=>{n||"deal_id"===e&&(n=!0,i.dealId=r.lid[t])})}i.height=r.h,i.netRevenue=!!r.isNet&&r.isNet,i.requestId=r.id,i.ttl=300,i.width=r.w,i.width&&i.height||(i.width=1,i.height=1,t.sizes&&(i.width=t.sizes[0][0],i.height=t.sizes[0][1])),n.push(i)}}),n},getUserSyncs:function(t,e){if(t.pixelEnabled){const t=[];return e.forEach(e=>{e.body.bid.forEach(e=>{f.isArray(e.sync)&&e.sync.forEach(e=>{-1===t.indexOf(e)&&t.push(e)})})}),t.map(e=>({type:"image",url:e}))}return[]}}},function(){function o(e){const n={},r=e.params;n.adUnitCode=e.adUnitCode,n.bidId=e.bidId,n.bidderRequestId=e.bidderRequestId,n.auctionId=e.auctionId,n.transactionId=e.transactionId,n.sizes=[];var i=e.sizes;for(let e=0,t=i.length;e<t;e++){const r=i[e];n.sizes.push({width:r[0],height:r[1]})}return n.pubId=r.pubId,r.type&&(n.type=r.type),r.pubClick&&(n.click=r.pubClick),r.dealId&&(n.dealId=r.dealId),n}return{code:"onetag",supportedMediaTypes:["banner"],buildRequests:function(e,t){const n={bids:e.map(o)},r=function(){let e,t,n,r,i,o,d,s,a;for(e=window,t=e.document,n=t.location.href,r=t.referrer,i=0,d=encodeURIComponent,s=new Date,a=screen;e!==e.parent;)try{o=e.parent,n=o.location.href,r=o.document.referrer,e=o}catch(d){i=top!==e.parent?2:1;break}return{location:d(n),referrer:d(r)||"0",masked:i,wWidth:e.innerWidth,wHeight:e.innerHeight,oWidth:e.outerWidth,oHeight:e.outerHeight,sWidth:a.width,sHeight:a.height,aWidth:a.availWidth,aHeight:a.availHeight,sLeft:"screenLeft"in e?e.screenLeft:e.screenX,sTop:"screenTop"in e?e.screenTop:e.screenY,hLength:history.length,date:s.toUTCString(),timeOffset:s.getTimezoneOffset()}}(),i=Object.assign(n,r);t&&t.gdprConsent&&(i.gdprConsent={consentString:t.gdprConsent.consentString,consentRequired:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(i.usPrivacy=t.uspConsent);t=JSON.stringify(i);return{method:"POST",url:"https://onetag-sys.com/prebid-request",bidIds:e.map(e=>e.bidId),data:t}},interpretResponse:function(e,t){let n=e.body;const r=[];if("string"==typeof e)try{n=JSON.parse(e)}catch(e){return r}return!n||n.nobid&&!0===n.nobid||n.bids&&n.bids.forEach(function(e){r.push({requestId:e.requestId,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.creativeId,dealId:e.dealId||"",currency:e.currency,netRevenue:!1,mediaType:r.type||"banner",ad:e.ad,ttl:e.ttl||300})}),r},getUserSyncs:function(e,t,n,r){const i=[];if(e.iframeEnabled){let e="?cb="+(new Date).getTime();n&&"string"==typeof n.consentString&&(e+="&gdpr_consent="+n.consentString,"boolean"==typeof n.gdprApplies&&(e+="&gdpr="+(n.gdprApplies?1:0))),r&&"string"==typeof r&&(e+="&us_privacy="+r),i.push({type:"iframe",url:"https://onetag-sys.com/usync/"+e})}return i}}},function(){const o=["USD"];return{code:"rtbhouse",supportedMediaTypes:["banner"],buildRequests:function(e,t){const n={id:e[0].auctionId,imp:e.map(e=>function(e){const t={id:e.bidId,banner:function(e){if("banner"===e.mediaType||f.deepAccess(e,"mediaTypes.banner")||!e.mediaType&&!e.mediaTypes){e=e.sizes||e.mediaTypes.banner.sizes;return{w:e[0][0],h:e[0][1],format:e.map(e=>({w:e[0],h:e[1]}))}}}(e),tagid:e.adUnitCode.toString()},n=parseFloat(e.params.bidfloor);return n&&(t.bidfloor=n),t}(e)),site:(i=t,{publisher:{id:((r=e)&&0<r.length?r[0].params.publisherId:"unknown").toString()},page:i.refererInfo.referer,name:window.location.origin||""}),cur:o,test:e[0].params.test||0,source:{tid:e[0].transactionId}};var r,i;if(t&&t.gdprConsent&&t.gdprConsent.gdprApplies){const o=t.gdprConsent.consentString?t.gdprConsent.consentString.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):"",e=t.gdprConsent.gdprApplies?1:0;n.regs={ext:{gdpr:e}},n.user={ext:{consent:o}}}return{method:"POST",url:"https://"+e[0].params.region+".creativecdn.com/bidder/prebid/bids",data:JSON.stringify(n),bidIds:e.map(e=>e.bidId)}},interpretResponse:function(e,t){const n=e.body;if(!f.isArray(n))return[];const r=[];return n.forEach(e=>{0!==e.price&&r.push({requestId:e.impid,mediaType:"banner",cpm:e.price,creativeId:e.adid,ad:e.adm,width:e.w,height:e.h,ttl:55,netRevenue:!0,currency:"USD"})}),r}}}],i=(n=0,function(){return++n});let o=!1;try{o=!!window&&!!window.localStorage}catch(p){}function s(e){return e[0]+"x"+e[1]}function d(e,t){return toString.call(e)==="[object "+t+"]"}var f={hasLocalStore:function(){return o},loadScript:function(e,t,n){var r=document.createElement("script");e=("http:"===document.location.protocol?"http:":"https:")+e,r.src=e,r.async=!0,r.onload=t,r.onerror=n,(document.body||document.head||document.documentElement).appendChild(r)},buildUrl:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?`:${e.port}`:""))+(e.pathname||"")+(e.search?`?${this.formatQS(e.search||"")}`:"")+(e.hash?`#${e.hash}`:"")},formatQS:function(e){return Object.keys(e).map(t=>Array.isArray(e[t])?e[t].map(e=>`${t}[]=${e}`).join("&"):`${t}=${e[t]}`).join("&")},ajax:function(e){var t=null;if(e.method=(e.method||"GET").toUpperCase(),window.XMLHttpRequest)t=new XMLHttpRequest;else if(window.ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){f.log("error")}}if(!t)return alert("Giving up :( Cannot create an XMLHTTP instance"),e.onError&&e.onError(),!1;try{t.withCredentials=e.sendCookie||!1}catch(e){}if(e.timeout&&(t.timeout=e.timeout),t.onreadystatechange=function(){4===t.readyState&&(200<=t.status&&t.status<300?e.onSuccess&&e.onSuccess(t.responseText):e.onError&&e.onError(t.status))},e.sync=!e.sync,t.open(e.method,e.url||e.uri,e.sync),e.headers)for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);return t.send(e.data||null),this},createTrackPixelHtml:function(e){return e?'<div style="position:absolute;left:0;top:0;visibility:hidden;">'+('<img src="'+encodeURI(e))+'"></div>':""},isFn:function(e){return d(e,"Function")},isStr:function(e){return d(e,"String")},isArray:function(e){return d(e,"Array")},isNumber:function(e){return d(e,"Number")},isPlainObject:function(e){return d(e,"Object")},isBoolean:function(e){return d(e,"Boolean")},_each(e,t){var n=0,r=e.length;if(0<r)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)},debounce:function(n,r){var i;return function(){var e=this,t=arguments;clearTimeout(i),i=setTimeout(function(){i=null,n.apply(e,t)},r)}},replaceAuctionPrice:function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},timeDiff:function(e){return Math.min(Math.abs(f.now()-e),4294967295)},parseSizesInput:function(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\d)+x(\d)+$/i;if(n)for(var i in n)void 0!==n[i]&&n[i].match(r)&&t.push(n[i])}else if("object"==typeof e){var o=e.length;if(0<o)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(s(e));else for(var d=0;d<o;d++)t.push(s(e[d]))}return t},log:function(){var e;o&&"1"<=window.localStorage.vpbdebug&&(e=Array.prototype.slice.call(arguments,0),"2"<=window.localStorage.vpbdebug&&e.unshift(performance.now()),e.unshift("VPB: "),console.log.apply(console,e))},copy:function(e){var t,n,r=Array.isArray(e)?[]:{};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t=e[n],r[n]=null===t?null:"object"==typeof t?f.copy(t):t);return r},now:function(){return Date.now()},filter:function(e,t){if(!e)return e;for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},getTopWindow:function(e){function n(t){try{return t!==t.top&&t.parent.location.href?n(t.parent):t}catch(e){return t}}return n(e)},getTopDomain:function(){if(location.ancestorOrigins&&location.ancestorOrigins.length)return location.ancestorOrigins[location.ancestorOrigins.length-1];try{return f.getTopWindow(window).location.host}catch(e){return null}},find:function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]},genId:function(){return i()+Math.random().toString(16).substr(2)},deepAccess:function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e},insertPixel:function(e){new Image(1,1).src=e},insertIframe:function(e){const t=(r="allow-scripts allow-same-origin",(e=e)?`<iframe ${r=r&&`sandbox="${r}"`} id="${f.genId()}"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="${e}">\n    </iframe>`:""),n=document.createElement("div");var r;n.innerHTML=t;const i=n.firstChild,o=document.getElementsByTagName("html")[0];o&&o.appendChild(i)},setDataInLocalStorage(e,t){o&&window.localStorage.setItem(e,t)},getDataFromLocalStorage(e){if(o)return window.localStorage.getItem(e)},isEmpty(e){if(!e)return!0;if("[object Array]"===toString.call(e)||"[object String]"===toString.call(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},_map(n,r){if(this.isEmpty(n))return[];if(this.isFn(n.map))return n.map(r);var i=[];return this._each(n,function(e,t){i.push(r(e,t,n))}),i},inIframe(){try{return window.self!==window.top}catch(e){return!0}},deepSetValue(e,t,n){for(var r,i=0,o=(t=t.split?t.split("."):t).length,d=e;i<o;++i)r=d[t[i]],d=d[t[i]]=i===o-1?n:null!=r?r:!~t[i+1].indexOf(".")&&-1<+t[i+1]?[]:{}},isSlotMatchingAdUnitCode:t=>e=>((e,t)=>e.getAdUnitPath()===t||e.getSlotElementId()===t)(e,t),uniques:(e,t,n)=>n.indexOf(e)===t};const c={};let u,g=!1,h=p.timeout;if(l.maxThreshold&&(h=l.maxThreshold,l.st)){const p=f.timeDiff(l.st);h=h-p-70}l.VPB_VERSION="M053",p.loc=p.useStaticDomain?location.href:f.getTopDomain(),l.SESSION_ID=f.genId(),l.init_time=f.now();const m=new function(){const d=this,r=[],i=p.useStaticDomain?f.getTopDomain():p.loc,o="https://ghb.adtelligent.com",s=d.events={timeout:0,init:11,start:10,end:8,render:9,inView:18,inView1Sec:20,scoringBlock:21,preAucTimeout:22};let a=null;const c={},u={};function n(e,t){var n;t=t||!1,(e=e||r).length&&(n={sessionID:l.SESSION_ID,fullPageURL:i,vpbv:l.VPB_VERSION,events:e.map(e=>Object.assign(e,{clientID:p.pubId,siteID:p.siteId}))},t&&navigator.sendBeacon?navigator.sendBeacon(o+"/adunit/hbimp",JSON.stringify(n)):f.ajax({uri:o+p.statPath,data:JSON.stringify(n),method:"POST",sendCookie:!0,sync:t}),e.length=0)}window.IntersectionObserver&&(a=new IntersectionObserver(function(e){e.forEach(e=>{const t=e.target.id,n=u[t];if(e.isIntersecting&&.5<=e.intersectionRatio){const r=c[t];n&&(n.timeout=setTimeout(function(){a.unobserve(e.target),u[t]=!1,n.cb()},1e3)),c[t]=!1,r&&r(),r||n||a.unobserve(e.target)}else n&&clearTimeout(n.timeout)})},{root:null,rootMargin:"0px",threshold:[.49,.5]})),window.addEventListener("beforeunload",()=>{n(null,!0)}),window.addEventListener("unload",()=>{n(null,!0)}),d.send=f.debounce(n,1e3),d.log=function(e,t){t?n([e],!0):(r.push(e),d.send())},d.sendInit=function(e){d.singleTrack(["pubbid="+(e||0),"event=11"])},d.singleTrack=function(e){try{const t=e||[];if(t.push("full_page_url="+encodeURIComponent(i)),t.push("adid="+l.SESSION_ID),t.push("vpbv="+l.VPB_VERSION),t.push("client_id="+p.pubId),t.push("site_id="+p.siteId),window.performance&&performance.now){const p=Math.floor(performance.now());t.push("lifecycle_tte="+p)}f.ajax({url:o+"/adunit/tracking?"+t.join("&"),sendCookie:!0})}catch(e){}},d.logEvent=function(n,r,e,i,t){if(n!==s.preAucTimeout){n===s.timeout&&(e=e.map(e=>O.findOriginalBid(e)));var o={event:n===s.timeout?s.end:n,adunitID:r.id,subtype:t,code:r.code,lifecycleTTEms:f.timeDiff(l.init_time),bidders:e.map(function(e){const t={id:e.id,adapter:e.bidder,overrideId:e.overrideId,timeout:n===s.timeout};if([s.end,s.render,s.inView,s.inView1Sec,s.scoringBlock].includes(n)){const n=O.findOriginalBid(e.requestId);Object.assign(t,{winner:e.requestId===i,id:n.id,adapter:n.bidder,overrideId:n.overrideId,hbAdId:e.requestId,bid:parseFloat(e.clientBid||0),pubBid:parseFloat(e.pubBid||0),originalBid:+e.originalCpm,originalCurrency:e.originalCurrency,grossBid:+e.grossBid,netBid:+e.netBid,currency:e.currency,sizes:[{w:e.width,h:e.height}],tte:e.tte})}else t.sizes=r.sizes.map(function(e){return{w:e[0],h:e[1]}});return t}),adType:2};if(n===d.events.render){if(d.log(o,!0),a){c[r.code]=function(){f.log("in view 18",r.code),d.logEvent(s.inView,r,e,i,t)},u[r.code]={cb:function(){f.log("inview 20",r.code,e[0].pubBid),d.logEvent(s.inView1Sec,r,e,i,t)}};const n=document.querySelector("#"+r.code);n&&a.observe(n)}}else d.log(o)}else{const e=r;d.log({event:n,TTEms:Math.abs(e),lifecycleTTEms:f.timeDiff(l.init_time)})}}},b={};1!==l.noInit&&m.sendInit();const I={};let y=[];const S=[];let v=[];const w={},C={iframeEnabled:!0,pixelEnabled:!0};let T;try{var R,E,_=f.hasLocalStore()&&window.localStorage;_&&(R=_.getItem("vpb-location"),E=parseInt(_.getItem("vpb-lastGeoUp")),!R||isNaN(E)||864e5<f.now()-E?f.ajax({uri:"https://ghb.adtelligent.com/geo/",onSuccess:function(e){try{var t=JSON.parse(e).code;t&&(T=t,_.setItem("vpb-location",t),_.setItem("vpb-lastGeoUp",f.now()))}catch(e){}}}):R&&(T=R))}catch(p){}try{window.addEventListener("message",function(e){const t=e.message?"message":"data";let n={};try{n=JSON.parse(e[t])}catch(e){return}if(n&&n.adId){"GeoEdgeFallBack"===n.message&&l.geoEdgeFallBack(n.adId);const t=O.findBidResponse(n.adId);t&&"Prebid Request"===n.message&&e.source.postMessage(JSON.stringify({message:"Prebid Response",ad:f.replaceAuctionPrice(t.ad,t.originalCpm),adUrl:f.replaceAuctionPrice(t.adUrl,t.originalCpm),adId:t.adId,width:t.width,height:t.height}),n.adServerDomain)}})}catch(p){}function B(t,e){return f.find(e,function(e){return e.bidId===t||e.requestId===t||e.adId===t})}const O={groupByBidder:function(e){return e.reduce(function(e,t){var n=t.bidder;return e[n]=(e[n]||[]).concat(t),e},{})},findOriginalBid:function(e){return B(e,S)},findBidResponse:function(e){return B(e,v)},createIframe:function(e){const{cb:t,winner:n,doc:r}=e,i=r.createElement("iframe");i.id="vm-fr",i.onload=function(){if(a)return t&&t();var e=i.contentWindow.document;i.onload=null,t&&t(e)},i.src=a?"//sync.meditraf.com/prebid/iframe.html?adid="+n.adId+"&ref="+encodeURIComponent(location.origin):"";const o=i.style;return o.border="none",o.padding="0px",o.margin="0px",o.overflow="hidden",o.display="block",o.margin="0px auto",n&&(o.width=n.width+"px",o.height=n.height+"px"),i},getAvailableBids:function(){return f.filter(v,function(e){return 0<e.cpm&&e.responseTimestamp+1e3*e.ttl>f.now()&&"rendered"!==e.status&&"targetingSet"!==e.status})},getWinningBid:function(){var t=O.getAvailableBids();let n=t[0];for(let e=1;e<t.length;e++)b[t[e].creativeId]?f.log("filtered because geoEdge creative filter",t[e]):t[e].cpm>n.cpm&&(n=t[e]);return n},renderAd:function(e,t){const n=O.adapters[t.bidderCode];if(n.onBidWon&&n.onBidWon(t),t.ad&&(t.ad=f.replaceAuctionPrice(t.ad,t.originalCpm)),t.adUrl&&(t.adUrl=f.replaceAuctionPrice(t.adUrl,t.originalCpm)),e){if(t.status="rendered",f.log("rendering",t.requestId),t.adUrl){const n=t.adUrl;-1<["ez","ez_mkp"].indexOf(t.bidderCode)&&delete t.adUrl;var r=this.createIframe({doc:e,winner:t,cb(e){(e.parentWindow||e.defaultView).location.href=n}});e.body.innerHTML="",e.body.appendChild(r)}else e.open(),e.write(t.ad),e.close();const n=e.body.style;n.padding="0px",n.margin="0px",n.overflow="hidden"}},init:function(){const n=this;n.inited||(n.inited=!0,n.adapters={},f._each(r,function(e){const t=e();n.adapters[t.code]=t,t.aliases&&t.aliases.forEach(function(e){n.adapters[e]=t})}))},requestBids:function(d){const s=this;s.init();const t={numIframes:0,reachedTop:!0,referer:p.loc,stack:[p.loc]},n=f.copy(d.adUnits[0]),a={id:d.auctionId||f.genId(),st:f.now(),floored:[],bidsRequested:[],timeoutBidsIds:[]},r=s.groupByBidder(n.bids);let i=[];const o=[];for(const p in r){const d=f.genId(),c=f.genId(),u=r[p].map(function(e){var t=f.genId();return e.unitId=n.id,e.bidId=t,e.adUnitCode=n.code,e.bidderCode=p,S.push(e),{bidder:e.bidder,params:e.params,mediaTypes:n.mediaTypes,adUnitCode:n.code,transactionId:c,sizes:n.sizes,bidId:t,bidderRequestId:d,auctionId:a.id,src:"client",bidRequestsCount:1,bidderRequestsCount:1,bidderWinsCount:0}});a.bidsRequested=a.bidsRequested.concat(u);const l={timeout:h,auctionId:a.id,auctionStart:a.st,bidderCode:p,bidderRequestId:d,bids:u,refererInfo:t};let e=[];try{const d=s.adapters[p];if(d)if(d.buildRequests)e=d.buildRequests(u,l);else if(d.callBids){const s=f.now(),t=new Promise(function(e,t){const n=[];setTimeout(()=>{t(new Error("CallBidsTimeout"))},l.timeout),d.callBids(l,function(e,t){n.push(Promise.resolve(t))},function(){e(Promise.all(n))})}).catch(()=>(a.timeoutBidsIds=a.timeoutBidsIds.concat(u.map(e=>e.bidId)),null)).then(e=>e?{ad:p,bids:e,tte:f.now()-s}:{});o.push(t)}else f.log(p,"has no bid api");else f.log("No adapter ",p)}catch(d){f.log("error building request for ",p,d.message)}e&&!Array.isArray(e)&&(e=[e]),i=i.concat(e.map(function(e){return{reqObj:e,ad:p}}))}y=y.concat(a.bidsRequested);const c=i.map(function(n){let r=n.reqObj.data,i=n.reqObj.url;if("GET"===n.reqObj.method.toUpperCase()){if(f.isStr(r))i+="?"+r;else{const n=[];for(const i in r)n.push(i+"="+encodeURIComponent(r[i]));n.length&&(i+="?"+n.join("&"))}r=null}const t=f.now();return new Promise((e,t)=>{f.ajax({url:i,data:r,timeout:h,sendCookie:!0,method:n.reqObj.method,onSuccess:e,onError:t})}).then(function(e){try{e=JSON.parse(e)}catch(e){}return{ad:n.ad,response:{body:e},ref:n.reqObj,tte:f.now()-t}}).catch(e=>(0===e&&(a.timeoutBidsIds=a.timeoutBidsIds.concat(n.reqObj.bidIds)),{}))});Promise.all(c.concat(o)).then(function(t){let n=[];for(let e=0;e<t.length;e++){const r=t[e],i=r.ad,o=s.adapters[i];if(i&&o)try{const s=r.bids||o.interpretResponse(r.response,r.ref);n=n.concat(s.map(e=>(e.adId=e.adId||e.requestId,e.tte=r.tte,e.width=parseInt(e.width),e.height=parseInt(e.height),e.bidderCode=e.bidderCode||i,e.creativeId=e.creativeId||"unknownCreativeId",e.responseTimestamp=f.now(),e.originalCurrency=e.currency||"USD",e.currency=p.cur._cur||"USD",e.originalCpm=e.originalCpm||e.cpm,e.cpm=e.originalCpm/p.cur[e.originalCurrency],d.adjust(e),e.floored&&a.floored.push(e),e)).filter(e=>0<e.cpm))}catch(e){f.log("error iterpreting response for",i,e.message)}}return a.bidResponses=n,v=v.concat(n),d.onEnd(a),t}).then(function(e){try{e.forEach(e=>{var t=e.ad;if(t&&s.adapters[t].getUserSyncs){const n=s.adapters[t].getUserSyncs(C,[e.response]);n&&n.length&&n.forEach(e=>{w[e.url]||(w[e.url]=!0,s.runSync(e))})}})}catch(e){f.log("unable to do syncs",e)}})},runSync:function(e){return"iframe"===e.type?f.insertIframe(e.url):f.insertPixel(e.url)}};function A(t,e){const n=document.getElementById(e);if(!n)return!1;if((I[e]=t).refBid||(t.refBid=O.findBidResponse(t.adId)),m.logEvent(m.events.render,{id:t.adUnitId,code:e},[t.refBid],t.adId,t.run),n&&"IFRAME"===n.nodeName.toUpperCase()){const e=n.contentWindow.document,l="readystatechange";function r(){O.renderAd(e,t.refBid),e.removeEventListener(l,r)}"loading"===e.readyState?e.addEventListener(l,r):r()}else{const r=O.createIframe({cb:e=>{e&&O.renderAd(e,t.refBid)},winner:t,doc:document});r.id="adunit-"+e,n.innerHTML="",n.appendChild(r)}return 0===t.run&&l.getConfig("refreshInterval")&&N(e,t.requestSizes),!0}let U;function N(t,e){let n=0;h=5e3,clearInterval(U),U=setInterval(function(){g||l.auctionByAdUnitID({isRefresh:!0,run:++n,code:t,sizes:e,onEnd:function(e){g||e&&A(e,t)}})},l.getConfig("refreshInterval"))}function q(e){p.enhanceBid&&(e*=p.enhanceBid);var t=p.bidCeil;return e=t&&0<t&&t<e?t:e}function P(e){try{e&&e()}catch(e){f.log("Error executing que function",e)}}if(l.getConfig=function(e){return(void 0!==l[e]?l:p)[e]||null},l.geoEdgeFallBack=function(e,t){t=t||O.findOriginalBid(e).adUnitCode;const n=I[t],r=n.refBid||O.findBidResponse(n.adId);f.log("geo edge block for",n),b[r.creativeId]=1,m.logEvent(m.events.scoringBlock,{id:n.adUnitId,code:t},[r],n.adId,n.run);const i=O.getWinningBid();i?(i.status="targetingSet",A({width:i.width,height:i.height,adId:i.requestId,adUnitId:n.adUnitId,ad:i.ad,adUrl:i.adUrl,bid:q(i.cpm),requestSizes:n.requestSizes,run:++n.run},t)):l.auctionByAdUnitID({code:t,sizes:n.requestSizes,render:!0,run:++n.run})},l.win=function(e){const t=O.findOriginalBid(e),n=O.findBidResponse(e);n.status="rendered",m.logEvent(m.events.render,{id:t.unitId,code:t.adUnitCode},[n],e,0)},l.renderWhenReady=function(e){f.log("adding waiting render"),c[e.code]=e},l.getMGBid=function(e){f.log("adding MGBid waiter"),u=e.callback},l.trackPreInit=function(e,t,n,r){l.VPB_VERSION=n||l.VPB_VERSION,l.SESSION_ID=t||l.SESSION_ID,m.sendInit(e.bid)},l.auctionByAdUnitID=function(r){if(r.fixedtimeout&&(h=r.fixedtimeout),h<=0){m.logEvent(m.events.preAucTimeout,h);try{r.onEnd&&r.onEnd(null,{err:"PREauction Timeout",message:"HBTIMEOUT:"+h})}catch(e){f.log("error executing callback",e.message)}}else try{const i=r.sizes,o=p.unit;f.log("start auction",o),r.run=r.run||0;const d=r.run,s={id:o.id,code:r.code,sizes:i,mediaTypes:{banner:{sizes:i}},bids:function(e,t){var n=T||f.hasLocalStore()&&(T=window.localStorage&&localStorage.getItem("vpb-location"))||"unknown";if("unknown"!==n)for(let e=t.length-1;0<=e;e--){var r=t[e].geo;(r&&"white"===r.type&&!r.list[n]||r&&"block"===r.type&&r.list[n])&&t.splice(e,1)}return e.isRefresh?f.filter(t,function(e){return e.mkp&&1!==e.noR}):t}(r,o.bids)};s.bids.length&&(m.logEvent(m.events.start,s,s.bids,null,d),O.requestBids({adUnits:[s],adjust(e){var t=O.findOriginalBid(e.requestId);return e.grossBid=e.cpm,e.netBid=e.grossBid*(t.adj&&t.adj?t.adj:1),e.clientBid=e.netBid*(t.rs&&t.rs?t.rs:1),e.pubBid=e.clientBid*p.pubRev,e.cpm=e.pubBid,l.isEZCtx||a||!e.ad||void 0===t.geoEdgeIndex||l.wrapGeoEdge(e,t),15961!==t.id&&o.floor&&e.cpm<o.floor&&(e.floored=!0,e.cpm=0),p.isMg&&(e.pubBid=0),e},onEnd(e){let t=null;const n=O.getWinningBid();n&&(f.log("winner",n),m.logEvent(m.events.end,s,e.bidResponses,n.requestId,d),t={width:n.width,height:n.height,adId:n.requestId,adUnitId:o.id,ad:n.ad,adUrl:n.adUrl,bid:q(n.cpm),requestSizes:i,run:d}),n&&!r.render&&(n.status="targetingSet");try{r.onEnd&&r.onEnd(t,t?null:{err:"NoBids"})}catch(e){f.log("error executing callback",e.message)}if(e.timeoutBidsIds.length&&m.logEvent(m.events.timeout,s,e.timeoutBidsIds,null,d),!g){if(u&&(f.log("resolves waiting MGBid"),u(t),u=null),c[r.code])return f.log("resolves waiting render"),void(n?A(t,r.code):(c[r.code].noBidCallback(),delete c[r.code]));r.render&&(n?A(t,r.code):l.getConfig("refreshInterval")&&N(r.code,i))}}}))}catch(e){f.log("auc err",e);try{r.onEnd&&r.onEnd(null)}catch(e){f.log("error executing callback",e.message)}}},l.stop=function(){f.log("stopping"),g=!0,clearInterval(U)},l.renderAd=function(e,t){try{if(f.log("render ",e,t),(e=f.copy(e)).refBid=O.findBidResponse(e.adId),!e)throw new Error("noWinner");if(!e.refBid)throw new Error("noRefBid");return e.refBid.pubBid=q(e.refBid.cpm),A(e,t),!0}catch(e){return!1}},l.cmd=l.cmd||[],l.cmd.push=P,l.cmd.length)for(let e=0;e<l.cmd.length;e++)P(l.cmd[e])}();

(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([["toolbar","Avatar","AvatarByUid","BoxFlag_6532d3f","Count","Count_fde949b","DatingPlayGuideTips","MagicLampBanner","Menu","MenuItem","Modal","Pagination","ProgressBar","QRCode","SignText","ToolBarTips","TooltipPanel"],{"00d1b0":function(e,t,i){e.exports=i("2d6146")("368f5")},"02317a":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default-avatar_efb1869.png"},"031840":function(e,t,i){},"0387a8":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=(i("f541c0"),"/shark/live/src/pages/roomPage/toolbarModule/components/LotteryDrawEnter/ScreenText.js");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,i=(o(c,l=r.a.Component),c.prototype.componentDidMount=function(){this.addSpanContent()},c.prototype.componentDidUpdate=function(){this.addSpanContent()},c.prototype.componentWillUnmount=function(){clearInterval(this.timer)},c.prototype.addSpanContent=function(){var e,t,i=this,n=document.getElementById(this.b_case),r=document.getElementById(this.b_text),a=0;!this.isMoved&&n&&r&&r.scrollWidth>n.clientWidth&&(this.isMoved=!0,r.className+="is-padded",e=r.cloneNode(!0),t=r.clientWidth,n.appendChild(e),this.timer||(this.timer=setInterval(function(){(a+=1)<93||(n.scrollLeft+=1,n.scrollLeft>=t&&(n.scrollLeft=0,a=0,clearInterval(i.timer),i.timer=null))},16)))},c.prototype.render=function(){var e=this.props,t=e.prizeName,i=void 0===t?"":t,t=e.wrapClassName,e=e.contentClassName;return r.a.createElement("div",{className:"ScreenText "+(void 0===t?"":t),id:this.b_case,title:i,__source:{fileName:a,lineNumber:73},__self:this},r.a.createElement("span",{className:"ScreenText-content "+(void 0===e?"":e),id:this.b_text,__source:{fileName:a,lineNumber:74},__self:this},i))},c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,l.call(this,e));return t.scrolled=!1,t.going=!0,t.b_case=e.wrapId||"ScreenText_wrap",t.b_text=e.contentId||"ScreenText_content",t.addSpanContent=t.addSpanContent.bind(t),t.tempScrollLeft=0,t.timer=null,t.isMoved=!1,t}t.default=i},"0395bc":function(e,t,i){"use strict";var o=i("98a8ba"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c={isShow:!1,panelData:{},isFirstLoad:1};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1],i=t.payload;switch(t.type){case o.TOGGLE_CSGO_PANEL:return l({},e,{isShow:!e.isShow});case o.SET_REDUCER_DATA:if(i&&i.changeKey){var n=i.changeKey,r=i.data,a=e[n],a=l({},a,r);return l({},e,((r={})[n]=a,r))}return l({},e,i);default:return e}}},"042e3f":function(e,t,i){"use strict";var a,o,n=i("1a22b7"),r=i.n(n),l=i("3b6ec9"),c=i.n(l),s=i("54992a"),n=i("fc7947"),u=i.n(n),l=i("7ca7dc"),n=i("eb3e22"),f=i("16358b"),p=i("a8024b"),m=(i("54a568"),"/shark/live/src/pages/roomPage/toolbarModule/components/WzryRankAct/WzryRankAct.js");function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var _,g=i("59c141"),i=l.default.Service,s=(l=i(n.DataCenter.global),n=i(n.DataCenter.common),Object(s.log)((h(y,_=r.a.Component),y.prototype.componentDidMount=function(){var i=this;this.common.get("$DATA").subscribe(function(e){var t=(e.get("room")||{}).giftActivity,e=(t=void 0===t?{}:t).fold,t=t.unfold,t=[].concat(void 0===e?[]:e,void 0===t?[]:t).find(function(e){return"wzryRankAct"===e.activity_flag});t&&(i.setState({btnImg:t.icon_default}),f.default.toolbarActivityShow("wzryRankAct"))})},y.prototype.render=function(){var e=this.state.visible;return r.a.createElement("div",{className:"wzryRankAct",__source:{fileName:m,lineNumber:76},__self:this},r.a.createElement(p.default,{baseUrl:g,des:"活动",leftColor:"#7c060a",rightColor:"#ab0d12",onClick:this.trigglerDialogVisible,__source:{fileName:m,lineNumber:77},__self:this}),e?c.a.createPortal(r.a.createElement("div",{className:"wzryRankAct-dialog",__source:{fileName:m,lineNumber:87},__self:this},r.a.createElement("i",{className:"wzryRankAct-close",onClick:this.trigglerDialogVisible,__source:{fileName:m,lineNumber:88},__self:this}),r.a.createElement("iframe",{src:"https://www.douyu.com/topic/dywzrs?rid="+this.roomId,width:678,height:520,scrolling:"no",__source:{fileName:m,lineNumber:89},__self:this})),document.body):null)},a=v((s=y).prototype,"global",[l],{enumerable:!0,initializer:null}),o=v(s.prototype,"common",[n],{enumerable:!0,initializer:null}),s=s))||s);function y(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=b(this,_.call.apply(_,[this].concat(n))),d(t,"global",a,t),d(t,"common",o,t),t.state={visible:!1,btnImg:""},t.roomId=t.global.get("$ROOM.room_id"),t.isLogin=u.a.check(),t.trigglerDialogVisible=function(){t.isLogin?t.setState(function(e){return{visible:!e.visible}}):u.a.show("login")},b(t,e)}t.default=s},"046c20":function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"ADD_SEND_GIFT_DATA",function(){return a}),i.d(t,"CLEAR_SEND_GIFT_DATA",function(){return o});var r,a="ADD_SEND_GIFT_DATA",o="CLEAR_SEND_GIFT_DATA",i=(n(l,r=i("97a1f0").Action),l.addSendGiftData=function(e){return{type:a,payload:e}},l.clearSendGiftData=function(e){return{type:o,payload:e}},l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}t.default=i},"047f97":function(e,t,i){"use strict";var n=i("fcbd96"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={dialogShow:!1,roomUrlMap:{iframeUrl:"https://iframe.pubg8x.com/panel/tournament/pclpss_20.html"}};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a;switch(arguments[1].type){case n.PUBGPCL_CHANGE_DIALOG_SHOW:return r({},e,{dialogShow:!e.dialogShow});case n.PUBGPCL_CLOSE_DIALOG_SHOW:return r({},e,{dialogShow:!1});default:return e}}},"05aedb":function(e,t,i){"use strict";i=i("c92955");t.default=i.default},"06007c":function(e,t,i){"use strict";var a,n=i("1a22b7"),r=i.n(n),o=i("7ca7dc"),n=i("438ecd"),l=(i("505efd"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/NobleError.js");function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var s,u,f,p,m,d,n=(o=(0,o.default.Service)(n.default),c(b,d=r.a.Component),b.prototype.buyNoble=function(){this.nobleBuyModalServices.openNobleBuyModal(),this.close()},b.prototype.close=function(){var e;(e=this.props.close)&&e.call(this)},b.prototype.render=function(){var e=this,t=this.props.text;return r.a.createElement("div",{className:"NobleError",__source:{fileName:l,lineNumber:35},__self:this},r.a.createElement("span",{className:"NobleError-close",onClick:function(){e.close()},__source:{fileName:l,lineNumber:36},__self:this},"×"),r.a.createElement("div",{className:"NobleError-main",__source:{fileName:l,lineNumber:39},__self:this},r.a.createElement("i",{className:"NobleError-icon",__source:{fileName:l,lineNumber:40},__self:this}),r.a.createElement("div",{className:"NobleError-content",__source:{fileName:l,lineNumber:41},__self:this},r.a.createElement("h3",{className:"content--title",__source:{fileName:l,lineNumber:42},__self:this},"您还不是贵族用户"),r.a.createElement("p",{__source:{fileName:l,lineNumber:45},__self:this},"贵族礼物-你的贵族专属特权"),r.a.createElement("span",{className:"btn",onClick:function(){return e.buyNoble()},__source:{fileName:l,lineNumber:48},__self:this},t))))},s=(n=b).prototype,u="nobleBuyModalServices",o=[o],f={enumerable:!0,initializer:null},m={},Object.keys(f).forEach(function(e){m[e]=f[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=o.slice().reverse().reduce(function(e,t){return t(s,u,e)||e},m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(s,u,m),m=null),a=m,n);function b(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var e,t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,d.call(this));return t="nobleBuyModalServices",n=e=r,(i=a)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),r.state={},r}t.default=n},"06a835":function(e,t,i){},"074d14":function(e,t,i){e.exports=i("d1db8c")("bcfe5")},"07dd3a":function(e,t,i){e.exports=i("5f575e")("0b888")},"08b7b4":function(e,t,i){"use strict";var a,o,l,c,s,n=i("97a1f0"),r=i("7ca7dc"),u=i("eb3e22"),f=i("b00678"),p=i("fc7947"),m=i.n(p),d=i("9b0dce"),b=i.n(d),h=i("eb4d33"),v=i("56b0a1"),_=i("ffca33"),g=i("db47a7"),y=i("e854a7"),N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function w(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function E(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var j,T=y.default.socketStream,p=r.default.Service,P={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json, text/javascript, */*; q=0.01"},D="G_NAME_DAYUWAN",n=(d=Object(n.Injectable)("live.playerDialogModule.GameLauncherServices"),i=p(u.DataCenter.common),y=p(u.DataCenter.event),r=p(u.DataCenter.global),p=p(v.default),v=Object(n.Inject)("live.playerAsideModule.ShieldToolServices"),d((S(C,j=n.Service),C.prototype.regiseGame=function(e,t){var i=this;this.games=this.games||{},this.games[e]=t,this.userId=+this.global.get("USER_INFO.uid")||-1,this.getUserLevel(),this.event.resize().subscribe(function(){i.resize()}),T.subscribe("dywstar_playgame",function(e){i.sendCppMessageHandler(e)}),T.subscribe("dywstar_gameres",function(t){var e=i.userId===+t.uid?1:0;m.a.check()&&parseInt(t.score,10)&&(0==+t.resShow||e||i.shieldToolServices.getShield(106).subscribe(function(e){e||i.sendCppMessageHandler(t)}))})},C.prototype.togglePanel=function(){window.BJ_H5GAME_SDK&&window.BJ_H5GAME_SDK.entryClick&&"function"==typeof window.BJ_H5GAME_SDK.entryClick&&window.BJ_H5GAME_SDK.entryClick({gameName:D})},C.prototype.resize=function(){this.games[D].resize()},C.prototype.getUserLevel=function(){var t=this;T.subscribe("memberinfores",function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).level;t.level=0<=+e?+e:1})},C.prototype.loadGame=function(l,c,s){var u=this;l===D&&this.common.get("$DATA").subscribe(function(e){var t,i=e.get("room.owner_uid"),n=e.get("room.room_id"),r=e.get("room.cate_id"),a=u.global.get("USER_INFO.uid"),o=u.global.get("USER_INFO.nickname");u.games[l]&&(e=u.games[l].props.config,(t=(void 0===e?{}:e).giftId)&&u.giftDataServices.getGiftItem(t,!0).subscribe(function(e){u.giftPrice=e.priceInfo.price;e=u.giftPrice||600,e=u.games[l].proload((s||"https://shark2.douyucdn.cn/front-publish/wsd-games-bj-front-master/apps/hitchick/index.html")+"?ver=1.0&uId="+a+"&owneruid="+i+"&cateId="+r+"&roomId="+n+"&giftPrice="+e+"&userLevel="+u.level+"&userName="+o+"&giftId="+t+"&launchSceneIndex="+c,!0);u.hasGame=e,console.log("gm: ","isOk: ",e)}))})},C.prototype.showGame=function(e){var t=e.gName,e=e.gType;if(t===D){if(1===e?this.games[t].toshow():2===e&&this.games[t].toshow("mock"),this.saveMsg)for(var i=0;i<this.saveMsg.length;i++)this.games[t].cppsend(this.saveMsg[i]);this.saveMsg=[]}},C.prototype.dysub2=function(e){e&&Object(g.dysub2)(e)},C.prototype.clearGame=function(e){var t=e.gName,e=e.isVideo;t===D&&(this.games[t].end(e),this.hasGame=!1)},C.prototype.showProgress=function(e,t){var i=e.gName,e=e.gType;i===D&&1===e&&this.games[i].progress(t)},C.prototype.showEffect=function(){},C.prototype.request=function(e){var t=e.method,n=e.url,r=e.data,a=e.headerOption;return"post"===t?Object(h.default)().pipe(Object(f.switchMap)(function(e){var t=e.name,i=e.value;return u.httpClient.post(String,n,b.a.stringify(N(((e={})[t]=i,e),r)),a||P)})):Object(_.default)({type:t,url:n,data:r,noCache:!0})},a=E((n=C).prototype,"common",[i],{enumerable:!0,initializer:null}),o=E(n.prototype,"event",[y],{enumerable:!0,initializer:null}),l=E(n.prototype,"global",[r],{enumerable:!0,initializer:null}),c=E(n.prototype,"giftDataServices",[p],{enumerable:!0,initializer:null}),s=E(n.prototype,"shieldToolServices",[v],{enumerable:!0,initializer:null}),n=n))||n);function C(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=O(this,j.call.apply(j,[this].concat(n))),w(t,"common",a,t),w(t,"event",o,t),w(t,"global",l,t),w(t,"giftDataServices",c,t),w(t,"shieldToolServices",s,t),t.sendCppMessageHandler=function(e){t.hasGame?t.saveMsg&&0!==t.saveMsg.length?t.saveMsg.push(e):t.games[D].cppsend(e):(t.loadGame(D,1),t.saveMsg=t.saveMsg||[],t.saveMsg.push(e))},t.setLocalStorage=function(e,t){return u.DataCenter.localStorage.set(e,t)},t.getLocalStorage=function(e){return u.DataCenter.localStorage.get(e)},O(t,e)}t.default=n},"091fa9":function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),a=i("447d8e"),n=i("97a1f0"),o=i("88007e"),l=i("9e38a1"),c=i("f7d362"),i=i("b3960e"),u="/shark/live/src/pages/roomPage/toolbarModule/components/WebStreamDialog/index.js";function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var m,d,b,h,v,_,i=(n=Object(n.Inject)(i.default),p(g,_=r.a.Component),g.prototype.render=function(){var e=this.props,t=e.isShow,e=e.isShowBrowserTip;return r.a.createElement(r.a.Fragment,{__source:{fileName:u,lineNumber:24},__self:this},t?r.a.createElement(c.default,{visible:t,onClose:this.closeModal,title:"主播认证",finalText:"去开播",__source:{fileName:u,lineNumber:27},__self:this}):null,e?r.a.createElement(o.default,{visible:e,title:"提示",okText:"客户端开播",cancelText:"知道了",onOk:l.openDyTool,onCancel:this.closeBrowserTip,width:280,center:!0,mask:!0,__source:{fileName:u,lineNumber:37},__self:this},r.a.createElement("span",{className:"webStream-browserTip",__source:{fileName:u,lineNumber:48},__self:this},"当前浏览器不支持或版本过低，建议使用Chrome浏览器76及以上版本，或选择客户端开播的方式开播。")):null)},m=(i=g).prototype,d="webStreamService",n=[n],b={enumerable:!0,initializer:null},v={},Object.keys(b).forEach(function(e){v[e]=b[e]}),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=n.slice().reverse().reduce(function(e,t){return t(m,d,e)||e},v),h&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(h):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(m,d,v),v=null),s=v,i);function g(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=f(this,_.call.apply(_,[this].concat(l))),n="webStreamService",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.closeModal=function(){t.webStreamService.handleAuthenModal({show:!1})},t.closeBrowserTip=function(){t.webStreamService.handleBrowserTip({show:!1})},f(t,e)}t.default=Object(a.connect)(function(e){var t=e.webStreamData,e=(t=void 0===t?{}:t).isCertifyModalShow,t=t.isOldBrowserShow;return{isShow:void 0!==e&&e,isShowBrowserTip:void 0!==t&&t}})(i)},"093ce1":function(e,t,i){},"0963d0":function(e,t,i){"use strict";var s,n=i("97a1f0"),r=i("54992a"),a=i("7ca7dc"),o=i("d48568"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var f,p,m,d,b,h,v=[1,2,3,4,5,6,7,8,9,10],_=[6,66,666,6666],g={nickname:"虚位以待",icon:""},n=(a=(0,a.default.Store)(),Object(r.log)((c(y,h=n.Service),y.prototype.getListData=function(){this.store.dispatch(o.default.getListData(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))},y.prototype.setData=function(){this.store.dispatch(o.default.setData(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))},y.prototype.autoClose=function(){var e=this;this.timer=setTimeout(function(){e.setData({rankDialogVisible:!1}),clearTimeout(e.timer),e.timer=null},0<arguments.length&&void 0!==arguments[0]?arguments[0]:5e3)},y.prototype.handleData=function(e,t){var i=t.uid,n=t.nickname,t=t.isSigned,r=e.filter(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).rank;return-1!==v.indexOf(e)}),a=[],o={nickname:n};for(e.forEach(function(e){+e.uid==+i&&(o=e),-1!==_.indexOf(+e.rank)&&a.push(e)}),o.rank||(o.rank=t?"100+":"--");0!==r.length&&r.length<3;)r.push(l({},g,{rank:r.length+1}));return{top10Data:r,selfData:o,luckListData:a}},f=(n=y).prototype,p="store",a=[a],m={enumerable:!0,initializer:null},b={},Object.keys(m).forEach(function(e){b[e]=m[e]}),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=a.slice().reverse().reduce(function(e,t){return t(f,p,e)||e},b),d&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(d):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(f,p,b),b=null),s=b,n=n))||n);function y(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,h.call.apply(h,[this].concat(l))),n="store",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.timer=null,u(t,e)}t.default=n},"09a4d7":function(e,t,i){"use strict";var c=i("1a22b7"),s=i.n(c),u=i("c6a807"),f=i("eb3e22"),p=i("16358b"),m=(i("e4cb59"),"/shark/live/src/pages/roomPage/toolbarModule/components/WebGamePromote/WebGamePromote.js"),d="webGamePromote",b="webgame_promote_point";t.default=function(){var e=Object(u.useService)(f.DataCenter.common),t=Object(u.useService)(f.DataCenter.localStorage),i=Object(c.useState)(""),n=i[0],r=i[1],a=Object(c.useState)(!1),i=a[0],o=a[1],l=Object(c.useRef)("");return Object(c.useEffect)(function(){e.get("$DATA").subscribe(function(e){var t=(e.get("room")||{}).giftActivity,e=(t=void 0===t?{}:t).fold,t=t.unfold,t=[].concat(void 0===e?[]:e,void 0===t?[]:t).find(function(e){return e.activity_flag===d});t&&(r(t.icon_default||""),l.current=t.activity_link,p.default.toolbarActivityShow(d))}),t.get(b)||o(!0)},[]),s.a.createElement("div",{className:"toolbarWebGamePromote",style:{backgroundImage:"url("+n+")"},onClick:function(){l.current&&(window.open(l.current,"_blank"),t.set(b,1,604800),o(!1))},__source:{fileName:m,lineNumber:62},__self:this},i&&s.a.createElement("i",{className:"toolbarWebGamePromote-point",__source:{fileName:m,lineNumber:67},__self:this}))}},"09acde":function(e,t,i){"use strict";var n,r,a=i("1a22b7"),p=i.n(a),o=i("447d8e"),l=i("7ca7dc"),c=i("97a1f0"),s=i("ad9050"),m=i("2e83fd"),d=i("7e2295"),u=i("d60774"),a=i("6fb74c"),b=(i("ba1ec2"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/BattleShipGiftBanner/BattleShipGiftBanner.js");function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var _,l=l.default.Service,c=(c=Object(c.ErrorHandler)(p.a.createElement("div",{__source:{fileName:b,lineNumber:20},__self:void 0})),u=l(u.default),a=l(a.default),c((h(g,_=p.a.Component),g.prototype.componentWillReceiveProps=function(e){var t=e.giftId,e=void 0===t?"":t,t=this.props.luckGiftList,t=+e?this.BattleShipEnterServices.compareIsLuckyGift(e,void 0===t?[]:t):0;t?(this.setState({isLuckyGift:1,curLuckyGift:t}),this.isRequestFlag||(this.isRequestFlag=1,this.BattleShipActServices.fetchBattleShipActInit())):this.setState({isLuckyGift:0,curLuckyGift:t})},g.prototype.componentDidMount=function(){var t=this,e=this.props,i=e.giftId,i=void 0===i?"":i,e=e.luckGiftList,e=+i?this.BattleShipEnterServices.compareIsLuckyGift(i,void 0===e?[]:e):0;this.sub=this.BattleShipActServices.act$.subscribe(function(e){t.setState({actList:e})}),e&&(this.setState({isLuckyGift:1,curLuckyGift:e}),this.BattleShipActServices.fetchBattleShipActInit())},g.prototype.componentWillUnmount=function(){this.sub&&this.sub.unsubscribe&&this.sub.unsubscribe()},g.prototype.render=function(){var e=this.props,t=e.giftId,i=e.configs,n=void 0===i?{}:i,r=this.state,a=r.isLuckyGift,o=void 0!==a&&a,l=r.curLuckyGift,c=void 0===l?{}:l,s=r.actList,u=this.BattleShipEnterServices.luckyGiftInfo(void 0===t?"":t,void 0===s?[]:s),f=u||{},e=f.status,i=void 0===e?0:e,a=f.level,l=void 0===a?0:a,r=f.is_full_level,t=void 0===r?0:r,s=f.score_n,e=f.score_d,a=f.deadsec,r=void 0===a?"":a,f=c||{},a=f.name,c=void 0===a?"":a,a=f.priceInfo,f=(a=void 0===a?{}:a).price,a=this.scoreToNum(+(void 0===s?0:s),+(void 0===e?0:e),+(void 0===f?0:f))||{},s=this.progressBarWidth(a,+t),e=this.progressInfoTpl(u,n),f=this.progressBarTpl(a,c),n="Lv."+ +l,a="Lv."+(+l+1);return+t&&(n="Lv."+(+l-1),a="Lv."+ +l,f=p.a.createElement(p.a.Fragment,{__source:{fileName:b,lineNumber:228},__self:this},p.a.createElement("span",{className:"BattleShipGiftBanner-maxGiftName",title:c,__source:{fileName:b,lineNumber:228},__self:this},c),"加倍已达最高等级")),+i&&(n="Lv.0",a="Lv.1",f=p.a.createElement("span",{className:"BattleShipGiftBanner-heightlight",__source:{fileName:b,lineNumber:234},__self:this},p.a.createElement(m.default,{time:+r,form:"hh:mm:ss",__source:{fileName:b,lineNumber:234},__self:this})," 后开启")),o&&u?p.a.createElement("div",{className:"BattleShipGiftBanner",__source:{fileName:b,lineNumber:238},__self:this},p.a.createElement(d.default,{barWidth:s,level1:n,level2:a,barTpl:f,infoTpl:e,__source:{fileName:b,lineNumber:239},__self:this})):null},n=v((c=g).prototype,"BattleShipEnterServices",[u],{enumerable:!0,initializer:null}),r=v(c.prototype,"BattleShipActServices",[a],{enumerable:!0,initializer:null}),c=c))||c);function g(e){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,_.call(this,e));return f(c,"BattleShipEnterServices",n,c),f(c,"BattleShipActServices",r,c),c.progressBarWidth=function(e,t){var i=e||{},e=i.num1,e=void 0===e?0:e,i=i.num2,i=void 0===i?0:i,i=e&&i?parseInt(e/i*100,10):0;return t||100<i?100:i},c.handleRewardType=function(e,t,i){var n=c.BattleShipEnterServices.chargeLevelInfo(e,t,i),r=(t||{}).charge_award_prop,i=void 0===r?[]:r,t="";return 1==+e?t=((r=void 0===(r=(n||{}).award_yc)?"":r)?parseInt(r/100,10):"--")+"鱼翅":2==+e&&((e=n||{}).carnival_award,e.carnival_prop,e=(n=(void 0===(e=(n||{}).award_prop)?{}:e)||{}).prop_id,n=void 0===(n=n.num)?"":n,i=c.BattleShipEnterServices.propIdToName(void 0===e?"":e,i),t=p.a.createElement(p.a.Fragment,{__source:{fileName:b,lineNumber:127},__self:l},p.a.createElement("span",{className:"BattleShipGiftBanner-maxGiftName",__source:{fileName:b,lineNumber:127},__self:l},i),"x",n)),t},c.progressInfoTpl=function(e,t){var i=e||{},n=i.status,r=void 0===n?0:n,a=i.level,o=void 0===a?0:a,e=i.is_full_level,n=void 0===e?0:e,a=(i.score_n,i.score_d,i.charge_type),e=void 0===a?1:a,i=(t||{}).carnival,a=void 0===i?{}:i,t=0==+o?1:+o,i=1+t<=10?c.handleRewardType(e,a,+t+1):"",t=c.handleRewardType(e,a,+t);return+r?p.a.createElement("span",{__source:{fileName:b,lineNumber:150},__self:l},"超级加倍将在下个激活点开启"):0==+o?p.a.createElement("span",{__source:{fileName:b,lineNumber:154},__self:l},"Lv.1: 超级装备额外获得",p.a.createElement("span",{className:"BattleShipGiftBanner-heightlight",__source:{fileName:b,lineNumber:154},__self:l},t)):+n?p.a.createElement("span",{__source:{fileName:b,lineNumber:158},__self:l},"超级装备额外获得",p.a.createElement("span",{className:"BattleShipGiftBanner-heightlight",__source:{fileName:b,lineNumber:158},__self:l},t)):p.a.createElement("span",{__source:{fileName:b,lineNumber:161},__self:l},p.a.createElement("span",{__source:{fileName:b,lineNumber:162},__self:l},"Lv.",o,": 超级装备额外获得",p.a.createElement("span",{className:"BattleShipGiftBanner-heightlight",__source:{fileName:b,lineNumber:162},__self:l},t)),p.a.createElement("span",{__source:{fileName:b,lineNumber:163},__self:l}," (Lv.",+o+1,"：额外获得",p.a.createElement("span",{className:"BattleShipGiftBanner-heightlight",__source:{fileName:b,lineNumber:163},__self:l},i),") "))},c.scoreToNum=function(e,t,i){return{num1:e&&i?parseInt(+e/i,10):0,num2:t&&i?parseInt(+t/i,10):0}},c.progressBarTpl=function(e,t){var i=e||{},e=i.num1,i=i.num2;return p.a.createElement(p.a.Fragment,{__source:{fileName:b,lineNumber:189},__self:l},p.a.createElement("span",{className:"BattleShipGiftBanner-maxGiftName",title:t,__source:{fileName:b,lineNumber:190},__self:l},t),"个数：",i?Object(s.mmFormatNumByWan)(e,1):"--","/",i?Object(s.mmFormatNumByWan)(i,1):"--")},c.state={actList:[],isLuckyGift:!1,curLuckyGift:{}},c.isRequestFlag=0,c}t.default=Object(o.connect)(function(e){e=e.battleShipData,e=void 0===e?{}:e;return{luckGiftList:e.luckGiftList,configs:e.configs}})(c)},"09dd72":function(e,t,i){"use strict";var n,r,a,o=i("1a22b7"),l=i.n(o),c=i("7ca7dc"),s=i("eb3e22"),u=i("97a1f0"),f=i("db47a7"),p=i("748d25"),m=i("0f636f"),d=i("104af8"),b=i("074d14"),h=i("eeb07d"),v=i("56b0a1"),_=i("ffca33"),o=i("e854a7"),g=i("81b5d6");function y(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function w(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}i("fa0524");var O,c=c.default.Service,S=o.default.socketStream,l=(o=Object(u.ErrorHandler)(),u=c(s.DataCenter.global),s=c(s.DataCenter.localStorage),v=c(v.default),o((N(E,O=l.a.Component),E.prototype.componentDidMount=function(){var n=this;this.curUid=+this.global.get("USER_INFO.uid")||"",this.isAnchor=this.curUid===+this.global.get("$ROOM.owner_uid")?1:0,this.sub.add(this.promptTips$.pipe(Object(p.filter)(function(e){var t=e[0].gid;return e[1].some(function(e){return parseInt(e.id,10)===parseInt(t,10)})}),Object(p.filter)(function(e){var t=e[0],e=t.is_open,t=t.layer_is_open;return 1==+e&&1==+t}),Object(p.filter)(function(e){var t=e[0].layer_open_time,e=(e[1],e[2]);return+n.localStorage.get(""+e+n.curUid)!==t})).subscribe(function(e){var t=e[0],i=t.web_layer_content,t=t.layer_open_time,e=(e[1],e[2]);n.localStorage.set(""+e+n.curUid,t);i=i||"";Object(g.default)({content:i,duration:8e3,type:"egg",arrowRight:0,showClose:!0,onClick:n.dysubTipsBtn,ext:{zIndex:100,extClass:"EggGiftTips",closeClass:"EggGiftTips-close"}}),Object(f.dysub2)({action_code:"16010020700G",event_id:3,type:1})})),this.sub.add(Object(h.forkJoin)(this.giftDataServices.getEggxGiftConfig(),this.giftDataServices.getGiftData("LIST"),Object(_.default)({url:"//webconf.douyucdn.cn//resource/common/comm_icon_w.json",type:"jsonp",callbackName:"comm_icon"}),this.giftDataServices.reqMusicianGiftConfig()).pipe(Object(m.tap)(function(e){return n.promptTips(e)}),Object(p.filter)(function(){return!n.isAnchor})).subscribe(function(e){var t=e[0],i=e[1],e=(e[2],e[3]);n.promptTips$.next([t,i,"EGGGIFTTIPS"]),n.promptTips$.next([e,i,"MUSICIANGIFTTIPS"])}))},E.prototype.componentWillUnmount=function(){this.sub&&this.sub.unsubscribe&&this.sub.unsubscribe()},E.prototype.render=function(){return null},n=w((l=E).prototype,"global",[u],{enumerable:!0,initializer:null}),r=w(l.prototype,"localStorage",[s],{enumerable:!0,initializer:null}),a=w(l.prototype,"giftDataServices",[v],{enumerable:!0,initializer:null}),l=l))||l);function E(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,O.call(this,e));return y(l,"global",n,l),y(l,"localStorage",r,l),y(l,"giftDataServices",a,l),l.promptTips=function(e){var t=e[0].gid,i=e[1],n=e[2],r=void 0===n?{}:n,a=e[3].gid,o=[i.some(function(e){return parseInt(e.id,10)===parseInt(t,10)})?"cookbufftips":"",i.some(function(e){return parseInt(e.id,10)===parseInt(a,10)})?"musicbufftips":""].filter(function(e){return e});l.sub.add(l.commIcon$.pipe(Object(p.filter)(function(e){var t=e.rid,e=e.now;return+t==+l.global.get("$ROOM.room_id")&&+e>=l.nowTime}),Object(m.tap)(function(e){e=e.now;return l.nowTime=e})).subscribe(function(e){e=e.bizlist;(Array.isArray(e)?e.filter(function(e){return o.includes(e.btype)&&1==+e.tips}):[]).forEach(function(e){var t=e.btype,e=e.tmp,e=((r[t]||{})[e]||{}).tips;t&&e&&Object(g.default)({content:"<img src="+e+" />",duration:3e3,type:"eggPromptTips",arrowRight:0,showClose:!0,ext:{zIndex:100,extClass:"cookGiftPromptTips",closeClass:"cookGiftPromptTips-import-close"}})})})),S.subscribe("commicon",function(){l.commIcon$.next(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})})},l.dysubTipsBtn=function(){Object(f.dysub2)({action_code:"16010020700G",event_id:1,type:1})},l.commIcon$=new d.Subject,l.sub=new b.Subscription,l.promptTips$=new d.Subject,l.nowTime=0,l}t.default=l},"0a0bc8":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/panel_ab5992d.gif"},"0a257a":function(e,t,i){"use strict";i.d(t,"default",function(){return g});var n,r,a,o=i("1a22b7"),l=i.n(o),c=i("292183"),s=i.n(c),u=i("7ca7dc"),t=i("54992a"),f=i("f2b8b7"),p=i("8ee5f5"),o=i("56b0a1"),c=i("5b9730"),m=i("ad15c9"),d=(i("dfe9b1"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/ExpandPanel.js");function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var _,i=u.default.Service,g=(u=Object(t.log)(!0),c=i(c.default),o=i(o.default),t=i(t.Logger),u((h(y,_=l.a.Component),y.prototype.componentDidMount=function(){p.default.setExpandPanelInstance(this)},y.prototype.renderTrackVertical=function(e){return l.a.createElement("div",{className:"GiftExpandPanel--vertical "+(e||""),__source:{fileName:d,lineNumber:55},__self:this})},y.prototype.renderTrackHorizontal=function(){return l.a.createElement("div",{style:{display:"none"},__source:{fileName:d,lineNumber:59},__self:this})},y.prototype.renderThumbVertical=function(e){return l.a.createElement("div",{className:"GiftExpandPanelBar--vertical "+(e||""),__source:{fileName:d,lineNumber:63},__self:this})},y.prototype.render=function(){var i=this,e=this.props,t=e.panelGift,n=e.nobleGift,r=e.sendGift,e=e.giftSkinSelData,a=void 0===e?{}:e,e=this.state.visible?"block":"none";return l.a.createElement("div",{className:"ToolbarGiftArea-giftExpandBox",__source:{fileName:d,lineNumber:71},__self:this},l.a.createElement("a",{className:["ToolbarGiftArea-giftExpandBtn",this.state.visible?"is-open":""].join(" "),title:"点击查看更多礼物",onClick:this.toggle,__source:{fileName:d,lineNumber:72},__self:this},this.state.visible?"∨":"∧"),l.a.createElement("div",{className:"GiftExpandPanel",style:{display:e},__source:{fileName:d,lineNumber:80},__self:this},l.a.createElement("span",{className:"GiftExpandPanel-close",onClick:this.toggle,__source:{fileName:d,lineNumber:81},__self:this},"×"),l.a.createElement("div",{className:"GiftExpandPanel-arrowOuter",__source:{fileName:d,lineNumber:82},__self:this},l.a.createElement("div",{className:"GiftExpandPanel-arrowInner",__source:{fileName:d,lineNumber:83},__self:this})),l.a.createElement("div",{className:"GiftExpandPanel-giftListWrap",__source:{fileName:d,lineNumber:85},__self:this},l.a.createElement(f.Scrollbars,{renderTrackVertical:function(){return i.renderTrackVertical()},renderThumbVertical:function(){return i.renderThumbVertical()},renderTrackHorizontal:function(){return i.renderTrackHorizontal()},autoHeight:!0,autoHeightMax:382,__source:{fileName:d,lineNumber:86},__self:this},0<t.length?l.a.createElement("div",{className:"GiftExpandPanel-giftList",__source:{fileName:d,lineNumber:95},__self:this},l.a.createElement("div",{className:"GiftExpandPanel-giftListDesc",__source:{fileName:d,lineNumber:96},__self:this},l.a.createElement("strong",{className:"GiftExpandPanel-descName",__source:{fileName:d,lineNumber:97},__self:this},"普通礼物"),l.a.createElement("span",{className:"GiftExpandPanel-descOwner",__source:{fileName:d,lineNumber:98},__self:this},"拥有数：",t.length)),l.a.createElement("div",{className:"GiftExpandPanel-giftListCont",__source:{fileName:d,lineNumber:102},__self:this},t.map(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],e=i.giftDataServices.returnMergeSkinItem(e,a[e.id]);return l.a.createElement(m.default,{sendGift:r,info:e,key:t,__source:{fileName:d,lineNumber:110},__self:i})}))):null,0<n.length?l.a.createElement("div",{className:"GiftExpandPanel-giftList",__source:{fileName:d,lineNumber:120},__self:this},l.a.createElement("div",{className:"GiftExpandPanel-giftListDesc",__source:{fileName:d,lineNumber:121},__self:this},l.a.createElement("strong",{className:"GiftExpandPanel-descName",__source:{fileName:d,lineNumber:122},__self:this},"贵族礼物"),l.a.createElement("span",{className:"GiftExpandPanel-descOwner",__source:{fileName:d,lineNumber:123},__self:this},"拥有数：",l.a.createElement("em",{__source:{fileName:d,lineNumber:123},__self:this},n.length))),l.a.createElement("div",{className:"GiftExpandPanel-giftListCont",__source:{fileName:d,lineNumber:127},__self:this},n.map(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],e=i.giftDataServices.returnMergeSkinItem(e,a[e.id]);return l.a.createElement(m.default,{sendGift:r,info:e,key:t,__source:{fileName:d,lineNumber:134},__self:i})}))):null))))},y.propTypes={panelGift:s.a.array.isRequired,nobleGift:s.a.array.isRequired},n=v((s=y).prototype,"giftService",[c],{enumerable:!0,initializer:null}),r=v(s.prototype,"giftDataServices",[o],{enumerable:!0,initializer:null}),a=v(s.prototype,"logger",[t],{enumerable:!0,initializer:null}),s=s))||s);function y(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,_.call(this));return b(e,"giftService",n,e),b(e,"giftDataServices",r,e),b(e,"logger",a,e),e.toggle=function(){e.setState({visible:!e.state.visible}),e.giftService.giftDYSub("click_gift_more")},e.state={visible:!1},e}},"0ae2e3":function(e,t,i){"use strict";var n,r,a,o,l,c,s=i("7ca7dc"),u=i("97a1f0"),f=i("eb3e22"),p=i("fc7947"),m=i.n(p),d=i("722b8a"),b=i("eeb07d"),h=i("8dd4e6"),v=i("e854a7"),_=i("d9d29f"),g=i("20ec0b"),y=i("56b0a1"),N=i("564e7b"),w=i("ac64b0"),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function S(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function j(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var T,p=s.default.Store,i=s.default.Service,P=v.default.socketStream,N=(s=p(),v=i(f.DataCenter.acj),p=i(f.DataCenter.global),g=i(g.default),y=i(y.default),i=i(N.default),E(D,T=u.Service),D.prototype.init=function(e){var t=this;return!this.giftSendServices.isAnchor()&&(this.updateLuckTimeCallback!==e.updateLuckTimeCallback&&(this.updateLuckTimeCallback=e.updateLuckTimeCallback),this.isInit||(this.isInit=!0,this.roomId=this.global.get("$ROOM.room_id"),P.subscribe("memberinfores",function(e){t.memberinfoData=e||{},t.listerMsg()})),!1)},D.prototype.listerMsg=function(){var t=this;this.acj.get(w.ROOM_TYPE.ROOM_ZHUANPAN).subscribe(function(e){switch(parseInt(e.type,10)){case 8:t.panelShow=!0;break;case 6:t.panelShow=!1}}),this.acj.get(w.ROOM_TYPE.ROOM_PLAYER_LOADSUCCESS).subscribe(function(){t.panelShow=!1}),P.subscribe("ltst",function(e){e&&parseInt(e.rid,10)===t.roomId&&0<e.ctd&&"function"==typeof t.updateLuckTimeCallback&&(t.luckTime=(new Date).getTime()+1e3*e.ctd,t.startLuckTime(),t.updateLuckTimeCallback(e.ctd))}),this.getTurntableConfigs(),this.giftSendServices.giftSendCallbackFlow.subscribe(function(e){t.checkIsGetTicket(e)}),P.subscribe("lucky_wheel_pool",function(e){return t.dealMoonMsg(e)}),P.subscribe("lucky_wheel_prize",function(e){return t.dealMoonMsg(e)})},D.prototype.updateData=function(e){e&&this.store.dispatch(_.TurntableLotteryActions.updateData(O({},e)))},D.prototype.updateState=function(e){this.state=Object.assign({},this.state,e)},D.prototype.checkIsGetTicket=function(e){var t,i=this.turntableConfigs,n=(r="turntableGetTicketTip",f.DataCenter.localStorage.get(r));if(i&&i.is_open_v2&&e){var r=i.gift_id,i=i.gift_rebate_coupon;if(parseInt(e.gid,10)===parseInt(r,10)){if(this.acj.push(w.JS_TYPE.JS_ZHUANPAN,{type:3,data:e.num*i}),n&&0<n)return!1;r="turntableGetTicketTip",n=1,f.DataCenter.localStorage.set(r,n,t),this.store.dispatch(_.TurntableLotteryActions.updateData({getTicketNum:e.num*i}))}}return!1},D.prototype.startLuckTime=function(){var t=this;this.unsubCd(),this.luckTimeListen=this.cdTimer.subscribe(function(){var e=(new Date).getTime(),e=parseInt((t.luckTime-e)/1e3,10);0<=e?t.updateLuckTimeCallback(e):t.unsubCd()})},D.prototype.unsubCd=function(){this.luckTimeListen&&this.luckTimeListen.unsubscribe&&this.luckTimeListen.unsubscribe()},D.prototype.getConfigsFlow=function(){return f.jsonpClient.get(String,"//webconf.douyucdn.cn//resource/common/turntable_lottery_config.json","turntable_lottery_config")},D.prototype.getTurntableConfigs=function(){var c=this;Object(b.forkJoin)(this.getConfigsFlow(),this.giftDataServices.getGiftData(),this.giftSendServices.getRoomData()).subscribe(function(e){var t=e[0],i=void 0===t?{}:t,n=e[1],r=void 0===n?{}:n,a=e[2],o=void 0===a?{}:a,l=i.data?u.GSON.parse(i.data):{},t=(r||{})[l.gift_id]||{},n=t.id,e=t.name,a=t.picUrlPrefix,i=t.basicInfo,r=void 0===i?{}:i,i=t.priceInfo,i=void 0===i?{}:i;c.turntableConfigs=l,c.giftInfo=t,c.roomData=o,c.playerGiftInfo={id:n,name:e,giftPic:a+r.giftPic,priceName:(i.price/100||"--")+("YUWAN"===i.priceType?"鱼丸":"鱼翅")};o=c.checkOpenState(c.turntableConfigs,o);o&&(c.sendConfigToFlash({configs:c.turntableConfigs,giftInfo:c.playerGiftInfo}),c.store.dispatch(_.TurntableLotteryActions.updateData({configs:c.turntableConfigs,giftInfo:c.playerGiftInfo,isOpen:o}))),c.openStatus=o?1:2})},D.prototype.checkOpenState=function(e){var t=this;if(!e)return!1;var i=(this.memberinfoData||{}).level,n=void 0===i?1:i,r=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).cate_id,a=e.is_open_v2,o=e.permission_settings,l=void 0===o?{}:o,i=l.deny_rooms,e=void 0===i?[]:i,o=l.allow_cate2s,i=void 0===o?[]:o,o=l.allow_rooms,o=void 0===o?[]:o,l=l.user_level_limit,l=void 0===l?0:l;if(1!=+a)return!1;e=e.filter(function(e){return 0<e&&parseInt(e,10)===parseInt(t.roomId,10)});if(e&&e.length)return!1;if(0<+l&&!m.a.check())return!1;if(!(+l<=+n))return!1;i=i.filter(function(e){return 0<e&&parseInt(e,10)===parseInt(r,10)});if(i&&i.length)return!0;o=o.filter(function(e){return 0<e&&parseInt(e,10)===parseInt(t.roomId,10)});return!(!o||!o.length)},D.prototype.sendConfigToFlash=function(e){this.acj.push(w.JS_TYPE.JS_ZHUANPAN,{type:1,data:e.configs,giftObj:e.giftInfo})},D.prototype.openTurntable=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return!(e.show&&this.panelShow||(this.panelShow?this.acj.push(w.JS_TYPE.JS_ZHUANPAN,{type:5}):this.acj.push(w.JS_TYPE.JS_ZHUANPAN,{type:2,data:e.configs||this.turntableConfigs,giftObj:e.giftInfo||this.playerGiftInfo}),1))},D.prototype.getZoneID=function(){var e=this.turntableConfigs||{},t=this.roomData||{},e=e.moonshine_box_setting,e=(void 0===e?{}:e).zone_settings,i=void 0===e?{}:e,t=t.room,n=(void 0===t?{}:t).cate1_id,r=-1;return Object.keys(i).forEach(function(e){(i[e]||[]).some(function(e){return parseInt(e,10)===parseInt(n,10)})&&(r=parseInt(e,10))}),r},D.prototype.isMoonOpen=function(){var e=(this.turntableConfigs||{}).moonshine_box_setting;return e&&1==+e.is_open},D.prototype.checkMoonState=function(){var t=this,e=this.turntableConfigs||{},i=(this.roomData||{}).cate2_id,n=e.moonshine_box_setting,e=void 0===n?{}:n;if(!this.isMoonOpen())return!1;n=e.black_room,n=void 0===n?[]:n,e=e.black_cate2,e=void 0===e?[]:e,n=n.filter(function(e){return 0<e&&parseInt(e,10)===parseInt(t.roomId,10)});if(n&&n.length)return!1;e=e.filter(function(e){return 0<e&&parseInt(e,10)===parseInt(i,10)});return!e||!e.length},D.prototype.dealMoonMsg=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this.getZoneID()!==parseInt(e.zone,10))return!1;switch(e.type){case"lucky_wheel_pool":var t=e.ut,t=void 0===t?0:t;this.checkMoonState()&&(1!==parseInt(t,10)&&2!==parseInt(t,10)||(this.updateState({moonBoxData:e}),this.updateData({moonTipsData:e}),this.dysub2({action_code:"16010020G00M",event_id:3,type:1})));break;case"lucky_wheel_prize":t=(this.turntableConfigs||{}).moonshine_box_setting,t=(void 0===t?{}:t).win_tips_switch;1===parseInt(void 0===t?0:t,10)&&(this.updateData({moonTipsData:e}),this.dysub2({action_code:"16010020G00L",event_id:3,type:1}))}return!1},D.prototype.dpCenter=function(e){if(!e)return!1;var t=e.actionCode,i=e.eventId,n=e.type,e=e.data,e=void 0===e?null:e,n={action_code:t,event_id:i,type:n};return e&&(n.ext=e),this.publicToolsServices.dysub2(n),!0},D.prototype.dysub2=function(e){this.publicToolsServices.dysub2(e)},D.prototype.getExtName=function(){return{name_f4:"环游星空",name_f2:"环游",name_f1:"环"}},D.prototype.otherOpenPanel=function(e){switch(this.openStatus){case 1:this.openTurntable(e);break;case 2:d.default.info("本房间未开启该互动玩法")}},n=j((N=D).prototype,"store",[s],{enumerable:!0,initializer:null}),r=j(N.prototype,"acj",[v],{enumerable:!0,initializer:null}),a=j(N.prototype,"global",[p],{enumerable:!0,initializer:null}),o=j(N.prototype,"giftSendServices",[g],{enumerable:!0,initializer:null}),l=j(N.prototype,"giftDataServices",[y],{enumerable:!0,initializer:null}),c=j(N.prototype,"publicToolsServices",[i],{enumerable:!0,initializer:null}),N);function D(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,D);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,T.call(this));return S(e,"store",n,e),S(e,"acj",r,e),S(e,"global",a,e),S(e,"giftSendServices",o,e),S(e,"giftDataServices",l,e),S(e,"publicToolsServices",c,e),e.state={},e.isInit=!1,e.cdTimer=Object(h.timer)(1e3,1e3),e.luckTime=0,e.luckTimeListen=null,e.playerGiftInfo=null,e.memberinfoData=null,e.openStatus=0,e}t.default=N},"0b146c":function(e,t,i){},"0be4b4":function(e,t,i){},"0bfb3f":function(e,t,i){"use strict";i=i("a00326");t.default=i.default},"0c9be2":function(e,t,i){"use strict";i=i("d345ab");t.default=i.default},"0cc127":function(e,t,i){e.exports=i("5f575e")("a1526")},"0d126b":function(e,t,i){"use strict";i=i("f0a5be");t.default=i.default},"0dcead":function(e,t,i){e.exports=i("5f575e")("2f290")},"0de621":function(e,t,i){"use strict";var n,r,a,o=i("1a22b7"),l=i.n(o),c=i("447d8e"),s=i("7ca7dc"),u=i("8dd4e6"),f=i("97a1f0"),p=i("eb3e22"),o=i("08b7b4"),m=(i("2a3ec5"),"/shark/live/src/pages/roomPage/toolbarModule/components/PlayFishBallEnter/index.js");function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var v,i=s.default.Service,_="20PlayFishBallEnterTips",g="20PlayFishBallEnterNewDot",s=(s=Object(f.ErrorHandler)(l.a.createElement("div",{__source:{fileName:m,lineNumber:17},__self:void 0})),f=i(o.default),o=i(p.DataCenter.localStorage),p=i(p.DataCenter.global),s((b(y,v=l.a.Component),y.prototype.componentDidMount=function(){var e=this,t=this.props.isAnchor;t||1==+this.localStorage.get(_+this.curUid)||(this.setState({isShow:!0}),this.localStorage.set(_+this.curUid,1),this.timer=Object(u.timer)(5e3).subscribe(function(){e.setState({isShow:!1})})),t||1===this.localStorage.get(g+this.curUid)||this.setState({isNewShow:!0})},y.prototype.componentWillUnmount=function(){this.timer&&this.timer.unsubscribe()},y.prototype.render=function(){var e=this,t=this.props,i=t.isOpen,n=t.isUserLimit,r=this.state,t=r.isShow,r=r.isNewShow;return void 0!==i&&i&&!n?l.a.createElement("div",{className:"PlayFishBallEnter",__source:{fileName:m,lineNumber:77},__self:this},l.a.createElement("div",{className:"PlayFishBallEnter-icon",onClick:function(){return e.onEnterClick()},__source:{fileName:m,lineNumber:78},__self:this},l.a.createElement("span",{className:"PlayFishBallEnter-name",__source:{fileName:m,lineNumber:79},__self:this},"打弱鸡"),r?l.a.createElement("span",{className:"PlayFishBallEnter-newDot",__source:{fileName:m,lineNumber:81},__self:this}):null),t?l.a.createElement("div",{className:"PlayFishBallEnter-Tips",__source:{fileName:m,lineNumber:85},__self:this},"打弱鸡游戏上线，参与游戏挑战游戏记录"):null):null},n=h((s=y).prototype,"gameLauncherServices",[f],{enumerable:!0,initializer:null}),r=h(s.prototype,"localStorage",[o],{enumerable:!0,initializer:null}),a=h(s.prototype,"global",[p],{enumerable:!0,initializer:null}),s=s))||s);function y(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this,e));return d(t,"gameLauncherServices",n,t),d(t,"localStorage",r,t),d(t,"global",a,t),t.onEnterClick=function(){t.gameLauncherServices.togglePanel(),1!==t.localStorage.get(g+t.curUid)&&(t.localStorage.set(g+t.curUid,1),t.setState({isNewShow:!1}))},t.state={isShow:0,isNewShow:0},t.curUid=+t.global.get("USER_INFO.uid"),t}t.default=Object(c.connect)(function(e){e=e.playFishBallData,e=void 0===e?{}:e;return{isOpen:e.isOpen,isUserLimit:e.isUserLimit,isAnchor:e.isAnchor}})(s)},"0e0f84":function(e,t,i){"use strict";var o,n=i("1a22b7"),r=i.n(n),a=i("447d8e"),l=i("7ca7dc"),c=i("5264d4"),s=i("a50154"),u=(i("104af8"),i("4df597")),f=(i("b00678"),i("db47a7")),n=i("97a1f0"),p=(i("a6da2f"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/GiftRebatesBanner/GiftRebatesBanner.js");function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var d,b,h,v,_,g,l=l.default.Service,n=(n=Object(n.ErrorHandler)(r.a.createElement("div",{__source:{fileName:p,lineNumber:22},__self:void 0})),s=l(s.default),n((m(y,g=r.a.Component),y.prototype.componentDidMount=function(){var n=this;this.sub=Object(c.combineLatest)(this.gid$,this.list$,this.getServerTimeService.getAdjustTime()).subscribe(function(e){var t=e[0],i=e[1],e=e[2],e=n.checkNeedShow(t,i,e);n.setState({curInfo:e},function(){n.dyDot(3)})})},y.prototype.componentWillReceiveProps=function(e){var t=this.props,i=t.list,n=void 0===i?[]:i,r=t.giftId,a=t.isInfoPanealShow,o=e.list,i=void 0===o?[]:o,t=e.giftId,o=e.isInfoPanealShow;t&&r!==t&&this.gid$.next(e.giftId),r===t&&!a&&o&&this.dyDot(3),n.length!==i.length&&this.list$.next(i)},y.prototype.componentWillUnmount=function(){this.sub&&this.sub.unsubscribe&&this.sub.unsubscribe()},y.prototype.render=function(){var e=this,t=this.state.curInfo,i=t||{},n=i.giftIntroUrl,i=i.giftWebPic;return t&&i?r.a.createElement("div",{className:"GiftRebatesBanner",style:{backgroundImage:"url("+i+")"},__source:{fileName:p,lineNumber:102},__self:this},n?r.a.createElement("a",{className:"GiftRebatesBanner-btn",onClick:function(){return e.dyDot(1)},href:n,target:"_blank",__source:{fileName:p,lineNumber:104},__self:this}):null):null},d=(n=y).prototype,b="getServerTimeService",s=[s],h={enumerable:!0,initializer:null},_={},Object.keys(h).forEach(function(e){_[e]=h[e]}),_.enumerable=!!_.enumerable,_.configurable=!!_.configurable,("value"in _||_.initializer)&&(_.writable=!0),_=s.slice().reverse().reduce(function(e,t){return t(d,b,e)||e},_),v&&void 0!==_.initializer&&(_.value=_.initializer?_.initializer.call(v):void 0,_.initializer=void 0),void 0===_.initializer&&(Object.defineProperty(d,b,_),_=null),o=_,n=n))||n);function y(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);var t,i,n,r,a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,g.call(this,e));return i="getServerTimeService",r=t=a,(n=o)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),a.checkNeedShow=function(n,e,r){return e.find(function(e){var t=e.giftId,i=e.startTime,e=e.endTime;return+t==+n&&+i<=r&&r<+e})},a.dyDot=function(e){var t=(a.state.curInfo||{}).id;t&&Object(f.dysub2)({action_code:"16010022L002",event_id:e,type:1,ext:{_act_id:t}})},a.state={curInfo:null},a.gid$=new u.BehaviorSubject(e.giftId),a.list$=new u.BehaviorSubject(e.list),a}t.default=Object(a.connect)(function(e){e=e.giftRebatesData;return{list:(void 0===e?{}:e).list||[]}})(n)},"0f5fdd":function(e,t,i){e.exports=i("5f575e")("dc18d")},"0f636f":function(e,t,i){e.exports=i("5f575e")("23661")},"0faf5b":function(e,t,i){e.exports=i("5f575e")("fc3e2")},"0fc7f7":function(e,t,i){e.exports=i("5f575e")("9cbe0")},"104af8":function(e,t,i){e.exports=i("d1db8c")("b2b3f")},"10736b":function(e,t,i){"use strict";i=i("4a4e33");t.default=i.default},109005:function(e,t,i){e.exports=i("5f575e")("4910b")},"1140d7":function(e,t,i){"use strict";var n,r,a,o,l,c=i("1a22b7"),s=i.n(c),u=i("447d8e"),f=i("7ca7dc"),p=i("eb3e22"),m=i("0cc127"),d=i("a50154"),b=i("b14137"),h=i("8183ad"),v=i("8db4a8"),c=i("25592f"),_=(i("4f1c17"),"/shark/live/src/pages/roomPage/toolbarModule/business/rightArea/CookComplete/components/Enter.js");function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function N(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var w,i=f.default.Service,O=["斗鱼达人","即将开始"],S=!1,d=(f=i(v.default),v=i(p.DataCenter.common),p=i(p.DataCenter.localStorage),c=i(c.default),i=i(d.default),y(E,w=s.a.Component),E.prototype.componentDidMount=function(){var e=this;this.cookCompleteServices.init();var t=this.props.cookCompleteData,i=+this.localStorage.get("cookComplete_guideTips")||0;S||0!=+i||1!=+t.status||(S=!0,this.setState({hasShowTips:0}),this.localStorage.set("cookComplete_guideTips",1),this.tipTimer=setTimeout(function(){e.setState({hasShowTips:1})},8e3)),this.setInfo(t)},E.prototype.componentWillUnmount=function(){this.tipTimer&&clearTimeout(this.tipTimer)},E.prototype.componentWillReceiveProps=function(e){e=e.cookCompleteData;this.setInfo(e)},E.prototype.clickEnter=function(){this.cookPanelServices.togglePanel({isPanelShow:!0})},E.prototype.divisionKeepReal=function(e){return Math.round(e/1e3)},E.prototype.setInfo=function(e){var t=e.time,i=e.status,n=void 0===i?0:i,i=e.endTime,r=0,e=0,a=O[0],e=0<(e=1e3*+(void 0===i?0:i)-+(void 0===t?0:t))?e:0,r=0<(r=Date.now()+e)?this.divisionKeepReal(r):0;switch(+n){case 0:case 3:a=O[0];break;case 1:a=O[1];break;case 2:a=r;break;default:a=O[0]}this.setState({statusTxt:a})},E.prototype.closeGuideTips=function(){this.localStorage.set("cookComplete_guideTips",0),this.setState({hasShowTips:0})},E.prototype.render=function(){var e=this.props.cookCompleteData,t=void 0===e?{}:e,i=this.state,n=i.hasShowTips,r=void 0===n?0:n,a=i.statusTxt,o=t.status,l=t.startTime,e=t.kId,n=t.isTopRoom,i=t.topUserName,t=this.localStorage.get("cookComplete_guideTipsV2")||0;return s.a.createElement("div",{className:"CookComplete-enter",onClick:this.clickEnter,__source:{fileName:_,lineNumber:151},__self:this},r?null:s.a.createElement(b.default,{closeGuideTips:this.closeGuideTips,startTime:l,__source:{fileName:_,lineNumber:155},__self:this}),+e!==t&&n&&i?s.a.createElement(h.default,{topUserName:i,kId:e,closeGuideTipsV2:this.closeGuideTipsV2,__source:{fileName:_,lineNumber:158},__self:this}):null,s.a.createElement("div",{className:"CookComplete-enterTitle",__source:{fileName:_,lineNumber:162},__self:this},2!=+o?a:s.a.createElement(m.default,{type:2,time:a,form:"mm:ss",__source:{fileName:_,lineNumber:164},__self:this})))},n=N((d=E).prototype,"cookCompleteServices",[f],{enumerable:!0,initializer:null}),r=N(d.prototype,"common",[v],{enumerable:!0,initializer:null}),a=N(d.prototype,"localStorage",[p],{enumerable:!0,initializer:null}),o=N(d.prototype,"cookPanelServices",[c],{enumerable:!0,initializer:null}),l=N(d.prototype,"serverTimeServices",[i],{enumerable:!0,initializer:null}),d);function E(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,w.call(this,e));return g(t,"cookCompleteServices",n,t),g(t,"common",r,t),g(t,"localStorage",a,t),g(t,"cookPanelServices",o,t),g(t,"serverTimeServices",l,t),t.closeGuideTipsV2=function(e){t.localStorage.set("cookComplete_guideTipsV2",e||0),t.setState({showTipsV2:0})},t.state={cookCompleteData:{},hasShowTips:1,statusTxt:O[0]},t.tipTimer=null,t.closeGuideTips=t.closeGuideTips.bind(t),t.clickEnter=t.clickEnter.bind(t),t}t.default=Object(u.connect)(function(e){return{cookCompleteData:e.cookCompleteEnterData}})(d)},"11423c":function(e,t,i){"use strict";i=i("62c963");t.default=i.default},"11acb5":function(e,t,i){e.exports=i("5f575e")("5060b")},122038:function(e,t,i){"use strict";var n,r,a=i("1a22b7"),o=i.n(a),l=i("447d8e"),c=i("eb3e22"),s=i("7ca7dc"),u=i("db47a7"),f=i("54992a"),p=i("8bd4d5"),m=i("d721df"),d=i("16358b"),a=(i("569206"),i("4cb24f")),b=i.n(a);function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function _(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var g,s=s.default.Service,f=(c=s(c.DataCenter.common),m=s(m.default),Object(f.log)((v(y,g=o.a.Component),y.prototype.componentDidMount=function(){var l=this;d.default.toolbarActivityShow("fpsPromotion"),this.common.get("$DATA").subscribe(function(e){for(var t=(e.get("room")||{}).giftActivity,e=void 0===t?{}:t,t=e.fold,e=e.unfold,i=[].concat(void 0===t?[]:t,void 0===e?[]:e),n=0,r=i.length;n<r;n++){var a=i[n],o=a.activity_flag,a=a.icon_default;if("fpsPromotion"===o&&a){l.setState({iconUrl:a||b.a});break}}})},y.prototype.render=function(){var e=this.state.iconUrl;return o.a.createElement("div",{className:"FpsPromotionIcon",style:{backgroundImage:"url("+e+")"},onClick:this.changePanelStatus,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/FpsPromotionIcon/FpsPromotionIcon.js",lineNumber:79},__self:this})},n=_((f=y).prototype,"common",[c],{enumerable:!0,initializer:null}),r=_(f.prototype,"fpsPromotionServices",[m],{enumerable:!0,initializer:null}),f=f))||f);function y(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,g.call(this));return h(t,"common",n,t),h(t,"fpsPromotionServices",r,t),t.changePanelStatus=function(){var e=t.props.fpsPromotinPanelStatus;Object(u.dysub2)({action_code:"15090051A001",event_id:1},{_act_alias:p.ACT_ALIAS}),e||(t.fpsPromotionServices.fpsPromotionStatus({fpsPromotinPanelStatus:!0}),t.fpsPromotionServices.reqFpsRankList({actAlias:p.ACT_ALIAS}),t.fpsPromotionServices.checkFpsWealStatus({taskIds:p.TASK_IDS}))},t.state={iconUrl:b.a},t}t.default=Object(l.connect)(function(e){e=e.fpsPromotionData,e=(e=void 0===e?{}:e).fpsPromotinPanelStatus;return{fpsPromotinPanelStatus:void 0!==e&&e}})(f)},"1345d6":function(e,t,i){},"136f27":function(e,t,i){e.exports=i("5f575e")("561d5")},"13fe44":function(e,t,i){"use strict";i=i("b8bba1");t.default=i.default},"14a587":function(e,t,i){},"14fa9e":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/all_34e1db8.png"},"151a20":function(e,t,i){"use strict";i=i("27cf0e");t.default=i.default},"1592c2":function(e,t,i){e.exports=i("5f575e")("1741d")},"15aedc":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=(i("b9e377"),"/shark/live/src/pages/roomPage/toolbarModule/components/LolLottery/components/LotteryBanner.js");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,n=(o(c,l=n.Component),c.prototype.formattRule=function(e){(t=document.createElement("div")).innerHTML=e;var e=t.innerText||t.textContent,t=null;return e},c.prototype.render=function(){var e=this.props.activityRule,e=e?this.formattRule(e.description):"";return r.a.createElement("div",{className:"lotteryBanner",__source:{fileName:a,lineNumber:28},__self:this},r.a.createElement("span",{className:"lotteryBanner-title",__source:{fileName:a,lineNumber:29},__self:this},"看斗鱼直播，抽奥德赛限量皮肤"),r.a.createElement("a",{className:"lotteryBanner-rule",__source:{fileName:a,lineNumber:30},__self:this},"抽奖规则",r.a.createElement("div",{id:"lotteryBanner-ruleIntro",className:"lotteryBanner-ruleIntro",dangerouslySetInnerHTML:{__html:e},__source:{fileName:a,lineNumber:32},__self:this})))},c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,l.apply(this,arguments))}t.default=n},"15e4b2":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/data-icon_13f4533.png"},"16358b":function(e,t,i){e.exports=i("5f575e")("3dfab")},"173bc3":function(e,t,i){},"174f05":function(e,t,i){"use strict";function l(e,t){var i=[],n=[];return e.fold&&e.fold.length&&(i=e.fold),e.unfold&&e.unfold.length&&(n=e.unfold),i.find(function(e){return e.activityFlag===t})||n.find(function(e){return e.activityFlag===t})}var c=i("71c15e"),s=i("f61079"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f={fold:[],unfold:[],loaded:!1,left:0,entranceSwitch:0,showIframes:new Set([])};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1],i=void 0;switch(t.type){case c.RECEIVE_ACTIVITY_CONFIG:return u({},e,t.payload);case c.GET_ACTIVITY_CONFIG:return e;case s.TOOLBAR_ACTIVITY_ADD:var n=t.payload.flag,i=l(e,n),r=t.payload,a=r.params,o=void 0===a?{}:a,a=r.Component;return i?(i.Component=void 0===a?function(){return null}:a,i.weight=o.weight,i.position=o.position,u({},e,{unfold:e.unfold.slice(0),fold:e.fold.slice(0)})):e;case s.TOOLBAR_ACTIVITY_SHOW:return function(e,t){t=t.payload.flag,t=l(e,t);return t&&!t.enable?(t.enable=!0,u({},e,{unfold:e.unfold.slice(0),fold:e.fold.slice(0)})):e}(e,t);case s.TOOLBAR_ACTIVITY_HIDE:return function(e,t){t=t.payload.flag,t=l(e,t);return t&&t.enable?(t.enable=!1,u({},e,{unfold:e.unfold.slice(0),fold:e.fold.slice(0)})):e}(e,t);case c.GET_FISHPOND_ENTRANCESWITCH:return e;case c.RECEIVE_FISHPOND_ENTRANCESWITCH:return u({},e,t.payload);case c.CHANGE_IFAME_ACTIVITY_SHOW_DATA:return r=t,o=(a=e).showIframes,(o=new Set(o.values())).has(r.payload)?o.delete(r.payload):o.add(r.payload),u({},a,{showIframes:o});default:return e}}},"175c4f":function(e,t,i){"use strict";var a,o,l,n=i("1a22b7"),c=i.n(n),r=i("447d8e"),s=i("7ca7dc"),u=i("db47a7"),f=i("fc7947"),p=i.n(f),m=i("eb3e22"),d=i("16358b"),f=i("bc6a90"),b=(i("eff4b3"),i("b72f0a")),h="/shark/live/src/pages/roomPage/toolbarModule/components/LolLottery/LolLottery.js";function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function y(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var N,i=s.default.Service,n=(s=i(m.DataCenter.common),m=i(m.DataCenter.global),f=i(f.default),g(w,N=n.Component),w.prototype.componentDidMount=function(){var t=this;d.default.toolbarActivityShow("lolCooperationnew"),this.common.get("$DATA").subscribe(function(e){t.setState({roomData:{roomId:e.get("room.room_id")||0,cateId:e.get("room.category_id")||0,tagId:e.get("room.cate_id")||0,childId:e.get("room.child_id")||0,vid:e.get("room.vid")||0}})})},w.prototype.openGameWin=function(){var e=this.state,t=e.roomData,i=void 0===t?{}:t,n=e.actId,t=i.roomId,e=i.tagId,i=this.state.loadGameInfo;if(!p.a.check())return p.a.show("login"),void Object(u.dysub)("show_lottery_login",{tid:e,rid:t,active_id:n});i||(this.setState({loadGameInfo:!0}),this.lolLotteryService.getGameInfoEpics({actId:n}),this.lolLotteryService.getAnchorListEpics({actId:n}),this.lolLotteryService.getPrizeStatusEpics({actId:n})),this.lolLotteryService.showGameWin(),this.initUlink(),Object(u.dysub)("show_gift_lottery",{tid:e,rid:t,active_id:n})},w.prototype.initUlink=function(){var e,t,i,n=this;window.ulink||(e=document.getElementsByTagName("head")[0],i=function(){n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState?console.error("区服角色数据加载失败"):(n.setState({ulink:window.ulink}),t.onload=null,t.onreadystatechange=null)},(t=document.createElement("script")).type="text/javascript",t.src="//ulink.qq.com/ulinksdk/dist/js/ulink.1.0.0.js",t.onload=i,t.onreadystatechange=i,e.appendChild(t))},w.prototype.render=function(){var e=this,t=this.props,i=t.data,n=t.LolLotteryData,r=this.state,t=r.actId,r=r.roomData;return c.a.createElement("div",{className:"LolLottery",onClick:function(){return e.openGameWin()},__source:{fileName:h,lineNumber:120},__self:this},c.a.createElement("img",{className:"LolLottery-icon ",src:i?i.iconDefault:"",alt:"lol腾讯活动",__source:{fileName:h,lineNumber:121},__self:this}),c.a.createElement(b.default,{actId:t,roomData:r,data:i,LolLotteryData:n,closeSelf:this.closeGameWin,__source:{fileName:h,lineNumber:122},__self:this}))},a=y((n=w).prototype,"common",[s],{enumerable:!0,initializer:null}),o=y(n.prototype,"global",[m],{enumerable:!0,initializer:null}),l=y(n.prototype,"lolLotteryService",[f],{enumerable:!0,initializer:null}),n);function w(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=_(this,N.call.apply(N,[this].concat(n))),v(t,"common",a,t),v(t,"global",o,t),v(t,"lolLotteryService",l,t),t.state={actId:147,loadGameInfo:!1,roomData:{roomId:0,cateId:0,tagId:0,childId:0,vid:0}},_(t,e)}t.default=Object(r.connect)(function(e){return{LolLotteryData:e.LolLotteryData}})(n)},"179cdf":function(e,t,i){},181363:function(e,t,i){e.exports=i("5f575e")("d1383")},183617:function(e,t,i){"use strict";i=i("042e3f");t.default=i.default},"187f28":function(e,t,i){},189954:function(e,t,i){e.exports=i("5f575e")("ad78f")},"18a23f":function(e,t,i){"use strict";var n=i("f4be38");t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isShow:!1,buffRate:0,isSuperBuff:!1},t=arguments[1];return t.type!==n.SHOW_ACT_GIFT_BAR_BUBBLE?e:Object.assign({},t.payload)}},191436:function(e,t,i){e.exports=i("5f575e")("7dcd5")},"1920a9":function(e,t,i){"use strict";var n,r,a=i("1a22b7"),o=i.n(a),l=i("447d8e"),c=i("fc7947"),s=i.n(c),u=i("7ca7dc"),f=i("a50154"),a=i("76b1ae"),c=i("97a1f0"),p=(i("14a587"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/FishballTreasureBanner/FishballTreasureBanner.js");function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function b(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var h,u=u.default.Service,c=(c=Object(c.ErrorHandler)(o.a.createElement("div",{__source:{fileName:p,lineNumber:13},__self:void 0})),f=u(f.default),a=u(a.default),c((d(v,h=o.a.Component),v.prototype.render=function(){var e=this.props,t=e.giftId,i=e.giftBannerSwitch,e=e.bannerTips;return i&&2e4===t?o.a.createElement("div",{className:"FishballTreasureBanner",onClick:this.showFiashBallTreasure,__source:{fileName:p,lineNumber:38},__self:this},o.a.createElement("div",{className:"title",__source:{fileName:p,lineNumber:39},__self:this},o.a.createElement("span",{__source:{fileName:p,lineNumber:39},__self:this},"鱼丸夺宝")),o.a.createElement("div",{className:"text",__source:{fileName:p,lineNumber:40},__self:this},e)):null},n=b((c=v).prototype,"getServerTimeService",[f],{enumerable:!0,initializer:null}),r=b(c.prototype,"fishballTreasurePaneServices",[a],{enumerable:!0,initializer:null}),c=c))||c);function v(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,h.call(this,e));return m(t,"getServerTimeService",n,t),m(t,"fishballTreasurePaneServices",r,t),t.showFiashBallTreasure=function(){s.a.check()?t.fishballTreasurePaneServices.togglePanel({isPanelShow:!0}):s.a.show()},t.state={curInfo:null},t}t.default=Object(l.connect)(function(e){e=e.fishballTreasureReducers,e=void 0===e?{}:e;return{bannerTips:e.bannerTips,giftBannerSwitch:e.giftBannerSwitch}})(c)},192724:function(e,t,i){e.exports=i("5f575e")("ce426")},193899:function(e,t,i){e.exports=i("999443")("628a6")},"1939b0":function(e,t,i){"use strict";var c=i("770a35"),n=i("1a22b7"),s=i.n(n),r=(i("49a083"),i("f2b8b7")),u="/shark/live/src/common/components/Table/Table.js";function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,i=(a(f,l=s.a.Component),f.prototype.initColumns=function(e){var n=this,r=[];e&&(e.forEach(function(e,t,i){r.push(s.a.createElement("div",{className:"CommonActivityTableComponent-header--column",key:"column-0-"+t,style:{width:e.width,textAlign:e.align},__source:{fileName:u,lineNumber:17},__self:n},e.title))}),this.headerContainer=r)},f.prototype.initDataSource=function(e){var t,a=this,i=this.state,n=i.currentPageIndex,r=i.pageSize,o=this.props,l=o.totalRecordNum,i=o.noData,o=o.bottomText;e&&0<e.length?(t=[],e.forEach(function(i,n,e){var r=[];t.push(s.a.createElement("div",{className:"CommonActivityTableComponent-content--row",key:"row"+n,style:{background:n%2==0?"#f3e3ff":"#ffffff"},__source:{fileName:u,lineNumber:39},__self:a},r)),Object.keys(i).forEach(function(e){var t=a.getColumnItemByIndex(e);null!=t&&(t={width:t.width,textAlign:t.align},"gainName"===e&&(t.color="#ff7700"),r.push(s.a.createElement("div",{className:"CommonActivityTableComponent-content--row--column",key:"column-"+(n+1)+e,style:t,__source:{fileName:u,lineNumber:58},__self:a},i[e])))})}),t.push(s.a.createElement("div",{className:"CommonActivityTableComponent-content--lastrow",key:"lastrow",style:{background:"#f3e3ff"},__source:{fileName:u,lineNumber:71},__self:this},o)),(1<l/r||l/r==1&&0<l%r)&&t.push(s.a.createElement("div",{className:"CommonActivityTableComponent-Pagination",key:"pagination-row",style:{background:"#f3e3ff"},__source:{fileName:u,lineNumber:88},__self:this},s.a.createElement(c.default,{customClass:"CommonActivityTableComponent-Pagination--recordPage",current:n,total:l,pageSize:r,onChange:this.toRecordPage.bind(this),showQuickJumper:!1,showLessItems:!0,__source:{fileName:u,lineNumber:93},__self:this}))),this.contentContainer=t):this.contentContainer=s.a.createElement("div",{className:"CommonActivityTableComponent-content--nodata",__source:{fileName:u,lineNumber:108},__self:this},s.a.createElement("div",{className:"CommonActivityTableComponent-content--nodata--text",__source:{fileName:u,lineNumber:109},__self:this},i))},f.prototype.getColumnItemByIndex=function(n){var e=this.props.columns;if(e){var t=e.findIndex(function(e,t,i){return e.dataIndex===n});if(-1!==t)return e[t]}return null},f.prototype.initStyle=function(){var e=this.props.style;this.refs.TableContent&&e&&e.height&&(this.refs.TableContent.style.height=e.height+"px")},f.prototype.componentDidMount=function(){this.scrollbarsRef=s.a.createRef()},f.prototype.render=function(){var e=this.props,t=e.columns,e=e.dataSource;return this.initColumns(t),this.initDataSource(e),this.initStyle(),s.a.createElement("div",{className:"CommonActivityTableComponent",__source:{fileName:u,lineNumber:164},__self:this},s.a.createElement("div",{className:"CommonActivityTableComponent-header",__source:{fileName:u,lineNumber:165},__self:this},this.headerContainer),s.a.createElement("div",{className:"CommonActivityTableComponent-content",ref:"TableContent",__source:{fileName:u,lineNumber:166},__self:this},s.a.createElement(r.Scrollbars,{style:{width:"100%",height:"100%"},ref:this.scrollbarsRef,renderTrackHorizontal:this.renderTrackHorizontal,renderThumbVertical:this.renderThumb,__source:{fileName:u,lineNumber:167},__self:this},this.contentContainer)))},f);function f(){var e,t,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t=o(this,l.call.apply(l,[this].concat(r))),t.state={currentPageIndex:1,pageSize:20},t.renderTrackHorizontal=function(){return s.a.createElement("div",{style:{display:"none"},__source:{fileName:u,lineNumber:139},__self:i})},t.renderThumb=function(){return s.a.createElement("div",{style:{backgroundColor:"#FFAE00",borderRadius:"6px"},__source:{fileName:u,lineNumber:141},__self:i})},t.toRecordPage=function(e){t.props.onPageIndexChange(e),t.setState({currentPageIndex:e},function(){t.scrollbarsRef.current&&t.scrollbarsRef.current.scrollTop(0)})},o(t,e)}t.default=i},"19574c":function(e,t,i){"use strict";i.d(t,"default",function(){return S});var n,r,a,o=i("1a22b7"),l=i.n(o),c=i("d4a4f4"),s=i("eb3e22"),u=i("7ca7dc"),f=i("ac64b0"),t=i("5b9730"),p=i("cb915e"),m=i("ebd8cf"),d=i("2c6f5e"),b=i("e58463"),h=(i("06a835"),"/shark/live/src/pages/roomPage/toolbarModule/components/Toolbar/AvtivitesBar/WeightBar.js");function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function N(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var w,O,o=u.default.Service,S=(i=o(t.default),u=o(s.DataCenter.acj),t=o(s.DataCenter.common),y(T,O=l.a.Component),T.prototype.updateRenderNum=function(){var o=this,l=this.props.activities;(l||Array.isArray(l))&&(clearTimeout(this.timer),this.timer=Object(d.callLater)(function(){var e,t,i,n=o.ref.clientWidth,r=o.getCouldRenderNum(n),a=void 0;a=r<l.length?2===(e=o.getExpandBtnNum(r))?o.getCouldRenderNum(n-2*m.EXPANDBTN_WIDTH):(t=o.getCouldRenderNum(n-m.EXPANDBTN_WIDTH))===r||(i=o.getExpandBtnNum(t))===e?t:o.getCouldRenderNum(n-m.EXPANDBTN_WIDTH*i):r;a=Math.min(a,m.MAX_LEFT_RENDER_NUM+m.MAX_RIGHT_RENDER_NUM);o.renderNum!==a&&(o.renderNum=a,(a=o.updateRenderActivies(o.props,o.renderNum))&&o.setState({rightActivities:a.rightActivities,leftActivities:a.leftActivities,rightExpandActivities:a.rightExpandActivities,leftExpandActivities:a.leftExpandActivities}))}))},T.prototype.componentDidMount=function(){var e=this;this.unsubscribehandle=Object(c.merge)(this.acj.get(f.ROOM_TYPE.ROOM_BUS_PAGESCR),this.common.get(b.LEFT_MENU_STATE$),s.DataCenter.event.register(window,"resize")).subscribe(function(){e.updateRenderNum()})},T.prototype.getCouldRenderNum=function(e){return Math.min(Math.floor(e/m.ENTER_WIDTH),m.MAX_LEFT_RENDER_NUM+m.MAX_RIGHT_RENDER_NUM)},T.prototype.getExpandBtnNum=function(e){var t=this.updateRenderActivies(this.props,e),e=t.rightExpandActivities,t=t.leftExpandActivities;return 0<e.length&&0<t.length?2:0<e.length||0<t.length?1:0},T.prototype.shouldComponentUpdate=function(e,t){var i=this.state,n=i.rightActivities,r=i.leftActivities,a=i.rightExpandActivities,o=i.leftExpandActivities,i=Object(d.isSameArray)(d.isSameEnter);return!(i(n,t.rightActivities)&&i(r,t.leftActivities)&&i(a,t.rightExpandActivities)&&i(o,t.leftExpandActivities))},T.prototype.componentDidUpdate=function(){this.updateRenderNum()},T.prototype.componentWillReceiveProps=function(e){e=this.updateRenderActivies(e,this.renderNum);e&&this.setState({rightActivities:e.rightActivities,leftActivities:e.leftActivities,rightExpandActivities:e.rightExpandActivities,leftExpandActivities:e.leftExpandActivities})},T.prototype.updateRenderActivies=function(e,t){var i=e.activities;if(!i&&!Array.isArray(i))return null;for(var e=this.getNecessities(e),n=e[0],r=e[1],a=e[2],o=[],l=[],c=0;c<a.length;++c){var s=a[c];(n.length+r.length<t?Object(d.isRight)(s)?r.length<m.MAX_RIGHT_RENDER_NUM?r:l:n.length<m.MAX_LEFT_RENDER_NUM?n:o:Object(d.isRight)(s)?l:o).push(s)}return{rightActivities:r,leftActivities:n,rightExpandActivities:l,leftExpandActivities:o}},T.prototype.getNecessities=function(e){var t=e.activities.slice(0),i=[],n=[];if(0<m.MIN_LEFT_RENDER_NUM||0<m.MIN_RIGHT_RENDER_NUM)for(var r=0;r<t.length&&(i.length<m.MIN_LEFT_RENDER_NUM||n.length<m.MIN_RIGHT_RENDER_NUM);++r){var a=t[r];i.length<m.MIN_LEFT_RENDER_NUM&&Object(d.isLeft)(a)?(i.push(a),t.splice(r,1),--r):n.length<m.MIN_RIGHT_RENDER_NUM&&Object(d.isRight)(a)&&(n.push(a),t.splice(r,1),--r)}return[i,n,t]},T.prototype.componentWillUnmount=function(){this.unsubscribehandle&&this.unsubscribehandle.unsubscribe()},T.prototype.getRef=function(e){this.ref=e},T.prototype.render=function(){var e=this.state,t=e.rightActivities,i=e.leftActivities,n=e.rightExpandActivities,e=e.leftExpandActivities;return l.a.createElement("div",{className:"ToolbarActivityArea",ref:this.getRef,__source:{fileName:h,lineNumber:242},__self:this},l.a.createElement("div",{style:{display:"inline-block"},__source:{fileName:h,lineNumber:243},__self:this},l.a.createElement(E,{style:{display:"inline-block"},activities:i,key:1,__source:{fileName:h,lineNumber:244},__self:this}),l.a.createElement(p.default,{style:{display:"inline-block"},expandActivities:e,__source:{fileName:h,lineNumber:245},__self:this})),l.a.createElement("div",{style:{display:"inline-block",position:"absolute",right:"0px",top:"0px"},__source:{fileName:h,lineNumber:247},__self:this},l.a.createElement(E,{style:{display:"inline-block"},activities:t,key:2,__source:{fileName:h,lineNumber:248},__self:this}),l.a.createElement(p.default,{style:{display:"inline-block"},expandActivities:n,__source:{fileName:h,lineNumber:249},__self:this})))},n=N((o=T).prototype,"giftService",[i],{enumerable:!0,initializer:null}),r=N(o.prototype,"acj",[u],{enumerable:!0,initializer:null}),a=N(o.prototype,"common",[t],{enumerable:!0,initializer:null}),o),E=(y(j,w=l.a.Component),j.prototype.render=function(){var e=this.props,t=e.activities,e=e.style;return t&&t.length?l.a.createElement("div",{style:e,__source:{fileName:h,lineNumber:266},__self:this},t.map(function(e,t,i){return e.render?e.render(e,t,i):null})):null},j);function j(){return _(this,j),g(this,w.apply(this,arguments))}function T(e){_(this,T);var i=g(this,O.call(this,e));v(i,"giftService",n,i),v(i,"acj",r,i),v(i,"common",a,i),i.renderNum=0,i.state={rightActivities:[],leftActivities:[],leftExpandActivities:[],rightExpandActivities:[]},i.timer=null;e=Object.getPrototypeOf(i);return Object.getOwnPropertyNames(e).forEach(function(e){var t=i[e];"function"==typeof t&&(i[e]=t.bind(i))}),i}},"19c06d":function(e,t,i){"use strict";i=i("52da0c");t.default=i.default},"19fee3":function(e,t,i){"use strict";i=i("d144f6");t.default=i.default},"1a22b7":function(e,t,i){e.exports=i("999443")("8af19")},"1ab308":function(e,t,i){"use strict";i.d(t,"default",function(){return h});var s,n=i("1a22b7"),r=i.n(n),t=i("7ca7dc"),n=i("b06504"),a=i("ba05b6"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,f,p,m,d,b,h=(t=(0,t.default.Service)(n.default),l(v,b=r.a.Component),v.prototype.render=function(){return r.a.createElement(a.ActivityEnter,o({},this.props,{onClick:this.onClick,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/Activity/IframeActivity.js",lineNumber:18},__self:this}))},c=(n=v).prototype,f="activityService",t=[t],p={enumerable:!0,initializer:null},d={},Object.keys(p).forEach(function(e){d[e]=p[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=t.slice().reverse().reduce(function(e,t){return t(c,f,e)||e},d),m&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(m):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(c,f,d),d=null),s=d,n);function v(){var e,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var t,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=i=u(this,b.call.apply(b,[this].concat(l))),n="activityService",a=t=i,(r=s)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),i.onClick=function(e){var t=i.props.data;i.activityService.changeIframeActivityShowData(t)},u(i,e)}},"1b219b":function(e,t,i){"use strict";var n,o,l,c,s,j=i("1a22b7"),T=i.n(j),r=i("447d8e"),a=i("97a1f0"),u=i("7ca7dc"),P=i("2b78ba"),f=i("eb3e22"),p=i("5c04ad"),D=i("b12198"),m=i("16358b"),d=i("c731d7"),b=i("564e7b"),h=i("56b0a1"),v=i("5b9730"),_=i("cf2757"),C=i("7cdbfb"),g=i("21c3ab"),y=i("660064"),N=i("9211ca"),w=i("410699"),O=i("481554"),S=i("514ed2"),E=i("97f1d4"),k=i("8d4cbb"),I=i("b89f3c"),z=i("650291"),R=i("a48e8a"),A=i("e922ab"),x=(i("0b146c"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),G="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/InfoPanel.js";function L(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function B(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var F,U=Object(j.lazy)(function(){return i.e("SoundGiftBanner_7ff717b").then(i.bind(null,"41c4dd"))}),W=Object(j.lazy)(function(){return i.e("CookGirlBanner_d4176ea").then(i.bind(null,"98d046"))}),J=Object(j.lazy)(function(){return i.e("MusicianBanner_e1807a4").then(i.bind(null,"9530ec"))}),Y=Object(j.lazy)(function(){return i.e("components_5f5634d").then(i.bind(null,"31c8e8"))}),H=Object(j.lazy)(function(){return i.e("components_ae0c5e7").then(i.bind(null,"22769b"))}),V=Object(j.lazy)(function(){return i.e("Banner_3d23f7d").then(i.bind(null,"672ded"))}),$=Object(j.lazy)(function(){return i.e("Banner_87f29a9").then(i.bind(null,"668dbb"))}),K=Object(j.lazy)(function(){return i.e("GiftSkinPanel_ec967c6").then(i.bind(null,"3d1806"))}),q=Object(j.lazy)(function(){return i.e("LPLSpectatorsBanner_ae80dd5").then(i.bind(null,"2240f0"))}),Z=Object(a.importComponent)("live.toolbar.gift.luckybagact.banner"),Q=Object(a.importComponent)("live.microfront.eggludo.banner"),X=u.default.Service,ee={YUCHI:"鱼翅",YUWAN:"鱼丸"},u=(u=Object(a.ErrorHandler)(T.a.createElement("div",{__source:{fileName:G,lineNumber:60},__self:void 0})),v=X(v.default),b=X(b.default),h=X(h.default),_=X(_.default),f=Object(a.Inject)(f.DataCenter.common),u((M(te,F=T.a.Component),te.prototype.componentDidMount=function(){this.batchGiveService.initService(),this.listenBannerComponentRegister()},te.prototype.number4Short=function(e){var t=e||0,e=Math.pow(10,2);return 1e8<=t?Math.floor(t/1e8*e)/e+"亿":1e4<=t?Math.floor(t/1e4*e)/e+"万":0<t?Math.floor(t*e)/e:t},te.prototype.calcOffset=function(){var e=this.props.giftInfo||{},t=m.default.getGiftItemOffset(e.id),i=d.default.getElementOffset(".ToolbarGiftArea"),e=this.container.offsetWidth,e=t.left-i.left-(e-this.itemWidth)/2,t=i.top-t.top;this.state.left===e&&this.state.top===t||(this.container.style.marginLeft=e+"px",this.container.style.marginBottom=t+"px")},te.prototype.componentDidUpdate=function(){this.props.visible&&this.calcOffset()},te.prototype.getPriceName=function(e,t){return""+(0<t?this.publicToolsServices.formatDecimals(t/("YUWAN"===e?1:100),1):"")+(ee[e]||"")},te.prototype.getDescShowLine=function(){function e(e,t){return i[t]?e+1:e}var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return i.isBatch?["culture","desc1","desc2"].reduce(e,0):["culture","desc1"].reduce(e,1)},te.prototype.renderInfoPanel=function(){var e=this.props,t=e.giftInfo,i=e.returnYWSwitch,n=e.visible,r=e.giftSkinSelData,a=e.giftSkinSelState;if(t){var o=this.giftDataServices.returnMergeSkinItem(t,r[t.id]),l=o||{},c=l.name,s=l.picUrlPrefix,u=l.basicInfo,f=void 0===u?{}:u,p=l.priceInfo,m=void 0===p?{}:p,d=l.growthInfo,b=void 0===d?{}:d,h=l.batchInfo,v=void 0===h?{}:h,_=l.skinInfo,g=f.subscriptColor,y=f.subscriptText,N=f.giftType,w=f.focusPic,O=f.desc1,S=void 0===O?"":O,E=f.desc2,e=void 0===E?"":E,t=f.culture,u=void 0===t?"":t,p=m.priceType,d=m.price,h=m.returnNum,l=b.contribution,O=b.experience,E=b.intimacy,f=(_||{}).endTime,t=this.giftService.getMaskBgType(g),m=D.default.formatDate(new Date(1e3*+f),"yyyy年MM月dd日 hh:mm:ss"),b="bg1",_=y,g=this.giftDataServices.isBatchGift(o),y=this.getDescShowLine({isBatch:g,culture:u,desc1:S,desc2:e});return 0<t?b="bg"+t:1===parseInt(N,10)&&(_="贵族"),T.a.createElement("div",{className:"GiftInfoPanel-cont",__source:{fileName:G,lineNumber:247},__self:this},_?T.a.createElement("div",{className:"GiftInfoPanel-mark "+b,__source:{fileName:G,lineNumber:249},__self:this},T.a.createElement("span",{className:"GiftInfoPanel-markText",__source:{fileName:G,lineNumber:250},__self:this},_)):null,T.a.createElement("div",{className:"GiftInfoPanel-brief",__source:{fileName:G,lineNumber:253},__self:this},T.a.createElement("div",{className:"GiftInfoPanel-imgBox",__source:{fileName:G,lineNumber:254},__self:this},T.a.createElement("img",{src:s+w+P.imgSuffix,__source:{fileName:G,lineNumber:255},__self:this})),T.a.createElement("h4",{__source:{fileName:G,lineNumber:257},__self:this},T.a.createElement("strong",{className:"GiftInfoPanel-name",__source:{fileName:G,lineNumber:258},__self:this},c),T.a.createElement("em",{__source:{fileName:G,lineNumber:259},__self:this},"(",this.getPriceName(p,d)," ",i&&0<h?"可返"+h+"鱼丸":"",")")),g?T.a.createElement("div",{__source:{fileName:G,lineNumber:279},__self:this},u?T.a.createElement("p",{__source:{fileName:G,lineNumber:280},__self:this},T.a.createElement("em",{title:u,__source:{fileName:G,lineNumber:280},__self:this},u)):null,S?T.a.createElement("p",{__source:{fileName:G,lineNumber:281},__self:this},T.a.createElement("b",{title:S,__source:{fileName:G,lineNumber:281},__self:this},S)):null,e?T.a.createElement("p",{__source:{fileName:G,lineNumber:282},__self:this},T.a.createElement("b",{title:e,__source:{fileName:G,lineNumber:282},__self:this},e)):null):T.a.createElement("div",{__source:{fileName:G,lineNumber:263},__self:this},T.a.createElement("p",{__source:{fileName:G,lineNumber:264},__self:this},T.a.createElement("b",{__source:{fileName:G,lineNumber:265},__self:this},"贡献 +",T.a.createElement("span",{title:l,__source:{fileName:G,lineNumber:266},__self:this},this.number4Short(l))),T.a.createElement("b",{__source:{fileName:G,lineNumber:268},__self:this},"经验 +",T.a.createElement("span",{title:O,__source:{fileName:G,lineNumber:269},__self:this},this.number4Short(O))),T.a.createElement("b",{__source:{fileName:G,lineNumber:271},__self:this},"亲密度 +",T.a.createElement("span",{title:E,__source:{fileName:G,lineNumber:272},__self:this},this.number4Short(E)))),S?T.a.createElement("p",{className:"GiftInfoPanel-intro",__source:{fileName:G,lineNumber:275},__self:this},S.split("/")):null,u?T.a.createElement("p",{__source:{fileName:G,lineNumber:276},__self:this},T.a.createElement("em",{__source:{fileName:G,lineNumber:276},__self:this},u)):null),0<+f?T.a.createElement("p",{className:"GiftInfoPanel-skinExpired is-mt"+y,__source:{fileName:G,lineNumber:288},__self:this},"过期时间：",m):null),T.a.createElement("div",{className:"GiftInfoPanel-footer",__source:{fileName:G,lineNumber:291},__self:this},v&&0<Object.keys(v).length?T.a.createElement(C.default,{descList:"info.batchDesc",sendGiftBatch:this.props.sendGiftBatch,giftInfo:o,__source:{fileName:G,lineNumber:293},__self:this}):null),T.a.createElement(j.Suspense,{fallback:T.a.createElement("div",{__source:{fileName:G,lineNumber:300},__self:this}),__source:{fileName:G,lineNumber:300},__self:this},n?T.a.createElement(K,{key:o.id,giftInfo:o,giftSkinSelData:r,giftSkinSelState:a,__source:{fileName:G,lineNumber:303},__self:this}):null))}return null},te.prototype.render=function(){var e=this.props.giftInfo,t=void 0===e?{}:e,i="GiftInfoPanel"+(this.props.visible?" is-visible":" is-hide"),e=t&&this.props.visible;return T.a.createElement("div",{className:i,style:{marginLeft:this.state.left+"px",marginBottom:this.state.top+"px"},onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave,ref:this.getContainer,__source:{fileName:G,lineNumber:325},__self:this},t?T.a.createElement(R.default,{giftId:t.id,isInfoPanealShow:this.props.visible,__source:{fileName:G,lineNumber:334},__self:this}):null,t?T.a.createElement(z.default,{giftId:t.id,__source:{fileName:G,lineNumber:337},__self:this}):null,t&&this.props.visible?T.a.createElement(j.Suspense,{fallback:T.a.createElement("div",{__source:{fileName:G,lineNumber:341},__self:this}),__source:{fileName:G,lineNumber:341},__self:this},T.a.createElement(V,{giftId:t.id,isInfoPanelShow:this.props.visible,__source:{fileName:G,lineNumber:342},__self:this})):null,T.a.createElement(j.Suspense,{fallback:T.a.createElement("div",{__source:{fileName:G,lineNumber:346},__self:this}),__source:{fileName:G,lineNumber:346},__self:this},e?T.a.createElement($,{giftId:t.id,isInfoPanelShow:this.props.visible,__source:{fileName:G,lineNumber:348},__self:this}):null),T.a.createElement(Z,{giftId:t&&t.id,isInfoPanelShow:this.props.visible,__source:{fileName:G,lineNumber:352},__self:this}),e?T.a.createElement(Q,{giftId:t.id,isInfoPanelShow:this.props.visible,__source:{fileName:G,lineNumber:355},__self:this}):null,t?T.a.createElement(E.default,{giftId:t.id,__source:{fileName:G,lineNumber:359},__self:this}):null,t&&this.props.visible?T.a.createElement(j.Suspense,{fallback:T.a.createElement("div",{__source:{fileName:G,lineNumber:363},__self:this}),__source:{fileName:G,lineNumber:363},__self:this},T.a.createElement(W,{giftId:t.id,isInfoPanelShow:this.props.visible,__source:{fileName:G,lineNumber:364},__self:this})):null,t&&this.props.visible?T.a.createElement(j.Suspense,{fallback:T.a.createElement("div",{__source:{fileName:G,lineNumber:370},__self:this}),__source:{fileName:G,lineNumber:370},__self:this},T.a.createElement(J,{giftId:t.id,isInfoPanelShow:this.props.visible,__source:{fileName:G,lineNumber:371},__self:this})):null,t&&this.props.visible?T.a.createElement(j.Suspense,{fallback:T.a.createElement("div",{__source:{fileName:G,lineNumber:377},__self:this}),__source:{fileName:G,lineNumber:377},__self:this},T.a.createElement(Y,{giftId:t.id,isInfoPanelShow:this.props.visible,__source:{fileName:G,lineNumber:378},__self:this})):null,t&&this.props.visible?T.a.createElement(j.Suspense,{fallback:T.a.createElement("div",{__source:{fileName:G,lineNumber:384},__self:this}),__source:{fileName:G,lineNumber:384},__self:this},T.a.createElement(H,{giftId:t.id,__source:{fileName:G,lineNumber:385},__self:this})):null,t?T.a.createElement(k.default,{giftId:t.id,__source:{fileName:G,lineNumber:390},__self:this}):null,t?T.a.createElement(y.default,{giftId:t.id,__source:{fileName:G,lineNumber:393},__self:this}):null,t?T.a.createElement(w.default,{giftId:t.id,__source:{fileName:G,lineNumber:396},__self:this}):null,t?T.a.createElement(S.default,{giftId:t.id,giftName:t.name,__source:{fileName:G,lineNumber:399},__self:this}):null,t?T.a.createElement(I.default,{giftId:t.id,__source:{fileName:G,lineNumber:402},__self:this}):null,t?T.a.createElement(p.default,{giftId:t.id,isInfoPanealShow:this.props.visible,__source:{fileName:G,lineNumber:405},__self:this}):null,t&&this.props.visible?T.a.createElement(j.Suspense,{fallback:T.a.createElement("div",{__source:{fileName:G,lineNumber:409},__self:this}),__source:{fileName:G,lineNumber:409},__self:this},T.a.createElement(U,{giftId:t.id,type:1,__source:{fileName:G,lineNumber:410},__self:this})):null,t?T.a.createElement(A.default,{giftId:t.id,__source:{fileName:G,lineNumber:415},__self:this}):null,t&&this.props.visible?T.a.createElement(j.Suspense,{fallback:T.a.createElement("div",{__source:{fileName:G,lineNumber:420},__self:this}),__source:{fileName:G,lineNumber:420},__self:this},T.a.createElement(q,{bizTag:"dsj_lpl",info:t,__source:{fileName:G,lineNumber:421},__self:this})):null,this.renderRegisterBannerComponent(t),T.a.createElement(g.default,{__source:{fileName:G,lineNumber:428},__self:this}),T.a.createElement(N.default,{__source:{fileName:G,lineNumber:429},__self:this}),T.a.createElement(O.default,{__source:{fileName:G,lineNumber:430},__self:this}),t?this.renderInfoPanel():null,T.a.createElement("i",{className:"GiftInfoPanel-panelFill",__source:{fileName:G,lineNumber:433},__self:this}),T.a.createElement("i",{className:"GiftInfoPanel-arrowOuter",__source:{fileName:G,lineNumber:434},__self:this},T.a.createElement("i",{className:"GiftInfoPanel-arrowInner",__source:{fileName:G,lineNumber:435},__self:this})))},n=B((u=te).prototype,"giftService",[v],{enumerable:!0,initializer:null}),o=B(u.prototype,"publicToolsServices",[b],{enumerable:!0,initializer:null}),l=B(u.prototype,"giftDataServices",[h],{enumerable:!0,initializer:null}),c=B(u.prototype,"batchGiveService",[_],{enumerable:!0,initializer:null}),s=B(u.prototype,"common",[f],{enumerable:!0,initializer:null}),u=u))||u);function te(){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,te);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,F.call(this));return L(a,"giftService",n,a),L(a,"publicToolsServices",o,a),L(a,"giftDataServices",l,a),L(a,"batchGiveService",c,a),L(a,"common",s,a),a.listenBannerComponentRegister=function(){a.common.get("$GIFT_INFO_PANEL_BANNER_COMPONENT_REGISTER").subscribe(function(e){var t=a.state.bannerComponents,e=Object.assign({},void 0===t?{}:t,e);a.setState({bannerComponents:e})})},a.sortBannerComponent=function(i){return Object.keys(i).sort().reduce(function(e,t){return e[t]=i[t],e},{})},a.renderRegisterBannerComponent=function(e){if(!e)return T.a.createElement("div",{__source:{fileName:G,lineNumber:128},__self:r});var t=a.state.bannerComponents,t=void 0===t?{}:t;if(0===Object.keys(t).length)return T.a.createElement("div",{__source:{fileName:G,lineNumber:135},__self:r});var i=a.sortBannerComponent(t),t=Object.keys(i).map(function(e){return i[e]}),n=Object.assign({},e,{visible:a.props.visible,batchGiveSelectInfo$:a.giftService.batchGiveSelectInfo$});return t.map(function(e){return T.a.createElement(j.Suspense,{fallback:T.a.createElement("div",{__source:{fileName:G,lineNumber:150},__self:r}),__source:{fileName:G,lineNumber:150},__self:r},T.a.createElement(e,x({},n,{bannerType:"gift",__source:{fileName:G,lineNumber:150},__self:r})))})},a.mouseEnter=function(){a.giftService.keepGiftInfoPanel()},a.mouseLeave=function(){a.giftService.hideGiftInfoPanel()},a.getContainer=function(e){a.container=e},a.formatTime=function(e){return 0===e?"00":e<10?"0"+e:e},a.state={batchList:[],batchExpand:!1,bachNum:0,bachTime:"",left:0,top:0},a.itemWidth=48,a}t.default=Object(r.connect)(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).giftData||{};return{visible:e.giftInfoPanelVisible,giftInfo:e.giftInfo,returnYWSwitch:e.returnYWSwitch,giftSkinSelData:e.giftSkinSelData,giftSkinSelState:e.giftSkinSelState}})(u)},"1b4e72":function(e,t,i){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r={event_id:2,type:1};t.default={step1:n({action_code:"12010023Q009"},r),step2:n({action_code:"12010023Q00A"},r),step3:n({action_code:"12010023Q00B"},r),finalBtnClick:n({action_code:"12010023Q00C"},{event_id:1,type:1})}},"1bedf8":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/zbsszj-icon_441277d.png"},"1cbc92":function(e,t,i){"use strict";var n=i("d585c1"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={treasureTipsData:{},superActRewardData:{}};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];return t.type!==n.BATTLESHIP_UPDATE_DATA?e:Object.assign({},e,r({},t.payload))}},"1dbc15":function(e,t,i){"use strict";var a,o,l,c,s,n=i("1a22b7"),u=i.n(n),r=i("eb3e22"),f=i("7ca7dc"),p=i("54992a"),m=i("da4594"),d=i("a195e8"),b=i("2d2855"),n=i("e854a7"),h=i("7e5c17"),v=(i("f2a3ad"),i("7e71e1"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),_="/shark/live/src/pages/roomPage/toolbarModule/components/WishPondEnter/WishPondEnter.js";function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function w(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var O,S=n.default.socketStream,n=f.default.Store,f=f.default.Service,E="wishPond_redPoint",j="wishPond_redPoint_version",T="wishPond_tips",P="wishPond_tips_version",D=["许愿池","许愿中","还愿中"],p=(n=n(),r=f(r.DataCenter.localStorage),m=f(m.default),d=f(d.default),b=f(b.default),Object(p.log)((N(C,O=u.a.Component),C.prototype.componentDidMount=function(){var a=this;S.subscribe("wishpond_cmd",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.cmd,i=e.time,e=e.data,e=(void 0===e?{}:e).step2Info,n=void 0===e?{}:e;if((3==+t||6==+t||8==+t)&&+i>a.cmdTime&&a.otherTipsSwitch){var r={showOpenTips:!0};switch(+t){case 3:r={showOpenTips:!0,tipsDesc:"本房许愿池已开启，许愿瓜分百万鱼丸！"};break;case 6:r={showOpenTips:!0,tipsDesc:"开始还愿，击败BOSS瓜分丰厚奖励！"};break;case 8:r={showOpenTips:!0,tipsDesc:"击败"+(n.level-1||"前1")+"级Boss，许愿池奖励已升级！"}}a.setState(r),a.openTimer&&clearTimeout(a.openTimer),a.openTimer=setTimeout(function(){a.setState({showOpenTips:!1})},8e3)}a.cmdTime=+i}),S.subscribe("wishpond_goon",function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).data;a.setState({step:+(void 0===e?{}:e).step||0})}),S.subscribe("wishpond_goons",function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).data;a.setState({step:+(void 0===e?{}:e).step||0})}),this.commonSwitchService.getConfig("wishPond").subscribe(function(e){a.guideTipsSwitch=+e.guideTipsSwitch,a.redPointTipsSwitch=+e.redPointTipsSwitch,a.otherTipsSwitch=+e.otherTipsSwitch,a.setState({wishPondConfig:e});var t=a.localStorage.get(T),i=a.localStorage.get(P);+e.guideTipsSwitch&&e.guideTipsText&&1!==t&&+e.guideTipsVer>=+i&&a.setState({wishPondGuideText:e.guideTipsText,showTips:!0}),a.localStorage.set(P,e.guideTipsVer);t=a.localStorage.get(E),i=a.localStorage.get(j);+e.redPointTipsSwitch&&1!=+t&&+e.redPointTipsVer>=+i&&(a.setState({showRedPoint:!0}),a.tipsTimer=setTimeout(function(){a.hideTips()},8e3)),a.localStorage.set(j,e.redPointTipsVer),0==+e.guideTipsSwitch&&(a.localStorage.set(T,0),a.localStorage.set(P,0)),0==+e.redPointTipsSwitch&&(a.localStorage.set(E,0),a.localStorage.set(j,0))})},C.prototype.componentWillUnmount=function(){clearTimeout(this.tipsTimer),clearTimeout(this.openTimer)},C.prototype.render=function(){var e=this.state,t=e.showOpenTips,i=e.showTips,n=e.showRedPoint,r=e.wishPondGuideText,a=e.step,e=e.tipsDesc,i=i;return u.a.createElement("div",{className:"WishPondEnter",__source:{fileName:_,lineNumber:229},__self:this},n?u.a.createElement("i",{className:"WishPondEnter-redPoint",__source:{fileName:_,lineNumber:231},__self:this}):null,u.a.createElement("div",{className:"WishPondEnter-icon is-step"+(a||0),onClick:this.clickIcon,__source:{fileName:_,lineNumber:233},__self:this},D[a]||"许愿池"),i&&r?u.a.createElement(h.default,v({},this.state,{clickTips:this.clickTips,hideTips:this.hideTips,__source:{fileName:_,lineNumber:238},__self:this})):null,t?u.a.createElement(h.default,{wishPondGuideText:e||"本房许愿池已开启，许愿瓜分百万鱼丸！",clickTips:this.clickTips,hideTips:this.hideOpenTips,__source:{fileName:_,lineNumber:243},__self:this}):null)},a=w((p=C).prototype,"store",[n],{enumerable:!0,initializer:null}),o=w(p.prototype,"localStorage",[r],{enumerable:!0,initializer:null}),l=w(p.prototype,"commonSwitchService",[m],{enumerable:!0,initializer:null}),c=w(p.prototype,"wishPondPanelServices",[d],{enumerable:!0,initializer:null}),s=w(p.prototype,"wishPondDialogServices",[b],{enumerable:!0,initializer:null}),p=p))||p);function C(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=y(this,O.call.apply(O,[this].concat(n))),g(t,"store",a,t),g(t,"localStorage",o,t),g(t,"commonSwitchService",l,t),g(t,"wishPondPanelServices",c,t),g(t,"wishPondDialogServices",s,t),t.state={wishPondConfig:{},showOpenTips:!1,showRedPoint:!1,showTips:!1,wishPondGuideText:""},t.guideTipsSwitch=0,t.redPointTipsSwitch=0,t.otherTipsSwitch=0,t.tipsTimer=null,t.openTimer=null,t.cmdTime=0,t.hideTips=function(){t.setState({showTips:!1}),t.localStorage.set(T,1)},t.hideOpenTips=function(){t.setState({showOpenTips:!1})},t.togglePanel=function(){var e=t.store.getState().wishPondPanelData.isShowPanel;t.wishPondPanelServices.togglePanel(!e)},t.clickTips=function(){t.togglePanel()},t.clickIcon=function(){t.togglePanel(),t.setState({showRedPoint:!1}),t.localStorage.set(E,1)},y(t,e)}t.default=p},"1ea797":function(e,t,i){},"1f141d":function(e,t,i){"use strict";var n,r,a,c,o=i("1a22b7"),s=i.n(o),l=i("447d8e"),u=i("7ca7dc"),f=i("eb3e22"),p=i("db47a7"),m=i("97a1f0"),d=i("181363"),b=i("45d64e"),o=i("16358b"),h=i("0387a8"),v=(i("f97967"),"/shark/live/src/pages/roomPage/toolbarModule/components/LotteryDrawEnter/LotteryDrawEnter.js");function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function y(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var N,u=u.default.Service,m=(m=Object(m.ErrorHandler)(),f=u(f.DataCenter.common),o=u(o.default),d=u(d.default),b=u(b.default),m((g(w,N=s.a.Component),w.prototype.componentDidMount=function(){var t=this;this.sub=this.common.get("happyLotteryInfo").subscribe(function(e){return t.setDeadsec(e)}),this.checkTips()},w.prototype.componentDidUpdate=function(){this.checkTips()},w.prototype.componentWillUnmount=function(){this.sub&&this.sub.unsubscribe(),clearInterval(this.deadDescTimer),clearTimeout(this.tipsTimer)},w.prototype.openPanel=function(){Object(p.dysub2)({action_code:"160100207004",event_id:1,type:1}),this.happyLotteryEventServices.handleEnterClick()},w.prototype.render=function(){var t=this,e=this.props,i=e.isOpen,n=e.lotteryInfo,r=void 0===n?{}:n,a=e.lotteryStatus;if(i||a&&!this.isAnchor){n=r.join_type,e=r.join_condition,i=(void 0===e?{}:e).gift_id,r=3==+n,e=this.happyDrawEnterServices.getGiftInfoById(i),n=e.basicInfo,i=e.picUrlPrefix,e=void 0===i?"":i,i=(void 0===n?{}:n).giftPic,n=void 0===i?"":i,i=this.state.isAlreadyShowTips;return a&&!i&&this.isAnchor,s.a.createElement("div",{className:"LotteryDrawEnter",ref:function(e){return t.mainDom=e},__source:{fileName:v,lineNumber:146},__self:this},s.a.createElement("div",{className:["LotteryDrawEnter-enterWrap",r&&!this.isAnchor?"is-baodeng":""].join(" "),__source:{fileName:v,lineNumber:149},__self:this},s.a.createElement("div",{className:"LotteryDrawEnter-enter",onClick:function(){t.openPanel()},__source:{fileName:v,lineNumber:157},__self:this},r&&!this.isAnchor?s.a.createElement("img",{className:"LotteryDrawEnter-giftIcon",src:""+e+n,alt:"",__source:{fileName:v,lineNumber:175},__self:this}):null,s.a.createElement("div",{className:"LotteryDrawEnter-desc",__source:{fileName:v,lineNumber:178},__self:this},this.isAnchor?"站台":this.renderDesc()))))}return null},n=y((m=w).prototype,"common",[f],{enumerable:!0,initializer:null}),r=y(m.prototype,"commonToolbarService",[o],{enumerable:!0,initializer:null}),a=y(m.prototype,"happyLotteryEventServices",[d],{enumerable:!0,initializer:null}),c=y(m.prototype,"happyDrawEnterServices",[b],{enumerable:!0,initializer:null}),m=m))||m);function w(){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,N.call(this));return _(l,"common",n,l),_(l,"commonToolbarService",r,l),_(l,"happyLotteryEventServices",a,l),_(l,"happyDrawEnterServices",c,l),l.checkTips=function(){var e=l.props.lotteryStatus;l.tipsTimer||l.state.isAlreadyShowTips||l.isAnchor||!e||(l.happyDrawEnterServices.setTipsShowState(1),l.tipsTimer=setTimeout(function(){return l.setState({isAlreadyShowTips:1})},5e3))},l.setDeadsec=function(e){e=e.endTime;l.endTime=e||0,l.deadDescTimer||(l.deadDescTimer=setInterval(l.handleTimer,500))},l.handleTimer=function(){var e=new Date,e=l.endTime-e.getTime();(e=parseInt(e/1e3,10))<=0&&(clearInterval(l.deadDescTimer),l.deadDescTimer=null,e=0),l.setState({deadsec:e})},l.renderDesc=function(){var e=l.props,t=e.lotteryStatus,e=e.lotteryInfo,i=void 0===e?{}:e;switch(void 0===t?0:t){case 1:var n=i.join_condition,r=i.rafgc;if(3==+i.join_type){var a=(void 0===n?{}:n).gift_num;return s.a.createElement(h.default,{wrapClassName:"LotteryDrawEnter-giftDesc",wrapId:"LotteryDrawEntertWrap",contentId:"LotteryDrawEnterContent",prizeName:(r||0)+"/"+(void 0===a?"":a),__source:{fileName:v,lineNumber:114},__self:o})}a=l.state.deadsec;return l.happyDrawEnterServices.formatSecond(a,"m:s");case 2:return i.win_list?"查看结果":"请等待";default:return"站台"}},l.state={deadsec:null,isAlreadyShowTips:l.happyDrawEnterServices.getTipsShowState()},l.deadDescTimer=null,l.tipsTimer=null,l.isAnchor=l.happyDrawEnterServices.isAnchor(),l}t.default=Object(l.connect)(function(e){var t=e.HappyLotteryData,i=(t=void 0===t?{}:t).lotteryStatus,e=t.isCenterConfigOpen;return{isOpen:void 0!==e&&e,lotteryStatus:i,lotteryInfo:t.lotteryInfo}})(m)},"2011da":function(e,t,i){"use strict";var n=i("e7e774"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={bannerData:{},config:{},isFirstShow:!1,errorType:0};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];return t.type!==n.COOK_GIRL_UPDATE_DATA?e:Object.assign({},e,r({},t.payload))}},"20434a":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a="/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/SpeedRankListDialog/components/Empty.js";t.default=function(){return r.a.createElement("div",{className:"SSR-emptyBox",__source:{fileName:a,lineNumber:4},__self:void 0},r.a.createElement("div",{className:"SSR-emptyImg",__source:{fileName:a,lineNumber:5},__self:void 0}),r.a.createElement("p",{__source:{fileName:a,lineNumber:6},__self:void 0},"暂无签到手速榜信息"),r.a.createElement("p",{__source:{fileName:a,lineNumber:7},__self:void 0},"喜欢TA就给TA签到助力吧"))}},209614:function(e,t,i){},"20ec0b":function(e,t,i){e.exports=i("5f575e")("d48de")},"216e42":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/lwpk-icon_a8c0bab.png"},"218fad":function(e,t,i){"use strict";i=i("09a4d7");t.default=i.default},"21c3ab":function(e,t,i){"use strict";var a,o,l,n=i("1a22b7"),r=i.n(n),c=(i("3b6ec9"),i("292183"),i("7ca7dc")),s=i("97a1f0"),u=i("eb3e22"),f=(i("54992a"),i("ac64b0"),i("a55f83")),p=i("2e5590"),m="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/BJYzMakeFriendsGift/YzMakeFriendsGiftWrap.js";function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var _,n=c.default.Service,i=(i=Object(s.ErrorHandler)(),c=n(u.DataCenter.common),s=n(u.DataCenter.global),u=n(u.DataCenter.acj),i((h(g,_=r.a.Component),g.prototype.componentDidMount=function(){var t=this;this.common.get("GIFT_PANEL_FORCE_INFO").subscribe(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).isBjAudioRoom,e=void 0===e?null:e;e&&t.setState({isBjAudioRoom:e})})},g.prototype.render=function(){return this.state.isBjAudioRoom?r.a.createElement(p.default,{__source:{fileName:m,lineNumber:39},__self:this}):r.a.createElement(f.default,{__source:{fileName:m,lineNumber:39},__self:this})},a=v((i=g).prototype,"common",[c],{enumerable:!0,initializer:null}),o=v(i.prototype,"global",[s],{enumerable:!0,initializer:null}),l=v(i.prototype,"acj",[u],{enumerable:!0,initializer:null}),i=i))||i);function g(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=b(this,_.call.apply(_,[this].concat(n))),d(t,"common",a,t),d(t,"global",o,t),d(t,"acj",l,t),t.state={isBjAudioRoom:!1},b(t,e)}t.default=i},"2200b1":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/icon_804334a.png"},222005:function(e,t,i){"use strict";i=i("5b3fc8");t.default=i.default},"22e3b7":function(e,t,i){},"22ff5e":function(e,t,i){"use strict";var r,l,n=i("1a22b7"),c=i.n(n),a=i("7ca7dc"),o=i("292183"),s=i.n(o),u=(i("447d8e"),i("eb3e22")),f=i("fc0638"),p=i("f2b8b7"),o=i("4b2b18"),m=(i("982699"),"/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/components/ActiveRank.js");function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var _,a=a.default.Service,n=(o=a(o.default),u=a(u.DataCenter.global),h(g,_=n.Component),g.prototype.componentDidMount=function(){0===this.props.listUserIndex&&this.roomLevelDetailServices.getUserActivePoint()},g.prototype.render=function(){var i=this,e=this.props,t=e.userActivePoint,n=void 0===t?{}:t,t=e.statisticTime,t=void 0===t?{}:t,r=e.activeRankList,e=e.listUserIndex,e=void 0===e?0:e,a=this.global.get("$SYS.avatar_url")||"";return r.length<100&&new Array(100-r.length).fill({avatar:"",nickname:"虚位以待",score:0}).map(function(e,t){return r.push(e)}),c.a.createElement("div",{className:"ActiveRank",__source:{fileName:m,lineNumber:67},__self:this},c.a.createElement("div",{className:"ActiveRank-time",__source:{fileName:m,lineNumber:68},__self:this},t.startTime,"--",t.endTime),c.a.createElement("div",{className:"ActiveRank-listTitle",__source:{fileName:m,lineNumber:71},__self:this},c.a.createElement("span",{className:"ActiveRank-listTitle--rank",__source:{fileName:m,lineNumber:72},__self:this},"排名"),c.a.createElement("span",{className:"ActiveRank-listTitle--name",__source:{fileName:m,lineNumber:73},__self:this},"用户"),c.a.createElement("span",{className:"ActiveRank-listTitle--point",__source:{fileName:m,lineNumber:74},__self:this},"活跃值")),c.a.createElement("div",{className:"ActiveRank-listWrap",__source:{fileName:m,lineNumber:76},__self:this},c.a.createElement(p.Scrollbars,{__source:{fileName:m,lineNumber:77},__self:this},r.length?r.map(function(e,t){return c.a.createElement("div",{className:"ActiveRank-listItem",key:t,__source:{fileName:m,lineNumber:81},__self:i},c.a.createElement("span",{className:"ActiveRank-listItem--listNo",__source:{fileName:m,lineNumber:82},__self:i},t+1),c.a.createElement("div",{className:"ActiveRank-listItem--userInfo",__source:{fileName:m,lineNumber:83},__self:i},c.a.createElement("span",{className:"ActiveRank-listItem--user",__source:{fileName:m,lineNumber:84},__self:i},c.a.createElement(f.default,{round:!0,src:a+"upload/"+e.avatar+"_middle.jpg",__source:{fileName:m,lineNumber:85},__self:i})),c.a.createElement("span",{className:"ActiveRank-listItem--listNick",__source:{fileName:m,lineNumber:87},__self:i},e.nickname||"")),c.a.createElement("span",{className:"ActiveRank-listItem--activePoint",__source:{fileName:m,lineNumber:89},__self:i},i.handleScore(e.score)))}):null)),0<e?this.getUserInfo(r[e-1].index,r[e-1].avatar,r[e-1].nickname,r[e-1].score,a):this.getUserInfo(n.index,n.avatar,n.nickname,n.score,a))},r=v((n=g).prototype,"roomLevelDetailServices",[o],{enumerable:!0,initializer:null}),l=v(n.prototype,"global",[u],{enumerable:!0,initializer:null}),n);function g(){var e,a,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=a=b(this,_.call.apply(_,[this].concat(i))),d(a,"roomLevelDetailServices",r,a),d(a,"global",l,a),a.handleScore=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return 99999<e?"99999+":e},a.getUserIndex=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return e<=100&&0<e?e:"100+"},a.getUserInfo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"";return c.a.createElement("div",{className:"ActiveRank-bottom",__source:{fileName:m,lineNumber:42},__self:o},c.a.createElement("span",{className:"ActiveRank-bottom--myNo",__source:{fileName:m,lineNumber:43},__self:o},a.getUserIndex(e)),c.a.createElement("span",{className:"ActiveRank-bottom--myAvatar",__source:{fileName:m,lineNumber:44},__self:o},c.a.createElement(f.default,{round:!0,src:r+"upload/"+t+"_middle.jpg",__source:{fileName:m,lineNumber:45},__self:o})),c.a.createElement("span",{className:"ActiveRank-bottom--myName",__source:{fileName:m,lineNumber:47},__self:o},i),c.a.createElement("span",{className:"ActiveRank-bottom--myPoint",__source:{fileName:m,lineNumber:48},__self:o},a.handleScore(n)))},b(a,e)}n.propTypes={userActivePoint:s.a.object.isRequired,statisticTime:s.a.object.isRequired,activeRankList:s.a.array.isRequired,listUserIndex:s.a.number.isRequired},t.default=n},"23411c":function(e,t,i){},"246cc3":function(e,t,i){e.exports=i("5f575e")("82008")},254515:function(e,t,i){"use strict";var a,n=i("1a22b7"),r=i.n(n),o=i("292183"),l=i.n(o),n=i("97a1f0");function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var s,u,f,p,m,d,n=(o=Object(n.Inject)("live.fishpondModule.CountDownServices"),c(b,d=r.a.Component),b.prototype.componentDidMount=function(){var e=this.props.id;this.countDownServices.addFunc(e,this.updateTime).subscribe()},b.prototype.componentWillUnmount=function(){var e=this.props.id;this.countDownServices.removeFunc(e).subscribe()},b.prototype.render=function(){var e=this.state.timeStr,t=this.props,i=t.className,t=t.endString;return e?r.a.createElement("span",{className:i,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/components/CountDown.js",lineNumber:81},__self:this},e):t},n=i=b,i.propTypes={endTime:l.a.number.isRequired,id:l.a.string.isRequired,className:l.a.string,endString:l.a.string,endCallback:l.a.func},i.defaultProps={className:"",endString:"",endCallback:function(){}},s=(n=n).prototype,u="countDownServices",o=[o],f={enumerable:!0,initializer:null},m={},Object.keys(f).forEach(function(e){m[e]=f[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=o.slice().reverse().reduce(function(e,t){return t(s,u,e)||e},m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(s,u,m),m=null),a=m,n);function b(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,d.call(this,e));return i="countDownServices",n=t=r,(e=a)&&Object.defineProperty(t,i,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(n):void 0}),r.updateTime=function(e){0<=e&&r.setState({currentTime:e},r.parseDisplayTime)},r.parseDisplayTime=function(){var e=r.props,t=e.endTime,e=e.endCallback,t=t-r.state.currentTime;0<t?r.countDownServices.timeContent(t).subscribe(function(e){r.setState({timeStr:e})}):(r.setState({timeStr:""}),e())},r.state={timeStr:"",currentTime:Math.floor(+new Date/1e3)},r}t.default=n},"25592f":function(e,t,i){e.exports=i("5f575e")("78990")},"257ef5":function(e,t,i){"use strict";var r,o,l,n=i("1a22b7"),a=i.n(n),c=i("292183"),s=i.n(c),u=i("7ca7dc"),f=i("97a1f0"),p=i("c47d76"),m=i("eb3e22"),n=i("b3960e"),d=i("cf8349"),b=i("384d3d"),h=i("b42b55"),c=i("9d5279"),v=i("64f682"),_=(i("c70448"),"/shark/live/src/common/components/CertifyComponent/CertifyComp.js");function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function w(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var O,u=u.default.Service,S=Object(f.importObject)("live.common.dyComponents.Message"),n=(c=u(c.default),m=u(m.DataCenter.localStorage),u=u(n.default),N(E,O=a.a.Component),E.prototype.componentDidMount=function(){this.certifyService.setUid(),this.getUserInfo()},E.prototype.componentDidUpdate=function(e){this.props.visible&&!e.visible&&this.getUserInfo()},E.prototype.render=function(){var e=this.props,t=e.visible,i=e.title,n=e.finalText,r=this.state,e=r.step,r=r.identStatus;return a.a.createElement(p.Modal,{className:"CertifyComp-common",visible:t,onCancel:this.close,onOk:null,title:i,footer:null,width:420,maskClosable:!1,center:!0,mask:!0,__source:{fileName:_,lineNumber:169},__self:this},a.a.createElement("div",{className:"CertifyComp-common-guide",__source:{fileName:_,lineNumber:181},__self:this},a.a.createElement("div",{className:"CertifyComp-common-barArea",__source:{fileName:_,lineNumber:182},__self:this},a.a.createElement("div",{className:"CertifyComp-common-point is-step1 "+this.checkStatus(1),__source:{fileName:_,lineNumber:183},__self:this}),a.a.createElement("div",{className:"CertifyComp-common-line is-step1 "+this.checkStatus(2),__source:{fileName:_,lineNumber:184},__self:this}),a.a.createElement("div",{className:"CertifyComp-common-point is-step2 "+this.checkStatus(2),__source:{fileName:_,lineNumber:185},__self:this}),a.a.createElement("div",{className:"CertifyComp-common-line is-step2 "+this.checkStatus(3),__source:{fileName:_,lineNumber:186},__self:this}),a.a.createElement("div",{className:"CertifyComp-common-point is-step3 "+this.checkStatus(3),__source:{fileName:_,lineNumber:187},__self:this}),a.a.createElement("div",{className:"CertifyComp-common-desc is-step1 "+this.checkStatus(1),__source:{fileName:_,lineNumber:188},__self:this},"绑定手机"),a.a.createElement("div",{className:"CertifyComp-common-desc is-step2 "+this.checkStatus(2),__source:{fileName:_,lineNumber:189},__self:this},"实名认证"),a.a.createElement("div",{className:"CertifyComp-common-desc is-step3 "+this.checkStatus(3),__source:{fileName:_,lineNumber:190},__self:this},"完成")),a.a.createElement("div",{className:"CertifyComp-common-arrow is-step"+e,__source:{fileName:_,lineNumber:192},__self:this})),a.a.createElement("div",{className:"CertifyComp-common-content",__source:{fileName:_,lineNumber:194},__self:this},1===e&&a.a.createElement(d.default,{next:this.changeStep,identStatus:r,__source:{fileName:_,lineNumber:195},__self:this}),2===e&&a.a.createElement(b.default,{next:this.changeStep,__source:{fileName:_,lineNumber:196},__self:this}),3===e&&a.a.createElement(h.default,{onSuccess:this.succeed,finalText:n,__source:{fileName:_,lineNumber:197},__self:this})))},r=w((n=E).prototype,"certifyService",[c],{enumerable:!0,initializer:null}),o=w(n.prototype,"localStorage",[m],{enumerable:!0,initializer:null}),l=w(n.prototype,"webStreamService",[u],{enumerable:!0,initializer:null}),n);function E(){var e,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E);for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=a=y(this,O.call.apply(O,[this].concat(i))),g(a,"certifyService",r,a),g(a,"localStorage",o,a),g(a,"webStreamService",l,a),a.state={step:1,identStatus:0,phoneStatus:0,userInfo:{roomId:0,nickname:""}},a.getUserInfo=function(){a.certifyService.getUserInfo().subscribe(function(e){var t=e.error,i=e.msg,n=void 0===i?"获取认证信息失败":i,r=e.data;0==+t?(e=(i=f.GSON.parse(r)).phoneStatus,t=i.identStatus,r=void 0===(r=i.roomId)?0:r,i=void 0===(i=i.nickname)?"":i,a.setState({phoneStatus:1===(e=void 0===e?0:e)?1:0,identStatus:2===(t=void 0===t?0:t)?1:0,step:a.getCurrentStep(e,t),userInfo:{roomId:r,nickname:i}})):S.error(n)})},a.getCurrentStep=function(e,t){var i=e?t?3:2:1;return Object(v.default)("step"+i),i},a.changeStep=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;Object(v.default)("step"+e),a.setState({step:e})},a.close=function(){(0,a.props.onClose)(),a.setState({step:1})},a.succeed=function(){var e=a.props.onSuccess;Object(v.default)("finalBtnClick"),a.close(),e&&"function"==typeof e?e():a.webStreamService.getUserInfo()},a.jumpRoom=function(n){1<arguments.length&&void 0!==arguments[1]&&!arguments[1]?(a.localStorage.set("WEBSTREAM_MARK",!0),location.href="/"+n+"?shark_debug=1"):a.certifyService.openLive().subscribe(function(e){var t=e.error,e=e.msg,i=void 0===e?"web开播失败, 点击主播菜单开播按钮试试~":e;switch(+t){case 0:S.info("已开播"),a.localStorage.set("WEBSTREAM_MARK",!0),location.href="/"+n+"?shark_debug=1";break;case 2:S.error("实名认证失败, 请重新认证");break;case 3:S.error("您的直播间已被封禁");break;default:S.error(i)}})},a.checkStatus=function(){return a.state.step>=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)?"is-active":""},y(a,e)}n.propTypes={visible:s.a.bool.isRequired,onSuccess:s.a.func,onClose:s.a.func,title:s.a.string,finalText:s.a.string},n.defaultProps={visible:!1,onClose:function(){},title:"实名认证",finalText:"认证成功"},t.default=n},"26464d":function(e,t,i){e.exports=i("2d6146")("76be8")},"265d4c":function(e,t,i){},"26c5d2":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/vpgame_fdac760.png"},"26cd1d":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/icon_dff357b.png"},"27cf0e":function(e,t,i){"use strict";var a,o,n=i("1a22b7"),r=i.n(n),l=i("292183"),c=i.n(l),s=i("447d8e"),u=i("7ca7dc"),f=i("eb3e22"),p=i("54992a"),m=i("16358b"),n=i("b92d46"),l=i("f3ba96"),d=i.n(l),l=i("431bca"),b=i.n(l),h=i("a8024b"),v=(i("d2008a"),"/shark/live/src/pages/roomPage/toolbarModule/components/LolFamily/LolFamily.js");function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function N(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var w,u=u.default.Service,O=i("ae77d0"),p=(f=u(f.DataCenter.global),n=u(n.default),Object(p.log)((y(S,w=r.a.Component),S.prototype.componentDidMount=function(){var e=this.state.roomId,t=this.props.roomUrlMap;(void 0===t?{}:t)[e]&&m.default.toolbarActivityShow("family")},S.prototype.handleBtnClick=function(){this.lolFamilyService.toggleDialogStatus()},S.prototype.render=function(){return r.a.createElement("div",{className:"LolFamily",__source:{fileName:v,lineNumber:50},__self:this},r.a.createElement(h.default,{baseUrl:O,des:"伐木累",leftColor:"#2aa4ff",rightColor:"#0162e5",onClick:this.handleBtnClick,__source:{fileName:v,lineNumber:52},__self:this}),r.a.createElement("div",{className:"LolFamily-hover",__source:{fileName:v,lineNumber:59},__self:this},r.a.createElement("img",{src:d.a,className:"LolFamily-hover-icon",__source:{fileName:v,lineNumber:60},__self:this}),r.a.createElement("div",{className:"LolFamily-hover-info",__source:{fileName:v,lineNumber:61},__self:this},r.a.createElement("img",{src:b.a,className:"LolFamily-hover-scoregg",__source:{fileName:v,lineNumber:62},__self:this}),r.a.createElement("span",{__source:{fileName:v,lineNumber:63},__self:this},"实时了解场上数据",r.a.createElement("br",{__source:{fileName:v,lineNumber:63},__self:this}),"让你完全掌握比赛节奏"))))},a=N((p=S).prototype,"global",[f],{enumerable:!0,initializer:null}),o=N(p.prototype,"lolFamilyService",[n],{enumerable:!0,initializer:null}),p=p))||p);function S(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=g(this,w.call.apply(w,[this].concat(n))),_(t,"global",a,t),_(t,"lolFamilyService",o,t),t.state={showIframe:!1,roomId:t.global.get("$ROOM.room_id")},g(t,e)}p.propTypes={roomUrlMap:c.a.object},t.default=Object(s.connect)(function(e){return{roomUrlMap:e.LolFamilyData.roomUrlMap}})(p)},280222:function(e,t,i){},"28ca94":function(e,t,i){"use strict";var n=i("92d3d1"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={isOpen:!1,isShow:!1};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];return t.type!==n.LOTTERYDRAWENTER_UPDATE_DATA?e:Object.assign({},e,r({},t.payload))}},"28d7db":function(e,t,i){"use strict";var a,n=i("1a22b7"),r=i.n(n),o=i("3b6ec9"),l=i.n(o),c=i("7ca7dc"),n=i("464414"),o=i("0a0bc8"),s=i.n(o),u="/shark/live/src/pages/roomPage/toolbarModule/components/PrivilegedGiftEnter/MainPanel.js";function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var p,m,d,b,h,v,n=(c=(0,c.default.Service)(n.default),f(_,v=r.a.Component),_.prototype.componentDidMount=function(){var e=this;this.props.hidden||(this.timer=setTimeout(function(){e.setState({timerShow:!1})},1e4))},_.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer)},_.prototype.render=function(){var e=this;return this.state.timerShow?l.a.createPortal(r.a.createElement("div",{className:"PrivilegeGiftModalDialog",__source:{fileName:u,lineNumber:44},__self:this},r.a.createElement("div",{className:"PrivilegeGiftModalDialog-panel",__source:{fileName:u,lineNumber:45},__self:this},r.a.createElement("div",{className:"PrivilegeGiftModalDialog-close",onClick:function(){e.mainServices.showPanelSwitch(!1)},__source:{fileName:u,lineNumber:46},__self:this}),r.a.createElement("div",{className:"PrivilegeGiftModalDialog-gif",__source:{fileName:u,lineNumber:49},__self:this},r.a.createElement("img",{src:s.a,__source:{fileName:u,lineNumber:50},__self:this})),r.a.createElement("div",{className:"PrivilegeGiftModalDialog-head",__source:{fileName:u,lineNumber:52},__self:this}),r.a.createElement("div",{className:"PrivilegeGiftModalDialog-desc",__source:{fileName:u,lineNumber:53},__self:this},"专享特效礼物，主播等你来撩！",r.a.createElement("a",{href:"https://www.douyu.com/cms/huo/202001/07/12064.shtml",target:"_blank",onClick:this.moreInfo,__source:{fileName:u,lineNumber:54},__self:this},"详细规则>")),r.a.createElement("div",{className:"PrivilegeGiftModalDialog-btn",onClick:function(){e.mainServices.sendGift()},__source:{fileName:u,lineNumber:56},__self:this}))),document.body):null},p=(n=_).prototype,m="mainServices",c=[c],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=c.slice().reverse().reduce(function(e,t){return t(p,m,e)||e},h),b&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(p,m,h),h=null),a=h,n);function _(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);var t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this,e));return i="mainServices",n=t=r,(e=a)&&Object.defineProperty(t,i,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(n):void 0}),r.moreInfo=function(){r.timer&&clearTimeout(r.timer)},r.state={timerShow:!0},r}t.default=n},292183:function(e,t,i){e.exports=i("5f575e")("8a2d1")},"299c4d":function(e,t,i){},"2a05bb":function(e,t,i){"use strict";var n,r,a,o,l,c=i("1a22b7"),s=i.n(c),u=i("7ca7dc"),f=i("eb3e22"),p=i("85434b"),m=i("16358b"),d=i("de008c"),c=i("eeb9b8"),b="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/PaladinWeek/PaladinWeek.js";function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function _(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var g,i=u.default.Service,f=(u=i(f.DataCenter.localStorage),m=i(m.default),d=i(d.default),c=i(c.default),i=i(f.DataCenter.global),v(y,g=s.a.Component),y.prototype.componentDidMount=function(){var n=this,r="paladinCrazyWeek"+(this.global.get("USER_INFO.uid")||0);this.getSwitchServices.getBusinessConfig({bid:"10526_1"}).subscribe(function(){var e,t,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};0==+i.error&&(e="string"==typeof(t=(("string"==typeof i.data?JSON.parse(i.data):{}).allRoom||{})["10526_1"]||{}).content?JSON.parse(t.content):{},i=n.barServices.returnExpireData,t={},e.icon&&e.pop&&(t={isInit:!0,timeArray:[i(e.st).M+"月"+i(e.st).d+"日",i(e.et).M+"月"+i(e.et).d+"日"],content:e},n.localStorage.get(r)||(n.localStorage.set(r,1,2592e3),t.isShow=!0),n.setState(t)))})},y.prototype.render=function(){var e=this.state.isShow;return this.state.isInit?s.a.createElement("div",{className:"PaladinWeek",__source:{fileName:b,lineNumber:85},__self:this},s.a.createElement("div",{className:"PaladinWeek-entry",onClick:this.changeDialogStatus,style:{backgroundImage:"url(//shark2.douyucdn.cn/"+this.state.content.icon+")"},__source:{fileName:b,lineNumber:86},__self:this}),e?s.a.createElement(p.default,{toggleEvent:this.changeDialogStatus.bind(this),data:this.state,__source:{fileName:b,lineNumber:94},__self:this}):""):null},n=_((f=y).prototype,"localStorage",[u],{enumerable:!0,initializer:null}),r=_(f.prototype,"commonToolbarService",[m],{enumerable:!0,initializer:null}),a=_(f.prototype,"getSwitchServices",[d],{enumerable:!0,initializer:null}),o=_(f.prototype,"barServices",[c],{enumerable:!0,initializer:null}),l=_(f.prototype,"global",[i],{enumerable:!0,initializer:null}),f);function y(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,g.call(this,e));return h(t,"localStorage",n,t),h(t,"commonToolbarService",r,t),h(t,"getSwitchServices",a,t),h(t,"barServices",o,t),h(t,"global",l,t),t.changeDialogStatus=function(){t.setState({isShow:!t.state.isShow})},t.state={isShow:!1,isInit:!1},t}t.default=f},"2a3ec5":function(e,t,i){},"2a9444":function(e,t,i){},"2b2b75":function(e,t,i){},"2b566f":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default_50803b3.jpg"},"2b78ba":function(e,t,i){e.exports=i("5f575e")("ad03a")},"2c6f5e":function(e,t,i){"use strict";i.d(t,"isSameArray",function(){return a}),i.d(t,"isSameEnter",function(){return o}),i.d(t,"isLeft",function(){return l}),i.d(t,"isRight",function(){return c}),i.d(t,"callLater",function(){return s});var n=i("ebd8cf"),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(n){return function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!n(e[i],t[i]))return!1;return!0}},o=function(e,t){return e===t||(void 0===e?"undefined":r(e))===(void 0===t?"undefined":r(t))&&e.id===t.id&&e.isShow===t.isShow},l=function(e){return e.position===n.POSITION_LEFT},c=function(e){return e.position===n.POSITION_RIGHT},s=function(e){return setTimeout(e,0)}},"2c8638":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default_50803b3.jpg"},"2d10ba":function(e,t,i){"use strict";var n,r,a,o=i("1a22b7"),l=i.n(o),c=i("447d8e"),s=i("7ca7dc"),u=i("eb3e22"),f=i("54992a"),p=i("c95695"),m=i("9a0029"),o=(i("299c4d"),i("26cd1d")),d=i.n(o),b="/shark/live/src/pages/roomPage/toolbarModule/components/GuessIcon/GuessIcon.js";function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function _(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var g,o=s.default.Service,y=s.default.Region,f=(s=o(p.default),p=o(u.DataCenter.global),u=o(u.DataCenter.localStorage),Object(f.log)((v(N,g=l.a.Component),N.prototype.componentDidMount=function(){this.guessIconService.getRoomConfig()},N.prototype.oppositeStatus=function(){var e=this.props.guessIconEntryData;(void 0===e?{}:e).panelStatus||(this.guessIconService.guessGameDYSub("click_anchorquiz",{}),this.guessIconService.oppositeStatus())},N.prototype.render=function(){var e=this;return l.a.createElement("div",{__source:{fileName:b,lineNumber:54},__self:this},l.a.createElement(y,{name:"sign",belongTo:"ToolbarApp",data:{id:"4112211",viewRender:function(){return l.a.createElement("div",{className:"GuessIcon-ad-info",onClick:e.oppositeStatus,__source:{fileName:b,lineNumber:61},__self:e},l.a.createElement(m.default,{data:{id:"4112211"},__source:{fileName:b,lineNumber:62},__self:e}),l.a.createElement("img",{className:"GuessIcon-ad-words",src:d.a,__source:{fileName:b,lineNumber:63},__self:e}))},cleanRender:function(){return l.a.createElement("div",{className:"GuessIcon",onClick:e.oppositeStatus,__source:{fileName:b,lineNumber:67},__self:e})}},__source:{fileName:b,lineNumber:55},__self:this}))},n=_((f=N).prototype,"guessIconService",[s],{enumerable:!0,initializer:null}),r=_(f.prototype,"global",[p],{enumerable:!0,initializer:null}),a=_(f.prototype,"localStorage",[u],{enumerable:!0,initializer:null}),f=f))||f);function N(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,g.call(this,e));return h(e,"guessIconService",n,e),h(e,"global",r,e),h(e,"localStorage",a,e),e.oppositeStatus=e.oppositeStatus.bind(e),e}t.default=Object(c.connect)(function(e){return{guessIconEntryData:e.guessIconEntryData}})(f)},"2d2855":function(e,t,i){e.exports=i("5f575e")("ccabd")},"2d48a9":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),n=i("292183"),n=i.n(n),a=i("cc2d7e"),o="/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/SpeedRankListDialog/components/Header.js",i=function(e){e=e.close;return r.a.createElement("div",{className:"SSR-header",__source:{fileName:o,lineNumber:8},__self:void 0},r.a.createElement("div",{className:"SSR-close",onClick:e,__source:{fileName:o,lineNumber:9},__self:void 0},r.a.createElement("i",{__source:{fileName:o,lineNumber:9},__self:void 0})),r.a.createElement(a.Title,{className:"is-header",title:"签到手速榜",__source:{fileName:o,lineNumber:10},__self:void 0}))};i.propTypes={close:n.a.func.isRequired},t.default=i},"2d6146":function(e,t){e.exports=sdkd479d126aaa128c11834},"2e5590":function(e,t,i){"use strict";var n,r,a,o,l=i("1a22b7"),c=i.n(l),s=i("7ca7dc"),u=i("11acb5"),f=i.n(u),p=i("97a1f0"),m=i("eb3e22"),d=(i("3b0c9d"),i("53a576")),l=i("5b9730"),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/BJYzMakeFriendsGift/BJYzMakeFriendsGift.js";function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function g(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var u=s.default.Service,s=s.default.Store,y=parseInt(m.DataCenter.global.get("USER_INFO.uid"),10),N=i("2b566f"),w=i("975300"),O=i("14fa9e");function S(e){e=e.isShow;return void 0!==e&&e?c.a.createElement("span",{className:"BJYzMakeFriendsGift-webIcon",__source:{fileName:h,lineNumber:31},__self:this},c.a.createElement("span",{className:"BJYzMakeFriendsGift-webIcon--tips",__source:{fileName:h,lineNumber:32},__self:this},"网页端上麦用户")):null}var E,i=(i=Object(p.ErrorHandler)(),p=u(m.DataCenter.common),l=u(l.default),m=u(m.DataCenter.localStorage),s=s(),i((_(j,E=c.a.Component),j.prototype.setDefaultAnchor=function(e){var t=e.emcee_info,i=e.guest_list,n=e.anchor_replacer,r=e.isAnchorInVoice,a=e.isNoneVoice,o=e.isOnlyAnchorReplacerInVoice,l=e.isOnlyAnchorInVoice,c=e.isOneUserInVoice,s=this.$ROOM||{},u=s.avatar,f=s.owner_name,s=s.owner_uid,u=(void 0===u?{}:u).small,s=this.getChooseData({emcee_info:void 0===t?{}:t,guest_list:void 0===i?[]:i,anchor_replacer:void 0===n?{}:n,isOnlyAnchorReplacerInVoice:o,isOnlyAnchorInVoice:l,isOneUserInVoice:c,isNoneVoice:a,isAnchorInVoice:r,room:{avatar:u,nn:f,uid:s}});this.bjAudioDataServices.log("resData礼物",s),this.setState({selectedData:s,data:e}),Object.keys(s).length&&(e=this.getDefaultDestData(e),this.giftServices.sendBjAudioData(b({},e)))},j.prototype.setDefaultRoomData=function(e){var t=e.anchor_replacer,i=void 0===t?{}:t,t=e.emcee_info,t=void 0===t?{}:t,e=e.guest_list,e=void 0===e?[]:e;Object.keys(i).length&&(Object.keys(t).length||e.length)&&(this.$ROOM={avatar:{small:this.setAvatarUrl(i.avatar)},owner_name:i.nn,owner_uid:+i.uid})},j.prototype.setOriginalRoomData=function(e){this.$ORI_ROOM=b({},e,{avatar:e.avatar.small,nn:e.owner_name,uid:+e.owner_uid})},j.prototype.componentDidMount=function(){var t=this;this.common.get("$DATA").subscribe(function(e){t.$ROOM=e.get("room"),t.setOriginalRoomData(e.get("room")),t.bjAudioDataServices.getAudioList().subscribe(function(e){t.bjAudioDataServices.log("统一数据源礼物-resData-gift",e),t.setDefaultRoomData(e),t.setDefaultAnchor(e)}),0===Object.keys(t.state.data).length&&t.setDefaultAnchor(t.state.data)})},j.prototype.setAvatarUrl=function(e){return"//apic.douyucdn.cn/upload/"+e+"_middle.jpg"},j.prototype.toggleSelect=function(e){this.setState({isSelectCur:e})},j.prototype.IsSelectedDataInNewData=function(e,t){var i=e.emcee_info,e=e.guest_list,e=void 0===e?[]:e;return+(void 0===i?{}:i).uid==+t||e.some(function(){return+(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).uid==+t})},j.prototype.getChooseData=function(e){var t=e.emcee_info,i=e.guest_list,n=e.anchor_replacer,r=e.isNoneVoice,a=e.isOnlyAnchorReplacerInVoice,o=e.isOnlyAnchorInVoice,l=e.isOneUserInVoice,c=e.isAnchorInVoice,s=e.room||{},u={},f=this.$ORI_ROOM,p=f.avatar,e=f.nn,f=f.uid;if(r)return Object.assign({},{avatar:p,nn:e,uid:f},{status:"房主"});if(a&&c)return Object.assign({},{avatar:p,nn:e,uid:f},{status:"房主"});if(a||o||l)return u=Object.assign({},{isAll:!0,status:"全麦"}),u=l?Object.assign(u,s):u;if(Object.keys(t).length&&+t.uid&&+t.uid!==y)return Object.assign({},t,{status:"主持"});t=i.filter(function(e){return+e.uid!==y});return t.length?Object.assign({},t[0],{status:i[0].seat+"麦"}):Object.keys(n).length&&+n.uid||Object.keys(s).length?Object.assign({},s,{status:"房主"}):u},j.prototype.getDefaultDestData=function(e){var t={},i=e.anchor_replacer,n=void 0===i?{}:i,r=e.guest_list,a=void 0===r?[]:r,o=e.emcee_info,l=void 0===o?{}:o,c=e.isNoneVoice,s=e.allVoiceUidList,u=e.isOnlyAnchorInVoice,i=e.isOnlyAnchorReplacerInVoice,r=e.isOneUserInVoice,o=this.$ROOM.owner_uid,e={};if(i)return{isError:1};if(r)return{dstUids:f.a.stringify({guest:s,anchor:+o}),isAll:1};if(u)return{dstUids:f.a.stringify({guest:[],anchor:+o}),isAll:1};if(Object.keys(l).length&&+l.uid&&+l.uid!==y)return e={guest:[parseInt(l.uid,10)]},{dstUids:f.a.stringify(e),isAll:0};a=a.filter(function(e){return+e.uid!==y});return a.length?(e={guest:[parseInt(a[0].uid,10)]},{dstUids:f.a.stringify(e),isAll:0}):Object.keys(n).length&&+n.uid&&!c?{anchor:+n.uid,isAll:0}:+this.$ORI_ROOM.uid?{anchor:+this.$ORI_ROOM.uid,isAll:0}:t},j.prototype.getDestData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],i={},n=t.anchor_replacer,r=t.guest_list,a=void 0===r?[]:r,r=t.emcee_info,t=void 0===r?{}:r,r=this.$ROOM.owner_uid,o={},l=parseInt((void 0===n?{}:n).uid,10)||+r;return e.status&&("全麦"===e.status&&(o={guest:[]},t.uid&&y!==t.uid&&o.guest.push(parseInt(t.uid,10)),a.length&&a.forEach(function(e){e.uid!==y&&o.guest.push(parseInt(e.uid,10))}),a=o.guest.filter(function(e){return e===l}).length,l===y||a||(o.anchor=l),i={dstUids:f.a.stringify(o),isAll:1}),"主持"===e.status&&(o={guest:[parseInt(t.uid,10)]},i={dstUids:f.a.stringify(o),isAll:0}),e.status.match(/\d/)&&+e.uid&&(o={guest:[parseInt(e.uid,10)]},i={dstUids:f.a.stringify(o),isAll:0}),"房主"===e.status&&(i={anchor:+r,isAll:0})),i},j.prototype.renderImgData=function(e){var t="";return t=e.avatar?"房主"!==e.status?this.setAvatarUrl(e.avatar):e.avatar:t},j.prototype.clickOption=function(e){var t=this.state,i=t.data,n=void 0===i?{}:i,r=t.selectedData;+(void 0===r?{}:r).uid!=+e.uid&&this.giftServices.clearBatterTime();i=n.isOnlyAnchorReplacerInVoice,t=n.isOnlyAnchorInVoice,r=n.isOneUserInVoice;(i||t||r)&&"全麦"===e.status||(this.setState({selectedData:Object.assign({isAll:!1},e)}),!Object.keys(e).length)||(n=this.getDestData(e,n),this.giftServices.sendBjAudioData(b({},n)))},j.prototype.renderGuestList=function(e,i){var n=this;return e.length?(e=e.filter(function(e){return+e.uid!==y})).map(function(e,t){return c.a.createElement("div",{className:"BJYzMakeFriendsGift-option "+(+i.seat==+e.seat?"is-active":""),key:t+1,onClick:function(){n.clickOption(b({},e,{status:+e.seat+"麦"}))},__source:{fileName:h,lineNumber:488},__self:n},c.a.createElement("span",{className:"BJYzMakeFriendsGift-pic",__source:{fileName:h,lineNumber:497},__self:n},c.a.createElement("img",{src:e.avatar?n.setAvatarUrl(e.avatar):N,__source:{fileName:h,lineNumber:498},__self:n})),c.a.createElement("span",{className:"BJYzMakeFriendsGift-board BJYzMakeFriendsGift-boardGirl",__source:{fileName:h,lineNumber:500},__self:n},+e.seat,"麦"),c.a.createElement("span",{className:"BJYzMakeFriendsGift-name",title:e.nn,__source:{fileName:h,lineNumber:503},__self:n},e.nn||"虚位以待"),c.a.createElement(S,{isShow:3==+e.client_type,__source:{fileName:h,lineNumber:506},__self:n}))}):null},j.prototype.renderHost=function(e,t){var i=this;return+e.uid===y?null:c.a.createElement(c.a.Fragment,{__source:{fileName:h,lineNumber:518},__self:this},Object.keys(e).length&&+e.uid?c.a.createElement("div",{className:"BJYzMakeFriendsGift-option BJYzMakeFriendsGift-Hostman "+("主持"===t.status?"is-active":""),onClick:function(){i.clickOption(b({},e,{status:"主持"}))},__source:{fileName:h,lineNumber:520},__self:this},c.a.createElement("span",{className:"BJYzMakeFriendsGift-pic",__source:{fileName:h,lineNumber:528},__self:this},c.a.createElement("img",{src:e.avatar?this.setAvatarUrl(e.avatar):N,__source:{fileName:h,lineNumber:529},__self:this})),c.a.createElement("span",{className:"BJYzMakeFriendsGift-board BJYzMakeFriendsGift-boardMC",__source:{fileName:h,lineNumber:537},__self:this},"主持"),c.a.createElement("span",{className:"BJYzMakeFriendsGift-name",title:e.nn,__source:{fileName:h,lineNumber:540},__self:this},e.nn||"虚位以待"),c.a.createElement(S,{isShow:3==+e.client_type,__source:{fileName:h,lineNumber:543},__self:this})):"")},j.prototype.renderAnchor=function(e){var t=this,i=this.$ROOM||{},n=i.avatar,r=void 0===n?{}:n;return c.a.createElement("div",{className:"BJYzMakeFriendsGift-option "+("房主"===e.status?"is-active":""),onClick:function(){t.clickOption({avatar:r.small,nn:i.owner_name,uid:i.owner_uid,status:"房主"})},__source:{fileName:h,lineNumber:558},__self:this},c.a.createElement("span",{className:"BJYzMakeFriendsGift-pic",__source:{fileName:h,lineNumber:571},__self:this},c.a.createElement("img",{src:r.small||N,__source:{fileName:h,lineNumber:572},__self:this})),c.a.createElement("span",{className:"BJYzMakeFriendsGift-board",__source:{fileName:h,lineNumber:574},__self:this},"房主"),c.a.createElement("span",{className:"BJYzMakeFriendsGift-name",title:i.owner_name,__source:{fileName:h,lineNumber:575},__self:this},i.owner_name))},j.prototype.renderChoosed=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(t.isAll)return this.renderChoosedAllVoice(t);var i=this.renderImgData(t),n=this.state.data,r=n.isOnlyAnchorReplacerInVoice,n=n.isNoneVoice,r=r?"(0人)":"虚位以待";return c.a.createElement("div",{className:"BJYzMakeFriendsGift-choosed",__source:{fileName:h,lineNumber:596},__self:this},c.a.createElement("div",{className:"BJYzMakeFriendsGift-question",__source:{fileName:h,lineNumber:597},__self:this},c.a.createElement("div",{className:"BJYzMakeFriendsGift-tips",__source:{fileName:h,lineNumber:598},__self:this},"赠送礼物增加嘉宾心动值（1贡献值=10心动值）")),c.a.createElement("span",{className:"BJYzMakeFriendsGift-txt",__source:{fileName:h,lineNumber:600},__self:this},"送给"),c.a.createElement("span",{className:"BJYzMakeFriendsGift-pic",__source:{fileName:h,lineNumber:601},__self:this},c.a.createElement("img",{src:i||N,__source:{fileName:h,lineNumber:602},__self:this})),c.a.createElement("span",{className:"BJYzMakeFriendsGift-board BJYzMakeFriendsGift-boardMC",__source:{fileName:h,lineNumber:604},__self:this},t.status),c.a.createElement("span",{className:"BJYzMakeFriendsGift-selectArea",onMouseOver:function(){return e.toggleSelect(1)},onMouseOut:function(){return e.toggleSelect(0)},__source:{fileName:h,lineNumber:607},__self:this},c.a.createElement("span",{className:"BJYzMakeFriendsGift-name",title:t.nn,__source:{fileName:h,lineNumber:612},__self:this},t.nn||r),n?null:c.a.createElement("span",{className:"BJYzMakeFriendsGift-more",__source:{fileName:h,lineNumber:616},__self:this})),c.a.createElement(S,{isShow:3==+t.client_type,__source:{fileName:h,lineNumber:619},__self:this}))},j.prototype.renderAllCountText=function(){return"("+this.getAllVoiceUser().length+"人)"},j.prototype.renderChoosedAllVoice=function(){var e=this,t=this.renderAllCountText();return c.a.createElement("div",{className:"BJYzMakeFriendsGift-choosed",__source:{fileName:h,lineNumber:638},__self:this},c.a.createElement("div",{className:"BJYzMakeFriendsGift-choosedinner",__source:{fileName:h,lineNumber:639},__self:this},c.a.createElement("div",{className:"BJYzMakeFriendsGift-question",__source:{fileName:h,lineNumber:640},__self:this},c.a.createElement("div",{className:"BJYzMakeFriendsGift-tips",__source:{fileName:h,lineNumber:641},__self:this},"赠送礼物增加嘉宾心动值（1贡献值=10心动值）")),c.a.createElement("span",{className:"BJYzMakeFriendsGift-txt",__source:{fileName:h,lineNumber:643},__self:this},"送给"),c.a.createElement("span",{className:"BJYzMakeFriendsGift-pic",__source:{fileName:h,lineNumber:644},__self:this},c.a.createElement("img",{src:O,__source:{fileName:h,lineNumber:645},__self:this})),c.a.createElement("span",{className:"BJYzMakeFriendsGift-group",__source:{fileName:h,lineNumber:647},__self:this},c.a.createElement("img",{src:w,__source:{fileName:h,lineNumber:648},__self:this})),c.a.createElement("span",{className:"BJYzMakeFriendsGift-selectArea",onMouseOver:function(){return e.toggleSelect(1)},onMouseOut:function(){return e.toggleSelect(0)},__source:{fileName:h,lineNumber:650},__self:this},c.a.createElement("span",{className:"BJYzMakeFriendsGift-name",title:t,__source:{fileName:h,lineNumber:655},__self:this},t),c.a.createElement("span",{className:"BJYzMakeFriendsGift-more",__source:{fileName:h,lineNumber:658},__self:this}))),this.renderAllVoiceImg())},j.prototype.checkAllVoice=function(e){var t=e.anchor_replacer,i=e.emcee_info,i=void 0===i?{}:i,e=e.guest_list,e=void 0===e?[]:e;return 0!==Object.keys(void 0===t?{}:t).length||0!==Object.keys(i).length||0!==e.length},j.prototype.renderAllVoice=function(e,t){var i=this;if(!this.checkAllVoice(e))return null;e=this.renderAllCountText(),t=Boolean(t.isAll);return c.a.createElement("div",{className:"BJYzMakeFriendsGift-option "+(t?"is-active":""),onClick:function(){i.clickOption({isAll:!0,status:"全麦"})},__source:{fileName:h,lineNumber:691},__self:this},c.a.createElement("span",{className:"BJYzMakeFriendsGift-pic",__source:{fileName:h,lineNumber:697},__self:this},c.a.createElement("img",{src:O,__source:{fileName:h,lineNumber:698},__self:this})),c.a.createElement("span",{className:"BJYzMakeFriendsGift-group",__source:{fileName:h,lineNumber:700},__self:this},c.a.createElement("img",{src:w,__source:{fileName:h,lineNumber:701},__self:this})),c.a.createElement("span",{className:"BJYzMakeFriendsGift-name",title:e,__source:{fileName:h,lineNumber:703},__self:this},e))},j.prototype.getAllVoiceUser=function(){var t=this,i=[];if(!this.$ROOM)return i;var n=[],e=this.state.data,r=void 0===e?{}:e,a=r.emcee_info,e=void 0===a?{}:a,a=r.guest_list,a=void 0===a?[]:a;if(r.isOnlyAnchorReplacerInVoice)return i;r=+this.$ROOM.owner_uid;return e.avatar&&y!==+e.uid&&(i.push(this.setAvatarUrl(e.avatar)),n.push(parseInt(e.uid,10))),a.forEach(function(e){e.avatar&&y!==+e.uid&&-1===n.indexOf(+e.uid)&&(i.push(t.setAvatarUrl(e.avatar)),n.push(parseInt(e.uid,10)))}),this.$ROOM&&this.$ROOM.avatar&&y!==r&&-1===n.indexOf(r)&&(a=this.$ROOM.avatar.small,i.push(void 0===a?"":a),n.push(r)),this.bjAudioDataServices.log("过滤前的礼物头像列表",i,n),i},j.prototype.renderAllVoiceImg=function(){var t=this,e=this.getAllVoiceUser();return c.a.createElement("div",{className:"BJYzMakeFriendsGift-voice",__source:{fileName:h,lineNumber:767},__self:this},e.map(function(e){return c.a.createElement("span",{className:"BJYzMakeFriendsGift-voiceimg",__source:{fileName:h,lineNumber:769},__self:t},c.a.createElement("img",{src:e||N,__source:{fileName:h,lineNumber:770},__self:t}))}))},j.prototype.render=function(){var e=this,t=this.state,i=t.data,n=void 0===i?{}:i,r=t.selectedData,a=void 0===r?{}:r,o=n.emcee_info,l=void 0===o?{}:o,i=n.guest_list,t=void 0===i?[]:i,r=n.isOnlyAnchorReplacerInVoice,o=n.isOnlyAnchorInVoice,i=n.isNoneVoice,o=r||o;return c.a.createElement("div",{className:"BJYzMakeFriendsGift is-show",__source:{fileName:h,lineNumber:787},__self:this},c.a.createElement("div",{className:"BJYzMakeFriendsGift-info "+(this.state.isSelectCur?"is-active":""),__source:{fileName:h,lineNumber:788},__self:this},c.a.createElement("div",{className:"BJYzMakeFriendsGift-select",onMouseOver:function(){return e.toggleSelect(1)},onMouseOut:function(){return e.toggleSelect(0)},__source:{fileName:h,lineNumber:793},__self:this},i?null:this.renderAllVoice(n,a),o?null:this.renderHost(l,a),o?null:this.renderGuestList(t,a)),this.renderChoosed(a)))},n=g((i=j).prototype,"common",[p],{enumerable:!0,initializer:null}),r=g(i.prototype,"giftServices",[l],{enumerable:!0,initializer:null}),a=g(i.prototype,"localStorage",[m],{enumerable:!0,initializer:null}),o=g(i.prototype,"store",[s],{enumerable:!0,initializer:null}),i=i))||i);function j(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,E.call(this,e));return v(e,"common",n,e),v(e,"giftServices",r,e),v(e,"localStorage",a,e),v(e,"store",o,e),e.state={isSelectCur:!1,data:{},selectedData:{isAll:!1}},e.bjAudioDataServices=d.default,e.$ORI_ROOM={},e.$ROOM={},e}t.default=i},"2e83fd":function(e,t,i){e.exports=i("5f575e")("25c8b")},"2ee3ff":function(e,t,i){"use strict";i=i("1f141d");t.default=i.default},"2ef01e":function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),a=i("7ca7dc"),u=i("db47a7"),o=i("bc6a90"),l=(i("b1556e"),"/shark/live/src/pages/roomPage/toolbarModule/components/LolLottery/components/AnchorList.js");function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var p,m,d,b,h,v,n=(o=(0,a.default.Service)(o.default),c(_,v=n.Component),_.prototype.render=function(){var i=this,e=this.props,t=e.anchorList,t=void 0===t?[]:t,e=e.followStatus,n=void 0===e?{}:e;return r.a.createElement("div",{className:"AnchorList",__source:{fileName:l,lineNumber:48},__self:this},r.a.createElement("p",{className:"AnchorList-title",__source:{fileName:l,lineNumber:49},__self:this},"推荐关注"),r.a.createElement("div",{className:"AnchorList-recSub",__source:{fileName:l,lineNumber:50},__self:this},t.map(function(t){return r.a.createElement("div",{className:"AnchorList-recItem",key:t.room_id,__source:{fileName:l,lineNumber:53},__self:i},r.a.createElement("div",{className:"AnchorList-avatorCtn",__source:{fileName:l,lineNumber:54},__self:i},r.a.createElement("img",{className:"AnchorList-avator",src:t.avatar.small,__source:{fileName:l,lineNumber:55},__self:i})),r.a.createElement("p",{className:"AnchorList-anchorName",title:t.nickname,__source:{fileName:l,lineNumber:57},__self:i},t.nickname),r.a.createElement("a",{className:n[t.room_id]?"AnchorList-hasSubed":"AnchorList-subBtn","data-rid":t.room_id,onClick:function(e){return i.handleSubscribe(e,t.room_id,n[t.room_id])},__source:{fileName:l,lineNumber:58},__self:i},n[t.room_id]?"已关注":"关注主播"))})))},p=(n=_).prototype,m="lolLotteryService",o=[o],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=o.slice().reverse().reduce(function(e,t){return t(p,m,e)||e},h),b&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(p,m,h),h=null),s=h,n);function _(){var e,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var t,i,n,r,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=a=f(this,v.call.apply(v,[this].concat(l))),i="lolLotteryService",r=t=a,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),a.handleSubscribe=function(e,t,i){var n,r;e.stopPropagation(),i||(n=(r=a.props).followStatus,e=r.actId,i=(r=void 0===(i=r.roomData)?{}:i).tagId,r=r.roomId,a.lolLotteryService.anchorSubscribeEpics({followStatus:n,rid:t,actId:e}),Object(u.dysub)("click_recommend_follow",{tid:i,rid:r,active_id:e,follow_rid:t}))},f(a,e)}t.default=n},"2f135c":function(e,t,i){e.exports=i("d1db8c")("38686")},"2f1875":function(e,t,i){"use strict";var n=i("1a22b7"),o=i.n(n),n=i("3c9879"),a=i.n(n),l=i("4c2e76"),c=(i("dd4e65"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),s="/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/ToolsRebackBox/index.js";function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var u,i=(r(f,u=o.a.Component),f.prototype.componentWillUnmount=function(){this.clearTimeOut(),this.clearTimeInterval()},f.prototype.clearTimeOut=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},f.prototype.clearTimeInterval=function(){this.timerCountDown&&(clearInterval(this.timerCountDown),this.timerCountDown=null)},f.prototype.componentWillReceiveProps=function(e){var t=this,i=e.showSwitchModel,n=e.activityStatus,r=e.activityRemindTime,e=e.sendGiftType;this.clearTimeOut(),2==+n&&0<+r&&0==+this.remainSeconds&&(this.clearTimeInterval(),this.remainSeconds=+r,this.setState({timeInfo:this.renderInfo(this.remainSeconds)}),this.timerCounter()),i?this.timer=setTimeout(function(){t.setState({showPanel:!1})},300):this.setState({showPanel:!0}),e!==this.props.sendGiftType&&(this.setState({showBox:!1}),setTimeout(function(){t.setState({showBox:!0})},160))},f.prototype.render=function(){var e=this.props,t=e.showSwitchModel,i=e.activityStatus,n=this.state,r=n.showPanel,a=n.timeInfo,e=n.isTimeOut,n=n.showBox;return 2!=+i||e?null:o.a.createElement("div",{className:"ToolsRebackBox "+(t||!n?"ToolsRebackBox-fold":"ToolsRebackBox-unfold"),__source:{fileName:s,lineNumber:123},__self:this},r?o.a.createElement(l.default,c({},this.props,{timeInfo:a,__source:{fileName:s,lineNumber:124},__self:this})):null)},f);function f(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,u.call(this,e));return r.timer=null,r.timerCountDown=null,r.remainSeconds=0,r.numberDouble=function(e){return 9<+e?e:"0"+e},r.renderInfo=function(e){var t=a.a.duration(+e,"seconds"),i=t.days(),n=t.hours(),e=t.minutes(),t=t.seconds();return 0<i?"剩余"+i+"天"+r.numberDouble(n)+"小时"+r.numberDouble(e)+"分"+r.numberDouble(t)+"秒":0<n?"剩余"+r.numberDouble(n)+"小时"+r.numberDouble(e)+"分"+r.numberDouble(t)+"秒":0<e?"剩余"+r.numberDouble(e)+"分"+r.numberDouble(t)+"秒":"剩余"+r.numberDouble(t)+"秒"},r.timerCounter=function(){r.timerCountDown=setInterval(function(){--r.remainSeconds,+r.remainSeconds<=0&&(r.clearTimeInterval(),r.setState({isTimeOut:!0}));var e=r.renderInfo(r.remainSeconds);r.setState({timeInfo:e})},1e3)},r.state={timeInfo:"剩余--天--时--分",showPanel:!r.props.showSwitchModel,isTimeOut:!1,showBox:!0},r}t.default=i},"2f7690":function(e,t,i){},"31031f":function(e,t,i){e.exports=i("d1db8c")("cfb79")},"316b58":function(e,t,i){},"3216ff":function(e,t,i){"use strict";var a,o,l,n=i("1a22b7"),c=i.n(n),r=i("447d8e"),s=i("eb3e22"),u=i("7ca7dc"),f=i("8dd4e6"),p=i("c731d7"),m=i("e87314"),d=(i("43a9d0"),"/shark/live/src/pages/roomPage/toolbarModule/components/SendGift/SendGift.js");function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function g(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var y,N,n=u.default.Service,w=(i=n(m.default),_(S,N=c.a.Component),S.prototype.clearSendGiftData=function(e){var t=this,i=Object(f.timer)(1e3).subscribe(function(){t.sendGiftEffectServices.clearSendData(e),i.unsubscribe()})},S.prototype.componentDidMount=function(){var e=this.props.sendData;this.clearSendGiftData(e.componentKey)},S.prototype.render=function(){var i=this,e=this.props,t=e.sendData,n=e.PlayerToolbarPos,r=t.giftPic,a=t.giftOffset,e=void 0===a?{}:a,a=(t.giftCnt||1).toString().split("");return c.a.createElement("div",{className:"SendGiftEffect-item",style:{top:e.top-n.top-40,left:e.left-n.left},__source:{fileName:d,lineNumber:36},__self:this},c.a.createElement("div",{className:"SendGiftEffect-icon",__source:{fileName:d,lineNumber:42},__self:this},c.a.createElement("img",{width:45,src:r,__source:{fileName:d,lineNumber:43},__self:this})),1<t.giftCnt?c.a.createElement("p",{className:"SendGiftEffect-sendNum",__source:{fileName:d,lineNumber:47},__self:this},c.a.createElement("span",{className:"SendGiftEffect-X",__source:{fileName:d,lineNumber:48},__self:this}),a.map(function(e,t){return c.a.createElement("span",{key:t,className:"SendGiftEffect-num is-num"+e,__source:{fileName:d,lineNumber:50},__self:i},"$",e)})):"")},a=g((u=S).prototype,"sendGiftEffectServices",[i],{enumerable:!0,initializer:null}),u),s=(m=n(m.default),n=n(s.DataCenter.global),_(O,y=c.a.Component),O.prototype.componentDidMount=function(){this.sendGiftEffectServices.init(),this.PlayerToolbarPos=this.getPlayerToolbarPos()},O.prototype.getPlayerToolbarPos=function(){return p.default.find(".PlayerToolbar")?p.default.getElementOffset(".PlayerToolbar"):{top:0,right:0,bottom:0,left:0}},O.prototype.returnSendEffectList=function(e){var t=this;return this.PlayerToolbarPos=this.getPlayerToolbarPos(),e.map(function(e){return c.a.createElement(w,{key:e.componentKey,sendData:e,PlayerToolbarPos:t.PlayerToolbarPos,__source:{fileName:d,lineNumber:87},__self:t})})},O.prototype.render=function(){var e=this.props.SendGiftListData.list;return e&&e.length?c.a.createElement("div",{className:"SendGiftEffect",__source:{fileName:d,lineNumber:98},__self:this},this.returnSendEffectList(e)):null},o=g((s=O).prototype,"sendGiftEffectServices",[m],{enumerable:!0,initializer:null}),l=g(s.prototype,"global",[n],{enumerable:!0,initializer:null}),s);function O(){var e,t;h(this,O);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=v(this,y.call.apply(y,[this].concat(n))),b(t,"sendGiftEffectServices",o,t),b(t,"global",l,t),v(t,e)}function S(){var e,t;h(this,S);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=v(this,N.call.apply(N,[this].concat(n))),b(t,"sendGiftEffectServices",a,t),v(t,e)}t.default=Object(r.connect)(function(e){return{SendGiftListData:e.SendGiftListData}})(s)},"3254fc":function(e,t,i){"use strict";i=i("c48e82");t.default=i.default},"331db0":function(e,t,i){"use strict";var n=i("7fb220"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={dialogShow:!1,roomUrlMap:{iframeUrl:"https://league-live.vpgame.com/vp-live/K003/pc/dist/koglive.html?id=3&source=douyu"}};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a;switch(arguments[1].type){case n.KPLDialog_CHANGE_DIALOG_SHOW:return r({},e,{dialogShow:!e.dialogShow});case n.KPLDialog_CLOSE_DIALOG_SHOW:return r({},e,{dialogShow:!1});default:return e}}},339147:function(e,t,i){e.exports=i("5f575e")("2a8b7")},348399:function(e,t,i){},"35298f":function(e,t,i){e.exports=i("5f575e")("34108")},"358df2":function(e,t,i){},"35d4ec":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a="/shark/live/src/pages/roomPage/toolbarModule/components/JifenComponent/UserJifen/paging.js";function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,n=(o(c,l=r.a.Component),c.prototype.clickPreBtn=function(){var e=this,t=this.props,i=t.callback,n=t.data,t=this.state.page-1;t<1||this.setState({page:t},function(){i&&"function"==typeof i&&i(e.state.page,n)})},c.prototype.clickNextBtn=function(){var e=this,t=this.props,i=t.callback,n=t.totalPage,r=t.data,t=this.state.page+1;n<t||this.setState({page:t},function(){i&&"function"==typeof i&&i(e.state.page,r)})},c.prototype.render=function(){var e=this.props.totalPage,t=this.state.page;return r.a.createElement("div",{className:"PagingComponent",__source:{fileName:a,lineNumber:56},__self:this},r.a.createElement("span",{className:"PagingComponent-prevBtn "+(t<=1?"is-disabled":""),onClick:this.clickPreBtn,__source:{fileName:a,lineNumber:57},__self:this},"上一页"),r.a.createElement("span",{className:"PagingComponent-pageNum",__source:{fileName:a,lineNumber:59},__self:this},r.a.createElement("span",{className:"PagingComponent-pageNumCurrent",__source:{fileName:a,lineNumber:60},__self:this},t),"/",r.a.createElement("span",{className:"PagingComponent-pageNumTotal",__source:{fileName:a,lineNumber:61},__self:this},e||1)),r.a.createElement("span",{className:"PagingComponent-nextBtn "+(e<=t?"is-disabled":""),onClick:this.clickNextBtn,__source:{fileName:a,lineNumber:63},__self:this},"下一页"))},c);function c(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,l.call(this));return e.state={page:1},e.clickPreBtn=e.clickPreBtn.bind(e),e.clickNextBtn=e.clickNextBtn.bind(e),e}n.defaultProps={totalPage:1,data:null,callback:null},t.default=n},"36525a":function(e,t,i){"use strict";var o,l,n=i("1a22b7"),c=i.n(n),r=i("447d8e"),a=i("7ca7dc"),s=i("eb3e22"),u=i("54992a"),n=i("5e7e43"),f=i("ef6cd7"),p=(i("e3be75"),"/shark/live/src/pages/roomPage/toolbarModule/components/SuperWarShipIcon/SuperWarShip.js");function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var v,a=a.default.Service,u=(n=a(n.default),s=a(s.DataCenter.global),Object(u.log)((b(_,v=c.a.Component),_.prototype.componentDidMount=function(){this.mainServices.init()},_.prototype.render=function(){var e=this.props.SuperWarShipIconData,t=void 0===e?{}:e,i=t.isOpen,e=t.startTips,t=t.fuelData,t=void 0===t?{}:t;return i?c.a.createElement("div",{__source:{fileName:p,lineNumber:62},__self:this},c.a.createElement("div",{className:"SuperWarShipIcon",onClick:this.togglePanel,__source:{fileName:p,lineNumber:63},__self:this}),e?this.renderTip(t):null):null},o=h((u=_).prototype,"mainServices",[n],{enumerable:!0,initializer:null}),l=h(u.prototype,"global",[s],{enumerable:!0,initializer:null}),u=u))||u);function _(){var e,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n=d(this,v.call.apply(v,[this].concat(i))),m(n,"mainServices",o,n),m(n,"global",l,n),n.closeTips=function(e){e.stopPropagation(),n.mainServices.updateReducer({startTips:!1})},n.togglePanel=function(){n.mainServices.togglePanel()},n.renderTip=function(e){var t=e.value,i=void 0===t?0:t,t=e.p_rate,t=void 0===t?0:t,e=e.target_value;return c.a.createElement("div",{className:"SuperWarShipTip",onClick:n.showMainPanel,__source:{fileName:p,lineNumber:45},__self:r},c.a.createElement("div",{className:"SuperWarShipTip-close",onClick:n.closeTips,__source:{fileName:p,lineNumber:46},__self:r}),c.a.createElement(f.default,{data:{finishNum:i,targetNum:e,rate:t,preTitle:"当前燃料："},extClass:"is-big SuperWarShipProcessBar",__source:{fileName:p,lineNumber:47},__self:r}),c.a.createElement("div",{className:"SuperWarShipTip-content",__source:{fileName:p,lineNumber:49},__self:r},c.a.createElement("span",{__source:{fileName:p,lineNumber:50},__self:r},"送鱼丸、玩预言"),"贡献燃料，激活超丸星际舰！"),c.a.createElement("div",{__source:{fileName:p,lineNumber:52},__self:r},"享超酷炫特效和专属福利"))},d(n,e)}t.default=Object(r.connect)(function(e){return{SuperWarShipIconData:e.SuperWarShipIconData}})(u)},"3676d4":function(e,t,i){},379937:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"PROPREDENVELOPEICON_UPDATE_DATA",function(){return a}),i.d(t,"default",function(){return o});var r,a="PROPREDENVELOPEICON_UPDATE_DATA",o=(n(l,r=i("97a1f0").Action),l.updateData=function(e){return{type:a,payload:e}},l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}},"384d3d":function(e,t,i){"use strict";var c=i("8126b5"),s=i("1a22b7"),u=i.n(s),f=i("c6a807"),p=i("97a1f0"),n=i("91ffe9"),m=i.n(n),d=i("9d5279"),b="/shark/live/src/common/components/CertifyComponent/components/Step2.js",h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},v=Object(p.importObject)("live.common.dyComponents.Message");t.default=function(e){var n=e.next,t=Object(f.useService)(d.default),i=Object(s.useState)({}),r=i[0],a=i[1],e=Object(s.useState)(!1),i=e[0],o=e[1],l=Object(s.useCallback)(function(){t.getQrCode().then(function(e){var t=e.url,i=e.expire,i=void 0===i?0:i,e=e.code;a({url:void 0===t?"":t,expire:i,code:void 0===e?"":e}),i<=0?o(!0):(o(!1),setTimeout(function(){o(!0)},1e3*i))},function(e){v.info(e.msg),a(h({},r,{url:e.url})),o(!0)})},[r,t]);Object(s.useEffect)(function(){l()},[]);e=Object(s.useCallback)(function(){t.getUserInfo().subscribe(function(e){var t=e.error,i=e.msg,i=void 0===i?"获取认证信息失败":i,e=e.data;0==+t?2==+(void 0===(e=p.GSON.parse(e).identStatus)?-1:e)?n(3):v.error("认证未完成，请先完成认证"):v.error(i)})},[t,n]);return u.a.createElement("div",{__source:{fileName:b,lineNumber:76},__self:void 0},u.a.createElement("div",{className:"CertifyComp-step2-qrcode",__source:{fileName:b,lineNumber:77},__self:void 0},u.a.createElement(c.default,{className:"CertifyComp-step2-qrcode",value:r.url,size:119,logo:m.a,__source:{fileName:b,lineNumber:78},__self:void 0}),i?u.a.createElement("div",{className:"CertifyComp-step2-qrcodeMask",onClick:l,__source:{fileName:b,lineNumber:81},__self:void 0},u.a.createElement("div",{className:"CertifyComp-step2-maskTip",__source:{fileName:b,lineNumber:82},__self:void 0},"二维码已过期"),u.a.createElement("div",{className:"CertifyComp-step2-maskTip",__source:{fileName:b,lineNumber:83},__self:void 0},"点击刷新")):null),u.a.createElement("div",{className:"CertifyComp-step2-tipPic",__source:{fileName:b,lineNumber:88},__self:void 0}),u.a.createElement("div",{className:"CertifyComp-step2-scanLine",__source:{fileName:b,lineNumber:89},__self:void 0},u.a.createElement("i",{className:"CertifyComp-step2-scanPic",__source:{fileName:b,lineNumber:90},__self:void 0}),u.a.createElement("span",{className:"CertifyComp-step2-scanText",__source:{fileName:b,lineNumber:91},__self:void 0},"打开手机斗鱼7.0.3及以上版本扫一扫完成认证")),u.a.createElement("div",{className:"CertifyComp-step2-confirm",onClick:e,__source:{fileName:b,lineNumber:93},__self:void 0},"完成认证"))}},"384e44":function(e,t,i){"use strict";i=i("ffed78");t.default=i.default},"38f35f":function(e,t,i){},"39c980":function(e,t,i){"use strict";var n,r,a=i("1a22b7"),o=i.n(a),l=i("292183"),c=i.n(l),s=i("447d8e"),u=i("3b6ec9"),f=i("f2b8b7"),p=i("eb3e22"),m=i("c26963"),d=i("7ca7dc"),l=i("0963d0"),b=i("cc2d7e"),h=(i("f158c8"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),v="/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/SpeedRankListDialog/SpeedRankListDialog.js";function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function y(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var N,d=d.default.Service,a=(p=d(p.DataCenter.global),l=d(l.default),g(w,N=a.Component),w.prototype.componentDidMount=function(){var e=this.props,t=e.userCache,e=e.isSigned;this.speedRankServices.getListData({isSigned:e,cache:t?"cache":"noCache"})},w.prototype.render=function(){var t=this,e=this.props,i=e.top10Data,n=e.luckListData,e=e.selfData;return Object(u.createPortal)(o.a.createElement("div",{className:"SSR",__source:{fileName:v,lineNumber:53},__self:this},o.a.createElement(b.Header,{close:this.closeDialog,__source:{fileName:v,lineNumber:54},__self:this}),o.a.createElement("div",{className:"SSR-listWrap",__source:{fileName:v,lineNumber:55},__self:this},o.a.createElement("div",{className:"SSR-listWrapTop",__source:{fileName:v,lineNumber:56},__self:this},o.a.createElement("div",{className:"SSR-listTip",__source:{fileName:v,lineNumber:57},__self:this},"主播开播后签到才会被统计"),0===i.length?o.a.createElement(b.Empty,{__source:{fileName:v,lineNumber:60},__self:this}):o.a.createElement(b.Top3,{data:i.slice(0,3),__source:{fileName:v,lineNumber:61},__self:this})),o.a.createElement("div",{className:"SSR-scrollWrap",__source:{fileName:v,lineNumber:64},__self:this},o.a.createElement(f.Scrollbars,{renderThumbVertical:this.renderThumbVertical,__source:{fileName:v,lineNumber:65},__self:this},o.a.createElement("div",{className:"SSR-scrollBox",__source:{fileName:v,lineNumber:66},__self:this},0===i.length?null:o.a.createElement("div",{className:"SSR-listBox",__source:{fileName:v,lineNumber:71},__self:this},i.slice(3,10).map(function(e){return o.a.createElement(b.ListItem,{key:"item"+e.rank,data:e,__source:{fileName:v,lineNumber:75},__self:t})})),n.length?o.a.createElement(o.a.Fragment,{__source:{fileName:v,lineNumber:83},__self:this},o.a.createElement(b.Title,{className:"is-luckList",title:"签到手气榜",__source:{fileName:v,lineNumber:84},__self:this}),o.a.createElement("div",{className:"SSR-listBox is-luckList",__source:{fileName:v,lineNumber:85},__self:this},n.map(function(e){return o.a.createElement(b.ListItem,{key:"item"+e.rank,data:e,__source:{fileName:v,lineNumber:89},__self:t})}))):null)))),o.a.createElement(b.ListItem,{isSelf:!0,uid:this.uid,data:e,disable:0===i.length,__source:{fileName:v,lineNumber:100},__self:this})),document.body)},n=y((a=w).prototype,"global",[p],{enumerable:!0,initializer:null}),r=y(a.prototype,"speedRankServices",[l],{enumerable:!0,initializer:null}),a);function w(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,N.call(this));return _(e,"global",n,e),_(e,"speedRankServices",r,e),e.closeDialog=function(){e.speedRankServices.setData({rankListDialogVisible:!1})},e.renderThumbVertical=function(e){e.style;e=function(e,t){var i,n={};for(i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["style"]);return o.a.createElement("div",h({className:"SSR-scrollBar"},e,{__source:{fileName:v,lineNumber:42},__self:t}))},e.uid=e.global.get("USER_INFO.uid"),e}a.propTypes={isSigned:c.a.bool.isRequired,userCache:c.a.bool.isRequired,top10Data:c.a.array.isRequired,luckListData:c.a.array.isRequired,selfData:c.a.object.isRequired},t.default=Object(s.connect)(function(e){e=e.SpeedRankData;return{isSigned:e.isSigned,userCache:e.userCache,top10Data:e.top10Data,luckListData:e.luckListData,selfData:e.selfData}})(Object(m.default)(a))},"3a9fb0":function(e,t,i){e.exports=i("5f575e")("960d3")},"3b0c9d":function(e,t,i){},"3b65fe":function(e,t,i){e.exports=i("5f575e")("dfc5d")},"3b6ec9":function(e,t,i){e.exports=i("999443")("63f14")},"3be5fe":function(e,t,i){e.exports=i("5f575e")("363b5")},"3c4b90":function(e,t,i){e.exports=i("5f575e")("e33a8")},"3c9879":function(e,t,i){e.exports=i("5f575e")("da010")},"3c9dac":function(e,t,i){e.exports=i("5f575e")("adbce")},"3cbf2b":function(e,t,i){e.exports=i("5f575e")("ca7ca")},"3cef18":function(e,t,i){"use strict";var a,o,l,c,n=i("1a22b7"),r=i.n(n),s=i("7ca7dc"),u=i("54992a"),f=i("eb3e22"),p=i("db47a7"),m=i("d5a5c9"),n=i("bddd98");function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}i("fe942b");var _,i=s.default.Service,u=(s=i(f.DataCenter.common),n=i(n.default),m=i(m.default),f=i(f.DataCenter.global),Object(u.log)((h(g,_=r.a.Component),g.prototype.isAnchor=function(){var e=this.global.get("USER_INFO.uid"),t=this.global.get("$ROOM.owner_uid");return 0<e&&parseInt(e,10)===parseInt(t,10)},g.prototype.componentDidMount=function(){this.isAnchor()||(this.douyuFishShopServices.init(),this.douyuFishShopServices.showFishIcon())},g.prototype.render=function(){var e=this.douyuFishShopServices.goodsTemplate;return r.a.createElement("div",{className:"DouyuFishShopIcon "+(e?"":"noTpl"),onClick:this.toogle,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/DouyuFishShopIcon/FishShopIcon.js",lineNumber:64},__self:this},e?"斗鱼购物":"主播小店")},a=v((u=g).prototype,"common",[s],{enumerable:!0,initializer:null}),o=v(u.prototype,"fishShopIconService",[n],{enumerable:!0,initializer:null}),l=v(u.prototype,"douyuFishShopServices",[m],{enumerable:!0,initializer:null}),c=v(u.prototype,"global",[f],{enumerable:!0,initializer:null}),u=u))||u);function g(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=b(this,_.call.apply(_,[this].concat(n))),d(t,"common",a,t),d(t,"fishShopIconService",o,t),d(t,"douyuFishShopServices",l,t),d(t,"global",c,t),t.toogle=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.fishShopIconService.toogleStatus(),Object(p.dysub2)({action_code:"13010020700B",event_id:1,type:1})},b(t,e)}t.default=u},"3dd399":function(e,t,i){"use strict";var s,n=i("1a22b7"),o=i.n(n),r=i("7ca7dc"),a=i("722b8a"),l=i("bc6a90"),c=(i("76b8f4"),"/shark/live/src/pages/roomPage/toolbarModule/components/LolLottery/components/PrizeDialog.js");function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var p,m,d,b,h,v,n=(l=(0,r.default.Service)(l.default),f(_,v=n.Component),_.prototype.closeDialog=function(){this.lolLotteryService.closePrizeDialog({showPrizeDialog:!1,gameRes:{}})},_.prototype.confirmAddress=function(e){var t=window.open("about:blank");t?t.location.href="https://www.douyu.com/t/address?add_code="+e:a.default.error("新窗口被浏览器拦截，请点击右上角运行弹出窗口和重定向")},_.prototype.bindArea=function(){var e=this.props,t=e.actId,i=e.gameRes,e=e.roomData,i=(void 0===i?{}:i).receive_id;this.lolLotteryService.checkAccountStatusEpics({rowId:i,roomData:void 0===e?{}:e,actId:t})},_.prototype.render=function(){var t,e=this,i=this.props,n=i.gameRes,r=void 0===n?{}:n,a=i.visible,n=i.prize,i="";return 4==+r.type&&a&&(t=r.gift_level,i=n.filter(function(e){return+e.lev==+t})[0].img),r.add_code?o.a.createElement("div",{className:a?"GoodsPrize":"GoodsPrize GoodsPrize-hide",__source:{fileName:c,lineNumber:60},__self:this},o.a.createElement("span",{className:"GoodsPrize-close",onClick:function(){return e.closeDialog()},__source:{fileName:c,lineNumber:61},__self:this}),o.a.createElement("p",{className:"GoodsPrize-title",__source:{fileName:c,lineNumber:62},__self:this},"恭喜您！"),o.a.createElement("p",{className:"GoodsPrize-content",__source:{fileName:c,lineNumber:63},__self:this},"获得",o.a.createElement("span",{className:"GoodsPrize-prizeInfo",__source:{fileName:c,lineNumber:63},__self:this},r.gift_name," x",r.gift_count)),o.a.createElement("p",{className:"GoodsPrize-tips",__source:{fileName:c,lineNumber:64},__self:this},"请完善您的收货信息，我们会尽快给你安排发货"),o.a.createElement("a",{className:"GoodsPrize-btn",onClick:function(){return e.confirmAddress(r.add_code)},__source:{fileName:c,lineNumber:65},__self:this},"填写地址")):4===parseInt(r.type,10)?o.a.createElement("div",{className:a?"LOLPrize":"LOLPrize LOLPrize-hide",__source:{fileName:c,lineNumber:71},__self:this},o.a.createElement("span",{className:"LOLPrize-close",onClick:function(){return e.closeDialog()},__source:{fileName:c,lineNumber:72},__self:this}),o.a.createElement("div",{className:"LOLPrize-title",__source:{fileName:c,lineNumber:73},__self:this},o.a.createElement("span",{className:"LOLPrize-leftArrow",__source:{fileName:c,lineNumber:74},__self:this}),o.a.createElement("span",{className:"LOLPrize-centerTitle",__source:{fileName:c,lineNumber:75},__self:this},"恭喜您获得"),o.a.createElement("span",{className:"LOLPrize-rightArrow",__source:{fileName:c,lineNumber:76},__self:this})),o.a.createElement("div",{className:"LOLPrize-awardItem",__source:{fileName:c,lineNumber:78},__self:this},o.a.createElement("div",{className:"LOLPrize-awardCtn",__source:{fileName:c,lineNumber:79},__self:this},o.a.createElement("img",{className:"LOLPrize-awardImg",src:i,__source:{fileName:c,lineNumber:80},__self:this})),o.a.createElement("p",{className:"LOLPrize-awardName",__source:{fileName:c,lineNumber:82},__self:this},r.gift_name)),o.a.createElement("p",{className:"LOLPrize-awardDetail",__source:{fileName:c,lineNumber:84},__self:this},"礼包明细：",r.gift_name," x",r.gift_count),o.a.createElement("p",{className:"LOLPrize-tips",__source:{fileName:c,lineNumber:85},__self:this},"奖品在您绑定区服后将发送您选择的区服务角色中"),o.a.createElement("a",{className:"LOLPrize-btn",onClick:function(){return e.bindArea()},__source:{fileName:c,lineNumber:86},__self:this},"绑定区服")):o.a.createElement("div",{className:a?"CommonPrize":"CommonPrize CommonPrize-hide",__source:{fileName:c,lineNumber:92},__self:this},o.a.createElement("span",{className:"CommonPrize-close",onClick:function(){return e.closeDialog()},__source:{fileName:c,lineNumber:93},__self:this}),o.a.createElement("p",{className:"CommonPrize-title",__source:{fileName:c,lineNumber:94},__self:this},"恭喜您！"),o.a.createElement("p",{className:"CommonPrize-content",__source:{fileName:c,lineNumber:95},__self:this},"获得",o.a.createElement("span",{className:"CommonPrize-prizeInfo",__source:{fileName:c,lineNumber:95},__self:this},r.gift_name," x",r.gift_count)),o.a.createElement("a",{className:"CommonPrize-btn",onClick:function(){return e.closeDialog()},__source:{fileName:c,lineNumber:96},__self:this},"确定"))},p=(n=_).prototype,m="lolLotteryService",l=[l],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=l.slice().reverse().reduce(function(e,t){return t(p,m,e)||e},h),b&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(p,m,h),h=null),s=h,n);function _(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,v.call.apply(v,[this].concat(l))),n="lolLotteryService",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),u(t,e)}t.default=n},"3e4b76":function(e,t,i){},"3f637f":function(e,t,i){"use strict";var n,r,a=i("1a22b7"),o=i.n(a),l=i("54992a"),c=i("7ca7dc"),s=i("f2b8b7"),u=i("eb3e22"),a=i("dee2e9"),f=(i("8c4488"),"/shark/live/src/pages/roomPage/toolbarModule/components/JifenComponent/ZhuboJifen/ExchangeCenter/ExchangeCenter.js");function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function d(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var b,c=c.default.Service,l=(a=c(a.default),u=c(u.DataCenter.common),Object(l.log)((m(h,b=o.a.Component),h.prototype.componentDidMount=function(){var t=this;this.common.get("$DATA").subscribe(function(e){t.setState({roomData:e.room})})},h.prototype.handleClickAddGift=function(){window.open("/room/point/my")},h.prototype.handleClickNextPage=function(e){var t=this.props,i=t.currentPage,t=t.total;e.preventDefault();i=+i+1;i<=Math.ceil(+t/10)&&this.jifenServices.anchorJifenExchangeData({page:i})},h.prototype.handleClickPrePage=function(e){var t=this.props,i=t.currentPage,t=t.total;e.preventDefault();i=+i-1,t=Math.ceil(+t/10);0<i&&1<t&&this.jifenServices.anchorJifenExchangeData({page:i})},h.prototype.getPager=function(){var e=this.props,t=e.data,i=e.currentPage,n=e.total;return!t.length||n<=10?"":(e=!1,n=i===(t=Math.ceil(+n/10)),o.a.createElement("div",{className:"ExchangeCenter-pagination",__source:{fileName:f,lineNumber:86},__self:this},o.a.createElement("a",{href:"#",onClick:this.handleClickPrePage,className:"ExchangeCenter-jifen-btn ExchangeCenter-turn-btn "+((e=1===i?!0:e)?"ExchangeCenter-is-disable":""),__source:{fileName:f,lineNumber:87},__self:this},"上一页"),o.a.createElement("span",{className:"ExchangeCenter-current",__source:{fileName:f,lineNumber:89},__self:this},i),"/",o.a.createElement("span",{className:"ExchangeCenter-all",__source:{fileName:f,lineNumber:89},__self:this},t),o.a.createElement("a",{href:"#",onClick:this.handleClickNextPage,className:"ExchangeCenter-jifen-btn ExchangeCenter-turn-btn "+(n?"ExchangeCenter-is-disable":""),__source:{fileName:f,lineNumber:91},__self:this},"下一页")))},h.prototype.getExchangeContent=function(){var t,i=this,e=this.props.data;return e.length?(t=[],e.forEach(function(e){return t.push(o.a.createElement("div",{className:"ZhuboJifenExchange-item",key:e.gid,"data-mid":""+e.md5_id,"data-point":""+e.point,"data-otype":""+e.type_is_official,"data-num":""+e.remain_number,"data-gid":""+e.gid,__source:{fileName:f,lineNumber:116},__self:i},o.a.createElement("img",{className:"ZhuboJifenExchange-itemImg",src:""+e.pic,__source:{fileName:f,lineNumber:124},__self:i}),2==+e.user_type?o.a.createElement("div",{className:"ZhuboJifenExchange-itemFans",__source:{fileName:f,lineNumber:125},__self:i},"粉丝专属"):"",o.a.createElement("div",{className:"ZhuboJifenExchange-itemName",title:""+e.name,__source:{fileName:f,lineNumber:126},__self:i},1==+e.type_is_official?o.a.createElement("span",{className:"ZhuboJifenExchange-itemNameOfficial",__source:{fileName:f,lineNumber:129},__self:i},"官方"):o.a.createElement("span",{className:"ZhuboJifenExchange-itemNameAnchor",__source:{fileName:f,lineNumber:130},__self:i},"主播提供"),e.name),o.a.createElement("div",{className:"ZhuboJifenExchange-itemCost",__source:{fileName:f,lineNumber:134},__self:i},"积分",o.a.createElement("span",{className:"ZhuboJifenExchange-itemCostNum",__source:{fileName:f,lineNumber:136},__self:i},e.point)),1==+e.status?o.a.createElement("div",{className:"ZhuboJifenExchange-itemStock",__source:{fileName:f,lineNumber:141},__self:i},"库存",o.a.createElement("span",{className:"ZhuboJifenExchange-itemStockNum",__source:{fileName:f,lineNumber:143},__self:i},e.remain_number),o.a.createElement("span",{__source:{fileName:f,lineNumber:144},__self:i},"已兑换",o.a.createElement("em",{__source:{fileName:f,lineNumber:144},__self:i},e.sold_number))):"",3==+e.status?o.a.createElement("div",{className:"ZhuboJifenExchange-itemStop",__source:{fileName:f,lineNumber:151},__self:i},"已停售"):""))}),o.a.createElement(s.Scrollbars,{style:{width:"100%",height:"370px"},__source:{fileName:f,lineNumber:158},__self:this},t)):o.a.createElement("div",{className:"ExchangeCenter-empty",__source:{fileName:f,lineNumber:106},__self:this},o.a.createElement("div",{className:"ExchangeCenter-empty-bg",__source:{fileName:f,lineNumber:107},__self:this}),o.a.createElement("a",{href:"/room/point/official",target:"_blank",className:"ExchangeCenter-official-btn",__source:{fileName:f,lineNumber:108},__self:this},"去官方礼品池"))},h.prototype.render=function(){var e=this.state.roomData;return o.a.createElement("div",{className:"ExchangeCenter",__source:{fileName:f,lineNumber:171},__self:this},o.a.createElement("div",{className:"ExchangeCenter-title",__source:{fileName:f,lineNumber:172},__self:this},o.a.createElement("a",{className:"ExchangeCenter-titleHelp",href:"/member/point/point_instruction",target:"_blank",__source:{fileName:f,lineNumber:173},__self:this},o.a.createElement("span",{className:"ExchangeCenter-titleHelpIcon",__source:{fileName:f,lineNumber:174},__self:this}),"兑换中心说明"),o.a.createElement("span",{className:"ExchangeCenter-titleName",__source:{fileName:f,lineNumber:176},__self:this},"我的",o.a.createElement("span",{className:"ExchangeCenter-titleNameImpt",__source:{fileName:f,lineNumber:176},__self:this},"兑换中心"))),o.a.createElement("div",{className:"ExchangeCenter-content",__source:{fileName:f,lineNumber:179},__self:this},o.a.createElement("div",{className:"ExchangeCenter-contentAnchorInfo",__source:{fileName:f,lineNumber:180},__self:this},o.a.createElement("img",{className:"ExchangeCenter-contentAnchorInfoHead",src:e.avatar&&e.avatar.middle,__source:{fileName:f,lineNumber:181},__self:this}),o.a.createElement("div",{className:"ExchangeCenter-contentAnchorInfoName",__source:{fileName:f,lineNumber:183},__self:this},e.nickname||"",o.a.createElement("span",{className:"anchor-level-icon","data-anchor-levelimg":e.levelInfo?e.levelInfo.level:"1",__source:{fileName:f,lineNumber:183},__self:this})),o.a.createElement("div",{className:"ExchangeCenter-contentAnchorInfoDesc",__source:{fileName:f,lineNumber:186},__self:this},"“感谢你们每天都来看我直播，大家可以用积分免费兑换各大礼品~”"),o.a.createElement("div",{onClick:this.handleClickAddGift,className:"ExchangeCenter-contentAnchorInfoBtn",__source:{fileName:f,lineNumber:187},__self:this},"去个人中心添加礼品")),o.a.createElement("div",{className:"ExchangeCenter-contentTab",__source:{fileName:f,lineNumber:191},__self:this},this.getExchangeContent(),this.getPager())))},n=d((l=h).prototype,"jifenServices",[a],{enumerable:!0,initializer:null}),r=d(l.prototype,"common",[u],{enumerable:!0,initializer:null}),l=l))||l);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,b.call(this,e));return p(e,"jifenServices",n,e),p(e,"common",r,e),e.state={isShowJFExchange:!0,roomData:{}},e.handleClickAddGift=e.handleClickAddGift.bind(e),e.handleClickNextPage=e.handleClickNextPage.bind(e),e.handleClickPrePage=e.handleClickPrePage.bind(e),e}t.default=l},"3f66ef":function(e,t,i){"use strict";var a,n=i("1a22b7"),s=i.n(n),r=i("447d8e"),u=i("f2b8b7"),o=i("7ca7dc"),f=i("ed7240"),n=i("dee2e9"),p=i("35d4ec"),m="/shark/live/src/pages/roomPage/toolbarModule/components/JifenComponent/UserJifen/ExchangeCenter/jifenExchange.js";function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,d,b,h,v,_,n=(o=(0,o.default.Service)(n.default),l(g,_=s.a.Component),g.prototype.componentDidMount=function(){this.getExchangeGiftData(1)},g.prototype.componentWillReceiveProps=function(e){var t=e.exchangeData,e=e.exchangeResult;this.setState({giftDataList:t.list||[]}),e.point&&this.isClickExchangeBtn&&(--(e=this.state.giftDataList)[this.curGiftIndex].remain_number,this.setState({isShowTipDialog:!0,giftDataList:e}))},g.prototype.getExchangeGiftData=function(e){this.jifenServices.userJifenExchangeData(e)},g.prototype.clickExchangeBtn=function(e){var t=e.integral,i=e.md5id,n=e.isOfficial,r=e.index,a=e.remainNumber,o=e.status,e=e.type;0!==a&&3!==o&&(this.setState({isShowDialog:!0,exchangeIntegral:t,md5Id:i,isOfficial:n,giftType:e}),this.isClickExchangeBtn=!0,this.curGiftIndex=r)},g.prototype.closeDialog=function(){this.setState({isShowDialog:!1}),this.isClickExchangeBtn=!1},g.prototype.dialogOnOk=function(){var e=this.state.md5Id;this.jifenServices.clickExchangeGiftBtn(e),this.setState({isShowDialog:!1})},g.prototype.closeTipDialog=function(){this.setState({isShowTipDialog:!1})},g.prototype.render=function(){var i=this,e=this.props.exchangeData,t=this.state,n=t.isShowDialog,r=t.exchangeIntegral,a=t.isShowTipDialog,o=t.isOfficial,l=t.giftDataList,c=t.giftType,t=e&&e.total||0,e=e&&e.limit||1,e=Math.ceil(t/e);return s.a.createElement("div",{className:"JifenExchange",__source:{fileName:m,lineNumber:119},__self:this},s.a.createElement(u.Scrollbars,{style:{width:"100%",height:"100%"},__source:{fileName:m,lineNumber:120},__self:this},l.length?l.map(function(e,t){return s.a.createElement("div",{className:"JifenExchange-item",key:e.gid,__source:{fileName:m,lineNumber:123},__self:i},s.a.createElement("img",{className:"JifenExchange-itemImg",src:""+e.pic,__source:{fileName:m,lineNumber:127},__self:i}),2==+e.user_type?s.a.createElement("div",{className:"JifenExchange-itemFans",__source:{fileName:m,lineNumber:132},__self:i},"粉丝专属"):"",s.a.createElement("div",{className:"JifenExchange-itemName",title:""+e.name,__source:{fileName:m,lineNumber:134},__self:i},1==+e.type_is_official?s.a.createElement("span",{className:"JifenExchange-itemNameOfficial",__source:{fileName:m,lineNumber:137},__self:i},"官方"):s.a.createElement("span",{className:"JifenExchange-itemNameAnchor",__source:{fileName:m,lineNumber:138},__self:i},"主播提供"),e.name),s.a.createElement("div",{className:"JifenExchange-itemCost",__source:{fileName:m,lineNumber:142},__self:i},"积分",s.a.createElement("span",{className:"JifenExchange-itemCostNum",__source:{fileName:m,lineNumber:144},__self:i},e.point)),1==+e.status?s.a.createElement("div",{className:"JifenExchange-itemStock",__source:{fileName:m,lineNumber:149},__self:i},"库存",s.a.createElement("span",{className:"JifenExchange-itemStockNum",__source:{fileName:m,lineNumber:151},__self:i},e.remain_number)):"",3==+e.status?s.a.createElement("div",{className:"JifenExchange-itemStop",__source:{fileName:m,lineNumber:158},__self:i},"已停售"):"",s.a.createElement("div",{className:"JifenExchange-itemBtn "+(0==+e.remain_number||3==+e.status?"is-disabled":""),onClick:function(){i.clickExchangeBtn({integral:e.point,md5id:e.md5_id,isOfficial:+e.type_is_official,index:t,remainNumber:+e.remain_number,status:+e.status,type:+e.type})},__source:{fileName:m,lineNumber:161},__self:i},"兑换"))}):s.a.createElement("div",{className:"JifenExchange-noGoods",__source:{fileName:m,lineNumber:180},__self:this})),1<e?s.a.createElement(p.default,{totalPage:e,callback:this.getExchangeGiftData,__source:{fileName:m,lineNumber:186},__self:this}):"",s.a.createElement(f.default,{className:"jifenExchangeTip",title:"兑换信息提示",width:420,height:254,center:!0,visible:n,onCancel:this.closeDialog,onOk:this.dialogOnOk,__source:{fileName:m,lineNumber:193},__self:this},"确定要使用",s.a.createElement("span",{className:"jifennum",__source:{fileName:m,lineNumber:203},__self:this},r),"积分兑换",4===c?s.a.createElement("div",{className:"jifen-medal-tip",__source:{fileName:m,lineNumber:207},__self:this},s.a.createElement("p",{__source:{fileName:m,lineNumber:208},__self:this},"积分勋章仅在兑换直播间展示，"),s.a.createElement("p",{__source:{fileName:m,lineNumber:209},__self:this},"发言时可见，有效期30天，可累计；")):""),s.a.createElement(f.default,{className:"jifenExchangeTip",title:"兑换成功",width:420,height:286,center:!0,visible:a,footer:[s.a.createElement("button",{className:"dy-btn",key:"ok",onClick:this.closeTipDialog,__source:{fileName:m,lineNumber:223},__self:this},"我知道了")],__source:{fileName:m,lineNumber:215},__self:this},s.a.createElement("div",{className:"exchangeSuc",__source:{fileName:m,lineNumber:226},__self:this},"恭喜你兑换成功"),s.a.createElement("p",{__source:{fileName:m,lineNumber:227},__self:this},1===o?"可在“站内信”中查看信息详情":"主播已私信你，请快去填写收货地址吧~")))},c=(n=g).prototype,d="jifenServices",o=[o],b={enumerable:!0,initializer:null},v={},Object.keys(b).forEach(function(e){v[e]=b[e]}),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=o.slice().reverse().reduce(function(e,t){return t(c,d,e)||e},v),h&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(h):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(c,d,v),v=null),a=v,n);function g(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var e,t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,_.call(this));return t="jifenServices",n=e=r,(i=a)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),r.state={isShowDialog:!1,isShowTipDialog:!1,exchangeIntegral:0,md5Id:0,isOfficial:0,giftDataList:[],giftType:null},r.isClickExchangeBtn=!1,r.curGiftIndex=null,r.getExchangeGiftData=r.getExchangeGiftData.bind(r),r.clickExchangeBtn=r.clickExchangeBtn.bind(r),r.closeDialog=r.closeDialog.bind(r),r.dialogOnOk=r.dialogOnOk.bind(r),r.closeTipDialog=r.closeTipDialog.bind(r),r}t.default=Object(r.connect)(function(e){return{exchangeData:e.jifenUserReducers.userJifenExchangeData,exchangeResult:e.jifenUserReducers.jifenExchangeResult}})(n)},"409d3a":function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"CHEF_MASTER_UPDATE_DATA",function(){return a}),i.d(t,"default",function(){return o});var r,a="CHEF_MASTER_UPDATE_DATA",o=(n(l,r=i("97a1f0").Action),l.openPanel=function(e){return{type:a,payload:e}},l.updateData=function(e){return{type:a,payload:e}},l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}},"40ee38":function(e,t,i){e.exports=i("5f575e")("b1146")},410699:function(e,t,i){"use strict";var u,n=i("1a22b7"),f=i.n(n),r=i("447d8e"),a=i("7ca7dc"),o=i("54992a"),n=i("5e7e43"),p=i("ef6cd7"),m=(i("e3be75"),"/shark/live/src/pages/roomPage/toolbarModule/components/SuperWarShipIcon/GiftPanel.js");function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,s,b,h,v,_,o=(n=(0,a.default.Service)(n.default),Object(o.log)((l(g,_=f.a.Component),g.prototype.componentWillMount=function(){var e=this.props,t=e.SuperWarShipIconData,i=void 0===t?{}:t,n=e.giftId,t=i.isOpen,e=i.config,i=void 0===e?{}:e,e=i.super_yw_gift_id,i=i.super_yw_tips_gift_ids;(n===e||-1<(void 0===i?[]:i).indexOf(+n))&&t&&this.mainServices.getFuelValue()},g.prototype.componentWillReceiveProps=function(e){var t=e.giftId,i=this.props,n=i.SuperWarShipIconData,r=void 0===n?{}:n,e=i.giftId,n=r.isOpen,i=r.config,r=void 0===i?{}:i,i=r.super_yw_gift_id,r=r.super_yw_tips_gift_ids;+e!=+t&&(+t==+i||-1<(void 0===r?[]:r).indexOf(+t))&&n&&this.mainServices.getFuelValue()},g.prototype.render=function(){var e=this.props,t=e.giftId,i=e.SuperWarShipIconData,n=void 0===i?{}:i,r=n.fuelData,e=void 0===r?{}:r,i=n.isOpen,r=n.config,n=void 0===r?{}:r,r=n.super_yw_gift_id,n=n.super_yw_tips_gift_ids;return(+t==+r||-1<(void 0===n?[]:n).indexOf(+t))&&i?this.renderTip(e):null},c=(o=g).prototype,s="mainServices",n=[n],b={enumerable:!0,initializer:null},v={},Object.keys(b).forEach(function(e){v[e]=b[e]}),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=n.slice().reverse().reduce(function(e,t){return t(c,s,e)||e},v),h&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(h):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(c,s,v),v=null),u=v,o=o))||o);function g(){var e,t,n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);for(var i,r,a,o,l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return e=t=d(this,_.call.apply(_,[this].concat(c))),r="mainServices",o=i=t,(a=u)&&Object.defineProperty(i,r,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(o):void 0}),t.renderTip=function(e){var t=e.value,i=e.p_rate,e=e.target_value;return f.a.createElement("div",{className:"SuperWarShipGiftPanel",__source:{fileName:m,lineNumber:54},__self:n},f.a.createElement(p.default,{data:{finishNum:void 0===t?0:t,targetNum:e,rate:void 0===i?0:i,preTitle:"当前燃料："},extClass:"is-big SuperWarShipProcessBar",__source:{fileName:m,lineNumber:56},__self:n}),f.a.createElement("div",{className:"SuperWarShipGiftPanel-content",__source:{fileName:m,lineNumber:58},__self:n},f.a.createElement("span",{__source:{fileName:m,lineNumber:59},__self:n},"送鱼丸、玩预言"),"贡献燃料，激活超丸星际舰！"),f.a.createElement("div",{__source:{fileName:m,lineNumber:61},__self:n},"享超酷炫特效和专属福利"))},d(t,e)}t.default=Object(r.connect)(function(e){return{SuperWarShipIconData:e.SuperWarShipIconData}})(o)},"4246a0":function(e,t,i){},"4248dc":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/pbugpcl-icon_e3e49a3.png"},"429b4e":function(e,t,i){"use strict";var n,r,a,o=i("1a22b7"),l=i.n(o),c=i("447d8e"),s=i("eb3e22"),u=i("7ca7dc"),o=(i("173bc3"),i("246cc3"),i("e854a7")),f=i("28d7db"),i=i("464414"),p="/shark/live/src/pages/roomPage/toolbarModule/components/PrivilegedGiftEnter/EnterIcon.js";function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function b(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}o.default.socketStream;var h,o=u.default.Service,s=(u=o(i.default),i=o(s.DataCenter.common),o=o(s.DataCenter.global),d(v,h=l.a.Component),v.prototype.render=function(){var e=this,t=this.props.PrivilegedGiftData,i=void 0===t?{}:t,t=i.showEnter,n=i.showPanel;return t?l.a.createElement("div",{className:"PrivilegeGiftEnter",__source:{fileName:p,lineNumber:48},__self:this},l.a.createElement("div",{className:"PrivilegeGiftEnter-Icon",onClick:function(){e.togglePanelSwitch(n)},__source:{fileName:p,lineNumber:49},__self:this},l.a.createElement("div",{className:"PrivilegeGiftEnter-Icon--Name",__source:{fileName:p,lineNumber:52},__self:this},"壁咚主播")),n?l.a.createElement(f.default,{hidden:this.isFromButton,__source:{fileName:p,lineNumber:54},__self:this}):null):null},n=b((s=v).prototype,"mainServices",[u],{enumerable:!0,initializer:null}),r=b(s.prototype,"common",[i],{enumerable:!0,initializer:null}),a=b(s.prototype,"global",[o],{enumerable:!0,initializer:null}),s);function v(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,h.call(this,e));return m(t,"mainServices",n,t),m(t,"common",r,t),m(t,"global",a,t),t.togglePanelSwitch=function(e){t.mainServices.showPanelSwitch(!e),e&&(t.isFromButton=!1),t.isFromButton=!0},t.isFromButton=!1,t}t.default=Object(c.connect)(function(e){return{PrivilegedGiftData:e.PrivilegedGiftData}})(s)},"42f448":function(e,t,i){"use strict";var n=i("d9d29f"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={isOpen:!1,openType:0,luckTime:0,configs:null,giftInfo:null,getTicketNum:0,moonTipsData:null};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];return t.type!==n.TURNTABLE_UPDATE_DATA?e:Object.assign({},e,r({},t.payload))}},431322:function(e,t,i){"use strict";var n=i("92ad82"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={isOpen:!1,time:0,status:1,endTime:0,startTime:0,nextTime:0};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];return t.type!==n.COOK_COMPLETE_UPDATE_DATA?e:Object.assign({},e,r({},t.payload))}},"4317b8":function(e,t,i){e.exports=i("5f575e")("3ec37")},"431bca":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/score_gg_41c283b.png"},"438ecd":function(e,t,i){e.exports=i("5f575e")("eacfc")},"43a9d0":function(e,t,i){},"447d8e":function(e,t,i){e.exports=i("999443")("0a81c")},"44a0ba":function(e,t,i){e.exports=i("5f575e")("20486")},"44b827":function(e,t,i){"use strict";var n=i("db47a7"),r=i("eb3e22"),i=i("c1110e"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=i.default.dysConfig,l={};r.DataCenter.common.get("$DATA").subscribe(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).room,t=(e=void 0===e?{}:e).cate1_id,i=e.cate2_id,n=e.cate3_id,e=e.room_id;l={cid:t,tid:i,chid:n,r:e}}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;e&&o&&o[e]&&Object(n.dysub2)(a({},l,o[e],{ext:t}))}},"44e0d5":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a="/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/RomaticDateBottom/CdText.js";function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,n=(o(c,l=r.a.Component),c.prototype.componentDidMount=function(){var t=this,e=this.props,i=e.showType,n=e.scrollingIntroductionText;1===i&&(this.setState({currentTxt:n[0]}),1<n.length&&(this.timer=setInterval(function(){var e=t.state.index,e=e+1>=n.length?0:e+1;t.setState({index:e,currentTxt:n[e]})},1e4)))},c.prototype.componentWillUnmount=function(){clearTimeout(this.timer)},c.prototype.render=function(){var e=this.state.currentTxt;return r.a.createElement("div",{className:"RomaticDateBottom",__source:{fileName:a,lineNumber:48},__self:this},r.a.createElement("div",{className:"RomaticDateBottom-text",__source:{fileName:a,lineNumber:49},__self:this},e))},c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,l.call(this,e));return e.state={currentTxt:"",index:0},e}t.default=n},"44f516":function(e,t,i){},"450f6b":function(e,t,i){"use strict";var n=i("2a05bb");i("508b7b"),t.default=n.default},"4519a7":function(e,t,i){"use strict";var n,r,a,o=i("1a22b7"),l=i.n(o),c=i("7ca7dc"),s=i("eb3e22"),u=i("ab889d"),o=i("56b0a1"),f=(i("d474b9"),"/shark/live/src/pages/roomPage/toolbarModule/business/leftArea/MusicxuetuEntrance/components/MusicxuetuEntry.js");function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function d(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var b,c=c.default.Service,s=(u=c(u.default),o=c(o.default),c=c(s.DataCenter.localStorage),m(h,b=l.a.Component),h.prototype.componentDidMount=function(){var n=this;this.sub=this.giftDataServices.getMusicianGiftConfig().subscribe(function(e){var t=e.musicTrainee,i=void 0===t?{}:t,e=i.layerIsOpen,t=void 0===e?0:e,e=i.layerOpenTime,e=void 0===e?0:e,i=i.webLayerContent;n.localStorage.get("musicTipTime")===e||1!==t||(n.setState({showTip:!0,webLayerContent:i},function(){n.timer=setTimeout(function(){n.setState({showTip:!1})},5e3)}),n.localStorage.set("musicTipTime",e))})},h.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer),this.sub&&this.sub.unsubscribe&&this.sub.unsubscribe()},h.prototype.render=function(){var e=this.state,t=e.webLayerContent,e=e.showTip;return l.a.createElement("div",{className:"MusicxuetuEntry",onClick:this.clickIcon,__source:{fileName:f,lineNumber:73},__self:this},l.a.createElement("div",{className:"MusicxuetuEntry-txt",__source:{fileName:f,lineNumber:73},__self:this},"学徒之家"),e?l.a.createElement("div",{className:"MusicxuetuEntry-tipWrap",__source:{fileName:f,lineNumber:76},__self:this},t||"小小学徒收集活动，寻找学徒达人之家"):null)},n=d((s=h).prototype,"musicxuetuServices",[u],{enumerable:!0,initializer:null}),r=d(s.prototype,"giftDataServices",[o],{enumerable:!0,initializer:null}),a=d(s.prototype,"localStorage",[c],{enumerable:!0,initializer:null}),s);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,b.call(this,e));return p(t,"musicxuetuServices",n,t),p(t,"giftDataServices",r,t),p(t,"localStorage",a,t),t.clickIcon=function(){t.musicxuetuServices.toggleMusicxuetuPanel({show:1})},t.state={showTip:!1,tipContent:""},t.timer=null,t.sub=null,t}t.default=s},"456fdc":function(e,t,i){e.exports=i("5f575e")("4d400")},"45d64e":function(e,t,i){"use strict";var n,r,a,o,l=i("7ca7dc"),c=i("97a1f0"),s=i("eb3e22"),u=i("92d3d1"),f=i("56b0a1");function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function d(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var b,h=l.default.Store,i=l.default.Service,c=(l=h(),h=i(f.default),f=i(s.DataCenter.global),s=i(s.DataCenter.localStorage),m(v,b=c.Service),v.prototype.isAnchor=function(){var e,t;return void 0===this.isAnchorRes&&(e=this.global.get("USER_INFO.uid"),t=this.global.get("$ROOM.owner_uid"),this.isAnchorRes=0<e&&parseInt(e,10)===parseInt(t,10)),this.isAnchorRes},v.prototype.getTipsShowState=function(){var e=this.global.get("USER_INFO.uid");return e?this.localStorage.get("LotteryEnterTipsShow"+e):0},v.prototype.setTipsShowState=function(e){var t=this.global.get("USER_INFO.uid");t&&this.localStorage.set("LotteryEnterTipsShow"+t,e)},v.prototype.updateData=function(e){this.store.dispatch(u.LotteryDrawEnterActions.updateData(e))},v.prototype.getGiftInfoById=function(e){return e&&this.giftConfig[e]||{}},v.prototype.formatSecond=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"h:m:s";if("number"!=typeof e||"string"!=typeof t)return e;function i(e){return e<10?"0"+e:e}var n,r=e%60,a="",o=t,a=Math.floor((e-r)%3600);return/h/.test(t)&&(n=Math.floor(e/3600),o=o.replace(/h+/i,i(n))),/s/.test(t)&&(a=Math.floor(a/60)),o.replace(/m+/g,i(a)).replace(/s+/g,i(r))},n=d((c=v).prototype,"store",[l],{enumerable:!0,initializer:null}),r=d(c.prototype,"giftSendServices",[h],{enumerable:!0,initializer:null}),a=d(c.prototype,"global",[f],{enumerable:!0,initializer:null}),o=d(c.prototype,"localStorage",[s],{enumerable:!0,initializer:null}),c);function v(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,b.call(this));return p(t,"store",n,t),p(t,"giftSendServices",r,t),p(t,"global",a,t),p(t,"localStorage",o,t),t.giftConfig={},t.giftSendServices.getGiftData().subscribe(function(e){t.giftConfig=e}),t}t.default=c},464414:function(e,t,i){"use strict";i.d(t,"default",function(){return P});var a,o,l,c,s,u,f,n=i("7ca7dc"),p=i("97a1f0"),r=i("eb3e22"),m=i("0dcead"),d=i("fc7947"),b=i.n(d),h=(i("db47a7"),i("b00678"),i("ffca33")),v=i("a58983"),_=i("20ec0b"),g=i("ad3036"),y=i("a06d78"),N=i("5b9730"),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function O(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function j(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var T,t=n.default.Store,d=n.default.Service,P=(i=t(),n=d(r.DataCenter.global),t=d(r.DataCenter.common),g=d(g.default),v=d(v.default),_=d(_.default),d=d(N.default),E(D,T=p.Service),D.prototype.isAnchor=function(){return+this.global.get("USER_INFO.uid")==+this.global.get("$ROOM.owner_uid")},D.prototype.getStore=function(e){return this.store.getState()[e]},D.prototype.updateReducer=function(e){e&&this.store.dispatch(y.default.updateData(w({},e)))},D.prototype.showIframePay=function(){this.common.push("RoomShowIframePay")},D.prototype.setFirstShowStorage=function(){var e,t,i;e="PrivilegeGiftFistShow",t=!0,i=604800,r.DataCenter.localStorage.set(e,t,i)},D.prototype.getFirstShowStorage=function(){return e="PrivilegeGiftFistShow",r.DataCenter.localStorage.get(e);var e},a=j((N=D).prototype,"store",[i],{enumerable:!0,initializer:null}),o=j(N.prototype,"global",[n],{enumerable:!0,initializer:null}),l=j(N.prototype,"common",[t],{enumerable:!0,initializer:null}),c=j(N.prototype,"mmGeneralConfigServices",[g],{enumerable:!0,initializer:null}),s=j(N.prototype,"commonDataServices",[v],{enumerable:!0,initializer:null}),u=j(N.prototype,"giftSendServices",[_],{enumerable:!0,initializer:null}),f=j(N.prototype,"giftServices",[d],{enumerable:!0,initializer:null}),N);function D(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,D);for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=r=S(this,T.call.apply(T,[this].concat(i))),O(r,"store",a,r),O(r,"global",o,r),O(r,"common",l,r),O(r,"mmGeneralConfigServices",c,r),O(r,"commonDataServices",s,r),O(r,"giftSendServices",u,r),O(r,"giftServices",f,r),r.roomId=parseInt(r.global.get("$ROOM.room_id"),10),r.hasShowPanel=!1,r.showPanelSwitch=function(e){e&&(r.setFirstShowStorage(),r.hasShowPanel=!0),r.updateReducer({showPanel:e})},r.showEnterSwitch=function(e){r.updateReducer({showEnter:e})},r.sendGift=function(){b.a.check()?Object(h.default)({type:"POST",url:"/japi/interactnc/web/gpg/givePrivilegedGift",data:{r_id:r.roomId},contentType:"application/x-www-form-urlencoded"}).subscribe(function(e){var t,i=e||{},e=(t="string"==typeof i.data?p.GSON.parse(i.data):i.data||{}).goldBalance,n=void 0===e?0:e;switch(+i.error){case 0:m.message.info("赠送成功"),r.showPanelSwitch(!1),r.showEnterSwitch(!1),r.giftServices.sendGiftDgbMsg(t),r.commonDataServices.updateTotalGold({data:parseInt(n,10)});break;case 10002:r.showIframePay();break;case 10001:case 10003:r.showPanelSwitch(!1),r.showEnterSwitch(!1),i.msg&&m.message.info(i.msg);break;default:i.msg&&m.message.info(i.msg)}}):b.a.show()},r.handleMsg=function(e){var t=e||{},i=t.isOpen,e=t.isPopup,t=t.dt,t=void 0===t?0:t;+i&&(r.showEnterSwitch(!0),i=r.getFirstShowStorage(),+e&&!i&&setTimeout(function(){r.mmGeneralConfigServices.getBusinessFlag()||r.hasShowPanel||(r.mmGeneralConfigServices.setBusinessFlag(),r.showPanelSwitch(!0))},1e3*t))},S(r,e)}},"4644de":function(e,t,i){"use strict";var u=i("fd72a5"),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p={levelInfo:{},signInInfo:{},giftInfo:{},watchInfo:[],feedInfos:[{point:0,exp_add:0,done:0}],bulletScreenInfo:[{num:0,exp_add:0,done:0}],signDetail:[],rankInfo:{},dialogVisible:!1,isShowTransition:!1,alertInfo:{},treasure:{},treasureActive:0,watchTaskDetail:{},roomSiegeTask:{},userActivePoint:{},activeRankList:[],statisticTime:{}};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1],i=t.type,n=t.payload;switch(i){case u.ROOM_LEVEL_DETAIL_RECEIVE_INFO:return f({},e,n);case u.ROOM_LEVEL_DETAIL_SET_PROPS:var r=e.signInInfo,a=n.signInInfo,o=function(e,t){var i,n={};for(i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(n,["signInInfo"]);if(n&&n.changeKey){var l=n.changeKey,c=n.data,s=e[l],s=f({},s,c);return f({},e,((c={})[l]=s,c))}return f({},e,o,{signInInfo:f({},r,a)});case u.ROOM_LEVEL_DETAIL_RECEIVE_SIGN_DETAIL:return f({},e,{signDetail:n});default:return e}}},"46790b":function(e,t,i){"use strict";var u,n=i("1a22b7"),f=i.n(n),n=i("7ca7dc"),p=i("66802c"),r=(i("58c1c4"),i("9f0db1")),i=i("0f5fdd"),m="/shark/live/src/pages/roomPage/toolbarModule/components/LovedFrame/LovedFrame.js";function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var o,l,c,s,b,h,i=(n=(0,n.default.Service)(i.default),a(v,h=f.a.Component),v.prototype.getTop=function(e){var t=e.offsetTop;return null!=e.offsetParent&&(t+=this.getTop(e.offsetParent)),t},v.prototype.getLeft=function(e){var t=e.offsetLeft;return null!=e.offsetParent&&(t+=this.getLeft(e.offsetParent)),t},v.prototype.render=function(){var e=this.props,t=e.name,i=e.percent,e=e.refresh;return f.a.createElement("div",{className:"LovedFrame",__source:{fileName:m,lineNumber:89},__self:this},f.a.createElement("div",{className:"LovedFrame-name",__source:{fileName:m,lineNumber:90},__self:this},t),f.a.createElement("div",{className:"LovedFrame-love",__source:{fileName:m,lineNumber:91},__self:this}),f.a.createElement("div",{className:"LovedFrame-pb",__source:{fileName:m,lineNumber:92},__self:this},f.a.createElement(r.default,{percent:i,type:"0",refresh:e,__source:{fileName:m,lineNumber:93},__self:this})),f.a.createElement("div",{className:"LovedFrame-hoverArea",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,ref:"lovedFrameHoverArea",__source:{fileName:m,lineNumber:99},__self:this}))},o=(i=v).prototype,l="romanticDateServices",n=[n],c={enumerable:!0,initializer:null},b={},Object.keys(c).forEach(function(e){b[e]=c[e]}),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=n.slice().reverse().reduce(function(e,t){return t(o,l,e)||e},b),s&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(s):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(o,l,b),b=null),u=b,i);function v(){var e,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var t,i,a,o,l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return e=n=d(this,h.call.apply(h,[this].concat(c))),i="romanticDateServices",o=t=n,(a=u)&&Object.defineProperty(t,i,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(o):void 0}),n.constructTipPanel=function(){var e=n.props.heartIntroduction,i=[];return e&&e.length?(e.forEach(function(e,t){0===t?i.push(f.a.createElement("div",{key:t,className:"LovedFrame-tipsContent--top",__source:{fileName:m,lineNumber:24},__self:r},e)):i.push(f.a.createElement("div",{key:t,className:"LovedFrame-tipsContent--item",__source:{fileName:m,lineNumber:28},__self:r},e))}),f.a.createElement("div",{className:"LovedFrame-tipsContent",__source:{fileName:m,lineNumber:33},__self:r},i)):null},n.onMouseEnter=function(){n.romanticDateServices.romanticDysub("introduceExposure");var e=n.refs.lovedFrameHoverArea,t={left:n.getLeft(e)-78,top:n.getTop(e)+42},e=n.constructTipPanel();n.dynamicTip=e?p.default.showTip(e,t,240):null},n.onMouseLeave=function(){n.dynamicTip&&p.default.hideTip(n.dynamicTip)},d(n,e)}t.default=i},"46ee3f":function(e,t,i){"use strict";var n,r,a=i("7ca7dc"),o=i("f68984"),l=i("b00678"),c=i("643726"),s=i("722b8a"),u=i("eb3e22"),f=i("ffca33"),p=i("339147"),m=i("16358b"),d=i("98a8ba");function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var a=a.default.Service,u=(p=a(p.default),a=a(u.DataCenter.localStorage),v.prototype.getPanelData=function(e){var r=this;return e.ofType(d.GET_PANEL_DATA).pipe(Object(l.switchMap)(c.default),Object(l.switchMap)(function(e){var t=e.data,e=e.payload,e=void 0===e?{}:e;return Object(f.default)({url:"/japi/carnival/c/csgo/gameInfo",data:{rid:t.get("room.room_id"),matchAlias:e.id},abnormal:"5E数据信息请求失败",errorTip:!0,noCache:!0})}),Object(o.map)(function(e){var t=e.error,i=e.data,n=e.msg,n=void 0===n?"":n;if(0===t){t=void 0;try{t=JSON.parse(i)}catch(e){t={}}if(t)return r.csgoPanelService.checkIconEnable("CsgoPanel")||m.default.toolbarActivityShow("CsgoPanel"),r.localStorage.get("csgo_panel")||r.csgoPanelService.setData({isShow:!0}),d.default.setReducerData({panelData:t})}else s.default.error(n);return d.default.defaultAction()}))},v.prototype.getList=function(e){return e.ofType(d.GET_CSGO_LIST).pipe(Object(l.switchMap)(c.default),Object(l.switchMap)(function(e){e=e.data;return Object(f.default)({url:"/japi/carnival/c/csgo/playing",data:{rid:e.get("room.room_id")},payload:{rid:e.get("room.room_id")},noCache:!0})}),Object(o.map)(function(e){var t=e.error,i=e.msg,n=void 0===i?"5E房间请求失败, 请稍候再试":i,i=e.data,e=e.payload;if(0===t){if(i&&i.length){var r=e.rid;if(i.some(function(e){return+e===r}))return d.default.getPanelData()}}else s.default.error(n);return d.default.defaultAction()}))},n=h((u=v).prototype,"csgoPanelService",[p],{enumerable:!0,initializer:null}),r=h(u.prototype,"localStorage",[a],{enumerable:!0,initializer:null}),u);function v(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),b(this,"csgoPanelService",n,this),b(this,"localStorage",r,this)}t.default=u},"474ac9":function(e,t,i){"use strict";var a,o,l,n=i("1a22b7"),r=i.n(n),c=i("292183"),s=i.n(c),u=i("447d8e"),f=i("7ca7dc"),p=i("eb3e22"),n=i("54992a"),m=i("16358b"),c=i("73f440"),d=(i("c99153"),"/shark/live/src/pages/roomPage/toolbarModule/components/KPLDialog/KPLDialog.js");function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function _(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var g,i=f.default.Service,n=(f=i(p.DataCenter.common),p=i(p.DataCenter.global),c=i(c.default),Object(n.log)((v(y,g=r.a.Component),y.prototype.componentDidMount=function(){var l=this;this.common.get("$DATA").subscribe(function(e){for(var t=(e.get("room")||{}).giftActivity,e=void 0===t?{}:t,t=e.fold,e=e.unfold,i=[].concat(void 0===t?[]:t,void 0===e?[]:e),n=0,r=i.length;n<r;n++){var a=i[n],o=a.activity_flag,a=a.icon_default;if("2020KPLSS"===o&&a){l.setState({iconUrl:a});break}}m.default.toolbarActivityShow("2020KPLSS")})},y.prototype.handleBtnClick=function(){this.kPLDialogService.toggleDialogStatus()},y.prototype.render=function(){var e=this.state.iconUrl;return r.a.createElement("div",{className:"KPLDialog",__source:{fileName:d,lineNumber:59},__self:this},r.a.createElement("div",{className:"KPLDialog-btn",style:{backgroundImage:"url("+e+")"},onClick:this.handleBtnClick.bind(this),__source:{fileName:d,lineNumber:60},__self:this}))},a=_((n=y).prototype,"common",[f],{enumerable:!0,initializer:null}),o=_(n.prototype,"global",[p],{enumerable:!0,initializer:null}),l=_(n.prototype,"kPLDialogService",[c],{enumerable:!0,initializer:null}),n=n))||n);function y(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=h(this,g.call.apply(g,[this].concat(n))),b(t,"common",a,t),b(t,"global",o,t),b(t,"kPLDialogService",l,t),t.state={showIframe:!1,iconUrl:""},h(t,e)}n.propTypes={roomUrlMap:s.a.object},t.default=Object(u.connect)(function(e){return{roomUrlMap:e.KPLDialogData.roomUrlMap}})(n)},"479a05":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=i("db47a7"),o=i("ad435c"),l=i("ba2134"),c=(i("f55883"),"/shark/live/src/pages/roomPage/toolbarModule/business/leftArea/ActCenterPK/components/ActCenterPK.js");function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var f,i=(u(p,f=r.a.Component),p.prototype.render=function(){return r.a.createElement("div",{className:"ActCenterPkEntry",onClick:this.invokeMsg,__source:{fileName:c,lineNumber:28},__self:this},r.a.createElement("div",{className:"ActCenterPkEntry-txt",__source:{fileName:c,lineNumber:28},__self:this},"PK活动"))},p);function p(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=s(this,f.call.apply(f,[this].concat(n))),t.invokeMsg=function(){o.default.push(l.whPushKey,{type:l.whPushEnums.SHOW_ACT_CENTER_DIALOG,data:{}}),Object(a.dysub2)({action_code:"16010022Z001",event_id:1,type:1})},s(t,e)}t.default=i},"47b41d":function(e,t,i){"use strict";var s,n=i("1a22b7"),o=i.n(n),n=i("7ca7dc"),u=i("eb3e22"),f=i("db47a7"),p=i("97a1f0"),r=i("16358b"),l=i("a8024b"),c=(i("c92b6b"),"/shark/live/src/pages/roomPage/toolbarModule/components/LplView/LplView.js");function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var d,b,h,v,_,g,n=n.default.Service,y=i("a32035"),n=(i=n(u.DataCenter.common),a(N,g=o.a.Component),N.prototype.componentDidMount=function(){var t=this;this.common.get("$DATA").subscribe(function(e){t.roomId=e.get("room").room_id,Object(f.dysub2)({action_code:"130100214001",event_id:3,r:t.roomId,type:1})}),r.default.toolbarActivityShow("lplview")},N.prototype.render=function(){var a=this,e=this.state,t=e.showPlayer,e=e.anchorList;return[o.a.createElement("div",{className:"LplView",__source:{fileName:c,lineNumber:88},__self:this},o.a.createElement(l.default,{baseUrl:y,des:"第一视角",leftColor:"#1a6587",rightColor:"#113959",onClick:this.showHidePlayer,__source:{fileName:c,lineNumber:89},__self:this})),t&&o.a.createElement("div",{className:"LplView-playerWrap "+(0===e.length?"is-null":""),__source:{fileName:c,lineNumber:97},__self:this},o.a.createElement("p",{className:"LplView-title",__source:{fileName:c,lineNumber:98},__self:this},"选择要看第一视角的选手"),o.a.createElement("ul",{className:"LplView-playerList",__source:{fileName:c,lineNumber:99},__self:this},e.map(function(e){var t=e.PlayerAvatar,i=e.PlayerDes,n=e.TeamDes,r=e.viewRid;return o.a.createElement("li",{className:"LplView-playerItem",onClick:function(){return a.gotoRoom(r)},__source:{fileName:c,lineNumber:104},__self:a},o.a.createElement("img",{className:"LplView-playerPhoto",src:t,__source:{fileName:c,lineNumber:105},__self:a}),o.a.createElement("p",{className:"LplView-playerName",__source:{fileName:c,lineNumber:106},__self:a},i),o.a.createElement("p",{className:"LplView-playerTeam",__source:{fileName:c,lineNumber:107},__self:a},n))})))]},d=(n=N).prototype,b="common",i=[i],h={enumerable:!0,initializer:null},_={},Object.keys(h).forEach(function(e){_[e]=h[e]}),_.enumerable=!!_.enumerable,_.configurable=!!_.configurable,("value"in _||_.initializer)&&(_.writable=!0),_=i.slice().reverse().reduce(function(e,t){return t(d,b,e)||e},_),v&&void 0!==_.initializer&&(_.value=_.initializer?_.initializer.call(v):void 0,_.initializer=void 0),void 0===_.initializer&&(Object.defineProperty(d,b,_),_=null),s=_,n);function N(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=m(this,g.call.apply(g,[this].concat(l))),n="common",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.state={showPlayer:!1,anchorList:[]},t.showHidePlayer=function(){t.state.showPlayer?t.setState({anchorList:[],showPlayer:!1}):(Object(f.dysub2)({action_code:"130100214001",event_id:1,r:t.roomId,type:1}),u.httpClient.get(String,"/ztCache/LPLLive/getFirstView",{rid:t.roomId},{noCache:!0}).subscribe(function(e){void 0!==e.error&&0===e.error?t.setState({anchorList:e.data.map(function(e){return p.GSON.parse(e)}),showPlayer:!0}):t.setState({anchorList:[],showPlayer:!0})},function(){t.setState({anchorList:[],showPlayer:!0})}))},t.gotoRoom=function(e){Object(f.dysub2)({action_code:"130100214002",event_id:1,r:t.roomId,type:1}),window.open("/"+e,"_blank")},m(t,e)}t.default=n},481554:function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=i("7ca7dc"),o=i("97a1f0"),l=i("447d8e"),c="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/AccompanyGift/index.js";function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}a.default.Service;var u,f=Object(n.lazy)(function(){return i.e("AccompanyGift_0f63543").then(i.bind(null,"21b1c7"))}),o=Object(o.ErrorHandler)()((s(p,u=r.a.Component),p.prototype.render=function(){var e=this.props.accompanyPanelData,e=(void 0===e?{}:e).panelSwitch;return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",{__source:{fileName:c,lineNumber:21},__self:this}),__source:{fileName:c,lineNumber:21},__self:this},e?r.a.createElement(f,{__source:{fileName:c,lineNumber:23},__self:this}):"")},o=p))||o;function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,u.apply(this,arguments))}t.default=Object(l.connect)(function(e){e=e.accompanyPanelData;return{accompanyPanelData:void 0===e?{}:e}})(o)},"4817ff":function(e,t,i){"use strict";var n,r,a,o=i("1a22b7"),f=i.n(o),l=i("3b6ec9"),c=i.n(l),s=i("97a1f0"),u=i("447d8e"),p=i("f2b8b7"),o=i("eb3e22"),l=i("7ca7dc"),m=i("8126b5"),d=i("722b8a"),i=i("dee2e9"),b="/shark/live/src/pages/roomPage/toolbarModule/components/JifenComponent/UserJifen/ExchangeCenter/jsfenTasks.js";function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function _(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var g,l=l.default.Service,s=(i=l(i.default),l=l(o.DataCenter.global),o=Object(s.Inject)("live.titleModule.TitleServices"),v(y,g=f.a.Component),y.prototype.componentDidMount=function(){this.jifenServices.listenOnlineTaskNotify()},y.prototype.componentWillReceiveProps=function(e){var t=e.followStatus,i=e.followed,e=e.tasksData;1==+t&&this.isClickFollowBtn&&this.titleService.addFollowedAnchor({rid:this.global.get("$ROOM.room_id")}).subscribe();e=this.gameTaksFilter(e);this.setState({gameData:e.games,realFollow:2==+t?2:+i})},y.prototype.setFollowBtnText=function(e){return(0===e?"关注":1===e&&"领取")||2===e&&"已领取"||""},y.prototype.setWatchTaskData=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=[32,186,342,499,530],i=t[0],n=[],r=+e.otfl,a=+e.otpl,o=1;o<5;o++){var l={text:"进行中",complete:0};o<=r&&(l.text="领取",l.complete=2,i=t[o]),o===1+r&&(l.text="进行中",l.complete=1),1+r<o&&(l.text="等待中",l.complete=0),o<=a&&(l.text="已领取",l.complete=3),n.push(l)}return{wtList:n,width:i}},y.prototype.clickWatchGetBtn=function(e){2===e&&(e=(e=this.props.tasksData)&&e.st&&e.st.tid||0,this.jifenServices.clickOnlineWatchGetBtn(e))},y.prototype.clickAttentionBtn=function(e,t){var i;0==+e?(i=this.global.get("$ROOM.owner_uid"),+this.global.get("USER_INFO.uid")!=+i?(this.jifenServices.clickTaskAttentionBtn(),this.isClickFollowBtn=!0):d.default.info("不能关注自己的房间")):1==+e&&this.jifenServices.getFollowTaskJifen(t)},y.prototype.renderWatchTimeTaskTpl=function(n){var r=this;return n&&n.length?n.map(function(e,t){var i=+e.complete;return f.a.createElement("div",{className:"JifenTasks-watchDetailStepItem "+(t===n.length-1?"is-lastchild":""),key:t,__source:{fileName:b,lineNumber:146},__self:r},f.a.createElement("div",{className:"JifenTasks-watchDetailStepItemIcon "+((0==i?"is-disabled":2==i&&"is-chestshake")||3==i&&"is-chestopen"),__source:{fileName:b,lineNumber:150},__self:r}),f.a.createElement("div",{className:"JifenTasks-watchDetailStepItemBtn "+(2!=i?"is-notsatisfy":""),onClick:function(){r.clickWatchGetBtn(i)},__source:{fileName:b,lineNumber:151},__self:r},e.text))}):f.a.createElement("div",{__source:{fileName:b,lineNumber:162},__self:this})},y.prototype.clickGameTaskBtn=function(e){var t=e.status,i=e.iosLink,n=e.androidLink,e=e.taskId;0==+t?this.setState({showQRCode:!0,downloadGameIOSLink:i,downloadGameAndroidLink:n}):1==+t&&this.jifenServices.getDownloadGameTaskJifen(e)},y.prototype.clickDownloadCloseBtn=function(){this.setState({showQRCode:!1})},y.prototype.createQDownloadBox=function(e,t){var i=this.state.showQRCode,n="";return e&&t?n=f.a.createElement("div",{className:"DownloadGameComponent-contentQRcode",__source:{fileName:b,lineNumber:192},__self:this},f.a.createElement("div",{className:"DownloadGameComponent-contentQRcodeAndroid",__source:{fileName:b,lineNumber:193},__self:this},f.a.createElement("div",{className:"DownloadGameComponent-contentQRcodeAndroidCode",__source:{fileName:b,lineNumber:194},__self:this},this.createQRcode(t)),f.a.createElement("span",{className:"DownloadGameComponent-contentQRcodeAndroidName",__source:{fileName:b,lineNumber:197},__self:this},"【Android】")),f.a.createElement("div",{className:"DownloadGameComponent-contentQRcodeIOS",__source:{fileName:b,lineNumber:199},__self:this},f.a.createElement("div",{className:"DownloadGameComponent-contentQRcodeIOSCode",__source:{fileName:b,lineNumber:200},__self:this},this.createQRcode(e)),f.a.createElement("span",{className:"DownloadGameComponent-contentQRcodeIOSName",__source:{fileName:b,lineNumber:203},__self:this},"【IOS】"))):e&&!t?n=f.a.createElement("div",{className:"DownloadGameComponent-contentQRcode",__source:{fileName:b,lineNumber:209},__self:this},f.a.createElement("div",{className:"DownloadGameComponent-contentQRcodeIOS",__source:{fileName:b,lineNumber:210},__self:this},f.a.createElement("div",{className:"DownloadGameComponent-contentQRcodeIOSCode",__source:{fileName:b,lineNumber:211},__self:this},this.createQRcode(e)),f.a.createElement("span",{className:"DownloadGameComponent-contentQRcodeIOSName",__source:{fileName:b,lineNumber:214},__self:this},"【IOS】"))):!e&&t&&(n=f.a.createElement("div",{className:"DownloadGameComponent-contentQRcode",__source:{fileName:b,lineNumber:220},__self:this},f.a.createElement("div",{className:"DownloadGameComponent-contentQRcodeAndroid",__source:{fileName:b,lineNumber:221},__self:this},f.a.createElement("div",{className:"DownloadGameComponent-contentQRcodeAndroidCode",__source:{fileName:b,lineNumber:222},__self:this},this.createQRcode(t)),f.a.createElement("span",{className:"DownloadGameComponent-contentQRcodeAndroidName",__source:{fileName:b,lineNumber:225},__self:this},"【Android】")))),i?c.a.createPortal(f.a.createElement("div",{className:"DownloadGameComponent",__source:{fileName:b,lineNumber:233},__self:this},f.a.createElement("div",{className:"DownloadGameComponent-content",__source:{fileName:b,lineNumber:234},__self:this},f.a.createElement("div",{className:"DownloadGameComponent-contentCloseBtn",onClick:this.clickDownloadCloseBtn,__source:{fileName:b,lineNumber:235},__self:this}),f.a.createElement("div",{className:"DownloadGameComponent-contentTitle",__source:{fileName:b,lineNumber:237},__self:this},"下载应用"),n,f.a.createElement("div",{className:"DownloadGameComponent-contentTip",__source:{fileName:b,lineNumber:239},__self:this},"请用手机扫一扫下载"))),document.body):f.a.createElement("div",{__source:{fileName:b,lineNumber:246},__self:this})},y.prototype.createQRcode=function(e){return f.a.createElement(m.default,{size:110,value:e,__source:{fileName:b,lineNumber:251},__self:this})},y.prototype.stringFormat=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t.slice(1);return t[0].replace(/{(\d+)}/g,function(e,t){return void 0!==n[t]?n[t]:e})},y.prototype.gameTaksFilter=function(e){var e=JSON.stringify(e),t=JSON.parse(e);if(!t||!t.games)return{};for(var i=0;i<t.games.length;i++){var n,r=t.games[i];r.taskName="",r.taskStatus=0,r.ios_task&&0<r.ios_task.length&&(r.ios_task=r.ios_task[0],r.taskName=r.ios_task.name,+r.ios_task.status&&(r.taskStatus=+r.ios_task.status),r.ios_task.task_id&&(r.taskid=r.ios_task.task_id),r.ios_task.point&&(r.point=r.ios_task.point),r.ioslink=r.ios_link+(-1!==r.ios_link.indexOf("?")?"&":"?"),r.ioslink+="callback=",n=this.stringFormat("app_id={0}&room_id={1}&uid={2}",r.ios_app_id,this.global.get("$ROOM.room_id"),this.global.get("USER_INFO.uid")),-1===r.callback.indexOf("?")?r.ioslink+=encodeURIComponent(r.callback+"?"+n):r.ioslink+=encodeURIComponent(r.callback+"&"+n)),r.android_task&&0<r.android_task.length&&(r.android_task=r.android_task[0],r.taskName=r.android_task.name,+r.android_task.status&&(r.taskStatus=+r.android_task.status),r.android_task.task_id&&(r.taskid=r.android_task.task_id),r.android_task.point&&(r.point=r.android_task.point),r.androidlink=r.android_task.link)}return t},y.prototype.render=function(){var i=this,e=this.props,t=e.tasksData,n=e.owTaskData,r=e.isShowJFExchange,a=this.state,o=a.downloadGameIOSLink,l=a.downloadGameAndroidLink,c=a.gameData,s=a.realFollow,e=t.gift||{},u=t.follow,a=t.st,t=this.setWatchTaskData(n),n=t.wtList,t=t.width;return f.a.createElement("div",{className:"JifenTasks"+(r?" hide":""),__source:{fileName:b,lineNumber:329},__self:this},f.a.createElement(p.Scrollbars,{style:{width:"100%",height:"100%"},__source:{fileName:b,lineNumber:330},__self:this},f.a.createElement("div",{className:"JifenTasks-sendGift",__source:{fileName:b,lineNumber:331},__self:this},f.a.createElement("div",{className:"JifenTasks-sendGiftIntro",__source:{fileName:b,lineNumber:332},__self:this},f.a.createElement("span",{className:"JifenTasks-sendGiftIntroIcon",__source:{fileName:b,lineNumber:333},__self:this}),f.a.createElement("span",{className:"JifenTasks-sendGiftIntroTitle",__source:{fileName:b,lineNumber:334},__self:this},"送礼物获积分"),f.a.createElement("span",{className:"JifenTasks-sendGiftIntroContent",__source:{fileName:b,lineNumber:335},__self:this},"送",f.a.createElement("span",{className:"JifenTasks-sendGiftIntroContentYC",__source:{fileName:b,lineNumber:337},__self:this},e.num||0,"鱼翅"),"可以获得",f.a.createElement("span",{className:"JifenTasks-sendGiftIntroContentPoint",__source:{fileName:b,lineNumber:339},__self:this},e.point||0),"积分"))),f.a.createElement("div",{className:"JifenTasks-watch",__source:{fileName:b,lineNumber:345},__self:this},f.a.createElement("div",{className:"JifenTasks-watchIntro",__source:{fileName:b,lineNumber:346},__self:this},f.a.createElement("span",{className:"JifenTasks-watchIntroIcon",__source:{fileName:b,lineNumber:347},__self:this}),f.a.createElement("span",{className:"JifenTasks-watchIntroTitle",__source:{fileName:b,lineNumber:348},__self:this},"看直播领积分"),a&&+a.otfl<4?f.a.createElement("span",{className:"JifenTasks-watchIntroContent",__source:{fileName:b,lineNumber:352},__self:this},"再看",f.a.createElement("span",{className:"JifenTasks-watchIntroContentTime",__source:{fileName:b,lineNumber:354},__self:this},Math.ceil(a.nls/60),"分钟"),"即可获得",f.a.createElement("span",{className:"JifenTasks-watchIntroContentNum",__source:{fileName:b,lineNumber:357},__self:this},a.nlp||0),"积分，加油~"):f.a.createElement("span",{className:"JifenTasks-watchIntroContent",__source:{fileName:b,lineNumber:361},__self:this},"恭喜您完成今日的观看任务，明天再继续努力~"),f.a.createElement("span",{className:"JifenTasks-watchIntroTips",__source:{fileName:b,lineNumber:363},__self:this},"(每日04:00重置此任务)")),f.a.createElement("div",{className:"JifenTasks-watchDetail",__source:{fileName:b,lineNumber:366},__self:this},f.a.createElement("div",{className:"JifenTasks-watchDetailStep",__source:{fileName:b,lineNumber:367},__self:this},this.renderWatchTimeTaskTpl(n)),f.a.createElement("div",{className:"JifenTasks-watchDetaiProgress",__source:{fileName:b,lineNumber:370},__self:this},f.a.createElement("div",{className:"JifenTasks-watchDetaiProgressCur",style:{width:t+"px"},__source:{fileName:b,lineNumber:371},__self:this})))),u&&0!==u.length?f.a.createElement("div",{className:"JifenTasks-follow",__source:{fileName:b,lineNumber:379},__self:this},f.a.createElement("div",{className:"JifenTasks-followIntro",__source:{fileName:b,lineNumber:380},__self:this},f.a.createElement("span",{className:"JifenTasks-followIntroIcon",__source:{fileName:b,lineNumber:381},__self:this}),f.a.createElement("span",{className:"JifenTasks-followIntroTitle",__source:{fileName:b,lineNumber:382},__self:this},"关注该主播"),f.a.createElement("span",{className:"JifenTasks-followIntroContent",__source:{fileName:b,lineNumber:383},__self:this},f.a.createElement("span",{className:"JifenTasks-followIntroContentNum",__source:{fileName:b,lineNumber:384},__self:this},"+",u.point||0,"积分"))),f.a.createElement("div",{className:"JifenTasks-followBtn"+(2===s?" is-complete":""),onClick:function(){i.clickAttentionBtn(s,u.task_id)},__source:{fileName:b,lineNumber:387},__self:this},this.setFollowBtnText(s))):f.a.createElement("div",{__source:{fileName:b,lineNumber:398},__self:this}),c&&c.length?c.map(function(e,t){return f.a.createElement("div",{className:"JifenTasks-download",key:t,__source:{fileName:b,lineNumber:405},__self:i},f.a.createElement("div",{className:"JifenTasks-downloadIntro",__source:{fileName:b,lineNumber:406},__self:i},f.a.createElement("img",{className:"JifenTasks-downloadIntroIcon",src:e.icon,__source:{fileName:b,lineNumber:407},__self:i}),f.a.createElement("span",{className:"JifenTasks-downloadIntroTitle",__source:{fileName:b,lineNumber:408},__self:i},e.taskName||""),f.a.createElement("span",{className:"JifenTasks-downloadIntroContent",__source:{fileName:b,lineNumber:409},__self:i},f.a.createElement("span",{className:"JifenTasks-downloadIntroContentNum",__source:{fileName:b,lineNumber:410},__self:i},"+",e.point||0,"积分"))),f.a.createElement("div",{className:"JifenTasks-downloadRemark",__source:{fileName:b,lineNumber:413},__self:i},"*本房间下载的游戏，只能在本房间领取积分"),f.a.createElement("div",{className:"JifenTasks-downloadBtn "+(2==+e.taskStatus?"is-complete":""),onClick:function(){i.clickGameTaskBtn({status:e.taskStatus,iosLink:e.ioslink,androidLink:e.androidlink,taskId:e.taskid})},__source:{fileName:b,lineNumber:414},__self:i},(0==+e.taskStatus?"下载":1==+e.taskStatus&&"领取")||"已领取"))}):f.a.createElement("div",{__source:{fileName:b,lineNumber:432},__self:this})),this.createQDownloadBox(o,l))},n=_((s=y).prototype,"jifenServices",[i],{enumerable:!0,initializer:null}),r=_(s.prototype,"global",[l],{enumerable:!0,initializer:null}),a=_(s.prototype,"titleService",[o],{enumerable:!0,initializer:null}),s);function y(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,g.call(this));return h(e,"jifenServices",n,e),h(e,"global",r,e),h(e,"titleService",a,e),e.state={showQRCode:!1,downloadGameIOSLink:"",downloadGameAndroidLink:"",gameData:null,realFollow:null},e.isClickFollowBtn=!1,e.clickWatchGetBtn=e.clickWatchGetBtn.bind(e),e.clickAttentionBtn=e.clickAttentionBtn.bind(e),e.clickGameTaskBtn=e.clickGameTaskBtn.bind(e),e.clickDownloadCloseBtn=e.clickDownloadCloseBtn.bind(e),e.gameTaksFilter=e.gameTaksFilter.bind(e),e}t.default=Object(u.connect)(function(e){return{tasksData:e.jifenUserReducers.userJifenTasksData,owTaskData:e.jifenUserReducers.onlineWatchTaskData,followStatus:e.jifenUserReducers.followStatus,followed:e.titleData.followed}})(s)},"48b243":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/supreme-icon_8d3a51a.png"},495279:function(e,t,i){},"49854e":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/data-icon_5c07042.png"},"498acc":function(e,t,i){"use strict";var n,r,a=i("7ca7dc"),o=i("960890"),l=i("f68984"),c=i("b00678"),s=i("2f135c"),u=i("eb3e22"),f=i("a362bc"),p=i("c7fb88"),m=i("deec57");function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var i=a.default.Service,i=(a=i(m.default),m=i(u.DataCenter.global),h.prototype.getToken=function(e){var t=this;return e.ofType(p.GUESS_GET_TOKEN).pipe(Object(c.switchMap)(function(){return u.httpClient.get(f.default,"/api/qq_lottery/get_token",{roomid:t.global.get("$ROOM.room_id"),_v:(new Date).getTime()})}),Object(l.map)(function(e){return t.guessService.dealTokenData(e),p.default.receiveToken(e)}),Object(s.catchError)(function(e){return Object(o.of)({type:"error",payload:e})}))},n=b((i=h).prototype,"guessService",[a],{enumerable:!0,initializer:null}),r=b(i.prototype,"global",[m],{enumerable:!0,initializer:null}),i);function h(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),d(this,"guessService",n,this),d(this,"global",r,this)}t.default=i},"49a083":function(e,t,i){},"49c86a":function(e,t,i){e.exports=i("5f575e")("9fee9")},"4a4e33":function(e,t,i){"use strict";var s,n=i("1a22b7"),l=i.n(n),r=i("503124"),c=i.n(r),a=i("3b6ec9"),u=i.n(a),n=i("7ca7dc"),r=i("eb3e22"),a=i("54992a"),o=i("16358b"),f=(i("8a1d91"),"/shark/live/src/pages/roomPage/toolbarModule/components/Ti9DataPanel/Ti9DataPanel.js");function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var d,b,h,v,_,g,a=(r=(0,n.default.Service)(r.DataCenter.global),Object(a.log)((m(y,g=l.a.Component),y.prototype.componentDidMount=function(){o.default.toolbarActivityShow("vpDataPanel"),window.addEventListener("message",this.listenMessageFromIframeBind,!1)},y.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.listenMessageFromIframeBind,!1)},y.prototype.listenMessageFromIframe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.origin,i=e.data,e=void 0===i?{}:i,i=e.width,e=e.height;"https://resource-sec.vpgame.com"===t&&i&&e&&this.setState({iframeWidth:i||0,iframeHeight:e||0})},y.prototype.render=function(){var e=this.state,t=e.roomId,i=e.visible,n=e.iframeWidth,r=e.iframeHeight,a=e.showDialogTop,o=this.getWarpPosition(n,r),e=o.x,o=o.y;return l.a.createElement("div",{className:"vpDataPanel",__source:{fileName:f,lineNumber:104},__self:this},l.a.createElement("div",{className:"vpDataPanel-btn",onClick:this.handleBtnClick,__source:{fileName:f,lineNumber:105},__self:this},l.a.createElement("span",{className:"vpDataPanel-text",__source:{fileName:f,lineNumber:106},__self:this},"实时数据")),i?u.a.createPortal(l.a.createElement(c.a,{bounds:"body",handle:".vpDataPanel-dialog-top",defaultPosition:{x:e,y:o},__source:{fileName:f,lineNumber:111},__self:this},l.a.createElement("div",{className:"vpDataPanel-dialog",style:{width:n+"px",height:r+"px"},onMouseEnter:this.toggleShowDialogTop(!0),onMouseLeave:this.toggleShowDialogTop(!1),__source:{fileName:f,lineNumber:112},__self:this},l.a.createElement("div",{className:"vpDataPanel-dialog-top",style:{display:a?"block":"none"},__source:{fileName:f,lineNumber:121},__self:this},l.a.createElement("span",{__source:{fileName:f,lineNumber:122},__self:this},"   鼠标按住此处可拖动"),l.a.createElement("i",{className:"vpDataPanel-dialog-close",onClick:this.closeDialogClick,__source:{fileName:f,lineNumber:123},__self:this})),l.a.createElement("iframe",{src:"https://resource-sec.vpgame.com/project/live/live-v2.html?room_id="+t,width:"100%",height:"100%",scrolling:"no",__source:{fileName:f,lineNumber:125},__self:this}))),document.body):null)},d=(a=y).prototype,b="global",r=[r],h={enumerable:!0,initializer:null},_={},Object.keys(h).forEach(function(e){_[e]=h[e]}),_.enumerable=!!_.enumerable,_.configurable=!!_.configurable,("value"in _||_.initializer)&&(_.writable=!0),_=r.slice().reverse().reduce(function(e,t){return t(d,b,e)||e},_),v&&void 0!==_.initializer&&(_.value=_.initializer?_.initializer.call(v):void 0,_.initializer=void 0),void 0===_.initializer&&(Object.defineProperty(d,b,_),_=null),s=_,a=a))||a);function y(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=p(this,g.call.apply(g,[this].concat(l))),n="global",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.state={roomId:t.global.get("$ROOM.room_id"),iframeWidth:640,iframeHeight:510,visible:!1,showDialogTop:!1},t.listenMessageFromIframeBind=t.listenMessageFromIframe.bind(t),t.handleBtnClick=function(){t.setState(function(e){return{visible:!e.visible,showDialogTop:!1}})},t.closeDialogClick=function(){t.setState({visible:!1,showDialogTop:!1})},t.getWarpPosition=function(e,t){var i=document.documentElement,n=i.clientWidth,i=i.clientHeight;return{x:parseInt((n-e)/2,10),y:parseInt((i-t)/2,10)}},t.toggleShowDialogTop=function(e){return function(){t.setState({showDialogTop:e})}},p(t,e)}t.default=a},"4afe80":function(e,t,i){"use strict";i.d(t,"default",function(){return h});var s,n=i("1a22b7"),r=i.n(n),t=i("7ca7dc"),a=i("16358b"),n=i("3be5fe"),o=i("a8024b");function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,f,p,m,d,b,h=(t=(0,t.default.Service)(n.default),l(v,b=r.a.PureComponent),v.prototype.componentDidMount=function(){this.wzryServices.checkConfig(function(e){e&&a.default.toolbarActivityShow("wzrymua")},"wzrymua")},v.prototype.render=function(){return r.a.createElement(o.default,{baseUrl:this.props.data.iconDefault,des:this.props.data.textDefault,onClick:this.handleClick,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/WzryMua/index.js",lineNumber:35},__self:this})},c=(n=v).prototype,f="wzryServices",t=[t],p={enumerable:!0,initializer:null},d={},Object.keys(p).forEach(function(e){d[e]=p[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=t.slice().reverse().reduce(function(e,t){return t(c,f,e)||e},d),m&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(m):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(c,f,d),d=null),s=d,n);function v(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,b.call.apply(b,[this].concat(l))),n="wzryServices",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.handleClick=function(){t.wzryServices.toggleDialogVisible(),t.wzryServices.dpCenter({action_code:"10010020700I",event_id:1,type:1})},u(t,e)}},"4b2b18":function(e,t,i){"use strict";var a,o,l,c,n=i("97a1f0"),r=i("54992a"),s=i("722b8a"),u=i("7ca7dc"),f=i("eb3e22"),p=i("fc7947"),m=i.n(p),d=i("e854a7"),b=i("fd72a5"),h=i("0963d0");function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function y(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var N,p=u.default.Store,w=d.default.socketStream,i=u.default.Service,O=0,n=(d=Object(n.Injectable)("live.toolbarModule.RoomLevelDetailServices"),u=p(),p=i(f.DataCenter.localStorage),f=i(f.DataCenter.common),h=i(h.default),Object(r.log)(n=d((g(S,N=n.Service),S.prototype.initEnter=function(){var i=this,e=m.a.check();e&&(this.store.dispatch(b.default.setReducerData({isLogin:e})),this.store.dispatch(b.default.getRoomLevelSwitch()),this.common.get("$DATA").subscribe(function(e){var t=1==+e.get("room.show_status"),e=e.get("room.room_id"),e=1==+i.localStorage.get("USER_ROOM_LEVEL_SIGN_"+e);i.store.dispatch(b.default.setReducerData({showStatus:t,hasSign:e}))}),w.subscribe("memberinfores",function(e){e=+e.url;i.store.dispatch(b.default.setReducerData({userRoomLevel:e}))}),w.subscribe("today_exp_add_treasure",function(e){var t=e.status,e=e.achieved,e=void 0===e?100:e;1==+(void 0===t?1:t)&&(i.setReducerData({treasureActive:1}),2===O||0===O?i.setReducerData({changeKey:"treasure",data:{status:1,achieved:Math.floor(e),cppAchieved:Math.floor(e)}}):i.setReducerData({changeKey:"treasure",data:{status:1,cppAchieved:Math.floor(e)}}))}))},S.prototype.checkSignStatus=function(){var t=this,i=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).done;this.common.get("$DATA").subscribe(function(e){e=e.get("room.room_id"),e=1==+t.localStorage.get("USER_ROOM_LEVEL_SIGN_"+e);+i&&(t.speedRankServices.setData({isSigned:!0}),e||t.changeSignStatus())})},S.prototype.changeSignStatus=function(){var t=this;clearTimeout(this.ticket),this.common.get("$DATA").subscribe(function(e){e=e.get("room.room_id");t.store.dispatch(b.default.setReducerData({hasSign:!0,signTransition:!0})),t.localStorage.set("USER_ROOM_LEVEL_SIGN_"+e,"1",t.getRestTime()/1e3),t.ticket=setTimeout(function(){clearTimeout(t.ticket),t.store.dispatch(b.default.setReducerData({signTransition:!1}))},5e3)})},S.prototype.getRoomLevelInfo=function(){this.store.dispatch(b.default.getRoomLevelInfo())},S.prototype.setDialogVisible=function(e){this.setReducerData({dialogVisible:e,isShowTransition:!1})},S.prototype.setReducerData=function(e){this.store.dispatch(b.default.setReducerData(e))},S.prototype.getRankInfo=function(){this.store.dispatch(b.default.getRankInfo())},S.prototype.sendRoomLevelSign=function(){this.store.dispatch(b.default.sendRoomLevelSign())},S.prototype.getServerTime=function(){this.store.dispatch(b.default.getServerTime())},S.prototype.openTreasure=function(){this.store.dispatch(b.default.openTreasure())},S.prototype.getSignDetail=function(e){var t=e.year,i=e.month,e=("0000"+t).slice(-4)+"-"+("00"+i).slice(-2);this.store.dispatch(b.default.setReducerData({year:t,month:i})),this.store.dispatch(b.default.getSignDetail(e))},S.prototype.getUserActivePoint=function(){this.store.dispatch(b.default.getUserActivePoint())},S.prototype.getActiveRank=function(){this.store.dispatch(b.default.getActiveRank())},S.prototype.tipMessage=function(){s.default.info(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")},S.prototype.setChecking=function(){O=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},S.prototype.getRestTime=function(e){var t=new Date;t.setDate(t.getDate()),t.setHours(24),t.setMinutes(0),t.setSeconds(0);t=t.getTime()-(new Date).getTime();return 1<e?t+864e5*(e-1):t},a=y((n=S).prototype,"store",[u],{enumerable:!0,initializer:null}),o=y(n.prototype,"localStorage",[p],{enumerable:!0,initializer:null}),l=y(n.prototype,"common",[f],{enumerable:!0,initializer:null}),c=y(n.prototype,"speedRankServices",[h],{enumerable:!0,initializer:null}),n=n))||n)||n);function S(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=_(this,N.call.apply(N,[this].concat(n))),v(t,"store",a,t),v(t,"localStorage",o,t),v(t,"common",l,t),v(t,"speedRankServices",c,t),t.ticket=null,_(t,e)}t.default=n},"4ba520":function(e,t,i){"use strict";var a,o,l,c,n=i("97a1f0"),r=i("eb3e22"),s=i("7ca7dc"),u=i("e854a7"),f=i("b067ea"),p=i("ffca33"),m=i("16358b"),d=(i("67a5dd"),i("379937"));function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function _(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var g,i=s.default.Store,s=s.default.Service,y=u.default.socketStream,N=u.default.socketProxy,w=!1,n=(u=s(r.DataCenter.global),r=s(r.DataCenter.localStorage),f=s(f.default),i=i(),v(O,g=n.Service),O.prototype.init=function(){var r=this;w||(this.getConf().subscribe(function(e){var t=e||{},i=t.isopen,e=void 0===i?0:i,i=t.roombl,t=void 0===i?[]:i,i=+r.global.get("$ROOM.room_id"),n=r.store;e&&!t.includes(i)&&(m.default.toolbarActivityShow("propRedEnvelope"),r.localStorage.get("PropRedEnvelopeIconTip")?r.store.dispatch(d.default.updateData({isSwitchOpen:!0})):(n.dispatch(d.default.updateData({isSwitchOpen:!0,isShowTip:!0})),r.tipTimer=setTimeout(function(){n.dispatch(d.default.updateData({isShowTip:!1}))},7e3),r.localStorage.set("PropRedEnvelopeIconTip",1)),y.subscribe("prplogin",function(e){r.handleLogin(e,n)}),y.subscribe("prpnotify",function(e){r.handleNotify(e,n)}),y.subscribe("prpend",function(e){r.handleEnd(e,n)}),r.configEffectBroadcastService.register("prpbrc"),r.configEffectBroadcastService.register("redenverain"))}),w=!0)},O.prototype.handleLogin=function(e,t){var i,n,r,a;0<this.lastReceiveTime||(i=e.num,n=e.hdoi,e=(r=void 0===(a=e.doirp)?{}:a).activityid,a=r.time,t.dispatch(d.default.updateData({isSwitchOpen:!0,num:i,activityid:e,startType:0<n?1:2,endTime:+(void 0===a?0:a),info:r})))},O.prototype.handleNotify=function(e,t){var i=e.timestamp,n=e.num,r=e.doirp,a=void 0===r?{}:r;this.lastReceiveTime>i||(this.lastReceiveTime=+i,e=a.activityid,r=a.rptype,i=a.time,t.dispatch(d.default.updateData({isSwitchOpen:!0,num:n,activityid:e,startType:+r,endTime:+(void 0===i?0:i),info:a})))},O.prototype.handleEnd=function(e,t){var i=e.timestamp,n=e.num,r=e.doirp,a=void 0===r?{}:r,o=e.txmsg,r=void 0===o?[]:o;this.lastReceiveTime>i||(this.lastReceiveTime=+i,e=a.activityid,o=a.rptype,i=a.time,t.dispatch(d.default.updateData({isSwitchOpen:!0,num:n,activityid:e,startType:+o,endTime:+(void 0===i?0:i),info:a||{}})),r.length&&r.forEach(function(e){e&&Object.entries(e).forEach(function(e){e[0];e=e[1];e&&N.onMessage(e)})}))},O.prototype.getConf=function(){return Object(p.default)({type:"jsonp",url:"//webconf.douyucdn.cn//resource/common/activity/propredpacket_w.json",callbackName:"propredpacket_w"})},O.prototype.stopTipTimer=function(){clearTimeout(this.tipTimer),this.store.dispatch(d.default.updateData({isShowTip:!1}))},O.prototype.updateTxtStatus=function(e){this.store.dispatch(d.default.updateData({startType:e,endTime:0}))},a=_((n=O).prototype,"global",[u],{enumerable:!0,initializer:null}),o=_(n.prototype,"localStorage",[r],{enumerable:!0,initializer:null}),l=_(n.prototype,"configEffectBroadcastService",[f],{enumerable:!0,initializer:null}),c=_(n.prototype,"store",[i],{enumerable:!0,initializer:null}),n);function O(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=h(this,g.call.apply(g,[this].concat(n))),b(t,"global",a,t),b(t,"localStorage",o,t),b(t,"configEffectBroadcastService",l,t),b(t,"store",c,t),t.lastReceiveTime=0,h(t,e)}t.default=n},"4bb9dd":function(e,t,i){"use strict";i=i("39c980");t.default=i.default},"4bd50d":function(e,t,i){"use strict";i=i("ff897e");t.default=i.default},"4c2e76":function(e,t,i){"use strict";var r,a,o,n=i("1a22b7"),p=i.n(n),l=i("7ca7dc"),c=i("f2b8b7"),m=i("9f0db1"),d=i("05aedb"),s=(i("dd4e65"),i("0f5fdd")),n=i("0fc7f7"),i=i("192724"),b="/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/ToolsRebackBox/ToolsRebackPanel.js";function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function f(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var _,l=l.default.Service,n=(s=l(s.default),i=l(i.default),l=l(n.default),u(g,_=p.a.Component),g.prototype.render=function(){var e=this.props.timeInfo;return p.a.createElement("div",{className:"ToolsRebackPanel",__source:{fileName:b,lineNumber:119},__self:this},p.a.createElement("div",{className:"ToolsRebackPanel-toolBar",__source:{fileName:b,lineNumber:120},__self:this}),p.a.createElement("div",{className:"ToolsRebackPanel-title",__source:{fileName:b,lineNumber:121},__self:this},"限时返场"),p.a.createElement("div",{className:"ToolsRebackPanel-timeWrap",__source:{fileName:b,lineNumber:124},__self:this},p.a.createElement("div",{className:"ToolsRebackPanel-time",__source:{fileName:b,lineNumber:125},__self:this},e)),p.a.createElement("div",{className:"ToolsRebackPanel-toolsWrap",__source:{fileName:b,lineNumber:127},__self:this},p.a.createElement(c.Scrollbars,{style:{width:"100%",height:"100%"},ref:this.scrollbarsRef2,renderTrackHorizontal:this.renderTrackHorizontal,__source:{fileName:b,lineNumber:128},__self:this},this.formMainPanel())))},r=f((n=g).prototype,"romanticDateServices",[s],{enumerable:!0,initializer:null}),a=f(n.prototype,"globalTreasureBoxServices",[i],{enumerable:!0,initializer:null}),o=f(n.prototype,"crystalFactoryServices",[l],{enumerable:!0,initializer:null}),n);function g(){var e,u,f=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=u=v(this,_.call.apply(_,[this].concat(i))),h(u,"romanticDateServices",r,u),h(u,"globalTreasureBoxServices",a,u),h(u,"crystalFactoryServices",o,u),u.scrollbarsRef2=p.a.createRef(),u.renderTrackHorizontal=function(){return p.a.createElement("div",{style:{display:"none"},__source:{fileName:b,lineNumber:25},__self:f})},u.formMainPanel=function(){var e=u.props,n=e.showSwitchModel,t=e.crystalRate,r=e.refresh,a=e.sendGiftType,i=e.activityList,i=void 0===i?[]:i,o=e.onRomanticItemClick,l=e.mouseEnterResp,c=e.mouseLeaveResp,s=n?t/100:1;return i.map(function(e,t){var i=""+e.value*a*s;return p.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItem",key:"rowItem-"+t%3,__source:{fileName:b,lineNumber:44},__self:f},p.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent",__source:{fileName:b,lineNumber:45},__self:f},p.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--left",__source:{fileName:b,lineNumber:46},__self:f},p.a.createElement(d.default,{style:{width:"48",height:"48",background:e.img,borderWidth:"2",borderColor:"#8914E3"},name:"礼品",__source:{fileName:b,lineNumber:47},__self:f})),p.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--right",__source:{fileName:b,lineNumber:58},__self:f},1===e.type&&p.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--right--top",__source:{fileName:b,lineNumber:60},__self:f},1<e.num?e.name+"×"+e.num:""+e.name),0===e.type&&p.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--right--top RomanticDatePanelModal-middle--rowItemContent--right--top2",__source:{fileName:b,lineNumber:65},__self:f},1<e.num?e.name+"×"+e.num:""+e.name),0===e.type&&p.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--right--item RomanticDatePanelModal-middle--rowItemContent--right--item2",__source:{fileName:b,lineNumber:70},__self:f},e.intimacy,"亲密度"),1===e.type&&p.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--right--item RomanticDatePanelModal-middle--rowItemContent--right--item3",__source:{fileName:b,lineNumber:76},__self:f},e.intimacy,"亲密度"),1===e.type&&p.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--right--item",style:{opacity:1,marginTop:"1px"},__source:{fileName:b,lineNumber:82},__self:f},p.a.createElement(m.default,{type:"1",refresh:r,percent:e.progressBar,mouseEnterResp:function(e){return l(e,u.scrollbarsRef2)},mouseLeaveResp:c,__source:{fileName:b,lineNumber:87},__self:f}))),e.cornerPicWeb?p.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--cornerpic",style:{backgroundImage:"url("+e.cornerPicWeb+")"},__source:{fileName:b,lineNumber:100},__self:f}):null),p.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemBottom",__source:{fileName:b,lineNumber:102},__self:f},p.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemBottom--rowItemBottomBtn",onClick:function(){o(e,n)},__source:{fileName:b,lineNumber:103},__self:f},p.a.createElement("span",{className:"RomanticDatePanelModal-sendBtn "+(n?"is-smallcrystal":""),__source:{fileName:b,lineNumber:106},__self:f},i),"告白",a,"次")))})},v(u,e)}t.default=n},"4c422f":function(e,t,i){"use strict";function n(e){var t=e.idx,e=e.item;return a.a.createElement("div",{className:"SSR-Top3-item",__source:{fileName:u,lineNumber:11},__self:void 0},a.a.createElement("div",{className:"SSR-Top3-pic is-top"+t+" "+(e.title?"king is-king"+e.title:""),__source:{fileName:u,lineNumber:12},__self:void 0},a.a.createElement(c.DyImg,{className:"SSR-Top3-dyImg",src:e.icon,defaultSrc:s.a,errorSrc:s.a,__source:{fileName:u,lineNumber:13},__self:void 0})),a.a.createElement("div",{className:"SSR-Top3-name",title:e.nickname,__source:{fileName:u,lineNumber:20},__self:void 0},e.nickname),a.a.createElement("div",{className:"SSR-Top3-time",__source:{fileName:u,lineNumber:21},__self:void 0},e.signInTime?l()(e.signInTime).format("HH:mm:ss"):""),a.a.createElement("div",{className:"SSR-Top3-prize",__source:{fileName:u,lineNumber:22},__self:void 0},e.multiple?"活跃值*"+e.multiple:""))}var r=i("1a22b7"),a=i.n(r),o=i("292183"),r=i("3c9879"),l=i.n(r),c=i("7912b6"),r=i("02317a"),s=i.n(r),u="/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/SpeedRankListDialog/components/Top3.js",r=function(e){e=e.data;return a.a.createElement("div",{className:"SSR-Top3-wrap",__source:{fileName:u,lineNumber:29},__self:void 0},e.map(function(e){return a.a.createElement(n,{key:"item"+e.rank,idx:e.rank,item:e,__source:{fileName:u,lineNumber:31},__self:void 0})}))};r.propTypes={data:o.array.isRequired},t.default=r},"4cb24f":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/icon_8fbd409.jpg"},"4d0103":function(e,t,i){e.exports=i("5f575e")("f6be1")},"4dce48":function(e,t,i){},"4de5d4":function(e,t,i){"use strict";i.d(t,"default",function(){return h});var a,o,l,n=i("1a22b7"),r=i.n(n),c=i("7ca7dc"),s=i("db47a7"),t=i("eb3e22"),n=i("e59e4e"),u=i("a8024b");function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function d(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var b,i=c.default.Service,h=(c=i(n.default),n=i(t.DataCenter.common),i=i(t.DataCenter.global),m(v,b=r.a.PureComponent),v.prototype.componentDidMount=function(){this.dServices.init()},v.prototype.render=function(){return r.a.createElement(u.default,{baseUrl:this.props.data.iconDefault,des:this.props.data.textDefault,leftColor:"#93C215",rightColor:"#107b24",onClick:this.handleClick,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/DotaAccompanyEnter/index.js",lineNumber:44},__self:this})},a=d((t=v).prototype,"dServices",[c],{enumerable:!0,initializer:null}),o=d(t.prototype,"common",[n],{enumerable:!0,initializer:null}),l=d(t.prototype,"global",[i],{enumerable:!0,initializer:null}),t);function v(){var e,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=i=p(this,b.call.apply(b,[this].concat(n))),f(i,"dServices",a,i),f(i,"common",o,i),f(i,"global",l,i),i.handleClick=function(){i.common.get("$DATA").subscribe(function(e){var t=e&&e.room||{},e=parseInt(t.cate2_id,10),t=i.global.get("$ROOM.room_id");Object(s.dysub2)({action_code:"10010023M",event_id:1,type:1,tid:e,r:t,ext:{_act_alias:"20200826dota2peiban"}})}),i.dServices.togglePanel()},p(i,e)}},"4df597":function(e,t,i){e.exports=i("2d6146")("8ea98")},"4e2fa0":function(e,t,i){"use strict";var r,n,a,o,l,c,s=i("97a1f0"),u=i("7ca7dc"),f=i("3c4b90"),u=u.default.Store;function p(){var e,t,i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),t="store",n=e=this,(i=r)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}s=Object(s.Injectable)("live.toolBarModule.ToolBarCommunicationService"),u=u(),s((p.prototype.oppositeStatus=function(){this.store.dispatch(f.default.oppositeStatus())},p.prototype.modifyPanelShow=function(e){this.store.dispatch(f.default.modifyPanelShow(e))},p.prototype.guessBottomPlaceholder=function(){this.store.dispatch(f.default.guessBottomPlaceholder())},p.prototype.receiveGuessGameIconShowTip=function(e){this.store.dispatch(f.default.receiveGuessGameIconShowTip(e))},p.prototype.sendGuessGameActive=function(){this.store.dispatch(f.default.sendGuessGameActive())},p.prototype.switchGuessGameActive=function(){this.store.dispatch(f.default.switchGuessGameActive())},n=(s=p).prototype,a="store",u=[u],o={enumerable:!0,initializer:null},c={},Object.keys(o).forEach(function(e){c[e]=o[e]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=u.slice().reverse().reduce(function(e,t){return t(n,a,e)||e},c),l&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(l):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(n,a,c),c=null),r=c,s))},"4e9996":function(e,t,i){},"4eb5d0":function(e,t,i){"use strict";t.default={formatDate:function(e,t){var i=t,n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};return/(y+)/.test(i)&&(i=i.replace(RegExp.$1,e.getFullYear().toString().substr(4-RegExp.$1.length))),Object.keys(n).forEach(function(e){new RegExp("("+e+")").test(i)&&(i=i.replace(RegExp.$1,1===RegExp.$1.length?n[e]:("00"+n[e]).substr((""+n[e]).length)))}),i},getDay:function(e){var t=void 0;return 0===e.getDay()&&(t="周日"),1===e.getDay()&&(t="周一"),2===e.getDay()&&(t="周二"),3===e.getDay()&&(t="周三"),4===e.getDay()&&(t="周四"),5===e.getDay()&&(t="周五"),t=6===e.getDay()?"周六":t}}},"4efc78":function(e,t,i){"use strict";var n,r,a,o,l=i("1a22b7"),c=i.n(l),s=i("7ca7dc"),u=i("eb3e22"),f=i("16358b"),l=i("de008c"),p=i("cf4c26"),m="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/ActConfigPay/ActConfigPay.js";function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var v,i=s.default.Service,l=(s=i(u.DataCenter.localStorage),u=i(u.DataCenter.common),f=i(f.default),i=i(l.default),b(_,v=c.a.Component),_.prototype.componentDidMount=function(){var t=this;this.getSwitchServices.getBusinessConfig({bid:"106981_2"}).subscribe(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};0==+e.error&&(e="string"==typeof(e=(("string"==typeof e.data?JSON.parse(e.data):{}).allRoom||{})["106981_2"]||{}).content?JSON.parse(e.content):{},t.setState({btnImgSrc:e.btn_img,btnClickAction:+e.btn_goto,btnLink:e.btn_url,popClickAction:+e.pop_goto,popImgSrc:e.pop_img,popLink:e.pop_url}))})},_.prototype.showPayDialog=function(){this.common.push("RoomShowIframePay")},_.prototype.triggerDialogStatus=function(){this.setState({isShowPayDialog:!this.state.isShowPayDialog})},_.prototype.renderBtnIcon=function(e){var t=e.btnImgSrc,i=e.btnClickAction,e=e.btnLink;return 1===i?c.a.createElement("a",{className:"ActConfigPay-entry",href:e,target:"_blank",style:{backgroundImage:"url("+t+")"},__source:{fileName:m,lineNumber:75},__self:this}):2===i?c.a.createElement("div",{className:"ActConfigPay-entry",style:{backgroundImage:"url("+t+")"},onClick:this.showPayDialog,__source:{fileName:m,lineNumber:85},__self:this}):c.a.createElement("div",{className:"ActConfigPay-entry",style:{backgroundImage:"url("+t+")"},onClick:this.triggerDialogStatus,__source:{fileName:m,lineNumber:93},__self:this})},_.prototype.render=function(){var e=this.state,t=e.btnImgSrc,i=e.btnClickAction,n=e.btnLink,r=e.popClickAction,a=e.popImgSrc,o=e.popLink,e=e.isShowPayDialog;return t?c.a.createElement("div",{className:"ActConfigPay",__source:{fileName:m,lineNumber:119},__self:this},this.renderBtnIcon({btnImgSrc:t,btnClickAction:i,btnLink:n}),e&&0===i&&a?c.a.createElement(p.default,{toggleEvent:this.triggerDialogStatus,data:{popClickAction:r,popImgSrc:a,popLink:o},__source:{fileName:m,lineNumber:123},__self:this}):null):null},n=h((l=_).prototype,"localStorage",[s],{enumerable:!0,initializer:null}),r=h(l.prototype,"common",[u],{enumerable:!0,initializer:null}),a=h(l.prototype,"commonToolbarService",[f],{enumerable:!0,initializer:null}),o=h(l.prototype,"getSwitchServices",[i],{enumerable:!0,initializer:null}),l);function _(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this,e));return d(e,"localStorage",n,e),d(e,"common",r,e),d(e,"commonToolbarService",a,e),d(e,"getSwitchServices",o,e),e.state={isShowPayDialog:!1,isInit:!1},e.showPayDialog=e.showPayDialog.bind(e),e.triggerDialogStatus=e.triggerDialogStatus.bind(e),e}t.default=l},"4f1c17":function(e,t,i){},502831:function(e,t,i){},503124:function(e,t,i){e.exports=i("5f575e")("817b8")},"5035b7":function(e,t,i){},"505efd":function(e,t,i){},"508b7b":function(e,t,i){},"514ed2":function(e,t,i){"use strict";var n,r,a=i("1a22b7"),o=i.n(a),l=i("104af8"),u=(i("4df597"),i("5264d4")),c=i("7ca7dc"),s=i("eb3e22"),f=i("97a1f0"),p=i("ffca33"),m=i("b12198"),a=i("a50154"),d=(i("6c6778"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/FansBadgeDiscountBanner/index.js");function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var _,i=c.default.Service,c=(c=Object(f.ErrorHandler)(o.a.createElement("div",{__source:{fileName:d,lineNumber:15},__self:void 0})),s=i(s.DataCenter.global),a=i(a.default),c((h(g,_=o.a.Component),g.prototype.componentWillReceiveProps=function(e){e.giftId&&e.giftId!==this.props.giftId&&this.updateGid$.next({giftId:e.giftId,giftName:e.giftName})},g.prototype.componentDidMount=function(){var c=this,s=+this.global.get("$ROOM.room_id");Object(u.combineLatest)(this.staticConf$,this.updateGid$,this.getServerTimeService.getAdjustTime()).subscribe(function(e){var t=e[0],i=e[1],a=e[2],o=i.giftId,l=i.giftName;t.some(function(e,t){var i=e||{},n=i.start,r=i.end,e=i.gid,i=i.room_ids,e=+e==+o,i=i.includes(s);return!!(e&&i&&n<=a&&a<=r)&&(c.setState({startDate:m.default.formatDate(new Date(1e3*n),"d日h时"),endDate:m.default.formatDate(new Date(1e3*r),"d日h时"),giftName:l}),!0)})||c.setState({startDate:"",endDate:"",giftName:""})});var e=this.props,t=e.giftId,e=e.giftName;t&&this.updateGid$.next({giftId:t,giftName:e})},g.prototype.render=function(){var e=this.state,t=e.startDate,i=e.endDate,e=e.giftName;return t&&i&&e?o.a.createElement("div",{className:"FansBadgeDiscountBanner",__source:{fileName:d,lineNumber:126},__self:this},t,"~",i,"，本房间赠送",o.a.createElement("span",{className:"FansBadgeDiscountBanner-lightTxt",__source:{fileName:d,lineNumber:128},__self:this},e),"礼物即可",o.a.createElement("span",{className:"FansBadgeDiscountBanner-lightTxt",__source:{fileName:d,lineNumber:129},__self:this},"获得粉丝牌")):null},n=v((c=g).prototype,"global",[s],{enumerable:!0,initializer:null}),r=v(c.prototype,"getServerTimeService",[a],{enumerable:!0,initializer:null}),c=c))||c);function g(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,_.call(this));return b(t,"global",n,t),b(t,"getServerTimeService",r,t),t.state={startDate:"",endDate:"",giftName:""},t.staticConf$=new l.Subject,t.updateGid$=new l.Subject,Object(p.default)({url:"//webconf.douyucdn.cn/resource/common/fans_badge_rebate/fans_badge_rebate_activity_w.json",type:"jsonp",callbackName:"fans_badge_rebate_activity_w"}).subscribe(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e&&!e.error&&Array.isArray(e.data)&&(e=e.data.map(function(e){return f.GSON.parse(e)})||[],t.staticConf$.next(e))}),t}t.default=c},"523ff7":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/site_84ba07c.png"},"5264d4":function(e,t,i){e.exports=i("5f575e")("7f810")},528016:function(e,t,i){e.exports=i("5f575e")("39485")},"52a244":function(e,t,i){"use strict";var n="1",r="2",a={},o="SHARK_STORAGE_OCCUPY_KEY";function l(e){var t=0<arguments.length&&void 0!==e?e:o;return!!a[t]||(a[t]=!0,window.localStorage.setItem(t,r),window.addEventListener("storage",function(e){e.key===t&&e.newValue!==r&&localStorage.setItem(t,r)}),!0)}var c,s,u=(s=regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a[t])return e.abrupt("return",!0);e.next=2;break;case 2:if(window.localStorage.getItem(t)!==r)return e.abrupt("return",l(t));e.next=4;break;case 4:return e.next=6,new Promise(function(e){window.localStorage.setItem(t,n),setTimeout(e,i)});case 6:if(window.localStorage.getItem(t)===r)return e.abrupt("return",!1);e.next=9;break;case 9:return e.abrupt("return",l(t));case 10:case"end":return e.stop()}},e,this)}),c=function(){var l=s.apply(this,arguments);return new Promise(function(a,o){return function t(e,i){try{var n=l[e](i),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});a(r)}("next")})},function(){return c.apply(this,arguments)});t.default=u},"52da0c":function(e,t,i){"use strict";var n,r,a=i("1a22b7"),o=i.n(a),l=i("eb3e22"),c=i("7ca7dc"),s=i("54992a"),u=i("16358b"),a=i("5592bd"),f=i("a8024b"),p=(i("b9237c"),"/shark/live/src/pages/roomPage/toolbarModule/components/LolRecordPanel/LolRecordPanel.js");function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function b(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var h,c=c.default.Service,v=i("1bedf8"),s=(a=c(a.default),l=c(l.DataCenter.localStorage),Object(s.log)((d(_,h=o.a.Component),_.prototype.componentWillUnmount=function(){clearTimeout(this.timer)},_.prototype.componentDidMount=function(){u.default.toolbarActivityShow("lolRecordPanel")},_.prototype.handleBtnClick=function(){this.lolRecordPanelService.toggleShowStatus()},_.prototype.displayTips=function(e){this.localStorage.set("lolRecordPanelTip",!0),clearTimeout(this.timer),this.setState({showTips:e})},_.prototype.render=function(){var e=this.state.showTips;return o.a.createElement("div",{className:"LolRecordPanel",__source:{fileName:p,lineNumber:72},__self:this},e?o.a.createElement("div",{className:"LolRecordPanel-tips",onMouseEnter:this.displayTips.bind(this,!1),__source:{fileName:p,lineNumber:74},__self:this}):null,o.a.createElement("div",{onMouseEnter:this.displayTips.bind(this,!0),onMouseOut:this.displayTips.bind(this,!1),__source:{fileName:p,lineNumber:76},__self:this},o.a.createElement(f.default,{baseUrl:v,des:"实时战绩",leftColor:"#78b8e6",rightColor:"#3369d5",onClick:this.handleBtnClick.bind(this),__source:{fileName:p,lineNumber:80},__self:this})))},n=b((s=_).prototype,"lolRecordPanelService",[a],{enumerable:!0,initializer:null}),r=b(s.prototype,"localStorage",[l],{enumerable:!0,initializer:null}),s=s))||s);function _(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,h.call(this,e));return m(t,"lolRecordPanelService",n,t),m(t,"localStorage",r,t),t.localStorage.get("lolRecordPanelTip")?t.state={showTips:!1}:(t.state={showTips:!0},t.timer=setTimeout(function(){t.displayTips(!1)},5e3)),t}t.default=s},"53a576":function(e,t,i){e.exports=i("5f575e")("0b11a")},"54992a":function(e,t,i){e.exports=i("d1db8c")("b3557")},"54a568":function(e,t,i){},554852:function(e,t,i){"use strict";var r,a,o,l,c,m=i("722b8a"),n=i("1a22b7"),g=i.n(n),s=i("447d8e"),u=i("7ca7dc"),d=i("97a1f0"),f=i("eb3e22"),p=i("fc7947"),b=i.n(p),y=i("f2b8b7"),h=i("e854a7"),v=i("9f0db1"),_=i("66802c"),N=i("c3e639"),w=(i("fae346"),i("05aedb")),O=i("91929a"),S=i("8f320e"),E=i("9175e3"),j=i("2f1875"),T=i("0f5fdd"),n=i("192724"),p=i("0fc7f7"),P=i("44a0ba"),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},C="/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/MainPanel/MainPanel.js";function k(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function R(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var A,x=h.default.socketStream,h=u.default.Service,u=u.default.Store,G="romanticDate",u=(T=h(T.default),n=h(n.default),p=h(p.default),h=h(f.DataCenter.global),f=u(),z(L,A=g.a.Component),L.prototype.listerMsg=function(){var t=this;this.successSubscription=x.subscribe("ro_date_user_batch",function(e){e&&+e.rid==+t.global.get("$ROOM.room_id")&&t.romanticSendGiftCallback(e)}),this.consumeSubscription=x.subscribe("stock",function(e){e=e.data;t.setState({act2StockInfo:e})})},L.prototype.romanticSendGiftCallback=function(e){var t,i=this;e&&(0<+e.sgnum?(this.romanticDateServices.romanticDysub("happyExposure"),this.setState({isConfirmShowModal:!1,isSuccessShowModal:!0,gotPropsInfo:Object.assign({},e)},function(){i.fetchDatas(!0)})):(e.extprops?this.setState({isConfirmShowModal:!1,isSuccessShowModal:!0,gotPropsInfo:Object.assign({},e)},function(){i.fetchDatas(!0)}):0<+e.fgnum?(t=1<e.fgnum?" × "+e.fgnum:"",m.default.info("恭喜获得道具"+e.fgnn+t+"，已发放至背包",1)):m.default.info("离告白成功更近一步了哟~继续加油！",1),this.setState({isConfirmShowModal:!1},function(){i.fetchDatas(!0)})))},L.prototype.cancelListerMsg=function(){this.successSubscription&&this.successSubscription.unsubscribe(),this.consumeSubscription&&this.consumeSubscription.unsubscribe()},L.prototype.unRegisterInterval=function(){null!=this.bottomTimeInterval&&(clearInterval(this.bottomTimeInterval),this.bottomTimeInterval=null)},L.prototype.componentDidMount=function(){this.romanticDateServices.romanticDysub("mainPanelExposure");var e=this.romanticDateServices.getBatchGuideFlag();this.listerMsg(),this.fetchDatas(),this.setState({batchGuideFlag:e});e=this.props.boxConfig;this.globalTreasureBoxServices.checkBoxOpen({btype:G,boxConfig:e})&&this.globalTreasureBoxServices.getBoxBaseData(G)},L.prototype.componentWillUnmount=function(){this.unRegisterInterval(),this.cancelListerMsg()},L.prototype.fetchDatas=function(i){var n=this,r=this.state.refresh;this.romanticDateServices.fetchPanelInfo(b.a.check()).subscribe(function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};0==+t.error&&t.data?(e={listData:n.orderList(t.data.list),giftId:t.data.giftId,luckyPropOpen:t.data.luckyPropOpen,luckyProp:t.data.luckyProp,act2StockInfo:t.data.act2,activityList:t.data.activityList,activityStatus:t.data.activityStatus,activityRemindTime:t.data.activityRemindTime},n.romanticDateServices.updateSwitchBtn(t.data.showScoreFactoryEntry||0),0==+t.data.showScoreFactoryEntry&&n.romanticDateServices.updateSwitchModel(0),i&&(e.refresh=!r),n.setState(e)):0!=+t.error&&m.default.error(t.msg,1)})},L.prototype.switchType=function(e){this.romanticDateServices.romanticDysub(1===e?"singleClick":"batchClick"),this.setState({sendGiftType:e})},L.prototype.getUrlWithRid=function(e){if(!e)return e;var t="rid="+this.global.get("$ROOM.room_id");return e+(-1<e.indexOf("?")?"&":"?")+t},L.prototype.renderGotProps=function(){var e=this.state,t=e.sendGiftType,i=e.gotPropsInfo,n=e.isSuccessShowModal,r=this.props.dataSource,a=i.sgnum,o=i.extprops,e=0<a;return g.a.createElement(S.default,{title:e?"恭喜告白成功！":"恭喜获得活动道具",visible:n,onCloseClick:this.onSuccessModalDialogCloseClick,wrapClassName:e&&o?"is-gotActprops":"",__source:{fileName:C,lineNumber:746},__self:this},g.a.createElement("div",{className:"RomanticDateDialog-text2",__source:{fileName:C,lineNumber:752},__self:this},e?g.a.createElement(g.a.Fragment,{__source:{fileName:C,lineNumber:755},__self:this},g.a.createElement("div",{className:"RomanticDateDialog-bottom--successImg",__source:{fileName:C,lineNumber:756},__self:this},g.a.createElement("img",{src:i.icon,__source:{fileName:C,lineNumber:757},__self:this})),g.a.createElement("div",{className:"RomanticDateDialog-bottom--successTxt",__source:{fileName:C,lineNumber:759},__self:this},o?"获得":g.a.createElement("p",{__source:{fileName:C,lineNumber:761},__self:this},"恭喜告白成功！获得"),g.a.createElement("span",{className:"RomanticDateDialog-bottom--higtLightSuccessTxt",__source:{fileName:C,lineNumber:763},__self:this},this.formatPropNum(i.sgnn,a)))):g.a.createElement(g.a.Fragment,{__source:{fileName:C,lineNumber:771},__self:this},g.a.createElement("div",{className:"RomanticDateDialog-extPropsTxt",__source:{fileName:C,lineNumber:772},__self:this},g.a.createElement("p",{__source:{fileName:C,lineNumber:773},__self:this},o),r.act2LinkUrl?g.a.createElement("a",{href:r.act2LinkUrl,target:"_blank",className:"RomanticDateDialog-link",__source:{fileName:C,lineNumber:775},__self:this},"去使用>"):null))),g.a.createElement("div",{className:"RomanticDateDialog-btngroup2",__source:{fileName:C,lineNumber:782},__self:this},g.a.createElement("div",{className:"RomanticDateDialog-btngroup2--b1",onClick:this.onSuccessModalDialogMoreClick,__source:{fileName:C,lineNumber:783},__self:this},"再告白",t,"次")),g.a.createElement("div",{className:"RomanticDateDialog-bottom",__source:{fileName:C,lineNumber:788},__self:this},"道具已发至您的背包"),e?this.getPropsBottom():null)},L.prototype.getPropsBottom=function(){var e=this.state.gotPropsInfo,t=this.props.dataSource,e=e.extprops;return e?g.a.createElement("div",{className:"RomanticDateDialog-extpropsInfo",__source:{fileName:C,lineNumber:807},__self:this},g.a.createElement("div",{className:"RomanticDateDialog-extpropsInfoDesc",__source:{fileName:C,lineNumber:808},__self:this},g.a.createElement("span",{className:"RomanticDateDialog-extpropsInfoLabel",__source:{fileName:C,lineNumber:809},__self:this},"活动"),"额外获得活动道具",g.a.createElement("span",{className:"RomanticDateDialog-extpropsBottomTxt",title:e,__source:{fileName:C,lineNumber:810},__self:this},e)),t.act2LinkUrl?g.a.createElement("a",{href:t.act2LinkUrl,target:"_blank",className:"RomanticDateDialog-extPropsGotoUse",__source:{fileName:C,lineNumber:813},__self:this},"去使用"):null):null},L.prototype.render=function(){var e=this.state,t=e.num,i=e.ycValue,n=e.refresh,r=e.isConfirmShowModal,a=e.showWarnFlag,o=e.sendGiftType,l=e.act2StockInfo,c=e.activityList,s=e.activityStatus,u=e.activityRemindTime,f=this.props,p=f.showSwitchModel,m=f.crystalRate,d=(this.props.dataSource||{}).actBanner,b=(d=void 0===d?{}:d).is_open,h=void 0===b?0:b,v=d.open_time,_=void 0===v?[]:v,e=d.web_banner_img,f=void 0===e?"":e,b=d.web_link_url,v=void 0===b?"":b,e=this.props,d=e.boxData,b=void 0===d?{}:d,d=e.boxConfig,e=void 0===d?{}:d,d=Date.parse(new Date)/1e3,d=1==+h&&d>=_[0]&&d<=_[1],_=this.globalTreasureBoxServices.checkBoxOpen({btype:G,boxConfig:e,needData:!0}),m={activityList:c,activityStatus:s,activityRemindTime:u,showSwitchModel:p,crystalRate:m,refresh:n,sendGiftType:o,onRomanticItemClick:this.onRomanticItemClick,mouseEnterResp:this.mouseEnterResp,mouseLeaveResp:this.mouseLeaveResp};return g.a.createElement("div",{__source:{fileName:C,lineNumber:866},__self:this},g.a.createElement("div",{className:"RomanticDatePanelModal-top",__source:{fileName:C,lineNumber:867},__self:this},d&&this.renderTopBanner(f,v),this.renderTopTitle(p),this.formHeadPanel(n)),g.a.createElement("div",{className:"RomanticDatePanelModal-middle "+(d?"RomanticDatePanelModal-middle--small":""),__source:{fileName:C,lineNumber:873},__self:this},g.a.createElement(y.Scrollbars,{style:{width:"100%",height:"100%"},ref:this.scrollbarsRef,renderTrackHorizontal:this.renderTrackHorizontal,__source:{fileName:C,lineNumber:874},__self:this},this.formMainPanel(n))),!p&&_?g.a.createElement(P.default,{boxConfig:e,boxData:b,type:"romanticDate",name:"幸福券",__source:{fileName:C,lineNumber:885},__self:this}):null,g.a.createElement(E.default,{act2StockInfo:l,bottomInfo:this.props.dataSource||{},__source:{fileName:C,lineNumber:888},__self:this}),g.a.createElement(S.default,{title:"提示",visible:r,onCloseClick:this.onModalDialogCloseClick,__source:{fileName:C,lineNumber:889},__self:this},g.a.createElement("div",{className:"RomanticDateDialog-text",__source:{fileName:C,lineNumber:894},__self:this},g.a.createElement("div",{className:"RomanticDateDialog-confirmDesc",__source:{fileName:C,lineNumber:895},__self:this},"是否确认花费"),g.a.createElement("div",{__source:{fileName:C,lineNumber:896},__self:this},t*o,"幸福券",g.a.createElement("span",{style:{color:"#FAA466"},__source:{fileName:C,lineNumber:898},__self:this},"（",this.formatDecimal(i*o),"鱼翅）"),"进行",1<o?o+"次":"","告白？")),g.a.createElement("div",{className:"RomanticDateDialog-btngroup",__source:{fileName:C,lineNumber:902},__self:this},g.a.createElement("div",{className:"RomanticDateDialog-btngroup--b1",onClick:this.sendGift,__source:{fileName:C,lineNumber:903},__self:this},"确认"),g.a.createElement("div",{className:"RomanticDateDialog-btngroup--b2",onClick:this.onModalDialogCloseClick,__source:{fileName:C,lineNumber:905},__self:this},"取消")),g.a.createElement("div",{className:"RomanticDateDialog-bottom",__source:{fileName:C,lineNumber:908},__self:this},g.a.createElement("div",{className:"RomanticDateDialog-bottom--check "+(a?"":"is-show"),onClick:this.onShowWarn,__source:{fileName:C,lineNumber:909},__self:this},"不再提示"))),this.renderGotProps(),g.a.createElement(j.default,D({},m,{__source:{fileName:C,lineNumber:915},__self:this})))},r=R((u=L).prototype,"romanticDateServices",[T],{enumerable:!0,initializer:null}),a=R(u.prototype,"globalTreasureBoxServices",[n],{enumerable:!0,initializer:null}),o=R(u.prototype,"crystalFactoryServices",[p],{enumerable:!0,initializer:null}),l=R(u.prototype,"global",[h],{enumerable:!0,initializer:null}),c=R(u.prototype,"store",[f],{enumerable:!0,initializer:null}),u);function L(){var e,p,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,L);for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=p=I(this,A.call.apply(A,[this].concat(i))),k(p,"romanticDateServices",r,p),k(p,"globalTreasureBoxServices",a,p),k(p,"crystalFactoryServices",o,p),k(p,"global",l,p),k(p,"store",c,p),p.panelOpened=!1,p.bottomTimeInterval=null,p.bottomTextIndex=0,p.currentTime=0,p.scrollbarsRef=g.a.createRef(),p.state={isConfirmShowModal:!1,isSuccessShowModal:!1,listData:[],ycValue:0,giftId:-1,luckyPropOpen:0,luckyProp:0,id:-1,num:0,scoreId:-1,targetId:0,gotPropsInfo:{gid:-1,gnn:"",gnum:0,rnum:0,icon:""},act2StockInfo:{stockType:"",startTime:0,endTime:0,name:"",stock:0},refresh:!1,showWarnFlag:!1,batchGuideFlag:!0,sendGiftType:1,activityList:[],activityStatus:0,activityRemindTime:0},p.openCrystal=function(e){p.crystalFactoryServices.toggleCrystalFactoryPanel({show:1,source:3,convert:e?1:0,guide:0})},p.onRomanticItemClick=function(e,t){var i;b.a.check()?(i=p.romanticDateServices.getSendActionFlag(),p.romanticDateServices.romanticDysub("extractClick"),i||t?p.setState({num:e.value,id:e.id,scoreId:e.scorepropid,targetId:e.site},function(){p.sendGift()}):(-1<(t=(e.value*e.ycValue/100).toFixed(1).toString()).indexOf(".0")&&(t=t.substring(0,t.indexOf(".0"))),p.setState({showWarnFlag:!1,isConfirmShowModal:!0,ycValue:+t,num:e.value,id:e.id,scoreId:e.scorepropid,targetId:e.site}))):b.a.show()},p.constructTipPanel=function(){var e=p.props,t=e.showSwitchModel,i=[],n=e.dataSource||{},e=n.heartIntroduction,n=n.scfaHeartIntroduction,e=t?n:e;return e?(e.forEach(function(e,t){0===t?i.push(g.a.createElement("div",{key:t,className:"LovedFrame-tipsContent--top",__source:{fileName:C,lineNumber:224},__self:s},e)):i.push(g.a.createElement("div",{key:t,className:"LovedFrame-tipsContent--item",__source:{fileName:C,lineNumber:228},__self:s},e))}),g.a.createElement("div",{className:"LovedFrame-tipsContent",__source:{fileName:C,lineNumber:233},__self:s},i)):null},p.mouseEnterResp=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p.scrollbarsRef,i=p.constructTipPanel(),e=e;p.romanticDateServices.romanticDysub("introduceExposure"),t&&t.current&&(e.top-=t.current.getScrollTop()),p.dynamicTip=i?_.default.showTip(i,e,240):null},p.mouseLeaveResp=function(){p.dynamicTip&&_.default.hideTip(p.dynamicTip)},p.formMainPanel=function(r){var a,o=[],e=p.state.listData,t=p.props,l=t.showSwitchModel,t=t.crystalRate,c=l?t/100:1;return e&&(a=null,e.forEach(function(e,t){var i,n;0<t&&(i=parseInt(t/3,10),t%3==1&&(a=[],o.push(g.a.createElement("div",{className:"RomanticDatePanelModal-middle--row",key:"row"+i,__source:{fileName:C,lineNumber:278},__self:s},a))),n=""+e.value*p.state.sendGiftType*c,a.push(g.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItem",key:"rowItem"+i+"-"+t%3,__source:{fileName:C,lineNumber:290},__self:s},g.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent",__source:{fileName:C,lineNumber:294},__self:s},g.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--left",__source:{fileName:C,lineNumber:295},__self:s},g.a.createElement(w.default,{style:{width:"48",height:"48",background:e.img,borderWidth:"2",borderColor:"#8914E3"},name:"礼品",__source:{fileName:C,lineNumber:296},__self:s})),g.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--right",__source:{fileName:C,lineNumber:307},__self:s},1===e.type&&g.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--right--top",__source:{fileName:C,lineNumber:309},__self:s},1<e.num?e.name+"×"+e.num:""+e.name),0===e.type&&g.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--right--top RomanticDatePanelModal-middle--rowItemContent--right--top2",__source:{fileName:C,lineNumber:314},__self:s},1<e.num?e.name+"×"+e.num:""+e.name),0===e.type&&g.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--right--item RomanticDatePanelModal-middle--rowItemContent--right--item2",__source:{fileName:C,lineNumber:319},__self:s},e.intimacy,"亲密度"),1===e.type&&g.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--right--item RomanticDatePanelModal-middle--rowItemContent--right--item3",__source:{fileName:C,lineNumber:325},__self:s},e.intimacy,"亲密度"),1===e.type&&g.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--right--item",style:{opacity:1,marginTop:"1px"},__source:{fileName:C,lineNumber:331},__self:s},g.a.createElement(v.default,{type:"1",refresh:r,percent:l?e.scfaProgressBar:e.progressBar,mouseEnterResp:p.mouseEnterResp,mouseLeaveResp:p.mouseLeaveResp,__source:{fileName:C,lineNumber:336},__self:s}))),e.cornerText?g.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemContent--corner",__source:{fileName:C,lineNumber:346},__self:s},e.cornerText):null),g.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemBottom",__source:{fileName:C,lineNumber:348},__self:s},g.a.createElement("div",{className:"RomanticDatePanelModal-middle--rowItemBottom--rowItemBottomBtn",onClick:function(){p.onRomanticItemClick(e,l)},__source:{fileName:C,lineNumber:349},__self:s},g.a.createElement("span",{className:"RomanticDatePanelModal-sendBtn "+(l?"is-smallcrystal":""),__source:{fileName:C,lineNumber:352},__self:s},n),"告白",p.state.sendGiftType,"次")))))})),o},p.openBoxPanel=function(){p.globalTreasureBoxServices.togglePanel(!0,G)},p.orderList=function(e){var t=e;return e&&(t=e.map(function(e){var t=e;100<t.progressBar&&(t.progressBar=100);e=(t.contValue/100).toFixed(1);return e.toString().endsWith(".0")&&(e=+e.toString().substring(0,e.toString().indexOf(".0"))),t.contValue=+e,t})).sort(function(e,t){return e.site-t.site}),t},p.sendGift=function(){var e,t,n,r,a,o,l,c,i=(new Date).getTime(),s=p.props,u=s.cateId,f=s.showSwitchModel;0===p.currentTime||50<=parseInt(i-p.currentTime,10)?(t=(e=p.state).id,n=e.giftId,r=e.num,a=e.targetId,s=e.scoreId,i=e.showWarnFlag,o=e.sendGiftType,i||p.romanticDateServices.saveSendAction(),p.currentTime=(new Date).getTime(),l=p.global.get("$ROOM.room_id"),p.romanticDateServices.dateCheck({rid:l,cateId:u,prizeId:c=f?s:t,batchNum:o,needGiftNum:r,clientType:0,clientVersion:0,switchVersion:1,scoreFactoryMode:f+1}).subscribe(function(e){var t,i;0===e.error?0==+(i=d.GSON.parse(e.data)||{}).scoreFactoryAction?(t={gift_id:n,gift_num:r,callback:function(){},errCallback:function(){},romantic_date:{second_batch:p.state.sendGiftType,prop_id:c||0}},p.romanticDateServices.sendGift(t)):(i=Object.assign({},i,{source:3,targetId:a,propId:c,batchNum:o,rid:l}),p.crystalFactoryServices.setCrystalTipData(i)):m.default.error(e.msg,1)})):m.default.info("您赠送礼物过于频繁！",1)},p.onShowWarn=function(){var e=p.state.showWarnFlag;p.setState({showWarnFlag:!e})},p.onModalDialogCloseClick=function(){p.setState({isConfirmShowModal:!1})},p.onSuccessModalDialogCloseClick=function(){p.setState({isSuccessShowModal:!1})},p.onSuccessModalDialogMoreClick=function(){p.setState({isSuccessShowModal:!1}),p.sendGift()},p.renderTrackHorizontal=function(){return g.a.createElement("div",{style:{display:"none"},__source:{fileName:C,lineNumber:566},__self:s})},p.onSuccessBatchGuideCloseClick=function(){p.romanticDateServices.setBatchGuideFlag(),p.setState({batchGuideFlag:!0})},p.renderTopTitle=function(e){var t=p.props,i=t.dataSource,i=void 0===i?{}:i,t=t.myScore;return g.a.createElement("div",{className:"RomanticDatePanelModal-top--title",__source:{fileName:C,lineNumber:594},__self:s},e?g.a.createElement(N.default,{myScore:t,openCrystal:p.openCrystal,__source:{fileName:C,lineNumber:595},__self:s}):g.a.createElement(g.a.Fragment,{__source:{fileName:C,lineNumber:595},__self:s},g.a.createElement("div",{className:"RomanticDatePanelModal-top--icon",__source:{fileName:C,lineNumber:595},__self:s}),g.a.createElement("div",{className:"RomanticDatePanelModal-top--introTxt",__source:{fileName:C,lineNumber:595},__self:s},i.giftIntroductionText)),g.a.createElement("div",{className:"RomanticDatePanelModal-top--sendTabs",__source:{fileName:C,lineNumber:596},__self:s},g.a.createElement("div",{className:"RomanticDatePanelModal-top--sendTab "+(1===p.state.sendGiftType?"is-active":""),onClick:function(){p.switchType(1)},__source:{fileName:C,lineNumber:597},__self:s},"告白1次"),g.a.createElement("div",{className:"RomanticDatePanelModal-top--sendTab "+(10===p.state.sendGiftType?"is-active":""),onClick:function(){p.switchType(10)},__source:{fileName:C,lineNumber:599},__self:s},"告白10次")))},p.renderTopBanner=function(e,t){var i=p.state,n=i.luckyPropOpen,r=i.luckyProp,i=p.getUrlWithRid(t);return t?g.a.createElement("a",{className:"RomanticDatePanelModal-top--banner",href:i,target:"_blank",style:{backgroundImage:"url("+e+")"},__source:{fileName:C,lineNumber:623},__self:s},1==+n&&g.a.createElement("span",{className:"RomanticDatePanelModal-top--text",__source:{fileName:C,lineNumber:624},__self:s},"我的小幸运： ",r)):g.a.createElement("div",{className:"RomanticDatePanelModal-top--banner",style:{backgroundImage:"url("+e+")"},__source:{fileName:C,lineNumber:626},__self:s},1==+n&&g.a.createElement("span",{className:"RomanticDatePanelModal-top--text",__source:{fileName:C,lineNumber:627},__self:s},"我的小幸运： ",r))},p.formHeadPanel=function(e){var t=p.state.listData,i=p.props,n=i.showSwitchModel,r=i.crystalRate,a=i.dataSource;if(t&&0<t.length){var o={width:"54%"},i={width:"84px"},l=t[0];0===l.type&&(o={width:"67%"},i={width:"250px"});r=""+l.value*p.state.sendGiftType*(n?r/100:1);return g.a.createElement("div",{className:"RomanticDatePanelModal-top--content",__source:{fileName:C,lineNumber:656},__self:s},g.a.createElement("div",{className:"RomanticDatePanelModal-top--left",style:o,__source:{fileName:C,lineNumber:657},__self:s},g.a.createElement("div",{className:"RomanticDatePanelModal-top--l1",__source:{fileName:C,lineNumber:658},__self:s},g.a.createElement(w.default,{style:{width:"61",height:"61",background:l.img,borderColor:"#EC36D5",borderWidth:2},name:"奖品",__source:{fileName:C,lineNumber:659},__self:s})),g.a.createElement("div",{className:"RomanticDatePanelModal-top--l2",__source:{fileName:C,lineNumber:670},__self:s},g.a.createElement("div",{className:"RomanticDatePanelModal-top--l2Top",style:i,__source:{fileName:C,lineNumber:671},__self:s},l.name,1<l.num?" × "+l.num:""),g.a.createElement("div",{className:"RomanticDatePanelModal-top--l2Bottom",__source:{fileName:C,lineNumber:674},__self:s},l.intimacy,"亲密度"))),1===l.type&&g.a.createElement("div",{className:"RomanticDatePanelModal-top--middle",__source:{fileName:C,lineNumber:678},__self:s},g.a.createElement("div",{className:"RomanticDatePanelModal-top--m1",__source:{fileName:C,lineNumber:679},__self:s},g.a.createElement(O.default,{name:"幸运值",percent:n?l.scfaProgressBar:l.progressBar,refresh:e,heartIntroduction:n?a.scfaHeartIntroduction:a.heartIntroduction,__source:{fileName:C,lineNumber:680},__self:s}))),g.a.createElement("div",{className:"RomanticDatePanelModal-top--right",__source:{fileName:C,lineNumber:693},__self:s},g.a.createElement("div",{className:"RomanticDatePanelModal-top--right--r1",onClick:function(){p.onRomanticItemClick(l,n)},__source:{fileName:C,lineNumber:694},__self:s},g.a.createElement("span",{className:"RomanticDatePanelModal-sendBtn "+(n?"is-crystal":"is-big"),__source:{fileName:C,lineNumber:697},__self:s},r),"告白",p.state.sendGiftType,"次")),l.cornerText?g.a.createElement("div",{className:"RomanticDatePanelModal-top--corner",__source:{fileName:C,lineNumber:701},__self:s},l.cornerText):null)}return null},p.formatDecimal=function(e){return Number.isNaN(e)?0:Math.round(10*e)/10},p.formatPropNum=function(e,t){return+t?1<t?e+" × "+t:e:null},I(p,e)}t.default=Object(s.connect)(function(e){var t=e.globalTreasureBox,i=(t=void 0===t?{}:t).boxConfig,n=t.boxData,r=e.romanticDateExtraData,t=(r=void 0===r?{}:r).showSwitchModel,r=e.crystalFactoryData,e=(r=void 0===r?{}:r).currentScore,r=r.crystalInitData;return{boxConfig:i,boxData:n,showSwitchModel:void 0===t?0:t,crystalRate:(void 0===r?{}:r).exchangeRateRomanticDate||0,myScore:e||0}})(u)},555639:function(e,t,i){e.exports=i("5f575e")("5ceb8")},"5592bd":function(e,t,i){e.exports=i("5f575e")("95a3f")},"55e860":function(e,t,i){e.exports=i("5f575e")("4fa3d")},"564e7b":function(e,t,i){e.exports=i("5f575e")("17a5b")},"56717d":function(e,t,i){"use strict";i=i("fa9a00");t.default=i.default},"56878a":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=i("292183"),n=i("3c9879"),o=i.n(n),l=i("7912b6"),c=i("e19de5"),n=i("02317a"),s=i.n(n),u="/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/SpeedRankListDialog/components/ListItem.js",n=function(e){var t=e.data,i=e.uid,e=e.isSelf;return r.a.createElement("div",{class:"SSR-ListItem "+(e?"isSelf":""),__source:{fileName:u,lineNumber:14},__self:void 0},r.a.createElement("div",{className:"SSR-ListItem-rank",__source:{fileName:u,lineNumber:15},__self:void 0},t.rank||"--"),e?r.a.createElement("div",{className:"SSR-ListItem-icon "+(1==+t.rank?"is-top1":""),__source:{fileName:u,lineNumber:19},__self:void 0},r.a.createElement(c.default,{uid:i,round:!0,__source:{fileName:u,lineNumber:20},__self:void 0})):r.a.createElement(l.DyImg,{className:"SSR-ListItem-icon "+(t.title?"king is-king"+t.title:""),src:t.icon,defaultSrc:s.a,errorSrc:s.a,__source:{fileName:u,lineNumber:24},__self:void 0}),r.a.createElement("div",{className:"SSR-ListItem-info",__source:{fileName:u,lineNumber:32},__self:void 0},r.a.createElement("span",{className:"SSR-ListItem-nickname "+(t.signInTime?"":"is-signal"),title:t.nickname,__source:{fileName:u,lineNumber:33},__self:void 0},t.nickname),t.signInTime?r.a.createElement("span",{className:"SSR-ListItem-time",__source:{fileName:u,lineNumber:41},__self:void 0},t.signInTime?o()(t.signInTime).format("HH:mm:ss"):""):null),e?null:r.a.createElement("div",{className:"SSR-ListItem-prize",__source:{fileName:u,lineNumber:48},__self:void 0},t.multiple?"活跃值*"+t.multiple:""))};n.defaultProps={uid:0,isSelf:!1},n.propTypes={data:a.object.isRequired,uid:a.number,isSelf:a.bool},t.default=n},569206:function(e,t,i){},"56b0a1":function(e,t,i){e.exports=i("5f575e")("4f738")},"586ce2":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=i("7b2499"),o="/shark/live/src/pages/roomPage/toolbarModule/business/rightArea/RedPacket/components/index.js";function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,i=(l(s,c=r.a.Component),s.prototype.render=function(){return r.a.createElement("div",{className:"RedPacket",__source:{fileName:o,lineNumber:7},__self:this},r.a.createElement(a.default,{__source:{fileName:o,lineNumber:8},__self:this}))},s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,c.apply(this,arguments))}t.default=i},"58c1c4":function(e,t,i){},"58cc8b":function(e,t,i){e.exports=i("5f575e")("b368d")},"58f744":function(e,t,i){"use strict";var n,r,a,o=i("1a22b7"),l=i.n(o),c=i("3b6ec9"),s=i.n(c),u=i("447d8e"),f=i("eb3e22"),p=i("7ca7dc"),m=i("20ec0b"),o=i("e6546b"),c=i("5b9730"),d=(i("2b2b75"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/GiftFaceDialog.js");function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var _,p=p.default.Service,o=(m=p(m.default),c=p(c.default),p=p(o.default),h(g,_=l.a.Component),g.prototype.clickClose=function(){this.giftService.updateFaceEffect({giftId:this.props.giftId,propInfo:this.props.propInfo,num:this.props.num,isShow:!1,checked:!this.props.checked,isProp:this.props.isProp})},g.prototype.clickChecked=function(){this.giftService.updateFaceEffect({giftId:this.props.giftId,propInfo:this.props.propInfo,num:this.props.num,isShow:this.props.isShow,checked:!this.props.checked,isProp:this.props.isProp})},g.prototype.clickSendGift=function(){this.props.checked&&f.DataCenter.localStorage.set("face-effect-noremind",1),this.giftService.updateFaceEffect({giftId:this.props.giftId,propInfo:this.props.propInfo,num:this.props.num,isShow:!1,checked:this.props.checked,isProp:this.props.isProp}),this.props.isProp?this.backpackService.sendPropWithOutCheck(this.props.propInfo):this.giftCommonService.sendGift(this.props.giftId,this.props.num)},g.prototype.render=function(){var e=this.props,t=e.isShow,e=e.checked;return t?s.a.createPortal(l.a.createElement("div",{className:"FaceEffect"+(t?" is-active":""),__source:{fileName:d,lineNumber:73},__self:this},l.a.createElement("div",{className:"FaceEffect-header",__source:{fileName:d,lineNumber:74},__self:this}),l.a.createElement("div",{className:"FaceEffect-close",onClick:this.clickClose,__source:{fileName:d,lineNumber:75},__self:this}),l.a.createElement("div",{className:"FaceEffect-dialog",__source:{fileName:d,lineNumber:76},__self:this},l.a.createElement("div",{className:"FaceEffect-content",__source:{fileName:d,lineNumber:77},__self:this},l.a.createElement("div",{className:"FaceEffect-txt1",__source:{fileName:d,lineNumber:78},__self:this},"使用非官方推流工具的直播间，无法匹配礼物脸部特效"),l.a.createElement("div",{className:"FaceEffect-txt2",__source:{fileName:d,lineNumber:79},__self:this},"特效不重要！我的爱依然浓烈~"),l.a.createElement("div",{className:"FaceEffect-bottom",__source:{fileName:d,lineNumber:80},__self:this},l.a.createElement("div",{className:"FaceEffect-remind",onClick:this.clickChecked,__source:{fileName:d,lineNumber:81},__self:this},l.a.createElement("div",{className:"FaceEffect-checkbox"+(e?"":" FaceEffect-nochecked"),__source:{fileName:d,lineNumber:84},__self:this}),l.a.createElement("div",{className:"FaceEffect-noremind",__source:{fileName:d,lineNumber:85},__self:this},"本次不再提示")),l.a.createElement("div",{className:"FaceEffect-send","data-gid":" + param.gid + ",onClick:this.clickSendGift,__source:{fileName:d,lineNumber:87},__self:this},"我要赠送礼物"))))),document.body):""},n=v((o=g).prototype,"giftCommonService",[m],{enumerable:!0,initializer:null}),r=v(o.prototype,"giftService",[c],{enumerable:!0,initializer:null}),a=v(o.prototype,"backpackService",[p],{enumerable:!0,initializer:null}),o);function g(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,_.call(this));return b(e,"giftCommonService",n,e),b(e,"giftService",r,e),b(e,"backpackService",a,e),e.clickClose=e.clickClose.bind(e),e.clickChecked=e.clickChecked.bind(e),e.clickSendGift=e.clickSendGift.bind(e),e}t.default=Object(u.connect)(function(e){return{giftId:e.giftData.faceEffectData.giftId,propInfo:e.giftData.faceEffectData.propInfo,num:e.giftData.faceEffectData.num,isShow:e.giftData.faceEffectData.isShow,checked:e.giftData.faceEffectData.checked,isProp:e.giftData.faceEffectData.isProp}})(o)},"59c141":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/wzrs-icon_4f2f0c2.png"},"5ab155":function(e,t,i){"use strict";var n=i("046c20"),r={list:[]};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case n.ADD_SEND_GIFT_DATA:var i=e.list,i=void 0===i?[]:i;return i.push(t.payload),{list:i};case n.CLEAR_SEND_GIFT_DATA:return{list:(e.list||[]).filter(function(e){return e.componentKey!==t.payload})};default:return e}}},"5b3fc8":function(e,t,i){"use strict";var a,n=i("1a22b7"),r=i.n(n),o=i("447d8e"),l=i("54992a"),n=i("7ca7dc"),c=(i("1ea797"),i("3f637f")),i=i("dee2e9"),s="/shark/live/src/pages/roomPage/toolbarModule/components/JifenComponent/ZhuboJifen/ZhuboJifen.js";function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var f,p,m,d,b,h,l=(i=(0,n.default.Service)(i.default),Object(l.log)((u(v,h=r.a.Component),v.prototype.componentDidMount=function(){var e=this.props.anchorJifenExchangeData;e&&e.length||this.jifenServices.anchorJifenExchangeData({page:1})},v.prototype.clickCloseBtn=function(){var e=this.props.isShowJifen;this.jifenServices.showJifenDialog(!e)},v.prototype.render=function(){var e=this.props,t=e.anchorJifenExchangeData,i=e.anchorJifenCurrentPage,e=e.anchorJifenTotal;return r.a.createElement("div",{className:"ZhuboJifen",__source:{fileName:s,lineNumber:38},__self:this},r.a.createElement(c.default,{data:t,currentPage:i,total:e,__source:{fileName:s,lineNumber:39},__self:this}),r.a.createElement("div",{className:"ZhuboJifen-closebtn",onClick:this.clickCloseBtn,__source:{fileName:s,lineNumber:43},__self:this},"×"))},f=(l=v).prototype,p="jifenServices",i=[i],m={enumerable:!0,initializer:null},b={},Object.keys(m).forEach(function(e){b[e]=m[e]}),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=i.slice().reverse().reduce(function(e,t){return t(f,p,e)||e},b),d&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(d):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(f,p,b),b=null),a=b,l=l))||l);function v(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,h.call(this,e));return i="jifenServices",n=t=r,(e=a)&&Object.defineProperty(t,i,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(n):void 0}),r.clickCloseBtn=r.clickCloseBtn.bind(r),r}t.default=Object(o.connect)(function(e){return{isShowJifen:e.showJifen,anchorJifenExchangeData:e.jifenAnchorReducers.anchorJifenExchangeData,anchorJifenCurrentPage:e.jifenAnchorReducers.anchorJifenCurrentPage,anchorJifenTotal:e.jifenAnchorReducers.anchorJifenTotal}})(l)},"5b9730":function(e,t,i){"use strict";var a,o,l,c,s,u,f,p,m,d,b,h,n=i("eeb07d"),r=i("8dd4e6"),v=i("f68984"),_=i("97a1f0"),g=i("456fdc"),y=i.n(g),N=i("97a851"),w=i.n(N),O=i("7ca7dc"),S=i("eb3e22"),E=i("54992a"),j=i("722b8a"),T=i("db47a7"),P=i("31031f"),D=i("aa59e7"),C=i("e854a7"),k=i("a58983"),I=i("20ec0b"),z=i("56b0a1"),R=i("0ae2e3"),A=i("ac64b0"),x=i("b66a4c"),G=i("fce537"),L=i("55e860"),M=i("e16fbf"),B=i("c95695"),F=i("f4be38"),g=i("6ce681"),U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function W(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function H(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var V,$=C.default.socketProxy,K=C.default.socketStream,N=O.default.Store,i=O.default.Service,q=w.a.decode,Z=new E.Logger,Q={formatDecimals:function(e,t){t=new RegExp("(\\.\\d{"+t+"})\\d*$"),t=String(e).replace(t,"$1");return this.formatDotZero(t)},formatDotZero:function(e){return String(e).replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")}},_=(C=N(),O=i(S.DataCenter.acj),w=i(S.DataCenter.global),E=i(S.DataCenter.common),N=i(S.DataCenter.localStorage),k=i(k.default),I=i(I.default),z=i(z.default),y=i(y.a),R=i(R.default),B=i(B.default),g=i(g.default),Y(X,V=_.Service),X.prototype.init=function(e){var t=this;this.config=Object.assign({},U({},e)),this.listenMsg(),this.getGiftListConfig(),this.eggGiftServices.init(),this.commonDataServices.getSilver().subscribe(function(e){e=e.data;t.silver=e}),this.rechargeInfo(),this.giftSendServices.isAnchor()||(this.listenSendYCSuccess(),this.getFudaiConfig()),this.onSuperFansSocket()},X.prototype.listenMsg=function(){var n=this;this.giftSendServices.listenAnchorScore().subscribe(function(e){n.store.dispatch(D.default.updateAnchorScoreState(!!e))}),this.giftDataServices.listenUserLevel().subscribe(function(e){n.store.dispatch(D.default.updateUserLevel(e))}),K.subscribe("gst",function(t){n.common.get("$DATA").subscribe(function(e){1!=+(e.get("room")||{}).nrt&&t.lst&&(e=q(t.lst).map(function(e){return q(e)}),n.updateGiftSendTimeList(e))})}),K.subscribe("dgb",function(t){var e=n.global.get("USER_INFO"),i=t.gpf,i=void 0===i?0:i;parseInt(t.uid,10)===parseInt(e.uid,10)&&0===parseInt(i,10)&&n.giftDataServices.getGiftItem(t.gfid).subscribe(function(e){e&&n.updateGiftSendTimeItem({id:t.gfid,time:+e.hitInterval||0})})}),this.acj.get(A.ROOM_TYPE.ROOM_BUS_PAGESCR).subscribe(function(e){e=(e||{}).flag;n.isFullScreen=!e}),this.listenFudaiMsg()},X.prototype.listenFudaiMsg=function(){var n=this;K.subscribe("fbgr201905",function(e){n.localStorage.get("fudai_hasShowFdReturnYw")||(n.store.dispatch(D.default.giftFdCommonAction({fdReturnYwModal:!0,fdReturnYwModalData:{ball:e.ball,pid:e.pid,pnum:+e.pnum}})),n.localStorage.set("fudai_hasShowFdReturnYw",1));var t=n.getFudaiGiftId(),i=n.getFudaiPropInfo(e.pid),i=i&&i.prop_name&&+e.pnum?"，"+e.pnum+"个"+i.prop_name:"",i="获得"+e.ball+"鱼丸"+i;n.checkHasJoinAct(),e&&0<e.ball&&n.commonDataServices.updateSilver({data:parseInt(n.silver,10)+parseInt(e.ball,10)});t=n.getGiftOffset(t);Object(G.default)(i,U({},t),"number");t=n.getFudaiTipsOffset();t&&Object(L.default)(i,U({},t),{type:"number",during:1500})})},X.prototype.checkHasJoinAct=function(){var e=this.store.getState().giftData,e=(void 0===e?{}:e).fdGiftConfig;(void 0===e?{}:e).isFdActOpen&&this.localStorage.set("actFdNotShow",1,1296e3)},X.prototype.getFudaiConfig=function(){var _=this;Object(n.forkJoin)(this.giftSendServices.getFudaiConfig()).pipe(Object(v.map)(function(e){return{config:e[0]||{}}})).subscribe(function(e){var t=e.config,i=t.gift_num,n=t.notice,r=t.return_num,a=t.guide_switch,o=t.prop_list,l=t.gift_float_open,c=t.web_pic_list,s=void 0===c?{}:c,u=t.gift_id,f=t.gift_notice,p=t.quiz_board_open,m=t.activity_start_time,d=void 0===m?0:m,e=t.activity_end_time,c=void 0===e?0:e,m=t.quiz_activity_pop_type,b=void 0===m?0:m,e=t.quiz_activity_start_time,m=void 0===e?0:e,e=t.quiz_activity_end_time,e=void 0===e?0:e,h=t.quiz_activity_web_pic,i={gId:u,multiple:r,giftNum:void 0===i?[]:i,guideSwitch:void 0===a?0:a,propList:void 0===o?[]:o,notice:void 0===n?[]:n,giftNotice:f,floatOpen:l,wapPic:s[1]||""},a=_.localStorage.get("actFdReward")||0,o=_.localStorage.get("actFdNotShow")||0,n=_.localStorage.get("actFdOneDayShow")||0,f=parseInt((new Date).getTime()/1e3,10),l=!1,v=m<=f&&f<=e?!0:!1;_.store.dispatch(D.default.giftFdCommonAction({fdGiftConfig:U({},i,{isFdActOpen:l=d<=f&&f<=c?!0:l})})),!l||a||o||n||_.store.dispatch(D.default.giftFdActPanel({url:s[2]||""})),_.giftDataServices.getGiftItem(u,!0).subscribe(function(e){e&&0<e.id?(_.store.dispatch(D.default.giftFdCommonAction({fdReturnYwExist:!0,fdReturnYwQuizOpen:+p,quizActPopType:b,quizActPic:h,isQuizActOpen:v})),v&&b&&(1!=+b||_.localStorage.get("actQuizDayShow")?2!=+b||_.localStorage.get("actQuizOnce")?3==+b&&_.guessIconServices.switchGuessGameActive(!0):(_.localStorage.set("actQuizOnce",1,1296e3),_.guessIconServices.switchGuessGameActive(!0)):(_.localStorage.set("actQuizDayShow",1,86400),_.guessIconServices.switchGuessGameActive(!0)))):v&&(_.store.dispatch(D.default.giftFdCommonAction({quizActPopType:b,quizActPic:h,isQuizActOpen:v})),b&&(1!=+b||_.localStorage.get("actQuizDayShow")?2==+b?(_.localStorage.set("actQuizOnce",1,1296e3),_.guessIconServices.switchGuessGameActive(!0)):3==+b&&_.guessIconServices.switchGuessGameActive(!0):(_.localStorage.set("actQuizDayShow",1,86400),_.guessIconServices.switchGuessGameActive(!0))))})})},X.prototype.getFudaiPropInfo=function(e){for(var t=this.store.getState().giftData,t=(void 0===t?{}:t).fdGiftConfig,t=(void 0===t?{}:t).propList,i=void 0===t?[]:t,n=0;n<i.length;n++)if(+i[n].prop_id==+e)return Object.assign({},i[n]);return{}},X.prototype.getFudaiGiftId=function(){var e=this.store.getState().giftData,e=(void 0===e?{}:e).fdGiftConfig;return+(void 0===e?{}:e).gId},X.prototype.getGiftOffset=function(e){e=x.default.find(".GiftItem[data-giftid='"+e+"']");return x.default.getPositionByRef(e)},X.prototype.getFudaiTipsOffset=function(){var e=x.default.find(".GuessReturnYwFd-tipsMount");return e?x.default.getPositionByRef(e):null},X.prototype.fudaiFirstSendSwitch=function(e){this.store.dispatch(D.default.giftFdCommonAction({fdReturnYwModal:e}))},X.prototype.getGiftListConfig=function(){var i=this;Object(n.forkJoin)(this.giftDataServices.getGiftData("LIST"),this.giftSendServices.getReturnYWSwitch()).pipe(Object(v.map)(function(e){var t=e[0],e=e[1],e=void 0===e?{}:e,t=(void 0===t?[]:t)||[],e=e&&0==+e.error&&1==+e.show_switch;return i.global.set("$GIFT_ALL_CONFIG",t),{giftListConfig:t,returnYWSwitch:e}})).subscribe(function(e){var t=e.giftListConfig,e={allGift:t,returnYWSwitch:e.returnYWSwitch,loaded:!0};Z.info("礼物配置信息: ",t),i.store.dispatch(D.default.initGiftSkinList({giftList:t})),i.store.dispatch(D.default.receiveAllGiftConfig(e))})},X.prototype.showGiftInfoPanel=function(e){this.keepGiftInfoPanel(),this.store.dispatch(D.default.showGiftInfoPanel(U({},e,{giftInfoPanelVisible:!0})))},X.prototype.hideGiftInfoPanel=function(){var e=this;this.hideGiftInfoPanelTimer=setTimeout(function(){e.store.dispatch(D.default.hideGiftInfoPanel({giftInfoPanelVisible:!1}))},200)},X.prototype.keepGiftInfoPanel=function(){clearTimeout(this.hideGiftInfoPanelTimer)},X.prototype.showYWLowPop=function(){var e=this.store.getState().giftData;e&&e.showYWLowInfo?this.store.dispatch(D.default.remindYWLowCallback(e.showYWLowInfo)):this.remindYWLow()},X.prototype.listenSendYCSuccess=function(){var n=this;this.giftSendServices.giftSendCallbackFlow.subscribe(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.priceType,i=e.sb;switch(n.showGiftSendTips(e),n.sendGiftDgbMsg(e),t){case 1:n.commonDataServices.updateSilver({data:parseInt(i,10)}),n.sendGiftSuccessDp(e,2);break;case 2:0<e.ry&&n.commonDataServices.updateSilver({data:parseInt(n.silver,10)+parseInt(e.ry,10)}),n.commonDataServices.updateTotalGold({data:parseInt(i,10)}),n.sendGiftSuccessDp(e,1)}})},X.prototype.sendGiftDgbMsg=function(e){!e||(e=(void 0===(e=e.messages)?[]:e).filter(function(e){e=e?q(e):{};return"dgb"===e.type||"bgd"===e.type})).length&&e.map(function(e){return $.onMessage(e)})},X.prototype.showGiftSendTips=function(e){var o=this,l=e.gid,e=e.num,c=void 0===e?1:e;Object(n.forkJoin)(this.giftDataServices.getGiftItem(l),this.turntableLotteryServices.getConfigsFlow()).subscribe(function(e){var t,i=e[0],n=e[1],r=void 0===n?{}:n,a=x.default.find(".GiftItem[data-giftid='"+l+"']");i&&a&&(e=(void 0===(t=i.priceInfo)?{}:t).returnNum,n=x.default.getPositionByRef(a),t=void 0===(i=r.is_open_v2)?0:i,a=r.gift_id,r=void 0===(i=r.gift_rebate_coupon)?1:i,i=o.turntableLotteryServices.getExtName(),0<t&&parseInt(a,10)===l?(a="turntableGetTicketTip",S.DataCenter.localStorage.get(a)&&Object(G.default)("赠送成功，"+i.name_f2+"券+"+r*c,U({},n),"number")):0<e?o.getFudaiGiftId()!==+l&&Object(G.default)(e*c+"鱼丸",U({},n),"number"):o.getFudaiGiftId()!==+l&&Object(G.default)("赠送成功",U({},n)))})},X.prototype.sendGiftSuccessDp=function(t,i){var n=this;this.giftDataServices.getGiftItem(t.gid).subscribe(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).priceInfo,e=(void 0===e?{}:e).price;1===i?n.giftDYSub("show_gift_sendsucc",{gfid:t.gid,yc:e||"",src_type:n.isFullScreen?2:1}):2===i&&n.giftDYSub("show_gift_sendsucc",{gfid:t.gfid,yw:e||"",src_type:n.isFullScreen?2:1})})},X.prototype.sendGiftFailDp=function(i){var n=this;this.giftDataServices.getGiftItem(i.gfid).subscribe(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).priceInfo,t=void 0===e?{}:e,e=t.price,t=t.priceType;"YUCHI"===t?n.giftDYSub("show_gift_sendfail",{gfid:i.gfid,yc:e||""}):"YUWAN"===t&&n.giftDYSub("show_gift_sendfail",{gfid:i.gfid,yw:e||""})})},X.prototype.remindYWLow=function(){var t=this;this.signService.getSignData("30013").then(function(e){t.store.dispatch(D.default.remindYWLowCallback(e||{}))}).catch(function(){t.store.dispatch(D.default.remindYWLowCallback({}))})},X.prototype.closeYWLow=function(e){this.store.dispatch(D.default.closeYWLow(e))},X.prototype.hitCountdown=function(e){this.store.dispatch(D.default.hitCountdown(e))},X.prototype.updateFaceEffect=function(e){this.store.dispatch(D.default.updateFaceEffect(e))},X.prototype.getYcLowOrder=function(e){this.store.dispatch(D.default.getYcLowOrder(e))},X.prototype.storeLastGiftInfo=function(e){this.store.dispatch(D.default.storeLastGift(e))},X.prototype.rechargeInfo=function(){var t=this;K.subscribe("rechargenotify",function(e){t.store.dispatch(D.default.rechargeInfo(e)),t.store.dispatch(D.default.setVisible(!0)),t.store.dispatch(D.default.setRechargeVisible(!1)),t.commonDataServices.updateTotalGold({data:Q.formatDecimals(+e.bl,2)})})},X.prototype.closeRechargeModal=function(){this.store.dispatch(D.default.setVisible(!1))},X.prototype.giftDYSub=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Object(T.dysub)(e,U({},t))},X.prototype.returnScreenFullState=function(){return this.isFullScreen},X.prototype.updateGiftSendTimeItem=function(e){var t=e||{},i=t.id,e=t.time,t=(new Date).getTime();this.giftBatterTimes=this.giftBatterTimes||{},this.giftBatterTimes[i]={id:i,time:e,endTimes:t+e},this.giftBatterTimesLoop()},X.prototype.updateGiftSendTimeList=function(e){var t=this;return!e||e.length<=0||e.forEach(function(e){e&&1!=+e.gt&&t.updateGiftSendTimeItem({id:e.gid,time:1e3*e.st})}),this.giftBatterTimes},X.prototype.checkPropTimes=function(){var t=this,i=(new Date).getTime();if(!this.giftBatterTimes||Object.keys(this.giftBatterTimes).length<=0)return!1;var n={};Object.keys(this.giftBatterTimes).forEach(function(e){t.giftBatterTimes[e]&&t.giftBatterTimes[e].endTimes>i&&(n[e]=t.giftBatterTimes[e])});var e=Object.keys(this.giftBatterTimes).length>Object.keys(n).length;return this.giftBatterTimes=n,0<Object.keys(n).length||e},X.prototype.giftBatterTimesLoop=function(){var e=this;if(this.timeListen)return this.timeListen;var t=Object(r.timer)(0,3e3);return this.timeListen=t.subscribe(function(){e.checkPropTimes()?"function"==typeof e.config.updateCallback&&e.config.updateCallback():(e.timeListen.unsubscribe(),e.timeListen=null)}),this.timeListen},X.prototype.returnGiftBatterTime=function(){return this.giftBatterTimes||{}},X.prototype.getBrowserUrlParam=function(e){e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),e=window.location.search.substr(1).match(e);return null!==e?decodeURI(e[2]):null},X.prototype.tencentGameGiftCheck=function(e){var t=e.room_id,i=void 0===t?"":t,t=e.show_status,n=void 0===t?0:t,t=e.cfmGiftList,r=void 0===t?[]:t,e=e.isPubgmRoom,a=void 0===e?0:e;return function(e,t){1!=+n||"cfm"===e&&r.indexOf(t)<0||"pubgm"===e&&!a||S.httpClient.post(M.default,"/special/tencentieg/"+{cfm:"hasCfmGameEffect",pubgm:"getPubgmGameEffect"}[e],{gift_id:t,room_id:i},{headers:{"content-type":"application/x-www-form-urlencoded"}}).subscribe(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.error,e=e.data,e=void 0===e?{}:e;0==+t&&e.effectTip&&j.default.info(e.effectTip)})}},X.prototype.toggleGiftActEnter=function(e){this.store.dispatch(D.default.toggleGiftActEnter(e))},X.prototype.sendYzMakeFriendData=function(e){this.store.dispatch(D.default.sendYzMakeFriendData(e))},X.prototype.sendGBFPData=function(e){this.store.dispatch(D.default.sendGBFPData(e))},X.prototype.clearBatterTime=function(){var t=this,i=(new Date).getTime();this.giftBatterTimes?Object.keys(this.giftBatterTimes).forEach(function(e){t.giftBatterTimes[e]&&t.giftBatterTimes[e].endTimes&&(t.giftBatterTimes[e].endTimes=i)}):this.giftBatterTimes={}},X.prototype.getMaskBgType=function(e){var t=0;switch(e){case"ORANGE":t=1;break;case"BLUE":t=2;break;case"PURPLE":t=3}return t},X.prototype.onSuperFansSocket=function(){var i=this;K.subscribe("actfstaw",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.aw1/100||0,e=e.aw2/100||0;(t||e)&&i.store.dispatch(F.default.showGiftBarBubble({isShow:!0,buffRate:e||t,isSuperBuff:e?1:0}))})},X.prototype.sendBjAudioData=function(e){this.store.dispatch(D.default.sendBjAudioData(e))},a=H((_=X).prototype,"store",[C],{enumerable:!0,initializer:null}),o=H(_.prototype,"acj",[O],{enumerable:!0,initializer:null}),l=H(_.prototype,"global",[w],{enumerable:!0,initializer:null}),c=H(_.prototype,"common",[E],{enumerable:!0,initializer:null}),s=H(_.prototype,"localStorage",[N],{enumerable:!0,initializer:null}),u=H(_.prototype,"commonDataServices",[k],{enumerable:!0,initializer:null}),f=H(_.prototype,"giftSendServices",[I],{enumerable:!0,initializer:null}),p=H(_.prototype,"giftDataServices",[z],{enumerable:!0,initializer:null}),m=H(_.prototype,"signService",[y],{enumerable:!0,initializer:null}),d=H(_.prototype,"turntableLotteryServices",[R],{enumerable:!0,initializer:null}),b=H(_.prototype,"guessIconServices",[B],{enumerable:!0,initializer:null}),h=H(_.prototype,"eggGiftServices",[g],{enumerable:!0,initializer:null}),_);function X(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,X);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=J(this,V.call.apply(V,[this].concat(n))),W(t,"store",a,t),W(t,"acj",o,t),W(t,"global",l,t),W(t,"common",c,t),W(t,"localStorage",s,t),W(t,"commonDataServices",u,t),W(t,"giftSendServices",f,t),W(t,"giftDataServices",p,t),W(t,"signService",m,t),W(t,"turntableLotteryServices",d,t),W(t,"guessIconServices",b,t),W(t,"eggGiftServices",h,t),t.isFullScreen=!0,t.giftBatterTimes={},t.hideGiftInfoPanelTimer=null,t.timerId=null,t.silver=0,t.batchGiveSelectInfo$=new P.ReplaySubject(1),J(t,e)}t.default=_},"5c04ad":function(e,t,i){e.exports=i("5f575e")("95938")},"5d98c6":function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),a=i("54992a"),o=i("eb3e22"),n=i("7ca7dc"),l=i("ed7240"),c="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/FudaiGift/FudaiFirstSend.js";function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var p,m,d,b,h,v,a=(o=(0,n.default.Service)(o.DataCenter.localStorage),Object(a.log)((f(_,v=r.a.Component),_.prototype.render=function(){var e=this.props.item,t=e.ball,i=e.pName,n=e.pnum,e=e.pImg;return t?r.a.createElement(l.default,{className:"FudaiGiftModal",visible:this.props.showModalStatus,footer:null,closable:!1,mask:!1,maskClosable:!1,width:460,onCancel:this.props.shutModal,center:!0,bodyStyle:{position:"fixed"},__source:{fileName:c,lineNumber:23},__self:this},r.a.createElement("div",{className:"FudaiGiftModal-in",__source:{fileName:c,lineNumber:35},__self:this},r.a.createElement("div",{className:"FudaiGiftModal-close",onClick:this.props.shutModal,__source:{fileName:c,lineNumber:36},__self:this}),r.a.createElement("div",{className:"FudaiGiftModal-title",__source:{fileName:c,lineNumber:37},__self:this},"恭喜您获得："),r.a.createElement("div",{className:"FudaiGiftModal-subtitle",__source:{fileName:c,lineNumber:38},__self:this},"送福袋返礼包，送的越多，鱼丸道具越多！ "),r.a.createElement("div",{__source:{fileName:c,lineNumber:39},__self:this},r.a.createElement("div",{className:"FudaiGiftModal-contentBox",__source:{fileName:c,lineNumber:40},__self:this},r.a.createElement("div",{className:"FudaiGiftModal-img is-yw",__source:{fileName:c,lineNumber:41},__self:this}),r.a.createElement("div",{className:"name FudaiGiftModal--ell",__source:{fileName:c,lineNumber:42},__self:this},"鱼丸"),r.a.createElement("div",{className:"num FudaiGiftModal--ell",__source:{fileName:c,lineNumber:43},__self:this},"x",t)),n&&i?r.a.createElement("div",{className:"FudaiGiftModal-contentBox",__source:{fileName:c,lineNumber:47},__self:this},r.a.createElement("div",{className:"FudaiGiftModal-img",__source:{fileName:c,lineNumber:48},__self:this},r.a.createElement("img",{className:"DrawLotteryConditionBox-giftImg",src:e,__source:{fileName:c,lineNumber:49},__self:this})),r.a.createElement("div",{className:"name FudaiGiftModal--ell",__source:{fileName:c,lineNumber:51},__self:this},i),r.a.createElement("div",{className:"num FudaiGiftModal--ell",__source:{fileName:c,lineNumber:52},__self:this},"x",n)):null),r.a.createElement("div",{className:"FudaiGiftModal-btn",onClick:this.props.shutModal,__source:{fileName:c,lineNumber:57},__self:this},"美滋滋"),r.a.createElement("div",{className:"FudaiGiftModal-bottomtitle",__source:{fileName:c,lineNumber:58},__self:this},"鱼丸到账会有延迟，请刷新网页更新余额"))):null},p=(a=_).prototype,m="localStorage",o=[o],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=o.slice().reverse().reduce(function(e,t){return t(p,m,e)||e},h),b&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(p,m,h),h=null),s=h,a=a))||a);function _(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,v.call.apply(v,[this].concat(l))),n="localStorage",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),u(t,e)}t.default=a},"5e23f8":function(e,t,i){},"5e7e43":function(e,t,i){"use strict";var a,o,l,c,s,u,n=i("97a1f0"),r=i("eb3e22"),f=i("7ca7dc"),p=i("eeb07d"),m=i("ffca33"),d=i("e854a7"),b=i("16358b"),h=i("20ec0b"),v=i("ba7664"),_=i("564e7b"),g=i("c9618f"),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function N(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function S(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var E,j=f.default.Store,i=f.default.Service,T=d.default.socketStream,j=(f=i(r.DataCenter.common),d=i(r.DataCenter.localStorage),v=i(v.default),h=i(h.default),i=i(_.default),_=j(),O(P,E=n.Service),P.prototype.getStore=function(e){return this.store.getState()[e]},P.prototype.getDataType=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},P.prototype.init=function(){this.isInit||(this.isInit=!0,this.getAppConfig())},P.prototype.updateReducer=function(e){e&&this.store.dispatch(g.SuperWarShipIconActions.updateData(y({},e)))},P.prototype.togglePanel=function(){this.superWarShipServices.togglePanel()},P.prototype.listenPush=function(){var t=this;T.subscribe("sc_value",function(e){return t.socketMsgDispatch(e)})},P.prototype.socketMsgDispatch=function(e){var t=Object.assign({},y({},e)),e=(this.activeConfig||{}).super_yw_web_show_rate;"sc_value"===t.type&&+t.sv>=(void 0===e?0:e)&&(this.updateReducer({fuelData:{p_rate:+t.sv||0,value:+t.val||0,target_value:+t.tval||0}}),this.showStartTips())},P.prototype.showStartTips=function(){var e;e="SUPERWARSHIP_START_TIPS",r.DataCenter.localStorage.get(e)||this.startTips()},P.prototype.startTips=function(){var e,t,i,n=this;this.updateReducer({startTips:!0}),e="SUPERWARSHIP_START_TIPS",t=1,i=600,r.DataCenter.localStorage.set(e,t,i),clearTimeout(this.startTipsTimer),this.startTipsTimer=setTimeout(function(){n.updateReducer({startTips:!1})},5e3)},P.prototype.getFuelValue=function(){var i=this,e=this.roomConfig.room_id;Object(m.default)({type:"get",url:"/lapi/interact/superYw/getFuelValue",data:{rid:e},cacheTimeout:5e3}).subscribe(function(e){var t=e||{};0==+t.error&&t.data&&(e=void 0,e="string"===i.getDataType(t.data)?n.GSON.parse(t.data):t.data,i.updateReducer({fuelData:e}))})},P.prototype.configFlow=function(){return r.jsonpClient.get(String,"//webconf.douyucdn.cn//resource/common/interact/fish_ball_gift_w.json","fishballgift")},P.prototype.getAppConfig=function(){var i=this;Object(p.forkJoin)(this.configFlow(),this.giftSendServices.getRoomData()).subscribe(function(e){var t=e[0],t=void 0===t?{}:t,e=e[1],e=void 0===e?{}:e;i.activeConfig=t.data?n.GSON.parse(t.data):{},i.roomConfig=e.room||{},i.activeConfig.super_yw_open&&i.checkIsOpen(i.activeConfig,i.roomConfig)&&(b.default.toolbarActivityShow("superWarShip"),i.listenPush(),i.updateReducer({isOpen:!0,config:i.activeConfig}))})},P.prototype.checkIsOpen=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.activeConfig,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.roomConfig;if(!e||!t)return!1;t.cate1_id;var i=t.cate_id,n=t.room_id,t=e.super_yw_black_rids,t=void 0===t?[]:t,e=e.super_yw_black_cids,e=void 0===e?[]:e;return this.roomid=n,!t.filter(function(e){return parseInt(e,10)===parseInt(n,10)}).length&&!e.filter(function(e){return parseInt(e,10)===parseInt(i,10)}).length},P.prototype.dysub2=function(e){this.publicToolsServices.dysub2(e)},a=S((j=P).prototype,"common",[f],{enumerable:!0,initializer:null}),o=S(j.prototype,"localStorage",[d],{enumerable:!0,initializer:null}),l=S(j.prototype,"superWarShipServices",[v],{enumerable:!0,initializer:null}),c=S(j.prototype,"giftSendServices",[h],{enumerable:!0,initializer:null}),s=S(j.prototype,"publicToolsServices",[i],{enumerable:!0,initializer:null}),u=S(j.prototype,"store",[_],{enumerable:!0,initializer:null}),j);function P(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,P);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=w(this,E.call.apply(E,[this].concat(n))),N(t,"common",a,t),N(t,"localStorage",o,t),N(t,"superWarShipServices",l,t),N(t,"giftSendServices",c,t),N(t,"publicToolsServices",s,t),N(t,"store",u,t),t.isInit=!1,t.activeConfig=null,t.roomConfig=null,t.startTipsTimer=null,w(t,e)}t.default=j},"5e8a18":function(e,t,i){"use strict";i=i("e389ca");t.default=i.default},"5f2f91":function(e,t,i){},"5f575e":function(e,t){e.exports=_room_common_},"60c3c8":function(e,t,i){"use strict";i=i("ea9b63");t.default=i.default},"60e43e":function(e,t,i){"use strict";i.d(t,"default",function(){return v});var n,r,a=i("1a22b7"),o=i.n(a),l=i("7ca7dc"),c=i("eb3e22"),t=i("54992a"),s=i("db47a7"),u=i("16358b"),a=i("136f27"),f=i("a8024b");function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function d(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}i("f34091");var b,l=l.default.Service,h=i("c3b49b"),v=(a=l(a.default),c=l(c.DataCenter.global),Object(t.log)((m(_,b=o.a.PureComponent),_.prototype.componentDidMount=function(){u.default.toolbarActivityShow("HPJYRealTimeData"),this.dyDot("13090052A003",3)},_.prototype.dyDot=function(e,t){Object(s.dysub2)({action_code:e,event_id:t,type:1,ext:{roomId:this.roomId}})},_.prototype.render=function(){return o.a.createElement(f.default,{baseUrl:h,des:"实时战绩",leftColor:"#eb8619",rightColor:"#ed620f",onClick:this.handleBtnClick,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/HPJYRealTimeDataIcon/HPJYRealTimeDataIcon.js",lineNumber:59},__self:this})},n=d((t=_).prototype,"hpjyRealTimeDataService",[a],{enumerable:!0,initializer:null}),r=d(t.prototype,"global",[c],{enumerable:!0,initializer:null}),t=t))||t);function _(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,b.call(this,e));return p(t,"hpjyRealTimeDataService",n,t),p(t,"global",r,t),t.handleBtnClick=function(){t.hpjyRealTimeDataService.toggleVisible()},t.roomId=t.global.get("$ROOM.room_id"),t}},620522:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"SHOW_GAME_WIN",function(){return a}),i.d(t,"HIDE_GAME_WIN",function(){return o}),i.d(t,"GET_GAME_INFO",function(){return l}),i.d(t,"GET_ANCHOR_LIST",function(){return c}),i.d(t,"GET_PRIZE_STATUS",function(){return s}),i.d(t,"RECEIVE_GAME_INFO",function(){return u}),i.d(t,"ANCHOR_SUBSCRIBE",function(){return f}),i.d(t,"GET_PRIZE",function(){return p}),i.d(t,"CHECK_ACCOUNT_STATUS",function(){return m}),i.d(t,"TAKE_PRIZE",function(){return d}),i.d(t,"BIND_BEFORE_CHECK",function(){return b});var r,a="SHOW_GAME_WIN",o="HIDE_GAME_WIN",l="GET_GAME_INFO",c="GET_ANCHOR_LIST",s="GET_PRIZE_STATUS",u="RECEIVE_GAME_INFO",f="ANCHOR_SUBSCRIBE",p="GET_PRIZE",m="CHECK_ACCOUNT_STATUS",d="TAKE_PRIZE",b="BIND_BEFORE_CHECK",i=(n(h,r=i("97a1f0").Action),h.showGameWin=function(){return{type:a}},h.hideGameWin=function(){return{type:o}},h.getGameInfo=function(e){return{type:l,payload:e}},h.getAnchorList=function(e){return{type:c,payload:e}},h.getPrizeStatus=function(e){return{type:s,payload:e}},h.receiveGameInfo=function(e){return{type:u,payload:e}},h.anchorSubscribe=function(e){return{type:f,payload:e}},h.getPrize=function(e){return{type:p,payload:e}},h.showPrizeDialog=function(e){return{type:"SHOW_PRIZE_DIALOG",payload:e}},h.showMessageDialog=function(e){return{type:"SHOW_MESSAGE_DIALOG",payload:e}},h.checkAccountStatus=function(e){return{type:m,payload:e}},h.initUlink=function(e){return{type:"INIT_ULINK",payload:e}},h.doNothing=function(){return{type:"DO_NOTHING"}},h.takePrize=function(e){return{type:d,payload:e}},h.bindBeforeCheck=function(e){return{type:b,payload:e}},h);function h(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}t.default=i},"62c963":function(e,t,i){"use strict";var s,n=i("722b8a"),r=i("1a22b7"),a=i.n(r),o=i("7ca7dc"),l=(i("187f28"),i("c14657")),r=i("0f5fdd"),c=i("4eb5d0"),u="/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/RecordPanel/RecordPanel.js";function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var m,d,b,h,v,_,r=(o=(0,o.default.Service)(r.default),p(g,_=a.a.Component),g.prototype.componentDidMount=function(){this.romanticDateServices.romanticDysub("recordExposure"),this.initColumns(),this.fetchDatas(1)},g.prototype.initColumns=function(){this.setState({columns:[{title:"告白道具",dataIndex:"name",align:"left",width:"17%"},{title:"告白类型",dataIndex:"givenGift",align:"left",width:"20%"},{title:"赠送主播",dataIndex:"anchorName",align:"left",width:"20%"},{title:"获得道具",dataIndex:"gainName",align:"left",width:"20%"},{title:"时间",dataIndex:"createTime",align:"left",width:"23%"}]})},g.prototype.fetchDatas=function(e){var i=this,t=this.state.pageSize;this.romanticDateServices.fetchRecordInfo(e,t).subscribe(function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};0==+t.error&&t.data?(e={dataSource:i.formatList(t.data.list),totalRecord:t.data.total},i.setState(e)):0!=+t.error&&n.default.error(t.msg,1)})},g.prototype.formatList=function(e){return e&&e.map(function(e){var t=e;return t.createTime=c.default.formatDate(new Date(1e3*e.createTime),"yyyy/MM/dd hh:mm"),1<e.gainNum&&(t.gainName=e.gainName+" × "+e.gainNum),1==+e.ticketType?t.givenGift="水晶 × "+(e.useScore/100||0):1<e.givenGiftNum&&(t.givenGift=e.givenGift+" × "+e.givenGiftNum),t})},g.prototype.render=function(){var e=this.state,t=e.columns,i=e.dataSource,e=e.totalRecord;return a.a.createElement("div",{className:"RecordPanel",__source:{fileName:u,lineNumber:117},__self:this},a.a.createElement("div",{className:"RecordPanel-content",__source:{fileName:u,lineNumber:118},__self:this},a.a.createElement(l.default,{columns:t,dataSource:i,style:{height:"350"},totalRecordNum:e,onPageIndexChange:this.onPageIndexChange,noData:"暂无获得道具记录",bottomText:"只显示近7天获得道具记录",__source:{fileName:u,lineNumber:119},__self:this})))},m=(r=g).prototype,d="romanticDateServices",o=[o],b={enumerable:!0,initializer:null},v={},Object.keys(b).forEach(function(e){v[e]=b[e]}),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=o.slice().reverse().reduce(function(e,t){return t(m,d,e)||e},v),h&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(h):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(m,d,v),v=null),s=v,r);function g(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=f(this,_.call.apply(_,[this].concat(l))),n="romanticDateServices",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.state={columns:[],dataSource:[],pageSize:20,totalRecord:0},t.onPageIndexChange=function(e){t.fetchDatas(e)},f(t,e)}t.default=r},643726:function(e,t,i){e.exports=i("5f575e")("5b15c")},"64f682":function(e,t,i){"use strict";var n=i("db47a7"),r=i("eb3e22"),a=i("1b4e72"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l={};r.DataCenter.common.get("$DATA").subscribe(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).room,t=(e=void 0===e?{}:e).cate1_id,i=e.cate2_id,n=e.cate3_id,e=e.room_id;l={cid:t,tid:i,chid:n,r:e}}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;e&&a.default&&a.default[e]&&Object(n.dysub2)(o({},l,a.default[e],{ext:t}))}},650291:function(e,t,i){e.exports=i("5f575e")("8f483")},"65c27f":function(e,t,i){"use strict";var n=i("7ca7dc"),r=i("7ef6f8"),a=i("9ce00b"),o=i("7162bd"),l=n.default.StoreFactory;t.default=n.default.createApp({name:"ToolbarApp",providers:[{name:"component",useFactory:function(){return o.default}},{name:"store",useFactory:function(){return l.getInstance(window.__INITIAL_STATE__,a.default,r.default)}}]})},660064:function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=i("447d8e"),n=i("54992a"),o=(i("358df2"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/FudaiGift/FudaiGiftPanel.js");function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,n=Object(n.log)((l(s,c=r.a.Component),s.prototype.render=function(){var e=this.props.fdGiftConfig,t=void 0===e?{}:e,i=t.gId,e=t.floatOpen,t=t.wapPic;return+this.props.giftId==+i&&e&&t?r.a.createElement("div",{className:"FudaiGiftPanel",__source:{fileName:o,lineNumber:19},__self:this},r.a.createElement("img",{src:t,__source:{fileName:o,lineNumber:20},__self:this})):null},n=s))||n;function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,c.apply(this,arguments))}t.default=Object(a.connect)(function(e){return{fdGiftConfig:e.giftData.fdGiftConfig}})(n)},"664cb9":function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),a=i("7ca7dc"),u=i("db47a7"),o=i("bc6a90"),l=(i("fb4c2d"),"/shark/live/src/pages/roomPage/toolbarModule/components/LolLottery/components/PrizeList.js");function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var p,m,d,b,h,v,n=(o=(0,a.default.Service)(o.default),c(_,v=n.Component),_.prototype.startEffect=function(){this.state.isGameStart||(this.setState({isGameStart:!0}),this.lotteryEffect())},_.prototype.render=function(){var t=this,e=this.props.prize,i=void 0===e?[]:e,e=this.state,n=e.active,e=e.btnPress;return r.a.createElement("div",{className:"PrizeList",__source:{fileName:l,lineNumber:135},__self:this},0<i.length?r.a.createElement("a",{className:e?"PrizeList-prizeBtn PrizeList-btnPress":"PrizeList-prizeBtn",onClick:function(e){return t.lotteryStart(e)},onMouseDown:function(){return t.updatePrizeBtnPressStatus(!0)},onMouseUp:function(){return t.updatePrizeBtnPressStatus(!1)},onMouseLeave:function(){return t.updatePrizeBtnPressStatus(!1)},__source:{fileName:l,lineNumber:137},__self:this}):"",0<i.length?i.map(function(e){return r.a.createElement("div",{className:"PrizeList-item PrizeList-pos"+e.lev+" "+(+e.lev===n?"PrizeList-active":""),key:e.lev,__source:{fileName:l,lineNumber:148},__self:t},r.a.createElement("div",{className:"PrizeList-award",__source:{fileName:l,lineNumber:149},__self:t},r.a.createElement("img",{className:"PrizeList-awardImg",src:e.img,alt:e.name,__source:{fileName:l,lineNumber:150},__self:t})),r.a.createElement("p",{className:"PrizeList-awardDesc",title:e.name,__source:{fileName:l,lineNumber:152},__self:t},e.name))}):"")},p=(n=_).prototype,m="lolLotteryService",o=[o],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=o.slice().reverse().reduce(function(e,t){return t(p,m,e)||e},h),b&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(p,m,h),h=null),s=h,n);function _(){var e,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var t,i,n,r,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=a=f(this,v.call.apply(v,[this].concat(l))),a.state={active:0,speed:60,maxSpeed:480,increment:60,btnPress:!1,isGameStart:!1},i="lolLotteryService",r=t=a,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),a.updatePirzeActive=function(){var e,t=a.state,i=t.active,n=t.speed,r=t.maxSpeed,t=a.props.gameRes,t=(void 0===t?{}:t).gift_level;a.setState({active:e=i<8?i+1:1}),parseInt(t,10)===e&&r<n?(a.setState({speed:60,maxSpeed:600,increment:50,btnPress:!1,isGameStart:!1}),a.lolLotteryService.updateGameInfo({showPrizeDialog:!0})):(n=a.state.speed,setTimeout(function(){a.updatePirzeActive()},n))},a.updateSpeed=function(){var e=a.state,t=e.speed,i=e.maxSpeed,e=e.increment;i<t||(a.setState({speed:t+e}),setTimeout(function(){a.updateSpeed()},500))},a.lotteryEffect=function(){a.updatePirzeActive(),setTimeout(function(){a.updateSpeed()},1200)},a.lotteryStart=function(e){var t,i,n;e.stopPropagation(),a.state.isGameStart||(t=(i=a.props).actId,i=(e=void 0===(n=i.roomData)?{}:n).roomId,n=e.tagId,Object(u.dysub)("click_gift_lottery",{tid:n,rid:i,active_id:t}),a.lolLotteryService.getPrizeEpics({actId:t,startEffect:a.startEffect.bind(a),roomData:e}))},a.updatePrizeBtnPressStatus=function(e){a.setState({btnPress:e})},f(a,e)}t.default=n},"66802c":function(e,t,i){e.exports=i("5f575e")("4265f")},669605:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/5EPL-icon_4fa952f.png"},"67a5dd":function(e,t,i){"use strict";function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}i("ba8820"),n.prototype.broadcast=function(e){return'<div class="RedEnvelopeBroadcast">\n                <div class="RedEnvelopeBroadcast-header"></div>\n                <div class="RedEnvelopeBroadcast-content">'+['<span class="RedEnvelopeBroadcast-highlight">'+e.userName+"</span>","在",'<span class="RedEnvelopeBroadcast-highlight">'+e.anchorName+"</span>","直播间送出",'<span class="RedEnvelopeBroadcast-highlight">'+e.otherContent+"</span>","礼物红包，快来抢道具吧~"].join("")+'</div>\n                <div class="RedEnvelopeBroadcast-tail"></div>\n            </div>'},new n},"67cc62":function(e,t,i){"use strict";var p=i("1a22b7"),m=i.n(p),n=i("3b6ec9"),d=i.n(n),b=i("c6a807"),h=i("eb3e22"),v=i("db47a7"),_=i("16358b"),g=(i("8c8664"),"/shark/live/src/pages/roomPage/toolbarModule/components/WzryRealTimeRecord/WzryRealTimeRecord.js"),y="13090053B002",N="13090053B004",w=!1;t.default=function(){var e=Object(b.useService)(h.DataCenter.global),t=Object(b.useService)("shark.login.LoginService"),i=Object(p.useState)(!1),n=i[0],r=i[1],a=Object(p.useState)(!1),o=a[0],l=a[1],c=Object(p.useRef)(!1),i=Object(p.useRef)(e.get("$ROOM.room_id")).current,a=Object(p.useRef)(e.get("$SYS.env")).current,s=Object(p.useRef)(null),e="/topic/h5/wzryRealTimeRecord";"master"!==a&&(e="/topic/template/h5/wzryRealTimeRecord");function u(){s.current&&(clearTimeout(s.current),s.current=null)}var a=function(){c.current?(Object(v.dysub2)({action_code:N}),l(!0),n&&r(!1)):t.showLoginDialog().subscribe()},f=Object(p.useCallback)(function(){o||r(!0)},[o]);return Object(p.useEffect)(function(){n?s.current=setTimeout(function(){r(!1)},1e4):u()},[n]),Object(p.useEffect)(function(){return w||(w=!0,Object(v.dysub2)({action_code:y,event_id:3})),_.default.toolbarActivityShow("wzryRealTimeRecord"),setTimeout(f,1e4),t.check().subscribe(function(e){c.current=e}),function(){u()}},[]),m.a.createElement(p.Fragment,{__source:{fileName:g,lineNumber:137},__self:this},m.a.createElement("div",{className:"wzryRTR",onClick:a,__source:{fileName:g,lineNumber:138},__self:this},m.a.createElement("span",{className:"wzryRTR-text",__source:{fileName:g,lineNumber:139},__self:this},"出装铭文")),n&&m.a.createElement("div",{className:"wzryRTR-tips",onClick:a,__source:{fileName:g,lineNumber:143},__self:this},"点击做任务，获取主播出装铭文秘籍",m.a.createElement("i",{className:"wzryRTR-tips-close",onClick:function(e){e.stopPropagation(),r(!1)},__source:{fileName:g,lineNumber:145},__self:this})),o&&d.a.createPortal(m.a.createElement("div",{className:"wzryRTR-modal",__source:{fileName:g,lineNumber:151},__self:this},m.a.createElement("i",{className:"wzryRTR-modal-close",onClick:function(){l(!1)},__source:{fileName:g,lineNumber:152},__self:this}),m.a.createElement("iframe",{src:e+"?roomId="+i,width:380,height:423,scrolling:"no",__source:{fileName:g,lineNumber:153},__self:this})),document.body))}},"684ef0":function(e,t,i){"use strict";i=i("7153f5");t.default=i.default},"68f46c":function(e,t,i){"use strict";var n,r,a=i("1a22b7"),o=i.n(a),l=i("447d8e"),c=i("7ca7dc"),s=i("eb3e22"),a=i("97a1f0"),u=(i("68f6ba"),"/shark/live/src/pages/roomPage/toolbarModule/components/SuperFansBubble/index.js");function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function m(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var d,i=c.default.Service,c=(c=Object(a.ErrorHandler)(),a=i(s.DataCenter.global),s=i(s.DataCenter.localStorage),c((p(b,d=o.a.Component),b.prototype.render=function(){var e=this,t=this.props.superFansData;return!t.isShow||this.state.isClose||this.isAnchor?null:o.a.createElement("div",{className:"SuperFansBubble "+(t.isSuperBuff?"is-super":""),__source:{fileName:u,lineNumber:38},__self:this},o.a.createElement("div",{className:"SuperFansBubble-title",__source:{fileName:u,lineNumber:39},__self:this},t.isSuperBuff?"超级粉丝团特权":"超级联赛任务福利"),o.a.createElement("div",{className:"SuperFansBubble-desc",__source:{fileName:u,lineNumber:40},__self:this},"周六、周日赠送礼物和道具，享有",t.buffRate,"倍亲密度~"),o.a.createElement("span",{className:"SuperFansBubble-close",onClick:function(){e.setState({isClose:!0})},__source:{fileName:u,lineNumber:41},__self:this},"×"))},n=m((c=b).prototype,"global",[a],{enumerable:!0,initializer:null}),r=m(c.prototype,"localStorage",[s],{enumerable:!0,initializer:null}),c=c))||c);function b(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,d.call(this));return f(e,"global",n,e),f(e,"localStorage",r,e),e.state={isClose:!1},e.isAnchor=+e.global.get("USER_INFO.uid")==+e.global.get("$ROOM.owner_uid")?1:0,e}t.default=Object(l.connect)(function(e){return{superFansData:e.superFansData}})(c)},"68f6ba":function(e,t,i){},"6a20aa":function(e,t,i){},"6a6b35":function(e,t,i){"use strict";var a,o,l,n=i("97a1f0"),r=i("7ca7dc"),c=i("eb3e22"),s=i("f12b8d");function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function m(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var d,b=r.default.Store,i=r.default.Service,h=null,v={formatDotZero:function(e){e=e.replace(/(\.\d+)0+$/,"$1");return parseInt(e,10)||e},toSimpleNum:function(e,t,i){var n=Math.pow(10,t),t=0;return isNaN(Number(e))?e:(t=parseFloat(Number(e)/n),v.formatDotZero(t.toFixed(i)))},formatContribute:function(e,t){return e?e=1e4<=e?v.toChineseNumber(e,"万",t):e:"--"},toChineseNumber:function(e,t,i){var n=Number(e);return isNaN(n)?e:v.toSimpleNum(e,4,i)+t},formatCurrWeek:function(e){var n=[];return(e.length?e:[{},{}]).forEach(function(e){var o={},t=e||{},e=t.list||[],i=e.length||0;for(o.giftName=t.gift_name||"礼物",o.giftImg=t.gift_icon||h.defaultImg.gift,o.list=[],i>h.maxLen&&(e.length=h.maxLen,i=h.maxLen),e.forEach(function(e,t){var i=parseInt(e.rid,10)===parseInt(h.roomId,10),n=e,r=null,a="",e="";n.rid&&!i&&(r="/"+n.rid),i||0!==parseInt(n.is_live,10)?i||0===parseInt(n.is_live,10)||(a="进入直播间"):a="在赶来路上",e=0===parseInt(n.statu,10)?"keep":1===parseInt(n.statu,10)?"down":"up",o.list.push({anchorName:n.owner_name||"",anchorHref:r,anchorTitle:a,anchorImg:n.src||h.defaultImg.anchor,anchorTarget:"_blank",anchorIdx:n.idx||t+1,anchorLive:n.is_live||"0",anchorGiftNum:v.formatContribute(n.sc,1),anchorIdxStatu:e,isAnchor:i,bestUserName:n.bestuser&&n.bestuser.nickname||"虚位以待",bestUserGiftNum:n.bestuser&&n.bestuser.sc?v.formatContribute(n.bestuser.sc,1):"0"})});i<h.maxLen;)o.list.push({anchorName:"虚位以待",anchorHref:null,anchorTitle:"",anchorImg:h.defaultImg.anchor,anchorTarget:"",anchorIdx:i+=1,anchorLive:"0",anchorGiftNum:"0",anchorIdxStatu:"keep",isAnchor:!0,bestUserName:"虚位以待",bestUserGiftNum:"0"});n.push(o)}),n},formatLastWeek:function(e){var o={},l=[],t=e,i=t.length;return e&&i?(t.forEach(function(e,t){var i=e,n=i.data||{},r=parseInt(h.ownerUid,10)===parseInt(h.uid,10),a=(a=i.range||"------_------").split("_");o.start=a[0],o.end=a[1];e=n.room_id&&!r?"/"+n.room_id:null,i=0===parseInt(n.is_live,10)?"在赶来路上":"进入直播间",a=0!==parseInt(n.user_identity,10)&&0!==parseInt(n.is_stealth,10)?1:0;l[t]=Object.assign({anchorHref:e,anchorTitle:i,isStealth:a,isAnchor:r},v.deallastList(n))}),o.list=l,o):{}},deallastList:function(e){return{anchorName:e.owner_name||"虚位以待",anchorImg:e.avatar||h.defaultImg.anchor,anchorLive:e.is_live||"0",anchorGiftNum:v.formatContribute(e.num,1),userName:e.user_name||"虚位以待",userImg:e.user_icon||h.defaultImg.user,userSendNum:v.formatContribute(e.user_num,1),giftName:e.gift_name||"礼物名称",giftImg:e.gift_icon||h.defaultImg.gift}}},n=(r=b(),b=i(c.DataCenter.global),c=i(c.DataCenter.acj),p(_,d=n.Service),_.prototype.initVars=function(e){var t,i,n,r,a,o;t=e,i=this.global,h||(n=i.get("$SYS.webconfUrl"),r=t.get("room.rankActivity.giftWeekListType"),a=t.get("room.rankActivity."+r+".aid"),o=t.get("room.room_id"),e=i.get("$SYS.web_url"),t=t.get("room.owner_uid"),i=i.get("$SYS.uid"),h={aId:a,type:r,roomId:o,weburl:e,webconfUrl:n,ownerUid:t,uid:i,ajaxUrls:{totalList:"/ztCache/ZtCacheList/getYanZhiZhouXingRankList",taGiftList:"/ztCache/ZtCacheList/getRankPlace",rule:n+"/resource/common/rank/h5.json"},defaultImg:{anchor:e+"app/douyu/res/com/defaultAvatar.png?v=20170726",user:e+"app/douyu/res/com/defaultAvatar.png?v=20170726",gift:e+"app/douyu/res/page/room-normal/giftmodal/gift_default.png?v=20170711",stealth:e+"app/douyu/res/page/room-normal/vip/invisible_list.png?v=20170711"},data:{room_id:o,uid:t,aid:a},anchorTimer:null,maxLen:5})},_.prototype.dealTotalList=function(e){var t=JSON.parse(e.data)||{},i=t.big_fan_title||"最佳助力",e=t.lastWeek||[],t=t.currWeek||[],e=v.formatLastWeek(e);return{currWeek:v.formatCurrWeek(t),lastWeek:e,fanTitle:i}},_.prototype.dealAnchorList=function(e){return e.data.map(function(e){var t=JSON.parse(e),i=parseInt(t.idx,10),e="暂无排名";return 0<i?e="第"+t.idx+"名":i<0&&(e=-i+"+"),{idx:e,giftName:t.gift_name||"",giftImg:t.gift_icon||h.defaultImg.gift,getNum:0<parseInt(t.receive_num,10)?v.formatContribute(t.receive_num,1):"本周还未收到"}})},_.prototype.dealAnchorBtn=function(e){var t=this,i=e;-1<i&&(this.store.dispatch(s.default.setCount(i)),--i,clearTimeout(h.anchorTimer),h.anchorTimer=setTimeout(function(){return t.dealAnchorBtn(i)},1e3))},_.prototype.initFlashMsg=function(){var e=this;this.acj.get("room_show_yzgift_rank").subscribe(function(){e.store.dispatch(s.default.toggleDialog(!0))})},a=m((n=_).prototype,"store",[r],{enumerable:!0,initializer:null}),o=m(n.prototype,"global",[b],{enumerable:!0,initializer:null}),l=m(n.prototype,"acj",[c],{enumerable:!0,initializer:null}),n);function _(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=f(this,d.call.apply(d,[this].concat(n))),u(t,"store",a,t),u(t,"global",o,t),u(t,"acj",l,t),f(t,e)}t.default=n},"6b509f":function(e,t,i){e.exports=i("5f575e")("71d8b")},"6bbfe5":function(e,t,i){"use strict";i=i("2d10ba");t.default=i.default},"6c6778":function(e,t,i){},"6ce681":function(e,t,i){"use strict";var n,r,a,o,l,c=i("97a1f0"),s=i("eb3e22"),u=i("7ca7dc"),f=i("b067ea"),p=i("56b0a1"),m=i("555639");function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var v,i=u.default.Store,u=u.default.Service,c=(i=i(),s=u(s.DataCenter.global),p=u(p.default),m=u(m.default),f=u(f.default),b(_,v=c.Service),_.prototype.init=function(){this.cacheEggConfig(),this.registerScreenBroad()},_.prototype.cacheEggConfig=function(){var t=this;this.giftDataServices.getEggxGiftConfig().subscribe(function(e){t.eggxGiftConfig=e||{}})},_.prototype.getEggConfig=function(){return this[0<arguments.length&&void 0!==arguments[0]?arguments[0]:"eggxGiftConfig"]||{}},_.prototype.isOpen=function(){return 1==+this.getEggConfig(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"eggxGiftConfig").is_open},_.prototype.isEggGift=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"eggxGiftConfig",i=this.getEggConfig(t);return this.isOpen(t)&&+i.gid==+e},_.prototype.registerScreenBroad=function(){this.configEffectBroadcastServices.register("mfcdx_screen")},n=h((c=_).prototype,"store",[i],{enumerable:!0,initializer:null}),r=h(c.prototype,"global",[s],{enumerable:!0,initializer:null}),a=h(c.prototype,"giftDataServices",[p],{enumerable:!0,initializer:null}),o=h(c.prototype,"broadcastManagerServices",[m],{enumerable:!0,initializer:null}),l=h(c.prototype,"configEffectBroadcastServices",[f],{enumerable:!0,initializer:null}),c);function _(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this));return d(e,"store",n,e),d(e,"global",r,e),d(e,"giftDataServices",a,e),d(e,"broadcastManagerServices",o,e),d(e,"configEffectBroadcastServices",l,e),e.eggxGiftConfig={},e}t.default=c},"6dd8b2":function(e,t,i){"use strict";var n,r,a=i("722b8a"),o=i("97a1f0"),l=i("7ca7dc"),c=i("eb3e22"),s=i("e854a7"),u=i("ffca33");function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function m(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var d,l=l.default.Service,b=s.default.socketStream,o=(s=l(c.DataCenter.common),c=l(c.DataCenter.global),p(h,d=o.Service),h.prototype.init=function(e){this.isInit||(this.isInit=!0,this.loadConfig())},h.prototype.loadConfig=function(){var t=this;Object(u.default)({url:"//webconf.douyucdn.cn/resource/common/toast_broadcast_w.json",type:"jsonp",callbackName:"toast_broadcast"}).subscribe(function(e){t.config=e||{},t.listenSttcode()})},h.prototype.listenSttcode=function(){var r=this;b.subscribe("remind_broadcast",function(t){var e,i=t.tid,n=r.config[i];n&&(i=n.ctype,n=void 0===(n=n.content)?[]:n,2===i&&n&&n.length&&((n=n[0])&&n.child&&n.child.length&&(e=n.child.map(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return 1==+e.vType?t[e.value]||"":e.value||""}),r.toastTimer=setTimeout(function(){a.default.info(e.join(""),5)},2e3))))})},n=m((o=h).prototype,"common",[s],{enumerable:!0,initializer:null}),r=m(o.prototype,"global",[c],{enumerable:!0,initializer:null}),o);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,d.call(this));return f(t,"common",n,t),f(t,"global",r,t),t.isInit=!1,t.toastTimer=null,t.config={},t}t.default=o},"6e0a51":function(e,t,i){"use strict";var n=i("3c4b90"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={panelStatus:0,panelShow:!1,roomType:0,isFullScreen:0,bottomPlaceholder:0,isShowGuessTip:!1,planType:""};t.default={guessIconEntry:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case n.OPPOSITE_STATUS:var i=+!e.panelStatus;return Object.assign({},e,{panelStatus:i});case n.MODIFY_PANEL_SHOW:return Object.assign({},e,{panelShow:t.payload});case n.OPPOSITE_FULLSCREEN_STATUS:return Object.assign({},e,{isFullScreen:t.payload,panelStatus:t.payload?0:1,panelShow:!t.payload});case n.GUESS_BOTTOM_PLACEHOLDER:return Object.assign({},e,{bottomPlaceholder:1});case n.RECEIVE_GUESSGAME_ICON_SHOWTIP:return Object.assign({},e,{isShowGuessTip:t.payload});case n.OPEN_GUESSGAME_PANEL:return Object.assign({},e,{panelStatus:!0});case n.SET_GUESSGAME_PLAN_TYPE:return Object.assign({},e,{planType:t.payload});default:return e}},guessIconConfig:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{configStatus:!1},t=arguments[1];switch(t.type){case n.RECIEVE_GUESSGAME_CONFIG:return r({},e,{configStatus:!0},t.payload);case n.RECIEVE_GUESSGAME_CONFIG_FAIL:return r({},e,{configStatus:!1},t.payload);default:return e}},guessIconRoomConfig:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return t.type!==n.RECIEVE_GUESSGAME_ROOM_CONFIG?e:r({},e,{roomConfigStatus:!0},t.payload)},guessGameActive:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{guessGameActiveSwitch:!1,bet:{}},t=arguments[1];switch(t.type){case n.SWITCH_GUESSGAME_ACTIVE:return Object.assign({},e,{guessGameActiveSwitch:!1});case n.RECEIVE_GUESSGAME_ACTIVE:return Object.assign({},e,r({},t.payload));default:return e}}}},"6f64bc":function(e,t,i){"use strict";i=i("9722f8");t.default=i.default},"6face5":function(e,t,i){"use strict";var n=i("379937"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={isSwitchOpen:!1,isShowTip:!1,startType:0,activityid:0,num:0,endTime:0,info:null};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];return t.type!==n.PROPREDENVELOPEICON_UPDATE_DATA?e:Object.assign({},e,r({},t.payload))}},"6fadec":function(e,t,i){},"6fb74c":function(e,t,i){e.exports=i("5f575e")("29e54")},"6fd983":function(e,t,i){"use strict";i=i("3216ff");t.default=i.default},"703d8d":function(e,t,i){},"70b071":function(e,t,i){"use strict";var s,n=i("1a22b7"),f=i.n(n),r=i("7ca7dc"),a=i("292183"),o=i.n(a),l=i("447d8e"),a=i("4b2b18"),p=i("f8c6e1"),m=(i("23411c"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),d="/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/Calendar.js";function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function b(e){var t=e.isNowMonth,i=e.day,n=e.isNowDay,e=e.isSign;return f.a.createElement("li",{className:"Calendar-cell"+(t?" is-now":"")+(e?" is-sign":""),__source:{fileName:d,lineNumber:12},__self:void 0},i,e?f.a.createElement("span",{className:"Calendar-sign",__source:{fileName:d,lineNumber:17},__self:void 0},"已签到"):null,n?f.a.createElement("i",{className:"Calendar-dot",__source:{fileName:d,lineNumber:20},__self:void 0}):null)}var h,v,_,g,y,N,w=["一","二","三","四","五","六","日"],n=(a=(0,r.default.Service)(a.default),c(O,N=n.Component),O.prototype.componentDidMount=function(){this.roomLevelDetailServices.getServerTime()},O.prototype.render=function(){var r=this,e=this.props,a=e.signDetail,o=e.year,l=e.month,c=e.syear,s=e.smonth,u=e.sday,e=o?Object(p.default)(o,l):[];return f.a.createElement("div",{className:"Calendar",__source:{fileName:d,lineNumber:88},__self:this},f.a.createElement("div",{className:"Calendar-pageName",__source:{fileName:d,lineNumber:89},__self:this},f.a.createElement("i",{onClick:this.pageBack,__source:{fileName:d,lineNumber:89},__self:this}),"签到记录"),f.a.createElement("div",{className:"Calendar-content",__source:{fileName:d,lineNumber:90},__self:this},f.a.createElement("div",{className:"Calendar-title",__source:{fileName:d,lineNumber:91},__self:this},f.a.createElement("span",{__source:{fileName:d,lineNumber:92},__self:this},o,"年",l,"月"),f.a.createElement("i",{className:"Calendar-forward",onClick:this.calendarForward,__source:{fileName:d,lineNumber:93},__self:this}),f.a.createElement("i",{className:"Calendar-next",onClick:this.calendarNext,__source:{fileName:d,lineNumber:94},__self:this})),f.a.createElement("div",{className:"Calendar-sec",__source:{fileName:d,lineNumber:96},__self:this},w.map(function(e){return f.a.createElement("li",{key:e,className:"Calendar-cell",__source:{fileName:d,lineNumber:99},__self:r},e)}),e.map(function(e){var t=e.year,i=e.month,n=e.day,e=e.fd,e={isNowMonth:t===o&&i===l,isNowDay:t===c&&i===s&&n===u,isSign:-1!==a.indexOf(e),day:n};return f.a.createElement(b,m({key:t+"-"+i+"-"+n},e,{__source:{fileName:d,lineNumber:117},__self:r}))}))))},h=(n=O).prototype,v="roomLevelDetailServices",a=[a],_={enumerable:!0,initializer:null},y={},Object.keys(_).forEach(function(e){y[e]=_[e]}),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),y=a.slice().reverse().reduce(function(e,t){return t(h,v,e)||e},y),g&&void 0!==y.initializer&&(y.value=y.initializer?y.initializer.call(g):void 0,y.initializer=void 0),void 0===y.initializer&&(Object.defineProperty(h,v,y),y=null),s=y,n);function O(){var e,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O);for(var t,i,n,r,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=a=u(this,N.call.apply(N,[this].concat(l))),i="roomLevelDetailServices",r=t=a,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),a.calendarTure=function(e){var t=a.props,i=t.year,n=t.month,r=a.props,t=r.syear,r=r.smonth;12<(n+=e)&&(i+=1,n=1),n<1&&(--i,n=12),i<t&&n<r?n=r:(t<i||i===t&&r<n)&&(i=t,n=r),i===a.props.year&&n===a.props.month||a.roomLevelDetailServices.getSignDetail({year:i,month:n})},a.pageBack=function(){(0,a.props.changePage)("autograph")},a.calendarForward=function(){a.calendarTure(-1)},a.calendarNext=function(){a.calendarTure(1)},u(a,e)}n.propTypes={syear:o.a.number,smonth:o.a.number,sday:o.a.number,year:o.a.number,month:o.a.number,signDetail:o.a.array},t.default=Object(l.connect)(function(e){return{syear:e.RoomLevelDetailData.syear,smonth:e.RoomLevelDetailData.smonth,sday:e.RoomLevelDetailData.sday,year:e.RoomLevelDetailData.year,month:e.RoomLevelDetailData.month,signDetail:e.RoomLevelDetailData.signDetail}})(n)},714663:function(e,t,i){"use strict";var a,n=i("97a1f0"),o=i("104af8"),r=i("eb3e22"),l=i("e854a7"),c=i("ffca33");function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var u,f,p,m,d,b,h=l.default.socketStream,n=(r=Object(n.Inject)(r.DataCenter.common),s(v,b=n.Service),v.prototype.getSubscribe=function(){return this.stage$},v.prototype.init=function(){var t=this;return!this.inited&&(this.inited=!0,h.subscribe("pk_actcenter_switch",function(e){1==+e.is_open?t.checkActCenterPKEntry(1):t.stage$.next({type:1,showActCenterPK:!1})}),h.subscribe("pk_actcenter_enter_room",function(e){1==+e.is_open?t.checkActCenterPKEntry(1):t.stage$.next({type:1,showActCenterPK:!1})}),!0)},v.prototype.checkActCenterPKEntry=function(s){var u=this,e=this.common.get("$DATA").subscribe(function(c){u.configRequest({url:"resource/common/pk_actcenter_w.json",callbackName:"pk_actcenter"}).subscribe(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=c.get("room"),i=t.room_id,n=t.cate1_id,r=t.cate2_id,a=e.room_white_list,o=void 0===a?[]:a,l=e.room_black_list,t=void 0===l?[]:l,a=e.cate1_white_list,l=void 0===a?[]:a,a=e.cate2_black_list,a=void 0===a?[]:a,e=e.yule_cate1_list,e=void 0===e?[]:e;+s&&!t.includes(+i)&&(o.includes(+i)||!a.includes(+r)&&l.includes(+n))&&u.stage$.next({type:2,showActCenterPK:!0,isYuleCate:e.includes(+n)})})});this.stage$.next({type:3,actCenterPKSub:e})},v.prototype.configRequest=function(e){var t=e.url,e=e.callbackName,t="//webconf.douyucdn.cn/"+t;return Object(c.default)({url:t,type:"jsonp",callbackName:e})},u=(n=v).prototype,f="common",r=[r],p={enumerable:!0,initializer:null},d={},Object.keys(p).forEach(function(e){d[e]=p[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=r.slice().reverse().reduce(function(e,t){return t(u,f,e)||e},d),m&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(m):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(u,f,d),d=null),a=d,n);function v(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var e,t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,b.call(this));return t="common",n=e=r,(i=a)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),r.stage$=new o.Subject,r.inited=!1,r}t.default=n},"7153f5":function(e,t,i){"use strict";var n,r,a,o=i("1a22b7"),l=i.n(o),c=i("7ca7dc"),s=i("292183"),u=i.n(s),f=i("447d8e"),p=i("eb3e22"),m=i("e854a7"),s=i("339147"),d=i("16358b"),b=i("a8024b"),h=(i("c63fd7"),"/shark/live/src/pages/roomPage/toolbarModule/components/CSGOPanelComponent/CsgoPanel.js");function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function g(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var y,N=i("48b243"),w=i("669605"),O=i("832492"),S=i("15e4b2"),c=c.default.Service,E=m.default.socketStream,j={online:0,offline:0,playing_live:0,playing_match:1,playing_5epl:4,playing_10battle:5,playing_5eplc:6},T="csgo_panel",o=(m=c(s.default),s=c(p.DataCenter.localStorage),p=c(p.DataCenter.common),_(P,y=o.Component),P.prototype.componentDidMount=function(){var t=this;this.props.isFirstLoad&&(this.csgoPanelServices.setData({isFirstLoad:0}),this.common.get("$DATA").subscribe(function(e){6===e.get("room.cate_id")&&t.csgoPanelServices.getPlayingList()}),E.subscribe("biz_room_csgo",function(e){e=e.eventType;t.csgoPanelServices.setData({changeKey:"panelData",data:{online_match_type:"string"==typeof e?j[e]:0}}),t.csgoPanelServices.getPanelData()}),this.localStorage.get(T)&&this.localStorage.remove(T))},P.prototype.componentWillUpdate=function(e){!this.props.panelData&&e.panelData&&d.default.toolbarActivityShow("CsgoPanel")},P.prototype.render=function(){var e=this.props.panelData,t=void 0===e?{}:e,e=1===t.online_match_type?l.a.createElement(b.default,{baseUrl:N,des:"优先匹配",leftColor:"#40ec78",rightColor:"#24a333",onClick:this.toggleDialogVisible,__source:{fileName:h,lineNumber:111},__self:this}):4===t.online_match_type?l.a.createElement(b.default,{baseUrl:w,des:"5EPL",leftColor:"#faa609",rightColor:"#fe6c38",onClick:this.toggleDialogVisible,__source:{fileName:h,lineNumber:124},__self:this}):5===t.online_match_type?l.a.createElement(b.default,{baseUrl:S,des:"十人约战",leftColor:"#af844e",rightColor:"#ddba8c",onClick:this.toggleDialogVisible,__source:{fileName:h,lineNumber:140},__self:this}):6===t.online_match_type?l.a.createElement(b.default,{baseUrl:O,des:"5EPL-C",leftColor:"#45a2f7",rightColor:"#4868e7",onClick:this.toggleDialogVisible,__source:{fileName:h,lineNumber:153},__self:this}):l.a.createElement(b.default,{baseUrl:S,des:"5E数据",leftColor:"#af844e",rightColor:"#ddba8c",onClick:this.toggleDialogVisible,__source:{fileName:h,lineNumber:166},__self:this});return l.a.createElement("div",{className:"CsgoEntry",__source:{fileName:h,lineNumber:177},__self:this},e)},n=g((o=P).prototype,"csgoPanelServices",[m],{enumerable:!0,initializer:null}),r=g(o.prototype,"localStorage",[s],{enumerable:!0,initializer:null}),a=g(o.prototype,"common",[p],{enumerable:!0,initializer:null}),o);function P(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,P);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,y.call(this));return v(t,"csgoPanelServices",n,t),v(t,"localStorage",r,t),v(t,"common",a,t),t.toggleDialogVisible=function(){var e=t.props.isShow;t.localStorage.get(T)||t.localStorage.set(T,"1"),e?t.csgoPanelServices.toggleDialogVisible():(t.csgoPanelServices.getPanelData(),t.csgoPanelServices.setData({isShow:1}))},t.state={roomId:0},t}o.propTypes={panelData:u.a.object,isShow:u.a.bool},t.default=Object(f.connect)(function(e){e=e.csgoPanelReducer;return{panelData:e.panelData||{},isShow:e.isShow,isFirstLoad:e.isFirstLoad}})(o)},"7162bd":function(e,t,i){"use strict";i=i("f8a0bb");t.default=i.default},"71c15e":function(e,t,i){e.exports=i("5f575e")("5f544")},"71f762":function(e){e.exports=JSON.parse('{"countryCode":{"中国大陆":"+86","中国澳门":"+853","中国香港":"+852","中国台湾":"+886","阿尔巴尼亚":"+355","阿尔及利亚":"+213","阿富汗":"+93","阿根廷":"+54","阿拉伯联合酋长国":"+971","阿鲁巴岛":"+297","阿曼":"+968","阿塞拜疆":"+994","阿森松岛":"+247","埃及":"+20","埃塞俄比亚":"+251","爱尔兰":"+353","爱沙尼亚":"+372","安道尔":"+376","安哥拉":"+244","安圭拉岛":"+1264","安提瓜和巴布达":"+1268","奥地利":"+43","澳大利亚":"+61","巴巴多斯":"+1246","巴布亚新几内亚":"+675","巴哈马":"+1242","巴基斯坦":"+92","巴拉圭":"+595","巴勒斯坦":"+970","巴林":"+973","巴拿马":"+507","巴西":"+55","白俄罗斯":"+375","百慕大":"+1441","保加利亚":"+359","北马里亚纳群岛":"+1670","贝宁":"+229","比利时":"+32","冰岛":"+354","波多黎各":"+1787","波黑":"+387","波兰":"+48","玻利维亚":"+591","伯利兹":"+501","博茨瓦纳":"+267","博奈尔岛、圣尤斯特歇斯和萨巴岛":"+599","不丹":"+975","布基纳法索":"+226","布隆迪":"+257","朝鲜":"+850","赤道几内亚":"+240","丹麦":"+45","德国":"+49","迪戈加西亚岛":"+246","东帝汶":"+670","多哥":"+228","多米尼加":"+1767","多米尼加共和国":"+1809","俄罗斯":"+7","厄瓜多尔":"+593","厄立特里亚":"+291","法国":"+33","法罗群岛":"+298","法属波利尼西亚":"+689","法属圭亚那":"+594","梵蒂冈":"+379","菲律宾":"+63","斐济":"+679","芬兰":"+358","佛得角":"+238","福克兰群岛":"+500","冈比亚":"+220","刚果":"+242","刚果民主共和国":"+243","哥伦比亚":"+57","哥斯达黎加":"+506","格林纳达":"+1473","格陵兰":"+299","格鲁吉亚":"+995","古巴":"+53","瓜德罗普":"+590","关岛":"+1671","圭亚那":"+592","哈萨克斯坦":"+7","海地":"+509","韩国":"+82","荷兰":"+31","荷属圣马丁":"+1721","黑山":"+382","洪都拉斯":"+504","基里巴斯":"+686","吉布提":"+253","吉尔吉斯斯坦":"+996","几内亚":"+224","几内亚比绍":"+245","加拿大":"+1","加纳":"+233","加蓬":"+241","柬埔寨":"+855","捷克共和国":"+420","津巴布韦":"+263","喀麦隆":"+237","卡塔尔":"+974","开曼群岛":"+1345","科摩罗和马约特岛":"+269","科特迪瓦":"+225","科威特":"+965","克罗地亚":"+385","肯尼亚":"+254","库克群岛":"+682","库拉索":"+599","拉脱维亚":"+371","莱索托":"+266","老挝":"+856","黎巴嫩":"+961","立陶宛":"+370","利比里亚":"+231","利比亚":"+218","列支敦士登":"+423","留尼旺岛":"+262","卢森堡":"+352","卢旺达":"+250","罗马尼亚":"+40","马达加斯加":"+261","马尔代夫":"+960","马耳他":"+356","马拉维":"+265","马来西亚":"+60","马里":"+223","马其顿":"+389","马绍尔群岛":"+692","马提尼克岛":"+596","毛里求斯":"+230","毛里塔尼亚":"+222","美国":"+1","美属萨摩亚":"+1684","美属维尔京群岛":"+1340","蒙古":"+976","蒙特塞拉特岛":"+1664","孟加拉国":"+880","秘鲁":"+51","密克罗尼西亚":"+691","缅甸":"+95","摩尔多瓦":"+373","摩洛哥":"+212","摩纳哥":"+377","莫桑比克":"+258","墨西哥":"+52","纳米比亚":"+264","南非":"+27","南苏丹":"+211","瑙鲁":"+674","尼加拉瓜":"+505","尼泊尔":"+977","尼日尔":"+227","尼日利亚":"+234","纽埃岛":"+683","挪威":"+47","诺福克岛":"+6723","帕劳":"+680","葡萄牙":"+351","日本":"+81","瑞典":"+46","瑞士":"+41","萨尔瓦多":"+503","萨摩亚":"+685","塞尔维亚":"+381","塞拉利昂":"+232","塞内加尔":"+221","塞浦路斯":"+357","塞舌尔":"+248","沙特阿拉伯":"+966","圣巴泰勒米岛":"+590","圣多美和普林西比":"+239","圣赫勒拿岛":"+290","圣基茨和尼维斯":"+1869","圣卢西亚":"+1758","圣马丁":"+590","圣马力诺":"+378","圣皮埃尔和密克隆群岛":"+508","圣文森特和格林纳丁斯":"+1784","斯里兰卡":"+94","斯洛伐克":"+421","斯洛文尼亚":"+386","斯威士兰":"+268","苏丹":"+249","苏里南":"+597","所罗门群岛":"+677","索马里":"+252","塔吉克斯坦":"+992","泰国":"+66","坦桑尼亚":"+255","汤加":"+676","特克斯和凯科斯群岛":"+1649","特立尼达和多巴哥":"+1868","突尼斯":"+216","图瓦卢":"+688","土耳其":"+90","土库曼斯坦":"+993","托克劳":"+690","瓦利斯和富图纳群岛":"+681","瓦努阿图":"+678","危地马拉":"+502","委内瑞拉":"+58","文莱":"+673","乌干达":"+256","乌克兰语":"+380","乌拉圭":"+598","乌兹别克斯坦":"+998","希腊":"+30","西班牙":"+34","新加坡":"+65","新喀里多尼亚":"+687","新西兰":"+64","匈牙利":"+36","叙利亚":"+963","牙买加":"+1876","亚美尼亚":"+374","也门":"+967","伊拉克":"+964","伊朗":"+98","以色列":"+972","意大利":"+39","印度":"+91","印度尼西亚":"+62","英国":"+44","英属维尔京群岛":"+1284","约旦":"+962","越南":"+84","赞比亚":"+260","乍得":"+235","直布罗陀":"+350","智利":"+56","中非共和国":"+236"}}')},"722b8a":function(e,t,i){e.exports=i("5f575e")("d4f18")},"723e92":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=(i("c8a786"),"/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/RoomLevelIcon.js");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function l(e){return e=e.level,r.a.createElement("div",{className:"RoomLevelComponent-item",__source:{fileName:a,lineNumber:5},__self:void 0},e<10?null:r.a.createElement("span",{className:"RoomLevelComponent-icon RoomLevelComponent-icon--level"+(18<e?18:e),__source:{fileName:a,lineNumber:8},__self:void 0}),"LV.",e)}var c,i=(o(s,c=r.a.Component),s.prototype.componentWillReceiveProps=function(e){var t=this,i=e.level,n=e.isShowTransition,e=this.state.level;n&&e<i?(clearTimeout(this.ticket),this.ticket=setTimeout(function(){clearTimeout(t.ticket),t.setState({level:i})},1e3)):this.setState({level:i})},s.prototype.render=function(){var t=this,e=this.state.level,i=this.props,n=i.pos,n=void 0===n?"left":n,e={top:23*e*-1+"px"};return i.isShowTransition&&(e.transition="top 1s ease"),r.a.createElement("div",{className:"RoomLevelComponent is-"+n,__source:{fileName:a,lineNumber:60},__self:this},r.a.createElement("div",{className:"RoomLevelComponent-map",style:e,__source:{fileName:a,lineNumber:61},__self:this},this.levelMap.map(function(e){return r.a.createElement(l,{level:e,key:e,__source:{fileName:a,lineNumber:63},__self:t})})))},s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,c.call(this,e));t.ticket=null,t.levelMap=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18];e=e.level;return t.state={level:void 0===e?0:e},t}t.default=i},"72c422":function(e,t,i){"use strict";i=i("122038");t.default=i.default},"73f440":function(e,t,i){e.exports=i("5f575e")("cced8")},"748d25":function(e,t,i){e.exports=i("2d6146")("980ef")},759518:function(e,t,i){"use strict";var a,n=i("1a22b7"),o=i.n(n),r=i("447d8e"),l=i("7ca7dc"),n=(i("f4f1ae"),i("dee2e9")),c=i("b12198"),s=i("35d4ec"),u="/shark/live/src/pages/roomPage/toolbarModule/components/JifenComponent/UserJifen/ExchangeRecord/ExchangeRecord.js";function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var p,m,d,b,h,v,n=(l=(0,l.default.Service)(n.default),f(_,v=o.a.Component),_.prototype.componentDidMount=function(){this.initGetRecordData(this.curPage,this.monthIndex),this.setSelMonth()},_.prototype.setSelMonth=function(){var e=this.createMonthsData();this.setState({selMonth:e[2].month})},_.prototype.initGetRecordData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,i=this.createMonthsData();this.jifenServices.getUserExchangeRecordData({page:e,month:i[t].month,year:i[t].year})},_.prototype.createMonthsData=function(){var e=(new Date).getMonth(),t=(new Date).getFullYear(),i=(e-2+12)%12+1,n=(e-1+12)%12+1;return[{year:i>(e+=1)?t-1:t,month:i},{year:e<n?t-1:t,month:n},{year:t,month:e}]},_.prototype.clickBackBtn=function(){this.jifenServices.isShowExchangeRecord(!1)},_.prototype.clickSelectMonth=function(e,t){this.monthIndex=e,this.setState({selMonth:t}),this.initGetRecordData(this.page,e)},_.prototype.render=function(){var i=this,e=this.props.exchangeRecordData,n=this.state.selMonth,r=this.createMonthsData(),t=e&&e.list||[],a=e&&e.total||0,e=e&&e.limit||1,e=Math.ceil(a/e);return o.a.createElement("div",{className:"ExchangeRecord",__source:{fileName:u,lineNumber:108},__self:this},o.a.createElement("div",{className:"ExchangeRecord-title",__source:{fileName:u,lineNumber:109},__self:this},o.a.createElement("span",{className:"ExchangeRecord-titleBack",onClick:this.clickBackBtn,__source:{fileName:u,lineNumber:110},__self:this},o.a.createElement("span",{className:"ExchangeRecord-titleBackIcon",__source:{fileName:u,lineNumber:111},__self:this}),"返回"),o.a.createElement("span",{className:"ExchangeRecord-titleName",__source:{fileName:u,lineNumber:114},__self:this},o.a.createElement("span",{className:"ExchangeRecord-titleNameImpt",__source:{fileName:u,lineNumber:115},__self:this},"兑换"),"记录")),o.a.createElement("div",{className:"ExchangeRecord-content",__source:{fileName:u,lineNumber:119},__self:this},o.a.createElement("div",{className:"ExchangeRecord-contentCalender",__source:{fileName:u,lineNumber:120},__self:this},o.a.createElement("div",{className:"ExchangeRecord-contentCalenderSelect",__source:{fileName:u,lineNumber:121},__self:this},o.a.createElement("div",{className:"ExchangeRecord-contentCalenderSelectCurrent",__source:{fileName:u,lineNumber:122},__self:this},o.a.createElement("span",{className:"ExchangeRecord-contentCalenderSelectCurrentCalenderIcon",__source:{fileName:u,lineNumber:123},__self:this}),o.a.createElement("span",{className:"ExchangeRecord-contentCalenderSelectCurrentText",__source:{fileName:u,lineNumber:124},__self:this},n===r[2].month?"本":n,"月"),o.a.createElement("span",{className:"ExchangeRecord-contentCalenderSelectCurrentArrowIcon",__source:{fileName:u,lineNumber:127},__self:this})),o.a.createElement("ul",{className:"ExchangeRecord-contentCalenderSelectList",__source:{fileName:u,lineNumber:129},__self:this},r.map(function(e,t){return o.a.createElement("li",{className:"ExchangeRecord-contentCalenderSelectListMonth "+(e.month===n?"is-selectedMonth":""),key:e.month,onClick:function(){i.clickSelectMonth(t,e.month)},__source:{fileName:u,lineNumber:132},__self:i},t===r.length-1?"本":e.month,"月")})))),o.a.createElement("div",{className:"ExchangeRecord-contentRecord",__source:{fileName:u,lineNumber:146},__self:this},o.a.createElement("div",{className:"ExchangeRecord-contentRecordList",__source:{fileName:u,lineNumber:147},__self:this},o.a.createElement("div",{className:"ExchangeRecord-contentRecordListThead",__source:{fileName:u,lineNumber:148},__self:this},o.a.createElement("div",{className:"ExchangeRecord-contentRecordListTheadTime",__source:{fileName:u,lineNumber:149},__self:this},"兑换时间"),o.a.createElement("div",{className:"ExchangeRecord-contentRecordListTheadDesc",__source:{fileName:u,lineNumber:150},__self:this},"兑换信息"),o.a.createElement("div",{className:"ExchangeRecord-contentRecordListTheadUsed",__source:{fileName:u,lineNumber:151},__self:this},"使用积分")),o.a.createElement("div",{className:"ExchangeRecord-contentRecordListTbody",__source:{fileName:u,lineNumber:153},__self:this},t.length?t.map(function(e,t){return o.a.createElement("div",{className:"ExchangeRecord-contentRecordListTbodyTr",key:t,__source:{fileName:u,lineNumber:158},__self:i},o.a.createElement("div",{className:"ExchangeRecord-contentRecordListTbodyTrTime",__source:{fileName:u,lineNumber:159},__self:i},c.default.formatDate(new Date(1e3*parseInt(e.create_time,10)),"yyyy-MM-dd hh:mm")),o.a.createElement("div",{className:"ExchangeRecord-contentRecordListTbodyTrDesc",title:e.name,__source:{fileName:u,lineNumber:162},__self:i},o.a.createElement("img",{className:"ExchangeRecord-contentRecordListTbodyTrDescImg",src:e.pic,__source:{fileName:u,lineNumber:164},__self:i}),e.name||""),o.a.createElement("div",{className:"ExchangeRecord-contentRecordListTbodyTrUsed",__source:{fileName:u,lineNumber:168},__self:i},"-",e.point||0))}):o.a.createElement("div",{className:"ExchangeRecord-contentRecordListTbodyNone",__source:{fileName:u,lineNumber:173},__self:this},"暂无记录"))),1<e?o.a.createElement(s.default,{totalPage:e,data:this.monthIndex,callback:this.initGetRecordData,__source:{fileName:u,lineNumber:180},__self:this}):"")))},p=(n=_).prototype,m="jifenServices",l=[l],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=l.slice().reverse().reduce(function(e,t){return t(p,m,e)||e},h),b&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(p,m,h),h=null),a=h,n);function _(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);var e,t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this));return t="jifenServices",n=e=r,(i=a)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),r.curPage=1,r.monthIndex=2,r.state={selMonth:null},r.clickBackBtn=r.clickBackBtn.bind(r),r.clickSelectMonth=r.clickSelectMonth.bind(r),r.initGetRecordData=r.initGetRecordData.bind(r),r}t.default=Object(r.connect)(function(e){return{exchangeRecordData:e.jifenUserReducers.exchangeRecordData}})(n)},"762a09":function(e,t,i){"use strict";i=i("79c942");t.default=i.default},"76b1ae":function(e,t,i){e.exports=i("5f575e")("75abf")},"76b8f4":function(e,t,i){},"76e00e":function(e,t,i){"use strict";i=i("4519a7");t.default=i.default},"770a35":function(e,t,i){e.exports=i("5f575e")("53983")},"770d61":function(e,t,i){e.exports=i("5f575e")("5a05f")},"77f22b":function(e,t,i){e.exports=i("5f575e")("52dab")},"78c74d":function(e,t,i){},"7912b6":function(e,t,i){e.exports=i("5f575e")("48f66")},"7941b5":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/entry_icon_a20ad19.png"},"79c942":function(e,t,i){"use strict";var a,o,n=i("1a22b7"),r=i.n(n),l=i("503124"),c=i.n(l),s=i("3b6ec9"),u=i.n(s),f=i("7ca7dc"),n=i("eb3e22"),l=i("54992a"),p=i("16358b"),s=i("a27494"),m=i("a8024b"),d=(i("f9a960"),"/shark/live/src/pages/roomPage/toolbarModule/components/LPLmatchinfo/LPLmatchinfo.js");function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function _(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var g,f=f.default.Service,y=i("ba0ef0"),l=(n=f(n.DataCenter.global),s=f(s.default),Object(l.log)((v(N,g=r.a.Component),N.prototype.componentDidMount=function(){p.default.toolbarActivityShow("LPLmatchinfo"),this.lPLmatchinfoService.LPLmatchinfo=this},N.prototype.renderBox=function(){var e=this.state,t=e.displayStatus,e=e.matchId;return 1===t?r.a.createElement("div",{className:"LPLmatchinfo-box",__source:{fileName:d,lineNumber:59},__self:this},r.a.createElement("p",{className:"LPLmatchinfo-text",__source:{fileName:d,lineNumber:60},__self:this},"使用LPL赛事实时数据前要先登录哦~"),r.a.createElement("a",{className:"LPLmatchinfo-btn",onClick:this.lPLmatchinfoService.showLogin,__source:{fileName:d,lineNumber:61},__self:this},"登录")):2===t?r.a.createElement("div",{className:"LPLmatchinfo-box",__source:{fileName:d,lineNumber:64},__self:this},r.a.createElement("p",{className:"LPLmatchinfo-text is-more",__source:{fileName:d,lineNumber:65},__self:this},"使用LPL赛事实时数据前要先绑定手机哦~"),r.a.createElement("a",{className:"LPLmatchinfo-btn2",onClick:this.lPLmatchinfoService.goTXpage,__source:{fileName:d,lineNumber:66},__self:this},"已绑定？进入下一步"),r.a.createElement("a",{className:"LPLmatchinfo-btn",href:"https://www.douyu.com/member/cpSecurity/bindPhone",target:"_blank",__source:{fileName:d,lineNumber:67},__self:this},"绑定手机")):3===t?r.a.createElement("div",{className:"LPLmatchinfo-box",__source:{fileName:d,lineNumber:70},__self:this},r.a.createElement("iframe",{src:"https://aux-watch.tjstats.com?plat=douyu&matchID="+e,width:"100%",height:"100%",__source:{fileName:d,lineNumber:71},__self:this})):null},N.prototype.render=function(){var e=this.state.displayStatus,t=this.getWarpPosition(425,630),i=t.x,t=t.y;return r.a.createElement("div",{className:"LPLmatchinfo",__source:{fileName:d,lineNumber:84},__self:this},r.a.createElement(m.default,{baseUrl:y,des:"实时战绩",leftColor:"#353d49",rightColor:"#455a78",onClick:this.lPLmatchinfoService.handleBtnClick,__source:{fileName:d,lineNumber:85},__self:this}),e?u.a.createPortal(r.a.createElement(c.a,{bounds:"body",handle:".LPLmatchinfo-dialog-top",defaultPosition:{x:i,y:t},__source:{fileName:d,lineNumber:95},__self:this},r.a.createElement("div",{className:"LPLmatchinfo-dialog",__source:{fileName:d,lineNumber:96},__self:this},r.a.createElement("div",{className:"LPLmatchinfo-dialog-top",style:{display:"block"},__source:{fileName:d,lineNumber:99},__self:this},r.a.createElement("span",{__source:{fileName:d,lineNumber:100},__self:this},"按住此处可拖动"),r.a.createElement("i",{className:"LPLmatchinfo-dialog-close",onClick:this.lPLmatchinfoService.closeDialogClick,__source:{fileName:d,lineNumber:101},__self:this})),this.renderBox())),document.body):null)},a=_((l=N).prototype,"global",[n],{enumerable:!0,initializer:null}),o=_(l.prototype,"lPLmatchinfoService",[s],{enumerable:!0,initializer:null}),l=l))||l);function N(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=h(this,g.call.apply(g,[this].concat(n))),b(t,"global",a,t),b(t,"lPLmatchinfoService",o,t),t.state={roomId:t.global.get("$ROOM.room_id"),matchId:"",displayStatus:0,showDialogTop:!1},t.getWarpPosition=function(e,t){var i=document.documentElement,n=i.clientWidth,i=i.clientHeight;return{x:parseInt((n-e)/2,10),y:parseInt((i-t)/2,10)}},t.toggleShowDialogTop=function(e){return function(){t.setState({showDialogTop:e})}},h(t,e)}t.default=l},"7afc3e":function(e,t,i){"use strict";var s,a=i("1a22b7"),o=i.n(a),n=i("447d8e"),r=i("97a1f0"),l=i("e48bb1"),c=i("c95695"),u=i("2d10ba"),f=(i("da7b9b"),"/shark/live/src/pages/roomPage/toolbarModule/components/GuessIcon/GuessIconItem.js");function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function d(e){var t=e.onClick,e=e.onClose;return o.a.createElement("div",{className:"GuessIconTips",__source:{fileName:f,lineNumber:20},__self:void 0},o.a.createElement("span",{onClick:t,__source:{fileName:f,lineNumber:21},__self:void 0},"鱼丸预言正在火热进行中，点击参与得鱼丸"),o.a.createElement("span",{className:"closeIconTips",onClick:e,__source:{fileName:f,lineNumber:22},__self:void 0}))}function b(e){var t=e.onClick,e=e.onClose;return o.a.createElement("div",{className:"GuessIconTips GuessIconTips-isAnchor",__source:{fileName:f,lineNumber:27},__self:void 0},o.a.createElement("div",{className:"GuessIconTips-isAnchor--text",onClick:t,__source:{fileName:f,lineNumber:28},__self:void 0},o.a.createElement("div",{className:"GuessIconTips-isAnchor--firstRow",__source:{fileName:f,lineNumber:29},__self:void 0},"主播发起鱼丸预言，可有效提升"),o.a.createElement("div",{__source:{fileName:f,lineNumber:30},__self:void 0},"用户观看时长并增加直播间热度")),o.a.createElement("span",{className:"closeIconTips",onClick:e,__source:{fileName:f,lineNumber:32},__self:void 0}))}var h,v,_,g,y,N,l=(c=Object(r.Inject)(c.default),m(w,N=l.default),w.prototype.componentDidMount=function(){var t=this;N.prototype.componentDidMount&&N.prototype.componentDidMount.call(this);var e=this.guessIconService.isAnchor(),i=!e&&this.guessIconService.isSmallPanelClosed();this.setState({needInit:i,isAnchor:e}),e&&this.guessIconService.subscribeShowState(function(e){e&&t.setState({needInit:!1,showTips:!0})})},w.prototype.componentWillReceiveProps=function(e){this.state.needInit&&0!==e.guessThemeDataList.length&&(e=e.guessThemeDataList.some(function(e){return"1"===e.qs}),this.setState({needInit:!1,showTips:e}),e&&this.autoCloseTips())},w.prototype.componentWillUnmount=function(){N.prototype.componentWillUnmount&&N.prototype.componentWillUnmount.call(this),this.timer&&clearTimeout(this.timer)},w.prototype.getAcivityComponent=function(){return N.prototype.getAcivityComponent.call(this)||o.a.createElement(u.default,{data:this.props.data,__source:{fileName:f,lineNumber:93},__self:this})},w.prototype.render=function(){var e=this,t=this.props.data,i=this.state,n=i.showTips,r=n?"ActivityBtnFixed":"ActivityBtn",i=i.isAnchor?b:d;return o.a.createElement("div",{className:"ActivityItem","data-flag":t.activityFlag,onClick:function(){e.setPoint(t.id,t.fold)},__source:{fileName:f,lineNumber:124},__self:this},!n&&t.iconHoverTitle&&o.a.createElement("div",{className:"ActivityTips",__source:{fileName:f,lineNumber:132},__self:this},t.iconHoverTitle),n&&o.a.createElement(a.Fragment,{__source:{fileName:f,lineNumber:135},__self:this},o.a.createElement(i,{onClick:this.clickTips,onClose:this.closeTips,__source:{fileName:f,lineNumber:136},__self:this}),o.a.createElement("i",{class:"GuessIconTips-arrowOuter",__source:{fileName:f,lineNumber:137},__self:this},o.a.createElement("i",{class:"GuessIconTips-arrowInner",__source:{fileName:f,lineNumber:138},__self:this}))),o.a.createElement("div",{className:r,__source:{fileName:f,lineNumber:142},__self:this},this.getAcivityComponent()))},h=(l=w).prototype,v="guessIconService",c=[c],_={enumerable:!0,initializer:null},y={},Object.keys(_).forEach(function(e){y[e]=_[e]}),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),y=c.slice().reverse().reduce(function(e,t){return t(h,v,e)||e},y),g&&void 0!==y.initializer&&(y.value=y.initializer?y.initializer.call(g):void 0,y.initializer=void 0),void 0===y.initializer&&(Object.defineProperty(h,v,y),y=null),s=y,l);function w(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=p(this,N.call.apply(N,[this].concat(l))),n="guessIconService",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.autoCloseTips=function(){t.timer=setTimeout(function(){return t.setState({showTips:!1})},5e3)},t.closeTips=function(e){e&&e.stopPropagation(),t.setState({showTips:!1})},t.clickTips=function(){t.setState({showTips:!1},function(){t.props.panelStatus||(t.guessIconService.guessGameDYSub("click_anchorquiz",{}),t.guessIconService.oppositeStatus())})},p(t,e)}t.default=Object(n.connect)(function(e){return{panelStatus:e.guessIconEntryData&&e.guessIconEntryData.panelStatus,guessThemeDataList:e.guessThemeData&&e.guessThemeData.list||[]}})(l)},"7b2499":function(e,t,i){"use strict";var n,r,a,o=i("1a22b7"),l=i.n(o),c=i("7ca7dc"),s=i("eb3e22"),o=i("fb93d4"),u=(i("44f516"),"/shark/live/src/pages/roomPage/toolbarModule/business/rightArea/RedPacket/components/Enter.js");function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function m(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var d,i=c.default.Service,b="RedPacketEntryNewDot",o=(c=i(s.DataCenter.common),s=i(s.DataCenter.localStorage),i=i(o.default),p(h,d=l.a.Component),h.prototype.componentDidMount=function(){this.localStorage.get(b)||this.setState({isNewShow:!0})},h.prototype.render=function(){var e=this.state.isNewShow;return l.a.createElement("div",{className:"RedPacket-enter",onClick:this.clickEnter,__source:{fileName:u,lineNumber:40},__self:this},e?l.a.createElement("span",{className:"RedPacket-newDot",__source:{fileName:u,lineNumber:45},__self:this}):null,l.a.createElement("div",{className:"RedPacket-txt",__source:{fileName:u,lineNumber:47},__self:this},"元宵红包"))},n=m((o=h).prototype,"common",[c],{enumerable:!0,initializer:null}),r=m(o.prototype,"localStorage",[s],{enumerable:!0,initializer:null}),a=m(o.prototype,"RedPacketPanelServices",[i],{enumerable:!0,initializer:null}),o);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,d.call(this,e));return f(t,"common",n,t),f(t,"localStorage",r,t),f(t,"RedPacketPanelServices",a,t),t.clickEnter=function(){t.RedPacketPanelServices.togglePanel({isPanelShow:!0}),t.localStorage.get(b)||(t.localStorage.set(b,1),t.setState({isNewShow:!1}))},t.state={isNewShow:!1},t}t.default=o},"7ba921":function(e,t,i){e.exports=i("5f575e")("4704f")},"7c389e":function(e,t,i){"use strict";var a=i("109005"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function l(e,t){var i,n={};for(i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{rid:0,matchInfo:null,useConfig:null,curMatchStatus:90,error:!0,selectedPlayers:{}},t=arguments[1];switch(t.type){case a.UPDATE_LPL_DSJ_MATCHINFO:var i=t.payload,n=i.error,r=i.rid,i=l(i,["error","rid"]);return o({},e,{curMatchStatus:i.matchStatus,rid:r||e.rid,error:n,matchInfo:i});case a.UPDATE_LPL_DSJ_USERINFO:n=t.payload,i=n.error,n=l(n,["error"]);return o({},e,{error:i,useConfig:n});case a.UPDATE_LPL_DSJ_ERROR:return o({},e,{error:t.payload});case a.RESET_LPL_DSJ:return{rid:e.rid||0,matchInfo:null,useConfig:null,curMatchStatus:90,error:!0};case a.SAVE_LPL_DSJ_PLAYER:return o({},e,{selectedPlayers:t.payload});default:return e}}},"7ca7dc":function(e,t,i){e.exports=i("2d6146")("f0df9")},"7cdbfb":function(e,t,i){"use strict";var r,a,n,o=i("1a22b7"),p=i.n(o),l=i("447d8e"),c=i("193899"),s=i("7ca7dc"),u=i("54992a"),o=i("5b9730"),f=(i("179cdf"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),m="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/BatchGive.js";function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var v,i=s.default.Service,s=(s=Object(u.log)(!0),o=i(o.default),u=i(u.Logger),s((b(g,v=p.a.Component),g.prototype.componentWillMount=function(){var e=this.props.giftInfo,t=void 0===e?{}:e,i=t.priceInfo,n=void 0===i?{}:i,e=t.batchInfo,i=n.priceType,t=n.price,n=this.formatBatchList(void 0===e?{}:e),e=n[0]||{};this.changeState({index:0,num:+e.batchNum||1,sendNum:+e.batchNum||1,list:n,price:t,priceType:i})},g.prototype.componentWillReceiveProps=function(e){var t=e.giftInfo,i=void 0===t?{}:t,n=i.priceInfo,r=void 0===n?{}:n,a=i.batchInfo,o=this.props.giftInfo||{},e=r.priceType,t=r.price,n=o.skinInfo||{},r=i.skinInfo||{},o=+i.id==+o.id;(!o||+r.skinId&&+n.skinId!=+r.skinId)&&(a=(r=this.formatBatchList(void 0===a?{}:a))[0]||{},this.changeState({index:0,num:+a.batchNum||1,sendNum:+a.batchNum||1,list:r,price:t,priceType:e}))},g.prototype.formatBatchList=function(t){var i=[];return t&&Object.keys(t).forEach(function(e){t[e]&&i.push(t[e])}),i},g.prototype.changeType=function(){-1!==this.state.index&&this.changeState({index:-1})},g.prototype.getSendBatchInfo=function(e){var t=this.props.giftInfo,t=(void 0===t?{}:t).batchInfo;return(void 0===t?{}:t)[e]},g.prototype.render=function(){var i=this,e="BatchGiveForm-num BatchGiveForm-btn  "+(this.state.disabled?" is-disabled":""),t=this.state.batchExpand?"BatchGiveBox is-expand":"BatchGiveBox",n=100,r=this.state,a=r.index,o=r.list,l=void 0===o?[]:o,c=r.price,s=r.priceType,u=r.num,f=this.props,o=f.giftInfo,r=void 0===o?{}:o,o=f.giftExtTxt,f=this.getSendBatchInfo(u),r=1==+r.isBatchLimited;return"YUWAN"===s&&(n=1),p.a.createElement("div",{className:t,__source:{fileName:m,lineNumber:206},__self:this},p.a.createElement("div",{className:"BatchGiveForm BatchGiveForm--clearfix",__source:{fileName:m,lineNumber:207},__self:this},l.map(function(e,t){return p.a.createElement("span",{key:t,className:"BatchGiveForm-num "+(t===a?" is-selected":""),onClick:function(){i.choseBatchNum(t)},__source:{fileName:m,lineNumber:212},__self:i},e.batchNum)}),p.a.createElement("span",{className:e,onClick:this.sendGiftBatch,__source:{fileName:m,lineNumber:218},__self:this},"赠送"),r?null:p.a.createElement("span",{className:"BatchGiveForm-manual"+(-1===a?" is-selected":""),onClick:function(){i.choseInput(-1,u)},__source:{fileName:m,lineNumber:221},__self:this},p.a.createElement("input",{id:"batchInput",className:"BatchGiveForm-input",ref:this.value,onChange:function(e){i.changeType(),i.inputChange(e)},onFocus:this.changeType,onKeyPress:this.enterSend,autoComplete:"off",type:"text",placeholder:"自定义",maxLength:"4",value:u,__source:{fileName:m,lineNumber:225},__self:this}))),f?p.a.createElement("div",{className:"BatchGiveDesc",__source:{fileName:m,lineNumber:244},__self:this},p.a.createElement("span",{key:a,className:"BatchGiveDesc-txt is-selected",__source:{fileName:m,lineNumber:246},__self:this},p.a.createElement("span",{__source:{fileName:m,lineNumber:249},__self:this},'"'+(f.name||"")+'"：'),p.a.createElement("span",{className:"BatchGiveDesc-price",style:{color:"#eb6100"},__source:{fileName:m,lineNumber:250},__self:this},u*c/n+("YUWAN"===s?"鱼丸":"鱼翅")),o?p.a.createElement("span",{className:"BatchGiveDesc-extTxt",__source:{fileName:m,lineNumber:253},__self:this},o):null)):null)},g.propTypes={},n=function(){var n=this;d(this,"giftService",r,this),d(this,"logger",a,this),this.setBatchGiveInfo=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:n.props).giftInfo;n.giftService.batchGiveSelectInfo$.next(f({},n.state,{id:(void 0===e?{}:e).id}))},this.changeState=function(e){n.setState(e,n.setBatchGiveInfo)},this.choseBatchNum=function(e){var t=n.state.list,i=void 0===t?[]:t,t=i[e]||{};n.changeState({index:e,num:+t.batchNum||1,sendNum:+t.batchNum||1,priceName:t.name,list:i.slice(0),disabled:!1})},this.choseInput=function(e,t){n.changeState({index:e,sendNum:t})},this.inputChange=function(e){e=e.target.value;n.checkNum(e)?n.changeState({num:e,sendNum:e,disabled:!1}):n.changeState({num:e,sendNum:e,disabled:!0})},this.checkNum=function(e){return!!/^[1-9]\d*$/.test(e)&&!(e<1||9999<e)},this.sendGiftBatch=function(){var e=n.state,t=e.sendNum,i=e.disabled,e=n.props.giftInfo;i||n.props.sendGiftBatch(t,e)},this.enterSend=function(e){13===e.which&&(e.preventDefault(),n.sendGiftBatch())}},r=h((s=g).prototype,"giftService",[o],{enumerable:!0,initializer:null}),a=h(s.prototype,"logger",[u],{enumerable:!0,initializer:null}),s=s))||s),_=Object(c.createSelector)(function(e){e=e.giftData;return(void 0===e?{}:e).giftInfo},function(e){e=e.batchGiveData;return(void 0===e?{}:e).bizlist},function(e,t){var i=(e||{}).id,e=t.find(function(e){return+e.giftid==+i})||{},t=e.giftTxt;return 1==+e.gift?void 0===t?"":t:""});function g(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this,e));return n.call(t),t.state={index:0,disabled:!1},t.enterSend=t.enterSend.bind(t),t.changeType=t.changeType.bind(t),t.setBatchGiveInfo(e),t}t.default=Object(l.connect)(function(e){return{giftExtTxt:_(e)}})(s)},"7d6630":function(e,t,i){},"7dc939":function(e,t,i){"use strict";i=i("f8acd9");t.default=i.default},"7e2295":function(e,t,i){e.exports=i("5f575e")("5ecc6")},"7e5c17":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=(i("f2a3ad"),"/shark/live/src/pages/roomPage/toolbarModule/components/WishPondEnter/WishPondTips.js");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,i=(o(c,l=r.a.PureComponent),c.prototype.render=function(){var e=this.props,t=e.wishPondGuideText,t=void 0===t?"许愿池功能上线，快来许愿领取鱼丸吧~":t,i=e.hideTips,e=e.clickTips;return r.a.createElement("div",{className:"WishPondTips",onClick:e,__source:{fileName:a,lineNumber:15},__self:this},r.a.createElement("div",{className:"WishPondTips-close",onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),i()},__source:{fileName:a,lineNumber:16},__self:this}),r.a.createElement("div",{className:"WishPondTips-wrap",__source:{fileName:a,lineNumber:21},__self:this},r.a.createElement("div",{className:"WishPondTips-content",__source:{fileName:a,lineNumber:22},__self:this},t)))},c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,l.apply(this,arguments))}t.default=i},"7e71e1":function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),a=i("7ca7dc"),o=i("54992a"),l=i("e854a7"),c=i("97a851"),n=i.n(c),c=i("b067ea"),u=i("f8cfe9");function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var m,d,b,h,v,_,a=a.default.Service,g=l.default.socketProxy,y=(l.default.socketStream,n.a.encode);function N(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=f(this,_.call.apply(_,[this].concat(l))),n="configEffectBroadcastService",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),f(t,e)}c=a(c.default),Object(o.log)((p(N,_=r.a.Component),N.prototype.componentDidMount=function(){this.configEffectBroadcastService.register("wishpond",{mockData:u.default,type:"SHOW_WISH_POND_PANEL"});var e=y({gbtemp:"198",nrt:"0",now:"1551064306000",btype:"wishpond",vsrc:"https://xxx.com/封面.jpg",avatar:"http://xxx",type:"configscreen",rid:"77594146",otherContent:"1.2万",userName:"4",anchorName:"godxxx"});g.onMessage(e)},N.prototype.render=function(){return null},m=(r=N).prototype,d="configEffectBroadcastService",c=[c],b={enumerable:!0,initializer:null},v={},Object.keys(b).forEach(function(e){v[e]=b[e]}),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=c.slice().reverse().reduce(function(e,t){return t(m,d,e)||e},v),h&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(h):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(m,d,v),v=null),s=v,r))},"7e7b27":function(e,t,i){"use strict";var u,n=i("1a22b7"),f=i.n(n),r=i("447d8e"),n=i("7ca7dc"),p=i("db47a7"),m=i("7ba921"),i=i("d60774"),d="/shark/live/src/pages/roomPage/toolbarModule/components/BattleShipEnter/BattleShipTips.js";function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var o,l,c,s,h,v,i=(n=(0,n.default.Service)(i.default),a(_,v=f.a.Component),_.prototype.componentDidMount=function(){this.battleShipEnterServices.init()},_.prototype.render=function(){var t=this,e=this.props,i=e.configs,n=void 0===i?{}:i,r=e.treasureTipsData,i=void 0===r?{}:r,r=e.isCarnivalOpen,e=void 0!==r&&r,r=this.battleShipEnterServices.isAnchor(),e=this.tipsShowInfo(n,i,e);return f.a.createElement("div",{className:"BattleShipTips "+(r?"BattleShipTips-right":""),onClick:function(){return t.onTipsClick()},__source:{fileName:d,lineNumber:156},__self:this},f.a.createElement("div",{className:"BattleShipTips-close",onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.battleShipEnterServices.closeTips()},__source:{fileName:d,lineNumber:157},__self:this}),f.a.createElement("div",{className:"BattleShipTips-wrap",__source:{fileName:d,lineNumber:162},__self:this},f.a.createElement("div",{className:"BattleShipTips-content",__source:{fileName:d,lineNumber:163},__self:this},f.a.createElement("div",{className:"BattleShipTips-pic",__source:{fileName:d,lineNumber:164},__self:this}),e)))},o=(i=_).prototype,l="battleShipEnterServices",n=[n],c={enumerable:!0,initializer:null},h={},Object.keys(c).forEach(function(e){h[e]=c[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=n.slice().reverse().reduce(function(e,t){return t(o,l,e)||e},h),s&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(s):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(o,l,h),h=null),u=h,i);function _(){var e,c,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var t,i,n,r,o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return e=c=b(this,v.call.apply(v,[this].concat(l))),i="battleShipEnterServices",r=t=c,(n=u)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),c.renderPropsList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1],n=[];return e.forEach(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.pid,e=e.num,e=void 0===e?"":e,t=c.battleShipEnterServices.propIdToName(void 0===t?"":t,i);n.push(t+"x"+e)}),n.join("、")},c.renderTipsInfo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=e.prop_list,i=void 0===i?[]:i;return c.doDysub("16010021Z00X",3),f.a.createElement("div",{className:"BattleShipTips-info",__source:{fileName:d,lineNumber:38},__self:a},f.a.createElement("div",{className:"BattleShipTips-txt1",__source:{fileName:d,lineNumber:39},__self:a},"恭喜",f.a.createElement("span",{className:"BattleShipTips-name",title:e.nickname||"--",__source:{fileName:d,lineNumber:39},__self:a},e.nickname||"--"),"获得超级","军团","装备"),f.a.createElement("div",{className:"BattleShipTips-txt2",__source:{fileName:d,lineNumber:40},__self:a},c.renderPropsList(i,t)))},c.renderTipsInfo2=function(e){var t=e.treasureTipsData,i=e.carnival,e=e.isSuperDouble,t=((void 0===t?{}:t)||{}).gold,t=void 0===t?0:t,t=+t?Object(m.formatDecimals)(+t/100,1):"",i=c.getDoubleText(i);return c.doDysub("16010021Z00W",3),e?f.a.createElement("div",{className:"BattleShipTips-info",__source:{fileName:d,lineNumber:54},__self:a},f.a.createElement("div",{className:"BattleShipTips-txt1",__source:{fileName:d,lineNumber:55},__self:a},"超级","军团","装备已激活，超级加倍升级中"),f.a.createElement("div",{className:"BattleShipTips-txt1",__source:{fileName:d,lineNumber:56},__self:a},"超级装备：",f.a.createElement("span",{className:"BattleShipTips-txt2",__source:{fileName:d,lineNumber:56},__self:a},"价值",t,"鱼翅的道具")),f.a.createElement("div",{className:"BattleShipTips-txt1",__source:{fileName:d,lineNumber:57},__self:a},"超级加倍：最高",f.a.createElement("span",{className:"BattleShipTips-txt2",__source:{fileName:d,lineNumber:57},__self:a},i))):f.a.createElement("div",{className:"BattleShipTips-info",__source:{fileName:d,lineNumber:63},__self:a},t?f.a.createElement("div",{className:"BattleShipTips-txt1",__source:{fileName:d,lineNumber:66},__self:a},"超级","军团","装备：",f.a.createElement("span",{className:"BattleShipTips-txt2",__source:{fileName:d,lineNumber:66},__self:a},"价值",t,"鱼翅的道具装备"),"已开启，快来参与吧~"):f.a.createElement("div",{className:"BattleShipTips-txt1",__source:{fileName:d,lineNumber:67},__self:a},"超级","军团","装备已开启，快来参与吧~"))},c.getDoubleText=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})||{},t=e.charge_type,i=void 0===t?1:t,n=e.charge_level,r=void 0===n?[]:n,t=e.charge_level_2,n=void 0===t?[]:t,t=e.charge_award_prop,e=void 0===t?[]:t,t="";return 1==+i?(r=(0<=r.length-1?r[r.length-1]:{}).award_yc||0,t=Object(m.formatDecimals)(r/100,1)+"鱼翅"):2==+i&&(n=(i=0<=n.length-1?n[n.length-1].award_prop:{}).prop_id,i=void 0===(i=i.num)?"":i,e=c.battleShipEnterServices.propIdToName(void 0===n?0:n,e),t=f.a.createElement(f.a.Fragment,{__source:{fileName:d,lineNumber:97},__self:a},f.a.createElement("span",{className:"BattleShipTips-maxGiftName",title:e,__source:{fileName:d,lineNumber:97},__self:a},e),"x",i)),t},c.doDysub=function(e,t){Object(p.dysub2)({action_code:e,event_id:t,type:1})},c.tipsShowInfo=function(e,t,i){var n=(t||{}).type,r=e||{},e=r.prop_award_setting,a=void 0===e?{}:e,r=r.carnival,o=void 0===r?{}:r,l=null;switch(void 0===n?"":n){case"mcsperoom":l=c.renderTipsInfo(t,a);break;case"mcspeacsite":l=c.renderTipsInfo2({treasureTipsData:t,carnival:o,isSuperDouble:i})}return l},c.onTipsClick=function(){var e=c.props.treasureTipsData,e=((void 0===e?{}:e)||{}).type;switch(void 0===e?"":e){case"mcsperoom":c.doDysub("16010021Z00X",1);break;case"mcspeacsite":c.doDysub("16010021Z00W",1)}c.battleShipEnterServices.togglePanel()},b(c,e)}t.default=Object(r.connect)(function(e){var t=e.battleShipData,t=void 0===t?{}:t,e=e.battleShipEnterData;return{configs:t.configs,isCarnivalOpen:t.isCarnivalOpen,treasureTipsData:(void 0===e?{}:e).treasureTipsData}})(i)},"7e93cf":function(e,t,i){"use strict";var s,n=i("1a22b7"),l=i.n(n),r=i("447d8e"),a=i("7ca7dc"),o=i("54992a"),n=i("5b9730"),c=i("5d98c6"),u=i("8ec0ba"),f=(i("358df2"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),p="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/FudaiGift/FudaiGiftModal.js";function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var b,h,v,_,g,y,o=(n=(0,a.default.Service)(n.default),Object(o.log)((d(N,y=l.a.Component),N.prototype.render=function(){var e=this.props,t=e.fdGiftConfig,i=e.fdReturnYwExist,n=e.fdReturnYwModal,r=e.fdReturnYwModalData,a=void 0===r?{}:r,o=t.multiple,e=t.guideSwitch,r=a.pid,t=this.giftService.getFudaiPropInfo(r),r=t.prop_name,t=t.prop_pic_web,t=f({},a,{pName:void 0===r?"":r,pImg:void 0===t?"":t});return i?l.a.createElement("div",{__source:{fileName:p,lineNumber:46},__self:this},l.a.createElement(c.default,{showModalStatus:n,shutModal:this.hideSuccessModal,item:t,__source:{fileName:p,lineNumber:47},__self:this}),l.a.createElement(u.default,{yw:o,guideSwitch:e,__source:{fileName:p,lineNumber:52},__self:this})):null},b=(o=N).prototype,h="giftService",n=[n],v={enumerable:!0,initializer:null},g={},Object.keys(v).forEach(function(e){g[e]=v[e]}),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),g=n.slice().reverse().reduce(function(e,t){return t(b,h,e)||e},g),_&&void 0!==g.initializer&&(g.value=g.initializer?g.initializer.call(_):void 0,g.initializer=void 0),void 0===g.initializer&&(Object.defineProperty(b,h,g),g=null),s=g,o=o))||o);function N(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=m(this,y.call.apply(y,[this].concat(l))),n="giftService",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.hideSuccessModal=function(){t.giftService.fudaiFirstSendSwitch(!1)},m(t,e)}t.default=Object(r.connect)(function(e){return{fdGiftConfig:e.giftData.fdGiftConfig,fdReturnYwExist:e.giftData.fdReturnYwExist,fdReturnYwModal:e.giftData.fdReturnYwModal,fdReturnYwModalData:e.giftData.fdReturnYwModalData}})(o)},"7ede87":function(e,t,i){},"7ef6f8":function(e,t,i){"use strict";var n=i("7ca7dc"),r=i("af13a4"),a=i("852ea4"),o=i("8b9c19"),l=i("8801cd"),c=i("498acc"),s=i("ade066"),u=i("b4cbea"),f=i("9fd49d"),p=i("ae6628"),m=i("c2a11b"),d=i("dda3e9"),b=i("46ee3f"),i=i("9bd669"),n=n.default.combineEpicsClass;t.default=n(r.default,a.default,o.default,l.default,c.default,s.default,u.default,f.default,p.default,m.default,d.default,b.default,i.default)},"7fb220":function(e,t,i){e.exports=i("5f575e")("fb988")},804584:function(e,t,i){"use strict";i.d(t,"YzRule",function(){return de});var a,o,l,c,s,u,f,p,m,d,b,h,v,_,g,y,N,w,O,S,E,j,T,P,D,C,k,I,z,R,A,x,G,L,M,B,F,U,W,J,Y,n=i("eb3e22"),r=i("54992a");function H(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function q(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var Z,Q,X,ee,te,ie,ne,re,ae=n.basicTypes.string,oe=n.basicTypes.number,le=n.basicTypes.array,ce=n.basicTypes.mapping,se=n.basicTypes.boolean,ue=n.basicTypes.typed,fe=n.basicTypes.optional,pe=n.basicTypes.oneOf,me=(me=ce({ownerName:"owner_name",cateId:"cate_id",isLive:"is_live"}),t=pe(ae,oe),i=pe(ae,oe),me((K(Ne,ne=n.EntityDto),a=q((me=Ne).prototype,"idx",[oe],{enumerable:!0,initializer:null}),o=q(me.prototype,"sc",[ae],{enumerable:!0,initializer:null}),l=q(me.prototype,"rid",[ae],{enumerable:!0,initializer:null}),c=q(me.prototype,"ownerName",[ae],{enumerable:!0,initializer:null}),s=q(me.prototype,"src",[ae],{enumerable:!0,initializer:null}),u=q(me.prototype,"cateId",[t],{enumerable:!0,initializer:null}),f=q(me.prototype,"isLive",[se],{enumerable:!0,initializer:null}),p=q(me.prototype,"statu",[i],{enumerable:!0,initializer:null}),m=q(me.prototype,"title",[fe,ae],{enumerable:!0,initializer:null}),i=me))||i),i=ce({roomId:"room_id",ownerUid:"owner_uid",isLive:"is_live",ownerName:"owner_name",userNum:"user_num",userName:"user_name",userIcon:"user_icon",giftName:"gift_name",giftIcon:"gift_icon",giftId:"gift_id",isStealth:"is_stealth",userIdentity:"user_identity"})((K(ye,ie=n.EntityDto),d=q((i=ye).prototype,"roomId",[oe],{enumerable:!0,initializer:null}),b=q(i.prototype,"ownerUid",[oe],{enumerable:!0,initializer:null}),h=q(i.prototype,"isLive",[oe],{enumerable:!0,initializer:null}),v=q(i.prototype,"num",[oe],{enumerable:!0,initializer:null}),_=q(i.prototype,"userNum",[oe],{enumerable:!0,initializer:null}),g=q(i.prototype,"uid",[oe],{enumerable:!0,initializer:null}),y=q(i.prototype,"isStealth",[oe],{enumerable:!0,initializer:null}),N=q(i.prototype,"userIdentity",[oe],{enumerable:!0,initializer:null}),w=q(i.prototype,"avatar",[ae],{enumerable:!0,initializer:null}),O=q(i.prototype,"ownerName",[ae],{enumerable:!0,initializer:null}),S=q(i.prototype,"userName",[ae],{enumerable:!0,initializer:null}),E=q(i.prototype,"userIcon",[ae],{enumerable:!0,initializer:null}),j=q(i.prototype,"giftName",[ae],{enumerable:!0,initializer:null}),T=q(i.prototype,"giftIcon",[ae],{enumerable:!0,initializer:null}),P=q(i.prototype,"giftId",[oe],{enumerable:!0,initializer:null}),D=q(i.prototype,"title",[fe,ae],{enumerable:!0,initializer:null}),fe=i))||fe,fe=(fe=ce({giftIcon:"gift_icon",giftId:"gift_id",giftName:"gift_name"}),me=le(me),fe((K(ge,te=n.EntityDto),C=q((fe=ge).prototype,"giftIcon",[ae],{enumerable:!0,initializer:null}),k=q(fe.prototype,"giftId",[ae],{enumerable:!0,initializer:null}),I=q(fe.prototype,"giftName",[ae],{enumerable:!0,initializer:null}),z=q(fe.prototype,"list",[me],{enumerable:!0,initializer:null}),fe=fe))||fe),ue=(ue=ue(i),K(_e,ee=n.EntityDto),R=q((i=_e).prototype,"range",[ae],{enumerable:!0,initializer:null}),A=q(i.prototype,"data",[ue],{enumerable:!0,initializer:null}),i),de=(Object(r.log)((K(ve,X=n.EntityDto),x=q((i=ve).prototype,"author",[ae],{enumerable:!0,initializer:null}),G=q(i.prototype,"uid",[oe],{enumerable:!0,initializer:null}),i)),fe=le(fe),le=le(ue),Object(r.log)((K(he,Q=n.EntityDto),L=q((ue=he).prototype,"currWeek",[fe],{enumerable:!0,initializer:null}),M=q(ue.prototype,"lastWeek",[le],{enumerable:!0,initializer:null}),ue)),Object(r.log)((K(be,Z=n.EntityDto),B=q((ue=be).prototype,"icon",[ae],{enumerable:!0,initializer:null}),F=q(ue.prototype,"content",[ae],{enumerable:!0,initializer:null}),ue=ue))||ue);function be(){var e,t;V(this,be);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=$(this,Z.call.apply(Z,[this].concat(n))),H(t,"icon",B,t),H(t,"content",F,t),$(t,e)}function he(){var e,t;V(this,he);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=$(this,Q.call.apply(Q,[this].concat(n))),H(t,"currWeek",L,t),H(t,"lastWeek",M,t),$(t,e)}function ve(){var e,t;V(this,ve);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=$(this,X.call.apply(X,[this].concat(n))),H(t,"author",x,t),H(t,"uid",G,t),$(t,e)}function _e(){var e,t;V(this,_e);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=$(this,ee.call.apply(ee,[this].concat(n))),H(t,"range",R,t),H(t,"data",A,t),$(t,e)}function ge(){var e,t;V(this,ge);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=$(this,te.call.apply(te,[this].concat(n))),H(t,"giftIcon",C,t),H(t,"giftId",k,t),H(t,"giftName",I,t),H(t,"list",z,t),$(t,e)}function ye(){var e,t;V(this,ye);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=$(this,ie.call.apply(ie,[this].concat(n))),H(t,"roomId",d,t),H(t,"ownerUid",b,t),H(t,"isLive",h,t),H(t,"num",v,t),H(t,"userNum",_,t),H(t,"uid",g,t),H(t,"isStealth",y,t),H(t,"userIdentity",N,t),H(t,"avatar",w,t),H(t,"ownerName",O,t),H(t,"userName",S,t),H(t,"userIcon",E,t),H(t,"giftName",j,t),H(t,"giftIcon",T,t),H(t,"giftId",P,t),H(t,"title",D,t),$(t,e)}function Ne(){var e,t;V(this,Ne);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=$(this,ne.call.apply(ne,[this].concat(n))),H(t,"idx",a,t),H(t,"sc",o,t),H(t,"rid",l,t),H(t,"ownerName",c,t),H(t,"src",s,t),H(t,"cateId",u,t),H(t,"isLive",f,t),H(t,"statu",p,t),H(t,"title",m,t),$(t,e)}function we(){var e,t;V(this,we);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=$(this,re.call.apply(re,[this].concat(n))),H(t,"receiveNum",U,t),H(t,"idx",W,t),H(t,"giftName",J,t),H(t,"giftIcon",Y,t),$(t,e)}ce=ce({receiveNum:"receive_num",giftName:"gift_name",giftIcon:"gift_icon"}),oe=pe(ae,oe),Object(r.log)(n=ce((K(we,re=n.EntityDto),U=q((n=we).prototype,"receiveNum",[ae],{enumerable:!0,initializer:null}),W=q(n.prototype,"idx",[oe],{enumerable:!0,initializer:null}),J=q(n.prototype,"giftName",[ae],{enumerable:!0,initializer:null}),Y=q(n.prototype,"giftIcon",[ae],{enumerable:!0,initializer:null}),n=n))||n)},"811d6e":function(e,t,i){"use strict";var n,r,a=i("97a1f0"),o=i("104af8"),l=i("eb3e22"),c=i("e854a7"),i=i("da4594");function s(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function f(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var p,m=c.default.socketStream,a=(l=Object(a.Inject)(l.DataCenter.common),i=Object(a.Inject)(i.default),u(d,p=a.Service),d.prototype.getSubscribe=function(){return this.stage$},d.prototype.getEntrySubscribe=function(){return this.stage2$},d.prototype.getData=function(){this.cppData&&this.stage$.next(this.cppData)},d.prototype.init=function(){var i=this;return!this.inited&&(this.inited=!0,m.subscribe("biper",function(e){var t;1==+e.act_switch?(t=e.web_act_url,e=e.act_name,i.cppData={type:2,entranceStyleSwitch:1,iconUrl:t,actName:e}):i.cppData={type:2,entranceStyleSwitch:2},i.stage$.next(i.cppData)}),m.subscribe("bipsc",function(e){var t;1==+e.act_switch?(t=e.web_act_url,e=e.act_name,i.cppData={type:2,entranceStyleSwitch:1,iconUrl:t,actName:e}):i.cppData={type:2,entranceStyleSwitch:2},i.stage$.next(i.cppData)}),!0)},d.prototype.checkPartyEntry=function(){var t=this;this.commonSwitchService.getInteractiveEntrySwitch().subscribe(function(e){e=(e.partyGo||{}).switch;t.stage2$.next({type:1,entranceSwitch:void 0===e?0:e})})},n=f((a=d).prototype,"common",[l],{enumerable:!0,initializer:null}),r=f(a.prototype,"commonSwitchService",[i],{enumerable:!0,initializer:null}),a);function d(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,p.call(this));return s(e,"common",n,e),s(e,"commonSwitchService",r,e),e.stage$=new o.Subject,e.stage2$=new o.Subject,e.inited=!1,e.cppData=null,e}t.default=a},"8126b5":function(e,t,i){e.exports=i("5f575e")("b62f2")},"8183ad":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=(i("78c74d"),"/shark/live/src/pages/roomPage/toolbarModule/business/rightArea/CookComplete/Tips/Tip2.js"),o=null;t.default=function(e){return Object(n.useEffect)(function(){return o&&clearTimeout(o),o=setTimeout(function(){e.closeGuideTipsV2(e.kId)},3e3),function(){o&&clearTimeout(o)}}),r.a.createElement("div",{className:"CookCompleteGuideTips is-v2",__source:{fileName:a,lineNumber:28},__self:this},r.a.createElement("span",{className:"CookCompleteGuideTips-text",__source:{fileName:a,lineNumber:29},__self:this},"恭喜本房",r.a.createElement("span",{className:"CookCompleteGuideTips-userName",__source:{fileName:a,lineNumber:30},__self:this},e.topUserName),"成为当前达人"))}},"818dcd":function(e,t,i){"use strict";i=i("1dbc15");t.default=i.default},"81b5d6":function(e,t,i){e.exports=i("5f575e")("95fad")},"82248a":function(e,t,i){"use strict";var a,o,l,c,n=i("1a22b7"),s=i.n(n),u=i("ed7240"),f=i("722b8a"),r=i("7ca7dc"),p=i("8126b5"),m=i("447d8e"),d=i("eb3e22"),b=(i("265d4c"),i("5b9730")),h="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/RemindYCLow.js";function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function y(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var N,n=r.default.Store,i=r.default.Service,b=(r=n(),n=i(d.DataCenter.global),d=i(d.DataCenter.common),i=i(b.default),g(w,N=s.a.Component),w.prototype.componentDidMount=function(){var t=this;this.common.get("$DATA").subscribe(function(e){t.$ROOM=e.get("room")})},w.prototype.componentWillReceiveProps=function(e){var t,i=e.visible,n=e.info;n&&(e=(e=t=n.pc/100)<10?10:Math.ceil(t),this.setState({visible:i,info:n}),this.giftService.getYcLowOrder({num:e||1,rid:this.global.get("$ROOM.room_id")}))},w.prototype.openIframe=function(){this.setState({visible:!1}),this.common.push("RoomShowIframePay")},w.prototype.render=function(){var e=this,t=this.state,i=t.visible,n=t.info;if(n){var r=this.props.codeUrl,t=n.pc/100;if(t<=2e3)return n=t<10?10:Math.ceil(t),s.a.createElement("div",{__source:{fileName:h,lineNumber:95},__self:this},s.a.createElement(u.default,{title:"充值提示",visible:i,center:!0,width:395,wrapClassName:"RemindYCLow",onOk:this.ok,onCancel:function(){e.cancel()},footer:[],__source:{fileName:h,lineNumber:96},__self:this},s.a.createElement("div",{className:"RemindYCLow-tipsTxt",__source:{fileName:h,lineNumber:110},__self:this},s.a.createElement("div",{className:"RemindYCLow-tipsTitle",__source:{fileName:h,lineNumber:111},__self:this},"鱼翅不足"),s.a.createElement("div",{className:"RemindYCLow-tipsNums",__source:{fileName:h,lineNumber:112},__self:this},"扫码快速充值",s.a.createElement("span",{className:"RemindYCLow-tipsNums--sp",__source:{fileName:h,lineNumber:113},__self:this},s.a.createElement("span",{className:"js-tips-values",__source:{fileName:h,lineNumber:113},__self:this},n),"鱼翅")),s.a.createElement("a",{className:"RemindYCLow-openIframe",onClick:this.openIframe.bind(this),__source:{fileName:h,lineNumber:115},__self:this},"其他金额充值>")),s.a.createElement("div",{className:"RemindYCLow-codeContent",__source:{fileName:h,lineNumber:119},__self:this},s.a.createElement("div",{className:"RemindYCLow-tipsCode",__source:{fileName:h,lineNumber:120},__self:this},r?s.a.createElement(p.default,{size:110,value:r,__source:{fileName:h,lineNumber:122},__self:this}):s.a.createElement("div",{className:"RemindYCLow-tipsCode--palceholder",__source:{fileName:h,lineNumber:124},__self:this})),s.a.createElement("div",{className:"RemindYCLow-codeTxt",__source:{fileName:h,lineNumber:127},__self:this},"微信/支付宝扫码付款")),s.a.createElement("i",{__source:{fileName:h,lineNumber:129},__self:this})));if(2e3<t)return setTimeout(function(){f.default.info("鱼翅余额不足，请充值~")},0),setTimeout(function(){e.common.push("RoomShowIframePay")},1500),!1}return null},a=y((b=w).prototype,"store",[r],{enumerable:!0,initializer:null}),o=y(b.prototype,"global",[n],{enumerable:!0,initializer:null}),l=y(b.prototype,"common",[d],{enumerable:!0,initializer:null}),c=y(b.prototype,"giftService",[i],{enumerable:!0,initializer:null}),b);function w(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=_(this,N.call.apply(N,[this].concat(n))),v(t,"store",a,t),v(t,"global",o,t),v(t,"common",l,t),v(t,"giftService",c,t),t.state={visible:!1,info:{}},t.ok=function(){window.open("/web_game/welcome/18"),t.setState({visible:!1})},t.cancel=function(){t.setState({visible:!1})},_(t,e)}t.default=Object(m.connect)(function(e){return{codeUrl:e.giftData.orderParam}})(b)},"822e5f":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),n=i("292183"),a="/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/SpeedRankListDialog/components/Title.js",i=function(e){var t=e.title,e=e.className;return r.a.createElement("h2",{className:"SSR-title "+e,__source:{fileName:a,lineNumber:8},__self:void 0},r.a.createElement("span",{__source:{fileName:a,lineNumber:9},__self:void 0},t))};i.propTypes={title:n.string.isRequired,className:n.string.isRequired},t.default=i},"82834a":function(e,t,i){"use strict";var n=i("ddff7a"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={dialogVisible:!1,iframeUrl:"https://lol.qq.com/act/a20200323tftlineup/pc/douyu.shtml?e_code=507437"};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a;switch(arguments[1].type){case n.TOGGLE_TEAMFIGHTTACTICS_DIALOG_VISIBLE:return r({},e,{dialogVisible:!e.dialogVisible});case n.CLOSE_TEAMFIGHTTACTICS_DIALOG:return r({},e,{dialogVisible:!1});default:return e}}},832492:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/5EPL-C-icon_a283f66.png"},834674:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"SHOW_JIFEN_ENTRANCE_BTN",function(){return a}),i.d(t,"RECEIVE_SHOW_JIFEN_ENTRANCE_BTN",function(){return o}),i.d(t,"SHOW_JIFEN_DIALOG",function(){return l}),i.d(t,"USER_JIFEN_EXCHANGE_DATA",function(){return c}),i.d(t,"RECEIVE_USER_JIFEN_EXCHANGE_DATA",function(){return s}),i.d(t,"ANCHOR_JIFEN_EXCHANGE_DATA",function(){return u}),i.d(t,"RECEIVE_ANCHOR_JIFEN_EXCHANGE_DATA",function(){return f}),i.d(t,"CLICK_JIFEN_EXCHANGE_BTN",function(){return p}),i.d(t,"RECEIVE_CLICK_JIFEN_EXCHANGE_BTN",function(){return m}),i.d(t,"CLICK_TASK_ATTENTION_BTN",function(){return d}),i.d(t,"RECEIVE_CLICK_TASK_ATTENTION_BTN",function(){return b}),i.d(t,"GET_FOLLOW_TASK_JIFEN",function(){return h}),i.d(t,"RECEIVE_GET_FOLLOW_TASK_JIFEN",function(){return v}),i.d(t,"USER_JIFEN_TASKS_DATA",function(){return _}),i.d(t,"RECEIVE_USER_JIFEN_TASKS_DATA",function(){return g}),i.d(t,"ONLINE_WATCH_TASK_DATA",function(){return y}),i.d(t,"USER_JIFEN_GET_DYNAMIC",function(){return N}),i.d(t,"RECEIVE_USER_JIFEN_GET_DYNAMIC",function(){return w}),i.d(t,"CLICK_USER_JIFEN_WATCH_GET_BTN",function(){return O}),i.d(t,"GET_DOWNLOAD_GAME_TASK_JIFEN",function(){return S}),i.d(t,"RECEIVE_GET_DOWNLOAD_GAME_TASK_JIFEN",function(){return E}),i.d(t,"USER_JIFEN_SHOW_EXCHANGE_RECORD",function(){return j}),i.d(t,"USER_GET_EXCHANGE_RECORD_DATA",function(){return T}),i.d(t,"RECEIVE_USER_GET_EXCHANGE_RECORD_DATA",function(){return P});var r,a="show_jifen_entrance_btn",o="receive_show_jifen_entrance_btn",l="show_jifen_dialog",c="user_jifen_exchange_data",s="receive_user_jifen_exchange_data",u="anchor_jifen_exchange_data",f="receive_anchor_jifen_exchange_data",p="click_jifen_exchange_btn",m="receive_click_jifen_exchange_btn",d="click_task_attention_btn",b="receive_click_task_attention_btn",h="get_follow_task_jifen",v="receive_get_follow_task_jifen",_="user_jifen_tasks_data",g="receive_user_jifen_tasks_data",y="online_watch_task_data",N="user_jifen_get_dynamic",w="receive_user_jifen_get_dynamic",O="click_user_jifen_watch_get_btn",S="get_download_game_task_jifen",E="receive_get_download_game_task_jifen",j="user_jifen_show_exchange_record",T="user_get_exchange_record_data",P="receive_user_get_exchange_record_data",i=(n(D,r=i("97a1f0").Action),D.showJifenEntranceBtn=function(){return{type:a}},D.receiveShowJifenEntranceBtn=function(e){return{type:o,payload:e}},D.showJifenDialog=function(e){return{type:l,payload:e}},D.userJifenExchangeData=function(e){return{type:c,payload:e}},D.receiveUserJifenExchangeData=function(e){return{type:s,payload:e}},D.clickJifenExchangeBtn=function(e){return{type:p,payload:e}},D.anchorJifenExchangeData=function(e){return{type:u,payload:e}},D.receiveAnchorJifenExchangeData=function(e){return{type:f,payload:e}},D.receiveClickJifenExchangeBtn=function(e){return{type:m,payload:e}},D.clickTaskAttentionBtn=function(){return{type:d}},D.receiveClickTaskAttentionBtn=function(e){return{type:b,payload:e}},D.getFollowTaskJifen=function(e){return{type:h,payload:e}},D.receiveGetFollowTaskJifen=function(e){return{type:v,payload:e}},D.userJifenTasksData=function(){return{type:_}},D.receiveUserJifenTasksData=function(e){return{type:g,payload:e}},D.onlineWatchTaskData=function(e){return{type:y,payload:e}},D.getDownloadGameTaskJifen=function(e){return{type:S,payload:e}},D.receiveGetDownloadGameTaskJifen=function(e){return{type:E,payload:e}},D.userJifenGetDynamic=function(){return{type:N}},D.receiveUserJifenGetDynamic=function(e){return{type:w,payload:e}},D.clickUserJifenWatchGetBtn=function(e){return{type:O,payload:e}},D.userJifenShowExchangeRecord=function(e){return{type:j,payload:e}},D.userGetExchangeRecordData=function(e){return{type:T,payload:e}},D.receiveUserGetExchangeRecordData=function(e){return{type:P,payload:e}},D);function D(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,D),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}t.default=i},"84b11f":function(e,t,i){"use strict";var n=i("c9618f"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={isOpen:!1,startTips:!1,config:{},fuelData:{}};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];return t.type!==n.SUPERWARSHIP_ICON_UPDATE_DATA?e:Object.assign({},e,r({},t.payload))}},"852ea4":function(e,t,i){"use strict";var n,r,a,o,l,c,s=i("7ca7dc"),f=i("97a1f0"),p=i("eb3e22"),u=i("fc7947"),m=i.n(u),d=i("722b8a"),b=i("f68984"),h=i("b00678"),v=i("00d1b0"),_=i("960890"),g=i("eeb07d"),y=i("aa59e7"),N=i("5b9730"),w=i("a58983"),O=i("20ec0b"),S=i("f78b83"),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function j(e,t){var i,n={};for(i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function T(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function P(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var D=s.default.Service,D=(u=(0,s.default.Store)(),i=D(N.default),s=D(w.default),N=D(O.default),w=D(p.DataCenter.global),O=D(p.DataCenter.common),C.prototype.sendGiftYC=function(e){var r=this;return e.ofType(y.SEND_GIFT_YC).pipe(Object(v.mergeMap)(function(e){e=e.payload;return Object(g.forkJoin)(Object(_.of)(e),r.giftSendServices.getRoomData())}),Object(v.mergeMap)(function(e){var t=e[0]||{},i=t.gift,n=t.number,r=t.skinId,a=t.callback,o=t.yzmfData,l=t.errCallback,c=j(t,["gift","number","skinId","callback","yzmfData","errCallback"]),s=e[1].get("room"),u=o.uid,t=o.instId,e=o.hostUid,o=j(o,["uid","instId","hostUid"]),o=Object.assign.apply(Object,[{},{yzxq:E({yzxq_inst_id:t,yzxq_dst_uid:u,yzxq_role1_uid:e},o)}].concat(c));return c&&"{}"!==JSON.stringify(c.gbfp||"")&&delete o.yzxq,Object(g.forkJoin)(p.httpClient.post(String,"/japi/gift/donate/mainsite/v3",{giftId:i.id,giftCount:n,roomId:s.room_id,bizExt:f.GSON.stringify(o),skinId:+r||0},{headers:{"content-type":"application/x-www-form-urlencoded"}}),Object(_.of)(a),Object(_.of)(i),Object(_.of)(l))}),Object(b.map)(function(e){var t=e[0]||{},i=e[1],n=e[2]||{},e=e[3];switch(0!==t.error&&(r.GiftService.sendGiftFailDp({gfid:n.id},1),"function"==typeof e&&e(t)),t.error){case 0:if(t.data)return t.data=S.default.fromJSON(f.GSON.parse(t.data)),r.giftSendServices.sendGiftSuccessCallback(t.data),"function"==typeof i&&i(t.data),y.default.sendGiftYCSuccess(t.data);break;case 1:return y.default.giftError(t);case 8:return window.loader.loadAsyncModule("accountSecurity",function(){r.common.push("securityData",{resource:2})}),y.default.giftError(t);case 9:return m.a.show("login"),y.default.giftError({msg:""});case 10:return r.GiftService.giftDYSub("show_gift_send_pay",{gfid:n.id}),t.data?y.default.remindYCLowCallback(t.data):y.default.giftError(t);case 11:return r.GiftService.showYWLowPop(),y.default.giftError({msg:""});default:d.default.error("赠送礼物失败！")}return y.default.giftError(t)}))},C.prototype.sendBjAudioGiftYC=function(e){var r=this;return e.ofType(y.SEND_BJ_AUDIO_GIFT_YC).pipe(Object(v.mergeMap)(function(e){e=e.payload;return Object(g.forkJoin)(Object(_.of)(e),r.giftSendServices.getRoomData())}),Object(v.mergeMap)(function(e){var t=e[0]||{},i=t.gift,n=t.number,r=t.skinId,a=t.callback,o=t.bjAudioData,t=t.errCallback,e=e[1].get("room");return Object(g.forkJoin)(p.httpClient.post(String,"/audiosocial/emotion/v1.0/sendGift",E({pid:i.id,pnum:n,rid:e.room_id,skinId:+r||0},o),{headers:{"content-type":"application/x-www-form-urlencoded"}}),Object(_.of)(a),Object(_.of)(i),Object(_.of)(t))}),Object(b.map)(function(e){var t=e[0]||{},i=e[1],n=e[2]||{},e=e[3];switch(0!==t.error&&(r.GiftService.sendGiftFailDp({gfid:n.id},1),"function"==typeof e&&e(t)),t.error){case 0:if(t.data)return t.data=S.default.fromJSON(f.GSON.parse(t.data)),r.giftSendServices.sendGiftSuccessCallback(t.data),"function"==typeof i&&i(t.data),y.default.sendGiftYCSuccess(t.data);break;case 1:return y.default.giftError(t);case 8:return window.loader.loadAsyncModule("accountSecurity",function(){r.common.push("securityData",{resource:2})}),y.default.giftError(t);case 9:case 4206:return m.a.show("login"),y.default.giftError({msg:""});case 10:return r.GiftService.giftDYSub("show_gift_send_pay",{gfid:n.id}),t.data?y.default.remindYCLowCallback(t.data):y.default.giftError(t);case 11:return r.GiftService.showYWLowPop(),y.default.giftError({msg:""});default:d.default.error("赠送礼物失败！")}return y.default.giftError(t)}))},C.prototype.remindYWLow=function(e){var t=this;return e.ofType(y.REMIND_YW_LOW).pipe(Object(h.switchMap)(function(){return t.giftSendServices.getRoomData()}),Object(h.switchMap)(function(e){e=e.get("room");return Object(g.forkJoin)(p.httpClient.post(String,"/japi/sign/web/getinfo",{ver:"0820",roomid:e.room_id,cate1:e.category_id,cate2:e.cate_id,posid:"30013",uid:t.global.get("USER_INFO.uid")},{headers:{"content-type":"application/x-www-form-urlencoded"}}))}),Object(b.map)(function(e){e=f.GSON.parse(e[0].data);return y.default.remindYWLowCallback(e)}))},C.prototype.getYClowOrder=function(e){var t,i=p.DataCenter.global.get("$SYS.pay_site_host")+"/m/gold/getQrCode",n={};return e.ofType(y.GET_YCLOW_ORDER).pipe(Object(h.switchMap)(function(e){e=e.payload;return p.jsonpClient.get(String,i+"?product_id=DYTV_Product_Gold_1&source=dy_gift&number="+e.num+"&room_id="+e.rid)}),Object(b.map)(function(e){return 0==+e.error&&(t=e.data,n=JSON.parse(t)),y.default.receiveYcLowOrder(n)}))},n=P((D=C).prototype,"store",[u],{enumerable:!0,initializer:null}),r=P(D.prototype,"GiftService",[i],{enumerable:!0,initializer:null}),a=P(D.prototype,"commonDataServices",[s],{enumerable:!0,initializer:null}),o=P(D.prototype,"giftSendServices",[N],{enumerable:!0,initializer:null}),l=P(D.prototype,"global",[w],{enumerable:!0,initializer:null}),c=P(D.prototype,"common",[O],{enumerable:!0,initializer:null}),D);function C(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),T(this,"store",n,this),T(this,"GiftService",r,this),T(this,"commonDataServices",a,this),T(this,"giftSendServices",o,this),T(this,"global",l,this),T(this,"common",c,this)}t.default=D},"85434b":function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),n=i("3b6ec9"),a=i.n(n),n=i("7ca7dc"),i=i("438ecd"),o="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/PaladinWeek/PaladinWeekPanels.js";function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,f,p,m,d,b,i=(n=(0,n.default.Service)(i.default),l(h,b=r.a.Component),h.prototype.openNobleBuyDialog=function(){this.nobleBuyModalServices.openNobleBuyModal(),this.changeDialogStatus()},h.prototype.render=function(){var e=this.props.data||{};return a.a.createPortal(r.a.createElement("div",{className:"PaladinWeek-toast",style:{backgroundImage:"url(//shark2.douyucdn.cn/"+e.content.pop+")"},__source:{fileName:o,lineNumber:32},__self:this},r.a.createElement("div",{className:"PaladinWeek-close",onClick:this.changeDialogStatus,__source:{fileName:o,lineNumber:37},__self:this}),r.a.createElement("div",{className:"PaladinWeek-time",__source:{fileName:o,lineNumber:38},__self:this},"活动时间：",e.timeArray[0],"~",e.timeArray[1]),r.a.createElement("div",{className:"PaladinWeek-btn",onClick:this.openNobleBuyDialog.bind(this),__source:{fileName:o,lineNumber:39},__self:this})),document.body)},c=(i=h).prototype,f="nobleBuyModalServices",n=[n],p={enumerable:!0,initializer:null},d={},Object.keys(p).forEach(function(e){d[e]=p[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=n.slice().reverse().reduce(function(e,t){return t(c,f,e)||e},d),m&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(m):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(c,f,d),d=null),s=d,i);function h(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,b.call.apply(b,[this].concat(l))),n="nobleBuyModalServices",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.changeDialogStatus=function(){(0,t.props.toggleEvent)()},u(t,e)}t.default=i},"8544d3":function(e,t,i){"use strict";var n=i("a06d78"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={showEnter:!1,showPanel:!1};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];return t.type!==n.PRIVILEGEGIFT_UPDATE_DATA?e:Object.assign({},e,r({},t.payload))}},"878ab0":function(e,t,i){"use strict";var n,r,a,o=i("1a22b7"),l=i.n(o),c=i("447d8e"),s=i("7ca7dc"),u=i("eb3e22"),f=(i("a1b41e"),i("3f66ef")),p=i("4817ff"),o=i("dee2e9"),m="/shark/live/src/pages/roomPage/toolbarModule/components/JifenComponent/UserJifen/ExchangeCenter/ExchangeCenter.js";function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var v,i=s.default.Service,u=(s=i(o.default),o=i(u.DataCenter.global),i=i(u.DataCenter.common),b(_,v=l.a.Component),_.prototype.componentDidMount=function(){var t=this;this.jifenServices.userJifenGetDynamicData(),this.common.get("$DATA").subscribe(function(e){t.setState({roomData:e.room})})},_.prototype.componentWillUnmount=function(){clearInterval(this.tdTimer)},_.prototype.componentWillReceiveProps=function(e){var t=this,e=e.getDynamicData;this.setState({gdData:e},function(){t.scrollDynamicList()})},_.prototype.scrollDynamicList=function(){var t=this,e=this.state.gdData,i=0;3<e.length&&(this.setState({gdData:[].concat(e,e)}),clearInterval(this.dynTimer),this.dynTimer=setInterval(function(){var e;1===(i+=1)?t.setState({isScrollDynamic:!0}):(e=t.state.gdData.splice(0,3),t.setState({gdData:[].concat(t.state.gdData,e)}))},6e3))},_.prototype.clickJFExchangeBtn=function(){this.state.isShowJFExchange||this.setState({isShowJFExchange:!0})},_.prototype.clickJFTasksBtn=function(){var e=this;this.state.isShowJFExchange&&(this.setState({isShowJFExchange:!1}),this.canQuest&&(this.jifenServices.userJifenTasksData(),this.canQuest=!1,clearInterval(this.tdTimer),this.tdTimer=setInterval(function(){e.canQuest=!0},1e4)))},_.prototype.clickExchangeRecord=function(){this.jifenServices.isShowExchangeRecord(!0)},_.prototype.renderDynamicContent=function(e){var i=this,e=e||[];return e&&e.length?e.map(function(e,t){return l.a.createElement("li",{className:"ExchangeCenter-dynamicContentListItem",key:t,__source:{fileName:m,lineNumber:134},__self:i},l.a.createElement("div",{className:"ExchangeCenter-dynamicContentListItemUser",__source:{fileName:m,lineNumber:135},__self:i},l.a.createElement("span",{className:"ExchangeCenter-dynamicContentListItemUserName",title:e.nickname,__source:{fileName:m,lineNumber:136},__self:i},e.nickname||""),l.a.createElement("span",{className:"ExchangeCenter-dynamicContentListItemUserDesc",__source:{fileName:m,lineNumber:138},__self:i},"兑换了")),l.a.createElement("div",{className:"ExchangeCenter-dynamicContentListItemGiftName",title:e.name,__source:{fileName:m,lineNumber:140},__self:i},e.name||""))}):l.a.createElement("div",{__source:{fileName:m,lineNumber:146},__self:this})},_.prototype.render=function(){var e=this.state,t=e.isShowJFExchange,i=e.isScrollDynamic,n=e.gdData,r=e.roomData,e=this.props.myPoint;return l.a.createElement("div",{className:"ExchangeCenter",__source:{fileName:m,lineNumber:154},__self:this},l.a.createElement("div",{className:"ExchangeCenter-title",__source:{fileName:m,lineNumber:155},__self:this},l.a.createElement("a",{className:"ExchangeCenter-titleHelp",href:"/member/point/point_instruction",target:"_blank",__source:{fileName:m,lineNumber:156},__self:this},l.a.createElement("span",{className:"ExchangeCenter-titleHelpIcon",__source:{fileName:m,lineNumber:157},__self:this}),"兑换中心说明"),l.a.createElement("span",{className:"ExchangeCenter-titleName",__source:{fileName:m,lineNumber:159},__self:this},"礼品",l.a.createElement("span",{className:"ExchangeCenter-titleNameImpt",__source:{fileName:m,lineNumber:159},__self:this},"兑换中心"))),l.a.createElement("div",{className:"ExchangeCenter-content",__source:{fileName:m,lineNumber:162},__self:this},l.a.createElement("div",{className:"ExchangeCenter-contentAnchorInfo",__source:{fileName:m,lineNumber:163},__self:this},l.a.createElement("img",{className:"ExchangeCenter-contentAnchorInfoHead",src:r.avatar&&r.avatar.middle,__source:{fileName:m,lineNumber:164},__self:this}),l.a.createElement("div",{className:"ExchangeCenter-contentAnchorInfoName",__source:{fileName:m,lineNumber:166},__self:this},r.owner_name||""),l.a.createElement("div",{className:"ExchangeCenter-contentAnchorInfoDesc",__source:{fileName:m,lineNumber:168},__self:this},"“感谢你们每天都来看我直播，大家可以用积分免费兑换各大礼品~”"),l.a.createElement("div",{className:"ExchangeCenter-contentAnchorInfoBtn",onClick:this.clickExchangeRecord,__source:{fileName:m,lineNumber:169},__self:this},"兑换记录")),l.a.createElement("div",{className:"ExchangeCenter-contentTab",__source:{fileName:m,lineNumber:172},__self:this},l.a.createElement("div",{className:"ExchangeCenter-contentTabLeftMenu",__source:{fileName:m,lineNumber:173},__self:this},l.a.createElement("div",{className:"ExchangeCenter-leftMenuMine",__source:{fileName:m,lineNumber:174},__self:this},l.a.createElement("div",{className:"ExchangeCenter-leftMenuMineIcon",__source:{fileName:m,lineNumber:175},__self:this}),l.a.createElement("div",{className:"ExchangeCenter-leftMenuMineNum",__source:{fileName:m,lineNumber:176},__self:this},e||0),l.a.createElement("div",{className:"ExchangeCenter-leftMenuMineText",__source:{fileName:m,lineNumber:177},__self:this},"我的积分")),l.a.createElement("div",{className:"ExchangeCenter-contentTabGoods "+(t?"is-active":""),onClick:this.clickJFExchangeBtn,__source:{fileName:m,lineNumber:179},__self:this},l.a.createElement("div",{className:"ExchangeCenter-tabGoodsIcon",__source:{fileName:m,lineNumber:181},__self:this}),l.a.createElement("div",{className:"ExchangeCenter-tabGoodsExchange",__source:{fileName:m,lineNumber:182},__self:this},l.a.createElement("div",{className:"ExchangeCenter-tabGoodsExchangeText1",__source:{fileName:m,lineNumber:183},__self:this},"积分兑换"),l.a.createElement("div",{className:"ExchangeCenter-tabGoodsExchangeText2",__source:{fileName:m,lineNumber:184},__self:this},"多种好礼随意换"),l.a.createElement("div",{className:"ExchangeCenter-tabGoodsExchangeArrow",__source:{fileName:m,lineNumber:185},__self:this}))),l.a.createElement("div",{className:"ExchangeCenter-contentTabTask "+(t?"":"is-active"),onClick:this.clickJFTasksBtn,__source:{fileName:m,lineNumber:188},__self:this},l.a.createElement("div",{className:"ExchangeCenter-tabTaskIcon",__source:{fileName:m,lineNumber:190},__self:this}),l.a.createElement("div",{className:"ExchangeCenter-tabTaskBox",__source:{fileName:m,lineNumber:191},__self:this},l.a.createElement("div",{className:"ExchangeCenter-tabTaskBoxText1",__source:{fileName:m,lineNumber:192},__self:this},"积分任务"),l.a.createElement("div",{className:"ExchangeCenter-tabTaskBoxText2",__source:{fileName:m,lineNumber:193},__self:this},"每日任务，轻松拿积分"),l.a.createElement("div",{className:"ExchangeCenter-tabTaskBoxArrow",__source:{fileName:m,lineNumber:194},__self:this}))),l.a.createElement("div",{className:"ExchangeCenter-LeftMenuDynamic "+(n.length?"is-show":""),__source:{fileName:m,lineNumber:197},__self:this},l.a.createElement("div",{className:"ExchangeCenter-dynamicDesc",__source:{fileName:m,lineNumber:198},__self:this},l.a.createElement("span",{className:"ExchangeCenter-dynamicDescIcon",__source:{fileName:m,lineNumber:199},__self:this}),"大家都在兑换"),l.a.createElement("div",{className:"ExchangeCenter-dynamicContent",__source:{fileName:m,lineNumber:202},__self:this},l.a.createElement("ul",{className:"ExchangeCenter-dynamicContentList "+(i?"is-move":""),__source:{fileName:m,lineNumber:203},__self:this},this.renderDynamicContent(n))))),l.a.createElement("div",{className:"ExchangeCenter-contentTabRightWrap",__source:{fileName:m,lineNumber:211},__self:this},t?l.a.createElement(f.default,{__source:{fileName:m,lineNumber:213},__self:this}):"",l.a.createElement(p.default,{isShowJFExchange:t,__source:{fileName:m,lineNumber:215},__self:this})))))},n=h((u=_).prototype,"jifenServices",[s],{enumerable:!0,initializer:null}),r=h(u.prototype,"global",[o],{enumerable:!0,initializer:null}),a=h(u.prototype,"common",[i],{enumerable:!0,initializer:null}),u);function _(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this));return d(e,"jifenServices",n,e),d(e,"global",r,e),d(e,"common",a,e),e.state={isShowJFExchange:!0,isScrollDynamic:!1,gdData:[],roomData:{}},e.tdTimer=null,e.canQuest=!0,e.clickJFExchangeBtn=e.clickJFExchangeBtn.bind(e),e.clickJFTasksBtn=e.clickJFTasksBtn.bind(e),e.clickExchangeRecord=e.clickExchangeRecord.bind(e),e}t.default=Object(c.connect)(function(e){return{getDynamicData:e.jifenUserReducers.userJifenGetDynamicData,tasksData:e.jifenUserReducers.userJifenTasksData,myPoint:e.jifenUserReducers.myPoint,exchangeResult:e.jifenUserReducers.jifenExchangeResult}})(u)},"88007e":function(e,t,i){e.exports=i("5f575e")("6f856")},"8801cd":function(e,t,i){"use strict";var n,r,a,o,l=i("7ca7dc"),c=i("960890"),s=i("f68984"),u=i("b00678"),f=i("2f135c"),p=i("eb3e22"),m=i("804584"),d=i("f12b8d"),b=i("d3d866"),h=i("6a6b35");function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}function g(e,t){var i,n,r;N||(i=t.get("$SYS.webconfUrl"),n=e.get("room.rankActivity.giftWeekListType"),r=e.get("room.rankActivity."+n+".aid"),t=e.get("room.room_id"),N={aId:r,type:n,roomId:t,webconfUrl:i,ajaxUrls:{totalList:"/ztCache/ZtCacheList/getYanZhiZhouXingRankList",taGiftList:"/ztCache/ZtCacheList/getRankPlace",rule:i+"/resource/common/rank/h5.json"},timer:null,anchorTimer:null,ruleCB:"topBannerRender",data:{room_id:t,uid:e.get("room.owner_uid"),aid:r}})}var y=l.default.Service,N=null,y=(i=y(b.default),l=y(h.default),b=y(p.DataCenter.global),h=y(p.DataCenter.common),w.prototype.getDataFromBack=function(e){var i=this;return e.ofType(d.YZGIFTRANK_GET_DATA_FROM_BACK).pipe(Object(u.switchMap)(function(){return i.common.get("$DATA")}),Object(s.map)(function(e){return g(e,i.global),[String,N.ajaxUrls.totalList,{aid:N.aId}]}),Object(u.switchMap)(function(e){return p.httpClient.get.apply(p.httpClient,e)}),Object(s.map)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=i.yzGiftRankListService.dealTotalList(e);return 0===e.error&&(i.yzGiftRankService.toggleSendAjax(!1),N.timer&&clearTimeout(N.timer),N.timer=setTimeout(function(){i.yzGiftRankService.toggleSendAjax(!0)},6e4)),d.default.receiveTotalList(t)}),Object(f.catchError)(function(e){return Object(c.of)({type:"error",payload:e})}))},w.prototype.getAnchorData=function(e){var t=this;return e.ofType(d.YZGIFTRANK_GET_ANCHOR_DATA).pipe(Object(u.switchMap)(function(){return t.common.get("$DATA")}),Object(s.map)(function(e){return g(e,t.global),[String,N.ajaxUrls.taGiftList,N.data,{noCache:!0}]}),Object(u.switchMap)(function(e){return p.httpClient.get.apply(p.httpClient,e)}),Object(s.map)(function(){var e=t.yzGiftRankListService.dealAnchorList(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});return t.yzGiftRankListService.dealAnchorBtn(60),d.default.setAnchorList(e)}),Object(f.catchError)(function(e){return Object(c.of)({type:"error",payload:e})}))},w.prototype.getRule=function(e){var t=this;return e.ofType(d.YZGIFTRANK_GET_RULE).pipe(Object(u.switchMap)(function(){return t.common.get("$DATA")}),Object(s.map)(function(e){return g(e,t.global),[Object(p.Dictionary)(m.YzRule),N.ajaxUrls.rule,N.ruleCB]}),Object(u.switchMap)(function(e){return p.jsonpClient.get.apply(p.jsonpClient,e)}),Object(s.map)(function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i="",n=[];return 0===e.error&&(t=e.data,Object.keys(t).forEach(function(e){parseInt(e,10)===parseInt(N.aId,10)&&(i=t[e]&&t[e].content||"",n=i.split("\n"))})),d.default.setRule(n)}),Object(f.catchError)(function(e){return Object(c.of)({type:"error",payload:e})}))},n=_((y=w).prototype,"yzGiftRankService",[i],{enumerable:!0,initializer:null}),r=_(y.prototype,"yzGiftRankListService",[l],{enumerable:!0,initializer:null}),a=_(y.prototype,"global",[b],{enumerable:!0,initializer:null}),o=_(y.prototype,"common",[h],{enumerable:!0,initializer:null}),y);function w(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),v(this,"yzGiftRankService",n,this),v(this,"yzGiftRankListService",r,this),v(this,"global",a,this),v(this,"common",o,this)}t.default=y},885716:function(e,t,i){"use strict";i=i("c6af07");t.default=i.default},"898fd6":function(e,t,i){},"8a1d91":function(e,t,i){},"8a62a1":function(e,t,i){e.exports=i("5f575e")("3098e")},"8a999b":function(e,t,i){},"8b9c19":function(e,t,i){"use strict";var n,r,a=i("97a1f0"),o=i("7ca7dc"),l=i("eb3e22"),c=i("54992a"),s=i("960890"),u=i("f68984"),f=i("b00678"),p=i("71c15e"),m=i("b06504"),d=i("b4093e");function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var i=o.default.Service,v={anchor_quiz:!0},o=(o=Object(c.log)(!0),m=i(m.default),c=i(c.Logger),o((_.prototype.getActivityConfig=function(e){var n=this;return e.ofType(p.GET_ACTIVITY_CONFIG).pipe(Object(f.switchMap)(function(e){e=e.payload;return Object(s.of)(d.default.fromJSON(e.giftActivity))}),Object(u.map)(function(e){var t=e.fold,i=e.unfold,e=function(e){return""!==e.iframeStyle&&(e.iframeStyle=JSON.parse(e.iframeStyle)),v[e.activityFlag]&&(e.enable=v[e.activityFlag]),e},e={fold:t.map(e),unfold:i.map(e),loaded:!0};return n.logger.info("获取礼物活动位数据成功: ",e),p.default.receiveActivityConfig(e)}))},_.prototype.getFishPondSwitch=function(e){return e.ofType(p.GET_FISHPOND_ENTRANCESWITCH).pipe(Object(f.switchMap)(function(e){e=e.payload;return l.httpClient.get(String,"/japi/fishpoolLevel/apinc/w/getUserTaskInfo",e)}),Object(u.map)(function(e){var t=e.error,e=e.data;if(0!=+t)return p.default.receiveFishPondSwitch({entranceSwitch:0});t=e?a.GSON.parse(e):{},e=t.userType,t=t.taskInfo,t=void 0===t?{}:t;return p.default.receiveFishPondSwitch({entranceSwitch:t[e]&&t[e].ytxbSwitch||0})}))},n=h((o=_).prototype,"ActivityService",[m],{enumerable:!0,initializer:null}),r=h(o.prototype,"logger",[c],{enumerable:!0,initializer:null}),o=o))||o);function _(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),b(this,"ActivityService",n,this),b(this,"logger",r,this)}t.default=o},"8bca28":function(e,t,i){"use strict";var n,r,o,a,l=i("1a22b7"),c=i.n(l),s=i("292183"),u=i.n(s),f=i("3b6ec9"),p=i("3c9879"),m=i.n(p),d=i("eb3e22"),b=i("c26963"),s=i("7ca7dc"),h=i("e19de5"),p=i("0963d0"),v=(i("f6d652"),"/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/SpeedRankDialog/SpeedRankDialog.js");function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function y(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var N,i=s.default.Service,l=(s=i(d.DataCenter.global),d=i(d.DataCenter.common),p=i(p.default),g(w,N=l.Component),w.prototype.componentDidMount=function(){var t=this;this.common.get("$DATA").subscribe(function(e){e=e.room;t.setState({roomOwner:e.nickname})})},w.prototype.componentWillReceiveProps=function(e){10<e.rank&&-1===this.LUCK_RANK.indexOf(e.rank)&&this.speedRankServices.autoClose()},w.prototype.render=function(){var e=this.state,t=this.props.rank;return!t||t<=0?null:t===this.SPEED_RANK?this.renderDialog(t,e,1):-1<this.TOP10_RANK.indexOf(t)?this.renderDialog(t,e,2):-1<this.LUCK_RANK.indexOf(t)?this.renderDialog(t,e,3):this.renderToast(t,e)},a=function(){var a=this;_(this,"global",n,this),_(this,"common",r,this),_(this,"speedRankServices",o,this),this.openRankList=function(){a.speedRankServices.setData({rankListDialogVisible:!0,userCache:!1})},this.close=function(){a.speedRankServices.setData({rankDialogVisible:!1})},this.renderToast=function(e,t){var i=t.uid,n=t.nickname,t=t.roomOwner;return Object(f.createPortal)(c.a.createElement("div",{className:"SSR-T-wrap",__source:{fileName:v,lineNumber:74},__self:a},c.a.createElement("div",{className:"SSR-T-avatar",__source:{fileName:v,lineNumber:75},__self:a},c.a.createElement(h.default,{uid:i,round:!0,__source:{fileName:v,lineNumber:76},__self:a})),c.a.createElement("div",{className:"SSR-T-content",__source:{fileName:v,lineNumber:78},__self:a},c.a.createElement("div",{className:"SSR-T-nickname",title:n,__source:{fileName:v,lineNumber:79},__self:a},n),c.a.createElement("div",{className:"SSR-T-contentTip",__source:{fileName:v,lineNumber:80},__self:a},m()(+new Date).format("YYYY.MM.DD"),"在",c.a.createElement("span",{title:t,__source:{fileName:v,lineNumber:83},__self:a},t),"直播间签到",c.a.createElement("b",{__source:{fileName:v,lineNumber:85},__self:a},"【第"+(100<e?"100+":e)+"名】"))),c.a.createElement("div",{className:"SSR-T-btn",onClick:a.openRankList,__source:{fileName:v,lineNumber:88},__self:a},"手速榜")),document.getElementById("js-player-dialog"))},this.renderText=function(e){switch(e){case 1:return c.a.createElement("div",{className:"SSR-D-desc",__source:{fileName:v,lineNumber:98},__self:a},c.a.createElement("p",{__source:{fileName:v,lineNumber:99},__self:a},"手速王弹幕勋章（限今天使用）"),c.a.createElement("span",{__source:{fileName:v,lineNumber:100},__self:a},"活跃值*3"));case 2:return c.a.createElement("div",{className:"SSR-D-desc",__source:{fileName:v,lineNumber:105},__self:a},c.a.createElement("p",{__source:{fileName:v,lineNumber:106},__self:a},"继续加油，第一名可获得",c.a.createElement("span",{__source:{fileName:v,lineNumber:106},__self:a},"“手速王”"),"勋章"),c.a.createElement("span",{__source:{fileName:v,lineNumber:107},__self:a},"活跃值*2"));case 3:return c.a.createElement("div",{className:"SSR-D-desc",__source:{fileName:v,lineNumber:112},__self:a},c.a.createElement("p",{__source:{fileName:v,lineNumber:113},__self:a},"手气王弹幕勋章（限今天使用）"),c.a.createElement("span",{__source:{fileName:v,lineNumber:114},__self:a},"活跃值*2"));default:return null}},this.renderDialog=function(e,t){var i=t.uid,n=t.nickname,r=t.roomOwner,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return Object(f.createPortal)(c.a.createElement("div",{className:"SSR-D-wrap",__source:{fileName:v,lineNumber:135},__self:a},c.a.createElement("div",{className:"SSR-D-header",__source:{fileName:v,lineNumber:136},__self:a},c.a.createElement("div",{className:"SSR-D-close",onClick:a.close,__source:{fileName:v,lineNumber:137},__self:a},c.a.createElement("i",{__source:{fileName:v,lineNumber:137},__self:a})),c.a.createElement("div",{className:"SSR-D-avatar",__source:{fileName:v,lineNumber:138},__self:a},c.a.createElement(h.default,{uid:i,round:!0,__source:{fileName:v,lineNumber:139},__self:a})),c.a.createElement("div",{className:"SSR-D-nickname",title:n,__source:{fileName:v,lineNumber:141},__self:a},n)),c.a.createElement("div",{className:"SSR-D-content",__source:{fileName:v,lineNumber:143},__self:a},c.a.createElement("div",{className:"SSR-D-contentTip",__source:{fileName:v,lineNumber:144},__self:a},m()(+new Date).format("YYYY.MM.DD"),"在",c.a.createElement("span",{title:r,__source:{fileName:v,lineNumber:147},__self:a},r),"直播间签到"),c.a.createElement("div",{className:"SSR-D-rank",__source:{fileName:v,lineNumber:150},__self:a},"第",c.a.createElement("span",{__source:{fileName:v,lineNumber:151},__self:a},e),"名"),c.a.createElement("div",{className:"SSR-D-icon is-type"+t,__source:{fileName:v,lineNumber:153},__self:a},2===t?c.a.createElement("span",{__source:{fileName:v,lineNumber:156},__self:a},"NO.",e):null),a.renderText(t),c.a.createElement("div",{className:"SSR-D-btn",onClick:a.openRankList,__source:{fileName:v,lineNumber:161},__self:a},"手速榜"))),document.body)}},n=y((l=w).prototype,"global",[s],{enumerable:!0,initializer:null}),r=y(l.prototype,"common",[d],{enumerable:!0,initializer:null}),o=y(l.prototype,"speedRankServices",[p],{enumerable:!0,initializer:null}),l);function w(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,N.call(this));a.call(e),e.SPEED_RANK=1,e.TOP10_RANK=[2,3,4,5,7,8,9,10],e.LUCK_RANK=[6,66,666,6666];var t=e.global.get("USER_INFO.uid"),i=e.global.get("USER_INFO.nickname");return e.state={uid:t,nickname:i,roomOwner:""},e}l.propTypes={rank:u.a.number.isRequired},t.default=Object(b.default)(l)},"8bd4d5":function(e,t,i){e.exports=i("5f575e")("5846e")},"8c4488":function(e,t,i){},"8c8664":function(e,t,i){},"8c9da2":function(e,t,i){"use strict";var n=i("f61079"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={yw:0,yc:0,giftAreaShow:!1,taskBtnShow:!1,olywBtnShow:!1,refreshWidth:!1,isShowGiftAct:!0};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case n.TOOLBAR_YW_UPDATE:return r({},e,{yw:t.payload});case n.TOOLBAR_YC_UPDATE:return r({},e,{yc:t.payload});case n.TOOLBAR_GIFT_AREA_SHOW:return r({},e,{giftAreaShow:!0});case n.TOOLBAR_TASK_BTN_SHOW:return r({},e,{taskBtnShow:!0});case n.TOOLBAR_OLYW_BTN_SHOW:return r({},e,{olywBtnShow:!0});case n.REFRESH_ACTIVITY:return r({},e,{times:+new Date,refreshWidth:!0});default:return e}}},"8d15b9":function(e,t,i){"use strict";var n=i("409d3a"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={time:0,status:0,endTime:0,startTime:0,nextTime:0};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];return t.type!==n.CHEF_MASTER_UPDATE_DATA?e:Object.assign({},e,r({},t.payload))}},"8d4cbb":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),n=i("447d8e"),a=i("09acde");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,i=(o(c,l=r.a.Component),c.prototype.render=function(){var e=this.props,t=e.isEnterShow,i=e.giftId,e=e.isCarnivalOpen;return t&&e?r.a.createElement(a.default,{giftId:i,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/BattleShipGiftBanner/index.js",lineNumber:9},__self:this}):null},c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,l.apply(this,arguments))}t.default=Object(n.connect)(function(e){e=e.battleShipData,e=void 0===e?{}:e;return{isEnterShow:e.isEnterShow,isCarnivalOpen:e.isCarnivalOpen}})(i)},"8d9e2a":function(e,t,i){},"8db4a8":function(e,t,i){"use strict";var n,r,a,o,l=i("7ca7dc"),c=i("97a1f0"),s=i("eb3e22"),u=i("e854a7"),f=i("da4594"),p=i("92ad82");function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function b(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var h,i=l.default.Store,l=l.default.Service,v=u.default.socketStream,c=(u=i(),i=l(s.DataCenter.acj),s=l(s.DataCenter.global),f=l(f.default),d(_,h=c.Service),_.prototype.init=function(){var l=this;return this.isInit||(this.isInit=!0,this.roomId=this.global.get("$ROOM.room_id"),v.subscribe("kcgsinfo",function(e){var t=e.disp,i=void 0===t?{}:t,n=e.curGod,r=void 0===n?{}:n,a=e.time,o=i.status,t=i.startTime,n=i.endTime,e=i.nextTime,i=i.kcgId;l.store.dispatch(p.CookCompleteActions.updateData({time:void 0===a?0:a,status:void 0===o?0:o,startTime:void 0===t?0:t,endTime:void 0===n?0:n,nextTime:void 0===e?0:e,topUserName:r.unn||"",isTopRoom:+r.rid===l.roomId,kId:+(void 0===i?0:i)}))})),!1},n=b((c=_).prototype,"store",[u],{enumerable:!0,initializer:null}),r=b(c.prototype,"acj",[i],{enumerable:!0,initializer:null}),a=b(c.prototype,"global",[s],{enumerable:!0,initializer:null}),o=b(c.prototype,"commonSwitchService",[f],{enumerable:!0,initializer:null}),c);function _(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,h.call(this));return m(e,"store",n,e),m(e,"acj",r,e),m(e,"global",a,e),m(e,"commonSwitchService",o,e),e.state={},e.isInit=!1,e.memberinfoData=null,e}t.default=c},"8dd4e6":function(e,t,i){e.exports=i("5f575e")("878cf")},"8ec0ba":function(e,t,i){"use strict";var n,r,a=i("1a22b7"),o=i.n(a),l=i("3b6ec9"),c=i.n(l),s=i("7ca7dc"),a=i("eb3e22"),l=i("fc7947"),u=i.n(l),l=i("97a1f0"),f="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/FudaiGift/GiftBarTips.js";function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function d(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var b,i=s.default.Service,s=(s=Object(l.ErrorHandler)(),l=i(a.DataCenter.global),a=i(a.DataCenter.localStorage),s((m(h,b=o.a.Component),h.prototype.componentDidMount=function(){var e=this.props.guideSwitch,t=this.localStorage.get("fudai_toolbarTips");u.a.check()&&e&&!t&&(this.setState({isClose:!0}),this.localStorage.set("fudai_toolbarTips",1))},h.prototype.hideBuffTips=function(){this.setState({isClose:!1})},h.prototype.render=function(){var e=this,t=this.props.guideSwitch;return u.a.check()&&t&&this.state.isClose?c.a.createPortal(o.a.createElement("div",{className:"FudaiGiftToolBarTips",__source:{fileName:f,lineNumber:52},__self:this},o.a.createElement("div",{className:"FudaiGiftToolBarTips-title",__source:{fileName:f,lineNumber:53},__self:this},"高额鱼丸、道具礼包任性返！"),o.a.createElement("div",{className:"FudaiGiftToolBarTips-desc",__source:{fileName:f,lineNumber:54},__self:this},"赠送1个福袋约返",this.props.yw||0,"鱼丸！送的越多，鱼丸、道具越多！"),o.a.createElement("div",{className:"FudaiGiftToolBarTips-close",onClick:function(){e.hideBuffTips()},__source:{fileName:f,lineNumber:55},__self:this})),document.querySelector("#js-player-toolbar")):null},n=d((s=h).prototype,"global",[l],{enumerable:!0,initializer:null}),r=d(s.prototype,"localStorage",[a],{enumerable:!0,initializer:null}),s=s))||s);function h(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,b.call(this));return p(e,"global",n,e),p(e,"localStorage",r,e),e.state={isClose:!1},e}t.default=s},"8ee5f5":function(e,t,i){e.exports=i("5f575e")("12385")},"8f2732":function(e,t,i){},"8f320e":function(e,t,i){"use strict";i=i("e39a89");t.default=i.default},"8f6491":function(e,t,i){"use strict";i=i("ba05b6");t.default=Object(i.AcitvityEnterWithOnClickHOC)(function(){this.props.data&&this.props.data.activityLink&&window.open(this.props.data.activityLink,"_blank")})},"9175e3":function(e,t,i){"use strict";var n=i("1a22b7"),o=i.n(n),u=i("b12198"),l=i("44e0d5"),c=(i("5e23f8"),"/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/RomaticDateBottom/RomaticDateBottom.js");function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var a,i=(r(s,a=o.a.Component),s.prototype.getShowResult=function(){var e=this.props,t=e.bottomInfo,i=t.scrollingIntroductionText,n=void 0===i?[]:i,r=t.act2startTime,a=void 0===r?0:r,o=t.act2endTime,l=void 0===o?0:o,c=t.act2LinkUrl,s=void 0===c?"":c,i=e.act2StockInfo,r=void 0===i?{}:i,o=r.stockType,t=void 0===o?"":o,c=r.startTime,e=void 0===c?0:c,i=r.endTime,o=void 0===i?0:i,c=r.name,i=void 0===c?"":c,c=r.stock,r=void 0===c?0:c,c=new Date;return 0<r&&1e3*a<=c&&c<=1e3*l?{showType:2,showInfo:{timeRange:"hour"===t?(u.default.formatDate(new Date(1e3*e),"hh:mm")||"")+"-"+(u.default.formatDate(new Date(1e3*o),"hh:mm")||"")+"时段":"今日",propName:i,num:r,act2LinkUrl:s}}:n&&0<n.length?{showType:1,showInfo:{scrollingIntroductionText:n,currentTxt:n[0]}}:{showType:0,showInfo:{scrollingIntroductionText:[""],currentTxt:""}}},s.prototype.render=function(){var e=this.getShowResult(),t=e.showType,i=e.showInfo,n=i.timeRange,r=i.propName,a=i.num,e=i.act2LinkUrl,i=i.scrollingIntroductionText;return 2===t?o.a.createElement("div",{className:"RomaticDateBottom is-showAct2",__source:{fileName:c,lineNumber:75},__self:this},o.a.createElement("div",{className:"RomaticDateBottom-text",__source:{fileName:c,lineNumber:76},__self:this},n,"活动道具",o.a.createElement("span",{className:"RomaticDateBottom-lightTxt",__source:{fileName:c,lineNumber:77},__self:this},r,"还剩",a,"个"),e?o.a.createElement(o.a.Fragment,{__source:{fileName:c,lineNumber:78},__self:this},"，",o.a.createElement("a",{href:e,target:"_blank",className:"RomaticDateBottom-gotopic",__source:{fileName:c,lineNumber:79},__self:this},"活动详情>")):null)):o.a.createElement(l.default,{showType:t,scrollingIntroductionText:i,__source:{fileName:c,lineNumber:84},__self:this})},s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,a.apply(this,arguments))}t.default=i},"91929a":function(e,t,i){"use strict";i=i("46790b");t.default=i.default},"91ffe9":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/dyLogo_8c1a8c8.png"},"9211ca":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=i("7ca7dc"),o=i("97a1f0"),l=i("447d8e"),c="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/EmotionVoiceGift/index.js";function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}a.default.Service;var u,f=Object(n.lazy)(function(){return i.e("EmotionVoiceGift_0b52c86").then(i.bind(null,"6a835a"))}),o=Object(o.ErrorHandler)()((s(p,u=r.a.Component),p.prototype.render=function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",{__source:{fileName:c,lineNumber:18},__self:this}),__source:{fileName:c,lineNumber:18},__self:this},this.props.isEmotionVoiceClass?r.a.createElement(f,{__source:{fileName:c,lineNumber:20},__self:this}):"")},o=p))||o;function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,u.apply(this,arguments))}t.default=Object(l.connect)(function(e){e=e.emotionVoiceData;return{isEmotionVoiceClass:(e=void 0===e?{}:e).isEmotionVoiceClass}})(o)},926467:function(e,t,i){},"92ad82":function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"COOK_COMPLETE_UPDATE_DATA",function(){return a}),i.d(t,"CookCompleteActions",function(){return o});var r,a="COOK_COMPLETE_UPDATE_DATA",o=(n(l,r=i("97a1f0").Action),l.openPanel=function(e){return{type:a,payload:e}},l.updateData=function(e){return{type:a,payload:e}},l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}},"92d3d1":function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"LOTTERYDRAWENTER_UPDATE_DATA",function(){return a}),i.d(t,"LotteryDrawEnterActions",function(){return o});var r,a="LOTTERYDRAWENTER_UPDATE_DATA",o=(n(l,r=i("97a1f0").Action),l.updateData=function(e){return{type:a,payload:e}},l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}},939775:function(e,t,i){"use strict";var n,a,o,l,c,r=i("7ca7dc"),s=i("97a1f0"),u=i("eb3e22"),f=i("ac24df"),p=i("ffca33"),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var _,g=r.default.Store,y=r.default.Service,y=(n=g(),i=y(u.DataCenter.common),r=y(u.DataCenter.global),g=y(u.DataCenter.localStorage),h(N,_=s.Service),N.prototype.confirmPhone=function(e){return new f.Observable(function(t){Object(p.default)({type:"post",url:"/member/cpSecurity/confirmBindphone",data:{code:e.code||0},contentType:"application/x-www-form-urlencoded"}).subscribe(function(e){t.next(e),t.complete()})})},N.prototype.sendText=function(e){return new f.Observable(function(t){Object(p.default)({type:"post",url:"/member/cpSecurity/sendNewPhoneCAPTCHA",data:m({},e),contentType:"application/x-www-form-urlencoded"}).subscribe(function(e){t.next(e),t.complete()})})},N.prototype.confirmQrCode=function(e){return new Promise(function(n,r){u.httpClient.get(String,"/member/panel/ident/getScanStatus",{code:e},{noCache:!0}).subscribe(function(e){var t=e.error,i=e.data,e=e.msg,e=void 0===e?"检查验证码失败":e;0===t?n(s.GSON.parse(i)||{}):r({error:-1,msg:e})})})},N.prototype.getQrCode=function(){var e=this;return new Promise(function(n,r){u.httpClient.get(String,"/member/panel/ident/getIdentUrl",{uid:e.uid},{noCache:!0}).subscribe(function(e){var t=e.error,i=e.data,e=e.msg,e=void 0===e?"获取二维码失败":e;0===t?n(s.GSON.parse(i)||{}):r({error:-1,data:{url:"https://www.douyu.com"},msg:e})})})},N.prototype.createRoom=function(e){return new f.Observable(function(t){Object(p.default)({type:"post",url:"/room/apply/submit",data:{room_name:e+"的直播间",tag_id:1,child_id:1},contentType:"application/x-www-form-urlencoded"}).subscribe(function(e){t.next(e),t.complete()})})},N.prototype.openLive=function(){var i=this;return new f.Observable(function(t){var e;e={},i.localStorage.get("nocovertip")&&(e.notshowtip=1),Object(p.default)({url:"/room/my/first_show",type:"post",data:e,contentType:"form"}).subscribe(function(e){t.next(e),t.complete()})})},a=v((y=N).prototype,"store",[n],{enumerable:!0,initializer:null}),o=v(y.prototype,"common",[i],{enumerable:!0,initializer:null}),l=v(y.prototype,"global",[r],{enumerable:!0,initializer:null}),c=v(y.prototype,"localStorage",[g],{enumerable:!0,initializer:null}),y);function N(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=b(this,_.call.apply(_,[this].concat(n))),d(t,"store",a,t),d(t,"common",o,t),d(t,"global",l,t),d(t,"localStorage",c,t),t.uid=0,t.setUid=function(){t.uid||(t.uid=t.global.get("USER_INFO.uid"))},t.getUserInfo=function(){return new f.Observable(function(t){Object(p.default)({type:"get",url:"/member/cp/getUserSimpleInfo",noCache:!0,contentType:"application/x-www-form-urlencoded"}).subscribe(function(e){t.next(e),t.complete()})})},t.checkgeetstatus=function(){return new Promise(function(n,r){u.httpClient.post(String,"/member/cpSecurity/check_geetest_status",{op_type:24},{noCache:!0}).subscribe(function(e){var t=e.error,i=e.data,e=e.msg,e=void 0===e?"验证失败":e;0===t?n(s.GSON.parse(i)||{}):r({error:-1,msg:e})})})},b(t,e)}t.default=y},"946bb0":function(e,t,i){e.exports=i("5f575e")("74b3f")},"946e67":function(e,t,i){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default={toolbarModuleSwitch:function(){var e,t,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e=n.type,t="TOOLBAR_UPDATE_LAZY_SWITCH",Array.isArray(e)&&0<=e.indexOf(t)||t===e?r({},i,n.payload.data):i}}},960890:function(e,t,i){e.exports=i("d1db8c")("c9c82")},"9722f8":function(e,t,i){"use strict";var n,r,a,o,l,c=i("1a22b7"),s=i.n(c),u=i("447d8e"),f=i("7ca7dc"),p=i("eb3e22"),m=i("da4594"),d=i("40ee38"),c=(i("926467"),i("192724")),b=i("b1f9ab"),h="/shark/live/src/pages/roomPage/toolbarModule/components/HappyPlay/HappyPlay.js";function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function g(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var y,i=f.default.Service,f=f.default.Store,f=(d=i(d.default),m=i(m.default),c=i(c.default),i=i(p.DataCenter.localStorage),p=f(),_(N,y=s.a.Component),N.prototype.componentDidMount=function(){var e=this;this.romanticDateServices.dyDataSub("showEntry"),this.romanticDateServices.dyDataSub("clickTips"),this.timer=setTimeout(function(){e.setState({isShowTips:!1})},5e3)},N.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer)},N.prototype.render=function(){var e=this,t=this.props,i=t.isShowHappyPlayTips,n=t.isShowHappyPlayNewIcon,r=t.newGuideText,a=t.boxConfig,o=this.state,t=o.isShowTips,o=o.isShowNewIcon,a=this.globalTreasureBoxServices.checkBoxOpen({btype:"happyGame",boxConfig:a});return s.a.createElement("div",{className:"HappyPlayIcon",onClick:function(){e.showPanel("clickEntry")},__source:{fileName:h,lineNumber:73},__self:this},n&&o?s.a.createElement("i",{className:"HappyPlayIcon-dot",__source:{fileName:h,lineNumber:77},__self:this}):null,i&&t&&r?s.a.createElement("div",{className:"HappyPlayTips",onClick:function(){e.showPanel("clickTips")},__source:{fileName:h,lineNumber:81},__self:this},r,s.a.createElement("i",{className:"HappyPlayTips-close",onClick:this.close,__source:{fileName:h,lineNumber:84},__self:this})):null,a?s.a.createElement(b.default,{__source:{fileName:h,lineNumber:90},__self:this}):null)},n=g((f=N).prototype,"romanticDateServices",[d],{enumerable:!0,initializer:null}),r=g(f.prototype,"commonSwitchServices",[m],{enumerable:!0,initializer:null}),a=g(f.prototype,"globalTreasureBoxServices",[c],{enumerable:!0,initializer:null}),o=g(f.prototype,"localStorage",[i],{enumerable:!0,initializer:null}),l=g(f.prototype,"store",[p],{enumerable:!0,initializer:null}),f);function N(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,y.call(this,e));return v(i,"romanticDateServices",n,i),v(i,"commonSwitchServices",r,i),v(i,"globalTreasureBoxServices",a,i),v(i,"localStorage",o,i),v(i,"store",l,i),i.close=function(){i.setState({isShowTips:!1})},i.showPanel=function(e){var t=i.store.getState().romanticDateData.isShowPanel;i.localStorage.set("happyPlayNewIcon",1),i.romanticDateServices.dyDataSub(e),i.setState({isShowNewIcon:!1}),i.romanticDateServices.togglePanel(!t)},i.state={isShowTips:!0,isShowNewIcon:!0},i.timer=null,i}t.default=Object(u.connect)(function(e){e=e.globalTreasureBox;return{boxConfig:(void 0===e?{}:e).boxConfig}})(f)},"97523b":function(e,t,i){e.exports=i("5f575e")("c6ff2")},975300:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/group_bb0a397.png"},"97a1f0":function(e,t,i){e.exports=i("2d6146")("11f13")},"97a851":function(e,t,i){e.exports=i("5f575e")("8e846")},"97f1d4":function(e,t,i){"use strict";i=i("c1f21f");t.default=i.default},982699:function(e,t,i){},"98a8ba":function(e,t,i){e.exports=i("5f575e")("e8486")},"98c751":function(e,t,i){"use strict";var s,n=i("7ca7dc"),r=i("97a1f0"),a=i("c96a5d");function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,c,f,p,m,d,r=(n=(0,n.default.Store)(),o(b,d=r.Service),b.prototype.giftAreaShow=function(){this.store.dispatch(a.default.giftAreaShow())},l=(r=b).prototype,c="store",n=[n],f={enumerable:!0,initializer:null},m={},Object.keys(f).forEach(function(e){m[e]=f[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=n.slice().reverse().reduce(function(e,t){return t(l,c,e)||e},m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,c,m),m=null),s=m,r);function b(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,d.call.apply(d,[this].concat(l))),n="store",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),u(t,e)}t.default=r},999443:function(e,t){e.exports=vendor3d72ea64bdb3506ffdba},"9a0029":function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),n=i("e92f28"),n=i.n(n),a=i("770d61");function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,n=(l(s,c=n.a),s.prototype.render=function(){var e=this.state,t=e.exConfig,i=e.src,e=e.link;return r.a.createElement(a.SignTemplate,{propsData:{hideSpec:!0},src:i,link:e,EC:void 0===t?{}:t,handleShowSign:this.handleShowSign,handleClickSign:this.handleClickSign,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/GuessIcon/GuessIconAd.js",lineNumber:21},__self:this})},s);function s(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=o(this,c.call.apply(c,[this].concat(n))),t.handleClickSign=function(e){e.preventDefault()},o(t,e)}t.default=n},"9a80a8":function(e,t,i){"use strict";var o,l,c,n=i("1a22b7"),s=i.n(n),r=i("447d8e"),a=i("7ca7dc"),u=i("722b8a"),f=(i("316b58"),i("b2096b")),p=i("8a62a1"),m=i("cbb03a"),d=i("0f5fdd"),b=i("0fc7f7"),n=i("192724"),h=i("ba76f7"),v="/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/MainDialog/MainDialog.js";function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function N(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var w,a=a.default.Service,b=(d=a(d.default),n=a(n.default),a=a(b.default),y(O,w=s.a.Component),O.prototype.render=function(){var t=this,e=this.props,i=e.children,n=e.visible,r=e.boxConfig,a=e.showSwitchBtn,o=e.showSwitchModel,l=this.state,e=l.isIntroductionMenuShown,l=l.menuIndex,r=this.globalTreasureBoxServices.checkBoxOpen({btype:"romanticDate",boxConfig:r});return n?s.a.createElement("div",{className:"MainDialog",__source:{fileName:v,lineNumber:95},__self:this},s.a.createElement("div",{className:"MainDialog-panel",__source:{fileName:v,lineNumber:96},__self:this},s.a.createElement("div",{className:"MainDialog-main",__source:{fileName:v,lineNumber:97},__self:this},s.a.createElement("div",{className:"MainDialog-main--close",onClick:this.onCloseClick,__source:{fileName:v,lineNumber:98},__self:this}),s.a.createElement("div",{className:-1===l?"MainDialog-main--menu":"MainDialog-main--return",onClick:this.onMenuClick,__source:{fileName:v,lineNumber:99},__self:this},s.a.createElement("div",{className:"MainDialog-main--menu--body",__source:{fileName:v,lineNumber:100},__self:this},s.a.createElement(f.default,{needLogin:{1:!0},visible:e,onMenuClick:function(e){t.handleMenuClick(e)},__source:{fileName:v,lineNumber:101},__self:this},s.a.createElement(p.default,{__source:{fileName:v,lineNumber:104},__self:this},s.a.createElement("div",{className:"MainDialog-main--menu--body--titleImg1",__source:{fileName:v,lineNumber:105},__self:this}),s.a.createElement("div",{className:"MainDialog-main--menu--body--titleText",__source:{fileName:v,lineNumber:106},__self:this},"玩法说明")),s.a.createElement(p.default,{__source:{fileName:v,lineNumber:108},__self:this},s.a.createElement("div",{className:"MainDialog-main--menu--body--titleImg2",__source:{fileName:v,lineNumber:109},__self:this}),s.a.createElement("div",{className:"MainDialog-main--menu--body--titleText",__source:{fileName:v,lineNumber:110},__self:this},"我的记录"))))),s.a.createElement("div",{className:"MainDialog-main--content",__source:{fileName:v,lineNumber:115},__self:this},i),this.getBtnModel(a,r,o)))):null},o=N((b=O).prototype,"romanticDateServices",[d],{enumerable:!0,initializer:null}),l=N(b.prototype,"globalTreasureBoxServices",[n],{enumerable:!0,initializer:null}),c=N(b.prototype,"crystalFactoryServices",[a],{enumerable:!0,initializer:null}),b);function O(){var e,n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O);for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n=g(this,w.call.apply(w,[this].concat(i))),_(n,"romanticDateServices",o,n),_(n,"globalTreasureBoxServices",l,n),_(n,"crystalFactoryServices",c,n),n.state={isIntroductionMenuShown:!1,menuIndex:-1},n.switchModel=function(e){e?(n.crystalFactoryServices.getCrystalInitData(),u.default.info("已切换至水晶模式")):u.default.info("已切换至幸福券模式"),n.romanticDateServices.updateSwitchModel(e)},n.onCloseClick=function(){n.props.onCancel()},n.onMenuClick=function(){var e=n.state.menuIndex;n.romanticDateServices.romanticDysub("getMoreClick"),-1===e?n.setState({isIntroductionMenuShown:!0}):(n.props.onMenuClick(-1),n.setState({menuIndex:-1}))},n.handleMenuClick=function(e){0===e?n.romanticDateServices.romanticDysub("ruleClick"):1===e&&n.romanticDateServices.romanticDysub("recordClick"),-1===e?n.setState({isIntroductionMenuShown:!1}):(n.props.onMenuClick(e),n.setState({menuIndex:e}))},n.getBtnModel=function(e,t,i){return e?s.a.createElement(m.default,{showSwitchModel:i,callBack:n.switchModel,__source:{fileName:v,lineNumber:80},__self:r}):t?s.a.createElement(h.default,{type:"romanticDate",__source:{fileName:v,lineNumber:82},__self:r}):null},g(n,e)}t.default=Object(r.connect)(function(e){var t=e.globalTreasureBox,i=(t=void 0===t?{}:t).boxConfig,t=e.romanticDateExtraData,e=(t=void 0===t?{}:t).showSwitchModel,t=t.showSwitchBtn;return{boxConfig:i,showSwitchModel:void 0===e?0:e,showSwitchBtn:void 0===t?0:t}})(b)},"9af9be":function(e,t,i){},"9b0dce":function(e,t,i){e.exports=i("d1db8c")("a63b0")},"9b6aef":function(e,t,i){"use strict";var n=i("e1eadf"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={isFirstLoad:1,isOpen:0,showRoomGuild:0,showGuessGuild:0,roomGuideIntro:"",guessGuideIntro:"",guessGuideVersion:0,giftBannerSwitch:0,bannerTips:""};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],i=t.payload;return t.type!==n.FISHBALL_TREASURE_SET_DATA?e:r({},e,i)}},"9bd669":function(e,t,i){"use strict";var n,r,a,o,l,c=i("7ca7dc"),s=i("97a1f0"),u=i("f68984"),f=i("b00678"),p=i("960890"),m=i("2f135c"),d=i("eb3e22"),b=i("ffca33"),h=i("191436"),v=i("b3960e"),_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var N=c.default.Service,w=Object(s.importObject)("live.common.dyComponents.Message"),v=(n=N(d.DataCenter.localStorage),i=N(d.DataCenter.global),c=N(d.DataCenter.common),N=N(v.default),O.prototype.startLive=function(e){var c=this;return e.ofType(h.WS_START_LIVE).pipe(Object(f.switchMap)(function(e){var t=e.payload,e={};return c.localStorage.get("nocovertip")&&(e.notshowtip=1),Object(b.default)({url:"/room/my/first_show",type:"post",data:e,contentType:"form",payload:t})}),Object(u.map)(function(e){var t,i=e.error,n=e.msg,r=void 0===n?"web开播失败, 请去主播中心查看详情":n,e=e.payload,a=+i,o=(void 0===e?{}:e).roomId;switch(a){case 0:c.webSrteamServices.redirectAnchorRoom(o);break;case 1:c.pushDataToStreamTip({postLiveOnCode:a,postLiveOnIcon:"warning",postLiveOnText:r,postLiveOnDlg:!0});break;case 2:return h.default.handleAuthenModal({show:!0});case 3:t='<div class="ARoomOpenLock-banWrap">亲爱的主播, 您的直播间已被封禁<br />封禁原因：'+(r.reason||"获取封禁原因失败, 请稍候再试")+"<br />封禁时长："+(r.duration||"获取封禁时长失败, 请稍候再试")+"<br />"+(r.open_time?"解禁时间："+r.open_time+"<br />":"<br />")+'<div class="ARoomOpenLock-banDesc">请认真阅读<a style="color: #f70" href="https://www.douyu.com/cms/ptgz/202008/06/16147.shtml" target="_blank">《斗鱼直播内容管理规定》</a>, 如有疑问, 请具体查询违规详情</div></div>',c.pushDataToStreamTip({postLiveOnCode:a,postLiveOnIcon:"warning",postLiveOnText:t,postLiveOnDlg:!0});break;case 10:case 11:c.pushDataToStreamTip({postLiveOnCode:a,postLiveOnIcon:"warning",postLiveOnText:r,postLiveOnDlg:!0});break;case 12:case 13:var l=c.localStorage.get("nocovertip");l&&l===c.formatDate(null,"YMD")?c.pushDataToStreamTip({postLiveOnIcon:"sussess",postLiveOnText:r,postLiveOnDlg:!0}):(c.localStorage.set("nocovertip",c.formatDate(null,"YMD")),c.pushDataToStreamTip({postLiveOnText:r,postLiveOnUploadDlg:!0}));break;case 234:c.pushDataToStreamTip({postLiveOnText:r,postLiveOnVerDlg:!0});break;case 618:c.webSrteamServices.getQrCode(),c.pushDataToStreamTip({liveOnAuthDlg:!0});break;default:w.error(r)}return h.default.defaultAction()}))},O.prototype.getUserInfo=function(e){var l=this;return e.ofType(h.WS_GET_USERINFO).pipe(Object(f.switchMap)(function(e){e=e.payload;return Object(b.default)({type:"get",url:"/member/cp/getUserSimpleInfo",noCache:!0,contentType:"application/x-www-form-urlencoded",payload:e})}),Object(u.map)(function(e){var t=e.error,i=e.msg,n=void 0===i?"获取认证信息失败":i,r=e.data,a=e.payload,i=void 0===a?{}:a;if(0==+t&&r){var e=s.GSON.parse(r),a=e.roomId,o=void 0===a?"":a,t=e.nickname,r=void 0===t?"":t,a=e.identStatus,t=void 0===a?"":a,a=e.phoneStatus,a=void 0===a?"":a,i=i.retry,i=void 0!==i&&i;if(o)return l.webSrteamServices.setUserInfo(e),2!=+t||1!=+a?h.default.handleAuthenModal({show:!0}):h.default.getRoomShowStatus({roomId:o,callback:function(){return l.webSrteamServices.startLive({roomId:o})}});if(!i&&2==+t&&1==+a)return h.default.createRoom({nickname:r,callback:function(){return l.webSrteamServices.getUserInfo({retry:!0})}});if(2!=+t||1!=+a)return h.default.handleAuthenModal({show:!0})}else w.error(n);return h.default.defaultAction()}))},O.prototype.createRoom=function(e){return e.ofType(h.WS_CREATE_ROOM).pipe(Object(f.switchMap)(function(e){e=e.payload;return Object(b.default)({type:"post",url:"/room/apply/submit",data:{room_name:e.nickname+"的直播间",tag_id:1,child_id:32},payload:e,contentType:"application/x-www-form-urlencoded"})}),Object(u.map)(function(e){var t=e.error,e=e.payload;return 0==+t?(void 0===e?{}:e).callback():w.error("创建直播间失败，请前往个人中心“我要直播”页面手动完成开播"),h.default.defaultAction()}))},O.prototype.getRoomShowStatus=function(e){var a=this;return e.ofType(h.WS_ROOM_STATUS).pipe(Object(f.switchMap)(function(e){e=e.payload;return Object(b.default)({type:"get",url:"/ztCache/ZtCacheList/roomShowStatus",data:{roomId:e.roomId||0},payload:e,contentType:"application/x-www-form-urlencoded"})}),Object(u.map)(function(e){var t=e.error,i=e.msg,n=void 0===i?"获取房间开播状态失败":i,r=e.data,i=e.payload,e=void 0===i?{}:i,i=e.roomId,i=void 0===i?0:i,r=s.GSON.parse(r);return 0==+t&&"object"===(void 0===r?"undefined":_(r))?(r=1==+r[i]?1:0)||"function"!=typeof e.callback?r&&a.webSrteamServices.redirectAnchorRoom(i):e.callback():w.error(n),h.default.defaultAction()}))},O.prototype.getQRCode=function(e){var n=this;return e.ofType(h.WS_OPENLIVE_QRCODE).pipe(Object(f.switchMap)(function(){return d.httpClient.post(String,"/member/panel/ident/getIdentUrlForShow",{})}),Object(u.map)(function(e){var t=e.error,i=e.data,i=void 0===i?{}:i,e=e.msg;if(0!==t)return w.error(e),n.pushDataToStreamTip({qrCodeInfo:{url:"",expire:0}}),h.default.defaultAction();e=s.GSON.parse(i),i=e.url,i=void 0===i?"":i,e=e.expire,e=void 0===e?0:e;return e<=0?(w.error("获取二维码失败，请重试"),n.pushDataToStreamTip({qrCodeInfo:{url:"",expire:0}})):n.pushDataToStreamTip({qrCodeInfo:{url:i,expire:e}}),h.default.defaultAction()}),Object(m.catchError)(function(e){return Object(p.of)({type:"error",payload:e})}))},r=y((v=O).prototype,"localStorage",[n],{enumerable:!0,initializer:null}),a=y(v.prototype,"global",[i],{enumerable:!0,initializer:null}),o=y(v.prototype,"common",[c],{enumerable:!0,initializer:null}),l=y(v.prototype,"webSrteamServices",[N],{enumerable:!0,initializer:null}),v);function O(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O),g(this,"localStorage",r,this),g(this,"global",a,this),g(this,"common",o,this),g(this,"webSrteamServices",l,this),this.formatDate=function(e,t){var i=e?new Date(e):new Date,n=("0000"+i.getFullYear()).slice(-4),r=("00"+(i.getMonth()+1)).slice(-2),a=("00"+i.getDate()).slice(-2),o=("00"+i.getHours()).slice(-2),e=("00"+i.getMinutes()).slice(-2),i=("00"+i.getSeconds()).slice(-2);return t?t.replace(/Y/g,n).replace(/M/g,r).replace(/D/g,a).replace(/h/g,o).replace(/m/g,e).replace(/s/g,i):n+"-"+r+"-"+a+" "+o+":"+e},this.pushDataToStreamTip=function(){e.common.push("webStreamOnTip",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}}t.default=v},"9c8622":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/logo_5c95e85.png"},"9ce00b":function(e,t,i){"use strict";var n=i("8c9da2"),r=i("a25e17"),a=i("174f05"),o=i("f344a1"),l=i("f20ba2"),c=i("ae24e6"),s=i("6e0a51"),u=i("42f448"),f=i("5ab155"),p=i("b8dfcd"),m=i("bdc7b0"),d=i("28ca94"),b=i("047f97"),h=i("4644de"),v=i("e79627"),_=i("18a23f"),g=i("84b11f"),y=i("1cbc92"),N=i("e965cf"),w=i("6face5"),O=i("8544d3"),S=i("331db0"),E=i("82834a"),j=i("0395bc"),T=i("946e67"),P=i("2011da"),D=i("bf586c"),C=i("58cc8b"),k=i("431322"),I=i("ecf6ab"),z=i("8d15b9"),R=i("adbe49"),A=i("9b6aef"),x=i("7c389e"),G=i("de2bba"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=i({toolbarData:n.default,giftData:r.default,activityData:a.default,yzGiftRankData:o.default.yzGiftRankData,yzGiftRankList:o.default.yzGiftRankList,guessData:l.default.guessData,guessBtnStatus:l.default.guessBtnStatus,showJifen:c.default.showJifenReducers,jifenUserReducers:c.default.jifenUserReducers,jifenAnchorReducers:c.default.jifenAnchorReducers,guessIconRoomConfigData:s.default.guessIconRoomConfig,guessIconConfigData:s.default.guessIconConfig,guessIconEntryData:s.default.guessIconEntry,guessGameActiveData:s.default.guessGameActive,PrivilegedGiftData:O.default,turntableLotteryEnterData:u.default,SendGiftListData:f.default,LolLotteryData:p.default,LolFamilyData:m.default,LotteryDrawEnterData:d.default,PubgPclData:b.default,RoomLevelDetailData:h.default,SpeedRankData:v.default,superFansData:_.default,SuperWarShipIconData:g.default,battleShipEnterData:y.default,HpjysssData:N.default,propRedEnvelopeIcon:w.default,KPLDialogData:S.default,TeamfightTacticsData:E.default,csgoPanelReducer:j.default,vpGameReducers:R.default,toolbarModuleSwitch:T.default.toolbarModuleSwitch,fishballTreasureReducers:A.default,cookGirlBannerData:P.default},D.default,{cookCompleteEnterData:k.default},I.default,C.default,{chefMasterEnterData:z.default,LPLDsjData:x.default,webStreamData:G.default})},"9d5279":function(e,t,i){"use strict";i=i("939775");t.default=i.default},"9d6169":function(e,t,i){"use strict";i=i("3cef18");t.default=i.default},"9d7f29":function(e,t,i){"use strict";var n,r,a=i("97a1f0"),o=i("f68984"),l=i("eb3e22"),c=i("ffca33"),s=i("b067ea");function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function p(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var m,s=(i=Object(a.Inject)(l.DataCenter.localStorage),l=Object(a.Inject)(s.default),f(d,m=a.Service),d.prototype.reqFansgiftBoxConfig=function(){return Object(c.default)({url:"//webconf.douyucdn.cn/resource/common/config/inter_com_w_random_gift.json",type:"jsonp",callbackName:"inter_com_w_random_gift"})},d.prototype.getFansgiftBoxConfig=function(){return this.reqFansgiftBoxConfig().pipe(Object(o.map)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e&&0===parseInt(e.error,10)&&"string"==typeof e.data?a.GSON.parse(e.data):{}}))},d.prototype.getDate=function(){var e=new Date;return e.getFullYear()+"."+(e.getMonth()+1)+"."+e.getDate()},d.prototype.isShowTips=function(e){var t=e.allSwitch,i=e.tipsSwitch,n=e.tipsOneDayNum,e=void 0===n?0:n;if(0==+(void 0===t?0:t)||0==+(void 0===i?0:i))return!1;n=this.getDate(),t=this.localStorage.get(this.FANS_GIFT_BOX_TIP);if(t&&"[object Object]"===Object.prototype.toString.call(t)){i=t.date,t=t.num;return n===i?+t<e&&(this.localStorage.set(this.FANS_GIFT_BOX_TIP,{date:n,num:+t+1}),!0):(this.localStorage.set(this.FANS_GIFT_BOX_TIP,{date:n,num:1}),!0)}return this.localStorage.set(this.FANS_GIFT_BOX_TIP,{date:n,num:1}),!0},n=p((s=d).prototype,"localStorage",[i],{enumerable:!0,initializer:null}),r=p(s.prototype,"configEffectBroadcastService",[l],{enumerable:!0,initializer:null}),s);function d(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,m.call(this));return u(e,"localStorage",n,e),u(e,"configEffectBroadcastService",r,e),e.FANS_GIFT_BOX_TIP="FANS_GIFT_BOX_TIP",e.configEffectBroadcastService.register("randomgiftbroadcast"),e}t.default=s},"9e02b6":function(e,t,i){e.exports=i("5f575e")("35141")},"9e094b":function(e,t,i){"use strict";i=i("67cc62");t.default=i.default},"9e14f6":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/kpldsj-icon_02d3071.png"},"9e38a1":function(e,t,i){e.exports=i("5f575e")("913da")},"9f0db1":function(e,t,i){e.exports=i("5f575e")("81d4c")},"9f669a":function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),a=i("3b6ec9"),o=i.n(a),l=i("54992a"),n=i("7ca7dc"),a=i("eb3e22"),c=(i("e66708"),i("b85cb0")),u=i("222005"),f="/shark/live/src/pages/roomPage/toolbarModule/components/JifenComponent/JifenComponent.js";function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var d,b,h,v,_,g,l=(a=(0,n.default.Service)(a.DataCenter.global),Object(l.log)((m(y,g=r.a.Component),y.prototype.render=function(){var e=+this.global.get("$ROOM.owner_uid"),t=+this.global.get("USER_INFO.uid");return o.a.createPortal(r.a.createElement("div",{className:"JifenComponent",__source:{fileName:f,lineNumber:21},__self:this},e==t?r.a.createElement(u.default,{__source:{fileName:f,lineNumber:23},__self:this}):r.a.createElement(c.default,{__source:{fileName:f,lineNumber:23},__self:this})),document.body)},d=(l=y).prototype,b="global",a=[a],h={enumerable:!0,initializer:null},_={},Object.keys(h).forEach(function(e){_[e]=h[e]}),_.enumerable=!!_.enumerable,_.configurable=!!_.configurable,("value"in _||_.initializer)&&(_.writable=!0),_=a.slice().reverse().reduce(function(e,t){return t(d,b,e)||e},_),v&&void 0!==_.initializer&&(_.value=_.initializer?_.initializer.call(v):void 0,_.initializer=void 0),void 0===_.initializer&&(Object.defineProperty(d,b,_),_=null),s=_,l=l))||l);function y(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=p(this,g.call.apply(g,[this].concat(l))),n="global",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),p(t,e)}t.default=l},"9f8cc3":function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),a=i("7ca7dc"),o=i("db47a7"),l=i("bc6a90"),c=(i("209614"),"/shark/live/src/pages/roomPage/toolbarModule/components/LolLottery/components/PrizeStatus.js");function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var p,m,d,b,h,v,n=(l=(0,a.default.Service)(l.default),f(_,v=n.Component),_.prototype.getItNow=function(e){e.stopPropagation();var t=this.props,i=t.prizeStatus,n=t.actId,r=t.roomData,e=void 0===r?{}:r,t=(void 0===i?{}:i).rowId,r=e.roomId,i=e.tagId;Object(o.dysub)("click_pick_gift",{tid:i,rid:r,active_id:n}),this.lolLotteryService.checkAccountStatusEpics({rowId:t,roomData:e,actId:n})},_.prototype.render=function(){var t=this,e=this.props.prizeStatus,e=void 0===e?{}:e;return r.a.createElement("div",{className:"PrizeStatus",__source:{fileName:c,lineNumber:37},__self:this},r.a.createElement("span",{className:e.hasPrize?"PrizeStatus-notice":"PrizeStatus-notice PrizeStatus-hide",__source:{fileName:c,lineNumber:38},__self:this},"您有",r.a.createElement("strong",{className:"PrizeStatus-name",__source:{fileName:c,lineNumber:39},__self:this},e.prizeName),"未领取",r.a.createElement("a",{className:"PrizeStatus-getItNow",onClick:function(e){return t.getItNow(e)},__source:{fileName:c,lineNumber:40},__self:this},"立即领取")))},p=(n=_).prototype,m="lolLotteryService",l=[l],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=l.slice().reverse().reduce(function(e,t){return t(p,m,e)||e},h),b&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(p,m,h),h=null),s=h,n);function _(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,v.call.apply(v,[this].concat(l))),n="lolLotteryService",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),u(t,e)}t.default=n},"9fd49d":function(e,t,i){"use strict";var r,n,a,o,l,c,s=i("7ca7dc"),u=i("f68984"),f=i("b00678"),p=i("eeb07d"),m=i("eb3e22"),d=i("d9d29f"),m=(s=(0,s.default.Service)(m.DataCenter.global),b.prototype.getConfigsFlow=function(e){var t=this;return e.ofType(d.TURNTABLE_GET_CONFIGS).pipe(Object(f.switchMap)(function(){return Object(p.forkJoin)(t.turntableLotteryServices.getConfigsFlow())}),Object(u.map)(function(e){return d.TurntableLotteryActions.receiveConfigs(e)}))},n=(m=b).prototype,a="global",s=[s],o={enumerable:!0,initializer:null},c={},Object.keys(o).forEach(function(e){c[e]=o[e]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=s.slice().reverse().reduce(function(e,t){return t(n,a,e)||e},c),l&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(l):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(n,a,c),c=null),r=c,m);function b(){var e,t,i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),t="global",n=e=this,(i=r)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}t.default=m},a00326:function(e,t,i){"use strict";var a,n=i("1a22b7"),r=i.n(n),o=i("3b6ec9"),l=i.n(o),c=i("447d8e"),s=i("7ca7dc"),n=i("54992a"),o=i("c95695"),u=(i("6fadec"),"/shark/live/src/pages/roomPage/toolbarModule/components/GuessIcon/GuessGameActive/GuessGameActive.js");function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var p,m,d,b,h,v,n=(o=(0,s.default.Service)(o.default),Object(n.log)((f(_,v=r.a.Component),_.prototype.componentDidMount=function(){var e=this;this.timer=setTimeout(function(){e.guessIconService.switchGuessGameActive(!1)},3e4)},_.prototype.closeThis=function(){this.guessIconService.switchGuessGameActive(!1),clearTimeout(this.timer)},_.prototype.render=function(){var e=this,t=this.props.guessGameActiveData.guessGameActiveSwitch,i=(this.props.giftData||{}).quizActPic,i=void 0===i?{}:i;return t&&i[2]?l.a.createPortal(r.a.createElement("div",{className:"GuessGameActive",style:{backgroundImage:"url("+i[2]+")"},__source:{fileName:u,lineNumber:46},__self:this},r.a.createElement("div",{className:"GuessGameActive-close",onClick:function(){return e.closeThis()},__source:{fileName:u,lineNumber:51},__self:this})),document.body):null},p=(n=_).prototype,m="guessIconService",o=[o],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=o.slice().reverse().reduce(function(e,t){return t(p,m,e)||e},h),b&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(p,m,h),h=null),a=h,n=n))||n);function _(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);var t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this,e));return i="guessIconService",n=t=r,(e=a)&&Object.defineProperty(t,i,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(n):void 0}),r.timer=null,r}t.default=Object(c.connect)(function(e){return{guessGameActiveData:e.guessGameActiveData,giftData:e.giftData}})(n)},a06d78:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"PRIVILEGEGIFT_UPDATE_DATA",function(){return a});var r,a="PRIVILEGEGIFT_UPDATE_DATA",i=(n(o,r=i("97a1f0").Action),o.updateData=function(e){return{type:a,payload:e}},o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}t.default=i},a16933:function(e,t,i){e.exports=i("5f575e")("cc290")},a195e8:function(e,t,i){e.exports=i("5f575e")("89f23")},a19636:function(e,t,i){"use strict";var a,n,r=i("1a22b7"),o=i.n(r),r=i("7ca7dc"),i=i("4b2b18"),l="/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/Progress.js";function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var s,u,f,p,m,d,i=(r=(0,r.default.Service)(i.default),c(b,d=o.a.Component),b.prototype.componentWillReceiveProps=function(e){var t=e.value,i=e.isShowTransition,e=this.state.value;i?(e<t?this.setState({value:t,status:1}):this.levelUp(t),this.delayEndTransition()):this.setState({value:t,status:0})},b.prototype.componentWillUnmount=function(){clearTimeout(this.timeTicket),clearTimeout(this.colorTicket),clearTimeout(this.destroyTicket)},b.prototype.render=function(){var e=this.state,t=e.value,i=e.status,e=e.pcolor,n={width:t},t=this.props.taskColor;switch(e&&(n.backgroundColor="#ffa200"),t&&(n.backgroundColor="#ff7300"),i){case 1:n.transition="width 2s ease";break;case 2:n.transition="width 1s ease-in";break;case 3:n.transition="width 1s ease-out"}return o.a.createElement("div",{className:"Autograph-exbox",__source:{fileName:l,lineNumber:129},__self:this},o.a.createElement("span",{style:n,__source:{fileName:l,lineNumber:130},__self:this}))},n=function(){var e,t,i,n,r=this;t="roomLevelDetailServices",n=e=this,(i=a)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),this.timeTicket=null,this.colorTicket=null,this.destroyTicket=null,this.delayEndTransition=function(){clearTimeout(r.destroyTicket),r.destroyTicket=setTimeout(function(){clearTimeout(r.destroyTicket),r.roomLevelDetailServices.setReducerData({isShowTransition:!1})},2e3)},this.levelUp=function(e){r.setState({pcolor:!0,value:200,status:2}),r.colorTicket=setTimeout(function(){clearTimeout(r.colorTicket),r.setState({pcolor:!1})},1e3),r.timeTicket=setTimeout(function(){clearTimeout(r.timeTicket),r.setState({value:10,status:0}),requestAnimationFrame(function(){r.setState({value:e,status:3})})},1e3)}},s=(i=b).prototype,u="roomLevelDetailServices",r=[r],f={enumerable:!0,initializer:null},m={},Object.keys(f).forEach(function(e){m[e]=f[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=r.slice().reverse().reduce(function(e,t){return t(s,u,e)||e},m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(s,u,m),m=null),a=m,i);function b(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,d.call(this,e));n.call(t);e=e.value;return t.state={pcolor:!1,value:void 0===e?0:e,status:1},t}t.default=i},a1b41e:function(e,t,i){},a25e17:function(e,t,i){"use strict";var b=i("722b8a"),h=i("aa59e7"),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_={allGift:[],loaded:!1,token:!1,giftInfo:null,giftSkinSelData:{},giftSkinSelState:{},giftInfoPanelVisible:!1,hitCountdownList:[],showYCLow:!1,showYWLow:!1,showYWLowInfo:null,showYCLowInfo:{},showAnchorScoreLow:0,userLevel:0,orderParam:"",faceEffectData:{giftId:0,propInfo:null,num:0,isShow:!1,checked:!0,isProp:!1},lastGiftInfo:{isShortGold:!1,willSendGift:"",willSendGiftNum:0,willSendGiftName:"",giftId:"",willSendGold:0},rechargeVisible:!1,rechargeInfo:{bl:0,rm:0},isShowGiftAct:!0,yzmfData:{},gbfp:{},bjAudioData:{},fdGiftConfig:{},fdReturnYwQuizOpen:!1,fdReturnYwExist:!1,fdReturnYwModal:!1,fdReturnYwModalData:{},fdActPanelData:{isShowFuDaiGiftAct:!1}};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:_,t=arguments[1],i=e.allGift,n=e.giftInfo;switch(t.type){case h.RECEIVE_ALL_GIFT_CONFIG:case h.SHOW_GIFT_INFO_PANEL:case h.HIDE_GIFT_INFO_PANEL:return v({},e,t.payload);case h.SEND_GIFT_YC_SUCCESS:var r=i.slice(0),a=r.find(function(e){return e.id===t.payload.gid});return a.sendSuccOn=(new Date).getTime(),a.countdown=a.hitInterval,a.ywnum=t.payload.ry,v({},e,{allGift:r});case h.GIFT_ERROR:var o=t.payload.msg;return o&&b.default.error(o),e;case h.HIT_COUNTDOWN:var a=t.payload,l=a.id,r=a.countdown,o=i.slice(0),c=n||{},s=v({},c),a=o.find(function(e){return e.id===l});a&&(a.countdown=r);r=o.find(function(e){return e.id===c.id});return r&&(s.countdown=r.countdown),v({},e,{allGift:o,giftInfo:s});case h.REMIND_YC_LOW_CALLBACK:return Object.assign({},v({},e),{showYCLow:!0,showYCLowInfo:t.payload});case h.REMIND_YW_LOW_CALLBACK:return Object.assign({},v({},e),{showYWLow:!0,showYWLowInfo:t.payload});case h.CLOSE_YW_LOW:return Object.assign({},v({},e),{showYWLow:!1});case h.FACE_EFFECT:return v({},e,{faceEffectData:{giftId:t.payload.giftId,propInfo:t.payload.propInfo,num:t.payload.num,isShow:t.payload.isShow,checked:t.payload.checked,isProp:t.payload.isProp}});case h.RECEIVE_YCLOW_ORDER:return Object.assign({},v({},e),{orderParam:t.payload.code_url});case h.STORE_LAST_GIFT:return Object.assign({},v({},e),{lastGiftInfo:t.payload});case h.SET_VESIBLE:return Object.assign({},v({},e),{rechargeVisible:t.payload});case h.RECHARGE_INFO:return Object.assign({},v({},e),{rechargeInfo:t.payload});case h.UPDATE_ANCHOR_SCORE_STATE:return Object.assign({},v({},e),{showAnchorScoreLow:t.payload});case h.UPDATE_GIFT_USER_LEVEL:return Object.assign({},v({},e),{userLevel:t.payload});case h.SET_RECHARGE_VISIBLE:return Object.assign({},v({},e),{showYCLow:!1});case h.TOGGLE_GIFT_ACT_ENTER:return Object.assign({},v({},e),{isShowGiftAct:t.payload});case h.SEND_YZMF_DATA:return Object.assign({},v({},e),{yzmfData:t.payload});case h.SEND_BJ_AUDIO_DATA:return Object.assign({},v({},e),{bjAudioData:t.payload});case h.GIFT_FUDAI_COMMON_ACTION:return Object.assign({},v({},e),v({},t.payload));case h.GIFT_FUDAI_ACT_ACTION:return Object.assign({},v({},e),{fdActPanelData:v({isShowFuDaiGiftAct:!0},t.payload)});case h.INIT_GIFT_SEL_SKIN_LIST:var u=(t.payload||{}).giftList,f=e.giftSkinSelData||{},p=v({},f);return u&&Array.isArray(u)&&u.forEach(function(e){e&&e.id&&!p[e.id]&&(p[e.id]=+e.defaultSkinId||0)}),Object.assign({},v({},e),{giftSkinSelData:p});case h.GIFT_SEL_SKIN_STATE:var s=t.payload||{},f=e.giftSkinSelState||{},m=v({},f);return s.giftId&&(u=s.opened,f=s.index,m[s.giftId]={opened:u,index:f}),Object.assign({},v({},e),{giftSkinSelState:m});case h.GIFT_SEL_SKIN_LIST:var m=t.payload||{},d=e.giftSkinSelData||{},d=v({},d);return m.giftId&&(d[m.giftId]=m.skinId),Object.assign({},v({},e),{giftSkinSelData:d});case h.SEND_GBFP_DATA:d=t.payload.gbfp;return Object.assign({},v({},e),{gbfp:d});default:return e}}},a27494:function(e,t,i){"use strict";var n=i("fc7947"),o=i.n(n),r=i("97a1f0"),a=i("ffca33"),l=i("722b8a"),i=i("54992a");function c(e){return function(){var l=e.apply(this,arguments);return new Promise(function(a,o){return function t(e,i){try{var n=l[e](i),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});a(r)}("next")})}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var f,i=Object(i.log)((u(p,f=r.Service),p.prototype.checkBind=function(){return new Promise(function(n){Object(a.default)({url:"/member/cp/get_phone_status",type:"get",noCache:!0}).subscribe(function(e){var t=e.error,i=e.result,e=e.code;-1===i||0===e&&0==+(void 0===t?{}:t).phonestatus?n(!1):n(!0)})})},p.prototype.getUrlMatchId=function(){var n=this;Object(a.default)({url:"/actives/LPLLive/getAllGoingMatch",type:"get",noCache:!0}).subscribe(function(e){var t=e.error,e=e.data,i="";0===t&&e.forEach(function(e){e=r.GSON.parse(e);+e.room_id==+n.LPLmatchinfo.state.roomId&&(i=e.match_id)}),n.LPLmatchinfo.setState({displayStatus:3,matchId:i})})},p.prototype.showLogin=function(){o.a.show()},i=p))||i;function p(){var e,t,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t=s(this,f.call.apply(f,[this].concat(r))),t.goTXpage=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.checkBind();case 2:e.sent?t.getUrlMatchId():l.default.info("请先绑定手机号");case 4:case"end":return e.stop()}},e,i)})),t.closeDialogClick=function(){t.LPLmatchinfo.setState({displayStatus:0})},t.handleBtnClick=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.LPLmatchinfo.state.displayStatus)return t.closeDialogClick(),e.abrupt("return");e.next=4;break;case 4:if(o.a.check()){e.next=9;break}o.a.show(),t.LPLmatchinfo.setState({displayStatus:1}),e.next=13;break;case 9:return e.next=11,t.checkBind();case 11:e.sent?t.getUrlMatchId():t.LPLmatchinfo.setState({displayStatus:2});case 13:case"end":return e.stop()}},e,i)})),s(t,e)}t.default=i},a2df66:function(e,t,i){"use strict";var a,n=i("1a22b7"),r=i.n(n),o=i("447d8e"),l=i("54992a"),c=i("7ca7dc"),s=i("db47a7"),n=i("fc7947"),u=i.n(n),f=i("16358b"),n=i("dee2e9"),p=(i("f8e9c3"),i("b3001b")),m="/shark/live/src/pages/roomPage/toolbarModule/components/JifenIcon/JifenIcon.js";function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var b,h,v,_,g,y,l=(n=(0,c.default.Service)(n.default),Object(l.log)((d(N,y=r.a.Component),N.prototype.componentDidMount=function(){this.jifenServices.showJifenEntranceBtn()},N.prototype.componentWillReceiveProps=function(e){e.showJifenEntranceBtn&&f.default.toolbarActivityShow("jifen")},N.prototype.handleClickIcon=function(){var e=this.props.isShowJifen;Object(s.dysub)("click_scoreexc"),u.a.check()?this.jifenServices.showJifenDialog(!e):u.a.show()},N.prototype.render=function(){var e=this.props.isShowJifen;return r.a.createElement("div",{__source:{fileName:m,lineNumber:51},__self:this},r.a.createElement("div",{className:"JifenIcon",onClick:this.handleClickIcon,__source:{fileName:m,lineNumber:52},__self:this}),e?r.a.createElement(p.default,{__source:{fileName:m,lineNumber:55},__self:this}):"")},b=(l=N).prototype,h="jifenServices",n=[n],v={enumerable:!0,initializer:null},g={},Object.keys(v).forEach(function(e){g[e]=v[e]}),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),g=n.slice().reverse().reduce(function(e,t){return t(b,h,e)||e},g),_&&void 0!==g.initializer&&(g.value=g.initializer?g.initializer.call(_):void 0,g.initializer=void 0),void 0===g.initializer&&(Object.defineProperty(b,h,g),g=null),a=g,l=l))||l);function N(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N);var e,t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,y.call(this));return t="jifenServices",n=e=r,(i=a)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),r.handleClickIcon=r.handleClickIcon.bind(r),r}t.default=Object(o.connect)(function(e){return{showJifenEntranceBtn:e.showJifen.showJifenEntranceBtn,isShowJifen:e.showJifen.showJifenDialog}})(l)},a32035:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/lplview-icon_b4612b9.png"},a362bc:function(e,t,i){"use strict";var a,o,n=i("eb3e22"),r=i("54992a");function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function u(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var f,i=n.basicTypes.string,n=Object(r.log)((s(p,f=n.EntityDto),a=u((n=p).prototype,"catename",[i],{enumerable:!0,initializer:null}),o=u(n.prototype,"token",[i],{enumerable:!0,initializer:null}),n=n))||n;function p(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=c(this,f.call.apply(f,[this].concat(n))),l(t,"catename",a,t),l(t,"token",o,t),c(t,e)}t.default=n},a3bd09:function(e,t,i){"use strict";i=i("175c4f");t.default=i.default},a41606:function(e,t,i){"use strict";i=i("479a05");t.default=i.default},a48e8a:function(e,t,i){"use strict";i=i("0e0f84");t.default=i.default},a50154:function(e,t,i){e.exports=i("5f575e")("f3579")},a507d0:function(e,t,i){},a5095b:function(e,t,i){"use strict";var n,o,l,c,s,u,f,p,m,d,b,h,v,_,g,y,N,w,O,r=i("1a22b7"),S=i.n(r),a=i("447d8e"),E=i("97a1f0"),j=i("960890"),T=i("7ca7dc"),P=i("eb3e22"),D=i("edec24"),C=i("fc7947"),k=i.n(C),I=i("db47a7"),z=i("56b0a1"),R=i("eeb07d"),A=i("748d25"),x=i("ac64b0"),G=i("52a244"),L=i("0fc7f7"),M=i("d4cc5e"),B=i("07dd3a"),F=i("e48bb1"),U=i("6bbfe5"),W=i("b2f633"),J=i("9d6169"),Y=i("a3bd09"),H=i("151a20"),V=i("eb946c"),$=i("19c06d"),K=i("b614f4"),q=i("e5574c"),Z=i("fa5dca"),Q=i("f9439a"),X=i("19fee3"),ee=i("10736b"),te=i("72c422"),ie=i("d6c5c8"),ne=i("5e8a18"),re=i("b06504"),ae=i("60c3c8"),oe=i("cd2b9c"),le=i("2ee3ff"),ce=i("384e44"),se=i("fcba5c"),ue=i("450f6b"),fe=i("56717d"),pe=i("183617"),me=i("0c9be2"),de=i("a86e33"),be=i("0de621"),he=i("762a09"),ve=i("7dc939"),_e=i("13fe44"),ge=i("a87038"),ye=i("6f64bc"),Ne=i("818dcd"),we=i("a41606"),Oe=i("e02366"),Se=i("76e00e"),Ee=i("c05db5"),je=i("b60252"),Te=i("b62dcb"),Pe=i("684ef0"),De=i("16358b"),Ce=i("f58b43"),ke=i("19574c"),Ie=i("45d64e"),ze=i("de008c"),Re=i("0f5fdd"),Ae=i("714663"),xe=i("811d6e"),Ge=i("464414"),Le=i("ebd8cf"),Me=i("e854a7"),Be=i("5b9730"),Fe=i("da4594"),Ue=i("ffca33"),We=i("7afc3e"),Je=i("c0c351"),Ye=i("c0cbad"),He=i("4afe80"),Ve=i("4de5d4"),$e=i("885716"),Ke=i("d1c18e"),qe=i("586ce2"),Ze=i("9e094b"),Qe=i("4bd50d"),r=i("b3960e"),Xe=i("218fad"),et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tt="/shark/live/src/pages/roomPage/toolbarModule/components/Toolbar/AvtivitesBar/ActivitesBar.js";function it(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function rt(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var at,ot=Me.default.socketStream,lt=T.default.Region,C=T.default.Service,i=T.default.Store,ct={anchor_quiz:100.5},st={anchor_quiz:We.default,guess:We.default},ut=Object(E.importObject)("live.common.dyComponents.Message"),r=(Me=i(),T=C(ze.default),We=C(P.DataCenter.common),E=C(P.DataCenter.localStorage),i=C(P.DataCenter.acj),ze=C(Ie.default),Ie=C(re.default),re=C(De.default),Re=C(Re.default),Ge=C(Ge.default),Be=C(Be.default),Fe=C(Fe.default),Ae=C(Ae.default),xe=C(xe.default),z=C(z.default),L=C(L.default),M=C(M.default),Ke=C(Ke.default),C=C(r.default),nt(ft,at=S.a.Component),ft.prototype.componentWillUnmount=function(){this.unsubscribes&&0<this.unsubscribes.length&&this.unsubscribes.forEach(function(e){e&&e.unsubscribe&&e.unsubscribe()})},ft.prototype.componentDidMount=function(){var f=this;this.isLogin=k.a.check(),this.isLogin&&(e={rid:P.DataCenter.global.get("$ROOM.room_id"),tagId:P.DataCenter.global.get("$ROOM.cate_id")},this.activityService.getFishPondSwitch(e)),this.initActCenterEntrance(),this.initPartyEntrance(),this.initCookCompleteEntrance(),this.initHaidiNianjinEntrance(),this.initCrystalEntrance(),this.fishballTreasureService.checkFishBallEntry(),this.initRedPacketEntrance(),this.checkWebStreamStatus(),ot.subscribe("memberinfores",function(e){var e=(e||{}).level,i=void 0===e?0:e;f.isAnchor||(e=f.isLogin?i:0,f.initMusicxuetuEntrance(e)),f.common.get("$DATA").subscribe(function(n){f.$ROOM=n.get("room"),f.activityService.getActivityConfig(f.$ROOM);var e=f.getSwitchServices.allSwitchService().subscribe(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={};0==+e.error&&(t="string"==typeof e.data?JSON.parse(e.data):{});var i=((n||{}).room||{}).isVertical,e=t.allRoom||{},t=+e["10526_1"]||0;+e["106981_2"]?f.setState({isActPay:!0,isVertical:i}):t?f.setState({isPaladinWeek:!0,isVertical:i}):f.isShowEnter(i),f.sortToolbarActivities()});f.unsubscribes.push(e);e=f.romanticDateServices.getJsonData().subscribe(function(e){var t;e&&(t=!0,0===(e=e).is_open_v2&&(t=!1),null!=e.black_list&&-1!==e.black_list.indexOf(f.$ROOM.room_id)&&(t=!1),null!=e.cate2_list&&-1===e.cate2_list.indexOf(+f.$ROOM.cate2_id)&&(t=!1),0<(e=void 0===(e=(e||{}).user_level_limit)?0:e)&&(!k.a.check()||+i<+e)&&(t=!1),f.setState({showRomatic:t}),f.sortToolbarActivities(),f.romanticDateServices.updateOpenStatus(t))});f.unsubscribes.push(e)})}),ot.subscribe("memberinfores",function(r){f.common.get("$DATA").subscribe(function(){f.getSwitchServices.allSwitchService().subscribe(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={},i=P.DataCenter.global.get("USER_INFO.uid"),n=P.DataCenter.global.get("$ROOM.owner_uid"),n=0<i&&parseInt(i,10)===parseInt(n,10),e=(t=0==+e.error?"string"==typeof e.data?JSON.parse(e.data):{}:t).allRoom||{},t=+e["10526_1"]||0;+e["106981_2"]?f.setState({isActPay:!0}):t?f.setState({isPaladinWeek:!0}):1==+r.frs&&i&&!n&&f.setState({isShowEnter:!0}),f.sortToolbarActivities()})})}),ot.subscribe("pgdgiftlogin",function(e){f.privilegeGiftEnterServices.handleMsg(e)});var e=this.commonSwitchService.getConfig("happyPlay").subscribe(function(n){var r,a,o,e,t,l,i,c,s,u;n.switch&&(r=f.localStorage.get("happyPlayNewIcon"),a=f.localStorage.get("happyPlayTipsV3")||{},i=n.cateGuideVersion,o=void 0===i?0:i,t=n.cateGuideText,e=n.newGuideEndTime,t=(i=void 0===t?{}:t).cate1,l=void 0===t?{}:t,i=i.cate2,c=void 0===i?{}:i,s=(new Date).getTime()>=1e3*+e?1:0,u="",f.common.get("$DATA").subscribe(function(e){var t=e.room||{},i=t.cate1_id,e=t.cate2_id,t=0;c[e]?(u=c[e],t=e):l[i]?(u=l[i],t=i):u=n.newGuideText||"";i=+o!=+a[t]?1:0;f.setState({isShowHappyPlay:!0,isShowHappyPlayTips:i&&!s,isShowHappyPlayNewIcon:!r,newGuideText:u,tipsVersion:o}),i&&!s&&((a=a&&10<Object.keys(a).length?{}:a)[t]=o,f.localStorage.set("happyPlayTipsV3",a)),f.sortToolbarActivities()}))});this.unsubscribes.push(e);e=this.commonSwitchService.getConfig("wishPond").subscribe(function(e){e.switch&&(f.setState({isShowWishPond:!0}),f.sortToolbarActivities())});this.unsubscribes.push(e)},ft.prototype.initActCenterEntrance=function(){var r=this;this.actCenterPKservice.getSubscribe().subscribe(function(e){var t=e.type,i=e.showActCenterPK,n=e.actCenterPKSub,e=e.isYuleCate;1==+t?(r.setState({showActCenterPK:i}),r.sortToolbarActivities()):2==+t?(r.setState({showActCenterPK:i,isYuleCate:e}),r.sortToolbarActivities(),Object(I.dysub2)({action_code:"16010022Z001",event_id:3,type:1})):3==+t&&r.unsubscribes.push(n)}),this.actCenterPKservice.init()},ft.prototype.initPartyEntrance=function(){var i=this;this.partyEntranceService.getEntrySubscribe().subscribe(function(e){var t=e.type,e=e.entranceSwitch;1==+t&&(i.setState({showPartyIcon:!!(void 0===e?0:e)}),i.sortToolbarActivities())}),this.partyEntranceService.init(),this.partyEntranceService.checkPartyEntry()},ft.prototype.initMusicxuetuEntrance=function(i){var n=this;this.commonSwitchService.getInteractiveEntrySwitch().subscribe(function(e){var t=e.music_xuetu||{},e=t.switch,t=t.userLevelLimit;n.setState({showMusicxuetuEntry:+(void 0===t?0:t)<=+i&&1==+(void 0===e?0:e)}),n.sortToolbarActivities()})},ft.prototype.initCookCompleteEntrance=function(){var t=this;Object(R.forkJoin)(this.giftDataServices.getEggxGiftConfig(),this.giftDataServices.getGiftData("LIST")).pipe(Object(A.filter)(function(e){var t=e[0].gid;return e[1].some(function(e){return parseInt(e.id,10)===parseInt(t,10)})})).subscribe(function(){var e=t.commonSwitchService.getConfig("cookComplete").subscribe(function(e){e.switch&&+e.kitchen_god.is_open&&t.isLogin&&(t.setState({isCookComplete:!0}),t.sortToolbarActivities())});t.unsubscribes.push(e)})},ft.prototype.initHaidiNianjinEntrance=function(){var t=this;this.haidiNianjinServices.getSubscribe().subscribe(function(e){e=(e||{}).alchemyWebSwitch;t.setState({isAlchemyWebSwitch:1==+e}),t.sortToolbarActivities()}),this.haidiNianjinServices.checkHaidiNianjinEntry()},ft.prototype.initCrystalEntrance=function(){var t=this,e=this.commonSwitchService.getConfig("crystalEntrance").subscribe(function(e){t.store.dispatch(B.actions.setCrystalFactoryConfig(e)),e.switch&&t.isLogin&&(t.setState({isShowCrystal:!0}),t.sortToolbarActivities())});this.unsubscribes.push(e)},ft.prototype.initRedPacketEntrance=function(){var t=this,e=this.commonSwitchService.getConfig("springRedPacket").subscribe(function(e){e.switch&&e.isOpen&&(t.setState({isRedPacket:!0}),t.sortToolbarActivities())});this.unsubscribes.push(e)},ft.prototype.configRequest=function(e){var t=e.url,e=e.callbackName,t="//webconf.douyucdn.cn/"+t;return Object(Ue.default)({url:t,type:"jsonp",callbackName:e})},ft.prototype.componentWillReceiveProps=function(e){!this.props.loaded&&e.loaded&&this.registerToolbarActivity(),this.props.loaded&&e.loaded&&this.sortToolbarActivities(e)},ft.prototype.registerToolbarActivity=function(){De.default.toolbarActivityAdd("room_level",X.default),De.default.toolbarActivityAdd("anchor_quiz",U.default),De.default.toolbarActivityAdd("jifen",W.default),De.default.toolbarActivityAdd("douyugoods",J.default),De.default.toolbarActivityAdd("lolCooperationnew",Y.default),De.default.toolbarActivityAdd("family",H.default),De.default.toolbarActivityAdd("projectLiveReward",V.default),De.default.toolbarActivityAdd("lolRecordPanel",$.default),De.default.toolbarActivityAdd("danmucaidan",K.default),De.default.toolbarActivityAdd("pubgpcl",q.default),De.default.toolbarActivityAdd("2020KPLSS",Z.default),De.default.toolbarActivityAdd("lplview",Q.default),De.default.toolbarActivityAdd("vpDataPanel",ee.default),De.default.toolbarActivityAdd("LPLmatchinfo",he.default),De.default.toolbarActivityAdd("fpsPromotion",te.default),De.default.toolbarActivityAdd("superWarShip",ie.default),De.default.toolbarActivityAdd("HPJYsss",ne.default),De.default.toolbarActivityAdd("wzryRankAct",pe.default),De.default.toolbarActivityAdd("propRedEnvelope",de.default),De.default.toolbarActivityAdd("TeamfightTactics",ve.default),De.default.toolbarActivityAdd("KplReward",_e.default),De.default.toolbarActivityAdd("HPJYRealTimeData",ge.default),De.default.toolbarActivityAdd("GiftPK",Te.default),De.default.toolbarActivityAdd("CsgoPanel",Pe.default),De.default.toolbarActivityAdd("Game_mall",Je.default),De.default.toolbarActivityAdd("VPGame",Ye.default),this.isLogin=k.a.check(),this.isLogin&&(De.default.toolbarActivityAdd("wzrymua",He.default),De.default.toolbarActivityAdd("DotaAccompany",Ve.default)),De.default.toolbarActivityAdd("personBox",me.default),De.default.toolbarActivityAdd("wzryRealTimeRecord",Ze.default),De.default.toolbarActivityAdd("webGamePromote",Xe.default)},ft.prototype.sortToolbarActivities=function(e){var r=this,t=e||this.props,i=t.unfold,n=t.fold,e=t.showWebStream,a=i.slice(0).concat(n.slice(0)),o=Le.INIT_ACTIVITIES_WEIGHT,i=a.map(function(i){var n=i;return n.isShow=n.enable||""===n.activityFlag,n.position=n.position||Le.POSITION_LEFT,n.weight=i.weight||ct[i.activityFlag]||o,n.render=function(e){r.setPoint(e);var t=st[i.activityFlag]||F.default;return S.a.createElement(t,{data:n,key:e.id,__source:{fileName:tt,lineNumber:729},__self:r})},--o,Object(j.of)({value:n})});i.push(Object(j.of)({value:{id:"WebStream",weight:1010,position:Le.POSITION_LEFT,isShow:e,render:function(e){return S.a.createElement("div",{className:"PlayerToolbar-Task",key:e.id,__source:{fileName:tt,lineNumber:752},__self:r},S.a.createElement(Qe.default,{__source:{fileName:tt,lineNumber:753},__self:r}))}}})),i.push(Object(j.of)({value:{id:"TaskPanel",weight:102,position:Le.POSITION_LEFT,isShow:!0,render:function(e){return S.a.createElement("div",{className:"PlayerToolbar-Task",key:e.id,__source:{fileName:tt,lineNumber:764},__self:r},S.a.createElement(lt,{name:"TaskPanel",belongTo:"ToolbarApp",__source:{fileName:tt,lineNumber:765},__self:r}))}}}));n=t.entranceSwitch;i.push(Object(j.of)({value:{id:"FishpondTreasure",weight:101,position:Le.POSITION_LEFT,isShow:!(!n&&this.isLogin),render:function(e){return S.a.createElement("div",{className:"PlayerToolbar-FishpondTreasure",key:e.id,__source:{fileName:tt,lineNumber:778},__self:r},S.a.createElement(lt,{name:"FishpondTreasure",belongTo:"ToolbarApp",__source:{fileName:tt,lineNumber:779},__self:r}))}}}));var e=this.state,l=e.isShowEnter,c=e.isPaladinWeek,s=e.isActPay,u=t.isShowGiftAct;i.push(Object(j.of)({value:{id:"GiftActEnter",weight:103,position:Le.POSITION_RIGHT,isShow:u&&(s||c||l),render:function(e){return s&&u?S.a.createElement(se.default,{key:e.id+"_ActDayPay",__source:{fileName:tt,lineNumber:824},__self:r}):c&&u?S.a.createElement(ue.default,{key:e.id+"_PaladinWeek",__source:{fileName:tt,lineNumber:826},__self:r}):l&&u?S.a.createElement(fe.default,{key:e.id+"_FirstRecharge",__source:{fileName:tt,lineNumber:828},__self:r}):null}}}));n=this.props.fishballSwitch;i.push(Object(j.of)({value:{id:"FishBallTreasure",weight:105.4,position:Le.POSITION_RIGHT,isShow:!!n&&!this.isAnchor,render:function(e){return S.a.createElement($e.default,{key:e.id,__source:{fileName:tt,lineNumber:845},__self:r})}}}));e=this.state.showRomatic;i.push(Object(j.of)({value:{id:"RomanticDate",weight:106.5,position:Le.POSITION_RIGHT,isShow:!this.isAnchor&&e,render:function(e){return S.a.createElement(ae.default,{showTip:!0,key:e.id,__source:{fileName:tt,lineNumber:857},__self:r})}}}));n=t.isBattleShipShow;i.push(Object(j.of)({value:{id:"BattleShipEnter",weight:105,position:Le.POSITION_RIGHT,isShow:n,render:function(e){return S.a.createElement(ce.default,{key:e.id,__source:{fileName:tt,lineNumber:870},__self:r})}}}));e=t.isCenterConfigOpen,n=t.lotteryStatus;i.push(Object(j.of)({value:{id:"LotteryDrawEnter",weight:107,position:Le.POSITION_RIGHT,isShow:e||n&&!this.isAnchor,render:function(e){return S.a.createElement(le.default,{key:e.id,__source:{fileName:tt,lineNumber:894},__self:r})}}}));n=t.isPrivilegeGiftShow;i.push(Object(j.of)({value:{id:"PrivilegedGiftEnter",weight:90,position:Le.POSITION_RIGHT,isShow:!this.isAnchor&&n,render:function(e){return S.a.createElement(oe.default,{key:e.id,__source:{fileName:tt,lineNumber:907},__self:r})}}}));n=t.isPlayFishBallShow,t=t.isUserLimit;i.push(Object(j.of)({value:{id:"PlayFishBallEnter",weight:103.4,position:Le.POSITION_RIGHT,isShow:n&&!t,render:function(e){return S.a.createElement(be.default,{key:e.id,__source:{fileName:tt,lineNumber:920},__self:r})}}}));var n=this.state,t=n.isShowHappyPlay,f=n.isShowHappyPlayTips,p=n.isShowHappyPlayNewIcon,m=n.newGuideText,d=n.tipsVersion;i.push(Object(j.of)({value:{id:"HappyPlay",weight:105.5,position:Le.POSITION_RIGHT,isShow:!this.isAnchor&&t,render:function(e){return S.a.createElement(ye.default,{key:e.id,isShowHappyPlayTips:f,isShowHappyPlayNewIcon:p,newGuideText:m,tipsVersion:d,__source:{fileName:tt,lineNumber:952},__self:r})}}}));t=this.state.isShowWishPond;t&&i.push(Object(j.of)({value:{id:"WishPond",weight:103.6,position:Le.POSITION_RIGHT,isShow:t,render:function(e){return S.a.createElement(Ne.default,{key:e.id,__source:{fileName:tt,lineNumber:974},__self:r})}}})),this.addCrystalEntrance(i),this.addActCenterEntrance(i),this.addPartyEntrance(i),this.isAnchor||this.addMusicxuetuEntrance(i),this.addCookCompleteEntrance(i),this.addHaidiNianjinEntrance(i),this.addRedPacketEntrance(i);t=new D.ActivityValve;t.connect(i),t.getTwistObservable().subscribe(function(e){var t=e.filter(function(e){return e}),i=t.map(function(e){return e.id}),e=a.filter(function(e){return e&&-1===i.indexOf(e.id)});r.setState({renderActivities:t,hideActivities:e})})},ft.prototype.addActCenterEntrance=function(e){var t=this,i=this.state,n=i.showActCenterPK,i=i.isYuleCate;e.push(Object(j.of)({value:{id:"ActCenterPK",weight:i?1e3:100,position:Le.POSITION_LEFT,isShow:n,render:function(e){return S.a.createElement(we.default,{key:e.id,__source:{fileName:tt,lineNumber:1029},__self:t})}}}))},ft.prototype.addPartyEntrance=function(e){var t=this,i=this.state.showPartyIcon;e.push(Object(j.of)({value:{id:"PartyEntranceID",weight:99,position:Le.POSITION_LEFT,isShow:i,render:function(e){return S.a.createElement(Oe.default,{isAnchor:t.isAnchor,key:e.id,__source:{fileName:tt,lineNumber:1046},__self:t})}}}))},ft.prototype.addMusicxuetuEntrance=function(e){var t=this,i=this.state.showMusicxuetuEntry;e.push(Object(j.of)({value:{id:"showMusicxuetuEntry",weight:100.5,position:Le.POSITION_LEFT,isShow:i,render:function(e){return S.a.createElement(Se.default,{key:e.id,__source:{fileName:tt,lineNumber:1065},__self:t})}}}))},ft.prototype.addCookCompleteEntrance=function(e){var t=this,i=this.state.isCookComplete;e.push(Object(j.of)({value:{id:"CookComplete",weight:105.6,position:Le.POSITION_RIGHT,isShow:i,render:function(e){return S.a.createElement(Ce.default,{key:e.id,__source:{fileName:tt,lineNumber:1082},__self:t})}}}))},ft.prototype.addHaidiNianjinEntrance=function(e){var t=this,i=this.state.isAlchemyWebSwitch;e.push(Object(j.of)({value:{id:"HaidiNianjin",weight:107.5,position:Le.POSITION_RIGHT,isShow:i,render:function(e){return S.a.createElement(je.default,{key:e.id,__source:{fileName:tt,lineNumber:1097},__self:t})}}}))},ft.prototype.addRedPacketEntrance=function(e){var t=this,i=this.state.isRedPacket;e.push(Object(j.of)({value:{id:"RedPacket",weight:105.3,position:Le.POSITION_RIGHT,isShow:i,render:function(e){return S.a.createElement(qe.default,{key:e.id,__source:{fileName:tt,lineNumber:1111},__self:t})}}}))},ft.prototype.addCrystalEntrance=function(e){var t=this,i=this.state.isShowCrystal;e.push(Object(j.of)({value:{id:"CrystalEntry",weight:105.2,position:Le.POSITION_RIGHT,isShow:i,render:function(e){return S.a.createElement(Ee.default,{openCrystal:t.openCrystal,key:e.id,__source:{fileName:tt,lineNumber:1128},__self:t})}}}))},ft.prototype.setPoint=function(e){e.isShow&&1!=+e.dysshow&&(Object.assign(e,{dysshow:1}),this.giftService.giftDYSub("show_giftbar_activity",{active_id:e.id}))},ft.prototype.render=function(){var e=this.state,t=e.renderActivities,e=e.hideActivities;return S.a.createElement(S.a.Fragment,{__source:{fileName:tt,lineNumber:1160},__self:this},S.a.createElement("div",{style:{display:"none"},__source:{fileName:tt,lineNumber:1161},__self:this},e?e.map(function(e,t,i){return e.render(e,t,i)}):null),S.a.createElement(ke.default,{activities:t,__source:{fileName:tt,lineNumber:1165},__self:this}))},n=rt((r=ft).prototype,"store",[Me],{enumerable:!0,initializer:null}),o=rt(r.prototype,"getSwitchServices",[T],{enumerable:!0,initializer:null}),l=rt(r.prototype,"common",[We],{enumerable:!0,initializer:null}),c=rt(r.prototype,"localStorage",[E],{enumerable:!0,initializer:null}),s=rt(r.prototype,"acj",[i],{enumerable:!0,initializer:null}),u=rt(r.prototype,"happyDrawEnterServices",[ze],{enumerable:!0,initializer:null}),f=rt(r.prototype,"activityService",[Ie],{enumerable:!0,initializer:null}),p=rt(r.prototype,"commonToolbarService",[re],{enumerable:!0,initializer:null}),m=rt(r.prototype,"romanticDateServices",[Re],{enumerable:!0,initializer:null}),d=rt(r.prototype,"privilegeGiftEnterServices",[Ge],{enumerable:!0,initializer:null}),b=rt(r.prototype,"giftService",[Be],{enumerable:!0,initializer:null}),h=rt(r.prototype,"commonSwitchService",[Fe],{enumerable:!0,initializer:null}),v=rt(r.prototype,"actCenterPKservice",[Ae],{enumerable:!0,initializer:null}),_=rt(r.prototype,"partyEntranceService",[xe],{enumerable:!0,initializer:null}),g=rt(r.prototype,"giftDataServices",[z],{enumerable:!0,initializer:null}),y=rt(r.prototype,"crystalFactoryServices",[L],{enumerable:!0,initializer:null}),N=rt(r.prototype,"haidiNianjinServices",[M],{enumerable:!0,initializer:null}),w=rt(r.prototype,"fishballTreasureService",[Ke],{enumerable:!0,initializer:null}),O=rt(r.prototype,"webStreamService",[C],{enumerable:!0,initializer:null}),r);function ft(){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ft);var e,a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,at.call(this));return it(a,"store",n,a),it(a,"getSwitchServices",o,a),it(a,"common",l,a),it(a,"localStorage",c,a),it(a,"acj",s,a),it(a,"happyDrawEnterServices",u,a),it(a,"activityService",f,a),it(a,"commonToolbarService",p,a),it(a,"romanticDateServices",m,a),it(a,"privilegeGiftEnterServices",d,a),it(a,"giftService",b,a),it(a,"commonSwitchService",h,a),it(a,"actCenterPKservice",v,a),it(a,"partyEntranceService",_,a),it(a,"giftDataServices",g,a),it(a,"crystalFactoryServices",y,a),it(a,"haidiNianjinServices",N,a),it(a,"fishballTreasureService",w,a),it(a,"webStreamService",O,a),a.unsubscribes=[],a.checkWebStreamStatus=(e=regeneratorRuntime.mark(function e(){var t,i,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.localStorage.get("WEBSTREAM_MARK")||0,i=P.DataCenter.global.get("USER_INFO.uid"),n=P.DataCenter.global.get("$ROOM.owner_uid"),a.acj.get(x.ROOM_TYPE.ROOM_GOTO_WEB_OPEN).subscribe(function(){a.isLogin?a.webStreamService.checkBrowserCondition({callBack:function(){a.webStreamService.getUserInfo()}}):k.a.show()}),ot.subscribe("rss",function(e){var t=e.ss,e=1===parseInt(t,10)?1:2,t=window.localStorage.getItem("PASSWORD_TIME_KEY")||0;1e4<Date.now()-t&&2==e&&a.webStreamService.handelEntrance({status:!1})}),t&&+i==+n)return e.next=8,Object(G.default)("WEB_STREAM_STORAGE",1e3);e.next=11;break;case 8:e.sent?a.webStreamService.startWebStream():ut.error("当前有其他浏览器窗口正在直播中"),a.localStorage.remove("WEBSTREAM_MARK");case 11:setTimeout(function(){a.webStreamService.checkEntranceCondition()},100);case 12:case"end":return e.stop()}},e,r)}),function(){var l=e.apply(this,arguments);return new Promise(function(a,o){return function t(e,i){try{var n=l[e](i),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});a(r)}("next")})}),a.isShowEnter=function(e){P.DataCenter.global.get("USER_INFO.uid")?a.setState({isVertical:e}):a.setState({isShowEnter:!0,isVertical:e})},a.openCrystal=function(e){a.crystalFactoryServices.toggleCrystalFactoryPanel({show:1,source:1,convert:e?1:0,guide:0})},a.state={isPaladinWeek:!1,isShowEnter:!1,isActPay:!1,showRomatic:!1,showActCenterPK:!1,showPartyIcon:!1,partyStyleSwitch:!1,showMusicxuetuEntry:!1,isCookComplete:!1,isAlchemyWebSwitch:!1,isRedPacket:!1},a.isAnchor=a.happyDrawEnterServices.isAnchor(),a}t.default=Object(a.connect)(function(e){var t=e.activityData,i=e.giftData,n=e.battleShipData,r=e.PrivilegedGiftData,a=e.HappyLotteryData,o=(a=void 0===a?{}:a).lotteryStatus,l=a.isCenterConfigOpen,c=e.playFishBallData,s=void 0===c?{}:c,u=e.cookCompleteEnterData,a=e.fishballTreasureReducers,c=e.crystalFactoryData,c=(c=void 0===c?{}:c).config,e=e.webStreamData,e=(e=void 0===e?{}:e).isEntranceShow;return et({isShowGiftAct:i.isShowGiftAct},t,{isCenterConfigOpen:void 0!==l&&l,lotteryStatus:o,isBattleShipShow:(void 0===n?{}:n).isEnterShow,isPrivilegeGiftShow:(void 0===r?{}:r).showEnter,isPlayFishBallShow:s.isOpen,isUserLimit:s.isUserLimit,isCookCompleteShow:(void 0===u?{}:u).isOpen,fishballSwitch:(void 0===a?{}:a).isOpen,crystalSwitch:(void 0===c?{}:c).switch,showWebStream:void 0!==e&&e})})(r)},a55f83:function(e,t,i){"use strict";var n,r,a,o,l=i("1a22b7"),c=i.n(l),s=i("7ca7dc"),u=i("97a1f0"),f=i("eb3e22"),p=(i("280222"),i("4317b8")),m=i("5b9730"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},b="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/YzMakeFriendsGift/YzMakeFriendsGift.js";function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function _(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var g,l=s.default.Service,s=s.default.Store,y=i("2c8638"),i=(i=Object(u.ErrorHandler)(),u=l(f.DataCenter.common),m=l(m.default),f=l(f.DataCenter.localStorage),s=s(),i((v(N,g=c.a.Component),N.prototype.componentDidMount=function(){var u=this;this.common.get("$DATA").subscribe(function(e){u.$ROOM=e.get("room"),u.common.get("YZMF0108").subscribe(function(e){var t=e.emceeInfo,i=void 0===t?{}:t,n=e.femaleGuestList,r=void 0===n?[]:n,a=e.maleGuestList,o=void 0===a?[]:a,l=e.instId,c=u.state,s=c.data,t=c.selectedData,n=(void 0===s?{}:s).instId,a=(void 0===t?{}:t).uid,c=u.$ROOM||{},s=c.avatar,t=c.owner_name,c=c.owner_uid,s=(void 0===s?{}:s).small;+n&&+n==+l&&u.IsSelectedDataInNewData(e,a)?u.setState({data:e}):(c=u.getChooseData({emceeInfo:i,femaleGuestList:r,maleGuestList:o,room:{avatar:s,nn:t,uid:c}}),u.setState({selectedData:c,data:e}),Object.keys(c).length&&l&&u.giftServices.sendYzMakeFriendData({uid:c.uid,instId:l,hostUid:i.uid}))})})},N.prototype.setAvatarUrl=function(e){return"//apic.douyucdn.cn/upload/"+e+"_middle.jpg"},N.prototype.toggleSelect=function(e){this.setState({isSelectCur:e})},N.prototype.IsSelectedDataInNewData=function(e,t){var i=e.emceeInfo,n=e.femaleGuestList,n=void 0===n?[]:n,e=e.maleGuestList,e=void 0===e?[]:e;return+(void 0===i?{}:i).uid==+t||n.some(function(){return+(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).uid==+t})||e.some(function(){return+(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).uid==+t})},N.prototype.getChooseData=function(e){var t=e.emceeInfo,i=e.femaleGuestList,n=e.maleGuestList,r=e.room||{},e={};return i.length?Object.assign({},i[0],{status:i[0].seat+"麦"}):n.length?Object.assign({},n[0],{status:n[0].seat+"麦"}):Object.keys(r).length?Object.assign({},r,{status:"主播"}):Object.keys(t).length&&+t.uid?Object.assign({},t,{status:"主持"}):e},N.prototype.renderImgData=function(e){var t="";return t=e.avatar?"主播"!==e.status?this.setAvatarUrl(e.avatar):e.avatar:t},N.prototype.clickOption=function(e){var t=this.state,i=t.data,n=void 0===i?{}:i,i=t.selectedData,t=n.emceeInfo,t=void 0===t?{}:t,n=n.instId;+(void 0===i?{}:i).uid!=+e.uid&&this.giftServices.clearBatterTime(),this.setState({selectedData:e}),Object.keys(e).length&&n&&this.giftServices.sendYzMakeFriendData({uid:e.uid,instId:n,hostUid:t.uid})},N.prototype.renderGuestList=function(e,i){var n=this;return e.length?e.map(function(e,t){return c.a.createElement("div",{className:"YzMakeFriendsGift-option "+(+i.seat==+e.seat?"is-active":""),key:t+1,onClick:function(){n.clickOption(d({},e,{status:+e.seat+"麦"}))},__source:{fileName:b,lineNumber:190},__self:n},c.a.createElement("span",{className:"YzMakeFriendsGift-pic",__source:{fileName:b,lineNumber:194},__self:n},c.a.createElement("img",{src:e.avatar?n.setAvatarUrl(e.avatar):y,__source:{fileName:b,lineNumber:195},__self:n})),c.a.createElement("span",{className:"YzMakeFriendsGift-board YzMakeFriendsGift-boardGirl",__source:{fileName:b,lineNumber:197},__self:n},+e.seat,"麦"),c.a.createElement("span",{className:"YzMakeFriendsGift-name",title:e.nn,__source:{fileName:b,lineNumber:198},__self:n},e.nn||"虚位以待"))}):null},N.prototype.renderHost=function(e,t){var i=this;return c.a.createElement(c.a.Fragment,{__source:{fileName:b,lineNumber:206},__self:this},Object.keys(e).length&&+e.uid?c.a.createElement("div",{className:"YzMakeFriendsGift-option YzMakeFriendsGift-Hostman "+("主持"===t.status?"is-active":""),onClick:function(){i.clickOption(d({},e,{status:"主持"}))},__source:{fileName:b,lineNumber:209},__self:this},c.a.createElement("span",{className:"YzMakeFriendsGift-pic",__source:{fileName:b,lineNumber:214},__self:this},c.a.createElement("img",{src:e.avatar?this.setAvatarUrl(e.avatar):y,__source:{fileName:b,lineNumber:215},__self:this})),c.a.createElement("span",{className:"YzMakeFriendsGift-board YzMakeFriendsGift-boardMC",__source:{fileName:b,lineNumber:217},__self:this},"主持"),c.a.createElement("span",{className:"YzMakeFriendsGift-name",title:e.nn,__source:{fileName:b,lineNumber:218},__self:this},e.nn||"虚位以待")):"")},N.prototype.renderAnchor=function(e){var t=this,i=this.$ROOM||{},n=i.avatar,r=void 0===n?{}:n;return c.a.createElement("div",{className:"YzMakeFriendsGift-option "+("主播"===e.status?"is-active":""),onClick:function(){t.clickOption({avatar:r.small,nn:i.owner_name,uid:i.owner_uid,status:"主播"})},__source:{fileName:b,lineNumber:232},__self:this},c.a.createElement("span",{className:"YzMakeFriendsGift-pic",__source:{fileName:b,lineNumber:236},__self:this},c.a.createElement("img",{src:r.small||y,__source:{fileName:b,lineNumber:236},__self:this})),c.a.createElement("span",{className:"YzMakeFriendsGift-board",__source:{fileName:b,lineNumber:237},__self:this},"主播"),c.a.createElement("span",{className:"YzMakeFriendsGift-name",title:i.owner_name,__source:{fileName:b,lineNumber:238},__self:this},i.owner_name))},N.prototype.renderChoosed=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=this.renderImgData(t),n=(this.store.getState().yzMakeFriendsData||{}).configs,n=(n=void 0===n?{}:n).send_tips;return c.a.createElement("div",{className:"YzMakeFriendsGift-choosed",__source:{fileName:b,lineNumber:256},__self:this},c.a.createElement("div",{className:"YzMakeFriendsGift-question",__source:{fileName:b,lineNumber:257},__self:this},c.a.createElement("div",{className:"YzMakeFriendsGift-tips",__source:{fileName:b,lineNumber:258},__self:this},(void 0===n?"":n)||"赠送礼物增加嘉宾心动值（1贡献值=1心动值）礼物收益结算给主播")),c.a.createElement("span",{className:"YzMakeFriendsGift-txt",__source:{fileName:b,lineNumber:260},__self:this},"送给"),c.a.createElement("span",{className:"YzMakeFriendsGift-pic",__source:{fileName:b,lineNumber:261},__self:this},c.a.createElement("img",{src:i||y,__source:{fileName:b,lineNumber:262},__self:this})),c.a.createElement("span",{className:"YzMakeFriendsGift-board YzMakeFriendsGift-boardMC",__source:{fileName:b,lineNumber:264},__self:this},t.status),c.a.createElement("span",{className:"YzMakeFriendsGift-selectArea",onMouseOver:function(){return e.toggleSelect(1)},onMouseOut:function(){return e.toggleSelect(0)},__source:{fileName:b,lineNumber:265},__self:this},c.a.createElement("span",{className:"YzMakeFriendsGift-name",title:t.nn,__source:{fileName:b,lineNumber:269},__self:this},t.nn||"虚位以待"),c.a.createElement("span",{className:"YzMakeFriendsGift-more",__source:{fileName:b,lineNumber:270},__self:this})))},N.prototype.render=function(){var e=this,t=this.state,i=t.data,n=void 0===i?{}:i,r=t.selectedData,a=void 0===r?{}:r,o=n.emceeInfo,l=void 0===o?{}:o,i=n.femaleGuestList,t=void 0===i?[]:i,r=n.maleGuestList,o=void 0===r?[]:r,i=n.instId,r=(this.store.getState().yzMakeFriendsData||{}).isGuideTipsShow,n=void 0===r?0:r,r=this.store.getState().giftData.giftInfoPanelVisible;return""===i?null:c.a.createElement("div",{className:"YzMakeFriendsGift "+(+i?"is-show":""),__source:{fileName:b,lineNumber:294},__self:this},c.a.createElement("div",{className:"YzMakeFriendsGift-info "+(this.state.isSelectCur?"is-active":""),__source:{fileName:b,lineNumber:295},__self:this},n&&r?c.a.createElement(p.default,{liveType:"dating",__source:{fileName:b,lineNumber:298},__self:this}):null,c.a.createElement("div",{className:"YzMakeFriendsGift-select",onMouseOver:function(){return e.toggleSelect(1)},onMouseOut:function(){return e.toggleSelect(0)},__source:{fileName:b,lineNumber:301},__self:this},this.renderGuestList(t,a),this.renderGuestList(o,a),this.renderHost(l,a),this.renderAnchor(a)),this.renderChoosed(a)))},n=_((i=N).prototype,"common",[u],{enumerable:!0,initializer:null}),r=_(i.prototype,"giftServices",[m],{enumerable:!0,initializer:null}),a=_(i.prototype,"localStorage",[f],{enumerable:!0,initializer:null}),o=_(i.prototype,"store",[s],{enumerable:!0,initializer:null}),i=i))||i);function N(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,g.call(this,e));return h(e,"common",n,e),h(e,"giftServices",r,e),h(e,"localStorage",a,e),h(e,"store",o,e),e.state={isSelectCur:!1,data:{},selectedData:{}},e}t.default=i},a58983:function(e,t,i){e.exports=i("5f575e")("3358e")},a6da2f:function(e,t,i){},a8024b:function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=(i("4dce48"),"/shark/live/src/pages/roomPage/toolbarModule/components/ToolbarBaseIcon/index.js");function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,i=(l(s,c=r.a.Component),s.prototype.render=function(){var e=this.props,t=e.baseUrl,i=e.des,n=e.leftColor,e=e.rightColor;return r.a.createElement("div",{className:"toolbarBaseIcon",onClick:this.handleClick,__source:{fileName:a,lineNumber:18},__self:this},r.a.createElement("img",{className:"toolbarBaseIconicon",src:t,__source:{fileName:a,lineNumber:19},__self:this}),r.a.createElement("div",{className:"toolbarBaseIcontext",style:{background:"linear-gradient(to right, "+n+","+e+")"},__source:{fileName:a,lineNumber:20},__self:this},i))},s);function s(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=o(this,c.call.apply(c,[this].concat(n))),t.handleClick=function(){var e=t.props.onClick;"function"==typeof e&&e()},o(t,e)}t.default=i},a81903:function(e,t,i){"use strict";var a,n=i("1a22b7"),r=i.n(n),o=i("447d8e"),l=i("3b6ec9"),c=i.n(l),n=i("7ca7dc"),l=i("eb3e22"),s=(i("358df2"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/FudaiGift/FudaiGiftActPanel.js");function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var f,p,m,d,b,h,l=(n=(0,n.default.Service)(l.DataCenter.localStorage),u(v,h=r.a.Component),v.prototype.render=function(){var e=this,t=this.props.fdActPanelData,t=void 0===t?{}:t;return t.isShowFuDaiGiftAct&&!this.state.isClosePanel&&t.url?(this.localStorage.set("actFdOneDayShow",1,86400),c.a.createPortal(r.a.createElement("div",{className:"FuDaiActPanel",style:{backgroundImage:"url("+t.url+")"},__source:{fileName:s,lineNumber:38},__self:this},r.a.createElement("span",{className:"FuDaiActPanel-close",onClick:function(){e.setState({isClosePanel:!0})},__source:{fileName:s,lineNumber:43},__self:this}),r.a.createElement("div",{className:"FuDaiActPanel-warm",onClick:function(){e.setState({isChecked:!e.state.isChecked}),e.localStorage.set("actFdNotShow",!e.state.isChecked,1296e3)},__source:{fileName:s,lineNumber:50},__self:this},r.a.createElement("span",{className:"FuDaiActPanel-warmBtn "+(this.state.isChecked?"is-active":""),__source:{fileName:s,lineNumber:59},__self:this}),r.a.createElement("span",{className:"FuDaiActPanel-warmDesc",__source:{fileName:s,lineNumber:60},__self:this},"不再提示")),r.a.createElement("a",{className:"FuDaiActPanel-link",href:"https://www.douyu.com/cms/huo/201906/06/10569.shtml",target:"_blank",__source:{fileName:s,lineNumber:62},__self:this},"活动规则")),document.body)):null},f=(l=v).prototype,p="localStorage",n=[n],m={enumerable:!0,initializer:null},b={},Object.keys(m).forEach(function(e){b[e]=m[e]}),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=n.slice().reverse().reduce(function(e,t){return t(f,p,e)||e},b),d&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(d):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(f,p,b),b=null),a=b,l);function v(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var e,t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,h.call(this));return t="localStorage",n=e=r,(i=a)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),r.state={isClosePanel:!1,isChecked:!1},r}t.default=Object(o.connect)(function(e){return{fdActPanelData:e.giftData.fdActPanelData}})(l)},a86e33:function(e,t,i){"use strict";var n,r,a,o=i("1a22b7"),l=i.n(o),c=i("447d8e"),s=i("7ca7dc"),u=i("eb3e22"),f=i("0faf5b"),o=i("4ba520"),p=(i("38f35f"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),m="/shark/live/src/pages/roomPage/toolbarModule/components/PropRedEnvelope/index.js";function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var v,s=s.default.Service,_=["礼物红包","抢礼物","s开抢"],u=(o=s(o.default),f=s(f.default),s=s(u.DataCenter.localStorage),b(g,v=l.a.Component),g.prototype.componentDidMount=function(){this.propRedEnvelopeIconServices.init()},g.prototype.componentWillReceiveProps=function(e){var t=this,i=this.props,n=i.num,r=i.activityid,a=i.startType,o=i.endTime,l=e.num,c=e.activityid,s=e.startType,i=e.endTime;n===l&&r===c&&a===s&&o===i||(this.setInfo(e),clearInterval(this.timer),2===s&&(this.timer=setInterval(function(){t.setInfo(t.state)},1e3)))},g.prototype.setInfo=function(e){var t=e.num,i=e.startType,n=e.endTime-parseInt(new Date/1e3,10),r=_[0],n=0<n?n:0;if(0===t)r=_[0];else switch(+i){case 1:r=_[1];break;case 2:0<n?r=n+_[2]:(r=_[1],this.propRedEnvelopeIconServices.updateTxtStatus(1))}this.setState(p({},e,{num:t,statusTxt:r}))},g.prototype.componentWillUnmount=function(){clearInterval(this.timer)},g.prototype.render=function(){var e=this.props,t=e.isSwitchOpen,i=e.isShowTip,n=this.state,r=n.num,e=n.statusTxt,n=n.isStatusHideTip;return t?l.a.createElement("div",{className:"PropRedEnvelopeIcon",__source:{fileName:m,lineNumber:136},__self:this},l.a.createElement("div",{className:"PropRedEnvelopeIcon-cont",onClick:this.openPannel,__source:{fileName:m,lineNumber:137},__self:this},e,0<r?l.a.createElement("div",{className:"PropRedEnvelopeIcon-bubble",__source:{fileName:m,lineNumber:140},__self:this},r):null),!n&&i?l.a.createElement("div",{className:"PropRedEnvelopeIcon-tip",__source:{fileName:m,lineNumber:145},__self:this},"礼物红包来袭，发红包，攒人气，海量礼物等你来抢~",l.a.createElement("span",{className:"PropRedEnvelopeIcon-tipClose",onClick:this.closeTip,__source:{fileName:m,lineNumber:147},__self:this})):null):null},n=h((u=g).prototype,"propRedEnvelopeIconServices",[o],{enumerable:!0,initializer:null}),r=h(u.prototype,"giftRedEnvelopServices",[f],{enumerable:!0,initializer:null}),a=h(u.prototype,"localStorage",[s],{enumerable:!0,initializer:null}),u);function g(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this,e));return d(t,"propRedEnvelopeIconServices",n,t),d(t,"giftRedEnvelopServices",r,t),d(t,"localStorage",a,t),t.tipTimer=null,t.openPannel=function(){var e=t.state.activityid;e?t.giftRedEnvelopServices.showPanelByParame(e,t.props.info):t.giftRedEnvelopServices.showPanelByParame()},t.closeTip=function(){t.propRedEnvelopeIconServices.stopTipTimer(),t.setState({isStatusHideTip:!0})},t.state={isSwitchOpen:!1,isShowTip:!1,seconds:0,statusTxt:_[0],isStatusHideTip:!1},t.timer=null,t}t.default=Object(c.connect)(function(e){return e.propRedEnvelopeIcon})(u)},a87038:function(e,t,i){"use strict";i=i("60e43e");t.default=i.default},a8d30d:function(e,t,i){"use strict";var r,a,o,l,c,s,C=i("8126b5"),n=i("1a22b7"),k=i.n(n),u=i("3b6ec9"),f=i("292183"),p=i.n(f),m=i("97a1f0"),d=i("7ca7dc"),I=i("f2b8b7"),b=i("447d8e"),h=i("eb3e22"),v=i("c26963"),_=i("db47a7"),g=i("4b2b18"),n=i("0963d0"),z=i("723e92"),R=i("a19636"),A=i("e992c7"),y=i("70b071"),N=i("22ff5e"),f=i("df2a7f"),x=i.n(f),w=i("254515"),O=i("44b827"),G=(i("e2807d"),"/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/Autograph.js");function S(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function T(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var L,f=d.default.Service,M={0:{class:"is-default"},1:{class:"is-active",text:"可开启宝箱"},2:{class:"is-opened",text:"今日已领取宝箱奖励"}},m=(i=f(h.DataCenter.common),d=f(h.DataCenter.global),g=f(g.default),n=f(n.default),f=f(h.DataCenter.localStorage),h=Object(m.Inject)("live.fishpondModule.FishpondHegemonyServices"),j(B,L=k.a.Component),B.prototype.componentDidMount=function(){var t=this;this.roomLevelDetailServices.getRoomLevelInfo(),this.roomLevelDetailServices.getActiveRank(),this.common.get("$DATA").subscribe(function(e){e="https://www.douyu.com/room/share/"+e.room.room_id||!1;t.setState({url:e.replace(/\?[\w\W]+/,"")})}),Object(_.dysub2)({action_code:"110100215",event_id:3,type:1}),this.localStorage.get("roomForTreasure")||(this.setState({showGray:!0}),this.localStorage.set("roomForTreasure",1))},B.prototype.componentWillReceiveProps=function(e){var t=this.props,i=t.treasure,t=t.signInInfo,e=e.signInInfo;e.signed_exp_add!==t.signed_exp_add&&2!==i.status&&(i.achieved+e.signed_exp_add<=i.cppAchieved?this.roomLevelDetailServices.setReducerData({treasure:{achieved:i.cppAchieved}}):this.roomLevelDetailServices.setReducerData({treasure:{achieved:i.achieved+e.signed_exp_add}}))},B.prototype.render=function(){var e=this,t=this.state,i=t.page,n=t.showGray,r=this.props.close,a="activeRank"===i||"help"===i?1:0,t=a?"is-noTitle":"is-mainTitle";return Object(u.createPortal)(k.a.createElement("div",{className:"Autograph "+t,__source:{fileName:G,lineNumber:608},__self:this},n?k.a.createElement("div",{className:"Autograph-grayTipMask",__source:{fileName:G,lineNumber:611},__self:this},k.a.createElement("div",{className:"Autograph-grayTip",onClick:this.closeGray,__source:{fileName:G,lineNumber:612},__self:this})):null,k.a.createElement("div",{className:"Autograph-bgColor "+(a?"is-list":"is-main"),__source:{fileName:G,lineNumber:617},__self:this}),a?k.a.createElement("div",{className:"Autograph-activeRankBack",onClick:function(){return e.changePage("autograph")},__source:{fileName:G,lineNumber:621},__self:this}):null,a?k.a.createElement("div",{className:"Autograph-defaultTitle "+("activeRank"===i?"is-activeRank":""),__source:{fileName:G,lineNumber:627},__self:this},k.a.createElement("div",{className:"Autograph-defaultTitle--title",__source:{fileName:G,lineNumber:628},__self:this},"activeRank"===i?"本周活跃排名":"说明"),k.a.createElement("div",{className:"Autograph-defaultTitle--divider",__source:{fileName:G,lineNumber:629},__self:this})):null,k.a.createElement("a",{className:"Autograph-close",onClick:r,__source:{fileName:G,lineNumber:634},__self:this}),k.a.createElement("div",{className:"Autograph-box",__source:{fileName:G,lineNumber:635},__self:this},this.getPage())),document.body)},r=T((m=B).prototype,"common",[i],{enumerable:!0,initializer:null}),a=T(m.prototype,"global",[d],{enumerable:!0,initializer:null}),o=T(m.prototype,"roomLevelDetailServices",[g],{enumerable:!0,initializer:null}),l=T(m.prototype,"speedRankServices",[n],{enumerable:!0,initializer:null}),c=T(m.prototype,"localStorage",[f],{enumerable:!0,initializer:null}),s=T(m.prototype,"fhServices",[h],{enumerable:!0,initializer:null}),m);function B(){var e,P,D=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,B);for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=P=E(this,L.call.apply(L,[this].concat(i))),S(P,"common",r,P),S(P,"global",a,P),S(P,"roomLevelDetailServices",o,P),S(P,"speedRankServices",l,P),S(P,"localStorage",c,P),S(P,"fhServices",s,P),P.state={page:"autograph",showGray:!1,qrCodeVisible:!1,url:""},P.uid=P.global.get("USER_INFO.uid"),P.getDiverComponent=function(e,i){var n=[];return e.forEach(function(e,t){e=e.done;0<t&&t<4&&n.push(Boolean(+e))}),n.length?n.map(function(e,t){return k.a.createElement("div",{key:i+"-"+t,className:"Autograph-tabDiver Autograph-tabDiver--"+(t+1)+(e?" is-achieve":""),__source:{fileName:G,lineNumber:129},__self:D})}):null},P.sign=function(){P.roomLevelDetailServices.setChecking(1),P.roomLevelDetailServices.sendRoomLevelSign(),Object(O.default)("sign")},P.jumpSignDetail=function(){P.changePage("calendar")},P.openSpeedRankListDialog=function(){Object(O.default)("signRank"),P.speedRankServices.setData({rankListDialogVisible:!0,userCache:!0})},P.goFishpond=function(){var e=P.props.close;Object(O.default)("feedShark"),P.common.push("openFishPanel"),e()},P.goFishpondHegemony=function(){var e=P.props,t=e.close,e=e.roomSiegeTask;Object(O.default)("goFh"),-1==+e.waitTime?P.fhServices.setData({visible:!0,from:0,playId:e.playId||0}).subscribe():+e.waitTime<-1&&P.common.push("openFishPanel"),t()},P.setQrCodeDialog=function(){P.setState({qrCodeVisible:0<arguments.length&&void 0!==arguments[0]&&arguments[0]})},P.inputBarrage=function(){var e=P.props.close,t=document.querySelector(".ChatSend-txt");t&&(t.focus(),Object(O.default)("goBarrage"),e())},P.tip=function(e){P.roomLevelDetailServices.tipMessage(e)},P.getWatchPercent=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return t<e?i:e/t*i},P.getFhLeftTime=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return 1===e?"已完成":0===e&&t<=172800&&0<t?k.a.createElement(w.default,{id:"Autograph-countDown",className:"Autograph-countDown",endTime:Math.floor(+new Date/1e3)+t,endString:"",endCallback:function(){return P.roomLevelDetailServices.getRoomLevelInfo()},__source:{fileName:G,lineNumber:231},__self:D}):0===e&&172800<t?"超过2天":"去完成"},P.getUserActiveRank=function(e,i){var n=0;return e.forEach(function(e,t){+e.uid==+i&&(n=t+1)}),0<n?n:"100+"},P.getFhButtonClass=function(){return 0===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)?0<(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)?"Autograph-fhCountDown":"Autograph-button is-goFinish":"Autograph-button is-finished"},P.goActiveRank=function(){Object(O.default)("activeRank"),P.changePage("activeRank")},P.openTreasure=function(){Object(O.default)("openTreasure"),P.roomLevelDetailServices.openTreasure()},P.openQrCodeDialog=function(){Object(O.default)("goApp"),P.setQrCodeDialog(!0)},P.getRoomInfoComponent=function(){var e=P.props,t=e.levelInfo,i=e.signInInfo,n=e.bulletScreenInfo,r=void 0===n?[]:n,a=e.feedInfos,o=void 0===a?[]:a,l=e.isShowTransition,c=e.watchTaskDetail,s=void 0===c?{}:c,u=e.roomSiegeTask,f=void 0===u?{}:u,p=e.treasure,m=void 0===p?{}:p,d=e.activeRankList,b=void 0===d?[]:d,h=P.state.url,v=t.current,_=void 0===v?0:v,g=t.exp_distance,y=void 0===g?100:g,N=t.upgrade_need_exp,w=void 0===N?0:N,O=t.exp,S=void 0===O?666:O,E=y-w<0?0:y-w,j=9<+_?parseInt(E/y*220,10)+10:parseInt(E/y*190,10)+10,T=i.done,n=i.last_days,a=i.exp_add,c=s.watchTime,u=void 0===c?5:c,p=s.clientWatchTime,e=void 0===p?5:p,d=s.clientWatchTask,v=void 0===d?[{duration:0,exp_add:0,done:0},{duration:0,exp_add:0,done:0}]:d,g=s.watchTask,N=void 0===g?[{duration:0,exp_add:0,done:0},{duration:0,exp_add:0,done:0}]:g,t=m.status,O=void 0===t?0:t,w=m.achieved,i=void 0===w?0:w,c=m.needExpAdd,p=void 0===c?100:c,d=f.exp_add,s=void 0===d?5:d,g=f.done,t=void 0===g?0:g,w=f.waitTime,m=void 0===w?86400:w,c=r[0],d=c.num,g=void 0===d?0:d,f=c.exp_add,w=void 0===f?0:f,r=c.done,d=void 0===r?0:r,f=o[0],c=f.point,r=void 0===c?0:c,o=f.exp_add,c=void 0===o?0:o,o=f.done,f=void 0===o?0:o,o=i/p;return k.a.createElement(k.a.Fragment,{__source:{fileName:G,lineNumber:356},__self:D},k.a.createElement("div",{className:"Autograph-level",__source:{fileName:G,lineNumber:363},__self:D},"我的房间等级",-1==+y?k.a.createElement(k.a.Fragment,{__source:{fileName:G,lineNumber:367},__self:D},k.a.createElement("span",{className:"Autograph-maxLv",__source:{fileName:G,lineNumber:368},__self:D},k.a.createElement(z.default,{level:_,isShowTransition:!1,__source:{fileName:G,lineNumber:368},__self:D})),k.a.createElement("span",{className:"Autograph-maxEx",__source:{fileName:G,lineNumber:369},__self:D},"活跃值",999999<S?"999999+":S),b.length?k.a.createElement("div",{className:"Autograph-rank",__source:{fileName:G,lineNumber:372},__self:D},"排名",k.a.createElement("span",{className:"Autograph-rank--num",onClick:P.goActiveRank,__source:{fileName:G,lineNumber:373},__self:D},P.getUserActiveRank(b,P.uid)," >")):null):k.a.createElement(k.a.Fragment,{__source:{fileName:G,lineNumber:382},__self:D},k.a.createElement("div",{className:"Autograph-experience "+(9<_?"is-iconActive":""),__source:{fileName:G,lineNumber:383},__self:D},k.a.createElement(R.default,{value:j,isShowTransition:l,__source:{fileName:G,lineNumber:384},__self:D}),k.a.createElement("div",{className:"Autograph-lastLevel",__source:{fileName:G,lineNumber:385},__self:D},k.a.createElement(z.default,{level:_,isShowTransition:l,__source:{fileName:G,lineNumber:386},__self:D})),k.a.createElement("span",{__source:{fileName:G,lineNumber:388},__self:D},E,"/",y),k.a.createElement("div",{className:"Autograph-nextLevel",__source:{fileName:G,lineNumber:389},__self:D},k.a.createElement(z.default,{level:_+1,isShowTransition:l,pos:"right",__source:{fileName:G,lineNumber:390},__self:D}))),b.length?k.a.createElement("div",{className:"Autograph-rank",__source:{fileName:G,lineNumber:396},__self:D},"排名",k.a.createElement("span",{className:"Autograph-rank--num",onClick:P.goActiveRank,__source:{fileName:G,lineNumber:397},__self:D},P.getUserActiveRank(b,P.uid)," >")):null)),k.a.createElement("div",{className:"Autograph-taskList",__source:{fileName:G,lineNumber:407},__self:D},k.a.createElement(I.Scrollbars,{__source:{fileName:G,lineNumber:408},__self:D},k.a.createElement("div",{className:"Autograph-content",__source:{fileName:G,lineNumber:409},__self:D},k.a.createElement("div",{className:"Autograph-item height40",__source:{fileName:G,lineNumber:410},__self:D},k.a.createElement("div",{className:"Autograph-tab",__source:{fileName:G,lineNumber:411},__self:D},k.a.createElement("div",{className:"Autograph-tab--mission",__source:{fileName:G,lineNumber:412},__self:D},"主播开播时签到",k.a.createElement("span",{className:"Autograph-tab--ssRank",onClick:P.openSpeedRankListDialog,__source:{fileName:G,lineNumber:412},__self:D},"  手速榜 >")),k.a.createElement("div",{className:"Autograph-tab--reward",__source:{fileName:G,lineNumber:413},__self:D},"活跃值+",a)),T?k.a.createElement("div",{className:"Autograph-signed",onClick:P.jumpSignDetail,__source:{fileName:G,lineNumber:418},__self:D},"已连续签到",n,"天 >"):k.a.createElement("div",{className:"Autograph-button is-sign",onClick:P.sign,__source:{fileName:G,lineNumber:419},__self:D},"签到")),k.a.createElement("div",{className:"Autograph-item height54",__source:{fileName:G,lineNumber:422},__self:D},k.a.createElement("div",{className:"Autograph-tab",__source:{fileName:G,lineNumber:423},__self:D},k.a.createElement("div",{className:"Autograph-tab--mission",__source:{fileName:G,lineNumber:424},__self:D},"观看",N[0].duration,"分钟"),k.a.createElement("div",{className:"Autograph-tab--reward",__source:{fileName:G,lineNumber:425},__self:D},"活跃值+",N[0].exp_add),k.a.createElement(R.default,{value:P.getWatchPercent(u,N[0].duration,307),isShowTransition:!1,taskColor:!0,__source:{fileName:G,lineNumber:426},__self:D})),k.a.createElement("div",{className:"Autograph-button is-"+(+N[0].done?"finished":"unfinished"),__source:{fileName:G,lineNumber:428},__self:D},+N[0].done?"已完成":"未完成")),k.a.createElement("div",{className:"Autograph-item height54",__source:{fileName:G,lineNumber:432},__self:D},k.a.createElement("div",{className:"Autograph-tab",__source:{fileName:G,lineNumber:433},__self:D},k.a.createElement("div",{className:"Autograph-tab--mission",__source:{fileName:G,lineNumber:434},__self:D},"观看",N[1].duration,"分钟"),k.a.createElement("div",{className:"Autograph-tab--reward",__source:{fileName:G,lineNumber:435},__self:D},"活跃值+",N[1].exp_add),k.a.createElement(R.default,{value:P.getWatchPercent(u,N[1].duration,307),isShowTransition:!1,taskColor:!0,__source:{fileName:G,lineNumber:436},__self:D})),k.a.createElement("div",{className:"Autograph-button is-"+(+N[1].done?"finished":"unfinished"),__source:{fileName:G,lineNumber:438},__self:D},+N[1].done?"已完成":"未完成")),k.a.createElement("div",{className:"Autograph-item height54",__source:{fileName:G,lineNumber:442},__self:D},k.a.createElement("div",{className:"Autograph-tab",__source:{fileName:G,lineNumber:443},__self:D},k.a.createElement("div",{className:"Autograph-tab--mission",__source:{fileName:G,lineNumber:444},__self:D},"移动端观看",v[0].duration,"分钟"),k.a.createElement("div",{className:"Autograph-tab--reward",__source:{fileName:G,lineNumber:445},__self:D},"活跃值+",v[0].exp_add),k.a.createElement(R.default,{value:P.getWatchPercent(e,v[0].duration,307),isShowTransition:!1,taskColor:!0,__source:{fileName:G,lineNumber:446},__self:D})),k.a.createElement("div",{className:"Autograph-button is-"+(+v[0].done?"finished":"goFinish"),onClick:+v[0].done?null:function(){return P.openQrCodeDialog()},__source:{fileName:G,lineNumber:448},__self:D},+v[0].done?"已完成":"去完成")),k.a.createElement("div",{className:"Autograph-item height54",__source:{fileName:G,lineNumber:454},__self:D},k.a.createElement("div",{className:"Autograph-tab",__source:{fileName:G,lineNumber:455},__self:D},k.a.createElement("div",{className:"Autograph-tab--mission",__source:{fileName:G,lineNumber:456},__self:D},"移动端观看",v[1].duration,"分钟"),k.a.createElement("div",{className:"Autograph-tab--reward",__source:{fileName:G,lineNumber:457},__self:D},"活跃值+",v[1].exp_add),k.a.createElement(R.default,{value:P.getWatchPercent(e,v[1].duration,307),isShowTransition:!1,taskColor:!0,__source:{fileName:G,lineNumber:458},__self:D})),k.a.createElement("div",{className:"Autograph-button is-"+(+v[1].done?"finished":"goFinish"),onClick:+v[1].done?null:function(){return P.openQrCodeDialog()},__source:{fileName:G,lineNumber:460},__self:D},+v[1].done?"已完成":"去完成")),k.a.createElement("div",{className:"Autograph-item height54",__source:{fileName:G,lineNumber:466},__self:D},k.a.createElement("div",{className:"Autograph-tab",__source:{fileName:G,lineNumber:467},__self:D},k.a.createElement("div",{className:"Autograph-tab--mission",__source:{fileName:G,lineNumber:468},__self:D},"发送",g,"条弹幕"),k.a.createElement("div",{className:"Autograph-tab--reward",__source:{fileName:G,lineNumber:469},__self:D},"活跃值+",w)),k.a.createElement("div",{className:"Autograph-button is-"+(1==+d?"finished":"goFinish"),onClick:1!=+d?P.inputBarrage:null,__source:{fileName:G,lineNumber:471},__self:D},1==+d?"已完成":"去完成")),k.a.createElement("div",{className:"Autograph-item height54",__source:{fileName:G,lineNumber:477},__self:D},k.a.createElement("div",{className:"Autograph-tab",__source:{fileName:G,lineNumber:478},__self:D},k.a.createElement("div",{className:"Autograph-tab--mission",__source:{fileName:G,lineNumber:479},__self:D},"给主播鲨鱼喂",r,"鱼粮"),k.a.createElement("div",{className:"Autograph-tab--reward",__source:{fileName:G,lineNumber:480},__self:D},"活跃值+",c)),k.a.createElement("div",{className:"Autograph-button is-"+(1==+f?"finished":"goFinish"),onClick:1!=+f?P.goFishpond:null,__source:{fileName:G,lineNumber:482},__self:D},1==+f?"已完成":"去完成")),k.a.createElement("div",{className:"Autograph-item height54",__source:{fileName:G,lineNumber:488},__self:D},k.a.createElement("div",{className:"Autograph-tab",__source:{fileName:G,lineNumber:489},__self:D},k.a.createElement("div",{className:"Autograph-tab--mission",__source:{fileName:G,lineNumber:490},__self:D},"鱼塘争霸进行一次进攻或防守"),k.a.createElement("div",{className:"Autograph-tab--reward",__source:{fileName:G,lineNumber:491},__self:D},"活跃值+",s)),k.a.createElement("div",{className:P.getFhButtonClass(+t,+m),onClick:1!=+t&&+m<0?P.goFishpondHegemony:null,__source:{fileName:G,lineNumber:493},__self:D},P.getFhLeftTime(+t,+m),0==+t&&0<+m?"后开启":"")),k.a.createElement("div",{className:"Autograph-privilege--title",__source:{fileName:G,lineNumber:505},__self:D},"特权说明"),k.a.createElement("div",{className:"Autograph-privilege--pic is-medal",__source:{fileName:G,lineNumber:506},__self:D},k.a.createElement("div",{className:"Autograph-privilege--name",__source:{fileName:G,lineNumber:507},__self:D},"活跃勋章"),k.a.createElement("div",{className:"Autograph-privilege--text",__source:{fileName:G,lineNumber:508},__self:D},"直播间活跃用户的专属标识")),k.a.createElement("div",{className:"Autograph-privilege--pic is-high",__source:{fileName:G,lineNumber:510},__self:D},k.a.createElement("div",{className:"Autograph-privilege--name",__source:{fileName:G,lineNumber:511},__self:D},"高级弹幕"),k.a.createElement("div",{className:"Autograph-privilege--text",__source:{fileName:G,lineNumber:512},__self:D},"解锁更多酷炫的弹幕玩法")),k.a.createElement("div",{className:"Autograph-privilege--pic is-treasure",__source:{fileName:G,lineNumber:514},__self:D},k.a.createElement("div",{className:"Autograph-privilege--name",__source:{fileName:G,lineNumber:515},__self:D},"活跃宝箱"),k.a.createElement("div",{className:"Autograph-privilege--text",__source:{fileName:G,lineNumber:516},__self:D},"每日活跃可领取宝箱, 获得丰富奖励"))))),k.a.createElement("div",{className:"Autograph-bottom",__source:{fileName:G,lineNumber:521},__self:D},2!=+O?k.a.createElement(A.default,{percent:1<o?1:o,__source:{fileName:G,lineNumber:524},__self:D}):null,k.a.createElement("div",{className:"Autograph-treasure "+M[+O||0].class,onClick:1==+O?function(){return P.openTreasure()}:null,__source:{fileName:G,lineNumber:527},__self:D}),2!=+O?k.a.createElement("div",{className:"Autograph-bottom--current",__source:{fileName:G,lineNumber:533},__self:D},"当前活跃值: ",k.a.createElement("span",{__source:{fileName:G,lineNumber:533},__self:D},i)):null,k.a.createElement("div",{className:"Autograph-bottom--text "+(2==+O?"is-oneline":""),__source:{fileName:G,lineNumber:536},__self:D},0!=+O?M[+O||1].text:"今日活跃值达到"+p+"可开启宝箱"),k.a.createElement("a",{className:"Autograph-bottom--help",target:"_blank",href:"https://www.douyu.com/topic/roomLevelGuidePC",__source:{fileName:G,lineNumber:539},__self:D})),k.a.createElement("div",{className:"Autograph-qrCode "+(P.state.qrCodeVisible?"is-show":""),__source:{fileName:G,lineNumber:541},__self:D},k.a.createElement("div",{className:"Autograph-qrCode--text",__source:{fileName:G,lineNumber:542},__self:D},"使用斗鱼APP扫一扫"),k.a.createElement("div",{className:"Autograph-qrCode--text",__source:{fileName:G,lineNumber:543},__self:D},"手机观看直播获取更多活跃值"),k.a.createElement("div",{className:"Autograph-qrCode--close",onClick:function(){return P.setQrCodeDialog()},__source:{fileName:G,lineNumber:544},__self:D}),k.a.createElement("div",{className:"Autograph-qrCode--code",__source:{fileName:G,lineNumber:545},__self:D},k.a.createElement(C.default,{value:h,size:150,options:{errorCorrectLevel:1},logo:x.a,logoWidth:30,logoHeight:30,__source:{fileName:G,lineNumber:546},__self:D}))))},P.getCalendarComponent=function(){return k.a.createElement(y.default,{changePage:P.changePage,__source:{fileName:G,lineNumber:561},__self:D})},P.changePage=function(e){P.setState({page:e})},P.closeGray=function(){P.setState({showGray:!1})},P.getPage=function(){var e=P.props,t=e.userActivePoint,i=e.activeRankList,n=e.statisticTime,r=P.state.page,e=P.getUserActiveRank(i,P.uid),a="number"==typeof e?e:0;switch(r){case"autograph":return P.getRoomInfoComponent();case"calendar":return P.getCalendarComponent();case"activeRank":return k.a.createElement(N.default,{userActivePoint:t,statisticTime:n,activeRankList:i,listUserIndex:a,__source:{fileName:G,lineNumber:588},__self:D});default:return P.getRoomInfoComponent()}},E(P,e)}m.propTypes={levelInfo:p.a.object,signInInfo:p.a.object,giftInfo:p.a.object,watchInfo:p.a.array,feedInfos:p.a.array,bulletScreenInfo:p.a.array,rankInfo:p.a.object,isShowTransition:p.a.bool,watchTaskDetail:p.a.object,roomSiegeTask:p.a.object,treasure:p.a.object,userActivePoint:p.a.object,statisticTime:p.a.object,activeRankList:p.a.array},t.default=Object(b.connect)(function(e){e=e.RoomLevelDetailData;return{levelInfo:e.levelInfo,signInInfo:e.signInInfo,giftInfo:e.giftInfo,watchInfo:e.watchInfo,feedInfos:e.feedInfos,bulletScreenInfo:e.bulletScreenInfo,rankInfo:e.rankInfo,isShowTransition:e.isShowTransition,watchTaskDetail:e.watchTaskDetail,roomSiegeTask:e.roomSiegeTask,treasure:e.treasure,userActivePoint:e.userActivePoint,statisticTime:e.statisticTime,activeRankList:e.activeRankList}})(Object(v.default)(m))},a91518:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/dsj-icon_8172a2a.png"},aa59e7:function(e,t,i){e.exports=i("5f575e")("e0024")},ab889d:function(e,t,i){e.exports=i("5f575e")("8854a")},ac24df:function(e,t,i){e.exports=i("d1db8c")("1e152")},ac64b0:function(e,t,i){e.exports=i("5f575e")("55d33")},ad15c9:function(e,t,i){"use strict";i.d(t,"default",function(){return _});var r,a,o,n=i("1a22b7"),s=i.n(n),l=i("7ca7dc"),c=i("54992a"),u=i("eb3e22"),f=i("2b78ba"),t=i("56b0a1"),n=i("5b9730"),p=(i("9af9be"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),m="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/GiftItem.js";function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var v,l=l.default.Service,_=(c=Object(c.log)(!0),t=l(t.default),n=l(n.default),u=l(u.DataCenter.common),c((b(g,v=s.a.Component),g.prototype.componentDidMount=function(){var t=this;this.common.get("$DATA").subscribe(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).room;t.setState({room:void 0===e?{}:e})})},g.prototype.componentWillUnmount=function(){this.timerId&&window.clearTimeout(this.timerId)},g.prototype.componentDidUpdate=function(e){e=e.info;e.sendSuccOn!==this.state.sendSuccOn&&(this.countdown(),this.setState({sendSuccOn:e.sendSuccOn}))},g.prototype.render=function(){var e=this.props.info,t=void 0===e?{}:e,i=t.basicInfo,n=void 0===i?{}:i,r=t.picUrlPrefix,a=n.giftType,o=n.giftPic,l=n.subscriptColor,c="bg1",e=n.webSubscriptText,i=this.giftService.returnGiftBatterTime(),n=(new Date).getTime(),l=this.giftService.getMaskBgType(l);return 0<l?c="bg"+l:1===parseInt(a,10)&&(e="贵"),s.a.createElement("div",{ref:this.domRef,className:"GiftItem",onClick:this.sendGift,onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave,"data-giftid":t.id,__source:{fileName:m,lineNumber:135},__self:this},s.a.createElement("img",{src:r+o+f.imgSuffix,className:"GiftItem-img",__source:{fileName:m,lineNumber:137},__self:this}),i[t.id]&&i[t.id].endTimes>n?s.a.createElement("em",{className:"GiftItem-mask",__source:{fileName:m,lineNumber:140},__self:this}):null,l<=0&&!e?null:s.a.createElement("div",{className:"GiftItem-leftConnerMark "+c,__source:{fileName:m,lineNumber:145},__self:this},e))},r=h((c=g).prototype,"giftDataServices",[t],{enumerable:!0,initializer:null}),a=h(c.prototype,"giftService",[n],{enumerable:!0,initializer:null}),o=h(c.prototype,"common",[u],{enumerable:!0,initializer:null}),c=c))||c);function g(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this,e));return d(n,"giftDataServices",r,n),d(n,"giftService",a,n),d(n,"common",o,n),n.state={room:{}},n.mouseEnter=function(){var e=n.props.info,t=n.state.room,i=n.giftService.tencentGameGiftCheck(t),t=e.id;n.giftService.showGiftInfoPanel({giftInfo:p({},e)}),i("cfm",t),i("pubgm",t)},n.mouseLeave=function(){n.giftService.hideGiftInfoPanel()},n.sendGift=function(){n.props.sendGift(n.props.info)},n.countdown=function(){var e=n.props.info;n.timerId||(n.timerId=window.setInterval(function(){0<e.countdown?n.giftService.hitCountdown({id:e.id,countdown:e.countdown-1e3}):(window.clearTimeout(n.timerId),n.timerId=null)},1e3))},n.domRef=s.a.createRef(),n.state={},n}},ad3036:function(e,t,i){e.exports=i("5f575e")("eb695")},ad435c:function(e,t,i){e.exports=i("5f575e")("c538c")},ad9050:function(e,t,i){e.exports=i("5f575e")("68de1")},adb7b7:function(e,t,i){},adbe49:function(e,t,i){"use strict";var n=i("35298f"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={isShow:!1};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a;switch(arguments[1].type){case n.TOGGLE_VP_PANEL:return r({},e,{isShow:!e.isShow});case n.CLOSE_TOGGLE_VP_PANEL:return r({},e,{isShow:!1});default:return e}}},ade066:function(e,t,i){"use strict";var n,r,a,o=i("7ca7dc"),l=i("eb3e22"),c=i("eeb07d"),s=i("960890"),u=i("f68984"),f=i("b00678"),p=i("2f135c"),m=i("3c4b90"),d=i("16358b"),b=i("c95695"),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var g=o.default.Service,b=(i=g(l.DataCenter.global),o=g(l.DataCenter.common),g=g(b.default),y.prototype.getGuessGameConfig=function(e){var t=this;return e.ofType(m.GET_GUESSGAME_CONFIG).pipe(Object(f.switchMap)(function(e){return l.httpClient.get(String,"/lapi/interact/quiz/openStatus",{room_id:t.global.get("$ROOM.room_id"),cate2_id:e.payload.cate_id,switch_version:1})}),Object(u.map)(function(e){if(0!==e.error)return{isOpen:0,isSimpleOpen:0};e=JSON.parse(e.data);return{goldAmount:e.gold_amount,goldLimitMax:e.gold_limit_max,isOpen:+e.is_open,isSimpleOpen:+e.is_open_simple,isOpenGold:e.is_open_gold,isOpenGoldTips:e.is_open_gold_tips,isOpenWorldcup:e.is_open_worldcup,defaultPlayType:e.default_play_type,levelLimitMin:e.level_limit_min,isOpenTicket:e.is_open_ticket||0}}),Object(f.switchMap)(function(e){return 0===e.isOpen&&0===e.isSimpleOpen?Object(c.forkJoin)(Object(s.of)(e)):Object(c.forkJoin)(Object(s.of)(e),l.jsonpClient.get(String,t.global.get("$SYS.webconfUrl")+"resource/common/interact.json","interact"),l.httpClient.get(Number,"/api/v1/timestamp"),l.jsonpClient.get(String,t.global.get("$SYS.webconfUrl")+"resource/quiz/quiz_info.json","getQuizInfo"))}),Object(u.map)(function(e){var t=e[0],i=e[1],n=e[2],r=e[3];if(1!==t.isOpen&&1!==t.isSimpleOpen||0!==i.error||0!==n.error||0!==r.error)return d.default.toolbarActivityHide("anchor_quiz"),m.default.recieveGuessGameConfigFail(h({},t));var a=JSON.parse(i.data),e=n.data,i=JSON.parse(r.data);return i&&i.activity_info&&(n=i.activity_info.start_timestamp,r=i.activity_info.end_timestamp,i.server_time=e,i.active_status=n<=e&&e<=r&&i.activity_info.activity_open),m.default.recieveGuessGameConfig(h({},t,a,i))}),Object(p.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},y.prototype.getGuessGameActiveDailyTask=function(e){return e.ofType(m.SENT_GUESSGAME_ACTIVE).pipe(Object(f.switchMap)(function(){return l.httpClient.get(String,"/member/quiz/daily_task",{})}),Object(u.map)(function(e){if(0!==e.error)return m.default.receiveGuessGameActive({guessGameActiveSwitch:!1,bet:{}});e=JSON.parse(e.data);return m.default.receiveGuessGameActive(h({guessGameActiveSwitch:!0},e))}),Object(p.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},n=_((b=y).prototype,"global",[i],{enumerable:!0,initializer:null}),r=_(b.prototype,"common",[o],{enumerable:!0,initializer:null}),a=_(b.prototype,"guessIconServices",[g],{enumerable:!0,initializer:null}),b);function y(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),v(this,"global",n,this),v(this,"common",r,this),v(this,"guessIconServices",a,this)}t.default=b},ae24e6:function(e,t,i){"use strict";var a=i("834674"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l={userJifenExchangeData:[],anchorJifenExchangeData:[],jifenExchangeResult:{},userJifenTasksData:{},userJifenGetDynamicData:[],onlineWatchTaskData:{},isShowExchangeRecord:!1,exchangeRecordData:null,myPoint:0,anchorJifenCurrentPage:1,anchorJifenTotal:0,followStatus:null};t.default={showJifenReducers:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.RECEIVE_SHOW_JIFEN_ENTRANCE_BTN:return o({},e,{showJifenEntranceBtn:t.payload});case a.SHOW_JIFEN_DIALOG:return o({},e,{showJifenDialog:t.payload});default:return e}},jifenUserReducers:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.RECEIVE_USER_JIFEN_EXCHANGE_DATA:return o({},e,{userJifenExchangeData:t.payload,myPoint:t.payload&&t.payload.point});case a.RECEIVE_USER_JIFEN_TASKS_DATA:return o({},e,{userJifenTasksData:t.payload,onlineWatchTaskData:t.payload&&t.payload.st,followStatus:t.payload&&t.payload.follow&&t.payload.follow.status});case a.RECEIVE_CLICK_JIFEN_EXCHANGE_BTN:return o({},e,{jifenExchangeResult:t.payload,myPoint:t.payload&&t.payload.point});case a.RECEIVE_CLICK_TASK_ATTENTION_BTN:return o({},e,{followStatus:1});case a.RECEIVE_GET_FOLLOW_TASK_JIFEN:return o({},e,{myPoint:t.payload,followStatus:2});case a.ONLINE_WATCH_TASK_DATA:var i=Object.assign({},e.userJifenTasksData||{});return i&&t.payload&&(n=i.st||{},n=Object.assign(n,t.payload),i.st=n),t.payload&&t.payload.point?o({},e,{userJifenTasksData:i,onlineWatchTaskData:t.payload,myPoint:t.payload&&t.payload.point}):o({},e,{userJifenTasksData:i,onlineWatchTaskData:t.payload});case a.RECEIVE_GET_DOWNLOAD_GAME_TASK_JIFEN:var n=Object.assign({},e.userJifenTasksData),i=n&&n.games||[],r=t.payload.tid,i=i.filter(function(e){return+(e.android_task.length?e.android_task:e.ios_task)[0].task_id==+r});return(i[0].android_task.length?i[0].android_task:i[0].ios_task)[0].status=2,o({},e,{myPoint:t.payload.point,userJifenTasksData:n});case a.RECEIVE_USER_JIFEN_GET_DYNAMIC:return o({},e,{userJifenGetDynamicData:t.payload});case a.USER_JIFEN_SHOW_EXCHANGE_RECORD:return o({},e,{isShowExchangeRecord:t.payload});case a.RECEIVE_USER_GET_EXCHANGE_RECORD_DATA:return o({},e,{exchangeRecordData:t.payload});default:return e}},jifenAnchorReducers:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];return t.type===a.RECEIVE_ANCHOR_JIFEN_EXCHANGE_DATA&&t.payload.list?o({},e,{anchorJifenExchangeData:t.payload.list,anchorJifenCurrentPage:t.payload.page||1,anchorJifenTotal:t.payload.total||0}):e}}},ae6628:function(e,t,i){"use strict";var r,n,a,o,l,c,s=i("eb3e22"),u=i("7ca7dc"),f=i("db47a7"),p=i("f68984"),m=i("b00678"),d=i("960890"),b=i("2f135c"),h=i("722b8a"),v=i("eb4d33"),_=i("620522"),u=(i=(0,u.default.Store)(),g.prototype.getGameInfo=function(e){return e.ofType(_.GET_GAME_INFO).pipe(Object(m.switchMap)(function(e){e=e.payload.actId;return s.httpClient.get(String,"/ztCache/Lucky/getGambleRule",{actId:e},{noCache:!0})}),Object(p.map)(function(e){e=JSON.parse(e.data);return _.default.receiveGameInfo({activityData:e})}),Object(b.catchError)(function(e){return Object(d.of)({type:"error",playlod:e})}))},g.prototype.getAnchorList=function(e){return e.ofType(_.GET_ANCHOR_LIST).pipe(Object(m.switchMap)(function(e){e=e.payload;return s.httpClient.get(String,"/ztCache/DrawNine/getAnchorsList",{actId:e.actId}).pipe(Object(p.map)(function(e){return{anchorList:(e.data||[]).map(function(e){return JSON.parse(e)})}}))}),Object(m.switchMap)(function(e){var t=e.anchorList,e=t.map(function(e){return e.room_id}).join(",");return s.httpClient.post(String,"/lapi/member/zt/getUserFollow",{rids:e},{headers:{"content-type":"application/x-www-form-urlencoded"}}).pipe(Object(p.map)(function(e){e=JSON.parse(e.data);return{anchorList:t,followStatus:e}}))}),Object(p.map)(function(e){var t=e.anchorList,e=e.followStatus;return _.default.receiveGameInfo({anchorList:t,followStatus:e})}),Object(b.catchError)(function(e){return Object(d.of)({type:"error",playlod:e})}))},g.prototype.getPrizeStatus=function(e){return e.ofType(_.GET_PRIZE_STATUS).pipe(Object(m.switchMap)(function(e){e=e.payload;return s.httpClient.post(String,"/special/lol_lottery/hasPrize",{actId:e.actId},{headers:{"content-type":"application/x-www-form-urlencoded"}})}),Object(p.map)(function(e){e=JSON.parse(e.data);return _.default.receiveGameInfo({prizeStatus:e})}),Object(b.catchError)(function(e){return Object(d.of)({type:"error",playlod:e})}))},g.prototype.anchorSubscribe=function(e){return e.ofType(_.ANCHOR_SUBSCRIBE).pipe(Object(m.switchMap)(function(e){var t=e.payload;return s.httpClient.get(String,"/special/DrawNine/follow",{actId:t.actId,rid:t.rid}).pipe(Object(p.map)(function(e){return{res:e,payload:t}}))}),Object(p.map)(function(e){var t=e.res,e=e.payload;if(0!=+t.error)return h.default.error(t.msg||"网络异常，操作失败"),_.default.doNothing();t=e.followStatus;return t[e.rid]=1,_.default.receiveGameInfo({followStatus:t})}),Object(b.catchError)(function(){return Object(d.of)({type:"error",playlod:"网络异常，操作失败"})}))},g.prototype.getPrize=function(e){return e.ofType(_.GET_PRIZE).pipe(Object(m.switchMap)(function(e){e=e.payload;return Object(v.default)({actId:e.actId,startEffect:e.startEffect,roomData:e.roomData})}),Object(m.switchMap)(function(e){var t=e.name,i=e.value,n=e.payload,e=((e={actId:n.actId})[t]=i,e),r=n.startEffect,a=n.roomData,o=n.actId;return s.httpClient.post(String,"/special/lottery_active/get_lottery_lol",e,{headers:{"content-type":"application/x-www-form-urlencoded"}}).pipe(Object(p.map)(function(e){return{res:e,startEffect:r,actId:o,roomData:a}}))}),Object(p.map)(function(e){var t=e.res,i=e.startEffect,n=e.actId,r=e.roomData,e=void 0===r?{}:r,r=e.tagId,e=e.roomId;if(0!=+t.error)return 20001==+t.error?(Object(f.dysub)("show_bind_qq",{tid:r,rid:e,active_id:n}),_.default.receiveGameInfo({showMessageDialog:!0,gameRes:{msg:"请先绑定QQ",btnTxt:"绑定QQ",type:1}})):20002==+t.error?_.default.receiveGameInfo({showMessageDialog:!0,gameRes:{msg:"需要重新进行QQ授权登录",btnTxt:"授 权",type:2}}):(302==+t.error?Object(f.dysub)("show_lottery_draw_notimes",{tid:r,rid:e,active_id:n}):Object(f.dysub)("show_lottery_draw_fail",{tid:r,rid:e,active_id:n}),_.default.receiveGameInfo({showMessageDialog:!0,gameRes:{msg:t.msg,type:3}}));t=JSON.parse(t.data);return 0===t.gift_level?_.default.receiveGameInfo({showMessageDialog:!0,gameRes:{msg:"很遗憾，您未获得奖品，谢谢关注",type:3}}):(i(),Object(f.dysub)("show_lottery_draw_succ",{tid:r,rid:e,active_id:n}),_.default.receiveGameInfo({gameRes:t}))}),Object(b.catchError)(function(){return Object(d.of)({type:"error",playlod:"网络异常，操作失败"})}))},g.prototype.checkAccountStatus=function(e){var o=this;return e.ofType(_.CHECK_ACCOUNT_STATUS).pipe(Object(m.switchMap)(function(e){var t=e.payload;return s.httpClient.post(String,"/special/lol_lottery/checkAccountStatus",{}).pipe(Object(p.map)(function(e){return{res:e,rowId:t.rowId,roomData:t.roomData,actId:t.actId}}))}),Object(p.map)(function(e){var t=e.res,i=e.rowId,n=e.roomData,r=void 0===n?{}:n,a=e.actId;if(t&&20002==+t.error)return _.default.receiveGameInfo({showMessageDialog:!0,gameRes:{msg:"需要重新进行QQ授权登录",type:3}});e=JSON.parse(t.data),t={sAppId:e.sAppId,iActId:e.iActId,sSign:e.sSign,game:e.game,timestamp:e.timestamp,sCode:encodeURIComponent(e.sCode)},e=window.ulink;return e?((e=new e.RoleSelector(t)).on("getRoleData",function(e){o.store.dispatch(_.default.takePrize({actId:a,roleData:e,rowId:i,roomData:r}))}),e.show(),t=r.tagId,e=r.roomId,Object(f.dysub)("show_bind_role",{tid:t,rid:e,active_id:a})):h.default.error("区服角色数据加载失败"),_.default.doNothing()}),Object(b.catchError)(function(){return Object(d.of)({type:"error",playlod:"网络异常，操作失败"})}))},g.prototype.takePrize=function(e){return e.ofType(_.TAKE_PRIZE).pipe(Object(m.switchMap)(function(e){var t=e.payload,i=t.actId,n=t.roleData,e=void 0===n?{}:n,n=t.rowId,t=t.roomData,r=void 0===t?{}:t,e={actId:i,rowId:n,area:e.area,areaName:e.areaName,roleId:e.roleId,roleName:e.roleName,checkparam:e.checkparam,checkstr:e.checkstr};return s.httpClient.post(String,"/special/lol_lottery/takePrize",e,{headers:{"content-type":"application/x-www-form-urlencoded"}}).pipe(Object(p.map)(function(e){return{res:e,actId:i,roomData:r}}))}),Object(p.map)(function(e){var t=e.res,i=e.actId,n=e.roomData;if(0!=+t.error)return h.default.error(t&&t.msg||"奖品领取失败，请稍后再试"),_.default.doNothing();e=n.tagId,n=n.roomId;return Object(f.dysub)("show_send_gift_succ",{tid:e,rid:n,active_id:i}),_.default.receiveGameInfo({showMessageDialog:!0,gameRes:{msg:t.msg||"领取成功",type:4}})}),Object(b.catchError)(function(){return Object(d.of)({type:"error",playlod:"网络异常，操作失败"})}))},g.prototype.bindBeforeCheck=function(e){return e.ofType(_.BIND_BEFORE_CHECK).pipe(Object(m.switchMap)(function(e){e=e.payload;return Object(v.default)({type:e.type})}),Object(m.switchMap)(function(e){var t=e.name,i=e.value,n=e.payload,e=((e={})[t]=i,e.type=n.type,e.redirect_url=window.location.href,e);return s.httpClient.post(String,"/member/oauth/toBind",e,{headers:{"content-type":"application/x-www-form-urlencoded"}}).pipe(Object(p.map)(function(e){return{res:e,type:n.type}}))}),Object(p.map)(function(e){var t=e.res,e=e.type;if(0!=+t.error)return _.default.receiveGameInfo({showMessageDialog:!0,gameRes:{msg:t.msg||"操作失败，请重试！",type:3}});t=window.open("about:blank");return t?(t.location.href="/member/oauth/bind/"+{qq:"qq",weixin:"weixin",sinawb:"weibo"}[e],_.default.receiveGameInfo({showMessageDialog:!1,gameRes:{}})):(h.default.error("新窗口被浏览器拦截，请点击右上角允许弹出窗口和重定向"),_.default.doNothing())}),Object(b.catchError)(function(){return Object(d.of)({type:"error",playlod:"网络异常，操作失败"})}))},n=(u=g).prototype,a="store",i=[i],o={enumerable:!0,initializer:null},c={},Object.keys(o).forEach(function(e){c[e]=o[e]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=i.slice().reverse().reduce(function(e,t){return t(n,a,e)||e},c),l&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(l):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(n,a,c),c=null),r=c,u);function g(){var e,t,i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),t="store",n=e=this,(i=r)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}t.default=u},ae77d0:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/family-icon_7ee4882.png"},ae84ab:function(e,t,i){},af0444:function(e,t,i){"use strict";i=i("8bca28");t.default=i.default},af13a4:function(e,t,i){"use strict";var a,n,r,o,l,c,s=i("7ca7dc"),i=i("98c751"),i=(s=(0,s.default.Service)(i.default),n=(i=function e(){var t,i,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i="toolbarService",r=t=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}).prototype,r="toolbarService",s=[s],o={enumerable:!0,initializer:null},c={},Object.keys(o).forEach(function(e){c[e]=o[e]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=s.slice().reverse().reduce(function(e,t){return t(n,r,e)||e},c),l&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(l):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(n,r,c),c=null),a=c,i);t.default=i},b00678:function(e,t,i){e.exports=i("2d6146")("86f8b")},b06504:function(e,t,i){e.exports=i("5f575e")("b42f6")},b067ea:function(e,t,i){e.exports=i("5f575e")("6792d")},b12198:function(e,t,i){e.exports=i("5f575e")("c0e50")},b14137:function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=(i("78c74d"),i("b12198")),o="/shark/live/src/pages/roomPage/toolbarModule/business/rightArea/CookComplete/Tips/index.js";function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,i=(l(s,c=r.a.Component),s.prototype.render=function(){var e=this.props,t=e.closeGuideTips,e=e.startTime,e="斗鱼达人赛将在"+a.default.formatDate(new Date(1e3*+e),"hh:mm")+"开启，抢达人得奖励";return r.a.createElement("div",{className:"CookCompleteGuideTips",__source:{fileName:o,lineNumber:12},__self:this},r.a.createElement("span",{className:"CookCompleteGuideTips-text",__source:{fileName:o,lineNumber:13},__self:this},e),r.a.createElement("p",{className:"CookCompleteGuideTips-close",onClick:function(e){return t(e)},__source:{fileName:o,lineNumber:14},__self:this}))},s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,c.apply(this,arguments))}t.default=i},b1556e:function(e,t,i){},b1f9ab:function(e,t,i){e.exports=i("5f575e")("885a4")},b2096b:function(e,t,i){e.exports=i("5f575e")("ab98f")},b2f633:function(e,t,i){"use strict";i=i("a2df66");t.default=i.default},b3001b:function(e,t,i){"use strict";i=i("9f669a");t.default=i.default},b37eb9:function(e,t,i){"use strict";var a,n=i("1a22b7"),r=i.n(n),o=i("447d8e"),l=i("54992a"),n=i("7ca7dc"),c=(i("8f2732"),i("878ab0")),s=i("759518"),i=i("dee2e9"),u="/shark/live/src/pages/roomPage/toolbarModule/components/JifenComponent/UserJifen/UserJifen.js";function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var p,m,d,b,h,v,l=(i=(0,n.default.Service)(i.default),Object(l.log)((f(_,v=r.a.Component),_.prototype.componentDidMount=function(){},_.prototype.clickCloseBtn=function(){var e=this.props.isShowJifen;this.jifenServices.showJifenDialog(!e)},_.prototype.render=function(){var e=this.props.isShowExchangeRecord;return r.a.createElement("div",{className:"UserJifen",__source:{fileName:u,lineNumber:36},__self:this},e?r.a.createElement(s.default,{__source:{fileName:u,lineNumber:38},__self:this}):r.a.createElement(c.default,{__source:{fileName:u,lineNumber:38},__self:this}),r.a.createElement("div",{className:"UserJifen-closebtn",onClick:this.clickCloseBtn,__source:{fileName:u,lineNumber:40},__self:this},"×"))},p=(l=_).prototype,m="jifenServices",i=[i],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=i.slice().reverse().reduce(function(e,t){return t(p,m,e)||e},h),b&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(p,m,h),h=null),a=h,l=l))||l);function _(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);var t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this,e));return i="jifenServices",n=t=r,(e=a)&&Object.defineProperty(t,i,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(n):void 0}),r.clickCloseBtn=r.clickCloseBtn.bind(r),r}t.default=Object(o.connect)(function(e){return{isShowJifen:e.showJifen,isShowExchangeRecord:e.jifenUserReducers.isShowExchangeRecord}})(l)},b3960e:function(e,t,i){e.exports=i("5f575e")("1cc14")},b396ee:function(e,t,i){},b39c64:function(e,t,i){"use strict";i=i("9a80a8");t.default=i.default},b4093e:function(e,t,i){"use strict";var a,o,l,c,s,u,f,p,m,d,b,h,v,_,n=i("eb3e22"),r=i("54992a");function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function O(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var S,E,j=n.basicTypes.string,T=n.basicTypes.number,P=n.basicTypes.mapping,D=n.basicTypes.array,C=n.basicTypes.optional,k=n.basicTypes.boolean,I=(I=P({activityFlag:"activity_flag",activityLink:"activity_link",iconDefault:"icon_default",iconHover:"icon_hover",iconHoverTitle:"icon_hover_title",sortId:"sort_id",updateTime:"update_time",iframeStyle:"iframe_style",textDefault:"text_default"}),i=C(!1),P=C(0),I((w(R,E=n.EntityDto),a=O((I=R).prototype,"activityFlag",[C,j],{enumerable:!0,initializer:null}),o=O(I.prototype,"enable",[i,k],{enumerable:!0,initializer:null}),l=O(I.prototype,"activityLink",[j],{enumerable:!0,initializer:null}),c=O(I.prototype,"fold",[P,T],{enumerable:!0,initializer:null}),s=O(I.prototype,"iconDefault",[j],{enumerable:!0,initializer:null}),u=O(I.prototype,"iconHover",[j],{enumerable:!0,initializer:null}),f=O(I.prototype,"iconHoverTitle",[j],{enumerable:!0,initializer:null}),p=O(I.prototype,"id",[j],{enumerable:!0,initializer:null}),m=O(I.prototype,"sortId",[j],{enumerable:!0,initializer:null}),d=O(I.prototype,"updateTime",[j],{enumerable:!0,initializer:null}),b=O(I.prototype,"iframeStyle",[j],{enumerable:!0,initializer:null}),h=O(I.prototype,"textDefault",[j],{enumerable:!0,initializer:null}),j=I))||j),n=(j=Object(r.log)(!0),r=D(I),I=D(I),j((w(z,S=n.EntityDto),v=O((n=z).prototype,"fold",[C,r],{enumerable:!0,initializer:null}),_=O(n.prototype,"unfold",[C,I],{enumerable:!0,initializer:null}),n=n))||n);function z(){var e,t;y(this,z);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=N(this,S.call.apply(S,[this].concat(n))),g(t,"fold",v,t),g(t,"unfold",_,t),N(t,e)}function R(){var e,t;y(this,R);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=N(this,E.call.apply(E,[this].concat(n))),g(t,"activityFlag",a,t),g(t,"enable",o,t),g(t,"activityLink",l,t),g(t,"fold",c,t),g(t,"iconDefault",s,t),g(t,"iconHover",u,t),g(t,"iconHoverTitle",f,t),g(t,"id",p,t),g(t,"sortId",m,t),g(t,"updateTime",d,t),g(t,"iframeStyle",b,t),g(t,"textDefault",h,t),N(t,e)}t.default=n},b42b55:function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a="/shark/live/src/common/components/CertifyComponent/components/Step3.js";t.default=function(e){var t=e.onSuccess,e=e.finalText;return r.a.createElement("div",{__source:{fileName:a,lineNumber:8},__self:void 0},r.a.createElement("div",{className:"CertifyComp-step3-success",__source:{fileName:a,lineNumber:9},__self:void 0}),r.a.createElement("div",{className:"CertifyComp-step3-mainDesc",__source:{fileName:a,lineNumber:10},__self:void 0},"主播认证已完成"),r.a.createElement("div",{className:"CertifyComp-step3-subDesc",__source:{fileName:a,lineNumber:11},__self:void 0},"您的帐号已完成认证, 快去开播吧"),r.a.createElement("div",{className:"CertifyComp-step3-confirmWrap",__source:{fileName:a,lineNumber:12},__self:void 0},r.a.createElement("div",{className:"CertifyComp-step3-confirm",onClick:t,__source:{fileName:a,lineNumber:13},__self:void 0},e)))}},b4cbea:function(e,t,i){"use strict";var n,r,a,o=i("7ca7dc"),l=i("960890"),c=i("f68984"),s=i("b00678"),u=i("2f135c"),f=i("eb3e22"),p=i("722b8a"),m=i("49c86a"),d=i("834674"),b=i("eb4d33");function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var _=o.default.Service,g=f.DataCenter.global.get("$SYS"),y="/member/point_task/awardGameTask",m=(i=_(f.DataCenter.global),o=_(f.DataCenter.common),_=_(m.default),N.prototype.showJifenEntranceBtn=function(e){var r=this;return e.ofType(d.SHOW_JIFEN_ENTRANCE_BTN).pipe(Object(s.switchMap)(function(){return f.jsonpClient.get(String,g.webconfUrl+"/resource/common/points/config_web.json","jifenConfig")}),Object(c.map)(function(t){var i=!1,e=t.room_whitelist,n=t.tag_whitelist;return 0==+t.main_switch?i=!1:(e&&e.length&&e.forEach(function(e){+e==+r.global.get("$ROOM.room_id")&&(i=!0)}),i||(n&&n.length&&r.common.get("$DATA").subscribe(function(t){n.forEach(function(e){+e==+t.get("room.cate_id")&&(i=!0)})}),i&&r.common.get("$DATA").subscribe(function(e){e=e.get("room.levelInfo");+t.min_level>+e.level&&(i=!1)}))),d.default.receiveShowJifenEntranceBtn(i)}))},N.prototype.getUserJifenExchangeData=function(e){var n=this;return e.ofType(d.USER_JIFEN_EXCHANGE_DATA).pipe(Object(s.switchMap)(b.default),Object(s.switchMap)(function(e){var t=e.name,i=e.value,e=e.payload;return f.httpClient.post(String,"/member/point_user/getAnchorStoreGiftList",((e={room_id:n.global.get("$ROOM.room_id")||0,page:e.payload})[t]=i,e),{headers:{"content-type":"application/x-www-form-urlencoded"}})}),Object(c.map)(function(e){var t=[];return e&&0==+e.error&&(t=e.data&&JSON.parse(e.data)),d.default.receiveUserJifenExchangeData(t)}),Object(u.catchError)(function(e){return Object(l.of)({type:"error",payload:e})}))},N.prototype.clickJifenExchangeBtn=function(e){var n=this;return e.ofType(d.CLICK_JIFEN_EXCHANGE_BTN).pipe(Object(s.switchMap)(b.default),Object(s.switchMap)(function(e){var t=e.name,i=e.value,e=e.payload;return f.httpClient.post(String,"/member/point_user/exchangeGift",((e={room_id:n.global.get("$ROOM.room_id")||0,md5_id:e.payload})[t]=i,e),{headers:{"content-type":"application/x-www-form-urlencoded"}})}),Object(c.map)(function(e){if(0!=+e.error)return p.default.info(e.data||"兑换失败"),{type:"error",payload:e};e=e.data&&JSON.parse(e.data);return d.default.receiveClickJifenExchangeBtn(e)}),Object(u.catchError)(function(e){return Object(l.of)({type:"error",payload:e})}))},N.prototype.clickTaskAttentionBtn=function(e){var t=this;return e.ofType(d.CLICK_TASK_ATTENTION_BTN).pipe(Object(s.switchMap)(function(){return t.followServices.reqFollow({room_id:t.global.get("$ROOM.room_id")||0}).pipe(Object(c.map)(function(e){return 0==+e.error?d.default.receiveClickTaskAttentionBtn():(p.default.info(e.data||"关注失败"),{type:"error",payload:e})}),Object(u.catchError)(function(e){return Object(l.of)({type:"error",payload:e})}))}))},N.prototype.getFollowTaskJifen=function(e){var n=this;return e.ofType(d.GET_FOLLOW_TASK_JIFEN).pipe(Object(s.switchMap)(b.default),Object(s.switchMap)(function(e){var t=e.name,i=e.value,e=e.payload;return f.httpClient.post(String,y,((e={room_id:n.global.get("$ROOM.room_id")||0,task_id:e.payload})[t]=i,e),{headers:{"content-type":"application/x-www-form-urlencoded"}}).pipe(Object(c.map)(function(e){if(0!=+e.error)return p.default.info(e.data||"关注失败"),{type:"error",payload:e};var t=e.data&&JSON.parse(e.data),e=t&&t.point;return p.default.info("恭喜您领取了"+t.tp+"积分"),d.default.receiveGetFollowTaskJifen(e)}),Object(u.catchError)(function(e){return Object(l.of)({type:"error",payload:e})}))}))},N.prototype.getUserJifenTasksData=function(e){var t=this;return e.ofType(d.USER_JIFEN_TASKS_DATA).pipe(Object(s.switchMap)(function(){return f.httpClient.get(String,"/member/point_task/getTaskList",{room_id:t.global.get("$ROOM.room_id")||0},{noCache:!0})}),Object(c.map)(function(e){var t={};return e&&0==+e.error&&(t=e.data&&JSON.parse(e.data)),d.default.receiveUserJifenTasksData(t)}),Object(u.catchError)(function(e){return Object(l.of)({type:"error",payload:e})}))},N.prototype.receiveGetDownloadGameTaskJifen=function(e){var r=this;return e.ofType(d.GET_DOWNLOAD_GAME_TASK_JIFEN).pipe(Object(s.switchMap)(b.default),Object(s.switchMap)(function(e){var t=e.name,i=e.value,n=e.payload;return f.httpClient.post(String,y,((e={room_id:r.global.get("$ROOM.room_id")||0,task_id:n.payload})[t]=i,e),{headers:{"content-type":"application/x-www-form-urlencoded"}}).pipe(Object(c.map)(function(e){if(0!=+e.error)return p.default.info(e.data||"领取失败"),{type:"error",payload:e};var t=e.data&&JSON.parse(e.data),e={point:t&&t.point,tid:n.payload};return p.default.info("恭喜您领取了"+t.tp+"积分"),d.default.receiveGetDownloadGameTaskJifen(e)}),Object(u.catchError)(function(e){return Object(l.of)({type:"error",payload:e})}))}))},N.prototype.getUserJifenGetDynamic=function(e){var n=this;return e.ofType(d.USER_JIFEN_GET_DYNAMIC).pipe(Object(s.switchMap)(b.default),Object(s.switchMap)(function(e){var t=e.name,i=e.value;return f.httpClient.post(String,"/point/gift/getExchangeDynamicTop10",((e={room_id:n.global.get("$ROOM.room_id")||0})[t]=i,e),{headers:{"content-type":"application/x-www-form-urlencoded"}})}),Object(c.map)(function(e){var t=[];return e&&0==+e.error&&(t=(t=e.data).map(function(e){return JSON.parse(e)})),d.default.receiveUserJifenGetDynamic(t)}),Object(u.catchError)(function(e){return Object(l.of)({type:"error",payload:e})}))},N.prototype.clickOnlineWatchGetBtn=function(e){var n=this;return e.ofType(d.CLICK_USER_JIFEN_WATCH_GET_BTN).pipe(Object(s.switchMap)(b.default),Object(s.switchMap)(function(e){var t=e.name,i=e.value,e=e.payload;return f.httpClient.post(String,"/member/point_task/getPoint",((e={room_id:n.global.get("$ROOM.room_id")||0,task_id:e.payload})[t]=i,e),{headers:{"content-type":"application/x-www-form-urlencoded"}}).pipe(Object(c.map)(function(e){var t={};return e&&0==+e.error&&(t=e.data&&JSON.parse(e.data)),d.default.onlineWatchTaskData(t)}),Object(u.catchError)(function(e){return Object(l.of)({type:"error",payload:e})}))}))},N.prototype.getExchangeRecordData=function(e){var t=this;return e.ofType(d.USER_GET_EXCHANGE_RECORD_DATA).pipe(Object(s.switchMap)(function(e){e=e.payload;return f.httpClient.get(String,"/member/point_user/getExchangeGiftLog",Object.assign({room_id:t.global.get("$ROOM.room_id")||0,limit:7},e),{noCache:!0})}),Object(c.map)(function(e){var t={};return e&&0==+e.error&&(t=e.data&&JSON.parse(e.data)),d.default.receiveUserGetExchangeRecordData(t)}),Object(u.catchError)(function(e){return Object(l.of)({type:"error",payload:e})}))},N.prototype.getAnchorJifenExchangeData=function(e){var n=this;return e.ofType(d.ANCHOR_JIFEN_EXCHANGE_DATA).pipe(Object(s.switchMap)(b.default),Object(s.switchMap)(function(e){var t=e.name,i=e.value,e=e.page;return f.httpClient.post(String,"/member/point_anchor/getAnchorStoreGiftList",((e={room_id:n.global.get("$ROOM.room_id")||0,page:e})[t]=i,e),{headers:{"content-type":"application/x-www-form-urlencoded"}})}),Object(c.map)(function(e){var t={};return e&&0==+e.error&&(t=e.data&&JSON.parse(e.data)),d.default.receiveAnchorJifenExchangeData(t)}),Object(u.catchError)(function(e){return Object(l.of)({type:"error",payload:e})}))},n=v((m=N).prototype,"global",[i],{enumerable:!0,initializer:null}),r=v(m.prototype,"common",[o],{enumerable:!0,initializer:null}),a=v(m.prototype,"followServices",[_],{enumerable:!0,initializer:null}),m);function N(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N),h(this,"global",n,this),h(this,"common",r,this),h(this,"followServices",a,this)}t.default=m},b4fbe7:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/hpjysssj-icon_9348cdc.png"},b60252:function(e,t,i){"use strict";i=i("e0c23e");t.default=i.default},b614f4:function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),a=i("447d8e"),o=i("7ca7dc"),u=i("722b8a"),l=i("16358b"),n=i("f92d13"),c=i("a8024b"),f=(i("be1884"),"/shark/live/src/pages/roomPage/toolbarModule/components/SubtitlesSurprise/index.js");function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var d,b,h,v,_,g,y=i("e2bb45"),n=(o=(0,o.default.Service)(n.default),m(N,g=r.a.Component),N.prototype.componentDidMount=function(){this.subtitlesSurpriseServices.isAnchor||l.default.toolbarActivityShow("danmucaidan")},N.prototype.render=function(){var e=this,t=this.props.SubsurPlayer;if(!t)return null;var i=t.countDown,t=t.cppData,i=i.minute+":"+i.second,n=1!=+t.status;return r.a.createElement("div",{className:"SubSur2",onClick:function(){return e.openDialog(n)},__source:{fileName:f,lineNumber:43},__self:this},r.a.createElement(c.default,{baseUrl:y,des:"弹幕彩蛋",leftColor:"#f37a20",rightColor:"#f35120",__source:{fileName:f,lineNumber:45},__self:this}),n?null:r.a.createElement("p",{className:"SubSur2-btnCountDown",__source:{fileName:f,lineNumber:52},__self:this},i))},d=(n=N).prototype,b="subtitlesSurpriseServices",o=[o],h={enumerable:!0,initializer:null},_={},Object.keys(h).forEach(function(e){_[e]=h[e]}),_.enumerable=!!_.enumerable,_.configurable=!!_.configurable,("value"in _||_.initializer)&&(_.writable=!0),_=o.slice().reverse().reduce(function(e,t){return t(d,b,e)||e},_),v&&void 0!==_.initializer&&(_.value=_.initializer?_.initializer.call(v):void 0,_.initializer=void 0),void 0===_.initializer&&(Object.defineProperty(d,b,_),_=null),s=_,n);function N(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,N);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=p(this,g.call.apply(g,[this].concat(l))),n="subtitlesSurpriseServices",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.openDialog=function(e){e?u.default.info("弹幕彩蛋还未开始哟~"):t.subtitlesSurpriseServices.close("big",!1)},p(t,e)}t.default=Object(a.connect)(function(e){return{SubsurPlayer:e.SubsurPlayer}})(n)},b62dcb:function(e,t,i){"use strict";i.d(t,"default",function(){return v});var s,n=i("1a22b7"),r=i.n(n),a=i("7ca7dc"),t=i("eb3e22"),n=i("54992a"),o=i("a8024b");function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i("a507d0");var c,f,p,m,d,b,h=i("216e42"),v=(t=(0,a.default.Service)(t.DataCenter.common),Object(n.log)((l(_,b=r.a.PureComponent),_.prototype.render=function(){return r.a.createElement(o.default,{baseUrl:h,des:"礼物PK",leftColor:"#fcca4a",rightColor:"#d1973a",onClick:this.handleClick,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/GiftPKIcon/index.js",lineNumber:22},__self:this})},c=(n=_).prototype,f="common",t=[t],p={enumerable:!0,initializer:null},d={},Object.keys(p).forEach(function(e){d[e]=p[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=t.slice().reverse().reduce(function(e,t){return t(c,f,e)||e},d),m&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(m):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(c,f,d),d=null),s=d,n=n))||n);function _(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,b.call.apply(b,[this].concat(l))),n="common",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.handleClick=function(){t.common.push("GiftPKPanelToggle")},u(t,e)}},b66a4c:function(e,t,i){e.exports=i("5f575e")("29bff")},b72f0a:function(e,t,i){"use strict";var a,o,n=i("1a22b7"),f=i.n(n),r=i("3b6ec9"),p=i.n(r),l=i("7ca7dc"),c=i("eb3e22"),r=i("bc6a90"),m=i("15aedc"),d=i("664cb9"),b=i("9f8cc3"),h=i("2ef01e"),v=i("f4dc83"),_=i("3dd399"),g=(i("c3e050"),"/shark/live/src/pages/roomPage/toolbarModule/components/LolLottery/components/LotteryMain.js");function s(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function N(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var w,l=l.default.Service,n=(c=l(c.DataCenter.common),r=l(r.default),y(O,w=n.Component),O.prototype.closeGameWin=function(e){e.stopPropagation(),this.lolLotteryService.hideGameWin()},O.prototype.stopPropagation=function(e){e.stopPropagation()},O.prototype.render=function(){var t=this,e=this.props,i=e.LolLotteryData,n=e.actId,r=e.roomData,a=i.activityData,o=i.anchorList,l=i.followStatus,c=i.prizeStatus,s=i.showMessageDialog,u=i.showPrizeDialog,e=i.gameRes,a=i.showGameWin?f.a.createElement("div",{className:"LolLotteryComponent",onClick:function(e){return t.stopPropagation(e)},__source:{fileName:g,lineNumber:47},__self:this},f.a.createElement("div",{className:"LotteryMain",__source:{fileName:g,lineNumber:48},__self:this},f.a.createElement("span",{className:"LotteryMain-lotteryWinClose",onClick:function(e){return t.closeGameWin(e)},__source:{fileName:g,lineNumber:49},__self:this}),f.a.createElement(m.default,{activityRule:a.activityRule,__source:{fileName:g,lineNumber:50},__self:this}),f.a.createElement(d.default,{actId:n,roomData:r,prize:a.prize,gameRes:e,__source:{fileName:g,lineNumber:51},__self:this}),f.a.createElement(b.default,{actId:n,roomData:r,prizeStatus:c,__source:{fileName:g,lineNumber:57},__self:this}),f.a.createElement(h.default,{actId:n,roomData:r,anchorList:o,followStatus:l,__source:{fileName:g,lineNumber:62},__self:this}),f.a.createElement(v.default,{actId:n,roomData:r,visible:s,gameRes:e,__source:{fileName:g,lineNumber:68},__self:this}),f.a.createElement(_.default,{actId:n,roomData:r,visible:u,gameRes:e,prize:a.prize,__source:{fileName:g,lineNumber:74},__self:this}))):"";return p.a.createPortal(a,document.body)},a=N((n=O).prototype,"common",[c],{enumerable:!0,initializer:null}),o=N(n.prototype,"lolLotteryService",[r],{enumerable:!0,initializer:null}),n);function O(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=u(this,w.call.apply(w,[this].concat(n))),s(t,"common",a,t),s(t,"lolLotteryService",o,t),u(t,e)}t.default=n},b85cb0:function(e,t,i){"use strict";i=i("b37eb9");t.default=i.default},b89f3c:function(e,t,i){"use strict";var n,r,a=i("1a22b7"),o=i.n(a),l=i("7ca7dc"),c=i("eb3e22"),s=i("104af8"),u=i("97a1f0"),f=(i("26464d"),i("5264d4")),p=i("ffca33"),a=i("e854a7"),m=(i("348399"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/AnnualFestivalGift/AnnualFestivalGift.js");function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var v,l=l.default.Service,_=a.default.socketStream,a=(a=Object(u.ErrorHandler)(o.a.createElement("div",{__source:{fileName:m,lineNumber:38},__self:void 0})),u=l(c.DataCenter.common),c=l(c.DataCenter.global),a((b(g,v=o.a.Component),g.prototype.componentDidMount=function(){var a=this;this.sub=Object(f.combineLatest)(this.config$,this.steps$).subscribe(function(e){var t=e[0],i=e[1],n=i.tasklist,r=i.sttCode,e=r.distype,r=r.disp.over,n=a.getTaskInfo(+e,n,t),t=n.giftsTaskMap,n=n.isShowTask;a.setState({isShow:0==+r&&n,lastDataCreateTime:i.lastDataCreateTime,giftsTaskMap:t})}),this.loadConfig(),this.listenProtocols()},g.prototype.getTaskInfo=function(i,e,t){var n,t=t.step1_task_setting,t=void 0===t?[]:t,s={},u={};return 0<i&&this.state&&this.state.giftsTaskMap?(n=this.state.giftsTaskMap,Object.entries(n).forEach(function(e){var t=e[0],e=e[1];1===i&&e.isReset&&(n[t].numerator=0),s[t]=n[t]})):(t.forEach(function(e){var t=e.task_id;u[t]=e}),e.forEach(function(e){var t=e.task_id,i=e.num,n=e.total,r=u[t]||{},e=r.rel_ids,e=void 0===e?[]:e,a=r.task_name,o=r.task_web_pic,l=r.is_reset,c=r.total;e.forEach(function(e){s[e]={gid:e,tid:t,isReset:l,taskImg:o,taskName:a,numerator:+i||0,denominator:+n||+c}})})),{isShowTask:0<Object.keys(s).length,giftsTaskMap:s}},g.prototype.loadConfig=function(){var t=this;Object(p.default)({url:"//webconf.douyucdn.cn/resource/common/activity/actqzs202006_w.json",type:"jsonp",callbackName:"actqzs202006"}).subscribe(function(e){return t.config$.next(e)})},g.prototype.listenProtocols=function(){var i=this;["qzs202006s1disp","qzs202006s1info","qzs202006s2info"].forEach(function(e){_.subscribe(e,function(e){var t=i.state.lastDataCreateTime;(!t||e.time>t)&&i.handleSteps(e)})})},g.prototype.handleSteps=function(e){var t=e.time,i=e.type,n=e.disp,r=(n=void 0===n?{}:n).over,n=e.tasklist;this.state.isShow||!(0<r||"qzs202006s2info"===i)?"qzs202006s2info"!==i?this.steps$.next({tasklist:(void 0===n?[]:n)||[],sttCode:e,lastDataCreateTime:t}):this.clear():this.sub.unsubscribe()},g.prototype.componentWillUnmount=function(){this.sub.unsubscribe()},g.prototype.clear=function(){this.close(),this.sub.unsubscribe()},g.prototype.getPercent=function(e,t){return t&&e/(t||"-")||0},g.prototype.render=function(){var e=this.state,t=e.isShow,i=(e.giftsTaskMap||{})[this.props.giftId];if(!t||!i)return null;var n=i.taskImg,r=i.taskName,e=i.numerator,t=i.denominator,i=this.getPercent(e,t);return o.a.createElement("div",{className:"AnnualFestivalGift",__source:{fileName:m,lineNumber:239},__self:this},o.a.createElement("div",{className:"AnnualFestivalGift-taskImg",__source:{fileName:m,lineNumber:240},__self:this},n?o.a.createElement("img",{src:n,__source:{fileName:m,lineNumber:241},__self:this}):null),o.a.createElement("div",{className:"AnnualFestivalGift-taskCont",__source:{fileName:m,lineNumber:243},__self:this},o.a.createElement("div",{className:"AnnualFestivalGift-desc",__source:{fileName:m,lineNumber:244},__self:this},r?"资格任务：收到"+r:"--"),o.a.createElement("div",{className:"AnnualFestivalGift-progressBar",__source:{fileName:m,lineNumber:245},__self:this},o.a.createElement("div",{className:"AnnualFestivalGift-progress",style:{width:100*i+"%"},__source:{fileName:m,lineNumber:246},__self:this}),o.a.createElement("div",{className:"AnnualFestivalGift-progressTxt",__source:{fileName:m,lineNumber:247},__self:this},o.a.createElement("span",{className:"AnnualFestivalGift-progressNumerator",__source:{fileName:m,lineNumber:248},__self:this},e),o.a.createElement("span",{className:"AnnualFestivalGift-progressDenominator",__source:{fileName:m,lineNumber:249},__self:this},"/",t||"--")))))},n=h((a=g).prototype,"common",[u],{enumerable:!0,initializer:null}),r=h(a.prototype,"global",[c],{enumerable:!0,initializer:null}),a=a))||a);function g(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this));return d(e,"common",n,e),d(e,"global",r,e),e.close=function(){e.setState({isShow:!1})},e.state={isShow:0,giftsTaskMap:null},e.config$=new s.Subject,e.steps$=new s.Subject,e.giftTaskList=[],e}t.default=a},b8bba1:function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),a=i("7ca7dc"),o=i("54992a"),n=i("3b65fe"),l=i("16358b"),c=i("a8024b");function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i("502831");var p,m,d,b,h,v,a=a.default.Service,_=i("9e14f6"),o=(n=a(n.default),Object(o.log)((f(g,v=r.a.Component),g.prototype.componentDidMount=function(){l.default.toolbarActivityShow("KplReward")},g.prototype.render=function(){return r.a.createElement(c.default,{baseUrl:_,des:"助威打赏",leftColor:"#dd2619",rightColor:"#d92216",onClick:this.handleBtnClick,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/KplReward/KplReward.js",lineNumber:37},__self:this})},p=(o=g).prototype,m="kplRewardService",n=[n],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=n.slice().reverse().reduce(function(e,t){return t(p,m,e)||e},h),b&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(p,m,h),h=null),s=h,o=o))||o);function g(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,v.call.apply(v,[this].concat(l))),n="kplRewardService",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.handleBtnClick=function(){t.kplRewardService.togglePanelShow()},u(t,e)}t.default=o},b8dfcd:function(e,t,i){"use strict";var n=i("620522"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{showGameWin:!1,showPrizeDialog:!1,showMessageDialog:!1,activityData:{},prizeStatus:{},anchorList:[],followStatus:{},gameRes:{}},t=arguments[1];switch(t.type){case n.SHOW_GAME_WIN:return r({},e,{showGameWin:!0});case n.HIDE_GAME_WIN:return r({},e,{showGameWin:!1,showPrizeDialog:!1,showMessageDialog:!1,gameRes:{}});case n.RECEIVE_GAME_INFO:return r({},e,t.payload);default:return e}}},b9237c:function(e,t,i){},b92d46:function(e,t,i){e.exports=i("5f575e")("e333d")},b9e377:function(e,t,i){},ba05b6:function(e,t,i){"use strict";i.d(t,"ActivityEnter",function(){return p}),i.d(t,"AcitvityEnterWithOnClickHOC",function(){return o});var t=i("1a22b7"),n=i.n(t),r=(i("c16eda"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),c="/shark/live/src/pages/roomPage/toolbarModule/components/Activity/ActivityEnter.js";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var a,p=(f(l,a=n.a.Component),l.prototype.componentDidMount=function(){var e=this.props.data||{};this.setState({iconCurrent:e.iconDefault,activityLink:e.activityLink})},l.prototype.componentWillReceiveProps=function(e){e=e.data||{};this.setState({iconCurrent:e.iconDefault,activityLink:e.activityLink})},l.prototype.renderLinkTag=function(){var e=this.props.data.textDefault;return n.a.createElement(n.a.Fragment,{__source:{fileName:c,lineNumber:55},__self:this},n.a.createElement("img",{src:this.state.iconCurrent,className:"ActivityEnter-img",onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave,onClick:this.onClick,__source:{fileName:c,lineNumber:56},__self:this}),n.a.createElement("label",{className:"ActivityEnter-title",__source:{fileName:c,lineNumber:60},__self:this},""+e))},l.prototype.render=function(){return n.a.createElement("div",{__source:{fileName:c,lineNumber:67},__self:this},this.state.iconCurrent?this.renderLinkTag():"")},l),o=function(a){return f(o,l=n.a.Component),o.prototype.render=function(){return n.a.createElement(p,r({},this.props,{onClick:this.onClick,__source:{fileName:c,lineNumber:85},__self:this}))},o;function o(){var e,t;s(this,o);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=u(this,l.call.apply(l,[this].concat(n))),t.onClick=function(e){t.props&&t.props.onClick&&t.props.onClick(),a.call(t,e)},u(t,e)}var l};function l(){var e,i;s(this,l);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=i=u(this,a.call.apply(a,[this].concat(n))),i.state={iconCurrent:"",activityLink:""},i.mouseEnter=function(){var e=i.props.data;i.setState({iconCurrent:e.iconHover||e.iconDefault})},i.mouseLeave=function(){var e=i.props.data;i.setState({iconCurrent:e.iconDefault})},i.onClick=function(e){var t=i.props.onClick;t&&t(e)},u(i,e)}},ba0ef0:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/sszj-icon_cde1f4e.png"},ba1ec2:function(e,t,i){},ba2134:function(e,t,i){e.exports=i("5f575e")("cd77b")},ba7664:function(e,t,i){e.exports=i("5f575e")("ca228")},ba76f7:function(e,t,i){e.exports=i("5f575e")("f95f9")},ba8820:function(e,t,i){},bc0835:function(e,t,i){},bc6a90:function(e,t,i){"use strict";var s,n=i("97a1f0"),r=i("7ca7dc"),a=i("620522");function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,c,f,p,m,d,n=(r=(0,r.default.Store)(),o(b,d=n.Service),b.prototype.showGameWin=function(){this.store.dispatch(a.default.showGameWin())},b.prototype.hideGameWin=function(){this.store.dispatch(a.default.hideGameWin())},b.prototype.getGameInfoEpics=function(e){this.store.dispatch(a.default.getGameInfo(e))},b.prototype.getAnchorListEpics=function(e){this.store.dispatch(a.default.getAnchorList(e))},b.prototype.getPrizeStatusEpics=function(e){this.store.dispatch(a.default.getPrizeStatus(e))},b.prototype.anchorSubscribeEpics=function(e){this.store.dispatch(a.default.anchorSubscribe(e))},b.prototype.getPrizeEpics=function(e){this.store.dispatch(a.default.getPrize(e))},b.prototype.closeMessageDialog=function(e){this.store.dispatch(a.default.receiveGameInfo(e))},b.prototype.closePrizeDialog=function(e){this.store.dispatch(a.default.receiveGameInfo(e))},b.prototype.checkAccountStatusEpics=function(e){this.store.dispatch(a.default.checkAccountStatus(e))},b.prototype.bindBeforeCheckEpics=function(e){this.store.dispatch(a.default.bindBeforeCheck(e))},b.prototype.updateGameInfo=function(e){this.store.dispatch(a.default.receiveGameInfo(e))},l=(n=b).prototype,c="store",r=[r],f={enumerable:!0,initializer:null},m={},Object.keys(f).forEach(function(e){m[e]=f[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=r.slice().reverse().reduce(function(e,t){return t(l,c,e)||e},m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,c,m),m=null),s=m,n);function b(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,d.call.apply(d,[this].concat(l))),n="store",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),u(t,e)}t.default=n},bc8205:function(e,t,i){},bdc7b0:function(e,t,i){"use strict";var n=i("77f22b"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={dialogShow:!1,roomUrlMap:{288016:"https://img1.famulei.com/active/livedata/index.html?liveID=4&douyu",424559:"https://img1.famulei.com/active/livedata/index.html?liveID=5&douyu",673305:"https://img1.famulei.com/active/livedata/index.html?liveID=6&douyu",664810:"https://img1.famulei.com/active/livedata/index.html?liveID=7&douyu",673327:"https://img1.famulei.com/active/livedata/index.html?liveID=8&douyu"}};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a;switch(arguments[1].type){case n.LOLFAMILY_CHANGE_DIALOG_SHOW:return r({},e,{dialogShow:!e.dialogShow});case n.LOLFAMILY_CLOSE_DIALOG_SHOW:return r({},e,{dialogShow:!1});default:return e}}},bddd98:function(e,t,i){e.exports=i("5f575e")("f4707")},be1884:function(e,t,i){},be349d:function(e,t,i){"use strict";var a,n=i("1a22b7"),r=i.n(n),o=i("7ca7dc"),n=i("eb3e22"),l=(i("4e9996"),"/shark/live/src/pages/roomPage/toolbarModule/business/rightArea/CrystalEntrance/components/CrystalEntry.js");function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var s,u,f,p,m,d,b="CrystalEntryNewDot",n=(o=(0,o.default.Service)(n.DataCenter.localStorage),c(h,d=r.a.Component),h.prototype.componentDidMount=function(){this.localStorage.get(b)||this.setState({isNewShow:!0})},h.prototype.render=function(){var e=this,t=this.state.isNewShow;return r.a.createElement("div",{className:"CrystalEntry",onClick:function(){return e.clickIcon()},__source:{fileName:l,lineNumber:47},__self:this},r.a.createElement("div",{className:"CrystalEntry-txt",__source:{fileName:l,lineNumber:47},__self:this},"水晶工厂"),t?r.a.createElement("span",{className:"CrystalEntry-newDot",__source:{fileName:l,lineNumber:49},__self:this}):null)},s=(n=h).prototype,u="localStorage",o=[o],f={enumerable:!0,initializer:null},m={},Object.keys(f).forEach(function(e){m[e]=f[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=o.slice().reverse().reduce(function(e,t){return t(s,u,e)||e},m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(s,u,m),m=null),a=m,n);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,d.call(this,e));return i="localStorage",n=t=r,(e=a)&&Object.defineProperty(t,i,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(n):void 0}),r.clickIcon=function(){var e=r.props.openCrystal;r.localStorage.get(b)||(r.localStorage.set(b,1),r.setState({isNewShow:!1})),e(0)},r.state={isNewShow:!1},r}t.default=n},bf586c:function(e,t,i){"use strict";i.d(t,"actions",function(){return r});var n=i("193899"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n=Object(n.createSlice)({name:"BATCHGIVEDATA",initialState:{bizlist:[]},extraReducers:{},reducers:{updateList:function(e,t){t=t.payload;e.bizlist=t.bizlist||[]}}}),r=i({},n.actions);t.default={batchGiveData:n.reducer}},c05db5:function(e,t,i){"use strict";i=i("be349d");t.default=i.default},c0c351:function(e,t,i){"use strict";i.d(t,"default",function(){return v});var a,o,n=i("1a22b7"),r=i.n(n),l=i("7ca7dc"),c=i("97a1f0"),t=i("eb3e22"),n=i("54992a"),s=i("16358b"),u=i("a8024b");function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function d(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}i("031840");var b,h=i("cd755b"),v=(t=(0,l.default.Service)(t.DataCenter.common),c=Object(c.Inject)("live.playerDialogModule.PropsMallService"),Object(n.log)((m(_,b=r.a.PureComponent),_.prototype.componentDidMount=function(){this.common.get("$ROLE_BARRAGE_SWITCH").subscribe(function(e){e=e.propMallInfo;e&&1===e.isShowPropMall&&s.default.toolbarActivityShow("Game_mall")})},_.prototype.render=function(){return r.a.createElement(u.default,{baseUrl:h,des:"主播商城",leftColor:"#ff6a00",rightColor:"#fe4925",onClick:this.handleClick,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/PropsMall/index.js",lineNumber:37},__self:this})},a=d((n=_).prototype,"common",[t],{enumerable:!0,initializer:null}),o=d(n.prototype,"propsMallServices",[c],{enumerable:!0,initializer:null}),n=n))||n);function _(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=p(this,b.call.apply(b,[this].concat(n))),f(t,"common",a,t),f(t,"propsMallServices",o,t),t.handleClick=function(){t.propsMallServices.showMallDialog({from:1}).subscribe()},p(t,e)}},c0cbad:function(e,t,i){"use strict";i.d(t,"default",function(){return h});var a,o,n=i("1a22b7"),r=i.n(n),l=i("7ca7dc"),t=i("eb3e22"),c=i("16358b"),n=i("3cbf2b"),s=i("a8024b");function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function m(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var d,b=i("26c5d2"),l=l.default.Service,h=(t=l(t.DataCenter.common),l=l(n.default),p(v,d=r.a.PureComponent),v.prototype.componentDidMount=function(){c.default.toolbarActivityShow("VPGame")},v.prototype.render=function(){return r.a.createElement(s.default,{baseUrl:b,des:"游戏赛事",leftColor:"#23C3FF",rightColor:"#2428CE",onClick:this.handleClick,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/VPGame/index.js",lineNumber:35},__self:this})},a=m((n=v).prototype,"common",[t],{enumerable:!0,initializer:null}),o=m(n.prototype,"vpGameServices",[l],{enumerable:!0,initializer:null}),n);function v(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=f(this,d.call.apply(d,[this].concat(n))),u(t,"common",a,t),u(t,"vpGameServices",o,t),t.handleClick=function(){t.vpGameServices.toggleDialogVisible()},f(t,e)}},c1110e:function(e,t,i){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r={event_id:1,type:1};t.default={dysConfig:{sign:n({action_code:"110100215002"},r),activeRank:n({action_code:"110100215003"},r),signRank:n({action_code:"110100215004"},r),openTreasure:n({action_code:"110100215005"},r),goBarrage:n({action_code:"110100215006"},r),feedShark:n({action_code:"110100215007"},r),goFh:n({action_code:"110100215008"},r),goApp:n({action_code:"110100215009"},r)}}},c14657:function(e,t,i){"use strict";i=i("1939b0");t.default=i.default},c16eda:function(e,t,i){},c1f21f:function(e,t,i){"use strict";var n,r,a=i("1a22b7"),o=i.n(a),l=i("97a1f0"),c=i("7ca7dc"),s=i("eb3e22"),a=i("e854a7"),u=i("f489b9"),f=i("ad435c"),p=i("ba2134"),m=(i("1345d6"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/ChengbaoGiftBanner/ChengbaoGiftBanner.js");function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var v,_=a.default.socketStream,a=c.default.Service,c=(c=Object(l.ErrorHandler)(o.a.createElement("div",{__source:{fileName:m,lineNumber:18},__self:void 0})),l=a(s.DataCenter.global),a=a(s.DataCenter.common),c((b(g,v=o.a.Component),g.prototype.componentDidMount=function(){_.subscribe(u.default.chengbao_ball_status,this.tcpMsgHandler),this.getConfig()},g.prototype.componentWillUnmount=function(){},g.prototype.getConfig=function(){var n=this;this.common.get("$DATA").subscribe(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).room,t=(e=void 0===e?{}:e).cate2_id,i=e.room_id;20==+e.cate1_id&&s.httpClient.get(String,"/audiosocial/castle/v1.0/home/getCastleHomeInfo",{rid:i,cid2:t},{noCache:!1}).subscribe(function(e){var t=e.data,i=void 0===t?{}:t,t=e.error,e=!1;(i=i&&("string"==typeof i?JSON.parse(i):i))&&0==+t&&(e=1===i.activityStatus,i.bannerInfo&&i.bannerInfo.giftIdList&&(i.bannerInfo.giftIdList=i.bannerInfo.giftIdList.split(",")),n.setState({url:i.url,bannerInfo:i.bannerInfo,ISopen:e}))})})},g.prototype.render=function(){var e=this.state,t=e.ISopen,e=e.bannerInfo;return t&&this.checkIsChengBaoGift()?o.a.createElement("div",{className:"ChengbaoGiftBanner",onClick:this.clickHandle,__source:{fileName:m,lineNumber:81},__self:this},o.a.createElement("div",{className:"ChengbaoGiftBanner-head",__source:{fileName:m,lineNumber:83},__self:this}),o.a.createElement("div",{className:"ChengbaoGiftBanner-go",__source:{fileName:m,lineNumber:84},__self:this}),o.a.createElement("label",{className:"ChengbaoGiftBanner-golabel",__source:{fileName:m,lineNumber:85},__self:this},"活动主页"),o.a.createElement("label",{className:"ChengbaoGiftBanner-godes",__source:{fileName:m,lineNumber:86},__self:this},e.bannerDesc+"!")):null},g.prototype.tcpMsgHandler=function(e){2==+e.status&&this.setState({ISopen:!1})},g.prototype.checkIsChengBaoGift=function(){var e=this.props.giftId,t=this.state.bannerInfo;if(!t||!t.giftIdList||0===t.giftIdList.length)return!1;for(var i=0;i<t.giftIdList.length;i++)if(t.giftIdList[i]&&+t.giftIdList[i]===e)return!0;return!1},n=h((c=g).prototype,"global",[l],{enumerable:!0,initializer:null}),r=h(c.prototype,"common",[a],{enumerable:!0,initializer:null}),c=c))||c);function g(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,v.call(this));return d(t,"global",n,t),d(t,"common",r,t),t.clickHandle=function(){var e=t.state.url;f.default.push(p.whPushKey,{type:p.whPushEnums.SHOW_CHENGBAO_PK_DIALOG,data:{url:e}})},t.state={url:"",bannerInfo:null,ISopen:!1},t}t.default=c},c26963:function(e,t,i){e.exports=i("5f575e")("0cccf")},c2a11b:function(e,t,i){"use strict";var n,r,a,o=i("7ca7dc"),l=(i("97a1f0"),i("722b8a")),s=i("f68984"),u=i("b00678"),f=(i("2f135c"),i("643726")),p=i("ffca33"),m=i("fd72a5"),c=i("4b2b18"),d=i("0963d0"),i=i("ec27d1"),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var o=o.default.Service,_=[1,6,66,666,6666],i=(c=o(c.default),d=o(d.default),o=o(i.default),g.prototype.getRoomLevelSwitch=function(e){return e.ofType(m.ROOM_LEVEL_DETAIL_GET_SWITCH).pipe(Object(u.switchMap)(f.default),Object(u.switchMap)(function(e){e=e.data;return Object(p.default)({url:"/roomapi/biz/getSwitch",data:{rid:e.get("room.room_id")},abnormal:"系统繁忙",errorTip:!0})}),Object(s.map)(function(e){var t=e.data,i=void 0;try{i=JSON.parse(t)}catch(e){i={}}t=i,i=t.roomUserLevel,t=t.alert,i=(void 0===i?{}:i).switch;return m.default.setReducerData({hasAuthority:Boolean(void 0!==i&&i),alertInfo:t})}))},g.prototype.getRoomLevelInfo=function(e){var c=this;return e.ofType(m.ROOM_LEVEL_DETAIL_GET_INFO).pipe(Object(u.switchMap)(f.default),Object(u.switchMap)(function(e){e=e.data;return Object(p.default)({url:"/japi/roomuserlevel/apinc/levelInfo",data:{rid:e.get("room.room_id"),clientType:0},abnormal:"系统繁忙",errorTip:!0,noCache:!0})}),Object(s.map)(function(e){var t=e.data,i=void 0;try{i=JSON.parse(t)}catch(e){i={}}c.roomLevelDetailServices.checkSignStatus(i.signInInfo);var n=i,r=n.levelInfo,a=n.treasure,o=n.watchTask,l=n.clientWatchTask,t=n.watchTime,n=n.clientWatchTime,r=(void 0===r?{}:r).current,a=(void 0===a?{}:a).status;return m.default.setReducerData(b({},i,{userRoomLevel:void 0===r?0:r,treasureActive:void 0===a?0:a,watchTaskDetail:{watchTask:void 0===o?[]:o,clientWatchTask:void 0===l?[]:l,watchTime:void 0===t?0:t,clientWatchTime:void 0===n?0:n}}))}))},g.prototype.getRankInfo=function(e){return e.ofType(m.ROOM_LEVEL_DETAIL_GET_RANK_INFO).pipe(Object(u.switchMap)(f.default),Object(u.switchMap)(function(e){e=e.data;return Object(p.default)({url:"https://rank.douyucdn.cn/room/rank/roomUserLevel/roomInfo",data:{rid:e.get("room.room_id")},abnormal:"系统繁忙",errorTip:!0})}),Object(s.map)(function(e){var t=e.data,i=void 0;try{i=JSON.parse(t)}catch(e){i={}}var n=i,t=n.score,i=n.rank,n=n.timestamp;return m.default.setReducerData({rankInfo:{score:+t,rank:0==+i?"99+":i.toString(),hour:new Date(1e3*n).getHours()}})}))},g.prototype.sendRoomLevelSign=function(e){var r=this;return e.ofType(m.ROOM_LEVEL_DETAIL_SEND_SIGN).pipe(Object(u.switchMap)(f.default),Object(u.switchMap)(function(e){e=e.data;return Object(p.default)({url:"/japi/roomuserlevel/apinc/checkIn",type:"post",errorTip:!0,contentType:"form",data:{rid:e.get("room.room_id")}})}),Object(s.map)(function(e){var t=e.error,i=e.msg,n=e.data;if(0!=+t)return l.default.info(void 0===i?"系统繁忙":i),r.roomLevelDetailServices.setChecking(2),m.default.defaultAction();t=void 0;try{t=JSON.parse(n)}catch(e){t={}}i={done:1,last_days:t.last_days,signed_exp_add:t.exp_add||0},n={current:t.current,exp_distance:t.exp_distance,upgrade_need_exp:t.upgrade_need_exp};return r.roomLevelDetailServices.changeSignStatus(),t.toast&&(r.speedRankServices.setData({isSigned:!0,signRank:t.rank||0,rankDialogVisible:!0}),-1!==_.indexOf(+t.rank)&&r.barrageServices.sendBarrage({content:"我是今天直播间签到第"+t.rank+"名，给我点个赞吧~"})),r.roomLevelDetailServices.setChecking(2),m.default.setReducerData({signInInfo:i,levelInfo:n,userRoomLevel:t.current,isShowTransition:0<t.exp_add})}))},g.prototype.getServerTime=function(e){return e.ofType(m.ROOM_LEVEL_DETAIL_GET_SIGN_DETAIL).pipe(Object(u.switchMap)(f.default),Object(u.switchMap)(function(e){var t=e.data,e=e.payload;return Object(p.default)({url:"/japi/roomuserlevel/apinc/checkInDetail",data:{rid:t.get("room.room_id"),month:e},errorTip:!0,noCache:!0})}),Object(s.map)(function(e){e=e.data;return m.default.receiveSignDetail(e)}))},g.prototype.getSignDetail=function(e){var n=this;return e.ofType(m.ROOM_LEVEL_DETAIL_GET_TIME).pipe(Object(u.switchMap)(function(){return Object(p.default)({url:"/lapi/member/ticker",errorTip:!0})}),Object(s.map)(function(e){var t=e.time,i=new Date(t),e=i.getFullYear(),t=i.getMonth()+1,i=i.getDate();return n.roomLevelDetailServices.getSignDetail({year:e,month:t}),m.default.setReducerData({syear:e,smonth:t,sday:i})}))},g.prototype.getAllPrize=function(e){var i=this;return e.ofType(m.ROOM_LEVEL_DETAIL_OPEN_TREASURE).pipe(Object(u.switchMap)(f.default),Object(u.switchMap)(function(e){e=e.data;return Object(p.default)({url:"/japi/roomuserlevel/apinc/getPrize",noCache:!0,type:"post",contentType:"form",data:{rid:e.get("room.room_id")},csrf:!0})}),Object(s.map)(function(e){var t=e.error,e=e.msg;return 0===parseInt(t,10)?(l.default.info(e||"领取成功"),i.roomLevelDetailServices.setReducerData({treasureActive:2,treasure:{status:2}})):l.default.info(e||"领取失败, 请稍后再试"),m.default.defaultAction()}))},g.prototype.getUserActivePoint=function(e){var r=this;return e.ofType(m.ROOM_LEVEL_DETAIL_USER_ACTIVE_POINT).pipe(Object(u.switchMap)(f.default),Object(u.switchMap)(function(e){e=e.data;return Object(p.default)({url:"/japi/roomuserlevel/apinc/myWeekExpAddInfo",noCache:!0,data:{rid:e.get("room.room_id")},csrf:!1})}),Object(s.map)(function(e){var t=e.error,i=e.data,n=e.msg,n=void 0===n?"活动过于火爆, 请稍后再试":n;if(0===parseInt(t,10)){t=void 0;try{t=JSON.parse(i)}catch(e){t={}}r.roomLevelDetailServices.setReducerData({userActivePoint:t})}else l.default.info(n);return m.default.defaultAction()}))},g.prototype.getActiveRank=function(e){var a=this;return e.ofType(m.ROOM_LEVEL_DETAIL_ACTIVE_RANK).pipe(Object(u.switchMap)(f.default),Object(u.switchMap)(function(e){e=e.data;return Object(p.default)({url:"/japi/roomuserlevel/api/weekExpAddRank",noCache:!0,data:{rid:e.get("room.room_id")},csrf:!1})}),Object(s.map)(function(e){var t=e.error,i=e.data,n=e.msg,r=void 0===n?"活动过于火爆, 请稍后再试":n;if(0===parseInt(t,10)){n=void 0;try{n=JSON.parse(i)}catch(e){n={}}t=n,i=t.startTime,t=t.endTime;a.roomLevelDetailServices.setReducerData({activeRankList:n.rankList||[],statisticTime:{startTime:void 0===i?"":i,endTime:void 0===t?"":t}})}else l.default.info(r);return m.default.defaultAction()}))},n=v((i=g).prototype,"roomLevelDetailServices",[c],{enumerable:!0,initializer:null}),r=v(i.prototype,"speedRankServices",[d],{enumerable:!0,initializer:null}),a=v(i.prototype,"barrageServices",[o],{enumerable:!0,initializer:null}),i);function g(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),h(this,"roomLevelDetailServices",n,this),h(this,"speedRankServices",r,this),h(this,"barrageServices",a,this)}t.default=i},c38e30:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/ydzy-icon_eb95ecd.png"},c3b49b:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/hpjysszj-icon_c8d1d4d.png"},c3e050:function(e,t,i){},c3e639:function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=(i("ae84ab"),i("7ba921")),o="/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/util/Switchelement/CrystalIntro.js";function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,i=(l(s,c=r.a.Component),s.prototype.componentDidMount=function(){},s.prototype.render=function(){var e=this.props,t=e.myScore,i=e.openCrystal;return r.a.createElement("div",{className:"RomanticDate-headerCrystal",__source:{fileName:o,lineNumber:21},__self:this},r.a.createElement("div",{className:"RomanticDate-headerCrystalIcon",onClick:function(){return i(0)},__source:{fileName:o,lineNumber:22},__self:this},r.a.createElement("spane",{className:"RomanticDate-TitleCrystalTxt",__source:{fileName:o,lineNumber:22},__self:this},"水晶工厂")),r.a.createElement("span",{className:"RomanticDate-headerCrystalTxt",__source:{fileName:o,lineNumber:23},__self:this},"我的水晶：",r.a.createElement("span",{className:"RomanticDate-headerCrystalTxtScore",__source:{fileName:o,lineNumber:23},__self:this},Object(a.formatCrystalNum)(t)),"(使用水晶参与告白,兑换水晶"),r.a.createElement("div",{className:"RomanticDate-headerCrystalJiantou",onClick:function(){return i(1)},__source:{fileName:o,lineNumber:24},__self:this}),r.a.createElement("span",{className:"RomanticDate-headerCrystalTxt",__source:{fileName:o,lineNumber:25},__self:this},")"))},s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,c.apply(this,arguments))}t.default=i},c42e42:function(e,t,i){e.exports=i("5f575e")("5b782")},c44070:function(e,t,i){"use strict";var a,o,l,c,n=i("1a22b7"),s=i.n(n),u=i("ed7240"),r=i("7ca7dc"),f=i("447d8e"),p=i("eb3e22"),m=(i("22e3b7"),i("5b9730")),n=i("20ec0b"),d="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/RechargeSuccess.js";function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function _(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var g,i=r.default.Store,r=r.default.Service,n=(i=i(),p=r(p.DataCenter.global),m=r(m.default),r=r(n.default),v(y,g=s.a.Component),y.prototype.componentWillReceiveProps=function(e){var t=e.lastGiftInfo,i=e.rechargeVisible,n=e.rechargeInfo,e=e.showYCLowInfo;this.setState({lastGiftInfo:t,rechargeVisible:i,rechargeInfo:n,showYCLowInfo:e})},y.prototype.render=function(){var e=this,t=this.state,i=t.lastGiftInfo,n=t.rechargeVisible,r=t.rechargeInfo,a=t.showYCLowInfo,o=[s.a.createElement("button",{className:"dy-btn",key:"ok",onClick:this.ok,__source:{fileName:d,lineNumber:59},__self:this},"立即赠送")],t=i.isShortGold,r=+r.rm/100,a=+a.pc/100;return s.a.createElement("div",{__source:{fileName:d,lineNumber:69},__self:this},t&&a<=r?s.a.createElement(u.default,{title:"充值成功",visible:n,center:!0,width:395,wrapClassName:"RechargeSuccess",onOk:this.ok,onCancel:function(){e.cancel()},footer:o,__source:{fileName:d,lineNumber:72},__self:this},s.a.createElement("div",{className:"RechargeSuccess-content",__source:{fileName:d,lineNumber:86},__self:this},s.a.createElement("div",{className:"RechargeSuccess-mainTitle",__source:{fileName:d,lineNumber:87},__self:this},"恭喜成功充值",s.a.createElement("span",{className:"RechargeSuccess-mainTitle--sp",__source:{fileName:d,lineNumber:88},__self:this},r,"鱼翅")),s.a.createElement("div",{className:"RechargeSuccess-mainContent",__source:{fileName:d,lineNumber:90},__self:this},s.a.createElement("div",{className:"RechargeSuccess-giftIcon",__source:{fileName:d,lineNumber:91},__self:this},s.a.createElement("img",{src:i.willSendGift,__source:{fileName:d,lineNumber:92},__self:this})),s.a.createElement("div",{className:"RechargeSuccess-giftTxt",__source:{fileName:d,lineNumber:94},__self:this},"点击按钮消费",s.a.createElement("span",{className:"RechargeSuccess-tipsNums--sp",__source:{fileName:d,lineNumber:95},__self:this},a,"鱼翅"),"赠送",s.a.createElement("span",{className:"RechargeSuccess-tipsNums--sp",__source:{fileName:d,lineNumber:96},__self:this},"“",i.willSendGiftName,"”×",i.willSendGiftNum))))):s.a.createElement(u.default,{title:"充值成功",visible:n,center:!0,width:390,wrapClassName:"RechargeSuccess",onOk:this.ok,onCancel:function(){e.cancel()},footer:[],__source:{fileName:d,lineNumber:101},__self:this},s.a.createElement("div",{className:"RechargeSuccess-content",__source:{fileName:d,lineNumber:115},__self:this},s.a.createElement("div",{className:"RechargeSuccess-mainTitle",__source:{fileName:d,lineNumber:116},__self:this},"恭喜成功充值",s.a.createElement("span",{className:"RechargeSuccess-mainTitle--sp",__source:{fileName:d,lineNumber:117},__self:this},r,"鱼翅")))))},a=_((n=y).prototype,"store",[i],{enumerable:!0,initializer:null}),o=_(n.prototype,"global",[p],{enumerable:!0,initializer:null}),l=_(n.prototype,"giftService",[m],{enumerable:!0,initializer:null}),c=_(n.prototype,"giftSendServices",[r],{enumerable:!0,initializer:null}),n);function y(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=h(this,g.call.apply(g,[this].concat(n))),b(t,"store",a,t),b(t,"global",o,t),b(t,"giftService",l,t),b(t,"giftSendServices",c,t),t.state={rechargeVisible:!1,lastGiftInfo:{},rechargeInfo:{},showYCLowInfo:{}},t.ok=function(){var e=t.state.lastGiftInfo;t.giftSendServices.sendGift(e.giftId,e.willSendGiftNum),t.setState({rechargeVisible:!1}),t.giftService.closeRechargeModal()},t.cancel=function(){t.setState({rechargeVisible:!1}),t.giftService.closeRechargeModal()},h(t,e)}t.default=Object(f.connect)(function(e){return{lastGiftInfo:e.giftData.lastGiftInfo,rechargeVisible:e.giftData.rechargeVisible,rechargeInfo:e.giftData.rechargeInfo,showYCLowInfo:e.giftData.showYCLowInfo}})(n)},c47d76:function(e,t,i){e.exports=i("5f575e")("3858c")},c48e82:function(e,t,i){"use strict";var u,n=i("1a22b7"),f=i.n(n),r=i("447d8e"),n=i("7ca7dc"),a=(i("8a999b"),i("f2b8b7")),i=i("0f5fdd"),p="/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/IntroductionPanel/IntroductionPanel.js";function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,c,s,d,b,h,i=(n=(0,n.default.Service)(i.default),o(v,h=f.a.Component),v.prototype.componentDidMount=function(){this.romanticDateServices.romanticDysub("ruleExposure")},v.prototype.render=function(){var e=this.props,t=e.dataSource,i=e.showSwitchModel,e=e.crystalIntro;return f.a.createElement("div",{className:"IntroductionPanel",__source:{fileName:p,lineNumber:27},__self:this},f.a.createElement("div",{className:"IntroductionPanel-header",__source:{fileName:p,lineNumber:28},__self:this},"玩法说明"),f.a.createElement("div",{className:"IntroductionPanel-content",__source:{fileName:p,lineNumber:29},__self:this},f.a.createElement(a.Scrollbars,{style:{width:"100%",height:"100%"},renderTrackHorizontal:this.renderTrackHorizontal,renderThumbVertical:this.renderThumb,__source:{fileName:p,lineNumber:30},__self:this},f.a.createElement("img",{src:i?e:t,__source:{fileName:p,lineNumber:35},__self:this}))))},l=(i=v).prototype,c="romanticDateServices",n=[n],s={enumerable:!0,initializer:null},b={},Object.keys(s).forEach(function(e){b[e]=s[e]}),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=n.slice().reverse().reduce(function(e,t){return t(l,c,e)||e},b),d&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(d):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(l,c,b),b=null),u=b,i);function v(){var e,t,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var n,r,a,o,l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return e=t=m(this,h.call.apply(h,[this].concat(c))),r="romanticDateServices",o=n=t,(a=u)&&Object.defineProperty(n,r,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(o):void 0}),t.renderTrackHorizontal=function(){return f.a.createElement("div",{style:{display:"none"},__source:{fileName:p,lineNumber:16},__self:i})},t.renderThumb=function(){return f.a.createElement("div",{style:{backgroundColor:"#FFAE00",borderRadius:"6px"},__source:{fileName:p,lineNumber:17},__self:i})},m(t,e)}t.default=Object(r.connect)(function(e){var t=e.romanticDateExtraData,t=(t=void 0===t?{}:t).showSwitchModel,e=e.crystalFactoryData,e=(e=void 0===e?{}:e).config;return{showSwitchModel:void 0===t?0:t,crystalIntro:(void 0===e?{}:e).webDateImg}})(i)},c508aa:function(e,t,i){"use strict";var n,r,a=i("1a22b7"),o=i.n(a),l=i("97a1f0"),c=i("eb3e22"),s=i("ad435c"),u=i("ba2134"),f=i("811d6e"),p=i("e3b930"),a=(i("7d6630"),i("7941b5")),m=i.n(a),d="/shark/live/src/pages/roomPage/toolbarModule/business/leftArea/PartyEntrance/components/PartyEntrance.js";function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var _,g="PartyEntryNewDot",f=(c=Object(l.Inject)(c.DataCenter.localStorage),l=Object(l.Inject)(f.default),h(y,_=o.a.Component),y.prototype.componentDidMount=function(){var r=this;this.localStorage.get(g)||this.setState({isNewShow:!0}),this.partyEntranceSub=this.partyEntranceService.getSubscribe().subscribe(function(e){var t=e.type,i=e.entranceStyleSwitch,n=e.iconUrl,e=e.actName;2==+t&&r.setState({partyStyleSwitch:1==+(void 0===i?2:i),iconUrl:n,actName:e})}),this.partyEntranceService.getData()},y.prototype.componentWillUnmount=function(){this.partyEntranceSub&&this.partyEntranceSub.unsubscribe&&this.partyEntranceSub.unsubscribe()},y.prototype.render=function(){var e=this.props.isAnchor,t=this.state,i=t.partyStyleSwitch,n=t.iconUrl,r=t.actName,t=this.state.isNewShow;return o.a.createElement("div",{className:"PartyEntry",onClick:this.invokeMsg,__source:{fileName:d,lineNumber:91},__self:this},o.a.createElement("img",{className:"PartyEntry-imgStyle",src:i&&n||m.a,alt:"",onError:this.handleImgError,__source:{fileName:d,lineNumber:92},__self:this}),i?o.a.createElement(p.default,{wrapClassName:"PartyEntry-txtAnimation",wrapId:"PartyEntryWrap",contentId:"PartyEntryContent",txtName:r||"派对来啦",__source:{fileName:d,lineNumber:94},__self:this}):o.a.createElement("div",{className:"PartyEntry-txt",__source:{fileName:d,lineNumber:93},__self:this},"派对来啦"),t?o.a.createElement("span",{className:e?"PartyEntry-newIcon":"PartyEntry-newDot",__source:{fileName:d,lineNumber:99},__self:this}):null)},n=v((f=y).prototype,"localStorage",[c],{enumerable:!0,initializer:null}),r=v(f.prototype,"partyEntranceService",[l],{enumerable:!0,initializer:null}),f);function y(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,_.call(this,e));return b(t,"localStorage",n,t),b(t,"partyEntranceService",r,t),t.invokeMsg=function(){t.localStorage.get(g)||(t.localStorage.set(g,1),t.setState({isNewShow:!1})),s.default.push(u.whPushKey,{type:u.whPushEnums.SHOW_PARTY_DIALOG,data:{}})},t.handleImgError=function(e){e=e.target;e.onerror=null,e.src=m.a},t.state={isNewShow:!1},t.partyEntranceSub=null,t}t.default=f},c63fd7:function(e,t,i){},c6a807:function(e,t,i){e.exports=i("5f575e")("4c70d")},c6af07:function(e,t,i){"use strict";var o,l,c,s,n=i("1a22b7"),u=i.n(n),r=i("7ca7dc"),a=i("fc7947"),f=i.n(a),p=i("447d8e"),m=i("54992a"),d=i("eb3e22"),b=i("e854a7"),h=i("b067ea"),n=i("76b1ae"),a=i("d1c18e"),v=(i("adb7b7"),"/shark/live/src/pages/roomPage/toolbarModule/business/rightArea/FishballTreasure/FishballTreasure.js");function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function N(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var w,r=r.default.Service,O=b.default.socketStream,m=(d=r(d.DataCenter.global),a=r(a.default),n=r(n.default),h=r(h.default),Object(m.log)((y(S,w=u.a.Component),S.prototype.componentDidMount=function(){var e=this;this.props.isFirstLoad&&(this.fishballTreasureService.setData({isFirstLoad:0}),this.fishballTreasureService.checkFishBallEntry(),this.configEffectBroadcastServices.register("silver_wheel_lucky",{type:"OPEN_FISH_BALL_PANEL"}),O.subscribe("OPEN_FISH_BALL_PANEL",function(){e.fishballTreasurePaneServices.togglePanel({isPanelShow:!0})}))},S.prototype.render=function(){return u.a.createElement("div",{className:"FishballTreasure",onClick:this.showFiashBallTreasure,__source:{fileName:v,lineNumber:76},__self:this},u.a.createElement("div",{className:"name",__source:{fileName:v,lineNumber:77},__self:this},"鱼丸夺宝"),this.renderFBTreasureTip())},o=N((m=S).prototype,"global",[d],{enumerable:!0,initializer:null}),l=N(m.prototype,"fishballTreasureService",[a],{enumerable:!0,initializer:null}),c=N(m.prototype,"fishballTreasurePaneServices",[n],{enumerable:!0,initializer:null}),s=N(m.prototype,"configEffectBroadcastServices",[h],{enumerable:!0,initializer:null}),m=m))||m);function S(){var e,i,n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S);for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=i=g(this,w.call.apply(w,[this].concat(r))),_(i,"global",o,i),_(i,"fishballTreasureService",l,i),_(i,"fishballTreasurePaneServices",c,i),_(i,"configEffectBroadcastServices",s,i),i.showFiashBallTreasure=function(){f.a.check()?i.fishballTreasurePaneServices.togglePanel({isPanelShow:!0}):f.a.show(),i.fishballTreasureService.setData({showRoomGuild:0})},i.renderFBTreasureTip=function(){var e=i.props,t=e.showRoomGuild,e=e.roomGuideIntro;return t?u.a.createElement("div",{className:"showFBTreasureTip",__source:{fileName:v,lineNumber:58},__self:n},u.a.createElement("i",{className:"tip-arrow",__source:{fileName:v,lineNumber:59},__self:n}),u.a.createElement("i",{className:"close",onClick:function(e){e.stopPropagation(),i.fishballTreasureService.setData({showRoomGuild:0})},__source:{fileName:v,lineNumber:60},__self:n}),u.a.createElement("i",{className:"icon",__source:{fileName:v,lineNumber:67},__self:n}),u.a.createElement("div",{className:"title",__source:{fileName:v,lineNumber:68},__self:n},u.a.createElement("span",{__source:{fileName:v,lineNumber:68},__self:n},"鱼丸夺宝")),u.a.createElement("div",{className:"tip",__source:{fileName:v,lineNumber:69},__self:n},e)):null},g(i,e)}t.default=Object(p.connect)(function(e){e=e.fishballTreasureReducers,e=void 0===e?{}:e;return{isFirstLoad:e.isFirstLoad,showRoomGuild:e.showRoomGuild,roomGuideIntro:e.roomGuideIntro}})(m)},c70448:function(e,t,i){},c731d7:function(e,t,i){e.exports=i("5f575e")("20ae5")},c7fb88:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"GUESS_GET_TOKEN",function(){return a}),i.d(t,"GUESS_RECEIVE_TOKEN",function(){return o}),i.d(t,"GUESS_SET_IFRAME",function(){return l}),i.d(t,"GUESS_SET_TXIFRAME",function(){return c}),i.d(t,"GUESS_TOGGLE_DIALOG",function(){return s}),i.d(t,"SET_GUESS_PRIZE",function(){return u}),i.d(t,"SET_GUESS_TIP",function(){return f}),i.d(t,"SET_GUESS_HOVER",function(){return p}),i.d(t,"SET_GUESS_CORNER",function(){return m}),i.d(t,"SET_CORNER_WENAN",function(){return d}),i.d(t,"USER_IS_LOCKED",function(){return b});var r,a="GUESS_GET_TOKEN",o="GUESS_RECEIVE_TOKEN",l="GUESS_SET_IFRAME",c="GUESS_SET_TXIFRAME",s="GUESS_TOGGLE_DIALOG",u="SET_GUESS_PRIZE",f="SET_GUESS_TIP",p="SET_GUESS_HOVER",m="SET_GUESS_CORNER",d="SET_CORNER_WENAN",b="USER_IS_LOCKED",i=(n(h,r=i("97a1f0").Action),h.getToken=function(e){return{type:a,payload:e}},h.receiveToken=function(e){return{type:o,payload:e}},h.setIframe=function(e){return{type:l,payload:e}},h.setIframe1=function(e){return{type:"HH",payload:e}},h.setTxIframe=function(e){return{type:c,payload:e}},h.toggleDialog=function(e){return{type:s,payload:e}},h.setGuessPrize=function(e){return{type:u,payload:e}},h.setGuessTip=function(e){return{type:f,payload:e}},h.setGuessHover=function(e){return{type:p,payload:e}},h.setGuessCorner=function(e){return{type:m,payload:e}},h.setCornerWenan=function(e){return{type:d,payload:e}},h.userIsLocked=function(){return{type:b}},h);function h(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}t.default=i},c8a786:function(e,t,i){},c92955:function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=(i("6a20aa"),"/shark/live/src/pages/roomPage/toolbarModule/components/NamedFrame/NamedFrame.js");function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,i=(l(s,c=r.a.Component),s.prototype.componentDidMount=function(){var e=this.props.style,t=this.refs.namedFrame;t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.borderColor=e.borderColor,t.style.borderWidth=e.borderWidth},s.prototype.render=function(){var e=this.props,t=(e.name,e.children),e=e.style;return r.a.createElement("div",{className:"NamedFrame",ref:"namedFrame",__source:{fileName:a,lineNumber:21},__self:this},r.a.createElement("img",{src:e.background,ref:"frameBgImg",__source:{fileName:a,lineNumber:22},__self:this}),t)},s);function s(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=o(this,c.call.apply(c,[this].concat(n))),t.onClick=function(){t.props.onClick()},o(t,e)}t.default=i},c92b6b:function(e,t,i){},c95695:function(e,t,i){"use strict";var n,r,a,o,l,c,s,u,f=i("97a1f0"),p=i("eb3e22"),m=i("7ca7dc"),d=i("db47a7"),b=i("189954"),h=i("3c4b90"),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function N(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var w,O=m.default.Store,S=m.default.Service,f=(n=Object(f.Injectable)("live.toolBarModule.GuessIconService"),r=S(p.DataCenter.common),i=S(p.DataCenter.localStorage),m=S(p.DataCenter.global),S=S(p.DataCenter.cookie),p=Object(f.Inject)("live.playerDialogModule.PropsMallService"),O=O(),n((y(E,w=f.Service),E.prototype.getStore=function(e){return this.store.getState()[e]},E.prototype.oppositeStatus=function(){this.store.dispatch(h.default.oppositeStatus())},E.prototype.modifyPanelShow=function(e){this.store.dispatch(h.default.modifyPanelShow(e))},E.prototype.getConfig=function(e){this.store.dispatch(h.default.getConfig(e))},E.prototype.getRoomConfig=function(){var i=this;this.common.get("$DATA").subscribe(function(e){var t=i.getStore("guessIconRoomConfigData");t&&!t.roomConfigStatus&&(t=(e||{}).room||{},i.store.dispatch(h.default.receiveRoomConfig(t)),t.can_send_gift&&+(e=JSON.parse(t.can_send_gift)).credit>+e.stop_gift_credit&&(i.store.dispatch(h.default.getConfig(t)),i.getABTest()))})},E.prototype.getABTest=function(){var t=this;this.propsMallService.fetchABtest("yuyan_test").subscribe(function(e){t.store.dispatch(h.default.setPlanType(e))})},E.prototype.ifShowGuessGameActive=function(e,t){var i=this.localStorage.get("guessGame_activeShowTime")||"",n=Object(b.getFormatDate)(),t=Object(b.getFormatDate)(null,1e3*t+24*e*60*60*1e3);0<+e&&n<t&&i<n&&(this.localStorage.set("guessGame_activeShowTime",n),this.switchGuessGameActive(!0))},E.prototype.switchGuessGameActive=function(e){e?this.store.dispatch(h.default.sendGuessGameActive()):this.store.dispatch(h.default.switchGuessGameActive())},E.prototype.guessGameDYSub=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Object(d.dysub)(e,v({},t))},E.prototype.openGuessGamePanel=function(){this.store.dispatch(h.default.openGuessGamePanel())},E.prototype.closeSmallPanelForToday=function(){this.localStorage.set("guessGameSmallPanelDate",Object(b.getFormatDate)())},E.prototype.isSmallPanelClosed=function(){var e=this.localStorage.get("guessGameSmallPanelDate");return!!e&&Object(b.getFormatDate)()===e},E.prototype.isAnchor=function(){return+this.global.get("USER_INFO.uid")==+this.global.get("$ROOM.owner_uid")},E.prototype.subscribeShowState=function(t){this.common.get("$DATA").subscribe(function(e){t&&t(1==+e.get("room.show_status"))})},a=N((f=E).prototype,"common",[r],{enumerable:!0,initializer:null}),o=N(f.prototype,"localStorage",[i],{enumerable:!0,initializer:null}),l=N(f.prototype,"global",[m],{enumerable:!0,initializer:null}),c=N(f.prototype,"cookie",[S],{enumerable:!0,initializer:null}),s=N(f.prototype,"propsMallService",[p],{enumerable:!0,initializer:null}),u=N(f.prototype,"store",[O],{enumerable:!0,initializer:null}),f=f))||f);function E(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=g(this,w.call.apply(w,[this].concat(n))),_(t,"common",a,t),_(t,"localStorage",o,t),_(t,"global",l,t),_(t,"cookie",c,t),_(t,"propsMallService",s,t),_(t,"store",u,t),g(t,e)}t.default=f},c9618f:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"SUPERWARSHIP_ICON_UPDATE_DATA",function(){return a}),i.d(t,"SuperWarShipIconActions",function(){return o});var r,a="SUPERWARSHIP_ICON_UPDATE_DATA",o=(n(l,r=i("97a1f0").Action),l.updateData=function(e){return{type:a,payload:e}},l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}},c96a5d:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var r,i=(n(a,r=i("97a1f0").Action),a.giftAreaShow=function(){return{type:"toolbar_gift_area_show"}},a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}t.default=i},c99153:function(e,t,i){},c9b26e:function(e,t,i){"use strict";var a,o,n=i("1a22b7"),r=i.n(n),l=i("292183"),c=i.n(l),s=i("7ca7dc"),u=i("54992a"),f=i("eb3e22"),p=i("447d8e"),m=i("db47a7"),n=i("e854a7"),d=i("16358b"),l=i("1592c2"),b=i("a8024b"),h=(i("898fd6"),"/shark/live/src/pages/roomPage/toolbarModule/components/ProjectLiveRewardBtn/ProjectLiveRewardBtn.js");function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function y(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var N,s=s.default.Service,w=i("a91518"),O=n.default.socketStream,S=!1,E=null,u=(l=s(l.default),f=s(f.DataCenter.global),Object(u.log)((g(j,N=r.a.Component),j.prototype.componentDidMount=function(){d.default.toolbarActivityShow("projectLiveReward"),S||(S=!0,this.subscribeTipsContent(),this.getActivityInfo())},j.prototype.subscribeTipsContent=function(){var n=this;O.subscribe("lpl_pushmsg",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.push_type,i=e.client_types,i=void 0===i?"":i,e=e.msg;1===Number(t)&&-1<i.indexOf("0")&&n.showTips({visible:!0,content:e})})},j.prototype.getActivityInfo=function(){var a=this;this.projectLiveRewardService.getActivityTipsInfo().then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=parseInt(+new Date/1e3,10),e=e.find(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.clientTypes,i=void 0===t?[]:t,n=e.showRoomIds,t=void 0===n?[]:n,n=e.start,e=e.end;return-1<i.indexOf(0)&&-1<t.indexOf(a.roomId)&&Number(n)<=r&&r<Number(e)});e&&a.showTips({visible:!0,content:e.msg})})},j.prototype.showTips=function(e){var t=this;E&&(clearTimeout(E),E=null),Object(m.dysub2)({action_code:"13010021R003",event_id:3}),this.projectLiveRewardService.changeActivityTips(e),E=setTimeout(function(){E=null,t.closeTips()},1e4)},j.prototype.closeTips=function(){this.projectLiveRewardService.changeActivityTips({visible:!1,content:""})},j.prototype.render=function(){var e=this.props.activityTipsInfo,t=e.visible,e=e.content,e=void 0===e?"":e;return r.a.createElement("div",{className:"ProjectLive",__source:{fileName:h,lineNumber:163},__self:this},t?r.a.createElement("div",{className:"ProjectLive-tips",onClick:this.handleTipsClick,__source:{fileName:h,lineNumber:166},__self:this},r.a.createElement("span",{className:"ProjectLive-tips-info",__source:{fileName:h,lineNumber:167},__self:this},e.slice(0,15)),r.a.createElement("i",{className:"ProjectLive-tips-close",onClick:this.handleTipsCloseClick,__source:{fileName:h,lineNumber:168},__self:this})):null,r.a.createElement(b.default,{baseUrl:w,des:"LPL官方",leftColor:"#dd2619",rightColor:"#d92216",onClick:this.handleDialogShow,__source:{fileName:h,lineNumber:172},__self:this}))},a=y((u=j).prototype,"projectLiveRewardService",[l],{enumerable:!0,initializer:null}),o=y(u.prototype,"global",[f],{enumerable:!0,initializer:null}),u=u))||u);function j(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=n=_(this,N.call.apply(N,[this].concat(i))),v(n,"projectLiveRewardService",a,n),v(n,"global",o,n),n.roomId=Number(n.global.get("$ROOM.room_id")),n.token=null,n.matchId="",n.state={roomId:n.global.get("$ROOM.room_id"),showDialogTop:!1},n.handleTipsCloseClick=function(e){e.stopPropagation(),n.closeTips()},n.handleTipsClick=function(){var e=n.props.pannelShowStatus;Object(m.dysub2)({action_code:"13010021R003"}),e||n.handleDialogShow(),n.closeTips()},n.handleDialogShow=function(){var e=n.props,t=e.pannelShowStatus,i=e.clickEntry,e={showStatus:!0,pageSource:"vote",displayStatus:0,clickEntry:"toolbarIcon"};t&&"toolbarIcon"===i&&(e.showStatus=!1),n.projectLiveRewardService.handlePanelStatus(e)},_(n,e)}u.propTypes={activityTipsInfo:c.a.object,pannelShowStatus:c.a.bool},t.default=Object(p.connect)(function(e){e=e.projectLiveRewardData,e=void 0===e?{}:e;return{activityTipsInfo:e.activityTipsInfo||{},pannelShowStatus:e.showStatus||!1,pageSource:e.pageSource||"vote",clickEntry:e.clickEntry||"toolbarIcon"}})(u)},caf4d3:function(e,t,i){"use strict";i.r(t),i("528016");var n=i("7ca7dc"),t=i("97a1f0"),i=(i("4e2fa0"),i("65c27f"));(0,Object(t.importObject)("live.utils.configCenter").SetConfigState)(4);var r=new i.default;(window.ToolbarApp=r).push=function(e){return r.registerApp.apply(r,e)},n.default.render(r,document.getElementById("js-player-toolbar"))},cb915e:function(e,t,i){"use strict";i.d(t,"default",function(){return h});var a,n=i("1a22b7"),o=i.n(n),r=i("eb3e22"),t=i("7ca7dc"),l=i("ebd8cf"),n=i("5b9730"),c=(i("093ce1"),"/shark/live/src/pages/roomPage/toolbarModule/components/Toolbar/AvtivitesBar/ActiviesExpendPanel.js");function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var u,f,p,m,d,b,h=(t=(0,t.default.Service)(n.default),s(v,b=o.a.Component),v.prototype.componentDidMount=function(){var t=this;this.unsubscribe=r.DataCenter.event.register(document,"click").subscribe(function(e){t.ref&&!t.ref.contains(e.target)&&t.setState({showPanel:!1})})},v.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe.unsubscribe&&this.unsubscribe.unsubscribe()},v.prototype.componentWillReceiveProps=function(e){var t=e.expandActivities,e=(12+(4<=t.length?4*l.ENTER_WIDTH:l.ENTER_WIDTH*t.length)+2-14)/2+7;this.setState({arrowLeft:e}),0===t.length&&this.setState({showPanel:!1})},v.prototype.render=function(){var e=this.props,t=e.expandActivities,i=e.style,n=this.state,r=n.showPanel,e=n.arrowLeft;if(!t||0===t.length)return null;n=4<=t.length?4*l.ENTER_WIDTH:l.ENTER_WIDTH*t.length;return o.a.createElement("div",{className:"ActiviesExpanel",style:i,ref:this.getRef,__source:{fileName:c,lineNumber:74},__self:this},o.a.createElement("a",{className:["ActiviesExpanel-ExpandBtn",r?"is-open":""].join(" "),onClick:this.toggle,__source:{fileName:c,lineNumber:75},__self:this},this.state.visible?"∨":"∧"),o.a.createElement("div",{className:"ActiviesExpandPanel",style:{display:r?"block":"none",marginLeft:"-"+n/2+"px",width:n+"px"},__source:{fileName:c,lineNumber:83},__self:this},o.a.createElement("div",{className:"ActiviesExpandPanel-arrowOuter",style:{left:e+"px"},__source:{fileName:c,lineNumber:84},__self:this},o.a.createElement("div",{className:"ActiviesExpandPanel-arrowInner",__source:{fileName:c,lineNumber:85},__self:this})),o.a.createElement("div",{className:"ActiviesExpandPanel-list",__source:{fileName:c,lineNumber:87},__self:this},t.map(function(e,t,i){return e.render?e.render(e,t,i):null}))))},u=(n=v).prototype,f="giftService",t=[t],p={enumerable:!0,initializer:null},d={},Object.keys(p).forEach(function(e){d[e]=p[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=t.slice().reverse().reduce(function(e,t){return t(u,f,e)||e},d),m&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(m):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(u,f,d),d=null),a=d,n);function v(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,b.call(this,e));return i="giftService",n=t=r,(e=a)&&Object.defineProperty(t,i,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(n):void 0}),r.toggle=function(){var e=r.state.showPanel;r.giftService.giftDYSub("click_giftbar_open",{stat:e?2:1}),r.setState({showPanel:!e})},r.getRef=function(e){r.ref=e},r.state={showPanel:!1},r}},cbb03a:function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=(i("3e4b76"),"/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/util/Switchelement/ModelBtn.js");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,i=(o(c,l=r.a.Component),c.prototype.render=function(){var e=this.props,t=e.showSwitchModel,i=e.callBack;return t?r.a.createElement("div",{className:"RomanticDate-normalBtn",onClick:function(){return i(0)},__source:{fileName:a,lineNumber:17},__self:this},r.a.createElement("span",{className:"RomanticDate-crystalBtnTxt",__source:{fileName:a,lineNumber:17},__self:this},"幸福券")):r.a.createElement("div",{className:"RomanticDate-crystalBtn",onClick:function(){return i(1)},__source:{fileName:a,lineNumber:18},__self:this},r.a.createElement("span",{className:"RomanticDate-crystalBtnTxt",__source:{fileName:a,lineNumber:18},__self:this},"水晶"))},c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,l.apply(this,arguments))}t.default=i},cc1d41:function(e,t,i){"use strict";var n=i("97a1f0"),r=i("ffca33"),i=i("54992a");function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var o,n=Object(i.log)((a(l,o=n.Service),l.prototype.isBoxExist=function(e){return new Promise(function(t){Object(r.default)({url:"japi/carnival/c/userBox/boxExistV2",data:{rid:e},type:"get"}).subscribe(function(e){t(e)})})},n=l))||n;function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,o.apply(this,arguments))}t.default=n},cc2d7e:function(e,t,i){"use strict";var n=i("2d48a9");i.d(t,"Header",function(){return n.default});var r=i("822e5f");i.d(t,"Title",function(){return r.default});var a=i("4c422f");i.d(t,"Top3",function(){return a.default});var o=i("56878a");i.d(t,"ListItem",function(){return o.default});var l=i("20434a");i.d(t,"Empty",function(){return l.default}),i("b396ee")},cc4c68:function(e,t,i){},cd2b9c:function(e,t,i){"use strict";i=i("429b4e");t.default=i.default},cd755b:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/propsmall-icon_726d2a3.png"},cf2757:function(e,t,i){"use strict";var n,r,a=i("748d25"),o=i("0f636f"),l=i("f68984"),c=i("104af8"),s=i("7ca7dc"),u=i("97a1f0"),f=i("eb3e22"),p=i("ffca33"),m=i("e854a7"),d=i("bf586c"),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var s=s.default.Store,_=m.default.socketStream,g=["cookbufftips","musicbufftips"],f=(s=s(),u=Object(u.Inject)(f.DataCenter.global),y.prototype.initService=function(){var n=this;this.isInitService||(this.isInitService=!0,Object(p.default)({url:"//webconf.douyucdn.cn//resource/common/comm_icon_w.json",type:"jsonp",callbackName:"comm_icon"}).subscribe(function(i){n.commIcon$.pipe(Object(a.filter)(function(e){var t=e.rid,e=e.now;return+t==+n.global.get("$ROOM.room_id")&&+e>=n.nowTime}),Object(o.tap)(function(e){e=e.now;return n.nowTime=e}),Object(l.map)(function(e){return e.bizlist.filter(function(e){return g.includes(e.btype)})})).subscribe(function(e){n.updateData({bizlist:e.map(function(e){var t=i[e.btype]||{};return b({},e,t[e.tmp])})})}),_.subscribe("commicon",function(){n.commIcon$.next(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})})}))},y.prototype.getConfig=function(){return this.giftDataServices.getEggxGiftConfig()},y.prototype.updateData=function(e){this.store.dispatch(d.actions.updateList(e))},n=v((f=y).prototype,"store",[s],{enumerable:!0,initializer:null}),r=v(f.prototype,"global",[u],{enumerable:!0,initializer:null}),f);function y(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),h(this,"store",n,this),h(this,"global",r,this),this.isInitService=!1,this.roomId=+this.global.get("$ROOM.room_id"),this.commIcon$=new c.Subject,this.nowTime=0}t.default=f},cf4c26:function(e,t,i){"use strict";var n,r,a=i("1a22b7"),o=i.n(a),l=i("3b6ec9"),c=i.n(l),a=i("eb3e22"),s="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/ActConfigPay/ActConfigPayPanel.js";function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function p(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var m,l=i("7ca7dc").default.Service,a=(i=l(a.DataCenter.common),l=l(a.DataCenter.localStorage),f(d,m=o.a.Component),d.prototype.showPayDialog=function(){this.common.push("RoomShowIframePay"),this.triggerDialogStatus()},d.prototype.triggerDialogStatus=function(){(0,this.props.toggleEvent)()},d.prototype.renderPopBtn=function(e){var t=e.popClickAction,e=e.popLink;return 1===t?o.a.createElement("a",{className:"ActConfigPay-btn",href:e,target:"_blank",__source:{fileName:s,lineNumber:40},__self:this}):2===t?o.a.createElement("div",{className:"ActConfigPay-btn",onClick:this.showPayDialog,__source:{fileName:s,lineNumber:47},__self:this}):o.a.createElement("div",{className:"ActConfigPay-btn is-default",__source:{fileName:s,lineNumber:52},__self:this})},d.prototype.render=function(){var e=this.props.data,t=e.popClickAction,i=e.popImgSrc,e=e.popLink;return c.a.createPortal(o.a.createElement("div",{className:"ActConfigPay-toast",style:{backgroundImage:"url("+i+")"},__source:{fileName:s,lineNumber:64},__self:this},o.a.createElement("div",{className:"ActConfigPay-close",onClick:this.triggerDialogStatus,__source:{fileName:s,lineNumber:69},__self:this}),this.renderPopBtn({popClickAction:t,popLink:e})),document.body)},n=p((a=d).prototype,"common",[i],{enumerable:!0,initializer:null}),r=p(a.prototype,"localStorage",[l],{enumerable:!0,initializer:null}),a);function d(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,m.call(this));return u(e,"common",n,e),u(e,"localStorage",r,e),e.showPayDialog=e.showPayDialog.bind(e),e.triggerDialogStatus=e.triggerDialogStatus.bind(e),e}t.default=a},cf8349:function(e,t,i){"use strict";var P=i("1a22b7"),D=i.n(P),C=i("6b509f"),k=i("88007e"),n=i("97a1f0"),I=i("c6a807"),z=i("d1f87a"),R=i("71f762"),A=i("9d5279"),x="/shark/live/src/common/components/CertifyComponent/components/Step1.js",G=void 0,L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},M=Object(n.importObject)("live.common.dyComponents.Message");t.default=function(e){var i=e.next,n=e.identStatus,t=Object(P.useState)([]),r=t[0],a=t[1],o=Object(P.useState)("+86"),l=o[0],c=o[1],s=Object(P.useState)(""),u=s[0],f=s[1],p=Object(P.useState)(""),m=p[0],d=p[1],b=Object(P.useState)({show:!1,num:0}),h=b[0],v=b[1],_=Object(P.useState)({show:!1,text:""}),g=_[0],y=_[1],N=Object(I.useService)(A.default),e=Object(P.useState)({phoneError:!1,codeError:!1,cordMsg:""}),t=e[0],w=e[1],O=Object(P.useRef)(null),S=Object(P.useRef)(null),E=Object(P.useCallback)(function(){var t=R,i=[];Object.keys(t.countryCode).forEach(function(e){return i.push({name:e,value:t.countryCode[e]})}),a(i)},[]);Object(P.useEffect)(function(){return E(),function(){O.current&&O.current.destroy&&O.current.destroy()}},[E]);var o=Object(P.useCallback)(function(e){e=e.target.value;c(void 0===e?"":e)},[]),s=Object(P.useCallback)(function(e){e=e.target.value;f(e)},[]),p=Object(P.useCallback)(function(e){e=e.target.value;d(e)},[]),b=Object(P.useCallback)(function(){N.confirmPhone({code:m}).subscribe(function(e){var t=e.error,e=e.msg;0==+t?(i(n?3:2),w({codeError:!1})):(M.error(e),w({codeError:!0,cordMsg:e}))})},[N,i,n,m]),j=Object(P.useCallback)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;N.sendText(L({},S.current,{phone:u,areacode:l.replace("+","00"),confirm:e})).subscribe(function(e){var t=e.error,i=e.msg,i=void 0===i?"短信发送失败, 请稍后再试":i,e=e.code,e=void 0===e?0:e;0==+(void 0===t?-1:t)?(M.info("短信已发送"),v({show:1,num:60}),y(L({},g,{show:!1}))):130018==+e&&i?y({show:!0,text:i}):M.error(i)})},[N,u,l,g]),T=Object(P.useCallback)(function(){O.current=Object(z.default)({geeInitParams:{isNeedCheck:!0,isAutoShow:!1},xhrParams:{url:"/member/cpSecurity/check_geetest_status",data:{op_type:24}},geeOptions:{product:"bind"},success:function(e){S.current=e,j()},error:function(){}})},[j]),_=Object(P.useCallback)(function(){u.length?(w({phoneError:!1}),O.current||T(),O.current.show()):w({phoneError:!0})},[u,T]);Object(P.useEffect)(function(){return T(),function(){O.current&&O.current.destroy&&O.current.destroy()}},[T]),Object(P.useEffect)(function(){if(0<h.num){var e=setTimeout(function(){var e=h.num-1;v(L({},h,{num:e})),e<=0&&v({show:!1,num:0})},1e3);return function(){return clearTimeout(e)}}return function(){}},[h]);e=Object(P.useCallback)(function(){y(L({},g,{show:!1}))},[g]);return D.a.createElement("div",{__source:{fileName:x,lineNumber:239},__self:G},D.a.createElement("div",{className:"CertifyComp-step1-normalLine",__source:{fileName:x,lineNumber:240},__self:G},D.a.createElement("span",{className:"CertifyComp-step1-subTitle",__source:{fileName:x,lineNumber:241},__self:G},"手机号"),D.a.createElement("select",{className:"CertifyComp-step1-areaCode",value:l,onChange:o,placeholder:"区号",__source:{fileName:x,lineNumber:242},__self:G},r.map(function(e){return D.a.createElement("option",{key:e.name,value:e.value,label:e.value,__source:{fileName:x,lineNumber:250},__self:G},e.name," ",e.value)})),D.a.createElement(C.default,{value:u,onChange:s,style:{width:190,marginLeft:-1,borderRadius:"0 4px 4px 0"},__source:{fileName:x,lineNumber:256},__self:G})),D.a.createElement("div",{className:"CertifyComp-step1-tipText",__source:{fileName:x,lineNumber:262},__self:G},t.phoneError?"请输入正确的手机号":""),D.a.createElement("div",{className:"CertifyComp-step1-normalLine",__source:{fileName:x,lineNumber:263},__self:G},D.a.createElement("span",{className:"CertifyComp-step1-subTitle",__source:{fileName:x,lineNumber:264},__self:G},"验证码"),D.a.createElement(C.default,{value:m,onChange:p,style:{width:160},__source:{fileName:x,lineNumber:265},__self:G}),D.a.createElement("div",{className:"CertifyComp-step1-textBtn "+(h.show?"is-gray":""),onClick:h.show?function(){}:_,__source:{fileName:x,lineNumber:270},__self:G},h.show?"短信验证("+h.num+"S)":"短信验证")),D.a.createElement("div",{className:"CertifyComp-step1-tipText",__source:{fileName:x,lineNumber:277},__self:G},t.codeError?t.cordMsg:""),D.a.createElement("div",{className:"CertifyComp-step1-confirm "+(m&&u?"":"is-gray"),onClick:m&&u?b:function(){},__source:{fileName:x,lineNumber:278},__self:G},"绑定"),D.a.createElement(k.default,{visible:g.show,title:null,footer:null,onCancel:e,width:320,styleless:!0,center:!0,mask:!0,__source:{fileName:x,lineNumber:282},__self:G},D.a.createElement("div",{className:"CertifyComp-step1-tipModal",__source:{fileName:x,lineNumber:226},__self:G},D.a.createElement("div",{className:"CertifyComp-step1-tipModal--title",__source:{fileName:x,lineNumber:227},__self:G},"提示"),D.a.createElement("div",{className:"CertifyComp-step1-tipModal--body",__source:{fileName:x,lineNumber:228},__self:G},D.a.createElement("div",{className:"CertifyComp-step1-tipModal--content",__source:{fileName:x,lineNumber:229},__self:G},"该手机号已绑定斗鱼帐号",g.text,", 若继续操作, 将解除与原帐号的绑定"),D.a.createElement("div",{className:"CertifyComp-step1-tipModal--confirm",onClick:function(){return j(1)},__source:{fileName:x,lineNumber:232},__self:G},"直接解绑"),D.a.createElement("div",{className:"CertifyComp-step1-tipModal--cancel",onClick:e,__source:{fileName:x,lineNumber:233},__self:G},"取消")))))}},d144f6:function(e,t,i){"use strict";var a,n=i("1a22b7"),p=i.n(n),r=i("7ca7dc"),o=i("292183"),l=i.n(o),c=i("447d8e"),s=i("e854a7"),u=i("722b8a"),m=i("db47a7"),o=i("4b2b18"),f=i("16358b"),d=i("a8d30d"),b=i("4bb9dd"),h=i("af0444"),v=(i("4246a0"),"/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/RoomLevelDetail.js");function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var g,y,N,w,O,S,r=r.default.Service,n=(s.default.socketStream,o=r(o.default),_(E,S=n.Component),E.prototype.componentDidMount=function(){this.roomLevelDetailServices.initEnter()},E.prototype.componentWillUpdate=function(e){var t=e.hasAuthority,i=e.isLogin,n=e.userRoomLevel,e=e.isChecking;t&&i&&"number"==typeof n&&f.default.toolbarActivityShow("room_level"),this.state.isChecking!==e&&this.setState({isChecking:e})},E.prototype.render=function(){var e=this,t=this.props,i=t.hasAuthority,n=t.isLogin,r=t.userRoomLevel,a=t.showStatus,o=t.hasSign,l=t.signTransition,c=t.dialogVisible,s=t.rankListDialogVisible,u=t.rankDialogVisible,f=t.signRank,t=t.treasureActive;if(!i||!n||"number"!=typeof r)return null;n=l?p.a.createElement("div",{className:"RoomLevelDetail-icon RoomLevelDetail-icon--zn",onClick:this.handleShowDialog(),__source:{fileName:v,lineNumber:104},__self:this},p.a.createElement("div",{className:"RoomLevelDetail-level RoomLevelDetail-level--yes",__source:{fileName:v,lineNumber:105},__self:this},"已签到")):a&&!o?p.a.createElement("div",{className:"RoomLevelDetail-icon RoomLevelDetail-icon--zn",onClick:function(){Object(m.dysub2)({action_code:"110100215001",event_id:1,type:1}),e.handleShowDialog(1)()},__source:{fileName:v,lineNumber:111},__self:this},p.a.createElement("div",{className:"RoomLevelDetail-level RoomLevelDetail-level--no",__source:{fileName:v,lineNumber:120},__self:this},"签到")):1===t?p.a.createElement("div",{className:"RoomLevelDetail-icon RoomLevelDetail-icon--ta",onClick:this.handleShowDialog(),__source:{fileName:v,lineNumber:125},__self:this},p.a.createElement("div",{className:"RoomLevelDetail-treasure",__source:{fileName:v,lineNumber:126},__self:this},"领取宝箱")):r&&1!==t?p.a.createElement("div",{className:"RoomLevelDetail-icon RoomLevelDetail-icon--oc",onClick:this.handleShowDialog(),__source:{fileName:v,lineNumber:131},__self:this},p.a.createElement("div",{className:"RoomLevelDetail-level",__source:{fileName:v,lineNumber:132},__self:this},"Lv.",r)):p.a.createElement("div",{className:"RoomLevelDetail-icon RoomLevelDetail-icon--on",onClick:this.handleShowDialog(),__source:{fileName:v,lineNumber:137},__self:this});return p.a.createElement("div",{className:"RoomLevelDetail",__source:{fileName:v,lineNumber:142},__self:this},n,c?p.a.createElement(d.default,{close:function(){return e.setDialogVisible(!1)},__source:{fileName:v,lineNumber:144},__self:this}):null,s?p.a.createElement(b.default,{__source:{fileName:v,lineNumber:145},__self:this}):null,u?p.a.createElement(h.default,{rank:+f,__source:{fileName:v,lineNumber:146},__self:this}):null)},g=(n=E).prototype,y="roomLevelDetailServices",o=[o],N={enumerable:!0,initializer:null},O={},Object.keys(N).forEach(function(e){O[e]=N[e]}),O.enumerable=!!O.enumerable,O.configurable=!!O.configurable,("value"in O||O.initializer)&&(O.writable=!0),O=o.slice().reverse().reduce(function(e,t){return t(g,y,e)||e},O),w&&void 0!==O.initializer&&(O.value=O.initializer?O.initializer.call(w):void 0,O.initializer=void 0),void 0===O.initializer&&(Object.defineProperty(g,y,O),O=null),a=O,n);function E(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E);var e,t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,S.call(this));return t="roomLevelDetailServices",n=e=r,(i=a)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),r.setDialogVisible=function(e){r.roomLevelDetailServices.setDialogVisible(e)},r.handleShowDialog=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return function(){r.props.titleData.followed?e?r.roomLevelDetailServices.sendRoomLevelSign():r.setDialogVisible(!0):u.default.error("还未关注主播，请先关注主播吧")}},r.showDialog=function(e){e.stopPropagation(),r.setDialogVisible(!0)},r.openTreasure=function(e){e.stopPropagation(),r.roomLevelDetailServices.openTreasure()},r.state={isChecking:0},r}n.propTypes={hasAuthority:l.a.bool,isLogin:l.a.bool,titleData:l.a.object,showStatus:l.a.bool,hasSign:l.a.bool,signTransition:l.a.bool,userRoomLevel:l.a.number,dialogVisible:l.a.bool,signRank:l.a.number,rankListDialogVisible:l.a.bool,rankDialogVisible:l.a.bool,treasureActive:l.a.number},t.default=Object(c.connect)(function(e){var t=e.RoomLevelDetailData,i=e.titleData,e=e.SpeedRankData,e=void 0===e?{}:e;return{hasAuthority:t.hasAuthority,isLogin:t.isLogin,titleData:void 0===i?{}:i,showStatus:t.showStatus,hasSign:t.hasSign,signTransition:t.signTransition,userRoomLevel:t.userRoomLevel,dialogVisible:t.dialogVisible,signRank:e.signRank,rankListDialogVisible:e.rankListDialogVisible,rankDialogVisible:e.rankDialogVisible,treasureActive:t.treasureActive}})(n)},d1c18e:function(e,t,i){"use strict";var r,a,o,n=i("7ca7dc"),l=i("97a1f0"),c=i("eb3e22"),s=i("da4594"),u=i("e1eadf");function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function d(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var b,h=n.default.Store,i=n.default.Service,v="fishballTreasureToolbarEntry",l=(n=Object(l.Injectable)("live.toolbarModule.fishballTreasureService"),h=h(),c=i(c.DataCenter.localStorage),s=i(s.default),n((m(_,b=l.Service),_.prototype.setData=function(e){this.store.dispatch(u.default.setData(e))},r=d((l=_).prototype,"store",[h],{enumerable:!0,initializer:null}),a=d(l.prototype,"localStorage",[c],{enumerable:!0,initializer:null}),o=d(l.prototype,"commonSwitchService",[s],{enumerable:!0,initializer:null}),l=l))||l);function _(){var e,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=s=p(this,b.call.apply(b,[this].concat(i))),f(s,"store",r,s),f(s,"localStorage",a,s),f(s,"commonSwitchService",o,s),s.checkFishBallEntry=function(){s.commonSwitchService.getConfig("fishballTreasure").subscribe(function(e){var t=e.roomGuideIntro,i=e.roomGuideVersion,n=void 0===i?0:i,r=e.roomGuideSwitch,a=e.guessGuideIntro,o=e.guessGuideVersion,l=void 0===o?0:o,c=e.guessGuideSwitch,i=e.giftBannerSwitch,o=e.bannerTips,e=e.switch;e&&(s.setData({isOpen:e,giftBannerSwitch:i,bannerTips:o}),i=s.localStorage.get(v)||0,o=s.localStorage.get("fishballTreasureGuessEntry")||0,r&&i<n&&(s.setData({showRoomGuild:1,roomGuideIntro:t}),setTimeout(function(){s.setData({showRoomGuild:0})},1e4),s.localStorage.set(v,n)),c&&o<l&&s.setData({showGuessGuild:1,guessGuideIntro:a,guessGuideVersion:l}))})},p(s,e)}t.default=l},d1db8c:function(e,t){e.exports=playerSDK2da5b1f3a3deccaa435b},d1f87a:function(e,t,i){e.exports=i("5f575e")("09473")},d2008a:function(e,t,i){},d345ab:function(e,t,i){"use strict";var a,o,l,n=i("1a22b7"),r=i.n(n),c=i("3b6ec9"),s=i.n(c),u=i("54992a"),f=i("fc7947"),p=i.n(f),m=i("db47a7"),n=i("7ca7dc"),c=i("eb3e22"),d=i("c42e42"),b=i("16358b"),f=i("cc1d41"),h=i("a8024b"),v=(i("703d8d"),"/shark/live/src/pages/roomPage/toolbarModule/components/PersonBox/PersonBox.js");function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function N(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var w,O=i("2200b1"),i=n.default.Service,u=(n=i(c.DataCenter.global),c=i(c.DataCenter.common),f=i(f.default),Object(u.log)((y(S,w=r.a.Component),S.prototype.componentDidMount=function(){var l=this;this.roomId=this.global.get("$ROOM.room_id"),this.tid=this.global.get("$ROOM.cate_id"),this.personBoxServices.isBoxExist(this.roomId).then(function(e){var t,i,n,r,a=e.error,o=e.data;0===a&&(t=(n=JSON.parse(void 0===o?{}:o)||{}).actName,i=n.actId,e=n.web,a=n.preNotice,n=(o=void 0===e?{}:e).icon,e=o.text,o=o.url,r=(void 0===a?{}:a).pendantLogic,l.actName=t,l.actId=i,l.setState({icon:n,text:e,url:o},function(){0===r&&(b.default.toolbarActivityShow("personBox"),Object(m.dysub2)({action_code:"10010023C005",event_id:3,type:1,r:l.roomId,tid:l.tid,ext:{_zt_id:l.actId,_zhtname:l.actName}}))}))})},S.prototype.render=function(){var e=this.state,t=e.visible,i=e.icon,n=e.text,e=e.url;return r.a.createElement("div",{className:"personBox",__source:{fileName:v,lineNumber:127},__self:this},r.a.createElement(h.default,{baseUrl:i||O,des:n||"掉落宝箱",onClick:this.trigglerDialogVisible,__source:{fileName:v,lineNumber:128},__self:this}),t?s.a.createPortal(r.a.createElement("div",{className:"personBox-dialog",__source:{fileName:v,lineNumber:138},__self:this},r.a.createElement(d.default,{closeH5:this.trigglerDialogVisible,width:375,height:450,url:function(e,t,i){if(!i)return e;var n=new RegExp("([?&])"+t+"=.*?(&|$)","i"),r=-1!==e.indexOf("?")?"&":"?";return e.match(n)?e.replace(n,"$1"+t+"="+i+"$2"):e+r+t+"="+i}(e,"isWeb",!0),isShow:!0,isDraggable:!1,showMask:!1,__source:{fileName:v,lineNumber:139},__self:this})),document.body):null)},a=N((u=S).prototype,"global",[n],{enumerable:!0,initializer:null}),o=N(u.prototype,"common",[c],{enumerable:!0,initializer:null}),l=N(u.prototype,"personBoxServices",[f],{enumerable:!0,initializer:null}),u=u))||u);function S(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=g(this,w.call.apply(w,[this].concat(n))),_(t,"global",a,t),_(t,"common",o,t),_(t,"personBoxServices",l,t),t.state={visible:!1,btnImg:""},t.isLogin=p.a.check(),t.trigglerDialogVisible=function(){t.isLogin?(Object(m.dysub2)({action_code:"10010023C005",event_id:1,type:1,r:t.roomId,tid:t.tid,ext:{_zt_id:t.actId,_zhtname:t.actName}}),t.setState(function(e){return{visible:!e.visible}})):p.a.show("login")},g(t,e)}t.default=u},d3d866:function(e,t,i){"use strict";var a,o,n=i("97a1f0"),r=i("7ca7dc"),l=i("f12b8d"),c=i("56b0a1");function s(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function p(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var m,i=r.default.Store,r=r.default.Service,n=(i=i(),c=r(c.default),f(d,m=n.Service),d.prototype.findCountByEpic=function(){this.store.dispatch(l.default.findCount())},d.prototype.addCount=function(){this.store.dispatch(l.default.addCount())},d.prototype.showDialog=function(){this.store.dispatch(l.default.toggleDialog(!0))},d.prototype.hideDialog=function(){this.store.dispatch(l.default.toggleDialog(!1))},d.prototype.toggleActive=function(e){this.store.dispatch(l.default.toggleActive(e))},d.prototype.toggleSendAjax=function(e){this.store.dispatch(l.default.toggleSendAjax(e))},d.prototype.getDataFromBack=function(){this.store.dispatch(l.default.getDataFromBack())},d.prototype.getRule=function(){this.store.dispatch(l.default.getRule())},d.prototype.getAnchorData=function(){this.store.dispatch(l.default.getAnchorData())},d.prototype.getGiftConfigs=function(){var t=this;this.giftDataServices.getGiftData("LIST").subscribe(function(e){e=(e||[]).filter(function(e){e=(e||{}).basicInfo;return 2===parseInt((void 0===e?{}:e).giftType,10)});t.store.dispatch(l.default.receiveAllGiftConfig(0<e.length))})},a=p((n=d).prototype,"store",[i],{enumerable:!0,initializer:null}),o=p(n.prototype,"giftDataServices",[c],{enumerable:!0,initializer:null}),n);function d(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=u(this,m.call.apply(m,[this].concat(n))),s(t,"store",a,t),s(t,"giftDataServices",o,t),u(t,e)}t.default=n},d474b9:function(e,t,i){},d48568:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"SSR_GET_LIST_DATA",function(){return a}),i.d(t,"SSR_SET_DATA",function(){return o});var r,a="SSR_GET_LIST_DATA",o="SSR_SET_DATA",i=(n(l,r=i("97a1f0").Action),l.getListData=function(e){return{type:a,payload:e}},l.setData=function(e){return{type:o,payload:e}},l.defaultAction=function(){return{type:"SSR_DEFAULT"}},l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}t.default=i},d4a4f4:function(e,t,i){e.exports=i("2d6146")("7e5be")},d4cc5e:function(e,t,i){e.exports=i("5f575e")("b05c0")},d585c1:function(e,t,i){e.exports=i("5f575e")("f055c")},d5a5c9:function(e,t,i){e.exports=i("5f575e")("bdf90")},d60774:function(e,t,i){e.exports=i("5f575e")("a2b0d")},d62d0a:function(e,t,i){},d6c5c8:function(e,t,i){"use strict";i=i("36525a");t.default=i.default},d6e673:function(e,t,i){e.exports=i("5f575e")("7aea8")},d721df:function(e,t,i){e.exports=i("5f575e")("84cb7")},d8b42f:function(e,t,i){"use strict";var a,o,n=i("1a22b7"),r=i.n(n),l=i("292183"),c=i.n(l),s=i("447d8e"),u=i("7ca7dc"),f=i("eb3e22"),p=i("54992a"),m=i("16358b"),n=i("d6e673"),l=i("9c8622"),d=i.n(l),l=i("523ff7"),b=i.n(l),h=i("a8024b"),v=(i("bc8205"),"/shark/live/src/pages/roomPage/toolbarModule/components/PubgPcl/PubgPcl.js");function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function N(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var w,u=u.default.Service,O=i("4248dc"),p=(f=u(f.DataCenter.global),n=u(n.default),Object(p.log)((y(S,w=r.a.Component),S.prototype.componentDidMount=function(){m.default.toolbarActivityShow("pubgpcl")},S.prototype.handleBtnClick=function(){this.pubgPclService.toggleDialogStatus()},S.prototype.render=function(){return r.a.createElement("div",{className:"PubgPcl",__source:{fileName:v,lineNumber:43},__self:this},r.a.createElement(h.default,{baseUrl:O,des:"赛事数据",leftColor:"#f5c63c",rightColor:"#c46e1c",onClick:this.handleBtnClick,__source:{fileName:v,lineNumber:45},__self:this}),r.a.createElement("div",{className:"PubgPcl-hover",__source:{fileName:v,lineNumber:52},__self:this},r.a.createElement("img",{src:d.a,className:"PubgPcl-hover-icon",__source:{fileName:v,lineNumber:53},__self:this}),r.a.createElement("div",{className:"PubgPcl-hover-info",__source:{fileName:v,lineNumber:54},__self:this},r.a.createElement("img",{src:b.a,className:"PubgPcl-hover-scoregg",__source:{fileName:v,lineNumber:55},__self:this}),r.a.createElement("span",{__source:{fileName:v,lineNumber:56},__self:this},"专业全面赛事数据",r.a.createElement("br",{__source:{fileName:v,lineNumber:56},__self:this}),"实时掌握战局动态"))))},a=N((p=S).prototype,"global",[f],{enumerable:!0,initializer:null}),o=N(p.prototype,"pubgPclService",[n],{enumerable:!0,initializer:null}),p=p))||p);function S(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=g(this,w.call.apply(w,[this].concat(n))),_(t,"global",a,t),_(t,"pubgPclService",o,t),t.state={showIframe:!1},g(t,e)}p.propTypes={roomUrlMap:c.a.object},t.default=Object(s.connect)(function(e){return{roomUrlMap:e.PubgPclData.roomUrlMap}})(p)},d93c3a:function(e,t,i){},d9d29f:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"TURNTABLE_UPDATE_DATA",function(){return a}),i.d(t,"TURNTABLE_GET_CONFIGS",function(){return o}),i.d(t,"TurntableLotteryActions",function(){return l});var r,a="TURNTABLE_UPDATE_DATA",o="TURNTABLE_GET_CONFIGS",l=(n(c,r=i("97a1f0").Action),c.openPanel=function(e){return{type:a,payload:e}},c.getConfigs=function(e){return{type:o,payload:e}},c.receiveConfigs=function(e){return{type:"TURNTABLE_RECEIVE_CONFIGS",payload:e}},c.updateData=function(e){return{type:a,payload:e}},c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}},da4594:function(e,t,i){e.exports=i("5f575e")("5795a")},da7b9b:function(e,t,i){},db47a7:function(e,t,i){e.exports=i("2d6146")("fce11")},dd4e65:function(e,t,i){},dda3e9:function(e,t,i){"use strict";var n,r,a=i("7ca7dc"),o=i("f68984"),l=i("b00678"),c=i("960890"),s=i("eeb07d"),u=i("97a1f0"),f=i("eb3e22"),p=i("d48568"),m=i("0963d0"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var i=a.default.Service,v={cache:"/japi/roomuserlevel/apinc/getSignInRankInfoList",noCache:"/japi/roomuserlevel/api/getSignInRankInfoList"},m=(a=i(f.DataCenter.global),i=i(m.default),_.prototype.getListData=function(e){var n=this;return e.ofType(p.SSR_GET_LIST_DATA).pipe(Object(l.switchMap)(function(e){e=e.payload;return Object(s.forkJoin)(f.httpClient.get(String,v[e.cache||"cache"],{rid:n.global.get("$ROOM.room_id")},{noCache:!0}),Object(c.of)(e))}),Object(o.map)(function(e){var t=e[0],i=e[1];if(0==+t.error&&t.data){e=t.data.map(function(e){return u.GSON.parse(e)}),t=n.speedRankServices.handleData(e,d({},i,{uid:n.global.get("USER_INFO.uid"),nickname:n.global.get("USER_INFO.nickname")})),e=t.top10Data,i=t.luckListData,t=t.selfData;return p.default.setData({top10Data:e,luckListData:i,selfData:t})}return p.default.defaultAction()}))},n=h((m=_).prototype,"global",[a],{enumerable:!0,initializer:null}),r=h(m.prototype,"speedRankServices",[i],{enumerable:!0,initializer:null}),m);function _(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),b(this,"global",n,this),b(this,"speedRankServices",r,this)}t.default=m},ddff7a:function(e,t,i){e.exports=i("5f575e")("a553b")},de008c:function(e,t,i){e.exports=i("5f575e")("1fb5c")},de2bba:function(e,t,i){"use strict";var r=i("191436"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o={isEntranceShow:!1,isCertifyModalShow:!1,isOldBrowserShow:!1,userIdentifyInfo:{}};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1],i=t.type,n=t.payload;switch(i){case r.HANDLE_WS_ENTRANCE:return a({},e,{isEntranceShow:n.status});case r.WS_SHOW_AUTHEN:return a({},e,{isCertifyModalShow:n.show});case r.WS_SHOW_BROWSER_TIP:return a({},e,{isOldBrowserShow:n.show});case r.WS_SET_USERINFO:return a({},e,{userIdentifyInfo:n});default:return e}}},dee2e9:function(e,t,i){"use strict";var s,n=i("97a1f0"),r=i("7ca7dc"),a=i("e854a7"),o=i("834674");function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,f,p,m,d,b,r=r.default.Store,h=a.default.socketStream,n=(r=r(),l(v,b=n.Service),v.prototype.showJifenEntranceBtn=function(){this.store.dispatch(o.default.showJifenEntranceBtn())},v.prototype.showJifenDialog=function(e){this.store.dispatch(o.default.showJifenDialog(e))},v.prototype.userJifenExchangeData=function(e){this.store.dispatch(o.default.userJifenExchangeData(e))},v.prototype.clickExchangeGiftBtn=function(e){this.store.dispatch(o.default.clickJifenExchangeBtn(e))},v.prototype.clickTaskAttentionBtn=function(){this.store.dispatch(o.default.clickTaskAttentionBtn())},v.prototype.getFollowTaskJifen=function(e){this.store.dispatch(o.default.getFollowTaskJifen(e))},v.prototype.userJifenTasksData=function(){this.store.dispatch(o.default.userJifenTasksData())},v.prototype.onlineWatchTaskData=function(e){this.store.dispatch(o.default.onlineWatchTaskData(e))},v.prototype.userJifenGetDynamicData=function(){this.store.dispatch(o.default.userJifenGetDynamic())},v.prototype.clickOnlineWatchGetBtn=function(e){this.store.dispatch(o.default.clickUserJifenWatchGetBtn(e))},v.prototype.getDownloadGameTaskJifen=function(e){this.store.dispatch(o.default.getDownloadGameTaskJifen(e))},v.prototype.isShowExchangeRecord=function(e){this.store.dispatch(o.default.userJifenShowExchangeRecord(e))},v.prototype.getUserExchangeRecordData=function(e){this.store.dispatch(o.default.userGetExchangeRecordData(e))},v.prototype.listenOnlineTaskNotify=function(){var t=this;h.subscribe("online_task_notify",function(e){t.store.dispatch(o.default.onlineWatchTaskData(e))})},v.prototype.anchorJifenExchangeData=function(){this.store.dispatch(o.default.anchorJifenExchangeData())},c=(n=v).prototype,f="store",r=[r],p={enumerable:!0,initializer:null},d={},Object.keys(p).forEach(function(e){d[e]=p[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=r.slice().reverse().reduce(function(e,t){return t(c,f,e)||e},d),m&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(m):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(c,f,d),d=null),s=d,n);function v(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,b.call.apply(b,[this].concat(l))),n="store",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),u(t,e)}t.default=n},deec57:function(e,t,i){"use strict";var a,o,l,c,n=i("97a1f0"),r=i("7ca7dc"),s=i("eb3e22"),u=i("722b8a"),f=i("fc7947"),p=i.n(f),m=i("c7fb88"),d=i("e854a7"),b=i("4d0103");function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function g(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var y,f=r.default.Store,i=r.default.Service,N=d.default.socketStream,w={storage:{state:"guessstate",token:"guesstoken",allow:"guessallow",notAllow:"guessnotallow"},state:{show:"show",hide:"hide",closure:!1,checked:!1},url:{ipCheck:"/lapi/live/qqLottery/ipCheck",getToken:"/api/qq_lottery/get_token",iframe:"https://qs.888.qq.com/m_qq/es/es.douyu.html#es.douyuV2=init",txIframe:"https://qs.888.qq.com/m_qq/es/es.message.html?__channel=douyu",txDomainName:"https://qs.888.qq.com"},prevToken:null,prevCate:null,isSendReq:!1,timer:null,openRoom:!1},n=(r=f(),d=i(s.DataCenter.localStorage),f=i(s.DataCenter.global),s=i(s.DataCenter.acj),_(O,y=n.Service),O.prototype.setIframe=function(e){this.store.dispatch(m.default.setIframe(e))},O.prototype.setTxIframe=function(e){this.store.dispatch(m.default.setTxIframe(e))},O.prototype.toggleDialog=function(){this.store.dispatch(m.default.toggleDialog())},O.prototype.showDialog=function(){this.store.dispatch(m.default.toggleDialog(!0))},O.prototype.hideDialog=function(){this.store.dispatch(m.default.toggleDialog(!1))},O.prototype.setGuessPrize=function(e){this.store.dispatch(m.default.setGuessPrize(e))},O.prototype.setGuessTip=function(e){this.store.dispatch(m.default.setGuessTip(e))},O.prototype.setGuessHover=function(e){this.store.dispatch(m.default.setGuessHover(e))},O.prototype.setGuessCorner=function(e){this.store.dispatch(m.default.setGuessCorner(e))},O.prototype.setCornerWenan=function(e){this.store.dispatch(m.default.setCornerWenan(e))},O.prototype.getToken=function(e){var t,i=this;1===parseInt(this.localStorage.get(w.storage.token),10)&&w.prevToken&&w.prevCate?(t=w.url.iframe+"&catename="+w.prevCate+"&login_key="+w.prevToken,this.setIframe(t)):(this.localStorage.set(w.storage.token,1,3600),e?(e=10+Math.floor(6*Math.random()),clearTimeout(w.timer),w.timer=setTimeout(function(){w.isSendReq=!0,i.store.dispatch(m.default.getToken())},1e3*e)):this.store.dispatch(m.default.getToken()))},O.prototype.dealTokenData=function(e){if(e&&e.data){var t=e.data;switch(clearTimeout(w.timer),parseInt(e.error,10)){case 0:w.prevCate=t.catename,w.prevToken=t.token;var i=0;w.openRoom&&(i=this.global.get("$ROOM.room_id")),"http:"===location.protocol&&(w.url.txIframe+="&domainDebug=1");var n=w.url.iframe+"&catename="+encodeURIComponent(t.catename)+"&login_key="+encodeURIComponent(t.token),i=w.url.txIframe+"&catename="+encodeURIComponent(t.catename)+"&login_key="+encodeURIComponent(t.token)+"&liveId="+encodeURIComponent(i);w.isSendReq?(this.getInitState(),this.setTxIframe(i)):this.setIframe(n);break;case 1:this.login();break;default:u.default.warning(e.msg)}}},O.prototype.framebusOpenWindow=function(){b.default.emit("message.start",{c:"es.douyu.message",m:"openWindow"})},O.prototype.getInitState=function(){var t=this;b.default.target(w.url.txDomainName).on("message.ready",function(){b.default.emit("message.start",{c:"es.douyu.message",m:"getIconData"},function(e){e=JSON.parse(t.htmlEncode(JSON.stringify(e)))||{};0===parseInt(e.errCode,10)&&e.data&&e.data.config&&t.renderCorner(e.data.config)})})},O.prototype.htmlEncode=function(e){var t=null;return void 0===e?"":(t=document.createElement("div"),e=document.createTextNode(e),t.appendChild(e),t.innerHTML)},O.prototype.renderCorner=function(e){var t,i=e.length,n=void 0;if(0<i)for(var r=0;r<i;r++)switch(n=e[r].data||{},e[r].code){case 0:this.setGuessPrize({title:n.title,subTitle:n.subTitle,desc:n.desc});break;case 1:this.setGuessTip({title:n.title,subTitle:n.subTitle});break;case 2:this.setGuessHover({img:n.img,title:n.title,subTitle:n.subTitle,desc:n.desc});break;case 3:this.setGuessCorner(!0);break;case 4:t=n.type.toLowerCase(),this.setCornerWenan(t)}},O.prototype.login=function(){var e=this;p.a.show("login",{},function(){e.localStorage.set(w.storage.state,1)})},O.prototype.closeDialog=function(){this.hideDialog(),this.setIframe("about:blank"),this.store.dispatch(m.default.userIsLocked())},O.prototype.initCppClose=function(){var t=this;this.acj.get("room_data_flaerr").subscribe(function(e){e=parseInt(e,10);56!==e&&57!==e&&59!==e||t.closeDialog()}),N.subscribe("gbmres",function(e){parseInt(t.global.get("$SYS.uid"),10)===parseInt(e.uid,10)&&t.closeDialog()})},O.prototype.initData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};w.openRoom=e.qqLotterySwitch&&e.qqLotterySwitch.open_room_id},a=g((n=O).prototype,"store",[r],{enumerable:!0,initializer:null}),o=g(n.prototype,"localStorage",[d],{enumerable:!0,initializer:null}),l=g(n.prototype,"global",[f],{enumerable:!0,initializer:null}),c=g(n.prototype,"acj",[s],{enumerable:!0,initializer:null}),n);function O(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=v(this,y.call.apply(y,[this].concat(n))),h(t,"store",a,t),h(t,"localStorage",o,t),h(t,"global",l,t),h(t,"acj",c,t),v(t,e)}t.default=n},df2a7f:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/logo_73216f8.png"},dfe9b1:function(e,t,i){},e02366:function(e,t,i){"use strict";i=i("c508aa");t.default=i.default},e0c23e:function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),a=i("7ca7dc"),u=i("db47a7"),n=i("d4cc5e"),o=(i("2a9444"),"/shark/live/src/pages/roomPage/toolbarModule/business/rightArea/HaidiNianjinEntrance/components/HaidiNianjinEntry.js");function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,p,m,d,b,h,n=(a=(0,a.default.Service)(n.default),l(v,h=r.a.Component),v.prototype.componentDidMount=function(){Object(u.dysub2)({action_code:"160101R02",event_id:3,type:1})},v.prototype.render=function(){return r.a.createElement("div",{className:"HaidiNianjinEntry",onClick:this.clickIcon,__source:{fileName:o,lineNumber:35},__self:this},r.a.createElement("div",{className:"HaidiNianjinEntry-txt",__source:{fileName:o,lineNumber:35},__self:this},"海底炼金"))},c=(n=v).prototype,p="haidiNianjinServices",a=[a],m={enumerable:!0,initializer:null},b={},Object.keys(m).forEach(function(e){b[e]=m[e]}),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=a.slice().reverse().reduce(function(e,t){return t(c,p,e)||e},b),d&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(d):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(c,p,b),b=null),s=b,n);function v(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=f(this,h.call.apply(h,[this].concat(l))),n="haidiNianjinServices",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),t.clickIcon=function(){t.haidiNianjinServices.toggleHaidiNianjinPanel({show:1}),Object(u.dysub2)({action_code:"160101R02",event_id:1,type:1})},f(t,e)}t.default=n},e16fbf:function(e,t,i){"use strict";var s,n=i("eb3e22");function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var a,o,l,c,f,p,i=n.basicTypes.string,n=(0,n.basicTypes.mapping)({effectTip:"effect_tip"})((r(m,p=n.EntityDto),a=(n=m).prototype,o="effectTip",i=[i],l={enumerable:!0,initializer:null},f={},Object.keys(l).forEach(function(e){f[e]=l[e]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=i.slice().reverse().reduce(function(e,t){return t(a,o,e)||e},f),c&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(c):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,o,f),f=null),s=f,n=n))||n;function m(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,p.call.apply(p,[this].concat(l))),n="effectTip",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),u(t,e)}t.default=n},e19de5:function(e,t,i){e.exports=i("5f575e")("4fb21")},e1eadf:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"FISHBALL_TREASURE_SET_DATA",function(){return a});var r,a="FISHBALL_TREASURE_SET_DATA",i=(n(o,r=i("97a1f0").Action),o.setData=function(e){return{type:a,payload:e}},o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}t.default=i},e2807d:function(e,t,i){},e2bb45:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/dmcd-icon_dc1445e.png"},e389ca:function(e,t,i){"use strict";var a,o,n=i("1a22b7"),r=i.n(n),l=i("7ca7dc"),c=i("eb3e22"),s=i("54992a"),u=i("16358b"),n=i("e3d075"),f=i("a8024b");function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function b(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}i("bc0835");var h,l=l.default.Service,v=i("b4fbe7"),s=(c=l(c.DataCenter.global),n=l(n.default),Object(s.log)((d(_,h=r.a.Component),_.prototype.componentDidMount=function(){u.default.toolbarActivityShow("HPJYsss")},_.prototype.render=function(){return r.a.createElement(f.default,{baseUrl:v,des:"实时数据",leftColor:"#d89b25",rightColor:"#feb82f",onClick:this.handleBtnClick,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/HPJYsss/HPJYsss.js",lineNumber:36},__self:this})},a=b((s=_).prototype,"global",[c],{enumerable:!0,initializer:null}),o=b(s.prototype,"HPJYsssService",[n],{enumerable:!0,initializer:null}),s=s))||s);function _(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=m(this,h.call.apply(h,[this].concat(n))),p(t,"global",a,t),p(t,"HPJYsssService",o,t),t.handleBtnClick=function(){t.HPJYsssService.toggleDialogVisible()},m(t,e)}t.default=s},e39a89:function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=(i("cc4c68"),"/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/ModalDialog/ModalDialog.js");function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,i=(l(s,c=r.a.Component),s.prototype.render=function(){var e=this.props,t=e.title,i=e.children,n=e.visible,e=e.wrapClassName,e=void 0===e?"":e;return n?r.a.createElement("div",{className:"RomanticDateDialog",__source:{fileName:a,lineNumber:17},__self:this},r.a.createElement("div",{className:"RomanticDateDialog-panel",__source:{fileName:a,lineNumber:18},__self:this},r.a.createElement("div",{className:"RomanticDateDialog-main",__source:{fileName:a,lineNumber:19},__self:this},r.a.createElement("div",{className:"RomanticDateDialog-close",onClick:this.onCloseClick,__source:{fileName:a,lineNumber:20},__self:this}),r.a.createElement("div",{className:"RomanticDateDialog-title",__source:{fileName:a,lineNumber:21},__self:this},t),r.a.createElement("div",{className:"RomanticDateDialog-content "+e,__source:{fileName:a,lineNumber:24},__self:this},i)))):null},s);function s(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=o(this,c.call.apply(c,[this].concat(n))),t.onCloseClick=function(){t.props.onCloseClick()},o(t,e)}t.default=i},e3b930:function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=(i("d93c3a"),"/shark/live/src/common/components/ScreenText/ScreenText.js");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,i=(o(c,l=r.a.Component),c.prototype.componentDidMount=function(){this.addSpanContent()},c.prototype.componentDidUpdate=function(){this.addSpanContent()},c.prototype.componentWillUnmount=function(){clearInterval(this.timer)},c.prototype.addSpanContent=function(){var e,t,i=document.getElementById(this.b_case),n=document.getElementById(this.b_text),r=0;!this.isMoved&&i&&n&&n.scrollWidth>i.clientWidth&&(this.isMoved=!0,n.className+="is-padded",e=n.cloneNode(!0),t=n.clientWidth,i.appendChild(e),this.timer||(this.timer=setInterval(function(){(r+=1)<93||(i.scrollLeft+=1,i.scrollLeft>=t&&(i.scrollLeft=0,r=0))},16)))},c.prototype.render=function(){var e=this.props,t=e.txtName,i=void 0===t?"":t,t=e.wrapClassName,e=e.contentClassName;return r.a.createElement("div",{className:"ScreenText "+(void 0===t?"":t),id:this.b_case,title:i,__source:{fileName:a,lineNumber:74},__self:this},r.a.createElement("span",{className:"ScreenText-content "+(void 0===e?"":e),id:this.b_text,__source:{fileName:a,lineNumber:75},__self:this},i))},c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,l.call(this,e));return t.scrolled=!1,t.going=!0,t.b_case=e.wrapId||"ScreenText_wrap",t.b_text=e.contentId||"ScreenText_content",t.addSpanContent=t.addSpanContent.bind(t),t.tempScrollLeft=0,t.timer=null,t.isMoved=!1,t}t.default=i},e3be75:function(e,t,i){},e3d075:function(e,t,i){e.exports=i("5f575e")("a72db")},e48bb1:function(e,t,i){"use strict";i.d(t,"default",function(){return b});var a,t=i("1a22b7"),r=i.n(t),t=i("7ca7dc"),o=i("8f6491"),l=i("1ab308"),i=i("5b9730"),c="/shark/live/src/pages/roomPage/toolbarModule/components/Activity/ActivityItem.js";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var s,u,f,p,m,d,b=(t=(0,t.default.Service)(i.default),n(h,d=r.a.Component),h.prototype.setPoint=function(e,t){this.giftService.giftDYSub("click_giftbar_activity",{active_id:e,is_fold:t})},h.prototype.getAcivityComponent=function(){var e=this.props.data,t=e.activityFlag,i=e.iframeStyle,n=e.Component;return""===t?""!==i?r.a.createElement(l.default,{data:e,__source:{fileName:c,lineNumber:32},__self:this}):r.a.createElement(o.default,{data:e,__source:{fileName:c,lineNumber:35},__self:this}):n?r.a.createElement(n,{data:e,__source:{fileName:c,lineNumber:38},__self:this}):""},h.prototype.render=function(){var e=this,t=this.props.data;return r.a.createElement("div",{className:"ActivityItem","data-flag":t.activityFlag,onClick:function(){e.setPoint(t.id,t.fold)},__source:{fileName:c,lineNumber:48},__self:this},t.iconHoverTitle?r.a.createElement("div",{className:"ActivityTips",__source:{fileName:c,lineNumber:52},__self:this},t.iconHoverTitle):"",r.a.createElement("div",{className:"ActivityBtn",__source:{fileName:c,lineNumber:53},__self:this},this.getAcivityComponent()))},s=(i=h).prototype,u="giftService",t=[t],f={enumerable:!0,initializer:null},m={},Object.keys(f).forEach(function(e){m[e]=f[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=t.slice().reverse().reduce(function(e,t){return t(s,u,e)||e},m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(s,u,m),m=null),a=m,i);function h(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var e,t,i,n,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,d.call(this));return t="giftService",n=e=r,(i=a)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),r.state={style:""},r}},e4cb59:function(e,t,i){},e5574c:function(e,t,i){"use strict";i=i("d8b42f");t.default=i.default},e58463:function(e,t,i){e.exports=i("5f575e")("8d78a")},e59e4e:function(e,t,i){e.exports=i("5f575e")("9c0c9")},e6546b:function(e,t,i){e.exports=i("5f575e")("de57f")},e66708:function(e,t,i){},e79627:function(e,t,i){"use strict";var n=i("d48568"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={isSigned:!1,userCache:!0,rankDialogVisible:!1,rankListDialogVisible:!1,top10Data:[],luckListData:[],selfData:{},signRank:0};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];return t.type!==n.SSR_SET_DATA?e:r({},e,t.payload)}},e7e774:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"COOK_GIRL_UPDATE_DATA",function(){return a});var r,a="COOK_GIRL_UPDATE_DATA",i=(n(o,r=i("97a1f0").Action),o.updateData=function(e){return{type:a,payload:e}},o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}t.default=i},e854a7:function(e,t,i){e.exports=i("5f575e")("a5ed5")},e86473:function(e,t,i){},e87314:function(e,t,i){"use strict";var a,o,l,c,s,u,f,n=i("97a1f0"),r=i("eb3e22"),p=i("7ca7dc"),m=i("e854a7"),d=i("046c20"),b=i("a58983"),h=i("20ec0b"),v=i("56b0a1"),_=i("3a9fb0"),g=i("16358b"),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function N(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function S(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var E,i=p.default.Store,p=p.default.Service,j=m.default.socketStream,n=(m=i(),i=p(r.DataCenter.global),r=p(r.DataCenter.common),b=p(b.default),h=p(h.default),v=p(v.default),_=p(_.default),O(T,E=n.Service),T.prototype.init=function(){this.listenGiftMsg()},T.prototype.listenGiftMsg=function(){var t=this,i=+this.global.get("USER_INFO.uid");j.subscribe("dgb",function(e){e={componentKey:"giftEffect-"+(new Date).getTime(),giftId:e.gfid,skinId:+e.skinid||0,senderId:e.uid,sendName:e.nn,giftCnt:e.gfcnt,hitTimes:parseInt(e.hits,10)||0,batchCount:parseInt(e.bcnt,10)||0,giftPropFlag:parseInt(e.gpf,10)||0,propId:parseInt(e.pid,10)||0};parseInt(i,10)===parseInt(e.senderId,10)&&t.addSendData(e)})},T.prototype.addSendData=function(r){var a=this,e=r.giftPropFlag,n=r.giftId,o=r.propId,t=r.skinId;1===e?this.propDataServices.getPropItem(o).subscribe(function(e){var t,i,n;e&&(t=e.sendPic,i=e.picUrlPrefix,n=g.default.getBackpackOffset(),e={left:((e=g.default.getPropItemOffset(o)).left<n.left?n:e).left,top:e.top},t&&a.store.dispatch(d.default.addSendGiftData(y({giftPic:i+t,giftOffset:e},r))))}):this.giftDataServices.getGiftItem(n,!1,t).subscribe(function(e){var t,i;e&&(t=void 0===(i=e.basicInfo)?{}:i,i=e.picUrlPrefix,e=g.default.getGiftItemOffset(n),t.sendPic&&a.store.dispatch(d.default.addSendGiftData(y({giftPic:i+t.sendPic,giftOffset:e},r))))})},T.prototype.clearSendData=function(e){this.store.dispatch(d.default.clearSendGiftData(e))},a=S((n=T).prototype,"store",[m],{enumerable:!0,initializer:null}),o=S(n.prototype,"global",[i],{enumerable:!0,initializer:null}),l=S(n.prototype,"common",[r],{enumerable:!0,initializer:null}),c=S(n.prototype,"commonDataServices",[b],{enumerable:!0,initializer:null}),s=S(n.prototype,"giftSendServices",[h],{enumerable:!0,initializer:null}),u=S(n.prototype,"giftDataServices",[v],{enumerable:!0,initializer:null}),f=S(n.prototype,"propDataServices",[_],{enumerable:!0,initializer:null}),n);function T(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,T);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=w(this,E.call.apply(E,[this].concat(n))),N(t,"store",a,t),N(t,"global",o,t),N(t,"common",l,t),N(t,"commonDataServices",c,t),N(t,"giftSendServices",s,t),N(t,"giftDataServices",u,t),N(t,"propDataServices",f,t),t.config={},w(t,e)}t.default=n},e8daba:function(e,t,i){"use strict";var a,o,n=i("1a22b7"),r=i.n(n),l=i("7ca7dc"),c=i("456fdc"),n=i.n(c),s=i("ed7240"),c=i("5b9730"),u=(i("495279"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/RemindYWLow.js");function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function d(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var b,l=l.default.Service,h=!1,n=(c=l(c.default),l=l(n.a),m(v,b=r.a.Component),v.prototype.componentWillReceiveProps=function(e){var t=e.visible,e=e.info;t&&!h&&(h=!0,this.signService.actionSignDot(1,e.posid)),this.setState({visible:t,info:e})},v.prototype.render=function(){var e=this,t=this.state,i=t.visible,n=t.info,t=[r.a.createElement("button",{className:"RemainYWLowDialog-go dy-btn",key:"ok",onClick:this.ok,__source:{fileName:u,lineNumber:58},__self:this},"立即前往"),r.a.createElement("button",{className:"RemainYWLowDialog-cancel dy-btn",key:"cancel",onClick:this.cancel,__source:{fileName:u,lineNumber:59},__self:this},"暂时不了")];return i&&n?r.a.createElement(s.default,{title:"提示",visible:i,center:!0,maskClosable:!1,width:420,wrapClassName:"RemainYWLowDialog",onOk:this.ok,onCancel:function(){e.cancel()},footer:n.srcid?t:null,__source:{fileName:u,lineNumber:63},__self:this},r.a.createElement("div",{className:"RemainYWLowDialog-wrap",__source:{fileName:u,lineNumber:78},__self:this},r.a.createElement("i",{className:"RemainYWLowDialog-pic",__source:{fileName:u,lineNumber:79},__self:this}),r.a.createElement("p",{className:"RemainYWLowDialog-title",__source:{fileName:u,lineNumber:80},__self:this},"赠送失败，鱼丸不足！"),r.a.createElement("p",{className:"RemainYWLowDialog-desc",__source:{fileName:u,lineNumber:81},__self:this},n.srcid||""))):null},a=d((n=v).prototype,"giftService",[c],{enumerable:!0,initializer:null}),o=d(n.prototype,"signService",[l],{enumerable:!0,initializer:null}),n);function v(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=p(this,b.call.apply(b,[this].concat(n))),f(t,"giftService",a,t),f(t,"signService",o,t),t.state={visible:!1},t.ok=function(){var e=t.state.info;e.link&&(window.open(e.link),t.signService.actionSignDot(2,e.posid)),t.giftService.closeYWLow()},t.cancel=function(){t.giftService.closeYWLow()},p(t,e)}t.default=n},e922ab:function(e,t,i){"use strict";i=i("1920a9");t.default=i.default},e92f28:function(e,t,i){e.exports=i("5f575e")("8d010")},e965cf:function(e,t,i){"use strict";var n=i("946bb0"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={dialogVisible:!1,iframeUrl:"https://gp.pentaq.com/douyu/pec_actual_small"};t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a;switch(arguments[1].type){case n.TOGGLE_HPJYSSS_DIALOG_VISIBLE:return r({},e,{dialogVisible:!e.dialogVisible});case n.CLOSE_HPJYSSS_DIALOG:return r({},e,{dialogVisible:!1});default:return e}}},e992c7:function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),n=i("7ca7dc"),i=i("4b2b18"),a="/shark/live/src/pages/roomPage/toolbarModule/components/RoomLevelDetail/components/CircleProgress.js";function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var l,c,f,p,m,d,i=(n=(0,n.default.Service)(i.default),o(b,d=r.a.Component),b.prototype.render=function(){var e=this.props.percent,t=void 0===e?0:e,i=0,e=0;return.5<=t?(e=45,i=180*(t-.5)*2-135):t<.5&&(i=-135,e=2*t*180-135),r.a.createElement("div",{className:"Autograph-circleProgress",__source:{fileName:a,lineNumber:26},__self:this},r.a.createElement("div",{className:"Autograph-circleProgress--leftWrap",__source:{fileName:a,lineNumber:27},__self:this},r.a.createElement("div",{className:"Autograph-circleProgress--leftCircle",style:{transform:"rotate("+i+"deg)"},__source:{fileName:a,lineNumber:28},__self:this})),r.a.createElement("div",{className:"Autograph-circleProgress--rightWrap",__source:{fileName:a,lineNumber:30},__self:this},r.a.createElement("div",{className:"Autograph-circleProgress--rightCircle",style:{transform:"rotate("+e+"deg)"},__source:{fileName:a,lineNumber:31},__self:this})))},l=(i=b).prototype,c="roomLevelDetailServices",n=[n],f={enumerable:!0,initializer:null},m={},Object.keys(f).forEach(function(e){m[e]=f[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=n.slice().reverse().reduce(function(e,t){return t(l,c,e)||e},m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,c,m),m=null),s=m,i);function b(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,d.call.apply(d,[this].concat(l))),n="roomLevelDetailServices",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),u(t,e)}t.default=i},ea9b63:function(e,t,i){"use strict";var n,o,l,c,s,u,f,r=i("1a22b7"),p=i.n(r),m=i("074d14"),a=i("748d25"),d=i("447d8e"),b=i("eb3e22"),h=i("7ca7dc"),v=i("fc7947"),_=i.n(v),g=i("246cc3"),y=i("e854a7"),N=i("ffca33"),w=i("ac64b0"),O=i("b067ea"),S=i("0d126b"),E=i("0f5fdd"),r=i("16358b"),v=(i("edb1b7"),i("f1e255"),i("192724")),j=i("b1f9ab"),T="/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/RomanticDateComponent.js";function P(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function C(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var k,I=y.default.socketStream,i=h.default.Service,v=(y=i(b.DataCenter.common),h=i(E.default),E=i(r.default),r=i(b.DataCenter.global),O=i(O.default),b=i(b.DataCenter.acj),i=i(v.default),D(z,k=p.a.Component),z.prototype.listerRoomMsg=function(){var t=this;I.subscribe("OPEN_ROMANTIC_DATE",function(){t.onMainPanelShow("enterClick")}),I.subscribe("OPEN_ROMANTIC_DATE_BROAD",function(){t.isAnchor()||t.onMainPanelShow("broastClick")}),this.sub.add(Object(N.default)({url:"//webconf.douyucdn.cn/resource/common/config/interact_voice_change_w.json",type:"jsonp",callbackName:"interact_voice_change_w"}).pipe(Object(a.filter)(function(e){return 1==+e.voiceChangeSwitch})).subscribe(function(e){e=e.tipsClickSwitch;t.setState({tipsClickSwitch:void 0===e?0:e}),t.sub.add(t.acj.get(w.ROOM_TYPE.ROOM_WEB_ACC_DATA).subscribe(function(e){e=e.type;20==+e?(t.hasRecivedVoiceChange=!0,t.clearTipsTimer(),t.setState({showTips:!0},t.setTipsTimer)):19==+e?(t.clearTipsTimer(),t.setState({showTips:!1})):18!=+e||t.hasRecivedVoiceChange||(t.hasRecivedVoiceChange=!0,t.clearTipsTimer(),t.setState({showTips:!0},t.setTipsTimer))}))}))},z.prototype.componentDidMount=function(){this.checkEnter(),this.configEffectBroadcastService.register("romanticdate202009",{type:"OPEN_ROMANTIC_DATE"}),this.configEffectBroadcastService.register("romantic_screen",{type:"OPEN_ROMANTIC_DATE_BROAD"}),this.romanticDateServices.init({openPanel:this.onMainPanelShow})},z.prototype.componentWillUnmount=function(){this.clearTipsTimer(),this.sub.unsubscribe()},z.prototype.componentDidUpdate=function(){this.state.showEnter&&!this.toolbarUpdated&&(this.toolbarUpdated=!0)},z.prototype.isAnchor=function(){return+this.global.get("USER_INFO.uid")==+this.global.get("$ROOM.owner_uid")},z.prototype.getShow=function(e){var t=e.json,i=e.roomId,n=e.cate2Id,r=e.level,e=!0;0===t.is_open_v2&&(e=!1),null!=t.black_list&&-1!==t.black_list.indexOf(i)&&(e=!1),null!=t.cate2_list&&-1===t.cate2_list.indexOf(+n)&&(e=!1);t=(t||{}).user_level_limit,t=void 0===t?0:t;return e=0<t&&(!_.a.check()||+r<+t)?!1:e},z.prototype.getAct2LinkUrl=function(e){if(!e)return e;var t="rid="+this.global.get("$ROOM.room_id");return e+(-1<e.indexOf("?")?"&":"?")+t},z.prototype.checkEnter=function(){var c=this;I.subscribe("memberinfores",function(e){var e=(e||{}).level,l=void 0===e?0:e;c.common.get("$DATA").subscribe(function(e){c.$ROOM=e.get("room");var a=c.$ROOM.room_id,o=c.$ROOM.cate2_id;c.sub.add(c.romanticDateServices.getJsonData().subscribe(function(e){var t,i,n,r;e&&(t=c.getShow({json:e,roomId:a,cate2Id:o,level:l}),i=1e3*e.new_guide_end_time<(new Date).getTime()?!1:t,n=c.romanticDateServices.getEnterTipFlag(),r=c.romanticDateServices.getNewGuideVid(),n&&r===e.new_guide_vid?i=!1:i&&(c.romanticDateServices.saveEnterTipAction(),c.romanticDateServices.saveNewGuideVid(e.new_guide_vid)),t&&(c.romanticDateServices.romanticDysub("enterExposure"),i&&c.romanticDateServices.romanticDysub("newGuideExposure")),r=e.act2,c.setState({cateId:+o,showEnter:t,showTipPanel:i,dataSource:{guideText:e.new_guide_text,giftIntroductionText:e.gift_introduction_text,scrollingIntroductionText:e.scrolling_introduction_text,gameDescription:e.gameDescPic,heartIntroduction:e.heart_introduction_text,scfaHeartIntroduction:e.scfa_heart_introduction_text,actBanner:e.act_banner,act2startTime:(r=void 0===r?{}:r).startTime,act2endTime:r.endTime,act2LinkUrl:c.getAct2LinkUrl(r.actLinkUrl)}},function(){t&&c.listerRoomMsg()}))}))})})},z.prototype.render=function(){var e=this,t=this.props,i=t.showTip,n=t.boxConfig,r=this.state,a=r.showTipPanel,o=r.showEnter,t=r.dataSource,r=r.showTips;if(o){n=this.globalTreasureBoxServices.checkBoxOpen({btype:"romanticDate",boxConfig:n});return p.a.createElement("div",{className:"RomanticDateComponent",__source:{fileName:T,lineNumber:341},__self:this},p.a.createElement("div",{className:"RomanticDateComponent-RomanticDate",onClick:this.togglePanel,__source:{fileName:T,lineNumber:342},__self:this},r?p.a.createElement("span",{className:"RomanticDateComponent-enterTips",onClick:this.tipsClick,__source:{fileName:T,lineNumber:346},__self:this},this.isAnchor()?"":"主播","收到变音礼物，正在变音中",p.a.createElement("i",{onClick:this.handleCloseBtn,__source:{fileName:T,lineNumber:347},__self:this})):null,p.a.createElement("div",{className:"RomanticDateComponent-RomanticDate--Name",__source:{fileName:T,lineNumber:350},__self:this},"甜蜜告白"),i&&a&&p.a.createElement(g.default,{content:t.guideText,showTime:"8",onClick:function(){e.onMainPanelShow("newGuideClick")},__source:{fileName:T,lineNumber:352},__self:this}),n?p.a.createElement(j.default,{__source:{fileName:T,lineNumber:359},__self:this}):null),this.contentPane)}return null},n=C((v=z).prototype,"common",[y],{enumerable:!0,initializer:null}),o=C(v.prototype,"romanticDateServices",[h],{enumerable:!0,initializer:null}),l=C(v.prototype,"commonToolbarService",[E],{enumerable:!0,initializer:null}),c=C(v.prototype,"global",[r],{enumerable:!0,initializer:null}),s=C(v.prototype,"configEffectBroadcastService",[O],{enumerable:!0,initializer:null}),u=C(v.prototype,"acj",[b],{enumerable:!0,initializer:null}),f=C(v.prototype,"globalTreasureBoxServices",[i],{enumerable:!0,initializer:null}),v);function z(){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,z);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,k.call(this));return P(a,"common",n,a),P(a,"romanticDateServices",o,a),P(a,"commonToolbarService",l,a),P(a,"global",c,a),P(a,"configEffectBroadcastService",s,a),P(a,"acj",u,a),P(a,"globalTreasureBoxServices",f,a),a.toolbarUpdated=!1,a.state={showTipPanel:!0,showEnter:!1,cateId:-1,dataSource:{guideText:"",giftIntroductionText:"",scrollingIntroductionText:[],gameDescription:"",heartIntroduction:[],scfaHeartIntroduction:[],actBanner:{},act2startTime:0,act2endTime:0,act2LinkUrl:""},showTips:!1,tipsClickSwitch:0},a.tipsTimer=null,a.sub=new m.Subscription,a.clearTipsTimer=function(){clearTimeout(a.tipsTimer),a.tipsTimer=null},a.setTipsTimer=function(){a.tipsTimer=setTimeout(function(){return a.setState({showTips:!1})},8e3)},a.togglePanel=function(){return a.contentPane?a.onCancel():a.onMainPanelShow("enterClick")},a.onMainPanelShow=function(e){var t=a.state,i=t.dataSource,n=t.cateId;a.romanticDateServices.romanticDysub(e),a.setState({showTipPanel:!1},function(){a.contentPane=p.a.createElement(S.default,{cateId:n,onCancel:a.onCancel,dataSource:i,__source:{fileName:T,lineNumber:140},__self:r}),a.forceUpdate()})},a.onCancel=function(){a.contentPane=null,a.forceUpdate()},a.handleCloseBtn=function(e){e.preventDefault(),e.stopPropagation(),a.clearTipsTimer(),a.setState({showTips:!1})},a.tipsClick=function(e){e.preventDefault(),e.stopPropagation(),1==+a.state.tipsClickSwitch&&a.togglePanel()},a.onMainPanelShow=a.onMainPanelShow.bind(a),a}t.default=Object(d.connect)(function(e){e=e.globalTreasureBox;return{boxConfig:(void 0===e?{}:e).boxConfig}})(v)},eb3e22:function(e,t,i){e.exports=i("d1db8c")("e55c4")},eb4d33:function(e,t,i){e.exports=i("5f575e")("623b6")},eb946c:function(e,t,i){"use strict";i=i("c9b26e");t.default=i.default},ebd8cf:function(e,t,i){"use strict";i.d(t,"MIN_LEFT_RENDER_NUM",function(){return n}),i.d(t,"MIN_RIGHT_RENDER_NUM",function(){return r}),i.d(t,"MAX_LEFT_RENDER_NUM",function(){return a}),i.d(t,"MAX_RIGHT_RENDER_NUM",function(){return o}),i.d(t,"ENTER_WIDTH",function(){return l}),i.d(t,"EXPANDBTN_WIDTH",function(){return c}),i.d(t,"POSITION_LEFT",function(){return s}),i.d(t,"POSITION_RIGHT",function(){return u}),i.d(t,"INIT_ACTIVITIES_WEIGHT",function(){return f});var n=2,r=1,a=100,o=100,l=68,c=32,s=0,u=1,f=100},ec27d1:function(e,t,i){"use strict";var s,n=i("97a1f0");function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var a,o,l,c,f,p,n=(i=Object(n.Inject)("live.playerAsideModule.ChatSendServices"),r(m,p=n.Service),m.prototype.sendBarrage=function(e){this.chatSendServices.sendBarrage(e).subscribe()},a=(n=m).prototype,o="chatSendServices",i=[i],l={enumerable:!0,initializer:null},f={},Object.keys(l).forEach(function(e){f[e]=l[e]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=i.slice().reverse().reduce(function(e,t){return t(a,o,e)||e},f),c&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(c):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(a,o,f),f=null),s=f,n);function m(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,p.call.apply(p,[this].concat(l))),n="chatSendServices",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),u(t,e)}t.default=n},ecf6ab:function(e,t,i){"use strict";i.d(t,"actions",function(){return r});var n=i("193899"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n=Object(n.createSlice)({name:"MUSICIANDATA",initialState:{bannerData:{},isFirstShow:!1,errorType:0},extraReducers:{},reducers:{updateData:function(e,t){t=t.payload;e.bannerData=t.bannerData||{},e.errorType=t.errorType||0}}}),r=i({},n.actions);t.default={musicianData:n.reducer}},ed7240:function(e,t,i){e.exports=i("5f575e")("c1dfd")},edb1b7:function(e,t,i){},edec24:function(e,t,i){e.exports=i("2d6146")("d8aa8")},eeb07d:function(e,t,i){e.exports=i("d1db8c")("5371a")},eeb9b8:function(e,t,i){e.exports=i("5f575e")("aa9da")},ef6cd7:function(e,t,i){"use strict";var n=i("1a22b7"),o=i.n(n),l=i("ad9050"),c=(i("5f2f91"),"/shark/live/src/pages/roomPage/toolbarModule/components/SuperWarShipIcon/components/ProcessBar/index.js");t.default=function(e){var t=e.data,i=void 0===t?{}:t,n=e.extClass,r=void 0===n?"":n,a=i.preTitle,t=i.finishNum,e=void 0===t?0:t,n=i.targetNum,t=void 0===n?0:n,n=i.rate,i=0;100<(i=n||0===n?n:0==+t?0:e/t*100)&&(i=100);t=""+(void 0===a?"":a)+(Object(l.mmFormatNumByWan)(e)||0)+"/"+(Object(l.mmFormatNumByWan)(t)||"--");return o.a.createElement("div",{className:"ProcessBar "+(100===i?"is-finished":"")+" "+r,__source:{fileName:c,lineNumber:38},__self:void 0},o.a.createElement("div",{className:"ProcessBar-wrap",__source:{fileName:c,lineNumber:39},__self:void 0},o.a.createElement("div",{className:"ProcessBar-process",style:{width:100-i+"%"},__source:{fileName:c,lineNumber:40},__self:void 0})),o.a.createElement("div",{className:"ProcessBar-desc",__source:{fileName:c,lineNumber:42},__self:void 0},t))}},eff4b3:function(e,t,i){},f0a5be:function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),n=i("3b6ec9"),a=i.n(n),o=i("f7c4b6"),l=i("3254fc"),c=i("11423c"),s=i("b39c64"),u="/shark/live/src/pages/roomPage/toolbarModule/components/RomanticDate/RomanticDatePanel/RomanticDatePanel.js";function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var m,i=(p(d,m=r.a.Component),d.prototype.setShowPage=function(){var e=this.state.pageIndex,t=this.props,i=t.dataSource,t=t.cateId;-1===e?this.showPage=r.a.createElement(o.default,{pageIndex:e,cateId:t,dataSource:i,__source:{fileName:u,lineNumber:39},__self:this}):0===e?this.showPage=r.a.createElement(l.default,{pageIndex:e,dataSource:i.gameDescription,__source:{fileName:u,lineNumber:43},__self:this}):1===e&&(this.showPage=r.a.createElement(c.default,{pageIndex:e,__source:{fileName:u,lineNumber:49},__self:this}))},d.prototype.render=function(){return this.setShowPage(),a.a.createPortal(r.a.createElement(s.default,{visible:!0,onCancel:this.handleCancel,onMenuClick:this.onMenuClicked,__source:{fileName:u,lineNumber:57},__self:this},r.a.createElement("div",{className:"RomanticDatePanelModal",__source:{fileName:u,lineNumber:62},__self:this},this.showPage)),document.body)},d);function d(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=f(this,m.call.apply(m,[this].concat(n))),t.state={pageIndex:-1},t.handleCancel=function(){t.props.onCancel()},t.onMenuClicked=function(e){t.setState({pageIndex:e})},f(t,e)}t.default=i},f12b8d:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"YZGIFTRANK_TOGGOLE_DIALOG",function(){return a}),i.d(t,"YZGIFTRANK_ACTIVE_TAB",function(){return o}),i.d(t,"YZGIFTRANK_TOGGLE_SEND_AJAX",function(){return l}),i.d(t,"YZGIFTRANK_GET_DATA_FROM_BACK",function(){return c}),i.d(t,"YZGIFTRANK_RECEIVE_TOTAL_LIST",function(){return s}),i.d(t,"YZGIFTRANK_GET_RULE",function(){return u}),i.d(t,"YZGIFTRANK_SET_RULE",function(){return f}),i.d(t,"YZGIFTRANK_GET_ANCHOR_DATA",function(){return p}),i.d(t,"YZGIFTRANK_SET_ANCHOR_LIST",function(){return m}),i.d(t,"RECEIVE_ALL_GIFT_CONFIG",function(){return d}),i.d(t,"YZGIFTRANK_SET_COUNT",function(){return b});var r,a="YZGIFTRANK_TOGGOLE_DIALOG",o="YZGIFTRANK_ACTIVE_TAB",l="YZGIFTRANK_TOGGLE_SEND_AJAX",c="YZGIFTRANK_GET_DATA_FROM_BACK",s="YZGIFTRANK_RECEIVE_TOTAL_LIST",u="YZGIFTRANK_GET_RULE",f="YZGIFTRANK_SET_RULE",p="YZGIFTRANK_GET_ANCHOR_DATA",m="YZGIFTRANK_SET_ANCHOR_LIST",d="RECEIVE_ALL_GIFT_CONFIG",b="YZGIFTRANK_SET_COUNT",i=(n(h,r=i("97a1f0").Action),h.toggleDialog=function(e){return{type:a,payload:e}},h.toggleActive=function(e){return{type:o,payload:e}},h.toggleSendAjax=function(e){return{type:l,payload:e}},h.getDataFromBack=function(){return{type:c}},h.receiveTotalList=function(e){return{type:s,payload:e}},h.receiveError=function(e){return{type:"YZGIFTRANK_RECEIVE_ERROR",payload:e}},h.getRule=function(){return{type:u}},h.setRule=function(e){return{type:f,payload:e}},h.getAnchorData=function(){return{type:p}},h.setAnchorList=function(e){return{type:m,payload:e}},h.receiveAllGiftConfig=function(e){return{type:d,payload:e}},h.setCount=function(e){return{type:b,payload:e}},h);function h(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}t.default=i},f158c8:function(e,t,i){},f1e255:function(e,t,i){},f20ba2:function(e,t,i){"use strict";var n=i("c7fb88"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={isLogin:!1,iframe:"about:blank",txIframe:"about:blank",show:!1,tokenData:null,userIsLocked:!1},o={guessPrize:null,guessTip:null,guessHover:null,guessCorner:!1,guessCornerWenan:""};t.default={guessData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case n.GUESS_SET_IFRAME:return r({},e,{iframe:t.payload});case n.GUESS_SET_TXIFRAME:return r({},e,{txIframe:t.payload});case n.GUESS_TOGGLE_DIALOG:var i="undefined"!==t.payload?t.payload:!e.show;return r({},e,{show:i});case n.USER_IS_LOCKED:return r({},e,{userIsLocked:!0});default:n.GUESS_RECEIVE_TOKEN;return e}},guessBtnStatus:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case n.SET_GUESS_PRIZE:return r({},e,{guessPrize:t.payload});case n.SET_GUESS_TIP:return r({},e,{guessTip:t.payload});case n.SET_GUESS_HOVER:return r({},e,{guessHover:t.payload});case n.SET_GUESS_CORNER:return r({},e,{guessCorner:t.payload});case n.SET_CORNER_WENAN:return r({},e,{guessCornerWenan:t.payload});default:return e}}}},f2a3ad:function(e,t,i){},f2b8b7:function(e,t,i){e.exports=i("5f575e")("7d4e5")},f30d01:function(e,t,i){"use strict";var n,r,a,o,c,s,u,f,p,m,d,l=i("1a22b7"),b=i.n(l),h=i("292183"),v=i.n(h),_=i("447d8e"),g=i("074d14"),y=i("5264d4"),N=i("7ca7dc"),w=i("54992a"),O=i("fc7947"),S=i.n(O),E=i("722b8a"),j=i("eb3e22"),T=i("ffca33"),P=i("20ec0b"),D=i("56b0a1"),C=i("5b9730"),k=i("16358b"),I=i("98c751"),z=i("3c9dac"),l=i("de008c"),R=i("ad15c9"),A=i("0a257a"),x=i("1b219b"),G=i("06007c"),L=i("82248a"),M=i("e8daba"),B=i("c44070"),F=i("7e93cf"),U=i("a81903"),W=(i("8d9e2a"),"/shark/live/src/pages/roomPage/toolbarModule/components/Gift/Gift.js");function J(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function H(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var V,$=i("e854a7").default.socketStream,h=N.default.Service,K="face-effect-noremind",v=(O=h(j.DataCenter.global),i=h(j.DataCenter.common),N=h(j.DataCenter.acj),w=h(w.Logger),C=h(C.default),P=h(P.default),D=h(D.default),I=h(I.default),k=h(k.default),z=h(z.default),l=h(l.default),Y(q,V=b.a.Component),q.prototype.componentDidUpdate=function(){this.props.loaded&&this.toolbarService.giftAreaShow()},q.prototype.componentWillReceiveProps=function(e){this.setState({showYCLow:e.showYCLow,showYWLow:e.showYWLow,showYWLowInfo:e.showYWLowInfo,showYCLowInfo:e.showYCLowInfo,showAnchorScoreLow:e.showAnchorScoreLow,isShowGiftAct:e.isShowGiftAct}),this.mapToState(e.allGift)},q.prototype.mapToState=function(e){var i=[],n=[],r=[];e.forEach(function(e){var t;e&&1!==parseInt(e.showStatus,10)&&(t=(void 0===(t=e.basicInfo)?{}:t).giftType,(i.length<7?i:1===parseInt(t,10)?r:n).push(e))}),this.setState({nobleGift:r,panelGift:n,normalGift:i})},q.prototype.componentWillMount=function(){var e=this.global.get("USER_INFO");e&&parseInt(e.uid,10)===this.global.get("$ROOM.owner_uid")&&(this.isOwnerRoom=!0)},q.prototype.componentDidMount=function(){var n=this;this.giftService.init({updateCallback:this.updateGiftPanel}),this.subp.add(Object(y.combineLatest)(this.common.get("$DATA"),Object(T.default)({url:"//webconf.douyucdn.cn/resource/common/effectBlackList.json",type:"jsonp",callbackName:"effectBlackListCallback"})).subscribe(function(e){var t=e[0],e=e[1],e=(void 0===e?{}:e).rids||[],i=(t||{}).room||{},e=!!e.find(function(e){return+i.room_id==+e});n.setState({inEffectGiftInBlack:e})})),$.subscribe("user_entry_room_stream",function(e){n.setState({isThirdPartyObs:"1"===e.isThirdPartyObs})}),$.subscribe("anchor_rtmp_change_notify",function(e){n.setState({isThirdPartyObs:"1"===e.isThirdPartyObs})}),$.subscribe("memberinfores",function(i){n.common.get("$DATA").subscribe(function(e){var t=e.get("room"),e=n.state.nobleInfo;e.load=!0,e.nl=i.nl,0<i.nl&&(t=t.nobleConfig[i.nl]||{},e.noble_gift=t.noble_gift,e.npl=i.npl),n.setState({nobleInfo:e})})}),this.common.get("GIFT_PANEL_FORCE_INFO").subscribe(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.isForceShowGiftPanel,e=e.isForceSendAnchor,e=void 0===e?null:e;(void 0===t?null:t)&&n.setState({isForceShowGiftPanel:!0}),e&&n.setState({isForceSendAnchor:!0})})},q.prototype.componentWillUnmount=function(){this.subp&&this.subp.unsubscribe()},q.prototype.updateGiftPanel=function(){this.setState({updateGiftPanelTimes:(new Date).getTime()})},q.prototype.isShowFaceEffectTip=function(e){var t=this.state,i=t.isThirdPartyObs,t=t.inEffectGiftInBlack,e=1==+e.isFace;return!j.DataCenter.localStorage.get(K)&&!(!e||!i&&!t)},q.prototype.showNobleError=function(){var e="开通贵族",t=this.state.nobleInfo;0===t.noble_gift?e="升级贵族":0===t.nl&&0<t.npl&&(e="续费贵族"),this.setState({nobleErrorShow:!0,nobleErrorText:e})},q.prototype.render=function(){var i=this,e=this.state,t=e.normalGift,n=void 0===t?[]:t,r=e.nobleGift,a=void 0===r?[]:r,o=e.panelGift,l=void 0===o?[]:o,c=e.nobleErrorShow,s=e.nobleErrorText,u=e.showYCLow,f=e.showYWLow,p=e.showYWLowInfo,t=e.showYCLowInfo,r=e.showAnchorScoreLow,o=e.isForceShowGiftPanel,e=0<l.length+a.length;if(r)return b.a.createElement(b.a.Fragment,{__source:{fileName:W,lineNumber:448},__self:this},b.a.createElement("div",{className:"AnchorScoreLowRemain",__source:{fileName:W,lineNumber:449},__self:this},"主播积分过低，礼物不可使用"),b.a.createElement(L.default,{visible:u,info:t,__source:{fileName:W,lineNumber:450},__self:this}),b.a.createElement(M.default,{visible:f,info:p,__source:{fileName:W,lineNumber:451},__self:this}));var r=this.props.giftSkinSelData,m=void 0===r?{}:r;return this.props.loaded?b.a.createElement("div",{className:"ToolbarGiftArea",ref:this.initGiftArea,__source:{fileName:W,lineNumber:460},__self:this},b.a.createElement(x.default,{sendGiftBatch:this.sendGiftBatch,__source:{fileName:W,lineNumber:461},__self:this}),!this.isOwnerRoom||o?b.a.createElement("div",{className:"ToolbarGiftArea-GiftBox",__source:{fileName:W,lineNumber:464},__self:this},n.map(function(e,t){e=i.giftDataServices.returnMergeSkinItem(e,m[e.id]);return b.a.createElement(R.default,{key:t,sendGift:i.sendGift,info:e,giftSkinSelData:m,__source:{fileName:W,lineNumber:472},__self:i})})):null,this.isOwnerRoom&&!o||!e?null:b.a.createElement(A.default,{nobleGift:a,panelGift:l,sendGift:this.sendGift,giftSkinSelData:m,__source:{fileName:W,lineNumber:486},__self:this}),c?b.a.createElement(G.default,{text:s,close:this.hideNobleError,__source:{fileName:W,lineNumber:495},__self:this}):null,b.a.createElement(L.default,{visible:u,info:t,__source:{fileName:W,lineNumber:499},__self:this}),b.a.createElement(M.default,{visible:f,info:p,__source:{fileName:W,lineNumber:500},__self:this}),b.a.createElement(B.default,{__source:{fileName:W,lineNumber:501},__self:this}),!this.isOwnerRoom&&b.a.createElement(F.default,{__source:{fileName:W,lineNumber:503},__self:this}),b.a.createElement(U.default,{__source:{fileName:W,lineNumber:505},__self:this})):null},q.propTypes={allGift:v.a.array.isRequired,loaded:v.a.bool.isRequired},n=H((v=q).prototype,"global",[O],{enumerable:!0,initializer:null}),r=H(v.prototype,"common",[i],{enumerable:!0,initializer:null}),a=H(v.prototype,"acj",[N],{enumerable:!0,initializer:null}),o=H(v.prototype,"logger",[w],{enumerable:!0,initializer:null}),c=H(v.prototype,"giftService",[C],{enumerable:!0,initializer:null}),s=H(v.prototype,"giftSendServices",[P],{enumerable:!0,initializer:null}),u=H(v.prototype,"giftDataServices",[D],{enumerable:!0,initializer:null}),f=H(v.prototype,"toolbarService",[I],{enumerable:!0,initializer:null}),p=H(v.prototype,"commonToolbarService",[k],{enumerable:!0,initializer:null}),m=H(v.prototype,"followServices",[z],{enumerable:!0,initializer:null}),d=H(v.prototype,"getSwitchServices",[l],{enumerable:!0,initializer:null}),v);function q(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,q);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,V.call(this));return J(l,"global",n,l),J(l,"common",r,l),J(l,"acj",a,l),J(l,"logger",o,l),J(l,"giftService",c,l),J(l,"giftSendServices",s,l),J(l,"giftDataServices",u,l),J(l,"toolbarService",f,l),J(l,"commonToolbarService",p,l),J(l,"followServices",m,l),J(l,"getSwitchServices",d,l),l.initGiftArea=function(e){l.giftArea=e},l.preCheck=function(e,t){if(!S.a.check())return S.a.show("login",{source:1<t?"click_gift_batch_send":"click_gift_send"}),!1;var i=e.basicInfo,n=(void 0===i?{}:i).giftType,t=l.state.nobleInfo,e=1===parseInt(n,10),i=j.DataCenter.global,n=i.get("$ROOM"),i=i.get("USER_INFO");return e&&!t.nl?(l.showNobleError(),!1):!(i&&n&&parseInt(i.uid,10)===n.owner_uid&&!l.state.isForceSendAnchor&&(E.default.info("主播不能给自己赠送礼物"),1))},l.sendGift=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=e.name,n=e.picUrlPrefix,r=e.basicInfo,r=(void 0===r?{}:r).giftPic;l.giftService.storeLastGiftInfo({isShortGold:!0,willSendGift:n+(void 0===r?{}:r),willSendGiftNum:1,willSendGiftName:i,giftId:t,willSendGold:0}),l.preCheck(e,1)&&(l.giftService.giftDYSub("click_gift_send",{gfid:t}),l.isFirstSend&&(l.isFirstSend=!1,l.followServices.showFollowTips("gift")),l.isShowFaceEffectTip(e)?l.giftService.updateFaceEffect({giftId:t,num:1,isShow:!0,checked:!0}):(e=l.props.giftSkinSelData,l.giftSendServices.sendMainGift({giftId:t,number:1,isMainGift:1,skinId:+(void 0===e?{}:e)[t]||0})))},l.sendGiftBatch=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.id,n=t.name,r=t.picUrlPrefix,a=t.basicInfo,o=t.priceInfo,a=(void 0===a?{}:a).giftPic,o=(void 0===o?{}:o).price;l.giftService.storeLastGiftInfo({isShortGold:!0,willSendGift:r+(void 0===a?{}:a),willSendGiftNum:e,willSendGiftName:n,giftId:i,willSendGold:0}),l.preCheck(t,e)&&(l.giftService.giftDYSub("click_gift_batch_send",{gfid:i,pc:o||"",num:e,name:n,src_type:l.giftService.returnScreenFullState()?2:1}),l.isShowFaceEffectTip(t)?l.giftService.updateFaceEffect({giftId:i,num:e,isShow:!0,checked:!0}):(t=l.props.giftSkinSelData,l.giftSendServices.sendMainGift({giftId:i,number:e,isMainGift:1,skinId:+(void 0===t?{}:t)[i]||0})))},l.hideNobleError=function(){l.setState({nobleErrorShow:!1})},l.state={normalGift:[],nobleGift:[],panelGift:[],expandPanelShow:!1,nobleErrorShow:!1,nobleErrorText:"开通贵族",nobleInfo:{load:!1,nl:0},updateGiftPanelTimes:0,isShowGiftAct:!0,isForceShowGiftPanel:!1,isForceSendAnchor:!1,isThirdPartyObs:!1,inEffectGiftInBlack:!1},l.isFirstSend=!0,l.updateGiftPanel=l.updateGiftPanel.bind(l),l.subp=new g.Subscription,j.DataCenter.localStorage.remove(K),l}t.default=Object(_.connect)(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).giftData||{};return{allGift:e.allGift,loaded:e.loaded,token:e.token,showYCLow:e.showYCLow,showYWLow:e.showYWLow,showYWLowInfo:e.showYWLowInfo,showYCLowInfo:e.showYCLowInfo,showAnchorScoreLow:e.showAnchorScoreLow,isShowGiftAct:e.isShowGiftAct,giftSkinSelData:e.giftSkinSelData}})(v)},f34091:function(e,t,i){},f344a1:function(e,t,i){"use strict";var a=i("f12b8d"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n={showDialog:!1,activeTab:1,sendAjax:!0,hasWeekGift:!1},l={currWeek:[],lastWeek:{},rule:[],anchorList:[],count:0};t.default={yzGiftRankData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];switch(t.type){case a.YZGIFTRANK_TOGGOLE_DIALOG:return o({},e,{showDialog:t.payload});case a.YZGIFTRANK_ACTIVE_TAB:return o({},e,{activeTab:t.payload});case a.YZGIFTRANK_TOGGLE_SEND_AJAX:return o({},e,{sendAjax:t.payload});case a.RECEIVE_ALL_GIFT_CONFIG:return o({},e,{hasWeekGift:t.payload});default:return e}},yzGiftRankList:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.YZGIFTRANK_RECEIVE_TOTAL_LIST:var i=t.payload,n=i.lastWeek,r=i.currWeek,i=i.fanTitle;return o({},e,{lastWeek:n,currWeek:r,fanTitle:i});case a.YZGIFTRANK_SET_RULE:return o({},e,{rule:t.payload});case a.YZGIFTRANK_SET_ANCHOR_LIST:return o({},e,{anchorList:t.payload});case a.YZGIFTRANK_SET_COUNT:return o({},e,{count:t.payload});default:return e}}}},f3ba96:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/score_270004e.jpg"},f489b9:function(e,t,i){e.exports=i("5f575e")("6f577")},f4be38:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"SHOW_ACT_GIFT_BAR_BUBBLE",function(){return a});var r,a="SHOW_ACT_GIFT_BAR_BUBBLE",i=(n(o,r=i("97a1f0").Action),o.showGiftBarBubble=function(e){return{type:a,payload:e}},o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}t.default=i},f4dc83:function(e,t,i){"use strict";var s,n=i("1a22b7"),r=i.n(n),a=i("7ca7dc"),o=i("722b8a"),l=i("bc6a90"),c=(i("7ede87"),"/shark/live/src/pages/roomPage/toolbarModule/components/LolLottery/components/LOLMessageDialog.js");function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var p,m,d,b,h,v,n=(l=(0,a.default.Service)(l.default),f(_,v=n.Component),_.prototype.onConfirm=function(){var e=this.props.gameRes.type;1===e&&this.lolLotteryService.bindBeforeCheckEpics({type:"qq"}),2===e&&this.QQOathLogin(),3===e&&this.lolLotteryService.closeMessageDialog({showMessageDialog:!1,gameRes:{}}),4===e&&(e=this.props.actId,this.lolLotteryService.getPrizeStatusEpics({actId:e}))},_.prototype.closeDialog=function(){this.lolLotteryService.closeMessageDialog({showMessageDialog:!1})},_.prototype.QQOathLogin=function(){var e=this.props.roomData,t=void 0===e?{}:e,i=t.roomId,n=t.cateId,r=t.tagId,e=t.childId,t=t.vid,e=[window.location.origin+"/member/oauth/signin/qq?biz_type=1&ref_url="+encodeURIComponent(window.location.origin)+"?room_id=",i,"&cate_id=",n,"&tag_id=",r,"&child_id=",e,"&vid=",t,"&fac=click_topnavi_login&type=login"].join(""),t=window.open("about:blank");t?t.location.href=e:o.default.error("新窗口被浏览器拦截，请点击右上角允许弹出窗口和重定向")},_.prototype.render=function(){var e=this,t=this.props,i=t.visible,t=t.gameRes,t=void 0===t?{}:t;return r.a.createElement("div",{className:void 0!==i&&i?"LOLMessageDialog":"LOLMessageDialog LOLMessageDialog-hide",__source:{fileName:c,lineNumber:86},__self:this},r.a.createElement("span",{className:"LOLMessageDialog-close",onClick:function(){return e.closeDialog()},__source:{fileName:c,lineNumber:87},__self:this}),r.a.createElement("p",{className:"LOLMessageDialog-title",__source:{fileName:c,lineNumber:88},__self:this},"提示"),r.a.createElement("p",{className:"LOLMessageDialog-content",__source:{fileName:c,lineNumber:89},__self:this},t.msg),r.a.createElement("a",{className:"LOLMessageDialog-btn",onClick:function(){return e.onConfirm()},__source:{fileName:c,lineNumber:90},__self:this},t.btnTxt||"确定"))},p=(n=_).prototype,m="lolLotteryService",l=[l],d={enumerable:!0,initializer:null},h={},Object.keys(d).forEach(function(e){h[e]=d[e]}),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=l.slice().reverse().reduce(function(e,t){return t(p,m,e)||e},h),b&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(b):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(p,m,h),h=null),s=h,n);function _(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var i,n,r,a,o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return e=t=u(this,v.call.apply(v,[this].concat(l))),n="lolLotteryService",a=i=t,(r=s)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),u(t,e)}t.default=n},f4f1ae:function(e,t,i){},f541c0:function(e,t,i){},f55883:function(e,t,i){},f58b43:function(e,t,i){"use strict";var n=i("1a22b7"),r=i.n(n),a=i("1140d7"),o="/shark/live/src/pages/roomPage/toolbarModule/business/rightArea/CookComplete/components/index.js";function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}var c,i=(l(s,c=r.a.Component),s.prototype.render=function(){return r.a.createElement("div",{className:"CookComplete",__source:{fileName:o,lineNumber:7},__self:this},r.a.createElement(a.default,{__source:{fileName:o,lineNumber:8},__self:this}))},s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,c.apply(this,arguments))}t.default=i},f61079:function(e,t,i){e.exports=i("5f575e")("59441")},f68984:function(e,t,i){e.exports=i("d1db8c")("53a00")},f6d652:function(e,t,i){},f78b83:function(e,t,i){"use strict";var a,o,l,c,s,u,f,p,m,d,n=i("eb3e22"),r=i("54992a");function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}n.basicTypes.string;var y,N,w=n.basicTypes.number,O=n.basicTypes.mapping,S=n.basicTypes.typed,E=n.basicTypes.optional,j=n.basicTypes.array,i=(g(P,N=n.EntityDto),P),n=(O=O({nobleGold:"noble_gold",nobleGoldBlack:"noble_gold_black"}),r=Object(r.log)(!0),i=S(i),j=j(String),O(n=r((g(T,y=n.EntityDto),a=h((n=T).prototype,"sb",[w],{enumerable:!0,initializer:null}),o=h(n.prototype,"nobleGold",[w],{enumerable:!0,initializer:null}),l=h(n.prototype,"ry",[w],{enumerable:!0,initializer:null}),c=h(n.prototype,"nobleGoldBlack",[w],{enumerable:!0,initializer:null}),s=h(n.prototype,"gid",[w],{enumerable:!0,initializer:null}),u=h(n.prototype,"gx",[w],{enumerable:!0,initializer:null}),f=h(n.prototype,"num",[w],{enumerable:!0,initializer:null}),p=h(n.prototype,"priceType",[w],{enumerable:!0,initializer:null}),m=h(n.prototype,"bgift",[E,i],{enumerable:!0,initializer:null}),d=h(n.prototype,"messages",[E,j],{enumerable:!0,initializer:null}),n=n))||n)||n);function T(){var e,t;v(this,T);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=_(this,y.call.apply(y,[this].concat(n))),b(t,"sb",a,t),b(t,"nobleGold",o,t),b(t,"ry",l,t),b(t,"nobleGoldBlack",c,t),b(t,"gid",s,t),b(t,"gx",u,t),b(t,"num",f,t),b(t,"priceType",p,t),b(t,"bgift",m,t),b(t,"messages",d,t),_(t,e)}function P(){return v(this,P),_(this,N.apply(this,arguments))}t.default=n},f7c4b6:function(e,t,i){"use strict";i=i("554852");t.default=i.default},f7d362:function(e,t,i){"use strict";i=i("257ef5");t.default=i.default},f8a0bb:function(e,t,i){"use strict";var n,r,a,o,l,c,s,u,f=i("1a22b7"),p=i.n(f),m=i("447d8e"),d=i("7ca7dc"),b=i("54992a"),h=i("eb3e22"),v=i("db47a7"),_=i("fc7947"),g=i.n(_),y=i("f30d01"),N=i("58f744"),w=i("6fd983"),O=i("a16933"),S=i("a58983"),E=i("6dd8b2"),j=i("ad3036"),T=i("0bfb3f"),P=i("68f46c"),D=i("a5095b"),C=i("09dd72"),k=i("9d7f29"),I=i("091fa9"),z=(i("e86473"),"/shark/live/src/pages/roomPage/toolbarModule/components/Toolbar/Toolbar.js");function R(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function x(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var G,L=d.default.Region,M=d.default.Service,B=d.default.Store,F=Object(f.lazy)(function(){return i.e("FansgiftboxTip_0779532").then(i.bind(null,"d92ca1"))}),U=(U=Object(b.log)(!0),_=M(h.DataCenter.event),d=M(h.DataCenter.common),B=B(),b=M(b.Logger),S=M(S.default),E=M(E.default),j=M(j.default),k=M(k.default),U((A(W,G=p.a.Component),W.prototype.hasClass=function(e,t){return-1<(" "+e.className+" ").indexOf(" "+t+" ")},W.prototype.componentDidMount=function(){var a=this;this.common.get("$DATA").subscribe(function(e){a.$ROOM=e.get("room"),a.setState({ownerUid:a.$ROOM.owner_uid}),a.mmGeneralConfigServices.configRequest().subscribe(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).recharge_config,t=void 0===e?{}:e,i=a.$ROOM,n=i.room_id,r=i.cate2_id,e=t.is_open,i=t.rid_blacklist,i=void 0===i?[]:i,t=t.cid2_blacklist,t=void 0===t?[]:t;1==+e&&-1===i.indexOf(+n)&&-1===t.indexOf(+r)&&(a.setState({isShowPayEntry:!0}),Object(v.dysub2)({action_code:"160100243001",event_id:3,type:1}))}),1!=+a.$ROOM.nrt&&a.fansgiftboxService.getFansgiftBoxConfig().subscribe(function(e){e=a.fansgiftboxService.isShowTips(e);a.setState({isfansgiftboxShow:e})})}),g.a.check()||this.setState({totalGold:0,totalGoldReceived:!0,silver:0,silverReceived:!0}),this.commonDataServices.getTotalGold().subscribe(function(e){e=e.data;a.setState({totalGold:e,totalGoldReceived:!0})}),this.commonDataServices.getSilver().subscribe(function(e){e=e.data;a.setState({silver:e,silverReceived:!0})}),this.configToastServices.init()},W.prototype.render=function(){var t=this,e=h.DataCenter.global.get("USER_INFO"),i=!1,n=this.state.ownerUid,r=this.state,a=r.silver,o=r.totalGold,l=r.silverReceived,c=r.totalGoldReceived,s=r.isShowPayEntry,u=r.isfansgiftboxShow,r=this.props.webStreamData,r=void 0===r?{}:r;return e&&parseInt(e.uid,10)===n&&(i=!0),p.a.createElement("div",{className:"PlayerToolbar",__source:{fileName:z,lineNumber:156},__self:this},p.a.createElement("div",{className:"PlayerToolbar-Content",__source:{fileName:z,lineNumber:157},__self:this},p.a.createElement("div",{className:"PlayerToolbar-ContentRow",__source:{fileName:z,lineNumber:158},__self:this},p.a.createElement("div",{className:"PlayerToolbar-ContentCell is-full",__source:{fileName:z,lineNumber:159},__self:this},p.a.createElement(D.default,{__source:{fileName:z,lineNumber:160},__self:this})),p.a.createElement("div",{className:"PlayerToolbar-ContentCell",__source:{fileName:z,lineNumber:162},__self:this},p.a.createElement("div",{className:"PlayerToolbar-GiftWrap",ref:function(e){return t.giftWrap=e},__source:{fileName:z,lineNumber:163},__self:this},p.a.createElement(y.default,{__source:{fileName:z,lineNumber:165},__self:this}),i?p.a.createElement("div",{__source:{fileName:z,lineNumber:166},__self:this}):p.a.createElement(N.default,{__source:{fileName:z,lineNumber:166},__self:this}))))),p.a.createElement("div",{className:"PlayerToolbar-Content",__source:{fileName:z,lineNumber:171},__self:this},p.a.createElement("div",{className:"PlayerToolbar-ContentRow",__source:{fileName:z,lineNumber:172},__self:this},p.a.createElement("div",{className:"PlayerToolbar-ContentCell",__source:{fileName:z,lineNumber:173},__self:this},p.a.createElement("div",{className:" PlayerToolbar-signCont",__source:{fileName:z,lineNumber:174},__self:this},p.a.createElement(L,{name:"sign",belongTo:"ToolbarApp",data:{id:"30012",viewRender:function(){return p.a.createElement(O.default,{data:{id:"30012",icon:"icon-bell",lineHeight:22},__source:{fileName:z,lineNumber:177},__self:t})}},__source:{fileName:z,lineNumber:175},__self:this}))),p.a.createElement("div",{className:"PlayerToolbar-ContentCell is-full",__source:{fileName:z,lineNumber:185},__self:this},p.a.createElement("div",{className:"PlayerToolbar-Wealth",__source:{fileName:z,lineNumber:186},__self:this},s?p.a.createElement("div",{className:"PlayerToolbar-couponInfo",onClick:function(){t.showIframePay("coupon")},__source:{fileName:z,lineNumber:189},__self:this},p.a.createElement("span",{className:"PlayerToolbar-couponIcon",__source:{fileName:z,lineNumber:190},__self:this}),p.a.createElement("span",{className:"PlayerToolbar-wealthText",__source:{fileName:z,lineNumber:191},__self:this},"福利券>")):null,p.a.createElement("div",{className:"PlayerToolbar-ywInfo",__source:{fileName:z,lineNumber:196},__self:this},p.a.createElement("span",{className:"PlayerToolbar-ywWealthIcon",__source:{fileName:z,lineNumber:197},__self:this}),p.a.createElement("span",{className:"PlayerToolbar-wealthText",__source:{fileName:z,lineNumber:198},__self:this},"鱼丸"),l?p.a.createElement("span",{className:"PlayerToolbar-wealthNum",__source:{fileName:z,lineNumber:201},__self:this},a):p.a.createElement("i",{className:"PlayerToolbar-dataLoadding",__source:{fileName:z,lineNumber:202},__self:this})),p.a.createElement("div",{className:"PlayerToolbar-ycInfo",__source:{fileName:z,lineNumber:205},__self:this},p.a.createElement("span",{className:"PlayerToolbar-ycWealthIcon",__source:{fileName:z,lineNumber:206},__self:this}),p.a.createElement("span",{className:"PlayerToolbar-wealthText",__source:{fileName:z,lineNumber:207},__self:this},"鱼翅"),c?p.a.createElement("span",{className:"PlayerToolbar-wealthNum",__source:{fileName:z,lineNumber:210},__self:this},o):p.a.createElement("i",{className:"PlayerToolbar-dataLoadding",__source:{fileName:z,lineNumber:211},__self:this})),s?p.a.createElement("div",{className:"PlayerToolbar-getYCArea",__source:{fileName:z,lineNumber:216},__self:this},p.a.createElement("div",{className:"PlayerToolbar-getYCBtn",onClick:function(){t.showIframePay()},__source:{fileName:z,lineNumber:217},__self:this},"充值")):null,p.a.createElement("div",{className:"PlayerToolbar-backpackArea",__source:{fileName:z,lineNumber:224},__self:this},p.a.createElement(L,{name:"backpack",belongTo:"ToolbarApp",__source:{fileName:z,lineNumber:225},__self:this})))))),p.a.createElement(w.default,{__source:{fileName:z,lineNumber:231},__self:this}),p.a.createElement(L,{name:"Draw",belongTo:"ToolbarApp",__source:{fileName:z,lineNumber:232},__self:this}),p.a.createElement(T.default,{__source:{fileName:z,lineNumber:233},__self:this}),p.a.createElement(P.default,{__source:{fileName:z,lineNumber:234},__self:this}),p.a.createElement(C.default,{__source:{fileName:z,lineNumber:235},__self:this}),u?p.a.createElement(f.Suspense,{fallback:p.a.createElement("div",{__source:{fileName:z,lineNumber:236},__self:this}),__source:{fileName:z,lineNumber:236},__self:this},p.a.createElement(F,{__source:{fileName:z,lineNumber:237},__self:this})):null,r.isCertifyModalShow||r.isOldBrowserShow?p.a.createElement(I.default,{__source:{fileName:z,lineNumber:242},__self:this}):null)},n=x((U=W).prototype,"event",[_],{enumerable:!0,initializer:null}),r=x(U.prototype,"common",[d],{enumerable:!0,initializer:null}),a=x(U.prototype,"store",[B],{enumerable:!0,initializer:null}),o=x(U.prototype,"logger",[b],{enumerable:!0,initializer:null}),l=x(U.prototype,"commonDataServices",[S],{enumerable:!0,initializer:null}),c=x(U.prototype,"configToastServices",[E],{enumerable:!0,initializer:null}),s=x(U.prototype,"mmGeneralConfigServices",[j],{enumerable:!0,initializer:null}),u=x(U.prototype,"fansgiftboxService",[k],{enumerable:!0,initializer:null}),U=U))||U);function W(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,W);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,G.call(this));return R(t,"event",n,t),R(t,"common",r,t),R(t,"store",a,t),R(t,"logger",o,t),R(t,"commonDataServices",l,t),R(t,"configToastServices",c,t),R(t,"mmGeneralConfigServices",s,t),R(t,"fansgiftboxService",u,t),t.showIframePay=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";"coupon"===e&&Object(v.dysub2)({action_code:"160100243002",event_id:1,type:1}),t.common.push("RoomShowIframePay",{origin:e})},t.state={totalGold:0,silver:0,totalGoldReceived:!1,silverReceived:!1,ownerUid:"",isShowPayEntry:!1,isfansgiftboxShow:!1},t}t.default=Object(m.connect)(function(e){return{giftAreaShow:e.toolbarData.giftAreaShow,taskBtnShow:e.toolbarData.taskBtnShow,olywBtnShow:e.toolbarData.olywBtnShow,refreshWidth:e.toolbarData.refreshWidth,times:e.toolbarData.times,isShowGiftAct:e.toolbarData.isShowGiftAct,toolbarModuleSwitch:e.toolbarModuleSwitch,webStreamData:e.webStreamData}})(U)},f8acd9:function(e,t,i){"use strict";var a,o,n=i("1a22b7"),r=i.n(n),l=i("7ca7dc"),c=i("eb3e22"),s=i("54992a"),u=i("16358b"),n=i("97523b"),f=i("a8024b");function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function b(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}i("5035b7");var h,l=l.default.Service,v=i("c38e30"),s=(c=l(c.DataCenter.global),n=l(n.default),Object(s.log)((d(_,h=r.a.Component),_.prototype.componentDidMount=function(){u.default.toolbarActivityShow("TeamfightTactics")},_.prototype.render=function(){return r.a.createElement(f.default,{baseUrl:v,des:"上分必点",leftColor:"#5e7ee4",rightColor:"#334ea4",onClick:this.handleBtnClick,__source:{fileName:"/shark/live/src/pages/roomPage/toolbarModule/components/TeamfightTactics/TeamfightTactics.js",lineNumber:35},__self:this})},a=b((s=_).prototype,"global",[c],{enumerable:!0,initializer:null}),o=b(s.prototype,"teamfightTacticsService",[n],{enumerable:!0,initializer:null}),s=s))||s);function _(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=m(this,h.call.apply(h,[this].concat(n))),p(t,"global",a,t),p(t,"teamfightTacticsService",o,t),t.handleBtnClick=function(){t.teamfightTacticsService.toggleDialogVisible()},m(t,e)}t.default=s},f8c6e1:function(e,t,i){"use strict";function a(e,t){for(var i,n=[31,28+(((i=e)%100==0?i%400==0:i%4==0)?1:0),31,30,31,30,31,31,30,31,30,31][t-1],r=[],a=("0000"+e).slice(-4),o=("00"+t).slice(-2),l=0;l<n;l+=1){var c=("00"+(l+1)).slice(-2);r.push({year:e,month:t,day:l+1,fd:a+"-"+o+"-"+c})}return r}var o={0:6,1:7,2:1,3:2,4:3,5:4,6:5};t.default=function(e,t){var i=a(e,t),n=void 0,r=void 0,n=1===t?a(e-1,12):a(e,t-1),r=12===t?a(e+1,1):a(e,t+1),e=i[0],t=i.slice(-1)[0],e=new Date(e.year,e.month-1,e.day),t=new Date(t.year,t.month-1,t.day),e=n.slice(-1*o[e.getDay()]),e=[].concat(e,i),i=0;e.length<35&&(i=7);i=r.slice(0,7-t.getDay()+i);return[].concat(e,i)}},f8cfe9:function(e,t,i){"use strict";t.default={198:{name:"许愿成功",remark:"许愿成功飘屏",ctype:0,onlyShowInCrid:0,duration:1e4,webSourceY:"20%",h5PicHeader:"https://sta-op.douyucdn.cn/dygev/2020/06/04/512562a1e89d28c6cced6e05a4fe2a41.png",h5PicMiddle:"https://sta-op.douyucdn.cn/dygev/2020/06/04/79c77845eae80ac925ebbb6dfeb7b595.png",h5PicTail:"https://sta-op.douyucdn.cn/dygev/2020/06/04/ea27653a09d1a7157e43e4ee9653807c.png",midBgHeight:78,midBgResizeType:0,isHiddenAnchor:0,isShowAvatar:0,h5AvatarIconX:0,h5AvatarIconY:10,linktype:0,link:"",svgaurl:"",svgaWidth:0,svgaHeight:0,svgaContLeft:0,svgaContTop:0,svgaContWidth:"",content:[{color:"fff",size:16,lineHeight:100,child:[{value:"粉丝已完成许愿，击败许愿池守护神兽可以赢得丰厚奖励，勇士们冲啊！",color:"FFD48F",maxLength:0,vType:0,linktype:0,link:0}]}]},199:{name:"还愿成功",remark:"还愿成功飘屏",ctype:0,onlyShowInCrid:0,duration:1e4,webSourceY:"20%",h5PicHeader:"https://sta-op.douyucdn.cn/dygev/2020/06/04/befe261a0cff264881c81f714f9e1a55.png",h5PicMiddle:"https://sta-op.douyucdn.cn/dygev/2020/06/04/718cf1273dafd7baf6e74f09630133da.png",h5PicTail:"https://sta-op.douyucdn.cn/dygev/2020/06/04/d8e6a44992610085f1101307cdcf4098.png",midBgHeight:78,midBgResizeType:0,isHiddenAnchor:0,isShowAvatar:0,h5AvatarIconX:0,h5AvatarIconY:0,linktype:0,link:"",svgaurl:"",svgaWidth:0,svgaHeight:0,svgaContLeft:0,svgaContTop:0,svgaContWidth:"",content:[{color:"FFD48F",size:16,lineHeight:100,child:[{value:"威望战神",color:"FFD48F",maxLength:0,vType:0,linktype:0,link:0},{value:"userName",color:"fff",maxLength:0,vType:1,linktype:0,link:0},{value:"带领粉丝击败",color:"FFD48F",maxLength:0,vType:0,linktype:0,link:0},{value:"anchorName",color:"fff",maxLength:0,vType:1,linktype:0,link:0},{value:"级守护神兽，恭喜直播间粉丝们许愿成功获得",color:"FFD48F",maxLength:0,vType:0,linktype:0,link:0},{value:"otherContent",color:"fff",maxLength:0,vType:1,linktype:0,link:0},{value:"鱼丸",color:"fff",maxLength:0,vType:0,linktype:0,link:0},{value:"!",color:"FFD48F",maxLength:0,vType:0,linktype:0,link:0}]}]}}},f8e9c3:function(e,t,i){},f92d13:function(e,t,i){e.exports=i("5f575e")("00749")},f9439a:function(e,t,i){"use strict";i=i("47b41d");t.default=i.default},f97967:function(e,t,i){},f9a960:function(e,t,i){},fa0524:function(e,t,i){},fa5dca:function(e,t,i){"use strict";i=i("474ac9");t.default=i.default},fa9a00:function(e,t,i){"use strict";var a,o,l,n=i("1a22b7"),r=i.n(n),c=i("fc7947"),s=i.n(c),u=i("eb3e22"),n=i("7ca7dc"),c=(i("2f7690"),i("16358b")),i=i("9e02b6"),f="/shark/live/src/pages/roomPage/toolbarModule/components/Gift/FirstRecharge/FirstRecharge.js";function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function b(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var h,n=n.default.Service,i=(u=n(u.DataCenter.global),c=n(c.default),n=n(i.default),d(v,h=r.a.Component),v.prototype.render=function(){return r.a.createElement("div",{className:"FirstRecharge",__source:{fileName:f,lineNumber:34},__self:this},r.a.createElement("span",{className:"FirstRecharge-enter",onClick:this.gotoRecharge,__source:{fileName:f,lineNumber:35},__self:this}))},a=b((i=v).prototype,"global",[u],{enumerable:!0,initializer:null}),o=b(i.prototype,"commonToolbarService",[c],{enumerable:!0,initializer:null}),l=b(i.prototype,"firstRechargeService",[n],{enumerable:!0,initializer:null}),i);function v(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t=m(this,h.call.apply(h,[this].concat(n))),p(t,"global",a,t),p(t,"commonToolbarService",o,t),p(t,"firstRechargeService",l,t),t.gotoRecharge=function(){t.global.get("USER_INFO.uid")?t.firstRechargeService.showPanel():s.a.show()},m(t,e)}t.default=i},fae346:function(e,t,i){},fb4c2d:function(e,t,i){},fb93d4:function(e,t,i){e.exports=i("5f575e")("fbcef")},fc0638:function(e,t,i){e.exports=i("5f575e")("86064")},fc7947:function(e,t,i){e.exports=i("5f575e")("d38ed")},fcba5c:function(e,t,i){"use strict";var n=i("4efc78");i("0be4b4"),t.default=n.default},fcbd96:function(e,t,i){e.exports=i("5f575e")("8fdbb")},fce537:function(e,t,i){e.exports=i("5f575e")("aa459")},fd72a5:function(e,t,i){"use strict";function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}i.d(t,"ROOM_LEVEL_DETAIL_GET_SWITCH",function(){return a}),i.d(t,"ROOM_LEVEL_DETAIL_GET_INFO",function(){return o}),i.d(t,"ROOM_LEVEL_DETAIL_GET_RANK_INFO",function(){return l}),i.d(t,"ROOM_LEVEL_DETAIL_RECEIVE_INFO",function(){return c}),i.d(t,"ROOM_LEVEL_DETAIL_SEND_SIGN",function(){return s}),i.d(t,"ROOM_LEVEL_DETAIL_GET_TIME",function(){return u}),i.d(t,"ROOM_LEVEL_DETAIL_SET_PROPS",function(){return f}),i.d(t,"ROOM_LEVEL_DETAIL_GET_SIGN_DETAIL",function(){return p}),i.d(t,"ROOM_LEVEL_DETAIL_RECEIVE_SIGN_DETAIL",function(){return m}),i.d(t,"ROOM_LEVEL_DETAIL_OPEN_TREASURE",function(){return d}),i.d(t,"ROOM_LEVEL_DETAIL_USER_ACTIVE_POINT",function(){return b}),i.d(t,"ROOM_LEVEL_DETAIL_ACTIVE_RANK",function(){return h});var r,a="ROOM_LEVEL_DETAIL_GET_SWITCH",o="ROOM_LEVEL_DETAIL_GET_INFO",l="ROOM_LEVEL_DETAIL_GET_RANK_INFO",c="ROOM_LEVEL_DETAIL_RECEIVE_INFO",s="ROOM_LEVEL_DETAIL_SEND_SIGN",u="ROOM_LEVEL_DETAIL_GET_TIME",f="ROOM_LEVEL_DETAIL_SET_PROPS",p="ROOM_LEVEL_DETAIL_GET_SIGN_DETAIL",m="ROOM_LEVEL_DETAIL_RECEIVE_SIGN_DETAIL",d="ROOM_LEVEL_DETAIL_OPEN_TREASURE",b="ROOM_LEVEL_DETAIL_USER_ACTIVE_POINT",h="ROOM_LEVEL_DETAIL_ACTIVE_RANK",i=(n(v,r=i("97a1f0").Action),v.getRoomLevelSwitch=function(){return{type:a}},v.getRoomLevelInfo=function(){return{type:o}},v.receiveRoomLevelInfo=function(e){return{type:c,payload:e}},v.getRankInfo=function(){return{type:l}},v.sendRoomLevelSign=function(){return{type:s}},v.getServerTime=function(){return{type:u}},v.setReducerData=function(e){return{type:f,payload:e}},v.getSignDetail=function(e){return{type:p,payload:e}},v.receiveSignDetail=function(e){return{type:m,payload:e}},v.openTreasure=function(e){return{type:d,payload:e}},v.getUserActivePoint=function(e){return{type:b,payload:e}},v.getActiveRank=function(e){return{type:h,payload:e}},v.defaultAction=function(){return{type:"FT_DEFAULT"}},v);function v(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.apply(this,arguments))}t.default=i},fe942b:function(e,t,i){},ff897e:function(e,t,i){"use strict";var l,c,s,n=i("1a22b7"),r=i.n(n),a=i("97a1f0"),o=i("eb3e22"),u=i("52a244"),f=i("a8024b"),n=i("b3960e"),p=(i("d62d0a"),"/shark/live/src/pages/roomPage/toolbarModule/components/WebStream/WebStream.js");function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function h(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var v,_=Object(a.importObject)("live.common.dyComponents.Message"),g=i("49854e"),o=(i=Object(a.Inject)(n.default),n=Object(a.Inject)(o.DataCenter.global),a=Object(a.Inject)(o.DataCenter.common),b(y,v=r.a.Component),y.prototype.render=function(){return r.a.createElement("div",{className:"webStream-entrance",__source:{fileName:p,lineNumber:53},__self:this},r.a.createElement(f.default,{onClick:this.getStreamStatus,des:"我要开播",baseUrl:g,__source:{fileName:p,lineNumber:54},__self:this}))},l=h((o=y).prototype,"webStreamService",[i],{enumerable:!0,initializer:null}),c=h(o.prototype,"global",[n],{enumerable:!0,initializer:null}),s=h(o.prototype,"common",[a],{enumerable:!0,initializer:null}),o);function y(){var e,n,t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);for(var i,r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=n=d(this,v.call.apply(v,[this].concat(a))),m(n,"webStreamService",l,n),m(n,"global",c,n),m(n,"common",s,n),n.openStreamMode=function(){n.webStreamService.startWebStream(2)},n.getStreamStatus=(i=regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.default)("WEB_STREAM_STORAGE",500);case 2:i=e.sent,n.common.get("$DATA").subscribe(function(e){var t;e.room&&(t=e.room.room_id||0,e=1==+e.room.show_status?1:0,t&&e&&i?n.webStreamService.checkBrowserCondition({callBack:function(){n.openStreamMode()}}):i?t?e||_.error("当前还未开播"):_.error("开播房间获取失败"):_.error("当前有其他浏览器窗口正在直播中"))});case 4:case"end":return e.stop()}},e,t)}),function(){var l=i.apply(this,arguments);return new Promise(function(a,o){return function t(e,i){try{var n=l[e](i),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});a(r)}("next")})}),d(n,e)}t.default=o},ffca33:function(e,t,i){e.exports=i("5f575e")("66581")},ffed78:function(e,t,i){"use strict";var r,a,n=i("1a22b7"),o=i.n(n),l=i("447d8e"),c=i("7ca7dc"),s=i("db47a7"),u=i("97a1f0"),f=i("7e7b27"),p=i("16358b"),n=i("d60774"),m=(i("3676d4"),"/shark/live/src/pages/roomPage/toolbarModule/components/BattleShipEnter/BattleShipEnter.js");function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}}(e,t))}function v(i,n,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(i,n,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(i,n,a),a=null),a}var _,c=c.default.Service,u=(u=Object(u.ErrorHandler)(o.a.createElement("div",{__source:{fileName:m,lineNumber:14},__self:void 0})),p=c(p.default),n=c(n.default),u((h(g,_=o.a.Component),g.prototype.componentDidUpdate=function(){var e=this.props.isEnterShow;void 0!==e&&e&&"function"==typeof this.commonToolbarService.refreshActivityByGift&&this.commonToolbarService.refreshActivityByGift()},g.prototype.render=function(){var e=this,t=this.props.isEnterShow,i=void 0!==t&&t,t=this.isTipsShow();return i?o.a.createElement("div",{className:"BattleShipEnter",__source:{fileName:m,lineNumber:91},__self:this},o.a.createElement("div",{className:"BattleShipEnter-icon",onClick:function(){return e.onEnterClick()},__source:{fileName:m,lineNumber:92},__self:this},o.a.createElement("div",{className:"BattleShipEnter-name",__source:{fileName:m,lineNumber:93},__self:this},"海洋军团")),t?o.a.createElement(f.default,{__source:{fileName:m,lineNumber:96},__self:this}):null):null},r=v((u=g).prototype,"commonToolbarService",[p],{enumerable:!0,initializer:null}),a=v(u.prototype,"battleShipEnterServices",[n],{enumerable:!0,initializer:null}),u=u))||u);function g(){var e,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=l=b(this,_.call.apply(_,[this].concat(i))),d(l,"commonToolbarService",r,l),d(l,"battleShipEnterServices",a,l),l.onEnterClick=function(){var e=l.battleShipEnterServices.isAnchor();Object(s.dysub2)({action_code:e?"16010021Z00V":"160100207007",event_id:1,type:1}),l.battleShipEnterServices.togglePanel()},l.isTipsShow=function(){var e=l.props,t=e.configs,i=void 0===t?{}:t,n=e.treasureTipsData,r=void 0===n?{}:n,t=e.zoneId,n=void 0===t?-1:t,t=e.isCarnivalOpen,e=void 0!==t&&t,t=(i||{}).rid_black_list;return!l.battleShipEnterServices.isInBlack(void 0===t?[]:t)&&(l.battleShipEnterServices.init(n,e),l.theTipsShow({configs:i,treasureTipsData:r,zoneId:n,isCarnivalOpen:e}))},l.theTipsShow=function(e){e.configs;var t=e.treasureTipsData,i=e.zoneId,n=e.isCarnivalOpen,e=t||{},t=e.type,t=void 0===t?"":t,e=e.zone,r=void 0===e?0:e,a=l.battleShipEnterServices.isAnchor(),o=0;switch(t){case"mcsperoom":o=!n&&!a;break;case"mcspeacsite":o=+i==+r}return o},b(l,e)}t.default=Object(l.connect)(function(e){var t=e.battleShipData,t=void 0===t?{}:t,e=e.battleShipEnterData;return{isEnterShow:t.isEnterShow,isCarnivalOpen:t.isCarnivalOpen,configs:t.configs,zoneId:t.zoneId,treasureTipsData:(void 0===e?{}:e).treasureTipsData}})(u)}},[["caf4d3","common-pre"]]]);

define("lofty/alicn/suggestion/3.0/input",["jquery","lofty/alicn/suggestion/3.0/history","lofty/util/template/2.0/template","lofty/lang/class","lofty/lang/base","util/cookie/1.0","lofty/util/json/1.0/json","lofty/ui/tabs/2.0/tabs","//g.alicdn.com/mtb/??lib-mtop/2.4.11/mtop"],function(S,I,P,t,e,l,T,n){var a,C=!1;I.loaded?C=!0:(I.on("ready",function(){C=!0}),I.init(),I.enableHtmlEscape(!0)),window.lib&&(a=/_mtopEnv_=pre/.test(window.location.href),window.lib.mtop.config.prefix="h5api",window.lib.mtop.config.subDomain=a?"wapa":"m",window.lib.mtop.config.mainDomain="1688.com");function i(w,x,b){var t,k=this;p.call(this),k.currentMod=k.get("mod"),"mohe"==k.currentMod&&w.getWidth()<450&&(k.currentMod=""),"gbk"!==h.toLowerCase()&&"utf-8"!==h.toLowerCase()&&(h="gbk"),window.lib?(t=function(t){var e=window.data&&window.data.pageMessage&&window.data.pageMessage.pageName?window.data.pageMessage.pageName:"";if(e)return m[e]||m.major||"offer";e="index";try{e=window.document.documentElement.attributes["data-theme"].value}catch(t){e="index"}return u[e]||t.get("type")||"offer"}(k),window.lib.mtop.request({api:"mtop.1688.suggestion.common.getSuggestWords",data:T.stringify({integrateTrace:!0,keywords:b.replace(/%/g,"%25").replace(/&/g,"%26"),appName:"nodeSearchWork",type:t,urlEncodeType:h}),ecode:0,v:"1.0",type:"GET",timeout:2e4},function(t){var e=t.data;e.result=e.data;var a="sale_search_suggest_show",i={};if(e.result)for(var r=e.result.length,l=0;l<r;l++){var s,n=e.result[l];try{n=T.parse(n.oneSugPc)}catch(t){n={}}if("brand_seller"==n.type){i.brandSeller||(i.brandSeller=[]);var o=n.q.replace(/[_%]/g,""),g={q:n.q.replace(/_/g,"<em>").replace(/%/g,"</em>"),val:o};if(n.left){if(n.left.param&&(h=n.left.param),n.left.click)if(h)for(var c in n.left.click)h[c]=n.left.click[c];else h=n.left.click;h&&(g.leftExtendParams=T.stringify(h)),n.left.name&&(g.name=n.left.name),n.left.logo_url&&(g.logo_url=n.left.logo_url)}n.right&&(n.right.click&&(g.rightExtendParams=T.stringify(n.right.click)),n.right.shops&&(g.rightData=n.right.shops)),n.right&&n.right.shops||(g.useLogoUrl=!0),a+="_"+g.val,i.brandSeller.push(g)}else if("powerful_seller"==n.type){i.powerfulSeller||(i.powerfulSeller=[]);var h,o=n.q.replace(/[_%]/g,"");if(g={q:n.q.replace(/_/g,"<em>").replace(/%/g,"</em>"),val:o},n.left){if(n.left.param&&(h=n.left.param),n.left.click)if(h)for(var c in n.left.click)h[c]=n.left.click[c];else h=n.left.click;h&&(g.leftExtendParams=T.stringify(h)),n.left.name&&(g.name=n.left.name),n.left.logo_url&&(g.logo_url=n.left.logo_url)}n.right&&(n.right.click&&(g.rightExtendParams=T.stringify(n.right.click)),n.right.shops&&(g.rightData=n.right.shops)),a+="_"+g.val,i.powerfulSeller.push(g)}else if("category"==n.type)i.category||(i.category=[]),g={q:n.q.replace(/_/g,"<em>").replace(/%/g,"</em>"),val:n.q.replace(/[_%]/g,"")},n.left&&(n.left.name&&(g.cateName=n.left.name),n.left.id&&(g.cateId=n.left.id),n.left.click&&(n.left.click.categoryId=n.left.id,g.extendParams=T.stringify(n.left.click))),a+="_"+g.val+"_cate_"+g.cateId,i.category.push(g);else if("topic"==n.type){if(i.topic||(i.topic=[]),g={q:n.q.replace(/_/g,"<em>").replace(/%/g,"</em>"),val:n.q.replace(/[_%]/g,"")},n.left){if(n.left.name&&(g.topicName=n.left.name),n.left.id&&(g.topicId=n.left.id),n.left.url&&n.left.url.head&&(g.topicSearchUrl=n.left.url.head),n.left.url&&n.left.url.param&&(s=n.left.url.param),n.left.click)if(s)for(var c in n.left.click)s[c]=n.left.click[c];else s=n.left.click;s&&(g.topicSearchParams=T.stringify(s))}n.right&&(n.right.pic_url&&(g.topicPicUrl=n.right.pic_url),n.right.land_url&&(g.topicMarketUrl=n.right.land_url),n.right.click&&(g.topicMarketParams=T.stringify(n.right.click))),a+="_"+g.val+"_topic_"+g.topicId,console.log("DEBUG:",g),i.topic.push(g)}else if("normal"==n.type){i.normal||(i.normal=[]);o=n.q.replace(/[_%]/g,"");if(g={q:n.q.replace(/_/g,"<em>").replace(/%/g,"</em>"),val:o},n.left&&n.left.click&&(g.leftExtendParams=T.stringify(n.left.click)),n.right&&(n.right.click&&(g.rightExtendParams=T.stringify(n.right.click)),n.right.data)){g.rightData=[];for(var u=0,m=n.right.data.length;u<m;u++){var p=n.right.data[u],f=p.data;p.data=[];for(var d=0;d<f.length;d++){var _={q:f[d],val:o+" "+f[d]};d===p.hot&&(_.hot=!0),p.data.push(_)}g.rightData.push(p)}}a+="_"+g.val,i.normal.push(g)}}C&&(i.history=I.query(b,2)),"history"in i&&S.each(i.history,function(t,e){a+="_"+e.key+"history",e.val=e.value}),void 0!==window.dmtrack?dmtrack.clickstat("//stat.1688.com/sectionexp.html","?sectionexp="+a):(new Image).src="//stat.1688.com/sectionexp.html?sectionexp="+a+"&time="+ +new Date,i.currentMod=k.currentMod;var v,y="se_keyword="+b.replace(/%/g,"%25").replace(/&/g,"%26")+"&area=left";for(v in i)y=y+"&"+function(t,e){var a="";if("currentMod"===t)return t+"="+e;if(e&&e.length>0)for(var i=0;i<e.length;i++){var r=e[i];r.val&&(a=""===a?r.val:a+","+r.val)}return t+"="+a}(v,i[v]);L("EXP",y);t=function(t){var e,a=1,i=this.get("listCount"),r={currentMod:t.currentMod,left:[],right:[]};if(t.brandSeller)for(var l=0;l<t.brandSeller.length&&!(r.left.length>=i);l++){var s=t.brandSeller[l];(o={type:"brandSeller"}).q=s.q,o.val=s.val,o.leftExtendParams=s.leftExtendParams,o.name=s.name,o.logo_url=s.logo_url,o.useLogoUrl=s.useLogoUrl,s.rightData&&s.rightData.length&&(o.hasRight="1",a++,(n={type:"brandSeller",relation:o.relation=a}).rightExtendParams=s.rightExtendParams,n.rightData=s.rightData,r.right.push(n)),r.left.push(o)}if(t.powerfulSeller)for(l=0;l<t.powerfulSeller.length&&!(r.left.length>=i);l++){var s=t.powerfulSeller[l];(o={type:"powerfulSeller"}).q=s.q,o.val=s.val,o.leftExtendParams=s.leftExtendParams,o.name=s.name,o.logo_url=s.logo_url,s.rightData&&s.rightData.length&&(o.hasRight="1",a++,(n={type:"powerfulSeller",relation:o.relation=a}).rightExtendParams=s.rightExtendParams,n.rightData=s.rightData,r.right.push(n)),r.left.push(o)}if(t.topic)for(l=0;l<t.topic.length&&!(r.left.length>=i);l++){var s=t.topic[l],n={type:"topic",relation:++a};(o={type:"topic",hasRight:"1",relation:a}).q=s.q,o.val=s.val,o.topicName=s.topicName,o.topicSearchParams=s.topicSearchParams,o.topicSearchUrl=s.topicSearchUrl,r.left.push(o),n.topicName=s.topicName,n.topicMarketParams=s.topicMarketParams,n.topicMarketUrl=s.topicMarketUrl,n.topicPicUrl=s.topicPicUrl,console.log("DEBUG2",n),r.right.push(n)}if(t.category)for(l=0;l<t.category.length&&!(r.left.length>=+i);l++)(s=t.category[l]).type="category",r.left.push(s);if(t.history)for(l=0;l<t.history.length&&!(r.left.length>=+i);l++)(s=t.history[l]).type="history",s.extendParams=T.stringify({sug:"1_0"}),r.left.push(s);if(t.normal)for(l=0;l<t.normal.length&&!(r.left.length>=+i);l++){var o,s=t.normal[l];(o={type:"normal"}).q=s.q,o.val=s.val,o.leftExtendParams=s.leftExtendParams,s.rightData&&s.rightData.length&&(o.hasRight="1",a++,(n={type:"normal",relation:o.relation=a}).q=s.q,n.rightExtendParams=s.rightExtendParams,n.rightData=s.rightData,r.right.push(n)),r.left.push(o)}return this.get("bottomBanner")&&((e=this.get("bottomBanner")).type="bottom",e.extendParams=T.stringify({sug:"0_0"}),r.left.push(e)),r}.call(k,i);(function(t,e,a){var i=this;i.tplRender||(i.tplRender=P.compile(D));t=i.tplRender(t);e.trigger("htmlReady",{token:a,html:t})}).call(k,t,w,x),window.data&&window.data.promotionSuggestionData&&window.data.promotionSuggestionData.suggestionLink&&window.data.promotionSuggestionData.suggestionLink.linkImgUrl&&S(".suggest_left_list").append(function(){return"<li><a target='_blank' href="+window.data.promotionSuggestionData.suggestionLink.linkUrl+"><img src="+window.data.promotionSuggestionData.suggestionLink.linkImgUrl+"></a></li>"}),w.resetHeight()})):console.warn("找不到mtop")}function o(t){var e,a,i,r,l=t.get("el"),s=this;s.$currentLi&&(s.$lastCurrentLi&&s.$lastCurrentLi.removeClass("list_item_hover"),s.$currentLi.addClass("list_item_hover"),s.$currentLi.hasClass("item_has_right")&&""!=s.currentMod?(l.find(".suggest_input_ctn").addClass("ctn_has_right"),l.find(".suggest_right_item").hide(),(e=S(".relation_"+s.$currentLi.data("relation"))).show(),e.css("top","0px"),a=t.resetHeight(),r=e.outerHeight(),e.hasClass("suggest_right_topic")?r<a&&e.css("top",parseInt((a-r)/2,10)+"px"):16<(i=s.$currentLi.offset().top-l.offset().top-(r-26)/2)&&(16<(i=(r=a-20-r)<i?r:i)&&e.css("top",i-16+"px")),e.hasClass("power_seller_tab")&&!e.data("hasInit")&&(e.data("hasInit",!0),s.powerSellerTabs.push(new n({tpl:e,boxSelector:".tab_content ul li",isLoop:!1,prev:".prev",next:".next",currentCls:"current"})))):(l.find(".suggest_input_ctn").removeClass("ctn_has_right"),t.resetHeight()),p.call(s),s.$lastCurrentLi=s.$currentLi,s.$currentLi=null)}function g(t){return t}function r(t,e){var a,i,r=t.get("el").find(".suggest_content_left .suggest_left_list_item");r.length&&(i=-1,(a=this).$lastCurrentLi&&a.$lastCurrentLi.length&&(i=r.index(a.$lastCurrentLi[0])),(i+=e)<0?i=r.length-1:i>=r.length&&(i=0),a.$currentLi=S(r[i]),t.setTargetValue(a.$currentLi.data("value")),this.enterSubmitObj={},(i=a.$currentLi.data("action-url"))&&(this.enterSubmitObj.actionUrl=i),(i=a.$currentLi.data("type"))&&(this.enterSubmitObj.type=i),this.enterSubmitObj.actionParams=a.$currentLi.data("action-param"),g.call(this,this.enterSubmitObj),o.call(this,t))}function s(t){-1<this.curRightTagIndex&&S(this.$allCurrentRightItems[this.curRightTagIndex]).removeClass("suggest_right_tag_hover"),this.curRightTagIndex+=t;var e=this.maxVisibleTagCount;this.maxVisibleTagCount>this.$allCurrentRightItems.length&&(e=this.$allCurrentRightItems.length),this.curRightTagIndex>e-1?this.curRightTagIndex=0:this.curRightTagIndex<0&&(this.curRightTagIndex=e-1),(t=S(this.$allCurrentRightItems[this.curRightTagIndex])).addClass("suggest_right_tag_hover"),this.enterSubmitObj={},(e=t.data("action-url"))&&(this.enterSubmitObj.actionUrl=e),this.enterSubmitObj.actionParams=t.data("action-param"),g.call(this,this.enterSubmitObj),this.context.setTargetValue(t.data("value"))}function L(t,e){var a="visitorId="+l.get("__cn_logon_id__")+"&",i="fromSuggest=1&",r="";try{r=window.data.pageConfigData.requestId}catch(t){r=""}r=r?"requestId="+r+"&":"",window&&window.goldlog?window.goldlog.record("/ctr.search.suggestion",t,i+r+a+e):(new Image).src="//gm.mmstat.com/ctr.search.suggestion?gmkey="+t+"&gokey=_g_encode=utf-8"+i+r+a+e}function c(t){var e="normal";return t.hasClass("brand_list_item")?e="brand":t.hasClass("power_seller_list_item")?e="powerfulSeller":t.hasClass("history_list_item")&&(e="history"),e}var D=["{{if left.length}}",'<div data-spm="suggestion" class="suggest_input_ctn fd-clr {{if (currentMod == "")}}suggest_input_ctn_no_mohe{{/if}}">','<div class="suggest_content_left fd-left">','<ul class="suggest_left_list">',"{{each left as item }}",'{{if (item.type=="brandSeller")}}',"{{if (item.useLogoUrl)}}",'<li class="suggest_left_list_item fd-clr brand_list_item {{if (item.hasRight=="1")}} item_has_right" data-relation="1" {{else}}"{{/if}} data-action-param="{{item.leftExtendParams}}" data-value="{{item.val}}">','<a href="{{item.logo_url}}">','<span class="fd-left">','<img src="https://img.alicdn.com/tfs/TB1UrUbeeL2gK0jSZPhXXahvXXa-128-32.png" class="power_seller_icon fd-left" style="width:64px;"/>','<span class="power_seller_name">{{item.name}}</span>',"</span>","</a>","</li>","{{else}}",'<li class="suggest_left_list_item fd-clr brand_list_item {{if (item.hasRight=="1")}} item_has_right" data-relation="{{item.relation}}"{{else}}"{{/if}} data-action-param="{{item.leftExtendParams}}" data-value="{{item.val}}">',' <span class="fd-left">','<img src="https://img.alicdn.com/tfs/TB1UrUbeeL2gK0jSZPhXXahvXXa-128-32.png" class="power_seller_icon fd-left" style="width:64px;"/>','<span class="power_seller_name">{{item.name}}</span>',"</span>",'<span class="move_arrow">&gt;</span>',"</li>","{{/if}}",'{{else if (item.type=="powerfulSeller")}}','<li class="suggest_left_list_item fd-clr power_seller_list_item {{if (item.hasRight=="1")}} item_has_right" data-relation="{{item.relation}}"{{else}}"{{/if}} data-action-param="{{item.leftExtendParams}}" data-value="{{item.val}}">','<span class="fd-left">','<img src="https://cbu01.alicdn.com/cms/upload/2017/401/741/4147104_532208266.png" class="power_seller_icon fd-left"/>','<span class="power_seller_name">{{#item.q}}{{item.name}}</span>',"</span>",'<span class="move_arrow">&gt;</span>',"</li>",'{{else if (item.type=="category")}}','<li class="suggest_left_list_item" data-action-param="{{item.extendParams}}" data-value="{{item.val}}">','<span class="cate_key">{{#item.q}}</span>','<span class="cate_name">在{{item.cateName}}分类下搜索</span>',"</li>",'{{else if (item.type=="topic")}}','<li data-action-url="{{item.topicSearchUrl}}" data-action-param="{{item.topicSearchParams}}" data-value="{{item.val}}" class="suggest_left_list_item{{if (item.hasRight=="1")}} item_has_right" data-relation="{{item.relation}}"{{else}}"{{/if}}>','<span class="topic_key">{{#item.q}}</span>','<span class="topic_name">逛{{item.topicName}}</span>','<span class="static_arrow">&gt;&gt;</span>',"</li>",'{{else if (item.type=="history")}}','<li class="suggest_left_list_item history_list_item fd-clr" data-value="{{item.htmlKey}}" data-action-param="{{item.extendParams}}">','<span class="history_item fd-left">{{item.htmlKey}}</span>','<span class="history_item_remove fd-right" data-key="{{item.htmlKey}}">删除</span>',"</li>",'{{else if (item.type=="normal")}}','<li data-value="{{item.val}}" data-action-param="{{item.leftExtendParams}}" class="suggest_left_list_item fd-clr{{if (item.hasRight=="1")}} item_has_right" data-relation="{{item.relation}}"{{else}}"{{/if}}>','<span class="normal_item fd-left">{{#item.q}}</span>','<span class="move_arrow">&gt;</span>',"</li>",'{{else if (item.type=="bottom")}}','<li data-value="{{item.textDes}}" data-type="link" data-action-url="{{item.linkHref}}" data-action-param="{{item.extendParams}}" data-trace="{{item.trace}}" class="suggest_left_list_item">','<img src="{{item.linkImg}}" />',"</li>","{{/if}}","{{/each}}","</ul>","</div>",'<div class="suggest_content_right fd-left">',"{{if (right.length)}}",'<div class="suggest_right_ctn">',"{{each right as rightItem}}",'{{if (rightItem.type=="powerfulSeller" || rightItem.type=="brandSeller")}}',"{{if (rightItem.rightData.length > 5)}}",'<div class="suggest_right_item suggest_right_power_seller power_seller_tab {{rightItem.type}} relation_{{rightItem.relation}}">','<div class="tab_content">',"<ul>",'<li class="current">',"{{each rightItem.rightData as seller idx}}","{{if (idx % 5 == 0 && idx > 0)}}","</li>","<li>","{{/if}}",'<a class="seller_ctn" href="{{seller.url}}" data-action-param="{{rightItem.rightExtendParams}}">','<span class="company_name">{{seller.name}}</span>','<span class="company_type">{{seller.hint}}</span>',"</a>","{{/each}}","</li>","</ul>","</div>",'<div class="tab_action fd-clr">','<a href="#" class="next fd-right"><span>&#xe602;</span></a>','<a href="#" class="prev fd-right"><span>&#xe601;</span></a>',"</div>","</div>","{{else}}",'<div class="suggest_right_item suggest_right_power_seller relation_{{rightItem.relation}}">',"{{each rightItem.rightData as seller idx}}",'<a class="seller_ctn" href="{{seller.url}}" data-action-param="{{rightItem.rightExtendParams}}">','<span class="company_name">{{seller.name}}</span>','<span class="company_type">{{seller.hint}}</span>',"</a>","{{/each}}","</div>","{{/if}}",'{{else if (rightItem.type=="topic")}}','<div class="suggest_right_item suggest_right_topic relation_{{rightItem.relation}}" data-action-url="{{rightItem.topicMarketUrl}}" data-action-param="{{rightItem.topicMarketParams}}">','<img src="{{rightItem.topicPicUrl}}"></img>','<div style="position:absolute;height:75px;width:100%;bottom:20px;left:0;">','<div style="width:192px;height:65px;background-color:#000;background-color: rgba(0, 0, 0, 0.4);filter: alpha(opacity=40);margin:0 auto;padding-top:10px;">','<span style="display:block;height:40px;line-height:40px;color:#eee;font-size:20px;">{{rightItem.topicName}}</span>','<span style="display:block;height:1px;width:30px;margin:0 auto;background-color:#999;"></span>',"</div>","</div>","</div>",'{{else if (rightItem.type=="normal")}}','<div class="suggest_right_item suggest_right_normal relation_{{rightItem.relation}}">','<div class="suggest_right_title relation_{{rightItem.relation}}">{{#rightItem.q}}</div>',"{{each rightItem.rightData as group index}}","{{if (index>0)}}",'<hr class="right_group_split"/>',"{{/if}}",'<div class="suggest_right_normal_group fd-clr group{{index}}">',"{{each group.data as tag}}",'<span class="suggest_right_normal_tag fd-left {{if (tag.hot)}} hotTag {{/if}}" data-value="{{tag.val}}" data-action-param="{{rightItem.rightExtendParams}}">{{tag.q}}</span>',"{{/each}}","</div>","{{/each}}","</div>","{{/if}}","{{/each}}","</div>","{{/if}}","</div>","</div>","{{/if}}"].join(""),h="",u={index:"offer",factory:"wapfactory",imall:"wapindustry"},m={major:"offer",supplier:"wapfactory",imallPCSearch:"wapindustry"},p=function(){-1<this.curRightTagIndex&&S(this.$allCurrentRightItems[this.curRightTagIndex]).removeClass("suggest_right_tag_hover"),this.rightItemKeyOver=!1,this.$allCurrentRightItems=null,this.curRightTagIndex=-1};return t(e,{options:{mod:"mohe",type:"offer",industryFlag:"",bottomBanner:null,listCount:13},init:function(t){e.prototype.init.call(this,t||{}),this.tplRender=null,this.$lastCurrentLi=null,this.$currentLi=null,this.enterSubmitObj=null,this.rightItemKeyOver=!1,this.$allCurrentRightItems=null,this.curRightTagIndex=-1,this.maxVisibleTagCount=null,this.powerSellerTabs=[],this.get("extraParams"),h=this.get("encoding")||"gbk"},setContext:function(t){this.context=t,function(l){var e,a,t=l.get("el"),s=this,n=!1,i=-1;t.on("mouseenter",".suggest_input_ctn .suggest_left_list .suggest_left_list_item",function(e){if(s.$currentLi=S(e.currentTarget),!n){var t=S(l.get("target")).val(),a=c(s.$currentLi),e="";try{var i=s.$currentLi.attr("data-relation"),r=document.getElementsByClassName("suggest_right_item suggest_right_normal relation_"+i)[0],e=Array.prototype.slice.call(r.querySelectorAll(".suggest_right_normal_tag")).map(function(t){return t.innerText}).join(",")}catch(t){e=""}e="se_keyword="+t+"&"+a+"="+(s.$currentLi&&s.$currentLi[0]?s.$currentLi[0].innerText.replace(/[\r\n]/g,""):"")+"&area=right&pandoraRightWords="+e;L("OTHER",e),o.call(s,l)}}),t.on("mouseleave",".suggest_input_ctn .suggest_left_list",function(t){e&&(clearTimeout(e),e=null)}),t.on("mousemove",".suggest_input_ctn .suggest_left_list",function(t){return""==s.currentMod?void(n=!1):void(a||(a=setTimeout(function(){a=null},10),e&&(clearTimeout(e),e=null),i=(-1==i||(t.pageX>i?(n=!0,e=setTimeout(function(){e=null,n=!1,i=-1,o.call(s,l)},100)):n&&(n=!1,o.call(s,l))),t.pageX)))}),t.on("click",".suggest_content_left .suggest_left_list_item",function(t){var e=S(t.currentTarget),a=e.data(),t=S(l.get("target")).val();console.log("DEBUG3",a,a.actionParam),l.setTargetValue(e.data("value"));a={actionParams:e.data("action-param"),trace:e.data("trace")};e.data("action-url")&&(a.actionUrl=e.data("action-url")),e.data("type")&&(a.type=e.data("type"));e="se_keyword="+t+"&"+c(e)+"="+e.data("value")+"&area=left";L("CLK",e),l.trigger("submit",g.call(s,a)),l.hide()}),t.on("click",".suggest_content_left .history_item_remove",function(t){t.stopPropagation();var e=S(t.target),t=e.data("key")+"";I.remove(t),e.parent().remove(),l.resetHeight()}),t.on("click",".suggest_right_ctn .suggest_right_normal_tag",function(t){var e=S(t.target),t="se_keyword="+S(l.get("target")).val()+"&normal="+e.data("value")+"&area=right&pandora=1";L("CLK",t),l.setTargetValue(e.data("value")),l.trigger("submit",g.call(s,{actionParams:e.data("action-param")})),l.hide()}),t.on("click",".suggest_right_ctn .powerfulSeller .seller_ctn",function(t){t.preventDefault();var e=S(t.currentTarget),t="se_keyword="+S(l.get("target")).val()+"&powerfulSeller="+(e&&e[0]?e[0].innerText.replace(/[\r\n]/g,""):"")+"&area=right";L("CLK",t),l.trigger("submit",{type:"link",actionUrl:e.attr("href"),actionParams:e.data("action-param")}),l.hide()}),t.on("click",".suggest_right_ctn .brandSeller .seller_ctn",function(t){t.preventDefault();var e=S(t.currentTarget),t="se_keyword="+S(l.get("target")).val()+"&brand="+(e&&e[0]?e[0].innerText.replace(/[\r\n]/g,""):"")+"&area=right";L("CLK",t),l.trigger("submit",{type:"link",actionUrl:e.attr("href"),actionParams:e.data("action-param")}),l.hide()}),t.on("mouseenter",".suggest_right_ctn .suggest_right_normal_tag",function(t){S(t.target).addClass("suggest_right_tag_hover")}),t.on("mouseleave",".suggest_right_ctn .suggest_right_normal_tag",function(t){S(t.target).removeClass("suggest_right_tag_hover")}),t.on("click",".suggest_right_ctn .suggest_right_topic",function(t){t=S(t.currentTarget);l.setTargetValue(""),l.trigger("submit",{type:"link",actionUrl:t.data("action-url"),actionParams:t.data("action-param")}),l.hide()})}.call(this,t)},getSubmitInfo:function(){return this.enterSubmitObj},onTargetMouseDown:function(t,e){this.context._hasShow||(this.enterSubmitObj=null,i.call(this,this.context,t,e))},onTargetInput:function(t,e){this.enterSubmitObj=null,i.call(this,this.context,t,e)},onTargetKeyUp:function(t,e,a){this.context._hasShow&&(a.preventDefault(),r.call(this,this.context,-1))},onTargetKeyDown:function(t,e,a){this.context._hasShow&&(a.preventDefault(),r.call(this,this.context,1))},onTargetKeyEnter:function(t,e,a){a.preventDefault(),p.call(this),this.enterSubmitObj?this.context.trigger("submit",g.call(this,this.enterSubmitObj)):this.context.trigger("submit")},onTargetKeyLeft:function(t,e,a){this.rightItemKeyOver&&this.context._hasShow&&""!=this.currentMod&&(a.preventDefault(),s.call(this,-1))},onTargetKeyRight:function(t,e,a){if(""!=this.currentMod&&this.context._hasShow){if(!this.rightItemKeyOver){if(!this.$lastCurrentLi)return;if(!this.$lastCurrentLi.hasClass("item_has_right"))return;var i=this.context.get("el").find(".suggest_content_right .relation_"+this.$lastCurrentLi.data("relation"));if(!i.hasClass("suggest_right_normal"))return;this.rightItemKeyOver=!0,this.maxVisibleTagCount=6*parseInt(i.width()/76,10),this.curRightTagIndex=-1,this.$allCurrentRightItems=i.find(".suggest_right_normal_tag")}a.preventDefault(),s.call(this,1)}},onShow:function(){if(this.powerSellerTabs.length){for(var t=0,e=this.powerSellerTabs.length;t<e;t++)this.powerSellerTabs[t].destroy();this.powerSellerTabs.length=0}}})});

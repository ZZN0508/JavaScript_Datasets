"undefined"==typeof SKYPE&&(SKYPE={}),SKYPE.Form={},SKYPE.Form.Input=function(){var a={styleSelectElements:function(){var c,r;$.browser.msie&&"6.0"==$.browser.version||(c=function(e){e.parent().hasClass("hasLogo")&&("none"!==e.val()&&""!==e.val()?(e.next().addClass("hasLogo"),e.next().prepend('<img class="logo '+e.val()+'"></img'),e.next().children().attr("src","/assets/images/logos/payment-method/"+e.val()+".png")):"none"==e.val()?(e.next().addClass("hasLogo"),e.next().prepend('<span class="logo"></span')):e.next().removeClass("hasLogo"))},r=function(e){e.parent().hasClass("hasFlag")&&("none"!==e.val()&&""!==e.val()?(e.next().addClass("hasFlag"),e.next().prepend('<img class="flag '+e.val()+'"></img'),e.next().children().attr("src","/assets/images/flags/96px/"+e.val()+".png")):"none"==e.val()?(e.next().addClass("hasFlag"),e.next().prepend('<span class="flag"></span')):e.next().removeClass("hasFlag"))},$("select.customSelectElement").each(function(){var t,e,n,s,a,i,o=$(this),l=$(this).closest(".fieldRow");t=o,e=$("option:selected",t).text(),$styledSpan=$('<span class="styledSelect">'+e+"</span>"),$select=t.after($styledSpan),$select.change(function(){var e=$("option:selected",this).text();t.next().text(e),c(t),r(t)}),c(t),r(t),function(e,t){for(var n=["error","short","inline","disabled"],s=0;s<n.length;s++)t.hasClass(n[s])&&$styledSpan.addClass(n[s]),e.attr(n[s])&&t.addClass(n[s])}(o,l),s=l,(n=o).on("focus",function(){n.next().removeClass("hover").addClass("active"),s.removeClass("hover").addClass("active"),s.hasClass("inline")}).on("blur",function(){n.next().removeClass("active"),s.removeClass("active"),s.hasClass("inline")}),a=o,(i=l).hasClass("inline")&&(l=a.width(),a.next().width(l+3).removeClass("removeBackground"),a.width(l+40),a.next().next(".icon").css("left",l-31)),a.hover(function(){a.next(".styledSelect").hasClass("active")||a.next(".styledSelect").addClass("hover")},function(){a.next(".styledSelect").removeClass("hover"),i.hasClass("active")||i.hasClass("inline")})}))},selectByValue:function(e,t,n){!e.hasClass("customSelectElement")||0<(t=e.find('option[value="'+t+'"]')).length&&(e.find("option").removeAttr("selected"),t=t.attr("selected","selected"),e.siblings(".styledSelect").html(t.text()),n||e.trigger("change"))},clearSelectOptions:function(e,t){var n;e.hasClass("customSelectElement")&&void 0!==e&&(n=e.find("option"),$.each(n,function(e,t){0<e&&$(t).detach()}),void 0!==t&&(e.siblings(".styledSelect").html(t),n.first().html(t)),SKYPE.Form.Input.selectByValue(e,n.first().val()),e.siblings("styledSelect hasLogo").empty())},populateSelectOptions:function(n,e,t,s){n.hasClass("customSelectElement")&&null!=n&&void 0!==e&&0!==e.length&&(!0!==t&&SKYPE.Form.Input.clearSelectOptions(n),$.each(e,function(e,t){$('<option value="'+t+'">'+t+"</option>").appendTo(n)}),void 0===s&&null===s||SKYPE.Form.Input.selectByValue(n,s))},changeClassnamesOnFocus:function(e){e.bind("focus",function(){$(".fieldRow").removeClass("active"),$(this).closest(".fieldRow").removeClass("hover").addClass("active")}),e.bind("blur",function(){$(this).closest(".fieldRow").removeClass("active"),!$(this).closest(".fieldRow").hasClass("active")&&$(this).closest(".fieldRow").hasClass("inline")&&e.next().addClass("removeBackground")})},setOne:function(e){e.get(0).disabled||(!0===e.get(0).checked?e.closest("label").addClass("checked"):e.closest("label").removeClass("checked"))},changeCheckbox:function(e){e.get(0).disabled||(!0===e.get(0).checked?e.closest("label").addClass("checked"):e.closest("label").removeClass("checked"))},changeRadio:function(e){var t;e.get(0).disabled||(t=e.attr("name"),$("input[name="+t+"]",e.closest("form")).each(function(){$(this).removeAttr("checked").closest("label").removeClass("checked")}),e.attr("checked","checked"),e.closest("label").addClass("checked"))},init:function(){var e=$("input[type=checkbox],input[type=radio]"),t=e.closest("label");e.each(function(){$(this).closest("label").find(".icon").css("display","block"),!0===$(this).get(0).disabled?$(this).closest("label").addClass("disabled"):a.setOne($(this))}),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/msie 6/i))&&t.bind("click",function(){var e=$(this).find("input");e.is(":checked")?e.removeAttr("checked"):e.attr("checked","checked"),e.trigger("change")}),e.bind("change",function(e){"radio"==$(this).get(0).type?a.changeRadio($(this)):a.changeCheckbox($(this))}),a.styleSelectElements(),$("input[type=text]").each(function(){a.changeClassnamesOnFocus($(this))}),$("input[type=email]").each(function(){a.changeClassnamesOnFocus($(this))}),$("input[type=number]").each(function(){a.changeClassnamesOnFocus($(this))}),$("input[type=tel]").each(function(){a.changeClassnamesOnFocus($(this))}),$("input[type=url]").each(function(){a.changeClassnamesOnFocus($(this))}),$radio=$(".radioList :radio"),$radio.on("focus",function(){$(this).closest("ul").addClass("focus")}),$radio.on("blur",function(e){$(this).closest("ul").removeClass("focus")}),$radio.on("click",function(e){$(this).focus()}),$(".radioList label").on("mouseenter",function(){$(this).addClass("hover")}).on("mouseleave",function(){$(this).removeClass("hover")}),$(".checkbox").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}),$checkbox=$("input[type=checkbox]"),$checkbox.on("focus",function(){$(this).closest(".fieldRow").addClass("focus")}),$checkbox.on("click",function(e){$(this).focus()}),$checkbox.on("blur",function(e){$(this).closest(".fieldRow").removeClass("focus")})}};return{changeClassnamesOnFocus:function(){return a.changeClassnamesOnFocus()},validateInputFields:function(){return a.validateInputFields},styleSelectElements:function(){return a.styleSelectElements},setOne:function(e){return a.setOne(e)},changeCheckbox:function(e){return a.changeCheckbox(e)},changeRadio:function(e){return a.changeRadio(e)},init:function(){return a.init()},selectByValue:function(e,t,n){return a.selectByValue(e,t,n)},clearSelectOptions:function(e,t){return a.clearSelectOptions(e,t)},populateSelectOptions:function(e,t,n,s){return a.populateSelectOptions(e,t,n,s)}}}(),SKYPE.Form.ValidateFormElements=function(){function t(e,t){!0===t?e.closest(".fieldRow").removeClass("error"):(e.closest(".fieldRow").addClass("error"),SKYPE.Form.invalidElementCount++)}var n=function(e){return!!e.is(":checked")},s=function(e){e=e.val();return"none"!==e&&""!==e},a=function(e){return""!==e.val()};return{validate:function(e){if(e.is(":checkbox"))t(e,n(e));else if(e.is("select"))t(e,s(e));else{if(!e.is("input"))return"Element does not qualify for validation.";t(e,a(e))}},hideErrors:function(){$(".fieldRow.error").removeClass("active")}}}(),SKYPE.Form.messagesHandler=function(){function s(){$(".genericMessageContainer").hide(),SKYPE.Overlay.close()}return{positionMessage:function(e){var t=$("#frameContainer").position(),n=$("#generalErrorMessage");if("error"===e.type)return s(),0<$(".message.error:visible").length&&!0===SKYPE.Form.formWasSubmitted?SKYPE.Form.formWasSubmitted=!1:"mobile"==SKYPE.CurrentResponsiveState?(e.position||(n.html(e.message),n.show()),!1):(SKYPE.Form.ValidateFormElements.hideErrors(),void(void 0!==e.position&&null!==e.position?($(".tip.genericMessageContainer").hide(),$(".error.genericMessageContainer").find(".message.error").html(e.message),$(".error.genericMessageContainer").css({top:parseInt(t.top,10)+parseInt(e.position.top,10),left:parseInt(t.left,10)+parseInt(e.position.left,10)+parseInt(e.position.width,10),display:"block"})):(n.html(e.message),n.show())));"info"===e.type&&($("#generalOverlay").find("p").html(e.message),"block"!==$(".tip.genericMessageContainer").css("display")?($(".error.genericMessageContainer").hide(),$(".tip.genericMessageContainer").find(".message.tip").html(e.message),$(".tip.genericMessageContainer").css({top:parseInt(t.top,10)+parseInt(e.position.top,10),left:parseInt(t.left,10)+parseInt(e.position.left,10)+parseInt(e.position.width,10)}),"mobile"==SKYPE.CurrentResponsiveState?($(".tip.genericMessageContainer").hide(),SKYPE.Overlay.show($('<span data-id="generalOverlay"></span>'))):($(".tip.genericMessageContainer").show(),SKYPE.Overlay.close())):s())},hideMessage:s,mobileListener:function(e){"true"===e&&s()}}}(),$(document).ready(function(){$("#markVisaSelected").click(function(){SKYPE.Form.Input.selectByValue($("#dynamicSelect"),"Visa")}),$("#markMastercardSelected").click(function(){SKYPE.Form.Input.selectByValue($("#dynamicSelect"),"Mastercard")}),$("#markPaypalSelected").click(function(){SKYPE.Form.Input.selectByValue($("#dynamicSelect"),"Paypal")}),$("#clearSelectOptions").click(function(){SKYPE.Form.Input.clearSelectOptions($("#dynamicSelect"))}),$("#clearSelectOptionsNewLabel").click(function(){SKYPE.Form.Input.clearSelectOptions($("#dynamicSelect"),"Choose a payment method")}),$("#substitudeOptions").click(function(){SKYPE.Form.Input.populateSelectOptions($("#dynamicSelect"),["Mastercard","Ukash"])}),$("#appendOptions").click(function(){SKYPE.Form.Input.populateSelectOptions($("#dynamicSelect"),["Moneybookers","Paypal"],!0)}),$("#substitudeOptionsWithSelected").click(function(){SKYPE.Form.Input.populateSelectOptions($("#dynamicSelect"),["Moneybookers","Paypal"],!1,"Paypal")}),$(".toggleInvalid").on("click",function(){$select=$(".dualInput").toggleClass("error")}),$validatableElements=$(".required select").add($(".required input")).not(":disabled");$($validatableElements).each(function(){$(this).unbind("change.validation, blur.validation"),$(this).bind("change.validation, blur.validation",function(){var e;e=$(this),SKYPE.Form.ValidateFormElements.validate(e)})}),$("form.validationRequired .submit").on("click",function(e){e.preventDefault(),SKYPE.Form.formWasSubmitted=!0,SKYPE.Form.invalidElementCount=0;function t(e){SKYPE.Form.ValidateFormElements.validate(e)}e=$(this).closest("form"),e=$(".required select",e).add($(".required input",e)).not(":disabled");$(e).each(function(){t($(this)),$(this).unbind("change.validation"),$(this).bind("change.validation",function(){t($(this))})}),0===SKYPE.Form.invalidElementCount?SKYPE.frameApi.parent.parentFormValidated(!0):(SKYPE.frameApi.parent.parentFormValidated(!1),$(".fieldRow.error:first").addClass("active")),SKYPE.frameApi.parent.validateFrame()})});

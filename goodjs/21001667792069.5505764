!function(){var __webpack_modules__={6482:function(e){"use strict";e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocuemnt","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"}}')},3477:function(e,t,i){"use strict";i.r(t),i.d(t,{IMMEDIATE:function(){return g},LAZY:function(){return m},DELAYED:function(){return y},isAdEnabled:function(){return _},getLoadingSettings:function(){return O},getEnabledRenderedSlots:function(){return I},getEnabledSlots:function(){return E},loadScriptSync:function(){return A},requestSlotConfig:function(){return k},initialiseSlots:function(){return P},resetSlots:function(){return T},initSlots:function(){return C},setSupportedSlots:function(){return R},initEmergencyRules:function(){return D}});var r=i(633),t=i(7200),a=i(5059);function n(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function o(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){u(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p={},g="immediate",m="lazy",y="delayed",h=r.ZP.broker("AdListLoader"),v=[],b=[],w=["adx_page_skins","adx_tracking","banner_top","billboard","bvp_puff_26","bvp_puff_29","fff","half_mpu_top","inread_player","inread_player_mw","inread_player_top","interstitial","intro_ad","ldr_top","leader_bottom","leader_lower_middle","leader_middle","leader_top","leader_very_bottom","leader_wide","mpu_bottom","mpu_bottom_right","mpu_channel","mpu_comments_1","mpu_comments_2","mpu_factbox","mpu_home","mpu_middle","mpu_mobile","mpu_mobile_bottom","mpu_mobile_factbox","mpu_mobile_lower_middle","mpu_mobile_others","mpu_mobile_top","mpu_mobile_upper_middle","mpu_puff_10","mpu_puff_15","mpu_puff_20","mpu_puff_30","mpu_puff_45","mpu_puff_5","mpu_puff_others","mpu_top","native_channel","native_fff_accessorise","native_fff_overlay_accessorise","native_mpu","native_mpu_dfp","native_puff","native_puff_dfp","native_related","para_top","puff_ad_3","puff_ad_6","puff_ad_9","puff_ad_others","sky_left_bottom","sky_left_top","sky_right_bottom","sky_right_top","sticky_banner","video_ad","video_carousel"],S=function(e,r){e.forEach(function(e){var t="molads_".concat(e,"_","on"),e="molads_".concat(e,"_","off");document.documentElement.classList.add(r?t:e),document.documentElement.classList.remove(r?e:t)})},_=function(e){e=e&&(e.dfpPos||e.pos);return!window.disableAds&&(!e||!w.includes(e)||v.includes(e))},O=function(e){return p[e]||{type:g,trigger:void 0,offset:0}},I=function(){return v.slice()},E=I,A=function(e){document.write("<".concat("script",' src="').concat(e,'"></').concat("script",">"))},k=A,x=(t.SP.setSlot&&t.SP.setSlot.split(",")||[]).reduce(function(e,t){var r=d(t.split(":").map(function(e){return e.trim()}),2),t=r[0],r=r[1];return e[t]="on,true,1,enabled".includes(r||"true"),e},{});function P(e){var t,r,n=(t=e,!(r=x)||(0,a.xb)(r)?t:Object.entries(r).reduce(function(e,t){var r=d(t,2),t=r[0];return r[1]?e[t]={}:delete e[t],e},t)),e=Object.keys(n),o=new Set(e),r=w.filter(function(e){return!o.has(e)}),t=e.reduce(function(e,t){return c(c({},e),u({},t,(e=(r=n[t]).loadingOffset,t=r.loadingTrigger,(e={type:(void 0===(r=r.loadingType)?g:r)||g,trigger:t,offset:isNaN(e)?0:Number(e)}).type===g||e.type===y||e.type===m&&e.trigger||(i.g.DM.log("ads","Unknown loading type or invalid loading trigger, falling back to immediate loading :",e),e.type=g),e)));var r},{});v=e,b=r,p=t,h.emit("slots initialized",v),S(b,!1),S(v,!0)}var j,T=function(){v=[],b=[]};h.on("plugins enabled",(j=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.invokeAll("get enabled not-quite-dynamic slots");case 2:t=e.sent.flat(),v=n(new Set([].concat(n(v),n(t)))),h.emit("enabled slots updated",{enabledAds:v});case 5:case"end":return e.stop()}},e)}),function(){var e=this,a=arguments;return new Promise(function(t,r){var n=j.apply(e,a);function o(e){s(n,t,r,o,i,"next",e)}function i(e){s(n,t,r,o,i,"throw",e)}o(void 0)})})),h.on("system ready",function(){i.g.DM.later("DOM_READY",function(){document.write=document.writeln=function(e){try{throw new Error(e)}catch(e){i.g.DM.log("ads","Error: there was an attempt to document.write in a rendered page: ",e)}}})}),h.on("set slots enabled",function(e,t){S(e,t)});var C=function(){},R=function(e){},D=function(){}},3077:function(e,t,r){"use strict";r.r(t),r.d(t,{AD_ATTRIBUTE:function(){return a},TAGS_ATTRIBUTE:function(){return u},addLoadListener:function(){return d},stringify:function(){return l},parse:function(){return f},requestAdvert:function(){return p},refreshAdvert:function(){return g},refreshAdvertsWithNewTags:function(){return m},refreshAdverts:function(){return y},requestDelayedAdvert:function(){return v},onAdLoaded:function(){return w},reset:function(){return S}});var t=r(633),n=r(7337),i=r(6873);function c(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}var o=r(7854),a="data-adverts-ad",u="data-adverts-tags",s=r(9784),d=r(2575),l=o.stringify,f=o.parse;function p(e){var t;return!e.id||(t=document.getElementById(e.id))&&(t.setAttribute(a,o.stringify(e)),t.classList.add("adHolder")),i.requestAd(e)}function g(e){i.refreshAdvert(e)}function m(e,t){e=e.map(h).filter(Boolean).map(function(e){return e.ad});i.refreshAdvertsWithNewTags(e,t)}function y(e){var n={};e.forEach(function(e){var t,r=h(e);r&&((e=(t=i).name)in n||(n[e]={serverClass:t,ads:[]}),n[e].ads.push(r.ad))}),Object.keys(n).forEach(function(e){var t=n[e],e=n[e].serverClass;e.refreshAdverts&&e.refreshAdverts(t.ads)})}function h(e){var t=document.getElementById(e);if(t){var r=t.getAttribute(a),e=t.getAttribute(u);if(r)return r=o.parse(r),{ad:(0,n.get)(r.pos)||r,tags:e?o.parse(e):null,container:t}}return null}function v(e){return b.apply(this,arguments)}function b(){return s=regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h(t),n=!1,!(r&&r.ad&&r.tags)){e.next=15;break}if((o=i).requestDelayedAd)return e.prev=5,e.next=8,o.requestDelayedAd(r.ad,r.tags);e.next=14;break;case 8:n=!0,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error(e.t0);case 14:r.container.removeAttribute(u);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}},e,null,[[5,11]])}),(b=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){c(n,t,r,o,i,"next",e)}function i(e){c(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function w(e){for(var t=0,r=s.length;t<r;t++)s[t](e)}t=t.ZP.broker("AdsRenderer");function S(){s.length=0}t.on("slot ready",p),t.on("ad rendered",function(e,t){return w(t)}),t.on("refresh ads",function(e){return m(e.ids,e.plugins)}),t.on("refresh adverts",y)},5529:function(e,t,d){"use strict";d.d(t,{lv:function(){return r},GY:function(){return n}});var l=d(3477),t=d(633),f=d(6540),p=d(3624);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=t.ZP.broker("DelayedRenderer"),m=new Set,y=[],h=!1,v=DM.molFeMiniLodash.debounce(function(){if(m.size){var e,t=window.pageYOffset+(0,f.getPageSize)()[3],r=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e){if(e){if("string"==typeof e)return s(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,void 0):void 0}}(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(m);try{for(r.s();!(e=r.n()).done;){var n=e.value,o=n.element,i=n.offset;o&&"none"!==o.style.display&&t>=(0,f.getOffset)(o).top-i&&(m.delete(n),adsRenderer.requestDelayedAdvert(n.id))}}catch(e){r.e(e)}finally{r.f()}}},500,{leading:!0,trailing:!0});function r(e){return p.lv(e)||!(l.getLoadingSettings(e.dfpPos||e.pos).type===l.IMMEDIATE)||e.delayed||e.lazySettings}function n(e){var t,i,a,s,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=d(3077),o=document.getElementById(e.id);function c(e){return"A"===e.nodeName&&e.hasAttribute("data-page")}function u(){var e=d(3077),t=a.getElementsByClassName("active")[0];if(s=0,t){t=Number(t.getElementsByTagName("a")[0].getAttribute("data-page"));if(t)for(var r,n=i.getElementsByClassName("rotator-panels")[0].getElementsByTagName("li")[t-1].childNodes,o=n.length;o--;)if(1===(r=n[o]).nodeType&&r.hasAttribute(e.TAGS_ATTRIBUTE)){e.requestDelayedAdvert(r.id);break}}}o&&(o.setAttribute(n.TAGS_ATTRIBUTE,JSON.stringify(r)),(r=function(e){var t=(r=e.lazySettings||l.getLoadingSettings(e.dfpPos||e.pos)).type===l.LAZY?r:void 0;if(t){var r=null;try{r="$this"===t.trigger?document.getElementById(e.id):document.querySelector(t.trigger)}catch(e){DM.log("ads","Invalid css selector in the loading trigger:",t.trigger)}return{id:e.parentId||e.id,element:r||document.getElementById(e.parentId||e.id),offset:t.offset}}return null}(n=e))?(m.add(r),h||(h=!0,window.addEventListener("scroll",v),document.body.addEventListener("touchmove",v))):p.qu()||(s=0,"native_related"===(n=n).pos.slice(0,14)&&(t=document.getElementById(n.parentId))&&(i=(0,f.closest)(t,function(e){return e.classList.contains("rotator")}))&&!DM.molFeMiniLodash.contains(y,i)&&(a=i.getElementsByClassName("rotator-pages")[0])&&(y.push(i),a.addEventListener("click",function(e){e=e.target||e.srcElement;!s&&(0,f.closest)(e,c)&&(s=setTimeout(u,50))})))),g.emit("ad delayed",e)}},3624:function(e,t,l){"use strict";l.d(t,{lv:function(){return d},GH:function(){return v},qu:function(){return S}});var t=l(633),f=l(6540),r=l(7200);function c(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}var n=null,o=["home","ushome","auhome","mailonsunday"],i="hp-panel",a={news:0,showbiz:1},p=t.ZP.broker("HomepageRenderer");function s(e,t){return u.apply(this,arguments)}function u(){return s=regeneratorRuntime.mark(function e(t,r){var n,o,i,a,s,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d=function(e){return e===o},n=r.swipe||m(g()),!(o=h(n))){e.next=19;break}y(n),i=[],a=document.documentElement.getElementsByClassName("adHolder"),s=l(3077),c=a.length;case 9:if(!c--){e.next=18;break}if(u=a[c],(0,f.closest)(u,d)||!(0,f.closest)(u,b))return e.next=14,s.requestDelayedAdvert(u.id);e.next=16;break;case 14:if(e.sent){e.next=16;break}i.push(u.id);case 16:e.next=9;break;case 18:i.length&&p.emit("refresh adverts",i);case 19:case"end":return e.stop()}},e)}),(u=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){c(n,t,r,o,i,"next",e)}function i(e){c(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function g(){return(0,r.ej)("mol-home")}function m(e){return y(e),n=e}function y(e){e in a&&(e=a[e]?"dontmiss":window.adAreaId||"home",p.emit("set adSubareaId",e))}function h(e){return document.getElementsByClassName(i)[a[e]]}function d(e){if(S()){if(!n)return!0;var t=h(n),e=document.getElementById(e.parentId);if(t&&e){e=(0,f.closest)(e,b);if(e&&e!==t)return!0}}return!1}function v(){return"channel"===PageCriteria.pageType&&-1!==o.indexOf(PageCriteria.channel)&&PageCriteria.subchannel===PageCriteria.channel}function b(e){return e.classList.contains(i)}function w(){var e=document.body;return e&&e.className?e.classList.contains("mol-mobile"):!!MobileUtils.isMobile()}function S(){return v()&&w()&&(!n||"desktop"!==n)}p.on("system ready",function(){var e;v()&&w()&&(e=DM&&DM.pageEvents,m(g()),S()&&e&&e.subscribe(e.MOBILE_HOME_PAGE_VIEW,s))})},2575:function(e,t,r){var n=r(9784);e.exports=function(e){"function"==typeof e&&n.push(e)}},9784:function(e){e.exports=[]},6873:function(e,t,r){"use strict";r.r(t),r.d(t,{requestAd:function(){return w},requestDelayedAd:function(){return _},refreshAdvert:function(){return I},refreshAdvertsWithNewTags:function(){return E},refreshAdverts:function(){return A},reset:function(){return k},name:function(){return x}});var n=r(633),t=r(4794),o=r(5529),i=r(1013),r=r(6415);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function s(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){c(n,t,r,o,i,"next",e)}function i(e){c(n,t,r,o,i,"throw",e)}o(void 0)})}}function u(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function d(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var l=(0,t.U2)("auction.maxTime",2e3),f=n.ZP.broker("DfpServer"),p=(0,r.x)("DfpServer"),g={};f.on("destroy slot",function(e){delete g[e]});var m=function(n){return new Promise(function(e,t){var r=[];f.openStream({message:["get tags",{slot:n,timeout:l-100}],timeout:l,controlHandler:function(e){var t=e.type,e=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(e,["type"]);f.emit("auction event",n.pos,t,e)}}).on("data",function(e){r.push(e)}).on("end",function(){f.emit("auction event",n.pos,"end"),e(r)}).on("error",function(e){return t(e)})})},y=Promise.resolve();function h(e){return e.map(function(e){return e.tags||e}).reduce(function(e,t){return d(d({},e),Array.isArray(t)&&t.reduce(function(e,t){return d(d({},e),t)},{})||t)},{})}f.on("set page level targeting",function(e){p("new page level targeting:",e),y=y.then(function(){return e}).then(function(){})});var v,b=(v=s(regeneratorRuntime.mark(function e(r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g[r.pos])return e.abrupt("return",g[r.pos]);e.next=2;break;case 2:return f.emit("start bidding",r.pos),p("starting auction for",r.pos),e.next=6,Promise.all([m(r),(0,i.Ye)(l,[y])]);case 6:return n=e.sent,o=function(e){if(Array.isArray(e))return e}(t=n)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),1!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(t)||function(e){if(e){if("string"==typeof e)return a(e,1);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,1):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=o[0],e.next=11,f.invokeAll("get tags based on tags",n);case 11:return o=e.sent,o=[d(d({},h(n)),o.reduce(function(e,t){return d(d({},e),t)},{}))],p("auction ended for",r.pos,o),f.emit("bidding ended",r.pos),f.emit("slot ready for ad",r,o),g[r.pos]={tags:o},e.abrupt("return",{tags:o});case 18:case"end":return e.stop()}var t},e)})),function(e){return v.apply(this,arguments)});function w(e){return S.apply(this,arguments)}function S(){return(S=s(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,o.lv)(t)){e.next=4;break}(0,o.GY)(t),e.next=5;break;case 4:return e.abrupt("return",b(t));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e){return O.apply(this,arguments)}function O(){return(O=s(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:r=e.sent,r=r.tags,f.emit("gpt requestDelayedAd",t,r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){f.emit("bidding ended",e.pos),f.emit("gpt refreshAdvert",e.pos)}function E(o,e){var t,i=[];o.forEach((t=s(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p("starting auction for",t.pos),e.next=3,m(t);case 3:return r=e.sent,e.next=6,f.invokeAll("get tags based on tags",r);case 6:n=e.sent,n=[d(d({},h(r)),n.reduce(function(e,t){return d(d({},e),t)},{}))],i.push({ad:t,tags:n}),p("auction ended for",t.pos,n),f.emit("bidding ended",t.pos),i.length===o.length&&f.emit("slot ready to refresh",i);case 12:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}))}function A(e){f.emit("gpt refreshAdverts",e)}function k(){g={}}var x="DfpServer"},9988:function(e,t,s){"use strict";s.r(t),s.d(t,{DFP_NETWORK_CODE:function(){return h}});var r=s(633),o=s(3436),n=s(7337),i=s(7721),a=s(7200),c=s(4794),t=s(6415),u=s(3624),d=s(5529);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=s(6540).onBodyAvailable,g=r.ZP.broker("DfpAsyncHandler"),m=(0,t.x)("dfpAsyncHandler"),y={},h=(0,c.U2)("dfp.networkCode"),v={},b=["sky_right_top","sky_left_top","mpu_top","billboard","sticky_banner"],w=["sticky_banner"],S=new Set(["mpu_puff_others","puff_ad_others","mpu_mobile_others","mpu_factbox","mpu_mobile_factbox"]);function _(i,a){if(i&&i.slots&&i.slots.length)return DM.molFeMiniLodash.each(i.slots,function(r){var e,n,t,o;r.slot.addService(googletag.pubads()).setTargeting("pos",i.dfpPos||i.pos).setCollapseEmptyDiv(!0,(t="billboard"===(e=i.pos)&&"home"===(s.g.PageCriteria.channel||"").slice(-4),!s.g.DM.molFeMiniLodash.contains(b,e)&&!t)),i.targeting&&DM.molFeMiniLodash.forEach(i.targeting,function(e,t){r.slot.setTargeting(t,e)}),i.custom&&i.custom.length&&(n=r.slot,t=i.custom,DM.molFeMiniLodash.each(t,function(t){DM.molFeMiniLodash.keys(t).forEach(function(e){n.setTargeting(e,t[e])})})),"number"==typeof window.orientation&&r.slot.setTargeting("orientation",MobileUtils.isLandscape()?"landscape":"portrait"),MobileUtils.isMobile()&&r.slot.setTargeting("lat",PageCriteria.latitude||"").setTargeting("lon",PageCriteria.longitude||""),o=r.slot,a.forEach(function(t){t&&"object"===l(t)&&Object.keys(t).forEach(function(e){o.setTargeting(e,t[e]+"")})})}),i}g.on({message:"prepare to refresh ads",sync:!0},function(e){var t=googletag.pubads().getSlots().reduce(function(e,t){var r=t.getTargeting("pos")[0];return e[r]=e[r]||t,e},{});e.map(function(e){return{pos:e,slot:t[e]}}).forEach(function(e){var t=e.pos,e=e.slot;e?e.clearTargeting?e.clearTargeting():console.warn("-----\x3e NO slot.clearTargeting when refreshing ads",t):console.warn("-----\x3e NO SLOT to clear targeting when refreshing ads",t)})}),g.on("slot ready for ad",function(e,t,r){I(e,t,r)});var O=function(e){return googletag.cmd.push(e)};function I(t,e,r){r||!d.lv(t)?(t.parentId=t.parentId||t.id,t.slots=t.slots||[],DM.molFeMiniLodash.each(t.slots,function(e){e.parentId=e.parentId||e.id||t.parentId}),O(function(){(function(e){var t=(0,n.get)(e.pos);if(t&&t.slots&&t.slots.length)return t.slots;A(e)})(t),_(t,e)}),O(function(){DM.molFeMiniLodash.each(t.slots,function(e){g.emit("request slot",{pos:t.pos,slotType:e.type,type:t.type,parentId:e.parentId,adUnit:t.adUnit,slot:e.slot})})})):d.GY(t,e)}g.on("set slot state",function(e,t){var r=v[e];r?r.molAd.state=t:y[e]=t}),g.on("request slot",function(e){"gptSlot"===e.slotType&&(v[e.pos]=e.slot),e.slot.molAd={pos:e.pos,type:e.type,slotType:e.slotType,parentId:e.parentId,adUnit:e.adUnit,state:y[e.pos]},delete y[e.pos],g.invoke("googletag.display",e.parentId),g.emit("ad requested",e.pos)}),g.on("slot ready to refresh",function(e){e.forEach(function(e){return _(e.ad,e.tags)}),j(e.map(function(e){return e.ad}))}),g.on("destroy slot",function(e){e=(0,n.get)(e);googletag.destroySlots(e.slots.map(function(e){return e.slot})),delete e.slots});var E={gpt:function(e){var t=(0,i.t2)(e),r=e.sizeMapping,n=e.id,o=e.adUnit;m("define slot for",e.pos,{sizes:t,sizeMapping:r,adUnit:o,id:n});t=googletag.defineSlot("/"+h+"/"+o,t,n);e.sizeMapping&&(n=e.sizeMapping.reduce(function(e,t){var t=function(e){if(Array.isArray(e))return e}(r=t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return f(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,2):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],t=t[1];return e.addSize(r,t)},googletag.sizeMapping()),t.defineSizeMapping(n.build())),e.slots.push({type:"gptSlot",slot:t,parentId:e.id}),g.emit("slot created",e,t)},gptOOP:function(e){var t=e.slotTypes.includes("gpt")?P(e):e.parentId,r=(0,i.t2)(e),n=e.sizeMapping,o=e.adUnit;m("define oop slot for",e.pos,{sizes:r,sizeMapping:n,adUnit:o,id:t});o=googletag.defineOutOfPageSlot("/"+h+"/"+o,t);e.slots.push({type:"oopGptSlot",slot:o,parentId:t})}};function A(t){var e,r,n;return t.adUnit=t.adUnit||(0,o.Z)(t.pos),t.slots=t.slots||[],t.slotTypes?(m("".concat(t.pos,": creating slots using slotTypes definition")),t.slotTypes.forEach(function(e){e=E[e];e&&e(t)})):(m("".concat(t.pos,": creating slots using dcopt definition")),t.dcopt&&"pfadj"===t.command&&-1===w.indexOf(t.pos)||(e=(0,i.t2)(t),r=t.sizeMapping,n=t.id,m("defineSlot for",t.pos,{sizes:e,sizeMapping:r,adUnit:t.adUnit,id:n}),n=googletag.defineSlot("/"+h+"/"+t.adUnit,e,n),r&&n.defineSizeMapping(t.sizeMapping),t.slots.push({type:"gptSlot",slot:n,parentId:t.id}),g.emit("slot created",t,n)),t.dcopt&&function(e){var t=(0,o.Z)(e.pos),r="pfadj"===e.command&&-1===w.indexOf(e.pos)?e.parentId:P(e);m("defineOutOfPageSlot for",e.pos,{adUnit:t,id:r});t=googletag.defineOutOfPageSlot("/"+h+"/"+t,r);e.slots.push({type:"oopGptSlot",slot:t,parentId:r})}(t)),g.emit("update description",t.pos,t),t.slots.length&&_(t,[]),t}function k(e){var t=e.slot.molAd,e=t.pos;return(t=t.parentId)&&"string"==typeof t&&t.includes("-oop")?"".concat(e,"-oop"):e}function x(t){S.has(t)||O(function(){var e=(0,n.get)(t);!e||e.gptSlot||e.oopGptSlot||A(e)})}function P(e){var t=e.parentId+"-oop",e=document.getElementById(e.parentId),r=document.createElement("div");return r.id=t,e?e.parentNode.insertBefore(r,e.nextSibling):p(function(){document.body.appendChild(r)}),t}function j(e){e=e.map(function(e){return T(e.pos)});g.invoke("googletag.pubads.refresh",e)}function T(e){return v[e]}g.on("slots initialized",function(e){O(function(){var e=googletag.pubads();e.set("page_url",location.hostname+location.pathname).setTargeting("page",adPageType).setTargeting("article",adArticleId).setTargeting("environment",adEnvironment).setTargeting("country",PageCriteria.geo.toLowerCase()).setTargeting("testmode",a.SP.testmode).addEventListener("slotRequested",function(e){return e.slot.molAd&&g.emit("dfp slot requested",k(e),e)}).addEventListener("slotRenderEnded",function(e){return e.slot.molAd&&g.emit("ad rendered",k(e),e)}).addEventListener("slotOnload",function(e){return e.slot.molAd&&g.emit("ad loaded",e,k(e))}).addEventListener("impressionViewable",function(e){return e.slot.molAd&&g.emit("ad viewable",k(e),e)}).addEventListener("slotVisibilityChanged",function(e){return e.slot.molAd&&g.emit("slot visibility changed",k(e),e)}).addEventListener("slotResponseReceived",function(e){return e.slot.molAd&&g.emit("slot response received",k(e),e)}).setCentering(PageCriteria.isMobile&&!PageCriteria.isTablet),u.GH()&&e.setTargeting("mobile",u.qu().toString()),g.emit("gpt initialized",googletag)}),e.forEach(x),O(function(){googletag.pubads().enableAsyncRendering(),googletag.enableServices()})}),g.on("gpt requestDelayedAd",function(e,t){I(e,t,!0)}),g.on("gpt refreshAdvert",function(e){(e=T(e))&&(e.setTargeting("refresh","true"),g.invoke("googletag.pubads.refresh",[e]))}),g.on("gpt refreshAdverts",function(e){j(e)})},7854:function(module){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var omit=function(e,t){var r={};if(t=t||[],"object"===_typeof(e))for(var n in e)e.hasOwnProperty(n)&&-1===t.indexOf(n)&&(r[n]=DM.molFeMiniLodash.clone(e[n]));return r},stringify=function(e){return jsonStringify(omit(e,["slots"]))},jsonStringify=JSON&&"function"==typeof JSON.stringify?JSON.stringify:function(t){switch(_typeof(t)){case"string":return'"'+t.replace(/("|\\)/g,"\\$1")+'"';case"boolean":case"number":return t.toString();case"object":if("[object Array]"===Object.prototype.toString.call(t))return"["+t.map(stringify).join(",")+"]";if(t)return"{"+Object.keys(t).map(function(e){return stringify(e)+":"+stringify(t[e])}).join(",")+"}";case"undefined":case"function":return"null"}},parse=JSON&&"function"==typeof JSON.parse?JSON.parse:function(value){return eval("data="+value)};module.exports={stringify:stringify,parse:parse}},6347:function(e,t,r){var n=r(8397),r=function(e,t){this.eventsMap={},this.eventName=e,this.getDomCallback=t,this.domElement={};var r=this;DM.later("DOM_READY",function(){!function(){for(var e in this.eventsMap)o.call(this,e)}.call(r)})};function o(e){n.getElementById(e)?e in this.eventsMap&&function(e){var t=this.eventsMap[e];this.domElement[e]=this.getDomCallback(e),null!==this.domElement[e]&&this.on(this.domElement[e],this.eventName,function(e){e.stopPropagation();e=MobileUtils.isLandscape()?"landscape":"portrait";t.call(this,e)})}.call(this,e):delete this.eventsMap[e]}r.on=function(e,t,r){e.addEventListener(t,r)},r.fireEvent=document.createEvent?function(e,t){var r=e.ownerDocument.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}:function(e,t){var r=e.ownerDocument.createEventObject();r.eventType=t,e.fireEvent("on"+r.eventType,r)},r.prototype={constructor:r,registerEvent:function(e,t){this.eventsMap[e]=t,o.call(this,e)},getEvent:function(e){return this.eventsMap[e]},on:r.on,fireEvent:r.fireEvent},e.exports=r},1823:function(e,t,r){var n=r(6347),a=r(8397),s="data-impression-url",c="data-ted-tracking",u=new n("onImpression",function(e){return a.getElementById(e)});e.exports={DATA_IMPRESSION_URL:s,onImpression:function(){u.registerEvent.apply(u,arguments)},registerImpression:function(e,t){var r,n,o,i=Array.prototype.filter.call(a.getAdContainer(e).getElementsByTagName("div"),function(e){return e.getAttribute(s)});i.length&&(n=i[0],o=n.getAttribute(s),(new Image).src=o,n.getAttribute(c)&&(DM.later?DM.later("bundle",function(){DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"dfp-impression"})}):DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"dfp-impression"})),r=i[0],setTimeout(function(){!function(){u.fireEvent.apply(u,arguments)}(r,"onImpression"),r.getAttribute(c)&&(DM.later?DM.later("bundle",function(){DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"3rd-party-impression"})}):DM.pageEvents.fireEvent(DM.pageEvents.PAGE_AD_DISPLAYED,{type:"3rd-party-impression"}))},0),t.call(this,e))}}},5737:function(e,t,r){"use strict";function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return n(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{DZ:function(){return o},cl:function(){return a},Z$:function(){return s},pj:function(){return c},jj:function(){return u},TV:function(){return d}});var o=function(e,t,r){for(var n=new Array(r.length),o=0,i=0,a=r.length;i<a;i++){var s=r[i];e(s)&&(n[o++]=t(s))}return n.length=o,n},a=function(e,t){e=t.indexOf(e);return-1===e?t:[].concat(i(t.slice(0,e)),i(t.slice(e+1)))},s=function(e){return e[e.length-1]},c=function(e){return void 0===e?[]:Array.isArray(e)?e:[e]},u=function(e){e=new Set(e);return Array.from(e)},d=function(e){for(var t=e.length,r=i(e);t;){var n=Math.floor(Math.random()*t--),o=r[t];r[t]=r[n],r[n]=o}return r}},1013:function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function d(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){c(n,t,r,o,i,"next",e)}function i(e){c(n,t,r,o,i,"throw",e)}o(void 0)})}}function a(e){var r="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return n(e,arguments,l(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u(t,e)}(e)}function n(e,t,r){return(n=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);n=new(Function.bind.apply(e,n));return r&&u(n,r.prototype),n}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,{W5:function(){return g},Vs:function(){return m},S1:function(){return y},Gv:function(){return h},yq:function(){return b},Ye:function(){return w},gb:function(){return S},Ls:function(){return _}});var o,f,p,g=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,a(Error));var r,n,t=(r=o,n=s(),function(){var e,t=l(r);return e=n?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e});function o(e){return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),t.call(this,"Exceeded ".concat(e))}return o}(),m=function(t){return new Promise(function(e){return setTimeout(e,t)})},y=function(t){return new Promise(function(e){return 0===t?e(O(void 0,10)):setTimeout(e,t)})},h=(p=d(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<n.length&&void 0!==n[1]?n[1]:new g(t),e.next=3,y(t);case 3:throw r;case 4:case"end":return e.stop()}},e)})),function(e){return p.apply(this,arguments)}),v=(f=d(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<n.length&&void 0!==n[1]?n[1]:new g(t),e.next=3,m(t);case 3:throw r;case 4:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)}),b=function(e,t,r){return Promise.race([t,v(e,r)])},w=(o=d(regeneratorRuntime.mark(function e(t,r){var n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],o=[],i=function(e){return e.then(function(e){return n.push(e)}).catch(function(e){return o.push(e)})},e.next=5,Promise.race([m(t),Promise.all(r.map(i))]);case 5:return e.abrupt("return",{errors:o,results:n});case 6:case"end":return e.stop()}},e)})),function(e,t){return o.apply(this,arguments)}),S=function(s){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return new Promise(function(n,o){var t,i=Date.now(),a=(t=d(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:(r=e.sent)?n(r):Date.now()-i<u?(r=Math.min(1e3,Math.pow(2,t)/2),setTimeout(function(){return a(t+1)},c+r)):o(new Error("Timeout: exceeded ".concat(u,"ms")));case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});a(0)})},_=function(e){return new Promise(function(t){var r,n=!0;e(function(e){r=e,n&&(n=!1,t(function(){return r}))})})},O=function r(n){var t,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return new Promise((t=d(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o)return e.t0=t,e.next=4,r(n,o-1);e.next=8;break;case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=9;break;case 8:t(n);case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}))}},4812:function(e,t,r){"use strict";r.d(t,{FU:function(){return i},yS:function(){return a},ri:function(){return d},QR:function(){return l},Ds:function(){return f},LY:function(){return p}});var t=r(8554),n=r.n(t);function s(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return o(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function i(t,r){function n(e){a?(i=e,clearTimeout(o),a=!1,e=!o,o=setTimeout(n,r),t(e)):o=void 0}var o,i=0,a=!1;return function(){a=!0;var e=Date.now&&Date.now()||(new Date).getTime();(!o||r<=e-i)&&n(e)}}function a(e){var t=!1;return function(){if(!t){t=!0;try{return e.apply(void 0,arguments)}finally{t=!1}}}}function u(e,t){return Array.isArray(e)&&e.concat(t)||void 0}var d=function(e){var t,r=!1;return function(){return r||(r=!0,t=e.apply(void 0,arguments)),t}},l=function(t){var r,s,e,n=(s=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=4;break}return e.next=3,t();case 3:r=e.sent;case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}),e=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){c(n,t,r,o,i,"next",e)}function i(e){c(n,t,r,o,i,"throw",e)}o(void 0)})},function(){return e.apply(this,arguments)});return n.reset=function(){r=void 0},n},f=function(n,o){function e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a=t,i&&clearTimeout(i),i=setTimeout(function(){i=void 0,n.apply(void 0,s(a))},o)}var i,a=[];return e.callNow=function(){i&&(clearTimeout(i),i=void 0),n.apply(void 0,s(a))},e},p=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n().apply(void 0,[{}].concat(t,[u]))}},633:function(e,t,r){"use strict";r.d(t,{Jj:function(){return R}});var f=r(1013),d=r(5737),l=r(2889),n=r(2830),p=r.n(n);function a(e,t,r){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(r):t.value}})(e,t,r||e)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function s(r){var n=u();return function(){var e,t=m(r);return e=n?(e=m(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==w(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function i(e){var r="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return c(e,arguments,m(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),g(t,e)}(e)}function c(e,t,r){return(c=u()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);n=new(Function.bind.apply(e,n));return r&&g(n,r.prototype),n}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function h(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){y(n,t,r,o,i,"next",e)}function i(e){y(n,t,r,o,i,"throw",e)}o(void 0)})}}function v(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function b(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?v(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){return function(e){if(Array.isArray(e))return A(e)}(e)||_(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function O(e,t){return k(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||E(e,t)||I()}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e){if(Array.isArray(e))return e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t,r){return t&&P(e.prototype,t),r&&P(e,r),e}var T,C,R=(j(B,[{key:"emit",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).emit.apply(e,[this].concat(r))}},{key:"on",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).on.apply(e,[this].concat(r))}},{key:"once",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.pop(),o=!1,i=this.on.apply(this,t.concat([function(){o||(i.cancel(),o=!0,n.apply(void 0,arguments))}]));return i}},{key:"until",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return new Promise(function(n){e.once.apply(e,r.concat([function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t)}]))})}},{key:"register",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).register.apply(e,[this].concat(r))}},{key:"hasSubscriber",value:function(e){return this.bus.hasSubscriber(e)}},{key:"intercept",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).intercept.apply(e,[this].concat(r))}},{key:"interceptOnce",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).interceptOnce.apply(e,[this].concat(r))}},{key:"invoke",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).invoke.apply(e,[this].concat(r))}},{key:"invokeAll",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).invokeAll.apply(e,[this].concat(r))}},{key:"registerStream",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).registerStream.apply(e,[this].concat(r))}},{key:"registerUnboundedStream",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).registerUnboundedStream.apply(e,[this].concat(r))}},{key:"openStream",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).openStream.apply(e,[this].concat(r))}},{key:"createReadObjectStream",value:function(){return this.bus.createReadObjectStream()}},{key:"createTransformObjectStream",value:function(e){return this.bus.createTransformObjectStream(e)}},{key:"collectStreamAsPromise",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).collectStreamAsPromise.apply(e,[this].concat(r))}},{key:"invokeChainMutable",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.bus).invokeChainMutable.apply(e,[this].concat(r))}}]),B),D=(j(M,[{key:"queuePublish",value:function(e,t){for(var r=arguments.length,n=new Array(2<r?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var i;return this.queued.push(function(){i(e.apply(void 0,[t].concat(n)))}),new Promise(function(e,t){i=e})}},{key:"queueStream",value:function(e,t){for(var r=arguments.length,n=new Array(2<r?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var i=O(l.Ju(),2),a=i[0],s=i[1];return this.queued.push(function(){e.apply(void 0,[t].concat(n)).pipe(s)}),a}},{key:"broker",value:function(e){return new R(this,e)}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.started?this.emitWithInterceptors.apply(this,[e].concat(r)):this.queuePublish.apply(this,[this.emitWithInterceptors.bind(this),e].concat(r))}},{key:"doesMessageMatch",value:function(e,t){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return r}},{key:"emitWithInterceptors",value:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.callInterceptors.apply(this,[e,this.emitImmediately].concat(r))}},{key:"callInterceptors",value:function(e,a){for(var s=this,t=arguments.length,c=new Array(2<t?t-2:0),r=2;r<t;r++)c[r-2]=arguments[r];return new Promise(function(e,t){try{var i;s.interceptors.length?(i=s.interceptors.filter(function(e){return!1!==s.doesMessageMatch(e.msg,c)}),e(function e(){for(var t=i.shift(),r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return c=0<n.length?n:c,t?s.callInterceptor(t.callback,c,e,t.broker):a(c)}())):e(a(c))}catch(e){t(e)}})}},{key:"callInterceptor",value:function(e,t,r,n){return e(t,r)}},{key:"emitImmediately",value:function(r){var n=this;return Promise.all(this.subscriptions.map(function(e){var t;if(!1!==(t=n.doesMessageMatch(e.msg,r)))return n.callSubscriber(e,t,r)}).filter(function(e){return e}))}},{key:"callSubscriber",value:function(n,e,o){var i=this,a=o.slice(e);return new Promise(function(e,r){function t(){try{e(n.callback.apply(n.broker,a))}catch(e){var t;"error"===o[0]?console.error("Exception thrown while handling error for",o,e):(t=i.system).emit.apply(t,["error"].concat(S(o),[e])),r(e)}}n.sync?t():i.dispatcher(t)})}},{key:"addSubscription",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],i=t[t.length-1],t=t.splice(0,t.length-1);return this.subscribe(e,t,i,r,n,o)}},{key:"on",value:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.addSubscription(e,r,!1)}},{key:"register",value:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.addSubscription(e,r,!0)}},{key:"getOptions",value:function(e){for(var t=e&&e.options||{},r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e=n[0];return"object"===w(e)?t=b(b({},t),e):t.message=n,Array.isArray(t.message)||(t.message=[t.message]),t.timeout=this.localTimeout(t.timeout),t}},{key:"getSubscriptionsInterestedIn",value:function(t){var r=this;return this.subscriptions.map(function(e){return{subscription:e,matchCount:r.doesMessageMatch(e.msg,t.message)}}).filter(function(e){return!1!==e.matchCount})}},{key:"callFilteredSubscription",value:function(e,t){var r=e.message,n=e.map,e=t.matchCount,t=t.subscription,r=this.callSubscriber(t,e,r);return r&&n&&t.expectReturn?n(r,t):r}},{key:"callFilteredSubscriptions",value:function(n,e){var o=this;return e.reduce(function(e,t){var r=o.callFilteredSubscription(n,t);return t.subscription.expectReturn&&e.push(r),e},[])}},{key:"invoke",value:(C=h(regeneratorRuntime.mark(function e(t){var r,n,o,i,l=this,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=function(){var t=h(regeneratorRuntime.mark(function e(r){var n,o,i,a,s,c,u,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=d.length,o=new Array(1<n?n-1:0),i=1;i<n;i++)o[i-1]=d[i];if(a=l.getOptions.apply(l,[r].concat(o)),c=l.getSubscriptionsInterestedIn(a).filter(function(e){return e.subscription.expectReturn}),u=k(t=c)||_(t)||E(t)||I(),s=u[0],c=u.slice(1),s){e.next=7;break}return e.abrupt("return",Promise.reject(new U(o)));case 7:0<c.length&&console.warn("Total of",c.length+1,"endpoints registered for message",o);case 8:return u=l.callInterceptors.apply(l,[r,function(e){return l.callFilteredSubscription(b(b({},a),{},{message:e}),s)}].concat(S(a.message))),e.abrupt("return",void 0!==a.timeout?Promise.race([u,(0,f.Gv)(a.timeout)]):u);case 10:case"end":return e.stop()}var t},e)}));return function(e){return t.apply(this,arguments)}}(),n=a.length,o=new Array(1<n?n-1:0),i=1;i<n;i++)o[i-1]=a[i];return e.abrupt("return",this.started?r.apply(void 0,[t].concat(S(o))):this.queuePublish.apply(this,[r.bind(this),t].concat(S(o))));case 3:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"localTimeout",value:function(e){return void 0!==this.globalTimeoutOverride?this.globalTimeoutOverride:e}},{key:"invokeAll",value:(T=h(regeneratorRuntime.mark(function e(o){var t,i,r,n,a=this,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s.length,i=new Array(1<t?t-1:0),r=1;r<t;r++)i[r-1]=s[r];return n=function(){var e=h(regeneratorRuntime.mark(function e(){var n,t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getOptions.apply(a,[o].concat(i)),r=function(e){var t=b(b({},n),{},{message:e}),r=a.getSubscriptionsInterestedIn(t);n.controlHandler&&(e=r.map(function(e){return e.subscription}).filter(function(e){var t=e.expectReturn,e=e.unbounded;return t&&!e}).map(function(e){return e.broker.id}),n.controlHandler({type:"interested endpoint",endpoints:e}));t=a.callFilteredSubscriptions(t,r);return n.subscriptionsCalledCallback&&n.subscriptionsCalledCallback(r),t},e.next=4,a.callInterceptors.apply(a,[o,r].concat(S(n.message)));case 4:return r=e.sent,r=r?r.filter(function(e){return e}):[],t=[],r=r.map(function(e){return e.then(function(e){t.push(e)},function(e){if(n.catch)try{n.catch(e)}catch(e){a.system.emit("error",e)}a.system.emit("error",e)})}),r=Promise.all(r).then(function(e){return e.filter(function(e){return e})}),void 0!==n.timeout&&(r=Promise.race([r,(0,f.S1)(n.timeout)])),e.abrupt("return",r.then(function(){return t}));case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",this.started?n.apply(void 0,[o].concat(i)):this.queuePublish.apply(this,[n.bind(this),o].concat(i)));case 3:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"subscribe",value:function(e,t,r,n){var o=this,i=4<arguments.length&&void 0!==arguments[4]&&arguments[4],a=5<arguments.length&&void 0!==arguments[5]&&arguments[5],s=!1,c=t[0];if("object"===w(c)&&(t=(0,d.pj)(c.message),s=c.sync||s),r&&"function"!=typeof r)throw new Error('Callback has to be a function, but a "'.concat(w(r),'" was passed'));var u={broker:e,msg:t,callback:r,sync:s,expectReturn:n,isStream:i,unbounded:a,cancel:function(){o.subscriptions=(0,d.cl)(u,o.subscriptions)}};return this.subscriptions.push(u),u}},{key:"hasSubscriber",value:function(t){return-1!==this.subscriptions.findIndex(function(e){return O(e.msg,1)[0]===t})}},{key:"interceptOnce",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.pop(),o=!1,i=this.intercept.apply(this,t.concat([function(){o||(i(),o=!0,n.apply(void 0,arguments))}]));return i}},{key:"intercept",value:function(e){for(var t=this,r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var i=n.pop(),a={msg:n,callback:i,broker:e};return this.interceptors.push(a),function(){t.interceptors=(0,d.cl)(a,t.interceptors)}}},{key:"start",value:function(){var t=this;for(this.system.on("error",function(){var e;t.showUncaughtErrors&&(e=console).error.apply(e,arguments)}),this.started=!0;this.queued.length;)this.queued.shift()();this.system.emit("system ready"),r.g.DM&&r.g.DM.later&&r.g.DM.later&&r.g.DM.later.go&&r.g.DM.later.go("mol-adverts")}},{key:"setDispatcher",value:function(e){this.dispatcher=e}},{key:"registerStream",value:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.addSubscription(e,r,!0,!0)}},{key:"registerUnboundedStream",value:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.addSubscription(e,r,!0,!0,!0)}},{key:"openStream",value:function(e){for(var u=this,t=function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];function o(){s||0!=--c||(s=!0,a.push(null))}var i=u.getOptions.apply(u,[e].concat(r)),a=l.KC(),s=!1,c=0;void 0!==i.timeout&&((0,f.S1)(i.timeout).then(function(){s||a.push(null),s=!0}),delete i.timeout);return u.invokeAll(e,b(b({},i),{},{map:function(e,t){var r=t.broker,n=t.unbounded;return n||c++,e.then(function(e){e=e instanceof p().Readable?e:l.nI(e?[e]:[]);e.on("data",function(e){return!s&&a.push(e)}),n||e.on("end",function(){i.controlHandler&&i.controlHandler({type:"stream done",endpoint:r.id}),o()})},function(e){i.emitErrors&&a.emit("error",e),n||o()})},subscriptionsCalledCallback:function(){s||0!==c||(s=!0,a.push(null))}})),a},r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return this.started?t.apply(void 0,[e].concat(n)):this.queueStream.apply(this,[t.bind(this),e].concat(n))}},{key:"createReadObjectStream",value:function(){return l.KC(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"createTransformObjectStream",value:function(){return l.U0(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"collectStreamAsPromise",value:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return l.$4(this.openStream.apply(this,[e].concat(r)))}},{key:"invokeChainMutable",value:function(e){for(var u=this,t=function(e){for(var t=arguments.length,s=new Array(1<t?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];var c=u.getOptions.apply(u,[e].concat(s)),i=u.getSubscriptionsInterestedIn(c).filter(function(e){return e.subscription.expectReturn}),e=u.callInterceptors.apply(u,[e,function(o){return new Promise((r=h(regeneratorRuntime.mark(function e(t,r){var a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=S(o),n=a.pop(),e.next=4,i.reduce(function(){var r=h(regeneratorRuntime.mark(function e(t,r){var n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,o=r.matchCount,i=r.subscription,e.abrupt("return",u.callSubscriber(i,o,[].concat(S(a),[n])).catch(function(e){var t;return c.onError&&c.onError(e,s),(t=u.system).emit.apply(t,["error"].concat(s,[e])),n}));case 5:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),Promise.resolve(n));case 4:n=e.sent,t(n);case 6:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)}));var r}].concat(S(c.message)));return void 0!==c.timeout?Promise.race([e,(0,f.Gv)(c.timeout)]):e},r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return this.started?t.apply(void 0,[e].concat(n)):this.queuePublish.apply(this,[t.bind(this),e].concat(n))}}]),M),U=function(e){o(n,e);var r=s(n);function n(e){var t;return x(this,n),(t=r.call(this,"No end point registered: "+JSON.stringify(e))).endpoint=e,t}return n}(function(){o(t,i(Error));var e=s(t);function t(){return x(this,t),e.apply(this,arguments)}return t}()),n=function(){o(i,D);var e=s(i);function i(){return x(this,i),e.apply(this,arguments)}return j(i,[{key:"emit",value:function(e){for(var t,r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console.group(e.id,"emit",n);try{return(t=a(m(i.prototype),"emit",this)).call.apply(t,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"callSubscriber",value:function(e,t,r){console.group("calling",e.broker.id,r);try{return a(m(i.prototype),"callSubscriber",this).call(this,e,t,r)}finally{console.groupEnd()}}},{key:"intercept",value:function(e){for(var t,r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console.group(e.id,"intercept",n);try{return(t=a(m(i.prototype),"intercept",this)).call.apply(t,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"invoke",value:function(e){for(var t,r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console.group(e.id,"invoke",n);try{return(t=a(m(i.prototype),"invoke",this)).call.apply(t,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"invokeAll",value:function(e){for(var t,r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console.group(e.id,"invokeAll",n);try{return(t=a(m(i.prototype),"invokeAll",this)).call.apply(t,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"openStream",value:function(e){for(var t,r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console.group(e.id,"openStream",n);try{return(t=a(m(i.prototype),"openStream",this)).call.apply(t,[this,e].concat(n))}finally{console.groupEnd()}}},{key:"callInterceptor",value:function(e,t,r,n){console.group(n.id,"intercepted",t);try{return a(m(i.prototype),"callInterceptor",this).call(this,e,t,r)}finally{console.groupEnd()}}},{key:"subscribe",value:function(e,t,r,n){return console.log(e.id,n?"registered to":"subscribed to",t),a(m(i.prototype),"subscribe",this).call(this,e,t,r,n)}},{key:"broker",value:function(e){return console.log("broker",e,"created"),a(m(i.prototype),"broker",this).call(this,e)}},{key:"start",value:function(){return a(m(i.prototype),"start",this).call(this)}}]),i}(),n=new(~window.location.search.indexOf("logbroker")?n:D);function M(){x(this,M),this.subscriptions=[],this.interceptors=[],this.queued=[],this.started=!1,this.dispatcher=function(e){return e()},this.firedMessages=new Set,this.system=this.broker("MessageBus"),this.emitImmediately=this.emitImmediately.bind(this),this.showUncaughtErrors=!0,this.globalTimeoutOverride=void 0}function B(e,t){x(this,B),this.bus=e,this.id=t,this.options={}}t.ZP=n},5059:function(e,t,i){"use strict";function a(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function s(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(r,e){return e.reduce(function(e,t){return e[t]=r[t],e},{})}function o(n,e){return Object.entries(e).reduce(function(e,t){var t=function(e){if(Array.isArray(e))return e}(r=t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||s(r,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0];return e[t[1]]=n[r],e},{})}function c(e){for(var t in e)return!1;return!0}i.d(t,{ei:function(){return r},Ev:function(){return o},xb:function(){return c},ns:function(){return u},ar:function(){return d},jF:function(){return l}});var u=function(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i.g,n=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;void 0===r[o]&&(r[o]={}),r=r[o]}}catch(e){n.e(e)}finally{n.f()}return r},d=function(e,t){for(var r in t)if("function"==typeof t[r]&&!t[r](e[r]))return!1;return!0};function l(e,t,r){if(!e.hasOwnProperty(t))return e;e=function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}({},e);return e[r]=e[t],delete e[t],e}},2889:function(e,t,r){"use strict";r.d(t,{$4:function(){return a},Ju:function(){return s},dE:function(){return c},KC:function(){return u},U0:function(){return d},nI:function(){return l},TS:function(){return f},UI:function(){return p},hX:function(){return g},c:function(){return m}});var t=r(2830),o=r.n(t);function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function n(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var a=function(n){return new Promise(function(e,t){var r=[];n.on("data",function(e){return r.push(e)}),n.on("end",function(){return e(r)}),n.on("error",function(e){return t(e)})})},s=function(){var n=new(o().Readable)({objectMode:!0,read:function(){}}),e=new(o().Writable)({objectMode:!0,write:function(e,t,r){n.push(e),r()},final:function(e){n.push(null),e()}});return[n,e]},c=function(e,r){return u({start:function(){var t=this;e.on("data",function(e){return t.push(e)}).on("end",function(){t.push(null),r()}).on("error",function(e){console.log("------\x3e STREAM Error",e),t.destroy(e),r(e)})}})},u=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=new(o().Readable)({objectMode:!0,read:function(){}});return e.start&&e.start.apply(t),t},d=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new(o().Transform)(n({objectMode:!0},e))},l=function(e){var t=0;return new(o().Readable)({objectMode:!0,read:function(){e.length&&this.push(e[t++]),t===e.length&&this.push(null)}})},f=function(e){var i=u(),a=e.length;return a?e.forEach(function(e){function t(e){return i.push(e)}function r(){0==--a&&i.push(null)}function n(e){return i.emit("error",e)}e.on("data",t).on("end",r).on("error",n);var o=(e.off||e.removeListener).bind(e);i.on("close",function(){o("data",t),o("end",r),o("error",n)})}):i.push(null),i},p=function(e,r){return u({start:function(){var t=this;e.on("data",function(e){return t.push(r(e))}).on("end",function(){t.push(null)}).on("error",function(e){return t.destroy(e)})}})},g=function(e,r){return u({start:function(){var t=this;e.on("data",function(e){r(e)&&t.push(e)}).on("end",function(){t.push(null)}).on("error",function(e){return t.destroy(e)})}})},m=function(e,t){function r(e){return n.push(e)}var n=u();t.on("data",r);var o=!1,i=(t.off||t.removeListener).bind(t);e.on("end",function(){o||(i("data",r),o=!0),n.push(null)});e=f([e,n]);return e.on("close",function(){o||(i("data",r),o=!0)}),e}},7721:function(e,t,r){"use strict";function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{t2:function(){return n},T3:function(){return o}});var n=function(e){return e.size||DM.molFeMiniLodash.map((e.type||"").split(","),function(e){return DM.molFeMiniLodash.map(e.split("x"),Number)})};function o(e,t,r){function n(e){return Array.isArray(e)&&2===e.length}var o;if(!((o=e)&&Array.isArray(e)&&e.length&&o.every(function(e){return e&&n(e)&&n(e[0])&&Array.isArray(e[1])&&(0===e[1].length||e[1].every(n))})))return t;var e=function(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e).sort(function(e,t){return t[0][0]-e[0][0]}),r=s(r,2),i=r[0],a=r[1],e=e.find(function(e){var t=s(e,1),e=s(t[0],2),t=e[0],e=e[1];return t<=i&&e<=a});return e&&e[1]||t}},3436:function(e,t,n){"use strict";function r(e){var t=n.g.dartSiteId,r=n.g.PageCriteria.sponsored?"dm_dmnative":"".concat(n.g.adAreaSiteId,"_").concat(n.g.adAreaSiteId).concat(n.g.adAreaId,"_").concat(n.g.adSubareaId).concat(n.g.adPageType);return"native_"===e.slice(0,7)?"dailymail.uk/dm_native/".concat(e):"video"===e?"dm.video/dm_video_".concat(n.g.adAreaId):"".concat(t,"/").concat(r,"/").concat(e)}n.d(t,{Z:function(){return r}})},7200:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return window["inner"+e]||document.documentElement["client"+e]||document.body["client"+e]}function c(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).usePixelRatio&&window.devicePixelRatio||1;return{width:s("Width")*e,height:s("Height")*e}}r.d(t,{ap:function(){return c},SP:function(){return u},ej:function(){return f},d8:function(){return p},zP:function(){return g},bP:function(){return m},JW:function(){return y},s$:function(){return h},cj:function(){return v},G9:function(){return b},D1:function(){return w},P0:function(){return S},oK:function(){return _}});var u={};try{u=window.location.search.substr(1).split("&").reduce(function(e,t){var t=function(e){if(Array.isArray(e))return e}(t=t.split("="))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(t)||i(t,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],n=t[1];switch(!0){case(r=decodeURIComponent(r)).startsWith("!"):e[r.substr(1)]=!1;break;case r.endsWith("[]"):e[r=r.substr(0,r.length-2)]=!n||decodeURIComponent(n).split(",");break;case r.endsWith("[0]"):e[r=r.substr(0,r.length-3)]=!n||decodeURIComponent(n).split(",");break;case/\[[-+]\]$/.test(r):e[r]=[].concat(o(e[r]||[]),o((n||"").split(",").map(decodeURIComponent)));break;default:e[r]=n?decodeURIComponent(n):"string"!=typeof n||n}return e},{})}catch(e){r.g.DM.log("ads",e),u={}}function d(e){var t=new Date;switch(n(e)){case"undefined":return t.setMonth(t.getMonth()+1),t;case"number":return t.setDate(t.getDate()+e),t;case"string":return new Date(e);case"function":return d(e());case"object":if(e instanceof Date)return e;if(null===e)return d();default:throw new Error("Invalid expire time when setting cookie")}}var l=/(%[0-9A-Z]{2})+/g,f=function(e){var t,e=";".concat(document.cookie).split("; ".concat(e,"="));return t=1<e.length?(t='"'===(t=e.pop().split(";").shift()).charAt(0)?t.slice(1,-1):t).replace(l,decodeURIComponent):t},p=function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"/",r=d(r);document.cookie="".concat(e,"=").concat(t,";expires=").concat(r.toUTCString(),";path=").concat(n)},g=function(e,t){var r="".concat(e,"Expire"),n=d(f(r)).toUTCString();p(e,t,n),p(r,n,n)};function m(){var e=/(Windows\s*[a-zA-Z]*)\s+([^;\s)]+)/i.exec(navigator.userAgent);return e&&"windows nt"===e[1].toLowerCase()&&6.4<=parseFloat(e[2])}var y="Microsoft Internet Explorer"===navigator.appName||!(!navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/rv:11/)),h=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),v=/(?:iPod|iPhone|iPad).*(?:OS)/i.test(navigator.userAgent),b=/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/.test(navigator.userAgent),w=/Firefox\/([0-9.]+)(?:\s|$)/.test(navigator.userAgent),S=/Edge\/([0-9._]+)/.test(navigator.userAgent);function _(){try{if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}}catch(e){console.error(e)}return[-1,-1,-1]}},7926:function(e,t,r){"use strict";r.r(t);var n=r(4812),o=r(7200),i=r(633),a=r(8662),t=r(705),s=r.n(t);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=i.ZP.broker("debug-output"),d=window.PageCriteria&&window.PageCriteria.pageViewId||(0,a.kb)(),a=o.SP.adsDebugRemote||o.SP["ac.adsDebugRemote"]||r.g.adverts.config&&r.g.adverts.config.adsDebugRemoteV2,o=o.SP.adsBugReport||o.SP["ac.adsBugReport"]||r.g.adverts.config&&r.g.adverts.config.adsBugReportV2,l="boolean"!=typeof a&&a,f=[],p=0,g=(0,n.Ds)(function(){u.emit("send to bidmax",{_:{topic:"debug"},type:"multi",pvid:d,label:l,eventId:p++,payload:f}),f=[]},1e3);function m(e){var n=new Set;return JSON.stringify(e,function(e,t){if("object"===c(t)&&null!==t){if(t instanceof Error)return{type:"Error",message:t.message,stack:t.stack};if(n.has(t))return"[circular reference]";n.add(t)}return r=t,("object"===("undefined"==typeof Node?"undefined":c(Node))?r instanceof Node:r&&"object"===c(r)&&"number"==typeof r.nodeType&&"string"==typeof r.nodeName)?"[DOM Node]":t;var r})}function y(e,t){f.push({type:e,timestamp:(new Date).toISOString(),payload:t}),100<=f.length?g.callNow():g()}function h(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];y("log",{level:e,log:r.map(m).map(function(t){if(void 0===t)return t;try{return JSON.parse(t)}catch(e){v.error("Error parsing",t,e)}})}),v[e].apply(v,r)}var v={log:console.log,warn:console.warn,error:console.error,info:console.info};a&&(console.log=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.apply(void 0,["log"].concat(t))},console.info=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.apply(void 0,["info"].concat(t))},console.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.apply(void 0,["warn"].concat(t))},console.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.apply(void 0,["error"].concat(t))},window.onerror=function(e,t,r,n,o){return console.error("[UNCAUGHT]",{message:e,source:t,lineno:r,colno:n,error:o}),!1},window.addEventListener("unhandledrejection",function(e){e=e.reason;console.error("[PromiseRejectionUncaught]",{reason:e})}),u.on("send remote debug",y),u.on("system ready",function(){var e=r.g.adverts.config;y("config",{config:e})}),u.once("dom ready",function(){r.g.PageCriteria&&y("PageCriteria",r.g.PageCriteria),r.g.pagemeta&&y("pagemeta",r.g.pagemeta),u.invoke("get page level analytics").then(function(e){return y("bidmax",e)})})),o&&u.once("dom ready",function(){var e=document.createElement("div");e.innerHTML=s()(),document.body.appendChild(e);var t=e.querySelector("#debugRemoteButtonText"),r=t.querySelector("textarea"),n=t.querySelector("button");e.querySelector("#debugRemoteButton").addEventListener("click",function(e){e.preventDefault(),t.style.display="block"}),n.addEventListener("click",function(e){e.preventDefault(),y("bugreport",{log:[r.value]}),console.info("bugreport",r.value),r.value="",t.style.display="none"})})},6415:function(e,t,r){"use strict";r.d(t,{x:function(){return c}});var t=r(7200),n=new Set;t.SP.adsDebug?n=new Set(((!0===t.SP.adsDebug?"all":t.SP.adsDebug)||"").toLowerCase().split(",")):"boolean"==typeof(r=t.SP["ac.adsDebug"]||r.g.adverts.config&&r.g.adverts.config.adsDebugV2)?n=new Set(["all"]):Array.isArray(r)&&(n=new Set(r.map(function(e){return e.toLowerCase()})));var o=n.has("all"),s=function(){};function c(t){function e(o){return r||"error"===o?function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];"table"===o?(a.info("Table:"),(e=console).table.apply(e,r)):(e=console)[o].apply(e,[i].concat(r))}:s}var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"[".concat(t,"]"),r=o||n.has(t.toLowerCase()),a=e("log");return a.log=e("log"),a.trace=e("trace"),a.debug=e("debug"),a.info=e("info"),a.warn=e("warn"),a.error=e("error"),console.table&&(a.table=e("table")),a.enabled=r,a.extend=function(e){return c(t,"".concat(i,"[").concat(e,"]"))},a}},8662:function(e,t,r){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e,t){e=t-e+1+e;return Math.floor(Math.random()*e)}function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){return t=e,e=16*Math.random()|0,("x"===t?e:3&e|8).toString(16);var t})}r.d(t,{MX:function(){return n},kb:function(){return o},_b:function(){return i}});var s=/(.*)P(\d+)(s|k|m|gb|ms)$/;function i(e,t){var r,n,o,i=(n=function(e){if(Array.isArray(e))return e}(o=e.match(s))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),4!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(o)||function(e){if(e){if("string"==typeof e)return a(e,4);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,4):void 0}}(o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[1],o=n[2],n=n[3],{fieldName:r,period:o,unit:n,cap:{m:function(e){return 60*e*1e3},s:function(e){return 1e3*e},k:function(e){return 1e3*e},gb:function(e){return 1e9*e},ms:function(e){return e}}[n](o)});return n={},o=e,e=function(){if(null!=t){var e=t/(i.cap/100);return(e=99<e?99:e)<0&&(e=0),Math.round(e)}}(),o in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e,n}},4794:function(e,t,n){"use strict";n.d(t,{U2:function(){return I},t8:function(){return E}});var t=n(9208),o=n.n(t),t=n(1468),i=n.n(t),a=n(7200),s=n(5737),r=n(5059);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return(0,r.ar)(e,{browser:f(p),device:f(g),iOSVersion:f(m),timeRange:f(y),globalContext:f(v)})}function f(t){return function(e){return void 0===e||(Array.isArray(e)?e.some(t):t(e))}}function p(e){switch(e){case"chrome":return a.G9;case"edge":return a.P0;case"ie":return a.JW;case"firefox":return a.D1;case"safari":return a.s$;default:return!1}}function g(e){var t=o()(n.g,"DM.molFeMobileutils");if(t)switch(e){case"tablet":return t.isIPad()||t.isAndroidTable();case"desktop":return!t.isMobile()}else console.error("DM.molFeMobileutils is not available")}function m(e){var t=e.min,r=e.max,e=c((0,a.oK)(),1)[0];return(void 0===t||t<=e)&&(void 0===r||e<=r)}function y(e){var t=e.end,r=e.start,e=new Date,t=t&&h(t)<=e,e=r&&h(r)>e;return!t&&!e}function h(e){var t=c(e.split(":").map(Number),3),r=t[0],n=t[1],e=t[2],t=new Date;return t.setHours(r),t.setMinutes(n),t.setSeconds(e),t}function v(e){var t=e.prop,r=e.op,e=e.value;if("includes"===r){t=o()(n.g,t);return("string"==typeof t?t:(0,s.pj)(t)).includes(e)}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=(0,n(6415).x)("config"),O={},I=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=o().apply(void 0,[O].concat(t));return"object"===S(n)?JSON.parse(JSON.stringify(n)):n},E=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i().apply(void 0,[O].concat(t))};n.g.adverts.config=n.g.adverts.config||{},Object.entries(n.g.adverts.config).forEach(function(e){var t=b(e,2),r=t[0],e=t[1];"object"===d(t=e)&&t.__targeting?void 0!==(t=(t=e.__targeting,((0,s.pj)(t).find(l)||{}).payload))&&E(r,t):E(r,e)}),Object.entries(a.SP).forEach(function(e){var t,r,n=b(e,2),e=n[0],o=n[1];e.startsWith("ac.")&&(e.endsWith("[+]")?(t=e.substring(3,e.length-3),E(t,(0,s.jj)(I(t,[]).concat(o)))):e.endsWith("[-]")?(t=e.substring(3,e.length-3),E(t,I(t,[]).filter(function(e){return!o.includes(e)}))):e.endsWith("{}")?(r=e.substring(3,e.length-2),E(r,function(e){try{return JSON.parse(e)}catch(e){return _.error(e),{}}}(o))):E(e.slice(3),""===(r=o)||"boolean"==typeof r?r:isNaN(r)?(e="true"===r,"false"===r||e?e:r):parseFloat(r)))}),n.g.adverts.config=O},6540:function(e,t,r){"use strict";r.r(t),r.d(t,{onBodyAvailable:function(){return o},untilBodyAvailable:function(){return i},elementReady:function(){return a},loaded:function(){return s},getOffset:function(){return c},getRelativeContainer:function(){return u},getWindow:function(){return d},getPageSize:function(){return l},walk:function(){return f},closest:function(){return p},isElement:function(){return g},appendStyle:function(){return m},contains:function(){return y},getParent:function(){return h},getElementScaledHeight:function(){return v},getElementComputedWidth:function(){return b},getElementComputedHeight:function(){return w},getElementWidthScale:function(){return S},createIframe:function(){return _}});function n(e){return e=getComputedStyle(e).getPropertyValue("position"),["relative","absolute"].includes(e)}var o=function e(t){document.body?t():r.g.requestAnimationFrame(function(){e(t)})},i=function(){return new Promise(o)},a=function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:5e3,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10;return new Promise(function(r,n){var o=!1;setTimeout(function(){o=!0},a),function e(){var t=document.querySelector(i);t?r(t):o?n(new Error('Element "'.concat(i,'" not found after ').concat(a,"ms"))):setTimeout(e,s)}()})},s=function(){return new Promise(function(e){["complete","loaded","interactive"].includes(document.readyState)?e():document.addEventListener("DOMContentLoaded",e)})},c=function(e){var t,r={top:0,left:0},n=e&&e.ownerDocument;if(n)return t=n.documentElement,e.getBoundingClientRect&&(r=e.getBoundingClientRect()),n=d(n),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},u=function(e){return f(e,n,function(e){return e.parentNode})},d=function(e){var t=null;return e&&(e===e.window?t=e:9===e.nodeType?t=e.defaultView||e.parentWindow:e.ownerDocument&&(t=e.ownerDocument.defaultView||e.ownerDocument.parentWindow)),t},l=function(){return[document.body.scrollWidth,window.innerHeight+window.scrollMaxY,window.innerWidth,window.innerHeight]},f=function(e,t,r){for(;e;){if(t(e))return e;e=r(e)}},p=function(e,t){return f(e,t,function(e){e=e.parentNode;return e!==document&&e})},g=function(e){return e&&1===e.nodeType},m=function(e){var t;e&&((t=document.createElement("style")).type="text/css",t.styleSheet?t.styleSheet.cssText=e:"textContent"in t?t.textContent=e:t.innerText=e,document.body.appendChild(t))},y=function(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY},h=function(e,t){return f(e,function(e){return e.matches(t)},function(e){return e.parentNode})},v=function(r){return function(){var e=getComputedStyle(r),t=e.getPropertyValue("transform");if(t&&"none"!==t){t=t.split("(")[1].split(")")[0].split(",");return parseFloat(t[3])}e=e.getPropertyValue("zoom");return parseFloat(e||1)}()*w(r)},b=function(e){return parseInt(getComputedStyle(e).getPropertyValue("width"))},w=function(e){return parseInt(getComputedStyle(e).getPropertyValue("height"))},S=function(e){e=b(e);return b(document.body)/e};function _(e){var t=e.content,r=e.insertMethod,n=void 0===r?function(e){document.body.appendChild(e)}:r,o=e.width,i=void 0===o?0:o,r=e.height,o=void 0===r?0:r,r=e.log,e=void 0===r?function(){}:r,r=document.createElement("iframe");return r.border="0",r.style.width="".concat(i,"px"),r.style.height="".concat(o,"px"),r.style.border="none",e("inserting iframe"),n(r),e("writing iframe content",r),r.contentDocument.open(),r.contentDocument.domain=document.domain,r.contentDocument.write(t),r.contentDocument.close(),r}},8747:function(e,t,r){void 0===r.g.adverts&&(r.g.adverts={})},8990:function(e,t,j){"use strict";var r={};j.r(r),j.d(r,{addFBRemarketingPixel:function(){return Fe},addTaboolaPosition:function(){return Ve},addToArray:function(){return Ue},appendToInfiniteList:function(){return Me},forceRefreshAds:function(){return De},getBannerFallbackPromise:function(){return Ye},getRequestedAds:function(){return Xe},getRtaReport:function(){return He},getScriptContainer:function(){return je},getSyncVideoTags:function(){return $e},getVideoAdsSetup:function(){return Ie},getVideoTags:function(){return Ze},init:function(){return Ne},initEmergencyRules:function(){return E.initEmergencyRules},initSlots:function(){return E.initSlots},q:function(){return ze},reg:function(){return Be},requestAdByGoogle:function(){return We},requestGoogleAd:function(){return Le},requestSlotConfig:function(){return E.requestSlotConfig},setStickyBannerZoomThresholds:function(){return Ce},setSupportedSlots:function(){return E.setSupportedSlots},stopRefreshingAds:function(){return Re}});var n={};j.r(n),j.d(n,{isClickThrough:function(){return ut},onClick:function(){return st},onDeactivate:function(){return ct},onInteraction:function(){return dt}});var o={};j.r(o),j.d(o,{article:function(){return _t},auctionInfo:function(){return Et},bootstrap:function(){return kt},brandedVideoPlayer:function(){return zt},gpt:function(){return Ht},integral:function(){return tr},maxbid:function(){return ar},scriptLoader:function(){return sr},sessionDepth:function(){return vr},skimlinks:function(){return _r},taboola:function(){return xr},visits:function(){return qr}});var i={};j.r(i),j.d(i,{abd:function(){return Zr}});var a={};j.r(a),j.d(a,{conversion:function(){return en.Z},detection:function(){return un},errorDetection:function(){return mn},iab:function(){return i},rtaTracking:function(){return hn},serverBypass:function(){return wn}});var s={};j.r(s),j.d(s,{abtest:function(){return Dn},bidmax:function(){return ro},bidmaxSendBeacon:function(){return ao},bidmaxSendBeaconMigration:function(){return lo},cacheIndication:function(){return bo},cmp:function(){return wo},connection:function(){return Di},customTracking:function(){return Eo},entryPoint:function(){return Bo},externalData:function(){return Yo},headerbidderWinner:function(){return Xo},inputDelays:function(){return Qo},memory:function(){return ti},pageCriteria:function(){return ni},pageLoadEvent:function(){return oi},rtaIds:function(){return ai},storage:function(){return si},timing:function(){return wi},videoFailures:function(){return Si},viewability:function(){return xi}});var c={};j.r(c),j.d(c,{adyoulike:function(){return ia},amazon:function(){return za},amazonv2:function(){return za},appnexus:function(){return $a},appnexusOutstream:function(){return Qa},appnexusVideo:function(){return uc},brightroll:function(){return ts},collective564:function(){return rs},collectiveImprove:function(){return os},criteo:function(){return ss},criteoV2:function(){return ls},groupm:function(){return fs},groupmSkin:function(){return ps},improveDigital:function(){return gs},inskin:function(){return ms},ix:function(){return ys},ixVideo:function(){return fc},justPremium:function(){return vs},kargo:function(){return bs},konduit:function(){return Nc},mediagrid:function(){return Is},mediagridVideo:function(){return mc},oathVideo:function(){return hc},openx:function(){return Es},openxVideo:function(){return wc},pubmatic:function(){return js},pubmaticVideo:function(){return Sc},pxyz:function(){return Cs},rubiMM:function(){return Vs},rubiTTD:function(){return Ws},rubicon:function(){return Ms},rubiconSkin:function(){return Ls},rubiconVideo:function(){return Ic},sharethrough:function(){return $s},spotx2:function(){return Tc},teads:function(){return Qs},telariaVideo:function(){return Rc},triplelift:function(){return tc},tripleliftVideo:function(){return zc},verizon:function(){return nc}});var u={};j.r(u),j.d(u,{dmplayer:function(){return Kd}});var d={};j.r(d),j.d(d,{availabilityNotification:function(){return jl},default:function(){return Vl},hackyDelayer:function(){return Cl},reprompt:function(){return ql},rtaTracking:function(){return zl}});var l={};j.r(l),j.d(l,{forceTags:function(){return Jl},setPlugin:function(){return Gl}});var f={};j.r(f),j.d(f,{indexedDBUsage:function(){return wf},targeting:function(){return uf},video:function(){return yf}});var p={};j.r(p),j.d(p,{permutive:function(){return f}});var g={};j.r(g),j.d(g,{dmplayer:function(){return Cf},flyoutManager:function(){return _p},onlyOneActivePlayer:function(){return bp},perform:function(){return Yf},visibility:function(){return $f}});var m={};j.r(m),j.d(m,{InreadPlayerTop:function(){return zp},connatix:function(){return Bp},descriptions:function(){return A.default},leaderTop:function(){return Wp},mpuFactBox:function(){return gg},mpuMobileFactbox:function(){return yg},mpuMobileOthers:function(){return Xp},mpuPuffOthers:function(){return eg},puffAdOthers:function(){return og},refreshInfo:function(){return lg}});var y={};j.r(y),j.d(y,{banner:function(){return wg},billboard:function(){return Wg},gallery:function(){return fm},mpuLeft:function(){return _m},mpus:function(){return mm},skies:function(){return nm}});var h={};j.r(h),j.d(h,{load:function(){return Ny}});var v={};j.r(v),j.d(v,{admantx:function(){return Gy},adxChannel:function(){return $y},device:function(){return Jy},digitrust:function(){return oh},id5:function(){return sh},impid:function(){return uh},ixIdentity:function(){return ph},pubcommon:function(){return yh},rtaIds:function(){return bh},smartclip:function(){return _h},taboola:function(){return Ih},unifiedid:function(){return Eh},universalid:function(){return Ah},viewability:function(){return qh}});var b={};j.r(b),j.d(b,{bidsReceived:function(){return zh}});var w={};j.r(w),j.d(w,{abe:function(){return a},adIntegrator:function(){return tt.default},adNami:function(){return Lv},adProtection:function(){return x1},adsByGoogle:function(){return zv},adsRefresher:function(){return rb},adsRefresherV2:function(){return cb},adxChannelPlugin:function(){return $y},adyoulike:function(){return ia},amazonNative:function(){return db},analytics:function(){return s},appnexus:function(){return $a},appnexusVideo:function(){return uc},arrowKeysScroll:function(){return lb},audienceProject:function(){return fb},bidders:function(){return c},billboardAdjustments:function(){return Eg},chromelessv2:function(){return u},cmp:function(){return d},cmpAvailabilityNotification:function(){return jl},cmpRtaTracking:function(){return zl},criteo:function(){return ss},debug:function(){return l},devicePlugin:function(){return Jy},dmp:function(){return p},domain:function(){return gb},durationRefresh:function(){return pb},fbRemarketingPixel:function(){return mb},fff:function(){return yb},grapeshotPlugin:function(){return M1},groupm:function(){return fs},headerBidding:function(){return b},impIDPlugin:function(){return uh},irisTv:function(){return wb},ix:function(){return ys},ixVideo:function(){return fc},justPremium:function(){return vs},kargo:function(){return bs},messagePluginsFromCreatives:function(){return Ib},mvt:function(){return Wb},nativo:function(){return Jb},nonAdServable:function(){return Qb},nonPersonalizedAds:function(){return t0},openx:function(){return Es},openxVideo:function(){return wc},pageVisibility:function(){return n0},paidSessions:function(){return a0},performPlayer:function(){return Yf},performance:function(){return l0},permutive:function(){return uf},pixelSync:function(){return g0},players:function(){return g},prebid:function(){return F0},prebidUserSync:function(){return K0},programmaticCampaign:function(){return J0},pubmatic:function(){return js},quantcast:function(){return Z0},realVuRefresh:function(){return P1},revenueReporter:function(){return e1},rtaPageEventDispatcher:function(){return n1},rubicon:function(){return Ms},rubiconSkin:function(){return Ls},rubiconVideo:function(){return Ic},runtimeMessages:function(){return o1},selective:function(){return s1},sharethrough:function(){return $s},skins:function(){return p1},slots:function(){return m},smartBanner:function(){return S1},smartScheduler:function(){return v1},sticky:function(){return y},tcfv2:function(){return h},trackers:function(){return v},version:function(){return O1},videoEvents:function(){return A1},watershed:function(){return E1}});var S=Date.now(),T=(j(8747),j(7200)),O=j(6415);(T.SP.adsDebugRemote||T.SP["ac.adsDebugRemote"]||j.g.adverts.config&&j.g.adverts.config.adsDebugRemoteV2)&&j(7926),(0,O.x)("bootstrap").log("loading",window.location.href);var I=j(4794),C=j(5737),E=j(3477),A=j(7337),k=j(633),x=j(2378),P=j.n(x),R={},D=function(e){if(e in R)return R[e];var t=!0,r=(0,I.U2)("headerBidders",{}),r=(r="string"==typeof r?JSON.parse(r):r)[window.location.hostname];return r&&(r.blacklist&&r.blacklist.includes(e)&&(t=!1),r.whitelist&&!r.whitelist.includes(e)&&(t=!1)),R[e]=t};function U(){return(0,I.U2)("plugins.enabled",[]).filter(function(e){return D(e)})}var M=j(1013);function B(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}var N=(0,O.x)("plugin-registry"),L={};function q(e,t){N("registering plugin:",e),L[e]=t}function z(){return function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?B(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):B(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}({},L)}function V(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=J(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function G(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?W(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):W(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function $(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){K(n,t,r,o,i,"next",e)}function i(e){K(n,t,r,o,i,"throw",e)}o(void 0)})}}function Y(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z(e){se("adding plugins:",e),e=new Set([].concat(Y((0,I.U2)("plugins.enabled",[])),Y(e))),(0,I.t8)("plugins.enabled",Y(e))}function Q(e){se("removing plugins:",e);var t=new Set((0,I.U2)("plugins.enabled",[]));e.forEach(function(e){t.delete(e)}),(0,I.t8)("plugins.enabled",Y(t))}function ee(e){return de.push(e)}function te(e,t){if(D(t)&&!oe.includes(t)){var r=pe(e[t]);if("function"!=typeof r&&(r=pe(e[t])),oe.push(t),"function"==typeof r)try{r(fe(t))}catch(e){console.error('Error initializing plugin "'.concat(t,'":'),e)}}}var re,ne,oe,ie,ae,se=(0,O.x)("plugin-manager"),ce=[],ue=[],de=[],le=(ae=$(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(de.map(function(e){return e(t,r)}));case 2:return e.abrupt("return",e.sent.every(function(e){return e}));case 3:case"end":return e.stop()}},e)})),function(e,t){return ae.apply(this,arguments)}),fe=function(e){return{addPlugins:Z,broker:re.broker(e),doc:document,getConfig:I.U2,setConfig:I.t8,log:(0,O.x)(e),removePlugins:Q,registerPluginBouncer:ee,checkPluginBouncer:le,ownName:e,win:window}},pe=function(e){return"object"===H(e)&&e.default?e.default:e},ge=(ie=$(regeneratorRuntime.mark(function e(t){var a,r,n,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,I.U2)("pluginManager.setupTimeout",5e3),r=function(){var n=$(regeneratorRuntime.mark(function e(t,r,n){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=G(G({},fe(t)),{},{pluginsAlreadyRun:n}),(0,I.t8)("pluginManager.setupTimeout",r.plugiSetupTimeout||a),o=r.pluginSetup(i),i=(0,I.U2)("pluginManager.setupTimeout",a),e.next=7,(0,M.yq)(i,o);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.error("Error calling pluginSetup on plugin '".concat(t,"':"),e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(e,t,r){return n.apply(this,arguments)}}(),n=function(e){return"object"===H(e)&&e.default?e.default:e},o=new Set,i=null;case 5:if(c=(0,I.U2)("plugins.enabled"),s=c.filter(function(e){return!o.has(e)}).shift()){e.next=9;break}return e.abrupt("break",31);case 9:if(i===s)return se.warn("Plugin",s,"just ran and its asking to run again, ignoring it"),o.add(s),e.abrupt("continue",30);e.next=13;break;case 13:if((c="object"===H(c=n(t[i=s]))?c.default:c)&&"function"==typeof c.pluginSetup)return se("setup plugin",s),e.next=20,r(s,c,o);e.next=29;break;case 20:if(e.t0=e.sent,"not yet"===e.t0){e.next=26;break}se("ran:",s),o.add(s),e.next=27;break;case 26:se("plugin",s,"asked to be called again");case 27:e.next=30;break;case 29:o.add(s);case 30:e.next=5;break;case 31:case"end":return e.stop()}},e)})),function(e){return ie.apply(this,arguments)});function me(){return(me=$(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=U(),n=r.map(function(e){return[e,t[e]]}).filter(function(e){return F(e,2)[1]}),r=r.map(function(e){return[e,t[e]]}).filter(function(e){return!F(e,2)[1]}).map(function(e){return F(e,1)[0]}),e.next=5,Promise.all(n.map(function(){var t=$(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=F(t,2),r=n[0],n=n[1],e.next=3,le(r,n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0=r;case 6:return e.abrupt("return",e.t0);case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()));case 5:return n=e.sent.filter(function(e){return e}),(0,I.t8)("plugins.enabled",[].concat(Y(n),Y(r))),e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ye(){return(ye=$(regeneratorRuntime.mark(function e(r){var n,o,i,a,s,c,u,d,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.plugins,n=void 0===o?ce:o,c=r.mandatory,o=void 0===c?ue:c,c=r.messageBus,n=G(G({},n),(t=z(),Object.fromEntries(Object.entries(t).map(function(e){var t=F(e,2),r=t[0],n=t[1],o=n.run,e=n.init,t=n.initTimeout,n=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(n,["run","init","initTimeout"]),i=o||function(){};return i.pluginSetup=e,i.plugiSetupTimeout=t||5e3,Object.entries(n).forEach(function(e){var t=F(e,2),e=t[0],t=t[1];return i[e]=t}),[r,i]})))),oe=[],ne=(re=c).broker("plugin-manager"),e.next=7,ge(n);case 7:i=V(o);try{for(i.s();!(a=i.n()).done;)s=a.value,te(n,s)}catch(e){i.e(e)}finally{i.f()}if(de.length)return e.next=12,function(){return me.apply(this,arguments)}(n);e.next=15;break;case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=U();case 16:c=e.t0,u=V(c);try{for(u.s();!(d=u.n()).done;)l=d.value,te(n,l)}catch(e){u.e(e)}finally{u.f()}ne.emit("plugins enabled",oe),re.start();case 21:case"end":return e.stop()}var t},e)}))).apply(this,arguments)}var he=j(5059);function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function be(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function we(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?be(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):be(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Se(e,t,r,n){var e=void 0===(o=e.posPrefix)?"":o,o=we({},r.cust_params);return r.cust_params&&delete r.cust_params,we({videoAdServerUrl:n.replace(/(&iu=[^&]*)/,"$1/".concat(t)),cust_params:we(we({},o),{},{pos:"".concat(e).concat(t)})},r)}var _e=(0,O.x)("videoBidding"),Oe=(0,O.x)("videoPlayer"),Ie=function(e,t){_e("request for video options");function r(e){var t=(0,I.U2)("players.setup.".concat(e));return void 0!==t&&t||Boolean(d.has(e))}var n=(0,I.U2)("players.editorial",{}),o=(0,I.U2)("plugins.forceFlyawayPlayerConfiguration.styleVariant","letterbox"),i=(0,I.U2)("player.setup.flyoutFromParagraph"),a=(function(e){if(Array.isArray(e))return e}(f=(0,T.oK)())||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),1!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(f)||function(e){if(e){if("string"==typeof e)return ve(e,1);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ve(e,1):void 0}}(f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],s=(0,I.U2)("players.setup.earlyAdFactoryInit",!0),c=-1!==a&&(0,I.U2)("players.setup.userActionTimeout"),u=-1!==a&&(0,I.U2)("players.setup.earlyBidding"),d=new Set((0,I.U2)("plugins.enabled",[])),l=r("mobileFlyawayPlayer"),f=t.plugins||{},a=f.tracking,f=f["ads-setup"],f=void 0===f?{}:f,a=f.schedule||(!(void 0===a?{}:a).sponsored&&f.adsEnabled?function(i,e){if(!(0,he.xb)(i))return[];var o=e.duration/1e3,t=i.videoAdServerUrl,r=i.preRoll,n=i.postRoll,a=i.midRollRepeat,s=i.schedule,s=void 0===s?[]:s,c=e.plugins["ads-setup"].videoAdServerUrl,u=s.map(function(e){var t=e.videoAdServerUrl,r=e.cust_params,n=e.minVideoDuration,o=e.offset,r=e.pos||r&&r.pos;return!t&&r?Se(i,r,{offset:o,minVideoDuration:n},c):e});return r&&!u.find(function(e){return e.cust_params&&("preroll"===e.cust_params.pos||0===e.offset)})&&u.push(Se(i,"preroll",{offset:0},c)),t&&a&&function(){for(var e=a.each,t=a.videoDurationExceeds,r=e,n=r+t;n<o;)u.find(function(e){return e.offset===r})||u.push(Se(i,"midroll",{offset:r,minVideoDuration:n},c)),n=(r+=e)+t}(),n&&!u.find(function(e){return e.cust_params&&("postroll"===e.cust_params.pos||e.offset===o)})&&u.push(Se(i,"postroll",{offset:o,minVideoDuration:o},c)),u.sort(function(e,t){return e.offset-t.offset})}(n,t):[]),f=r("players.flyoutManager"),n=!f&&r("videoFlyout"),f=!f&&r("videoForceFlyout"),o={"ads-setup":we(we({},t["ads-setup"]),{},{schedule:a,bidmax:!0,vpaidEnabled:r("vpaid"),useIMASDK:r("imaSDK"),earlyAdFactoryInit:!!s,userActionTimeout:c,earlyBidding:u}),flyout:{enabled:n,active:n},forceFlyout:{enabled:f,active:f},flyawayPlayer:we({enabled:l,fromParagraph:i},l?{adhesiveStyleVariant:o}:{}),debugOn:Oe.enabled};return _e("new opts:",o),o};function Ee(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ae(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ee(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xe=(0,O.x)("AdsManager"),Pe=[],je=function(){return j.g.DM.molFeMiniLodash.filter(j.g.document.documentElement.childNodes,function(e){return 1===e.nodeType})[0]||document.body},Te=k.ZP.broker("AdsManager");Te.on("slot defined",function(e,t){e.pos="interstitial"===e.pos||"fff"===e.pos?e.id:e.pos,j.g.DM.molFeMiniLodash.extend(e,(0,A.get)(e.pos)||{}),t.id||(t.id=e.id||e.pos+"_"+(new Date).getTime()),Te.emit("update description",e.pos,e),E.isAdEnabled(e)&&Te.emit("slot ready",e)});var Ce=function(){},Re=function(e){Te.emit("stop refreshing ads",e)},De=function(){return Te.emit("force ads refresh")},Ue=function(e){Te.emit("slot defined",e,function(e){var t=e.id&&document.getElementById(e.id);if(t)return t;t=document.currentScript||(0,C.Z$)(document.querySelectorAll("*[id^=".concat(e.pos,"] script")))||(0,C.Z$)(document.scripts);if(!t||"BODY"===t.parentNode.nodeName)throw new Error("Cannot find current script for ".concat(e.pos));return t.parentNode}(e))},Me=function(e){Te.emit("infinite-list append",e)},Be=function(e){return Pe.push(e)},Ne=function(){if(document.getElementById("content")){var e,t=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e){if(e){if("string"==typeof e)return ke(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ke(e,void 0):void 0}}(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(Pe);try{for(t.s();!(e=t.n()).done;){var r=e.value,n=document.getElementById(r),o=document.getElementById(r),i=o.getAttribute("style");n.className=o.className,i&&n.setAttribute("style",o.getAttribute("style"))}}catch(e){t.e(e)}finally{t.f()}}},Le=function(){var e;le("AdsManager.requestGoogleAd",{vendorIds:{gdpr:[755]}})&&((e=document.createElement("script")).async=!0,e.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",document.getElementsByTagName("head")[0].appendChild(e),j.g.adsbygoogle=j.g.adsbygoogle||[],j.g.adsbygoogle.push({}))},qe=Te.until("gpt loaded"),ze=function(e){return qe.then(e)},Ve=function(e){Te.emit("add taboola",e)},Fe=function(){Te.emit("add fb-marketing-pixel")};Te.on("error",function(){var e;return(e=console).error.apply(e,arguments)});var We=function(){Te.emit("adsByGoogle")},Ge={version:1};Te.on("send with rta page unload",function(e){Ge=Ae(Ae({},Ge),e)});var He=function(){return Ge};try{"production"!==j.g.adEnvironment||Object.keys(T.SP).some(function(e){return e.includes("debug")})||(k.ZP.showUncaughtErrors=!1)}catch(e){console.error(e)}var Ke={};Te.on("sync video tags update",function(e){Ke=P()({},Ke,e)});var $e=function(){return Ke},Ye=function(e){return(0,I.U2)("plugins.slots.jwplayer.v2.bannerFallback.enabled",!1)?(Te.emit("chromeless player event","bannerFallbackAd",e),Te.until("bannerFallbackAd destroyed")):Promise.resolve()},Je=[];function Xe(){return Je}function Ze(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0,n={};Te.emit("collect video tags",e,function(e,t){t=t&&t.tags?t.tags:t;t?P()(n,t):xe("Video targeting ended with:",n),r(e,t)})}Te.on("ads rendered update",function(e){Je=e});var Qe=j(3077),et=j(6873),tt=j(8397),rt=j(6540),nt=j(6347),ot=j(8397),it=new nt("click",function(e){var e=ot.getElementOrIframeById(e),e=e.classList.contains("slide")?e:(0,rt.closest)(e,function(e){return e.classList.contains("slide")}),t=document.querySelectorAll?e.querySelectorAll(".adLinkLabel a"):(t=e.getElementsByTagName("a"),Array.prototype.filter.call(t,function(e){return(0,rt.closest)(e,function(e){return e.classList.contains("adLinkLabel")})}));return t[0]}),at=new nt("adDeactivate",function(e){return(0,rt.closest)(ot.getElementOrIframeById(e),function(e){return"mobileGalleryModal"===e.id})});function st(){var e=Array.prototype.slice.call(arguments),t=e[1];e[1]=function(){window.open(t,"_blank")},it.registerEvent.apply(it,e)}function ct(e,t){at.registerEvent(e,t)}function ut(e){"string"==typeof e?e=ot.getElementById(e):(0,rt.isElement)(e)||(e=e[0]);e=(e=ot.getAdContainer(e)).getElementsByTagName("div");return 0<(e=Array.prototype.filter.call(e,function(e){e=it.getEvent(e.id);return e&&-1!==e.toString().indexOf("window.open")})).length}function dt(){it.registerEvent.apply(it,arguments)}function lt(){!function(e){for(var t=e.length,r=yt.length,n=0,o=0;o<r;o++){var i=yt[o];if(t<=i)break;!function(e,t,r){var n,o="mpu_comments_".concat(t),t=e[r],e=function(e){var t=document.createElement("div");t.id=e,t.className="adHolder mpu molads_".concat(e),t.appendChild(mt());e=document.createElement("li");return e.appendChild(t),e}(o),r={pos:o};t.parentNode.insertBefore(e,t),vt[o]?(0,Qe.refreshAdvert)({pos:o}):(n=ht.on("ad delayed",r,function(){n.cancel(),(0,Qe.requestDelayedAdvert)(o)}),ht.emit("slot defined",r,e.firstChild),vt[o]=!0)}(e,++n,i)}}(document.querySelectorAll("#comments .comment"))}var ft=j(1823),pt=j.n(ft),gt=j(6347),x=j.n(gt),mt=function(){var e=document.createTextNode((0,I.U2)("label.text","ADVERTISEMENT")),t=document.createElement("span");t.classList.add("mol-ads-label"),t.appendChild(e);e=document.createElement("span");return e.classList.add("mol-ads-label-container"),e.appendChild(t),e},yt=[3,8],ht=k.ZP.broker("Comments"),vt={};function bt(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function wt(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){bt(n,t,r,o,i,"next",e)}function i(e){bt(n,t,r,o,i,"throw",e)}o(void 0)})}}ht.on("slots initialized",function(){DM.later("bundle",function(){return DM.molFeComments&&DM.molFeComments.events.subscribe("loaded",lt)})}),q("adzouk",{run:function(e){var t=e.broker,r=j.g.top;r.location.hostname.includes("combotag.com")||(e=encodeURIComponent(location.href),r=r.ct_t_init,t.invoke("load script","//serve.combotag.com/show_ad?id=994&url=".concat(e,"&t=").concat(r),null,{},function(){return!0}))},vendorIds:{gdpr:!1}});var St=function(){return{articlewithvideo:""+j.g.PageCriteria.containsVideo,style:j.g.PageCriteria.articleStyle}};function _t(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=wt(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=t.broker).emit("set page level targeting",St()),r.emit("set page level targeting",new Promise(function(){var t=wt(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,rt.untilBodyAvailable)();case 2:t(St());case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Et(e){function t(e){return(Array.isArray(e)?e:[e]).map(function(e){return parseFloat(e.split("_")[1])}).sort(function(e,t){return t-e})[0]}var u=e.broker,d={};d.ix_ox_om=function(e){return["openx",t(e)]},d.ix_cdb_om=function(e){return["criteo",t(e)]},d.ix_fb_om=function(e){return["facebook",t(e)]},d.IOM=function(e){return["indexExchange",t(e)]},d.ix_karg_om=function(e){return["kargo",t(e)]},u.on({message:"gpt loaded",sync:!0},function(){var r=googletag.pubads(),n=r.setTargeting;r.setTargeting=function(e,t){try{u.emit("set global key value",e,t)}catch(e){console.error(e)}return n.call(r,e,t)}}),u.on({message:"slot created",sync:!0},function(s,e){var c=e.setTargeting.bind(e);e.setTargeting=function(e,t){try{var r,n,o,i=d[e];u.emit("set key value",s.pos,e,t),i&&(n=(r=function(e){if(Array.isArray(e))return e}(a=i(t))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(a)||function(e){if(e){if("string"==typeof e)return It(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?It(e,2):void 0}}(a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],o=r[1],u.emit("bid",s.pos,{bidder:n,cpm:parseInt(o)}))}catch(e){console.error(e)}var a;return c(e,t)}})}Et.pluginSetup=function(e){var t=e.getConfig,e=e.removePlugins;t("plugins.enabled").includes("gpt")||e(["auctionInfo"])};var At=j(8662);function kt(e){e.broker,j.g.PageCriteria.pageViewId=(0,At.kb)()}var nt=j(2635),xt=j.n(nt),ft=j(567),Pt=j.n(ft);function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tt=function(e){var r,t,n,o="GET",i=3e3,a={};"string"==typeof e?r=e:(t=e.method,o=void 0===t?"GET":t,r=e.url,i=void 0===(t=e.timeout)?3e3:t,t=e.headers,a=void 0===t?{}:t,n=e.data);var s=new XMLHttpRequest,e=new Promise(function(e,t){s.onreadystatechange=function(){4===this.readyState&&(199<this.status&&this.status<300?e(this.responseText):t(new Error("Error status ".concat(this.status,": ").concat(this.statusText))))},s.open(o,r,!0),Object.entries(a).forEach(function(e){var t,e=function(e){if(Array.isArray(e))return e}(t=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(t)||function(e){if(e){if("string"==typeof e)return jt(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jt(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=e[0],e=e[1];return s.setRequestHeader(t,e)}),n?s.send(n):s.send()});return i?(0,M.yq)(i,e):e};function Ct(e){return function(e){if(Array.isArray(e))return Rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return Rt(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Rt(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dt(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Ut(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Dt(n,t,r,o,i,"next",e)}function i(e){Dt(n,t,r,o,i,"throw",e)}o(void 0)})}}var Mt={vendorIds:{gdpr:[95]}},Bt=(0,I.U2)("pos.bvp_puff_26.title","SPONSORED"),Nt=(0,I.U2)("pos.bvp_puff_26.editorialVideoURL","//video.dailymail.co.uk/video/mol/test/2017/10/17/8934813711130511437/1024x576_MP4_8934813711130511437.mp4");function Lt(){return qt.apply(this,arguments)}function qt(){return(qt=Ut(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/player/".concat(PageCriteria.pageType,"/").concat(PageCriteria.channel),"article"===PageCriteria.pageType&&(t+="/article-".concat(PageCriteria.articleId)),t+="/player-config.json",e.prev=3,e.next=6,Tt({url:t,timeout:5e3});case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function zt(e){var r,c=e.broker,o=e.checkPluginBouncer;function t(){return(t=Ut(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&"function"==typeof t.data.indexOf){e.next=2;break}return e.abrupt("return");case 2:if(0!==(r=t.data.indexOf("_dm\n"))){e.next=18;break}if(o=t.data.substring(r+"_dm\n".length),o=JSON.parse(o),e.t0=T.SP["bvp-force-editorial"],e.t0)return e.next=11,Lt();e.next=12;break;case 11:e.t0=n=e.sent;case 12:if(!e.t0){e.next=17;break}console.log("Forcing editorial instead of campaign in BVP"),i(o.targeting.pos[0],n,Nt,Pt(),"",""),e.next=18;break;case 17:c.emit("video",o.type,o);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function i(e,t,r,n,o,i){var a=document.getElementById(e),s=e+"_player",i={id:s,width:640,height:264,dataOpts:t,src:r,click:i,description:o,title:Bt},o=document.createElement("div"),i=n(i);o.innerHTML=i,function(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild)}(a),a.appendChild(o.firstElementChild),"none"===a.style.display&&(a.style.display="");s=DM.molFeVideoplayer.init(document.getElementById(s));c.emit("video player inited",e,s)}j.g.addEventListener("message",function(e){return t.apply(this,arguments)},!1),c.on("ad rendered",(r=Ut(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isEmpty&&t.startsWith("bvp_")&&(0,I.U2)("pos.bvp_puff_26.editorialFallback"))return e.next=3,Lt();e.next=5;break;case 3:(n=e.sent)&&i(t,n,Nt,Pt(),"","");case 5:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})),c.on("video","playBrandedVideo",function(e){var t,r,n=e.targeting.pos[0];document.getElementById(n)?(t=e.videoObject,r=[],o("brandedVideoPlayer",Mt)&&(r=[].concat(Ct(r),Ct(e.lotome.filter(function(e){return e.id&&e.id.length}).map(function(e){return{time:e.time,uri:"//bcp.crwdcntrl.net/5/c=991/b=".concat(e.id)}})))),e.impTracker&&e.impTracker.length&&r.push({time:9,uri:e.impTracker}),e="".concat(e.clickPrefix).concat(t.clickThroughUrl),r={title:t.pageTitle,poster:t.stillImageUrl,isMobile:PageCriteria.isMobile,playerId:"default",videoId:t.videoId,preload:"none",referenceId:t.referenceId,linkBaseURL:"",initialVideo:!1,plugins:{"branded-content":{clickThroughUri:e,endStatePoster:t.endStateImageUrl,trackingPixels:r},"ads-setup":{adsEnabled:!1},tracking:{channelShortName:PageCriteria.channel,sponsored:!0,referenceId:t.referenceId,trackingType:"commercialVideoPlayer"}}},i(n,JSON.stringify(r),t.videoUrl,xt(),t.description,e)):c.emit("log","BVP","Element #".concat(n," not found"))})}function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wt(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Gt(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Wt(n,t,r,o,i,"next",e)}function i(e){Wt(n,t,r,o,i,"throw",e)}o(void 0)})}}function Ht(e){var t=e.broker,o=e.log;e.getConfig,j(9988);var i=j.g.googletag=j.g.googletag||{};i.cmd=i.cmd||[];var a=new Promise(function(e){return i.cmd.push(function(){return e()})});t.emit("import script","//www.googletagservices.com/tag/js/gpt.js"),t.on("system ready",Gt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:t.emit("gpt loaded",i);case 3:case"end":return e.stop()}},e)})));function r(e){var t=e.slot;(e=document.getElementById(t.getSlotElementId()))&&e.classList.contains("noAdLabel")||c.delete(t)&&e&&e.appendChild(mt())}var n,s,c=new Set;a.then(function(){return i.pubads().addEventListener("slotRenderEnded",r)}),t.register("googletag.pubads.refresh",(s=Gt(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:t.forEach(function(e){c.add(e),o.enable&&o("refresh",e.molAd.pos,"targeting",e.getTargetingMap())}),i.pubads().refresh(t,r);case 4:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)})).sync=!0,t.register("googletag.display",(n=Gt(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:if(o.enabled)try{r=i.pubads().getSlots().find(function(e){return e.getSlotElementId()===t}),n=r&&r.getTargetingMap()||void 0,o("display",t,"targeting",n)}catch(e){o.warn(e)}return e.abrupt("return",i.display(t));case 4:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})).sync=!0;var u;t.on("set page level targeting",(u=Gt(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return r=e.sent,e.next=5,a;case 5:Object.entries(r||{}).map(function(e){var t=Vt(e,2),e=t[0],t=t[1];return[e,(t=t,(Array.isArray(t)?t:[t]).map(function(e){return String(e)}))]}).forEach(function(e){var t=Vt(e,2),e=t[0],t=t[1];o("page level targeting:",e,"=",t),i.pubads().setTargeting(e,t)});case 6:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)}))}var Kt=j(3436);function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jt(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Xt(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Jt(n,t,r,o,i,"next",e)}function i(e){Jt(n,t,r,o,i,"throw",e)}o(void 0)})}}function Zt(e){return{adSlotId:e.getSlotElementId(),adUnitPath:e.getAdUnitPath(),size:e.getSizes().map(function(e){return e.getWidth&&e.getHeight?[e.getWidth(),e.getHeight()]:[1,1]})}}var Qt=(0,I.U2)("dfp.networkCode"),er=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:j.g.googletag.pubads().getSlots().map(Zt),t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:j.g.__iasPET.timeout;return new Promise(function(r,n){j.g.__iasPET.queue.push({adSlots:e,dataHandler:function(e){return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},r={};try{r=JSON.parse(e)}catch(e){console.warn("[mol-ads][integral]",e)}if(299<r.code||r.code<200)return console.error("[mol-ads][integral]",r.message),void t(r);t(null,r)}(e,function(e,t){return e?n(e):r(t)})},timeout:t})})};function tr(e){return rr.apply(this,arguments)}function rr(){return(rr=Xt(regeneratorRuntime.mark(function e(t){var l,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=t.broker,j.g.__iasPET=j.g.__iasPET||{},j.g.__iasPET.queue=j.g.__iasPET.queue||[],j.g.__iasPET.pubId=(0,I.U2)("plugin.integral.pubId",922472),j.g.__iasPET.timeout=(0,I.U2)("auction.maxTime",2e3),l.invoke("load script","//cdn.adsafeprotected.com/iasPET.1.js","__iasPET",function(){return j.g.__iasPET.VERSION}),l.on("configure and start prebid",function(e){e.includes("gpt")&&ze(Xt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,er();case 2:j.g.__iasPET.setTargetingForGPT();case 3:case"end":return e.stop()}},e)})))}),r=function(){return new Promise((t=Xt(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,er([{adSlotId:"video",adUnitPath:"/".concat(Qt,"/").concat((0,Kt.Z)("video")),size:[[636,358]]}]);case 2:for(c=e.sent,r={fr:c.fr.toString()},n=0,o=Object.entries(c.brandSafety||{});n<o.length;n++)a=$t(o[n],2),i=a[0],a=a[1],r[i]=a;s=0,c=Object.entries(c.slots.video||{});case 6:if(!(s<c.length)){e.next=14;break}if(d=$t(c[s],2),u=d[0],d=d[1],"id"===u)return e.abrupt("continue",11);e.next=10;break;case 10:r[u]=d;case 11:s++,e.next=6;break;case 14:l.emit("set page level targeting",r);case 15:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}));var t},l.register("get video tags",Xt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=n||r(),e.next=3,n;case 3:case"end":return e.stop()}},e)})));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||or(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){if(e){if("string"==typeof e)return ir(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ir(e,t):void 0}}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ar(e){function n(e,t){return parseFloat(e)<parseFloat(t)}function i(e,t){return t&&(!(e=(c[e]||{}).maxbid)||n(e,t))}function o(e,t){var r=c[e],e=nr(t.getTargeting("maxbid"),1)[0];!r||e&&!n(e,r.maxbid)||function(e,t){for(var r in t)e.setTargeting(r,t[r])}(t,r)}var a=e.broker,s=[[.01,.5],[.51,1],[1.01,1.5],[1.51,2],[2.01,2.5],[2.51,3],[3.01,3.5],[3.51,4],[4.01,4.5],[4.51,5],[5.01,6],[6.01,7],[7.01,8],[8.01,9],[9.01,10],[10.01,12],[12.01,14],[14.01,16],[16.01,18],[18.01,20]],c={},u={};a.on({message:"bid",sync:!0},function(e,t){var r,n=t.bidder,o=t.cpm,t=o?o/100:null;i(e,t)&&(o=n,i(n=e,r=t)&&(c[n]={maxbid:r,maxbidpk:s.findIndex(function(e){var t=nr(e,2),e=t[0],t=t[1];return e<=r&&r<=t})+1,maxbid_bidder:o}),e in u&&u[e].push({cust_params:c[e]}))}),a.registerUnboundedStream("get video tags",function(e){var t=e.pos;delete c[t];e=a.createReadObjectStream();return u[t]=e}),a.on({message:"slot created",sync:!0},function(e,t){var r=e.pos;a.on({message:["bid",r],sync:!0},function(){o(r,t)}),o(r,t)}),a.on({message:"googletag.pubads.refresh",sync:!0},function(e){e.forEach(function(e){o(e.molAd.pos,e)})}),a.on("prepare to refresh ads",function(e){var t,r=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=or(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;delete c[n]}}catch(e){r.e(e)}finally{r.f()}})}function sr(e){var t=e.broker,d=(e.getConfig,e.log),l={};t.register("load script",function(a,s,c,u){return new Promise(function(t,r){d("load script:",a,s,c,u);var e=u||function(){return window[s]};if(s&&e())return d("variable already defined:",s),e();var n,o,i=s||a;if(l[i]||(d("adding script tag to load",a),n=document.createElement("script"),o=document.head,n.async=!0,n.src=a,n.addEventListener("error",r),n.addEventListener("load",function(){d("script loaded:",a);var e=l[i];d("calling",e.length,"listeners");function t(e){return e()}l[i]={push:t},e.forEach(t)}),Object.keys(c||{}).forEach(function(e){return n.setAttribute(e,c[e])}),o.appendChild(n),l[i]=[]),s||u)try{(0,M.gb)(function(){return e()}).then(function(e){d("tracking variable found:",s,u,e),t(e)})}catch(e){d("error while loading",a,":",e),r(new Error("Error loading ".concat(a," (trackingVariable: ").concat(s,"): ").concat(e)))}else d("no tracking variable given for",a,"waiting on script load"),l[i].push(t)})}),t.register("import script",function(o){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:window).document;return new Promise(function(e,t){var r=a.createElement("script"),n=a.head;r.async=!0,r.src=o,Object.keys(i||{}).forEach(function(e){return r.setAttribute(e,i[e])}),r.addEventListener("load",e),r.addEventListener("error",t),n.appendChild(r)})}),t.register("import script in iframe",function(e){var i=e.url;return new Promise(function(r,n){var o=document.createElement("iframe");o.display="none",o.onload=function(){var e=o.contentWindow.document,t=e.createElement("script");t.src=i,t.setAttribute("async","1"),t.setAttribute("type","text/javascript"),t.addEventListener("load",r),t.addEventListener("error",n),e.body.appendChild(t)},document.head.appendChild(o)})}),t.register("import stylesheet",function(e){var t=document.createElement("link"),r=document.head;t.href=e,t.setAttribute("rel","stylesheet"),r.appendChild(t)})}tr.vendorIds={gdpr:[278]};function cr(e){return j.g.sessionStorage.getItem(e)}function ur(e,t){j.g.sessionStorage.setItem(e,t),j.g.localStorage.setItem("mol.ads.session.publish",JSON.stringify(sessionStorage)),j.g.localStorage.removeItem("mol.ads.session.publish")}function dr(e){var t=e.key,r=e.newValue;if(r)switch(t){case"mol.ads.session.request":j.g.localStorage.setItem("mol.ads.session.response",JSON.stringify(j.g.sessionStorage)),j.g.localStorage.removeItem("mol.ads.session.response");break;case"mol.ads.session.publish":pr(JSON.parse(r))}}function lr(){return fr||(j.g.addEventListener("storage",dr),fr=new Promise(function(n){j.g.addEventListener("storage",function e(t){var r=t.key,t=t.newValue;"mol.ads.session.response"===r&&(j.g.removeEventListener("storage",e),t=t?JSON.parse(t):{},n(t))}),j.g.localStorage.setItem("mol.ads.session.request","mol.ads.session.request"),j.g.localStorage.removeItem("mol.ads.session.request")}).then(pr)),fr}var fr,pr=function(e){for(var t in e)j.g.sessionStorage.setItem(t,e[t])};function gr(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function mr(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){gr(n,t,r,o,i,"next",e)}function i(e){gr(n,t,r,o,i,"throw",e)}o(void 0)})}}var yr,hr=(yr=mr(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr(),e.next=3,Promise.race([r,(0,M.Vs)(1)]);case 3:return e.next=5,t=void 0,t=parseInt(cr("mol.ads.sessionDepth")||0),isNaN(t)&&(t=0),ur("mol.ads.sessionDepth",++t),t;case 5:return e.t0=e.sent,e.abrupt("return",{session:e.t0});case 7:case"end":return e.stop()}var t},e)})),function(){return yr.apply(this,arguments)});function vr(e){return br.apply(this,arguments)}function br(){return(br=mr(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.broker.emit("set page level targeting",hr());case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var wr=DM.molFeAsync,Sr=DM.molFeClientLogger,gt=function(){var n=(0,I.U2)("skimlinks",{enabled:!1});n.enabled&&(0,wr.later)("DOM_READY").then(function(){var e,t,r=n.filename||(null===(t=document.querySelector(".skimlinks"))?null:t.getAttribute("data-tracking-id"));r&&(e="//s.skimresources.com/js/"+r+".skimlinks.js",t=document.createElement("script"),r=document.querySelector("script"),t.async=!0,t.src=e,r.parentNode.insertBefore(t,r))}).catch(function(e){Sr.logger.error("Error during skimlinks initialisation: ",e)})},_r=gt;function Or(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Ir(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Or(n,t,r,o,i,"next",e)}function i(e){Or(n,t,r,o,i,"throw",e)}o(void 0)})}}gt.vendorIds={gdpr:[46]};function Er(){return!!cr("mol.ads.taboolaSessionStarted")}var Ar,kr=(Ar=Ir(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Promise.race([lr(),(0,M.Vs)(1)]),e.next=3,n;case 3:return r=Er()?{referred_by:"taboola"}:{},(n=function(e){var t=parseInt((0,T.ej)("mol.ads.taboolaReferrals"));isNaN(t)&&(t=0);var r=Er(),n=T.SP.ito;return"taboola-uk"!==n&&"taboola-us"!==n&&"taboola-au"!==n&&!e||r||(ur("mol.ads.taboolaSessionStarted",!0),(0,T.zP)("mol.ads.taboolaReferrals",++t)),t}(t))&&Object.assign(r,{taboola_referrals:n}),e.abrupt("return",r);case 7:case"end":return e.stop()}},e)})),function(e){return Ar.apply(this,arguments)});function xr(e,t){return Pr.apply(this,arguments)}function Pr(){return(Pr=Ir(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.broker.emit("set page level targeting",kr(r));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var jr=j(2236).Buffer;function Tr(e,t,r){return parseInt(e.substr(t,r),2)}function Cr(e){e=Tr(e);return String.fromCharCode(e+65).toLowerCase()}function Rr(e){for(var t=e;t.length%4!=0;)t+="=";for(var r,n,i,a,t=t.replace(/-/g,"+").replace(/_/g,"/"),o=jr.from(t,"base64"),s="",c=0;c<o.length;c+=1){var u=o[c].toString(2);s+=(u=8-(r=u).length,function(e,t){for(var r=1<arguments.length&&void 0!==t?t:"0",n="",o=0;o<e;o+=1)n+=r;return n}(Math.max(0,u))+r)}return i=(n={input:s,fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"language",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16}]}).input,e=n.fields,a=void 0===(n=n.startPosition)?0:n,e.reduce(function(e,t){var r=t.name,n=t.numBits,o=function(e){var t=e.input,r=e.output,n=e.startPosition,o=e.field,i=o.type,a=o.numBits,e=o.decoder,o=o.validator;if("function"==typeof o&&!o(r))return{newPosition:n};if("function"==typeof e)return e(t,r,n);var s,c,u="function"==typeof a?a(r):a;switch(i){case"int":return{fieldValue:Tr(t,n,u)};case"date":return{fieldValue:new Date(100*Tr(t,n,u))};case"bits":return{fieldValue:t.substr(n,u)};case"language":return{fieldValue:(s=n,c=u,Cr((s=t.substr(s,c)).slice(0,c/2))+Cr(s.slice(c/2)))};default:throw new Error("ConsentString - Unknown field type ".concat(i," for decoding"))}}({input:i,output:e,startPosition:a,field:t}),t=o.fieldValue,o=o.newPosition;return void 0!==t&&(e[r]=t),void 0!==o?a=o:"number"==typeof n&&(a+=n),e},{})}function Dr(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Ur(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Dr(n,t,r,o,i,"next",e)}function i(e){Dr(n,t,r,o,i,"throw",e)}o(void 0)})}}var Mr="mol.ads.visits.counter",Br="mol.ads.visits.counterInt",Nr="mol.ads.visits.lastKnownVisitId",Lr=function(c,u){return new Promise((t=Ur(regeneratorRuntime.mark(function e(n){var o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={},e.next=3,new Promise(function(t){j.g.__tcfapi?j.g.__tcfapi("getTCData",2,function(e){e=e.tcString;t(e)}):j.g.__cmp&&j.g.__cmp("getConsentData",null,function(e){e=e.consentData;t(e)})});case 3:return s=e.sent,a=Rr(s).created,o.cmpCreated=a,o.cmpDays=Math.floor((Date.now()-a.getTime())/1e3/60/60/24),u("days since cmp created:",o.cmpDays),e.next=10,(0,M.gb)(function(){return j.g.RTA});case 10:if(j.g.RTA&&j.g.RTA.ids&&j.g.RTA.ids.then&&j.g.RTA.ids.then(function(e){e=e.created;o.rtaCreated=e,o.rtaDays=Math.floor((Date.now()-e)/1e3/60/60/24),u("days since RTA created:",o.rtaDays)}),localStorage.getItem(Mr)&&localStorage.removeItem(Mr),i=parseInt(localStorage.getItem(Br)),isNaN(i))return u("no local storage found, trying to fetch visits count from cookie"),e.next=17,Promise.race([lr(),(0,M.Vs)(200)]);e.next=20;break;case 17:r=t=void 0,t=cr("mol.ads.sessionStarted")||!1,r=parseInt((0,T.ej)("mol.ads.visits")),isNaN(r)&&(r=0),t||(ur("mol.ads.sessionStarted",!0),(0,T.zP)("mol.ads.visits",r)),u("cookie visits:",i=r),localStorage.setItem(Br,""+i);case 20:return e.next=22,j.g.RTA.ids;case 22:s=e.sent,a=s.visitId,(s=localStorage.getItem(Nr))!==a&&(u("visitId changed:",{lastKnownVisitId:s,visitId:a}),localStorage.setItem(Nr,a),i++,localStorage.setItem(Br,""+i)),u("visits:",i),c.emit("set page level targeting",{visits:i}),o.visits=i,n(o);case 30:case"end":return e.stop()}var t,r},e)})),function(e){return t.apply(this,arguments)}));var t};function qr(e){return zr.apply(this,arguments)}function zr(){return(zr=Ur(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.log,o=Lr(r,n),r.register("call for page analytics",function(){return o});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Vr=j(8526),Fr=j(5875);function Wr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Gr(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Wr(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Wr(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $r(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Yr(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){$r(n,t,r,o,i,"next",e)}function i(e){$r(n,t,r,o,i,"throw",e)}o(void 0)})}}var Jr,Xr=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Fr.c.apply(void 0,["[IAB]"].concat(t))};function Zr(e){return Qr.apply(this,arguments)}function Qr(){return(Qr=Yr(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s,c,u,d,l,f,p,g,m,y,h,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.getConfig,j.g.PageCriteria&&"feature"===j.g.PageCriteria.articleType)return Xr("Bailing on feature article"),e.abrupt("return");e.next=4;break;case 4:return o=n("abe.reset.timeout",5e3),i=r.until("dom ready"),a=n("abe.iab.loopDelay",50),s=n("abe.iab.maxLoop",5),c=n("abe.iab.useAnimationFrame",!0),u=n("abe.iab.checkZeroProps",!1),d=n("abe.iab.checkNullProps",!1),l=n("abe.iab.ownEvent",!0),g=n("abe.iab.size","10px !important"),f=n("abe.iab.style","width: ".concat(g,"; height: ").concat(g,"; position: absolute !important; left: -10000px !important; top: -1000px !important;")),p=n("abe.iab.class","pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links adHolder"),g=n("abe.iab.slotClasses",{}),m=new Set,e.prev=17,e.next=20,(0,M.yq)(3e3,new Promise(function(t){return r.once("slots initialized",function(e){return t(new Set(e))})}));case 20:m=e.sent,e.next=26;break;case 23:e.prev=23,e.t0=e.catch(17),Xr("Timeout awaiting for slots initialised, not going to use slots as bait");case 26:return(v=Object.entries(g).filter(function(e){e=Hr(e,1)[0];return m.has(e)})).length&&(Xr("Adding bait for enabled positions:",Object.fromEntries(v)),p+=" "+v.map(function(e){return Hr(e,2)[1]}).join(" ")),Xr({loopDelay:a,maxLoop:s,useAnimationFrame:c}),y=new Promise(function(){var t=Yr(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i;case 2:(0,Vr.j)({callback:function(e,t){return r({adblocker:e,abdReason:t})},log:Xr,loopDelay:a,maxLoop:s,useAnimationFrame:c,checkZeroProps:u,checkNullProps:d,baitStyle:f,baitClass:p});case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),r.register("call for page analytics",function(){return y}),e.next=33,y;case 33:if((h=e.sent).adblocker&&Jr)return Xr("AdBlocker detected, awaiting",o,"ms for reset"),e.prev=36,e.next=39,(0,M.yq)(o,Jr);e.next=47;break;case 39:h.adblocker=!1,h.reset=!0,Xr("Positive AdBlocker detection reset"),e.next=47;break;case 44:e.prev=44,e.t1=e.catch(36),e.t1 instanceof M.W5?Xr("Reset never arrived, broadcasting result"):Xr.error("Unknown error waiting for reset message:",e.t1);case 47:r.emit("ad block detection result",h),l&&(v=Gr({method:"iab"},h),r.emit("send event to bidmax",{type:"abd",payload:v}));case 49:case"end":return e.stop()}},e,null,[[17,23],[36,44]])}))).apply(this,arguments)}Zr.pluginSetup=function(e){var n;(0,e.getConfig)("abe.reset.enabled",!0)&&(Xr("Reset handling enabled"),n=!1,Jr=new Promise(function(r){j.g.addEventListener("message",function e(t){!n&&t.data&&"function"==typeof t.data.indexOf&&0===t.data.indexOf("_dm_abe\n")&&(Xr("Reset message received"),r(),n=!0,"function"==typeof j.g.removeEventListener&&j.g.removeEventListener("message",e,!1))},!1)}))};var en=j(9023);function tn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function rn(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?tn(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):tn(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function on(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function an(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){on(n,t,r,o,i,"next",e)}function i(e){on(n,t,r,o,i,"throw",e)}o(void 0)})}}var sn=function(){return void 0!==j.g.I12C&&1===j.g.I12C.Morph},cn=function(e){var t=(0,rt.getOffset)(e),r=e.getBoundingClientRect();return!(t.left+r.width+100<0||t.top+r.height+100<0)&&function(e){for(;e;){if("none"===window.getComputedStyle(e).display)return!1;e=e.parentElement}return!0}(e)};function un(e){return dn.apply(this,arguments)}function dn(){return(dn=an(regeneratorRuntime.mark(function e(t){var d,r,n,o,l,f,p,g,i,a,m,y,s,h,v,c,u,b,w,S,_,O,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d=t.broker,r=t.getConfig,j.g.adverts.adb=!0,j.g.PageCriteria&&"feature"===j.g.PageCriteria.articleType)return(0,Fr.c)("Bailing on feature article"),e.abrupt("return");e.next=5;break;case 5:return n=r("abe.detection.slotTranslations",{ldr_top:"leader_top"}),o=function(e){return"molads_".concat(n[e]||e,"_off")},l=r("abe.detection.timeout",1e4),f=r("abe.detection.waitForEvent",!1),p=r("abe.detection.sleep",100),I=r("abe.detection.eventToWaitFor","dfp slot requested"),g=r("abe.detection.checkSlotsBeforeDomReady",!1),i=r("abe.detection.skip.slotRequest",!1),a=r("abe.detection.skip.adRendered",!0),O=r("abe.detection.skip.slotResponse",!0),m=r("abe.detection.minHiddenSlots",5),y=new Set(r("abe.detection.slotsMustBeVisible",["billboard"])),s=r("abe.detection.ownEvent",!0),h=!1,i&&d.once("dfp slot requested",function(){(0,Fr.c)("GPT slotRequested event fired, ignoring ad blocker detection"),h=!0}),a&&d.once("ad rendered",function(){(0,Fr.c)("GPT slotRenderEnded event fired"),h=!0}),O&&d.once("slot response received",function(){(0,Fr.c)("GPT slotResponseReceived event fired"),h=!0}),c=new Set,O=j.g.matchMedia&&j.g.matchMedia("(min-width: 965px)")||{matches:!1},u=!!O.matches,b=new Set("fff_overlay".split(" ")),d.on("slot defined",function(e,t){var r;e.pos&&"string"==typeof e.pos&&(b.has(e.pos)?(0,Fr.c)("Ignoring position",e.pos):(r=e.pos.startsWith("sky"),cn(t)||(r&&!u?(0,Fr.c)("Ignoring sky position",e.pos,"because the screen is too small"):v?(0,Fr.c)("Ignoring position",e.pos,"because detection already happened"):((0,Fr.c)("Slot was already hidden when defined:",e.pos,JSON.stringify(t.className),t.getBoundingClientRect(),"display="+window.getComputedStyle(t).display),c.add(e.pos),setTimeout(function(){cn(t)&&(0,Fr.c)("Slot",e.pos,"became visible after 3 seconds")},3e3)))))}),u||(0,Fr.c)("Page width is small, so not consiering some positions for detection"),S=f&&d.until(I),_=function(e){function t(e){return r.has(o(e))}var r=new Set(document.documentElement.classList),n=e.filter(t);return(0,Fr.c)(n.length,"slots enabled in CM but disabled intentinally:",n),e.filter(function(e){return!t(e)}).filter(function(e){return c.has(e)})},O=new Promise(function(){var t=an(regeneratorRuntime.mark(function e(r){var n,o,i,a,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n={il:sn(),adblocker:sn()}).adblocker)return e.abrupt("return",r(n));e.next=3;break;case 3:return o=[d.until("dom ready")],i={},d.on("slot defined",function(e,t){i[e.pos]=t}),g&&((0,Fr.c)("Checking adblocker before dom is ready"),o.push(new Promise(function(){var t=an(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0,n=j.g.PageCriteria.isMobile?3:10,d.on("enabled ads updated",function(e){e=e.enabledAds;n=Math.round(e.length/2)}),o=d.on("slot defined",function(){++r===n&&((0,Fr.c)(n,"ad slots were defined, resuming detection"),o.cancel(),t())});case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()))),a=new Promise(function(t){return d.once("slots initialized",function(e){return t(e)})}),e.next=10,Promise.race(o);case 10:if(0<p)return e.next=13,(0,M.Vs)(p);e.next=13;break;case 13:return e.next=15,a;case 15:if(w=e.sent,h?((0,Fr.c)("Skipping ad detection because a DFP event already happened"),d.register("call for page analytics",function(){return{skipAbd:!0}})):!j.g.disableAds&&0<w.length&&((0,Fr.c)(w.length,"slots enabled, checking if they are all visible"),(0,Fr.c)("Slots must be visible:",function(e){if(Array.isArray(e))return nn(e)}(t=y)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e){if(e){if("string"==typeof e)return nn(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nn(e,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=_(w),(0,Fr.c)("Slots hidden:",c),s=c.length>=m||!!c.find(function(e){return y.has(e)}),0<c.length&&d.register("call for page analytics",function(){return{hiddenSlots:{count:c.length,slots:c}}}),(0,Fr.c)(s?"".concat(c.length," are hidden: ").concat(c):"all slots are visible")),u=!f,!s&&f)return e.prev=19,e.next=22,(0,M.yq)(l,S);e.next=27;break;case 22:u=!0,e.next=27;break;case 25:e.prev=25,e.t0=e.catch(19);case 27:v=!0,n=rn(rn({},n),{},{adblocker:n.adblocker||void 0!==s&&s||!u,slots:!s,adsDisabled:!!j.g.disableAds,ima:!!j.g.ima,skipAbd:h}),r(n);case 30:case"end":return e.stop()}var t},e,null,[[19,25]])}));return function(e){return t.apply(this,arguments)}}()),e.next=33,d.until("plugins enabled");case 33:return e.next=35,O;case 35:I=e.sent.adblocker,O.then(function(e){d.emit("old ad block detection result",e),s&&(e=rn({method:"mol"},e),d.emit("send event to bidmax",{type:"abd",payload:e}))}),(0,Fr.c)(I?"Ad blocker detected":"No ad blocker detected");case 38:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ln(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function fn(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ln(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ln(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gn(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function mn(e){var l=e.broker,f=!1;l.once("gpt loaded",function(){return f=!0});var p=!1;function t(u){var s,t,d=l.until(u);l.once("ad block detection result",(s=regeneratorRuntime.mark(function e(n){var o,i,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.adblocker,o=n.reset,c||o){e.next=3;break}return e.abrupt("return");case 3:return i={eventName:u,gptLoaded:f,adsDisabled:!!j.g.disableAds,imaLoaded:!!j.g.ima,permutiveReady:p,reset:o},a=Date.now(),e.next=7,d;case 7:s=e.sent,r=2,c=function(e){if(Array.isArray(e))return e}(t=s)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return pn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pn(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=c[0],c=c[1],i=fn(fn({},i),{},{elapsed:Date.now()-a,pos:s}),(c=c.slot&&"function"==typeof c.slot.getResponseInformation&&c.slot.getResponseInformation())&&(i=fn(fn({},i),{},{creativeId:c.creativeId||c.sourceAgnosticCreativeId,lineItemId:c.lineItemId||c.sourceAgnosticLineItemId,advertiserId:c.advertiser,campaignId:c.campaignId,companyId:c.companyIds})),l.emit("send event to bidmax",{type:"abd-error",payload:i});case 15:case"end":return e.stop()}var t,r},e)}),t=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){gn(n,t,r,o,i,"next",e)}function i(e){gn(n,t,r,o,i,"throw",e)}o(void 0)})},function(e){return t.apply(this,arguments)}))}l.once("system ready",function(){return j.g.permutive&&j.g.permutive.ready(function(){return p=!0})}),t("ad rendered"),t("ad viewable")}function yn(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function hn(e){var s,t,r=e.broker;r.on("abe rendered",function(){return r.emit("send to rta","abe","rendered")}),r.on("ex ad blocker user",function(e,t){t&&r.emit("send to rta","exabd",e?"was":"yes")}),r.on("ad block detection result",(s=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.emit("send to rta","abd",t.adblocker?"yes":"no");case 1:case"end":return e.stop()}},e)}),t=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){yn(n,t,r,o,i,"next",e)}function i(e){yn(n,t,r,o,i,"throw",e)}o(void 0)})},function(e){return t.apply(this,arguments)}))}function vn(){var e=document.cookie.indexOf("x-loc=");if(-1!==e){var t=document.cookie.indexOf(";",e);if(-1!==t){t=document.cookie.substring(e+"x-loc=".length,t);return 0<t.length&&"none"!==t.toLowerCase()?t:void 0}}}un.pluginSetup=function(e){(0,e.addPlugins)(["abe.iab.abd","abe.serverBypass"])};var bn=j(1171);function wn(e){var c,u=e.broker,t=e.getConfig,r={office:vn()};u.register("call for page analytics",function(){return r}),t("abe.detection.fireListeners",!1)&&(c=t("abe.render.sendToBidMax",!0),(0,Fr.c)("Server bypass enabled"),u.until("dom ready").then(function(){j.g.adBlockQueue=[],j.g.adBlockQueue.push=function(){}}),u.once("ad block detection result",function(e){e.adblocker&&(void 0===(e=JSON.parse(localStorage.getItem("mol.abe.data")||"{}")).v&&(e.i=(new Date).toISOString(),e.v=2,e.u=bn(),e.n=!0),e.v++,e.l=(new Date).toISOString(),localStorage.setItem("mol.abe.data",JSON.stringify(e)),(0,Fr.c)("Server bypass showing banner"),(t("abe.allowAbeOutsideOffice",!1)||vn())&&j.g.DM.later("bundle",function(){j.g.DM.molFeAdblockerDialog.init();var s=0;!function e(){for(var t=window.top.document.body.children,r=t.length-1;0<=r;r--){var n=t[r];if("DIV"===n.tagName)for(var o=n.getElementsByTagName("DIV"),i=0;i<o.length;i++){var a=o[i];if(a.textContent&&a.textContent.indexOf&&-1!==a.textContent.indexOf("using an ad blocker"))return void(window.getComputedStyle&&"none"===window.getComputedStyle(a).display||c&&u.emit("send event to bidmax",{type:"abe"}))}}s++<10&&setTimeout(e,1e3)}()}))}))}function Sn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _n(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Sn(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Sn(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}q("analytics.bidsHunting",{run:function(e){var r=e.broker,t=e.getConfig,n=e.log,o=new Set(t("analytics.bidsHunting.positions",[])),i=new Set(t("analytics.bidsHunting.bidders",[]));r.on("bid",function(e,t){!t.cpm||0<o.size&&!o.has(e)||0<i.size&&!i.has(t.bidder)||(n(" adding bid to stack",e,t),r.emit("send event to bidmax",{type:"custom",payload:_n(_n({},t),{},{event:"bid-hunt",pos:e})}))})}}),q("analytics.partners",{run:function(e){var n=e.broker,o=e.log;n.once("permutive ready",function(){return c({event:"permutive-load"})}),n.once("new minute media player",function(){return c({event:"mm-load"})}),n.once("admantx loaded",function(){return c({event:"admantx-load"})}),document.addEventListener("spot-im-api-ready",function(){return c({event:"openweb-load"})}),document.addEventListener("spot-im-conversation-loaded",function(){return c({event:"openweb-conv-loaded"})}),document.addEventListener("spot-im-conversation-viewed",function(){return c({event:"openweb-conv-viewed"})}),document.addEventListener("spot-im-current-user-sent-message",function(){return s("powms")}),On.forEach(function(e){return document.addEventListener(e,function(){return s("powui")})}),n.once("taboola render",function(){return c({event:"taboola-first-render"})}),n.on("taboola render",function(){return s("pti")}),n.on("taboola visible",function(){return s("ptv")}),n.on("taboola nocontent",function(){return s("ptnc")}),n.on("taboola failed to load",function(){return s("ptftl")}),n.on("taboola click",function(){return s("ptc")});var i=0;n.on("new perform player",function(e,t){0===i&&c({event:"dazn-load"});var r="peformPlayer-".concat(i++);n.emit("track viewability",r,t),n.once("ad viewable",r,function(){return s("pdv")})});var a={};function s(e,t){var r=1<arguments.length&&void 0!==t?t:1;if(!In[e])throw new Error("Metric '".concat(e,"' not registered in 'knownMetric'. Please do so."));o("inc counter:",e);t=a[e]||0;a[e]=t+r}function c(e){o("sending event:",e),n.emit("send event to bidmax",{type:"custom",payload:e})}n.register("call for page-unload",function(){return a})}});var On=["spot-im-clicked-delete-message","spot-im-clicked-edit-message","spot-im-clicked-flag","spot-im-clicked-message-context-menu","spot-im-clicked-mute-user","spot-im-share-drop-down","spot-im-share-type","spot-im-hover-like-details","spot-im-show-more-comments-clicked","spot-im-show-more-replies-clicked","spot-im-user-down-vote-click","spot-im-user-up-vote-click","spot-im-login-start","spot-im-post-login","spot-im-notification-drop-down-link","spot-im-user-notifications-click","spot-im-clicked-cog-menu","spot-im-clicked-privacy","spot-im-clicked-settings","spot-im-profile-drop-down","spot-im-sort-by-drop-down","spot-im-sort-by-select","spot-im-clicked-article-link-profile","spot-im-open-user-profile"],In={pti:"taboola impression",ptv:"taboola view",ptnc:"taboola no content",ptftl:"taboola failed to load",ptc:"taboola click",powui:"openWeb user interaction",powms:"openWeb message sent",pdv:"dazn view"};function En(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function An(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?En(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):En(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function kn(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function xn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Pn(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?xn(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):xn(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}q("analytics.pageUnload",{run:function(e){var r=e.broker,n=e.log,t=(e.setConfig,{capture:!0,passive:!0}),o=j.g.performance&&j.g.performance.timing&&j.g.performance.timing.navigationStart||j.g.adverts.startTime;n("Starting at:",j.g.adverts.startTime-o);var s,i,a=!1,e=(s=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a)return e.abrupt("return");e.next=2;break;case 2:return a=!0,n("force sync dispatcher"),r.bus.setDispatcher(function(e){return e()}),r.bus.globalTimeoutOverride=0,n("about to call for page-unload"),e.next=9,r.invokeAll("call for page-unload");case 9:t=e.sent,t=t.reduce(function(e,t){return An(An({},e),t)},{t:Date.now()-o,autorefresh:!!(0,T.ej)("autorefresh")}),n("got:",t),r.emit("send event to bidmax",{type:"page-unload",payload:t});case 13:case"end":return e.stop()}},e)}),i=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){kn(n,t,r,o,i,"next",e)}function i(e){kn(n,t,r,o,i,"throw",e)}o(void 0)})},function(){return i.apply(this,arguments)});window.addEventListener("pagehide",e,t),window.addEventListener("beforeunload",e,t),window.addEventListener("unload",e,t)}}),q("analytics.cwv",{run:function(e){var i=e.broker,a=e.log;function s(){var e=j.g.DM.molFeWebVitals.getStandard();return t({cls:1e3*(e.CLS||0),fcp:e.FCP,fid:e.FID,lcp:e.LCP,ttfb:e.TTFB})}function t(e){return Object.fromEntries(Object.entries(e).filter(function(e){return null!=jn(e,2)[1]}).map(function(e){var t=jn(e,2),e=t[0],t=t[1];return[e,Math.round(t)]}))}j.g.DM&&j.g.DM.molFeWebVitals?(i.register("call for page analytics",function(){return{cwv:s()}}),j.g.DM.molFeWebVitals.getUpdated&&i.register("call for page-unload",function(){return{cwv:t({cls:1e3*((e=j.g.DM.molFeWebVitals.getUpdated()).CLS||0),fcp:e.FCP,fid:e.FID,lcp:e.LCP,ttfb:e.TTFB})};var e}),j.g.DM.later("mol-fe-web-vitals-standard",function(){var e,t,r,n,o,e=(e=s(),t=e.cls,r=e.fcp,n=e.fid,o=e.lcp,e=e.ttfb,Pn(Pn(Pn(Pn(Pn({},(0,At._b)("clsP1k",t)),(0,At._b)("fcpP10s",r)),(0,At._b)("fidP1s",n)),(0,At._b)("lcpP10s",o)),(0,At._b)("ttfbP10s",e)));a("mol-fe-web-vitals-standard fired, cwv:",e),i.emit("send event to bidmax",{type:"custom",payload:Pn({event:"cwv"},e)})})):a.warn("cwv metrics cannot be used because window.DM.molFeWebVitals is unavailable")}}),q("analytics.takeover",{run:function(e){var r=e.broker,n=e.log,o=!1;j.g.addEventListener("message",function e(t){!o&&t.data&&"function"==typeof t.data.indexOf&&0===t.data.indexOf("_dm_ads_takeover")&&(n("Marking page as containing takeover"),r.register("call for page analytics",function(){return{takeover:!0}}),o=!0,"function"==typeof j.g.removeEventListener&&j.g.removeEventListener("message",e,!1))},!1)}});var Cn=j(4812);function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dn(e){e.broker.register("call for page analytics",function(){return{abtest:j.g.molABTest}})}q("analytics.scrollDepth",{run:function(e){var e=e.broker,t=0;function r(){t=Math.max(t,Math.round(window.pageYOffset+window.innerHeight))}document.addEventListener("scroll",(0,Cn.FU)(r,300),{passive:!0,capture:!1}),e.register("call for page-unload",function(){return r(),{sd:t}})}}),q("analytics.timeSpent",{run:function(e){var t=e.broker,r=e.log,e=e.getConfig,n={capture:!0,passive:!0},o=e("bidmax.inactiveTime",1e4),e=j.g.performance&&j.g.performance.timing&&j.g.performance.timing.navigationStart||j.g.adverts.startTime;r("Starting at:",j.g.adverts.startTime-e);function i(){var e=Date.now(),t=e-l-o;0<t&&(r("Adding inactive time:",t),c+=t,l=e)}function a(){var e=Date.now(),t=e-d;u+=t,r("Adding hidden time:",t),d=e}var s=0,c=0,u=0,d=e,l=e;t.on("ad rendered",function(){return s++});for(var e=[[document,["mousemove","keypress","scroll","mousewheel","touchmove"]],[window,["focus","scroll"]]],f=(0,Cn.FU)(function(e){var t=Date.now();e&&i(),l=t},1e3),p=0,g=e;p<g.length;p++)!function(){var e,e=function(e){if(Array.isArray(e))return e}(e=g[p])||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(e)||function(e){if(e){if("string"==typeof e)return Rn(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Rn(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=e[0];e[1].forEach(function(e){return t.addEventListener(e,f,n)})}();t.register("call for page-unload",function(){return i(),y()&&a(),{imp:s,i:c,h:u}});function m(){return void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychanged":""}var y=function(){try{return j.g.top.document.hidden||j.g.top.document.msHidden||j.g.top.document.webkitHidden||!1}catch(e){return!!m()}},h=y();document.addEventListener(m(),function(e){y()!==h&&((h=y())?d=Date.now():a())},!1)}});var Un,Mn,Bn,Nn,Ln="4.1.50";function qn(e){e=zn(new URL(e).search.substring(1));return e?{specific:zn(e.prev_scp),cust_params:zn(e.cust_params)}:{}}function zn(e){return e&&Object.fromEntries(e.split("&").map(function(e){return e.split("=").map(decodeURIComponent)}))||void 0}function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fn(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Wn(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Fn(n,t,r,o,i,"next",e)}function i(e){Fn(n,t,r,o,i,"throw",e)}o(void 0)})}}function Gn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Hn(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Gn(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Gn(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||$n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){if(e){if("string"==typeof e)return Yn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yn(e,t):void 0}}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jn=["advertiserId","campaignId","creativeId","isEmpty","lineItemId","serviceName"],Xn=["creativeId","lineItemId","advertiserId","contentType","mediaUrl","videoHeight","videoWidth","isEmpty","timeAtRender","adDurationSecs","adSystem","advertiserId","adTitle","targeting","play","autoplay","winner","winningCPM","skippable","isEmpty","timeSinceStartOfPlayer","platform","offset"],Zn=function(){return Date.now()-j.g.adverts.startTime},Qn=function(e){if(e.slot&&e.slot.molAd&&void 0!==e.slot.molAd.state)return e.slot.molAd.state};var eo,to=(eo=Wn(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Un.invokeAll({message:["call for page analytics"],timeout:Bn("bidmax.pageTimeout",3e3)});case 2:return t=e.sent,t=t.reduce(function(e,t){return Hn(Hn({},e),t)},{}),e.abrupt("return",Hn(Hn({},Mn),t));case 5:case"end":return e.stop()}},e)})),function(){return eo.apply(this,arguments)});function ro(e){var n,o,t=e.broker,r=e.getConfig,e=e.log;function i(){return(i=Wn(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Hn,e.t1={},e.next=4,to();case 4:if(e.t2=e.sent,t=(0,e.t0)(e.t1,e.t2),n.length){e.next=8;break}return e.abrupt("return");case 8:Nn.enabled&&(r=n.find(function(e){return"page-unload"===e.type})?JSON.stringify(n):n,Nn("dispatching",n.length,"events:",r)),t=1===n.length?Hn(Hn({},t),n[0]):Hn(Hn({},t),{},{type:"events",payload:n}),Un.emit("send to bidmax",t),n=[];case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}Nn=e,Un=t,Bn=r,Mn={timestamp:j.g.adverts.startTime,referrer:document.referrer,url:window.location.href},j.g.performance&&j.g.performance.timing&&j.g.performance.timing.navigationStart&&(Mn.adsStart=j.g.adverts.startTime-j.g.performance.timing.navigationStart),Un.register("get page level analytics",function(){return to()}),Un.on("set global key value",function(e,t){(Mn.targeting||(Mn.targeting={}))[e]=t}),r=Bn("bidmax.debounceTime",1e3),n=[],o=(0,Cn.Ds)(function(){return i.apply(this,arguments)},r),Un.on("send event to bidmax",Wn(regeneratorRuntime.mark(function e(){var t,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=0<r.length&&void 0!==r[0]?r[0]:{},n.push(Hn(Hn({},t),{},{timeAtSend:Zn()})),t.type&&"page-unload"!==t.type?o():o.callNow();case 3:case"end":return e.stop()}},e)}))),Un.on("send to bidmax",function(e){try{var t=Hn(Hn({},e),{},{event_type:"bidmax",type_version:2,timeAtSend:Zn(),version:T.SP.bidmax||Ln});Un.emit("dispatch to bidmax",{headers:{"Content-type":"text/plain"},body:t})}catch(e){console.warn(e)}}),Un.on("plugins enabled",Wn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Un.emit("send event to bidmax",{type:"page"}));case 1:case"end":return e.stop()}},e)}))),function(){function n(e,t){return(!d||d.lastPosTime<Zn()-2e3)&&(d=g(e)),m(t,d),d.slots[t].auctionStart=Zn(),d}var d,t,l={},f={},r=0,p=(t=Wn(regeneratorRuntime.mark(function e(r){var n,o,i,a,s,c,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.auction,o=r.pos,i=r.adImpressionData,a=r.offset,s=!(1<u.length&&void 0!==u[1])||u[1]){e.next=9;break}return delete l[o][a],delete f[o][a],delete n.pendingImpressions,delete n.lastPosTime,d=void 0,e.abrupt("return");case 9:if((c=n.slots[o]).impression=i,void 0!==a?(n.pendingImpressions.delete(o+a),c.bids=f[o][a]?function(e){if(Array.isArray(e))return Yn(e)}(t=f[o][a])||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||$n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[],delete l[o][a],delete f[o][a]):(n.pendingImpressions.delete(o),c.bids=f[o],delete l[o],delete f[o]),0<n.pendingImpressions.size)return e.abrupt("return");e.next=14;break;case 14:if(delete n.pendingImpressions,delete n.lastPosTime,d=void 0,s)return e.t0=Hn,e.t1=Hn,e.t2={},e.next=23,to();e.next=29;break;case 23:e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6={auction:n},c=(0,e.t0)(e.t4,e.t5,e.t6),Un.emit("send to bidmax",c);case 29:case"end":return e.stop()}var t},e)})),function(e){return t.apply(this,arguments)}),g=function(e){return{auctionTime:e,startTime:Zn(),auctionId:r++,slots:{},pendingImpressions:new Set}},m=function(e,t,r){t.lastPosTime=Zn(),t.pendingImpressions.add(e+(void 0!==r?r:"")),t.slots[e]={},void 0!==r?(t.offset=r,l[e]||(l[e]={}),l[e][r]=t):l[e]=t};Un.on("get tags",function(e){var t=e.slot.pos,e=e.timeout;l[t]?Nn("Auction is pending for ".concat(t)):n(e,t)}),Un.on("bidding ended",function(t){Nn("bidding ended",t);var r=l[t];r.slots?r.slots[t].biddingEnded=Zn():Object.keys(r).forEach(function(e){r[e].slots[t].biddingEnded=Zn()})}),Un.on("get video tags",function(e){e.platform;var t=e.offset,r=void 0===t?0:t,t=e.slot.pos,e=e.timeout;l[t]&&l[t][r]&&(l[t][r].pendingImpressions.delete(t+r),delete l[t][r],delete f[t][r]),m(t,g(e),r),f[t]||(f[t]={}),f[t][r]=[]}),Un.on("bid",function(e,t){var r,n=t.platform,o=t.offset,i=t.bidder,a=t.cpm,s=t.cached;Nn("on bid",e),n="jwplayer"===e&&"dmplayer"===n?"chromeless":n,(r=void 0!==o?(f[e]||(f[e]={}),f[e][o]=f[e][o]||[]):f[e]=f[e]||[])?r.find(function(e){return e.bidder===i&&e.cpm===a&&e.offset===o&&e.platform===n})||(void 0===o||l[e][o]||m(e,g(5e3),o),t={bidder:i,cpm:Math.round(a),time:Zn(),platform:n,offset:o,cached:s},r.push(t)):Nn.warn("Got a bid after auction finished:",{pos:e,bidder:i,cpm:a,platform:n,offset:o,cached:s})}),Un.on("ad requested",function(e){var t=l[e];t&&(t.slots[e].adRequestTime=Zn())}),Un.on("ad loaded",function(e){var t=l[e];t&&(t.slots[e].adLoadedTime=Zn())}),Un.on("headerbidder winner",function(e,t){var r=l[e];r&&(r.slots[e].winner=t)});function e(e,t){var r,n=t.playerId||(t.targeting&&t.targeting.pos?t.targeting.pos[0]:"video"),o=t.platform||t.adImpression.platform,o="jwplayer"===n&&"dmplayer"===o?"chromeless":o,i="preroll"===t.offset?0:"midroll"===t.offset?20:t.offset,a=qn(t.tag),a=Object.fromEntries(Object.entries(a.cust_params).filter(function(e){var t=Kn(e,2),e=t[0],t=t[1];return!e.startsWith("gdpr")&&!e.startsWith("hb_")&&t.length<=20})),s=t.adImpression,c={};s&&!(0,he.xb)(s)&&(f[n]=f[n]||{},f[n][i]=f[n][i]||[],Un.emit("video ad viewable",{pos:n,bids:f[n][i],videoId:t.videoId}),"object"!==Vn(void 0)||(0,he.xb)(void 0)||f[n][i].forEach(function(e){e.bidder&&s&&"function"==typeof y[e.bidder]&&(e.inAdRequest=y[e.bidder](void 0),e.inAdRequest&&(c[e.bidder]=e.cpm))}),s&&s.adWrapperSystems&&s.adWrapperSystems.length&&(r=Object.fromEntries(s.adWrapperSystems.map(function(e,t){return[e,s.adWrapperIds[t]]})).GDFP),d="undetermined",!s.adWrapperIds||!s.adWrapperIds[0]||s&&s.adWrapperSystems&&"DCM"===s.adWrapperSystems[0]?d="Other":s.traffickingParameters&&s.traffickingParameters.vu?d="tia":s.traffickingParameters&&s.traffickingParameters.channel_id&&(d="spotx"),d=c[u=d]||0,u={adDurationSecs:s&&s.adPodInfo&&s.adPodInfo.maxDuration,adSystem:s&&s.adWrapperSystems&&s.adWrapperSystems[0],adTitle:s.title,advertiserId:s.adSystem,autoplay:t.autoplay,contentType:s.contentType,creativeId:s&&s.adWrapperCreativeIds&&s.adWrapperCreativeIds[0],isEmpty:!1,lineItemId:r,mediaUrl:s.mediaUrl,play:t.play,skippable:s.skippable,targeting:Hn(Hn({},a),s.targeting||{pos:[n]}),timeSinceStartOfPlayer:t.timeSinceStartOfPlayer,videoHeight:s.vastMediaHeight,videoWidth:s.vastMediaWidth,winner:u,winningCPM:d},o&&(u.platform=o),void 0!==i&&(u.offset=i)),void 0===i||l[n]&&l[n][i]||m(n,g(5e3),i);var u,d=Hn({},l[n][i]);delete l[n][i],d?(d.platform=o,d.offset=i,u&&!(0,he.xb)(u)?((u=(0,he.ei)(u,Xn)).timeAtRender=Zn(),p({auction:d,pos:n,adImpressionData:u,offset:i})):p({auction:d,pos:n,offset:i},!1)):Nn("Current auction not found for ".concat(n).concat(i))}var o=j.g.DM&&j.g.DM.molFeTracking&&j.g.DM.molFeTracking.pageEvents,y={tia:function(e){return!!e.amznbid},appnexus:function(e){return"appnexus"===e.hb_bidder},rubicon:function(e){return"rubicon"===e.hb_bidder},spotx:function(e){return!!e.spotx_bid}};o&&Un.on("dom ready",function(){o.subscribe("video.ad-impression",e),o.subscribe("video.no-ad-shown",e)}),Un.on("ad rendered",function(e,t){var r;e.endsWith("-oop")||(r=t,t=Hn(Hn(Hn({},(0,he.ei)(r,Jn)),r.isEmpty?{}:{creativeId:r.creativeId||r.sourceAgnosticCreativeId,lineItemId:r.lineItemId||r.sourceAgnosticLineItemId,advertiserId:r.advertiser,campaignId:r.campaignId,companyId:r.companyIds}),{},{targeting:r.slot?Hn({},r.slot.getTargetingMap()):{},timeAtRender:Zn(),slotState:Qn(r),size:function(e){if(Array.isArray(e.size)&&2===e.size.length){var t=Kn(e.size,2),e=t[0],t=t[1];return"".concat(e,"x").concat(t)}}(r)}),r=l[e]||n(0,e),Nn("ad rendered, processImpression",e,r),p({auction:r,pos:e,adImpressionData:t}))})}()}function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function io(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?oo(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):oo(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function ao(e){var t=e.broker,r=e.getConfig,e=e.log,i=navigator.sendBeacon&&r("bidmax.dispatcher.useBeacon",!0),a=r("bidmax.dispatcher.useCurrentUrl",!1)?window.location.href:r("bidmax.dispatcher.url","//crta.dailymail.co.uk"),r=(0,T.oK)()[0];r<13&&0<r&&(e("force disabling beacon for iOS < 13"),i=!1),t.on("dispatch to bidmax",function(e){var t=e.body,r=e.headers;if(t){if(i)try{var t=io(io({},t),{},{reqType:"beacon"}),n=new Blob([JSON.stringify(t)],io(io({},r),{},{type:"text/plain"}));if(navigator.sendBeacon(a,n))return}catch(e){console.error(e)}try{t=io(io({},t),{},{reqType:"xhr"});var o=new XMLHttpRequest;o.open("POST",a,!0),Object.entries(r).forEach(function(e){var t,e=function(e){if(Array.isArray(e))return e}(t=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(t)||function(e){if(e){if("string"==typeof e)return no(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?no(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=e[0],e=e[1];return o.setRequestHeader(t,e)}),o.send(JSON.stringify(t))}catch(e){console.error(e)}}else console.warn("Ignoring BidMax message with no body")})}function so(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function co(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function uo(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?co(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):co(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function lo(e){var i,a,t=e.broker,r=e.getConfig,e=r("bidmax.migrationChance",0);Math.random()>=e||(i=navigator.sendBeacon&&r("bidmax.dispatcher.useBeacon",!0),(a=r("bidmax.dispatcher.useCurrentUrl",!1)?window.location.href:r("bidmax.dispatcher.url","//crta.dailymail.co.uk")).endsWith("/")||(a+="/"),a+="migration",t.on("dispatch to bidmax",function(e){var t=e.body,r=e.headers;if(t){if(i)try{var t=uo(uo({},t),{},{reqType:"beacon"}),n=new Blob([JSON.stringify(t)],uo(uo({},r),{},{type:"text/plain"}));if(navigator.sendBeacon(a,n))return}catch(e){console.error(e)}try{t=uo(uo({},t),{},{reqType:"xhr"});var o=new XMLHttpRequest;o.open("POST",a,!0),Object.entries(r).forEach(function(e){var t,e=function(e){if(Array.isArray(e))return e}(t=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(t)||function(e){if(e){if("string"==typeof e)return so(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?so(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=e[0],e=e[1];return o.setRequestHeader(t,e)}),o.send(JSON.stringify(t))}catch(e){console.error(e)}}else console.warn("Ignoring BidMax message with no body")}))}function fo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function po(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fo(Object(r),!0).forEach(function(e){go(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function go(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ho=function(e){e=mo(e,2);return e[0],e[1]>Date.now()-2628e6},vo=function(e,t){var r=mo(t,2),t=r[0],r=r[1];return po(po({},e),{},go({},t,r))};function bo(e){var t=e.broker,r="mol.ads.knownBundles",e=JSON.parse(localStorage.getItem(r)||"{}"),e=Object.entries(e).filter(ho).reduce(vo,{}),n=!!e["4.1.50"];e["4.1.50"]=Date.now(),localStorage.setItem(r,JSON.stringify(e)),t.register("call for page analytics",function(){return{abcache:n}})}function wo(e){var t=e.broker,r=e.getConfig,n=e.log,o="ccpa"===r("cmp.model"),e=r("ccpa.scriptBase"),i={cmpVersion:e&&e.split("/").pop()||void 0};j.g[r("cmp.apiHandler")]("getUSPData",null,function(e,t){t&&(n("encoded data:",e),e=e.uspString,i.uspString=e)}),t.register("call for page analytics",function(){return i.consent=localStorage.getItem("mol.ads.cmp.consent"),i.cmp=o?"ccpa":void 0,n("sending",i),i})}function So(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function _o(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){So(n,t,r,o,i,"next",e)}function i(e){So(n,t,r,o,i,"throw",e)}o(void 0)})}}var Oo="__bidmax\n",Io=(0,O.x)("custom-tracking");function Eo(e){return Ao.apply(this,arguments)}function Ao(){return(Ao=_o(regeneratorRuntime.mark(function e(t){var i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=t.broker,r=t.getConfig,a=r("bidmax.customTracking.max",1024),Io("MAX:",a),window.addEventListener("message",function(){var t=_o(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof(r=t.data)&&r.startsWith(Oo)){e.next=3;break}return e.abrupt("return");case 3:n=r.substring(Oo.length),Io("message received size:",n.length),n.length>a&&Io("message too long, max",a);try{o=JSON.parse(n),Io("message:",o),i.emit("send event to bidmax",{type:"custom",payload:o})}catch(e){Io("Error parsing:",n),console.error(e)}case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ko(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function xo(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){ko(n,t,r,o,i,"next",e)}function i(e){ko(n,t,r,o,i,"throw",e)}o(void 0)})}}function Po(){return{id:(0,At.kb)(),lastVisit:Date.now()}}var jo,To,Co="mol.ads.entryPoint.sessionId",Ro="mol.ads.entryPoint.data",Do=(0,O.x)("entry-point"),Uo=(To=xo(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j.g.RTA&&j.g.RTA.ids&&j.g.RTA.ids.then)return e.next=3,j.g.RTA.ids;e.next=9;break;case 3:if(t=e.sent,"string"==typeof(t=t.visit))return t=t.split("."),Do("Using RTA visit id"),e.abrupt("return",t[0]);e.next=9;break;case 9:case"end":return e.stop()}},e)})),function(){return To.apply(this,arguments)}),Mo=(jo=xo(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Do("Using own session"),(r=JSON.parse(localStorage.getItem(Co)||"{}")).id?r.lastVisit<Date.now()-60*t*1e3&&(Do("Session found in storage but it is too old:",new Date(r.lastVisit).toISOString(),"and max session is",t,"mins"),r=Po()):(Do("No session found in storage, creating a new one"),r=Po()),r.lastVisit=Date.now(),localStorage.setItem(Co,JSON.stringify(r)),e.abrupt("return",r.id);case 6:case"end":return e.stop()}},e)})),function(e){return jo.apply(this,arguments)});function Bo(e){return No.apply(this,arguments)}function No(){return(No=xo(regeneratorRuntime.mark(function e(t){var r,n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,o=n("bidmax.entryPoint.sessionDurationInMins",28),i=function(){var e=xo(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uo();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=Mo(o);case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),a=function(){var e=xo(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem(Ro)||"{}"),e.next=3,i();case 3:return r=e.sent,Do("Id",r),t.sessionId!==r&&(Do("Entry Point new or too old. Creating another."),n=j.g.PageCriteria,t={sessionId:r,ep:{pt:n.pageType,c:n.channel,s:n.subchannel,r:document.referrer}},localStorage.setItem(Ro,JSON.stringify(t))),Do("Entry Point:",t.ep),e.abrupt("return",{ep:t.ep});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),r.register("call for page analytics",function(){return a});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Lo(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function qo(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Lo(n,t,r,o,i,"next",e)}function i(e){Lo(n,t,r,o,i,"throw",e)}o(void 0)})}}function zo(e){var r=e.broker;return new Promise(function(t){r.once("gpt initialized",function(e){t({gpt:e.getVersion()})})})}function Vo(e){var r=e.broker;return new Promise(function(t){r.once("prebid loaded",function(e){t({prebid:e.version})})})}var Fo,Wo,Go,Ho=(Go=qo(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,M.gb)(function(){return j.g.pagemeta}),e.next=3,t;case 3:return t=e.sent,e.abrupt("return",{bundle:t.bundleVersion,sync:t.syncBundleVersion,async:t.asyncBundleVersion,video:t.videoBundleVersion});case 5:case"end":return e.stop()}},e)})),function(){return Go.apply(this,arguments)}),Ko=(Wo=qo(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,M.gb)(function(){return j.g.google&&j.g.google.ima&&j.g.google.ima.VERSION}),e.next=3,t;case 3:return t=e.sent,e.abrupt("return",{ima:t});case 5:case"end":return e.stop()}},e)})),function(){return Wo.apply(this,arguments)}),$o=(Fo=qo(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){if(!j.g.permutive||!j.g.permutive.config||!j.g.permutive.config.apiVersion)return!1;var e=j.g.permutive.config;return{permutiveApi:e.apiVersion,permutiveSdkType:e.sdkType}},e.abrupt("return",(0,M.gb)(t));case 2:case"end":return e.stop()}},e)})),function(){return Fo.apply(this,arguments)}),Yo=function(r){var e=r.broker,t=r.getConfig,n=r.log,o={},i={pageMeta:Ho,gpt:zo,prebid:Vo,ima:Ko,permutive:$o},t=t("analytics.external.bundleVersions",[]);n("finding versions for",t),t.forEach(function(t){var e=i[t]&&i[t](r);e?e.then(function(e){n("assigning ".concat(t," version"),e),Object.assign(o,e)},function(){return n("error waiting for",t)}):n.error("unable to find handler for ".concat(t," version"))}),e.register("call for page analytics",function(){return{externals:{versions:o}}})};function Jo(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Xo(e){return Zo.apply(this,arguments)}function Zo(){return s=regeneratorRuntime.mark(function e(t){var i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.broker,a={},e.next=4,i.until("prebid loaded");case 4:s=j.g.pbjs.renderAd,j.g.pbjs.renderAd=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[1],o=a[n],n=o.pos,o=o.bidder;i.emit("headerbidder winner",n,o),s.apply(j.g.pbjs,t)},j.g.pbjs.onEvent("bidResponse",function(e){a[e.adserverTargeting.hb_adid]={pos:e.adUnitCode,bidder:e.bidderCode}});case 7:case"end":return e.stop()}},e)}),(Zo=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Jo(n,t,r,o,i,"next",e)}function i(e){Jo(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function Qo(e){var t=e.broker,e=e.getConfig,i={},a=e("bidmax.inputDelay.monitorMax",!1),e=function(o){return function e(t){var r,n=(1e12<=t.timeStamp?(new Date).getTime():performance.now())-t.timeStamp|0;n&&(a||o.removeEventListener(t.type,e,s),r="f"+t.type[0],t="m"+t.type[0],i[r]?a&&i[t]<n&&(i[t]=n):(i[r]=n,a&&(i[t]=n)))}},s={capture:!0,passive:!0};window.addEventListener("scroll",e(window),s),document.addEventListener("mousemove",e(document),s),document.addEventListener("click",e(document),s),t.register("call for page analytics",function(){return{latency:i}})}var ei=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"];function ti(e){e=e.broker;j.g.performance&&j.g.performance.memory&&e.register("call for page analytics",function(){return Promise.resolve({memory:ei.reduce(function(e,t){return e[t]=j.g.performance.memory[t],e},{})})})}var ri=["pageViewId","articleId","channel","device","geo","isMobile","isTablet","pageType","sponsored","subchannel","cljVersion","cljNode"];function ni(e){e.broker.register("call for page analytics",function(){return(0,he.ei)(j.g.PageCriteria,ri)})}function oi(e){var t=e.broker;t.on("page load",function(){return t.emit("send event to bidmax",{type:"page-load"})})}function ii(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function ai(e){var s;e.broker.register("call for page analytics",(s=regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j.g.RTA&&j.g.RTA.ids&&j.g.RTA.ids.then){e.next=2;break}return e.abrupt("return",{});case 2:return e.prev=2,e.next=5,(0,M.yq)(3e3,j.g.RTA.ids,new Error);case 5:return t=e.sent,r=t.user,t=t.visit,r={rta:{user:r}},"string"==typeof t&&5===(n=t.split(".")).length&&(r.rta.visit=n[0]),e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(2),console.error("RTA.ids not available"),e.abrupt("return",{});case 17:case"end":return e.stop()}},e,null,[[2,13]])}),function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){ii(n,t,r,o,i,"next",e)}function i(e){ii(n,t,r,o,i,"throw",e)}o(void 0)})}))}function si(e){e.broker.register("call for page analytics",function(){return Promise.resolve({localStorage:{total:Object.keys(localStorage).map(function(e){return localStorage.getItem(e)}).reduce(function(e,t){return e+t.length},0),top10:Object.keys(localStorage).map(function(e){return[e,localStorage.getItem(e).length]}).sort(function(e,t){return t[1]-e[1]}).slice(0,10)}})})}function ci(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function ui(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function di(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ui(Object(r),!0).forEach(function(e){li(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ui(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function li(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||pi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(e,t){if(e){if("string"==typeof e)return gi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gi(e,t):void 0}}function gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mi=(0,O.x)("timing"),yi=["navigationStart","responseEnd","domInteractive","domContentLoadedEventStart","domComplete","fetchStart"],hi={"first-paint":"paint","first-contentful-paint":"firstContentfulPaint"},vi=function(){if(performance.getEntriesByType){var e=performance.getEntriesByType("paint").filter(function(e){return hi[e.name]}).map(function(e){return[hi[e.name],Math.round(e.startTime)]});return Object.fromEntries(e)}},bi=function(){if(!j.g.performance||!j.g.performance.timing||!j.g.performance.timing.navigationStart)return{};var e,e=[].concat(function(e){if(Array.isArray(e))return gi(e)}(e=yi.map(function(e){return[e,j.g.performance.timing[e]]}).filter(function(e){return 0!==e[1]}))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||pi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[["adsBundleStart",adverts.startTime]]).sort(function(e,t){return e[1]-t[1]}),t=e[0],e=e.map(function(e){return[e[0],e[1]-t[1]]}).reduce(function(e,t){var r=fi(t,2),t=r[0],r=r[1];return di(di({},e),{},li({},t,r))},{});return e[t[0]]=t[1],e};function wi(e){var s,r=e.broker,n=r.until("page network data").then(function(e){return fi(e,1)[0].network});r.on("page load",(s=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return mi("page load happened, sending timing data to bidmax"),e.next=3,(0,M.yq)(1e3,n).catch(function(){return{}});case 3:t=e.sent,t=di(di(di({},bi()),vi()),t),mi("sending:",t),r.emit("send event to bidmax",{type:"page-load",payload:t});case 7:case"end":return e.stop()}},e)}),function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){ci(n,t,r,o,i,"next",e)}function i(e){ci(n,t,r,o,i,"throw",e)}o(void 0)})}))}function Si(e){var n=e.broker,o=e.log;o("Starting"),DM.pageEvents.subscribe("video.advert-failed",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.videoId,t={videoId:r,adErrorCode:t.adErrorCode,autoplay:t.autoplay,errorMessage:t.errorMessage,offset:t.offset,trackingType:t.trackingType};o("Error detected:",r,t),n.emit("send event to bidmax",{type:"video-ad-error",payload:t}),o("error:",t)})}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oi(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ii(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Oi(Object(r),!0).forEach(function(e){Ei(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oi(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ei(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ai=(function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(ki.prototype,[{key:"save",value:function(){j.g.localStorage.setItem(this.key,JSON.stringify(this.state))}},{key:"adRendered",value:function(e){var t;this.state.pending[e]&&((t=this.state.ready[e]||(this.state.ready[e]={})).misses=(t.misses||0)+1),this.state.pending[e]=1,this.save()}},{key:"adViewed",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Date.now();delete this.state.pending[e];e=this.state.ready[e]||(this.state.ready[e]={});(e.views||(e.views=[])).push(t-this.startTimestamp),this.save()}},{key:"snapshot",value:function(){var e=this.state.ready;return this.state.ready={},this.save(),e}}]),ki);function ki(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"__ads_viewability";(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,ki),this.startTimestamp=e,this.key=t;var r=JSON.parse(j.g.localStorage.getItem(t)||"{}"),t=Object.keys(r.pending||{}).reduce(function(e,t){return Ii(Ii({},e),{},Ei({},t,{misses:((r.ready[t]||{}).misses||0)+1}))},{});this.state={ready:Object.keys(r.ready||{}).reduce(function(e,t){return Ii(Ii({},e),{},Ei({},t,Ii(Ii({},r.ready[t]),e[t])))},t),pending:{}}}function xi(e){var t,o,r,i,a,n,s,c,u=e.broker,e=e.getConfig;j.g.localStorage&&(r=e("viewability.waitBeforeForcing",3e3),i=new Ai(Date.now()),a=function(){t&&(clearTimeout(t),t=void 0)},n=function(){a(),t=setTimeout(s,r)},s=function(){u.emit("send event to bidmax",{type:"ping"}),t=void 0},c=new Set,u.on("ad rendered",function(e){return i.adRendered(e)}),u.on("ad viewable",function(e){i.adViewed(e,Date.now()),"billboard"!==e&&!e.startsWith("sky_")||c.has(e)||(c.add(e),n())}),u.once("ad viewable",function(e){o=!0,n()}),u.intercept("send to bidmax",function(e,t){var r,n=function(e){if(Array.isArray(e))return e}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return _i(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_i(e,2):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e=n[0],r=n[1];a();n=i.snapshot();if((0,he.xb)(n))return t();t(e,Ii(Ii({},r),{},{viewability:n,first:o})),o=void 0}))}function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ji(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}var Ti,Ci,Ri=(0,O.x)("connection-type"),Di=(Ti=regeneratorRuntime.mark(function e(t){var r,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=navigator.connection.type,Ri("fetching edgedata from akamai"),e.next=5,function(e,t,r){var n=new Headers;return Object.keys(t).forEach(function(e){n.append(e,t[e])}),window.fetch(e,{method:r,headers:n})}("https://www.dailymail.co.uk/geo/edgedata.html",{pragma:"no-cache","cache-control":"no-cache"},"get").then(function(e){return e.text()}).then(function(e){return e});case 5:i=e.sent,o={},i.match(/>(.*?)</g).forEach(function(e){var t,t=(t=e.replace(/>|<|\s+/g,"").split(":"),e=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(e,t){if(e){if("string"==typeof e)return Pi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pi(e,t):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=t[0],t=t[1];o[e]=t}),i={connection:n,akamaiConnectionType:o.network_type,akamaiThroughput:o.throughput,akamaiNetwork:o.network},Ri(i),r.emit("page network data",{network:i});case 11:case"end":return e.stop()}},e)}),Ci=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=Ti.apply(e,a);function o(e){ji(n,t,r,o,i,"next",e)}function i(e){ji(n,t,r,o,i,"throw",e)}o(void 0)})},function(e){return Ci.apply(this,arguments)});function Ui(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Mi(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ui(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ui(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ni(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ni(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Li(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function qi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Li(Object(r),!0).forEach(function(e){Gi(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Li(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||Vi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vi(e,t){if(e){if("string"==typeof e)return Fi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fi(e,t):void 0}}function Fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wi(e){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}q("bidders.adform.display",{run:function(e){var t=e.broker,r=e.getConfig,n=e.log;n("enabled");var o=Object.entries(r("plugins.bidders.adform.display",{})).map(function(e){var t=Bi(e,2),r=t[0];return Mi(Mi({},(e=Bi(t[1].split(/\s+/g,2),2),t=e[0],e=e[1],{mid:Number(t),sizes:e.split(/\s*,\s*/g).map(function(e){return e.split(/x/gi,2).map(Number)})})),{},{code:r})}).map(function(e){return{code:e.code,mediaTypes:{banner:{sizes:e.sizes}},bids:[{bidder:"adform",params:{mid:e.mid}}]}});t.register("provide prebid adUnits",function(){return n.info("adUnits",o),o})},vendorIds:{gdpr:[50]}});var Hi=(T.SP.debugBidder||"").split(",").map(function(e){return e.trim()})||[];function Ki(e){return e.match(/(\d+x\d+,?\s*)+$/g)[0].trim().split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})})}var $i=function(e,t){var r=(0,T.ap)().width,n=e(t,{adUnits:{}}),e=n.adUnits,t=void 0===e?{}:e,e=n.wideSkiesAdUnits,n=t;return n=1580<=r&&e?qi(qi({},t),e):n};function Yi(r,n,o){function i(e,t){return a.push({code:e,bids:[{bidder:r,params:o(t,e)}],mediaTypes:{banner:{sizes:Ki(t)}}})}var a=[];return Object.keys(n).forEach(function(t){var e=n[t];Array.isArray(e)?e.forEach(function(e){return i(t,e)}):i(t,e)}),a}function Ji(r,n,o){function i(e,t){return a.push({code:e,bids:[{bidder:r,params:o(t.split(" ").filter(function(e){return e}),e)}],mediaTypes:{banner:{sizes:Ki(t)}}})}var a=[];return Object.keys(n).forEach(function(t){var e=n[t];Array.isArray(e)?e.forEach(function(e){return i(t,e.trim())}):i(t,e)}),a}function Xi(e){if(function(t){function o(e){throw new Error("providePrebidDisplayConfig error for '".concat(t.bidder,"': ").concat(e))}"object"===Wi(t)&&!Array.isArray(t)||o("`config` must be an object."),["broker","getConfig","configKeys","bidder"].forEach(function(e){t[e]||o("'config' must contain mandatory key '".concat(e,"'."))});var r={adapterName:function(e){"string"!=typeof e&&o("`adapterName` must be a string."),t.aliasedName||o("with `adapterName`, `aliasedName` is mandatory.")},aliasedName:function(e){"string"!=typeof e&&o("`aliasedName` must be a string."),t.adapterName||o("with `aliasedName`, `adapterName` is mandatory.")},broker:function(e){e instanceof k.Jj||o("`broker` must be an instance of the class `Broker`.")},getConfig:function(e){"function"!=typeof e&&o("`getConfig` error: must be a function.")},configKeys:function(e){("string"!=typeof e&&!Array.isArray(e)||Array.isArray(e)&&e.find(function(e){return"string"!=typeof e}))&&o("`configKeys` must be a string or an array of strings.")},configKey:function(e){"string"!=typeof e&&o("`configKey` must be a string.")},bidder:function(e){"string"!=typeof e&&o("`bidder` must be a string.")},chance:function(e){isNaN(e)&&o("`chance` must be a number.")},getBidsParams:function(e){"function"!=typeof e&&o("`getBidParams` must be a function.")},bidderSettings:function(e){var n="`bidderSettings` must be an Object or an array of Objects { key : <String>, val: <Function> }.";"object"===Wi(e)||Array.isArray(e)||o(n);function t(e){var r=["key","val"];Object.entries(e).forEach(function(e){var e=zi(e,2),t=e[0],e=e[1];r.find(function(e){return e===t})||o(n),"key"===t&&"string"!=typeof e&&o(n),"val"===t&&"function"!=typeof e&&o(n)})}"object"!==Wi(e)||Array.isArray(e)||t(e),Array.isArray(e)&&e.forEach(t)}};Object.entries(t).forEach(function(e){var t=zi(e,2),e=t[0],t=t[1];r[e]&&r[e](t)})}(e),!(e.chance&&e.chance<=Math.random())){var t=e.broker,r=e.getConfig,n=e.configKeys,o=e.bidder,i=e.paramsPerSize,a=e.getBidsParams,s=i?Zi:Ji,c=null,u={};if(Array.isArray(n)){if(c=[],!(c=n.map(function(e){return u[e]=$i(r,e),c.concat(s(o,u[e],a))})).length)return}else{if(u[n]=$i(r,n),(0,he.xb)(u[n]))return;c=s(o,u[n],a)}return g=r,m=u,i=c,y=(n=e).bidder,Hi.find(function(e){return"*"===e||e===y})&&(console.log("--------------\x3e ".concat(y," configs <--------------")),(function(e){if(Array.isArray(e))return Fi(e)}(n=n.configKeys||n.configKey)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||Vi(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach(function(e){console.log("-> ".concat(e,":"),g(e))}),console.log("--------------\x3e ".concat(y," adUnits <--------------")),Object.entries(m).forEach(function(e){var t=zi(e,2),e=t[0],t=t[1];console.log("-> ".concat(e,":"),t)}),console.log("--------------\x3e ".concat(y," prebid config <--------------")),console.log("->",i)),t.register("provide prebid adUnits",function(){return c}),f=e.adapterName,p=e.aliasedName,n=e.broker,f&&p&&n.register("provide bidder alias",function(){return{adapterName:f,aliasedName:p}}),m=e.broker,l=e.bidderSettings,i=e.bidder,t=e.adapterName,n=e.aliasedName,l&&(d=t&&n||i,m.register("prebid reduce bidderSettings",function(e){return e[d]=e[d]||{},e[d].adserverTargeting=e[d].adserverTargeting||[],Array.isArray(l)?e[d].adserverTargeting.concat(l):e[d].adserverTargeting.push(l),e})),i=e.bidder,m=e.asyncUpdate,e=e.broker,m&&e.emit("prebid config async update",Gi({},i,m)),1}var d,l,f,p,g,m,y}function Zi(n,r,o){function i(t,r){var e=Ki(r);a.push({code:t,bids:e.map(function(e){return{bidder:n,params:o(r.split(" ").filter(function(e){return e}),e,t)}}),mediaTypes:{banner:{sizes:e}}})}var a=[];return Object.keys(r).forEach(function(t){var e=r[t];Array.isArray(e)?e.forEach(function(e){return i(t,e)}):i(t,e)}),a}function Qi(e,t,r,n,o,i){var a,s,s=(a=o,s=null,(o=r)[r=n]&&"object"===Wi(o[r])&&o[r][a?"autoplay":"ctp"]?s=String(o[r][a?"autoplay":"ctp"]):void 0!==o[r]&&(s=String(o[r])),s=s&&s.trim().replace(/\s+/," ").split(" "));if(!s)return{};e=e("plugins.slots.".concat(n,".v2")),n=e.code,e=e.mediaTypes;return{code:n,bids:[{bidder:t,params:i(s)}],mediaTypes:e}}function ea(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ta(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ea(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ea(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function ra(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function na(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ra(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ra(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}q("bidders.rubiMM2",{run:function(e){var t,r=e.getConfig,n=e.broker,o=e.log,i=1580<(0,T.ap)().width,e=r("plugins.bidders.rubiMM2.display",{adUnits:{},wideSkiesAdUnits:[]}),a=e.accountId,s=e.siteId,r=e.adUnits,e=e.wideSkiesAdUnits;o("adUnits",r),(0,he.xb)(r)||(o("transformed",t=Yi("rubi_mm2",r=i&&e?ta(ta({},r),e):r,function(e){var t={area:[j.g.adAreaId]};return j.g.gs_channels&&(t.grapeshot=j.g.gs_channels),{zoneId:e.split(" ")[0],inventory:t,siteId:s.toString(),accountId:a.toString()}})),n.register("provide prebid adUnits",function(){return t}),n.register("provide bidder alias",function(){return{adapterName:"rubicon",aliasedName:"rubi_mm2"}}),n.emit("prebid config async update",{rubi_mm2:{singleRequest:!0}}))},vendorIds:{gdpr:[52]}});var oa=1580<(0,T.ap)().width;function ia(e){var t,r=e.broker,e=(0,e.getConfig)("plugins.bidders.adyoulike.display",{adUnits:[]}),n=e.adUnits,e=e.wideSkiesAdUnits;oa&&e&&(n=na(na({},n),e)),(0,he.xb)(n)||(t=Object.keys(n).map(function(e){return{code:e,bids:[{bidder:"adyoulike",params:{placement:n[e].split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:n[e].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})})}}}}),r.register("provide prebid adUnits",function(){return t}))}function aa(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function sa(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function ca(e){var r,s,t,n,o,i=e.getConfig,a=i("plugins.enabled",[]).includes("trackers.pubcommon")&&i("amazon.pubcommon.enabled",!1);return a?function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?aa(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):aa(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}({pubcommonEnabled:a},(n=(r=e).broker,o=r.getConfig,i=function(){var e=r.broker,t=r.getConfig;window.pubcid_options={type:"cookie",create:!1};t=t("amazon.pubcommon.pubcidScript","//www.dailymail.co.uk/static/mol-adverts/demo/mol-21682/dist/pubcid.min.js");return e.invoke("import script",t)}(),e=new Promise((s=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.until("pubcommonId cookie set");case 2:r=e.sent,t(r&&r[0]);case 4:case"end":return e.stop()}},e)}),t=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){sa(n,t,r,o,i,"next",e)}function i(e){sa(n,t,r,o,i,"throw",e)}o(void 0)})},function(e){return t.apply(this,arguments)})),{pubcommonReady:(0,M.Ye)(o("amazon.pubcommon.loadTimeout",3e3),[i,e]),pCookie:e})):{pubcommonEnabled:a}}ia.vendorIds={gdpr:[259]};function ua(){return"US"===PageCriteria.geo}function da(){return"CA"===j.g.PageCriteria.region}var la="mol.ads.cmp.consent",fa=function(o){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(r,n){ya()(o,i,function(e,t){t?r(e):n(new Error("Failed to call __cmp(".concat(o,", ").concat(i,")")))})})},pa=(0,Cn.ri)(function(){return fa("hasConsentedToAll")}),ga=(0,Cn.ri)(function(){return fa("hasChoiceBeenMade")}),ma=function(){return ba()&&(0,I.U2)("plugins.enabled").includes("cmp")&&(0,I.U2)("cmp.enable.userAgents",[".*"]).some(function(e){return navigator.userAgent.match(new RegExp(e))})},ya=function(){return j.g.__uspapi},ha=function(){return"yes"===localStorage.getItem("mol.ads.cmp.consent")},va=function(){return null!==localStorage.getItem("mol.ads.cmp.consent")},ba=function(){return(0,I.U2)(ua()?"ccpa.scriptBase":"cmp.scriptBase")},wa=j(7721);function Sa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oa(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ia(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Oa(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Oa(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Ea(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function Aa(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function ka(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Aa(n,t,r,o,i,"next",e)}function i(e){Aa(n,t,r,o,i,"throw",e)}o(void 0)})}}var xa={},Pa={},ja={sticky_banner_gallery_top:"sticky_banner_gallery_top",sticky_banner_gallery_bottom:"sticky_banner_gallery_bottom",jw_video_desktop:"jwplayer",jw_video_tablet:"jwplayer",jw_video_mobile:"jwplayer",ctp_video_desktop:"video",ctp_video_tablet:"video",ctp_video_mobile:"video",ap_video_desktop:"video",ap_video_tablet:"video",ap_video_mobile:"video"},Ta=function(e){var t=(0,T.ap)(),r=t.width,t=t.height,t=e.sizeMapping?(0,wa.T3)(e.sizeMapping,e.sizes,[r,t]):e.sizes;return{slotID:e.slotID,sizes:t}};function Ca(){return(Ca=ka(regeneratorRuntime.mark(function e(t,r){var n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.pubcommon,n=i.pubcommonReady,o=i.pCookie,i=t.log,e.next=3,n;case 3:return e.next=5,o;case 5:return a=e.sent,i("adding pubcid:",a),e.abrupt("return",a?r.map(function(e){return Ia(Ia({},e),{},{slotParams:Ia(Ia({},e.slotParams||{}),{},{pubcid:a})})}):r);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ra(){return Da.apply(this,arguments)}function Da(){return(Da=ka(regeneratorRuntime.mark(function e(t,r){var i,n,a,o,s,c,u,d,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.log,n=t.getConfig,a=t.broker,o=t.pApstagInitialised,s=t.pubcommon,c=n("amazon.priceLookup","/abe/a9/price"),u=n("auction.maxTime",2e3),i("requesting bids for:",r.map(function(e){return e.slotID}).join(", ")),d={},(l=r.filter(function(e){return e})).forEach(function(e){var t,r=e.slotID;(xa[r]||(xa[r]=[])).push(new Promise((t=ka(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d[r]=t;case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})))}),s.pubcommonEnabled)return e.next=10,function(){return Ca.apply(this,arguments)}(t,l);e.next=13;break;case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=l;case 14:l=e.t0,o.then(function(){var t;j.g.apstag.fetchBids({slots:l,timeout:u},(t=ka(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i("bids response for:",t.map(function(e){return e.slotID}),t),n=t.reduce(function(e,t){var r,n=e.noBids,o=e.realBids;return e=(r=t).amznbid&&!("1"===r.amznbid||"2"===r.amznbid),r=r.targeting&&r.targeting.amznbid&&!("1"===r.targeting.amznbid||"2"===r.targeting.amznbid),(e||r?o:n).push(t),{realBids:o,noBids:n}},{noBids:[],realBids:[]}),r=n.noBids,(n=(n=n.realBids)&&n[0]&&n[0].targeting?n.map(function(e){var t=e.targeting;return Ia(Ia({},Ea(e,["targeting"])),t)}):n)&&n[0]&&i("bids targeting unwrapped:",n),e.next=6,Promise.all(n.map(function(e){return e.amznbid?Tt({url:"".concat(c,"/").concat(e.amznbid)}):0}));case 6:return o=e.sent.map(Number.parseFloat),e.next=9,function(e,t){var r,c=e.broker,u=e.log;t.map((r=ka(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{r=t.cpm,n=t.bid,o=Ea(t,["cpm","bid"]),0<=r?(i=ja[n.slotID]||n.slotID,a=!!n.amzndeals,s=Ia({bidder:"tia",cpm:Math.floor(100*r),amazonDeal:a},o),u("bid received",i,s),c.emit("bid",i,s)):u.warn("Invalid lookup value ".concat(r," for code ").concat(n.amznbid))}catch(e){u.error(e)}case 1:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}))}({broker:a,log:i},n.map(function(t,e){return Ia(Ia({},l.find(function(e){return e.slotID===t.slotID})),{},{cpm:o[e],bid:t})}));case 9:n.forEach(function(e,t){t={cpm:o[t],bid:e};return i("bid for ".concat(e.slotID,":"),t),(0,d[e.slotID])(t)}),r.forEach(function(e){return i("no bid for ".concat(e.slotID)),(0,d[e.slotID])({})});case 11:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}))});case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ua(){return Ma.apply(this,arguments)}function Ma(){return(Ma=ka(regeneratorRuntime.mark(function e(t,r){var n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.pos,o=r.id,i=t.log,a=xa[o]&&xa[o].shift()){e.next=10;break}if(i("No available bid for '".concat(o,"', requesting new one")),Ra(t,[Ta(Pa[o]||Pa[n])]),xa[o]){e.next=9;break}return i("no bid promise for id",o),e.abrupt("return",Promise.resolve({}));case 9:a=xa[o].shift();case 10:return i("Taking bid for '".concat(o,"':"),a),e.abrupt("return",a);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ba(){return(Ba=ka(regeneratorRuntime.mark(function e(c){var n,r,u,i,t,d,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=function(){return(o=ka(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=he.Ev,e.next=4,(0,M.yq)(1e3,n.invoke("get IrisTV tags",t),"Failed to get IrisTV tags in 500ms");case 4:return e.t1=e.sent,e.t2={iris_id:"irisid",categories:"iriscat"},(r=(0,e.t0)(e.t1,e.t2)).iriscat=r.iriscat.join(","),e.abrupt("return",r);case 11:return e.prev=11,e.t3=e.catch(0),u.error(e.t3),e.abrupt("return",{});case 15:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)},d=function(e){return o.apply(this,arguments)},n=c.broker,r=c.getConfig,u=c.log,i=new Set(["mpu_puff_others","puff_ad_others","mpu_mobile_others","mpu_mobile_factbox"]),t=function(e){var r,t=e.broker,n=e.getConfig,o=e.log,i=n("amazon.deal",!0);return ua()&&(o("In CCPA"),r=fa("getUSPData")),t.invoke("load script","//c.amazon-adsystem.com/aax2/apstag.js","apstag").then(ka(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={pubID:"3065",adServer:"googletag",videoAdServer:"DFP",deals:i},e.prev=1,r)return e.next=5,(0,M.yq)(n("amazon.millisWaitForUspData",1500),r);e.next=8;break;case 5:e.t0=e.sent.uspString,t.params={us_privacy:e.t0},o(t);case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),o.warn("Error while calling getUSPData, us_privacy will be omitted",e.t1);case 13:j.g.apstag.init(t);case 14:case"end":return e.stop()}},e,null,[[1,10]])})))}(c),c.pApstagInitialised=t,[{pos:"jwplayer",configItem:"amazonPreroll.jwplayer"},{pos:"video.ap",configItem:"amazonPreroll.auto-play"},{pos:"video.ctp",configItem:"amazonPreroll"}].forEach(function(e){var t=e.pos,e=e.configItem,e=r(e).slotId;e&&(Pa[t]={slotID:e,mediaType:"video"})}),n.on("enabled slots updated",function(){var t=ka(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.enabledAds,(r=n.filter(function(e){return!i.has(e)}).map(function(e){return[e,Pa[e]]}).filter(function(e){return Sa(e,2)[1]}).filter(function(e){e=Sa(e,2)[1];return!xa[e.slotID]})).length){e.next=4;break}return e.abrupt("return");case 4:u("early bidding for",r.map(function(e){var t=Sa(e,2),e=t[0],t=t[1];return"pos: ".concat(e,", id: ").concat(t.slotID)})),r.forEach(function(e){var t=Sa(e,2),e=t[0],t=t[1];ja[t.slotID]=e}),n=r.map(function(e){e=Sa(e,2),e[0],e=e[1];return Ta(e)}),Ra(c,n);case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),n.on("slot descriptions updated",function(e){Object.values(e).forEach(function(e){var t=e.pos,r=e.dfpPos,n=e.id,o=e.size,e=e.sizeMapping;Pa[t]=Ia(Ia({},Pa[t]),{},{slotID:n,sizes:o,sizeMapping:e}),i.has(r)&&(Pa[t].slotName=r)})}),n.register("get tags",function(){var t=ka(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.slot,r=n.dfpPos||n.pos,n=n.id,ja[n]=r,e.prev=4,e.next=7,Ua(c,{id:n,pos:r});case 7:return n=e.sent,n=Na(n),u("display params for ".concat(r),n),e.abrupt("return",(0,he.xb)(n)?{}:n);case 13:e.prev=13,e.t0=e.catch(4),u.error(e.t0);case 16:case"end":return e.stop()}},e,null,[[4,13]])}));return function(e){return t.apply(this,arguments)}}()),n.on("prepare to refresh ads",function(e){e=e.map(function(e){return Pa[e]});u("preparing to refresh:",e),Ra(c,e)}),n.register("get video tags",function(){var t=ka(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.slot.pos,a=t.autoplay,o=t.platform,n=void 0===o?"dmplayer":o,i=t.offset,o=void 0===i?0:i,i=t.videoId,t.auctionId,a="jwplayer"===r?r:a?"video.ap":"video.ctp",e.t0=Ia,e.t1=Ia({},Pa[a]),e.t2={},e.t3=n,e.t4=o,e.next=9,d(i);case 9:return e.t5=e.sent,e.t6={platform:e.t3,offset:e.t4,slotParams:e.t5},s=(0,e.t0)(e.t1,e.t2,e.t6),u("get video tags",s),Ra(c,[s]),e.next=16,Ua(c,{pos:a,id:s.slotID});case 16:return s=e.sent,s=Na(s),u("video params",s),e.abrupt("return",(0,he.xb)(s)?{}:{cust_params:s});case 20:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Na(e){if(!e||!e.bid)return{};e=e.bid.helpers.qsParams();return e?e.replace(/^&/,"").split("&").reduce(function(e,t){var r=Sa(t.split("="),2),t=r[0],r=r[1];return e[t]=r,e},{}):{}}function La(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function qa(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?La(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):La(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function za(e){!function(){Ba.apply(this,arguments)}(qa(qa({},e),{},{pubcommon:ca(e)}))}function Va(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Fa(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Va(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Va(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Wa(e){return function(e){if(Array.isArray(e))return Ga(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return Ga(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ga(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}za.vendorIds={gdpr:[793]};var Ha=1580<(0,T.ap)().width,Ka=function(){try{return[].concat(Wa(JSON.parse(window.localStorage._psegs||"[]").filter(function(e){return 1e6<=Number(e)}).map(String)),Wa(JSON.parse(window.localStorage._ppam||"[]")),Wa(JSON.parse(window.localStorage._pcrprs||"[]")))}catch(e){return[]}};function $a(e){var o,t=e.broker,r=e.getConfig,e=e.log,r=r("plugins.bidders.appnexus.display",{adUnits:[]}),i=r.adUnits,r=r.wideSkiesAdUnits,a=Ka();e("permutive segments:",a),(0,he.xb)(i)||(o=[],Ha&&r&&(i=Fa(Fa({},i),r)),Object.keys(i).map(function(n){var e=i[n];(e="string"==typeof e?[e]:e).forEach(function(e){var t,r;o.push((t=n,r=e,e={area:[j.g.adAreaId]},j.g.gs_channels&&(e.grapeshot=j.g.gs_channels),e.p_standard=a,{code:t,bids:[{bidder:"appnexus",params:{keywords:e,placementId:r.split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:r.replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})})}}}))})}),t.register("provide prebid adUnits",function(){return o}))}function Ya(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ja(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ya(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ya(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}$a.vendorIds={gdpr:[32]};var Xa=T.SP["mol.ads.appNexus.debug"],Za=T.SP.testmode;function Qa(e){var t=e.broker,c=e.getConfig,u=Ja({area:[j.g.adAreaId],grapeshot:j.g.gs_channels||[]},Za?{testmode:Za.split(",")}:void 0),d=c("plugins.bidders.appnexus.outstream",{adUnits:[]}).adUnits;(0,he.xb)(d)||t.register("provide prebid adUnits",function(){return n=c,o="appnexus",i=d,a=function(e,t){return{placementId:e[0],keywords:Ja(Ja({},Xa?{pos:t}:void 0),u),video:{skippable:!1,playback_method:["auto_play_sound_off"]}}},s=[],Object.keys(i).forEach(function(t){var e=i[t];Array.isArray(e)?e.forEach(function(e){return r(t,e.trim())}):r(t,e)}),s;function r(e,t){return s.push({code:e,bids:[{bidder:o,params:a(t.split(" ").filter(function(e){return e}),e)}],mediaTypes:{video:qi(qi({},n("plugins.slots.outstream.default.mediaTypes.video",{})),{},{playerSize:Ki(t)[0]})}})}var n,o,i,a,s})}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ts(e){var t=e.broker,e=(0,e.getConfig)("plugins.bidders.verizon.display",{}),r=e.adUnits&&Object.entries(e.adUnits).map(function(e){e=function(e){if(Array.isArray(e))return e}(e=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(e)||function(e){if(e){if("string"==typeof e)return es(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?es(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return{code:e[0],bids:[{bidder:"brightroll",params:{publisher:"dailymail"}}],mediaTypes:{banner:{sizes:e[1]}}}});r&&0<r.length&&t.register("provide prebid adUnits",function(){return r})}function rs(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.collective564.display",{adUnits:{}}).adUnits,n=[];(0,he.xb)(r)||(Object.keys(r).map(function(e){var t;n.push((t=r[e],{code:e,bids:[{bidder:"collective564",params:{placementId:t.split(" ")[0].trim(),usePaymentRule:!0}}],mediaTypes:{banner:{sizes:t.replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})})}}}))}),t.register("provide prebid adUnits",function(){return n}),t.register("provide bidder alias",function(){return{adapterName:"appnexus",aliasedName:"collective564"}}),t.register("prebid reduce bidderSettings",function(e){return e.collective564=e.collective564||{},e.collective564.adserverTargeting=e.collective564.adserverTargeting||[],e.collective564.adserverTargeting.push({key:"hb_skin",val:function(e){return!0}}),e}))}Qa.vendorIds={gdpr:[32]},ts.vendorIds={gdpr:[25]},rs.vendorIds={gdpr:[179]};var ns=(0,I.U2)("plugins.bidders.collectiveImprove.display",{adUnits:{}}).adUnits;function os(e){var t,e=e.broker;(0,he.xb)(ns)||(t=Yi("collectiveImprove",ns,function(e){return{placementId:e.split(" ")[0]}}),e.register("provide prebid adUnits",function(){return t}),e.register("provide bidder alias",function(){return{adapterName:"improvedigital",aliasedName:"collectiveImprove"}}),e.register("prebid reduce bidderSettings",function(e){return e.collectiveImprove=e.collectiveImprove||{},e.collectiveImprove.adserverTargeting=e.collectiveImprove.adserverTargeting||[],e.collectiveImprove.adserverTargeting.push({key:"hb_skin",val:function(e){return!0}}),e}))}function is(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function as(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?is(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):is(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function ss(e){function r(e,t){return{code:e,bids:[{bidder:"criteo",params:{zoneId:t.split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:t.replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})})}}}}var n,t=e.broker,o=(0,e.getConfig)("plugins.bidders.criteo.display",{adUnits:[]}),i=o.adUnits,e=o.wideSkiesAdUnits,o=(0,T.ap)().width;1580<o&&e&&(i=as(as({},i),e)),(0,he.xb)(i)||(n=[],Object.keys(i).map(function(t){var e=i[t];"string"==typeof e?n.push(r(t,e)):e.forEach(function(e){n.push(r(t,e))})}),t.register("provide prebid adUnits",function(){return n}))}function cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function us(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ds(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?us(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):us(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function ls(e){var t=e.broker,e=e.getConfig,r=e("plugins.bidders.criteo.v2.networkId",10352),e=e("plugins.bidders.criteo.v2.display",{}),e=1580<(0,T.ap)().width&&e.wideSkiesAdUnits?ds(ds({},e.adUnits),e.wideSkiesAdUnits):e.adUnits,n=Object.entries(e).map(function(e){var e=function(e){if(Array.isArray(e))return e}(t=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(t)||function(e){if(e){if("string"==typeof e)return cs(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?cs(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=e[0],e=e[1];return{code:t,bids:[{bidder:"criteo",params:{networkId:r,publisherSubId:t}}],mediaTypes:{banner:{sizes:e}}}});t.register("provide prebid adUnits",function(){return n})}function fs(e){var n,t=e.broker,r=e.getConfig,o=Math.random(),i=r("plugins.bidders.groupm.v2.chance",.1),e=r("plugins.bidders.groupm.v2.standard.adUnits",[]),a=r("plugins.bidders.groupm.v2.premium.adUnits",[]).concat(e);T.SP.hasOwnProperty("groupmlog")&&console.log("groupm chance: ",o,"request? ",o<i,o<i?a:""),o<i&&(t.register("provide prebid adUnits",function(){return a}),n=e.reduce(function(e,t){return t&&t.code&&t.mediaTypes&&t.mediaTypes.banner&&t.mediaTypes.banner.sizes&&t.mediaTypes.banner.sizes.length&&(r=e[t.code]?e[t.code].concat(t.mediaTypes.banner.sizes.map(function(e){return"".concat(e[0],"x").concat(e[1])})):t.mediaTypes.banner.sizes.map(function(e){return"".concat(e[0],"x").concat(e[1])}),e[t.code]=Array.from(new Set(r))),e;var r},{}),t.register("prebid reduce bidderSettings",function(e){return e.groupm||(e.groupm={}),e.groupm.adserverTargeting||(e.groupm.adserverTargeting=[]),e.groupm.adserverTargeting.push({key:"hb_deal_groupm",val:function(e){return t=n,(r=e).adUnitCode&&t[r.adUnitCode]&&t[r.adUnitCode].includes("".concat(r.width,"x").concat(r.height))?11111111:e.dealId;var t,r}}),e}))}function ps(e){var t,r=e.broker,e=e.getConfig;e("plugins.bidders.groupm.skin.chance",.1)<=Math.random()||(t=e("plugins.bidders.groupm.skin.adUnits",[])).length&&r.register("provide prebid adUnits",function(){return t})}function gs(e){var t,r=e.broker,n=(t=(0,I.U2)("plugins.bidders.improveDigital.display.adUnits",{}),e=[],t instanceof Object&&!(0,he.xb)(t)?e=Object.keys(t).map(function(e){return{code:e,bids:[{bidder:"improvedigital",params:{placementId:t[e].split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:t[e].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})})}}}}):console.log("Invalid config for improveDigital adUnits"),e);n.length&&r.register("provide prebid adUnits",function(){return n})}function ms(e){var t=e.broker,r=e.getConfig;(new j.g.Image).src="https://e.serverbid.com/udb/9969/match?redir=https%3A%2F%2Fmfad.inskinad.com%2Fudb%2F9874%2Fpool%2Fset%2Fi.gif%3FpoolId%3D9969%26poolKey%3D";var n=document.createElement("iframe");n.style.display="none";var o,i,a,s,c=document.cookie.match("(^|;)\\s*MFADUser\\s*=\\s*([^;]+)"),c=c?c.pop():"";n.src="https://ssum-sec.casalemedia.com/usermatch?s=184665&cb="+encodeURIComponent("https://mfad.inskinad.com/udb/9874/sync/i.gif?partnerId=1"+(c&&"&userKey="+c||"")+"&userId="),c=function(){document.body.appendChild(n)},(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?c():document.addEventListener("DOMContentLoaded",c);try{o=j.g.top.screen.width,i=j.g.top.screen.height}catch(e){}o&&i&&((a=r("plugins.bidders.inskin.display",{adUnits:null}).adUnits)&&!(0,he.xb)(a)&&(s=Object.keys(a).map(function(e){return{code:e,bids:[{bidder:"inskin",params:{networkId:a[e].split(" ")[0].trim(),siteId:a[e].replace(/^[^\s]+\s+([^\s]+) .+$/,"$1").trim(),keywords:"",properties:{screenWidth:o,screenHeight:i,target:1244}}}],mediaTypes:{banner:{sizes:a[e].replace(/^[^\s]+\s*[^\s]+\s*(.+)$/,"$1").trim().split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})})}}}}),t.register("provide prebid adUnits",function(){return s})))}function ys(e){var t,r=e.broker,n=(0,e.getConfig)("plugins.bidders.ix.display",{adUnits:[]}).adUnits;(0,he.xb)(n)||(t=Object.keys(n).map(function(t){var e=n[t].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})});return{code:t,bids:e.map(function(e){return{bidder:"ix",params:{siteId:n[t].split(" ")[0].trim(),size:e}}}),mediaTypes:{banner:{sizes:e}}}}),r.register("provide prebid adUnits",function(){return t}))}os.vendorIds={gdpr:[179]},ss.vendorIds={gdpr:[91]},ls.vendorIds={gdpr:[91]},fs.vendorIds={gdpr:[98]},ps.vendorIds={gdpr:[98]},gs.vendorIds={gdpr:[10]},ms.vendorIds={gdpr:[150]},ys.vendorIds={gdpr:[10]};var hs=(0,I.U2)("plugins.bidders.justpremium.display",{adUnits:{}}).adUnits;function vs(e){var t,e=e.broker;(0,he.xb)(hs)||(t=Yi("justpremium",hs,function(e){return{zone:e.split(" ")[0]}}),e.register("provide prebid adUnits",function(){return t}),e.register("prebid reduce bidderSettings",function(e){return e.justpremium=e.justpremium||{},e.justpremium.adserverTargeting=e.justpremium.adserverTargeting||[],e.justpremium.adserverTargeting.push({key:"hb_skin",val:function(e){return!0}}),e}))}function bs(e){var t,r=e.broker,n=(0,e.getConfig)("plugins.bidders.kargo.display",{adUnits:[]}).adUnits;r.invoke("load script","https://storage.cloud.kargo.com/ad/network/klick/klick-dailymail.js",null,{},function(){return!0}),(0,he.xb)(n)||(t=Object.keys(n).map(function(e){return{code:e,bids:[{bidder:"kargo",params:{placementId:n[e].split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:n[e].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})})}}}}),r.register("provide prebid adUnits",function(){return t}))}function ws(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ss(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ws(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ws(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function _s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Os(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Os(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Os(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Is(e){var t=e.broker,r=e.getConfig,n=e.log,o=Object.entries(r("plugins.bidders.mediagrid.display",{})).map(function(e){var t=_s(e,2),r=t[0];return Ss(Ss({},(e=_s(t[1].split(/\s+/g,2),2),t=e[0],e=e[1],{uid:Number(t),sizes:e.split(/\s*,\s*/g).map(function(e){return e.split(/x/gi,2).map(Number)})})),{},{code:r})}).map(function(e){return{code:e.code,mediaTypes:{banner:{sizes:e.sizes}},bids:[{bidder:"grid",params:{uid:e.uid}}]}});t.register("provide prebid adUnits",function(){return n.info("adUnits",o),o})}function Es(e){var t,r=e.broker,e=(0,e.getConfig)("plugins.bidders.openx.display.v2",{adUnits:[]}),n=e.adUnits,o=e.delDomain;o&&!(0,he.xb)(n)&&(t=Object.keys(n).map(function(e){return{code:e,bids:[{bidder:"openx",params:{unit:n[e].split(" ")[0].trim(),delDomain:o}}],mediaTypes:{banner:{sizes:n[e].replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})})}}}}),r.register("provide prebid adUnits",function(){return t}))}function As(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ks(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?As(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):As(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}vs.vendorIds={gdpr:[62]},Is.vendorIds={gdpr:[686]},Es.vendorIds={gdpr:[69]};var nt=1580<(0,T.ap)().width,ft=(0,I.U2)("plugins.bidders.pubmatic.display.v2",{adUnits:{},wideSkiesAdUnits:[]}),xs=ft.adUnits,gt=ft.wideSkiesAdUnits,Ps=ft.publisherId;nt&&gt&&(xs=ks(ks({},xs),gt));var ft=function(e){var t,e=e.broker;(0,he.xb)(xs)||(t=Yi("pubmatic",xs,function(e){return{publisherId:"".concat(Ps),adSlot:e.split(" ")[0],dctr:"area=".concat(j.g.adAreaId)}}),e.register("provide prebid adUnits",function(){return t}),e.register("prebid reduce bidderSettings",function(e){var r=(0,I.U2)("plugins.bidders.pubmatic.display.netMultiplier",.93);return e.pubmatic||(e.pubmatic={}),e.pubmatic.bidCpmAdjustment=function(e,t){return e*r},e}))},js=ft;function Ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cs(e){function r(e,t){return{code:e,bids:[{bidder:"pxyz",params:{placementId:t.split(" ")[0].trim()}}],mediaTypes:{banner:{sizes:t.replace(/^[^\s]+\s(.+)$/,"$1").trim().split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})})}}}}var n,t=e.broker,e=(0,e.getConfig)("plugins.bidders.pxyz.display",{adUnits:{}}).adUnits;(0,he.xb)(e)||(n=[],Object.entries(e).map(function(e){var e=function(e){if(Array.isArray(e))return e}(e=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(e)||function(e){if(e){if("string"==typeof e)return Ts(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ts(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=e[0],e=e[1];"string"==typeof e?n.push(r(t,e)):e.forEach(function(e){n.push(r(t,e))})}),t.register("provide prebid adUnits",function(){return n}))}function Rs(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ds(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Rs(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Rs(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}ft.vendorIds={gdpr:[76]},Cs.vendorIds={gdpr:[490]};var Us=1580<(0,T.ap)().width;function Ms(e){var t,r=e.broker,n=(0,I.U2)("plugins.bidders.rubicon.display.v2",{adUnits:{},wideSkiesAdUnits:{},atf:[]}),o=n.accountId,i=n.siteId,a=n.adUnits,e=n.wideSkiesAdUnits,s=n.atf,s=new Set(s);(0,he.xb)(a)||(t=Yi("rubicon",a=Us&&e?Ds(Ds({},a),e):a,function(e,t){var r={area:[j.g.adAreaId]};j.g.gs_channels&&(r.grapeshot=j.g.gs_channels);r={zoneId:e.split(" ")[0],inventory:r,siteId:i.toString(),accountId:o.toString()};return s.has(t)&&(r.position="atf"),r}),r.register("provide prebid adUnits",function(){return t}),r.emit("prebid config async update",{rubicon:{singleRequest:!0}}))}function Bs(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e){if(e){if("string"==typeof e)return Ns(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ns(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ls(e){var e=e.broker,r=[],a=(0,I.U2)("plugins.rubicon.skin",{});a.adUnits&&a.adUnits.length&&(function(){var e,t=Bs(a.adUnits);try{for(t.s();!(e=t.n()).done;){var r,n=Bs(e.value.bids);try{for(n.s();!(r=n.n()).done;){var o,i=r.value;"rubicon"===i.bidder&&((o=(0,he.ns)(["params","inventory"],i)).area=[j.g.adAreaId],j.g.gs_channels&&(o.grapeshot=j.g.gs_channels))}}catch(e){n.e(e)}finally{n.f()}}}catch(e){t.e(e)}finally{t.f()}}(),r=a.adUnits.reduce(function(t,e){return e.bids&&e.bids.forEach(function(e){e.params&&e.params.zoneId&&t.push(e.params.zoneId)}),t},[]),e.register("provide prebid adUnits",function(){return a.adUnits})),e.register("prebid reduce bidderSettings",function(e){return e.rubicon||(e.rubicon={}),e.rubicon.adserverTargeting||(e.rubicon.adserverTargeting=[]),e.rubicon.adserverTargeting.push({key:"hb_skin",val:function(t){var e;return!!(e="rubicon"===t.bidderCode&&"billboard"===t.adUnitCode?r.find(function(e){return t.ad&&-1!==t.ad.indexOf(e)}):e)}}),e})}function qs(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function zs(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?qs(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):qs(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Vs(e){var t,r=e.getConfig,n=e.broker,o=1580<(0,T.ap)().width,e=r("plugins.bidders.rubiMM.display",{adUnits:{},wideSkiesAdUnits:[]}),i=e.accountId,a=e.siteId,r=e.adUnits,e=e.wideSkiesAdUnits;(0,he.xb)(r)||(t=Yi("rubi_mm",r=o&&e?zs(zs({},r),e):r,function(e){var t={area:[j.g.adAreaId]};return j.g.gs_channels&&(t.grapeshot=j.g.gs_channels),{zoneId:e.split(" ")[0],inventory:t,siteId:a.toString(),accountId:i.toString()}}),n.register("provide prebid adUnits",function(){return t}),n.register("provide bidder alias",function(){return{adapterName:"rubicon",aliasedName:"rubi_mm"}}),n.emit("prebid config async update",{rubi_mm:{singleRequest:!0}}))}function Fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ws(e){var t=e.getConfig,r=e.broker,e=t("plugins.bidders.rubicon.display.v2",{}),n=e.accountId,o=e.siteId;Xi({broker:r,getConfig:t,bidder:"rubi_ttd",adapterName:"rubicon",aliasedName:"rubi_ttd",getBidsParams:function(e){var t,e=(function(e){if(Array.isArray(e))return e}(t=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),1!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(t)||function(e){if(e){if("string"==typeof e)return Fs(e,1);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Fs(e,1):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],t={area:[j.g.adAreaId]};return j.g.gs_channels&&(t.grapeshot=j.g.gs_channels),{zoneId:e,inventory:t,siteId:"".concat(o),accountId:"".concat(n)}},asyncUpdate:{singleRequest:!0}})}function Gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Ms.vendorIds={gdpr:[52]},Ls.vendorIds={gdpr:[52]},Vs.vendorIds={gdpr:[79]},Ws.vendorIds={gdpr:[21]};var Hs=/\s*,\s*/g,Ks=(0,I.U2)("plugins.sharethrough.adUnits",[]);function $s(e){e=e.broker;e.register("prebid reduce bidderSettings",function(e){return e.sharethrough||(e.sharethrough={}),e.sharethrough.adserverTargeting||(e.sharethrough.adserverTargeting=[]),e.sharethrough.adserverTargeting.push({key:"hb_size",val:function(e){var t=(0,A.get)(e.adUnitCode);return t?Zs(function(e){var t,r,n=0,o=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e){if(e){if("string"==typeof e)return Gs(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Gs(e,void 0):void 0}}(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(e.size);try{for(o.s();!(r=o.n()).done;){var i,a=r.value;"string"==typeof a||n<(i=a[0]*a[1])&&(t=a,n=i)}}catch(e){o.e(e)}finally{o.f()}if(!t)throw new Error("Cannot get largest size, as there isnt any defined pixel size. Sizes are: ".concat(JSON.stringify(e.size)));return t}(t)):e.size}}),e}),e.register("provide prebid adUnits",Js)}function Ys(e){return e=(t=e).indexOf("x"),[t.substring(0,e),t.substring(e+1)].map(Number);var t}var Js=function(){return Ks.map(function(e){var t=Xs(e.sizes);return{code:e.pos,labelsAny:e.labelsAny||[],sizes:t,mediaTypes:{banner:{sizes:t}},bids:[{bidder:"sharethrough",params:{pkey:e.placementKey}}]}})},Xs=function(e){return e.split(Hs).map(Ys)},Zs=function(e){return e.join("x")};function Qs(e){var t=e.broker,r=(0,e.getConfig)("plugins.bidders.teads.display",{adUnits:{}}).adUnits;t.register("provide prebid adUnits",function(){return Yi("teads",r,function(e){e=e.split(/[ ]+/);return{placementId:e[0],pageId:e[1]}})})}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tc(e){Xi({broker:e.broker,getConfig:e.getConfig,configKeys:"plugins.bidders.triplelift.display",bidder:"triplelift",getBidsParams:function(e){return{inventoryCode:(t=1,(function(e){if(Array.isArray(e))return e}(e=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ec(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ec(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0])};var t}})}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nc(e){var t=e.broker,o=(0,e.getConfig)("plugins.bidders.verizon.display",{}),r=o.adUnits&&Object.entries(o.adUnits).map(function(e){var t,r,n=function(e){if(Array.isArray(e))return e}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return rc(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?rc(e,2):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return t=n[0],e=n[1],r=o.dcn,n=o.posPrefix,{code:t,bids:[{bidder:"aol",params:{dcn:r,pos:"".concat(n,"_").concat(t)}}],mediaTypes:{banner:{sizes:e}}}});r&&0<r.length&&t.register("provide prebid adUnits",function(){return r})}function oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ic(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function ac(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){ic(n,t,r,o,i,"next",e)}function i(e){ic(n,t,r,o,i,"throw",e)}o(void 0)})}}function sc(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function cc(e){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uc(e){var t=e.broker,a=e.getConfig,e=e.log,s=Ka();e("permutive segments:",s);var c,r;t.register("provide video adUnits",(c=regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t){var r=a("plugins.bidders.appnexus.video",{adUnits:{}}),n=a("plugins.slots.".concat(e,".v2")),o="",i={area:[j.g.adAreaId]};if(j.g.gs_channels&&(i.grapeshot=j.g.gs_channels),i.p_standard=s,r.adUnits[e]&&"object"===cc(r.adUnits[e])&&r.adUnits[e][t?"autoplay":"ctp"])o=r.adUnits[e][t?"autoplay":"ctp"];else{if(!r.adUnits[e]||"string"!=typeof r.adUnits[e])return{};o=r.adUnits[e]}e=o.trim().replace(/ +/," ").split(" "),o=parseInt(e[0]),e=parseInt(e[1]);return{code:n.code,mediaTypes:n.mediaTypes,bids:[{bidder:"appnexus",params:{accountId:o,placementId:e,keywords:i,video:{skipable:!1,playback_methods:t?["auto_play_sound_off"]:["click_to_play"]}}}]}}(t,r),e.abrupt("return",n);case 2:case"end":return e.stop()}},e)}),r=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=c.apply(e,a);function o(e){sc(n,t,r,o,i,"next",e)}function i(e){sc(n,t,r,o,i,"throw",e)}o(void 0)})},function(e,t){return r.apply(this,arguments)}))}$s.vendorIds={gdpr:[80]},Qs.vendorIds={gdpr:[132]},tc.vendorIds={gdpr:[28]},nc.vendorIds={gdpr:[25]},q("bidders.adform.video",{run:function(e){var t=e.broker,r=e.getConfig,n=e.log;n.info("enabled"),t.register("provide video adUnits",function(e){var t=r("plugins.bidders.adform.video.".concat(e));if(n.info("code",e),n.info("mid",t),!t)return n.warn("no mid found for pos ".concat(e)),{};t={bids:[{bidder:"adform",params:{mid:t}}]};return n.info("providing ad unit",t),t})},vendorIds:{gdpr:[50]}}),q("bidders.video.rubiMM",{run:function(e){var t=e.broker,o=e.getConfig,i=e.log,a=o("plugins.bidders.rubiMM.video.accountId"),s={area:[j.g.adAreaId]};j.g.gs_channels&&(s.grapeshot=j.g.gs_channels),a?(t.register("provide bidder alias",function(){return{adapterName:"rubicon",aliasedName:"rubi_mm"}}),t.register("prebid reduce bidderSettings",function(e){return e.rubi_mm={adserverTargeting:[{key:"hb_vast",val:function(e){return e.impression_id}}]},e}),t.register("provide video adUnits",function(e,t){var r="video"===e?t?"video.autoplay":"video.ctp":e,n=o("plugins.bidders.rubiMM.video.adUnits.".concat(r));if(!n)return i.warn("config for ".concat(r," does not exist")),{};n=function(e){if(Array.isArray(e))return e}(t=n.split(/\s+/,2))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(t)||function(e){if(e){if("string"==typeof e)return oc(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oc(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=n[0],n=n[1];if(!t)return i.warn("No site id for ".concat(r)),{};if(!n)return i.warn("No zone id for ".concat(r)),{};e=o("plugins.slots.".concat(e,".v2")),e={language:"en",playerWidth:e.mediaTypes.video.playerSize[0],playerHeight:e.mediaTypes.video.playerSize[1],size_id:201},e=[{bidder:"rubi_mm",params:{accountId:a,inventory:s,siteId:Number(t),zoneId:Number(n),video:e}}];return i("providing auction info",e),{bids:e}})):i.warn("no account id set")},vendorIds:{gdpr:[52]}}),q("bidders.video.spotx",{run:function(e){var r=e.broker,s=e.getConfig,c=e.log;function o(){return(o=ac(regeneratorRuntime.mark(function e(t,r,n,o){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=s("plugins.bidders.spotx.video.".concat(a="jwplayer"===t?"chromeless":"video"===t?r?"autoplay":"ctp":null))){e.next=5;break}return c.warn("no channel id found for pos ".concat(a).concat(a!==t?" (".concat(t,")"):"")),e.abrupt("return",{});case 5:return e.t0=i,e.next=8,function(){return u.apply(this,arguments)}(o);case 8:return e.t1=e.sent,e.t2="".concat(location.protocol,"//").concat(location.hostname).concat(location.pathname),e.t3={ad_unit:"instream",channel_id:e.t0,custom:e.t1,page:e.t2},e.t4={bidder:"spotx",params:e.t3},a=[e.t4],c.info("providing auction info",a),e.abrupt("return",{bids:a});case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function u(){return(u=ac(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=he.jF,e.next=4,(0,M.yq)(1e3,r.invoke("get IrisTV tags",t),"Failed to get IrisTV tags in 500ms");case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1,"context","iris_context"));case 8:return e.prev=8,e.t2=e.catch(0),c.error(e.t2),e.abrupt("return",{});case 12:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}r.register("provide video adUnits",function(e,t,r,n){return o.apply(this,arguments)})},vendorIds:{gdpr:[165]}}),uc.vendorIds={gdpr:[32]};var nt=j(9208),dc=j.n(nt);function lc(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function fc(e){var s,r,t=e.broker,i=e.getConfig,a=i("plugins.bidders.ix.video.adUnits",[]);t.register("provide video adUnits",(s=regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T.SP.ix_sandbox&&pbjs.setConfig({ix:{sandboxMode:!0}}),n=i("plugins.slots.".concat(t,".v2.mediaTypes.video"),{}),e.prev=2,o=i("plugins.bidders.ix.video.default",{}),e.abrupt("return",P()({},Qi(i,"ix",a,t,r,function(e){return{siteId:e[0],size:n.playerSize||[636,358],video:{startdelay:0,mimes:dc()(o,"mediaTypes.video.mimes",["video/mp4","video/webm","application/javascript"]),minduration:dc()(o,"mediaTypes.video.minduration",0),maxduration:n.maxduration||61,protocols:dc()(o,"mediaTypes.video.protocols",n.protocols||[1,2,3,4,5,6]),api:dc()(o,"mediaTypes.video.api",n.api||[1,2])}}}),o));case 7:e.prev=7,e.t0=e.catch(2),console.log("[IX Video] transform error ",e.t0);case 10:case"end":return e.stop()}},e,null,[[2,7]])}),r=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){lc(n,t,r,o,i,"next",e)}function i(e){lc(n,t,r,o,i,"throw",e)}o(void 0)})},function(e,t){return r.apply(this,arguments)}))}function pc(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function gc(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?pc(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):pc(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function mc(e){var t=e.broker,n=e.getConfig,o=e.log;o.info("enabled"),t.register("provide video adUnits",function(e){var t=n("plugins.bidders.mediagrid.video.".concat(e));if(o.info("code",e),o.info("uid",t),!t)return o.warn("no uid found for pos ".concat(e)),{};var r=n("plugins.slots.".concat(e,".v2"));if(!r)return o.warn("no template found for pos ".concat(e)),{};t=gc(gc({},r),{},{mediaTypes:gc(gc({},r.mediaTypes),{},{video:gc(gc({},r.mediaTypes.video),{},{minduration:n("plugins.bidders.mediagrid.video.minduration",5)})}),bids:[{bidder:"grid",params:{uid:t}}]});return o.info("providing ad unit",t),t})}function yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hc(e){var t=e.broker,i=e.getConfig,a=i("plugins.bidders.oath.video",{pubId:"MailOnline"});t.register("provide video adUnits",function(e){var t=i("plugins.slots.".concat(e,".v2"),null);if(t&&t.code&&t.mediaTypes&&t.mediaTypes&&t.mediaTypes.video&&t.mediaTypes.video.playerSize&&2===t.mediaTypes.video.playerSize.length&&t.mediaTypes.video.context){var r=t,n=function(e){if(Array.isArray(e))return e}(o=t.mediaTypes.video.playerSize)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(o)||function(e){if(e){if("string"==typeof e)return yc(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?yc(e,2):void 0}}(o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],n=n[1];return r.bids=[{bidder:"oneVideo",params:{video:{playerWidth:o,playerHeight:n,mimes:["video/mp4","application/javascript"],protocols:[1,2,3,4,5,6],api:[1,2],delivery:[2]},pubId:a.pubId}}],r}T.SP.oathVideo&&console.log("Video adUnit misconfigured for pos: ".concat(e),t)})}function vc(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function bc(e){return(bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wc(e){var s,r,t=e.broker,a=e.getConfig;t.register("provide video adUnits",(s=regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t){var r=a("plugins.bidders.openx.video",{adUnits:{}}),n=a("plugins.slots.".concat(e,".v2")),o="",i=r.delDomain;if(r.adUnits[e]&&"object"===bc(r.adUnits[e])&&r.adUnits[e][t?"autoplay":"ctp"])o=r.adUnits[e][t?"autoplay":"ctp"];else{if(void 0===r.adUnits[e])return{};o=r.adUnits[e].toString()}return{code:n.code,mediaTypes:n.mediaTypes,bids:[{bidder:"openx",params:{unit:o,delDomain:i,openrtb:{imp:[{video:{mimes:["video/x-ms-wmv","video/mp4"]}}]}}}]}}(t,r),e.abrupt("return",n);case 2:case"end":return e.stop()}},e)}),r=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){vc(n,t,r,o,i,"next",e)}function i(e){vc(n,t,r,o,i,"throw",e)}o(void 0)})},function(e,t){return r.apply(this,arguments)}))}function Sc(e){var t=e.broker,n=e.getConfig,o=n("plugins.bidders.pubmatic.video.publisherId"),i=n("plugins.bidders.pubmatic.video.adUnits");t.register("provide video adUnits",function(e,t,r){r=function(e,t,r,n){if(e){r=t.includes("jwplayer")?0===n?e[t].preroll:e[t].midroll:e[t][r?"autoplay":"ctp"];return r&&r.trim().replace(/\s+/,"@")}}(i,e,t,r),e={mimes:n("plugins.slots.".concat(e,".v2")).mediaTypes.video.mimes};return r?{bids:[{bidder:"pubmatic",params:{publisherId:o,adSlot:r,video:e}}]}:{}})}function _c(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Oc(e){return(Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ic(e){var s,r,t=e.broker,a=e.getConfig;t.register("provide video adUnits",(s=regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t){var r=a("plugins.bidders.rubicon.video",{adUnits:{}}),n=a("plugins.slots.".concat(e,".v2")),o="",i={area:[j.g.adAreaId]};if(j.g.gs_channels&&(i.grapeshot=j.g.gs_channels),r.adUnits[e]&&"object"===Oc(r.adUnits[e])&&r.adUnits[e][t?"autoplay":"ctp"])o=r.adUnits[e][t?"autoplay":"ctp"];else{if(!r.adUnits[e]||"string"!=typeof r.adUnits[e])return{};o=r.adUnits[e]}t=o.trim().replace(/ +/," ").split(" "),e=r.accountId,o=parseInt(t[0]),r=parseInt(t[1]),t={language:"en",playerWidth:n.mediaTypes.video.playerSize[0],playerHeight:n.mediaTypes.video.playerSize[1],size_id:201};return{code:n.code,mediaTypes:n.mediaTypes,bids:[{bidder:"rubicon",params:{accountId:e,siteId:o,zoneId:r,inventory:i,video:t}}]}}(t,r),e.abrupt("return",n);case 2:case"end":return e.stop()}},e)}),r=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){_c(n,t,r,o,i,"next",e)}function i(e){_c(n,t,r,o,i,"throw",e)}o(void 0)})},function(e,t){return r.apply(this,arguments)})),t.register("prebid reduce bidderSettings",function(e){return e.rubicon||(e.rubicon={}),e.rubicon.adserverTargeting||(e.rubicon.adserverTargeting=[]),e.rubicon.adserverTargeting.push({key:"hb_vast",val:function(e){return e.impression_id}}),e})}fc.vendorIds={gdpr:[10]},mc.vendorIds={gdpr:[686]},hc.vendorIds={gdpr:[25]},wc.vendorIds={gdpr:[69]},Sc.vendorIds={gdpr:[76]},Ic.vendorIds={gdpr:[52]};var Ec=function(r){for(var e=arguments.length,n=new Array(1<e?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return new Promise(function(e){var t;return(t=j.g).__tcfapi.apply(t,[r,2,function(){return e.apply(void 0,arguments)}].concat(n))})};function Ac(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function kc(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Ac(n,t,r,o,i,"next",e)}function i(e){Ac(n,t,r,o,i,"throw",e)}o(void 0)})}}var xc=j.g.adverts.startTime,Pc=[229,2292,2392,3,1584,2198,1964,1765,1633,11,236,733,15,2044,1040,2090,1268,1232,2664,2710,1671,2366,1152,867,2177,1716,22,1284,1496,2441,2176,624,2493,35,1960,802,827,1577,1514,1642,429,2614,359,2645,43,2681,46,432,1375,2214,931,55,2276,2222,2202,932,1188,1845,1248,57,2629,2511,574,2141,938,2315,2678,2771,2271,66,1678,2532,70,1863,1929,2658,7,2670,1517,2357,2238,1732,2662,1750,2646,1409,1301,80,1608,2406,83,1451,2140,61,991,1192,93,1834,2003,2596,1547,864,2526,1858,571,2387,1987,2109,1063,2699,2064,2647,2663,1843,108,1099,2605,1166,2062,122,1878,124,2786,2370,2453,987,440,2107,2264,131,2310,1703,135,1844,136,1896,1669,1097,1252,2335,2772,595,62,2622,143,144,316,2334,147,2405,2563,153,154,1345,2103,2253,2504,550,829,159,1525,161,559,2320,165,2133,1866,167,2571,2373,2415,2685,171,2669,2262,317,2765,2425,178,2572,2496,311,2012,1225,2559,2305,125,776,184,1276,820,188,2601,797,537,1329,192,817,2147,1899,1880,2575,2682,2084,196,575,492,1548,1204,202,1782,89,2440,209,211,1810,1365,2497,218,1613,1100,2727,955,221,1215,350,2584,1705,1298,1220,2586,1978,230,2472,1720,2779,2564,1745,2072,2506,2166,1201,2095,2219,2767,1832,239,241,1275,2295,149,1677,338,1735,2705,2282,126,253,1575,1162,1172,255,588,2251,2597,48,259,2673,266,1631,1837,2279,2739,271,2224,1760,274,1583,2225,2039,1236,2510,1674,1968,2186,1455,1883,1598,1003,1739,286,2684,2689,609,1423,1230,1403,1799,291,2661,780,839,12,2411,1503,2027,1226,1667,1733,294,1962,2336,1905,1312,1211,2414,2468,1067,723,1095,2038,2568,523,568,1603,1027,1313,308,436,313,2205,725,1052,1416,590,1780,591,576,2376,1250,310,1053,327,303,1898,1651,1362,1653,2555,1922,2462,1449,2610,1344,2306,2604,2517,1570,336,2464,2612,926,1205,1051,2477,2579,2121,1047,2247,2583,348,1942,1882,922,592,1212,2777,2531,358,2325,2290,1682,2437,2552,367,363,2621,1859,2068,2299,2778,1660,2079,1025,1356,2768,2115,2595,371,2609,1892,2686,2467,2359,1171,384,1648,1725,134,2544,385,2783,1024,389,2377,2407,2127,2780,1028,394,162,2447,2657,2628,2145,398,899,2394,1415,782,2435,2569,2459,1928,407,2498,340,1791,415,737,1902,2410,2059,1943,2527,414,2358,1721,2170,2035,1520,1029,1034,1126,2643,1048,2403,430,1127,2649,2216,976,1870,1468,2311,1419,979,1591,438,314,2652,2179,2709,1652,442,2427,2382,1072,2354,445,448,1934,2636,2234,449,2137,2691,1307,2706,2534,1411,453,2100,1753,459,2542,2278,2676,2312,2400,2052,2802,424,2567,2223,1665,2346,86,2192,1149,2714,2656,2088,2650,1638,1579,1684,1911,2078,1794,1944,1840,479,2770,2499,370,393,985,2634,486,1227,1241,2056,1958,2183,933,1107,495,494,1054,2695,2461,2156,2070,1626,1170,2220,503,505,2416,1786,510,1831,2481,2651,2690,853,2343,2113,2227,482,397,2677,2776,1800,981,2512,1512,2492,2171,2150,1889,528,2486,1509,1286,2624,1872,2418,2698,2784,1033,2758,540,1555,1722,2422,821,585,798,1442,323,2331,2337,1456,560];function jc(){return(jc=kc(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[21,25,40,79,115,165,264],e.t0=Set,e.next=4,Ec("consentedVendors");case 4:e.t1=e.sent,r=new e.t0(e.t1),t.map(function(e){return r.has(e)}).every(function(e){return e})&&((new j.g.Image).src="//sync.search.spotxchange.com/partner?source=86983");case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tc(e){var g=e.broker,m=e.getConfig,y=e.log,h=m("plugins.bidders.spotx.video.autoplay"),e=m("cmp.apiHandler"),t=["__tcfapi"].includes(e)&&j.g[e],v=t?Ec("getTCData"):Promise.resolve();m("plugins.spotx.enableCpsValues",!0)&&(window.__gcp=Pc);var b=g.invoke("load script","//js.spotx.tv/directsdk/v1/".concat(h,".js"),"SpotX"),w=new Promise(function(r){var n=g.on("ad rendered",kc(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.getElementsByClassName("video-ads-container"))&&t.length&&(n.cancel(),r(t[0]));case 2:case"end":return e.stop()}},e)})))});g.register("get video tags",kc(regeneratorRuntime.mark(function e(){var t,r,n,o,i,a,s,c,u,d,l,f,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(t=0<p.length&&void 0!==p[0]?p[0]:{}).platform,n=t.screen,u=t.offset,o=void 0===u?0:u,i=t.adEl,a=t.autoplay,t.videoAdServerUrl,s=t.videoEl,c=t.slot,u=t.excludeSpotX,t.auctionId,u)return e.abrupt("return");e.next=3;break;case 3:if(h="jwplayer"!==c.pos?m("plugins.bidders.spotx.video.".concat(a?"autoplay":"ctp")):m("plugins.bidders.spotx.video.chromeless")){e.next=7;break}return y("[error] Missing SpotX configuration"),e.abrupt("return",{});case 7:if(j.g.SpotX){e.next=10;break}return e.next=10,b;case 10:if(i){e.next=14;break}return e.next=13,w;case 13:i=e.sent;case 14:return d={},j.g.gs_channels&&(d.grapeshot=j.g.gs_channels),j.g.adAreaId&&(d.area=j.g.adAreaId),d={hide_skin:!0,autoplay:a,content_width:n.width,content_height:n.height,channel_id:h,custom:d,slot:i,video_slot:s||i.parentNode.getElementsByTagName("video")[0]||i.parentNode.parentNode.getElementsByTagName("video")[0],check_gcp:!0},e.next=20,v;case 20:return(f=e.sent)&&(y("adding user consent data"),d.ados={regs:{gdpr:1},user:{consent:f.tcString}}),l={},f=new j.g.SpotX.DirectAdOS(d),e.prev=24,e.next=27,f.getAdServerKVPs();case 27:l=e.sent,f=Date.now()-xc,g.emit("bid",c.pos,{platform:r,offset:o,bidder:"spotx",cpm:100*l.spotx_bid,timeToBid:f}),e.next=34;break;case 32:e.prev=32,e.t0=e.catch(24);case 34:if((0,he.xb)(l))return e.abrupt("return",{});e.next=38;break;case 38:return e.abrupt("return",{cust_params:l});case 39:case"end":return e.stop()}},e,null,[[24,32]])}))),setTimeout(kc(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&function(){jc.apply(this,arguments)}();case 1:case"end":return e.stop()}},e)})),1e3)}function Cc(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Rc(e){var s,r,t=e.broker,n=e.getConfig,o=n("plugins.bidders.telariaVideo",{adUnits:{}}).adUnits;t.register("provide video adUnits",(s=regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qi(n,"telaria",o,t,r,function(e){return{supplyCode:e[0],adCode:e[1]}}));case 1:case"end":return e.stop()}},e)}),r=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Cc(n,t,r,o,i,"next",e)}function i(e){Cc(n,t,r,o,i,"throw",e)}o(void 0)})},function(e,t){return r.apply(this,arguments)}))}Tc.vendorIds={gdpr:[165]},Rc.vendorIds={gdpr:[202]};var Dc=j(2889);function Uc(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}var Mc,Bc,Nc=(Mc=regeneratorRuntime.mark(function e(t){var n,i,r,o,a,s,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){e=e.adserverTargeting;return delete e.konduit_cache_key,delete e.konduit_id,i("konduit key values",e),{cust_params:e}},n=t.broker,i=t.log,r=t.getConfig,r=r("konduit.id","5ed6500c9166db0c4e9556ad"),o=new Set(["video","jwplayer"]),a={},c=function(e,t){return"".concat(e,"-").concat(t)},u=function(r,n,o){return function(e,t){e?i.warn("konduit erorrs",e):(i("bids processed:",r,[t]),t.forEach(function(e){return n.push(s(e))})),d(o)}},d=function(e){i("closing stream for:",e),a[e].push(null),delete a[e]},n.registerStream("get video tags",function(e){var t=e.slot,r=e.offset,t=t.pos,t=c(t,void 0===r?0:r);if(i("get video tags for:",t),!a[t]){r=a[t]=(0,Dc.KC)();return(0,Dc.TS)([r,n.openStream("konduit get video tags",e)])}i.error('Stream already existing for "'.concat(t,"', bailing"))}),n.register("prebid video auction started",function(e,t,r){t=c(t,r),r=a[t];(a[e]=r).bids=[],delete a[t],i("auction started:",{key:t,auctionId:e})}),n.on("prebid video auction ended",function(e,t){i("prebid video auction ended",t);var r=a[t];if(r){if(1!==e.length)throw d(t),new Error("No support for more than 1 unit per auction");var n=e[0];i("processing bids for:",n,t,r.bids),j.g.pbjs.adServers.konduit.processBids({adUnitCode:n,bids:r.bids,enableSendAllBids:!0,callback:u(n,r,t)})}else i("no stream for:",{adUnitCodes:e,auctionId:t})}),e.next=13,n.until("prebid loaded");case 13:j.g.pbjs.setConfig({konduit:{konduitId:r}}),j.g.pbjs.enableAnalytics({provider:"konduit"}),j.g.pbjs.onEvent("bidResponse",function(e){o.has(e.adUnitCode)&&(i("bidResponse",e),a[e.auctionId].bids.push(e))});case 16:case"end":return e.stop()}},e)}),Bc=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=Mc.apply(e,a);function o(e){Uc(n,t,r,o,i,"next",e)}function i(e){Uc(n,t,r,o,i,"throw",e)}o(void 0)})},function(e){return Bc.apply(this,arguments)});function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qc(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function zc(e){var s,r,t=e.broker,c=e.getConfig,n=c("plugins.bidders.tripleliftVideo",{adUnits:{jwplayer:"dailymail_prebid_commercial_player_ctp_intstream",video:{ctp:"dailymail_prebid_editorial_player_ctp_intstream",autoplay:"dailymail_prebid_editorial_player_ap_intstream"}}}).adUnits;t.register("provide video adUnits",(s=regeneratorRuntime.mark(function e(a,t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qi(c,"triplelift",n,a,t,function(e){var t,r=c("plugins.slots.".concat(a,".v2"),{mediaTypes:{video:{api:[1,2],mimes:["video/mp4","application/javascript"],playerSize:[636,358],protocols:[1,2,3,4,5,6]}}}).mediaTypes.video,n=r.mimes,o=r.protocols,i=r.api,t=(t=r.playerSize,r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Lc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lc(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],t=t[1];return{inventoryCode:e[0],video:{mimes:n,protocols:o,api:i,w:r,h:t}}}));case 1:case"end":return e.stop()}},e)}),r=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){qc(n,t,r,o,i,"next",e)}function i(e){qc(n,t,r,o,i,"throw",e)}o(void 0)})},function(e,t){return r.apply(this,arguments)}))}zc.vendorIds={gdpr:[28]};var Vc=j(3624);var Fc=function(e,t){return(Fc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Wc(e,t){function r(){this.constructor=e}Fc(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function Gc(e){return"function"==typeof e}var Hc=!1,Kc={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,Hc=e},get useDeprecatedSynchronousErrorHandling(){return Hc}};function $c(e){setTimeout(function(){throw e},0)}var Yc={closed:!0,next:function(e){},error:function(e){if(Kc.useDeprecatedSynchronousErrorHandling)throw e;$c(e)},complete:function(){}},Jc=Array.isArray||function(e){return e&&"number"==typeof e.length};function Xc(e){return null!==e&&"object"==typeof e}var Zc=(eu.prototype=Object.create(Error.prototype),eu),ft=(Qc.prototype.unsubscribe=function(){var t;if(!this.closed){var e=this._parentOrParents,r=this._ctorUnsubscribe,n=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Qc)e.remove(this);else if(null!==e)for(var i=0;i<e.length;++i)e[i].remove(this);if(Gc(n)){r&&(this._unsubscribe=void 0);try{n.call(this)}catch(e){t=e instanceof Zc?tu(e.errors):[e]}}if(Jc(o))for(var i=-1,a=o.length;++i<a;){var s=o[i];if(Xc(s))try{s.unsubscribe()}catch(e){t=t||[],e instanceof Zc?t=t.concat(tu(e.errors)):t.push(e)}}if(t)throw new Zc(t)}},Qc.prototype.add=function(e){var t,r=e;if(!e)return Qc.EMPTY;switch(typeof e){case"function":r=new Qc(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;r instanceof Qc||(t=r,(r=new Qc)._subscriptions=[t]);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var n=r._parentOrParents;if(null===n)r._parentOrParents=this;else if(n instanceof Qc){if(n===this)return r;r._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return r;n.push(this)}n=this._subscriptions;return null===n?this._subscriptions=[r]:n.push(r),r},Qc.prototype.remove=function(e){var t=this._subscriptions;!t||-1!==(e=t.indexOf(e))&&t.splice(e,1)},Qc.EMPTY=((gt=new Qc).closed=!0,gt),Qc);function Qc(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}function eu(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}function tu(e){return e.reduce(function(e,t){return e.concat(t instanceof Zc?t.errors:t)},[])}var ru,nu,ou="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),iu=(Wc(uu,nu=ft),uu.prototype[ou]=function(){return this},uu.create=function(e,t,r){r=new uu(e,t,r);return r.syncErrorThrowable=!1,r},uu.prototype.next=function(e){this.isStopped||this._next(e)},uu.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},uu.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},uu.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,nu.prototype.unsubscribe.call(this))},uu.prototype._next=function(e){this.destination.next(e)},uu.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},uu.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},uu.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},uu),au=(Wc(cu,ru=iu),cu.prototype.next=function(e){var t;!this.isStopped&&this._next&&(t=this._parentSubscriber,Kc.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e))},cu.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=Kc.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):$c(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;$c(e)}}},cu.prototype.complete=function(){var e,t,r=this;this.isStopped||(e=this._parentSubscriber,this._complete&&(t=function(){return r._complete.call(r._context)},Kc.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,t):this.__tryOrUnsub(t)),this.unsubscribe())},cu.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),Kc.useDeprecatedSynchronousErrorHandling)throw e;$c(e)}},cu.prototype.__tryOrSetError=function(e,t,r){if(!Kc.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return Kc.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0):$c(t),!0}return!1},cu.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},cu),su="function"==typeof Symbol&&Symbol.observable||"@@observable";function cu(e,t,r,n){var o,i=ru.call(this)||this;i._parentSubscriber=e;e=i;return Gc(t)?o=t:t&&(o=t.next,r=t.error,n=t.complete,t!==Yc&&(Gc((e=Object.create(t)).unsubscribe)&&i.add(e.unsubscribe.bind(e)),e.unsubscribe=i.unsubscribe.bind(i))),i._context=e,i._next=o,i._error=r,i._complete=n,i}function uu(e,t,r){var n=nu.call(this)||this;switch(n.syncErrorValue=null,n.syncErrorThrown=!1,n.syncErrorThrowable=!1,n.isStopped=!1,arguments.length){case 0:n.destination=Yc;break;case 1:if(!e){n.destination=Yc;break}if("object"==typeof e){e instanceof uu?(n.syncErrorThrowable=e.syncErrorThrowable,(n.destination=e).add(n)):(n.syncErrorThrowable=!0,n.destination=new au(n,e));break}default:n.syncErrorThrowable=!0,n.destination=new au(n,e,t,r)}return n}function du(e){return e}var lu=(fu.prototype.lift=function(e){var t=new fu;return t.source=this,t.operator=e,t},fu.prototype.subscribe=function(e,t,r){var n=this.operator,r=function(e,t,r){if(e){if(e instanceof iu)return e;if(e[ou])return e[ou]()}return e||t||r?new iu(e,t,r):new iu(Yc)}(e,t,r);if(n?r.add(n.call(r,this.source)):r.add(this.source||Kc.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),Kc.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},fu.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Kc.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(e){for(;e;){var t=e,r=t.closed,n=t.destination,t=t.isStopped;if(r||t)return;e=n&&n instanceof iu?n:null}return 1}(t)?t.error(e):console.warn(e)}},fu.prototype.forEach=function(n,e){var o=this;return new(e=pu(e))(function(e,t){var r=o.subscribe(function(e){try{n(e)}catch(e){t(e),r&&r.unsubscribe()}},t,e)})},fu.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},fu.prototype[su]=function(){return this},fu.prototype.pipe=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 0===e.length?this:(0===(t=e).length?du:1===t.length?t[0]:function(e){return t.reduce(function(e,t){return t(e)},e)})(this)},fu.prototype.toPromise=function(e){var n=this;return new(e=pu(e))(function(e,t){var r;n.subscribe(function(e){return r=e},function(e){return t(e)},function(){return e(r)})})},fu.create=function(e){return new fu(e)},fu);function fu(e){this._isScalar=!1,e&&(this._subscribe=e)}function pu(e){if(!(e=e||(Kc.Promise||Promise)))throw new Error("no Promise impl found");return e}function gu(t,r){return function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new yu(t,r))}}var mu,yu=(bu.prototype.call=function(e,t){return t.subscribe(new hu(e,this.project,this.thisArg))},bu),hu=(Wc(vu,mu=iu),vu.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},vu);function vu(e,t,r){e=mu.call(this,e)||this;return e.project=t,e.count=0,e.thisArg=r||e,e}function bu(e,t){this.project=e,this.thisArg=t}function wu(e,r,n,t){return Gc(n)&&(t=n,n=void 0),t?wu(e,r,n).pipe(gu(function(e){return Jc(e)?t.apply(void 0,e):t(e)})):new lu(function(t){!function e(t,r,n,o,i){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(r,n,i),a=function(){return s.removeEventListener(r,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var c=t;t.on(r,n),a=function(){return c.off(r,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var u=t;t.addListener(r,n),a=function(){return u.removeListener(r,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var d=0,l=t.length;d<l;d++)e(t[d],r,n,o,i)}o.add(a)}(e,r,function(e){1<arguments.length?t.next(Array.prototype.slice.call(arguments)):t.next(e)},t,n)})}var Su,_u,Ou,Iu,Eu,nt=(Wc(Ru,Eu=ft),Ru.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},Wc(Cu,Iu=Ru),Cu.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,e=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(e,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(e,this.id,t),this},Cu.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},Cu.prototype.recycleAsyncId=function(e,t,r){if(null!==(r=void 0===r?0:r)&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},Cu.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;t=this._execute(e,t);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},Cu.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},Cu.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},Cu),gt=(Wc(Tu,Ou=nt),Tu.prototype.requestAsyncId=function(e,t,r){return null!==(r=void 0===r?0:r)&&0<r?Ou.prototype.requestAsyncId.call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},Tu.prototype.recycleAsyncId=function(e,t,r){if(null!==(r=void 0===r?0:r)&&0<r||null===r&&0<this.delay)return Ou.prototype.recycleAsyncId.call(this,e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)},Tu),Au=(ju.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},ju.now=function(){return Date.now()},ju),ft=(Wc(Pu,_u=Au),Pu.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),Pu.delegate&&Pu.delegate!==this?Pu.delegate.schedule(e,t,r):_u.prototype.schedule.call(this,e,t,r)},Pu.prototype.flush=function(e){var t,r=this.actions;if(this.active)r.push(e);else{this.active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=r.shift());if(this.active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}}},Pu),ku=(Wc(xu,Su=ft),xu.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,o=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<o&&(e=r.shift()));if(this.active=!1,t){for(;++n<o&&(e=r.shift());)e.unsubscribe();throw t}},new xu(gt));function xu(){return null!==Su&&Su.apply(this,arguments)||this}function Pu(e,t){void 0===t&&(t=Au.now);var r=_u.call(this,e,function(){return Pu.delegate&&Pu.delegate!==r?Pu.delegate.now():t()})||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}function ju(e,t){void 0===t&&(t=ju.now),this.SchedulerAction=e,this.now=t}function Tu(e,t){var r=Ou.call(this,e,t)||this;return r.scheduler=e,r.work=t,r}function Cu(e,t){var r=Iu.call(this,e,t)||this;return r.scheduler=e,r.work=t,r.pending=!1,r}function Ru(e,t){return Eu.call(this)||this}var Du="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Uu=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};var Mu,Bu,Nu=function(e){if(e&&"function"==typeof e[su])return i=e,function(e){var t=i[su]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Uu(e))return o=e,function(e){for(var t=0,r=o.length;t<r&&!e.closed;t++)e.next(o[t]);e.complete()};if((t=e)&&"function"!=typeof t.subscribe&&"function"==typeof t.then)return r=e,function(t){return r.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,$c),t};var t;if(e&&"function"==typeof e[Du])return n=e,function(t){for(var e=n[Du]();;){var r=void 0;try{r=e.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof e.return&&t.add(function(){e.return&&e.return()}),t};var n,r,o,i,e=Xc(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},Lu=(Wc(zu,Bu=iu),zu.prototype._next=function(e){this.parent.notifyNext(e)},zu.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},zu.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},zu),gt=(Wc(qu,Mu=iu),qu.prototype.notifyNext=function(e){this.destination.next(e)},qu.prototype.notifyError=function(e){this.destination.error(e)},qu.prototype.notifyComplete=function(){this.destination.complete()},qu);function qu(){return null!==Mu&&Mu.apply(this,arguments)||this}function zu(e){var t=Bu.call(this)||this;return t.parent=e,t}function Vu(e,t){if(!t.closed)return e instanceof lu?e.subscribe(t):Nu(e)(t)}var Fu,Wu=(Ku.prototype.call=function(e,t){return t.subscribe(new Gu(e,this.project))},Ku),Gu=(Wc(Hu,Fu=gt),Hu.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t)},Hu.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var r=new Lu(this),t=this.destination;t.add(r),this.innerSubscription=Vu(e,r),this.innerSubscription!==r&&t.add(this.innerSubscription)},Hu.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||Fu.prototype._complete.call(this),this.unsubscribe()},Hu.prototype._unsubscribe=function(){this.innerSubscription=void 0},Hu.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&Fu.prototype._complete.call(this)},Hu.prototype.notifyNext=function(e){this.destination.next(e)},Hu);function Hu(e,t){e=Fu.call(this,e)||this;return e.project=t,e.index=0,e}function Ku(e){this.project=e}function $u(){}var Yu,Ju,Xu=(sd.prototype.call=function(e,t){return t.subscribe(new Zu(e,this.nextOrObserver,this.error,this.complete))},sd),Zu=(Wc(ad,Ju=iu),ad.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},ad.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},ad.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},ad),Qu=(id.prototype.call=function(e,t){var r=new ed(e),e=Vu(this.notifier,new Lu(r));return e&&!r.seenValue?(r.add(e),t.subscribe(r)):r},id),ed=(Wc(od,Yu=gt),od.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},od.prototype.notifyComplete=function(){},od),td=1,rd=Promise.resolve(),nd={};function od(e){e=Yu.call(this,e)||this;return e.seenValue=!1,e}function id(e){this.notifier=e}function ad(e,t,r,n){e=Ju.call(this,e)||this;return e._tapNext=$u,e._tapError=$u,e._tapComplete=$u,e._tapError=r||$u,e._tapComplete=n||$u,Gc(t)?(e._context=e)._tapNext=t:t&&(e._context=t,e._tapNext=t.next||$u,e._tapError=t.error||$u,e._tapComplete=t.complete||$u),e}function sd(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}function cd(e){return e in nd&&(delete nd[e],!0)}function ud(e,t){return(e.clientX-t.clientX)*(e.clientX-t.clientX)+(e.clientY-t.clientY)*(e.clientY-t.clientY)}function dd(e){return e.touches[0]}function ld(e,t,r){e.style.transform="translate(".concat(t,"px, ").concat(r,"px)")}function fd(u,d){return new Promise(function(a){var e=wu(u,"touchstart"),s=wu(document,"touchmove"),c=wu(document,"touchend");e.pipe(function t(o,i){return"function"==typeof i?function(e){return e.pipe(t(function(r,n){return((e=o(r,n))instanceof lu?e:new lu(Nu(e))).pipe(gu(function(e,t){return i(r,e,n,t)}));var e}))}:function(e){return e.lift(new Wu(o))}}(function(e){var t=dd(e);e.preventDefault(),e.stopPropagation();var r,n,o,i,e=c.pipe(gu(function(e){return e.preventDefault()||ud(e.changedTouches[0],t)}),(r=function(e){4e4<=e?(d.userActive(!0),a()):(ld(u,0,0),d.userActive(!0))},function(e){return e.lift(new Xu(r,void 0,void 0))}));return s.pipe(gu(function(e){return{x:(e=dd(e)).clientX-t.clientX,y:e.clientY-t.clientY,distSQ:ud(e,t)}}),(n=e,function(e){return e.lift(new Qu(n))}),(o=ku,void 0===i&&(i=0),function(e){return e.lift(new vd(o,i))}))})).subscribe(function(e){1e4<=e.distSQ?ld(u,e.x,e.y):ld(u,0,0)})})}var pd,gd,md,gt=(Wc(_d,md=nt),_d.prototype.requestAsyncId=function(e,t,r){return null!==(r=void 0===r?0:r)&&0<r?md.prototype.requestAsyncId.call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=(n=e.flush.bind(e,null),o=td++,nd[o]=!0,rd.then(function(){return cd(o)&&n()}),o)));var n,o},_d.prototype.recycleAsyncId=function(e,t,r){if(null!==(r=void 0===r?0:r)&&0<r||null===r&&0<this.delay)return md.prototype.recycleAsyncId.call(this,e,t,r);0===e.actions.length&&(cd(t),e.scheduled=void 0)},_d),yd=(Wc(Sd,gd=ft),Sd.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,o=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<o&&(e=r.shift()));if(this.active=!1,t){for(;++n<o&&(e=r.shift());)e.unsubscribe();throw t}},new Sd(gt)),hd=(Wc(wd,pd=lu),wd.create=function(e,t,r){return new wd(e,t=void 0===t?0:t,r=void 0===r?yd:r)},wd.dispatch=function(e){var t=e.source,e=e.subscriber;return this.add(t.subscribe(e))},wd.prototype._subscribe=function(e){var t=this.delayTime,r=this.source;return this.scheduler.schedule(wd.dispatch,t,{source:r,subscriber:e})},wd),vd=(bd.prototype.call=function(e,t){return new hd(t,this.delay,this.scheduler).subscribe(e)},bd);function bd(e,t){this.scheduler=e,this.delay=t}function wd(e,t,r){void 0===t&&(t=0),void 0===r&&(r=yd);var n=pd.call(this)||this;return n.source=e,n.delayTime=t,n.scheduler=r,!Jc(e=t)&&0<=e-parseFloat(e)+1&&!(t<0)||(n.delayTime=0),r&&"function"==typeof r.schedule||(n.scheduler=yd),n}function Sd(){return null!==gd&&gd.apply(this,arguments)||this}function _d(e,t){var r=md.call(this,e,t)||this;return r.scheduler=e,r.work=t,r}function Od(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Id(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Ed(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Id(n,t,r,o,i,"next",e)}function i(e){Id(n,t,r,o,i,"throw",e)}o(void 0)})}}var Ad,kd,xd,Pd=(xd=Ed(regeneratorRuntime.mark(function e(t,r,n){var o,i,a,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o="chromeless",i={pos:"jw_preroll"},a=t.width,s=t.height,c=t.bannerFallback,c=void 0===c?{}:c,e.next=5,n;case 5:return u=e.sent,u={isMobile:MobileUtils.isMobile(),playerId:"default",preload:"none",initialVideo:!0,syndicationService:null,plugins:{tracking:{disableMolTracking:t.disableMolTracking,channelShortName:t.pageCriteraVideoChannel,sponsored:null,referenceId:"",videoId:"",trackingType:o,recommendationModel:""},"video-advertising-mode":{},"autoplay-next-video":{},"ads-setup":{bidmax:!0,cust_params:i,headerBiddingParams:{platform:"dmplayer",pos:"jwplayer"},schedule:t.schedule,adsEnabled:!0,vpaidEnabled:!0,useIMASDK:t.useImaSdk,adsCancelTimeout:15e3,screen:{width:a,height:s},bannerFallback:!!c.enabled},"related-videos":{videos:u,playlistHistory:!1}}},e.next=9,j.g.DM.molFeVideoplayer.initializeVideo(r,u);case 9:return u=e.sent,e.abrupt("return",u);case 11:case"end":return e.stop()}},e)})),function(e,t,r){return xd.apply(this,arguments)}),jd=(nt=Td,ft=[{key:"handlePlay",value:function(e){this.videoPlayerRef.handlePlay(e)}},{key:"handleAdPlay",value:function(e){this.videoPlayerRef.handleAdPlay(e)}},{key:"handleError",value:function(e){}},{key:"handleRenderMpuAd",value:function(r,n){var o=this,i="mpu_player";this.log("rendering ".concat(i)),r.pauseOnBlur&&this.broker.emit("mpuPlayerDisplayed",!0);var e,t=(e=Ed(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.videoPlayerRef.clearMpuAd(n),o.broker.emit("destroy slot",i),a.removeAttribute("data-adverts-ad"),e.next=5,o.broker.invoke("is page visible?");case 5:if(t=e.sent,r.pauseOnBlur&&!t)return o.log("page not visible... waiting"),e.next=10,o.broker.until("page visible");e.next=10;break;case 10:o.log("restarting player"),r.pauseOnBlur&&o.broker.emit("mpuPlayerDisplayed",!1),o.broker.emit("bannerFallbackAd destroyed");case 13:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),a=document.getElementById(i),s=this.broker.register("get tags",function(e){if(e.slot.pos===i)return s.cancel(),[{offset:n.offset}]});this.broker.emit("slot defined",{pos:i,id:i,parentId:i},a),this.broker.once("ad rendered",i,function(e){e=e.isEmpty;if(o.log("".concat(i," rendered")),e)return o.log("".concat(i," empty")),void t();o.videoPlayerRef.handleMpuAd(n),setTimeout(function(){o.log("destroying ".concat(i)),t()},r.bannerFallback.displayTimeout)})}},{key:"getPlaylistItem",value:function(){return this.player.options_}},{key:"monitorEvents",value:function(){var t=this,e=this.broker,r=this.config,n=r.bannerFallback,o=void 0===n?{}:n,n=r.pauseOnBlur,i=void 0===n||n;e.on("chromeless player event","adPlay",function(e){return t.handleAdPlay(e)}),e.on("chromeless player event","play",function(e){return t.handlePlay(e)}),e.on("chromeless player event","error",function(e){return t.handleError(e)}),r.bannerFallback&&r.bannerFallback.enabled&&e.on("chromeless player event","bannerFallbackAd",function(e){return t.handleRenderMpuAd({bannerFallback:o,pauseOnBlur:i},e)})}},{key:"createPlayerLayout",value:(kd=Ed(regeneratorRuntime.mark(function e(){var t,r,n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.config,t=n.width,r=n.height,n=n.ui,this.timer=+new Date,this.monitorEvents(),this.targetBody=document.createElement("div"),this.targetBody.id="chromelessPlayer",this.targetBody.className="jwplayer_body",this.targetBody.style.width="".concat(t,"px"),this.targetBody.style.height="".concat(r,"px"),this.targetBody.style.background="url(".concat(this.config.ui.backgroundImage,")"),document.body.appendChild(this.targetBody),n={ref:function(e){o.videoPlayerRef=e},containerInitialised:this.containerInitialised,targetBody:this.targetBody,onClose:this.playerRemove,config:{width:t,ui:n},getPlaylistItem:this.getPlaylistItem},this.videoPlayerRef=function(e){var t=e.containerInitialised,r=e.getPlaylistItem,n=e.onClose,o=!0,i=MobileUtils.isMobile()?"touchstart":"click",a=document.createElement("img");a.src="//i.dailymail.co.uk/video/chromeless_closer.png";var s=document.createElement("div");s.id="closeButton",s.appendChild(a),s.addEventListener(i,function(e){e&&e.preventDefault(),n()}),(e=document.createElement("video")).setAttribute("defaultMuted","defaultMuted"),e.setAttribute("muted","muted");var c=document.createElement("div");c.id="playerDiv",c.classList.add("vjs-video-container"),c.classList.add("vjs-responsive"),c.style.visibility="hidden",c.appendChild(e);var u=document.createElement("div");u.id="readMoreWrapper",u.addEventListener(i,function(e){e.preventDefault(),n(),j.g.top.location=r().linkBaseURL+"?ito=chromelessDM_0"}),u.addEventListener("mouseover",function(){g(r().title)}),u.addEventListener("mouseout",function(){f()}),(a=document.createElement("div")).id="mpu_player",a.style.marginTop="0",a.style.left="73px";var d=document.createElement("div");d.classList.add("mpu_player_wrapper"),d.appendChild(a),d.style.display="none",d.addEventListener(i,function(e){e.preventDefault()});var l=document.createElement("div");l.id="outerWrapper",l.addEventListener("mouseover",function(){l.querySelector(".jw-playlist-btn")&&(l.querySelector(".jw-playlist-btn").style.display="none",l.querySelector(".jw-icon-fullscreen").style.display="none")}),l.appendChild(s),l.appendChild(c),l.appendChild(u),l.appendChild(d),t(c,e);var f=(0,Cn.Ds)(function(){u.innerText="Read more"},5e3);return{clearMpuAd:function(){d.style.display="none"},handleAdPlay:function(){o&&p(),u.style.display="none"},handleMpuAd:function(){u.style.display="none",d.style.display="block"},handlePlay:function(){var e=r();o&&p(),g(e.title),u.style.display="inline"},outerWrapper:l,revealPlayer:p};function p(){c.style.visibility="visible",o=!1}function g(e){u.innerText=e,f()}}(n),this.targetBody.appendChild(this.videoPlayerRef.outerWrapper);case 13:case"end":return e.stop()}},e,this)})),function(){return kd.apply(this,arguments)})},{key:"playerRemove",value:function(){this.videoPlayerRef.outerWrapper.parentNode.removeChild(this.videoPlayerRef.outerWrapper),this.targetBody.remove(),this.broker.emit("set slots enabled",["chromeless"],!1),this.broker.emit("send event to bidmax",{type:"custom",payload:{module:"chromeless",event:"close"}})}},{key:"initialisePlayer",value:function(){var n=this;this.broker.emit("set slots enabled",["chromeless"],!0),j.g.DM.later("videoplayer-ready",Ed(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pd(n.playerConfig,n.videoEl,n.playlist);case 2:n.player=e.sent,r=n.config,t=r.delayBeforeMakingPlayerVisible,r=r.nonOptimisedMobileHomePage,setTimeout(function(){n.targetBody.style.visibility="visible",n.broker.emit("send event to bidmax",{type:"custom",payload:{module:"chromeless",event:"open"}})},t),r&&fd(n.targetBody,n.player).then(function(){return n.playerRemove()}),n.broker.emit("chromeless player ready",n.player),function(t,e){e.on("videoAd.start",function(e){t.emit("chromeless player event","adPlay",e)}),e.on("play",function(e){return t.emit("chromeless player event","play",e)}),e.on("error",function(e){return t.emit("chromeless player event","error",e)}),e.on("videoAd.contentPauseRequested",function(e){t.emit("chromeless player event","adPlay",e)}),e.on("videoAd.contentResumeRequested",function(e){t.emit("chromeless player event","play",e)}),e.on("request-reset",function(e){return t.emit("chromeless player event","playlistItem",e)}),e.on("time",function(e){return t.emit("chromeless player event","time",e)}),e.on("videoAd.error",function(e){return t.emit("chromeless player event","adError",e)}),e.on("videoAd.impression",function(e){t.emit("video ad impression",e),t.emit("chromeless player event","adImpression",e)})}(n.broker,n.player);case 8:case"end":return e.stop()}},e)})))}},{key:"containerInitialised",value:(Ad=Ed(regeneratorRuntime.mark(function e(t,r){var n,o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.broker,s=this.config,this.videoEl=r,o=s.width,i=s.height,a=s.videoAdServerUrl,s=s.pageLoadTimeout,n.emit("chromeless videoPlayer container ready",{broker:n,adEl:t,videoEl:r,config:{width:o,height:i,videoAdServerUrl:a,pageLoadTimeout:s}});case 4:case"end":return e.stop()}},e,this)})),function(e,t){return Ad.apply(this,arguments)})}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(nt.prototype,ft),Td);function Td(e,t,r,n){var o=this;!function(e){if(!(e instanceof Td))throw new TypeError("Cannot call a class as a function")}(this),this.broker=e,this.playerConfig=t,this.playlist=r,this.config=function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Od(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Od(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}({},t),this.log=n,this.containerInitialised=this.containerInitialised.bind(this),this.playerRemove=this.playerRemove.bind(this),this.getPlaylistItem=this.getPlaylistItem.bind(this),this.handleRenderMpuAd=this.handleRenderMpuAd.bind(this),e.on("creative updated plugins",function(e){e.hasOwnProperty("chromeless.dmplayer")&&!e["chromeless.dmplayer"]&&o.playerRemove()})}function Cd(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Rd(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Cd(n,t,r,o,i,"next",e)}function i(e){Cd(n,t,r,o,i,"throw",e)}o(void 0)})}}function Dd(){return(Dd=Rd(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt({url:t,timeout:18e3});case 2:return r=e.sent,e.abrupt("return",JSON.parse(r));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ud,Md=(Ud=Rd(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){return Dd.apply(this,arguments)}(t.ui.playlistUrl).catch(function(e){console.log("No jwplayer playlist available due to ",e.message)});case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:return n=r[t.trackingData.videoChannel],n=t.ui.shufflePlaylist?(0,C.TV)(n):n,e.abrupt("return",function(e,t,r,n){return e.filter(function(e){return e.duration<=t.maxVideoDuration}).map(function(e){return{linkBaseURL:e.articleUrl,isMobile:!1,duration:e.duration,src:e.url,source:e.source,playerId:"default",title:e.headline,preload:"none",initialVideo:!1,thumbnail:e.stillImageUrl,poster:t.backgroundImage,syndicationService:!1,plugins:{tracking:{disableMolTracking:r,channelShortName:n,sponsored:null,referenceId:e.id,videoId:e.externalVideoIdent,trackingType:"chromeless",recommendationModel:""},"ads-setup":{adsEnabled:!0,screen:{width:401,height:225},adsCancelTimeout:15e3},"autoplay-inline":{enabled:!1,alwaysOn:!1}},videoId:e.externalVideoIdent,descr:e.headline,referenceId:e.id,grapeshot:{article:{articleURL:e.articleUrl}}}})}(n,t.ui,t.disableMolTracking,t.pageCriteraVideoChannel));case 8:case"end":return e.stop()}},e)})),function(e){return Ud.apply(this,arguments)}),Bd=MobileUtils.isMobile()&&!MobileUtils.isAndroidTablet()&&!MobileUtils.isIPad();function Nd(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Ld(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Nd(n,t,r,o,i,"next",e)}function i(e){Nd(n,t,r,o,i,"throw",e)}o(void 0)})}}function qd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vd(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Fd(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Vd(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Vd(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Wd(){return(0,Vc.GH)()&&Bd&&("desktop"===(0,T.ej)("mol-home")||"true"===(0,T.ej)("mol-desktop"))}var Gd,Hd=(Gd=Ld(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.adEl,o=t.videoEl,c=t.config,i=c.width,a=c.height,s=c.videoAdServerUrl,c=c.pageLoadTimeout,r.emit("start early video bid",{adEl:n,videoEl:o,offset:0,pos:"jwplayer",articleURL:"".concat(j.g.location.protocol,"//").concat(j.g.location.host).concat(j.g.location.pathname),timeout:c,screen:{height:a,width:i},videoAdServerUrl:s,autoplay:!0,excludeSpotX:!1,platform:"dmplayer"});case 3:case"end":return e.stop()}},e)})),function(e){return Gd.apply(this,arguments)}),gt=function(e){var a,t,r,n,o,i,s,c,u,d,l,f=e.broker,p=e.getConfig,g=e.log,m=(o=(t=p)("plugins.slots.jwplayer.v2",{}),i=t("plugins.slots.jwplayer.v2.useIMASSDK",!0),s=t("players.flyoutConfig",{}),c=s.pauseAdsOnBlur,u=s.pauseWhenUserInOtherTab,d=s.pauseWhenUserInOtherApplication,e=(void 0===c||c)&&(void 0===u||u)&&(void 0===d||d),s=o.bannerFallback,c=void 0===s?{}:s,u=o.mediaType&&o.mediaType.video&&o.mediaType.video.playerSize||[401,225],d=qd(c.enabled?c.playerSize:u,2),s=d[0],u=d[1],d=new Set(["news","tvshowbiz","femail","health","sciencetech","travel","money"]).has(j.g.PageCriteria.channel)?j.g.PageCriteria.channel:"news",Fd(Fd({width:s,height:u,delayBeforeMakingPlayerVisible:t("players.chromeless.dmplayer.v2.delayBeforeMakingPlayerVisible",4e3)},o),{},{nonOptimisedMobileHomePage:Wd(),trackingData:{videoChannel:d},schedule:(d=(o=t)("players.chromeless.dmplayer.v2.schedule",[]),r=o("players.chromeless.dmplayer.v2.adUnitName","dm_dmros_ros"),n=o("players.chromeless.dmplayer.v2.adRequestBaseUrl","https://pubads.g.doubleclick.net/gampad/ads"),d.map(function(e){return e.videoAdServerUrl&&e.videoAdServerUrl.iu&&(e.videoAdServerUrl.iu=e.videoAdServerUrl.iu.replace(/(\/mid|\/pre|\/post)/,"/".concat(r,"$1"))),Fd(Fd({},e),{},{videoAdServerUrl:n+"?"+Object.entries(e.videoAdServerUrl).map(function(e){var t=qd(e,2),e=t[0],t=t[1];return e+"="+"".concat(t).replace(/\//g,"%2F")}).join("&")})})),disableMolTracking:t("players.chromeless.dmplayer.v2.disableMolTracking",!0),pageCriteraVideoChannel:j.g.PageCriteria.channel,useImaSdk:i,bannerFallback:c,pauseOnBlur:e})),y=m.ui,h=m.disableMolTracking,v=m.pageCriteraVideoChannel,b=m.trackingData,e=m.bannerFallback,e=void 0===e?{}:e,w=new Promise(function(e){f.once("ad rendered","billboard",function(){return setTimeout(e,500)})});f.on("creative updated plugins",function(e){e.hasOwnProperty("chromeless.dmplayer")&&!e["chromeless.dmplayer"]&&(a=!0)}),e.enabled&&(g("banner fallback enabled"),l={mpu_player:{id:"mpu_player",dynamic:!0,size:[[300,250]]}},f.register("get enabled not-quite-dynamic slots",function(){return Object.keys(l)}),f.register("get not-quite-dynamic extra slot descriptions",function(){return Object.entries(l).map(function(e){e=qd(e,2);return Fd({pos:e[0]},e[1])})})),f.on("plugins enabled",Ld(regeneratorRuntime.mark(function e(){var t,r,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a)return e.abrupt("return");e.next=2;break;case 2:if(t=new Promise(function(t){f.on("chromeless videoPlayer container ready",function(e){Hd(e),t()})}),f.register("get video tags",function(e){var t=e.pos,e=j.g.PageCriteria.channel;if("jwplayer"===t)return{cust_params:{channel:e}}}),i=Md({ui:y,disableMolTracking:h,pageCriteraVideoChannel:v,trackingData:b}),r=new jd(f,m,i,g),j.g.DM.later("DOM_READY",Ld(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.invoke("is page visible?");case 2:e.sent||!m.pauseOnBlur?(g("Page has focus - rendering player"),r.createPlayerLayout()):(g("Waiting for page to focus"),f.once("page visible",function(){g("Page has focus - rendering player"),r.createPlayerLayout()}));case 4:case"end":return e.stop()}},e)}))),n=p("players.chromeless.dmplayer.v2.delayBeforeStartPlayer",2e3),p("plugins.enabled").includes("chromelessWaitForBillboard"))return o=Date.now(),e.next=12,w;e.next=14;break;case 12:i=Date.now()-o,n=n<i?0:n-i;case 14:setTimeout(Ld(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a)return e.abrupt("return");e.next=2;break;case 2:return e.prev=2,e.next=5,t;case 5:r.initialisePlayer(),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),console.log("Unable to start chromeless player due to",e.t0.message),e.t0;case 12:case"end":return e.stop()}},e,null,[[2,8]])})),n);case 15:case"end":return e.stop()}},e)})))};gt.pluginSetup=function(e){var t,r=e.getConfig,n=(e.addPlugins,e.removePlugins),o=r("plugins.enabled");o.includes("chromelessv2.dmplayer")&&(t=!o.includes("players.flyoutManager")&&(j.g.PageCriteria.containsVideo||j.g.document.querySelector('meta[property="og:video"]')),e=r("players.chromeless.dmplayer.v2.domainExclusions",[]),o=r("players.chromeless.dmplayer.v2.articleIdExclusions",[]).map(function(e){return e.toString()}),e=e.length&&(e.includes(j.g.location.hostname)||e.includes(j.g.location.hostname.replace(/www./,"")))||j.g.PageCriteria.articleId&&o.length&&o.includes(j.g.PageCriteria.articleId),o=r("players.chromeless.dmplayer.v2.enableWifiDetection",!1),r=navigator.connection&&"wifi"===navigator.connection.type,(e||t||Bd&&!Wd()||o&&!r||!o&&Bd)&&n(["chromelessv2.dmplayer"]))};var Kd=gt,$d=DM.molFeComponents;function Yd(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Jd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yd(Object(r),!0).forEach(function(e){Xd(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yd(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Xd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zd(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Qd(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Zd(n,t,r,o,i,"next",e)}function i(e){Zd(n,t,r,o,i,"throw",e)}o(void 0)})}}function el(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||tl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){if(e){if("string"==typeof e)return rl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rl(e,t):void 0}}function rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nl(){var t=new Set(dl),e=ll,r=(0,I.U2)("plugins.enabled").filter(function(e){return t.has(e)});(0,I.t8)("plugins.enabled",r),Object.entries(e).forEach(function(e){var t=el(e,2),e=t[0],t=t[1];(0,I.t8)(e,t)})}var ol,il,al,sl,cl,ul,dl=(0,I.U2)("cmp.v2.dissent.pluginsWhitelist",[]),ll=(0,I.U2)("cmp.v2.dissent.forceConfig",{}),fl=["dmgmediaprivacy.co.uk","dmgprivacyint.co.uk","localhost","127.0.0.1"],pl=MobileUtils.isMobile()&&!MobileUtils.isAndroidTablet()&&!MobileUtils.isIPad(),gl={getUSPData:"__cachedUSPData"},ml=(ul=Qd(regeneratorRuntime.mark(function e(t,r,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n||T.cj||r("cmp.isEmbeddedVideo",!1)){e.next=7;break}return e.next=3,fa("rendered");case 3:return o=function(e){function n(){document.body.removeEventListener("click",t)}var t=function(t){var r;!function(e){if(void 0!==e.dataset.cmpNoConsent||/(cookie\s+policy|privacy\s+settings)/i.test(e.textContent))return 1;var t,r=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=tl(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(document.querySelectorAll("*[data-cmp-no-consent]"));try{for(r.s();!(t=r.n()).done;){var n=t.value;if((0,rt.contains)(n,e))return 1}}catch(e){r.e(e)}finally{r.f()}}(t.target)&&(r=function(e){if("function"==typeof Event)return new e.constructor(e.type,e);var t=document.createEvent("Event");return t.initEvent(e.type,e.bubbles,e.cancelable),t}(t),t.preventDefault(),n(),e.emit("extra cmp ui tracking event","site clicked"),fa("consentToAll").then(function(){t.target.dispatchEvent(r)}).catch(function(e){console.error(e),t.target.dispatchEvent(r)}))};return document.body.addEventListener("click",t),n}(t),e.next=6,fa("onUpdate");case 6:o();case 7:case"end":return e.stop()}},e)})),function(e,t,r){return ul.apply(this,arguments)}),yl=(cl=Qd(regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([pa(),ga()]);case 2:n=e.sent,o=el(n,2),n=o[0],o=o[1],n||nl(),ml(t,r,o);case 8:case"end":return e.stop()}},e)})),function(e,t){return cl.apply(this,arguments)}),hl=(sl=Qd(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([pa(),ga()]);case 2:r=e.sent,t=el(r,2),r=t[0],t[1]?localStorage.setItem(la,r?"yes":"no"):localStorage.removeItem(la);case 7:case"end":return e.stop()}},e)})),function(){return sl.apply(this,arguments)}),vl=(al=Qd(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=ya(),e.abrupt("return",Promise.all(Object.entries(gl).map(function(e){var e=el(e,2),n=e[0],o=e[1];return new Promise(function(r){i.a.push([n,null,function(e,t){t&&(localStorage.setItem(o,JSON.stringify(e)),r(Xd({},n,e)))}])})})));case 2:case"end":return e.stop()}},e)})),function(e){return al.apply(this,arguments)}),bl=(il=Qd(regeneratorRuntime.mark(function e(n){var o,i,a,s,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(t){return Boolean(fl.find(function(e){return t.endsWith(e)}))}((t=o=ba(),r=void 0,(r=document.createElement("a")).href=t,r).hostname)){e.next=3;break}throw new Error('CMP script base "'.concat(o,'" is not allowed.'));case 3:if((T.s$||T.JW)&&(o=o.replace(/^https?:/,"")),i=document.createElement("script"),a=n("cmp.isEmbeddedVideo",!1))return s=".vjs-flyout-wrapper-fixed .vjs-video-container",e.next=10,Promise.race([(0,rt.elementReady)(s,4500),(0,M.Vs)(4e3)]);e.next=14;break;case 10:i.dataset.renderIn=s,i.dataset.renderVideo=!0,e.next=15;break;case 14:i.dataset.render=!0;case 15:i.id="mol-ads-cmp",i.src="".concat(o,"/iife/mol-ads-cmp.js"),c=document.createElement("link"),u=document.head.querySelector('link[rel="stylesheet"]')||document.head.lastChild,d=function(){switch(!0){case a:return"video";case pl:return"mobile";default:return"desktop"}}(),c.setAttribute("rel","stylesheet"),c.setAttribute("href","".concat(o,"/css/").concat(d,".css")),document.head.insertBefore(c,u),document.head.appendChild(i);case 24:case"end":return e.stop()}var t,r},e)})),function(e){return il.apply(this,arguments)}),wl=(ol=Qd(regeneratorRuntime.mark(function e(r){var o,n,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=r.broker,n=r.getConfig,i=r.log,$d.setConfig("molFeHomeChannel/showGDPRControls",{enabled:!T.cj&&da()}),T.SP["mol.ads.cmp.stubConsent"]?localStorage.setItem(la,"yes"):T.SP["mol.ads.cmp.stubDissent"]&&localStorage.setItem(la,"no"),t=void 0,t=ya()||function(e,t,r){var n,o=gl[e];o&&(n=localStorage.getItem(o))?r(JSON.parse(n),!0):ya().a.push([e,t,r])},(j.g.__uspapi=t).a=t.a||[],a=t,vl(o),a("onUpdate",null,function(){var r=Qd(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i("onUpdate",t),r)return da()&&localStorage.setItem(la,t?"yes":"no"),e.next=5,vl(o);e.next=10;break;case 5:n=e.sent,n=n.find(function(e){return e.getUSPData}),i("consentData",n),(n=n&&n.getUSPData)&&(n=Jd(Jd({},n),{},{hasConsent:t}),i("cmp updated",n),o.emit("cmp updated",n));case 10:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}()),da()&&fa("onDissent").then(Qd(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i("user dissented"),localStorage.setItem(la,"no"),e.next=4,vl(o);case 4:if(e.t0=e.sent,!e.t0){e.next=7;break}j.g.location.reload();case 7:case"end":return e.stop()}},e)}))),bl(n),hl(),e.t0=localStorage.getItem(la),e.next="yes"===e.t0?12:"no"===e.t0?13:16;break;case 12:return e.abrupt("break",20);case 13:return e.next=15,nl();case 15:return e.abrupt("break",20);case 16:if(da())return e.next=19,yl(o,n);e.next=19;break;case 19:return e.abrupt("break",20);case 20:ya()("onReset",null,function(){localStorage.removeItem(la)});case 21:case"end":return e.stop()}var t},e)})),function(e){return ol.apply(this,arguments)});function Sl(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _l(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Sl(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Sl(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Ol(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Il(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Ol(n,t,r,o,i,"next",e)}function i(e){Ol(n,t,r,o,i,"throw",e)}o(void 0)})}}var El,Al,kl=(El=Il(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}if(va())return e.next=4,r;e.next=7;break;case 4:n=e.sent,(n=n&&n[0])&&n.pubads().setPrivacySettings({restrictDataProcessing:!0});case 7:case"end":return e.stop()}},e)})),function(e,t){return El.apply(this,arguments)});function xl(e){return Pl.apply(this,arguments)}function Pl(){return(Pl=Il(regeneratorRuntime.mark(function e(t){var o,r,i,a,n,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.broker,r=t.log,ya()){e.next=3;break}return e.abrupt("return");case 3:return i={gdpr:"0",cmp:"ccpa"},a=o.until("gpt initialized"),n=function(e){var t=e.hasConsent,r=_l(_l({},i),{},{us_privacy:e.uspString,consent:t}),n=t||!va()?0:1,e=1==n?_l(_l({},r),{},{rdp:n}):r;o.emit("set page level targeting",e);n={cust_params:_l({},r),rdp:n};o.emit("sync video tags update",n),kl(t,a)},o.on("cmp updated",function(){var t=Il(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r("user consentData updated",t),n(t);case 2:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),e.prev=7,e.next=10,fa("getUSPData");case 10:s=e.sent,c=ha(),r("setting initial user consentData",s,c),n(_l(_l({},s),{},{hasConsent:c})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.error("[mol-ads]: There was a problem fetching consent data");case 19:case"end":return e.stop()}},e,null,[[7,16]])}))).apply(this,arguments)}function jl(e){var t=e.broker;j.g.__promised_cmp=new Promise(function(r,n){t.on("plugins enabled",function(e){return j.g.__cmp?void j.g.__cmp("hasChoiceBeenMade",null,function(e,t){return t?void(e?j.g.__cmp("hasConsentedToAll",null,function(e,t){return t?void r(e):n(new Error("hasConsentedToAll failed"))}):j.g.__cmp("onUpdate",null,function(e,t){return t?void r(e):n(new Error("onUpdate failed"))})):n(new Error("hasChoiceBeenMade failed"))}):r()})}),j.g.postMessage("__promised_cmp:available","*")}function Tl(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Cl(){}xl.pluginSetup=(Al=Il(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.getConfig,o=t.log,ma())return e.next=4,wl({broker:r,getConfig:n,log:o});e.next=4;break;case 4:case"end":return e.stop()}},e)})),function(e){return Al.apply(this,arguments)});function Rl(){return/(\?|&)ito=taboola/.test(window.location.search)}var Dl,Ul,Ml="home ushome auhome".split(" "),Bl=(0,O.x)("Delayer");Cl.pluginSetup=(Dl=regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.setConfig,o=!va(),i=T.cj,a=PageCriteria.isMobile,s=navigator.cookieEnabled,c="channel"===PageCriteria.pageType,d=Ml.includes(PageCriteria.channel),u=da()&&ua(),Bl("Initializing:",{newCmpUser:o,ios:i,ccpa:u,mobile:a,cookieEnabled:s,channel:c,home:d}),o&&i&&u&&a&&s&&c&&d){e.next=13;break}return Bl("Not delaying"),e.abrupt("return");case 13:if(Bl("Possible"),d=(0,T.ej)("mol-home"),Bl("Cookie:",d),Bl("Taboola:",Rl()),d||Rl())return Bl("Not delaying"),e.abrupt("return");e.next=20;break;case 20:return Bl("Active"),n("pluginManager.setupTimeout",6e5),Bl("Change timeout to 10 minutes"),e.prev=23,e.next=26,new Promise(function(r,n){var o=!1,i=Date.now();!function e(){if(document.querySelector("#homePageCover"))o||Bl("homePageCover detected"),o=!0;else{if(o)return Bl("homePageCover closed"),r();var t=Date.now()-i;if(5e3<t)return Bl("homePageCover never showed up after",t),n(new Error("homePageCover never showed up after ".concat(t," ms")))}setTimeout(e,200)}()});case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(23),r.register("call for page analytics",function(){return{missingHomePageCover:!0}});case 31:case"end":return e.stop()}},e,null,[[23,28]])}),Ul=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=Dl.apply(e,a);function o(e){Tl(n,t,r,o,i,"next",e)}function i(e){Tl(n,t,r,o,i,"throw",e)}o(void 0)})},function(e){return Ul.apply(this,arguments)});var Nl="__ads_cmp_reprompt",Ll=(0,O.x)("cmp-reprompt");function ql(e){var r,n,o,e=e.getConfig;(0,I.U2)("plugins.enabled").includes("cmp")&&"US"!==PageCriteria.geo?(r=e("cmp.reprompt",{version:0,chance:0}),Ll("Goal:",r),e=localStorage.getItem(Nl),n=e&&JSON.parse(e)||{version:0,chance:Math.random()},o=function(){Ll("Saving config"),localStorage.setItem(Nl,JSON.stringify(n))},Ll("Current:",n),n.version<r.version&&n.chance<r.chance?(Ll("Resetting CMP cookie"),ya()("reset",null,function(e,t){t?(Ll("Cookie removed"),n.version=r.version,n.ts=(new Date).toISOString(),o()):Ll("Failed resetting CMP")})):e||o()):Ll("Not in GDPR jurisdiction, bailing")}function zl(e){var r,n,e=e.broker;ma()&&(r="__cmp_ui_tracking\n",n={"overlay accepted":DM.molFeTracking.pageEvents.GDPR_OVERLAY_ACCEPTED,"overlay open settings":DM.molFeTracking.pageEvents.GDPR_OVERLAY_PRIVACY,"overlay displayed":DM.molFeTracking.pageEvents.GDPR_OVERLAY_DISPLAYED,"settings functional tab clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_FUNCTION_TAB_CLICKED,"settings advertising tab clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_ADVERTISING_TAB_CLICKED,"settings functional panel advertising link clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_ADVERTISING_LINK_CLICKED,"settings functional panel policy link clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_POLICY_LINK_CLICKED,"settings advertising panel policy link clicked":DM.molFeTracking.pageEvents.GDPR_SETTINGS_POLICY_LINK_CLICKED,"settings advertising panel disallow":DM.molFeTracking.pageEvents.GDPR_SETTINGS_DISALLOW_ADVERTISING_PARTNERS,"settings advertising panel disallow confirmed":DM.molFeTracking.pageEvents.GDPR_SETTINGS_CONFIRMATION_DISALLOW,"settings advertising panel disallow declined":DM.molFeTracking.pageEvents.GDPR_SETTINGS_CONFIRMATION_ALLOW,"settings functional panel allow all":DM.molFeTracking.pageEvents.GDPR_SETTINGS_FUNCTION_ALLOW_ALL,"settings advertising panel allow all":DM.molFeTracking.pageEvents.GDPR_SETTINGS_ADVERTISING_ALLOW_ALL,"site clicked":DM.molFeTracking.pageEvents.GDPR_OVERLAY_ACCEPT_BY_CLICK_SITE},j.g.addEventListener("message",function(e){var t=e.data;t&&"function"==typeof t.startsWith&&t.startsWith(r)&&(e=t.substring(r.length),(t=n[e])?DM.molFeTracking.pageEvents.publish(t):console.warn("Unknown CMP UI Tracking event:",e))},!1),e.on("extra cmp ui tracking event",function(e){return DM.molFeTracking.pageEvents.publish(n[e])}))}var Vl=xl;function Fl(e,t){if(e){if("string"==typeof e)return Wl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wl(e,t):void 0}}function Wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gl(){}function Hl(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Kl(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Hl(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Hl(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function $l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Gl.pluginSetup=function(e){var t,r,n,o=e.getConfig,i=e.setConfig,a=e.log,s=e.ownName;(T.SP.setPlugin||T.SP.bidderPluginOn)&&(T.SP.bidderPluginOn&&(t=T.SP.bidderPluginOn.split(",").map(function(e){return"bidders.".concat(e.trim())}),i("plugins.enabled",(function(e){if(Array.isArray(e))return Wl(e)}(e=o("plugins.enabled").filter(function(e){return-1===e.indexOf("bidders.")}))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Fl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat(t))),T.SP.setPlugin&&(t=T.SP.setPlugin.split(","),r=o("plugins.enabled",[]),n=r.indexOf(s)+1,t.forEach(function(e){var e=function(e){if(Array.isArray(e))return e}(t=e.split(":"))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(t)||Fl(t,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=e[0],e=e[1],t=t.trim(),e=e.toString().trim();"on,true,1,enabled".includes(e)?(a("enabling:",t),r.splice(n++,0,t)):(a("disabling:",t),-1<(t=r.indexOf(t))&&(r.splice(t,1),t<n&&n--))}),i("plugins.enabled",Array.from(new Set(r)))))};var Yl=function(e){if(e)return e.split(",").map(function(e){return e.split(":")}).reduce(function(e,t){var r,t=function(e){if(Array.isArray(e))return e}(r=t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return $l(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$l(e,2):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],t=t[1];return e[r]=t,e},{})};function Jl(e){var t,r=e.broker;(T.SP.forceVideoTag||T.SP.forceDisplayTag)&&(t=Yl(T.SP.forceDisplayTag),e=Yl(T.SP.forceVideoTag),t&&console.log("[FORCE TARGETING] display tags",t),e&&console.log("[FORCE TARGETING] video tags",e),r.emit("set page level targeting",Kl(Kl({},t),e)))}function Xl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||Zl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zl(e,t){if(e){if("string"==typeof e)return Ql(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ql(e,t):void 0}}function Ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ef(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function tf(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){ef(n,t,r,o,i,"next",e)}function i(e){ef(n,t,r,o,i,"throw",e)}o(void 0)})}}var rf,nf=(0,O.x)("permutive"),of=(rf=tf(regeneratorRuntime.mark(function e(r){var n,o,i,a,s,c,u,d,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.broker,l=r.getConfig,d=r.delayedInitialisation,nf("initializing"),o=l("plugins.permutive.projectId","5f42864d-a421-4f37-9478-00266f871d68"),i=l("plugins.permutive.publisherUserId","TheDailyMail"),a=l("plugins.permutive.apiKey","ed45e86d-a09e-4d2b-85c0-fbbd6857373e"),s=l("plugins.permutive.environment","production"),u=l("plugins.permutive.eventsCacheLimitBytes",25e5),f=function(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];c.q.push({functionName:n,arguments:t})}},(c=j.g.permutive={config:{apiKey:a,environment:s,projectId:o,eventsCacheLimitBytes:u,delayedInitialisation:d},q:[],addon:f("addon"),consent:f("consent"),identify:f("identify"),on:f("on"),once:f("once"),query:f("query"),ready:f("ready"),segment:f("segment"),segments:f("segments"),track:f("track"),trigger:f("trigger"),user:f("user"),init:f("init")}).ready(function(){return n.emit("permutive ready")}),u=j.g.pagemeta||{},n.on("track in permutive",function(){var r=tf(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:nf("track:",t,r),j.g.permutive.track(t,r);case 2:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}()),d=l("plugins.permutive.dependenciesTimeout",2e3),f=n.invokeAll({message:["get grapeshot tags"],timeout:d}),l=n.invokeAll({message:["get admantx tags"],timeout:d}),f=Promise.all([f,l]).then(function(e){e=Xl(e,2);return{page:{article:{gsChannels:Xl(e[0],1)[0]},admants:Xl(e[1],1)[0]}}}),l=function(e){return{user:{id:e.user,status:"logged out"}}},l=j.g.RTA&&j.g.RTA.ids&&j.g.RTA.ids.then(l)||{},l=(0,M.yq)(d,l),e.next=21,Promise.all([f,l]);case 21:f=e.sent,l=P().apply(void 0,[{page:{type:u.contentType,article:{id:u.articleId,title:u.articleTitle,categories:u.channel?[u.channel.substr(1)]:void 0,publishedAt:u.publishedDate&&u.publishedDate.toISOString()||void 0,modifiedAt:u.updatedDate&&u.updatedDate.toISOString()||void 0,authors:u.authorsShortNames}}}].concat(function(e){if(Array.isArray(e))return Ql(e)}(t=f)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||Zl(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),nf("web context:",l),l.user&&(f={id:l.user.id,tag:i},nf("identity:",f),j.g.permutive.identify([f])),j.g.permutive.addon("web",l);case 26:case"end":return e.stop()}var t},e)})),function(e){return rf.apply(this,arguments)}),af=(0,Cn.ri)(function(e,t){return o=(t={broker:e,getConfig:t}).broker,i=t.getConfig,new Promise((r=tf(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j.g.permutive){e.next=8;break}return r=i("plugins.permutive.webScriptSrc","https://cdn.permutive.com/5f42864d-a421-4f37-9478-00266f871d68-web.js"),n=i("plugins.permutive.delayedInitialisation",!1),e.next=5,of({broker:o,getConfig:i,delayedInitialisation:n});case 5:return e.next=7,o.invoke("import script",r);case 7:n&&j.g.permutive.init();case 8:t();case 9:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}));var r,o,i});function sf(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}var cf=function(){return JSON.parse(j.g.localStorage.getItem("_pdfps")||"[]")};function uf(e){return df.apply(this,arguments)}function df(){return s=regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,n=af(r,n),r.emit("set page level targeting",n.then(function(){return{permutive:cf()}}));case 3:case"end":return e.stop()}},e)}),(df=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){sf(n,t,r,o,i,"next",e)}function i(e){sf(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function lf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ff(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function pf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ff(Object(r),!0).forEach(function(e){gf(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ff(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function gf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mf(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function yf(e){return hf.apply(this,arguments)}function hf(){return s=regeneratorRuntime.mark(function e(t){var n,r,o,i,a,s,c,u,d,l,f,p,g,m,y,h,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.broker,r=t.getConfig,o=DM&&DM.pageEvents,i=(0,O.x)("permutive"),o){e.next=5;break}return e.abrupt("return");case 5:return a=af(n,r),h=n.invokeAll("get grapeshot tags").then(function(e){return Array.isArray(e)&&Array.isArray(e[0])?e[0]:[]}),e.next=9,(0,M.Ye)(1500,[h]);case 9:return v=e.sent,s=v.results,c=s[0],u={},d={},l=1,e.next=17,a;case 17:f=function(e,t){var r=e.title,n=e.referenceId,e=e.autoplay;return{video:{name:r,id:String(n),tags:c},autoStart:e,playId:t}},p=function(e){var t=e.videoId;u[t]=f(e,String(l)),i("videoDataReady Event, id: ".concat(t),u[t]),l++},g=function(e){var t=e.videoId,e=u[t];i("Sending VideoPlay Event, id: ".concat(t),e),j.g.permutive.track("VideoPlay",e)},m=function(e){var t=e.videoId,r=pf({},u[t]);0<e.ratio&&(r.progress=e.ratio,i("Sending VideoProgress Event, id: ".concat(t),r),j.g.permutive.track("VideoProgress",r))},y=function(e){var t=e.videoId,r=e.adImpression,e=(r.adWrapperSystems&&Object.fromEntries(r.adWrapperSystems.map(function(e,t){return[e,r.adWrapperIds[t]]}))||[]).GDFP,e={id:e&&String(e)||void 0,advertiserName:r.advertiserName,creativeId:String(r.creativeId),deal_id:String(r.dealId)};d[t]=e;e=pf(pf({},u[t]),{},{ad:e});i("Sending VideoAdPlay Event, id: ".concat(t),e),j.g.permutive.track("VideoAdPlay",e)},h=function(e){var t=e.videoId,e=pf(pf({},u[t]),{},{ad:pf({},d[t])});i("Sending VideoAdComplete Event, id: ".concat(t),e),j.g.permutive.track("VideoAdComplete",e),delete d[t]},v=function(e){e=pf(pf({},e),{},{ratio:1}),m(e),delete u[e.videoId]},gf(s={},o.VIDEO_DATA_READY,p),gf(s,o.VIDEO_CONTENT_STARTED,g),gf(s,o.VIDEO_PROGRESS,m),gf(s,o.VIDEO_ADVERT_IMPRESSION,y),gf(s,o.VIDEO_ADVERT_COMPLETED,h),gf(s,o.VIDEO_CONTENT_COMPLETED,v),Object.entries(s).forEach(function(e){var t,e=(t=2,function(e){if(Array.isArray(e))return e}(e=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=e[0],r=e[1];i("Registering","video page event ".concat(t)),n.on("video page event ".concat(t),function(e,t){r(t)})});case 26:case"end":return e.stop()}},e)}),(hf=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){mf(n,t,r,o,i,"next",e)}function i(e){mf(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function vf(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function bf(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){vf(n,t,r,o,i,"next",e)}function i(e){vf(n,t,r,o,i,"throw",e)}o(void 0)})}}function wf(e){var t=e.broker,e=e.getConfig,r=e("plugins.permutive.projectId","5f42864d-a421-4f37-9478-00266f871d68"),i=e("plugins.permutive.indexedDBVersion",2),n=new Promise(function(n){var o=indexedDB.open(r,i);o.onsuccess=bf(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.result,e.next=3,Promise.all(Object.values(t.objectStoreNames).map(function(e){var r=t.transaction(e,"readonly").objectStore(e).getAll();return new Promise(function(t){r.onsuccess=function(){var e=r.result.reduce(function(e,t){return t.byteLength?e+t.byteLength:t.length?e+t.length:e},0);t(e)}})}));case 3:r=e.sent,t.close(),n(r.reduce(function(e,t){return e+t},0));case 6:case"end":return e.stop()}},e)}))});t.register("call for page analytics",bf(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return e.t0=e.sent,e.t1={permutive:e.t0},e.abrupt("return",{indexedDB:e.t1});case 5:case"end":return e.stop()}},e)})))}function Sf(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function _f(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Sf(n,t,r,o,i,"next",e)}function i(e){Sf(n,t,r,o,i,"throw",e)}o(void 0)})}}function Of(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function If(e){return(If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ef(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Af(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ef(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ef(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}uf.vendorIds={gdpr:[361]},yf.vendorIds={gdpr:[361]},q("players.targeting",{run:function(e){var t,r=e.broker,n=e.getConfig,s=e.log,n=n("auction.maxTime",2e3),c={},o=Dc.KC(),u={broker:r,log:s,pageLevelTargetingStream:o,defaultTargetingCollectionTimeout:n};r.on("set page level targeting",(t=_f(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:(r=e.sent)&&P()(c,r),o.push(r);case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}));var i,a,d=r.until("configure and start prebid");r.on("collect video tags",(a=_f(regeneratorRuntime.mark(function e(t,r){var n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:n=Pf(u,t),o=n.pos,i=n.autoplay,a=n.offset,s("requesting video bid for ".concat(o,", ").concat(i?"autoplay":"ctp",", offset: ").concat(a)),a=jf(u,n),Object.keys(c).length&&(s("Dispatching known page level targeting:",c),r(null,{cust_params:Af({},c)})),n.cust_params&&r(null,{cust_params:n.cust_params}),a&&function(e,t){e.on("data",function(e){t(null,e)}).on("end",function(){return t(null,null)})}(a,function(e,t){r(e,t)});case 9:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)})),r.on("start early video bid",(i=_f(regeneratorRuntime.mark(function e(t){var r,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:i=Pf(u,t),r=i.pos,n=i.autoplay,o=i.offset,s("starting early video bid ".concat(r,", ").concat(n?"autoplay":"ctp",", offset: ").concat(o)),i=jf(u,i),kf[t.pos]=i;case 7:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}))}});var kf={},xf={jwplayer:0,video:0};function Pf(e,t){return t.pos=t.pos||"video",t.timeout=t.timeout||e.defaultTargetingCollectionTimeout,"jwplayer"===t.pos&&(t.autoplay=!0,t.muted=!0),t}function jf(p,g){var m=p.broker,y=p.log,h=g.pos,v=g.autoplay,b=g.offset;if(kf[h]){y("found stream for ".concat(h,", ").concat(v?"autoplay":"ctp",", offset: ").concat(b));var e=kf[h];return delete kf[h],m.emit("cached video bid consumed",h,"".concat(v?"autoplay":"ctp")),e}return function(){xf[h]++;var e="".concat(h,"-").concat(xf[h]);y("creating bidStream for: ".concat(h,", ").concat(v?"autoplay":"ctp",", offset: ").concat(b,", auctionId: ").concat(e)),g.auctionId=e;var t,r,n,o,i,a,s,c,u,d,l,f,t=(r=g,o=(t=p).broker,l=t.pageLevelTargetingStream,i=r.pos,a=r.timeout,s=Af({slot:{pos:i}},r),o.emit("start bidding",i),(r=[]).push(o.openStream({message:["get video tags",s],timeout:a,controlHandler:function(e){var t=e.type,e=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(e,["type"]);return o.emit("auction event",i,t,e)}})),r=Dc.TS(r),n=t.log,l=Dc.c(r,Dc.UI(l,function(e){return{cust_params:e}})),r.on("end",function(){return n("Bidders finished, disconnecting pageLevelTargetingStream")}),l.on("close",function(){return n("Auction ended, disconnecting pageLevelTargetingStream")}),l),l=function(e){if(Array.isArray(e))return e}(r=Dc.Ju())||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return Of(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Of(e,2):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=l[0],l=l[1];return c=m,u=h,d=t,l=l,f=e,Dc.dE(Dc.hX(d,function(e){return"object"===If(e)}),function(e){e&&console.warn("video bidding ended with error:",e),c.emit("auction event",u,"end"),c.emit("bidding ended",u,f),d.destroy()}).pipe(l),r}()}function Tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cf=function(e){var r,n,o,i,t,a,s,c,u;a=e.broker,s=e.getConfig,c=e.log,u="androidMobile"===j.g.PageCriteria.device||"iphone"===j.g.PageCriteria.device,(j.g.PageCriteria.containsVideo||j.g.document.querySelector('meta[property="og:video"]'))&&(r=s("plugins.slots.video.v2.pageLoadTimeout",4e3),n=s("plugins.slots.video.v2.videoAdServerUrl","http://pubads.g.doubleclick.net/gampad/ads?sz=[size]&iu=%2F5765%2Fdm.video%2Fdm_video_news_apfa&ciu_szs=&impl=s&gdfp_req=1&env=vp&output=xml_vast3&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]"),s=function(e){if(Array.isArray(e))return e}(s=s("plugins.slots.video.v2.mediaTypes.video.playerSize",[640,360]))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(s)||function(e){if(e){if("string"==typeof e)return Tf(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Tf(e,2):void 0}}(s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=s[0],i=s[1],t=function(){var e=document.createElement("div");e.style.visibility="hidden";var t=document.createElement("video");t.setAttribute("muted","muted"),t.setAttribute("width",o),t.setAttribute("height",o),e.id="playerDiv_x",e.appendChild(t),document.body.appendChild(e);t={pos:"video",articleURL:j.g.location.protocol+"//"+j.g.location.host+j.g.location.pathname,timeout:r,screen:{width:o,height:i},platform:"dmplayer",offset:0,videoAdServerUrl:n,autoplay:!1,excludeSpotX:!!u};c("start early video bid"),a.emit("start early video bid",t),setTimeout(function(){document.body.removeChild(e)},5e3)},a.on("cached video bid consumed","video","ctp",t),a.on("plugins enabled",function(){j.g.DM.later("DOM_READY").then(function(){c("trigger early bid"),t()})}))};function Rf(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Df(t,r){document.addEventListener("click",function(e){-1!==e.target.classList.toString().indexOf("vjs-flyout-close")&&(Vf=!1,Bf=null)},!0),document.addEventListener("play",function(e){(0,rt.closest)(e.target,function(e){return e.classList.contains("vjs-video-container")})&&(t&&(0,rt.closest)(e.target,function(e){return e.classList.contains("video-ads-container")})||!(0,rt.closest)(e.target,function(e){return e.classList.contains("video-ads-container")}))&&(zf[e.target]=zf[e.target]||{},Bf=e.target,Vf=Hf()||r&&Vf&&!Ff?(zf[e.target].playing=!1,Ff=!0,e.target.pause(),!0):!(zf[e.target].playing=!0))},!0),document.addEventListener("pause",function(e){Ff?Ff=!1:(0,rt.closest)(e.target,function(e){return e.classList.contains("vjs-video-container")})&&(t&&(0,rt.closest)(e.target,function(e){return e.classList.contains("video-ads-container")})||!(0,rt.closest)(e.target,function(e){return e.classList.contains("video-ads-container")}))&&(zf[e.target]=zf[e.target]||{},zf[e.target].playing=!1,Vf=!1)},!0)}function Uf(){return!!Bf&&zf[Bf].playing}function Mf(e){Bf&&(Nf=(0,rt.getOffset)(Bf),Lf=parseInt((0,rt.getElementComputedHeight)(Bf)),qf=parseInt((0,rt.getElementComputedHeight)(document.body)),Vf&&0<Nf.top+Lf/2&&Nf&&Nf.top<qf-Lf/2&&(Bf.play(),Vf=!1))}var Bf,Nf,Lf,qf,zf={},Vf=!1,Ff=!1,Wf="androidMobile"===j.g.PageCriteria.device||"iphone"===j.g.PageCriteria.device,Gf=function(){return void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychanged":""},Hf=function(){try{return j.g.top.document.hidden||j.g.top.document.msHidden||j.g.top.document.webkitHidden||!1}catch(e){return!!(void 0).visibilityApiEvent()}},Kf=function(e){Bf&&(Uf()&&e?(Ff=!0,Bf.pause(),Vf=!0,zf[Bf].playing=!1):Uf()||Hf()||!Vf?e||Hf()||(Vf=!1,Uf()||(zf[Bf].playing=!0,Bf.play())):(Bf.play(),zf[Bf].playing=!0,Vf=!1))},$f=function(e){var n,o,i,a,s,t=e.broker,e=e.getConfig;e("plugins.enabled",[]).includes("players.flyoutManager")||(i=e("players.dmplayer.pauseOnVisibilityChange",!0),a=e("players.dmplayer.pauseOnBlur",!0),o="false"!==(o=e("players.dmplayer.pauseOnAds",!1))&&("true"===o||o),i="false"!==i&&("true"===i||i),a="false"!==a&&("true"===a||a),Wf&&(e=t,Df(),e.on("dom ready",function(){document.addEventListener("pause",function(e){(Nf&&Nf.top+Lf/2<0||Nf&&Nf.top>qf-Lf/2)&&(Vf=!0)},!0),document.addEventListener("scroll",j.g.DM.molFeMiniLodash.debounce(Mf,100),{passive:!0,capture:!0}),document.addEventListener("touchmove",j.g.DM.molFeMiniLodash.debounce(Mf,100),{passive:!0,capture:!0})})),Wf||!i&&!a||(n=t.on("ad rendered",(s=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Df(o,!0),t=i,void 0!==(r=a)&&!r||(j.g.top.addEventListener("blur",function(){Kf(!0)}),j.g.top.addEventListener("focus",function(){Kf(!1)})),Gf()&&(void 0===t||t)&&document.addEventListener(Gf(),function(e){Kf(Hf(),Gf())},!1),n.cancel();case 3:case"end":return e.stop()}var t,r},e)}),function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Rf(n,t,r,o,i,"next",e)}function i(e){Rf(n,t,r,o,i,"throw",e)}o(void 0)})}))))},nt=function(e){var n=e.broker,o=e.getConfig,i=o("performplayer",{enabled:!1});i.enabled&&n.on("dom ready",function(){var e,t,r;e=o,t=Array.from(document.querySelectorAll(".perform-player")),r=e("performplayer.related",{enabled:!1}),e=t.reduce(function(e,t){return("true"===t.getAttribute("data-related-player")?e.related:e.module).push(t),e},{related:[],module:[]}),t=[],r.enabled&&0<e.related.length&&t.push(e.related[0]),0<e.module.length&&t.push(e.module[0]),t.map(function(e){return e=(t=e).getAttribute("data-tracking-id"),{node:t,urlFragment:e};var t}).forEach(function(e){var t="".concat(i.url,"#").concat(e.urlFragment),r=document.createElement("script");r.async=!0,r.src=t,r.onload=function(){return n.emit("new perform player",e.urlFragment,e.node)},e.node.parentNode.insertBefore(r,e.node.nextSibling)})})};nt.vendorIds={gdpr:[323]};var Yf=nt;function Jf(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Xf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qf(e,t,r){return t&&Zf(e.prototype,t),r&&Zf(e,r),e}function ep(e,t,r,n){var o,i=cp;t&&i&&i.lastActive.mouseOverPlayer||(e.emit("sync video tags update",{cust_params:{oov:t}}),cp&&n&&(t?(cp.pausedBy="blur",cp.lastActive.isAd&&!np.pauseAdsOnBlur||cp.lastActive.isPlaying()&&cp.lastActive.pause()):"blur"!==cp.pausedBy||mp()||(r!==gp()||t||"inlinePlayer"!==i.name?cp.lastActive.isPlaying()||cp.lastActive.play():((o=cp.lastActive.otherGroup).lastActive&&setTimeout(function(){o.lastActive.pause()},200),setTimeout(function(){i.lastActive.isPlaying()||(i.lastActive.play(),o.lastActive&&o.lastActive.pause())},400)),delete cp.pausedBy)))}function tp(e){e.target.classList.contains("jw-icon")?sp.jwOrChromelessPlayer=!0:(e.target.classList.contains("vjs-play-control")||e.target.classList.contains("vjs-big-play-button"))&&(e=(0,rt.closest)(e.target,function(e){return"outerWrapper"===e.id})?"jwOrChromelessPlayer":"inlinePlayer",sp[e]=!0)}function rp(e){e.player&&e.player.el_&&e.player.el_.getElementsByTagName("video").length&&(e=e.player.el_.getElementsByTagName("video")[0],hp({target:e}))}var np,op="androidMobile"===j.g.PageCriteria.device||"iphone"===j.g.PageCriteria.device,ip=j.g.PageCriteria.isTablet,ap=[],sp={},cp=null,up=!1,ft=(Qf(Sp,[{key:"setLastActive",value:function(e,t){delete this.pausedBy,this.lastActive=e,this.startedBy=t}}]),Sp),dp={players:[],groups:{inlinePlayer:new ft("inlinePlayer"),jwOrChromelessPlayer:new ft("jwOrChromelessPlayer")}},lp=function(){j.g.document.querySelectorAll(".vjs-video-container video").forEach(function(e){e.player&&e.src&&!ap.includes(e)&&(e.player.on("pause",function(){vp({target:e})}),e.player.on("play",function(){hp({target:e})}),ap.push(e))})},fp=function(t){var e=dp.players.find(function(e){return e.element===t.target});if(!e){if(!(e=new pp(t)).group)return null;dp.players.push(e)}return e},pp=(Qf(wp,[{key:"flagUserMouseover",value:function(){var e=this;e.container=e.wrappers.widthSetter||e.wrappers.zIndexSetter,e.container&&(e.container.addEventListener("mouseover",function(){e.mouseOverPlayer=Date.now()}),e.container.addEventListener("mousemove",function(){e.mouseOverPlayer=Date.now()}),e.container.addEventListener("mouseout",function(){delete e.mouseOverPlayer}))}},{key:"setLastActive",value:function(){cp=this.group,(this.group.lastActive=this).otherGroup.lastActive&&this.otherGroup.startedBy&&(this.otherGroup.pausedBy="sync",delete this.otherGroup.startedBy,this.otherGroup.lastActive.pause())}},{key:"handlePause",value:function(){this.otherGroup.lastActive&&"user"!==this.otherGroup.pausedBy&&(this.otherGroup.startedBy="sync",delete this.otherGroup.pausedBy,this.otherGroup.lastActive.play())}},{key:"isPaused",value:function(){return this.element.player?this.element.player.paused():this.element.paused}},{key:"isPlaying",value:function(){var e=this.element;return this.element.player?!this.element.player.paused():!!(0<e.currentTime&&!e.paused&&!e.ended&&2<e.readyState)}},{key:"determineGroup",value:function(e){var t,r=this;return e.target&&null===e.target.getAttribute("data-mol-fe-video-preview")?this.group=(0,rt.closest)(e.target,function(e){return"outerWrapper"===e.id})?dp.groups.jwOrChromelessPlayer:(0,rt.closest)(e.target,function(e){return e.classList.contains("vjs-video-container")})?dp.groups.inlinePlayer:null:this.group=null,this.isAd=!!(0,rt.closest)(e.target,function(e){return e.classList.contains("video-ads-container")})||!!(0,rt.closest)(e.target,function(e){return e.classList.contains("jw-overlays")}),r.group&&(r.otherGroup=this.group?dp.groups[Object.keys(dp.groups).find(function(e){return e!==r.group.name})]:null,"inlinePlayer"===r.group.name?(t=(0,rt.closest)(e.target,function(e){return e.classList.contains("vjs-flyout-wrapper-fixed")}))&&t.previousSibling?(r.wrappers.styleSetter=t.previousSibling,r.wrappers.widthSetter=t.getElementsByClassName("vjs-fixed")[0]):r.wrappers.widthSetter=r.wrappers.styleSetter=(0,rt.closest)(e.target,function(e){return e.classList.contains("vjs-fixed")}):"jwOrChromelessPlayer"===r.group.name&&(r.wrappers.zIndexSetter=(0,rt.closest)(e.target,function(e){return-1!==e.classList.toString().indexOf("jwplayer_body")}))),r.group}},{key:"play",value:function(){this.element&&(this.element.player||this.element).play()}},{key:"pause",value:function(){this.element&&(this.element.player||this.element).pause()}},{key:"handleScroll",value:function(){var e=this;!e.group.pausedBy&&(e.offset+e.computedHeight/1.5<j.g.scrollY||e.offset-.1*e.computedHeight>j.g.scrollY+window.innerHeight)&&(e.group.pausedBy="scroll",delete e.group.startedBy,e.pause()),"scroll"===e.group.pausedBy&&e.offset+e.computedHeight/1.5>j.g.scrollY&&e.offset-.1*e.computedHeight<j.g.scrollY+window.innerHeight&&"user"!==e.group.pausedBy&&(e.group.startedBy="scroll",delete e.group.pausedBy,e.play())}}]),wp),gp=function(){return void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychanged":""},mp=function(){try{return j.g.top.document.hidden||j.g.top.document.msHidden||j.g.top.document.webkitHidden||!1}catch(e){return!!(void 0).visibilityApiEvent()}},yp=(0,Cn.FU)(function(){cp&&cp.pausedBy&&"user"!==cp.pausedBy&&cp.lastActive&&!cp.lastActive.isPlaying()&&cp.lastActive.play(),dp.groups.inlinePlayer&&dp.groups.inlinePlayer.lastActive&&setTimeout(function(){return dp.groups.inlinePlayer.lastActive.handleScroll()},100)},100),hp=function(e){var t=fp(e);t&&(lp(),np.identifyPlayers&&clearInterval(np.identifyPlayers),sp[t.group.name]&&(t.group.startedBy="user",delete t.group.pausedBy,delete sp[t.group.name]),!(e=t)||("jwOrChromelessPlayer"===e.group.name&&(e.group.lastActive=e),"user"!==e.group.startedBy&&"jwOrChromelessPlayer"===e.group.name&&(e.otherGroup.startedBy?(e.pausedBy="sync",e.pause()):e.group.startedBy="auto"),"inlinePlayer"!==e.group.name||e.group.lastActive||e.group.startedBy||(e.group.startedBy="user"),e.group.hasFocus||"user"===e.group.startedBy||"auto"===e.group.startedBy||"scroll"===e.group.startedBy?(delete e.group.pausedBy,e.otherGroup.hasFocus=!1,e.group.hasFocus=!0,0):(e.pause(),1))||t.setLastActive())},vp=function(e){var t;!e.target.src||(t=fp(e))&&(sp[t.group.name]&&(t.group.pausedBy="user",delete t.group.startedBy,delete sp[t.group.name]),"user"!==(e=t).group.pausedBy&&"sync"!==e.group.pausedBy&&"scroll"!==e.group.pausedBy||(e.group.hasFocus=!1,delete e.startedBy,0)||t.handlePause())},bp=function(e){var s,n=e.broker,e=e.getConfig;np=e("players.flyoutConfig",{}),Object.keys(np).forEach(function(e){"true"===np[e]&&(np[e]=!0),"false"===np[e]&&(np[e]=!1)}),np.checkForNewPlayersFrequency=e("players.flyoutConfig.checkForNewPlayersFrequency",600),n.on("chromeless player ready",function(e){j.g.DM.molFeVideoplayer.on("videoPlaying",rp)}),n.on("chromeless player ready",function(e){return lp()}),j.g.DM.later("DOM_READY",(s=regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j.g.document.addEventListener("play",hp,!0),j.g.document.addEventListener("pause",vp,!0),ip||op?j.g.document.addEventListener("touchstart",tp):j.g.document.addEventListener("click",tp),t=void 0===np.pauseWhenUserInOtherApplication||np.pauseWhenUserInOtherApplication,r=void 0===np.pauseWhenUserInOtherTab||np.pauseWhenUserInOtherTab,j.g.top.addEventListener("blur",function(e){up||setTimeout(function(){ep(n,!0,"blur",t)})}),j.g.top.addEventListener("focus",function(){up||setTimeout(function(){ep(n,!1,"focus",t)})}),gp()&&document.addEventListener(gp(),function(){up||ep(n,mp(),gp(),r)},!1),n.emit("sync video tags update",{cust_params:{oov:!document.hasFocus()}}),document.addEventListener("scroll",yp,{passive:!0,capture:!0}),document.addEventListener("touchmove",yp,{passive:!0,capture:!0}),n.on("mpuPlayerDisplayed",function(e){up=e}),np.identifyPlayers=setInterval(function(){lp()},np.checkForNewPlayersFrequency);case 13:case"end":return e.stop()}},e)}),function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Jf(n,t,r,o,i,"next",e)}function i(e){Jf(n,t,r,o,i,"throw",e)}o(void 0)})}))},gt=function(e){e.broker,e.getConfig};function wp(e){if(Xf(this,wp),this.wrappers={},this.group=this.determineGroup(e),!this.group)return null;this.element=e.target,this.flagUserMouseover(),this.computedHeight=(0,rt.getElementComputedHeight)(this.element),this.offset=(0,rt.getOffset)(this.element)&&(0,rt.getOffset)(this.element).top,fp[e.target]=this}function Sp(e){Xf(this,Sp),this.name=e,this.pausedBy=null,this.startedBy=null,this.hasFocus=!1}gt.pluginSetup=function(e){var t,r=e.getConfig,n=e.setConfig,o=e.addPlugins,e=e.removePlugins;r("plugins.enabled",[]).includes("players.flyoutManager")&&(n("players.flyoutConfig",(t=r("players.flyoutConfig",[]),Object.keys(t).forEach(function(e){"true"===t[e]&&(t[e]=!0),"false"===t[e]&&(t[e]=!1)}),t.pauseContentIfAdNotPaused=void 0===t.pauseContentIfAdNotPaused||t.pauseContentIfAdNotPaused,t.pauseAdsOnBlur=void 0===t.pauseAdsOnBlur||t.pauseAdsOnBlur,t)),e(["videoForceFlyout","videoFlyout","players.visibility"]),o(["players.onlyOneActivePlayer"]))};var _p=gt;function Op(e){return(Op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ip(e){return function(e){if(Array.isArray(e))return Ep(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return Ep(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ep(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ep(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ap(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}var kp={top:30,bottom:30};function xp(){return Pp.apply(this,arguments)}function Pp(){return s=regeneratorRuntime.mark(function e(t){var i,o,n,a,s,c,r,u,d,l,f,p,g,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=t.broker,o=t.log,y=t.targetParagraphIndex,m=t.margin,n=void 0===m?kp:m,m=t.paragraphLoadingTimeout,a=void 0===m?3e3:m,o("target paragraph index:",y),s=y,c=j.g.PageCriteria.isMobile&&!j.g.PageCriteria.isTablet?(o("is a mobile"),"#mobile-content > div > article"):(o("is not a mobile"),'[itemprop="articleBody"]'),r="".concat(c," > :not(.mol-para-with-font), ").concat(c," > mol-permabox > :not(.mol-para-with-font)"),o("non-paragraph selector:",r),u=function(o){return new Promise(function(e){function t(){document.querySelector("".concat(c," > .mol-para-with-font:nth-of-type(").concat(o,")"))&&(r.cancel(),clearInterval(n),e())}var r=i.on("slot defined",t),n=setInterval(t,250);t()})},d=function(e){return Ip(document.querySelectorAll("".concat(c," > .mol-para-with-font:nth-of-type(n+").concat(e,")"))).map(function(e){return{paragraph:e,rect:e.getBoundingClientRect()}})},l=function(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)},f=function(t,e){return e.find(function(e){return l(t,e)})},p=function(){return Ip(document.querySelectorAll(r)).map(function(e){return e.getBoundingClientRect()})},g=function(e){var t=e.top,r=e.left,e=e.right;return{top:t-n.top,bottom:t+n.bottom,left:r,right:e}},m=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o("awaiting",a,"millis for paragraph",s,"to be available"),e.next=3,(0,M.yq)(a,u(s));case 3:if(t=d(s),o(t.length,"paragraphs loaded so far"),n=p(),o("there are",n.length,"non-paragraph elements in this article"),r=t.find(function(e,t){var r=e.rect,e=g(r),r=f(e,n);return r?o("paragraph",s+t,"failed, ",e,"intersects with",r):o("paragraph",s+t,"seems suitable"),!r}))return e.abrupt("return",{v:r.paragraph});e.next=12;break;case 12:s+=t.length,o("getting next batch of paragraph starting from",s);case 14:case"end":return e.stop()}},e)});case 13:return e.delegateYield(m(),"t0",15);case 15:if("object"===Op(y=e.t0))return e.abrupt("return",y.v);e.next=18;break;case 18:e.next=13;break;case 20:case"end":return e.stop()}},e)}),(Pp=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Ap(n,t,r,o,i,"next",e)}function i(e){Ap(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}var nt=j(8676),jp=j.n(nt);function Tp(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Cp(){return s=regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getConfig,r=t.log,(n=n("pos.minuteMedia.tcfEventBarrier",!1))&&j.g.__tcfapi)return r("waiting for TCF event",n),e.next=6,function(r){return new Promise(function(t){j.g.__tcfapi("addEventListener",2,function(e){r===e.eventStatus&&(j.g.__tcfapi("removeEventListener",2,function(){},e.listenerId),t(e))})})}(n);e.next=7;break;case 6:r("received TCF event",n);case 7:case"end":return e.stop()}},e)}),(Cp=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Tp(n,t,r,o,i,"next",e)}function i(e){Tp(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function Rp(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Dp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Up(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Mp(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Up(n,t,r,o,i,"next",e)}function i(e){Up(n,t,r,o,i,"throw",e)}o(void 0)})}}function Bp(e){return Np.apply(this,arguments)}function Np(){return(Np=Mp(regeneratorRuntime.mark(function e(n){var o,i,a,s,c,u,d,l,f,p,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.broker,i=n.log,a=n.getConfig,"article"!==PageCriteria.pageType)return i("Not suitable for PageCriteria.pageType:",PageCriteria.pageType),e.abrupt("return");e.next=4;break;case 4:return s=a("pos.connatix.paragraphIndex",4),u=a("pos.connatix.size",[480,410]),r=2,l=function(e){if(Array.isArray(e))return e}(t=u)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Dp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dp(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],u=l[1],d=a("pos.connatix.playerId","29388c8f-d1e6-4485-be68-d4bdbf2f2b1f"),l=a("pos.connatix.margin",{top:30,bottom:60}),e.prev=8,e.next=11,xp({broker:o,log:i,targetParagraphIndex:s,margin:l});case 11:f=e.sent,e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(8),i("giving up awaiting for new paragraph, article might just have ended with no suitable placement"),console.error(e.t0),e.abrupt("return");case 19:window.cnxps||(window.cnxps={},window.cnxps.cmd=[],o.invoke("import script in iframe",{url:"//cd.connatix.com/connatix.playspace.js"})),(p=document.createElement("div")).id=(0,At.kb)(),p.className="connatix-placeholder",p.style.width="".concat(c,"px"),p.style.height="".concat(u,"px"),g=function(e){e?i("Error:",e):i("Rendered Successfully")},window.cnxps.cmd.push(Mp(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i("Library loaded"),o.register("call for page analytics",function(){return{connatix:!0}}),window.cnxps({playerId:d}).render(p.id,g);case 3:case"end":return e.stop()}},e)}))),f.parentElement.insertBefore(p,f);case 28:case"end":return e.stop()}var t,r},e,null,[[8,14]])}))).apply(this,arguments)}function Lp(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}q("slots.minuteMedia",{vendorIds:{gdpr:[918]},run:function(u){return s=regeneratorRuntime.mark(function e(){var t,r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){j.g.addEventListener("voltaxPlayerLoaded",function(e){e=e.detail.playerName,e=j.g.voltax.getPlayersByName(e);t.emit("new minute media player",e[0])}),j.g.voltax&&j.g.voltax.getAllPlayersOnPage().forEach(function(e){return t.emit("new minute media player",e)})},t=u.broker,r=u.getConfig,(n=u.log)("enabled"),"article"!==PageCriteria.pageType)return n("Not suitable for PageCriteria.pageType:",PageCriteria.pageType),e.abrupt("return");e.next=6;break;case 6:return o(),e.next=9,function(){return Cp.apply(this,arguments)}({getConfig:r,log:n.extend("tcf")});case 9:return e.prev=9,e.next=12,xp({broker:t,log:n.extend(""),targetParagraphIndex:r("pos.minuteMedia.paragraphIndex",4),margin:r("pos.minuteMedia.margin",{top:30,bottom:60})});case 12:i=e.sent,e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),n.error("giving up awaiting for new paragraph, article might just have ended with no suitable placement",e.t0),e.abrupt("return");case 19:(a=document.createElement("div")).classList.add("minute-media"),r("pos.minuteMedia.addLabel")&&a.classList.add("minute-media-label"),r("pos.minuteMedia.moat.enabled",!1)&&(s=r("pos.minuteMedia.moat.src","//z.moatads.com/mailonlineminutemedia634421037781/moatad.js#moatClientLevel1=MINUTEMEDIAPLAYER&moatClientLevel2=MINUTEMEDIAPLAYER&moatClientLevel3=MINUTEMEDIAPLAYER&moatClientLevel4=MINUTEMEDIAPLAYER"),(c=document.createElement("script")).src=s,c.async=!0,a.appendChild(c)),i.parentElement.insertBefore(a,i),(0,rt.createIframe)({content:jp()(),insertMethod:function(e){return a.appendChild(e)},log:n.extend("")});case 25:case"end":return e.stop()}},e,null,[[9,15]])}),function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Rp(n,t,r,o,i,"next",e)}function i(e){Rp(n,t,r,o,i,"throw",e)}o(void 0)})}();var s}}),q("slots.rendered",{run:function(e){var i=e.broker,a={};i.on("ad rendered",function(e,t){var r,n,o;"publisher_ads"!==t.serviceName||t.isEmpty||(n=(r=t.slot.molAd).type||"1x1",o=[r.pos,r.parentId,n].join("|"),a[o]={pos:r.pos,id:r.parentId,sz:n,cid:t.creativeId,lid:t.lineItemId}),i.emit("ads rendered update",Object.values(a))})}}),Bp.vendorIds={gdpr:[143]};var qp=function(e){var t=document.createElement("div");return t.id=e,t.className="adHolder molads_".concat(e),t};function zp(e){return Vp.apply(this,arguments)}function Vp(){return s=regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,n=t.log,o=t.getConfig,"article"!==PageCriteria.pageType)return n("Not suitable for PageCriteria.pageType:",PageCriteria.pageType),e.abrupt("return");e.next=4;break;case 4:return s=o("pos.inread_player_top.paragraphIndex",2),e.prev=5,e.next=8,xp({broker:r,log:n,targetParagraphIndex:s});case 8:i=e.sent,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(5),n("giving up awaiting for new paragraph, article might just have ended with no suitable placement"),console.error(e.t0),e.abrupt("return");case 16:a=qp("inread_player_top"),s={pos:"inread_player_top"},i.parentElement.insertBefore(a,i),r.emit("slot defined",s,a);case 21:case"end":return e.stop()}},e,null,[[5,11]])}),(Vp=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Lp(n,t,r,o,i,"next",e)}function i(e){Lp(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function Fp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wp=function(e){function t(){var e,t,r,n=document.getElementById(c);n&&(e=(0,rt.getOffset)(n),t=(0,rt.getElementComputedHeight)(n),n=(0,rt.getOffset)(document.getElementById("page-container")),!o&&document.getElementById("smartBanner")&&(r=document.getElementById("smartBanner").getElementsByTagName("a")[0],o=r.addEventListener("click",function(e){r.removeEventListener("click",o),document.getElementById("leader_top").classList.remove("below-smart-banner")})),i&&document.getElementById("leader_top").classList.add("styled"),j.g.scrollY<e.top+t-n.top+s?setTimeout(function(){document.getElementById("leader_top").style.display="none"}):(document.getElementById("smartBanner")&&"block"===j.g.getComputedStyle(document.getElementById("smartBanner")).getPropertyValue("display")?document.getElementById("leader_top").classList.add("below-smart-banner"):document.getElementById("leader_top").classList.remove("below-smart-banner"),setTimeout(function(){a&&(a(),a=void 0),document.getElementById("leader_top").style.display="block"})))}var o,i,a,r=e.broker,n=e.getConfig,e=n("plugins.slots.leaderTop",{offsetBelowElement:0,triggerElementId:"billBoard"}),s=e.offsetBelowElement,c=e.triggerElementId,u=n("plugins.slots.leaderTop.hack",!1),s=parseInt(s);r.intercept("slot ready for ad",function(e,t){var r,e=function(e){if(Array.isArray(e))return e}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),3!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return Fp(e,3);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Fp(e,3):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=(e[0],e[1]);e[2],"leader_top"===r.pos?a=t:t()});var d=document.createElement("div");r.once("slot defined",function(){!function(){d.id="leader_top",d.style.display="none",document.body.appendChild(d);var e={id:"leader_top",parentId:"leader_top",pos:"leader_top"};u&&(e.command="pfadj"),r.emit("slot defined",e,d),r.on("ad rendered","leader_top",function(){i=!0,t()}),r.on("dom ready",function(){t(),[1e3,2e3,3e3].forEach(function(e){return setTimeout(t,e)}),document.addEventListener("scroll",j.g.DM.molFeMiniLodash.debounce(t,200),{passive:!0,capture:!0}),document.addEventListener("touchmove",j.g.DM.molFeMiniLodash.debounce(t,200),{passive:!0,capture:!0})})}()})};function Gp(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Hp(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Gp(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Gp(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Kp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $p=function(e,t,r,n,o){var i=r.id,r=(0,A.get)(n);return t.pos===n&&((o=(function(e){if(Array.isArray(e))return e}(o=o.exec(i)||[])||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(o)||function(e){if(e){if("string"==typeof e)return Kp(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Kp(e,2):void 0}}(o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1])&&(t.targeting={puff_offset:o}),t.adUnit=(0,Kt.Z)(i),t=Hp(Hp(Hp({},j.g.DM.molFeMiniLodash.clone(r)),t),{},{id:i,dfpPos:n,parentId:i,pos:i}),e.emit("update description",i,t)),t};function Yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jp=/mpu_mobile_other_(\d+)/;function Xp(e){var o=e.broker;o.intercept("slot defined",function(e,t){var r,n=function(e){if(Array.isArray(e))return e}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),3!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return Yp(e,3);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Yp(e,3):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e=n[0],r=n[1],n=n[2];t(e,$p(o,r,n,"mpu_mobile_others",Jp),n)})}function Zp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qp=/mpu_puff_other_(\d+)/;function eg(e){var o=e.broker;o.intercept("slot defined",function(e,t){var r,n=function(e){if(Array.isArray(e))return e}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),3!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return Zp(e,3);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Zp(e,3):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e=n[0],r=n[1],n=n[2];t(e,$p(o,r,n,"mpu_puff_others",Qp),n)})}function tg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rg=/puff_ad_other_(\d+)/,ng="puff_ad_others";function og(e){var o=e.broker,e=e.getConfig;o.intercept("slot defined",function(e,t){var r,n=function(e){if(Array.isArray(e))return e}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),3!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return tg(e,3);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?tg(e,3):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e=n[0],r=n[1],n=n[2];t(e,$p(o,r,n,ng,rg),n)}),e("plugins.slots.puffAdOthers.renderInfiniteList",{enabled:!1}).enabled&&o.on("infinite-list append",function(e){Array.from(e.getElementsByClassName("puff-ad-other")).forEach(function(e){o.emit("slot defined",{pos:ng},e)})})}function ig(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ag(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ig(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ig(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function sg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ug(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}var dg={refreshCount:0};function lg(e){return fg.apply(this,arguments)}function fg(){return s=regeneratorRuntime.mark(function e(t){var o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,o={},r.intercept("slot defined",function(e,t){e=sg(e,2),e[0],e=e[1].pos;o[e]=dg,t()}),r.on("destroy slot",function(e){delete o[e]}),r.register("get tags",function(e){e=e.slot.pos;return[o[e]]}),r.register("get video tags",function(e){e=e.slot.pos;return{cust_params:ag(ag({},o[e]||dg),{},{player:e})}}),r.intercept("refresh ads",function(e,t){var r=sg(e,2),e=(r[0],r[1]),r=e.positions,n=(e.plugins,e.reason);try{r.forEach(function(e){o[e]={refresh:!0,refreshCount:o[e].refreshCount+1,refreshReason:n}})}finally{t()}}),e.next=9,r.until("dom ready");case 9:(r=j.g.DM&&j.g.DM.molFeTracking&&j.g.DM.molFeTracking.pageEvents)&&r.subscribe("video.ad-impression",function(e,t){var r=qn(t.tag).cust_params,t=r.player,r=r.refreshCount;o[t]={refresh:!0,refreshCount:Number(void 0===r?0:r)+1}});case 11:case"end":return e.stop()}},e)}),(fg=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){ug(n,t,r,o,i,"next",e)}function i(e){ug(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function pg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gg(e){var o=e.broker;o.intercept("slot defined",function(e,t){var r,n=function(e){if(Array.isArray(e))return e}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),3!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return pg(e,3);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?pg(e,3):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e=n[0],r=n[1],n=n[2];t(e,$p(o,r,n,"mpu_factbox",/mpu_factbox_(\d+)/),n)})}function mg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yg(e){var o=e.broker;o.intercept("slot defined",function(e,t){var r,n=function(e){if(Array.isArray(e))return e}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),3!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return mg(e,3);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?mg(e,3):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e=n[0],r=n[1],n=n[2];t(e,$p(o,r,n,"mpu_mobile_factbox",/mpu_mobile_factbox_(\d+)/),n)})}function hg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vg=function(){return document.body.classList.contains("mol-desktop")},bg=window.innerWidth/window.screen.width;function wg(e){var a,s=e.broker,c=e.getConfig,u=e.log;window.getComputedStyle&&(u("starting"),a=c("plugins.enabled").includes("chromelessv2.dmplayer"),s.intercept("slot defined",function(e,t){var r,n=function(e){if(Array.isArray(e))return e}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),3!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return hg(e,3);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?hg(e,3):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],i=n[1],r=n[2],n=i.pos;if("sticky_banner"!==n||!a||(MobileUtils.isMobile()||(0,T.bP)())&&(0,T.ej)("smart-banner")){if("sticky_banner"===n)try{r=function(e){var t=e.broker,r=e.getConfig,n=e.log,o=e.container,e=r("pos.stickyBanner.hiddenUntilImpression",!0),i=r("pos.stickyBanner.underlayPadding.top",15),a=r("pos.stickyBanner.underlayPadding.bottom",15),r=r("pos.stickyBanner.underlayPadding.closeButton",!1);n("config:",{paddingTop:i,paddingBottom:a,hiddenUntilImpression:e});var s=document.createElement("div");s.id="stickyBannerUnderlay",e&&(s.style.display="none"),document.body.appendChild(s);e=mt();s.appendChild(e);e=document.createElement("div");return e.classList.add("adHolder"),e.classList.add("sticky_banner_overrides"),e.classList.add("noAdLabel"),e.id="stickyBanner",e.style.marginTop="0",s.style.padding="".concat(i,"px 0 ").concat(a,"px 0"),s.appendChild(e),vg()&&(0,rt.appendStyle)("#stickyBannerUnderlay #stickyBanner {\n      transform: scale(".concat(bg,");\n    }")),r&&((r=document.createElement("button")).classList.add("closeButton"),s.appendChild(r),r.addEventListener("click",function(){s.style.display="none"})),t.on("ad rendered","sticky_banner",function(e){var t=e.isEmpty,e=e.size;n("sticky banner rendered:",{isEmpty:t}),t?s.style.display="none":(t=e[1],s.style.display="flex",vg()&&(n("ad height:",t),e=t*bg-t,t=Math.round(i*bg+e/2),e=Math.round(a*bg+e/2),e="".concat(t,"px 0 ").concat(e,"px 0"),s.style.padding=e,n("scalled padding:",e)))}),o.parentNode.replaceChild(s,o),e}({broker:s,getConfig:c,log:u,ad:i,container:r})}catch(e){console.error(e)}t(o,i,r)}}))}var Sg=function(e){var t=window.getComputedStyle(e),r=parseInt(t["margin-left"]),n=parseInt(t["margin-right"]),o=parseInt(t["margin-top"]),i=parseInt(t["margin-bottom"]),a=parseInt(t["padding-left"]),s=parseInt(t["padding-right"]),c=parseInt(t["padding-top"]),u=parseInt(t["padding-bottom"]),t=(parseInt(t["border-left"]),parseInt(t["border-right"]),parseInt(t["border-top"]),parseInt(t["border-bottom"])),e=e.getBoundingClientRect();return(e={left:e.left-r,right:e.right-n-a-s,top:e.top-o,bottom:e.bottom-i-c-u-t}).width=e.right-e.left,e.height=e.bottom-e.top,e};function _g(t,r,e,n){var o=2<arguments.length&&void 0!==e?e:function(){},i=3<arguments.length&&void 0!==n?n:t,a="affix-off",s="affix-on",n=window.getComputedStyle(t,null),c=n.getPropertyValue("position"),u=n.getPropertyValue("top"),d=j.g.pageXOffset,l=Sg(i).left,f=!1,p=!1,g=!1,m={isOn:function(){return f},isOff:function(){return p},isActive:function(){return f||p}},y=r(m);function h(){m.isActive()&&(t.classList.remove(s),t.classList.remove(a),t.style.left="auto",t.style.position=c,t.style.top=u,p=f=!1,o(m))}function v(){l=Sg(i).left+(d-j.g.pageXOffset),d=j.g.pageXOffset,"fixed"===t.style.position&&(t.style.left=l+"px")}setInterval(function(){var e;y=r(m),"static"===t.style.position&&(e=t.getBoundingClientRect(),l=e.left)},1e3);function b(){var e;g||(e=j.g.pageYOffset,j.g.pageXOffset!==d&&v(),(y=r(m)).off&&y.off<e?!m.isOff()&&y.off<e&&(m.isOff()||(t.classList.remove(s),t.classList.add(a),t.style.left="auto",t.style.position="absolute",t.style.top=(y.stopped||y.off)+"px",p=!(f=!1),o(m))):y.on<e?!m.isOn()&&y.on<e&&(m.isOn()||(t.classList.remove(a),t.classList.add(s),t.style.left=l+"px",t.style.position="fixed",t.style.top="0",p=!(f=!0),o(m))):h())}var w=(0,Cn.FU)(function(){return setTimeout(b)},200);document.addEventListener("scroll",w),window.addEventListener("resize",(0,Cn.FU)(v,200)),w();return{handler:m,check:w,disable:function(){h(),g=!0,document.removeEventListener("scroll",w)}}}function Og(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ig=function(e){var t=document.querySelector("#".concat(e.slot.getSlotElementId()," iframe"));if(t)try{document.getElementById(e.slot.getSlotElementId()).parentElement.classList.add("billboard-watermark")}catch(e){console.error(e)}return t&&"90"===t.getAttribute("height")};function Eg(e){var t=e.broker;t.on("slot defined",function(n){var o;"billboard"===n.pos&&(t.intercept("ad rendered","billboard",function(e,t){var r,e=function(e){if(Array.isArray(e))return e}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),3!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return Og(e,3);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Og(e,3):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=e[1],e=e[2];try{o(r,e)}finally{t()}}),o=function(e,t){var r;t.isEmpty||!document.getElementById(n.parentId).parentNode||(r=document.getElementsByClassName("molads_billboard_on")[0])&&(Ig(t)?r.classList.add("molads_ldr_billboard_on"):r.classList.remove("molads_ldr_billboard_on"))})})}function Ag(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function kg(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ag(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ag(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function xg(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Pg(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){xg(n,t,r,o,i,"next",e)}function i(e){xg(n,t,r,o,i,"throw",e)}o(void 0)})}}var jg=(0,O.x)("StickyBillboard"),Tg="billboard",Cg="billboard-close",Rg=1/0,Dg=0,Ug=null,Mg=0,Bg=null,Ng=!1,Lg=!1,qg=!0,zg=function(e){var a,v=e.broker,b=e.barrier,w=e.forceViewEnabled;(0,E.isAdEnabled)({pos:Tg})&&(a=v.on("ad rendered",function(e,t){var y,h,r,n,o,i=t.slot?t.slot.molAd:{};t.isEmpty||i.pos!==Tg||"billBoard"!==i.parentId||(a.cancel(),y=document.getElementById(i.parentId),(h=(Ug=y).parentNode)&&(Ig(t)&&(r=y,t=h,document.getElementsByClassName("molads_billboard_on")[0]&&(n=r.classList.contains("affix-past-parent"),o=parseInt((0,rt.getOffset)(t).top)+t.scrollHeight,document.addEventListener("scroll",(0,Cn.FU)(function(){var e=parseInt((0,rt.getOffset)(r).top)+r.scrollHeight;o<e?n||(r.classList.add("affix-past-parent"),n=!0):n&&(r.classList.remove("affix-past-parent"),n=!1)},100)))),setTimeout(function(){var e,t,r,n,o,i,a,s,c,u,d,l,f,p,g,m;1<h.scrollHeight&&(f=(e={broker:v,barrier:b,adElement:y,forceViewEnabled:w}).broker,p=e.barrier,g=e.adElement,m=e.forceViewEnabled,Lg||(t=document.querySelector(".gamma"),o=(n=(r=document.querySelector(".lead-alpha"))&&r.querySelector(".alpha"))&&n.querySelector(".item"),u=r&&r.querySelector(".beta"),i=r&&r.querySelector(".sport"),a=r&&r.querySelector(".health"),s=r&&r.querySelector(".travel"),e=function(e){return e&&e.offsetTop<2e3&&e},c=document.querySelector("#fff-hub-banner")||e(document.querySelector(".article-text h1"))||e(document.querySelector(".article-text h2"))||document.querySelector("#sciencetech #content h2")||document.querySelector("#sciencetech, #arts, #you, #promotions, #tvshowbizheadlines, #food, #gardening, #femailblogs")&&u.querySelector(".item:nth-child(1)")||t&&t.querySelector(".tim-tools")||t&&t.querySelector(".sport.item:nth-child(2)")||t&&t.querySelector(".article-tri-headline h2")||n.querySelector(".article.article-tri-headline:nth-child(1) h2")||r&&r.querySelector(".football-team-news .article.article-large h2")||i&&i.querySelector(".article-large h2")||a&&a.querySelector(".health-archive h2")||s&&s.querySelector(".travel-banner h1")||u&&u.querySelector(".item:nth-child(1) .puff ul li:nth-child(1)")||u&&u.querySelector(".item:nth-child(1) .fff-hub .fff-search")||o&&o.querySelector("h3:not(.usability)")||u&&u.querySelector(".item:nth-child(2):not(.mpu_puff_wrapper)")||n&&n.querySelector(".item h6")||u&&u.querySelector(".item:nth-child(1)"),u=function(){var e,t;Mg=(g.parentElement.clientHeight-g.clientHeight)/2+(0,rt.getOffset)(g.parentElement).top,t=Mg+300,!c||(e=(0,rt.getOffset)(c).top+c.clientHeight-g.clientHeight)-Mg<=300&&(t=e),Dg=t,Rg!==1/0&&(Rg=Dg),f.emit("offset reset")},f.on("ad rendered","billboard",u),u(),m?p.then(function(){Rg=Dg,d&&d()}):Rg=Dg,p=_g(g,function(){return{on:Mg,off:Rg}},function(e){e.isOn()?f.emit("set slot state",Tg,"sticky"):e.isOff()?(g.style.position="relative",g.style.top=Rg-parseInt(Mg)+"px",f.emit("set slot state",Tg,"initial")):e.isActive()||f.emit("set slot state",Tg,"initial")},g.parentNode),d=p.check,l=p.disable,Bg=d,f.on("disable sticky position","billboard",function(){l(),d=null,Rg=Dg})))},500)))}))};function Vg(e){var t,r,n,o,i,a=e.broker,s=e.timeAfterScroll,c=e.timeAfterVisible,u=e.minimumVisibilityPeriod,d=e.waitMinVisiblity,l=void 0!==d&&d,f=new Promise(function(r){t=a.once("ad rendered",Tg,function(){var e={capture:!1,passive:!1},t=function(){null!==t&&(window.removeEventListener("scroll",t,e),t=null,setTimeout(function(){r()},s))};window.addEventListener("scroll",t,e)})}),p=new Promise(function(t){r=a.on("slot visibility changed",Tg,function(e){50<=e.inViewPercentage&&(r.cancel(),setTimeout(function(){t()},c))})}),g=new Promise(function(r){n=a.on("slot visibility changed",function(e,t){e===Tg&&50<=t.inViewPercentage&&(n.cancel(),setTimeout(function(){r()},u))})}),e=new Promise(function(t){o=a.once("disable force view when viewed","billboard",Pg(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l)return e.next=3,g;e.next=3;break;case 3:t();case 4:case"end":return e.stop()}},e)})))}),d=new Promise(function(t){i=a.once("disable sticky position","billboard",Pg(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}},e)})))});return Promise.race([f,p,e,d]).then(function(){[t,r,n,o,i].forEach(function(e){return e.cancel()})})}function Fg(e){var r,n,o=e.broker,t=e.barrier,i=e.renderCloseTimeout,a=void 0===i?0:i,i=e.resetToInfinity,s=void 0!==i&&i,e=e.refreshCount,c=void 0===e?0:e,u=o.on("ad rendered",Tg,function(e){var t=(e=e.slot?e.slot.molAd:{},document.getElementById(e.parentId));t&&(r?(c++,n&&clearInterval(n),t.appendChild(r)):(s&&(Rg=1/0,Bg&&Bg()),(r=document.createElement("div")).classList.add(Cg),r.addEventListener("click",function(){u.cancel(),DM.pageEvents.publish(DM.pageEvents.AD_BILLBOARD_CLOSED),o.emit("send event to bidmax",{type:"custom",payload:{userClosedBillboard:!0,refreshCount:c}}),Rg=Dg,Bg&&Bg(),t.removeChild(r),r=null}),n=setTimeout(function(){t.appendChild(r)},a)))});o.on("disable force view when viewed",Tg,function(){Ng=!0,u.cancel(),n&&clearInterval(n),r&&Ug.querySelector(".".concat(Cg))&&(Ug.removeChild(r),r=null)}),t.then(function(){r&&Ug.querySelector(".".concat(Cg))&&Ug.removeChild(r),u.cancel(),n&&clearInterval(n),r=null,Bg&&Bg()})}function Wg(e){var t,r,n,o,i,a,s,c,u,d=e.broker,l=e.getConfig;d.emit("set slot state",Tg,"initial"),l("stickyAds",[]).includes(Tg)&&window.getComputedStyle&&(d.on("stop refreshing ads",function(){qg=!1}),d.on("disable sticky position",Tg,function(){Lg=!0}),d.on("disable force view when viewed",Tg,function(){Ng=!0}),i=l("sticky.billboard"),o=l("pos.billboard.forceView",!0),t=i.timeAfterScroll,r=i.timeAfterVisible,e=i.minimumVisibilityPeriod,l=void 0===(l=i.renderCloseTimeout)?5e3:l,r=Vg({broker:d,timeAfterScroll:void 0===t?5e3:t,timeAfterVisible:void 0===r?3e3:r,minimumVisibilityPeriod:void 0===e?3e3:e,waitMinVisiblity:!0}),zg({broker:d,barrier:r,forceViewEnabled:o}),i.secondary&&i.secondary.enabled?(e={broker:d,barrier:r,secondaryBillboardConfig:i.secondary},n=e.broker,o=e.barrier,e=(i=e.secondaryBillboardConfig).initialRefresh,a=void 0===e?5e3:e,s=i.refreshInterval,e=i.displayDuration,c=void 0===e?3e3:e,i=i.activeView,u=void 0===i||i,o.then(function(){setTimeout(function(){var e;!qg||Ng||Lg||(e=Vg({broker:n,timeAfterScroll:c,timeAfterVisible:c}),Fg({broker:n,resetToInfinity:!0,barrier:e,refreshCount:1}),e.then(function(){Rg=Dg,Bg&&Bg()}),s&&n.emit("setup ad refresh",{pos:Tg,id:"billBoard",interval:s,activeViewSlot:u}),n.emit("prepare to refresh ads",[Tg]),n.emit("refresh ads",{ids:["billBoard"],reason:"secondary",positions:[Tg]}))},a)})):Fg({broker:(l={broker:d,barrier:r,renderCloseTimeout:l}).broker,renderCloseTimeout:l.renderCloseTimeout,barrier:l.barrier}))}Wg.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=t("sticky.billboard.secondary",{}),o=n.minPageHeight||900,i=(0,T.ap)().height>=o,a=n.enabled&&i,s=t("pos.billboard.forceView",!0);if(!a||!s)return r("sticky.billboard.secondary.enabled",!1),void jg("bailing; secondaryEnabled: ".concat(n.enabled,", minHeightForSecondaryMet: ").concat(i,", forceViewEnabled: ").concat(s));e=t("adsRefresh",{slots:[],activeViewSlots:[]}),o=e.slots||[],a=o.filter(function(e){return e!==Tg}),i=e.activeViewSlots||[],s=i.filter(function(e){return e.pos!==Tg});r("adsRefresh",kg(kg({},e),{slots:a,activeViewSlots:s}));o=o.find(function(e){return e===Tg}),i=i.find(function(e){return e.pos===Tg});o?r("sticky.billboard.secondary",kg(kg({},n),{activeView:!1,refreshInterval:e.interval})):i&&r("sticky.billboard.secondary",kg(kg({},n),{activeView:!0,refreshInterval:i.interval})),jg("Updated refresh config",t("adsRefresh")),jg("stickyBillboard config",t("sticky.billboard"))};var Gg,Hg=function(e,t){var r=e+"on",n=e+"off",e=document.documentElement;e.classList.remove(r),e.classList.remove(n),e.classList.add(t?r:n)};function Kg(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function $g(r,e,t){var n,o,i,a,s,c,u,d=document.getElementById("content");d&&(n=window.getComputedStyle(r,null),a=parseInt(n.getPropertyValue("width")),o=t(n,d,a),i=(0,rt.getOffset)(r).top,a=document.querySelector(".puff li:nth-child(20)"),s=e?1/0:a?(0,rt.getOffset)(a).top:i+5e3,c=function(e){var t;e.isOn()?(t=(0,rt.getOffset)(d).left+o.on,r.style.left=t+"px"):e.isOff()?(r.style.left=o.off,r.style.top=s-i+"px"):r.style.left=o.cancel},u=_g(r,function(){return{on:i,off:s}},c).handler,window.addEventListener("resize",DM.molFeMiniLodash.debounce(function(){return c(u)},300)))}function Yg(e,t){var r=window.getComputedStyle(t,null),n=(0,rt.getOffset)(t).top,o=parseInt(r.getPropertyValue("height")),i=n+o,t=window.getComputedStyle(e,null),t=parseInt(t.getPropertyValue("height"));return e.dataset.originalPadding||(e.dataset.originalPadding=(0,rt.getOffset)(e).top-n),{elementTop:n+parseInt(e.dataset.originalPadding),parentBottom:i,parentHeight:o,elementHeight:t,parentTop:n,marginBottom:parseInt(r.getPropertyValue("margin-bottom"))}}var Jg,Xg,Zg,Qg=(0,I.U2)("stickyAds",[]),em=(Xg=regeneratorRuntime.mark(function e(r){var n,t,o,i,a,s,c,u,d,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="sky_r"===r.id.substr(0,5),t=document.querySelector(".puff li:nth-child(20)"),e.next=4,Jg;case 4:o=document.getElementById("top"),l=(0,rt.getOffset)(o).top,a=window.getComputedStyle(o,null),i=parseInt(a.getPropertyValue("width")),a=j.g.getComputedStyle(r,null),s=parseInt(a.getPropertyValue("width")),c=(t?(0,rt.getOffset)(t).top-l:l+5e3)+1280,u=c+document.documentElement.scrollHeight,r.style.top=c+"px",d=function(e){var t;e.isOn()?(t=n?(0,rt.getOffset)(o).left+i+15:(0,rt.getOffset)(o).left-s-15,r.style.left=t+"px"):e.isOff()?(r.style.removeProperty("left"),r.style.top=u+"px"):(r.style.removeProperty("left"),r.style.position="absolute",r.style.top=c+"px")},l=_g(r,function(){return{on:c,off:u}},d),f=l.handler,j.g.addEventListener("resize",DM.molFeMiniLodash.debounce(function(){return d(f)},300));case 17:case"end":return e.stop()}},e)}),Zg=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=Xg.apply(e,a);function o(e){Kg(n,t,r,o,i,"next",e)}function i(e){Kg(n,t,r,o,i,"throw",e)}o(void 0)})},function(e){return Zg.apply(this,arguments)}),tm=function(){(0,E.isAdEnabled)({pos:"sky_right_top"})&&Gg.once("ad rendered","sky_right_top",function(){var e,t=document.getElementById("js-sky-right");t&&Qg.includes("sky_right_top")&&(e=t,t=!(0,E.isAdEnabled)({pos:"sky_right_bottom"}),$g(e,t,function(e,t,r){e=parseInt(e.getPropertyValue("right")),t=window.getComputedStyle(t,null);return{on:parseInt(t.getPropertyValue("width"))+(Math.abs(e)-r),off:"auto",cancel:"auto"}}))}),(0,E.isAdEnabled)({pos:"sky_left_top"})&&Gg.once("ad rendered","sky_left_top",function(){var e,t=document.getElementById("js-sky-left");t&&Qg.includes("sky_left_top")&&(e=t,t=!(0,E.isAdEnabled)({pos:"sky_left_bottom"}),$g(e,t,function(e,t,r){e=parseInt(e.getPropertyValue("left"));return{on:-r-15,off:e+"px",cancel:e+"px"}}))}),DM.later("DOM_READY",function(){["sky_right_bottom","sky_left_bottom"].forEach(function(e){var t=document.getElementById(e);Qg.includes(e)&&t&&em(t)})})},rm=function(r){var n;(0,E.isAdEnabled)({pos:r})&&(n=Gg.on("ad rendered",r,function(e){var t;e.isEmpty||e&&!e.isEmpty&&e.size&&2===e.size.length&&300===e.size[0]&&600===e.size[1]||(n.cancel(),(e=document.getElementById(r))&&(t=(0,rt.closest)(e,function(e){return e.classList.contains("mpu_puff_wrapper")}))&&(t.classList.add("sliding_mpu"),function(t,r){function e(e){e.isOn()?t.style.left=r.getBoundingClientRect().left+"px":e.isOff()&&(e=Yg(t,r),t.style.top=e.parentHeight-e.elementHeight-e.marginBottom+"px")}j.g.addEventListener("resize",DM.molFeMiniLodash.debounce(function(){return e(n)},300));var n=_g(t,function(){var e=Yg(t,r);return{on:e.elementTop,off:e.parentBottom-e.elementHeight}},e).handler}(e,t)))}))};function nm(e){var r,n,t=e.broker;if(Gg=t,window.getComputedStyle){Jg=new Promise(function(e){var t=new Set,r=0,n=Gg.on("get tags",function(e){e=e.pos;return t.add(e)}).cancel,o=Gg.on("ad requested",function(e){return t.add(e)}).cancel,i=Gg.on("ad rendered",function(){r++,t.size<=r&&(n(),o(),i(),e())}).cancel});t=j.g.DM||{log:function(){}};try{Hg(n="molads_leader_top_",!1),(0,E.isAdEnabled)({pos:"leader_top"})&&(r=Gg.on("ad rendered","leader_top",function(e){var t=e.slot?e.slot.molAd:{};"leader_top"===t.parentId&&(r.cancel(),document.getElementById(t.parentId),Hg(n,!e.isEmpty))}))}catch(e){t.log("Missing configuration for leaderboard")}tm(),Qg.forEach(function(e){/mpu_puff_\d{2,}/.test(e)&&rm(e)})}}function om(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return im(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?im(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function im(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function am(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function sm(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?am(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):am(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var cm=(0,O.x)("gallery"),um=function(e){var t=e.broker,r=e.rootElement,n=void 0===r?document.body:r,o=e.ad,i=e.className,a=e.cssText,r=document.createElement("div");r.id=o.pos;e=document.createElement("div");return e.className="placeholder",r.appendChild(e),i&&(r.className=i),a&&(r.style.cssText=a),n.appendChild(r),t.emit("slot defined",o,r),r},dm=function(e){e=getComputedStyle(e,"");return{width:(parseFloat(e.width)||0)+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),height:(parseFloat(e.height)||0)+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)}},lm={sticky_banner_gallery_top:{size:[[320,50]],dynamic:!0},sticky_banner_gallery_bottom:{size:[[320,50]],dynamic:!0}};function fm(e){var a=e.broker,s=sm({},(0,e.getConfig)("some.config.path",lm));MobileUtils.isMobile()?Object.keys(s).forEach(function(e){-1!==e.indexOf("sky")&&delete s[e]}):Object.keys(s).forEach(function(e){-1!==e.indexOf("sticky_banner")&&delete s[e]});var c={},u=null,d=null,l=null,t=null,r=null,f=null;a.register("get enabled not-quite-dynamic slots",function(){return Object.keys(s)}),a.register("get not-quite-dynamic extra slot descriptions",function(){return Object.entries(s).map(function(e){e=om(e,2);return sm({pos:e[0]},e[1])})});function p(t){var r={width:["left","right"],height:["top","bottom"]},n="width"===t?0:1,e=Object.keys(s).filter(function(e){return e.includes(r[t][0])||e.includes(r[t][1])});if(e.length)return e.map(function(e){if(s[e].size.length)return 1===s[e].size.length?s[e].size[0][n]:s[e].size.reduce(function(e,t){return(t[n]>e[n]?t:e)[n]})}).reduce(function(e,t){return e<t?t:e})}function n(){var e,t,r,n,o,i;cm("Gallery openned"),e=p("width"),t=p("height"),r=window,n=r.innerWidth,r=r.innerHeight,o=e?n-2*(e+20):n,i=t?r-2*t:r,Array.from(document.querySelectorAll("#mobileGallerySwipeWrap > div > div:first-child")).filter(function(e){return e.firstElementChild}).map(function(e){return e.firstElementChild}).forEach(function(e){var t=dm(e),t=Math.min(i/t.height,o/t.width);e.classList.contains(".vjs-video-container")&&i<o&&(t*=.78),e.style.transform="scale(".concat(t,")")}),Object.entries(s).forEach(function(e){var t=om(e,2),e=t[0],t=sm(sm({},t[1]),{},{pos:e,adUnit:(0,Kt.Z)(e)});t.id||(t.id=e),c[e]={container:um({broker:a,rootElement:u,ad:t})},g[e]&&g[e](dm(c[e].container)),MobileUtils.isMobile()&&(e.includes("top")&&(c[e].addEl=d),e.includes("bottom")&&(c[e].addEl=l))}),f=a.on("ad rendered",function(e){e=c[e]&&c[e].container.querySelector(".placeholder");e&&e.remove()})}function o(){f.cancel(),MobileUtils.isMobile()&&MobileUtils.isLandscape()&&(d.style.top="0",l.style.bottom="0",r.style.bottom="".concat(t.height,"px")),Object.entries(c).forEach(function(e){var t=om(e,2),e=t[0];t[1].container.remove(),a.emit("destroy slot",e)})}var g={sticky_banner_gallery_top:function(e){d.style.top="".concat(e.height,"px")},sticky_banner_gallery_bottom:function(e){l.style.bottom="".concat(e.height,"px"),r.style.bottom="".concat(e.height+t.height,"px")}};MobileUtils.isMobile()&&window.addEventListener("orientationchange",function(){setTimeout(function(){(MobileUtils.isLandscape()?o:n)()},200)}),a.on("dom ready",function(){var e=document.getElementById("mobileGalleryModal");DM.pageEvents.subscribe("gallery.opened",n),DM.pageEvents.subscribe("gallery.closed",o),u=document.getElementById("mobileGallerySlider"),d=e.querySelector(".top-bar"),l=e.querySelector(".navigation-bar"),t=dm(l),r=e.querySelector(".caption-bar")})}var pm=(0,I.U2)("stickyAds",[]),gm=function(e){var t=e.broker,r=e.getPuffListStart,n=e.getOffElement,o=e.pos,e=e.id,i=void 0===e?o:e,a=t.on("ad rendered",o,function(e){e.isEmpty||(a.cancel(),(e=document.getElementById(i))&&function(e,t,r){var n,o=e.parentNode,i=function(e,t){var r=1<arguments.length&&void 0!==t?t:e.parentNode,n=getComputedStyle(r,null),o=(0,rt.getOffset)(r).top,i=parseInt(n.getPropertyValue("height")),a=o+i,t=getComputedStyle(e,null),r=parseInt(t.getPropertyValue("height"));return e.dataset.originalPadding||(e.dataset.originalPadding=(0,rt.getOffset)(e).top-o),{elementTop:o+parseInt(e.dataset.originalPadding),parentBottom:a,parentHeight:i,elementHeight:r,parentTop:o,marginBottom:parseInt(n.getPropertyValue("margin-bottom")),marginTop:parseInt(t.getPropertyValue("margin-top"))}}(e,o),a=i.elementTop,s=(n=t&&t()||function(e,t){e=1<arguments.length&&void 0!==t?t:e.parentNode;return(0,rt.walk)(e,function(e){return e.classList.contains("mpu_puff_wrapper")&&e.querySelector("iframe")},function(e){return e.nextElementSibling})}(e,r))?(t=i.elementHeight,r=n.previousElementSibling,n=getComputedStyle(r,null),(0,rt.getOffset)(r).top+parseInt(n.getPropertyValue("height"))-t):1/0,c=s!=1/0&&(u=(0,rt.getRelativeContainer)(o))?s-(0,rt.getOffset)(u).top:s,u=_.debounce(function(){d.isOn()&&(e.style.left=o.getBoundingClientRect().left+"px")},300);o.style.height=i.parentHeight+"px",o.style.marginTop=i.marginTop+"px",window.addEventListener("resize",u);var d=_g(e,function(e){return{off:s,on:a,stopped:c}},u).handler}(e,n,r(e)))})};function mm(e){e=e.broker;window.getComputedStyle&&(pm.includes("mpu_puff_5")&&gm({broker:e,pos:"mpu_puff_5",getPuffListStart:function(e){return(0,rt.getParent)(e,".item")}}),pm.includes("mpu_top")&&gm({broker:e,pos:"mpu_top",getPuffListStart:function(e){var t=(0,rt.getParent)(e,".item"),e=(0,rt.walk)(t,function(e){return e.querySelector(".puff")},function(e){return e.nextElementSibling});return e?e.querySelector(".puff li"):t}}))}function ym(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vm(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}var bm="mpu_left",wm=function(e){var t=document.createElement("div");return t.style.position="fixed",t.style.top="".concat(e,"px"),t.style.zIndex=50,t},Sm={mpu_left:{dynamic:!0}};function _m(e){return Om.apply(this,arguments)}function Om(){return s=regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,(n=t.log)("Starting..."),r.register("get enabled not-quite-dynamic slots",function(){return Object.keys(Sm)}),o=new Promise(function(t){r.on("slot defined",function(e){e.pos.includes("sky_left_top")&&t()})}),n("Awaiting to find out height of sky_left_top"),e.next=7,r.until("update description","sky_left_top");case 7:return i=e.sent,s=ym(i,1),i=s[0].size,s=i.map(function(e){return ym(e,2)[1]}).sort(function(e,t){return t-e})[0],n("Sky left top max height:",s),i=wm(s+50),e.next=15,o;case 15:if(a=document.getElementById("js-sky-left")){e.next=18;break}return e.abrupt("return");case 18:return a.appendChild(i),s={id:bm,parentId:bm,pos:bm},r.emit("slot defined",s,i),n("slot created",s,i),e.next=24,r.until("ad rendered","mpu_left");case 24:n("slot rendered");case 25:case"end":return e.stop()}},e)}),(Om=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){vm(n,t,r,o,i,"next",e)}function i(e){vm(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}var Im,Em=function(){return function(){}},Am=function(e,t){return"function"==typeof t?t():t};function km(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xm(e){return(xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pm(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function jm(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Pm(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Pm(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Tm(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Cm(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Tm(n,t,r,o,i,"next",e)}function i(e){Tm(n,t,r,o,i,"throw",e)}o(void 0)})}}performance.mark&&performance.measure&&(Im=0,Em=function(e){var t="benchmark-".concat(Im++);return performance.mark("".concat(t,"-begin")),function(){performance.mark("".concat(t,"-end")),performance.measure(e,"".concat(t,"-begin"),"".concat(t,"-end"))}},Am=function(e,t){e=Em(e);try{return"function"==typeof t.then?(t.then(e),t):t()}finally{e()}});var Rm="mol.ads.cmp.tcf.cache",Dm=["getTCData","hasUserConsentedToAll","hasUserDissentedToAll","getPurposesByVendorMap","getConsentDegree","getCustomVendorsConsents","getValidTCData","consentedVendors"],Um=function(){return!!localStorage.getItem(Rm)};function Mm(){return(Mm=Cm(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.tcString.length)return r=Dm.map(function(){var t=Cm(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n("cache update request for:",t),e.t0=t,e.next=4,Ec(t);case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),e.next=4,Promise.all(r);e.next=6;break;case 4:e.sent.forEach(function(e){var t,r,e=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return km(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?km(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=e[0],r=e[1];n("caching",t);e=JSON.parse(localStorage.getItem(Rm))||{};e[t]=r,localStorage.setItem(Rm,JSON.stringify(e))});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bm(n,e){function u(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,["stub:"].concat(t))}var d=Em("tcfv2 stub lifetime"),l=[],o=window,i=!1,f=!1;u("creating");var t=localStorage.getItem(Rm),p={};(p=t?JSON.parse(t):p).getTCData&&0===Rr(p.getTCData.tcString).consentScreen&&(u("Clearing cache with invalid consentScreen value"),delete p.getTCData,delete p.getValidTCData),e.register("call for page analytics",function(){return{tcfApiListenerIdMismatch:f}});var g=0,m={};!function e(){var t,r=o.document;o.frames.__tcfapiLocator||("interactive"===r.readyState||"complete"===r.readyState?((t=r.createElement("iframe")).style.display="none",t.name="__tcfapiLocator",r.body.appendChild(t),i&&(r.removeEventListener("readystatechange",e),i=!1)):"function"==typeof r.addEventListener?(r.addEventListener("readystatechange",e),i=!0):setTimeout(e,5))}(),o.__tcfapi=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return d(),l;var o,i,a=r[2],s=r[0];switch(s){case"setGdprApplies":3<r.length&&2===parseInt(r[1],10)&&"boolean"==typeof r[3]&&(e=r[3],"function"==typeof a&&a("set",!0));break;case"ping":"function"==typeof a&&a({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"});break;default:if(Dm.length){if("addEventListener"===s)return o=a,c=p.getTCData,i=g++,u("adding provisional listener:",i),m[i]={},l.push(["addEventListener",2,function(e,t){var r=e.listenerId;m[i]?(m[i].realListenerId=r,i!==r&&(f=!0),m[i].listenerId=r,o(jm(jm({},e),{},{listenerId:i}),t)):u("ignoring event coz already removed listener:",{listenerId:i,realListenerId:r})}]),void(c&&o(jm(jm({},c),{},{listenerId:i,eventStatus:"tcloaded"}),!0));if("removeEventListener"===s)return function(e,t){var r=e[3];u("removing provisional listener:",r);e=m[r];if(!e)return u("unknown listener:",r),void t(!1);e=e.realListenerId;delete m[r],e&&l.push(["removeEventListener",2,function(e){return t(e)},e]),t(!0)}(r,a)}if(Dm.includes(s)){r[3]&&u("cache method called with argument:",r[3]);var c=p[s];if(void 0!==c)return u("returning cached value for",s),void a(c,!0)}u("queueing",s),l.push(r)}},o.addEventListener("message",function(e){var r=e&&e.source;if(r&&"function"==typeof r.postMessage){var n,o="string"==typeof e.data,t=e.data;if(o)try{t=JSON.parse(e.data)}catch(e){return}"object"===xm(t)&&t.__tcfapiCall&&(n=t.__tcfapiCall,window.__tcfapi(n.command,n.version,function(e,t){t={__tcfapiReturn:{returnValue:e,success:t,callId:n.callId}};r.postMessage(o?JSON.stringify(t):t,"*")},n.parameter))}else r&&"function"!=typeof r.postMessage&&u("Message event.source.postMessage is not a function, bailing")},!1)}function Nm(){try{return JSON.parse(localStorage.getItem(zm)||"{}")}catch(e){return{}}}function Lm(e){localStorage.setItem(zm,JSON.stringify(e)),Vm=e}var qm=(0,O.x)("tcfv2"),zm="mol.ads.cmp.customVendors",Vm={},Vm=Nm(),ft=j(1171),Fm=j.n(ft);function Wm(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Gm(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Wm(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Wm(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Hm(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Km(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Hm(n,t,r,o,i,"next",e)}function i(e){Hm(n,t,r,o,i,"throw",e)}o(void 0)})}}var $m,Ym,Jm,Xm,Zm=(gt=Qm,nt=[{key:"untilSiteIsReadyToLoadScript",value:function(){var e=this.context,t=e.getConfig,r=e.log;return new Promise(function(e){"mol"===t("site")?(r("awaiting for molFeReact_LOADED"),window.DM.later(["molFeReact_LOADED"],function(){r("molFeReact_LOADED ready"),e()})):e()})}},{key:"loadScript",value:function(n,o){return new Promise(function(e,t){var r=document.createElement("script");r.src=n,r.id="mol-ads-tcfv2-script",r.dataset.opts=JSON.stringify(o),r.onload=function(){return e()},r.onerror=function(){return t(new Error("Error loading ".concat(n)))},document.head.appendChild(r)})}},{key:"loadController",value:(Xm=Km(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.log("loading controller.."),this.opts.showUi)return e.next=4,this.resolveUuid();e.next=7;break;case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=void 0;case 8:return t=e.t0,this.opts.uuid=t,e.abrupt("return",Promise.all([Am("wait for external deps",this.untilSiteIsReadyToLoadScript())]).then(Km(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.log("loading controller from:",r.tcfv2Script),e.next=3,Am("tcfv2 controller load",r.loadScript(r.tcfv2Script,r.opts));case 3:r.log("controller loaded");case 4:case"end":return e.stop()}},e)}))));case 11:case"end":return e.stop()}},e,this)})),function(){return Xm.apply(this,arguments)})},{key:"openUi",value:(Jm=Km(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<n.length&&void 0!==n[0]?n[0]:"Level1",e.next=3,this.resolveUuid();case 3:r=e.sent,this.track("tcfv2-ui-open",{level:t}),window.postMessage({ns:"@mol-ads/mol-ads-cmp",id:this.brokerId,sender:"@mol-ads/mol-adverts",action:"open",payload:{uiLevel:t,uuid:r}},"*");case 6:case"end":return e.stop()}},e,this)})),function(){return Jm.apply(this,arguments)})},{key:"track",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this.context,n=r.broker,r=r.storage;n.emit("send event to bidmax",{type:"custom",payload:Gm({event:e,validConsent:r.getConsentDegree()||void 0},t)})}},{key:"uuidFromStorage",value:function(){var e=this.context.storage,t=e.getUuid();return t||(t=Fm()(),e.setUuid(t)),t}},{key:"uuidFromRta",value:(Ym=Km(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.g.RTA.ids;case 2:return t=e.sent,t=t.user,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),function(){return Ym.apply(this,arguments)})},{key:"resolveUuid",value:($m=Km(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.useRtaUuid;case 2:if(!e.sent){e.next=6;break}e.t0=this.uuidFromRta(),e.next=7;break;case 6:e.t0=this.uuidFromStorage();case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e,this)})),function(){return $m.apply(this,arguments)})}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(gt.prototype,nt),Qm);function Qm(e,t){var n=this;!function(e){if(!(e instanceof Qm))throw new TypeError("Cannot call a class as a function")}(this);var r,o=e.getConfig,i=e.log,a=e.storage,s=e.broker,c=e.showUi;this.context=e,this.log=i,this.broker=s,this.scriptBase=o("tcfv2.scriptBase","//cmp.dmgmediaprivacy.co.uk/cmp"),this.tcfv2Version=o("tcfv2.version",""),this.tcfv2UiScriptBase=o("tcfv2.uiScriptBase","//www.dailymail.co.uk/static/mol-fe/static/mol-fe-cmp"),this.gvlVersion=t||"".concat(o("tcfv2.gvlUiVersion","51")),this.gvlUiVersion="".concat(o("tcfv2.gvlUiVersion","51")),this.cvlVersion=o("tcfv2.cvlVersion","0.0.1"),this.tcfv2UiVersion=o("tcfv2.uiVersion",""),this.tcfv2BackendUrl=o("tcfv2.backendUrl","//cmp.dmgprivacyint.co.uk/gdpr/consent/persist"),this.tcfv2UiFile=o("tcfv2.uiFile","index.js"),this.brand=o("tcfv2.brand",{}),this.renderPlatform=o("tcfv2.renderPlatform",""),this.platform="web",this.uiScriptUrl="".concat(this.tcfv2UiScriptBase,"/").concat(this.tcfv2UiVersion,"/").concat(this.tcfv2UiFile),this.tcfv2Script="".concat(this.scriptBase,"/").concat(this.tcfv2Version,"/index.js"),this.persistCustomVendors=o("tcfv2.persistCustomVendors",!0),this.storeUserPreference=o("tcfv2.storeUserPreference",!1),this.tcfv2UseRtaId=o("tcfv2.uuid.useRtaId",!1),this.brokerId=Math.random().toString(36).substring(2),this.untilSiteIsReadyToLoadScript=this.untilSiteIsReadyToLoadScript.bind(this),this.opts={brand:this.brand,brokerId:this.brokerId,gvlVersion:this.gvlVersion,gvlUiVersion:this.gvlUiVersion,cvlVersion:this.cvlVersion,showUi:c,uiLevel:"Level1",uiScriptUrl:this.uiScriptUrl,controllerScriptBase:"".concat(this.scriptBase,"/").concat(this.tcfv2Version),storeUserPreference:this.storeUserPreference,tcString:a.getConsent(),customVendors:{consents:Nm()},backendUrl:this.tcfv2BackendUrl,persistCustomVendors:this.persistCustomVendors,renderPlatform:this.renderPlatform,platform:this.platform},j.g.addEventListener("message",(r=Km(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"@mol-ads/mol-ads-cmp"===(r=t.data).ns&&r.id===n.brokerId&&"level_changed"===r.action&&r.sender!==n.sender&&n.track("tcfv2-ui-open",{level:r.payload.currentLevel,changed:!0});case 2:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})),this.openUi=this.openUi.bind(this),this.broker.on("plugins enabled",function(){window.postMessage({ns:"@mol-ads/mol-ads-cmp",id:n.brokerId,sender:"@mol-ads/mol-adverts",action:"ads-initialised",payload:{}},"*")})}var ey="mol.ads.cmp.tcf.client",ty="mol.ads.cmp.userConsentDegree",ry="mol.ads.cmp.tcf.gvlVersion",ny="mol.ads.tcfv2.uuid",oy="mol.ads.cmp.tcfv2.reprompt",ft=(function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(iy.prototype,[{key:"getConsent",value:function(){return localStorage.getItem(ey)}},{key:"setConsent",value:function(e){localStorage.setItem(ey,e)}},{key:"getConsentDegree",value:function(){return localStorage.getItem(ty)||void 0}},{key:"setConsentDegree",value:function(e){localStorage.setItem(ty,e)}},{key:"getVendorListVersion",value:function(){return localStorage.getItem(ry)}},{key:"setVendorListVersion",value:function(e){localStorage.setItem(ry,e)}},{key:"setRepromptVersion",value:function(e){localStorage.setItem(oy,JSON.stringify(e))}},{key:"getUuid",value:function(){return localStorage.getItem(ny)}},{key:"setUuid",value:function(e){localStorage.setItem(ny,e)}},{key:"getTcfv1ConsentFlag",value:function(){return localStorage.getItem("mol.ads.cmp.consent")}},{key:"getTcfv1ConsentString",value:function(){return localStorage.getItem("euconsent")}},{key:"getRepromptVersion",value:function(){var e;try{var t=localStorage.getItem(oy);t&&(e=JSON.parse(t))}catch(e){console.error("unabled to parse repromptVersion")}return e||{version:0,chance:Math.random()}}}]),iy);function iy(){!function(e){if(!(e instanceof iy))throw new TypeError("Cannot call a class as a function")}(this)}function ay(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function sy(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ay(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ay(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function cy(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}var uy,dy,ly=(gt=fy,nt=[{key:"setup",value:(uy=regeneratorRuntime.mark(function e(){var t,r,n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.context,n=t.validTCDataP,t=t.registerPluginBouncer,e.next=3,n;case 3:return r=e.sent,e.t0=Set,e.next=7,Ec("consentedVendors");case 7:e.t1=e.sent,n=new e.t0(e.t1),this.context=sy(sy({},this.context),{},{tcData:r,vendorConsents:n}),t(function(e,t){return o.checkVendorIds(e,t)&&o.checkPurposeIds(e,t)&&function(e,t){if(!t.vendorIds||void 0===t.vendorIds.google)return!0;t=t.vendorIds.google.filter(function(e){return!(Vm[e]&&Vm[e].consent)});return!t.length||(qm("plugin",e,"bounced because user have not consented to custom vendors:",t),!1)}(e,t)&&o.checkLegIntPurposeIds(e,t)});case 11:case"end":return e.stop()}},e,this)}),dy=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=uy.apply(e,a);function o(e){cy(n,t,r,o,i,"next",e)}function i(e){cy(n,t,r,o,i,"throw",e)}o(void 0)})},function(){return dy.apply(this,arguments)})},{key:"checkVendorIds",value:function(e,t){var r=this.context,n=r.log,o=r.vendorConsents;if(!t.vendorIds||void 0===t.vendorIds.gdpr)return!0;if(!1===t.vendorIds.gdpr)return n("plugin",e,"bounced because it is not supported where GDPR applies"),!1;t=t.vendorIds.gdpr.filter(function(e){return!o.has(e)});return!t.length||(n("plugin",e,"bounced because user have not consented to vendors:",t),!1)}},{key:"checkPurposeIds",value:function(e,t){var r=this.context,n=r.log,o=r.tcData;if(!t.purposeIds||void 0===t.purposeIds.gdpr)return!0;if(!Array.isArray(t.purposeIds.gdpr))return n.warn("gdprPurposeIds must be an array, but got:",t.purposeIds.gdpr),!1;t=t.purposeIds.gdpr.filter(function(e){return!o.purpose.consents[e]});return!t.length||(n("plugin",e,"bounced because user have not consented to purposes:",t),!1)}},{key:"checkLegIntPurposeIds",value:function(e,t){var r=this.context,n=r.log,o=r.tcData;if(!t.legIntPurposeIds||void 0===t.legIntPurposeIds.gdpr)return!0;if(!Array.isArray(t.legIntPurposeIds.gdpr))return n.warn("gdprPurposeIds must be an array, but got:",t.purposeIds.gdpr),!1;t=t.legIntPurposeIds.gdpr.filter(function(e){return!o.purpose.legitimateInterests[e]});return!t.length||(n("plugin",e,"bounced because user have not consented to legitimate interests:",t),!1)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(gt.prototype,nt),fy);function fy(e){!function(e){if(!(e instanceof fy))throw new TypeError("Cannot call a class as a function")}(this),this.context=e}function py(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function gy(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?py(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):py(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function my(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function yy(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){my(n,t,r,o,i,"next",e)}function i(e){my(n,t,r,o,i,"throw",e)}o(void 0)})}}var hy,vy,by={yes:"true",no:"false",partial:"custom"},wy=(vy=yy(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.validTCDataP,n=t.pValidConsentDegree,o=t.log,t.broker,i=t.getConfig,i=i("tcfv2.par",{vendorIds:{gdpr:[755]},purposeIds:{gdpr:[1,3,4]}}),e.next=4,r;case 4:return a=e.sent,e.next=7,n;case 7:return c=e.sent,o("consentDegree",c),s=Rr(a.tcString),u=s.vendorListVersion,s={consent:by[c],gdpr:a.gdprApplies?"1":"0",gdpr_consent:a.tcString,cmp:"tcfv2",iabv:u},e.next=14,le("tcfv2.personalisedAds",i);case 14:return c=e.sent,s.google_consent=c,u=c?0:1,u=c?s:gy(gy({},s),{},{npa:u}),o("dfp targeting:",u),e.abrupt("return",u);case 20:case"end":return e.stop()}},e)})),function(e){return vy.apply(this,arguments)}),Sy=(hy=yy(regeneratorRuntime.mark(function e(t){var r,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.log,i=wy(t),r.emit("set page level targeting",i),function(e,r){var t,n=e.broker,o=e.getConfig,i=e.log;o("tcfv2.setGptPersonalisedAdsState",!0)&&n.once("gpt initialized",(t=yy(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:e.sent.google_consent?i("google personalised ads enabled"):(i("setting non-personalised ads"),t.pubads().setRequestNonPersonalizedAds(1));case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}))}(t,i),e.next=6,i;case 6:o=e.sent,i=o.google_consent?0:1,i={cust_params:gy({},o),npa:i},n("video tags",i),r.emit("sync video tags update",i),n("done with gpt");case 12:case"end":return e.stop()}},e)})),function(e){return hy.apply(this,arguments)});function _y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oy(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Iy(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Oy(n,t,r,o,i,"next",e)}function i(e){Oy(n,t,r,o,i,"throw",e)}o(void 0)})}}var Ey,Ay=(Ey=Iy(regeneratorRuntime.mark(function e(t){var s,c,u,d,r,l,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.controllerHandler,s=r.tcfv2Version,c=r.tcfv2UiVersion,u=t.log,d=t.pValidConsentDegree,r=t.broker,l=t.validTCDataP,n=new Promise(function(){var t=Iy(regeneratorRuntime.mark(function e(n){var o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([l,d]);case 2:o=e.sent,r=2,a=function(e){if(Array.isArray(e))return e}(t=o)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return _y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_y(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=a[0],o=a[1],u("consentDegree",o),a=Rr(i.tcString),u("decoded:",a),i=a.vendorListVersion,a={cmp:"tcfv2",cmpVersion:"".concat(s.length?s:"DEV"," ").concat(c.length?c:"DEV"),consent:o,gdpr:{iabv:String(i)},cmpId:a.cmpId},u("bidmax targeting:",a),n(a);case 13:case"end":return e.stop()}var t,r},e)}));return function(e){return t.apply(this,arguments)}}()),r.register("call for page analytics",function(){return n});case 3:case"end":return e.stop()}},e)})),function(e){return Ey.apply(this,arguments)});function ky(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function xy(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ky(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ky(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Py(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function jy(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Py(n,t,r,o,i,"next",e)}function i(e){Py(n,t,r,o,i,"throw",e)}o(void 0)})}}var Ty=new ft;q("tcfv2",{init:My,initTimeout:12e4});var Cy=function(e){var n=e.broker,o=e.log;return new Promise(function(t){var e=Ty.getConsentDegree()||void 0,r=Ty.getConsent();e||r?(o("resolving consentDegree",e,r),t(e)):n.once("valid consent degree",function(e){o("resolving consentDegree",e),t(e)})})},Ry=function(e){e.once("dom ready",function(){document.querySelectorAll("a[href^='javascript:window.__cmp.a.push([\\'openSettings\\']']").forEach(function(e){e.href="javascript:window.openUi('Level2')"})})},Dy=function(e,t){j.g.openUi=e,j.g.dissentUserToAll=function(){window.postMessage({ns:"@mol-ads/mol-ads-cmp",id:t,sender:"@mol-ads/mol-adverts",action:"dissentUserToAll"},"*")},j.g.ctv=function(){j.g.__tcfapi("hasUserConsentedToVendors",2,function(e){return console.log("d",e)},[1,2,4])}};function Uy(n,o,i,a){var t,s=!1;j.g.__tcfapi("addEventListener",2,(t=jy(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("cmpuishown"!==t.eventStatus){e.next=4;break}t.tcString.length&&(s=!0),e.next=28;break;case 4:if("tcloaded"!==t.eventStatus||t.tcString.length){e.next=9;break}o("opening UI:",t.eventStatus),i(),e.next=28;break;case 9:return Ty.setConsent(t.tcString),e.t0=Lm,e.next=13,Ec("getCustomVendorsConsents");case 13:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=17,function(){return Mm.apply(this,arguments)}(t,o);case 17:if(o("cache update done"),"useractioncomplete"===t.eventStatus)return Ty.setVendorListVersion(Rr(t.tcString).vendorListVersion),e.next=22,Ec("getConsentDegree");e.next=28;break;case 22:r=e.sent,Ty.setConsentDegree(r),Ty.setRepromptVersion(a),o("consentDegree emitting",r),n.emit("valid consent degree",r),s&&setTimeout(function(){o("RELOAD"),window.location.reload()},100);case 28:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}))}function My(e){return By.apply(this,arguments)}function By(){return(By=jy(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s,c,u,d,l,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(c=t).broker,n=c.getConfig,o=c.log,i=c.setConfig,n("tcfv2.enabled",!1)){e.next=4;break}return o("tcfv2 is not supported for this geo, bailing"),e.abrupt("return");case 4:if(d=n("tcfv2.reprompt",{version:0,chance:0}),l=Ty.getRepromptVersion(),a=l.version<d.version&&l.chance<d.chance,o("reprompt - should: ".concat(a,", config chance: ").concat(d.chance,", user chance: ").concat(l.chance,", config version: ").concat(d.version,", user version: ").concat(l.version)),f={version:d.version,chance:l.chance},t=xy(xy({},t),{},{storage:Ty,showUi:a}),p=new Zm(t,Ty.getVendorListVersion()),s=p.brokerId,c=p.openUi,Bm(o,r),u=Ec("getValidTCData"),d=Ec("getPurposesByVendorMap"),l=Cy({broker:r,log:o}),t=xy(xy({},t),{},{validTCDataP:u,purposesByVendorMapP:d,pValidConsentDegree:l,controllerHandler:p}),l.then(function(e){o("consent: ",e),i("cmp.consent",e)}),Ry(r),Dy(c,s),Uy(r,o,c,f),f=p.loadController(),p=new ly(t).setup(),Ay(t),!Um()||a)return e.next=27,f;e.next=27;break;case 27:return e.next=29,u;case 29:return e.next=31,p;case 31:Sy(t),o("resume loading ads bundle...");case 33:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ny=My;function Ly(e){return function(e){if(Array.isArray(e))return qy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return qy(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?qy(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zy(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Vy(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){zy(n,t,r,o,i,"next",e)}function i(e){zy(n,t,r,o,i,"throw",e)}o(void 0)})}}q("botsPlugin",{run:function(e){var t=e.broker,e=e.getConfig;t.emit("set page level targeting",{bot:e("bots.isBotDetected")})},init:function(e){var t=e.getConfig;(0,e.setConfig)("bots.isBotDetected",t("bots",[]).some(function(e){var t=e.ip,e=e.ua,t=PageCriteria.clientIP===t;return e?t&&navigator.userAgent===e:t})||/(?:[bB]ot|BOT|GrapeshotCrawler)s?\b/.test(navigator.userAgent))}}),q("browserResolutionPlugin",{run:function(e){var r=e.broker,t=e.getConfig,n=e.log;t("bots.isBotDetected")||(t=function(){var e=(0,T.ap)(),t=e.width,e=e.height;n("setting browserResolution page-level targeting",t,e),r.emit("set page level targeting",{sw:t,sh:e}),r.emit("sync video tags update",{cust_params:{sw:t,sh:e}})},window.addEventListener("resize",(0,Cn.Ds)(t,300)),t())}}),q("pageArea",{run:function(e){function t(){r.emit("set page level targeting",{area:j.g.adAreaId,subarea:j.g.adSubareaId})}var r=e.broker;r.on("set adSubareaId",function(e){j.g.adSubareaId=e,t()}),t()}});var Fy={endPoint:"https://euasync01.admantx.com/admantx/service",request:{key:"d4d1cdf427f06ebc6ee7e0a3ffbcaecdfbfe517eca18a41d9126f88bdb16e7f0",type:"url",method:"descriptor",mode:"async",decorator:"json",filter:["admants"]}},Wy=["categories","feelings","entities","admants"];function Gy(e){return Hy.apply(this,arguments)}function Hy(){return(Hy=Vy(regeneratorRuntime.mark(function e(t){var r,a,n,o,s,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,n=t.getConfig,o=n("trackers.admantx",Fy),a=o.request,n=o.endPoint,o=window.location.href,a.body=o.substring(0,o.indexOf("?"))||o,o=JSON.stringify(a),s="".concat(n,"?request=").concat(o),c={"Content-Type":"text/plain","Content-Length":o.length,Connection:"keep-alive"},i=new Promise(function(o,i){var t;fetch(s,{method:"GET",headers:c}).then((t=Vy(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,"OK"!==(n=r.info)?i(new Error("Admantx fetch error: ".concat(n,"."))):(n=a.filter.includes("default")?Wy:a.filter,n=n.map(function(e){return r[e]}).filter(function(e){return e}).reduce(function(e,t){return[].concat(Ly(e),Ly(t.map(function(e){return e.name})))},[]),o(n));case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})).catch(i)}),r.register("get admantx tags",function(){return i}),r.emit("set page level targeting",i.then(function(e){return{"ias-bsp":e}})),e.next=12,i;case 12:r.emit("admantx loaded");case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}Gy.vendorIds={gdpr:[278]};var Ky=function(){var t=function(){for(var e=[],t=1;t<=20;t++)e.push(t);return e}();return{getTags:function(){var e=function(){if(t.length){var e=(0,At.MX)(0,t.length-1);return t.splice(e,1)}}();if(e)return{adx_channel:e}}}};function $y(e){var e=e.broker,r=Ky();e.register("get tags",function(){var e=r.getTags();return e&&[e]}),e.register("get video tags",function(e){var t=e.pos,e=r.getTags();if("jwplayer"===t&&e)return{cust_params:e}})}function Yy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jy(e){var t=e.broker,r=e.log,e=(function(e){if(Array.isArray(e))return e}(e=function(){function e(e){return e[0]===t[0]&&e[1]===t[1]}var t=[window.screen.width,window.screen.height];j.g.DM.molFeMobileutils.isLandscape()&&t.reverse();var r={iphone:{iphone6:function(){return e([375,667])},iphone6p:function(){return e([414,736])},iphone5:function(){return e([320,568])}},other:{ipad:j.g.DM.molFeMobileutils.isIPad,other:function(){return!j.g.DM.molFeMobileutils.isMobile()&&!(0,T.bP)()},windows10:T.bP}},n={touch:function(){return"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints}};return{getTags:function(){return[{device:(t=r[PageCriteria.device]||{},Object.keys(t).find(function(e){return t[e]()})||PageCriteria.device),device_features:Object.keys(n).filter(function(e){return n[e]()})}];var t}}}().getTags())||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),1!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(e)||function(e){if(e){if("string"==typeof e)return Yy(e,1);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Yy(e,1):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];r(e),t.emit("set page level targeting",e)}function Xy(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Zy(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Xy(n,t,r,o,i,"next",e)}function i(e){Xy(n,t,r,o,i,"throw",e)}o(void 0)})}}function Qy(e){return(Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var eh=(0,O.x)("DigiTrust"),th={member:"XXbqCfNi5V",site:"MHexdZ5ewJ"},rh={},nh=function(a){return new Promise((r=Zy(regeneratorRuntime.mark(function e(r,n){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{o=!1,i=a.invoke("load script","https://cdn.digitru.st/prod/1/digitrust.min.js","DigiTrust"),t={digiTrust:!0},rh=P()(rh,t),a.on("plugins enabled",Zy(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i;case 2:return(t=function(){if(window.DigiTrust){var e=window.DigiTrust.getUser(th);if("object"===Qy(e)&&e.success)return eh("digitrust user success"),e}}())&&(o=!0,a.emit("prebid config async update",{digiTrustId:t}),r(t)),e.next=6,new Promise(function(t,r){th.redirects=!0,window.DigiTrust?window.DigiTrust.initialize(th,function(e){"object"===Qy(e)&&e.success?(eh("digiTrust Initiaization Success",e.success),t(e)):r(new Error("Unable to initialise DigiTrust"))}):r(new Error("Unable to initialise DigiTrust"))});case 6:t=e.sent,o||(o=!0,a.emit("prebid config async update",{digiTrustId:t}),r(t));case 8:case"end":return e.stop()}},e)})))}catch(e){console.log("Uable to get digitrust user: ".concat(e)),n(new Error("Uable to get digitrust user: ".concat(e)))}case 1:case"end":return e.stop()}var t},e)})),function(e,t){return r.apply(this,arguments)}));var r};function oh(e){return ih.apply(this,arguments)}function ih(){return(ih=Zy(regeneratorRuntime.mark(function e(t){var r,n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,i=t.getConfig,n=i("plugins.digitrust.timeout",500);try{eh("Initialising digitrust"),o=nh(r)}catch(e){console.error("unable to load digiTrust",e)}return a=function(){var r=Zy(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,M.yq)(n,o);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),eh("Timeout while waiting for digitrust, letting go of:",t[0],t[1]);case 8:r();case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(e,t){return r.apply(this,arguments)}}(),i=[r.intercept("get tags",a),r.intercept("get video tags",a),r.intercept("configure and start prebid",a)],e.next=7,o;case 7:a=e.sent,eh("Sucessfully loaded:",a),i.forEach(function(e){return e()}),r.emit("set page level targeting",rh);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ah(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function sh(e){return ch.apply(this,arguments)}function ch(){return s=regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.broker,o=t.getConfig,r={id5:!0},n.emit("set page level targeting",r),n.register("call for page analytics",function(){return r}),n=o("trackers.id5.partnerId"),o=o("trackers.id5.cascades"),n?function(e){var t=e.partnerId,e=e.cascades,r={partnerId:t,cascades:void 0===e?9:e,hasTcfCmp:!0,debug:T.SP["mol.ads.id5.debug"],makeUrl:function(){var e=void 0!==this.callType&&"sync"===this.callType.toLowerCase()&&this.myUid&&0<this.myUid.length;return"https://id5-sync.com/"+(e?"s":"i")+"/"+this.partnerId+"/"+this.cascades+".gif?"+(e?"puid="+encodeURIComponent(this.myUid)+"&":"")+"gdpr="+encodeURIComponent(this.gdprApplies||"")+"&gdpr_consent="+encodeURIComponent(this.consentData||"")},prepareId5Pixel:function(){"loading"!==document.readyState?this.fireId5Pixel():document.addEventListener("DOMContentLoaded",function(){r.fireId5Pixel()})},fireId5Pixel:function(){var e=this.makeUrl();this.log("[ID5] Firing ID5 pixel at url:",e),(new Image).src=e},processTcfResults:function(e){this.log("[ID5]: Received TCF result",e),this.gdprApplies=e.gdprApplies,this.consentData=e.consentData},init:function(){if(this.hasTcfCmp)try{window.__cmp("getConsentData",null,function(e){r.processTcfResults(e),r.prepareId5Pixel()})}catch(e){r.log("[ID5]: Exception received while calling TCF CMP",e),r.prepareId5Pixel()}else r.prepareId5Pixel()},log:function(e,t){this.debug&&console.log("[ID5] "+e,t)}};r.init()}({partnerId:n,cascades:o}):console.error("[ID5] Missing Partner ID from configuration.");case 7:case"end":return e.stop()}},e)}),(ch=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){ah(n,t,r,o,i,"next",e)}function i(e){ah(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function uh(e){var t=e.broker;(0,e.getConfig)("bots.isBotDetected")||t.emit("set page level targeting",{random:[window.PageCriteria.pageViewId],impid:[(0,At.kb)()]})}function dh(e){return function(e){if(Array.isArray(e))return lh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return lh(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?lh(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fh(e){var t=e.broker,e=(0,e.getConfig)("plugins.ixIdentify.scriptUrl","//js-sec.indexww.com/ht/p/184669-186298276891027.js"),r=t.invoke("load script",e,"headertag");t.register("prebid prerequisites",function(){return r})}oh.vendorIds={gdpr:!1},sh.vendorIds={gdpr:[131]},fh.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,e=t("plugins.enabled"),t=e.findIndex(function(e){return"prebid"===e});~t&&(t=t-1,t=new Set([].concat(dh(e.slice(0,t)),["trackers.ixIdentity"],dh(e.slice(t)))),r("plugins.enabled",dh(t)))};var ph=fh;function gh(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function mh(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){gh(n,t,r,o,i,"next",e)}function i(e){gh(n,t,r,o,i,"throw",e)}o(void 0)})}}function yh(e){return hh.apply(this,arguments)}function hh(){return(hh=mh(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.broker,t.getConfig,n="mol.ads.userId",o=(0,O.x)("pubCommon"),i=function(){var e=mh(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j.g.RTA&&j.g.RTA.ids&&j.g.RTA.ids.then)return e.next=3,j.g.RTA.ids;e.next=6;break;case 3:return t=e.sent,t=t.user,e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),a=function(){var e=JSON.parse(localStorage.getItem(n)||"{}");return e.userId||(e={userId:(0,At.kb)()},o("using generated id",JSON.stringify({userId:(0,At.kb)()})),localStorage.setItem(n,JSON.stringify(e))),e.userId},s=function(){var e=mh(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=a();case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),c=(0,T.ej)("_pubcid")){e.next=13;break}return e.next=10,s();case 10:c=e.sent,o("setting cookie for pubCommonId"),(0,T.d8)("_pubcid",c);case 13:r.emit("pubcommonId cookie set",c);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vh(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function bh(e){return wh.apply(this,arguments)}function wh(){return s=regeneratorRuntime.mark(function e(t){var r,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.broker,e.next=3,j.g.RTA.ids;case 3:i=e.sent,n=i.page,o=i.user,i=i.created,r.emit("set page level targeting",{rtaCreated:i,rtaUser:o,rtaPage:n});case 8:case"end":return e.stop()}},e)}),(wh=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){vh(n,t,r,o,i,"next",e)}function i(e){vh(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function Sh(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function _h(e){return Oh.apply(this,arguments)}function Oh(){return s=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getConfig,r=r("plugins.smartclip.url","https://sync.sxp.smartclip.net/sync?type=red&dsp=10"),Tt({url:r});case 3:case"end":return e.stop()}},e)}),(Oh=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Sh(n,t,r,o,i,"next",e)}function i(e){Sh(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function Ih(e){e=e.broker;j.g._tfa=j.g._tfa||[],j.g._tfa.push({notify:"event",name:"page_view",id:1125455}),document.getElementById("tb_tfa_script")||e.invoke("import script","//cdn.taboola.com/libtrc/unip/1125455/tfa.js",{id:"tb_tfa_script"})}fh.vendorIds={gdpr:[10]},yh.purposeIds={gdpr:[3,4]},_h.vendorIds={gdpr:[115]},Ih.vendorIds={gdpr:[42]};var Eh=function(e){var t=e.broker,r=e.getConfig,n=e.log;t.on("prebid loaded",function(e){var t=e.getConfig("userSync"),t={userSync:(0,Cn.LY)(t,{userIds:[{name:"unifiedId",params:{url:"//match.adsrvr.org/track/rid?ttd_pid=a8r0pns&fmt=json"},storage:{type:"cookie",name:"pbjs-unifiedid",expires:60}}],syncDelay:r("plugins.prebid.syncDelay",3e3)})};n("setting pbjs config",t),e.setConfig(t)})},Ah=function(e){var t=e.broker,r=e.getConfig,n=e.log,o=r("trackers.universalIds",[]);o.length&&t.on("prebid loaded",function(e){var t=e.getConfig("userSync"),t={userSync:(0,Cn.LY)(t,{userIds:o,syncDelay:r("plugins.prebid.syncDelay",3e3)})};n("setting pbjs config",t),e.setConfig(t)})};var kh=(function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(Ph.prototype,[{key:"onInView",value:function(e){var t=this;e.forEach(function(e){return(t.callbacks.get(e.target)||function(){})(e)})}},{key:"observe",value:function(e,t){this.callbacks.set(e,t),this.markerObserver.observe(e)}},{key:"unobserve",value:function(e){this.callbacks.delete(e),this.markerObserver.unobserve(e)}}]),Ph),xh=(0,O.x)("AdsRefresher");function Ph(){!function(e){if(!(e instanceof Ph))throw new TypeError("Cannot call a class as a function")}(this),this.callbacks=new Map,this.markerObserver=new IntersectionObserver(this.onInView.bind(this),{root:null,rootMargin:"0px",threshold:[0,.5,1]})}function jh(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Th(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Th(e,t){if(e){if("string"==typeof e)return Ch(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ch(e,t):void 0}}function Ch(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rh=(ft=[{key:"active",get:function(){var e=this.priv;return new Date-e.lastActive<e.inactiveTime}},{key:"start",value:function(){var r=this.priv;Mh.call(this,function(e,t){e.addEventListener(t,r.handleUserActivity)}),r.timer=Uh.call(this)}},{key:"stop",value:function(){var r=this.priv;Mh.call(this,function(e,t){e.removeEventListener(t,r.handleUserActivity)}),r.timer=clearTimeout(r.timer)}},{key:"whenActive",value:function(){var t=this;return new Promise(function(e){t.active?e():t.priv.broker.once("user active",e)})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(Dh.prototype,ft),Dh);function Dh(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.broker,r=e.inactiveTime,r=void 0===r?1e4:r,e=e.events,e=void 0===e?[[document,["mousemove","keypress","scroll","mousewheel","touchmove"]],[window,["focus","scroll"]]]:e;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,Dh),this.priv={broker:t,events:e,inactiveTime:r,handleUserActivity:(0,Cn.FU)(function(e){var t=this.priv,r=!this.active;t.lastActive=new Date,r&&(xh("user became active"),t.broker.emit("user active"))}.bind(this),r-500),lastActive:new Date}}function Uh(){setTimeout(function(){var e=this.priv.broker;this.active?Uh.call(this):(xh("user became inactive"),e.emit("user inactive"),e.once("user active",Uh.bind(this)))}.bind(this),this.priv.inactiveTime)}function Mh(e){var t,r,n,o=jh(this.priv.events);try{for(o.s();!(t=o.n()).done;){var i=(r=t.value,n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(r,n)||Th(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],s=i[1];if(a){var c,u=jh(s);try{for(u.s();!(c=u.n()).done;)e(a,c.value)}catch(e){u.e(e)}finally{u.f()}}}}catch(e){o.e(e)}finally{o.f()}}var Bh=function(){var t,e;if(void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),!t)throw new Error("Can't create activity monitor");function r(){o=new Promise(function(e){n=e})}var n,o,i={capture:!0,passive:!0},a=0;r();function s(){if(document[t])n||r();else if(n){a=Date.now();var e=n;n=void 0;try{e()}catch(e){console.warn(e)}}}return s(),document.addEventListener(e,s,i),window.addEventListener("pagehide",s,i),window.addEventListener("pageshow",s,i),{whenActive:function(){return o},start:function(){},stop:function(){},get active(){return Date.now()-a}}};function Nh(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Lh(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Nh(n,t,r,o,i,"next",e)}function i(e){Nh(n,t,r,o,i,"throw",e)}o(void 0)})}}var qh=function(e){var r,u=e.broker,e=e.getConfig,n=new kh,d="mol"===e("viewability.activityMonitor","mol")?new Rh({broker:u}):Bh(),o=new Map,i=(r=Lh(regeneratorRuntime.mark(function e(a,t){var s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.set(a,t),c=0,n.observe(t,function(){var t=Lh(regeneratorRuntime.mark(function e(t){var r,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.intersectionRatio,c=t.intersectionRatio,e.next=4,d.whenActive();case 4:t.isIntersecting?!s&&.5<=t.intersectionRatio&&(n=!0,o=function(){n&&r<1&&c<1?(n=!1,i()):(s=void 0,u.emit("ad viewable",a))},(i=function(){s=setTimeout(o,500)})()):s&&(clearTimeout(s),s=void 0);case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)});u.on("track viewability",function(e,t){i(e,t)}),u.on("untrack viewability",function(e){var t;t=e,(e=o.get(t))&&(n.unobserve(e),o.delete(t))}),u.once("dom ready",function(){d.start()})};function zh(e){function n(e,t){var r=s[e];return(!r||r.ended&&t)&&(i("creating new stream for:",e),s[e]=o.createReadObjectStream()),s[e]}var o=e.broker,i=e.log,a=["video","jwplayer"],s={};o.on("bid",function(e,t){var r;a.includes(e)||((r=n(e)).bidReceived||(i("bid received for: ".concat(e,", bidder: ").concat(t.bidder)),r.push([{nobids:!1}]),r.push(null),r.bidReceived=!0))}),o.registerUnboundedStream("get tags",function(e){e=e.slot;if(!a.includes(e.pos)){e=n(e.pos,!0);return e.bidReceived||e.push([{nobids:!0}]),e}}),o.on("bidding ended",function(e){s[e]&&(i("remove stream for:",e),s[e].ended=!0)})}function Vh(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Fh(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Vh(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Vh(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Wh(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Gh(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Wh(n,t,r,o,i,"next",e)}function i(e){Wh(n,t,r,o,i,"throw",e)}o(void 0)})}}function Hh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $h=[{size:[300,600],url:"https://scripts.dailymail.co.uk/static/mol-fe/static/mol-fe-xpmodule-news-search/1.13.0/mpuCarousel.html?forceIto=Mol-Carousel&startTab=entertainment"},{size:[970,250],image:"https://www.dailymail.co.uk/static/mol-adverts/creatives/newzit-static-billboard.jpeg"},{size:[160,600],image:"https://www.dailymail.co.uk/static/mol-adverts/creatives/newzit-static-skyscrapper.png"}],Yh={vendorIds:{gdpr:[755]},purposeIds:{gdpr:[1,3,4]},legIntPurposeIds:{gdpr:[3,4]}};q("adserver",{init:function(e){return nv.apply(this,arguments)},run:function(e){var t=e.log,r=googletag.cmd,e=function(e){try{e()}catch(e){t.warn("Error running function queued up in googletag.cmd:",e)}};googletag.cmd.push=e,r.forEach(e)}});var Jh,Xh=function(e){var t=document.getElementById(e),r=Hh(t.getClientRects(),1)[0],n=r?Math.ceil(r.width):0,o=r?Math.ceil(r.height):0,e=document.createElement("div");e.style.border="0pt none",e.style.margin="0 auto",e.style.padding="0",e.style.minHeight="1px",t.appendChild(e);t=document.createElement("iframe");return r&&(t.width=n+"",t.height=o+""),t.scrolling="no",t.marginWidth="0",t.marginHeight="0",t.style.marginTop="0px",t.style.marginLeft="0px",t.style.border="0pt none",e.appendChild(t),{document:t.contentDocument,size:[n,o],adElement:e}},Zh=function(e,t,r,n){var o={},i=!1,a={getAdUnitPath:function(){return t},getSlotElementId:function(){return r},getTargetingMap:function(){return o},setTargeting:function(e,t){return void 0!==t&&(o[e]=[t]),a},getTargeting:function(e){return o[e]||[]},addService:function(){return a},setCollapseEmptyDiv:function(e){return i=e,a},getCollapseEmptyDiv:function(){return i},sizes:n,getTargetingKeys:function(){return Object.keys(o)},targeting:o};return a};function Qh(){return(Qh=Gh(regeneratorRuntime.mark(function e(n,t,r,o){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Jh=Jh||new Promise(function(){var t=Gh(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.invokeAll({message:["call for page analytics"],timeout:2e3});case 2:r=e.sent,r=Fh(Fh({timestamp:j.g.adverts.startTime,referrer:document.referrer,localStorage:void 0,memory:void 0,indexedDB:void 0,viewability:void 0},r.reduce(function(e,t){return Fh(Fh({},e),t)},{})),{},{event_type:"bidmax",type_version:2,version:T.SP.bidmax||Ln}),t(r);case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),e.t0=Fh,e.t1=Fh,e.t2={timeAtSend:Date.now()-j.g.adverts.startTime},e.next=6,Jh;case 6:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6={type:"custom",payload:{module:"adserver",event:"click",id:r}},i=(0,e.t0)(e.t4,e.t5,e.t6),e.abrupt("return","".concat(t,"/_/e?r=").concat(encodeURIComponent(o),"&e=").concat(btoa(JSON.stringify(i))));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ev(){return(ev=Gh(regeneratorRuntime.mark(function e(t,r,n,o,i,a){var s,c,u,d,l,f,p,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=document.createElement("div"),c=t.size,u=t.id,d=t.click,f=Hh(c,2),l=f[0],f=f[1],!t.url){e.next=15;break}(m=document.createElement("iframe")).width=l,m.height=f,m.scrolling="no",m.marginHeight=0,m.marginWidth=0,m.frameBorder=0,m.src=t.url,s.appendChild(m),e.next=35;break;case 15:if(!t.image){e.next=29;break}if((p=document.createElement("img")).width=l,p.height=f,p.src=t.image,g=document.createElement("a"),d)return e.next=24,function(){return Qh.apply(this,arguments)}(i,a,u,d);e.next=25;break;case 24:g.href=e.sent;case 25:g.appendChild(p),s.appendChild(g),e.next=35;break;case 29:if(!t.html){e.next=33;break}s.innerHTML=t.html,e.next=35;break;case 33:return r.warn("unsupported creative:",t),e.abrupt("return");case 35:n.appendChild(s),o.adElement=s,m={size:c,slot:o,isEmpty:!1,creativeId:u,serviceName:"proprietary"},i.emit("gpt event","slotRenderEnded",m);case 39:case"end":return e.stop()}},e)}))).apply(this,arguments)}var tv=0,rv=null;function nv(){return(nv=Gh(regeneratorRuntime.mark(function e(t){var a,s,r,n,o,i,c,u,d,l,f,p,g,m,y,h,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f=function(){rv&&(rv(),rv=null),n([u]),s("bailing")},a=t.broker,s=t.log,r=t.addPlugins,n=t.removePlugins,o=t.getConfig,i=t.setConfig,c=t.pluginsAlreadyRun,u=t.ownName,d=t.checkPluginBouncer,l=o("bidmax.dispatcher.url","//crta.dailymail.co.uk"),c.has("tcfv2")){e.next=16;break}if(10<tv++||rv)return f(),e.abrupt("return");e.next=7;break;case 7:return s("tcfv2 hasnt ran yet"),(p=o("plugins.enabled")).splice(p.indexOf(u),1),m=["tcfv2","mvt","debug.setPlugin"].filter(function(e){return!c.has(e)}),m=(m=m.find(function(e){return p.includes(e)}))?(s("re-queing just after",m),p.indexOf(m)):(s("cant find tcfv2 or any way to dynamically enable it, holding off gpt.js loading"),rv=function(e,r){var n=[],o=e.intercept("import script","//www.googletagservices.com/tag/js/gpt.js",function(e,t){o&&(n.push(t),r("holding off gpt loading"))});return function(){o(),o=null,n.length&&(r("resume loading real gpt"),n.forEach(function(e){return e()}))}}(a,s),s("re-queuing as last plugin"),p.length-1),p.splice(m+1,0,u),i("plugins.enabled",p),e.abrupt("return","not yet");case 16:return s("starting"),e.next=19,d("adserver",Yh);case 19:if(e.sent)return s("google enabled"),f(),e.abrupt("return");e.next=25;break;case 25:s("user seems to have dissented to google, running own adserver");case 26:rv||a.intercept("import script","//www.googletagservices.com/tag/js/gpt.js",function(){s("intercepting real gpt loading")}),g=o("adserver.ads",$h),r(["analytics.headerbidderWinner"]),(m=j.g.googletag=j.g.googletag||{}).cmd=m.cmd||[],y={},h={setTargeting:function(e,t){return void 0!==t&&(y[e]=[t]),h},addEventListener:function(e,t){return a.on("gpt event",e,t),h},setCentering:function(e){return h},enableAsyncRendering:function(){return h},getTargetingKeys:function(){return Object.keys(y)},getTargeting:function(e){return y[e]||[]},setRequestNonPersonalizedAds:function(){},setPrivacySettings:function(){},getSlots:function(){return Object.values(v)}},m.pubads=function(){return h},v={},m.enableServices=function(){s("enableServices")},m.getVersion=function(){return"proprietary"},m.display=function(e){var t,r,n,o,i=v[e];i.displayed?s.warn("slot",e,"already displayed, ignoring multiple calls"):(i.displayed=!0,s("display:",e,i.sizes),o=e,0<(t=Hh(i.getTargeting("hb_pb"),1)[0])&&"oopGptSlot"!==i.slotType?(s("prebid bid",t,"rendering ad:",e),t=(r=Xh(o)).document,n=r.size,e=r.adElement,r=Hh(i.getTargeting("hb_adid"),1)[0],i.adElement=e,j.g.pbjs.renderAd(t,r),a.emit("gpt event","slotRenderEnded",{size:n,slot:i,isEmpty:!1})):(n=document.getElementById(o),(o=g.filter(function(e){var r=e.size;return i.sizes.find(function(e){var t=Hh(e,2),e=t[0],t=t[1];return r[0]===e&&r[1]===t})})).length?(o=o[Math.floor(o.length*Math.random())],s("found house ad for size:",o.size),function(){ev.apply(this,arguments)}(o,s,n,i,a,l)):("oopGptSlot"===i.slotType?s("no header bidder or house ad found for out of page slot"):i.getCollapseEmptyDiv()?(s("no header bidder or house ad found, collapsing:",n),n.style.height="0px",n.style.display="none"):s("no header bidder or house ad found, but NOT collapsing it"),a.emit("gpt event","slotRenderEnded",{slot:i,isEmpty:!0}))))},h.refresh=function(e,t){s("refresh:",e,t)},m.defineSlot=function(e,t,r){s("defineSlot:",r);t=Zh(0,e,r,t);return v[r]=t},m.defineOutOfPageSlot=function(e,t){s("defineOutOfPageSlot:",t);e=Fh(Fh({},Zh(0,e,t,[])),{},{slotType:"oopGptSlot"});return v[t]=e},m.destroySlots=function(r){s("destroySlots:",r),r.forEach(function(e){var t=e.adElement;t&&t.parentNode.removeChild(t),delete r[e]})};case 42:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ov(e){return(ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return av(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?av(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function av(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}q("conditionalLoad",{init:function(e){var t=e.broker,r=e.getConfig,o=e.log;o("starting"),t.register("call for page-unload",function(){return{sdoc:sv.length}});var i=r("plugins.slots.loadConditions.constants",{});t.on("ad rendered",function(e,t){var r=t.size,n=t.slot,o=t.isEmpty,t=n.molAd.pos;"oopGptSlot"===n.molAd.slotType&&(t+="-oop"),cv.renderedAds[t]={size:r,isEmpty:o},dv()}),t.intercept("slot defined",function(e,t){var r=iv(e,2),e=(r[0],r[1].pos),r=(0,A.get)(e);cv.definedPositions.push(e),r&&void 0!==r.loadCondition?(r="string"==typeof r.loadCondition?i[r.loadCondition]:r.loadCondition,o("delaying slot",e,"due to condition:",r),fv(new uv(r,{pos:e}),t)):t(),dv()}),t.intercept("request slot",function(e,t){var r=iv(e,2),n=(r[0],r[1]),e=n.pos,r=n.slotType,n=(0,A.get)(e);"oopGptSlot"===r&&void 0!==n.oopLoadCondition?(n="string"==typeof n.oopLoadCondition?i[n.oopLoadCondition]:n.oopLoadCondition,o("delaying oop slot",e,"due to condition:",n),fv(new uv(n,{pos:e}),t)):t(),dv()})}});var sv=[],cv={renderedAds:{},definedPositions:[]},uv=(ft=[{key:"do",value:function(e){if("object"!==ov(e))return e;var t=Object.keys(e)[0];if("function"==typeof this[t])return this[t](e[t]);throw new Error("error calling fnName "+t)}},{key:"not",value:function(e){return!this.do(e)}},{key:"and",value:function(e){return!e.find(this.not)}},{key:"or",value:function(e){return!!e.find(this.do)}},{key:"isAdSmallerThan",value:function(e){var t,r=e.pos,n=e.size;return t=cv.renderedAds[r].size,e=n,r=iv(t,2),n=r[0],t=r[1],r=iv(e,2),e=r[0],r=r[1],n<e&&t<r}},{key:"isMasterRendered",value:function(){return!!cv.renderedAds[this.context.pos]}},{key:"isPosDefined",value:function(e){return!!~cv.definedPositions.indexOf(e)}},{key:"isPosEmpty",value:function(e){return cv.renderedAds[e].isEmpty||!cv.renderedAds[e].size}},{key:"isPosRendered",value:function(e){return cv.renderedAds.hasOwnProperty(e)}},{key:"isViewPortWidthLargerThan",value:function(e){return(0,T.ap)().width>e}},{key:"isIE",value:function(){return T.JW}},{key:"run",value:function(){return this.do(this.rootDescriptor)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(lv.prototype,ft),lv),dv=(0,Cn.yS)(function(){sv=sv.filter(function(e){var t=e.condition,r=e.done;try{return!t.run()||(r(),!1)}catch(e){return console.error("conditional-load: ",e),!1}})});function lv(e,t){!function(e){if(!(e instanceof lv))throw new TypeError("Cannot call a class as a function")}(this),this.context=t,this.rootDescriptor=e,this.do=this.do.bind(this),this.not=this.not.bind(this)}function fv(e,t){sv.push({condition:e,done:t})}var ft=j(1230),pv=j.n(ft);function gv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}q("conditionalEnable",{init:function(e){var t=e.broker,r=e.log,n=e.getConfig;r("starting");var o=n("enableCondition.downlinkMin",0),e=pv()(),n=n("enableCondition.notForAuthorTypes",[]);if(e<=o)return r("disabling broker because of downlink:",{downlinkMax:e,downlinkMin:o}),mv({broker:t,log:r});o=j.g.PageCriteria.authorType;return n.includes(o)?(r("disabling broker because of controvential author:",{controversialAuthors:n,authorType:o}),mv({broker:t,log:r})):void 0}});var mv=function(e){var t=e.broker,r=e.log,n=[],o=t.intercept(function(e,t){o?(n.push(function(){t()}),r.warn("[mol-ads] disabled")):t()});return function(){o(),o=null;var e,t=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e){if(e){if("string"==typeof e)return gv(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gv(e,void 0):void 0}}(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(n);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(e){t.e(e)}finally{t.f()}}};function yv(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function hv(){return s=regeneratorRuntime.mark(function e(o){var i,a,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.broker,c=o.getConfig,a=o.log,s=c("taboola.outStream.paragraphIndex",4),u=c("taboola.outStream.margin",{top:30,bottom:60}),c="taboola-mid-article-thumbnails",e.prev=4,e.next=7,xp({broker:i,log:a,targetParagraphIndex:s,margin:u});case 7:u=e.sent,t=c,r=u,n=void 0,(n=document.createElement("div")).id=t,r.parentElement.insertBefore(n,r),i.emit("add taboola",{id:c,position:"outStream"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),a("giving up awaiting for new paragraph, article might just have ended with no suitable placement"),console.error(e.t0);case 16:case"end":return e.stop()}var t,r,n},e,null,[[4,12]])}),(hv=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){yv(n,t,r,o,i,"next",e)}function i(e){yv(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function vv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}q("taboola.Outstream",{run:function(e){return hv.apply(this,arguments)},vendorIds:{gdpr:[42]}}),q("bidCount",{run:function(e){var t=e.broker,i=e.log;t.register("get tags based on tags",function(e){return{bidCount:e.filter(function(e){return e.type&&"bid"===e.type&&!e.tags.bc}).length}}),t.intercept("collect video tags",function(e,t){var r,n=function(e){if(Array.isArray(e))return e}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),3!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||function(e){if(e){if("string"==typeof e)return vv(e,3);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?vv(e,3):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e=n[0],r=n[1],o=n[2],n=function(e,t){var r;t&&"bid"===t.type&&(r=bv[t.auctionId]=(bv[t.auctionId]||0)+1,i("bid received for ".concat(t.auctionId,", bidCount: ").concat(r),t.tags.cust_params),t.tags.cust_params.bidCount=r),o(e,t)};n(null,{cust_params:{bidCount:0}}),t(e,r,n)}),t.on("bidding ended",function(e,t){bv[t]&&(i("video auction ended, removing auctionId",t),delete bv[t])})}});var bv={};function wv(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Sv(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _v(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Sv(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Sv(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Ov(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e){if(e){if("string"==typeof e)return Iv(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Iv(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Iv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}q("taboolaAds",{run:function(e){var t,c,u,d,l,s,r,f,n=e.broker,o=(0,I.U2)("taboola",{enabled:!0}).enabled,e=(0,I.U2)("taboola.thumbnail",{enabled:!1});o&&(e.enabled&&(t=n.on("add taboola",function(e){"thumbnail"===e.position&&(t.cancel(),kv({status:"widgetCall",placement:"thumbnails-feed"}))})),n.on("add taboola",function(e){var t,r;"pufflist"===e.position?function(e,t){var r=(0,I.U2)("taboola."+t.position,{enabled:!1});if(r.enabled){var n,o=r.start,i=r.every,a=Ov(document.getElementById(t.id).querySelectorAll("li"));try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.classList.contains("mpu_puff_wrapper"))return;if(0!=--o)return;var o=i,c=++Ev,u=Pv(s,c,r,"afterend"),d=_v(_v({},r),{},{placement:"".concat(r.placement," ").concat(Ev),container:u});xv(e,u,d)}}catch(e){a.e(e)}finally{a.f()}}}(n,e):(t=n,r=e.position,e=e.id,(r=(0,I.U2)("taboola."+r,{enabled:!1})).enabled&&xv(t,e,r))}),c=n,(f=(0,I.U2)("taboola.infiniteScroll",{enabled:!1})).enabled&&(u=f.start,d=f.every,l=f.platform,c.on("infinite-list append",(s=regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:r=Ov(t.querySelectorAll(jv(l)));try{for(r.s();!(n=r.n()).done;)o=n.value,0===u?(i=++Ev,a=Pv(o,i,f,"beforebegin"),s=Object.assign({},f,{placement:f.placement+" "+i,container:a}),xv(c,a,s),u=d-1):u--}catch(e){r.e(e)}finally{r.f()}case 4:case"end":return e.stop()}},e)}),r=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){wv(n,t,r,o,i,"next",e)}function i(e){wv(n,t,r,o,i,"throw",e)}o(void 0)})},function(e){return r.apply(this,arguments)}))))},vendorIds:{gdpr:[42]}});var Ev=0,Av={taboola:null},kv=function(e){j.g.RTA.tedEvent("page_event",{action:"set",name:"taboola",value:e})},xv=function(e,t,r){(e=function(t){if(Av.taboola)return Av.taboola;var e=(0,I.U2)("taboola.thumbnail",{enabled:!1}),r="//cdn.taboola.com/libtrc/"+(0,I.U2)("taboola.scriptDir","dailymail-row")+"/loader.js";window._taboola=window._taboola||[],Av.taboola=window._taboola;var n=Av.taboola,o=!1;n.push({article:"auto"});var i=document.createElement("script");e.enabled&&(n.push({listenTo:"render",handler:function(e){!o&&"api::render"===e.type&&e.detail.mode.includes("thumbnails-feed")&&(o=!0,kv({status:"widgetRendered",placement:"thumbnails-feed"}))}}),kv({status:"scriptLoading"}),i.addEventListener("load",kv({status:"scriptLoaded"})));var a=document.querySelector("script");return i.async=!0,i.src=r,i.onError=function(){return t.emit("taboola failed to load")},a.parentNode.insertBefore(i,a),e.enabled&&window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("tbl_ic"),n.push({listenTo:"render",handler:function(e){return t.emit("taboola render",e)}}),n.push({listenTo:"visible",handler:function(e){return t.emit("taboola visible",e)}}),n.push({listenTo:"nocontent",handler:function(e){return t.emit("taboola nocontent",e)}}),n.push({listenTo:"click",handler:function(e){return t.emit("taboola click",e)}}),n}(e)).push({container:t,mode:r.mode,placement:r.placement,targetType:r.taretType}),e.push({flush:!0})},Pv=function(e,t,r,n){var o=r.containerStr+t,t=(t=o,"mobile"===r.platform?'<li id="'.concat(t,'"></li>'):'<div id="'.concat(t,'" style="min-height: 280px;"></div>'));return e.insertAdjacentHTML(n,t),o},jv=function(e){return"mobile"===e?"li":"div.article"};function Tv(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Cv(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Tv(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Tv(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Rv(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Dv(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Rv(n,t,r,o,i,"next",e)}function i(e){Rv(n,t,r,o,i,"throw",e)}o(void 0)})}}function Uv(){return(Uv=Dv(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(n){var o=(new Date).getTime();!function e(t){var r;0===t?(r=(new Date).getTime()-o,n(r)):setTimeout(function(){return e(t-1)},0)}(t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bv(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Nv(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Bv(n,t,r,o,i,"next",e)}function i(e){Bv(n,t,r,o,i,"throw",e)}o(void 0)})}}function Lv(e){return qv.apply(this,arguments)}function qv(){return(qv=Nv(regeneratorRuntime.mark(function e(t){var r,n,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,n=n("plugins.adnami.scriptTimeout",500),c={adNami:"off"},u=(0,M.Ye)(n,[new Promise(function(e){window.adsmtag=window.adsmtag||{},window.adsmtag.cmd=window.adsmtag.cmd||[],window.adsmtag.cmd.push(function(){c.adNami="on",e()})})]),r.invoke("import script","https://macro.adnami.io/macro/spec/adsm.macro.4111597d-dc70-4fd8-b25e-7d24d8423e73.js"),r.intercept("slot ready for ad",function(){var r=Nv(regeneratorRuntime.mark(function e(n,o){var i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=3,s=function(e){if(Array.isArray(e))return e}(t=n)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Mv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mv(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=s[0],a=s[1],s=s[2],e.next=3,u;case 3:s.push(c),o(i,a,s);case 5:case"end":return e.stop()}var t,r},e)}));return function(e,t){return r.apply(this,arguments)}}());case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}q("performanceMonitor",{run:function(e){var i=e.broker,e=e.getConfig,a=e("performance.sampleSize",100);e("performance.pageLoad.offsets",[0,5,15]).forEach(function(e){return setTimeout((o=e,Dv(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.invoke("is page visible?");case 2:return t=e.sent,r=i.on("page hidden",function(){t=!1}),e.next=6,function(){return Uv.apply(this,arguments)}(a);case 6:n=e.sent,r.cancel(),n=n/a,n=Cv(Cv({offset:o,sampleSize:a,visible:t},(0,At._b)("delayP1s",n)),(0,At._b)("delayP100ms",n)),i.emit("send event to bidmax",{type:"custom",payload:Cv({module:"perf-monitor",event:"measure"},n)});case 11:case"end":return e.stop()}},e)}))),1e3*e);var o})}});var ft=function(e){var t=e.broker;j.g.adsbygoogle=j.g.adsbygoogle||[],t.on("adsByGoogle",function(){t.invoke("load script","//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",null,{},function(){return!0}).then(function(){return j.g.adsbygoogle.push({}),!0})})},zv=ft;ft.vendorIds={gdpr:[755]};var Vv=Symbol("private properties"),Fv=(function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(Wv.prototype,[{key:"inView",get:function(){return this[Vv].inView}},{key:"start",value:function(){var e=this[Vv];e.slotVisibilityChangedSub=e.broker.on("slot visibility changed",e.pos,function(e){e.inViewPercentage<50?function(){{var e;this.inView&&((e=this[Vv]).inView=!1,Hv.call(this),e.broker.emit("ad out of view",this[Vv].pos))}}.call(this):this[Vv].timer||function(){this[Vv].timer=setTimeout(Gv.bind(this),1e3)}.call(this)}.bind(this)),e.adViewableSub=e.broker.on("ad viewable",e.pos,Gv.bind(this))}},{key:"stop",value:function(){var e=this[Vv];e.slotVisibilityChangedSub.cancel(),e.adViewableSub.cancel(),Hv.call(this)}}]),Wv);function Wv(e){var t=e.broker,r=e.pos;!function(e){if(!(e instanceof Wv))throw new TypeError("Cannot call a class as a function")}(this);e=this[Vv]={};e.broker=t,e.pos=r,e.inView=!1}function Gv(){var e;this.inView||((e=this[Vv]).inView=!0,e.broker.emit("ad active view",e.pos))}function Hv(){var e=this[Vv];e.timer=clearTimeout(e.timer)}function Kv(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}var $v,Yv=(function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(Jv.prototype,[{key:"start",value:function(){var e=this.priv;e.timer=clearTimeout(e.timer),e.started=new Date,e.remaining=e.remaining||this.interval,e.timer=setTimeout(this.refresh,e.remaining)}},{key:"stop",value:function(){var e=this.priv;e.activeSub.cancel(),e.activeViewTracker&&(e.activeViewSub.cancel(),e.activeViewTracker.stop()),e.timer=clearTimeout(e.timer),e.remaining=0,this.stopped=!0}}]),Jv);function Jv(e){var t=this,r=e.interval,n=void 0===r?3e4:r,o=e.broker,i=e.positions,a=e.ids,r=e.activeViewTracker,e=e.userInactivityMonitor,e=void 0===e?new Rh({broker:o}):e;!function(e){if(!(e instanceof Jv))throw new TypeError("Cannot call a class as a function")}(this);var s,c={};this.interval=n,c.broker=o,c.positions=i,c.ids=a,c.userInactivityMonitor=e,c.activeSub=c.broker.on("user active",Xv.bind(this)),r&&(c.activeViewTracker=r,c.activeViewSub=c.broker.on("ad active view",c.positions[0],Xv.bind(this)),c.activeViewTracker.start()),this.stopped=!1,this.priv=c,this.refresh=Zv.bind(this),o.on("force ads refresh",(s=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.refresh(),e.next=3,o.until("ad rendered");case 3:xh("Ads force-refreshed");case 4:case"end":return e.stop()}},e)}),function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){Kv(n,t,r,o,i,"next",e)}function i(e){Kv(n,t,r,o,i,"throw",e)}o(void 0)})})),o.on("ad rendered",function(e){c.positions.includes(e)&&c.timer&&t.start()})}function Xv(){0===this.priv.remaining&&Zv.call(this)}function Zv(){var e=this.priv;if(xh("Refresh: ",{positions:e.positions.join(" "),ids:e.ids.join(" "),active:e.userInactivityMonitor.active,inView:e.activeViewTracker?e.activeViewTracker.inView:"N/A"}),!e.userInactivityMonitor.active||e.activeViewTracker&&!e.activeViewTracker.inView)return e.timer=clearTimeout(e.timer),void(e.remaining=0);xh("Refreshing",{positions:e.positions.join(" "),ids:e.ids.join(" ")}),e.broker.emit("prepare to refresh ads",e.positions),e.broker.emit("refresh ads",{ids:e.ids,reason:"periodic",positions:e.positions}),this.start()}function Qv(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function eb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qv(Object(r),!0).forEach(function(e){tb(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qv(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function tb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rb(e){var a=e.broker,t=e.getConfig,r=t("adsRefresh.inactiveTime",1e4);a.on("ad rendered","billboard",function(e){e.size&&e.size.every(function(e){return 1===e})&&a.emit("stop refreshing ads")}),$v=new Promise(function(t){return a.once("ad viewable",function(e){xh('Position "'.concat(e,'" viewed, refreshes will start immediately')),t()})});var n=(e=t("viewability.activityMonitor","mol"),xh('Using "'.concat(e,'" activity monitor')),"rta"===e?Bh():new Rh({broker:a,inactiveTime:r}));n.start();var s=nb(a,n),c=new Set,o=t("adsRefresh.interval",6e4),i=new Set(t("adsRefresh.slots",[])),u=t("adsRefresh.activeViewSlots",[]).reduce(function(e,t){var r=t.pos,t=t.interval;return eb(eb({},e),{},tb({},r,t))},{});a.on("slot defined",function(e){var t=e.pos,r=e.id,e=u[t];e?a.emit("setup ad refresh",{pos:t,id:r,interval:e}):i.has(t)&&a.emit("setup ad refresh",{pos:t,id:r,interval:o,activeViewSlot:!1})}),a.on("setup ad refresh",function(e){var t=e.pos,r=e.id,n=e.interval,e=e.activeViewSlot,e=void 0===e||e;xh("Start refreshing:",{pos:t,id:r,interval:n,activeViewSlot:e});function o(){xh("Stop refreshing:",t),i()}var e=e&&new Fv({broker:a,pos:t}),i=s({pos:t,id:r,interval:n,activeViewTracker:e}).stop;c.add(o),a.once("destroy slot",r,function(){xh("Slot destroyed:",r),c.delete(o),o()})}),a.on("stop refreshing ads",function(){xh("Received request to stop ads refreshing altogether"),n.stop(),c.forEach(function(e){return e()}),c.clear()})}var nb=function(a,s){return function(e){var t,r=e.pos,n=e.id,o=e.interval,e=e.activeViewTracker,i=new Yv({broker:a,interval:o,positions:[r],ids:[n],userInactivityMonitor:s,activeViewTracker:e});return e?t=a.once("ad viewable",r,function(){xh('Position "'.concat(r,'" viewed, scheduling its refresh')),i.start()}):$v.then(function(){i.start(),xh("Start adRefresher:",r)}),{stop:function(){t&&t.cancel(),i&&i.stop()}}}};function ob(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ib(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ob(Object(r),!0).forEach(function(e){ab(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ob(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ab(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sb=function(r,e){return e.map(function(e){var t=new RegExp(e.replaceAll("*",".*"));return Object.keys(r).filter(function(e){return t.exec(e)})}).flat()};function cb(e){var t,r,n,o,i,a=e.broker,s=e.getConfig,c=e.log,e=(r=(t=s)("adsRefresh.interval",6e4),{intervalRefreshSlots:t("adsRefresh.slots",[]).reduce(function(e,t){return ib(ib({},e),{},ab({},t,{pos:t,interval:r,type:"interval"}))},{}),activeViewRefreshSlots:t("adsRefresh.activeViewSlots",[]).reduce(function(e,t){var r=t.pos,t=t.interval;return ib(ib({},e),{},ab({},r,{pos:r,interval:t,type:"activeView"}))},{})}),u=e.intervalRefreshSlots,t=e.activeViewRefreshSlots;(0,he.xb)(u)&&(0,he.xb)(t)?c("no slot refresh config provided, bailing"):(e=new Promise(function(t){return a.once("ad viewable",function(e){c('Position "'.concat(e,'" viewed, refreshes will start immediately')),t()})}),s=s("adsRefresh.inactiveTime",1e4),(n=new Rh({broker:a,inactiveTime:s})).start(),o={broker:a,userInactivityMonitor:n,log:c,slotViewedPromise:e},i=ib(ib({},u),t),a.on("ad rendered","billboard",function(e){e.size&&e.size.every(function(e){return 1===e})&&a.emit("stop refreshing ads")}),a.on("slot defined",function(e){var t=e.pos,e=e.id;i[t]&&(c("slot defined, found refresher",i[t]),i[t].id=e,e=function(e){var t=e.broker,r=e.userInactivityMonitor,n=e.pos,o=e.id,i=e.interval,e=e.type;xh("Start refreshing: ".concat(n,", id: ").concat(o,", with ").concat(e," refresh of ").concat(i,"ms"));e="activeView"===e&&new Fv({broker:t,pos:n});return new Yv({broker:t,interval:i,positions:[n],ids:[o],userInactivityMonitor:r,activeViewTracker:e})}(ib(ib({},o),i[t])),i[t].adRefresher=e,i[t].cancel=function(e){var t=e.broker,r=e.pos,n=e.type,o=e.adRefresher,e=e.slotViewedPromise;if("activeView"===n)return t.once("ad viewable",r,function(){xh('Position "'.concat(r,'" viewed, scheduling its refresh')),o.start()}).cancel;e.then(function(){o.stopped?xh("adRefresher for ".concat(r," already stopped, and won't be started")):(o.start(),xh("Start adRefresher:",r))})}(ib(ib({},o),i[t])))}),a.on("stop refreshing ads",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c("Received request to stop ads refreshing altogether",e);var t=e.positions,t=void 0===t?[]:t,e=e.activeView,e=void 0===e||e?i:u;(t.length?sb(e,t):Object.keys(e)).forEach(function(e){var t=i[e],r=t.id,t=t.type;c("stopping ".concat(t," refresh for ").concat(e,", id: ").concat(r)),i[e].adRefresher&&i[e].adRefresher.stop(),i[e].cancel&&i[e].cancel(),delete i[e]}),(0,he.xb)(i)&&n.stop()}))}function ub(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function db(e){var s,n=e.broker,o=e.getConfig;DM.later("DOM_READY",(s=regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o("pos.under-article.amazon.id"),document.getElementById("amzn-assoc-ad-".concat(t))){e.next=4;break}return e.abrupt("return");case 4:return r="".concat(o("pos.under-article.amazon.url"),"?MarketPlace=US&adInstanceId=").concat(t),e.prev=5,e.next=8,n.invoke("import script",r);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),DM.log("ads","Error loading ".concat(r)),DM.log("ads",e.t0);case 14:case"end":return e.stop()}},e,null,[[5,10]])}),function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){ub(n,t,r,o,i,"next",e)}function i(e){ub(n,t,r,o,i,"throw",e)}o(void 0)})}))}db.vendorIds={gdpr:[793]};ft=function(){};ft.pluginSetup=function(e){var r,t,n=e.broker,o=e.getConfig,i=e.log;o("arrowKeysScroll.userAgents",[".*"]).some(function(e){return navigator.userAgent.match(new RegExp(e))})&&((0,he.ns)(["DM"],j.g).arrowKeysScrollEnabled=!0,r=o("arrowKeysScroll.stride",40),document.addEventListener("keydown",function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.target!==document.body)){var t;switch(e.keyCode){case 38:t=-r;break;case 40:t=r}t&&(event.preventDefault(),event.stopPropagation(),window.scrollBy(0,t))}}),"scrollRestoration"in history&&(history.scrollRestoration="manual",(t=history.state)&&"arrow-keys-scroll"===t.name&&(i("state stored:",t),n.once("dom loaded",function(){0===window.pageYOffset?(i("restoring scroll offset to:",t.pageYOffset),window.scrollTo(window.pageXOffset,t.pageYOffset)):i("page scrolled to",window.pageYOffset,", ignoring scroll restore")})),window.addEventListener("scroll",DM.molFeMiniLodash.debounce(function(){var e={name:"arrow-keys-scroll",version:1,pageYOffset:window.pageYOffset};history.replaceState(e,document.title)},200),{passive:!0,capture:!0})))};var lb=ft,ft=function(e){var t=e.broker,e=(0,I.U2)("plugins.audienceProject.scriptSrc","https://sak.userreport.com/mol/launcher.js");t.invoke("import script",e,{id:"userreport-launcher-script"})},fb=ft;function pb(e){var t=e.broker,r=e.getConfig,e=e.log,r=r("plugins.durationRefresh.url","https://pr.realvu.net/flip/2/c=E412_f=site_si=948");e("url:",r),t.invoke("import script",r)}ft.vendorIds={gdpr:[394]},pb.vendorIds={gdpr:[674]};var gb=function(e){var t=e.broker,e=null!=(e=j.g.location.hostname.match(/(www[0-9]*?\.)?(.[^/:]+)/i))&&2<e.length&&"string"==typeof e[2]&&0<e[2].length?e[2].replace(/\./g,"_"):null;t.emit("set page level targeting",{location:e})},ft=function(e){var t=e.broker;t.on("add fb-marketing-pixel",function(){j.g._fbq&&j.g._fbq.loaded||t.invoke("load script","//connect.facebook.net/en_US/fbds.js","_fbq").then(function(e){j.g._fbq.loaded=!0,j.g._fbq.push(["addPixelId","1401367413466420"]),j.g._fbq.push(["track","PixelInitialized",{}])})})},mb=ft;function yb(e){var t=e.broker,e=j.g.inlineModules;e&&e.split(/\s+/).includes("62032338")&&t.emit("set page level targeting",{fff:!0})}ft.vendorIds={google:[89]};var ft=j(773),hb=j.n(ft);function vb(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function bb(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){vb(n,t,r,o,i,"next",e)}function i(e){vb(n,t,r,o,i,"throw",e)}o(void 0)})}}function wb(e){var o,t,r,n=e.broker,i=e.log,a=new Promise(function(e){window.addEventListener("IrisContextAPI",function(){i("Loaded"),o=window.IrisContextAPI({client_token:"W491AUI45FTTFWD"}),e(o)})}),s=hb()((t=bb(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return e.next=4,o.getVideoInfo(t);case 4:return r=e.sent,i("Info for video ".concat(t),r),e.abrupt("return",(0,he.ei)(r,["context","categories","iris_id"]));case 7:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}));n.invoke("import script","https://ovp.iris.tv/libs/context/iris-context.min.js"),n.register("get IrisTV tags",s),n.register("get video tags",(r=bb(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.videoId,o){e.next=4;break}return i("Video auction started but IrisTV still not available"),e.abrupt("return");case 4:if(r){e.next=7;break}return i("IrisTV loaded but no videoId provided"),e.abrupt("return");case 7:return i("Auction for video:",r),e.t0=he.ei,e.next=11,s(r);case 11:return e.t1=e.sent,e.t2=["context","categories"],n=(0,e.t0)(e.t1,e.t2),i("cust_params:",n),e.abrupt("return",{cust_params:n});case 16:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}))}function Sb(e){return(Sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _b(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Ob(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){_b(n,t,r,o,i,"next",e)}function i(e){_b(n,t,r,o,i,"throw",e)}o(void 0)})}}var Ib=function(e){var t,n=e.broker,o=(e.getConfig,[]);n.on("plugins enabled",function(e){o.lengh&&n.emit("creative updated plugins",o)}),n.register("get plugins set by creative",Ob(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o);case 1:case"end":return e.stop()}},e)}))),j.g.addEventListener("message",(t=Ob(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"object"===Sb(r=t.data)&&"managePlugins"===r.callId&&(o=r.plugins||[],j.g.postMessage("managePluginsReceived","*"),n.emit("creative updated plugins",o),T.SP.hasOwnProperty("setPlugin")&&console.log("message from creative ".concat(JSON.stringify(o))));case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}))};function Eb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ab(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ab(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ab(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kb=(0,O.x)("mvt");function xb(e){return(xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pb(e){return function(e){if(Array.isArray(e))return jb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return jb(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jb(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tb=(0,O.x)("mvt"),Cb=j(2604);function Rb(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Db(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Rb(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Rb(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Ub(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||Bb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mb(e){return function(e){if(Array.isArray(e))return Nb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Bb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bb(e,t){if(e){if("string"==typeof e)return Nb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nb(e,t):void 0}}function Nb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lb,qb="mol.ads.mvt.tests",zb="probabilityDraw",Vb={},Fb="";function Wb(e){function t(){return[].concat(Mb(Fb.split(",")),Mb(function(){try{return(j.g.molMVTest||"").split(",").map(function(e){return e.trim()})}catch(e){return[]}}())).filter(function(e){return e}).join(",")}e=e.broker;e.register("call for page analytics",function(){return{mvt:t()}}),e.emit("send with rta page unload",{mvt:t().split("=").join("_")}),e.emit("set page level targeting",{mvt:t().split("=").join("_").split(",")})}function Gb(e){return Db({name:(e=Ub(e,2))[0]},e[1])}function Hb(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"P0D";try{return 1e3*(0,Cb.my)((0,Cb.Qc)(t))||NaN}catch(e){return console.error("Error parsing duration ".concat(t),e),NaN}}function Kb(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").match(/^(-?[0-9.]+)\s*(%?)$/);if(e){var t=parseFloat(e[1]);return"%"===e[2]&&(t/=100),t}return 0}var $b={};function Yb(e){return Math.round(1e4*e)/1e4}Wb.pluginSetup=function(e){var s=e.getConfig,t=e.setConfig,r=e.log,n=e.ownName;(Lb=r)("Initialising MVT plugin");e=Object.entries(s("mvt.tests",[])).map(Gb).filter(function(e){return e.scenarios}).map(function(e){return Db(Db({},e),{},{scenarios:Object.entries(e.scenarios).map(Gb)})}),r=e.map(function(e){var t=Date.parse(e.start)||Date.now(),r=Hb(e.duration)||Hb("P100Y"),n=r*(Kb(e.enrolment)||Kb("100%"));Lb('Test "'.concat(e.name,'"')),Lb("                  Beginning: ".concat(new Date(t))),Lb("              Enrolment end: ".concat(new Date(t+n)," - no new 'user' scoped tests after this")),Lb("                    Run end: ".concat(new Date(t+r)," duration: ").concat(r,"ms (~").concat(Math.round(r/864e5)," days)")),Lb("  'user' scoped tests ready: ".concat(new Date(t+r+n)));var o=Date.now(),i="";if(t<=o&&o<t+r){r=e.scope||"page";Lb('  Test "'.concat(e.name,'" scope: ').concat(r));r="page"===r?Vb:"session"===r?sessionStorage:localStorage;(i=function(e,t){var r,n,o,i=0<arguments.length&&void 0!==e?e:{scenarios:[]},a=1<arguments.length&&void 0!==t?t:{},e="".concat(qb,".").concat(i.name,".selected"),s=a[e],t=i.scenarios.find(function(e){return e.name===s});if(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{size:1},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r="".concat(qb,".").concat(e.name,".").concat(zb),n=e.size||e.scenarios.reduce(function(e,t){t=t.size;return e+Kb(String(t))},0),o=Yb(Math.min(Math.max(0,Kb(String(n))),1)),n=t[r];isNaN(n)&&(n=Math.random(),t[r]=n);r=n<o;return Lb('Test "'.concat(e.name,'" probability draw: ').concat(n,", test population segment size: ").concat(100*o,"%. Will run: ").concat(r)),r}(i,a))return t?o=t:(t=i.scenarios.filter(function(e){return e.size}),o=i.scenarios.length===t.length?(r=Math.random(),n=0,i.scenarios.find(function(e){e=e.size;return Yb(n+=e)>r})):(t.length&&Lb.warn('Test "'.concat(i.name,'" has some scenarios with size and some without, falling back to global scope size')),i.scenarios[Math.floor(Math.random()*i.scenarios.length)]),a[e]=o.name),$b[i.name]=o.name,o}(e,r))&&Lb('From test "'.concat(e.name,'" selecting scenario'),i),!r["".concat(qb,".").concat(e.name,".").concat(zb)]&&t+n<=o&&(Lb('  Outside of enrolment window for test "'.concat(e.name,'". Skipping.')),i="")}else{Lb('  Removing test "'.concat(e.name,"\" as it's outside of set duration."));for(var a=0,s=[Vb,localStorage,sessionStorage];a<s.length;a++){var c,u=s[a];for(c in u)0===c.indexOf("mol.ads.mvt.tests.".concat(e.name))&&delete u[c]}}return i}).filter(function(e){return e});Lb("Scenarios summary: ",r),function(e,t,r){var n=s("plugins.enabled",[]),o=[],i=[];t.forEach(function(e){Array.isArray(e.plugins)?(Tb('From scenario "'.concat(e.name,'", adding plugins:'),e.plugins),o=[].concat(Pb(o),Pb(e.plugins))):"object"===xb(e.plugins)&&(Array.isArray(e.plugins.add)&&(Tb('From scenario "'.concat(e.name,'", adding plugins:'),e.plugins.add),o=[].concat(Pb(o),Pb(e.plugins.add))),Array.isArray(e.plugins.remove)&&(Tb('From scenario "'.concat(e.name,'", removing plugins:'),e.plugins.remove),i=[].concat(Pb(i),Pb(e.plugins.remove))))});r=n.indexOf(r)+1;n.splice.apply(n,[r,0].concat(Pb(o)));var a=new Set(i),n=n.filter(function(e){return!a.has(e)});e("plugins.enabled",Pb(new Set(n)))}(t,r,n),function(r,e){e=e.map(function(e){return kb('From scenario "'.concat(e.name,'", loading config:'),e.config||{}),e.config||[]}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return e}).reduce(function(r,e){return Object.entries(e).forEach(function(e){var t=Eb(e,2),e=t[0],t=t[1];r[e]=t}),r},{});Object.entries(e).forEach(function(e){var t=Eb(e,2),e=t[0],t=t[1];r(e,t)})}(t,r),Fb=e.map(function(e){return[e.name,$b[e.name]]}).filter(function(e){e=Ub(e,2);return e[0],e[1]}).map(function(e){return e.join("=")}).join(",")};var ft=function(e){var t=e.broker,e=(0,I.U2)("plugins.nativo.scriptSrc","//s.ntv.io/serve/load.js");t.invoke("import script",e)},Jb=ft;function Xb(e,t){if(e){if("string"==typeof e)return Zb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zb(e,t):void 0}}function Zb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qb(e){e.broker,e.getConfig}function e0(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t0(e){var t=e.broker,r=e.getConfig,n=e.log,o=r("plugins.nonPersonalizedAds.sendNPA",!0),i=r("plugins.nonPersonalizedAds.sendIllegalAttempts",!0),a={npa:!1,npaIllegalAttempts:[]},s=function(e){t.once("gpt loaded",function(){googletag.pubads().setRequestNonPersonalizedAds(e)})};t.once("gpt loaded",function(){var e=googletag.pubads();s=e.setRequestNonPersonalizedAds.bind(e),e.setRequestNonPersonalizedAds=function(e){e=new Error("Illegal attempt to call setRequestNonPersonalizedAds(".concat(JSON.stringify(e),")"));a.npaIllegalAttempts.push(e.stack),n.warn(e)}}),t.register("call for page analytics",function(){var e,t={};return o&&(t.npa=a.npa),i&&(t.npaIllegalAttempts=function(e){if(Array.isArray(e))return e0(e)}(e=a.npaIllegalAttempts)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return e0(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?e0(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a.npaIllegalAttempts=[],t}),t.on("set non personalized ads",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;a.npa=!!e,s(e)})}ft.vendorIds={gdpr:[263]},Qb.pluginSetup=function(e){var t,r=e.getConfig,n=e.setConfig,e=e.broker;j.g.PageCriteria&&j.g.PageCriteria.nonAdservable&&(t=new Set(r("nonAdServable.plugins.whitelist",[])),n("plugins.enabled",r("plugins.enabled").filter(function(e){return t.has(e)})),e.intercept("slot defined",function(e,t){var r,e=function(e){if(Array.isArray(e))return e}(r=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),3!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||Xb(r,3)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=(e[0],e[1]),e=e[2];"billboard"===r.pos?e.parentNode.parentNode.removeChild(e.parentNode):e.parentNode.removeChild(e)}),window.DM&&window.DM.molFeComponents&&"function"==typeof window.DM.molFeComponents.setConfig&&window.DM.molFeComponents.setConfig("mol-fe-videoplayer",{plugins:{flyout:{enabled:!1,forceFlyout:{enabled:!1}}}}),n="#mini-carousel-wrapper {display: none;}",(r=document.createElement("style")).type="text/css",r.styleSheet?r.styleSheet.cssText=n:"textContent"in r?r.textContent=n:r.innerText=n,document.getElementsByTagName("head")[0].appendChild(r),e.on("dom ready",function(){return(function(e){if(Array.isArray(e))return Zb(e)}(e=document.querySelectorAll(".mol-ads-label-container"))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Xb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach(function(e){return e.parentNode.removeChild(e)});var e}))};var r0=(0,O.x)("page-visibility");function n0(e){var t=e.broker;t.register("is page visible?",function(){return new Promise(function(e,t){return e((e=document.hasFocus(),r0("isPageVisible",e),e))})}),j.g.top.addEventListener("blur",function(){setTimeout(function(){r0("Blur event - page hidden"),t.emit("page hidden")})}),j.g.top.addEventListener("focus",function(){setTimeout(function(){r0("Focus event - page visible"),t.emit("page visible")})})}var o0="mol.ads.paidSession",i0=function(e){return localStorage.setItem(o0,JSON.stringify(e))};function a0(e){var t=e.broker,r=e.getConfig,n=JSON.parse(localStorage.getItem(o0))||{},o="none",e="none",r=1e3*r("plugins.paidSessions.maxIntervalInSeconds",900);n&&n.lastUpdate&&n.lastUpdate>=Date.now()-r?(n.lastUpdate=Date.now(),i0(n),e=n.utm_source,o=n.session_page_ID):T.SP.utm_source?(e=T.SP.utm_source,o=PageCriteria.articleId,i0({lastUpdate:Date.now(),utm_source:e,session_page_ID:o})):localStorage.removeItem(o0);var i={session_page_ID:o,utm_source:e};t.emit("set page level targeting",i),t.register("call for page analytics",function(){return i})}function s0(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function c0(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s0(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):s0(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function u0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d0(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d0(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l0(e){function a(e){return u.auctionByPos[e]||u.auctionByPos[e.substr(0,e.lastIndexOf("-"))]}function s(e,t){var r;a(e)&&((r=a(e)).slots[e]||(r.slots[e]={}),r.slots[e][t]||(r.slots[e][t]=function(e){e=0<arguments.length&&void 0!==e?e:j.g.adverts.startTime;return parseFloat(((Date.now()-e)/1e3).toFixed(1))}()))}function o(e){return Array.isArray(e)?1===e.length?o(e[0]):e.join(", "):"boolean"==typeof e||isNaN(e)?e:parseFloat(e)}function t(n){return Object.keys(n).reduce(function(t,r){return Object.keys(n[r]).forEach(function(e){t[e]=t[e]||{},t[e][r]=n[r][e]}),t},{})}function r(e){console.group("Auction Performance"),console.table(t(Object.fromEntries(Object.entries(e.streamAuctions).map(function(e){var t=u0(e,2),e=t[0],t=t[1].endpoints;return[e,Object.fromEntries(Object.entries(t).map(function(e){var t=u0(e,2),e=t[0],t=t[1];return[e,1e3<t?"ready":t]}))]})))),console.groupEnd()}function i(e){return(!u.currentAuction||u.currentAuction.lastPosTime<Date.now()-5e3)&&(u.currentAuction={id:u.auctions.length,slots:{},ads:{},kv:{},bids:{},streamAuctions:{}},u.auctions.push(u.currentAuction)),u.currentAuction.lastPosTime=Date.now(),u.currentAuction.streamAuctions[e]||(u.currentAuction.streamAuctions[e]={start:0,endpoints:{}}),u.auctionByPos[e]=u.currentAuction}var n=e.broker,c=e.getConfig,u={auctions:[],auctionByPos:{},started:{},queue:[],bids:{},kv:{},gkv:{}};n.on("get tags",function(e){e=e.slot.pos;i(e).streamAuctions[e].start=Date.now()}),n.on("get video tags",function(e){e=e.slot.pos;i(e)}),n.on("ad rendered",function(e,t){s(e,"ad rendered");for(var r=e,n=0,o=a(e);o.ads[r];)n++,r="".concat(e," ").concat(n);var i=o.ads[r]={};i.creativeId=t.creativeId||t.sourceAgnosticCreativeId,i.lineItem=t.lineItemId||t.sourceAgnosticLineItemId,i.adUnit=t.slot.molAd.adUnit,t.sourceAgnosticLineItemId&&t.creativeId!==t.sourceAgnosticCreativeId&&(i["reservation or backfil"]=!0)}),n.on("headerbidder winner",function(e,t){var r=a(e);r&&r.ads[e]&&(r.ads[e]["headerbidder winner"]=t)}),n.on("ad viewable",function(e,t){s(e,"ad viewable")}),n.on("ad loaded",function(e,t){s(t,"ad loaded")}),n.on("slot defined",function(e){i(e.pos),s(e.pos,"slot defined")}),n.on("start bidding",function(e){i(e),s(e,"start bidding"),u.started[e]=Date.now()}),n.on("ready to request",function(e){return s(e,"ready to request")}),n.on("ad requested",function(e){return s(e,"ad requested")}),n.on("bidding ended",function(e){return s(e,"bidding ended")}),n.on("bids requested",function(e){e.positions.forEach(function(e){i(e),s(e,"prebid called")})}),n.on("bid",function(e,t){var r=t.bidder,n=t.cpm,t=i(e),e=t.bids[e]=t.bids[e]||{},n=n/100;(!e[r]||e[r]<n)&&(e[r]=n)}),n.on("set key value",function(e,t,r){var n=i(e);(n.kv[e]=n.kv[e]||{})[o(t)]=o(r)}),n.on("set global key value",function(e,t){u.gkv[o(e)]=o(t)});function d(e){return i(e).streamAuctions[e]}function l(e,t){e.endpoints[t]=Math.round((Date.now()-e.start)/10)/100}var f,p;n.on("auction event",function(e,t,r){var n=d(e);n.ended||("interested endpoint"===t?(0===n.start&&(n.start=Date.now(),Object.keys(n.endpoints).forEach(function(e){var t=n.endpoints[e];Number.isFinite(t)&&(n.endpoints[e]=Math.round((1e3*t-n.start)/10)/100)})),e=(r.endpoints||[]).filter(function(e){return void 0===n.endpoints[e]}),e=Object.fromEntries(e.map(function(e){return[e,"pending"]})),n.endpoints=c0(c0({},n.endpoints),e)):"stream done"===t?l(n,r.endpoint):"end"===t&&(n.ended=!0,Object.entries(n.endpoints).forEach(function(e){var t=u0(e,2),e=t[0];"string"==typeof t[1]&&(n.endpoints[e]="timed out")})))}),n.on("plugin done",function(e,t){e=d(e);e.ended||l(e,t)}),j.g.openAdsControlPanel=function(){n.emit("load script",c("controlPanel.url","http://scripts.dailymail.co.uk/static/mol-adverts/control-panel/0.0.3/mol-ads-control-panel.js"),null,{},function(){return!0})},f="",p="38384040373937396665",document.addEventListener("keydown",function(e){e=e.keyCode;(f+=""+e)==p&&j.g.openAdsControlPanel(),p.indexOf(f)&&(f=""+e)}),j.g.adverts.performance={state:u,print:function(){u.auctions.forEach(function(e){console.group("Auction ".concat(e.id)),console.group("Slots performance"),console.table(e.slots),console.table(e.ads),console.groupEnd(),console.group("Key+values"),console.table(t(e.kv)),console.groupEnd(),console.group("Bids"),console.table(e.bids),console.groupEnd(),r(e),console.groupEnd()}),console.group("Page level Key+values"),console.table(u.gkv),console.groupEnd()},printAuctionPerformance:function(){u.auctions.forEach(function(e){console.group("Auction ".concat(e.id)),r(e),console.groupEnd()})}}}function f0(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function p0(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){f0(n,t,r,o,i,"next",e)}function i(e){f0(n,t,r,o,i,"throw",e)}o(void 0)})}}function g0(){return m0.apply(this,arguments)}function m0(){return(m0=p0(regeneratorRuntime.mark(function e(){var t,r,n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,I.U2)("plugins.pixelSync.byCMPVendor",{}),r=Object.keys(t),e.next=4,h0(r);case 4:for(n=e.sent,o=0,i=r;o<i.length;o++)a=i[o],n(a,t[a]);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var y0,h0=(y0=p0(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa("getVendorConsents",t);case 2:return r=e.sent,n=r.vendorConsents,e.abrupt("return",function(e,t){return n[e]&&v0(t)});case 5:case"end":return e.stop()}},e)})),function(e){return y0.apply(this,arguments)}),v0=function(e){(new Image).src=e};g0.vendorIds={gdpr:!1};var b0=j(5529),ft=j(394),w0=j.n(ft);function S0(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _0(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S0(Object(r),!0).forEach(function(e){O0(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S0(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function O0(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I0(){return""+ ++E0}var E0=0,A0=(function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(k0.prototype,[{key:"_createPendingStreamForPosition",value:function(e){var t=this.broker.createReadObjectStream();return this.priv.pendingStreams[e]=t}},{key:"_createAuctionForPositions",value:function(e,n){var o=this,t=I0(),e=e.reduce(function(e,t){var r=n?o._createPendingStreamForPosition(t):o.broker.createReadObjectStream();return r.bids=[],_0(_0({},e),{},O0({},t,{stream:r}))},{});return{auctionId:t,positions:this.priv.auctions[t]=e}}},{key:"createAuctionWithPendingStreams",value:function(e){return this._createAuctionForPositions(e,!0)}},{key:"resolveStreamForPosition",value:function(e){var t,r={};return this.priv.pendingStreams[e]?(r.stream=this.priv.pendingStreams[e],delete this.priv.pendingStreams[e]):r={auctionId:(t=this._createAuctionForPositions([e],!1)).auctionId,stream:t.positions[e].stream},r}},{key:"createAuctionForAdUnit",value:function(e,t){var r=t||I0(),t=this.broker.createReadObjectStream();t.bids=[];t={stream:t,offset:e.offset,platform:e.platform};return this.priv.auctions[r]=O0({},e.code,t),{auctionId:r,positions:O0({},e.code,t)}}},{key:"getStreamForAdUnitCode",value:function(e,t){return this.priv.auctions[e]&&this.priv.auctions[e][t]||{}}},{key:"dispose",value:function(e){var t=this.priv.auctions[e];t?(Object.values(t).forEach(function(e){e=e.stream;e.push(null),e.ended=!0}),delete this.priv.auctions[e]):console.error("Unabled to find auctionId: ".concat(e))}}]),k0);function k0(e){var t=e.broker;!function(e){if(!(e instanceof k0))throw new TypeError("Cannot call a class as a function")}(this);e={};this.broker=t,e.auctions={},e.pendingStreams={},this.priv=e}function x0(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function P0(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x0(Object(r),!0).forEach(function(e){j0(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x0(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function j0(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T0(e){return(T0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C0(e){return function(e){if(Array.isArray(e))return B0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M0(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R0(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function D0(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){R0(n,t,r,o,i,"next",e)}function i(e){R0(n,t,r,o,i,"throw",e)}o(void 0)})}}function U0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||M0(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M0(e,t){if(e){if("string"==typeof e)return B0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B0(e,t):void 0}}function B0(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N0(e,t){return(0,C.DZ)(function(e){e=t[e.code];return!!e&&!(0,b0.lv)(e)&&!e.dynamic},function(e){return e.code},e||[])}var L0=(0,O.x)("prebid");function q0(e,t){var r=e[0]*e[1],n=t[0]*t[1],t=e[0]<t[0]?1:e[0]>t[0]?-1:0;return r<n?1:n<r?-1:t}function z0(c,u,d){function l(r,t){return u.bidderSettings.standard.adserverTargeting.filter(function(e){return void 0===r[e.key]}).map(function(e){return[e.key,e.val(t)]}).filter(function(e){e=U0(e,2);return e[0],void 0!==e[1]}).forEach(function(e){var t=U0(e,2),e=t[0],t=t[1];return r[e]=t}),r}function f(r,n){return Object.keys(n).reduce(function(e,t){return"hb_bidder"===t||(e["".concat(t,"_").concat(r).substring(0,20)]=n[t]),e},{})}function p(e){return JSON.parse(JSON.stringify(e))}u.onEvent("bidderDone",function(e){var t=e.bidderCode,e=e.bids;new Set(e.map(function(e){return e.adUnitCode})).forEach(function(e){return c.emit("plugin done",e,t)})}),u.onEvent("bidResponse",function(e){L0("auctionId: ".concat(e.auctionId,", bidResponse, adUnitCode: ").concat(e.adUnitCode,", bidderCode: ").concat(e.bidderCode,", adId: ").concat(e.adId,", cpm: ").concat(e.cpm));var t,r,n=d.getStreamForAdUnitCode(e.auctionId,e.adUnitCode),o=n.stream,i=n.offset,a=n.platform,s=Math.round(100*e.cpm);c.emit("bid",e.adUnitCode,{bidder:e.bidderCode,cpm:s,offset:i,platform:a}),o.bids[e.bidderCode]&&(L0("auctionId: ".concat(e.auctionId,", additional bid, adUnitCode: ").concat(e.adUnitCode,", ").concat(e.bidderCode,", cpm: ").concat(e.cpm,", slotSize: ").concat(e.size)),o.bids[e.bidderCode]>=e.cpm)||(o.bids[e.bidderCode]=e.cpm,o?(["video","jwplayer"].includes(e.adUnitCode)?(L0("auctionId: ".concat(e.auctionId,", bid caching not supported for slot: ").concat(e.adUnitCode)),r=e):(t=u.getHighestUnusedBidResponseForAdUnitCode(e.adUnitCode),L0("auctionId: ".concat(e.auctionId,", bidResponse, adUnitCode: ").concat(e.adUnitCode,", highestCachedBid: ").concat(t&&t.bidderCode,", adId: ").concat(t&&t.adId,", cpm: ").concat(t&&t.cpm,", from auctionId: ").concat(t.auctionId)),r=t&&!(0,he.xb)(t)&&t.cpm>=e.cpm?t:e,L0("auctionId: ".concat(e.auctionId,", bidResponse, adUnitCode: ").concat(e.adUnitCode,", selected bidder isCached: ").concat(e.auctionId!==r.auctionId,",  bidderCode: ").concat(r.bidderCode,", adId: ").concat(r.adId,", cpm: ").concat(r.cpm))),n=e,s=r,(i=o).ended?L0("auctionId: ".concat(n.auctionId,", streamEnded, adUnitCode: ").concat(s.adUnitCode,", bidder: ").concat(s.bidderCode,", adId: ").concat(s.adId)):(a=l(p(s.adserverTargeting),s),t=f(n.bidderCode,l(p(n.adserverTargeting),n)),r=s.auctionId!==n.auctionId?1:0,void 0===i.highestCpm&&(i.highestCpm=0),i.highestCpm=n.cpm>i.highestCpm?n.cpm:i.highestCpm,a.bc=r,a.bc_diff=(o=r?s.cpm-i.highestCpm:0,Math.round(100*o)/100),L0("auctionId: ".concat(n.auctionId,", streamBid, adUnitCode: ").concat(s.adUnitCode,", bidder: ").concat(s.bidderCode,", adId: ").concat(s.adId,", cpm: ").concat(s.cpm,", from auctionId: ").concat(s.auctionId,", cachedBidDiff: ").concat(a.bc_diff)),i.push([a]),i.push([t]),r&&!i.isCachedBidUsed&&(L0("CACHED auctionId: ".concat(n.auctionId,", streamBid, adUnitCode: ").concat(s.adUnitCode,", bidder: ").concat(s.bidderCode,", adId: ").concat(s.adId,", cpm: ").concat(s.cpm,", from auctionId: ").concat(s.auctionId,", cachedBidDiff: ").concat(a.bc_diff)),a={cached:!0,bidder:s.bidderCode,cpm:Math.round(100*s.cpm)},i.push([f(s.bidderCode,l(p(s.adserverTargeting),s))]),c.emit("bid",s.adUnitCode,a),i.isCachedBidUsed=!0))):console.error("[PREBID] auctionId: ".concat(e.auctionId,",  Unknown stream for ").concat(e.adUnitCode,", bidder: ").concat(e.bidderCode)))})}var V0,F0=(V0=D0(regeneratorRuntime.mark(function e(t){var g,u,d,n,o,l,i,f,r,a,p,s,c,m,y,h,v,b,w,S,_,O,I,E,A,k,x,P;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g=t.broker,(u=t.getConfig)("plugins.enabled",[]).includes("trackers.pubcommon")&&u("prebid.pubcommon.enabled",!1)&&function(e){var t=e.broker,r=e.getConfig,n=e.log;t.on("prebid loaded",function(e){var t=e.getConfig("userSync"),t={userSync:(0,Cn.LY)(t,{userIds:[{name:"pubCommonId",storage:{type:"cookie",name:"_pubcid",expires:365}}],syncDelay:r("plugins.prebid.syncDelay",3e3)})};n("setting pbjs config",t),e.setConfig(t)})}({broker:g,getConfig:u,log:L0}),n=g.invokeAll("prebid prerequisites",{timeout:u("plugins.prebid.prequisiteTimeout",3e3)}),o=new Promise(function(){var t=D0(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:r=j(5459),d=r.default,g.emit("prebid loaded",d),t(d);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),l=new A0({broker:g}),i=new Set,f={},r=u("slotDescriptions.initial",{}),a=(0,M.Ls)(function(t){return g.on("enabled slots updated",function(e){p.reset(),t(new Set(e.enabledAds))})}),p=(0,Cn.QR)(D0(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return e.t0=e.sent,t=(0,e.t0)(),e.abrupt("return",Object.fromEntries(Object.entries(r).filter(function(e){e=U0(e,1)[0];return t.has(e)})));case 5:case"end":return e.stop()}},e)}))),g.on("slot descriptions updated",function(e){r=e||{},p.reset()}),s=function(e){return e.forEach(function(e){return i.add(e)})},c={},m=function(e){e=e.filter(function(e){e=e&&"code"in e;return e||L0("ignoring invalid adUnit"),e});L0("addAdUnits",e),d.addAdUnits(e),s(e.map(function(e){return e.code})),e.forEach(function(e){var t=e.code,e=e.bids;c[t]=C0(new Set([].concat(C0(c[t]||[]),C0(e.map(function(e){return e.bidder})))))})},y=u("auction.priceGranularity",{buckets:[{min:0,max:20,increment:.01},{min:20,max:50,increment:.1}]}),g.register("prebid config async update",function(){var t=D0(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:d.setConfig(t);case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),h=function(t,r,n){return function(e){L0("auctionId:",t,", ",r,"auctionEnded, bids:",Object.keys(e||{}).length),n&&g.emit(n,r,t),l.dispose(t)}},v=function(e,t){L0("auctionId:",e,", bidOnAdUnitCodes: ",t),d.requestBids({adUnitCodes:t,auctionId:e,bidsBackHandler:h(e,t)}),g.emit("bids requested",{positions:t})},b=u("prebid.videoAuctionOffset",500),w=function(e,t,r){r=l.createAuctionForAdUnit(e,r);return L0("auctionId:",r.auctionId,", adUnit: ",e),g.emit("bids requested",{positions:[e.code]}),d.requestBids({adUnits:[e],auctionId:r.auctionId,timeout:t-b,bidsBackHandler:h(r.auctionId,[e.code],"prebid video auction ended")}),{stream:r.positions[e.code].stream,auctionId:r.auctionId}},S={standard:{adserverTargeting:[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){switch(y){case"auto":return e.pbAg;case"dense":return e.pbDg;case"high":return e.pbHg;case"low":return e.pbLg;case"medium":return e.pbMg;default:return"object"===T0(y)?e.pbCg:e.pbHg}}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_source",val:function(e){return e.source}},{key:"hb_format",val:function(e){return e.mediaType}},{key:"hb_skin",val:function(e){return"inskin"===e.bidderCode}},{key:"hb_cache_id",val:function(e){return e.videoCacheKey}},{key:"hb_uuid",val:function(e){return e.videoCacheKey}},{key:"fb_bidid",val:function(e){return e.fb_bidid}}]}},g.on("plugins enabled",function(){var t=D0(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.invokeAll("provide prebid adUnits");case 2:return r=e.sent.flat(),e.next=5,o;case 5:return e.next=7,g.invokeChainMutable("prebid reduce bidderSettings",S);case 7:return d.bidderSettings=e.sent,e.next=10,g.invokeAll("provide bidder alias");case 10:e.sent.forEach(function(e){var t=e.adapterName,e=e.aliasedName;d.aliasBidder(t,e)}),g.emit("configure and start prebid",t,r);case 13:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),_=function(e){return C0(new Set([].concat(C0(e.banner&&e.banner.sizes||[]),C0(e.video&&e.video.playerSize||[])))).sort(q0)},O=function(e){return Object.values(e.reduce(function(e,t){var r=t.code,n=t.bids,o=t.mediaTypes,t=r+JSON.stringify(o),o=e[t]=e[t]||{code:r,mediaTypes:o,bids:[],sizes:_(o)};return o.bids=[].concat(C0(o.bids),C0(n)),e},{}))},I=function(r,e){var t=e.reduce(function(e,t){return(r.has(t.bids[0].bidder)?e.s2sAdUnits:e.headerAdUnits).push(t),e},{s2sAdUnits:[],headerAdUnits:[]}),e=t.s2sAdUnits,t=t.headerAdUnits;L0("S2S AdUnits",e);e=e.reduce(function(e,t){var r=t.code,n=t.bids,t=t.mediaTypes,n=[].concat(C0(e[r]&&e[r].bids||[]),C0(n)),t=(0,C.jj)([].concat(C0(e[r]&&e[r].mediaTypes.banner.sizes||[]),C0(t.banner.sizes.map(function(e){return e.toString()}))));return P0(P0({},e),j0({},r,{code:r,bids:n,mediaTypes:{banner:{sizes:t}}}))},{}),e=Object.values(e).map(function(e){return{code:e.code,bids:e.bids,mediaTypes:{banner:{sizes:e.mediaTypes.banner.sizes.map(function(e){return e.split(",").map(function(e){return parseInt(e)})})}}}});return L0("merged S2S AdUnits",e),[].concat(C0(t),C0(e))},E=function(){var r=D0(regeneratorRuntime.mark(function e(t,r){var n,o,i,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={"bidders.adform.display":"adform","bidders.adform.video":"adform","bidders.mediagrid":"grid","bidders.mediagridVideo":"grid","bidders.brightroll":"brightroll"},L0.info("pluginToS2SBidderNameMap",n),a=w0()(t,Object.keys(n)),L0.info("enabledS2SPlugins",a),s=new Set(a.map(function(e){return n[e]})),o=Array.from(s),L0.info("enabledS2SBidders",s),c=I(s,r),L0("mergedAdUnits",O(c)),i=O(c),e.t0=C0,e.t1=Set,e.t2=N0,e.t3=i,e.next=16,p();case 16:e.t4=e.sent,e.t5=(0,e.t2)(e.t3,e.t4),e.t6=new e.t1(e.t5),a=(0,e.t0)(e.t6),s=u("topPageUrl"),c={debug:u("prebid.debug",!1)||T.SP.pbjs_debug||!1,enableSendAllBids:!1,priceGranularity:y,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},s2sConfig:{accountId:u("auction.accountId","37643165-9d8c-4c14-9e55-57b51f032308"),enabled:!!o.length,bidders:o,timeout:u("auction.maxTime",2e3),adapter:u("auction.adapter","prebidServer"),endpoint:u("auction.endpoint","https://prebid.adnxs.com/pbs/v1/openrtb2/auction"),syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync",secure:u("auction.secure",0)},currency:u("prebid.currency",{adServerCurrency:"USD",granularityMultiplier:1,conversionRateFile:"https://currency.prebid.org/latest.json",defaultRates:{GBP:{USD:1.2764213953}}}),sizeConfig:u("plugins.prebid.sizeConfig",[])},s&&(c.pageUrl=s),j.g.__tcfapi?c.consentManagement=P0(P0({},c.consentManagement||{}),{},{gdpr:{cmpApi:"iab",timeout:5e3,defaultGdprScope:!0}}):j.g.__cmp&&(c.consentManagement=P0(P0({},c.consentManagement||{}),{},{gdpr:{cmpApi:"iab",timeout:5e3,allowAuctionWithoutConsent:!1}})),j.g.__uspapi&&(c.consentManagement=P0(P0({},c.consentManagement||{}),{},{usp:{cmpApi:"iab",timeout:500}})),L0("config:",c),d.setConfig(c),i=function(t,e){var r=new Set(["mpu_puff_others","puff_ad_others","mpu_mobile_others","mpu_factbox","mpu_mobile_factbox"]);return e.filter(function(e){return r.has(e.code)?(e.bids&&e.bids.length&&(t[e.code]=t[e.code]||[],t[e.code].push(e)),!1):e.bids&&e.bids.length})}(f,i),L0("adUnits",i),L0("othersAdsPos templates",f),m(i),z0(g,d,l),g.emit("prebid adunits added",i,a),c=l.createAuctionWithPendingStreams(a),c=c.auctionId,L0("auctionId: ".concat(c,", requestBids. adUnitCodes: ").concat(a)),v(c,a);case 36:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),A=new Promise(function(o){var t;g.on("configure and start prebid",(t=D0(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<n.length&&void 0!==n[1]?n[1]:[],e.next=3,E(t,r);case 3:o();case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}))}),k=function(e,t){e=(e=f[e]&&JSON.parse(JSON.stringify(f[e]))||[]).map(function(e){return e.code=t,e});return m(e),e},g.registerStream("get tags",function(){var t=D0(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.slot,e.next=3,A;case 3:if(!(n=r.pos).startsWith("mpu_puff_other")){e.next=8;break}k("mpu_puff_others",n),e.next=32;break;case 8:if(!n.startsWith("puff_ad_other")){e.next=12;break}k("puff_ad_others",n),e.next=32;break;case 12:if(!n.startsWith("mpu_mobile_other")){e.next=16;break}k("mpu_mobile_others",n),e.next=32;break;case 16:if(!n.startsWith("mpu_factbox")){e.next=20;break}k("mpu_factbox",n),e.next=32;break;case 20:if(!n.startsWith("mpu_mobile_factbox")){e.next=24;break}k("mpu_mobile_factbox",n),e.next=32;break;case 24:return e.next=26,p();case 26:if(e.t1=n,e.t0=!e.sent[e.t1],e.t0){e.next=30;break}e.t0=!i.has(n);case 30:if(e.t0)return e.abrupt("return");e.next=32;break;case 32:return(o=l.resolveStreamForPosition(n)).auctionId&&v(o.auctionId,[n]),g.emit("auction event",n,"interested endpoint",{endpoints:c[n]}),e.abrupt("return",o.stream);case 36:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),x=function(e){return u("plugins.slots.".concat(e,".v2"),{})},P=0<u("plugins.enabled").filter(function(e){return e.includes("konduit")}).length?"konduit get video tags":"get video tags",L0("current message for video tags",P),g.registerStream(P,function(){var t=D0(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,s,c,u,d,l,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.platform,l=t.offset,n=void 0===l?0:l,o=t.timeout,i=t.slot,a=t.autoplay,s=t.videoId,c=t.auctionId,e.next=3,A;case 3:return u=x(i.pos),d=i.pos||"video",u.code=d,u.offset=n,u.platform=r,e.next=10,g.invokeAll("provide video adUnits",d,a,n,s);case 10:return l=(l=e.sent).filter(function(e){return!!e}),u.bids=l.reduce(function(e,t){return[].concat(C0(e),C0(t&&t.bids||[]))},[]),L0("video auctionId: ".concat(c,", adUnit config"),u),u.bids.length&&(p=w(u,o,c),f=p.stream,g.emit("prebid video auction started",c,d,n)),p=u.bids.map(function(e){return e.bidder}),L0("Interested endpoints:",p),g.emit("auction event",d,"interested endpoint",{endpoints:p}),e.abrupt("return",Dc.UI(f,function(e){return{cust_params:e.length?e[0]:void 0}}));case 19:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),g.on("prepare to refresh ads",function(e){var t=l.createAuctionWithPendingStreams(e).auctionId;L0("auctionId: ".concat(t,", requestBids refresh, adUnitCodes: ").concat(e)),v(t,e)}),e.abrupt("return",o);case 36:case"end":return e.stop()}},e)})),function(e){return V0.apply(this,arguments)});function W0(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function G0(e){return function(e){if(Array.isArray(e))return H0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return H0(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?H0(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H0(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K0(e){var s,r,a=e.getConfig,t=e.broker,c=e.log,u=t.until("prebid loaded");t.on("configure and start prebid",(s=regeneratorRuntime.mark(function e(t,r){var n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:n=e.sent[0],i=n.getConfig("userSync"),o=P()({},a("plugins.prebid.userSync"),{filterSettings:{iframe:{bidders:Array.from(new Set(r.reduce(function(e,t){return[].concat(G0(e),G0(t.bids.map(function(e){return e.bidder})))},[])))}}}),i={userSync:(0,Cn.LY)(i,o)},c("setting pbjs config",o),n.setConfig(i);case 8:case"end":return e.stop()}},e)}),r=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){W0(n,t,r,o,i,"next",e)}function i(e){W0(n,t,r,o,i,"throw",e)}o(void 0)})},function(e,t){return r.apply(this,arguments)}))}var $0=j(2701),Y0=T.SP["mol.ads.programmatic.debug"];function J0(e){var t,r=e.broker,n=e.getConfig,o=(0,$0.detect)(),e=Math.random(),t=o&&o.name&&(n=n,t=o.name,{chrome:n("prog.campaign.percentage.chrome",.7),crios:n("prog.campaign.percentage.crios",.7)}[t])||0;Y0&&console.log("[PROG CAMPAIGN] browser: ".concat(o&&o.name,", chance: ").concat(t,", rand: ").concat(e)),e<t&&r.emit("set page level targeting",{prog:!0})}function X0(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function Z0(e){return Q0.apply(this,arguments)}function Q0(){return s=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,t.getConfig,j.g.window._qevents=j.g.window._qevents||[],j.g.window._qevents.push({qacct:"p-yVg_z7_Zx4fHs"}),r.invoke("import script","https://secure.quantserve.com/quant.js");case 4:case"end":return e.stop()}},e)}),(Q0=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){X0(n,t,r,o,i,"next",e)}function i(e){X0(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function e1(e){var t=e.broker,o=e.log,i={},a={},s={total:0,auction:{},video:{}};function r(e,t,r){var n;return!a[r]&&i[r]&&(o("[",r,"] ad viewable, but bidding in progress - assuming the auction ended",i[r]),a[r]=i[r],delete i[r]),a[r]?(n=a[r].cpm,s.total+=n,s[e][t]=(s[e][t]||0)+n,o("[",r,"] ad viewable",a[r],"summary.total",s.total),delete a[r]):o("[",r,"] ad viewable - no winner"),n}window.adverts.getRevenueSummary=function(){return s},t.on("bids requested",function(e){e.positions.forEach(function(e){o("[",e,"] start auction"),delete i[e]})}),t.on("bid",function(e,t){var r=t.bidder,t=t.cpm;(!i[e]||i[e].cpm<t)&&(i[e]={bidder:r,cpm:t}),o("[",e,"]",r,"offers to pay",t)}),t.on("bidding ended",function(e){i[e]?(a[e]=i[e],delete i[e],o("[",e,"] bidding ended",a[e])):o("[",e,"] bidding ended - no bids")}),t.on("video ad viewable",function(e){var t=e.pos;return e.bids,r("video",e.videoId||"unknown",t)}),t.on("ad viewable",function(e){return r("auction",e,e)})}Z0.vendorIds={gdpr:[11]};var t1,r1=(0,O.x)("rta");function n1(e){e.broker.on("send to rta",function(e,t){j.g.RTA&&"function"==typeof j.g.RTA.tedEvent&&(r1("Sending:",t={action:2<arguments.length&&void 0!==arguments[2]?arguments[2]:"store",name:e,value:t}),j.g.RTA.tedEvent("page_event",t))})}function o1(e){var t=e.broker;(0,rt.loaded)().then(function(){return t.emit("dom loaded")}),DM.later("DOM_READY",function(){return t.emit("dom ready")}),window.addEventListener("load",function(){return t.emit("page load")})}function i1(e){return function(e){if(Array.isArray(e))return a1(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return a1(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a1(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a1(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s1(e){e.broker;e=e.getConfig;t1&&(t1.base||e("plugins.enabled",[]).includes(t1.pluginName))&&(T.SP["mol.ads.selective.debug"]&&console.log("INIT selective",t1),j.g.molABTest=t1.label)}var c1={NONE:function(){return[]},ALL:function(e){return e.plugins},RANDOM:function(e){return e.plugins.filter(.5<Math.random())},SPLIT_TEST:function(e){return[e.plugins[Math.floor(Math.random()*e.plugins.length)]]},PERSISTENT_SPLIT_TEST:function(e){var t="mol.ads.selective.pools.".concat(e.name,".selected"),r=localStorage.getItem(t);if(r&&e.plugins.concat("base").includes(r))return[r];e=e.plugins[Math.floor(Math.random()*e.plugins.length)]||"base";return localStorage.setItem(t,e),[e]}};s1.pluginSetup=function(e){var t=e.getConfig,r=e.setConfig,n=T.SP["mol.ads.selective.debug"];n&&console.log("[SELECTIVE]: Initialising Selective plugin loader");var o=t("plugins.enabled",[]),i=t("selective.v2.pool",{});(e=i)&&e.rule&&Object.keys(c1).includes(e.rule)&&e.plugins&&Array.isArray(e.plugins)&&e.plugins.length&&((t=i.rule?c1[i.rule]:"ALL")?(e=t(i),["ALL","NONE"].includes(t)||(t=e[0]||"base",t1={pluginName:e[0],label:i.name+"."+t},"base"===t&&(t1.base=!0)),e=e.filter(function(e){return!!e}),n&&console.log("[SELECTIVE]: From pool ".concat(i.name,", loading plugins: ").concat(e)),"number"==typeof i.insertAt||"string"==typeof i.insertAt?(n=parseInt(i.insertAt),(o=i1(o)).splice.apply(o,[n,0].concat(i1(e)))):o=[].concat(i1(o),i1(e)),r("plugins.enabled",o)):console.error("[SELECTIVE]: Invalid drawing rule ".concat(i.rule," for pool ").concat(i.name)))};var u1=function(e,t){var r=t.isEmpty,n=t.slot;if(!r)switch(e){case"billboard-oop":return l1();case"billboard":return d1(document.getElementById(n.getSlotElementId()))}},d1=function(e){var t;!e||(t=e.querySelector(".mol-ads-label-container"))&&e.parentNode.appendChild(t)},l1=function(){var e=document.createElement("div"),t=document.createElement("div"),r=document.createTextNode((0,I.U2)("label.text","ADVERTISEMENT"));t.classList.add("mol-ads-skin-label"),t.appendChild(r),e.classList.add("mol-ads-skin-label-container"),e.appendChild(t),document.body.appendChild(e)},f1=function(e){var t=e.imageURL,r=e.clickURL,n=document.body;document.documentElement.classList.add("mol-ads-skin-enabled");e=document.createElement("a");e.className="mol-ads-skin-click-target",e.href=r;r=document.createElement("div");r.className="mol-ads-skin-pad",n.insertBefore(e,n.firstChild),n.insertBefore(r,e),(0,rt.appendStyle)("\nbody { background-image: url(".concat(t,"); }\n")),adverts.stopRefreshingAds(),l1()};function p1(e){e=e.broker;e.on("add skin to page",f1),e.on("add skin label to page",l1),e.on("ad rendered",u1)}function g1(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).delay,t=void 0===e?0:e,r=[];return function(e){r.push(e),setTimeout(function(){return r.shift()()},t)}}var m1,y1,h1={sync:function(){return function(e){return e()}},async:g1,serial:function(){function t(){r=n.length&&setTimeout(o,0)}function e(e){n.push(e),r||t()}var r,n=[],o=function(){n.shift()(),t()};return e.pause=function(){r&&(clearTimeout(r),r=!1)},e.resume=function(){r||t()},e.queue=n,e},idle:function(){return j.g.requestIdleCallback?function(e){return j.g.requestIdleCallback(e)}:g1()},nextFrame:function(){return j.g.requestAnimationFrame?function(e){return j.g.requestAnimationFrame(e)}:g1()},fps:j.g.requestAnimationFrame?function(){var n,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.fps,o=void 0===t?20:t,t=e.count,i=void 0===t?1:t,t=e.internalExecuter,t=void 0===t?"serial":t,e=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(e,["fps","count","internalExecuter"]),o=parseInt(o),i=parseInt(i),a=0,s=[],c=h1[t](e);function u(e){c(function(){e()})}return requestAnimationFrame(function e(t){var r;requestAnimationFrame(e),n&&(o<=1e3/(t-n)?++a===i&&(r=s,s={push:u},r.forEach(u),!r.length&&c.resume&&c.resume()):(i<=a&&(c.pause&&c.pause(),s=[]),a=0)),n=t}),function(e){s.push(e)}}:g1},v1=function(e){var t=e.broker,r=(0,e.getConfig)("scheduler.executer",{type:"async"}),n=r.type,e=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(r,["type"]),r=(0,h1[n])(e);t.register("call for page analytics",function(){return{executer:n}}),t.bus.setDispatcher(r),e.debug&&console.log("Message dispatcher strategy:",n,e)};function b1(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function w1(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){b1(n,t,r,o,i,"next",e)}function i(e){b1(n,t,r,o,i,"throw",e)}o(void 0)})}}function S1(e){return _1.apply(this,arguments)}function _1(){return(_1=w1(regeneratorRuntime.mark(function e(t){var r,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.broker,n=t.getConfig,o=/^https?:\/\/t\.co(\/.*)?$/.test(document.referrer),i=n("molFeSmartBanner"),r.once("dom ready",w1(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:!MobileUtils.isMobile()&&!(0,T.bP)()||(0,T.ej)("smart-banner")||o||DM.molFeComponents.setConfig("molFeSmartBanner",i);case 2:case"end":return e.stop()}},e)})));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O1(e){e.broker.emit("set page level targeting",{abv:Ln})}function I1(){var e=new Date;return{watershed:String(21<=e.getHours()||e.getHours()+e.getMinutes()/60<5.5)}}function E1(e){e=e.broker;e.emit("set page level targeting",I1()),e.register("get prebid tags",I1)}function A1(e){var n=e.broker,o=e.log;o("video-events starting");var t=DM&&DM.pageEvents,e=[t.VIDEO_ADVERT_ABORTED,t.VIDEO_ADVERT_COMPLETED,t.VIDEO_ADVERT_FAILED,t.VIDEO_ADVERT_IMPRESSION,t.VIDEO_ADVERT_NOT_SHOWN,t.VIDEO_ADVERT_STARTED,t.VIDEO_CONTENT_ABORTED,t.VIDEO_CONTENT_COMPLETED,t.VIDEO_CONTENT_STARTED,t.VIDEO_DATA_READY,t.VIDEO_PLAYER_READY,t.VIDEO_PROGRESS,t.VIDEO_STREAM_FAILED,t.VIDEO_STREAM_STARTED];t&&e.forEach(function(r){t.subscribe(r,function(e,t){o("firing:",r),n.emit("video page event ".concat(r),r,t)})})}function k1(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function x1(){}function P1(e){var t=e.broker,r=e.getConfig,e=e.log,r=r("plugins.refresh.realvuScriptUrl","//ac.realvu.net/flip/2/c=E6X7_f=mint");e("loading",r),t.invoke("import script",r)}function j1(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function T1(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){j1(n,t,r,o,i,"next",e)}function i(e){j1(n,t,r,o,i,"throw",e)}o(void 0)})}}x1.pluginSetup=(m1=regeneratorRuntime.mark(function e(t){var n,o,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.getConfig,n=t.log,o="//d2tuygj4en2za2.cloudfront.net/script.js",r=i("plugins.adProtection.setupTimeout",2e3),i=new Promise(function(e,t){try{var r=document.createElement("script");r.src=o,r.async=!0,r.addEventListener("DOMNodeRemoved",e),r.addEventListener("error",t),document.head.appendChild(r)}catch(e){n.error("error loading script ".concat(o),e)}}),n("loading script",o),e.next=7,(0,M.Ye)(r,[i]);case 7:i=e.sent,i=i.results.length?"script loaded":i.errors.length?"script loading error":"script loading timeout",n(i);case 10:case"end":return e.stop()}},e)}),y1=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=m1.apply(e,a);function o(e){k1(n,t,r,o,i,"next",e)}function i(e){k1(n,t,r,o,i,"throw",e)}o(void 0)})},function(e){return y1.apply(this,arguments)});var C1={grapeshot:["DEFAULT"]},R1=function(){try{return j.g.top.location.href.replace(j.g.top.location.search,"").replace(j.g.top.location.hash,"")}catch(e){return}},D1=function(t){if(!t)try{t=j.g.location!==j.g.top.location?document.referrer:j.g.location}catch(e){t=document.referrer}return"//gs.dailymail.co.uk/main/channels-gpt.cgi?url="+encodeURIComponent(t)},U1=function(e){return"string"==typeof e?e.split(",").map(function(e){return e.trim()}):e};function M1(e){return B1.apply(this,arguments)}function B1(){return(B1=T1(regeneratorRuntime.mark(function e(t){var r,a,n,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=function(){return(s=T1(regeneratorRuntime.mark(function e(t){var r,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a("Requesting specific grapeshot for:",t),e.next=3,Tt({url:D1(t)});case 3:r=e.sent,a("Got response:",r);try{o=/\[[^\]]*\]/.exec(r),i=o?JSON.parse(o[0]):[],n={grapeshot:i}}catch(e){a("Error parsing response. Error:",e),n=C1}return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)},i=function(e){return s.apply(this,arguments)},r=t.broker,(a=t.log)("Creating..."),n=D1(),a("URL:",n),a("Initilizing..."),o=r.invoke("load script",n,"gs_channels").then(function(e){return a("Ready:",e),e?{grapeshot:U1(e)}:C1}),r.register("get grapeshot tags",T1(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:return e.abrupt("return",e.sent.grapeshot);case 3:case"end":return e.stop()}},e)}))),o.then(function(e){a("Setting page level targeting"),r.emit("set page level targeting",e)}),r.register("get video tags",function(e){a("Video targeting requested:",e);e=e.articleURL;return e&&(e!==R1()?i(e):o).then(function(e){return a("Video targeting:",e),{cust_params:e}})});case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N1(e){return(N1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L1(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}M1.vendorIds={gdpr:[385]},q("site",{init:function(e){var t=e.broker,r=e.log,n=e.setConfig,o=e.getConfig,i=o("site","mol");n("site",i),t.register("call for page analytics",function(){return{account:i}}),a=r,e=n,t=(0,I.U2)("tcfv2.enabled",!1),r="US"===PageCriteria.geo,e("cmp.model",(r?"ccpa":t&&"gdpr")||void 0),e("cmp.shouldBeEnforced",r&&"CA"===j.g.PageCriteria.region||t),e("cmp.keyNameForGPTVideoConsent",r?"rdp":"npa"),e("cmp.apiHandler",(r?"__uspapi":t&&"__tcfapi")||void 0),a("cmp:",(0,I.U2)("cmp"));var r=function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?L1(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):L1(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}({},q1),t=o("tcfv2.branding.includePrimaryVendor",!0),a=o("tcfv2.branding.providerUrl"),o={level1Paragraphs:z1};t&&(o.primaryVendor=r),a&&(o.providerUrl=a),n("tcfv2.brand",o),"object"===N1(j.g.DM)&&"function"==typeof j.g.DM.getPageMetadata&&n("tcfv2.renderPlatform",j.g.DM.getPageMetadata().renderPlatform)}});var q1={features:[1,2,3],flexiblePurposes:[],headingName:"Associated Newspapers Ltd.",legIntPurposes:[5,6,8,10],name:"Associated Newspapers Ltd. (MailOnline, ThisIsMoney & Metro)",policyUrl:(0,I.U2)("tcfv2.policyUrl","/home/article-7759273/Privacy-Cookies-Policy-Policy.html"),purposes:[1,2,3,4,7,9],specialFeatures:[1],specialPurposes:[1,2]},z1=["We and our partners process, store and/or access data such as IP address, unique ID and browsing data based on your consent to display personalised ads and content, ad and content measurement, audience insights and product development, use precise geolocation data, and actively scan device characteristics for identification.","Sometimes we and/or our partners dont rely on your consent but rely on legitimate interest to process your data. Click Cookie Settings below to see our partners, why they rely on legitimate interest and how you can object.","Control how your data is used and view more info at any time via the Cookie Settings link in the Privacy Policy."];function V1(e,t){if(e){if("string"==typeof e)return F1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F1(e,t):void 0}}function F1(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.assign(j.g.adverts,r);r=Xe;j.g.adverts.startTime=S,j.g.adListLoader=E,j.g.adsDescriptions=A,j.g.adsRenderer=Qe,j.g.DfpServer=et,j.g.adsTrackers={getRequestedAds:r},j.g.AdIntegrator=tt,j.g.AdBehaviour=n,j.g.AdImpression=pt(),j.g.AdEvents=x(),k.ZP.broker("molEntry").register("call for page analytics",function(){return{configVersion:(0,I.U2)("__generated.commit.sha"),bundle:"mol"}});o=Object.assign({},o,function o(e,i){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return Object.entries(e).reduce(function(e,t){var r,n,t=(n=2,function(e){if(Array.isArray(e))return e}(r=t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(r,n)||V1(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],n=t[1],t=(i?i+".":"")+r;if("default"===r)e[i]=n;else if("function"==typeof n)e[t]=n;else{if(n)return o(n,t,e);console.warn('Plugin "'.concat(t,"\" does not export anything. Check the way it's being imported in to the project."))}return e},t)}(w)),w=[].concat(["bootstrap","site","scriptLoader","prebid","pageVisibility","runtimeMessages","sticky.mpus","sticky.banner","version","selective","slots.mpuPuffOthers","skins","performance","nonAdServable","smartScheduler","debug.setPlugin","messagePluginsFromCreatives","slots.descriptions","conditionalLoad","conditionalEnable"],function(e){if(Array.isArray(e))return F1(e)}(w=(0,I.U2)("plugins.enabled",[]))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(w)||V1(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());(0,I.t8)("plugins.enabled",w),(0,I.t8)("tcfv2.uuid.useRtaId",!0),E.initialiseSlots((0,I.U2)("slots.enabled",{}),w),function(){ye.apply(this,arguments)}({enabledPlugins:w,plugins:o,messageBus:k.ZP})},9023:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return init}});var _utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5875);function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var showThankYouMessage=function showThankYouMessage(getConfig){try{(0,_utils__WEBPACK_IMPORTED_MODULE_0__.c)("Showing thank you message"),eval(getConfig("abe.thankYouMessage.js","DM.later('bundle', function(){window.top.DM.molFeAdblockerDialog.thanks()})"))}catch(e){console.error(e)}};function init(e){var t,r,n=e.broker,o=e.getConfig,i=JSON.parse(localStorage.getItem("mol.abe.data")||"{}");i.i&&((0,_utils__WEBPACK_IMPORTED_MODULE_0__.c)("ABE ran at last once, waiting for to ad blocker detection"),e=new Promise(function(t){n.once("ad block detection result",function(e){e=e.adblocker;(0,_utils__WEBPACK_IMPORTED_MODULE_0__.c)(e?"Ad blocker detected":"No ad blocker detected"),e||i.c&&!(i.c<i.l)||(i.c=(new Date).toISOString(),i.n=!0,(0,_utils__WEBPACK_IMPORTED_MODULE_0__.c)("First page load with no ad blocker, saving:",i),localStorage.setItem("mol.abe.data",JSON.stringify(i)),showThankYouMessage(o)),n.emit("ex ad blocker user",e,!!i.c),i.c?t({exabd:!e}):t({})})}),t={},void 0!==i.c&&(t.exabd=i.c>i.l),e.then(function(e){return t=e}),n.once("old ad block detection result",function(e){e=e.adblocker;(0,_utils__WEBPACK_IMPORTED_MODULE_0__.c)(e?"Ad blocker detected":"No ad blocker detected"),t.primaryAbd=e}),n.emit("set page level targeting",(r=function(e){return _defineProperty({},i.n?"exabd2":"exabd",!!e)})(t.exabd)),n.emit("set page level targeting",e.then(function(e){e=e.exabd;return r(e)})),n.register("call for page analytics",function(){return t}))}},8526:function(e,t,b){"use strict";b.d(t,{j:function(){return r}});var a=function(e){for(var t=e.length-1;0<t;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e},s="id"+Math.floor(Math.abs(Math.random()*Number.MAX_SAFE_INTEGER));function r(e){var u=e.callback,t=e.log,d=void 0===t?function(){}:t,t=e.loopDelay,l=void 0===t?50:t,t=e.maxLoop,f=void 0===t?5:t,t=e.useAnimationFrame,r=void 0===t||t,t=e.checkZeroProps,p=void 0!==t&&t,t=e.checkNullProps,g=void 0!==t&&t,n=e.baitStyle,o=e.baitClass;d("starting");var n=a(n.split(";")).filter(function(e){return e}).join(";"),o=a(o.split(" ")).filter(function(e){return e}).join(" "),e="offset",m={nullProps:[e+"Parent"]};m.zeroProps=[e+"Height",e+"Left",e+"Top",e+"Width",e+"Height","clientHeight","clientWidth"];var y=function(){return document.getElementById(s)};function i(e){var t,r,n=y(),o=!1;if(null!==document.body.getAttribute("abp")&&(d("found adblock body attribute"),o=!0,t="abp attribute"),g)for(var i=0;i<m.nullProps.length;i++){var a=m.nullProps[i];if(null===n[a]){f-1<e&&(o=!0,t="null prop: "+a),d("found adblock null attr: "+a);break}if(!0===o)break}if(p)for(var s=0;s<m.zeroProps.length&&!0!==o;s++){var c=m.zeroProps[s];0===n[c]&&(f-1<e&&(o=!0,t="zero prop: "+c),d("found adblock zero attr: "+c))}void 0!==b.g.getComputedStyle&&("none"!==(r=b.g.getComputedStyle(n,null)).getPropertyValue("display")&&"hidden"!==r.getPropertyValue("visibility")||(f-1<e&&(o=!0,t="display: none"),d("found adblock computedStyle indicator"))),o||e++>=f?(d("exiting test loop - value: "+o,"because of:",t),function(){var e=y();if(null===e)return;"function"==typeof e.remove&&v(function(){return e.remove()}),v(function(){return document.body.removeChild(e)})}(),u(o,t)):h(l,e)}var h=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return setTimeout(function(){function e(){return i(t)}r?requestAnimationFrame(e):e()},e)},v=function(e){try{return e()}catch(e){}};!function(){var e=function(e){var t=document.createElement("div");if(e)for(var r in e)e.hasOwnProperty(r)&&t.setAttribute(r,e[r]);return t}({class:o,style:n,id:s});d("adding bait node to DOM"),document.body.appendChild(e);for(var t=0;t<m.nullProps.length;t++)e[m.nullProps[t]];for(var r=0;r<m.zeroProps.length;r++)e[m.zeroProps[r]]}(),h(5)}},5875:function(e,t,r){"use strict";r.d(t,{c:function(){return n}});var n=(0,r(6415).x)("abe")},8397:function(e,t,i){"use strict";i.r(t),i.d(t,{appendStyles:function(){return j},collapseAd:function(){return C},default:function(){return U},disableSlot:function(){return A},enableSlot:function(){return k},getAdContainer:function(){return R},getElementById:function(){return T},getElementContainerById:function(){return E},getElementOrIframeById:function(){return S},isEmpty:function(){return I},log:function(){return P},nativeLoaded:function(){return x},openAd:function(){return D}});var f,o=i(3077),n=i(3477),t=i(633),a=i(2575),p=i(7854),s=i(8397);t.ZP.broker("NativeRenderer").on("system ready",function(){var t,e=window.location.href.match(/[&?]enable_native=([^&]+)/),r=e&&e[1];r&&(t=n.initSlots,n.initSlots=function(e){e[r]={enabled:!0,state:"on"},t.apply(n,arguments)}),f=r,a(function(e){e.isEmpty||"native_"===(e=(e=e.slot)&&e.molAd).pos.slice(0,7)&&"_dfp"===e.pos.slice(-4)&&c(e)})});var g="\f\t",m=g.length;function c(e){var t=document.getElementById(e.parentId),r=s.getAdContainer(t),n=!1;function o(){if(!n){n=!0;try{!function(e,t,r){var n=document.createElement("div");n.innerHTML=r;var o=n.childNodes;if("none"!==t.style.display){t.style.display="none";for(var i,a=t,s=t.parentNode,n=e.pos.replace(/_dfp$/,""),c=o.length;c--;)1===(i=o[c]).nodeType&&"SCRIPT"!==i.nodeName&&(s.insertBefore(i,t),a=i);var u=a,d=a;switch(e.pos){case"native_puff_dfp":s.parentNode.insertBefore(a,s),s.style.display="none",a.className=e.parentId,d=(u=a).getElementsByTagName("a")[0],u.setAttribute("data-track-module","ap-nativead_puff_article^nativead");break;case"native_related_dfp":var l="iphone"===PageCriteria.device||"androidMobile"===PageCriteria.device?"am-read_more_sponsored^read_more-mobile":"am-related_sponsored^related_carousel",d=a.getElementsByTagName("a")[0];(u=a).setAttribute("data-track-module",l);break;case"native_fff_overlay_accessorise":s.style.display="none";case"native_fff_accessorise":document.body.classList.add("fff-has-accessorise")}d&&u.hasAttribute("data-track-module")&&DM&&DM.externalLinkTracker&&(d.setAttribute("data-track-type","cl"),DM.externalLinkTracker(u.id,"cl")),f&&window.opener&&window.opener!==window&&window.opener.postMessage&&(window.addEventListener("message",function(e,t,r){if(r.data.slice(0,m)===g){var n,o="data-native-ad-field";try{n=p.parse(r.data.slice(m))}catch(e){console.error("Invalid message",e)}if(n&&n.type){var i,a=[].slice.call(e.querySelectorAll("[data-native-ad-field]"));switch(n.type){case"getValues":i=a.map(function(e){return{name:e.getAttribute(o),value:e.textContent}});break;case"setValues":a.forEach(function(e){var t=e.getAttribute(o);t in n.values&&(e.textContent=n.values[t])})}i&&y(r.source,n.type,i,t,r.origin)}}}.bind(null,a,n)),y(window.opener,"isLoaded",!0,n))}}(e,t,r.body.innerHTML)}catch(e){console.error("Error moving native article: ",e)}}}r.body&&((r.defaultView||r.parentWindow).addEventListener("load",o),setTimeout(o,2e3))}function y(e,t,r,n,o){e.postMessage(g+p.stringify({type:"response",query:t,position:n,value:r}),o||"*")}a(function(e){e.isEmpty||"native_"===(e=(e=e.slot)&&e.molAd).pos.slice(0,7)&&"_dfp"===e.pos.slice(-4)&&c(e)});var u=i(6540),t=i(6415);function d(e){return this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e]}var l=(function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,[{key:"clone",value:function(){return{emit:this.emit.bind(this),off:this.off.bind(this),on:this.on.bind(this),once:this.once.bind(this)}}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];d.call(this,e).slice().forEach(function(e){return e.apply(void 0,r)})}},{key:"off",value:function(e,t){e=d.call(this,e);t?-1!==(t=e.indexOf(t))&&e.splice(t,1):e.length=0}},{key:"on",value:function(e,t){d.call(this,e).push(t)}},{key:"once",value:function(t,r){var n=this;this.on(t,function e(){n.off(t,e),r.apply(void 0,arguments)})}}]),r);function r(){!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this.subscriptions={}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(t){return function(e){e=e&&w(e);return e&&e.getElementById(t)}}function b(e){return e=(e||document).getElementsByTagName("iframe"),Array.prototype.filter.call(e,_)}var w=function(e,t){var r;try{r=e.contentDocument||e.contentWindow.document}catch(e){}return r||t},S=function(e){var t=v(e);return O(b(),function(e){return t(e)&&e})},_=function(e){return e.id&&"google_ads_iframe_"===e.id.slice(0,18)},O=function(e,t){for(var r=0,n=e.length;r<n;r++)if(t(e[r]))return e[r]},I=function(e){var t=document.getElementById(e),r=["a","iframe","object","img","video"],n=!0;if(t)for(var o=r.length;n&&o--;)n=!t.getElementsByTagName(r[o]).length;return n},E=function(e){var e=S(e),t=/\badHolder\b/;if(e){for(var r=e;r&&!t.test(r.className||"");)r=r.parentNode;return r=r||e}},A=function(e){var t="molads_"+e,r=document.documentElement;r.classList.remove(t+"_on"),r.classList.add(t+"_off");t=window.DM;"billboard"===e&&t&&t.Rotator&&t.Rotator.initMiniCarousel()},k=function(e){var t="molads_"+e,e=document.documentElement;e.classList.remove(t+"_off"),e.classList.add(t+"_on")},x=function(t,e,r){var n=O(b(),function(e){return e.contentWindow.name===t.name});n&&(!(n=(0,u.closest)(n,function(e){return e.hasAttribute(o.AD_ATTRIBUTE)}))||(n=o.parse(n.getAttribute(o.AD_ATTRIBUTE)||"{}"))&&c(n))},P=(0,t.x)("ad-integrator"),j=function(e){for(var t=e.match(/<style[^>]*\sclass="?integrate"?[^>]*>[^\f]*?<\/style>/gi),r=0,n=t?t.length:0;r<n;r++)(0,u.appendStyle)(t[r].slice(t[r].indexOf(">")+1,-8))},T=function(e){for(var t=null,r=b(),n=v(e),o=0;!t&&o<r.length;o++)t=n(r[o]);return t},C=function(e){var t,r=E(e);r?(P("collapsing",e),(t=o.parse(r.getAttribute(o.AD_ATTRIBUTE)||"{}"))&&t.pos?A(t.pos):r.style.display="none"):P.warn("collapseAd: id",e,"is unknown")},R=function(e){var t=b(e)[0];return t?w(t,document):e},D=function(e){var t=E(e),e=o.parse(t.getAttribute(o.AD_ATTRIBUTE)||"{}");e&&e.pos?k(e.pos):(t.style.height="auto",t.style.display="block")},U=function(e){var r=e.broker;e.getConfig,i.g.addEventListener("message",function(e){var t=e.data;if("object"===h(t)&&"string"==typeof t.func)switch(t.func){case"molads.addSkinToPage":return r.emit("add skin to page",t);case"molads.addSkinLabel":return r.emit("add skin label to page");case"molads.disableSticky":return r.emit("disable sticky position",t.pos);case"molads.disableForceView":return r.emit("disable force view when viewed",t.pos)}});var n=new l,o=[];i.g.adverts.getRendered=function(){return o},i.g.adverts.on=n.on.bind(n),i.g.adverts.collapseAd=C,r.on("ad rendered",function(e,t){t.isEmpty||(o.push(t.slot.molAd),n.emit("rendered",t),n.emit("rendered."+e,t))}),r.on("destroy slot",function(t){o=o.filter(function(e){return e.pos!==t})})}},5459:function(e,t,r){"use strict";function a(){return window.pbjs}r.r(t),r.d(t,{default:function(){return bs}}),window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs");var I=r(4753),n=r(8510),y=r.n(n),h=r(8098),p=r(6482),E=r(4609),l=r(6117),A=r(3485);function s(e){var t,r={type:"xml",value:e.vastXml||(t=e.vastUrl,r=(r=e.vastImpUrl)?"<![CDATA[".concat(r,"]]>"):"",'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")),ttlseconds:Number(e.ttl)};return A.vc.getConfig("cache.vasttrack")&&(r.bidder=e.bidder,r.bidid=e.requestId,I.isPlainObject(this)&&this.hasOwnProperty("auctionStart")&&(r.timestamp=this.auctionStart)),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(r.key=e.customCacheKey),r}var c=r(361),t=r(2332),k=r.n(t);function x(e){var t=this,r=e.url,n=e.config,o=e.id,i=e.callback,a=e.loaded,s=e.adUnitCode;this.url=r,this.config=n,this.handlers={},this.id=o,this.loaded=a,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):I.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=i||function(){t.loaded=!0,t.process()},this.render=function(){var t,e;t=s,e=pbjs.adUnits,!((e=k()(e,function(e){return e.code===t}))&&e.renderer&&e.renderer.url&&e.renderer.render)||I.isBoolean(e.renderer.backupOnly)&&e.renderer.backupOnly?(0,c.B)(r,"outstream",this.callback):I.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(s)),this._render?this._render.apply(this,arguments):I.logWarn("No render function was provided, please use .setRender on the renderer")}.bind(this)}function v(e){return e&&e.url}function b(e,t){e.render(t)}x.install=function(e){return new x({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},x.prototype.getConfig=function(){return this.config},x.prototype.setRender=function(e){this._render=e},x.prototype.setEventHandlers=function(e){this.handlers=e},x.prototype.handleVideoEvent=function(e){var t=e.id,e=e.eventName;"function"==typeof this.handlers[e]&&this.handlers[e](),I.logMessage("Prebid Renderer event for id ".concat(t," type ").concat(e))},x.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){I.logError("Error processing Renderer command: ",e)}};var n=r(112),u=r(5244),P=r(2202),w=r(4783);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=n.k_.syncUsers,R=r(4753),D=r(7785).ZP,U=r(8510),M=r(6482),B="completed";U.on(M.EVENTS.BID_ADJUSTMENT,function(e){!function(e){var t,r=e.bidderCode,n=e.cpm;if(pbjs.bidderSettings&&(r&&pbjs.bidderSettings[r]&&"function"==typeof pbjs.bidderSettings[r].bidCpmAdjustment?t=pbjs.bidderSettings[r].bidCpmAdjustment:pbjs.bidderSettings[M.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[M.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(t=pbjs.bidderSettings[M.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),t))try{n=t(e.cpm,T({},e))}catch(e){R.logError("Error during bid adjustment","bidmanager.js",e)}0<=n&&(e.cpm=n)}(e)});var N={},L={},q=[],z=(0,u.z3)("async",function(e,t){this.dispatch.call(this.bidderRequest,e,t)},"addBidResponse"),V=(0,u.z3)("sync",function(e){this.dispatch.call(this.context,e)},"addBidderRequests"),F=(0,u.z3)("async",function(e,t){t&&t()},"bidsBackCallback");function d(e,t){t.timeToRespond>e.getTimeout()+A.vc.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function W(e,t){var r,n,o=e.getBidRequests(),o=k()(o,function(e){return e.bidderCode===t.bidderCode});o=o,(r=t).bidderCode&&(0<r.cpm||r.dealId)&&(n=k()(o.bids,function(e){return e.adUnitCode===r.adUnitCode}),n=function(e,t,r){if(!t)return{};var n={},o=pbjs.bidderSettings;return o&&(g(n,i(t.mediaType,e,r),t),e&&o[e]&&o[e][M.JSON_MAPPING.ADSERVER_TARGETING]&&(g(n,o[e],t),t.sendStandardTargeting=o[e].sendStandardTargeting)),n=t.native?T({},n,(0,h.Ur)(t,r)):n}(r.bidderCode,r,n)),r.adserverTargeting=T(r.adserverTargeting||{},n),U.emit(M.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),d(e,t)}var G=(0,u.z3)("async",function(r,n,o,e){var i;e={puts:[n].map(s,e)},(0,l.h)(A.vc.getConfig("cache.url"),(i=function(e,t){e?(R.logWarn("Failed to save to the video cache: ".concat(e,". Video bid must be discarded.")),d(r,n)):""===t[0].uuid?(R.logWarn("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),d(r,n)):(n.videoCacheKey=t[0].uuid,n.vastUrl||(n.vastUrl=function(e){return"".concat(A.vc.getConfig("cache.url"),"?uuid=").concat(e)}(n.videoCacheKey)),W(r,n),o())},{success:function(e){var t;try{t=JSON.parse(e).responses}catch(e){return void i(e,[])}t?i(null,t):i(new Error("The cache server didn't respond with a responses property."),[])},error:function(e,t){i(new Error("Error storing video ad in the cache: ".concat(e,": ").concat(JSON.stringify(t))),[])}}),JSON.stringify(e),{contentType:"text/plain",withCredentials:!0})},"callPrebidCache");function H(e,t,r){if(e&&r){if(e===w.pX){t=(0,I.deepAccess)(t,"mediaTypes.".concat(w.pX,".context"),"instream");if(r["".concat(w.pX,"-").concat(t)])return r["".concat(w.pX,"-").concat(t)]}return r[e]}}var f=function(t){return function(e){return t===M.GRANULARITY_OPTIONS.AUTO?e.pbAg:t===M.GRANULARITY_OPTIONS.DENSE?e.pbDg:t===M.GRANULARITY_OPTIONS.LOW?e.pbLg:t===M.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:t===M.GRANULARITY_OPTIONS.HIGH?e.pbHg:t===M.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0}};function i(e,t,r){function n(e,t){return{key:e,val:"function"==typeof t?function(e){return t(e)}:function(e){return(0,I.getValue)(e,t)}}}var o,i,a,s=M.TARGETING_KEYS,o=(r=H(o=e,r,A.vc.getConfig("mediaTypePriceGranularity")),"string"==typeof o&&r?"string"==typeof r?r:"custom":A.vc.getConfig("priceGranularity")),r=pbjs.bidderSettings;return r[M.JSON_MAPPING.BD_SETTING_STANDARD]||(r[M.JSON_MAPPING.BD_SETTING_STANDARD]={}),r[M.JSON_MAPPING.BD_SETTING_STANDARD][M.JSON_MAPPING.ADSERVER_TARGETING]||(r[M.JSON_MAPPING.BD_SETTING_STANDARD][M.JSON_MAPPING.ADSERVER_TARGETING]=[n(s.BIDDER,"bidderCode"),n(s.AD_ID,"adId"),n(s.PRICE_BUCKET,f(o)),n(s.SIZE,"size"),n(s.DEAL,"dealId"),n(s.SOURCE,"source"),n(s.FORMAT,"mediaType")]),"video"===e&&(i=r[M.JSON_MAPPING.BD_SETTING_STANDARD][M.JSON_MAPPING.ADSERVER_TARGETING],[s.UUID,s.CACHE_ID].forEach(function(t){void 0===k()(i,function(e){return e.key===t})&&i.push(n(t,"videoCacheKey"))}),!A.vc.getConfig("cache.url")||t&&!1===R.deepAccess(r,"".concat(t,".sendStandardTargeting"))||(a=(0,I.parseUrl)(A.vc.getConfig("cache.url")),void 0===k()(i,function(e){return e.key===s.CACHE_HOST})&&i.push(n(s.CACHE_HOST,function(e){return R.deepAccess(e,"adserverTargeting.".concat(s.CACHE_HOST))?e.adserverTargeting[s.CACHE_HOST]:a.hostname})))),r[M.JSON_MAPPING.BD_SETTING_STANDARD]}function g(r,n,o){var e=n[M.JSON_MAPPING.ADSERVER_TARGETING];return o.size=o.getSize(),R._each(e,function(e){var t=e.key,e=e.val;if(r[t]&&R.logWarn("The key: "+t+" is getting ovewritten"),R.isFn(e))try{e=e(o)}catch(e){R.logError("bidmanager","ERROR",e)}(void 0===n.suppressEmptyKeys||!0!==n.suppressEmptyKeys)&&t!==M.TARGETING_KEYS.DEAL||!R.isEmptyStr(e)&&null!=e?r[t]=e:R.logInfo("suppressing empty key '"+t+"' from adserver targeting")}),r}function K(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}var $,o,m=r(6482),S=($=[],(o={addWinningBid:function(t){var e=k()($,function(e){return e.getAuctionId()===t.auctionId});e?(t.status=m.BID_STATUS.RENDERED,e.addWinningBid(t)):(0,I.logWarn)("Auction not found when adding winning bid")},getAllWinningBids:function(){return $.map(function(e){return e.getWinningBids()}).reduce(I.flatten,[])},getBidsRequested:function(){return $.map(function(e){return e.getBidRequests()}).reduce(I.flatten,[])},getNoBids:function(){return $.map(function(e){return e.getNoBids()}).reduce(I.flatten,[])},getBidsReceived:function(){return $.map(function(e){if(e.getAuctionStatus()===B)return e.getBidsReceived()}).reduce(I.flatten,[]).filter(function(e){return e})},getAllBidsForAdUnitCode:function(t){return $.map(function(e){return e.getBidsReceived()}).reduce(I.flatten,[]).filter(function(e){return e&&e.adUnitCode===t})},getAdUnits:function(){return $.map(function(e){return e.getAdUnits()}).reduce(I.flatten,[])},getAdUnitCodes:function(){return $.map(function(e){return e.getAdUnitCodes()}).reduce(I.flatten,[]).filter(I.uniques)}}).createAuction=function(e){var t,r,o,g,m,i,n,y,a,s,c,u,d,l,f,h,p,v,e=(t={adUnits:e.adUnits,adUnitCodes:e.adUnitCodes,callback:e.callback,cbTimeout:e.cbTimeout,labels:e.labels,auctionId:e.auctionId},n=t.callback,e=t.cbTimeout,y=i=t.adUnits,a=t.labels,s=t.adUnitCodes,c=[],u=[],d=[],l=t.auctionId||R.generateUUID(),f=n,h=e,p=[],v=new Set,{addBidReceived:function(e){u=u.concat(e)},addNoBid:function(e){d=d.concat(e)},executeCallback:w,callBids:function(){g="started",r=Date.now();var e=D.makeBidRequests(y,r,l,h,a);R.logInfo("Bids Requested for Auction with id: ".concat(l),e),e.length<1?(R.logWarn("No valid bid requests returned for auction"),S()):V.call({dispatch:O,context:this},e)},addWinningBid:function(e){p=p.concat(e),D.callBidWonBidder(e.bidder,e,i)},setBidTargeting:function(e){D.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return p},getTimeout:function(){return h},getAuctionId:function(){return l},getAuctionStatus:function(){return g},getAdUnits:function(){return y},getAdUnitCodes:function(){return s},getBidRequests:function(){return c},getBidsReceived:function(){return u},getNoBids:function(){return d}});function b(){return{auctionId:l,timestamp:r,auctionEnd:o,auctionStatus:g,adUnits:y,adUnitCodes:s,labels:a,bidderRequests:c,noBids:d,bidsReceived:u,winningBids:p,timeout:h}}function w(r,e){var n,t;e&&clearTimeout(m),void 0===o&&(n=[],r&&(R.logMessage("Auction ".concat(l," timedOut")),t=v,(n=c.map(function(e){return(e.bids||[]).filter(function(e){return!t.has(e.bidder)})}).reduce(I.flatten,[]).map(function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}})).length&&U.emit(M.EVENTS.BID_TIMEOUT,n)),g=B,o=Date.now(),U.emit(M.EVENTS.AUCTION_END,b()),F(y,function(){try{var e;null!=f&&(e=s,t=u.filter(R.bind.call(I.adUnitsFilter,this,e)).reduce(K,{}),f.apply(pbjs,[t,r,l]),f=null)}catch(e){R.logError("Error executing bidsBackHandler",null,e)}finally{n.length&&D.callTimedOutBidders(i,n,h);var t=A.vc.getConfig("userSync")||{};t.enableOverride||C(t.syncDelay)}}))}function S(){R.logInfo("Bids Received for Auction with id: ".concat(l),u),w(!(g=B),!0)}function _(e){v.add(e)}function O(i){var a=this;i.forEach(function(e){c=c.concat(e)});var l={},e={bidRequests:i,run:function(){var e=w.bind(null,!0),e=setTimeout(e,h);m=e,g="inProgress",U.emit(M.EVENTS.AUCTION_INIT,b());var t,s,c,r,n,u,o=(t=S,s=a,c=0,r=!1,n=new Set,u={},{addBidResponse:function(e,t){u[t.requestId]=!0,c++;var r,n,o,i,a=function(e){var t=e.adUnitCode,r=e.bid,n=e.bidderRequest,o=n.start,e=T({},r,{auctionId:e.auctionId,responseTimestamp:(0,I.timestamp)(),requestTimestamp:o,cpm:parseFloat(r.cpm)||0,bidder:r.bidderCode,adUnitCode:t});e.timeToRespond=e.responseTimestamp-e.requestTimestamp,U.emit(M.EVENTS.BID_ADJUSTMENT,e);o=n.bids&&k()(n.bids,function(e){return e.adUnitCode==t}),n=o&&o.renderer;!n||!n.url||n.backupOnly&&(0,I.isBoolean)(n.backupOnly)&&r.renderer||(e.renderer=x.install({url:n.url}),e.renderer.setRender(n.render));o=H(r.mediaType,o,A.vc.getConfig("mediaTypePriceGranularity")),o=(0,E.D)(e.cpm,"object"===j(o)?o:A.vc.getConfig("customPriceBucket"),A.vc.getConfig("currency.granularityMultiplier"));return e.pbLg=o.low,e.pbMg=o.med,e.pbHg=o.high,e.pbAg=o.auto,e.pbDg=o.dense,e.pbCg=o.custom,e}({adUnitCode:e,bid:t,bidderRequest:this,auctionId:s.getAuctionId()});"video"===a.mediaType?(r=s,n=a,o=this,i=d,e=!0,t=(0,I.getBidRequest)(n.requestId,[o]),o=(o=t&&(0,I.deepAccess)(t,"mediaTypes.video"))&&(0,I.deepAccess)(o,"context"),A.vc.getConfig("cache.url")&&o!==P.gZ&&(n.videoCacheKey?n.vastUrl||(R.logError("videoCacheKey specified but not required vastUrl for video bid"),e=!1):(e=!1,G(r,n,i,t))),e&&(W(r,n),i())):(W(s,a),d())},adapterDone:function(){n.add(this),r=s.getBidRequests().every(function(e){return n.has(e)}),this.bids.forEach(function(e){u[e.bidId]||(s.addNoBid(e),U.emit(M.EVENTS.NO_BID,e))}),r&&0===c&&t()}});function d(){c--,r&&0===c&&t()}D.callBids(y,i,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];z.apply({dispatch:o.addBidResponse,bidderRequest:this},t)},o.adapterDone,{request:function(e,t){p(N,t),p(l,e),L[e]||(L[e]={SRA:!0,origin:t}),1<l[e]&&(L[e].SRA=!1)},done:function(e){N[e]--,q[0]&&f(q[0])&&q.shift()}},h,_)}};function f(e){var n=!0,o=A.vc.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some(function(e){var t=1,r=void 0!==e.src&&e.src===M.S2S.SRC?"s2s":e.bidderCode;return L[r]&&(!1===L[r].SRA&&(t=Math.min(e.bids.length,o)),N[L[r].origin]+t>o&&(n=!1)),!n}),n&&e.run(),n}function p(e,t){void 0===e[t]?e[t]=1:e[t]++}f(e)||(R.logWarn("queueing auction due to limited endpoint capacity"),q.push(e))}return $.push(e),e},o.findBidByAdId=function(t){return k()($.map(function(e){return e.getBidsReceived()}).reduce(I.flatten,[]),function(e){return e.adId===t})},o.getStandardBidderAdServerTargeting=function(){return i()[m.JSON_MAPPING.ADSERVER_TARGETING]},o.setStatusForBids=function(e,t){var r,n=o.findBidByAdId(e);n&&(n.status=t),n&&t===m.BID_STATUS.BID_TARGETING_SET&&(r=k()($,function(e){return e.getAuctionId()===n.auctionId}))&&r.setBidTargeting(n)},o.getLastAuctionId=function(){return $.length&&$[$.length-1].getAuctionId()},o),t=r(1608),_=r.n(t),O=p.EVENTS.BID_WON;function Y(e){var t,r,n,o,i,a,s,c,u,d,l,f,p,g=e.message?"message":"data",m={};try{m=JSON.parse(e[g])}catch(e){return}m&&m.adId&&((t=k()(S.getBidsReceived(),function(e){return e.adId===m.adId}))&&"Prebid Request"===m.message&&(n=e,c=(r=t).adId,u=r.ad,d=r.adUrl,l=r.width,f=r.height,p=r.renderer,g=r.cpm,v(p)?b(p,r):c&&(o=r.adId,i=r.adUnitCode,a=r.width,s=r.height,["div","iframe"].forEach(function(e){var r,t,n,n=(n=e+':not([style*="display: none"])',t=i,t=window.googletag?(r=o,k()(window.googletag.pubads().getSlots(),function(t){return k()(t.getTargetingKeys(),function(e){return _()(t.getTargeting(e),r)})}).getSlotElementId()):window.apntag?(e=window.apntag.getTag(t))&&e.targetId:t,(t=document.getElementById(t))&&t.querySelector(n));n?((n=n.style).width=a+"px",n.height=s+"px"):(0,I.logWarn)("Unable to locate matching page element for adUnitCode ".concat(i,".  Can't resize it to ad's dimensions.  Please review setup."))}),n.source.postMessage(JSON.stringify({message:"Prebid Response",ad:(0,I.replaceAuctionPrice)(u,g),adUrl:(0,I.replaceAuctionPrice)(d,g),adId:c,width:l,height:f}),n.origin)),S.addWinningBid(t),y().emit(O,t)),t&&"Prebid Native"===m.message&&("assetRequest"!==m.action?"click"!==(0,h.e6)(m,t)&&(S.addWinningBid(t),y().emit(O,t)):(t=(0,h.eK)(m,t),e.source.postMessage(JSON.stringify(t),e.origin))))}var J=r(7447);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return ee(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ee(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function te(e){return e.responseTimestamp+1e3*e.ttl+1e3>(0,I.timestamp)()}function re(e){return e&&(e.status&&!_()([oe.BID_STATUS.RENDERED],e.status)||!e.status)}var ne=r(4753),oe=r(6482),ie=[],ae=Object.keys(oe.TARGETING_KEYS).map(function(e){return oe.TARGETING_KEYS[e]});function se(e,n,t){var o=2<arguments.length&&void 0!==t?t:0,i=[],a=A.vc.getConfig("sendBidsControl.dealPrioritization"),s=(0,I.groupBy)(e,"adUnitCode");return Object.keys(s).forEach(function(e){var t=[],r=(0,I.groupBy)(s[e],"bidderCode");Object.keys(r).forEach(function(e){return t.push(r[e].reduce(n))}),0<o?(t=a?t.sort(ce(!0)):t.sort(function(e,t){return t.cpm-e.cpm}),i.push.apply(i,Q(t.slice(0,o)))):i.push.apply(i,Q(t))}),i}function ce(e){var r=0<arguments.length&&void 0!==e&&e;return function(e,t){return void 0!==e.adserverTargeting.hb_deal&&void 0===t.adserverTargeting.hb_deal?-1:void 0===e.adserverTargeting.hb_deal&&void 0!==t.adserverTargeting.hb_deal?1:r?t.cpm-e.cpm:t.adserverTargeting.hb_pb-e.adserverTargeting.hb_pb}}var ue,de,le,fe,pe,ge=(le=S,pe={},(fe={}).setLatestAuctionForAdUnit=function(e,t){pe[e]=t},fe.resetPresetTargeting=function(e,t){var r,o;(0,I.isGptPubadsDefined)()&&(r=he(e),o=le.getAdUnits().filter(function(e){return _()(r,e.code)}),window.googletag.pubads().getSlots().forEach(function(r){var n=ne.isFn(t)&&t(r);ie.forEach(function(t){o.forEach(function(e){(e.code===r.getAdUnitPath()||e.code===r.getSlotElementId()||ne.isFn(n)&&n(e.code))&&r.setTargeting(t,null)})})}))},fe.resetPresetTargetingAST=function(e){he(e).forEach(function(e){var t,r,n=window.apntag.getTag(e);n&&n.keywords&&(t=Object.keys(n.keywords),r={},t.forEach(function(e){_()(ie,e.toLowerCase())||(r[e]=n.keywords[e])}),window.apntag.modifyTag(e,{keywords:r}))})},fe.getAllTargeting=function(e){var r,n,t,o,i,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ve(),s=he(e);(l=(o=s,e=a,e=fe.getWinningBids(o,e),i=be(),e.map(function(o){return Z({},o.adUnitCode,Object.keys(o.adserverTargeting).filter(function(e){return void 0===o.sendStandardTargeting||o.sendStandardTargeting||-1===i.indexOf(e)}).reduce(function(e,t){var r=[o.adserverTargeting[t]],n=Z({},t.substring(0,20),r);if(t!==oe.TARGETING_KEYS.DEAL)return[].concat(Q(e),[n]);r=Z({},"".concat(t,"_").concat(o.bidderCode).substring(0,20),r);return[].concat(Q(e),[n,r])},[]))}).concat((t=s,a.filter(function(e){return _()(t,e.adUnitCode)}).map(function(e){return X({},e)}).reduce(we,[]).map(_e).filter(function(e){return e}))).concat(A.vc.getConfig("enableSendAllBids")?(r=s,e=a,n=ae.concat(h.xc),c=A.vc.getConfig("sendBidsControl.bidLimit"),se(e,I.getHighestCpm,c).map(function(t){if(ye(t,r))return Z({},t.adUnitCode,Oe(t,n.filter(function(e){return void 0!==t.adserverTargeting[e]})))}).filter(function(e){return e})):function(e,t){if(!0!==A.vc.getConfig("targetingControls.alwaysIncludeDeals"))return[];var r=ae.concat(h.xc);return se(t,I.getHighestCpm).map(function(t){if(t.dealId&&ye(t,e))return Z({},t.adUnitCode,Oe(t,r.filter(function(e){return void 0!==t.adserverTargeting[e]})))}).filter(function(e){return e})}(s,a)).concat(Ie(s)))).map(function(t){Object.keys(t).map(function(e){t[e].map(function(e){-1===ie.indexOf(Object.keys(e)[0])&&(ie=Object.keys(e).concat(ie))})})});var c=A.vc.getConfig("targetingControls.allowTargetingKeys");Array.isArray(c)&&0<c.length&&(l=function(e,n){var o=X({},oe.TARGETING_KEYS,oe.NATIVE_KEYS),i=Object.keys(o),a={};(0,I.logInfo)("allowTargetingKeys - allowed keys [ ".concat(n.map(function(e){return o[e]}).join(", ")," ]")),e.map(function(e){var t=Object.keys(e)[0],r=e[t].filter(function(e){var t=Object.keys(e)[0],e=0===i.filter(function(e){return 0===t.indexOf(o[e])}).length||n.find(function(e){e=o[e];return 0===t.indexOf(e)});return a[t]=!e,e});e[t]=r});var t=Object.keys(a).filter(function(e){return a[e]});return(0,I.logInfo)("allowTargetingKeys - removed keys [ ".concat(t.join(", ")," ]")),e.filter(function(e){return 0<e[Object.keys(e)[0]].length})}(l,c));var u,d,l=l.map(function(e){return Z({},Object.keys(e)[0],e[Object.keys(e)[0]].map(function(e){return Z({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))}).reduce(function(e,t){return X(t,e)},{}))}).reduce(function(e,t){var r=Object.keys(t)[0];return e[r]=X({},e[r],t[r]),e},{}),a=A.vc.getConfig("targetingControls.auctionKeyMaxChars");return a&&((0,I.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(a," characters.  Running checks on auction keys...")),c=l,u=a,d=(0,I.deepClone)(c),l=Object.keys(d).map(function(e){return{adUnitCode:e,adserverTargeting:d[e]}}).sort(ce()).reduce(function(e,t,r,n){var o,i=(o=t.adserverTargeting,Object.keys(o).reduce(function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(o[t]),"%26")},""));r+1===n.length&&(i=i.slice(0,-3));t=t.adUnitCode,i=i.length;return i<=u?(u-=i,(0,I.logInfo)("AdUnit '".concat(t,"' auction keys comprised of ").concat(i," characters.  Deducted from running threshold; new limit is ").concat(u),d[t]),e[t]=d[t]):(0,I.logWarn)("The following keys for adUnitCode '".concat(t,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(i,", the current allotted amount was ").concat(u,".\n"),d[t]),r+1===n.length&&0===Object.keys(e).length&&(0,I.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e},{})),s.forEach(function(e){l[e]||(l[e]={})}),l},fe.setTargetingForGPT=function(o,e){window.googletag.pubads().getSlots().forEach(function(n){Object.keys(o).filter((e||I.isAdUnitCodeMatchingSlot)(n)).forEach(function(r){return Object.keys(o[r]).forEach(function(t){var e=o[r][t];(e=1<(e="string"==typeof e?e.split(","):e).length?[e]:e).map(function(e){return ne.logMessage("Attempting to set key value for slot: ".concat(n.getSlotElementId()," key: ").concat(t," value: ").concat(e)),e}).forEach(function(e){n.setTargeting(t,e)})})})})},fe.getWinningBids=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ve(),t=he(e);return r.filter(function(e){return _()(t,e.adUnitCode)}).filter(function(e){return 0<e.cpm}).map(function(e){return e.adUnitCode}).filter(I.uniques).map(function(t){return r.filter(function(e){return e.adUnitCode===t?e:null}).reduce(I.getHighestCpm)})},fe.setTargetingForAst=function(e){var n=fe.getAllTargeting(e);try{fe.resetPresetTargetingAST(e)}catch(e){ne.logError("unable to reset targeting for AST"+e)}Object.keys(n).forEach(function(r){return Object.keys(n[r]).forEach(function(e){var t;ne.logMessage("Attempting to set targeting for targetId: ".concat(r," key: ").concat(e," value: ").concat(n[r][e])),(ne.isStr(n[r][e])||ne.isArray(n[r][e]))&&(t={},e.search(/pt[0-9]/)<0?t[e.toUpperCase()]=n[r][e]:t[e]=n[r][e],window.apntag.setKeywords(r,t,{overrideKeyValue:!0}))})})},fe.isApntagDefined=function(){if(window.apntag&&ne.isFn(window.apntag.setKeywords))return!0},fe),me="pbjs:debugging";function ye(e,t){return e.adserverTargeting&&t&&(ne.isArray(t)&&_()(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function he(e){return"string"==typeof e?[e]:ne.isArray(e)?e:le.getAdUnitCodes()||[]}function ve(){var e=le.getBidsReceived();return se(e=(e=!A.vc.getConfig("useBidCache")?e.filter(function(e){return pe[e.adUnitCode]===e.auctionId}):e).filter(function(e){return(0,I.deepAccess)(e,"video.context")!==w.Oh}).filter(function(e){return"banner"!==e.mediaType||(0,J.lO)([e.width,e.height])}).filter(re).filter(te),I.getOldestHighestCpmBid)}function be(){return le.getStandardBidderAdServerTargeting().map(function(e){return e.key}).concat(ae).filter(I.uniques)}function we(n,o,e,t){return Object.keys(o.adserverTargeting).filter(Se()).forEach(function(e){var t,r;n.length&&n.filter((r=e,function(e){return e.adUnitCode===o.adUnitCode&&e.adserverTargeting[r]})).forEach((t=e,function(e){ne.isArray(e.adserverTargeting[t])||(e.adserverTargeting[t]=[e.adserverTargeting[t]]),e.adserverTargeting[t]=e.adserverTargeting[t].concat(o.adserverTargeting[t]).filter(I.uniques),delete o.adserverTargeting[t]}))}),n.push(o),n}function Se(){var t=be().concat(h.xc);return function(e){return-1===t.indexOf(e)}}function _e(t){return Z({},t.adUnitCode,Object.keys(t.adserverTargeting).filter(Se()).map(function(e){return Z({},e.substring(0,20),[t.adserverTargeting[e]])}))}function Oe(t,e){return e.map(function(e){return Z({},"".concat(e,"_").concat(t.bidderCode).substring(0,20),[t.adserverTargeting[e]])})}function Ie(t){function r(e){return(0,I.deepAccess)(e,oe.JSON_MAPPING.ADSERVER_TARGETING)}return le.getAdUnits().filter(function(e){return _()(t,e.code)&&r(e)}).map(function(e){return Z({},e.code,(t=r(e),Object.keys(t).map(function(e){return Z({},e,ne.isArray(t[e])?t[e]:t[e].split(","))})));var t})}function Ee(e){(0,I.logMessage)("DEBUG: "+e)}function Ae(e){(0,I.logWarn)("DEBUG: "+e)}function ke(e){ue=function(e,t,r){Te(this.bidders,r.bidderCode)?Ae("bidder '".concat(r.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(this.bids)&&this.bids.forEach(function(e){je(e,r.bidderCode,t)||Ce(e,r,"bidder")}),e(t,r))}.bind(e),z.before(ue,5),de=function(e,t){var n=this,t=t.filter(function(e){return!Te(n.bidders,e.bidderCode)||(Ae("bidRequest '".concat(e.bidderCode,"' excluded from auction by bidder overrides")),!1)});Array.isArray(n.bidRequests)&&t.forEach(function(r){n.bidRequests.forEach(function(t){r.bids.forEach(function(e){je(t,r.bidderCode,e.adUnitCode)||Ce(t,e,"bidRequest")})})}),e(t)}.bind(e),V.before(de,5)}function xe(){z.getHooks({hook:ue}).remove(),V.getHooks({hook:de}).remove()}function Pe(e,t){t=1<arguments.length&&void 0!==t&&t;A.vc.setConfig({debug:!0}),xe(),ke(e),Ee("bidder overrides enabled".concat(t?" from session":""))}function je(e,t,r){return e.bidder&&e.bidder!==t||e.adUnitCode&&e.adUnitCode!==r}function Te(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function Ce(r,e,n){return Object.keys(r).filter(function(e){return-1===["adUnitCode","bidder"].indexOf(e)}).reduce(function(e,t){return Ee("bidder overrides changed '".concat(e.adUnitCode,"/").concat(e.bidderCode,"' ").concat(n,".").concat(t," from '").concat(e[t],".js' to '").concat(r[t],"'")),e[t]=r[t],e},e)}A.vc.getConfig("debugging",function(e){return function(e){if(e.enabled){try{window.sessionStorage.setItem(me,JSON.stringify(e))}catch(e){}Pe(e)}else{xe(),Ee("bidder overrides disabled");try{window.sessionStorage.removeItem(me)}catch(e){}}}(e.debugging)});var Re=r(3069),De=r(6507),Ue=r(1723);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ne=a(),Le=r(6482),qe=r(4753),ze=r(7785).ZP,Ve=r(8510),t=n.k_.triggerUserSyncs,n=Le.EVENTS,Fe=n.ADD_AD_UNITS,We=n.BID_WON,Ge=n.REQUEST_BIDS,He=n.SET_TARGETING,Ke=n.AD_RENDER_FAILED,n=Le.AD_RENDER_FAILED_REASON,$e=n.PREVENT_WRITING_ON_MAIN_DOCUMENT,Ye=n.NO_AD,Je=n.EXCEPTION,Xe=n.CANNOT_FIND_AD,Ze=n.MISSING_DOC_OR_ADID,Qe={bidWon:function(e){var t=S.getBidsRequested().map(function(e){return e.bids.map(function(e){return e.adUnitCode})}).reduce(I.flatten).filter(I.uniques);if(qe.contains(t,e))return!0;qe.logError('The "'+e+'" placement is not defined.')}};function et(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function tt(e,t){var r=[];return qe.isArray(e)&&(t?e.length===t:0<e.length)&&(e.every(function(e){return(0,I.isArrayOfNums)(e,2)})?r=e:(0,I.isArrayOfNums)(e,2)&&r.push(e)),r}!function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(me))}catch(e){}t&&Pe(t,!0)}(),Ne.bidderSettings=Ne.bidderSettings||{},Ne.libLoaded=!0,Ne.version="v4.13.0-mol-1",qe.logInfo("Prebid.js v4.13.0-mol-1 loaded"),Ne.adUnits=Ne.adUnits||[],Ne.triggerUserSyncs=t;var rt=(0,u.z3)("sync",function(e){var u=[];return e.forEach(function(e){var t,r,n,o,i,a,s=e.mediaTypes,c=e.bids;c&&qe.isArray(c)?s&&0!==Object.keys(s).length?(s.banner&&(o=qe.deepClone(e),i=o.mediaTypes.banner,0<(a=tt(i.sizes)).length?(i.sizes=a,o.sizes=a):(qe.logError("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete o.mediaTypes.banner),t=o),s.video&&(n=qe.deepClone(t||e),(i=n.mediaTypes.video).playerSize&&(a="number"==typeof i.playerSize[0]?2:1,0<(o=tt(i.playerSize,a)).length?(2==a&&qe.logInfo("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),i.playerSize=o,n.sizes=o):(qe.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete n.mediaTypes.video.playerSize)),n=n),s.native&&(r=qe.deepClone(n||t||e),(s=r.mediaTypes.native).image&&s.image.sizes&&!Array.isArray(s.image.sizes)&&(qe.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete r.mediaTypes.native.image.sizes),s.image&&s.image.aspect_ratios&&!Array.isArray(s.image.aspect_ratios)&&(qe.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete r.mediaTypes.native.image.aspect_ratios),s.icon&&s.icon.sizes&&!Array.isArray(s.icon.sizes)&&(qe.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete r.mediaTypes.native.icon.sizes),r=r),r=Be({},t,n,r),u.push(r)):qe.logError("Detected adUnit.code '".concat(e.code,"' did not have a 'mediaTypes' object defined.  This is a required field for the auction, so this adUnit has been removed.")):qe.logError("Detected adUnit.code '".concat(e.code,"' did not have 'adUnit.bids' defined or 'adUnit.bids' is not an array. Removing adUnit from auction."))}),u},"checkAdUnitSetup");function nt(e){var r=S[e]().filter(qe.bind.call(I.adUnitsFilter,this,S.getAdUnitCodes())),n=S.getLastAuctionId();return r.map(function(e){return e.adUnitCode}).filter(I.uniques).map(function(t){return r.filter(function(e){return e.auctionId===n&&e.adUnitCode===t})}).filter(function(e){return e&&e[0]&&e[0].adUnitCode}).map(function(e){return r={bids:e},(t=e[0].adUnitCode)in(e={})?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var t,r}).reduce(function(e,t){return Be(e,t)},{})}function ot(e){var t=e.reason,r=e.message,n=e.bid,e=e.id,t={reason:t,message:r};n&&(t.bid=n),e&&(t.adId=e),qe.logError(r),Ve.emit(Ke,t)}Ne.getAdserverTargetingForAdUnitCodeStr=function(e){if(qe.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){e=Ne.getAdserverTargetingForAdUnitCode(e);return qe.transformAdServerTargetingObj(e)}qe.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},Ne.getHighestUnusedBidResponseForAdUnitCode=function(e){e=S.getAllBidsForAdUnitCode(e).filter(re).filter(te);return e.length?e.reduce(I.getHighestCpm):{}},Ne.getAdserverTargetingForAdUnitCode=function(e){return Ne.getAdserverTargeting(e)[e]},Ne.getAdserverTargeting=function(e){return qe.logInfo("Invoking pbjs.getAdserverTargeting",arguments),ge.getAllTargeting(e)},Ne.getNoBids=function(){return qe.logInfo("Invoking pbjs.getNoBids",arguments),nt("getNoBids")},Ne.getBidResponses=function(){return qe.logInfo("Invoking pbjs.getBidResponses",arguments),nt("getBidsReceived")},Ne.getBidResponsesForAdUnitCode=function(t){return{bids:S.getBidsReceived().filter(function(e){return e.adUnitCode===t})}},Ne.setTargetingForGPTAsync=function(e,t){var r;qe.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,I.isGptPubadsDefined)()?(r=ge.getAllTargeting(e),ge.resetPresetTargeting(e,t),ge.setTargetingForGPT(r,t),Object.keys(r).forEach(function(t){Object.keys(r[t]).forEach(function(e){"hb_adid"===e&&S.setStatusForBids(r[t][e],Le.BID_STATUS.BID_TARGETING_SET)})}),Ve.emit(He,r)):qe.logError("window.googletag is not defined on the page")},Ne.setTargetingForAst=function(e){qe.logInfo("Invoking pbjs.setTargetingForAn",arguments),ge.isApntagDefined()?(ge.setTargetingForAst(e),Ve.emit(He,ge.getAllTargeting())):qe.logError("window.apntag is not defined on the page")},Ne.renderAd=function(e,t,r){if(qe.logInfo("Invoking pbjs.renderAd",arguments),qe.logMessage("Calling renderAd with adId :"+t),e&&t)try{var n,o,i,a,s,c,u,d,l,f,p,g,m,y=S.findBidByAdId(t);y?(y.ad=qe.replaceAuctionPrice(y.ad,y.cpm),y.adUrl=qe.replaceAuctionPrice(y.adUrl,y.cpm),r&&r.clickThrough&&(n=r.clickThrough,y.ad=qe.replaceClickThrough(y.ad,n),y.adUrl=qe.replaceClickThrough(y.adUrl,n)),S.addWinningBid(y),Ve.emit(We,y),o=y.height,i=y.width,a=y.ad,s=y.mediaType,c=y.adUrl,u=y.renderer,d=document.createComment("Creative ".concat(y.creativeId," served by ").concat(y.bidder," Prebid.js Header Bidding")),qe.insertElement(d,e,"body"),v(u)?b(u,y):e===document&&!qe.inIframe()||"video"===s?(l="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document."),ot({reason:$e,message:l,bid:y,id:t})):a?(navigator.userAgent&&-1<navigator.userAgent.toLowerCase().indexOf("firefox/")&&((f=navigator.userAgent.toLowerCase().match(/firefox\/([\d\.]+)/)[1])&&parseInt(f,10)<67&&e.open("text/html","replace")),e.write(a),e.close(),et(e,i,o),qe.callBurl(y)):c?((p=qe.createInvisibleIframe()).height=o,p.width=i,p.style.display="inline",p.style.overflow="hidden",p.src=c,qe.insertElement(p,e,"body"),et(e,i,o),qe.callBurl(y)):(g="Error trying to write ad. No ad for bid response id: ".concat(t),ot({reason:Ye,message:g,bid:y,id:t}))):(m="Error trying to write ad. Cannot find ad by given id : ".concat(t),ot({reason:Xe,message:m,id:t}))}catch(e){var h="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);ot({reason:Je,message:h,id:t})}else{h="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");ot({reason:Ze,message:h,id:t})}},Ne.removeAdUnit=function(e){qe.logInfo("Invoking pbjs.removeAdUnit",arguments),e?(qe.isArray(e)?e:[e]).forEach(function(e){for(var t=Ne.adUnits.length-1;0<=t;t--)Ne.adUnits[t].code===e&&Ne.adUnits.splice(t,1)}):Ne.adUnits=[]},Ne.requestBids=(0,u.z3)("async",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,r=e.timeout,n=e.adUnits,o=e.adUnitCodes,i=e.labels,a=e.auctionId;Ve.emit(Ge);r=r||A.vc.getConfig("bidderTimeout"),n=n||Ne.adUnits;if(qe.logInfo("Invoking pbjs.requestBids",arguments),n=rt(n),o&&o.length?n=n.filter(function(e){return _()(o,e.code)}):o=n&&n.map(function(e){return e.code}),n.forEach(function(n){var o=Object.keys(n.mediaTypes||{banner:"banner"}),e=n.bids.map(function(e){return e.bidder}),i=ze.bidderRegistry,t=A.vc.getConfig("s2sConfig"),r=t&&t.bidders,e=r?e.filter(function(e){return!_()(r,e)}):e;n.transactionId=qe.generateUUID(),e.forEach(function(t){var e=i[t],e=e&&e.getSpec&&e.getSpec(),r=e&&e.supportedMediaTypes||["banner"];o.some(function(e){return _()(r,e)})?Re.f.incrementBidderRequestsCounter(n.code,t):(qe.logWarn(qe.unsupportedBidderMessage(n,t)),n.bids=n.bids.filter(function(e){return e.bidder!==t}))}),Re.f.incrementRequestsCounter(n.code)}),n&&0!==n.length){var s=S.createAuction({adUnits:n,adUnitCodes:o,callback:t,cbTimeout:r,labels:i,auctionId:a}),a=n.length;15<a&&qe.logInfo("Current auction ".concat(s.getAuctionId()," contains ").concat(a," adUnits."),n),o.forEach(function(e){return ge.setLatestAuctionForAdUnit(e,s.getAuctionId())}),s.callBids()}else if(qe.logMessage("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){qe.logError("Error executing bidsBackHandler",null,e)}}),Ne.requestBids.before(function(e,t){function r(e){for(var t;t=e.shift();)t()}r(Ue.Ld),r(it),e.call(this,t)},49),Ne.addAdUnits=function(e){qe.logInfo("Invoking pbjs.addAdUnits",arguments),qe.isArray(e)?Ne.adUnits.push.apply(Ne.adUnits,e):"object"===Me(e)&&Ne.adUnits.push(e),Ve.emit(Fe)},Ne.onEvent=function(e,t,r){qe.logInfo("Invoking pbjs.onEvent",arguments),qe.isFn(t)?!r||Qe[e].call(null,r)?Ve.on(e,t,r):qe.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):qe.logError('The event handler provided is not a function and was not set on event "'+e+'".')},Ne.offEvent=function(e,t,r){qe.logInfo("Invoking pbjs.offEvent",arguments),r&&!Qe[e].call(null,r)||Ve.off(e,t,r)},Ne.getEvents=function(){return qe.logInfo("Invoking pbjs.getEvents"),Ve.getEvents()},Ne.registerBidAdapter=function(e,t){qe.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{ze.registerBidAdapter(e(),t)}catch(e){qe.logError("Error registering bidder adapter : "+e.message)}},Ne.registerAnalyticsAdapter=function(e){qe.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{ze.registerAnalyticsAdapter(e)}catch(e){qe.logError("Error registering analytics adapter : "+e.message)}},Ne.createBid=function(e){return qe.logInfo("Invoking pbjs.createBid",arguments),(0,De.m)(e)};var it=[],at=(0,u.z3)("async",function(e){e&&!qe.isEmpty(e)?(qe.logInfo("Invoking pbjs.enableAnalytics for: ",e),ze.enableAnalytics(e)):qe.logError("pbjs.enableAnalytics should be called with option {}")},"enableAnalyticsCb");function st(e){e.forEach(function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){qe.logError("Error processing command :","prebid.js",e)}})}Ne.enableAnalytics=function(e){it.push(at.bind(this,e))},Ne.aliasBidder=function(e,t,r){qe.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?ze.aliasBidAdapter(e,t,r):qe.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},Ne.getAllWinningBids=function(){return S.getAllWinningBids()},Ne.getAllPrebidWinningBids=function(){return S.getBidsReceived().filter(function(e){return e.status===Le.BID_STATUS.BID_TARGETING_SET})},Ne.getHighestCpmBids=function(e){return ge.getWinningBids(e)},Ne.markWinningBidAsUsed=function(t){var e=[];t.adUnitCode&&t.adId?e=S.getBidsReceived().filter(function(e){return e.adId===t.adId&&e.adUnitCode===t.adUnitCode}):t.adUnitCode?e=ge.getWinningBids(t.adUnitCode):t.adId?e=S.getBidsReceived().filter(function(e){return e.adId===t.adId}):qe.logWarn("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),0<e.length&&(e[0].status=Le.BID_STATUS.RENDERED)},Ne.getConfig=A.vc.getConfig,Ne.setConfig=A.vc.setConfig,Ne.setBidderConfig=A.vc.setBidderConfig,Ne.que.push(function(){window.addEventListener("message",Y,!1)}),Ne.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){qe.logError("Error processing command :",e.message,e.stack)}else qe.logError("Commands written into pbjs.cmd.push must be wrapped in a function")},Ne.que.push=Ne.cmd.push,Ne.processQueue=function(){u.z3.ready(),st(Ne.que),st(Ne.cmd)};var n=Ne,ct=r(9524),t={code:"adform",gvlid:50,supportedMediaTypes:[w.Mk,w.pX],isBidRequestValid:function(e){return!!e.params.mid},buildRequests:function(e,t){for(var r,n,o,i,a,s,c,u,d=A.vc.getConfig("currency.adServerCurrency"),l=function(e){if(I.isArray(e)&&0<e.length){e=e.reduce(function(r,e){var n=e.source;return r[n]=r[n]||{},e.uids.forEach(function(e){var t=e.id+"";r[n][t]=r[n][t]||[],r[n][t].push(e.atype)}),r},{});return encodeURIComponent(btoa(JSON.stringify(e)))}}(I.deepAccess(e,"0.userIdAsEids")),f=[],p=[["adxDomain","adx.adform.net"],["fd",1],["url",null],["tid",null]],g=JSON.parse(JSON.stringify(e)),m=g[0]&&g[0].bidder||"adform",y=0,h=g.length;y<h;y++){for("net"!==(o=g[y]).params.priceType&&"net"!==o.params.pt||(c="net"),r=0,n=p.length;r<n;r++)(a=o[i=p[r][0]]||o.params[i])&&(o[i]=o.params[i]=null,p[r][1]=a);(s=o.params).transactionId=o.transactionId,s.rcur=s.rcur||d,f.push(function(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&e[t]&&r.push(t,"=",e[t],"&");return encodeURIComponent(btoa(r.join("").slice(0,-1)))}(s))}f.unshift("https://"+p[0][1]+"/adx/?rp=4"),f.push("pt="+(c=c||"gross")),f.push("stid="+e[0].auctionId);var v=I.deepAccess(t,"gdprConsent.gdprApplies"),b=I.deepAccess(t,"gdprConsent.consentString");for(void 0!==v&&(u={gdpr:v,gdpr_consent:b},f.push("gdpr="+(1&v)),f.push("gdpr_consent="+b)),t&&t.uspConsent&&f.push("us_privacy="+t.uspConsent),l&&f.push("eids="+l),y=1,h=p.length;y<h;y++)i=p[y][0],(a=p[y][1])&&f.push(i+"="+encodeURIComponent(a));return{method:"GET",url:f.join("&"),bids:e,netRevenue:c,bidder:m,gdpr:u}},interpretResponse:function(e,t){for(var r,n,o,i={banner:1,vast_content:1,vast_url:1},a=[],s=t.bids,c=e.body,u=0;u<c.length;u++)o="banner"===(r=c[u]).response?w.Mk:w.pX,n=s[u],i[r.response]&&(function(e,t){for(var r=0,n=t.length;r<n;r++)if(e.width==t[r][0]&&e.height==t[r][1])return!0;return!1}(r,I.getAdUnitSizes(n))||o===w.pX)&&(r={requestId:n.bidId,cpm:r.win_bid,width:r.width,height:r.height,creativeId:n.bidId,dealId:r.deal_id,currency:r.win_cur,netRevenue:"gross"!==t.netRevenue,ttl:360,ad:r.banner,bidderCode:t.bidder,transactionId:n.transactionId,vastUrl:r.vast_url,vastXml:r.vast_content,mediaType:o},n.renderer||o!==w.pX||"outstream"!==I.deepAccess(n,"mediaTypes.video.context")||(r.renderer=x.install({id:n.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js"}),r.renderer.setRender(d)),t.gdpr&&(r.gdpr=t.gdpr.gdpr,r.gdpr_consent=t.gdpr.gdpr_consent),a.push(r));return a;function d(e){e.renderer.push(function(){window.Adform.renderOutstream(e)})}}};(0,ct.dX)(t);var ut,dt,t={code:"adyoulike",aliases:["ayl"],isBidRequestValid:function(e){var t=ft(lt(e));return!!(e.params&&e.params.placement&&t.width&&t.height)},buildRequests:function(e,t){var r={Version:"1.0",Bids:e.reduce(function(e,t){var r=lt(t),n=ft(r);return e[t.bidId]={},e[t.bidId].PlacementID=t.params.placement,e[t.bidId].TransactionID=t.transactionId,e[t.bidId].Width=n.width,e[t.bidId].Height=n.height,e[t.bidId].AvailableSizes=r.join(","),e},{}),PageRefreshed:function(){try{if(performance&&performance.navigation)return performance.navigation.type===performance.navigation.TYPE_RELOAD}catch(e){}return!1}()};t&&t.gdprConsent&&(r.gdprConsent={consentString:t.gdprConsent.consentString,consentRequired:"boolean"==typeof t.gdprConsent.gdprApplies?t.gdprConsent.gdprApplies:null}),t&&t.uspConsent&&(r.uspConsent=t.uspConsent);r=JSON.stringify(r);return{method:"POST",url:function(e,t){e=function(e){e=k()(e,function(e){return e.params.DC});return e?"-"+e.params.DC:""}(e);return I.buildUrl({protocol:"https",host:"".concat("hb-api").concat(e,".omnitagjs.com"),pathname:"/hb-api/prebid/v1",search:function(e){var t={};!e||(r=e.refererInfo)&&(t.RefererUrl=encodeURIComponent(r.referer),0<r.numIframes&&(t.SafeFrame=!0));var r=function(){var e;if(window.self!==window.top)try{e=window.top.document.head.querySelector('link[rel="canonical"][href]')}catch(e){}else e=document.head.querySelector('link[rel="canonical"][href]');return e?e.href:""}();r&&(t.CanonicalUrl=encodeURIComponent(r));r=A.vc.getConfig("publisherDomain");return r&&(t.PublisherDomain=encodeURIComponent(r)),t}(t)})}(e,t),data:r,options:{withCredentials:!0}}},interpretResponse:function(e,t){var r=[],n={};try{n=JSON.parse(t.data).Bids}catch(e){}return e.body.forEach(function(e){e=function(e,t){if(e&&e.Ad)return t&&t[e.BidID]&&(e.Width&&"0"!==e.Width||(e.Width=t[e.BidID].Width),e.Height&&"0"!==e.Height||(e.Height=t[e.BidID].Height)),{requestId:e.BidID,width:e.Width,height:e.Height,ad:e.Ad,ttl:3600,creativeId:e.CreativeID,cpm:e.Price,netRevenue:!0,currency:"USD"}}(e,n);e&&r.push(e)}),r}};function lt(e){var t=e.sizes;return e.mediaTypes&&e.mediaTypes.banner&&(t=e.mediaTypes.banner.sizes),I.parseSizesInput(t)}function ft(e){var t={},r=e[0];if("string"!=typeof r)return t;e=r.toUpperCase().split("X"),r=parseInt(e[0],10);r&&(t.width=r);e=parseInt(e[1],10);return e&&(t.height=e),t}function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gt(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(0,ct.dX)(t);var mt="aol",yt="verizon",ht="onemobile",vt="onedisplay",bt="display-get",wt="mobile-get",St="mobile-post",_t=At(ut=ut||gt(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""]),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),Ot=At(dt=dt||gt(["","/bidRequest?"]),"host"),It=At(Tt=Tt||gt(["dcn=","&pos=","&cmd=bid",""]),"dcn","pos","dynamicParams"),Et={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"};function At(i){for(var e=arguments.length,a=new Array(1<e?e-1:0),t=1;t<e;t++)a[t-1]=arguments[t];return function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n=r[r.length-1]||{},o=[i[0]];return a.forEach(function(e,t){e=(I.isInteger(e)?r:n)[e];o.push(e,i[t+1])}),o.join("")}}function kt(e){return e===mt||e===yt||e===ht}function xt(e){if(kt(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){e=e.params.imp[0];return e.id&&e.tagid&&(e.banner&&e.banner.w&&e.banner.h||e.video&&e.video.mimes&&e.video.minduration&&e.video.maxduration)}}function Pt(e){return kt(e.bidder)&&e.params.dcn&&e.params.pos}function jt(e){return((t=e.bidder)===mt||t===yt||t===vt)&&e.params.placement&&e.params.network;var t}var Tt={code:mt,gvlid:25,aliases:[ht,vt,yt],supportedMediaTypes:[w.Mk],isBidRequestValid:function(e){return jt(e)||Pt(e)||xt(e)},buildRequests:function(e,t){var r=this,n={};return t&&(n.gdpr=t.gdprConsent,n.uspConsent=t.uspConsent),e.map(function(e){var t=Pt(e)?wt:xt(e)?St:jt(e)?bt:void 0;if(t)return r.formatBidRequest(t,e,n)})},interpretResponse:function(e,t){var r=e.body;if(r){e=this._parseBidResponse(r,t);if(e)return e}else I.logError("Empty bid response",t.bidderCode,r)},getUserSyncs:function(e,t){t=!I.isEmpty(t)&&t[0].body;return t&&t.ext&&t.ext.pixels?this.parsePixelItems(t.ext.pixels):[]},formatBidRequest:function(e,t,r){var n;switch(e){case bt:n={url:this.buildMarketplaceUrl(t,r),method:"GET",ttl:60};break;case wt:n={url:this.buildOneMobileGetUrl(t,r),method:"GET",ttl:3600};break;case St:n={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,r),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return n.bidderCode=t.bidder,n.bidId=t.bidId,n.userSyncOn=t.params.userSyncOn,n},buildMarketplaceUrl:function(e,t){var r=e.params,n=r.server,e=r.region||"us";return Et.hasOwnProperty(e)||(I.logWarn("Unknown region '".concat(e,"' for AOL bidder.")),e="us"),n=n||Et[e],r.region=e,this.applyProtocol(_t({host:n,network:r.network,placement:parseInt(r.placement),pageid:r.pageId||0,sizeid:r.sizeId||0,alias:r.alias||I.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(r,t)}))},buildOneMobileGetUrl:function(e,t){var r=e.params,n=r.dcn,o=r.pos,r=r.ext,e=this.buildOneMobileBaseUrl(e);return n&&o&&(t=this.formatOneMobileDynamicParams(r,t),e+=It({dcn:n,pos:o,dynamicParams:t})),e},buildOneMobileBaseUrl:function(e){return this.applyProtocol(Ot({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:(0===e.indexOf("//")?"".concat("https",":"):"".concat("https","://")).concat(e)},formatMarketplaceDynamicParams:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={};e.bidFloor&&(r.bidfloor=e.bidFloor),pt(r,this.formatKeyValues(e.keyValues)),pt(r,this.formatConsentData(t));var n="";return I._each(r,function(e,t){n+="".concat(t,"=").concat(encodeURIComponent(e),";")}),n},formatOneMobileDynamicParams:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.isSecureProtocol()&&(e.secure=1),pt(e,this.formatConsentData(t));var r="";return I._each(e,function(e,t){r+="&".concat(t,"=").concat(encodeURIComponent(e))}),r},buildOpenRtbRequestData:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e={id:e.params.id,imp:e.params.imp};return this.isEUConsentRequired(t)&&(I.deepSetValue(e,"regs.ext.gdpr",1),t.gdpr.consentString&&I.deepSetValue(e,"user.ext.consent",t.gdpr.consentString)),t.uspConsent&&I.deepSetValue(e,"regs.ext.us_privacy",t.uspConsent),e},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var r={};return I._each(e,function(e,t){r["kv".concat(t)]=e}),r},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=1,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var r=/\w*(?=\s)/,n=/src=("|')(.*?)\1/,o=[];return!e||(e=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi))&&e.forEach(function(e){var t=e.match(r)[0],e=e.match(n)[2];t&&o.push({type:"img"===t?"image":"iframe",url:e})}),o},_parseBidResponse:function(e,t){var r,n;try{r=e.seatbid[0].bid[0]}catch(e){return}if(r.ext&&r.ext.encp)n=r.ext.encp;else if(null===(n=r.price)||isNaN(n))return void I.logError("Invalid price in bid response",mt,r);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:r.adm,cpm:n,width:r.w,height:r.h,creativeId:r.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:r.dealid,netRevenue:!0,ttl:t.ttl}},isOneMobileBidder:kt,isSecureProtocol:function(){return"https:"===document.location.protocol}};function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dt(e){return function(e){if(Array.isArray(e))return Ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return Ut(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ut(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ct.dX)(Tt);var Mt="https://ib.adnxs.com/ut/v3/prebid",Bt=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],Nt=["age","externalUid","segments","gender","dnt","language"],Lt=["geo","device_id"],qt=["enabled","dongle","member_id","debug_timeout"],zt={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},Vt={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},Ft=/\/\/cdn\.adnxs\.com\/v/,Wt=(0,Ue.df)(32,"appnexus"),Tt={code:"appnexus",gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[w.Mk,w.pX,w.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var l=e.map($t),r=k()(e,Jt),n={};!0===A.vc.getConfig("coppa")&&(n={coppa:!0}),r&&Object.keys(r.params.user).filter(function(e){return _()(Nt,e)}).forEach(function(e){var t=I.convertCamelToUnderscore(e);n[t]=r.params.user[e]});var o,i=k()(e,Zt);i&&i.params&&i.params.app&&(o={},Object.keys(i.params.app).filter(function(e){return _()(Lt,e)}).forEach(function(e){return o[e]=i.params.app[e]}));var a,s=k()(e,Qt);s&&s.params&&i.params.app&&i.params.app.id&&(a={appid:s.params.app.id});var c={},u={},d=Wt.getCookie("apn_prebid_debug")||null;if(d)try{c=JSON.parse(d)}catch(e){I.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var f=k()(e,er);f&&f.debug&&(c=f.debug)}c&&c.enabled&&Object.keys(c).filter(function(e){return _()(qt,e)}).forEach(function(e){u[e]=c[e]});var p=k()(e,Xt),d=p?parseInt(p.params.member,10):0,f=e[0].schain,p=k()(e,rr),g={tags:Dt(l),user:n,sdk:{source:"pbjs",version:"4.13.0-mol-1"},schain:f};p&&(g.iab_support={omidpn:"Appnexus",omidpv:"4.13.0-mol-1"}),0<d&&(g.member_id=d),i&&(g.device=o),s&&(g.app=a),A.vc.getConfig("adpod.brandCategoryExclusion")&&(g.brand_category_uniqueness=!0),u.enabled&&(g.debug=u,I.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(u,null,4))),t&&t.gdprConsent&&(g.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(g.us_privacy=t.uspConsent),t&&t.refererInfo&&(m={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},g.referrer_detection=m),k()(e,tr)&&e.filter(tr).forEach(function(t){var e,r,n,o,i,a,s,c,u,d,c=(e=l,s=(r=t).mediaTypes.video,c=s.durationRangeSec,u=s.requireExactDuration,i=r.mediaTypes.video,n=i.adPodDurationSec,o=i.durationRangeSec,s=i.requireExactDuration,i=I.getMinValueFromArray(o),i=Math.floor(n/i),i=s?Math.max(i,o.length):i,d=I.getMaxValueFromArray(c),e=e.filter(function(e){return e.uuid===r.bidId}),e=I.fill.apply(I,Dt(e).concat([i])),u?(i=Math.ceil(i/c.length),a=I.chunk(e,i),c.forEach(function(t,e){a[e].map(function(e){nr(e,"minduration",t),nr(e,"maxduration",t)})})):e.map(function(e){return nr(e,"maxduration",d)}),e),e=g.tags.filter(function(e){return e.uuid!==t.bidId});g.tags=[].concat(Dt(e),Dt(c))});var m=I.deepAccess(e[0],"userId.criteoId");m&&((w=[]).push({provider:"criteo",user_id:m}),g.tpuids=w);var y,h,v,b,m=[],w=I.deepAccess(e[0],"userId.tdid");return w&&m.push({source:"adserver.org",id:w,rti_partner:"TDID"}),m.length&&(g.eids=m),l[0].publisher_id&&(g.publisher_id=l[0].publisher_id),w=g,v=[],b={},m=!0,(m=(y=t)&&y.gdprConsent&&y.gdprConsent.gdprApplies&&2===y.gdprConsent.apiVersion?!(!0!==I.deepAccess(y.gdprConsent,"vendorData.purpose.consents.1")):m)||(b={withCredentials:!1}),15<w.tags.length?(h=I.deepClone(w),I.chunk(w.tags,15).forEach(function(e){h.tags=e;e=JSON.stringify(h);v.push({method:"POST",url:Mt,data:e,bidderRequest:y,options:b})})):(w=JSON.stringify(w),v={method:"POST",url:Mt,data:w,bidderRequest:y,options:b}),v},interpretResponse:function(e,t){var r=this,n=t.bidderRequest;e=e.body;var o=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var t=(t=e)&&t.ads&&t.ads.length&&k()(t.ads,function(e){return e.rtb});t&&0!==t.cpm&&_()(r.supportedMediaTypes,t.ad_type)&&((e=function(t,e,r){var n,o,i=I.getBidRequest(t.uuid,[r]),a={requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:i.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};if(e.advertiser_id&&(a.meta=Rt({},a.meta,{advertiserId:e.advertiser_id})),e.rtb.video)switch(Rt(a,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),I.deepAccess(i,"mediaTypes.video.context")){case w.Oh:var s=(0,ct.Q1)(i.bidder,e.brand_category_id);a.meta=Rt({},a.meta,{primaryCatId:s});var s=e.deal_priority;a.video={context:w.Oh,durationSeconds:Math.floor(e.rtb.video.duration_ms/1e3),dealTier:s},a.vastUrl=e.rtb.video.asset_url;break;case P.gZ:a.adResponse=t,a.adResponse.ad=a.adResponse.ads[0],a.adResponse.ad.video=a.adResponse.ad.rtb.video,a.vastXml=e.rtb.video.content,e.renderer_url&&(s=k()(r.bids,function(e){return e.bidId===t.uuid}),s=I.deepAccess(s,"renderer.options"),a.renderer=function(e,t,r){r=x.install({id:t.renderer_id,url:t.renderer_url,config:2<arguments.length&&void 0!==r?r:{},loaded:!1,adUnitCode:e});try{r.setRender(or)}catch(e){I.logWarn("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return I.logMessage("AppNexus outstream video impression event")},loaded:function(){return I.logMessage("AppNexus outstream video loaded event")},ended:function(){I.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),r}(a.adUnitCode,e,s));break;case P.LD:a.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}else if(e.rtb[w.B5]){var c=e.rtb[w.B5],u=e.viewability.config.replace("src=","data-src="),d=c.javascript_trackers;null==d?d=u:I.isStr(d)?d=[d,u]:d.push(u),a[w.B5]={title:c.title,body:c.desc,body2:c.desc2,cta:c.ctatext,rating:c.rating,sponsoredBy:c.sponsored,privacyLink:c.privacy_link,address:c.address,downloads:c.downloads,likes:c.likes,phone:c.phone,price:c.price,salePrice:c.saleprice,clickUrl:c.link.url,displayUrl:c.displayurl,clickTrackers:c.link.click_trackers,impressionTrackers:c.impression_trackers,javascriptTrackers:d},c.main_img&&(a.native.image={url:c.main_img.url,height:c.main_img.height,width:c.main_img.width}),c.icon&&(a.native.icon={url:c.icon.url,height:c.icon.height,width:c.icon.width})}else{Rt(a,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{e.rtb.trackers&&(n=e.rtb.trackers[0].impression_urls[0],o=I.createTrackPixelHtml(n),a.ad+=o)}catch(t){I.logError("Error appending tracking pixel",t)}}return a}(e,t,n)).mediaType=(t=t.ad_type)===w.pX?w.pX:t===w.B5?w.B5:w.Mk,o.push(e))}),e.debug&&e.debug.debug_info&&(i=(i="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info).replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),I.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),I.logMessage(i)),o;var i="in response for ".concat(n.bidderCode," adapter");return e&&e.error&&(i+=": ".concat(e.error)),I.logError(i),o},getMappingFileInfo:function(){return{url:"https://acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(r,e){return r=I.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:I.transformBidderParamKeywords,publisherId:"number"},r),e&&(r.use_pmt_rule="boolean"==typeof r.usePaymentRule&&r.usePaymentRule,r.usePaymentRule&&delete r.usePaymentRule,Gt(r.keywords)&&r.keywords.forEach(Ht),Object.keys(r).forEach(function(e){var t=I.convertCamelToUnderscore(e);t!==e&&(r[t]=r[e],delete r[e])})),r},onBidWon:function(e){e.native&&function(e){var t,r,n=function(e){var t;if(I.isStr(e)&&Kt(e))t=e;else if(I.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];Kt(n)&&(t=n)}return t}(e.native.javascriptTrackers);if(n)for(var o="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,i=(r=(t=n).indexOf('src="')+5,n=t.indexOf('"',r),t.substring(r,n)),a=i.replace("dom_id=%native_dom_id%",o),s=document.getElementsByTagName("iframe"),c=!1,u=0;u<s.length&&!c;u++){var d=s[u];try{var l=d.contentDocument||d.contentWindow.document;if(l)for(var f=l.getElementsByTagName("script"),p=0;p<f.length&&!c;p++){var g=f[p];g.getAttribute("data-src")==i&&(g.setAttribute("src",a),g.setAttribute("data-src",""),g.removeAttribute&&g.removeAttribute("data-src"),c=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function Gt(e){return I.isArray(e)&&0<e.length}function Ht(e){Gt(e.value)&&""===e.value[0]&&delete e.value}function Kt(e){var t=e.match(Ft),r=null!=t&&1<=t.length,t=e.match("trk.js"),t=null!=t&&1<=t.length;return e.startsWith("<script")&&t&&r}function $t(r){var n,o,i={};i.sizes=Yt(r.sizes),i.primary_size=i.sizes[0],i.ad_types=[],i.uuid=r.bidId,r.params.placementId?i.id=parseInt(r.params.placementId,10):i.code=r.params.invCode,i.allow_smaller_sizes=r.params.allowSmallerSizes||!1,i.use_pmt_rule=r.params.usePaymentRule||!1,i.prebid=!0,i.disable_psa=!0,r.params.reserve&&(i.reserve=r.params.reserve),r.params.position&&(i.position={above:1,below:2}[r.params.position]||0),r.params.trafficSourceCode&&(i.traffic_source_code=r.params.trafficSourceCode),r.params.privateSizes&&(i.private_sizes=Yt(r.params.privateSizes)),r.params.supplyType&&(i.supply_type=r.params.supplyType),r.params.pubClick&&(i.pubclick=r.params.pubClick),r.params.extInvCode&&(i.ext_inv_code=r.params.extInvCode),r.params.publisherId&&(i.publisher_id=parseInt(r.params.publisherId,10)),r.params.externalImpId&&(i.external_imp_id=r.params.externalImpId),I.isEmpty(r.params.keywords)||(0<(e=I.transformBidderParamKeywords(r.params.keywords)).length&&e.forEach(Ht),i.keywords=e),(r.mediaType===w.B5||I.deepAccess(r,"mediaTypes.".concat(w.B5)))&&(i.ad_types.push(w.B5),0===i.sizes.length&&(i.sizes=Yt([1,1])),r.nativeParams)&&(n=r.nativeParams,o={},Object.keys(n).forEach(function(e){var t=Vt[e]&&Vt[e].serverName||Vt[e]||e,r=Vt[e]&&Vt[e].requiredParams;o[t]=Rt({},r,n[e]),t!==Vt.image.serverName&&t!==Vt.icon.serverName||!o[t].sizes||(e=o[t].sizes,(I.isArrayOfNums(e)||I.isArray(e)&&0<e.length&&e.every(function(e){return I.isArrayOfNums(e)}))&&(o[t].sizes=Yt(o[t].sizes))),t===Vt.privacyLink&&(o.privacy_supported=!0)}),t=o,i[w.B5]={layouts:[t]});var e=I.deepAccess(r,"mediaTypes.".concat(w.pX)),t=I.deepAccess(r,"mediaTypes.video.context");i.hb_source=e&&"adpod"===t?7:1,r.mediaType!==w.pX&&!e||i.ad_types.push(w.pX),(r.mediaType===w.pX||e&&"outstream"!==t)&&(i.require_asset_url=!0),r.params.video&&(i.video={},Object.keys(r.params.video).filter(function(e){return _()(Bt,e)}).forEach(function(e){switch(e){case"context":case"playback_method":var t=r.params.video[e],t=I.isArray(t)?t[0]:t;i.video[e]=zt[e][t];break;case"frameworks":break;default:i.video[e]=r.params.video[e]}}),r.params.video.frameworks&&I.isArray(r.params.video.frameworks)&&(i.video_frameworks=r.params.video.frameworks)),r.renderer&&(i.video=Rt({},i.video,{custom_renderer_present:!0})),r.params.frameworks&&I.isArray(r.params.frameworks)&&(i.banner_frameworks=r.params.frameworks);t=k()(S.getAdUnits(),function(e){return r.transactionId===e.transactionId});return t&&t.mediaTypes&&t.mediaTypes.banner&&i.ad_types.push(w.Mk),0===i.ad_types.length&&delete i.ad_types,i}function Yt(e){var t=[],r={};if(I.isArray(e)&&2===e.length&&!I.isArray(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"===Ct(e))for(var n=0;n<e.length;n++){var o=e[n];(r={}).width=parseInt(o[0],10),r.height=parseInt(o[1],10),t.push(r)}return t}function Jt(e){return!!e.params.user}function Xt(e){return!!parseInt(e.params.member,10)}function Zt(e){if(e.params)return!!e.params.app}function Qt(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function er(e){return!!e.debug}function tr(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===w.Oh}function rr(e){var t=!1,r=e.params,n=e.params.video;return t=!(t=r.frameworks&&I.isArray(r.frameworks)?_()(e.params.frameworks,6):t)&&n&&n.frameworks&&I.isArray(n.frameworks)?_()(e.params.video.frameworks,6):t}function nr(e,t,r){I.isEmpty(e.video)&&(e.video={}),e.video[t]=r}function or(e){var t=e.adUnitCode;(t=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&t[0].style.setProperty("display","none"),e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}.bind(null,e))})}(0,ct.dX)(Tt);var ir=r(7785),Tt=r(5195),ar=r.n(Tt);function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var cr,ur,dr,lr,fr,pr={value:!0,definedInConfig:!1},gr=0,mr=!1,yr={iab:function(r,n,i){function e(e,t){I.logInfo("Received a response from CMP",e),t?!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||r(e,i):n("CMP unable to register callback function.  Please check CMP setup.",i)}var t,o=(t={},{consentDataCallback:function(e){t.getConsentData=e,u()},vendorConsentsCallback:function(e){t.getVendorConsents=e,u()}}),c={},a=function(){for(var e,t,r=window;!e;){try{if("function"==typeof r.__tcfapi||"function"==typeof r.__cmp){t="function"==typeof r.__tcfapi?(gr=2,r.__tcfapi):(gr=1,r.__cmp),e=r;break}}catch(e){}try{if(r.frames.__tcfapiLocator){gr=2,e=r;break}}catch(e){}try{if(r.frames.__cmpLocator){gr=1,e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{cmpFrame:e,cmpFunction:t}}(),s=a.cmpFrame,a=a.cmpFunction;function u(){t.getConsentData&&t.getVendorConsents&&(I.logInfo("Received all requested responses from CMP",t),r(t,i))}if(!s)return n("CMP not found.",i);function d(r,n){var e=i.adUnits,t=1,o=1;Array.isArray(e)&&0<e.length&&(t=(e=I.getAdUnitSizes(e[0]))[0][0],o=e[0][1]),window.$sf.ext.register(t,o,function(e,t){"cmpReturn"===e&&(t="getConsentData"===r?t.vendorConsentData:t.vendorConsents,n(t))}),window.$sf.ext.cmp(r)}function l(e,a,t){var s=2===gr?"__tcfapi":"__cmp";window[s]=function(e,t,r){var n,o=Math.random()+"",i="".concat(s,"Call"),t=(n={command:e,parameter:t,callId:o},(e=i)in(t={})?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t);1!==gr&&(t[i].version=gr),c[o]=r,a.postMessage(t,"*")},window.addEventListener("message",function(e){var t="".concat(s,"Return"),e="string"==typeof e.data&&ar()(e.data,t)?JSON.parse(e.data):e.data;e[t]&&e[t].callId&&(t=e[t],void 0!==c[t.callId]&&c[t.callId](t.returnValue,t.success))},!1),window[s](e,void 0,t)}I.isFn(a)?(I.logInfo("Detected CMP API is directly accessible, calling it now..."),1===gr?(a("getConsentData",null,o.consentDataCallback),a("getVendorConsents",null,o.vendorConsentsCallback)):2===gr&&a("addEventListener",gr,e)):1===gr&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(I.logInfo("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),d("getConsentData",o.consentDataCallback),d("getVendorConsents",o.vendorConsentsCallback)):(I.logInfo("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===gr?(l("getConsentData",s,o.consentDataCallback),l("getVendorConsents",s,o.vendorConsentsCallback)):2===gr&&l("addEventListener",s,e))},static:function(e,t,r){e(lr,r)}};function hr(e,t){t={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};return fr?(I.logInfo("User consent information already known.  Pulling internally stored information..."),Sr(null,t)):_()(Object.keys(yr),cr)?(yr[cr].call(this,vr,br,t),void(t.haveExited||(0===ur?vr(void 0,t):t.timer=setTimeout(function(e){br("CMP workflow exceeded timeout threshold.",e)}.bind(null,t),ur)))):(I.logWarn("CMP framework (".concat(cr,") is not a supported framework.  Aborting consentManagement module and resuming auction.")),t.nextFn.apply(t.context,t.args))}function vr(r,e){"static"===cr&&2==(gr=r.getConsentData?1:r.getTCData?2:0)&&(r=r.getTCData);var t=1===gr?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||I.isStr(e.getConsentData.consentData)&&I.isPlainObject(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length))}:2===gr?function(){var e=r&&"boolean"==typeof r.gdprApplies?r.gdprApplies:dr,t=r&&r.tcString;return!("boolean"==typeof e&&(!0!==e||I.isStr(t)))}:null;pr.definedInConfig&&2===gr?I.logWarn("'allowAuctionWithoutConsent' ignored for TCF 2"):pr.definedInConfig||1!==gr||I.logInfo("'allowAuctionWithoutConsent' using system default: (".concat(!0,").")),I.isFn(t)?t(r)?br("CMP returned unexpected value during lookup process.",e,r):(clearTimeout(e.timer),wr(r),Sr(null,e)):br("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",e,r)}function br(e,t,r){clearTimeout(t.timer),pr.value&&1===gr&&wr(void 0),Sr(e,t,r)}function wr(e){1===gr?fr={consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:dr}:(fr={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:dr},e&&e.addtlConsent&&I.isStr(e.addtlConsent)&&(fr.addtlConsent=e.addtlConsent)),fr.apiVersion=gr,ir.rp.setConsentData(fr)}function Sr(e,t,r){var n,o,i;!1===t.haveExited&&(t.haveExited=!0,n=t.context,o=t.args,i=t.nextFn,e?pr.value&&1===gr?(I.logWarn(e+" 'allowAuctionWithoutConsent' activated.",r),i.apply(n,o)):(I.logError(e+" Canceling auction as per consentManagement config.",r),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():I.logError("Error executing bidsBackHandler")):i.apply(n,o))}function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}A.vc.getConfig("consentManagement",function(e){(e=(e=e.consentManagement).gdpr||e.usp?e.gdpr:e)&&"object"===sr(e)?(I.isStr(e.cmpApi)?cr=e.cmpApi:(cr="iab",I.logInfo("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),I.isNumber(e.timeout)?ur=e.timeout:(ur=1e4,I.logInfo("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"boolean"==typeof e.allowAuctionWithoutConsent&&(pr.value=e.allowAuctionWithoutConsent,pr.definedInConfig=!0),dr=!0===e.defaultGdprScope,I.logInfo("consentManagement module has been activated..."),"static"===cr&&(I.isPlainObject(e.consentData)?(lr=e.consentData,ur=0):I.logError("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),mr||pbjs.requestBids.before(hr,50),mr=!0):I.logWarn("consentManagement config not defined, exiting consent manager")});var Or,Ir,Er,Ar,kr=!1,xr={iab:function(r,n,o){var i,a,s,e=(i={},{consentDataCallback:function(e,t){t&&e.uspString&&(i.usPrivacy=e.uspString),i.usPrivacy?r(i,o):n("Unable to get USP consent string.",o)}}),c={};try{window.__uspapi("getUSPData",1,e.consentDataCallback)}catch(r){for(var t,u=window;!t;){try{u.frames.__uspapiLocator&&(t=u)}catch(r){}if(u===window.top)break;u=u.parent}if(!t)return n("USP CMP not found.",o);a=t,s=e.consentDataCallback,window.__uspapi=function(e,t,r){var n=Math.random()+"",t={__uspapiCall:{command:e,version:t,callId:n}};c[n]=r,a.postMessage(t,"*")},window.addEventListener("message",d,!1),window.__uspapi("getUSPData",1,function(e,t){window.removeEventListener("message",d,!1),s(e,t)})}function d(e){e=e&&e.data&&e.data.__uspapiReturn;e&&e.callId&&void 0!==c[e.callId]&&(c[e.callId](e.returnValue,e.success),delete c[e.callId])}},static:function(e,t,r){e(Er,r)}};function Pr(e,t){t={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};if(!xr[Or])return I.logWarn("USP framework (".concat(Or,") is not a supported framework. Aborting consentManagement module and resuming auction.")),t.nextFn.apply(t.context,t.args);xr[Or].call(this,jr,Tr,t),t.haveExited||(0===Ir?jr(void 0,t):t.timer=setTimeout(function(e){Tr("USPAPI workflow exceeded timeout threshold.",e)}.bind(null,t),Ir))}function jr(e,t){e&&e.usPrivacy?(clearTimeout(t.timer),e&&e.usPrivacy&&(Ar=e.usPrivacy,ir.nX.setConsentData(Ar)),Cr(null,t)):Tr("USPAPI returned unexpected value during lookup process.",t,e)}function Tr(e,t,r){clearTimeout(t.timer),Cr(e,t,r)}function Cr(e,t,r){var n,o;!1===t.haveExited&&(t.haveExited=!0,n=t.context,o=t.args,t=t.nextFn,e&&I.logWarn(e+" Resuming auction without consent data as per consentManagement config.",r),t.apply(n,o))}function Rr(e){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}A.vc.getConfig("consentManagement",function(e){var t;t=0,(t=(t=e.consentManagement).usp)&&"object"===_r(t)?(I.isStr(t.cmpApi)?Or=t.cmpApi:(Or="iab",I.logInfo("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat("iab",")."))),I.isNumber(t.timeout)?Ir=t.timeout:(Ir=50,I.logInfo("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),I.logInfo("USPAPI consentManagement module has been activated..."),"static"===Or&&(I.isPlainObject(t.consentData)&&I.isPlainObject(t.consentData.getUSPData)?(t.consentData.getUSPData.uspString&&(Er={usPrivacy:t.consentData.getUSPData.uspString}),Ir=0):I.logError("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),kr||pbjs.requestBids.before(Pr,50),kr=!0):I.logWarn("consentManagement.usp config not defined, exiting usp consent manager")}),r(3455);var Dr,Ur=[],Mr={},Br=!1,Nr=!0,Lr="USD",qr=!1,zr={},Vr={};function Fr(e){Dr?(I.logWarn(e),I.logWarn("Currency failed loading rates, falling back to currency.defaultRates")):I.logError(e)}function Wr(e,t,r){if(!r)return e.call(this,t);var n,o,i,a,s=r.bidderCode||r.bidder;if(Vr[s]&&(n=Vr[s],r.currency&&n!==r.currency?I.logWarn("Currency default '".concat(s,": ").concat(n,"' ignored. adapter specified '").concat(r.currency,"'")):r.currency=n),r.currency||(I.logWarn('Currency not specified on bid.  Defaulted to "USD"'),r.currency="USD"),r.getCpmInNewCurrency=function(e){return(parseFloat(this.cpm)*Hr(this.currency,e)).toFixed(3)},r.currency===Lr)return e.call(this,t,r);Ur.push((o=e,i=this,a=[t,r],function(){var t=a[1];if(void 0!==t&&"currency"in t&&"cpm"in t){var e=t.currency;try{var r=Hr(e);1!==r&&(t.cpm=(parseFloat(t.cpm)*r).toFixed(4),t.currency=Lr)}catch(e){I.logWarn("Returning NO_BID, getCurrencyConversion threw error: ",e),a[1]=(0,De.m)(p.STATUS.NO_BID,{bidder:t.bidderCode||t.bidder,bidId:t.requestId})}}return o.apply(i,a)})),qr&&!Br||Gr()}function Gr(){for(;0<Ur.length;)Ur.shift()()}function Hr(e,t){var r=1<arguments.length&&void 0!==t?t:Lr,n=null,o="".concat(e,"->").concat(r);if(o in Mr)n=Mr[o],I.logMessage("Using conversionCache value "+n+" for "+o);else if(!1===qr){if("USD"!==e)throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD");n=1}else if(e===r)n=1;else if(e in zr.conversions){if(!(r in(i=zr.conversions[e])))throw new Error("Specified adServerCurrency in config '"+r+"' not found in the currency rates file");n=i[r],I.logInfo("getCurrencyConversion using direct "+e+" to "+r+" conversionRate "+n)}else if(r in zr.conversions){if(!(e in(i=zr.conversions[r])))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");n=Kr(1/i[e],4),I.logInfo("getCurrencyConversion using reciprocal "+e+" to "+r+" conversionRate "+n)}else{t=Object.keys(zr.conversions)[0];if(!(e in zr.conversions[t]))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");var i=1/zr.conversions[t][e];if(!(r in zr.conversions[t]))throw new Error("Specified adServerCurrency in config '"+r+"' not found in the currency rates file");n=Kr(i*zr.conversions[t][r],4);I.logInfo("getCurrencyConversion using intermediate "+e+" thru "+t+" to "+r+" conversionRate "+n)}return o in Mr||(I.logMessage("Adding conversionCache value "+n+" for "+o),Mr[o]=n),n}function Kr(e,t){for(var r=1,n=0;n<t;n++)r+="0";return Math.round(e*r)/r}function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jr(){return(Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}A.vc.getConfig("currency",function(e){return function(e){var t,r,n,o,i="https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$";"object"===Rr(e.rates)&&(zr.conversions=e.rates,Nr=!(Br=!0)),"object"===Rr(e.defaultRates)&&(Dr=e.defaultRates,zr.conversions=Dr,Br=!0),"string"==typeof e.adServerCurrency?(I.logInfo("enabling currency support",arguments),Lr=e.adServerCurrency,e.conversionRateFile&&(I.logInfo("currency using override conversionRateFile:",e.conversionRateFile),i=e.conversionRateFile),-1!==(t=i.indexOf("$$TODAY$$"))&&(r=new Date,n="".concat(r.getMonth()+1),o="".concat(r.getDate()),n.length<2&&(n="0".concat(n)),o.length<2&&(o="0".concat(o)),o="".concat(r.getFullYear()).concat(n).concat(o),i="".concat(i.substring(0,t)).concat(o).concat(i.substring(t+9,i.length))),function(e){Mr={},qr=!0,I.logInfo("Installing addBidResponse decorator for currency module",arguments),a().convertCurrency=function(e,t,r){return parseFloat(e)*Hr(t,r)},(0,u.v5)("addBidResponse").before(Wr,100),Nr&&(Nr=!1,l.h)(e,{success:function(t){try{zr=JSON.parse(t),I.logInfo("currencyRates set to "+JSON.stringify(zr)),Br=!0,Gr()}catch(e){Fr("Failed to parse currencyRates response: "+t)}},error:Fr})}(i)):(I.logInfo("disabling currency support"),function(){I.logInfo("Uninstalling addBidResponse decorator for currency module",arguments),(0,u.v5)("addBidResponse").getHooks({hook:Wr}).remove(),delete a().convertCurrency,Lr="USD",Nr=!(Br=qr=!(Mr={})),zr={},Vr={}}()),"object"===Rr(e.bidderCurrencyDefault)&&(Vr=e.bidderCurrencyDefault)}(e.currency)});var Xr=!1,Zr={code:"grid",supportedMediaTypes:[w.Mk,w.pX],isBidRequestValid:function(e){return!!e.params.uid},buildRequests:function(e,t){if(!e.length)return null;var u=null,d=null,l=null,f=null,p=null,r=null,n=null,o=t||{},g=o.bidderRequestId,m=o.auctionId,i=o.gdprConsent,a=o.uspConsent,s=o.timeout,t=o.refererInfo,o=t?encodeURIComponent(t.referer):"",y=[],h={};e.forEach(function(n){g=g||n.bidderRequestId,m=m||n.auctionId,f=f||n.schain,p=p||n.userId;var e=n.params,t=e.uid,r=e.keywords,o=e.bidFloor,i=n.mediaTypes,a=n.bidId,s=n.adUnitCode,e=n.jwTargeting;h[a]=n,u||I.isEmpty(r)||(u=I.transformBidderParamKeywords(r)),e&&(!d&&e.segments&&(d=e.segments),!l&&e.content&&(l=e.content));var c,o={id:a,tagid:t.toString(),ext:{divid:s},bidfloor:function(e,t,r){e=e.video?"video":"banner",t=t||0;"function"==typeof r.getFloor&&("object"!==$r(r=r.getFloor({currency:"USD",mediaType:e,size:r.sizes.map(function(e){e=function(e){if(Array.isArray(e))return e}(e=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(e)||function(e){if(e){if("string"==typeof e)return Yr(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Yr(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return{w:e[0],h:e[1]}})}))||"USD"!==r.currency||isNaN(parseFloat(r.floor))||(t=Math.max(t,parseFloat(r.floor))));return t}(i||{},o,n)};i&&!i[w.Mk]||(c=function(){var e=(i?i[w.Mk]:{}).sizes||n.sizes;if(e&&e.length){var t=e.map(function(e){return I.parseGPTSingleSizeArrayToRtbSize(e)}),e=I.parseGPTSingleSizeArrayToRtbSize(e[0]);return t.length&&(e.format=t),e}}())&&(o.banner=c),i&&i[w.pX]&&((c=function(e){var t=e.playerSize,r=e.mimes,e=e.durationRangeSec,t=(t||n.sizes||[])[0];if(t){t=I.parseGPTSingleSizeArrayToRtbSize(t);return r&&(t.mimes=r),e&&2===e.length&&(t.minduration=e[0],t.maxduration=e[1]),t}}(i[w.pX]))&&(o.video=c)),(o.banner||o.video)&&y.push(o)});t={tid:m,ext:{wrapper:"Prebid_js",wrapper_version:"4.13.0-mol-1"}};f&&(t.ext.schain=f);e=A.vc.getConfig("bidderTimeout")||s,e=s?Math.min(e,s):e,t={id:g,site:{page:o},tmax:e,source:t,imp:y};l&&(t.site.content=l),d&&d.length&&(r={data:[{name:"iow_labs_pub_data",segment:d.map(function(e){return{name:"jwpseg",value:e}})}]}),i&&i.consentString&&(n={consent:i.consentString}),p&&(p.tdid&&((n=n||{}).eids=n.eids||[],n.eids.push({source:"adserver.org",uids:[{id:p.tdid,ext:{rtiPartner:"TDID"}}]})),p.id5id&&p.id5id.uid&&((n=n||{}).eids=n.eids||[],n.eids.push({source:"id5-sync.com",uids:[{id:p.id5id.uid}],ext:p.id5id.ext})),p.lipb&&p.lipb.lipbid&&((n=n||{}).eids=n.eids||[],n.eids.push({source:"liveintent.com",uids:[{id:p.lipb.lipbid}]})),p.idl_env&&((n=n||{}).eids=n.eids||[],n.eids.push({source:"identityLink",uids:[{id:p.idl_env}]})),p.criteoId&&((n=n||{}).eids=n.eids||[],n.eids.push({source:"criteo.com",uids:[{id:p.criteoId}]})),p.digitrustid&&p.digitrustid.data&&p.digitrustid.data.id&&((n=n||{}).digitrust=Jr({},p.digitrustid.data))),n&&Object.keys(n).length&&((r=r||{}).ext=n),r&&(t.user=r);r=I.transformBidderParamKeywords({user:I.deepAccess(A.vc.getConfig("fpd.user"),"keywords")||null,context:I.deepAccess(A.vc.getConfig("fpd.context"),"keywords")||null});return(u=r.length?(u||[]).concat(r):u)&&0<u.length&&u.forEach(Qr),u&&(t.ext={keywords:u}),i&&i.gdprApplies&&(t.regs={ext:{gdpr:i.gdprApplies?1:0}}),a&&(t.regs||(t.regs={ext:{}}),t.regs.ext.us_privacy=a),{method:"POST",url:"https://grid.bidswitch.net/hbjson",data:JSON.stringify(t),newFormat:!0,bidsMap:h}},interpretResponse:function(e,i){e=e&&e.body;var t,a=[];return e?e.seatbid&&!e.seatbid.length&&(t="Response has empty seatbid array"):t="Response is empty",!t&&e.seatbid&&e.seatbid.forEach(function(e){var t,r,n,o;(o=e)?o.bid?o.bid[0]||I.logError("Array of bid objects is empty"):I.logError("Seatbid from response has no array of bid objects - "+JSON.stringify(o)):I.logError("Seatbid array from response has empty item"),t=o&&o.bid&&o.bid[0],r=i,e=a,t&&(t.auid||(n="Bid from response has no auid parameter - "+JSON.stringify(t)),t.adm?(o=r.bidsMap[t.impid])&&(r={requestId:o.bidId,bidderCode:Zr.code,cpm:t.price,width:t.w,height:t.h,creativeId:t.auid,currency:"USD",netRevenue:!1,ttl:360,dealId:t.dealid},"video"===t.content_type?(r.vastXml=t.adm,r.mediaType=w.pX,r.adResponse={content:r.vastXml},o.renderer||o.mediaTypes&&o.mediaTypes.video&&"outstream"!==o.mediaTypes.video.context||(r.renderer=function(e){e=x.install({id:e.id,url:e.url,loaded:!1});try{e.setRender(en)}catch(e){I.logWarn("Prebid Error calling setRender on renderer",e)}return e}({id:o.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"}))):(r.ad=t.adm,r.mediaType=w.Mk),e.push(r)):n="Bid from response has no adm parameter - "+JSON.stringify(t),n&&I.logError(n))}),t&&I.logError(t),a},getUserSyncs:function(e,t,r,n){if(!Xr&&e.pixelEnabled){e="";return r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?e+="&gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):e+="&gdpr_consent=".concat(r.consentString)),n&&(e+="&us_privacy=".concat(n)),Xr=!0,{type:"image",url:"https://x.bidswitch.net/sync?ssp=themediagrid"+e}}}};function Qr(e){var t=e.value;I.isArray(t)&&0<t.length&&""===e.value[0]&&delete e.value}function en(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})})}function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ct.dX)(Zr);function on(e,t){return e.find(t)}function an(e,t){return e.includes(t)}var sn=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],cn=["age","external_uid","segments","gender","dnt","language"],un={body:"description",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},icon:{serverName:"icon",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},sponsoredBy:"sponsored_by"},Tt={code:"groupm",aliases:["groupm","xaxis"],supportedMediaTypes:[w.Mk,w.pX,w.B5],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var r,n=e.map(dn),o=on(e,fn);o&&(r={},Object.keys(o.params.user).filter(function(e){return an(cn,e)}).forEach(function(e){r[e]=o.params.user[e]}));e=on(e,pn),e=e?parseInt(e.params.member,10):0,n={tags:function(e){if(Array.isArray(e))return nn(e)}(n=n)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||function(e){if(e){if("string"==typeof e)return nn(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nn(e,void 0):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),user:r,sdk:{source:"pbjs",version:"4.13.0-mol-1"}};return 0<e&&(n.member_id=e),t&&t.gdprConsent&&(n.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),{method:"POST",url:"//ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(n),bidderRequest:t}},interpretResponse:function(e,t){var r=this,n=t.bidderRequest;e=e.body;var o=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var t=e&&e.ads&&e.ads.length&&on(e.ads,function(e){return e.rtb});t&&0!==t.cpm&&an(r.supportedMediaTypes,t.ad_type)&&((e=function(e,t,r){var n={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:99999999,currency:"USD",netRevenue:!0,ttl:300,appnexus:{buyerMemberId:t.buyer_member_id}};if(t.rtb.video)rn(n,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastUrl:t.rtb.video.asset_url,vastImpUrl:t.notify_url,ttl:3600}),t.renderer_url&&(o=I.deepAccess(r.bids[0],"renderer.options"),rn(n,{adResponse:e,renderer:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=x.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1});try{r.setRender(gn)}catch(e){I.logWarn("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return I.logMessage("GroupM outstream video impression event")},loaded:function(){return I.logMessage("GroupM outstream video loaded event")},ended:function(){I.logMessage("GroupM outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),r}(n.adUnitCode,t,o)}),n.adResponse.ad=n.adResponse.ads[0],n.adResponse.ad.video=n.adResponse.ad.rtb.video);else if(t.rtb[w.B5]){var o=t.rtb[w.B5];n[w.B5]={title:o.title,body:o.desc,cta:o.ctatext,sponsoredBy:o.sponsored,clickUrl:o.link.url,clickTrackers:o.link.click_trackers,impressionTrackers:o.impression_trackers,javascriptTrackers:o.javascript_trackers},o.main_img&&(n.native.image={url:o.main_img.url,height:o.main_img.height,width:o.main_img.width}),o.icon&&(n.native.icon={url:o.icon.url,height:o.icon.height,width:o.icon.width})}else{rn(n,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{var i=t.rtb.trackers[0].impression_urls[0],a=I.createTrackPixelHtml(i);n.ad+=a}catch(e){I.logError("Error appending tracking pixel",e)}}return n}(e,t,n)).mediaType=(t=t.ad_type)===w.pX?w.pX:t===w.B5?w.B5:w.Mk,o.push(e))}),o;t="in response for ".concat(n.bidderCode," adapter");return e&&e.error&&(t+=": ".concat(e.error)),I.logError(t),o},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]}};function dn(t){var i,a,r={};r.sizes=ln(t.sizes),r.primary_size=r.sizes[0],r.ad_types=[],r.uuid=t.bidId,t.params.placementId?r.id=parseInt(t.params.placementId,10):r.code=t.params.invCode,r.allow_smaller_sizes=t.params.allowSmallerSizes||!1,r.use_pmt_rule=t.params.usePaymentRule||!1,r.prebid=!0,r.disable_psa=!0,t.params.reserve&&(r.reserve=t.params.reserve),t.params.position&&(r.position={above:1,below:2}[t.params.position]||0),t.params.trafficSourceCode&&(r.traffic_source_code=t.params.trafficSourceCode),t.params.privateSizes&&(r.private_sizes=ln(t.params.privateSizes)),t.params.supplyType&&(r.supply_type=t.params.supplyType),t.params.pubClick&&(r.pubclick=t.params.pubClick),t.params.extInvCode&&(r.ext_inv_code=t.params.extInvCode),t.params.externalImpId&&(r.external_imp_id=t.params.externalImpId),I.isEmpty(t.params.keywords)||(r.keywords=I.transformBidderParamKeywords(t.params.keywords)),(t.mediaType===w.B5||I.deepAccess(t,"mediaTypes.".concat(w.B5)))&&(r.ad_types.push(w.B5),t.nativeParams)&&(i=t.nativeParams,a={},Object.keys(i).forEach(function(e){var t=un[e]&&un[e].serverName||un[e]||e,r=un[e]&&un[e].requiredParams;a[t]=rn({},r,i[e]);var n,o=un[e]&&un[e].minimumParams;r&&o&&(e=Object.keys(i[e]),n=Object.keys(r),0===e.filter(function(e){return!an(n,e)}).length&&(a[t]=rn({},a[t],o)))}),n=a,r[w.B5]={layouts:[n]});var e=I.deepAccess(t,"mediaTypes.".concat(w.pX)),n=I.deepAccess(t,"mediaTypes.video.context");return t.mediaType!==w.pX&&!e||r.ad_types.push(w.pX),(t.mediaType===w.pX||e&&"outstream"!==n)&&(r.require_asset_url=!0),t.params.video&&(r.video={},Object.keys(t.params.video).filter(function(e){return an(sn,e)}).forEach(function(e){r.video[e]=t.params.video[e]})),(I.isEmpty(t.mediaType)&&I.isEmpty(t.mediaTypes)||t.mediaType===w.Mk||t.mediaTypes&&t.mediaTypes[w.Mk])&&r.ad_types.push(w.Mk),r}function ln(e){var t=[],r={};if(I.isArray(e)&&2===e.length&&!I.isArray(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"===tn(e))for(var n=0;n<e.length;n++){var o=e[n];(r={}).width=parseInt(o[0],10),r.height=parseInt(o[1],10),t.push(r)}return t}function fn(e){return!!e.params.user}function pn(e){return!!parseInt(e.params.member,10)}function gn(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}.bind(null,e))})}(0,ct.dX)(Tt);var mn=r(2435),yn=(0,Ue.df)(131,"id5Id"),Tt={name:"id5Id",gvlid:131,decode:function(e){var t,r=0;if(e&&"string"==typeof e.ID5ID)t=e.ID5ID;else{if(!e||"string"!=typeof e.universal_uid)return;t=e.universal_uid,r=e.link_type||r}return{id5id:{uid:t,ext:{linkType:r}}}},getId:function(e,t,r){var n=e&&e.params||{};if(hn(n)){var e=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,t=e?t.consentString:"",o="https://id5-sync.com/g/v2/".concat(n.partner,".json?gdpr_consent=").concat(t,"&gdpr=").concat(e),t=(0,mn.n)(),e=r&&r.signature?r.signature:"",r=r&&r.ID5ID?r.ID5ID:"",i={partner:n.partner,"1puid":r,nbPage:wn(n),o:"pbjs",pd:n.pd||"",rf:t.referer,s:e,top:t.reachedTop?1:0,u:t.stack[0]||window.location.href,v:"4.13.0-mol-1"};return{callback:function(r){var e={success:function(e){var t;if(e)try{t=JSON.parse(e),bn(n,0)}catch(e){I.logError(e)}r(t)},error:function(e){I.logError("id5Id: ID fetch encountered an error",e),r()}};(0,l.h)(o,e,JSON.stringify(i),{method:"POST",withCredentials:!0})}}}},extendId:function(e,t){return wn(e&&e.params||{}),t}};function hn(e){return e&&"number"==typeof e.partner||(I.logError("User ID - ID5 submodule requires partner to be defined as a number"),0)}function vn(e){return hn(e)?"".concat("id5id.1st","_").concat(e.partner,"_nb"):void 0}function bn(e,t){yn.setCookie(vn(e),t,new Date(Date.now()+2592e6).toUTCString(),"Lax")}function wn(e){var t,t=((t=yn.getCookie(vn(e)))?parseInt(t):0)+1;return bn(e,t),t}(0,u.Bx)("userId",Tt);Tt={version:"7.1.0",code:"improvedigital",gvlid:253,aliases:["id"],supportedMediaTypes:[w.Mk,w.B5,w.pX],isBidRequestValid:function(e){return!!(e&&e.params&&(e.params.placementId||e.params.placementKey&&e.params.publisherId))},buildRequests:function(e,t){var r=e.map(function(e){var t=I.getBidIdParameter("adUnitCode",e)||null,r=I.getBidIdParameter("placementId",e.params)||null,n=null,o=null;null===r&&(n=I.getBidIdParameter("publisherId",e.params)||null,o=I.getBidIdParameter("placementKey",e.params)||null);var i=I.getBidIdParameter("keyValues",e.params)||null,a=I.getBidIdParameter("size",e.params)||null,s=I.getBidIdParameter("bidId",e),c=I.getBidIdParameter("transactionId",e),u=A.vc.getConfig("currency.adServerCurrency"),d=I.getBidIdParameter("bidFloor",e.params),l=I.getBidIdParameter("bidFloorCur",e.params),f={};return Sn(e)&&(f.adTypes=[w.pX]),r?f.placementId=r:(n&&(f.publisherId=n),o&&(f.placementKey=o)),i&&(f.keyValues=i),!0===A.vc.getConfig("improvedigital.usePrebidSizes")&&!Sn(e)&&!_n(e)&&e.sizes&&0<e.sizes.length?f.format=e.sizes:a&&a.w&&a.h&&(f.size={},f.size.h=a.h,f.size.w=a.w),s&&(f.id=s),t&&(f.adUnitId=t),c&&(f.transactionId=c),u&&(f.currency=u),d&&(f.bidFloor=d,f.bidFloorCur=l?l.toUpperCase():"USD"),f}),n=new In("hb"),o={singleRequestMode:!0===A.vc.getConfig("improvedigital.singleRequest"),returnObjType:n.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT,libVersion:this.version};t&&t.gdprConsent&&t.gdprConsent.consentString&&(o.gdpr=t.gdprConsent.consentString),t&&t.uspConsent&&(o.usPrivacy=t.uspConsent),t&&t.refererInfo&&t.refererInfo.referer&&(o.referrer=t.refererInfo.referer),o.schain=e[0].schain;o=n.createRequest(r,o);return o.errors&&0<o.errors.length&&I.logError("ID WARNING 0x01"),o.requests.forEach(function(e){return e.bidderRequest=t}),o.requests},interpretResponse:function(e,t){var a=t.bidderRequest,s=[];return I._each(e.body.bid,function(r){var n,e,o,t,i;r.price&&null!==r.price&&!r.hasOwnProperty("errorCode")&&(r.adm||r.native)&&(e=I.getBidRequest(r.id,[a]),n={},r.native?(n.native=(t=r.native,i={},t&&I.isArray(t.assets)?(t.assets.forEach(function(e){if(e.title)i.title=e.title.text;else if(e.data)switch(e.data.type){case 1:i.sponsoredBy=e.data.value;break;case 2:i.body=e.data.value;break;case 3:i.rating=e.data.value;break;case 4:i.likes=e.data.value;break;case 5:i.downloads=e.data.value;break;case 6:i.price=e.data.value;break;case 7:i.salePrice=e.data.value;break;case 8:i.phone=e.data.value;break;case 9:i.address=e.data.value;break;case 10:i.body2=e.data.value;break;case 11:i.displayUrl=e.data.value;break;case 12:i.cta=e.data.value}else if(e.img)switch(e.img.type){case 2:i.icon={url:e.img.url,width:e.img.w,height:e.img.h};break;case 3:i.image={url:e.img.url,width:e.img.w,height:e.img.h}}}),t.eventtrackers?(i.impressionTrackers=[],t.eventtrackers.forEach(function(e){if(1===e.event)switch(e.method){case 1:i.impressionTrackers.push(e.url);break;case 2:i.javascriptTrackers='<script src="'.concat(e.url,'"><\/script>')}})):(i.impressionTrackers=t.imptrackers||[],i.javascriptTrackers=t.jstracker),t.link&&(i.clickUrl=t.link.url,i.clickTrackers=t.link.clicktrackers),t.privacy&&(i.privacyLink=t.privacy),i):null),n.ortbNative=r.native,r.nurl&&n.native.impressionTrackers.unshift(r.nurl),n.mediaType=w.B5):r.ad_type&&"video"===r.ad_type?(n.vastXml=r.adm,n.mediaType=w.pX,_n(e)&&(n.adResponse={content:n.vastXml,height:r.h,width:r.w},n.renderer=function(e){var t=x.install({id:e.adUnitCode,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",loaded:!1,config:I.deepAccess(e,"renderer.options"),adUnitCode:e.adUnitCode});try{t.setRender(On)}catch(e){I.logWarn("Prebid Error calling setRender on renderer",e)}return t}(e))):(e="",r.nurl&&0<r.nurl.length&&(e='<img src="'.concat(r.nurl,'" width="0" height="0" style="display:none">')),n.ad="".concat(e,"<script>").concat(r.adm,"<\/script>"),n.mediaType=w.Mk),n.adId=r.id,n.cpm=parseFloat(r.price),n.creativeId=r.crid,n.currency=r.currency?r.currency.toUpperCase():"USD",I.isNumber(r.lid)&&r.buying_type&&"rtb"!==r.buying_type?n.dealId=r.lid:Array.isArray(r.lid)&&Array.isArray(r.buying_type)&&r.lid.length===r.buying_type.length&&(o=!1,r.buying_type.forEach(function(e,t){o||e&&"rtb"!==e&&(o=!0,n.dealId=r.lid[t])})),n.height=r.h,n.netRevenue=!!r.isNet&&r.isNet,n.requestId=r.id,n.ttl=300,n.width=r.w,n.width&&n.height||(n.width=1,n.height=1),s.push(n))}),s},getUserSyncs:function(e,t){if(e.pixelEnabled){var r=[];return t.forEach(function(e){e.body.bid.forEach(function(e){I.isArray(e.sync)&&e.sync.forEach(function(e){-1===r.indexOf(e)&&r.push(e)})})}),r.map(function(e){return{type:"image",url:e}})}return[]}};function Sn(e){var t=Object.keys(I.deepAccess(e,"mediaTypes",{})),r=I.deepAccess(e,"mediaTypes.video"),n=I.deepAccess(e,"mediaTypes.video.context");return"video"===e.mediaType||1===t.length&&r&&"outstream"!==n}function _n(e){var t=I.deepAccess(e,"mediaTypes.video"),e=I.deepAccess(e,"mediaTypes.video.context");return t&&"outstream"===e}function On(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}.bind(null,e))})}function In(e){this.CONSTANTS={AD_SERVER_BASE_URL:"ice.360yield.com",END_POINT:e||"hb",AD_SERVER_URL_PARAM:"jsonp=",CLIENT_VERSION:"JS-6.3.0",MAX_URL_LENGTH:2083,ERROR_CODES:{MISSING_PLACEMENT_PARAMS:2,LIB_VERSION_MISSING:3},RETURN_OBJ_TYPE:{DEFAULT:0,URL_PARAMS_SPLIT:1}},this.getErrorReturn=function(e){return{idMappings:{},requests:{},errorCode:e}},this.createRequest=function(e,t,r){if(!t.libVersion)return this.getErrorReturn(this.CONSTANTS.ERROR_CODES.LIB_VERSION_MISSING);t.returnObjType=t.returnObjType||this.CONSTANTS.RETURN_OBJ_TYPE.DEFAULT,t.adServerBaseUrl="https://"+(t.adServerBaseUrl||this.CONSTANTS.AD_SERVER_BASE_URL);var n,o=[];if(I.isArray(e))for(var i=0;i<e.length;i++)n=this.createImpressionObject(e[i]),o.push(n);else n=this.createImpressionObject(e),o.push(n);var a=!0,s={requests:[]};(a=t.returnObjType===this.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT?!1:a)&&(s.idMappings=[]);for(var c,u=null,d="".concat(t.adServerBaseUrl,"/").concat(this.CONSTANTS.END_POINT,"?").concat(this.CONSTANTS.AD_SERVER_URL_PARAM),l={bid_request:this.createBasicBidRequestObject(t,r)},f=0;f<o.length;f++)(n=o[f]).errorCode?(u=u||[]).push({errorCode:n.errorCode,adUnitId:n.adUnitId}):(a&&s.idMappings.push({adUnitId:n.adUnitId,id:n.impressionObject.id}),l.bid_request.imp=l.bid_request.imp||[],l.bid_request.imp.push(n.impressionObject),c=!1,(d+encodeURIComponent(JSON.stringify(l))).length>this.CONSTANTS.MAX_URL_LENGTH&&(c=!0,1<l.bid_request.imp.length&&(l.bid_request.imp.pop(),a&&s.idMappings.pop(),f--)),!c&&t.singleRequestMode&&f!==o.length-1||(s.requests.push(this.formatRequest(t,l)),l={bid_request:this.createBasicBidRequestObject(t,r)}));return u&&(s.errors=u),s},this.formatRequest=function(e,t){return e.returnObjType!==this.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT?{url:"".concat(e.adServerBaseUrl,"/")+"".concat(this.CONSTANTS.END_POINT,"?").concat(this.CONSTANTS.AD_SERVER_URL_PARAM)+encodeURIComponent(JSON.stringify(t))}:{method:"GET",url:"".concat(e.adServerBaseUrl,"/").concat(this.CONSTANTS.END_POINT),data:"".concat(this.CONSTANTS.AD_SERVER_URL_PARAM).concat(encodeURIComponent(JSON.stringify(t)))}},this.createBasicBidRequestObject=function(e,t){var r={secure:1};if(e.requestId?r.id=e.requestId:r.id=I.getUniqueIdentifierStr(),e.domain&&(r.domain=e.domain),e.page&&(r.page=e.page),e.ref&&(r.ref=e.ref),e.callback&&(r.callback=e.callback),e.libVersion&&(r.version=e.libVersion+"-"+this.CONSTANTS.CLIENT_VERSION),e.referrer&&(r.referrer=e.referrer),!e.gdpr&&0!==e.gdpr||(r.gdpr=e.gdpr),e.usPrivacy&&(r.us_privacy=e.usPrivacy),e.schain&&(r.schain=e.schain),t)for(var n in t)r[n]=t[n];return r},this.createImpressionObject=function(e){var t,r={},n={};if(r.impressionObject=n,e.id?n.id=e.id:n.id=I.getUniqueIdentifierStr(),e.adTypes&&(n.ad_types=e.adTypes),e.adUnitId&&(r.adUnitId=e.adUnitId),e.currency&&(n.currency=e.currency.toUpperCase()),e.bidFloor&&(n.bidfloor=e.bidFloor),e.bidFloorCur&&(n.bidfloorcur=e.bidFloorCur.toUpperCase()),e.placementId&&(n.pid=e.placementId),e.publisherId&&(n.pubid=e.publisherId),e.placementKey&&(n.pkey=e.placementKey),e.transactionId&&(n.tid=e.transactionId),e.keyValues)for(var o in e.keyValues)for(var i=0;i<e.keyValues[o].length;i++)n.kvw=n.kvw||{},n.kvw[o]=n.kvw[o]||[],n.kvw[o].push(e.keyValues[o][i]);return n.banner={},e.size&&e.size.w&&e.size.h&&(n.banner.w=e.size.w,n.banner.h=e.size.h),e.format&&I.isArray(e.format)&&0<(t=e.format.filter(function(e){return 2===e.length&&I.isInteger(e[0])&&I.isInteger(e[1])&&0<=e[0]&&0<=e[1]}).map(function(e){return{w:e[0],h:e[1]}})).length&&(n.banner.format=t),n.pid||n.pubid||n.pkey||n.banner&&n.banner.w&&n.banner.h||(r.impressionObject=null,r.errorCode=this.CONSTANTS.ERROR_CODES.MISSING_PLACEMENT_PARAMS),r}}function En(){return(En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}(0,ct.dX)(Tt);var An={inskin:{BASE_URI:"https://mfad.inskinad.com/api/v2"}},Tt={code:"inskin",isBidRequestValid:function(e){return!(!e.params.networkId||!e.params.siteId)},buildRequests:function(e,t){var n,r={method:"POST",url:"",data:"",bidRequest:[]};if(e.length<1)return r;var o=En({placements:[],time:Date.now(),user:{},url:t.refererInfo.referer,enableBotFiltering:!0,includePricingData:!0,parallel:!0},e[0].params);o.keywords=o.keywords||[];var i,a=[];return t&&t.gdprConsent&&(o.consent={gdprVendorId:150,gdprConsentString:t.gdprConsent.consentString,gdprConsentRequired:"boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies},2===t.gdprConsent.apiVersion)&&((i=t.gdprConsent.vendorData)&&(i.purposeOneTreatment&&(o.keywords.push("cst-nodisclosure"),a.push("nodisclosure")),[{id:1,kw:"nocookies"},{id:2,kw:"nocontext"},{id:3,kw:"nodmp"},{id:4,kw:"nodata"},{id:7,kw:"noclicks"},{id:9,kw:"noresearch"}].map(function(e){!function(e,t){var r={150:{id:150,name:"Inskin Media LTD",purposes:{1:1,3:3,4:4,9:9,10:10},legIntPurposes:{2:2,7:7},flexiblePurposes:{2:2,7:7},specialPurposes:{1:1,2:2},features:{3:3},specialFeatures:{},policyUrl:"http://www.inskinmedia.com/privacy-policy.html"}};try{if(r[150].purposes[e]&&!r[150].flexiblePurposes[e]&&t.purpose.consents[e]&&t.vendor.consents[150])return 1}catch(e){}try{if(r[150].legIntPurposes[e]&&!r[150].flexiblePurposes[e]&&t.purpose.legitimateInterests[e]&&t.vendor.legitimateInterests[150])return 1}catch(e){}try{if(r[150].legIntPurposes[e]&&r[150].flexiblePurposes[e]&&(t.purpose.legitimateInterests[e]&&t.vendor.legitimateInterests[150]||t.purpose.consents[e]&&t.vendor.consents[150]))return 1}catch(e){}try{if(r[150].legIntPurposes[e]&&r[150].flexiblePurposes[e]&&t.purpose.consents[e]&&t.vendor.consents[150])return 1}catch(e){}try{if(r[150].purposes[e]&&r[150].flexiblePurposes[e]&&(t.purpose.legitimateInterests[e]&&t.vendor.legitimateInterests[150]||t.purpose.consents[e]&&t.vendor.consents[150]))return 1}catch(e){}try{if(r[150].purposes[e]&&r[150].flexiblePurposes[e]&&t.purpose.legitimateInterests[e]&&t.vendor.legitimateInterests[150])return 1}catch(e){}}(e.id,i)&&(o.keywords.push("cst-"+e.kw),a.push(e.kw))}))),e.map(function(e){var t=An[e.bidder];n=t.BASE_URI;var r,e=En({divName:e.bidId,adTypes:e.adTypes||(t=e.sizes,r=[],t.forEach(function(e){e=kn.indexOf(e[0]+"x"+e[1]);0<=e&&r.push(e)}),r),eventIds:[40,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295]},e.params);e.adTypes.push(5,9,163,2163,3006),a.length&&(e.properties=e.properties||{},e.properties.restrictions=a),e.networkId&&e.siteId&&o.placements.push(e)}),r.data=JSON.stringify(o),r.bidRequest=e,r.url=n,r},interpretResponse:function(n,e){var t,r=[],o={},i=e.bidRequest;n=(n||{}).body;for(var a=0;a<i.length;a++){var s,c,u,d={},l=(t=i[a]).bidId;o[l]=t,n&&(c=(u=(s=n.decisions&&n.decisions[l])&&s.contents&&s.contents[0]&&s.contents[0].data)&&u.customData&&u.customData.pubCPM,u=s&&s.pricing&&s.pricing.clearPrice,u=c||u,s&&u&&(s.impressionUrl+="&property:pubcpm="+u,t.price=u,d.requestId=l,d.cpm=u,d.width=s.width,d.height=s.height,d.ad="<script>window.top.postMessage({from: 'ism-bid', bidId: '"+l+"'}, '*');<\/script>"+I.createTrackPixelHtml(s.impressionUrl),d.currency="USD",d.creativeId=s.adId,d.ttl=360,d.netRevenue=!0,r.push(d)))}return r.length&&window.addEventListener("message",function(e){var t,r;e.data&&"ism-bid"===e.data.from&&n.decisions&&n.decisions[e.data.bidId]&&(t="ism_tag_"+Math.floor(1e17*Math.random()),window[t]={plr_AdSlot:e.source.frameElement,bidId:e.data.bidId,bidPrice:o[e.data.bidId].price,serverResponse:n},(r=document.createElement("script")).src="https://cdn.inskinad.com/isfe/publishercode/"+o[e.data.bidId].params.siteId+"/default.js?autoload&id="+t,document.getElementsByTagName("head")[0].appendChild(r))}),r},getUserSyncs:function(e){var t=[];return e.pixelEnabled&&(t.push({type:"image",url:"https://e.serverbid.com/udb/9969/match?redir=https%3A%2F%2Fmfad.inskinad.com%2Fudb%2F9874%2Fpool%2Fset%2Fi.gif%3FpoolId%3D9969%26poolKey%3D"}),t.push({type:"image",url:"https://ssum.casalemedia.com/usermatchredir?s=185638&cb=https%3A%2F%2Fmfad.inskinad.com%2Fudb%2F9874%2Fsync%2Fi.gif%3FpartnerId%3D1%26userId%3D"})),e.iframeEnabled&&t.push({type:"iframe",url:"https://ssum-sec.casalemedia.com/usermatch?s=184665&cb=https%3A%2F%2Fmfad.inskinad.com%2Fudb%2F9874%2Fsync%2Fi.gif%3FpartnerId%3D1%26userId%3D"}),t}},kn=[null,"120x90","120x90","468x60","728x90","300x250","160x600","120x600","300x100","180x150","336x280","240x400","234x60","88x31","120x60","120x240","125x125","220x250","250x250","250x90","0x0","200x90","300x50","320x50","320x480","185x185","620x45","300x125","800x250"];kn[77]="970x90",kn[123]="970x250",kn[43]="300x600",(0,ct.dX)(Tt);var Tt=r(2320),xn=r.n(Tt);function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var jn=[w.Mk,w.pX],Tn={JPY:1};function Cn(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid="".concat(e.params.size[0],"x").concat(e.params.size[1]):t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&e.params.hasOwnProperty("bidFloorCur")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur),t}function Rn(e){return Array.isArray(e)&&2===e.length&&xn()(e[0])&&xn()(e[1])}function Dn(e,t){if(Rn(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return 1}function Un(e,t,r,n){var o,i,a=[],s={},c=e[0].userId;if(c&&"object"===Pn(c)&&c.idl_env&&(o=a,i=s,(l=c.idl_env)?(i.LiveRampIp=1,o.push({source:"liveramp.com",uids:[{id:l,ext:{rtiPartner:"idl"}}]})):I.logWarn("Tried to add a user ID from Prebid, the ID received was null")),window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var u=window.headertag.getIdentityInfo();if(u&&"object"===Pn(u))for(var d in u)!u.hasOwnProperty(d)||s.hasOwnProperty(d)||!(d=u[d]).responsePending&&d.data&&"object"===Pn(d.data)&&Object.keys(d.data).length&&a.push(d.data)}var l={};l.id=e[0].bidderRequestId,l.imp=r,l.site={},l.ext={},l.ext.source="prebid",e[0].schain&&(l.source={ext:{schain:e[0].schain}}),0<a.length&&(l.user={},l.user.eids=a),document.referrer&&""!==document.referrer&&(l.site.ref=document.referrer),t&&(t.gdprConsent&&((f=t.gdprConsent).hasOwnProperty("gdprApplies")&&(l.regs={ext:{gdpr:f.gdprApplies?1:0}}),f.hasOwnProperty("consentString")&&(l.user=l.user||{},l.user.ext={consent:f.consentString||""})),t.uspConsent&&I.deepSetValue(l,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(l.site.page=t.refererInfo.referer));var f={},t=t&&t.bidderCode||"ix",t=A.vc.getConfig(t);if(t){if("object"===Pn(t.firstPartyData)){var p,g=t.firstPartyData,m="?";for(p in g)g.hasOwnProperty(p)&&(m+="".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(g[p]),"&"));m=m.slice(0,-1),l.site.page+=m}"number"==typeof t.timeout&&(f.t=t.timeout)}return f.s=e[0].params.siteId,f.v=n,f.r=JSON.stringify(l),f.ac="j",f.sd=1,8.1===n&&(f.nf=1),{method:"GET",url:"https://htlb.casalemedia.com/cygnus",data:f}}function Mn(e,t){for(var r=0;r<e.length;r++)if(t[0]==e[r][0]&&t[1]==e[r][1])return e.splice(r,1),1}Tt={code:"ix",gvlid:10,supportedMediaTypes:jn,isBidRequestValid:function(e){if(!Rn(e.params.size))return I.logError("ix bidder params: bid size has invalid format."),!1;if(!Dn(e.sizes,e.params.size))return I.logError("ix bidder params: bid size is not included in ad unit sizes."),!1;if(e.hasOwnProperty("mediaType")&&!I.contains(jn,e.mediaType))return!1;if(e.hasOwnProperty("mediaTypes")&&!I.deepAccess(e,"mediaTypes.banner.sizes")&&!I.deepAccess(e,"mediaTypes.video.playerSize"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return I.logError("ix bidder params: siteId must be string or number value."),!1;var t=e.params.hasOwnProperty("bidFloor"),r=e.params.hasOwnProperty("bidFloorCur");return!!(!t&&!r||t&&r&&(r=e.params.bidFloor,e=e.params.bidFloorCur,Boolean("number"==typeof r&&"string"==typeof e&&e.match(/^[A-Z]{3}$/))))||(I.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var r,n,o,i,a,s,c,u,d=[],l=[],f=[],p={},g=0;g<e.length;g++)(r=e[g]).mediaType!==w.pX&&!I.deepAccess(r,"mediaTypes.video")||(r.mediaType===w.pX||Dn(r.mediaTypes.video.playerSize,r.params.size)?f.push((s=void 0,(s=Cn(a=r)).video=I.deepClone(a.params.video),s.video.w=a.params.size[0],s.video.h=a.params.size[1],(a=I.deepAccess(a,"mediaTypes.video.context"))&&("instream"===a?s.video.placement=1:"outstream"===a?s.video.placement=4:I.logWarn("ix bidder params: video context '".concat(a,"' is not supported"))),s)):I.logError("Bid size is not included in video playerSize")),r.mediaType!==w.Mk&&!I.deepAccess(r,"mediaTypes.banner")&&(r.mediaType||r.mediaTypes)||(i=void 0,(i=Cn(o=r)).banner={},i.banner.w=o.params.size[0],i.banner.h=o.params.size[1],i.banner.topframe=I.inIframe()?0:1,l.push(n=i),a=p,s=n,i=o=void 0,i=(n=r).transactionId,a.hasOwnProperty(i)?(o=[],Mn(o=a[i].hasOwnProperty("missingSizes")?a[i].missingSizes:o,n.params.size),a[i].missingSizes=o):I.deepAccess(n,"mediaTypes.banner.sizes")&&(Mn(o=I.deepClone(n.mediaTypes.banner.sizes),n.params.size),a[i]={missingSizes:o,impression:s}));for(c in p)if(p.hasOwnProperty(c))for(var m=p[c].missingSizes,y=0;y<m.length;y++){var h=(h=p[c].impression,u=m[y],(h=I.deepClone(h)).ext.sid="".concat(u[0],"x").concat(u[1]),h.banner.w=u[0],h.banner.h=u[1],h);l.push(h)}return 0<l.length&&d.push(Un(e,t,l,7.2)),0<f.length&&d.push(Un(e,t,f,8.1)),d},interpretResponse:function(e,t){var r=[];if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return r;for(var n,o,i,a=e.body,s=a.seatbid,c=0;c<s.length;c++)if(s[c].hasOwnProperty("bid"))for(var u=s[c].bid,d=JSON.parse(t.data.r),l=0;l<u.length;l++){var f=function(t,e){if(t)return k()(e,function(e){return e.id===t})}(u[l].impid,d.imp);n=u[l],o=a.cur,i=f,f={},Tn.hasOwnProperty(o)?f.cpm=n.price/Tn[o]:f.cpm=n.price/100,f.requestId=n.impid,f.dealId=I.deepAccess(n,"ext.dealid"),f.netRevenue=!0,f.currency=o,f.creativeId=n.hasOwnProperty("crid")?n.crid:"-",I.deepAccess(n,"ext.vasturl")?(f.vastUrl=n.ext.vasturl,f.width=i.video.w,f.height=i.video.h,f.mediaType=w.pX,f.ttl=3600):(f.ad=n.adm,f.width=n.w,f.height=n.h,f.mediaType=w.Mk,f.ttl=300),f.meta={},f.meta.networkId=I.deepAccess(n,"ext.dspid"),f.meta.brandId=I.deepAccess(n,"ext.advbrandid"),f.meta.brandName=I.deepAccess(n,"ext.advbrand"),n.adomain&&0<n.adomain.length&&(f.meta.advertiserDomains=n.adomain),r.push(f)}return r},transformBidParams:function(e,t){return I.convertTypes({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};(0,ct.dX)(Tt);var Bn=[],Nn={code:"justpremium",time:6e4,isBidRequestValid:function(e){return!!(e&&e.params&&e.params.zone)},buildRequests:function(e,t){var i,a,r=(i={},a={},e.forEach(function(e){var t=e.params,n=t.zone;if(1!==i[n]){var o=t.allow||t.formats||[],e=t.exclude||[];if(0===o.length&&0===e.length)return i[t.zone]=1;i[n]=i[n]||[[],{}],i[n][0]=function(){for(var e=i[n][0].concat(o).concat(),t=0;t<e.length;++t)for(var r=t+1;r<e.length;++r)e[t]===e[r]&&e.splice(r--,1);return e}(),e.forEach(function(e){i[n][1][e]?i[n][1][e]++:i[n][1][e]=1}),a[n]=a[n]||0,e.length&&a[n]++}}),Object.keys(a).forEach(function(t){var r;1!==i[t]&&(r=[],Object.keys(i[t][1]).forEach(function(e){i[t][1][e]===a[t]&&r.push(e)}),i[t][1]=r)}),Object.keys(i).forEach(function(t){1!==i[t]&&i[t][1].length&&(i[t][0].forEach(function(e){e=i[t][1].indexOf(e);-1<e&&i[t][1].splice(e,1)}),i[t][0].length=0),1===i[t]||i[t][0].length||i[t][1].length||(i[t]=1)}),i),n=function(){var t;try{t=window.top}catch(e){t=window}return{screenWidth:t.screen.width,screenHeight:t.screen.height,innerWidth:t.innerWidth,innerHeight:t.innerHeight}}(),o={zone:e.map(function(e){return parseInt(e.params.zone)}).filter(function(e,t,r){return r.indexOf(e)===t}),referer:t.refererInfo.referer,sw:n.screenWidth,sh:n.screenHeight,ww:n.innerWidth,wh:n.innerHeight,c:r,id:e[0].params.zone,sizes:{}};e.forEach(function(e){var t=e.params.zone,r=o.sizes;r[t]=r[t]||[],r[t].push.apply(r[t],e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes)}),(0,I.deepAccess)(e[0],"userId.pubcid")?o.pubcid=(0,I.deepAccess)(e[0],"userId.pubcid"):(0,I.deepAccess)(e[0],"crumbs.pubcid")&&(o.pubcid=(0,I.deepAccess)(e[0],"crumbs.pubcid")),o.uids=e[0].userId,t&&t.gdprConsent&&(o.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:"boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(o.us_privacy=t.uspConsent),o.version={prebid:"4.13.0-mol-1",jp_adapter:"1.7"};t=JSON.stringify(o);return{method:"POST",url:"https://pre.ads.justpremium.com/v/2.0/t/xhr?i="+ +new Date,data:t,bids:e}},interpretResponse:function(e,t){var n=e.body,o=[];return t.bids.forEach(function(e){var t,r=function(e,t){var r=e.zone;if(t[r])for(var n=t[r].length;n--;)if(function(e,t){t=t.format;return e.allow&&e.allow.length?-1<e.allow.indexOf(t):!e.exclude||!e.exclude.length||e.exclude.indexOf(t)<0}(e,t[r][n]))return t[r].splice(n,1).pop();return!1}(e.params,n.bid);r&&(t=e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&e.mediaTypes.banner.sizes.length&&e.mediaTypes.banner.sizes[0]||[],r={requestId:e.bidId,creativeId:r.id,width:t[0]||r.width,height:t[1]||r.height,ad:r.adm,cpm:r.price,netRevenue:!0,currency:r.currency||"USD",ttl:r.ttl||Nn.time,format:r.format},o.push(r))}),o},getUserSyncs:function(e,t,r,n){var o="https://pre.ads.justpremium.com/v/1.0/t/sync?_c=a"+Math.random().toString(36).substring(7)+Date.now();return r&&"boolean"==typeof r.gdprApplies&&r.gdprApplies&&r.consentString&&(o=o+"&consentString="+encodeURIComponent(r.consentString)),n&&(o=o+"&usPrivacy="+encodeURIComponent(n)),e.iframeEnabled&&Bn.push({type:"iframe",url:o}),Bn}};function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}(0,ct.dX)(Nn);var qn,zn,Vn,Fn=(0,Ue.df)(),Wn={code:"kargo",isBidRequestValid:function(e){return!(!e||!e.params||!e.params.placementId)},buildRequests:function(e,t){var r=A.vc.getConfig("currency"),r=r&&r.adServerCurrency||"USD",n={},o={};I._each(e,function(e){n[e.bidId]=e.params.placementId,o[e.bidId]=e.sizes}),0<e.length&&e[0].userId&&e[0].userId.tdid&&(i=e[0].userId.tdid);var i=Ln({},{sessionId:Wn._getSessionId(),requestCount:Wn._getRequestCount(),timeout:t.timeout,currency:r,cpmGranularity:1,timestamp:(new Date).getTime(),cpmRange:{floor:0,ceil:20},bidIDs:n,bidSizes:o,prebidRawBidRequests:e},Wn._getAllMetadata(i,t.uspConsent)),i=encodeURIComponent(JSON.stringify(i));return Ln({},t,{method:"GET",url:"".concat("https://krk.kargo.com","/api/v2/bid"),data:"json=".concat(i),currency:r})},interpretResponse:function(e,t){var r,n=e.body,o=[];for(r in n){var i=n[r],a=void 0;i.metadata&&i.metadata.landingPageDomain&&(a={clickUrl:i.metadata.landingPageDomain,advertiserDomains:[i.metadata.landingPageDomain]}),o.push({requestId:r,cpm:Number(i.cpm),width:i.width,height:i.height,ad:i.adm,ttl:300,creativeId:i.id,dealId:i.targetingCustom,netRevenue:!0,currency:t.currency,meta:a})}return o},getUserSyncs:function(e){var t=[],r=Wn._generateRandomUuid(),n=Wn._getClientId();if(e.iframeEnabled&&r&&n)for(var o=0;o<5;o++)t.push({type:"iframe",url:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}".replace("{UUID}",n).replace("{SEED}",r).replace("{INDEX}",o)});return t},_readCookie:function(e){if(!Fn.cookiesAreEnabled())return null;for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},_getCrbFromCookie:function(){try{var e=JSON.parse(decodeURIComponent(Wn._readCookie("krg_crb")));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}},_getCrbFromLocalStorage:function(){try{return JSON.parse(atob(Wn._getLocalStorageSafely("krg_crb")))}catch(e){return{}}},_getCrb:function(){var e=Wn._getCrbFromLocalStorage();return Object.keys(e).length?e:Wn._getCrbFromCookie()},_getKruxUserId:function(){return Wn._getLocalStorageSafely("kxkar_user")},_getKruxSegments:function(){return Wn._getLocalStorageSafely("kxkar_segs")},_getKrux:function(){var e=Wn._getKruxSegments(),t=[];return e&&(t=e.split(",")),{userID:Wn._getKruxUserId(),segments:t}},_getLocalStorageSafely:function(e){try{return Fn.getDataFromLocalStorage(e)}catch(e){return null}},_getUserIds:function(e,t){var r=Wn._getCrb(),t={kargoID:r.userId,clientID:r.clientId,crbIDs:r.syncIds||{},optOut:r.optOut,usp:t};return e&&(t.tdID=e),t},_getClientId:function(){return Wn._getCrb().clientId},_getAllMetadata:function(e,t){return{userIDs:Wn._getUserIds(e,t),krux:Wn._getKrux(),pageURL:window.location.href,rawCRB:Wn._readCookie("krg_crb"),rawCRBLocalStorage:Wn._getLocalStorageSafely("krg_crb")}},_getSessionId:function(){return qn=qn||Wn._generateRandomUuid()},_getRequestCount:function(){return zn===window.location.pathname?++Vn:(zn=window.location.pathname,Vn=0)},_generateRandomUuid:function(){try{var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;var t=Array.prototype.map.call(new Uint8Array(e),function(e){return("00"+e.toString(16)).slice(-2)}).join("");return t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20)}catch(e){return""}}};function Gn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(0,ct.dX)(Wn);var Kn=r(8510),$n=r(4753),Tt=p.EVENTS,Yn=Tt.AUCTION_INIT,Jn=Tt.AUCTION_END,Xn=Tt.REQUEST_BIDS,Zn=Tt.BID_REQUESTED,Qn=Tt.BID_TIMEOUT,eo=Tt.BID_RESPONSE,to=Tt.NO_BID,ro=Tt.BID_WON,no=Tt.BID_ADJUSTMENT,oo=Tt.BIDDER_DONE,io=Tt.SET_TARGETING,ao=Tt.AD_RENDER_FAILED,so=Tt.AUCTION_DEBUG,co=Tt.ADD_AD_UNITS;function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fo,po,go,mo,yo,ho,vo,bo=(lo(Tt={},p.EVENTS.AUCTION_INIT,Oo),lo(Tt,p.EVENTS.AUCTION_END,Oo),lo(Tt,p.EVENTS.BID_REQUESTED,function(e){return{bidderCode:e.bidderCode,time:e.start,bids:e.bids.map(function(e){return{transactionId:e.transactionId,adUnitCode:e.adUnitCode,bidId:e.bidId,startTime:e.startTime,sizes:I.parseSizesInput(e.sizes).toString(),params:e.params}})}}),lo(Tt,p.EVENTS.BID_TIMEOUT,function(e){return e.map(function(e){return e.bidder}).filter(I.uniques)}),lo(Tt,p.EVENTS.BID_RESPONSE,function(e){return{bidderCode:e.bidder,transactionId:e.transactionId,adUnitCode:e.adUnitCode,statusMessage:e.statusMessage,mediaType:e.mediaType,renderedSize:e.size,cpm:e.cpm,currency:e.currency,netRevenue:e.netRevenue,timeToRespond:e.timeToRespond,bidId:e.bidId,requestId:e.requestId,creativeId:e.creativeId}}),lo(Tt,p.EVENTS.BID_WON,function(e){return{adId:e.adId,bidderCode:e.bidder,adUnitCode:e.adUnitCode,statusMessage:e.statusMessage,mediaType:e.mediaType,renderedSize:e.size,cpm:e.cpm,currency:e.currency,netRevenue:e.netRevenue,timeToRespond:e.timeToRespond,bidId:e.requestId,dealId:e.dealId,status:e.status,creativeId:e.creativeId}}),lo(Tt,p.EVENTS.NO_BID,function(e){return{bidderCode:e.bidder,transactionId:e.transactionId,adUnitCode:e.adUnitCode,bidId:e.bidId}}),Tt),wo=uo((po=(Tt={analyticsType:"endpoint"}).url,go=Tt.analyticsType,mo=Tt.global,yo=Tt.handler,ho=[],vo=0,function(){for(var e=0;e<ho.length;e++)ho[e]();ho.push=function(e){e()},$n.logMessage("event count sent to ".concat(mo,": ").concat(vo))}(),{track:function(e){var t=e.eventType,e=e.args;"bundle"===this.getAdapterType()&&window[mo](yo,t,e),"endpoint"===this.getAdapterType()&&function(e){var t=e.eventType,r=e.args,e=e.callback;(0,l.h)(po,e,JSON.stringify({eventType:t,args:r}))}.apply(void 0,arguments)},enqueue:So,enableAnalytics:_o,disableAnalytics:function(){$n._each(fo,function(e,t){Kn.off(t,e)}),this.enableAnalytics=this._oldEnable||_o},getAdapterType:function(){return go},getGlobal:function(){return mo},getHandler:function(){return yo},getUrl:function(){return po}}),{track:function(e){var t,r=e.eventType,e=e.args;p.EVENTS.AUCTION_INIT===r&&wo.context.aggregatedEvents.splice(0),bo[r]&&wo.context.aggregatedEvents.push({eventType:r,data:bo[r](e)}),r===p.EVENTS.AUCTION_END&&(!wo.context.aggregatedEvents.filter(function(e){return e.eventType===p.EVENTS.BID_WON})[0]&&ge.getWinningBids()[0]&&(t=bo[p.EVENTS.BID_WON](ge.getWinningBids()[0]),wo.context.aggregatedEvents.push({eventType:p.EVENTS.BID_WON,data:t})),function(e){var t=e.host,r=e.method,n=e.payload,e={protocol:"https",hostname:void 0===t?"tracker.konduit.me":t,pathname:e.path};"GET"===r&&(e.search=n);var o,e=((e=e).protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat((o=e.search||"",Object.keys(o).map(function(t){return Array.isArray(o[t])?o[t].map(function(e){return"".concat(t,"[]=").concat(e)}).join("&"):"".concat(t,"=").concat(o[t])}).join("&"))):"")+(e.hash?"#".concat(e.hash):"");(0,l.h)(e,void 0,"POST"===r?JSON.stringify(n):null,{contentType:"application/json",method:r,withCredentials:!0})}({method:"POST",path:"/analytics-initial-event",payload:{konduitId:A.vc.getConfig("konduit.konduitId"),prebidVersion:"4.13.0-mol-1",konduitPrebidModuleVersion:"1.0.0",environment:{screen:{width:(t=window.screen).width,height:t.height},language:navigator.language},events:wo.context.aggregatedEvents}}))}});function So(e){var t=e.eventType,r=e.args,n=this;mo&&window[mo]&&t&&r?this.track({eventType:t,args:r}):ho.push(function(){vo++,n.track({eventType:t,args:r})})}function _o(t){var e,r=this,n=this;"object"!==Hn(t)||"object"!==Hn(t.options)||void 0===t.options.sampling||Math.random()<parseFloat(t.options.sampling)?(Kn.getEvents().forEach(function(e){var t;e&&(t=e.eventType,e=e.args,t!==Qn&&So.call(n,{eventType:t,args:e}))}),Gn(e={},Xn,function(e){return r.enqueue({eventType:Xn,args:e})}),Gn(e,Zn,function(e){return r.enqueue({eventType:Zn,args:e})}),Gn(e,eo,function(e){return r.enqueue({eventType:eo,args:e})}),Gn(e,to,function(e){return r.enqueue({eventType:to,args:e})}),Gn(e,Qn,function(e){return r.enqueue({eventType:Qn,args:e})}),Gn(e,ro,function(e){return r.enqueue({eventType:ro,args:e})}),Gn(e,no,function(e){return r.enqueue({eventType:no,args:e})}),Gn(e,oo,function(e){return r.enqueue({eventType:oo,args:e})}),Gn(e,io,function(e){return r.enqueue({eventType:io,args:e})}),Gn(e,Jn,function(e){return r.enqueue({eventType:Jn,args:e})}),Gn(e,ao,function(e){return r.enqueue({eventType:ao,args:e})}),Gn(e,so,function(e){return r.enqueue({eventType:so,args:e})}),Gn(e,co,function(e){return r.enqueue({eventType:co,args:e})}),Gn(e,Yn,function(e){e.config="object"===Hn(t)&&t.options||{},r.enqueue({eventType:Yn,args:e})}),fo=e,$n._each(fo,function(e,t){Kn.on(t,e)})):$n.logMessage('Analytics adapter for "'.concat(mo,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return $n.logMessage('Analytics adapter for "'.concat(mo,'" already enabled, unnecessary call to `enableAnalytics`.'))}}function Oo(e){return{auctionId:e.auctionId,timestamp:e.timestamp,auctionEnd:e.auctionEnd,auctionStatus:e.auctionStatus,adUnitCodes:e.adUnitCodes,labels:e.labels,timeout:e.timeout}}wo.originEnableAnalytics=wo.enableAnalytics,wo.enableAnalytics=function(e){A.vc.getConfig("konduit.konduitId")?(wo.context={aggregatedEvents:[]},wo.originEnableAnalytics(e)):I.logError("A konduitId in config is required to use konduitAnalyticsAdapter")},ir.ZP.registerAnalyticsAdapter({adapter:wo,code:"konduit"});var Io=a();function Eo(e){return function(e){if(Array.isArray(e))return Ao(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return Ao(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ao(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ko,xo,Po="enableSendAllBids",jo="A konduitId param is required to be in configs",To="No bids received in the auction";function Co(e){return(e=[].slice.call(e)).unshift("".concat("Konduit",": ")),e}function Ro(){I.logError.apply(I,Eo(Co(arguments)))}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}ko="konduit",xo={processBids:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=A.vc.getConfig("konduit.konduitId"),n=n||{};if(!o)return Ro(jo),n.callback&&n.callback(new Error(jo),[]),null;var e=n.bids||S.getBidsReceived(),c=n.bid||ge.getWinningBids(n.adUnitCode,e)[0],i=[];if(A.vc.getConfig(Po)?i.push.apply(i,Eo(e)):c&&i.push(c),!i.length)return Ro(To),n.callback&&n.callback(new Error(To),[]),null;var u=A.vc.getConfig("priceGranularity"),a=[];i.forEach(function(e){var t,r,n;r=c,n=u,(t=e).kCpm=t.cpm,t.adserverTargeting||(t.adserverTargeting={}),n=f(n)(t),A.vc.getConfig(Po)&&(t.adserverTargeting["k_cpm_".concat(t.bidderCode)]=n),r.bidderCode===t.bidderCode&&r.creativeId===t.creativeId&&(t.adserverTargeting.k_cpm=n),a.push({auctionId:e.auctionId,vastUrl:e.vastUrl,bidderCode:e.bidderCode,creativeId:e.creativeId,adUnitCode:e.adUnitCode,cpm:e.cpm,currency:e.currency})}),function(e){var t=e.host,r=e.protocol,n=void 0===(a=e.method)?"GET":a,o=e.path,i=e.payload,a=e.callbacks,e=e.timeout,o={protocol:void 0===r?"https":r,hostname:void 0===t?"p.konduit.me":t,pathname:o};"GET"===n&&(o.search=i);var s,o=((o=o).protocol||"http")+"://"+(o.host||o.hostname+(o.port?":".concat(o.port):""))+(o.pathname||"")+(o.search?"?".concat((s=o.search||"",Object.keys(s).map(function(t){return Array.isArray(s[t])?s[t].map(function(e){return"".concat(t,"[]=").concat(e)}).join("&"):"".concat(t,"=").concat(s[t])}).join("&"))):"")+(o.hash?"#".concat(o.hash):"");(0,l.O)(e)(o,a,"POST"===n?JSON.stringify(i):null,{contentType:"application/json",method:n,withCredentials:!0})}({method:"POST",path:"/api/bidsProcessor",timeout:n.timeout||1e3,payload:{clientId:o,konduitPrebidModuleVersion:"1.0.0",enableSendAllBids:A.vc.getConfig(Po),bids:a,bidResponsesCount:S.getBidsReceived().length},callbacks:{success:function(e){var t=null;!function(){I.logInfo.apply(I,Eo(Co(arguments)))}("Bids processed successfully ",e);try{var r=JSON.parse(e),a=r.kCpmData,s=r.cacheData;if(I.isEmpty(s))throw new Error("A bid was not cached");c.adserverTargeting.konduit_id=o,c.adserverTargeting.k_id=o,i.forEach(function(e){var t,r,n,o,i="".concat(e.bidderCode,":").concat(e.creativeId);t=a[i],r=e,n=c,o=u,I.isNumber(t)&&(r.kCpm=t,t=(t=(0,E.D)(t,A.vc.getConfig("customPriceBucket"),A.vc.getConfig("currency.granularityMultiplier"))).custom||t[o]||t.med,A.vc.getConfig(Po)&&(r.adserverTargeting["k_cpm_".concat(r.bidderCode)]=t),n.bidderCode===r.bidderCode&&n.creativeId===r.creativeId&&(r.adserverTargeting.k_cpm=t)),t=s[i],i=e,e=c,I.isStr(t)&&(i.konduitCacheKey=t,A.vc.getConfig(Po)&&(i.adserverTargeting["k_cache_key_".concat(i.bidderCode)]=t),e.bidderCode===i.bidderCode&&e.creativeId===i.creativeId&&(i.adserverTargeting.k_cache_key=t,i.adserverTargeting.konduit_cache_key=t))})}catch(e){t=e,Ro("Error parsing JSON response for bidsProcessor data: ",e)}n.callback&&n.callback(t,i)},error:function(e){Ro("Bids were not processed successfully ",e),n.callback&&n.callback(I.isStr(e)?new Error(e):e,i)}}})}},Io.adServers=Io.adServers||{},Io.adServers[ko]=Io.adServers[ko]||{},Object.keys(xo).forEach(function(e){Io.adServers[ko][e]?(0,I.logWarn)("Attempting to add an already registered function property ".concat(e," for AdServer ").concat(ko,".")):Io.adServers[ko][e]=xo[e]});var Uo={code:"oneVideo",VERSION:"3.0.4",ENDPOINT:"https://ads.adaptv.advertising.com/rtb/openrtb?ext_id=",E2ETESTENDPOINT:"https://ads-wc.v.ssp.yahoo.com/rtb/openrtb?ext_id=",SYNC_ENDPOINT1:"https://pixel.advertising.com/ups/57304/sync?gdpr=&gdpr_consent=&_origin=0&redir=true",SYNC_ENDPOINT2:"https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1",supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){if("oneVideo"!==e.bidder||void 0===e.params)return!1;if(void 0===e.params.video||void 0===e.params.video.playerWidth||void 0===e.params.video.playerHeight||void 0===e.params.video.mimes)return!1;if(e.mediaTypes.video){if("outstream"===e.mediaTypes.video.context&&1===e.params.video.display)return!1}else if(e.mediaTypes.banner&&!e.params.video.display)return!1;return void 0!==e.params.pubId},buildRequests:function(e,a){var s=a?a.gdprConsent:null;return e.map(function(e){var t,r,n,o=Uo.ENDPOINT,i=e.params.pubId;return e.params.video.e2etest&&(o=Uo.E2ETESTENDPOINT,i="HBExchange"),{method:"POST",url:o+i,data:(t=e,r=s,o=(n=a).refererInfo.referer,i=t.params.site&&t.params.site.page?t.params.site.page:o.href,o=t.params.site&&t.params.site.referrer?t.params.site.referrer:n.refererInfo.referer,o={id:I.generateUUID(),at:2,cur:t.cur||"USD",imp:[{id:"1",secure:"https:"===document.location.protocol,bidfloor:t.params.bidfloor,ext:{hb:1,prebidver:"4.13.0-mol-1",adapterver:Uo.VERSION}}],site:{page:i,ref:o},device:{ua:navigator.userAgent},tmax:200},null==t.params.video.display||1!=t.params.video.display?(o.imp[0].video={mimes:t.params.video.mimes,w:t.params.video.playerWidth,h:t.params.video.playerHeight,pos:t.params.video.position},t.params.video.maxbitrate&&(o.imp[0].video.maxbitrate=t.params.video.maxbitrate),t.params.video.maxduration&&(o.imp[0].video.maxduration=t.params.video.maxduration),t.params.video.minduration&&(o.imp[0].video.minduration=t.params.video.minduration),t.params.video.api&&(o.imp[0].video.api=t.params.video.api),t.params.video.delivery&&(o.imp[0].video.delivery=t.params.video.delivery),t.params.video.position&&(o.imp[0].video.pos=t.params.video.position),t.params.video.playbackmethod&&(o.imp[0].video.playbackmethod=t.params.video.playbackmethod),t.params.video.placement&&(o.imp[0].video.placement=t.params.video.placement),t.params.video.rewarded&&(o.imp[0].ext.rewarded=t.params.video.rewarded),o.imp[0].video.linearity=1,o.imp[0].video.protocols=t.params.video.protocols||[2,5]):1==t.params.video.display&&(o.imp[0].banner={mimes:t.params.video.mimes,w:t.params.video.playerWidth,h:t.params.video.playerHeight,pos:t.params.video.position},t.params.video.placement&&(o.imp[0].banner.placement=t.params.video.placement),t.params.video.maxduration&&(o.imp[0].banner.ext=o.imp[0].banner.ext||{},o.imp[0].banner.ext.maxduration=t.params.video.maxduration),t.params.video.minduration&&(o.imp[0].banner.ext=o.imp[0].banner.ext||{},o.imp[0].banner.ext.minduration=t.params.video.minduration)),t.params.video.inventoryid&&(o.imp[0].ext.inventoryid=t.params.video.inventoryid),t.params.video.sid?(o.source={ext:{schain:{complete:1,nodes:[{sid:t.params.video.sid,rid:o.id}]}}},1==t.params.video.hp&&(o.source.ext.schain.nodes[0].hp=t.params.video.hp)):t.schain&&(o.source={ext:{schain:t.schain}},o.source.ext.schain.nodes[0].rid=o.id),t.params.site&&t.params.site.id&&(o.site.id=t.params.site.id),(Mo(r)||n&&n.uspConsent)&&(o.regs={ext:{}},Mo(r)&&(o.regs.ext.gdpr=1),r&&r.consentString&&(o.user={ext:{consent:r.consentString}}),n&&n.uspConsent&&(o.regs.ext.us_privacy=n.uspConsent)),t.params.video.e2etest&&(o.imp[0].bidfloor=null,o.imp[0].video.w=300,o.imp[0].video.h=250,o.imp[0].video.mimes=["video/mp4","application/javascript"],o.imp[0].video.api=[2],o.site.page="https://verizonmedia.com",o.site.ref="https://verizonmedia.com",o.tmax=1e3),o),bidRequest:e}})},interpretResponse:function(e,t){var r,n,o,i=t.bidRequest;try{r=(e=e.body).seatbid[0].bid[0]}catch(t){e=null}return e&&r&&(r.adm||r.nurl)&&r.price?(n=i.sizes,o=I.parseSizesInput(n),n=(o=function(e){if(Array.isArray(e))return e}(n=o.length?o[0].split("x"):[])||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(n)||function(e){if(e){if("string"==typeof e)return Do(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Do(e,2):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],o=o[1],o={width:parseInt(n,10)||void 0,height:parseInt(o,10)||void 0},(e={requestId:i.bidId,bidderCode:Uo.code,cpm:r.price,adId:r.adid,creativeId:r.crid,width:o.width,height:o.height,currency:e.cur,ttl:100,netRevenue:!0,adUnitCode:i.adUnitCode}).mediaType=i.mediaTypes.banner?"banner":"video",r.nurl?e.vastUrl=r.nurl:r.adm&&1===i.params.video.display?e.ad=r.adm:r.adm&&(e.vastXml=r.adm),i.mediaTypes.video&&(e.renderer="outstream"===i.mediaTypes.video.context?void((i=i).renderer||(i.renderer={},i.renderer.url="https://cdn.vidible.tv/prod/hb-outstream-renderer/renderer.js",i.renderer.render=function(e){setTimeout(function(){o2PlayerRender(e)},700)})):void 0),e):(I.logWarn("No valid bids from ".concat(Uo.code," bidder")),[])},getUserSyncs:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=r.gdprApplies,r=r.consentString,r=void 0===r?"":r;if(e.pixelEnabled)return[{type:"image",url:Uo.SYNC_ENDPOINT1},{type:"image",url:"https://sync-tm.everesttech.net/upi/pid/m7y5t93k?gdpr=".concat(n?1:0,"&gdpr_consent=").concat(r,"&redir=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55986%2Fsync%3Fuid%3D%24%7BUSER_ID%7D%26_origin%3D0")+encodeURI("&gdpr=".concat(n?1:0,"&gdpr_consent=").concat(r))},{type:"image",url:Uo.SYNC_ENDPOINT2}]}};function Mo(e){return e&&e.gdprApplies}function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ct.dX)(Uo);var Tt=[w.Mk,w.pX],No={britepoolid:"britepoolid",criteoId:"criteoid",digitrustid:"digitrustid",id5id:"id5id",idl_env:"lre",lipb:"lipbid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",tdid:"ttduuid"},Tt={code:"openx",gvlid:69,supportedMediaTypes:Tt,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return I.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<I.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,c){if(0===e.length)return[];var u=[],e=function(e){if(Array.isArray(e))return e}(t=e.reduce(function(e,t){var r=t;return(I.deepAccess(r,"mediaTypes.video")&&!I.deepAccess(r,"mediaTypes.banner")||r.mediaType===w.pX?e[0]:e[1]).push(t),e},[[],[]]))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(t)||function(e){if(e){if("string"==typeof e)return Bo(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Bo(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=e[0],e=e[1];return 0<e.length&&u.push(function(e){var t=[],n=!1,r=Lo(e,c),o=I._map(e,function(e){return e.params.unit});r.aus=I._map(e,function(e){return I.parseSizesInput(e.mediaTypes.banner.sizes).join(",")}).join("|"),r.divIds=I._map(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),o.some(function(e){return e})&&(r.auid=o.join(",")),e.some(function(e){return e.params.doNotTrack})&&(r.ns=1),!0!==A.vc.getConfig("coppa")&&!e.some(function(e){return e.params.coppa})||(r.tfcd=1),e.forEach(function(r){var e;r.params.customParams?(e=I._map(Object.keys(r.params.customParams),function(e){return t=e,e=r.params.customParams[t],I.isArray(e)&&(e=e.join(",")),(t.toLowerCase()+"="+e.toLowerCase()).replace("+",".").replace("/","_");var t}),e=window.btoa(e.join("&")),n=!0,t.push(e)):t.push("")}),n&&(r.tps=t.join(","));var i=[],a=!1;return e.forEach(function(e){var t,r,n,t=(t=e,r=w.Mk,n={},e=A.vc.getConfig("currency.adServerCurrency")||"USD",t=(n="function"==typeof t.getFloor?t.getFloor({currency:e,mediaType:r,size:"*"}):n).floor||t.params.customFloor||0,Math.round(1e3*t));t?(i.push(t),a=!0):i.push(0)}),a&&(r.aumfs=i.join(",")),{method:"GET",url:r.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:r,payload:{bids:e,startTime:new Date}}}(e)),0<t.length&&t.forEach(function(e){var t,r,n,o,i,a,s;u.push((a=Lo([n=t=e],r=c),s=I.deepAccess(n,"params.video")||{},e=I.deepAccess(n,"mediaTypes.video.context"),r=I.deepAccess(n,"mediaTypes.video.playerSize"),I.isArray(n.sizes)&&2===n.sizes.length&&!I.isArray(n.sizes[0])?(o=parseInt(n.sizes[0],10),i=parseInt(n.sizes[1],10)):I.isArray(n.sizes)&&I.isArray(n.sizes[0])&&2===n.sizes[0].length?(o=parseInt(n.sizes[0][0],10),i=parseInt(n.sizes[0][1],10)):I.isArray(r)&&2===r.length&&(o=parseInt(r[0],10),i=parseInt(r[1],10)),Object.keys(s).forEach(function(e){"openrtb"===e?(s[e].w=o||s[e].w,s[e].v=i||s[e].v,a[e]=JSON.stringify(s[e])):e in a||"url"===e||(a[e]=s[e])}),a.auid=n.params.unit,a.vwd=o||s.vwd,a.vht=i||s.vht,"outstream"===e&&(a.vos="101"),s.mimes&&(a.vmimes=s.mimes),n.params.test&&(a.vtest=1),{method:"GET",url:(n=a).ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(t.params.delDomain,"/v/1.0/avjp"),data:n,payload:{bid:t,startTime:new Date}}))}),u},interpretResponse:function(e,t){var r,n,o,i,c=e.body;return(/avjp$/.test(t.url)?w.pX:w.Mk)===w.pX?(r=c,n=t.payload,o=n.bid,n.startTime,i=[],void 0!==r&&""!==r.vastUrl&&0<r.pub_rev&&(e=I.parseUrl(r.vastUrl).search||{},(n={}).requestId=o.bidId,n.ttl=300,n.netRevenue=!0,n.currency=r.currency,n.cpm=parseInt(r.pub_rev,10)/1e3,n.width=parseInt(r.width,10),n.height=parseInt(r.height,10),n.creativeId=r.adid,n.vastUrl=r.vastUrl,n.mediaType=w.pX,r.ph=e.ph,r.colo=e.colo,r.ts=e.ts,i.push(n)),i):function(e){for(var t=e.bids,r=(e.startTime,c.ads.ad),n=[],o=0;o<r.length;o++){var i=r[o],a=parseInt(i.idx,10),s={};s.requestId=t[a].bidId,i.pub_rev&&(s.cpm=Number(i.pub_rev)/1e3,(a=i.creative[0])&&(s.width=a.width,s.height=a.height),s.creativeId=a.id,s.ad=i.html,i.deal_id&&(s.dealId=i.deal_id),s.ttl=300,s.netRevenue=!0,s.currency=i.currency,i.tbd&&(s.tbd=i.tbd),s.ts=i.ts,s.meta={},i.brand_id&&(s.meta.brandId=i.brand_id),i.adv_id&&(s.meta.dspid=i.adv_id),n.push(s))}return n}(t.payload)},getUserSyncs:function(e,t,r,n){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:I.deepAccess(t,"0.body.ads.pixels")||I.deepAccess(t,"0.body.pixels")||(t=n,n=[],(r=r)&&(n.push("gdpr="+(r.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(r.consentString||""))),t&&n.push("us_privacy="+encodeURIComponent(t)),"".concat("https://u.openx.net/w/1.0/pd").concat(0<n.length?"?"+n.join("&"):""))}]},transformBidParams:function(e,t){return I.convertTypes({unit:"string",customFloor:"number"},e)}};function Lo(e,t){var n,r,o=I.inIframe(),i={ju:A.vc.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:o,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,r,n=window,o=document,i=o.documentElement;if(e){try{n=window.top,o=window.top.document}catch(e){return}i=o.documentElement,r=o.body,t=n.innerWidth||i.clientWidth||r.clientWidth,r=n.innerHeight||i.clientHeight||r.clientHeight}else i=o.documentElement,t=n.innerWidth||i.clientWidth,r=n.innerHeight||i.clientHeight;return"".concat(t,"x").concat(r)}(o),be:1,bc:e[0].params.bc||"".concat("hb_pb","_").concat("3.0.3"),dddid:I._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(i.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(o=t.gdprConsent).consentString&&(i.gdpr_consent=o.consentString),void 0!==o.gdprApplies&&(i.gdpr=o.gdprApplies?1:0),"iab"===A.vc.getConfig("consentManagement.cmpApi")&&(i.x_gdpr_f=1)),t&&t.uspConsent&&(i.us_privacy=t.uspConsent),I.deepAccess(e[0],"crumbs.pubcid")&&I.deepSetValue(e[0],"userId.pubcid",I.deepAccess(e[0],"crumbs.pubcid")),n=i,t=e[0].userId,I._each(t,function(e,t){var r=No[t];if(No.hasOwnProperty(t))switch(t){case"digitrustid":n[r]=I.deepAccess(e,"data.id");break;case"lipb":n[r]=e.lipbid;break;case"parrableId":n[r]=e.eid;break;case"id5id":n[r]=e.uid;break;default:n[r]=e}}),i=n,e[0].schain&&(i.schain=(e=e[0].schain,"".concat(e.ver,",").concat(e.complete,"!").concat((e=e.nodes,r=["asi","sid","hp","rid","name","domain"],e.map(function(t){return r.map(function(e){return t[e]||""}).join(",")}).join("!"))))),i}(0,ct.dX)(Tt);Tt={code:"playgroundxyz",aliases:["playgroundxyz","pxyz"],supportedMediaTypes:[w.Mk],isBidRequestValid:function(e){return!!e.params.placementId},buildRequests:function(e,t){var r,n,o=t.refererInfo.referer,i=o.split("/");3<=i.length&&(r=i[0],n=i[2]);o={id:e[0].auctionId,site:{domain:r+"//"+n,name:n,page:o},device:{ua:navigator.userAgent,language:navigator.language,devicetype:/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2},imp:e.map(qo)};return t&&t.gdprConsent&&(o.user={ext:{consent:t.gdprConsent.consentString}},e=t.gdprConsent.gdprApplies?1:0,o.regs={ext:{gdpr:e}}),{method:"POST",url:"https://ads.playground.xyz/host-config/prebid?v=2",data:JSON.stringify(o),bidderRequest:t}},interpretResponse:function(e,t){var r=t.bidderRequest;e=e.body;var n=[];if(!e||e.error){t="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(t+=": ".concat(e.error),I.logError(t)),n}if(!I.isArray(e.seatbid)){r="in response for ".concat(r.bidderCode," adapter ");return I.logError(r+="Malformed seatbid response"),n}if(!e.seatbid)return n;var o=e.cur||"USD";return e.seatbid.forEach(function(e){e.hasOwnProperty("bid")&&e.bid.forEach(function(e){0!==e.price&&(e={requestId:e.impid,mediaType:w.Mk,cpm:e.price,creativeId:e.adid,ad:e.adm,width:e.w,height:e.h,ttl:300,netRevenue:!0,currency:o},n.push(e))})}),n},getUserSyncs:function(e){return[{type:"image",url:"//ib.adnxs.com/getuidnb?https://ads.playground.xyz/usersync?partner=appnexus&uid=$UID"}]}};function qo(e){return{id:e.bidId,banner:(t=e,{w:parseInt(t.sizes[0][0],10),h:parseInt(t.sizes[0][1],10),format:(t=t.sizes,r=[],t.forEach(function(e){r.push({w:parseInt(e[0],10),h:parseInt(e[1],10)})}),r)}),ext:{appnexus:{placement_id:parseInt(e.params.placementId,10)},pxyz:{adapter:{vendor:"prebid",prebid:"4.13.0-mol-1"}}}};var t,r}(0,ct.dX)(Tt);var zo=r(8043),Vo={appnexus:{adapter:"prebidServer",enabled:!0,endpoint:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync",timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:"https://prebid-server.rubiconproject.com/openrtb2/auction",syncEndpoint:"https://prebid-server.rubiconproject.com/cookie_sync",timeout:500}};function Fo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Go(){return(Go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ho(e){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ko,$o=A.vc.getConfig,Yo=p.S2S.SRC,Jo=!1,Xo={enabled:!1,timeout:1e3,maxBids:1,adapter:"prebidServer",adapterOptions:{},syncUrlModifier:{}};function Zo(e){var t,r,n,o;0!==e.length&&((o=e.pop()).no_cookie?(t=o.usersync.type,r=o.usersync.url,n=o.bidder,o=I.bind.call(Zo,null,e),Ko.syncUrlModifier&&"function"==typeof Ko.syncUrlModifier[n]?Qo(t,Ko.syncUrlModifier[n](t,r,n),n,o):Qo(t,r,n,o)):Zo(e))}function Qo(e,t,r,n){t?"image"===e||"redirect"===e?(I.logMessage('Invoking image pixel user sync for bidder: "'.concat(r,'"')),I.triggerPixel(t,n)):"iframe"==e?(I.logMessage('Invoking iframe user sync for bidder: "'.concat(r,'"')),I.insertUserSyncIframe(t,n)):(I.logError('User sync type "'.concat(e,'" not supported for bidder: "').concat(r,'"')),n()):(I.logError('No sync url for bidder "'.concat(r,'": ').concat(t)),n())}A.vc.setDefaults({s2sConfig:Xo}),$o("s2sConfig",function(e){return function(t){if(t.defaultVendor){var r=t.defaultVendor,n=Object.keys(t);if(!Vo[r])return I.logError("Incorrect or unavailable prebid server default vendor option: "+r),!1;Object.keys(Vo[r]).forEach(function(e){Xo[e]!==t[e]&&_()(n,e)||(t[e]=Vo[r][e])})}var o=Object.keys(t);0<["accountId","bidders","endpoint"].filter(function(e){return!_()(o,e)&&(I.logError(e+" missing in server to server config"),!0)}).length||(Ko=t)}(e.s2sConfig)});var ei={sponsoredBy:1,body:2,rating:3,likes:4,downloads:5,price:6,salePrice:7,phone:8,address:9,body2:10,cta:12},ti=Object.keys(ei),ri={icon:1,image:3},ni={img:1,js:2};[ei,ri,{impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4},ni].forEach(function(t){Object.keys(t).forEach(function(e){t[t[e]]=e})});var oi={},ii={},ai={};function si(e){var t=function(e,t){if([e,t].every(I.isStr))return ai["".concat(e).concat(t)]}(e.auctionId,e.adId);I.isStr(t)&&(I.logMessage('Invoking image pixel for wurl on BID_WIN: "'.concat(t,'"')),I.triggerPixel(t),[t=e.auctionId,e=e.adId].every(I.isStr)&&(ai["".concat(t).concat(e)]=void 0))}function ci(){return(ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ui(e){return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ir.ZP.registerBidAdapter(new function(){var e=new zo.Z("prebidServer");return e.callBids=function(e,t,r,n,o){var i,a,s,c,u=I.deepClone(e.ad_units).filter(function(e){return e.mediaTypes&&(e.mediaTypes.native||e.mediaTypes.banner&&e.mediaTypes.banner.sizes||e.mediaTypes.video&&e.mediaTypes.video.playerSize)}),d=u.map(function(e){return e.bids.map(function(e){return e.bidder}).filter(I.uniques)}).reduce(I.flatten).filter(I.uniques);Ko&&Ko.syncEndpoint&&(Array.isArray(t)&&0<t.length&&(s=t[0].gdprConsent,c=t[0].uspConsent),i=Ko.bidders.map(function(e){return ir.ZP.aliasRegistry[e]||e}).filter(function(e,t,r){return r.indexOf(e)===t}),a=s,s=c,Jo||(Jo=!0,c={uuid:I.generateUUID(),bidders:i,account:Ko.accountId},i=Ko.userSyncLimit,I.isNumber(i)&&0<i&&(c.limit=i),a&&(void 0!==a.consentString&&(c.gdpr=a.gdprApplies?1:0),!1!==a.gdprApplies&&(c.gdpr_consent=a.consentString)),s&&(c.us_privacy=s),c=JSON.stringify(c),(0,l.h)(Ko.syncEndpoint,function(e){try{Zo((e=JSON.parse(e)).bidder_status)}catch(e){I.logError(e)}},c,{contentType:"text/plain",withCredentials:!0})));e=function(e,t,r){var o,s=[],c={},u=t[0];if(r.forEach(function(r){var i=(0,h.zs)(I.deepAccess(r,"mediaTypes.native"));if(i)try{o=ii[r.code]=Object.keys(i).reduce(function(e,t){var r=i[t];function n(e){return Go({required:r.required?1:0},e?I.cleanObj(e):{})}switch(t){case"image":case"icon":var o=ri[t],o=I.cleanObj({type:o,w:I.deepAccess(r,"sizes.0"),h:I.deepAccess(r,"sizes.1"),wmin:I.deepAccess(r,"aspect_ratios.0.min_width"),hmin:I.deepAccess(r,"aspect_ratios.0.min_height")});if(!(o.w&&o.h||o.hmin&&o.wmin))throw"invalid img sizes (must provide sizes or min_height & min_width if using aspect_ratios)";Array.isArray(r.aspect_ratios)&&(o.ext={aspectratios:r.aspect_ratios.map(function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)})}),e.push(n({img:o}));break;case"title":if(!r.len)throw"invalid title.len";e.push(n({title:{len:r.len}}));break;default:o=ei[t];o&&e.push(n({data:{type:o,len:r.len}}))}return e},[])}catch(r){I.logError("error creating native request: "+String(r))}var e=I.deepAccess(r,"mediaTypes.video"),t=I.deepAccess(r,"mediaTypes.banner");r.bids.forEach(function(e){oi["".concat(r.code).concat(e.bidder)]=e.bid_id,ir.ZP.aliasRegistry[e.bidder]&&(c[e.bidder]=ir.ZP.aliasRegistry[e.bidder])});var n={};if(t&&t.sizes&&(t=I.parseSizesInput(t.sizes).map(function(e){var e=function(e){if(Array.isArray(e))return e}(t=e.split("x"))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(t)||function(e){if(e){if("string"==typeof e)return Wo(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Wo(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=e[0],e=e[1];return{w:parseInt(t,10),h:parseInt(e,10)}}),n.banner={format:t}),I.isEmpty(e)||("outstream"!==e.context||r.renderer?("instream"!==e.context||e.hasOwnProperty("placement")||(e.placement=1),n.video=e):I.logError("Outstream bid without renderer cannot be sent to Prebid Server.")),o)try{n.native={request:JSON.stringify({context:1,plcmttype:1,eventtrackers:[{event:1,methods:[1]}],assets:o}),ver:"1.2"}}catch(r){I.logError("error creating native request: "+String(r))}var o=r.bids.reduce(function(e,t){var r=ir.ZP.bidderRegistry[t.bidder];return r&&r.getSpec().transformBidParams&&(t.params=r.getSpec().transformBidParams(t.params,!0)),e[t.bidder]=Ko.adapterOptions&&Ko.adapterOptions[t.bidder]?Go({},t.params,Ko.adapterOptions[t.bidder]):t.params,e},{}),a={id:r.code,ext:o,secure:Ko.secure},o=I.deepAccess(r,"fpd.context.pbAdSlot");"string"==typeof o&&o&&I.deepSetValue(a,"ext.context.data.pbadslot",o),["name","adSlot"].forEach(function(e){var t=I.deepAccess(r,"fpd.context.adserver.".concat(e));"string"==typeof t&&t&&I.deepSetValue(a,"ext.context.data.adserver.".concat(e.toLowerCase()),t)}),Go(a,n);n=k()(u.bids,function(e){return e.adUnitCode===r.code&&e.storedAuctionResponse});n&&I.deepSetValue(a,"ext.prebid.storedauctionresponse.id",n.storedAuctionResponse.toString()),(a.banner||a.video||a.native)&&s.push(a)}),s.length){var n={id:e.tid,source:{tid:e.tid},tmax:Ko.timeout,imp:s,test:$o("debug")?1:0,ext:{prebid:{auctiontimestamp:u.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}}}};Ko.extPrebid&&"object"===Ho(Ko.extPrebid)&&(n.ext.prebid=Go(n.ext.prebid,Ko.extPrebid));var r=A.vc.getConfig("currency.adServerCurrency");r&&"string"==typeof r?n.cur=[r]:Array.isArray(r)&&r.length&&(n.cur=[r[0]]),e=n,r=u.refererInfo.referer,e&&("object"===Ho(A.vc.getConfig("app"))?(e.app=A.vc.getConfig("app"),e.app.publisher={id:Ko.accountId}):(e.site={},I.isPlainObject(A.vc.getConfig("site"))&&(e.site=A.vc.getConfig("site")),I.deepAccess(e.site,"publisher.id")||I.deepSetValue(e.site,"publisher.id",Ko.accountId),e.site.page||(e.site.page=r)),"object"===Ho(A.vc.getConfig("device"))&&(e.device=A.vc.getConfig("device")),e.device||(e.device={}),e.device.w||(e.device.w=window.innerWidth),e.device.h||(e.device.h=window.innerHeight));e=I.deepAccess(t,"0.bids.0.schain");e&&(n.source.ext={schain:e}),I.isEmpty(c)||(n.ext.prebid.aliases=c);var i,e=I.deepAccess(t,"0.bids.0.userIdAsEids");I.isArray(e)&&0<e.length&&I.deepSetValue(n,"user.ext.eids",e),t&&(u.gdprConsent&&("boolean"==typeof u.gdprConsent.gdprApplies&&(i=u.gdprConsent.gdprApplies?1:0),I.deepSetValue(n,"regs.ext.gdpr",i),I.deepSetValue(n,"user.ext.consent",u.gdprConsent.consentString),u.gdprConsent.addtlConsent&&"string"==typeof u.gdprConsent.addtlConsent&&I.deepSetValue(n,"user.ext.ConsentedProvidersSettings.consented_providers",u.gdprConsent.addtlConsent)),u.uspConsent&&I.deepSetValue(n,"regs.ext.us_privacy",u.uspConsent)),!0===$o("coppa")&&I.deepSetValue(n,"regs.coppa",1);var t=$o("fpd")||{};return t.context&&I.deepSetValue(n,"site.ext.data",t.context),t.user&&I.deepSetValue(n,"user.ext.data",t.user),i=n,o=A.vc.getBidderConfig(),(t=Object.keys(o).reduce(function(e,t){var r,n=o[t];return n.fpd&&(r={},n.fpd.context&&(r.site=n.fpd.context),n.fpd.user&&(r.user=n.fpd.user),e.push({bidders:[t],config:{fpd:r}})),e},[])).length&&I.deepSetValue(i,"ext.prebid.bidderconfig",t),n}I.logError("Request to Prebid Server rejected due to invalid media type(s) in adUnit.")}(e,t,u),u=e&&JSON.stringify(e);e&&u&&o(Ko.endpoint,{success:function(e){return function(e,t,r,n,o){var i,d,l,f;try{d=i=JSON.parse(e),l=r,f=[],d.seatbid&&d.seatbid.forEach(function(u){(u.bid||[]).forEach(function(e){var t="".concat(e.impid).concat(u.seat);oi[t]&&(c=I.getBidRequest(oi[t],l));var r=e.price,n=0!==r?p.STATUS.GOOD:p.STATUS.NO_BID,t=(0,De.m)(n,c||{bidder:u.seat,src:Yo});t.cpm=r;n=I.deepAccess(d,["ext","responsetimemillis",u.seat].join("."));c&&n&&(c.serverResponseTimeMs=n);var r=I.deepAccess(e,"ext.prebid.bidid");I.isStr(r)&&(t.pbsBidId=r),I.isStr(I.deepAccess(e,"ext.prebid.events.win"))&&(n=c.auctionId,r=t.adId,s=I.deepAccess(e,"ext.prebid.events.win"),[n,r].every(I.isStr)&&(ai["".concat(n).concat(r)]=s));var o,i,a,s=I.deepAccess(e,"ext.prebid.targeting");I.isPlainObject(s)&&(I.isStr(I.deepAccess(e,"ext.prebid.events.win"))&&(s=I.getDefinedParams(s,Object.keys(s).filter(function(e){return-1===e.indexOf("hb_winurl")&&-1===e.indexOf("hb_bidid")}))),t.adserverTargeting=s),t.seatBidId=e.id,I.deepAccess(e,"ext.prebid.type")===w.pX?(t.mediaType=w.pX,o=c.sizes&&c.sizes[0],t.playerHeight=o[0],t.playerWidth=o[1],e.ext.prebid.cache&&"object"===Ho(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):s&&s.hb_uuid&&s.hb_cache_host&&s.hb_cache_path&&(t.videoCacheKey=s.hb_uuid,t.vastUrl="https://".concat(s.hb_cache_host).concat(s.hb_cache_path,"?uuid=").concat(s.hb_uuid)),e.adm&&(t.vastXml=e.adm),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl)):I.deepAccess(e,"ext.prebid.type")===w.B5?(t.mediaType=w.B5,o="string"==typeof e.adm?t.adm=JSON.parse(e.adm):t.adm=e.adm,Fo(s={},ni.img,o.imptrackers||[]),Fo(s,ni.js,o.jstracker?[o.jstracker]:[]),i=s,o.eventtrackers&&o.eventtrackers.forEach(function(e){switch(e.method){case ni.img:i[ni.img].push(e.url);break;case ni.js:i[ni.js].push(e.url)}}),I.isPlainObject(o)&&Array.isArray(o.assets)?(a=ii[c.adUnitCode],t.native=I.cleanObj(o.assets.reduce(function(t,r){var n=a[r.id];return I.isPlainObject(r.img)?t[n.img.type?ri[n.img.type]:"image"]=I.pick(r.img,["url","w as width","h as height"]):I.isPlainObject(r.title)?t.title=r.title.text:I.isPlainObject(r.data)&&ti.forEach(function(e){ei[e]===n.data.type&&(t[e]=r.data.value)}),t},I.cleanObj({clickUrl:o.link,clickTrackers:I.deepAccess(o,"link.clicktrackers"),impressionTrackers:i[ni.img],javascriptTrackers:i[ni.js]})))):I.logError("prebid server native response contained no assets")):e.adm&&e.nurl?(t.ad=e.adm,t.ad+=I.createTrackPixelHtml(decodeURIComponent(e.nurl))):e.adm?t.ad=e.adm:e.nurl&&(t.adUrl=e.nurl),t.width=e.w,t.height=e.h,e.dealid&&(t.dealId=e.dealid),t.requestId=c.bidId||c.bid_Id,t.creative_id=e.crid,t.creativeId=e.crid,e.burl&&(t.burl=e.burl),t.currency=d.cur||"USD",t.meta=t.meta||{},e.adomain&&(t.meta.advertiserDomains=e.adomain);var c=Ko.defaultTtl||60;t.ttl=e.exp||c,t.netRevenue=!e.netRevenue||e.netRevenue,f.push({adUnit:e.impid,bid:t})})}),f.forEach(function(e){var t=e.adUnit,e=e.bid;(0,ct.JY)(t,e,r)&&n(t,e)}),r.forEach(function(e){return y().emit(p.EVENTS.BIDDER_DONE,e)})}catch(e){I.logError(e)}(!i||i.status&&_()(i.status,"Error"))&&I.logError("error parsing response: ",i.status),o(),t.forEach(function(e){e=ir.ZP.getBidAdapter(e);e&&e.registerSyncs&&e.registerSyncs([])})}(e,d,t,r,n)},error:n},u,{contentType:"text/plain",withCredentials:!0})},y().on(p.EVENTS.BID_WON,si),Go(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:Yo})},"prebidServer");var di=(0,Ue.df)(),li="_pubcid",Tt="_pubcid_optout",fi="PublisherCommonId",pi="cookie",gi="html5",mi={enabled:!0,interval:525600,typeEnabled:gi,create:!0,extend:!0,pixelUrl:""};function yi(e,t){var r;return(t=t||mi.typeEnabled)===pi?r=di.getCookie(e):t===gi&&(r=function(e){var t=null;try{var r=di.getDataFromLocalStorage(e+"_exp");!r||0<new Date(r).getTime()-Date.now()?t=di.getDataFromLocalStorage(e):function(e){try{di.removeDataFromLocalStorage(e+"_exp"),di.removeDataFromLocalStorage(e)}catch(e){I.logMessage(e)}}(e)}catch(e){I.logMessage(e)}return t}(e)),"undefined"===r||"null"===r?null:r}function hi(e,t,r){var n,o,i,a;e&&t&&(mi.typeEnabled===pi?(n=e,o=t,i=r,(a=new Date).setTime(a.getTime()+1e3*i*60),di.setCookie(n,o,a.toGMTString(),"Lax")):mi.typeEnabled===gi&&function(e,t,r){try{var n;void 0!==r&&null!=r&&(n=new Date(Date.now()+60*r*1e3).toUTCString(),di.setDataInLocalStorage(e+"_exp",n)),di.setDataInLocalStorage(e,t)}catch(e){I.logMessage(e)}}(e,t,r))}function vi(e,t){if(e){t=t||"";e=I.parseUrl(e);e.search.id=encodeURIComponent("pubcid:"+t);var r=I.buildUrl(e);return y().on(p.EVENTS.AUCTION_END,function e(){y().off(p.EVENTS.AUCTION_END,e),I.triggerPixel(r)}),1}}function bi(e){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}A.vc.getConfig("pubcid",function(e){return function(e){var t=0<arguments.length&&void 0!==e?e:{},r=t.enable,n=t.expInterval,o=t.type,i=void 0===o?"html5,cookie":o,e=t.create,o=t.extend,t=t.pixelUrl;void 0!==r&&(mi.enabled=r),void 0!==n&&(mi.interval=parseInt(n,10)),isNaN(mi.interval)&&(mi.interval=525600),void 0!==e&&(mi.create=e),void 0!==o&&(mi.extend=o),void 0!==t&&(mi.pixelUrl=t),mi.typeEnabled=null;for(var a=i.split(","),s=0;s<a.length;++s){var c=a[s].trim();if(c===pi){if(di.cookiesAreEnabled()){mi.typeEnabled=pi;break}}else if(c===gi&&di.hasLocalStorage()){mi.typeEnabled=gi;break}}}(e.pubcid)}),di.cookiesAreEnabled()&&yi(Tt,pi)||di.hasLocalStorage()&&yi(Tt,gi)||pbjs.requestBids.before(function(e,t){var r=t.adUnits||pbjs.adUnits,n=null;return mi.enabled&&mi.typeEnabled&&("object"===ui(window[fi])?(n=window[fi].getId(),I.logMessage(fi+": pubcid = "+n)):((n=yi(li))?mi.extend&&(vi(mi.pixelUrl,n)||hi(li,n,mi.interval)):(mi.create&&(n=(n=mi.typeEnabled===gi?yi(li,pi):n)||I.generateUUID(),hi(li,n,mi.interval),n=yi(li)),vi(mi.pixelUrl,n)),I.logMessage("pbjs: pubcid = "+n)),r&&n&&r.forEach(function(e){e.bids&&I.isArray(e.bids)&&e.bids.forEach(function(e){ci(e,{crumbs:{pubcid:n}})})})),e.call(this,t)});var wi="PublisherCommonId",Si="cookie",_i="html5",Oi="_sharedid",Ii=(0,Ue.df)(null,"pubCommonId");function Ei(e,t){try{var r,n;t&&(r=e.storage.name+Oi,n=new Date(Date.now()+864e5*Ii.expires).toUTCString(),e.storage.type===Si?Ii.cookiesAreEnabled()&&Ii.setCookie(r,t,n,"LAX",xi):e.storage.type===_i&&Ii.hasLocalStorage()&&(Ii.setDataInLocalStorage("".concat(r,"_exp"),n),Ii.setDataInLocalStorage(r,t)))}catch(e){I.logError(e)}}function Ai(e){try{var t=e.storage.name+Oi;if(e.storage.type===Si){if(Ii.cookiesAreEnabled())return Ii.getCookie(t)}else if(e.storage.type===_i&&Ii.hasLocalStorage()){var r=Ii.getDataFromLocalStorage("".concat(t,"_exp"));if(!r)return Ii.getDataFromLocalStorage(t);if(0<new Date(r).getTime()-Date.now())return Ii.getDataFromLocalStorage(t)}}catch(e){I.logError(e)}}function ki(t,i,a){return function(e){var r,n,o;"function"==typeof i&&i(),(0,l.h)("https://id.sharedid.org/id",(r=t,n=e,o=a,{success:function(e){if(e)try{var t=JSON.parse(e);I.logInfo("PubCommonId: Generated SharedId: "+t.sharedId),t.sharedId&&("00000000000000000000000000"!==t.sharedId?Ei(o,t.sharedId):function(e){try{var t=e.storage.name+Oi;e.storage.type===Si?Ii.cookiesAreEnabled()&&Ii.setCookie(t,"","Thu, 01 Jan 1970 00:00:01 GMT"):e.storage.type===_i&&(Ii.removeDataFromLocalStorage("".concat(t,"_exp")),Ii.removeDataFromLocalStorage(t))}catch(e){I.logError(e)}}(o)),n(r)}catch(e){I.logError(e)}},error:function(e,t){I.logInfo("PubCommonId: failed to get sharedid")}}),void 0,{method:"GET",withCredentials:!0})}}var Tt={name:"pubCommonId",makeCallback:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(e){e=I.parseUrl(e);e.search.id=encodeURIComponent("pubcid:"+t);var r=I.buildUrl(e);return function(){I.triggerPixel(r)}}},decode:function(e,t){var r={pubcid:e},e=t.params,e=(e=void 0===e?{}:e).enableSharedId;return void 0===e||!e||(t=Ai(t))&&(r.sharedid={id:t}),r},getId:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.params,r=(t=void 0===t?{}:t).create,n=void 0===r||r,o=t.pixelUrl,r=t.enableSharedId,t=void 0!==r&&r,r=2<arguments.length?arguments[2]:void 0;if(!r){try{"object"===bi(window[wi])&&(r=window[wi].getId())}catch(e){}r=r||(n&&I.hasDeviceAccess()?I.generateUUID():void 0)}o=this.makeCallback(o,r);return{id:r,callback:t?ki(r,o,e):o}},extendId:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,r=e.params,n=(r=void 0===r?{}:r).extend,o=r.pixelUrl,r=r.enableSharedId,r=void 0!==r&&r;if(void 0!==n&&n){try{if("object"===bi(window[wi]))return void(r&&Ei(e,Ai(e)))}catch(e){}return o?{callback:this.makeCallback(o,t)}:(r&&Ei(e,Ai(e)),{id:t})}},domainOverride:function(){for(var e,t=document.domain.split("."),r="_gd".concat(Date.now()),n=0;n<t.length;n++){var o=t.slice(n).join(".");if(Ii.setCookie(r,"1",void 0,void 0,o),"1"!==Ii.getCookie(r))return e;Ii.setCookie(r,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,o),e=o}}},xi=Tt.domainOverride();function Pi(){return(Pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(0,u.Bx)("userId",Tt);var Ti="PubMatic: ",Ci=void 0,Ri="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),Di={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},Ui="number",Mi="array",Bi={mimes:Mi,minduration:Ui,maxduration:Ui,startdelay:Ui,playbackmethod:Mi,api:Mi,protocols:Mi,w:Ui,h:Ui,battr:Mi,linearity:Ui,placement:Ui,minbitrate:Ui,maxbitrate:Ui},Ni={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},Li=[{id:Ni.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:Ni.TITLE.ID,required:!0},{id:Ni.IMAGE.ID,required:!0}],qi={1:"PMP",5:"PREF",6:"PMPG"},zi={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var r,n=zi.getRendererId("pubmatic",e.rendererCode),e=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===n){r=window.bluebillywig.renderers[o];break}r?r.bootstrap(t,e):I.logWarn("".concat(Ti,": Couldn't find a renderer with ").concat(n))}else I.logWarn("".concat(Ti,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var r=Ri.replace("$RENDERER",e),t=x.install({url:r,loaded:!1,adUnitCode:t});try{t.setRender(zi.outstreamRender)}catch(e){I.logWarn("".concat(Ti,": Error tying to setRender on renderer"),e)}return t},outstreamRender:function(e){e.renderer.push(function(){zi.bootstrapPlayer(e)})},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},Vi=0,Fi=!1,Wi={},Gi={};function Hi(e,t){if(!I.isStr(t))return t&&I.logWarn("PubMatic: Ignoring param key: "+e+", expects string-value, found "+ji(t)),Ci;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map(function(e){return e.trim()}).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||Ci;case"yob":return parseInt(t)||Ci;default:return t}}function Ki(e){var t,r=e.params.video;if(r!==Ci){for(var n in t={},Bi)r.hasOwnProperty(n)&&(t[n]=function(e,t,r){var n,e="Ignoring param key: "+e+", expects "+r+", found "+ji(t);switch(r){case"boolean":n=I.isBoolean;break;case Ui:n=I.isNumber;break;case"string":n=I.isStr;break;case Mi:n=I.isArray}return n(t)?t:(I.logWarn(Ti+e),Ci)}(n,r[n],Bi[n]));I.isArray(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):I.isNumber(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10)),e.params.video.hasOwnProperty("skippable")&&(t.ext={video_skippable:e.params.video.skippable?1:0})}else t=Ci,I.logWarn("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}I._each(Ni,function(e){Wi[e.ID]=e.KEY}),I._each(Ni,function(e){Gi[e.KEY]=e});Tt={code:"pubmatic",gvlid:76,supportedMediaTypes:[w.Mk,w.pX,w.B5],isBidRequestValid:function(e){if(e&&e.params){if(!I.isStr(e.params.publisherId))return I.logWarn("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.params.hasOwnProperty("video")){if(!e.params.video.hasOwnProperty("mimes")||!I.isArray(e.params.video.mimes)||0===e.params.video.mimes.length)return I.logWarn("PubMatic: Error: For video ads, mimes is mandatory and must specify atlease 1 mime value. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.hasOwnProperty("mediaTypes")||!e.mediaTypes.hasOwnProperty(w.pX))return I.logError("".concat(Ti,": mediaTypes or mediaTypes.video is not specified. Rejecting bid: "),e),!1;if(!e.mediaTypes[w.pX].hasOwnProperty("context"))return I.logError("".concat(Ti,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[w.pX].context&&!I.isStr(e.params.outstreamAU))return I.logError("".concat(Ti,': for "outstream" bids outstreamAU is required. Rejecting bid: '),e),!1}return!0}return!1},buildRequests:function(e,t){var r;t&&t.refererInfo&&(r=t.refererInfo);var n,o,i,a,s,c={pageURL:(i=r)&&i.referer?i.referer:window.location.href,refURL:window.document.referrer},u=(o=c,{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:o.pageURL,ref:o.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}),d="",l=[],f=[];if(e.forEach(function(e){(n=I.deepClone(e)).params.adSlot=n.params.adSlot||"",function(e){e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,I.isStr(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):"");var t=(r=e.params.adSlot).split(":"),r=t[0];if(2==t.length&&(e.params.adUnitIndex=t[1]),t=r.split("@"),e.params.adUnit=t[0],1<t.length){if(2!=(t=t[1].split("x")).length)return I.logWarn("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(t[0],10),e.params.height=parseInt(t[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(w.Mk)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var n=0,o=[];n<e.mediaTypes.banner.sizes.length;n++)2===e.mediaTypes.banner.sizes[n].length&&o.push(e.mediaTypes.banner.sizes[n]);e.mediaTypes.banner.sizes=o,1<=e.mediaTypes.banner.sizes.length&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(n),n.params.hasOwnProperty("video")||n.hasOwnProperty("mediaTypes")&&n.mediaTypes.hasOwnProperty(w.B5)||0!==n.params.width||0!==n.params.height?(c.pubId=c.pubId||n.params.publisherId,(c=function(e,t){var r,n,o;for(r in t.kadpageurl||(t.kadpageurl=t.pageURL),Di)Di.hasOwnProperty(r)&&(n=e[r])&&("object"===ji(o=Di[r])&&(n=o.f(n,t)),I.isStr(n)?t[r]=n:I.logWarn("PubMatic: Ignoring param : "+r+" with value : "+Di[r]+", expects string-value, found "+ji(n)));return t}(n.params,c)).transactionId=n.transactionId,""===d?d=n.params.currency||Ci:n.params.hasOwnProperty("currency")&&d!==n.params.currency&&I.logWarn("PubMatic: Currency specifier ignored. Only one currency permitted."),n.params.currency=d,n.params.hasOwnProperty("dctr")&&I.isStr(n.params.dctr)&&l.push(n.params.dctr),n.params.hasOwnProperty("bcat")&&I.isArray(n.params.bcat)&&(f=f.concat(n.params.bcat)),(e=function(e){var t,r,n,o,i,a,s,c={},u={},d=e.hasOwnProperty("sizes")?e.sizes:[],l="",f=[];if(n=c={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:Hi("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:Hi("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?Hi("currency",e.params.currency):"USD"},(o=e).params.deals&&(I.isArray(o.params.deals)?o.params.deals.forEach(function(e){I.isStr(e)&&3<e.length?(n.pmp||(n.pmp={private_auction:0,deals:[]}),n.pmp.deals.push({id:e})):I.logWarn("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+e)}):I.logWarn("PubMatic: Error: bid.params.deals should be an array of strings.")),e.hasOwnProperty("mediaTypes"))for(l in e.mediaTypes)switch(l){case w.Mk:(t=function(e){var t,r=e.mediaTypes.banner.sizes,n=[];if(r!==Ci&&I.isArray(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=Ci,I.logWarn("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}0<r.length&&(n=[],r.forEach(function(e){1<e.length&&n.push({w:e[0],h:e[1]})}),0<n.length&&(t.format=n)),t.pos=0,t.topframe=I.inIframe()?0:1}else I.logWarn("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=Ci;return t}(e))!==Ci&&(c.banner=t);break;case w.B5:u.request=JSON.stringify(function(e){var t,r,n,o={assets:[]};for(t in e){if(e.hasOwnProperty(t)){var i={};if(!(o.assets&&0<o.assets.length&&o.assets.hasOwnProperty(t)))switch(t){case Ni.TITLE.KEY:e[t].len||e[t].length?i={id:Ni.TITLE.ID,required:e[t].required?1:0,title:{len:e[t].len||e[t].length,ext:e[t].ext}}:I.logWarn("PubMatic: Error: Title Length is required for native ad: "+JSON.stringify(e));break;case Ni.IMAGE.KEY:e[t].sizes&&0<e[t].sizes.length?i={id:Ni.IMAGE.ID,required:e[t].required?1:0,img:{type:3,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:Ci),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:Ci),wmin:e[t].wmin||e[t].minimumWidth||(e[t].minsizes?e[t].minsizes[0]:Ci),hmin:e[t].hmin||e[t].minimumHeight||(e[t].minsizes?e[t].minsizes[1]:Ci),mimes:e[t].mimes,ext:e[t].ext}}:I.logWarn("PubMatic: Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case Ni.ICON.KEY:e[t].sizes&&0<e[t].sizes.length?i={id:Ni.ICON.ID,required:e[t].required?1:0,img:{type:1,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:Ci),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:Ci)}}:I.logWarn("PubMatic: Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case Ni.VIDEO.KEY:i={id:Ni.VIDEO.ID,required:e[t].required?1:0,video:{minduration:e[t].minduration,maxduration:e[t].maxduration,protocols:e[t].protocols,mimes:e[t].mimes,ext:e[t].ext}};break;case Ni.EXT.KEY:i={id:Ni.EXT.ID,required:e[t].required?1:0};break;case Ni.LOGO.KEY:i={id:Ni.LOGO.ID,required:e[t].required?1:0,img:{type:2,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:Ci),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:Ci)}};break;case Ni.SPONSOREDBY.KEY:case Ni.BODY.KEY:case Ni.RATING.KEY:case Ni.LIKES.KEY:case Ni.DOWNLOADS.KEY:case Ni.PRICE.KEY:case Ni.SALEPRICE.KEY:case Ni.PHONE.KEY:case Ni.ADDRESS.KEY:case Ni.DESC2.KEY:case Ni.DISPLAYURL.KEY:case Ni.CTA.KEY:r=Gi[t],n=void 0,n=r.KEY,i={id:r.ID,required:e[n].required?1:0,data:{type:r.TYPE,len:e[n].len,ext:e[n].ext}}}}i&&i.id&&(o.assets[o.assets.length]=i)}var a=Li.length,s=0;return Li.forEach(function(e){for(var t=o.assets.length,r=0;r<t;r++)if(e.id==o.assets[r].id){s++;break}}),Fi=a!=s,o}(e.nativeParams)),Fi?I.logWarn("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):c.native=u;break;case w.pX:(r=Ki(e))!==Ci&&(c.video=r)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:I.inIframe()?0:1},I.isArray(d)&&1<d.length&&((d=d.splice(1,d.length-1)).forEach(function(e){f.push({w:e[0],h:e[1]})}),t.format=f),c.banner=t;return i=c,s=-1,"function"!=typeof(a=e).getFloor||A.vc.getConfig("pubmatic.disableFloors")||[w.Mk,w.pX,w.B5].forEach(function(e){i.hasOwnProperty(e)&&("object"!==ji(e=a.getFloor({currency:i.bidfloorcur,mediaType:e,size:"*"}))||e.currency!==i.bidfloorcur||isNaN(parseInt(e.floor))||(e=parseFloat(e.floor),s=-1==s?e:Math.min(e,s)))}),i.bidfloor&&(s=Math.max(s,i.bidfloor)),i.bidfloor=!isNaN(s)&&0<s?s:Ci,c.hasOwnProperty(w.Mk)||c.hasOwnProperty(w.B5)||c.hasOwnProperty(w.pX)?c:Ci}(n))&&u.imp.push(e)):I.logWarn("PubMatic: Skipping the non-standard adslot: ",n.params.adSlot,JSON.stringify(n))}),0!=u.imp.length)return u.site.publisher.id=c.pubId.trim(),Vi=c.pubId.trim(),u.ext.wrapper={},u.ext.wrapper.profile=parseInt(c.profId)||Ci,u.ext.wrapper.version=parseInt(c.verId)||Ci,u.ext.wrapper.wiid=c.wiid||t.auctionId,u.ext.wrapper.wv="prebid_prebid_4.13.0-mol-1",u.ext.wrapper.transactionId=c.transactionId,u.ext.wrapper.wp="pbjs",u.user.gender=c.gender?c.gender.trim():Ci,u.user.geo={},u.user.geo.lat=Hi("lat",c.lat),u.user.geo.lon=Hi("lon",c.lon),u.user.yob=Hi("yob",c.yob),u.device.geo=u.user.geo,u.site.page=c.kadpageurl.trim()||u.site.page.trim(),u.site.domain=(a=u.site.page,(i=document.createElement("a")).href=a,i.hostname),"object"===ji(A.vc.getConfig("content"))&&(u.site.content=A.vc.getConfig("content")),"object"===ji(A.vc.getConfig("device"))&&(u.device=Pi(u.device,A.vc.getConfig("device"))),I.deepSetValue(u,"source.tid",c.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(u.test=1),e[0].schain&&I.deepSetValue(u,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(I.deepSetValue(u,"user.ext.consent",t.gdprConsent.consentString),I.deepSetValue(u,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&I.deepSetValue(u,"regs.ext.us_privacy",t.uspConsent),!0===A.vc.getConfig("coppa")&&I.deepSetValue(u,"regs.coppa",1),o=u,a=e,s="",0<(i=l).length&&(a[0].params.hasOwnProperty("dctr")?(s=a[0].params.dctr,I.isStr(s)&&0<s.length?(a=s.split("|"),s="",a.forEach(function(e){s+=0<e.length?e.trim()+"|":""}),a=s.length,"|"===s.substring(a,a-1)&&(s=s.substring(0,a-1)),o.site.ext={key_val:s.trim()}):I.logWarn("PubMatic: Ignoring param : dctr with value : "+s+", expects string-value, found empty or non-string value"),1<i.length&&I.logWarn("PubMatic: dctr value found in more than 1 adunits. Value from 1st adunit will be picked. Ignoring values from subsequent adunits")):I.logWarn("PubMatic: dctr value not found in 1st adunit, ignoring values from subsequent adunits")),i=u,e=I.deepAccess(e,"0.userIdAsEids"),I.isArray(e)&&0<e.length&&I.deepSetValue(i,"user.eids",e),i=u,0<(e=(e=f).filter(function(e){return"string"==typeof e||(I.logWarn("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)}).map(function(e){return e.trim()}).filter(function(e,t,r){return 3<e.length?r.indexOf(e)===t:void I.logWarn("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)})).length&&(I.logWarn("PubMatic: bcat: Selected: ",e),i.bcat=e),"object"===ji(A.vc.getConfig("app"))&&(u.app=A.vc.getConfig("app"),u.app.publisher=u.site.publisher,u.app.ext=u.site.ext||Ci,"object"!==ji(u.app.content)&&(u.app.content=u.site.content||Ci),delete u.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(u),bidderRequest:t}},interpretResponse:function(e,n){var o=[],i="USD",a=JSON.parse(n.data),s=a.site&&a.site.ref?a.site.ref:"";try{e.body&&e.body.seatbid&&I.isArray(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach(function(e){e.bid&&I.isArray(e.bid)&&e.bid.forEach(function(t){var r={requestId:t.impid,cpm:(parseFloat(t.price)||0).toFixed(2),width:t.w,height:t.h,creativeId:t.crid||t.id,dealId:t.dealid,currency:i,netRevenue:!1,ttl:300,referrer:s,ad:t.adm,pm_seat:e.seat||null,pm_dspid:t.ext&&t.ext.dspid?t.ext.dspid:null,partnerImpId:t.id||""};a.imp&&0<a.imp.length&&a.imp.forEach(function(e){if(t.impid===e.id)switch(function(e,t){var r,n=new RegExp(/VAST\s+version/);if(0<=e.indexOf('span class="PubAPIAd"'))t.mediaType=w.Mk;else if(n.test(e))t.mediaType=w.pX;else try{(r=JSON.parse(e.replace(/\\/g,"")))&&r.native&&(t.mediaType=w.B5)}catch(t){I.logWarn("PubMatic: Error: Cannot parse native reponse for ad response: "+e)}}(t.adm,r),r.mediaType){case w.Mk:break;case w.pX:r.width=(t.hasOwnProperty("w")?t:e.video).w,r.height=(t.hasOwnProperty("h")?t:e.video).h,r.vastXml=t.adm,function(e,t){var r,n,o;if(t.bidderRequest&&t.bidderRequest.bids){for(var i=0;i<t.bidderRequest.bids.length;i++)t.bidderRequest.bids[i].bidId===e.requestId&&(r=t.bidderRequest.bids[i].params,n=t.bidderRequest.bids[i].mediaTypes[w.pX].context,o=t.bidderRequest.bids[i].adUnitCode);n&&"outstream"===n&&r&&r.outstreamAU&&o&&(e.rendererCode=r.outstreamAU,e.renderer=zi.newRenderer(e.rendererCode,o))}}(r,n);break;case w.B5:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return I.logWarn("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}if(r&&r.native&&r.native.assets&&0<r.native.assets.length){t.mediaType=w.B5;for(var n=0,o=r.native.assets.length;n<o;n++)switch(r.native.assets[n].id){case Ni.TITLE.ID:t.native.title=r.native.assets[n].title&&r.native.assets[n].title.text;break;case Ni.IMAGE.ID:t.native.image={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case Ni.ICON.ID:t.native.icon={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case Ni.SPONSOREDBY.ID:case Ni.BODY.ID:case Ni.LIKES.ID:case Ni.DOWNLOADS.ID:case Ni.PRICE:case Ni.SALEPRICE.ID:case Ni.PHONE.ID:case Ni.ADDRESS.ID:case Ni.DESC2.ID:case Ni.CTA.ID:case Ni.RATING.ID:case Ni.DISPLAYURL.ID:t.native[Wi[r.native.assets[n].id]]=r.native.assets[n].data&&r.native.assets[n].data.value}t.native.clickUrl=r.native.link&&r.native.link.url,t.native.clickTrackers=r.native.link&&r.native.link.clicktrackers||[],t.native.impressionTrackers=r.native.imptrackers||[],t.native.jstracker=r.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(t,r)}}),t.ext&&t.ext.deal_channel&&(r.dealChannel=qi[t.ext.deal_channel]||null),r.meta={},t.ext&&t.ext.dspid&&(r.meta.networkId=t.ext.dspid),t.ext&&t.ext.advid&&(r.meta.buyerId=t.ext.advid),t.adomain&&0<t.adomain.length&&(r.meta.advertiserDomains=t.adomain,r.meta.clickUrl=t.adomain[0]),e.ext&&e.ext.buyid&&(r.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),o.push(r)})}))}catch(e){I.logError(e)}return o},getUserSyncs:function(e,t,r,n){var o=""+Vi;return r&&(o+="&gdpr="+(r.gdprApplies?1:0),o+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),n&&(o+="&us_privacy="+encodeURIComponent(n)),!0===A.vc.getConfig("coppa")&&(o+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+o}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+o}]},transformBidParams:function(e,t){return I.convertTypes({publisherId:"string",adSlot:"string"},e)}};function $i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ji(){return(Ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(0,ct.dX)(Tt);var Qi={};A.vc.getConfig("rubicon",function(e){I.mergeDeep(Qi,e.rubicon)});var ea={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000"};I._each(ea,function(e,t){return ea[e]=t});var ta={code:"rubicon",gvlid:52,supportedMediaTypes:[w.Mk,w.pX],isBidRequestValid:function(e){if("object"!==Zi(e.params))return!1;for(var t=0,r=["accountId","siteId","zoneId"];t<r.length;t++)if(e.params[r[t]]=parseInt(e.params[r[t]]),isNaN(e.params[r[t]]))return I.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var n,o,i,a,s=ia(e,!0);return!!s&&("video"!==s||(n=e,o=!0,i=Object.prototype.toString.call([]),s=Object.prototype.toString.call(0),a={mimes:i,protocols:i,maxduration:s,linearity:s,api:i},Object.keys(a).forEach(function(e){Object.prototype.toString.call(I.deepAccess(n,"mediaTypes.video."+e))!==a[e]&&(o=!1,I.logError("Rubicon: mediaTypes.video."+e+" is required and must be of type: "+a[e]))}),o))},buildRequests:function(e,d){var n,t=e.filter(function(e){return"video"===ia(e)}).map(function(r){r.startTime=(new Date).getTime();var e,t,n,o,i,a={id:r.transactionId,test:A.vc.getConfig("debug")?1:0,cur:["USD"],source:{tid:r.transactionId},tmax:d.timeout,imp:[{exp:A.vc.getConfig("s2sConfig.defaultTtl"),id:r.adUnitCode,secure:1,ext:Xi({},r.bidder,r.params),video:I.deepAccess(r,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!0===Qi.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(i=A.vc).getConfig("customPriceBucket")&&i.getConfig("customPriceBucket").buckets}[i.getConfig("priceGranularity")]}},bidders:{rubicon:{integration:Qi.int_type||"pbjs"}}}}};if("rubicon"!==r.bidder&&(a.ext.prebid.aliases=Xi({},r.bidder,"rubicon")),"function"!=typeof r.getFloor||Qi.disableFloors)e=parseFloat(I.deepAccess(r,"params.floor"));else{try{t=r.getFloor({currency:"USD",mediaType:"video",size:na(r,"video")})}catch(r){I.logError("Rubicon: getFloor threw an error: ",r)}e="object"!==Zi(t)||"USD"!==t.currency||isNaN(parseInt(t.floor))?void 0:parseFloat(t.floor)}isNaN(e)||(a.imp[0].bidfloor=e),a.imp[0].ext[r.bidder].video.size_id=(e=r,i=parseInt(I.deepAccess(e,"params.video.size_id")),isNaN(i)?"outstream"===I.deepAccess(e,"mediaTypes.".concat(w.pX,".context"))?203:201:i),o=r,i=d,(n=a)&&("object"===Zi(A.vc.getConfig("app"))?n.app=A.vc.getConfig("app"):n.site={page:ra(o,i)},"object"===Zi(A.vc.getConfig("device"))&&(n.device=A.vc.getConfig("device")),o.params.video.language&&["site","device"].forEach(function(e){n[e]&&(n[e].content=Ji({language:o.params.video.language},n[e].content))})),function(e,t){"object"===Zi(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"===Zi(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"===Zi(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));t=na(t,"video");e.imp[0].video.w=t[0],e.imp[0].video.h=t[1]}(a,r),d.gdprConsent&&("boolean"==typeof d.gdprConsent.gdprApplies&&(s=d.gdprConsent.gdprApplies?1:0),I.deepSetValue(a,"regs.ext.gdpr",s),I.deepSetValue(a,"user.ext.consent",d.gdprConsent.consentString)),d.uspConsent&&I.deepSetValue(a,"regs.ext.us_privacy",d.uspConsent);var s=I.deepAccess(d,"bids.0.userIdAsEids");s&&s.length&&(I.deepSetValue(a,"user.ext.eids",s),(c=k()(a.user.ext.eids,function(e){return"liveintent.com"===e.source}))&&(I.deepSetValue(a,"user.ext.tpid",{source:c.source,uid:c.uids[0].id}),c.ext&&c.ext.segments&&I.deepSetValue(a,"rp.target.LIseg",c.ext.segments)));s=A.vc.getConfig("user.id");s&&I.deepSetValue(a,"user.id",s),!0===A.vc.getConfig("coppa")&&I.deepSetValue(a,"regs.coppa",1),r.schain&&aa(r.schain)&&I.deepSetValue(a,"source.ext.schain",r.schain);var c=Ji({},r.params.inventory,A.vc.getConfig("fpd.context")),s=Ji({},r.params.visitor,A.vc.getConfig("fpd.user"));I.isEmpty(c)&&I.isEmpty(s)||(u={bidders:[d.bidderCode],config:{fpd:{}}},I.isEmpty(c)||(u.config.fpd.site=c),I.isEmpty(s)||(u.config.fpd.user=s),I.deepSetValue(a,"ext.prebid.bidderconfig.0",u));var u=I.deepAccess(r,"fpd.context.pbAdSlot");return"string"==typeof u&&u&&I.deepSetValue(a.imp[0].ext,"context.data.pbadslot",u),["name","adSlot"].forEach(function(e){var t=I.deepAccess(r,"fpd.context.adserver.".concat(e));"string"==typeof t&&t&&I.deepSetValue(a.imp[0].ext,"context.data.adserver.".concat(e.toLowerCase()),t)}),r.storedAuctionResponse&&I.deepSetValue(a.imp[0],"ext.prebid.storedauctionresponse.id",r.storedAuctionResponse.toString()),I.deepSetValue(a.imp[0],"ext.prebid.auctiontimestamp",d.auctionStart),{method:"POST",url:"https://".concat(Qi.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:a,bidRequest:r}});return!0!==Qi.singleRequest?t.concat(e.filter(function(e){return"banner"===ia(e)}).map(function(e){var n=ta.createSlotParams(e,d);return{method:"GET",url:"https://".concat(Qi.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:ta.getOrderedParams(n).reduce(function(e,t){var r=n[t];return I.isStr(r)&&""!==r||I.isNumber(r)?"".concat(e).concat(sa(t,r),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})):(n=e.filter(function(e){return"banner"===ia(e)}).reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{}),t.concat(Object.keys(n).reduce(function(t,e){var r=n[e];return r.map(function(e,t){return t%10==0?r.slice(t,t+10):null}).filter(function(e){return e}).forEach(function(e){var n=ta.combineSlotUrlParams(e.map(function(e){return ta.createSlotParams(e,d)}));t.push({method:"GET",url:"https://".concat(Qi.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:ta.getOrderedParams(n).reduce(function(e,t){var r=n[t];return I.isStr(r)&&""!==r||I.isNumber(r)?"".concat(e).concat(sa(t,r),"&"):e},"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})}),t},[])))},getOrderedParams:function(e){var t=/^tg_v/,r=/^tg_i/,n=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain","tpid_tdid","tpid_liveintent.com","tg_v.LIseg","ppuid","eid_pubcid.org","eid_sharedid.org","eid_criteo.com","rf","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return r.test(e)})).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return n.concat(Object.keys(e).filter(function(e){return-1===n.indexOf(e)}))},combineSlotUrlParams:function(o){if(1===o.length)return o[0];var n=o.reduce(function(t,r,n){return Object.keys(r).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(o.length)),t[e].splice(n,1,r[e])}),t},{}),i=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(n).forEach(function(e){var t=n[e].join(";"),r=t.match(i);n[e]=r?r[1]:t}),n},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var r,n=e.params,o=na(e,"banner"),i=$i(n.latLong||[],2),a=i[0],i=i[1],s={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:o[0],alt_size_ids:o.slice(1).join(",")||void 0,rp_floor:.01<(n.floor=parseFloat(n.floor))?n.floor:.01,rp_secure:"1",tk_flint:"".concat(Qi.int_type||"pbjs_lite","_v4.13.0-mol-1"),"x_source.tid":e.transactionId,"x_source.pchain":n.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"p_geo.longitude":isNaN(parseFloat(i))?void 0:parseFloat(i).toFixed(4),"tg_fl.eid":e.code,rf:ra(e,t)};if("function"==typeof e.getFloor&&!Qi.disableFloors){try{r=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){I.logError("Rubicon: getFloor threw an error: ",e)}s.rp_hard_floor="object"!==Zi(r)||"USD"!==r.currency||isNaN(parseInt(r.floor))?void 0:r.floor}s.p_pos="atf"===n.position||"btf"===n.position?n.position:"",e.userIdAsEids&&e.userIdAsEids.length&&((c=k()(e.userIdAsEids,function(e){return"adserver.org"===e.source}))&&(s.tpid_tdid=c.uids[0].id),(c=k()(e.userIdAsEids,function(e){return"liveintent.com"===e.source}))&&(s["tpid_liveintent.com"]=c.uids[0].id,c.ext&&Array.isArray(c.ext.segments)&&c.ext.segments.length&&(s["tg_v.LIseg"]=c.ext.segments.join(","))),(c=k()(e.userIdAsEids,function(e){return"liveramp.com"===e.source}))&&(s.x_liverampidl=c.uids[0].id),(c=k()(e.userIdAsEids,function(e){return"sharedid.org"===e.source}))&&(s["eid_sharedid.org"]="".concat(c.uids[0].id,"^").concat(c.uids[0].atype,"^").concat(c.uids[0].ext.third)),(c=k()(e.userIdAsEids,function(e){return"pubcid.org"===e.source}))&&(s["eid_pubcid.org"]="".concat(c.uids[0].id,"^").concat(c.uids[0].atype)),(c=k()(e.userIdAsEids,function(e){return"criteo.com"===e.source}))&&(s["eid_criteo.com"]="".concat(c.uids[0].id,"^").concat(c.uids[0].atype)));var c=A.vc.getConfig("user.id");if(c)s.ppuid=c;else for(var u=0;e.userIdAsEids&&u<e.userIdAsEids.length;u++)if(e.userIdAsEids[u].uids){var d=k()(e.userIdAsEids[u].uids,function(e){return e.ext&&"ppuid"===e.ext.stype});if(d&&d.id){s.ppuid=d.id;break}}t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(s.gdpr=Number(t.gdprConsent.gdprApplies)),s.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(s.us_privacy=encodeURIComponent(t.uspConsent));var l=Ji({},n.visitor,A.vc.getConfig("fpd.user"));Object.keys(l).forEach(function(e){null!=l[e]&&"keywords"!==e&&(s["tg_v.".concat(e)]="object"!==Zi(l[e])||Array.isArray(l[e])?l[e].toString():JSON.stringify(l[e]))});var f=Ji({},n.inventory,A.vc.getConfig("fpd.context"));Object.keys(f).forEach(function(e){null!=f[e]&&"keywords"!==e&&(s["tg_i.".concat(e)]="object"!==Zi(f[e])||Array.isArray(f[e])?f[e].toString():JSON.stringify(f[e]))});n=(n.keywords||[]).concat(I.deepAccess(A.vc.getConfig("fpd.user"),"keywords")||[],I.deepAccess(A.vc.getConfig("fpd.context"),"keywords")||[]);s.kw=Array.isArray(n)&&n.length?n.join(","):"";n=I.deepAccess(e,"fpd.context.pbAdSlot");"string"==typeof n&&n&&(s["tg_i.pbadslot"]=n.replace(/^\/+/,""));n=I.deepAccess(e,"fpd.context.adServer.adSlot");return"string"==typeof n&&n&&(s["tg_i.dfp_ad_unit_code"]=n.replace(/^\/+/,"")),!0===A.vc.getConfig("coppa")&&(s.coppa=1),e.schain&&aa(e.schain)&&(s.rp_schain=ta.serializeSupplyChain(e.schain)),s},serializeSupplyChain:function(e){if(!aa(e))return"";var t=e.ver,r=e.complete,e=e.nodes;return"".concat(t,",").concat(r,"!").concat(ta.serializeSupplyChainNodes(e))},serializeSupplyChainNodes:function(e){var r=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return r.map(function(e){return encodeURIComponent(t[e]||"")}).join(",")}).join("!")},interpretResponse:function(s,e){var c=e.bidRequest;if(!(s=s.body)||"object"!==Zi(s))return[];if(s.seatbid){var t=I.deepAccess(s,"ext.errors.rubicon");Array.isArray(t)&&0<t.length&&I.logWarn("Rubicon: Error in video response");var o=[];return s.seatbid.forEach(function(n){(n.bid||[]).forEach(function(e){var t={requestId:c.bidId,currency:s.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:n.seat,ttl:300,netRevenue:!1!==Qi.netRevenue,width:e.w||I.deepAccess(c,"mediaTypes.video.w")||I.deepAccess(c,"params.video.playerWidth"),height:e.h||I.deepAccess(c,"mediaTypes.video.h")||I.deepAccess(c,"params.video.playerHeight")};e.id&&(t.seatBidId=e.id),e.dealid&&(t.dealId=e.dealid);var r=I.deepAccess(s,"ext.responsetimemillis.rubicon");c&&r&&(c.serverResponseTimeMs=r),I.deepAccess(e,"ext.prebid.type")===w.pX?(t.mediaType=w.pX,(r=I.deepAccess(e,"ext.prebid.targeting"))&&"object"===Zi(r)&&(t.adserverTargeting=r),e.ext.prebid.cache&&"object"===Zi(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):r&&r.hb_uuid&&r.hb_cache_host&&r.hb_cache_path&&(t.videoCacheKey=r.hb_uuid,t.vastUrl="https://".concat(r.hb_cache_host).concat(r.hb_cache_path,"?uuid=").concat(r.hb_uuid)),e.adm&&(t.vastXml=e.adm),e.nurl&&(t.vastUrl=e.nurl),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl)):I.logWarn("Rubicon: video response received non-video media type"),o.push(t)})}),o}t=s.ads;return"object"!==Zi(c)||Array.isArray(c)||"video"!==ia(c)||"object"!==Zi(t)||(t=t[c.adUnitCode]),!Array.isArray(t)||t.length<1?[]:t.reduce(function(e,t,r){if("ok"!==t.status)return e;var n,o,i,a=Array.isArray(c)?c[r]:c;return a&&"object"===Zi(a)?(o={requestId:a.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==Qi.netRevenue,rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network}},t.creative_type&&(o.mediaType=t.creative_type),t.creative_type===w.pX?(o.width=a.params.video.playerWidth,o.height=a.params.video.playerHeight,o.vastUrl=t.creative_depot_url,o.impression_id=t.impression_id,o.videoCacheKey=t.impression_id):(o.ad=(i=t.script,n=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(n,"'>\n<script type='text/javascript'>").concat(i,"<\/script>\n</div>\n</body>\n</html>")),i=$i(ea[t.size_id].split("x").map(function(e){return Number(e)}),2),o.width=i[0],o.height=i[1]),o.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:a.adUnitCode}),e.push(o)):I.logError("Rubicon: bidRequest undefined at index position:".concat(r),c,s),e},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})},getUserSyncs:function(e,t,r,n){if(!ca&&e.iframeEnabled){e="";return r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?e+="?gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):e+="?gdpr_consent=".concat(r.consentString)),n&&(e+="".concat(e?"&":"?","us_privacy=").concat(encodeURIComponent(n))),ca=!0,{type:"iframe",url:"https://".concat(Qi.syncHost||"eus",".rubiconproject.com/usync.html")+e}}},transformBidParams:function(e,t){return I.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function ra(e,t){var r=A.vc.getConfig("pageUrl"),r=e.params.referrer||r||t.refererInfo.referer;return e.params.secure?r.replace(/^http:/i,"https:"):r}function na(e,t){var r=e.params;if("video"===t){var n=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?n=[r.video.playerWidth,r.video.playerHeight]:Array.isArray(I.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(n=e.sizes[0]),n}var o,n=[];return Array.isArray(r.sizes)?n=r.sizes:void 0!==I.deepAccess(e,"mediaTypes.banner.sizes")?n=oa(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?n=oa(e.sizes):I.logWarn("Rubicon: no sizes are setup or found"),o=[15,2,9],n.sort(function(e,t){var r=o.indexOf(e),n=o.indexOf(t);return-1<r||-1<n?-1===r?1:-1===n?-1:r-n:e-t})}function oa(e){return I.parseSizesInput(e).reduce(function(e,t){t=parseInt(ea[t],10);return t&&e.push(t),e},[])}function ia(e,t){var r=1<arguments.length&&void 0!==t&&t;return t=e,"object"===Zi(I.deepAccess(t,"params.video"))&&void 0!==I.deepAccess(t,"mediaTypes.".concat(w.pX))?-1===["outstream","instream"].indexOf(I.deepAccess(e,"mediaTypes.".concat(w.pX,".context")))?void(r&&I.logError("Rubicon: mediaTypes.video.context must be outstream or instream")):na(e,"video").length<2?void(r&&I.logError("Rubicon: could not determine the playerSize of the video")):(r&&I.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===na(e,"banner").length?void(r&&I.logError("Rubicon: could not determine the sizes for banner request")):(r&&I.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}function aa(e){var t=!1,r=["asi","sid","hp"];return e.nodes&&((t=e.nodes.reduce(function(e,t){return e&&r.every(function(e){return t.hasOwnProperty(e)})},!0))||I.logError("Rubicon: required schain params missing")),t}function sa(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var ca=!1;(0,ct.dX)(ta);var ua="sharethrough",da=[1,1],la={b64EncodeUnicode:fa,handleIframe:function(){var e=!1;if(!window.lockedInFrame){var t=document.createElement("script");t.src="https://native.sharethrough.com/assets/sfp-set-targeting.js",t.type="text/javascript";try{window.document.getElementsByTagName("body")[0].appendChild(t),e=!0}catch(e){I.logError("Trouble writing frame buster script, error details:",e)}}if(!(e?window.top.STR&&window.top.STR.Tag:window.STR&&window.STR.Tag)){t=document.createElement("script");t.src="https://native.sharethrough.com/assets/sfp.js",t.type="text/javascript";try{(e?window.top:window).document.getElementsByTagName("body")[0].appendChild(t)}catch(e){I.logError("Trouble writing sfp script, error details:",e)}}},isLockedInFrame:function(){window.lockedInFrame=!1;try{window.lockedInFrame=!window.top.document}catch(e){window.lockedInFrame=e instanceof DOMException}},getProtocol:function(){return document.location.protocol}},Tt={code:ua,isBidRequestValid:function(e){return!!e.params.pkey&&e.bidder===ua},buildRequests:function(e,n){return e.map(function(e){var t={placement_key:e.params.pkey,bidId:e.bidId,consent_required:!1,instant_play_capable:function(){var e=navigator.userAgent;if(!e)return!1;var t=/Android/i.test(e),r=/iPhone|iPad|iPod/i.test(e),n=parseInt((/Chrome\/([0-9]+)/.exec(e)||[0,0])[1]),o=parseInt((/CriOS\/([0-9]+)/.exec(e)||[0,0])[1]),e=parseInt((/Version\/([0-9]+)/.exec(e)||[0,0])[1]);return!!(t&&53<=n||r&&(10<=e||53<=o)||!t&&!r)}(),hbSource:"prebid",hbVersion:"4.13.0-mol-1",strVersion:"3.2.1"},r=la.getProtocol().indexOf("http")<0;return t.secure=r||-1<la.getProtocol().indexOf("https"),n&&n.gdprConsent&&n.gdprConsent.consentString&&(t.consent_string=n.gdprConsent.consentString),n&&n.gdprConsent&&(t.consent_required=!!n.gdprConsent.gdprApplies),n&&n.uspConsent&&(t.us_privacy=n.uspConsent),e.userId&&e.userId.tdid&&(t.ttduid=e.userId.tdid),e.schain&&(t.schain=JSON.stringify(e.schain)),e.bidfloor&&(t.bidfloor=parseFloat(e.bidfloor)),{method:"GET",url:"https://btlr.sharethrough.com/WYu2BXv1/v1",data:t,strData:{skipIframeBusting:e.params.iframe,iframeSize:e.params.iframeSize,sizes:e.sizes}}})},interpretResponse:function(e,t){var r=e.body;if(!r||!r.creatives||!r.creatives.length)return[];var n=r.creatives[0],e=da;return(t.strData.iframeSize||t.strData.sizes.length)&&(e=t.strData.iframeSize||t.strData.sizes.reduce(function(e,t){return o(t)>o(e)?t:e})),[{requestId:t.data.bidId,width:e[0],height:e[1],cpm:n.cpm,creativeId:n.creative.creative_key,dealId:n.creative.deal_id,currency:"USD",netRevenue:!0,ttl:360,ad:(n=r,t="str_response_".concat((r=t).data.bidId),n='\n    <div data-str-native-key="'.concat(r.data.placement_key,'" data-stx-response-name="').concat(t,'">\n    </div>\n    <script>var ').concat(t,' = "').concat(fa(JSON.stringify(n)),'"<\/script>\n  '),r.strData.skipIframeBusting?n+='<script src="https://native.sharethrough.com/assets/sfp.js"><\/script>':n+="\n      <script>\n        (".concat(la.isLockedInFrame.toString(),")()\n      <\/script>\n      <script>\n        (").concat(la.handleIframe.toString(),")()\n      <\/script>"),n)}];function o(e){return e[0]*e[1]}},getUserSyncs:function(e,t,r,n){var o=n?"&us_privacy=".concat(n):"",i=[];return e.pixelEnabled&&0<t.length&&t[0].body&&t[0].body.cookieSyncUrls&&t[0].body.cookieSyncUrls.forEach(function(e){i.push({type:"image",url:e+o})}),i},onTimeout:function(e){},onBidWon:function(e){},onSetTargeting:function(e){}};function fa(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}function pa(e){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(0,ct.dX)(Tt);var ga={consented_providers:["3","7","11","12","15","20","22","35","43","46","48","55","57","61","62","66","70","80","83","85","86","89","93","108","122","124","125","126","131","134","135","136","143","144","147","149","153","154","159","161","162","165","167","171","178","184","188","192","195","196","202","209","211","218","221","228","229","230","236","239","241","253","255","259","266","271","272","274","286","291","294","303","308","310","311","313","314","316","317","322","323","327","336","338","340","348","350","358","359","363","367","370","371","384","385","389","393","394","397","398","407","414","415","424","429","430","432","436","438","440","442","443","445","448","449","453","459","479","482","486","491","492","494","495","503","505","510","522","523","528","537","540","550","559","560","568","571","574","575","576","584","585","587","588","590","591","592","595","609","621","624","723","725","733","737","776","780","782","787","797","798","802","803","814","817","820","821","827","829","839","853","864","867","874","899","904","922","926","931","932","933","938","955","973","976","979","981","985","987","991","1003","1024","1025","1027","1028","1029","1033","1034","1040","1047","1048","1051","1052","1053","1054","1062","1063","1067","1072","1085","1092","1095","1097","1099","1100","1107","1126","1127","1143","1149","1152","1162","1166","1167","1170","1171","1172","1188","1192","1199","1201","1204","1205","1211","1212","1215","1220","1225","1226","1227","1230","1232","1236","1241","1248","1250","1252","1268","1275","1276","1284","1286","1298","1301","1307","1312","1313","1317","1329","1336","1344","1345","1356","1362","1365","1375","1403","1409","1411","1415","1416","1419","1423","1440","1442","1449","1451","1455","1456","1468","1496","1503","1509","1512","1514","1517","1520","1525","1540","1547","1548","1555","1558","1570","1575","1577","1579","1583","1584","1591","1598","1603","1608","1613","1616","1626","1631","1633","1638","1642","1648","1651","1652","1653","1660","1665","1667","1669","1671","1674","1677","1678","1682","1684","1697","1703","1705","1716","1720","1721","1722","1725","1732","1733","1735","1739","1741","1745","1750","1753","1760","1765","1769","1776","1780","1782","1786","1791","1794","1799","1800","1801","1810","1827","1831","1832","1834","1837","1840","1843","1844","1845","1858","1859","1863","1866","1870","1872","1875","1878","1880","1882","1883","1889","1892","1896","1898","1899","1902","1905","1911","1922","1928","1929","1934","1942","1943","1944","1945","1958","1960","1962","1963","1964","1967","1968","1978","1985","1986","1987","1998","2003","2007","2012","2013","2027","2035","2038","2039","2044","2047","2052","2056","2059","2062","2064","2068","2070","2072","2078","2079","2084","2088","2090","2095","2100","2103","2107","2109","2113","2115","2121","2127","2130","2133","2137","2140","2141","2145","2147","2150","2156","2166","2170","2171","2176","2177","2179","2183","2186","2192","2198","2202","2205","2214","2216","2219","2220","2222","2223","2224","2225","2227","2228","2234","2238","2247","2251","2253","2262","2264","2271","2276","2278","2279","2282","2290","2292","2295","2299","2305","2306","2310","2311","2312","2315","2320","2325","2328","2331","2334","2335","2336","2337","2343","2346","2354","2357","2358","2359","2366","2370","2373","2376","2377","2380","2382","2387","2389","2392","2394","2400","2403","2405","2406","2407","2410","2411","2413","2414","2415","2416","2418","2422","2425","2427","2435","2437","2440","2441","2447","2453","2459","2461","2462","2464","2467","2468","2472","2477","2481","2484","2486","2492","2493","2496","2497","2498","2499","2504","2506","2510","2511","2512","2517","2526","2527","2531","2532","2534","2542","2544","2552","2555","2559","2563","2564","2567","2568","2569","2571","2572","2573","2575","2577","2579","2583","2584","2586","2589","2595","2596","2597","2601","2604","2605","2609","2610","2612","2614","2621","2622","2624","2628","2629","2632","2634","2636","2639","2643","2645","2646","2647","2649","2650","2651","2652","2656","2657","2658","2660","2661","2662","2663","2664","2669","2670","2673","2676","2677","2678","2681","2682","2684","2685","2686","2689","2690","2691","2695","2698","2699","2702","2704","2705","2706","2707","2709","2710","2713","2714","2727","2729","2739","2758","2765","2766","2767","2768","2770","2771","2772","2776","2777","2778","2779","2780","2783","2784","2786","2787","2791","2792","2793","2797","2798","2801","2802","2803","2805","2808","2809","2810","2811","2812","2813","2814","2817","2818","2824","2826","2827","2829","2830","2831","2832","2834","2836","2838","2840","2842","2843","2844","2850","2851","2852","2854","2858","2860","2862","2864","2865","2866","2867","2868","2869","2871"]},Tt={code:"spotx",gvlid:165,aliases:["spotx"],supportedMediaTypes:[w.pX],isBidRequestValid:function(e){if(e&&"object"!==pa(e.params))return I.logError("spotx: params is not defined or is incorrect in the bidder settings."),!1;if(!I.deepAccess(e,"mediaTypes.video"))return I.logError("spotx: mediaTypes.video is not present in the bidder settings."),!1;var t=I.deepAccess(e,"mediaTypes.video.playerSize");if(!t||!I.isArray(t))return I.logError("spotx: mediaTypes.video.playerSize is not defined in the bidder settings."),!1;if(!I.getBidIdParameter("channel_id",e.params))return I.logError("spotx: channel_id is not present in bidder params"),!1;if(("outstream"==I.deepAccess(e,"mediaTypes.video.context")||"outstream"==I.deepAccess(e,"params.ad_unit"))&&!I.getBidIdParameter("outstream_function",e.params)){if(!I.getBidIdParameter("outstream_options",e.params))return I.logError("spotx: please define outstream_options parameter or override the default SpotX outstream rendering by defining your own Outstream function using field outstream_function."),!1;if(!I.getBidIdParameter("slot",e.params.outstream_options))return I.logError("spotx: please define parameters slot outstream_options object in the configuration."),!1}return!0},buildRequests:function(e,p){var g=p.refererInfo.referer,m=!!g.match(/^https:/);return e.map(function(e){var t=I.getBidIdParameter("page",e.params)?I.getBidIdParameter("page",e.params):A.vc.getConfig("pageUrl")?A.vc.getConfig("pageUrl"):g,r=I.getBidIdParameter("channel_id",e.params),n=null,o=I.deepAccess(e,"mediaTypes.video.playerSize"),i=o[0][0],a=o[0][1],s=m||(I.getBidIdParameter("secure",e.params)?1:0),c={sdk_name:"Prebid 1+",versionOrtb:"2.3"};if(""!=I.getBidIdParameter("hide_skin",e.params)&&(c.hide_skin=+!!I.getBidIdParameter("hide_skin",e.params)),""!=I.getBidIdParameter("ad_volume",e.params)&&(c.ad_volume=I.getBidIdParameter("ad_volume",e.params)),""!=I.getBidIdParameter("ad_unit",e.params)&&(c.ad_unit=I.getBidIdParameter("ad_unit",e.params)),""!=I.getBidIdParameter("outstream_options",e.params)&&(c.outstream_options=I.getBidIdParameter("outstream_options",e.params)),""!=I.getBidIdParameter("outstream_function",e.params)&&(c.outstream_function=I.getBidIdParameter("outstream_function",e.params)),""!=I.getBidIdParameter("custom",e.params)&&(c.custom=I.getBidIdParameter("custom",e.params)),""!=I.getBidIdParameter("pre_market_bids",e.params)&&I.isArray(I.getBidIdParameter("pre_market_bids",e.params))){var u,d=I.getBidIdParameter("pre_market_bids",e.params);for(u in c.pre_market_bids=[],d){var l=d[u],f="";l.vast_url?f='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+l.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":l.vast_string&&(f=l.vast_string),c.pre_market_bids.push({id:l.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:l.deal_id,price:l.price,adm:f}]}],cur:l.currency,ext:{event_log:[{}]}})}}o=I.getBidIdParameter("mimes",e.params)||["application/javascript","video/mp4","video/webm"],a={id:e.bidId,secure:s,video:{w:i,h:a,ext:c,mimes:o}};""!=I.getBidIdParameter("price_floor",e.params)&&(a.bidfloor=I.getBidIdParameter("price_floor",e.params)),""!=I.getBidIdParameter("start_delay",e.params)&&(a.video.startdelay=0+Boolean(I.getBidIdParameter("start_delay",e.params))),""!=I.getBidIdParameter("min_duration",e.params)&&(a.video.minduration=I.getBidIdParameter("min_duration",e.params)),""!=I.getBidIdParameter("max_duration",e.params)&&(a.video.maxduration=I.getBidIdParameter("max_duration",e.params)),""!=I.getBidIdParameter("placement_type",e.params)&&(a.video.ext.placement=I.getBidIdParameter("placement_type",e.params)),""!=I.getBidIdParameter("position",e.params)&&(a.video.ext.pos=I.getBidIdParameter("position",e.params)),e.crumbs&&e.crumbs.pubcid&&(n=e.crumbs.pubcid);o=navigator.language?"language":"userLanguage",t={id:r,imp:a,site:{id:"",page:t,content:"content"},device:{h:screen.height,w:screen.width,dnt:I.getDNT()?1:0,language:navigator[o].split("-")[0],make:navigator.vendor||"",ua:navigator.userAgent},ext:{wrap_response:1}};I.getBidIdParameter("number_of_ads",e.params)&&(t.ext.number_of_ads=I.getBidIdParameter("number_of_ads",e.params));o={};return 1==I.getBidIdParameter("spotx_all_google_consent",e.params)&&(o.consented_providers_settings=ga),p&&p.gdprConsent&&(o.consent=p.gdprConsent.consentString,void 0!==p.gdprConsent.gdprApplies&&I.deepSetValue(t,"regs.ext.gdpr",p.gdprConsent.gdprApplies?1:0)),p&&p.uspConsent&&I.deepSetValue(t,"regs.ext.us_privacy",p.uspConsent),I.deepAccess(e,"userId.id5id.uid")&&(o.eids=o.eids||[],o.eids.push({source:"id5-sync.com",uids:[{id:e.userId.id5id.uid}],ext:e.userId.id5id.ext||{}})),n&&(o.fpc=n),e&&e.schain&&(t.source={ext:{schain:e.schain}}),e&&e.userId&&e.userId.tdid&&(o.eids=o.eids||[],o.eids.push({source:"adserver.org",uids:[{id:e.userId.tdid,ext:{rtiPartner:"TDID"}}]})),I.isEmpty(o)||(t.user={ext:o}),{method:"POST",url:"https://search.spotxchange.com/openrtb/2.3/dados/"+r,data:t,bidRequest:p}})},interpretResponse:function(e,a){var s=[],c=e.body;return c&&I.isArray(c.seatbid)&&I._each(c.seatbid,function(e){I._each(e.bid,function(t){var e,r={};for(e in a.bidRequest.bids)t.impid==a.bidRequest.bids[e].bidId&&(r=a.bidRequest.bids[e]);I._each(r.params.pre_market_bids,function(e){e.deal_id==t.id&&(t.price=e.price,c.cur=e.currency)});var n={requestId:r.bidId,currency:c.cur||"USD",cpm:t.price,creativeId:t.crid||"",dealId:t.dealid||"",ttl:360,netRevenue:!0,channel_id:c.id,cache_key:t.ext.cache_key,vastUrl:"https://search.spotxchange.com/ad/vast.html?key="+t.ext.cache_key,videoCacheKey:t.ext.cache_key,mediaType:w.pX,width:t.w,height:t.h};n.meta=n.meta||{},t&&t.adomain&&0<t.adomain.length&&(n.meta.advertiserDomains=t.adomain);var o=I.deepAccess(r,"mediaTypes.video.context"),i=I.deepAccess(r,"params.ad_unit");if("outstream"==o||"outstream"==i){i=I.deepAccess(r,"mediaTypes.video.playerSize"),i=x.install({id:0,url:"//",config:{adText:"SpotX Outstream Video Ad via Prebid.js",player_width:i[0][0],player_height:i[0][1],content_page_url:I.deepAccess(a,"data.site.page"),ad_mute:+!!I.deepAccess(r,"params.ad_mute"),hide_skin:+!!I.deepAccess(r,"params.hide_skin"),outstream_options:I.deepAccess(r,"params.outstream_options"),outstream_function:I.deepAccess(r,"params.outstream_function")}});try{i.setRender(ma),i.setEventHandlers({impression:function(){return I.logMessage("SpotX outstream video impression event")},loaded:function(){return I.logMessage("SpotX outstream video loaded event")},ended:function(){I.logMessage("SpotX outstream renderer video event")}})}catch(t){I.logWarn("Prebid Error calling setRender or setEve,tHandlers on renderer",t)}n.renderer=i}s.push(n)})}),s}};function ma(e){var t=function(e){var t=I.getBidIdParameter("slot",e.renderer.config.outstream_options);I.logMessage("[SPOTX][renderer] Handle SpotX outstream renderer");var r=window.document.createElement("script");r.type="text/javascript",r.src="https://js.spotx.tv/easi/v1/"+e.channel_id+".js";var n={};n["data-spotx_channel_id"]=""+e.channel_id,n["data-spotx_vast_url"]=""+e.vastUrl,n["data-spotx_content_page_url"]=e.renderer.config.content_page_url,n["data-spotx_ad_unit"]="incontent",I.logMessage("[SPOTX][renderer] Default beahavior"),I.getBidIdParameter("ad_mute",e.renderer.config.outstream_options)&&(n["data-spotx_ad_mute"]="1"),n["data-spotx_collapse"]="0",n["data-spotx_autoplay"]="1",n["data-spotx_blocked_autoplay_override_mode"]="1",n["data-spotx_video_slot_can_autoplay"]="1";var o,i,a,s,c=I.getBidIdParameter("playersize_auto_adapt",e.renderer.config.outstream_options);c&&I.isBoolean(c)&&!0===c&&(e.width&&I.isNumber(e.width)&&e.height&&I.isNumber(e.height)?(o=e.width/e.height,i=window.document.getElementById(t).clientWidth,a=e.renderer.config.player_width,s=e.renderer.config.player_height,t=c=0,i<a&&(s=(a=i)/o),t=o<=1?(c=Math.round(s*o),s):(c=a,Math.round(a/o)),n["data-spotx_content_width"]=""+c,n["data-spotx_content_height"]=""+t):I.logWarn("[SPOTX][renderer] PlayerSize auto adapt: bid.width and bid.height are incorrect"));var u,d=I.getBidIdParameter("custom_override",e.renderer.config.outstream_options);if(d&&I.isPlainObject(d))for(var l in I.logMessage("[SPOTX][renderer] Custom behavior."),d)d.hasOwnProperty(l)&&("channel_id"===l||"vast_url"===l||"content_page_url"===l||"ad_unit"===l?I.logWarn("[SPOTX][renderer] Custom behavior: following option cannot be overridden: "+l):n["data-spotx_"+l]=d[l]);for(u in n)n.hasOwnProperty(u)&&r.setAttribute(u,n[u]);return r}(e);if(null!=e.renderer.config.outstream_function&&"function"==typeof e.renderer.config.outstream_function)e.renderer.config.outstream_function(e,t);else try{var r,n,o,i=I.getBidIdParameter("in_iframe",e.renderer.config.outstream_options);(i&&"IFRAME"==window.document.getElementById(i).nodeName?(n=!(n=(r=window.document.getElementById(i)).contentDocument)&&r.contentWindow?r.contentWindow.document:n).body:(o=I.getBidIdParameter("slot",e.renderer.config.outstream_options))&&window.document.getElementById(o)?window.document.getElementById(o):window.document.getElementsByTagName("head")[0]).appendChild(t)}catch(e){I.logError("[SPOTX][renderer] Error:"+e.message)}}(0,ct.dX)(Tt);var ya=r(4753);function ha(e){var t,r,n,o,i={},a=ya.getValue(e.params,"placementId"),s=ya.getValue(e.params,"pageId");return i.sizes=ya.parseSizesInput((t=e,r=ya.deepAccess(t,"mediaTypes.video.playerSize"),n=ya.deepAccess(t,"mediaTypes.video.sizes"),o=ya.deepAccess(t,"mediaTypes.banner.sizes"),ya.isArray(o)||ya.isArray(r)||ya.isArray(n)?[o,n,r].reduce(function(t,e){return ya.isArray(e)&&(ya.isArray(e[0])?e.forEach(function(e){t.push(e)}):t.push(e)),t},[]):t.sizes)),i.bidId=ya.getBidIdParameter("bidId",e),i.bidderRequestId=ya.getBidIdParameter("bidderRequestId",e),i.placementId=parseInt(a,10),i.pageId=parseInt(s,10),i.adUnitCode=ya.getBidIdParameter("adUnitCode",e),i.auctionId=ya.getBidIdParameter("auctionId",e),i.transactionId=ya.getBidIdParameter("transactionId",e),i}function va(e){return 0<parseInt(e)}function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wa(){return(wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}(0,ct.dX)({code:"teads",supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){var t,r=!1;return void 0!==e.params&&(t=va(ya.getValue(e.params,"placementId")),e=va(ya.getValue(e.params,"pageId")),r=t&&e),r||ya.logError("Teads placementId and pageId parameters are required. Bid aborted."),r},buildRequests:function(e,t){var r=e.map(ha),n={referrer:(i="",i=(s=t)&&s.refererInfo&&s.refererInfo.referer?s.refererInfo.referer:i),pageReferrer:document.referrer,networkBandwidth:(o=window.navigator)&&o.connection&&0<=o.connection.downlink?o.connection.downlink.toString():"",timeToFirstByte:function(e){var t=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance,e=t&&"function"==typeof t.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(t.getEntriesByType)&&t.getEntriesByType("navigation")[0]&&t.getEntriesByType("navigation")[0].responseStart&&t.getEntriesByType("navigation")[0].requestStart&&0<t.getEntriesByType("navigation")[0].responseStart&&0<t.getEntriesByType("navigation")[0].requestStart&&Math.round(t.getEntriesByType("navigation")[0].responseStart-t.getEntriesByType("navigation")[0].requestStart);if(e)return e.toString();t=t&&t.timing.responseStart&&t.timing.requestStart&&0<t.timing.responseStart&&0<t.timing.requestStart&&t.timing.responseStart-t.timing.requestStart;return t?t.toString():""}(window),data:r,deviceWidth:screen.width,hb_version:"4.13.0-mol-1"};e[0].schain&&(n.schain=e[0].schain);var o,i,a,s=t.gdprConsent;return t&&s&&(i="boolean"==typeof s.gdprApplies,o="string"==typeof s.consentString,a=i?(r=s.gdprApplies,e=s.vendorData,i=s.apiVersion,a=12,r?(e&&1===i?e.hasGlobalScope||e.hasGlobalConsent:e&&2===i&&!e.isServiceSpecific)&&(a=11):a=0,a):22,n.gdpr_iab={consent:o?s.consentString:"",status:a,apiVersion:s.apiVersion}),t&&t.uspConsent&&(n.us_privacy=t.uspConsent),{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(n)}},interpretResponse:function(e,t){var r=[];return(e=e.body).responses&&e.responses.forEach(function(e){var t={cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,ad:e.ad,requestId:e.bidId,creativeId:e.creativeId,placementId:e.placementId};e.dealId&&(t.dealId=e.dealId),r.push(t)}),r}});var r="tremorhub.com",Sa="ads.".concat(r,"/ad/tag"),_a="events.".concat(r,"/diag"),r={code:"telaria",aliases:["tremor","tremorvideo"],supportedMediaTypes:[w.pX],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.adCode&&e.params.supplyCode)},buildRequests:function(e,r){var n=[];return e.forEach(function(e){var t=function(e,t){var r,n=I.deepAccess(e,"mediaTypes.video.playerSize");n||I.logWarn("Although player size isn't required it is highly recommended"),n&&(!I.isArray(n)||2!==n.length||isNaN(n[0])||isNaN(n[1])?"object"===ba(n)&&(r=n[0][0],i=n[0][1]):(r=n[0],i=n[1]));var o=I.deepAccess(e,"params.supplyCode"),n=I.deepAccess(e,"params.adCode");if(o&&n){n="https://".concat(o,".").concat(Sa,"?adCode=").concat(n);r&&(n+="&playerWidth=".concat(r)),i&&(n+="&playerHeight=".concat(i));var i=wa({srcPageUrl:Oa()},e.params);return delete i.adCode,n+="".concat(Ea(i,e.schain)),n+="&transactionId=".concat(e.transactionId),t&&(t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(n+="&gdpr=".concat(t.gdprConsent.gdprApplies?1:0)),t.gdprConsent.consentString&&(n+="&gdpr_consent=".concat(t.gdprConsent.consentString))),t.refererInfo&&t.refererInfo.referer&&(n+="&referrer=".concat(encodeURIComponent(t.refererInfo.referer)))),n+"&hb=1&fmt=json"}}(e,r);t&&n.push({method:"GET",url:t,bidId:e.bidId,vastUrl:t.split("&fmt=json")[0]})}),n},interpretResponse:function(e,t){var r,n,o,i,a=[];try{r=e.body,t.url.split("&").forEach(function(e){var t=e.toLowerCase();-1<t.indexOf("player")&&(-1<t.indexOf("width")?n=e.split("=")[1]:-1<t.indexOf("height")&&(o=e.split("=")[1]))})}catch(e){I.logError(e),o=n=0}return!r||r.error?(i="in response for ".concat(t.bidderCode," adapter"),r&&r.error&&(i+=": ".concat(r.error)),I.logError(i)):I.isEmpty(r.seatbid)||r.seatbid[0].bid.forEach(function(e){a.push(function(e,t,r,n,o){e=(0,De.m)(e,t);return r&&wa(e,{requestId:t.bidId,cpm:r.price,creativeId:r.crid||"-1",vastXml:r.adm,vastUrl:t.vastUrl,mediaType:"video",width:n,height:o,bidderCode:"telaria",adId:r.id,currency:"USD",netRevenue:!0,ttl:300,ad:r.adm}),e.meta=e.meta||{},r&&r.adomain&&0<r.adomain.length&&(e.meta.advertiserDomains=r.adomain),e}(p.STATUS.GOOD,t,e,n,o))}),a},getUserSyncs:function(e,t){var r=[];return e.pixelEnabled&&t.length&&(I.deepAccess(t,"0.body.ext.telaria.userSync")||[]).forEach(function(e){return r.push({type:"image",url:e})}),r},onTimeout:function(e){e=Aa(e);e&&I.triggerPixel(e)}};function Oa(){return encodeURIComponent(document.location.href)}function Ia(e){return I.isEmpty(e)?"":encodeURIComponent(e)}function Ea(e,t){var r="";if(!I.isEmpty(e)){for(var n in e)"schain"!==n&&e.hasOwnProperty(n)&&!I.isEmpty(e[n])&&(r+="&".concat(n,"=").concat(e[n]));r+=function(e){if(I.isEmpty(e))return"";var t="&schain=".concat(e.ver,",").concat(e.complete);return e.nodes.forEach(function(e){t+="!",t+="".concat(Ia(e.asi),","),t+="".concat(Ia(e.sid),","),t+="".concat(Ia(e.hp),","),t+="".concat(Ia(e.rid),","),t+="".concat(Ia(e.name),","),t+="".concat(Ia(e.domain))}),t}(I.isEmpty(t)?e.schain:t)}return r}var Aa=function(e){var t=I.deepAccess(e,"0.params.0");if(!I.isEmpty(t)){e="https://".concat(_a),t=wa({srcPageUrl:Oa()},t);return e+"".concat(Ea(t))+"&hb=1&evt=TO"}};function ka(){return(ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xa(e){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pa(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ja(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Pa(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Pa(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function Ta(e){return function(e){if(Array.isArray(e))return Ca(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return Ca(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ca(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}(0,ct.dX)(r);var Ra=!0,Da=null,r={code:"triplelift",supportedMediaTypes:[w.Mk,w.pX],isBidRequestValid:function(e){if(e.mediaTypes.video){var t=Ua(e);if(!t.w||!t.h)return!1}return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var r="https://tlx.3lift.com/header/auction?",n=function(e){var t,r,n={},o=e[0].schain,i=(i={},t=ka({},A.vc.getConfig("fpd.context")),r=ka({},A.vc.getConfig("fpd.user")),Ma(i,t),Ma(i,r),i);n.imp=e.map(function(e,t){var r={id:t,tagid:e.params.inventoryCode,floor:function(e){var t=null;{var r;"function"==typeof e.getFloor&&("object"!==xa(r=e.getFloor({currency:"USD",mediaType:"banner",size:Na(e.sizes)}))||"USD"!==r.currency||isNaN(parseFloat(r.floor))||(t=parseFloat(r.floor)))}return null!==t?t:e.params.floor}(e)};return(t=e).mediaTypes.video&&t.mediaTypes.video.context&&"instream"===t.mediaTypes.video.context.toLowerCase()?r.video=Ua(e):e.mediaTypes.banner&&(r.banner={format:Na(e.sizes)}),r});e=[].concat(Ta(Ba(e,"tdid","adserver.org","TDID")),Ta(Ba(e,"idl_env","liveramp.com","idl")),Ta(Ba(e,"criteoId","criteo.com","criteoId")));0<e.length&&(n.user={ext:{eids:e}});e=o,o=i,i={},I.isEmpty(e)||(i.schain=ja({},e)),I.isEmpty(o)||(i.fpd=ja({},o));return I.isEmpty(i)||(n.ext=i),n}(e);return r=I.tryAppendQueryString(r,"lib","prebid"),r=I.tryAppendQueryString(r,"v","4.13.0-mol-1"),t&&t.refererInfo&&(e=t.refererInfo.referer,r=I.tryAppendQueryString(r,"referrer",e)),t&&t.timeout&&(r=I.tryAppendQueryString(r,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(Ra=t.gdprConsent.gdprApplies,r=I.tryAppendQueryString(r,"gdpr",Ra.toString())),void 0!==t.gdprConsent.consentString&&(Da=t.gdprConsent.consentString,r=I.tryAppendQueryString(r,"cmp_cs",Da))),t&&t.uspConsent&&(r=I.tryAppendQueryString(r,"us_privacy",t.uspConsent)),(r=!0===A.vc.getConfig("coppa")?I.tryAppendQueryString(r,"coppa",!0):r).lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.length-1)),I.logMessage("tlCall request built: "+r),{method:"POST",url:r,data:n,bidderRequest:t}},interpretResponse:function(e,t){var s=t.bidderRequest;return(e.body.bids||[]).map(function(e){return r={},n=(t=e).width||1,o=t.height||1,i=t.deal_id||"",a=t.crid||"",e=s.bids[t.imp_id],0!=t.cpm&&t.ad&&(r={requestId:e.bidId,cpm:t.cpm,width:n,height:o,netRevenue:!0,ad:t.ad,creativeId:a,dealId:i,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},e.mediaTypes.video&&(r.vastXml=t.ad,r.mediaType="video"),t.advertiser_name&&(r.meta.advertiserName=t.advertiser_name)),r;var t,r,n,o,i,a})},getUserSyncs:function(e,t,r,n){var o=function(){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}();if(o){var i="https://eb2.3lift.com/sync?";return"image"===o&&(i=I.tryAppendQueryString(i,"px",1),i=I.tryAppendQueryString(i,"src","prebid")),null!==Da&&(i=I.tryAppendQueryString(i,"gdpr",Ra),i=I.tryAppendQueryString(i,"cmp_cs",Da)),[{type:o,url:i=n?I.tryAppendQueryString(i,"us_privacy",n):i}]}}};function Ua(e){e=ja(ja({},e.params.video),e.mediaTypes.video);return e.w||(e.w=e.playerSize[0][0]),e.h||(e.h=e.playerSize[0][1]),"instream"===e.context&&(e.placement=1),delete e.playerSize,e}function Ma(t,r){I.isEmpty(r)||Object.keys(r).forEach(function(e){null!=r[e]&&(t[e]=r[e])})}function Ba(e,t,r,n){return e.map((a=t,function(e){return e&&e.userId&&e.userId[a]})).filter(function(e){return!!e}).map((o=r,i=n,function(e){return{source:o,uids:[{id:e,ext:{rtiPartner:i}}]}}));var o,i,a}function Na(e){return e.filter(La).map(function(e){return{w:e[0],h:e[1]}})}function La(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}(0,ct.dX)(r);r={name:"unifiedId",decode:function(e){return e&&"string"==typeof e.TDID?{tdid:e.TDID}:void 0},getId:function(e){e=e&&e.params||{};if(e&&("string"==typeof e.partner||"string"==typeof e.url)){var t=e.url||"https://match.adsrvr.org/track/rid?ttd_pid=".concat(e.partner,"&fmt=json");return{callback:function(r){var e={success:function(e){var t;if(e)try{t=JSON.parse(e)}catch(e){I.logError(e)}r(t)},error:function(e){I.logError("".concat("unifiedId",": ID fetch encountered an error"),e),r()}};(0,l.h)(t,e,void 0,{method:"GET",withCredentials:!0})}}}I.logError("User ID - unifiedId submodule requires either partner or url to be defined")}};(0,u.Bx)("userId",r);var qa={intentIqId:{source:"intentiq.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getEidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid||(e.ccpaOptout?"":null)},getUidExt:function(e){e=I.pick(e,["ibaOptout","ccpaOptout"]);if(Object.keys(e).length)return e}},idl_env:{source:"liveramp.com",atype:1},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:1,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:1},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:1},netId:{source:"netid.de",atype:1},sharedid:{source:"sharedid.org",atype:1,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.third?{third:e.third}:void 0}},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},vmuid:{source:"verizonmedia.com",atype:1}};function za(e){var t,r,n=[];for(t in e)e.hasOwnProperty(t)&&("pubProvidedId"===t?n=n.concat(e.pubProvidedId):(r=function(e,t){var r=qa[t];if(r&&e){var n={};n.source=r.source;var o=I.isFn(r.getValue)?r.getValue(e):e;if(I.isStr(o)){var i,t={id:o,atype:r.atype};return!I.isFn(r.getUidExt)||(o=r.getUidExt(e))&&(t.ext=o),n.uids=[t],I.isFn(r.getEidExt)&&(i=r.getEidExt(e))&&(n.ext=i),n}}return null}(e[t],t))&&n.push(r));return n}function Va(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fa,Wa,Ga,Ha,Ka="User ID",$a="cookie",Ya="html5",Ja="_pbjs_userid_consent_data",Xa=(0,Ue.eA)("userid"),Za=[],Qa=!1,es=[],ts=[],rs=[];function ns(e,t){var r=e.config.storage,n="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null;try{var o=I.isPlainObject(t)?JSON.stringify(t):t,i=new Date(Date.now()+864e5*r.expires).toUTCString();r.type===$a?(Xa.setCookie(r.name,o,i,"Lax",n),"number"==typeof r.refreshInSeconds&&Xa.setCookie("".concat(r.name,"_last"),(new Date).toUTCString(),i,"Lax",n)):r.type===Ya&&(Xa.setDataInLocalStorage("".concat(r.name,"_exp"),i),Xa.setDataInLocalStorage(r.name,encodeURIComponent(o)),"number"==typeof r.refreshInSeconds&&Xa.setDataInLocalStorage("".concat(r.name,"_last"),(new Date).toUTCString()))}catch(e){I.logError(e)}}function os(e,t){var r,n,t=1<arguments.length&&void 0!==t?t:void 0,t=t?"".concat(e.name,"_").concat(t):e.name;try{e.type===$a?r=Xa.getCookie(t):e.type===Ya&&(""===(n=Xa.getDataFromLocalStorage("".concat(e.name,"_exp")))?r=Xa.getDataFromLocalStorage(t):n&&0<new Date(n).getTime()-Date.now()&&(r=decodeURIComponent(Xa.getDataFromLocalStorage(t)))),"string"==typeof r&&"{"===r.charAt(0)&&(r=JSON.parse(r))}catch(e){I.logError(e)}return r}function is(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),I.cyrb53Hash(JSON.stringify(t))}function as(e){try{var t=new Date(Date.now()+2592e6).toUTCString();Xa.setCookie(Ja,is(e),t,"Lax")}catch(e){I.logError(e)}}function ss(){try{return Xa.getCookie(Ja)}catch(e){I.logError(e)}}function cs(e){if(e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies){if(!e.consentString)return;if(1===e.apiVersion&&!1===I.deepAccess(e,"vendorData.purposeConsents.1"))return;if(2===e.apiVersion&&!1===I.deepAccess(e,"vendorData.purpose.consents.1"))return}return 1}function us(e,t){var r=t?I.delayExecution(t,e.length):function(){};e.forEach(function(t){t.callback(function(e){e?(t.config.storage&&ns(t,e),t.idObj=t.submodule.decode(e,t.config)):I.logInfo("".concat(Ka,": ").concat(t.submodule.name," - request id responded with an empty value")),r()}),t.callback=void 0}),clearTimeout(Wa)}function ds(e){return Array.isArray(e)&&e.length?e.filter(function(e){return I.isPlainObject(e.idObj)&&Object.keys(e.idObj).length}).reduce(function(t,r){return Object.keys(r.idObj).forEach(function(e){t[e]=r.idObj[e]}),t},{}):{}}function ls(e){var t,r,n,o=!1;void 0!==Fa||!(Fa=function(e,r){var n=ss();as(r);var t=ys(e,r),e=t.userIdModules;return t.hasValidated||cs(r)?e.reduce(function(e,t){return hs(t,r,n,!1),e.push(t),e},[]):(I.logWarn("".concat(Ka," - gdpr permission not valid for local storage or cookies, exit module")),[])}(es,ir.rp.getConsentData())).length||(t=Fa.filter(function(e){return I.isFn(e.callback)})).length&&(e&&0<Ha?(r=!(o=!0),n=function(){r||(r=!0,e())},I.logInfo("".concat(Ka," - auction delayed by ").concat(Ha," at most to fetch ids")),Wa=setTimeout(n,Ha),us(t,n)):y().on(p.EVENTS.AUCTION_END,function e(){y().off(p.EVENTS.AUCTION_END,e),0<Ga?setTimeout(function(){us(t)},Ga):us(t)})),e&&!o&&e()}function fs(o,i){ls(function(){var e,t,r,n;e=i.adUnits||a().adUnits,t=Fa,[e].some(function(e){return!Array.isArray(e)||!e.length})||(r=ds(t),n=za(r),Object.keys(r).length&&e.forEach(function(e){e.bids&&I.isArray(e.bids)&&e.bids.forEach(function(e){e.userId=r,e.userIdAsEids=n})})),o.call(this,i)})}function ps(){return ls(),ds(Fa)}function gs(){return ls(),za(ds(Fa))}function ms(e,c){var u=(u=e?e.submoduleNames:null)||[];ls(function(){var e=ir.rp.getConsentData(),t=ss();as(e);var r=ys(es,e),n=r.userIdModules;if(r.hasValidated||cs(e)){var o,i=[],a=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e){if(e){if("string"==typeof e)return Va(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Va(e,void 0):void 0}}(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;0<u.length&&-1===u.indexOf(s.submodule.name)||(I.logInfo("".concat(Ka," - refreshing ").concat(s.submodule.name)),hs(s,e,t,!0),I.isFn(s.callback)&&i.push(s))}}catch(e){a.e(e)}finally{a.f()}0<i.length&&us(i),c&&c()}else I.logWarn("".concat(Ka," - gdpr permission not valid for local storage or cookies, exit module"))})}var ys=(0,u.z3)("sync",function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}},"validateGdprEnforcement");function hs(e,t,r,n){var o,i,a,s;e.config.storage?(i=os(e.config.storage),s=!1,"number"==typeof e.config.storage.refreshInSeconds&&(s=(a=new Date(os(e.config.storage,"last")))&&Date.now()-a.getTime()>1e3*e.config.storage.refreshInSeconds),!i||s||n||null!=r&&r!==is(t)?o=e.submodule.getId(e.config,t,i):"function"==typeof e.submodule.extendId&&(o=e.submodule.extendId(e.config,i)),I.isPlainObject(o)&&(o.id&&(ns(e,o.id),i=o.id),"function"==typeof o.callback&&(e.callback=o.callback)),i&&(e.idObj=e.submodule.decode(i,e.config))):e.config.value?e.idObj=e.config.value:(t=e.submodule.getId(e.config,t,void 0),I.isPlainObject(t)&&("function"==typeof t.callback&&(e.callback=t.callback),t.id&&(e.idObj=e.submodule.decode(t.id,e.config))))}function vs(){var r,e,n=(e=ts,r=Za,Array.isArray(e)?e.reduce(function(e,t){return!t||I.isEmptyStr(t.name)||(!t.storage||I.isEmptyStr(t.storage.type)||I.isEmptyStr(t.storage.name)||-1===r.indexOf(t.storage.type))&&!I.isPlainObject(t.value)&&(t.storage||t.value)||e.push(t),e},[]):[]);n.length&&(e=rs.filter(function(t){return!k()(es,function(e){return e.name===t.name})}),es=e.map(function(t){var e=k()(n,function(e){return e.name===t.name});return e?{submodule:t,config:e,callback:void 0,idObj:void 0}:null}).filter(function(e){return null!==e}),!Qa&&es.length&&(a().requestBids.before(fs,40),I.logInfo("".concat(Ka," - usersync config updated for ").concat(es.length," submodules")),Qa=!0))}r=A.vc,es=[],Qa=!(ts=[]),Fa=void 0,-1===(Za=[Xa.localStorageIsEnabled()?Ya:null,Xa.cookiesAreEnabled()?$a:null].filter(function(e){return null!==e})).indexOf($a)||!Xa.getCookie("_pbjs_id_optout")&&!Xa.getCookie("_pubcid_optout")?-1===Za.indexOf(Ya)||!Xa.getDataFromLocalStorage("_pbjs_id_optout")&&!Xa.getDataFromLocalStorage("_pubcid_optout")?(r.getConfig(function(e){e=e.userSync;e&&e.userIds&&(ts=e.userIds,Ga=I.isNumber(e.syncDelay)?e.syncDelay:500,Ha=I.isNumber(e.auctionDelay)?e.auctionDelay:0,vs())}),a().getUserIds=ps,a().getUserIdsAsEids=gs,a().refreshUserIds=ms):I.logInfo("".concat(Ka," - opt-out localStorage found, exit module")):I.logInfo("".concat(Ka," - opt-out cookie found, exit module")),(0,u.bA)("userId",function(t){k()(rs,function(e){return e.name===t.name})||(rs.push(t),vs())}),n.processQueue();var bs=n},7337:function(e,t,r){"use strict";r.r(t),r.d(t,{get:function(){return g},allDescriptions:function(){return S}});var n=r(7200),m=r(3436),o=r(2378),i=r.n(o);function a(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){c(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}var f,p,y={},h=1580<(0,n.ap)().width,v=r.g.PageCriteria.isMobile&&!r.g.PageCriteria.isTablet,b=-1!==["home","ushome","auhome"].indexOf(r.g.PageCriteria.channel),w="news"===r.g.PageCriteria.channel,r=(f=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t.broker).on("update description",function(e,t){y[e]=t,r.emit("slot descriptions updated",y)}),e.next=4,r.invokeAll("get not-quite-dynamic extra slot descriptions");case 4:e.sent.flat().forEach(function(e){var t=e.pos,e=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(e,["pos"]);y[t]=i()({},y[t],e,{pos:t})}),r.emit("slot descriptions updated",y);case 7:case"end":return e.stop()}},e)}),p=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=f.apply(e,a);function o(e){l(n,t,r,o,i,"next",e)}function i(e){l(n,t,r,o,i,"throw",e)}o(void 0)})},function(e){return p.apply(this,arguments)});r.pluginSetup=function(e){var d,l,f,p,g,t=e.getConfig,r=e.setConfig,n=e.log;d=(e=t)("plugins.slots.descriptions",{}),l=e("plugins.slots.properties",{}),f=e("plugins.slots.loadConditions",{}),p=e("plugins.slots.loadConditions.slots",{}),g=e("plugins.slots.loadConditions.oopSlots",{}),y=Object.keys(d).reduce(function(e,t){var n,o,i,r,a,s,c=d[t].replace(/, +/g,",").replace(/ +/g," ").split(" "),u={type:c[2],adUnit:(0,m.Z)(t),pos:t,size:c[2].split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})}),id:c[0],parentId:c[0],slots:[]};return c[1]&&"-"!==c[1]&&(u.dfpPos=c[1]),r=g,a=u,s=t,(c=f).constants&&(p&&p[s]&&c.constants[p[s]]&&(a.loadCondition=c.constants[p[s]]),r[s]&&r[s]&&c.constants[r[s]]&&(a.oopLoadCondition=c.constants[r[s]])),n=l,o=u=a,i=t,u=Object.keys(n).reduce(function(e,t){var r=n[t][i];if(void 0!==r)if("conditionalSizes"===t){if(!r||!r.condition||!r.sizes)return;(r.condition.wideSkies&&h||r.condition.isPhone&&v||r.condition.or&&r.condition.homeChannel&&(r.condition.homeChannel&&b||r.condition.newsChannel&&w)||r&&r.condition.and&&r.condition.homeChannel&&r.condition.homeChannel&&b&&!r.condition.isPhone&&!v)&&(o.size=r.sizes.split(",").map(function(e){return e.split("x").map(function(e){return parseInt(e)})}))}else e[t]=r;return e},o),e[t]=u,e},{});t=Object.entries(t("slotDescription",{})).reduce(function(e,t){var r=u(t,2),t=r[0],r=r[1];return s(s({},e),{},c({},t,s({type:r.size.map(function(e){var t=u(e,2),e=t[0],t=t[1];return"".concat(e,"x").concat(t)}).join(","),adUnit:(0,m.Z)(t),pos:t,parentId:r.id,slots:[],slotTypes:["gpt"]},r)))},{});n("descriptionsFromSlotDescription",t),r("slotDescriptions.initial",y=s(s({},y),t))};var g=function(e){var t=y[e];return t&&!t.pos&&(t.pos=e),t},S=function(){return y};t.default=r},2236:function(e,r,t){"use strict";function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=t(9742),i=t(645),t="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=f,r.SlowBuffer=function(e){return f.alloc(+(e=+e!=e?0:e))},r.INSPECT_MAX_BYTES=50;var n=2147483647;function o(e){if(n<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=new Uint8Array(e);return Object.setPrototypeOf(e,f.prototype),e}function f(e,t,r){if("number"!=typeof e)return a(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return g(e)}function a(e,t,r){if("string"==typeof e)return function(e,t){if(!f.isEncoding(t="string"!=typeof t||""===t?"utf8":t))throw new TypeError("Unknown encoding: "+t);var r=0|v(e,t),n=o(r),t=n.write(e,t);return n=t!==r?n.slice(0,t):n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(V(e,Uint8Array)){var t=new Uint8Array(e);return y(t.buffer,t.byteOffset,t.byteLength)}return m(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(e));if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return y(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return y(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return f.from(n,t,r);n=function(e){if(f.isBuffer(e)){var t=0|h(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||F(e.length)?o(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return f.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(e))}function p(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function g(e){return p(e),o(e<0?0:0|h(e))}function m(e){for(var t=e.length<0?0:0|h(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function y(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');r=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return Object.setPrototypeOf(r,f.prototype),r}function h(e){if(n<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function v(e,t){if(f.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(e));var r=e.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(o)return n?-1:L(e).length;t=(""+t).toLowerCase(),o=!0}}function b(e,t,r){var n,o,i,a=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!r||r<0||n<r)&&(r=n);for(var o="",i=t=!t||t<0?0:t;i<r;++i)o+=W[e[i]];return o}(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}(this,t,r);case"base64":return n=this,i=r,0===(o=t)&&i===n.length?d.fromByteArray(n):d.fromByteArray(n.slice(o,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}(this,t,r);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function w(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function S(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),(r=(r=F(r=+r)?o?0:e.length-1:r)<0?e.length+r:r)>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=f.from(t,n)),f.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,r):_(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,o){var i=1,a=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a/=i=2,s/=2,r/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o)for(var u=-1,d=r;d<a;d++)if(c(e,d)===c(t,-1===u?0:d-u)){if(d-(u=-1===u?d:u)+1===s)return u*i}else-1!==u&&(d-=d-u),u=-1;else for(d=r=a<r+s?a-s:r;0<=d;d--){for(var l=!0,f=0;f<s;f++)if(c(e,d+f)!==c(t,f)){l=!1;break}if(l)return d}return-1}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i=e[o],a=null,s=239<i?4:223<i?3:191<i?2:1;if(o+s<=r){var c,u=void 0,d=void 0,l=void 0;switch(s){case 1:i<128&&(a=i);break;case 2:128==(192&(u=e[o+1]))&&127<(l=(31&i)<<6|63&u)&&(a=l);break;case 3:u=e[o+1],d=e[o+2],128==(192&u)&&128==(192&d)&&2047<(l=(15&i)<<12|(63&u)<<6|63&d)&&(l<55296||57343<l)&&(a=l);break;case 4:u=e[o+1],d=e[o+2],c=e[o+3],128==(192&u)&&128==(192&d)&&128==(192&c)&&65535<(l=(15&i)<<18|(63&u)<<12|(63&d)<<6|63&c)&&l<1114112&&(a=l)}}null===a?(a=65533,s=1):65535<a&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=s}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=I));return r}(n)}r.kMaxLength=n,(f.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=a,Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(e,t,r){return t=t,r=r,p(e=e),!(e<=0)&&void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},f.allocUnsafe=g,f.allocUnsafeSlow=g,f.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==f.prototype},f.compare=function(e,t){if(V(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);if(void 0===t)for(o=t=0;o<e.length;++o)t+=e[o].length;for(var r=f.allocUnsafe(t),n=0,o=0;o<e.length;++o){var i=e[o];if(V(i,Uint8Array))n+i.length>r.length?(i=!f.isBuffer(i)?f.from(i):i).copy(r,n):Uint8Array.prototype.set.call(r,i,n);else{if(!f.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,n)}n+=i.length}return r},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):b.apply(this,arguments)},f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES,e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim();return this.length>t&&(e+=" ... "),"<Buffer "+e+">"},t&&(f.prototype[t]=f.prototype.inspect),f.prototype.compare=function(e,t,r,n,o){if(V(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(e));if(void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),(t=void 0===t?0:t)<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(o<=n&&r<=t)return 0;if(o<=n)return-1;if(r<=t)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(n,o),u=e.slice(t,r),d=0;d<s;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},f.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},f.prototype.indexOf=function(e,t,r){return S(this,e,t,r,!0)},f.prototype.lastIndexOf=function(e,t,r){return S(this,e,t,r,!1)},f.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||o<r)&&(r=o),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var i,a,s,c,u,d,l=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var o,i=e.length-r;for((!n||(n=Number(n))>i)&&(n=i),(i=t.length)/2<n&&(n=i/2),o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(F(a))return o;e[r+o]=a}return o}(this,e,t,r);case"utf8":case"utf-8":return u=t,d=r,z(L(e,(c=this).length-u),c,u,d);case"ascii":case"latin1":case"binary":return c=this,u=t,d=r,z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),c,u,d);case"base64":return i=this,a=t,s=r,z(q(e),i,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i=t,a=r,z(function(e,t){for(var r,n,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,o.push(r%256),o.push(n);return o}(e,(s=this).length-i),s,i,a);default:if(l)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),l=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function E(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,r,n,o,i){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function k(e,t,r,n,o){U(t,n,o,e,r,7);o=Number(t&BigInt(4294967295));e[r++]=o,e[r++]=o>>=8,e[r++]=o>>=8,e[r++]=o>>=8;t=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=t,e[r++]=t>>=8,e[r++]=t>>=8,e[r++]=t>>=8,r}function x(e,t,r,n,o){U(t,n,o,e,r,7);o=Number(t&BigInt(4294967295));e[r+7]=o,e[r+6]=o>>=8,e[r+5]=o>>=8,e[r+4]=o>>=8;t=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=t,e[r+2]=t>>=8,e[r+1]=t>>=8,e[r]=t>>=8,r+8}function P(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(e,t,r,n,o){return t=+t,r>>>=0,o||P(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function T(e,t,r,n,o){return t=+t,r>>>=0,o||P(e,0,r,8),i.write(e,t,r,n,52,8),r+8}f.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e);t=this.subarray(e,t);return Object.setPrototypeOf(t,f.prototype),t},f.prototype.readUintLE=f.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);for(var n=this[e+--t],o=1;0<t&&(o*=256);)n+=this[e+--t]*o;return n},f.prototype.readUint8=f.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readBigUInt64LE=G(function(e){M(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||B(e,this.length-8);t=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),r=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(t)+(BigInt(r)<<BigInt(32))}),f.prototype.readBigUInt64BE=G(function(e){M(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||B(e,this.length-8);t=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],r=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r;return(BigInt(t)<<BigInt(32))+BigInt(r)}),f.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},f.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);for(var n=t,o=1,i=this[e+--n];0<n&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},f.prototype.readInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);e=this[e]|this[e+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);e=this[e+1]|this[e]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readBigInt64LE=G(function(e){M(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||B(e,this.length-8);r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(r<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))}),f.prototype.readBigInt64BE=G(function(e){M(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||B(e,this.length-8);t=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(t)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r)}),f.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),i.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),i.read(this,e,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||A(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||A(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+r},f.prototype.writeUint8=f.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,1,255,0),this[t]=255&e,t+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeBigUInt64LE=G(function(e){return k(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=G(function(e){return x(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(e,t,r,n){e=+e,t>>>=0,n||A(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);var o=0,i=1,a=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+r},f.prototype.writeIntBE=function(e,t,r,n){e=+e,t>>>=0,n||A(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);var o=r-1,i=1,a=0;for(this[t+o]=255&e;0<=--o&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+r},f.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},f.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},f.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||A(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeBigInt64LE=G(function(e){return k(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=G(function(e){return x(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},f.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},f.prototype.writeDoubleLE=function(e,t,r){return T(this,e,t,!0,r)},f.prototype.writeDoubleBE=function(e,t,r){return T(this,e,t,!1,r)},f.prototype.copy=function(e,t,r,n){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r=r||0,n||0===n||(n=this.length),t>=e.length&&(t=e.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var o=(n=e.length-t<n-r?e.length-t+r:n)-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},f.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var o;1===e.length&&(o=e.charCodeAt(0),("utf8"===n&&o<128||"latin1"===n)&&(e=o))}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(e=e||0))for(i=t;i<r;++i)this[i]=e;else{var a=f.isBuffer(e)?e:f.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var C={};function R(i,a,e){C[i]=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,e);var r,n,t=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=u(r);return e=n?(e=u(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==l(e)&&"function"!=typeof e?c(t):e});function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),e=t.call(this),Object.defineProperty(c(e),"message",{value:a.apply(c(e),arguments),writable:!0,configurable:!0}),e.name="".concat(e.name," [").concat(i,"]"),e.stack,delete e.name,e}return function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(o.prototype,[{key:"code",get:function(){return i},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(i,"]: ").concat(this.message)}}]),o}()}function D(e){for(var t="",r=e.length,n="-"===e[0]?1:0;4+n<=r;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function U(e,t,r,n,o,i){if(r<e||e<t){var a="bigint"==typeof t?"n":"",a=3<i?0===t||t===BigInt(0)?">= 0".concat(a," and < 2").concat(a," ** ").concat(8*(i+1)).concat(a):">= -(2".concat(a," ** ").concat(8*(i+1)-1).concat(a,") and < 2 ** ")+"".concat(8*(i+1)-1).concat(a):">= ".concat(t).concat(a," and <= ").concat(r).concat(a);throw new C.ERR_OUT_OF_RANGE("value",a,e)}n=n,i=i,M(o=o,"offset"),void 0!==n[o]&&void 0!==n[o+i]||B(o,n.length-(i+1))}function M(e,t){if("number"!=typeof e)throw new C.ERR_INVALID_ARG_TYPE(t,"number",e)}function B(e,t,r){if(Math.floor(e)!==e)throw M(e,r),new C.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new C.ERR_BUFFER_OUT_OF_BOUNDS;throw new C.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}R("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),R("ERR_INVALID_ARG_TYPE",function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(l(t))},TypeError),R("ERR_OUT_OF_RANGE",function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),e=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?e=D(String(r)):"bigint"==typeof r&&(e=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(e=D(e)),e+="n"),n+" It must be ".concat(t,". Received ").concat(e)},RangeError);var N=/[^+/0-9A-Za-z-_]/g;function L(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if(55295<(r=e.charCodeAt(a))&&r<57344){if(!o){if(56319<r){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===n){-1<(t-=3)&&i.push(239,191,189);continue}o=r;continue}if(r<56320){-1<(t-=3)&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,r<128){if(--t<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function q(e){return d.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function F(e){return e!=e}var W=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,o=0;o<16;++o)t[n+o]=e[r]+e[o];return t}();function G(e){return"undefined"==typeof BigInt?H:e}function H(){throw new Error("BigInt not supported")}},3455:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _src_adloader_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(361),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9524),_src_config_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3485),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4783),_src_utils_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4753),core_js_pure_features_array_find_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2332),core_js_pure_features_array_find_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_pure_features_array_find_js__WEBPACK_IMPORTED_MODULE_4__),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1582),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1723);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var GVLID=91,ADAPTER_VERSION=32,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=(0,_src_storageManager_js__WEBPACK_IMPORTED_MODULE_6__.df)(GVLID),LOG_PREFIX="Criteo: ",PUBLISHER_TAG_URL="https://static.criteo.net/js/ld/publishertag.prebid.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.Mk,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.pX,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.B5],isBidRequestValid:function(e){return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||hasVideoMediaType(e)&&!hasValidVideoMediaType(e))},buildRequests:function(e,t){var r,n;if(_extends(t,{publisherExt:_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getConfig("fpd.context"),userExt:_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getConfig("fpd.user"),ceh:_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getConfig("criteo.ceh")}),publisherTagAvailable()||(window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid(),setTimeout(function(){(0,_src_adloader_js__WEBPACK_IMPORTED_MODULE_0__.B)(PUBLISHER_TAG_URL,BIDDER_CODE)},t.timeout)),t=publisherTagAvailable()?(r=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"4.13.0-mol-1"),n=_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getConfig("enableSendAllBids"),r.setEnableSendAllBids&&"function"==typeof r.setEnableSendAllBids&&"boolean"==typeof n&&r.setEnableSendAllBids(n),n=r.buildCdbUrl(),r.buildCdbRequest()):(n=buildCdbUrl(r=buildContext(e,t)),buildCdbRequest(r,e,t)))return{method:"POST",url:n,data:t,bidRequests:e}},interpretResponse:function(e,o){var t=e.body||e;if(publisherTagAvailable()){e=Criteo.PubTag.Adapters.Prebid.GetAdapter(o);if(e)return e.interpretResponse(t,o)}var i=[];return t&&t.slots&&_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.isArray(t.slots)&&t.slots.forEach(function(t){var e=core_js_pure_features_array_find_js__WEBPACK_IMPORTED_MODULE_4___default()(o.bidRequests,function(e){return e.adUnitCode===t.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===t.zoneid)}),r=e.bidId,n={requestId:r,adId:t.bidId||_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.getUniqueIdentifierStr(),cpm:t.cpm,currency:t.currency,netRevenue:!0,ttl:t.ttl||60,creativeId:r,width:t.width,height:t.height,dealId:t.dealCode};if(t.native)if(e.params.nativeCallback)n.ad=createNativeAd(r,t.native,e.params.nativeCallback);else{if(!0===_src_config_js__WEBPACK_IMPORTED_MODULE_2__.vc.getConfig("enableSendAllBids"))return;n.native=createPrebidNativeAd(t.native),n.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.B5}else t.video?(n.vastUrl=t.displayurl,n.mediaType=_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.pX):n.ad=t.creative;i.push(n)}),i},onTimeout:function(e){var t;publisherTagAvailable()&&Array.isArray(e)&&(t=[],e.forEach(function(e){-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())}))},onBidWon:function(e){publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:function(e){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}};function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){var r="";t&&t.refererInfo&&(r=t.refererInfo.referer);var t=_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.parseUrl(r).search,n={url:r,debug:"1"===t.pbt_debug,noLog:"1"===t.pbt_nolog,amp:!1};return e.forEach(function(e){"amp"===e.params.integrationMode&&(n.amp=!0)}),n}function buildCdbUrl(e){var t=CDB_ENDPOINT;return t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("4.13.0-mol-1"),t+="&cb="+String(Math.floor(99999999999*Math.random())),e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1"),t}function checkNativeSendId(e){return!e.nativeParams||!(e.nativeParams.image&&!0!==e.nativeParams.image.sendId||e.nativeParams.icon&&!0!==e.nativeParams.icon.sendId||e.nativeParams.clickUrl&&!0!==e.nativeParams.clickUrl.sendId||e.nativeParams.displayUrl&&!0!==e.nativeParams.displayUrl.sendId||e.nativeParams.privacyLink&&!0!==e.nativeParams.privacyLink.sendId||e.nativeParams.privacyIcon&&!0!==e.nativeParams.privacyIcon.sendId)}function buildCdbRequest(e,t,r){var n,t={publisher:{url:e.url,ext:r.publisherExt},slots:t.map(function(e){n=e.params.networkId||n;var t,r={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};return e.params.zoneId&&(r.zoneid=e.params.zoneId),e.fpd&&e.fpd.context&&(r.ext=e.fpd.context),e.params.ext&&(r.ext=_extends({},r.ext,e.params.ext)),e.params.publisherSubId&&(r.publishersubid=e.params.publisherSubId),e.params.nativeCallback||_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.".concat(_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_7__.B5))?(r.native=!0,checkNativeSendId(e)||_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logWarn(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)"),r.sizes=parseSizes(retrieveBannerSizes(e),parseNativeSize)):r.sizes=parseSizes(retrieveBannerSizes(e),parseSize),hasVideoMediaType(e)&&((t={playersizes:parseSizes(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api}).skip=e.params.video.skip,t.placement=e.params.video.placement,t.minduration=e.params.video.minduration,t.playbackmethod=e.params.video.playbackmethod,t.startdelay=e.params.video.startdelay,r.video=t),r})};return n&&(t.publisher.networkid=n),t.user={ext:r.userExt},r&&r.ceh&&(t.user.ceh=r.ceh),r&&r.gdprConsent&&(t.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(t.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),t.gdprConsent.version=r.gdprConsent.apiVersion,void 0!==r.gdprConsent.consentString&&(t.gdprConsent.consentData=r.gdprConsent.consentString)),r&&r.uspConsent&&(t.user.uspIab=r.uspConsent),t}function retrieveBannerSizes(e){return _src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes}function parseSizes(e,t){return Array.isArray(e[0])?e.map(function(e){return t(e)}):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function parseNativeSize(e){return void 0===e[0]&&void 0===e[1]?"2x2":e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"params.video")&&void 0!==_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(e,"mediaTypes.video")}function hasValidVideoMediaType(t){var r=!0;if(["mimes","playerSize","maxduration","protocols","api"].forEach(function(e){void 0===_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(t,"mediaTypes.video."+e)&&(r=!1,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logError("Criteo Bid Adapter: mediaTypes.video."+e+" is required"))}),["skip","placement","playbackmethod"].forEach(function(e){void 0===_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.deepAccess(t,"params.video."+e)&&(r=!1,_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logError("Criteo Bid Adapter: params.video."+e+" is required"))}),r){if("instream"==t.mediaTypes.video.context&&1===t.params.video.placement)return 1;if("outstream"==t.mediaTypes.video.context&&1!==t.params.video.placement)return 1}}function createPrebidNativeAd(e){return{title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map(function(e){return e.url})}}function createNativeAd(e,t,r){var n="criteo_prebid_native_slots";return window[n]=window[n]||{},window[n][e]={callback:r,payload:t},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat(n,';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(e,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>')}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey),firstLineEndPosition,firstLine,publisherTagHash,publisherTag;null!==fastBidFromStorage&&(firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim(),firstLine.substr(0,hashPrefix.length)!==hashPrefix?(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logWarn("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey)):(publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1),(0,criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_5__.T)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logInfo("Using Criteo FastBid"),eval(publisherTag)):(_src_utils_js__WEBPACK_IMPORTED_MODULE_3__.logWarn("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))))}catch(e){}}(0,_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_1__.dX)(spec)},3069:function(e,t,r){"use strict";r.d(t,{f:function(){return a}});var n=r(4753),o={};function i(e,t,r){r=r,e=o[e]=o[e]||{bidders:{}},e=r?e.bidders[r]=e.bidders[r]||{}:e;return e[t]=(e[t]||0)+1,e[t]}var a={incrementRequestsCounter:function(e){return i(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return i(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return i(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,n.deepAccess)(o,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return(0,n.deepAccess)(o,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return(0,n.deepAccess)(o,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},8043:function(e,t,r){"use strict";function n(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}r.d(t,{Z:function(){return n}})},7785:function(e,t,r){"use strict";r.d(t,{rp:function(){return C},nX:function(){return R}});var y=r(4753),l=r(7447),f=r(8098),p=r(9524),m=r(6117),h=r(3485),n=r(5244),o=r(1608),v=r.n(o),o=r(2332),b=r.n(o),g=r(3069),w=r(2435);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O,I=r(4753),E=r(6482),A=r(8510),k={},x=k.bidderRegistry={},P=k.aliasRegistry={},j={};h.vc.getConfig("s2sConfig",function(e){j=e.s2sConfig});var i={},T=(0,n.z3)("sync",function(e){var n=e.bidderCode,s=e.auctionId,c=e.bidderRequestId,t=e.adUnits,u=e.labels,d=e.src;return t.reduce(function(e,i){var t=(0,l.$n)((0,l.g7)(i,u),i.mediaTypes,i.sizes),r=t.active,a=t.mediaTypes,t=t.filterResults;return r?t&&I.logInfo('Size mapping filtered adUnit "'.concat(i.code,'" banner sizes from '),t.before,"to ",t.after):I.logInfo('Size mapping disabled adUnit "'.concat(i.code,'"')),r&&e.push(i.bids.filter(function(e){return e.bidder===n}).reduce(function(e,t){var r=i.nativeParams||I.deepAccess(i,"mediaTypes.native");r&&(t=_({},t,{nativeParams:(0,f.zs)(r)})),t=_({},t,(0,y.getDefinedParams)(i,["fpd","mediaType","renderer","storedAuctionResponse"]));var n=(0,l.$n)((0,l.g7)(t,u),a),o=n.active,r=n.mediaTypes,n=n.filterResults;return o?n&&I.logInfo('Size mapping filtered adUnit "'.concat(i.code,'" bidder "').concat(t.bidder,'" banner sizes from '),n.before,"to ",n.after):I.logInfo('Size mapping deactivated adUnit "'.concat(i.code,'" bidder "').concat(t.bidder,'"')),I.isValidMediaTypes(r)?t=_({},t,{mediaTypes:r}):I.logError("mediaTypes is not correctly configured for adunit ".concat(i.code)),o&&e.push(_({},t,{adUnitCode:i.code,transactionId:i.transactionId,sizes:I.deepAccess(r,"banner.sizes")||I.deepAccess(r,"video.playerSize")||[],bidId:t.bid_id||I.getUniqueIdentifierStr(),bidderRequestId:c,auctionId:s,src:d,bidRequestsCount:g.f.getRequestsCounter(i.code),bidderRequestsCount:g.f.getBidderRequestsCounter(i.code,t.bidder),bidderWinsCount:g.f.getBidderWinsCounter(i.code,t.bidder)})),e},[])),e},[]).reduce(y.flatten,[]).filter(function(e){return""!==e})},"getBids"),C={consentData:null,setConsentData:function(e){C.consentData=e},getConsentData:function(){return C.consentData}},R={consentData:null,setConsentData:function(e){R.consentData=e},getConsentData:function(){return R.consentData}};function D(){return j&&j.enabled&&j.testing&&O}function a(e,t,r){try{var n=x[e].getSpec();n&&n[t]&&"function"==typeof n[t]&&(I.logInfo("Invoking ".concat(e,".").concat(t)),h.vc.runWithBidder(e,y.bind.call(n[t],n,r)))}catch(r){I.logWarn("Error calling ".concat(t," of ").concat(e))}}k.makeBidRequests=(0,n.z3)("sync",function(e,n,o,i,a){A.emit(E.EVENTS.BEFORE_REQUEST_BIDS,e);var s=[],t=(0,y.getBidderCodes)(e);h.vc.getConfig("bidderSequence")===h.FD&&(t=(0,y.shuffle)(t));var r,c,u,d,l,f=(0,w.n)(),p=t,g=[];j.enabled&&(D()&&(g=O.getSourceBidderMap(e)[O.CLIENT]),r=j.bidders,p=t.filter(function(e){return!v()(r,e)||v()(g,e)}),Boolean(D()&&j.testServerOnly)&&(l=e,Boolean(b()(l,function(e){return b()(e.bids,function(e){return(e.bidSource||j.bidderControl&&j.bidderControl[e.bidder])&&e.finalSource===O.SERVER})})))&&(p.length=0),d=j.bidders,(l=I.deepClone(e)).forEach(function(e){e.bids=e.bids.filter(function(e){return v()(d,e.bidder)&&(!D()||e.finalSource!==O.CLIENT)}).map(function(e){return e.bid_id=I.getUniqueIdentifierStr(),e})}),c=l.filter(function(e){return 0!==e.bids.length}),u=I.generateUUID(),r.forEach(function(e){var t=I.getUniqueIdentifierStr(),t={bidderCode:e,auctionId:o,bidderRequestId:t,tid:u,bids:T({bidderCode:e,auctionId:o,bidderRequestId:t,adUnits:I.deepClone(c),labels:a,src:E.S2S.SRC}),auctionStart:n,timeout:j.timeout,src:E.S2S.SRC,refererInfo:f};0!==t.bids.length&&s.push(t)}),c.forEach(function(e){var t=e.bids.filter(function(t){return b()(s,function(e){return b()(e.bids,function(e){return e.bidId===t.bid_id})})});e.bids=t}),s.forEach(function(e){e.adUnitsS2SCopy=c.filter(function(e){return 0<e.bids.length})}));var m=((e=I.deepClone(e)).forEach(function(e){e.bids=e.bids.filter(function(e){return!D()||e.finalSource!==O.SERVER})}),e.filter(function(e){return 0!==e.bids.length}));return p.forEach(function(e){var t=I.getUniqueIdentifierStr(),r={bidderCode:e,auctionId:o,bidderRequestId:t,bids:T({bidderCode:e,auctionId:o,bidderRequestId:t,adUnits:I.deepClone(m),labels:a,src:"client"}),auctionStart:n,timeout:i,refererInfo:f},t=x[e];t||I.logError("Trying to make a request for bidder that does not exist: ".concat(e)),t&&r.bids&&0!==r.bids.length&&s.push(r)}),C.getConsentData()&&s.forEach(function(e){e.gdprConsent=C.getConsentData()}),R.getConsentData()&&s.forEach(function(e){e.uspConsent=R.getConsentData()}),s},"makeBidRequests"),k.callBids=function(e,t,o,i,a,s,c){var r,n,u,d,l,f,p,g;t.length?(r=(l=function(e){if(Array.isArray(e))return e}(g=t.reduce(function(e,t){return e[Number(void 0!==t.src&&t.src===E.S2S.SRC)].push(t),e},[[],[]]))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(g)||function(e){if(e){if("string"==typeof e)return S(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,2):void 0}}(g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],(n=l[1]).length&&(u=(0,m.O)(s,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0),d=j.bidders,t=x[j.adapter],g=n[0].tid,l=n[0].adUnitsS2SCopy,t?(l={tid:g,ad_units:l}).ad_units.length&&(f=n.map(function(e){return e.start=(0,y.timestamp)(),i.bind(e)}),p=l.ad_units.reduce(function(e,t){return e.concat((t.bids||[]).reduce(function(e,t){return e.concat(t.bidder)},[]))},[]),I.logMessage("CALLING S2S HEADER BIDDERS ==== ".concat(d.filter(function(e){return v()(p,e)}).join(","))),n.forEach(function(e){A.emit(E.EVENTS.BID_REQUESTED,e)}),t.callBids(l,n,function(e,t){var r=(0,y.getBidderRequest)(n,t.bidderCode,e);r&&o.call(r,e,t)},function(){return f.forEach(function(e){return e()})},u)):I.logError("missing "+j.adapter)),r.forEach(function(e){e.start=(0,y.timestamp)();var t=x[e.bidderCode];I.logMessage("CALLING BIDDER ======= ".concat(e.bidderCode)),A.emit(E.EVENTS.BID_REQUESTED,e);var r=(0,m.O)(s,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0),n=i.bind(e);try{h.vc.runWithBidder(e.bidderCode,y.bind.call(t.callBids,t,e,o.bind(e),n,r,c,h.vc.callbackWithBidder(e.bidderCode)))}catch(t){I.logError("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),n()}})):I.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},k.videoAdapters=[],k.registerBidAdapter=function(e,t){var r=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,r=void 0===r?[]:r;e&&t?"function"==typeof e.callBids?(x[t]=e,v()(r,"video")&&k.videoAdapters.push(t),v()(r,"native")&&f.Sg.push(t)):I.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):I.logError("bidAdaptor or bidderCode not specified")},k.aliasBidAdapter=function(e,t,r){if(void 0===x[t]){var n=x[e];if(void 0===n){var o=h.vc.getConfig("s2sConfig"),o=o&&o.bidders;o&&v()(o,t)?P[t]=e:I.logError('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}else try{var i,a,s,c=(u=e,d=[],v()(k.videoAdapters,u)&&d.push("video"),v()(f.Sg,u)&&d.push("native"),d);n.constructor.prototype!=Object.prototype?(s=new n.constructor).setBidderCode(t):(i=n.getSpec(),a=r&&r.gvlid,s=(0,p.PZ)(_({},i,{code:t,gvlid:a})),P[t]=e),k.registerBidAdapter(s,t,{supportedMediaTypes:c})}catch(t){I.logError(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else I.logMessage('alias name "'+t+'" has been already specified.');var u,d},k.registerAnalyticsAdapter=function(e){var t=e.adapter,r=e.code,e=e.gvlid;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,i[r]={adapter:t,gvlid:e}):I.logError('Prebid Error: Analytics adaptor error for analytics "'.concat(r,'"\n        analytics adapter must implement an enableAnalytics() function')):I.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},k.enableAnalytics=function(e){I.isArray(e)||(e=[e]),I._each(e,function(e){var t=i[e.provider].adapter;t?t.enableAnalytics(e):I.logError("Prebid Error: no analytics adapter found in registry for\n        ".concat(e.provider,"."))})},k.getBidAdapter=function(e){return x[e]},k.getAnalyticsAdapter=function(e){return i[e]},k.callTimedOutBidders=function(t,r,n){r=r.map(function(e){return e.params=I.getUserConfiguredParams(t,e.adUnitCode,e.bidder),e.timeout=n,e}),r=I.groupBy(r,"bidder"),Object.keys(r).forEach(function(e){a(e,"onTimeout",r[e])})},k.callBidWonBidder=function(e,t,r){t.params=I.getUserConfiguredParams(r,t.adUnitCode,t.bidder),g.f.incrementBidderWinsCounter(t.adUnitCode,t.bidder),a(e,"onBidWon",t)},k.callSetTargetingBidder=function(e,t){a(e,"onSetTargeting",t)},t.ZP=k},9524:function(e,t,r){"use strict";r.d(t,{dX:function(){return S},PZ:function(){return _},Q1:function(){return I},JY:function(){return E}});var n=r(8043),a=r(7785),i=r(3485),m=r(6507),s=r(112),c=r(8098),u=r(2202),y=r(6482),t=r(8510),h=r.n(t),t=r(1608),d=r.n(t),l=r(6117),v=r(4753),o=r(4783),t=r(5244);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=(0,r(1723).eA)("bidderFactory"),g=["requestId","cpm","ttl","creativeId","netRevenue","currency"];function S(n){var r=Array.isArray(n.supportedMediaTypes)?{supportedMediaTypes:n.supportedMediaTypes}:void 0;function o(e){var t=_(e);a.ZP.registerBidAdapter(t,e.code,r)}o(n),Array.isArray(n.aliases)&&n.aliases.forEach(function(e){var t,r=e;(0,v.isPlainObject)(e)&&(r=e.code,t=e.gvlid),a.ZP.aliasRegistry[r]=n.code,o(w({},n,{code:r,gvlid:t}))})}function _(p){return w(new n.Z(p.code),{getSpec:function(){return Object.freeze(p)},registerSyncs:o,callBids:function(i,a,e,n,s,c){var u,d,l,t,f;function r(){e(),h().emit(y.EVENTS.BIDDER_DONE,i),o(d,i.gdprConsent,i.uspConsent)}Array.isArray(i.bids)&&(u={},d=[],0!==(t=i.bids.filter(g)).length?(l={},t.forEach(function(e){(l[e.bidId]=e).adUnitCode||(e.adUnitCode=e.placementCode)}),(t=p.buildRequests(t,i))&&0!==t.length?(Array.isArray(t)||(t=[t]),f=(0,v.delayExecution)(c(r),t.length),t.forEach(function(o){switch(o.method){case"GET":n("".concat(o.url).concat((e=o.data)?"?".concat("object"===b(e)?(0,v.parseQueryStringParameters)(e):e):""),{success:c(t),error:r},void 0,w({method:"GET",withCredentials:!0},o.options));break;case"POST":n(o.url,{success:c(t),error:r},"string"==typeof o.data?o.data:JSON.stringify(o.data),w({method:"POST",contentType:"text/plain",withCredentials:!0},o.options));break;default:(0,v.logWarn)("Skipping invalid request from ".concat(p.code,". Request type ").concat(o.type," must be GET or POST")),f()}var e;function t(e,t){s(p.code);try{e=JSON.parse(e)}catch(e){}var r;e={body:e,headers:{get:t.getResponseHeader.bind(t)}},d.push(e);try{r=p.interpretResponse(e,o)}catch(e){return(0,v.logError)("Bidder ".concat(p.code," failed to interpret the server's response. Continuing without bids"),null,e),void f()}function n(e){var t,r=l[e.requestId];r?(e.originalCpm=e.cpm,e.originalCurrency=e.currency,e.meta=e.meta||w({},e[r.bidder]),t=w((0,m.m)(y.STATUS.GOOD,r),e),r=r.adUnitCode,t=t,u[r]=!0,E(r,t,[i])&&a(r,t)):(0,v.logWarn)("Bidder ".concat(p.code," made bid for unknown request ID: ").concat(e.requestId,". Ignoring."))}r&&((0,v.isArray)(r)?r.forEach(n):n(r)),f(r)}function r(e){s(p.code),(0,v.logError)("Server call for ".concat(p.code," failed: ").concat(e,". Continuing without bids.")),f()}})):r()):r())}});function o(e,t,r){O(p,e,t,r)}function g(e){return!!p.isBidRequestValid(e)||((0,v.logWarn)("Invalid bid sent to bidder ".concat(p.code,": ").concat(JSON.stringify(e))),!1)}}var O=(0,t.z3)("async",function(t,e,r,n){var o=i.vc.getConfig("userSync.aliasSyncEnabled");!t.getUserSyncs||!o&&a.ZP.aliasRegistry[t.code]||(o=i.vc.getConfig("userSync.filterSettings"),(n=t.getUserSyncs({iframeEnabled:!(!o||!o.iframe&&!o.all),pixelEnabled:!(!o||!o.image&&!o.all)},e,r,n))&&(n=!Array.isArray(n)?[n]:n).forEach(function(e){s.k_.registerSync(e.type,t.code,e.url)}))},"registerSyncs");function I(e,t){var r=a.ZP.getBidAdapter(e);if(r.getSpec().getMappingFileInfo){var n=r.getSpec().getMappingFileInfo(),r=n.localStorageKey||r.getBidderCode(),r=p.getDataFromLocalStorage(r);if(r){try{r=JSON.parse(r)}catch(t){(0,v.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return r.mapping[t]||null}}}function E(e,t,r){function n(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?(o=Object.keys(t),g.every(function(e){return d()(o,e)&&!d()([void 0,null],t[e])})?"native"!==t.mediaType||(0,c.r4)(t,r)?"video"!==t.mediaType||(0,u.Dn)(t,r)?!("banner"===t.mediaType&&!function(e,t,r){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),1;var r=(0,v.getBidderRequest)(r,t.bidderCode,e),e=r&&r.bids&&r.bids[0]&&r.bids[0].sizes,r=(0,v.parseSizesInput)(e);if(1===r.length){r=function(e){if(Array.isArray(e))return e}(e=r[0].split("x"))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(e)||function(e){if(e){if("string"==typeof e)return f(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e=r[0],r=r[1];return t.width=parseInt(e,10),t.height=parseInt(r,10),1}}(e,t,r)&&((0,v.logError)(n("Banner bids require a width and height")),1)):((0,v.logError)(n("Video bid does not have required vastUrl or renderer property")),!1):((0,v.logError)(n("Native bid missing some required properties.")),!1):((0,v.logError)(n("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1)):((0,v.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):((0,v.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var o}(0,t.v5)("checkAdUnitSetup").before(function(e,t){return i.vc.getConfig("adpod.brandCategoryExclusion")?(t.filter(function(e){return(0,v.deepAccess)(e,"mediaTypes.video.context")===o.Oh}).map(function(e){return e.bids.map(function(e){return e.bidder})}).reduce(v.flatten,[]).filter(v.uniques).forEach(function(r){var e=a.ZP.getBidAdapter(r);if(e.getSpec().getMappingFileInfo){var t=e.getSpec().getMappingFileInfo(),n=t.refreshInDays||1,o=t.localStorageKey||e.getSpec().code,i=p.getDataFromLocalStorage(o);try{(!(i=i?JSON.parse(i):void 0)||(0,v.timestamp)()>i.lastUpdated+24*n*60*60*1e3)&&(0,l.h)(t.url,{success:function(e){try{e=JSON.parse(e);var t={lastUpdated:(0,v.timestamp)(),mapping:e.mapping};p.setDataInLocalStorage(o,JSON.stringify(t))}catch(e){(0,v.logError)("Failed to parse ".concat(r," bidder translation mapping file"))}},error:function(){(0,v.logError)("Failed to load ".concat(r," bidder translation file"))}})}catch(e){(0,v.logError)("Failed to parse ".concat(r," bidder translation mapping file"))}}}),void e.call(this,t)):e.call(this,t)})},361:function(e,t,r){"use strict";r.d(t,{B:function(){return n}});var t=r(1608),i=r.n(t),a=r(4753),s={},c=["criteo","outstream","adagio","browsi"];function n(t,e,r){if(e&&t){if(i()(c,e))return s[t]?(r&&"function"==typeof r&&(s[t].loaded?r():s[t].callbacks.push(r)),s[t].tag):(s[t]={loaded:!1,tag:null,callbacks:[]},r&&"function"==typeof r&&s[t].callbacks.push(r),a.logWarn("module ".concat(e," is loading external JavaScript")),r=t,n=function(){s[t].loaded=!0;try{for(var e=0;e<s[t].callbacks.length;e++)s[t].callbacks[e]()}catch(e){a.logError("Error executing callback","adloader.js:loadExternalScript",e)}},(o=document.createElement("script")).type="text/javascript",o.async=!0,(s[t].tag=o).readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,n())}:o.onload=function(){n()},o.src=r,a.insertElement(o),o);a.logError("".concat(e," not whitelisted for loading external JavaScript"))}else a.logError("cannot load external script without url and moduleCode");var n,o}},6117:function(e,t,r){"use strict";r.d(t,{h:function(){return n},O:function(){return o}});var f=r(3485);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=r(4753),n=o();function o(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3e3,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=e.request,l=e.done;return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var o,i=n.method||(r?"POST":"GET"),a=document.createElement("a");a.href=e;var s,c="object"===g(t)&&null!==t?t:{success:function(){m.logMessage("xhr success")},error:function(e){m.logError("xhr error",null,e)}};"function"==typeof t&&(c.success=t),(o=new window.XMLHttpRequest).onreadystatechange=function(){var e;4===o.readyState&&("function"==typeof l&&l(a.origin),200<=(e=o.status)&&e<300||304===e?c.success(o.responseText,o):c.error(o.statusText,o))},f.vc.getConfig("disableAjaxTimeout")||(o.ontimeout=function(){m.logError("  xhr timeout after ",o.timeout,"ms")}),"GET"===i&&r&&(p((s=m.parseUrl(e,n)).search,r),e=m.buildUrl(s)),o.open(i,e,!0),f.vc.getConfig("disableAjaxTimeout")||(o.timeout=u),n.withCredentials&&(o.withCredentials=!0),m._each(n.customHeaders,function(e,t){o.setRequestHeader(t,e)}),n.preflight&&o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-Type",n.contentType||"text/plain"),"function"==typeof d&&d(a.origin),"POST"===i&&r?o.send(r):o.send()}catch(e){m.logError("xhr construction",e)}}}},6507:function(e,t,r){"use strict";r.d(t,{m:function(){return i}});var o=r(4753);function n(e,t){var r=t&&t.src||"client",n=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(n){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=o.getUniqueIdentifierStr(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=r,this.getStatusCode=function(){return n},this.getSize=function(){return this.width+"x"+this.height}}function i(e,t){return new n(e,t)}},3485:function(e,t,r){"use strict";r.d(t,{FD:function(){return p},vc:function(){return _}});var n=r(4609),t=r(2332),a=r.n(t),t=r(1608),o=r.n(t),t=r(5743),i=r.n(t),s=r(4753);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=r(7385),d=r(4753),r=r(6482),l="TRUE"===d.getParameterByName(r.DEBUG_MODE).toUpperCase(),f=window.location.origin,p="random",g={};g[p]=!0,g.fixed=!0;var m,y,h,v,b,w=p,S={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},_=(v=[],b=null,O(),{getCurrentBidder:function(){return b},getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?d.deepAccess(I(),e):I()}return function(e,t){if("string"!=typeof e&&(t=e,e="*"),"function"==typeof t){var r={topic:e,callback:t};return v.push(r),function(){v.splice(v.indexOf(r),1)}}d.logError("listener must be a function")}.apply(void 0,arguments)},setConfig:function(r){var e,n;d.isPlainObject(r)?(e=Object.keys(r),n={},e.forEach(function(e){var t=r[e];d.isPlainObject(m[e])&&d.isPlainObject(t)&&(t=c({},m[e],t)),n[e]=y[e]=t}),E(n)):d.logError("setConfig options must be an object")},setDefaults:function(e){d.isPlainObject(m)?(c(m,e),c(y,e)):d.logError("defaults must be an object")},resetConfig:O,runWithBidder:A,callbackWithBidder:function(i){return function(o){return function(){if("function"==typeof o){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return A(i,(e=d.bind).call.apply(e,[o,this].concat(r)))}d.logWarn("config.callbackWithBidder callback is not a function")}}},setBidderConfig:function(n){try{!function(e){if(!d.isPlainObject(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!d.isPlainObject(e.config))throw"setBidderConfig bidder options must contain a config object"}(n),n.bidders.forEach(function(r){h[r]||(h[r]={}),Object.keys(n.config).forEach(function(e){var t=n.config[e];d.isPlainObject(t)?h[r][e]=c({},h[r][e]||{},t):h[r][e]=t})})}catch(n){d.logError(n)}},getBidderConfig:function(){return h}});function O(){m={};var r={_debug:l,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:f,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:S.MEDIUM,set priceGranularity(e){i(e)&&("string"==typeof e?this._priceGranularity=o(e)?e:S.MEDIUM:d.isPlainObject(e)&&(this._customPriceBucket=e,this._priceGranularity=S.CUSTOM,d.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(r){var n=this;this._mediaTypePriceGranularity=Object.keys(r).reduce(function(e,t){return i(r[t])?"string"==typeof r?e[t]=o(r[t])?r[t]:n._priceGranularity:d.isPlainObject(r)&&(e[t]=r[t],d.logMessage("Using custom price granularity for ".concat(t))):d.logWarn("Invalid price granularity for media type: ".concat(t)),e},{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:w,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){g[e]?this._bidderSequence=e:d.logWarn("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e}};function o(t){return a()(Object.keys(S),function(e){return t===S[e]})}function i(e){if(!e)return d.logError("Prebid Error: no value passed to `setPriceGranularity()`"),0;if("string"==typeof e)o(e)||d.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(d.isPlainObject(e)&&!(0,n.t)(e))return d.logError("Invalid custom price value passed to `setPriceGranularity()`"),0;return 1}y&&E(Object.keys(y).reduce(function(e,t){return y[t]!==r[t]&&(e[t]=r[t]||{}),e},{})),y=r,h={}}function I(){if(b&&h&&d.isPlainObject(h[b])){var r=h[b],e=new(i())(Object.keys(y).concat(Object.keys(r)));return u(e).reduce(function(e,t){return void 0===r[t]?e[t]=y[t]:void 0!==y[t]&&d.isPlainObject(r[t])?e[t]=(0,s.mergeDeep)({},y[t],r[t]):e[t]=r[t],e},{})}return c({},y)}function E(n){var t=Object.keys(n);v.filter(function(e){return o()(t,e.topic)}).forEach(function(e){var t,r;e.callback((t=e.topic,r=n[e.topic],t in(e={})?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e))}),v.filter(function(e){return"*"===e.topic}).forEach(function(e){return e.callback(n)})}function A(e,t){b=e;try{return t()}finally{b=null}}},4609:function(e,t,r){"use strict";r.d(t,{D:function(){return u},t:function(){return f}});var t=r(2332),d=r.n(t),n=r(4753),o={buckets:[{max:5,increment:.5}]},i={buckets:[{max:20,increment:.1}]},a={buckets:[{max:20,increment:.01}]},s={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},c={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function u(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(e);return{low:""===(n=isNaN(n)?"":n)?"":l(e,o,r),med:""===n?"":l(e,i,r),high:""===n?"":l(e,a,r),auto:""===n?"":l(e,c,r),dense:""===n?"":l(e,s,r),custom:""===n?"":l(e,t,r)}}function l(r,e,n){var o="";if(!f(e))return o;var t,i,a,s=e.buckets.reduce(function(e,t){return e.max>t.max?e:t},{max:0}),c=0,u=d()(e.buckets,function(e){if(r>s.max*n){var t=e.precision;o=(e.max*n).toFixed(t=void 0===t?2:t)}else{if(r<=e.max*n&&c*n<=r)return e.min=c,e;c=e.max}});return u&&(t=r,i=void 0!==u.precision?u.precision:2,a=u.increment*n,e=u.min*n,u=Math.pow(10,i+2),e=Math.floor((t*u-e*u)/(a*u))*a+e,o=(e=Number(e.toFixed(10))).toFixed(i)),o}function f(e){if(n.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach(function(e){e.max&&e.increment||(t=!1)}),t}},8510:function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s,c=r(4753),r=r(6482),o=Array.prototype.slice,u=Array.prototype.push,i=c._map(r.EVENTS,function(e){return e}),d=r.EVENT_ID_PATHS,l=[];e.exports=(s={},(e={}).on=function(e,t,r){var n;c.contains(i,e)?(n=s[e]||{que:[]},r?(n[r]=n[r]||{que:[]},n[r].que.push(t)):n.que.push(t),s[e]=n):c.logError("Wrong event name : "+e+" Valid event names :"+i)},e.emit=function(e){!function(e,t){c.logMessage("Emitting event for: "+e);var r=t[0]||{},n=r[d[e]],o=s[e]||{que:[]},i=c._map(o,function(e,t){return t}),a=[];l.push({eventType:e,args:r,id:n}),n&&c.contains(i,n)&&u.apply(a,o[n].que),u.apply(a,o.que),c._each(a,function(e){if(e)try{e.apply(null,t)}catch(e){c.logError("Error executing handler:","events.js",e)}})}(e,o.call(arguments,1))},e.off=function(e,r,n){var o=s[e];c.isEmpty(o)||c.isEmpty(o.que)&&c.isEmpty(o[n])||n&&(c.isEmpty(o[n])||c.isEmpty(o[n].que))||(n?c._each(o[n].que,function(e){var t=o[n].que;e===r&&t.splice(t.indexOf(e),1)}):c._each(o.que,function(e){var t=o.que;e===r&&t.splice(t.indexOf(e),1)}),s[e]=o)},e.get=function(){return s},e.getEvents=function(){var t=[];return c._each(l,function(e){e=n({},e);t.push(e)}),t},e)},5244:function(e,t,r){"use strict";r.d(t,{z3:function(){return o},v5:function(){return i},bA:function(){return a},Bx:function(){return s}});t=r(1432),t=r.n(t);function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=t()({ready:t().SYNC|t().ASYNC|t().QUEUE}),i=o.get;function a(e,t){o("async",function(e){e.forEach(function(e){return t.apply(void 0,function(e){if(Array.isArray(e))return n(e)}(e=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return n(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})},e)([])}function s(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i(e).before(function(e,t){t.push(r),e(t)})}},4783:function(e,t,r){"use strict";r.d(t,{B5:function(){return n},pX:function(){return o},Mk:function(){return i},Oh:function(){return a}});var n="native",o="video",i="banner",a="adpod"},8098:function(e,t,r){"use strict";r.d(t,{Sg:function(){return i},xc:function(){return c},zs:function(){return d},r4:function(){return l},e6:function(){return f},Ur:function(){return p},eK:function(){return g}});var a=r(4753),t=r(1608),o=r.n(t);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=r(6482),i=[],c=Object.keys(s.NATIVE_KEYS).map(function(e){return s.NATIVE_KEYS[e]}),u={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function d(e){return e&&e.type&&((t=e.type)&&o()(Object.keys(u),t)||((0,a.logError)("".concat(t," nativeParam is not supported")),0))?u[e.type]:e;var t}function l(t,e){e=(0,a.getBidRequest)(t.requestId,e);if(!e)return!1;if(!(0,a.deepAccess)(t,"native.clickUrl"))return!1;if((0,a.deepAccess)(t,"native.image")&&(!(0,a.deepAccess)(t,"native.image.height")||!(0,a.deepAccess)(t,"native.image.width")))return!1;if((0,a.deepAccess)(t,"native.icon")&&(!(0,a.deepAccess)(t,"native.icon.height")||!(0,a.deepAccess)(t,"native.icon.width")))return!1;var r=e.nativeParams;if(!r)return!0;var e=Object.keys(r).filter(function(e){return r[e].required}),n=Object.keys(t.native).filter(function(e){return t.native[e]});return e.every(function(e){return o()(n,e)})}function f(e,t){var r;return"click"===e.action?r=t.native&&t.native.clickTrackers:(r=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&(0,a.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(r||[]).forEach(a.triggerPixel),e.action}function p(n,o){var i={};return Object.keys(n.native).forEach(function(e){var t=s.NATIVE_KEYS[e],r=m(n.native[e]);(0,a.deepAccess)(o,"mediaTypes.native.".concat(e,".sendId"))&&(r="".concat(t,":").concat(n.adId)),t&&r&&(i[t]=r)}),i}function g(e,r){var n={message:"assetResponse",adId:e.adId,assets:[]};return e.assets.forEach(function(e){var t=(0,a.getKeyByValue)(s.NATIVE_KEYS,e),e=m(r.native[t]);n.assets.push({key:t,value:e})}),n}function m(e){return"object"===n(e)&&e.url?e.url:e}},2435:function(e,t,r){"use strict";r.d(t,{n:function(){return n}});var m,y=r(4753),n=(m=window,function(){var e,t,r=[],n=function(e){try{return e.location.ancestorOrigins?e.location.ancestorOrigins:void 0}catch(e){}}(m),o=!1,i=0,a=!1,s=!1;do{var c=p,u=s,d=void 0,l=!1,f=null,s=!1,p=p?p.parent:m;try{d=p.location.href||null}catch(e){l=!0}if(l)if(u){u=c.context;try{e=f=u.sourceUrl,a=!0,p===m.top&&(o=!0),u.canonicalUrl&&(t=u.canonicalUrl)}catch(e){}}else{(0,y.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var g=c.document.referrer;g&&(f=g,p===m.top&&(o=!0))}catch(e){}(f=!f&&n&&n[i-1]?n[i-1]:f)&&!a&&(e=f)}else d&&(e=f=d,a=!1,p===m.top)&&(o=!0,(d=function(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}(p.document))&&(t=d)),p.context&&p.context.sourceUrl&&(s=!0)}while(r.push(f),i++,p!==m.top);return r.reverse(),{referer:e||null,reachedTop:o,isAmp:a,numIframes:i-1,stack:r,canonicalUrl:t||null}})},7447:function(e,t,r){"use strict";r.d(t,{g7:function(){return i},lO:function(){return a},$n:function(){return d}});var n=r(3485),s=r(4753),t=r(1608),c=r.n(t);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=[];function i(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function a(e){var t=l(1<arguments.length&&void 0!==arguments[1]?arguments[1]:u);return!t.shouldFilter||!!t.sizesSupported[e]}function d(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,r=void 0===t?[]:t,n=e.labelAll,o=void 0!==n&&n,t=e.activeLabels,i=void 0===t?[]:t,n=1<arguments.length?arguments[1]:void 0,e=2<arguments.length?arguments[2]:void 0,a=l(3<arguments.length&&void 0!==arguments[3]?arguments[3]:u),n=(0,s.isPlainObject)(n)?(0,s.deepClone)(n):e?{banner:{sizes:e}}:{},t=(0,s.deepAccess)(n,"banner.sizes");a.shouldFilter&&t&&(n.banner.sizes=t.filter(function(e){return a.sizesSupported[e]}));e=Object.keys(n),r={active:e.every(function(e){return"banner"!==e})||e.some(function(e){return"banner"===e})&&0<(0,s.deepAccess)(n,"banner.sizes.length")&&(0===r.length||!o&&(r.some(function(e){return a.labels[e]})||r.some(function(e){return c()(i,e)}))||o&&r.reduce(function(e,t){return e&&(a.labels[t]||c()(i,t))},!0)),mediaTypes:n};return t&&t.length!==n.banner.sizes.length&&(r.filterResults={before:t,after:n.banner.sizes}),r}function l(e){return e.reduce(function(r,e){if("object"===o(e)&&"string"==typeof e.mediaQuery){var t=!1;if(""===e.mediaQuery)t=!0;else try{t=(0,s.getWindowTop)().matchMedia(e.mediaQuery).matches}catch(r){(0,s.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),t=matchMedia(e.mediaQuery).matches}t&&(Array.isArray(e.sizesSupported)&&(r.shouldFilter=!0),["labels","sizesSupported"].forEach(function(t){return(e[t]||[]).forEach(function(e){return r[t][e]=!0})}))}else(0,s.logWarn)('sizeConfig rule missing required property "mediaQuery"');return r},{labels:{},sizesSupported:{},shouldFilter:!1})}n.vc.getConfig("sizeConfig",function(e){e=e.sizeConfig,u=e})},1723:function(e,t,r){"use strict";r.d(t,{Ld:function(){return l},eA:function(){return i},df:function(){return a}});var n=r(5244),s=r(4753),t=r(1608),u=r.n(t),d=["core","prebid-module"],l=[];function o(e){var e=0<arguments.length&&void 0!==e?e:{},n=e.gvlid,o=e.moduleName,i=e.moduleType;function c(t){return u()(d,i)?t({valid:!0}):(f(n,o,{hasEnforcementHook:!1},function(e){r=e&&e.hasEnforcementHook?t(e):(e={hasEnforcementHook:!1,valid:s.hasDeviceAccess()},t(e))}),r);var r}function a(t){function r(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){s.logError("Local storage api disabled")}return!1}if(!t||"function"!=typeof t)return c(r);l.push(function(){var e=c(r);t(e)})}return{setCookie:function(n,o,i,a,s,t){function r(e){var t,r;e&&e.valid&&(t=s&&""!==s?" ;domain=".concat(encodeURIComponent(s)):"",r=i&&""!==i?" ;expires=".concat(i):"",e=null!=a&&"none"==a.toLowerCase()?"; Secure":"",document.cookie="".concat(n,"=").concat(encodeURIComponent(o)).concat(r,"; path=/").concat(t).concat(a?"; SameSite=".concat(a):"").concat(e))}if(!t||"function"!=typeof t)return c(r);l.push(function(){var e=c(r);t(e)})},getCookie:function(t,r){function n(e){if(e&&e.valid){e=window.document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]*)\\s*(;|$)");return e?decodeURIComponent(e[2]):null}return null}if(!r||"function"!=typeof r)return c(n);l.push(function(){var e=c(n);r(e)})},localStorageIsEnabled:function(t){function r(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}return!1}if(!t||"function"!=typeof t)return c(r);l.push(function(){var e=c(r);t(e)})},cookiesAreEnabled:function(t){function r(e){return!(!e||!e.valid||!s.checkCookieSupport()&&(window.document.cookie="prebid.cookieTest",-1===window.document.cookie.indexOf("prebid.cookieTest")))}if(!t||"function"!=typeof t)return c(r);l.push(function(){var e=c(r);t(e)})},setDataInLocalStorage:function(t,r,n){function o(e){e&&e.valid&&a()&&window.localStorage.setItem(t,r)}if(!n||"function"!=typeof n)return c(o);l.push(function(){var e=c(o);n(e)})},getDataFromLocalStorage:function(t,r){function n(e){return e&&e.valid&&a()?window.localStorage.getItem(t):null}if(!r||"function"!=typeof r)return c(n);l.push(function(){var e=c(n);r(e)})},removeDataFromLocalStorage:function(t,r){function n(e){e&&e.valid&&a()&&window.localStorage.removeItem(t)}if(!r||"function"!=typeof r)return c(n);l.push(function(){var e=c(n);r(e)})},hasLocalStorage:a,findSimilarCookies:function(i,t){function r(e){if(e&&e.valid){var t=[];if(s.hasDeviceAccess())for(var r=document.cookie.split(";");r.length;){var n=r.pop(),o=(o=n.indexOf("="))<0?n.length:o;0<=decodeURIComponent(n.slice(0,o).replace(/^\s+/,"")).indexOf(i)&&t.push(decodeURIComponent(n.slice(o+1)))}return t}}if(!t||"function"!=typeof t)return c(r);l.push(function(){var e=c(r);t(e)})}}}var f=(0,n.z3)("async",function(e,t,r,n){n(r)},"validateStorageEnforcement");function i(e){return o({moduleName:e,moduleType:"core"})}function a(e,t){return o({gvlid:e,moduleName:t})}},112:function(e,t,r){"use strict";r.d(t,{k_:function(){return y}});var o=r(4753),n=r(3485),t=r(1608),i=r.n(t),r=r(1723);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.vc.setDefaults({userSync:o.deepClone({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var u,d,l,f,p,g,m,r=(0,r.eA)("usersync"),r=!o.isSafariBrowser()&&r.cookiesAreEnabled(),y=(u={config:n.vc.getConfig("userSync"),browserSupportsCookies:r},d={},l={image:[],iframe:[]},f=new Set,g={image:!0,iframe:!(p={})},m=u.config,n.vc.getConfig("userSync",function(e){var t;e.userSync&&(t=e.userSync.filterSettings,o.isPlainObject(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))),m=c(m,e.userSync)}),d.registerSync=function(e,t,r){return f.has(t)?o.logMessage('already fired syncs for "'.concat(t,'", ignoring registerSync call')):m.syncEnabled&&o.isArray(l[e])?t?0!==m.syncsPerBidder&&Number(p[t])>=m.syncsPerBidder?o.logWarn('Number of user syncs exceeded for "'.concat(t,'"')):d.canBidderRegisterSync(e,t)?(l[e].push([t,r]),(n=p)[r=t]?n[r]+=1:n[r]=1,void(p=n)):o.logWarn('Bidder "'.concat(t,'" not permitted to register their "').concat(e,'" userSync pixels.')):o.logWarn("Bidder is required for registering sync"):o.logWarn('User sync type "'.concat(e,'" not supported'));var n},d.syncUsers=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(h,Number(e));h()},d.triggerUserSyncs=function(){m.enableOverride&&d.syncUsers()},d.canBidderRegisterSync=function(e,t){return!m.filterSettings||!function(e,t){var r=m.filterSettings;if(function(e,t){if(e.all&&e[t])return o.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),0;var r=e.all||e[t],e=e.all?"all":t;if(r){t=r.filter,r=r.bidders;return t&&"include"!==t&&"exclude"!==t?(o.logWarn('UserSync "filterSettings.'.concat(e,".filter\" setting '").concat(t,"' is not a valid option; use either 'include' or 'exclude'.")),0):"*"===r||Array.isArray(r)&&0<r.length&&r.every(function(e){return o.isStr(e)&&"*"!==e})||(o.logWarn('Detected an invalid setup in userSync "filterSettings.'.concat(e,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),0)}}(r,e)){g[e]=!0;r=r.all||r[e],e="*"===r.bidders?[t]:r.bidders;return{include:function(e,t){return!i()(e,t)},exclude:function(e,t){return i()(e,t)}}[r.filter||"include"](e,t)}}(e,t)},d);function h(){if(m.syncEnabled&&u.browserSupportsCookies){try{g.image&&v(l.image,function(e){var t=a(e,2),e=t[0],t=t[1];o.logMessage("Invoking image pixel user sync for bidder: ".concat(e)),o.triggerPixel(t)}),g.iframe&&v(l.iframe,function(e){var t=a(e,2),e=t[0],t=t[1];o.logMessage("Invoking iframe user sync for bidder: ".concat(e)),o.insertUserSyncIframe(t)})}catch(e){return o.logError("Error firing user syncs",e)}l={image:[],iframe:[]}}}function v(e,t){o.shuffle(e).forEach(function(e){t(e),f.add(e[0])})}},4753:function(e,t,r){"use strict";r.r(t),r.d(t,{_each:function(){return oe},_map:function(){return ae},adUnitsFilter:function(){return Pe},bind:function(){return I},buildUrl:function(){return ft},callBurl:function(){return de},checkCookieSupport:function(){return Be},chunk:function(){return it},cleanObj:function(){return Qe},compareOn:function(){return ct},contains:function(){return ie},convertCamelToUnderscore:function(){return Ze},convertTypes:function(){return rt},createInvisibleIframe:function(){return K},createTrackPixelHtml:function(){return pe},createTrackPixelIframeHtml:function(){return ge},cyrb53Hash:function(){return mt},debugTurnedOn:function(){return H},deepAccess:function(){return s},deepClone:function(){return je},deepEqual:function(){return pt},deepSetValue:function(){return c},delayExecution:function(){return Ne},fill:function(){return ot},flatten:function(){return he},formatQS:function(){return dt},generateUUID:function(){return k},getAdUnitSizes:function(){return C},getBidIdParameter:function(){return x},getBidRequest:function(){return ve},getBidderCodes:function(){return _e},getBidderRequest:function(){return Ve},getDNT:function(){return Ge},getDefinedParams:function(){return qe},getGptSlotInfoForAdUnitCode:function(){return Ye},getHighestCpm:function(){return Ie},getKeyByValue:function(){return Se},getKeys:function(){return be},getLatestHighestCpmBid:function(){return Ae},getMaxValueFromArray:function(){return st},getMinValueFromArray:function(){return at},getOldestHighestCpmBid:function(){return Ee},getOrigin:function(){return We},getParameterByName:function(){return $},getUniqueIdentifierStr:function(){return A},getUserConfiguredParams:function(){return Fe},getValue:function(){return we},getValueString:function(){return me},getWindowLocation:function(){return L},getWindowSelf:function(){return N},getWindowTop:function(){return B},groupBy:function(){return Le},hasConsoleLogger:function(){return G},hasDeviceAccess:function(){return Me},hasOwn:function(){return se},inIframe:function(){return Te},insertElement:function(){return ce},insertHtmlIntoIframe:function(){return le},insertUserSyncIframe:function(){return fe},internal:function(){return O},isA:function(){return Y},isAdUnitCodeMatchingSlot:function(){return Ke},isArray:function(){return Z},isArrayOfNums:function(){return nt},isBoolean:function(){return te},isEmpty:function(){return re},isEmptyStr:function(){return ne},isFn:function(){return J},isGptPubadsDefined:function(){return Oe},isInteger:function(){return Xe},isNumber:function(){return Q},isPlainObject:function(){return ee},isSafariBrowser:function(){return Ce},isSlotMatchingAdUnitCode:function(){return $e},isStr:function(){return X},isValidMediaTypes:function(){return ze},logError:function(){return F},logInfo:function(){return z},logMessage:function(){return q},logWarn:function(){return V},mergeDeep:function(){return gt},parseGPTSingleSizeArray:function(){return D},parseGPTSingleSizeArrayToRtbSize:function(){return U},parseQS:function(){return ut},parseQueryStringParameters:function(){return j},parseSizesInput:function(){return R},parseUrl:function(){return lt},pick:function(){return et},replaceAuctionPrice:function(){return Re},replaceClickThrough:function(){return De},shuffle:function(){return xe},timestamp:function(){return Ue},transformAdServerTargetingObj:function(){return T},transformBidderParamKeywords:function(){return tt},triggerPixel:function(){return ue},tryAppendQueryString:function(){return P},uniques:function(){return ye},unsupportedBidderMessage:function(){return Je}});var n=r(3485),t=r(7079),o=r.n(t),t=r(2332),i=r.n(t),t=r(1608),a=r.n(t);function s(e,t,r,n,o){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:o;return e===o?r:e}function c(e,t,r){for(var n,o=0,i=(t=t.split?t.split("."):t).length,a=e;o<i;++o)n=a[t[o]],a=a[t[o]]=o===i-1?r:null!=n?n:!~t[o+1].indexOf(".")&&-1<+t[o+1]?[]:{}}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m,y=r(6482),h=Object.prototype.toString,t=Boolean(window.console),v=Boolean(t&&window.console.log),b=Boolean(t&&window.console.info),w=Boolean(t&&window.console.warn),S=Boolean(t&&window.console.error),_=r(8510),O={checkCookieSupport:Be,createTrackPixelIframeHtml:ge,getWindowSelf:N,getWindowTop:B,getWindowLocation:L,insertUserSyncIframe:fe,insertElement:ce,isFn:J,triggerPixel:ue,logError:F,logWarn:V,logMessage:q,logInfo:z,parseQS:ut,formatQS:dt,deepEqual:pt},r={},I=function(e,t){return t}.bind(null,1,r)()===r?Function.prototype.bind:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,r.concat(Array.prototype.slice.call(arguments)))}},E=(m=0,function(){return++m});function A(){return E()+Math.random().toString(16).substr(2)}function k(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,k)}function x(e,t){return t&&t[e]?t[e]:""}function P(e,t,r){return r?e+t+"="+encodeURIComponent(r)+"&":e}function j(e){var t,r="";for(t in e)e.hasOwnProperty(t)&&(r+=t+"="+encodeURIComponent(e[t])+"&");return r.replace(/&$/,"")}function T(t){return t&&0<Object.getOwnPropertyNames(t).length?be(t).map(function(e){return"".concat(e,"=").concat(encodeURIComponent(t[e]))}).join("&"):""}function C(e){if(e){var t,r=[];return e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)?(t=e.mediaTypes.banner.sizes,Array.isArray(t[0])?r=t:r.push(t)):Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?r=e.sizes:r.push(e.sizes)),r}}function R(e){var t=[];if("string"==typeof e){var r=e.split(","),n=/^(\d)+x(\d)+$/i;if(r)for(var o in r)se(r,o)&&r[o].match(n)&&t.push(r[o])}else if("object"===g(e)){var i=e.length;if(0<i)if(2===i&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(D(e));else for(var a=0;a<i;a++)t.push(D(e[a]))}return t}function D(e){if(M(e))return e[0]+"x"+e[1]}function U(e){if(M(e))return{w:e[0],h:e[1]}}function M(e){return Z(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function B(){return window.top}function N(){return window.self}function L(){return window.location}function q(){H()&&v&&console.log.apply(console,W(arguments,"MESSAGE:"))}function z(){H()&&b&&console.info.apply(console,W(arguments,"INFO:"))}function V(){H()&&w&&console.warn.apply(console,W(arguments,"WARNING:"))}function F(){H()&&S&&console.error.apply(console,W(arguments,"ERROR:")),_.emit(y.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function W(e,t){return e=[].slice.call(e),t&&e.unshift(t),e.unshift("display: inline-block; color: #fff; background: #3b88c3; padding: 1px 4px; border-radius: 3px;"),e.unshift("%cPrebid"),e}function G(){return v}function H(){return!!n.vc.getConfig("debug")}function K(){var e=document.createElement("iframe");return e.id=A(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function $(e){return ut(L().search)[e]||""}function Y(e,t){return h.call(e)==="[object "+t+"]"}function J(e){return Y(e,"Function")}function X(e){return Y(e,"String")}function Z(e){return Y(e,"Array")}function Q(e){return Y(e,"Number")}function ee(e){return Y(e,"Object")}function te(e){return Y(e,"Boolean")}function re(e){if(!e)return!0;if(Z(e)||X(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function ne(e){return X(e)&&(!e||0===e.length)}function oe(e,t){if(!re(e)){if(J(e.forEach))return e.forEach(t,this);var r=0,n=e.length;if(0<n)for(;r<n;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}}function ie(e,t){if(re(e))return!1;if(J(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}function ae(r,n){if(re(r))return[];if(J(r.map))return r.map(n);var o=[];return oe(r,function(e,t){o.push(n(e,t,r))}),o}function se(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function ce(e,t,r,n){t=t||document,r=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if((r=r.length?r:t.getElementsByTagName("body")).length){var r=r[0],o=n?null:r.firstChild;return r.insertBefore(e,o)}}catch(e){}}function ue(e,t){var r=new Image;t&&O.isFn(t)&&(r.addEventListener("load",t),r.addEventListener("error",t)),r.src=e}function de(e){var t=e.source,e=e.burl;t===y.S2S.SRC&&e&&O.triggerPixel(e)}function le(e){var t;e&&((t=document.createElement("iframe")).id=A(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",O.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close())}function fe(e,t){var r=O.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),e=document.createElement("div");e.innerHTML=r;e=e.firstChild;t&&O.isFn(t)&&(e.addEventListener("load",t),e.addEventListener("error",t)),O.insertElement(e,document,"html",!0)}function pe(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""}function ge(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),r=r&&'sandbox="'.concat(r,'"'),"<iframe ".concat(r,' id="').concat(A(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function me(e,t,r){return null==t?r:X(t)?t:Q(t)?t.toString():void O.logWarn("Unsuported type for param: "+e+" required type: String")}function ye(e,t,r){return r.indexOf(e)===t}function he(e,t){return e.concat(t)}function ve(r,e){var t;if(r)return e.some(function(e){e=i()(e.bids,function(t){return["bidId","adId","bid_id"].some(function(e){return t[e]===r})});return e&&(t=e),e}),t}function be(e){return Object.keys(e)}function we(e,t){return e[t]}function Se(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r}function _e(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map(function(e){return e.bids.map(function(e){return e.bidder}).reduce(he,[])}).reduce(he).filter(ye)}function Oe(){if(window.googletag&&J(window.googletag.pubads)&&J(window.googletag.pubads().getSlots))return!0}var Ie=ke("timeToRespond",function(e,t){return t<e}),Ee=ke("responseTimestamp",function(e,t){return t<e}),Ae=ke("responseTimestamp",function(e,t){return e<t});function ke(r,n){return function(e,t){return e.cpm===t.cpm?n(e[r],t[r])?t:e:e.cpm<t.cpm?t:e}}function xe(e){for(var t=e.length;0<t;){var r=Math.floor(Math.random()*t),n=e[--t];e[t]=e[r],e[r]=n}return e}function Pe(e,t){return a()(e,t&&t.adUnitCode)}function je(e){return o()(e)}function Te(){try{return O.getWindowSelf()!==O.getWindowTop()}catch(e){return!0}}function Ce(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function Re(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function De(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)}function Ue(){return(new Date).getTime()}function Me(){return!1!==n.vc.getConfig("deviceAccess")}function Be(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Ne(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var r=0;return function(){++r===t&&e.apply(this,arguments)}}function Le(e,r){return e.reduce(function(e,t){return(e[t[r]]=e[t[r]]||[]).push(t),e},{})}function qe(r,e){return e.filter(function(e){return r[e]}).reduce(function(e,t){return p(e,f({},t,r[t]))},{})}function ze(e){var t=["banner","native","video"];return!!Object.keys(e).every(function(e){return a()(t,e)})&&(!e.video||!e.video.context||a()(["instream","outstream","adpod"],e.video.context))}function Ve(e,t,r){return i()(e,function(e){return 0<e.bids.filter(function(e){return e.bidder===t&&e.adUnitCode===r}).length})||{start:null,auctionId:null}}function Fe(e,t,r){return e.filter(function(e){return e.code===t}).map(function(e){return e.bids}).reduce(he,[]).filter(function(e){return e.bidder===r}).map(function(e){return e.params||{}})}function We(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function Ge(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var He=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function Ke(t){return function(e){return He(t,e)}}function $e(t){return function(e){return He(e,t)}}function Ye(e){var t;return(t=Oe()?i()(window.googletag.pubads().getSlots(),$e(e)):t)?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function Je(e,t){var r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(r," ad unit\n    containing bidders that don't support ").concat(r,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")}function Xe(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Ze(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")}function Qe(r){return Object.keys(r).reduce(function(e,t){return void 0!==r[t]&&(e[t]=r[t]),e},{})}function et(i,a){return"object"!==g(i)?{}:a.reduce(function(e,t,r){if("function"==typeof t)return e;var n=t,o=t.match(/^(.+?)\sas\s(.+?)$/i);o&&(t=o[1],n=o[2]);t=i[t];return void 0!==(t="function"==typeof a[r+1]?a[r+1](t,e):t)&&(e[n]=t),e},{})}function tt(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"keywords",o=[];return oe(e,function(e,t){if(Z(e)){var r=[];oe(e,function(e){!(e=me(n+"."+t,e))&&""!==e||r.push(e)}),e=r}else{if(!X(e=me(n+"."+t,e)))return;e=[e]}o.push({key:t,value:e})}),o}function rt(n,o){return Object.keys(n).forEach(function(e){var t,r;o[e]&&(J(n[e])?o[e]=n[e](o[e]):o[e]=(t=n[e],r=o[e],"string"===t?r&&r.toString():"number"===t?Number(r):r),isNaN(o[e])&&delete o.key)}),o}function nt(e,t){return Z(e)&&(!t||e.length===t)&&e.every(Xe)}function ot(e,t){for(var r=[],n=0;n<t;n++){var o=ee(e)?je(e):e;r.push(o)}return r}function it(e,t){for(var r=[],n=0;n<Math.ceil(e.length/t);n++){var o=n*t;r.push(e.slice(o,o+t))}return r}function at(e){return Math.min.apply(Math,u(e))}function st(e){return Math.max.apply(Math,u(e))}function ct(r){return function(e,t){return e[r]<t[r]?1:e[r]>t[r]?-1:0}}function ut(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var t=function(e){if(Array.isArray(e))return e}(r=t.split("="))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),2!==t.length);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}}(r)||d(r,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],t=t[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(t)):e[r]=t||"",e},{}):{}}function dt(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return"".concat(t,"[]=").concat(e)}).join("&"):"".concat(t,"=").concat(e[t])}).join("&")}function lt(e,t){var r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);t=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:t?r.search:O.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}}function ft(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(O.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function pt(e,t){if(e===t)return!0;if("object"!==g(e)||null===e||"object"!==g(t)||null===t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e){if(!t.hasOwnProperty(r))return!1;if(!pt(e[r],t[r]))return!1}return!0}function gt(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!r.length)return e;var o=r.shift();if(ee(e)&&ee(o))for(var i in o)ee(o[i])?(e[i]||p(e,f({},i,{})),gt(e[i],o[i])):Z(o[i])&&e[i]?Z(e[i])&&(e[i]=e[i].concat(o[i])):p(e,f({},i,o[i]));return gt.apply(void 0,[e].concat(r))}function mt(e){for(var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=function(e,t){if(J(Math.imul))return Math.imul(e,t);var r=(4194303&e)*(t|=0);return 4290772992&e&&(r+=(4290772992&e)*t|0),0|r},o=3735928559^r,i=1103547991^r,a=0;a<e.length;a++)o=n(o^(t=e.charCodeAt(a)),2654435761),i=n(i^t,1597334677);return o=n(o^o>>>16,2246822507)^n(i^i>>>13,3266489909),(4294967296*(2097151&(i=n(i^i>>>16,2246822507)^n(o^o>>>13,3266489909)))+(o>>>0)).toString()}},2202:function(e,t,r){"use strict";r.d(t,{gZ:function(){return a},LD:function(){return n},Dn:function(){return s}}),r(7785);var o=r(4753),i=r(3485),r=(r(1608),r(5244)),a="outstream",n="instream";function s(e,t){var r=(0,o.getBidRequest)(e.requestId,t),n=r&&(0,o.deepAccess)(r,"mediaTypes.video"),t=n&&(0,o.deepAccess)(n,"context");return c(e,r,n,t)}var c=(0,r.z3)("sync",function(e,t,r,n){return!t||r&&n!==a?i.vc.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,o.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):n!==a||!(!e.renderer&&!t.renderer)},"checkVideoBidSetup")},9742:function(e,t){"use strict";t.byteLength=function(e){var t=d(e),e=t[0],t=t[1];return 3*(e+t)/4-t},t.toByteArray=function(e){for(var t,r=d(e),n=r[0],r=r[1],o=new u(3*(n+r)/4-r),i=0,a=0<r?n-4:n,s=0;s<a;s+=4)t=c[e.charCodeAt(s)]<<18|c[e.charCodeAt(s+1)]<<12|c[e.charCodeAt(s+2)]<<6|c[e.charCodeAt(s+3)],o[i++]=t>>16&255,o[i++]=t>>8&255,o[i++]=255&t;return 2===r&&(t=c[e.charCodeAt(s)]<<2|c[e.charCodeAt(s+1)]>>4,o[i++]=255&t),1===r&&(t=c[e.charCodeAt(s)]<<10|c[e.charCodeAt(s+1)]<<4|c[e.charCodeAt(s+2)]>>2,o[i++]=t>>8&255,o[i++]=255&t),o},t.fromByteArray=function(e){for(var t,r=e.length,n=r%3,o=[],i=0,a=r-n;i<a;i+=16383)o.push(function(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(s[(n=n)>>18&63]+s[n>>12&63]+s[n>>6&63]+s[63&n]);return o.join("")}(e,i,a<i+16383?a:i+16383));return 1==n?(t=e[r-1],o.push(s[t>>2]+s[t<<4&63]+"==")):2==n&&(t=(e[r-2]<<8)+e[r-1],o.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"=")),o.join("")};for(var s=[],c=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=r.length;n<o;++n)s[n]=r[n],c[r.charCodeAt(n)]=n;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");return[e=-1===e?t:e,e===t?0:4-e%4]}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},2987:function(e,t,r){r(833);r=r(5379);e.exports=r("Array","find")},4493:function(e,t,r){r(7971),r(3242);r=r(4058);e.exports=r.Array.from},2415:function(e,t,r){r(7690);r=r(5379);e.exports=r("Array","includes")},3820:function(e,t,r){r(800);r=r(4058);e.exports=r.Number.isInteger},6998:function(e,t,r){r(9008),r(5967),r(7971),r(7634);r=r(4058);e.exports=r.Set},7611:function(e,t,r){r(1035);r=r(5379);e.exports=r("String","includes")},2332:function(e,t,r){r=r(2987);e.exports=r},7385:function(e,t,r){r=r(4493);e.exports=r},1608:function(e,t,r){r=r(2415);e.exports=r},2320:function(e,t,r){r=r(3820);e.exports=r},5743:function(e,t,r){var n=r(6998);r(5800),r(3676),r(2645),r(2578),r(4573),r(7421),r(3787),r(256),r(2032),r(1873),r(6566),r(987),r(1892),r(3352),r(6988),r(6875),r(3859),r(6690),e.exports=n},5195:function(e,t,r){r=r(7611);e.exports=r},3916:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},1851:function(e,t,r){var n=r(941);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},8479:function(e){e.exports=function(){}},7359:function(e){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},6059:function(e,t,r){var n=r(941);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},1354:function(e,t,r){"use strict";var p=r(6843),g=r(9678),m=r(5196),y=r(6782),h=r(3057),v=r(5449),b=r(2902);e.exports=function(e){var t,r,n,o,i,a,s=g(e),c="function"==typeof this?this:Array,u=arguments.length,d=1<u?arguments[1]:void 0,l=void 0!==d,e=b(s),f=0;if(l&&(d=p(d,2<u?arguments[2]:void 0,2)),null==e||c==Array&&y(e))for(r=new c(t=h(s.length));f<t;f++)a=l?d(s[f],f):s[f],v(r,f,a);else for(i=(o=e.call(s)).next,r=new c;!(n=i.call(o)).done;f++)a=l?m(o,d,[n.value,f],!0):n.value,v(r,f,a);return r.length=f,r}},1692:function(e,t,r){var c=r(4529),u=r(3057),d=r(9413),r=function(s){return function(e,t,r){var n,o=c(e),i=u(o.length),a=d(r,i);if(s&&t!=t){for(;a<i;)if((n=o[a++])!=n)return!0}else for(;a<i;a++)if((s||a in o)&&o[a]===t)return s||a||0;return!s&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},3610:function(e,t,r){var w=r(6843),S=r(7026),_=r(9678),O=r(3057),I=r(4692),E=[].push,r=function(f){var p=1==f,g=2==f,m=3==f,y=4==f,h=6==f,v=7==f,b=5==f||h;return function(e,t,r,n){for(var o,i,a=_(e),s=S(a),c=w(t,r,3),u=O(s.length),d=0,n=n||I,l=p?n(e,u):g||v?n(e,0):void 0;d<u;d++)if((b||d in s)&&(i=c(o=s[d],d,a),f))if(p)l[d]=i;else if(i)switch(f){case 3:return!0;case 5:return o;case 6:return d;case 2:E.call(l,o)}else switch(f){case 4:return!1;case 7:E.call(l,o)}return h?-1:m||y?y:l}};e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6),filterOut:r(7)}},4692:function(e,t,r){var n=r(941),o=r(1052),i=r(9813)("species");e.exports=function(e,t){var r;return new(void 0===(r=o(e)&&("function"==typeof(r=e.constructor)&&(r===Array||o(r.prototype))||n(r)&&null===(r=r[i]))?void 0:r)?Array:r)(0===t?0:t)}},5196:function(e,t,r){var o=r(6059),i=r(7609);e.exports=function(e,t,r,n){try{return n?t(o(r)[0],r[1]):t(r)}catch(t){throw i(e),t}}},1385:function(e,t,r){var o=r(9813)("iterator"),i=!1;try{var n=0,a={next:function(){return{done:!!n++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var n={};n[o]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r}},2532:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9697:function(e,t,r){var n=r(2885),o=r(2532),i=r(9813)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?e:a?o(t):"Object"==(e=o(t))&&"function"==typeof t.callee?"Arguments":e}},7622:function(e,t,r){"use strict";var o=r(6059),i=r(3916);e.exports=function(){for(var e=o(this),t=i(e.add),r=0,n=arguments.length;r<n;r++)t.call(e,arguments[r]);return e}},8984:function(e,t,r){"use strict";var a=r(6059),s=r(3916);e.exports=function(){for(var e,t=a(this),r=s(t.delete),n=!0,o=0,i=arguments.length;o<i;o++)e=r.call(t,arguments[o]),n=n&&e;return!!n}},3590:function(e,t,r){"use strict";var s=r(3916),c=r(6843),u=r(3091);e.exports=function(e){var t,r,n,o,i=arguments.length,a=1<i?arguments[1]:void 0;return s(this),(t=void 0!==a)&&s(a),null==e?new this:(r=[],t?(n=0,o=c(a,2<i?arguments[2]:void 0,2),u(e,function(e){r.push(o(e,n++))})):u(e,r.push,{that:r}),new this(r))}},5226:function(e){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},5616:function(e,t,r){"use strict";var u=r(5988).f,d=r(9290),l=r(7524),f=r(6843),p=r(7359),g=r(3091),a=r(7771),s=r(4431),m=r(5746),y=r(1647).fastKey,r=r(5402),h=r.set,v=r.getterFor;e.exports={getConstructor:function(e,r,n,o){function i(e,t,r){var n,o=c(e),i=a(e,t);return i?i.value=r:(o.last=i={index:n=y(t,!0),key:t,value:r,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=i),r&&(r.next=i),m?o.size++:e.size++,"F"!==n&&(o.index[n]=i)),e}function a(e,t){var r,n=c(e);if("F"!==(e=y(t)))return n.index[e];for(r=n.first;r;r=r.next)if(r.key==t)return r}var s=e(function(e,t){p(e,s,r),h(e,{type:r,index:d(null),first:void 0,last:void 0,size:0}),m||(e.size=0),null!=t&&g(t,e[o],{that:e,AS_ENTRIES:n})}),c=v(r);return l(s.prototype,{clear:function(){for(var e=c(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,m?e.size=0:this.size=0},delete:function(e){var t,r=c(this),n=a(this,e);return n&&(t=n.next,e=n.previous,delete r.index[n.index],n.removed=!0,e&&(e.next=t),t&&(t.previous=e),r.first==n&&(r.first=t),r.last==n&&(r.last=e),m?r.size--:this.size--),!!n},forEach:function(e){for(var t,r=c(this),n=f(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),l(s.prototype,n?{get:function(e){e=a(this,e);return e&&e.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),m&&u(s.prototype,"size",{get:function(){return c(this).size}}),s},setStrong:function(e,t,r){var n=t+" Iterator",o=v(t),i=v(n);a(e,t,function(e,t){h(this,{type:n,target:e,state:o(e),kind:t,last:void 0})},function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:{value:e.target=void 0,done:!0}},r?"entries":"values",!r,!0),s(t)}}},4683:function(e,t,r){"use strict";var l=r(6887),f=r(1899),p=r(1647),g=r(5981),m=r(2029),y=r(3091),h=r(7359),v=r(941),b=r(904),w=r(5988).f,S=r(3610).forEach,_=r(5746),r=r(5402),O=r.set,I=r.getterFor;e.exports=function(r,e,t){var i,a,n=-1!==r.indexOf("Map"),s=-1!==r.indexOf("Weak"),o=n?"set":"add",c=f[r],u=c&&c.prototype,d={};return _&&"function"==typeof c&&(s||u.forEach&&!g(function(){(new c).entries().next()}))?(i=e(function(e,t){O(h(e,i,r),{type:r,collection:new c}),null!=t&&y(t,e[o],{that:e,AS_ENTRIES:n})}),a=I(r),S(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(n){var o="add"==n||"set"==n;!(n in u)||s&&"clear"==n||m(i.prototype,n,function(e,t){var r=a(this).collection;if(!o&&s&&!v(e))return"get"==n&&void 0;t=r[n](0===e?0:e,t);return o?this:t})}),s||w(i.prototype,"size",{configurable:!0,get:function(){return a(this).collection.size}})):(i=t.getConstructor(e,r,n,o),p.REQUIRED=!0),b(i,r,!1,!0),d[r]=i,l({global:!0,forced:!0},d),s||t.setStrong(i,r,n),i}},7772:function(e,t,r){var n=r(9813)("match");e.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,"/./"[t](r)}catch(t){}}return!1}},4160:function(e,t,r){r=r(5981);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},1046:function(e,t,r){"use strict";function n(){return this}var o=r(5143).IteratorPrototype,i=r(9290),a=r(1887),s=r(904),c=r(2077);e.exports=function(e,t,r){t+=" Iterator";return e.prototype=i(o,{next:a(1,r)}),s(e,t,!1,!0),c[t]=n,e}},2029:function(e,t,r){var n=r(5746),o=r(5988),i=r(1887);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},1887:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5449:function(e,t,r){"use strict";var n=r(6935),o=r(5988),i=r(1887);e.exports=function(e,t,r){t=n(t);t in e?o.f(e,t,i(0,r)):e[t]=r}},7771:function(e,t,r){"use strict";function m(){return this}var y=r(6887),h=r(1046),v=r(249),b=r(8929),w=r(904),S=r(2029),_=r(9754),n=r(9813),O=r(2529),I=r(2077),r=r(5143),E=r.IteratorPrototype,A=r.BUGGY_SAFARI_ITERATORS,k=n("iterator"),x="values";e.exports=function(e,t,r,n,o,i,a){h(r,t,n);function s(e){if(e===o&&g)return g;if(!A&&e in f)return f[e];switch(e){case"keys":case x:case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}}var c,u,d=t+" Iterator",l=!1,f=e.prototype,p=f[k]||f["@@iterator"]||o&&f[o],g=!A&&p||s(o),n="Array"==t&&f.entries||p;if(n&&(e=v(n.call(new e)),E!==Object.prototype&&e.next&&(O||v(e)===E||(b?b(e,E):"function"!=typeof e[k]&&S(e,k,m)),w(e,d,!0,!0),O&&(I[d]=m))),o==x&&p&&p.name!==x&&(l=!0,g=function(){return p.call(this)}),O&&!a||f[k]===g||S(f,k,g),I[t]=g,o)if(c={values:s(x),keys:i?g:s("keys"),entries:s("entries")},a)for(u in c)!A&&!l&&u in f||_(f,u,c[u]);else y({target:t,proto:!0,forced:A||l},c);return c}},5746:function(e,t,r){r=r(5981);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},1333:function(e,t,r){var n=r(1899),r=r(941),o=n.document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},3281:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},5379:function(e,t,r){r=r(626);e.exports=r},6759:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6887:function(e,t,r){"use strict";function g(n){function e(e,t,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,r)}return n.apply(this,arguments)}return e.prototype=n.prototype,e}var m=r(1899),y=r(9677).f,h=r(7252),v=r(4058),b=r(6843),w=r(2029),S=r(7457);e.exports=function(e,t){var r,n,o,i,a,s=e.target,c=e.global,u=e.stat,d=e.proto,l=c?m:u?m[s]:(m[s]||{}).prototype,f=c?v:v[s]||(v[s]={}),p=f.prototype;for(r in t)i=!h(c?r:s+(u?".":"#")+r,e.forced)&&l&&S(l,r),n=f[r],i&&(o=e.noTargetGet?(a=y(l,r))&&a.value:l[r]),a=i&&o?o:t[r],i&&typeof n==typeof a||(i=e.bind&&i?b(a,m):e.wrap&&i?g(a):d&&"function"==typeof a?b(Function.call,a):a,(e.sham||a&&a.sham||n&&n.sham)&&w(i,"sham",!0),f[r]=i,d&&(S(v,i=s+"Prototype")||w(v,i,{}),v[i][r]=a,e.real&&p&&!p[r]&&w(p,r,a)))}},5981:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},5602:function(e,t,r){r=r(5981);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},6843:function(e,t,r){var i=r(3916);e.exports=function(n,o,e){if(i(n),void 0===o)return n;switch(e){case 0:return function(){return n.call(o)};case 1:return function(e){return n.call(o,e)};case 2:return function(e,t){return n.call(o,e,t)};case 3:return function(e,t,r){return n.call(o,e,t,r)}}return function(){return n.apply(o,arguments)}}},626:function(e,t,r){function n(e){return"function"==typeof e?e:void 0}var o=r(4058),i=r(1899);e.exports=function(e,t){return arguments.length<2?n(o[e])||n(i[e]):o[e]&&o[e][t]||i[e]&&i[e][t]}},2902:function(e,t,r){var n=r(9697),o=r(2077),i=r(9813)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},3476:function(e,t,r){var n=r(6059),o=r(2902);e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},9571:function(e,t,r){var n=r(2529),r=r(3476);e.exports=n?r:function(e){return Set.prototype.values.call(e)}},1899:function(e,t,r){function n(e){return e&&e.Math==Math&&e}e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},7457:function(e){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},7748:function(e){e.exports={}},5463:function(e,t,r){r=r(626);e.exports=r("document","documentElement")},2840:function(e,t,r){var n=r(5746),o=r(5981),i=r(1333);e.exports=!n&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},7026:function(e,t,r){var n=r(5981),o=r(2532),i="".split;e.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},1302:function(e,t,r){var r=r(3030),n=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return n.call(e)}),e.exports=r.inspectSource},1647:function(e,t,r){function n(e){s(e,d,{value:{objectID:"O"+ ++l,weakData:{}}})}var o=r(7748),i=r(941),a=r(7457),s=r(5988).f,c=r(9418),u=r(5602),d=c("meta"),l=0,f=Object.isExtensible||function(){return!0},p=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,d)){if(!f(e))return"F";if(!t)return"E";n(e)}return e[d].objectID},getWeakData:function(e,t){if(!a(e,d)){if(!f(e))return!0;if(!t)return!1;n(e)}return e[d].weakData},onFreeze:function(e){return u&&p.REQUIRED&&f(e)&&!a(e,d)&&n(e),e}};o[d]=!0},5402:function(e,t,r){var n,o,i,a,s,c,u,d,l=r(8019),f=r(1899),p=r(941),g=r(2029),m=r(7457),y=r(3030),h=r(4262),r=r(7748),f=f.WeakMap;u=l?(n=y.state||(y.state=new f),o=n.get,i=n.has,a=n.set,s=function(e,t){return t.facade=e,a.call(n,e,t),t},c=function(e){return o.call(n,e)||{}},function(e){return i.call(n,e)}):(r[d=h("state")]=!0,s=function(e,t){return t.facade=e,g(e,d,t),t},c=function(e){return m(e,d)?e[d]:{}},function(e){return m(e,d)}),e.exports={set:s,get:c,has:u,enforce:function(e){return u(e)?c(e):s(e,{})},getterFor:function(r){return function(e){var t;if(!p(e)||(t=c(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}}}},6782:function(e,t,r){var n=r(9813),o=r(2077),i=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},1052:function(e,t,r){var n=r(2532);e.exports=Array.isArray||function(e){return"Array"==n(e)}},7252:function(e,t,r){var n=r(5981),o=/#|\.prototype\./,r=function(e,t){e=a[i(e)];return e==c||e!=s&&("function"==typeof t?n(t):!!t)},i=r.normalize=function(e){return String(e).replace(o,".").toLowerCase()},a=r.data={},s=r.NATIVE="N",c=r.POLYFILL="P";e.exports=r},4466:function(e,t,r){var n=r(941),o=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},941:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},2529:function(e){e.exports=!0},685:function(e,t,r){var n=r(941),o=r(2532),i=r(9813)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},3091:function(e,t,r){function y(e,t){this.stopped=e,this.result=t}var h=r(6059),v=r(6782),b=r(3057),w=r(6843),S=r(2902),_=r(7609);e.exports=function(e,t,r){function n(e){return i&&_(i),new y(!0,e)}function o(e){return f?(h(e),g?m(e[0],e[1],n):m(e[0],e[1])):g?m(e,n):m(e)}var i,a,s,c,u,d,l=r&&r.that,f=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),g=!(!r||!r.INTERRUPTED),m=w(t,l,1+f+g);if(p)i=e;else{if("function"!=typeof(p=S(e)))throw TypeError("Target is not iterable");if(v(p)){for(a=0,s=b(e.length);a<s;a++)if((c=o(e[a]))&&c instanceof y)return c;return new y(!1)}i=p.call(e)}for(u=i.next;!(d=u.call(i)).done;){try{c=o(d.value)}catch(e){throw _(i),e}if("object"==typeof c&&c&&c instanceof y)return c}return new y(!1)}},7609:function(e,t,r){var n=r(6059);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},5143:function(e,t,r){"use strict";var n,o=r(5981),i=r(249),a=r(2029),s=r(7457),c=r(9813),u=r(2529),d=c("iterator"),r=!1;[].keys&&("next"in(c=[].keys())?(c=i(i(c)))!==Object.prototype&&(n=c):r=!0);o=null==n||o(function(){var e={};return n[d].call(e)!==e});o&&(n={}),u&&!o||s(n,d)||a(n,d,function(){return this}),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:r}},2077:function(e){e.exports={}},2497:function(e,t,r){r=r(5981);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},8019:function(e,t,r){var n=r(1899),r=r(1302),n=n.WeakMap;e.exports="function"==typeof n&&/native code/.test(r(n))},344:function(e,t,r){var n=r(685);e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},9290:function(e,t,r){function n(){}function o(e){return"<script>"+e+"<\/script>"}var i,a=r(6059),s=r(9938),c=r(6759),u=r(7748),d=r(5463),l=r(1333),f=r(4262)("IE_PROTO"),p=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=i?function(e){e.write(o("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=l("iframe")).style.display="none",d.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(o("document.F=Object")),e.close(),e.F);for(var r=c.length;r--;)delete p.prototype[c[r]];return p()};u[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(n.prototype=a(e),r=new n,n.prototype=null,r[f]=e):r=p(),void 0===t?r:s(r,t)}},9938:function(e,t,r){var n=r(5746),a=r(5988),s=r(6059),c=r(4771);e.exports=n?Object.defineProperties:function(e,t){s(e);for(var r,n=c(t),o=n.length,i=0;i<o;)a.f(e,r=n[i++],t[r]);return e}},5988:function(e,t,r){var n=r(5746),o=r(2840),i=r(6059),a=r(6935),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(i(e),t=a(t,!0),i(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},9677:function(e,t,r){var n=r(5746),o=r(6760),i=r(1887),a=r(4529),s=r(6935),c=r(7457),u=r(2840),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=a(e),t=s(t,!0),u)try{return d(e,t)}catch(e){}if(c(e,t))return i(!o.f.call(e,t),e[t])}},249:function(e,t,r){var n=r(7457),o=r(9678),i=r(4262),r=r(4160),a=i("IE_PROTO"),s=Object.prototype;e.exports=r?Object.getPrototypeOf:function(e){return e=o(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},5629:function(e,t,r){var a=r(7457),s=r(4529),c=r(1692).indexOf,u=r(7748);e.exports=function(e,t){var r,n=s(e),o=0,i=[];for(r in n)!a(u,r)&&a(n,r)&&i.push(r);for(;t.length>o;)a(n,r=t[o++])&&(~c(i,r)||i.push(r));return i}},4771:function(e,t,r){var n=r(5629),o=r(6759);e.exports=Object.keys||function(e){return n(e,o)}},6760:function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){e=n(this,e);return!!e&&e.enumerable}:r},8929:function(e,t,r){var o=r(6059),i=r(1851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,e={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),n=e instanceof Array}catch(r){}return function(e,t){return o(e),i(t),n?r.call(e,t):e.__proto__=t,e}}():void 0)},5623:function(e,t,r){"use strict";var n=r(2885),o=r(9697);e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},4058:function(e){e.exports={}},7524:function(e,t,r){var o=r(9754);e.exports=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:o(e,n,t[n],r);return e}},9754:function(e,t,r){var o=r(2029);e.exports=function(e,t,r,n){n&&n.enumerable?e[t]=r:o(e,t,r)}},8219:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},4911:function(e,t,r){var n=r(1899),o=r(2029);e.exports=function(t,r){try{o(n,t,r)}catch(e){n[t]=r}return r}},4431:function(e,t,r){"use strict";var n=r(626),o=r(5988),i=r(9813),a=r(5746),s=i("species");e.exports=function(e){var t=n(e),e=o.f;a&&t&&!t[s]&&e(t,s,{configurable:!0,get:function(){return this}})}},904:function(e,t,r){var o=r(2885),i=r(5988).f,a=r(2029),s=r(7457),c=r(5623),u=r(9813)("toStringTag");e.exports=function(e,t,r,n){e&&(e=r?e:e.prototype,s(e,u)||i(e,u,{configurable:!0,value:t}),n&&!o&&a(e,"toString",c))}},4262:function(e,t,r){var n=r(8726),o=r(9418),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},3030:function(e,t,r){var n=r(1899),o=r(4911),r="__core-js_shared__",r=n[r]||o(r,{});e.exports=r},8726:function(e,t,r){var n=r(2529),o=r(3030);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.0",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},487:function(e,t,r){var n=r(6059),o=r(3916),i=r(9813)("species");e.exports=function(e,t){var r,e=n(e).constructor;return void 0===e||null==(r=n(e)[i])?t:o(r)}},4620:function(e,t,r){var a=r(8459),s=r(8219),r=function(i){return function(e,t){var r,n=String(s(e)),o=a(t),e=n.length;return o<0||e<=o?i?"":void 0:(t=n.charCodeAt(o))<55296||56319<t||o+1===e||(r=n.charCodeAt(o+1))<56320||57343<r?i?n.charAt(o):t:i?n.slice(o,o+2):r-56320+(t-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},9413:function(e,t,r){var n=r(8459),o=Math.max,i=Math.min;e.exports=function(e,t){e=n(e);return e<0?o(e+t,0):i(e,t)}},4529:function(e,t,r){var n=r(7026),o=r(8219);e.exports=function(e){return n(o(e))}},8459:function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:t)(e)}},3057:function(e,t,r){var n=r(8459),o=Math.min;e.exports=function(e){return 0<e?o(n(e),9007199254740991):0}},9678:function(e,t,r){var n=r(8219);e.exports=function(e){return Object(n(e))}},6935:function(e,t,r){var o=r(941);e.exports=function(e,t){if(!o(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!o(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},2885:function(e,t,r){var n={};n[r(9813)("toStringTag")]="z",e.exports="[object z]"===String(n)},9418:function(e){var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},2302:function(e,t,r){r=r(2497);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9813:function(e,t,r){var n=r(1899),o=r(8726),i=r(7457),a=r(9418),s=r(2497),r=r(2302),c=o("wks"),u=n.Symbol,d=r?u:u&&u.withoutSetter||a;e.exports=function(e){return i(c,e)||(s&&i(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},833:function(e,t,r){"use strict";var n=r(6887),o=r(3610).find,r=r(8479),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n({target:"Array",proto:!0,forced:i},{find:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),r("find")},3242:function(e,t,r){var n=r(6887),o=r(1354);n({target:"Array",stat:!0,forced:!r(1385)(function(e){Array.from(e)})},{from:o})},7690:function(e,t,r){"use strict";var n=r(6887),o=r(1692).includes,r=r(8479);n({target:"Array",proto:!0},{includes:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),r("includes")},6274:function(e,t,r){"use strict";var n=r(4529),o=r(8479),i=r(2077),a=r(5402),r=r(7771),s="Array Iterator",c=a.set,u=a.getterFor(s);e.exports=r(Array,"Array",function(e,t){c(this,{type:s,target:n(e),index:0,kind:t})},function(){var e=u(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?{value:e.target=void 0,done:!0}:"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},800:function(e,t,r){r(6887)({target:"Number",stat:!0},{isInteger:r(4466)})},5967:function(){},9008:function(e,t,r){"use strict";var n=r(4683),r=r(5616);e.exports=n("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r)},1035:function(e,t,r){"use strict";var n=r(6887),o=r(344),i=r(8219);n({target:"String",proto:!0,forced:!r(7772)("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),1<arguments.length?arguments[1]:void 0)}})},7971:function(e,t,r){"use strict";var n=r(4620).charAt,o=r(5402),r=r(7771),i="String Iterator",a=o.set,s=o.getterFor(i);r(String,"String",function(e){a(this,{type:i,string:String(e),index:0})},function(){var e=s(this),t=e.string,r=e.index;return r>=t.length?{value:void 0,done:!0}:(r=n(t,r),e.index+=r.length,{value:r,done:!1})})},2645:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(7622);n({target:"Set",proto:!0,real:!0,forced:o},{addAll:function(){return i.apply(this,arguments)}})},2578:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(8984);n({target:"Set",proto:!0,real:!0,forced:o},{deleteAll:function(){return i.apply(this,arguments)}})},7421:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(626),a=r(6059),s=r(3916),c=r(487),u=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{difference:function(e){var t=a(this),r=new(c(t,i("Set")))(t),n=s(r.delete);return u(e,function(e){n.call(r,e)}),r}})},4573:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(6059),a=r(6843),s=r(9571),c=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{every:function(e){var r=i(this),t=s(r),n=a(e,1<arguments.length?arguments[1]:void 0,3);return!c(t,function(e,t){if(!n(e,e,r))return t()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},3787:function(e,t,r){"use strict";var n=r(6887),o=r(2529),a=r(626),s=r(6059),c=r(3916),u=r(6843),d=r(487),l=r(9571),f=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{filter:function(e){var t=s(this),r=l(t),n=u(e,1<arguments.length?arguments[1]:void 0,3),o=new(d(t,a("Set"))),i=c(o.add);return f(r,function(e){n(e,e,t)&&i.call(o,e)},{IS_ITERATOR:!0}),o}})},256:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(6059),a=r(6843),s=r(9571),c=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{find:function(e){var r=i(this),t=s(r),n=a(e,1<arguments.length?arguments[1]:void 0,3);return c(t,function(e,t){if(n(e,e,r))return t(e)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},5800:function(e,t,r){r(6887)({target:"Set",stat:!0},{from:r(3590)})},2032:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(626),a=r(6059),s=r(3916),c=r(487),u=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{intersection:function(e){var t=a(this),r=new(c(t,i("Set"))),n=s(t.has),o=s(r.add);return u(e,function(e){n.call(t,e)&&o.call(r,e)}),r}})},1873:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(6059),a=r(3916),s=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{isDisjointFrom:function(e){var r=i(this),n=a(r.has);return!s(e,function(e,t){if(!0===n.call(r,e))return t()},{INTERRUPTED:!0}).stopped}})},6566:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(626),a=r(6059),s=r(3916),c=r(3476),u=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{isSubsetOf:function(e){var t=c(this),r=a(e),n=r.has;return"function"!=typeof n&&(r=new(i("Set"))(e),n=s(r.has)),!u(t,function(e,t){if(!1===n.call(r,e))return t()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},987:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(6059),a=r(3916),s=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{isSupersetOf:function(e){var r=i(this),n=a(r.has);return!s(e,function(e,t){if(!1===n.call(r,e))return t()},{INTERRUPTED:!0}).stopped}})},1892:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(6059),a=r(9571),s=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{join:function(e){var t=i(this),r=a(t),t=void 0===e?",":String(e),e=[];return s(r,e.push,{that:e,IS_ITERATOR:!0}),e.join(t)}})},3352:function(e,t,r){"use strict";var n=r(6887),o=r(2529),a=r(626),s=r(6059),c=r(3916),u=r(6843),d=r(487),l=r(9571),f=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{map:function(e){var t=s(this),r=l(t),n=u(e,1<arguments.length?arguments[1]:void 0,3),o=new(d(t,a("Set"))),i=c(o.add);return f(r,function(e){i.call(o,n(e,e,t))},{IS_ITERATOR:!0}),o}})},3676:function(e,t,r){r(6887)({target:"Set",stat:!0},{of:r(5226)})},6988:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(6059),a=r(3916),s=r(9571),c=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{reduce:function(t){var r=i(this),e=s(r),n=arguments.length<2,o=n?void 0:arguments[1];if(a(t),c(e,function(e){o=n?(n=!1,e):t(o,e,e,r)},{IS_ITERATOR:!0}),n)throw TypeError("Reduce of empty set with no initial value");return o}})},6875:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(6059),a=r(6843),s=r(9571),c=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{some:function(e){var r=i(this),t=s(r),n=a(e,1<arguments.length?arguments[1]:void 0,3);return c(t,function(e,t){if(n(e,e,r))return t()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},3859:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(626),a=r(6059),s=r(3916),c=r(487),u=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{symmetricDifference:function(e){var t=a(this),r=new(c(t,i("Set")))(t),n=s(r.delete),o=s(r.add);return u(e,function(e){n.call(r,e)||o.call(r,e)}),r}})},6690:function(e,t,r){"use strict";var n=r(6887),o=r(2529),i=r(626),a=r(6059),s=r(3916),c=r(487),u=r(3091);n({target:"Set",proto:!0,real:!0,forced:o},{union:function(e){var t=a(this),t=new(c(t,i("Set")))(t);return u(e,s(t.add),{that:t}),t}})},7634:function(e,t,r){r(6274);var n,o=r(3281),i=r(1899),a=r(9697),s=r(2029),c=r(2077),u=r(9813)("toStringTag");for(n in o){var d=i[n],d=d&&d.prototype;d&&a(d)!==u&&s(d,u,n),c[n]=c.Array}},4611:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(h.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,r="",n=this.t,o=this.DB-n*this.DB%4;if(0<n--)for(o<this.DB&&0<(e=this[n]>>o)&&(t=!0,r=s(e));0<=n;)o<4?(e=(this[n]&(1<<o)-1)<<4-o,e|=this[--n]>>(o+=this.DB-4)):(e=this[n]>>(o-=4)&15,o<=0&&(o+=this.DB,--n)),(t=0<e?!0:t)&&(r+=s(e));return t?r:"0"},h.prototype.fromHexString=function(e){if(null!==e){this.t=0,this.s=0;for(var t=e.length,r=!1,n=0;0<=--t;){var o=a(e,t);o<0?"-"==e.charAt(t)&&(r=!0):(r=!1,0==n?this[this.t++]=o:n+4>this.DB?(this[this.t-1]|=(o&(1<<this.DB-n)-1)<<n,this[this.t++]=o>>this.DB-n):this[this.t-1]|=o<<n,(n+=4)>=this.DB&&(n-=this.DB))}this.clamp(),r&&h.ZERO.subTo(this,this)}},h.prototype.negate=function(){var e=v();return h.ZERO.subTo(this,e),e},h.prototype.abs=function(){return this.s<0?this.negate():this},h.prototype.mod=function(e){var t=v();return this.abs().divRemTo(e,null,t),this.s<0&&0<t.compareTo(h.ZERO)&&e.subTo(t,t),t},h.prototype.copyTo=function(e){for(var t=this.t-1;0<=t;--t)e[t]=this[t];e.t=this.t,e.s=this.s},h.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,n=this.DB-r,o=(1<<n)-1,i=Math.floor(e/this.DB),a=this.s<<r&this.DM,s=this.t-1;0<=s;--s)t[s+i+1]=this[s]>>n|a,a=(this[s]&o)<<r;for(s=i-1;0<=s;--s)t[s]=0;t[i]=a,t.t=this.t+i+1,t.s=this.s,t.clamp()},h.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t},h.prototype.dlShiftTo=function(e,t){for(var r=this.t-1;0<=r;--r)t[r+e]=this[r];for(r=e-1;0<=r;--r)t[r]=0;t.t=this.t+e,t.s=this.s},h.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;0<=--r;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}0<e.t&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},h.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),o=r.t;for(t.t=o+n.t;0<=--o;)t[o]=0;for(o=0;o<n.t;++o)t[o+r.t]=r.am(0,n[o],t,o,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&h.ZERO.subTo(t,t)},h.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var o=this.abs();if(o.t<n.t)return null!=t&&t.fromHexString("0"),void(null!=r&&this.copyTo(r));null==r&&(r=v());var i=v(),a=this.s,s=e.s,e=this.DB-b(n[n.t-1]);0<e?(n.lShiftTo(e,i),o.lShiftTo(e,r)):(n.copyTo(i),o.copyTo(r));var c=i.t,u=i[c-1];if(0!=u){var o=u*(1<<this.F1)+(1<c?i[c-2]>>this.F2:0),d=this.FV/o,l=(1<<this.F1)/o,f=1<<this.F2,p=r.t,g=p-c,m=null==t?v():t;for(i.dlShiftTo(g,m),0<=r.compareTo(m)&&(r[r.t++]=1,r.subTo(m,r)),h.ONE.dlShiftTo(c,m),m.subTo(i,i);i.t<c;)i[i.t++]=0;for(;0<=--g;){var y=r[--p]==u?this.DM:Math.floor(r[p]*d+(r[p-1]+f)*l);if((r[p]+=i.am(0,y,r,g,0,c))<y)for(i.dlShiftTo(g,m),r.subTo(m,r);r[p]<--y;)r.subTo(m,r)}null!=t&&(r.drShiftTo(c,t),a!=s&&h.ZERO.subTo(t,t)),r.t=c,r.clamp(),0<e&&r.rShiftTo(e,r),a<0&&h.ZERO.subTo(r,r)}}},h.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,o=this.DB-n,i=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&i)<<o,t[a-r]=this[a]>>n;0<n&&(t[this.t-r-1]|=(this.s&i)<<o),t.t=this.t-r,t.clamp()}},h.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},h.prototype.subTo=function(e,t){for(var r=0,n=0,o=Math.min(e.t,this.t);r<o;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:0<n&&(t[r++]=n),t.t=r,t.clamp()},h.prototype.clamp=function(){for(var e=this.s&this.DM;0<this.t&&this[this.t-1]==e;)--this.t},h.prototype.modPowInt=function(e,t){t=new(e<256||t.isEven()?c:u)(t);return this.exp(e,t)},h.prototype.exp=function(e,t){if(4294967295<e||e<1)return h.ONE;var r,n=v(),o=v(),i=t.convert(this),a=b(e)-1;for(i.copyTo(n);0<=--a;)t.sqrTo(n,o),0<(e&1<<a)?t.mulTo(o,i,n):(r=n,n=o,o=r);return t.revert(n)},h.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},h.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;0<=--r;)if(0!=(t=this[r]-e[r]))return t;return 0},h.prototype.am1=function(e,t,r,n,o,i){for(;0<=--i;){var a=t*this[e++]+r[n]+o;o=Math.floor(a/67108864),r[n++]=67108863&a}return o},h.prototype.am2=function(e,t,r,n,o,i){for(var a=32767&t,s=t>>15;0<=--i;){var c=32767&this[e],u=this[e++]>>15,d=s*c+u*a;o=((c=a*c+((32767&d)<<15)+r[n]+(1073741823&o))>>>30)+(d>>>15)+s*u+(o>>>30),r[n++]=1073741823&c}return o},h.prototype.am3=function(e,t,r,n,o,i){for(var a=16383&t,s=t>>14;0<=--i;){var c=16383&this[e],u=this[e++]>>14,d=s*c+u*a;o=((c=a*c+((16383&d)<<14)+r[n]+o)>>28)+(d>>14)+s*u,r[n++]=268435455&c}return o},h);function h(e){null!==e&&this.fromHexString(e)}function v(){return new r(null)}function b(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}t.BigInteger=r,t.nbi=v,t.nbits=b;for(var n=[],o="0".charCodeAt(0),i=0;i<=9;++i)n[o++]=i;for(o="a".charCodeAt(0),i=10;i<36;++i)n[o++]=i;for(o="A".charCodeAt(0),i=10;i<36;++i)n[o++]=i;function a(e,t){t=n[e.charCodeAt(t)];return null==t?-1:t}function s(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}t.intAt=a,t.int2char=s,t.b64toHex=function(e){for(var t="",r=0,n=0,o=0;o<e.length&&"="!=e.charAt(o);++o){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(o));i<0||(r=0==r?(t+=s(i>>2),n=3&i,1):1==r?(t+=s(n<<2|i>>4),n=15&i,2):2==r?(t+=s(n),t+=s(i>>2),n=3&i,3):(t+=s(n<<2|i>>4),t+=s(15&i),0))}return 1==r&&(t+=s(n<<2)),t},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var c=(l.prototype.convert=function(e){return e.s<0||0<=e.compareTo(this.m)?e.mod(this.m):e},l.prototype.revert=function(e){return e},l.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},l.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},l.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},l),u=(d.prototype.convert=function(e){var t=v();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&0<t.compareTo(r.ZERO)&&this.m.subTo(t,t),t},d.prototype.revert=function(e){var t=v();return e.copyTo(t),this.reduce(t),t},d.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},d.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},d.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},d);function d(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function l(e){this.m=e}function f(e){var t=v();return t.fromHexString(e.toString()),t}t.nbv=f,r.ZERO=f(0),r.ONE=f(1),t="Microsoft Internet Explorer"==navigator.appName?(r.prototype.am=r.prototype.am2,30):"Netscape"!=navigator.appName?(r.prototype.am=r.prototype.am1,26):(r.prototype.am=r.prototype.am3,28),r.prototype.DB=t,r.prototype.DM=(1<<t)-1,r.prototype.DV=1<<t,r.prototype.FV=Math.pow(2,52),r.prototype.F1=52-t,r.prototype.F2=2*t-52},4950:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(_.hash=function(e){e=_.utf8Encode(e||"");for(var t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],n=(e+=String.fromCharCode(128)).length/4+2,o=Math.ceil(n/16),i=new Array(o),a=0;a<o;a++){i[a]=new Array(16);for(var s=0;s<16;s++)i[a][s]=e.charCodeAt(64*a+4*s)<<24|e.charCodeAt(64*a+4*s+1)<<16|e.charCodeAt(64*a+4*s+2)<<8|e.charCodeAt(64*a+4*s+3)<<0}var c=8*(e.length-1)/Math.pow(2,32),n=8*(e.length-1)>>>0;for(i[o-1][14]=Math.floor(c),i[o-1][15]=n,a=0;a<o;a++){for(var u=new Array(64),d=0;d<16;d++)u[d]=i[a][d];for(d=16;d<64;d++)u[d]=_.q1(u[d-2])+u[d-7]+_.q0(u[d-15])+u[d-16]>>>0;for(var l=r[0],f=r[1],p=r[2],g=r[3],m=r[4],y=r[5],h=r[6],v=r[7],d=0;d<64;d++)var b=v+_.z1(m)+_.Ch(m,y,h)+t[d]+u[d],w=_.z0(l)+_.Maj(l,f,p),v=h,h=y,y=m,m=g+b>>>0,g=p,p=f,f=l,l=b+w>>>0;r[0]=r[0]+l>>>0,r[1]=r[1]+f>>>0,r[2]=r[2]+p>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+m>>>0,r[5]=r[5]+y>>>0,r[6]=r[6]+h>>>0,r[7]=r[7]+v>>>0}var S=new Array(r.length);for(v=0;v<r.length;v++)S[v]=("00000000"+r[v].toString(16)).slice(-8);return S.join("")},_.utf8Encode=function(t){try{return(new TextEncoder).encode(t).reduce(function(e,t){return e+String.fromCharCode(t)},"")}catch(e){return unescape(encodeURIComponent(t))}},_.ROTR=function(e,t){return t>>>e|t<<32-e},_.z0=function(e){return _.ROTR(2,e)^_.ROTR(13,e)^_.ROTR(22,e)},_.z1=function(e){return _.ROTR(6,e)^_.ROTR(11,e)^_.ROTR(25,e)},_.q0=function(e){return _.ROTR(7,e)^_.ROTR(18,e)^e>>>3},_.q1=function(e){return _.ROTR(17,e)^_.ROTR(19,e)^e>>>10},_.Ch=function(e,t,r){return e&t^~e&r},_.Maj=function(e,t,r){return e&t^e&r^t&r},_);function _(){}t.Sha256=r},1582:function(e,t,r){"use strict";var o=r(4611),i=r(4950);t.T=function(e,t,r,n){t=new o.BigInteger(o.b64toHex(t)),r=new o.BigInteger(o.b64toHex(r)),r=t.modPowInt(n,r);return o.removeExtraSymbols(r.toHexString())===i.Sha256.hash(e)}},2701:function(e,t,r){"use strict";var n=r(4155),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,r){this.name=e,this.version=t,this.os=r};t.BrowserInfo=i;var a=function(e){this.version=e,this.name="node",this.os=n.platform};t.NodeInfo=a;var s=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};t.BotInfo=s;var c=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],u=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function d(n){var e=""!==n&&c.reduce(function(e,t){var r=t[0],t=t[1];if(e)return e;t=t.exec(n);return!!t&&[r,t]},!1);if(!e)return null;var t=e[0],e=e[1];if("searchbot"===t)return new s;e=e[1]&&e[1].split(/[._]/).slice(0,3);return e?e.length<3&&(e=o(e,function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-e.length))):e=[],new i(t,e.join("."),l(n))}function l(e){for(var t=0,r=u.length;t<r;t++){var n=u[t],o=n[0];if(n[1].test(e))return o}return null}function f(){return void 0!==n&&n.version?new a(n.version.slice(1)):null}t.detect=function(e){return e?d(e):"undefined"!=typeof navigator?d(navigator.userAgent):f()},t.parseUserAgent=d,t.detectOS=l,t.getNodeVersion=f},1230:function(e,t){var r,n;!function(){"use strict";r=[],void 0===(n="function"==typeof(n=function(){return function(){var e,t=navigator,t=t.connection||t.mozConnection||t.webkitConnection||{downlinkMax:1/0};if(!("downlinkMax"in t))if("bandwidth"in t)t.downlinkMax=8*t.bandwidth;else{switch(t.type){case"none":e=0;break;case"2g":e=.134;break;case"bluetooth":case"cellular":e=2;break;case"3g":e=8.95;break;case"4g":e=100;break;case"ethernet":e=550;break;case"wifi":e=600;break;default:e=1/0}t.downlinkMax=e}return t.downlinkMax}})?n.apply(t,r):n)||(e.exports=n)}()},7187:function(e){"use strict";var t="object"==typeof Reflect?Reflect:null,c=t&&"function"==typeof t.apply?t.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},r=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},n=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(o,i){return new Promise(function(e,t){function r(){void 0!==n&&o.removeListener("error",n),e([].slice.call(arguments))}var n;"error"!==i&&(n=function(e){o.removeListener(i,r),t(e)},o.once("error",n)),o.once(i,r)})},(o.EventEmitter=o).prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var i=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var o,i;return s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener||r),o=e._events),i=o[t]),void 0===i?(i=o[t]=r,++e._eventsCount):("function"==typeof i?i=o[t]=n?[r,i]:[i,r]:n?i.unshift(r):i.push(r),0<(r=a(e))&&i.length>r&&!i.warned&&(i.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=e,r.type=t,r.count=i.length,console&&console.warn&&console.warn(r))),e}function d(e,t,r){e={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e);return t.listener=r,e.wrapFn=t}function l(e,t,r){e=e._events;if(void 0===e)return[];t=e[t];return void 0===t?[]:"function"==typeof t?r?[t.listener||t]:[t]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):p(t,t.length)}function f(e){var t=this._events;if(void 0!==t){e=t[e];if("function"==typeof e)return 1;if(void 0!==e)return e.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");i=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return a(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n,o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){if((n=0<t.length?t[0]:n)instanceof Error)throw n;o=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw o.context=n,o}e=i[e];if(void 0===e)return!1;if("function"==typeof e)c(e,this,t);else for(var a=e.length,s=p(e,a),r=0;r<a;++r)c(s[r],this,t);return!0},o.prototype.on=o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,o,i,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;0<=i;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){for(var n,o=Object.keys(r),i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;0<=i;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return l(this,e,!0)},o.prototype.rawListeners=function(e){return l(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return 0<this._eventsCount?r(this._events):[]}},1432:function(e){h.SYNC=1,h.ASYNC=2,h.QUEUE=4;var r=Object.freeze({useProxy:!0,ready:0}),g=new WeakMap,n="2,1,0"===[1].reduce(function(e,t,r){return[e,t,r]},2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),o=n.length>>>0,i=0;if(t)r=t;else{for(;i<o&&!(i in n);)i++;r=n[i++]}for(;i<o;)i in n&&(r=e(r,n[i],i,n)),i++;return r};function m(e,t){return Array.prototype.slice.call(e,t)}var y=Object.assign||function(e){return n.call(m(arguments,1),function(t,r){return r&&Object.keys(r).forEach(function(e){t[e]=r[e]}),t},e)};function h(c){var u,e={},l=[];function t(e,t){return"function"==typeof e?a.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?a.apply(null,arguments):"object"==typeof e?function(n,e,o){var t=!0;void 0===e&&(e=Object.getOwnPropertyNames(n),t=!1);var i={},r=["constructor"];for(;(e=e.filter(function(e){return!("function"!=typeof n[e]||-1!==r.indexOf(e)||e.match(/^_/))})).forEach(function(e){var t=e.split(":"),r=t[0],e=t[1]||"sync";i[r]||(t=n[r],i[r]=n[r]=a(e,t,o?[o,r]:void 0))}),n=Object.getPrototypeOf(n),t&&n;);return i}.apply(null,arguments):void 0}function f(i){var a=Array.isArray(i)?i:i.split(".");return n.call(a,function(t,r,e){var n=t[r],o=!1;return n||(e===a.length-1?(u||l.push(function(){o||console.warn("fun-hooks: referenced '"+i+"' but it was never created")}),t[r]=p(function(e){t[r]=e,o=!0})):t[r]={})},e)}function p(n){var i=[],a=[],s=function(){},e={before:function(e,t){return r.call(this,i,"before",e,t)},after:function(e,t){return r.call(this,a,"after",e,t)},getHooks:function(r){var e=i.concat(a);"object"==typeof r&&(e=e.filter(function(t){return Object.keys(r).every(function(e){return t[e]===r[e]})}));try{y(e,{remove:function(){return e.forEach(function(e){e.remove()}),this}})}catch(r){console.error("error adding `remove` to array, did you modify Array.prototype?")}return e},removeAll:function(){return this.getHooks().remove()}},t={install:function(e,t,r){this.type=e,(s=r)(i,a),n&&n(t)}};return g.set(e.after,t),e;function r(t,e,r,n){var o={hook:r,type:e,priority:n||10,remove:function(){var e=t.indexOf(o);-1!==e&&(t.splice(e,1),s(i,a))}};return t.push(o),t.sort(function(e,t){return t.priority-e.priority}),s(i,a),this}}function a(d,e,t){var r=e.after&&g.get(e.after);if(r){if(r.type!==d)throw"fun-hooks: recreated hookable with different type";return e}var n,o,i=t?f(t):p(),a={get:function(e,t){return i[t]||Reflect.get.apply(Reflect,arguments)}};return u||l.push(s),c.useProxy&&"function"==typeof Proxy&&Proxy.revocable?o=new Proxy(e,a):y(o=function(){return a.apply?a.apply(e,this,m(arguments)):e.apply(this,arguments)},i),g.get(o.after).install(d,o,function(e,t){var c,u=[];function r(e){u.push(e.hook)}n=e.length||t.length?(e.forEach(r),c=u.push(void 0)-1,t.forEach(r),function(t,r,e){var n,o=0,i="async"===d&&"function"==typeof e[e.length-1]&&e.pop();function a(e){"sync"===d?n=e:i&&i.apply(null,arguments)}function s(e){if(u[o]){var t=m(arguments);return s.bail=a,t.unshift(s),u[o++].apply(r,t)}"sync"===d?n=e:i&&i.apply(null,arguments)}return u[c]=function(){var e=m(arguments,1);"async"===d&&i&&(delete s.bail,e.push(s));e=t.apply(r,e);"sync"===d&&s(e)},s.apply(null,e),n}):void 0,s()}),o;function s(){!u&&("sync"!==d||c.ready&h.SYNC)&&("async"!==d||c.ready&h.ASYNC)?"sync"!==d&&c.ready&h.QUEUE?a.apply=function(){var e=arguments;l.push(function(){o.apply(e[1],e[2])})}:a.apply=function(){throw"fun-hooks: hooked function not ready"}:a.apply=n}}return(c=y({},r,c)).ready?t.ready=function(){u=!0,function(e){for(var t;t=e.shift();)t()}(l)}:u=!0,t.get=f,t}e.exports=h},645:function(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,c=(1<<s)-1,u=c>>1,d=-7,l=r?o-1:0,f=r?-1:1,r=e[t+l];for(l+=f,i=r&(1<<-d)-1,r>>=-d,d+=s;0<d;i=256*i+e[t+l],l+=f,d-=8);for(a=i&(1<<-d)-1,i>>=-d,d+=n;0<d;a=256*a+e[t+l],l+=f,d-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(r?-1:1);a+=Math.pow(2,n),i-=u}return(r?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,c=8*i-o-1,u=(1<<c)-1,d=u>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,p=n?1:-1,i=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-a))<1&&(a--,n*=2),2<=(t+=1<=a+d?l/n:l*Math.pow(2,1-d))*n&&(a++,n/=2),u<=a+d?(s=0,a=u):1<=a+d?(s=(t*n-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));8<=o;e[r+f]=255&s,f+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;0<c;e[r+f]=255&a,f+=p,a/=256,c-=8);e[r+f-p]|=128*i}},5717:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){var r;t&&(e.super_=t,(r=function(){}).prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e)}},2604:function(e,t){"use strict";var n=["weeks","years","months","days","hours","minutes","seconds"],r=Object.freeze({years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0}),o=new RegExp("P(?:(\\d+(?:[\\.,]\\d+)?W)|(\\d+(?:[\\.,]\\d+)?Y)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?D)?(?:T(\\d+(?:[\\.,]\\d+)?H)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?S)?)?)");t.Qc=function(e){return e.match(o).slice(1).reduce(function(e,t,r){return e[n[r]]=parseFloat(t)||0,e},{})},t.my=function(e,t){e=Object.assign({},r,e);t=t?t.getTime():Date.now(),t=new Date(t);return(function(e,t){e=Object.assign({},r,e);t=t?t.getTime():Date.now(),t=new Date(t);return t.setFullYear(t.getFullYear()+e.years),t.setMonth(t.getMonth()+e.months),t.setDate(t.getDate()+e.days),t.setHours(t.getHours()+e.hours),t.setMinutes(t.getMinutes()+e.minutes),t.setMilliseconds(t.getMilliseconds()+1e3*e.seconds),t.setDate(t.getDate()+7*e.weeks),t}(e,t).getTime()-t.getTime())/1e3}},7079:function(e){e.exports=function e(t){var r,n=Array.isArray(t)?[]:{};for(r in t){var o=t[r];n[r]=o&&"object"==typeof o?e(o):o}return n}},9208:function(e,t,r){var n="__lodash_hash_undefined__",i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,s=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,o=/^\[object .+?Constructor\]$/,d="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,l="object"==typeof self&&self&&self.Object===Object&&self,f=d||l||Function("return this")(),p=Array.prototype,r=Function.prototype,d=Object.prototype,l=f["__core-js_shared__"],g=(l=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",m=r.toString,y=d.hasOwnProperty,h=d.toString,v=RegExp("^"+m.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),d=f.Symbol,b=p.splice,w=x(f,"Map"),S=x(Object,"create"),d=d?d.prototype:void 0,_=d?d.toString:void 0;function O(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function I(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function E(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function A(e,t){for(var r,n=e.length;n--;)if((r=e[n][0])===t||r!=r&&t!=t)return n;return-1}function k(e,t){var r=e.__data__;return("string"==(e=typeof t)||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t)?r["string"==typeof t?"string":"hash"]:r.map}function x(e,t){var r=null==e?void 0:e[t];return!C(e=r)||g&&g in e||!("[object Function]"==(t=C(e)?h.call(e):"")||"[object GeneratorFunction]"==t||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?v:o).test(function(e){if(null!=e){try{return m.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))?void 0:r}O.prototype.clear=function(){this.__data__=S?S(null):{}},O.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},O.prototype.get=function(e){var t=this.__data__;if(S){var r=t[e];return r===n?void 0:r}return y.call(t,e)?t[e]:void 0},O.prototype.has=function(e){var t=this.__data__;return S?void 0!==t[e]:y.call(t,e)},O.prototype.set=function(e,t){return this.__data__[e]=S&&void 0===t?n:t,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(e){var t=this.__data__,e=A(t,e);return!(e<0||(e==t.length-1?t.pop():b.call(t,e,1),0))},I.prototype.get=function(e){var t=this.__data__,e=A(t,e);return e<0?void 0:t[e][1]},I.prototype.has=function(e){return-1<A(this.__data__,e)},I.prototype.set=function(e,t){var r=this.__data__,n=A(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},E.prototype.clear=function(){this.__data__={hash:new O,map:new(w||I),string:new O}},E.prototype.delete=function(e){return k(this,e).delete(e)},E.prototype.get=function(e){return k(this,e).get(e)},E.prototype.has=function(e){return k(this,e).has(e)},E.prototype.set=function(e,t){return k(this,e).set(e,t),this};var P=j(function(e){e=null==e?"":function(e){if("string"==typeof e)return e;if(R(e))return _?_.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e);var o=[];return s.test(e)&&o.push(""),e.replace(c,function(e,t,r,n){o.push(r?n.replace(u,"$1"):t||e)}),o});function j(n,o){if("function"!=typeof n||o&&"function"!=typeof o)throw new TypeError("Expected a function");function i(){var e=arguments,t=o?o.apply(this,e):e[0],r=i.cache;return r.has(t)?r.get(t):(e=n.apply(this,e),i.cache=r.set(t,e),e)}return i.cache=new(j.Cache||E),i}j.Cache=E;var T=Array.isArray;function C(e){var t=typeof e;return e&&("object"==t||"function"==t)}function R(e){return"symbol"==typeof e||e&&"object"==typeof e&&"[object Symbol]"==h.call(e)}e.exports=function(e,t,r){t=null==e?void 0:function(e,t){for(var r,n=0,o=(t=function(e,t){if(!T(e)){var r=typeof e;return"number"==r||"symbol"==r||"boolean"==r||null==e||R(e)||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}}(t,e)?[t]:T(r=t)?r:P(r)).length;null!=e&&n<o;)e=e[function(e){if("string"==typeof e||R(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t[n++])];return n&&n==o?e:void 0}(e,t);return void 0===t?r:t}},394:function(e,t,r){var n="__lodash_hash_undefined__",o=/^\[object .+?Constructor\]$/,i="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,a="object"==typeof self&&self&&self.Object===Object&&self,s=i||a||Function("return this")();function g(e,t){return!(!e||!e.length)&&-1<function(e,t){if(t!=t)return function(e,t){for(var r=e.length,n=-1;++n<r;)if(t(e[n],n,e))return n;return-1}(e,c);for(var r=-1,n=e.length;++r<n;)if(e[r]===t)return r;return-1}(e,t)}function c(e){return e!=e}function m(e,t){return e.has(t)}var u=Array.prototype,r=Function.prototype,i=Object.prototype,a=s["__core-js_shared__"],d=(a=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",l=r.toString,f=i.hasOwnProperty,p=i.toString,y=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h=u.splice,v=Math.max,b=Math.min,w=P(s,"Map"),S=P(Object,"create");function _(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function O(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function I(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function E(e){var t=-1,r=e?e.length:0;for(this.__data__=new I;++t<r;)this.add(e[t])}function A(e,t){for(var r,n=e.length;n--;)if((r=e[n][0])===t||r!=r&&t!=t)return n;return-1}function k(e){return(t=e)&&"object"==typeof t&&null!=t&&("number"==typeof(r=t.length)&&-1<r&&r%1==0&&r<=9007199254740991)&&!C(t)?e:[];var t,r}function x(e,t){var r=e.__data__;return("string"==(e=typeof t)||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t)?r["string"==typeof t?"string":"hash"]:r.map}function P(e,t){e=null==e?void 0:e[t];return!R(t=e)||d&&d in t||!(C(t)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(t)?y:o).test(function(e){if(null!=e){try{return l.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(t))?void 0:e}_.prototype.clear=function(){this.__data__=S?S(null):{}},_.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},_.prototype.get=function(e){var t=this.__data__;if(S){var r=t[e];return r===n?void 0:r}return f.call(t,e)?t[e]:void 0},_.prototype.has=function(e){var t=this.__data__;return S?void 0!==t[e]:f.call(t,e)},_.prototype.set=function(e,t){return this.__data__[e]=S&&void 0===t?n:t,this},O.prototype.clear=function(){this.__data__=[]},O.prototype.delete=function(e){var t=this.__data__,e=A(t,e);return!(e<0||(e==t.length-1?t.pop():h.call(t,e,1),0))},O.prototype.get=function(e){var t=this.__data__,e=A(t,e);return e<0?void 0:t[e][1]},O.prototype.has=function(e){return-1<A(this.__data__,e)},O.prototype.set=function(e,t){var r=this.__data__,n=A(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},I.prototype.clear=function(){this.__data__={hash:new _,map:new(w||O),string:new _}},I.prototype.delete=function(e){return x(this,e).delete(e)},I.prototype.get=function(e){return x(this,e).get(e)},I.prototype.has=function(e){return x(this,e).has(e)},I.prototype.set=function(e,t){return x(this,e).set(e,t),this},E.prototype.add=E.prototype.push=function(e){return this.__data__.set(e,n),this},E.prototype.has=function(e){return this.__data__.has(e)};var j,T,s=(j=function(e){var t=function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(e,k);return t.length&&t[0]===e[0]?function(e){for(var t=g,r=e[0].length,n=e.length,o=n,i=Array(n),a=1/0,s=[];o--;){var c=e[o],a=b(c.length,a);i[o]=120<=r&&120<=c.length?new E(o&&c):void 0}var c=e[0],u=-1,d=i[0];e:for(;++u<r&&s.length<a;){var l=f=c[u],f=0!==f?f:0;if(!(d?m(d,l):t(s,l,void 0))){for(o=n;--o;){var p=i[o];if(!(p?m(p,l):t(e[o],l,void 0)))continue e}d&&d.push(l),s.push(f)}}return s}(t):[]},T=v(void 0===T?j.length-1:T,0),function(){for(var e=arguments,t=-1,r=v(e.length-T,0),n=Array(r);++t<r;)n[t]=e[T+t];for(var t=-1,o=Array(T+1);++t<T;)o[t]=e[t];return o[T]=n,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(j,this,o)});function C(e){e=R(e)?p.call(e):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function R(e){var t=typeof e;return e&&("object"==t||"function"==t)}e.exports=s},773:function(e,t,r){var n="__lodash_hash_undefined__",o=/^\[object .+?Constructor\]$/,i="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,a="object"==typeof self&&self&&self.Object===Object&&self,s=i||a||Function("return this")(),c=Array.prototype,r=Function.prototype,i=Object.prototype,a=s["__core-js_shared__"],u=(a=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",d=r.toString,l=i.hasOwnProperty,f=i.toString,p=RegExp("^"+d.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=c.splice,m=_(s,"Map"),y=_(Object,"create");function h(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function v(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function b(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function w(e,t){for(var r,n=e.length;n--;)if((r=e[n][0])===t||r!=r&&t!=t)return n;return-1}function S(e,t){var r=e.__data__;return("string"==(e=typeof t)||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t)?r["string"==typeof t?"string":"hash"]:r.map}function _(e,t){var r=null==e?void 0:e[t];return!I(e=r)||u&&u in e||!("[object Function]"==(t=I(e)?f.call(e):"")||"[object GeneratorFunction]"==t||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?p:o).test(function(e){if(null!=e){try{return d.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))?void 0:r}function O(n,o){if("function"!=typeof n||o&&"function"!=typeof o)throw new TypeError("Expected a function");function i(){var e=arguments,t=o?o.apply(this,e):e[0],r=i.cache;return r.has(t)?r.get(t):(e=n.apply(this,e),i.cache=r.set(t,e),e)}return i.cache=new(O.Cache||b),i}function I(e){var t=typeof e;return e&&("object"==t||"function"==t)}h.prototype.clear=function(){this.__data__=y?y(null):{}},h.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},h.prototype.get=function(e){var t=this.__data__;if(y){var r=t[e];return r===n?void 0:r}return l.call(t,e)?t[e]:void 0},h.prototype.has=function(e){var t=this.__data__;return y?void 0!==t[e]:l.call(t,e)},h.prototype.set=function(e,t){return this.__data__[e]=y&&void 0===t?n:t,this},v.prototype.clear=function(){this.__data__=[]},v.prototype.delete=function(e){var t=this.__data__,e=w(t,e);return!(e<0||(e==t.length-1?t.pop():g.call(t,e,1),0))},v.prototype.get=function(e){var t=this.__data__,e=w(t,e);return e<0?void 0:t[e][1]},v.prototype.has=function(e){return-1<w(this.__data__,e)},v.prototype.set=function(e,t){var r=this.__data__,n=w(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},b.prototype.clear=function(){this.__data__={hash:new h,map:new(m||v),string:new h}},b.prototype.delete=function(e){return S(this,e).delete(e)},b.prototype.get=function(e){return S(this,e).get(e)},b.prototype.has=function(e){return S(this,e).has(e)},b.prototype.set=function(e,t){return S(this,e).set(e,t),this},O.Cache=b,e.exports=O},2378:function(e,t,r){e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Function]",w="[object Object]",s=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[i]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u[a]=u["[object Map]"]=u["[object Number]"]=u[w]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var d="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,l="object"==typeof self&&self&&self.Object===Object&&self,f=d||l||Function("return this")(),p=t&&!t.nodeType&&t,g=p&&e&&!e.nodeType&&e,r=g&&g.exports===p,m=r&&d.process,l=function(){try{return g&&g.require&&g.require("util").types||m&&m.binding&&m.binding("util")}catch(e){}}(),t=l&&l.isTypedArray;var y,h,p=Array.prototype,d=Function.prototype,v=Object.prototype,l=f["__core-js_shared__"],S=d.toString,_=v.hasOwnProperty,b=(l=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",O=v.toString,I=S.call(Object),E=RegExp("^"+S.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),l=r?f.Buffer:void 0,r=f.Symbol,A=f.Uint8Array,k=(l&&l.allocUnsafe,y=Object.getPrototypeOf,h=Object,function(e){return y(h(e))}),x=Object.create,P=v.propertyIsEnumerable,j=p.splice,T=r?r.toStringTag:void 0,C=function(){try{var e=X(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),l=l?l.isBuffer:void 0,R=Math.max,D=Date.now,U=X(f,"Map"),M=X(Object,"create"),B=function(e){if(!le(e))return{};if(x)return x(e);N.prototype=e;e=new N;return N.prototype=void 0,e};function N(){}function L(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function q(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function V(e){e=this.__data__=new q(e);this.size=e.size}function F(e,t,r){(void 0===r||oe(e[t],r))&&(void 0!==r||t in e)||H(e,t,r)}function W(e,t,r){var n=e[t];_.call(e,t)&&oe(n,r)&&(void 0!==r||t in e)||H(e,t,r)}function G(e,t){for(var r=e.length;r--;)if(oe(e[r][0],t))return r;return-1}function H(e,t,r){"__proto__"==t&&C?C(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function K(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":T&&T in Object(e)?function(e){var t=_.call(e,T),r=e[T];try{var n=!(e[T]=void 0)}catch(e){}var o=O.call(e);return n&&(t?e[T]=r:delete e[T]),o}(e):O.call(e)}function $(e){return fe(e)&&K(e)==i}function Y(s,c,u,d,l){s!==c&&function(e,t){for(var r=-1,n=Object(e),o=t(e),i=o.length;i--;){var a=o[++r];!1===function(e,t){if(l||(l=new V),le(e))!function(e,t,r,n,o,i,a){var s=ee(e,r),c=ee(t,r),u=a.get(c);if(u)F(e,r,u);else{var d,l,f,p,g,m=i?i(s,c,r+"",e,t,a):void 0,y=void 0===m;if(y){var h=ae(c),v=!h&&ce(c),b=!h&&!v&&ge(c);m=c,h||v||b?ae(s)?m=s:fe(g=s)&&se(g)?m=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(s):v?(y=!1,m=function(e,t){return e.slice()}(c)):b?(y=!1,p=new(f=(d=c).buffer).constructor(f.byteLength),new A(p).set(new A(f)),l=p,m=new d.constructor(l,d.byteOffset,d.length)):m=[]:function(e){if(!fe(e)||K(e)!=w)return!1;var t=k(e);if(null===t)return!0;var r=_.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&S.call(r)==I}(c)||ie(c)?(m=s,ie(s)?m=function(e){return function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=void 0;void 0===c&&(c=e[s]),o?H(r,s,c):W(r,s,c)}return r}(e,me(e))}(s):le(s)&&!ue(s)||(m=function(e){return"function"!=typeof e.constructor||Q(e)?{}:B(k(e))}(c))):y=!1}y&&(a.set(c,m),o(m,c,n,i,a),a.delete(c)),F(e,r,m)}}(s,c,t,u,Y,d,l);else{var r=d?d(ee(s,t),e,t+"",s,c,l):void 0;void 0===r&&(r=e),F(s,t,r)}}(n[a],a)}}(c,me)}function J(e,t){var r=e.__data__;return("string"==(e=typeof t)||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t)?r["string"==typeof t?"string":"hash"]:r.map}function X(e,t){e=null==e?void 0:e[t];return!le(t=e)||b&&b in t||!(ue(t)?E:s).test(function(e){if(null!=e){try{return S.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(t))?void 0:e}function Z(e,t){var r=typeof e;return(t=null==t?o:t)&&("number"==r||"symbol"!=r&&c.test(e))&&-1<e&&e%1==0&&e<t}function Q(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||v)}function ee(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}L.prototype.clear=function(){this.__data__=M?M(null):{},this.size=0},L.prototype.delete=function(e){e=this.has(e)&&delete this.__data__[e];return this.size-=e?1:0,e},L.prototype.get=function(e){var t=this.__data__;if(M){var r=t[e];return r===n?void 0:r}return _.call(t,e)?t[e]:void 0},L.prototype.has=function(e){var t=this.__data__;return M?void 0!==t[e]:_.call(t,e)},L.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=M&&void 0===t?n:t,this},q.prototype.clear=function(){this.__data__=[],this.size=0},q.prototype.delete=function(e){var t=this.__data__,e=G(t,e);return!(e<0||(e==t.length-1?t.pop():j.call(t,e,1),--this.size,0))},q.prototype.get=function(e){var t=this.__data__,e=G(t,e);return e<0?void 0:t[e][1]},q.prototype.has=function(e){return-1<G(this.__data__,e)},q.prototype.set=function(e,t){var r=this.__data__,n=G(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},z.prototype.clear=function(){this.size=0,this.__data__={hash:new L,map:new(U||q),string:new L}},z.prototype.delete=function(e){e=J(this,e).delete(e);return this.size-=e?1:0,e},z.prototype.get=function(e){return J(this,e).get(e)},z.prototype.has=function(e){return J(this,e).has(e)},z.prototype.set=function(e,t){var r=J(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},V.prototype.clear=function(){this.__data__=new q,this.size=0},V.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},V.prototype.get=function(e){return this.__data__.get(e)},V.prototype.has=function(e){return this.__data__.has(e)},V.prototype.set=function(e,t){var r=this.__data__;if(r instanceof q){var n=r.__data__;if(!U||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new z(n)}return r.set(e,t),this.size=r.size,this};var te,re,ne,f=(te=C?function(e,t){return C(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:we,ne=re=0,function(){var e=D(),t=16-(e-ne);if(ne=e,0<t){if(800<=++re)return arguments[0]}else re=0;return te.apply(void 0,arguments)});function oe(e,t){return e===t||e!=e&&t!=t}var ie=$(function(){return arguments}())?$:function(e){return fe(e)&&_.call(e,"callee")&&!P.call(e,"callee")},ae=Array.isArray;function se(e){return null!=e&&de(e.length)&&!ue(e)}var ce=l||function(){return!1};function ue(e){if(le(e)){e=K(e);return e==a||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}}function de(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=o}function le(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function fe(e){return null!=e&&"object"==typeof e}var pe,ge=t?(pe=t,function(e){return pe(e)}):function(e){return fe(e)&&de(e.length)&&!!u[K(e)]};function me(e){return(se(e)?function(e){var t,r=ae(e),n=!r&&ie(e),o=!r&&!n&&ce(e),i=!r&&!n&&!o&&ge(e),a=r||n||o||i,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(t in e)a&&("length"==t||o&&("offset"==t||"parent"==t)||i&&("buffer"==t||"byteLength"==t||"byteOffset"==t)||Z(t,c))||s.push(t);return s}:function(r){if(!le(r))return function(){var e=[];if(null!=r)for(var t in Object(r))e.push(t);return e}();var e,t=Q(r),n=[];for(e in r)("constructor"!=e||!t&&_.call(r,e))&&n.push(e);return n})(e)}var ye,he,ve,be,f=(ye=function(e,t,r){Y(e,t,r)},f((he=f=function(e,t){var r=-1,n=t.length,o=1<n?t[n-1]:void 0,i=2<n?t[2]:void 0,o=3<ye.length&&"function"==typeof o?(n--,o):void 0;for(i&&function(e,t,r){if(le(r)){var n=typeof t;return("number"==n?se(r)&&Z(t,r.length):"string"==n&&t in r)&&oe(r[t],e)}}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&ye(e,a,r)}return e},be=we,ve=R((ve=void 0)===ve?he.length-1:ve,0),function(){for(var e=arguments,t=-1,r=R(e.length-ve,0),n=Array(r);++t<r;)n[t]=e[ve+t];for(var t=-1,o=Array(ve+1);++t<ve;)o[t]=e[t];return o[ve]=be(n),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(he,this,o)}),f+""));function we(e){return e}e.exports=f},8554:function(e,t,r){e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Function]",w="[object Object]",s=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[i]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u[a]=u["[object Map]"]=u["[object Number]"]=u[w]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var d="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,l="object"==typeof self&&self&&self.Object===Object&&self,f=d||l||Function("return this")(),p=t&&!t.nodeType&&t,g=p&&e&&!e.nodeType&&e,r=g&&g.exports===p,m=r&&d.process,l=function(){try{return g&&g.require&&g.require("util").types||m&&m.binding&&m.binding("util")}catch(e){}}(),t=l&&l.isTypedArray;var y,h,p=Array.prototype,d=Function.prototype,v=Object.prototype,l=f["__core-js_shared__"],S=d.toString,_=v.hasOwnProperty,b=(l=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",O=v.toString,I=S.call(Object),E=RegExp("^"+S.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),l=r?f.Buffer:void 0,r=f.Symbol,A=f.Uint8Array,k=(l&&l.allocUnsafe,y=Object.getPrototypeOf,h=Object,function(e){return y(h(e))}),x=Object.create,P=v.propertyIsEnumerable,j=p.splice,T=r?r.toStringTag:void 0,C=function(){try{var e=X(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),l=l?l.isBuffer:void 0,R=Math.max,D=Date.now,U=X(f,"Map"),M=X(Object,"create"),B=function(e){if(!le(e))return{};if(x)return x(e);N.prototype=e;e=new N;return N.prototype=void 0,e};function N(){}function L(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function q(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function V(e){e=this.__data__=new q(e);this.size=e.size}function F(e,t,r){(void 0===r||oe(e[t],r))&&(void 0!==r||t in e)||H(e,t,r)}function W(e,t,r){var n=e[t];_.call(e,t)&&oe(n,r)&&(void 0!==r||t in e)||H(e,t,r)}function G(e,t){for(var r=e.length;r--;)if(oe(e[r][0],t))return r;return-1}function H(e,t,r){"__proto__"==t&&C?C(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function K(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":T&&T in Object(e)?function(e){var t=_.call(e,T),r=e[T];try{var n=!(e[T]=void 0)}catch(e){}var o=O.call(e);return n&&(t?e[T]=r:delete e[T]),o}(e):O.call(e)}function $(e){return fe(e)&&K(e)==i}function Y(s,c,u,d,l){s!==c&&function(e,t){for(var r=-1,n=Object(e),o=t(e),i=o.length;i--;){var a=o[++r];!1===function(e,t){if(l||(l=new V),le(e))!function(e,t,r,n,o,i,a){var s=ee(e,r),c=ee(t,r),u=a.get(c);if(u)F(e,r,u);else{var d,l,f,p,g,m=i?i(s,c,r+"",e,t,a):void 0,y=void 0===m;if(y){var h=ae(c),v=!h&&ce(c),b=!h&&!v&&ge(c);m=c,h||v||b?ae(s)?m=s:fe(g=s)&&se(g)?m=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(s):v?(y=!1,m=function(e,t){return e.slice()}(c)):b?(y=!1,p=new(f=(d=c).buffer).constructor(f.byteLength),new A(p).set(new A(f)),l=p,m=new d.constructor(l,d.byteOffset,d.length)):m=[]:function(e){if(!fe(e)||K(e)!=w)return!1;var t=k(e);if(null===t)return!0;var r=_.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&S.call(r)==I}(c)||ie(c)?(m=s,ie(s)?m=function(e){return function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=void 0;void 0===c&&(c=e[s]),o?H(r,s,c):W(r,s,c)}return r}(e,me(e))}(s):le(s)&&!ue(s)||(m=function(e){return"function"!=typeof e.constructor||Q(e)?{}:B(k(e))}(c))):y=!1}y&&(a.set(c,m),o(m,c,n,i,a),a.delete(c)),F(e,r,m)}}(s,c,t,u,Y,d,l);else{var r=d?d(ee(s,t),e,t+"",s,c,l):void 0;void 0===r&&(r=e),F(s,t,r)}}(n[a],a)}}(c,me)}function J(e,t){var r=e.__data__;return("string"==(e=typeof t)||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t)?r["string"==typeof t?"string":"hash"]:r.map}function X(e,t){e=null==e?void 0:e[t];return!le(t=e)||b&&b in t||!(ue(t)?E:s).test(function(e){if(null!=e){try{return S.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(t))?void 0:e}function Z(e,t){var r=typeof e;return(t=null==t?o:t)&&("number"==r||"symbol"!=r&&c.test(e))&&-1<e&&e%1==0&&e<t}function Q(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||v)}function ee(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}L.prototype.clear=function(){this.__data__=M?M(null):{},this.size=0},L.prototype.delete=function(e){e=this.has(e)&&delete this.__data__[e];return this.size-=e?1:0,e},L.prototype.get=function(e){var t=this.__data__;if(M){var r=t[e];return r===n?void 0:r}return _.call(t,e)?t[e]:void 0},L.prototype.has=function(e){var t=this.__data__;return M?void 0!==t[e]:_.call(t,e)},L.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=M&&void 0===t?n:t,this},q.prototype.clear=function(){this.__data__=[],this.size=0},q.prototype.delete=function(e){var t=this.__data__,e=G(t,e);return!(e<0||(e==t.length-1?t.pop():j.call(t,e,1),--this.size,0))},q.prototype.get=function(e){var t=this.__data__,e=G(t,e);return e<0?void 0:t[e][1]},q.prototype.has=function(e){return-1<G(this.__data__,e)},q.prototype.set=function(e,t){var r=this.__data__,n=G(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},z.prototype.clear=function(){this.size=0,this.__data__={hash:new L,map:new(U||q),string:new L}},z.prototype.delete=function(e){e=J(this,e).delete(e);return this.size-=e?1:0,e},z.prototype.get=function(e){return J(this,e).get(e)},z.prototype.has=function(e){return J(this,e).has(e)},z.prototype.set=function(e,t){var r=J(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},V.prototype.clear=function(){this.__data__=new q,this.size=0},V.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},V.prototype.get=function(e){return this.__data__.get(e)},V.prototype.has=function(e){return this.__data__.has(e)},V.prototype.set=function(e,t){var r=this.__data__;if(r instanceof q){var n=r.__data__;if(!U||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new z(n)}return r.set(e,t),this.size=r.size,this};var te,re,ne,f=(te=C?function(e,t){return C(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:we,ne=re=0,function(){var e=D(),t=16-(e-ne);if(ne=e,0<t){if(800<=++re)return arguments[0]}else re=0;return te.apply(void 0,arguments)});function oe(e,t){return e===t||e!=e&&t!=t}var ie=$(function(){return arguments}())?$:function(e){return fe(e)&&_.call(e,"callee")&&!P.call(e,"callee")},ae=Array.isArray;function se(e){return null!=e&&de(e.length)&&!ue(e)}var ce=l||function(){return!1};function ue(e){if(le(e)){e=K(e);return e==a||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}}function de(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=o}function le(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function fe(e){return null!=e&&"object"==typeof e}var pe,ge=t?(pe=t,function(e){return pe(e)}):function(e){return fe(e)&&de(e.length)&&!!u[K(e)]};function me(e){return(se(e)?function(e){var t,r=ae(e),n=!r&&ie(e),o=!r&&!n&&ce(e),i=!r&&!n&&!o&&ge(e),a=r||n||o||i,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(t in e)a&&("length"==t||o&&("offset"==t||"parent"==t)||i&&("buffer"==t||"byteLength"==t||"byteOffset"==t)||Z(t,c))||s.push(t);return s}:function(r){if(!le(r))return function(){var e=[];if(null!=r)for(var t in Object(r))e.push(t);return e}();var e,t=Q(r),n=[];for(e in r)("constructor"!=e||!t&&_.call(r,e))&&n.push(e);return n})(e)}var ye,he,ve,be,f=(ye=function(e,t,r,n){Y(e,t,r,n)},f((he=f=function(e,t){var r=-1,n=t.length,o=1<n?t[n-1]:void 0,i=2<n?t[2]:void 0,o=3<ye.length&&"function"==typeof o?(n--,o):void 0;for(i&&function(e,t,r){if(le(r)){var n=typeof t;return("number"==n?se(r)&&Z(t,r.length):"string"==n&&t in r)&&oe(r[t],e)}}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&ye(e,a,r,o)}return e},be=we,ve=R((ve=void 0)===ve?he.length-1:ve,0),function(){for(var e=arguments,t=-1,r=R(e.length-ve,0),n=Array(r);++t<r;)n[t]=e[ve+t];for(var t=-1,o=Array(ve+1);++t<ve;)o[t]=e[t];return o[ve]=be(n),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(he,this,o)}),f+""));function we(e){return e}e.exports=f},1468:function(e,t,r){var n="__lodash_hash_undefined__",p=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/,i=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,c="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),l=Array.prototype,r=Function.prototype,c=Object.prototype,u=d["__core-js_shared__"],f=(u=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",y=r.toString,h=c.hasOwnProperty,v=c.toString,b=RegExp("^"+y.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),c=d.Symbol,w=l.splice,S=P(d,"Map"),_=P(Object,"create"),c=c?c.prototype:void 0,O=c?c.toString:void 0;function I(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function E(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function A(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function k(e,t){for(var r=e.length;r--;)if(C(e[r][0],t))return r;return-1}function x(e,t){var r=e.__data__;return("string"==(e=typeof t)||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t)?r["string"==typeof t?"string":"hash"]:r.map}function P(e,t){var r=null==e?void 0:e[t];return!D(e=r)||f&&f in e||!("[object Function]"==(t=D(e)?v.call(e):"")||"[object GeneratorFunction]"==t||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?b:o).test(function(e){if(null!=e){try{return y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))?void 0:r}I.prototype.clear=function(){this.__data__=_?_(null):{}},I.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},I.prototype.get=function(e){var t=this.__data__;if(_){var r=t[e];return r===n?void 0:r}return h.call(t,e)?t[e]:void 0},I.prototype.has=function(e){var t=this.__data__;return _?void 0!==t[e]:h.call(t,e)},I.prototype.set=function(e,t){return this.__data__[e]=_&&void 0===t?n:t,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(e){var t=this.__data__,e=k(t,e);return!(e<0||(e==t.length-1?t.pop():w.call(t,e,1),0))},E.prototype.get=function(e){var t=this.__data__,e=k(t,e);return e<0?void 0:t[e][1]},E.prototype.has=function(e){return-1<k(this.__data__,e)},E.prototype.set=function(e,t){var r=this.__data__,n=k(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},A.prototype.clear=function(){this.__data__={hash:new I,map:new(S||E),string:new I}},A.prototype.delete=function(e){return x(this,e).delete(e)},A.prototype.get=function(e){return x(this,e).get(e)},A.prototype.has=function(e){return x(this,e).has(e)},A.prototype.set=function(e,t){return x(this,e).set(e,t),this};var j=T(function(e){e=null==e?"":function(e){if("string"==typeof e)return e;if(U(e))return O?O.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e);var o=[];return i.test(e)&&o.push(""),e.replace(a,function(e,t,r,n){o.push(r?n.replace(s,"$1"):t||e)}),o});function T(n,o){if("function"!=typeof n||o&&"function"!=typeof o)throw new TypeError("Expected a function");function i(){var e=arguments,t=o?o.apply(this,e):e[0],r=i.cache;return r.has(t)?r.get(t):(e=n.apply(this,e),i.cache=r.set(t,e),e)}return i.cache=new(T.Cache||A),i}function C(e,t){return e===t||e!=e&&t!=t}T.Cache=A;var R=Array.isArray;function D(e){var t=typeof e;return e&&("object"==t||"function"==t)}function U(e){return"symbol"==typeof e||e&&"object"==typeof e&&"[object Symbol]"==v.call(e)}e.exports=function(e,t,r){return null==e?e:function(e,t,r){if(!D(e))return e;for(var n,o,i,a=-1,s=(t=function(e,t){if(!R(e)){var r=typeof e;return"number"==r||"symbol"==r||"boolean"==r||null==e||U(e)||g.test(e)||!p.test(e)||null!=t&&e in Object(t)}}(t,e)?[t]:R(i=t)?i:j(i)).length,c=s-1,u=e;null!=u&&++a<s;){var d,l=function(e){if("string"==typeof e||U(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t[a]),f=r;a!=c&&(f=void 0,f=D(d=u[l])?d:(n=t[a+1],(o=null==(o=void 0)?9007199254740991:o)&&("number"==typeof n||m.test(n))&&-1<n&&n%1==0&&n<o?[]:{})),d=f,n=void 0,n=(o=u)[f=l],h.call(o,f)&&C(n,d)&&(void 0!==d||f in o)||(o[f]=d),u=u[l]}return e}(e,t,r)}},4155:function(e){var r,n,e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,c=[],u=!1,d=-1;function l(){u&&s&&(u=!1,s.length?c=s.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=a(l);u=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function t(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=t,e.addListener=t,e.once=t,e.off=t,e.removeListener=t,e.removeAllListeners=t,e.emit=t,e.prependListener=t,e.prependOnceListener=t,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},2635:function(e,t,r){var d=r(7055);e.exports=function(e){var c,u="",e=e||{};return function(e,t,r,n,o,i,a,s){u=u+'<div class="branded-content"><div class="branded-content__title">'+d.escape(null==(c=a)?"":c)+'</div><div class="branded-content__player vjs-video-container vjs-responsive"><video class="video-js vjs-default-skin"'+d.attr("id",o,!0,!0)+d.attr("controls",!0,!0,!0)+' preload="false"'+d.attr("width",s,!0,!0)+d.attr("height",n,!0,!0)+d.attr("data-opts",t,!0,!0)+"><source"+d.attr("src",i,!0,!0)+' type="video/mp4"></video></div><div class="branded-content__description"><a'+d.attr("href",e,!0,!0)+' rel="nofollow" target="_blank">'+d.escape(null==(c=r)?"":c)+"</a></div></div>"}.call(this,"click"in e?e.click:"undefined"!=typeof click?click:void 0,"dataOpts"in e?e.dataOpts:"undefined"!=typeof dataOpts?dataOpts:void 0,"description"in e?e.description:"undefined"!=typeof description?description:void 0,"height"in e?e.height:"undefined"!=typeof height?height:void 0,"id"in e?e.id:"undefined"!=typeof id?id:void 0,"src"in e?e.src:"undefined"!=typeof src?src:void 0,"title"in e?e.title:"undefined"!=typeof title?title:void 0,"width"in e?e.width:"undefined"!=typeof width?width:void 0),u}},567:function(e,t,r){var a=r(7055);e.exports=function(e){var i="",e=e||{};return function(e,t,r,n,o){i=i+'<div class="branded-content"><div class="branded-content__player vjs-video-container vjs-responsive"><video class="video-js vjs-default-skin"'+a.attr("id",r,!0,!0)+a.attr("controls",!0,!0,!0)+' preload="false"'+a.attr("width",o,!0,!0)+a.attr("height",t,!0,!0)+a.attr("data-opts",e,!0,!0)+"><source"+a.attr("src",n,!0,!0)+' type="video/mp4"></video></div></div>'}.call(this,"dataOpts"in e?e.dataOpts:"undefined"!=typeof dataOpts?dataOpts:void 0,"height"in e?e.height:"undefined"!=typeof height?height:void 0,"id"in e?e.id:"undefined"!=typeof id?id:void 0,"src"in e?e.src:"undefined"!=typeof src?src:void 0,"width"in e?e.width:"undefined"!=typeof width?width:void 0),i}},705:function(e,t,r){r(7055),e.exports=function(e){return'<div style="position:fixed; z-index:999999; top:20px; left:20px;"><button id="debugRemoteButton" style="background-color:red; color:white; border:1px solid darkred; padding:10px;">Mark as buggy</button><div id="debugRemoteButtonText" style="display:none;"><textarea style="display:block;"></textarea><button style="background-color:red; color:white; display:block; border:1px solid darkred; padding:10px;">Send</button></div></div>'}},8676:function(e,t,r){r(7055),e.exports=function(e){return'<script>window.dataLayer = window.dataLayer || []\nwindow.dataLayer.push({\n  \'gtm.start\': new Date().getTime(),\n  event: \'gtm.js\'\n})\nconst analytics = window[\'$$mm-analytics\'] = window[\'$$mm-analytics\'] || {}\nif (typeof analytics.firstEmbed === \'undefined\') {\n  analytics.firstEmbed = Date.now()\n}\n<\/script><script src="https://www.googletagmanager.com/gtm.js?id=GTM-PL4PD49"><\/script><iframe height="0" width="0" src="https://www.googletagmanager.com/ns.html?id=GTM-PL4PD49"></iframe><script async src="https://bucket1.mm-syringe.com/prod/configs/c4e65ff4-b385-d838-b9da-8cc3d8d9dfdb.js"><\/script><script async src="https://bucket1.mm-syringe.com/prod/injector/injector.1.5.3.js"><\/script>'}},7055:function(e,t,c){"use strict";var i=Object.prototype.hasOwnProperty;function s(e,t){return Array.isArray(e)?function(e,t){for(var r,n="",o="",i=Array.isArray(t),a=0;a<e.length;a++)(r=s(e[a]))&&(n=n+o+(r=i&&t[a]?l(r):r),o=" ");return n}(e,t):e&&"object"==typeof e?function(e){var t,r="",n="";for(t in e)t&&e[t]&&i.call(e,t)&&(r=r+n+t,n=" ");return r}(e):e||""}function u(e){if(!e)return"";if("object"!=typeof e)return e+"";var t,r="";for(t in e)i.call(e,t)&&(r=r+t+":"+e[t]+";");return r}function a(e,t,r,n){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(n?e:e+'="'+e+'"');n=typeof t;return"string"==typeof(t=("object"==n||"function"==n)&&"function"==typeof t.toJSON?t.toJSON():t)||(t=JSON.stringify(t),r||-1===t.indexOf('"'))?" "+e+'="'+(t=r?l(t):t)+'"':" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}t.merge=function e(t,r){if(1===arguments.length){for(var n=t[0],o=1;o<t.length;o++)n=e(n,t[o]);return n}for(var i in r){var a,s;"class"===i?(a=t[i]||[],t[i]=(Array.isArray(a)?a:[a]).concat(r[i]||[])):"style"===i?(a=(a=u(t[i]))&&";"!==a[a.length-1]?a+";":a,s=(s=u(r[i]))&&";"!==s[s.length-1]?s+";":s,t[i]=a+s):t[i]=r[i]}return t},t.classes=s,t.style=u,t.attr=a,t.attrs=function(e,t){var r,n="";for(r in e)if(i.call(e,r)){var o=e[r];if("class"===r){n=a(r,o=s(o),!1,t)+n;continue}n+=a(r,o="style"===r?u(o):o,!1,t)}return n};var d=/["&<>]/;function l(e){var t=""+e,r=d.exec(t);if(!r)return e;for(var n,o="",i=r.index,a=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}a!==i&&(o+=t.substring(a,i)),a=i+1,o+=n}return a!==i?o+t.substring(a,i):o}t.escape=l,t.rethrow=function t(r,e,n,o){if(!(r instanceof Error))throw r;if(!("undefined"==typeof window&&e||o))throw r.message+=" on line "+n,r;try{o=o||c(2993).readFileSync(e,"utf8")}catch(e){t(r,null,n)}var i=o.split("\n"),a=Math.max(n-3,0),o=Math.min(i.length,n+3),s=i.slice(a,o).map(function(e,t){t=t+a+1;return(t==n?"  > ":"    ")+t+"| "+e}).join("\n");throw r.path=e,r.message=(e||"Pug")+":"+n+"\n"+s+"\n\n"+r.message,r}},9509:function(e,t,r){var n=r(2236),o=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a),i(o,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");e=o(e);return void 0!==t?"string"==typeof r?e.fill(t,r):e.fill(t):e.fill(0),e},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},2830:function(e,t,r){e.exports=n;var d=r(7187).EventEmitter;function n(){d.call(this)}r(5717)(n,d),n.Readable=r(6577),n.Writable=r(323),n.Duplex=r(8656),n.Transform=r(4473),n.PassThrough=r(2366),n.finished=r(1086),n.pipeline=r(6472),(n.Stream=n).prototype.pipe=function(t,e){var r=this;function n(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",s));var i=!1;function a(){i||(i=!0,t.end())}function s(){i||(i=!0,"function"==typeof t.destroy&&t.destroy())}function c(e){if(u(),0===d.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",n),t.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",s),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("error",c),t.on("error",c),r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t}},8106:function(e){"use strict";var s={};function t(e,n,t){t=t||Error;var o,r,i,i=(i=o=t,(r=a).prototype=Object.create(i.prototype),(r.prototype.constructor=r).__proto__=i,a);function a(e,t,r){return o.call(this,"string"==typeof n?n:n(e,t,r))||this}i.prototype.name=t.name,i.prototype.code=e,s[e]=i}function c(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(e){return String(e)}),2<r?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}t("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(e,t,r){var n,o,i,a;return"string"==typeof t&&"not "===t.substr(0,"not ".length)?(n="must not be",t=t.replace(/^not /,"")):n="must be",i=e,(void 0===a||a>i.length)&&(a=i.length),(" argument"===i.substring(a-" argument".length,a)?"The ".concat(e," ").concat(n," ").concat(c(t,"type")):(o=(o="number"!=typeof o?0:o)+".".length>e.length||-1===e.indexOf(".",o)?"argument":"property",'The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(c(t,"type"))))+". Received type ".concat(typeof r)},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=s},8656:function(e,t,r){"use strict";var n=r(4155),o=Object.keys||function(e){var t,r=[];for(t in e)r.push(t);return r};e.exports=d;var i=r(6577),a=r(323);r(5717)(d,i);for(var s=o(a.prototype),c=0;c<s.length;c++){var u=s[c];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2366:function(e,t,r){"use strict";e.exports=o;var n=r(4473);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}r(5717)(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},6577:function(e,t,o){"use strict";var n,g=o(4155);(e.exports=O).ReadableState=_,o(7187).EventEmitter;function m(e,t){return e.listeners(t).length}var i,r,a,s=o(3194),l=o(2236).Buffer,f=o.g.Uint8Array||function(){},c=o(1758),y=c&&c.debuglog?c.debuglog("stream"):function(){},u=o(9686),e=o(1029),d=o(94).getHighWaterMark,c=o(8106).q,p=c.ERR_INVALID_ARG_TYPE,h=c.ERR_STREAM_PUSH_AFTER_EOF,v=c.ERR_METHOD_NOT_IMPLEMENTED,b=c.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o(5717)(O,s);var w=e.errorOrDestroy,S=["error","close","destroy","pause","resume"];function _(e,t,r){n=n||o(8656),"boolean"!=typeof r&&(r=t instanceof n),this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=d(this,e,"readableHighWaterMark",r),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(i=i||o(2553).s,this.decoder=new i(e.encoding),this.encoding=e.encoding)}function O(e){if(n=n||o(8656),!(this instanceof O))return new O(e);var t=this instanceof n;this._readableState=new _(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function I(e,t,r,n,o){y("readableAddChunk",t);var i,a,s,c,u,d=e._readableState;if(null===t)d.reading=!1,s=e,c=d,y("onEofChunk"),c.ended||(!c.decoder||(u=c.decoder.end())&&u.length&&(c.buffer.push(u),c.length+=c.objectMode?1:u.length),c.ended=!0,c.sync?k(s):(c.needReadable=!1,c.emittedReadable||(c.emittedReadable=!0,x(s))));else if(o||(s=d,o=i=t,i=a=l.isBuffer(o)||o instanceof f||"string"==typeof i||void 0===i||s.objectMode?a:new p("chunk",["string","Buffer","Uint8Array"],i)),i)w(e,i);else if(d.objectMode||t&&0<t.length)if("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===l.prototype||(i=t,t=l.from(i)),n)d.endEmitted?w(e,new b):E(e,d,t,!0);else if(d.ended)w(e,new h);else{if(d.destroyed)return!1;d.reading=!1,d.decoder&&!r?(t=d.decoder.write(t),d.objectMode||0!==t.length?E(e,d,t,!1):P(e,d)):E(e,d,t,!1)}else n||(d.reading=!1,P(e,d));return!d.ended&&(d.length<d.highWaterMark||0===d.length)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),P(e,t)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),O.prototype.destroy=e.destroy,O.prototype._undestroy=e.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),I(this,e,t,!1,r)},O.prototype.unshift=function(e){return I(this,e,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(e){var t=new(i=i||o(2553).s)(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?(t.flowing&&t.length?t.buffer.head.data:t).length:(e>t.highWaterMark&&(t.highWaterMark=(1073741824<=(r=e)?r=1073741824:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var r}function k(e){var t=e._readableState;y("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(y("emitReadable",t.flowing),t.emittedReadable=!0,g.nextTick(x,e))}function x(e){var t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function P(e,t){t.readingMore||(t.readingMore=!0,g.nextTick(j,e,t))}function j(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(y("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function T(e){var t=e._readableState;t.readableListening=0<e.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<e.listenerCount("data")&&e.resume()}function C(e){y("readable nexttick read 0"),e.read(0)}function R(e,t){y("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(y("flow",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function M(e){var t=e._readableState;y("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,g.nextTick(B,t,e))}function B(e,t){y("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)&&(!(e=t._writableState)||e.autoDestroy&&e.finished)&&t.destroy()}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}O.prototype.read=function(e){y("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:0<t.length)||t.ended))return y("read: emitReadable",t.length,t.ended),(0===t.length&&t.ended?M:k)(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&M(this),null;var n=t.needReadable;return y("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&y("length less than watermark",n=!0),t.ended||t.reading?y("reading or ended",n=!1):n&&(y("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=0<e?U(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&M(this)),null!==n&&this.emit("data",n),n},O.prototype._read=function(e){w(this,new v("_read()"))},O.prototype.pipe=function(n,e){var o=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=n;break;case 1:i.pipes=[i.pipes,n];break;default:i.pipes.push(n)}i.pipesCount+=1,y("pipe count=%d opts=%j",i.pipesCount,e);var t=e&&!1===e.end||n===g.stdout||n===g.stderr?p:a;function a(){y("onend"),n.end()}i.endEmitted?g.nextTick(t):o.once("end",t),n.on("unpipe",function e(t,r){y("onunpipe"),t===o&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,y("cleanup"),n.removeListener("close",l),n.removeListener("finish",f),n.removeListener("drain",s),n.removeListener("error",d),n.removeListener("unpipe",e),o.removeListener("end",a),o.removeListener("end",p),o.removeListener("data",u),c=!0,!i.awaitDrain||n._writableState&&!n._writableState.needDrain||s())});var r,s=(r=o,function(){var e=r._readableState;y("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&m(r,"data")&&(e.flowing=!0,D(r))});n.on("drain",s);var c=!1;function u(e){y("ondata");e=n.write(e);y("dest.write",e),!1===e&&((1===i.pipesCount&&i.pipes===n||1<i.pipesCount&&-1!==N(i.pipes,n))&&!c&&(y("false write response, pause",i.awaitDrain),i.awaitDrain++),o.pause())}function d(e){y("onerror",e),p(),n.removeListener("error",d),0===m(n,"error")&&w(n,e)}function l(){n.removeListener("finish",f),p()}function f(){y("onfinish"),n.removeListener("close",l),p()}function p(){y("unpipe"),o.unpipe(n)}return o.on("data",u),e=d,"function"==typeof(t=n).prependListener?t.prependListener("error",e):t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(e):t._events.error=[e,t._events.error]:t.on("error",e),n.once("close",l),n.once("finish",f),n.emit("pipe",o),i.flowing||(y("pipe resume"),o.resume()),n},O.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e=e||t.pipes,t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),--t.pipesCount,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},O.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),t=this._readableState;return"data"===e?(t.readableListening=0<this.listenerCount("readable"),!1!==t.flowing&&this.resume()):"readable"===e&&(t.endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.flowing=!1,t.emittedReadable=!1,y("on readable",t.length,t.reading),t.length?k(this):t.reading||g.nextTick(C,this))),r},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(e,t){t=s.prototype.removeListener.call(this,e,t);return"readable"===e&&g.nextTick(T,this),t},O.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||g.nextTick(T,this),t},O.prototype.resume=function(){var e,t,r=this._readableState;return r.flowing||(y("resume"),r.flowing=!r.readableListening,e=this,(t=r).resumeScheduled||(t.resumeScheduled=!0,g.nextTick(R,e,t))),r.paused=!1,this},O.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(t){var e,r=this,n=this._readableState,o=!1;for(e in t.on("end",function(){var e;y("wrapped end"),n.decoder&&!n.ended&&(e=n.decoder.end())&&e.length&&r.push(e),r.push(null)}),t.on("data",function(e){y("wrapped data"),n.decoder&&(e=n.decoder.write(e)),n.objectMode&&null==e||(n.objectMode||e&&e.length)&&(r.push(e)||(o=!0,t.pause()))}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var i=0;i<S.length;i++)t.on(S[i],this.emit.bind(this,S[i]));return this._read=function(e){y("wrapped _read",e),o&&(o=!1,t.resume())},this},"function"==typeof Symbol&&(O.prototype[Symbol.asyncIterator]=function(){return(r=void 0===r?o(828):r)(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),O._fromList=U,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(O.from=function(e,t){return(a=void 0===a?o(1265):a)(O,e,t)})},4473:function(e,t,r){"use strict";e.exports=c;var e=r(8106).q,n=e.ERR_METHOD_NOT_IMPLEMENTED,o=e.ERR_MULTIPLE_CALLBACK,i=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=e.ERR_TRANSFORM_WITH_LENGTH_0,s=r(8656);function c(e){if(!(this instanceof c))return new c(e);s.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,(r.writecb=null)!=t&&this.push(t),n(e),(e=this._readableState).reading=!1,(e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var r=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(e,t){d(r,e,t)})}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new i;return e.push(null)}r(5717)(c,s),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new n("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r,n.writechunk=e,n.writeencoding=t,n.transforming||(t=this._readableState,(n.needTransform||t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark))},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){s.prototype._destroy.call(this,e,function(e){t(e)})}},323:function(e,t,n){"use strict";var o,l=n(4155);function d(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t){var r=e.entry;for(e.entry=null;r;){var n=r.callback;t.pendingcb--,n(void 0),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}(e.exports=I).WritableState=O;var r,i={deprecate:n(4927)},a=n(3194),f=n(2236).Buffer,p=n.g.Uint8Array||function(){},s=n(1029),c=n(94).getHighWaterMark,e=n(8106).q,g=e.ERR_INVALID_ARG_TYPE,u=e.ERR_METHOD_NOT_IMPLEMENTED,m=e.ERR_MULTIPLE_CALLBACK,y=e.ERR_STREAM_CANNOT_PIPE,h=e.ERR_STREAM_DESTROYED,v=e.ERR_STREAM_NULL_VALUES,b=e.ERR_STREAM_WRITE_AFTER_END,w=e.ERR_UNKNOWN_ENCODING,S=s.errorOrDestroy;function _(){}function O(e,t,r){o=o||n(8656),"boolean"!=typeof r&&(r=t instanceof o),this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=c(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;r=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r,n,o,i,a=e._writableState,s=a.sync,c=a.writecb;if("function"!=typeof c)throw new m;(i=a).writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0,t?(r=e,o=s,i=t,t=c,--(n=a).pendingcb,o?(l.nextTick(t,i),l.nextTick(j,r,n),r._writableState.errorEmitted=!0,S(r,i)):(t(i),r._writableState.errorEmitted=!0,S(r,i),j(r,n))):((n=x(a)||e.destroyed)||a.corked||a.bufferProcessing||!a.bufferedRequest||k(e,a),s?l.nextTick(A,e,a,n,c):A(e,a,n,c))}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function I(e){var t=this instanceof(o=o||n(8656));if(!t&&!r.call(I,this))return new I(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function E(e,t,r,n,o,i,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new h("write")):r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function A(e,t,r,n){var o;r||(o=e,0===(r=t).length&&r.needDrain&&(r.needDrain=!1,o.emit("drain"))),t.pendingcb--,n(),j(e,t)}function k(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),n=t.corkedRequestsFree;n.entry=r;for(var i=0,a=!0;r;)(o[i]=r).isBuf||(a=!1),r=r.next,i+=1;o.allBuffers=a,E(e,t,!0,t.length,o,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new d(t),t.bufferedRequestCount=0}else{for(;r;){var s=r.chunk,c=r.encoding,u=r.callback;if(E(e,t,!1,t.objectMode?1:s.length,s,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(t,r){t._final(function(e){r.pendingcb--,e&&S(t,e),r.prefinished=!0,t.emit("prefinish"),j(t,r)})}function j(e,t){var r,n,o=x(t);return o&&(r=e,(n=t).prefinished||n.finalCalled||("function"!=typeof r._final||n.destroyed?(n.prefinished=!0,r.emit("prefinish")):(n.pendingcb++,n.finalCalled=!0,l.nextTick(P,r,n))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))&&((!(t=e._readableState)||t.autoDestroy&&t.endEmitted)&&e.destroy()),o}n(5717)(I,a),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(e){return!!r.call(this,e)||this===I&&e&&e._writableState instanceof O}})):r=function(e){return e instanceof this},I.prototype.pipe=function(){S(this,new y)},I.prototype.write=function(e,t,r){var n,o,i,a,s,c=this._writableState,u=!1,d=!c.objectMode&&(d=e,f.isBuffer(d)||d instanceof p);return d&&!f.isBuffer(e)&&(s=e,e=f.from(s)),"function"==typeof t&&(r=t,t=null),t=d?"buffer":t||c.defaultEncoding,"function"!=typeof r&&(r=_),c.ending?(o=this,i=r,a=new b,S(o,a),l.nextTick(i,a)):!d&&(s=this,o=c,i=r,null===(a=e)?n=new v:"string"==typeof a||o.objectMode||(n=new g("chunk",["string","Buffer"],a)),n&&(S(s,n),l.nextTick(i,n),!0))||(c.pendingcb++,u=function(e,t,r,n,o,i){r||(s=n,c=o,s=t.objectMode||!1===t.decodeStrings||"string"!=typeof s?s:f.from(s,c),n!==s&&(r=!0,o="buffer",n=s));var a=t.objectMode?1:n.length;t.length+=a;var s,c=t.length<t.highWaterMark;return c||(t.needDrain=!0),t.writing||t.corked?(s=t.lastBufferedRequest,t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):E(e,t,!1,a,n,o,i),c}(this,c,d,e,t,r)),u},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},I.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(e,t,r){r(new u("_write()"))},I.prototype._writev=null,I.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,t=e=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||(t=this,r=r,(n=n).ending=!0,j(t,n),r&&(n.finished?l.nextTick(r):t.once("finish",r)),n.ended=!0,t.writable=!1),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),I.prototype.destroy=s.destroy,I.prototype._undestroy=s.undestroy,I.prototype._destroy=function(e,t){t(e)}},828:function(e,t,r){"use strict";var i=r(4155);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(1086),s=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),d=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function g(e,t){return{value:e,done:t}}function m(e){var t,r=e[s];null===r||null!==(t=e[p].read())&&(e[l]=null,e[s]=null,e[c]=null,r(g(t,!1)))}var n=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((o(r={get stream(){return this[p]},next:function(){var r=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[d])return Promise.resolve(g(void 0,!0));if(this[p].destroyed)return new Promise(function(e,t){i.nextTick(function(){r[u]?t(r[u]):e(g(void 0,!0))})});var t,n,o,e=this[l];if(e)t=new Promise((n=e,o=this,function(e,t){n.then(function(){o[d]?e(g(void 0,!0)):o[f](e,t)},t)}));else{e=this[p].read();if(null!==e)return Promise.resolve(g(e,!1));t=new Promise(this[f])}return this[l]=t}},Symbol.asyncIterator,function(){return this}),o(r,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){e?r(e):t(g(void 0,!0))})})}),r),n);e.exports=function(e){var t,n=Object.create(y,(o(t={},p,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,d,{value:e._readableState.endEmitted,writable:!0}),o(t,f,{value:function(e,t){var r=n[p].read();r?(n[l]=null,n[s]=null,n[c]=null,e(g(r,!1))):(n[s]=e,n[c]=t)},writable:!0}),t));return n[l]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[c];return null!==t&&(n[l]=null,n[s]=null,n[c]=null,t(e)),void(n[u]=e)}e=n[s];null!==e&&(n[l]=null,n[s]=null,e(g(void 0,!(n[c]=null)))),n[d]=!0}),e.on("readable",function(e){i.nextTick(m,e)}.bind(null,n)),n}},9686:function(e,t,r){"use strict";function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}var a=r(2236).Buffer,n=r(1758).inspect,r=n&&n.custom||"inspect";function o(){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}e.exports=(r=[{key:"push",value:function(e){e={data:e,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(e){e={data:e,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n=a.allocUnsafe(e>>>0),o=this.head,i=0;o;)t=o.data,r=i,a.prototype.copy.call(t,n,r),i+=o.data.length,o=o.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var o=t.data,i=e>o.length?o.length:e;if(i===o.length?n+=o:n+=o.slice(0,e),0==(e-=i)){i===o.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t).data=o.slice(i);break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,i=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,i),0==(e-=i)){i===o.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r).data=o.slice(i);break}++n}return this.length-=n,t}},{key:r,value:function(e,t){return n(this,function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}({},t,{depth:0,customInspect:!1}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(o.prototype,r),o)},1029:function(e,t,r){"use strict";var i=r(4155);function a(e,t){c(e,t),s(e)}function s(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function c(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(c,this,e)):i.nextTick(c,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?r._writableState?r._writableState.errorEmitted?i.nextTick(s,r):(r._writableState.errorEmitted=!0,i.nextTick(a,r,e)):i.nextTick(a,r,e):t?(i.nextTick(s,r),t(e)):i.nextTick(s,r)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},1086:function(e,t,r){"use strict";var y=r(8106).q.ERR_STREAM_PREMATURE_CLOSE;function h(){}e.exports=function e(t,r,n){if("function"==typeof r)return e(t,null,r);var o,i;o=n||h,i=!1,n=function(){if(!i){i=!0;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o.apply(this,t)}};function a(){t.writable||s()}function s(){g=!(p=!1),f||n.call(t)}function c(){m=!(f=!1),p||n.call(t)}function u(e){n.call(t,e)}function d(){var e;return f&&!m?(t._readableState&&t._readableState.ended||(e=new y),n.call(t,e)):p&&!g?(t._writableState&&t._writableState.ended||(e=new y),n.call(t,e)):void 0}function l(){t.req.on("finish",s)}var f=(r=r||{}).readable||!1!==r.readable&&t.readable,p=r.writable||!1!==r.writable&&t.writable,g=t._writableState&&t._writableState.finished,m=t._readableState&&t._readableState.endEmitted;return t.setHeader&&"function"==typeof t.abort?(t.on("complete",s),t.on("abort",d),t.req?l():t.on("request",l)):p&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",c),t.on("finish",s),!1!==r.error&&t.on("error",u),t.on("close",d),function(){t.removeListener("complete",s),t.removeListener("abort",d),t.removeListener("request",l),t.req&&t.req.removeListener("finish",s),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",s),t.removeListener("end",c),t.removeListener("error",u),t.removeListener("close",d)}}},1265:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},6472:function(e,t,c){"use strict";var u,r=c(8106).q,s=r.ERR_MISSING_ARGS,d=r.ERR_STREAM_DESTROYED;function l(e){if(e)throw e}function f(e){e()}function p(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o,r,i=!(r=n).length||"function"!=typeof r[r.length-1]?l:r.pop();if((n=Array.isArray(n[0])?n[0]:n).length<2)throw new s("streams");var a=n.map(function(e,t){var r=t<n.length-1;return function(t,e,r,n){var o,i;o=n,i=!1;var a=!(n=function(){i||(i=!0,o.apply(void 0,arguments))});t.on("close",function(){a=!0}),(u=void 0===u?c(1086):u)(t,{readable:e,writable:r},function(e){return e?n(e):(a=!0,void n())});var s=!1;return function(e){if(!a&&!s)return s=!0,t.setHeader&&"function"==typeof t.abort?t.abort():"function"==typeof t.destroy?t.destroy():void n(e||new d("pipe"))}}(e,r,0<t,function(e){o=o||e,e&&a.forEach(f),r||(a.forEach(f),i(o))})});return n.reduce(p)}},94:function(e,t,r){"use strict";var o=r(8106).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,n){t=null!=t.highWaterMark?t.highWaterMark:n?t[r]:null;if(null==t)return e.objectMode?16:16384;if(!isFinite(t)||Math.floor(t)!==t||t<0)throw new o(n?r:"highWaterMark",t);return Math.floor(t)}}},3194:function(e,t,r){e.exports=r(7187).EventEmitter},2553:function(e,t,r){"use strict";var n=r(9509).Buffer,o=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=d,this.end=l,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t,r,n=this.lastTotal-this.lastNeed,t=(t=this,128!=(192&(r=e)[0])?(t.lastNeed=0,""):1<t.lastNeed&&1<r.length?128!=(192&r[1])?(t.lastNeed=1,""):2<t.lastNeed&&2<r.length&&128!=(192&r[2])?(t.lastNeed=2,""):void 0:void 0);return void 0!==t?t:this.lastNeed<=e.length?(e.copy(this.lastChar,n,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,n,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);var r=e.toString("utf16le",t);if(r){t=r.charCodeAt(r.length-1);if(55296<=t&&t<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){e=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,e)}return t}function d(e,t){var r=(e.length-t)%3;return 0==r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1==r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}(t.s=i).prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=function(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+"":e},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=a(t[n]);return 0<=o?(0<o&&(e.lastNeed=o-1),o):--n<r||-2===o?0:0<=(o=a(t[n]))?(0<o&&(e.lastNeed=o-2),o):!(--n<r||-2===o)&&0<=(o=a(t[n]))?(0<o&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;r=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4927:function(e,t,r){function n(e){try{if(!r.g.localStorage)return}catch(e){return}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},5327:function(e){for(var n=[],t=0;t<256;++t)n[t]=(t+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,t=n;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[+r]]].join("")}},5217:function(e){var t,r,n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);n?(t=new Uint8Array(16),e.exports=function(){return n(t),t}):(r=new Array(16),e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r})},1171:function(e,t,r){var a=r(5217),s=r(5327);e.exports=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[n+i]=o[i];return t||s(o)}},2993:function(){},1758:function(){}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0,t.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var __webpack_exports__=__webpack_require__(8990)}();

(self.webpackChunklayout_service=self.webpackChunklayout_service||[]).push([[1574],{12030:function(t,e,n){"use strict";function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Cookie.set("c3s",[e,Date.now(),t].join("-"))}n.d(e,{v:function(){return o}})},72248:function(t,e,n){"use strict";n.d(e,{getC3s:function(){return c},resetC3s:function(){return s},shouldShowGDPRBanner:function(){return d},callConsentService:function(){return u},initGdprCookieBanners:function(){return w}});var o=n(34387),i=n(18565),a=n(82543),r=n(12030);function c(){if(window.Cookie){var t=window.Cookie.get("c3s");if(t)return t.match(/(\d+)-\d+-([0-3])/)}return document.cookie.match(/c3s=(\d+)-\d+-([0-3])/)}function s(){(0,r.v)(0,2)}function d(t){var e=!1;return t&&t[0]&&(parseInt(t[0].split("-")[1])||0)<(new Date).getTime()-15552e6&&(e=!0),(!t||"1"===t[1]||"0"===t[2]||e)&&!o.Cg.get("ls-gdpr-banner-visible")}function u(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;null==e&&(e=""),null==n&&(n={});var c="".concat(e,"/layout/calls/consent-service/").concat(t,"/v").concat(r,"?c3s=").concat(o);return fetch(c,{credentials:"include",headers:{"Content-Type":"application/json; charset=utf-8","x-ls-consent-fallback":JSON.stringify(n)}}).then((function(t){if(document.head.dataset.consentServiceXhr="1",!t.ok)throw"failed so set consent due to api status: ".concat(t.status);return t.json()})).then((function(e){var n;return(n=null!=e?e.err:void 0)&&"fallback"!==t&&"do_not_sell"!==t?(0,a.Xf)(t,o,n.termsVersion):((0,a.Yo)(),e)})).catch((function(t){return(0,i.default)(t.event,t.error),!1}))}var l=function(t){t=t||"",document.getElementById("gdpr-bottom-banner")&&d(c())&&(t&&u("notice_bottom",t,{},0),s())};function f(){localStorage&&(localStorage.removeItem("ls-gdpr-had-no-c3s"),localStorage.removeItem("ls-cookies-gdpr-ack"))}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";l(t),f()}},68491:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return A}});var o=n(40476),i=n(18549),a=n.n(i),r=n(31046),c=n(68616).unescape;var s=n(25215),d=n.n(s);function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var l=n(96502).escape;function f(t){if("external"===t.adType&&"dfp"===t.adFormat){var e=document.getElementById(t.dfpContent.id);return e&&e.parentNode.classList.contains("ai-merchandising")}return!1}function w(){var t=document.getElementById("ls-in-app-messages");t&&(t.classList.remove("ls-hide"),t.setAttribute("aria-hidden","false"))}function p(t){t=l(t);try{t=JSON.parse(t)}catch(t){}return t}function m(t){var e=t.adPlacements,n=t.data;if(!Array.isArray(e))throw"Response doesn't have valid placements";!function(t){for(var e,n=!0,o=0;o<t.length;o++)if(f(t[o])){var i=document.getElementById(t[o].dfpContent.id).parentNode;i&&(n=!1,i.classList.remove("ls-hide"))}n?w():(e=document.getElementById("ls-in-app-messages"))&&(e.classList.add("ls-hide"),e.setAttribute("aria-hidden","true"))}(e);var o=Array.from(document.head.getElementsByTagName("meta")).reduce((function(e,n){return(t=function(t,e){if(t.name!==e)return{};for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return[].concat(o).reduce((function(e,n){return e[n]=p(t.getAttribute("data-".concat(n))),e}),{})}(n,"ai-dfp-target","key","val"))&&(e[t.key]=t.val),e}),[]);window.googletag.cmd.push((function(){for(var t in e.forEach((function(t){if("external"===t.adType&&"dfp"===t.adFormat){var e=t.dfpContent,n=window.googletag.defineSlot(e.adTarget,e.adSizes,e.id);if(!n)return;n.addService(window.googletag.pubads()),Object.assign(o,e.configs)}})),o)o.hasOwnProperty(t)&&window.googletag.pubads().setTargeting(t,o[t]);var i=window.location.pathname.split("/").filter(Boolean);window.googletag.pubads().setTargeting("permalink",i),window.googletag.pubads().enableSingleRequest(),n&&n.consumerId&&n.consumerId.length&&window.googletag.pubads().setPublisherProvidedId(n.consumerId),window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.enableServices()})),e.forEach((function(t){window.googletag.cmd.push((function(){window.googletag.display(t.dfpContent.id)}))})),(0,r.default)("//www.googletagservices.com/tag/js/gpt.js")}function h(){var t,e=document.head;if(("true"!==e.dataset.gdpr||window.Cookie.get("c3s"))&&window.Cookie.allows("marketing")&&e.querySelector("meta[name='ai-slot']")){!function(){if(document.head.querySelector("meta[name='ai-v1']")){var t=document.querySelectorAll(".ai-merchandising");if(t.length)for(var e=0;e<t.length;e++)t[e].classList.add("ls-hide")}}();var n=e.querySelector("meta[name='ai-v1']");if(n){var o=window.Cookie.get(["b","c"]),i=o.b,a=o.c,c=n.dataset,s=c.appName,d=c.division,l=c.pageName,f=c.baseUrl,p=c.baseURL,h=f||p||"https://ai.groupondata.com/ai/api/v1/placement",g=(t=e.querySelectorAll("meta[name='ai-slot']"),function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t){return t.dataset.apif})),v={app:s,b_cookie:i,c_cookie:a,country:e.dataset.country,locale:e.dataset.locale,division:d,page:encodeURIComponent(location.href),platform:document.body.classList.contains("is-web")?"web":"touch",placements:g.join("_"),pageType:l},b=new URLSearchParams(v);(window.adblocker=!0,new Promise((function(t){return(0,r.default)(window.Groupon.ads.url,"adblock-js",t)}))).then((function(){window.adblocker||fetch("".concat(h,"?").concat(b.toString())).then((function(t){if(!t.ok)throw"Response doesn't have status code 200";return t.json()})).then(m).catch(w)}))}}}var g={init:function(){document.head.querySelector("meta[name='ai-dfp-manual']")||h()},load:h},v={init:function(){g.init()},load:function(){g.load()}},b=v;window.Groupon=window.Groupon||{},window.Groupon.DFPAds=v;var y=n(72248),k=["pull","homepage"],S="subscription_status";n(5279),o.documentReady.then((function(){document.body.classList.remove("no-js")})),o.windowLoaded.then((function(){var t,e;(0,y.initGdprCookieBanners)(),b.init(),window.Groupon.Utils.lazyLoadImages(".lazy-wl",{threshold:200}),t=document.head.dataset.app,e=location.search.indexOf("showSocialModal")>-1,(k.includes(t)&&window.Cookie.get(S)||e)&&function(t,e){e&&window.Cookie.set(S,"1");var n="/layout/subscriptions/social_modal?appName=".concat(t).concat(e?"&subs_force=true":"");fetch(n).then((function(t){return t.ok?t.text():null})).then((function(t){if(t){var e=document.getElementById("subsSocialModal");if(e){var n=document.createRange().createContextualFragment(t);e.appendChild(n)}}}))}(t,e),new(d()),function(){var t={},e=window.gtmData||{},n=window.Cookie.get(["c","e"]),i=n.c,s=n.e;if(e.data)try{window.gtmData.data=c(c(e.data)),t=JSON.parse(window.gtmData.data)}catch(t){}i&&s&&(t.dl_user_id=i,t.dl_email_sha256=s),t.platform=e.platform,window.dataLayer=[t],e.enabled&&o.windowLoaded.then((function(){!function(t){a()("LS-4100-intentmedia-gtm",{Treatment:function(){window.dataLayer.push({"LS-4100-intentmedia-gtm":!0})}}),window.dataLayer.push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var e=new URL("gtm.js","https://www.googletagmanager.com");t.id&&e.searchParams.set("id",t.id),(0,r.default)(e.toString())}(e)}))}(),window.Groupon.boldChat&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.accountId,n=t.pushData;window._bcvma=window._bcvma||[],Array.isArray(n)&&(window._bcvma=window._bcvma.concat(n)),window._bcvma.push(["pageViewed"]);var o=window.pageViewer;if(o&&o.load)return o.load();if(window.bcLoaded)return null;var i="https://vmss.boldchat.com/aid/".concat(e,"/bc.vms4/vms.js");(0,r.default)(i,"boldChat",(function(){return window.bcLoaded=!0}))}(window.Groupon.boldChat)}));var A=function(){}},25215:function(t,e,n){function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=n(25726).throttle;null==window.Groupon.Widgets&&(window.Groupon.Widgets={});var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.requestTick=this.requestTick.bind(this),this.showOrHide=this.showOrHide.bind(this),this.bindEvents=this.bindEvents.bind(this),(this.back2top=document.getElementById("ls-back-to-top"))&&(this.offset=1.5*document.querySelector(".header-v2 header").offsetHeight,this.visible=!1,this.bindEvents())}var e,n;return e=t,(n=[{key:"requestTick",value:function(){return window.requestAnimationFrame(this.showOrHide)}},{key:"showOrHide",value:function(){var t=(window.scrollY||window.pageYOffset)>this.offset;t&&!this.visible?(this.back2top.classList.add("ls-back-to-top-visible"),this.back2top.setAttribute("aria-hidden","false"),this.visible=!0):this.visible&&!t&&(this.back2top.setAttribute("aria-hidden","true"),this.back2top.classList.remove("ls-back-to-top-visible"),this.visible=!1)}},{key:"bindEvents",value:function(){var t=this;return window.addEventListener("scroll",i(1e3,this.requestTick),{passive:!0}),this.back2top.addEventListener("click",(function(){return t.back2top.addEventListener("transitionend",(function(){return t.back2top.classList.remove("ls-back-to-top-visible")}),{once:!0,passive:!0}),window.scrollTo({top:0,behavior:"smooth"}),t.back2top.setAttribute("aria-hidden","true")}),{passive:!0})}}])&&o(e.prototype,n),t}();window.Groupon.Widgets.BackToTopButton=a,t.exports=a},5279:function(t,e,n){var o=n(79535).bindToWindow,i=n(40476).windowLoaded,a={close:{de:"schließen",en:"close",es:"cerrar",fr:"fermer",it:"chiudi",pl:"zamknij",nl:"sluit",ja:"終了"}},r=["INPUT","BUTTON"],c={init:function(){this.fixClosingX(),this.fixButtons()},fixClosingX:function(t,e,n){if(null==t&&(t=document.body),null==e&&(e=".icon-x"),null==n&&(n=""),!n){var o=void 0!==window.I18n&&window.I18n.lang||"en";n=a.close[o]}t.querySelectorAll(e).forEach((function(t){"BUTTON"!==t.nodeName&&(t.setAttribute("role","button"),t.setAttribute("tabindex","0")),t.innerText||(t.title=n,t.querySelector(".ax-hidden")||t.insertAdjacentHTML("beforeend","<span class='ax-hidden'>".concat(n,"</span>")))}))},fixButtons:function(){document.querySelectorAll(".btn, .btn-secondary, .btn-invert, .btn-warning, .btn-transparent").forEach((function(t){-1!==r.indexOf(t.nodeName)||t.getAttribute("role")||t.setAttribute("role","button")}))}};o("a11y",c),i.then((function(){window.requestIdleCallback((function(){return c.init()}))})),t.exports=c},25726:function(t,e){"use strict";function n(t,e,n,o){var i,a=!1,r=0;function c(){i&&clearTimeout(i)}function s(){for(var s=arguments.length,d=new Array(s),u=0;u<s;u++)d[u]=arguments[u];var l=this,f=Date.now()-r;function w(){r=Date.now(),n.apply(l,d)}function p(){i=void 0}a||(o&&!i&&w(),c(),void 0===o&&f>t?w():!0!==e&&(i=setTimeout(o?p:w,void 0===o?t-f:t)))}return"boolean"!=typeof e&&(o=n,n=e,e=void 0),s.cancel=function(){c(),a=!0},s}Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=function(t,e,o){return void 0===o?n(t,e,!1):n(t,o,!1!==e)},e.throttle=n},82543:function(t,e,n){"use strict";n.d(e,{Xf:function(){return i},Yo:function(){return a}});var o="LS_consentActions";function i(t,e,n){var i=function(){var t;try{t=JSON.parse(window.localStorage.getItem(o))||{}}catch(e){t={}}return t}();i[t]={selection:e,version:n};try{window.localStorage.setItem(o,JSON.stringify(i))}catch(t){}}function a(){try{window.localStorage.removeItem(o)}catch(t){}}},18549:function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t,n){"object"===e(t)&&(t="US"===window.I18n.country?t.US:t.EMEA),window.Finch.experiment(t,n)}},96502:function(t,e){e.escape=function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},n=new RegExp("[".concat(Object.keys(e).join(""),"]"),"g");return t.replace(n,(function(t){return e[t]}))}},68616:function(t,e){e.unescape=function(t){var e={"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"},n=new RegExp("(".concat(Object.keys(e).join("|"),")"),"g");return t.replace(n,(function(t){return e[t]}))}}}]);
//# sourceMappingURL=desktop-misc-30b205405c.js.map
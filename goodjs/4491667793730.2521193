!function(){var a=GDT,require,define,b,d,c,f,g,h,i,j,k;function l(t,e){if(!(t in i)){i[t]=!0;var n,o=document.createElement("script");return e&&(n=setTimeout(e,require.timeout),o.onerror=function(){clearTimeout(n),e()},o.onreadystatechange=function(){"complete"==this.readyState&&clearTimeout(n)}),o.type="text/javascript",o.charset="UTF-8",o.src=t,c.appendChild(o),o}}function main(t){var e=GDT._isJSHttps?"https://":"http://";require.setBaseUrl(e+"qzonestyle.gtimg.cn/qzone/biz/gdt/display/modules"),require.timeout=2e4,GDT.initComm&&GDT.initComm(),require.async("gdt:main.js",function(){t&&t()})}b=window,c=document.getElementsByTagName("head")[0],f={},g={},h={},i={},j={},k={},define=function(t,e){g[t]=e;var n=f[t];if(n){for(var o=0,r=n.length;o<r;o++)n[o]();delete f[t]}},(require=function(t){if(t=require.alias(t),n=h[t])return n.exports;var e=g[t];if(!e)throw"[ModJS] Cannot find module `"+t+"`";var n=h[t]={exports:{}},e="function"==typeof e?e.apply(n,[require,n.exports,n]):e;return e&&(n.exports=e),n.exports}).async=function(o,r,a){for(var t=0,e=(o="string"==typeof o?[o]:o).length;t<e;t++)o[t]=require.alias(o[t]);var c={},s=0;function u(){if(0==s--){for(var t=[],e=0,n=o.length;e<n;e++)t[e]=require(o[e]);r&&r.apply(b,t)}}!function t(e){for(var n=0,o=e.length;n<o;n++){var r=e[n],i=j[r];i&&"deps"in i&&t(i.deps),r in g||r in c||(c[r]=!0,s++,function(t,e,n){(f[t]||(f[t]=[])).push(e);var o=j[t]||{},r=o.pkg,e=d||"";l(o=r?e+k[r].url:e+o.url||t,n&&function(){n(t)})}(r,u,a))}}(o),u()},require.resourceMap=function(t){var e,n=t.res;for(e in n)n.hasOwnProperty(e)&&(j[e]=n[e]);for(e in n=t.pkg)n.hasOwnProperty(e)&&(k[e]=n[e])},require.setBaseUrl=function(t){d=t},require.loadJs=function(t){l(t)},require.loadCss=function(t){var e;t.content?((e=document.createElement("style")).type="text/css",e.styleSheet?e.styleSheet.cssText=t.content:e.innerHTML=t.content,c.appendChild(e)):t.url&&((e=document.createElement("link")).href=t.url,e.rel="stylesheet",e.type="text/css",c.appendChild(e))},require.alias=function(t){return t},require.timeout=5e3,b.GDTRequire=require,b.GDTDefine=define,GDTDefine("gdt:comm/comm.js",function(t,e,n){var a={};a.fp=GDT.fp;var o=GDT.fp.QZFL||{},t=t("gdt:mod/util.js");a.dom=t.dom,a.dom.ua=t.userAgent,a.css=t.css,a.string=t.string,a.event=t.event,a.JSONGetter=t.JSONGetter,a.xhr=t.xhr,a.TCISD="undefined"!=typeof TCISD?TCISD:o.TCISD,a.fnQueue=GDT.fnQueue,a.on=GDT.fnQueue.add,a.fire=GDT.fnQueue.exec,a.fireOnce=GDT.fnQueue.execOnce,a.importJs=GDT.importJs,a.getFileUrl=GDT.getFileUrl,a.genHash=GDT.genHash,a.t=GDT.t,a.siDomain=GDT.siDomain,a.imgcacheDomain=GDT.imgcacheDomain,a._isPageHttps=GDT._isPageHttps,a._isHttps=GDT._isHttps,a._isJSHttps=GDT._isJSHttps,a._isImageHttps=GDT._isImageHttps,a._isApptraceHttps=GDT._isApptraceHttps,a._protocal=GDT._isHttps?"https://":"http://",a.httpsUrl=function(t){return t=t.replace("http://","https://")},a.getlocalStorage=t.getlocalStorage,a.cookie=t.cookie;function r(t,e,n){if("number"==typeof t.length)for(var o=0,r=t.length;o<r;o++)e.call(n,t[o],o);else if("number"==typeof t)for(o=0;o<t;o++)e.call(n,o,o);else for(o in t)e.call(n,t[o],o)}function i(t,n){var o=[];return r(t,function(t,e){o.push(n(t,e))}),o}var o=function(t){t=t||{};for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var o in n)t[o]=n[o]}return t},t=function(n,e,o,t){var r=t?encodeURIComponent:function(t){return t};return function(t){return i(t,function(t,e){if(null!=e)return e+n+r(t)}).join(e)+(o?e:"")}},c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};o(a,{getTime:function(){return+new Date},log:function(t){},isEmpty:function(t){var o=!0;return r(t,function(t,e,n){return o=!1,n}),o},each:r,map:i,getType:function(t){return null===t?"null":void 0===t?"undefined":Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},getUrlParam:function(t,e){var n=new RegExp("(\\?|#|&)"+t+"=([^&#]*)(&|#|$)"),t=location.href.match(n);try{t&&""!=t||e||(t=top.location.href.match(n))}catch(t){}return t?t[2]:""},mix:o,bind:function(e,n){var o=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments,0);return e.apply(n,o.concat(t))}},format:function(t,n,o){return t.replace(/\{([^}]*)\}/g,"object"==typeof n?function(t,e){e=n[e];return null==e&&o?t:void 0===e?"":e}:n)},JSONToString:function(t){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(t);var o,e="",r=[],i=a.getType(t),n="array"==i?"]":"}";return e+="array"==i?"[":"{",a.each(t,function(t,e){var n="array"!=i?'"'+e+'":':"";"string"==(o=a.getType(t))?n+=(e=t,c.lastIndex=0,c.test(e)?'"'+e.replace(c,function(t){var e=s[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'):"number"==o?n+=t:"undefined"==o?n+=o:"object"!=o&&"array"!=o||(n+=a.JSONToString(t)),r.push(n)}),e+=r.join(","),e+=n},getObjectToStringFn:t,serializeStyles:t(":",";",!0,!1),serializeAttrs:t("="," ",!0,!1),serializeQuery:t("=","&",!1,!0)}),a.dom.buildHTML=function(t,e,n,o){return a.format('<{tag} {attrs}style="{styles}">{inner}</{tag}>',{tag:n||"div",attrs:a.serializeAttrs(e||{}),styles:a.serializeStyles(t),inner:o||""})},n.exports=a}),GDTDefine("gdt:comm/anticheat.js",function(t,e,n){var c,s,u=t("gdt:comm/comm.js"),t={};t.ClickManage=(s=(c={possize:{},initdata:function(){s.mousedown=s.mouseup={x:s.none,y:s.none},s.mousedownTime=s.mouseupTime=s.clickTime=s.none},poscn:"mod-snsmarketing-slot-external",setPoscn:function(t){c.poscn=t},getPosSize:function(t,e,n){var o,r=u.dom;return n=n||{},o=c.poscn,(n=c.possize[e])||(n={},(t=r.getAncestorBy(t,function(t){return u.css.hasClassName(t,o)}))?(t=r.getSize(t),n.width=t[0],n.height=t[1]):n.width=n.height=s.none,c.possize[e]=n),n},getDisplayedTime:function(){return s.none},combinedata:function(t,e,n,o){var r={},i=u.getTime();return r.aa=s.mousedown.x,r.ab=s.mousedown.y,r.ba=s.mouseup.x,r.bb=s.mouseup.y,r.g=0<s.clickTime&&0<s.mousedownTime?s.clickTime-s.mousedownTime:s.none,r.e=0<c.entertime?i-c.entertime:s.none,r.r=2,r.p=c.getDisplayedTime(),n=c.getPosSize(e,n),r.da=n.width,r.db=n.height,u.each(r,function(t,e){r[e]=t+""}),r},getTarget:function(t){return t},getX:function(t){return t.clientX+u.dom.getScrollLeft()},getY:function(t){return t.clientY+u.dom.getScrollTop()},setLink:function(t,e){var n=c.getTarget(t),t=t.getAttribute("gdtoriurl");url=t+"&s="+u.JSONToString(e),n.setAttribute("href",url)},mouseevent:function(t,e,n){var o,r,i=u.getTime(),a=(n=n||{}).el,n=(r=n.evtdata).type;a&&(s[n+"Time"]=i,s[n]&&(i=u.event.getEvent(),s[n].x=c.getX(i),s[n].y=c.getY(i)),o=c.combinedata(r.phrase,a,t,e),c.setLink(a,o))},mouseover:function(t,e,n){c.entertime=u.getTime()},mousedown:function(t,e,n){c.initdata(),n.evtdata={type:"mousedown",phrase:1},c.mouseevent(t,e,n)},mouseup:function(t,e,n){n.evtdata={type:"mouseup",phrase:2},c.mouseevent(t,e,n)},click:function(t,e,n){n.evtdata={type:"click",phrase:3},c.mouseevent(t,e,n)},data:{none:-999,entertime:0}}).data,c),n.exports=t}),GDTDefine("gdt:comm/proxy.js",function(i,t,e){var c=i("gdt:comm/comm.js"),n=function(t,e){this.name=t,this.version=(e=e||{}).ver||null,this.callbackkey="__shell_"+this.name,this.mockfuncs={},this.asyncmod=null,this.isMockClass=!!e.isMockClass,this.isMockClass&&(this.classFn=this.fshell(this.name,!0))};(n.prototype={getResource:function(t){},resourceCounter:0,prefetched:-1,prefetch:function(){},mock:function(){for(var t=0,e=Array.prototype.slice.call(arguments),n=e.length;t<n;t++)this[e[t]]=this.fshell(e[t]),this.mockfuncs[e[t]]=this[e[t]]},mockProto:function(){for(var t=0,e=Array.prototype.slice.call(arguments),n=e.length;t<n;t++)this.classFn.prototype[e[t]]=this.fshell(e[t])},extendMod:function(t){for(var e in this.mockfuncs)t[e]=this.mockfuncs[e]},getClass:function(){return this.classFn},fshell:function(r,i){return a=this,function(){var t,e=Array.prototype.slice.call(arguments),n=a.callbackkey,o=!a.isMockClass||a.isMockClass&&i?(t=a.isMockClass?this:a.asyncmod,function(){a.asyncmod[r].apply(t,e)}):(t=this,function(){a.asyncmod[a.name].prototype[r].apply(t,e)});0<a.prefetched?o():(c.fnQueue.add(n,o),a.prefetched<0&&a.prefetch())};var a},onReady:function(t){"function"==typeof t&&c.fnQueue.add(this.callbackkey,t)},execOnReady:function(){this.prefetched=1,c.fnQueue.execOnce(this.callbackkey)}}).prefetch=function(t){var e,n,o,r=0;if(this.prefetched<0)for(this.prefetched=0,n=(e=this.getResource(t))?e.length:0;r<n;r++)o=e[r][1],t&&(o=o.replace(/{VER}/g,t)),"js"===e[r][0]?e[r][1](function(e,n){return function(t){e.asyncmod=t,++e.resourceCounter>=n&&(e.execOnReady(),n=e=null)}}(this,n)):(i.loadCss(o),this.resourceCounter++)};n={Mshell:n,siDomain:c.siDomain};e.exports=n}),GDTDefine("gdt:comm/helper.js",function(t,e,n){var c=t("gdt:comm/comm.js"),o=t("gdt:comm/proxy.js"),r={},s=c.each;c.dom;r.__imgs=[],r.pingreq=function(e){setTimeout(function(){var t=new Image;t.src=e,r.__imgs.push(t)},0)},r.stripTag=function(t){return t=(t=(t=(t=t.replace(/\[url\]([^\[]+)\[\/url\]/g,"$1")).replace(/<br\s*\/>|<\/?[^>]*>/g,"")).replace(/<|>/g,"")).replace(/'/g,"&#39;")},r.ENV=function(){var t={};try{var e=c.fp;e&&0<e.location.host.indexOf("qzone.qq.com")&&"number"==typeof e.g_version&&(t.hosttype="qzone",t.hostver=e.g_version),e.QZONE&&e.QZONE.FP&&e.QZONE.FP.getUserVIPLevel&&(t.yellow=e.QZONE.FP.getUserVIPLevel(!0))}catch(t){}return t}(),r.clear=function(t){},r.genGTk=function(){var t=c.cookie.get("skey")||c.cookie.get("rv2");return c.genHash(t)},r.getbrowserInfo=function(n){var o;try{s(c.dom.ua,function(t,e){if(t&&n[e])return broswer=e+""+t,o=n[e],!1})}catch(t){}return{broswer:broswer,btype:o}};o=new o.Mshell("stat");o.getResource=function(){return[["js",function(e){t.async("gdt:mod/stat.js",function(t){e(t)})}]]},o.mock("sendStat","sendErrMsg","valueStat","closeOrder","pgvOrder","reportReqErr"),o.extendMod(r),r.filterManage=function(){function o(t){return t=(t?new Date(t):new Date).toDateString(),Date.parse(t)}var r={},n=c.getlocalStorage(c.fp);r._db={set:function(t,e){n&&n.setItem(t,e)},get:function(t){return n&&n.getItem(t)}};var i="_gdt_filter_date",a="_gdt_filter_data";return r.set=function(t){var e=r.get(),n=o();0<=("|"+e.join("|")+"|").indexOf("|"+t+"|")||(e.unshift(t),5<e.length&&e.length--,r._db.set(a,e.join("|")),r._db.set(i,n))},r.get=function(){var t=r._db.get(i),e=r._db.get(a),n=e?e.split("|"):[],e=o();return n=!t||o(+t)!=e?[]:n,s(n,function(t,e){n[e]=t+""}),n},r}(),r._webp=0,r.getWebPSupport=function(){return 1==r._webp};r.detectWebp=function(){var t,e;0<navigator.userAgent.indexOf("Chrome")&&(t=function(t){r._webp=t?1:0},(e=new Image).onerror=function(){t(!1)},e.onload=function(){t(1==e.width)},e.src="data:image/webp;base64,UklGRiwAAABXRUJQVlA4ICAAAAAUAgCdASoBAAEAL/3+/3+CAB/AAAFzrNsAAP5QAAAAAA==")},r.detectWebp(),n.exports=r}),GDTDefine("gdt:comm/data.js",function(s,t,e){var u=s("gdt:comm/comm.js"),l=(s("gdt:comm/helper.js"),{dm:{omap:{},dlist:{},clist:{}},init:function(t,e,n){l.dm.clist[t]=e,l.dm.dlist[t]=n},getPosData:function(t){var e=l.dm.dlist[t],t=l.dm.clist[t];if(e&&t)return{cfg:t,data:e}},getPosCfg:function(t){t=l.dm.clist[t];if(t)return t},getOrderData:function(t,e){var n,t=l.getPosData(t);if(t)for(var o=t.data,r=0,i=o.length;r<i;r++){var a=o[r];if(a.cl==e){n=a;break}}return n}}),p={};l.getDataAndPing=function(e,t,n,o){var r,i,a=l.getPosData(e),c=[];a&&(a=a.data,r=[],p[e]=p[e]||{},i=p[e],c=a.slice(t,t+n),u.each(c,function(t,e){i[t.cl]||(r.push(t.cl),i[t.cl]=1)}),r.length&&setTimeout(function(){s.async("gdt:comm/ping.js",function(t){t.view(e,r)})},0)),o&&o(c)},l.trimData=function(t,e){var a=e.playcfg;u.each(t,function(t,e){var n,o,r,i;t.cl=t.cl||t.id,t.ext&&(t.ext.appclass&&(t.appclass=t.ext.appclass),t.ext.appname&&(t.appname=t.ext.appname),(n=t.ext.alist)&&(!(r=n[2019])||(o=r.aid)&&t.txt&&(r.aid={url:t.rl,txt:t.txt},t.bqqdeal=1,t.txt="",t.orirl=t.rl,t.rl=o),(r=n[2016])&&r.aid&&r.aid.list&&r.aid.list.length&&t.txt&&(!a||1!=a[1039])&&(t.txt=""),(r=n[2023])&&(t.pcpush={appid:t.productid,canpush:!0,canhover:!0},r.aid&&r.aid.appname&&(r.aid.sendtipmsg="鎵嬫満鎺ユ敹搴旂敤")),i=[],u.each(n,function(t){i.push(t)}),t.alist=i))})},l.getPosCfgByKey=function(t,e,n){var o=n?(o=l.getOrderData(t,n))&&o.cfg:(o=l.getPosCfg(t))&&o.playcfg;return o&&o[e]},e.exports=l}),GDTDefine("gdt:comm/config.js",function(t,e,n){var o=t("gdt:comm/comm.js"),r={charset:"utf-8",cbname:"_bc",PINGWAITTIMEMAX:300,c:"2",MAXVIEWNUM:18,datadomain:"i.gdt.qq.com",datapath:"view.fcg",mdatadomain:"mi.gdt.qq.com",innerdomain:"ii.gdt.qq.com",mdatapath:"gdt_mview.fcg",innerdatapath:"gdt_inner_view"};r._curdatadomain=r.datadomain;t=o._protocal+r._curdatadomain+"/"+r.datapath+"?";r._burl=t,r._mburl=o._protocal+r.mdatadomain+"/"+r.mdatapath+"?",r._mbInnerUrl=o._protocal+r.innerdomain+"/"+r.innerdatapath+"?",r._xhrproxyurl=o._protocal+r._curdatadomain+"/ajaxproxy2.html",r._xhrdataurl=o._protocal+r._curdatadomain+"/dataproxy.html",r.expconf={PINGWAIT:"11030",PCPUSHTPL:"mapptpl"},r.setReqCgi=function(t){r._burl=t},setTimeout(function(){var t=o.getlocalStorage();r._full_stat=t&&t.getItem("_gdt_full_stat"),r._debugger=t&&t.getItem("_gdt_debugger")},0),n.exports=r}),GDTDefine("gdt:comm/ping.js",function(i,t,e){var o,r,a,c,s,u,l=i("gdt:comm/comm.js"),p=i("gdt:comm/helper.js"),d=i("gdt:comm/config.js"),f=i("gdt:comm/data.js"),m={};m.ping=(r=[],a=[],c={},s=[],u=0,{append:function(t,e){t&&t.apurl&&(r.push(t.apurl),c[t.cl]=e,a.push(t.cl),t.opurl&&s.push(t.opurl),t.apptrace&&s.push(t.apptrace))},appendClick:function(t){t.appclick&&p.pingreq(t.appclick)},flush:function(){var t,e=100*Math.random(),n=arguments.callee;if(0!==r.length){if(100<d.PINGWAITTIMEMAX){if(!o)return o=1,void setTimeout(function(){u=1,n()},100);if(!u)return;u=o=0}if(r.length<=1||e<1||d._full_stat)for(;0<r.length;)t=r.shift(),m.ping_vgdt(t);else m._postOrderView(r),r=[];for(;0<s.length;)t=s.shift(),p.pingreq(t);c={},a=[]}}}),m._gdtping=function(t){var e=f.getPosCfg(t);e&&e.playcfg&&!e.playcfg.noping&&m._viewpos(t,!0)},m.view=function(e,t){var n=l.getType(t);l.each(t="array"!=n?[t]:t,function(t){m._view(e,t)})},m._view=function(e,t,n){var o,r=f.getPosCfg(e);r&&r.playcfg&&!r.playcfg.noping&&!n||(o=f.getOrderData(e,t))&&(m.ping.append(o,e),m.ping.flush(),setTimeout(function(){i.async("gdt:comm/plugin.js",function(t){t.execLoadPlugin(e,"onExposure",{posId:e,orderdata:o})})},0))},m.viewpos=function(t){m._viewpos(t,!1)},m._viewpos=function(n,o){var t=f.getPosData(n),t=(t&&t.cfg&&t.cfg,t&&t.data?t.data:null);l.each(t,function(t,e){m._view(n,t.cl,o)})},m._postOrderView=function(t){var n,o=[];l.each(t,function(t){var e=t&&t.match(/viewid=([^&]*)/);!n&&t&&(n=t.substring(0,t.indexOf("?"))),e&&e[1]&&o.push(e[1])}),n=n||"http://v.gdt.qq.com/gdt_stats.fcg",l._isHttps&&(n=l.httpsUrl(n));for(var e;o.length;)e=o.splice(0,d.MAXVIEWNUM||1),m._batchview(n,e)},m.ping_vgdt=function(n){var t,o,r;n+="&datatype=jsonp",(t=new l.JSONGetter(n,null,null,"utf-8")).onSuccess=function(t){var e=1,e=0===t.ret?(o=1,r=11,300):(o=400<=t.ret?2:3,r=50+t.ret,100);p.valueStat(n,o,r,1,e,{urlext:"?ext"})},t.onError=function(){p.valueStat(n,3,50,1,1,{urlext:"?ext"})},t.send("_cb")};m._batchview=function(n,o){function r(t,n){var o=n?[]:{};return l.each(t,function(t,e){n?o.push("viewid"+e+"="+t):o["viewid"+e]=t}),n?o.push("count="+t.length):o.count=t.length,o}o.length<=3?p.pingreq(n+"?"+r(o,!0).join("&")):i.async("gdt:mod/stat.js",function(t){var e=r(o);e.datatype="jsonp",t._postdata(n,e)})},e.exports=m}),GDTDefine("gdt:comm/click.js",function(t,e,n){var c=t("gdt:comm/data.js"),s=t("gdt:comm/comm.js"),a=t("gdt:comm/ping.js"),u=t("gdt:comm/helper.js"),o=t("gdt:comm/proxy.js"),r=t("gdt:comm/anticheat.js"),l={setOrderLink:function(t){var r,e,n,i,a;"object"===s.getType(t=t||{})?(r=t.posId,e=t.orderId,n=t.linklist,i=t.openlink):(r=arguments[0],e=arguments[1],n=arguments[2]),"array"==s.getType(n)&&(a=c.getOrderData(r,e),s.each(n,function(e,t){var n,o;e&&1==e.nodeType&&(n=[r,a.cl,{openlink:i}],o=l.ClickManage,e.onclick=function(){return n[2].el=this,l._click.apply(null,n)},s.each(["mousedown","mouseup","mouseover"],function(t){e["on"+t]=function(){n[2].el=this,o[t].apply(null,n)}}),e.setAttribute("gdtoriurl",a._l),e.setAttribute("href",a._l),e.setAttribute("target","_blank"))}))},getOrderLink:function(t,e){var n="ClickManage",e=c.getOrderData(t,e),o="'"+t+"', '"+e.cl+"', {el: this}";return['onclick="return '+s.t+"._click( "+o+' );"','onmousedown="'+s.t+". "+n+".mousedown( "+o+' );"','onmouseup="'+s.t+". "+n+".mouseup( "+o+' );"','onmouseover="'+s.t+". "+n+".mouseover( "+o+' );"','href="'+e._l+'"','gdtoriurl="'+e._l+'"','target = "_blank"'].join(" ")},click:function(t,e,n){return l._click(t,e,n)},_click:function(t,e,n){var o=c.getOrderData(t,e);if(n=n||{},o){s.fire("beforeclick",{pid:t,oid:e,obj:n.el}),a.ping.appendClick(o);var r,i=o.rl;if(o.pcpush&&o.pcpush.canpush)u.pingreq(o.rl),l.dealPcpush(t,e,o.pcpush.appid,o),r=!1;else if(l.isLink(i))l.isLink(i)&&n.openlink&&(n=n.el?n.el.getAttribute("href"):i,l.openUrl(n,"_blank"),r=!1);else try{l._execln(i),r=!1}catch(t){}return s.fire("afterclick",{pid:t,oid:e,orderdata:o}),r}},isLink:function(t){return!/jtype=[12]/.test(t)}};l.ClickManage=r.ClickManage;o=new o.Mshell("linkMod");o.getResource=function(){return[["js",function(e){t.async("gdt:mod/link.js",function(t){e(t)})}]]},o.mock("dealPcpush","_openlink","openUrl","_execln"),o.extendMod(l),n.exports=l}),GDTDefine("gdt:comm/load.js",function(a,t,e){var d,f=a("gdt:comm/comm.js"),c=a("gdt:comm/helper.js"),o=a("gdt:comm/config.js"),s=a("gdt:comm/data.js"),m={},g={},h=0,v={},y={},_=0,x=0,b={},T=[];m._getCallConf=function(t){return g[t]},m._clearCallConf=function(){b={},T=[],_=x=0},m._mload=function(t){var e=T,n=_,o=x,r=b;m._clearCallConf();var i=t.length;f.each(t,function(t,e){t.poscount=i,m._realload(t)}),T=e,_=n,x=o,b=r},m._dealpos=function(t,e){var n=g[t];n&&n._dataret?(n=s.getPosData(t))?(n.ret=!0,e(n)):e({ret:!1}):f.on("aftercomplete"+t,e)},m.dataUrl={get:function(t,n){var r,i,a={adposcount:t.length,posid:[],count:[],curpage:[]},c={},s={};f.each(t,function(t,e){var o=n[t]||{};i=["siteset","cur","adposcount","adid","adloc"],f.each(i,function(t){delete o[t]}),a.posid.push(t),a.count.push(o.count||1),delete o.count,a.curpage.push(o.req&&o.req.curpage||0),f.each(o,function(t,e){"u_"==e.substr(0,2)&&(r=e.substr(2),c[r]=t,delete o[e])});t=function(t,n){var e=o[t];e&&(f.each(e,function(t,e){n[e]||(n[e]=t)}),delete o[t])};t("req",a),t("common",c),o.appid&&(c.appid=o.appid,a.appid=o.appid,delete o.appid),s[e+""]=o}),f.fire("gatherparams",{extreq:c,req:a}),a.posid=a.posid.join("|"),a.count=a.count.join("|");t=a.curpage.join("|");return delete a.curpage,/[1-9]/.test(t)&&(a.curpage=t),a.ext=encodeURIComponent(f.JSONToString({req:c,pos:s})),a.qz_caller="qzfl_jg",a._r=Math.ceil(1e6*Math.random()),o._burl+f.getObjectToStringFn("=","&",!1,!1)(a)}},m._get=function(){function e(t){var e={};return e.posId=t[0],e.container=t[1],e.onComplete=t[4],e.context=t[5],e.count=e.context&&e.context.count||1,e}var n,t=Array.prototype.slice.call(arguments);"array"==f.getType(t[0])?(n=[],f.each(t[0],function(t){n.push(e(t))}),m._loadreq(n)):m._loadreq(e(t))},m._load=function(t){m._loadreq(t)},m._loadreq=function(){var t=Array.prototype.slice.call(arguments);setTimeout(function(){m._realload.apply(null,t)},0)},m._realload=function(t){var e,n,o,r,i,a,c,s,u,l=t,p={};"array"!=f.getType(l)?(n={pid:a=t.posId,container:t.container,callback:t.onComplete,opts:t},(e=t.context||{}).count=t.count||1,g[a]=n,f.fire("beforeload",{posId:a}),_=_||t.poscount||1,T.push(a),y[a]=h,x++,e&&(e.appid,b[a]=e),d=p.timeout||d,_!=x&&1!=_||(i={url:o=m.dataUrl.get(T,b),plist:T},f.fire("beforerequest",i),o=i.url,a=+new Date,s=T,u=a,r=function(t,e){if(e=e||{},s){try{f.each(s,function(t,e){var n=g[t];g[t]=null,m.dealcallback(t,n,{ret:!1})})}catch(t){}m.onerror&&m.onerror(t,u,s,e),s=null}},v[h]=_,h++,m._clearCallConf(),c=a,p=function(t){try{m.reqcallback(t,r,c)}catch(t){r(14)}},i=function(t){r(51,{err:t})},a=function(t){r(50,{err:t})},m.getter(o,p,i,{timeout:d,onTimeout:a})),f.fire("postget",n,e)):m._mload(l)},m.getter=function(e,n,o,r){a.async("gdt:comm/net.js",function(t){t.getter(e,n,o,r)})},m.onerror=function(t,e,n,o){c.sendStat(t,e,n,o)},m.reqcallback=function(t,e,r){var i;t&&0==t.ret&&t.data?f.each(t.data,function(t,e){var n=!1,o={};try{o.list=[],0==t.ret?(n=!0,i=11,o.list=t.list||[t],o.cfg=o.list.cfg=t.cfg,t.html&&(o.html=t.html),t.template&&(o.template=t.template)):(i=12,o.cfg={}),o.cfg.p=e,m.callback(o),c.sendStat(i,r,[e])}catch(t){i=n?16:13,setTimeout(function(){m.onerror(i,r,[e])},0),c.reportReqErr(t,e,n)}}):e(i=t&&t.ret?63==(i=(i=t.svr&&t.svr.status||t.rpt)||52)?15:i:53)},m.callback=function(n){var o=n.cfg;o.playcfg&&f.mix(o,o.playcfg);var r=o.p,t=y[r];v[t]--;var i=g[r];i&&(i._dataret=!0,0!=n.list.length?(s.trimData(n.list,o),o.id=r,o.container=i.container,s.init(r,o,n.list),f.fire("beforerender",{pid:r,pconf:o,data:n.list,html:n.html,template:n.template}),a.async("gdt:comm/render.js",function(t){t.render(r,function(t){var e=arguments.callee;e._runed||(m.dealcallback(r,i,{ret:t,data:n.list,cfg:o,html:n.html,template:n.template}),e._runed=!0)})})):m.dealcallback(r,i,{ret:!1}))},m.dealcallback=function(t,e,n){var o=y[t];0==v[o]&&a.async("gdt:comm/ping.js",function(t){t.ping.flush()}),e&&(e.callback&&e.callback(n),f.fire("aftercomplete"+t,n))},e.exports=m}),GDTDefine("gdt:comm/net.js",function(require,exports,module){var comm=require("gdt:comm/comm.js"),helper=require("gdt:comm/helper.js"),config=require("gdt:comm/config.js"),NMod={getter:function(t,e,n,o){var r,i=15e3;o=o||{},(r=parseInt(o.timeout,10))&&2500<r&&(i=r),t+="&charset=utf8&datafmt=jsonp",o.forcescript?NMod._normalgetter(t,e,n,{timeout:i,onTimeout:o.onTimeout}):setTimeout(function(){NMod.xhrgetter(t,e,n,{timeout:i,onTimeout:o.onTimeout})},0)},_normalgetter:function(t,e,n,o){var r=config.charset||"GB2312",i=config.cbname||"_bc",r=new comm.JSONGetter(t,null,null,r);r.timeout=o.timeout,r.onSuccess=e,r.onError=n,r.onTimeout=o.onTimeout,r.send(i)}},supportlv2=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;NMod._ishostSupportxhr=function(){var t,e=!1;try{"qq.com"!==(t=(t=location.hostname).split(".").slice(-2).join("."))&&"paipai.com"!==t&&"gtimg.cn"!==t||(e=!0)}catch(t){}return e},NMod.xhrgetter=function(t,e,n,o){document.domain;var r,i="http://i.gdt.qq.com/view.fcg?xhr2";if(o=o||{},r=NMod._ishostSupportxhr()?helper.genGTk():"",supportlv2&&NMod._ishostSupportxhr())return r&&(t+="&g_tk="+r),comm.xhr(t,function(t){NMod._decodexhrjson(t.resp,e,n)},function(t){n(t),t&&t.exception&&598==t.status&&helper.sendErrMsg(t.exception,location.href+"&gxhr","",{extra:"get xhr transport error",rate:100})},o),void helper.valueStat(i,1,11,1,500);o.forcescript=!0,NMod._normalgetter(t,e,n,o),helper.valueStat(i,1,12,1,500)},NMod._decodexhrjson=function(resp,callback,ecb){var obj,respstr=resp;try{"{"!=respstr.slice(0,1)&&(respstr=respstr.substring(resp.indexOf("(")+1,respstr.lastIndexOf(")"))),obj=eval("("+respstr+")")}catch(e){var msg="json decode error";ecb({ret:60,msg:msg,status:60}),helper.sendErrMsg(e,location.href+"&gxhr","",{extra:msg,rate:50,resp:resp})}obj&&callback(obj)},module.exports=NMod}),GDTDefine("gdt:comm/plugin.js",function(r,t,e){var i=r("gdt:comm/comm.js"),a=r("gdt:comm/helper.js"),o=r("gdt:comm/config.js"),c=r("gdt:comm/click.js"),s=r("gdt:comm/data.js"),u={_beforeclick:function(t){var e=t.pid,n=t.oid,o=t.obj,t=s.getOrderData(e,n);t&&t.productid&&4==t.producttype&&a.filterManage.set(t.productid),t.bqqdeal&&a.pingreq(t.orirl),o&&c.ClickManage.click(e,n,{el:o})},_fixDataURL:function(n,t){return r.async("gdt:comm/load.js",function(e){t&&i.each(t,function(t){t=e._getCallConf(t);t&&t.opts&&"mobile"==t.opts.platform&&(n=t.opts.tempContext&&t.opts.tempContext.common&&25==t.opts.tempContext.common.site_set?n.replace(o._burl,o._mbInnerUrl):n.replace(o._burl,o._mburl))})}),n}};i.on("gatherparams",function(t){var e=t.extreq,n=t.req,o=a.filterManage.get();o&&0<o.length&&(e.filter={app:o});t=window.screen;e.rst=t.width+"*"+t.height;o=a.ENV;void 0===e.hosttype&&void 0!==o.hosttype&&(e.hosttype=o.hosttype,e.hostver=o.hostver+""),void 0===e.yellow&&void 0!==o.yellow&&(e.yellow=o.yellow);var t=i.getUrlParam;(o=t("_gdtoid"))&&(e.aid=o),(o=t("adid"))&&(n.adid=o),(t=t("adloc"))&&(n.adloc=t),a.getWebPSupport()&&(e.webp="1")}),i.on("beforeclick",function(t){u._beforeclick(t)}),i.on("afterclick",function(t){var e=t.pid,t=t.orderdata;u.execLoadPlugin(e,"onClick",{posId:e,orderdata:t})});function l(t){return t.replace("http://analy.qq.com/cgi-bin/apptrace","https://h5.qzone.qq.com/proxy/domain/analy.qq.com/cgi-bin/apptrace")}i.on("beforerender",function(t){var o=t.pid,t=(t.pconf,t.data);i.each(t,function(t,e){var n=t.cl;t._l=c.isLink(t.rl)?t.rl:"javascript:;",t.olink=c.getOrderLink(o,n),i._isImageHttps&&t.img&&(t.img=i.httpsUrl(t.img)),i._isHttps&&t.apurl&&(t.apurl=i.httpsUrl(t.apurl)),i._isApptraceHttps&&(t.apptrace&&(t.apptrace=l(t.apptrace)),t.appclick&&(t.appclick=l(t.appclick)))}),r.async("gdt:comm/ping.js",function(t){t._gdtping(o)})}),i.on("beforerequest",function(t){var e=t.url,n=t.plist,e=u._fixDataURL(e,n);u.fixDataURL&&(e=u.fixDataURL(e)),t.url=e,setTimeout(function(){r.async("gdt:mod/asynload.js",function(t){t.init({url:e})})},100)}),i.on("beforeload",function(t){t=t.posId;u.execLoadPlugin(t,"onBeforeLoad")}),u.execLoadPlugin=function(e,n,o){r.async("gdt:comm/load.js",function(t){t=t._getCallConf(e);t&&t.opts&&t.opts[n]&&t.opts[n](o)})},e.exports=u}),GDTDefine("gdt:comm/render.js",function(t,e,n){var o=t("gdt:comm/comm.js"),i=(t("gdt:comm/ping.js"),t("gdt:comm/data.js")),r={},a=o.each;r.render=function(t,e){var n=i.getPosData(t);r.dealCfg(n.cfg),n=n.cfg.playmode,(n=s.get(n))?n.render(t,e):e(!0)},r.dealCfg=function(t){t.playmode=3==t.playmod?"default":"npdata"};var c={};r.DisplayFactory={reg:function(t,e){c[t]=e},get:function(t){return c[t]}};var s=r.DisplayFactory;r.DisplayBase={render:function(t,e){return this.preRender(t),this.doRender(t,e)},preRender:function(){},doRender:function(){}};var u;function l(t,e){t=o.mix({},u,t),s.reg(e,t)}r.setNoPingDisplayer=(u=r.DisplayBase,function(t){a(t,l)}),r.setNoPingDisplayer({default:{doRender:function(o,r){t.async("gdt:mod/defaultrender.js",function(t){var e=t.renderHelper,n=i.getPosData(o),t=n.data,n=n.cfg;n.pid=o,e.render(n,t,r)})}}}),n.exports=r}),GDTDefine("gdt:main.js",function(p,t,e){!function(){var t=p("gdt:comm/comm.js"),e=p("gdt:comm/helper.js"),n=p("gdt:comm/config.js"),o=p("gdt:comm/data.js"),r=p("gdt:comm/render.js"),i=p("gdt:comm/load.js"),a=p("gdt:comm/ping.js"),c=p("gdt:comm/click.js"),s=p("gdt:comm/plugin.js"),u=p("gdt:comm/proxy.js"),l=new u.Mshell("snsmod");l.getResource=function(){return[["js",function(e){p.async("gdt:mod/sns.js",function(t){e(t)})}]]},l.mock("like","share","getPageLike","getFriendApp","getBqqExt","_dealExt","loadExtrender","renderExt","bindPcpushhover","_wrapnickname","_trimnickname");u=new u.Mshell("Poller",{isMockClass:!0});u.getResource=function(){return[["js",function(e){p.async("gdt:mod/poller.js",function(t){e(t)})}]]},u.mockProto("play","pollPlay","setCurPoll","setFrame","setCurrentState","setFrame","pause","goon","clear");u=u.getClass();t.mix(GDT,t),t.mix(GDT,e),t.mix(GDT,n),t.mix(GDT,o),t.mix(GDT,r),t.mix(GDT,i),t.mix(GDT,a),t.mix(GDT,c),t.mix(GDT,s),l.extendMod(GDT),GDT.Poller=u}()}),GDT.initLib=main}();

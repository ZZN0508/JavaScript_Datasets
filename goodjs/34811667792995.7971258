var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Kakao=e()}(function(){return function r(i,o,a){function s(t,e){if(!o[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}n=o[t]={exports:{}};i[t][0].call(n.exports,function(e){return s(i[t][1][e]||e)},n,n.exports,r,i,o,a)}return o[t].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){var r,i,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,u=[],l=!1,p=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&f())}function f(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||l||s(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],2:[function(c,e,u){!function(e,t){var r=c("process/browser.js").nextTick,n=Function.prototype.apply,i=Array.prototype.slice,o={},a=0;function s(e,t){this._id=e,this._clearFn=t}u.setTimeout=function(){return new s(n.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new s(n.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(e){e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},u.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},u._unrefActive=u.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},u.setImmediate="function"==typeof e?e:function(e){var t=a++,n=!(arguments.length<2)&&i.call(arguments,1);return o[t]=!0,r(function(){o[t]&&(n?e.apply(null,n):e.call(null),u.clearImmediate(t))}),t},u.clearImmediate="function"==typeof t?t:function(e){delete o[e]}}.call(this,c("timers").setImmediate,c("timers").clearImmediate)},{"process/browser.js":1,timers:2}],3:[function(e,t,n){function r(){return"Bearer "+o.getAccessToken()}function i(){return"KakaoAK "+o.getAppKey()}var o;t.exports={accessToken:r,appKey:i,tokenOrKey:(o=e("../Auth/secret")).getAccessToken()?r:i}},{"../Auth/secret":15}],4:[function(e,t,n){var r,i;t.exports=(r=e("../common"),i=[],r.initSubModules(t={},[e("./request")(i)]),t.cleanup=function(){r.emptyCleanups(i)},t)},{"../common":39,"./request":5}],5:[function(e,t,n){t.exports=function(n){e("../../vendor/es6-promise");var i=e("../../vendor/easyXDM"),c=e("../util"),u=e("../common"),l=e("./rules"),p=e("./authType"),o=null;return{request:function(r){var e=(r=u.processRules(r,l.request,"API.request")).url,t=l.api[e].data;return t&&(r.data=u.processRules(r.data,t,"API.request - "+e)),o||(o=u.guardCreateEasyXDM(function(){return new i.Rpc({remote:u.URL.apiRemote},{remote:{request:{}}})}),n.push(function(){o.destroy(),o=null})),new Promise(function(t,n){!function(n){var o=n.url,e=l.api[o],a={};c.each(n.data,function(e,t){a[t]=c.isString(e)?e:JSON.stringify(e)});var s={url:o,method:e.method,headers:{KA:u.KAKAO_AGENT,Authorization:(e.authType||p.accessToken)(),"Cache-Control":"no-cache",Pragma:"no-cache"},data:a};return new Promise(function(r,t){if("/v1/api/story/upload/multi"===o||"/v2/api/talk/message/image/upload"===o||n.data.file){var e=n.files||n.data.file;if(!e)throw new u.KakaoError("'files' parameter should be set for "+o);i=c.map(e,function(t){return u.serializeFile(t).then(function(e){return{name:t.name,type:t.type,str:e}})}),new Promise(function(t,n){Promise.all(i).then(function(e){t({paramName:"file",data:e})},function(e){n(e)})}).then(function(e){var t,n=[];for(t in a)"file"!==t&&n.push(t+"="+encodeURIComponent(a[t]));0<n.length&&(s.url+="?"+n.join("&")),s.file=e,r(s)},function(e){t(e)})}else r(s);var i})}(r).then(function(e){o.request(e,function(e){r.success(e),r.always(e),t(e)},function(e){e=function(e){try{return u.logDebug(e),JSON.stringify(e.message.responseText)}catch(e){return{code:-777,msg:"Unknown error"}}}(e);r.fail(e),r.always(e),n(e)})},function(e){n(e)})})}}}},{"../../vendor/easyXDM":46,"../../vendor/es6-promise":47,"../common":39,"../util":43,"./authType":3,"./rules":6}],6:[function(e,t,n){function r(e){if(!o.isString(e))return!1;if(0===e.length||2048<e.length)throw new _k.KakaoError("content length should be between 0 and 2048");return!0}function i(e){return(e.header_image_url||e.header_image_width||e.header_image_height)&&(delete e.header_image_url,delete e.header_image_width,delete e.header_image_height,console&&console.warn("KakaoWarning: The parameters ("+["header_image_url","header_image_width","header_image_height"].join(", ")+") for header background image are deprecated.")),!0}var o,a,s,c;t.exports=(o=e("../util"),a=e("./authType"),s={permission:o.isOneOf(["A","F","M"]),enable_share:o.isBoolean,android_exec_param:o.isString,ios_exec_param:o.isString,android_market_param:o.isString,ios_market_param:o.isString},t={secure_resource:o.isBoolean},e=function(e){!1===e.secure_resource&&(console&&console.warn("KakaoWarning: The secure_resource parameter is deprecated."),e.secure_resource=!0)},c={request:{required:{url:function(e){return o.isOneOf(o.keys(c.api))(e)}},optional:{data:o.isObject,files:function(e){return o.passesOneOf([o.isArray,o.isFileList])(e)&&o.every(e,o.passesOneOf([o.isFile,o.isBlob]))},file:o.isFile,success:o.isFunction,fail:o.isFunction,always:o.isFunction},defaults:{data:{},success:o.emptyFunc,fail:o.emptyFunc,always:o.emptyFunc}},api:{"/v1/user/signup":{method:"post",data:{optional:{properties:o.isObject}}},"/v1/user/unlink":{method:"post"},"/v2/user/me":{method:"get",data:{optional:o.extend({property_keys:o.isArray},t)}},"/v1/user/logout":{method:"post",data:{}},"/v1/user/update_profile":{method:"post",data:{required:{properties:o.isObject}}},"/v2/user/scopes":{method:"get",data:{optional:{scopes:o.isArray}}},"/v2/user/revoke/scopes":{method:"post",data:{required:{scopes:o.isArray}}},"/v1/api/talk/profile":{method:"get",data:{optional:t,after:e}},"/v2/api/talk/memo/send":{method:"post",data:{required:{template_id:o.isNumber},optional:{template_args:o.isObject}}},"/v2/api/talk/memo/scrap/send":{method:"post",data:{required:{request_url:o.isString},optional:{template_id:o.isNumber,template_args:o.isObject}}},"/v2/api/talk/memo/default/send":{method:"post",data:{required:{template_object:function(e){return o.isObject(e)&&i(e)}}}},"/v1/api/story/profile":{method:"get",data:{optional:t}},"/v1/api/story/isstoryuser":{method:"get"},"/v1/api/story/mystory":{method:"get",data:{required:{id:o.isString}}},"/v1/api/story/mystories":{method:"get",data:{optional:{last_id:o.isString}}},"/v1/api/story/linkinfo":{method:"get",data:{required:{url:o.isString}}},"/v1/api/story/post/note":{method:"post",data:{required:{content:r},optional:s}},"/v1/api/story/post/photo":{method:"post",data:{required:{image_url_list:function(e){return!!o.isArray(e)&&o.every(e,function(e){if(!o.isString(e))return!1;if(o.isURL(e))throw new _k.KakaoError("url in image_url_list should be a kage url, obtained from '/v1/api/story/upload/multi'.");return!0})}},optional:o.extend({content:r},s)}},"/v1/api/story/post/link":{method:"post",data:{required:{link_info:o.isObject},optional:o.extend({content:r},s)}},"/v1/api/story/upload/multi":{method:"post",data:{}},"/v1/api/story/delete/mystory":{method:"delete",data:{required:{id:o.isString}}},"/v1/emoticon/my_items":{method:"get",data:{},authType:a.appKey},"/v1/emoticon/item_resources":{method:"get",data:{required:{id:o.isString}},authType:a.appKey},"/v2/emoticon/items":{method:"get",authType:a.tokenOrKey},"/v2/emoticon/item":{method:"get",data:{required:{id:o.passesOneOf([o.isNumber,o.isString])}},authType:a.tokenOrKey},"/v2/emoticon/item_resources":{method:"get",authType:a.tokenOrKey},"/v2/emoticon/item_resource":{method:"get",data:{required:{id:o.passesOneOf([o.isNumber,o.isString])}},authType:a.tokenOrKey},"/v2/api/kakaolink/talk/template/validate":{method:"get",data:{required:{link_ver:o.isString,template_id:o.isNumber},optional:{template_args:o.isObject}},authType:a.appKey},"/v2/api/kakaolink/talk/template/scrap":{method:"get",data:{required:{link_ver:o.isString,request_url:o.isString},optional:{template_id:o.isNumber,template_args:o.isObject}},authType:a.appKey},"/v2/api/kakaolink/talk/template/default":{method:"get",data:{required:{link_ver:o.isString,template_object:o.isObject}},authType:a.appKey},"/v1/user/access_token_info":{method:"get",data:{}},"/v2/api/talk/message/image/upload":{method:"post",data:{required:{file:o.isObject}},authType:a.appKey},"/v2/api/talk/message/image/delete":{method:"delete",data:{required:{image_url:o.isString}},authType:a.appKey},"/v2/api/talk/message/image/scrap":{method:"post",data:{required:{image_url:o.isString}},authType:a.appKey},"/v1/vision/face/detect":{method:"post",data:{optional:{file:o.isObject,image_url:o.isString,threshold:o.isNumber}},authType:a.appKey},"/v1/vision/product/detect":{method:"post",data:{optional:{file:o.isObject,image_url:o.isString,threshold:o.isNumber}},authType:a.appKey},"/v1/vision/thumbnail/crop":{method:"post",data:{required:{width:o.isInteger,height:o.isInteger},optional:{file:o.isObject,image_url:o.isString}},authType:a.appKey},"/v1/vision/thumbnail/detect":{method:"post",data:{required:{width:o.isInteger,height:o.isInteger},optional:{file:o.isObject,image_url:o.isString}},authType:a.appKey},"/v1/vision/multitag/generate":{method:"post",data:{optional:{file:o.isObject,image_url:o.isString}},authType:a.appKey},"/v1/vision/adult/detect":{method:"post",data:{optional:{file:o.isObject,image_url:o.isString}},authType:a.appKey},"/v1/vision/text/detect":{method:"post",data:{optional:{file:o.isObject}},authType:a.appKey},"/v1/vision/text/recognize":{method:"post",data:{optional:{file:o.isObject,boxes:o.passesOneOf([o.isString,o.isArray])}},authType:a.appKey},"/v1/translation/translate":{method:"post",data:{required:{query:o.isString,src_lang:o.isString,target_lang:o.isString}},authType:a.appKey},"/v1/user/service/terms":{method:"get"},"/v1/user/shipping_address":{method:"get",data:{optional:{address_id:o.isNumber,from_updated_at:o.isNumber,page_size:o.isNumber}}},"/v1/api/talk/plusfriends":{method:"get",data:{optional:{plus_friend_public_ids:o.isArray}}},"/v1/api/talk/channels":{method:"get",data:{optional:{channel_public_ids:o.isArray}}},"/v1/friends":{method:"get",data:{optional:o.extend({offset:o.isNumber,limit:o.isNumber,order:o.isString,friend_order:o.isString},t),after:e}},"/v1/api/talk/friends":{method:"get",data:{optional:o.extend({offset:o.isNumber,limit:o.isNumber,order:o.isString},t),after:e}},"/v1/api/talk/friends/message/send":{method:"post",data:{required:{template_id:o.isNumber,receiver_uuids:o.isArray,receiver_id_type:o.isString},optional:{template_args:o.isObject},defaults:function(){return{receiver_id_type:"uuid"}}}},"/v1/api/talk/friends/message/scrap/send":{method:"post",data:{required:{request_url:o.isString,receiver_uuids:o.isArray,receiver_id_type:o.isString},optional:{template_id:o.isNumber,template_args:o.isObject},defaults:function(){return{receiver_id_type:"uuid"}}}},"/v1/api/talk/friends/message/default/send":{method:"post",data:{required:{template_object:function(e){return o.isObject(e)&&i(e)},receiver_uuids:o.isArray,receiver_id_type:o.isString},defaults:function(){return{receiver_id_type:"uuid"}}}}}})},{"../util":43,"./authType":3}],7:[function(e,t,n){t.exports={checkAuthorize:function(e,t){var n,r,i,o,a;r=t,t=(n={method:"GET",url:e}).url,e=n.method,o=n.data,void 0!==(a=new XMLHttpRequest).withCredentials?(a.open(e,t),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&200===a.status&&r(a)},a.send(o)):((i=new XDomainRequest).open(e.toLowerCase(),t),i.onload=function(){r({status:i.responseText?200:"error",response:i.responseText})},setTimeout(function(){i.send(o)},0))}}},{}],8:[function(e,t,n){var r,i;t.exports=(r=e("../util"),i=e("../common"),{openLoginPopup:function(e){var t;return i.windowOpen(e,"_blank",(t=window.screenLeft||window.screenX||0,e=window.screenTop||window.screenY||0,["width=480","height=700","left="+(screen.width/2-240+t),"top="+(screen.height/2-350+e),"scrollbars=yes","resizable=1"].join(",")))},makeAuthUrl:function(e){return i.URL.authorize+"?"+r.buildQueryString(e)},makeAuthParams:function(e){var t={client_id:i.RUNTIME.appKey};return e.approvalType&&(t.approval_type=e.approvalType),e.scope&&(t.scope=e.scope),e.state&&(t.state=e.state),t},makeAuthExtraParams:function(e){var t={};return e.plusFriendPublicId&&(t["extra.plus_friend_public_id"]=e.plusFriendPublicId),e.channelPublicId&&(t.channel_public_id=e.channelPublicId),e.serviceTerms&&(t["extra.service_terms"]=e.serviceTerms),e.autoLogin&&(t.prompt="none"),e.reauthenticate&&(t.prompt="login"),e.prompts&&(t.prompt=e.prompts),e.deviceType&&(t.device_type=e.deviceType),t},runAuthCallback:function(e,t){i.logDebug(t),t.error?e.fail(t):e.success(t),e.always(t)}})},{"../common":39,"../util":43}],9:[function(e,t,n){var r,i;t.exports=(r=e("../common"),i=[],r.initSubModules(t={},[e("./oauth"),e("./login")(i),e("./secret")]),t.cleanup=function(){r.emptyCleanups(i)},t)},{"../common":39,"./login":11,"./oauth":12,"./secret":15}],10:[function(e,t,n){var o,a,s,c,u,l;t.exports=(a=e("../common"),s="_blank",c="width=380, height=520, scrollbars=yes",u=/Version\/4.0/i.test(a.UA.ua)||/; wv\)/i.test(a.UA.ua),l=/naver\(inapp|fb_iab|daumapps|instagram|ebay/g.test(a.UA.ua),{isSupport:function(){if(a.UA.os.ios){var e=/safari|FxiOS|CriOS/.test(a.UA.ua),t=!/KAKAOTALK/i.test(a.UA.ua);return e||t}return!!a.UA.os.android&&a.UA.browser.chrome&&!/opr\//i.test(a.UA.ua)&&30<=a.UA.browser.version.major&&(!u||l)},login:function(e,t,n,r){var i;if(this.isSupport())return a.UA.os.ios?(n.state=e,i=[a.URL.talkLoginScheme,"?","client_id="+a.RUNTIME.appKey,"&","redirect_uri="+a.URL.redirectUri,"&","params="+encodeURIComponent(JSON.stringify(n))].join(""),r?location.href=a.URL.universalKakaoLink+encodeURIComponent(i)+"&web="+encodeURIComponent(t):o=a.windowOpen(a.URL.universalKakaoLink+encodeURIComponent(i)+"&web="+encodeURIComponent(t),s,c)):a.UA.os.android&&(i=t,i=["intent:#Intent","action=com.kakao.talk.intent.action.CAPRI_LOGGED_IN_ACTIVITY","launchFlags=0x08880000","S.com.kakao.sdk.talk.appKey="+a.RUNTIME.appKey,"S.com.kakao.sdk.talk.redirectUri="+a.URL.talkLoginRedirectUri,"S.com.kakao.sdk.talk.state="+e,"S.com.kakao.sdk.talk.kaHeader="+a.KAKAO_AGENT,"S.com.kakao.sdk.talk.extraparams="+encodeURIComponent(JSON.stringify(n)),"S.browser_fallback_url="+encodeURIComponent(i),"end;"].join(";"),r?location.href=i:40<a.UA.browser.version.major&&(!u||l)?o=a.windowOpen(i,s,c):(o=a.windowOpen("",s,c))&&(o.addEventListener("unload",function(){setTimeout(function(){o&&o.location&&(o.location.href=t)},10)}),o.location.href=i)),o},hasWebLoginWindow:function(){try{return!(!o||!o.location||"about:blank"==o.location.href)&&(!a.UA.os.android||!!o.location.href)}catch(e){return!0}}})},{"../common":39}],11:[function(t,e,n){e.exports=function(o){var a=t("../util"),s=t("../common"),c=t("../eventObserver"),u=t("../webviewchecker")(),l=t("../browserProxy.js").getOrigin(),p=t("../poller")(1e3,600),i=t("./rules"),d=t("./common"),f=t("./proxy"),n=t("./secret"),m=t("./kakaotalk"),r="kakaojs";function h(e){var t,i,n,r=a.getRandomString()+a.getRandomString();m.isSupport()&&e.throughTalk?b(e,r):e.redirectUri?location.href=A(e):u.isNewerAndroidKakaoTalkWebView()?(t=a.extend({},d.makeAuthParams(e),d.makeAuthExtraParams(e),{redirect_uri:s.URL.talkLoginRedirectUri,response_type:"code",state:r,ka:s.KAKAO_AGENT,origin:l}),b(e,r,d.makeAuthUrl(t))):(s.UA.browser.msie&&parseInt(s.UA.browser.version.major)<=9||(i=e,n=function e(t){var n,r=t.origin,t=t.data;/\.kakao\.com$/.test(r)&&t&&"string"==typeof t&&"postResponse"===(n=t.split(" "))[1]&&(n=JSON.parse(decodeURIComponent(n[2])),O(i,n),a.removeEvent(window,"message",e))},a.addEvent(window,"message",n),o.push(function(){a.removeEvent(window,"message",n)})),r=S(e,r),d.openLoginPopup(r)),c.dispatch("LOGIN_START")}var g=null,y=function(){g&&g.close&&g.close(),g=null},v=null,k=null;function b(t,e,n){v||(v=f.getProxy({},function(e){"error"!==e.status||"500"!==e.error_code&&"600"!==e.error_code&&"700"!==e.error_code||(p.stop(),"700"===e.error_code&&(location.href=s.URL.authDomain+"/error/network"),O(t,{error:e.error,error_description:e.error_description})),e.status?"ok"===e.status?(p.stop(),k!==e.code&&(k=e.code,v.getAccessToken(e.code,s.RUNTIME.appKey,s.UA.os.ios&&!n?s.URL.redirectUri:s.URL.talkLoginRedirectUri,t.approvalType),y())):s.UA.os.ios&&"about:blank"===g.location.href&&y():O(t,e)}),o.push(function(){v.destroy(),v=null}));var r,i="";n?t.redirectUri?location.href=n:d.openLoginPopup(n):(i=t.redirectUri?A(t):S(t,e,s.UA.os.ios?s.URL.redirectUri:s.URL.talkLoginRedirectUri),r=a.extend({},d.makeAuthParams(t),d.makeAuthExtraParams(t)),setTimeout(function(){g=m.login(e,i,r,t.redirectUri)},500)),p.start(function(){e&&v.getCode(e,s.RUNTIME.appKey,s.KAKAO_AGENT)},function(){O(t,{error:"timeout",description:"Account login timed out. Please login again.",error_description:"Account login timed out. Please login again."}),t.redirectUri?location.href=i:d.openLoginPopup(i)})}var _=null,w={};function S(e,t,n){_||(_=f.getProxy({},function(e){O(x(e,w),e)}),o.push(function(){_.destroy(),_=null}));n=(w[t]=e).redirectUri?e.redirectUri:n||r,t=a.extend({},d.makeAuthParams(e),d.makeAuthExtraParams(e),{redirect_uri:n,response_type:"code",state:t,proxy:"easyXDM_Kakao_"+_.channel+"_provider",ka:s.KAKAO_AGENT,origin:l});return d.makeAuthUrl(t)}function A(e){e=a.extend({},d.makeAuthParams(e),d.makeAuthExtraParams(e),{redirect_uri:e.redirectUri,response_type:"code",ka:s.KAKAO_AGENT,origin:l});return d.makeAuthUrl(e)}function x(e,t){if(!a.has(t,e.stateToken))throw new s.KakaoError("security error: #CST2");var n=t[e.stateToken];return delete t[e.stateToken],delete e.stateToken,n}function O(e,t){t.error?"access_denied"!==t.error&&n.setAccessToken(null):(n.setAccessToken(t.access_token,e.persistAccessToken),c.dispatch("LOGIN")),d.runAuthCallback(e,t)}var e=null,T=null,I={};return{createLoginButton:function(e){e=s.processRules(e,i.createLoginButton,"Auth.createLoginButton");var t=a.getElement(e.container);if(!t)throw new s.KakaoError("container is required for Kakao login button: pass in element or id");var n="medium"===e.size?"02":"small"===e.size?"03":"01",r=s.URL.authDomain+"/public/widget/login/"+e.lang+"/"+e.lang+"_"+n+"_medium",n=r+".png";t.innerHTML='<img\n      id="kakao-login-btn"\n      src='+n+"\n      onmouseover=this.src='"+(r+"_press.png")+"'\n      onmouseout=this.src='"+n+'\'\n      style="cursor: pointer"\n    />',t.onclick=function(){h(e)}},login:function(e){h(e=s.processRules(e,i.login,"Auth.login"))},loginForm:function(e){e=s.processRules(e,i.login,"Auth.loginForm");var t=a.getRandomString()+a.getRandomString(),n="&prompt=login";e.redirectUri?location.href=A(e)+n:(n=S(e,t)+n,d.openLoginPopup(n))},autoLogin:function(e){var t,n;e=s.processRules(e,i.autoLogin,"Auth.autoLogin"),u.isIOSKakaoTalkWebView()||u.isAndroidKakaoTalkWebView()?(t=a.getRandomString()+a.getRandomString(),n=a.extend({},d.makeAuthParams(e),{redirect_uri:s.URL.talkLoginRedirectUri,response_type:"code",state:t,ka:s.KAKAO_AGENT,origin:l,prompt:"none"}),b(e,t,d.makeAuthUrl(n))):d.runAuthCallback(e,{error:"auto_login",error_description:"Auto-login is only supported by KakaoTalk InAppBrowser",error_code:"400",status:"error"}),c.dispatch("LOGIN_START")},logout:function(e){e=e||a.emptyFunc,s.validate(e,a.isFunction,"Auth.logout"),Kakao.API.request({url:"/v1/user/logout",always:function(){n.setAccessToken(null),c.dispatch("LOGOUT"),e(!0)}})},issueAccessToken:function(t){t=s.processRules(t,i.issueAccessToken,"Auth.issueAccessToken"),e||(e=f.getProxy({},function(e){O(t,e)}),o.push(function(){e.destroy(),e=null})),e.getAccessToken(t.code,s.RUNTIME.appKey,t.redirectUri)},selectStoryChannel:function(e){e=s.processRules(e,i.selectStoryChannel,"Auth.selectStoryChannel"),T||(T=f.getProxy({},function(e){var t=x(e,I);d.runAuthCallback(t,e)}),o.push(function(){T.destroy(),T=null}));var t=a.getRandomString();I[t]=e;e=a.extend({},d.makeAuthParams(e),{state:t,proxy:"easyXDM_Kakao_"+T.channel+"_provider",token:e.extendedToken||""});d.openLoginPopup(s.URL.storySelectChannel+"?"+a.buildQueryString(e))}}}},{"../browserProxy.js":38,"../common":39,"../eventObserver":40,"../poller":42,"../util":43,"../webviewchecker":44,"./common":8,"./kakaotalk":10,"./proxy":13,"./rules":14,"./secret":15}],12:[function(e,t,n){function d(e,t){e.state&&(t.state=e.state),e.redirectUri?location.href=e.redirectUri+"?"+f.buildQueryString(t):v.runAuthCallback(e,t)}var f,m,h,g,y,v,k;t.exports=(f=e("../util"),m=e("../common"),h=e("../eventObserver"),g=e("../poller")(1e3,600),y=e("./rules"),v=e("./common"),k=e("./ajax"),{authorize:function(t){if((t=m.processRules(t,y.authorize,"Auth.authorize")).autoLogin&&!/KAKAOTALK/i.test(m.UA.ua))return d(t,{error:"auto_login",error_description:"NOT_SUPPORTED_BROWSER"}),!1;var n,r,i,e,o=(Math.random().toString(36).slice(2)+m.RUNTIME.appKey+Date.now().toString(36)).slice(0,60),a=f.extend({},v.makeAuthParams(t),v.makeAuthExtraParams(t),{redirect_uri:t.redirectUri||m.URL.redirectUri,response_type:"code",auth_tran_id:o}),s=f.extend({},a,{ka:m.KAKAO_AGENT,is_popup:t.isPopup}),c=(e=t,u=!(!m.UA.os.ios&&!m.UA.os.android||/KAKAOTALK/i.test(m.UA.ua)),l=!e.reauthenticate&&"login"!==e.prompts,u&&l&&e.throughTalk&&!e.autoLogin),u=t.throughSyncplugin&&/KAKAOTALK/i.test(m.UA.ua)&&/ch-home/i.test(m.UA.ua),l=v.makeAuthUrl(s),l=c?(n=t,r=l,i=f.extend({},a,{is_popup:!0}),e=function(){var e=["intent:#Intent","action=com.kakao.talk.intent.action.CAPRI_LOGGED_IN_ACTIVITY","launchFlags=0x08880000","S.com.kakao.sdk.talk.appKey="+m.RUNTIME.appKey,"S.com.kakao.sdk.talk.redirectUri="+i.redirect_uri,"S.com.kakao.sdk.talk.kaHeader="+m.KAKAO_AGENT,"S.com.kakao.sdk.talk.extraparams="+encodeURIComponent(JSON.stringify(i))];return n.state&&e.push("S.com.kakao.sdk.talk.state="+n.state),e.concat(["S.browser_fallback_url="+encodeURIComponent(r),"end;"]).join(";")},s=function(){var e=v.makeAuthUrl(i),t=n.isPopup?e:r,e=e+"&ka="+encodeURIComponent(m.KAKAO_AGENT),e=m.URL.talkInappScheme+"?url="+encodeURIComponent(e);return""+m.URL.universalKakaoLink+encodeURIComponent(e)+"&web="+encodeURIComponent(t)},(m.UA.os.android?e:s)()):l,p=null;u?(a=f.extend({},a,{ka:m.KAKAO_AGENT,is_popup:!0,approval_window_type:"v4_bizplugin"}),a=encodeURIComponent(f.buildQueryString(a)),location.href=m.URL.talkSyncpluginScheme+"&query="+a):t.isPopup?p=v.openLoginPopup(l):location.href=l,(c||u||t.isPopup)&&g.start(function(){var e;o&&(e={client_id:m.RUNTIME.appKey,auth_tran_id:o,ka:m.KAKAO_AGENT},k.checkAuthorize(m.URL.authDomain+"/apiweb/code.json?"+f.buildQueryString(e),function(n){!function(e){if(200===n.status&&n.response){var t=JSON.parse(n.response);if("ok"===t.status&&t.code)return d(e,{code:t.code}),1;if("error"===t.status&&("500"===t.error_code||"600"===t.error_code||"700"===t.error_code))return d(e,{error:t.error,error_description:t.error_description}),"700"===t.error_code&&(location.href=m.URL.authDomain+"/error/network"),1}}(t)||(g.stop(),p&&p.close&&p.close()),!c&&p&&p.closed&&g.stop()}))},function(){d(t,{error:"timeout",error_description:"LOGIN_TIMEOUT"})}),h.dispatch("LOGIN_START")}})},{"../common":39,"../eventObserver":40,"../poller":42,"../util":43,"./ajax":7,"./common":8,"./rules":14}],13:[function(e,t,n){var r,i,o;t.exports=(r=e("../util"),i=e("../common"),o=e("../../vendor/easyXDM"),{getProxy:function(t,n){return r.extend(t,{remote:i.URL.loginWidget,channel:r.getRandomString()}),i.guardCreateEasyXDM(function(){var e=new o.Rpc(t,{local:{postResponse:n,getKakaoAgent:function(){return i.KAKAO_AGENT}},remote:{getCode:{},getAccessToken:{},setClient:{},setStateToken:{},deleteAuthCookie:{}}});return e.channel=t.channel,e})}})},{"../../vendor/easyXDM":46,"../common":39,"../util":43}],14:[function(e,t,n){var r,i;t.exports=(i={success:(r=e("../util")).emptyFunc,fail:r.emptyFunc,always:r.emptyFunc},t=r.extend({throughTalk:!0,persistAccessToken:!0,persistRefreshToken:!1},i),e={success:r.isFunction,fail:r.isFunction,always:r.isFunction,persistAccessToken:r.isBoolean,persistRefreshToken:r.isBoolean,approvalType:r.isOneOf(["project"]),scope:r.isString,throughTalk:r.isBoolean,plusFriendPublicId:r.isString,channelPublicId:r.isString,serviceTerms:r.isString,redirectUri:r.isString,state:r.isString,deviceType:r.isOneOf(["watch","tv"])},{createLoginButton:{required:{container:r.passesOneOf([r.isElement,r.isString])},optional:r.extend({lang:r.isOneOf(["en","kr"]),size:r.isOneOf(["small","medium","large"])},e),defaults:r.extend({lang:"kr",size:"medium"},t)},login:{optional:e,defaults:t},authorize:{optional:{redirectUri:r.isString,approvalType:r.isOneOf(["project"]),scope:r.isString,throughTalk:r.isBoolean,plusFriendPublicId:r.isString,channelPublicId:r.isString,serviceTerms:r.isString,isPopup:r.isBoolean,state:r.isString,autoLogin:r.isBoolean,deviceType:r.isOneOf(["watch","tv"]),prompts:r.isOneOf(["login","none"]),reauthenticate:r.isBoolean,throughSyncplugin:r.isBoolean,success:r.isFunction,fail:r.isFunction,always:r.isFunction},defaults:{throughTalk:!0,isPopup:!1,reauthenticate:!1,throughSyncplugin:!0,success:r.emptyFunc,fail:r.emptyFunc,always:r.emptyFunc}},autoLogin:{optional:{success:r.isFunction,fail:r.isFunction,always:r.isFunction},defaults:i},issueAccessToken:{required:{code:r.isString,redirectUri:r.isString},optional:{success:r.isFunction,fail:r.isFunction,always:r.isFunction},defaults:i},selectStoryChannel:{optional:{extendedToken:r.isString,success:r.isFunction,fail:r.isFunction,always:r.isFunction},defaults:i}})},{"../util":43}],15:[function(e,t,n){function r(){return s.RUNTIME.appKey}function i(){var e,t;return s.RUNTIME.accessToken||(s.RUNTIME.accessToken=(t=o(),(e=a.localStorage.getItem(t))?(t=r(),c.AES.decrypt(e,t).toString(c.enc.Utf8)):null)),s.RUNTIME.accessToken}function o(){var e;return u.accessTokenKey||(u.accessTokenKey="kakao_"+(e="kat"+r(),c.MD5(e).toString())),u.accessTokenKey}var a,s,c,u;t.exports=(a=e("../util"),s=e("../common"),c=e("../../vendor/CryptoJS"),u={},{getAppKey:r,getAccessToken:i,setAccessToken:function(e){var t,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];null===(s.RUNTIME.accessToken=e)||!1===n?(t=o(),a.localStorage.removeItem(t)):(n=o(),t=r(),t=c.AES.encrypt(e,t).toString(),a.localStorage.setItem(n,t))},getRefreshToken:function(){return console.log("unsupported operation: Auth.getRefreshToken()"),""},setRefreshToken:function(e){console.log("unsupported operation: Auth.setRefreshToken()")},getStatusInfo:function(t){s.validate(t,a.isFunction,"Auth.getStatusInfo"),i()?Kakao.API.request({url:"/v2/user/me",success:function(e){t({status:"connected",user:e})},fail:function(){t({status:"not_connected"})}}):t({status:"not_connected"})}})},{"../../vendor/CryptoJS":45,"../common":39,"../util":43}],16:[function(e,t,n){var r,i,o;t.exports=(r=e("../util"),i=e("../common"),o=e("../browserProxy").getOrigin(),{createAnchorImage:function(e,t,n){var r=document.createElement("a");r.setAttribute("href","#");var i=document.createElement("img");return i.setAttribute("src",t),i.setAttribute("title",n),i.setAttribute("alt",n),e.supportMultipleDensities&&i.setAttribute("srcset",[t.replace(".png","_2X.png 2x"),t.replace(".png","_3X.png 3x")].join(", ")),r.appendChild(i),r},makeChannelParams:function(e){return r.buildQueryString({api_ver:e,kakao_agent:i.KAKAO_AGENT,app_key:i.RUNTIME.appKey,referer:o+location.pathname+location.search})}})},{"../browserProxy":38,"../common":39,"../util":43}],17:[function(e,t,n){var r,i;t.exports=(r=e("../common"),i=[],r.initSubModules(t={},[e("./request")(i)]),t.cleanup=function(){r.emptyCleanups(i)},t)},{"../common":39,"./request":18}],18:[function(e,t,n){t.exports=function(o){var a=e("../util"),s=e("../common"),c=e("./rules"),u=e("./common"),t="1.1",n="channel_add_social_plugin",r="channel_chat_social_plugin",i="width=350, height=510";function l(e){e=s.URL.channel+"/"+e.channelPublicId+"/friend";Kakao.isInitialized()&&(e+="?"+u.makeChannelParams(t)),s.windowOpen(e,n,i)}function p(e){e=s.URL.channel+"/"+e.channelPublicId+"/chat";Kakao.isInitialized()&&(e+="?"+u.makeChannelParams(t)),s.windowOpen(e,r,i)}return{createAddChannelButton:function(t){var e=a.getElement(t.container);if(!e)throw new s.KakaoError("container is required for Channel.createAddChannelButton: pass in element or id");s.applyAttributes(t,e,{channelPublicId:"data-channel-public-id",size:"data-size",supportMultipleDensities:"data-support-multiple-densities"});var n=(n="friendadd_"+(t=s.processRules(t,c.createAddChannelButton,"Channel.createAddChannelButton")).size+"_yellow_rect.png",s.URL.channelIcon+"/channel/"+n),r=u.createAnchorImage(t,n,"카카오톡 채널 추가 버튼");e.appendChild(r);function i(e){e.preventDefault(),l(t)}a.addEvent(r,"click",i),o.push(function(){a.removeEvent(r,"click",i),e.removeChild(r)})},addChannel:function(e){l(e=s.processRules(e,c.addChannel,"Channel.addChannel"))},createChatButton:function(t){var e=a.getElement(t.container);if(!e)throw new s.KakaoError("container is required for Channel.createChatButton: pass in element or id");s.applyAttributes(t,e,{channelPublicId:"data-channel-public-id",size:"data-size",color:"data-color",shape:"data-shape",title:"data-title",supportMultipleDensities:"data-support-multiple-densities"});var n=(n=(n=t=s.processRules(t,c.createChatButton,"Channel.createChatButton")).title+"_"+n.size+"_"+n.color+"_"+n.shape+".png",s.URL.channelIcon+"/channel/"+n),r=u.createAnchorImage(t,n,"카카오톡 채널 1:1 채팅 버튼");e.appendChild(r);function i(e){e.preventDefault(),p(t)}a.addEvent(r,"click",i),o.push(function(){a.removeEvent(r,"click",i),e.removeChild(r)})},chat:function(e){p(e=s.processRules(e,c.chat,"Channel.chat"))}}}},{"../common":39,"../util":43,"./common":16,"./rules":19}],19:[function(e,t,n){var r,i,o;t.exports=(r=["small","large"],i=["yellow","mono"],o=["pc","mobile"],t=["consult","question"],{createAddChannelButton:{required:{container:(e=e("../util")).passesOneOf([e.isElement,e.isString]),channelPublicId:e.isString},optional:{size:e.isOneOf(r),supportMultipleDensities:e.isBoolean},defaults:{size:r[0],supportMultipleDensities:!1}},addChannel:{required:{channelPublicId:e.isString}},createChatButton:{required:{container:e.passesOneOf([e.isElement,e.isString]),channelPublicId:e.isString},optional:{size:e.isOneOf(r),color:e.isOneOf(i),shape:e.isOneOf(o),title:e.isOneOf(t),supportMultipleDensities:e.isBoolean},defaults:{size:r[0],color:i[0],shape:o[0],title:t[0],supportMultipleDensities:!1}},chat:{required:{channelPublicId:e.isString}}})},{"../util":43}],20:[function(e,t,n){var r;t.exports=(r=e("../util"),{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},stringifyLCBA:function(e){return r.isObject(e)?JSON.stringify(e):e},requestAPI:function(e,t){return Kakao.API.request({url:e,data:t})}})},{"../util":43}],21:[function(e,t,n){var r,i,o;t.exports=(r=e("../common"),i=e("./rules"),o=e("./common"),{uploadImage:function(e){return e=r.processRules(e,i.uploadImage,"Link.uploadImage"),o.requestAPI("/v2/api/talk/message/image/upload",{file:e.file})},deleteImage:function(e){return e=r.processRules(e,i.deleteImage,"Link.deleteImage"),o.requestAPI("/v2/api/talk/message/image/delete",{image_url:e.imageUrl})},scrapImage:function(e){return e=r.processRules(e,i.scrapImage,"Link.scrapImage"),o.requestAPI("/v2/api/talk/message/image/scrap",{image_url:e.imageUrl})}})},{"../common":39,"./common":20,"./rules":26}],22:[function(e,t,n){var r,i;t.exports=(r=e("../common"),i=[],r.initSubModules(t={},[e("./linker")(i),e("./imageAPI")]),t.cleanup=function(){r.emptyCleanups(i)},t)},{"../common":39,"./imageAPI":21,"./linker":24}],23:[function(e,t,n){t.exports=function(){function t(e){var n=this;_classCallCheck(this,t),this.link_ver="4.0",this.template_object={object_type:e.objectType,button_title:e.buttonTitle||""},r.each(e,function(e,t){e=a.create(e,t,"defaultObject");e&&(n.template_object[t]=e)})}var r=e("../util"),i=e("../common"),o=e("./common"),a=e("./propGenerator"),n=(i.UA.os.ios,function e(t,n){_classCallCheck(this,e),this.appkey=i.RUNTIME.appKey,this.appver="1.0",this.linkver="4.0",this.extras=r.extend({KA:i.KAKAO_AGENT},t.extras),t.serverCallbackArgs&&(this.extras.lcba=o.stringifyLCBA(t.serverCallbackArgs)),this.template_json=n.template_msg,this.template_args=n.template_args,this.template_id=n.template_id}),s={FeedLink:t,CommerceLink:t};function c(e){_classCallCheck(this,c);var t=_possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e)),n=t.template_object;return n.header_title=e.headerTitle||"",n.header_link=n.headerLink||{},delete n.headerLink,console&&(e.headerImageUrl||e.headerImageWidth||e.headerImageHeight)&&console.warn("KakaoWarning: The parameters ("+["headerImageUrl","headerImageWidth","headerImageHeight"].join(", ")+") for header background image are deprecated."),t}function u(e){_classCallCheck(this,u);var t=_possibleConstructorReturn(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e)),n=t.template_object;return n.address=e.address||"",n.address_title=e.addressTitle||"",t}function l(e){_classCallCheck(this,l);var t=_possibleConstructorReturn(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.template_object.text=e.text||"",t}s.ListLink=(_inherits(c,t),c),s.LocationLink=(_inherits(u,t),u),s.TextLink=(_inherits(l,t),l);function p(e){_classCallCheck(this,p),this.link_ver="4.0",this.request_url=e.requestUrl,e.templateId&&(this.template_id=e.templateId),e.templateArgs&&(this.template_args=e.templateArgs)}function d(e){_classCallCheck(this,d),this.link_ver="4.0",this.template_id=e.templateId,this.template_args=e.templateArgs}return{makeKakaoLink:function(e,t){t=new n(e,t);if(1e4<JSON.stringify(t).length)throw new i.KakaoError("Failed to send message because it exceeds the message size limit. Please contact the app administrator.");return"kakaolink://send?"+r.buildQueryString(t)},makeDefaultLink:function(e){return new s[o.capitalize(e.objectType)+"Link"](e)},makeScrapLink:function(e){return new p(e)},makeCustomLink:function(e){return new d(e)}}}()},{"../common":39,"../util":43,"./common":20,"./propGenerator":25}],24:[function(m,e,t){e.exports=function(i){var o=m("../util"),a=m("../common"),n=m("./rules"),r=m("./common"),e=m("./linkGenerator"),s=m("./webSender"),c=m("./talkSender");function t(e){if(!e.objectType||!o.isOneOf(n.defaultObjectTypes)(e.objectType))throw new a.KakaoError("objectType should be one of ("+n.defaultObjectTypes.join(", ")+")");var t=n["create"+r.capitalize(e.objectType)+"Button"];p(e=a.processRules(e,t,"Link.createDefaultButton"),"default")}function u(e){p(e=a.processRules(e,n.createScrapButton,"Link.createScrapButton"),"scrap")}function l(e){p(e=a.processRules(e,n.createCustomButton,"Link.createCustomButton"),"custom")}function p(t,n){var e=o.getElement(t.container);if(!e)throw new a.KakaoError("container is required for KakaoTalk Link: pass in element or id");function r(e){e.preventDefault(),e.stopPropagation(),f(t,n)}o.addEvent(e,"click",r),i.push(function(){o.removeEvent(e,"click",r)})}var d={default:{makeLinkFunc:e.makeDefaultLink,requestUrl:"/v2/api/kakaolink/talk/template/default"},scrap:{makeLinkFunc:e.makeScrapLink,requestUrl:"/v2/api/kakaolink/talk/template/scrap"},custom:{makeLinkFunc:e.makeCustomLink,requestUrl:"/v2/api/kakaolink/talk/template/validate"}};function f(e,t){var n=d[t],r=n.makeLinkFunc,i=n.requestUrl,n=r(e),r=a.UA.os.ios&&"tablet"===a.UA.platform;!e.throughTalk||"mobile"!==a.UA.platform&&!r?s.send(e,t,n):c.send(e,i,n)}return{createDefaultButton:t,createDefault:t,sendDefault:function(e){if(!e.objectType||!o.isOneOf(n.defaultObjectTypes)(e.objectType))throw new a.KakaoError("objectType should be one of ("+n.defaultObjectTypes.join(", ")+")");var t=n["send"+r.capitalize(e.objectType)];f(e=a.processRules(e,t,"Link.sendDefault"),"default")},createScrapButton:u,createScrap:u,sendScrap:function(e){f(e=a.processRules(e,n.sendScrap,"Link.sendScrap"),"scrap")},createCustomButton:l,createCustom:l,sendCustom:function(e){f(e=a.processRules(e,n.sendCustom,"Link.sendCustom"),"custom")}}}},{"../common":39,"../util":43,"./common":20,"./linkGenerator":23,"./rules":26,"./talkSender":27,"./webSender":28}],25:[function(e,t,n){function r(e){e=parseInt(e,10);if(isNaN(e)||e<80)throw new h.KakaoError("Illegal argument for image: width/height should be a number larger than 80");return!0}function i(e){e.width=parseInt(e.width,10),e.height=parseInt(e.height,10)}function o(e){var t=m.keys(e)[0];return"webButton"===t?h.processRules(e.webButton,g[t],"parameter webButton in Link.createTalkLink"):h.processRules(e.appButton,g[t],"parameter appButton in Link.createTalkLink"),!0}function a(e,t){return{objtype:"image",src:t.src,width:t.width,height:t.height,action:u(e,t),disptype:t.displayType}}function s(e,t){return{objtype:"button",text:t.text,action:u(e,t),disptype:t.displayType}}function c(e,t){return{objtype:"link",text:t.text,action:u(e,t),disptype:t.displayType}}function u(e,t){switch(e){case"web":return{type:t.type,url:t.url?-1<(n=t.url).indexOf("://")?n:"http://"+n:void 0,auth:t.auth};case"app":return{type:"app",url:t.webUrl,actioninfo:function(n,r){n=n&&h.processRules(n,y,"execParams in Kakao.Link"),r=r&&h.processRules(r,y,"marketParams in Kakao.Link");var i=[];return m.each({android:{os:"android"},iphone:{os:"ios",devicetype:"phone"},ipad:{os:"ios",devicetype:"pad"}},function(e,t){e=m.extend({},e);n&&n[t]&&(e.execparam=m.buildQueryString(n[t],!1)),r&&r[t]&&(e.marketparam=m.buildQueryString(r[t],!1)),(e.execparam||e.marketparam)&&i.push(e)}),i}(t.execParams,t.marketParams)};default:return}var n}function l(e){return{web_url:e.webUrl,mobile_web_url:e.mobileWebUrl,android_execution_params:e.androidExecParams,ios_execution_params:e.iosExecParams}}function p(e){return h.processRules(e,g.content,"parameter content in Link.sendDefault"),!0}function d(e){return h.processRules(e,g.link,"parameter link in Link.sendDefault"),!0}function f(e){return h.processRules(e,g.button,"parameter button in Link.sendDefault"),!0}var m,h,g,y;t.exports=(m=e("../util"),h=e("../common"),e={displayType:m.isOneOf(["both","sender","receiver"])},g={label:{required:{text:m.isString},optional:e,builder:function(e){return{objtype:"label",text:e.text,disptype:e.displayType}}},image:{required:{src:m.isString,width:r,height:r},optional:e,before:i,builder:m.partial(a,null)},webImage:{required:{src:m.isString,width:r,height:r},optional:m.extend({url:m.isString,auth:m.isBoolean,type:m.isOneOf(["web","inweb"])},e),defaults:{type:"web"},before:i,builder:m.partial(a,"web")},webButton:{optional:m.extend({text:m.isString,url:m.isString,auth:m.isBoolean,type:m.isOneOf(["web","inweb"])},e),defaults:{type:"web"},builder:m.partial(s,"web")},appButton:{optional:m.extend({text:m.isString,webUrl:m.isString,execParams:m.isObject,marketParams:m.isObject,type:m.isString},e),defaults:{type:"app"},builder:m.partial(s,"app")},webLink:{required:{text:m.isString},optional:m.extend({url:m.isString,auth:m.isBoolean,type:m.isOneOf(["web","inweb"])},e),defaults:{type:"web"},builder:m.partial(c,"web")},appLink:{required:{text:m.isString},optional:m.extend({webUrl:m.isString,execParams:m.isObject,marketParams:m.isObject},e),builder:m.partial(c,"app")},horizontalButton:{required:{0:o,1:o},builder:function(e){var t=m.keys(e[0]),n=m.keys(e[1]),t=e[0][t],n=e[1][n];return{objtype:"horizontal",subs:[{objtype:"button",text:t.text,action:u(t.type,t)},{objtype:"button",text:n.text,action:u(n.type,n)}],disptype:"both"}}},content:{required:{title:m.isString,imageUrl:m.isString,link:d},optional:{imageWidth:m.isNumber,imageHeight:m.isNumber,description:m.isString},builder:function(e){return{title:e.title,image_url:e.imageUrl,link:l(e.link),image_width:e.imageWidth,image_height:e.imageHeight,description:e.description}}},contents:{optional:{0:p,1:p,2:p},builder:function(e){if(e.length<2)throw new h.KakaoError("Illegal argument for contents: min count(2)");return m.map(e,function(e){return{title:e.title,image_url:e.imageUrl,link:l(e.link),image_width:e.imageWidth,image_height:e.imageHeight,description:e.description}})}},commerce:{required:{regularPrice:m.isNumber},optional:{discountPrice:m.isNumber,discountRate:m.isNumber,fixedDiscountPrice:m.isNumber,productName:m.isString},builder:function(e){return{regular_price:e.regularPrice,discount_price:e.discountPrice,discount_rate:e.discountRate,fixed_discount_price:e.fixedDiscountPrice,product_name:e.productName}}},social:{optional:{likeCount:m.isNumber,commentCount:m.isNumber,sharedCount:m.isNumber,viewCount:m.isNumber,subscriberCount:m.isNumber},builder:function(e){return{like_count:e.likeCount,comment_count:e.commentCount,shared_count:e.sharedCount,view_count:e.viewCount,subscriber_count:e.subscriberCount}}},button:{required:{title:m.isString,link:d},builder:function(e){return{title:e.title,link:l(e.link)}}},buttons:{optional:{0:f,1:f},builder:function(e){return m.map(e,function(e){return{title:e.title,link:l(e.link)}})}},headerLink:{optional:{webUrl:m.isString,mobileWebUrl:m.isString,androidExecParams:m.isString,iosExecParams:m.isString},builder:l},link:{optional:{webUrl:m.isString,mobileWebUrl:m.isString,androidExecParams:m.isString,iosExecParams:m.isString},builder:l}},y={optional:{iphone:m.isObject,ipad:m.isObject,android:m.isObject}},{create:function(e,t,n){var r=g[t];if(r)return e=h.processRules(e,r,"parameter '"+t+"' in "+(n||"Link")),r.builder(e)}})},{"../common":39,"../util":43}],26:[function(e,t,n){function r(e){return i.defaults({required:i.extend({container:i.passesOneOf([i.isElement,i.isString])},e.required)},e)}var i,o,a,s,c,u,l;t.exports=(o={success:(i=e("../util")).isFunction,fail:i.isFunction,always:i.isFunction,callback:i.isFunction,installTalk:i.isBoolean,throughTalk:i.isBoolean,extras:i.isObject,serverCallbackArgs:i.passesOneOf([i.isJSONString,i.isObject])},l={success:i.emptyFunc,fail:i.emptyFunc,always:i.emptyFunc,installTalk:!1,throughTalk:!0},a={required:{objectType:function(e){return"feed"===e},content:i.isObject},optional:i.extend({social:i.isObject,buttonTitle:i.isString,buttons:i.isArray},o),defaults:l},s={required:{objectType:function(e){return"list"===e},headerTitle:i.isString,headerLink:i.isObject,contents:i.isArray},optional:i.extend({buttonTitle:i.isString,buttons:i.isArray,headerImageUrl:i.isString,headerImageWidth:i.isNumber,headerImageHeight:i.isNumber},o),defaults:l},c={required:{objectType:function(e){return"commerce"===e},content:i.isObject,commerce:i.isObject},optional:i.extend({buttonTitle:i.isString,buttons:i.isArray},o),defaults:l},u={required:{objectType:function(e){return"location"===e},content:i.isObject,address:i.isString},optional:i.extend({addressTitle:i.isString,social:i.isObject,buttonTitle:i.isString,buttons:i.isArray},o),defaults:l},t={required:{objectType:function(e){return"text"===e},text:i.isString,link:i.isObject},optional:i.extend({buttonTitle:i.isString,buttons:i.isArray},o),defaults:l},e={required:{requestUrl:i.isString},optional:i.extend({templateId:i.isNumber,templateArgs:i.isObject},o),defaults:i.extend({templateArgs:{}},l)},l={required:{templateId:i.isNumber},optional:i.extend({templateArgs:i.isObject},o),defaults:i.extend({templateArgs:{}},l)},{defaultObjectTypes:["feed","list","commerce","location","text"],sendFeed:a,createFeedButton:r(a),sendList:s,createListButton:r(s),sendCommerce:c,createCommerceButton:r(c),sendLocation:u,createLocationButton:r(u),sendText:t,createTextButton:r(t),sendScrap:e,createScrapButton:r(e),sendCustom:l,createCustomButton:r(l),uploadImage:{required:{file:i.isObject}},deleteImage:{required:{imageUrl:i.isString}},scrapImage:{required:{imageUrl:i.isString}}})},{"../util":43}],27:[function(e,t,n){function o(e,t){!function(e,t,n){var r=["intent:"+e+"#Intent","launchFlags=0x14008000",(!0===n?"package=com.kakao.talk;":"")+"end;"].join(";"),r={urlScheme:e,intentURI:r,appName:"KakaoTalk",storeURL:s.getInstallUrl("com.kakao.talk","362057947"),onUnsupportedEnvironment:function(){t(e)}};n&&!c.isIOSKakaoTalkWebView()&&!c.isAndroidWebView()||(r.onAppMissing=a.emptyFunc),c.isIOSKakaoTalkWebView()&&(r.universalLink=void 0);try{i(r)}catch(e){s.logDebug(e)}}(r.makeKakaoLink(t,e),t.fail,t.installTalk);e={template_msg:e.template_msg||{},warning_msg:e.warning_msg||{},argument_msg:e.argument_msg||{}};t.success(e),t.always(e)}var i,a,s,c,u,l,r;t.exports=(i=e("../../vendor/web2app"),a=e("../util"),s=e("../common"),c=e("../webviewchecker")(),u=e("../poller")(100,100),l=e("./common"),r=e("./linkGenerator"),{send:function(t,e,n){var r,i=null;return s.UA.browser.iphone&&/version/.test(s.UA.ua.toLowerCase())?(r=null,i=function(e){r=e},u.start(function(){null!==r&&(u.stop(),o(r,t))},function(){var e={error:"timeout",error_description:"LINK_TIMEOUT"};t.fail(e),t.always(e)})):i=o,l.requestAPI(e,n).then(function(e){i(e,t)},function(e){t.fail(e),t.always(e)})}})},{"../../vendor/web2app":49,"../common":39,"../poller":42,"../util":43,"../webviewchecker":44,"./common":20,"./linkGenerator":23}],28:[function(e,t,n){var o,a,i,s,c;t.exports=(o=e("../util"),a=e("../common"),i=e("./common"),s="kakao_link_web_sharer",c="location=no,resizable=no,status=no,scrollbars=no,width=460,height=608",{send:function(e,t,n){var r={app_key:a.RUNTIME.appKey,ka:a.KAKAO_AGENT,validation_action:t,validation_params:JSON.stringify(n)};e.serverCallbackArgs&&(r.lcba=i.stringifyLCBA(e.serverCallbackArgs));t=a.URL.sharerDomain+"/talk/friends/picker/easylink?"+o.buildQueryString(r),n=null;!a.UA.browser.msie&&!a.UA.browser.spartan&&t.length<2084?(n=a.windowOpen(t,s,c)).focus():n=function(e){var t=a.UA.browser.msie?{}:a.windowOpen("",s,c);t.focus&&t.focus();var n,r,i=document.createElement("form");for(n in i.setAttribute("accept-charset","utf-8"),i.setAttribute("method","post"),i.setAttribute("action",a.URL.sharerDomain+"/talk/friends/picker/link"),i.setAttribute("target",s),i.setAttribute("style","display:none"),e)e.hasOwnProperty(n)&&((r=document.createElement("input")).type="hidden",r.name=n,r.value=o.isString(e[n])?e[n]:JSON.stringify(e[n]),i.appendChild(r));return document.body.appendChild(i),i.submit(),document.body.removeChild(i),t}(r),e.callback&&function(e,t){if(a.UA.browser.msie)return console&&console.warn("KakaoWarning: The callback parameter does not support the IE browser.");function n(e){"sent"===e.data&&e.origin===a.URL.sharerDomain&&t()}o.addEvent(window,"message",n);var r=setInterval(function(){e.closed&&(clearInterval(r),o.removeEvent(window,"message",n))},1e3)}(n,e.callback)}})},{"../common":39,"../util":43,"./common":20}],29:[function(e,t,n){t.exports=(t={},e("../common").initSubModules(t,[e("./request")]),t)},{"../common":39,"./request":30}],30:[function(e,t,n){function i(){return{appkey:s.RUNTIME.appKey,apiver:"1.0",extras:{KA:s.KAKAO_AGENT}}}function o(e,t){t={urlScheme:e,intentURI:["intent:"+e+"#Intent","package=com.locnall.KimGiSa","S.browser_fallback_url="+encodeURIComponent(t),"end;"].join(";"),storeURL:t,universalLink:t};try{r(t)}catch(e){s.logDebug(e)}}var r,a,s,c;t.exports=(r=e("../../vendor/web2app"),a=e("../util"),s=e("../common"),c=e("./rules"),{start:function(e){e=s.processRules(e,c.start,"Navi.start");var t,n,r,e=a.buildQueryString((n={name:(t=e).name,x:t.x,y:t.y,rpflag:t.rpflag,cid:t.cid,guide_id:t.guideId},r={coord_type:t.coordType,vehicle_type:t.vehicleType,rpoption:t.rpOption,route_info:t.routeInfo,s_x:t.sX,s_y:t.sY,s_angle:t.sAngle,return_uri:t.returnUri},(e=i()).param={destination:n,option:r,via_list:t.viaPoints},e));o(s.URL.naviStartScheme+"?"+e,s.URL.naviWeb+"?"+e)},share:function(e){e=s.processRules(e,c.share,"Navi.share");var t,n=a.buildQueryString((t={name:(n=e).name,x:n.x,y:n.y,rpflag:n.rpflag,cid:n.cid,guide_id:n.guideId},e={coord_type:n.coordType},(n=i()).param={destination:t,option:e},n.scheme_type="sharePoi",n));o(s.URL.naviShareScheme+"?"+n,s.URL.naviWeb+"?"+n)}})},{"../../vendor/web2app":49,"../common":39,"../util":43,"./rules":31}],31:[function(e,t,n){var r,i,o;t.exports=(r=e("../util"),i=e("../common"),o={required:{name:r.isString,x:r.isNumber,y:r.isNumber},optional:{rpflag:r.isString,cid:r.isString}},{start:{required:{name:r.isString,x:r.isNumber,y:r.isNumber},optional:{coordType:r.isOneOf(e=["wgs84","katec"]),vehicleType:r.isOneOf([1,2,3,4,5,6,7]),rpOption:r.isOneOf([1,2,3,4,5,6,8,100]),routeInfo:r.isBoolean,sX:r.isNumber,sY:r.isNumber,sAngle:r.isNumber,returnUri:r.isString,rpflag:r.isString,cid:r.isString,guideId:r.isNumber,viaPoints:function(e){if(r.isArray(e)){if(3<e.length)throw new i.KakaoError("Invalid parameter keys: via points should not be exceed 3. at Navi.start");return r.each(e,function(e){return i.processRules(e,o,"Navi.start")}),!0}return!1}},defaults:{coordType:"katec",vehicleType:1,rpOption:100,routeInfo:!1}},share:{required:{name:r.isString,x:r.isNumber,y:r.isNumber},optional:{coordType:r.isOneOf(e),rpflag:r.isString,cid:r.isString,guideId:r.isNumber},defaults:{coordType:"katec"}}})},{"../common":39,"../util":43}],32:[function(e,t,n){var r,i;t.exports=(r=e("../common"),i=[],r.initSubModules(t={},[e("./request")(i)]),t.cleanup=function(){r.emptyCleanups(i)},t)},{"../common":39,"./request":33}],33:[function(e,t,n){t.exports=function(o){var a=e("../util"),s=e("../common"),c=e("./rules"),u=e("../Channel/common"),t="1.0",n="plus_friend_add_social_plugin",r="plus_friend_chat_social_plugin",i="width=350, height=510",l="KakaoWarning: Kakao.PlusFriend is deprecated. Please use Kakao.Channel instead.";function p(e){e=s.URL.channel+"/"+e.plusFriendId+"/friend";Kakao.isInitialized()&&(e+="?"+u.makeChannelParams(t)),s.windowOpen(e,n,i)}function d(e){e=s.URL.channel+"/"+e.plusFriendId+"/chat";Kakao.isInitialized()&&(e+="?"+u.makeChannelParams(t)),s.windowOpen(e,r,i)}return{createAddFriendButton:function(t){console&&console.warn(l);var e=a.getElement(t.container);if(!e)throw new s.KakaoError("container is required for PlusFriend.createAddFriendButton: pass in element or id");s.applyAttributes(t,e,{plusFriendId:"data-plusfriend-id",size:"data-size",color:"data-color",shape:"data-shape",supportMultipleDensities:"data-support-multiple-densities"});var n=(n="friendadd_"+(n=t=s.processRules(t,c.createAddFriendButton,"PlusFriend.createAddFriendButton")).size+"_"+n.color+"_"+n.shape+".png",s.URL.channelIcon+"/plusfriend/"+n),r=u.createAnchorImage(t,n,"플러스친구 친구 추가 버튼");e.appendChild(r);function i(e){e.preventDefault(),p(t)}a.addEvent(r,"click",i),o.push(function(){a.removeEvent(r,"click",i),e.removeChild(r)})},addFriend:function(e){console&&console.warn(l),p(e=s.processRules(e,c.addFriend,"PlusFriend.addFriend"))},createChatButton:function(t){console&&console.warn(l);var e=a.getElement(t.container);if(!e)throw new s.KakaoError("container is required for PlusFriend.createChatButton: pass in element or id");s.applyAttributes(t,e,{plusFriendId:"data-plusfriend-id",size:"data-size",color:"data-color",shape:"data-shape",title:"data-title",supportMultipleDensities:"data-support-multiple-densities"});var n=(n=(n=t=s.processRules(t,c.createChatButton,"PlusFriend.createChatButton")).title+"_"+n.size+"_"+n.color+"_"+n.shape+".png",s.URL.channelIcon+"/plusfriend/"+n),r=u.createAnchorImage(t,n,"플러스친구 1:1 채팅 버튼");e.appendChild(r);function i(e){e.preventDefault(),d(t)}a.addEvent(r,"click",i),o.push(function(){a.removeEvent(r,"click",i),e.removeChild(r)})},chat:function(e){console&&console.warn(l),d(e=s.processRules(e,c.chat,"PlusFriend.chat"))}}}},{"../Channel/common":16,"../common":39,"../util":43,"./rules":34}],34:[function(e,t,n){t.exports={createAddFriendButton:{required:{container:(e=e("../util")).passesOneOf([e.isElement,e.isString]),plusFriendId:e.isString},optional:{size:e.isOneOf(["small","large"]),color:e.isOneOf(["yellow","black"]),shape:e.isOneOf(["rect","round"]),supportMultipleDensities:e.isBoolean},defaults:{size:"small",color:"yellow",shape:"rect",supportMultipleDensities:!1}},addFriend:{required:{plusFriendId:e.isString}},createChatButton:{required:{container:e.passesOneOf([e.isElement,e.isString]),plusFriendId:e.isString},optional:{size:e.isOneOf(["small","large"]),color:e.isOneOf(["yellow","mono"]),shape:e.isOneOf(["pc","mobile"]),title:e.isOneOf(["consult","question"]),supportMultipleDensities:e.isBoolean},defaults:{size:"small",color:"yellow",shape:"pc",title:"consult",supportMultipleDensities:!1}},chat:{required:{plusFriendId:e.isString}}}},{"../util":43}],35:[function(e,t,n){var r,i;t.exports=(r=e("../common"),i=[],r.initSubModules(t={},[e("./request")(i)]),t.cleanup=function(){r.emptyCleanups(i)},t)},{"../common":39,"./request":36}],36:[function(e,t,n){t.exports=function(i){var r=e("../../vendor/web2app"),s=e("../util"),c=e("../common"),o=e("./rules");function a(e){var t=s.extend({url:e.url},l());e.text&&(t.text=e.text),c.windowOpen(c.URL.storyShare+"?"+s.buildQueryString(t),"kakaostory_social_plugin","width=670, height=800, scrollbars=yes")}var u=0;function l(){var e={kakao_agent:c.KAKAO_AGENT};return Kakao.isInitialized()&&(e.app_key=c.RUNTIME.appKey),e}return{createShareButton:function(t){var e=s.getElement(t.container);if(!e)throw new c.KakaoError("container is required for Story.createShareButton: pass in element or id");c.applyAttributes(t,e,{url:"data-url"}),t=c.processRules(t,o.createShareButton,"Story.createShareButton");var n=function(e,t){var n=document.createElement("a");n.setAttribute("href","#");var r=document.createElement("img");return r.setAttribute("src",e),r.setAttribute("title",t),r.setAttribute("alt",t),n.appendChild(r),n}(c.URL.storyIcon,"카카오스토리 웹 공유 버튼");e.appendChild(n);function r(e){e.preventDefault(),a(t)}s.addEvent(n,"click",r),i.push(function(){s.removeEvent(n,"click",r),e.removeChild(n)})},share:function(e){a(e=c.processRules(e,o.share,"Story.share"))},open:function(e){var t,n,n=(t=e=c.processRules(e,o.open,"Story.open"),n=location.hostname||"",n=s.extend({apiver:"1.0",appver:c.VERSION,appid:n,appname:n,post:t.text?t.text+"\n"+t.url:t.url},l()),t.urlInfo&&(n.urlinfo=JSON.stringify(t.urlInfo),n.appname=t.urlInfo.name||n.appname),c.URL.storyPostScheme+"?"+s.buildQueryString(n)),n={urlScheme:n,intentURI:["intent:"+n+"#Intent",(e.install?"package=com.kakao.story;":"")+"end;"].join(";"),appName:"KakaoStory",storeURL:c.getInstallUrl("com.kakao.story","486244601"),onUnsupportedEnvironment:function(){e.fail&&e.fail()}};try{r(n)}catch(e){c.logDebug(e)}},createFollowButton:function(e){var t=s.getElement(e.container);if(!t)throw new c.KakaoError("container is required for Story.createFollowButton: pass in element or id");c.applyAttributes(e,t,{id:"data-id",showFollowerCount:"data-show-follower-count",type:"data-type"});var e=function(e){var r=u++,i=e.showFollowerCount&&"horizontal"===e.type?85:59,o=e.showFollowerCount&&"vertical"===e.type?46:20,a=document.createElement("iframe");a.src=(e=s.extend({id:e.id,type:e.type,hideFollower:!e.showFollowerCount,frameId:r},l()),c.URL.storyChannelFollow+"?"+s.buildQueryString(e)),a.setAttribute("frameborder","0"),a.setAttribute("marginwidth","0"),a.setAttribute("marginheight","0"),a.setAttribute("scrolling","no"),a.setAttribute("style","width:"+i+"px; height:"+o+"px;");return{iframe$:a,messageHandler:function(e){var t,n;e.data&&/\.kakao\.com$/.test(e.origin)&&"string"==typeof e.data&&(t=e.data.split(",").map(function(e){return parseInt(e,10)}),e=(n=_slicedToArray(t,3))[0],t=n[1],n=n[2],e===r&&(i!==t&&(i=t,a.style.width=i+"px"),o!==n&&(o=n,a.style.height=o+"px")))}}}(e=c.processRules(e,o.createFollowButton,"Story.createFollowButton")),n=e.iframe$,r=e.messageHandler;t.appendChild(n),s.addEvent(window,"message",r),i.push(function(){s.removeEvent(window,"message",r),t.removeChild(n)})}}}},{"../../vendor/web2app":49,"../common":39,"../util":43,"./rules":37}],37:[function(e,t,n){var r,i,o;t.exports=(r=e("../util"),i=e("../common"),o={required:{title:r.isString},optional:{desc:r.isString,name:r.isString,images:r.isArray,type:r.isString},defaults:{type:"website"},after:function(e){e.images&&(e.imageurl=e.images,delete e.images)}},{createShareButton:{required:{container:r.passesOneOf([r.isElement,r.isString])},optional:{url:r.isString,text:r.isString},defaults:{url:location.href}},share:{optional:{url:r.isString,text:r.isString},defaults:{url:location.href}},open:{optional:{url:r.isString,text:r.isString,urlInfo:function(e){return r.isObject(e)&&!!i.processRules(e,o,"Story.open")},install:r.isBoolean},defaults:{url:location.href,install:!1}},createFollowButton:{required:{container:r.passesOneOf([r.isElement,r.isString]),id:r.isString},optional:{showFollowerCount:r.isBoolean,type:r.isOneOf(["horizontal","vertical"])},defaults:{showFollowerCount:!0,type:"horizontal"},after:function(e){"@"!==e.id[0]&&(e.id="@"+e.id)}}})},{"../common":39,"../util":43}],38:[function(e,t,n){var r;t.exports=(r=e("../vendor/userAgent")(),{getOrigin:function(){var e=location,t=e.protocol,n=e.hostname,e=e.port;return t+"//"+n+(e?":"+e:"")},getNavigator:function(){return navigator},getUA:function(){return r}})},{"../vendor/userAgent":48}],39:[function(e,t,n){function a(e){Error.prototype.constructor.apply(this,arguments),this.name="KakaoError",this.message=e}var s,r,c;t.exports=(s=e("./util"),t=(r=e("./browserProxy")).getOrigin(),e=r.getNavigator(),(c={}).VERSION="1.39.16",c.KAKAO_AGENT=["sdk/"+c.VERSION,"os/javascript","sdk_type/javascript","lang/"+(e.userLanguage||e.language),"device/"+e.platform.replace(/ /g,"_"),"origin/"+encodeURIComponent(t)].join(" "),c.UA=r.getUA(),c.URL={authDomain:"https://kauth.kakao.com",authorize:"https://kauth.kakao.com/oauth/authorize",loginWidget:"https://kauth.kakao.com/public/widget/login/kakaoLoginWidget.html",redirectUri:"JS-SDK",universalKakaoLink:"https://talk-apps.kakao.com/scheme/",talkLoginScheme:"kakaokompassauth://authorize",talkLoginRedirectUri:"https://kapi.kakao.com/cors/afterlogin.html",talkInappScheme:"kakaotalk://inappbrowser",talkSyncpluginScheme:"kakaotalk://bizplugin?plugin_id=6011263b74fc2b49c73a7298",apiRemote:"https://kapi.kakao.com/cors/",sharerDomain:"https://sharer.kakao.com",channel:"https://pf.kakao.com",channelIcon:"https://developers.kakao.com/assets/img/about/logos",storySelectChannel:"https://kauth.kakao.com/story/select_channel",storyShare:"https://story.kakao.com/s/share",storyChannelFollow:"https://story.kakao.com/s/follow",storyIcon:"https://developers.kakao.com/sdk/js/resources/story/icon_small.png",storyPostScheme:"storylink://posting",naviStartScheme:"kakaonavi-sdk://navigate",naviShareScheme:"kakaonavi-sdk://sharePoi",naviWeb:"https://kakaonavi-wguide.kakao.com/openapi"},c.RUNTIME={appKey:"",accessToken:""},c.DUMMY_KEY="YOUR APP KEY",a.prototype=new Error,c.KakaoError=a,c.isDebug=function(){return!1},c.logDebug=function(e){c.isDebug()&&window.console&&console.log(JSON.stringify(e))},c.initSubModules=function(n,e){s.each(e,function(e){for(var t in e)n[t]=n[t]||e[t]})},c.emptyCleanups=function(e){s.each(e,function(e){e()}),e.length=0},c.validate=function(e,t,n){if(!0!==t(e))throw new a("Illegal argument for "+n)},c.processRules=function(e,t,r){e=e||{},t.before&&t.before(e),s.isFunction(t.defaults)?s.defaults(e,t.defaults(e)):s.defaults(e,t.defaults);var n=t.required||{},i=s.difference(s.keys(n),s.keys(e));if(i.length)throw new a("Missing required keys: "+i.join(",")+" at "+r);var i=t.optional||{},o=s.extend({},n,i),i=s.difference(s.keys(e),s.keys(o));if(i.length)throw new a("Invalid parameter keys: "+i.join(",")+" at "+r);return s.each(e,function(e,t){var n=o[t];c.validate(e,n,'"'+t+'" in '+r)}),t.after&&t.after(e),e},c.getInstallUrl=function(e,t){if(c.UA.os.android){var n={appkey:c.RUNTIME.appKey,KA:c.KAKAO_AGENT};return"market://details?id="+e+"&referrer="+JSON.stringify(n)}return c.UA.os.ios?"https://itunes.apple.com/app/id"+t:location.href},c.guardCreateEasyXDM=function(e){try{return e()}catch(e){throw e instanceof TypeError?new a("kakao.js should be loaded from a web server"):new a("EasyXDM - "+e.message)}},c.serializeFile=function(r){return new Promise(function(t,n){"undefined"==typeof FileReader&&n(new a("File API is not supported for this browser."));var e=new FileReader;e.onload=function(e){try{t(s.arrayBufferToString(e.target.result))}catch(e){n(e)}},e.onerror=function(e){n(new a("Cannot read file: "+r.name))},e.readAsArrayBuffer(r)})},c.popupWindows={},c.windowOpen=function(e,t,n){var r=c.popupWindows[t];return r&&r.close&&!r.closed&&r.close(),c.popupWindows[t]=window.open(e,t,n),c.popupWindows[t]},c.applyAttributes=function(n,r,i){s.keys(i).forEach(function(e){var t=r.getAttribute(i[e]);null!==t&&(n[e]="true"===t||"false"===t?"true"===t:t)})},c)},{"./browserProxy":38,"./util":43}],40:[function(e,t,n){var r,i;t.exports=(r=e("./util"),i={},{subscribe:function(e,t){i[e]||(i[e]=[]),i[e].push(t)},unsubscribe:function(e,t){for(var n=i[e],r=0;r<l.length;r++)if(n[m]===t){n.splice(m,1);break}},dispatch:function(e){e=i[e];e&&e.length&&r.each(e,function(e){e()})}})},{"./util":43}],41:[function(i,e,t){e.exports=function(e){e.Kakao=e.Kakao||{};var t=e.Kakao,n=i("./util"),r=i("./common");return t.VERSION=r.VERSION,t.Story=i("./Story"),t.init=function(e){if(r.RUNTIME.appKey)throw new r.KakaoError("Kakao.init: Already initialized");if(!n.isString(e)||e===r.DUMMY_KEY)throw new r.KakaoError("Kakao.init: App key must be provided");r.RUNTIME.appKey=e,t.Auth=i("./Auth"),t.API=i("./API"),t.Link=i("./Link"),t.Navi=i("./Navi"),t.Channel=i("./Channel"),t.PlusFriend=i("./PlusFriend")},t.isInitialized=function(){return!!r.RUNTIME.appKey},t.cleanup=function(){t.Auth&&t.Auth.cleanup(),t.API&&t.API.cleanup(),t.Link&&t.Link.cleanup(),t.Story&&t.Story.cleanup(),t.PlusFriend&&t.PlusFriend.cleanup(),t.Channel&&t.Channel.cleanup(),n.nullify(r.RUNTIME)},window.kakaoAsyncInit&&window.kakaoAsyncInit(),t}(window)},{"./API":4,"./Auth":9,"./Channel":17,"./Link":22,"./Navi":29,"./PlusFriend":32,"./Story":35,"./common":39,"./util":43}],42:[function(e,t,n){t.exports=function(r,i){var o=0,a=!1,s=null;return{start:function(e,t){o=0,a=!1,function e(t,n){a||(s=setTimeout(function(){++o>i?n():(t(),e(t,n))},r))}(e,t)},stop:function(){a=!0,clearTimeout(s)}}}},{}],43:[function(e,t,n){t.exports=function(){var a={},s={},n=Array.prototype,e=Object.prototype,r=n.slice,i=n.concat,o=e.toString,c=e.hasOwnProperty,u=n.forEach,t=n.map,l=n.filter,p=n.every,d=n.some,f=n.indexOf,e=Array.isArray,m=Object.keys,h=a.each=function(e,t,n){if(null==e)return e;if(u&&e.forEach===u)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)===s)return}else for(var o=a.keys(e),r=0,i=o.length;r<i;r++)if(t.call(n,e[o[r]],o[r],e)===s)return;return e};a.map=function(e,r,i){var o=[];return null==e?o:t&&e.map===t?e.map(r,i):(h(e,function(e,t,n){o.push(r.call(i,e,t,n))}),o)},a.filter=function(e,r,i){var o=[];return null==e?o:l&&e.filter===l?e.filter(r,i):(h(e,function(e,t,n){r.call(i,e,t,n)&&o.push(e)}),o)},a.every=function(e,r,i){r=r||a.identity;var o=!0;return null==e?o:p&&e.every===p?e.every(r,i):(h(e,function(e,t,n){if(!(o=o&&r.call(i,e,t,n)))return s}),!!o)};var g=a.any=function(e,r,i){r=r||a.identity;var o=!1;return null==e?o:d&&e.some===d?e.some(r,i):(h(e,function(e,t,n){if(o=o||r.call(i,e,t,n))return s}),!!o)};return a.contains=function(e,t){return null!=e&&(f&&e.indexOf===f?-1!=e.indexOf(t):g(e,function(e){return e===t}))},a.difference=function(e){var t=i.apply(n,r.call(arguments,1));return a.filter(e,function(e){return!a.contains(t,e)})},a.partial=function(i){var o=r.call(arguments,1);return function(){for(var e=0,t=o.slice(),n=0,r=t.length;n<r;n++)t[n]===a&&(t[n]=arguments[e++]);for(;e<arguments.length;)t.push(arguments[e++]);return i.apply(this,t)}},a.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},a.keys=function(e){if(!a.isObject(e))return[];if(m)return m(e);var t,n=[];for(t in e)a.has(e,t)&&n.push(t);return n},a.extend=function(n){return h(r.call(arguments,1),function(e){if(e)for(var t in e)n[t]=e[t]}),n},a.defaults=function(n){return h(r.call(arguments,1),function(e){if(e)for(var t in e)void 0===n[t]&&(n[t]=e[t])}),n},a.isElement=function(e){return!(!e||1!==e.nodeType)},a.isArray=e||function(e){return"[object Array]"==o.call(e)},a.isObject=function(e){return e===Object(e)},h(["Arguments","Function","String","Number","Date","RegExp","Blob","File","FileList"],function(t){a["is"+t]=function(e){return o.call(e)=="[object "+t+"]"}}),a.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==o.call(e)},a.has=function(e,t){return c.call(e,t)},a.identity=function(e){return e},a.isInteger=function(e){return a.isNumber(e)&&e%1==0},a.emptyFunc=function(){},a.getElement=function(e){return a.isElement(e)?e:a.isString(e)?document.querySelector(e):null},a.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},a.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},a.buildQueryString=function(e,t){var n,r,i,o=[];for(i in e)e.hasOwnProperty(i)&&(r=e[i],a.isObject(r)&&(r=JSON.stringify(r)),n=!1===t?i:encodeURIComponent(i),r=!1===t?r:encodeURIComponent(r),o.push(n+"="+r));return o.join("&")},a.getRandomString=function(){return Math.random().toString(36).slice(2)},a.nullify=function(n){a.each(n,function(e,t){n[t]=null})},a.isOneOf=function(e){return a.partial(a.contains,e)},a.passesOneOf=function(e){if(!a.isArray(e))throw new Error("validators should be an Array");return function(t){return a.any(e,function(e){return e(t)})}},a.isURL=function(e){return/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/.test(e)},a.arrayBufferToString=function(e){for(var t,n="",r=new Uint8Array(e),i=r.length,o=Math.pow(2,16),a=0;a<i;a+=o)t=Math.min(o,i-a),t=r.subarray(a,a+t),n+=String.fromCharCode.apply(null,t);return n},a.isJSONString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},a.localStorage=function(){var t={_data:{},setItem:function(e,t){return this._data[e]=String(t)},getItem:function(e){return this._data.hasOwnProperty(e)?this._data[e]:null},removeItem:function(e){return delete this._data[e]},clear:function(){return this._data={}}};try{return"localStorage"in window?(window.localStorage.setItem("store",""),window.localStorage.removeItem("store"),window.localStorage):t}catch(e){return t}}(),a}()},{}],44:[function(t,e,n){e.exports=function(){var e=t("../vendor/userAgent.js")();return{isAndroidWebView:function(){return e.os.android&&(2==e.os.version.major&&/Version\/\d+.\d+|/i.test(e.ua)||4==e.os.version.major&&e.os.version.minor<4&&/Version\/\d+.\d+|/i.test(e.ua)||/Version\/\d+\.\d+/i.test(e.ua)&&(/Chrome\/\d+\.\d+\.\d+\.\d+ Mobile/i.test(e.ua)||/; wv\)/i.test(e.ua)))},isIOSKakaoTalkWebView:function(){return e.os.ios&&/KAKAOTALK/i.test(e.ua)},isAndroidKakaoTalkWebView:function(){return e.os.android&&/KAKAOTALK/i.test(e.ua)},isNewerAndroidKakaoTalkWebView:function(){return e.os.android&&/KAKAOTALK/i.test(e.ua)&&e.browser.chrome&&71<=e.browser.version.major}}}},{"../vendor/userAgent.js":48}],45:[function(e,t,n){var c,r,i,u,o,I;t.exports=(I=function(s){function n(){}var e={},t=e.lib={},r=t.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else if(65535<n.length)for(i=0;i<e;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*s.random()|0);return new c.init(t,e)}}),i=e.enc={},o=i.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},a=i.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},u=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(a.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return a.parse(unescape(encodeURIComponent(e)))}},l=t.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,r=t.sigBytes,i=this.blockSize,o=r/(4*i);if(e=(o=e?s.ceil(o):s.max((0|o)-this._minBufferSize,0))*i,r=s.min(4*e,r),e){for(var a=0;a<e;a+=i)this._doProcessBlock(n,a);a=n.splice(0,e),t.sigBytes-=r}return new c.init(a,r)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});t.Hasher=l.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new p.HMAC.init(n,t).finalize(e)}}});var p=e.algo={};return e}(Math),c=I.lib.WordArray,I.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)e.push(r.charAt(o>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,n=this._map;!(o=n.charAt(64))||-1!=(o=e.indexOf(o))&&(t=o);for(var r,i,o=[],a=0,s=0;s<t;s++)s%4&&(r=n.indexOf(e.charAt(s-1))<<s%4*2,i=n.indexOf(e.charAt(s))>>>6-s%4*2,o[a>>>2]|=(r|i)<<24-a%4*8,a++);return c.create(o,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(o){function S(e,t,n,r,i,o,a){return((e=e+(t&n|~t&r)+i+a)<<o|e>>>32-o)+t}function A(e,t,n,r,i,o,a){return((e=e+(t&r|n&~r)+i+a)<<o|e>>>32-o)+t}function x(e,t,n,r,i,o,a){return((e=e+(t^n^r)+i+a)<<o|e>>>32-o)+t}function O(e,t,n,r,i,o,a){return((e=e+(n^(t|~r))+i+a)<<o|e>>>32-o)+t}for(var e=I,t=(r=e.lib).WordArray,n=r.Hasher,r=e.algo,T=[],i=0;i<64;i++)T[i]=4294967296*o.abs(o.sin(i+1))|0;r=r.MD5=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=e[i=t+n];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var n=this._hash.words,i=e[t+0],r=e[t+1],o=e[t+2],a=e[t+3],s=e[t+4],c=e[t+5],u=e[t+6],l=e[t+7],p=e[t+8],d=e[t+9],f=e[t+10],m=e[t+11],h=e[t+12],g=e[t+13],y=e[t+14],v=e[t+15],k=S(n[0],w=n[1],_=n[2],b=n[3],i,7,T[0]),b=S(b,k,w,_,r,12,T[1]),_=S(_,b,k,w,o,17,T[2]),w=S(w,_,b,k,a,22,T[3]),k=S(k,w,_,b,s,7,T[4]),b=S(b,k,w,_,c,12,T[5]),_=S(_,b,k,w,u,17,T[6]),w=S(w,_,b,k,l,22,T[7]),k=S(k,w,_,b,p,7,T[8]),b=S(b,k,w,_,d,12,T[9]),_=S(_,b,k,w,f,17,T[10]),w=S(w,_,b,k,m,22,T[11]),k=S(k,w,_,b,h,7,T[12]),b=S(b,k,w,_,g,12,T[13]),_=S(_,b,k,w,y,17,T[14]),k=A(k,w=S(w,_,b,k,v,22,T[15]),_,b,r,5,T[16]),b=A(b,k,w,_,u,9,T[17]),_=A(_,b,k,w,m,14,T[18]),w=A(w,_,b,k,i,20,T[19]),k=A(k,w,_,b,c,5,T[20]),b=A(b,k,w,_,f,9,T[21]),_=A(_,b,k,w,v,14,T[22]),w=A(w,_,b,k,s,20,T[23]),k=A(k,w,_,b,d,5,T[24]),b=A(b,k,w,_,y,9,T[25]),_=A(_,b,k,w,a,14,T[26]),w=A(w,_,b,k,p,20,T[27]),k=A(k,w,_,b,g,5,T[28]),b=A(b,k,w,_,o,9,T[29]),_=A(_,b,k,w,l,14,T[30]),k=x(k,w=A(w,_,b,k,h,20,T[31]),_,b,c,4,T[32]),b=x(b,k,w,_,p,11,T[33]),_=x(_,b,k,w,m,16,T[34]),w=x(w,_,b,k,y,23,T[35]),k=x(k,w,_,b,r,4,T[36]),b=x(b,k,w,_,s,11,T[37]),_=x(_,b,k,w,l,16,T[38]),w=x(w,_,b,k,f,23,T[39]),k=x(k,w,_,b,g,4,T[40]),b=x(b,k,w,_,i,11,T[41]),_=x(_,b,k,w,a,16,T[42]),w=x(w,_,b,k,u,23,T[43]),k=x(k,w,_,b,d,4,T[44]),b=x(b,k,w,_,h,11,T[45]),_=x(_,b,k,w,v,16,T[46]),k=O(k,w=x(w,_,b,k,o,23,T[47]),_,b,i,6,T[48]),b=O(b,k,w,_,l,10,T[49]),_=O(_,b,k,w,y,15,T[50]),w=O(w,_,b,k,c,21,T[51]),k=O(k,w,_,b,h,6,T[52]),b=O(b,k,w,_,a,10,T[53]),_=O(_,b,k,w,f,15,T[54]),w=O(w,_,b,k,r,21,T[55]),k=O(k,w,_,b,p,6,T[56]),b=O(b,k,w,_,v,10,T[57]),_=O(_,b,k,w,u,15,T[58]),w=O(w,_,b,k,g,21,T[59]),k=O(k,w,_,b,s,6,T[60]),b=O(b,k,w,_,m,10,T[61]),_=O(_,b,k,w,o,15,T[62]),w=O(w,_,b,k,d,21,T[63]);n[0]=n[0]+k|0,n[1]=n[1]+w|0,n[2]=n[2]+_|0,n[3]=n[3]+b|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32;var i=o.floor(n/4294967296);for(t[15+(64+r>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t[14+(64+r>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,n=0;n<4;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.MD5=n._createHelper(r),e.HmacMD5=n._createHmacHelper(r)}(Math),t=(i=(r=I).lib).Base,u=i.WordArray,o=(i=r.algo).EvpKDF=t.extend({cfg:t.extend({keySize:4,hasher:i.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(a=this.cfg).hasher.create(),r=u.create(),i=r.words,o=a.keySize,a=a.iterations;i.length<o;){s&&n.update(s);var s=n.update(e).finalize(t);n.reset();for(var c=1;c<a;c++)s=n.finalize(s),n.reset();r.concat(s)}return r.sigBytes=4*o,r}}),r.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)},I.lib.Cipher||function(){var e=(d=I).lib,t=e.Base,a=e.WordArray,n=e.BufferedBlockAlgorithm,r=d.enc.Base64,i=d.algo.EvpKDF,o=e.Cipher=n.extend({cfg:t.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){n.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(r){return{encrypt:function(e,t,n){return("string"==typeof t?f:p).encrypt(r,e,t,n)},decrypt:function(e,t,n){return("string"==typeof t?f:p).decrypt(r,e,t,n)}}}});e.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});function s(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]}var c=d.mode={},u=(e.BlockCipherMode=t.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();u.Encryptor=u.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;s.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),u.Decryptor=u.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),s.call(this,e,t,r),this._prevBlock=i}}),c=c.CBC=u,u=(d.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=(n-=e.sigBytes%n)<<24|n<<16|n<<8|n,i=[],o=0;o<n;o+=4)i.push(r);n=a.create(i,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},e.BlockCipher=o.extend({cfg:o.cfg.extend({mode:c,padding:u}),reset:function(){o.reset.call(this);var e,t=(n=this.cfg).iv,n=n.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode=e.call(n,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var l=e.CipherParams=t.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),c=(d.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?a.create([1398893684,1701076831]).concat(e).concat(t):t).toString(r)},parse:function(e){var t,n=(e=r.parse(e)).words;return 1398893684==n[0]&&1701076831==n[1]&&(t=a.create(n.slice(2,4)),n.splice(0,4),e.sigBytes-=16),l.create({ciphertext:e,salt:t})}},p=e.SerializableCipher=t.extend({cfg:t.extend({format:c}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,l.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),d=(d.kdf={}).OpenSSL={execute:function(e,t,n,r){return r=r||a.random(8),e=i.create({keySize:t+n}).compute(e,r),n=a.create(e.words.slice(t),4*n),e.sigBytes=4*t,l.create({key:e,iv:n,salt:r})}},f=e.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:d}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=p.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,p.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=I,t=e.lib.BlockCipher,n=e.algo,a=[],r=[],i=[],o=[],s=[],c=[],u=[],l=[],p=[],d=[],f=[],m=0;m<256;m++)f[m]=m<128?m<<1:m<<1^283;for(var h=0,g=0,m=0;m<256;m++){var y=(y=g^g<<1^g<<2^g<<3^g<<4)>>>8^255&y^99;a[h]=y;var v=f[r[y]=h],k=f[v],b=f[k],_=257*f[y]^16843008*y;i[h]=_<<24|_>>>8,o[h]=_<<16|_>>>16,s[h]=_<<8|_>>>24,c[h]=_,u[y]=(_=16843009*b^65537*k^257*v^16843008*h)<<24|_>>>8,l[y]=_<<16|_>>>16,p[y]=_<<8|_>>>24,d[y]=_,h?(h=v^f[f[f[b^v]]],g^=f[f[g]]):h=g=1}var w=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=t.extend({_doReset:function(){for(var e,t=(r=this._key).words,n=r.sigBytes/4,r=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],o=0;o<r;o++)o<n?i[o]=t[o]:(e=i[o-1],o%n?6<n&&4==o%n&&(e=a[e>>>24]<<24|a[e>>>16&255]<<16|a[e>>>8&255]<<8|a[255&e]):(e=a[(e=e<<8|e>>>24)>>>24]<<24|a[e>>>16&255]<<16|a[e>>>8&255]<<8|a[255&e],e^=w[o/n|0]<<24),i[o]=i[o-n]^e);for(t=this._invKeySchedule=[],n=0;n<r;n++)o=r-n,e=n%4?i[o]:i[o-4],t[n]=n<4||o<=4?e:u[a[e>>>24]]^l[a[e>>>16&255]]^p[a[e>>>8&255]]^d[a[255&e]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,o,s,c,a)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,l,p,d,r),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],p=e[t+2]^n[2],d=e[t+3]^n[3],f=4,m=1;m<c;m++)var h=r[u>>>24]^i[l>>>16&255]^o[p>>>8&255]^a[255&d]^n[f++],g=r[l>>>24]^i[p>>>16&255]^o[d>>>8&255]^a[255&u]^n[f++],y=r[p>>>24]^i[d>>>16&255]^o[u>>>8&255]^a[255&l]^n[f++],d=r[d>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&p]^n[f++],u=h,l=g,p=y;h=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^n[f++],g=(s[l>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[f++],y=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[f++],d=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&p])^n[f++],e[t]=h,e[t+1]=g,e[t+2]=y,e[t+3]=d},keySize:8});e.AES=t._createHelper(n)}(),I)},{}],46:[function(e,t,n){t.exports=(function(m,u,l,h,d,f){var s,c,p,g,y,v=this||m,k=Math.floor(1e4*Math.random()),b=Function.prototype,_=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,n=/[\-\w]+\/\.\.\//,r=/([^:])\/\//g,w="",S={},t=m.easyXDM,A="easyXDM_",x=!1;function O(e,t){var n=_typeof(e[t]);return"function"==n||"object"==n&&e[t]||"unknown"==n}function T(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(K(navigator.plugins)||"object"!=_typeof(navigator.plugins[e])||(n=navigator.plugins[e].description)&&!K(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(c=n.match(/\d+/g)),!c)try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),c=Array.prototype.slice.call(r.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),r=null}catch(e){}if(c){var n=parseInt(c[0],10),r=parseInt(c[1],10);return p=9<n&&0<r,1}}if(O(m,"addEventListener"))g=function(e,t,n){e.addEventListener(t,n,!1)},y=function(e,t,n){e.removeEventListener(t,n,!1)};else{if(!O(m,"attachEvent"))throw new Error("Browser not supported");g=function(e,t,n){e.attachEvent("on"+t,n)},y=function(e,t,n){e.detachEvent("on"+t,n)}}var e,i=!1,o=[];function a(){if(!i){i=!0;for(var e=0;e<o.length;e++)o[e]();o.length=0}}function I(e,t){i?e.call(t):o.push(function(){e.call(t)})}function E(e){return e.match(_)[3]}function R(e){if(0<=e.indexOf("file://"))return"file://";var t=e.toLowerCase().match(_);if(!t)return"";var n=t[2],e=t[3],t=t[4]||"";return n+"//"+e+(t="http:"==n&&":80"==t||"https:"==n&&":443"==t?"":t)}function C(e){var t;for((e=e.replace(r,"$1/")).match(/^(http||https):\/\//)||("/"!==(t="/"===e.substring(0,1)?"":l.pathname).substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=l.protocol+"//"+l.host+t+e);n.test(e);)e=e.replace(n,"");return e}function U(e,t){var n="",r=e.indexOf("#");-1!==r&&(n=e.substring(r),e=e.substring(0,r));var i,o=[];for(i in t)t.hasOwnProperty(i)&&o.push(i+"="+f(t[i]));return e+(x?"#":-1==e.indexOf("?")?"?":"&")+o.join("&")+n}(i="readyState"in u?"complete"==(e=u.readyState)||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==e||"interactive"==e):!!u.body)||(O(m,"addEventListener")?g(u,"DOMContentLoaded",a):(g(u,"readystatechange",function(){"complete"==u.readyState&&a()}),u.documentElement.doScroll&&m===top&&function t(){if(!i){try{u.documentElement.doScroll("left")}catch(e){return void h(t,1)}a()}}()),g(m,"load",a));var L=function(e){for(var t,n={},r=(e=e.substring(1).split("&")).length;r--;)n[(t=e[r].split("="))[0]]=d(t[1]);return n}(/xdm_e=/.test(l.search)?l.search:l.hash);function K(e){return void 0===e}var P,j=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=n.evalJSON()).a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()}),e.stringify&&e.parse?(j=function(){return e},e):null)};function N(e,t,n){var r,i;for(i in t)t.hasOwnProperty(i)&&(i in e?"object"===(void 0===(r=t[i])?"undefined":_typeof(r))?N(e[i],r,n):n||(e[i]=t[i]):e[i]=t[i]);return e}function B(e){var t,n;K(s)&&((t=(r=u.body.appendChild(u.createElement("form"))).appendChild(u.createElement("input"))).name=A+"TEST"+k,s=t!==r.elements[t.name],u.body.removeChild(r)),s?n=u.createElement('<iframe name="'+e.props.name+'"/>'):(n=u.createElement("IFRAME")).name=e.props.name,n.id=n.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=u.getElementById(e.container)),e.container||(N(n.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=u.body);var r=e.props.src;if(e.props.src="javascript:false",N(n,e.props),n.border=n.frameBorder=0,n.allowTransparency=!0,e.container.appendChild(n),e.onLoad&&g(n,"load",e.onLoad),e.usePost){var i,o=e.container.appendChild(u.createElement("form"));if(o.target=n.name,o.action=r,o.method="POST","object"===_typeof(e.usePost))for(var a in e.usePost)e.usePost.hasOwnProperty(a)&&(s?i=u.createElement('<input name="'+a+'"/>'):(i=u.createElement("INPUT")).name=a,i.value=e.usePost[a],o.appendChild(i));o.submit(),o.parentNode.removeChild(o)}else n.src=r;return e.props.src=r,n}function F(e){var t,n=e.protocol;if(e.isHost=e.isHost||K(L.xdm_p),x=e.hash||!1,e.props||(e.props={}),e.isHost)e.remote=C(e.remote),e.channel=e.channel||"default"+k++,e.secret=Math.random().toString(16).substring(2),K(n)&&(n=R(l.href)==R(e.remote)?"4":O(m,"postMessage")||O(u,"postMessage")?"1":e.swf&&O(m,"ActiveXObject")&&T()?"6":"Gecko"===navigator.product&&"frameElement"in m&&-1==navigator.userAgent.indexOf("WebKit")?"5":e.remoteHelper?"2":"0");else if(e.channel=L.xdm_c.replace(/["'<>\\]/g,""),e.secret=L.xdm_s,e.remote=L.xdm_e.replace(/["'<>\\]/g,""),n=L.xdm_p,e.acl&&!function(e,t){for(var n=(e="string"==typeof e?[e]:e).length;n--;){var r="^"===e[n].substr(0,1)&&"$"===e[n].substr(e[n].length-1,1)?e[n]:"^"+e[n].replace(/[-[\]/{}()+.\^$|]/g,"\\$&").replace(/(\*)/g,".$1").replace(/\?/g,".")+"$";if((r=new RegExp(r)).test(t))return 1}}(e.acl,e.remote))throw new Error("Access denied for "+e.remote);switch(e.protocol=n){case"0":if(N(e,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),e.isHost){if(!e.local){for(var r,i=l.protocol+"//"+l.host,o=u.body.getElementsByTagName("img"),a=o.length;a--;)if((r=o[a]).src.substring(0,i.length)===i){e.local=r.src;break}e.local||(e.local=m)}var s={xdm_c:e.channel,xdm_p:0};e.local===m?(e.usePolling=!0,e.useParent=!0,e.local=l.protocol+"//"+l.host+l.pathname+l.search,s.xdm_e=e.local,s.xdm_pa=1):s.xdm_e=C(e.local),e.container&&(e.useResize=!1,s.xdm_po=1),e.remote=U(e.remote,s)}else N(e,{useParent:!K(L.xdm_pa),usePolling:!K(L.xdm_po),useResize:!e.useParent&&e.useResize});t=[new S.stack.HashTransport(e),new S.stack.ReliableBehavior({}),new S.stack.QueueBehavior({encode:!0,maxLength:4e3-e.remote.length}),new S.stack.VerifyBehavior({initiate:e.isHost})];break;case"1":t=[new S.stack.PostMessageTransport(e)];break;case"2":e.isHost&&(e.remoteHelper=C(e.remoteHelper)),t=[new S.stack.NameTransport(e),new S.stack.QueueBehavior,new S.stack.VerifyBehavior({initiate:e.isHost})];break;case"3":t=[new S.stack.NixTransport(e)];break;case"4":t=[new S.stack.SameOriginTransport(e)];break;case"5":t=[new S.stack.FrameElementTransport(e)];break;case"6":c||T(),t=[new S.stack.FlashTransport(e)]}return t.push(new S.stack.QueueBehavior({lazy:e.lazy,remove:!0})),t}function M(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},r=0,i=e.length;r<i;r++)N(t=e[r],n,!0),0!==r&&(t.down=e[r-1]),r!==i-1&&(t.up=e[r+1]);return t}N(S,{version:"2.5.00.1",query:L,stack:{},apply:N,getJSONObject:j,whenReady:I,noConflict:function(e){return m.easyXDM=t,(w=e)&&(A="easyXDM_"+w.replace(".","_")+"_"),S}}),S.DomHelper={on:g,un:y,requiresJSON:function(e){var t;"object"==_typeof((t=m)["JSON"])&&t.JSON||u.write('<script type="text/javascript" src="'+e+'"><\/script>')}},P={},S.Fn={set:function(e,t){P[e]=t},get:function(e,t){if(P.hasOwnProperty(e)){var n=P[e];return t&&delete P[e],n}}},S.Socket=function(n){var t=M(F(n).concat([{incoming:function(e,t){n.onMessage(e,t)},callback:function(e){n.onReady&&n.onReady(e)}}])),r=R(n.remote);this.origin=R(n.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,r)},t.init()},S.Rpc=function(t,e){if(e.local)for(var n in e.local){var r;!e.local.hasOwnProperty(n)||"function"==typeof(r=e.local[n])&&(e.local[n]={method:r})}var i=M(F(t).concat([new S.stack.RpcBehavior(this,e),{callback:function(e){t.onReady&&t.onReady(e)}}]));this.origin=R(t.remote),this.context=t.context||null,this.destroy=function(){i.destroy()},i.init()},S.stack.SameOriginTransport=function(e){var t,n,r,i;return t={outgoing:function(e,t,n){r(e),n&&n()},destroy:function(){n&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){i=R(e.remote),e.isHost?(N(e.props,{src:U(e.remote,{xdm_e:l.protocol+"//"+l.host+l.pathname,xdm_c:e.channel,xdm_p:4}),name:A+e.channel+"_provider"}),n=B(e),S.Fn.set(e.channel,function(e){return r=e,h(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,i)}})):(r=function(){var e=parent;if(""!==w)for(var t=0,n=w.split(".");t<n.length;t++)e=e[n[t]];return e.easyXDM}().Fn.get(e.channel,!0)(function(e){t.up.incoming(e,i)}),h(function(){t.up.callback(!0)},0))},init:function(){I(t.onDOMReady,t)}}},S.stack.FlashTransport=function(i){var n,r,o,a,s;function c(e,t){h(function(){n.up.incoming(e,o)},0)}return n={outgoing:function(e,t,n){a.postMessage(i.channel,e.toString()),n&&n()},destroy:function(){try{a.destroyChannel(i.channel)}catch(e){}a=null,r&&(r.parentNode.removeChild(r),r=null)},onDOMReady:function(){o=i.remote,S.Fn.set("flash_"+i.channel+"_init",function(){h(function(){n.up.callback(!0)})}),S.Fn.set("flash_"+i.channel+"_onMessage",c),i.swf=C(i.swf);function e(){S.stack.FlashTransport[t].init=!0,(a=S.stack.FlashTransport[t].swf).createChannel(i.channel,i.secret,R(i.remote),i.isHost),i.isHost&&(p&&i.swfNoThrottle&&N(i.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),N(i.props,{src:U(i.remote,{xdm_e:R(l.href),xdm_c:i.channel,xdm_p:6,xdm_s:i.secret}),name:A+i.channel+"_provider"}),r=B(i))}var t=E(i.swf);S.stack.FlashTransport[t]&&S.stack.FlashTransport[t].init?e():S.stack.FlashTransport[t]?S.stack.FlashTransport[t].queue.push(e):(S.stack.FlashTransport[t]={queue:[e]},function(n){var e=i.swf+"?host="+i.isHost,t="easyXDM_swf_"+Math.floor(1e4*Math.random());S.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){S.stack.FlashTransport[n].swf=a=s.firstChild;for(var e=S.stack.FlashTransport[n].queue,t=0;t<e.length;t++)e[t]();e.length=0}),i.swfContainer?s="string"==typeof i.swfContainer?u.getElementById(i.swfContainer):i.swfContainer:(N((s=u.createElement("div")).style,p&&i.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),u.body.appendChild(s));var r="callback=flash_loaded"+f(n.replace(/[\-.]/g,"_"))+"&proto="+v.location.protocol+"&domain="+f(E(v.location.href))+"&port="+f(v.location.href.match(_)[4]||"")+"&ns="+f(w);s.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+t+"' data='"+e+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+e+"'></param><param name='flashvars' value='"+r+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+r+"' allowScriptAccess='always' wmode='transparent' src='"+e+"' height='1' width='1'></embed></object>"}(t))},init:function(){I(n.onDOMReady,n)}}},S.stack.PostMessageTransport=function(r){var n,t,i,o;function a(e){var t;"string"!=typeof e.data||(t=function(e){if(e.origin)return R(e.origin);if(e.uri)return R(e.uri);if(e.domain)return l.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}(e))==o&&"string"==typeof e.data&&e.data.substring(0,r.channel.length+1)==r.channel+" "&&n.up.incoming(e.data.substring(r.channel.length+1),t)}function s(e){e.data==r.channel+"-ready"&&(i="postMessage"in t.contentWindow?t.contentWindow:t.contentWindow.document,y(m,"message",s),g(m,"message",a),h(function(){n.up.callback(!0)},0))}return n={outgoing:function(e,t,n){i.postMessage(r.channel+" "+e,t||o),n&&n()},destroy:function(){y(m,"message",s),y(m,"message",a),t&&(i=null,t.parentNode.removeChild(t),t=null)},onDOMReady:function(){"file://"===(o=R(r.remote))&&(o="*"),r.isHost?(g(m,"message",s),N(r.props,{src:U(r.remote,{xdm_e:R(l.href),xdm_c:r.channel,xdm_p:1}),name:A+r.channel+"_provider"}),t=B(r)):(g(m,"message",a),(i="postMessage"in m.parent?m.parent:m.parent.document).postMessage(r.channel+"-ready",o),h(function(){n.up.callback(!0)},0))},init:function(){I(n.onDOMReady,n)}}},S.stack.FrameElementTransport=function(e){var t,n,r,i;return t={outgoing:function(e,t,n){r.call(this,e),n&&n()},destroy:function(){n&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){i=R(e.remote),e.isHost?(N(e.props,{src:U(e.remote,{xdm_e:R(l.href),xdm_c:e.channel,xdm_p:5}),name:A+e.channel+"_provider"}),(n=B(e)).fn=function(e){return delete n.fn,r=e,h(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,i)}}):(u.referrer&&R(u.referrer)!=L.xdm_e&&(m.top.location=L.xdm_e),r=m.frameElement.fn(function(e){t.up.incoming(e,i)}),t.up.callback(!0))},init:function(){I(t.onDOMReady,t)}}},S.stack.NameTransport=function(n){var t,r,i,o,a,s,c,u;function l(e){var t=n.remoteHelper+(r?"#_3":"#_2")+n.channel;i.contentWindow.sendMessage(e,t)}function p(){r?2!=++a&&r||t.up.callback(!0):(l("ready"),t.up.callback(!0))}function d(e){t.up.incoming(e,c)}function f(){s&&h(function(){s(!0)},0)}return t={outgoing:function(e,t,n){s=n,l(e)},destroy:function(){i.parentNode.removeChild(i),i=null,r&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){r=n.isHost,a=0,c=R(n.remote),n.local=C(n.local),r?(S.Fn.set(n.channel,function(e){r&&"ready"===e&&(S.Fn.set(n.channel,d),p())}),u=U(n.remote,{xdm_e:n.local,xdm_c:n.channel,xdm_p:2}),N(n.props,{src:u+"#"+n.channel,name:A+n.channel+"_provider"}),o=B(n)):(n.remoteHelper=n.remote,S.Fn.set(n.channel,d));function e(){var t=i||this;y(t,"load",e),S.Fn.set(n.channel+"_load",f),function e(){"function"==typeof t.contentWindow.sendMessage?p():h(e,50)}()}i=B({props:{src:n.local+"#_4"+n.channel},onLoad:e})},init:function(){I(t.onDOMReady,t)}}},S.stack.HashTransport=function(r){var i,o,e,a,s,c,u,l,p,d;function t(){var e,t,n;u&&(t="",(t=-1!=(n=(e=u.location.href).indexOf("#"))?e.substring(n):t)&&t!=s&&(s=t,i.up.incoming(s.substring(s.indexOf("_")+1),d)))}function f(){e=setInterval(t,a)}return i={outgoing:function(e,t){l&&(e=r.remote+"#"+c+++"_"+e,(o||!p?l.contentWindow:l).location=e)},destroy:function(){m.clearInterval(e),!o&&p||l.parentNode.removeChild(l),l=null},onDOMReady:function(){var t,n;o=r.isHost,a=r.interval,s="#"+r.channel,c=0,p=r.useParent,d=R(r.remote),o?(N(r.props,{src:r.remote,name:A+r.channel+"_provider"}),p?r.onLoad=function(){u=m,f(),i.up.callback(!0)}:(t=0,n=r.delay/50,function e(){if(++t>n)throw new Error("Unable to reference listenerwindow");try{u=l.contentWindow.frames[A+r.channel+"_consumer"]}catch(e){}u?(f(),i.up.callback(!0)):h(e,50)}()),l=B(r)):(u=m,f(),p?(l=parent,i.up.callback(!0)):(N(r,{props:{src:r.remote+"#"+r.channel+new Date,name:A+r.channel+"_consumer"},onLoad:function(){i.up.callback(!0)}}),l=B(r)))},init:function(){I(i.onDOMReady,i)}}},S.stack.ReliableBehavior=function(e){var i,o,a=0,s=0,c="";return i={incoming:function(e,t){var n=e.indexOf("_"),r=e.substring(0,n).split(",");e=e.substring(n+1),r[0]==a&&(c="",o&&o(!0)),0<e.length&&(i.down.outgoing(r[1]+","+a+"_"+c,t),s!=r[1]&&(s=r[1],i.up.incoming(e,t)))},outgoing:function(e,t,n){c=e,o=n,i.down.outgoing(s+","+ ++a+"_"+e,t)}}},S.stack.QueueBehavior=function(o){var a,n,s=[],r=!0,i="",c=0,u=!1,l=!1;function p(){if(o.remove&&0===s.length)return(e=a).up.down=e.down,e.down.up=e.up,e.up=e.down=null;var e,t;r||0===s.length||n||(r=!0,t=s.shift(),a.down.outgoing(t.data,t.origin,function(e){r=!1,t.callback&&h(function(){t.callback(e)},0),p()}))}return a={init:function(){(o=K(o)?{}:o).maxLength&&(c=o.maxLength,l=!0),o.lazy?u=!0:a.down.init()},callback:function(e){r=!1;var t=a.up;p(),t.callback(e)},incoming:function(e,t){var n,r;l?(n=e.indexOf("_"),r=parseInt(e.substring(0,n),10),i+=e.substring(n+1),0===r&&(o.encode&&(i=d(i)),a.up.incoming(i,t),i="")):a.up.incoming(e,t)},outgoing:function(e,t,n){o.encode&&(e=f(e));var r,i=[];if(l){for(;0!==e.length;)r=e.substring(0,c),e=e.substring(r.length),i.push(r);for(;r=i.shift();)s.push({data:i.length+"_"+r,origin:t,callback:0===i.length?n:null})}else s.push({data:e,origin:t,callback:n});u?a.down.init():p()},destroy:function(){n=!0,a.down.destroy()}}},S.stack.VerifyBehavior=function(r){var i,o,a;function s(){o=Math.random().toString(16).substring(2),i.down.outgoing(o)}return i={incoming:function(e,t){var n=e.indexOf("_");-1===n?e===o?i.up.callback(!0):a||(a=e,r.initiate||s(),i.down.outgoing(e)):e.substring(0,n)===a&&i.up.incoming(e.substring(n+1),t)},outgoing:function(e,t,n){i.down.outgoing(o+"_"+e,t,n)},callback:function(e){r.initiate&&s()}}},S.stack.RpcBehavior=function(c,r){var t,i=r.serializer||j(),a=0,s={};function u(e){e.jsonrpc="2.0",t.down.outgoing(i.stringify(e))}return t={incoming:function(e,t){var n=i.parse(e);n.method?r.handle?r.handle(n,u):function(n,e,t){if(e){var r,i,o;n?(r=function(e){r=b,u({id:n,result:e})},i=function(e,t){i=b;e={id:n,error:{code:-32099,message:e}};t&&(e.error.data=t),u(e)}):r=i=b,o=t,"[object Array]"!==Object.prototype.toString.call(o)&&(t=[t]);try{var a=c.context||e.scope,s=e.method.apply(a,t.concat([r,i]));K(s)||r(s)}catch(e){i(e.message)}}else n&&u({id:n,error:{code:-32601,message:"Procedure not found."}})}((n.method,n.id),r.local[n.method],n.params):(e=s[n.id],n.error?e.error&&e.error(n.error):e.success&&e.success(n.result),delete s[n.id])},init:function(){if(r.remote)for(var e in r.remote)r.remote.hasOwnProperty(e)&&(c[e]=function(r,i){var o=Array.prototype.slice;return function(){var e,t=arguments.length,n={method:i};0<t&&"function"==typeof arguments[t-1]?(1<t&&"function"==typeof arguments[t-2]?(e={success:arguments[t-2],error:arguments[t-1]},n.params=o.call(arguments,0,t-2)):(e={success:arguments[t-1]},n.params=o.call(arguments,0,t-1)),s[""+ ++a]=e,n.id=a):n.params=o.call(arguments,0),r.namedParams&&1===n.params.length&&(n.params=n.params[0]),u(n)}}(r.remote[e],e));t.down.init()},destroy:function(){for(var e in r.remote)r.remote.hasOwnProperty(e)&&c.hasOwnProperty(e)&&delete c[e];t.down.destroy()}}},v.easyXDM=S}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),easyXDM.noConflict("Kakao"))},{}],47:[function(M,q,e){!function(N,B,F){!function(){"use strict";function u(e){return"function"==typeof e}var t,a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,s=function(e,t){m[n]=e,m[n+1]=t,2===(n+=2)&&y()},e="undefined"!=typeof window?window:void 0,r=e||{},i=r.MutationObserver||r.WebKitMutationObserver,o=void 0!==N&&"[object process]"==={}.toString.call(N),r="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function c(){return function(){setTimeout(h,1)}}var l,p,d,f,m=new Array(1e3);function h(){for(var e=0;e<n;e+=2)(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0;n=0}function g(){}var y=o?(f=N.nextTick,o=N.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/),Array.isArray(o)&&"0"===o[1]&&"10"===o[2]&&(f=F),function(){f(h)}):i?(p=0,i=new i(h),d=document.createTextNode(""),i.observe(d,{characterData:!0}),function(){d.data=p=++p%2}):r?((l=new MessageChannel).port1.onmessage=h,function(){l.port2.postMessage(0)}):(void 0===e&&"function"==typeof M?function(){try{var e=M("vertx");return t=e.runOnLoop||e.runOnContext,function(){t(h)}}catch(e){return c()}}:c)(),v=void 0,k=1,b=2,_=new E;function w(e,i,t){s(function(n){var r=!1,e=function(e,t){try{e.call(t,function(e){r||(r=!0,(i!==e?S:x)(n,e))},function(e){r||(r=!0,O(n,e))})}catch(e){return e}}(t,i,n._label);!r&&e&&(r=!0,O(n,e))},e)}function S(e,t){var n;e===t?O(e,new TypeError("You cannot resolve a promise with itself")):("function"==typeof(n=t)||"object"===(void 0===n?"undefined":_typeof(n))&&null!==n?function(e,t){var n,r;t.constructor===e.constructor?(n=e,(r=t)._state===k?x(n,r._result):r._state===b?O(n,r._result):T(r,void 0,function(e){S(n,e)},function(e){O(n,e)})):(r=function(e){try{return e.then}catch(e){return _.error=e,_}}(t))===_?O(e,_.error):void 0!==r&&u(r)?w(e,t,r):x(e,t)}:x)(e,t)}function A(e){e._onerror&&e._onerror(e._result),I(e)}function x(e,t){e._state===v&&(e._result=t,e._state=k,0!==e._subscribers.length&&s(I,e))}function O(e,t){e._state===v&&(e._state=b,e._result=t,s(A,e))}function T(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+k]=n,i[o+b]=r,0===o&&e._state&&s(I,e)}function I(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?C(n,r,i,o):i(o);e._subscribers.length=0}}function E(){this.error=null}var R=new E;function C(e,t,n,r){var i,o,a,s,c=u(n);if(c){if((i=function(e,t){try{return e(t)}catch(e){return R.error=e,R}}(n,r))===R?(s=!0,o=i.error,i=null):a=!0,t===i)return O(t,new TypeError("A promises callback cannot return that same promise.")),0}else i=r,a=!0;t._state!==v||(c&&a?S(t,i):s?O(t,o):e===k?x(t,i):e===b&&O(t,i))}function U(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(g),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?x(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&x(n.promise,n._result))):O(n.promise,n._validationError())}U.prototype._validateInput=function(e){return a(e)},U.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},U.prototype._init=function(){this._result=new Array(this.length)};var L=U;U.prototype._enumerate=function(){for(var e=this.length,t=this.promise,n=this._input,r=0;t._state===v&&r<e;r++)this._eachEntry(n[r],r)},U.prototype._eachEntry=function(e,t){var n,r=this,i=r._instanceConstructor;"object"===(void 0===(n=e)?"undefined":_typeof(n))&&null!==n?e.constructor===i&&e._state!==v?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(i.resolve(e),t):(r._remaining--,r._result[t]=e)},U.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===v&&(r._remaining--,e===b?O(i,n):r._result[t]=n),0===r._remaining&&x(i,r._result)},U.prototype._willSettleAt=function(e,t){var n=this;T(e,void 0,function(e){n._settledAt(k,t,e)},function(e){n._settledAt(b,t,e)})};var K=0,P=j;function j(e){this._id=K++,this._state=void 0,this._result=void 0,this._subscribers=[],g!==e&&(u(e)||function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof j||function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}(),function(t,e){try{e(function(e){S(t,e)},function(e){O(t,e)})}catch(e){O(t,e)}}(this,e))}j.all=function(e){return new L(this,e).promise},j.race=function(e){var t=new this(g);if(!a(e))return O(t,new TypeError("You must pass an array to race.")),t;var n=e.length;function r(e){S(t,e)}function i(e){O(t,e)}for(var o=0;t._state===v&&o<n;o++)T(this.resolve(e[o]),void 0,r,i);return t},j.resolve=function(e){if(e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.constructor===this)return e;var t=new this(g);return S(t,e),t},j.reject=function(e){var t=new this(g);return O(t,e),t},j.prototype={constructor:j,then:function(e,t){var n=this._state;if(n===k&&!e||n===b&&!t)return this;var r,i=new this.constructor(g),o=this._result;return n?(r=arguments[n-1],s(function(){C(n,i,r,o)})):T(this,i,e,t),i},catch:function(e){return this.then(null,e)}};r=function(){var e;if(void 0!==B)e=B;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=P)},e={Promise:P,polyfill:r};void 0!==q&&q.exports?q.exports=e:void 0!==this&&(this.ES6Promise=e),r()}.call(this)}.call(this,M("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},M("timers").setImmediate)},{_process:1,timers:2}],48:[function(e,t,n){t.exports=function(e){function t(e){var t={},e=e?e.split(/\.|-|_/):["0","0","0"];return t.info=e.join("."),t.major=e[0]||"0",t.minor=e[1]||"0",t.patch=e[2]||"0",t}return{ua:e=(e||window.navigator.userAgent).toString().toLowerCase(),browser:(i={},"webkit"===(o=/(dolfin)[ \/]([\w.]+)/.exec(r=e)||/(edge)[ \/]([\w.]+)/.exec(r)||/(chrome)[ \/]([\w.]+)/.exec(r)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(r)||/(webkit)(?:.*version)?[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(r)||["","unknown"])[1]?o=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(r)||/(android)[ \/]([\w._\-]+);/.exec(r)||[o[0],"safari",o[2]]:"mozilla"===o[1]?/trident/.test(r)?o[1]="msie":o[1]="firefox":"edge"===o[1]?o[1]="spartan":/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(r)&&(o[1]="polaris"),i[o[1]]=!0,i.name=o[1],i.version=t(o[2]),i),platform:!(i=o=e).match(/linux|windows (nt|98)|macintosh/)||i.match(/android|mobile|polaris|lgtelecom|uzard|natebrowser|ktf;|skt;/)?!((n=o).match(/ipad/)||n.match(/android/)&&!n.match(/mobi|mini|fennec/))?o.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)?"mobile":"":"tablet":"pc",os:(n={},"iphone"===(o=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(o=e)||/(android)[ \/]([\w._\-]+);/.exec(o)||!!/android/.test(o)&&["","android","0.0.0"]||!!/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(o)&&["","polaris","0.0.0"]||/(windows)(?: nt | phone(?: os){0,1} | )([\w._\-]+)/.exec(o)||!!/(windows)/.test(o)&&["","windows","0.0.0"]||/(mac) os x ([\w._\-]+)/.exec(o)||!!/(linux)/.test(o)&&["","linux","0.0.0"]||!!/webos/.test(o)&&["","webos","0.0.0"]||/(bada)[ \/]([\w._\-]+)/.exec(o)||!!/bada/.test(o)&&["","bada","0.0.0"]||!!/(rim|blackberry|bb10)/.test(o)&&["","blackberry","0.0.0"]||["","unknown","0.0.0"])[1]||"ipad"===o[1]||"ipod"===o[1]?o[1]="ios":"windows"===o[1]&&"98"===o[2]&&(o[2]="0.98.0"),n[o[1]]=!0,n.name=o[1],n.version=t(o[2]),n),app:(n={},(e=/(crios)[ \/]([\w.]+)/.exec(e=e)||/(daumapps)[ \/]([\w.]+)/.exec(e)||["",""])[1]?(n.isApp=!0,n.name=e[1],n.version=t(e[2])):n.isApp=!1,n)};var n,r,i,o}},{}],49:[function(e,t,n){function c(e){window.top.location.replace(e)}function u(t,n,r){var i=(new Date).getTime();return setTimeout(function(){var e=(new Date).getTime();l()&&e-i<t+100&&r(n)},t)}function l(){for(var e=["hidden","webkitHidden"],t=0,n=e.length;t<n;t++)if(void 0!==document[e[t]])return!document[e[t]];return 1}function p(t){setTimeout(function(){var e;(e=document.createElement("iframe")).id="appLauncher",e.style.border="none",e.style.width="0",e.style.height="0",e.style.display="none",e.style.overflow="hidden",document.body.appendChild(e),e.src=t},100)}var d,f,m,h;t.exports=(e=e("./userAgent.js"),d=e(),f=d.os,m=["firefox","opr/"],h=["KAKAOTALK"],function(e){var t,n,r,i="function"==typeof e.willInvokeApp?e.willInvokeApp:function(){},o="function"==typeof e.onAppMissing?e.onAppMissing:c,a="function"==typeof e.onUnsupportedEnvironment?e.onUnsupportedEnvironment:function(){};function s(){top.location.href=t}i(),f.android?(n=d.browser.chrome&&25<=+d.browser.version.major,r=new RegExp(m.join("|"),"i"),i=new RegExp(h.join("|"),"i"),(n&&!r.test(d.ua)||i.test(d.ua))&&e.intentURI&&!e.useUrlScheme?(t=e.intentURI,d.browser.chrome?s():setTimeout(s,100)):e.storeURL&&(i=e.urlScheme,u(300,e.storeURL,o),p(i))):f.ios&&e.storeURL?function(e,t,n){t=u(5e3,t,o);(parseInt(d.os.version.major,10)<8?function(t){window.addEventListener("pagehide",function e(){l()&&(clearTimeout(t),window.removeEventListener("pagehide",e))})}:function(t){document.addEventListener("visibilitychange",function e(){l()&&(clearTimeout(t),document.removeEventListener("visibilitychange",e))})})(t),8<parseInt(d.os.version.major,10)&&d.os.ios?(void 0===n?n=e:clearTimeout(t),n=n,window.top.location.replace(n)):p(e)}(e.urlScheme,e.storeURL,e.universalLink):setTimeout(function(){a()},100)})},{"./userAgent.js":48}]},{},[41])(41)});

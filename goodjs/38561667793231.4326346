!function(){var y=window,m=y.document,s=!!y.sessionStorage,_=(_=m.getElementsByTagName("head"))&&0<_.length?_[0]:m.body;try{s&&(sessionStorage.setItem("_",""),sessionStorage.removeItem("_"))}catch(e){s=!1}var b={},c={};function a(e,t){c[e]=JSON.parse(JSON.stringify(t))}function f(e){b=JSON.parse(JSON.stringify(e))}delete(b={selfHosted:!0,codeVer:"19.11.0",siteKey:"wellsfargo",gateway:"gateway.foresee.com",configLocation:"gateway.foresee.com/sites/wellsfargo",integrityHashLocation:"fsrConfigIntegrityHashes"})._;function r(e,t){return n.call(e,t)}function u(e){return"object"==typeof e}function l(e){return"[object Array]"==Object.prototype.toString.call(e)}function i(e){return"string"==typeof e}function S(e){var r={};return y.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,t,n){r[t]=n}),(e=r[e])&&decodeURIComponent(e)}var n=Object.prototype.hasOwnProperty,w=function(e,t){for(var n in e)if(r(e,n)&&t(e[n],n))break},d=function(e){return null!=e},g=function(e){return"function"==typeof e},p=function(e){return setTimeout(e,0)};function h(){var e,t,n,r=arguments,o=r[0]||{},i=1,a=r.length,s=!1===arguments[arguments.length-1];for("object"!=typeof o&&"function"!=typeof o&&(o={}),a===i&&(o=this,--i);i<a;i++)if(void 0!==(e=r[i]))for(t in e)o!==(n=e[t])&&void 0!==n&&(n instanceof Array?n=n.slice(0):n instanceof Date?n=new Date(n.getTime()):null===n?n=null:"object"!=typeof n||s||(n=h({},n)),o[t]=n);return o}var O=function(e,t,n){return d(n)&&e.setAttribute(t,n),e&&e.getAttribute?e.getAttribute(t):null},e=function(e){var t=document.documentElement.classList;e?t.add("_fsrclientInvokedHide"):t.remove("_fsrclientInvokedHide")},o={_enforceGlobalNS:function(){y.FSR||(y.FSR={}),y.FSFB||(y.FSFB={})},expose:function(e,t){var n;o._enforceGlobalNS(),"clearState"!==e&&"clearStateFeedback"!==e||(n=t,t=function(){for(var e=0;e<v.length;e++)v[e]();n()}),y.FSR[e]=y.FSFB[e]=t},retrieveFromAPI:function(e){return o._enforceGlobalNS(),y.FSR[e]}},v=[];o.expose("setFSRVisibility",e);var j,t,L,F,R,A,E=(L=[],F=document,R=F.documentElement,re=R.doScroll,A=(re?/^loaded|^c/:/^loaded|c/).test(F.readyState),F.addEventListener&&F.addEventListener("DOMContentLoaded",t=function(){F.removeEventListener("DOMContentLoaded",t,!1),C()},!1),re&&F.attachEvent("onreadystatechange",t=function(){/^c/.test(F.readyState)&&(F.detachEvent("onreadystatechange",t),C())}),j=re?function(t){self!=top?A?t():L.push(t):function(){try{R.doScroll("left")}catch(e){return setTimeout(function(){j(t)},50)}t()}()}:function(e){A?e():L.push(e)});function C(e){for(A=1;(e=L.shift())&&e(),e;);}function x(e){var t=(""+location.hash).toLowerCase();return e=(e||"").toLowerCase(),!!(/fscommand|fscmd|acscmd|acscommand/.test(t)&&-1<t.indexOf(e))}var N=(P.prototype.catch=function(e){return this.then(null,e)},P.prototype.then=function(e,t){var n=new this.constructor(I);return T(this,new J(e,t,n)),n},P.prototype.finally=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})},P.all=function(t){return new P(function(o,i){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(t);if(0===a.length)return o([]);var s=a.length;for(var e=0;e<a.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,function(e){t(n,e)},i),0}a[n]=e,0==--s&&o(a)}catch(e){i(e)}}(e,a[e])})},P.resolve=function(t){return t&&"object"==typeof t&&t.constructor===P?t:new P(function(e){e(t)})},P.reject=function(n){return new P(function(e,t){t(n)})},P.race=function(o){return new P(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},P._unhandledRejectionFn=function(e){},P),k=y.Promise||N,U=/MSIE |Trident/.test(window.navigator.userAgent)?N:k;function I(){}function P(e){if(!(this instanceof P))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],$(e,this)}function T(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,p(function(){var e,t=1===n._state?r.onFulfilled:r.onRejected;if(null!==t){try{e=t(n._value)}catch(e){return void H(r.promise,e)}D(r.promise,e)}else(1===n._state?D:H)(r.promise,n._value)})):n._deferreds.push(r)}function D(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof P)return t._state=3,t._value=e,void z(t);if("function"==typeof n)return void $((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,z(t)}catch(e){H(t,e)}var r,o}function H(e,t){e._state=2,e._value=t,z(e)}function z(e){2===e._state&&0===e._deferreds.length&&p(function(){e._handled||P._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)T(e,e._deferreds[t]);e._deferreds=null}function J(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function $(e,t){var n=!1;try{e(function(e){n||(n=!0,D(t,e))},function(e){n||(n=!0,H(t,e))})}catch(e){if(n)return;n=!0,H(t,e)}}var K=null,V=null,q=null,B=null,M=null,G=null,Q=null,W=null,X=null,Y=null,Z=y.performance&&y.performance.timing?y.performance.timing.responseStart:(new Date).getTime(),ee=b.codeVer||"";function te(e){K=e.assetOverride,V=e.rootOverride,q=e.tagAttrs,B=e.productCfgOverride,M=e.hasSSL,G=e.gatewayLocation,Q=e.isProduction,W=e.isSelfHosted,X=e.normalizeAssetUrl,Y=e.normalizeUrl,ee=b.codeVer||""}function ne(e,t,n){void 0===n&&(n=!1);for(var r=t.split("."),o=1,i=e,a=r.length,s=r[0];o<a&&(i=i[s]);)s=r[o++],l(i)&&!isNaN(parseFloat(s))&&isFinite(s)&&(s=+s);if(o===a&&i)return{obj:i,key:s};if(!n)throw new Error("Can't find config: "+r.slice(0,o).join("."))}var re=b,N=decodeURIComponent,k=encodeURIComponent,oe=Object.freeze({config:re,dec:N,enc:k,getProductConfig:function(e){return c[e]},get globalConfig(){return b},API:o,domReady:E,featureFlag:function(e,t){if((t=t||{}).after=t.after||function(){},!e)return t.after(),null;if(!b.featureFlags)return t.after(),null;e=b.featureFlags[e];return"boolean"!=typeof e?(t.after(),null):e&&"function"==typeof t.on?(t.on(t.after),t.on.length<1&&t.after(),e):e||"function"!=typeof t.off?void 0:(t.off(t.after),t.off.length<1&&t.after(),e)},fsCmd:x,Promise:U,get supportsDomStorage(){return s},winReady:function(e){var t;"complete"===m.readyState?p(e):(t=e,(e=y).addEventListener?e.addEventListener("load",t,!1):e.attachEvent("onload",t))},get assetLocation(){return K},get codeLocation(){return V},get embedAttrs(){return q},get gwConfigOverride(){return B},get hasSSL(){return M},get home(){return G},get isProduction(){return Q},get isSelfHosted(){return W},get makeAssetURI(){return X},get makeURI(){return Y},resetStartTS:function(){Z=(new Date).getTime()},get startTS(){return Z},get tagVersion(){return ee},attr:O,compute:function(e){return new[].constructor.constructor(e).call(y)},diff:function e(t,n,r){r=r||[];var o,i,a={};for(i in t)if((o=t[i])!==t&&void 0!==o&&(!d(n[i])||o!==n[i]))if(u(o)&&!l(o)){if(r.some(function(e){return e===this},o))continue;r.push(o);var s=e(o,n[i],r);d(s)&&(!s.length||0<s.length)&&(a[i]=s),r.pop()}else a[i]=o;return a},dispose:function(e){if(e){if(e.length)for(var t=e.length-1;0<=t;t--)e[t]=null;for(var n in e){var r=typeof e[n];"function"!=r&&"object"!=r||(e[n]=null)}}},eachProp:w,ext:h,getParam:S,getQueryString:function(e){var r={};y.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,t,n){-1<n.indexOf("#")?r[t]=n.substring(0,n.indexOf("#")):r[t]=n});e=r[e];return e&&decodeURIComponent(e)},hasProp:r,isArray:l,isDate:function(e){return e instanceof Date},isDefined:d,isElement:function(e){return e&&e.nodeType&&(1==e.nodeType||11==e.nodeType||9==e.nodeType)},isFunction:g,isNodeList:function(e){return"[object NodeList]"==Object.prototype.toString.call(e)},isObject:u,isPlainObject:function(e){if(!e||"[object Object]"!==Object.prototype.toString.call(e)||e.nodeType||e.setInterval)return!1;if(e.constructor&&!hasOwnProperty.call(e,"constructor")&&!hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1;var t,n=!0;for(t in e)(!n||void 0===t||hasOwnProperty.call(e,t)||!hasOwnProperty.call(e,t)&&hasOwnProperty.call(Object.prototype,t))&&(n=!1);return n},isString:i,nextTick:p,proxy:function(e,t){return e.bind(t)},setFSRVisibility:e,toLowerCase:function(e){return i(e)?e.toLowerCase():""},toQueryString:function(e,t){var n,r=d(t)?t+(-1<t.indexOf("?")?"&":"?"):"";if(e)for(var o in e)n=e[o],i(n)||(n=JSON.stringify(n)),r+=encodeURIComponent(o)+"="+encodeURIComponent(n)+"&";return r},getNested:ne}),ie=((e=fe.prototype).resolve=function(e){this._resolve&&(this._resolve(e),this._resolve=null,this._loaded=!0)},e.isResolved=function(){return!this._resolve},e.load=function(){var i=this;if(!(this._loaded||this.name.indexOf("/")<0)){this._loaded=!0;var a=m.createElement("script");return a.type="text/javascript",a.charset="utf-8",a.async=!0,a.setAttribute("data-name",this.name),new U(function(e,t){var n=function(){o(),e()},r=function(){o(),t(new Error("Foresee WebSDK failed to load: "+i.name))};function o(){a.removeEventListener("load",n,!1),a.removeEventListener("error",r,!1),a.parentNode.removeChild(a)}a.addEventListener("load",n,!1),a.addEventListener("error",r,!1),a.src=i.name,_.appendChild(a)})}},fe),e=((e=ce.prototype).require=function(e,t){for(var n,r=[],o=0;o<e.length;o++)"exports"===e[o]?r.push({}):(n=this._getModule(e[o]),r.push(n.promise),this._load(n));t&&U.all(r).then(function(e){p(function(){return t.apply(y,e)})})},e.define=function(e,t,o){var i=this;g(t)&&(o=t),l(e)&&(t=e,e=null);var n=new U(function(r){i.require(t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];p(function(){return r(i._run(o,t))})})});this._register(e,n)},e._getModule=function(e){return this._modules[e]=this._modules[e]||new ie(e),this._modules[e]},e._register=function(e,t){if(!e){var n=m.currentScript;if(!n)return void this._pending.push(t);e=n.getAttribute("data-name")}this._getModule(e).resolve(t)},e._run=function(e,t){t=e.apply(y,t);return t&&t.startup&&t.startup(),t},e._load=function(e){var t=this,n=e.load();n&&n.then(function(){e.isResolved()||t._legacyLoad(e)}).catch(function(e){})},e._legacyLoad=function(e){var t;this._pending.length<1||(t=this._pending.shift(),this._register(e.name,t))},new ce),ae=e.define.bind(e),se=e.require.bind(e);function ce(){this._modules={},this._pending=[]}function fe(e){var t=this;this.name=e,this.promise=new U(function(e){return t._resolve=e}),this._loaded=!1}ae("define",function(){return ae}),ae("require",function(){return se}),y._fsDefine=y._acsDefine=ae,y._fsRequire=y._acsRequire=se;var ue={normalizeUrl:function(e){e=e.replace("foresee/","trigger/");var t,n,r=ue.gatewayLocation||"";if(-1<e.indexOf("v="))return e;if("$"!=e.substr(0,1))return e=-1==e.indexOf("//")?"/"==r.substr(r.length-1,1)&&"/"==e.substr(0,1)?r+e.substr(1):r+e:e;if(ue.rootOverride){var o="/";return"/"===ue.rootOverride[ue.rootOverride.length-1]&&(o=""),e.replace("$",""+ue.rootOverride+o)}return t="code/"+b.codeVer+"/"+e.replace("$",""),"/"==r?r+t:(o=(n=r).substr(0,n.indexOf("//"))+"//",n=(r=(e=n.substr(o.length)).substr(e.indexOf("/")+1)).substr(r.lastIndexOf("/")+1),r=r.substr(0,r.length-n.length-1),e=e.substr(0,e.indexOf("/")),(r=r.split("/")).length-=Math.min(r.length,3),(o+e+"/"+r.join("/")+n).replace(/\/\/\//g,"//")+t)},normalizeAssetUrl:function(e){return ue.assetOverride?"/"===e.substr(0,1)?ue.assetOverride+e.substr(1):ue.assetOverride+e:ue.normalizeUrl(e)}};ue.locateGW=function(){var n,r,o,e,t,i,a,s,c,f,u,l,d=m.getElementsByTagName("script"),g="gateway",p="/";if(_&&(O(_,"data-skipfsinit"),e=O(_,"data-fsgatewaylocparam"),t=O(_,"data-codeversion"),i=O(_,"data-analyticsurl"),a=O(_,"data-surveyurl"),s=O(_,"data-product-assets"),c=O(_,"data-codelocation"),f=O(_,"data-productconfig"),u=O(_,"data-isselfhosted"),l=O(_,"data-hasssl"),e=e&&S(e),ue.isSelfHosted=!1,u&&(ue.isSelfHosted="true"==S(u)),ue.hasSSL=!0,l&&(ue.hasSSL="true"==S(l)||"false"),c&&(ue.rootOverride=S(c)),s&&(ue.assetOverride=S(s),"undefined"===ue.assetOverride&&(ue.assetOverride=void 0)),f&&(ue.productCfgOverride=S(f)),t&&(b.codeVer=S(t)),i&&(b.analyticsUrl=S(i)),a&&(b.surveyUrl=S(a))),("string"!=typeof b.siteKey||b.siteKey.length<1)&&(b.siteKey=S("sitekey")),w(d,function(e,t){"length"!==t&&(o=O(e,"src")||"","fs"!=(t=O(e,"data-vendor"))&&"acs"!=t||O(e,"data-role")!=g?-1<o.indexOf(g)&&(r=e):n=e)}),!(n=n||r))throw new Error('FSR: No script tag has been found. Expected is a script tag with the following attributes:  data-vendor="fs"  data-role="gateway"  src="[a_path_leading_to]/gateway[.min].js". Aborting loading.');for(var h=0;h<n.attributes.length;h++){var v=n.attributes[h];ue.tagAttrs[v.name]=v.value}ue.gwScript=n,o=e||O(n,"src"),ue.environment=O(n,"data-environment")||ue.environment,ue.rootOverride=O(n,"data-codelocation")||ue.rootOverride,ue.assetOverride=O(n,"data-product-assets")||ue.assetOverride,ue.isSelfHosted=O(n,"data-isselfhosted")?"true"==O(n,"data-isselfhosted"):ue.isSelfHosted,ue.hasSSL=O(n,"data-hasssl")||ue.hasSSL,-1==o.indexOf(":/")&&o.substr(0,1)!=p&&(-1<(d=(""+y.location.href).split(p))[d.length-1].indexOf(".")&&d[d.length-1].toLowerCase()!=y.location.hostname.toLowerCase()&&d.pop(),o=d.join(p)+(o.substr(0,1)==p?"":p)+o),(o=o.split(p)).pop(),function(e){for(var t,n=0;n<e.length;n++)if("."===(t=e[n]))e.splice(n,1),--n;else if(".."===t){if(0===n||1==n&&".."===e[2]||".."===e[n-1])continue;0<n&&(e.splice(n-1,2),n-=2)}}(o),ue.gatewayLocation=o.join(p)+p,ue.isProduction=-1<ue.gatewayLocation.toLowerCase().indexOf("production"),ue.rootOverride&&ue.rootOverride.substr(ue.rootOverride.length-1)!=p&&(ue.rootOverride+=p),ue.assetOverride&&ue.assetOverride.substr(ue.assetOverride.length-1)!=p&&(ue.assetOverride+=p),te(ue)},ue.environment="production",ue.isSelfHosted=!1,ue.hasSSL=!0,ue.assetOverride=void 0,ue.rootOverride=void 0,ue.tagAttrs={},ue.gatewayLocation="",ue.isProduction=!1,ue.productCfgOverride=null,ue.gwScript=null,te(ue);var le=ue.normalizeUrl;function de(i){return"object"==typeof i&&w(i,function(e,t){if("object"==typeof e&&null!=e)if("variable"===e.source&&d(e.default)&&d(e.path)){var n=ne(y,e.path,!0),r=n&&n.obj[n.key];if(d(r)&&null!==r){if("function"==typeof r||"object"==typeof r)throw new Error("Cannot replace config setting "+t+" with path "+e.path+" with a "+typeof r);switch(typeof e.default){case"string":o=String(r),r=ge.test(o)?o.replace(ge,function(e){return pe[e]}):o;break;case"number":r=parseFloat(r);break;case"boolean":r="false"!==String(r)&&Boolean(r);break;default:throw new Error("Default for "+t+" replaced with path "+e.path+" is invalid type "+typeof e.default)}i[t]=r}else i[t]=e.default}else de(e);var o}),i}y._fsNormalizeUrl=y._acsNormalizeUrl=ue.normalizeUrl,y._fsNormalizeAssetUrl=ue.normalizeAssetUrl;var ge=/[&<>"']/g,pe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},he="fsrQAConfig",e=function(){if(s)try{sessionStorage.removeItem(he)}catch(e){}};v.push(e),ae("fs",function(){return oe}),ae("_acs",function(){return oe});var ve,ye={record:["$fs.record.js"],feedback:["$fs.feedback.js","$fs.survey.js"],trigger:["$fs.trigger.js"]};function me(){void 0!==y.opera&&"[object Opera]"===y.opera.toString()||!JSON||document.documentMode<10||void 0===y._fsAlreadyBootedSDK&&(y._fsAlreadyBootedSDK=!0,E(_e))}function _e(){p(function(){var e,t,n="fsReady";ue.gwScript&&(e=O(ue.gwScript,"data-module"),r="true"==O(ue.gwScript,"data-isselfhosted"),b.selfHosted||(b.selfHosted=r),(r=O(ue.gwScript,"data-config"))&&(r=JSON.parse(atob(r)),h(b,r.global))),d(y.acsReady)&&(y[n]=y.acsReady),d(y.acsReady)||(y.acsReady=y[n]||function(){var e="__fsReady_stk__";y[e]=y[e]||[],y[e].push(arguments)});function i(){if(function(){var e,n;if(s){try{e=sessionStorage.getItem(he)}catch(e){}e&&(f((n=JSON.parse(e)).global),w(c,function(e,t){n[t]&&a(t,n[t])}))}}(),de(b),de(c),w(c,function(e,t){b.products[t]&&(o=o.concat(ye[t]))}),o.push("$fs.utils.js"),o.push("$fs.compress.js"),w(b.products,function(e,t){e&&!c[t]&&(b.products[t]=!1)}),e)e&&p(function(){se([le(e)],function(){})});else{for(t=0;t<o.length;t++)o[t]=ue.normalizeUrl(o[t]);se(o,function(){if(!y.__fsReady__){y.__fsReady__=y.__acsReady__=y.fsReady=y.acsReady=function(){var t=arguments;p(function(){for(var e=0;e<t.length;e++)g(t[e])&&t[e].call(y)})};var e=y.__fsReady_stk__;if(e){for(var t=0;t<e.length;t++)p(function(t){return function(){for(var e=0;e<t.length;e++)t[e].call(y)}}(e[t]));delete y.__fsReady_stk__}}})}}var r,o=[];b.selfHosted&&!r?(r=[ue.normalizeUrl("$fs.utils.js"),ue.normalizeUrl("$fs.sanitize.js")],se(r,function(e,n){var r=new e.SeshStorage(b.siteKey+"_"+ue.environment,!1),t=r.get("setts");function o(e){e=JSON.parse(e);e.global=e.global||{},e.global.selfHosted=b.selfHosted,e.global.siteKey=b.siteKey,e.global.codeVer=b.codeVer,e.global.gateway=b.gateway,e.global.configLocation=b.configLocation,f(e.global),delete e.global,w(e,function(e,t){b.products[t]&&a(t,e)}),i()}t?o(t):(t=(0!=b.configLocation.indexOf("/")?location.protocol+"//":"")+b.configLocation+"/"+ue.environment+"/config.json",(new e.AjaxTransport).send({method:"GET",url:t,success:function(t){t&&n.checkIntegrity(t).then(function(e){e?(r.set("setts",t),r.commit(),o(t)):(console.error("Foreseee WebSDK failed integrity code check on config.json."),console.error("Please contact Foresee support for an updated integrity code."))}).catch(function(e){})}}))})):i()})}ue.locateGW(),function(){try{if(s&&sessionStorage.getItem(he))return}catch(e){}return x("qa")||S("fsr-qa-mode")}()?(ve=me,se([le("$fs.utils.js")],function(e){function i(e){e=ne(n,e);return e.obj[e.key]}function a(e,t){e=ne(n,e);e.obj[e.key]=t}var t,n;t=ve,(n=h({},c)).global=b,o.expose("QA",{get:i,set:a,copy:function(e,t){return a(t,JSON.parse(JSON.stringify(i(e))))},remove:function(e){var t=ne(n,e);l(t.obj)?t.obj.splice(t.key,1):delete t.obj[e]},insert:function(e,t,n){var r=i(e);if(!l(r))throw new Error("Expected "+e+" to be an array");t<0&&(t=r.length+1+t),r.splice(t,0,n)},getFlag:function(e){return i("global.featureFlags."+e)},setFlag:function(e,t){return a("global.featureFlags."+e,t)},getAllFlags:function(){return i("global.featureFlags")},setAllFlags:function(e){for(var t=i("global.featureFlags"),n=Object.keys(t),r=n.length,o=0;o<r;o++)a("global.featureFlags."+n[o],e)},done:function(){delete y.FSR.QA,delete y.FSFB.QA,s&&sessionStorage.setItem(he,JSON.stringify(n)),t()}})})):me()}();

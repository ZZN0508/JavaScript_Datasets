YUI.add("handlebars-helper-intl",function(e,t){!(function(e,t){"use strict";var r=e.Intl||e.IntlPolyfill;"function"==typeof define&&define.amd&&define(["intl-messageformat"],function(e){return t(r,e)}),"object"==typeof exports&&(module.exports=t(r,require("intl-messageformat"))),e.HandlebarsHelperIntl=t(r,e.IntlMessageFormat)})("undefined"!=typeof global?global:this,function(e,t){"use strict";function r(t,r,n){var a,o,l,f,s,u,m;if(JSON){if(n){a=[];for(l in n)n.hasOwnProperty(l)&&a.push(l);for(a.sort(),f=0,s=a.length;f<s;f+=1)(o={})[l=a[f]]=n[l],a[f]=o}u=JSON.stringify([r,a])}if(m=i[t][u])return m;switch(t){case"number":m=new e.NumberFormat(r,n);break;case"date":m=new e.DateTimeFormat(r,n)}return u&&(i[t][u]=m),m}function n(e){var t,r,n,a,i=Array.prototype.slice.call(arguments,1);for(t=0,r=i.length;t<r;t+=1)if(n=i[t])for(a in n)n.hasOwnProperty(a)&&(e[a]=n[a]);return e}if(!e)throw new ReferenceError("Intl must be available.");if(!t)throw new ReferenceError("IntlMessageFormat must be available.");var a={};a.registerWith=function(e){function a(e,t){var r,n,a,i=t.data&&t.data.intl,o=e.split(".");try{for(a=0,n=o.length;a<n;a++)r=i=i[o[a]]}finally{if(void 0===r)throw new ReferenceError("Could not find Intl object: "+e)}return r}function i(e,r){r||(r=e,e=null);var n=r.hash;if(!e&&"string"!=typeof e&&!n.intlName)throw new ReferenceError("{{intlMessage}} must be provided a message or intlName");var i=r.data.intl||{},o=i.locales,l=i.formats;return!e&&n.intlName&&(e=a(n.intlName,r)),"function"==typeof e?e(n):("function"!=typeof e.format&&(e=new t(e,o,l)),e.format(n))}var o,l=e.SafeString,f=e.createFrame,s=e.Utils.escapeExpression,u={intl:function(e){if(!e.fn)throw new ReferenceError("{{#intl}} must be invoked as a block helper");var t=f(e.data),r=n({},t.intl,e.hash);return t.intl=r,e.fn(this,{data:t})},intlDate:function(e,t,i){if(!(e=new Date(e))||!e.getTime())throw new TypeError("A date must be provided.");i||(i=t,t=null);var o=i.hash,l=i.data,f=l.intl&&l.intl.locales;return t?("string"==typeof t&&(t=a("formats.date."+format,i)),t=n({},t,o)):t=o,r("date",f,t).format(e)},intlNumber:function(e,t,i){if("number"!=typeof e)throw new TypeError("A number must be provided.");i||(i=t,t=null);var o=i.hash,l=i.data,f=l.intl&&l.intl.locales;return t?("string"==typeof t&&(t=a("formats.number."+format,i)),t=n({},t,o)):t=o,r("number",f,t).format(e)},intlGet:a,intlMessage:i,intlHTMLMessage:function(){var e,t,r=[].slice.call(arguments).pop().hash;for(e in r)r.hasOwnProperty(e)&&"string"==typeof(t=r[e])&&(r[e]=s(t));return new l(String(i.apply(this,arguments)))}};for(o in u)u.hasOwnProperty(o)&&e.registerHelper(o,u[o])};var i={number:{},date:{}};return a})},"@VERSION@",{es:!0,requires:["intl-messageformat"]});YUI.add("god-message",function(i){"use strict";i.godMessage=function(n){var o,r,g,c,e,f,t="GOD_MESSAGE_MISSING";if(void 0===n.intlName)return t;if(r=n.intlName,g=r.split("."),!(i.config.flickr&&i.config.flickr.god&&i.config.flickr.god.lang&&i.config.flickr.god.lang))return t;o=i.clone(i.config.flickr.god.lang);try{for(f=0,e=g.length;f<e;f++)c=o=o[g[f]]}catch(i){return t}return void 0===c?t:c}},"@VERSION@",{requires:["oop"]});YUI.add("cldr-numbers",function(o,t){o[t]={data:{"en-US":{"1000-count-one":"0K","1000-count-other":"0K","10000-count-one":"00K","10000-count-other":"00K","100000-count-one":"000K","100000-count-other":"000K","1000000-count-one":"0M","1000000-count-other":"0M","10000000-count-one":"00M","10000000-count-other":"00M","100000000-count-one":"000M","100000000-count-other":"000M","1000000000-count-one":"0B","1000000000-count-other":"0B","10000000000-count-one":"00B","10000000000-count-other":"00B","100000000000-count-one":"000B","100000000000-count-other":"000B","1000000000000-count-one":"0T","1000000000000-count-other":"0T","10000000000000-count-one":"00T","10000000000000-count-other":"00T","100000000000000-count-one":"000T","100000000000000-count-other":"000T"},"zh-HK":{"1000-count-other":"0K","10000-count-other":"00K","100000-count-other":"000K","1000000-count-other":"0M","10000000-count-other":"00M","100000000-count-other":"000M","1000000000-count-other":"0B","10000000000-count-other":"00B","100000000000-count-other":"000B","1000000000000-count-other":"0T","10000000000000-count-other":"00T","100000000000000-count-other":"000T"},"de-DE":{"1000-count-one":"0","1000-count-other":"0","10000-count-one":"0","10000-count-other":"0","100000-count-one":"0","100000-count-other":"0","1000000-count-one":"0Â Mio'.'","1000000-count-other":"0Â Mio'.'","10000000-count-one":"00Â Mio'.'","10000000-count-other":"00Â Mio'.'","100000000-count-one":"000Â Mio'.'","100000000-count-other":"000Â Mio'.'","1000000000-count-one":"0Â Mrd'.'","1000000000-count-other":"0Â Mrd'.'","10000000000-count-one":"00Â Mrd'.'","10000000000-count-other":"00Â Mrd'.'","100000000000-count-one":"000Â Mrd'.'","100000000000-count-other":"000Â Mrd'.'","1000000000000-count-one":"0Â Bio'.'","1000000000000-count-other":"0Â Bio'.'","10000000000000-count-one":"00Â Bio'.'","10000000000000-count-other":"00Â Bio'.'","100000000000000-count-one":"000Â Bio'.'","100000000000000-count-other":"000Â Bio'.'"},"es-US":{"1000-count-one":"0","1000-count-other":"0","10000-count-one":"00k","10000-count-other":"00k","100000-count-one":"000k","100000-count-other":"000k","1000000-count-one":"0Â M","1000000-count-other":"0Â M","10000000-count-one":"00Â M","10000000-count-other":"00Â M","100000000-count-one":"000Â M","100000000-count-other":"000Â M","1000000000-count-one":"0kÂ M","1000000000-count-other":"0kÂ M","10000000000-count-one":"00kÂ M","10000000000-count-other":"00kÂ M","100000000000-count-one":"000kÂ M","100000000000-count-other":"000kÂ M","1000000000000-count-one":"0Â B","1000000000000-count-other":"0Â B","10000000000000-count-one":"00Â B","10000000000000-count-other":"00Â B","100000000000000-count-one":"000Â B","100000000000000-count-other":"000Â B"},"fr-FR":{"1000-count-one":"0Â k","1000-count-other":"0Â k","10000-count-one":"00Â k","10000-count-other":"00Â k","100000-count-one":"000Â k","100000-count-other":"000Â k","1000000-count-one":"0Â M","1000000-count-other":"0Â M","10000000-count-one":"00Â M","10000000-count-other":"00Â M","100000000-count-one":"000Â M","100000000-count-other":"000Â M","1000000000-count-one":"0Â Md","1000000000-count-other":"0Â Md","10000000000-count-one":"00Â Md","10000000000-count-other":"00Â Md","100000000000-count-one":"000Â Md","100000000000-count-other":"000Â Md","1000000000000-count-one":"0Â Bn","1000000000000-count-other":"0Â Bn","10000000000000-count-one":"00Â Bn","10000000000000-count-other":"00Â Bn","100000000000000-count-one":"000Â Bn","100000000000000-count-other":"000Â Bn"},"ko-KR":{"1000-count-other":"0ì²œ","10000-count-other":"0ë§Œ","100000-count-other":"00ë§Œ","1000000-count-other":"000ë§Œ","10000000-count-other":"0000ë§Œ","100000000-count-other":"0ì–µ","1000000000-count-other":"00ì–µ","10000000000-count-other":"000ì–µ","100000000000-count-other":"0000ì–µ","1000000000000-count-other":"0ì¡°","10000000000000-count-other":"00ì¡°","100000000000000-count-other":"000ì¡°"},"it-IT":{"1000-count-one":"0","1000-count-other":"0","10000-count-one":"0","10000-count-other":"0","100000-count-one":"0","100000-count-other":"0","1000000-count-one":"0Â Mln","1000000-count-other":"0Â Mln","10000000-count-one":"00Â Mln","10000000-count-other":"00Â Mln","100000000-count-one":"000Â Mln","100000000-count-other":"000Â Mln","1000000000-count-one":"0Â Mld","1000000000-count-other":"0Â Mld","10000000000-count-one":"00Â Mld","10000000000-count-other":"00Â Mld","100000000000-count-one":"000Â Mld","100000000000-count-other":"000Â Mld","1000000000000-count-one":"0Â Bln","1000000000000-count-other":"0Â Bln","10000000000000-count-one":"00Â Bln","10000000000000-count-other":"00Â Bln","100000000000000-count-one":"000Â Bln","100000000000000-count-other":"000Â Bln"},"pt-BR":{"1000-count-one":"0Â mil","1000-count-other":"0Â mil","10000-count-one":"00Â mil","10000-count-other":"00Â mil","100000-count-one":"000Â mil","100000-count-other":"000Â mil","1000000-count-one":"0Â mi","1000000-count-other":"0Â mi","10000000-count-one":"00Â mi","10000000-count-other":"00Â mi","100000000-count-one":"000Â mi","100000000-count-other":"000Â mi","1000000000-count-one":"0Â bi","1000000000-count-other":"0Â bi","10000000000-count-one":"00Â bi","10000000000-count-other":"00Â bi","100000000000-count-one":"000Â bi","100000000000-count-other":"000Â bi","1000000000000-count-one":"0Â tri","1000000000000-count-other":"0Â tri","10000000000000-count-one":"00Â tri","10000000000000-count-other":"00Â tri","100000000000000-count-one":"000Â tri","100000000000000-count-other":"000Â tri"},"vi-VN":{"1000-count-other":"0Â N","10000-count-other":"00Â N","100000-count-other":"000Â N","1000000-count-other":"0Â Tr","10000000-count-other":"00Â Tr","100000000-count-other":"000Â Tr","1000000000-count-other":"0Â T","10000000000-count-other":"00Â T","100000000000-count-other":"000Â T","1000000000000-count-other":"0Â NT","10000000000000-count-other":"00Â NT","100000000000000-count-other":"000Â NT"},"id-ID":{"1000-count-other":"0Â rb","10000-count-other":"00Â rb","100000-count-other":"000Â rb","1000000-count-other":"0Â jt","10000000-count-other":"00Â jt","100000000-count-other":"000Â jt","1000000000-count-other":"0Â M","10000000000-count-other":"00Â M","100000000000-count-other":"000Â M","1000000000000-count-other":"0Â T","10000000000000-count-other":"00Â T","100000000000000-count-other":"000Â T"}}}},"@VERSION@");YUI.add("intl-number",function(e,t){var o=require("hermes-core/flog")(t),n=e["cldr-numbers"];e.IntlNumber={format:function(e,t,o){var r,c,i,u,a,s,l,f,m,h=n.data["en-US"],g=n.data[t],p="",y="",d="";if(e<1e3)return e.toLocaleString(t,{maximumFractionDigits:o});if(e<2e3)p="1000-count-one",y="1000-count-other";else if(e<1e4)p="1000-count-other",y="1000-count-one";else if(e<2e4)p="10000-count-one",y="10000-count-other";else if(e<1e5)p="10000-count-other",y="10000-count-one";else if(e<2e5)p="100000-count-one",y="100000-count-other";else if(e<1e6)p="100000-count-other",y="100000-count-one";else if(e<2e6)p="1000000-count-one",y="1000000-count-other";else if(e<1e7)p="1000000-count-other",y="1000000-count-one";else if(e<2e7)p="10000000-count-one",y="10000000-count-other";else if(e<1e8)p="10000000-count-other",y="10000000-count-one";else if(e<2e8)p="100000000-count-one",y="100000000-count-other";else if(e<1e9)p="100000000-count-other",y="100000000-count-one";else if(e<2e9)p="1000000000-count-one",y="1000000000-count-other";else{if(!(e<1e10))return e.toLocaleString(t,{maximumFractionDigits:o});p="1000000000-count-other",y="1000000000-count-one"}return(r=g[p]||g[y])||(t="en-US",r=h[p]),r&&"0"!==r?(r=r.replace(/'/g,""),i=r.split(""),u=[],a=e.toString().split(""),s=0,l=0,i.forEach(function(e,t){"0"===e&&l++}),a.forEach(function(e,t){t<l&&u.push(a[s++])}),o&&(u.push("."),a.forEach(function(e,t){var o=a[s];t>=s&&(void 0!==o&&"."!==o&&u.push(o),s++)})),i.forEach(function(e,t){t>=l&&(d+=e)}),c=parseFloat(u.join("")),parseInt(c.toFixed(o)).toString().length>l?(m=Math.pow(10,Math.ceil(Math.log10(e))),this.format(m,t,o)):(f=c.toLocaleString(t,{maximumFractionDigits:o}),d?f+d:f)):e.toLocaleString(t,{maximumFractionDigits:o})},formatCurrency:function(t,n,r,c){var i={style:"currency",currency:"USD"};return n&&(i.currency=n),e.Object.isEmpty(c)||(c.hasOwnProperty("maximumFractionDigits")&&(i.minimumFractionDigits=0),c.hasOwnProperty("currency")&&o.error("Error: you cannot declare currency as an option")),i=Object.assign({},i,c),r.indexOf("_")>-1&&(r=r.replace("_","-")),new Intl.NumberFormat(r,i).format(t)}}},"@VERSION@",{requires:["cldr-numbers"]});YUI.add("string-helper",function(e){e.StringHelper={preventOrphans:function(e,t){var n=e.split(" ").length;return t&&n<t?e:e.replace(/\s+(\S*)$/,"Â $1")},preventOrphansHtml:function(t){var n=e.config.doc.createElement("div");return n.innerHTML=t,this.preventLastChildElOrphan(n),n.innerHTML},preventLastChildElOrphan:function(t){var n,r;(n=this.findLastTextChildWithSpace(t))&&((r=e.config.doc.createElement("span")).innerHTML=n.textContent.replace(/\s+(\S*)$/,"&nbsp;$1"),n.replaceWith(r))},findLastTextChildWithSpace:function(e){var t=e.childNodes,n=0;if(t.length>0)for(n=t.length-1;n>=0;n--){var r=this.findLastTextChildWithSpace(t[n]);if(r)return r}else if(3===e.nodeType&&e.textContent.indexOf(" ")>=0)return e},escapeHtml:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})},stripTags:function(e){return e?String(e).replace(/<\/?[^>]+>/g,""):""}}},"@VERSION@",{requires:[]});YUI.add("handlebars-helpers",function(e){"use strict";function t(t,n,r){var i,s,a,o,l,u,c,f,p="";return t?(i=e.moment.duration(t.diff(e.moment())),s=Math.round(Math.abs(+i)/1e3),a=Math.round(s/60),o=Math.round(a/60),l=Math.round(o/24),u=Math.round(l/365),f=s<45&&["s",s]||1===a&&["m"]||a<45&&["mm",a]||1===o&&["h"]||o<22&&["hh",o]||1===l&&["d"]||l<=25&&["dd",l]||l<=45&&["M"]||l<345&&["MM",Math.round(l/30)]||1===u&&["y"]||["yy",u],c=i>0,r&&(p=c?"_FUTURE":"_PAST"),{intlName:"relative-dates."+{s:"SECOND_",ss:"SECONDS_",m:"MINUTE_",mm:"MINUTES_",h:"HOUR_",hh:"HOURS_",d:"DAY_",dd:"DAYS_",M:"MONTH_",MM:"MONTHS_",y:"YEAR_",yy:"YEARS_"}[f[0]]+(n?"SHORT":"LONG")+p,time:f[1]}):{intlName:"relative-dates.NO_DATE"}}var n,r,i,s=e.Handlebars,a={outlet:function(e,t){var n,r;return t=void 0===t||t,e?e.render?(r=e,n=YUI.Env.isServer?r.get("container").get("outerHTML"):'<div id="'+r.getId()+'" class="hb-placeholder"></div>'):n=YUI.Env.isServer&&t?e.get("outerHTML"):t?'<div id="'+e._yuid+'"></div>':e:n="",new s.SafeString(n)},photoDescription:function(e,t,n){var r;return t?new s.SafeString(e.split("\n").map(function(e){return""===e.trim()?"&nbsp;":"<p>"+(n?e:a.addLinkToHash(e))+"</p>"}).join("").split("<br>").map(function(e){return""===e.trim()?"&nbsp;":n?e:a.addLinkToHash(e)}).join("")):new s.SafeString(e.split("\n").map(function(e){return r="<p>",""===e.trim()?r+="&nbsp;":r+=n?e:a.addLinkToHash(e),r+"</p>"}).join(""))},photoAttribution:function(e,t,n){var r,i="";return e.owner&&e.owner.displayname&&(i=e.owner.displayname),t&&t["remove-by-attribution"]||(e.isOwner?(r="common.BY_YOU",i=""):r="common.BY_USER"),n.fn({user:i,intlName:r})},commentPermalinkId:function(e){return"comment"+e.split("-")[2]},contactUrl:function(e){return"/photos/"+e.pathAlias||e.id},renderTrustedMarkupWithLineBreaks:function(t){return t=t.replace(/(\r\n|\n|\r)/gm,"<br>"),e.Handlebars.helpers.renderTrustedMarkup(t)},renderSafeInlineComment:function(t,n){t=t.replace(/(\r\n|\n|\r)/gm," ");var r=r||120,i="";return(t?t.length:0)?(n&&(n=" "+n),e.Handlebars.helpers.stripTags(t).length<=r?i=t:(i=e.Handlebars.helpers.stripTags(t)).length>r&&(i=e.Handlebars.helpers.truncate(i,r.toString(),!1,n)),e.Handlebars.helpers.renderTrustedMarkupWithLineBreaks(i)):i},stripTags:function(e){var t="";return e&&(t=String(e).replace(/<\/?[^>]+>/g,"")),t},photoNote:function(e){return e=e.replace(/(\r\n|\n|\r)/gm,"<p>&nbsp;</p>"),new s.SafeString(e)},canRemoveTag:function(t,n,r,i){return e.Handlebars.helpers.canRemoveAnyTag(t,n,r,null,i)},canRemoveAnyTag:function(e,t,n,r,i){return n||t&&e===t||r&&r===t?i.fn(this):""},formatNumber:function(t,n){var r=n.hash.decimals||1;try{t="number"!=typeof t?parseInt(t,10):t}catch(e){}return e.IntlNumber.format(t,n.data.intl.locales,r)},formatCurrency:function(t,n,r,i){try{return e.IntlNumber.formatCurrency(t,n,r,i.hash)}catch(e){return console.error(e),"-"}},obfuscateInternals:function(e){return e=e.toString(),parseInt(e.split("").map(function(e){return e.charCodeAt(0)}).join(""),10).toString(16)},renderMetaInfo:function(e){return e||"boolean"==typeof e?e.indexOf&&e.indexOf("<")>-1?e:new s.SafeString(e):""},addLinkToHash:function(e){return e=e.replace(/<[\s]*[\/]*[\s]*script[\s]*>/gi,""),e=e.replace(/<[\s]*[\/]*[\s]*iframe[\s]*>/gi,""),e=e.replace(/<[^>]*(on[a-zA-Z]+=)[^>]*>/gi,""),e.replace(/\s#[^#\s]+/gi,function(t,n,r){return n>0&&"&"===e.slice(n-1,n)?t:' <a href="/photos/tags/'+escape(t.slice(2))+'">#'+t.slice(2).replace(/"/g,"")+"</a>"})},isFlipped:function(e,t){var n=t.data.flippers||this.flippers;if(e)return n[e]?t.fn(this):t.inverse(this)},isNotFlipped:function(e,t){var n=t.data.flippers||this.flippers;if(e)return n[e]?t.inverse(this):t.fn(this)},urlPhoto:function(t,n){return e.URLHelper.getPhotoPage({photoId:t.id,pathAlias:t.owner.pathAlias,contextSuffix:n})},getTagSearchUrl:function(e){return"/search/?tags="+e},shortUrlPhoto:function(t,n){return t?e.URLHelper.getShortURL(t.id,n):window.location.href},friendlyDateScrappySubphoto:function(t,n,r,i){var s,a="";return a=r?8===n?"photo-page-scrappy.TAKEN_CIRCA":6===n?"photo-page-scrappy.TAKEN_SOMETIME_IN":4===n?"photo-page-scrappy.TAKEN_IN_MONTH":"photo-page-scrappy.TAKEN_ON_INTL":"photo-page-scrappy.UPLOADED_ON_INTL",s=r&&8===n?"granularity"in t&&"year"in t?t.year:t.replace(/^([\d]+)(.*)/g,"$1"):(t instanceof Date||("granularity"in t&&"year"in t?(t=e.moment(t.year+"-"+t.month+"-"+t.day+" "+t.hour+":"+t.minute+":"+t.second,"YYYY-M-D HH:mm:ss")).tzOffset&&t.utcOffset(t.tzOffset):t="string"==typeof t&&t.indexOf("-")>-1?e.moment(t):e.moment(t,"X")),6===n&&r?t.format("YYYY"):t.toDate()),i.fn({intlName:a,intlDate:s})},friendlyDate:function(t,n){return 8===n?"Circa "+t.replace(/^([\d]+)(.*)/g,"$1"):(t instanceof Date||(t="string"==typeof t&&t.indexOf("-")>-1?e.moment(t):e.moment(t,"X")),6===n?"Sometime in "+t.format("YYYY"):4===n?t.format("MMMM")+" "+t.format("YYYY"):t.format("MMMM D, YYYY"))},friendlyNumber:function(e,t){return void 0!==e?e.toLocaleString(t.data.intl.locales,{maximumFractionDigits:0}):null},friendlyDataSize:function(e){var t,n,r,i,s=parseInt(e,10)||1;return t=Math.ceil(Math.log(s)/Math.LN10),r=Math.floor(t/3),i=s/Math.pow(10,3*r),i=Math.floor(100*i)/100,n=["B","KB","MB","GB","TB"][r],0===e&&(i=0),i+n},_friendlySinceDate:function(n,r,i){var s=e.moment(n,"X");return 0===s.unix()?t():t(s,r,i)},friendlySinceDate:function(t,n,r,i){return i.fn(e.Handlebars.helpers._friendlySinceDate(t,n,r))},capitalize:function(e){return e[0].toLocaleUpperCase()+e.slice(1)},preventOrphans:function(t,n){var r=n.hash.skipStringsShorterThan||0;return i.isSafeString(t)?new s.SafeString(e.StringHelper.preventOrphans(t.string,r)):e.StringHelper.preventOrphans(t,r)},preventOrphansHtml:function(t,n){return YUI.Env.isServer?t:i.isSafeString(t)?new s.SafeString(e.StringHelper.preventOrphansHtml(t.string)):e.StringHelper.preventOrphansHtml(t)},renderTrustedMarkup:function(e){if(e)return new s.SafeString(e)},randomLine:function(e){var t,n=e.fn(this);return n?("\n"===(n=n.trim())[0]&&(n=n.slice(1)),"\n"===n[n.length-1]&&(n=n.slice(0,n.length-1)),(t=n.split("\n"))[Math.floor(t.length*Math.random())]):"\x3c!-- no lines to return --\x3e"},configVal:function(e,t){return void 0!==t&&e&&r[e]?(r._index=r._index||{},r._index[e]||(r._index[e]=r[e].reduce(function(e,t){return e[t.value+""]=t.text,e},{})),r._index[e][t+""]||""):""},eachConfigVal:function(e,t){return(r[e]||[]).map(function(e){return t.fn(e)}).join("")},safetyLevelString:function(e,t){for(var n=0;n<r.safetyLevel.length;n++)if(e.toString()===r.safetyLevel[n].value)return t.fn(r.safetyLevel[n])},privacyString:function(e,t){for(var n=0;n<r.privacy.length;n++)if(e===r.privacy[n].value)return t.fn(r.privacy[n])},licenseString:function(e,t){for(var n=0;n<r.licenseDisplay.length;n++)if(e.toString()===r.licenseDisplay[n].value)return t.fn(r.licenseDisplay[n])},truncate:function(e,t,n,r,s){return i.truncate(e,t,{respectWords:!1!==n,ellipsis:"string"==typeof r?r:"...",escape:void 0===s||s})},json:function(e){var t;return"object"==typeof e?((t=JSON.stringify(e,null,"")).indexOf("\u2028")>-1&&(t=t.replace(/\u2028/g,"\\u2028")),t.indexOf("\u2029")>-1&&(t=t.replace(/\u2029/g,"\\u2029")),t=t.replace(/\//g,"\\/")):t="{}",new s.SafeString(t)},ifCond:function(e,t,n,r){switch(t){case"===":return e===n?r.fn(this):r.inverse(this);case"!==":return e!==n?r.fn(this):r.inverse(this);case"<":return e<n?r.fn(this):r.inverse(this);case"<=":return e<=n?r.fn(this):r.inverse(this);case">":return e>n?r.fn(this):r.inverse(this);case">=":return e>=n?r.fn(this):r.inverse(this);case"in":return(n+"").trim().replace(/\s*[,;]\s*/,",").split(/[,;]/).indexOf(e)>=0?r.fn(this):r.inverse(this);case"||":return e||n?r.fn(this):r.inverse(this);case"&&":return e&&n?r.fn(this):r.inverse(this);default:return r.inverse(this)}},fallback:function(e,t,n){return null===e||void 0===e||""===e?t:e},for:function(e,t,n,r){var i,s="";for(i=e;i<t;i+=n)s+=r.fn(i);return s},log:function(){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];console[YUI.Env.isServer?"warn":"log"].apply(console,Array.prototype.slice.call(e,0,e.length-1))},protocol:function(){return e.config.flickr.url.protocol},host:function(){return e.config.flickr.url.host},assetRoot:function(){return e.config.flickr.urls.assetRoot},godMessage:function(t){return e.godMessage(t.hash)},flickrConfig:function(t){return e.Object.getValue(e.config.flickr,t.split("."))},chainHelpers:function(){for(var e,t,n,r=new Array(arguments.length),i=0;i<r.length;++i)r[i]=arguments[i];return e=r.shift(),"object"==typeof r[r.length-1]&&(n=r.pop()),r.forEach(function(r){"string"==typeof r&&((t=r.split(" ")).push(n),e=a[t.shift()].apply(this,[e].concat(t)))}),e},multiHighlightString:function(e,t,n){var r,i,a,o,l="",u=0,c=!1;for(e=e||"",t=t||[],e=s.Utils.escapeExpression(e),t=t.sort(function(e,t){return e.end-t.end}),o=0,r=e.length,i=t.length;o<i;o++){for(a=t[o],c=!1;u<a.start&&u<r;)l+=e[u++];for(u<a.end&&(l+='<span class="'+n+'">',c=!0);u<a.end&&u<r;)l+=e[u++];c&&(l+="</span>")}for(;u<r;)l+=e[u++];return new s.SafeString(l)},ifDefined:function(e,t){return void 0===e?t.inverse(this):t.fn(this)},spaceball:function(){return"https://combo.staticflickr.com/pw/images/spaceball.gif"},eq:function(e,t){return e===t},ne:function(e,t){return e!==t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},not:function(e){return!e},and:function(){return Array.prototype.slice.call(arguments,0,-1).every(Boolean)},or:function(){return Array.prototype.slice.call(arguments,0,-1).some(Boolean)},formatRequestID:function(t){return e.moment().utc().format()+"-"+t+"@"+(YUI.Env.isServer?"server":"client")}};for(n in a)e.Handlebars.registerHelper(n,a[n]);e.config.global.HandlebarsHelperIntl.registerWith(e.Handlebars),i={truncate:function(e,t,n){return e||(e=""),n||(n={}),e.length>t&&(e=n.respectWords?e.substr(0,t+1).split(/([^\w])/).reduce(function(e,n){return e.length+n.length>t-1?e:e+=n},""):e.substr(0,t-1),e+=n.ellipsis),n.escape?e:new s.SafeString(e)},isSafeString:function(e){return e&&"string"==typeof e.string}},r={safetyLevel:[{value:"0",text:"Safe",key:"settings.SAFE"},{value:"1",text:"Moderate",key:"settings.MODERATE"},{value:"2",text:"Restricted",key:"settings.RESTRICTED"}],privacy:[{value:"public",text:"Public",key:"settings.PUBLIC"},{value:"private",text:"Private",key:"settings.PRIVATE"},{value:"friends",text:"Friends",key:"settings.FRIENDS"},{value:"family",text:"Family",key:"settings.FAMILY"},{value:"friendsandfamily",text:"Friends & Family",key:"settings.FRIENDS_AND_FAMILY"}],commentingPermission:[{value:"0",text:"Only you",key:"settings.ONLY_YOU"},{value:"1",text:"Friends & Family",key:"settings.FRIENDS_AND_FAMILY"},{value:"2",text:"People you follow",key:"settings.PEOPLE_YOU_FOLLOW"},{value:"3",text:"Any Flickr member",key:"settings.ANY_FLICKR_MEMBER"}],printPermission:[{value:0,text:"Only you",key:"settings.ONLY_YOU"},{value:1,text:"Friends",key:"settings.FRIENDS"},{value:2,text:"Family",key:"settings.FAMILY"},{value:3,text:"Friends & Family",key:"settings.FRIENDS_AND_FAMILY"},{value:4,text:"People you follow",key:"settings.PEOPLE_YOU_FOLLOW"},{value:5,text:"Any Flickr member",key:"settings.ANY_FLICKR_MEMBER"},{value:6,text:"Anyone",key:"settings.PUBLIC"}],metaPermission:[{value:"0",text:"Only you",key:"settings.ONLY_YOU"},{value:"1",text:"Friends & Family",key:"settings.FRIENDS_AND_FAMILY"},{value:"2",text:"People you follow",key:"settings.PEOPLE_YOU_FOLLOW"},{value:"3",text:"Any Flickr member",key:"settings.ANY_FLICKR_MEMBER"}],licenseDisplay:[{value:"0",text:"All rights reserved",key:"settings.ALL_RIGHTS_RESERVED"},{value:"10",text:"Public Domain Work",key:"settings.PUBLIC_DOMAIN_WORK"},{value:"9",text:"Public Domain Dedication (CC0)",key:"settings.PUBLIC_DOMAIN_DEDICATION"},{value:"4",text:"Attribution",key:"settings.ATTRIBUTION"},{value:"5",text:"Attribution-ShareAlike",key:"settings.ATTRIBUTION_SHAREALIKE"},{value:"6",text:"Attribution-NoDerivs",key:"settings.ATTRIBUTION_NODERIVS"},{value:"2",text:"Attribution-NonCommercial",key:"settings.ATTRIBUTION_NONCOMMERCIAL"},{value:"1",text:"Attribution-NonCommercial-ShareAlike",key:"settings.ATTRIBUTION_NONCOMMERCIAL_SHAREALIKE"},{value:"3",text:"Attribution-NonCommercial-NoDerivs",key:"settings.ATTRIBUTION_NONCOMMERCIAL_NODERIVS"},{value:"7",text:"No known copyright restrictions",key:"settings.NO_COPYRIGHT_RESTRICTIONS"},{value:"8",text:"United States government work",key:"settings.US_GOV_WORK"}],licenseSelect:[{value:"0",text:"All rights reserved",key:"settings.ALL_RIGHTS_RESERVED"},{value:"10",text:"Public Domain Work",key:"settings.PUBLIC_DOMAIN_WORK"},{value:"9",text:"Public Domain Dedication (CC0)",key:"settings.PUBLIC_DOMAIN_DEDICATION"},{value:"4",text:"Attribution",key:"settings.ATTRIBUTION"},{value:"5",text:"Attribution-ShareAlike",key:"settings.ATTRIBUTION_SHAREALIKE"},{value:"6",text:"Attribution-NoDerivs",key:"settings.ATTRIBUTION_NODERIVS"},{value:"2",text:"Attribution-NonCommercial",key:"settings.ATTRIBUTION_NONCOMMERCIAL"},{value:"1",text:"Attribution-NonCommercial-ShareAlike",key:"settings.ATTRIBUTION_NONCOMMERCIAL_SHAREALIKE"},{value:"3",text:"Attribution-NonCommercial-NoDerivs",key:"settings.ATTRIBUTION_NONCOMMERCIAL_NODERIVS"}],licenseUrls:[{value:"0",text:"https://help.flickr.com/en_us/change-your-photo's-license-in-flickr-B1SxTmjkX"},{value:"1",text:"https://creativecommons.org/licenses/by-nc-sa/2.0/"},{value:"2",text:"https://creativecommons.org/licenses/by-nc/2.0/"},{value:"3",text:"https://creativecommons.org/licenses/by-nc-nd/2.0/"},{value:"4",text:"https://creativecommons.org/licenses/by/2.0/"},{value:"5",text:"https://creativecommons.org/licenses/by-sa/2.0/"},{value:"6",text:"https://creativecommons.org/licenses/by-nd/2.0/"},{value:"7",text:"/commons/usage/"},{value:"8",text:"http://www.usa.gov/copyright.shtml"},{value:"9",text:"https://creativecommons.org/publicdomain/zero/1.0/"},{value:"10",text:"https://creativecommons.org/publicdomain/mark/1.0/"}],addMetaPermission:[{value:"0",text:"Only you",key:"settings.ONLY_YOU"},{value:"1",text:"Friends & Family",key:"settings.FRIENDS_AND_FAMILY"},{value:"2",text:"People you follow",key:"settings.PEOPLE_YOU_FOLLOW"},{value:"3",text:"Any Flickr member",key:"settings.ANY_FLICKR_MEMBER"}]}},"@VERSION@",{requires:["handlebars-base","url-helper","moment","datatype-number","flipper","handlebars-helper-intl","god-message","intl-number","string-helper"]});YUI.add("localizable",function(n,e){var t=n.config.global.IntlMessageFormat,a=function(){var n={};return function(e,t){var a=e.join(".");return n.hasOwnProperty(a)?n[a]:n[a]=t()}},r=a(),l=a(),s=function(e,a,r){var s=n.Intl.get("hermes/"+e,null,a);return n.Object.each(s,function(n,i){s[i]=l([a,e,i],function(){return new t(n,a,r)})}),s};n.Localizable={appContext:{},langBundles:[],langFormatters:{date:{monthYear:{month:"long",year:"numeric"},monthYearShort:{month:"short",year:"numeric"},month:{month:"long"},year:{year:"numeric"}},number:{USD:{style:"currency",currency:"USD"}}},defaultLang:n.config.lang,getLang:function(){return this.appContext.lang||this.defaultLang},getLangBundles:function(){return(function(e,t,a){var l={};return n.Array.each(e,function(n){l[n]=r([t,n],function(){return s(n,t,a)})}),l})(this.langBundles,this.getLang(),this.langFormatters)},intlMessage:function(e){var t=this.getLangBundles();return t.locales=this.getLang(),n.Handlebars.helpers.intlMessage({hash:e,data:{intl:t}})},intlHTMLMessage:function(e){var t=this.getLangBundles();return t.locales=this.getLang(),n.Handlebars.helpers.intlHTMLMessage({hash:e,data:{intl:t}})}}},"@VERSION@",{requires:["handlebars-base","handlebars-helpers","intl-messageformat"]});YUI.add("experiments-fullscreen",function(e){var t;(t=function(e){this.flipper=e.flipper,this.appContext=e}).prototype.disableRealFullscreenButtons=function(){return!this.mode},t.prototype.getMode=function(){return this.mode},t.prototype.enableFullscreen=function(){this.mode=!0},t.prototype.disableFullscreen=function(){this.mode=!1},e.namespace("Experiments").Fullscreen=t},"@VERSION@",{requires:[]});YUI.add("experiments-opt-out",function(t,e){var p,i=require("hermes-core/flog")(e);(p=function(t){this.appContext=t,this.optOutEnabled=void 0}).prototype.enabled=function(){var t=this.appContext.flipper.isFlipped("reboot_photo_page_optin_type");if(void 0===this.optOutEnabled){if(!this.appContext.flipper.isFlipped("buckets"))return this.optOutEnabled=!0,i.log("Buckets not flipped; optOutEnabled is true"),this.optOutEnabled;switch(t){case"optin":this.optOutEnabled=!0;break;case"forced_in":this.optOutEnabled=!1;break;default:this.optOutEnabled=!0}}return this.optOutEnabled},t.namespace("Experiments").OptOut=p},"@VERSION@",{requires:[]});YUI.add("murmurhash",function(h){h.murmurhash=function(h,r){var a,e,t,c,o,d,n,u;for(a=3&h.length,e=h.length-a,t=r,o=3432918353,d=461845907,u=0;u<e;)n=255&h.charCodeAt(u)|(255&h.charCodeAt(++u))<<8|(255&h.charCodeAt(++u))<<16|(255&h.charCodeAt(++u))<<24,++u,t=27492+(65535&(c=5*(65535&(t=(t^=n=(65535&(n=(n=(65535&n)*o+(((n>>>16)*o&65535)<<16)&4294967295)<<15|n>>>17))*d+(((n>>>16)*d&65535)<<16)&4294967295)<<13|t>>>19))+((5*(t>>>16)&65535)<<16)&4294967295))+((58964+(c>>>16)&65535)<<16);switch(n=0,a){case 3:n^=(255&h.charCodeAt(u+2))<<16;case 2:n^=(255&h.charCodeAt(u+1))<<8;case 1:t^=n=(65535&(n=(n=(65535&(n^=255&h.charCodeAt(u)))*o+(((n>>>16)*o&65535)<<16)&4294967295)<<15|n>>>17))*d+(((n>>>16)*d&65535)<<16)&4294967295}return t^=h.length,t^=t>>>16,t=2246822507*(65535&t)+((2246822507*(t>>>16)&65535)<<16)&4294967295,t^=t>>>13,t=3266489909*(65535&t)+((3266489909*(t>>>16)&65535)<<16)&4294967295,(t^=t>>>16)>>>0}},"@VERSION@");
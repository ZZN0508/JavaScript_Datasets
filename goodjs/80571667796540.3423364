(window.webpackJsonp=window.webpackJsonp||[]).push([["person"],{ce40:function(e,o,n){"use strict";n.r(o);var t=(n("b0c0"),n("d3b7"),n("5530")),s=n("83cc"),r=n("63b9"),a=n("03c4"),i=n("c5bc"),c=n.n(i),d=n("694d"),l={components:{VideoPage:n("83d3").a,SuggestPersonEdits:function(){return n.e("chunk-43f1a21a").then(n.bind(null,"b21f"))}},metaInfo:function(){var e={meta:[{name:"keywords",content:"people"},{name:"description",content:"People.",vmid:"description"}]};return this.person&&this.person.name&&(e.title=this.person.name),e},setup:function(e,o){return Object(t.a)({isMobile:s.a,cancelGetPersonPage:r.a},Object(d.a)(o))},data:function(){return{cachedPersonRouteParam:""}},computed:{person:function(){return this.$store.state.main.data.person},personImg:function(){return 1===this.person.img?Object(a.a)(this.person.id,150):c.a}},watch:{"$route.params.person":{handler:function(e){e&&e!==this.cachedPersonRouteParam&&window.scrollTo(0,0),e&&(this.cachedPersonRouteParam=e)},immediate:!0}},beforeDestroy:function(){Object(r.a)()},methods:{handleLoadPage:function(e){var o=this,n=this.$route.params.person;this.$store.dispatch("main/getPersonPage",{person:n,page:e}).then(function(e){e&&e.error&&404===e.errorCode&&o.$router.push({path:"/404"})})},handleSuggestPersonEditsClick:function(){this.$store.commit("ui/setIsSuggestPersonEditsModalShown",!0)}}},i=n("2877"),l=Object(i.a)(l,function(){var o=this,e=o.$createElement,n=o._self._c||e;return n("Fragment",[n("Portal",{attrs:{to:"root"}},[n("SuggestPersonEdits")],1),n("VideoPage",{attrs:{"base-url":"/people/"+o.cachedPersonRouteParam},on:{"reset-page":o.cancelGetPersonPage,"load-page":o.handleLoadPage},scopedSlots:o._u([{key:"beforePage",fn:function(e){e=e.isPageLoading;return[o.isMobile()?o._e():[e?n("div",{staticClass:"container mb-5"},[e?n("XxxPersonCard",{style:{width:"450px"},attrs:{"is-loading":""}}):o._e()],1):o.person?n("div",{staticClass:"container mb-5"},[n("XxxPersonCard",{style:{width:"450px"},attrs:{"has-suggest-edits-btn":"",img:o.personImg,code:o.person.code,name:o.person.name,videos:o.person.videos,"is-followed":o.isPersonFollowed(o.person.id),"is-follow-loading":o.isPersonFollowLoading(o.person.id),to:"/people/"+o.person.code},on:{"follow-click":function(e){return o.handlePersonFollow(o.person.id)},"suggest-edits-click":o.handleSuggestPersonEditsClick}})],1):o._e()]]}}])})],1)},[],!1,null,null,null);o.default=l.exports}}]);

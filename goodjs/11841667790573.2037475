(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1098:function(e,t,a){},1410:function(e,t,a){},1486:function(e,t,a){},152:function(e,t,a){e.exports={homepage_channelnav:"homepage_homepage_channelnav",arrow:"homepage_arrow",channel_video_wrap:"homepage_channel_video_wrap","channel_video_wrap-in-animation":"homepage_channel_video_wrap-in-animation",title:"homepage_title",video_wrap:"homepage_video_wrap",video_img:"homepage_video_img",video_title:"homepage_video_title",more_tab_wrap:"homepage_more_tab_wrap","more_tab_wrap-in-animation":"homepage_more_tab_wrap-in-animation",tab:"homepage_tab",opt_wrap:"homepage_opt_wrap",normal_tabs:"homepage_normal_tabs",left_content:"homepage_left_content",cut_line:"homepage_cut_line",normal_tabs_wrap:"homepage_normal_tabs_wrap",main_tabs_wrap:"homepage_main_tabs_wrap",main_tabs:"homepage_main_tabs",tab_wrap:"homepage_tab_wrap",main_tabs_title:"homepage_main_tabs_title",logo:"homepage_logo",point:"homepage_point",tab_title:"homepage_tab_title",tab_subtitle:"homepage_tab_subtitle",no_banner_nav:"homepage_no_banner_nav",tabs:"homepage_tabs",_normal_tabs:"homepage__normal_tabs",opt_hide_1:"homepage_opt_hide_1",hide_2:"homepage_hide_2",hide_3:"homepage_hide_3",hide_4:"homepage_hide_4",cut_line_hide_1:"homepage_cut_line_hide_1",positionTop:"homepage_positiontop",hide_5:"homepage_hide_5"}},155:function(e,t,a){e.exports={focus_wrap:"focussidebarswiper_focus_wrap",focus_item:"focussidebarswiper_focus_item",common_shade:"focussidebarswiper_common_shade",top_shade:"focussidebarswiper_top_shade",bottom_shade:"focussidebarswiper_bottom_shade",focus_logo_wrap:"focussidebarswiper_focus_logo_wrap",content_info_wrap:"focussidebarswiper_content_info_wrap",content_info:"focussidebarswiper_content_info",banner_logo:"focussidebarswiper_banner_logo",title_wrap:"focussidebarswiper_title_wrap",common_title:"focussidebarswiper_common_title",focus_title:"focussidebarswiper_focus_title",focus_subtitle:"focussidebarswiper_focus_subtitle",right_content_wrap:"focussidebarswiper_right_content_wrap",prick:"focussidebarswiper_prick",pagination_wrap:"focussidebarswiper_pagination_wrap",pagination_item:"focussidebarswiper_pagination_item",current_pagination_item:"focussidebarswiper_current_pagination_item",video_control:"focussidebarswiper_video_control",bt_wrap:"focussidebarswiper_bt_wrap",bt_icon_play:"focussidebarswiper_bt_icon_play",bt_icon_add:"focussidebarswiper_bt_icon_add",bt_icon_added:"focussidebarswiper_bt_icon_added",focus_cover:"focussidebarswiper_focus_cover",focusLeftShode:"focussidebarswiper_focusleftshode",focusRightShode:"focussidebarswiper_focusrightshode",nav_wrap:"focussidebarswiper_nav_wrap",focus_nav_hide:"focussidebarswiper_focus_nav_hide",focus_nav:"focussidebarswiper_focus_nav",sub_title:"focussidebarswiper_sub_title",nav_slide:"focussidebarswiper_nav_slide",em:"focussidebarswiper_em",contentSwiper:"focussidebarswiper_contentswiper",contentNav:"focussidebarswiper_contentnav",focus_height:"focussidebarswiper_focus_height",leftShode:"focussidebarswiper_leftshode",rightShode:"focussidebarswiper_rightshode"}},156:function(e,t,a){e.exports={toast_outer:"awardtoast_toast_outer",toast_wrap:"awardtoast_toast_wrap",popanimate:"awardtoast_popanimate",toast_exit:"awardtoast_toast_exit",toast_btn:"awardtoast_toast_btn",toast_vip:"awardtoast_toast_vip",toast_title:"awardtoast_toast_title",toast_desc:"awardtoast_toast_desc",toast_coupon:"awardtoast_toast_coupon",toast_coupon_txt:"awardtoast_toast_coupon_txt",toast_coupon_img:"awardtoast_toast_coupon_img",toast_active:"awardtoast_toast_active"}},1574:function(e,t,a){},1575:function(e,t,a){},1576:function(e,t,a){},172:function(e,t,a){e.exports={star_list:"stars_star_list",ball_wrap:"stars_ball_wrap",title_wrap:"stars_title_wrap",star_name:"stars_star_name",star_item:"stars_star_item",last_line:"stars_last_line",twoRowContent:"stars_tworowcontent",horizontalTrochanter:"stars_horizontaltrochanter",oneRowContent:"stars_onerowcontent",horizontalTrochanterNormal:"stars_horizontaltrochanternormal",packGRow:"stars_packgrow",verticalTrochanter:"stars_verticaltrochanter"}},177:function(e,t,a){e.exports={focus_wrap:"ieswiper_focus_wrap",focus_list:"ieswiper_focus_list",slide_active:"ieswiper_slide_active",focus_item:"ieswiper_focus_item",focus_cover:"ieswiper_focus_cover",nav_wrap:"ieswiper_nav_wrap",focus_nav_hide:"ieswiper_focus_nav_hide",focus_nav:"ieswiper_focus_nav",slide:"ieswiper_slide",sub_title:"ieswiper_sub_title",nav_index:"ieswiper_nav_index",title_split:"ieswiper_title_split",nav_slide:"ieswiper_nav_slide",em:"ieswiper_em",nav_index_1:"ieswiper_nav_index_1",nav_index_2:"ieswiper_nav_index_2",nav_index_3:"ieswiper_nav_index_3"}},183:function(e,t,a){e.exports={channelnav:"channelpage_channelnav",opt_area:"channelpage_opt_area",left_content:"channelpage_left_content",common_tabs:"channelpage_common_tabs",title_wrap:"channelpage_title_wrap",title_text:"channelpage_title_text",incon_style:"channelpage_incon_style",tabs_wrap:"channelpage_tabs_wrap",last_tabs:"channelpage_last_tabs",cut_line:"channelpage_cut_line",tabs:"channelpage_tabs",tab:"channelpage_tab",no_banner_nav:"channelpage_no_banner_nav"}},225:function(e,t,a){e.exports={leftSwiperWrapper:"leftswiper_leftswiperwrapper",contentWrapper:"leftswiper_contentwrapper",swiperItemWrapper:"leftswiper_swiperitemwrapper",swiperItem:"leftswiper_swiperitem",swiperItemTitle:"leftswiper_swiperitemtitle",left:"leftswiper_left",right:"leftswiper_right",icon:"leftswiper_icon"}},274:function(e,t,a){e.exports={s_body:"modulelist_s_body",tudou_body:"modulelist_tudou_body",body_top110:"modulelist_body_top110",body_top40:"modulelist_body_top40",list:"modulelist_list"}},275:function(e,t,a){e.exports={focusContent:"index2_focuscontent",hotGRow:"index2_hotgrow",horizontalHeight:"index2_horizontalheight",oneRowContent:"index2_onerowcontent",horizontalTrochanterNormal:"index2_horizontaltrochanternormal",twoRowContent:"index2_tworowcontent",horizontalTrochanter:"index2_horizontaltrochanter",verticalTrochanter:"index2_verticaltrochanter",verticalTrochanterNormal:"index2_verticaltrochanternormal",verticalNormal:"index2_verticalnormal",twoLineHeight:"index2_twolineheight",pack_reserve_toast:"index2_pack_reserve_toast",pack_cancel_reserve_toast:"index2_pack_cancel_reserve_toast"}},319:function(e,t,a){e.exports={BigFocusTileWrapper:"bigfocustilelist_bigfocustilewrapper",leftContainerWrapper:"bigfocustilelist_leftcontainerwrapper",rightContainerWrapper:"bigfocustilelist_rightcontainerwrapper",rightContentWrapper:"bigfocustilelist_rightcontentwrapper"}},391:function(e,t,a){"use strict";var n=a(5),l=a.n(n),s=a(6),u=a.n(s),i=a(8),d=a.n(i),n=a(9),p=a.n(n),s=a(3),h=a.n(s),i=a(0),m=a.n(i),n=a(25),s=(a(341),a(356),a(791)),o=a.n(s),s=a(14),f=a.n(s),c=a(232),s=a(274),_=a.n(s),s=a(17),v=a.n(s),s=a(11),r=a.n(s),s=a(16),g=a.n(s),s=a(10),y=a.n(s),s=a(2),w=a.n(s),s=a(317),b=a.n(s),s=a(49),k=a.n(s),S=(a(473),a(26)),E=a(7),I=(a(1098),a(125)),N=a(148),x=a(180);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var L=function(e){d()(c,e);var a,n,t,s,i,r,o=(a=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function c(e){var t;return l()(this,c),(t=o.call(this,e)).state={gallerySwiper:null,thumbnailSwiper:null,isHideNav:!0,bottom:0,showtip:!0,refresh:!0},t.imgWidth=2074,t.data=e.data,t.componentSpm=t.getComponentSpm(t.data.spm),t.length=t.data.focusList?t.data.focusList.length:0,t.galleryRef=t.galleryRef.bind(v()(t)),t.thumbRef=t.thumbRef.bind(v()(t)),t.itemClickFn=t.itemClick.bind(v()(t)),t.isAddSlideChangEvents=!1,t.isCanPlay=!0,t.isFirst=!0,t.isLast=!1,t.clock=null,t.timer=null,t.popfunc=null,t.currentindex=0,t.initAdSDK(),t}return u()(c,[{key:"initAdSDK",value:function(){var e;"undefined"!=typeof window&&!window._adSDK&&window.adPageSDK&&(e=window.adPageSDK,window._adSDK=window.isadtest?new e({requestURL:"//pre-sealine.youku.com/yk/html"}):new e)}},{key:"errorfix",value:function(e){e.target.style.display="none"}},{key:"getComponentSpm",value:function(e){var t=Object(E.j)();return"".concat(t.spmA,".").concat(t.spmB,".").concat(e)}},{key:"componentWillUpdate",value:function(e,t){var a=this;return t.gallerySwiper&&t.thumbnailSwiper&&(this.isAddSlideChangEvents||(this.isAddSlideChangEvents=!0,t.thumbnailSwiper.on("slideChange",function(){a.slideIndexChange(a.state.thumbnailSwiper.previousIndex,a.state.thumbnailSwiper.realIndex)}))),!0}},{key:"componentWillReceiveProps",value:(r=y()(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFavRelation();case 2:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"componentDidMount",value:function(){var t=this;this.data.bottom?this.setState({isHideNav:!1,bottom:this.data.bottom}):this.setState({isHideNav:!1}),window.onresize=function(){window.width<=980?t.setState({showtip:!1}):t.setState({showtip:!0})},this.data.isFirstAd&&window._adSDK&&window._adSDK.params&&(window._adSDK.params.onFocuseWheelPlay=function(){t.startPlay()},window._adSDK.params.onFocuseWheelPause=function(){t.stopPlay()});var a=0,n=0,s=setInterval(function(){10<=++a&&clearInterval(s);var e=t.refs.lastAd;e&&e.childNodes&&e.childNodes.length&&(clearInterval(s),t.setState({lastAd:!0}))},1e3),i=setInterval(function(){10<=++n&&clearInterval(s);var e=t.refs.firstAd;e&&e.childNodes&&e.childNodes.length&&(clearInterval(i),t.setState({firstAd:!0}))},1e3)}},{key:"getCookieByName",value:function(e){e=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),e=document.cookie.match(e);if(e&&e[2])return e[2]}},{key:"request",value:(i=y()(w.a.mark(function e(t,a,n){var s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={api:t,type:"GET",v:n||"1.0",dataType:"jsonp",data:a},e.next=4,S.a.request(t,s);case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e,t,a){return i.apply(this,arguments)})},{key:"getFavRelation",value:(s=y()(w.a.mark(function e(){var t,a,n,s,i,r,o,c,l,u,d,p,h,m,f;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.data.focusList)&&I.Array.isArray(t)&&0!==t.length){e.next=3;break}return e.abrupt("return");case 3:a={type:'"VIDEO"',ids:{}},n={type:'"SHOW"',ids:{}},s=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e){if(e){if("string"==typeof e)return O(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,r=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){r=!0,s=e},f:function(){try{i||null==a.return||a.return()}finally{if(r)throw s}}}}(t);try{for(s.s();!(i=s.n()).done;)r=i.value,o=r.vid||r.trackInfo&&r.trackInfo.vid,c=r.sid||r.trackInfo&&r.trackInfo.sid,o?a.ids[o]=r:c&&(n.ids[c]=r),r.favInfo={type:o?'"VIDEO"':'"SHOW"',id:o||c}}catch(e){s.e(e)}finally{s.f()}l="mtop.youku.subscribe.service.subscribe.favourite.batchisfav",u=0,d=[a,n];case 9:if(!(u<d.length)){e.next=20;break}if(p=d[u],0<I.Object.keys(p.ids).length)return h={itemType:p.type,itemIds:I.Object.keys(p.ids).join(","),src:"PC_PAGES",guid:this.getCookieByName("__ysuid")},e.next=15,this.request(l,h,"3.0");e.next=17;break;case 15:if((m=e.sent)&&m.data&&m.data.batchResult)for(f in m.data.batchResult)p.ids[f].favInfo.isFav=m.data.batchResult[f];case 17:u++,e.next=9;break;case 20:this.setState({refresh:!this.state.refresh});case 21:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"handleFavRelation",value:(t=y()(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.userInfo){e.next=2;break}return e.abrupt("return",window&&window.Xlogin&&window.Xlogin.buildLoginDom());case 2:return n=t.favInfo,a=n&&n.isFav?"mtop.youku.subscribe.service.subscribe.favourite.remove":"mtop.youku.subscribe.service.subscribe.favourite.create",n={itemId:n.id,itemType:n.type,guid:this.getCookieByName("__ysuid"),src:"PC_PAGES"},e.next=7,this.request(a,n,"3.0");case 7:(n=e.sent)&&n.data&&n.data.result&&(t.favInfo.isFav=!t.favInfo.isFav,this.setState({refresh:!this.state.refresh}));case 9:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){window.onresize=null}},{key:"galleryRef",value:function(e){e&&this.setState({gallerySwiper:e.swiper})}},{key:"thumbRef",value:function(e){var a,n,t=this;e&&(this.setState({thumbnailSwiper:e.swiper}),this.popfunc=function(){t.currentindex<t.data.focusList.length-1&-1<t.currentindex?t.currentindex=t.currentindex+1:t.currentindex=0,t.state.thumbnailSwiper.slideTo(t.currentindex,0,!1),t.state.gallerySwiper.slideTo(t.currentindex,0,!1)},this.timer=setInterval(this.popfunc,5e3),e.swiper.el.onmouseleave=function(){t.clock=setTimeout(function(){t.timer=setInterval(t.popfunc,5e3)},2e3)},e.swiper.el.onmouseenter=function(){t.clock&&clearTimeout(t.clock),t.timer&&clearInterval(t.timer)},a=this,n=e.swiper.$el.children().children(),e.swiper.$el.children().children().each(function(){for(var e=-1,t=0;t<n.length;t++)n[t]===this&&(e=t);-1<e&&(this.onmouseover=function(){a.state.thumbnailSwiper.slideTo(e,0,!1),a.state.gallerySwiper.slideTo(e,0,!1),a.currentindex=e,event.stopPropagation()})}))}},{key:"slideIndexChange",value:function(e,t){window._adSDK&&this.data.isFirstAd&&(0===t&&window._adSDK.invoke("enterFirst",{adId:this.data.adFirstId}),0===e&&window._adSDK.invoke("leaveFirst",{adId:this.data.adFirstId})),window._adSDK&&this.data.isLastAd&&(t===this.length-1&&window._adSDK.invoke("enterlast",{adId:this.data.adLastId}),e===this.length-1&&window._adSDK.invoke("leavelast",{adId:this.data.adLastId}))}},{key:"stopPlay",value:function(){this.isCanPlay&&(this.state.gallerySwiper&&this.state.gallerySwiper.autoplay&&this.state.gallerySwiper.autoplay.stop(),this.isCanPlay=!1)}},{key:"startPlay",value:function(){this.isCanPlay||(this.state.gallerySwiper&&this.state.gallerySwiper.autoplay&&this.state.gallerySwiper.autoplay.start(),this.isCanPlay=!0)}},{key:"itemClick",value:function(e){var t,a=e.currentTarget.parentElement.parentElement;a&&a.href&&a.href.indexOf("spm=")<0&&(t=a.getAttribute("data-spm"),a.href=Object(E.n)(a.href,{spm:"".concat(this.componentSpm,".").concat(t)})),Object(E.t)(a),e.stopPropagation()}},{key:"slideClickFn",value:function(e){var t=e.currentTarget,a=t.getAttribute("data-href"),e=t.getAttribute("data-target");Object(N.a)(Object(E.d)(this.data)["data-spm"],t.getAttribute("data-spm"),"CLK",t),"_blank"===e?window.open(a,"_blank"):location.href=a}},{key:"itemClickStap",value:function(e){var t,a=e.currentTarget;a&&a.href&&a.href.indexOf("spm=")<0&&(t=a.getAttribute("data-spm"),a.href=Object(E.n)(a.href,{spm:"".concat(this.componentSpm,".").concat(t)})),Object(E.t)(a),e.stopPropagation()}},{key:"getAdExtId",value:function(e){return"focus_slideitem_".concat(this.data.moduleId,"_").concat(e)}},{key:"onMouseOption",value:function(e){var t=this.state.gallerySwiper;this.stopPlay(),t&&t.slideTo(e,0,!1),this.currentindex=e}},{key:"render",value:function(){var i=this;if(!this.props.data||this.length<1)return"";var e=this.state.bottom?{marginBottom:"".concat(this.state.bottom,"px")}:{};return m.a.createElement("div",g()({className:f()(k.a.focus_wrap,k.a.focus_height),style:e},Object(E.d)(this.data)),m.a.createElement(b.a,g()({},{spaceBetween:5,effect:"fade",observer:!0,touchRatio:0,on:{click:null},autoplay:!0},{ref:this.galleryRef}),this.data.focusList.map(function(t,a){var e=Object(E.m)(t.img,{w:i.imgWidth}),n={};i.data.isFirstAd&&0===a&&(n.adid=i.data.adFirstId,n.extId=i.getAdExtId(a),n.adtype="firstAd"),i.data.isLastAd&&a===i.data.focusList.length-1&&(n.adid=i.data.adLastId,n.extId=i.getAdExtId(a),n.adtype="lastAd");var s=i.state[n.adtype];return m.a.createElement("div",{key:a,style:{height:"100%"}},m.a.createElement("div",{"data-adext":n.extId,"data-adpid":n.adid,"data-adtype":n.adtype,ref:n.adtype}),m.a.createElement("a",g()({},Object(E.e)(t),Object(E.c)(t,!0,!0),{title:t.title,className:"aplus_exp aplus_clk",onClick:function(e){i.slideClickFn(e)}}),m.a.createElement("div",{className:k.a.focus_item,style:{position:"relative",backgroundImage:"url(".concat(e,")"),backgroundColor:"".concat(t.color||"#262626"),backgroundRepeat:"no-repeat",backgroundPosition:"center top",backgroundSize:"auto 100%"}},m.a.createElement("div",{className:f()(k.a.common_shade,k.a.top_shade)}),m.a.createElement("div",{className:f()(k.a.common_shade,k.a.bottom_shade)}),m.a.createElement("div",{className:f()(k.a.focus_logo_wrap,"common_container")},m.a.createElement("div",{className:k.a.content_info_wrap},m.a.createElement("div",{className:f()(k.a.content_info)},t.favInfo&&t.favInfo&&t.favInfo.id&&!s?m.a.createElement("div",{className:k.a.video_control},m.a.createElement("a",g()({className:k.a.bt_wrap},Object(E.c)(t,!0),{onMouseEnter:function(){i.stopPlay()},onMouseLeave:function(){i.startPlay()}}),m.a.createElement("span",{className:k.a.bt_icon_play})),m.a.createElement("a",{className:k.a.bt_wrap,onClick:function(e){console.log("click fav"),e.preventDefault(),e.stopPropagation(),i.handleFavRelation(t)},title:t&&t.favInfo&&t.favInfo.isFav?"取消看单":"添加看单",onMouseEnter:function(){i.stopPlay()},onMouseLeave:function(){i.startPlay()}},m.a.createElement("span",{className:t&&t.favInfo&&t.favInfo.isFav?k.a.bt_icon_added:k.a.bt_icon_add}),m.a.createElement("span",{className:k.a.bt_text}))):"",!s&&m.a.createElement("div",{className:k.a.title_wrap},m.a.createElement("span",{className:f()(k.a.common_title,k.a.focus_title)},t.title),m.a.createElement("span",{className:f()(k.a.common_title,k.a.focus_subtitle)},t.subtitle)),m.a.createElement("div",{className:k.a.right_content_wrap},t.mark&&(t.mark.icon||t.mark.data&&t.mark.data.img)&&!s?m.a.createElement("img",{alt:t.mark.text||t.mark.data.text,className:k.a.prick,src:(t.mark.icon||t.mark.data&&t.mark.data.img).replace("http","https"),onError:function(e){i.errorfix(e)}}):"",m.a.createElement("div",{className:k.a.pagination_wrap},i.data.focusList.map(function(e,t){return m.a.createElement("div",{key:t,className:t!==a?k.a.pagination_item:f()(k.a.pagination_item,k.a.current_pagination_item),onMouseEnter:function(){return i.onMouseOption(t)},onClick:function(e){e.stopPropagation(),e.preventDefault(),i.onMouseOption(t)},onMouseLeave:function(){i.startPlay()}})})))))))))})),m.a.createElement(x.b.Consumer,null,function(e){return i.userInfo=e,""}))}}]),c}(i.Component);r()(L,"defaultProps",{data:{}});var s=a(155),C=a.n(s);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a(1410);var R=function(e){d()(c,e);var a,n,t,s,i,r,o=(a=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function c(e){var t;return l()(this,c),(t=o.call(this,e)).state={gallerySwiper:null,thumbnailSwiper:null,isHideNav:!0,showtip:!0,refresh:!0},t.imgWidth=2074,t.data=e.data,t.componentSpm=t.getComponentSpm(t.data.spm),t.length=t.data.focusList?t.data.focusList.length:0,t.galleryRef=t.galleryRef.bind(v()(t)),t.thumbRef=t.thumbRef.bind(v()(t)),t.itemClickFn=t.itemClick.bind(v()(t)),t.isAddSlideChangEvents=!1,t.isCanPlay=!0,t.isFirst=!0,t.isLast=!1,t.clock=null,t.timer=null,t.popfunc=null,t.currentindex=0,t.initAdSDK(),t}return u()(c,[{key:"initAdSDK",value:function(){var e;"undefined"!=typeof window&&!window._adSDK&&window.adPageSDK&&(e=window.adPageSDK,window._adSDK=window.isadtest?new e({requestURL:"//pre-sealine.youku.com/yk/html"}):new e)}},{key:"errorfix",value:function(e){e.target.style.display="none"}},{key:"getComponentSpm",value:function(e){var t=Object(E.j)();return"".concat(t.spmA,".").concat(t.spmB,".").concat(e)}},{key:"componentWillUpdate",value:function(e,t){var a=this;return t.gallerySwiper&&t.thumbnailSwiper&&(this.isAddSlideChangEvents||(this.isAddSlideChangEvents=!0,t.thumbnailSwiper.on("slideChange",function(){a.slideIndexChange(a.state.thumbnailSwiper.previousIndex,a.state.thumbnailSwiper.realIndex)}))),!0}},{key:"componentWillReceiveProps",value:(r=y()(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFavRelation();case 2:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"componentDidMount",value:function(){var t=this;this.setState({isHideNav:!1}),window.onresize=function(){window.width<=980?t.setState({showtip:!1}):t.setState({showtip:!0})},this.data.isFirstAd&&window._adSDK&&window._adSDK.params&&(window._adSDK.params.onFocuseWheelPlay=function(){t.startPlay()},window._adSDK.params.onFocuseWheelPause=function(){t.stopPlay()});var a=0,n=0,s=setInterval(function(){10<=++a&&clearInterval(s);var e=t.refs.lastAd;e&&e.childNodes&&e.childNodes.length&&(clearInterval(s),t.setState({lastAd:!0}))},1e3),i=setInterval(function(){10<=++n&&clearInterval(s);var e=t.refs.firstAd;e&&e.childNodes&&e.childNodes.length&&(clearInterval(i),t.setState({firstAd:!0}))},1e3)}},{key:"getCookieByName",value:function(e){e=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),e=document.cookie.match(e);if(e&&e[2])return e[2]}},{key:"request",value:(i=y()(w.a.mark(function e(t,a,n){var s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={api:t,type:"GET",v:n||"1.0",dataType:"jsonp",data:a},e.next=4,S.a.request(t,s);case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e,t,a){return i.apply(this,arguments)})},{key:"getFavRelation",value:(s=y()(w.a.mark(function e(){var t,a,n,s,i,r,o,c,l,u,d,p,h,m,f;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.data.focusList)&&I.Array.isArray(t)&&0!==t.length){e.next=3;break}return e.abrupt("return");case 3:a={type:'"VIDEO"',ids:{}},n={type:'"SHOW"',ids:{}},s=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e){if(e){if("string"==typeof e)return T(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,r=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){r=!0,s=e},f:function(){try{i||null==a.return||a.return()}finally{if(r)throw s}}}}(t);try{for(s.s();!(i=s.n()).done;)r=i.value,o=r.vid||r.trackInfo&&r.trackInfo.vid,c=r.sid||r.trackInfo&&r.trackInfo.sid,o?a.ids[o]=r:c&&(n.ids[c]=r),r.favInfo={type:o?'"VIDEO"':'"SHOW"',id:o||c}}catch(e){s.e(e)}finally{s.f()}l="mtop.youku.subscribe.service.subscribe.favourite.batchisfav",u=0,d=[a,n];case 9:if(!(u<d.length)){e.next=20;break}if(p=d[u],0<I.Object.keys(p.ids).length)return h={itemType:p.type,itemIds:I.Object.keys(p.ids).join(","),src:"PC_PAGES",guid:this.getCookieByName("__ysuid")},e.next=15,this.request(l,h,"3.0");e.next=17;break;case 15:if((m=e.sent)&&m.data&&m.data.batchResult)for(f in m.data.batchResult)p.ids[f].favInfo.isFav=m.data.batchResult[f];case 17:u++,e.next=9;break;case 20:this.setState({refresh:!this.state.refresh});case 21:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"handleFavRelation",value:(t=y()(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.userInfo){e.next=2;break}return e.abrupt("return",window&&window.Xlogin&&window.Xlogin.buildLoginDom());case 2:return n=t.favInfo,a=n&&n.isFav?"mtop.youku.subscribe.service.subscribe.favourite.remove":"mtop.youku.subscribe.service.subscribe.favourite.create",n={itemId:n.id,itemType:n.type,guid:this.getCookieByName("__ysuid"),src:"PC_PAGES"},e.next=7,this.request(a,n,"3.0");case 7:(n=e.sent)&&n.data&&n.data.result&&(t.favInfo.isFav=!t.favInfo.isFav,this.setState({refresh:!this.state.refresh}));case 9:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){window.onresize=null}},{key:"galleryRef",value:function(e){e&&this.setState({gallerySwiper:e.swiper})}},{key:"thumbRef",value:function(e){var a,n,t=this;e&&(this.setState({thumbnailSwiper:e.swiper}),this.popfunc=function(){t.currentindex<t.data.focusList.length-1&&-1<t.currentindex?t.currentindex=t.currentindex+1:t.currentindex=0,t.state.thumbnailSwiper.slideTo(t.currentindex,0,!1),t.state.gallerySwiper.slideTo(t.currentindex,0,!1)},this.timer=setInterval(this.popfunc,5e3),e.swiper.el.onmouseleave=function(){t.clock=setTimeout(function(){t.timer=setInterval(t.popfunc,5e3)},2e3)},e.swiper.el.onmouseenter=function(){t.clock&&clearTimeout(t.clock),t.timer&&clearInterval(t.timer)},a=this,n=e.swiper.$el.children().children(),e.swiper.$el.children().children().each(function(){for(var e=-1,t=0;t<n.length;t++)n[t]===this&&(e=t);-1<e&&(this.onmouseover=function(){a.state.thumbnailSwiper.slideTo(e,0,!1),a.state.gallerySwiper.slideTo(e,0,!1),a.currentindex=e,event.stopPropagation()})}))}},{key:"slideIndexChange",value:function(e,t){window._adSDK&&this.data.isFirstAd&&(0===t&&window._adSDK.invoke("enterFirst",{adId:this.data.adFirstId}),0===e&&window._adSDK.invoke("leaveFirst",{adId:this.data.adFirstId})),window._adSDK&&this.data.isLastAd&&(t===this.length-1&&window._adSDK.invoke("enterlast",{adId:this.data.adLastId}),e===this.length-1&&window._adSDK.invoke("leavelast",{adId:this.data.adLastId}))}},{key:"stopPlay",value:function(){this.isCanPlay&&(this.state.gallerySwiper&&this.state.gallerySwiper.autoplay&&this.state.gallerySwiper.autoplay.stop(),this.isCanPlay=!1)}},{key:"startPlay",value:function(){this.isCanPlay||(this.state.gallerySwiper&&this.state.gallerySwiper.autoplay&&this.state.gallerySwiper.autoplay.start(),this.isCanPlay=!0)}},{key:"itemClick",value:function(e){var t,a=e.currentTarget.parentElement.parentElement;a&&a.href&&a.href.indexOf("spm=")<0&&(t=a.getAttribute("data-spm"),a.href&&(a.href=Object(E.n)(a.href,{spm:"".concat(this.componentSpm,".").concat(t)}),Object(E.t)(a)),e.stopPropagation())}},{key:"slideClickFn",value:function(e){var t=e.currentTarget,e=t.getAttribute("data-target");Object(N.a)(Object(E.d)(this.data)["data-spm"],t.getAttribute("data-spm"),"CLK",t);t=t.getAttribute("data-href")+"".concat(-1===t.getAttribute("data-href").indexOf("?")?"?":"&","spm=").concat(this.componentSpm,".").concat(t.getAttribute("data-spm"));"_blank"===e&&t?window.open(t,"_blank"):t&&(location.href=t)}},{key:"itemClickStap",value:function(e){var t,a=e.currentTarget,n=a.getAttribute("href");n?(n.indexOf("spm=")<0&&(t=a.getAttribute("data-spm"),a.href=Object(E.n)(n,{spm:"".concat(this.componentSpm,".").concat(t)})),Object(E.t)(a),e.stopPropagation()):e.preventDefault()}},{key:"getAdExtId",value:function(e){return"focus_slideitem_".concat(this.data.moduleId,"_").concat(e)}},{key:"onMouseOption",value:function(e){var t=this.state.gallerySwiper;this.stopPlay(),t&&t.slideTo(e,0,!1),this.currentindex=e}},{key:"render",value:function(){var i=this;if(!this.props.data||this.length<1)return"";var e=this.state.isHideNav?"focus_nav ".concat(C.a.focus_nav," ").concat(C.a.focus_nav_hide):"focus_nav ".concat(C.a.focus_nav),t=this.data.bottom||0===this.data.bottom?{marginBottom:"".concat(this.data.bottom,"px")}:{};return m.a.createElement("div",g()({className:f()(C.a.focus_wrap,C.a.focus_height),style:t},Object(E.d)(this.data)),m.a.createElement(b.a,g()({},{spaceBetween:5,effect:"fade",observer:!0,touchRatio:0,on:{click:null},autoplay:!1},{ref:this.galleryRef}),this.data.focusList.map(function(t,e){var a=Object(E.m)(t.img,{w:i.imgWidth}),n={};i.data.isFirstAd&&0===e&&(n.adid=i.data.adFirstId,n.extId=i.getAdExtId(e),n.adtype="firstAd"),i.data.isLastAd&&e===i.data.focusList.length-1&&(n.adid=i.data.adLastId,n.extId=i.getAdExtId(e),n.adtype="lastAd");var s=i.state[n.adtype];return m.a.createElement("div",{key:e,style:{height:"100%"}},m.a.createElement("div",{"data-adext":n.extId,"data-adpid":n.adid,"data-adtype":n.adtype,ref:n.adtype}),m.a.createElement("a",g()({},Object(E.e)(t),Object(E.c)(t,!0,!0),{title:t.title,className:"aplus_exp aplus_clk",onClick:function(e){i.slideClickFn(e)}}),m.a.createElement("div",{className:C.a.focus_item,style:{position:"relative",backgroundImage:"url(".concat(a,") "),backgroundColor:"#16161a",backgroundRepeat:"no-repeat",backgroundPosition:"center top",backgroundSize:"cover"}},m.a.createElement("div",{className:f()(C.a.leftShode,C.a.focusLeftShode)}),m.a.createElement("div",{className:f()(C.a.rightShode,C.a.focusRightShode)}),m.a.createElement("div",{className:f()(C.a.common_shade,C.a.top_shade)}),m.a.createElement("div",{className:f()(C.a.common_shade,C.a.bottom_shade)}),m.a.createElement("div",{className:f()(C.a.focus_logo_wrap,"common_container")},m.a.createElement("div",{className:C.a.content_info_wrap},m.a.createElement("div",{className:f()(C.a.content_info)},t.favInfo&&t.favInfo&&t.favInfo.id&&!s?m.a.createElement("div",{className:C.a.video_control},m.a.createElement("a",g()({className:C.a.bt_wrap},Object(E.c)(t,!0),{onMouseEnter:function(){i.stopPlay()},onMouseLeave:function(){i.startPlay()}}),m.a.createElement("span",{className:C.a.bt_icon_play})),m.a.createElement("a",{className:C.a.bt_wrap,onClick:function(e){e.preventDefault(),e.stopPropagation(),i.handleFavRelation(t)},title:t&&t.favInfo&&t.favInfo.isFav?"取消看单":"添加看单",onMouseEnter:function(){i.stopPlay()},onMouseLeave:function(){i.startPlay()}},m.a.createElement("span",{className:t&&t.favInfo&&t.favInfo.isFav?C.a.bt_icon_added:C.a.bt_icon_add}),m.a.createElement("span",{className:C.a.bt_text}))):"",!s&&m.a.createElement("div",{className:C.a.title_wrap}),m.a.createElement("div",{className:C.a.right_content_wrap},t.mark&&(t.mark.icon||t.mark.data)&&t.mark.data.img&&!s?m.a.createElement("img",{className:C.a.prick,src:((t.mark.icon||t.mark.data)&&t.mark.data.img).replace("http","https"),onError:function(e){i.errorfix(e)}}):"")))))))})),m.a.createElement("div",{className:C.a.contentNav},m.a.createElement("div",{className:e},m.a.createElement("div",{className:C.a.contentSwiper},m.a.createElement(b.a,g()({},{direction:"vertical",paceBetween:10,centeredSlides:!0,observer:!0,slidesPerView:"auto",touchRatio:0,slideToClickedSlide:!0,autoplayDisableOnInteraction:!1,autoplay:!1},{ref:this.thumbRef}),this.data.focusList.map(function(e,t){return m.a.createElement("a",g()({id:i.getAdExtId(t),className:"aplus_exp aplus_clk contentItem"},Object(E.e)(e,!0),Object(E.c)(e,!0),{key:t,onClick:function(e){i.itemClickStap(e)}}),m.a.createElement("div",{className:C.a.nav_slide},m.a.createElement("h2",null,e.title),m.a.createElement("div",{className:"sub_title ".concat(C.a.sub_title)},e.subtitle)))}))))),m.a.createElement(x.b.Consumer,null,function(e){return i.userInfo=e,""}))}}]),c}(i.Component);r()(R,"defaultProps",{data:{}});var s=a(177),A=a.n(s);var P=function(e){d()(i,e);var a,n,s=(a=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function i(e){var t;return l()(this,i),(t=s.call(this,e)).state={activeIndex:t.props.activeIndex,nextIndex:t.props.activeIndex+1,preIndex:t.props.activeIndex-1,isHideNav:!1,bottom:0,stopAutoPlay:!1},t.data=e.data,t.componentSpm=t.getComponentSpm(t.data.spm),t.length=t.props.data&&t.props.data.focusList?t.props.data.focusList.length:0,t.imgWidth=1664,t.itemClickFn=t.itemClick.bind(v()(t)),t.isCanPlay=!0,t.isFirst=!0,t.isLast=!1,t.focusRef="slider",t.navRef="nav_slider",t.activeClass=A.a.slide_active,t.interValId=null,t}return u()(i,[{key:"initInterVal",value:function(){var e=this;this.interValId||(window.clearInterval(this.interValId),this.interValId=null),this.interValId=window.setInterval(function(){!e.state.stopAutoPlay&&e.isCanPlay&&e.slideTo(e.state.nextIndex)},this.props.autoplay.delay)}},{key:"getComponentSpm",value:function(e){var t=Object(E.j)();return"".concat(t.spmA,".").concat(t.spmB,".").concat(e)}},{key:"shouldComponentUpdate",value:function(e,t){return t.isHideNav!==this.state.isHideNav||t.bottom!==this.state.bottom}},{key:"componentDidMount",value:function(){var e=this;this.props.autoplay&&this.props.autoplay.delay&&this.initInterVal(),this.isFirstAd&&window._adSDK&&window._adSDK.params&&(window._adSDK.params.onFocuseWheelPlay=function(){e.startPlay()},window._adSDK.params.onFocuseWheelPause=function(){e.stopPlay()})}},{key:"handleMouseEnter",value:function(e){this.isCanPlay&&e!==this.state.activeIndex&&this.slideTo(e)}},{key:"handleNavMouseLeave",value:function(){this.setState({stopAutoPlay:!1})}},{key:"handleNavMouseEnter",value:function(){this.setState({stopAutoPlay:!0})}},{key:"slideTo",value:function(e){var t,a;this.length<1||(window.refs=this.refs,Object(E.b)(this.refs["".concat(this.focusRef,"_").concat(e)],this.activeClass),Object(E.b)(this.refs["".concat(this.navRef,"_").concat(e)],this.activeClass),Object(E.s)(this.refs["".concat(this.focusRef,"_").concat(this.state.activeIndex)],this.activeClass),Object(E.s)(this.refs["".concat(this.navRef,"_").concat(this.state.activeIndex)],this.activeClass),t=this.state.activeIndex,a=e+1<this.length-1?e+1:0,this.setState({activeIndex:e,nextIndex:a,preIndex:t}),this.slideIndexChange(t,e))}},{key:"slideIndexChange",value:function(e,t){window._adSDK&&this.isFirstAd&&(0===t&&window._adSDK.invoke("enterFirst",{adId:this.data.adFirstId}),0===e&&window._adSDK.invoke("leaveFirst",{adId:this.data.adFirstId})),window._adSDK&&this.isLastAd&&(t===this.length-1&&window._adSDK.invoke("enterlast",{adId:this.data.adLastId}),e===this.length-1&&window._adSDK.invoke("leavelast",{adId:this.data.adLastId}))}},{key:"stopPlay",value:function(){this.isCanPlay&&(this.setState({stopAutoPlay:!0}),this.isCanPlay=!1)}},{key:"startPlay",value:function(){this.isCanPlay||(this.setState({stopAutoPlay:!1}),this.isCanPlay=!0)}},{key:"itemClick",value:function(e){}},{key:"getAdExtId",value:function(e){return"focus_slideitem_".concat(this.data.moduleId,"_").concat(e)}},{key:"render",value:function(){var i=this;if(!this.props.data||this.length<1)return"";var e=this.state.isHideNav?"focus_nav ".concat(A.a.focus_nav," ").concat(A.a.focus_nav_hide):"focus_nav ".concat(A.a.focus_nav);return m.a.createElement("div",g()({className:A.a.focus_wrap},Object(E.d)(this.data)),m.a.createElement("ul",{className:A.a.focus_list},this.data.focusList.map(function(e,t){var a=Object(E.m)(e.img,{w:i.imgWidth}),n={};i.data.isFirstAd&&0===t&&(n.adid=i.data.adFirstId,n.extId=i.getAdExtId(t),n.adtype="firstAd"),i.data.isLastAd&&t===i.data.focusList.length-1&&(n.adid=i.data.adLastId,n.extId=i.getAdExtId(t),n.adtype="lastAd");var s=0===t?A.a.slide_active:"";return m.a.createElement("li",{key:t,className:s,ref:"".concat(i.focusRef,"_").concat(t)},m.a.createElement("div",{"data-adext":n.extId,"data-adpid":n.adid,"data-adtype":n.adtype,className:A.a.focus_item,style:{backgroundImage:"url(".concat(a,")"),backgroundColor:"".concat(e.color||"#262626")}},m.a.createElement("a",g()({},Object(E.e)(e),Object(E.c)(e,!0),{className:"".concat(A.a.focus_cover," aplus_exp aplus_clk"),style:{backgroundImage:"url(".concat(e.background||"//gw.alicdn.com/mt/TB1Sw8Tom_I8KJjy0FoXXaFnVXa-1664-520.png",")")},title:e.title}))))})),m.a.createElement("div",{className:e},m.a.createElement("div",{className:A.a.focus_wrap,onMouseEnter:this.handleNavMouseEnter.bind(this),onMouseLeave:this.handleNavMouseLeave.bind(this)},this.data.focusList.map(function(e,t){var a=0===t?f()(A.a.slide,A.a.slide_active):A.a.slide;return m.a.createElement("a",g()({className:"".concat(a," aplus_exp aplus_clk"),key:t,id:i.getAdExtId(t),ref:"".concat(i.navRef,"_").concat(t)},Object(E.e)(e,!0),Object(E.c)(e,!0)),m.a.createElement("div",{className:A.a.nav_slide,onMouseEnter:i.handleMouseEnter.bind(i,t)},m.a.createElement("h2",null," ",e.title),m.a.createElement("div",{className:A.a.sub_title},e.subtitle)))}))))}}]),i}(i.Component);r()(P,"defaultProps",{data:{},activeIndex:0,autoplay:{delay:5e3,loop:!0}});var s=a(275),j=a.n(s),M=a(1683),D=a(196),F=a(265),B=a(198);function W(a){var n=a.isHorizontal?"horizontal":"vertical";return a.list&&1<a.row?a.list.map(function(e,t){return z(e,a.rank,a.isOneLineTitle,n,t,a.row,a.onReserved,a.onCancelReserved)}):z(a.list,a.rank,a.isOneLineTitle,n,0,a.row,a.onReserved,a.onCancelReserved)}function z(e,a,n,s,t,i,r,o){return m.a.createElement("div",{className:"g-row",key:t},e&&Array.isArray(e)&&e.map(function(e,t){return m.a.createElement("div",{key:t,className:"g-col"},m.a.createElement("div",{className:"g-box"},m.a.createElement(D.a,{data:e,index:t,rank:a,isOneLineTitle:n,type:s,onReserved:r,onCancelReserved:o})))}))}function K(a){var n=a.isHorizontal?"horizontal":"vertical";return m.a.createElement("div",{className:"g-row hot-g-row ".concat(j.a.hotGRow," ").concat("horizontal"==n?j.a.horizontalNormal:j.a.verticalNormal)},a.list.map(function(e,t){return m.a.createElement("div",{key:t,className:"g-col"},m.a.createElement("div",{className:"g-box"},m.a.createElement(D.a,{data:e,index:t,rank:a.rank,isOneLineTitle:a.isOneLineTitle,type:n,onReserved:a.onReserved,moduleId:a.moduleId})))}))}s=function(e){d()(s,e);var a,n,t=(a=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function s(e){return l()(this,s),e=t.call(this,e),r()(v()(e),"selfRef",m.a.createRef()),r()(v()(e),"contentRef",m.a.createRef()),r()(v()(e),"clientsubject",new M.a),r()(v()(e),"elementWidth",0),r()(v()(e),"len",0),e.state={showReserveToast:!1,showCancelReserveToast:!1},e.timer1=null,e.timer2=null,e}return u()(s,[{key:"componentDidMount",value:function(){}},{key:"onReserved",value:function(){var e=this;this.setState({showReserveToast:!0}),this.timer1&&(clearTimeout(this.timer1),this.timer1=null),this.timer1=setTimeout(function(){e.setState({showReserveToast:!1})},2500)}},{key:"onCancelReserved",value:function(e){var t=this;this.setState({showCancelReserveToast:!0,cancelReserveToast:e||"取消预约成功～"}),this.timer2&&(clearTimeout(this.timer2),this.timer2=null),this.timer2=setTimeout(function(){t.setState({showCancelReserveToast:!1})},2500)}},{key:"shouldComponentUpdate",value:function(e,t){return!(e.list.length===this.props.list.length&&!this.props.changeNum&&!this.props.asyncRefresh)}},{key:"group",value:function(e,t){for(var a=[],n=Math.floor(e.length/t),s=1;s<=t;s++)a.push(this.setListsIndexArray(e,s,n,t));return a}},{key:"setListsIndexArray",value:function(a,n,e,s){var i=[];return Array.from({length:e},function(e,t){return i.push(a[n+t*s-1])}),i}},{key:"render",value:function(){var e=this;if(!this.props.list||0===this.props.list.length)return"";var t=this.props,a=t.list,n=t.len,s=t.row,i=t.changeIndex,r=t.changeNum,t=a,o=s;8*s!==a.length&&1!==s&&(o=Math.floor(a.length/8),t=a.slice(0,8*o-1));t=r?0!==i?a.slice(i*n,i*n+8):a:1<o?this.group(t,o):a,a=1<this.props.row?"g-rows":"";return m.a.createElement("div",{className:"".concat(a)},this.props.changeNum?m.a.createElement(K,{isHorizontal:this.props.isHorizontal,isOneLineTitle:this.props.isOneLineTitle,rank:this.props.rank,list:t,len:this.len,changeIndex:this.props.changeIndex,changeNum:this.props.changeNum,row:this.props.row,moduleId:this.props.moduleId,onReserved:function(){e.onReserved()},onCancelReserved:this.onCancelReserved.bind(this)}):m.a.createElement(F.a,{componentClass:"",subRightLinkInfo:this.props.subRightLinkInfo,left:function(e){return 1===o?m.a.createElement(B.a,e):m.a.createElement(B.b,e)},right:function(e){return 1===o?m.a.createElement(B.d,e):m.a.createElement(B.c,e)}},m.a.createElement(W,{componentlen:this.props.list.length/this.props.row,isHorizontal:this.props.isHorizontal,isOneLineTitle:this.props.isOneLineTitle||!0,rank:this.props.rank,list:t,len:this.props.len,changeIndex:this.props.changeIndex,changeNum:this.props.changeNum,row:o,moduleId:this.props.moduleId,onReserved:function(){e.onReserved()},onCancelReserved:this.onCancelReserved.bind(this)})),this.state.showReserveToast&&m.a.createElement("div",{className:j.a.pack_reserve_toast},m.a.createElement("h4",null,"预约成功"),m.a.createElement("p",null,"上优酷APP查看上线提醒")),this.state.showCancelReserveToast&&m.a.createElement("div",{className:j.a.pack_cancel_reserve_toast},this.state.cancelReserveToast))}}]),s}(i.Component);r()(s,"defaultProps",{list:[],row:2,isHorizontal:!0,rank:!1});var U=s,H=a(219),V=a(220);var X=a(490),q=function(e){d()(i,e);var a,n,s=(a=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function i(e){var t;return l()(this,i),(t=s.call(this,e)).newMainTitleLinks=t.recomMainTitle(e.mainTitleLinks),t}return u()(i,[{key:"recomMainTitle",value:function(a){if(a.length<2)return a;var n=[];return a.map(function(e,t){n.push(e),t<a.length-1&&n.push({isCut:"true",title:"•"})}),n}},{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"render",value:function(){return 0===this.newMainTitleLinks.length&&!this.props.subRightLinkInfo||"TIME"===this.props.tabType?"":m.a.createElement("h2",{className:X.module_title},this.newMainTitleLinks.map(function(e,t){return e?e.isCut?m.a.createElement("span",{className:X.main_title_cut,key:t},e.title):e.link?m.a.createElement("div",{key:t,className:X.main_title_wrap},e.logo?m.a.createElement("img",{src:e.logo}):"",m.a.createElement("a",g()({},Object(E.e)(e,!0),Object(E.c)(e),{className:"".concat(X.main_title," aplus_exp aplus_clk")}),e.title),e.logo?m.a.createElement("a",{className:X.more,href:e.link,target:"_blank"},"更多 >"):""):m.a.createElement("span",{key:t,className:X.main_title},e.title):""}),this.props.subRightLinkInfo?m.a.createElement("a",g()({className:"".concat(X.right_content," aplus_exp aplus_clk")},Object(E.e)(this.props.subRightLinkInfo,!0),Object(E.c)(this.props.subRightLinkInfo)),this.props.subRightLinkInfo.subRightLinkTitle):"")}}]),i}(i.Component);r()(q,"defaultProps",{mainTitleLinks:[],subRightLinkInfo:[],tabType:"",moduleId:""});var G=a(490),Y=function(e){d()(s,e);var a,n,t=(a=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function s(){return l()(this,s),t.apply(this,arguments)}return u()(s,[{key:"componentWillReceiveProps",value:function(e){}},{key:"handleMouseEnter",value:function(e){var t=e.index+"";this.props.changeActiveKey({index:t,link:e.link})}},{key:"render",value:function(){var t=this,e=this.props,a=e.tabTitle,n=e.index,s=e.activeKey,e=a.name||"";return a.link?m.a.createElement("a",{"data-spm":a.spm,target:"_blank",href:a.link,className:G.tab_title},e,a.summary?m.a.createElement("span",{className:G.tab_sub_title},a.summary):""):e&&m.a.createElement("div",{className:f()(G.tab_title,Number(s)===n?G.current_tab:""),style:{color:Number(s)===n?"#fff":""},onMouseOver:function(){var e=t.props.changeActiveKey;e&&"function"==typeof e&&e({index:n})}},e,a.summary?m.a.createElement("span",{className:G.tab_sub_title},a.summary):"")}}]),s}(i.Component);r()(Y,"defaultProps",{index:0,tabTitle:{},moduleId:"",changeActiveKey:function(){}});var s=a(222),J=a.n(s);a(758);var $=a(490),Z=J.a.TabPane,Q=function(e){d()(s,e);var a,n,t=(a=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function s(e){return l()(this,s),(e=t.call(this,e)).state={key:e.props.defaultActiveKey?e.props.defaultActiveKey+"":"0",forceRender:e.props.forceRender,activeKey:e.props.defaultActiveKey?e.props.defaultActiveKey+"":"0"},e}return u()(s,[{key:"changeActityKey",value:function(e){var t=e.index+"";this.setState({activeKey:t,link:e.link})}},{key:"render",value:function(){var a=this,e="TIME"===this.props.tabType?$.component_chasing:$.component_tabs;return Array.isArray(this.props.components)&&0<this.props.components.length&&this.props.components.every(function(e){return Array.isArray(e.itemList)&&0<e.itemList.length})?m.a.createElement(J.a,{activeKey:this.state.activeKey,ref:"tab_".concat(this.props.moduleId),tabBarExtraContent:m.a.createElement(q,{key:this.state.key,mainTitleLinks:this.props.mainTitleLinks,subRightLinkInfo:this.props.subRightLinkInfo,tabType:this.props.tabType,moduleId:this.props.moduleId}),className:e,animated:!1,onChange:function(e){a.setState({activeKey:e})}},this.props.components.map(function(e,t){return m.a.createElement(Z,g()({tab:m.a.createElement(Y,{activeKey:a.state.activeKey,index:t,tabTitle:a.props.tabTitle[t],moduleId:a.props.moduleId,changeActiveKey:a.changeActityKey.bind(a)}),key:t,forceRender:a.state.forceRender},Object(E.d)(e)),e.headAdId?m.a.createElement(V.a,{data:{adId:e.headAdId},className:$.tab_sponsor,showType:"tabheader"}):"",e.isFocus?m.a.createElement(H.a,{subRightLinkInfo:!(0!==t||!e.headAdId)||a.props.subRightLinkInfo&&a.props.subRightLinkInfo.subRightLinkTitle||!!(6<a.props.components.length),moduleId:a.props.moduleId,list:e.itemList,isHorizontal:e.isHorizontal,isOneLineTitle:e.isOneLineTitle}):m.a.createElement(U,{list:e.itemList,subRightLinkInfo:!(0!==t||!e.headAdId)||a.props.subRightLinkInfo&&a.props.subRightLinkInfo.subRightLinkTitle||!!(6<a.props.components.length),moduleId:a.props.moduleId,isHorizontal:e.isHorizontal,rank:e.isRank,isOneLineTitle:e.isOneLineTitle,row:e.totalLine||2}))})):""}}]),s}(i.Component);r()(Q,"defaultProps",{components:[],defaultActiveKey:"0",tabTitle:[],mainTitleLinks:[],subRightLinkInfo:[],moduleId:"",forceRender:!1});var s=a(172),ee=a.n(s);function te(e){var t=e.itemList;return e.index,2===e.row?t.map(function(e){return m.a.createElement("div",{className:"g-row ".concat(ee.a.packGRow)},ae(e))}):m.a.createElement("div",{className:"g-row ".concat(ee.a.packGRow)},ae(t))}function ae(a){return a.map(function(e,t){return m.a.createElement("div",{key:t,className:"\n          ".concat(ee.a.star_item,"\n          ").concat(Math.floor(t/8)===Math.floor((a.length-1)/8)?ee.a.last_line:" ","\n          ").concat("g-col")},m.a.createElement("dl",null,m.a.createElement("dt",null,m.a.createElement("div",{className:ee.a.ball_wrap},m.a.createElement("a",g()({className:"aplus_exp aplus_clk"},Object(E.c)(e,!0),Object(E.e)(e)),m.a.createElement("img",{src:e.img,alt:e.title})))),m.a.createElement("dd",{className:ee.a.title_wrap},m.a.createElement("a",g()({className:"".concat(ee.a.star_name," aplus_exp aplus_clk")},Object(E.e)(e,!0),Object(E.c)(e,!0)),e.title))))})}function ne(e){var t=e.isHorizontal?"horizontal":"vertical";return m.a.createElement("div",{className:"g-row hot-g-row ".concat(ee.a.hotGRow," ").concat("horizontal"==t?ee.a.horizontalNormal:ee.a.verticalNormal)},e.list.map(ae))}function se(e){if(!e.component||e.component&&0===e.component.itemList.length)return"";var t=e.component&&e.component.itemList,a=e.changeIndex,n=e.len,s=e.changeNum,i=s&&0!==a?t.slice(a*n,a*n+8):t;return m.a.createElement("div",g()({className:"g-row ".concat(ee.a.star_list," ").concat(ee.a.oneRowContent," aplus_exp aplus_clk")},Object(E.d)(e.component)),e.changeNum?m.a.createElement(ne,{isHorizontal:e.component.isHorizontal,list:i,len:n,changeIndex:a,changeNum:s,row:1}):m.a.createElement(F.a,{componentClass:"\n              ".concat("","\n              ").concat(e.component.isHorizontal?ee.a.horizontalTrochanterNormal:ee.a.verticalTrochanterNormal,"\n              "),left:function(e){return m.a.createElement(B.b,e)},right:function(e){return m.a.createElement(B.c,e)}},m.a.createElement(te,{componentlen:+t.length,itemList:i,len:n,row:1})))}var ie=function(e){d()(s,e);var a,n,t=(a=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function s(){return l()(this,s),t.apply(this,arguments)}return u()(s,[{key:"componentDidMount",value:function(){this.props.data&&this.props.data.sourceFiles&&0<this.props.data.sourceFiles.length&&this.props.data.sourceFiles.map(function(e){Object(E.h)(e)})}},{key:"render",value:function(){return this.props.data?m.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.data.htmlContent}}):""}}]),s}(i.Component),s=a(210),re=a.n(s),oe=a(204),s=a(270),ce=a.n(s),s=a(183),le=a.n(s);var ue=function(e){d()(i,e);var a,n,s=(a=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function i(e){var t;return l()(this,i),(t=s.call(this,e)).state={renderLastTab:!1},t.optTag=e.data.components.find(function(e){return"WEB_NAV_B"===e.tag}),t.optNav=e.data.components.find(function(e){return"WEB_SECONDARY_NAV_EDIT"===e.tag&&e.itemList&&0<e.itemList.length}),t.tabMargin=40,t.fontSize=16,t.leftTabCount=4,t.midTabCount=8,t.rightOptAreaWidth=276,t.lineNodes=[],t.leftTotalWidth=0,t}return u()(i,[{key:"filterOptNav",value:function(){if(this.optNav){var t=[];return this.optNav.itemList.map(function(e){t.push({name:e.title,href:e.link,item:e})}),t.length%2!=0&&t.push({name:"",href:"",key:""}),{key:"",label:"热门",list:t}}}},{key:"filterArr",value:function(){var e=this.props.channelFilter,t=e.filter,a=e.cateKey,n=[],s=t.filter[0],e=t.filter[1];95===Number(a)&&(e=t.filter[2]);t={key:"",label:"",list:[]};return s&&s.list||(s=t),e&&e.list||(e=t),this.optNav&&n.push(this.filterOptNav()),n.push(e),n.push(s),n}},{key:"calTabs",value:function(e){e=e||document.getElementsByClassName("common_container")[0].clientWidth;var t=this.props.channelFilter,a=t.filter,n=t.commonFilter,t=t.showSecNav;if(n&&a||t){var s=t?this.filterOptNav()?[this.filterOptNav()]:[]:[{key:"s",label:"片库",list:n.s}].concat(ce()(this.filterArr()));if(0!==s.length){1<s.filter(function(e){return"s"===e.key}).length&&(s.splice(0,1),s.sort(function(e){return"s"===e.key?-1:1}));for(var i=e-(this.optTag?this.rightOptAreaWidth:0),r=[],o=0,c=0;c<s.length;c++){var l=s[c];if(l&&l.list&&0<l.list.length){for(var u=l.list.filter(function(e){return"全部"!==e.name}),d=0,p=0;p<u.length;p++)if((p+1)%2==0&&p+1<=u.length){var h=Math.max(u[p].name.length,u[p-1].name.length);if(i<=o+h*this.fontSize+this.tabMargin){d=p;break}o+=h*this.fontSize+this.tabMargin}d&&(u=u.slice(0,d));l=Object.assign({},l);l.list=u,r.push(l),c!==s.length-1&&(o+=this.tabMargin+1)}}return r.filter(function(e){return e.list&&2<=e.list.length})}}}},{key:"renderTitle",value:function(e){var t=this.props.channelFilter,a=t.cateKey,t=t.listType;return m.a.createElement("div",{className:le.a.title_wrap},e.label,e.key&&m.a.createElement("a",{className:le.a.title_text,target:"_blank",href:"//www.youku.com/category/".concat(t,"/c_").concat(a,".html")},"全部",m.a.createElement("span",{className:f()(le.a.incon_style,"iconfont iconmeizihuadongbutton-you")})))}},{key:"buildProp",value:function(e,t){var a=this.props.channelFilter,n=a.cateKey,a=a.listType;return{target:"_blank",href:t.href||"//www.youku.com/category/".concat(a,"/c_").concat(n,"_").concat(e.key,"_").concat(t.key,".html"),className:le.a.tab}}},{key:"componentDidMount",value:function(){function a(e){var t=0;return e<=1239?t=1:1240<=e&&e<=1329?t=2:1330<=e&&e<=1591?t=3:1592<=e&&e<=1789?t=4:1790<=e&&(t=5),t}var n=this;this.setState({renderLastTab:!0,windowSizeLevel:a(document.documentElement.clientWidth)},function(){window.addEventListener("resize",function(e){var t=a(document.documentElement.clientWidth);n.state.windowSizeLevel!==t&&n.setState({windowSizeLevel:t})})})}},{key:"renderTabs",value:function(a,e,t,n){var s=this;if(!a||!a.list||!a.list.length)return"";var i=a.list.filter(function(e){return"中国"===e.name&&(e.name="中国大陆"),"全部"!==e.name});return m.a.createElement("div",{className:"".concat(le.a.common_tabs," ").concat(n?le.a.no_banner_nav:"")},this.renderTitle(a),m.a.createElement("div",{className:le.a.tabs_wrap},i.map(function(e,t){if((t+1)%2==0&&t+1<=i.length)return m.a.createElement("div",{className:le.a.tabs,key:t},m.a.createElement("a",g()({className:"aplus_exp aplus_clk"},s.buildProp(a,i[t-1]),Object(E.e)(i[t-1].item)),i[t-1].name),m.a.createElement("a",g()({className:"aplus_exp aplus_clk"},s.buildProp(a,i[t]),Object(E.e)(i[t].item)),i[t].name))}),t&&m.a.createElement("div",{className:le.a.cut_line})))}},{key:"render",value:function(){var a=this,e=this.props.channelFilter,t=e.filter,n=e.commonFilter,e=e.showSecNav,s=this.props.data.noBannerNavClass;if(!(t&&n||e))return"";if(!this.state.renderLastTab)return m.a.createElement("div",{className:f()(le.a.channelnav)});var e=this.optTag&&this.optTag.itemList&&this.optTag.itemList?this.optTag.itemList[0]:"",i=this.calTabs();return m.a.createElement("div",g()({className:f()(le.a.channelnav)},Object(E.d)(this.props.data)),this.state.renderLastTab&&Array.isArray(i)&&i.length&&m.a.createElement("div",{className:le.a.left_content},i.map(function(e,t){return a.renderTabs(e,t,t!==i.length-1,s)})),e&&m.a.createElement("a",g()({className:"".concat(le.a.opt_area," aplus_exp aplus_clk"),target:"_blank",href:e.link},Object(E.e)(e)),m.a.createElement("img",{src:e.img})))}}]),i}(m.a.Component),s=a(152),de=a.n(s),pe=a(171);var he=function(e){d()(r,e);var a,n,s,i=(a=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function r(e){var t;return l()(this,r),(t=i.call(this,e)).state={lastNodeText:"",windowSizeLevel:0,moreTabs:[],hoverIndex:-1,hoverItem:null,isShowMoreTab:!1},t.channelLink={},t.optFlag=!!(e.data&&Array.isArray(e.data.components)&&2<=e.data.components.length),t}return u()(r,[{key:"componentDidMount",value:function(){var a=this,e=this.calLevel(document.documentElement.clientWidth);this.setState({windowSizeLevel:e,lastNodeText:5===e?"":"更多"},function(){window.addEventListener("resize",function(e){var t=a.calLevel(document.documentElement.clientWidth);a.state.windowSizeLevel!==t&&a.setState({windowSizeLevel:t,lastNodeText:5===t?"":"更多"})})})}},{key:"clearData",value:function(e){return"电视剧"!==e.title&&"剧集"!==e.title||(e.cate="97",e.subtitles=[{title:"内地剧",link:"/category/show/c_97_a_中国.html"},{title:"港剧",link:"/category/show/c_97_a_中国香港.html"}]),"综艺"===e.title&&(e.cate="85",e.subtitles=[{title:"正在热播",link:"/category/show/c_85.html"},{title:"优酷自制",link:"/category/show/c_85_cr_1.html"}]),"电影"===e.title&&(e.cate="96",e.subtitles=[{title:"院线大片",link:"/category/show/c_96_s_5_pt_.html"},{title:"免费",link:"/category/show/c_96_s_5_pt_1.html"}]),"动漫"===e.title&&(e.cate="100",e.subtitles=[{title:"国漫",link:"/category/show/c_100_a_中国.html"},{title:"日漫",link:"/category/show/c_100_a_日本.html"}]),"少儿"===e.title&&(e.cate="177",e.subtitles=[{title:"益智",link:"/category/show/c_177_g_益智.html"},{title:"儿歌",link:"/category/show/c_177_g_儿歌.html"}]),"纪录片"!==e.title&&"纪实"!==e.title||(e.cate="84",e.title="纪录片",e.subtitles=[{title:"人物",link:"/category/show/c_84_g_人物.html"},{title:"自然",link:"/category/show/c_84_g_自然.html"}]),e}},{key:"renderTab",value:function(e,t){var a=this,t=[e,t],n=this.props.data.noBannerNavClass;return m.a.createElement("div",{className:de.a.tab_wrap},t&&t.map(function(e){return m.a.createElement("div",{key:e.index,className:"".concat(de.a.main_tabs_title," ").concat(n?de.a.no_banner_nav:""),onMouseEnter:function(){setTimeout(function(){a.getChannelVideos(e.index,e)},100)},onMouseLeave:function(){a.mainTabTimeout=setTimeout(function(){a.setState({hoverIndex:-1,channelVideos:null})},100)}},m.a.createElement("img",{src:e.img,className:de.a.logo}),m.a.createElement("a",g()({},Object(E.e)(e),{className:"".concat(de.a.tab_title," aplus_exp aplus_clk"),href:e.link,target:"_blank"}),e.title),m.a.createElement("span",{className:de.a.point},"·"),a.renderChannelHover(e))}))}},{key:"getChannelVideos",value:(s=y()(w.a.mark(function e(a,t){var n,s,i=this;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=this.channelLink[a])&&n.data&&n.success&&1<n.data.length&&0<n.data.filter(function(e){return"allow"===e.access}).length?(s=n.data.filter(function(e){return"allow"===e.access}).slice(0,4),this.setState({hoverIndex:a,channelVideos:s},function(){i.channelLink[a]=n})):Object(pe.a)({url:"https:/category/page",callback:"callback",callbackFunc:"pages".concat(t.cate).concat((new Date).getTime()),data:{c:t.cate,type:"show",p:1,s:1},success:function(e){var t;e&&e.data&&e.success&&1<e.data.length&&0<e.data.filter(function(e){return"allow"===e.access}).length&&(t=e.data.filter(function(e){return"allow"===e.access}).slice(0,4),i.setState({hoverIndex:a,channelVideos:t},function(){i.channelLink[a]=e}))}});case 2:case"end":return e.stop()}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"renderChannelHover",value:function(e){var t=this,a=this.state,n=a.hoverIndex,a=a.channelVideos;if(-1!==n&&a&&e.index===n)return m.a.createElement("div",{className:de.a.channel_video_wrap,onMouseEnter:function(){t.mainTabTimeout&&clearTimeout(t.mainTabTimeout)}},m.a.createElement("div",{className:de.a.arrow}),m.a.createElement("a",{className:de.a.title,target:"_blank",href:"/category/show/c_".concat(e.cate,".html")},"更多".concat(177===e.cate||"177"===e.cate?"少儿内容":84===e.cate||"84"===e.cate?"纪录片":e.title),m.a.createElement("span",{className:"iconfont iconmeizihuadongbutton-you",style:{fontSize:"13px"}})),a.map(function(e,t){return m.a.createElement("a",{target:"_blank",href:e.videoLink,key:t,className:de.a.video_wrap,title:e.title},m.a.createElement("img",{src:e.img,className:de.a.video_img}),m.a.createElement("div",{className:de.a.video_title},e.title))}))}},{key:"renderCutLine",value:function(e,t){var a=de.a.cut_line;return m.a.createElement("div",{className:a})}},{key:"renderMainTabs",value:function(){var s=this,i=this.props.data.components[0].itemList.slice(0,6);return m.a.createElement("div",{className:de.a.main_tabs_wrap},6===i.length&&i.map(function(e,t){if(e.index=t,e=s.clearData(e),(t+1)%2==0&&t+1<=i.length){var a=i[t-1],n=i[t],e={title:"",link:""},e=[a.subtitles&&a.subtitles[0]||e,n.subtitles&&n.subtitles[0]||e,a.subtitles&&a.subtitles[1]||e,n.subtitles&&n.subtitles[1]||e];return m.a.createElement("div",{className:de.a.main_tabs,key:t},s.renderTab(a,n),s.renderNormalTabs(e),s.renderCutLine(i,t))}}))}},{key:"calLevel",value:function(e){var t=0;return(e=e||document.documentElement.clientWidth)<=1239?t=1:1240<=e&&e<=1329?t=2:1330<=e&&e<=1591?t=3:1592<=e&&e<=1789?t=4:1790<=e&&(t=5),t}},{key:"showMoreTab",value:function(){var e=this.state.windowSizeLevel,t=this.props.data.components[0],t=t.itemList.slice([8,10,10,19,21][e-1],t.itemList.length-1);"更多"===this.state.lastNodeText&&this.setState({moreTabs:t,isShowMoreTab:!0})}},{key:"renderMoreTab",value:function(e){var t=this;return this.state.isShowMoreTab?m.a.createElement("div",{className:de.a.more_tab_wrap,onMouseEnter:function(){t.moreTabsTimeout&&clearTimeout(t.moreTabsTimeout)}},m.a.createElement("div",{className:de.a.arrow}),e&&e.map(function(e,t){return m.a.createElement("a",g()({},Object(E.e)(e),{className:"".concat(de.a.tab," aplus_exp aplus_clk"),href:e.link,target:"_blank",key:t}),e.title)})):""}},{key:"renderNormalTabs",value:function(s){var i=this,e=this.props.data.components[0],r=(r=s||e.itemList.slice(6,e.itemList.length+1)).slice(0,20),e=this.state,o=e.lastNodeText,c=e.moreTabs;return m.a.createElement("div",{className:de.a.normal_tabs_wrap},r&&r.map(function(e,t){if((t+1)%2==0&&t+1<=r.length){var a="";s||(t<8?a="homepage_hide_4":t<14?a="homepage_hide_2":t<16?a="homepage_hide_3":t<18&&(a="homepage_hide_1"));var n={className:de.a.tab,href:r[t].link,target:"_blank"};return t!==r.length-1||s||"更多"!==o||(n.onMouseEnter=function(){i.showMoreTab()},n.onMouseLeave=function(){i.moreTabsTimeout=setTimeout(function(){i.setState({isShowMoreTab:!1})},100)},delete n.href),m.a.createElement("div",{className:f()(de.a.normal_tabs,a),key:t},m.a.createElement("a",{className:de.a.tab,href:r[t-1].link,target:"_blank"},r[t-1].title),m.a.createElement("a",n,t===r.length-1&&!s&&o||r[t].title,t===r.length-1&&"更多"===o&&c.length?i.renderMoreTab(c):""))}}),!s&&this.optFlag&&this.renderCutLine())}},{key:"renderNormalTabsNew",value:function(e){var t=this,a=this.state.moreTabs,s=this.props.data.components[0].itemList.slice(6);return m.a.createElement("div",{className:de.a.normal_tabs_wrap},s&&s.map(function(e,t){if((t+1)%2==0&&t<=s.length-1){var a="";t<2?a="homepage_hide_1":t<5?a="homepage_hide_2":t<12?a="homepage_hide_3":t<20&&(a="homepage_hide_4");var n={className:"".concat(de.a.tab," aplus_exp aplus_clk"),href:s[t].link,target:"_blank"};return m.a.createElement("div",{className:f()(de.a.normal_tabs,a),key:t},m.a.createElement("a",g()({className:"".concat(de.a.tab," aplus_exp aplus_clk"),href:s[t-1].link,target:"_blank"},Object(E.e)(s[t-1])),s[t-1].title),m.a.createElement("a",g()({},n,Object(E.e)(s[t])),s[t].title))}}),m.a.createElement("div",{className:f()(de.a.normal_tabs,"homepage_hide_5")},m.a.createElement("a",g()({className:"".concat(de.a.tab," aplus_exp aplus_clk"),href:s[s.length-1].link,target:"_blank"},Object(E.e)(s[s.length-1])),s[s.length-1].title),m.a.createElement("a",{onMouseEnter:function(){return t.showMoreTab()},onMouseLeave:function(){t.moreTabsTimeout=setTimeout(function(){t.setState({isShowMoreTab:!1})},100)}},"更多",this.renderMoreTab(a))),this.optFlag&&this.renderCutLine())}},{key:"renderOptArea",value:function(){var e=(e=this.props.data.components[1].itemList).slice(0,3);return m.a.createElement("div",{className:de.a.opt_wrap},e&&e.map(function(e,t){return m.a.createElement("a",g()({},Object(E.e)(e),{href:e.link,key:t,className:"".concat(0<t?de.a.opt_hide_1:""," aplus_exp aplus_clk")}),m.a.createElement("img",{src:e.img,style:{marginLeft:0===t?0:""}}))}))}},{key:"render",value:function(){var e=this.props.data.noBannerNavClass;return m.a.createElement("div",g()({className:f()(de.a.homepage_channelnav,e?de.a.no_banner_nav:"")},Object(E.d)(this.props.data)),Array.isArray(this.props.data.components)&&this.props.data.components[0]&&Array.isArray(this.props.data.components[0].itemList)&&6<this.props.data.components[0].itemList.length&&m.a.createElement("div",{className:de.a.left_content},this.renderMainTabs(),this.renderNormalTabsNew()),this.optFlag&&this.renderOptArea())}}]),r}(m.a.Component),s=a(225),me=a.n(s);var fe=function(e){d()(s,e);var a,n,t=(a=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function s(e){var a;return l()(this,s),a=t.call(this,e),r()(v()(a),"changePrev",function(){var e=a.state.currentIndex-1;(0<e||0==e)&&a.setState({currentIndex:e})}),r()(v()(a),"changeNext",function(){var e=a.state,t=e.currentIndex,e=e.imgList,t=t+1;(t<e.length-1||t===e.length-1)&&a.setState({currentIndex:t})}),a.state={currentIndex:0,imgList:e.data.slice(8)||[]},a}return u()(s,[{key:"render",value:function(){var e=this.state,t=e.currentIndex,e=e.imgList;return m.a.createElement("div",{className:me.a.leftSwiperWrapper},m.a.createElement("div",{className:me.a.left,style:{display:0<t?"block":"none"},onClick:this.changePrev}),m.a.createElement("div",{className:me.a.contentWrapper,style:{transform:0===t?"translateX(0)":"translateX(-".concat(t,"00%)")}},e.map(function(e,t){return m.a.createElement("div",{key:t,className:me.a.swiperItemWrapper},m.a.createElement("a",g()({className:"aplus_exp aplus_clk"},Object(E.e)(e),Object(E.c)(e,!0)),m.a.createElement("div",{className:me.a.swiperItem,style:{backgroundImage:"url(".concat(e.img,")")}}),m.a.createElement("span",{className:me.a.swiperItemTitle},e.title)))})),m.a.createElement("div",{className:me.a.right,style:{display:t<e.length-1?"block":"none"},onClick:this.changeNext}))}}]),s}(i.Component),s=a(319),_e=a.n(s);s=function(e){d()(i,e);var a,n,s=(a=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function i(){var a;l()(this,i);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=s.call.apply(s,[this].concat(t)),r()(v()(a),"renderRight",function(){var e=a.props.list.slice(0,8),e=[e.filter(function(e,t){return t%2==0}),e.filter(function(e,t){return t%2==1})];return e&&Array.isArray(e)&&e.map(function(e,t){return m.a.createElement("div",{className:"g-row",key:t},e&&e.map(function(e,t){return m.a.createElement("div",{key:t,className:"g-col box-bottom"},m.a.createElement("div",{className:"g-box"},m.a.createElement(D.a,{data:e,index:t,rank:a.props.rank,isOneLineTitle:!0,type:"horizontal"})))}))})}),a}return u()(i,[{key:"render",value:function(){return m.a.createElement("div",{className:"g-row ".concat(_e.a.BigFocusTileWrapper),"data-spm":this.props.spmC},m.a.createElement("div",{className:_e.a.leftContainerWrapper},m.a.createElement(fe,{data:this.props.list})),m.a.createElement("div",{className:_e.a.rightContainerWrapper},m.a.createElement("div",{className:_e.a.rightContentWrapper},this.renderRight())))}}]),i}(i.Component);r()(s,"defaultProps",{list:[]});var ve=s,s=a(52),ge=a.n(s);var ye=[{gradeList:[{gradeName:"学前（0-2岁）",gradeId:"K1",alias:"学前"},{gradeName:"幼儿园（3-6岁）",gradeId:"K2",alias:"幼儿园"}],gradeGroupName:"幼儿阶段",gradeGroupId:"KID"},{gradeList:[{gradeName:"一年级",gradeId:"L1",alias:"一年级"},{gradeName:"二年级",gradeId:"L2",alias:"二年级"},{gradeName:"三年级",gradeId:"L3",alias:"三年级"},{gradeName:"四年级",gradeId:"L4",alias:"四年级"},{gradeName:"五年级",gradeId:"L5",alias:"五年级"},{gradeName:"六年级",gradeId:"L6",alias:"六年级"}],gradeGroupName:"小学阶段",gradeGroupId:"PRIMARY_SCHOOL"},{gradeList:[{gradeName:"初一",gradeId:"L7",alias:"初一"},{gradeName:"初二",gradeId:"L8",alias:"初二"},{gradeName:"初三",gradeId:"L9",alias:"初三"}],gradeGroupName:"初中阶段",gradeGroupId:"MIDDLE_SCHOOL"},{gradeList:[{gradeName:"高一",gradeId:"L10",alias:"高一"},{gradeName:"高二",gradeId:"L11",alias:"高二"},{gradeName:"高三",gradeId:"L12",alias:"高三"}],gradeGroupName:"高中阶段",gradeGroupId:"HIGH_SCHOOL"}],we=function(e){d()(s,e);var a,n,t=(a=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function s(e){return l()(this,s),(e=t.call(this,e)).state={isLogin:!1,icon:"//gw.alicdn.com/tfs/TB1qNmsyYr1gK0jSZFDXXb9yVXa-96-96.png",userInfo:{sex:0},_userInfo:{sex:0},lessonInfo:{title:"学习计划",subtitle:"0"},classList:ye,isSetClassShow:!1,isSetUserShow:!1,isToastShow:!1,toast:""},e.isLoading=!1,e.isFromUser=!1,e}return u()(s,[{key:"editAll",value:function(){this.state.isLogin?this.state.userInfo.grade?(this.setState({isSetUserShow:!0,isSetClassShow:!1}),Object(N.a)("personal_information","pop","EXP")):(this.setState({isSetClassShow:!0,isSetUserShow:!1}),Object(N.a)("selectclass","pop","EXP")):window.yklogininstance&&window.yklogininstance.login&&window.yklogininstance.login()}},{key:"handleClass",value:function(e){e.stopPropagation(),e.preventDefault(),this.isFromUser=!1,this.setState({isSetClassShow:!0,isSetUserShow:!1}),Object(N.a)("selectclass","pop","EXP")}},{key:"editClass",value:function(){this.isFromUser=!0,this.setState({isSetClassShow:!0,isSetUserShow:!1}),Object(N.a)("selectclass","pop","EXP"),Object(N.a)("personal_information","class","CLK")}},{key:"gotoMy",value:function(){window.open("_blank").location="prodtest.youku.com"===location.host?"//prodtest.youku.com/page/usc/study":"//user.youku.com/page/usc/study"}},{key:"exitPop",value:function(){this.setState({isSetClassShow:!1,isSetUserShow:!1,_userInfo:Object.assign({},this.state.userInfo)})}},{key:"setClass",value:function(e,t){var a=this;this.state.userInfo.grade&&this.state.userInfo.name&&!this.isFromUser?this.setState({_userInfo:Object.assign(this.state._userInfo,{grade:e,gradeName:t})},function(){a.userSubmit()}):(this.setState({_userInfo:Object.assign(this.state._userInfo,{grade:e,gradeName:t}),isSetClassShow:!1,isSetUserShow:!0}),Object(N.a)("personal_information","pop","EXP")),Object(N.a)("selectclass",e,"CLK")}},{key:"getByteVal",value:function(e,t){for(var a="",n=0,s=0;s<e.length&&(null!=e[s].match(/[^\x00-\xff]/gi)?n+=2:n+=1,!(t<n));s++)a+=e[s];return a}},{key:"inputChange",value:function(e){this.setState({_userInfo:Object.assign(this.state._userInfo,{name:this.getByteVal(e.target.value,12)})})}},{key:"userSubmit",value:function(){var t=this;this.state._userInfo.grade?this.state._userInfo.name?this.isLoading||(this.isLoading=!0,S.a.request("mtop.youku.yklive.education.user.".concat(this.state.userInfo.id?"update":"add"),{data:this.state._userInfo}).then(function(e){e.data&&"true"===e.data.isSuccess?(t.setState({toast:"保存成功",isToastShow:!0,isSetClassShow:!1,isSetUserShow:!1},function(){setTimeout(function(){t.setState({isToastShow:!1})},2500)}),S.a.request("mtop.youku.yklive.education.user.query").then(function(e){e.data&&"true"===e.data.isSuccess&&e.data.model&&t.setState({userInfo:e.data.model,_userInfo:Object.assign({},e.data.model)})},function(){})):t.setState({toast:"保存失败，请稍后重试～",isToastShow:!0},function(){setTimeout(function(){t.setState({isToastShow:!1})},2500)}),t.isLoading=!1},function(){t.setState({toast:"保存失败，请稍后重试～",isToastShow:!0},function(){setTimeout(function(){t.setState({isToastShow:!1})},2500)}),t.isLoading=!1})):this.setState({toast:"请您填写名字",isToastShow:!0},function(){setTimeout(function(){t.setState({isToastShow:!1})},2500)}):this.setState({toast:"请您设置年级",isToastShow:!0},function(){setTimeout(function(){t.setState({isToastShow:!1}),t.setClass()},2500)})}},{key:"loginStatusWatch",value:function(){var t,a,n=this;window.yklogininstance&&window.yklogininstance.eventbusLogin&&window.yklogininstance.eventbusLogin.subscribe&&window.yklogininstance.eventbusLogin.subscribe((a=y()(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.userInfo&&t.userInfo.loginStatus&&!sessionStorage.getItem("xueLoginSucc")&&!n.state.isLogin&&(sessionStorage.setItem("xueLoginSucc",1),window.location.reload());case 1:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})),window.yklogininstance&&window.yklogininstance.eventbusLoggout&&window.yklogininstance.eventbusLoggout.subscribe&&window.yklogininstance.eventbusLoggout.subscribe((t=y()(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.removeItem("xueLoginSucc"),window.location.reload();case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}))}},{key:"componentDidMount",value:function(){var t=this;S.a.request("mtop.youku.yklive.education.user.grade.get").then(function(e){e.data&&"true"===e.data.isSuccess&&Array.isArray(e.data.model)&&0<e.data.model.length&&t.setState({classList:e.data.model})},function(){}),S.a.request("mtop.youku.vip.xtop.member.profile.get",{data:{req:JSON.stringify({deviceType:"pc",show:1})}}).then(function(e){e.data&&e.data.user_icon_middle&&t.setState({isLogin:!0,icon:e.data.user_icon_middle},function(){t.loginStatusWatch()})},function(){t.loginStatusWatch()}),S.a.request("mtop.youku.yklive.education.user.query").then(function(e){e.data&&"true"===e.data.isSuccess&&e.data.model?t.setState({userInfo:e.data.model,_userInfo:Object.assign({},e.data.model)},function(){e.data.model.grade?void 0!==e.data.model.sex&&e.data.model.name||(t.setState({isSetClassShow:!1,isSetUserShow:!0}),Object(N.a)("personal_information","pop","EXP")):(t.setState({isSetClassShow:!0,isSetUserShow:!1}),Object(N.a)("selectclass","pop","EXP"))}):(t.setState({isSetClassShow:!0,isSetUserShow:!1}),Object(N.a)("selectclass","pop","EXP"))},function(){}),S.a.request("mtop.youku.yklive.education.lessions.plan.count").then(function(e){e.data&&e.data.model&&t.setState({lessonInfo:Object.assign(t.state.lessonInfo,{subtitle:99<e.data.model?"99+":e.data.model})})},function(){})}},{key:"render",value:function(){var a=this;return m.a.createElement("div",{className:ge.a.card_outer},m.a.createElement("div",{className:ge.a.card_wrap},m.a.createElement("div",{className:ge.a.card_left,onClick:function(){a.editAll()}},m.a.createElement("img",{className:ge.a.card_avatar,src:this.state.userInfo&&this.state.userInfo.icon||this.state.icon}),m.a.createElement("h3",null,m.a.createElement("a",{className:ge.a.card_nick},this.state.isLogin?this.state.userInfo.name||(this.state.userInfo.grade?"设定名字":"设定年级"):"请设置名字"),this.state.userInfo&&this.state.userInfo.gradeName&&m.a.createElement("a",{className:ge.a.card_class,onClick:function(e){a.handleClass(e)}},this.state.userInfo.gradeName.split("（")[0])),m.a.createElement("p",{className:ge.a.card_subtitle},this.state.isLogin?this.state.userInfo.extText||(this.state.userInfo.grade?"方便老师叫到孩子":"定制专属频道内容"):"方便老师叫到孩子")),m.a.createElement("a",{className:ge.a.lesson,onClick:function(){a.gotoMy()}},m.a.createElement("p",null,this.state.lessonInfo.subtitle||"0"),m.a.createElement("p",null,this.state.lessonInfo.title||"学习计划"))),this.state.isSetClassShow&&m.a.createElement("div",{className:ge.a.class_pop},m.a.createElement("a",{className:ge.a.pop_exit,onClick:function(){a.exitPop()}}),m.a.createElement("h3",null,"设置当前所在年级"),Array.isArray(this.state.classList)&&this.state.classList.map(function(e,t){return m.a.createElement("div",{className:ge.a.class_wrap},m.a.createElement("div",{className:ge.a.class_title},e.gradeGroupName),m.a.createElement("div",{className:ge.a.class_list},Array.isArray(e.gradeList)&&e.gradeList.map(function(e,t){return m.a.createElement("a",{onClick:function(){a.setClass(e.gradeId,e.gradeName)},className:e.gradeId===a.state._userInfo.grade?ge.a.selected:""},e.gradeName)})))})),this.state.isSetUserShow&&m.a.createElement("div",{className:ge.a.user_pop},m.a.createElement("a",{className:ge.a.pop_exit,onClick:function(){a.exitPop()}}),m.a.createElement("h3",null,"填写孩子信息"),m.a.createElement("div",null,m.a.createElement("dl",null,m.a.createElement("dt",null,"年级"),m.a.createElement("dd",null,m.a.createElement("p",null,this.state._userInfo.gradeName||""),m.a.createElement("a",{className:ge.a.pop_edit,onClick:function(){a.editClass()}}))),m.a.createElement("dl",null,m.a.createElement("dt",null,"名字"),m.a.createElement("dd",null,m.a.createElement("p",null,m.a.createElement("input",{onFocus:function(){Object(N.a)("personal_information","name","CLK")},ref:"input",value:this.state._userInfo.name||"",defaultValue:"",placeholder:"最多输入6个汉字",onChange:function(e){return a.inputChange(e)}})))),m.a.createElement("dl",null,m.a.createElement("dt",null,"性别"),m.a.createElement("dd",null,m.a.createElement("a",{className:"".concat(ge.a.pop_gender," ").concat(this.state._userInfo.sex&&0!==this.state._userInfo.sex&&"0"!==this.state._userInfo.sex?"":ge.a.active),title:"男孩",onClick:function(){a.setState({_userInfo:Object.assign(a.state._userInfo,{sex:0})}),Object(N.a)("personal_information","boy","CLK")}}),m.a.createElement("a",{className:"".concat(ge.a.pop_gender," ").concat(1===this.state._userInfo.sex||"1"===this.state._userInfo.sex?ge.a.active:""),title:"女孩",onClick:function(){a.setState({_userInfo:Object.assign(a.state._userInfo,{sex:1})}),Object(N.a)("personal_information","girl","CLK")}})))),m.a.createElement("a",{className:ge.a.pop_submit,onClick:function(){a.userSubmit()}},"保存")),this.state.isToastShow&&m.a.createElement("div",{className:ge.a.toast},this.state.toast),(this.state.isSetUserShow||this.state.isSetClassShow)&&m.a.createElement("div",{className:ge.a.layer,onClick:function(){a.exitPop()}}))}}]),s}(i.Component),s=a(63),be=a.n(s),s=a(4),s=a.n(s);a(1486);function ke(e,t,a,n,s){if(e.components&&e.components[0]){var i=e.components[0];return m.a.createElement("div",g()({},Object(E.d)(i),{className:be.a.pcackBox}),i.isFocus?m.a.createElement(H.a,{list:i.itemList,changeNum:e.changeNum,changeIndex:t,elementWidth:a,col:n,row:i.totalLine||2,isOneLineTitle:i.isOneLineTitle,isHorizontal:i.isHorizontal,subRightLinkInfo:e.subRightLinkInfo&&e.subRightLinkInfo.subRightLinkTitle,isLazy:s,asyncRefresh:e.asyncRefresh||!1}):m.a.createElement(U,{list:i.itemList,isHorizontal:i.isHorizontal,rank:i.isRank,changeNum:e.changeNum,isOneLineTitle:i.isOneLineTitle,changeIndex:t,elementWidth:a,len:n,row:"PHONE_DEFALT_SCROLL_C"===e.containerType||"VIP_TAIL_PLACEHOLDER"===e.containerType?1:i.totalLine||2,subRightLinkInfo:e.subRightLinkInfo&&e.subRightLinkInfo.subRightLinkTitle,isLazy:s,asyncRefresh:e.asyncRefresh||!1}))}}var Se=function(e){d()(s,e);var a,n,t=(a=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function s(e){var a;return l()(this,s),a=t.call(this,e),r()(v()(a),"staticProps",{moduleId:"",type:"",data:{},isLazyRender:!1}),r()(v()(a),"checkTextLink",function(e){var t=48/a.props.data.subTitleLinks.length;return e.length>t?e.slice(0,t)+"...":e.slice(0,t)}),a.state={changeIndex:0,elementWidth:0},a}return u()(s,[{key:"componentDidMount",value:function(){var t=this;this.elementWidth=document.querySelector(".g-box")&&document.querySelector(".g-box").offsetWidth+12,this.gRowWith=document.querySelector(".hot-g-row")&&document.querySelector(".hot-g-row").offsetWidth,this.len=this.gRowWith&&this.elementWidth&&Math.ceil(this.gRowWith/this.elementWidth),this.packFocus=!!document.querySelector(".pack-focus"),this.elementWidth&&this.setState({elementWidth:this.elementWidth}),window.addEventListener("resize",Object(oe.throttle)(function(e){t.elementWidth=document.querySelector(".g-box")&&document.querySelector(".g-box").offsetWidth+12,t.state.elementWidth!==t.elementWidth&&(t.gRowWith=document.querySelector(".hot-g-row")&&document.querySelector(".hot-g-row").offsetWidth,t.len=t.gRowWith&&t.elementWidth&&Math.ceil(t.gRowWith/t.elementWidth))},100))}},{key:"changeHandle",value:function(e){var t,a=this.props.data;a.components&&a.components[0]&&(t=a.components[0],a=Math.floor(t.itemList.length/(t.isFocus?2*this.len-3:this.len)),t=this.state.changeIndex,t=++t%a,this.setState({changeIndex:t}))}},{key:"getHeaderId",value:function(){return"maintitle_".concat(this.props.data.moduleId)}},{key:"renderContent",value:function(e,t){var a,n;switch(e){case"PC_CAROUSEL":a="";break;case"PC_ADS":a=m.a.createElement(V.a,{data:t,headerId:this.getHeaderId()});break;case"PCWEB_HTML":a=m.a.createElement(ie,{data:t});break;case"PC_BANNER":a=this.props.isIE9?m.a.createElement(P,{data:t}):t.newFocus?m.a.createElement(R,{data:t,floatAdFlag:this.props.floatAdFlag}):m.a.createElement(L,{data:t,floatAdFlag:this.props.floatAdFlag});break;case"WEB_NAV_SEC":a=m.a.createElement(ue,{data:t,channelFilter:this.props.channelFilter});break;case"WEB_BANNER2019":a=m.a.createElement(he,{data:t,channelFilter:this.props.channelFilter});break;case"PC_NAV":a="homepage"===this.props.channelFilter.type?m.a.createElement(he,{data:t,channelFilter:this.props.channelFilter}):m.a.createElement(ue,{data:t,channelFilter:this.props.channelFilter});break;case"NORMAL":t.components&&0<t.components.length&&"WEB_PIC_LIST"===t.components[0].tag?a=m.a.createElement(se,{component:t.components[0],changeIndex:this.state.elementWidth,elementWidth:this.state.elementWidth,len:this.len}):t.components&&0<t.components.length&&"WEB_BIGFOCUS_TILE_LIST"===t.components[0].tag?t.components&&t.components[0]&&(n=t.components[0],a=m.a.createElement(ve,{list:n.itemList,rank:n.isRank,spmC:t.spm})):a=t.components&&0<t.components.length&&"PHONE_CLASS_ROOM"===t.components[0].tag?m.a.createElement(we,null):ke(t,this.state.changeIndex,this.state.elementWidth,this.len);break;case"PC_TILE_LIST":a=ke(t,this.state.changeIndex,this.state.elementWidth,this.len);break;case"PC_TAB":n=this.props.forceRender,a=m.a.createElement(Q,{mainTitleLinks:t.mainTitleLinks,subRightLinkInfo:t.subRightLinkInfo,forceRender:n,components:t.components,moduleId:t.moduleId,tabTitle:0===t.tabTitle.length?[{name:""}]:t.tabTitle,tabType:t.tabType,spm:t.spm});break;case"PC_FESTIVAL_CONFIG":a="";break;default:a=ke(t,this.state.changeIndex,this.state.elementWidth,this.len)}return a=t.components&&0<t.components.length&&"WEB_BANNER"===t.components[0].tag?void 0:a}},{key:"renderHeader",value:function(e){var a,n=this,t=this.props.data,s=t.mainTitleLinks,i=t.subTitleLinks,r=t.subRightLinkInfo,o=t.tabType,c=t.changeNum;if(!s||0===s.length||"TIME"!==o&&"NORMAL"!==e&&"PC_TILE_LIST"!==e&&"PC_ADS"!==e&&"PHONE_DEFALT_SCROLL_C"!==e&&"VIP_TAIL_PLACEHOLDER"!==e)return"";if("PC_ADS"===e&&s.length)return m.a.createElement("div",{className:be.a.module_header,"data-spm":this.props.data.spm,id:this.getHeaderId(),style:{display:"none"}},m.a.createElement("h2",{className:be.a.module_title},m.a.createElement("span",{"data-spm":s[0].spm,key:0,target:"_blank",className:be.a.main_title},s[0].title)));1<s.length&&(a=[],s.map(function(e,t){a.push(e),t<s.length-1&&a.push({isCut:"true",title:"•"})}),s=a);var l=s.length,t="NO"===o&&"PC_TAB"!==e,o=this.props.data.components&&0<this.props.data.components.length&&this.props.data.components[0].headAdId,e=this.props.data.components;return e&&0<e.length&&"WEB_BANNER"===e[0].tag?"":m.a.createElement("div",{className:be.a.module_header,"data-spm":this.props.data.spm},m.a.createElement("h2",{className:be.a.module_title},s.map(function(e,t){if(!e)return"";if(e.isCut)return m.a.createElement("span",{className:be.a.main_title_cut,key:t},e.title);var a=t===l-1?f()(be.a.main_title,be.a.last_item):be.a.main_title;return e.link?m.a.createElement("a",g()({key:t,className:a},Object(E.e)(e,!0),Object(E.c)(e)),e.title):m.a.createElement("span",{key:t,className:a},e.title)})),i&&Array.isArray(i)&&0<i.length&&m.a.createElement("div",{className:be.a.sub_title},i.map(function(e,t){return e?m.a.createElement("div",{className:be.a.link_wrap,key:t},e.link?m.a.createElement("a",g()({key:t},Object(E.e)(e,!0),Object(E.c)(e)),n.checkTextLink(e.title)," "):m.a.createElement("span",{key:t},e.title," ")):""})),r?m.a.createElement("a",g()({},Object(E.e)(r,!0),Object(E.c)(r),{className:be.a.right_content}),r.subRightLinkTitle):"",t&&o?m.a.createElement(V.a,{data:{adId:o},className:c?be.a.header_sponsor:be.a.header_sponsor_right,showType:"tabheader"}):"",c&&m.a.createElement("a",{className:"".concat(be.a.right_content," ").concat(be.a.change_icon),title:"换一换",onClick:this.changeHandle.bind(this)},m.a.createElement("span",{className:"iconfont iconhuanyihuanx",style:{marginRight:"8px"}}),"换一换"))}},{key:"render",value:function(){var e=this.props.data.type,t=this.props.data.components&&0<this.props.data.components.length&&this.props.data.components[0].tag||"",a=this.props.data.tabTitle,n="PC_ADS"===(e=a&&1<a.length?"PC_TAB":e)&&1===this.props.data.adType,s="PC_BANNER"===e||n||this.props.data.isLayoutHori?"":re.a.container,a=this.props.data.isIgnoreBottom||"PC_FESTIVAL_CONFIG"===e?"":be.a.mod_bottom;"PC_NAV"!==e&&"WEB_BANNER2019"!==e&&"PC_BANNER"!==e&&"WEB_NAV_SEC"!==e||(a="");n=this.props.data;return n.components&&0<n.components.length&&"WEB_BANNER"===n.components[0].tag?"":m.a.createElement("div",{className:"".concat(be.a.mod," ").concat("PC_NAV"===e?be.a.pc_nav_pointer:""),type:this.props.type,id:"m_".concat(this.props.data.moduleId),name:"m_pos",style:{zIndex:"PC_BANNER"===e?1:"PHONE_CLASS_ROOM"===t||"PHONE_TIMELINE_A"===t?3:""}},m.a.createElement("div",{className:"".concat(s," ").concat(a)},this.props.data.isHiddenHeader?"":this.renderHeader(e),this.renderContent(e,this.props.data)))}}]),s}(i.Component);r()(Se,"contextTypes",{userInfo:s.a.object});var Ee=a(65),Ie=a(263),Ne=(a(494),{MountSkinLists:function(e){window.__skinLists__=1===e?["white2","dark"]:["white","dark"]}});a(202);var xe={p:"",sid:"",s:"",aw:"w",k:"",rst:"h5,img"},i=function(e){d()(i,e);var a,n,s=(a=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h()(a);return t=n?(e=h()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function i(e){var t;l()(this,i),(t=s.call(this,e)).state={isClientRender:!1};var a=100*Math.random();t.isNewAd=!1;e=Object(E.l)().isFocusNewad;t.isNewAd="1"===e||"0"===e?"1"===e:window.isRequest&&window.adPercent&&a<window.adPercent;a=Object(Ie.a)(t.props.userAgent);return t.isIE8=a.isIE&&a.majorVersion<9,t.isIE9=a.isIE&&a.majorVersion<10,t.browser=a,t}return u()(i,[{key:"requestAD",value:function(e){var t,a;!e||e.length<1||(t="",e.map(function(e){-1<",26,52,60,62,101486,163,164,165,167,168,169,171,262,263,267,271,272,279,358,363,364,373,380,386,387,391,402,412,416,419,427,431,432,480,481,482,489,490,584,588,589,607,608,612,613,712,713,761,762,798,799,800,801,802,803,804,805,806,807,808,809,810,812,813,815,816,864,".indexOf(",".concat(e.adId,","))&&(t+="".concat(e.adId,","))}),t&&(a=navigator.userAgent.toLowerCase(),(e=xe).p=t,e.ios=-1!==a.indexOf("mac")||-1!==a.indexOf("ios"),e.compatible=1,Object(E.h)("//html.atm.youku.com/html?"+Object(E.q)(e),{charset:"gbk"})))}},{key:"refreshModuleList",value:function(){}},{key:"componentDidMount",value:function(){this.setState({isClientRender:!0}),this.hasPcFocus||setTimeout(function(){window.Header&&window.Header.changeState(!0)},50),this.isNewAd||this.requestAD(this.adList)}},{key:"render",value:function(){var n=this,e=this.props.hasPcFocus?_.a.s_body:f()(_.a.s_body,this.props.UOSMode?_.a.body_top40:_.a.body_top110),t=this.props.channelId,a=this.props,s=a.channelFilter,i=a.isTudou,r=!(!s||!s.type||"homepage"!==s.type||this.props.hasMore),a={};return!(!t||"TIYU_SEC00SPORTS00SCHEDULE"!==t)&&(a.minHeight="auto"),m.a.createElement("div",{className:i?f()(e,_.a.tudou_body):e,style:a},!this.props.UOSMode&&m.a.createElement(x.b.Consumer,null,function(e){return i?null:m.a.createElement(Ee.YoukuFixedBar,{userInfo:e})}),this.props.serverData.map(function(e,t){var a=t<=n.pcBannerIndex+5;return m.a.createElement(Se,{data:e,channelFilter:s,forceRender:a,key:"s".concat(t),isIE8:n.isIE8,isIE9:n.isIE9,browser:n.browser,floatAdFlag:n.floatAdFlag})}),this.state.isClientRender?this.props.clientData.map(function(e,t){return m.a.createElement(o.a,{key:"module".concat(t),height:400,offset:0,once:!0},m.a.createElement(Se,{channelFilter:s,data:e,key:"c".concat(t),isIE8:n.isIE8,isIE9:n.isIE9}))}):"",r&&m.a.createElement(c.a,null))}}]),i}(i.Component),i=Object(n.connect)(function(e){var a=!1,n=!1,s=-1,i=[],r=!1,o=e.moduleList.data.moduleList;o.map(function(e,t){a||"PC_BANNER"!==e.type||(a=!0,s=t),n||"WEB_NAV_SEC"!==e.type&&"PC_NAV"!==e.type||(n=!0),!a&&n&&(o[t].noBannerNavClass=!0),Ne.MountSkinLists(Number(!a)),"PC_ADS"===e.type&&(1===e.adType&&(r=!0),i.push({adId:e.adId,adType:e.adType})),-1===s&&"PCWEB_HTML"===e.type&&(e.isHiddenHeader=!0,e.isIgnoreBottom=!0)}),a&&!n&&(o[s].bottom=0);var t=s+5;return{floatAdFlag:r,initData:o,serverData:o.slice(0,t),clientData:o.length>t?o.slice(t,o.length):[],hasPcFocus:a,adList:i,pcBannerIndex:s,userAgent:e.moduleList.userAgent,channelFilter:e.moduleList.data.categoryFilter,channelId:e.moduleList.data.channelId,UOSMode:e.moduleList.data.UOSMode,hasMore:e.moduleList.data.hasNext,isTudou:e.moduleList.isTudou}})(i);t.a=[{path:"/",component:i},{path:"/channel",component:i},{path:"/test",component:i},{path:"/nodeprotest",component:i}]},49:function(e,t,a){e.exports={focus_wrap:"focusswiper_focus_wrap",focus_item:"focusswiper_focus_item",common_shade:"focusswiper_common_shade",top_shade:"focusswiper_top_shade",bottom_shade:"focusswiper_bottom_shade",focus_logo_wrap:"focusswiper_focus_logo_wrap",content_info_wrap:"focusswiper_content_info_wrap",content_info:"focusswiper_content_info",banner_logo:"focusswiper_banner_logo",title_wrap:"focusswiper_title_wrap",common_title:"focusswiper_common_title",focus_title:"focusswiper_focus_title",focus_subtitle:"focusswiper_focus_subtitle",right_content_wrap:"focusswiper_right_content_wrap",prick:"focusswiper_prick",pagination_wrap:"focusswiper_pagination_wrap",pagination_item:"focusswiper_pagination_item",current_pagination_item:"focusswiper_current_pagination_item",video_control:"focusswiper_video_control",bt_wrap:"focusswiper_bt_wrap",bt_icon_play:"focusswiper_bt_icon_play",bt_icon_add:"focusswiper_bt_icon_add",bt_icon_added:"focusswiper_bt_icon_added",focus_cover:"focusswiper_focus_cover",nav_wrap:"focusswiper_nav_wrap",focus_nav_hide:"focusswiper_focus_nav_hide",focus_nav:"focusswiper_focus_nav",sub_title:"focusswiper_sub_title",nav_slide:"focusswiper_nav_slide",em:"focusswiper_em",focus_height:"focusswiper_focus_height"}},490:function(e,t,a){e.exports={component_tabs:"tabs_component_tabs",main_title_wrap:"tabs_main_title_wrap",more:"tabs_more",main_title:"tabs_main_title",main_title_cut:"tabs_main_title_cut",tab_sponsor:"tabs_tab_sponsor",tab_title:"tabs_tab_title",tab_sub_title:"tabs_tab_sub_title",current_tab:"tabs_current_tab",component_chasing:"tabs_component_chasing","ant-tabs-nav":"tabs_ant-tabs-nav",module_title:"tabs_module_title",right_content:"tabs_right_content"}},52:function(e,t,a){e.exports={card_outer:"studycard_card_outer",card_wrap:"studycard_card_wrap",card_left:"studycard_card_left",card_avatar:"studycard_card_avatar",card_nick:"studycard_card_nick",card_class:"studycard_card_class",card_subtitle:"studycard_card_subtitle",lesson:"studycard_lesson",class_pop:"studycard_class_pop",pop_exit:"studycard_pop_exit",class_title:"studycard_class_title",class_wrap:"studycard_class_wrap",class_list:"studycard_class_list",selected:"studycard_selected",user_pop:"studycard_user_pop",pop_edit:"studycard_pop_edit",pop_gender:"studycard_pop_gender",active:"studycard_active",pop_submit:"studycard_pop_submit",toast:"studycard_toast",layer:"studycard_layer"}},63:function(e,t,a){e.exports={mod:"module_mod",mod_header:"module_mod_header",module_header:"module_module_header",main_title:"module_main_title",last_item:"module_last_item",main_title_cut:"module_main_title_cut",sub_title:"module_sub_title",link_wrap:"module_link_wrap",right_content:"module_right_content",header_sponsor:"module_header_sponsor",header_sponsor_right:"module_header_sponsor_right",mod_bottom:"module_mod_bottom",nav_bottom_shade:"module_nav_bottom_shade",pc_nav_pointer:"module_pc_nav_pointer"}},727:function(e,t,a){"use strict";var n=a(10),d=a.n(n),s=a(5),p=a.n(s),i=a(6),h=a.n(i),r=a(17),m=a.n(r),o=a(8),f=a.n(o),n=a(9),_=a.n(n),s=a(3),v=a.n(s),i=a(11),g=a.n(i),r=a(2),y=a.n(r),c=a(0),w=a.n(c),b=a(24),o=a(25),k=a(391),S=a(82),E=a(181),I=a(26),n=(a(217),a(798)),N=a.n(n),x=a(148),O=a(7),L=a(208),C=a(171),s=a(799),l=a.n(s),i=(a(1574),a(1575),a(4)),r=a.n(i),n=a(800),u=a.n(n);function T(){return(T=d()(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.b)("CommonActivity.getServerTimeCommon",{activityName:"霸屏线上配置",configId:"9c4ad307f87b44c5a91dcd6caef76340"},"mtop.com.youku.aplatform.weakGet",24679788,{jsonpIncPrefix:"pc_pages_act_window_time"+(new Date).getTime()});case 2:return t=e.sent,e.abrupt("return",t&&t.data&&t.data.data);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(){return A.apply(this,arguments)}function A(){return(A=d()(y.a.mark(function e(t){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.startTime&&t.endTime)return e.next=3,function(){return T.apply(this,arguments)}();e.next=7;break;case 3:if((a=e.sent)&&a.currTime)return e.abrupt("return",function(e,t){var a=t.currTime,t=e.endTime,e=e.startTime;if(a&&e&&t)return e<t&&e<=a&&a<t}(t,a));e.next=6;break;case 6:case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}s=function(){return function(o){return function(e){f()(r,e);var a,n,t,s,i=(a=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=v()(a);return t=n?(e=v()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),_()(this,t)});function r(e){var t;return p()(this,r),t=i.call(this,e),g()(m()(t),"checkDisplayTime",function(e){R({startTime:e.startTime,endTime:e.endTime}).then(function(e){e?t.setState({checkTimeStatus:!0}):(t.setState({checkTimeStatus:!1}),!t.props.forceShowModal&&t.props.onNotTargeted&&t.props.onNotTargeted())},function(){console.log("时间异常")})}),t.checkGrayStatus=!1,t.checkFrequencyStatus=!0,t.checkHasShow=!1,t.checkHasLogined=!1,t.checkHasClosed=!1,t.state={checkTimeStatus:!1,isShowModal:!1},t}return h()(r,[{key:"mountControl",value:(s=d()(y.a.mark(function e(t){var a,n,s,i,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.data||{},r=t.forceShowModal,n=t.isAwardModalPass,this.resetUUIDData(),r)return e.abrupt("return");e.next=5;break;case 5:if(this.checkDisplayTime(a),this.ifInFrequencyRange(a,n)){e.next=8;break}return e.abrupt("return");case 8:this.checkGrayStatus=u()(a,t.loginStatus),this.checkInBlackList(),s=this.checkGrayStatus,i=this.checkHasShow,(r=s&&!i)||!t.forceShowModal&&t.onNotTargeted&&t.onNotTargeted(),n?this.awardpassShowContorl(s,i,r):(r&&a.frequencyControl&&a.frequencyControl.switch&&this.awardmodalFrequencyControl(a),this.setState({isShowModal:r}));case 14:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"componentDidMount",value:(t=d()(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.mountControl(this.props);case 1:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"resetUUIDData",value:function(){var t=this;this.setUUIDData("modalFrequency");var e=(this.props&&this.props.data).blackListAddCondition;e&&0<e.length&&e.forEach(function(e){t.setUUIDData("modalBlackList".concat(e))})}},{key:"setUUIDData",value:function(e){var t=L.a.getCookieObject(e)||{},a=this.props&&this.props.data&&this.props.data.UUID,n=t.UUID;Object.keys(t).length&&(!n||n===a)&&n||L.a.setCookieObject(e,{UUID:a},864e3,".youku.com")}},{key:"ifInFrequencyRange",value:function(e,t){if(e.frequencyControl&&e.frequencyControl.switch&&!t){var a=L.a.getCookieObject("modalFrequency")||{},t=a.times||0,e=e.frequencyControl.times;if(void 0!==e&&Object.keys(a).length&&a.UUID===(this.props.data&&this.props.data.UUID)&&e<=t)return!1}return!0}},{key:"awardpassShowContorl",value:function(e,t,a){e&&t?(this.checkHasLogined=this.checkHasShowPath("logined"),this.checkHasLogined?this.setState({isShowModal:a}):this.setState({isShowModal:!0})):this.setState({isShowModal:a})}},{key:"awardmodalFrequencyControl",value:function(e){var t=e.frequencyControl,a=t.unit,e=t.unitNum,t=864e3;"hour"===a&&void 0!==e?t=3600*e:"day"===a&&void 0!==e&&(t=24*e*3600);a=L.a.getCookieObject("modalFrequency")||{},e=a.times||0;0===e?L.a.setCookieObject("modalFrequency",this.getNewObj(a,{times:++e,firstTimeExpire:(new Date).getTime()+1e3*t}),t,".youku.com"):((t=new Date).setTime(a.firstTimeExpire),document.cookie="modalFrequency=".concat(JSON.stringify(this.getNewObj(a,{times:++e})),";expires=").concat(t.toUTCString(),";domain=.youku.com;path=/"))}},{key:"getNewObj",value:function(e,t){for(var a in t)t[a]!==e[a]&&(e[a]=t[a]);return e}},{key:"checkInBlackList",value:function(){for(var e=this.props.data&&this.props.data.blackListAddCondition||[],t=0;t<e.length;t++){var a=L.a.getCookieObject("modalBlackList".concat(e[t]))||{};if(Object.keys(a).length&&a.UUID===(this.props.data&&this.props.data.UUID)&&a.blackListSrc)return this.checkHasShow=!0,console.log("黑名单命中"+a.blackListSrc),void(!this.props.forceShowModal&&this.props.onNotTargeted&&this.props.onNotTargeted())}}},{key:"checkHasShowPath",value:function(e){for(var t=this.props.data&&this.props.data.blackListAddCondition||[],a=0;a<t.length;a++){var n=L.a.getCookieObject("modalBlackList".concat(e))||{};if(Object.keys(n).length&&n.blackListSrc)return!0}return!1}},{key:"render",value:function(){var e=this.state,t=e.isShowModal,a=e.checkTimeStatus,n=this.props,s=n.gray,e=n.isAwardModalPass;return n.forceShowModal&&!e?w.a.createElement(c.Fragment,null,w.a.createElement(o,this.props)):w.a.createElement(c.Fragment,null,s||t&&a?w.a.createElement(o,this.props):null," ")}}]),r}(w.a.Component)}};var P=s()((n=i=function(e){f()(s,e);var a,n,t=(a=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=v()(a);return t=n?(e=v()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),_()(this,t)});function s(){return p()(this,s),t.apply(this,arguments)}return h()(s,[{key:"render",value:function(){var e=this.props.isShow;return w.a.createElement(c.Fragment,null,w.a.createElement(l.a,{data:this.props.data,isShow:e,clickCleanModalStatusCallback:this.props.clickCleanModalStatusCallback}))}}]),s}(w.a.Component),g()(i,"defaultProps",{isShow:!1,data:{},loginStatus:"0"}),g()(i,"propTypes",{isShow:r.a.bool,data:r.a.object,loginStatus:r.a.string}),n=n))||n;function j(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function M(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?j(Object(a),!0).forEach(function(e){g()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}a(1576);var D=s()((s=n=function(e){f()(s,e);var a,n,t=(a=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=v()(a);return t=n?(e=v()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),_()(this,t)});function s(){return p()(this,s),t.apply(this,arguments)}return h()(s,[{key:"parseStyle",value:function(e){return M(M({},e),{},{position:"fixed",zIndex:12})}},{key:"clickShowAwardModal",value:function(){var e=this.props.clickShowAwardModalCallback;e&&e()}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.awardPassStyle,n=t.awardPassSpm,t=this.parseStyle(a),a=t.awardPassSrc;return w.a.createElement("div",{"data-spm":n.spmC},w.a.createElement("div",{className:"award-pass",style:t},w.a.createElement("a",{href:"javascript:;","data-name":"a_pos","data-spm":"d".concat(n.spmD)},w.a.createElement("img",{src:a,style:t,onClick:function(){return e.clickShowAwardModal()}})," ''",w.a.createElement("i",{className:"dot"}))))}}]),s}(w.a.Component),g()(n,"defaultProps",{awardPassStyle:{awardPassSrc:"https://img.alicdn.com/tfs/TB1gSJouW61gK0jSZFlXXXDKFXa-138-162.png",width:"46px",height:"54px",right:"10px",bottom:"180px"},awardPassSpm:{spmC:"followicons",spmD:"tanchuang"}}),g()(n,"propTypes",{awardPassStyle:r.a.object,awardPassSpm:r.a.object}),s=s))||s,s=a(156),F=a.n(s);function B(e,t,a){for(var n=0,s=e.length;n<s;n++)if(e[n]&&e[n][t]===a)return n;return-1}var W=(h()(z,[{key:"setItem",value:function(e){var t={name:"",value:"",expires:"",startTime:(new Date).getTime()},a={};Object.assign(a,t,e),a.expires?localStorage.setItem(a.name,JSON.stringify(a)):("[object Object]"===Object.prototype.toString.call(a.value)&&(a.value=JSON.stringify(a.value)),"[object Array]"===Object.prototype.toString.call(a.value)&&(a.value=JSON.stringify(a.value)),localStorage.setItem(a.name,a.value))}},{key:"getItem",value:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){console.log("error",e)}return t&&t.startTime?(new Date).getTime()-t.startTime>t.expires?(localStorage.removeItem(e),!1):t.value:t}},{key:"removeItem",value:function(e){localStorage.removeItem(e)}},{key:"clear",value:function(){localStorage.clear()}}]),z);function z(e){p()(this,z),this.name="storage"}function K(e,t,a,n,s){var i=4<arguments.length&&void 0!==s?s:864e6,r=new W,s=r.getItem(e)||[],a=B(s,t,a);~a?s[a]=n:s.push(n),r.setItem({name:e,value:s,expires:i})}var s=a(235),U=a.n(s);var H=function(e){f()(s,e);var a,n,t=(a=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=v()(a);return t=n?(e=v()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),_()(this,t)});function s(e){return p()(this,s),(e=t.call(this,e)).data=e.props,e.state={status:-1,isShow:!1,couponShow:!1,qrCode:""},e}return h()(s,[{key:"exitToast",value:function(e){this.setState({isShow:!1}),"close"===e&&(0===this.state.status?Object(x.a)("mrpfeedback","dclose","CLK"):1===this.state.status?Object(x.a)("mrpfeedback_vip","dclose","CLK"):2===this.state.status?Object(x.a)("mrpfeedback_gainederr","dclose","CLK"):3===this.state.status?Object(x.a)("mrpfeedback_systemerr","dclose","CLK"):4===this.state.status?Object(x.a)("benefitexpiring","dclose","CLK"):5===this.state.status&&Object(x.a)("benefitexpired","dclose","CLK"))}},{key:"onMouseOver",value:function(){this.setState({couponShow:!0})}},{key:"onMouseLeave",value:function(){this.setState({couponShow:!1})}},{key:"goBuy",value:function(){this.setState({isShow:!1}),Object(x.a)(4===this.state.status?"benefitexpiring":"benefitexpired","dhere","CLK")}},{key:"goVip",value:function(){Object(x.a)("mrpfeedback_vip","dvipchannel","CLK"),window.open("_blank").location="//home.vip.youku.com/"}},{key:"componentDidMount",value:function(){var e,t,a,n=this;this.setState({qrCode:"https://h5.m.youku.com/app/coupon.html?cna="+L.a.getCookie("cna")+"&source_from=kqb_2"}),this.data.prizeObj.isWinPrize?(this.setState({isShow:!0,status:0}),Object(x.a)("mrpfeedback","dclose","EXP"),setTimeout(function(){n.setState({isShow:!1})},8e3)):!1===this.data.prizeObj.isWinPrize?this.data.userInfo.vip&&this.data.userInfo.vip.isGoldVip?(this.setState({isShow:!0,status:1}),Object(x.a)("mrpfeedback_vip","dclose","EXP"),Object(x.a)("mrpfeedback_vip","dvipchannel","EXP"),setTimeout(function(){n.setState({isShow:!1})},8e3)):"countLimit"===this.data.prizeObj.errorAwardStatus?(this.setState({isShow:!0,status:2}),Object(x.a)("mrpfeedback_gainederr","dclose","EXP"),setTimeout(function(){n.setState({isShow:!1})},8e3)):"systemError"===this.data.prizeObj.errorAwardStatus&&(this.setState({isShow:!0,status:3}),Object(x.a)("mrpfeedback_systemerr","dclose","EXP"),setTimeout(function(){n.setState({isShow:!1})},8e3)):this.data.prizeObj.winPrizeExpireTime&&(e=new Date(this.data.prizeObj.winPrizeExpireTime.replace(/-/g,"/")).getTime(),t=this.data.prizeObj.uuid,a=this.data.prizeObj.ytid,this.data.prizeObj.beforeRemind||R({startTime:e-864e5,endTime:e}).then(function(e){e&&(n.setState({isShow:!0,status:4}),Object(x.a)("benefitexpiring","dhere","EXP"),Object(x.a)("benefitexpiring","dclose","EXP"),setTimeout(function(){n.setState({isShow:!1})},8e3),K("awardArr".concat(t),"ytid",a,Object.assign(n.data.prizeObj,{beforeRemind:!0})))}),this.data.prizeObj.afterRemind||R({startTime:e,endTime:e+6048e5}).then(function(e){e&&(n.setState({isShow:!0,status:5}),Object(x.a)("benefitexpired","dhere","EXP"),Object(x.a)("benefitexpired","dclose","EXP"),setTimeout(function(){n.setState({isShow:!1})},8e3),K("awardArr".concat(t),"ytid",a,Object.assign(n.data.prizeObj,{afterRemind:!0})))}))}},{key:"render",value:function(){var e=this;return this.state.isShow?w.a.createElement("div",{className:F.a.toast_outer},w.a.createElement("div",{className:F.a.toast_wrap},w.a.createElement("a",{className:F.a.toast_exit,onClick:function(){e.exitToast("close")}}),this.state.status<4&&w.a.createElement("a",{className:F.a.toast_btn,onClick:function(){e.exitToast()}},"我知道了"),3<this.state.status&&w.a.createElement("a",{className:"".concat(F.a.toast_vip," youku_vip_pay_btn"),onClick:function(){e.goBuy()}},"立即续费"),0===this.state.status&&w.a.createElement("div",null,w.a.createElement("div",{className:F.a.toast_title},"您的",w.a.createElement("span",{className:F.a.toast_active},this.data.prizeObj.guide),"已到账，快去使用吧！"),w.a.createElement("div",{className:F.a.toast_desc},"打开",w.a.createElement("span",{className:F.a.toast_active,onMouseOver:function(){e.onMouseOver()},onMouseLeave:function(){e.onMouseLeave()}},"优酷手机App-我的-卡券包"),"中查看特权"),this.state.couponShow&&w.a.createElement("div",{className:F.a.toast_coupon},w.a.createElement("div",{className:F.a.toast_coupon_txt},"扫码直达卡券包"),w.a.createElement(U.a,{className:F.a.toast_coupon_img,width:90,avatar:"//img.alicdn.com/tfs/TB1dSyDXicKOu4jSZKbXXc19XXa-53-53.png",code:this.state.qrCode}))),1===this.state.status&&w.a.createElement("div",null,w.a.createElement("div",{className:F.a.toast_title},w.a.createElement("span",{className:F.a.toast_active},"您已经是会员了，"),"请把机会留给其他用户哦"),w.a.createElement("div",{className:F.a.toast_desc},"可在",w.a.createElement("a",{className:F.a.toast_active,onClick:function(){e.goVip()}},"VIP会员精选频道"),"，查看更多特权哦")),2===this.state.status&&w.a.createElement("div",null,w.a.createElement("div",{className:F.a.toast_title},"您已经领取过，请把机会留给其他用户哦"),w.a.createElement("div",{className:F.a.toast_desc},"打开",w.a.createElement("span",{className:F.a.toast_active,onMouseOver:function(){e.onMouseOver()},onMouseLeave:function(){e.onMouseLeave()}},"优酷手机App-我的-卡券包"),"中查看特权"),this.state.couponShow&&w.a.createElement("div",{className:F.a.toast_coupon},w.a.createElement("div",{className:F.a.toast_coupon_txt},"扫码直达卡券包"),w.a.createElement(U.a,{className:F.a.toast_coupon_img,width:90,avatar:"//img.alicdn.com/tfs/TB1dSyDXicKOu4jSZKbXXc19XXa-53-53.png",code:this.state.qrCode}))),3===this.state.status&&w.a.createElement("div",null,w.a.createElement("div",{className:F.a.toast_title},"系统开小差，请稍后再试")),4===this.state.status&&w.a.createElement("div",null,w.a.createElement("div",{className:F.a.toast_title},"您的",w.a.createElement("span",{className:F.a.toast_active},this.data.prizeObj.guide),"即将到期。"),w.a.createElement("div",{className:F.a.toast_desc},"续费优酷会员，更多特权待解锁")),5===this.state.status&&w.a.createElement("div",null,w.a.createElement("div",{className:F.a.toast_title},"您的",w.a.createElement("span",{className:F.a.toast_active},this.data.prizeObj.guide),"已到期！"),w.a.createElement("div",{className:F.a.toast_desc},"续费优酷会员，更多特权待解锁")))):w.a.createElement("div",null)}}]),s}(c.Component),V=a(236),X=a(180);function q(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function G(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?q(Object(a),!0).forEach(function(e){g()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}a(517),a(518),a(316),a(230),a(231);a=function(e){f()(u,e);var a,n,t,s,i,r,o,c,l=(a=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=v()(a);return t=n?(e=v()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),_()(this,t)});function u(e){var t;return p()(this,u),t=l.call(this,e),g()(m()(t),"clickShowAwardModalCallback",function(){t.setState({forceShowModal:!0,awardModalShow:!0})}),g()(m()(t),"clickCleanModalStatusCallback",function(){t.setState({forceShowModal:!1,awardModalShow:!1})}),window&&window.lib&&window.lib.mtop&&(I.a.config("prefix","acs"),I.a.config("subDomain",""),I.a.config("mainDomain","youku.com"),I.a.config("appKey","24679788")),t.state={userInfo:null,configData:null,awardModalShow:!0,awardModalPassShow:!0,prizeObj:null,loginGuideAllow:!1,forceShowModal:!1,hasMore:!1,isLoading:!1},t.apiParam={},t.currentNum=0,t.maxCount=5,t}return h()(u,[{key:"componentDidMount",value:(c=d()(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({hasMore:this.props.hasMore}),localStorage.getItem("youkuscreenreport")){e.next=5;break}return e.next=4,Object(x.b)("/log/screenlog",{screenwidth:window.screen.width});case 4:localStorage.setItem("youkuscreenreport",!0);case 5:!0===window.youku_act_window_isShow&&this.getAwardData(),window.youku_act_window_isShow||this.setState({loginGuideAllow:!0});case 7:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"getModuleData",value:(o=d()(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=location.pathname&&location.pathname.slice(1),a="staging"===window.__ENV__||"local"===window.__ENV__?Object(O.a)("subchannel"):Object(O.a)("subchannel")||a||"",a={moduleId:t,host:Object(O.a)("host")||location.hostname||"",subchannel:a||"",isGray:"true"===Object(O.a)("isGray")},e.prev=3,e.next=6,Object(C.c)({url:"".concat("staging"===window.__ENV__||"local"===window.__ENV__?"//prodtest.youku.com":"//www.youku.com","/platov2"),jsonp:!0,data:a});case 6:(a=e.sent)&&200===a.status&&(a=a.data||{})[0]&&-1<(n=this.props.moduleList.findIndex(function(e){return e.moduleId==t}))&&(this.props.moduleList.splice(n,1,G(G({},a[0]),{moduleId:t})),this.props.dispatch({type:"moduleList/replace",payload:{moduleList:this.props.moduleList}})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}},e,this,[[3,10]])})),function(e){return o.apply(this,arguments)})},{key:"getData",value:(r=d()(y.a.mark(function e(){var t,a,n,s,i,r,o;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.hasMore){e.next=2;break}return e.abrupt("return");case 2:return a=this.apiParam.pageNo,s=void 0===a?"1":a,n=location.pathname&&location.pathname.slice(1),i="staging"===window.__ENV__||"local"===window.__ENV__?Object(O.a)("subchannel"):Object(O.a)("subchannel")||n||"",r={pageNo:Number(s)+1,host:Object(O.a)("host")||location.hostname||"",subchannel:i||"",isGray:"true"===Object(O.a)("isGray")},this.setState({isLoading:!0}),e.prev=7,e.next=10,Object(C.c)({url:"".concat("staging"===window.__ENV__||"local"===window.__ENV__?"//prodtest.youku.com":"//www.youku.com","/platov2"),jsonp:!0,data:r});case 10:if(!(t=e.sent)||200!==t.status){e.next=26;break}if(t=t.data||{},a=(o=t).categoryFilter,n=o.UOSMode,s=o.hasNext,i=o.pageNo,r=o.channelId,this.apiParam.pageNo=t.pageNo||"1",t&&t.moduleList&&0<t.moduleList.length)return o=this.props.moduleList.concat(t.moduleList),this.props.dispatch({type:"moduleList/update",payload:{data:{moduleList:o,UOSMode:n,categoryFilter:a,hasNext:s,pageNo:i,channelId:r}}}),this.currentNum=0,this.setState({isLoading:!1,hasMore:!!t.hasNext}),e.abrupt("return");e.next=23;break;case 23:++this.currentNum;case 24:e.next=27;break;case 26:++this.currentNum;case 27:this.setState({isLoading:!1}),this.currentNum>=this.maxCount&&this.setState({hasMore:!1}),e.next=37;break;case 31:e.prev=31,e.t0=e.catch(7),++this.currentNum,this.currentNum>=this.maxCount&&this.setState({hasMore:!1}),console.log("加载下一页数据失败",e.t0),this.setState({isLoading:!1});case 37:case"end":return e.stop()}},e,this,[[7,31]])})),function(){return r.apply(this,arguments)})},{key:"getAwardData",value:(i=d()(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(O.l)().isPreActivity?{activityName:"【预发】pc 霸屏小窗配置】",configId:"d9c8b59fa3ea4cd1a879b52384ed5144"}:{activityName:"霸屏线上配置",configId:"9c4ad307f87b44c5a91dcd6caef76340"},t=["CommonActivity.getConfigCommon",t,"mtop.com.youku.aplatform.weakGet",24679788,{jsonpIncPrefix:"pc_pages_act_window"}],e.next=5,C.b.apply(void 0,t);case 5:(t=e.sent)&&t.data&&t.data.data&&this.setState({configData:t.data.data});case 7:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){}},{key:"Tans",value:function(e){var t=this;this.setState({observer:e},function(){t.state.observer.next(!0)})}},{key:"getCookieByName",value:function(e){e=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),e=document.cookie.match(e);if(e&&e[2])return e[2]}},{key:"findObjInArr",value:function(e,t){for(var a=0;a<e.length;a++){var n=e[a];if(n[Object.keys(n)[0]]===t)return n}return{}}},{key:"subUserContent",value:function(e){var t,h=this;e&&!this.loginInstance&&(this.loginInstance=e,this.loginInstance&&this.loginInstance.eventbusLogin.subscribe((t=d()(y.a.mark(function e(s){var i,r,o,c,l,u,d,p;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&s.userInfo&&(i=s.userInfo.loginStatus?"1"===s.userInfo.is_vip?"2":"1":"0",h.state.configData&&Array.isArray(h.state.configData.login)&&0<h.state.configData.login.length&&!h.state.configData.login.find(function(e){return e===i})&&h.setState({awardModalShow:!1,awardModalPassShow:!1}),h.setState({loginStatus:i})),!(s&&s.userInfo&&s.userInfo.loginStatus)){e.next=32;break}if(u=h.state.configData,r=u&&u.UUID,u&&u.blackListAddCondition&&~u.blackListAddCondition.indexOf("logined")&&(o=L.a.getCookieObject("modalBlackListlogined")||{},l=864e3,u.blackListExtraArr&&(c=h.findObjInArr(u.blackListExtraArr,"logined"),Object.keys(c).length&&c.blackListHoldTime&&(l=24*c.blackListHoldTime*3600)),L.a.setCookieObject("modalBlackListlogined",Object.assign(o,{blackListSrc:"logined"}),l,".youku.com")),!u||"getAward"!==u.jumpAction||"loginAndMrp"!==u.awardCondition){e.next=26;break}if(l=localStorage.getItem("loginSuccMark"),(u=s.loginExtend&&s.loginExtend.loginSuccMark)&&u===l)return localStorage.removeItem("loginSuccMark"),e.next=12,h.getAwardTime();e.next=24;break;case 12:if(e.sent)return e.next=16,h.getAward();e.next=21;break;case 16:p=e.sent,h.setState({prizeObj:p}),p.isWinPrize&&K("awardArr".concat(r),"ytid",s.userInfo.ytid,{ytid:s.userInfo.ytid,uuid:r,winPrizeExpireTime:p.winPrizeExpireTime,guide:p.guide}),e.next=22;break;case 21:h.setState({prizeObj:{isWinPrize:!1,errorAwardStatus:"countLimit"}});case 22:e.next=25;break;case 24:"1"!==s.userInfo.is_vip&&h.setState({prizeObj:(t="awardArr".concat(r),a="ytid",n=s.userInfo.ytid,t=(new W).getItem(t)||[],~(n=B(t,a,n))?t[n]:{})});case 25:h.setState({userInfo:d});case 26:(d=Object.assign({},s.userInfo)).vip={isGoldVip:!("1"!==s.userInfo.is_vip)},h.setState({userInfo:d}),p=h.getCookieByName("P_gck"),(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.sendPV",arguments:[{pageid:""},{pu_i:p}]});case 32:s&&s.userInfo&&s.userInfo.loginStatus&&h.props.moduleList.filter(function(e){return!0===e.asyncRefresh}).forEach(function(e){e.moduleId&&h.getModuleData(e.moduleId)});case 33:case"end":return e.stop()}var t,a,n},e)})),function(e){return t.apply(this,arguments)})),this.loginInstance&&this.loginInstance.eventbusLoggout.subscribe(function(){window.location.reload()}))}},{key:"getAwardTime",value:(s=d()(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.configData,t={activity:t&&t.ename||"7a303592626747989a77001bf587133f",initAmount:1},t=["awardtool.getPoint",t,"mtop.com.youku.aplatform.get",24679788,{jsonpIncPrefix:"yk_playpage_get_award_times"}],e.next=6,C.b.apply(void 0,t);case 6:if(!(t=e.sent).ret||"SUCCESS::调用成功"!==t.ret[0]||!t.data){e.next=10;break}if(0<t.data.point)return e.abrupt("return",!0);e.next=10;break;case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"getAward",value:(t=d()(y.a.mark(function e(){var t,a,n,s,i;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.configData,t=["",{},"mtop.youku.mrp.award.doAwardByScene",24679788,{data:{ename:t&&t.ename||"7a303592626747989a77001bf587133f",asac:t&&t.asac||"2A19C16BEBVYX2LQ6BEMI9",extra:JSON.stringify({asac:t&&t.asac||"2A19C16BEBVYX2LQ6BEMI9",act_ename:t&&t.act_ename||"YKPCWebFuLiAct"}),ua:window.fyOBJ&&window.fyOBJ.getUA(),umidtoken:window.fyOBJ&&window.fyOBJ.umidToken,promotion:t&&t.promotion||"YKPCWebFuLiAct",scene:t&&t.scene||"YKPCWebFuLi"},jsonpIncPrefix:"yk_playpage_get_award"}],e.next=4,C.b.apply(void 0,t);case 4:if(t=e.sent,a=["DEVICE_EXCEED_MAX_AWARD_COUNT_IN_DAY","USER_EXCEED_MAX_AWARD_COUNT_IN_ACTIVITY","USER_EXCEED_MAX_AWARD_COUNT_IN_DAY","DEVICE_EXCEED_MAX_AWARD_COUNT_IN_ACTIVITY","USER_PERMISSION_EXCEED_MAX_AWARD_COUNT_ERROR","USER_PERMISSION_EXCEED_MAX_AWARD_COUNT_IN_YEAR"],!t||!t.ret){e.next=24;break}if("SUCCESS::调用成功"===(n=t.ret[0])&&t.data)return e.abrupt("return",{isWinPrize:!0,winPrizeExpireTime:t.data&&t.data.sendRightDTO&&t.data.sendRightDTO.exchangeExpireTime,guide:t.data&&t.data.sendRightDTO&&t.data.sendRightDTO.guide});e.next=12;break;case 12:if("SUCCESS::调用成功"===n){e.next=24;break}s=a.length,i=0;case 16:if(!(i<s)){e.next=22;break}if(~n.indexOf(a[i]))return e.abrupt("return",{isWinPrize:!1,errorAwardStatus:"countLimit"});e.next=19;break;case 19:i++,e.next=16;break;case 22:if(i===s)return e.abrupt("return",{isWinPrize:!1,errorAwardStatus:"systemError"});e.next=24;break;case 24:return e.abrupt("return",{isWinPrize:!1,errorAwardStatus:"systemError"});case 25:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var n=this,e=this.props.channelId;console.log("channelId",e);var t=this.props.isTudou?{vip:!1,record:!1,subscribe:!1,ownChannel:!1,userApp:!1,userApk:!0,headerNavShow:!1,logoutPannel:!1}:null,a=Array.isArray(this.props.moduleList)&&this.props.moduleList.find(function(e){return"PC_FESTIVAL_CONFIG"===e.type});a&&a.bgImg&&a.bgColor&&a.leftImg&&a.rightImg&&(this.festivalConfig=a);e=this.props.userAgent&&-1<this.props.userAgent.indexOf("iPad"),a={iconKey:"channelId",iconValue:this.props.channelId};return"WEBHOME_GRAY"===this.props.channelId&&(a.iconKey="_default"),w.a.createElement("div",{className:"".concat(N.a.normal," window"),style:{paddingTop:this.festivalConfig?"70px":""}},w.a.createElement("div",{style:{display:!0===this.props.UOSMode?"none":"block"}},w.a.createElement(S.YoukuCommonHeader,{iconConfig:a,theme:this.props.isTudou?"tudou":"",festivalConfig:this.festivalConfig,device:e?"pad":"pc",enableScroll:!0,getLoginInstance:function(e){n.subUserContent(e)},headerCenterShow:t,isHideTopBar:"true",loginGuideAllow:this.state.loginGuideAllow})),this.state.configData&&void 0!==this.state.loginStatus&&this.state.awardModalShow&&w.a.createElement(P,{data:this.state.configData,gray:!1,loginStatus:this.state.loginStatus,onNotTargeted:function(){n.setState({loginGuideAllow:!0})},isShow:!0,clickCleanModalStatusCallback:this.clickCleanModalStatusCallback,forceShowModal:this.state.forceShowModal}),this.state.configData&&void 0!==this.state.loginStatus&&this.state.configData.isShowAwardPass&&this.state.awardModalPassShow&&w.a.createElement(D,{data:this.state.configData,gray:!1,loginStatus:this.state.loginStatus,isAwardModalPass:!0,clickShowAwardModalCallback:this.clickShowAwardModalCallback}),this.state.userInfo&&null!==this.state.prizeObj&&w.a.createElement(H,{userInfo:this.state.userInfo,prizeObj:this.state.prizeObj}),w.a.createElement(b.Switch,null,k.a.map(function(e){var t=e.path,a=e.exact,e=e.component;return w.a.createElement(X.a.Provider,{value:{refreshModule:n.getModuleData}},w.a.createElement(X.b.Provider,{value:n.state.userInfo},w.a.createElement(b.Route,{key:t,path:t,exact:a,component:e})))})),this.props.useV2&&w.a.createElement(V.a,{isLoading:this.state.isLoading,loadMoreFn:function(){n.getData()},hasMore:this.state.hasMore}),!1===this.props.UOSMode&&w.a.createElement("div",{style:{marginBottom:"40px"},id:"footer-container"},w.a.createElement(E.YouKuFooter,{theme:this.props.isTudou?"tudou":"",TansEvent:function(e){n.Tans(e)}})))}}]),u}(c.Component);t.a=Object(o.connect)(function(e){return{moduleList:e.moduleList.data.moduleList,hasMore:e.moduleList.data.hasNext,header:e.header,useV2:e.moduleList.useV2,UOSMode:e.moduleList.UOSMode,userAgent:e.moduleList.userAgent,isTudou:e.moduleList.isTudou,channelId:e.moduleList.data.channelId}})(a)},728:function(e,t,a){"use strict";var n=a(11),s=a.n(n);function i(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach(function(e){s()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}t.a=[{namespace:"moduleList",state:{data:{},userAgent:null,channelId:"",pageNo:0,hasNext:!1,useV2:!1,isTudou:!1},reducers:{update:function(e,t){t=t.payload;return r(r({},e),t)},replace:function(e,t){t=t.payload;return r(r({},e),r(r({},e.data),t))}}},{namespace:"header",state:{currentChannel:{},channelList:[],stickChannelList:[],isIndex:!1,focusWhite:!1}}]},796:function(e,t,a){"use strict";var n=a(0),s=a.n(n),n=a(25);a(7),a(773),a(263),t.a=Object(n.connect)(function(e){return{}})(function(e){return s.a.createElement("div",null,s.a.createElement("div",{id:"app"},e.children))})},798:function(e,t,a){e.exports={normal:"app_normal",container:"app_container"}},816:function(e,t,a){a(118),e.exports=a(990)},990:function(e,l,u){"use strict";u.r(l),function(e){var t=u(0),a=u.n(t),t=u(45),n=u.n(t),t=u(25),s=u.n(t),i=u(24),r=(u(391),u(31)),o=u(728),c=(u(796),u(727));l.default=function(){var t=s()({history:Object(r.a)(),initialState:{moduleList:{data:window.__INITIAL_DATA__||[],userAgent:window.__UA__,useV2:window.useV2,isTudou:window.isTudou,UOSMode:window.__INITIAL_DATA__&&window.__INITIAL_DATA__.UOSMode||!1},header:{}}});o.a.forEach(function(e){t.model(e)}),t.router(function(){return a.a.createElement(i.BrowserRouter,null,a.a.createElement(c.a,null))});var e=t.start();window.__VERSION__="1.1.33",window._SSRERR_||window._SSRCLOSE_?n.a.render(a.a.createElement(e,null),document.getElementById("app")):n.a.hydrate(a.a.createElement(e,null),document.getElementById("app"))}()}.call(this,u(110)(e))}},[[816,10,0,1]]]);

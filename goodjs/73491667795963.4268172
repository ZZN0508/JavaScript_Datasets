"use strict";window.Criteo={usePrebidEvents:!1},function(){function e(e,t){function r(){this.constructor=e}te(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function r(){this.blockedPixelFailed=this.allowedPixelLoaded=!1}function t(e){this.timerEnabled=!0,this.timerStarted=!1,this.localStorageHelper=e}function i(e){var t=Z.call(this)||this;return t.document=e,t}function n(){}function o(e,t,r){this.silentModeManager=e,this.bidManager=t,this.context=r}function a(e){this.name=e}function s(e){var t=de.call(this,s.NAME)||this;return t.callback=e,t}function d(e,t,r,i,n,o,a){this.id=this.generateRandomId(),this.slotId=e,this.impressionId=t,this.cpm=r,this.width=i,this.height=n,this.zoneId=o,this.dealCode=a}function c(e,t,r,i,n,o,a,s){return(e=ce.call(this,e,t,r,i,n,o,s)||this).displayUrl=a,e}function u(e,t,r,i,n,o,a,s){return(e=ue.call(this,e,t,r,i,n,o,s)||this).creative=a,e}function p(e,t,r,i,n,o,a,s,d){return(e=pe.call(this,e,t,r,i,n,o,d)||this).nativeCallback=a,e.nativePayload=s,e}function l(e){this.elapsed=0,this.isTimeout=!1,this.adapterEndElapsed=this.cdbCallEndElapsed=this.cdbCallStartElapsed=this.adapterStartElapsed=0,this.slotIdsMatchedByCache=[],this.slots=[],this.events=[],this.metricsManager=e}function f(e){try{return JSON.parse(e)}catch(e){}}function g(){}function m(e){this.auditMode=e=void 0===e?!1:e}function h(e,t,r,i){this.urlBuilder=new Pe,this.profileId=t,this.adapterVersion=r,this.wrapperVersion=i,this.localStorageHelper=e}function y(){}function v(e,t,r,i,n,o,a,s,d,c,u,p,l,f){this.slots=e,this.context=t,this.urlBuilder=r,this.profileId=i,this.integrationMode=n||le.Unspecified,this.networkId=o,this.adapterVersion=a,this.privacyWrapper=s,this.wrapperVersion=d,this.viewportComputer=c,this.adapterTimeout=u,this.clientRequestId=p,this.userIds=l,this.auctionStart=f}function b(e){var t={slots:void 0,time_to_next_call:0};return void 0!==e.exd&&(void 0!==e.exd.time_to_next_call&&(t.time_to_next_call=e.exd.time_to_next_call),t.slots=e.exd.slots,delete e.exd),t}function I(){var r=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(r+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"===e?t:3&t|8).toString(16)})}function _(e){(e=void 0===e?!0:e)&&window.performance&&window.performance.now?this.now=window.performance.now.bind(window.performance):Date.now?this.now=Date.now:this.now=function(){return(new Date).getTime()}}function E(e,t,r){this.builder=e,this.timer=void 0!==t?ke.CreateWithStartTime(t):ke.CreateRunning(),e=this.timer.elapsed(),this.builder.withAdapterStartElapsed(e),void 0!==r&&this.builder.withAdapterTimeout(r)}function C(e,t){this.width=e,this.height=t}function S(e){var t="number"==typeof window.PREBID_TIMEOUT?window.PREBID_TIMEOUT:void 0;return e&&t?Math.min(e,t):e||t||void 0}function T(){}function A(){}function O(e,t){this.EXPIRE_SUFFIX="_expires",this.CHECK_STORAGE_KEY="criteo_localstorage_check";try{var r=(e||window).localStorage}catch(e){r=void 0}this.localStorage=r,this.localStorageEnabled=this.checkLocalStorage(t)}function w(e){this.localStorageHelper=e}function R(){return(new Date).getTime()}function P(e){this.impressionId=e}function x(e,t,r){return(e=Oe.call(this,e)||this).size=t,e.networkId=r,e}function D(e,t){return(e=we.call(this,e)||this).zoneId=t,e}function B(e,t){this.useZoneIdIntegration=e,this.networkId=t}function k(e,t,r){this.localStorageHelper=e,this.slotKeyFactory=new Le(t,r)}function N(e,t,r,i,n){var o,a,s;this.clientRequestId=I();var d={};i.gdprConsent&&(void 0!==i.gdprConsent.consentString&&(d.consentData=i.gdprConsent.consentString),void 0!==i.gdprConsent.gdprApplies&&(d.gdprApplies=!!i.gdprConsent.gdprApplies),d.version=i.gdprConsent.apiVersion);var c={uspString:i.uspConsent},u=new qe(void 0,d);this.timeout=S(i.timeout),this.metricsManager=new xe(u,e,t,n),this.metricBuilder=new _e(this.metricsManager),this.timer=new Ne(this.metricBuilder,i.start,this.timeout);var p=new je;this.adBlockFlagManager=ne.create(u),this.adBlockFlagManager.adBlockFlagEnabled()&&(e=280,window.criteo_pubtag.context.isAdBlocked=!0),this.auctionId=i.auctionId,this.bidRequests=r,this.slots=[];for(var l,f,g=0;g<r.length;g++){b=void 0,(f=r[g]).fpd&&f.fpd.context&&(b=f.fpd.context),f.params.ext&&(b=re(re({},b),f.params.ext)),this.hasValidNativeParams(f);try{var m,h={};f.getFloor&&(null!==(o=f.mediaTypes)&&void 0!==o&&o.banner&&(h.banner=this.getFloorsForSizes(this.getBannerSizes(f),"banner",f)),null!==(a=f.mediaTypes)&&void 0!==a&&a.native&&(h.native=this.getFloorsForSizes(this.getNativeSizes(f),"native",f)),null!==(s=f.mediaTypes)&&void 0!==s&&s.video)&&(m=f.mediaTypes.video.playerSize||[],h.video=0<m.length&&"number"==typeof m[0]?this.getFloorsForSizes([m],"video",f):this.getFloorsForSizes(m,"video",f)),Object.keys(h).length&&(b=re(re({},b),{floors:h}))}catch(e){fe.Debug("Could not parse floors from Prebid: "+e)}this.slots.push(new Ce(f.adUnitCode,f.params.zoneId,f.params.nativeCallback,f.transactionId,this.getSizes(f),f.params.publisherSubId,f.mediaTypes,N.getVideoInfoFromBidRequest(f),b));var y,v=f.params.networkId||v,b=i.ceh;if(window.criteo_pubtag.context.ceh=b,f.params.integrationMode)e:y="amp"===f.params.integrationMode.toLowerCase()?le.AMP:le.Unspecified}o=new Pe(!1),0<r.length&&(f=r[0]).userIdAsEids&&0<f.userIdAsEids.length&&(l=f.userIdAsEids),window.criteo_pubtag.context.publisherExt=i.publisherExt,window.criteo_pubtag.context.userExt=i.userExt,r=Ve.useZoneIdIntegration(this.slots,v),this.cache=new ge(new ze(u),new Ve(u,r,v),window.criteo_pubtag.context),this.requestBuilder=new Be(this.cache.filterNoBidSlots(this.slots),window.criteo_pubtag.context,o,e,y,v,t,{ccpaIabConsent:c,gdprConsent:d},n,p,this.timeout,this.clientRequestId,l,i.start),this.url=this.requestBuilder.getUrl(),window.Criteo.prebid_adapters=window.Criteo.prebid_adapters||{},window.Criteo.prebid_adapters[this.auctionId]=this}function U(e,t,r,i){void 0===i&&(i=!0),this.url=e,this.data=t,this.contentType=r,this.withCredentials=i}function M(e){try{return JSON.parse(e)}catch(e){}}function j(e,t,r){void 0===r&&(r=function(e){}),this.uspapiCallbacks={},this.currentWindow=e,this.timeout=t.uspApiTimeout,this.logger=r}function q(e,t,r){void 0===r&&(r=function(e){}),this.tcfv1ConsentProvider=e,this.tcfv2ConsentProvider=t,this.logger=r}function z(e,t,r){void 0===r&&(r=function(e){}),this.cmpCallbacks={},this.currentWindow=e,this.timeout=t.tcfTimeout,this.pingTimeout=t.tcfPingTimeout,this.pingDelay=t.tcfPingDelay,this.logger=r}function F(e,t,r){void 0===r&&(r=function(e){}),this.cmpCallbacks={},this.currentWindow=e,this.timeout=t.tcfTimeout,this.pingTimeout=t.tcfPingTimeout,this.pingDelay=t.tcfPingDelay,this.logger=r}function G(e,t,r){this.initialized=this.initializing=!1,this.postInitiliazeServicesCallbacks=[],this.topFrame=e||window,e={uspApiTimeout:50,tcfTimeout:1e4,tcfPingTimeout:50,tcfPingDelay:1e3},this.ccpaConsentProvider=t||new Je(window,e,fe.Warning),t=new Xe(window,e,fe.Warning),e=new $e(window,e,fe.Warning),this.tcfCompatibleConsentProvider=r||new Qe(t,e,fe.Warning),this.initializeServices()}function L(e,t,r,i,n,o,a,s,d,c,u,p,l){var f=Ke.call(this,L.NAME)||this;return f.profileId=e,f.urlBuilder=t,f.slots=r,f.callbackSuccess=i,f.callbackError=n,f.callbackTimeout=o,f.serviceProvider=a,f.timeout=d,f.networkId=c,f.integrationMode=u,f.adapterVersion=p,f.viewportComputer=l,f.metricsManager=s,f.metricsManager&&(f.metricBuilder=new _e(f.metricsManager)),f}function V(e,t,r,i,n,o,a,s,d,c,u,p,l,f){var g=We.call(this,V.NAME)||this,m=Math.max(10*(c||3e3),3e3);return g.cache=s,g.directBiddingEvent=new et(e,t,g.cache.filterNoBidSlots(r),function(e,t){return g.onSuccess(e,t)},function(e,t){return g.onError(e,t)},function(){return g.onHttpTimeout()},d,a,m,u,p,l,f),g.slots=r,g.callbackSuccess=i,g.callbackError=n,g.callbackTimeout=o,g.timeout=c,g.hasTimeouted=!1,g.hasResponded=!1,g.metricsManager=a,g}function K(){}function W(t,r){try{return decodeURIComponent(t)}catch(e){return void 0!==r?r:t}}function H(e,t,r,i){this.isDebug=r,this.topWin=t,this.topDoc=t.document,this.localStorageHelper=e,this.canWriteCookies=this.checkCookiesAreWriteable(),this.topUrl=i}function Y(e){this.messages={},this.environment=e}function J(e){void 0===e&&(e=!1),this.builder=new dt(J.environment),this.shouldSend=!1,this.debug=e}function Q(e,t,r,i){var n=this;this.cloneByImpressionId={},this.charset=e.charset||e.characterSet||"",this.highestAccessibleWindowStruct=Me.getHighestAccessibleWindow(t),this.displayContext=this.getDisplayContext(this.highestAccessibleWindowStruct),this.highestAccessibleUrl=Me.getHighestAccessibleUrl(this.highestAccessibleWindowStruct),this.cookieSynchronizerFactory=r,e=this.getQueryStringParams(this.highestAccessibleUrl),this.debugMode="1"===e.pbt_debug||!1,this.noLog="1"===e.pbt_nolog||!1,this.shouldIgnoreSilentMode=this.computeShouldIgnoreSilentMode(),this.silentModeIgnored=!1,this.remoteLogging=new ct(this.debugMode),this.debugMode&&(e=ee.Debug,fe.LOGLEVEL=e),this.location=t.location,this.dising=!1,this.isAdBlocked=this.wpdt0=this.ct0=void 0,this.rtaVarNames=[],this.serviceProvider=i||new Ze(this.highestAccessibleWindowStruct.topFrame),this.serviceProvider.getServicesAsync(function(e){var t;null!==(t=e.ccpaConsentProvider)&&void 0!==t&&t.hasUserOptOut(e.ccpaConsent)||n.synchronizeCriteoUid(e.localStorageHelper,null===(e=e.gdprConsent)||void 0===e?void 0:e.consentData)})}function X(){this.standaloneBidder=new ut,this.events=[],this.context=new pt(document,window)}function $(e){function t(){try{return i.apply(this,arguments)}catch(e){}}var r,i=e;for(r in t.prototype=i.prototype,i)i.hasOwnProperty(r)&&(t[r]=i[r]);return t}var Z,ee,te=function(e,t){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},re=function(){return(re=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},ie=(r.prototype.isAdBlocked=function(e){var t=this;this.createPixel(r.allowedPixelUrl,function(){(t.allowedPixelLoaded=!0)===t.blockedPixelFailed&&e(!0)},function(){}),this.createPixel(r.blockedPixelUrl,function(){e(!1)},function(){(t.blockedPixelFailed=!0)===t.allowedPixelLoaded&&e(!0)})},r.prototype.createPixel=function(e,t,r){var i=document.createElement("img");i.src=e,i.height=1,i.width=1,i.style.display="none",i.onload=t,i.onerror=r},r.allowedPixelUrl="https://static.criteo.net/images/pixel.gif?ch=1",r.blockedPixelUrl="https://static.criteo.net/images/pixel.gif?ch=2",r),ne=(t.create=function(e){return new t(e)},t.prototype.adBlockFlagEnabled=function(){return null!==this.localStorageHelper.getItem(t.ADBLOCK_FLAG_KEY)},t.prototype.enableAdBlockFlag=function(){this.localStorageHelper.setItem(t.ADBLOCK_FLAG_KEY,"1",t.ADBLOCK_FLAG_LIFETIME)},t.prototype.disableAdBlockFlag=function(){this.localStorageHelper.removeItem(t.ADBLOCK_FLAG_KEY)},t.prototype.setAdBlockFlagTimer=function(e){var t=this;this.adBlockFlagEnabled()||!this.timerEnabled||this.timerStarted||(this.timerStarted=!0,setTimeout(function(){t.timerEnabled&&(t.refreshAdblockFlag(),t.timerEnabled=!1)},e))},t.prototype.disableAdBlockFlagTimer=function(){this.timerEnabled=!1,this.adBlockFlagEnabled()&&this.refreshAdblockFlag()},t.prototype.refreshAdblockFlag=function(){var t=this;(new ie).isAdBlocked(function(e){e?t.enableAdBlockFlag():t.disableAdBlockFlag()})},t.ADBLOCK_FLAG_KEY="criteo_adblock_flag",t.ADBLOCK_FLAG_LIFETIME=864e5,t),oe=(e(i,Z=function(){}),i.prototype.ResizeFrame=function(e,t){var r;this.document.defaultView&&this.document.defaultView.frameElement&&((r=this.document.defaultView.frameElement).width=e.toString(),r.height=t.toString())},i.prototype.Write=function(e){this.document.open(),this.document.write(e),this.document.close()},i.prototype.LoadScript=function(e){this.Write("<script type='text/javascript' src='"+e+"'><\/script>")},i);(tt=ee=ee||{})[tt.Error=0]="Error",tt[tt.Warning=1]="Warning",tt[tt.Debug=2]="Debug";function ae(e,t,r,i,n,o,a,s,d,c,u,p,l,f,g,m){this.publisherTagVersion=e,this.slots=t,this.elapsed=r,this.isTimeout=i,this.adapterStartElapsed=n,this.cdbCallStartElapsed=o,this.cdbCallEndElapsed=a,this.adapterEndElapsed=s,this.adapterTimeout=d,this.adapterIsTimeout=c,this.timeToFirstByte=u,this.id=p,this.silentModeRequestCount=l,this.localStorageKeyCount=f,this.connectionEstablishmentTime=g,this.domainLookupTime=m}function se(e,t,r,i,n){this.impressionId=e,this.zoneId=t,this.adUnitId=r,this.cachedBidUsed=i,this.isDsc=n}var de,ce,ue,pe,le,fe=(n.Log=function(e,t){var r;n.LOGLEVEL<e||(e=ee[e].toUpperCase(),r=0<(r=window.navigator.userAgent).indexOf("MSIE ")||0<r.indexOf("Trident/"),window.console&&(r?console.log("[PubTag] "+e+": "+t):console.log("%cPubTag","color: #fff; background: #ff8f1c; display: inline-block; padding: 1px 4px; border-radius: 3px;",e+": "+t)))},n.Debug=function(e){n.Log(ee.Debug,e)},n.Warning=function(e){n.Log(ee.Warning,e)},n.Error=function(e){n.Log(ee.Error,e)},n.LOGLEVEL=ee.Error,n),ge=(o.prototype.filterNoBidSlots=function(e){var t=this.bidManager.filterNoBidSlots(e);return this.context.shouldIgnoreSilentMode?(t.length!==e.length&&this.context.setSilentModeIgnored&&this.context.setSilentModeIgnored(),e):t},o.prototype.silentModeEnabled=function(){var e=!1;return this.silentModeManager.silentModeEnabled()&&(this.context.shouldIgnoreSilentMode&&this.context.setSilentModeIgnored?this.context.setSilentModeIgnored():e=!0),e},o.prototype.getCachedBids=function(e){return this.bidManager.getRequestCachedBids(e)},o.prototype.removeBid=function(e){this.bidManager.removeBid(e)},o.prototype.handleResponse=function(e,t,r,i){if(0<(i=r.time_to_next_call)&&this.silentModeManager.enableSilentMode(1e3*i),i={},r.slots){var n=0;for(r=r.slots;n<r.length;n++)(s=r[n]).ttl&&(i[s.imp_id]=s.ttl)}if(r=[],t.slots)for(n=0,t=t.slots;n<t.length;n++){var o=0;(s=t[n]).slotid in i&&(o=i[s.slotid],delete i[s.slotid]),0<o&&r.push({slot:s,ttl:o})}for(var a in this.bidManager.storeResponseBids(r),t=[],i)if(i.hasOwnProperty(a))for(r=0,n=e;r<n.length;r++){var s;(s=n[r]).slotId===a&&(o=i[a],t.push({slot:s,ttl:o}))}this.bidManager.storeRequestNoBids(t)},o.prototype.clearExpiredItems=function(){var e=this;setTimeout(function(){e.bidManager.clearExpiredItems()},3e3)},o),me=(a.prototype.eval=function(e){},a),he=(e(s,de=me),s.prototype.eval=function(e){this.callback&&this.callback.apply(this)},s.NAME="genericEvent",s),ye=(d.prototype.generateRandomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,6)},d),ve=(e(c,ce=ye),c.prototype.GenerateEvent=function(e){var t=this;return e.ResizeFrame(this.width,this.height),new he(function(){return e.LoadScript(t.displayUrl)})},c.prototype.GenerateMessage=function(){return{displayUrl:this.displayUrl}},c),be=(e(u,ue=ye),u.prototype.GenerateEvent=function(e){var t=this;return e.ResizeFrame(this.width,this.height),new he(function(){return e.Write(t.creative)})},u.prototype.GenerateMessage=function(){return{creative:this.creative}},u),Ie=(e(p,pe=ye),p.prototype.GenerateEvent=function(e){var t=this;return"function"!=typeof this.nativeCallback||"object"!=typeof this.nativePayload?new he(void 0):new he(function(){return t.nativeCallback(t.nativePayload)})},p.prototype.GenerateMessage=function(){return{nativePayload:this.nativePayload}},p),_e=(l.prototype.getMetricsManager=function(){return this.metricsManager},l.prototype.withElapsed=function(e){return this.elapsed=Math.round(e),this},l.prototype.withIsTimeout=function(e){return(this.isTimeout=e)&&this.events.push({eventId:"CdbCallTimeout"}),this},l.prototype.withAdapterStartElapsed=function(e){return this.adapterStartElapsed=Math.round(e),this.events.push({eventId:"AdapterBidStart",elapsed:this.adapterStartElapsed}),this},l.prototype.withCdbCallStartElapsed=function(e){return this.cdbCallStartElapsed=Math.round(e),this.events.push({eventId:"CdbCallStart",elapsed:this.cdbCallStartElapsed}),this},l.prototype.withCdbCallEndElapsed=function(e){return this.cdbCallEndElapsed=Math.round(e),this.events.push({eventId:"CdbCallEnd",elapsed:this.cdbCallEndElapsed}),this},l.prototype.withAdapterEndElapsed=function(e){return this.adapterEndElapsed=Math.round(e),this.events.push({eventId:"AdapterBidEnd",elapsed:this.adapterEndElapsed}),this},l.prototype.withAdapterTimeout=function(e){return this.adapterTimeout=e&&Math.round(e),this.events.push({eventId:"AdapterTimeout",elapsed:this.adapterTimeout}),this},l.prototype.withSlotIdsMatchedByCache=function(e){return 0<(this.slotIdsMatchedByCache=e).length&&this.events.push({eventId:"CachedBidUsed",slots:this.slotIdsMatchedByCache}),this},l.prototype.withTimeToFirstByte=function(e){return this.timeToFirstByte=e&&Math.round(e),this.timeToFirstByte&&this.events.push({eventId:"TimeToFirstByte",elapsed:this.timeToFirstByte}),this},l.prototype.withConnectionEstablishmentTime=function(e){return this.connectionEstablishmentTime=e&&Math.round(e),this.connectionEstablishmentTime&&this.events.push({eventId:"TcpConnectionElapsedTime",elapsed:this.connectionEstablishmentTime}),this},l.prototype.withDomainLookupTime=function(e){return this.domainLookupTime=e&&Math.round(e),this.domainLookupTime&&this.events.push({eventId:"DomainLookupElapsedTime",elapsed:this.domainLookupTime}),this},l.prototype.withUserPreviousTimestamp=function(e){return e&&this.events.push({eventId:"UserReturnTime",elapsed:(new Date).getTime()-e}),this},l.prototype.addSlot=function(t,e,r,i){var n=0<this.slotIdsMatchedByCache.filter(function(e){return e===t}).length;return this.slots.push(new se(t,e,r,n,i)),this},l.prototype.build=function(e){var t;return void 0!==this.adapterTimeout&&(t=this.adapterEndElapsed>this.adapterTimeout),new ae(99,this.slots,this.elapsed,this.isTimeout,this.adapterStartElapsed,this.cdbCallStartElapsed,this.cdbCallEndElapsed,this.adapterEndElapsed,this.adapterTimeout,t,this.timeToFirstByte,e,this.metricsManager.getSilentModeRequestCount(!0),this.metricsManager.getLocalStorageKeyCount(),this.connectionEstablishmentTime,this.domainLookupTime)},l.prototype.buildEvents=function(e){if(this.events.length)return e={requestId:e,events:this.events},void 0!==this.adapterTimeout&&this.adapterEndElapsed>this.adapterTimeout&&e.events.push({eventId:"AdapterTimeout"}),e},l.prototype.clear=function(){this.events=[]},l),Ee=(g.generateCacheBuster=function(){return Math.floor(99999999999*Math.random())},g);(tt=le=le||{})[tt.Unspecified=0]="Unspecified",tt[tt.AMP=1]="AMP";function Ce(e,t,r,i,n,o,a,s,d){this.slotId=I().replace(/-/g,""),this.impId=e,this.zoneId=t,this.nativeCallback=r,this.transactionId=i,this.sizes=n,this.publisherSubId=o,this.mediaTypes=a,this.video=s,this.ext=d}function Se(e,t,r,i,n,o,a,s,d,c){this.playersize=e,this.mimes=t,this.protocols=r,this.maxduration=i,this.api=n,this.skip=o,this.placement=a,this.playbackmethod=s,this.minduration=d,this.startdelay=c}function Te(e,t){this.top=e,this.left=t}function Ae(e,t,r,i){this.width=e,this.height=t,this.scrollTop=r,this.scrollLeft=i}var Oe,we,Re,Pe=(m.prototype.buildUrl=function(e,t,r,i,n){void 0===r&&(r=le.Unspecified);var o=m.CRITEO_BIDDER_URL+this.getHandlerPath();return o+="?ptv=99",!0===t.isAdBlocked&&(o+="&abp=1"),o=this.appendCommonParameters(o,e,i,n),o+=t.ctoIdOnPublisherDomain?"&idcpy="+t.ctoIdOnPublisherDomain:"",o+=t.secureId?"&sid="+t.secureId:"",o+=t.isOptOut?"&optout=1":"",o+=t.bundle?"&bundle="+t.bundle:"",r!==le.Unspecified&&(o+="&im="+r),o+=t.silentModeIgnored?"&smi=1":"",(o+="&cb="+String(Ee.generateCacheBuster()))+t.getContextFlags()},m.prototype.buildCsmUrl=function(e,t,r){var i=m.CRITEO_BIDDER_URL+m.CRITEO_CSM_HANDLER;return this.appendCommonParameters(i+="?ptv=99",e,t,r)},m.prototype.buildErrorUrl=function(){return m.CRITEO_BIDDER_URL+m.CRITEO_ERROR_HANDLER},m.prototype.buildCsmEventsUrl=function(){return m.CRITEO_BIDDER_URL+m.CRITEO_CSM_EVENTS_HANDLER},m.prototype.buildCsmCountersUrl=function(){return m.CRITEO_BIDDER_URL+m.CRITEO_CSM_COUNTERS_HANDLER},m.prototype.appendCommonParameters=function(e,t,r,i){return e+="&profileId="+String(t),void 0!==r&&(e+="&av="+String(r)),void 0!==i&&(e+="&wv="+encodeURIComponent(i)),e},m.prototype.getHandlerPath=function(){return this.auditMode?m.CRITEO_BIDDER_AUDIT_HANDLER:m.CRITEO_BIDDER_HANDLER},m.CRITEO_BIDDER_URL="https://bidder.criteo.com/",m.CRITEO_BIDDER_HANDLER="cdb",m.CRITEO_CSM_HANDLER="csm",m.CRITEO_CSM_EVENTS_HANDLER="csm/events",m.CRITEO_CSM_COUNTERS_HANDLER="csm/counters",m.CRITEO_ERROR_HANDLER="error",m.CRITEO_BIDDER_AUDIT_HANDLER="prebid/audit",m),xe=(h.prototype.getManagerMetrics=function(){var e=this.localStorageHelper.getItem(h.MANAGER_METRICS_STORAGE_KEY);return null==e||void 0===(e=f(e))?{}:e},h.prototype.setManagerMetrics=function(e){this.localStorageHelper.setItem(h.MANAGER_METRICS_STORAGE_KEY,JSON.stringify(e))},h.prototype.getSilentModeRequestCount=function(e){void 0===e&&(e=!1);var t=this.getManagerMetrics().silentModeRequestCount;return e&&this.resetSilentModeRequestCount(),isNaN(t)?0:t},h.prototype.incSilentModeRequestCount=function(){var e=this.getManagerMetrics();e.silentModeRequestCount=isNaN(e.silentModeRequestCount)?1:e.silentModeRequestCount+1,this.setManagerMetrics(e)},h.prototype.resetSilentModeRequestCount=function(){var e=this.getManagerMetrics();e.silentModeRequestCount=0,this.setManagerMetrics(e)},h.prototype.getLocalStorageKeyCount=function(){return this.localStorageHelper.getAllItemsByPrefix("criteo_").length+this.localStorageHelper.getAllItemsByPrefix("cto_").length},h.prototype.getPreviousBuildRequestTimestamp=function(){var e=this.getManagerMetrics().previousBuildRequestTimestamp;return isNaN(e)?void 0:e},h.prototype.resetPreviousBuildRequestTimestamp=function(){var e=this.getManagerMetrics();e.previousBuildRequestTimestamp=(new Date).getTime().toString(),this.setManagerMetrics(e)},h.prototype.sendMetric=function(e,t){t={feedbacks:[e.build(t)]},e=this.urlBuilder.buildCsmUrl(this.profileId,this.adapterVersion,this.wrapperVersion),t=JSON.stringify(t),navigator.sendBeacon&&navigator.sendBeacon(e,t)},h.prototype.sendEvents=function(e,t,r){void 0===r&&(r=!1);var i=this.urlBuilder.buildCsmEventsUrl();r&&(e.withUserPreviousTimestamp(this.getPreviousBuildRequestTimestamp()),this.resetPreviousBuildRequestTimestamp()),t=e.buildEvents(t),e.clear(),navigator.sendBeacon&&t&&navigator.sendBeacon(i,JSON.stringify(t))},h.MANAGER_METRICS_STORAGE_KEY="criteo_pt_cdb_mngr_metrics",h),De=(y.tryInsertPlaceholder=function(e,t,r){var i=document.getElementById(e);if(null===i)return!1;if(i.appendChild(this.createPlaceholder()),!t&&this.isVisible(i))return!0;if(this.removePlaceholder(e,r),null===(t=i.parentElement))return!1;var n=this.createClone(i);return t.insertBefore(n,i),n.appendChild(this.createPlaceholder()),this.isVisible(n)?(r[e]=n,!0):(t.removeChild(n),!1)},y.isVisible=function(e){return 0!==e.offsetWidth&&0!==e.offsetHeight&&0!==e.getClientRects().length},y.createClone=function(e){var t=e.cloneNode(!1);return t.id=this.generateRandomId(),t.className="","none"===t.style.display&&t.style.removeProperty("display"),"SPAN"===t.tagName&&(t.style.display="block"),e.style.display="none",t},y.generateRandomId=function(){for(var e="",t=0;t<20;t++)e+="1234567890abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(36*Math.random()));return e},y.createPlaceholder=function(){var e=document.createElement("div");return e.style.width="1px",e.style.height="1px",e.style.display="block",e.className=y.PLACEHOLDER_NAME,e},y.removePlaceholder=function(e,t){if(void 0!==(t=t[e])&&null!==t.parentNode&&t.parentNode.removeChild(t),null!==(t=document.getElementById(e)))for(e=0,t=t.getElementsByClassName(y.PLACEHOLDER_NAME);e<t.length;e++){var r=t[e];null!==r.parentNode&&r.parentNode.removeChild(r)}},y.insertAdIFrame=function(e,t){if(void 0!==(t=t[e]))e=t;else if(null===(e=document.getElementById(e)))return null;for(e=e.getElementsByClassName(y.PLACEHOLDER_NAME);0<e.length;){for(var r=(e=e[t=0]).childNodes;t<r.length;t++){var i=r[t];null!==i.parentNode&&i.parentNode.removeChild(i)}return t=this.createAdIFrame(),e.appendChild(t),e.style.width="",e.style.height="",e.style.display="",t}return null},y.createAdIFrame=function(){var e=document.createElement("iframe");return e.scrolling="no",e.marginWidth="0",e.marginHeight="0",e.frameBorder="0",e.style.border="0",e.style.verticalAlign="bottom",e},y.removePlaceholders=function(e,t,r){for(var i=0;i<e.length;i++){var n=e[i].impId;-1===t.indexOf(n)&&y.removePlaceholder(n,r)}},y.tryInsertPlaceholders=function(e,t,r){for(var i=[],n=0;n<e.length;n++){var o=e[n];y.tryInsertPlaceholder(o.impId,t,r)&&i.push(o)}return i},y.PLACEHOLDER_NAME="criteo_placeholder",y),Be=(v.prototype.isValid=function(){return 0<this.slots.length},v.prototype.getRequest=function(){for(var e=[],t=0,r=this.slots;t<r.length;t++){var i=r[t],n={slotid:i.slotId,impid:i.impId};if(void 0!==i.zoneId&&(n.zoneid=i.zoneId),void 0!==i.nativeCallback&&(n.native=!0),void 0!==i.transactionId&&(n.transactionid=i.transactionId),void 0!==i.publisherSubId&&(n.publishersubid=i.publisherSubId),void 0!==i.sizes){for(var o=[],a=0,s=i.sizes;a<s.length;a++){var d=s[a];o.push(d.width+"x"+d.height)}n.sizes=o}void 0!==i.video&&(o={playersizes:this.parsePlayerSizes(i.video.playersize),mimes:i.video.mimes,protocols:i.video.protocols,maxduration:i.video.maxduration,api:i.video.api,skip:i.video.skip,placement:i.video.placement,playbackmethod:i.video.playbackmethod,minduration:i.video.minduration,startdelay:i.video.startdelay},n.video=o),void 0!==this.viewportComputer&&(void 0!==(o=this.viewportComputer.getSlotPosition(i))&&(n.position={top:o.top,left:o.left})),void 0!==i.ext&&(n.ext=i.ext),e.push(n)}return t={ceh:this.context.ceh,uspOptout:this.context.ccpaOptout,ext:this.context.userExt},e={publisher:{url:this.context.highestAccessibleUrl,ext:this.context.publisherExt},slots:e,user:t},void 0!==this.networkId&&(e.publisher.networkid=this.networkId),this.privacyWrapper&&(this.privacyWrapper.gdprConsent&&(e.gdprConsent=this.privacyWrapper.gdprConsent),this.privacyWrapper.ccpaIabConsent&&(t.uspIab=this.privacyWrapper.ccpaIabConsent.uspString)),void 0!==this.viewportComputer&&(t=this.viewportComputer.getViewport(),e.viewport={width:t.width,height:t.height,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),void 0!==this.adapterTimeout&&(e.tmax=this.adapterTimeout),void 0!==this.auctionStart&&(e.auctionStart=this.auctionStart),void 0!==this.clientRequestId&&(e.id=this.clientRequestId),void 0!==this.userIds&&(e.eids=this.userIds),e},v.parsePlayerSize=function(e){return e[0]+"x"+e[1]},v.prototype.parsePlayerSizes=function(e){return Array.isArray(e[0])?e.map(function(e){return v.parsePlayerSize(e)}):[v.parsePlayerSize(e)]},v.prototype.getUrl=function(){return this.urlBuilder.buildUrl(this.profileId,this.context,this.integrationMode,this.adapterVersion,this.wrapperVersion)},v),ke=(_.CreateRunning=function(){var e=new _;return e.start(),e},_.CreateWithStartTime=function(e){var t=new _(!1);return t.startTime=e,t},_.TimeSincePageLoad=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.timing&&window.performance.timing.navigationStart)return(new Date).getTime()-performance.timing.navigationStart}return 0},_.prototype.start=function(){this.startTime=this.now()},_.prototype.elapsed=function(){return this.now()-this.startTime},_),Ne=(E.prototype.sendRequest=function(e){this.url=e,this.sendTime=ke.CreateRunning(),this.builder.withCdbCallStartElapsed(this.timer.elapsed())},E.prototype.requestReceived=function(e){void 0===e&&(e=!1),this.builder.withElapsed(function(e){if(window.performance&&window.performance.getEntries)for(var t=window.performance.getEntries(),r=t.length-1;0<=r;--r){var i=t[r];if(i.name===e&&i.duration)return Math.round(i.duration)}}(this.url)||this.sendTime.elapsed()),this.builder.withCdbCallEndElapsed(this.timer.elapsed()),this.builder.withIsTimeout(e)},E.prototype.finish=function(e){if(this.builder.withAdapterEndElapsed(this.timer.elapsed()),e&&0!==e.length)for(var t=0;t<e.length;t++){var r=e[t];this.builder.addSlot(r.imp_id,r.zone_id,r.ad_unit_id,r.is_dsc)}else this.builder.addSlot("");void 0!==(e=E.getLastCdbTiming())&&(this.builder.withTimeToFirstByte(E.computeTimeToFirstByte(e)),this.builder.withConnectionEstablishmentTime(E.computeConnectionEstablishmentTime(e)),this.builder.withDomainLookupTime(E.computeDomainLookupTime(e)))},E.getLastCdbTiming=function(){if(void 0!==window.performance&&void 0!==window.performance.getEntriesByType&&"function"==typeof window.performance.getEntriesByType){var e=window.performance.getEntriesByType("resource");if(void 0!==e)return void 0!==(e=e.filter(function(e){return 0<=e.name.indexOf("cdb")}))&&0<e.length?e[e.length-1]:void 0}},E.computeTimeToFirstByte=function(e){var t=e.responseStart;if(e=e.requestStart,void 0!==t&&void 0!==e)return t-e},E.computeConnectionEstablishmentTime=function(e){return e=e.connectEnd-e.connectStart,isNaN(e)?void 0:e},E.computeDomainLookupTime=function(e){return e=e.domainLookupEnd-e.domainLookupStart,isNaN(e)?void 0:e},E),Ue=(C.prototype.toString=function(){return this.width+"x"+this.height},C),Me=(T.getHighestAccessibleWindow=function(e){var t=!1;try{for(;e.parent.document!==e.document;){if(!e.parent.document){t=!0;break}e=e.parent}}catch(e){t=!0}return{topFrame:e,err:t}},T.getHighestAccessibleUrl=function(e){var t=e.topFrame;if(!e.err)return t.location.href;try{var r=t.top.location.href;if(r)return r}catch(e){}try{var i=t.location.ancestorOrigins;if(i)return i[i.length-1]}catch(e){}return t.document.referrer},T.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},T),je=(A.prototype.getViewport=function(){var e=Me.getHighestAccessibleWindow(window).topFrame,t=e.document;return new Ae(e.innerWidth||t.documentElement.clientWidth,e.innerHeight||t.documentElement.clientHeight,t.documentElement.scrollTop||t.body&&t.body.scrollTop||0,t.documentElement.scrollLeft||t.body&&t.body.scrollLeft||0)},A.prototype.getSlotPosition=function(e){if(null!==(e=document.getElementById(e.impId)))return e=e.getBoundingClientRect(),new Te(e.top,e.left)},A),qe=(O.prototype.checkLocalStorage=function(e){if(!this.localStorage)return!1;var t=this.CHECK_STORAGE_KEY;try{return this.localStorage.setItem(t,t),this.localStorage.removeItem(t),!!this.checkTcfPurposeOne(e)||!1}catch(e){return!1}},O.prototype.checkTcfPurposeOne=function(e){return!e||!e.purposes||!0===e.purposes[1]},O.prototype.removeItem=function(e){this.localStorageEnabled&&(this.localStorage.removeItem(e),this.localStorage.removeItem(e+this.EXPIRE_SUFFIX))},O.prototype.getItem=function(e,t){if(!this.localStorageEnabled)return null;var r=(new Date).getTime(),i=this.localStorage.getItem(e+this.EXPIRE_SUFFIX);return-1!==(i=i?parseInt(i,10):-1)&&i<r||t&&(-1===i||t<i-r)?(this.removeItem(e),null):this.localStorage.getItem(e)},O.prototype.setItem=function(e,t,r){if(this.localStorageEnabled)try{var i;this.localStorage.setItem(e,t),r&&(i=(new Date).getTime()+r,this.localStorage.setItem(e+this.EXPIRE_SUFFIX,i.toString()))}catch(e){}},O.prototype.getAllItemsByPrefix=function(e){var t=[];if(this.localStorageEnabled)for(var r in localStorage)0===r.indexOf(e)&&t.push(r);return t},O),ze=(w.prototype.silentModeEnabled=function(){return null!==this.localStorageHelper.getItem(w.SILENT_MODE_KEY)},w.prototype.enableSilentMode=function(e){this.localStorageHelper.setItem(w.SILENT_MODE_KEY,"1",e)},w.SILENT_MODE_KEY="criteo_silent_mode",w),ye=(P.prototype.toString=function(){return"ImpId"+this.impressionId},P),Fe=(e(x,Oe=ye),x.prototype.toString=function(){return Oe.prototype.toString.call(this)+"_Size"+this.size+"_NetworkId"+this.networkId},x),Ge=(e(D,we=ye),D.prototype.toString=function(){return we.prototype.toString.call(this)+"_ZoneId"+this.zoneId},D),Le=(B.prototype.createKeysFromSlotRequest=function(e){if(this.useZoneIdIntegration)return[new Ge(e.impId,e.zoneId)];for(var t=[],r=0,i=e.sizes;r<i.length;r++)t.push(new Fe(e.impId,i[r],this.networkId));return t},B.prototype.createKeyFromSlotResponse=function(e){return this.useZoneIdIntegration?new Ge(e.impid,e.zoneid):new Fe(e.impid,new Ue(e.width,e.height),this.networkId)},B.prototype.createKeyFromBid=function(e){return this.useZoneIdIntegration?new Ge(e.impressionId,e.zoneId):new Fe(e.impressionId,new Ue(e.width,e.height),this.networkId)},B),Ve=(k.useZoneIdIntegration=function(e,t){return void 0===t||0===e.filter(function(e){return void 0!==e.sizes&&0<e.sizes.length}).length},k.prototype.getBySlotKey=function(e,t){return(t=t.toString())in e&&void 0!==(e=e[t])?(void 0!==e.bid&&void 0!==e.expiration&&e.expiration<R()&&(e.bid=void 0,e.expiration=void 0),e):{}},k.prototype.setBySlotKey=function(e,t,r){t=t.toString(),void 0!==r.bid||void 0!==r.expiration&&r.expiration>R()?e[t]=r:t in e&&delete e[t]},k.prototype.filterNoBidSlots=function(e){for(var t=[],r=(r=this.localStorageHelper.getItem(k.BIDCACHE_STORAGE_KEY))&&f(r)||{},i=0;i<e.length;i++){for(var n=e[i],o=[],a=0,s=this.slotKeyFactory.createKeysFromSlotRequest(n);a<s.length;a++){var d=s[a];this.getBidFromMap(r,d,0)!==k.NO_BID&&(d instanceof Fe?o.push(d.size):t.push(n))}0<o.length&&(n.sizes=o,t.push(n))}return t},k.prototype.getRequestCachedBids=function(e,t){void 0===t&&(t=5e3);for(var r={},i=(i=this.localStorageHelper.getItem(k.BIDCACHE_STORAGE_KEY))&&f(i)||{},n=0;n<e.length;n++)for(var o=e[n],a=0,s=this.slotKeyFactory.createKeysFromSlotRequest(o);a<s.length;a++){var d=this.getBidFromMap(i,s[a],t);void 0!==d&&d!==k.NO_BID&&(r[o.slotId]=d)}return this.localStorageHelper.setItem(k.BIDCACHE_STORAGE_KEY,JSON.stringify(i)),r},k.prototype.getBid=function(e,t){void 0===t&&(t=5e3);var r=(r=this.localStorageHelper.getItem(k.BIDCACHE_STORAGE_KEY))&&f(r)||{};return e=this.getBidFromMap(r,e,t),this.localStorageHelper.setItem(k.BIDCACHE_STORAGE_KEY,JSON.stringify(r)),e},k.prototype.getBidFromMap=function(e,t,r){void 0===r&&(r=5e3);var i=this.getBySlotKey(e,t);return void 0===i.bid&&i.expiration&&i.expiration>R()?k.NO_BID:0<r&&void 0!==i.bid?(delete e[t.toString()],i.bid):void 0},k.prototype.storeResponseBids=function(e){for(var t=(r=this.localStorageHelper.getItem(k.BIDCACHE_STORAGE_KEY))&&f(r)||{},r=function(r){var e=i.slotKeyFactory.createKeyFromSlotResponse(r.slot);i.modifyCache(t,e,function(e){var t=R()+1e3*r.ttl;(void 0===e.expiration||e.expiration<t)&&(e.bid=r.slot,e.expiration=t)})},i=this,n=0;n<e.length;n++)r(e[n]);this.localStorageHelper.setItem(k.BIDCACHE_STORAGE_KEY,JSON.stringify(t))},k.prototype.storeRequestNoBids=function(e){for(var i=(t=this.localStorageHelper.getItem(k.BIDCACHE_STORAGE_KEY))&&f(t)||{},t=function(t){for(var e=0,r=n.slotKeyFactory.createKeysFromSlotRequest(t.slot);e<r.length;e++)n.modifyCache(i,r[e],function(e){e.bid=void 0,e.expiration=Math.max(e.expiration||0,R()+1e3*t.ttl)})},n=this,r=0;r<e.length;r++)t(e[r]);this.localStorageHelper.setItem(k.BIDCACHE_STORAGE_KEY,JSON.stringify(i))},k.prototype.removeBid=function(t){var e=(e=this.localStorageHelper.getItem(k.BIDCACHE_STORAGE_KEY))&&f(e)||{},r=this.slotKeyFactory.createKeyFromBid(t);this.modifyCache(e,r,function(e){void 0!==e.bid&&e.bid.slotid===t.slotId&&(e.bid=void 0,e.expiration=void 0)}),this.localStorageHelper.setItem(k.BIDCACHE_STORAGE_KEY,JSON.stringify(e))},k.prototype.modifyCache=function(e,t,r){var i=this.getBySlotKey(e,t);r(i),this.setBySlotKey(e,t,i)},k.prototype.clearExpiredItems=function(){for(var e=(e=this.localStorageHelper.getItem(k.BIDCACHE_STORAGE_KEY))&&f(e)||{},t=0,r=Object.keys(e);t<r.length;t++){var i=r[t],n=e[i];void 0!==n&&void 0!==n.expiration&&n.expiration<R()&&delete e[i]}this.localStorageHelper.setItem(k.BIDCACHE_STORAGE_KEY,JSON.stringify(e))},k.NO_BID="nobid",k.BIDCACHE_STORAGE_KEY="criteo_pt_cdb_bidcachemap",k);(tt=Re={}).Native="native",tt.Banner="banner",tt.Video="video";var Ke,We,He,ye=(N.prototype.hasValidNativeParams=function(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))},N.prototype.buildCdbUrl=function(){return this.url},N.prototype.buildCdbRequest=function(){if(!this.cache.silentModeEnabled())return this.requestBuilder.isValid()?(this.adBlockFlagManager.setAdBlockFlagTimer(Math.min((this.timeout||5e3)+1e3,5e3)),this.timer.sendRequest(this.url),this.requestBuilder.getRequest()):void 0;this.metricsManager.incSilentModeRequestCount()},N.GetAllAdapters=function(){return window.Criteo.prebid_adapters},N.GetAdapter=function(e){e="string"==typeof e?e:e.bidRequests[0].auctionId;var t=N.GetAllAdapters();if(t&&e in t)return t[e]},N.createCriteoNativeAdWithCallback=function(e,t,r){return window.criteo_prebid_native_slots=window.criteo_prebid_native_slots||{},window.criteo_prebid_native_slots[e]={callback:r,payload:t},'<script type="text/javascript">\n            var win = window;\n            for (var i = 0; i < 10; ++i) {\n                win = win.parent;\n                if (win.criteo_prebid_native_slots) {\n                    var responseSlot = win.criteo_prebid_native_slots["'+e+'"];\n                    responseSlot.callback(responseSlot.payload);\n                    break;\n                }\n            }\n        <\/script>'},N.createPrebidNativeAd=function(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map(function(e){return e.url})}},N.prototype.getBidRequestForSlot=function(e){for(var t=0,r=this.bidRequests;t<r.length;t++){var i=r[t];if(i.adUnitCode===e.impid&&(!i.params.zoneId||parseInt(i.params.zoneId,10)===e.zoneid))return i}},N.prototype.getSlotForAdUnitCode=function(e){for(var t=0,r=this.slots;t<r.length;t++){var i=r[t];if(i&&i.impId===e)return i}},N.getVideoInfoFromBidRequest=function(e){if(N.hasVideoMediaType(e))return new Se(e.mediaTypes.video.playerSize,e.mediaTypes.video.mimes,e.mediaTypes.video.protocols,e.mediaTypes.video.maxduration,e.mediaTypes.video.api,e.params.video.skip,e.params.video.placement,e.params.video.playbackmethod,e.params.video.minduration,e.params.video.startdelay)},N.hasVideoMediaType=function(e){return void 0!==e.params&&void 0!==e.params.video&&!(void 0===e.mediaTypes||void 0===e.mediaTypes.video)},N.prototype.interpretResponse=function(e,t){this.timer.requestReceived(),this.adBlockFlagManager.disableAdBlockFlagTimer();var r,i,n,o,a,s,d,c,u,p={};if(void 0!==(t=b(e)).slots)for(var l=0,f=t.slots;l<f.length;l++)p[(y=f[l]).imp_id]=y;if(l=[],e.slots&&Array.isArray(e.slots))for(var f=0,g=e.slots;f<g.length;f++){var m,h,y=g[f],v=this.getBidRequestForSlot(y);v&&(!0===window.criteo_pubtag.context.isAdBlocked?void 0===(r=y.slotid,i=y.impid,n=y.cpm,o=y.width,a=y.height,s=y.zoneid,d=v.params.nativeCallback,c=y.native,h=y.displayurl,u=y.creative,m=y.deal,h=void 0!==d&&void 0!==c?new Ie(r,i,n,o,a,s,d,c,m):void 0===h||void 0!==u&&"<script"!==u.substr(0,7)?void 0!==u?new be(r,i,n,o,a,s,u,m):void 0:new ve(r,i,n,o,a,s,h,m))||!De.tryInsertPlaceholder(v.adUnitCode,!0,window.criteo_pubtag.context.cloneByImpressionId)||null!=(y=De.insertAdIFrame(v.adUnitCode,window.criteo_pubtag.context.cloneByImpressionId))&&(y=new oe(y.contentDocument),h.GenerateEvent(y).eval(window.criteo_pubtag)):(m=v.bidId,h=y.ttl||p[y.slotid]&&p[y.slotid].ttl||60,h={requestId:m,adId:I(),cpm:y.cpm,currency:y.currency,netRevenue:!0,ttl:h,creativeId:m,width:y.width,height:y.height,dealId:y.deal},y.native?v.params.nativeCallback?h.ad=N.createCriteoNativeAdWithCallback(m,y.native,v.params.nativeCallback):(h.native=N.createPrebidNativeAd(y.native),h.mediaType=Re.Native):y.video?(h.vastUrl=y.displayurl,h.mediaType=Re.Video):h.ad=y.creative,l.push(h)))}return this.cache.handleResponse(this.slots,e,t,!1),this.timer.finish(t.slots),this.metricsManager.sendMetric(this.metricBuilder,this.clientRequestId),this.cache.clearExpiredItems(),l},N.prototype.handleBidWon=function(){},N.prototype.handleBidTimeout=function(){this.timer.requestReceived(!0),this.timer.finish(),this.metricsManager.sendMetric(this.metricBuilder,this.clientRequestId),this.cache.clearExpiredItems()},N.prototype.handleSetTargeting=function(){},N.prototype.getBannerSizes=function(e){var t;return(null===(t=null===(t=e.mediaTypes)||void 0===t?void 0:t.banner)||void 0===t?void 0:t.sizes)||e.sizes||[]},N.prototype.getNativeSizes=function(e){return(null===(e=null===(e=null===(e=e.mediaTypes)||void 0===e?void 0:e.native)||void 0===e?void 0:e.image)||void 0===e?void 0:e.sizes)||[]},N.prototype.getSizes=function(e){var t=this.getBannerSizes(e).map(function(e){return new Ue(e[0],e[1])}),r=this.getNativeSizes(e).map(function(e){return new Ue(e[0],e[1])}),t=t.concat(r);return null!==(e=e.mediaTypes)&&void 0!==e&&e.native&&(0===t.length?t=[new Ue(2,2)]:t.forEach(function(e,t,r){void 0===e.height&&void 0===e.width&&(r[t]=new Ue(2,2))})),t.filter(function(e,t,r){return r.indexOf(e)===t})},N.prototype.getFloorsForSizes=function(e,i,n){var o={},t=n.getFloor({currency:"EUR",size:"*",mediaType:i});if("EUR"!==t.currency)throw Error("Currency for floors is not in EUR, or cannot be converted to EUR");return o["*"]=t.floor,e.forEach(function(e,t,r){t=new Ue(e[0],e[1]),o[t.toString()]=n.getFloor({currency:"EUR",size:e,mediaType:i}).floor}),o},N),Ye=(U.prototype.send=function(e,t,r,i){var n=void 0!==this.data?"POST":"GET",o=this.getXMLHttpRequest(n,e,t,r,i);void 0!==o?o.send(this.data):void 0!==(e=this.getXDomainRequest(n,e,t,r,i))&&e.send(this.data)},U.prototype.getXMLHttpRequest=function(e,t,r,i,n){var o=new XMLHttpRequest;if("withCredentials"in o)return o.open(e,this.url,!0),o.timeout=n||U.LOCAL_PASSBACK_TIMEOUT,this.contentType?o.setRequestHeader("Content-type",this.contentType):"POST"===e&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.withCredentials=this.withCredentials,o.onload=function(){4===o.readyState&&200===o.status?t(o.responseText):r(o.readyState,o.status)},o.onerror=function(){r(void 0,void 0)},i&&(o.ontimeout=i),o},U.prototype.getXDomainRequest=function(e,t,r,i,n){if("undefined"!=typeof XDomainRequest){var o=new XDomainRequest;return o.timeout=n||U.LOCAL_PASSBACK_TIMEOUT,o.open(e,this.url),o.onload=function(){void 0!==o.responseText?t(o.responseText):r(void 0,void 0)},o.onerror&&(o.onerror=function(){r(void 0,void 0)}),o.ontimeout&&i&&(o.ontimeout=i),o}},U.LOCAL_PASSBACK_TIMEOUT=3e4,U),Je=(j.prototype.getCMPFrame=function(){for(var e,t=this.currentWindow,r=0;r<10;++r){try{t.frames.__uspapiLocator&&(e=t)}catch(e){}if(t===this.currentWindow.top)break;t=t.parent}return e},j.prototype.hasCallerFunctionInWindow=function(){return"function"==typeof this.currentWindow.__uspapi},j.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInWindow()||void 0!==this.getCMPFrame()},j.prototype.retrieveConsent=function(r){var i=this,n=!1,o=window.setTimeout(function(){n=!0,i.logger("Timeout: Unable to resolve CCPA consent after "+i.timeout+"ms"),r(void 0)},this.timeout);this.executeCommand("getUSPData",1,function(e,t){n||(clearTimeout(o),t?(i.logger("CCPA consent retrieved"),i.processResponseData(e,r)):(i.logger("Error retrieving CCPA consent data from CMP"),r(void 0)))})},j.prototype.processResponseData=function(e,t){e?t(e):(this.logger("Unable to read CCPA consent data from CMP"),t(void 0))},j.prototype.executeCommand=function(e,t,r){var n,o=this;this.hasCallerFunctionInWindow()||(this.logger("No CCPA CMP defined on current frame"),n=this.getCMPFrame(),this.currentWindow.__uspapi=function(e,t,r){if(!n)return o.logger("CCPA CMP not found in any frame"),void r({msg:"CCPA CMP not found in any frame"},!1);var i=Math.random().toString(10);e={__uspapiCall:{command:e,parameter:t,callId:i}},o.uspapiCallbacks[i]=r,n.postMessage(e,"*")},this.currentWindow.addEventListener("message",function(e){(e="string"==typeof e.data?M(e.data):e.data)&&e.__uspapiReturn&&e.__uspapiReturn.callId&&e.__uspapiReturn.returnValue&&(e=e.__uspapiReturn,o.uspapiCallbacks&&o.uspapiCallbacks[e.callId]&&(o.uspapiCallbacks[e.callId](e.returnValue,e.success),delete o.uspapiCallbacks[e.callId]))},!1)),this.currentWindow.__uspapi(e,t,r)},j.prototype.hasUserOptOut=function(e){return!(!e||!e.uspString||"1YNY"===e.uspString.toUpperCase()||"1YNN"===e.uspString.toUpperCase()||"1YN-"===e.uspString.toUpperCase()||"1-N-"===e.uspString.toUpperCase()||"1---"===e.uspString)},j),Qe=(q.prototype.getReadyToRetrieveProvider=function(){return this.tcfv2ConsentProvider.hasCallerFunctionInFrame()?this.tcfv2ConsentProvider:this.tcfv1ConsentProvider.hasCallerFunctionInFrame()?this.tcfv1ConsentProvider:void 0!==this.tcfv2ConsentProvider.getCMPFrame()?this.tcfv2ConsentProvider:void 0!==this.tcfv1ConsentProvider.getCMPFrame()?this.tcfv1ConsentProvider:void 0},q.prototype.retrieveConsentForPassback=function(e){var t=this.getReadyToRetrieveProvider();void 0===t&&(this.logger("No compatible GDPR privacy provider found"),e(void 0)),t===this.tcfv1ConsentProvider?this.tcfv1ConsentProvider.retrieveConsentForPassback(e):t===this.tcfv2ConsentProvider&&this.tcfv2ConsentProvider.retrieveConsent(e)},q.prototype.retrieveConsent=function(e){var t=this.getReadyToRetrieveProvider();void 0===t&&(this.logger("No compatible GDPR privacy provider found"),e(void 0)),null==t||t.retrieveConsent(e)},q.prototype.readyToRetrieve=function(){return this.tcfv2ConsentProvider.readyToRetrieve()||this.tcfv1ConsentProvider.readyToRetrieve()},q),Xe=(z.prototype.getCMPFrame=function(){for(var e,t=this.currentWindow,r=0;r<10;++r){try{t.frames.__cmpLocator&&(e=t)}catch(e){}if(t===this.currentWindow.top)break;t=t.parent}return e},z.prototype.hasCallerFunctionInFrame=function(){return"function"==typeof this.currentWindow.__cmp},z.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},z.prototype.pingWithTimeout=function(i,e,t,n){var o=this;return window.setTimeout(function(){var r=window.setTimeout(function(){o.logger("Timeout: Unable to get ping return after "+e+"ms"),clearTimeout(i),n()},e);o.executeCommand("ping",null,function(e,t){clearTimeout(r),t?(o.logger("GDPR CMP ping returned"),!0!==e.cmpLoaded&&(o.logger("GDPR ping returned cmpLoaded which is not true"),clearTimeout(i),n()),o.logger("GDPR ping returned cmpLoaded which is true")):(o.logger("Error sending ping to GDPR CMP"),clearTimeout(i),n())})},t)},z.prototype.retrieveConsent=function(e){this.executeRetrieveConsent("getConsentData",null,e)},z.prototype.retrieveConsentForPassback=function(e){this.executeRetrieveConsent("getVendorConsents",[91],e)},z.prototype.executeRetrieveConsent=function(e,t,r){var i=this,n=!1,o=window.setTimeout(function(){n=!0,i.logger("Timeout: Unable to resolve GDPR consent after "+i.timeout+"ms"),r(void 0)},this.timeout),a=this.pingWithTimeout(o,this.pingTimeout,this.pingDelay,function(){n=!0,i.logger("Timeout: Unable to ping GDPR API after "+i.pingTimeout+"ms"),r(void 0)});this.executeCommand(e,t,function(e,t){clearTimeout(a),n||(clearTimeout(o),t?(i.logger("GDPR consent retrieved"),i.processConsentData(e,r)):(i.logger("Error retrieving GDPR consent data from CMP"),r(void 0)))})},z.prototype.processConsentData=function(e,t){var r;e?(r={},void 0!==e.consentData&&(r.consentData=e.consentData),void 0!==e.gdprApplies&&(r.gdprApplies=!!e.gdprApplies),t(r)):(this.logger("Unable to read GDPR consent data from CMP"),t(void 0))},z.prototype.executeCommand=function(e,t,r){var n,o=this;this.hasCallerFunctionInFrame()||(this.logger("No GDPR CMP defined on current frame"),n=this.getCMPFrame(),this.currentWindow.__cmp=function(e,t,r){if(!n)return o.logger("GDPR CMP not found in any frame"),void r({msg:"GDPR CMP not found in any frame"},!1);var i=Math.random().toString(10);e={__cmpCall:{command:e,parameter:t,callId:i}},o.cmpCallbacks[i]=r,n.postMessage(e,"*")},this.currentWindow.addEventListener("message",function(e){(e="string"==typeof e.data?M(e.data):e.data)&&e.__cmpReturn&&e.__cmpReturn.callId&&e.__cmpReturn.returnValue&&(e=e.__cmpReturn,o.cmpCallbacks&&o.cmpCallbacks[e.callId]&&(o.cmpCallbacks[e.callId](e.returnValue,e.success),delete o.cmpCallbacks[e.callId]))},!1)),this.currentWindow.__cmp(e,t,r)},z),$e=(F.prototype.getCMPFrame=function(){for(var e,t=this.currentWindow,r=0;r<10;++r){try{t.frames.__tcfapiLocator&&(e=t)}catch(e){}if(t===this.currentWindow.top)break;t=t.parent}return e},F.prototype.hasCallerFunctionInFrame=function(){return"function"==typeof this.currentWindow.__tcfapi},F.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},F.prototype.pingWithTimeout=function(r,e,t,i){var n=this;return window.setTimeout(function(){var t=window.setTimeout(function(){n.logger("Timeout: Unable to get TCFv2 ping return after "+e+"ms"),clearTimeout(r),i()},e);n.executeCommand("ping",2,function(e){clearTimeout(t),n.logger("TCFv2 CMP ping returned in ms"),"error"===e.cmpStatus?(n.logger("Error status on ping to TCFv2 CMP"),clearTimeout(r),i()):!0!==e.cmpLoaded?(n.logger("TCFv2 ping returned cmpLoaded = false"),clearTimeout(r),i()):n.logger("TCFv2 ping returned cmpLoaded = true")})},t)},F.prototype.retrieveConsent=function(r){var i=this,n=!1,o=window.setTimeout(function(){n=!0,i.logger("Timeout: Unable to resolve TCFv2 consent after "+i.timeout+"ms"),r(void 0)},this.timeout),a=this.pingWithTimeout(o,this.pingTimeout,this.pingDelay,function(){n=!0,i.logger("Timeout: Unable to ping TCFv2 API after "+i.pingTimeout+"ms"),r(void 0)});this.executeCommand("getTCData",2,function(e,t){clearTimeout(a),n||(clearTimeout(o),t?(i.logger("TCFv2 consent retrieved in ms"),i.processResponseData(e,r)):(i.logger("Error retrieving TCFv2 consent data from CMP"),r(void 0)))},[91])},F.prototype.processResponseData=function(e,t){var r;e?(r={},void 0!==e.tcString&&(r.consentData=e.tcString),void 0!==e.gdprApplies&&(r.gdprApplies=!!e.gdprApplies),r.version=e.tcfPolicyVersion||2,r.purposes=null===(e=null==e?void 0:e.purpose)||void 0===e?void 0:e.consents,t(r)):(this.logger("Unable to read GDPR consent data from CMP"),t(void 0))},F.prototype.executeCommand=function(e,t,r,i){var o,a=this;this.hasCallerFunctionInFrame()||(this.logger("No TCFv2 CMP defined on current frame"),o=this.getCMPFrame(),this.currentWindow.__tcfapi=function(e,t,r,i){if(!o)return a.logger("TCFv2 CMP not found in any frame"),void r({msg:"TCFv2 CMP not found in any frame"},!1);var n=Math.random().toString(10);e={__tcfapiCall:{command:e,version:t,parameter:i,callId:n}},a.cmpCallbacks[n]=r,o.postMessage(e,"*")},this.currentWindow.addEventListener("message",function(e){(e="string"==typeof e.data?M(e.data):e.data)&&e.__tcfapiReturn&&e.__tcfapiReturn.callId&&e.__tcfapiReturn.returnValue&&(e=e.__tcfapiReturn,a.cmpCallbacks&&a.cmpCallbacks[e.callId]&&"function"==typeof a.cmpCallbacks[e.callId]&&(a.cmpCallbacks[e.callId](e.returnValue,e.success),delete a.cmpCallbacks[e.callId]))},!1)),this.currentWindow.__tcfapi(e,t,r,i)},F),Ze=(G.prototype.initializeServices=function(){var i=this;this.initializing=!0,this.retrievePrivacyConsent(function(e,t){var r={localStorageHelper:new qe(i.topFrame,t),gdprConsent:t,ccpaConsentProvider:i.ccpaConsentProvider,ccpaConsent:e};i.services=r,i.initialized=!0,i.initializing=!1,i.postInitiliazeServicesCallbacks.forEach(function(e){e(r)})})},G.prototype.getServicesAsync=function(e){this.initialized?e(this.services):(this.postInitiliazeServicesCallbacks.push(e),this.initializing||this.initializeServices())},G.prototype.retrievePrivacyConsent=function(t){var e=this.tcfCompatibleConsentProvider.readyToRetrieve(),r=this.ccpaConsentProvider.readyToRetrieve();e||r||t(void 0,void 0);var i,n,o=[];e&&o.push(Qe),r&&o.push(Je),e&&this.tcfCompatibleConsentProvider.retrieveConsent(function(e){o.splice(o.indexOf("TCF"),1),0===o.length?t(n,e):i=e}),r&&this.ccpaConsentProvider.retrieveConsent(function(e){o.splice(o.indexOf("CCPA"),1),0===o.length?t(e,i):n=e})},G),et=(e(L,Ke=me),L.prototype.getMetricBuilder=function(){return this.metricBuilder},L.prototype.eval=function(e){this.evalWithTimeout(e,void 0)},L.prototype.evalWithTimeout=function(t,r){var i=this;(this.serviceProvider||new Ze).getServicesAsync(function(e){i.metricsManager||(i.metricsManager=new xe(e.localStorageHelper,i.profileId,i.adapterVersion)),i.metricBuilder||(i.metricBuilder=new _e(i.metricsManager)),i.innerEval(t,i.metricBuilder,e.gdprConsent,e.ccpaConsent,r)})},L.prototype.innerEval=function(i,n,e,t,r){var o=this,a=I(),s=L.getCriteoAdapterBidRequest(),d=L.getRequestAuctionStart(s);r=r||S(s&&s.timeout);var c=new Ne(n,d,r);(e=new Be(this.slots,i.context,this.urlBuilder,this.profileId,this.integrationMode,this.networkId,this.adapterVersion,{ccpaIabConsent:t,gdprConsent:e},void 0,this.viewportComputer,r,a,void 0,Math.round(new Date/1e3))).isValid()&&"undefined"!=typeof JSON?(t=e.getRequest(),t=JSON.stringify(t),e=e.getUrl(),t=new Ye(e,t,"application/x-www-form-urlencoded"),c.sendRequest(e),t.send(function(e){try{c.requestReceived();var t=f(e)||{},r=b(t);void 0!==o.callbackSuccess&&o.callbackSuccess(JSON.stringify(t),r),c.finish(r.slots),n.getMetricsManager().sendMetric(n,a)}catch(e){o.reportAsyncRequestException(i,"onSuccess",e)}i.context.remoteLogging.sendErrorReport(o.urlBuilder,a),o.metricBuilder=void 0},function(e,t){try{c.requestReceived(),void 0!==o.callbackError&&o.callbackError(e,t),c.finish(),n.getMetricsManager().sendMetric(n,a)}catch(e){o.reportAsyncRequestException(i,"onError",e)}i.context.remoteLogging.sendErrorReport(o.urlBuilder,a),o.metricBuilder=void 0},function(){try{c.requestReceived(!0),void 0!==o.callbackTimeout&&o.callbackTimeout(),c.finish(),n.getMetricsManager().sendMetric(n,a)}catch(e){o.reportAsyncRequestException(i,"onTimeout",e)}i.context.remoteLogging.sendErrorReport(o.urlBuilder,a),o.metricBuilder=void 0},this.timeout)):this.callbackError(void 0,void 0)},L.prototype.reportAsyncRequestException=function(e,t,r){e.context.remoteLogging.log("Exception","Exception caught in AsyncRequest "+t+" callback:\n"+(r.stack||r.toString()))},L.getCriteoAdapterBidRequest=function(){try{return window.pbjs._bidsRequested.find(function(e){return"criteo"===e.bidderCode})}catch(e){}},L.getRequestAuctionStart=function(e){return e&&e.auctionStart},L.NAME="directbidding",L),tt=(e(V,We=me),V.prototype.eval=function(e){var t=this;if(this.cache.silentModeEnabled())return this.metricsManager.incSilentModeRequestCount(),void this.callbackSuccess("",void 0);setTimeout(function(){return t.onTimeout()},this.timeout||3e3),this.directBiddingEvent.evalWithTimeout(e,this.timeout)},V.prototype.onSuccess=function(e,t){var r;this.hasResponded=!0,void 0!==t&&(r=f(e),this.cache.handleResponse(this.slots,r,t,this.hasTimeouted)),this.hasTimeouted||this.callbackSuccess(e,t),this.cache.clearExpiredItems()},V.prototype.onError=function(e,t){this.hasResponded=!0,this.hasTimeouted||this.callbackError(e,t),this.cache.clearExpiredItems()},V.prototype.onHttpTimeout=function(){this.hasResponded=!0,this.hasTimeouted||this.callbackTimeout(),this.cache.clearExpiredItems()},V.prototype.onTimeout=function(){var e,t,r,i;this.hasResponded||(this.hasTimeouted=!0,t=this.cache.getCachedBids(this.slots),i=(r=Object.keys(t)).map(function(e){return t[e]}),0===Object.keys(t).length?this.callbackTimeout():(null===(e=this.getMetricBuilder())||void 0===e||e.withSlotIdsMatchedByCache(r),this.callbackSuccess(JSON.stringify({slots:i}),void 0)))},V.prototype.getMetricBuilder=function(){return this.directBiddingEvent.getMetricBuilder()},V.prototype.getBidCache=function(){return this.cache},V.NAME="directbidding",V),rt="criteo_fast_bid",it=(K.SetCookie=function(e,t,r,i,n){void 0===n&&(n=!1);var o=i||document,a=o.location.hostname,s=new Date;if(s.setTime(s.getTime()+36e5*r),r="expires="+s.toUTCString(),!n)return K.setCookieString(e,t,r,void 0,o),a;for(n=a.split("."),s=0;s<n.length;++s){var d=n.slice(n.length-s-1,n.length).join(".");K.setCookieString(e,t,r,d,o);var c=K.GetCookie(e,i);if(c&&c===t)return d}return a},K.DeleteCookie=function(e,t,r){K.SetCookie(e,"",0,t,r=void 0===r?!1:r)},K.GetCookie=function(e,t){var r=0;for(t=(t||document).cookie.split(";");r<t.length;r++){var i=(n=t[r]).substr(0,n.indexOf("=")).replace(/^\s+|\s+$/g,""),n=n.substr(n.indexOf("=")+1);if(i===e)return decodeURIComponent(n)}},K.setCookieString=function(e,t,r,i,n){e=e+"="+encodeURIComponent(t)+";"+r+";",i&&""!==i&&(e+="domain=."+i+";"),n.cookie=e+"path=/"},K);(me=He={})[me.None=0]="None",me[me.Cookie=1]="Cookie",me[me.LocalStorage=2]="LocalStorage";function nt(e,t){this.errorType=e,this.messages=t}function ot(e,t,r){this.environment=e,this.errors=t,this.requestId=r}var at,st=(H.prototype.synchronizeCriteoUid=function(e,t){var r,i=this;e&&(this.tcfV2ConsentString=e),this.topWin.addEventListener&&("complete"===this.topDoc.readyState?this.appendGumIframeIfDoesNotExist(t):(this.topWin.addEventListener("load",r=function(){i.topDoc.removeEventListener("DOMContentLoaded",r),i.topWin.removeEventListener("load",r),i.appendGumIframeIfDoesNotExist(t)},!1),this.topDoc.addEventListener("DOMContentLoaded",r,!1)))},H.prototype.appendGumIframeIfDoesNotExist=function(n){var o=this,e=this.createGumIframe();this.topDoc.getElementById(H.SYNCFRAME_ID)||(this.topWin.addEventListener("message",function(e){var t=e.data;if(t&&t.isCriteoMessage)if(e.stopImmediatePropagation(),t.optout)o.setClientSideOptOut(),o.deleteClientSideUid(),o.deleteClientSideSecureId(),o.deleteBundle();else{if(t.uid&&o.setClientSideUid(t.uid),t.callbacks){e=0;for(var r="string"==typeof t.callbacks?[t.callbacks]:t.callbacks;e<r.length;e++){var i=r[e];(new Image).src=i}}else t.bundle&&(o.setBundle(t.bundle),t.enableEsp&&n&&n(t.bundle));t.removeSid?o.deleteClientSideSecureId():t.sid&&o.setClientSideSecureId(t.sid)}},!0),this.topDoc.body.appendChild(e))},H.prototype.getClientSideUid=function(){return this.getFromAllStorages(H.GUID_COOKIE_NAME)},H.prototype.setClientSideUid=function(e){this.writeOnAllStorages(H.GUID_COOKIE_NAME,e,H.GUID_RETENTION_TIME_HOUR)},H.prototype.deleteClientSideUid=function(){this.deleteFromAllStorage(H.GUID_COOKIE_NAME)},H.prototype.getBundle=function(){return this.getFromAllStorages(H.BUNDLE_COOKIE_NAME)},H.prototype.setBundle=function(e){this.writeOnAllStorages(H.BUNDLE_COOKIE_NAME,e,H.GUID_RETENTION_TIME_HOUR)},H.prototype.deleteBundle=function(){this.deleteFromAllStorage(H.BUNDLE_COOKIE_NAME)},H.prototype.getClientSideOptOut=function(){var e=this.getFromAllStorages(H.OPTOUT_COOKIE_NAME);return{value:"1"===e.value,origin:e.origin}},H.prototype.setClientSideOptOut=function(){this.writeOnAllStorages(H.OPTOUT_COOKIE_NAME,"1",H.OPTOUT_RETENTION_TIME_HOUR)},H.prototype.getClientSideSecureId=function(){return this.getFromAllStorages(H.SECURE_ID_COOKIE_NAME)},H.prototype.setClientSideSecureId=function(e){this.writeOnAllStorages(H.SECURE_ID_COOKIE_NAME,e,H.GUID_RETENTION_TIME_HOUR)},H.prototype.deleteClientSideSecureId=function(){this.deleteFromAllStorage(H.SECURE_ID_COOKIE_NAME)},H.prototype.getClientSideLocalWebId=function(){return this.getFromAllStorages(H.LOCAL_WEB_ID_COOKIE_NAME)},H.prototype.getIfa=function(){return this.getFromAllStorages(H.IFA_COOKIE_NAME)},H.prototype.checkCookiesAreWriteable=function(){it.SetCookie("cto_writeable","1",1,this.topDoc,!0);var e="1"===it.GetCookie("cto_writeable",this.topDoc);return it.DeleteCookie("cto_writeable",this.topDoc,!0),e},H.prototype.createGumIframe=function(){var e=this.topDoc.createElement("iframe");return e.src=this.buildSyncframeSrc(),e.id=H.SYNCFRAME_ID,e.style.display="none",e},H.prototype.writeOnAllStorages=function(e,t,r){this.localStorageHelper.setItem(e,t),it.SetCookie(e,t,r,this.topDoc,!0)},H.prototype.getFromAllStorages=function(e){var t=it.GetCookie(e,this.topDoc);return e=this.localStorageHelper.getItem(e)||void 0,{value:t||e,origin:(t&&He.Cookie)|(e&&He.LocalStorage)}},H.prototype.deleteFromAllStorage=function(e){it.DeleteCookie(e,this.topDoc,!0),this.localStorageHelper.removeItem(e)},H.prototype.getTld=function(){var e=it.SetCookie(H.TLD_TEST_COOKIE_NAME,"test",1,this.topDoc,!0);return it.DeleteCookie(H.TLD_TEST_COOKIE_NAME,this.topDoc,!0),e},H.prototype.buildSyncframeSrc=function(){var e,t=this.getClientSideUid(),r=this.getClientSideOptOut(),i=this.getClientSideSecureId(),n=this.getClientSideLocalWebId(),o=this.getBundle(),a=this.getIfa(),s=this.getTld(),d=encodeURIComponent((e=this.topUrl,(d=document.createElement("a")).href=e,{protocol:d.protocol,host:d.host,hostname:d.hostname,pathname:"/"===d.pathname[0]?d.pathname.slice(1):d.pathname,search:d.search,href:d.href}).hostname);return"https://gum.criteo.com/syncframe?topUrl="+d+(this.isDebug?"&debug=1":"")+(this.tcfV2ConsentString?"&gdpr_consent="+this.tcfV2ConsentString:"")+"#"+JSON.stringify({optout:r,uid:t,sid:i,origin:"publishertag",version:99,lwid:n,tld:s,bundle:o,topUrl:d,cw:this.canWriteCookies,ifa:a})},H.GUID_COOKIE_NAME="cto_idcpy",H.GUID_RETENTION_TIME_HOUR=9360,H.SECURE_ID_COOKIE_NAME="cto_sid",H.LOCAL_WEB_ID_COOKIE_NAME="cto_lwid",H.BUNDLE_COOKIE_NAME="cto_bundle",H.OPTOUT_COOKIE_NAME="cto_optout",H.IFA_COOKIE_NAME="id_controller_ifa",H.OPTOUT_RETENTION_TIME_HOUR=43200,H.TLD_TEST_COOKIE_NAME="cto_pub_test_tld",H.SYNCFRAME_ID="criteo-syncframe",H),dt=(Y.prototype.withMessage=function(e,t){return e in this.messages||(this.messages[e]=[]),this.messages[e].push(t),this},Y.prototype.withRequestId=function(e){return this.requestId=e,this},Y.prototype.build=function(){var e,t=[];for(e in this.messages)null!=e&&t.push(new nt(e,this.messages[e]));return new ot(this.environment,t,this.requestId)},Y),ct=(J.prototype.reportPending=function(){return this.shouldSend},J.prototype.sendErrorReport=function(e,t){this.shouldSend&&(void 0!==t&&this.builder.withRequestId(t),t=this.builder.build(),e=e.buildErrorUrl(),e+=this.debug?"?debug=1":"",t=JSON.stringify(t),navigator.sendBeacon&&navigator.sendBeacon(e,t),this.shouldSend=!1,this.builder=new dt(J.environment))},J.prototype.log=function(e,t){this.shouldSend=!0,this.builder.withMessage(e,t)},J.environment="PublisherTag Version 99",J);(me=at={})[me.InFriendlyIframe=1]="InFriendlyIframe",me[me.InUnfriendlyIframe=2]="InUnfriendlyIframe",me[me.DirectIntegration=3]="DirectIntegration";function ut(){this.bids={},this.lineItemRanges=[],this.impIds=[]}var pt=(Q.prototype.getContextFlags=function(){var e="";return(e+=this.debugMode?"&debug=1":"")+(this.noLog?"&nolog=1":"")},Q.prototype.getDisplayContext=function(e){return Me.inIframe()?e.err?at.InUnfriendlyIframe:at.InFriendlyIframe:at.DirectIntegration},Q.prototype.getQueryStringParams=function(e){var t={},r=e.split("?");if(1<r.length)for(e=0,r=r[1].split("&");e<r.length;e++){var i=r[e].split("=");t[W(i[0])]=W(i[1])}return t},Q.prototype.synchronizeCriteoUid=function(e,r){var t,i=(null===(t=this.cookieSynchronizerFactory)||void 0===t?void 0:t.call(this))||new st(e,this.highestAccessibleWindowStruct.topFrame,this.debugMode,this.highestAccessibleUrl);this.ctoIdOnPublisherDomain=i.getClientSideUid().value,this.isOptOut=i.getClientSideOptOut().value,this.secureId=i.getClientSideSecureId().value,this.bundle=i.getBundle().value;var n=new Promise(function(t,e){i.synchronizeCriteoUid(r,function(e){t(e)})});window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){var e;window.googletag.encryptedSignalSource=null!==(e=window.googletag.encryptedSignalSource)&&void 0!==e?e:{},window.googletag.encryptedSignalSource.criteo=function(){return n}})},Q.prototype.getIdfs=function(){return["",this.secureId].join(":")},Q.prototype.setIdfs=function(e){(e=e.split(":"))[1]&&(this.secureId=e[1])},Q.prototype.computeShouldIgnoreSilentMode=function(){return Math.floor(100*Math.random())<5},Q.prototype.setSilentModeIgnored=function(){this.silentModeIgnored=!0},Q),me=(X.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(t=0;t<e.length;t++)this.events.push(e[t]);this.evalEvents()},X.prototype.evalEvents=function(){for(var e=0;e<this.events.length;){var t=this.events[e];if("conditionalEvent"!==t.name||t.canEval()){t=this.events.splice(e,1);try{t[0].eval(this)}catch(e){}}else e++}},X.VERSION=99,X);window.criteo_pubtag&&"serviceProvider"in window.criteo_pubtag.context||(window.criteo_pubtag=new me),window.Criteo=function e(t){for(var r in t){var i;r in t&&("function"==typeof(i=t[r])?t[r]=$(i):"object"==typeof i&&(t[r]=e(i)))}return t}({PubTag:{Adapters:{Prebid:ye},DirectBidding:{DirectBiddingEvent:tt,DirectBiddingSlot:Ce,DirectBiddingUrlBuilder:Pe,Size:Ue}},events:window.Criteo?window.Criteo.events:[],passbackEvents:window.Criteo?window.Criteo.passbackEvents:[],usePrebidEvents:!window.Criteo||window.Criteo.usePrebidEvents}),!1!==window.Criteo.usePrebidEvents&&(window.Criteo.events=(ye={push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(void 0!==e)for(t=0;t<e.length;t++){var r=e[t];"function"==typeof r&&$(r)()}}},(tt=window.Criteo.events)&&Array.isArray(tt)&&ye.push.apply(ye,tt),ye)),window.criteo_pubtag.context.serviceProvider.getServicesAsync(function(e){e.localStorageHelper.getItem(rt,864e5)})}(),function(d){function c(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return d[e].call(t.exports,t,t.exports,c),t.l=!0,t.exports}var u=window.pbjsChunk;window.pbjsChunk=function(e,t,r){for(var i,n,o,a=0,s=[];a<e.length;a++)n=e[a],p[n]&&s.push(p[n][0]),p[n]=0;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(d[i]=t[i]);for(u&&u(e,t,r);s.length;)s.shift()();if(r)for(a=0;a<r.length;a++)o=c(c.s=r[a]);return o};var r={},p={343:0};c.m=d,c.c=r,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e},c(c.s=727)}({0:function(e,t,r){function i(e){return e&&e.__esModule?e:{default:e}}function n(){return q()+Math.random().toString(16).substr(2)}function o(e){if(c(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e[0]+"x"+e[1]}function a(e,t){return U.call(e)==="[object "+t+"]"}function s(e){return a(e,D)}function d(e){return a(e,x)}function c(e){return a(e,P)}function u(e){return a(e,B)}function p(e){return a(e,k)}function l(e){if(!e)return!0;if(c(e)||d(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function f(e,t){if(!l(e)){if(s(e.forEach))return e.forEach(t,this);var r=0,i=e.length;if(0<i)for(;r<i;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}}function g(e,t,r,i){t=t||document,r=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if((r=r.length?r:t.getElementsByTagName("body")).length)return(r=r[0]).insertBefore(e,i?null:r.firstChild)}catch(e){}}function m(e,t){const r=new Image;t&&M.isFn(t)&&(r.addEventListener("load",t),r.addEventListener("error",t)),r.src=e}function h(e,t){e=M.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin");let r=document.createElement("div");r.innerHTML=e,e=r.firstChild,t&&M.isFn(t)&&(e.addEventListener("load",t),e.addEventListener("error",t)),M.insertElement(e,document,"html",!0)}function y(e,t=!0,r=""){return e?(t&&(e=encodeURI(e)),r=r&&'sandbox="'.concat(r,'"'),"<iframe ".concat(r,' id="').concat(n(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function v(e,t,r){return null==t?r:d(t)?t:u(t)?t.toString():void 0}function b(e,t,r){return r.indexOf(e)===t}function I(e,t){return e.concat(t)}function _(r,i){return(e,t)=>e.cpm===t.cpm?i(e[r],t[r])?t:e:e.cpm<t.cpm?t:e}function E(e){if("object"!=typeof e||null===e)return e;const t=Array.isArray(e)?[]:{};let r;for(r in e)t[r]=E(e[r]);return t}function C(){return!(!window.navigator.cookieEnabled&&!document.cookie.length)||(document.cookie="prebid.cookieTest",e=document.cookie.indexOf("prebid.cookieTest"),document.cookie="prebid.cookieTest;max-age=0",-1!==e);var e}function S(e){return e?e.replace(/^\?/,"").split("&").reduce((e,t)=>{let[r,i]=t.split("=");return/\[\]$/.test(r)?(r=r.replace("[]",""),e[r]=e[r]||[],e[r].push(i)):e[r]=i||"",e},{}):{}}function T(e){return Object.keys(e).map(t=>Array.isArray(e[t])?e[t].map(e=>"".concat(t,"[]=").concat(e)).join("&"):"".concat(t,"=").concat(e[t])).join("&")}Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueIdentifierStr=n,t.generateUUID=function e(t){return t=t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e)},t.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},t.tryAppendQueryString=function(e,t,r){return r?e+t+"="+encodeURIComponent(r)+"&":e},t.parseQueryStringParameters=function(e){let t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+encodeURIComponent(e[r])+"&");return t=t.replace(/&$/,"")},t.transformAdServerTargetingObj=function(t){return t&&0<Object.getOwnPropertyNames(t).length?Object.keys(t).map(e=>"".concat(e,"=").concat(encodeURIComponent(t[e]))).join("&"):""},t.parseSizesInput=function(e){var t=[];if("string"==typeof e){var r=/^(\d)+x(\d)+$/i;if(e=e.split(","))for(var i in e)e.hasOwnProperty(i)&&e[i].match(r)&&t.push(e[i])}else if("object"==typeof e&&0<(i=e.length))if(2===i&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(o(e));else for(r=0;r<i;r++)t.push(o(e[r]));return t},t.parseGPTSingleSizeArray=o,t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=n(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e},t.getParameterByName=function(e){return S(window.location.search)[e]||""},t.isA=a,t.isFn=s,t.isStr=d,t.isArray=c,t.isNumber=u,t.isPlainObject=p,t.isBoolean=function(e){return a(e,N)},t.isEmpty=l,t._each=f,t.contains=function(e,t){if(l(e))return!1;if(s(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1},t._map=function(r,i){if(l(r))return[];if(s(r.map))return r.map(i);var n=[];return f(r,function(e,t){n.push(i(e,t,r))}),n},t.insertElement=g,t.triggerPixel=m,t.callBurl=function({source:e,burl:t}){e===R.S2S.SRC&&t&&M.triggerPixel(t)},t.insertHtmlIntoIframe=function(e){var t;e&&((t=document.createElement("iframe")).id=n(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",M.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close())},t.insertUserSyncIframe=h,t.createTrackPixelHtml=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},t.createTrackPixelIframeHtml=y,t.getValueString=v,t.uniques=b,t.flatten=I,t.getBidRequest=function(r,e){var t;if(r)return e.some(e=>((e=Array.prototype.find.call(e.bids,t=>["bidId","adId","bid_id"].some(e=>t[e]===r)))&&(t=e),e)),t},t.getKeyByValue=function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r},t.getBidderCodes=function(e=pbjs.adUnits){return e.map(e=>e.bids.map(e=>e.bidder).reduce(I,[])).reduce(I).filter(b)},t.isGptPubadsDefined=function(){if(window.googletag&&s(window.googletag.pubads)&&s(window.googletag.pubads().getSlots))return!0},t.shuffle=function(e){let t=e.length;for(;0<t;){var r=Math.floor(Math.random()*t);t--;var i=e[t];e[t]=e[r],e[r]=i}return e},t.adUnitsFilter=function(e,t){return Array.prototype.includes.call(e,t&&t.adUnitCode)},t.deepClone=E,t.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},t.isSafariBrowser=function(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)},t.replaceAuctionPrice=function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},t.timestamp=function(){return Date.now()},t.hasDeviceAccess=function(){return!1!==A.config.getConfig("deviceAccess")},t.checkCookieSupport=C,t.delayExecution=function(e,t){if(t<1)throw Error("numRequiredCalls must be a positive number. Got ".concat(t));let r=0;return function(){r++,r===t&&e.apply(this,arguments)}},t.groupBy=function(e,r){return e.reduce(function(e,t){return(e[t[r]]=e[t[r]]||[]).push(t),e},{})},t.getDefinedParams=function(r,e){return e.filter(e=>r[e]).reduce((e,t)=>Object.assign(e,{[t]:r[t]}),{})},t.isValidMediaTypes=function(e){const t=["banner","native","video"];return!!Object.keys(e).every(e=>Array.prototype.includes.call(t,e))&&(!e.video||!e.video.context||Array.prototype.includes.call(["instream","outstream","adpod"],e.video.context))},t.getBidderRequest=function(e,t,r){return Array.prototype.find.call(e,e=>0<e.bids.filter(e=>e.bidder===t&&e.adUnitCode===r).length)||{start:null,auctionId:null}},t.getUserConfiguredParams=function(e,t,r){return e.filter(e=>e.code===t).map(e=>e.bids).reduce(I,[]).filter(e=>e.bidder===r).map(e=>e.params||{})},t.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},t.isAdUnitCodeMatchingSlot=function(t){return e=>t.getAdUnitPath()===e||t.getSlotElementId()===e},t.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},t.transformBidderParamKeywords=function(e,t=0){let r=[];return f(e,(e,t)=>{if(c(e)){let t=[];f(e,e=>{!(e=v(0,e))&&""!==e||t.push(e)}),e=t}else{if(!d(e=v(0,e)))return;e=[e]}r.push({key:t,value:e})}),r},t.convertTypes=function(i,n){return Object.keys(i).forEach(e=>{var t,r;n[e]&&(s(i[e])?n[e]=i[e](n[e]):(r=i[e],t=n[e],r="string"===r?t&&t.toString():"number"===r?Number(t):t,n[e]=r),isNaN(n[e])&&delete n.key)}),n},t.isArrayOfNums=function(e,t){return c(e)&&(!t||e.length===t)&&e.every(e=>Number.isInteger(e))},t.fill=function(t,r){let i=[];for(let e=0;e<r;e++){var n=p(t)?E(t):t;i.push(n)}return i},t.chunk=function(t,r){let i=[];for(let e=0;e<Math.ceil(t.length/r);e++){var n=e*r;i.push(t.slice(n,n+r))}return i},t.compareOn=function(r){return function(e,t){return e[r]<t[r]?1:e[r]>t[r]?-1:0}},t.parseQS=S,t.formatQS=T,t.parseUrl=function(e,t){let r=document.createElement("a");return r.href=t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?e:decodeURIComponent(e),e=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString,{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:e?r.search:M.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}},t.buildUrl=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(M.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")},t.mergeDeep=function e(t,...r){if(!r.length)return t;var i=r.shift();if(p(t)&&p(i))for(const r in i)p(i[r])?(t[r]||Object.assign(t,{[r]:{}}),e(t[r],i[r])):c(i[r])&&t[r]?c(t[r])&&(t[r]=t[r].concat(i[r])):Object.assign(t,{[r]:i[r]});return e(t,...r)},Object.defineProperty(t,"deepAccess",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"deepSetValue",{enumerable:!0,get:function(){return w.default}}),t.getOldestHighestCpmBid=t.getHighestCpm=t.bind=t.internal=void 0;var A=r(3),O=i(r(33)),w=i(r(34));const R=r(5);var P="Array",x="String",D="Function",B="Number",k="Object",N="Boolean",U=Object.prototype.toString;const M={checkCookieSupport:C,createTrackPixelIframeHtml:y,insertUserSyncIframe:h,insertElement:g,isFn:s,triggerPixel:m,parseQS:S,formatQS:T};t.internal=M,t.bind=Function.prototype.bind;var j,q=(j=0,function(){return++j});e=_("timeToRespond",(e,t)=>t<e),t.getHighestCpm=e,e=_("responseTimestamp",(e,t)=>t<e),t.getOldestHighestCpmBid=e},1:function(e,t,r){function i(e){return e&&e.__esModule?e:{default:e}}function o(l){function n(e,t,r){_(l,e,t,r)}function f(e){return!!l.isBidRequestValid(e)}return Object.assign(new a.default(l.code),{getSpec:function(){return Object.freeze(l)},registerSyncs:n,callBids:function(o,a,e,i,s,d){function t(){e(),y.default.emit(h.default.EVENTS.BIDDER_DONE,o),n(c,o.gdprConsent,o.uspConsent)}var c,r,u,p;Array.isArray(o.bids)&&(c=[],0===(r=o.bids.filter(f)).length?t():(u={},r.forEach(e=>{(u[e.bidId]=e).adUnitCode||(e.adUnitCode=e.placementCode)}),(r=l.buildRequests(r,o))&&0!==r.length?(Array.isArray(r)||(r=[r]),p=(0,v.delayExecution)(d(t),r.length),r.forEach(function(n){function e(e,t){function r(e){var t=u[e.requestId];t&&(e.originalCpm=e.cpm,e.originalCurrency=e.currency,e.meta=e.meta||Object.assign({},e[t.bidder]),e=Object.assign((0,m.createBid)(h.default.STATUS.GOOD,t),e),g(t=t.adUnitCode,e,[o])&&a(t,e))}s(l.code);try{e=JSON.parse(e)}catch(e){}e={body:e,headers:t.headers},c.push(e);let i;try{i=l.interpretResponse(e,n)}catch(e){return void p()}i&&((0,v.isArray)(i)?i.forEach(r):r(i)),p(i)}function t(e){s(l.code),p()}switch(n.method){case"GET":i("".concat(n.url).concat((r=n.data)?"?".concat("object"==typeof r?(0,v.parseQueryStringParameters)(r):r):""),{success:d(e),error:t},void 0,Object.assign({method:"GET",withCredentials:!0},n.options));break;case"POST":i(n.url,{success:d(e),error:t},"string"==typeof n.data?n.data:JSON.stringify(n.data),Object.assign({method:"POST",contentType:"text/plain",withCredentials:!0},n.options));break;default:p()}var r})):t()))}})}function n(e,t){if(!d.config.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter(e=>(0,v.deepAccess)(e,"mediaTypes.video.context")===f.ADPOD).map(e=>e.bids.map(e=>e.bidder)).reduce(v.flatten,[]).filter(v.uniques).forEach(t=>{var i=s.default.getBidAdapter(t);if(i.getSpec().getMappingFileInfo){let e=(t=i.getSpec().getMappingFileInfo()).refreshInDays||1,r=t.localStorageKey||i.getSpec().code;i=b.getDataFromLocalStorage(r);try{(!(i=i?JSON.parse(i):void 0)||(0,v.timestamp)()>i.lastUpdated+864e5*e)&&(0,l.ajax)(t.url,{success:e=>{try{e=JSON.parse(e);var t={lastUpdated:(0,v.timestamp)(),mapping:e.mapping};b.setDataInLocalStorage(r,JSON.stringify(t))}catch(e){}},error:()=>{}})}catch(e){}}}),e.call(this,t)}function g(e,r,t){return!(!(e&&r&&function(){let t=Object.keys(r);return I.every(e=>Array.prototype.includes.call(t,e)&&!Array.prototype.includes.call([void 0,null],r[e]))}())||"native"===r.mediaType&&!(0,u.nativeBidIsValid)(r,t)||"video"===r.mediaType&&!(0,p.isValidVideoBid)(r,t)||"banner"===r.mediaType&&!function(e,t,r){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),1;if(e=(e=(0,v.getBidderRequest)(r,t.bidderCode,e))&&e.bids&&e.bids[0]&&e.bids[0].sizes,1===(e=(0,v.parseSizesInput)(e)).length){const[r,i]=e[0].split("x");return t.width=parseInt(r,10),t.height=parseInt(i,10),1}}(e,r,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.registerBidder=function(i){function n(e){var t=o(e);s.default.registerBidAdapter(t,e.code,r)}const r=Array.isArray(i.supportedMediaTypes)?{supportedMediaTypes:i.supportedMediaTypes}:void 0;n(i),Array.isArray(i.aliases)&&i.aliases.forEach(e=>{let t=e,r;(0,v.isPlainObject)(e)&&(t=e.code,r=e.gvlid),s.default.aliasRegistry[t]=i.code,n(Object.assign({},i,{code:t,gvlid:r}))})},t.newBidder=o,t.preloadBidderMappingFile=n,t.getIabSubCategory=function(e,t){if((e=s.default.getBidAdapter(e)).getSpec().getMappingFileInfo){var r=e.getSpec().getMappingFileInfo();if(e=r.localStorageKey||e.getBidderCode(),e=b.getDataFromLocalStorage(e)){try{e=JSON.parse(e)}catch(e){}return e.mapping[t]||null}}},t.isValid=g,t.registerSyncInner=t.storage=void 0;var a=i(r(28)),s=i(r(9)),d=r(3),m=r(17),c=r(22),u=r(18),p=r(16),h=i(r(5)),y=i(r(8)),l=r(4),v=r(0),f=r(2);e=r(11);const b=(0,(r=r(7)).getCoreStorageManager)("bidderFactory");t.storage=b;const I="requestId cpm ttl creativeId netRevenue currency".split(" "),_=(0,e.hook)("async",function(t,e,r,i){var n=d.config.getConfig("userSync.aliasSyncEnabled");t.getUserSyncs&&(n||!s.default.aliasRegistry[t.code])&&(n=d.config.getConfig("userSync.filterSettings"),e=t.getUserSyncs({iframeEnabled:!(!n||!n.iframe&&!n.all),pixelEnabled:!(!n||!n.image&&!n.all)},e,r,i))&&(e=!Array.isArray(e)?[e]:e).forEach(e=>{c.userSync.registerSync(e.type,t.code,e.url)})},"registerSyncs");t.registerSyncInner=_,(0,e.getHook)("checkAdUnitSetup").before(n)},10:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){const{url:r,config:t,id:i,callback:n,loaded:o,adUnitCode:a}=e;this.url=r,this.config=t,this.handlers={},this.id=i,this.loaded=o,this.cmd=[],this.push=e=>{"function"==typeof e&&(this.loaded?e.call():this.cmd.push(e))},this.callback=n||(()=>{this.loaded=!0,this.process()}),this.render=function(){var t,e;t=a,(e=Array.prototype.find.call(pbjs.adUnits,e=>e.code===t))&&e.renderer&&e.renderer.url&&e.renderer.render&&(!c.isBoolean(e.renderer.backupOnly)||!e.renderer.backupOnly)||(0,d.loadExternalScript)(r,"outstream",this.callback),this._render&&this._render.apply(this,arguments)}.bind(this)}Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=s,t.isRendererRequired=function(e){return!(!e||!e.url)},t.executeRenderer=function(e,t){e.render(t)};var d=r(23),c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0));s.install=function({url:e,config:t,id:r,callback:i,loaded:n,adUnitCode:o}){return new s({url:e,config:t,id:r,callback:i,loaded:n,adUnitCode:o})},s.prototype.getConfig=function(){return this.config},s.prototype.setRender=function(e){this._render=e},s.prototype.setEventHandlers=function(e){this.handlers=e},s.prototype.handleVideoEvent=function({eventName:e}){"function"==typeof this.handlers[e]&&this.handlers[e]()},s.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){}}},11:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setupBeforeHookFnOnce=function(e,t,r=15){0===e.getHooks({hook:t}).length&&e.before(t,r)},t.module=function(e,t){i("async",function(e){e.forEach(e=>t(...e))},e)([])},t.submodule=function(e,...r){n(e).before((e,t)=>{t.push(r),e(t)})};let i=(t.getHook=t.hook=void 0,(e=(r=r(35))&&r.__esModule?r:{default:r}).default)({ready:e.default.SYNC|e.default.ASYNC|e.default.QUEUE});t.hook=i;const n=i.get;t.getHook=n},12:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=function(){return window.pbjs},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs")},13:function(e,t,r){function i(t){return function(){var e=t.location.href;return{referer:e,reachedTop:!0,numIframes:0,stack:[e],canonicalUrl:gnt.data.canonicalURL||null}}}Object.defineProperty(t,"__esModule",{value:!0}),t.detectReferer=i,t.getRefererInfo=void 0,e=i(window),t.getRefererInfo=e},14:function(e,t,r){function i(){const a=[],i={addWinningBid:function(t){const e=Array.prototype.find.call(a,e=>e.getAuctionId()===t.auctionId);e&&(t.status=o.BID_STATUS.RENDERED,e.addWinningBid(t))},getAllWinningBids:function(){return a.map(e=>e.getWinningBids()).reduce(n.flatten,[])},getBidsRequested:function(){return a.map(e=>e.getBidRequests()).reduce(n.flatten,[])},getNoBids:function(){return a.map(e=>e.getNoBids()).reduce(n.flatten,[])},getBidsReceived:function(){return a.map(e=>{if(e.getAuctionStatus()===s.AUCTION_COMPLETED)return e.getBidsReceived()}).reduce(n.flatten,[]).filter(e=>e)},getAdUnits:function(){return a.map(e=>e.getAdUnits()).reduce(n.flatten,[])},getAdUnitCodes:function(){return a.map(e=>e.getAdUnitCodes()).reduce(n.flatten,[]).filter(n.uniques)},createAuction:function({adUnits:e,adUnitCodes:t,callback:r,cbTimeout:i,labels:n,auctionId:o}){return e=(0,s.newAuction)({adUnits:e,adUnitCodes:t,callback:r,cbTimeout:i,labels:n,auctionId:o}),a.push(e),e},findBidByAdId:function(t){return Array.prototype.find.call(a.map(e=>e.getBidsReceived()).reduce(n.flatten,[]),e=>e.adId===t)},getStandardBidderAdServerTargeting:function(){return(0,s.getStandardBidderSettings)()[o.JSON_MAPPING.ADSERVER_TARGETING]},setStatusForBids:function(e,t){let r=i.findBidByAdId(e);r&&(r.status=t),r&&t===o.BID_STATUS.BID_TARGETING_SET&&(e=Array.prototype.find.call(a,e=>e.getAuctionId()===r.auctionId))&&e.setBidTargeting(r)},getLastAuctionId:function(){return a.length&&a[a.length-1].getAuctionId()}};return i}Object.defineProperty(t,"__esModule",{value:!0}),t.newAuctionManager=i,t.auctionManager=void 0;var n=r(0),s=r(20);const o=r(5);e=i(),t.auctionManager=e},16:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isValidVideoBid=function(e,t){var r=(t=(0,o.getBidRequest)(e.requestId,t))&&(0,o.deepAccess)(t,"mediaTypes.video"),i=r&&(0,o.deepAccess)(r,"context");return d(e,t,r,i)},t.checkVideoBidSetup=t.hasNonVideoBidder=t.videoBidder=t.videoAdUnit=t.INSTREAM=t.OUTSTREAM=void 0;var i,n=(i=r(9))&&i.__esModule?i:{default:i},o=r(0),a=r(3);e=r(11),t.OUTSTREAM="outstream",t.INSTREAM="instream",t.videoAdUnit=e=>{var t="video"===e.mediaType;return e=(0,o.deepAccess)(e,"mediaTypes.video"),t||e};const s=e=>Array.prototype.includes.call(n.default.videoAdapters,e.bidder);t.videoBidder=s,t.hasNonVideoBidder=e=>e.bids.filter(e=>!s(e)).length;const d=(0,e.hook)("sync",function(e,t,r,i){return!t||r&&"outstream"!==i?!(!a.config.getConfig("cache.url")&&e.vastXml&&!e.vastUrl)&&!(!e.vastUrl&&!e.vastXml):"outstream"!==i||!(!e.renderer&&!t.renderer)},"checkVideoBidSetup");t.checkVideoBidSetup=d},17:function(e,t,r){function i(e,t){var r=t&&t.src||"client",i=e||0;this.bidderCode=t&&t.bidder||"",this.height=this.width=0,this.statusMessage=function(){switch(i){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=n.getUniqueIdentifierStr(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=r,this.getStatusCode=function(){return i},this.getSize=function(){return this.width+"x"+this.height}}Object.defineProperty(t,"__esModule",{value:!0}),t.createBid=function(e,t){return new i(e,t)};var n=r(0)},18:function(e,t,r){function a(e){return"object"==typeof e&&e.url?e.url:e}Object.defineProperty(t,"__esModule",{value:!0}),t.processNativeAdUnitParams=function(e){var t;return(t=(t=e&&e.type)?!(!(t=e.type)||!Array.prototype.includes.call(Object.keys(n),t)):t)?n[e.type]:e},t.nativeBidIsValid=function(t,e){if(!((e=(0,s.getBidRequest)(t.requestId,e))&&(0,s.deepAccess)(t,"native.clickUrl")&&(!(0,s.deepAccess)(t,"native.image")||(0,s.deepAccess)(t,"native.image.height")&&(0,s.deepAccess)(t,"native.image.width"))&&(!(0,s.deepAccess)(t,"native.icon")||(0,s.deepAccess)(t,"native.icon.height")&&(0,s.deepAccess)(t,"native.icon.width"))))return!1;const r=e.nativeParams;if(!r)return!0;e=Object.keys(r).filter(e=>r[e].required);const i=Object.keys(t.native).filter(e=>t.native[e]);return e.every(e=>Array.prototype.includes.call(i,e))},t.fireNativeTrackers=function(e,t){let r;return"click"===e.action?r=t.native&&t.native.clickTrackers:(r=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&(0,s.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(r||[]).forEach(s.triggerPixel),e.action},t.getNativeTargeting=function(i,n){let o={};return Object.keys(i.native).forEach(e=>{var t=d.NATIVE_KEYS[e];let r=a(i.native[e]);(0,s.deepAccess)(n,"mediaTypes.native.".concat(e,".sendId"))&&(r="".concat(t,":").concat(i.adId)),t&&r&&(o[t]=r)}),o},t.getAssetMessage=function(e,r){const i={message:"assetResponse",adId:e.adId,assets:[]};return e.assets.forEach(e=>{e=(0,s.getKeyByValue)(d.NATIVE_KEYS,e);var t=a(r.native[e]);i.assets.push({key:e,value:t})}),i},t.hasNonNativeBidder=t.nativeBidder=t.nativeAdUnit=t.NATIVE_TARGETING_KEYS=t.nativeAdapters=void 0;var s=r(0);const d=r(5),i=[];t.nativeAdapters=i,e=Object.keys(d.NATIVE_KEYS).map(e=>d.NATIVE_KEYS[e]),t.NATIVE_TARGETING_KEYS=e;const n={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};t.nativeAdUnit=e=>{var t="native"===e.mediaType;return e=(0,s.deepAccess)(e,"mediaTypes.native"),t||e},t.nativeBidder=e=>Array.prototype.includes.call(i,e.bidder),t.hasNonNativeBidder=e=>e.bids.filter(e=>!Array.prototype.includes.call(i,e.bidder)).length},2:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NATIVE="native",t.VIDEO="video",t.BANNER="banner",t.ADPOD="adpod"},20:function(e,t,r){function A(e,d){function c(){u--,t&&0===u&&e()}let u=0,t=!1,r=new Set,p={};return{addBidResponse:function(e,t){p[t.requestId]=!0,u++;var r,i,n,o,a,s=d.getAuctionId();[{adUnitCode:r,bid:i,bidderRequest:n,auctionId:a}]=[{adUnitCode:e,bid:t,bidderRequest:this,auctionId:s}],o=n.start,(a=Object.assign({},i,{auctionId:a,responseTimestamp:(0,w.timestamp)(),requestTimestamp:o,cpm:parseFloat(i.cpm)||0,bidder:i.bidderCode,adUnitCode:r})).timeToRespond=a.responseTimestamp-a.requestTimestamp,B.emit(k.EVENTS.BID_ADJUSTMENT,a),!(o=(n=n.bids&&Array.prototype.find.call(n.bids,e=>e.adUnitCode==r))&&n.renderer)||!o.url||o.backupOnly&&(0,w.isBoolean)(o.backupOnly)&&i.renderer||(a.renderer=m.Renderer.install({url:o.url}),a.renderer.setRender(o.render)),i=f(i.mediaType,n,R.config.getConfig("mediaTypePriceGranularity")),i=(0,g.getPriceBucketString)(a.cpm,"object"==typeof i?i:R.config.getConfig("customPriceBucket"),R.config.getConfig("currency.granularityMultiplier")),a.pbLg=i.low,a.pbMg=i.med,a.pbHg=i.high,a.pbAg=i.auto,a.pbDg=i.dense,a.pbCg=i.custom,"video"===(e=a).mediaType?(t=!0,a=(a=(s=(0,w.getBidRequest)(e.requestId,[this]))&&(0,w.deepAccess)(s,"mediaTypes.video"))&&(0,w.deepAccess)(a,"context"),R.config.getConfig("cache.url")&&a!==h.OUTSTREAM&&(e.videoCacheKey?e.vastUrl||(t=!1):(t=!1,y(d,e,c,s))),t&&(l(d,e),c())):(l(d,e),c())},adapterDone:function(){r.add(this),t=d.getBidRequests().every(e=>r.has(e)),this.bids.forEach(e=>{p[e.bidId]||(d.addNoBid(e),B.emit(k.EVENTS.NO_BID,e))}),t&&0===u&&e()}}}function o(e,t){t.timeToRespond>e.getTimeout()+R.config.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function l(e,t){var r=e.getBidRequests(),r=Array.prototype.find.call(r,e=>e.bidderCode===t.bidderCode);(function(t,e){let r;t.bidderCode&&(0<t.cpm||t.dealId)&&(e=Array.prototype.find.call(e.bids,e=>e.adUnitCode===t.adUnitCode),r=i(t.bidderCode,t,e)),t.adserverTargeting=Object.assign(t.adserverTargeting||{},r)})(t,r),B.emit(k.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),o(e,t)}function f(e,t,r){if(e&&r)return e===p.VIDEO&&(t=(0,w.deepAccess)(t,"mediaTypes.".concat(p.VIDEO,".context"),"instream"),r["".concat(p.VIDEO,"-").concat(t)])?r["".concat(p.VIDEO,"-").concat(t)]:r[e]}function a(e,t,r){function i(e,t){return{key:e,val:"function"==typeof t?function(e){return t(e)}:function(e){return e[t]}}}const n=k.TARGETING_KEYS;r=v(e,r);let o=pbjs.bidderSettings;if(o[k.JSON_MAPPING.BD_SETTING_STANDARD]||(o[k.JSON_MAPPING.BD_SETTING_STANDARD]={}),o[k.JSON_MAPPING.BD_SETTING_STANDARD][k.JSON_MAPPING.ADSERVER_TARGETING]||(o[k.JSON_MAPPING.BD_SETTING_STANDARD][k.JSON_MAPPING.ADSERVER_TARGETING]=[i(n.BIDDER,"bidderCode"),i(n.AD_ID,"adId"),i(n.PRICE_BUCKET,b(r)),i(n.SIZE,"size"),i(n.DEAL,"dealId"),i(n.SOURCE,"source"),i(n.FORMAT,"mediaType")]),"video"===e){const e=o[k.JSON_MAPPING.BD_SETTING_STANDARD][k.JSON_MAPPING.ADSERVER_TARGETING];if([n.UUID,n.CACHE_ID].forEach(t=>{void 0===Array.prototype.find.call(e,e=>e.key===t)&&e.push(i(t,"videoCacheKey"))}),R.config.getConfig("cache.url")&&(!t||!1!==x.deepAccess(o,"".concat(t,".sendStandardTargeting")))){const o=(0,w.parseUrl)(R.config.getConfig("cache.url"));void 0===Array.prototype.find.call(e,e=>e.key===n.CACHE_HOST)&&e.push(i(n.CACHE_HOST,function(e){return x.deepAccess(e,"adserverTargeting.".concat(n.CACHE_HOST))?e.adserverTargeting[n.CACHE_HOST]:o.hostname}))}}return o[k.JSON_MAPPING.BD_SETTING_STANDARD]}function i(e,t,r){if(!t)return{};var i={},n=pbjs.bidderSettings;return n&&(s(i,a(t.mediaType,e,r),t),e&&n[e]&&n[e][k.JSON_MAPPING.ADSERVER_TARGETING]&&(s(i,n[e],t),t.sendStandardTargeting=n[e].sendStandardTargeting)),i=t.native?Object.assign({},i,(0,d.getNativeTargeting)(t,r)):i}function s(r,i,n){var e=i[k.JSON_MAPPING.ADSERVER_TARGETING];return n.size=n.getSize(),x._each(e,function(e){var t=e.key;if(e=e.val,x.isFn(e))try{e=e(n)}catch(e){}((void 0===i.suppressEmptyKeys||!0!==i.suppressEmptyKeys)&&t!==k.TARGETING_KEYS.DEAL||""!==e&&null!=e)&&(r[t]=e)}),r}function n(e){let t=e.bidderCode,r=e.cpm,i;if(pbjs.bidderSettings&&(t&&pbjs.bidderSettings[t]&&"function"==typeof pbjs.bidderSettings[t].bidCpmAdjustment?i=pbjs.bidderSettings[t].bidCpmAdjustment:pbjs.bidderSettings[k.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[k.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(i=pbjs.bidderSettings[k.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),i))try{r=i(e.cpm,Object.assign({},e))}catch(e){}0<=r&&(e.cpm=r)}function O(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.newAuction=function({adUnits:n,adUnitCodes:e,callback:t,cbTimeout:r,labels:i,auctionId:o}){function a(){return{auctionId:b,timestamp:y,auctionEnd:v,auctionStatus:I,adUnits:p,adUnitCodes:f,labels:l,bidderRequests:g,noBids:h,bidsReceived:m,winningBids:S,timeout:C}}function s(r,e){if(e&&clearTimeout(E),void 0===v){let t=[];r&&(t=(e=g,i=T,e.map(e=>(e.bids||[]).filter(e=>!i.has(e.bidder))).reduce(w.flatten,[]).map(e=>({bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}))),t.length&&B.emit(k.EVENTS.BID_TIMEOUT,t)),I="completed",v=Date.now(),B.emit(k.EVENTS.AUCTION_END,a()),z(p,function(){try{var e;null!=_&&(e=m.filter(x.bind.call(w.adUnitsFilter,this,f)).reduce(O,{}),_.apply(pbjs,[e,r,b]),_=null)}catch(e){}finally{t.length&&D.callTimedOutBidders(n,t,C),(e=R.config.getConfig("userSync")||{}).enableOverride||P(e.syncDelay)}})}var i}function d(){s(!(I="completed"),!0)}function c(e){T.add(e)}function u(r){function i(e){let i=!0,n=R.config.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some(e=>{let t=1,r=void 0!==e.src&&e.src===k.S2S.SRC?"s2s":e.bidderCode;return U[r]&&(!1===U[r].SRA&&(t=Math.min(e.bids.length,n)),N[U[r].origin]+t>n&&(i=!1)),!i}),i&&e.run(),i}function n(e,t){void 0===e[t]?e[t]=1:e[t]++}r.forEach(e=>{g=g.concat(e)});let o={},e={bidRequests:r,run:()=>{var e;e=s.bind(null,!0),E=setTimeout(e,C),I="inProgress",B.emit(k.EVENTS.AUCTION_INIT,a());let t=A(d,this);D.callBids(p,r,function(...e){j.apply({dispatch:t.addBidResponse,bidderRequest:this},e)},t.adapterDone,{request(e,t){n(N,t),n(o,e),U[e]||(U[e]={SRA:!0,origin:t}),1<o[e]&&(U[e].SRA=!1)},done(e){N[e]--,M[0]&&i(M[0])&&M.shift()}},C,c)}};i(e)||M.push(e)}let p=n,l=i,f=e,g=[],m=[],h=[],y,v,b=o||x.generateUUID(),I,_=t,E,C=r,S=[],T=new Set;return{addBidReceived:function(e){m=m.concat(e)},addNoBid:function(e){h=h.concat(e)},executeCallback:s,callBids:function(){I="started",y=Date.now();var e=D.makeBidRequests(p,y,b,C,l);e.length<1?d():q.call({dispatch:u,context:this},e)},addWinningBid:function(e){S=S.concat(e),D.callBidWonBidder(e.bidder,e,n)},setBidTargeting:function(e){D.callSetTargetingBidder(e.bidder,e)},getWinningBids:()=>S,getTimeout:()=>C,getAuctionId:()=>b,getAuctionStatus:()=>I,getAdUnits:()=>p,getAdUnitCodes:()=>f,getBidRequests:()=>g,getBidsReceived:()=>m,getNoBids:()=>h}},t.auctionCallbacks=A,t.doCallbacksIfTimedout=o,t.addBidToAuction=l,t.getMediaTypeGranularity=f,t.getStandardBidderSettings=a,t.getKeyValueTargetingPairs=i,t.adjustBids=n,t.getPriceByGranularity=t.getPriceGranularity=t.callPrebidCache=t.bidsBackCallback=t.addBidderRequests=t.addBidResponse=t.AUCTION_COMPLETED=t.AUCTION_IN_PROGRESS=t.AUCTION_STARTED=void 0;var w=r(0),g=r(24),d=r(18),c=r(30),m=r(10),R=r(3);e=r(22);var u=r(11),h=r(16),p=r(2);const P=e.userSync["syncUsers"],x=r(0),D=r(9).default,B=r(8),k=r(5);t.AUCTION_STARTED="started",t.AUCTION_IN_PROGRESS="inProgress",t.AUCTION_COMPLETED="completed",B.on(k.EVENTS.BID_ADJUSTMENT,function(e){n(e)});const N={},U={},M=[],j=(0,u.hook)("async",function(e,t){this.dispatch.call(this.bidderRequest,e,t)},"addBidResponse");t.addBidResponse=j;const q=(0,u.hook)("sync",function(e){this.dispatch.call(this.context,e)},"addBidderRequests");t.addBidderRequests=q;const z=(0,u.hook)("async",function(e,t){t&&t()},"bidsBackCallback");t.bidsBackCallback=z;const y=(0,u.hook)("async",function(r,i,n,e){(0,c.store)([i],function(e,t){e||""===t[0].uuid?o(r,i):(i.videoCacheKey=t[0].uuid,i.vastUrl||(i.vastUrl=(0,c.getCacheUrl)(i.videoCacheKey)),l(r,i),n())},e)},"callPrebidCache");t.callPrebidCache=y;const v=(e,t)=>(t=f(e,t,R.config.getConfig("mediaTypePriceGranularity")),"string"==typeof e&&t?"string"==typeof t?t:"custom":R.config.getConfig("priceGranularity"));t.getPriceGranularity=v;const b=t=>e=>t===k.GRANULARITY_OPTIONS.AUTO?e.pbAg:t===k.GRANULARITY_OPTIONS.DENSE?e.pbDg:t===k.GRANULARITY_OPTIONS.LOW?e.pbLg:t===k.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:t===k.GRANULARITY_OPTIONS.HIGH?e.pbHg:t===k.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0;t.getPriceByGranularity=b},21:function(e,t,r){function g(e,i,n=0){const o=[],a=y.config.getConfig("sendBidsControl.dealPrioritization");let s=(0,h.groupBy)(e,"adUnitCode");return Object.keys(s).forEach(e=>{let t=[],r=(0,h.groupBy)(s[e],"bidderCode");Object.keys(r).forEach(e=>t.push(r[e].reduce(i))),0<n?(t=a?t.sort(m(!0)):t.sort((e,t)=>t.cpm-e.cpm),o.push(...t.slice(0,n))):o.push(...t)}),o}function m(r=!1){return function(e,t){return void 0!==e.adserverTargeting.hb_deal&&void 0===t.adserverTargeting.hb_deal?-1:void 0===e.adserverTargeting.hb_deal&&void 0!==t.adserverTargeting.hb_deal?1:r?t.cpm-e.cpm:t.adserverTargeting.hb_pb-e.adserverTargeting.hb_pb}}function i(i){function n(e,t){return e.adserverTargeting&&t&&(_.isArray(t)&&Array.prototype.includes.call(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function o(e,a){let s=(0,h.deepClone)(e);return Object.keys(s).map(e=>({adUnitCode:e,adserverTargeting:s[e]})).sort(m()).reduce(function(e,t,r,i){var n,o=(n=t.adserverTargeting,Object.keys(n).reduce(function(e,t){return e+(t="".concat(t,"%3d").concat(encodeURIComponent(n[t]),"%26"))},""));return r+1===i.length&&(o=o.slice(0,-3)),t=t.adUnitCode,(o=o.length)<=a&&(a-=o,e[t]=s[t]),r+1===i.length&&Object.keys(e),e},{})}function a(e){return"string"==typeof e?[e]:_.isArray(e)?e:i.getAdUnitCodes()||[]}function s(){let e=i.getBidsReceived();return y.config.getConfig("useBidCache")||(e=e.filter(e=>f[e.adUnitCode]===e.auctionId)),e=e.filter(e=>(0,h.deepAccess)(e,"video.context")!==I.ADPOD).filter(e=>"banner"!==e.mediaType||(0,b.sizeSupported)([e.width,e.height])).filter(T.isUnusedBid).filter(T.isBidNotExpired),g(e,h.getOldestHighestCpmBid)}function d(){return i.getStandardBidderAdServerTargeting().map(e=>e.key).concat(S).filter(h.uniques)}function c(i,n,e,t){return Object.keys(n.adserverTargeting).filter(r()).forEach(e=>{var t,r;i.length&&i.filter((r=e,function(e){return e.adUnitCode===n.adUnitCode&&e.adserverTargeting[r]})).forEach((t=e,function(e){_.isArray(e.adserverTargeting[t])||(e.adserverTargeting[t]=[e.adserverTargeting[t]]),e.adserverTargeting[t]=e.adserverTargeting[t].concat(n.adserverTargeting[t]).filter(h.uniques),delete n.adserverTargeting[t]}))}),i.push(n),i}function r(){let t=d().concat(v.NATIVE_TARGETING_KEYS);return function(e){return-1===t.indexOf(e)}}function u(t){return{[t.adUnitCode]:Object.keys(t.adserverTargeting).filter(r()).map(e=>({[e.substring(0,20)]:[t.adserverTargeting[e]]}))}}function p(t,e){return e.map(e=>({["".concat(e,"_").concat(t.bidderCode).substring(0,20)]:[t.adserverTargeting[e]]}))}let l={},f={};return l.setLatestAuctionForAdUnit=function(e,t){f[e]=t},l.resetPresetTargeting=function(e,t){if((0,h.isGptPubadsDefined)()){const r=a(e),n=i.getAdUnits().filter(e=>Array.prototype.includes.call(r,e.code));window.googletag.pubads().getSlots().forEach(r=>{let i=_.isFn(t)&&t(r);C.forEach(function(t){n.forEach(function(e){(e.code===r.getAdUnitPath()||e.code===r.getSlotElementId()||_.isFn(i)&&i(e.code))&&r.setTargeting(t,null)})})})}},l.resetPresetTargetingAST=function(e){a(e).forEach(function(e){const t=window.apntag.getTag(e);if(t&&t.keywords){const r={};Object.keys(t.keywords).forEach(e=>{Array.prototype.includes.call(C,e.toLowerCase())||(r[e]=t.keywords[e])}),window.apntag.modifyTag(e,{keywords:r})}})},l.getAllTargeting=function(e,t=s()){var r,i=function(e,t){e=l.getWinningBids(e,t);let r=d();return e.map(n=>({[n.adUnitCode]:Object.keys(n.adserverTargeting).filter(e=>void 0===n.sendStandardTargeting||n.sendStandardTargeting||-1===r.indexOf(e)).reduce((e,t)=>{var r=[n.adserverTargeting[t]],i={[t.substring(0,20)]:r};return t===E.TARGETING_KEYS.DEAL?(t={["".concat(t,"_").concat(n.bidderCode).substring(0,20)]:r},[...e,i,t]):[...e,i]},[])}))}(e=a(e),t).concat((r=e,t.filter(e=>Array.prototype.includes.call(r,e.adUnitCode)).map(e=>Object.assign({},e)).reduce(c,[]).map(u).filter(e=>e))).concat((y.config.getConfig("enableSendAllBids")?function(e,t){const r=S.concat(v.NATIVE_TARGETING_KEYS),i=y.config.getConfig("sendBidsControl.bidLimit");return g(t,h.getHighestCpm,i).map(t=>{if(n(t,e))return{[t.adUnitCode]:p(t,r.filter(e=>void 0!==t.adserverTargeting[e]))}}).filter(e=>e)}:function(e,t){if(!0!==y.config.getConfig("targetingControls.alwaysIncludeDeals"))return[];{const r=S.concat(v.NATIVE_TARGETING_KEYS);return g(t,h.getHighestCpm).map(t=>{if(t.dealId&&n(t,e))return{[t.adUnitCode]:p(t,r.filter(e=>void 0!==t.adserverTargeting[e]))}}).filter(e=>e)}})(e,t));return i.map(t=>{Object.keys(t).map(e=>{t[e].map(e=>{-1===C.indexOf(Object.keys(e)[0])&&(C=Object.keys(e).concat(C))})})}),i=i.map(e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].map(e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].join(", ")})).reduce((e,t)=>Object.assign(t,e),{})})).reduce(function(e,t){var r=Object.keys(t)[0];return e[r]=Object.assign({},e[r],t[r]),e},{}),(t=y.config.getConfig("targetingControls.auctionKeyMaxChars"))&&(i=o(i,t)),e.forEach(e=>{i[e]||(i[e]={})}),i},l.setTargetingForGPT=function(n,e){window.googletag.pubads().getSlots().forEach(i=>{Object.keys(n).filter((e||h.isAdUnitCodeMatchingSlot)(i)).forEach(r=>Object.keys(n[r]).forEach(t=>{let e=n[r][t];"string"==typeof e&&(e=e.split(",")),e=1<e.length?[e]:e,e.map(e=>e).forEach(e=>{i.setTargeting(t,e)})}))})},l.getWinningBids=function(e,r=s()){const t=a(e);return r.filter(e=>Array.prototype.includes.call(t,e.adUnitCode)).filter(e=>0<e.cpm).map(e=>e.adUnitCode).filter(h.uniques).map(t=>r.filter(e=>e.adUnitCode===t?e:null).reduce(h.getHighestCpm))},l.setTargetingForAst=function(e){let i=l.getAllTargeting(e);try{l.resetPresetTargetingAST(e)}catch(e){}Object.keys(i).forEach(r=>Object.keys(i[r]).forEach(t=>{if(_.isStr(i[r][t])||_.isArray(i[r][t])){let e={};t.search(/pt[0-9]/)<0?e[t.toUpperCase()]=i[r][t]:e[t]=i[r][t],window.apntag.setKeywords(r,e,{overrideKeyValue:!0})}}))},l.isApntagDefined=function(){if(window.apntag&&_.isFn(window.apntag.setKeywords))return!0},l}Object.defineProperty(t,"__esModule",{value:!0}),t.getHighestCpmBidsFromBidPool=g,t.sortByDealAndPriceBucketOrCpm=m,t.newTargeting=i,t.targeting=t.filters=t.TARGETING_KEYS=void 0;var h=r(0),y=r(3),v=r(18);e=r(14);var b=r(29),I=r(2);const _=r(0);var E=r(5),C=[];const S=Object.keys(E.TARGETING_KEYS).map(e=>E.TARGETING_KEYS[e]);t.TARGETING_KEYS=S;let T={isBidNotExpired:e=>e.responseTimestamp+1e3*e.ttl+1e3>(0,h.timestamp)(),isUnusedBid:e=>e&&(e.status&&!Array.prototype.includes.call([E.BID_STATUS.RENDERED],e.status)||!e.status)};t.filters=T,r=i(e.auctionManager),t.targeting=r},22:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(e){function t(){if(c.syncEnabled&&e.browserSupportsCookies){try{d.image&&r(o.image,e=>{[,e]=e,u.triggerPixel(e)}),d.iframe&&r(o.iframe,e=>{[,e]=e,u.insertUserSyncIframe(e)})}catch(e){}o={image:[],iframe:[]}}}function r(e,t){u.shuffle(e).forEach(e=>{t(e),a.add(e[0])})}function i(e,t){var r,i,n=c.filterSettings;return i=e,!((r=n).all&&r[i]||!(i=r.all||r[i])||(r=i.filter,i=i.bidders,r&&"include"!==r&&"exclude"!==r||!("*"===i||Array.isArray(i)&&0<i.length&&i.every(e=>u.isStr(e)&&"*"!==e))))&&(d[e]=!0,{include:(e,t)=>!Array.prototype.includes.call(e,t),exclude:(e,t)=>Array.prototype.includes.call(e,t)}[(e=n.all||n[e]).filter||"include"]("*"===e.bidders?[t]:e.bidders,t))}let n={},o={image:[],iframe:[]},a=new Set,s={},d={image:!0,iframe:!1},c=e.config;return p.config.getConfig("userSync",e=>{var t;e.userSync&&(t=e.userSync.filterSettings,!u.isPlainObject(t)||t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"})),c=Object.assign(c,e.userSync)}),n.registerSync=(e,t,r)=>{a.has(t),c.syncEnabled&&u.isArray(o[e]),n.canBidderRegisterSync(e,t),o[e].push([t,r]),(e=s)[t]=e[t]?e[t]+1:1,s=e},n.syncUsers=(e=0)=>{if(e)return setTimeout(t,Number(e));t()},n.triggerUserSyncs=()=>{c.enableOverride&&n.syncUsers()},n.canBidderRegisterSync=(e,t)=>!c.filterSettings||!i(e,t),n}Object.defineProperty(t,"__esModule",{value:!0}),t.newUserSync=i,t.userSync=t.USERSYNC_DEFAULT_CONFIG=void 0;var u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0)),p=r(3);e=r(7),t.USERSYNC_DEFAULT_CONFIG=r={syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0},p.config.setDefaults({userSync:u.deepClone(r)}),e=(0,e.getCoreStorageManager)("usersync"),e=!u.isSafariBrowser()&&e.cookiesAreEnabled(),e=i({config:p.config.getConfig("userSync"),browserSupportsCookies:e}),t.userSync=e},23:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.loadExternalScript=function(t,e,r){if(e&&t&&Array.prototype.includes.call(d,e))return s[t]?(r&&"function"==typeof r&&(s[t].loaded?r():s[t].callbacks.push(r)),s[t].tag):(s[t]={loaded:!1,tag:null,callbacks:[]},r&&"function"==typeof r&&s[t].callbacks.push(r),r=t,i=function(){s[t].loaded=!0;try{for(let e=0;e<s[t].callbacks.length;e++)s[t].callbacks[e]()}catch(e){}},(n=document.createElement("script")).type="text/javascript",n.crossOrigin=!0,n.async=!0,(s[t].tag=n).readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,i())}:n.onload=function(){i()},n.src=r,o.insertElement(n),n);var i,n};var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0));const s={},d=["criteo","outstream","adagio","browsi"]},24:function(e,t,r){function n(e,t,r){let i="";if(!u(t))return i;const n=t.buckets.reduce((e,t)=>e.max>t.max?e:t,{max:0});let o=0;var a,s,d,c;return(t=Array.prototype.find.call(t.buckets,t=>{if(e>n.max*r){let e=t.precision;void 0===e&&(e=2),i=(t.max*r).toFixed(e)}else{if(e<=t.max*r&&e>=o*r)return t.min=o,t;o=t.max}}))&&(i=(a=e,d=r,c=void 0!==(s=t).precision?s.precision:2,t=s.increment*d,s=s.min*d,d=Math.pow(10,c+2),a=Math.floor((a*d-s*d)/(t*d))*t+s,(a=Number(a.toFixed(10))).toFixed(c))),i}function u(e){if(i.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;let t=!0;return e.buckets.forEach(e=>{e.max&&e.increment||(t=!1)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPriceBucketString=function(e,t,r=1){let i=parseFloat(e);return isNaN(i)&&(i=""),{low:""===i?"":n(e,o,r),med:""===i?"":n(e,a,r),high:""===i?"":n(e,s,r),auto:""===i?"":n(e,c,r),dense:""===i?"":n(e,d,r),custom:""===i?"":n(e,t,r)}},t.isValidPriceConfig=u;const i=r(0),o={buckets:[{max:5,increment:.5}]},a={buckets:[{max:20,increment:.1}]},s={buckets:[{max:20,increment:.01}]},d={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},c={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]}},25:function(e,t,r){function i(e,t,r){return e=o[e]=o[e]||{bidders:{}},(r=r?e.bidders[r]=e.bidders[r]||{}:e)[t]=(r[t]||0)+1,r[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.adunitCounter=void 0;var n=r(0);let o={};t.adunitCounter={incrementRequestsCounter:function(e){return i(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return i(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return i(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,n.deepAccess)(o,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return(0,n.deepAccess)(o,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return(0,n.deepAccess)(o,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},26:function(e,t,r){function u(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function i(e,t){let r=[];return A.isArray(e)&&(t?e.length===t:0<e.length)&&(e.every(e=>(0,f.isArrayOfNums)(e,2))?r=e:(0,f.isArrayOfNums)(e,2)&&r.push(e)),r}function a(e){const t=(e=A.deepClone(e)).mediaTypes.banner,r=i(t.sizes);return 0<r.length?(t.sizes=r,e.sizes=r):delete e.mediaTypes.banner,e}function s(e){const t=(e=A.deepClone(e)).mediaTypes.video;var r;return t.playerSize&&(0<(r=i(t.playerSize,"number"==typeof t.playerSize[0]?2:1)).length?(t.playerSize=r,e.sizes=r):delete e.mediaTypes.video.playerSize),e}function d(e){var t=(e=A.deepClone(e)).mediaTypes.native;return t.image&&t.image.sizes&&!Array.isArray(t.image.sizes)&&delete e.mediaTypes.native.image.sizes,t.image&&t.image.aspect_ratios&&!Array.isArray(t.image.aspect_ratios)&&delete e.mediaTypes.native.image.aspect_ratios,t.icon&&t.icon.sizes&&!Array.isArray(t.icon.sizes)&&delete e.mediaTypes.native.icon.sizes,e}function n(e){const r=y.auctionManager[e]().filter(A.bind.call(f.adUnitsFilter,this,y.auctionManager.getAdUnitCodes())),i=y.auctionManager.getLastAuctionId();return r.map(e=>e.adUnitCode).filter(f.uniques).map(t=>r.filter(e=>e.auctionId===i&&e.adUnitCode===t)).filter(e=>e&&e[0]&&e[0].adUnitCode).map(e=>({[e[0].adUnitCode]:{bids:e}})).reduce((e,t)=>Object.assign(e,t),{})}function p({reason:e,message:t,bid:r,id:i}){e={reason:e,message:t},r&&(e.bid=r),i&&(e.adId=i),w.emit(B,e)}function o(e,t){for(var r,i=C.storageCallbacks;r=i.shift();)r();for(i=F;r=i.shift();)r();e.call(this,t)}function c(e){e.forEach(function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){}})}Object.defineProperty(t,"__esModule",{value:!0}),t.executeCallbacks=o,t.default=t.checkAdUnitSetup=t.adUnitSetupChecks=void 0;var l=r(12),f=r(0),g=r(97),m=r(22),h=r(3),y=r(14),v=r(21),b=r(11);e=r(98);var I=r(25),_=r(10),E=r(17),C=r(7);const S=(0,l.getGlobal)(),T=r(5),A=r(0),O=r(9).default,w=r(8);r=m.userSync.triggerUserSyncs;const{ADD_AD_UNITS:R,BID_WON:P,REQUEST_BIDS:x,SET_TARGETING:D,AD_RENDER_FAILED:B}=T.EVENTS,{PREVENT_WRITING_ON_MAIN_DOCUMENT:k,NO_AD:N,EXCEPTION:U,CANNOT_FIND_AD:M,MISSING_DOC_OR_ADID:j}=T.AD_RENDER_FAILED_REASON,q={bidWon:function(e){var t=y.auctionManager.getBidsRequested().map(e=>e.bids.map(e=>e.adUnitCode)).reduce(f.flatten).filter(f.uniques);if(A.contains(t,e))return!0}};(0,e.sessionLoader)(),S.bidderSettings=S.bidderSettings||{},S.libLoaded=!0,S.version="v4.8.0",S.adUnits=S.adUnits||[],S.triggerUserSyncs=r,t.adUnitSetupChecks={validateBannerMediaType:a,validateVideoMediaType:s,validateNativeMediaType:d,validateSizes:i};const z=(0,b.hook)("sync",function(e){const o=[];return e.forEach(e=>{var t=e.mediaTypes;let r,i,n;t&&0!==Object.keys(t).length&&(t.banner&&(r=a(e)),t.video&&(i=r?s(r):s(e)),t.native&&(n=i?d(i):r?d(r):d(e)),e=Object.assign({},r,i,n),o.push(e))}),o},"checkAdUnitSetup");t.checkAdUnitSetup=z,S.getAdserverTargetingForAdUnitCodeStr=function(e){if(e)return e=S.getAdserverTargetingForAdUnitCode(e),A.transformAdServerTargetingObj(e)},S.getAdserverTargetingForAdUnitCode=function(e){return S.getAdserverTargeting(e)[e]},S.getAdserverTargeting=function(e){return v.targeting.getAllTargeting(e)},S.getNoBids=function(){return n("getNoBids")},S.getBidResponses=function(){return n("getBidsReceived")},S.getBidResponsesForAdUnitCode=function(t){return{bids:y.auctionManager.getBidsReceived().filter(e=>e.adUnitCode===t)}},S.setTargetingForGPTAsync=function(e,t){var r;(0,f.isGptPubadsDefined)()&&(r=v.targeting.getAllTargeting(e),v.targeting.resetPresetTargeting(e,t),v.targeting.setTargetingForGPT(r,t),Object.keys(r).forEach(t=>{Object.keys(r[t]).forEach(e=>{"hb_adid"===e&&y.auctionManager.setStatusForBids(r[t][e],T.BID_STATUS.BID_TARGETING_SET)})}),w.emit(D,r))},S.setTargetingForAst=function(e){v.targeting.isApntagDefined()&&(v.targeting.setTargetingForAst(e),w.emit(D,v.targeting.getAllTargeting()))},S.renderAd=function(t,r){if(t&&r)try{const c=y.auctionManager.findBidByAdId(r);if(c){c.ad=A.replaceAuctionPrice(c.ad,c.cpm),c.adUrl=A.replaceAuctionPrice(c.adUrl,c.cpm),y.auctionManager.addWinningBid(c),w.emit(P,c);var{height:e,width:i,ad:n,mediaType:o,adUrl:a,renderer:s}=c,d=document.createComment("Creative ".concat(c.creativeId," served by ").concat(c.bidder," Prebid.js Header Bidding"));if(A.insertElement(d,t,"body"),(0,_.isRendererRequired)(s))(0,_.executeRenderer)(s,c);else if(t===document&&!A.inIframe()||"video"===o){const t="Error trying to write ad. Ad render call ad id ".concat(r," was prevented from writing to the main document.");p({reason:k,message:t,bid:c,id:r})}else if(n)t.write(n),t.close(),u(t,i,e),A.callBurl(c);else if(a){const r=A.createInvisibleIframe();r.height=e,r.width=i,r.style.display="inline",r.style.overflow="hidden",r.src=a,A.insertElement(r,t,"body"),u(t,i,e),A.callBurl(c)}else{const t="Error trying to write ad. No ad for bid response id: ".concat(r);p({reason:N,message:t,bid:c,id:r})}}else{const t="Error trying to write ad. Cannot find ad by given id : ".concat(r);p({reason:M,message:t,id:r})}}catch(e){t="Error trying to write ad Id :".concat(r," to the page:").concat(e.message),p({reason:U,message:t,id:r})}else t="Error trying to write ad Id :".concat(r," to the page. Missing document or adId"),p({reason:j,message:t,id:r})},S.removeAdUnit=function(e){e?(A.isArray(e)?e:[e]).forEach(t=>{for(let e=S.adUnits.length-1;0<=e;e--)S.adUnits[e].code===t&&S.adUnits.splice(e,1)}):S.adUnits=[]},S.requestBids=(0,b.hook)("async",function({bidsBackHandler:e,timeout:t,adUnits:r,adUnitCodes:i,labels:n,auctionId:o}={}){if(w.emit(x),t=t||h.config.getConfig("bidderTimeout"),r=r||S.adUnits,r=z(r),i&&i.length?r=r.filter(e=>Array.prototype.includes.call(i,e.code)):i=r&&r.map(e=>e.code),r.forEach(i=>{const n=Object.keys(i.mediaTypes||{banner:"banner"});var e=i.bids.map(e=>e.bidder);const o=O.bidderRegistry,t=h.config.getConfig("s2sConfig"),r=t&&t.bidders;e=r?e.filter(e=>!Array.prototype.includes.call(r,e)):e,i.transactionId=A.generateUUID(),e.forEach(t=>{var e=o[t];const r=(e=e&&e.getSpec&&e.getSpec())&&e.supportedMediaTypes||["banner"];n.some(e=>Array.prototype.includes.call(r,e))?I.adunitCounter.incrementBidderRequestsCounter(i.code,t):i.bids=i.bids.filter(e=>e.bidder!==t)}),I.adunitCounter.incrementRequestsCounter(i.code)}),r&&0!==r.length){var a=y.auctionManager.createAuction({adUnits:r,adUnitCodes:i,callback:e,cbTimeout:t,labels:n,auctionId:o});i.forEach(e=>v.targeting.setLatestAuctionForAdUnit(e,a.getAuctionId())),a.callBids()}else if("function"==typeof e)try{e()}catch(e){}}),S.requestBids.before(o,49),S.addAdUnits=function(e){A.isArray(e)?S.adUnits.push.apply(S.adUnits,e):"object"==typeof e&&S.adUnits.push(e),w.emit(R)},S.onEvent=function(e,t,r){!A.isFn(t)||r&&!q[e].call(null,r)||w.on(e,t,r)},S.offEvent=function(e,t,r){r&&!q[e].call(null,r)||w.off(e,t,r)},S.getEvents=function(){return w.getEvents()},S.registerBidAdapter=function(e,t){try{O.registerBidAdapter(e(),t)}catch(e){}},S.registerAnalyticsAdapter=function(e){try{O.registerAnalyticsAdapter(e)}catch(e){}},S.createBid=function(e){return(0,E.createBid)(e)};const F=[],G=(0,b.hook)("async",function(e){e&&!A.isEmpty(e)&&O.enableAnalytics(e)},"enableAnalyticsCb");S.enableAnalytics=function(e){F.push(G.bind(this,e))},S.aliasBidder=function(e,t,r){e&&t&&O.aliasBidAdapter(e,t,r)},S.getAllWinningBids=function(){return y.auctionManager.getAllWinningBids()},S.getAllPrebidWinningBids=function(){return y.auctionManager.getBidsReceived().filter(e=>e.status===T.BID_STATUS.BID_TARGETING_SET)},S.getHighestCpmBids=function(e){return v.targeting.getWinningBids(e)},S.markWinningBidAsUsed=function(t){let e=[];t.adUnitCode&&t.adId?e=y.auctionManager.getBidsReceived().filter(e=>e.adId===t.adId&&e.adUnitCode===t.adUnitCode):t.adUnitCode?e=v.targeting.getWinningBids(t.adUnitCode):t.adId&&(e=y.auctionManager.getBidsReceived().filter(e=>e.adId===t.adId)),0<e.length&&(e[0].status=T.BID_STATUS.RENDERED)},S.getConfig=h.config.getConfig,S.setConfig=h.config.setConfig,S.setBidderConfig=h.config.setBidderConfig,S.que.push(()=>(0,g.listenMessagesFromCreative)()),S.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){}},S.que.push=S.cmd.push,S.processQueue=function(){b.hook.ready(),c(S.que),c(S.cmd)},t.default=S},27:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.registerVideoSupport=function(t,r){i.adServers=i.adServers||{},i.adServers[t]=i.adServers[t]||{},Object.keys(r).forEach(e=>{i.adServers[t][e]||(i.adServers[t][e]=r[e])})},e=r(12),r(0);const i=(0,e.getGlobal)()},28:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}},29:function(e,t,r){function s(e){return e.reduce((r,i)=>{if("object"==typeof i&&"string"==typeof i.mediaQuery){let t=!1;if(""===i.mediaQuery)t=!0;else try{t=window.top.matchMedia(i.mediaQuery).matches}catch(e){t=matchMedia(i.mediaQuery).matches}t&&(Array.isArray(i.sizesSupported)&&(r.shouldFilter=!0),["labels","sizesSupported"].forEach(t=>(i[t]||[]).forEach(e=>r[t][e]=!0)))}return r},{labels:{},sizesSupported:{},shouldFilter:!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.setSizeConfig=function(e){c=e},t.getLabels=function(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}},t.sizeSupported=function(e,t=c){return!(t=s(t)).shouldFilter||!!t.sizesSupported[e]},t.resolveStatus=function({labels:e=[],labelAll:t=!1,activeLabels:r=[]}={},i,n,o=c){let a=s(o);return i=(0,d.isPlainObject)(i)?(0,d.deepClone)(i):n?{banner:{sizes:n}}:{},n=(0,d.deepAccess)(i,"banner.sizes"),a.shouldFilter&&n&&(i.banner.sizes=n.filter(e=>a.sizesSupported[e])),e={active:(o=Object.keys(i)).every(e=>"banner"!==e)||o.some(e=>"banner"===e)&&0<(0,d.deepAccess)(i,"banner.sizes.length")&&(0===e.length||!t&&(e.some(e=>a.labels[e])||e.some(e=>Array.prototype.includes.call(r,e)))||t&&e.reduce((e,t)=>e&&(a.labels[t]||Array.prototype.includes.call(r,t)),!0)),mediaTypes:i},n&&n.length!==i.banner.sizes.length&&(e.filterResults={before:n,after:i.banner.sizes}),e},e=r(3);var d=r(0);let c=[];e.config.getConfig("sizeConfig",e=>{c=e.sizeConfig})},3:function(e,t,r){function i(){function e(){function i(t){return Array.prototype.find.call(Object.keys(y),e=>t===y[e])}function n(e){if(e){if("string"==typeof e)i(e);else if(f.isPlainObject(e)&&!(0,u.isValidPriceConfig)(e))return;return 1}}a={};let r={_debug:g,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:m,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:y.MEDIUM,set priceGranularity(e){n(e)&&("string"==typeof e?this._priceGranularity=i(e)?e:y.MEDIUM:f.isPlainObject(e)&&(this._customPriceBucket=e,this._priceGranularity=y.CUSTOM))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(r){this._mediaTypePriceGranularity=Object.keys(r).reduce((e,t)=>(n(r[t])&&("string"==typeof r?e[t]=i(r[t])?r[t]:this._priceGranularity:f.isPlainObject(r)&&(e[t]=r[t])),e),{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:"random",get bidderSequence(){return this._bidderSequence},set bidderSequence(e){h[e]&&(this._bidderSequence=e)},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e}};s&&o(Object.keys(s).reduce((e,t)=>(s[t]!==r[t]&&(e[t]=r[t]||{}),e),{})),s=r,d={}}function t(){if(c&&d&&f.isPlainObject(d[c])){let r=d[c];var e=new Set(Object.keys(s).concat(Object.keys(r)));return l(e).reduce((e,t)=>(void 0===r[t]?e[t]=s[t]:void 0!==s[t]&&f.isPlainObject(r[t])?e[t]=(0,p.mergeDeep)({},s[t],r[t]):e[t]=r[t],e),{})}return Object.assign({},s)}function o(t){const r=Object.keys(t);n.filter(e=>Array.prototype.includes.call(r,e.topic)).forEach(e=>{e.callback({[e.topic]:t[e.topic]})}),n.filter(e=>"*"===e.topic).forEach(e=>e.callback(t))}function i(e,t){c=e;try{return t()}finally{c=null}}let n=[],a,s,d,c=null;return e(),{getCurrentBidder:function(){return c},getConfig:function(...e){return e.length<=1&&"function"!=typeof e[0]?(e=e[0])?f.deepAccess(t(),e):t():function(e,t){if("string"!=typeof e&&(t=e,e="*"),"function"==typeof t){var r={topic:e,callback:t};return n.push(r),function(){n.splice(n.indexOf(r),1)}}}(...e)},setConfig:function(r){var i;f.isPlainObject(r)&&(i={},Object.keys(r).forEach(e=>{let t=r[e];f.isPlainObject(a[e])&&f.isPlainObject(t)&&(t=Object.assign({},a[e],t)),i[e]=s[e]=t}),o(i))},setDefaults:function(e){f.isPlainObject(a)&&(Object.assign(a,e),Object.assign(s,e))},resetConfig:e,runWithBidder:i,callbackWithBidder:function(r){return function(t){return function(...e){if("function"==typeof t)return i(r,f.bind.call(t,this,...e))}}},setBidderConfig:function(i){try{(function(e){if(!f.isPlainObject(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!f.isPlainObject(e.config))throw"setBidderConfig bidder options must contain a config object"})(i),i.bidders.forEach(r=>{d[r]||(d[r]={}),Object.keys(i.config).forEach(e=>{var t=i.config[e];f.isPlainObject(t)?d[r][e]=Object.assign({},d[r][e]||{},t):d[r][e]=t})})}catch(e){}},getBidderConfig:function(){return d}}}Object.defineProperty(t,"__esModule",{value:!0}),t.newConfig=i,t.config=t.RANDOM=void 0;var u=r(24),p=r(0);const l=Array.from,f=r(0);e=r(5);const g="TRUE"===f.getParameterByName(e.DEBUG_MODE).toUpperCase(),m=window.location.origin;t.RANDOM="random";const h={random:!0,fixed:!0},y={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"};e=i(),t.config=e},30:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function n(e){var t,r;return t={type:"xml",value:t=e.vastXml||(t=e.vastUrl,r=(r=e.vastImpUrl)?"<![CDATA[".concat(r,"]]>"):"",'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")),ttlseconds:Number(e.ttl)},s.config.getConfig("cache.vasttrack")&&(t.bidder=e.bidder,t.bidid=e.requestId,i.isPlainObject(this)&&this.hasOwnProperty("auctionStart")&&(t.timestamp=this.auctionStart)),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(t.key=e.customCacheKey),t}Object.defineProperty(t,"__esModule",{value:!0}),t.store=function(e,t,r){var i;e={puts:e.map(n,r)},(0,o.ajax)(s.config.getConfig("cache.url"),(i=t,{success:function(e){let t;try{t=JSON.parse(e).responses}catch(e){return void i(e,[])}t?i(null,t):i(Error("The cache server didn't respond with a responses property."),[])},error:function(e,t){i(Error("Error storing video ad in the cache: ".concat(e,": ").concat(JSON.stringify(t))),[])}}),JSON.stringify(e),{contentType:"text/plain",withCredentials:!0})},t.getCacheUrl=function(e){return"".concat(s.config.getConfig("cache.url"),"?uuid=").concat(e)};var o=r(4),s=r(3),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0))},33:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,i,n){for(t=t.split?t.split("."):t,i=0;i<t.length;i++)e=e?e[t[i]]:n;return e===n?r:e}},34:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){for(var i,n=0,o=(t=t.split?t.split("."):t).length;n<o;++n)i=e[t[n]],e=e[t[n]]=n===o-1?r:null!=i?i:!~t[n+1].indexOf(".")&&-1<+t[n+1]?[]:{}}},35:function(e,t){function g(d){function e(e,t){return"function"==typeof e?a.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?a.apply(null,arguments):"object"==typeof e?function(r,e,i){var t=!0;void 0===e&&(e=Object.getOwnPropertyNames(r),t=!1);var n={},o=["constructor"];for(;(e=e.filter(function(e){return"function"==typeof r[e]&&-1===o.indexOf(e)&&!e.match(/^_/)})).forEach(function(e){var t=e.split(":");e=t[0],t=t[1]||"sync",n[e]||(n[e]=r[e]=a(t,r[e],i?[i,e]:void 0))}),r=Object.getPrototypeOf(r),t&&r;);return n}.apply(null,arguments):void 0}function c(o){var a=Array.isArray(o)?o:o.split(".");return i.call(a,function(t,r,e){var i=t[r],n=!1;return i||(e===a.length-1?(l||f.push(function(){n||console.warn(m+": referenced '"+o+"' but it was never created")}),t[r]=p(function(e){t[r]=e,n=!0})):t[r]={})},t)}function p(i){function r(t,e,r,i){var n={hook:r,type:e,priority:i||10,remove:function(){var e=t.indexOf(n);-1!==e&&(t.splice(e,1),s(o,a))}};return t.push(n),t.sort(function(e,t){return t.priority-e.priority}),s(o,a),this}var o=[],a=[],s=function(){},e={before:function(e,t){return r.call(this,o,"before",e,t)},after:function(e,t){return r.call(this,a,"after",e,t)},getHooks:function(r){var e=o.concat(a);"object"==typeof r&&(e=e.filter(function(t){return Object.keys(r).every(function(e){return t[e]===r[e]})}));try{y(e,{remove:function(){return e.forEach(function(e){e.remove()}),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return e},removeAll:function(){return this.getHooks().remove()}};return h.set(e.after,{install:function(e,t,r){this.type=e,(s=r)(o,a),i&&i(t)}}),e}function a(u,e,t){function i(){s.apply=!l&&("sync"!==u||d.ready&g.SYNC)&&("async"!==u||d.ready&g.ASYNC)?"sync"!==u&&d.ready&g.QUEUE?function(){var e=arguments;f.push(function(){o.apply(e[1],e[2])})}:function(){throw m+": hooked function not ready"}:n}var r=e.after&&h.get(e.after);if(r){if(r.type!==u)throw m+": recreated hookable with different type";return e}var n,o,a=t?c(t):p(),s={get:function(e,t){return a[t]||Reflect.get.apply(Reflect,arguments)}};return l||f.push(i),d.useProxy&&"function"==typeof Proxy&&Proxy.revocable?o=new Proxy(e,s):y(o=function(){return s.apply?s.apply(e,this,Array.prototype.slice.call(arguments,void 0)):e.apply(this,arguments)},a),h.get(o.after).install(u,o,function(e,t){function r(e){c.push(e.hook)}var d,c=[];n=e.length||t.length?(e.forEach(r),d=c.push(void 0)-1,t.forEach(r),function(t,r,e){function i(e){"sync"===u?o=e:s&&s.apply(null,arguments)}function n(e){if(c[a]){var t=Array.prototype.slice.call(arguments,void 0);return n.bail=i,t.unshift(n),c[a++].apply(r,t)}"sync"===u?o=e:s&&s.apply(null,arguments)}var o,a=0,s="async"===u&&"function"==typeof e[e.length-1]&&e.pop();return c[d]=function(){var e=Array.prototype.slice.call(arguments,1);"async"===u&&s&&(delete n.bail,e.push(n)),e=t.apply(r,e),"sync"===u&&n(e)},n.apply(null,e),o}):void 0,i()}),o}var l,t={},f=[];return(d=y({},r,d)).ready?e.ready=function(){l=!0;for(var e,t=f;e=t.shift();)e()}:l=!0,e.get=c,e}g.SYNC=1,g.ASYNC=2,g.QUEUE=4;var m="fun-hooks",r=Object.freeze({useProxy:!0,ready:0}),h=new WeakMap,i="2,1,0"===[1].reduce(function(e,t,r){return[e,t,r]},2).toString()?Array.prototype.reduce:function(e,t){var r=Object(this),i=r.length>>>0,n=0;if(!t){for(;n<i&&!(n in r);)n++;t=r[n++]}for(;n<i;)n in r&&(t=e(t,r[n],n,r)),n++;return t},y=Object.assign||function(e){return i.call(Array.prototype.slice.call(arguments,1),function(t,r){return r&&Object.keys(r).forEach(function(e){t[e]=r[e]}),t},e)};e.exports=g},4:function(e,t,r){function i(e,{request:d,done:c}={}){return function(e,t,r,i={}){try{var n=function(t){"function"==typeof c&&c(o.origin),t.ok?t.text().then(function(e){s.success(e,t)}):s.error(t.statusText||t.message,t)};const o=document.createElement("a"),a={method:i.method||(r?"POST":"GET"),cache:"no-store",headers:{"Content-Type":i.contentType||"text/plain"}},s="object"==typeof t&&t||{success:"function"==typeof t?t:function(){},error:function(e){}};if(o.href=e,"function"==typeof d&&d(o.origin),r)if("GET"===a.method){const n=(0,u.parseUrl)(e,i);Object.assign(n.search,r),e=(0,u.buildUrl)(n)}else a.body=r;i.withCredentials&&(a.credentials="include"),i.preflight&&(a.headers["X-Requested-With"]="XMLHttpRequest"),(0,u._each)(i.customHeaders,(e,t)=>{a.headers[t]=e}),fetch(e,a).then(n,n)}catch(e){}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ajaxBuilder=i,t.ajax=void 0;var u=r(0);e=i(),t.ajax=e},5:function(e,t){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",NO_BID:"noBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug"},AD_RENDER_FAILED_REASON:{PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocuemnt",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:{BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host"},NATIVE_KEYS:{title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice"},S2S:{SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},BID_STATUS:{BID_TARGETING_SET:"targetingSet",RENDERED:"rendered",BID_REJECTED:"bidRejected"}}},7:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i({gvlid:e,moduleName:i,moduleType:t}={}){function o(r){if(Array.prototype.includes.call(s,t))return r({valid:!0});{let t;return c(e,i,{hasEnforcementHook:!1},function(e){t=(e&&e.hasEnforcementHook||(e={hasEnforcementHook:!1,valid:n.hasDeviceAccess()}),r(e))}),t}}function a(t){function r(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){}return!1}if(!t||"function"!=typeof t)return o(r);d.push(function(){var e=o(r);t(e)})}return{cookiesAreEnabled:function t(r){function i(e){return!(!e||!e.valid)&&(null!=t.enabled?t.enabled:t.enabled=n.checkCookieSupport())}if(!r||"function"!=typeof r)return o(i);d.push(function(){var e=o(i);r(e)})},setDataInLocalStorage:function(t,r,i){function n(e){e&&e.valid&&a()&&window.localStorage.setItem(t,r)}if(!i||"function"!=typeof i)return o(n);d.push(function(){var e=o(n);i(e)})},getDataFromLocalStorage:function(t,r){function i(e){return e&&e.valid&&a()?window.localStorage.getItem(t):null}if(!r||"function"!=typeof r)return o(i);d.push(function(){var e=o(i);r(e)})},removeDataFromLocalStorage:function(t,r){function i(e){e&&e.valid&&a()&&window.localStorage.removeItem(t)}if(!r||"function"!=typeof r)return o(i);d.push(function(){var e=o(i);r(e)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.newStorageManager=i,t.getCoreStorageManager=function(e){return i({moduleName:e,moduleType:"core"})},t.getStorageManager=function(e,t){return i({gvlid:e,moduleName:t})},t.resetData=function(){t.storageCallbacks=d=[]},t.validateStorageEnforcement=t.storageCallbacks=void 0,e=r(11);var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0));const s=["core","prebid-module"];let d=[];t.storageCallbacks=d;const c=(0,e.hook)("async",function(e,t,r,i){i(r)},"validateStorageEnforcement");t.validateStorageEnforcement=c},727:function(e,t,r){e.exports=r(26)},8:function(e,t,r){var s=r(0);t=r(5);var d,c=Array.prototype.slice,u=Array.prototype.push,n=s._map(t.EVENTS,function(e){return e}),p=t.EVENT_ID_PATHS,l=[];e.exports=(d={},{on:function(e,t,r){var i;s.contains(n,e)&&(i=d[e]||{que:[]},r?(i[r]=i[r]||{que:[]},i[r].que.push(t)):i.que.push(t),d[e]=i)},emit:function(e){var t,r,i,n,o,a=c.call(arguments,1);t=e,i=(r=a)[0]||{},n=i[p[t]],o=d[t]||{que:[]},e=s._map(o,function(e,t){return t}),a=[],l.push({eventType:t,args:i,id:n}),n&&s.contains(e,n)&&u.apply(a,o[n].que),u.apply(a,o.que),s._each(a,function(e){if(e)try{e.apply(null,r)}catch(e){}})},off:function(e,r,i){var n=d[e];s.isEmpty(n)||s.isEmpty(n.que)&&s.isEmpty(n[i])||i&&(s.isEmpty(n[i])||s.isEmpty(n[i].que))||(i?s._each(n[i].que,function(e){var t=n[i].que;e===r&&t.splice(t.indexOf(e),1)}):s._each(n.que,function(e){var t=n.que;e===r&&t.splice(t.indexOf(e),1)}),d[e]=n)},get:function(){return d},getEvents:function(){var t=[];return s._each(l,function(e){e=Object.assign({},e),t.push(e)}),t}})},9:function(e,t,r){function l(){return T&&T.enabled&&T.testing&&E}function n(e,t,r){try{var i=C[e].getSpec();i&&i[t]&&"function"==typeof i[t]&&m.config.runWithBidder(e,f.bind.call(i[t],i,r))}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0}),t.setS2STestingModule=function(e){E=e},t.default=t.uspDataHandler=t.gdprDataHandler=void 0;var f=r(0),u=r(29),p=r(18),d=r(1),g=r(4),m=r(3);e=r(11);var h=r(25),y=r(13);const v=(...e)=>Array.prototype.includes.call(...e);var b=r(0),I=r(5),_=r(8);let E,c={},C=c.bidderRegistry={},S=c.aliasRegistry={},T={};m.config.getConfig("s2sConfig",e=>{T=e.s2sConfig});var i={};const A=(0,e.hook)("sync",function({bidderCode:r,auctionId:a,bidderRequestId:s,adUnits:e,labels:d,src:c}){return e.reduce((e,n)=>{let{active:t,mediaTypes:o}=(0,u.resolveStatus)((0,u.getLabels)(n,d),n.mediaTypes,n.sizes);return t&&e.push(n.bids.filter(e=>e.bidder===r).reduce((e,t)=>{var r=n.nativeParams||b.deepAccess(n,"mediaTypes.native");r&&(t=Object.assign({},t,{nativeParams:(0,p.processNativeAdUnitParams)(r)})),t=Object.assign({},t,(0,f.getDefinedParams)(n,["fpd","mediaType","renderer","storedAuctionResponse"]));var{active:i,mediaTypes:r}=(0,u.resolveStatus)((0,u.getLabels)(t,d),o);return b.isValidMediaTypes(r)&&(t=Object.assign({},t,{mediaTypes:r})),i&&e.push(Object.assign({},t,{adUnitCode:n.code,transactionId:n.transactionId,sizes:b.deepAccess(r,"banner.sizes")||b.deepAccess(r,"video.playerSize")||[],bidId:t.bid_id||b.getUniqueIdentifierStr(),bidderRequestId:s,auctionId:a,src:c,bidRequestsCount:h.adunitCounter.getRequestsCounter(n.code),bidderRequestsCount:h.adunitCounter.getBidderRequestsCounter(n.code,t.bidder),bidderWinsCount:h.adunitCounter.getBidderWinsCounter(n.code,t.bidder)})),e},[])),e},[]).reduce(f.flatten,[]).filter(e=>""!==e)},"getBids");let O={consentData:null,setConsentData:function(e){O.consentData=e},getConsentData:function(){return O.consentData}};t.gdprDataHandler=O;let w={consentData:null,setConsentData:function(e){w.consentData=e},getConsentData:function(){return w.consentData}};t.uspDataHandler=w,c.makeBidRequests=(0,e.hook)("sync",function(e,n,o,r,a){_.emit(I.EVENTS.BEFORE_REQUEST_BIDS,e);let s=[];var d=(0,f.getBidderCodes)(e);m.config.getConfig("bidderSequence")===m.RANDOM&&(d=(0,f.shuffle)(d));const c=(0,y.getRefererInfo)();let u=d,p=[];if(T.enabled){l()&&(p=E.getSourceBidderMap(e)[E.CLIENT]);let t=T.bidders;u=d.filter(e=>!v(t,e)||v(p,e)),d=e=>!!Array.prototype.find.call(e,e=>Array.prototype.find.call(e.bids,e=>(e.bidSource||T.bidderControl&&T.bidderControl[e.bidder])&&e.finalSource===E.SERVER)),l()&&T.testServerOnly&&d(e)&&(u.length=0);let r=function(e){let t=T.bidders;return(e=b.deepClone(e)).forEach(e=>{e.bids=e.bids.filter(e=>v(t,e.bidder)&&(!l()||e.finalSource!==E.CLIENT)).map(e=>(e.bid_id=b.getUniqueIdentifierStr(),e))}),e.filter(e=>0!==e.bids.length)}(e),i=b.generateUUID();t.forEach(e=>{var t=b.getUniqueIdentifierStr();0!==(e={bidderCode:e,auctionId:o,bidderRequestId:t,tid:i,bids:A({bidderCode:e,auctionId:o,bidderRequestId:t,adUnits:b.deepClone(r),labels:a,src:I.S2S.SRC}),auctionStart:n,timeout:T.timeout,src:I.S2S.SRC,refererInfo:c}).bids.length&&s.push(e)}),r.forEach(e=>{var t=e.bids.filter(t=>Array.prototype.find.call(s,e=>Array.prototype.find.call(e.bids,e=>e.bidId===t.bid_id)));e.bids=t}),s.forEach(e=>{e.adUnitsS2SCopy=r.filter(e=>0<e.bids.length)})}let i=(e=e,(e=b.deepClone(e)).forEach(e=>{e.bids=e.bids.filter(e=>!l()||e.finalSource!==E.SERVER)}),e.filter(e=>0!==e.bids.length));return u.forEach(e=>{var t=b.getUniqueIdentifierStr(),t={bidderCode:e,auctionId:o,bidderRequestId:t,bids:A({bidderCode:e,auctionId:o,bidderRequestId:t,adUnits:b.deepClone(i),labels:a,src:"client"}),auctionStart:n,timeout:r,refererInfo:c};C[e]&&t.bids&&0!==t.bids.length&&s.push(t)}),O.getConsentData()&&s.forEach(e=>{e.gdprConsent=O.getConsentData()}),w.getConsentData()&&s.forEach(e=>{e.uspConsent=w.getConsentData()}),s},"makeBidRequests"),c.callBids=(t,r,n,o,a,s,d)=>{if(r.length){var[e,i]=r.reduce((e,t)=>(e[Number(void 0!==t.src&&t.src===I.S2S.SRC)].push(t),e),[[],[]]);if(i.length){t=(0,g.ajaxBuilder)(s,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0),r=C[T.adapter];var c=i[0].tid,u=i[0].adUnitsS2SCopy;if(r&&(c={tid:c,ad_units:u}).ad_units.length){let e=i.map(e=>(e.start=(0,f.timestamp)(),o.bind(e)));c.ad_units.reduce((e,t)=>e.concat((t.bids||[]).reduce((e,t)=>e.concat(t.bidder),[])),[]),i.forEach(e=>{_.emit(I.EVENTS.BID_REQUESTED,e)}),r.callBids(c,i,function(e,t){var r=(0,f.getBidderRequest)(i,t.bidderCode,e);r&&n.call(r,e,t)},()=>e.forEach(e=>e()),t)}}e.forEach(e=>{e.start=(0,f.timestamp)();var t=C[e.bidderCode];_.emit(I.EVENTS.BID_REQUESTED,e);var r=(0,g.ajaxBuilder)(s,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0);const i=o.bind(e);try{m.config.runWithBidder(e.bidderCode,f.bind.call(t.callBids,t,e,n.bind(e),i,r,d,m.config.callbackWithBidder(e.bidderCode)))}catch(e){i()}})}},c.videoAdapters=[],c.registerBidAdapter=function(e,t,{supportedMediaTypes:r=[]}={}){e&&t&&"function"==typeof e.callBids&&(C[t]=e,v(r,"video")&&c.videoAdapters.push(t),v(r,"native")&&p.nativeAdapters.push(t))},c.aliasBidAdapter=function(r,i,n){if(void 0===C[i]){let t=C[r];if(void 0===t)(n=(n=m.config.getConfig("s2sConfig"))&&n.bidders)&&v(n,i)&&(S[i]=r);else try{let e;{let e=[];v(c.videoAdapters,r)&&e.push("video"),v(p.nativeAdapters,r)&&e.push("native");var o=e}var a,s;t.constructor.prototype!=Object.prototype?(e=new t.constructor,e.setBidderCode(i)):(a=t.getSpec(),s=n&&n.gvlid,e=(0,d.newBidder)(Object.assign({},a,{code:i,gvlid:s})),S[i]=r),c.registerBidAdapter(e,i,{supportedMediaTypes:o})}catch(e){}}},c.registerAnalyticsAdapter=function({adapter:e,code:t,gvlid:r}){e&&t&&"function"==typeof e.enableAnalytics&&(e.code=t,i[t]={adapter:e,gvlid:r})},c.enableAnalytics=function(e){b.isArray(e)||(e=[e]),b._each(e,e=>{var t=i[e.provider].adapter;t&&t.enableAnalytics(e)})},c.getBidAdapter=function(e){return C[e]},c.getAnalyticsAdapter=function(e){return i[e]},c.callTimedOutBidders=function(t,r,i){r=r.map(e=>(e.params=b.getUserConfiguredParams(t,e.adUnitCode,e.bidder),e.timeout=i,e)),r=b.groupBy(r,"bidder"),Object.keys(r).forEach(e=>{n(e,"onTimeout",r[e])})},c.callBidWonBidder=function(e,t,r){t.params=b.getUserConfiguredParams(r,t.adUnitCode,t.bidder),h.adunitCounter.incrementBidderWinsCounter(t.adUnitCode,t.bidder),n(e,"onBidWon",t)},c.callSetTargetingBidder=function(e,t){n(e,"onSetTargeting",t)},t.default=c},97:function(e,t,r){function i(e){var t=e.message?"message":"data",r={};try{r=JSON.parse(e[t])}catch(e){return}r&&r.adId&&((t=Array.prototype.find.call(s.auctionManager.getBidsReceived(),function(e){return e.adId===r.adId}))&&"Prebid Request"===r.message&&(n(t,e),s.auctionManager.addWinningBid(t),o.default.emit(d,t)),t&&"Prebid Native"===r.message&&("assetRequest"===r.action?(t=(0,a.getAssetMessage)(r,t),e.source.postMessage(JSON.stringify(t),e.origin)):"click"!==(0,a.fireNativeTrackers)(r,t)&&(s.auctionManager.addWinningBid(t),o.default.emit(d,t))))}function n(e,t){var i,n,o,a,{adId:r,ad:s,adUrl:d,width:c,height:u,renderer:p,cpm:l}=e;(0,g.isRendererRequired)(p)?(0,g.executeRenderer)(p,e):r&&([{adId:i,adUnitCode:n,width:o,height:a}]=[e],["div","iframe"].forEach(e=>{e+=':not([style*="display: none"])';var r,t=window.googletag?(r=i,Array.prototype.find.call(window.googletag.pubads().getSlots(),t=>Array.prototype.find.call(t.getTargetingKeys(),e=>Array.prototype.includes.call(t.getTargeting(e),r))).getSlotElementId()):window.apntag?(t=window.apntag.getTag(n))&&t.targetId:n;(e=(t=document.getElementById(t))&&t.querySelector(e))&&((e=e.style).width=o+"px",e.height=a+"px")}),t.source.postMessage(JSON.stringify({message:"Prebid Response",ad:(0,f.replaceAuctionPrice)(s,l),adUrl:(0,f.replaceAuctionPrice)(d,l),adId:r,width:c,height:u}),t.origin))}Object.defineProperty(t,"__esModule",{value:!0}),t.listenMessagesFromCreative=function(){window.addEventListener("message",i,!1)},t._sendAdToCreative=n;var o=(t=r(8))&&t.__esModule?t:{default:t},a=r(18);e=r(5);var f=r(0),s=r(14),g=r(10);const d=e.EVENTS.BID_WON},98:function(e,r,t){function i(){l.addBidResponse.getHooks({hook:f}).remove(),l.addBidderRequests.getHooks({hook:g}).remove()}function n(e,t){p.config.setConfig({debug:!0}),i(),r.addBidResponseBound=f=d.bind(e),l.addBidResponse.before(f,5),r.addBidderRequestsBound=g=c.bind(e),l.addBidderRequests.before(g,5)}function o(e,t,r){return!!(e.bidder&&e.bidder!==t||e.adUnitCode&&e.adUnitCode!==r)}function a(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function s(r,e,t){return Object.keys(r).filter(e=>-1===["adUnitCode","bidder"].indexOf(e)).reduce(function(e,t){return e[t]=r[t],e},e)}function d(e,t,r){a(this.bidders,r.bidderCode)||(Array.isArray(this.bids)&&this.bids.forEach(function(e){o(e,r.bidderCode,t)||s(e,r)}),e(t,r))}function c(e,t){const i=this;t=t.filter(function(e){return!a(i.bidders,e.bidderCode)}),Array.isArray(i.bidRequests)&&t.forEach(function(r){i.bidRequests.forEach(function(t){r.bids.forEach(function(e){o(t,r.bidderCode,e.adUnitCode)||s(t,e)})})}),e(t)}function u(e){if(e.enabled){try{window.sessionStorage.setItem("pbjs:debugging",JSON.stringify(e))}catch(e){}n(e)}else{i();try{window.sessionStorage.removeItem("pbjs:debugging")}catch(e){}}}Object.defineProperty(r,"__esModule",{value:!0}),r.enableOverrides=n,r.disableOverrides=function(){i()},r.bidExcluded=o,r.bidderExcluded=a,r.applyBidOverrides=s,r.addBidResponseHook=d,r.addBidderRequestsHook=c,r.getConfig=u,r.sessionLoader=function(e){let t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem("pbjs:debugging"))}catch(e){}t&&n(t)},r.addBidderRequestsBound=r.addBidResponseBound=void 0;var p=t(3);t(0);var l=t(20);let f;r.addBidResponseBound=f;let g;r.addBidderRequestsBound=g,p.config.getConfig("debugging",({debugging:e})=>u(e))}}),pbjsChunk([318],{95:function(e,t,r){e.exports=r(96)},96:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(a){let s,d=1;return function(e,t,r,i){const n=this;function o(){!function(r,i,n){(function(t){for(let e=0;e<t.length;e++)S.removeBid(t[e])})(i),(0,h.store)(i,function(e,t){if(e)for(t=0;t<i.length;t++)(0,g.doCallbacksIfTimedout)(r,i[t]);else for(e=0;e<t.length;e++)""!==t[e].uuid&&(0,g.addBidToAuction)(r,i[e]),n()})}.call(n,e,t,r)}clearTimeout(s),i?d=1:d===C?(d=1,o()):(d++,s=setTimeout(o,a))}}function s(e,t){var r=S.getInitialCacheKey(e),i=f.deepAccess(e,"video.durationBucket"),n=y.config.getConfig("adpod.prioritizeDeals")&&f.deepAccess(e,"video.dealTier")?(n=y.config.getConfig("adpod.dealTier.".concat(e.bidderCode,".prefix")))?n+f.deepAccess(e,"video.dealTier"):f.deepAccess(e,"video.dealTier"):(n=(0,g.getPriceGranularity)(e.mediaType),(0,g.getPriceByGranularity)(n)(e)),i=t?(t=f.deepAccess(e,"meta.adServerCatId"),"".concat(n,"_").concat(t,"_").concat(i,"s")):"".concat(n,"_").concat(i,"s");e.adserverTargeting||(e.adserverTargeting={}),e.adserverTargeting.hb_pb_cat_dur=i,e.adserverTargeting.hb_cache_id=r,e.videoCacheKey=r,e.customCacheKey="".concat(i,"_").concat(r)}function n(e,t,r,i,n){var o=f.deepAccess(n,"mediaTypes.video");o&&o.context===v.ADPOD?(e=y.config.getConfig("adpod.brandCategoryExclusion"),!f.deepAccess(r,"meta.adServerCatId")&&e?i():!1===y.config.getConfig("adpod.deferCaching")?(S.addBid(r),s(r,e),(e=S.getBids(r))&&(e=_(e),r=S.getQueueDispatcher(r),n=t.getAuctionStatus()!==g.AUCTION_IN_PROGRESS,r(t,e,i,n))):(S.setupInitialCacheKey(r),s(r,e),(0,g.addBidToAuction)(t,r),i())):e.call(this,t,r,i,n)}function o(e,t){t=t.filter(e=>{var t=f.deepAccess(e,"mediaTypes");if((e=f.deepAccess(t,"video"))&&e.context===v.ADPOD){if(1<Object.keys(t).length)return!1;var t=!!(e.playerSize&&(f.isArrayOfNums(e.playerSize,2)||f.isArray(e.playerSize)&&e.playerSize.every(e=>f.isArrayOfNums(e,2)))||e.sizeConfig),r=!!(e.adPodDurationSec&&f.isNumber(e.adPodDurationSec)&&0<e.adPodDurationSec);if(e=!!(e.durationRangeSec&&f.isArrayOfNums(e.durationRangeSec)&&e.durationRangeSec.every(e=>0<e)),!t||!r||!e)return!1}return!0}),e.call(this,t)}function d(e,t,r,i,n){n===v.ADPOD?(i=!0,y.config.getConfig("adpod.brandCategoryExclusion")&&!f.deepAccess(t,"meta.primaryCatId")&&(i=!1),f.deepAccess(t,"video")&&(f.deepAccess(t,"video.context")&&t.video.context===v.ADPOD||(i=!1),f.deepAccess(t,"video.durationSeconds")&&!(t.video.durationSeconds<=0)&&function(e,t){let r=f.deepAccess(t,"video.durationSeconds");var i=f.deepAccess(e,"mediaTypes.video");if((e=i.durationRangeSec).sort((e,t)=>e-t),i.requireExactDuration){if(!Array.prototype.find.call(e,e=>e===r))return;t.video.durationBucket=r}else{if(i=Math.max(...e),!(r<=i+2))return;e=Array.prototype.find.call(e,e=>e+2>=r),t.video.durationBucket=e}return 1}(r,t)||(i=!1)),y.config.getConfig("cache.url")||!t.vastXml||t.vastUrl||(i=!1),e.bail(i)):e.call(this,t,r,i,n)}function c(e){void 0!==e.bidQueueTimeDelay&&"number"==typeof e.bidQueueTimeDelay&&0<e.bidQueueTimeDelay&&(E=e.bidQueueTimeDelay),void 0!==e.bidQueueSizeLimit&&"number"==typeof e.bidQueueSizeLimit&&0<e.bidQueueSizeLimit&&(C=e.bidQueueSizeLimit)}function u(i,e){(0,h.store)(i,function(t,r){if(t)e(t,null);else{t=[];for(let e=0;e<r.length;e++)""!==r[e]&&t.push(i[e]);e(null,t)}})}function p(e,t){return e.adserverTargeting[I.default.TARGETING_KEYS.PRICE_BUCKET]/e.video.durationBucket<t.adserverTargeting[I.default.TARGETING_KEYS.PRICE_BUCKET]/t.video.durationBucket?1:e.adserverTargeting[I.default.TARGETING_KEYS.PRICE_BUCKET]/e.video.durationBucket>t.adserverTargeting[I.default.TARGETING_KEYS.PRICE_BUCKET]/t.video.durationBucket?-1:0}function l({codes:e,callback:n}={}){if(n){s=e=e||[],e=b.auctionManager.getAdUnits().filter(e=>f.deepAccess(e,"mediaTypes.video.context")===v.ADPOD).filter(e=>!(0<s.length)||-1!=s.indexOf(e.code));var t=b.auctionManager.getBidsReceived(),r=y.config.getConfig("adpod.brandCategoryExclusion"),i="boolean"!=typeof(i=y.config.getConfig("adpod.deferCaching"))||i,o=function(e,t){let r=t.map(e=>e.code);return e.filter(e=>-1!=r.indexOf(e.adUnitCode)&&e.video&&e.video.context===v.ADPOD)}(t,e),o=r||i?function(e){let t=e.map(e=>Object.assign({},e,{hb_pb_cat_dur:e.adserverTargeting.hb_pb_cat_dur}));t=f.groupBy(t,"hb_pb_cat_dur");let r=[];return Object.keys(t).forEach(e=>{t[e].sort(f.compareOn("responseTimestamp")),r.push(t[e][0])}),r}(o):o;if(y.config.getConfig("adpod.prioritizeDeals")){let[e,t]=o.reduce((e,t)=>{var r=f.deepAccess(t,"video.dealTier"),i=y.config.getConfig("adpod.dealTier.".concat(t.bidderCode,".minDealTier"));return(i&&r?i<=r?e[1]:e[0]:r?e[1]:e[0]).push(t),e},[[],[]]);t.sort(p),e.sort(p),o=t.concat(e)}else o.sort(p);var a={};if(!1===i)e.forEach(t=>{let i=[],n=f.deepAccess(t,"mediaTypes.video.adPodDurationSec");o.filter(e=>e.adUnitCode===t.code).forEach((e,t,r)=>{e.video.durationBucket<=n&&(i.push({hb_pb_cat_dur:e.adserverTargeting.hb_pb_cat_dur}),n-=e.video.durationBucket),t===r.length-1&&0<i.length&&i.push({hb_cache_id:e.adserverTargeting.hb_cache_id})}),a[t.code]=i}),n(null,a);else{let i=[];e.forEach(t=>{let r=f.deepAccess(t,"mediaTypes.video.adPodDurationSec");o.filter(e=>e.adUnitCode===t.code).forEach(e=>{e.video.durationBucket<=r&&(i.push(e),r-=e.video.durationBucket)})}),u(i,function(e,r){if(e)n(e,null);else{let t=f.groupBy(r,"adUnitCode");Object.keys(t).forEach(e=>{let i=[];t[e].forEach((e,t,r)=>{i.push({hb_pb_cat_dur:e.adserverTargeting.hb_pb_cat_dur}),t===r.length-1&&0<i.length&&i.push({hb_cache_id:e.adserverTargeting.hb_cache_id})}),a[e]=i}),n(null,a)}})}return a}var s}Object.defineProperty(t,"__esModule",{value:!0}),t.callPrebidCacheHook=n,t.checkAdUnitSetupHook=o,t.checkVideoBidSetupHook=d,t.adpodSetConfig=c,t.callPrebidCacheAfterAuction=u,t.sortByPricePerSecond=p,t.getTargeting=l;var f=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0)),g=r(20);e=r(26),t=r(16);var m=r(11),h=r(30),y=r(3),v=r(2),b=r(14),I=(r=r(5))&&r.__esModule?r:{default:r};const _=Array.from;let E=50,C=5,S=function(){let r={};return{addBid:function(e){var t;r[e.auctionId]||(t=e.auctionId,r[t]={},r[t].bidStorage=new Set,r[t].queueDispatcher=i(E),r[t].initialCacheKey=f.generateUUID()),r[e.auctionId].bidStorage.add(e)},removeBid:function(e){r[e.auctionId].bidStorage.delete(e)},getBids:function(e){return r[e.auctionId]&&r[e.auctionId].bidStorage.values()},getQueueDispatcher:function(e){return r[e.auctionId]&&r[e.auctionId].queueDispatcher},setupInitialCacheKey:function(e){r[e.auctionId]||(r[e.auctionId]={},r[e.auctionId].initialCacheKey=f.generateUUID())},getInitialCacheKey:function(e){return r[e.auctionId]&&r[e.auctionId].initialCacheKey}}}();y.config.getConfig("adpod",e=>c(e.adpod)),(0,m.setupBeforeHookFnOnce)(g.callPrebidCache,n),(0,m.setupBeforeHookFnOnce)(e.checkAdUnitSetup,o),(0,m.setupBeforeHookFnOnce)(t.checkVideoBidSetup,d);const T={TARGETING_KEY_PB_CAT_DUR:"hb_pb_cat_dur",TARGETING_KEY_CACHE_ID:"hb_cache_id",getTargeting:l};Object.freeze(T),(0,m.module)("adpod",function(...e){if(f.isPlainObject(e[0]))for(var t in e=e[0],T)e[t]=T[t]})}},[95]),pbjsChunk([304],{131:function(e,t,r){e.exports=r(132)},132:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(){const e=s(["dcn=","&pos=","&cmd=bid",""]);return e}function n(){const e=s(["","/bidRequest?"]);return e}function o(){const e=s(" /pubapi/3.0/ / / / /ADTECH;v=2;cmd=bid;cors=yes;alias= ;misc= ; ".split(" "));return e}function s(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function d(o,...e){return function(...r){let i=r[r.length-1]||{},n=[o[0]];return e.forEach(function(e,t){e=(Number.isInteger(e)?r:i)[e],n.push(e,o[t+1])}),n.join("")}}function c(e){return e===g.AOL||e===g.VERIZON||e===g.ONEMOBILE}function u(e){if(c(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0])return(e=e.params.imp[0]).id&&e.tagid&&(e.banner&&e.banner.w&&e.banner.h||e.video&&e.video.mimes&&e.video.minduration&&e.video.maxduration)}function p(e){return c(e.bidder)&&e.params.dcn&&e.params.pos}function l(e){var t=e.bidder;return(t===g.AOL||t===g.VERIZON||t===g.ONEDISPLAY)&&e.params.placement&&e.params.network}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var f=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0));e=r(1),r=r(2);const g={AOL:"aol",VERIZON:"verizon",ONEMOBILE:"onemobile",ONEDISPLAY:"onedisplay"},m=d(o(),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),h=d(n(),"host"),y=d(i(),"dcn","pos","dynamicParams"),v={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"};r={code:g.AOL,gvlid:25,aliases:[g.ONEMOBILE,g.ONEDISPLAY,g.VERIZON],supportedMediaTypes:[r.BANNER],isBidRequestValid(e){var t;return t=!(t=l(e))?p(e)||u(e):t},buildRequests(e,t){const r={};return t&&(r.gdpr=t.gdprConsent,r.uspConsent=t.uspConsent),e.map(e=>{var t=p(e)?"mobile-get":u(e)?"mobile-post":l(e)?"display-get":void 0;if(t)return this.formatBidRequest(t,e,r)})},interpretResponse({body:e},t){if(e=e&&this._parseBidResponse(e,t))return e},getUserSyncs(e,t){return(e=!f.isEmpty(t)&&t[0].body)&&e.ext&&e.ext.pixels?this.parsePixelItems(e.ext.pixels):[]},formatBidRequest(e,t,r){let i;switch(e){case"display-get":i={url:this.buildMarketplaceUrl(t,r),method:"GET",ttl:60};break;case"mobile-get":i={url:this.buildOneMobileGetUrl(t,r),method:"GET",ttl:3600};break;case"mobile-post":i={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,r),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return i.bidderCode=t.bidder,i.bidId=t.bidId,i.userSyncOn=t.params.userSyncOn,i},buildMarketplaceUrl(e,t){var r=(e=e.params).server;let i=e.region||"us";return v.hasOwnProperty(i)||(i="us"),r=r||v[i],e.region=i,this.applyProtocol(m({host:r,network:e.network,placement:parseInt(e.placement),pageid:e.pageId||0,sizeid:e.sizeId||0,alias:e.alias||f.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(e,t)}))},buildOneMobileGetUrl(e,t){var{dcn:r,pos:i,ext:n}=e.params;return e=this.buildOneMobileBaseUrl(e),r&&i&&(t=this.formatOneMobileDynamicParams(n,t),e+=y({dcn:r,pos:i,dynamicParams:t})),e},buildOneMobileBaseUrl(e){return this.applyProtocol(h({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol(e){return/^https?:\/\//i.test(e)?e:(0===e.indexOf("//")?"".concat("https",":"):"".concat("https","://")).concat(e)},formatMarketplaceDynamicParams(e={},t={}){let r={};e.bidFloor&&(r.bidfloor=e.bidFloor),Object.assign(r,this.formatKeyValues(e.keyValues)),Object.assign(r,this.formatConsentData(t));let i="";return f._each(r,(e,t)=>{i+="".concat(t,"=").concat(encodeURIComponent(e),";")}),i},formatOneMobileDynamicParams(e={},t={}){this.isSecureProtocol()&&(e.secure=1),Object.assign(e,this.formatConsentData(t));let r="";return f._each(e,(e,t)=>{r+="&".concat(t,"=").concat(encodeURIComponent(e))}),r},buildOpenRtbRequestData(e,t={}){return e={id:e.params.id,imp:e.params.imp},this.isEUConsentRequired(t)&&(f.deepSetValue(e,"regs.ext.gdpr",1),t.gdpr.consentString&&f.deepSetValue(e,"user.ext.consent",t.gdpr.consentString)),t.uspConsent&&f.deepSetValue(e,"regs.ext.us_privacy",t.uspConsent),e},isEUConsentRequired(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues(e){let r={};return f._each(e,(e,t)=>{r["kv".concat(t)]=e}),r},formatConsentData(e){let t={};return this.isEUConsentRequired(e)&&(t.gdpr=1,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems(e){let r=/\w*(?=\s)/,i=/src=("|')(.*?)\1/,n=[];return(e=e&&e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi))&&e.forEach(e=>{var t=e.match(r)[0];e=e.match(i)[2],t&&n.push({type:"img"===t?"image":"iframe",url:e})}),n},_parseBidResponse(e,t){let r;try{r=e.seatbid[0].bid[0]}catch(e){return}let i;if(r.ext&&r.ext.encp)i=r.ext.encp;else if(i=r.price,null===i||isNaN(i))return;return{bidderCode:t.bidderCode,requestId:t.bidId,ad:r.adm,cpm:i,width:r.w,height:r.h,creativeId:r.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:r.dealid,netRevenue:!0,ttl:t.ttl}},isOneMobileBidder:c,isSecureProtocol(){return"https:"===document.location.protocol}},t.spec=r,(0,e.registerBidder)(r)}},[131]),pbjsChunk([302],{139:function(e,t,r){e.exports=r(140)},140:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(e){return C.isArray(e)&&0<e.length}function n(e){i(e.value)&&""===e.value[0]&&delete e.value}function s(e){var t=null!=(t=e.match(k))&&1<=t.length,r=null!=(r=e.match("trk.js"))&&1<=r.length;return e.startsWith("<script")&&r&&t}function g(e,t){let r=[],i={};if(!function(e){let t=!0;return e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!0===C.deepAccess(e.gdprConsent,"vendorData.purpose.consents.1")),t}(t)&&(i={withCredentials:!1}),15<e.tags.length){const n=C.deepClone(e);C.chunk(e.tags,15).forEach(e=>{n.tags=e,e=JSON.stringify(n),r.push({method:"POST",url:"https://ib.adnxs.com/ut/v3/prebid",data:e,bidderRequest:t,options:i})})}else r={method:"POST",url:"https://ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(e),bidderRequest:t,options:i};return r}function o(t,e,r){var i=C.getBidRequest(t.uuid,[r]);const n={requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:i.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};if(e.advertiser_id&&(n.meta=Object.assign({},n.meta,{advertiserId:e.advertiser_id})),e.rtb.video)switch(Object.assign(n,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),C.deepAccess(i,"mediaTypes.video.context")){case f.ADPOD:r=(0,l.getIabSubCategory)(i.bidder,e.brand_category_id),n.meta=Object.assign({},n.meta,{primaryCatId:r}),n.video={context:f.ADPOD,durationSeconds:Math.floor(e.rtb.video.duration_ms/1e3),dealTier:e.deal_priority},n.vastUrl=e.rtb.video.asset_url;break;case A.OUTSTREAM:n.adResponse=t,n.adResponse.ad=n.adResponse.ads[0],n.adResponse.ad.video=n.adResponse.ad.rtb.video,n.vastXml=e.rtb.video.content,e.renderer_url&&(r=O(r.bids,e=>e.bidId===t.uuid),r=C.deepAccess(r,"renderer.options"),n.renderer=function(e,t,r={}){t=p.Renderer.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1,adUnitCode:e});try{t.setRender(u)}catch(e){}return t.setEventHandlers({ended:()=>{document.querySelector("#".concat(e)).style.display="none"}}),t}(n.adUnitCode,e,r));break;case A.INSTREAM:n.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}else if(e.rtb[f.NATIVE])r=e.rtb[f.NATIVE],e=e.viewability.config.replace("src=","data-src="),null==(i=r.javascript_trackers)?i=e:C.isStr(i)?i=[i,e]:i.push(e),n[f.NATIVE]={title:r.title,body:r.desc,body2:r.desc2,cta:r.ctatext,rating:r.rating,sponsoredBy:r.sponsored,privacyLink:r.privacy_link,address:r.address,downloads:r.downloads,likes:r.likes,phone:r.phone,price:r.price,salePrice:r.saleprice,clickUrl:r.link.url,displayUrl:r.displayurl,clickTrackers:r.link.click_trackers,impressionTrackers:r.impression_trackers,javascriptTrackers:i},r.main_img&&(n.native.image={url:r.main_img.url,height:r.main_img.height,width:r.main_img.width}),r.icon&&(n.native.icon={url:r.icon.url,height:r.icon.height,width:r.icon.width});else{Object.assign(n,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{if(e.rtb.trackers){const t=C.createTrackPixelHtml(e.rtb.trackers[0].impression_urls[0]);n.ad+=t}}catch(e){}}return n}function m(r){const i={};i.sizes=d(r.sizes),i.primary_size=i.sizes[0],i.ad_types=[],i.uuid=r.bidId,r.params.placementId?i.id=parseInt(r.params.placementId,10):i.code=r.params.invCode,i.allow_smaller_sizes=r.params.allowSmallerSizes||!1,i.use_pmt_rule=r.params.usePaymentRule||!1,i.prebid=!0,i.disable_psa=!0,r.params.reserve&&(i.reserve=r.params.reserve),r.params.position&&(i.position={above:1,below:2}[r.params.position]||0),r.params.trafficSourceCode&&(i.traffic_source_code=r.params.trafficSourceCode),r.params.privateSizes&&(i.private_sizes=d(r.params.privateSizes)),r.params.supplyType&&(i.supply_type=r.params.supplyType),r.params.pubClick&&(i.pubclick=r.params.pubClick),r.params.extInvCode&&(i.ext_inv_code=r.params.extInvCode),r.params.publisherId&&(i.publisher_id=parseInt(r.params.publisherId,10)),r.params.externalImpId&&(i.external_imp_id=r.params.externalImpId),C.isEmpty(r.params.keywords)||(0<(e=C.transformBidderParamKeywords(r.params.keywords)).length&&e.forEach(n),i.keywords=e),r.mediaType!==f.NATIVE&&!C.deepAccess(r,"mediaTypes.".concat(f.NATIVE))||(i.ad_types.push(f.NATIVE),0===i.sizes.length&&(i.sizes=d([1,1])),r.nativeParams&&(e=function(r){const i={};return Object.keys(r).forEach(e=>{var t=B[e]&&B[e].serverName||B[e]||e;i[t]=Object.assign({},B[e]&&B[e].requiredParams,r[e]),(t===B.image.serverName||t===B.icon.serverName)&&i[t].sizes&&(e=i[t].sizes,C.isArrayOfNums(e)||C.isArray(e)&&0<e.length&&e.every(e=>C.isArrayOfNums(e)))&&(i[t].sizes=d(i[t].sizes)),t===B.privacyLink&&(i.privacy_supported=!0)}),i}(r.nativeParams),i[f.NATIVE]={layouts:[e]}));var e=C.deepAccess(r,"mediaTypes.".concat(f.VIDEO)),t=C.deepAccess(r,"mediaTypes.video.context");return i.hb_source=e&&"adpod"===t?7:1,r.mediaType!==f.VIDEO&&!e||i.ad_types.push(f.VIDEO),(r.mediaType===f.VIDEO||e&&"outstream"!==t)&&(i.require_asset_url=!0),r.params.video&&(i.video={},Object.keys(r.params.video).filter(e=>Array.prototype.includes.call(w,e)).forEach(t=>{switch(t){case"context":case"playback_method":let e=r.params.video[t];e=C.isArray(e)?e[0]:e,i.video[t]=D[t][e];break;default:i.video[t]=r.params.video[t]}})),r.renderer&&(i.video=Object.assign({},i.video,{custom_renderer_present:!0})),(e=O(T.auctionManager.getAdUnits(),e=>r.transactionId===e.transactionId))&&e.mediaTypes&&e.mediaTypes.banner&&i.ad_types.push(f.BANNER),0===i.ad_types.length&&delete i.ad_types,i}function d(t){let r=[],i={};if(C.isArray(t)&&2===t.length&&!C.isArray(t[0]))i.width=parseInt(t[0],10),i.height=parseInt(t[1],10),r.push(i);else if("object"==typeof t)for(let e=0;e<t.length;e++){var n=t[e];i={},i.width=parseInt(n[0],10),i.height=parseInt(n[1],10),r.push(i)}return r}function h(e){return!!e.params.user}function y(e){return!!parseInt(e.params.member,10)}function v(e){if(e.params)return!!e.params.app}function b(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function I(e){return!!e.debug}function _(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===f.ADPOD}function E(e,r){const{durationRangeSec:t,requireExactDuration:i}=r.mediaTypes.video,n=function(e){var{adPodDurationSec:t,durationRangeSec:r,requireExactDuration:i}=e;return e=Math.min(...r),e=Math.floor(t/e),i?Math.max(e,r.length):e}(r.mediaTypes.video),o=Math.max(...t);if(e=e.filter(e=>e.uuid===r.bidId),e=C.fill(...e,n),i){const r=C.chunk(e,Math.ceil(n/t.length));t.forEach((t,e)=>{r[e].map(e=>{c(e,"minduration",t),c(e,"maxduration",t)})})}else e.map(e=>c(e,"maxduration",o));return e}function c(e,t,r){C.isEmpty(e.video)&&(e.video={}),e.video[t]=r}function u(e){var t;t=e.adUnitCode,(t=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&t[0].style.setProperty("display","none"),e.renderer.push(()=>{window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}.bind(null,e))})}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var p=r(10),C=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0)),S=r(3),l=r(1),f=r(2),T=r(14),A=r(16);e=r(7);const O=(...e)=>Array.prototype.find.call(...e),w="id minduration maxduration skippable playback_method frameworks context skipoffset".split(" "),R="age externalUid segments gender dnt language".split(" "),P=["geo","device_id"],x=["enabled","dongle","member_id","debug_timeout"],D={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},B={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},k=/\/\/cdn\.adnxs\.com\/v/;(0,e.getStorageManager)(32,"appnexus"),e={code:"appnexus",gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[f.BANNER,f.VIDEO,f.NATIVE],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){const i=e.map(m),r=O(e,h);let n={};!0===S.config.getConfig("coppa")&&(n={coppa:!0}),r&&Object.keys(r.params.user).filter(e=>Array.prototype.includes.call(R,e)).forEach(e=>{var t=C.convertCamelToUnderscore(e);n[t]=r.params.user[e]});const o=O(e,v);let a;o&&o.params&&o.params.app&&(a={},Object.keys(o.params.app).filter(e=>Array.prototype.includes.call(P,e)).forEach(e=>a[e]=o.params.app[e]));var s,d=O(e,b);d&&d.params&&o.params.app&&o.params.app.id&&(s={appid:d.params.app.id});let c={},u={};var p=g$.ic.apn_prebid_debug;if(p)try{c=JSON.parse(p)}catch(e){}else(p=O(e,I))&&p.debug&&(c=p.debug);c&&c.enabled&&Object.keys(c).filter(e=>Array.prototype.includes.call(x,e)).forEach(e=>{u[e]=c[e]}),p=(p=O(e,y))?parseInt(p.params.member,10):0;const l=e[0].schain,f={tags:[...i],user:n,sdk:{source:"pbjs",version:"4.8.0"},schain:l};return 0<p&&(f.member_id=p),o&&(f.device=a),d&&(f.app=s),S.config.getConfig("adpod.brandCategoryExclusion")&&(f.brand_category_uniqueness=!0),u.enabled&&(f.debug=u),t&&t.gdprConsent&&(f.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(f.us_privacy=t.uspConsent),t&&t.refererInfo&&(d={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(e=>encodeURIComponent(e)).join(",")},f.referrer_detection=d),O(e,_)&&e.filter(_).forEach(t=>{var e=E(i,t),r=f.tags.filter(e=>e.uuid!==t.bidId);f.tags=[...r,...e]}),d=[],(s=C.deepAccess(e[0],"userId.criteoId"))&&d.push({source:"criteo.com",id:s}),(e=C.deepAccess(e[0],"userId.tdid"))&&d.push({source:"adserver.org",id:e,rti_partner:"TDID"}),d.length&&(f.eids=d),i[0].publisher_id&&(f.publisher_id=i[0].publisher_id),g(f,t)},interpretResponse:function(e,{bidderRequest:r}){e=e.body;const i=[];return!e||e.error||e.tags&&e.tags.forEach(e=>{var t,t=(t=e)&&t.ads&&t.ads.length&&O(t.ads,e=>e.rtb);t&&0!==t.cpm&&Array.prototype.includes.call(this.supportedMediaTypes,t.ad_type)&&(e=o(e,t,r),t=(t=t.ad_type)===f.VIDEO?f.VIDEO:t===f.NATIVE?f.NATIVE:f.BANNER,e.mediaType=t,i.push(e))}),i},getMappingFileInfo:function(){return{url:"https://acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(r,e){return r=C.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:C.transformBidderParamKeywords,publisherId:"number"},r),e&&(r.use_pmt_rule="boolean"==typeof r.usePaymentRule&&r.usePaymentRule,r.usePaymentRule&&delete r.usePaymentRule,i(r.keywords)&&r.keywords.forEach(n),Object.keys(r).forEach(e=>{var t=C.convertCamelToUnderscore(e);t!==e&&(r[t]=r[e],delete r[e])})),r},onBidWon:function(t){if(t.native){var r=t.native.javascriptTrackers;if(C.isStr(r)&&s(r))var e=r;else if(C.isArray(r))for(var i=0;i<r.length;i++){var n=r[i];s(n)&&(e=n)}if(r=e)for(e="pbjs_adid="+t.adId+";pbjs_auc="+t.adUnitCode,t=r.indexOf('src="')+5,i=r.indexOf('"',t),r=(t=r.substring(t,i)).replace("dom_id=%native_dom_id%",e),e=document.getElementsByTagName("iframe"),i=!1,n=0;n<e.length&&!i;n++){var o=e[n];try{let e=o.contentDocument||o.contentWindow.document;if(e)for(var a=e.getElementsByTagName("script"),o=0;o<a.length&&!i;o++){let e=a[o];e.getAttribute("data-src")==t&&(e.setAttribute("src",r),e.setAttribute("data-src",""),e.removeAttribute&&e.removeAttribute("data-src"),i=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}}},t.spec=e,(0,l.registerBidder)(e)}},[139]),pbjsChunk([268],{211:function(e,t,r){e.exports=r(212)},212:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e,t,r,i){t&&(t={id:t},i&&(t.ext=i),e.push({source:r,uids:[t]}))}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,e=r(1);var d=r(2);!function(e){if(e&&e.__esModule)return;if(null===e||"object"!=typeof e&&"function"!=typeof e)return;var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);n.default=e,t&&t.set(e,n)}(r(0)),r={code:"colossusssp",supportedMediaTypes:[d.BANNER,d.VIDEO,d.NATIVE],isBidRequestValid:e=>!(!e.bidId||!e.params||isNaN(e.params.placement_id)),buildRequests:(e,t)=>{var r=window;try{var i=new URL(t.refererInfo.referer),r=window.top}catch(e){i=r.location}let n=[];for(r={deviceWidth:r.screen.width,deviceHeight:r.screen.height,language:navigator&&navigator.language?navigator.language:"",secure:"https:"===i.protocol?1:0,host:i.host,page:i.pathname,placements:n},t&&(t.uspConsent&&(r.ccpa=t.uspConsent),t.gdprConsent&&(r.gdpr_consent=t.gdprConsent.consentString||"ALL",r.gdpr_require=t.gdprConsent.gdprApplies?1:0)),t=0;t<e.length;t++){var o=(i=e[t]).params.traffic||d.BANNER,o={placementId:i.params.placement_id,bidId:i.bidId,sizes:i.mediaTypes[o].sizes,traffic:o,eids:[]};i.schain&&(o.schain=i.schain),i.userId&&(s(o.eids,i.userId.britepoolid,"britepool.com"),s(o.eids,i.userId.idl_env,"identityLink"),s(o.eids,i.userId.id5id,"id5-sync.com"),s(o.eids,i.userId.tdid,"adserver.org",{rtiPartner:"TDID"})),n.push(o)}return{method:"POST",url:"https://colossusssp.com/?c=o&m=multi",data:r}},interpretResponse:t=>{let r=[];try{t=t.body;for(let e=0;e<t.length;e++){var i=t[e];!function(e){if(e.requestId&&e.cpm&&e.creativeId&&e.ttl&&e.currency)switch(e.mediaType){case d.BANNER:return e.width&&e.height&&e.ad;case d.VIDEO:return e.vastUrl;case d.NATIVE:return e.native;default:return}}(i)||r.push(i)}}catch(e){}return r},getUserSyncs:()=>[{type:"image",url:"https://colossusssp.com/?c=o&m=cookie"}]},t.spec=r,(0,e.registerBidder)(r)}},[211]),pbjsChunk([265],{221:function(e,t,r){e.exports=r(222)},222:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(e,t){if(e={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null},!m[u])return e.nextFn.apply(e.context,e.args);m[u].call(this,n,o,e),e.haveExited||(0===p?n(void 0,e):e.timer=setTimeout(function(e){o(0,e)}.bind(null,e),p))}function n(e,t){e&&e.usPrivacy?(clearTimeout(t.timer),e&&e.usPrivacy&&(f=e.usPrivacy,c.uspDataHandler.setConsentData(f)),!1===t.haveExited&&(t.haveExited=!0,t.nextFn.apply(t.context,t.args))):o(0,t)}function o(e,t,r){clearTimeout(t.timer),!1===t.haveExited&&(t.haveExited=!0,t.nextFn.apply(t.context,t.args))}function s(e){(e=e.usp)&&"object"==typeof e&&(d.isStr(e.cmpApi)?t.consentAPI=u=e.cmpApi:t.consentAPI=u="iab",d.isNumber(e.timeout)?t.consentTimeout=p=e.timeout:t.consentTimeout=p=50,"static"===u&&d.isPlainObject(e.consentData)&&d.isPlainObject(e.consentData.getUSPData)&&(e.consentData.getUSPData.uspString&&(t.staticConsentData=l={usPrivacy:e.consentData.getUSPData.uspString}),t.consentTimeout=p=0),g||pbjs.requestBids.before(i,50),g=!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.requestBidsHook=i,t.resetConsentData=function(){f=void 0,t.consentAPI=u=void 0,c.uspDataHandler.setConsentData(null)},t.setConsentConfig=s,t.staticConsentData=t.consentTimeout=t.consentAPI=void 0;var d=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0));e=r(3);var c=r(9);let u;t.consentAPI=u;let p;t.consentTimeout=p;let l;t.staticConsentData=l;let f,g=!1;const m={iab:function(i,n,o){let a=function(){const r={};return{consentDataCallback:(e,t)=>{t&&e.uspString&&(r.usPrivacy=e.uspString),r.usPrivacy?i(r,o):n("Unable to get USP consent string.",o)}}}(),s={};try{window.__uspapi("getUSPData",1,a.consentDataCallback)}catch(e){let t=window,r;for(;!r;){try{t.frames.__uspapiLocator&&(r=t)}catch(e){}if(t===window.top)break;t=t.parent}if(!r)return n("USP CMP not found.",o);c="getUSPData",u=r,p=a.consentDataCallback,window.__uspapi=function(e,t,r){var i=Math.random()+"";e={__uspapiCall:{command:e,version:t,callId:i}},s[i]=r,u.postMessage(e,"*")},window.addEventListener("message",d,!1),window.__uspapi(c,1,function(e,t){window.removeEventListener("message",d,!1),p(e,t)})}function d(e){(e=e&&e.data&&e.data.__uspapiReturn)&&e.callId&&void 0!==s[e.callId]&&(s[e.callId](e.returnValue,e.success),delete s[e.callId])}var c,u,p},static:function(e,t,r){e(l,r)}};e.config.getConfig("consentManagement",e=>s(e.consentManagement))}},[221]),pbjsChunk([264],{223:function(e,t,r){e.exports=r(224)},224:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0));e=r(1);let n=0;r={code:"consumable",isBidRequestValid:function(e){return!!(e.params.networkId&&e.params.siteId&&e.params.unitId&&e.params.unitName)},buildRequests:function(e,t){let r={method:"POST",url:"",data:"",bidRequest:[]};if(e.length<1)return r;n=e[0].params.siteId;const i=Object.assign({placements:[],time:Date.now(),url:t.refererInfo.referer,referrer:document.referrer,source:[{name:"prebidjs",version:"4.8.0"}]},e[0].params);return t&&t.gdprConsent&&(i.gdpr={consent:t.gdprConsent.consentString,applies:"boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(i.ccpa=t.uspConsent),e.map(e=>{var t=e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes||e.sizes||[];(e=Object.assign({divName:e.bidId,adTypes:e.adTypes||function(e){const t=[];return e.forEach(function(e){0<=(e=o.indexOf(e[0]+"x"+e[1]))&&t.push(e)}),t}(t)},e.params)).networkId&&e.siteId&&e.unitId&&e.unitName&&i.placements.push(e)}),r.data=JSON.stringify(i),r.bidRequest=e,r.bidderRequest=t,r.url="https://e.serverbid.com/api/v2",r},interpretResponse:function(t,r){let i,n,o=[];n=r.bidRequest,t=(t||{}).body;for(let e=0;e<n.length;e++){i={};var a=n[e],s=a.bidId;if(t){const n=t.decisions&&t.decisions[s],d=n&&n.pricing&&n.pricing.clearPrice;n&&d&&(i.requestId=s,i.cpm=d,i.width=n.width,i.height=n.height,i.unitId=a.params.unitId,i.unitName=a.params.unitName,s=i,a=n.contents&&n.contents[0]&&n.contents[0].body+c.createTrackPixelHtml(n.impressionUrl),s.ad=a,i.currency="USD",i.creativeId=n.adId,i.ttl=30,i.netRevenue=!0,i.referrer=r.bidderRequest.refererInfo.referer,o.push(i))}}return o},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://sync.serverbid.com/ss/"+n+".html"}]:e.pixelEnabled&&0<t.length?t[0].body.pixels:void 0}},t.spec=r;const o=[null,"120x90","120x90","468x60","728x90","300x250","160x600","120x600","300x100","180x150","336x280","240x400","234x60","88x31","120x60","120x240","125x125","220x250","250x250","250x90","0x0","200x90","300x50","320x50","320x480","185x185","620x45","300x125","800x250"];o[77]="970x90",o[123]="970x250",o[43]="300x600",o[286]="970x66",o[3230]="970x280",o[429]="486x60",o[374]="700x500",o[934]="300x1050",o[1578]="320x100",o[331]="320x250",o[3301]="320x267",o[2730]="728x250",(0,e.registerBidder)(r)}},[223]),pbjsChunk([258],{235:function(e,t,r){e.exports=r(236)},236:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=t.PROFILE_ID_PUBLISHERTAG=t.ADAPTER_VERSION=void 0,e=r(1);var c=r(3),u=r(2),p=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0));t.ADAPTER_VERSION=32,t.PROFILE_ID_PUBLISHERTAG=185,r={code:"criteo",gvlid:91,supportedMediaTypes:[u.BANNER,u.VIDEO,u.NATIVE],isBidRequestValid:e=>{return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId)&&!(void 0!==p.deepAccess(e,"params.video")&&void 0!==p.deepAccess(e,"mediaTypes.video")&&!function(t){let r=!0;return["mimes","playerSize","maxduration","protocols","api"].forEach(function(e){void 0===p.deepAccess(t,"mediaTypes.video."+e)&&(r=!1)}),["skip","placement","playbackmethod"].forEach(function(e){void 0===p.deepAccess(t,"params.video."+e)&&(r=!1)}),!(!r||!("instream"==t.mediaTypes.video.context&&1===t.params.video.placement||"outstream"==t.mediaTypes.video.context&&1!==t.params.video.placement))}(e))},buildRequests:(e,t)=>{Object.assign(t,{publisherExt:c.config.getConfig("fpd.context"),userExt:c.config.getConfig("fpd.user"),ceh:c.config.getConfig("criteo.ceh")});var r=new Criteo.PubTag.Adapters.Prebid(185,32,e,t,"4.8.0");if(t=c.config.getConfig("enableSendAllBids"),r.setEnableSendAllBids&&"function"==typeof r.setEnableSendAllBids&&"boolean"==typeof t&&r.setEnableSendAllBids(t),t=r.buildCdbUrl(),r=r.buildCdbRequest())return{method:"POST",url:t,data:r,bidRequests:e}},interpretResponse:(e,s)=>{e=e.body||e;const t=Criteo.PubTag.Adapters.Prebid.GetAdapter(s);if(t)return t.interpretResponse(e,s);const d=[];return e&&e.slots&&p.isArray(e.slots)&&e.slots.forEach(t=>{const e=Array.prototype.find.call(s.bidRequests,e=>e.adUnitCode===t.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===t.zoneid)),r=e.bidId,i={requestId:r,adId:t.bidId||p.getUniqueIdentifierStr(),cpm:t.cpm,currency:t.currency,netRevenue:!0,ttl:t.ttl||60,creativeId:r,width:t.width,height:t.height,dealId:t.dealCode};if(t.native)if(e.params.nativeCallback)i.ad=(n=r,o=t.native,a=e.params.nativeCallback,window.criteo_prebid_native_slots=window.criteo_prebid_native_slots||{},window.criteo_prebid_native_slots[n]={callback:a,payload:o},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat("criteo_prebid_native_slots",';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(n,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>'));else{if(!0===c.config.getConfig("enableSendAllBids"))return;i.native={title:(n=t.native).products[0].title,body:n.products[0].description,sponsoredBy:n.advertiser.description,icon:n.advertiser.logo,image:n.products[0].image,clickUrl:n.products[0].click_url,privacyLink:n.privacy.optout_click_url,privacyIcon:n.privacy.optout_image_url,cta:n.products[0].call_to_action,price:n.products[0].price,impressionTrackers:n.impression_pixels.map(e=>e.url)},i.mediaType=u.NATIVE}else t.video?(i.vastUrl=t.displayurl,i.mediaType=u.VIDEO):i.ad=t.creative;var n,o,a;d.push(i)}),d},onTimeout:e=>{var t;Array.isArray(e)&&(t=[],e.forEach(e=>{-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())}))},onBidWon:e=>{e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:e=>{Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}},t.spec=r,(0,e.registerBidder)(r)}},[235]),pbjsChunk([251],{251:function(e,t,r){e.exports=r(252)},252:function(e,t,r){function i(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e.params||e.url){var t=e.adUnit,r=e.bid||c.targeting.getWinningBids(t.code)[0],i={};if(e.url&&(i=(0,u.parseUrl)(e.url,{noDecodeWholeURL:!0}),(0,u.isEmpty)(e.params)))return(t=s(r,i,"search"))&&(i.search.description_url=t),e=d(r,e),i.search.cust_params=i.search.cust_params?i.search.cust_params+"%26"+e:e,(0,u.buildUrl)(i);var t={correlator:Date.now(),sz:(0,u.parseSizesInput)((0,u.deepAccess)(t,"mediaTypes.video.playerSize")).join("|"),url:encodeURIComponent(location.href)},n=d(r,e),i=Object.assign({},h,i.search,t,e.params,{cust_params:n});return(e=s(r,e,"params"))&&(i.description_url=e),(0,u.buildUrl)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:i})}}function o(e){e.call(this,"dfp")}function a({code:i,params:n,callback:o}={}){var a,t,e;n&&o&&(a={correlator:Date.now(),sz:(t=i,e=f.auctionManager.getAdUnits().filter(e=>e.code===t),e=(0,u.deepAccess)(e[0],"mediaTypes.video.playerSize"),(0,u.parseSizesInput)(e).join("|")),url:encodeURIComponent(location.href)},y.getTargeting({codes:[i],callback:function(e,t){var r;e?o(e,null):(e={[y.TARGETING_KEY_PB_CAT_DUR]:void 0,[y.TARGETING_KEY_CACHE_ID]:void 0},r={},t[i]&&(r=t[i].reduce((e,t)=>(Object.keys(t)[0]===y.TARGETING_KEY_PB_CAT_DUR?e[y.TARGETING_KEY_PB_CAT_DUR]=void 0!==e[y.TARGETING_KEY_PB_CAT_DUR]?e[y.TARGETING_KEY_PB_CAT_DUR]+","+t[y.TARGETING_KEY_PB_CAT_DUR]:t[y.TARGETING_KEY_PB_CAT_DUR]:Object.keys(t)[0]===y.TARGETING_KEY_CACHE_ID&&(e[y.TARGETING_KEY_CACHE_ID]=t[y.TARGETING_KEY_CACHE_ID]),e),e)),t=encodeURIComponent((0,u.formatQS)(r)),t=Object.assign({},h,a,n,{cust_params:t}),t=(0,u.buildUrl)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:t}),o(null,t))}}))}function s(e,t,r){if(!p.config.getConfig("cache.url")&&!(0,u.deepAccess)(t,"".concat(r,".description_url"))&&(e=e&&e.vastUrl))return encodeURIComponent(e)}function d(e,t){var r=e&&e.adserverTargeting||{},i={},n=t&&t.adUnit;return n&&(i=(i=c.targeting.getAllTargeting(n.code))?i[n.code]:{}),e=Object.assign({},{hb_uuid:e&&e.videoCacheKey},{hb_cache_id:e&&e.videoCacheKey},i,r),g.default.emit(m.default.EVENTS.SET_TARGETING,{[n.code]:e}),t=(0,u.deepAccess)(t,"params.cust_params"),t=Object.assign({},e,t),encodeURIComponent((0,u.formatQS)(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.buildDfpVideoUrl=n,t.notifyTranslationModule=o,t.buildAdpodVideoUrl=a,t.adpodUtils=void 0,e=r(27);var c=r(21),u=r(0),p=r(3),l=r(11),f=r(14),g=i(r(8)),m=i(r(5));const h={env:"vp",gdfp_req:1,output:"vast",unviewed_position_start:1},y={};t.adpodUtils=y,(0,l.getHook)("registerAdserver").before(o),(0,e.registerVideoSupport)("dfp",{buildVideoUrl:n,buildAdpodVideoUrl:a,getAdpodTargeting:e=>y.getTargeting(e)}),(0,l.submodule)("adpod",y)}},[251]),pbjsChunk([207],{347:function(e,t,r){e.exports=r(348)},348:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function f(e){const t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid="".concat(e.params.size[0],"x").concat(e.params.size[1]):t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&e.params.hasOwnProperty("bidFloorCur")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur),t}function i(e){return Array.isArray(e)&&2===e.length&&n(e[0])&&n(e[1])}function g(t,r){if(i(t))return t[0]===r[0]&&t[1]===r[1];for(let e=0;e<t.length;e++)if(t[e][0]===r[0]&&t[e][1]===r[1])return 1}function m(e,t,r,i){var n,o=[],a={},s=e[0].userId;if(s&&"object"==typeof s&&s.idl_env&&(s=s.idl_env)&&(a.LiveRampIp=1,o.push({source:"liveramp.com",uids:[{id:s,ext:{rtiPartner:"idl"}}]})),window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&(s=window.headertag.getIdentityInfo())&&"object"==typeof s)for(var d in s)!s.hasOwnProperty(d)||a.hasOwnProperty(d)||!(n=s[d]).responsePending&&n.data&&"object"==typeof n.data&&Object.keys(n.data).length&&o.push(n.data);if((a={}).id=e[0].bidderRequestId,a.imp=r,a.site={},a.ext={},a.ext.source="prebid",e[0].schain&&(a.source={ext:{schain:e[0].schain}}),0<o.length&&(a.user={},a.user.eids=o),document.referrer&&""!==document.referrer&&(a.site.ref=document.referrer),t&&(t.gdprConsent&&((r=t.gdprConsent).hasOwnProperty("gdprApplies")&&(a.regs={ext:{gdpr:r.gdprApplies?1:0}}),r.hasOwnProperty("consentString")&&(a.user=a.user||{},a.user.ext={consent:r.consentString||""})),t.uspConsent&&y.deepSetValue(a,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(a.site.page=t.refererInfo.referer)),r={},t=c.config.getConfig(t&&t.bidderCode||"ix")){if("object"==typeof t.firstPartyData){d="?";for(const e in o=t.firstPartyData)o.hasOwnProperty(e)&&(d+="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(o[e]),"&"));d=d.slice(0,-1),a.site.page+=d}"number"==typeof t.timeout&&(r.t=t.timeout)}return r.s=e[0].params.siteId,r.v=i,r.r=JSON.stringify(a),r.ac="j",r.sd=1,8.1===i&&(r.nf=1),{method:"GET",url:"https://htlb.casalemedia.com/cygnus",data:r}}function h(t,r){for(let e=0;e<t.length;e++)if(r[0]==t[e][0]&&r[1]==t[e][1])return t.splice(e,1),1}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var y=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0)),v=r(2),c=r(3);e=r(1);const n=Number.isInteger,o=[v.BANNER,v.VIDEO],u={JPY:1};r={code:"ix",gvlid:10,supportedMediaTypes:o,isBidRequestValid:function(e){if(!i(e.params.size)||!g(e.sizes,e.params.size)||e.hasOwnProperty("mediaType")&&!y.contains(o,e.mediaType)||e.hasOwnProperty("mediaTypes")&&!y.deepAccess(e,"mediaTypes.banner.sizes")&&!y.deepAccess(e,"mediaTypes.video.playerSize")||"string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return!1;var t=e.params.hasOwnProperty("bidFloor"),r=e.params.hasOwnProperty("bidFloorCur");return!((t||r)&&((t=t&&r)&&(t=e.params.bidFloorCur,r=/^[A-Z]{3}$/,t=!("number"!=typeof e.params.bidFloor||"string"!=typeof t||!t.match(r))),!t))},buildRequests:function(e,t){let r=[],i=[],n=[],o={};for(var a,s=0;s<e.length;s++){var d,c,u,p,l=e[s];l.mediaType!==v.VIDEO&&!y.deepAccess(l,"mediaTypes.video")||l.mediaType!==v.VIDEO&&!g(l.mediaTypes.video.playerSize,l.params.size)||n.push(function(e){const t=f(e);return t.video=y.deepClone(e.params.video),t.video.w=e.params.size[0],t.video.h=e.params.size[1],(e=y.deepAccess(e,"mediaTypes.video.context"))&&("instream"===e?t.video.placement=1:"outstream"===e&&(t.video.placement=4)),t}(l)),l.mediaType!==v.BANNER&&!y.deepAccess(l,"mediaTypes.banner")&&(l.mediaType||l.mediaTypes)||((p=f(d=l)).banner={},p.banner.w=d.params.size[0],p.banner.h=d.params.size[1],p.banner.topframe=y.inIframe()?0:1,p=d=p,i.push(p),d=o,c=p,p=l.transactionId,d.hasOwnProperty(p)?(c=[],h(c=d[p].hasOwnProperty("missingSizes")?d[p].missingSizes:c,l.params.size),d[p].missingSizes=c):y.deepAccess(l,"mediaTypes.banner.sizes")&&(h(u=y.deepClone(l.mediaTypes.banner.sizes),l.params.size),d[p]={missingSizes:u,impression:c}))}for(a in o)if(o.hasOwnProperty(a))for(s=o[a].missingSizes,l=0;l<s.length;l++)d=s[l],p=y.deepClone(o[a].impression),p.ext.sid="".concat(d[0],"x").concat(d[1]),p.banner.w=d[0],p.banner.h=d[1],d=p,i.push(d);return 0<i.length&&r.push(m(e,t,i,7.2)),0<n.length&&r.push(m(e,t,n,8.1)),r},interpretResponse:function(t,r){const i=[];if(!t.hasOwnProperty("body")||!t.body.hasOwnProperty("seatbid"))return i;const n=(t=t.body).seatbid;for(let e=0;e<n.length;e++)if(n[e].hasOwnProperty("bid")){var o=n[e].bid,a=JSON.parse(r.data.r);for(let e=0;e<o.length;e++){var s=function(t,e){if(t)return Array.prototype.find.call(e,e=>e.id===t)}(o[e].impid,a.imp);{var d=o[e],c=t.cur;const i={};u.hasOwnProperty(c)?i.cpm=d.price/u[c]:i.cpm=d.price/100,i.requestId=d.impid,i.dealId=y.deepAccess(d,"ext.dealid"),i.netRevenue=!0,i.currency=c,i.creativeId=d.hasOwnProperty("crid")?d.crid:"-",y.deepAccess(d,"ext.vasturl")?(i.vastUrl=d.ext.vasturl,i.width=s.video.w,i.height=s.video.h,i.mediaType=v.VIDEO,i.ttl=3600):(i.ad=d.adm,i.width=d.w,i.height=d.h,i.mediaType=v.BANNER,i.ttl=300),i.meta={},i.meta.networkId=y.deepAccess(d,"ext.dspid"),i.meta.brandId=y.deepAccess(d,"ext.advbrandid"),i.meta.brandName=y.deepAccess(d,"ext.advbrand"),d.adomain&&0<d.adomain.length&&(i.meta.advertiserDomains=d.adomain),d=i}i.push(d)}}return i},transformBidParams:function(e,t){return y.convertTypes({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}},t.spec=r,(0,e.registerBidder)(r)}},[347]),pbjsChunk([203],{357:function(e,t,r){e.exports=r(358)},358:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0)),d=r(3);e=r(1);const i=(0,(r=r(7)).getStorageManager)();let n,o,c;const u={code:"kargo",isBidRequestValid:function(e){return!(!e||!e.params)&&!!e.params.placementId},buildRequests:function(e,t){var r=(r=d.config.getConfig("currency"))&&r.adServerCurrency||"USD";const i={},n={};s._each(e,e=>{i[e.bidId]=e.params.placementId,n[e.bidId]=e.sizes});let o;return 0<e.length&&e[0].userId&&e[0].userId.tdid&&(o=e[0].userId.tdid),e=Object.assign({},{sessionId:u._getSessionId(),requestCount:u._getRequestCount(),timeout:t.timeout,currency:r,cpmGranularity:1,timestamp:(new Date).getTime(),cpmRange:{floor:0,ceil:20},bidIDs:i,bidSizes:n,prebidRawBidRequests:e},u._getAllMetadata(o,t.uspConsent)),e=encodeURIComponent(JSON.stringify(e)),Object.assign({},t,{method:"GET",url:"".concat("https://krk.kargo.com","/api/v2/bid"),data:"json=".concat(e),currency:r})},interpretResponse:function(r,i){const n=[];for(var o in r=r.body){let e=r[o],t;e.metadata&&e.metadata.landingPageDomain&&(t={clickUrl:e.metadata.landingPageDomain,advertiserDomains:[e.metadata.landingPageDomain]}),n.push({requestId:o,cpm:Number(e.cpm),width:e.width,height:e.height,ad:e.adm,ttl:300,creativeId:e.id,dealId:e.targetingCustom,netRevenue:!0,currency:i.currency,meta:t})}return n},getUserSyncs:function(e){const t=[],r=u._generateRandomUuid(),i=u._getClientId();if(e.iframeEnabled&&r&&i)for(e=0;e<5;e++)t.push({type:"iframe",url:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}".replace("{UUID}",i).replace("{SEED}",r).replace("{INDEX}",e)});return t},_getCrbFromCookie(){try{var e=JSON.parse(decodeURIComponent(g$.ic.krg_crb));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}},_getCrbFromLocalStorage(){try{return JSON.parse(atob(u._getLocalStorageSafely("krg_crb")))}catch(e){return{}}},_getCrb(){var e=u._getCrbFromLocalStorage();return Object.keys(e).length?e:u._getCrbFromCookie()},_getKruxUserId(){return u._getLocalStorageSafely("kxkar_user")},_getKruxSegments(){return u._getLocalStorageSafely("kxkar_segs")},_getKrux(){const e=u._getKruxSegments();let t=[];return e&&(t=e.split(",")),{userID:u._getKruxUserId(),segments:t}},_getLocalStorageSafely(e){try{return i.getDataFromLocalStorage(e)}catch(e){return null}},_getUserIds(e,t){var r=u._getCrb();return t={kargoID:r.userId,clientID:r.clientId,crbIDs:r.syncIds||{},optOut:r.optOut,usp:t},e&&(t.tdID=e),t},_getClientId(){return u._getCrb().clientId},_getAllMetadata(e,t){return{userIDs:u._getUserIds(e,t),krux:u._getKrux(),pageURL:window.location.href,rawCRB:g$.ic.krg_crb,rawCRBLocalStorage:u._getLocalStorageSafely("krg_crb")}},_getSessionId(){return n=n||u._generateRandomUuid(),n},_getRequestCount(){return o===window.location.pathname?++c:(o=window.location.pathname,c=0)},_generateRandomUuid(){try{var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;var t=Array.prototype.map.call(new Uint8Array(e),function(e){return("00"+e.toString(16)).slice(-2)}).join("");return t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20)}catch(e){return""}}};t.spec=u,(0,e.registerBidder)(u)}},[357]),pbjsChunk([167],{444:function(e,t,r){e.exports=r(445)},445:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0));e=r(1);const d={code:"oneVideo",VERSION:"3.0.4",ENDPOINT:"https://ads.adaptv.advertising.com/rtb/openrtb?ext_id=",E2ETESTENDPOINT:"https://ads-wc.v.ssp.yahoo.com/rtb/openrtb?ext_id=",SYNC_ENDPOINT1:"https://pixel.advertising.com/ups/57304/sync?gdpr=&gdpr_consent=&_origin=0&redir=true",SYNC_ENDPOINT2:"https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1",supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){if("oneVideo"!==e.bidder||void 0===e.params||void 0===e.params.video||void 0===e.params.video.playerWidth||void 0===e.params.video.playerHeight||void 0===e.params.video.mimes)return!1;if(e.mediaTypes.video){if("outstream"===e.mediaTypes.video.context&&1===e.params.video.display)return!1}else if(e.mediaTypes.banner&&!e.params.video.display)return!1;return void 0!==e.params.pubId},buildRequests:function(e,n){let o=n?n.gdprConsent:null;return e.map(e=>{var t=d.ENDPOINT,r=e.params.pubId;e.params.video.e2etest&&(t=d.E2ETESTENDPOINT,r="HBExchange"),t+=r,r=n.refererInfo.referer;var r=e.params.site&&e.params.site.page?e.params.site.page:r.href,i=e.params.site&&e.params.site.referrer?e.params.site.referrer:n.refererInfo.referer;return r={id:s.generateUUID(),at:2,cur:e.cur||"USD",imp:[{id:"1",secure:"https:"===document.location.protocol,bidfloor:e.params.bidfloor,ext:{hb:1,prebidver:"4.8.0",adapterver:d.VERSION}}],site:{page:r,ref:i},device:{ua:navigator.userAgent},tmax:200},null==e.params.video.display||1!=e.params.video.display?(r.imp[0].video={mimes:e.params.video.mimes,w:e.params.video.playerWidth,h:e.params.video.playerHeight,pos:e.params.video.position},e.params.video.maxbitrate&&(r.imp[0].video.maxbitrate=e.params.video.maxbitrate),e.params.video.maxduration&&(r.imp[0].video.maxduration=e.params.video.maxduration),e.params.video.minduration&&(r.imp[0].video.minduration=e.params.video.minduration),e.params.video.api&&(r.imp[0].video.api=e.params.video.api),e.params.video.delivery&&(r.imp[0].video.delivery=e.params.video.delivery),e.params.video.position&&(r.imp[0].video.pos=e.params.video.position),e.params.video.playbackmethod&&(r.imp[0].video.playbackmethod=e.params.video.playbackmethod),e.params.video.placement&&(r.imp[0].video.placement=e.params.video.placement),e.params.video.rewarded&&(r.imp[0].ext.rewarded=e.params.video.rewarded),r.imp[0].video.linearity=1,r.imp[0].video.protocols=e.params.video.protocols||[2,5]):1==e.params.video.display&&(r.imp[0].banner={mimes:e.params.video.mimes,w:e.params.video.playerWidth,h:e.params.video.playerHeight,pos:e.params.video.position},e.params.video.placement&&(r.imp[0].banner.placement=e.params.video.placement),e.params.video.maxduration&&(r.imp[0].banner.ext=r.imp[0].banner.ext||{},r.imp[0].banner.ext.maxduration=e.params.video.maxduration),e.params.video.minduration&&(r.imp[0].banner.ext=r.imp[0].banner.ext||{},r.imp[0].banner.ext.minduration=e.params.video.minduration)),e.params.video.inventoryid&&(r.imp[0].ext.inventoryid=e.params.video.inventoryid),e.params.video.sid?(r.source={ext:{schain:{complete:1,nodes:[{sid:e.params.video.sid,rid:r.id}]}}},1==e.params.video.hp&&(r.source.ext.schain.nodes[0].hp=e.params.video.hp)):e.schain&&(r.source={ext:{schain:e.schain}},r.source.ext.schain.nodes[0].rid=r.id),e.params.site&&e.params.site.id&&(r.site.id=e.params.site.id),(o&&o.gdprApplies||n&&n.uspConsent)&&(r.regs={ext:{}},o&&o.gdprApplies&&(r.regs.ext.gdpr=1),o&&o.consentString&&(r.user={ext:{consent:o.consentString}}),n&&n.uspConsent&&(r.regs.ext.us_privacy=n.uspConsent)),e.params.video.e2etest&&(r.imp[0].bidfloor=null,r.imp[0].video.w=300,r.imp[0].video.h=250,r.imp[0].video.mimes=["video/mp4","application/javascript"],r.imp[0].video.api=[2],r.site.page="https://verizonmedia.com",r.site.ref="https://verizonmedia.com",r.tmax=1e3),{method:"POST",url:t,data:r,bidRequest:e}})},interpretResponse:function(t,{bidRequest:e}){let r;try{t=t.body,r=t.seatbid[0].bid[0]}catch(e){t=null}if(!t||!r||!r.adm&&!r.nurl||!r.price)return[];var[i,n]=(o=s.parseSizesInput(e.sizes)).length?o[0].split("x"):[],o=parseInt(i,10)||void 0,n=parseInt(n,10)||void 0;return(t={requestId:e.bidId,bidderCode:d.code,cpm:r.price,adId:r.adid,creativeId:r.crid,width:o,height:n,currency:t.cur,ttl:100,netRevenue:!0,adUnitCode:e.adUnitCode}).mediaType=e.mediaTypes.banner?"banner":"video",r.nurl?t.vastUrl=r.nurl:r.adm&&1===e.params.video.display?t.ad=r.adm:r.adm&&(t.vastXml=r.adm),e.mediaTypes.video&&(t.renderer="outstream"===e.mediaTypes.video.context?void((e=e).renderer||(e.renderer={},e.renderer.url="https://cdn.vidible.tv/prod/hb-outstream-renderer/renderer.js",e.renderer.render=function(e){setTimeout(function(){o2PlayerRender(e)},700)})):void 0),t},getUserSyncs:function(e,t,r={}){var{gdprApplies:i,consentString:r=""}=r;if(e.pixelEnabled)return[{type:"image",url:d.SYNC_ENDPOINT1},{type:"image",url:"https://sync-tm.everesttech.net/upi/pid/m7y5t93k?gdpr=".concat(i?1:0,"&gdpr_consent=").concat(r,"&redir=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55986%2Fsync%3Fuid%3D%24%7BUSER_ID%7D%26_origin%3D0")+encodeURI("&gdpr=".concat(i?1:0,"&gdpr_consent=").concat(r))},{type:"image",url:d.SYNC_ENDPOINT2}]}};t.spec=d,(0,e.registerBidder)(d)}},[444]),pbjsChunk([163],{454:function(e,t,r){e.exports=r(455)},455:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e,t){var r,i,n=c.inIframe(),n={ju:d.config.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:n,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,r=window,i=document;if(e){try{r=window.top,i=window.top.document}catch(e){return}e=i.documentElement,t=i.body,i=r.innerWidth||e.clientWidth||t.clientWidth,r=r.innerHeight||e.clientHeight||t.clientHeight}else e=i.documentElement,i=r.innerWidth||e.clientWidth,r=r.innerHeight||e.clientHeight;return"".concat(i,"x").concat(r)}(n),be:1,bc:e[0].params.bc||"".concat("hb_pb","_").concat("3.0.3"),dddid:c._map(e,e=>e.transactionId).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(n.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(r=t.gdprConsent).consentString&&(n.gdpr_consent=r.consentString),void 0!==r.gdprApplies&&(n.gdpr=r.gdprApplies?1:0),"iab"===d.config.getConfig("consentManagement.cmpApi")&&(n.x_gdpr_f=1)),t&&t.uspConsent&&(n.us_privacy=t.uspConsent),c.deepAccess(e[0],"crumbs.pubcid")&&c.deepSetValue(e[0],"userId.pubcid",c.deepAccess(e[0],"crumbs.pubcid")),i=n,t=e[0].userId,c._each(t,(e,t)=>{var r=p[t];if(p.hasOwnProperty(t))switch(t){case"digitrustid":i[r]=c.deepAccess(e,"data.id");break;case"lipb":i[r]=e.lipbid;break;case"parrableId":i[r]=e.eid;break;default:i[r]=e}}),n=i,e[0].schain&&(n.schain=(e=e[0].schain,"".concat(e.ver,",").concat(e.complete,"!").concat(function(e){const r="asi sid hp rid name domain".split(" ");return e.map(t=>r.map(e=>t[e]||"").join(",")).join("!")}(e.nodes)))),n}function o(e,t){return{method:"GET",url:(t=function(e,t){let r=s([e],t),i=c.deepAccess(e,"params.video")||{};t=c.deepAccess(e,"mediaTypes.video.context");let n=c.deepAccess(e,"mediaTypes.video.playerSize"),o,a;return c.isArray(e.sizes)&&2===e.sizes.length&&!c.isArray(e.sizes[0])?(o=parseInt(e.sizes[0],10),a=parseInt(e.sizes[1],10)):c.isArray(e.sizes)&&c.isArray(e.sizes[0])&&2===e.sizes[0].length?(o=parseInt(e.sizes[0][0],10),a=parseInt(e.sizes[0][1],10)):c.isArray(n)&&2===n.length&&(o=parseInt(n[0],10),a=parseInt(n[1],10)),Object.keys(i).forEach(function(e){"openrtb"===e?(i[e].w=o||i[e].w,i[e].v=a||i[e].v,r[e]=JSON.stringify(i[e])):e in r||"url"===e||(r[e]=i[e])}),r.auid=e.params.unit,r.vwd=o||i.vwd,r.vht=a||i.vht,"outstream"===t&&(r.vos="101"),i.mimes&&(r.vmimes=i.mimes),e.params.test&&(r.vtest=1),r}(e,t)).ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(e.params.delDomain,"/v/1.0/avjp"),data:t,payload:{bid:e,startTime:new Date}}}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=t.USER_ID_CODE_TO_QUERY_ARG=void 0;var d=r(3);e=r(1);var c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0)),u=r(2);r=[u.BANNER,u.VIDEO];const p={britepoolid:"britepoolid",criteoId:"criteoid",digitrustid:"digitrustid",id5id:"id5id",idl_env:"lre",lipb:"lipbid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",tdid:"ttduuid"};t.USER_ID_CODE_TO_QUERY_ARG=p,r={code:"openx",gvlid:69,supportedMediaTypes:r,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return c.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<c.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];let r=[],[i,n]=e.reduce(function(e,t){return(c.deepAccess(t,"mediaTypes.video")&&!c.deepAccess(t,"mediaTypes.banner")||t.mediaType===u.VIDEO?e[0]:e[1]).push(t),e},[[],[]]);return 0<n.length&&r.push(function(e,t){let i=[],n=!1;t=s(e,t);let r=c._map(e,e=>e.params.unit);t.aus=c._map(e,e=>c.parseSizesInput(e.mediaTypes.banner.sizes).join(",")).join("|"),t.divIds=c._map(e,e=>encodeURIComponent(e.adUnitCode)).join(","),r.some(e=>e)&&(t.auid=r.join(",")),e.some(e=>e.params.doNotTrack)&&(t.ns=1),!0!==d.config.getConfig("coppa")&&!e.some(e=>e.params.coppa)||(t.tfcd=1),e.forEach(function(r){var e;r.params.customParams?(e=c._map(Object.keys(r.params.customParams),t=>{{let e=r.params.customParams[t];c.isArray(e)&&(e=e.join(",")),t=(t.toLowerCase()+"="+e.toLowerCase()).replace("+",".").replace("/","_")}return t}),e=window.btoa(e.join("&")),n=!0,i.push(e)):i.push("")}),n&&(t.tps=i.join(","));let o=[],a=!1;return e.forEach(function(t){{var r=u.BANNER;let e={};var i=d.config.getConfig("currency.adServerCurrency")||"USD";"function"==typeof t.getFloor&&(e=t.getFloor({currency:i,mediaType:r,size:"*"})),t=Math.round(1e3*(e.floor||t.params.customFloor||0))}t?(o.push(t),a=!0):o.push(0)}),a&&(t.aumfs=o.join(",")),{method:"GET",url:t.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:t,payload:{bids:e,startTime:new Date}}}(n,t)),0<i.length&&i.forEach(e=>{r.push(o(e,t))}),r},interpretResponse:function({body:e},t){return((/avjp$/.test(t.url)?u.VIDEO:u.BANNER)===u.VIDEO?function(r,{bid:i}){let n=[];if(void 0!==r&&""!==r.vastUrl&&0<r.pub_rev){let e=c.parseUrl(r.vastUrl).search||{},t={};t.requestId=i.bidId,t.ttl=300,t.netRevenue=!0,t.currency=r.currency,t.cpm=parseInt(r.pub_rev,10)/1e3,t.width=parseInt(r.width,10),t.height=parseInt(r.height,10),t.creativeId=r.adid,t.vastUrl=r.vastUrl,t.mediaType=u.VIDEO,r.ph=e.ph,r.colo=e.colo,r.ts=e.ts,n.push(t)}return n}:function(r,{bids:i}){r=r.ads.ad;let n=[];for(let t=0;t<r.length;t++){var o=r[t],a=parseInt(o.idx,10);let e={};e.requestId=i[a].bidId,o.pub_rev&&(e.cpm=Number(o.pub_rev)/1e3,(a=o.creative[0])&&(e.width=a.width,e.height=a.height),e.creativeId=a.id,e.ad=o.html,o.deal_id&&(e.dealId=o.deal_id),e.ttl=300,e.netRevenue=!0,e.currency=o.currency,o.tbd&&(e.tbd=o.tbd),e.ts=o.ts,e.meta={},o.brand_id&&(e.meta.brandId=o.brand_id),o.adv_id&&(e.meta.dspid=o.adv_id),n.push(e))}return n})(e,t.payload)},getUserSyncs:function(e,t,r,i){if(e.iframeEnabled||e.pixelEnabled)return e=e.iframeEnabled?"iframe":"image",(t=c.deepAccess(t,"0.body.ads.pixels")||c.deepAccess(t,"0.body.pixels"))||(t=[],r&&(t.push("gdpr="+(r.gdprApplies?1:0)),t.push("gdpr_consent="+encodeURIComponent(r.consentString||""))),i&&t.push("us_privacy="+encodeURIComponent(i)),t="".concat("https://u.openx.net/w/1.0/pd").concat(0<t.length?"?"+t.join("&"):"")),[{type:e,url:t}]},transformBidParams:function(e,t){return c.convertTypes({unit:"string",customFloor:"number"},e)}},t.spec=r,(0,e.registerBidder)(r)}},[454]),pbjsChunk([145],{497:function(e,t,r){e.exports=r(498)},498:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e,t){if(g.isStr(t))switch(e){case"pmzoneid":return t.split(",").slice(0,50).map(e=>e.trim()).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||void 0;case"yob":return parseInt(t)||void 0;default:return t}}function f(e,t){t={};var r,i,n={},o=e.hasOwnProperty("sizes")?e.sizes:[],a="",s=[];if(t={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:l("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:l("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?l("currency",e.params.currency):"USD"},r=t,(i=e).params.deals&&g.isArray(i.params.deals)&&i.params.deals.forEach(function(e){g.isStr(e)&&3<e.length&&(r.pmp||(r.pmp={private_auction:0,deals:[]}),r.pmp.deals.push({id:e}))}),e.hasOwnProperty("mediaTypes"))for(a in e.mediaTypes)switch(a){case m.BANNER:var d=function(e){var t=e.mediaTypes.banner.sizes,r=[];if(void 0!==t&&g.isArray(t)){var i={};if(e.params.width||e.params.height)i.w=e.params.width,i.h=e.params.height;else{if(0===t.length)return;i.w=parseInt(t[0][0],10),i.h=parseInt(t[0][1],10),t=t.splice(1,t.length-1)}0<t.length&&(r=[],t.forEach(function(e){1<e.length&&r.push({w:e[0],h:e[1]})}),0<r.length&&(i.format=r)),i.pos=0,i.topframe=g.inIframe()?0:1}else i=void 0;return i}(e);void 0!==d&&(t.banner=d);break;case m.NATIVE:n.request=JSON.stringify(function(e){var t,r,i,n,o={assets:[]};for(t in e){if(e.hasOwnProperty(t)){var a={};if(!(o.assets&&0<o.assets.length&&o.assets.hasOwnProperty(t)))switch(t){case p.TITLE.KEY:(e[t].len||e[t].length)&&(a={id:p.TITLE.ID,required:e[t].required?1:0,title:{len:e[t].len||e[t].length,ext:e[t].ext}});break;case p.IMAGE.KEY:e[t].sizes&&0<e[t].sizes.length&&(a={id:p.IMAGE.ID,required:e[t].required?1:0,img:{type:v.IMAGE,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:void 0),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:void 0),wmin:e[t].wmin||e[t].minimumWidth||(e[t].minsizes?e[t].minsizes[0]:void 0),hmin:e[t].hmin||e[t].minimumHeight||(e[t].minsizes?e[t].minsizes[1]:void 0),mimes:e[t].mimes,ext:e[t].ext}});break;case p.ICON.KEY:e[t].sizes&&0<e[t].sizes.length&&(a={id:p.ICON.ID,required:e[t].required?1:0,img:{type:v.ICON,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:void 0),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:void 0)}});break;case p.VIDEO.KEY:a={id:p.VIDEO.ID,required:e[t].required?1:0,video:{minduration:e[t].minduration,maxduration:e[t].maxduration,protocols:e[t].protocols,mimes:e[t].mimes,ext:e[t].ext}};break;case p.EXT.KEY:a={id:p.EXT.ID,required:e[t].required?1:0};break;case p.LOGO.KEY:a={id:p.LOGO.ID,required:e[t].required?1:0,img:{type:v.LOGO,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:void 0),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:void 0)}};break;case p.SPONSOREDBY.KEY:case p.BODY.KEY:case p.RATING.KEY:case p.LIKES.KEY:case p.DOWNLOADS.KEY:case p.PRICE.KEY:case p.SALEPRICE.KEY:case p.PHONE.KEY:case p.ADDRESS.KEY:case p.DESC2.KEY:case p.DISPLAYURL.KEY:case p.CTA.KEY:r=S[t],i=e,n=void 0,n=r.KEY,a={id:r.ID,required:i[n].required?1:0,data:{type:r.TYPE,len:i[n].len,ext:i[n].ext}}}}a&&a.id&&(o.assets[o.assets.length]=a)}e=b.length;var s=0;return b.forEach(e=>{for(var t=o.assets.length,r=0;r<t;r++)if(e.id==o.assets[r].id){s++;break}}),E=e!=s,o}(e.nativeParams)),E||(t.native=n);break;case m.VIDEO:void 0!==(d=function(e){var t=e.params.video;if(void 0!==t){var r,i={};for(r in u)if(t.hasOwnProperty(r)){var n=i,o=r,a=void 0,s=t[r];switch(u[r]){case c.BOOLEAN:a=g.isBoolean;break;case c.NUMBER:a=g.isNumber;break;case c.STRING:a=g.isStr;break;case c.ARRAY:a=g.isArray}a=a(s)?s:void 0,n[o]=a}g.isArray(e.mediaTypes.video.playerSize[0])?(i.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),i.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):g.isNumber(e.mediaTypes.video.playerSize[0])&&(i.w=parseInt(e.mediaTypes.video.playerSize[0],10),i.h=parseInt(e.mediaTypes.video.playerSize[1],10)),e.params.video.hasOwnProperty("skippable")&&(i.ext={video_skippable:e.params.video.skippable?1:0})}else i=void 0;return i}(e))&&(t.video=d)}else d={pos:0,w:e.params.width,h:e.params.height,topframe:g.inIframe()?0:1},g.isArray(o)&&1<o.length&&((o=o.splice(1,o.length-1)).forEach(e=>{s.push({w:e[0],h:e[1]})}),d.format=s),t.banner=d;return function(t,r){let i=-1;"function"!=typeof r.getFloor||h.config.getConfig("pubmatic.disableFloors")||[m.BANNER,m.VIDEO,m.NATIVE].forEach(e=>{t.hasOwnProperty(e)&&("object"!=typeof(e=r.getFloor({currency:t.bidfloorcur,mediaType:e,size:"*"}))||e.currency!==t.bidfloorcur||isNaN(parseInt(e.floor))||(e=parseFloat(e.floor),i=-1==i?e:Math.min(e,i)))}),t.bidfloor&&(i=Math.max(i,t.bidfloor)),t.bidfloor=!isNaN(i)&&0<i?i:void 0}(t,e),t.hasOwnProperty(m.BANNER)||t.hasOwnProperty(m.NATIVE)||t.hasOwnProperty(m.VIDEO)?t:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var g=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0));e=r(1);var m=r(2),h=r(3),i=r(10);const n="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),y={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},c={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},u={mimes:c.ARRAY,minduration:c.NUMBER,maxduration:c.NUMBER,startdelay:c.NUMBER,playbackmethod:c.ARRAY,api:c.ARRAY,protocols:c.ARRAY,w:c.NUMBER,h:c.NUMBER,battr:c.ARRAY,linearity:c.NUMBER,placement:c.NUMBER,minbitrate:c.NUMBER,maxbitrate:c.NUMBER},p={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},v={ICON:1,LOGO:2,IMAGE:3},b=[{id:p.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:p.TITLE.ID,required:!0},{id:p.IMAGE.ID,required:!0}],d={1:"PMP",5:"PREF",6:"PMPG"},I={bootstrapPlayer:function(e){const t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){var r=I.getRendererId("pubmatic",e.rendererCode);e=document.getElementById(e.adUnitCode);for(let e=0;e<window.bluebillywig.renderers.length;e++)if(window.bluebillywig.renderers[e]._id===r){var i=window.bluebillywig.renderers[e];break}i&&i.bootstrap(t,e)}},newRenderer:function(e,t){e=n.replace("$RENDERER",e),t=i.Renderer.install({url:e,loaded:!1,adUnitCode:t});try{t.setRender(I.outstreamRender)}catch(e){}return t},outstreamRender:function(e){e.renderer.push(function(){I.bootstrapPlayer(e)})},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}};let _=0,E=!1,C={},S={};g._each(p,e=>{C[e.ID]=e.KEY}),g._each(p,e=>{S[e.KEY]=e}),r={code:"pubmatic",gvlid:76,supportedMediaTypes:[m.BANNER,m.VIDEO,m.NATIVE],isBidRequestValid:e=>{if(e&&e.params){if(!g.isStr(e.params.publisherId))return!1;if(e.params.hasOwnProperty("video")){if(!(e.params.video.hasOwnProperty("mimes")&&g.isArray(e.params.video.mimes)&&0!==e.params.video.mimes.length&&e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(m.VIDEO)))return!1;if(!e.mediaTypes[m.VIDEO].hasOwnProperty("context")||"outstream"===e.mediaTypes[m.VIDEO].context&&!g.isStr(e.params.outstreamAU))return!1}return!0}return!1},buildRequests:(e,t)=>{var o,r,i,n,a,s={pageURL:(n=t&&t.refererInfo?t.refererInfo:n)&&n.referer?n.referer:window.location.href,refURL:window.document.referrer},d=(i=s,{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:i.pageURL,ref:i.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}),c="",u=[],p=[];if(e.forEach(e=>{(o=g.deepClone(e)).params.adSlot=o.params.adSlot||"",(e=o).params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0;var t,r,i=e.params,n=e.params.adSlot,n=g.isStr(n)?n.replace(/^\s+/g,"").replace(/\s+$/g,""):"";if(i.adSlot=n,i=(n=(i=e.params.adSlot).split(":"))[0],2==n.length&&(e.params.adUnitIndex=n[1]),n=i.split("@"),e.params.adUnit=n[0],1<n.length)2==(n=n[1].split("x")).length&&(e.params.width=parseInt(n[0],10),e.params.height=parseInt(n[1],10));else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(m.BANNER)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(i=0,n=[];i<e.mediaTypes.banner.sizes.length;i++)2===e.mediaTypes.banner.sizes[i].length&&n.push(e.mediaTypes.banner.sizes[i]);e.mediaTypes.banner.sizes=n,1<=e.mediaTypes.banner.sizes.length&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}if(o.params.hasOwnProperty("video")||o.hasOwnProperty("mediaTypes")&&o.mediaTypes.hasOwnProperty(m.NATIVE)||0!==o.params.width||0!==o.params.height){for(t in s.pubId=s.pubId||o.params.publisherId,e=o.params,(i=s).kadpageurl||(i.kadpageurl=i.pageURL),y)y.hasOwnProperty(t)&&(n=e[t])&&("object"==typeof(r=y[t])&&(n=r.f(n,i)),g.isStr(n)&&(i[t]=n));(s=i).transactionId=o.transactionId,""===c?c=o.params.currency||void 0:o.params.hasOwnProperty("currency"),o.params.currency=c,o.params.hasOwnProperty("dctr")&&g.isStr(o.params.dctr)&&u.push(o.params.dctr),o.params.hasOwnProperty("bcat")&&g.isArray(o.params.bcat)&&(p=p.concat(o.params.bcat)),(t=f(o,s))&&d.imp.push(t)}}),0!=d.imp.length)return d.site.publisher.id=s.pubId.trim(),_=s.pubId.trim(),d.ext.wrapper={},d.ext.wrapper.profile=parseInt(s.profId)||void 0,d.ext.wrapper.version=parseInt(s.verId)||void 0,d.ext.wrapper.wiid=s.wiid||t.auctionId,d.ext.wrapper.wv="prebid_prebid_4.8.0",d.ext.wrapper.transactionId=s.transactionId,d.ext.wrapper.wp="pbjs",d.user.gender=s.gender?s.gender.trim():void 0,d.user.geo={},d.user.geo.lat=l("lat",s.lat),d.user.geo.lon=l("lon",s.lon),d.user.yob=l("yob",s.yob),d.device.geo=d.user.geo,d.site.page=s.kadpageurl.trim()||d.site.page.trim(),d.site.domain=function(e){let t=document.createElement("a");return t.href=e,t.hostname}(d.site.page),"object"==typeof h.config.getConfig("content")&&(d.site.content=h.config.getConfig("content")),"object"==typeof h.config.getConfig("device")&&(d.device=Object.assign(d.device,h.config.getConfig("device"))),g.deepSetValue(d,"source.tid",s.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(d.test=1),e[0].schain&&g.deepSetValue(d,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(g.deepSetValue(d,"user.ext.consent",t.gdprConsent.consentString),g.deepSetValue(d,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&g.deepSetValue(d,"regs.ext.us_privacy",t.uspConsent),!0===h.config.getConfig("coppa")&&g.deepSetValue(d,"regs.coppa",1),r=d,n=e,a="",0<(i=u).length&&n[0].params.hasOwnProperty("dctr")&&(a=n[0].params.dctr,g.isStr(a)&&0<a.length&&(i=a.split("|"),a="",i.forEach(e=>{a+=0<e.length?e.trim()+"|":""}),i=a.length,"|"===a.substring(i,i-1)&&(a=a.substring(0,i-1)),r.site.ext={key_val:a.trim()})),r=d,e=e,e=g.deepAccess(e,"0.userIdAsEids"),g.isArray(e)&&0<e.length&&g.deepSetValue(r,"user.eids",e),r=d,0<(e=(e=p).filter(function(e){return"string"==typeof e}).map(e=>e.trim()).filter(function(e,t,r){if(3<e.length)return r.indexOf(e)===t})).length&&(r.bcat=e),"object"==typeof h.config.getConfig("app")&&(d.app=h.config.getConfig("app"),d.app.publisher=d.site.publisher,d.app.ext=d.site.ext||void 0,"object"!=typeof d.app.content&&(d.app.content=d.site.content||void 0),delete d.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(d),bidderRequest:t}},interpretResponse:(e,s)=>{const t=[];var r="USD";let i=JSON.parse(s.data),n=i.site&&i.site.ref?i.site.ref:"";try{e.body&&e.body.seatbid&&g.isArray(e.body.seatbid)&&(r=e.body.cur||r,e.body.seatbid.forEach(e=>{e.bid&&g.isArray(e.bid)&&e.bid.forEach(o=>{let a={requestId:o.impid,cpm:(parseFloat(o.price)||0).toFixed(2),width:o.w,height:o.h,creativeId:o.crid||o.id,dealId:o.dealid,currency:r,netRevenue:!1,ttl:300,referrer:n,ad:o.adm,pm_seat:e.seat||null,pm_dspid:o.ext&&o.ext.dspid?o.ext.dspid:null,partnerImpId:o.id||""};i.imp&&0<i.imp.length&&i.imp.forEach(r=>{if(o.impid===r.id){var e,i,t=o.adm,n=new RegExp(/VAST\s+version/);if(0<=t.indexOf('span class="PubAPIAd"'))a.mediaType=m.BANNER;else if(n.test(t))a.mediaType=m.VIDEO;else try{(e=JSON.parse(t.replace(/\\/g,"")))&&e.native&&(a.mediaType=m.NATIVE)}catch(e){}switch(a.mediaType){case m.VIDEO:a.width=(o.hasOwnProperty("w")?o:r.video).w,a.height=(o.hasOwnProperty("h")?o:r.video).h,a.vastXml=o.adm;{let e,t;if(s.bidderRequest&&s.bidderRequest.bids){for(r=0;r<s.bidderRequest.bids.length;r++)s.bidderRequest.bids[r].bidId===a.requestId&&(i=s.bidderRequest.bids[r].params,e=s.bidderRequest.bids[r].mediaTypes[m.VIDEO].context,t=s.bidderRequest.bids[r].adUnitCode);e&&"outstream"===e&&i&&i.outstreamAU&&t&&(a.rendererCode=i.outstreamAU,a.renderer=I.newRenderer(a.rendererCode,t))}}break;case m.NATIVE:e:if(a.native={},o.hasOwnProperty("adm")){i="";try{i=JSON.parse(o.adm.replace(/\\/g,""))}catch(e){break e}if(i&&i.native&&i.native.assets&&0<i.native.assets.length){a.mediaType=m.NATIVE;for(let e=0,t=i.native.assets.length;e<t;e++)switch(i.native.assets[e].id){case p.TITLE.ID:a.native.title=i.native.assets[e].title&&i.native.assets[e].title.text;break;case p.IMAGE.ID:a.native.image={url:i.native.assets[e].img&&i.native.assets[e].img.url,height:i.native.assets[e].img&&i.native.assets[e].img.h,width:i.native.assets[e].img&&i.native.assets[e].img.w};break;case p.ICON.ID:a.native.icon={url:i.native.assets[e].img&&i.native.assets[e].img.url,height:i.native.assets[e].img&&i.native.assets[e].img.h,width:i.native.assets[e].img&&i.native.assets[e].img.w};break;case p.SPONSOREDBY.ID:case p.BODY.ID:case p.LIKES.ID:case p.DOWNLOADS.ID:case p.PRICE:case p.SALEPRICE.ID:case p.PHONE.ID:case p.ADDRESS.ID:case p.DESC2.ID:case p.CTA.ID:case p.RATING.ID:case p.DISPLAYURL.ID:a.native[C[i.native.assets[e].id]]=i.native.assets[e].data&&i.native.assets[e].data.value}a.native.clickUrl=i.native.link&&i.native.link.url,a.native.clickTrackers=i.native.link&&i.native.link.clicktrackers||[],a.native.impressionTrackers=i.native.imptrackers||[],a.native.jstracker=i.native.jstracker||[],a.width||(a.width=0),a.height||(a.height=0)}}}}}),o.ext&&o.ext.deal_channel&&(a.dealChannel=d[o.ext.deal_channel]||null),a.meta={},o.ext&&o.ext.dspid&&(a.meta.networkId=o.ext.dspid),o.ext&&o.ext.advid&&(a.meta.buyerId=o.ext.advid),o.adomain&&0<o.adomain.length&&(a.meta.advertiserDomains=o.adomain,a.meta.clickUrl=o.adomain[0]),e.ext&&e.ext.buyid&&(a.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),t.push(a)})}))}catch(e){}return t},getUserSyncs:(e,t,r,i)=>(t=""+_,r&&(t+="&gdpr="+(r.gdprApplies?1:0),t+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),i&&(t+="&us_privacy="+encodeURIComponent(i)),!0===h.config.getConfig("coppa")&&(t+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+t}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+t}]),transformBidParams:function(e,t){return g.convertTypes({publisherId:"string",adSlot:"string"},e)}},t.spec=r,(0,e.registerBidder)(r)}},[497]),pbjsChunk([124],{557:function(e,t,r){e.exports=r(558)},558:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function u(e={},t){return t&&I[t]?(t=I[t],!(e=(e=y.deepAccess(e,"userId.digitrustid.data"))||((e=window.DigiTrust&&(v.config.getConfig("digiTrustId")||window.DigiTrust.getUser({member:"T9QSFKPDN9"})))&&e.success&&e.identity||null))||e.privacy&&e.privacy.optout?null:(e={[t.id]:e.id,[t.keyv]:e.keyv},t.pref&&(e[t.pref]=0),e)):null}function p(e,t){let r=v.config.getConfig("pageUrl");return r=e.params.referrer||r||t.refererInfo.referer,e.params.secure?r.replace(/^http:/i,"https:"):r}function l(e,t){var r=e.params;return"video"===t?(t=[],r.video&&r.video.playerWidth&&r.video.playerHeight?t=[r.video.playerWidth,r.video.playerHeight]:Array.isArray(y.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?t=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(t=e.sizes[0]),t):(t=[],Array.isArray(r.sizes)?t=r.sizes:void 0!==y.deepAccess(e,"mediaTypes.banner.sizes")?t=i(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length&&(t=i(e.sizes)),s(t))}function d(e,t){"object"==typeof e.imp[0].video&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"==typeof e.imp[0].video&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"==typeof e.imp[0].video&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3)),t=l(t,"video"),e.imp[0].video.w=t[0],e.imp[0].video.h=t[1]}function i(e){return y.parseSizesInput(e).reduce((e,t)=>((t=parseInt(_[t],10))&&e.push(t),e),[])}function n(e){return"object"==typeof y.deepAccess(e,"params.video")&&void 0!==y.deepAccess(e,"mediaTypes.".concat(b.VIDEO))}function o(e){return n(e)?-1===["outstream","instream"].indexOf(y.deepAccess(e,"mediaTypes.".concat(b.VIDEO,".context")))||l(e,"video").length<2?void 0:"video":0===l(e,"banner").length?void 0:"banner"}function s(e){const n=[15,2,9];return e.sort((e,t)=>{var r=n.indexOf(e),i=n.indexOf(t);return-1<r||-1<i?-1===r?1:-1===i?-1:r-i:e-t})}function c(e){var t=parseInt(y.deepAccess(e,"params.video.size_id"));return isNaN(t)?"outstream"===y.deepAccess(e,"mediaTypes.".concat(b.VIDEO,".context"))?203:201:t}function f(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}function g(t){let r=!0,e=Object.prototype.toString.call([]),i=Object.prototype.toString.call(0);var n={mimes:e,protocols:e,maxduration:i,linearity:i,api:e};return Object.keys(n).forEach(function(e){Object.prototype.toString.call(y.deepAccess(t,"mediaTypes.video."+e))!==n[e]&&(r=!1)}),r}function m(e){let t=!1;const r=["asi","sid","hp"];return e.nodes?t=e.nodes.reduce((e,t)=>e&&r.every(e=>t.hasOwnProperty(e)),!0):t}function h(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.hasVideoMediaType=n,t.masSizeOrdering=s,t.determineRubiconVideoSizeId=c,t.getPriceGranularity=f,t.hasValidVideoParams=g,t.hasValidSupplyChainParams=m,t.encodeParam=h,t.resetUserSync=function(){C=!1},t.spec=t.SYNC_ENDPOINT=t.VIDEO_ENDPOINT=t.FASTLANE_ENDPOINT=void 0;var y=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0));e=r(1);var v=r(3),b=r(2);t.FASTLANE_ENDPOINT="https://fastlane.rubiconproject.com/a/api/fastlane.json",t.VIDEO_ENDPOINT="https://prebid-server.rubiconproject.com/openrtb2/auction",t.SYNC_ENDPOINT="https://eus.rubiconproject.com/usync.html";const I={FASTLANE:{id:"dt.id",keyv:"dt.keyv",pref:"dt.pref"},PREBID_SERVER:{id:"id",keyv:"keyv"}};var _={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380"};y._each(_,(e,t)=>_[e]=t);const E={code:"rubicon",gvlid:52,supportedMediaTypes:[b.BANNER,b.VIDEO],isBidRequestValid:function(r){if("object"!=typeof r.params)return!1;for(let e=0,t=["accountId","siteId","zoneId"];e<t.length;e++)if(r.params[t[e]]=parseInt(r.params[t[e]]),isNaN(r.params[t[e]]))return!1;var e=o(r);return!!e&&("video"!==e||g(r))},buildRequests:function(e,s){var t=[],t=e.filter(e=>"video"===o(e)).map(r=>{r.startTime=(new Date).getTime();const i={id:r.transactionId,test:v.config.getConfig("debug")?1:0,cur:["USD"],source:{tid:r.transactionId},tmax:v.config.getConfig("TTL")||1e3,imp:[{exp:300,id:r.adUnitCode,secure:1,ext:{[r.bidder]:r.params},video:y.deepAccess(r,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!1}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:f(v.config)},bidders:{rubicon:{integration:v.config.getConfig("rubicon.int_type")||"pbjs"}}}}};if("rubicon"!==r.bidder&&(i.ext.prebid.aliases={[r.bidder]:"rubicon"}),"function"!=typeof r.getFloor||v.config.getConfig("rubicon.disableFloors"))var e=parseFloat(y.deepAccess(r,"params.floor"));else{try{e=r.getFloor({currency:"USD",mediaType:"video",size:l(r,"video")})}catch(e){}e="object"!=typeof e||"USD"!==e.currency||isNaN(parseInt(e.floor))?void 0:parseFloat(e.floor)}var t,n,o,a;if(isNaN(e)||(i.imp[0].bidfloor=e),i.imp[0].ext[r.bidder].video.size_id=c(r),t=i,n=r,o=s,t&&("object"==typeof v.config.getConfig("app")?t.app=v.config.getConfig("app"):t.site={page:p(n,o)},"object"==typeof v.config.getConfig("device")&&(t.device=v.config.getConfig("device")),n.params.video.language&&["site","device"].forEach(function(e){t[e]&&(t[e].content=Object.assign({language:n.params.video.language},t[e].content))})),d(i,r),(e=u(r,"PREBID_SERVER"))&&y.deepSetValue(i,"user.ext.digitrust",e),s.gdprConsent&&("boolean"==typeof s.gdprConsent.gdprApplies&&(a=s.gdprConsent.gdprApplies?1:0),y.deepSetValue(i,"regs.ext.gdpr",a),y.deepSetValue(i,"user.ext.consent",s.gdprConsent.consentString)),s.uspConsent&&y.deepSetValue(i,"regs.ext.us_privacy",s.uspConsent),(a=y.deepAccess(s,"bids.0.userIdAsEids"))&&a.length&&(y.deepSetValue(i,"user.ext.eids",a.filter(e=>-1!==["adserver.org","pubcid.org","liveintent.com","liveramp.com","sharedid.org"].indexOf(e.source))),a=Array.prototype.find.call(i.user.ext.eids,e=>"liveintent.com"===e.source))&&(y.deepSetValue(i,"user.ext.tpid",{source:a.source,uid:a.uids[0].id}),a.ext&&a.ext.segments&&y.deepSetValue(i,"rp.target.LIseg",a.ext.segments)),(a=v.config.getConfig("user.id"))&&y.deepSetValue(i,"user.id",a),!0===v.config.getConfig("coppa")&&y.deepSetValue(i,"regs.coppa",1),r.schain&&m(r.schain)&&y.deepSetValue(i,"source.ext.schain",r.schain),a=Object.assign({},r.params.inventory,v.config.getConfig("fpd.context")),e=Object.assign({},r.params.visitor,v.config.getConfig("fpd.user")),!y.isEmpty(a)||!y.isEmpty(e)){const r={bidders:[s.bidderCode],config:{fpd:{}}};y.isEmpty(a)||(r.config.fpd.site=a),y.isEmpty(e)||(r.config.fpd.user=e),y.deepSetValue(i,"ext.prebid.bidderconfig.0",r)}return"string"==typeof(a=y.deepAccess(r,"fpd.context.pbAdSlot"))&&a&&y.deepSetValue(i.imp[0].ext,"context.data.pbadslot",a),["name","adSlot"].forEach(e=>{var t=y.deepAccess(r,"fpd.context.adserver.".concat(e));"string"==typeof t&&t&&y.deepSetValue(i.imp[0].ext,"context.data.adserver.".concat(e.toLowerCase()),t)}),r.storedAuctionResponse&&y.deepSetValue(i.imp[0],"ext.prebid.storedauctionresponse.id",r.storedAuctionResponse.toString()),y.deepSetValue(i.imp[0],"ext.prebid.auctiontimestamp",s.auctionStart),{method:"POST",url:"https://prebid-server.rubiconproject.com/openrtb2/auction",data:i,bidRequest:r}});if(!0!==v.config.getConfig("rubicon.singleRequest"))t=t.concat(e.filter(e=>"banner"===o(e)).map(e=>{const i=E.createSlotParams(e,s);return{method:"GET",url:"https://fastlane.rubiconproject.com/a/api/fastlane.json",data:E.getOrderedParams(i).reduce((e,t)=>{var r=i[t];return y.isStr(r)&&""!==r||y.isNumber(r)?"".concat(e).concat(h(t,r),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}}));else{const d=e.filter(e=>"banner"===o(e)).reduce((e,t)=>((e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e),{});t=t.concat(Object.keys(d).reduce((t,e)=>{var r,i;return r=d[e],i=10,r.map((e,t)=>0==t%i?r.slice(t,t+i):null).filter(e=>e).forEach(e=>{const i=E.combineSlotUrlParams(e.map(e=>E.createSlotParams(e,s)));t.push({method:"GET",url:"https://fastlane.rubiconproject.com/a/api/fastlane.json",data:E.getOrderedParams(i).reduce((e,t)=>{var r=i[t];return y.isStr(r)&&""!==r||y.isNumber(r)?"".concat(e).concat(h(t,r),"&"):e},"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})}),t},[]))}return t},getOrderedParams:function(e){const t=/^tg_v/,r=/^tg_i/,i="account_id site_id zone_id size_id alt_size_ids p_pos gdpr gdpr_consent us_privacy rp_schain tpid_tdid tpid_liveintent.com tg_v.LIseg dt.id dt.keyv dt.pref rf p_geo.latitude p_geo.longitude kw".split(" ").concat(Object.keys(e).filter(e=>t.test(e))).concat(Object.keys(e).filter(e=>r.test(e))).concat("tk_flint x_source.tid x_source.pchain p_screen_res rp_floor rp_secure tk_user_key".split(" "));return i.concat(Object.keys(e).filter(e=>-1===i.indexOf(e)))},combineSlotUrlParams:function(n){if(1===n.length)return n[0];const i=n.reduce(function(t,r,i){return Object.keys(r).forEach(function(e){t.hasOwnProperty(e)||(t[e]=Array(n.length)),t[e].splice(i,1,r[e])}),t},{}),o=/^([^;]*)(;\1)+$/;return Object.keys(i).forEach(function(e){const t=i[e].join(";"),r=t.match(o);i[e]=r?r[1]:t}),i},createSlotParams:function(t,e){t.startTime=(new Date).getTime();const r=t.params;var i=l(t,"banner");const[n,o]=r.latLong||[],a=v.config.getConfig("rubicon.int_type"),s={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,rp_floor:.01<(r.floor=parseFloat(r.floor))?r.floor:.01,rp_secure:"1",tk_flint:"".concat(a||"pbjs_lite","_v4.8.0"),"x_source.tid":t.transactionId,"x_source.pchain":r.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(n))?void 0:parseFloat(n).toFixed(4),"p_geo.longitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"tg_fl.eid":t.code,rf:p(t,e)};if("function"==typeof t.getFloor&&!v.config.getConfig("rubicon.disableFloors")){let e;try{e=t.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){}s.rp_hard_floor="object"!=typeof e||"USD"!==e.currency||isNaN(parseInt(e.floor))?void 0:e.floor}s.p_pos="atf"===r.position||"btf"===r.position?r.position:"",t.userIdAsEids&&t.userIdAsEids.length&&((i=Array.prototype.find.call(t.userIdAsEids,e=>"adserver.org"===e.source))&&(s.tpid_tdid=i.uids[0].id),(i=Array.prototype.find.call(t.userIdAsEids,e=>"liveintent.com"===e.source))&&(s["tpid_liveintent.com"]=i.uids[0].id,i.ext&&Array.isArray(i.ext.segments)&&i.ext.segments.length&&(s["tg_v.LIseg"]=i.ext.segments.join(","))),(i=Array.prototype.find.call(t.userIdAsEids,e=>"liveramp.com"===e.source))&&(s.x_liverampidl=i.uids[0].id),(i=Array.prototype.find.call(t.userIdAsEids,e=>"sharedid.org"===e.source))&&(s["eid_sharedid.org"]="".concat(i.uids[0].id,"^").concat(i.uids[0].atype,"^").concat(i.uids[0].ext.third))),(i=v.config.getConfig("user.id"))&&(s.ppuid=i),e.gdprConsent&&("boolean"==typeof e.gdprConsent.gdprApplies&&(s.gdpr=Number(e.gdprConsent.gdprApplies)),s.gdpr_consent=e.gdprConsent.consentString),e.uspConsent&&(s.us_privacy=encodeURIComponent(e.uspConsent));const d=Object.assign({},r.visitor,v.config.getConfig("fpd.user"));Object.keys(d).forEach(e=>{null!=d[e]&&"keywords"!==e&&(s["tg_v.".concat(e)]="object"!=typeof d[e]||Array.isArray(d[e])?d[e].toString():JSON.stringify(d[e]))});const c=Object.assign({},r.inventory,v.config.getConfig("fpd.context"));return Object.keys(c).forEach(e=>{null!=c[e]&&"keywords"!==e&&(s["tg_i.".concat(e)]="object"!=typeof c[e]||Array.isArray(c[e])?c[e].toString():JSON.stringify(c[e]))}),e=(r.keywords||[]).concat(y.deepAccess(v.config.getConfig("fpd.user"),"keywords")||[],y.deepAccess(v.config.getConfig("fpd.context"),"keywords")||[]),s.kw=Array.isArray(e)&&e.length?e.join(","):"","string"==typeof(e=y.deepAccess(t,"fpd.context.pbAdSlot"))&&e&&(s["tg_i.pbadslot"]=e.replace(/^\/+/,"")),"string"==typeof(e=y.deepAccess(t,"fpd.context.adServer.adSlot"))&&e&&(s["tg_i.dfp_ad_unit_code"]=e.replace(/^\/+/,"")),e=u(t,"FASTLANE"),Object.assign(s,e),!0===v.config.getConfig("coppa")&&(s.coppa=1),t.schain&&m(t.schain)&&(s.rp_schain=E.serializeSupplyChain(t.schain)),s},serializeSupplyChain:function(e){if(!m(e))return"";var{ver:t,complete:r,nodes:e}=e;return"".concat(t,",").concat(r,"!").concat(E.serializeSupplyChainNodes(e))},serializeSupplyChainNodes:function(e){const r="asi sid hp rid name domain".split(" ");return e.map(t=>r.map(e=>encodeURIComponent(t[e]||"")).join(",")).join("!")},interpretResponse:function(n,{bidRequest:a}){if(!(n=n.body)||"object"!=typeof n)return[];if(n.seatbid){var e=y.deepAccess(n,"ext.errors.rubicon");Array.isArray(e);const o=[];return n.seatbid.forEach(i=>{(i.bid||[]).forEach(e=>{let t={requestId:a.bidId,currency:n.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:i.seat,ttl:300,netRevenue:!1!==v.config.getConfig("rubicon.netRevenue"),width:e.w||y.deepAccess(a,"mediaTypes.video.w")||y.deepAccess(a,"params.video.playerWidth"),height:e.h||y.deepAccess(a,"mediaTypes.video.h")||y.deepAccess(a,"params.video.playerHeight")};e.id&&(t.seatBidId=e.id),e.dealid&&(t.dealId=e.dealid);var r=y.deepAccess(n,"ext.responsetimemillis.rubicon");a&&r&&(a.serverResponseTimeMs=r),y.deepAccess(e,"ext.prebid.type")===b.VIDEO&&(t.mediaType=b.VIDEO,(r=y.deepAccess(e,"ext.prebid.targeting"))&&"object"==typeof r&&(t.adserverTargeting=r),e.ext.prebid.cache&&"object"==typeof e.ext.prebid.cache.vastXml&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):r&&r.hb_uuid&&r.hb_cache_host&&r.hb_cache_path&&(t.videoCacheKey=r.hb_uuid,t.vastUrl="https://".concat(r.hb_cache_host).concat(r.hb_cache_path,"?uuid=").concat(r.hb_uuid)),e.adm&&(t.vastXml=e.adm),e.nurl&&(t.vastUrl=e.nurl),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl)),o.push(t)})}),o}return e=n.ads,"object"!=typeof a||Array.isArray(a)||"video"!==o(a)||"object"!=typeof e||(e=e[a.adUnitCode]),!Array.isArray(e)||e.length<1?[]:e.reduce((t,r,i)=>{if("ok"!==r.status)return t;if((i=Array.isArray(a)?a[i]:a)&&"object"==typeof i){let e={requestId:i.bidId,currency:"USD",creativeId:r.creative_id||"".concat(r.network||"","-").concat(r.advertiser||""),cpm:r.cpm||0,dealId:r.deal,ttl:300,netRevenue:!1!==v.config.getConfig("rubicon.netRevenue"),rubicon:{advertiserId:r.advertiser,networkId:r.network},meta:{advertiserId:r.advertiser,networkId:r.network}};r.creative_type&&(e.mediaType=r.creative_type),r.creative_type===b.VIDEO?(e.width=i.params.video.playerWidth,e.height=i.params.video.playerHeight,e.vastUrl=r.creative_depot_url,e.impression_id=r.impression_id,e.videoCacheKey=r.impression_id):(e.ad=(n=r.script,o=r.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(o,"'>\n<script type='text/javascript'>").concat(n,"<\/script>\n</div>\n</body>\n</html>")),[e.width,e.height]=_[r.size_id].split("x").map(e=>Number(e))),e.rubiconTargeting=(Array.isArray(r.targeting)?r.targeting:[]).reduce((e,t)=>(e[t.key]=t.values[0],e),{rpfl_elemid:i.adUnitCode}),t.push(e)}var n,o;return t},[]).sort((e,t)=>(t.cpm||0)-(e.cpm||0))},getUserSyncs:function(e,t,r,i){if(!C&&e.iframeEnabled)return e="",r&&"string"==typeof r.consentString&&(e="boolean"==typeof r.gdprApplies?e+"?gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):e+"?gdpr_consent=".concat(r.consentString)),i&&(e+="".concat(e?"&":"?","us_privacy=").concat(encodeURIComponent(i))),C=!0,{type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+e}},transformBidParams:function(e,t){return y.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};t.spec=E;var C=!1;(0,e.registerBidder)(E)}},[557]),pbjsChunk([105],{607:function(e,t,r){e.exports=r(608)},608:function(e,t,r){function o(e){return(0,u.deepAccess)(e,"mediaTypes.video")?"":e.params.sizes?(0,u.parseSizesInput)(e.params.sizes).join(","):(0,u.deepAccess)(e,"mediaTypes.banner.sizes")?(0,u.parseSizesInput)((0,u.deepAccess)(e,"mediaTypes.banner.sizes")).join(","):e.sizes?(0,u.parseSizesInput)(e.sizes).join(","):void 0}function a(e=window){return(e=n(e))(0,768)?"mobile":e(768,992)?"tablet":"desktop"}function c(i){i.renderer.push(()=>{const[e,t]=i.getSize().split("x"),r=new window.SbiOutstreamRenderer;r.init({vastUrl:i.vastUrl,height:t,width:e}),r.setRootElement(i.adUnitCode)})}Object.defineProperty(t,"__esModule",{value:!0}),t._getPlatform=a,t._isInbounds=t.spec=void 0,e=r(1);var u=r(0),i=r(2),s=r(3),p=r(10),d=r(22);const l=(0,u.generateUUID)();r={code:"sonobi",supportedMediaTypes:[i.BANNER,i.VIDEO],isBidRequestValid:e=>{if(!e.params||!e.params.ad_unit&&!e.params.placement_id||!(0,u.deepAccess)(e,"mediaTypes.banner")&&!(0,u.deepAccess)(e,"mediaTypes.video"))return!1;if((0,u.deepAccess)(e,"mediaTypes.banner")){if(!(0,u.deepAccess)(e,"mediaTypes.banner.sizes")&&!e.params.sizes)return!1}else if((0,u.deepAccess)(e,"mediaTypes.video")&&("outstream"===(0,u.deepAccess)(e,"mediaTypes.video.context")&&!e.params.sizes||"instream"===(0,u.deepAccess)(e,"mediaTypes.video.context")&&!(0,u.deepAccess)(e,"mediaTypes.video.playerSize")))return!1;return!0},buildRequests:(e,t)=>{let r={};e.map(e=>{var t=e.params.ad_unit||e.params.placement_id;return/^[\/]?[\d]+[[\/].+[\/]?]?$/.test(t)?(t="/"===t.charAt(0)?t:"/"+t,{["".concat(t,"|").concat(e.bidId)]:"".concat(o(e)).concat(e.params.floor?"|f=".concat(e.params.floor):"")}):/^[0-9a-fA-F]{20}$/.test(t)&&20===t.length?{[e.bidId]:"".concat(t,"|").concat(o(e)).concat(e.params.floor?"|f=".concat(e.params.floor):"")}:void 0}).forEach(e=>{Object.assign(r,e)});const i={key_maker:JSON.stringify(r),ref:t.refererInfo.referer,s:(0,u.generateUUID)(),pv:l,vp:a(),lib_name:"prebid",lib_v:"4.8.0",us:0};s.config.getConfig("userSync")&&s.config.getConfig("userSync").syncsPerBidder&&(i.us=s.config.getConfig("userSync").syncsPerBidder),d.userSync.canBidderRegisterSync("iframe","sonobi")?i.ius=1:i.ius=0,(0,u.deepAccess)(e[0],"params.hfa")&&(i.hfa=(0,u.deepAccess)(e[0],"params.hfa")),e[0].params.referrer&&(i.ref=e[0].params.referrer),t&&t.gdprConsent&&(i.gdpr=t.gdprConsent.gdprApplies?"true":"false",t.gdprConsent.consentString&&(i.consent_string=t.gdprConsent.consentString)),e[0].schain&&(i.schain=JSON.stringify(e[0].schain)),(0,u.deepAccess)(e[0],"userId")&&0<Object.keys(e[0].userId).length&&(i.userid=JSON.stringify(e[0].userId));var n=e[0].params.keywords;return n&&(i.kw=n),t&&t.uspConsent&&(i.us_privacy=t.uspConsent),(0,u.isEmpty)(r)?null:(t="https://apex.go.sonobi.com/trinity.json",{method:"GET",url:t=(0,u.deepAccess)(e[0],"params.bid_request_url")?(0,u.deepAccess)(e[0],"params.bid_request_url"):t,withCredentials:!0,data:i,bidderRequests:e})},interpretResponse:(e,o)=>{const a=e.body,s=[],d=o.data.ref;return 0===Object.keys(a.slots).length||Object.keys(a.slots).forEach(e=>{var t=a.slots[e];e=e.split("|").slice(-1)[0];e:{for(var r=o.bidderRequests,i=0;i<r.length;i++)if(r[i].bidId===e){r=r[i];break e}r=void 0}i=null,"video"===t.sbi_ct&&(i="video","outstream"===(0,u.deepAccess)(r,"mediaTypes.video.context")&&(i="outstream"));const n=f(i,d);if(t.sbi_aid&&t.sbi_mouse&&t.sbi_size){const[o=1,d=1]=t.sbi_size.split("x");e={requestId:e,cpm:Number(t.sbi_mouse),width:Number(o),height:Number(d),ad:n(a.sbi_dc,t.sbi_aid),ttl:500,creativeId:t.sbi_crid||t.sbi_aid,aid:t.sbi_aid,netRevenue:!0,currency:"USD"},t.sbi_dozer&&(e.dealId=t.sbi_dozer),"video"===i?(e.mediaType="video",e.vastUrl=n(a.sbi_dc,t.sbi_aid),delete e.ad,delete e.width,delete e.height):"outstream"===i&&r&&(e.mediaType="video",e.vastUrl=n(a.sbi_dc,t.sbi_aid),e.renderer=function(e,t,r={}){e=p.Renderer.install({id:t.aid,url:"https://mtrx.go.sonobi.com/sbi_outstream_renderer.js",config:r,loaded:!1,adUnitCode:e});try{e.setRender(c)}catch(e){}return e.setEventHandlers({ended:()=>{}}),e}(r.adUnitCode,e,(0,u.deepAccess)(r,"renderer.options")),t=(0,u.deepAccess)(r,"params.sizes"),(t=Array.isArray(t)&&Array.isArray(t[0])?t[0]:t)&&(e.width=t[0],e.height=t[1])),s.push(e)}}),s},getUserSyncs:(e,t,r,i)=>{const n=[];try{e.pixelEnabled&&t[0].body.sbi_px.forEach(e=>{n.push({type:e.type,url:e.url})})}catch(e){}return n}},t.spec=r;const f=(r,i)=>(e,t)=>"video"===r||"outstream"===r?"https://".concat(e,"apex.go.sonobi.com/vast.xml?vid=").concat(t,"&ref=").concat(encodeURIComponent(i)):'<script type="text/javascript" src="'+"https://".concat(e,"apex.go.sonobi.com/sbi.js?aid=").concat(t,"&as=null&ref=").concat(encodeURIComponent(i))+'"><\/script>',n=(r=window)=>(e=0,t=Number.MAX_SAFE_INTEGER)=>r.innerWidth>=e&&r.innerWidth<t;t._isInbounds=n,(0,e.registerBidder)(r)}},[607]),pbjsChunk([102],{617:function(e,t,r){e.exports=r(618)},618:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function d(r){{var i=p.getBidIdParameter("slot",r.renderer.config.outstream_options),n=window.document.createElement("script");n.type="text/javascript",n.src="https://js.spotx.tv/easi/v1/"+r.channel_id+".js";let t={};t["data-spotx_channel_id"]=""+r.channel_id,t["data-spotx_vast_url"]=""+r.vastUrl,t["data-spotx_content_page_url"]=r.renderer.config.content_page_url,t["data-spotx_ad_unit"]="incontent",p.getBidIdParameter("ad_mute",r.renderer.config.outstream_options)&&(t["data-spotx_ad_mute"]="1"),t["data-spotx_collapse"]="0",t["data-spotx_autoplay"]="1",t["data-spotx_blocked_autoplay_override_mode"]="1",t["data-spotx_video_slot_can_autoplay"]="1";var e,o=p.getBidIdParameter("playersize_auto_adapt",r.renderer.config.outstream_options);if(o&&p.isBoolean(o)&&!0===o&&r.width&&p.isNumber(r.width)&&r.height&&p.isNumber(r.height)){var o=r.width/r.height,a=window.document.getElementById(i).clientWidth,i=r.renderer.config.player_width;let e=r.renderer.config.player_height;a<i&&(i=a,e=i/o),o=o<=1?(a=Math.round(e*o),e):(a=i,Math.round(i/o)),t["data-spotx_content_width"]=""+a,t["data-spotx_content_height"]=""+o}if((o=p.getBidIdParameter("custom_override",r.renderer.config.outstream_options))&&p.isPlainObject(o))for(var s in o)o.hasOwnProperty(s)&&"channel_id"!==s&&"vast_url"!==s&&"content_page_url"!==s&&"ad_unit"!==s&&(t["data-spotx_"+s]=o[s]);for(e in t)t.hasOwnProperty(e)&&n.setAttribute(e,t[e])}if(null!=r.renderer.config.outstream_function&&"function"==typeof r.renderer.config.outstream_function)r.renderer.config.outstream_function(r,n);else try{const o=p.getBidIdParameter("in_iframe",r.renderer.config.outstream_options);if(o&&"IFRAME"==window.document.getElementById(o).nodeName){const r=window.document.getElementById(o);let e=r.contentDocument;!e&&r.contentWindow&&(e=r.contentWindow.document),e.body.appendChild(n)}else{const o=p.getBidIdParameter("slot",r.renderer.config.outstream_options);(o&&window.document.getElementById(o)?window.document.getElementById(o):window.document.getElementsByTagName("head")[0]).appendChild(n)}}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=t.GOOGLE_CONSENT=void 0;var p=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0)),c=r(10);e=r(1);var u=r(2);const l={consented_providers:"3 7 11 12 15 20 22 35 43 46 48 55 57 61 62 66 70 80 83 85 86 89 93 108 122 124 125 126 131 134 135 136 143 144 147 149 153 154 159 161 162 165 167 171 178 184 188 192 195 196 202 209 211 218 221 228 229 230 236 239 241 253 255 259 266 271 272 274 286 291 294 303 308 310 311 313 314 316 317 322 323 327 336 338 340 348 350 358 359 363 367 370 371 384 385 389 393 394 397 398 407 414 415 424 429 430 432 436 438 440 442 443 445 448 449 453 459 479 482 486 491 492 494 495 503 505 510 522 523 528 537 540 550 559 560 568 571 574 575 576 584 585 587 588 590 591 592 595 609 621 624 723 725 733 737 776 780 782 787 797 798 802 803 814 817 820 821 827 829 839 853 864 867 874 899 904 922 926 931 932 933 938 955 973 976 979 981 985 987 991 1003 1024 1025 1027 1028 1029 1033 1034 1040 1047 1048 1051 1052 1053 1054 1062 1063 1067 1072 1085 1092 1095 1097 1099 1100 1107 1126 1127 1143 1149 1152 1162 1166 1167 1170 1171 1172 1188 1192 1199 1201 1204 1205 1211 1212 1215 1220 1225 1226 1227 1230 1232 1236 1241 1248 1250 1252 1268 1275 1276 1284 1286 1298 1301 1307 1312 1313 1317 1329 1336 1344 1345 1356 1362 1365 1375 1403 1409 1411 1415 1416 1419 1423 1440 1442 1449 1451 1455 1456 1468 1496 1503 1509 1512 1514 1517 1520 1525 1540 1547 1548 1555 1558 1570 1575 1577 1579 1583 1584 1591 1598 1603 1608 1613 1616 1626 1631 1633 1638 1642 1648 1651 1652 1653 1660 1665 1667 1669 1671 1674 1677 1678 1682 1684 1697 1703 1705 1716 1720 1721 1722 1725 1732 1733 1735 1739 1741 1745 1750 1753 1760 1765 1769 1776 1780 1782 1786 1791 1794 1799 1800 1801 1810 1827 1831 1832 1834 1837 1840 1843 1844 1845 1858 1859 1863 1866 1870 1872 1875 1878 1880 1882 1883 1889 1892 1896 1898 1899 1902 1905 1911 1922 1928 1929 1934 1942 1943 1944 1945 1958 1960 1962 1963 1964 1967 1968 1978 1985 1986 1987 1998 2003 2007 2012 2013 2027 2035 2038 2039 2044 2047 2052 2056 2059 2062 2064 2068 2070 2072 2078 2079 2084 2088 2090 2095 2100 2103 2107 2109 2113 2115 2121 2127 2130 2133 2137 2140 2141 2145 2147 2150 2156 2166 2170 2171 2176 2177 2179 2183 2186 2192 2198 2202 2205 2214 2216 2219 2220 2222 2223 2224 2225 2227 2228 2234 2238 2247 2251 2253 2262 2264 2271 2276 2278 2279 2282 2290 2292 2295 2299 2305 2306 2310 2311 2312 2315 2320 2325 2328 2331 2334 2335 2336 2337 2343 2346 2354 2357 2358 2359 2366 2370 2373 2376 2377 2380 2382 2387 2389 2392 2394 2400 2403 2405 2406 2407 2410 2411 2413 2414 2415 2416 2418 2422 2425 2427 2435 2437 2440 2441 2447 2453 2459 2461 2462 2464 2467 2468 2472 2477 2481 2484 2486 2492 2493 2496 2497 2498 2499 2504 2506 2510 2511 2512 2517 2526 2527 2531 2532 2534 2542 2544 2552 2555 2559 2563 2564 2567 2568 2569 2571 2572 2573 2575 2577 2579 2583 2584 2586 2589 2595 2596 2597 2601 2604 2605 2609 2610 2612 2614 2621 2622 2624 2628 2629 2632 2634 2636 2639 2643 2645 2646 2647 2649 2650 2651 2652 2656 2657 2658 2660 2661 2662 2663 2664 2669 2670 2673 2676 2677 2678 2681 2682 2684 2685 2686 2689 2690 2691 2695 2698 2699 2702 2704 2705 2706 2707 2709 2710 2713 2714 2727 2729 2739 2758 2765 2766 2767 2768 2770 2771 2772 2776 2777 2778 2779 2780 2783 2784 2786 2787 2791 2792 2793 2797 2798 2801 2802 2803 2805 2808 2809 2810 2811 2812 2813 2814 2817 2818 2824 2826 2827 2829 2830 2831 2832 2834 2836 2838 2840 2842 2843 2844 2850 2851 2852 2854 2858 2860 2862 2864 2865 2866 2867 2868 2869 2871".split(" ")};t.GOOGLE_CONSENT=l,r={code:"spotx",gvlid:165,aliases:["spotx"],supportedMediaTypes:[u.VIDEO],isBidRequestValid:function(e){if(e&&"object"!=typeof e.params||!p.deepAccess(e,"mediaTypes.video"))return!1;var t=p.deepAccess(e,"mediaTypes.video.playerSize");return!!(t&&p.isArray(t)&&p.getBidIdParameter("channel_id",e.params)&&("outstream"!=p.deepAccess(e,"mediaTypes.video.context")&&"outstream"!=p.deepAccess(e,"params.ad_unit")||p.getBidIdParameter("outstream_function",e.params)||p.getBidIdParameter("outstream_options",e.params)&&p.getBidIdParameter("slot",e.params.outstream_options)))},buildRequests:function(e,d){const c=d.refererInfo.referer,u=!!c.match(/^https:/);return e.map(function(t){var e=p.getBidIdParameter("channel_id",t.params);let r=null;var i=(n=p.deepAccess(t,"mediaTypes.video.playerSize"))[0][0],n=n[0][1];const o=u||(p.getBidIdParameter("secure",t.params)?1:0),a={sdk_name:"Prebid 1+",versionOrtb:"2.3"};if(""!=p.getBidIdParameter("hide_skin",t.params)&&(a.hide_skin=+!!p.getBidIdParameter("hide_skin",t.params)),""!=p.getBidIdParameter("ad_volume",t.params)&&(a.ad_volume=p.getBidIdParameter("ad_volume",t.params)),""!=p.getBidIdParameter("ad_unit",t.params)&&(a.ad_unit=p.getBidIdParameter("ad_unit",t.params)),""!=p.getBidIdParameter("outstream_options",t.params)&&(a.outstream_options=p.getBidIdParameter("outstream_options",t.params)),""!=p.getBidIdParameter("outstream_function",t.params)&&(a.outstream_function=p.getBidIdParameter("outstream_function",t.params)),""!=p.getBidIdParameter("custom",t.params)&&(a.custom=p.getBidIdParameter("custom",t.params)),""!=p.getBidIdParameter("pre_market_bids",t.params)&&p.isArray(p.getBidIdParameter("pre_market_bids",t.params))){const u=p.getBidIdParameter("pre_market_bids",t.params);for(var s in a.pre_market_bids=[],u){const t=u[s];let e="";t.vast_url?e='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+t.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":t.vast_string&&(e=t.vast_string),a.pre_market_bids.push({id:t.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:t.deal_id,price:t.price,adm:e}]}],cur:t.currency,ext:{event_log:[{}]}})}}return s=p.getBidIdParameter("mimes",t.params)||["application/javascript","video/mp4","video/webm"],i={id:t.bidId,secure:o,video:{w:i,h:n,ext:a,mimes:s}},""!=p.getBidIdParameter("price_floor",t.params)&&(i.bidfloor=p.getBidIdParameter("price_floor",t.params)),""!=p.getBidIdParameter("start_delay",t.params)&&(i.video.startdelay=+!!p.getBidIdParameter("start_delay",t.params)),""!=p.getBidIdParameter("min_duration",t.params)&&(i.video.minduration=p.getBidIdParameter("min_duration",t.params)),""!=p.getBidIdParameter("max_duration",t.params)&&(i.video.maxduration=p.getBidIdParameter("max_duration",t.params)),""!=p.getBidIdParameter("placement_type",t.params)&&(i.video.ext.placement=p.getBidIdParameter("placement_type",t.params)),""!=p.getBidIdParameter("position",t.params)&&(i.video.ext.pos=p.getBidIdParameter("position",t.params)),t.crumbs&&t.crumbs.pubcid&&(r=t.crumbs.pubcid),n=navigator.language?"language":"userLanguage",n={h:screen.height,w:screen.width,dnt:p.getDNT()?1:0,language:navigator[n].split("-")[0],make:navigator.vendor||"",ua:navigator.userAgent},i={id:e,imp:i,site:{id:"",page:c,content:"content"},device:n,ext:{wrap_response:1}},p.getBidIdParameter("number_of_ads",t.params)&&(i.ext.number_of_ads=p.getBidIdParameter("number_of_ads",t.params)),n={},1==p.getBidIdParameter("spotx_all_google_consent",t.params)&&(n.consented_providers_settings=l),d&&d.gdprConsent&&(n.consent=d.gdprConsent.consentString,void 0!==d.gdprConsent.gdprApplies&&p.deepSetValue(i,"regs.ext.gdpr",d.gdprConsent.gdprApplies?1:0)),d&&d.uspConsent&&p.deepSetValue(i,"regs.ext.us_privacy",d.uspConsent),t&&t.userId&&t.userId.id5id&&(n.eids=n.eids||[],n.eids.push({source:"id5-sync.com",uids:[{id:t.userId.id5id}]})),r&&(n.fpc=r),t&&t.schain&&(i.source={ext:{schain:t.schain}}),t&&t.userId&&t.userId.tdid&&(n.eids=n.eids||[],n.eids.push({source:"adserver.org",uids:[{id:t.userId.tdid,ext:{rtiPartner:"TDID"}}]})),p.isEmpty(n)||(i.user={ext:n}),{method:"POST",url:"https://search.spotxchange.com/openrtb/2.3/dados/"+e,data:i,bidRequest:d}})},interpretResponse:function(e,o){const a=[],s=e.body;return s&&p.isArray(s.seatbid)&&p._each(s.seatbid,function(e){p._each(e.bid,function(t){var e,r={};for(e in o.bidRequest.bids)t.impid==o.bidRequest.bids[e].bidId&&(r=o.bidRequest.bids[e]);p._each(r.params.pre_market_bids,function(e){e.deal_id==t.id&&(t.price=e.price,s.cur=e.currency)}),(e={requestId:r.bidId,currency:s.cur||"USD",cpm:t.price,creativeId:t.crid||"",dealId:t.dealid||"",ttl:360,netRevenue:!0,channel_id:s.id,cache_key:t.ext.cache_key,vastUrl:"https://search.spotxchange.com/ad/vast.html?key="+t.ext.cache_key,videoCacheKey:t.ext.cache_key,mediaType:u.VIDEO,width:t.w,height:t.h}).meta=e.meta||{},t&&t.adomain&&0<t.adomain.length&&(e.meta.advertiserDomains=t.adomain);var i=p.deepAccess(r,"mediaTypes.video.context"),n=p.deepAccess(r,"params.ad_unit");if("outstream"==i||"outstream"==n){i=p.deepAccess(r,"mediaTypes.video.playerSize"),r=c.Renderer.install({id:0,url:"//",config:{adText:"SpotX Outstream Video Ad via Prebid.js",player_width:i[0][0],player_height:i[0][1],content_page_url:p.deepAccess(o,"data.site.page"),ad_mute:+!!p.deepAccess(r,"params.ad_mute"),hide_skin:+!!p.deepAccess(r,"params.hide_skin"),outstream_options:p.deepAccess(r,"params.outstream_options"),outstream_function:p.deepAccess(r,"params.outstream_function")}});try{r.setRender(d),r.setEventHandlers({impression:function(){},loaded:function(){},ended:function(){}})}catch(e){}e.renderer=r}a.push(e)})}),a}},t.spec=r,(0,e.registerBidder)(r)}},[617]),pbjsChunk([96],{631:function(e,t,r){e.exports=r(632)},632:function(e,t,r){function s(e){const t={};var r=e.params.placementId,i=e.params.pageId;return t.sizes=n.parseSizesInput(function(e){let t=n.deepAccess(e,"mediaTypes.video.playerSize"),r=n.deepAccess(e,"mediaTypes.video.sizes"),i=n.deepAccess(e,"mediaTypes.banner.sizes");return n.isArray(i)||n.isArray(t)||n.isArray(r)?[i,r,t].reduce(function(t,e){return n.isArray(e)&&(n.isArray(e[0])?e.forEach(function(e){t.push(e)}):t.push(e)),t},[]):e.sizes}(e)),t.bidId=n.getBidIdParameter("bidId",e),t.bidderRequestId=n.getBidIdParameter("bidderRequestId",e),t.placementId=parseInt(r,10),t.pageId=parseInt(i,10),t.adUnitCode=n.getBidIdParameter("adUnitCode",e),t.auctionId=n.getBidIdParameter("auctionId",e),t.transactionId=n.getBidIdParameter("transactionId",e),t}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,e=r(1);const n=r(0);r={code:"teads",supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){var t=!1;return void 0!==e.params&&(t=0<parseInt(e.params.placementId),e=0<parseInt(e.params.pageId),t=t&&e),t},buildRequests:function(e,t){var r=e.map(s),i="";t&&t.refererInfo&&t.refererInfo.referer&&(i=t.refererInfo.referer);var n,o=document.referrer,a=(a=window.navigator)&&a.connection&&0<=a.connection.downlink?a.connection.downlink.toString():"";{const e=(n=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance)&&"function"==typeof n.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(n.getEntriesByType)&&n.getEntriesByType("navigation")[0]&&n.getEntriesByType("navigation")[0].responseStart&&n.getEntriesByType("navigation")[0].requestStart&&0<=n.getEntriesByType("navigation")[0].responseStart&&0<=n.getEntriesByType("navigation")[0].requestStart&&Math.round(n.getEntriesByType("navigation")[0].responseStart-n.getEntriesByType("navigation")[0].requestStart);n=e?e.toString():(n=n&&n.timing.responseStart&&n.timing.requestStart&&0<=n.timing.responseStart&&0<=n.timing.requestStart&&n.timing.responseStart-n.timing.requestStart)?n.toString():""}return r={referrer:i,pageReferrer:o,networkBandwidth:a,timeToFirstByte:n,data:r,deviceWidth:screen.width,hb_version:"4.8.0"},e[0].schain&&(r.schain=e[0].schain),e=t.gdprConsent,t&&e&&(i="string"==typeof e.consentString,o="boolean"==typeof e.gdprApplies?(n=12,e.gdprApplies?(o=e.vendorData,a=e.apiVersion,(o&&1===a?o.hasGlobalScope||o.hasGlobalConsent:o&&2===a&&!o.isServiceSpecific)&&(n=11)):n=0,n):22,r.gdpr_iab={consent:i?e.consentString:"",status:o,apiVersion:e.apiVersion}),t&&t.uspConsent&&(r.us_privacy=t.uspConsent),{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(r)}},interpretResponse:function(e,t){const r=[];return(e=e.body).responses&&e.responses.forEach(function(e){const t={cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,ad:e.ad,requestId:e.bidId,creativeId:e.creativeId,placementId:e.placementId};e.dealId&&(t.dealId=e.dealId),r.push(t)}),r}},t.spec=r,(0,e.registerBidder)(r)}},[631]),pbjsChunk([87],{651:function(e,t,r){e.exports=r(652)},652:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function n(t,e){var r,i=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,r)),i}function s(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach(function(e){var t=i[e];e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function i(e){let t={};var r,i,n,o=e[0]["schain"],r=(r={},i=Object.assign({},g.config.getConfig("fpd.context")),n=Object.assign({},g.config.getConfig("fpd.user")),c(r,i),c(r,n),r);return t.imp=e.map(function(e,t){var r=e.params.inventoryCode,i=null;if("function"==typeof e.getFloor){const t=e.getFloor({currency:"USD",mediaType:"banner",size:p(e.sizes)});"object"!=typeof t||"USD"!==t.currency||isNaN(parseFloat(t.floor))||(i=parseFloat(t.floor))}return t={id:t,tagid:r,floor:i=null!==i?i:e.params.floor},e.mediaTypes.video?t.video=d(e):e.mediaTypes.banner&&(t.banner={format:p(e.sizes)}),t}),0<(e=[...u(e,"tdid","adserver.org","TDID"),...u(e,"idl_env","liveramp.com","idl"),...u(e,"criteoId","criteo.com","criteoId")]).length&&(t.user={ext:{eids:e}}),o=function(e,t){let r={};return f.isEmpty(e)||(r.schain=s({},e)),f.isEmpty(t)||(r.fpd=s({},t)),r}(o,r),f.isEmpty(o)||(t.ext=o),t}function d(e){return(e=s(s({},e.params.video),e.mediaTypes.video)).w||(e.w=e.playerSize[0][0]),e.h||(e.h=e.playerSize[0][1]),"instream"===e.context&&(e.placement=1),delete e.playerSize,e}function c(t,r){f.isEmpty(r)||Object.keys(r).forEach(e=>{null!=r[e]&&(t[e]=r[e])})}function u(e,t,r,i){return e.map((a=t,e=>e&&e.userId&&e.userId[a])).filter(e=>!!e).map((n=r,o=i,e=>({source:n,uids:[{id:e,ext:{rtiPartner:o}}]})));var n,o,a}function p(e){return e.filter(o).map(function(e){return{w:e[0],h:e[1]}})}function o(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}Object.defineProperty(t,"__esModule",{value:!0}),t.tripleliftAdapterSpec=void 0;var l=r(2);e=r(1);var f=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0)),g=r(3);let m=!0,h=null;r={code:"triplelift",supportedMediaTypes:[l.BANNER,l.VIDEO],isBidRequestValid:function(e){if(e.mediaTypes.video){var t=d(e);if(!t.w||!t.h)return!1}return void 0!==e.params.inventoryCode},buildRequests:function(e,t){let r="https://tlx.3lift.com/header/auction?";return e=i(e),r=f.tryAppendQueryString(r,"lib","prebid"),r=f.tryAppendQueryString(r,"v","4.8.0"),t&&t.refererInfo&&(r=f.tryAppendQueryString(r,"referrer",t.refererInfo.referer)),t&&t.timeout&&(r=f.tryAppendQueryString(r,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(m=t.gdprConsent.gdprApplies,r=f.tryAppendQueryString(r,"gdpr",m.toString())),void 0!==t.gdprConsent.consentString&&(h=t.gdprConsent.consentString,r=f.tryAppendQueryString(r,"cmp_cs",h))),t&&t.uspConsent&&(r=f.tryAppendQueryString(r,"us_privacy",t.uspConsent)),!0===g.config.getConfig("coppa")&&(r=f.tryAppendQueryString(r,"coppa",!0)),r.lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.length-1)),{method:"POST",url:r,data:e,bidderRequest:t}},interpretResponse:function(e,{bidderRequest:s}){return(e.body.bids||[]).map(function(a){{let e={},t=a.width||1,r=a.height||1,i=a.deal_id||"",n=a.crid||"",o=s.bids[a.imp_id];0!=a.cpm&&a.ad&&(e={requestId:o.bidId,cpm:a.cpm,width:t,height:r,netRevenue:!0,ad:a.ad,creativeId:n,dealId:i,currency:"USD",ttl:300,tl_source:a.tl_source,meta:{}},o.mediaTypes.video&&(e.vastXml=a.ad,e.mediaType="video"),a.advertiser_name&&(e.meta.advertiserName=a.advertiser_name)),a=e}return a})},getUserSyncs:function(e,t,r,i){if(e=e?e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0:void 0)return t="https://eb2.3lift.com/sync?","image"===e&&(t=f.tryAppendQueryString(t,"px",1),t=f.tryAppendQueryString(t,"src","prebid")),null!==h&&(t=f.tryAppendQueryString(t,"gdpr",m),t=f.tryAppendQueryString(t,"cmp_cs",h)),[{type:e,url:t=i?f.tryAppendQueryString(t,"us_privacy",i):t}]}},t.tripleliftAdapterSpec=r,(0,e.registerBidder)(r)}},[651]),pbjsChunk([85],{655:function(e,t,r){e.exports=r(656)},656:function(e,t,r){function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function f(e){var t=e.value;g.isArray(t)&&0<t.length&&""===e.value[0]&&delete e.value}function s(e,n,t,r,i){if(e)if(e.auid||JSON.stringify(e),e.adm){var o=n[e.auid];if(o){var a="".concat(e.w,"x").concat(e.h);if(o[a]){const s=o[a][0];t={requestId:(o=s.bids.shift()).bidId,bidderCode:p.code,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:"USD",netRevenue:"gross"!==t,ttl:360,dealId:e.dealid},"video"===e.content_type?(t.vastXml=e.adm,t.mediaType=u.VIDEO,t.adResponse={content:t.vastXml},o.renderer||o.mediaTypes&&o.mediaTypes.video&&"outstream"!==o.mediaTypes.video.context||(t.renderer=function(e,t,r){e=r.install({id:t.id,url:t.url,loaded:!1});try{e.setRender(d)}catch(e){}return e}(t,{id:o.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"},i))):(t.ad=e.adm,t.mediaType=u.BANNER),r.push(t),s.bids.length||s.parents.forEach(({parent:e,key:t,uid:r})=>{var i=e[t].indexOf(s);-1<i&&e[t].splice(i,1),e[t].length||(delete e[t],Object.keys(e).length||delete n[r])})}}}else JSON.stringify(e)}function d(e){e.renderer.push(()=>{window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})})}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var g=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((i=o?Object.getOwnPropertyDescriptor(e,r):null)&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}(r(0));e=r(1);var c=r(10),u=r(2);const p={code:"trustx",supportedMediaTypes:[u.BANNER,u.VIDEO],isBidRequestValid:function(e){return!!e.params.uid},buildRequests:function(e,t){const a=[],s={},d={},c={};let u="net",p,l;return(e||[]).forEach(e=>{"gross"===e.params.priceType&&(u="gross"),l=e.bidderRequestId;const{params:{uid:t},adUnitCode:r}=e;a.push(t);const i=g.parseSizesInput(e.sizes);var n;p||g.isEmpty(e.params.keywords)||(0<(n=g.transformBidderParamKeywords(e.params.keywords)).length&&n.forEach(f),p=n),d[t]||(d[t]={}),(n=d[t])[r]?n[r].bids.push(e):n[r]={adUnitCode:r,bids:[e],parents:[]};const o=n[r];i.forEach(e=>{c[e]=!0,s[t]||(s[t]={}),s[t][e]?s[t][e].push(o):s[t][e]=[o],o.parents.push({parent:s[t],key:e,uid:t})})}),e={pt:u,auids:a.join(","),sizes:Object.keys(c).join(","),r:l,wrapperType:"Prebid_js",wrapperVersion:"4.8.0"},p&&(e.keywords=JSON.stringify(p)),t&&(t.refererInfo&&t.refererInfo.referer&&(e.u=t.refererInfo.referer),t.timeout&&(e.wtimeout=t.timeout),t.gdprConsent&&(t.gdprConsent.consentString&&(e.gdpr_consent=t.gdprConsent.consentString),e.gdpr_applies="boolean"==typeof t.gdprConsent.gdprApplies?Number(t.gdprConsent.gdprApplies):1),t.uspConsent&&(e.us_privacy=t.uspConsent)),{method:"GET",url:"https://sofia.trustx.org/hb",data:g.parseQueryStringParameters(e).replace(/&$/,""),bidsMap:s}},interpretResponse:function(e,t,r=c.Renderer){e=e&&e.body;const i=[],n=t.bidsMap,o=t.data.pt;let a;return e?e.seatbid&&!e.seatbid.length&&(a="Response has empty seatbid array"):a="Response is empty",!a&&e.seatbid&&e.seatbid.forEach(e=>{s(e&&e.bid&&e.bid[0],n,o,i,r)}),i},getUserSyncs:function(e){if(e.pixelEnabled)return[{type:"image",url:"https://sofia.trustx.org/push_sync"}]}};t.spec=p,(0,e.registerBidder)(p)}},[655]),pbjs.processQueue();

window.___baidu_union=function(n){var r={};function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}return a.m=n,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=9)}([function(e,t){e.exports={ERROR_SCRIPT:"1",ERROR_STYLE:"2",ERROR_IMAGE:"3",ERROR_AUDIO:"4",ERROR_VIDEO:"5",LOAD_ERROR_TYPE:{SCRIPT:"1",LINK:"2",IMG:"3",AUDIO:"4",VIDEO:"5"},ELEMENT_TYPE:"1",RESOURCE_ERROR:"1",IFRAME_IMGS_HIDDEN:"2",IFRAME_LOAD:"3",IFRAME_HIDDEN_IN_PARENT:"4",PARENT_WINDOW:"window",IFRAME_WINDOW:"iframe",ENVIRONMENT:"environment",ALL_IFRAMES:"5",IFRAME_UNLOAD:"6",LOG_URL:"//eclick.baidu.com/rs.jpg",PACKET_MOST_LENGTH:1500,PAGE_SEARCH_ID:"pageSearchId",FILTER_IFRAMES_REGEXS:[/pos\.baidu\.com.*\?.{20,}/,/.*\?.*&swt=((1$)|(1\.\d$))/],ENCRYPT_IFRAMES_REGEXS:[/.*\?.*&swt=((1$)|(1\.\d$))/],FILTER_IMGS_MIN_WIDTH:2,FILTER_IMGS_MIN_HEIGHT:2}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o={hasNewIframeLoad:!0,containers:[]},r={setMonitorData:function(e,t){o[e]||(o[e]=[]),o[e].push(t)},getMonitorData:function(e){return o[e]},getAllMonitorData:function(){return o},removeMonitorData:function(e,t){var n=o[e];if(n)if(t)for(var r=0,a=n.length;r<a;r++)t===n[e]&&n.splice(r,1);else o[e]=null},clear:function(){o={}},setOneMonitorData:function(e,t){o[e]=t}}},function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return s});var r=n(0);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return e.nodeType+""===r.ELEMENT_TYPE}function i(e){return e?e.toString().split("_")[1]:""}function c(){return!!(window.postMessage&&window.addEventListener&&URL)}function u(e,t){return e.test(t)}function f(){var e,e=(function(e){if(Array.isArray(e))return a(e)}(e=document.getElementsByTagName("meta"))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).find(function(e){return"template-name"===e.name});return e&&e.content?e.content:""}function s(e){return new URL(e)}},function(e,t,n){"use strict";function r(e){try{window.parent.postMessage(JSON.stringify(e),"*")}catch(e){console.log("postMessageToParent has error:",e)}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),u=n.n(t),f=n(1),s=n(3),d=n(2),l=window.location.href;function r(t){window.addEventListener&&window.addEventListener("error",function(e){!function(e,t){try{var n,r,a=e.target,o=a.nodeName&&a.nodeName.toUpperCase();o&&u.a.LOAD_ERROR_TYPE[o]&&(n=u.a.LOAD_ERROR_TYPE[o],r=a.src||a.href,t===u.a.PARENT_WINDOW?(c={type:E(u.a.PARENT_WINDOW,n),errorSrc:r},f.a.setMonitorData(c.type,c)):t===u.a.IFRAME_WINDOW&&(i={type:E(u.a.IFRAME_WINDOW,n),errorSrc:r,windowsHref:l,templateName:Object(d.c)()},Object(s.a)(i)))}catch(e){i=e&&e.stack?e.stack:e;(new Image).src="//eclick.baidu.com/rs.jpg?type=parentMonitor&mes="+encodeURIComponent(i)}var i,c}(e,t)},!0)}function E(e,t){return e+"_"+u.a.RESOURCE_ERROR+"_"+t}},function(e,t,n){"use strict";var a=n(0),o=n(1);t.a=function(e){var t,n,r=(t=window.location.href,n=(new Date).getTime(),r=Math.random().toString(36).slice(2),{type:a.ENVIRONMENT,deliveryPageUrl:t,pageSearchId:n+r});o.a.setMonitorData(r.type,r)}},function(e,t,n){"use strict";var r=n(4),i=n(0),a=n.n(i),c=n(1),u=n(2);function o(e){try{var t=JSON.parse(e.data),n=Object(u.b)(t.type);n&&(n===a.a.RESOURCE_ERROR?c.a.setMonitorData(t.type,t):n===a.a.IFRAME_IMGS_HIDDEN?c.a.setMonitorData(t.type,t):n===a.a.IFRAME_LOAD&&(r=t,c.a.setOneMonitorData("hasNewIframeLoad",!0),c.a.setMonitorData(r.type,r)))}catch(e){r=e&&e.stack?e.stack:e;(new Image).src="//eclick.baidu.com/rs.jpg?type=parentMonitor&mes="+encodeURIComponent(r)}var r}function f(t,e){return e.some(function(e){return Object(u.f)(e,t)})}function s(){var e,t,n,e=(e=document.getElementsByTagName("iframe"),t=i.FILTER_IFRAMES_REGEXS,n=[],Array.prototype.forEach.call(e,function(e){f(e.src,t)&&n.push(e)}),n),r=[];return e.forEach(function(i){var e=i.clientHeight<=0?function(){for(var e,t=i,n={},r=!1,a=!1,o=[];Object(u.e)(t);){if("none"===window.getComputedStyle(t).display&&(n={hiddenElementObj:{nodeName:t.nodeName,nodeId:t.id,nodeClass:t.className},isMediaDom:a,blocked:1},r=!0),a||o.push({allAttributeNames:(e=t).getAttributeNames(),nodeName:e.nodeName,nodeId:e.id,nodeClass:e.className}),function(t){return c.a.getMonitorData("containers").find(function(e){return e===t})}(t)&&(a=!0),r&&a){n.isMediaDom||(n.containerSelector=o);break}t=t.parentNode}return n}():{blocked:0};r.push(e)}),{type:i.PARENT_WINDOW+"_"+i.IFRAME_HIDDEN_IN_PARENT,iframes:r}}t.a=function(e,t){window.addEventListener("load",function(){try{var e=s();0<e.iframes.length&&c.a.setMonitorData(e.type,e);var t=(r=i.PARENT_WINDOW+"_"+i.ALL_IFRAMES,a=document.getElementsByTagName("iframe"),o=Array.prototype.map.call(a,function(e){return e.src}),n=i.FILTER_IFRAMES_REGEXS,a=o.filter(function(e){return f(e,n)}),o={},o=0<a.length?{type:r,allIframeSrc:a}:o);t&&c.a.setMonitorData(t.type,t)}catch(e){t=e&&e.stack?e.stack:e;(new Image).src="//eclick.baidu.com/rs.jpg?type=parentMonitor&mes="+encodeURIComponent(t)}var n,r,a,o}),"blocked"===t&&(Object(r.a)(i.PARENT_WINDOW),window.addEventListener&&window.addEventListener("message",o))}},function(e,t,n){"use strict";var E=n(1),m=n(0),I=n.n(m),u=n(2);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r="",a=!0,i=!0;function _(){var e,t,n,r=(p(n={},I.a.PAGE_SEARCH_ID,A()),p(n,"needUpload",!1),n);return function(e){for(var t,n=E.a.getAllMonitorData(),r=0,a=Object.keys(n);r<a.length;r++){var o=a[r],i=N(o);i&&((t=o).split("_")[2]&&"iframe"===t.split("_")[0]||o===f("hiddenImgsType")||y(o))&&(e[o]=i,O(o),e.needUpload=!0)}}(r),e=r,t=f("unloadIframeType"),(n=function(){var e,t=f("allIframesType"),n=E.a.getMonitorData(t),t=f("loadIframesType"),r=E.a.getMonitorData(t),a=[];if(n&&n[0]&&n[0].allIframeSrc)for(var o=n[0].allIframeSrc,i=0,c=o.length;i<c;i++)!function(e,t){var n=-1;if(e instanceof Array)for(var r=0,a=e.length;r<a;r++)if(e[r].iframeHref===t){n=r;break}return-1<n}(r,o[i])&&(e=Object(u.d)(o[i]),a.push({iframeDomain:e.hostname,iframePathLen:e.pathname.length-1}));return a}()).length&&E.a.getMonitorData("hasNewIframeLoad")&&(e[t]=n,e.needUpload=!0,E.a.setOneMonitorData("hasNewIframeLoad",!1)),R(r,"blocked"),M(r),r}function R(a,e){var o=f("allIframesType"),t=E.a.getMonitorData(o),t=t&&t[0]&&t[0].allIframeSrc;i&&t&&(a[o]={type:e,antiBlock:{},antiBlockNoBlock:0,noAntiBlock:0},t.forEach(function(e){var t,n=Object(u.d)(e),r=n.hostname;t=e,I.a.ENCRYPT_IFRAMES_REGEXS.some(function(e){return Object(u.f)(e,t)})?(a[o].antiBlock[r]||(a[o].antiBlock[r]=[]),a[o].antiBlock[r].push(n.pathname.length-1)):"/s"===n.pathname?a[o].antiBlockNoBlock+=1:a[o].noAntiBlock+=1}),i=!1,a.needUpload=!0)}function M(e){a&&(a=!1,e[I.a.ENVIRONMENT]=o(),e.needUpload=!0)}function A(){if(r)return r;var e=o();return r=e&&e[0]&&e[0].pageSearchId}function o(){return E.a.getMonitorData(I.a.ENVIRONMENT)}function N(e){var t="";try{t=JSON.parse(JSON.stringify(E.a.getMonitorData(e)))}catch(e){var n=e&&e.stack?e.stack:e;(new Image).src="//eclick.baidu.com/rs.jpg?type=JSON_API&mes="+encodeURIComponent(n)}return t}function O(e){E.a.removeMonitorData(e)}function y(e){return e===f("hiddenIframeType")}function f(e){return{hiddenImgsType:I.a.IFRAME_WINDOW+"_"+I.a.IFRAME_IMGS_HIDDEN,hiddenIframeType:I.a.PARENT_WINDOW+"_"+I.a.IFRAME_HIDDEN_IN_PARENT,allIframesType:I.a.PARENT_WINDOW+"_"+I.a.ALL_IFRAMES,loadIframesType:I.a.IFRAME_WINDOW+"_"+I.a.IFRAME_LOAD,unloadIframeType:I.a.PARENT_WINDOW+"_"+I.a.IFRAME_UNLOAD}[e]}function g(e){for(var t="",n="",r=0,a=e.length;r<a;r+=2)t+=e.charAt(r),r+1<a&&(n+=e.charAt(r+1));return t+n}function D(e){return e<10?"0"+e:e+""}function T(e){var t=new Image,n="baidu_monitor_log_"+(new Date).getTime();(window[n]=t).onload=t.onerror=t.onabort=function(){try{delete window[n]}catch(e){window[n]=null}t=null},t.src=e}function c(e){try{var t=("blocked"===e?_:function(){for(var e,t=E.a.getAllMonitorData(),n=(p(e={},I.a.PAGE_SEARCH_ID,A()),p(e,"needUpload",!1),e),r=0,a=Object.keys(t);r<a.length;r++){var o=a[r],i=N(o);i&&y(o)&&(n[o]=i,O(o),n.needUpload=!0)}return R(n,"unblocked"),M(n),n})(),n=t[m.PAGE_SEARCH_ID],r=JSON.stringify(t);if(t.needUpload)if(r.length>m.PACKET_MOST_LENGTH)for(var a=function(e){for(var t,n,r=e.length,a=0,o=m.PACKET_MOST_LENGTH,i=Math.ceil(r/m.PACKET_MOST_LENGTH),c=[],u=1;o<=r;){var f=(f=g(e.slice(a,o)),t=D(i),n=D(u),"FF"+t+n+f+"AA");if(c.push(f),u++,o===r)break;a=o,o=Math.min(a+m.PACKET_MOST_LENGTH,r)}return c}(r),o=(new Date).getTime(),i=0,c=a.length;i<c;i++)T((s=n,d=o,l=encodeURIComponent(a[i]),m.LOG_URL+"?"+m.PAGE_SEARCH_ID+"="+s+"&timestamp="+d+"&content="+l));else T((u=n,f=encodeURIComponent(g(r)),m.LOG_URL+"?"+m.PAGE_SEARCH_ID+"="+u+"&content="+f))}catch(e){f=e&&e.stack?e.stack:e;(new Image).src="//eclick.baidu.com/rs.jpg?type=parentMonitor&mes="+encodeURIComponent(f)}var u,f,s,d,l}t.a=function(e){setInterval(c,2e3,e)}},,function(e,t,n){"use strict";n.r(t),n.d(t,"unblockedMonitor",function(){return u}),n.d(t,"setPresentContainer",function(){return f});var r=n(5),a=n(7),o=n(2),i=n(6),c=n(1);function u(e){if(o.a)try{t=e,c.a.removeMonitorData("containers"),c.a.setMonitorData("containers",t.container),Object(r.a)(),Object(i.a)(t.container,"unblocked"),Object(a.a)("unblocked")}catch(e){t=e&&e.stack?e.stack:e;(new Image).src="//eclick.baidu.com/rs.jpg?type=unblockedMonitor&mes="+encodeURIComponent(t)}var t}function f(e){c.a.setMonitorData("containers",e)}}]);

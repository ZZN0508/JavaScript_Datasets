(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([["videoAboveModule","Modal","ToolBarTips"],{"0011c1":function(e,t,i){"use strict";var a=i("b5fc75");t.default=a.default},"0349b3":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h,m,b,v,_=i("97a1f0"),y=i("7ca7dc"),g=i("eb3e22"),k=i("8dd4e6"),S=i("e5eb77"),T=i("e854a7"),P=i("564e7b"),D=i("8fe63d"),w=i("42824a"),C=i("caacd2"),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var N=y.default.Service,E=y.default.Store,R=T.default.socketStream,A=(a=E(),r=N(g.DataCenter.common),n=N(g.DataCenter.global),o=N(g.DataCenter.localStorage),s=N(P.default),c=N(C.default),l=N(w.default),u=function(e){function RandomPKGWTServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RandomPKGWTServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",p,t),_initDefineProp(t,"common",f,t),_initDefineProp(t,"global",d,t),_initDefineProp(t,"localStorage",h,t),_initDefineProp(t,"publicToolsServices",m,t),_initDefineProp(t,"pkCommonServices",b,t),_initDefineProp(t,"pkTAServices",v,t),t.isSubscribe=!1,t.pkData=null,t.statusGetTimes=0,t.pkid=-1,t.reqLock=0,t.showSubType={"1_0":{flag:0,sub:"8_3"},"1_1":{flag:0,sub:"A_3"},"2_1":{flag:0},"2_2":{flag:0,sub:"9_3"},"2_3":{flag:0}},t.tipsTimer$=Object(k.timer)(1e4,4e3).pipe(Object(S.take)(1)),t.dysub2=t.dysub2.bind(t),t.getGWTReq=t.getGWTReq.bind(t),t}return _inherits(RandomPKGWTServices,e),RandomPKGWTServices.prototype.getStore=function getStore(e){return this.store.getState()[e]},RandomPKGWTServices.prototype.updateData=function updateData(e){this.store.dispatch(D.default.updateGWTData(e))},RandomPKGWTServices.prototype.init=function init(e){var t=this,i=this.config;this.config=Object.assign({},O({},i,e)),this.isSubscribe||(this.isSubscribe=!0,this.startSub=R.subscribe("wealthgodtask",function(e){if(e&&t.dataCheck(e)){t.statusGetTimes=+e.ts,t.checkInitFlag(e),t.pkData=Object.assign({},e,{tsLocal:Date.now()});var i=t.pkCommonServices.getPKKey(t.pkData),a=t.pkData[i.owner]||0,r=t.pkData[i.other]||0;t.pkCommonServices.sendSvgaGWT("Random",e),t.updateData({pkData:O({},t.pkData,{ownerData:a,otherData:r})}),t.checkShowSub(e)}}),R.subscribe("sckresult",function(e){if(2===+e.bizType){var i=t.global.get("USER_INFO.nickname");1===+e.rpType&&t.publicToolsServices.addGold(e.num),t.updateData({tipsData:Object.assign({},O({},e,{uname:i}))}),t.clearTips()}}))},RandomPKGWTServices.prototype.dataCheck=function dataCheck(e){return this.enterMsgCheck(e)&&2===+e.pktype&&this.pkCommonServices.pkidCheck(e,"Random")&&this.pkCommonServices.pkRoomCheck(e)},RandomPKGWTServices.prototype.enterMsgCheck=function enterMsgCheck(e){var t=e.pkid,i=e.taskInfo;this.pkid;return this.pkid=+t,+e.ts>=+this.statusGetTimes&&i&&i.status>0},RandomPKGWTServices.prototype.clearData=function clearData(e){var t=e.pkId,i=void 0===t?0:t,a=e.arid,r=void 0===a?0:a,n=e.brid,o=void 0===n?0:n,s=e.force,c=void 0===s?0:s,l=this.pkData||{},u=l.pkid,p=l.rida,f=l.ridb;(u>-1&&!(i?+u===+i:+p===+r&&+f===+o)||c)&&(this.clearGWTData(),this.pkid=-1)},RandomPKGWTServices.prototype.clearTips=function clearTips(){var e=this;this.tipsSub&&this.tipsSub.unsubscribe&&this.tipsSub.unsubscribe(),this.tipsSub=this.tipsTimer$.subscribe(function(){e.updateData({tipsData:null})})},RandomPKGWTServices.prototype.clearGWTData=function clearGWTData(){this.pkData=null,this.updateData({getedPkid:-1,tipsData:null,pkData:{}})},RandomPKGWTServices.prototype.getGWTReq=function getGWTReq(e){var t=this;this.pkCommonServices.getGWTReq({pkData:e,options:{container:".PKCommonGodWealthEnter-geeVerify"},callback:function callback(i){t.localStorage.set(t.pkCommonServices.getCacheFlag("Random"),e.pkid),t.updateData({getedPkid:e.pkid})}})},RandomPKGWTServices.prototype.sendGetedMsg=function sendGetedMsg(e){var t=e.taskInfo,i=void 0===t?{}:t,a=i.status,r=i.result,n=i.receType,o=(i.topUid,i.topUname);if(2===+a&&2===+r){var s=this.global.get("USER_INFO.uid"),c=this.pkCommonServices.isAnchor();1!==+n&&2!==+n||(this.updateData({tipsData:{type:"sckresult",sckId:0,bizType:2,uid:s,isSuc:1,rpType:1,num:i.packetYc,uname:1===+n?"\u4e3b\u64ad":o}}),this.clearTips()),3===+n&&c&&(this.updateData({tipsData:{type:"openedaward"}}),this.clearTips())}},RandomPKGWTServices.prototype.showOpenState=function showOpenState(e){var t=e.taskInfo,i=void 0===t?{}:t,a=this.pkCommonServices.getPKKey({rida:{rid:e.rida},ridb:{rid:e.ridb}}),r={pkid:e.pkid,pktype:2,rida:e.rida,ridb:e.ridb};r[a.extOwner]={stype:1,atype:4},r[a.extOther]={stype:0,atype:0},parseInt(+e.ts/1e3,10)<=+i.taskStartTime&&(this.pkTAServices.updateData({showTaskAwardFooter:!0,pkAwardData:r}),this.pkTAServices.checkAutoClearFooter(r,!0))},RandomPKGWTServices.prototype.checkInitFlag=function checkInitFlag(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(this.pkData||{}).pkid!==t.pkid&&Object.keys(this.showSubType).forEach(function(t){e.showSubType[t]=e.showSubType[t]||{},e.showSubType[t].flag=0})},RandomPKGWTServices.prototype.checkShowSub=function checkShowSub(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getStore("randomPKGWTData")||{},i=this.pkCommonServices.getGWTState(e,t.getedPkid),a=this.showSubType[i];a&&!a.flag&&(a.flag=1,"1_0"===i&&this.showOpenState(e),"2_1"===i&&this.sendGetedMsg(e),"2_2"===i&&(this.updateData({tipsData:{type:"openedaward"}}),this.clearTips()),"2_3"===i&&(this.updateData({tipsData:{type:"notok"}}),this.clearTips()),a.sub&&this.dysub2(a.sub))},RandomPKGWTServices.prototype.dysub2=function dysub2(e){var t=null;this.global.get("$ROOM.room_id");switch("16010022700"+e){case"160100227007":t={action_code:"160100227007",event_id:3,type:1};break;case"160100227008":t={action_code:"160100227008",event_id:1,type:1};break;case"160100227008_3":t={action_code:"160100227008",event_id:3,type:1};break;case"160100227009":t={action_code:"160100227009",event_id:1,type:1};break;case"160100227009_3":t={action_code:"160100227009",event_id:3,type:1};break;case"16010022700A":t={action_code:"16010022700A",event_id:1,type:1};break;case"16010022700A_3":t={action_code:"16010022700A",event_id:3,type:1}}t&&this.publicToolsServices.dysub2(t)},RandomPKGWTServices}(_.Service),p=_applyDecoratedDescriptor(u.prototype,"store",[a],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(u.prototype,"common",[r],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(u.prototype,"global",[n],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(u.prototype,"localStorage",[o],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(u.prototype,"publicToolsServices",[s],{enumerable:!0,initializer:null}),b=_applyDecoratedDescriptor(u.prototype,"pkCommonServices",[c],{enumerable:!0,initializer:null}),v=_applyDecoratedDescriptor(u.prototype,"pkTAServices",[l],{enumerable:!0,initializer:null}),u);t.default=A},"03ccaf":function(e,t,i){},"049095":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h,m,b,v,_,y,g=i("97a1f0"),k=i("7ca7dc"),S=i("eb3e22"),T=i("104af8"),P=i("c8aeab"),D=i("e854a7"),w=i("564e7b"),C=i("5c2eee"),O=i("730e3d"),N=i("8fe63d"),E=i("caacd2"),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var A=k.default.Service,j=k.default.Store,K=D.default.socketStream,I=["bimsc","bimps","bimpe","bimer"],B=["bimas","bisr","biss","bisg"],z=(a=j(),r=A(S.DataCenter.common),n=A(S.DataCenter.global),o=A(C.default),s=A(w.default),c=A(E.default),l=A(O.default),u=Object(g.Inject)("live.titleModule.ChickenPkStageTitleServices"),p=function(e){function RandomPKCPSServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RandomPKCPSServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",f,t),_initDefineProp(t,"common",d,t),_initDefineProp(t,"global",h,t),_initDefineProp(t,"configEffectSimpleServices",m,t),_initDefineProp(t,"publicToolsServices",b,t),_initDefineProp(t,"pkCommonServices",v,t),_initDefineProp(t,"mmSvgaServices",_,t),_initDefineProp(t,"chickenPkStageTitleServices",y,t),t.config={},t.isSubscribe=!1,t.pkData=null,t.playedpkId=-1,t.sendFlowL$=new T.Subject,t.sendFlowR$=new T.Subject,t}return _inherits(RandomPKCPSServices,e),RandomPKCPSServices.prototype.getStore=function getStore(e){return this.store.getState()[e]},RandomPKCPSServices.prototype.updateData=function updateData(e){this.store.dispatch(N.default.updateCPSData(e))},RandomPKCPSServices.prototype.init=function init(){var e=this;this.isSubscribe||(this.isSubscribe=!0,this.chickenPkStageTitleServices.checkSwitch().subscribe(function(t){t&&e.subSocketMsg()}),B.forEach(function(t){K.subscribe(t,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(t.type){case"bimas":t.svg_url&&e.checkSendSwitch(t);break;case"bisr":case"biss":case"bisg":e.checkSkinSwitch(t)}})}),this.sendFlowL$.pipe(Object(P.throttleTime)(1e3)).subscribe(function(t){e.addSendMsg(t,"Left")}),this.sendFlowR$.pipe(Object(P.throttleTime)(1e3)).subscribe(function(t){e.addSendMsg(t,"Right")}))},RandomPKCPSServices.prototype.initCb=function initCb(e){var t=this.config||{};this.config=Object.assign({},R({},t,e))},RandomPKCPSServices.prototype.checkOwnerRoom=function checkOwnerRoom(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return+this.publicToolsServices.getRoomId()===+e.rid},RandomPKCPSServices.prototype.addSendMsg=function addSendMsg(e,t){var i=(this.config||{})["addSendMsg"+t];i&&"function"===typeof i&&i(e)},RandomPKCPSServices.prototype.subSocketMsg=function subSocketMsg(){var e=this;I.forEach(function(t){K.subscribe(t,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(t.type){case"bimsc":1!==+t.act_status&&3!==+t.act_status||e.clearCPSData();break;case"bimps":case"bimpe":case"bimer":e.handleMsgStatus(t)}})})},RandomPKCPSServices.prototype.dataCheck=function dataCheck(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.arid,i=e.brid;return this.pkCommonServices.pkRoomCheck({rida:t,ridb:i})},RandomPKCPSServices.prototype.checkShow=function checkShow(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.session_type,i=e.anchor_status;return(0===+t||1===+t)&&2===+i},RandomPKCPSServices.prototype.clearCPSData=function clearCPSData(){this.updateData({pkData:{}})},RandomPKCPSServices.prototype.checkPkData=function checkPkData(){var e=(this.getStore("randomPKData")||{}).pkData;return e&&e.pkId},RandomPKCPSServices.prototype.getPkId=function getPkId(){return((this.getStore("randomPKData")||{}).pkData||{}).pkId},RandomPKCPSServices.prototype.handleMsgStatus=function handleMsgStatus(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(this.getStore("randomPKCPSData")||{}).pkData,i=void 0===t?{}:t,a=Object.assign({},R({},i,e));return this.checkShow(a)?(this.updateData({pkData:a}),!1):(this.clearCPSData(),!1)},RandomPKCPSServices.prototype.addSendFlow=function addSendFlow(e){this.checkOwnerRoom(e)?this.sendFlowL$.next(e):this.sendFlowR$.next(e)},RandomPKCPSServices.prototype.checkSendSwitch=function checkSendSwitch(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"pk_match"===t.b_type?this.chickenPkStageTitleServices.checkSwitch().subscribe(function(i){i&&e.addSendFlow(t)}):this.addSendFlow(t)},RandomPKCPSServices.prototype.checkSkinSwitch=function checkSkinSwitch(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"pk_match"===t.b_type?this.chickenPkStageTitleServices.checkSwitch().subscribe(function(i){i&&e.handleSkinEffect(t)}):this.handleSkinEffect(t)},RandomPKCPSServices.prototype.handleSkinEffect=function handleSkinEffect(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.publicToolsServices.getRoomId(),i=e.rid,a=e.style_switch,r=e.web_lightning_url,n=e.web_split_url;if(0!==+i&&+t!==+i||1!==+a)this.updateData({skinData:{}});else{var o=this.getPkId();r&&o&&this.addPkEffect(r,o),n&&o&&this.addVsEffect(n,o),this.updateData({skinData:e})}},RandomPKCPSServices.prototype.addVsEffect=function addVsEffect(e,t){this.mmSvgaServices.addSvga({domID:"ChickenPkStageSkinPkVs_"+t,loops:0,execMethod:2,URL:e,data:{content:null,width:172,height:30,zIndex:1}})},RandomPKCPSServices.prototype.addPkEffect=function addPkEffect(e,t){var i="ChickenPkStageSkinPkEffect_"+t;document.getElementById(i)&&this.playedpkId!==t&&(this.playedpkId=t,this.mmSvgaServices.addSvga({domID:i,loops:1,URL:e,data:{content:null,width:498,height:62,zIndex:1}}))},RandomPKCPSServices}(g.Service),f=_applyDecoratedDescriptor(p.prototype,"store",[a],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(p.prototype,"common",[r],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(p.prototype,"global",[n],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(p.prototype,"configEffectSimpleServices",[o],{enumerable:!0,initializer:null}),b=_applyDecoratedDescriptor(p.prototype,"publicToolsServices",[s],{enumerable:!0,initializer:null}),v=_applyDecoratedDescriptor(p.prototype,"pkCommonServices",[c],{enumerable:!0,initializer:null}),_=_applyDecoratedDescriptor(p.prototype,"mmSvgaServices",[l],{enumerable:!0,initializer:null}),y=_applyDecoratedDescriptor(p.prototype,"chickenPkStageTitleServices",[u],{enumerable:!0,initializer:null}),p);t.default=z},"066508":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/2_ef0efcb.png"},"085b8f":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default_avatar_1ba58f1.jpg"},"0a6759":function(e,t,i){"use strict";var a,r,n,o=i("7ca7dc"),s=i("f68984"),c=i("b00678"),l=i("eb3e22"),u=i("d538f8"),p=i("9256e7"),f=i("59c377");var d=(a=(0,o.default.Service)(f.default),r=function(){function VideoAboveEpics(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VideoAboveEpics),function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}(this,"videoAboveService",n,this)}return VideoAboveEpics.prototype.findCount=function findCount(e){return e.ofType(p.VIDEOABOVE_FIND_COUNT).pipe(Object(c.switchMap)(function(){return l.httpClient.get(u.default,"room/port1")}),Object(s.map)(p.default.receiveCount))},VideoAboveEpics}(),n=function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(r.prototype,"videoAboveService",[a],{enumerable:!0,initializer:null}),r);t.default=d},"0af0fc":function(e,t,i){"use strict";var a=i("96a2ec"),r=i("4f0921"),n=i.n(r),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},s=Array.from({length:10}).map(function(e){return{isLottery:0,anchorAvatar:n.a,anchorName:"\u865a\u4f4d\u4ee5\u5f85",value:"--"}}),c={activeIndex:0,rankData:{gameRankData:s,assumeRankData:s}},l={activeIndex:0,rankData:{normalRankData:[],superRankData:[]},normalPageIndex:1,superPageIndex:1,normalRecordCount:0,superRecordCount:0,indentStatus:0},u={activeIndex:1,rankData:{normalRankData:[],superRankData:[]},normalPageIndex:1,superPageIndex:1,normalRecordCount:0,superRecordCount:0,indentStatus:0},p={activeIndex:0,rankData:{normalRankData:[],superRankData:[]},normalPageIndex:1,superPageIndex:1,normalRecordCount:0,superRecordCount:0};t.default={battleShipHotRankData:function battleShipHotRankData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case a.BATTLESHIP_UPDATE_HOT_RANK_DATA:return Object.assign({},e,o({},t.payload));default:return e}},battleShipUserRankData:function battleShipUserRankData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.BATTLESHIP_UPDATE_USER_RANK_DATA:return Object.assign({},e,o({},t.payload));case a.BATTLESHIP_CHANGE_USER_RANK_STATUS:return o({},e,{rankData:{superRankData:e.rankData.superRankData.map(function(e){return e.id===t.payload.id?o({},e,{status:t.payload.status}):e})}});default:return e}},battleShipAnchorRankData:function battleShipAnchorRankData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.BATTLESHIP_UPDATE_ANCHOR_RANK_DATA:return Object.assign({},e,o({},t.payload));case a.BATTLESHIP_CHANGE_ANCHOR_RANK_STATUS:return o({},e,{rankData:{superRankData:e.rankData.superRankData.map(function(e){return e.id===t.payload.id?o({},e,{status:t.payload.status}):e})}});default:return e}},battleShipAllRankData:function battleShipAllRankData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case a.BATTLESHIP_UPDATE_ALL_RANK_DATA:return Object.assign({},e,o({},t.payload));default:return e}}}},"0bccf2":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/winer3_b2eea94.png"},"0c39a2":function(e,t,i){e.exports=i("5f575e")("24536")},"0e8fe2":function(e,t,i){"use strict";var a,r=i("1a22b7"),n=i.n(r),o=i("447d8e"),s=i("54992a"),c=(i("1a6f2c"),i("d3b924")),l=i("0011c1"),u=i("242c5f"),p=i("c2bb68"),f=i("cfa314"),d="/shark/live/src/pages/roomPage/videoAboveModule/components/VideoAbove/VideoAbove.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var h=Object(r.lazy)(function(){return i.e("BattleShip_c506f38").then(i.bind(null,"b4df6a"))}),m=Object(r.lazy)(function(){return i.e("FraudRoomTip_333b549").then(i.bind(null,"0ff85e"))}),b=Object(r.lazy)(function(){return i.e("AnchorTaskCenter_c2e5461").then(i.bind(null,"2de1b6"))}),v=Object(r.lazy)(function(){return i.e("LastLiveTimeTip_d671bbe").then(i.bind(null,"ac7e64"))}),_=Object(r.lazy)(function(){return i.e("RandomPK_c8a9102").then(i.bind(null,"4ace27"))}),y=Object(r.lazy)(function(){return i.e("PlayFishBall_69ae020").then(i.bind(null,"938546"))}),g=Object(r.lazy)(function(){return i.e("BJAudioRoom_0364bbf").then(i.bind(null,"bba340"))}),k=Object(r.lazy)(function(){return i.e("AnchorPocketPanel_693fe05").then(i.bind(null,"49d764"))}),S=Object(r.lazy)(function(){return i.e("MorePk_326bc92").then(i.bind(null,"97adc4"))}),T=Object(r.lazy)(function(){return i.e("WebStreamTip_c4eb4f5").then(i.bind(null,"6c1439"))}),P=Object(s.log)(a=function(e){function VideoAbove(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VideoAbove),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(VideoAbove,e),VideoAbove.prototype.render=function render(){return n.a.createElement("div",{className:"video-above",__source:{fileName:d,lineNumber:39},__self:this},n.a.createElement(c.default,{__source:{fileName:d,lineNumber:40},__self:this}),n.a.createElement(l.default,{__source:{fileName:d,lineNumber:41},__self:this}),n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",{__source:{fileName:d,lineNumber:42},__self:this}),__source:{fileName:d,lineNumber:42},__self:this},n.a.createElement(m,{__source:{fileName:d,lineNumber:43},__self:this})),n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",{__source:{fileName:d,lineNumber:45},__self:this}),__source:{fileName:d,lineNumber:45},__self:this},n.a.createElement(h,{__source:{fileName:d,lineNumber:46},__self:this})),n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",{__source:{fileName:d,lineNumber:51},__self:this}),__source:{fileName:d,lineNumber:51},__self:this},n.a.createElement(b,{__source:{fileName:d,lineNumber:52},__self:this})),n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",{__source:{fileName:d,lineNumber:54},__self:this}),__source:{fileName:d,lineNumber:54},__self:this},n.a.createElement(v,{__source:{fileName:d,lineNumber:55},__self:this})),n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",{__source:{fileName:d,lineNumber:57},__self:this}),__source:{fileName:d,lineNumber:57},__self:this},n.a.createElement(_,{__source:{fileName:d,lineNumber:58},__self:this})),n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",{__source:{fileName:d,lineNumber:60},__self:this}),__source:{fileName:d,lineNumber:60},__self:this},n.a.createElement(y,{__source:{fileName:d,lineNumber:61},__self:this})),n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",{__source:{fileName:d,lineNumber:63},__self:this}),__source:{fileName:d,lineNumber:63},__self:this},n.a.createElement(g,{__source:{fileName:d,lineNumber:64},__self:this})),n.a.createElement(p.default,{__source:{fileName:d,lineNumber:66},__self:this}),n.a.createElement(u.default,{__source:{fileName:d,lineNumber:67},__self:this}),n.a.createElement(f.default,{__source:{fileName:d,lineNumber:68},__self:this}),n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",{__source:{fileName:d,lineNumber:69},__self:this}),__source:{fileName:d,lineNumber:69},__self:this},n.a.createElement(k,{__source:{fileName:d,lineNumber:69},__self:this})),n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",{__source:{fileName:d,lineNumber:70},__self:this}),__source:{fileName:d,lineNumber:70},__self:this},n.a.createElement(S,{__source:{fileName:d,lineNumber:71},__self:this})),n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",{__source:{fileName:d,lineNumber:73},__self:this}),__source:{fileName:d,lineNumber:73},__self:this},n.a.createElement(T,{__source:{fileName:d,lineNumber:74},__self:this})))},VideoAbove}(n.a.Component))||a;t.default=Object(o.connect)(function mapStateToProps(e){return{videoAboveModuleSwitch:e.videoAboveModuleSwitch}})(P)},"0f636f":function(e,t,i){e.exports=i("5f575e")("23661")},"104af8":function(e,t,i){e.exports=i("d1db8c")("b2b3f")},"106b3a":function(e,t,i){"use strict";var a=i("3fad40");t.default=a.default},116841:function(e,t,i){"use strict";var a=i("382843");t.default=a.default},"119f56":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/other/gwt1_fe0e27a.svga"},"13f454":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/winer2_aa79006.png"},"1549ad":function(e,t,i){"use strict";function zeropad(e,t){for(var i=e.toString();i.length<t;)i="0"+i;return i}function playTimeFormat(e){var t=parseInt(e,10),i=parseInt(t/3600,10),a=parseInt(t%3600/60,10),r=parseInt(t%60,10);return(i>0?zeropad(i,2)+":":"")+zeropad(a,2)+":"+zeropad(r,2)}i.d(t,"default",function(){return playTimeFormat})},155827:function(e,t,i){e.exports=i("5f575e")("1bd67")},"166b02":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h,m,b=i("97a1f0"),v=i("7ca7dc"),_=i("eb3e22"),y=i("b66a4c"),g=i("e854a7"),k=i("564e7b"),S=i("55e860"),T=i("81b5d6"),P=i("caacd2"),D=i("8e8ae5"),w=i("94d865"),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var O=v.default.Service,N=v.default.Store,E=g.default.socketStream,R=(a=N(),r=O(_.DataCenter.common),n=O(_.DataCenter.global),o=O(k.default),s=O(P.default),c=O(D.default),l=function(e){function GTServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GTServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",u,t),_initDefineProp(t,"common",p,t),_initDefineProp(t,"global",f,t),_initDefineProp(t,"publicToolsServices",d,t),_initDefineProp(t,"pkCommonServices",h,t),_initDefineProp(t,"pkTAServices",m,t),t.isSubscribe=!1,t.jsonpConfig=null,t.pkData=null,t.statusGetTimes=0,t.overTimer=null,t.loopTimer=null,t.loopTimerCont=[],t.pkid=-1,t.closeTipsId=-1,t.closeSvgaPKId=-1,t.nickname="",t}return _inherits(GTServices,e),GTServices.prototype.setNickName=function setNickName(){this.nickname=this.global.get("USER_INFO.nickname")},GTServices.prototype.getStore=function getStore(e){return this.store.getState()[e]},GTServices.prototype.updateData=function updateData(e){this.store.dispatch(w.PKBannerActions.updateGTData(e))},GTServices.prototype.updateMainPKData=function updateMainPKData(e){var t=(this.getStore("pkBannerData")||{}).taskType;(0===e&&"GT"===t||0!==e)&&this.store.dispatch(w.PKBannerActions.updateData({taskType:e}))},GTServices.prototype.checkMainPKStatus=function checkMainPKStatus(){var e=this.getStore("pkBannerData"),t=e.isMaiMaiPkState,i=e.taskStatus;return 3===t&&"normal"===i},GTServices.prototype.init=function init(e){var t=this,i=this.config;this.config=Object.assign({},C({},i,e)),this.setNickName(),this.isSubscribe||(this.isSubscribe=!0,this.startSub=E.subscribe("pkgifttaskv2status",function(e){if(e&&t.dataCheck(e)){var i=e.status,a=void 0===i?0:i;t.statusGetTimes=+e.ts,t.pkData=Object.assign({},e,{tsLocal:Date.now()});var r=t.pkCommonServices.getPKKey(t.pkData),n=t.pkData[r.owner]||{},o=t.pkData[r.other]||{},s=n.isdoneht,c=void 0===s?0:s,l=n.unames,u=void 0===l?[]:l,p=(n.buff,t.getEndTime(e,n)),f=p.endTime,d=p.leftTime;t.pkData.endTime=f,t.updateMainPKData("GT"),3===+a&&d>0?(t.initLoopTimer(u),t.showSendGiftGuide(d)):t.destroyLoopTimer(),4===+a&&(t.listenOverTimeOut(5e3),+c&&t.sendSvga(n)),t.pkTAServices.checkClearFooter(),t.updateData({showGTCount:3===+a?1:0,showGT:!0,pkData:C({},t.pkData,{ownerData:n,otherData:o})})}}))},GTServices.prototype.dataCheck=function dataCheck(e){return this.enterMsgCheck(e)&&this.pkCommonServices.pktypeCheck(e,"Banner")&&this.pkCommonServices.pkidCheck(e,"Banner")&&this.pkCommonServices.pkRoomCheck(e)},GTServices.prototype.enterMsgCheck=function enterMsgCheck(e){var t=e.pkid,i=e.status,a=void 0===i?0:i,r=(e.ts,-1===this.pkid);return this.pkid=+t,+e.ts>=+this.statusGetTimes&&!(+a>3&&r)},GTServices.prototype.clearData=function clearData(e){var t=e.pkId,i=void 0===t?0:t,a=e.arid,r=void 0===a?0:a,n=e.brid,o=void 0===n?0:n,s=e.force,c=void 0===s?0:s,l=this.pkData||{},u=l.rida,p=void 0===u?{}:u,f=l.ridb,d=void 0===f?{}:f,h=i?this.pkid===i:+p.rid===+r&&+d.rid===+o;(this.pkid>-1&&!h||c)&&(this.updateMainPKData(0),this.clearReducer(),this.destroyLoopTimer(),this.pkid=-1,this.closeTipsId=-1,this.closeSvgaPKId=-1)},GTServices.prototype.getEndTime=function getEndTime(e,t){var i=e.status,a=e.ts,r=t.tst,n=t.tet,o=a;switch(+i){case 2:o=1e3*r;break;case 3:o=1e3*n}var s=+o>+a?+o-+a:0;return{leftTime:3===+i?s:0,endTime:s+Date.now()}},GTServices.prototype.listenOverTimeOut=function listenOverTimeOut(e){var t=this;clearTimeout(this.overTimer),this.overTimer=setTimeout(function(){t.clearReducer()},e)},GTServices.prototype.clearReducer=function clearReducer(){clearTimeout(this.overTimer),this.pkData=null,this.updateData({showGTCount:0,showGT:!1,pkData:{}})},GTServices.prototype.getLoopTimerCont=function getLoopTimerCont(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length){for(var t=[],i=0;i<e.length;i++){var a=e[i].slice(4,-1);a===this.nickname?t.unshift(a):t.push(a)}this.loopTimerCont=t.concat(this.loopTimerCont).slice(0,50)}},GTServices.prototype.initLoopTimer=function initLoopTimer(e){var t=this;this.loopTimer&&clearInterval(this.loopTimer),this.getLoopTimerCont(e),this.loopTimerCont.length&&(this.sendFadeTips(),this.loopTimer=setInterval(function(){t.sendFadeTips()},400))},GTServices.prototype.destroyLoopTimer=function destroyLoopTimer(){this.loopTimerCont=[],clearInterval(this.loopTimer)},GTServices.prototype.sendFadeTips=function sendFadeTips(){if(this.loopTimerCont.length&&this.checkMainPKStatus()){var e=this.getFadeOffset();if(e){var t=this.loopTimerCont.shift();Object(S.default)(t,C({},e),{type:"BannerPk",during:1e3,location:"left"})}}else this.destroyLoopTimer()},GTServices.prototype.getFadeOffset=function getFadeOffset(){var e=y.default.find(".BannerPKGiftTaskNum");return e?y.default.getPositionByRef(e):null},GTServices.prototype.showSendGiftGuide=function showSendGiftGuide(e){this.pkid===this.closeTipsId||this.pkCommonServices.isAnchor()||(this.dysub2("tips"),this.closeTipsId=this.pkid,Object(T.default)({content:"PK\u4efb\u52a1\u5df2\u5f00\u542f\uff0c\u9001\u4e2a\u5c0f\u793c\u7269\u5e2e\u4e3b\u64ad\u5b8c\u6210\u4efb\u52a1\u5427\uff01",type:"normal",duration:Math.min(e,1e4),showClose:!0}))},GTServices.prototype.sendSvga=function sendSvga(e){this.closeSvgaPKId=this.pkid,this.pkCommonServices.sendSvga("GT",e)},GTServices.prototype.dysub2=function dysub2(e){var t=null;switch(e){case"tips":t={action_code:"160100227005",event_id:3,type:1};break;case"question":t={action_code:"160100227006",event_id:3,type:1}}t&&this.publicToolsServices.dysub2(t)},GTServices}(b.Service),u=_applyDecoratedDescriptor(l.prototype,"store",[a],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(l.prototype,"common",[r],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(l.prototype,"global",[n],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(l.prototype,"publicToolsServices",[o],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(l.prototype,"pkCommonServices",[s],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(l.prototype,"pkTAServices",[c],{enumerable:!0,initializer:null}),l);t.default=R},"18c060":function(e,t,i){"use strict";var a=i("3e2ca0");t.default=a.default},193899:function(e,t,i){e.exports=i("999443")("628a6")},"19e6cb":function(e,t,i){},"1a1886":function(e,t,i){e.exports=i("5f575e")("5a05e")},"1a22b7":function(e,t,i){e.exports=i("999443")("8af19")},"1a2843":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h,m,b=i("97a1f0"),v=i("7ca7dc"),_=i("eb3e22"),y=i("e854a7"),g=i("564e7b"),k=i("caacd2"),S=i("8e8ae5"),T=i("94d865"),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var D=v.default.Service,w=v.default.Store,C=y.default.socketStream,O=(a=w(),r=D(_.DataCenter.common),n=D(_.DataCenter.global),o=D(g.default),s=D(k.default),c=D(S.default),l=function(e){function RandomPKServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RandomPKServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",u,t),_initDefineProp(t,"common",p,t),_initDefineProp(t,"global",f,t),_initDefineProp(t,"publicToolsServices",d,t),_initDefineProp(t,"pkCommonServices",h,t),_initDefineProp(t,"pkTAServices",m,t),t.isSubscribe=!1,t.pkData=null,t.statusGetTimes=0,t.overTimer=null,t.pkid=-1,t.closeSvgaPKId=-1,t}return _inherits(RandomPKServices,e),RandomPKServices.prototype.getStore=function getStore(e){return this.store.getState()[e]},RandomPKServices.prototype.updateData=function updateData(e){this.store.dispatch(T.PKBannerActions.updateFBData(e))},RandomPKServices.prototype.updateMainPKData=function updateMainPKData(e){var t=(this.getStore("pkBannerData")||{}).taskType;(0===e&&"FB"===t||0!==e)&&this.store.dispatch(T.PKBannerActions.updateData({taskType:e}))},RandomPKServices.prototype.init=function init(e){var t=this,i=this.config;this.config=Object.assign({},P({},i,e)),this.isSubscribe||(this.isSubscribe=!0,this.startSub=C.subscribe("fbtaskv2status",function(e){if(e&&t.dataCheck(e)){var i=t.getEndTime(e).endTime;t.statusGetTimes=+e.ts,t.pkData=Object.assign({},e,{tsLocal:Date.now(),endTime:i});var a=t.pkCommonServices.getPKKey(t.pkData),r=t.pkData[a.owner]||0,n=t.pkData[a.other]||0,o=e.status,s=void 0===o?0:o,c=e.isdonetask,l=void 0===c?0:c,u=e.donetaskinfo,p=void 0===u?{}:u;t.updateMainPKData("FB"),3===+s&&(t.listenOverTimeOut(5e3),+l&&+r===+p.rid&&t.sendSvga(r,p)),t.pkTAServices.checkClearFooter(),t.updateData({showFBCount:2===+s?1:0,showFB:!0,pkData:P({},t.pkData,{ownerData:r,otherData:n})})}}))},RandomPKServices.prototype.dataCheck=function dataCheck(e){return this.enterMsgCheck(e)&&this.pkCommonServices.pktypeCheck(e,"Banner")&&this.pkCommonServices.pkidCheck(e,"Banner")&&this.pkCommonServices.pkRoomCheck(e)},RandomPKServices.prototype.enterMsgCheck=function enterMsgCheck(e){var t=e.pkid,i=e.status,a=void 0===i?0:i,r=(e.ts,-1===this.pkid);return this.pkid=+t,+e.ts>=+this.statusGetTimes&&!(3===+a&&r)},RandomPKServices.prototype.clearData=function clearData(e){var t=e.pkId,i=void 0===t?0:t,a=e.arid,r=void 0===a?0:a,n=e.brid,o=void 0===n?0:n,s=e.force,c=void 0===s?0:s,l=this.pkData||{},u=l.rida,p=void 0===u?0:u,f=l.ridb,d=void 0===f?0:f,h=i?this.pkid===i:+p===+r&&+d===+o;(this.pkid>-1&&!h||c)&&(this.clearFBData(),this.pkid=-1,this.closeSvgaPKId=-1)},RandomPKServices.prototype.getEndTime=function getEndTime(e){var t=e.status,i=e.ts,a=e.tet,r=i;switch(+t){case 2:r=1e3*a}var n=+r>+i?+r-+i:0;return{leftTime:3===+t?n:0,endTime:n+Date.now()}},RandomPKServices.prototype.listenOverTimeOut=function listenOverTimeOut(e){var t=this;clearTimeout(this.overTimer),this.overTimer=setTimeout(function(){t.clearFBData()},e)},RandomPKServices.prototype.clearFBData=function clearFBData(){this.updateMainPKData(0),clearTimeout(this.overTimer),this.pkData=null,this.updateData({showFB:!1,showFBCount:0,pkData:{}})},RandomPKServices.prototype.getMainPKInfo=function getMainPKInfo(e){var t=this.getStore("pkBannerData")||{},i=this.global.get("$SYS.avatar_url"),a=t||{},r=a.ai,n=void 0===r?{}:r,o=a.bi,s=void 0===o?{}:o,c=e===+a.rida?n.icon:s.icon;return c?i+"upload/"+c+"_small.jpg":""},RandomPKServices.prototype.sendSvga=function sendSvga(e,t){this.pkid!==this.closeSvgaPKId&&(this.closeSvgaPKId=this.pkid,this.dysub2(4),this.pkCommonServices.sendSvga("FB",t))},RandomPKServices.prototype.dysub2=function dysub2(e){var t=null,i=this.global.get("$ROOM.room_id"),a="16010022B00"+e;switch(a){case"16010022B001A":t={action_code:"16010022B001",event_id:1,type:1};break;case"16010022B004":t={action_code:a,event_id:3,type:1,ext:{r:i}};break;case"16010022B001":case"16010022B002":case"16010022B003":case"16010022B005":case"16010022B006":case"16010022B007":t={action_code:a,event_id:3,type:1}}t&&this.publicToolsServices.dysub2(t)},RandomPKServices}(b.Service),u=_applyDecoratedDescriptor(l.prototype,"store",[a],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(l.prototype,"common",[r],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(l.prototype,"global",[n],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(l.prototype,"publicToolsServices",[o],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(l.prototype,"pkCommonServices",[s],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(l.prototype,"pkTAServices",[c],{enumerable:!0,initializer:null}),l);t.default=O},"1a6f2c":function(e,t,i){},"1bb934":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h=i("1a22b7"),m=i.n(h),b=i("447d8e"),v=i("7ca7dc"),_=i("eb3e22"),y=i("caacd2"),g=i("1a2843"),k=i("42824a"),S=i("c4a79f"),T=i("e296f5"),P=(i("a7e05f"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/FirstBlood/FirstBlood.js");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var D=v.default.Service,w=(a=D(_.DataCenter.common),r=D(_.DataCenter.global),n=D(g.default),o=D(k.default),s=D(y.default),c=function(e){function FirstBlood(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FirstBlood);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(i,"common",l,i),_initDefineProp(i,"global",u,i),_initDefineProp(i,"pkFBServices",p,i),_initDefineProp(i,"pkTAServices",f,i),_initDefineProp(i,"pkCommonServices",d,i),i.showPkFBId=-1,i}return _inherits(FirstBlood,e),FirstBlood.prototype.componentWillReceiveProps=function componentWillReceiveProps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pkData;if(e.showFB&&t){var i=t.pkid,a=t.status,r=t.isdonetask,n=t.donetaskinfo,o=this.props.pkData,s=void 0===o?{}:o;if(+i!==+this.showPkFBId||+a!==+s.status)switch(this.showPkFBId=+i,+a){case 2:this.pkFBServices.dysub2(1),this.pkFBServices.dysub2(3);break;case 3:1===+r&&n?this.pkFBServices.dysub2(5):this.pkFBServices.dysub2(6)}}},FirstBlood.prototype.dispatchContent=function dispatchContent(){var e=this,t=this.props,i=t.pkData,a=void 0===i?{}:i,r=t.showFBTips,n=a.status,o=a.isdonetask,s=a.donetaskinfo;switch(+n){case 2:return m.a.createElement(T.default,{clickCallback:function clickCallback(){return e.pkFBServices.dysub2("1A")},contentConfig:[{value:"\u8d60\u9001\u8be5\u573aPK",filltype:0,highcolor:0},{value:"\u9996\u4e2a\u793c\u7269",filltype:0,highcolor:1},{value:"\uff0c\u5c06\u4f1a\u89e6\u53d1\u968f\u673a\u5956\u52b1",filltype:0,highcolor:0}],tips:m.a.createElement(S.default,{taskType:1,showTips:r,hoverCallback:function hoverCallback(){return e.pkFBServices.dysub2(3)},__source:{fileName:P,lineNumber:79},__self:this}),__source:{fileName:P,lineNumber:71},__self:this});case 3:if(1===+o&&s){var c=this.global.get("$ROOM.room_id"),l=this.pkCommonServices.isAnchor(),u=s.rid,p=s.nn,f=s.uname,d=s.buffRate,h=s.atype,b=s.prop_id,v=p;l&&(v=+c>0&&+c===+u?"\u4f60":"\u5bf9\u65b9\u4e3b\u64ad");var _=1===+h?"prop":"award",y=1===+h?b:+h,g={nn:v,uname:f,awardname:this.pkCommonServices.getAwardInfoPlus(y,_).name,buffnum:+d>=0?d+"%":""},k=this.pkCommonServices.getAwardContent("FB",h);return m.a.createElement(T.default,{clickCallback:function clickCallback(){return e.pkFBServices.dysub2("1A")},contentConfig:k,dataMap:g,tips:null,__source:{fileName:P,lineNumber:115},__self:this})}return m.a.createElement(T.default,{clickCallback:function clickCallback(){return e.pkFBServices.dysub2("1A")},contentConfig:[{value:"\u9996\u6740\u62a2\u593a\u7ed3\u675f\uff0c\u65e0\u4eba\u83b7\u5f97\u5956\u52b1",filltype:0,highcolor:0}],tips:null,__source:{fileName:P,lineNumber:125},__self:this})}return null},FirstBlood.prototype.render=function render(){var e=this.props,t=e.pkData,i=e.showFB;return t&&i?this.dispatchContent():null},FirstBlood}(m.a.Component),l=_applyDecoratedDescriptor(c.prototype,"common",[a],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"global",[r],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(c.prototype,"pkFBServices",[n],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(c.prototype,"pkTAServices",[o],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(c.prototype,"pkCommonServices",[s],{enumerable:!0,initializer:null}),c);t.default=Object(b.connect)(function mapStateToProps(e){var t=e.bannerPKData,i=void 0===t?{}:t,a=e.bannerPKFBData,r=void 0===a?{}:a;return{pkData:r.pkData,showFB:r.showFB,showFBTips:r.showFBTips,taskConfig:i.taskConfig}})(w)},"1c028d":function(e,t,i){},"1de739":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h,m,b,v,_,y,g=i("1a22b7"),k=i.n(g),S=i("3b6ec9"),T=i.n(S),P=i("447d8e"),D=i("7ca7dc"),w=i("eb3e22"),C=i("25fdd5"),O=i("ac64b0"),N=i("c35afe"),E=i("13f454"),R=i.n(E),A=i("f80298"),j=i.n(A),K=i("235d85"),I=i.n(K),B=i("066508"),z=i.n(B),G=i("61d264"),M=i.n(G),F=i("6d5e81"),x=i.n(F),L=i("72148b"),W=i.n(L),V=i("0bccf2"),U=i.n(V),H=i("d0c7e9"),q=i.n(H),$=i("c6aaa7"),J=i.n($),Y=i("9b550e"),Q=i.n(Y),X=i("4b3407"),Z=i.n(X),ee=i("581434"),te=i.n(ee),ie=i("d2637d"),ae=i.n(ie),re=i("825940"),ne=i.n(re),oe=i("5758d4"),se=i.n(oe),ce=i("801ea7"),le=i.n(ce),ue=i("b00728"),pe=i.n(ue),fe=i("da6858"),de=i.n(fe),he=i("79ed7c"),me=i("ce2563"),be=i("91f2cd"),ve=i("76f0cf"),_e=i("73b410"),ye=i("d64c8a"),ge=i("fdc387"),ke=i("b33ade"),Se=i("d27fdc"),Te=i("106b3a"),Pe=i("b3a00b"),De=i("166b02"),we=i("1a2843"),Ce=i("8e8ae5"),Oe=i("6505c5"),Ne=i("caacd2"),Ee=(i("56b086"),i("1549ad")),Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Ae="/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/PKBanner.js";function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var je=D.default.Service,Ke=(a=je(Pe.default),r=je(De.default),n=je(we.default),o=je(Ce.default),s=je(Oe.default),c=je(Ne.default),l=je(w.DataCenter.global),u=je(w.DataCenter.acj),p=function(e){function PKBanner(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PKBanner);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));_initDefineProp(i,"pkBannerServices",f,i),_initDefineProp(i,"pkBannerGTServices",d,i),_initDefineProp(i,"pkBannerFBServices",h,i),_initDefineProp(i,"pkBannerTAServices",m,i),_initDefineProp(i,"pkBannerGWTServices",b,i),_initDefineProp(i,"pkCommonServices",v,i),_initDefineProp(i,"global",_,i),_initDefineProp(i,"acj",y,i),i.showEffectRoom2Types=[201,2],i.winsIcon=[U.a,q.a,J.a],i.effectImgs=[Q.a,Z.a,te.a,ae.a,ne.a,se.a,le.a,pe.a,de.a],i.startTimePngs=[I.a,I.a,z.a,M.a],i.starTimernum=3,i.state={starTimeNum:0,overTimeNum:0,rankIconShowTime:0,showBottomTip:!0,floatFlag:!0};var a=Object.getPrototypeOf(i);return Object.getOwnPropertyNames(a).forEach(function(e){var t=i[e];"function"===typeof t&&(i[e]=t.bind(i))}),i.showEffectRoom2Types="master"===i.getEnv()?[311,201]:[201,2],i}return _inherits(PKBanner,e),PKBanner.prototype.getEnv=function getEnv(){switch(document.domain){case"www.douyu.com":return"master";case"www.dz11.com":return"trunk";case"live.dz11.com":return"live";case"www.dev.dz11.com":return"dev";default:return"master"}},PKBanner.prototype.componentDidMount=function componentDidMount(){this.pkBannerServices.init(),this.pkBannerGTServices.init(),this.pkBannerFBServices.init(),this.pkBannerTAServices.init(),this.pkBannerGWTServices.init(),this.setState({pkingTimeNum:600}),this.acj.get(O.JS_TYPE.JS_FLOATSIZE).subscribe(this.changeFloatSize),this.acj.get(O.JS_TYPE.JS_SHILD_PKBANNER).subscribe(this.changeShild)},PKBanner.prototype.changeFloatSize=function changeFloatSize(e){this.setState({floatFlag:e.value})},PKBanner.prototype.changeShild=function changeShild(e){this.setState({shield:e.value})},PKBanner.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){this.showRankIcon(e),this.PKCountDown(e),this.PKing(e),this.PKEnd(e),this.clearTimeID(e),this.showTipMovie(e)},PKBanner.prototype.showTipMovie=function showTipMovie(e){e.showTaskMovieSign!==this.props.showTaskMovieSign&&(e.taskGac>0&&this.showLeftTip(e.taskGac),e.taskGbc>0&&this.showRightTip(e.taskGbc))},PKBanner.prototype.showLeftTip=function showLeftTip(e){var t=this,i=document.createElement("p");this.leftTips||(this.leftTips=[]),this.leftTips.push(i),i.innerHTML="+"+e,this.leftInterID=setTimeout(function(){t.addClass(i,"PkView-addTip");var e=document.getElementsByClassName("PkView-rightContributionvalue")[0];e&&(i.style.left=e.offsetWidth+85+"px",t.leftTranslateID=setTimeout(t.leftTranslateEnd,1e3))},10),this.tipsBox&&this.tipsBox.appendChild(i)},PKBanner.prototype.showRightTip=function showRightTip(e){var t=this,i=document.createElement("p");this.rightTips||(this.rightTips=[]),this.rightTips.push(i),i.innerHTML="+"+e,this.rightInterID=setTimeout(function(){t.addClass(i,"PkView-addTip");var e=document.getElementsByClassName("PkView-rightContributionvalue")[0];e&&(i.style.right=e.offsetWidth+85+"px",t.rightTranslateID=setTimeout(t.rightTranslateEnd,1e3))},10),this.tipsBox&&this.tipsBox.appendChild(i)},PKBanner.prototype.addClass=function addClass(e,t){this.hasClass(e,t)||(e.className+=" "+t)},PKBanner.prototype.hasClass=function hasClass(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},PKBanner.prototype.leftTranslateEnd=function leftTranslateEnd(){this.tipsBox&&this.leftTips.length>0&&this.tipsBox.removeChild(this.leftTips.shift())},PKBanner.prototype.rightTranslateEnd=function rightTranslateEnd(){this.tipsBox&&this.rightTips.length>0&&this.tipsBox.removeChild(this.rightTips.shift())},PKBanner.prototype.showRankIcon=function showRankIcon(e){!(this.props.isMaiMaiPkState<=1||this.props.isMaiMaiPkState>=5)||2!==e.isMaiMaiPkState&&3!==e.isMaiMaiPkState||(this.timestamp0=(new Date).getTime()+8900,this.setState({rankIconShowTime:8}),clearInterval(this.rankShowTimeID),this.rankShowTimeID=setInterval(this.showRankTimeHandle,100))},PKBanner.prototype.PKCountDown=function PKCountDown(e){2!==this.props.isMaiMaiPkState&&2===e.isMaiMaiPkState&&(this.timestamp1=(new Date).getTime()+3900,this.setState({starTimeNum:3}),this.starTimeID=setInterval(this.starTimeHandle,100),this.setState({showBottomTip:!0}),this.pkBannerServices.updateTaskFoldState("normal"))},PKBanner.prototype.PKing=function PKing(e){3===e.isMaiMaiPkState&&e.endTime!==this.timestamp2&&(this.timestamp2=e.endTime,this.setState({pkingTimeNum:e.lt}),this.pkingTimeID=setInterval(this.PKingTimeHandle,100))},PKBanner.prototype.PKEnd=function PKEnd(e){4!==this.props.isMaiMaiPkState&&4===e.isMaiMaiPkState&&(this.timestamp3=(new Date).getTime()+1e3*e.rt,this.setState({overTimeNum:e.rt}),this.overTimeID=setInterval(this.overTimeHandle,100),this.showEffect(),this.pkBannerServices.updateTaskFoldState("normal"))},PKBanner.prototype.clearTimeID=function clearTimeID(e){5!==this.props.isMaiMaiPkState&&5===e.isMaiMaiPkState&&(clearInterval(this.overTimeID),this.acj.push(O.ROOM_TYPE.ROOM_PK_TASK,{type:2})),3===this.props.isMaiMaiPkState&&3!==e.isMaiMaiPkState&&clearInterval(this.pkingTimeID),4===this.props.isMaiMaiPkState&&4!==e.isMaiMaiPkState&&clearInterval(this.overTimeID)},PKBanner.prototype.showEffect=function showEffect(){var e=this.props,t=e.ai,i=e.bi,a=e.isHomeCourt;if(t&&i){var r=a?t:i;r.grade<=r.lgrade||(clearInterval(this.rankUpEffectTimeID),this.timestamp4=(new Date).getTime()+8900,this.setState({showEffectTime:8,rankID:+r.grade}),this.rankUpEffectTimeID=setInterval(this.showEffectTimeHandle,100))}},PKBanner.prototype.showEffectTimeHandle=function showEffectTimeHandle(){var e=parseInt((this.timestamp4-(new Date).getTime())/1e3,10);this.setState({showEffectTime:e}),e<=0&&clearInterval(this.rankUpEffectTimeID)},PKBanner.prototype.componentWillUnmount=function componentWillUnmount(){clearInterval(this.rankUpEffectTimeID),clearInterval(this.rankShowTimeID),clearInterval(this.starTimeID),clearInterval(this.pkingTimeID),clearInterval(this.overTimeID),clearInterval(this.leftInterID),clearInterval(this.leftTranslateID),clearInterval(this.rightInterID),clearInterval(this.rightTranslateID)},PKBanner.prototype.showRankTimeHandle=function showRankTimeHandle(){var e=parseInt((this.timestamp0-(new Date).getTime())/1e3,10);this.setState({rankIconShowTime:e}),e<0&&clearInterval(this.rankShowTimeID)},PKBanner.prototype.starTimeHandle=function starTimeHandle(){var e=parseInt((this.timestamp1-(new Date).getTime())/1e3,10);e<=0?(this.pkBannerServices.changePkState(3),clearInterval(this.starTimeID)):this.setState({starTimeNum:e})},PKBanner.prototype.PKingTimeHandle=function PKingTimeHandle(){var e=parseInt((this.timestamp2-(new Date).getTime())/1e3,10);e<0?clearInterval(this.pkingTimeID):this.setState({pkingTimeNum:e})},PKBanner.prototype.overTimeHandle=function overTimeHandle(){var e=parseInt((this.timestamp3-(new Date).getTime())/1e3,10);e<0?(this.pkBannerServices.changePkState(5),clearInterval(this.overTimeID)):this.setState({overTimeNum:e})},PKBanner.prototype.showStreamer=function showStreamer(e,t){return"ownerData"===t&&e.ownerBuffing||"otherData"===t&&e.otherBuffing},PKBanner.prototype.renderPKTask=function renderPKTask(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left",i=this.props,a=i.isMaiMaiPkState,r=i.isHomeCourt,n=i.taskType,o=i.showGTCount,s=i.showTaskAwardFooter,c=i.pkAwardData,l=3===a,u=s,p=l&&!s,f=this.pkBannerTAServices.checkBuffing(c),d=r===("left"===t?1:0)?"ownerData":"otherData",h={TaskAwardStreamer:{component:k.a.createElement(C.default,{height:24,top:12,direct:t,__source:{fileName:Ae,lineNumber:455},__self:this}),checkShow:l&&this.showStreamer(f,d)},TaskAwardCount:{component:k.a.createElement(ke.default,{__source:{fileName:Ae,lineNumber:459},__self:this}),checkShow:l&&f.ownerBuffing},TaskAward:{component:k.a.createElement(ge.default,{__source:{fileName:Ae,lineNumber:463},__self:this}),checkShow:u},TaskAwardAddtion:{component:k.a.createElement(Se.default,{direct:t,dataType:d,__source:{fileName:Ae,lineNumber:467},__self:this}),checkShow:l&&this.showStreamer(f,d)},GTNum:{component:k.a.createElement(ve.default,{extClass:"is-"+t,__source:{fileName:Ae,lineNumber:471},__self:this}),taskType:"GT",checkShow:l&&"ownerData"===d},GiftTask:{component:k.a.createElement(me.default,{__source:{fileName:Ae,lineNumber:476},__self:this}),taskType:"GT",checkShow:p},GiftTaskState:{component:k.a.createElement(be.default,{__source:{fileName:Ae,lineNumber:481},__self:this}),checkShow:l&&o},FirstBlood:{component:k.a.createElement(_e.default,{__source:{fileName:Ae,lineNumber:485},__self:this}),taskType:"FB",checkShow:p},FBCount:{component:k.a.createElement(ye.default,{__source:{fileName:Ae,lineNumber:490},__self:this}),taskType:"FB",checkShow:l&&"ownerData"===d},GodWealthTask:{component:k.a.createElement(Te.default,{__source:{fileName:Ae,lineNumber:495},__self:this}),checkShow:!0}};if(h[e]){var m=h[e],b=m.component,v=m.taskType;return m.checkShow&&(!v||n===v)?b:null}return null},PKBanner.prototype.renderHeader=function renderHeader(){return k.a.createElement("div",{className:"PkView-header",__source:{fileName:Ae,lineNumber:514},__self:this},this.renderPKTask("GodWealthTask"))},PKBanner.prototype.render=function render(){var e=this,t=this.props,i=t.isMaiMaiPkState,a=(t.isHomeCourt,t.ac,t.bc,t.tsio,t.tsid,t.gotTsid,t.totalC,t.gtst,t.taskStatus),r=(t.showTaskMovieSign,this.state),n=r.floatFlag,o=r.shield;if("close"===a||!n||o)return null;var s=this.state.pkingTimeNum,c=this.getPkResult(),l=this.getPKRoleInfo(),u=l.leftName,p=l.leftSc,f=void 0===p?0:p,d=l.leftW,h=void 0===d?360:d,m=l.leftIcon,b=void 0===m?"":m,v=l.rightname,_=l.rightSc,y=void 0===_?0:_,g=l.rightW,S=void 0===g?360:g,P=l.rightIcon,D=void 0===P?"":P;return i>1&&i<5?"fold"===a?T.a.createPortal(k.a.createElement(he.default,{pkingTimeNum:s,__source:{fileName:Ae,lineNumber:556},__self:this}),document.getElementsByClassName("layout-Player-videoMain")[0]):T.a.createPortal(k.a.createElement("div",{className:"PkView",style:{bottom:"58px"},__source:{fileName:Ae,lineNumber:561},__self:this},k.a.createElement("div",{className:"PkView-backgroundImg",__source:{fileName:Ae,lineNumber:562},__self:this}),this.renderHeader(),k.a.createElement("div",{className:"PkView-barView",__source:{fileName:Ae,lineNumber:566},__self:this},k.a.createElement("div",{className:"PkView-barImg is-left",style:{width:h+"px"},__source:{fileName:Ae,lineNumber:567},__self:this},this.renderPKTask("TaskAwardStreamer","left")),k.a.createElement("div",{className:"PkView-barImg is-right",style:{width:S+"px"},__source:{fileName:Ae,lineNumber:570},__self:this},this.renderPKTask("TaskAwardStreamer","right"))),k.a.createElement("div",{className:"PkView-avatarBg is-left",__source:{fileName:Ae,lineNumber:574},__self:this},k.a.createElement("img",{className:"PkView-avatar",src:b,__source:{fileName:Ae,lineNumber:575},__self:this}),k.a.createElement("label",{className:"PkView-nickName",__source:{fileName:Ae,lineNumber:576},__self:this},u||"\u5de6\u8fb9"),this.renderPKTask("GTNum","left"),this.renderPKTask("FBCount","left")),k.a.createElement("div",{className:"PkView-avatarBg is-right",__source:{fileName:Ae,lineNumber:580},__self:this},k.a.createElement("img",{className:"PkView-avatar",src:D,__source:{fileName:Ae,lineNumber:581},__self:this}),k.a.createElement("label",{className:"PkView-nickName is-right",__source:{fileName:Ae,lineNumber:582},__self:this},v||"\u53f3\u8fb9"),this.renderPKTask("GTNum","right"),this.renderPKTask("FBCount","right")),this.getLeftLabel(f),k.a.createElement("div",{ref:function ref(t){return e.tipsBox=t},__source:{fileName:Ae,lineNumber:587},__self:this}),this.getRightLabel(y),this.getCountDown(),this.getTimeBar(c),this.getPKVSState(c),this.renderPkResult(c,"left"),this.renderPkResult(c,"right"),this.getWinStreakIcon("left"),this.getWinStreakIcon("right"),this.getEffectView(),this.getPkiDes()),document.getElementsByClassName("layout-Player-videoMain")[0]):null},PKBanner.prototype.getProcessWitdh=function getProcessWitdh(e,t){if(e+t===0)return{leftW:330,rightW:330};var i=parseInt(520*e/(e+t),10);return{leftW:i+70,rightW:520-i+70}},PKBanner.prototype.getPKRoleInfo=function getPKRoleInfo(){var e=this.props,t=e.ai,i=e.bi,a=e.ac,r=e.bc,n=this.global.get("$SYS.avatar_url");if(t&&i){var o=parseInt(a/100,0),s=parseInt(r/100,0),c=this.getProcessWitdh(o,s),l=c.leftW,u=c.rightW;return{leftName:t.nn,rightname:i.nn,leftSc:o,rightSc:s,leftW:l,rightW:u,leftIcon:t.icon?n+"upload/"+t.icon+"_small.jpg":"",rightIcon:i.icon?n+"upload/"+i.icon+"_small.jpg":""}}return{}},PKBanner.prototype.getCountDown=function getCountDown(){var e=this.props.isMaiMaiPkState,t=this.state.starTimeNum;return 2===e?k.a.createElement("div",{className:"PkView-CoutDown",__source:{fileName:Ae,lineNumber:686},__self:this},k.a.createElement("img",{className:"PkView-StarTimeValue",src:t<=3?this.startTimePngs[t]:"",__source:{fileName:Ae,lineNumber:687},__self:this})):null},PKBanner.prototype.getLeftLabel=function getLeftLabel(e){var t=this.props,i=t.isMaiMaiPkState,a=t.isHomeCourt?"\u6211\u65b9":"\u5bf9\u65b9";return 2===i?k.a.createElement("div",{className:"PkView-leftBarLabel",__source:{fileName:Ae,lineNumber:700},__self:this},k.a.createElement("label",{className:"PkView-leftBarPkName",__source:{fileName:Ae,lineNumber:701},__self:this},a),k.a.createElement("label",{className:"PkView-leftBarPkReady",__source:{fileName:Ae,lineNumber:704},__self:this},"\u51c6\u5907\u5c31\u7eea")):k.a.createElement("label",{className:"PkView-leftContributionvalue",__source:{fileName:Ae,lineNumber:709},__self:this},a+" "+e||"0",this.renderPKTask("TaskAwardAddtion","left"))},PKBanner.prototype.getRightLabel=function getRightLabel(e){var t=this,i=this.props,a=i.isMaiMaiPkState,r=i.isHomeCourt?"\u5bf9\u65b9":"\u6211\u65b9";return 2===a?k.a.createElement("div",{className:"PkView-rightBarLabel",__source:{fileName:Ae,lineNumber:724},__self:this},k.a.createElement("label",{className:"PkView-rightBarPkReady",__source:{fileName:Ae,lineNumber:725},__self:this},"\u51c6\u5907\u5c31\u7eea"),k.a.createElement("label",{className:"PkView-rightBarPkName",__source:{fileName:Ae,lineNumber:728},__self:this},r),k.a.createElement("div",{ref:function ref(e){return t.tipsRight=e},__source:{fileName:Ae,lineNumber:731},__self:this})):k.a.createElement("label",{className:"PkView-rightContributionvalue",__source:{fileName:Ae,lineNumber:734},__self:this},this.renderPKTask("TaskAwardAddtion","right"),e+" "+r||"0")},PKBanner.prototype.getPKVSState=function getPKVSState(e){var t=this.props.isMaiMaiPkState,i=this.state.pkingTimeNum;return 3===t?i>60?k.a.createElement("div",{className:"PkView-VSstate",__source:{fileName:Ae,lineNumber:750},__self:this}):k.a.createElement("div",{className:"PkView-CoutDown",__source:{fileName:Ae,lineNumber:751},__self:this},i):4===t?k.a.createElement("span",{className:0===e?"PkView-drawstate":"PkView-KOstate",__source:{fileName:Ae,lineNumber:753},__self:this}):null},PKBanner.prototype.getTimeBar=function getTimeBar(e){var t=this.props.isMaiMaiPkState,i=this.state,a=i.pkingTimeNum,r=i.overTimeNum,n=this.renderPKTask("GiftTaskState");if(n)return n;var o=this.renderPKTask("TaskAwardCount");if(o)return o;if(3===t&&a>60)return k.a.createElement("div",{className:"PkView-timeBar",__source:{fileName:Ae,lineNumber:780},__self:this},k.a.createElement("img",{src:W.a,className:"PkView-timeIcon",style:{display:a?"inline":"none"},__source:{fileName:Ae,lineNumber:781},__self:this}),k.a.createElement("label",{className:"PkView-timeLabel",__source:{fileName:Ae,lineNumber:785},__self:this},a?Object(Ee.default)(a):""),k.a.createElement("label",{className:"PkView-endTipLabel",__source:{fileName:Ae,lineNumber:790},__self:this},a?"\u7ed3\u675f":""));if(4===t){var s=this.getPunish();return e>0?k.a.createElement("div",{className:"PkView-timeBar",__source:{fileName:Ae,lineNumber:800},__self:this},k.a.createElement("img",{src:x.a,className:"PkView-timeIcon",__source:{fileName:Ae,lineNumber:801},__self:this}),k.a.createElement("label",{className:"PkView-timeLabel",__source:{fileName:Ae,lineNumber:802},__self:this},s?"\u5c0f\u60e9\u7f5a\uff1a"+s:"\u80dc\u8d1f\u5df2\u5206\uff0c\u6765\u70b9\u5c0f\u60e9\u7f5a\u5427"),k.a.createElement("label",{className:"PkView-endTipLabel",__source:{fileName:Ae,lineNumber:805},__self:this},Object(Ee.default)(r))):k.a.createElement("div",{className:"PkView-timeBar",__source:{fileName:Ae,lineNumber:810},__self:this},k.a.createElement("img",{src:x.a,__source:{fileName:Ae,lineNumber:811},__self:this}),k.a.createElement("label",{className:"PkView-timeLabel",__source:{fileName:Ae,lineNumber:812},__self:this},"\u52bf\u5747\u529b\u654c\uff0c\u518d\u6765\u4e00\u6b21\u5427~"),k.a.createElement("label",{className:"PkView-endTipLabel",__source:{fileName:Ae,lineNumber:815},__self:this},Object(Ee.default)(r)))}return null},PKBanner.prototype.getPunish=function getPunish(){var e=this.props.punish;return e&&e.length>20&&(e=e.slice(0,17)+"\u2026"),e},PKBanner.prototype.getPkResult=function getPkResult(){var e=this.props,t=e.ac,i=e.bc;return parseInt(t,10)>parseInt(i,10)?1:parseInt(t,10)<parseInt(i,10)?2:0},PKBanner.prototype.renderPkResult=function renderPkResult(e,t){var i=this.props,a=i.ai,r=i.bi,n=i.isMaiMaiPkState,o="left"===t?a:r,s="left"===t?1:2,c=j.a;return 0!==e&&4===n&&a?(e===s&&(c=o.wsn&&o.wsn>=3&&o.wsn<=5?this.winsIcon[o.wsn-3]:R.a),k.a.createElement("img",{className:"PkView-pkResultstate is-"+t,src:c,__source:{fileName:Ae,lineNumber:874},__self:this})):null},PKBanner.prototype.getWinStreakIcon=function getWinStreakIcon(e){var t=this.props,i=t.ai,a=void 0===i?{}:i,r=t.bi,n=void 0===r?{}:r,o=t.isMaiMaiPkState,s=this.state.rankIconShowTime,c="left"===e?a:n;return s<=0?null:o<2||o>3?null:!c.wsn||c.wsn<=0?null:k.a.createElement("div",{className:"PkView-winningStreak is-"+e,__source:{fileName:Ae,lineNumber:896},__self:this},"\u5df2"+c.wsn+"\u8fde\u80dc")},PKBanner.prototype.getEffectView=function getEffectView(){var e=this.state,t=e.rankID,i=e.showEffectTime;return t&&i?t<1||t>9?null:i<=0?null:k.a.createElement(N.default,Re({},Re({},this.props,this.state,{effectOver:this.effectClose}),{__source:{fileName:Ae,lineNumber:917},__self:this})):null},PKBanner.prototype.effectClose=function effectClose(){clearInterval(this.rankUpEffectTimeID),this.setState({showEffectTime:0,rankID:0})},PKBanner.prototype.bottomClose=function bottomClose(){this.setState({showBottomTip:!1})},PKBanner.prototype.getPkiDes=function getPkiDes(){var e=this.state.showBottomTip,t=this.props.pki,i=this.renderPKTask("FirstBlood")||this.renderPKTask("GiftTask")||this.renderPKTask("TaskAward");return i?k.a.createElement("div",{className:"PkView-GiftTask",__source:{fileName:Ae,lineNumber:941},__self:this},i):t&&e&&k.a.createElement("div",{className:"PkView-bottomDiv",__source:{fileName:Ae,lineNumber:947},__self:this},k.a.createElement("div",{className:"PkView-bottomMid",__source:{fileName:Ae,lineNumber:948},__self:this},k.a.createElement("span",{style:{pointerEvents:"none"},__source:{fileName:Ae,lineNumber:949},__self:this},t),k.a.createElement("span",{className:"PkView-bottomClose",onClick:this.bottomClose,__source:{fileName:Ae,lineNumber:950},__self:this})))},PKBanner}(k.a.Component),f=_applyDecoratedDescriptor(p.prototype,"pkBannerServices",[a],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(p.prototype,"pkBannerGTServices",[r],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(p.prototype,"pkBannerFBServices",[n],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(p.prototype,"pkBannerTAServices",[o],{enumerable:!0,initializer:null}),b=_applyDecoratedDescriptor(p.prototype,"pkBannerGWTServices",[s],{enumerable:!0,initializer:null}),v=_applyDecoratedDescriptor(p.prototype,"pkCommonServices",[c],{enumerable:!0,initializer:null}),_=_applyDecoratedDescriptor(p.prototype,"global",[l],{enumerable:!0,initializer:null}),y=_applyDecoratedDescriptor(p.prototype,"acj",[u],{enumerable:!0,initializer:null}),p);t.default=Object(P.connect)(function mapStateToProps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pkBannerData,i=void 0===t?{}:t,a=e.bannerPKGTData,r=void 0===a?{}:a,n=e.bannerPKTAData,o=void 0===n?{}:n;return Re({},i,{showGTCount:r.showGTCount,showTaskAwardFooter:o.showTaskAwardFooter,pkAwardData:o.pkAwardData})})(Ke)},"20ec0b":function(e,t,i){e.exports=i("5f575e")("d48de")},"235d85":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/1_66997ed.png"},"242c5f":function(e,t,i){"use strict";var a=i("7c9af2");t.default=a.default},"2433d1":function(e,t,i){"use strict";var a=i("984767");t.default=a.default},"2452f2":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/charge_img_20d8ad4.png"},"25ee84":function(e,t,i){"use strict";i.d(t,"default",function(){return u});var a=i("1a22b7"),r=i.n(a),n=i("3d4400"),o=i.n(n),s=i("c3b00b"),c=i.n(s),l=(i("933f63"),"/shark/live/src/pages/roomPage/videoAboveModule/components/ChargeTask/taskRender/anchorTaskRender.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var u=function(e){function AnchorTaskRender(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AnchorTaskRender);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));i.state={leftTime:300,isInvalid:0};var a=Object.getPrototypeOf(i);return Object.getOwnPropertyNames(a).forEach(function(e){var t=i[e];"function"===typeof t&&(i[e]=t.bind(i))}),i}return _inherits(AnchorTaskRender,e),AnchorTaskRender.prototype.render=function render(){var e=this.props.task,t=e.tt>0;1===+e.isInvalid&&this.setState({isInvalid:1});var i=e.current/e.total*100,a=void 0;return a=1===+e.isInvalid?c.a:e?e.giftIcon:o.a,r.a.createElement("div",{__source:{fileName:l,lineNumber:55},__self:this},r.a.createElement("li",{className:"AnchorTaskRender-item_bg",__source:{fileName:l,lineNumber:56},__self:this},r.a.createElement("p",{className:"AnchorTaskRender-item_title",__source:{fileName:l,lineNumber:57},__self:this},e.tn),r.a.createElement("div",{className:"AnchorTaskRender-item_div",__source:{fileName:l,lineNumber:62},__self:this},r.a.createElement("div",{style:{display:"flex",alignItems:"center"},__source:{fileName:l,lineNumber:63},__self:this},r.a.createElement("img",{className:"AnchorTaskRender-item_icon",src:a,__source:{fileName:l,lineNumber:64},__self:this}),r.a.createElement("div",{className:"AnchorTaskRender-div_content",__source:{fileName:l,lineNumber:68},__self:this},r.a.createElement("div",{className:"AnchorTaskRender-div_txt",__source:{fileName:l,lineNumber:69},__self:this},r.a.createElement("p",{className:"AnchorTaskRender-item_txt",__source:{fileName:l,lineNumber:70},__self:this},e.current,"/",e.total),t?r.a.createElement("p",{className:"AnchorTaskRender-t_name",__source:{fileName:l,lineNumber:74},__self:this},e.sp,r.a.createElement("span",{className:"AnchorTaskRender-t_name t_name_tips",__source:{fileName:l,lineNumber:76},__self:this},e.sp)):null,t?r.a.createElement("span",{className:"AnchorTaskRender-item_em",__source:{fileName:l,lineNumber:82},__self:this},"\u51a0\u540d"):null),i>=100?r.a.createElement("div",{className:"AnchorTaskRender-progress_bar2",__source:{fileName:l,lineNumber:88},__self:this}):r.a.createElement("div",{className:"AnchorTaskRender-progress",__source:{fileName:l,lineNumber:90},__self:this},r.a.createElement("div",{className:"AnchorTaskRender-progress_bar",style:{width:i+"%"},__source:{fileName:l,lineNumber:91},__self:this})))),this.renderTask()),r.a.createElement("div",{className:"AnchorTaskRender-item_line",__source:{fileName:l,lineNumber:101},__self:this})))},AnchorTaskRender.prototype.renderTask=function renderTask(){var e=this.props.task,t=this.state.leftTime,i=this.getRenderTaskInfo(),a=i.isFull,n=i.isActive,o=i.waitPass,s=i.isPassed,c=i.isOver;return 0===+e.tt?a?c?r.a.createElement("div",{className:"AnchorTaskRender-div_btn",__source:{fileName:l,lineNumber:124},__self:this},r.a.createElement("p",{className:"AnchorTaskRender-t_name2",__source:{fileName:l,lineNumber:125},__self:this},"\u4e3b\u64ad\u5df2\u8868\u6f14\u5b8c")):r.a.createElement("div",{className:"AnchorTaskRender-div_btn",__source:{fileName:l,lineNumber:131},__self:this},r.a.createElement("p",{className:"AnchorTaskRender-t_name2",__source:{fileName:l,lineNumber:132},__self:this},"\u5df2\u5145\u6ee1"),r.a.createElement("button",{className:"AnchorTaskRender-item_btn4",onClick:this.onClickStartHandle,__source:{fileName:l,lineNumber:133},__self:this},"\u5b8c\u6210")):r.a.createElement("div",{className:"AnchorTaskRender-div_btn",__source:{fileName:l,lineNumber:114},__self:this},r.a.createElement("p",{className:"AnchorTaskRender-t_name2",__source:{fileName:l,lineNumber:115},__self:this},"\u5f85\u5145\u6ee1"),r.a.createElement("button",{className:"AnchorTaskRender-item_btn4",onClick:this.onClickBackHandle,__source:{fileName:l,lineNumber:116},__self:this},"\u64a4\u56de")):n?s?a?c?r.a.createElement("div",{className:"AnchorTaskRender-div_btn",__source:{fileName:l,lineNumber:180},__self:this},r.a.createElement("p",{className:"AnchorTaskRender-t_name2",__source:{fileName:l,lineNumber:181},__self:this},"\u5df2\u9001\u6ee1"),r.a.createElement("button",{className:"AnchorTaskRender-item_btn4",onClick:this.onClickEndtHandle,__source:{fileName:l,lineNumber:182},__self:this},"\u5df2\u5b8c\u6210")):r.a.createElement("div",{className:"AnchorTaskRender-div_btn",__source:{fileName:l,lineNumber:191},__self:this},r.a.createElement("p",{className:"AnchorTaskRender-t_name2",__source:{fileName:l,lineNumber:192},__self:this},"\u5df2\u9001\u6ee1"),r.a.createElement("button",{className:"AnchorTaskRender-item_btn4",onClick:this.onClickStartHandle,__source:{fileName:l,lineNumber:193},__self:this},"\u5f00\u59cb")):r.a.createElement("div",{className:"AnchorTaskRender-div_btn",__source:{fileName:l,lineNumber:170},__self:this},r.a.createElement("p",{className:"AnchorTaskRender-t_name2",__source:{fileName:l,lineNumber:171},__self:this},t>200?"\u793c\u7269\u63a5\u53d7\u4e2d":"\u5f85\u9001\u6ee1\u793c\u7269"+t+"s")):r.a.createElement("div",{className:"AnchorTaskRender-div_btn",__source:{fileName:l,lineNumber:159},__self:this},r.a.createElement("p",{className:"AnchorTaskRender-t_name2",style:{marginRight:"45px"},__source:{fileName:l,lineNumber:160},__self:this},o?"\u5ba1\u6838\u4e2d":"\u5ba1\u6838\u672a\u901a\u8fc7")):r.a.createElement("div",{className:"AnchorTaskRender-div_btn",__source:{fileName:l,lineNumber:143},__self:this},r.a.createElement("button",{className:"AnchorTaskRender-item_btn4",onClick:this.onClickNoHandle,__source:{fileName:l,lineNumber:144},__self:this},"\u62d2\u7edd"),r.a.createElement("button",{className:"AnchorTaskRender-item_btn3",onClick:this.onClickOkHandle,__source:{fileName:l,lineNumber:150},__self:this},"\u63a5\u53d7"))},AnchorTaskRender.prototype.getRenderTaskInfo=function getRenderTaskInfo(){var e=this.props.task,t=e.total>0&&e.current===e.total,i=1===+e.tt,a=!1,r=!1,n=!1;switch(e.st){case 0:i=!1;break;case 1:i=!0,n=!0;break;case 2:n=!1;break;case 3:case 4:a=!0;break;case 5:a=!0,r=!0}return{isFull:t,isActive:i,waitPass:n,isPassed:a,isOver:r}},AnchorTaskRender.prototype.onClickBackHandle=function onClickBackHandle(){this.props.model.showAertPanel("\u4f60\u7684\u4efb\u52a1\u8fd8\u6ca1\u5b8c\u6210\uff0c\u786e\u5b9a\u8981\u64a4\u56de\uff1f",this.revoke)},AnchorTaskRender.prototype.revoke=function revoke(){var e=this.props,t=e.model,i=e.task;t.revoke(i.tfid)},AnchorTaskRender.prototype.onClickNoHandle=function onClickNoHandle(){var e=this.props,t=e.model,i=e.task;t.refuse(i.tid)},AnchorTaskRender.prototype.onClickOkHandle=function onClickOkHandle(){var e=this.props,t=e.model,i=e.task;t.accept(i.tid)},AnchorTaskRender.prototype.onClickEndtHandle=function onClickEndtHandle(){var e=this.props,t=e.model,i=e.task;t.complete(i.tid)},AnchorTaskRender.prototype.onClickStartHandle=function onClickStartHandle(){var e=this.props,t=e.model,i=e.task;0===+i.tt?t.chongnengComplete(i.tfid):t.start(i.tid)},AnchorTaskRender}(r.a.PureComponent)},"25fdd5":function(e,t,i){e.exports=i("5f575e")("8cb91")},292183:function(e,t,i){e.exports=i("5f575e")("8a2d1")},"2bab9a":function(e,t,i){e.exports=i("5f575e")("f9f54")},"2bd00b":function(e,t,i){"use strict";var a=i("4760db");t.default=a.default},"2d2009":function(e,t,i){},"2d6146":function(e,t){e.exports=sdkd479d126aaa128c11834},"2e0bfd":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f=i("1a22b7"),d=i.n(f),h=i("7ca7dc"),m=i("eb3e22"),b=i("8dd4e6"),v=i("e5eb77"),_=i("564e7b"),y=i("caacd2"),g=i("e2aa89"),k=i("b8b912"),S=(i("f7c2a6"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKCommons/GodWealth/Enter.js");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var T=h.default.Service,P={"1_0":{state:"1_0",text:1,click:0},"1_1":{state:"1_1",text:1,click:0},"2_1":{state:"2_1",text:1,click:0},"2_2":{state:"2_2",text:0,click:1},"2_3":{state:"2_3",text:0,click:0},"2_4":{state:"2_4",text:0,click:0},"2_5":{state:"2_5",text:0,click:0}},D=(a=T(m.DataCenter.common),r=T(m.DataCenter.global),n=T(_.default),o=T(y.default),s=function(e){function GodOfWealth(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GodOfWealth);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(i,"common",c,i),_initDefineProp(i,"global",l,i),_initDefineProp(i,"toolsServices",u,i),_initDefineProp(i,"pkCommonServices",p,i),i.state={popShow:0,extClass:"",delay:0},i.timer$=Object(b.timer)(200,500).pipe(Object(v.take)(1)),i.delayShowTimer$=Object(b.timer)(5e3,5e3).pipe(Object(v.take)(1)),i.dysub=i.dysub.bind(i),i.togglePopShow=i.togglePopShow.bind(i),i}return _inherits(GodOfWealth,e),GodOfWealth.prototype.componentDidMount=function componentDidMount(){var e=this.props,t=e.pkData,i=void 0===t?{}:t,a=e.getedPkid,r=i.taskInfo,n=void 0===r?{}:r;"1_0"===this.pkCommonServices.getGWTState(i,a)&&parseInt(+i.ts/1e3,10)<=+n.taskStartTime&&this.autoShow()},GodOfWealth.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this,i=e.pkData,a=void 0===i?{}:i,r=e.getedPkid,n=a.taskInfo,o=void 0===n?{}:n,s=this.props,c=s.pkData,l=void 0===c?{}:c,u=s.getedPkid,p=this.pkCommonServices.getGWTState(l,u),f=this.pkCommonServices.getGWTState(a,r);if("1_0"===f&&parseInt(+a.ts/1e3,10)<=+o.taskStartTime&&this.autoShow(),l.pkid===a.pkid){var d=p!==f;if("1_1"===f&&d&&this.autoShow(),"2_2"===f&&d){var h=3e3*Math.random().toFixed(2);this.setState({delay:h}),h>0&&(this.delaySub=Object(b.timer)(h,h).pipe(Object(v.take)(1)).subscribe(function(){t.setState({delay:0})}))}}},GodOfWealth.prototype.componentWillUnmount=function componentWillUnmount(){this.unsubTimer(),this.delaySub&&this.delaySub.unsubscribe&&this.delaySub.unsubscribe(),this.delayShowSub&&this.delayShowSub.unsubscribe&&this.delayShowSub.unsubscribe()},GodOfWealth.prototype.unsubTimer=function unsubTimer(){this.timerSub&&this.timerSub.unsubscribe&&this.timerSub.unsubscribe()},GodOfWealth.prototype.dysub=function dysub(e){var t=this.props.dysubServices;t&&"function"===typeof t&&t(e)},GodOfWealth.prototype.autoShow=function autoShow(){var e=this;this.setState({extClass:"is-delayShow"}),this.delayShowSub=this.delayShowTimer$.subscribe(function(){e.setState({extClass:""})})},GodOfWealth.prototype.getGWTReq=function getGWTReq(){var e=this.props,t=e.getGWTReqServices,i=e.pkData;t&&"function"===typeof t&&t(void 0===i?{}:i)},GodOfWealth.prototype.togglePopShow=function togglePopShow(e){var t=this;this.unsubTimer(),this.timerSub=this.timer$.subscribe(function(){t.setState({popShow:e},function(){t.state.popShow&&t.dysub("7")})})},GodOfWealth.prototype.getTaskState=function getTaskState(){var e=this.props,t=e.pkData,i=void 0===t?{}:t,a=e.getedPkid,r=this.state.delay,n=this.pkCommonServices.getGWTState(i,a),o=n;return"2_2"===n&&r>0&&(o="2_1"),P[o]||{}},GodOfWealth.prototype.renderTips=function renderTips(){var e=this.props.tipsData,t=this.state.delay;if(e&&t<=0)switch(e.type){case"sckresult":var i=e.num,a=e.uid,r=e.isSuc,n=e.uname,o=+i>=0?this.toolsServices.formatDecimals(i/100,2):"--";if(1===+r){var s=[{value:"\u606d\u559c",filltype:0,highcolor:0},{value:"uname",filltype:1,highcolor:this.toolsServices.isAnchor(a)?0:1},{value:"\u83b7\u5f97",filltype:0,highcolor:0},{value:o+"\u9c7c\u7fc5",filltype:0,highcolor:1},{value:"\u8d22\u795e\u5956\u52b1",filltype:0,highcolor:0}];return d.a.createElement(g.default,{clickCallback:function clickCallback(){},state:1===+r?0:1,dataMap:{uname:n},contentConfig:s,__source:{fileName:S,lineNumber:208},__self:this})}return null;case"openedaward":var c=this.toolsServices.isAnchor();return d.a.createElement(g.default,{clickCallback:function clickCallback(){},state:0,dataMap:{},contentConfig:[{value:c?"\u8d22\u795e\u793c\u5305\u5df2\u5f00\u542f\uff0c\u6c34\u53cb\u6fc0\u70c8\u62a2\u593a\u4e2d~":"\u8d22\u795e\u793c\u5305\u5df2\u5f00\u542f\uff0c\u70b9\u51fb\u9886\u53d6",filltype:0,highcolor:0}],__source:{fileName:S,lineNumber:222},__self:this});case"notok":return d.a.createElement(g.default,{clickCallback:function clickCallback(){},state:1,dataMap:{},contentConfig:[{value:"\u6709\u65f6\u5019\u5c31\u5dee\u4e00\u70b9\u70b9\u8fd0\u6c14\uff0c\u8d22\u795e\u964d\u4e34\u5931\u8d25",filltype:0,highcolor:0}],__source:{fileName:S,lineNumber:238},__self:this})}return null},GodOfWealth.prototype.render=function render(){var e=this,t=this.props.pkData,i=this.state,a=i.popShow,r=i.extClass;if(t&&t.taskInfo&&+t.taskInfo.status>0){var n=this.getTaskState(),o=n.state,s=n.text,c=n.click,l=t.taskInfo,u=l.status,p=l.packetYc,f=void 0===p?0:p,h=l.result,m=(l.receType,f>=0?this.toolsServices.formatDecimals(f/100,2):0),b=1===+u;return d.a.createElement("div",{className:"PKCommonGodWealthEnter-enter is-state"+o,__source:{fileName:S,lineNumber:268},__self:this},this.renderTips(),d.a.createElement(k.default,{pkData:t,show:b&&a?1:0,extClass:r,togglePopShow:this.togglePopShow,__source:{fileName:S,lineNumber:271},__self:this}),d.a.createElement("div",{className:"PKCommonGodWealthEnter-geeVerify",__source:{fileName:S,lineNumber:275},__self:this}),d.a.createElement("div",{className:"PKCommonGodWealthEnter-content",onMouseEnter:function onMouseEnter(){b&&e.togglePopShow(1)},onMouseLeave:function onMouseLeave(){e.togglePopShow(0)},onClick:function onClick(){b&&e.dysub(1===+h?"A":"8"),c&&(e.dysub("9"),e.getGWTReq())},__source:{fileName:S,lineNumber:277},__self:this},s?d.a.createElement("div",{className:"PKCommonGodWealthEnter-fish",__source:{fileName:S,lineNumber:298},__self:this},d.a.createElement("i",{className:"PKCommonGodWealthEnter-fishicon",__source:{fileName:S,lineNumber:299},__self:this}),d.a.createElement("span",{className:"PKCommonGodWealthEnter-fishnum",__source:{fileName:S,lineNumber:300},__self:this},m)):null))}return null},GodOfWealth}(d.a.Component),c=_applyDecoratedDescriptor(s.prototype,"common",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(s.prototype,"global",[r],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(s.prototype,"toolsServices",[n],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(s.prototype,"pkCommonServices",[o],{enumerable:!0,initializer:null}),s);t.default=D},"2e6ffc":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/other/winTofail_6075d12.svga"},"3145e5":function(e,t,i){"use strict";i.d(t,"actions",function(){return o});var a=i("193899"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},n=Object(a.createSlice)({name:"ANCHORPOCKETMODULE",initialState:{showPanel:!1},extraReducers:{},reducers:{toggleAnchorPocketPanel:function toggleAnchorPocketPanel(e,t){var i=t.payload;e.showPanel=i}}}),o=r({},n.actions);t.default={anchorPocketData:n.reducer}},315183:function(e,t,i){"use strict";var a=i("b354d6"),r=i("612669"),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},o={isOpen:!1,isLoadComp:!1,isShow:!1,cate2Id:0};t.default={anchorTaskCenterData:function anchorTaskCenterData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.ANCHORTASKCENTER_UPDATE_DATA:return Object.assign({},e,n({},t.payload));case r.ANCHORTASKCENTER_TOGGLE_PANEL:return t.payload===e.isShow?e:n({},e,{isShow:t.payload||!e.isShow,isLoadComp:!0});default:return e}}}},"31aae1":function(e,t,i){"use strict";var a=i("9256e7"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};t.default={videoAboveData:function videoAboveCount(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{count:0},t=arguments[1];switch(t.type){case a.VIDEOABOVE_RECEIVE_COUNT:var i=t.payload.data.length;return r({},e,{count:i});case a.VIDEOABOVE_ADD_COUNT:var n=e.count;return r({},e,{count:n+=1});default:return e}}}},"332be4":function(e,t,i){},"34550d":function(e,t,i){"use strict";i.d(t,"FinishedEffect",function(){return g}),i.d(t,"GWTEffect",function(){return k});var a=i("1a22b7"),r=i.n(a),n=i("3bb83c"),o=i("ef6d37"),s=i("f0e21f"),c=i.n(s),l=i("9e772b"),u=i.n(l),p=i("119f56"),f=i.n(p),d=i("bf95a4"),h=i.n(d),m=i("eb95b3"),b=i.n(m),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},_="/shark/live/src/pages/roomPage/videoAboveModule/components/PKCommons/SvgaEffectTpl/index.js",y={GT:c.a,FB:u.a},g=function FinishedEffect(e,t){var i=t.atype,a=null;switch(e){case"GT":case"FB":a=r.a.createElement(n.default,v({taskType:e},t,{__source:{fileName:_,lineNumber:26},__self:void 0}))}return{URL:y[e],loops:1,data:{content:+i?a:null,width:300,height:300,zIndex:100}}},k=function GWTEffect(e){var t=e.isSelf,i=e.receType,a=null,n=100;return 1===+i?a=f.a:2===+i?a=t?f.a:h.a:3===+i&&(a=b.a,n=1),{URL:a,loops:1,data:{content:r.a.createElement(o.default,v({},e,{__source:{fileName:_,lineNumber:63},__self:void 0})),width:400,height:400,zIndex:n}}}},"36360e":function(e,t,i){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};t.default={videoAboveModuleSwitch:function videoAboveModuleSwitch(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function checkActionType(e,t){return!!(Array.isArray(e)&&e.indexOf(t)>=0||t===e)}(t.type,"VIDEO_ABOVE_UPDATE_LAZY_SWITCH")?a({},e,t.payload.data):e}}},382843:function(e,t,i){"use strict";var a=i("1a22b7"),r=i.n(a);function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var n=function(e){function Count(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Count);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={type:0,endTimestamp:0,restTime:0},t.config={form:"mm:ss",notUpdate:!1,customDefaultValue:"",updateCd:0},t.timer=null,t.isTimerRunning=!1,t}return _inherits(Count,e),Count.prototype.formateTime=function formateTime(e){var t=this.config.form,i="--",a="--",r="--";if(e>=0)r=Math.floor(e/60/60)%24,i=Math.floor(e/60%60),a=Math.floor(e%60),r<10&&(r="0"+r),i<10&&(i="0"+i),a<10&&(a="0"+a);else if(this.config.customDefaultValue){var n=this.config.customDefaultValue;i=n,a=n,r=n}return t.replace("hh",r).replace("mm",i).replace("ss",a)},Count.prototype.componentWillMount=function componentWillMount(){var e=this.props||{};this.mergeDate(e)},Count.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e||{};this.mergeDate(t)},Count.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.timer)},Count.prototype.mergeDate=function mergeDate(e){var t=parseInt((new Date).getTime()/1e3,10),i=0,a=0;if(e.form&&(this.config.form=e.form),e.updateCd&&(this.config.updateCd=e.updateCd||0),e.customDefaultValue&&(this.config.customDefaultValue=e.customDefaultValue),e.notUpdate){if(this.config.notUpdate=e.notUpdate||!1,(1===+e.type?e.time-this.state.restTime||0:e.time-t-this.state.restTime||0)<=this.config.updateCd)return}1===+e.type?(i=e.time+t||0,a=e.time||0):(i=e.time||0,a=e.time-t||0),Object.assign(this.state,{endTimestamp:i,restTime:a}),this.checkTimer(i)},Count.prototype.checkTimer=function checkTimer(e){var t=e>parseInt((new Date).getTime()/1e3,10)?1:0;t&&!this.isTimerRunning?(clearTimeout(this.timer),this.isTimerRunning=!0,this.runCount()):t||(clearTimeout(this.timer),this.isTimerRunning=!1)},Count.prototype.runCount=function runCount(){var e=this,t=this.state.restTime;if((void 0===t?0:t)<=0){var i=this.props.callBack;return clearTimeout(this.timer),this.isTimerRunning=!1,i&&"function"===typeof i&&i(),!1}return this.timer=setTimeout(function(){var t=e.state.endTimestamp,i=+(void 0===t?0:t)-parseInt((new Date).getTime()/1e3,10);e.setState({restTime:i}),e.runCount()},1e3),!1},Count.prototype.render=function render(){return r.a.createElement("span",{__source:{fileName:"/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/Count/Count.js",lineNumber:176},__self:this},this.formateTime(this.state.restTime))},Count}(r.a.Component);t.default=n},"3b6ec9":function(e,t,i){e.exports=i("999443")("63f14")},"3bb3ae":function(e,t,i){"use strict";i.d(t,"default",function(){return f});var a,r,n,o=i("7ca7dc"),s=i("eb3e22"),c=i("97a851"),l=i.n(c);var u=o.default.Service,p=l.a.decode,f=(a=u(s.DataCenter.global),r=function(){function Task(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Task),function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}(this,"globalData",n,this),this.tid=0,this.tfid=0,this.gid=0,this.current=0,this.total=0,this.uid=0,this.tt=0,this.st=0,this.isInvalid=0,this.invalidTime=0,this.hasGift=!0,this.giftConfig=e}return Task.prototype.paseCData=function paseCData(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=void 0;if(t)i=p(t);else{if(!e)return;i=e}this.tid=i.tid,this.tfid=i.tfid,this.gid=i.gfid,this.giftIcon&&this.giftName||this.updateGiftInfo(),i.cgfc&&(this.current=+i.cgfc),i.rgfc&&(this.total=+i.rgfc),i.fu&&(this.fu=i.fu),i.uid&&(this.uid=+i.uid),i.tn&&(this.tn=i.tn),i.edst&&(this.st=+i.edst),i.tst&&(this.st=+i.tst),i.sn&&(this.sp=i.sn),0===+this.total&&i.gfc&&(this.total=+i.gfc),+this.total>0&&+this.current>=+this.total&&0!==+this.tt&&(this.st=4)},Task.prototype.pasePData=function pasePData(e){var t=e.inst_id;this.tt=e.task_type,this.sp=e.sponsor_name,this.tn=e.task_name,this.st=e.task_status,0===+this.tt?this.tfid=t:this.tid=t,e.gift_id&&(this.gid=+e.gift_id),e.giftName&&(this.giftName=e.giftName),e.gift_icon&&(this.giftIcon=e.gift_icon),this.giftIcon&&this.giftName||this.updateGiftInfo(),e.gift_num_get&&(this.current=+e.gift_num_get),e.gift_num&&(this.total=+e.gift_num),e.uid&&(this.uid=+e.uid),e.is_invalid&&(this.isInvalid=+e.is_invalid),e.countdown_time&&(this.invalidTime=+e.countdown_time)},Task.prototype.equals=function equals(e){var t=+e.task_type,i=+e.inst_id;return 0===+t?+i===+this.tfid:1===+t&&+i===+this.tid},Task.prototype.updateGiftInfo=function updateGiftInfo(){var e=this.giftConfig,t=void 0;if(e)for(var i=0;i<e.length;i++){var a=e[i];if(a&&+a.id===+this.gid){t=a;break}}t?(this.giftIcon=t.giftPic,this.giftName=t.name,this.hasGift=!0):(this.giftIcon=this.globalData.get("$SYS.web_url")+"app/douyu/res/page/room-normal/giftmodal/gift_default.png",this.giftName="",this.hasGift=!1)},Task}(),n=function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(r.prototype,"globalData",[a],{enumerable:!0,initializer:null}),r)},"3bb83c":function(e,t,i){"use strict";var a=i("eca10f");t.default=a.default},"3cbf2b":function(e,t,i){e.exports=i("5f575e")("ca7ca")},"3d354b":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u=i("1a22b7"),p=i.n(u),f=i("7ca7dc"),d=i("eb3e22"),h=i("4e6092"),m=(i("8c83e1"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKCommons/TaskState/TaskStateContent.js");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var b=f.default.Service,v=(a=b(d.DataCenter.common),r=b(d.DataCenter.global),n=b(h.default),o=function(e){function TaskStateContent(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskStateContent);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"common",s,i),_initDefineProp(i,"global",c,i),_initDefineProp(i,"randomPKServices",l,i),_possibleConstructorReturn(i,t)}return _inherits(TaskStateContent,e),TaskStateContent.prototype.render=function render(){var e=this,t=this.props,i=t.contentConfig,a=void 0===i?[]:i,r=t.dataMap;return a?p.a.createElement(p.a.Fragment,{__source:{fileName:m,lineNumber:25},__self:this},a.map(function(t,i){return p.a.createElement("span",{key:i,className:[1===t.highcolor?"PKCommonState-hc":"PKCommonState-sp",1===t.filltype?"PKCommonState-max":"",t.extclass||""].join(" "),title:1===t.filltype?r[t.value]:"",__source:{fileName:m,lineNumber:28},__self:e},1===t.filltype||2===t.filltype?r[t.value]||"":t.value)})):null},TaskStateContent}(p.a.Component),s=_applyDecoratedDescriptor(o.prototype,"common",[a],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(o.prototype,"global",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"randomPKServices",[n],{enumerable:!0,initializer:null}),o);t.default=v},"3d35eb":function(e,t,i){"use strict";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var a=function(e){function CommonAction(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CommonAction),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(CommonAction,e),CommonAction.geeVerifyCallBack=function geeVerifyCallBack(e,t){return{type:e,payload:t}},CommonAction}(i("97a1f0").Action);t.default=a},"3d4400":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/charge_default_3aaba77.png"},"3d5350":function(e,t,i){"use strict";var a,r,n,o,s,c=i("1a22b7"),l=i.n(c),u=i("7ca7dc"),p=i("eb3e22"),f=(i("6ea332"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKCommons/TaskInfoTips/TaskInfoTips.js");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var d=u.default.Service,h=(a=d(p.DataCenter.common),r=d(p.DataCenter.global),n=function(e){function TaskInfoTips(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskInfoTips);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(i,"common",o,i),_initDefineProp(i,"global",s,i),i.mouseEnter=i.mouseEnter.bind(i),i}return _inherits(TaskInfoTips,e),TaskInfoTips.prototype.renderH5=function renderH5(){var e=this.props.taskType,t=void 0===e?1:e,i="/topic/h5/PKTaskAwardInfo";return"master"!==this.global.get("$SYS.env")&&(i="/topic/template/h5/PKTaskAwardInfo"),l.a.createElement("iframe",{className:"TaskInfoFrame",scrolling:"no",src:i+"?from_client=2&task_type="+t,__source:{fileName:f,lineNumber:30},__self:this})},TaskInfoTips.prototype.mouseEnter=function mouseEnter(e){var t=this.props.hoverCallback;t&&"function"===typeof t&&t(e)},TaskInfoTips.prototype.render=function render(){var e=this.props.showTips;return l.a.createElement("div",{className:"PKCommonTaskInfoTips "+(e?"is-show":""),onMouseEnter:this.mouseEnter,__source:{fileName:f,lineNumber:46},__self:this},l.a.createElement("div",{className:"PKCommonTaskInfoTips-content",__source:{fileName:f,lineNumber:47},__self:this},this.renderH5()))},TaskInfoTips}(l.a.Component),o=_applyDecoratedDescriptor(n.prototype,"common",[a],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(n.prototype,"global",[r],{enumerable:!0,initializer:null}),n);t.default=h},"3e2ca0":function(e,t,i){"use strict";var a=i("1a22b7"),r=i.n(a);function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var n=function(e){function Count(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Count);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={type:0,endTimestamp:0,restTime:0},t.config={form:"mm:ss",notUpdate:!1,customDefaultValue:"",updateCd:0},t.timer=null,t.isTimerRunning=!1,t}return _inherits(Count,e),Count.prototype.formateTime=function formateTime(e){var t=this.config.form,i="--",a="--",r="--";if(e>=0)r=Math.floor(e/60/60)%24,i=Math.floor(e/60%60),a=Math.floor(e%60),r<10&&(r="0"+r),i<10&&(i="0"+i),a<10&&(a="0"+a);else if(this.config.customDefaultValue){var n=this.config.customDefaultValue;i=n,a=n,r=n}return t.replace("hh",r).replace("mm",i).replace("ss",a)},Count.prototype.componentWillMount=function componentWillMount(){var e=this.props||{};this.mergeDate(e)},Count.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e||{};this.mergeDate(t)},Count.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.timer)},Count.prototype.mergeDate=function mergeDate(e){var t=parseInt((new Date).getTime()/1e3,10),i=0,a=0;if(e.form&&(this.config.form=e.form),e.updateCd&&(this.config.updateCd=e.updateCd||0),e.customDefaultValue&&(this.config.customDefaultValue=e.customDefaultValue),e.notUpdate){if(this.config.notUpdate=e.notUpdate||!1,(1===+e.type?e.time-this.state.restTime||0:e.time-t-this.state.restTime||0)<=this.config.updateCd)return}1===+e.type?(i=e.time+t||0,a=e.time||0):(i=e.time||0,a=e.time-t||0),Object.assign(this.state,{endTimestamp:i,restTime:a}),this.checkTimer(i)},Count.prototype.checkTimer=function checkTimer(e){var t=e>parseInt((new Date).getTime()/1e3,10)?1:0;t&&!this.isTimerRunning?(clearTimeout(this.timer),this.isTimerRunning=!0,this.runCount()):t||(clearTimeout(this.timer),this.isTimerRunning=!1)},Count.prototype.runCount=function runCount(){var e=this,t=this.state.restTime;if((void 0===t?0:t)<=0){var i=this.props.callBack;return clearTimeout(this.timer),this.isTimerRunning=!1,i&&"function"===typeof i&&i(),!1}return this.timer=setTimeout(function(){var t=e.state.endTimestamp,i=+(void 0===t?0:t)-parseInt((new Date).getTime()/1e3,10);e.setState({restTime:i}),e.runCount()},1e3),!1},Count.prototype.render=function render(){return r.a.createElement("span",{__source:{fileName:"/shark/live/src/pages/roomPage/videoAboveModule/components/PKCommons/Count/Count.js",lineNumber:176},__self:this},this.formateTime(this.state.restTime))},Count}(r.a.Component);t.default=n},"3fad40":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h=i("1a22b7"),m=i.n(h),b=i("447d8e"),v=i("7ca7dc"),_=i("eb3e22"),y=i("caacd2"),g=i("6505c5"),k=i("2e0bfd");i("492187");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var S=v.default.Service,T=(a=S(_.DataCenter.common),r=S(_.DataCenter.global),n=S(_.DataCenter.localStorage),o=S(g.default),s=S(y.default),c=function(e){function GodOfWealth(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GodOfWealth);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(i,"common",l,i),_initDefineProp(i,"global",u,i),_initDefineProp(i,"localStorage",p,i),_initDefineProp(i,"pkGWTServices",f,i),_initDefineProp(i,"pkCommonServices",d,i),i.showPkFBId=-1,i}return _inherits(GodOfWealth,e),GodOfWealth.prototype.componentWillMount=function componentWillMount(){var e=this.pkCommonServices.getCacheFlag("Banner"),t=this.localStorage.get(e);t&&this.pkGWTServices.updateData({getedPkid:t})},GodOfWealth.prototype.render=function render(){var e=this.props,t=e.getedPkid,i=e.pkData,a=e.tipsData;return i&&i.taskInfo?m.a.createElement(k.default,{getedPkid:t,pkData:i,tipsData:a,updateData:this.pkGWTServices.updateData,dysubServices:this.pkGWTServices.dysub2,getGWTReqServices:this.pkGWTServices.getGWTReq,__source:{fileName:"/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/GodWealthTask/GodWealthTask.js",lineNumber:43},__self:this}):null},GodOfWealth}(m.a.Component),l=_applyDecoratedDescriptor(c.prototype,"common",[a],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"global",[r],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(c.prototype,"localStorage",[n],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(c.prototype,"pkGWTServices",[o],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(c.prototype,"pkCommonServices",[s],{enumerable:!0,initializer:null}),c);t.default=Object(b.connect)(function mapStateToProps(e){var t=e.randomPKData,i=void 0===t?{}:t,a=e.bannerPKGWTData,r=void 0===a?{}:a;return{getedPkid:r.getedPkid,pkData:r.pkData,tipsData:r.tipsData,taskConfig:i.taskConfig}})(T)},427283:function(e,t,i){"use strict";var a=i("8fe63d"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},n={showSwitch:!0,pkState:0,taskType:0,pkData:{},taskConfig:{}};var o={pkType:"randomPK",pkData:{},showGT:!1,showGTCount:0,showGTTips:!1};var s={pkType:"randomPK",pkData:{},showFB:!1,showFBCount:0,showFBTips:!1};var c={pkTAType:"randomPK",showTaskAwardFooter:!1,taskConfig:{},lotteryData:null,pkAwardData:{}};var l={pkType:"randomPK",showGWTFooter:!1,getedPkid:-1,tipsData:null,pkData:{}};var u={pkType:"randomPK",pkData:{},skinData:{}};t.default={randomPKData:function randomPKData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];switch(t.type){case a.RANDOMPK_UPDATE_DATA:return Object.assign({},e,r({},t.payload));default:return e}},randomPKGTData:function randomPKGTData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.RANDOMPK_GT_UPDATE_DATA:return Object.assign({},e,r({},t.payload));default:return e}},randomPKFBData:function randomPKFBData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.RANDOMPK_FB_UPDATE_DATA:return Object.assign({},e,r({},t.payload));default:return e}},randomPKTAData:function randomPKTAData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case a.RANDOMPK_TA_UPDATE_DATA:return Object.assign({},e,r({},t.payload));default:return e}},randomPKGWTData:function randomPKGWTData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.RANDOMPK_GWT_UPDATE_DATA:return Object.assign({},e,r({},t.payload));default:return e}},randomPKCPSData:function randomPKCPSData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.RANDOMPK_CPS_UPDATE_DATA:return Object.assign({},e,r({},t.payload));default:return e}}}},"42824a":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h=i("97a1f0"),m=i("7ca7dc"),b=i("eb3e22"),v=i("104af8"),_=i("5264d4"),y=i("e5eb77"),g=i("8dd4e6"),k=i("e854a7"),S=i("564e7b"),T=i("8fe63d"),P=i("caacd2"),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var w=m.default.Service,C=m.default.Store,O=k.default.socketStream,N=(a=C(),r=w(b.DataCenter.common),n=w(b.DataCenter.global),o=w(S.default),s=w(P.default),c=function(e){function RandomPKTAServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RandomPKTAServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",l,t),_initDefineProp(t,"common",u,t),_initDefineProp(t,"global",p,t),_initDefineProp(t,"publicToolsServices",f,t),_initDefineProp(t,"pkCommonServices",d,t),t.config={},t.checkStatus=!1,t.pkData=null,t.msgCommonAwardSub=null,t.statusGetTimes=0,t.msgCommonAward$=new v.Subject,t}return _inherits(RandomPKTAServices,e),RandomPKTAServices.prototype.getStore=function getStore(e){return this.store.getState()[e]},RandomPKTAServices.prototype.init=function init(e){var t=this,i=this.config;this.config=Object.assign({},D({},i,e)),this.msgCommonAwardSub||(this.msgCommonAward$=new v.Subject,this.msgCommonAwardSub=O.subscribe("comm_award",function(e){t.msgCommonAward$.next(e)}),Object(_.combineLatest)(this.msgCommonAward$).subscribe(function(e){var i=e[0];if(i&&i.pkid&&t.dataCheck(i)){t.statusGetTimes=+i.ts,t.pkData=Object.assign({},i,{tsLocal:Date.now()});var a=t.checkAward(t.pkData);t.updateData({showTaskAwardFooter:a,pkAwardData:D({},t.pkData)}),a&&t.checkAutoClearFooter(t.pkData)}}))},RandomPKTAServices.prototype.checkClearFooter=function checkClearFooter(){(this.getStore("randomPKTAData")||{}).showTaskAwardFooter&&!this.checkStatus&&this.updateData({showTaskAwardFooter:!1})},RandomPKTAServices.prototype.checkAutoClearFooter=function checkAutoClearFooter(e,t){var i=this;this.checkStatus=!0,this.clearSub&&this.clearSub.unsubscribe&&this.clearSub.unsubscribe();var a=3===+this.getOwnerBuffInfo(e).stype,r=a?1e4:5e3;return this.clearSub=Object(g.timer)(r,r).pipe(Object(y.take)(1)).subscribe(function(){return i.checkStatus=!1,a?(i.clearTAData(),!1):((t||i.checkTaskDoing()>0)&&i.updateData({showTaskAwardFooter:!1}),!1)}),this.clearSub},RandomPKTAServices.prototype.clearTAData=function clearTAData(){this.pkData=null,this.updateData({showTaskAwardFooter:!1,pkAwardData:{}})},RandomPKTAServices.prototype.updateData=function updateData(e){this.store.dispatch(T.default.updateTAData(e))},RandomPKTAServices.prototype.updateMainPKData=function updateMainPKData(e){this.store.dispatch(T.default.updateData({taskType:e}))},RandomPKTAServices.prototype.dataCheck=function dataCheck(e){return this.enterMsgCheck(e)&&2===+e.pktype&&this.pkCommonServices.pkidCheck(e,"Random")&&this.pkCommonServices.pkRoomCheck(e)},RandomPKTAServices.prototype.enterMsgCheck=function enterMsgCheck(e){var t=e.pkid;return this.pkid=+t,+e.ts>=+this.statusGetTimes},RandomPKTAServices.prototype.clearData=function clearData(e){var t=e.pkId,i=void 0===t?0:t,a=e.arid,r=void 0===a?0:a,n=e.brid,o=void 0===n?0:n,s=e.force,c=void 0===s?0:s,l=this.pkData||{},u=l.pkid,p=l.rida,f=l.ridb;(u>-1&&!(i?+u===+i:+p===+r&&+f===+o)||c)&&(this.clearTAData(),this.pkid=-1)},RandomPKTAServices.prototype.checkAward=function checkAward(e){var t=this.getOwnerBuffInfo(e),i=t.atype,a=t.stype;return+i>0&&+a>0},RandomPKTAServices.prototype.checkTaskDoing=function checkTaskDoing(){var e=(this.getStore("randomPKFBData")||{}).pkData;if(e&&2===+e.status)return 1;var t=(this.getStore("randomPKGTData")||{}).pkData,i=(void 0===t?{}:t).ownerData;return i&&+i.status>=1&&+i.status<=3?2:0},RandomPKTAServices.prototype.checkBuffing=function checkBuffing(e){var t=e||{},i=t.rida,a=t.ridb,r=this.pkCommonServices.getPKKey({rida:{rid:i},ridb:{rid:a}}),n=t[r.extOwner]||{},o=t[r.extOther]||{},s=n.atype,c=n.stype,l=o.atype,u=o.stype;return{ownerBuffing:(1===+s||2===+s)&&2===+c,otherBuffing:(1===+l||2===+l)&&2===+u}},RandomPKTAServices.prototype.getOwnerBuffInfo=function getOwnerBuffInfo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.rida,i=e.ridb;return e[this.pkCommonServices.getPKKey({rida:{rid:t},ridb:{rid:i}}).extOwner]||{}},RandomPKTAServices.prototype.dysub2=function dysub2(e){this.publicToolsServices.dysub2(e)},RandomPKTAServices}(h.Service),l=_applyDecoratedDescriptor(c.prototype,"store",[a],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"common",[r],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(c.prototype,"global",[n],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(c.prototype,"publicToolsServices",[o],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(c.prototype,"pkCommonServices",[s],{enumerable:!0,initializer:null}),c);t.default=N},"43359e":function(e,t,i){},"444b2c":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u=i("1a22b7"),p=i.n(u),f=i("7ca7dc"),d=i("eb3e22"),h=i("caacd2"),m=i("c4a79f"),b=i("e296f5"),v=(i("832781"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKCommons/TaskAward/TaskAward.js");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var _=f.default.Service,y=(a=_(d.DataCenter.common),r=_(d.DataCenter.global),n=_(h.default),o=function(e){function TaskAward(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskAward);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"common",s,i),_initDefineProp(i,"global",c,i),_initDefineProp(i,"pkCommonServices",l,i),_possibleConstructorReturn(i,t)}return _inherits(TaskAward,e),TaskAward.prototype.getLocEndTime=function getLocEndTime(e){var t=this.props.pkAwardData,i=void 0===t?{}:t,a=i.ts,r=i.tsLocal,n=void 0===r?0:r,o=e.buffEndTime,s=1e3*(void 0===o?0:o);return(+s>+a?+s-+a:0)+n},TaskAward.prototype.renderTips=function renderTips(){var e=this.props.TaskDoingIndex;return e>0?p.a.createElement(m.default,{taskType:e,hoverCallback:function hoverCallback(){},__source:{fileName:v,lineNumber:33},__self:this}):null},TaskAward.prototype.renderAwardOver=function renderAwardOver(e){var t=e.buffRate,i=e.buffAddSc;return p.a.createElement(b.default,{clickCallback:function clickCallback(){},dataMap:{buffAddSc:this.pkCommonServices.formatDecimals(i/100,0),buffnum:+t>=0?t+"%":""},contentConfig:[{value:"buffnum",filltype:1,highcolor:0},{value:"\u52a0\u6210\u7ed3\u675f\uff0c\u671f\u95f4PK\u503c\u989d\u5916\u589e\u52a0",filltype:0,highcolor:0},{value:"buffAddSc",filltype:1,highcolor:1}],tips:this.renderTips(),__source:{fileName:v,lineNumber:46},__self:this})},TaskAward.prototype.renderPKProp=function renderPKProp(e){var t=e.stype,i=e.atype,a=e.buffRate,r=e.buffStartTime,n=e.buffEndTime,o=e.uname,s=e.prop_id;switch(+t){case 2:var c=1===+i?"prop":"award",l=1===+i?s:+i,u=this.pkCommonServices.getAwardInfoPlus(l,c);return p.a.createElement(b.default,{clickCallback:function clickCallback(){},dataMap:{uname:o,awardname:u.name,time:+n-r,buffnum:+a>=0?a+"%":""},contentConfig:[{value:"uname",filltype:1,highcolor:1},{value:"\u8d60\u9001",filltype:0,highcolor:0},{value:"awardname",filltype:1,highcolor:0},{value:"\uff0c\u76f4\u64ad\u95f4\u5f00\u542f",filltype:0,highcolor:0},{value:"time",filltype:1,highcolor:1},{value:"\u79d2\u7684",filltype:0,highcolor:1},{value:"buffnum",filltype:1,highcolor:1},{value:"PK\u503c\u52a0\u6210",filltype:0,highcolor:0}],tips:this.renderTips(),__source:{fileName:v,lineNumber:75},__self:this});case 3:return this.renderAwardOver(e)}return null},TaskAward.prototype.renderPKBuff=function renderPKBuff(e){var t=e.stype,i=e.buffRate;switch(+t){case 1:case 2:return p.a.createElement(b.default,{clickCallback:function clickCallback(){},dataMap:{buffnum:+i>=0?i+"%":""},contentConfig:[{value:"buffnum",filltype:1,highcolor:1},{value:"PK\u503c\u52a0\u6210\u4e2d",filltype:0,highcolor:0}],tips:this.renderTips(),__source:{fileName:v,lineNumber:113},__self:this});case 3:return this.renderAwardOver(e)}return null},TaskAward.prototype.renderPKGodWealth=function renderPKGodWealth(e){var t=e.stype;e.buffRate;switch(+t){case 1:return p.a.createElement(b.default,{clickCallback:function clickCallback(){},dataMap:{},contentConfig:[{value:"\u4efb\u52a1\u5df2\u5b8c\u6210\uff0c\u76f4\u64ad\u95f4\u5f00\u542f",filltype:0,highcolor:0},{value:"\u8d22\u795e\u4efb\u52a1",filltype:0,highcolor:1}],tips:null,__source:{fileName:v,lineNumber:141},__self:this})}return null},TaskAward.prototype.dispatchContent=function dispatchContent(){var e=this.props.pkAwardData,t=void 0===e?{}:e,i=t.rida,a=t.ridb,r=t[this.pkCommonServices.getPKKey({rida:{rid:i},ridb:{rid:a}}).extOwner]||{};switch(+r.atype){case 1:return this.renderPKProp(r);case 2:return this.renderPKBuff(r);case 4:return this.renderPKGodWealth(r)}return null},TaskAward.prototype.render=function render(){return this.props.pkAwardData?this.dispatchContent():null},TaskAward}(p.a.Component),s=_applyDecoratedDescriptor(o.prototype,"common",[a],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(o.prototype,"global",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"pkCommonServices",[n],{enumerable:!0,initializer:null}),o);t.default=y},"447d8e":function(e,t,i){e.exports=i("999443")("0a81c")},449403:function(e,t,i){e.exports=i("5f575e")("8e760")},"456fdc":function(e,t,i){e.exports=i("5f575e")("4d400")},"4593ae":function(e,t,i){},"4760db":function(e,t,i){"use strict";var a=i("1a22b7"),r=i.n(a),n=i("18c060"),o=(i("332be4"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKCommons/TimeProgress/TimeProgress.js");function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var s=function(e){function MyCountDown(){return _classCallCheck(this,MyCountDown),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(MyCountDown,e),MyCountDown.prototype.render=function render(){var e=this.state.restTime,t=void 0===e?0:e,i=t<=0?0:parseInt(t,10),a=this.props,n=a.extData,s=void 0===n?0:n,c=a.title,l=s.type,u=s.total,p=u?Math.min(parseInt(100*t/u,10),100):0;return r.a.createElement(r.a.Fragment,{__source:{fileName:o,lineNumber:14},__self:this},r.a.createElement("div",{className:"PKCommonTimeProgress-progress is-pg"+l,style:{width:p+"%"},__source:{fileName:o,lineNumber:15},__self:this}),r.a.createElement("div",{className:"PKCommonTimeProgress-txt",__source:{fileName:o,lineNumber:16},__self:this},c,"(",i,")"))},MyCountDown}(n.default),c=function(e){function TimeProgress(){return _classCallCheck(this,TimeProgress),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(TimeProgress,e),TimeProgress.prototype.render=function render(){var e=this.props,t=e.type,i=void 0===t?1:t,a=e.title,n=e.total,c=e.endtime,l=e.extClass,u=void 0===l?"":l,p={type:i,total:n};return r.a.createElement("div",{className:"PKCommonTimeProgress "+(u||""),__source:{fileName:o,lineNumber:31},__self:this},r.a.createElement(s,{key:c,title:a,type:"2",time:parseInt(c/1e3,10),form:"ss",customDefaultValue:"00",extData:p,__source:{fileName:o,lineNumber:32},__self:this}))},TimeProgress}(r.a.Component);t.default=c},485264:function(e,t,i){"use strict";var a=i("1a22b7"),r=i.n(a),n=(i("2d2009"),"/shark/live/src/common/components/MMRankBase/components/CircleCount/index.js");t.default=function MMCircleCount(e){var t=e.left,i=void 0===t?0:t,a=e.total,o=void 0===a?60:a,s=e.extClass,c=void 0===s?"":s,l=e.isFinishHide,u=void 0!==l&&l;if(o<=0)return null;if(u&&i<=0)return null;var p=Math.max(o-i,0),f=parseInt(p/o*360,10),d=Math.min(f,180),h={transform:"rotate("+(f>180?Math.min(f-180,180):0)+"deg)"},m={transform:"rotate("+d+"deg)"};return r.a.createElement("div",{className:"MMCircleCount "+c,__source:{fileName:n,lineNumber:42},__self:void 0},r.a.createElement("div",{className:"MMCircleCount-half is-left",__source:{fileName:n,lineNumber:43},__self:void 0},r.a.createElement("div",{className:"MMCircleCount-item is-left",style:h,__source:{fileName:n,lineNumber:44},__self:void 0})),r.a.createElement("div",{className:"MMCircleCount-half is-right",__source:{fileName:n,lineNumber:46},__self:void 0},r.a.createElement("div",{className:"MMCircleCount-item is-right",style:m,__source:{fileName:n,lineNumber:47},__self:void 0})))}},492187:function(e,t,i){},"4b3407":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/effect_2_d0c181d.png"},"4cf735":function(e,t,i){"use strict";var a=i("c92f4a");var r=new(function(){function Tpl(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tpl)}return Tpl.prototype.normalTreasure=function normalTreasure(e){return'<div class="BattleShipBroadcast">\n            <div class="BattleShipBroadcast-header"></div>\n            <div class="BattleShipBroadcast-content">\n                <span>\u606d\u559c</span>\n                <span class="BattleShipBroadcast-uc0047a8">'+e.userName+"</span>\n                <span>\u5728"+a.KeyTxt.T_4+"\u4e2d\u83b7\u5f97"+e.lev+'\u7ea7\u88c5\u5907\uff1a </span>\n                <span class="BattleShipBroadcast-uce6fb48">'+e.propsStr+'</span>\n            </div>\n            <div class="BattleShipBroadcast-tail"></div>\n        </div>'},Tpl.prototype.superTreasure=function superTreasure(e){return(e.isSelfRoom?"<div":'<a target="_blank" href="/'+e.drawRid+'"')+' class="BattleShipBroadcast is-super">\n            <div class="BattleShipBroadcast-header"></div>\n            <div class="BattleShipBroadcast-content">\n                <span>\u606d\u559c</span>\n                <span class="BattleShipBroadcast-uc0047a8">'+e.userName+'</span>\n                <span>\u5728</span>\n                <span class="BattleShipBroadcast-uc0047a8">'+e.anchorName+"</span>\n                <span>\u7684\u76f4\u64ad\u95f4\u83b7\u5f97\u8d85\u7ea7\u88c5\u5907"+(e.hasAct?"":"\uff1a")+' </span>\n                <span class="BattleShipBroadcast-ucd50000">'+e.propsStr+"</span>\n                "+(e.hasAct?"<span>"+e.awardStrPre+'</span><span class="BattleShipBroadcast-ucd50000">'+e.awardStr+"</span>":"")+'\n            </div>\n            <div class="BattleShipBroadcast-tail"></div>\n        </'+(e.isSelfRoom?"div":"a")+">"},Tpl}());t.default=r},"4df597":function(e,t,i){e.exports=i("2d6146")("8ea98")},"4e6092":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h,m,b,v,_,y,g,k,S,T,P,D,w,C,O,N,E,R,A=i("1a22b7"),j=i.n(A),K=i("97a1f0"),I=i("7ca7dc"),B=i("eb3e22"),z=i("e854a7"),G=i("555639"),M=i("b067ea"),F=i("cba0a4"),x=i("564e7b"),L=i("730e3d"),W=i("8fe63d"),V=i("b2a5ef"),U=i("80a57c"),H=i("42824a"),q=i("0349b3"),$=i("049095"),J=i("caacd2"),Y=i("e576ff"),Q=i("8b0bc6"),X=i.n(Q),Z=i("2433d1"),ee=i("61ad81"),te=i.n(ee),ie=i("ada0c0"),ae=i.n(ie),re=i("2e6ffc"),ne=i.n(re),oe=i("b7bd12"),se=i.n(oe),ce=i("cbe346"),le=i.n(ce),ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var pe=I.default.Service,fe=I.default.Store,de=z.default.socketStream,he=function getLocalStorage(e){return B.DataCenter.localStorage.get(e)},me=(a=Object(K.Injectable)("live.videoAboveModule.RandomPKServices"),r=fe(),n=pe(B.DataCenter.common),o=pe(B.DataCenter.global),s=pe(G.default),c=pe(M.default),l=pe(x.default),u=pe(V.default),p=pe(U.default),f=pe(H.default),d=pe(q.default),h=pe($.default),m=pe(J.default),b=pe(L.default),a((_=function(e){function RandomPKServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RandomPKServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",y,t),_initDefineProp(t,"common",g,t),_initDefineProp(t,"global",k,t),_initDefineProp(t,"broadcastManagerServices",S,t),_initDefineProp(t,"configEffectBroadcastServices",T,t),_initDefineProp(t,"publicToolsServices",P,t),_initDefineProp(t,"randomPKGTServices",D,t),_initDefineProp(t,"randomPKFBServices",w,t),_initDefineProp(t,"randomPKTAServices",C,t),_initDefineProp(t,"randomPKGWTServices",O,t),_initDefineProp(t,"randomPKCPSServices",N,t),_initDefineProp(t,"pkCommonServices",E,t),_initDefineProp(t,"mmSvgaServices",R,t),t.broadcastList=[],t.PKRecord=[],t.effectConfigResult={isSvgaInit:!1},t.svgaInstanceResult=null,t.isBroadcastRuning=!1,t.closePKId=-1,t.isSubscribe=!1,t.pkData=null,t.taskConfig={},t.statusGetTimes=0,t.doingGetTimes=0,t.overTimer=null,t.playPKId=-1,t.initCallbackResult=t.initCallbackResult.bind(t),t.updateComponentResult=t.updateComponentResult.bind(t),t.configEffectBroadcastServices.register("nlkactbrc"),t}return _inherits(RandomPKServices,e),RandomPKServices.prototype.init=function init(e){var t=this,i=this.config;this.config=Object.assign({},ue({},i,e)),this.isSubscribe||(this.isSubscribe=!0,this.startSub=de.subscribe("nlkstatus",function(e){if(e&&e.pkId&&t.dataCheck(e)){t.statusGetTimes=+e.ts;var i=e.status,a=void 0===i?0:i;switch(t.taskDataCheck(e),+a){case 1:t.pkData=Object.assign({},e,{tsLocal:Date.now()}),t.cachePKRecord(t.pkData),t.updateData({showSwitch:!0,pkState:1,pkData:t.pkData}),t.pkStartEffect(t.pkData),clearTimeout(t.overTimer);break;case 2:t.pkData=Object.assign({},e,{tsLocal:Date.now()}),t.updateData({pkState:2,pkData:t.pkData}),clearTimeout(t.overTimer);break;case 3:t.pkData=Object.assign({},e,{tsLocal:Date.now()}),t.closePKId=+e.pkId,t.listenOverTimeOut(),t.updateData({pkState:3,pkData:t.pkData});var r=t.pkCommonServices.getPKKey(t.pkData),n=t.pkData[r.owner]||{},o=t.pkData.is_exc,s=void 0===o?0:o;1===+n.result&&+s||t.mapBroadcastList(n),t.effectMsgDealResult(t.pkData);break;case 4:t.closePK()}}}),this.doingSub=de.subscribe("nlkdoing",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&e.pkId&&t.dataCheck(e)){t.doingGetTimes=+e.ts;var i=e.pkId,a=e.ts,r=e.time,n=e.ridainfo,o=void 0===n?{}:n,s=e.ridbinfo,c=void 0===s?{}:s,l={pkId:i,ts:a,time:r,rida:Object.assign({},t.pkData.rida,o),ridb:Object.assign({},t.pkData.ridb,c)};t.pkData=Object.assign({},t.pkData,l,{tsLocal:Date.now()}),t.updateData({pkData:t.pkData})}})),this.pkCommonServices.configFlow().subscribe(function(e){t.taskConfig=e||{},t.updateData({taskConfig:t.taskConfig})})},RandomPKServices.prototype.taskDataCheck=function taskDataCheck(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.randomPKGTServices.clearData({pkId:+e.pkId}),this.randomPKFBServices.clearData({pkId:+e.pkId}),this.randomPKTAServices.clearData({pkId:+e.pkId}),this.randomPKGWTServices.clearData({pkId:+e.pkId})},RandomPKServices.prototype.dataCheck=function dataCheck(e){var t=this.pkData,i=this.pkDataCheck(e),a=+e.pkId===+this.closePKId;if(!i||a)return!1;switch(e.type){case"nlkstatus":var r=e.status,n=void 0===r?0:r,o=+e.ts>=+this.statusGetTimes;return 1===+n?o:t&&t.pkId?o&&+e.pkId===+t.pkId:o;case"nlkdoing":return t&&+e.ts>=+this.doingGetTimes&&+e.pkId===+t.pkId;default:return!1}},RandomPKServices.prototype.pkDataCheck=function pkDataCheck(e){var t=this.global.get("$ROOM.room_id"),i=e.rida,a=e.ridb;return"nlkdoing"===e.type&&(i=e.ridainfo,a=e.ridbinfo),+t>0&&(+t===+i.rid||+t===+a.rid)},RandomPKServices.prototype.cachePKRecord=function cachePKRecord(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.PKRecord=he("RandomPKRecordTop3"),!(this.PKRecord&&this.PKRecord.length>=4)&&(this.PKRecord=this.PKRecord||[],!this.PKRecord.some(function(t){return+t===+e.pkId})&&+e.pkId>0&&(this.PKRecord.push(+e.pkId),function setLocalStorage(e,t,i){B.DataCenter.localStorage.set(e,t,i)}("RandomPKRecordTop3",this.PKRecord)),!1)},RandomPKServices.prototype.getPKRecord=function getPKRecord(){return he("RandomPKRecordTop3")},RandomPKServices.prototype.updateData=function updateData(e){this.store.dispatch(W.default.updateData(e))},RandomPKServices.prototype.listenOverTimeOut=function listenOverTimeOut(){var e=this;clearTimeout(this.overTimer),this.overTimer=setTimeout(function(){e.closePK("CLOSE")},3e4)},RandomPKServices.prototype.closePK=function closePK(e){if(clearTimeout(this.overTimer),"CLOSE"===e){var t=this.pkData||{};this.closePKId=+t.pkId,this.updateData({showSwitch:!1}),this.dysub2({action_code:"160100227004",event_id:1,type:1})}this.pkData=null,this.updateData({pkState:0,pkData:this.pkData}),this.randomPKCPSServices.clearCPSData()},RandomPKServices.prototype.mapBroadcastList=function mapBroadcastList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.broadcastList.push({topuid:e.topuid,topnn:e.topnn||"",topavt:e.topavt||"",topsc:+e.top1sc>=0?this.formatDecimals(+e.top1sc/100,0):"",winnum:+e.winnum||0,result:+e.result||0}),this.isBroadcastRuning||(this.isBroadcastRuning=!0,this.showBroadcastList())},RandomPKServices.prototype.showBroadcastList=function showBroadcastList(){var e=this,t=this.broadcastList[0];t?(this.showBroadcast(ue({},t,{roomId:this.global.get("$ROOM.room_id")})),this.broadcastList.shift(),this.broadcastTimer=setTimeout(function(){e.showBroadcastList()},5e3)):(this.isBroadcastRuning=!1,clearTimeout(this.broadcastTimer))},RandomPKServices.prototype.showBroadcast=function showBroadcast(e){var t=this.broadcastManagerServices.getBroadcast(Y.default.broadcast(e),{type:"rightToLeft",animation:[{duration:1e4,fillMode:"forwards"}],onClick:function onClick(){}});this.broadcastManagerServices.addBroadcast(t)},RandomPKServices.prototype.pkStartEffect=function pkStartEffect(e){if(e&&+e.pkId!==+this.playPKId){var t=this.pkCommonServices.getPKKey(e),i=this.pkData[t.owner]||{},a=this.pkData[t.other]||{};this.playPKId=+e.pkId,this.mmSvgaServices.addSvga({domID:"MMSvgaBaseVideoPlayer",URL:X.a,loops:1,data:{content:j.a.createElement(Z.default,{ownerData:i,otherData:a,__source:{fileName:"/shark/live/src/pages/roomPage/videoAboveModule/services/randomPKServices.js",lineNumber:413},__self:this}),width:600,height:300}})}},RandomPKServices.prototype.dysub2=function dysub2(e){this.publicToolsServices.dysub2(e)},RandomPKServices.prototype.formatDecimals=function formatDecimals(e,t){return e>=0?e>=1e5?this.publicToolsServices.formatDecimals(e/1e4,2)+"\u4e07":this.publicToolsServices.formatDecimals(e,t):"--"},RandomPKServices.prototype.effectInitResult=function effectInitResult(e,t){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t||(this.effectConfigResult=Object.assign({},ue({},this.effectConfigResult,e),{isSvgaInit:!1})),this.svgaInstanceResult=new F.default,this.svgaInstanceResult.init({parentDom:document.querySelector("#RandomPKResultSvgaPlayer"),isListenPage:!0,initCallback:function initCallback(){return i.initCallbackResult("SVGAINIT",a)},callback:this.updateComponentResult})},RandomPKServices.prototype.initCallbackResult=function initCallbackResult(e,t){var i=this.effectConfigResult||{};"SVGAINIT"===e&&(i.isSvgaInit=!0,t&&this.effectMsgDealResult(t))},RandomPKServices.prototype.getResultSvga=function getResultSvga(e){var t=e.winnum,i=e.result;return 1===+i?te.a:2===+i?+t?ae.a:le.a:+t?ne.a:se.a},RandomPKServices.prototype.effectMsgDealResult=function effectMsgDealResult(e){var t=this.effectConfigResult||{};if(t.isSvgaInit||this.effectInitResult(null,!0,e),e&&t.isSvgaInit){var i=this.pkCommonServices.getPKKey(e),a=this.pkData[i.owner]||{},r=this.pkData[i.other]||{},n={URL:this.getResultSvga(a),type:2,time:1e4,data:{ownerData:a,otherData:r}};this.addSvgaResult(n)}},RandomPKServices.prototype.addSvgaResult=function addSvgaResult(e){this.svgaInstanceResult.pushQueue(e)},RandomPKServices.prototype.updateComponentResult=function updateComponentResult(e){var t=this.effectConfigResult||{};this.pkData&&t.updateSvgaComponent&&"function"===typeof t.updateSvgaComponent&&t.updateSvgaComponent(e)},RandomPKServices}(K.Service),y=_applyDecoratedDescriptor(_.prototype,"store",[r],{enumerable:!0,initializer:null}),g=_applyDecoratedDescriptor(_.prototype,"common",[n],{enumerable:!0,initializer:null}),k=_applyDecoratedDescriptor(_.prototype,"global",[o],{enumerable:!0,initializer:null}),S=_applyDecoratedDescriptor(_.prototype,"broadcastManagerServices",[s],{enumerable:!0,initializer:null}),T=_applyDecoratedDescriptor(_.prototype,"configEffectBroadcastServices",[c],{enumerable:!0,initializer:null}),P=_applyDecoratedDescriptor(_.prototype,"publicToolsServices",[l],{enumerable:!0,initializer:null}),D=_applyDecoratedDescriptor(_.prototype,"randomPKGTServices",[u],{enumerable:!0,initializer:null}),w=_applyDecoratedDescriptor(_.prototype,"randomPKFBServices",[p],{enumerable:!0,initializer:null}),C=_applyDecoratedDescriptor(_.prototype,"randomPKTAServices",[f],{enumerable:!0,initializer:null}),O=_applyDecoratedDescriptor(_.prototype,"randomPKGWTServices",[d],{enumerable:!0,initializer:null}),N=_applyDecoratedDescriptor(_.prototype,"randomPKCPSServices",[h],{enumerable:!0,initializer:null}),E=_applyDecoratedDescriptor(_.prototype,"pkCommonServices",[m],{enumerable:!0,initializer:null}),R=_applyDecoratedDescriptor(_.prototype,"mmSvgaServices",[b],{enumerable:!0,initializer:null}),v=_))||v);t.default=me},"4f0921":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default_avatar_5040287.jpg"},503124:function(e,t,i){e.exports=i("5f575e")("817b8")},"5264d4":function(e,t,i){e.exports=i("5f575e")("7f810")},528016:function(e,t,i){e.exports=i("5f575e")("39485")},"54992a":function(e,t,i){e.exports=i("d1db8c")("b3557")},555639:function(e,t,i){e.exports=i("5f575e")("5ceb8")},"55e860":function(e,t,i){e.exports=i("5f575e")("4fa3d")},"564e7b":function(e,t,i){e.exports=i("5f575e")("17a5b")},"56b086":function(e,t,i){},"56b0a1":function(e,t,i){e.exports=i("5f575e")("4f738")},"5758d4":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/effect_6_16ab592.png"},"57bed2":function(e,t,i){"use strict";var a=i("94d865"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},n={taskType:0,isMaiMaiPkState:0,isHomeCourt:0,arid:0,brid:0,ac:0,bc:0,pt:0,lt:0,endTime:0,rt:0,ai:null,bi:null,tsio:0,tsid:0,gotTsid:0,totalC:0,gtst:0,pki:"",taskStatus:"normal",showTaskMovieSign:0,taskGac:0,taskGbc:0},o={pkType:"pkBanner",pkData:{},showFB:!1,showFBCount:0,showFBTips:!1};var s={pkType:"pkBanner",pkData:{},showGT:!1,showGTCount:0,showGTTips:!1};var c={pkTAType:"bannerPK",showTaskAwardFooter:!1,taskConfig:{},lotteryData:null,pkAwardData:{}};var l={pkType:"bannerPK",showGWTFooter:!1,getedPkid:-1,tipsData:null,pkData:{}};t.default={pkBannerData:function pkBannerData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];switch(t.type){case a.PK_BANNER_UPDATE_INFO:return Object.assign({},e,r({},t.payload));default:return e}},bannerPKFBData:function bannerPKFBData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.PK_BANNER_FB_UPDATE_INFO:return Object.assign({},e,r({},t.payload));default:return e}},bannerPKGTData:function bannerPKGTData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.PK_BANNER_GT_UPDATE_INFO:return Object.assign({},e,r({},t.payload));default:return e}},bannerPKTAData:function bannerPKTAData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case a.PK_BANNER_TA_UPDATE_INFO:return Object.assign({},e,r({},t.payload));default:return e}},bannerPKGWTData:function bannerPKGWTData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.PK_BANNER_GWT_UPDATE_INFO:return Object.assign({},e,r({},t.payload));default:return e}}}},581434:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/effect_3_9a6dd2d.png"},"587cf4":function(e,t,i){"use strict";var a=i("7ca7dc"),r=i("0a6759"),n=i("e040fe"),o=i("a8a416"),s=a.default.combineEpicsClass;t.default=s(r.default,n.default,o.default)},"59c377":function(e,t,i){"use strict";var a,r,n,o=i("97a1f0"),s=i("7ca7dc"),c=i("9256e7");function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var l=(a=(0,s.default.Store)(),r=function(e){function VideoAboveServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VideoAboveServices);for(var a=arguments.length,r=Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}(i,"store",n,i),_possibleConstructorReturn(i,t)}return _inherits(VideoAboveServices,e),VideoAboveServices.prototype.findCountByEpic=function findCountByEpic(){this.store.dispatch(c.default.findCount())},VideoAboveServices.prototype.addCount=function addCount(){this.store.dispatch(c.default.addCount())},VideoAboveServices}(o.Service),n=function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(r.prototype,"store",[a],{enumerable:!0,initializer:null}),r);t.default=l},"5c2eee":function(e,t,i){"use strict";var a,r,n,o,s,c=i("97a1f0"),l=i("7ca7dc"),u=i("eb3e22"),p=i("e854a7"),f=i("cba0a4"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var h=l.default.Service,m=(p.default.socketStream,a=h(u.DataCenter.common),r=h(u.DataCenter.global),n=function(e){function ConfigEffectBroadcastServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ConfigEffectBroadcastServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"common",o,t),_initDefineProp(t,"global",s,t),t.isSvgaInit=!1,t.svgaInstance=null,t.effectConfig={},t.updateComponent=t.updateComponent.bind(t),t}return _inherits(ConfigEffectBroadcastServices,e),ConfigEffectBroadcastServices.prototype.init=function init(e){var t=this;this.effectConfig=Object.assign({},d({},this.effectConfig,e)),this.isSvgaInit||(this.svgaInstance=new f.default,this.svgaInstance.init({parentDom:document.querySelector("#ConfigEffectSimpleSvgaPlayer"),initCallback:function initCallback(){return t.initCallback("SVGAINIT")},callback:this.updateComponent}))},ConfigEffectBroadcastServices.prototype.initCallback=function initCallback(e){"SVGAINIT"===e&&(this.isSvgaInit=!0)},ConfigEffectBroadcastServices.prototype.addSvga=function addSvga(e){if(e&&this.isSvgaInit){var t=e.duration,i=void 0===t?0:t,a=e.url,r=void 0===a?"":a,n=e.options,o={URL:r,data:d({},void 0===n?{}:n)};i?o.time=i:o.type=1,o.URL&&this.svgaInstance.pushQueue(o)}},ConfigEffectBroadcastServices.prototype.updateComponent=function updateComponent(e){var t=this.effectConfig||{};t.updateSvgaComponent&&"function"===typeof t.updateSvgaComponent&&t.updateSvgaComponent(e)},ConfigEffectBroadcastServices}(c.Service),o=_applyDecoratedDescriptor(n.prototype,"common",[a],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(n.prototype,"global",[r],{enumerable:!0,initializer:null}),n);t.default=m},"5f575e":function(e,t){e.exports=_room_common_},612669:function(e,t,i){e.exports=i("5f575e")("94a28")},"61ad81":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/other/winTowin_ba02fe4.svga"},"61d264":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/3_05e17be.png"},"62593f":function(e,t,i){"use strict";var a,r,n,o=i("97a1f0"),s=i("7ca7dc"),c=i("eb3e22"),l=i("456fdc"),u=i.n(l),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var f=(a=(0,s.default.Service)(u.a),r=function(e){function CommonPlayerAdServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CommonPlayerAdServices);for(var a=arguments.length,r=Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}(i,"signServices",n,i),i.AD_BLOCK_GET_INFO=i.getAdOrigin()+"/japi/sign/web/getinfo",i.AD_GET_INFO="/lapi/sign/web/getinfo",i.AD_CLICK="/lapi/sign/web/click",i.AD_RTPV="/lapi/sign/web/rtpv",_possibleConstructorReturn(i,t)}return _inherits(CommonPlayerAdServices,e),CommonPlayerAdServices.prototype.getAdOrigin=function getAdOrigin(){var e=void 0;switch(document.domain){case"www.douyu.com":e="https://rtbapi.douyucdn.cn";break;case"www.dz11.com":e="https://adx-gateway-pre.dz11.com";break;case"live.dz11.com":e="https://adx-gateway-live.dz11.com";break;case"www.dev.dz11.com":e="https://adx-gateway-dev.dz11.com";break;default:e=""}return e},CommonPlayerAdServices.prototype.loadAdInfo=function loadAdInfo(e){e.isNewApi;return c.httpClient.post(String,this.AD_BLOCK_GET_INFO,p({},e),{headers:{"content-type":"application/x-www-form-urlencoded"}})},CommonPlayerAdServices.prototype.navigateToAdURL=function navigateToAdURL(e,t,i){this.signServices.actionSignDot(2,e.posid,e)},CommonPlayerAdServices.prototype.sendDataWhenAdExposure=function sendDataWhenAdExposure(e,t,i){this.signServices.actionSignDot(1,e.posid,e)},CommonPlayerAdServices.prototype.isNextDay=function isNextDay(e,t,i){var a=new Date(t);return e<new Date(a.getFullYear(),a.getMonth(),a.getHours()>=i?a.getDate():a.getDate()-1,i).getTime()},CommonPlayerAdServices}(o.Service),n=function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(r.prototype,"signServices",[a],{enumerable:!0,initializer:null}),r);t.default=f},"6505c5":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h,m,b,v,_=i("97a1f0"),y=i("7ca7dc"),g=i("eb3e22"),k=i("8dd4e6"),S=i("e5eb77"),T=i("e854a7"),P=i("564e7b"),D=i("caacd2"),w=i("94d865"),C=i("8e8ae5"),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var N=y.default.Service,E=y.default.Store,R=T.default.socketStream,A=(a=E(),r=N(g.DataCenter.common),n=N(g.DataCenter.global),o=N(g.DataCenter.localStorage),s=N(P.default),c=N(D.default),l=N(C.default),u=function(e){function RandomPKGWTServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RandomPKGWTServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",p,t),_initDefineProp(t,"common",f,t),_initDefineProp(t,"global",d,t),_initDefineProp(t,"localStorage",h,t),_initDefineProp(t,"publicToolsServices",m,t),_initDefineProp(t,"pkCommonServices",b,t),_initDefineProp(t,"pkTAServices",v,t),t.isSubscribe=!1,t.pkData=null,t.statusGetTimes=0,t.pkid=-1,t.reqLock=0,t.showSubType={"1_0":{flag:0,sub:"8_3"},"1_1":{flag:0,sub:"A_3"},"2_1":{flag:0},"2_2":{flag:0,sub:"9_3"},"2_3":{flag:0}},t.tipsTimer$=Object(k.timer)(1e4,4e3).pipe(Object(S.take)(1)),t.dysub2=t.dysub2.bind(t),t.getGWTReq=t.getGWTReq.bind(t),t}return _inherits(RandomPKGWTServices,e),RandomPKGWTServices.prototype.getStore=function getStore(e){return this.store.getState()[e]},RandomPKGWTServices.prototype.updateData=function updateData(e){this.store.dispatch(w.PKBannerActions.updateGWTData(e))},RandomPKGWTServices.prototype.init=function init(e){var t=this,i=this.config;this.config=Object.assign({},O({},i,e)),this.isSubscribe||(this.isSubscribe=!0,this.startSub=R.subscribe("wealthgodtask",function(e){if(e&&t.dataCheck(e)){t.statusGetTimes=+e.ts,t.checkInitFlag(e),t.pkData=Object.assign({},e,{tsLocal:Date.now()});var i=t.pkCommonServices.getPKKey(t.pkData),a=t.pkData[i.owner]||0,r=t.pkData[i.other]||0;t.pkCommonServices.sendSvgaGWT("Banner",e),t.updateData({pkData:O({},t.pkData,{ownerData:a,otherData:r})}),t.checkShowSub(e)}}),R.subscribe("sckresult",function(e){if(1===+e.bizType){var i=t.global.get("USER_INFO.nickname");1===+e.rpType&&t.publicToolsServices.addGold(e.num),t.updateData({tipsData:Object.assign({},O({},e,{uname:i}))}),t.clearTips()}}))},RandomPKGWTServices.prototype.dataCheck=function dataCheck(e){return this.enterMsgCheck(e)&&1===+e.pktype&&this.pkCommonServices.pkidCheck(e,"Banner")&&this.pkCommonServices.pkRoomCheck(e)},RandomPKGWTServices.prototype.enterMsgCheck=function enterMsgCheck(e){var t=e.pkid,i=e.taskInfo;this.pkid;return this.pkid=+t,+e.ts>=+this.statusGetTimes&&i&&i.status>0},RandomPKGWTServices.prototype.clearData=function clearData(e){var t=e.pkId,i=void 0===t?0:t,a=e.arid,r=void 0===a?0:a,n=e.brid,o=void 0===n?0:n,s=e.force,c=void 0===s?0:s,l=this.pkData||{},u=l.pkid,p=l.rida,f=l.ridb;(u>-1&&!(i?+u===+i:+p===+r&&+f===+o)||c)&&(this.clearGWTData(),this.pkid=-1)},RandomPKGWTServices.prototype.clearTips=function clearTips(){var e=this;this.tipsSub&&this.tipsSub.unsubscribe&&this.tipsSub.unsubscribe(),this.tipsSub=this.tipsTimer$.subscribe(function(){e.updateData({tipsData:null})})},RandomPKGWTServices.prototype.clearGWTData=function clearGWTData(){this.pkData=null,this.updateData({getedPkid:-1,tipsData:null,pkData:{}})},RandomPKGWTServices.prototype.getGWTReq=function getGWTReq(e){var t=this;this.pkCommonServices.getGWTReq({pkData:e,options:{container:".PKCommonGodWealthEnter-geeVerify"},callback:function callback(i){t.localStorage.set(t.pkCommonServices.getCacheFlag("Banner"),e.pkid),t.updateData({getedPkid:e.pkid})}})},RandomPKGWTServices.prototype.sendGetedMsg=function sendGetedMsg(e){var t=e.taskInfo,i=void 0===t?{}:t,a=i.status,r=i.result,n=i.receType,o=(i.topUid,i.topUname);if(2===+a&&2===+r){var s=this.global.get("USER_INFO.uid"),c=this.pkCommonServices.isAnchor();1!==+n&&2!==+n||(this.updateData({tipsData:{type:"sckresult",sckId:0,bizType:1,uid:s,isSuc:1,rpType:1,num:i.packetYc,uname:1===+n?"\u4e3b\u64ad":o}}),this.clearTips()),3===+n&&c&&(this.updateData({tipsData:{type:"openedaward"}}),this.clearTips())}},RandomPKGWTServices.prototype.showOpenState=function showOpenState(e){var t=e.taskInfo,i=void 0===t?{}:t,a=this.pkCommonServices.getPKKey({rida:{rid:e.rida},ridb:{rid:e.ridb}}),r={pkid:e.pkid,pktype:1,rida:e.rida,ridb:e.ridb};r[a.extOwner]={stype:1,atype:4},r[a.extOther]={stype:0,atype:0},parseInt(+e.ts/1e3,10)<=+i.taskStartTime&&(this.pkTAServices.updateData({showTaskAwardFooter:!0,pkAwardData:r}),this.pkTAServices.checkAutoClearFooter(r,!0))},RandomPKGWTServices.prototype.checkInitFlag=function checkInitFlag(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(this.pkData||{}).pkid!==t.pkid&&Object.keys(this.showSubType).forEach(function(t){e.showSubType[t]=e.showSubType[t]||{},e.showSubType[t].flag=0})},RandomPKGWTServices.prototype.checkShowSub=function checkShowSub(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getStore("bannerPKGWTData")||{},i=this.pkCommonServices.getGWTState(e,t.getedPkid),a=this.showSubType[i];a&&!a.flag&&(a.flag=1,"1_0"===i&&this.showOpenState(e),"2_1"===i&&this.sendGetedMsg(e),"2_2"===i&&(this.updateData({tipsData:{type:"openedaward"}}),this.clearTips()),"2_3"===i&&(this.updateData({tipsData:{type:"notok"}}),this.clearTips()),a.sub&&this.dysub2(a.sub))},RandomPKGWTServices.prototype.dysub2=function dysub2(e){var t=null;this.global.get("$ROOM.room_id");switch("16010022700"+e){case"160100227007":t={action_code:"160100227007",event_id:3,type:1};break;case"160100227008":t={action_code:"160100227008",event_id:1,type:1};break;case"160100227008_3":t={action_code:"160100227008",event_id:3,type:1};break;case"160100227009":t={action_code:"160100227009",event_id:1,type:1};break;case"160100227009_3":t={action_code:"160100227009",event_id:3,type:1};break;case"16010022700A":t={action_code:"16010022700A",event_id:1,type:1};break;case"16010022700A_3":t={action_code:"16010022700A",event_id:3,type:1}}t&&this.publicToolsServices.dysub2(t)},RandomPKGWTServices}(_.Service),p=_applyDecoratedDescriptor(u.prototype,"store",[a],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(u.prototype,"common",[r],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(u.prototype,"global",[n],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(u.prototype,"localStorage",[o],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(u.prototype,"publicToolsServices",[s],{enumerable:!0,initializer:null}),b=_applyDecoratedDescriptor(u.prototype,"pkCommonServices",[c],{enumerable:!0,initializer:null}),v=_applyDecoratedDescriptor(u.prototype,"pkTAServices",[l],{enumerable:!0,initializer:null}),u);t.default=A},"6d5e81":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/flashIcon_c1fc673.png"},"6ea332":function(e,t,i){},"6ec721":function(e,t,i){"use strict";i.d(t,"default",function(){return l});var a=i("1a22b7"),r=i.n(a),n=i("db47a7"),o=i("3d4400"),s=i.n(o),c=(i("19e6cb"),"/shark/live/src/pages/roomPage/videoAboveModule/components/ChargeTask/taskRender/userTaskRender.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var l=function(e){function UserTaskRender(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserTaskRender);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));i.state={};var a=Object.getPrototypeOf(i);return Object.getOwnPropertyNames(a).forEach(function(e){var t=i[e];"function"===typeof t&&(i[e]=t.bind(i))}),i}return _inherits(UserTaskRender,e),UserTaskRender.prototype.componentWillUnmount=function componentWillUnmount(){this.loopId&&clearTimeout(this.loopId)},UserTaskRender.prototype.checkCD=function checkCD(){var e=this.props,t=e.model,i=e.task;this.loopId&&clearTimeout(this.loopId),i.invalidTime>0&&i.current<i.total&&+i.uid===+t.uid&&(this.doLoop(),this.loopId=setTimeout(this.doLoop,1e3))},UserTaskRender.prototype.doLoop=function doLoop(){var e=this.props.task,t=parseInt(e.invalidTime-(new Date).getTime()/1e3,10);t<=0?this.loopId&&clearTimeout(this.loopId):this.setState({leftTime:t})},UserTaskRender.prototype.render=function render(){var e=this.props.task,t=e.current/e.total*100,i=e.tt>0;return 3===+e.st&&this.checkCD(),r.a.createElement("div",{__source:{fileName:c,lineNumber:73},__self:this},r.a.createElement("li",{className:"UserTaskRender",__source:{fileName:c,lineNumber:74},__self:this},r.a.createElement("p",{className:"UserTaskRender-item_title",__source:{fileName:c,lineNumber:75},__self:this},e.tn),r.a.createElement("div",{className:"UserTaskRender-item_div",__source:{fileName:c,lineNumber:80},__self:this},r.a.createElement("div",{style:{display:"flex",alignItems:"center"},__source:{fileName:c,lineNumber:81},__self:this},r.a.createElement("img",{className:"UserTaskRender-item_icon",src:e?e.giftIcon:s.a,__source:{fileName:c,lineNumber:82},__self:this}),r.a.createElement("div",{className:"UserTaskRender-div_content",__source:{fileName:c,lineNumber:86},__self:this},r.a.createElement("div",{className:"UserTaskRender-div_txt",__source:{fileName:c,lineNumber:87},__self:this},r.a.createElement("p",{className:"UserTaskRender-item_txt",__source:{fileName:c,lineNumber:88},__self:this},e.current,"/",e.total),i?r.a.createElement("p",{className:"UserTaskRender-t_name",__source:{fileName:c,lineNumber:92},__self:this},e.sp,r.a.createElement("span",{className:"UserTaskRender-t_name_tips",__source:{fileName:c,lineNumber:94},__self:this},e.sp)):null,i?r.a.createElement("span",{className:"UserTaskRender-item_em",__source:{fileName:c,lineNumber:100},__self:this},"\u51a0\u540d"):null),t>=100?r.a.createElement("div",{className:"UserTaskRender-progress_bar2",__source:{fileName:c,lineNumber:106},__self:this}):r.a.createElement("div",{className:"UserTaskRender-progress",__source:{fileName:c,lineNumber:108},__self:this},r.a.createElement("div",{className:"UserTaskRender-progress_bar",style:{width:t+"%"},__source:{fileName:c,lineNumber:109},__self:this})))),this.renderTask()),r.a.createElement("div",{className:"UserTaskRender-item_line",__source:{fileName:c,lineNumber:119},__self:this})))},UserTaskRender.prototype.renderTask=function renderTask(){var e=this.props,t=e.task,i=e.model,a=this.state.leftTime,n=5===t.st,o=t.total>0&&t.current===t.total,s=a||0;return 0===+t.tt?r.a.createElement("div",{className:"UserTaskRender-div_btn",__source:{fileName:c,lineNumber:137},__self:this},this.renderButton(o,n)):o?n?r.a.createElement("p",{className:"UserTaskRender-t_name2",__source:{fileName:c,lineNumber:170},__self:this},"\u8868\u6f14\u4e2d..."):r.a.createElement("p",{style:{color:"#FF2400"},className:"UserTaskRender-t_name2",__source:{fileName:c,lineNumber:173},__self:this},"\u7b49\u5f85\u4e3b\u64ad\u8868\u6f14"):t.invalidTime>0&&i.uid===t.uid?r.a.createElement("div",{className:"UserTaskRender-div_btn",__source:{fileName:c,lineNumber:160},__self:this},r.a.createElement("p",{className:"UserTaskRender-t_name2",style:{color:"#ffde4c"},__source:{fileName:c,lineNumber:161},__self:this},s<=0?"\u5f85\u9001\u6ee1":"\u5f85\u9001\u6ee1"+s+"s")):null},UserTaskRender.prototype.renderButton=function renderButton(e,t){return e?t?r.a.createElement("p",{className:"UserTaskRender-t_name2",__source:{fileName:c,lineNumber:196},__self:this},"\u8868\u6f14\u4e2d..."):r.a.createElement("p",{className:"UserTaskRender-t_name2",__source:{fileName:c,lineNumber:198},__self:this},"\u5f85\u6267\u884c"):r.a.createElement("button",{className:"UserTaskRender-item_btn3",onClick:this.onClickChargeHandle,__source:{fileName:c,lineNumber:186},__self:this},"\u8d4f\u4e00\u4e2a")},UserTaskRender.prototype.onClickChargeHandle=function onClickChargeHandle(){var e=this.props,t=e.model,i=e.task;t.callJS({type:"give",data:+i.gid}),Object(n.dysub)("click_live_chargetask_sendgift",{gfid:i.gid,gf_num:1,g_type:1===+i.missionType?1:2})},UserTaskRender.prototype.onClickChargeHandle2=function onClickChargeHandle2(){var e=this.props,t=e.model,i=e.task;t.callJS({type:"send",data:{gid:+i.gid,uid:+t.uid,need:+i.total-+i.current}})},UserTaskRender}(r.a.PureComponent)},"706d39":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f=i("1a22b7"),d=i.n(f),h=i("447d8e"),m=i("7ca7dc"),b=i("eb3e22"),v=i("166b02"),_=i("caacd2"),y=i("c4a79f"),g=i("e296f5"),k=i("18c060"),S=(i("9a2910"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/GiftTask/GiftTask.js");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var T=m.default.Service,P=function(e){function MyCountDown(){return _classCallCheck(this,MyCountDown),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(MyCountDown,e),MyCountDown.prototype.render=function render(){var e=this.state.restTime,t=void 0===e?0:e,i=t<=0?0:parseInt(t,10);return d.a.createElement("span",{className:"BannerPKGiftTask-hightColor",__source:{fileName:S,lineNumber:24},__self:this},i,"\u79d2")},MyCountDown}(k.default),D=(a=T(b.DataCenter.common),r=T(b.DataCenter.global),n=T(v.default),o=T(_.default),s=function(e){function GiftTask(){var t,i;_classCallCheck(this,GiftTask);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"common",c,i),_initDefineProp(i,"global",l,i),_initDefineProp(i,"gTServices",u,i),_initDefineProp(i,"pkCommonServices",p,i),_possibleConstructorReturn(i,t)}return _inherits(GiftTask,e),GiftTask.prototype.dispatchContent=function dispatchContent(){var e=this,t=this.props,i=t.pkData,a=void 0===i?{}:i,r=t.showGT,n=a.ownerData,o=void 0===n?{}:n,s=a.endTime,c=o.status,l=o.httotal,u=void 0===l?0:l,p=o.htnum,f=void 0===p?0:p,h=o.isdoneht,m=void 0===h?0:h,b=o.uname,v=o.buffRate,_=o.atype,k=o.prop_id,T=null;if(!r)return null;switch(+c){case 2:return T=d.a.createElement(d.a.Fragment,{__source:{fileName:S,lineNumber:50},__self:this},d.a.createElement(P,{key:s,type:"2",time:parseInt(s/1e3,10),form:"ss",customDefaultValue:"00",__source:{fileName:S,lineNumber:51},__self:this})," \u540e\u5c06\u5f00\u542f\u6c34\u53cb\u4efb\u52a1"),d.a.createElement(g.default,{extChildren:T,tips:d.a.createElement(y.default,{taskType:2,hoverCallback:function hoverCallback(){e.gTServices.dysub2("question")},__source:{fileName:S,lineNumber:66},__self:this}),__source:{fileName:S,lineNumber:63},__self:this});case 3:return d.a.createElement(g.default,{contentConfig:[{value:"\u9001\u793c\u4eba\u6570\u8fbe\u5230",filltype:0,highcolor:0},{value:"tasktext",filltype:1,highcolor:1},{value:"\uff0c\u5c06\u4f1a\u89e6\u53d1\u968f\u673a\u5956\u52b1",filltype:0,highcolor:0}],dataMap:{tasktext:f+"/"+u+"\u4eba"},tips:d.a.createElement(y.default,{taskType:2,hoverCallback:function hoverCallback(){e.gTServices.dysub2("question")},__source:{fileName:S,lineNumber:85},__self:this}),__source:{fileName:S,lineNumber:75},__self:this});case 4:if(+m){var D=1===+_?"prop":"award",w=1===+_?k:+_,C={uname:b,awardname:this.pkCommonServices.getAwardInfoPlus(w,D).name,buffnum:+v>=0?v+"%":""},O=this.pkCommonServices.getAwardContent("GT",_);return d.a.createElement(g.default,{contentConfig:O,dataMap:C,tips:null,__source:{fileName:S,lineNumber:107},__self:this})}return d.a.createElement(g.default,{contentConfig:[{value:"\u4efb\u52a1\u672a\u5b8c\u6210\uff0c\u518d\u63a5\u518d\u5389\uff01",filltype:0,highcolor:0}],tips:null,__source:{fileName:S,lineNumber:116},__self:this});default:return null}},GiftTask.prototype.render=function render(){return this.dispatchContent()},GiftTask}(d.a.Component),c=_applyDecoratedDescriptor(s.prototype,"common",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(s.prototype,"global",[r],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(s.prototype,"gTServices",[n],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(s.prototype,"pkCommonServices",[o],{enumerable:!0,initializer:null}),s);t.default=Object(h.connect)(function mapStateToProps(e){var t=e.pkBannerData,i=void 0===t?{}:t,a=e.bannerPKGTData,r=void 0===a?{}:a;return{pkData:r.pkData,showGT:r.showGT,taskConfig:i.taskConfig}})(D)},"70e70d":function(e,t,i){e.exports=i("5f575e")("d9368")},"70fc6c":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u=i("1a22b7"),p=i.n(u),f=i("447d8e"),d=i("7ca7dc"),h=i("eb3e22"),m=i("8e8ae5"),b=i("bb15b7");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var v=d.default.Service,_=(a=v(h.DataCenter.common),r=v(h.DataCenter.global),n=v(m.default),o=function(e){function TaskAwardFooter(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskAwardFooter);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"common",s,i),_initDefineProp(i,"global",c,i),_initDefineProp(i,"pkTAServices",l,i),_possibleConstructorReturn(i,t)}return _inherits(TaskAwardFooter,e),TaskAwardFooter.prototype.render=function render(){var e=this.props,t=e.pkAwardData,i=e.taskConfig,a=this.pkTAServices.checkTaskDoing();return t?p.a.createElement(b.default,{pkAwardData:t,taskConfig:i,TaskDoingIndex:a,__source:{fileName:"/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/TaskAward/TaskAward.js",lineNumber:21},__self:this}):null},TaskAwardFooter}(p.a.Component),s=_applyDecoratedDescriptor(o.prototype,"common",[a],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(o.prototype,"global",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"pkTAServices",[n],{enumerable:!0,initializer:null}),o);t.default=Object(f.connect)(function mapStateToProps(e){var t=e.pkBannerData,i=void 0===t?{}:t,a=e.bannerPKTAData;return{pkAwardData:(void 0===a?{}:a).pkAwardData,taskConfig:i.taskConfig}})(_)},"72148b":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/timeIcon_e31470a.png"},"722b8a":function(e,t,i){e.exports=i("5f575e")("d4f18")},"730e3d":function(e,t,i){e.exports=i("5f575e")("750a9")},"73b410":function(e,t,i){"use strict";var a=i("1bb934");t.default=a.default},"748d25":function(e,t,i){e.exports=i("2d6146")("980ef")},"74a511":function(e,t,i){},755488:function(e,t,i){"use strict";i.d(t,"PTLCreatorFactory",function(){return PTLCreatorFactory}),i.d(t,"OptionCreatorFactory",function(){return OptionCreatorFactory});i("7acede");function pkResult(e){return['<div class="PKResultBroadcast">','<div class="PKResultBroadcast-header"></div>','<div class="PKResultBroadcast-content">','<span style="color:#FFF33C;font-weight: bold;">'+(e.nn1?e.nn1:"")+"</span>",'<span style="color:#FFFFFF">\u4e3a\u4e3b\u64ad</span>','<span style="color:#96E3FF;font-weight: bold;">'+(e.nn2?e.nn2:"")+"</span>",'<span style="color:#FFF33C">\u8d21\u732e</span>','<span style="color:#FFFFFF;font-weight: bold;">'+e.ct/100+"</span>",'<span style="color:#FFFFFF">\uff0c\u52a9\u529b\u4e3b\u64ad\u83b7\u5f97\u80dc\u5229</span>',"</div>",'<div class="PKResultBroadcast-tail"></div>',"</div>"].join("")}function pkDrainage(e){return['<div class="PKDrainageBroadcast">','<div class="PKDrainageBroadcast-header"></div>','<div class="PKDrainageBroadcast-content">','<span style="color:#FFFF00;font-weight: bold;margin-left: 52px;">'+(e.nn1?e.nn1:"")+"</span>",'<span style="color:#FFFFFF">\u6b63\u4e0e</span>','<span style="color:#FFFF00;font-weight: bold;">'+(e.nn2?e.nn2:"")+"</span>",'<span style="color:#FFFFFF">\u8fde\u9ea6pk\uff0c\u6218\u51b5\u60e8\u70c8</span>',"</div>",'<div class="PKDrainageBroadcast-tail"></div>',"</div>"].join("")}function PTLCreatorFactory(e){return"result"===e?pkResult:pkDrainage}function OptionCreatorFactory(e,t){return function(i){var a=e?e():{},r=t?t(i):void 0;return{adjust:"screenWidth",animation:[{keyframes:a?a.name:"",duration:15e3,fillMode:"forwards"}],onClick:r}}}},"76f0cf":function(e,t,i){"use strict";var a=i("1a22b7"),r=i.n(a),n=i("447d8e"),o="/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/GiftTask/GiftTaskNum.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var s=function(e){function GiftTask(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftTask),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(GiftTask,e),GiftTask.prototype.render=function render(){var e=this.props,t=e.pkData,i=void 0===t?{}:t,a=e.extClass,n=void 0===a?"":a,s=i.ownerData,c=void 0===s?{}:s,l=i.status,u=c.httotal,p=void 0===u?0:u,f=c.htnum,d=void 0===f?0:f;return 3===+l?r.a.createElement("div",{className:"BannerPKGiftTaskNum "+n,__source:{fileName:o,lineNumber:12},__self:this},r.a.createElement("span",{className:"BannerPKGiftTaskNum-hightColor",__source:{fileName:o,lineNumber:13},__self:this},d),"/",p):null},GiftTask}(r.a.Component);t.default=Object(n.connect)(function mapStateToProps(e){var t=e.bannerPKGTData;return{pkData:(void 0===t?{}:t).pkData}})(s)},781445:function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f=i("97a1f0"),d=i("7ca7dc"),h=i("722b8a"),m=i("1a1886"),b=i("790e0e"),v=i("3d35eb");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var _=d.default.Store,y=d.default.Service,g=(a=Object(f.Injectable)("live.common.GeeVerifyAppService"),r=y(m.default),n=y(b.default),o=_(),a((c=function(e){function GeeVerifyAppServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GeeVerifyAppServices);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"commonServices",l,i),_initDefineProp(i,"verifyService",u,i),_initDefineProp(i,"store",p,i),_possibleConstructorReturn(i,t)}return _inherits(GeeVerifyAppServices,e),GeeVerifyAppServices.prototype.verify=function verify(e,t){var i=e.data,a=(void 0===i?{}:i).risk_info,r=void 0===a?{}:a,n=r.op_type,o=r.risk_verify_code,s=r.verify_type,c=r.risk_desc;switch(+o){case 301:this.reStartRequest(n,t);break;case 320:this.commonServices.showAccountLimitDialog(s);break;case 302:h.default.error(c||"")}},GeeVerifyAppServices.prototype.reStartRequest=function reStartRequest(e,t){var i=this,a=t.type,r=t.reqData,n=void 0===r?{}:r,o=t.container,s=void 0===o?"":o,c=t.callback;this.verifyService.checkGeeStatus({op_type:e},function(){c?c():a&&i.store.dispatch(v.default.geeVerifyCallBack(a,n))},s)},GeeVerifyAppServices}(f.Service),l=_applyDecoratedDescriptor(c.prototype,"commonServices",[r],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"verifyService",[n],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(c.prototype,"store",[o],{enumerable:!0,initializer:null}),s=c))||s);t.default=g},"790e0e":function(e,t,i){"use strict";var a,r,n,o=i("97a1f0"),s=i("7ca7dc"),c=i("eb3e22"),l=i("d1f87a"),u=i("722b8a");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var p=(a=(0,s.default.Service)(c.DataCenter.cookie),r=function(e){function geeVerifyServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,geeVerifyServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}(t,"cookie",n,t),t.geeFn=null,t.op_type=33,t}return _inherits(geeVerifyServices,e),geeVerifyServices.prototype.checkGeeStatus=function checkGeeStatus(e,t,i){var a=this;e.op_type&&(this.op_type=e.op_type),c.httpClient.post(String,"/public/geeTest/getGeeTest",{op_type:this.op_type,room_id:e.roomId||0},{headers:{"content-type":"application/x-www-form-urlencoded"},noCache:!0}).subscribe(function(e){var r=e.data,n=void 0===r?{}:r;(n="string"===typeof n?JSON.parse(n):n)&&1===n.code_type?a.geeInit(n,t,i):u.default.error("\u7f51\u7edc\u5f02\u5e38")})},geeVerifyServices.prototype.checkGeeCaptcha=function checkGeeCaptcha(e){var t=this;return new Promise(function(i,a){c.httpClient.post(String,"public/geeTest/checkGeeTest",{op_type:t.op_type,gt_version:"v4",code_verify_data:e},{headers:{"content-type":"application/x-www-form-urlencoded"},noCache:!0}).subscribe(function(e){e&&0===e.error?i(e):u.default.error(e.msg||"\u7f51\u7edc\u5f02\u5e38")})})},geeVerifyServices.prototype.geeInit=function geeInit(e,t,i){var a=this;this.geeFn||(this.geeFn=Object(l.default)({geeInitParams:{isNeedCheck:!1,isAutoShow:!0,data:e},geeOptions:{width:"290px",area:i,bg_color:"#000"},success:function success(e){a.checkGeeCaptcha(e).then(t).then(function(){a.closeGee()})},error:function error(){a.error(),a.closeGee()},close:function close(){a.closeGee()},otherFunctions:{init:function init(){var e=document.createElement("style");e.type="text/css",e.id="geePanelStyle",e.innerHTML="\n                        .geetest_panel {\n                            z-index: 9999!important;\n                        }\n                    ",".FishpondTreasure-v4-area"===i&&(e.innerHTML+="\n                            .geetest_panel.geetest_wind {\n                                position: fixed!important;\n                                top: 0!important;\n                                left: 0!important;\n                            }\n                        "),document.body.appendChild(e)}}}))},geeVerifyServices.prototype.closeGee=function closeGee(){if(this.geeFn&&this.geeFn.destroy){this.geeFn.destroy(),this.geeFn=null;var e=document.getElementById("geePanelStyle");e&&document.body.removeChild(e)}},geeVerifyServices.prototype.error=function error(){u.default.error("\u9a8c\u8bc1\u7801\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")},geeVerifyServices}(o.Service),n=function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(r.prototype,"cookie",[a],{enumerable:!0,initializer:null}),r);t.default=p},"79ed7c":function(e,t,i){"use strict";i.d(t,"default",function(){return h});var a,r,n,o=i("1a22b7"),s=i.n(o),c=i("7ca7dc"),l=i("503124"),u=i.n(l),p=i("1549ad"),f=i("b3a00b"),d=(i("74a511"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/fold/index.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var h=(a=(0,c.default.Service)(f.default),r=function(e){function FoldView(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FoldView);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));!function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}(i,"pkBannerServices",n,i);var a=Object.getPrototypeOf(i);return Object.getOwnPropertyNames(a).forEach(function(e){var t=i[e];"function"===typeof t&&(i[e]=t.bind(i))}),i}return _inherits(FoldView,e),FoldView.prototype.onUnfoldBtnClick=function onUnfoldBtnClick(){this.pkBannerServices.updateTaskFoldState("normal")},FoldView.prototype.render=function render(){var e=this.props.pkingTimeNum,t=document.querySelector(".layout-Player-videoMain"),i=parseInt((t.clientWidth-166)/2,10),a=parseInt(t.clientHeight-55-58,10);return s.a.createElement(u.a,{bounds:"#js-player-dialog",enableUserSelectHack:!1,defaultPosition:{x:i,y:a},__source:{fileName:d,lineNumber:40},__self:this},s.a.createElement("div",{className:"fold",__source:{fileName:d,lineNumber:45},__self:this},s.a.createElement("span",{className:"fold-unfoldBtn",onClick:this.onUnfoldBtnClick,__source:{fileName:d,lineNumber:46},__self:this}),s.a.createElement("div",{className:"fold-flexBox",__source:{fileName:d,lineNumber:47},__self:this},s.a.createElement("span",{className:"fold-pkIcon",__source:{fileName:d,lineNumber:48},__self:this}),s.a.createElement("span",{className:"fold-timeLabel",__source:{fileName:d,lineNumber:49},__self:this},Object(p.default)(e)),s.a.createElement("span",{className:"fold-endLabel",__source:{fileName:d,lineNumber:50},__self:this},"\u7ed3\u675f"))))},FoldView}(s.a.Component),n=function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(r.prototype,"pkBannerServices",[a],{enumerable:!0,initializer:null}),r)},"7acede":function(e,t,i){},"7c9af2":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h=i("ed7240"),m=i("1a22b7"),b=i.n(m),v=(i("3b6ec9"),i("447d8e")),_=i("db47a7"),y=i("54992a"),g=i("7ca7dc"),k=i("eb3e22"),S=i("97a851"),T=i.n(S),P=i("eb4d33"),D=i("ac64b0"),w=i("3bb3ae"),C=i("98f6e4"),O=i("56b0a1"),N=i("3d4400"),E=i.n(N),R=i("e854a7"),A=i("ce313d"),j=i("8213f3"),K=(i("03ccaf"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e}),I="/shark/live/src/pages/roomPage/videoAboveModule/components/ChargeTask/ChargeTask.js";function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var B=R.default.socketStream,z=T.a.decode,G=g.default.Service,M={headers:{"content-type":"application/x-www-form-urlencoded"}},F=(a=G(y.Logger),r=G(k.DataCenter.common),n=G(k.DataCenter.acj),o=G(O.default),s=G(A.default),c=function(e){function ChargeTask(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChargeTask);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));_initDefineProp(i,"logger",l,i),_initDefineProp(i,"common",u,i),_initDefineProp(i,"acj",p,i),_initDefineProp(i,"giftDataServices",f,i),_initDefineProp(i,"chargeTaskServices",d,i),i.noticeList=[],i.listId="listId",i.tasks=[],i.showIcon=1,i.cache=[],i.state={isShow:!0,show:"none",nt:0,notice:null,flag:!1,eff:!1,over:!1};var a=Object.getPrototypeOf(i);return Object.getOwnPropertyNames(a).forEach(function(e){var t=i[e];"function"===typeof t&&(i[e]=t.bind(i))}),i}return _inherits(ChargeTask,e),ChargeTask.prototype.componentDidMount=function componentDidMount(){var e=this;this.chargeTaskServices.init(),["ittl","ittp","itts","ctl","ctp","cts","task_qmyq","task_qmir","task_qmap","task_qmar","task_qmcd","task_qmbo","task_qmeo","task_qmts","task_qmte","task_qmii"].forEach(function(t){B.subscribe(t,e.chongnengStatus)})},ChargeTask.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,i=t.rid,a=t.isHost;i!==e.rid&&this.getOpenStatus(e.rid),e.isHost&&e.isHost!==a&&this.anchorGetTask()},ChargeTask.prototype.componentWillUnmount=function componentWillUnmount(){this.effShowId&&clearInterval(this.effShowId),this.autoOver&&clearTimeout(this.autoOver),this.iconCloseCountDownID&&clearTimeout(this.iconCloseCountDownID)},ChargeTask.prototype.componentDidUpdate=function componentDidUpdate(e,t){var i=this,a=this.state,r=a.pendant;"icon"===a.show&&1===this.showIcon&&(this.iconCloseCountDownID||(this.iconCloseCountDownID=setTimeout(function(){var e=i.state.flag;i.showIcon=0,i.setState({flag:!e}),clearTimeout(i.iconCloseCountDownID)},1e4))),!t.pendant&&r&&Object(_.dysub)("show_pptask_sendgift"),this.props.giftConfig===e.giftConfig||e.giftConfig||(this.cache&&this.cache.forEach(function(e){return i.chongnengStatus(e)}),this.cache=[]),!1===t.eff&&!0===this.state.eff&&this.props.isHost&&this.btnOver&&(this.btnOverT=5,this.effShowId&&clearInterval(this.effShowId),this.effShowId=setInterval(this.canOver,1e3),this.btnOver&&(this.btnOver.disabled=!0),this.autoOver&&clearTimeout(this.autoOver),this.autoOver=setTimeout(this.showView,3e4,[5])),!1===t.over&&!0===this.state.over&&null==this.efid&&(this.efid=setTimeout(this.effShowOver,2e3)),this.state.show!==t.show&&("small"===this.state.show?Object(_.dysub)("show_interact_close"):"list"===this.state.show&&Object(_.dysub)("show_interact_norm"))},ChargeTask.prototype.effShowOver=function effShowOver(){this.overDiv&&this.overDiv.removeEventListener("webkitAnimationEnd",this.effShowOver),this.overDiv&&this.overDiv.removeEventListener("animationEnd",this.effShowOver),this.showView(6),this.btnOver=null,this.efid&&clearTimeout(this.efid),this.efid=null},ChargeTask.prototype.canOver=function canOver(){var e=this.props.isHost;this.btnOverT-=1,this.btnOverT<=0&&(this.effShowId&&clearInterval(this.effShowId),this.btnOver&&e&&(this.btnOver.disabled=!1)),this.btnOver&&this.setState({btnOverT:this.btnOverT})},ChargeTask.prototype.onClose=function onClose(){this.setState({isShow:!1})},ChargeTask.prototype.render=function render(){var e=this,t=this.props.uid,i=this.state.isShow;if(this.uid=t,!i)return null;var a=b.a.createElement(j.default,K({},this.state,this.props,{model:this,showView:this.showView,tasks:this.tasks,onClose:this.onClose,__source:{fileName:I,lineNumber:256},__self:this}));return a&&b.a.createElement("div",{__source:{fileName:I,lineNumber:262},__self:this},b.a.createElement("div",{className:"ChargeTask",__source:{fileName:I,lineNumber:263},__self:this}),a,this.renderEff(),b.a.createElement(h.default,{width:280,center:!0,children:this.state.modelTxt,title:"\u63d0\u793a",visible:!!this.state.showModel,onCancel:function onCancel(){e.setState({showModel:!1,callBack:null,modelTxt:""})},onOk:function onOk(){e.state.callBack(),e.setState({showModel:!1,callBack:null,modelTxt:""})},__source:{fileName:I,lineNumber:266},__self:this}))},ChargeTask.prototype.renderEff=function renderEff(){var e=this,t=this.state,i=t.eff,a=t.over;if(!i)return null;var r=this.props.isHost,n=document.querySelector(".layout-Player-videoMain"),o=parseInt((n.clientWidth-445)/2,10),s=parseInt((n.clientHeight-300)/2,10);return b.a.createElement("div",{ref:function ref(t){e.overDiv=t},style:{top:s+"px",left:o+"px",transform:"translateX("+(a?0:n.clientWidth)+"px)"},className:a?"ChargeTask-eff ChargeTask-eff2":"ChargeTask-eff",__source:{fileName:I,lineNumber:297},__self:this},b.a.createElement("span",{className:"ChargeTask-normalClose ChargeTask-nc2",onClick:this.showView6,__source:{fileName:I,lineNumber:312},__self:this}),b.a.createElement("div",{className:"ChargeTask-eff_title",__source:{fileName:I,lineNumber:316},__self:this},b.a.createElement("div",{className:"ChargeTask-eff_p1",__source:{fileName:I,lineNumber:317},__self:this},b.a.createElement("img",{className:"ChargeTask-eff_icon",src:this.startVo?this.startVo.snp:E.a,__source:{fileName:I,lineNumber:318},__self:this})),b.a.createElement("div",{className:"ChargeTask-eff_p3",__source:{fileName:I,lineNumber:327},__self:this},"\u9738\u6c14\u4fa7\u6f0f\u9001\u51fa",b.a.createElement("p",{className:"ChargeTask-eff_p30",__source:{fileName:I,lineNumber:329},__self:this},this.currentOverTask?this.currentOverTask.total:"1","\u4e2a\u793c\u7269")),b.a.createElement("div",{className:"ChargeTask-eff_p4",__source:{fileName:I,lineNumber:335},__self:this},"\u4e3b\u64ad\u5f00\u59cb\u4e3aTa\u8868\u6f14"),b.a.createElement("div",{className:"ChargeTask-eff_p5",__source:{fileName:I,lineNumber:338},__self:this},this.currentOverTask?this.currentOverTask.tn:"\u4efb\u52a1"),b.a.createElement("div",{className:"ChargeTask-eff_p2",__source:{fileName:I,lineNumber:343},__self:this},this.currentOverTask?this.currentOverTask.sp:"\u6c34\u53cb")),b.a.createElement("div",{className:"ChargeTask-eff_body",__source:{fileName:I,lineNumber:349},__self:this},b.a.createElement("div",{className:"ChargeTask-eff_body2 ChargeTask-eff_body3",__source:{fileName:I,lineNumber:350},__self:this}),b.a.createElement("div",{className:"ChargeTask-eff_body2 ChargeTask-eff_body4",__source:{fileName:I,lineNumber:353},__self:this})),r?b.a.createElement("button",{ref:function ref(t){e.btnOver=t},className:"ChargeTask-eff_btn "+(this.btnOverT?"ChargeTask-eff_btn2":""),onClick:this.onhaveOver,__source:{fileName:I,lineNumber:358},__self:this},this.getBtnOverTip()):null)},ChargeTask.prototype.getBtnOverTip=function getBtnOverTip(){return this.btnOverT?"\u5df2\u5b8c\u6210("+this.btnOverT+")":"\u5df2\u5b8c\u6210"},ChargeTask.prototype.showAertPanel=function showAertPanel(e,t){this.setState({showModel:!0,callBack:t,modelTxt:e})},ChargeTask.prototype.onhaveOver=function onhaveOver(){this.props.isHost&&(this.showView(5),this.currentOverTask&&this.complete(this.currentOverTask.tid))},ChargeTask.prototype.nvShow=function nvShow(){if(this.hasNotice()){var e=this.getNotice();this.setState({nt:4,notice:e})}else this.setState({nt:0})},ChargeTask.prototype.callJS=function callJS(e){this.acj.push(D.ROOM_TYPE.CALL_CHARNGE,e),this.logger.log(e)},ChargeTask.prototype.chongnengStatus=function chongnengStatus(e){var t=e.type;if(null!=this.props.giftConfig){switch(t){case"ittl":this.getTaskList(e);break;case"ittp":this.intimateTaskUpdateProgress(e);break;case"itts":break;case"ctl":this.getTaskList(e);break;case"ctp":this.chongnengTaskUpdateProgress(e);break;case"cts":this.chongnengTaskUpdateStatu(e);break;case"task_qmyq":this.createIntimateTask(e);break;case"task_qmir":this.refuseIntimateTask(e);break;case"task_qmap":this.shenheTask(e);break;case"task_qmar":this.acceptIntimateTask(e);break;case"task_qmcd":this.intimateOverTime(e);break;case"task_qmbo":case"task_qmeo":this.createNotice(e);break;case"task_qmts":this.intimateStart(e);break;case"task_qmte":this.intimateComplete(e);break;case"task_qmii":this.intimateTaskInvalid(e)}this.logger.log("--\x3e ["+e+"]")}else this.cache.push(e)},ChargeTask.prototype.intimateOverTime=function intimateOverTime(e){var t=e.qmtid,i=this.findIntimateTask(t,1);i&&(i.invalidTime=e.cdt,this.showView(1)),this.createNotice(e)},ChargeTask.prototype.intimateTaskInvalid=function intimateTaskInvalid(e){var t=e.fid;this.delIntimateTask(t,2),this.showView(1)},ChargeTask.prototype.intimateComplete=function intimateComplete(e){var t=this.props,i=t.uid,a=t.giftConfig,r=t.isHost,n=e.qmtid,o=e.etype;if(3!==+o&&4!==+o)this.delTask(n);else{var s=this.findIntimateTask(n,1),c=e.aid,l=e.uid;if(s&&(+i===+l||+i===+c)){var u=new C.default(null,a,r);u.type="task_qmte",u.sn=s.sp,u.tn=s.tn,this.noticeList.push(u),this.nvShow()}setTimeout(this.delTask,2e3,[n])}},ChargeTask.prototype.delTask=function delTask(e){this.delIntimateTask(e,1),this.showView(5)},ChargeTask.prototype.intimateStart=function intimateStart(e){var t=e.qmtid,i=this.findIntimateTask(t,1);i&&(i.st=5),this.currentOverTask=i,this.startVo={id:e.qmtid,tn:e.tn,sn:e.sn,snp:e.snp,gfid:e.gfid,gfc:e.gfc},this.showView(4)},ChargeTask.prototype.intimateTaskUpdateProgress=function intimateTaskUpdateProgress(e){var t=this.props,i=t.isHost,a=t.giftConfig,r=this.state.show,n=this.findIntimateTask(e.tid,1);if(n){if(n.paseCData(e),!n.isFull&&parseInt(n.current,10)>=parseInt(n.total,10)&&i){n.isFull=!0;var o=new C.default(null,a,i);o.type="complete",o.fid=""+n.tid,o.sn=n.sp,o.tn=n.tn,this.noticeList.push(o),this.nvShow()}"list"===r&&this.showView(1)}},ChargeTask.prototype.createIntimateTask=function createIntimateTask(e){var t=this.props,i=t.isHost,a=t.giftConfig;if(i){var r=void 0,n=e.ktfid,o=void 0;(r=this.findIntimateTask(n,2))||(r=new w.default(a),o=!0),r.tid=e.fid,r.uid=e.uid,r.tn=e.tn,r.gid=e.gfid,r.total=e.gfc,r.sp=e.sn,r.tt=2,r.updateGiftInfo(),o&&this.addTask(r),this.showView(1),this.createNotice(e)}},ChargeTask.prototype.refuseIntimateTask=function refuseIntimateTask(e){this.props.isHost?(this.delIntimateTask(e.fid,2),this.tasks.length>0?this.showView(1):this.showView(3)):this.createNotice(e)},ChargeTask.prototype.shenheTask=function shenheTask(e){if(this.props.isHost){var t=e.fid;this.findIntimateTask(t,2).st=1,this.showView(3)}},ChargeTask.prototype.acceptIntimateTask=function acceptIntimateTask(e){var t=this.props.giftConfig,i=e.fid,a=e.qmtid,r=e.is_pass,n=this.findIntimateTask(i,2);if(n||(n=this.findIntimateTask(a,1)),1===+r){var o=void 0;n||((n=new w.default(t)).paseCData(e),o=!0),n.tid=a,n.tt=1,n.st=3,o&&this.addTask(n)}else n&&(n.tt=1,n.st=2),this.checkNotPass(),this.createNotice(e);this.showView(1)},ChargeTask.prototype.chongnengTaskUpdateProgress=function chongnengTaskUpdateProgress(e){var t=this.props.giftConfig,i=this.state.show,a=e.tfid,r=this.findChongNengTask(a),n=void 0;r||(r=new w.default(t),n=!0),r.paseCData(e),n?(this.addTask(r),this.showView(1)):this.showView("list"===i?1:2)},ChargeTask.prototype.chongnengTaskUpdateStatu=function chongnengTaskUpdateStatu(e){var t=e.tfid;this.delChongnengTask(+t),this.showView(1)},ChargeTask.prototype.showView6=function showView6(){this.showView(6)},ChargeTask.prototype.showView=function showView(e){var t=this.state.flag,i=this.getShow(e);switch(e){case 1:this.hasNew=!1,this.setState({show:i,flag:!t});break;case 2:case 3:this.setState({show:i,flag:!t});break;case 4:this.setState({show:i,flag:!t,eff:!0,over:!1,nt:0});break;case 5:this.setState({show:i,over:!0});break;case 6:this.setState({show:i,over:!1,eff:!1})}},ChargeTask.prototype.getShow=function getShow(e){var t=this.props.isHost;return this.hasTask()?1===+e?"list":"small":t?"none":"icon"},ChargeTask.prototype.getTaskList=function getTaskList(e){var t=this.props,i=t.isHost,a=t.giftConfig,r=e.type;if(!i||"ittl"!==r){this.tasks||(this.tasks=[]);var n=e.list;if(n)for(var o=z(n),s=0;s<o.length;s++){var c=z(o[s]),l=new w.default(a);l.paseCData(c),this.checkTaskSome(l,"ctl"===r?1:2)}this.requestTaskList(r)}},ChargeTask.prototype.requestTaskList=function requestTaskList(e){var t=this.props.isHost;this.checkCondition(e)&&this.tasks&&this.tasks.length>0&&this.checkTasks()&&(t?this.anchorGetTask():this.userGetTask())},ChargeTask.prototype.createNotice=function createNotice(e){var t=this.props,i=t.uid,a=t.giftConfig,r=t.isHost,n=void 0;e.uid?n=e.uid:e.tuid&&(n=e.tuid);var o=e.aid;if(i===n||i===o){var s=new C.default(e,a,r);this.noticeList.push(s),this.nvShow()}},ChargeTask.prototype.checkNotPass=function checkNotPass(){this.hasNotPass()&&this.del()},ChargeTask.prototype.addTask=function addTask(e){this.tasks.push(e),this.sortList(),this.hasNew=!0},ChargeTask.prototype.checkCondition=function checkCondition(e){return this.cmdList||(this.cmdList=[]),-1===this.cmdList.indexOf(e)&&this.cmdList.push(e),!!(this.cmdList&&this.cmdList.length>=2)},ChargeTask.prototype.hasTask=function hasTask(){return this.tasks&&this.tasks.length>0},ChargeTask.prototype.sortList=function sortList(){this.hasTask()&&this.tasks.sort(this.onSort)},ChargeTask.prototype.onSort=function onSort(e,t){return 0===+e.tt&&0===+t.tt?parseInt(e.tt,10)===parseInt(t.tt,10)?-1:1:parseInt(e.tt,10)>parseInt(t.tt,10)?-1:1},ChargeTask.prototype.hasNotice=function hasNotice(){return!!(this.noticeList&&this.noticeList.length>0)},ChargeTask.prototype.getNotice=function getNotice(){return this.hasNotice()?this.noticeList.shift():null},ChargeTask.prototype.checkTaskSome=function checkTaskSome(e,t){this.tasks.some(function(i,a,r){return 1===t?+i.tfid===+e.tfid:i.tid===+e.tid})||this.tasks.push(e)},ChargeTask.prototype.checkTasks=function checkTasks(){return this.tasks.some(this.checkIncomplete)},ChargeTask.prototype.checkIncomplete=function checkIncomplete(e){return!e.tn},ChargeTask.prototype.mergeTask=function mergeTask(e){var t=this.props,i=t.isHost,a=t.giftConfig,r=e.length,n=void 0,o=void 0;if(i)for(this.tasks=[],n=0;n<r;n++)(o=new w.default(a)).pasePData(JSON.parse(e[n])),this.tasks.push(o);else for(n=this.tasks.length-1;n>=0;n--){o=this.tasks[n];for(var s=void 0,c=0;c<r;c++){var l=JSON.parse(e[c]);if(o.equals(l)){o.pasePData(l),s=o.hasGift;break}}s||this.tasks.splice(n,1)}this.tasks.sort(this.onSort)},ChargeTask.prototype.updateTask=function updateTask(e){var t=void 0;return(t=1===+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)?this.findChongNengTask(e.tfid):this.findIntimateTask(e.tid,1))?(t.paseCData(e),!0):(this.showView(3),!1)},ChargeTask.prototype.delIntimateTask=function delIntimateTask(e,t){var i=this.findIntimateTask(e,t);if(i){var a=this.tasks.indexOf(i);-1!==+a&&this.tasks.splice(a,1)}},ChargeTask.prototype.delChongnengTask=function delChongnengTask(e){var t=this.findChongNengTask(e);if(t){var i=this.tasks.indexOf(t);-1!==+i&&this.tasks.splice(i,1)}},ChargeTask.prototype.findChongNengTask=function findChongNengTask(e){for(var t=this.tasks.length,i=0;i<t;i++){var a=this.tasks[i];if(+e===+a.tfid)return a}return null},ChargeTask.prototype.findIntimateTask=function findIntimateTask(e,t){if(this.tasks)for(var i=this.tasks.length,a=0;a<i;a++){var r=this.tasks[a];if(+e===+r.tid){if(+t===+r.tt)return r;this.logger.log("chongneng findIntimateTask ",t,"!=",r.tt)}}return null},ChargeTask.prototype.hasNotPass=function hasNotPass(){if(this.tasks)for(var e=this.tasks.length,t=0;t<e;t++){var i=this.tasks[t];if(1===+i.tt&&2===+i.st)return!0}return!1},ChargeTask.prototype.delNotPassTask=function delNotPassTask(){if(this.tasks)for(var e=this.tasks.length-1;e>=0;e--){var t=this.tasks[e];1===+t.tt&&2===+t.st&&this.tasks.splice(e,1)}},ChargeTask.prototype.anchorGetTask=function anchorGetTask(){var e=this;k.httpClient.get(String,"/member/anchor_task/get_anchor_task_released_list_v3").subscribe(function(t){t&&0===t.error?(e.mergeTask(t.data),e.checkNotPass(),e.showView(3)):t&&e.callJS({type:"tip",data:t.msg})})},ChargeTask.prototype.userGetTask=function userGetTask(){var e=this,t=this.props.rid;k.httpClient.get(String,"/member/anchor_task/get_room_task_released_list_v3",{room_id:t}).subscribe(function(t){t&&0===t.error?(e.mergeTask(t.data),e.showView(3)):t&&e.callJS({type:"tip",data:t.msg})})},ChargeTask.prototype.accept=function accept(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.getCsrf().then(function(a){var r=a.name,n=a.value,o={};o[r]=n,o.inst_id=e,k.httpClient.post(String,"/member/anchor_task/accept_intimate_task",o,M).subscribe(function(e){if(e&&0===e.error){var a=e.data;a&&1===a.status&&t.callJS({type:"tip",data:"\u4efb\u52a1\u97002-3\u5206\u949f\u5ba1\u6838\uff0c\u901a\u8fc7\u540e\u5c06\u81ea\u52a8\u6536\u53d6\u793c\u7269"})}else e&&t.callJS({type:"tip",data:e.msg});t.showView(1),null!=i&&i()})})},ChargeTask.prototype.getCsrf=function getCsrf(){return new Promise(function(e,t){Object(P.default)().subscribe(e,t)})},ChargeTask.prototype.refuse=function refuse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.getCsrf().then(function(i){var a=i.name,r=i.value,n={};n[a]=r,n.inst_id=e,k.httpClient.post(String,"/member/anchor_task/reject_intimate_task",n,M).subscribe(function(){null!=t&&t()})})},ChargeTask.prototype.revoke=function revoke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.getCsrf().then(function(i){var a=i.name,r=i.value,n={};n[a]=r,n.inst_id=e,k.httpClient.post(String,"/member/anchor_task/repeal_task_inst",n,M).subscribe(function(){null!=t&&t()})})},ChargeTask.prototype.getOpenStatus=function getOpenStatus(e){var t=this;this.common.get("$DATA").subscribe(function(i){k.httpClient.get(String,"/lapi/interact/anchorTask/getIntimateOpenStatus",{room_id:e,cate2_id:i.room.cate_id},M).subscribe(function(e){if(0===e.error){var i=JSON.parse(e.data);i&&void 0!==i.is_show_icon&&null!==i.is_show_icon&&(t.showIcon=i.is_show_icon),i&&1===i.is_open?t.showView(2):i&&t.callJS({type:"tip",data:i.msg})}})})},ChargeTask.prototype.chongnengComplete=function chongnengComplete(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.getCsrf().then(function(a){var r=a.name,n=a.value,o={};o[r]=n,o.inst_id=e,k.httpClient.post(String,"/member/anchor_task/end_task_inst",o,M).subscribe(function(e){var a=e.data;a&&1===a.is_open&&t.showView(2),null!=i&&i()})})},ChargeTask.prototype.start=function start(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.getCsrf().then(function(i){var a=i.name,r=i.value,n={};n[a]=r,n.inst_id=e,k.httpClient.post(String,"/member/anchor_task/start_intimate_task",n,M).subscribe(function(){null!=t&&t()})})},ChargeTask.prototype.complete=function complete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.getCsrf().then(function(i){var a=i.name,r=i.value,n={};n[a]=r,n.inst_id=e,k.httpClient.post(String,"/member/anchor_task/end_intimate_task",n,M).subscribe(function(){null!=t&&t()})})},ChargeTask.prototype.del=function del(){var e=this;this.getCsrf().then(function(t){var i=t.name,a=t.value,r={};r[i]=a,k.httpClient.post(String,"/member/anchor_task/delete_intimate_task",r,M).subscribe(function(t){var i=t.data;!0===i?(e.delNotPassTask(),e.showView(1)):e.callJS({type:"tip",data:i.msg})})})},ChargeTask}(b.a.Component),l=_applyDecoratedDescriptor(c.prototype,"logger",[a],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"common",[r],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(c.prototype,"acj",[n],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(c.prototype,"giftDataServices",[o],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(c.prototype,"chargeTaskServices",[s],{enumerable:!0,initializer:null}),c);t.default=Object(v.connect)(function mapStateToProps(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).chargeTaskData;return K({},void 0===e?{}:e)})(F)},"7ca7dc":function(e,t,i){e.exports=i("2d6146")("f0df9")},"801ea7":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/effect_7_62a46df.png"},"80a57c":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h,m,b,v,_=i("97a1f0"),y=i("7ca7dc"),g=i("eb3e22"),k=i("e854a7"),S=i("564e7b"),T=i("5c2eee"),P=i("8fe63d"),D=i("42824a"),w=i("caacd2"),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var O=y.default.Service,N=y.default.Store,E=k.default.socketStream,R=(a=N(),r=O(g.DataCenter.common),n=O(g.DataCenter.global),o=O(T.default),s=O(S.default),c=O(w.default),l=O(D.default),u=function(e){function RandomPKFBServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RandomPKFBServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",p,t),_initDefineProp(t,"common",f,t),_initDefineProp(t,"global",d,t),_initDefineProp(t,"configEffectSimpleServices",h,t),_initDefineProp(t,"publicToolsServices",m,t),_initDefineProp(t,"pkCommonServices",b,t),_initDefineProp(t,"pkTAServices",v,t),t.isSubscribe=!1,t.pkData=null,t.statusGetTimes=0,t.overTimer=null,t.pkid=-1,t.closeSvgaPKId=-1,t}return _inherits(RandomPKFBServices,e),RandomPKFBServices.prototype.getStore=function getStore(e){return this.store.getState()[e]},RandomPKFBServices.prototype.updateData=function updateData(e){this.store.dispatch(P.default.updateFBData(e))},RandomPKFBServices.prototype.updateMainPKData=function updateMainPKData(e){var t=(this.getStore("randomPKData")||{}).taskType;(0===e&&"FB"===t||0!==e)&&this.store.dispatch(P.default.updateData({taskType:e}))},RandomPKFBServices.prototype.init=function init(e){var t=this,i=this.config;this.config=Object.assign({},C({},i,e)),this.isSubscribe||(this.isSubscribe=!0,this.startSub=E.subscribe("fbtaskv2status",function(e){if(e&&t.dataCheck(e)){t.statusGetTimes=+e.ts;var i=t.getEndTime(e).endTime;t.pkData=Object.assign({},e,{tsLocal:Date.now(),endTime:i});var a=t.pkCommonServices.getPKKey(t.pkData),r=t.pkData[a.owner]||0,n=t.pkData[a.other]||0,o=e.status,s=void 0===o?0:o,c=e.isdonetask,l=void 0===c?0:c,u=e.donetaskinfo,p=void 0===u?{}:u;t.updateMainPKData("FB"),3===+s&&(t.listenOverTimeOut(5e3),+l&&+r===+p.rid&&t.sendSvga(r,p)),t.pkTAServices.checkClearFooter(),t.updateData({showFBCount:2===+s?1:0,showFB:!0,pkData:C({},t.pkData,{ownerData:r,otherData:n})})}}))},RandomPKFBServices.prototype.dataCheck=function dataCheck(e){return this.enterMsgCheck(e)&&this.pkCommonServices.pktypeCheck(e,"Random")&&this.pkCommonServices.pkidCheck(e,"Random")&&this.pkCommonServices.pkRoomCheck(e)},RandomPKFBServices.prototype.enterMsgCheck=function enterMsgCheck(e){var t=e.pkid,i=e.status,a=void 0===i?0:i,r=(e.ts,-1===this.pkid);return this.pkid=+t,+e.ts>=+this.statusGetTimes&&!(3===+a&&r)},RandomPKFBServices.prototype.clearData=function clearData(e){var t=e.pkId,i=void 0===t?0:t,a=e.arid,r=void 0===a?0:a,n=e.brid,o=void 0===n?0:n,s=e.force,c=void 0===s?0:s,l=this.pkData||{},u=l.pkid,p=l.rida,f=l.ridb;(u>-1&&!(i?+u===+i:+p===+r&&+f===+o)||c)&&(this.clearFBData(),this.pkid=-1,this.closeSvgaPKId=-1)},RandomPKFBServices.prototype.getEndTime=function getEndTime(e){var t=e.status,i=e.ts,a=e.tet,r=i;switch(+t){case 2:r=1e3*a}var n=+r>+i?+r-+i:0;return{leftTime:3===+t?n:0,endTime:n+Date.now()}},RandomPKFBServices.prototype.listenOverTimeOut=function listenOverTimeOut(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;clearTimeout(this.overTimer),this.overTimer=setTimeout(function(){e.clearFBData()},t)},RandomPKFBServices.prototype.clearFBData=function clearFBData(){this.updateMainPKData(0),clearTimeout(this.overTimer),this.pkData=null,this.updateData({showFB:!1,showFBCount:0,pkData:{}})},RandomPKFBServices.prototype.getFbInfo=function getFbInfo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(this.getStore("randomPKData")||{}).pkData,i=void 0===t?{}:t,a=e.donetaskinfo,r=void 0===a?{}:a,n=e.rida,o=e.ridb,s=r.rid;return+s===+n?i.rida||{}:+s===+o&&i.ridb||{}},RandomPKFBServices.prototype.sendSvga=function sendSvga(e,t){this.pkid!==this.closeSvgaPKId&&(this.closeSvgaPKId=this.pkid,this.dysub2(4),this.pkCommonServices.sendSvga("FB",t))},RandomPKFBServices.prototype.dysub2=function dysub2(e){var t=null,i=this.global.get("$ROOM.room_id"),a="16010022C00"+e;switch(a){case"16010022C001A":t={action_code:"16010022C001",event_id:1,type:1};break;case"16010022C004":t={action_code:a,event_id:3,type:1,ext:{r:i}};break;case"16010022C001":case"16010022C002":case"16010022C003":case"16010022C005":case"16010022C006":case"16010022C007":t={action_code:a,event_id:3,type:1}}t&&this.publicToolsServices.dysub2(t)},RandomPKFBServices}(_.Service),p=_applyDecoratedDescriptor(u.prototype,"store",[a],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(u.prototype,"common",[r],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(u.prototype,"global",[n],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(u.prototype,"configEffectSimpleServices",[o],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(u.prototype,"publicToolsServices",[s],{enumerable:!0,initializer:null}),b=_applyDecoratedDescriptor(u.prototype,"pkCommonServices",[c],{enumerable:!0,initializer:null}),v=_applyDecoratedDescriptor(u.prototype,"pkTAServices",[l],{enumerable:!0,initializer:null}),u);t.default=R},"81b5d6":function(e,t,i){e.exports=i("5f575e")("95fad")},"8213f3":function(e,t,i){"use strict";var a,r,n,o=i("1a22b7"),s=i.n(o),c=i("7ca7dc"),l=i("eb3e22"),u=i("503124"),p=i.n(u),f=i("f2b8b7"),d=i("db47a7"),h=i("ac64b0"),m=i("3d4400"),b=i.n(m),v=i("fe4b46"),_=i("25ee84"),y=i("6ec721"),g=(i("03ccaf"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e}),k="/shark/live/src/pages/roomPage/videoAboveModule/components/ChargeTask/ChargeTaskPanel.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var S=(a=(0,c.default.Service)(l.DataCenter.acj),r=function(e){function ChargeTaskPanel(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChargeTaskPanel);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));!function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}(i,"acj",n,i),i.smallImgIndex=0;var a=Object.getPrototypeOf(i);return Object.getOwnPropertyNames(a).forEach(function(e){var t=i[e];"function"===typeof t&&(i[e]=t.bind(i))}),i}return _inherits(ChargeTaskPanel,e),ChargeTaskPanel.prototype.componentDidMount=function componentDidMount(){this.smallImgId=setInterval(this.closeImgChangeHandle,3e3)},ChargeTaskPanel.prototype.componentWillUnmount=function componentWillUnmount(){this.smallImgId&&clearInterval(this.smallImgId)},ChargeTaskPanel.prototype.componentDidUpdate=function componentDidUpdate(e){"list"===e.show&&"small"===this.props.show&&this.closeImgChangeHandle(),"small"===e.show&&"small"===this.props.show&&this.closeImgChangeHandle(!1)},ChargeTaskPanel.prototype.closeImgChangeHandle=function closeImgChangeHandle(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.tasks;this.smallImg&&t&&t.length&&(e&&(this.smallImgIndex+=1),this.smallImgIndex>=t.length&&(this.smallImgIndex=0),this.smallImg.src=t[this.smallImgIndex].giftIcon,this.smallTxt.textContent=t[this.smallImgIndex].current+"/"+t[this.smallImgIndex].total)},ChargeTaskPanel.prototype.clickAddHandle=function clickAddHandle(){this.callJS({type:"add"})},ChargeTaskPanel.prototype.callJS=function callJS(e){this.acj.push(h.ROOM_TYPE.CALL_CHARNGE,e)},ChargeTaskPanel.prototype.onHelpHandle=function onHelpHandle(){var e=this.props.isHost;this.callJS({type:"rule",data:e?1:0})},ChargeTaskPanel.prototype.onClickOpenHandle=function onClickOpenHandle(){var e=this.props.showView;e&&e(3),Object(d.dysub)("click_interact_norm")},ChargeTaskPanel.prototype.clickAddHandle2=function clickAddHandle2(){var e=this.props.model.uid;parseInt(e,10)?this.callJS({type:"invite"}):this.callJS({type:"login"})},ChargeTaskPanel.prototype.drageStart=function drageStart(){this.isDrage=!0},ChargeTaskPanel.prototype.drageEnd=function drageEnd(){var e=this;setTimeout(function(){e.isDrage=!1},0)},ChargeTaskPanel.prototype.onmouseover=function onmouseover(){this.props.isHost||this.closeBtn&&(this.closeBtn.style.display="block")},ChargeTaskPanel.prototype.onmouseleave=function onmouseleave(){this.closeBtn&&(this.closeBtn.style.display="none")},ChargeTaskPanel.prototype.clickHandle=function clickHandle(){if(!this.isDrage){var e=this.props.model.uid;parseInt(e,10)?this.callJS({type:"invite"}):this.callJS({type:"login"})}},ChargeTaskPanel.prototype.onClickOpenHandle2=function onClickOpenHandle2(){if(!this.isDrage){this.props.isHost&&Object(d.dysub)("click_anchorlive_pptask_icon");var e=this.props.showView;e&&e(1),Object(d.dysub)("click_interact_close")}},ChargeTaskPanel.prototype.onclose=function onclose(e){e.stopPropagation(),(0,this.props.onClose)()},ChargeTaskPanel.prototype.render=function render(){var e=this,t=this.props,i=t.show,a=t.nt,r=t.notice,n=t.flag,o=t.isHost,c=t.tasks,l=t.model,u=this.height>580?468:276;return"list"===i?s.a.createElement(p.a,{bounds:"#js-player-dialog",enableUserSelectHack:!1,onDrag:this.drageStart,onStop:this.drageEnd,__source:{fileName:k,lineNumber:189},__self:this},s.a.createElement("div",{className:"ChargeTask-bg",__source:{fileName:k,lineNumber:195},__self:this},s.a.createElement("div",{className:"ChargeTask-title_div",__source:{fileName:k,lineNumber:196},__self:this},s.a.createElement("div",{style:{display:"flex",alignItems:"center"},__source:{fileName:k,lineNumber:197},__self:this},s.a.createElement("p",{className:"ChargeTask-title1",__source:{fileName:k,lineNumber:201},__self:this},"\u4eb2\u5bc6\u4e92\u52a8"),o?s.a.createElement("span",{className:"ChargeTask-img1",onClick:this.clickAddHandle,__source:{fileName:k,lineNumber:203},__self:this}):null),s.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},__source:{fileName:k,lineNumber:209},__self:this},s.a.createElement("p",{className:"ChargeTask-title2",onClick:this.onHelpHandle,__source:{fileName:k,lineNumber:216},__self:this},"\u73a9\u6cd5"),s.a.createElement("p",{className:"ChargeTask-title3",onClick:this.onClickOpenHandle,__source:{fileName:k,lineNumber:222},__self:this},"\u6536\u8d77(\u5171",c.length,"\u4e2a)"),s.a.createElement("span",{className:"ChargeTask-img2",onClick:this.onClickOpenHandle,__source:{fileName:k,lineNumber:228},__self:this}))),s.a.createElement(f.Scrollbars,{autoHide:!0,autoHeight:!0,autoHeightMax:u,__source:{fileName:k,lineNumber:234},__self:this},s.a.createElement("div",{className:"ChargeTask-item_line",style:{marginTop:"0px"},__source:{fileName:k,lineNumber:239},__self:this}),s.a.createElement("div",{__source:{fileName:k,lineNumber:243},__self:this},c.map(function(t){return o?s.a.createElement(_.default,g({task:t,model:l,flag:n},{__source:{fileName:k,lineNumber:246},__self:e})):s.a.createElement(y.default,g({task:t,model:l,flag:n},{__source:{fileName:k,lineNumber:254},__self:e}))})),s.a.createElement(v.default,g({overTime:a,model:l,notice:r},{__source:{fileName:k,lineNumber:264},__self:this}))),!o&&s.a.createElement("button",{className:"ChargeTask-addBtn",onClick:this.clickAddHandle2,__source:{fileName:k,lineNumber:269},__self:this},"\u53d1\u51fa\u4eb2\u5bc6\u9080\u8bf7"))):"small"===i?s.a.createElement(p.a,{bounds:"#js-player-dialog",enableUserSelectHack:!1,onDrag:this.drageStart,onStop:this.drageEnd,__source:{fileName:k,lineNumber:281},__self:this},s.a.createElement("div",{className:"ChargeTask-closeBg",onMouseOver:this.onmouseover,onMouseLeave:this.onmouseleave,__source:{fileName:k,lineNumber:287},__self:this},s.a.createElement("div",{className:"ChargeTask-closeDiv",onClick:this.onClickOpenHandle2,__source:{fileName:k,lineNumber:292},__self:this},s.a.createElement("i",{className:"ChargeTask-closeImg",__source:{fileName:k,lineNumber:296},__self:this}),s.a.createElement("img",{className:"ChargeTask-item_icon",ref:function ref(t){e.smallImg=t},src:b.a,__source:{fileName:k,lineNumber:297},__self:this}),s.a.createElement("p",{className:"ChargeTask-closeTxt",ref:function ref(t){e.smallTxt=t},__source:{fileName:k,lineNumber:304},__self:this},"0/26")),s.a.createElement("div",{className:"ChargeTask-closeOpen",onClick:this.onClickOpenHandle2,__source:{fileName:k,lineNumber:313},__self:this},s.a.createElement("span",{className:"ChargeTask-closeTips",style:{opacity:this.hasNew?"1":"0"},__source:{fileName:k,lineNumber:317},__self:this}),s.a.createElement("span",{className:"ChargeTask-closeOpenImg",__source:{fileName:k,lineNumber:321},__self:this})),s.a.createElement("span",{className:"ChargeTask-normalClose ChargeTask-nc2",ref:function ref(t){return e.closeBtn=t},style:{display:"none"},onClick:this.onclose,__source:{fileName:k,lineNumber:323},__self:this}),s.a.createElement(f.Scrollbars,{autoHide:!0,autoHeight:!0,autoHeightMax:125,hideTracksWhenNotNeeded:!0,style:{position:"absolute",width:"370",height:"125",pointerEvents:"none"},__source:{fileName:k,lineNumber:329},__self:this},s.a.createElement("div",{style:{height:"120px"},__source:{fileName:k,lineNumber:337},__self:this}),s.a.createElement(v.default,g({overTime:a,styleVlue:"height: 90px;pointer-events: auto;",model:l,notice:r},{__source:{fileName:k,lineNumber:338},__self:this}))))):"icon"===i&&1===l.showIcon?s.a.createElement(p.a,{bounds:"#js-player-dialog",enableUserSelectHack:!1,onDrag:this.drageStart,onStop:this.drageEnd,__source:{fileName:k,lineNumber:352},__self:this},s.a.createElement("div",{className:"ChargeTask-normalBg",onMouseOver:this.onmouseover,onMouseLeave:this.onmouseleave,__source:{fileName:k,lineNumber:358},__self:this},s.a.createElement("div",{className:"ChargeTask-normalDiv",onClick:this.clickHandle,__source:{fileName:k,lineNumber:363},__self:this}),s.a.createElement("span",{className:"ChargeTask-normalClose",ref:function ref(t){return e.closeBtn=t},style:{display:"none"},onClick:this.onclose,__source:{fileName:k,lineNumber:367},__self:this}),s.a.createElement(f.Scrollbars,{autoHide:!0,autoHeight:!0,autoHeightMax:125,style:{position:"absolute",width:"370px",pointerEvents:"none"},__source:{fileName:k,lineNumber:373},__self:this},s.a.createElement("div",{style:{height:"120px"},__source:{fileName:k,lineNumber:380},__self:this}),s.a.createElement(v.default,g({overTime:a,styleVlue:"margin-top: 0px;pointer-events: auto;",model:l,notice:r},{__source:{fileName:k,lineNumber:381},__self:this}))))):null},ChargeTaskPanel}(s.a.Component),n=function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(r.prototype,"acj",[a],{enumerable:!0,initializer:null}),r);t.default=S},825940:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/effect_5_8d18e44.png"},832781:function(e,t,i){},"885ba5":function(e,t,i){e.exports=i("5f575e")("0ec06")},"8b0bc6":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/other/pk_start_e7ae979.svga"},"8b2710":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f=i("eeb07d"),d=i("97a1f0"),h=i("7ca7dc"),m=i("eb3e22"),b=i("ffca33"),v=i("ac1e7f"),_=i("b4e150"),y=i("96a2ec"),g=i("155827"),k=i("d1da64"),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var T=h.default.Service,P=(a=(0,h.default.Store)(),r=T(m.DataCenter.global),n=T(v.default),o=T(_.default),s=function(e){function BattleShipRankServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BattleShipRankServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",c,t),_initDefineProp(t,"global",l,t),_initDefineProp(t,"rankDataMapServices",u,t),_initDefineProp(t,"battleShipSocketServices",p,t),t.roomId=+t.global.get("$ROOM.room_id"),t}return _inherits(BattleShipRankServices,e),BattleShipRankServices.prototype.updateHotRankData=function updateHotRankData(e,t){t?this.loadDataService(e,t,"hotRank"):this.store.dispatch(y.default.updateHotRankData(e))},BattleShipRankServices.prototype.updateUserRankData=function updateUserRankData(e,t){t?this.loadDataService(e,t,"userRank"):this.store.dispatch(y.default.updateUserRankData(e))},BattleShipRankServices.prototype.updateAnchorRankData=function updateAnchorRankData(e,t){t?this.loadDataService(e,t,"anchorRank"):this.store.dispatch(y.default.updateAnchorRankData(e))},BattleShipRankServices.prototype.updateAllRankData=function updateAllRankData(e,t){t?this.loadDataService(e,t,"allRank"):this.store.dispatch(y.default.updateAllRankData(e))},BattleShipRankServices.prototype.loadDataService=function loadDataService(e,t,i){var a=this,r=this.getReqParams(e,i);Object(f.forkJoin)(Object(b.default)({url:t.dataUrl,data:r,cacheTimeout:500})).subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]||{},r={};0===+t.error&&t.data&&(r="string"===typeof t.data?d.GSON.parse(t.data):t.data),a.reqRankDataCallback({data:e,rankType:i,resultData:r})})},BattleShipRankServices.prototype.getReqParams=function getReqParams(e,t){var i=null;switch(t){case"userRank":i={type:0===e.activeIndex?1:2,page:0===e.activeIndex?e.normalPageIndex:e.superPageIndex,limit:10};break;case"anchorRank":i={page:0===e.activeIndex?e.normalPageIndex:e.superPageIndex,limit:10};break;case"allRank":i={type:1===e.activeIndex?1:2,page:1===e.activeIndex?e.normalPageIndex:e.superPageIndex}}return i},BattleShipRankServices.prototype.reqRankDataCallback=function reqRankDataCallback(e){var t=e.data,i=e.rankType,a=e.resultData,r=void 0===a?{}:a;switch(i){case"hotRank":var n=this.rankDataMapServices.hotRank(r,this.roomId);this.store.dispatch(y.default.updateHotRankData(S({},t,{rankData:n})));break;case"userRank":var o=this.rankDataMapServices.userRank(r.list,this.roomId),s=0===t.activeIndex?{normalRankData:o}:{superRankData:o},c={};c=0===t.activeIndex?S({},t,{rankData:s,normalRecordCount:r.total_count||0,indentStatus:r.ident_status||0}):S({},t,{rankData:s,superRecordCount:r.total_count||0,indentStatus:r.ident_status||0}),this.store.dispatch(y.default.updateUserRankData(c));break;case"anchorRank":var l=this.rankDataMapServices.anchorRank(r.list,this.roomId),u=0===t.activeIndex?{normalRankData:l}:{superRankData:l},p={};p=0===t.activeIndex?S({},t,{rankData:u,normalRecordCount:r.total_count||0}):S({},t,{rankData:u,superRecordCount:r.total_count||0,indentStatus:r.ident_status||0}),this.store.dispatch(y.default.updateAnchorRankData(p));break;case"allRank":var f=this.rankDataMapServices.allRank(r.list,this.roomId),d=1===t.activeIndex?{normalRankData:f}:{superRankData:f},h={};h=1===t.activeIndex?S({},t,{rankData:d,normalRecordCount:r.total_count||0}):S({},t,{rankData:d,superRecordCount:r.total_count||0}),this.store.dispatch(y.default.updateAllRankData(h))}},BattleShipRankServices.prototype.drawPrize=function drawPrize(e,t,i){var a=[],r=[];i?(a=e.anchorPropList||[],r=e.userPropList||[]):a=e.propList||[];var n={modalInfo:{isFromRank:1,order_id:e.id,reward_type:i?2:1,modalType:k.SUPER_TREASURE_POP,needAuth:!t,propList:a,userProp:r,nickname:e.userName||"",isAnchorReward:i,level:e.carnivalLevel,bonus:e.carnivalAward,userActProp:e.carnivalProp||{},totalYC:e.totalYC}};t?(this.store.dispatch(g.default.updateData(n)),this.store.dispatch(g.default.collect({id:e.id,reward_type:i?2:1}))):(n.showModal=!0,this.store.dispatch(g.default.updateData(n)))},BattleShipRankServices.prototype.drawPrizeCallback=function drawPrizeCallback(e){e.isAnchorReward?this.store.dispatch(y.default.changeAnchorRankStatus({id:e.order_id,status:e.drawStatus})):this.store.dispatch(y.default.changeUserRankStatus({id:e.order_id,status:e.drawStatus}))},BattleShipRankServices}(d.Service),c=_applyDecoratedDescriptor(s.prototype,"store",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(s.prototype,"global",[r],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(s.prototype,"rankDataMapServices",[n],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(s.prototype,"battleShipSocketServices",[o],{enumerable:!0,initializer:null}),s);t.default=P},"8c8308":function(e,t,i){"use strict";var a,r,n,o,s,c=i("1a22b7"),l=i.n(c),u=i("7ca7dc"),p=i("eb3e22"),f=(i("a49ca1"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKCommons/GodWealth/Tips/Tips.js");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var d=u.default.Service,h=(a=d(p.DataCenter.common),r=d(p.DataCenter.global),n=function(e){function Tips(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tips);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(i,"common",o,i),_initDefineProp(i,"global",s,i),i.contentClick=i.contentClick.bind(i),i}return _inherits(Tips,e),Tips.prototype.contentClick=function contentClick(e){var t=this.props.clickCallback;t&&"function"===typeof t&&t(e)},Tips.prototype.render=function render(){var e=this,t=this.props,i=t.state,a=void 0===i?0:i,r=t.contentConfig,n=void 0===r?[]:r,o=t.dataMap,s=void 0===o?{}:o;return n&&n.length?l.a.createElement("div",{className:"PKCommonGodWealthTips is-state"+a,onClick:this.contentClick,__source:{fileName:f,lineNumber:32},__self:this},l.a.createElement("div",{className:"PKCommonGodWealthTips-content",__source:{fileName:f,lineNumber:33},__self:this},n.map(function(t,i){return l.a.createElement("span",{key:i,className:[1===t.highcolor?"PKCommonGodWealthTips-hc":"PKCommonGodWealthTips-sp",1===t.filltype?"PKCommonGodWealthTips-max":"",t.extclass||""].join(" "),title:1===t.filltype?s[t.value]:"",__source:{fileName:f,lineNumber:36},__self:e},1===t.filltype||2===t.filltype?s[t.value]||"":t.value)}))):null},Tips}(l.a.Component),o=_applyDecoratedDescriptor(n.prototype,"common",[a],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(n.prototype,"global",[r],{enumerable:!0,initializer:null}),n);t.default=h},"8c83e1":function(e,t,i){},"8ce8db":function(e,t,i){"use strict";i.r(t);i("528016");var a=i("7ca7dc"),r=new(i("d9c137").default);a.default.render(r,document.getElementById("js-player-video-above"))},"8dd4e6":function(e,t,i){e.exports=i("5f575e")("878cf")},"8ded18":function(e,t,i){"use strict";var a=i("1a22b7"),r=i.n(a),n=i("292183"),o=i.n(n),s=i("447d8e"),c=(i("eb3e22"),i("c26963")),l="/shark/live/src/pages/roomPage/videoAboveModule/components/Csgo5EDetail/Entrance.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var u=Object(a.lazy)(function(){return i.e("Csgo5eDetail_f5a30a7").then(i.bind(null,"7461c9"))}),p=function(e){function csgoEntrance(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,csgoEntrance),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(csgoEntrance,e),csgoEntrance.prototype.render=function render(){var e=this.props.isShow;return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",{__source:{fileName:l,lineNumber:15},__self:this}),__source:{fileName:l,lineNumber:15},__self:this},e?r.a.createElement(u,{__source:{fileName:l,lineNumber:17},__self:this}):null)},csgoEntrance}(r.a.Component);p.propTypes={isShow:o.a.bool};t.default=Object(s.connect)(function mapStateToProps(e){return{isShow:e.csgoPanelReducer.isShow}})(Object(c.default)(p))},"8e506f":function(e,t,i){e.exports=i("5f575e")("36538")},"8e8ae5":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h=i("97a1f0"),m=i("7ca7dc"),b=i("eb3e22"),v=i("104af8"),_=i("5264d4"),y=i("e5eb77"),g=i("8dd4e6"),k=i("e854a7"),S=i("564e7b"),T=i("94d865"),P=i("caacd2"),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var w=m.default.Service,C=m.default.Store,O=k.default.socketStream,N=(a=C(),r=w(b.DataCenter.common),n=w(b.DataCenter.global),o=w(S.default),s=w(P.default),c=function(e){function RandomPKTAServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RandomPKTAServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",l,t),_initDefineProp(t,"common",u,t),_initDefineProp(t,"global",p,t),_initDefineProp(t,"publicToolsServices",f,t),_initDefineProp(t,"pkCommonServices",d,t),t.config={},t.checkStatus=!1,t.pkData=null,t.msgCommonAwardSub=null,t.statusGetTimes=0,t.msgCommonAward$=new v.Subject,t}return _inherits(RandomPKTAServices,e),RandomPKTAServices.prototype.getStore=function getStore(e){return this.store.getState()[e]},RandomPKTAServices.prototype.init=function init(e){var t=this,i=this.config;this.config=Object.assign({},D({},i,e)),this.msgCommonAwardSub||(this.msgCommonAward$=new v.Subject,this.msgCommonAwardSub=O.subscribe("comm_award",function(e){t.msgCommonAward$.next(e)}),Object(_.combineLatest)(this.msgCommonAward$).subscribe(function(e){var i=e[0];if(i&&i.pkid&&t.dataCheck(i)){t.statusGetTimes=+i.ts,t.pkData=Object.assign({},i,{tsLocal:Date.now()});var a=t.checkAward(t.pkData);t.updateData({showTaskAwardFooter:a,pkAwardData:D({},t.pkData)}),a&&t.checkAutoClearFooter(t.pkData)}}))},RandomPKTAServices.prototype.checkClearFooter=function checkClearFooter(){(this.getStore("bannerPKTAData")||{}).showTaskAwardFooter&&!this.checkStatus&&this.updateData({showTaskAwardFooter:!1})},RandomPKTAServices.prototype.checkAutoClearFooter=function checkAutoClearFooter(e,t){var i=this;this.checkStatus=!0,this.clearSub&&this.clearSub.unsubscribe&&this.clearSub.unsubscribe();var a=3===+this.getOwnerBuffInfo(e).stype,r=a?1e4:5e3;return this.clearSub=Object(g.timer)(r,r).pipe(Object(y.take)(1)).subscribe(function(){return i.checkStatus=!1,a?(i.clearTAData(),!1):((t||i.checkTaskDoing()>0)&&i.updateData({showTaskAwardFooter:!1}),!1)}),this.clearSub},RandomPKTAServices.prototype.clearTAData=function clearTAData(){this.pkData=null,this.updateData({showTaskAwardFooter:!1,pkAwardData:{}})},RandomPKTAServices.prototype.updateData=function updateData(e){this.store.dispatch(T.PKBannerActions.updateTAData(e))},RandomPKTAServices.prototype.updateMainPKData=function updateMainPKData(e){this.store.dispatch(T.PKBannerActions.updateData({taskType:e}))},RandomPKTAServices.prototype.dataCheck=function dataCheck(e){return this.enterMsgCheck(e)&&1===+e.pktype&&this.pkCommonServices.pkidCheck(e,"Banner")&&this.pkCommonServices.pkRoomCheck(e)},RandomPKTAServices.prototype.enterMsgCheck=function enterMsgCheck(e){var t=e.pkid;return this.pkid=+t,+e.ts>=+this.statusGetTimes},RandomPKTAServices.prototype.clearData=function clearData(e){var t=e.pkId,i=void 0===t?0:t,a=e.arid,r=void 0===a?0:a,n=e.brid,o=void 0===n?0:n,s=e.force,c=void 0===s?0:s,l=this.pkData||{},u=l.pkid,p=l.rida,f=l.ridb;(u>-1&&!(i?+u===+i:+p===+r&&+f===+o)||c)&&(this.clearTAData(),this.pkid=-1)},RandomPKTAServices.prototype.checkAward=function checkAward(e){var t=this.getOwnerBuffInfo(e),i=t.atype,a=t.stype;return+i>0&&+a>0},RandomPKTAServices.prototype.checkTaskDoing=function checkTaskDoing(){var e=(this.getStore("bannerPKFBData")||{}).pkData;if(e&&2===+e.status)return 1;var t=(this.getStore("bannerPKGTData")||{}).pkData,i=(void 0===t?{}:t).ownerData;return i&&+i.status>=1&&+i.status<=3?2:0},RandomPKTAServices.prototype.checkBuffing=function checkBuffing(e){var t=e||{},i=t.rida,a=t.ridb,r=this.pkCommonServices.getPKKey({rida:{rid:i},ridb:{rid:a}}),n=t[r.extOwner]||{},o=t[r.extOther]||{},s=n.atype,c=n.stype,l=o.atype,u=o.stype;return{ownerBuffing:(1===+s||2===+s)&&2===+c,otherBuffing:(1===+l||2===+l)&&2===+u}},RandomPKTAServices.prototype.getOwnerBuffInfo=function getOwnerBuffInfo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.rida,i=e.ridb;return e[this.pkCommonServices.getPKKey({rida:{rid:t},ridb:{rid:i}}).extOwner]||{}},RandomPKTAServices.prototype.dysub2=function dysub2(e){this.publicToolsServices.dysub2(e)},RandomPKTAServices}(h.Service),l=_applyDecoratedDescriptor(c.prototype,"store",[a],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"common",[r],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(c.prototype,"global",[n],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(c.prototype,"publicToolsServices",[o],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(c.prototype,"pkCommonServices",[s],{enumerable:!0,initializer:null}),c);t.default=N},"8e94ae":function(e,t,i){"use strict";var a,r,n,o,s,c,l,u=i("1a22b7"),p=i.n(u),f=i("7ca7dc"),d=i("eb3e22"),h=i("4e6092"),m=i("3d354b"),b=(i("8c83e1"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKCommons/TaskState/TaskState.js");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var v=f.default.Service,_=(a=v(d.DataCenter.common),r=v(d.DataCenter.global),n=v(h.default),o=function(e){function TaskState(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskState);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return _initDefineProp(i,"common",s,i),_initDefineProp(i,"global",c,i),_initDefineProp(i,"randomPKServices",l,i),i.contentClick=i.contentClick.bind(i),i}return _inherits(TaskState,e),TaskState.prototype.renderContent=function renderContent(){var e=this.props,t=e.contentConfig,i=e.dataMap,a=void 0===i?{}:i,r=e.extChildren;return r||(t?p.a.createElement(m.default,{contentConfig:t,dataMap:a,__source:{fileName:b,lineNumber:31},__self:this}):null)},TaskState.prototype.contentClick=function contentClick(e){var t=this.props.clickCallback;t&&"function"===typeof t&&t(e)},TaskState.prototype.render=function render(){var e=this.props.tips,t=void 0===e?null:e,i=this.renderContent();return i?p.a.createElement("div",{className:"PKCommonState",__source:{fileName:b,lineNumber:51},__self:this},p.a.createElement("div",{className:"PKCommonState-content",__source:{fileName:b,lineNumber:52},__self:this},p.a.createElement("div",{className:"PKCommonState-desc",onClick:this.contentClick,__source:{fileName:b,lineNumber:53},__self:this},i),t||null)):null},TaskState}(p.a.Component),s=_applyDecoratedDescriptor(o.prototype,"common",[a],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(o.prototype,"global",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"randomPKServices",[n],{enumerable:!0,initializer:null}),o);t.default=_},"8fe63d":function(e,t,i){"use strict";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}i.d(t,"RANDOMPK_UPDATE_DATA",function(){return a}),i.d(t,"RANDOMPK_GT_UPDATE_DATA",function(){return r}),i.d(t,"RANDOMPK_FB_UPDATE_DATA",function(){return n}),i.d(t,"RANDOMPK_TA_UPDATE_DATA",function(){return o}),i.d(t,"RANDOMPK_GWT_UPDATE_DATA",function(){return s}),i.d(t,"RANDOMPK_CPS_UPDATE_DATA",function(){return c});var a="RANDOMPK_UPDATE_DATA",r="RANDOMPK_GT_UPDATE_DATA",n="RANDOMPK_FB_UPDATE_DATA",o="RANDOMPK_TA_UPDATE_DATA",s="RANDOMPK_GWT_UPDATE_DATA",c="RANDOMPK_CPS_UPDATE_DATA",l=function(e){function RandomPKAction(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RandomPKAction),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(RandomPKAction,e),RandomPKAction.updateData=function updateData(e){return{type:a,payload:e}},RandomPKAction.updateGTData=function updateGTData(e){return{type:r,payload:e}},RandomPKAction.updateFBData=function updateFBData(e){return{type:n,payload:e}},RandomPKAction.updateTAData=function updateTAData(e){return{type:o,payload:e}},RandomPKAction.updateGWTData=function updateGWTData(e){return{type:s,payload:e}},RandomPKAction.updateCPSData=function updateCPSData(e){return{type:c,payload:e}},RandomPKAction}(i("97a1f0").Action);t.default=l},"91f2cd":function(e,t,i){"use strict";var a=i("1a22b7"),r=i.n(a),n=i("447d8e"),o=i("2bd00b");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var s=function(e){function GiftTaskState(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftTaskState),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(GiftTaskState,e),GiftTaskState.prototype.getLocEndTime=function getLocEndTime(e){var t=this.props.pkData,i=void 0===t?{}:t,a=i.ts,r=i.tsLocal,n=void 0===r?0:r,o=(e.tst,1e3*e.tet);return(+o>+a?+o-+a:0)+n},GiftTaskState.prototype.render=function render(){var e=this.props.pkData,t=(void 0===e?{}:e).ownerData,i=t.status,a=t.tst,n=t.tet,s=this.getLocEndTime(t);return 3===+i?r.a.createElement(o.default,{type:1,title:"\u4efb\u52a1\u9636\u6bb5",total:Math.max(+n-a,0),endtime:s,__source:{fileName:"/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/GiftTask/GiftTaskState.js",lineNumber:24},__self:this}):null},GiftTaskState}(r.a.Component);t.default=Object(n.connect)(function mapStateToProps(e){var t=e.bannerPKGTData;return{pkData:(void 0===t?{}:t).pkData}})(s)},"9256e7":function(e,t,i){"use strict";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}i.d(t,"VIDEOABOVE_ADD_COUNT",function(){return a}),i.d(t,"VIDEOABOVE_FIND_COUNT",function(){return r}),i.d(t,"VIDEOABOVE_RECEIVE_COUNT",function(){return n});var a="VIDEOABOVE_ADD_COUNT",r="VIDEOABOVE_FIND_COUNT",n="VIDEOABOVE_RECEIVE_COUNT",o=function(e){function VideoAboveAction(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VideoAboveAction),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(VideoAboveAction,e),VideoAboveAction.addCount=function addCount(e){return{type:a,payload:e}},VideoAboveAction.findCount=function findCount(e){return{type:r,payload:e}},VideoAboveAction.receiveCount=function receiveCount(e){return{type:n,payload:e}},VideoAboveAction}(i("97a1f0").Action);t.default=o},"933f63":function(e,t,i){},"94d865":function(e,t,i){"use strict";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}i.d(t,"PK_BANNER_UPDATE_INFO",function(){return a}),i.d(t,"PK_BANNER_FB_UPDATE_INFO",function(){return r}),i.d(t,"PK_BANNER_GT_UPDATE_INFO",function(){return n}),i.d(t,"PK_BANNER_TA_UPDATE_INFO",function(){return o}),i.d(t,"PK_BANNER_GWT_UPDATE_INFO",function(){return s}),i.d(t,"PKBannerActions",function(){return c});var a="PK_BANNER_UPDATE_INFO",r="PK_BANNER_FB_UPDATE_INFO",n="PK_BANNER_GT_UPDATE_INFO",o="PK_BANNER_TA_UPDATE_INFO",s="PK_BANNER_GWT_UPDATE_INFO",c=function(e){function PKBannerActions(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PKBannerActions),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(PKBannerActions,e),PKBannerActions.updateData=function updateData(e){return{type:a,payload:e}},PKBannerActions.updateFBData=function updateFBData(e){return{type:r,payload:e}},PKBannerActions.updateGTData=function updateGTData(e){return{type:n,payload:e}},PKBannerActions.updateTAData=function updateTAData(e){return{type:o,payload:e}},PKBannerActions.updateGWTData=function updateGWTData(e){return{type:s,payload:e}},PKBannerActions}(i("97a1f0").Action)},960890:function(e,t,i){e.exports=i("d1db8c")("c9c82")},"96a2ec":function(e,t,i){"use strict";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}i.d(t,"BATTLESHIP_UPDATE_HOT_RANK_DATA",function(){return a}),i.d(t,"BATTLESHIP_UPDATE_USER_RANK_DATA",function(){return r}),i.d(t,"BATTLESHIP_CHANGE_USER_RANK_STATUS",function(){return n}),i.d(t,"BATTLESHIP_UPDATE_ANCHOR_RANK_DATA",function(){return o}),i.d(t,"BATTLESHIP_CHANGE_ANCHOR_RANK_STATUS",function(){return s}),i.d(t,"BATTLESHIP_UPDATE_ALL_RANK_DATA",function(){return c});var a="BATTLESHIP_UPDATE_HOT_RANK_DATA",r="BATTLESHIP_UPDATE_USER_RANK_DATA",n="BATTLESHIP_CHANGE_USER_RANK_STATUS",o="BATTLESHIP_UPDATE_ANCHOR_RANK_DATA",s="BATTLESHIP_CHANGE_ANCHOR_RANK_STATUS",c="BATTLESHIP_UPDATE_ALL_RANK_DATA",l=function(e){function BattleShipRankAction(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BattleShipRankAction),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(BattleShipRankAction,e),BattleShipRankAction.updateHotRankData=function updateHotRankData(e){return{type:a,payload:e}},BattleShipRankAction.updateUserRankData=function updateUserRankData(e){return{type:r,payload:e}},BattleShipRankAction.changeUserRankStatus=function changeUserRankStatus(e){return{type:n,payload:e}},BattleShipRankAction.updateAnchorRankData=function updateAnchorRankData(e){return{type:o,payload:e}},BattleShipRankAction.changeAnchorRankStatus=function changeAnchorRankStatus(e){return{type:s,payload:e}},BattleShipRankAction.updateAllRankData=function updateAllRankData(e){return{type:c,payload:e}},BattleShipRankAction}(i("97a1f0").Action);t.default=l},"97a1f0":function(e,t,i){e.exports=i("2d6146")("11f13")},"97a851":function(e,t,i){e.exports=i("5f575e")("8e846")},984767:function(e,t,i){"use strict";var a=i("1a22b7"),r=i.n(a),n=(i("43359e"),"/shark/live/src/pages/roomPage/videoAboveModule/components/RandomPK/StartEffect/StartEffect.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var o=function(e){function Effect(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Effect);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.formatNum=function(e){return+e&&+e>999?"999+":+e>=0?e:"--"},t.state={isShow:!0},t.contentTimer=null,t}return _inherits(Effect,e),Effect.prototype.componentDidMount=function componentDidMount(){var e=this;clearTimeout(this.contentTimer),this.contentTimer=setTimeout(function(){e.setState({isShow:!1})},2e3)},Effect.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.contentTimer)},Effect.prototype.renderContent=function renderContent(){var e=this.props,t=e.ownerData,i=void 0===t?{}:t,a=e.otherData,o=void 0===a?{}:a;return r.a.createElement("div",{className:"RandomPKStartEffect",__source:{fileName:n,lineNumber:41},__self:this},r.a.createElement("div",{className:"RandomPKStartEffect-avatarBox is-left",__source:{fileName:n,lineNumber:42},__self:this},r.a.createElement("div",{className:"RandomPKStartEffect-vCC",__source:{fileName:n,lineNumber:43},__self:this},r.a.createElement("div",{className:"RandomPKStartEffect-avtBg",__source:{fileName:n,lineNumber:44},__self:this},r.a.createElement("div",{className:"RandomPKStartEffect-avatar",__source:{fileName:n,lineNumber:45},__self:this},r.a.createElement("img",{width:"100%",height:"100%",src:i.avt,alt:"",__source:{fileName:n,lineNumber:46},__self:this})),r.a.createElement("span",{className:"RandomPKStartEffect-winNum",__source:{fileName:n,lineNumber:48},__self:this},this.formatNum(+i.winnum),"\u8fde\u80dc")),r.a.createElement("p",{className:"RandomPKStartEffect-nick",title:i.nn,__source:{fileName:n,lineNumber:50},__self:this},i.nn||"--"))),r.a.createElement("div",{className:"RandomPKStartEffect-avatarBox is-right",__source:{fileName:n,lineNumber:53},__self:this},r.a.createElement("div",{className:"RandomPKStartEffect-vCC",__source:{fileName:n,lineNumber:54},__self:this},r.a.createElement("div",{className:"RandomPKStartEffect-avtBg",__source:{fileName:n,lineNumber:55},__self:this},r.a.createElement("div",{className:"RandomPKStartEffect-avatar",__source:{fileName:n,lineNumber:56},__self:this},r.a.createElement("img",{width:"100%",height:"100%",src:o.avt,alt:"",__source:{fileName:n,lineNumber:57},__self:this})),r.a.createElement("span",{className:"RandomPKStartEffect-winNum",__source:{fileName:n,lineNumber:59},__self:this},this.formatNum(o.winnum),"\u8fde\u80dc")),r.a.createElement("p",{className:"RandomPKStartEffect-nick",title:o.nn,__source:{fileName:n,lineNumber:61},__self:this},o.nn||"--"))))},Effect.prototype.render=function render(){var e=this.state.isShow;return void 0!==e&&e?this.renderContent():null},Effect}(r.a.Component);t.default=o},"98f6e4":function(e,t,i){"use strict";i.d(t,"default",function(){return a});var a=function(){function Notice(e,t,i){if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Notice),this.type=0,this.fid=0,this.gfid=0,this.gfc=0,this.uid=0,this.etype=0,this.isHost=0,this.isHost=i,e){if(this.type=e.type,e.fid?this.fid=e.fid:e.qmtid&&(this.fid=e.qmtid),e.gfid){this.gfid=e.gfid;var a=void 0,r=t;if(r)for(var n=0;n<r.length;n++){var o=r[n];if(o&&+o.id===+this.gfid){a=o;break}}this.gn=a?a.name:"\u793c\u7269"}this.tn=e.tn||"\u4efb\u52a1",this.sn=e.sn,this.gfc=e.gfc,this.uid=e.uid,this.etype=e.etype}}return Notice.prototype.getBtnStr=function getBtnStr(){var e="";switch(this.type){case"task_qmcd":e="\u4e00\u952e\u8d60\u9001";break;case"task_qmbo":e="\u7ade\u4ef7";break;case"task_qmeo":e="\u63d0\u4ef7";break;case"complete":e="\u5f00\u59cb\u8868\u6f14"}return e},Notice.prototype.getImgType=function getImgType(){switch(this.type){case"task_qmir":case"task_qmte":case"task_qmar":case"task_qmcd":case"task_qmbo":case"task_qmeo":return 1}return 0},Notice.prototype.getMsg=function getMsg(){var e=this.isHost,t=void 0;switch(this.type){case"task_qmyq":t=this.getColorStr(this.getSubStr(this.sn))+"\u51fa\u4ef7"+this.gfc+"\u4e2a"+this.getColorStr(this.getSubStr(this.gn))+"\u9080\u8bf7\u4e3b\u64ad\u5b8c\u6210"+this.getColorStr(this.getSubStr(this.tn));break;case"task_qmir":t="\u4e3b\u64ad\u62d2\u7edd\u4e86\u60a8\u7684\u9080\u8bf7"+this.getColorStr(this.getSubStr(this.tn));break;case"task_qmar":t=e?this.getColorStr(this.getSubStr(this.sn))+"\u7684\u9080\u8bf7"+this.getColorStr(this.getSubStr(this.tn))+"\u672a\u901a\u8fc7\u5ba1\u6838":"\u60a8\u7684\u9080\u8bf7"+this.getColorStr(this.getSubStr(this.tn))+"\u672a\u901a\u8fc7\u5ba1\u6838";break;case"task_qmte":t=e?this.getColorStr(this.getSubStr(this.sn))+"\u53d1\u8d77\u7684"+this.getColorStr(this.getSubStr(this.tn))+"\u6709\u6548\u65f6\u95f4\u5185\u672a\u8fbe\u6210\u793c\u7269\u8981\u6c42\uff0c\u4efb\u52a1\u53d6\u6d88":"\u60a8\u7684\u9080\u8bf7"+this.getColorStr(this.getSubStr(this.tn))+"\u672a\u53ca\u65f6\u9001\u6ee1\u793c\u7269\uff0c\u5df2\u5931\u6548";break;case"task_qmcd":t=" \u60a8\u7684\u9080\u8bf7"+this.getColorStr(this.getSubStr(this.tn))+"\u672a\u5b8c\u6210\u793c\u7269\u8d60\u9001 ";break;case"task_qmbo":t="\u60a8\u7684\u9080\u8bf7"+this.getColorStr(this.getSubStr(this.tn))+"\u88ab"+this.getColorStr(this.getSubStr(this.sn))+"\u62a2\u6ce8\u51a0\u540d";break;case"task_qmeo":t="\u4e3b\u64ad\u63a5\u6536\u9080\u8bf7\u6570\u91cf\u6709\u9650\uff0c\u60a8\u7684\u9080\u8bf7\u88ab\u571f\u8c6a\u6324\u6389";break;case"complete":t=this.getColorStr(this.getSubStr(this.sn))+"\u793c\u7269\u5df2\u9001\u6ee1\uff0c\u4e3b\u64ad\u8bf7\u5c3d\u5feb\u5b8c\u6210"+this.getColorStr(this.getSubStr(this.tn))}return t},Notice.prototype.getSubStr=function getSubStr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return e&&e.length>t?e.substr(0,t)+"...":e},Notice.prototype.getColorStr=function getColorStr(e){return"<span style='color:"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ff7700")+";'>"+e+"</span>"},Notice}()},"98fcaa":function(e,t,i){"use strict";var a=i("31aae1"),r=i("57bed2"),n=i("c0a7ed"),o=i("0af0fc"),s=i("f50a48"),c=i("315183"),l=i("427283"),u=i("a3816a"),p=i("af6312"),f=i("36360e"),d=i("2bab9a"),h=i("3145e5");t.default=Object.assign.apply(Object,[{},a.default,r.default,n.default,o.default,s.default,c.default,l.default,u.default,p.default].concat(d.default,h.default,[{videoAboveModuleSwitch:f.default.videoAboveModuleSwitch}]))},999443:function(e,t){e.exports=vendor3d72ea64bdb3506ffdba},"9a2910":function(e,t,i){},"9b550e":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/effect_1_640a3be.png"},"9e772b":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/other/finishedFB_e7b51dc.svga"},a1f7dc:function(e,t,i){e.exports=i("5f575e")("c0835")},a3816a:function(e,t,i){"use strict";var a=i("a847ed"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},n={isOpen:0,isPanelShow:0,isLoadComp:0,configs:{},isUserLimit:1,isAnchor:!1},o={roomRankData:{},userRecordsData:{},roomRecordsData:{},curPageNum:1};t.default={playFishBallData:function PlayFishBallReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];switch(t.type){case a.PLAY_FISH_BALL_UPDATE_INFO:return Object.assign({},e,r({},t.payload));case a.PLAY_FAISH_BALL_TOGGLE_PANEL:return t.payload===e.isPanelShow?e:r({},e,{isPanelShow:t.payload,isLoadComp:!0});default:return e}},playFishBallRankData:function PlayFishBallRankReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.PLAY_FAISH_BALL_UPDATE_RANK_DATA:return Object.assign({},e,r({},t.payload));default:return e}}}},a49ca1:function(e,t,i){},a5eecc:function(e,t,i){},a7e05f:function(e,t,i){},a820dd:function(e,t,i){},a847ed:function(e,t,i){e.exports=i("5f575e")("3def8")},a8a416:function(e,t,i){"use strict";var a,r,n,o=i("7ca7dc"),s=i("97a1f0"),c=i("722b8a"),l=i("f68984"),u=i("b00678"),p=i("eeb07d"),f=i("960890"),d=i("ffca33"),h=i("20ec0b"),m=i("a847ed"),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};var v=(a=(0,o.default.Service)(h.default),r=function(){function PlayFishBallEpics(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlayFishBallEpics),function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}(this,"giftSendServices",n,this)}return PlayFishBallEpics.prototype.getRoomRankData=function getRoomRankData(e){return e.ofType(m.PLAY_FAISH_BALL_RANK_DATA).pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(p.forkJoin)(Object(d.default)({url:"/japi/interactnc/web/hitFishBall/roomRank",type:"post",data:b({},t),noCache:!0,contentType:"form"}))}),Object(l.map)(function(e){var t=e[0];if(0===+t.error){var i={};return i="string"===typeof t.data?s.GSON.parse(t.data):t.data,m.default.updateRankData({roomRankData:i})}return m.default.empty("")}))},PlayFishBallEpics.prototype.getUserRecordsData=function getUserRecordsData(e){return e.ofType(m.PLAY_FAISH_BALL_USER_RECORD_DATA).pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(p.forkJoin)(Object(d.default)({url:"/japi/interactnc/web/hitFishBall/myRecord",type:"post",data:b({},t),noCache:!0,contentType:"form"}),Object(f.of)(t))}),Object(l.map)(function(e){var t=e[0],i=e[1].pageNum;if(0===+t.error){var a={};return a="string"===typeof t.data?s.GSON.parse(t.data):t.data,m.default.updateRankData({userRecordsData:a,curPageNum:i})}return m.default.empty("")}))},PlayFishBallEpics.prototype.getRoomRecordsData=function getRoomRecordsData(e){return e.ofType(m.PLAY_FAISH_BALL_ROOM_RECORD_DATA).pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(p.forkJoin)(Object(d.default)({url:"/japi/interactnc/web/hitFishBall/roomRecord",type:"post",data:b({},t),noCache:!0,contentType:"form"}),Object(f.of)(t))}),Object(l.map)(function(e){var t=e[0],i=e[1].pageNum;if(0===+t.error){var a={};return a="string"===typeof t.data?s.GSON.parse(t.data):t.data,m.default.updateRankData({roomRecordsData:a,curPageNum:i})}return m.default.empty("")}))},PlayFishBallEpics.prototype.checkSendGift=function checkSendGift(e){var t=this;return e.ofType(m.PLAY_FAISH_BALL_CHECK_SEND_GIFT).pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(p.forkJoin)(Object(d.default)({url:"/japi/interactnc/web/hitFishBall/check",type:"post",data:{rid:t.rid,cateId:t.cateId,userLevel:t.userLevel,clientSys:"web",clientVersion:""},noCache:!0,contentType:"form"}),Object(f.of)(t))}),Object(l.map)(function(e){var i=e[0],a=e[1].giftId;if(0===+i.error){1===+("string"===typeof i.data?s.GSON.parse(i.data):i.data).switch?t.giftSendServices.sendGift(a,1,function(){c.default.info("\u8d60\u9001\u6210\u529f")}):c.default.info("\u65e0\u6cd5\u8d60\u9001\u8be5\u793c\u7269")}return m.default.empty("")}))},PlayFishBallEpics}(),n=function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(r.prototype,"giftSendServices",[a],{enumerable:!0,initializer:null}),r);t.default=v},a9d218:function(e,t,i){"use strict";var a,r,n,o,s,c,l,u=i("1a22b7"),p=i.n(u),f=i("7ca7dc"),d=i("eb3e22"),h=i("564e7b"),m=(i("dcc982"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKCommons/GodWealth/Pop/Pop.js");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var b=f.default.Service,v={1:"\u4e3b\u64ad",2:"PK\u8d21\u732e\u7b2c\u4e00\u7528\u6237",3:"\u53c2\u4e0e\u8d21\u732e\u7684\u6c34\u53cb"},_=(a=b(d.DataCenter.common),r=b(d.DataCenter.global),n=b(h.default),o=function(e){function Pop(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Pop);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"common",s,i),_initDefineProp(i,"global",c,i),_initDefineProp(i,"toolsServices",l,i),_possibleConstructorReturn(i,t)}return _inherits(Pop,e),Pop.prototype.renderDoing=function renderDoing(){var e=this.props.pkData.taskInfo,t=void 0===e?{}:e,i=t.numSc,a=t.totalSc,r=t.packetYc,n=+i>=0?this.toolsServices.formatDecimals(+i/100,2):0,o=+a>=0?this.toolsServices.formatDecimals(+a/100,2):0,s=+n>=+o?100:this.toolsServices.formatDecimals(+n/+o*100,2),c=+r>=0?this.toolsServices.formatDecimals(+r/100,2):0;return p.a.createElement("div",{className:"PKCommonGodWealthPop-content",__source:{fileName:m,lineNumber:31},__self:this},p.a.createElement("div",{className:"PKCommonGodWealthPop-barBox",__source:{fileName:m,lineNumber:32},__self:this},p.a.createElement("span",{className:"PKCommonGodWealthPop-bar",style:{width:(s||0)+"%"},__source:{fileName:m,lineNumber:33},__self:this}),p.a.createElement("p",{className:"PKCommonGodWealthPop-barnum",__source:{fileName:m,lineNumber:34},__self:this},p.a.createElement("span",{className:"PKCommonGodWealthPop-hc",__source:{fileName:m,lineNumber:35},__self:this},n),p.a.createElement("span",{className:"PKCommonGodWealthPop-sp",__source:{fileName:m,lineNumber:36},__self:this},"/",o))),p.a.createElement("div",{className:"PKCommonGodWealthPop-awardBox",__source:{fileName:m,lineNumber:40},__self:this},"\u8d22\u795e\u793c\u5305\uff1a",c,"\u9c7c\u7fc5"))},Pop.prototype.renderOver=function renderOver(){var e=this.props.pkData.taskInfo,t=void 0===e?{}:e,i=t.packetYc,a=t.useNum,r=t.receType,n=t.topUname,o=i>=0?this.toolsServices.formatDecimals(i/100,2):0,s=2===+r?n:v[r];return p.a.createElement("div",{className:"PKCommonGodWealthPop-content1",__source:{fileName:m,lineNumber:55},__self:this},p.a.createElement("div",{className:"PKCommonGodWealthPop-taskokBox",__source:{fileName:m,lineNumber:56},__self:this},p.a.createElement("i",{className:"PKCommonGodWealthPop-taskokIcon",__source:{fileName:m,lineNumber:57},__self:this}),p.a.createElement("div",{className:"PKCommonGodWealthPop-taskokInfo",__source:{fileName:m,lineNumber:58},__self:this},p.a.createElement("p",{className:"PKCommonGodWealthPop-taskokItem",__source:{fileName:m,lineNumber:59},__self:this},"\u8d22\u795e\u793c\u5305\uff1a",o,"\u9c7c\u7fc5"),1===+r||2===+r?p.a.createElement("p",{className:"PKCommonGodWealthPop-taskokItem",__source:{fileName:m,lineNumber:62},__self:this},"PK\u7ed3\u675f\u540e",p.a.createElement("span",{className:"PKCommonGodWealthPop-hcF1",__source:{fileName:m,lineNumber:63},__self:this},s||""),"\u53ef\u9886\u53d6"):p.a.createElement("p",{className:"PKCommonGodWealthPop-taskokItem",__source:{fileName:m,lineNumber:66},__self:this},"\u53ef\u9886\u53d6\u4eba\u6570\uff1a",p.a.createElement("span",{className:"PKCommonGodWealthPop-hcF1",__source:{fileName:m,lineNumber:67},__self:this},a,"\u4eba"),"(\u53c2\u4e0ePK\u7528\u6237)"))))},Pop.prototype.render=function render(){var e=this.props,t=e.pkData,i=e.show,a=void 0===i?0:i,r=e.togglePopShow,n=e.extClass,o=t.taskInfo,s=void 0===o?{}:o,c=s.status,l=s.result,u=s.totalSc,f=s.rate,d=s.receType,h=1===+c&&1===+l||2===+c,b=u>=0?this.toolsServices.formatDecimals(u/100,2):"--";return p.a.createElement("div",{onMouseEnter:function onMouseEnter(){return r(1)},onMouseLeave:function onMouseLeave(){return r(0)},className:"PKCommonGodWealthPop "+(a?"is-show":"")+" "+n,__source:{fileName:m,lineNumber:85},__self:this},h?this.renderOver():this.renderDoing(),p.a.createElement("div",{className:"PKCommonGodWealthPop-helpBox",__source:{fileName:m,lineNumber:92},__self:this},p.a.createElement("p",{className:"PKCommonGodWealthPop-helpItem",__source:{fileName:m,lineNumber:93},__self:this},"\u6211\u65b9\u7d2f\u8ba1PK\u503c\u8fbe\u5230",p.a.createElement("span",{className:"PKCommonGodWealthPop-hcF",__source:{fileName:m,lineNumber:94},__self:this},b),"\uff0c \u5728PK\u7ed3\u675f\u540e\uff0c\u80dc\u65b9\u76f4\u64ad\u95f4\u8d22\u795e\u5c06\u643a\u5e26\u672c\u573aPK\u6536\u76ca",p.a.createElement("span",{className:"PKCommonGodWealthPop-hcF",__source:{fileName:m,lineNumber:96},__self:this},+f>=0?f:"--","%"),"\u9c7c\u7fc5\u793c\u5305\u964d\u4e34\uff1b"),p.a.createElement("p",{className:"PKCommonGodWealthPop-helpItem",__source:{fileName:m,lineNumber:99},__self:this},"PK\u7ed3\u675f\u540e\u80dc\u65b9",p.a.createElement("span",{className:"PKCommonGodWealthPop-hcF",__source:{fileName:m,lineNumber:100},__self:this},v[d]||""),"\u53ef\u9886\u53d6\u8d22\u795e\u793c\u5305\u3002")))},Pop}(p.a.Component),s=_applyDecoratedDescriptor(o.prototype,"common",[a],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(o.prototype,"global",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"toolsServices",[n],{enumerable:!0,initializer:null}),o);t.default=_},ac1e7f:function(e,t,i){"use strict";var a,r,n,o=i("97a1f0"),s=i("7ca7dc"),c=i("eeb9b8"),l=i("4f0921"),u=i.n(l),p=i("449403"),f=i.n(p);function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var d=(a=(0,s.default.Service)(c.default),r=function(e){function RankDataMapServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RankDataMapServices);for(var a=arguments.length,r=Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}(i,"barServices",n,i),_possibleConstructorReturn(i,t)}return _inherits(RankDataMapServices,e),RankDataMapServices.prototype.hotRank=function hotRank(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{gameRankData:this.hotRankMap(e[2],t),assumeRankData:this.hotRankMap(e[1],t)}},RankDataMapServices.prototype.userRank=function userRank(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1],a=[];return t.forEach(function(t){var r=t.prop||[],n=[],o=e.barServices.returnExpireData(t.dateline,1),s=t.carnival_prop||{};r.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.push({prop_id:e.prop_id,num:e.num||1,prop_name:e.prop_name||"\u672a\u77e5\u9053\u5177",prop_icon:e.prop_icon,propIcon:e.prop_icon||f.a,propName:e.prop_name||"\u672a\u77e5\u9053\u5177",propCount:e.num||1})}),a.push({id:+t.id,giftCount:t.gift_num||1,giftIcon:t.gift_icon,giftName:t.gift_name||"--",rid:+t.room_id,curRid:i,propList:n,anchorName:t.anchor_name||"--",openTime:o.M+"-"+o.d+" "+o.h+":"+o.m,status:+t.status,carnivalAward:+t.carnival_award||0,carnivalProp:{prop_id:s.prop_id,num:s.num,prop_name:s.prop_name||"\u672a\u77e5\u9053\u5177",prop_icon:s.prop_icon,propIcon:s.prop_icon||f.a,propName:s.prop_name||"\u672a\u77e5\u9053\u5177",propCount:s.num},carnivalLevel:t.carnival_level,totalYC:t.ta,awardId:t.award_id})}),a},RankDataMapServices.prototype.anchorRank=function anchorRank(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1],a=[];return t.forEach(function(t){var r=t.user_award||[],n=t.anchor_award||[],o=[],s=[],c=e.barServices.returnExpireData(t.dateline,1),l=t.carnival_prop||{};r.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.push({prop_id:e.prop_id,num:e.num||1,prop_name:e.prop_name||"\u672a\u77e5\u9053\u5177",prop_icon:e.prop_icon||f.a,propIcon:e.prop_icon||f.a,propName:e.prop_name||"\u672a\u77e5\u9053\u5177",propCount:e.num||1})}),n.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.push({prop_id:e.prop_id,num:e.num||1,prop_name:e.prop_name||"\u672a\u77e5\u9053\u5177",prop_icon:e.prop_icon||f.a,propIcon:e.prop_icon||f.a,propName:e.prop_name||"\u672a\u77e5\u9053\u5177",propCount:e.num||1})}),a.push({id:+t.id,giftCount:t.gift_num||1,giftIcon:t.gift_icon,giftName:t.gift_name||"--",rid:+t.room_id,curRid:i,userPropList:o,anchorPropList:s,userName:t.nickname||"--",anchorName:t.anchor_name||"--",openTime:c.M+"-"+c.d+" "+c.h+":"+c.m,status:+t.status,carnivalAward:+t.carnival_award||0,carnivalProp:{prop_id:l.prop_id,num:l.num,prop_name:l.prop_name||"\u672a\u77e5\u9053\u5177",prop_icon:l.prop_icon,propIcon:l.prop_icon||f.a,propName:l.prop_name||"\u672a\u77e5\u9053\u5177",propCount:l.num},carnivalLevel:t.carnival_level,totalYC:t.ta,awardId:t.award_id})}),a},RankDataMapServices.prototype.allRank=function allRank(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1],a=[];return t.forEach(function(t){var r=t.user_award||[],n=t.anchor_award||[],o=[],s=[],c=e.barServices.returnExpireData(t.dateline,1),l=t.carnival_prop||{};r.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.push({propIcon:e.prop_icon||f.a,propName:e.prop_name||"\u672a\u77e5\u9053\u5177",propCount:e.num||1})}),n.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.push({propIcon:e.prop_icon||f.a,propName:e.prop_name||"\u672a\u77e5\u9053\u5177",propCount:e.num||1})}),a.push({id:+t.id,giftCount:t.gift_num||1,giftIcon:t.gift_icon||f.a,giftName:t.gift_name||"\u672a\u77e5\u9053\u5177",rid:+t.room_id,userPropList:o,anchorPropList:s,curRid:i,userName:t.nickname||"--",anchorName:t.anchor_name||"--",openTime:c.M+"-"+c.d+" "+c.h+":"+c.m,carnivalAward:+t.carnival_award||0,carnivalProp:{prop_id:l.prop_id,num:l.num,prop_name:l.prop_name||"\u672a\u77e5\u9053\u5177",prop_icon:l.prop_icon,propIcon:l.prop_icon||f.a,propName:l.prop_name||"\u672a\u77e5\u9053\u5177",propCount:l.num},carnivalLevel:t.carnival_level,totalYC:t.ta,awardId:t.award_id})}),a},RankDataMapServices.prototype.hotRankMap=function hotRankMap(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return Array.from({length:10}).map(function(i,a){var r=e[a];return r?{isActive:+r.rid&&+r.rid===+t?1:0,rid:+r.rid,curRid:t,anchorAvatar:r.avatar||u.a,anchorName:r.nn||"\u865a\u4f4d\u4ee5\u5f85",isLottery:+r.isLuckyLottery,value:r.hot}:{rid:0,curRid:t,anchorAvatar:u.a,anchorName:"\u865a\u4f4d\u4ee5\u5f85",isLottery:0,value:"--"}})},RankDataMapServices}(o.Service),n=function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(r.prototype,"barServices",[a],{enumerable:!0,initializer:null}),r);t.default=d},ac44db:function(e,t,i){"use strict";var a=i("0e8fe2");t.default=a.default},ac64b0:function(e,t,i){e.exports=i("5f575e")("55d33")},ada0c0:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/other/winTodraw_116b0b9.svga"},af6312:function(e,t,i){"use strict";var a=i("e2f88f"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},n={};t.default={chargeTaskData:function ChargeTaskReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];switch(t.type){case a.CHARGE_TASK_UPDATE_INFO:return Object.assign({},e,r({},t.payload));default:return e}}}},b00678:function(e,t,i){e.exports=i("2d6146")("86f8b")},b00728:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/effect_8_5bbc419.png"},b067ea:function(e,t,i){e.exports=i("5f575e")("6792d")},b2a5ef:function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h,m,b=i("97a1f0"),v=i("7ca7dc"),_=i("eb3e22"),y=i("b66a4c"),g=i("e854a7"),k=i("564e7b"),S=i("55e860"),T=i("81b5d6"),P=i("caacd2"),D=i("42824a"),w=i("8fe63d"),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var O=v.default.Service,N=v.default.Store,E=g.default.socketStream,R=(a=N(),r=O(_.DataCenter.common),n=O(_.DataCenter.global),o=O(k.default),s=O(P.default),c=O(D.default),l=function(e){function RandomPKServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RandomPKServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",u,t),_initDefineProp(t,"common",p,t),_initDefineProp(t,"global",f,t),_initDefineProp(t,"publicToolsServices",d,t),_initDefineProp(t,"pkCommonServices",h,t),_initDefineProp(t,"pkTAServices",m,t),t.isSubscribe=!1,t.jsonpConfig=null,t.pkGTData=null,t.statusGetTimes=0,t.overTimer=null,t.loopTimer=null,t.loopTimerCont=[],t.pkid=-1,t.closeTipsId=-1,t.closeSvgaPKId=-1,t.nickname="",t}return _inherits(RandomPKServices,e),RandomPKServices.prototype.setNickName=function setNickName(){this.nickname=this.global.get("USER_INFO.nickname")},RandomPKServices.prototype.getStore=function getStore(e){return this.store.getState()[e]},RandomPKServices.prototype.updateData=function updateData(e){this.store.dispatch(w.default.updateGTData(e))},RandomPKServices.prototype.updateMainPKData=function updateMainPKData(e){var t=(this.getStore("randomPKData")||{}).taskType;(0===e&&"GT"===t||0!==e)&&this.store.dispatch(w.default.updateData({taskType:e}))},RandomPKServices.prototype.checkMainPKStatus=function checkMainPKStatus(){var e=this.getStore("randomPKData"),t=e.showSwitch,i=void 0!==t&&t,a=e.pkState;return i&&(void 0===a?0:a)>0},RandomPKServices.prototype.init=function init(e){var t=this,i=this.config;this.config=Object.assign({},C({},i,e)),this.setNickName(),this.isSubscribe||(this.isSubscribe=!0,this.startSub=E.subscribe("pkgifttaskv2status",function(e){if(e&&t.dataCheck(e)){t.statusGetTimes=+e.ts,t.pkData=Object.assign({},e,{tsLocal:Date.now()});var i=t.pkCommonServices.getPKKey(t.pkData),a=t.pkData[i.owner]||{},r=t.pkData[i.other]||{},n=a.status,o=void 0===n?0:n,s=a.isdoneht,c=void 0===s?0:s,l=a.unames,u=void 0===l?[]:l,p=(a.buff,t.getEndTime(e,a)),f=p.endTime,d=p.leftTime;t.pkData.endTime=f,t.updateMainPKData("GT"),3===+o&&d>0?(t.initLoopTimer(u),t.showSendGiftGuide(d)):t.destroyLoopTimer(),4===+o&&(t.listenOverTimeOut(5e3),+c&&t.sendSvga(a)),t.pkTAServices.checkClearFooter(),t.updateData({showGTCount:3===+o?1:0,showGT:!0,pkData:C({},t.pkData,{ownerData:a,otherData:r})})}}))},RandomPKServices.prototype.dataCheck=function dataCheck(e){return this.enterMsgCheck(e)&&2===+e.pktype&&this.pkCommonServices.pkidCheck(e,"Random")&&this.pkCommonServices.pkRoomCheck(e)},RandomPKServices.prototype.enterMsgCheck=function enterMsgCheck(e){var t=e.pkid,i=e.status,a=-1===this.pkid;return this.pkid=+t,+e.ts>=+this.statusGetTimes&&!(4===+i&&a)},RandomPKServices.prototype.clearData=function clearData(e){var t=e.pkId,i=void 0===t?0:t,a=e.arid,r=void 0===a?0:a,n=e.brid,o=void 0===n?0:n,s=e.force,c=void 0===s?0:s,l=this.pkGTData||{},u=l.rida,p=void 0===u?{}:u,f=l.ridb,d=void 0===f?{}:f,h=i?this.pkid===i:+p.rid===+r&&+d.rid===+o;(this.pkid>-1&&!h||c)&&(this.updateMainPKData(0),this.clearReducer(),this.destroyLoopTimer(),this.pkid=-1,this.closeTipsId=-1,this.closeSvgaPKId=-1)},RandomPKServices.prototype.getEndTime=function getEndTime(e,t){var i=e.ts,a=t.status,r=t.tst,n=t.tet,o=i;switch(+a){case 2:o=1e3*r;break;case 3:o=1e3*n}var s=+o>+i?+o-+i:0;return{leftTime:3===+a?s:0,endTime:s+Date.now()}},RandomPKServices.prototype.listenOverTimeOut=function listenOverTimeOut(e){var t=this;clearTimeout(this.overTimer),this.overTimer=setTimeout(function(){t.clearReducer()},e)},RandomPKServices.prototype.clearReducer=function clearReducer(){clearTimeout(this.overTimer),this.pkData=null,this.updateData({showGTCount:0,showGT:!1,pkData:{}})},RandomPKServices.prototype.getLoopTimerCont=function getLoopTimerCont(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length){for(var t=[],i=0;i<e.length;i++){var a=e[i].slice(4,-1);a===this.nickname?t.unshift(a):t.push(a)}this.loopTimerCont=t.concat(this.loopTimerCont).slice(0,50)}},RandomPKServices.prototype.initLoopTimer=function initLoopTimer(e){var t=this;this.loopTimer&&clearInterval(this.loopTimer),this.getLoopTimerCont(e),this.loopTimerCont.length&&(this.sendFadeTips(),this.loopTimer=setInterval(function(){t.sendFadeTips()},400))},RandomPKServices.prototype.destroyLoopTimer=function destroyLoopTimer(){this.loopTimerCont=[],clearInterval(this.loopTimer)},RandomPKServices.prototype.sendFadeTips=function sendFadeTips(){if(this.loopTimerCont.length&&this.checkMainPKStatus()){var e=this.getFadeOffset();if(e){var t=this.loopTimerCont.shift();Object(S.default)(t,C({},e),{type:"RandomPk",during:1e3,location:"left"})}}else this.destroyLoopTimer()},RandomPKServices.prototype.getFadeOffset=function getFadeOffset(){var e=y.default.find(".RandomPKGiftTaskNum");return e?y.default.getPositionByRef(e):null},RandomPKServices.prototype.showSendGiftGuide=function showSendGiftGuide(e){this.pkid===this.closeTipsId||this.pkCommonServices.isAnchor()||(this.dysub2("tips"),this.closeTipsId=this.pkid,Object(T.default)({content:"PK\u4efb\u52a1\u5df2\u5f00\u542f\uff0c\u9001\u4e2a\u5c0f\u793c\u7269\u5e2e\u4e3b\u64ad\u5b8c\u6210\u4efb\u52a1\u5427\uff01",type:"normal",duration:Math.min(e,1e4),showClose:!0}))},RandomPKServices.prototype.sendSvga=function sendSvga(e){this.pkid!==this.closeSvgaPKId&&(this.closeSvgaPKId=this.pkid,this.pkCommonServices.sendSvga("GT",e))},RandomPKServices.prototype.dysub2=function dysub2(e){var t=null;switch(e){case"tips":t={action_code:"160100227005",event_id:3,type:1};break;case"question":t={action_code:"160100227006",event_id:3,type:1}}t&&this.publicToolsServices.dysub2(t)},RandomPKServices}(b.Service),u=_applyDecoratedDescriptor(l.prototype,"store",[a],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(l.prototype,"common",[r],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(l.prototype,"global",[n],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(l.prototype,"publicToolsServices",[o],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(l.prototype,"pkCommonServices",[s],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(l.prototype,"pkTAServices",[c],{enumerable:!0,initializer:null}),l);t.default=R},b33ade:function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f=i("1a22b7"),d=i.n(f),h=i("447d8e"),m=i("7ca7dc"),b=i("eb3e22"),v=i("8e8ae5"),_=i("caacd2"),y=i("2bd00b");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var g=m.default.Service,k=(a=g(b.DataCenter.common),r=g(b.DataCenter.global),n=g(v.default),o=g(_.default),s=function(e){function TaskAwardFooter(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskAwardFooter);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"common",c,i),_initDefineProp(i,"global",l,i),_initDefineProp(i,"pkTAServices",u,i),_initDefineProp(i,"pkCommonServices",p,i),_possibleConstructorReturn(i,t)}return _inherits(TaskAwardFooter,e),TaskAwardFooter.prototype.getLocEndTime=function getLocEndTime(e){var t=this.props.pkAwardData,i=void 0===t?{}:t,a=i.ts,r=i.tsLocal,n=void 0===r?0:r,o=1e3*e.buffEndTime;return(+o>+a?+o-+a:0)+n},TaskAwardFooter.prototype.render=function render(){var e=this.props.pkAwardData,t=void 0===e?{}:e,i=t.rida,a=t.ridb,r=t[this.pkCommonServices.getPKKey({rida:{rid:i},ridb:{rid:a}}).extOwner]||{},n=r.buffStartTime,o=r.buffEndTime,s=r.buffRate,c=this.getLocEndTime(r),l=+s>=0?s+"%":"";return this.pkTAServices.checkBuffing(t)?d.a.createElement(y.default,{type:2,title:l+"\u52a0\u6210",total:Math.max(+o-n,0),endtime:c,__source:{fileName:"/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/TaskAward/TaskAwardCount.js",lineNumber:42},__self:this}):null},TaskAwardFooter}(d.a.Component),c=_applyDecoratedDescriptor(s.prototype,"common",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(s.prototype,"global",[r],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(s.prototype,"pkTAServices",[n],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(s.prototype,"pkCommonServices",[o],{enumerable:!0,initializer:null}),s);t.default=Object(h.connect)(function mapStateToProps(e){var t=e.bannerPKTAData;return{pkAwardData:(void 0===t?{}:t).pkAwardData}})(k)},b354d6:function(e,t,i){"use strict";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}i.d(t,"ANCHORTASKCENTER_UPDATE_DATA",function(){return a});var a="ANCHORTASKCENTER_UPDATE_DATA",r=function(e){function AnchorTaskCenterAction(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AnchorTaskCenterAction),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(AnchorTaskCenterAction,e),AnchorTaskCenterAction.updateData=function updateData(e){return{type:a,payload:e}},AnchorTaskCenterAction.fetchNormalTask=function fetchNormalTask(e){return{type:"ANCHORTASKCENTER_FETCH_NORMAL_TASK",payload:e}},AnchorTaskCenterAction.fetchTimeLimitTask=function fetchTimeLimitTask(e){return{type:"ANCHORTASKCENTER_FETCH_TIMELIMIT_TASK",payload:e}},AnchorTaskCenterAction.fetchMyReward=function fetchMyReward(e){return{type:"ANCHORTASKCENTER_FETCH_MYREWARD",payload:e}},AnchorTaskCenterAction}(i("97a1f0").Action);t.default=r},b3a00b:function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h,m,b,v,_,y,g=i("97a1f0"),k=i("7ca7dc"),S=i("db47a7"),T=i("97a851"),P=i.n(T),D=i("eb3e22"),w=i("e854a7"),C=i("94d865"),O=i("555639"),N=i("755488"),E=i("f489b9"),R=i("166b02"),A=i("1a2843"),j=i("8e8ae5"),K=i("6505c5"),I=i("caacd2"),B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var z=k.default.Store,G=k.default.Service,M=w.default.socketStream,F=P.a.decode,x=(a=z(),r=G(D.DataCenter.global),n=G(O.default),o=G(R.default),s=G(A.default),c=G(j.default),l=G(K.default),u=G(I.default),p=function(e){function PKBannerServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PKBannerServices);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"store",f,i),_initDefineProp(i,"global",d,i),_initDefineProp(i,"broadcastManagerServices",h,i),_initDefineProp(i,"bannerPKGTServices",m,i),_initDefineProp(i,"bannerPKFBServices",b,i),_initDefineProp(i,"bannerPKTAServices",v,i),_initDefineProp(i,"bannerPKGWTServices",_,i),_initDefineProp(i,"pkCommonServices",y,i),i.roomId=Number(i.global.get("$ROOM.room_id")),_possibleConstructorReturn(i,t)}return _inherits(PKBannerServices,e),PKBannerServices.prototype.init=function init(){var e=this;this.roomId=Number(this.global.get("$ROOM.room_id")),M.subscribe("apkgac",function(t){return e.apkgacMsgHandler(t)}),M.subscribe("apkb",function(t){return e.apkbMsgHandler(t)}),M.subscribe("apkt",function(t){return e.apktMsgHandler(t)}),M.subscribe("apkn",function(t){return e.apknMsgHandler(t)}),M.subscribe(E.default.gbroadcast,function(t){return e.showBroadcast(t)}),this.pkCommonServices.configFlow().subscribe(function(t){e.taskConfig=t||{},e.store.dispatch(C.PKBannerActions.updateData({taskConfig:e.taskConfig}))})},PKBannerServices.prototype.apkgacMsgHandler=function apkgacMsgHandler(e){this.updateTaskInfo(e)},PKBannerServices.prototype.apkbMsgHandler=function apkbMsgHandler(e){if(7!==+e.cmd){var t=void 0;1===+e.cmd?(t=1,this.bannerPKGTServices.clearData({force:1}),this.bannerPKFBServices.clearData({force:1}),this.bannerPKTAServices.clearData({force:1}),this.bannerPKGWTServices.clearData({force:1})):3===+e.cmd?(t=2,this.bannerPKGTServices.clearData({force:1}),this.bannerPKFBServices.clearData({force:1}),this.bannerPKTAServices.clearData({force:1}),this.bannerPKGWTServices.clearData({force:1})):4===+e.cmd?t=4:5===+e.cmd||6===+e.cmd?t=5:2!==+e.cmd&&9!==+e.cmd||(t=0),this.updateRoleInfo(e),this.updatePKBannerInfo(t,e),this.updateTreasureInfo(e),this.updateTaskInfo(e)}this.showBroadcast(e)},PKBannerServices.prototype.apktMsgHandler=function apktMsgHandler(e){var t=1;2===+e.st?t=3:3===+e.st?t=3:4===+e.st&&(t=4),this.updateRoleInfo(e),this.updatePKBannerInfo(t,e),this.updateTreasureInfo(e),this.updateTaskInfo(e)},PKBannerServices.prototype.apknMsgHandler=function apknMsgHandler(e){8!==+e.cmd&&9!==+e.cmd&&10!==+e.cmd&&14!==e.cmd&&24!==e.cmd||this.updateRoleInfo(e)},PKBannerServices.prototype.updateRoleInfo=function updateRoleInfo(e){var t=this.store.getState().pkBannerData,i=void 0===t?{}:t,a=void 0,r=void 0,n=void 0,o=void 0;e.ai&&e.bi?(a=F(e.ai)||{},r=F(e.bi)||{}):(a=i.ai,r=i.bi,a&&a.toJS&&(a=a.toJS()),r&&r.toJS&&(r=r.toJS())),e.ac?(n=parseInt(e.ac,10),o=parseInt(e.bc,10)):(n=parseInt(i.ac,10),o=parseInt(i.bc,10)),this.store.dispatch(C.PKBannerActions.updateData({ai:a,bi:r,ac:n,bc:o}))},PKBannerServices.prototype.changePkState=function changePkState(e){this.store.dispatch(C.PKBannerActions.updateData({isMaiMaiPkState:e}))},PKBannerServices.prototype.updatePKBannerInfo=function updatePKBannerInfo(e,t){var i=this.store.getState().pkBannerData,a=void 0===i?{}:i,r=B({},t),n=r.arid,o=r.brid,s=r.lt,c=r.rt,l=r.ac,u=r.bc,p=r.pki,f=r.punish,d=void 0===e?a.isMaiMaiPkState:e;s=s||a.lt,c=c||a.rt,l=parseInt(l||a.ac,10),u=parseInt(u||a.bc,10),p=p||"",f=f||"";var h=2===e?2e3:0,m=(new Date).getTime()+1e3*s+h,b=void 0;n&&(b=+n===this.roomId?1:0),this.store.dispatch(C.PKBannerActions.updateData({isMaiMaiPkState:d,endTime:m,lt:s,rt:c,ac:l,bc:u,pki:p,isHomeCourt:b,punish:f,arid:n,brid:o})),this.bannerPKGTServices.clearData({arid:n,brid:o}),this.bannerPKFBServices.clearData({arid:n,brid:o}),this.bannerPKTAServices.clearData({arid:n,brid:o}),this.bannerPKTAServices.clearData({arid:n,brid:o})},PKBannerServices.prototype.updateTreasureInfo=function updateTreasureInfo(e){var t=this.store.getState().pkBannerData,i=void 0===t?{}:t,a=B({},e),r=a.tsid,n=a.tscn,o=a.tsio;o=+(o||i.tsio);var s=+(n||i.totalC);this.store.dispatch(C.PKBannerActions.updateData({tsio:o,tsid:r,totalC:s}))},PKBannerServices.prototype.haveGotChest=function haveGotChest(e){this.store.dispatch(C.PKBannerActions.updateData({gotTsid:e}))},PKBannerServices.prototype.updateTaskInfo=function updateTaskInfo(e){var t=this.store.getState().pkBannerData,i=void 0===t?{}:t,a=B({},e),r=a.gac,n=a.gbc,o=a.gtst;o=+(o||i.gtst);var s=r/100,c=n/100,l=i.showTaskMovieSign+1;this.store.dispatch(C.PKBannerActions.updateData({gtst:o,showTaskMovieSign:l,taskGac:s,taskGbc:c}))},PKBannerServices.prototype.updateTaskFoldState=function updateTaskFoldState(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";"normal"!==e&&"fold"!==e&&"close"!==e&&this.store.dispatch(C.PKBannerActions.updateData({taskStatus:"normal"})),this.store.dispatch(C.PKBannerActions.updateData({taskStatus:e}))},PKBannerServices.prototype.showBroadcast=function showBroadcast(e){if(4===+e.cmd&&e.ac!==e.bc)this.showPkResultBroadcast(e);else if(7===+e.cmd){var t=e.ai,i=void 0===t?"":t,a=e.bi,r=void 0===a?"":a,n=F(i)||{},o=F(r)||{};this.showPKDarinageBroadcast(n.nn,o.nn,e.grid)}else if(e.type===E.default.gbroadcast){var s=JSON.parse(e.gbcc);if(!s||7!==+s.gbcss||"apkwb"!==s.type)return;this.showPKDarinageBroadcast(s.an,s.bn,s.drid)}},PKBannerServices.prototype.showPkResultBroadcast=function showPkResultBroadcast(e){var t=this.store.getState().pkBannerData,i=t.ai,a=void 0===i?{}:i,r=t.bi,n=void 0===r?{}:r,o=void 0,s={};if(+e.ac>+e.bc?(e.ua&&(o=F(e.ua)),s=a):(e.ub&&(o=F(e.ub)),s=n),o&&0!==+o.cb){var c=this.broadcastManagerServices.getBroadcast(Object(N.PTLCreatorFactory)("result")({nn1:o.nn,nn2:s.nn,ct:o.cb?o.cb:0}),this.getOption());this.broadcastManagerServices.addBroadcast(c)}},PKBannerServices.prototype.showPKDarinageBroadcast=function showPKDarinageBroadcast(e,t,i){var a=this.broadcastManagerServices.getBroadcast(Object(N.PTLCreatorFactory)("drainage")({nn1:e,nn2:t}),this.getOption({rid:i}));this.broadcastManagerServices.addBroadcast(a)},PKBannerServices.prototype.getOption=function getOption(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getOptionCreator()(e)},PKBannerServices.prototype.getOptionCreator=function getOptionCreator(){var e=this;return this.getWithClickOptionCreator(function clickHandleCreator(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).rid;return t&&+t!==+e.global.get("$ROOM.room_id")?function(){window.open("/special/jump/"+t),Object(S.dysub2)({action_code:"16010021V001",event_id:1,type:1})}:void 0})},PKBannerServices.prototype.getWithClickOptionCreator=function getWithClickOptionCreator(e){var t=this;return Object(N.OptionCreatorFactory)(function planeCreator(){var e=t.broadcastManagerServices.getKeyframes([{transform:"translate(-100%, 0)"}]);return t.broadcastManagerServices.addKeyframes(e),e},e)},PKBannerServices}(g.Service),f=_applyDecoratedDescriptor(p.prototype,"store",[a],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(p.prototype,"global",[r],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(p.prototype,"broadcastManagerServices",[n],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(p.prototype,"bannerPKGTServices",[o],{enumerable:!0,initializer:null}),b=_applyDecoratedDescriptor(p.prototype,"bannerPKFBServices",[s],{enumerable:!0,initializer:null}),v=_applyDecoratedDescriptor(p.prototype,"bannerPKTAServices",[c],{enumerable:!0,initializer:null}),_=_applyDecoratedDescriptor(p.prototype,"bannerPKGWTServices",[l],{enumerable:!0,initializer:null}),y=_applyDecoratedDescriptor(p.prototype,"pkCommonServices",[u],{enumerable:!0,initializer:null}),p);t.default=x},b4e150:function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h,m,b=i("97a1f0"),v=i("eb3e22"),_=i("7ca7dc"),y=i("4df597"),g=i("960890"),k=i("104af8"),S=i("0f636f"),T=i("748d25"),P=(i("f68984"),i("cb8c6f")),D=i("a1f7dc"),w=i("ffca33"),C=i("e854a7"),O=i("885ba5"),N=i("20ec0b"),E=i("555639"),R=i("b66a4c"),A=i("fce537"),j=i("155827"),K=i("c92f4a"),I=i("d1da64"),B=i("4cf735"),z=i("0c39a2"),G=i("612669"),M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _objectWithoutProperties(e,t){var i={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a]);return i}function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var F=_.default.Service,x=_.default.Store,L=C.default.socketStream,W=C.default.socketProxy,V=["","\u4e00","\u4e8c","\u4e09"],U=(a=x(),r=F(v.DataCenter.global),n=F(N.default),o=F(E.default),s=F(z.default),c=F(N.default),l=function(e){function BattleShipSocketServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BattleShipSocketServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",u,t),_initDefineProp(t,"global",p,t),_initDefineProp(t,"giftSendServices",f,t),_initDefineProp(t,"broadcastManagerServices",d,t),_initDefineProp(t,"battleShipServices",h,t),_initDefineProp(t,"GiftCommonServices",m,t),t.handleTimer=function(){var e=new Date,i=new Date(t.endTime).getTime()-e.getTime();(i=parseInt(i/1e3,10))<=0&&(clearInterval(t.giftTimer),t.giftTimer=null,i=0),t.deadsec$.next(i)},t.giftTimer=null,t.pool$=new y.BehaviorSubject([]),t.endTime=0,t.mcpoolsite$=new k.Subject,t.ts=0,t.reciveTreasureInfo$=new y.BehaviorSubject({}),t.deadsec$=new y.BehaviorSubject(0),t.mcpoolsite$.pipe(Object(T.filter)(function(e){var i=e.zone;return parseInt(i,10)===parseInt(t.zoneId(),10)}),Object(T.filter)(function(e){var i=e.ts;return t.ts<+i}),Object(S.tap)(function(e){var i=e.ts;return t.ts=+i}),Object(S.tap)(function(e){var i=e.deadsec,a=new Date;t.updateEndTime(i,a)}),Object(P.pluck)("piv")).subscribe(function(e){return t.pool$.next(e)}),t.openPanel=t.openPanel.bind(t),t.showTreasureBroadcast=t.showTreasureBroadcast.bind(t),L.subscribe("mcnorroom",function(e){return t.showTreasureBroadcast(e,1)}),L.subscribe("mcspesite",function(e){return t.showTreasureBroadcast(e,2)}),t.GiftCommonServices.giftSendCallbackFlow.pipe(Object(P.pluck)("gid"),Object(T.filter)(function(e){var i=t.store.getState().battleShipData,a=void 0===i?{}:i,r=a.currentGiftId,n=a.isShow,o=a.panelType;return n&&!o&&+r===+e})).subscribe(function(e){var t=R.default.find(".ShipMainSendGift-fadeTipsWrap[data-activityid='"+e+"']");if(t){var i=t.getBoundingClientRect(),a={left:i.left,top:i.top,right:i.right,bottom:i.bottom,className:"ShipMainSendGift-numTips"};Object(A.default)("\u8d60\u9001\u6210\u529f",a,"number")}}),t}return _inherits(BattleShipSocketServices,e),BattleShipSocketServices.prototype.updateData=function updateData(e){this.store.dispatch(j.default.updateData(e))},BattleShipSocketServices.prototype.zoneId=function zoneId(){var e=this.store.getState().battleShipData.zoneId,zoneId=void 0===e?-1:e;return parseInt(zoneId,10)},BattleShipSocketServices.prototype.subPoolSocket=function subPoolSocket(){var e={type:"sub",mt:"mcpoolsite"};L.subscribe("socket_ready",function(){W.sendMessage(e,O.serverTypes.barrage)})},BattleShipSocketServices.prototype.unsubPanelInfo=function unsubPanelInfo(){var e={type:"unsub",mt:"mcpoolsite"};L.subscribe("socket_ready",function(){W.sendMessage(e,O.serverTypes.barrage)}),clearInterval(this.giftTimer),this.giftTimer=null},BattleShipSocketServices.prototype.updateEndTime=function updateEndTime(e,t){this.endTime=1e3*e+t.getTime(),this.handleTimer(),this.giftTimer||(this.giftTimer=setInterval(this.handleTimer,500))},BattleShipSocketServices.prototype.fetchPanelInfo=function fetchPanelInfo(){var e=this;Object(w.default)({type:"get",url:"/lapi/interact/luckyGift/luckyListV2",data:{zone_id:this.zoneId()},noCache:!0}).subscribe(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};0===+t.error&&t.data&&e.formateGiftInfo(b.GSON.parse(t.data))})},BattleShipSocketServices.prototype.formateGiftInfo=function formateGiftInfo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.list,i=void 0===t?[]:t,a=e.deadtime,r=e.now,n=new Date,o=[],s=[],c=+this.global.get("$ROOM.room_id");i.forEach(function(e){var t=e.gift_id,i=e.curps,a=e.cuserpg,r=e.cownerpg,n=e.nuserpg,l=e.nownerpg,u=e.nuserpp,p=e.nownerpp,f=e.cuseryc,d=e.cowneryc,h=_objectWithoutProperties(e,["gift_id","curps","cuserpg","cownerpg","nuserpg","nownerpg","nuserpp","nownerpp","cuseryc","cowneryc"]);o.push({giftid:t,cuserpg:a,cownerpg:r,curps:i,nuserpg:n,nownerpg:l,nuserpp:u,nownerpp:p,cuseryc:f,cowneryc:d});var m=+h.rid;s.push(M({giftid:t},h,{openTreasureRoom:m&&m!==c?m:""}))});var l=+r;if(l>this.ts){this.ts=l;var u=1e3*+a-l;u=parseInt(u/1e3,10),this.updateEndTime(u,n),this.pool$.next(o)}var p={};s.forEach(function(e){p[e.giftid]=e}),this.reciveTreasureInfo$.next(p)},BattleShipSocketServices.prototype.subSocket=function subSocket(){var e=this;L.subscribe("mculsusite",function(t){return Object(g.of)(t).pipe(Object(T.filter)(function(t){var i=t.zone;return e.zoneId()===+i}),Object(D.withLatestFrom)(e.reciveTreasureInfo$)).subscribe(function(t){var i,a=t[0],r=t[1],n=+e.global.get("$ROOM.room_id"),o=+a.rid;e.reciveTreasureInfo$.next(M({},r,((i={})[a.giftid]=M({},a,{openTreasureRoom:o&&o!==n?o:""}),i)))})}),L.subscribe("mcpoolsite",function(t){return e.mcpoolsite$.next(t)}),L.subscribe("mcspeuser",function(t){return e.updateData({isLoadComp:!0,showModal:!0,modalInfo:M({},t,{level:t.level,bonus:t.bonus,userActProp:t.pbonus,totalYC:t.ta,reward_type:t.reward_type,modalType:I.SUPER_TREASURE_POP,needAuth:1!==+t.flag,propList:t.prop_list,isAnchorReward:2===+t.reward_type})})}),L.subscribe("mcspeowner",function(t){return e.updateData({isLoadComp:!0,showModal:!0,modalInfo:M({},t,{level:t.level,bonus:t.bonus,userActProp:t.pbonus,totalYC:t.ta,reward_type:t.reward_type,modalType:I.SUPER_TREASURE_POP,needAuth:1!==+t.flag,propList:t.owner_prop,userProp:t.user_prop,isAnchorReward:2===+t.reward_type})})}),L.subscribe("mcnoruser",function(t){return e.updateData({isLoadComp:!0,showModal:!0,modalInfo:M({},t,{modalType:I.NORMAL_TREASURE_POP,propList:t.prop_list,totalYC:t.gold})})}),L.subscribe("mcopenuser",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.updateData({isLoadComp:!0,mapModalType:1===+t.flag?1:2,hasFetchedMapStatus:!0,hasTreasureMap:1})})},BattleShipSocketServices.prototype.showTreasureBroadcast=function showTreasureBroadcast(e,t){var i=this.store.getState().battleShipData||{},a=i.isUserLimited,r=i.isWebOpen,n=this.giftSendServices.isAnchor();if(r&&(n||!a)){var o=+this.global.get("$ROOM.room_id"),s=this.broadcastManagerServices.getKeyframes([{transform:"translate(-100%, 0)"}]),c={adjust:"screenWidth",animation:[{keyframes:s.name,duration:1e4,fillMode:"forwards"}],onClick:1===t||o===+e.rid?this.openPanel:null},l=e.prop_list,u=void 0===l?[]:l,p=e.level,f=e.bonus,d=e.pbonus,h=this.getPropsStr(u,{level:p,bonus:f,pbonus:d}),m=h.propsStr,b=_objectWithoutProperties(h,["propsStr"]),v=this.broadcastManagerServices.getBroadcast(1===t?B.default.normalTreasure({lev:V[e.level]||"",userName:e.nickname||"",isSelfRoom:o===+e.rid?1:0,propsStr:m}):B.default.superTreasure(M({userName:e.usernick||"",isSelfRoom:o===+e.rid?1:0,propsStr:m},b,{anchorName:e.ownernick||"",drawRid:e.rid})),c);this.broadcastManagerServices.addKeyframes(s),this.broadcastManagerServices.addBroadcast(v)}},BattleShipSocketServices.prototype.getPropsStr=function getPropsStr(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1]||{},a=i.level,r=i.bonus,n=i.pbonus,o=void 0===n?{}:n,s=+r||+o.num,c=s?"\uff08":"",l=this.battleShipServices.getAwardPropsInfo(o),u="",p="",f=s?"\uff09":"";return t.length>3&&(t.splice(3),f="\u7b49"+f),s&&(p="\uff0c"+a+"\u7ea7\u8d85\u7ea7\u52a0\u500d\u989d\u5916\u5956\u52b1",u=+r?Object(K.handlePoolNum)(+r)+"\u9c7c\u7fc5":l.name+"x"+l.num),{propsStr:""+c+t.map(function(t){var i=e.battleShipServices.getPropInfo(t);return(i.name||"")+"*"+(i.num||"")}).join("\u3001")+f,awardStr:u,hasAct:s,awardStrPre:p}},BattleShipSocketServices.prototype.openPanel=function openPanel(){var e=this.store.getState().battleShipData;!(void 0===e?{}:e).isShow&&this.battleShipServices.isShowEnter()&&this.store.dispatch(G.default.toggleBattleShipPanle(!0))},BattleShipSocketServices}(b.Service),u=_applyDecoratedDescriptor(l.prototype,"store",[a],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(l.prototype,"global",[r],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(l.prototype,"giftSendServices",[n],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(l.prototype,"broadcastManagerServices",[o],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(l.prototype,"battleShipServices",[s],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(l.prototype,"GiftCommonServices",[c],{enumerable:!0,initializer:null}),l);t.default=U},b5fc75:function(e,t,i){"use strict";var a,r,n,o,s,c,l,u=i("1a22b7"),p=i.n(u),f=i("3b6ec9"),d=i.n(f),h=i("447d8e"),m=i("eb3e22"),b=i("7ca7dc"),v=(i("a820dd"),i("62593f")),_="/shark/live/src/pages/roomPage/videoAboveModule/components/vivoAd/VivoAd.js";function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var y=b.default.Service,g=[10013,10015,4112349,4112350,4112351],k=(a=y(m.DataCenter.localStorage),r=y(m.DataCenter.global),n=y(v.default),o=function(e){function VivoAd(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VivoAd);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"localStorage",s,t),_initDefineProp(t,"global",c,t),_initDefineProp(t,"vivoAdServices",l,t),t.closeAd=function(e){e.stopPropagation(),e.preventDefault(),clearTimeout(t.cdTimer),clearInterval(t.secId),t.hideAndShowAdQueue()},t.PLAYER_VERSION="Douyu_"+t.global.get("PLAYER_VERSION"),t.state={showtime:0,showAd:!1,adQueue:[]},t}return _inherits(VivoAd,e),VivoAd.prototype.componentDidMount=function componentDidMount(){this.loadAdInfo(g.join(","))},VivoAd.prototype.loadAdInfo=function loadAdInfo(e){var t=this,i=this.global.get("$ROOM.room_id"),a=this.global.get("USER_INFO.uid"),r=this.localStorage.get("sign_ad_tag"),n=this.global.get("$ROOM"),o={posid:e,roomid:i,uid:a,cate1:n.category_id,cate2:n.cate_id,ver:"20200628",tag:r};this.vivoAdServices.loadAdInfo(o).subscribe(function(e){var i=e.data;e.error;if(i&&i.length){var a=i.map(function(e){return"string"===typeof e?JSON.parse(e):e});t.showAdQueue(a)}})},VivoAd.prototype.showAdQueue=function showAdQueue(e){var t=this,i=this.assignSignData(e,{}),a=this.genAdQueue(i);if(a.length){var r=a.shift();this.setState({adQueue:a},function(){r.posid===g[0]?t.show(r):t.delayShowAd(r)})}},VivoAd.prototype.genAdQueue=function genAdQueue(e){for(var t=[],i=0;i<g.length;i++)e[g[i]]&&t.push(e[g[i]]);return t},VivoAd.prototype.assignSignData=function assignSignData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.forEach(function(e){var i="string"===typeof e?JSON.parse(e):e,a=t[i.posid];a||(a=i,t[i.posid]=a)}),t},VivoAd.prototype.show=function show(e){var t=this;this.setState({showAd:!0,adData:e,showtime:10}),this.cdTimer=setTimeout(function(){t.hideAndShowAdQueue()},1e4),clearInterval(this.secId),this.secId=setInterval(function(){t.setState({showtime:+t.state.showtime-1})},1e3);var i=this.global.get("$ROOM.room_id");this.vivoAdServices.sendDataWhenAdExposure(e,i,this.PLAYER_VERSION)},VivoAd.prototype.hideAndShowAdQueue=function hideAndShowAdQueue(){this.setState({showAd:!1,curData:{}});var e=this.state.adQueue;if(e.length){var t=e.shift();this.setState({adQueue:e}),this.delayShowAd(t)}},VivoAd.prototype.delayShowAd=function delayShowAd(e){var t=this,i=e.ec,a=(void 0===i?{}:i).dls;console.log(a+"\u79d2\u540e\uff0c\u5f00\u59cb\u5c55\u793a"+e.posid),+a>=0&&(this.adQueueTimer=setTimeout(function(){t.show(e)},1e3*a))},VivoAd.prototype.componentWillUnmount=function componentWillUnmount(){clearInterval(this.secId),clearTimeout(this.cdTimer),clearTimeout(this.delayTimer),clearTimeout(this.adQueueTimer)},VivoAd.prototype.render=function render(){var e=this,t=this.state,i=t.showAd,a=t.showtime;if(!i)return null;var r=this.state.adData,n=this.global.get("$ROOM.room_id"),o=10013===+r.posid?{width:"108px",height:"108px"}:{},s=a>0?"\u5173\u95ed("+a+")":"\u5173\u95ed";return d.a.createPortal(p.a.createElement("a",{href:r.link,target:"_blank",__source:{fileName:_,lineNumber:195},__self:this},p.a.createElement("div",{className:"VideoAboveVivoAd",onClick:function onClick(){e.vivoAdServices.navigateToAdURL(r,n,e.PLAYER_VERSION)},__source:{fileName:_,lineNumber:196},__self:this},p.a.createElement("img",{className:"VideoAboveVivoAd-content",style:o,src:r.srcid,__source:{fileName:_,lineNumber:199},__self:this}),1===+r.priority&&p.a.createElement("div",{className:"VideoAboveVivoAd-adCorner",__source:{fileName:_,lineNumber:200},__self:this},"\u5e7f\u544a"),p.a.createElement("div",{className:"VideoAboveVivoAd-closeBtn",onClick:this.closeAd,__source:{fileName:_,lineNumber:201},__self:this},s))),document.getElementsByClassName("layout-Player-videoMain")[0])},VivoAd}(p.a.Component),s=_applyDecoratedDescriptor(o.prototype,"localStorage",[a],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(o.prototype,"global",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"vivoAdServices",[n],{enumerable:!0,initializer:null}),o);k.propTypes={};t.default=Object(h.connect)(function mapStateToProps(e){return{}})(k)},b66a4c:function(e,t,i){e.exports=i("5f575e")("29bff")},b7bd12:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/other/fail_91e8ec3.svga"},b8b912:function(e,t,i){"use strict";var a=i("a9d218");t.default=a.default},bb15b7:function(e,t,i){"use strict";var a=i("444b2c");t.default=a.default},bf95a4:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/other/gwt2_6db883a.svga"},c0a7ed:function(e,t,i){"use strict";var a=i("155827"),r=i("612669"),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},o={configs:{},luckGiftList:[],isOpen:!1,isEnterShow:!1,isLoadComp:!1,currentGiftId:null,isShow:!1,panelType:0,hasTreasureMap:0,openTreasureMap:0,showModal:!1,modalInfo:{},zoneId:-1,mapModalType:0,hasFetchedMapStatus:!1,isCarnivalOpen:!1,isUserLimited:!0,isWebOpen:!1};t.default={battleShipData:function battleShipData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.BATTLESHIP_UPDATE_DATA:return Object.assign({},e,n({},t.payload));case r.BATTLESHIPR_TOGGLE_PANEL:if(t.payload===e.isShow)return e;var i=e.luckGiftList[0]||{};return n({},e,{isShow:t.payload,isLoadComp:!0,currentGiftId:i.id});default:return e}}}},c26963:function(e,t,i){e.exports=i("5f575e")("0cccf")},c2bb68:function(e,t,i){"use strict";var a=i("8ded18");t.default=a.default},c35afe:function(e,t,i){"use strict";i.d(t,"default",function(){return b});var a,r,n,o,s,c=i("1a22b7"),l=i.n(c),u=i("7ca7dc"),p=i("eb3e22"),f=i("8e506f"),d=i("ffca33"),h=(i("a5eecc"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/effect/index.js");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var m=u.default.Service,b=(a=m(f.default),r=m(p.DataCenter.global),n=function(e){function SvgaEffect(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SvgaEffect);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"svgaManagerService",o,i),_initDefineProp(i,"global",s,i),_possibleConstructorReturn(i,t)}return _inherits(SvgaEffect,e),SvgaEffect.prototype.componentDidMount=function componentDidMount(){var e=this;Object(d.default)({url:"//webconf.douyucdn.cn/resource/yz/config.json",noXReq:!0}).subscribe(function(t){if(t.data){var i=t.data.replace("DYConfigCallback(","").replace(");",""),a=JSON.parse(i);if(a){var r=a.pk_svga&&a.pk_svga.list;if(r){var n=e.props.rankID;e.svgaManagerService.playSvga(document.querySelector(".PKSvga-svgaDiv"),{URL:r[n].url,loops:2,onFinished:function onFinished(){e.props.effectOver&&e.props.effectOver()}})}}}})},SvgaEffect.prototype.componentWillUnmount=function componentWillUnmount(){this.svgaManagerService.disposeSvga(document.querySelector(".PKSvga-svgaDiv"))},SvgaEffect.prototype.render=function render(){var e=document.querySelector(".layout-Player-videoMain").clientHeight;return l.a.createElement("div",{className:"PKSvga",__source:{fileName:h,lineNumber:52},__self:this},l.a.createElement("div",{className:"PKSvga-svgaDiv",style:{top:"-"+((e-376)/2+128)+"px"},__source:{fileName:h,lineNumber:53},__self:this}))},SvgaEffect}(l.a.Component),o=_applyDecoratedDescriptor(n.prototype,"svgaManagerService",[a],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(n.prototype,"global",[r],{enumerable:!0,initializer:null}),n)},c3b00b:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/invalide_1b72e90.png"},c4a79f:function(e,t,i){"use strict";var a=i("3d5350");t.default=a.default},c4e9f4:function(e,t,i){"use strict";var a=i("1a22b7"),r=i.n(a),n=(i("fa2f9c"),"/shark/live/src/pages/roomPage/videoAboveModule/components/VpGame/IframeActivityDialog.js");t.default=function IframeActivityDialog(e){var t=e.activityLink,i=e.iframeStyle,a=i.width,o=i.height,s=e.onClick,c=void 0===s?function(){}:s;return r.a.createElement("div",{className:"VPGame",style:{width:a,height:o},__source:{fileName:n,lineNumber:11},__self:void 0},r.a.createElement("i",{className:"IframeActivityDialog-close",onClick:c,__source:{fileName:n,lineNumber:15},__self:void 0},"X"),r.a.createElement("iframe",{style:{overflowX:"hidden",overflowY:"auto"},src:t,frameBorder:"0",width:a,height:o,__source:{fileName:n,lineNumber:21},__self:void 0}))}},c6aaa7:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/winer5_8d52200.png"},c8aeab:function(e,t,i){e.exports=i("d1db8c")("89992")},c92f4a:function(e,t,i){e.exports=i("5f575e")("f49fe")},caacd2:function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f,d,h,m,b,v,_=i("97a1f0"),y=i("7ca7dc"),g=i("eb3e22"),k=i("722b8a"),S=i("0f636f"),T=i("ffca33"),P=i("564e7b"),D=i("781445"),w=i("730e3d"),C=i("34550d"),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var N=y.default.Service,E=y.default.Store,R={Banner:{status:1,pktype:1,reducerKey:"pkBannerData"},Random:{status:1,pktype:2,reducerKey:"randomPKData"}},A=(a=Object(_.Injectable)("live.videoAboveModule.PkCommonServices"),r=E(),n=N(g.DataCenter.common),o=N(g.DataCenter.global),s=N(P.default),c=N(D.default),l=N(w.default),a((p=function(e){function PkCommonServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PkCommonServices);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"store",f,i),_initDefineProp(i,"common",d,i),_initDefineProp(i,"global",h,i),_initDefineProp(i,"publicToolsServices",m,i),_initDefineProp(i,"geeVerifyAppServices",b,i),_initDefineProp(i,"mmSvgaServices",v,i),_possibleConstructorReturn(i,t)}return _inherits(PkCommonServices,e),PkCommonServices.prototype.isAnchor=function isAnchor(){var e=this.global.get("USER_INFO.uid"),t=this.global.get("$ROOM.owner_uid");return e>0&&parseInt(e,10)===parseInt(t,10)},PkCommonServices.prototype.isUserSelf=function isUserSelf(e){var t=this.global.get("USER_INFO.uid");return t>0&&parseInt(t,10)===parseInt(e,10)},PkCommonServices.prototype.getStore=function getStore(e){return this.store.getState()[e]},PkCommonServices.prototype.configFlow=function configFlow(){return Object(T.default)({type:"jsonp",url:"//webconf.douyucdn.cn//resource/common/activity/pkgifttask_w.json",callbackName:"pkgifttask_w"})},PkCommonServices.prototype.pktypeCheck=function pktypeCheck(e,t){var i=e.status,a=void 0===i?0:i,r=e.pktype,n=void 0===r?0:r;return+a>R[t].status&&+n===R[t].pktype},PkCommonServices.prototype.pkidCheck=function pkidCheck(e,t){var i=this.getStore(R[t].reducerKey),a=e||{},r=a.rida,n=void 0===r?0:r,o=a.ridb,s=void 0===o?0:o,c=a.pkid,l=void 0===c?0:c;if("Banner"===t){var u=i||{},p=u.arid,f=u.brid,d=n.rid||n,h=s.rid||s;return!+p||+d===+p&&+h===+f}if("Random"===t){var m=i.pkData,b=((void 0===m?{}:m)||{}).pkId;return!+b||+l===+b}return!1},PkCommonServices.prototype.pkRoomCheck=function pkRoomCheck(e){var t=this.global.get("$ROOM.room_id"),i=e.rida,a=void 0===i?0:i,r=e.ridb,n=void 0===r?0:r,o=a.rid||a,s=n.rid||n;return+t>0&&(+t===+o||+t===+s)},PkCommonServices.prototype.getPKKey=function getPKKey(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.global.get("$ROOM.room_id"),i=e.ridb,a=void 0===i?0:i,r=a.rid||a,n={owner:"rida",other:"ridb",extOwner:"buffaInfo",extOther:"buffbInfo"};return+t>0&&+t===+r&&(n={owner:"ridb",other:"rida",extOwner:"buffbInfo",extOther:"buffaInfo"}),n},PkCommonServices.prototype.sendSvgaGWT=function sendSvgaGWT(e,t){var i=t.taskInfo,a=void 0===i?{}:i,r=a.status,n=a.topUid,o=void 0===n?"":n,s=a.topUname,c=void 0===s?"":s,l=a.receType,u=void 0===l?0:l,p=a.result,f=void 0===p?0:p,d=a.packetYc,h=void 0===d?0:d,m=a.isDoneYc;if(2===+f&&2===+r&&!+(void 0===m?1:m)&&(1!==+u||this.isAnchor())){var b=this.isUserSelf(o),v=Object(C.GWTEffect)({topUid:o,isSelf:b,packetYc:h,topUname:c,receType:u});this.mmSvgaServices.addSvga(O({domID:"MMSvgaBaseVideoPlayer"},v))}},PkCommonServices.prototype.sendSvga=function sendSvga(e,t){var i=t.atype;if(+(void 0===i?0:i)){var a=Object(C.FinishedEffect)(e,this.getSvgaData(t));a&&this.mmSvgaServices.addSvga(O({domID:"MMSvgaBaseVideoPlayer"},a))}},PkCommonServices.prototype.getSvgaData=function getSvgaData(e){var t=e.atype,i=e.prop_id,a=void 0===i?0:i,r=e.buffRate,n=e.uname,o=1===+t?"prop":"award",s=1===+t?a:+t,c=this.getAwardInfoPlus(s,o);return O({uname:n,atype:t,buffRate:r},c)},PkCommonServices.prototype.getAwardContent=function getAwardContent(e,t){var i=[{value:"\u4efb\u52a1\u5df2\u5b8c\u6210\uff0c",filltype:0,highcolor:0}],a=[];switch("FB"===e&&(i=[{value:"uname",filltype:1,highcolor:1},{value:"\u5e2e",filltype:0,highcolor:0},{value:"nn",filltype:1,highcolor:1},{value:"\uff0c\u62a2\u5230",filltype:0,highcolor:0},{value:"\u9996\u6740\uff0c",filltype:0,highcolor:0}]),+t){case 1:a="GT"===e?[{value:"\u606d\u559c",filltype:0,highcolor:0},{value:"uname",filltype:1,highcolor:1},{value:"\u83b7\u5f97",filltype:0,highcolor:0},{value:"awardname",filltype:1,highcolor:0},{value:"\u5956\u52b1\uff01",filltype:0,highcolor:0}]:[{value:"\u83b7\u5f97",filltype:0,highcolor:0},{value:"awardname",filltype:1,highcolor:1},{value:"\u5956\u52b1\uff01",filltype:0,highcolor:0}];break;case 2:a=[{value:"5s\u540e\u5f00\u542f",filltype:0,highcolor:0},{value:"buffnum",filltype:1,highcolor:1},{value:"PK\u503c\u52a0\u6210\uff01",filltype:0,highcolor:0}];break;case 3:a=[{value:"\u4e3b\u64ad\u83b7\u5f97",filltype:0,highcolor:0},{value:"awardname",filltype:1,highcolor:1},{value:"\uff01",filltype:0,highcolor:0}];break;case 4:a=[{value:"\u76f4\u64ad\u95f4\u5f00\u542f",filltype:0,highcolor:0},{value:"\u8d22\u795e\u4efb\u52a1",filltype:0,highcolor:1}]}return i.concat(a)},PkCommonServices.prototype.getAwardInfoPlus=function getAwardInfoPlus(e,t){var i=this.getStore(R.Banner.reducerKey)||{},a=this.getStore(R.Random.reducerKey)||{},r=(i.taskConfig||{}).award_list,n=(void 0===r?[]:r).length>0?i.taskConfig:a.taskConfig;return"award"===t?this.getAwardInfo(e,n||{}):"prop"===t?this.getPropInfo(e,n||{}):{}},PkCommonServices.prototype.getAwardInfo=function getAwardInfo(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).award_list,i=(void 0===t?[]:t).find(function(t){return+e===+t.id});return O({},i||{})},PkCommonServices.prototype.getPropInfo=function getPropInfo(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).prop_list,i=(void 0===t?[]:t).find(function(t){return+e===+t.prop_id}),a=i||{},r=a.prop_id,n=a.prop_name,o=a.prop_pic;return i?{id:r,name:n,pic:o}:{}},PkCommonServices.prototype.getGWTState=function getGWTState(e,t){var i=e.pkid,a=e.taskInfo,r=void 0===a?{}:a,n=r.status,o=r.result,s=r.isDoneYc,c=r.receType;switch(+n){case 1:return 1===+o?"1_1":"1_0";case 2:if(2===+o){var l=this.isAnchor();return 1===+c||2===+c||3===+c&&l?"2_1":i===t?"2_4":1===+s?"2_5":"2_2"}return"2_3"}return""},PkCommonServices.prototype.getCacheFlag=function getCacheFlag(){return"PKGetedCache_"+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PK")+"_"+this.global.get("USER_INFO.uid")},PkCommonServices.prototype.getGWTReq=function getGWTReq(e){var t=this,i=e.pkData,a=void 0===i?{}:i,r=e.options,n=void 0===r?{}:r,o=e.callback,s=a.taskInfo,c=void 0===s?{}:s;return!this.reqLock&&(Object(T.default)({url:"/japi/interactnc/web/seckill/join",type:"post",data:{sck_id:c.sckId},noCache:!0,contentType:"form"}).pipe(Object(S.tap)(function(){return t.reqLock=1})).subscribe(function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.reqLock=0;var r=i.data&&"string"===typeof i.data?_.GSON.parse(i.data):i.data||{};switch(+i.error){case 0:1===+r.is_suc?o&&"function"===typeof o&&o(r):k.default.info(r.alert_msg||"\u8d22\u795e\u5956\u52b1\u9886\u53d6\u5931\u8d25");break;case-300:t.geeVerifyAppServices.verify({data:r},{container:n.container,reqData:a,callback:function callback(){t.getGWTReq(e)}});break;default:k.default.info(i.msg||"\u8d22\u795e\u5956\u52b1\u9886\u53d6\u5931\u8d25")}}),!1)},PkCommonServices.prototype.formatDecimals=function formatDecimals(e,t){return e>=0?e>=1e5?this.publicToolsServices.formatDecimals(e/1e4,2)+"\u4e07":this.publicToolsServices.formatDecimals(e,t):"--"},PkCommonServices}(_.Service),f=_applyDecoratedDescriptor(p.prototype,"store",[r],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(p.prototype,"common",[n],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(p.prototype,"global",[o],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(p.prototype,"publicToolsServices",[s],{enumerable:!0,initializer:null}),b=_applyDecoratedDescriptor(p.prototype,"geeVerifyAppServices",[c],{enumerable:!0,initializer:null}),v=_applyDecoratedDescriptor(p.prototype,"mmSvgaServices",[l],{enumerable:!0,initializer:null}),u=p))||u);t.default=A},cb8c6f:function(e,t,i){e.exports=i("5f575e")("de0e2")},cba0a4:function(e,t,i){e.exports=i("5f575e")("590b8")},cbe346:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/other/draw_484cee4.svga"},ce2563:function(e,t,i){"use strict";var a=i("706d39");t.default=a.default},ce313d:function(e,t,i){"use strict";var a,r,n,o,s,c,l,u=i("97a1f0"),p=i("eb3e22"),f=i("7ca7dc"),d=i("20ec0b"),h=i("e2f88f");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var m=f.default.Store,b=f.default.Service,v=(a=m(),r=b(p.DataCenter.global),n=b(d.default),o=function(e){function ChargeTaskServices(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChargeTaskServices);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"store",s,i),_initDefineProp(i,"global",c,i),_initDefineProp(i,"giftSendServices",l,i),_possibleConstructorReturn(i,t)}return _inherits(ChargeTaskServices,e),ChargeTaskServices.prototype.init=function init(){var e=this,t=this.global.get("USER_INFO.uid"),i=this.global.get("$ROOM.room_id"),a=+t===+this.global.get("$ROOM.owner_uid");this.updateInfos({uid:t,rid:i,isHost:a}),this.giftSendServices.getAllGiftConfig().subscribe(function(t){e.updateInfos({giftConfig:t.data})})},ChargeTaskServices.prototype.updateInfos=function updateInfos(e){this.store.dispatch(h.ChargeTaskAction.updateData(e))},ChargeTaskServices}(u.Service),s=_applyDecoratedDescriptor(o.prototype,"store",[a],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(o.prototype,"global",[r],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"giftSendServices",[n],{enumerable:!0,initializer:null}),o);t.default=v},cfa314:function(e,t,i){"use strict";var a,r,n,o,s,c=i("1a22b7"),l=i.n(c),u=i("292183"),p=i.n(u),f=i("7ca7dc"),d=i("447d8e"),h=i("97a1f0"),m=i("eb3e22"),b=i("c26963"),v=i("c4e9f4"),_=i("3cbf2b"),y="/shark/live/src/pages/roomPage/videoAboveModule/components/VpGame/index.js";function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var g=(a=(0,f.default.Service)(_.default),r=Object(h.Inject)(m.DataCenter.global),n=function(e){function VpGame(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VpGame);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"vpGameServices",o,i),_initDefineProp(i,"global",s,i),i.closeDialog=function(){i.vpGameServices.closeDialog()},_possibleConstructorReturn(i,t)}return _inherits(VpGame,e),VpGame.prototype.componentDidMount=function componentDidMount(){this.roomId=this.global.get("$ROOM.room_id")},VpGame.prototype.render=function render(){var e=this.props.isShow,t=void 0!==e&&e;return l.a.createElement(l.a.Fragment,{__source:{fileName:y,lineNumber:39},__self:this},t&&l.a.createElement(v.default,{activityLink:"https://league-live.vpgame.com/vp-live/v2/pc/dotalive.html?room_id=3811559",iframeStyle:{width:350,height:400},onClick:this.closeDialog,__source:{fileName:y,lineNumber:41},__self:this}))},VpGame}(l.a.Component),o=_applyDecoratedDescriptor(n.prototype,"vpGameServices",[a],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(n.prototype,"global",[r],{enumerable:!0,initializer:null}),n);g.propTypes={isShow:p.a.bool};t.default=Object(d.connect)(function mapStateToProps(e){return{isShow:e.vpGameReducers.isShow}})(Object(b.default)(g))},d0c7e9:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/winer4_582706e.png"},d1da64:function(e,t,i){"use strict";i.d(t,"SUPER_TREASURE_POP",function(){return a}),i.d(t,"NORMAL_TREASURE_POP",function(){return r});var a="SUPER_POP",r="NORMAL_TREASURE_POP"},d1db8c:function(e,t){e.exports=playerSDK2da5b1f3a3deccaa435b},d1f87a:function(e,t,i){e.exports=i("5f575e")("09473")},d2637d:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/effect_4_f959830.png"},d27fdc:function(e,t,i){"use strict";var a,r,n,o,s,c,l,u,p,f=i("1a22b7"),d=i.n(f),h=i("447d8e"),m=i("7ca7dc"),b=i("eb3e22"),v=i("8e8ae5"),_=i("caacd2");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var y=m.default.Service,g=(a=y(b.DataCenter.common),r=y(b.DataCenter.global),n=y(v.default),o=y(_.default),s=function(e){function TaskAwardFooter(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskAwardFooter);for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"common",c,i),_initDefineProp(i,"global",l,i),_initDefineProp(i,"pkTAServices",u,i),_initDefineProp(i,"pkCommonServices",p,i),_possibleConstructorReturn(i,t)}return _inherits(TaskAwardFooter,e),TaskAwardFooter.prototype.render=function render(){var e=this.props,t=e.pkAwardData,i=void 0===t?{}:t,a=e.dataType,r=i.rida,n=i.ridb,o=this.pkCommonServices.getPKKey({rida:{rid:r},ridb:{rid:n}}),s=i[o.extOwner]||{},c=i[o.extOther]||{},l=("ownerData"===a?s:c).buffRate;return d.a.createElement(d.a.Fragment,{__source:{fileName:"/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/TaskAward/TaskAwardAddtion.js",lineNumber:30},__self:this},"\uff08",l,"%\u52a0\u6210\u4e2d\uff09")},TaskAwardFooter}(d.a.Component),c=_applyDecoratedDescriptor(s.prototype,"common",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(s.prototype,"global",[r],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(s.prototype,"pkTAServices",[n],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(s.prototype,"pkCommonServices",[o],{enumerable:!0,initializer:null}),s);t.default=Object(h.connect)(function mapStateToProps(e){var t=e.bannerPKTAData;return{pkAwardData:(void 0===t?{}:t).pkAwardData}})(g)},d3b924:function(e,t,i){"use strict";var a=i("1de739");t.default=a.default},d538f8:function(e,t,i){"use strict";var a,r,n,o,s=i("eb3e22"),c=i("54992a");function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var l=s.basicTypes.string,u=s.basicTypes.number,p=Object(c.log)((r=function(e){function VideoAboveDto(){var t,i;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VideoAboveDto);for(var a=arguments.length,r=Array(a),s=0;s<a;s++)r[s]=arguments[s];return t=i=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(r))),_initDefineProp(i,"author",n,i),_initDefineProp(i,"uid",o,i),_possibleConstructorReturn(i,t)}return _inherits(VideoAboveDto,e),VideoAboveDto}(s.EntityDto),n=_applyDecoratedDescriptor(r.prototype,"author",[l],{enumerable:!0,initializer:null}),o=_applyDecoratedDescriptor(r.prototype,"uid",[u],{enumerable:!0,initializer:null}),a=r))||a;t.default=p},d64c8a:function(e,t,i){"use strict";var a=i("1a22b7"),r=i.n(a),n=i("447d8e"),o=i("485264"),s="/shark/live/src/pages/roomPage/videoAboveModule/components/PKBanner/FirstBlood/Count.js";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var c=function(e){function MyCountDown(){return _classCallCheck(this,MyCountDown),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(MyCountDown,e),MyCountDown.prototype.render=function render(){var e=this.state.restTime,t=void 0===e?0:e,i=t<=0?0:parseInt(t,10),a=this.props.pkCountdata,n=(void 0===a?{}:a).total;return r.a.createElement(o.default,{left:i,total:n,__source:{fileName:s,lineNumber:13},__self:this})},MyCountDown}(i("116841").default),l=function(e){function GiftTaskCount(){return _classCallCheck(this,GiftTaskCount),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(GiftTaskCount,e),GiftTaskCount.prototype.render=function render(){var e=this.props,t=e.pkData,i=void 0===t?{}:t,a=e.showFBCount,n=i.endTime,o=i.tst,l=void 0===o?0:o,u=i.tet,p={type:a,total:(void 0===u?0:u)-l};return a?r.a.createElement("div",{className:"BannerPKFirstBloodCount",__source:{fileName:s,lineNumber:28},__self:this},r.a.createElement(c,{key:n,type:"2",time:parseInt(n/1e3,10),form:"ss",customDefaultValue:"00",pkCountdata:p,__source:{fileName:s,lineNumber:29},__self:this}),r.a.createElement("span",{className:"BannerPKFirstBloodCount-text",__source:{fileName:s,lineNumber:38},__self:this})):null},GiftTaskCount}(r.a.Component);t.default=Object(n.connect)(function mapStateToProps(e){var t=e.bannerPKFBData,i=void 0===t?{}:t;return{showFBCount:i.showFBCount,pkData:i.pkData}})(l)},d9c137:function(e,t,i){"use strict";var a=i("7ca7dc"),r=i("587cf4"),n=i("98fcaa"),o=i("ac44db"),s=a.default.StoreFactory;t.default=a.default.createApp({name:"VideoAboveApp",providers:[{name:"component",useFactory:function useFactory(){return o.default}},{name:"store",useFactory:function useFactory(){return s.getInstance(window.__INITIAL_STATE__,n.default,r.default)}}]})},da6858:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/effect_9_b86d51d.png"},db47a7:function(e,t,i){e.exports=i("2d6146")("fce11")},dcc982:function(e,t,i){},e040fe:function(e,t,i){"use strict";var a,r,n,o=i("7ca7dc"),s=i("722b8a"),c=i("f68984"),l=i("b00678"),u=i("eeb07d"),p=i("960890"),f=i("ffca33"),d=i("eb4d33"),h=i("155827"),m=i("8b2710"),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};var v=o.default.Service,_=new Map([[528008,1],[0,1],[528009,2]]),y=(a=v(m.default),r=function(){function BattleShipEpics(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BattleShipEpics),function _initDefineProp(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}(this,"rankServices",n,this)}return BattleShipEpics.prototype.changeMapStatus=function changeMapStatus(e){return e.ofType(h.BATTLESHIP_CHANGE_MAP_STATUS).pipe(Object(l.switchMap)(d.default),Object(l.switchMap)(function(e){var t,i=e.name,a=e.value,r=e.payload;return Object(u.forkJoin)(Object(f.default)({url:"/member/luckyGift/statusOperate",type:"post",data:(t={},t[i]=a,t.status=r.payload,t),noCache:!0,contentType:"form"}),Object(p.of)(r.payload))}),Object(c.map)(function(e){var t=e[0],i=e[1];return 0===+t.error?h.default.updateData({openTreasureMap:+i}):h.default.empty("")}))},BattleShipEpics.prototype.convert=function convert(e,t){var i=this;return e.ofType(h.BATTLESHIP_CONVENT).pipe(Object(l.switchMap)(d.default),Object(l.switchMap)(function(e){var t,i=e.name,a=e.value,r=e.payload;return Object(u.forkJoin)(Object(f.default)({url:"/member/luckyGift/convert",type:"post",data:(t={},t[i]=a,t.id=r.payload.id,t.reward_type=r.payload.reward_type,t),noCache:!0,contentType:"form"}),Object(p.of)(r.payload))}),Object(c.map)(function(e){var a=e[0],r=e[1].id,n=t.getState().battleShipData,o=(void 0===n?{}:n).modalInfo,c=void 0===o?{}:o,l=(c.modalType,c.order_id),u=c.isFromRank;return+l===+r?(1===+u&&_.has(+a.error)&&i.rankServices.drawPrizeCallback(b({},c,{drawStatus:_.get(+a.error)})),0===+a.error?h.default.updateData({showModal:!0,modalInfo:Object.assign({},c,{needAuth:!1,order_id:r,isDisabled:!1})}):528008===+a.error||528009===+a.error?(s.default.info(a.msg),h.default.updateData({showModal:!1,modalInfo:{}})):-2===+a.error?h.default.updateData({showModal:!0,modalInfo:Object.assign({},c,{isSecond:!0,isDisabled:!1})}):(a.msg&&-1===+a.error&&s.default.info(a.msg),h.default.updateData({modalInfo:Object.assign({},c,{isDisabled:!1})}))):h.default.empty("")}))},BattleShipEpics.prototype.fetchMapStatus=function fetchMapStatus(e){return e.ofType(h.BATTLESHIP_FETCH_MAP_STATUS).pipe(Object(l.switchMap)(function(){return Object(f.default)({url:"/member/luckyGift/luckyStatus",noCache:!0})}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0===+e.error){var t=JSON.parse(e.data),i=t.treasure_map,a=t.treasure_right;return h.default.updateData({hasTreasureMap:+i,openTreasureMap:+a,hasFetchedMapStatus:!0})}return h.default.empty("")}))},BattleShipEpics}(),n=function _applyDecoratedDescriptor(e,t,i,a,r){var n={};return Object.keys(a).forEach(function(e){n[e]=a[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(r.prototype,"rankServices",[a],{enumerable:!0,initializer:null}),r);t.default=y},e296f5:function(e,t,i){"use strict";var a=i("8e94ae");t.default=a.default},e2aa89:function(e,t,i){"use strict";var a=i("8c8308");t.default=a.default},e2f88f:function(e,t,i){"use strict";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}i.d(t,"CHARGE_TASK_UPDATE_INFO",function(){return a}),i.d(t,"ChargeTaskAction",function(){return r});var a="CHARGE_TASK_UPDATE_INFO",r=function(e){function ChargeTaskAction(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChargeTaskAction),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(ChargeTaskAction,e),ChargeTaskAction.updateData=function updateData(e){return{type:a,payload:e}},ChargeTaskAction}(i("97a1f0").Action)},e576ff:function(e,t,i){"use strict";i("db47a7"),i("4593ae");var a=i("085b8f"),r=i.n(a),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};var o={win:{describtion:"\u80dc\u5229\uff0c\u6709mvp",hasAvatar:1,bgColor:1,medal:1,tpl:'\u606d\u559c<span class="RandomPKBroadcast-highlight">nickName%</span>\u5728\u672c\u623fPK\u4e2d\u8d21\u732etSc%\u6210\u4e3a\u672c\u623fMVP\uff0c\u52a9\u529b\u4e3b\u64ad\u83b7\u5f97winNum%\u8fde\u80dc'},"fail-00":{describtion:"\u5931\u8d25\uff0c\u65e0\u8fde\u80dc\uff0c\u65e0\u9001\u793c",hasAvatar:0,bgColor:2,medal:3,tpl:"\u672c\u573a\u65e0\u4eba\u52a9\u529b\uff0c\u4e3b\u64ad\u9057\u61be\u8d25\u5317"},"fail-10":{describtion:"\u5931\u8d25\uff0c\u6709\u8fde\u80dc\uff0c\u65e0\u9001\u793c",hasAvatar:0,bgColor:2,medal:3,tpl:"\u672c\u573a\u65e0\u4eba\u52a9\u529b\uff0c\u4e3b\u64ad\u75db\u5931winNum%\u8fde\u80dc"},"fail-01":{describtion:"\u5931\u8d25\uff0c\u65e0\u8fde\u80dc\uff0c\u6709\u4eba\u9001\u793c",hasAvatar:1,bgColor:1,medal:2,tpl:'<span class="RandomPKBroadcast-highlight">nickName%</span>\u594b\u529b\u6297\u51fb\uff0c\u8f93\u51fatSc%\u8d21\u732e\u6210\u4e3a\u672c\u623fMVP\uff0c\u4ecd\u4e0d\u654c\u5bf9\u624b\u9057\u61be\u8d25\u5317'},"fail-11":{describtion:"\u5931\u8d25\uff0c\u6709\u8fde\u80dc\uff0c\u6709\u4eba\u9001\u793c",hasAvatar:1,bgColor:1,medal:2,tpl:'<span class="RandomPKBroadcast-highlight">nickName%</span>\u594b\u529b\u6297\u51fb\uff0c\u8f93\u51fatSc%\u8d21\u732e\u6210\u4e3a\u672c\u623fMVP\uff0c\u4ecd\u4e0d\u654c\u5bf9\u624b\u75db\u5931winNum%\u8fde\u80dc'},"draw-00":{describtion:"\u5e73\u5c40\uff0c\u65e0\u8fde\u80dc\uff0c\u65e0\u9001\u793c",hasAvatar:0,bgColor:2,medal:3,tpl:"\u672c\u573a\u65e0\u4eba\u52a9\u529b\uff0c\u4e3b\u64ad\u9057\u61be\u5e73\u5c40"},"draw-10":{describtion:"\u5e73\u5c40\uff0c\u6709\u8fde\u80dc\uff0c\u65e0\u9001\u793c",hasAvatar:0,bgColor:2,medal:3,tpl:"\u672c\u573a\u65e0\u4eba\u52a9\u529b\uff0c\u53cc\u65b9\u6253\u5e73\u75db\u5931winNum%\u8fde\u80dc"},"draw-01":{describtion:"\u5e73\u5c40\uff0c\u65e0\u8fde\u80dc\uff0c\u6709\u4eba\u9001\u793c",hasAvatar:1,bgColor:1,medal:2,tpl:'<span class="RandomPKBroadcast-highlight">nickName%</span>\u594b\u529b\u6297\u51fb\uff0c\u8f93\u51fatSc%\u8d21\u732e\u6210\u4e3a\u672c\u623fMVP\uff0c\u53cc\u65b9\u4ecd\u6253\u5e73'},"draw-11":{describtion:"\u5e73\u5c40\uff0c\u6709\u8fde\u80dc\uff0c\u6709\u4eba\u9001\u793c",hasAvatar:1,bgColor:1,medal:2,tpl:'<span class="RandomPKBroadcast-highlight">nickName%</span>\u594b\u529b\u6297\u51fb\uff0c\u8f93\u51fatSc%\u8d21\u732e\u6210\u4e3a\u672c\u623fMVP\uff0c\u53cc\u65b9\u6253\u5e73\u75db\u5931winNum%\u8fde\u80dc'}},s=new(function(){function Tpl(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tpl)}return Tpl.prototype.dysubCastShow=function dysubCastShow(){},Tpl.prototype.getBroadCast=function getBroadCast(e){var t=e.topnn,i=e.topavt,a=e.topsc,r=e.result,s=e.winnum,c="";return 1===+r?c="win":2===+r?c="draw-"+(s?1:0)+(t?1:0):3===+r&&(c="fail-"+(s?1:0)+(t?1:0)),c?n({},o[c],{topavt:i,contentTpl:o[c].tpl.replace("nickName%",t).replace("tSc%",a).replace("winNum%",s)}):{}},Tpl.prototype.broadcast=function broadcast(e){var t=this.getBroadCast(e),i=t.hasAvatar,a=t.topavt,n=t.bgColor,o=t.contentTpl,s=i?'\n            <div class="RandomPKBroadcast-avatar">\n                <img class="RandomPKBroadcast-pic" src='+(a||r.a)+' alt="" />\n            </div>\n        ':"";return'<div class="RandomPKBroadcast '+(1===n?"":"is-nomvp")+'">\n                '+s+'\n                <div class="RandomPKBroadcast-content">'+o+"</div>\n            </div>"},Tpl}());t.default=s},e5eb77:function(e,t,i){e.exports=i("5f575e")("5bb61")},e854a7:function(e,t,i){e.exports=i("5f575e")("a5ed5")},eb3e22:function(e,t,i){e.exports=i("d1db8c")("e55c4")},eb4d33:function(e,t,i){e.exports=i("5f575e")("623b6")},eb95b3:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/other/gwt3_5e57512.svga"},eca10f:function(e,t,i){"use strict";var a=i("1a22b7"),r=i.n(a),n=(i("f6c795"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e}),o="/shark/live/src/pages/roomPage/videoAboveModule/components/PKCommons/SvgaEffectTpl/TaskFinish/TaskFinish.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var s={1:{key1:"name",text1:"\u606d\u559cuname\u83b7\u5f97xxxx\u9053\u5177",text2:"PK\u671f\u95f4\u8d60\u9001\u53ef\u5f00\u542f\u623f\u95f4\u5185\u793c\u7269\u52a0\u6210Buff"},2:{key1:"buffRate",text1:"\u6210\u529f\u5f00\u542fxxxx%PK\u503cBUFF\u52a0\u6210",key2:"buff_duration",text2:"\uff08xxxxs\uff09"},3:{key1:"name",text1:"\u6210\u529f\u5f00\u542fxxxx\u4efb\u52a1",text2:""},4:{key1:"name",text1:"\u6210\u529f\u5f00\u542f\u9690\u85cf\u4efb\u52a1",text2:""}},c=function(e){function Effect(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Effect);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={isShow:!0,status:1},t.contentTimer=null,t}return _inherits(Effect,e),Effect.prototype.componentDidMount=function componentDidMount(){var e=this;clearTimeout(this.contentTimer),this.contentTimer=setTimeout(function(){e.setState({status:2})},1800)},Effect.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.contentTimer)},Effect.prototype.getTaskContent=function getTaskContent(){var e=this.props,t=e.taskType,i=e.uname;return"FB"===t?r.a.createElement("div",{className:"PKCommonsEffectFinished-taskCont",__source:{fileName:o,lineNumber:60},__self:this},"\u606d\u559c",r.a.createElement("div",{className:"PKCommonsEffectFinished-uname",__source:{fileName:o,lineNumber:61},__self:this}," ",i," "),"\u62a2\u5230\u9996\u6740"):null},Effect.prototype.renderContent=function renderContent(){var e=this.props,t=e.atype,i=e.pic,a=e.name,c=this.state.status,l=n({},s[+t],this.props),u=l.text1?l.text1.replace("xxxx",l[l.key1]||"--").replace("uname",l.uname||"--"):null,p=l.text2?l.text2.replace("xxxx",l[l.key2]||"--"):null;return 2===c?r.a.createElement("div",{className:"PKCommonsEffectFinished",__source:{fileName:o,lineNumber:86},__self:this},r.a.createElement("div",{className:"PKCommonsEffectFinished-award",__source:{fileName:o,lineNumber:87},__self:this},i?r.a.createElement("img",{className:"PKCommonsEffectFinished-awardImg",src:i,__source:{fileName:o,lineNumber:88},__self:this}):null),r.a.createElement("div",{className:"PKCommonsEffectFinished-content",__source:{fileName:o,lineNumber:90},__self:this},r.a.createElement("div",{className:"PKCommonsEffectFinished-banner",__source:{fileName:o,lineNumber:91},__self:this},a),r.a.createElement("div",{className:"PKCommonsEffectFinished-text1",__source:{fileName:o,lineNumber:92},__self:this},u),r.a.createElement("div",{className:"PKCommonsEffectFinished-text2",__source:{fileName:o,lineNumber:93},__self:this},p))):this.getTaskContent()},Effect.prototype.render=function render(){var e=this.state.isShow;return void 0!==e&&e?this.renderContent():null},Effect}(r.a.Component);t.default=c},ed7240:function(e,t,i){e.exports=i("5f575e")("c1dfd")},eeb07d:function(e,t,i){e.exports=i("d1db8c")("5371a")},eeb9b8:function(e,t,i){e.exports=i("5f575e")("aa9da")},ef6d37:function(e,t,i){"use strict";var a=i("1a22b7"),r=i.n(a),n=(i("f6c795"),"/shark/live/src/pages/roomPage/videoAboveModule/components/PKCommons/SvgaEffectTpl/TaskFinish/GwtAward.js");t.default=function GwtAward(e){var t=e.isSelf,i=e.packetYc,a=void 0===i?0:i,o=e.topUname,s=e.receType;return 2===+s?r.a.createElement("div",{className:"PKCommonsEffectGwt",__source:{fileName:n,lineNumber:8},__self:void 0},t?null:r.a.createElement("div",{className:"PKCommonsEffectGwt-nick",__source:{fileName:n,lineNumber:9},__self:void 0},o||"--"),r.a.createElement("div",{className:"PKCommonsEffectGwt-desc",__source:{fileName:n,lineNumber:10},__self:void 0},+a/100||0,"\u9c7c\u7fc5")):3===+s?r.a.createElement("div",{className:"PKCommonsEffectGwt is-all",__source:{fileName:n,lineNumber:15},__self:void 0},r.a.createElement("div",{className:"PKCommonsEffectGwt-desc",__source:{fileName:n,lineNumber:16},__self:void 0},+a/100||0,"\u9c7c\u7fc5")):null}},f0e21f:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/other/finishedGT_d15c448.svga"},f2b8b7:function(e,t,i){e.exports=i("5f575e")("7d4e5")},f489b9:function(e,t,i){e.exports=i("5f575e")("6f577")},f50a48:function(e,t,i){"use strict";var a=i("eb3e22"),r=i("70e70d"),n={lwlt:{},lwlt2:{},ltst:{},ltst2:{},zhuanpanConfirm:function getLocalStorage(e){return a.DataCenter.localStorage.get(e)}("zhuanpan_confirm")||0,giftConfig:void 0,driveStartTime:0};t.default={trunTableDialogData:function getTrunTableDialogData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1],i=e;switch(t.type){case r.TURNTABLELDIALOG_BIGWHEELLWLT:return 1===+t.payload.wt?i.lwlt=t.payload:i.lwlt2=t.payload,i;case r.TURNTABLELDIALOG_BIGWHEELLLDATA:return 1===+t.payload.wt?i.ltst=t.payload:i.ltst2=t.payload,i;case r.TURNTABLELDIALOG_ZHUANPAN_TOAST:return i.zhuanpanConfirm=t.payload,i;case r.TURNTABLELDIALOG_LOTTERY_START:return i.driveStartTime=t.payload,i;default:return e}}}},f68984:function(e,t,i){e.exports=i("d1db8c")("53a00")},f6c795:function(e,t,i){},f7c2a6:function(e,t,i){},f80298:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/loser2_20fa812.png"},fa2f9c:function(e,t,i){},fce537:function(e,t,i){e.exports=i("5f575e")("aa459")},fdc387:function(e,t,i){"use strict";var a=i("70fc6c");t.default=a.default},fe4b46:function(e,t,i){"use strict";i.d(t,"default",function(){return c});var a=i("1a22b7"),r=i.n(a),n=i("2452f2"),o=i.n(n),s=(i("1c028d"),"/shark/live/src/pages/roomPage/videoAboveModule/components/ChargeTask/notice/noticeView.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),a=0;a<i.length;a++){var r=i[a],n=Object.getOwnPropertyDescriptor(t,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}(e,t))}var c=function(e){function NoticeView(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NoticeView);var i=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));i.overTime=0;var a=Object.getPrototypeOf(i);return Object.getOwnPropertyNames(a).forEach(function(e){var t=i[e];"function"===typeof t&&(i[e]=t.bind(i))}),i}return _inherits(NoticeView,e),NoticeView.prototype.componentWillUnmount=function componentWillUnmount(){this.overTimeId&&clearTimeout(this.overTimeId)},NoticeView.prototype.componentDidUpdate=function componentDidUpdate(){var e=this,t=this.props.styleVlue;if(this.div&&(this.div.style=t||""),4===+this.props.overTime&&0===+this.overTime){this.overTime=this.props.overTime,setTimeout(function(){e.div&&e.div.classList.add("move")},50);var i=this.props.notice?this.props.notice.getBtnStr():"";this.overTimeId&&clearTimeout(this.overTimeId),this.overTime&&""===i?this.overTimeId=setTimeout(this.timeOutHandle,1e3*this.overTime):this.props.model.hasNotice()?this.overTimeId=setTimeout(this.timeOutHandle,1e3):this.overTime=0}else 0===+this.props.overTime&&this.div&&this.div.classList.remove("move")},NoticeView.prototype.render=function render(){var e=this,t=this.props.notice;if(!t)return null;var i=t.getBtnStr();return r.a.createElement("div",{className:"Notice",ref:function ref(t){e.div=t},__source:{fileName:s,lineNumber:79},__self:this},r.a.createElement("img",{src:o.a,style:{width:"49px",height:"63px",alignSelf:"center",flexShrink:"0",marginLeft:"6px"},__source:{fileName:s,lineNumber:85},__self:this}),r.a.createElement("p",{className:"Notice-item_desNotice",dangerouslySetInnerHTML:{__html:t.getMsg()},__source:{fileName:s,lineNumber:95},__self:this}),i?r.a.createElement("button",{className:"Notice-item_btnNotice",onClick:this.addPriceHnadler,__source:{fileName:s,lineNumber:100},__self:this},i):null,i?r.a.createElement("div",{className:"Notice-item_btnNotice2",onClick:this.closeHnadler,__source:{fileName:s,lineNumber:108},__self:this}):null)},NoticeView.prototype.timeOutHandle=function timeOutHandle(){this.div&&this.div.classList.remove("move"),this.overTime=0,this.nextId&&clearTimeout(this.nextId),this.nextId=setTimeout(this.nextOne,1e3)},NoticeView.prototype.nextOne=function nextOne(){var e=this.props.model;e&&e.nvShow()},NoticeView.prototype.addPriceHnadler=function addPriceHnadler(){var e=this.props,t=e.model,i=e.notice;switch(i.getBtnStr()){case"\u4e00\u952e\u8d60\u9001":var a=t.findIntimateTask(parseInt(i.fid,10),1);a&&t.callJS({type:"send",data:{gid:a.gid,uid:i.uid,need:a.total-a.current}});break;case"\u7ade\u4ef7":case"\u63d0\u4ef7":t.callJS({type:"compete",data:i.tn});break;case"\u5f00\u59cb\u8868\u6f14":t.start(parseInt(i.fid,10))}this.timeOutHandle()},NoticeView.prototype.closeHnadler=function closeHnadler(){this.timeOutHandle()},NoticeView}(r.a.Component)},ffca33:function(e,t,i){e.exports=i("5f575e")("66581")}},[["8ce8db","common-pre"]]]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/videoAboveModule_f5c4bdd.js.map
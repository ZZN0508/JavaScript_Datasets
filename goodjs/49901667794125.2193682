function AppMeasurement_Module_AudienceManagement(e){var t=this;t.s=e;var n=window;n.s_c_in||(n.s_c_il=[],n.s_c_in=0),t._il=n.s_c_il,t._in=n.s_c_in,t._il[t._in]=t,n.s_c_in++,t._c="s_m",t.setup=function(e){n.DIL&&e&&(e.disableDefaultRequest=!0,e.disableCORS=!0,e.secureDataCollection=!1,t.instance=n.DIL.create(e),t.tools=n.DIL.tools)},t.isReady=function(){return!!t.instance},t.getEventCallConfigParams=function(){return t.instance&&t.instance.api&&t.instance.api.getEventCallConfigParams?t.instance.api.getEventCallConfigParams():{}},t.passData=function(e){t.instance&&t.instance.api&&t.instance.api.passData&&t.instance.api.passData(e)}}!function(){"use strict";var s,i,r;"function"!=typeof window.DIL&&(window.DIL=function(n,e){function t(e){return void 0===e||!0===e}function s(){H||(H=!0,L.registerRequest(),U())}var c,f,r,u,p,o,i,a,d,h,l,g,m,I,y,b,D,v,C=[],O={};n!==Object(n)&&(n={}),f=n.partner,r=n.containerNSID,u=n.mappings,p=n.uuidCookie,S=!0===n.enableErrorReporting,o=n.visitorService,i=n.declaredId,a=!0===n.delayAllUntilWindowLoad,B=t(n.secureDataCollection),d="boolean"==typeof n.isCoopSafe?n.isCoopSafe:null,h=t(n.enableHrefererParam),l=t(n.enableLogging),g=t(n.enableUrlDestinations),m=t(n.enableCookieDestinations),I=!0===n.disableDefaultRequest,y=n.afterResultForDefaultRequest,b=n.visitorConstructor,D=!0===n.disableCORS,v=!0===n.ignoreHardDependencyOnVisitorAPI,S&&DIL.errorModule.activate(),v&&C.push("Warning: this instance is configured to ignore the hard dependency on the VisitorAPI service. This means that no URL destinations will be fired if the instance has no connection to VisitorAPI. If the VisitorAPI service is not instantiated, ID syncs will not be fired either.");var S=!0===window._dil_unit_tests;if((c=e)&&C.push(c+""),!f||"string"!=typeof f){var _={name:"error",message:c="DIL partner is invalid or not specified in initConfig",filename:"dil.js"};return DIL.errorModule.handleError(_),new Error(c)}if(c="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0",!r&&"number"!=typeof r||(r=parseInt(r,10),!isNaN(r)&&0<=r&&(c="")),c&&(r=0,C.push(c),c=""),(_=DIL.getDil(f,r))instanceof DIL&&_.api.getPartner()===f&&_.api.getContainerNSID()===r)return _;if(!(this instanceof DIL))return new DIL(n,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+f+" and containerNSID = "+r);DIL.registerDil(this,f,r);var w={doesConsoleLogExist:window.console===Object(window.console)&&"function"==typeof window.console.log,logMemo:{},log:function(e){C.push(e),l&&this.doesConsoleLogExist&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,arguments)},logOnce:function(e){this.logMemo[e]||(this.logMemo[e]=!0,w.log(e))}},R={IS_HTTPS:B||"https:"===document.location.protocol,SIX_MONTHS_IN_MINUTES:259200,IE_VERSION:function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return null}()};R.IS_IE_LESS_THAN_10="number"==typeof R.IE_VERSION&&R.IE_VERSION<10;var E={stuffed:{}},P={},L={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},firstRequestHasFired:!1,abortRequests:!1,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,platformParams:{d_nsid:r+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:3e4,calledBack:!1,mid:null,noVisitorAPI:null,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(e){try{if(this.admsProcessingStarted)return;this.admsProcessingStarted=!0;var t,n,s,i=o;if("function"!=typeof e||"function"!=typeof e.getInstance)throw this.noVisitorAPI=!0,new Error("Visitor does not exist.");if(i!==Object(i)||!(t=i.namespace)||"string"!=typeof t)throw this.releaseType="no namespace",new Error("DIL.create() needs the initConfig property `visitorService`:{namespace:'<Experience Cloud Org ID>'}");if((n=e.getInstance(t,{idSyncContainerID:r}))!==Object(n)||"function"!=typeof n.isAllowed||"function"!=typeof n.getMarketingCloudVisitorID||"function"!=typeof n.getCustomerIDs||"function"!=typeof n.isOptedOut||"function"!=typeof n.publishDestinations)throw this.releaseType="invalid instance",s="Invalid Visitor instance.",n===Object(n)&&"function"!=typeof n.publishDestinations&&(s+=" In particular, visitorInstance.publishDestinations is not a function. This is needed to fire URL destinations in DIL v8.0+ and should be present in Visitor v3.3.0+ ."),new Error(s);if(this.VisitorAPI=e,!n.isAllowed())return this.releaseType="VisitorAPI is not allowed to write cookies",void this.releaseRequests();this.instance=n,this.waitForMidToReleaseRequests()}catch(e){if(!v)throw new Error("Error in processing Visitor API, which is a hard dependency for DIL v8.0+: "+e.message);this.releaseRequests()}},waitForMidToReleaseRequests:function(){var t=this;this.instance&&(this.instance.getMarketingCloudVisitorID(function(e){t.mid=e,t.releaseType="VisitorAPI",t.releaseRequests()},!0),(!k.exists||!k.isIabContext&&k.isApproved()||k.isIabContext&&Q.hasGoSignal())&&setTimeout(function(){"VisitorAPI"!==t.releaseType&&(t.releaseType="timeout",t.releaseRequests())},this.getLoadTimeout()))},releaseRequests:function(){this.calledBack=!0,L.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var e=M.isPopulatedString,t=this.getMarketingCloudVisitorID();return e(this.mid)&&this.mid===t||(this.mid=t),e(this.mid)?"d_mid="+this.mid+"&":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(e){if(e!==Object(e))return"";var t,n,s,i,r="",o=[],a=[];for(t in e)e.hasOwnProperty(t)&&(n=e[a[0]=t])===Object(n)&&(a[1]=n.id||"",a[2]=n.authState||0,o.push(a),a=[]);if(i=o.length)for(s=0;s<i;s++)r+="&d_cid_ic="+V.encodeAndBuildRequest(o[s],"%01");return r},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(e){this.isOptedOut=e,this.isOptedOutCallbackCalled=!0,L.registerRequest(),k.isIabContext()&&Q.checkQueryStringObject()},getLoadTimeout:function(){var e=this.instance;if(e){if("function"==typeof e.getLoadTimeout)return e.getLoadTimeout();if(void 0!==e.loadTimeout)return e.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(e,t){var n=M.isPopulatedString,s=encodeURIComponent;if(e===Object(e)&&n(t)){var i=e.dpid,r=e.dpuuid,e=null;if(n(i)&&n(r))return e=s(i)+"$"+s(r),!0===this.declaredIdCombos[e]?"setDeclaredId: combo exists for type '"+t+"'":(this.declaredIdCombos[e]=!0,this.declaredId[t]={dpid:i,dpuuid:r},"setDeclaredId: succeeded for type '"+t+"'")}return"setDeclaredId: failed for type '"+t+"'"},getDeclaredIdQueryString:function(){var e=this.declaredId.request,t=this.declaredId.init,n=encodeURIComponent,s="";return null!==e?s="&d_dpid="+n(e.dpid)+"&d_dpuuid="+n(e.dpuuid):null!==t&&(s="&d_dpid="+n(t.dpid)+"&d_dpuuid="+n(t.dpuuid)),s}},registerRequest:function(e){var t=this.firingQueue;e===Object(e)&&(t.push(e),e.isDefaultRequest||(I=!0)),this.firing||!t.length||a&&!DIL.windowLoaded||(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled&&(k.isApproved()||Q.hasGoSignal())&&(this.adms.isOptedOutCallbackCalled=!1,(t=t.shift()).src=t.src.replace(/&d_nsid=/,"&"+this.adms.getMIDQueryString()+Q.getQueryString()+"d_nsid="),M.isPopulatedString(t.corsPostData)&&(t.corsPostData=t.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+Q.getQueryString()+"d_nsid=")),T.fireRequest(t),this.firstRequestHasFired||"script"!==t.tag&&"cors"!==t.tag||(this.firstRequestHasFired=!0)))},processVisitorAPI:function(){this.adms.process(b||window.Visitor)},getCoopQueryString:function(){var e="";return!0===d?e="&d_coop_safe=1":!1===d&&(e="&d_coop_unsafe=1"),e}};O.requestController=L;var A,q={sendingMessages:!1,messages:[],messagesPosted:[],destinations:[],destinationsPosted:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],publishDestinationsVersion:null,requestToProcess:function(e,t){function n(){r.jsonForComparison.push(e),r.jsonWaiting.push([e,t])}var s,i,r=this;if(e&&!M.isEmptyObject(e))if(s=JSON.stringify(e.dests||[]),this.jsonForComparison.length){for(var o,a=!1,d=0,u=this.jsonForComparison.length;d<u;d++)if(o=this.jsonForComparison[d],s===JSON.stringify(o.dests||[])){a=!0;break}a?this.jsonDuplicates.push(e):n()}else n();this.jsonWaiting.length&&(i=this.jsonWaiting.shift(),this.process(i[0],i[1]),this.requestToProcess()),this.messages.length&&!this.sendingMessages&&this.sendMessages()},process:function(e){if(g){var t,n,s,i,r,o=encodeURIComponent,a=this.getPublishDestinationsVersion(),d=!1;if(-1!==a){if((t=e.dests)&&t instanceof Array&&(n=t.length)){for(s=0;s<n;s++)i=t[s],r=[o("dests"),o(i.id||""),o(i.y||""),o(i.c||"")].join("|"),this.addMessage(r),r={url:i.c,hideReferrer:void 0===i.hr||!!i.hr,message:r},this.addDestination(r),void 0!==i.hr&&(d=!0);1===a&&d&&w.logOnce("Warning: visitorInstance.publishDestinations version is old (Visitor v3.3.0 to v4.0.0). URL destinations will not have the option of being fired on page, only in the iframe.")}this.jsonProcessed.push(e)}}},addMessage:function(e){this.messages.push(e)},addDestination:function(e){this.destinations.push(e)},sendMessages:function(){this.sendingMessages||(this.sendingMessages=!0,g&&this.messages.length&&this.publishDestinations())},publishDestinations:function(){function e(e){w.log("visitor.publishDestinations() result: "+(e.error||e.message)),n.sendingMessages=!1,n.requestToProcess()}function t(){n.messages=[],n.destinations=[]}var n=this,s=L.adms.instance,i=[],r=[];return 1===this.publishDestinationsVersion?(V.extendArray(i,this.messages),V.extendArray(this.messagesPosted,this.messages),t(),s.publishDestinations(f,i,e),"Called visitor.publishDestinations() version 1"):1<this.publishDestinationsVersion?(V.extendArray(r,this.destinations),V.extendArray(this.destinationsPosted,this.destinations),t(),s.publishDestinations({subdomain:f,callback:e,urlDestinations:r}),"Called visitor.publishDestinations() version > 1"):void 0},getPublishDestinationsVersion:function(){if(null!==this.publishDestinationsVersion)return this.publishDestinationsVersion;var e=L.adms.instance,t=-1;return e.publishDestinations(null,null,function(e){e===Object(e)&&("subdomain is not a populated string."===(e=e.error)?t=1:"Invalid parameters passed."===e&&(t=2))}),this.publishDestinationsVersion=t}},j={traits:function(e){return M.isValidPdata(e)&&(P.sids instanceof Array||(P.sids=[]),V.extendArray(P.sids,e)),this},pixels:function(e){return M.isValidPdata(e)&&(P.pdata instanceof Array||(P.pdata=[]),V.extendArray(P.pdata,e)),this},logs:function(e){return M.isValidLogdata(e)&&(P.logdata!==Object(P.logdata)&&(P.logdata={}),V.extendObject(P.logdata,e)),this},customQueryParams:function(e){return M.isEmptyObject(e)||V.extendObject(P,e,L.reservedKeys),this},signals:function(e,t){var n,s=e;if(!M.isEmptyObject(s)){if(t&&"string"==typeof t)for(n in s={},e)e.hasOwnProperty(n)&&(s[t+n]=e[n]);V.extendObject(P,s,L.reservedKeys)}return this},declaredId:function(e){return L.declaredId.setDeclaredId(e,"request"),this},result:function(e){return"function"==typeof e&&(P.callback=e),this},afterResult:function(e){return"function"==typeof e&&(P.postCallbackFn=e),this},useImageRequest:function(){return P.useImageRequest=!0,this},clearData:function(){return P={},this},submit:function(e){return P.isDefaultRequest=!!e,T.submitRequest(P),P={},this},getPartner:function(){return f},getContainerNSID:function(){return r},getEventLog:function(){return C},getState:function(){var e={},t={};return V.extendObject(e,L,{registerRequest:!0}),V.extendObject(t,q,{requestToProcess:!0,process:!0,sendMessages:!0}),{initConfig:n,pendingRequest:P,otherRequestInfo:e,destinationPublishingInfo:t,log:C}},idSync:function(){throw new Error("Please use the `idSyncByURL` method of the Experience Cloud ID Service (Visitor) instance")},aamIdSync:function(){throw new Error("Please use the `idSyncByDataSource` method of the Experience Cloud ID Service (Visitor) instance")},passData:function(e){return M.isEmptyObject(e)?"Error: json is empty or not an object":(T.defaultCallback(e),e)},getPlatformParams:function(){return L.platformParams},getEventCallConfigParams:function(){var e,t=L,n=t.modStatsParams,s=t.platformParams;if(!n){for(e in n={},s)s.hasOwnProperty(e)&&!t.nonModStatsParams[e]&&(n[e.replace(/^d_/,"")]=s[e]);!0===d?n.coop_safe=1:!1===d&&(n.coop_unsafe=1),t.modStatsParams=n}return n},setAsCoopSafe:function(){return d=!0,this},setAsCoopUnsafe:function(){return d=!1,this},getEventCallIabSignals:function(e){var t;return e!==Object(e)?"Error: config is not an object":"function"!=typeof e.callback?"Error: config.callback is not a function":(t=parseInt(e.timeout,10),isNaN(t)&&(t=null),void Q.getQueryStringObject(e.callback,t))}},T={corsMetadata:(B="none",{corsType:B="undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest?"XMLHttpRequest":B}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(e){return L.registerRequest(T.createQueuedRequest(e)),!0},createQueuedRequest:function(e){var t,n,s,i,r,o=e.callback,a="img",d=e.isDefaultRequest;if(delete e.isDefaultRequest,!M.isEmptyObject(u))for(s in u)if(u.hasOwnProperty(s)){if(null==(i=u[s])||""===i)continue;if(s in e&&!(i in e)&&!(i in L.reservedKeys)){if(null==(r=e[s])||""===r)continue;e[i]=r}}return M.isValidPdata(e.sids)||(e.sids=[]),M.isValidPdata(e.pdata)||(e.pdata=[]),M.isValidLogdata(e.logdata)||(e.logdata={}),e.logdataArray=V.convertObjectToKeyValuePairs(e.logdata,"=",!0),e.logdataArray.push("_ts="+(new Date).getTime()),"function"!=typeof o&&(o=this.defaultCallback),t=this.makeRequestSrcData(e),{tag:a=(n=this.getCORSInstance())&&!0!==e.useImageRequest?"cors":a,src:t.src,corsSrc:t.corsSrc,callbackFn:o,postCallbackFn:e.postCallbackFn,useImageRequest:!!e.useImageRequest,requestData:e,corsInstance:n,corsPostData:t.corsPostData,isDefaultRequest:d}},defaultCallback:function(e,t){var n,s,i,r,o,a,d,u;if(m&&(n=e.stuff)&&n instanceof Array&&(s=n.length))for(i=0;i<s;i++)(u=n[i])&&u===Object(u)&&(r=u.cn,o=u.cv,void 0!==(a=u.ttl)&&""!==a||(a=Math.floor(V.getMaxCookieExpiresInMinutes()/60/24)),d=u.dmn||"."+document.domain.replace(/^www\./,""),u=u.type,r&&(o||"number"==typeof o)&&("var"!==u&&(a=parseInt(a,10))&&!isNaN(a)&&V.setCookie(r,o,24*a*60,"/",d,!1),E.stuffed[r]=o));var c,l,f=e.uuid;M.isPopulatedString(f)&&(M.isEmptyObject(p)||("string"==typeof(c=p.path)&&c.length||(c="/"),l=parseInt(p.days,10),isNaN(l)&&(l=100),V.setCookie(p.name||"aam_did",f,24*l*60,c,p.domain||"."+document.domain.replace(/^www\./,""),!0===p.secure))),L.abortRequests||q.requestToProcess(e,t)},makeRequestSrcData:function(r){r.sids=M.removeEmptyArrayValues(r.sids||[]),r.pdata=M.removeEmptyArrayValues(r.pdata||[]);var o=L,e=o.platformParams,t=V.encodeAndBuildRequest(r.sids,","),n=V.encodeAndBuildRequest(r.pdata,","),s=(r.logdataArray||[]).join("&");delete r.logdataArray;var a=encodeURIComponent,i=R.IS_HTTPS?"https://":"http://",d=o.declaredId.getDeclaredIdQueryString(),u=o.adms.instance?o.adms.getCustomerIDsQueryString(o.adms.getCustomerIDs()):"",c=function(){var e,t,n,s,i=[];for(e in r)if(!(e in o.reservedKeys)&&r.hasOwnProperty(e))if(t=r[e],e=a(e),t instanceof Array)for(n=0,s=t.length;n<s;n++)i.push(e+"="+a(t[n]));else i.push(e+"="+a(t));return i.length?"&"+i.join("&"):""}(),l="d_dil_ver="+a(DIL.version),t="d_nsid="+e.d_nsid+o.getCoopQueryString()+d+u+(t.length?"&d_sid="+t:"")+(n.length?"&d_px="+n:"")+(s.length?"&d_ld="+a(s):""),n="&d_rtbd="+e.d_rtbd+"&d_jsonv="+e.d_jsonv+"&d_dst="+e.d_dst,s=h?"&h_referer="+a(location.href):"",i=(e=i+f+".demdex.net/event")+"?"+l+"&"+t+n+c+s;return{corsSrc:e+"?"+l+"&_ts="+(new Date).getTime(),src:i,corsPostData:t+n+c+s,isDeclaredIdCall:""!==d}},fireRequest:function(e){var t;"img"===e.tag?this.fireImage(e):(t={dpid:(t=(t=L.declaredId).declaredId.request||t.declaredId.init||{}).dpid||"",dpuuid:t.dpuuid||""},this.fireCORS(e,t))},fireImage:function(t){var e,n,s=L;s.abortRequests||(s.firing=!0,e=new Image(0,0),s.sent.push(t),e.onload=function(){s.firing=!1,s.fired.push(t),s.num_of_img_responses++,s.registerRequest()},n=function(e){c="imgAbortOrErrorHandler received the event of type "+e.type,w.log(c),s.abortRequests=!0,s.firing=!1,s.errored.push(t),s.num_of_img_errors++,s.registerRequest()},e.addEventListener("error",n),e.addEventListener("abort",n),e.src=t.src)},fireCORS:function(s,i){var r=this,o=L,e=this.corsMetadata.corsType,t=s.corsSrc,n=s.corsInstance,a=s.corsPostData,d=s.postCallbackFn,u="function"==typeof d;if(!o.abortRequests&&!D){o.firing=!0;try{n.open("post",t,!0),"XMLHttpRequest"===e&&(n.withCredentials=!0,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(e){var t;try{if((t=JSON.parse(e))!==Object(t))return r.handleCORSError(s,i,"Response is not JSON")}catch(e){return r.handleCORSError(s,i,"Error parsing response as JSON")}try{var n=s.callbackFn;o.firing=!1,o.fired.push(s),o.num_of_cors_responses++,n(t,i),u&&d(t,i)}catch(e){e.message="DIL handleCORSResponse caught error with message "+e.message,c=e.message,w.log(c),e.filename=e.filename||"dil.js",e.partner=f,DIL.errorModule.handleError(e);try{n({error:e.name+"|"+e.message},i),u&&d({error:e.name+"|"+e.message},i)}catch(e){}}finally{o.registerRequest()}}(this.responseText)}),n.onerror=function(){r.handleCORSError(s,i,"onerror")},n.ontimeout=function(){r.handleCORSError(s,i,"ontimeout")},n.send(a)}catch(e){this.handleCORSError(s,i,"try-catch")}o.sent.push(s),o.declaredId.declaredId.request=null}},handleCORSError:function(e,t,n){L.num_of_cors_errors++,L.corsErrorSources.push(n)}},M={isValidPdata:function(e){return!!(e instanceof Array&&this.removeEmptyArrayValues(e).length)},isValidLogdata:function(e){return!this.isEmptyObject(e)},isEmptyObject:function(e){if(e!==Object(e))return!0;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},removeEmptyArrayValues:function(e){for(var t,n=0,s=e.length,i=[],n=0;n<s;n++)null!=(t=e[n])&&""!==t&&i.push(t);return i},isPopulatedString:function(e){return"string"==typeof e&&e.length}},V={convertObjectToKeyValuePairs:function(e,t,n){var s,i,r=[];for(s in t=t||"=",e)e.hasOwnProperty(s)&&null!=(i=e[s])&&""!==i&&r.push(s+t+(n?encodeURIComponent(i):i));return r},encodeAndBuildRequest:function(e,t){return e.map(function(e){return encodeURIComponent(e)}).join(t)},getCookie:function(e){for(var t,n=e+"=",s=document.cookie.split(";"),i=0,r=s.length;i<r;i++){for(t=s[i];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(n))return decodeURIComponent(t.substring(n.length,t.length))}return null},setCookie:function(e,t,n,s,i,r){var o=new Date;n=n&&1e3*n*60,document.cookie=e+"="+encodeURIComponent(t)+(n?";expires="+new Date(o.getTime()+n).toUTCString():"")+(s?";path="+s:"")+(i?";domain="+i:"")+(r?";secure":"")},extendArray:function(e,t){return e instanceof Array&&t instanceof Array&&(Array.prototype.push.apply(e,t),!0)},extendObject:function(e,t,n){if(e!==Object(e)||t!==Object(t))return!1;for(var s in t)if(t.hasOwnProperty(s)){if(!M.isEmptyObject(n)&&s in n)continue;e[s]=t[s]}return!0},getMaxCookieExpiresInMinutes:function(){return R.SIX_MONTHS_IN_MINUTES},replaceMethodsWithFunction:function(e,t){if(e===Object(e)&&"function"==typeof t)for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t)}},k=(A=O.requestController,{exists:null,instance:null,aamIsApproved:null,init:function(){var e=this;this.checkIfExists()?(this.exists=!0,this.instance=window.adobe.optIn,this.instance.fetchPermissions(function(){e.callback()},!0)):this.exists=!1},checkIfExists:function(){return window.adobe===Object(window.adobe)&&window.adobe.optIn===Object(window.adobe.optIn)},callback:function(){this.aamIsApproved=this.instance.isApproved([this.instance.Categories.AAM]),A.adms.waitForMidToReleaseRequests(),A.adms.getIsOptedOut()},isApproved:function(){return!this.isIabContext()&&!A.adms.isOptedOut&&(!this.exists||this.aamIsApproved)},isIabContext:function(){return this.instance&&this.instance.isIabContext}});O.optIn=k;var x,N,F,Q=(x=O.requestController,N=O.optIn,F={isVendorConsented:null,doesGdprApply:null,consentString:null,queryStringObjectCallbacks:[],init:function(){this.fetchConsentData()},hasGoSignal:function(){return!(!(N.isIabContext()&&this.isVendorConsented&&this.doesGdprApply&&"string"==typeof this.consentString&&this.consentString.length)||x.adms.isOptedOut)},fetchConsentData:function(n,e){var s=this,t={};"function"!=typeof n&&(n=function(){}),N.instance&&N.isIabContext()?(e&&(t.timeout=e),N.instance.execute({command:"iabPlugin.fetchConsentData",params:t,callback:function(e,t){t===Object(t)?(s.doesGdprApply=!!t.gdprApplies,s.consentString=t.consentString||""):(s.doesGdprApply=!1,s.consentString=""),s.isVendorConsented=N.instance.isApproved(N.instance.Categories.AAM),e?n({}):s.checkQueryStringObject(n),x.adms.waitForMidToReleaseRequests()}})):n({})},getQueryString:function(){return N.isIabContext()?"gdpr="+(this.doesGdprApply?1:0)+"&gdpr_consent="+this.consentString+"&":""},getQueryStringObject:function(e,t){this.fetchConsentData(e,t)},checkQueryStringObject:function(e){F.hasGoSignal()&&"function"==typeof e&&e({gdpr:this.doesGdprApply?1:0,gdpr_consent:this.consentString})}});O.iab=Q,"error"===f&&0===r&&window.addEventListener("load",function(){DIL.windowLoaded=!0});var H=!1,U=function(){setTimeout(function(){I||L.firstRequestHasFired||("function"==typeof y?j.afterResult(y):j).submit(!0)},DIL.constants.TIME_TO_DEFAULT_REQUEST)},B=document;"error"!==f&&(DIL.windowLoaded?s():"complete"!==B.readyState&&"loaded"!==B.readyState?window.addEventListener("load",function(){DIL.windowLoaded=!0,s()}):(DIL.windowLoaded=!0,s())),L.declaredId.setDeclaredId(i,"init"),k.init(),Q.init(),L.processVisitorAPI(),R.IS_IE_LESS_THAN_10&&V.replaceMethodsWithFunction(j,function(){return this}),this.api=j,this.getStuffedVariable=function(e){var t=E.stuffed[e];return t=!t&&"number"!=typeof t&&!(t=V.getCookie(e))&&"number"!=typeof t?"":t},this.validators=M,this.helpers=V,this.constants=R,this.log=C,this.pendingRequest=P,this.requestController=L,this.destinationPublishing=q,this.requestProcs=T,this.units=O,this.initConfig=n,this.logger=w,S&&(this.variables=E,this.callWindowLoadFunctions=s)},DIL.extendStaticPropertiesAndMethods=function(e){if(e===Object(e))for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},DIL.extendStaticPropertiesAndMethods({version:"9.4",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:500},variables:{scriptNodeList:document.getElementsByTagName("script")},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(e){this.windowLoaded="function"==typeof e?!!e():"boolean"!=typeof e||e},create:function(e){try{return new DIL(e)}catch(e){throw new Error("Error in attempt to create DIL instance with DIL.create(): "+e.message)}},registerDil:function(e,t,n){n=t+"$"+n;n in this.dils||(this.dils[n]=e)},getDil:function(e,t){var n;return(n=(e="string"!=typeof e?"":e)+"$"+(t=t||0))in this.dils?this.dils[n]:new Error("The DIL instance with partner = "+e+" and containerNSID = "+t+" was not found")},dexGetQSVars:function(e,t,n){n=this.getDil(t,n);return n instanceof this?n.getStuffedVariable(e):""}}),DIL.errorModule=(s=DIL.create({partner:"error",containerNSID:0,ignoreHardDependencyOnVisitorAPI:!0}),r=!(i={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020}),{activate:function(){r=!0},handleError:function(e){if(!r)return"DIL error module has not been activated";var t=(e=e!==Object(e)?{}:e).name?(e.name+"").toLowerCase():"",n=[],e={name:t,filename:e.filename?e.filename+"":"",partner:e.partner?e.partner+"":"no_partner",site:e.site?e.site+"":document.location.href,message:e.message?e.message+"":""};return n.push(t in i?i[t]:i.noerrortypedefined),s.api.pixels(n).logs(e).useImageRequest().submit(),"DIL error report sent"},pixelMap:i}),DIL.tools={},DIL.modules={helpers:{}})}();

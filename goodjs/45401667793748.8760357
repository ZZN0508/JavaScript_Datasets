(this.$WP=this.$WP||[]).push(["c_rvp5",(e,i)=>{"use strict";var u,I,v,a,k,t,T,r,b=e=>{var i=e["children"],e=function(e,i){if(null==e)return{};for(var t,r={},s=Object.keys(e),n=0;n<s.length;n++)t=s[n],0<=i.indexOf(t)||(r[t]=e[t]);return r}(e,["children"]);return u.createElement(r,{value:e},i)},o=({source:e,attributes:i,children:t})=>{var r=u.useContext(T),[s,n]=u.useState(void 0),[a,o]=u.useState(!1),l=!(0<Object.keys(r).length)||r.isImpressionLogged,[,d]=I(k),p=r.impressionId||null,m=i[e],r=JSON.stringify(i),c=u.useMemo(()=>({[e]:i[e],parentId:p}),[e,p,r]);return u.useEffect(()=>{l&&(o(!1),d({impressions:[c]}).then(({data:e})=>{!e||(e=e&&e.logImpressions&&e.logImpressions[0])&&(n(e),o(!0))}))},[l,c,d]),v("react_tracking_impressions")&&m?u.createElement(b,{impressionId:s,isImpressionLogged:a},t):t},s=({trip:e,children:i,element:t,detailId:r,placeType:s})=>{var n=e.status||void 0;return u.createElement(o,{source:"tripsDetail",attributes:{tripsDetail:{tripId:e.id,status:n,relation:a(e),collaborative:!!e.collaborators&&0<e.collaborators.length,element:t,detailId:r,placeType:s}}},i)},n={ALL_TRIPS:"ALL",PUBLIC_TRIPS:"PUBLIC",PRIVATE_TRIPS:"PRIVATE"},l=({trips:e,filterSelected:i,children:t})=>u.createElement(o,{source:"tripsHome",attributes:{tripsHome:{hasTrips:e&&0<e.length,filter:n[i]||"ALL"}}},t),d=({element:e,trip:i,trips:t,item:r,children:s})=>{var n,t=t?0<t.length:void 0,n=i&&void 0!==t?(n=i,t?n?n.owner&&!n.owner.isMe?"COLLABORATOR":n&&n.collaborators&&0<n.collaborators.length?"COLLABORATED":"EXISTING":"NEW":"FIRST"):void 0;return u.createElement(o,{source:"trips",attributes:{trips:{element:e,tripId:i&&i.id,tripType:n,hasTrips:t,dated:i&&!!i.date&&(!!i.date.to||!!i.date.from||!!i.date.duration),isSaved:r&&r.saved}}},s)};return[()=>{(k=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogImpressions"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"impressions"}},"type":{"kind":"NonNullType","type":{"kind":"ListType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ImpressionInput"}}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"logImpressions"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"impressions"},"value":{"kind":"Variable","name":{"kind":"Name","value":"impressions"}}}],"directives":[]}]}}],"loc":{"start":0,"end":114}}')).__key=0xd4238cb95b19,k.loc.source={body:"d4238cb95b19"},t=Object.freeze({}),T=u.createContext(t),r=T["Provider"],b.defaultProps={impressionId:void 0,isImpressionLogged:!1},e({TrackImpression:o,TrackingImpressionContextProvider:b,TripTrackingImpression:T,TripsDetailImpression:s,TripsHomeImpression:l,TripsImpression:d})},[e=>u=e,e=>I=e.useMutation,e=>v=e.featureIsEnabled,e=>a=e.userRelation]]},["cDcdfi","5X2em-","-i3PJS","eFKnUp"]]);

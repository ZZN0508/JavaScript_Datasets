var Storage=function(e,t,o){var n=this;n.fileName=e||"",n.expiresDay=t||0,n.isIE=-1!=navigator.userAgent.indexOf("MSIE")&&!window.opera,n.isInit=!1,n.target=document.documentElement,n.type=o||"json",n.init()};Storage.prototype={init:function(){var e=this;try{!window.localStorage&&e.isIE&&(e.isInit||(document.documentElement.addBehavior("#default#userdata"),e.isInit=!0))}catch(e){}},set:function(e,t,o){var n,i,a=this;"json"==(o=o||a.type)&&(t=JSON.stringify(t));try{window.localStorage?localStorage.setItem(e,t):a.isIE&&(n=a.target,i=a.fileName,n.load(i),n.setAttribute(e,t),n.expires=new Date((new Date).getTime()+864e5*a.expiresDay).toUTCString(),n.save(i))}catch(e){}},get:function(e,t){var o=this;t=t||o.type;try{if(window.localStorage)return"json"==t?JSON.parse(localStorage.getItem(e)):localStorage.getItem(e);if(o.isIE){var n=o.target,i=o.fileName;try{return n.load(i),"json"==t?JSON.parse(o.target.getAttribute(e)):o.target.getAttribute(e)}catch(e){return null}}}catch(e){}},remove:function(e){var t,o,n=this;try{window.localStorage?localStorage.removeItem(e):n.isIE&&(t=n.target,o=n.fileName,t.load(o),t.removeAttribute(e),t.expires=new Date((new Date).getTime()-1).toUTCString(),t.save(o))}catch(e){}}},"object"==typeof So&&So.web&&(So.web.storage=Storage),function(){var $,x;void 0===window.monitor&&($="360.cn",(x=function(a){var e,t,o,n,r,s=document,c=navigator,l=a.screen,u=document.domain.toLowerCase(),d=c.userAgent.toLowerCase(),g=function(e){return e.replace(/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g,"")},f=function(e,t,o){e.addEventListener?e&&e.addEventListener(t,o,!1):e&&e.attachEvent("on"+t,o)},h=function(e,t,o){for(o=o||5,t=t.toUpperCase();e&&0<o--;){if(e.tagName===t)return e;e=e.parentNode}return null},m=function(e){var t;return"target"in e||((t=e.srcElement||e.target)&&3==t.nodeType&&(t=t.parentNode),e.target=t),e},p={isArray:function(e){return"Array"==(null!=(e=e)&&null!=e.constructor?Object.prototype.toString.call(e).slice(8,-1):"")},isObject:function(e){return null!==e&&"object"==typeof e},mix:function(e,t,o){for(i in t)!o&&(e[i]||i in e)||(e[i]=t[i]);return e},encodeURIJson:function(e){var t,o=[];for(t in e){var n=e[t];void 0!==n&&(/^(password|pass|username)$/i.test(t)&&(t="__key__",n="__val__"),/(password|pass|username)=/i.test(e[t])&&(n="__val__"),o.push(encodeURIComponent(t)+"="+encodeURIComponent(n)))}return o.join("&")}},v=function(e){var e=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(e=s.cookie.match(e))?unescape(e[2]):""},w=function(e,t,o){var n=(o=o||{}).expires;"number"==typeof n&&(n=new Date).setTime(n.getTime()+o.expires),s.cookie=e+"="+escape(t)+(n?";expires="+n.toGMTString():"")+(o.path?";path="+o.path:"")+(o.domain?"; domain="+o.domain:"")},b={getProject:function(){return""},getReferrer:function(){return s.referrer},getBrowser:function(){var e={"360se-ua":"360se",TT:"tencenttraveler",Maxthon:"maxthon",GreenBrowser:"greenbrowser",Sogou:"se 1.x / se 2.x",TheWorld:"theworld"};for(i in e)if(-1<d.indexOf(e[i]))return i;var t=!1;try{1013<+external.twGetVersion(external.twGetSecurityID(a)).replace(/\./g,"")&&(t=!0)}catch(e){}if(t)return"360se-noua";t=d.match(/(msie|chrome|safari|firefox|opera)/);return t="msie"==(t=t?t[0]:"")?d.match(/msie[^;]+/):t},getLocation:function(){var t="";try{t=location.href}catch(e){(t=s.createElement("a")).href="",t=t.href}return t=t.replace(/[?#].*$/,""),t=/\.(s?htm|php)/.test(t)?t:t.replace(/\/$/,"")+"/"},getGuid:((n=v("__guid"))||(n=[_(s.domain),function(){for(var e=[c.appName,c.version,c.language||c.browserLanguage,c.platform,d,l.width,"x",l.height,l.colorDepth,s.referrer].join(""),t=e.length,o=a.history.length;o;)e+=o--^t++;return 2147483647*(Math.round(2147483647*Math.random())^_(e))}(),+new Date+Math.random()+Math.random()].join("."),t={expires:2592e7,path:"/",domain:".so.com"},(0<u.indexOf(o="."+$)&&u.lastIndexOf(o)==u.length-o.length||u==o)&&(t.domain=o),w("__guid",n,t)),function(){return n}),getCount:(e=v("count"),e=(parseInt(e)||0)+1,w("count",e,{expires:864e5,path:"/"}),function(){return e}),getFlashVer:function(){var e=-1;if(c.plugins&&c.mimeTypes.length){var t=c.plugins["Shockwave Flash"];t&&t.description&&(e=t.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0")}else if(a.ActiveXObject&&!a.opera)for(var o=16;2<=o;o--)try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+o);n&&(e=n.GetVariable("$version").replace(/WIN/g,"").replace(/,/g,"."))}catch(e){}return e=parseInt(e,10),function(){return e}}(),getContainerId:function(e){var t=S.areaIds;if(t)for(var o=new RegExp("^("+t.join("|")+")$","ig");e;){if(e.id&&o.test(e.id))return(e.getAttribute("data-desc")||e.id).substr(0,100);e=e.parentNode}return""},getText:function(e){return g((e.getAttribute("text")||e.innerText||e.textContent||e.title||"").substr(0,100))}},k={getBase:function(){return{p:b.getProject(),u:b.getLocation(),id:b.getGuid(),guid:b.getGuid()}},getTrack:function(){return{b:b.getBrowser(),c:b.getCount(),r:b.getReferrer(),fl:b.getFlashVer()}},getClick:function(e){var t=(e=m(e||event)).target,o=t.tagName,e=b.getContainerId(t);if("submit"!=t.type)return"AREA"==o?{f:t.href,c:"area:"+t.parentNode.name,cId:e}:("IMG"==o&&(i=t),!!(t=h(t,"A"))&&(n=b.getText(t),{f:t.href,c:n||i.src.match(/[^\/]+$/),cId:e}));var n=h(t,"FORM");if(n){var i=n.id||"",t=t.id,e={f:n.action,c:"form:"+(n.name||i),cId:e};return"search-form"!=i&&"searchForm"!=i||"searchBtn"!=t&&"search-btn"!=t||(t=y("kw")||y("search-kw")||y("kw1"),e.w=t?t.value:""),e}},getKeydown:function(e){if(13!=(e=m(e||event)).keyCode)return!1;var t=e.target,o=t.tagName,n=b.getContainerId(t);if("INPUT"==o){var i=h(t,"FORM");if(i){e=i.id||"",o=t.id,n={f:i.action,c:"form:"+(i.name||e),cId:n};return"kw"!=o&&"search-kw"!=o&&"kw1"!=o||(n.w=t.value),n}}return!1}},S={trackUrl:null,clickUrl:null,areaIds:null},y=function(e){return document.getElementById(e)};function _(e){for(var t,o=0,n=e.length-1;0<=n;n--){var i=parseInt(e.charCodeAt(n),10);0!=(t=266338304&(o=(o<<6&268435455)+i+(i<<14)))&&(o^=t>>21)}return o}return{version:"V1.2.2(2012.8.7)",util:b,data:k,config:S,sendLog:(a.__monitor_imgs={},function(e){var t="log_"+ +new Date,o=a.__monitor_imgs[t]=new Image;o.onload=o.onerror=function(){a.__monitor_imgs[t]=null,delete a.__monitor_imgs[t]},o.src=e}),buildLog:(r="",function(e,t){var o;!1!==e&&(e=e||{},o=k.getBase(),e=p.mix(o,e,!0),(e=p.encodeURIJson(e))!=r&&(r=e,setTimeout(function(){r=""},500),e+="&t="+ +new Date,t=-1<t.indexOf("?")?t+"&"+e:t+"?"+e,this.sendLog(t)))}),log:function(e,t){var o=S[(t=t||"click")+"Url"];o||alert("Error : the "+t+"url does not exist!"),this.buildLog(e,o)},setConf:function(e,t){var o={};return p.isObject(e)?o=e:o[e]=t,this.config=p.mix(this.config,o,!0),this},setUrl:function(e){return e&&(this.util.getLocation=function(){return e}),this},setProject:function(e){return e&&(this.util.getProject=function(){return e}),this},setId:function(){for(var e,t=[],o=0;e=arguments[o++];)p.isArray(e)?t=t.concat(e):t.push(e);return this.setConf("areaIds",t),this},getTrack:function(){var e=this.data.getTrack();return this.log(e,"track"),this},getClickAndKeydown:function(){var t=this;return f(s,"click",function(e){e=t.data.getClick(e);t.log(e,"click")}),f(s,"keydown",function(e){e=t.data.getKeydown(e);t.log(e,"click")}),x.getClickAndKeydown=function(){return t},this}}}(window)).setConf({trackUrl:"//s.360.cn/w360/s.htm",clickUrl:"//s.360.cn/w360/c.htm",wpoUrl:"//s.360.cn/w360/p.htm"}),window.monitor=x)}(),function(){function e(e){this.url=e.url,this.mid="",this.huid="",this.suggest=null,this.whichPage=null,this.historyData=null,this.displaying=!1,this.canceled=!1,this.enableShow=!0,this.isPrivacyMode=!1}function p(e){return 0==e.length?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")}function t(e){f(this,e),this.render()}function v(e,t){for(var o=!1,n=0,i=e.length;n<i;n++)if(e[n]==t){o=!0;break}return o}function o(){var t;!function(e){for(var t=!1,o=0;o<e.length;o++)if(255<e.charCodeAt(o)){t=!0;break}return t}($.trim(So.comm.q))?n(null):(t=n,$.ajax({url:"//smart.sug.so.com/translate-query",method:"POST",dataType:"JSONP",jsonpCallback:"trans",data:{query:$.trim(So.comm.q)}}).success(function(e){e&&e.data?t(e.data):t(null)}))}function n(e){var o,t,n,i,a;C&&C.localSave&&So.lib.soLocalStorage&&"undefined"!=typeof JSON&&1==So.web.savesug&&((o=$.trim(So.comm.q)).replace(a=/[^\x00-\xff]/g,"mm").length<=2||40<o.replace(a,"mm").length||(o=encodeURIComponent(o),t=T.getHistoryData(),n=!1,i=0,$.each(t,function(e,t){t.word.toLowerCase()==o.toLowerCase()&&(n=!0,i=e)}),n&&t.splice(i,1),a={},e&&(a={pinyin:encodeURIComponent(e)}),t.unshift($.extend(a,{word:o})),100<t.length&&t.pop(),So.lib.soLocalStorage.setItem(d,JSON.stringify(t)),T.addHistoryDataId()))}var d="sosug",w=[];e.prototype={loadData:function(e){var t=this;C.localSave&&!t.isPrivacyMode&&"0"!==So.lib.cookie.get("sosug")&&(t.historyData=t.getHistoryData(),t.historyData=t.historyData.splice(0,10),t.historyData&&(t.render(),e&&e()))},setOptions:function(e){this.whichPage=e.whichPage||0,this.mid=e.mid,this.huid=e.huid},setSuggest:function(e){this.suggest=e},addHistoryDataId:function(){if(So.lib.soLocalStorage){for(var e,t=So.lib.soLocalStorage.getItem(d),o=0,n=(t=t?JSON.parse(t):[]).length;o<n;o++)void 0===t[o].id&&(e=+new Date,t[o].id=o+e.toString());So.lib.soLocalStorage.setItem(d,JSON.stringify(t))}},getHistoryData:function(){var t=[];if(So.lib.soLocalStorage)if(t=So.lib.soLocalStorage.getItem(d))try{t=JSON.parse(t)}catch(e){t=[]}else t=[];return t},render:function(){var e=this.suggest,t="",o=1==this.whichPage&&So.comm.sid||"";data=this.historyData||[],this.displaying=!0;for(var n=0,i=data.length;n<i;n++){var a=data[n],r=a.id||"",a=p(decodeURIComponent(a.word));t+='<li class="local" unselectable="on" ac_index="'+n+'" acvalue="'+a+'" ac_psid="'+o+'" ac_ext="" data-delid="'+r+'" data-type="local-sug-store"><a href="javascript:;" unselectable="on" title="在右上角设置中可关闭搜索历史记录哦~" class="del">删除</a>'+a+"</li>"}""!=t?(e.oMenu.innerHTML=t,e.oMenu.setAttribute("ac_word",""),e.oMenu.setAttribute("ver",""),e.oMenu.setAttribute("ssid",""),e.selectedIndex=-2,e.show(),this.historyData&&e.sugStorageDel(),So.lib.log("suggest-log",{type:"history-show"})):(e.oMenu.innerHTML=t,e.hide(),e.selectedIndex=-2)},hide:function(){this.suggest.hide(),this.displaying=!1},cancel:function(e){(this.canceled=e)&&this.displaying&&this.hide()}};function f(e,t){for(var o in t)e[o]=t[o];return e}function h(e){return(e=e||window.event).target||e.srcElement}function m(e){(e=e||window.event).preventDefault&&e.preventDefault()||(e.returnValue=!1),e.stopPropagation&&e.stopPropagation()}function i(e,t){return new RegExp("(?:^|\\s)"+t+"(?:\\s|$)","i").test(e.className)}function b(e,t){i(e,t)||(e.className=(e.className+" "+t).replace(/^\s+|\s+$/g,""))}function k(e,t){i(e,t)&&(e.className=e.className.replace(new RegExp("(?:\\s|^)"+t+"(?:\\s|$)","i")," ").replace(/^\s+|\s+$/g,""))}function S(e,t,o){do{if(e.tagName==t)return e}while(e!=o&&(e=e.parentNode));return null}function y(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent("on"+t,o)}var _=/msie/i.test(navigator.userAgent);t.prototype={width:0,oText:null,itemsData:null,oMenu:null,oWrap:null,selectedIndex:-2,filteredValue:"",filteringValue:"",acValue:"",closed:!1,showCount:0,isCreateWidth:!0,focusByClick:!1,show:function(){var e=$.trim(this.oText.value);(this.options.enableHotword||e)&&this.oMenu.childNodes.length&&(window.sugIsShow||(this.oWrap.style.display="",this.closed=!1,b(this.oPos,"sug-border")),window.sugIsShow=void 0)},hide:function(e){"function"==typeof this.beforeHide&&this.beforeHide(),this.oWrap.style.display="none",this.closed=!0,k(this.oPos,"sug-border"),T.displaying=!1},refreshItems:function(e){var t=this,o=$.trim(this.oText.value),n=t.itemsData;if(o==t.query&&(n&&!n.__isItemsDataRendered||e)){for(var i=[],a=Math.min(t.showCount,n.length),r=0;r<a;r++){var s="";1==T.whichPage&&(s=So.comm.sid||"");var c="";n[r].id&&"0"!=n[r].id&&"-1"!=n[r].id&&(c=n[r].id),"history"==n[r].type?i.push('<li unselectable="on" class="local" ac_index="'+r+'" acValue="'+n[r].sVal+'" ac_psid="'+s+'" ac_source="'+n[r].source+'" ac_eci="'+n[r].eci+'" ac_ext="'+n[r].ext+'" data-delid="'+c+'" data-type="local"><a href="javascript:;" unselectable="on" class="del" title="在右上角设置中可关闭搜索历史记录哦~">删除</a>'+n[r].sTitle+"</li>"):i.push('<li unselectable="on" ac_resrc="'+n[r].resrc+'" ac_psid="'+s+'" ac_source="'+n[r].source+'" ac_eci="'+n[r].eci+'" ac_ext="'+n[r].ext+'" ac_index="'+r+'" acValue="'+n[r].sVal+'"><span unselectable="on">'+n[r].sTitle+"</span></li>")}t.oMenu.innerHTML=i.join(""),t.oMenu.setAttribute("ac_word",t.query),t.oMenu.setAttribute("ver",t.version),t.oMenu.setAttribute("ssid",t.ssid),n.length?t.show():t.hide(),t.filteredValue=t.filteringValue,t.acValue="",t.selectedIndex=-2,n.__isItemsDataRendered=!0,t.findStorageDel()}},findStorageDel:function(){var o=this;$(o.oMenu).find(".local a").on("click",function(e){var t=$(this).parent(".local");o.delStorage(t.attr("acvalue"),t.data("delid")),o.itemsData.splice(t.attr("ac_index"),1),o.refreshItems(!0),m(e),So.lib.log("suggest-log",{type:"typing-sug-dele"})})},sugStorageDel:function(){var o=this;$(o.oMenu).find(".local a").on("click",function(e){var t=$(this).parent(".local");o.delStorage(t.attr("acvalue"),t.data("delid")),T.loadData(),m(e),So.lib.log("suggest-log",{type:"sug-dele"}),0==$('.ac_wrap [data-type="local-sug-store"]').length&&$(".ac_wrap .bottom-tool").hide()})},delStorage:function(e,t){if(e){v(w,e)||w.push(e);var o=T.getHistoryData();e=encodeURIComponent(e);for(var n=0,i=o.length;n<i;n++)(t&&o[n]&&o[n].id&&t==o[n].id||o[n]&&o[n].word.toLowerCase()==e.toLowerCase())&&o.splice(n,1);So.lib.soLocalStorage.setItem(d,JSON.stringify(o))}},delRequest:function(e,t){e={src:"home"==So.comm.pid?"so_home":"srp_suggst",encodein:"utf-8",encodeout:"utf-8",format:"json",mid:this.options.mid,huid:this.options.huid,del_words:e};$.ajax({url:"//sug.so.360.cn/suggest_del",data:e,dataType:"jsonp"}).success(function(e){console.log(e)})},setSelectedIndex:function(e,t){var o=this,n=o.oMenu.childNodes;if(n.length)if(-1<o.selectedIndex&&k(n[o.selectedIndex],"selected"),(e=(e+n.length+2)%(n.length+2))==n.length)o.acValue=o.oText.value=o.filteringValue,o.acValue=$.trim(o.acValue),e=-2;else{if(e==n.length+1)return o.setSelectedIndex(-2-o.selectedIndex,t),!1;o.acValue=o.oText.value=n[e].getAttribute("acValue"),o.acValue=$.trim(o.acValue),b(n[e],"selected")}else e=-2;o.selectedIndex=e},render:function(){function t(){if(u)return!1;var e=$.trim(i.value),t=g.options.enableHotword&&(!g.options.clickEmptyToTriggerHotword||g.focusByClick);t&&T.cancel(e&&e!=g.acValue);var o=$(".ac_wrap .bottom-tool");e?(e!=g.filteredValue&&e!=g.filteringValue&&e!=g.acValue&&(g.filteringValue=e,g.refreshData()),g.itemsData&&g.refreshItems(),40!=l&&38!=l&&o.hide()):(g.acValue=g.filteringValue=g.filteredValue="",t&&T.enableShow?T.displaying||T.loadData(function(){"0"!==So.lib.cookie.get("sosug")&&0<T.getHistoryData().length&&(0==o.length?($('<div class="bottom-tool"><a unselectable="on" href="javascript:;" id="clear_history">删除历史</a></div>').appendTo(".ac_wrap_inner"),$("#clear_history").on("click",function(){$(".ac_wrap .bottom-tool").hide(),clearSugStorage(),$(".ac_wrap .ac_menu").html(""),g.hide()})):o.show())}):g.hide())}function e(e){g.closed&&g.show(),clearInterval(g._refreshTimer),g._refreshTimer=setInterval(t,100)}var n,i,o,a,r,s,c,l,u,d,g=this;g._rendered||(g._rendered=!0,o='<div class="ac_wrap_inner"><div class="ac_menu_ctn"><ul class="ac_menu"></ul><div class="so_feedback"><a href="javascript:;" target="_blank" class="so_feedback_link" data-class="ac_menu"><span class="so_feedback_icon"></span><span class="so_feedback_txt">反馈</span></a></div></div></div>',/msie[ \/os]*6\./gi.test(navigator.userAgent)&&(o='<iframe class="ac_bgIframe" frameBorder="0"></iframe>'+o),r="div",s={className:"ac_wrap",innerHTML:o.replace(/(<\w+)/g,'$1 unselectable="on"')},n=f(document.createElement(r),s),i=g.oText,(o=g.oPos||i).parentNode.insertBefore(n,o),a=g.oMenu=n.getElementsByTagName("ul")[0],i.setAttribute("autoComplete","off"),s=r=0,(So.lib.checkAbv(1112,"UI_2")||So.lib.checkAbv(1112,"UI_3"))&&(r=2,s=-1),g.isCreateWidth&&(c=r+(g.oText.getAttribute("suggestWidth")||o.offsetWidth)+"px",_?n.style.width=c:n.style.minWidth=c),n.style.top=o.offsetHeight-1+s+"px",n.style.left=o.offsetLeft+"px",g.oWrap=n,g.width=c,g.hide(),y(g.oText,"click",function(e){T.enableShow=!0,g.show()}),l="",y(g.oText,"keydown",function(e){var t,o=0;switch(l=(t=(t=e)||window.event).which||t.keyCode||t.charCode,T.enableShow=!0,l){case 40:o=1;break;case 38:o=-1;break;case 27:T.enableShow=!1,g.closed||(g.hide(),m(e))}o&&(m(e),"none"==n.style.display?g.show():g.setSelectedIndex(g.selectedIndex+o))}),y(g.oText,"focus",e),y(g.oText,"input",function(){g.closed&&g.show(),t()}),y(g.oText,"click",function(){$.trim(g.oText.value)||(g.focusByClick=!0)}),y(i.form,"submit",function(e){var t;g.onBeforeSubmit&&0<=g.selectedIndex&&(t=g.oMenu.children[g.selectedIndex],!(t={inputValue:$.trim(i.value),index:parseInt(t.getAttribute("ac_index"),10),word:t.getAttribute("acvalue"),type:t.getAttribute("data-type"),resrc:t.getAttribute("ac_resrc"),ext:t.getAttribute("ac_ext"),source:t.getAttribute("ac_source"),psid:t.getAttribute("ac_psid"),eci:t.getAttribute("ac_eci")})===g.onBeforeSubmit(t)&&m(e)),setTimeout(function(){g&&(g.oText.blur(),g.acValue=g.filteringValue=g.filteredValue="",g.oMenu.innerHTML="",g.selectedIndex=-2,T.displaying=!1)},20)}),y(g.oText,"blur",function(e){g.hide(),clearInterval(g._refreshTimer)}),n.onmousedown=function(e){var t=h(e);S(t,"LI",a);m(e),clearTimeout(d),u=!0,d=setTimeout(function(){u=!1},2e3)},a.onclick=function(e){var t=h(e),e=S(t,"LI",a);if(e){i.blur(),setTimeout(function(){i.focus()},10);for(var o=0,n=e,t=$.trim(i.value);n=n.previousSibling;)o++;g.setSelectedIndex(o,!0),g.hide(),clearInterval(g._refreshTimer);t={index:parseInt(e.getAttribute("ac_index"),10),word:e.getAttribute("acvalue"),type:e.getAttribute("data-type"),inputValue:t};g.onselectitem&&g.onselectitem(t)}},a.onmouseover=function(e){e=h(e),e=S(e,"LI",a);e&&(g.enableHoverState?b(e,"hover"):(-1<g.selectedIndex&&k(g.oMenu.childNodes[g.selectedIndex],"selected"),b(e,"selected"),g.selectedIndex=parseInt(e.getAttribute("ac_index"))))},a.onmouseout=function(e){e=h(e),e=S(e,"LI",a);e&&(g.enableHoverState?k(e,"hover"):k(e,"selected"))},n.onmouseout=function(e){g.enableHoverState||(-1<g.selectedIndex&&k(g.oMenu.childNodes[g.selectedIndex],"selected"),g.selectedIndex=-2)},document.activeElement===g.oText&&e())}};function g(e,t){for(var o=[],n=(e=C.dataAdapter&&!t?C.dataAdapter(e):e).result||[],i=e.version||"",t=e.ssid||"",a=$.trim(x.value),r=e.ext||"",s=0,c=n.length;s<c;s++){var l=n[s].word,u=l,d=n[s].resrc||"",g=n[s].source||"",f=n[s].type||"",h=r,m="";1==T.whichPage&&(m=So.comm.sid||""),"history"==f&&v(w,l)||(u=a&&0===u.toLowerCase().indexOf(a.toLowerCase())?p(u.substr(0,a.length))+'<b unselectable="on">'+p(u.substr(a.length))+"</b>":p(u),l&&o.push({sVal:l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),sTitle:u,type:f,id:p(n[s].id||""),resrc:p(d||""),psid:m,ext:p(h),source:g,eci:p(n[s].eci||"")}))}C.query=e.query,C.itemsData=o,C.version=i,C.ssid=t,e.query&&(t=(So.comm.sid||"")+e.query,I[t]=e)}var x=null,I={},C=null,T=new e({url:"//www.so.com/zt/api/hotword.js?t="+ +new Date});window.clearSugStorage=function(){So.lib.soLocalStorage&&So.lib.soLocalStorage.removeItem(d)},window.setStorage=o,setTimeout(function(){o()},300,!0),setTimeout(function(){try{external.AppCmd(external.GetSID(window),"sesafe","GetIncognitoStatus","1","",function(e,t){100==e&&"true"==t&&(T.isPrivacyMode=!0)})}catch(e){}},30),window.createSuggest=function(u){var e=(u=f({clickEmptyToTriggerHotword:!1,enableHotword:!1,alignElement:u.inputElement,pqElement:"",urlPrefix:"http://sug.so.360.cn/suggest/word?callback=suggest_so&encodein=utf-8&encodeout=utf-8&word=",enableHoverState:!1,localSave:0,showCount:10,isCreateWidth:!0},u)).urlPrefix.match(/callback=(\w+)/)[1];window[e]=g,x=u.inputElement,C=window.cb=new t({options:u,oText:x,oPos:u.alignElement,enableHoverState:u.enableHoverState,dataAdapter:u.dataAdapter,beforeHide:u.beforeHide||function(){},beforeSelectItem:u.beforeSelectItem,onBeforeSubmit:u.onBeforeSubmit,localSave:u.localSave,showCount:u.showCount,isCreateWidth:u.isCreateWidth,onselectitem:function(e){if(!this.beforeSelectItem||!1!==this.beforeSelectItem(e))for(var t=x.form.elements,o=0;o<t.length;o++)if("submit"==t[o].type)return void t[o].click()},refreshData:function(){var e,t,o,n=$.trim(x.value),i=(So.comm.sid||"")+n,i=I[i];if(i)g(i,!0);else{i=u.urlPrefix+"&fields=word&word="+encodeURIComponent(n);u.sid&&So.comm.sid&&(i+="&sid="+So.comm.sid),u.pqElement&&(i+="&pq="+encodeURIComponent(So.comm.q)),u.mid&&(i+="&mid="+encodeURIComponent(u.mid)),u.huid&&(i+="&huid="+encodeURIComponent(u.huid)),i+="&llbq="+encodeURIComponent(So.comm.llbq);for(var a=function(e){if(!C.localSave||!So.lib.soLocalStorage||T.isPrivacyMode)return[];var t=So.lib.soLocalStorage.getItem(d);if(t)try{t=JSON.parse(t)}catch(e){t=[]}else t=[];for(var o=$.trim(e).toLowerCase(),n=[],i=0,a=t.length;i<a;i++){var r="",s="";try{r=decodeURIComponent(t[i].word).toLowerCase(),s=t[i].pinyin&&decodeURIComponent(t[i].pinyin.toLowerCase())||""}catch(e){}if((0==r.indexOf(o)||0==s.indexOf(o))&&(t[i].word=r.replace(/[<>]/g,""),n.push(t[i]),4==n.length))break}return n}(n),r=[],s=[],c=0,l=a.length;c<l;c++)r.push(a[c].word),s.push(a[c].id);i+="&cache="+encodeURIComponent(r.join("")),i+="&id="+encodeURIComponent(s.join(",")),i=i,e=document.getElementsByTagName("head")[0]||document.documentElement,t=document.createElement("script"),o=!1,t.src=i,t.charset="utf-8",t.onerror=t.onload=t.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,e.removeChild(t))},e.insertBefore(t,e.firstChild)}}}),T.setSuggest(C),T.setOptions(u)}}(),function(){var e=document.getElementById("input");createSuggest({inputElement:e,alignElement:document.getElementById("suggest-align"),urlPrefix:"//sug.so.360.cn/suggest?callback=suggest_so&encodein=utf-8&encodeout=utf-8&format=json&src=so_home",enableHoverState:!1,mid:So.lib.getUnMid(So.comm.md)||"",huid:So.lib.cookie.get("__huid")||"",enableHotword:!0,clickEmptyToTriggerHotword:!0,localSave:"0"!==So.lib.cookie.get("sosug")?1:0,whichPage:0,onBeforeSubmit:function(e){var t=$(this.oMenu),o=t.attr("ver")||"",n=t.attr("ssid")||"",i=t.attr("ac_word")||"",t="",t="local"==e.type?"sug-local":"local-sug-store"==e.type?"home-sug-store":"nlp_recomm"==e.type?"home-nlp-recomm":"home_suggst_"+o;$("#from").val(t);t=function(e,t){var o=$("#bd_search form"),n="";if(e){for(var i=e.split("&"),a=0,r=i.length;a<r;a++){var s=i[a].split("=");"nlpv"==s[0]&&(n=s[1])}var c=o.find('input[name="eci"]'),l=o.find('input[name="nlpv"]'),e='<input type="hidden" name="nlpv" value="'+n+'">';0==c.length?o.append('<input type="hidden" name="eci" value="'+t+'">'):c.val(t),0==l.length?o.append(e):l.val(n)}else $("#nlpv").length||o.find('input[name="eci"],input[name="nlpv"]').remove();return{eci:t,nlpv:n}}(e.ext,e.eci);So.lib.cookie.set("sgtclick",[e.word,e.index,e.inputValue,i,"home",o,e.resrc,t.eci,t.nlpv,e.source,e.psid,n].join("|"))}}),e.focus()}(),So.lib.md5=function(){function d(e,t){var o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o}function s(e,t,o,n,i,a){return d((a=d(d(t,e),d(n,a)))<<i|a>>>32-i,o)}function g(e,t,o,n,i,a,r){return s(t&o|~t&n,e,t,i,a,r)}function f(e,t,o,n,i,a,r){return s(t&n|o&~n,e,t,i,a,r)}function h(e,t,o,n,i,a,r){return s(t^o^n,e,t,i,a,r)}function m(e,t,o,n,i,a,r){return s(o^(t|~n),e,t,i,a,r)}function r(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var o,n,i,a,r=1732584193,s=-271733879,c=-1732584194,l=271733878,u=0;u<e.length;u+=16)r=g(o=r,n=s,i=c,a=l,e[u],7,-680876936),l=g(l,r,s,c,e[u+1],12,-389564586),c=g(c,l,r,s,e[u+2],17,606105819),s=g(s,c,l,r,e[u+3],22,-1044525330),r=g(r,s,c,l,e[u+4],7,-176418897),l=g(l,r,s,c,e[u+5],12,1200080426),c=g(c,l,r,s,e[u+6],17,-1473231341),s=g(s,c,l,r,e[u+7],22,-45705983),r=g(r,s,c,l,e[u+8],7,1770035416),l=g(l,r,s,c,e[u+9],12,-1958414417),c=g(c,l,r,s,e[u+10],17,-42063),s=g(s,c,l,r,e[u+11],22,-1990404162),r=g(r,s,c,l,e[u+12],7,1804603682),l=g(l,r,s,c,e[u+13],12,-40341101),c=g(c,l,r,s,e[u+14],17,-1502002290),r=f(r,s=g(s,c,l,r,e[u+15],22,1236535329),c,l,e[u+1],5,-165796510),l=f(l,r,s,c,e[u+6],9,-1069501632),c=f(c,l,r,s,e[u+11],14,643717713),s=f(s,c,l,r,e[u],20,-373897302),r=f(r,s,c,l,e[u+5],5,-701558691),l=f(l,r,s,c,e[u+10],9,38016083),c=f(c,l,r,s,e[u+15],14,-660478335),s=f(s,c,l,r,e[u+4],20,-405537848),r=f(r,s,c,l,e[u+9],5,568446438),l=f(l,r,s,c,e[u+14],9,-1019803690),c=f(c,l,r,s,e[u+3],14,-187363961),s=f(s,c,l,r,e[u+8],20,1163531501),r=f(r,s,c,l,e[u+13],5,-1444681467),l=f(l,r,s,c,e[u+2],9,-51403784),c=f(c,l,r,s,e[u+7],14,1735328473),r=h(r,s=f(s,c,l,r,e[u+12],20,-1926607734),c,l,e[u+5],4,-378558),l=h(l,r,s,c,e[u+8],11,-2022574463),c=h(c,l,r,s,e[u+11],16,1839030562),s=h(s,c,l,r,e[u+14],23,-35309556),r=h(r,s,c,l,e[u+1],4,-1530992060),l=h(l,r,s,c,e[u+4],11,1272893353),c=h(c,l,r,s,e[u+7],16,-155497632),s=h(s,c,l,r,e[u+10],23,-1094730640),r=h(r,s,c,l,e[u+13],4,681279174),l=h(l,r,s,c,e[u],11,-358537222),c=h(c,l,r,s,e[u+3],16,-722521979),s=h(s,c,l,r,e[u+6],23,76029189),r=h(r,s,c,l,e[u+9],4,-640364487),l=h(l,r,s,c,e[u+12],11,-421815835),c=h(c,l,r,s,e[u+15],16,530742520),r=m(r,s=h(s,c,l,r,e[u+2],23,-995338651),c,l,e[u],6,-198630844),l=m(l,r,s,c,e[u+7],10,1126891415),c=m(c,l,r,s,e[u+14],15,-1416354905),s=m(s,c,l,r,e[u+5],21,-57434055),r=m(r,s,c,l,e[u+12],6,1700485571),l=m(l,r,s,c,e[u+3],10,-1894986606),c=m(c,l,r,s,e[u+10],15,-1051523),s=m(s,c,l,r,e[u+1],21,-2054922799),r=m(r,s,c,l,e[u+8],6,1873313359),l=m(l,r,s,c,e[u+15],10,-30611744),c=m(c,l,r,s,e[u+6],15,-1560198380),s=m(s,c,l,r,e[u+13],21,1309151649),r=m(r,s,c,l,e[u+4],6,-145523070),l=m(l,r,s,c,e[u+11],10,-1120210379),c=m(c,l,r,s,e[u+2],15,718787259),s=m(s,c,l,r,e[u+9],21,-343485551),r=d(r,o),s=d(s,n),c=d(c,i),l=d(l,a);return[r,s,c,l]}function c(e){for(var t="",o=0;o<32*e.length;o+=8)t+=String.fromCharCode(e[o>>5]>>>o%32&255);return t}function l(e){var t,o=[];for(o[(e.length>>2)-1]=void 0,t=0;t<o.length;t+=1)o[t]=0;for(t=0;t<8*e.length;t+=8)o[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return o}function n(e){for(var t,o="0123456789abcdef",n="",i=0;i<e.length;i+=1)t=e.charCodeAt(i),n+=o.charAt(t>>>4&15)+o.charAt(15&t);return n}function o(e){return unescape(encodeURIComponent(e))}function i(e){return c(r(l(e=o(e)),8*e.length))}function a(e,t){return function(e,t){var o,n=l(e),i=[],a=[];for(i[15]=a[15]=void 0,16<n.length&&(n=r(n,8*e.length)),o=0;o<16;o+=1)i[o]=909522486^n[o],a[o]=1549556828^n[o];return t=r(i.concat(l(t)),512+8*t.length),c(r(a.concat(t),640))}(o(e),o(t))}return function(e,t,o){return t?o?a(t,e):n(a(t,e)):o?i(e):n(i(e))}}(),function(){function t(){f.hide(),d.hasClass(h)&&d.removeClass(h)}function e(){f.show(),d.hasClass(h)||d.addClass(h)}monitor.util.getGuid=function(){return So.lib.cookie.get("QiHooGUID")};var o=monitor.data.getBase;monitor.data.getBase=function(){var e=o();return delete e.id,delete e.u,delete e.p,e};var n=function(e,t,o,n,i){function a(){clearTimeout(s),r=setTimeout(function(){t.fadeIn(300),n&&n()},c)}var r=null,s=null,c=o||200,o=function(){clearTimeout(r),s=setTimeout(function(){t.fadeOut(300),i&&i()},c)};e.hover(a,o),t.hover(a,o)};$("#bd_logo").addClass("anime"),n($("#so_tabs_more"),$("#so_tabs_menu")),$("#so_tabs_more").mouseenter(function(){So.lib.log("",{lk:"tabs_more"},"sou/home_link")});var i=$("#hd_usernav"),a=$("#hd_nav .uinfo");n(a,i,null,function(){i.css("left",a.offset().left+a.width()-i.width())});function r(e){_loader.add("settingPanel","https://s.ssl.qhimg.com/static/8923feda634ec825/common/setting.js"),_loader.use("settingPanel",function(){e()})}var s=$("#hd_setting"),c=$("#hd_nav .setting a");$("#search_setting").on("click",function(){r(function(){So.web.showSearchSetting()})}),$("#advanced_search").on("click",function(){r(function(){So.web.showAdvancedSearch()})}),n(c,s,null,function(){s.css("left",c.offset().left+c.outerWidth()/2-s.width()/2)});So.comm.md;s.on("click",".add-hot-news-card",function(){So.lib.observer.publish("so.homecard.addHotNewsCard")}),s.on("click",".close-hot-news-card",function(){So.lib.observer.publish("so.homecard.closeHotNewsCard"),s.hide()});var l=$("#input-container"),u=$("#suggest-align"),d=$("#input"),g=$("#from");d.bind({focus:function(){l.addClass("focus"),u.addClass("hover")},blur:function(){l.removeClass("focus"),u.removeClass("hover")}}),$(".ie6").length&&$(window).scroll(function(){$("#skin_bg").css("top",document.documentElement.scrollTop)}),So.comm.src&&g.val("home_"+So.comm.src.replace(/^(home_)+/g,"")),$("#bd_tabnav a[data-s]").bind("click",function(){var e=$(this),t=$.trim(d.val()),o=e.attr("data-s");t&&o&&(o=o.replace(/%q%/g,encodeURIComponent(t)),e.attr("href",o))}),$("#hd_nav .sethome a").click(function(){var e,t=!1,e=(e=navigator.userAgent.match(RegExp("(maxthon|360se|360ee|theworld|se|greenbrowser|qqbrowser)\\b[ \\/]?([\\w\\.]*)","i")))?e.slice(1):["",""];try{t=-1<external.twGetRunPath.toLowerCase().indexOf("360se")}catch(e){}if(!t&&!e[0])try{return this.style.behavior="url(#default#homepage)",this.setHomePage("http://www.so.com/"),!1}catch(e){}});var f=$("#suggest-align .placeholder-default"),h="lowie-bg";""==$.trim(d.val())&&e(),$("#bd_search form").on("submit",function(){if(""==$.trim(d.val())){var e=$.trim(f.data("keyword"));if(!e)return d.focus(),!1;t(),g.val("home_placeholder"),d.val(e)}}),So.lib.cookie.get("force_www_so")&&$("#mobileHolder").show(),$("#mobile").on("click",function(){So.lib.cookie.remove("force_www_so")}),$("a[data-linkid]").bind("mousedown",function(){So.lib.log("",{q:$.trim(d.val()),lk:$(this).attr("data-linkid")},"sou/home_link")}),$("#search-button").bind("mousedown",function(){So.lib.log("",{q:$.trim(d.val())||$.trim(f.text()),eng:0,huiche:0},"sou/home_click")}),d.bind("keydown",function(e){13===(e.keyCode||e.which)&&($(".ac_wrap .ac_menu .selected").length?(e=$(".ac_wrap .ac_menu .selected"),So.lib.log("",{input:$.trim(d.val()),click:e.attr("acvalue"),huiche:1},"sou/home_suggst")):So.lib.log("",{q:$.trim(d.val()),eng:0,huiche:1},"sou/home_click"))}),d.on("keydown input propertychange",function(){$.trim(d.val())&&t()}),d.on("keyup",function(){$.trim(d.val())||e()}),$(".ac_wrap").delegate("li","mousedown",function(e){$(e.target).hasClass("del")||t(),So.lib.log("",{input:$.trim(d.val()),click:$(this).attr("acvalue"),huiche:0},"sou/home_suggst")}),So.lib.log("",{ref:document.referrer,guid:So.lib.cookie.get("QiHooGUID")||"",gid:So.comm.md,hid:So.lib.cookie.get("__huid")||"",qid:So.comm.user.qid,dpi:window.screen.width+"_"+window.screen.height,dm:document.domain,ls:So.comm.ls||"",q:"recomm"===f.data("from")?$.trim(f.text()):"",p1:So.lib.cookie.get("hot-news-card")||1,llbq:So.comm.llbq,_hmid:So.lib.getUnMid(So.comm.md)},"sou/home"),"https:"!=location.protocol&&setTimeout(function(){monitor.setConf("httpsUrl","https://www.so.com/_.gif"),monitor.log({},"https")},500),So.lib.isSupportWebp();var m,p,n=$('.ad[data-from="cms"]');0<n.length&&(So.lib.log("cms-ad",{type:"show",datatype:n.attr("data-type")}),n.on("mousedown",function(){So.lib.log("cms-ad",{type:"click",datatype:$(this).attr("data-type")})}),n.data("link")&&((m=new Image).onload=m.onerror=function(){m=null},m.src=n.data("link"))),setTimeout(function(){$("#bd_tabnav").show()},500),(n=So.lib.cookie.get("__huid"))&&((p=new Image).onload=p.onerror=function(){p=null},p.src="//cm.mediav.com/lianmeng?maxhuid="+encodeURIComponent(n));$.ajax({url:"https://api.ssl.so.com/cloud_config",data:{keys:"footer.html",from:"www.so.com"},method:"get",dataType:"jsonp",crossDomain:!0,success:function(e){e.data&&e.data["footer.html"]&&$("#footer p").html(e.data["footer.html"])},error:function(e){}})}(),So.web.skinMain={cookies:{flag:"skin",limit:"skinRecLimit",close:"skinClose",custom:"skinCustom"},logMark:"newSkin",skinEffectJs:"",prefix:"skin",$logo:$(".skin-logo"),$skinBg:$("#skin_bg"),$skinTip:$(".skin-tip"),$opacity:null,$disable:null,cookieMark:"l-status",storageObj:new So.web.storage("skinList",365),storageKey:"skinList",init:function(){So.web.skin.skinJs&&this.loadSkinJs(So.web.skin.skinJs.replace(/http:\/\/s\d+\.(qhimg|qhmsg|qhres|qhres2)\.com\/static/g,"https://s.ssl.qhimg.com/ssl")),this.remind(),this.initEvent()},remind:function(){var t=this,o=$('<div class="g-mask logout-mask"><div class="box"><a href="javascript:;" class="close g-close"></a><p>亲，退出后无法继续使用当前美美的壁纸哦~<br>将同步未登录时皮肤状态</p><a href="javascript:;" class="g-btn g-btn-green exit">继续退出</a><a href="javascript:;" class="g-btn g-btn-green2 cancel">取  消</a></div></div>');$("#user-logout").on("click",function(){return So.lib.cookie.set(t.cookieMark,"1"),""!=So.web.skin.flag||""!=So.web.skin.limitTime?($("body").append(o),So.lib.log(t.logMark,{type:"logout-mask"}),o.on("click","a",function(){var e=$(this);e.hasClass("close")||e.hasClass("cancel")?(o.remove(),So.lib.log(t.logMark,{type:"logout-close"})):e.hasClass("exit")&&(So.lib.log(t.logMark,{type:"logout"}),So.web.login.logout())})):So.web.login.logout(),!1}),$("#user-login").on("click",function(){So.lib.cookie.set(t.cookieMark,"1")}),So.lib.cookie.get(t.cookieMark)&&(""==So.web.skin.flag&&""==So.web.skin.limitTime&&$("#hd_nav .changeskin").append('<span class="new1"/>'),So.lib.cookie.remove(t.cookieMark))},loadSkinJs:function(e){var t=this;e&&(e=So.lib.sslReplace(e),_loader.use("require.2.1.11",function(){require([e],function(e){e&&"function"==typeof e.start&&(e.start(),t.skinEffectJs=e)})}))},removeEffect:function(){this.skinEffectJs&&"function"==typeof this.skinEffectJs.stop&&this.skinEffectJs.stop()},loadSkinCss:function(e){var t;e&&((t=$("head")).find('link[href="'+e+'"]').length||$('<link type="text/css" rel="stylesheet" />').appendTo(t).attr("href",e))},addBodyClass:function(e,t){$("body").addClass("skin"),e&&$("body").addClass(" skin-"+e),t&&$("body").addClass(" skin-"+t),"dark"==So.web.skin.cssStyle&&$("body").addClass("skin-dark")},removeBodyClass:function(){var e=$("body"),t=$("body[class*="+this.prefix+"]").attr("class");t&&e.attr("class",$.trim(t.replace(new RegExp(this.prefix+"\\S*","g"),"").replace(/\s+/g," ")))},showSkin:function(e,t,o,n,i,a,r){var s=this;i?(s.$logo.attr("href",i),s.$logo.attr("style","")):(s.$logo.attr("href",s.$logo.attr("data-href")),s.$logo.attr("style",s.$logo.attr("data-style"))),a?s.$logo.attr("title",a):s.$logo.attr("title",s.$logo.attr("data-title")),s.removeEffect(),s.removeBodyClass(),s.addBodyClass(e,r),s.setSkinBg(t),s.loadSkinCss(o),s.loadSkinJs(n),s.saveSkinSetting(1,e)},clearSkin:function(e){var t=this;t.setSkinBg(""),t.removeEffect(),t.removeBodyClass(),t.saveSkinSetting(e),t.$logo.attr("href",t.$logo.attr("data-href")),t.$logo.attr("title",t.$logo.attr("data-title")),t.$logo.attr("style",t.$logo.attr("data-style"))},setSkinBg:function(e){e?this.$skinBg.css("background-image","url("+e+")"):(this.$skinBg.css("background-image","none"),this.$skinBg.css("background-color","#fff"))},setCookie:function(e,t){var o=new Date;o.setDate(o.getDate()+365),So.lib.cookie.set(e,t,{expires:o})},saveSkinSetting:function(e,t){var o=this;if(So.comm.user.qid)$.ajax({url:"/index.php?c=skin&a=setmyskin",type:"post",dataType:"json",data:{flag:t||"",type:e,css_style:So.web.skin.cssStyle},success:function(e){}});else{if(1===e){if(So.lib.cookie.remove(o.cookies.close),t){o.setCookie(o.cookies.flag,t);for(var n=o.storageObj.get(o.storageKey)||[],i=0,a=n.length;i<a;i++)if(n[i]==t){n.splice(i,1);break}n.unshift(t),n=n.slice(0,29),o.storageObj.set(o.storageKey,n)}}else o.setCookie(o.cookies.close,1),So.lib.cookie.remove(o.cookies.flag);So.web.skin.limitTime&&So.lib.cookie.set(o.cookies.limit,So.web.skin.flag_limit||"none",{expires:new Date(parseFloat(So.web.skin.limitTime))})}So.web.skin.flag=1==e&&t?t:"",o.$skinTip.hide()},setSetting:function(){var t=this,o=(/msie (\d+)/i.test(navigator.userAgent)&&!window.opera&&parseInt(RegExp.$1),$("#so_skin_panel")),e=o.find(".opacity"),n=o.find(".disable");$backtosrcSkin=o.find(".skin-tip"),e.hide(),So.web.skin.flag?n.show():n.hide(),""!==So.web.skin.tip&&1!==So.web.skin.tip&&(0==o.find(".skin-tip").length&&o.find(".r-tools").prepend(So.web.skin.tip).find(".skin-tip").addClass("g-a-dark").show(),o.on("click",".skin-tip",function(){var e;"old"==$(this).attr("data-type")&&(So.lib.log(t.logMark,{type:"tipOld",p1:So.web.skin.flag,p2:So.web.skin.type}),(e=So.web.skin.skinOld)?t.showSkin(e.flag,e.src,e.pic_css,e.pic_js,e.logo_link,e.logo_title,e.css_style):0==So.lib.cookie.get(t.cookies.close)?t.clearSkin(0):t.clearSkin(1),So.web.skin.tip="",o.hide())}))},initEvent:function(){var t=this;$("#hd_nav li.changeskin a").on("click",function(){So.lib.log(t.logMark,{type:"showPanel",p1:So.web.skin.flag,p2:So.web.skin.type});var e=$("#so_skin_panel");return""!=So.web.skin.tip&&1!=So.web.skin.tip||e.find(".skin-tip").hide(),0==e.length?(_loader.add("skinload","https://s.ssl.qhimg.com/static/3b03ed030f8224e8/home/skin-load.js"),_loader.use("require.2.1.11,skinload",function(){_loader.remove("skinload")})):(t.setSetting(),e.slideDown()),$("#hd_nav li.changeskin").find(".new").remove(),So.lib.cookie.remove(t.cookieMark),!1}),t.$logo.on("click",function(e){"javascript:;"==$(this).attr("href")&&e.preventDefault()}),So.lib.cookie.get(t.cookies.custom)&&setTimeout(function(){So.lib.log(t.logMark,{type:"showPanel1",p1:So.web.skin.flag,p2:So.web.skin.type}),$("#hd_nav li.changeskin a").click()},500),So.web.skin.flag&&So.lib.log(t.logMark,{type:"loadSkin",p1:So.web.skin.flag,p2:So.web.skin.type})}},So.web.skinMain.init(),function(i){i.fn.hoverDelay=function(e){var t={hoverDuring:200,outDuring:200,hoverEvent:function(){i.noop()},outEvent:function(){i.noop()}},n=i.extend(t,e||{});return i(this).each(function(){var e,t,o=i(this);o.hover(function(){clearTimeout(t),e=setTimeout(function(){n.hoverEvent(o)},n.hoverDuring)},function(){clearTimeout(e),t=setTimeout(function(){n.outEvent(o)},n.outDuring)})})}}(jQuery);

(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"3u/Q":function(e,t,n){"use strict";function c(e){var t=e.room,e=e.chatToken,n=Object(l.useRef)();return Object(l.useEffect)(function(){function e(){window.IGN.loadChat(n.current)}var t;return window.IGN&&window.IGN.loadChat&&n.current?e():t=setInterval(function(){window.IGN&&window.IGN.loadChat&&n.current&&(clearInterval(t),e())},500),function(){window.IGN&&window.IGN.unloadChat&&window.IGN.unloadChat(),clearInterval(t)}},[]),v(d.a.Fragment,null,v(o.a,{defer:!0,type:"text/javascript",src:a.CHAT_BUNDLE_URL,key:"chat"}),v("div",{className:"chat-container","data-auto-load":"false","data-room":t,"data-user-data":e,"data-source":"kraken",ref:n}))}var s=n("ODXe"),l=n("q1tI"),d=n.n(l),m=n("ob4f"),u=n("e2db"),p=n("NLre"),o=n("OjIZ"),f=n("re3D"),a=n("VnKV"),v=d.a.createElement;t.a=function(e){var t=e.room,n=Object(m.b)({rootMargin:"300px 0px",triggerOnce:!0}),o=Object(s.a)(n,2),a=o[0],r=o[1],e=Object(u.a)(!1),n=Object(s.a)(e,2),o=n[0],i=n[1],e=Object(f.e)(),n=e.currentUser.chatToken,e=e.loggedIn;return Object(l.useEffect)(function(){return window.addEventListener("IGN.Chat.openSignIn",i,!0),function(){window.removeEventListener("IGN.Chat.openSignIn",i)}},[i]),r?v(d.a.Fragment,null,v(c,{room:t,chatToken:n}),!e&&o&&v(p.a,{isOpen:!0,onClose:i,trigger:"Live Chat"})):v("div",{ref:a,className:"chat-container"})}},"4pyU":function(e,t,n){"use strict";n.d(t,"a",function(){return L});var r=n("wx14"),o=n("rePB"),a=n("MX0m"),f=n.n(a),v=n("q1tI"),i=n.n(v),a=n("TSYQ"),y=n.n(a),a=n("mwIZ"),h=n.n(a),c=n("eMNQ"),a=n("DiiX"),s=n.n(a),l=n("j3Zk"),b=n("1FLE"),w=n("YgHL"),g=n("3u/Q"),j=n("cyBN"),d=n("JoFD"),m=n("o7k6"),u=n("1LLx"),x=n("TobM"),O=i.a.createElement;function p(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){Object(o.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function k(e){var t=e.children,n=e.videoHeadline,o=e.trackingComponent,a=e.showRightRail,r=e.video,i=e.isInTheaterMode,c=e.handleTheaterModeToggle,s=e.exitTheaterMode,l=e.forwardedRef,d=r.videoId,m=h()(r,"extra.liveOnAir"),u=h()(r,"metadata.title"),p=h()(r,"metadata.url"),e=Object(x.b)();return O(v.Fragment,null,n&&O(E,{trackingComponent:o,url:p,title:n,liveOnAir:m}),O("div",{className:f.a.dynamic([["568235557",[e?"none":"none !important"]],["2961666605",[i?"hidden":"auto"]]])+" "+(y()("video-wrapper",{"theater-mode":i})||"")},O("div",{className:f.a.dynamic([["568235557",[e?"none":"none !important"]],["2961666605",[i?"hidden":"auto"]]])+" video-container"},t({video:r,forwardedRef:l,handleTheaterModeToggle:c,isInTheaterMode:i})),(a||i)&&O("div",{className:f.a.dynamic([["568235557",[e?"none":"none !important"]],["2961666605",[i?"hidden":"auto"]]])+" video-right-rail"},m?O(g.a,{room:d}):O("div",{className:f.a.dynamic([["568235557",[e?"none":"none !important"]],["2961666605",[i?"hidden":"auto"]]])+" comments-container"},O(j.a,{assetTitle:u,assetId:d,url:p,hideTitle:!0,pluginTheme:"theater"}))),i&&O(b.a,{type:"link",onClick:s},O(v.Fragment,null,O(w.e,{title:"Exit Theater Mode"}),O("span",{className:f.a.dynamic([["568235557",[e?"none":"none !important"]],["2961666605",[i?"hidden":"auto"]]])},"Exit")))),O(f.a,{id:"568235557",dynamic:[e?"none":"none !important"]},[".video-wrapper.__jsx-style-dynamic-selector{width:100%;}",".video-wrapper.theater-mode.__jsx-style-dynamic-selector{top:0;left:0;bottom:0;right:0;background-color:#191a1b;}",".video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector{background-color:#28292c;overflow:auto;}",".video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector .chat-container,.video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector .comments-container.__jsx-style-dynamic-selector{top:0;left:0;bottom:0;right:0;}","@media (min-width:861px){.video-wrapper.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.video-wrapper.theater-mode.__jsx-style-dynamic-selector{position:fixed;overflow:hidden;z-index:1111111;}.video-wrapper.theater-mode.__jsx-style-dynamic-selector .video-container.__jsx-style-dynamic-selector{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;}.video-wrapper.__jsx-style-dynamic-selector .video-container.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector{margin-left:24px;-webkit-flex-basis:30%;-ms-flex-preferred-size:30%;flex-basis:30%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:relative;}.video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector .chat-container,.video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector .comments-container.__jsx-style-dynamic-selector{position:absolute;overflow:auto;}.video-wrapper.__jsx-style-dynamic-selector .button--link{margin:24px 12px;position:fixed;top:0;left:0;z-index:1111112;}}","@media (max-width:860px){@media (orientation:landscape){.theater-button{display:".concat(e?"none":"none !important",";}}.video-wrapper.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector,.video-wrapper.__jsx-style-dynamic-selector .button--link{display:none;}body:not(.ReactModal__Body--open) .video-wrapper.theater-mode.__jsx-style-dynamic-selector{position:fixed;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;z-index:20007;}body:not(.ReactModal__Body--open) .video-wrapper.theater-mode.__jsx-style-dynamic-selector .video-container.__jsx-style-dynamic-selector{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}body:not(.ReactModal__Body--open) .video-wrapper.theater-mode.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector{display:inherit;position:relative;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;height:100%;}body:not(.ReactModal__Body--open) .video-wrapper.theater-mode.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector .chat-container,body:not(.ReactModal__Body--open) .video-wrapper.theater-mode.__jsx-style-dynamic-selector .video-right-rail.__jsx-style-dynamic-selector .comments-container.__jsx-style-dynamic-selector{position:absolute;}}")]),O(f.a,{id:"2961666605",dynamic:[i?"hidden":"auto"]},["body:not(.ReactModal__Body--open){overflow:".concat(i?"hidden":"auto",";}")]))}function T(t){var e=Object(v.useState)(!1),n=e[0],o=e[1],a=Object(v.useCallback)(function(){n&&(t.forwardedRef.current&&t.forwardedRef.current.setInTheaterMode(!1),o(!1))},[n,t.forwardedRef]);function r(){o(!n)}return Object(v.useEffect)(function(){function e(e){27===e.keyCode&&a()}return window.addEventListener("keydown",e,!!Object(c.od)()&&{passive:!0}),function(){return window.removeEventListener("keydown",e)}},[n,a]),O(v.Fragment,null,t.video?O(k,_({isInTheaterMode:n,handleTheaterModeToggle:r,exitTheaterMode:a},t)):t.url?O(l.a,{query:s.a,variables:{slug:Object(c.jd)(t.url)}},function(e){e=e.data.videoPlayerProps;return e&&"published"===h()(e,"metadata.state")?O(k,_({isInTheaterMode:n,handleTheaterModeToggle:r,exitTheaterMode:a,video:e},t)):null}):t.children({isInTheaterMode:n,handleTheaterModeToggle:r,forwardedRef:t.forwardedRef}),O(f.a,{id:"3068261793"},[]))}function I(e){var t=Object(v.createRef)();return O(C,Object(r.a)({},e,{ref:t}))}var E=function(e){var t=e.trackingComponent,n=e.url,o=e.title,e=e.liveOnAir;return O(v.Fragment,null,O(d.b,{href:n,className:"video-headline",trackingComponent:t,trackingLabel:o},e&&O(m.a,null),O("h2",{className:"jsx-1486269472"},o)),O(f.a,{id:"1486269472"},[".video-headline{padding:24px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".video-headline .live-on-air{margin-right:12px;}",".video-headline h2.jsx-1486269472{margin:0;font-size:24px;font-weight:bold;color:#fff;}",".video-headline:hover h2.jsx-1486269472{-webkit-text-decoration:underline;text-decoration:underline;}"]))},C=i.a.forwardRef(function(e,t){return O(T,Object(r.a)({},e,{forwardedRef:t}))});t.b=I;var L=function(a){return O(I,_({},a),function(e){var t=e.handleTheaterModeToggle,n=e.forwardedRef,o=e.video,e=e.isInTheaterMode;return o&&O(u.a,Object(r.a)({theaterButtonVisible:!0},_(_({},a),{},{video:o,handleTheaterModeToggle:t,forwardedRef:n,isInTheaterMode:e})))})}},OjIZ:function(e,t,n){"use strict";var o=n("Ff2n"),a=n("q1tI"),r=n.n(a),a=n("g4pe"),i=n.n(a),c=n("TobM"),s=r.a.createElement;t.a=function(e){var t=e.children,e=Object(o.a)(e,["children"]);return Object(c.b)()?null:s(i.a,null,s("script",e,t))}},cyBN:function(e,t,n){"use strict";var u=n("wx14"),p=n("ODXe"),f=n("Ff2n"),i=n("1OyB"),r=n("vuIU"),c=n("JX7q"),s=n("Ji7U"),l=n("md7G"),d=n("foSv"),m=n("rePB"),o=n("MX0m"),v=n.n(o),y=n("q1tI"),h=n.n(y),b=n("VnKV"),w=n("Y1tJ"),a=n("gNx5"),g=n("re3D"),j=n("lfJx"),x=n("GLCR"),O=n("NLre"),_=n("OjIZ"),k=n("Nfk7"),T=h.a.createElement,o=function(e){var r,i,t=e.assetId,n=e.assetTitle,o=e.url,e=e.pluginTheme;r=t,i=n,Object(y.useEffect)(function(){function e(){return Object(w.g)({event:"community-postComment",dataLayerObject:a})}function t(){return Object(w.g)({event:"community-likeComment",dataLayerObject:a})}function n(){return Object(w.g)({event:"community-showMore",dataLayerObject:a})}function o(){return Object(w.g)({event:"community-reCircClick",dataLayerObject:a})}var a={community:{comments:{assetId:r,assetTitle:i}}};return document.addEventListener("spot-im-current-user-sent-message",e),document.addEventListener("spot-im-user-up-vote-click",t),document.addEventListener("spot-im-show-more-comments-clicked",n),document.addEventListener("spot-im-recirculation-item-clicked",o),function(){document.removeEventListener("spot-im-current-user-sent-message",e),document.removeEventListener("spot-im-user-up-vote-click",t),document.removeEventListener("spot-im-show-more-comments-clicked",n),document.removeEventListener("spot-im-recirculation-item-clicked",o)}},[r,i]);e="theater"===e;return T(h.a.Fragment,null,!e&&T("div",{style:{marginRight:"1em"}},T("div",{"data-spotim-module":"pitc"})),T("div",{style:e?{backgroundColor:"white"}:{},"data-spotim-module":"conversation","data-post-id":t,"data-post-url":o}))};o.defaultProps={show:function(){}};var I=o,E=h.a.createElement;function C(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}var L=n("NOtv")("kraken:components:Comments"),N=function(e){Object(s.a)(a,e);var n,o,t=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=Object(d.a)(n);return t=o?(e=Object(d.a)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),Object(l.a)(this,t)});function a(){var r;return Object(i.a)(this,a),r=t.call(this),Object(m.a)(Object(c.a)(r),"getEmbedOptions",function(){var e=r.props,t=e.coralTalkToken,n=e.pluginTheme,o=e.assetId,a=e.url;return{talk:e.talkUrl,asset_id:o,asset_url:a,auth_token:t,plugin_config:{"talk-plugin-ign-theme":{theme:n}}}}),Object(m.a)(Object(c.a)(r),"setupEmbed",function(e){window&&window.Coral?r.setupCoralTalk(e):r.coralTalkInterval=setInterval(function(){window.Coral&&window.Coral.Talk&&(clearInterval(r.coralTalkInterval),r.setupCoralTalk(e))},500)}),Object(m.a)(Object(c.a)(r),"setupCoralTalk",function(e){r.TalkEmbed=window.Coral.Talk.render(r.commentRef,e),window.addEventListener("message",r.eventMessageReceiver,!1),window.addEventListener("onmessage",r.eventMessageReceiver,!1)}),Object(m.a)(Object(c.a)(r),"eventMessageReceiver",function(e){if(e.origin===b.TALK_URL)if(new RegExp(b.IGN_EVENT).test(e.data))"action.IGN_CORALTALK_LOGIN_CLICK"===JSON.parse(e.data.replace(b.IGN_EVENT,"")).eventName&&r.props.show();else if(new RegExp(b.CORAL_EVENT).test(e.data)){var t=JSON.parse(e.data.replace(b.CORAL_EVENT,"")),e=r.props,n=e.loggedIn,o={community:{comments:{assetId:e.assetId,assetTitle:e.assetTitle}}};switch(t.eventName){case"action.CHECK_LOGIN_SUCCESS":case"action.TALK_FRAMEWORK_CHECK_LOGIN_SUCCESS":!n&&t.value.action.user&&r.TalkEmbed.logout();break;case"mutation.PostComment.success":Object(w.g)({event:"community-postComment",dataLayerObject:o});break;case"mutation.CreateLikeAction.success":Object(w.g)({event:"community-likeComment",dataLayerObject:o});break;case"mutation.CreateBoostAction.success":Object(w.g)({event:"community-boostComment",dataLayerObject:o})}}}),r.coralTalkInterval=null,r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.getEmbedOptions();this.setupEmbed(e)}},{key:"componentDidUpdate",value:function(e){e.assetId!==this.props.assetId&&(clearInterval(this.coralTalkInterval),e=this.getEmbedOptions(),this.setupEmbed(e))}},{key:"componentWillUnmount",value:function(){clearInterval(this.coralTalkInterval),window.removeEventListener("message",this.eventMessageReceiver),window.removeEventListener("onmessage",this.eventMessageReceiver)}},{key:"render",value:function(){var t=this;return E(h.a.Fragment,null,E(_.a,{defer:!0,type:"text/javascript",src:"".concat(b.TALK_URL,"/static/embed.js"),key:"comments"}),!this.props.hideTitle&&E("div",{className:v.a.dynamic([["4074959147",[this.props.theme.elements.text.default]]])+" comments-title"},"Comments"),E("div",{id:"ign-coraltalk-comment",ref:function(e){return t.commentRef=e},className:v.a.dynamic([["4074959147",[this.props.theme.elements.text.default]]])}),E(v.a,{id:"4074959147",dynamic:[this.props.theme.elements.text.default]},[".comments-title.__jsx-style-dynamic-selector{font-family:'ars-maquette-web',sans-serif;font-size:24px;font-weight:900;color:".concat(this.props.theme.elements.text.default,";margin:36px 0 12px 0;}"),"@media (max-width:416px){.comments-title.__jsx-style-dynamic-selector{font-size:18px;}}"]))}}]),a}(y.Component);N.defaultProps={talkUrl:b.TALK_URL,theme:"standard",show:function(){}};function R(e){var t=e.pluginTheme,n=Object(f.a)(e,["pluginTheme"]),t="ign-dark"===(e=Object(a.c)()).id?"theater":t;return E(N,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach(function(e){Object(m.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({pluginTheme:t,theme:e},n))}t.a=function(e){var a=e.assetTitle,r=e.assetId,i=e.url,c=e.pluginTheme,t=e.hideTitle,s=void 0!==t&&t,n=Object(j.c)({rootMargin:"600px 0px",triggerOnce:!0}),e=Object(p.a)(n,2),t=e[0],n=e[1],e=Object(y.useState)(!!b.OPEN_WEB_ACTIVE),o=e[0],l=e[1],d=Object(y.useRef)(null),m=R;return Object(y.useEffect)(function(){var e;void 0===window.useOpenwebComments&&(window.useOpenwebComments=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];L("setting comments to openweb"),l(e)}),o&&document.location.search.includes("spot_im_comment_id")&&(null==d||null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))},[o]),o&&(m=I),n||o?E(k.a,{around:"Comments"},E(g.b,null,function(e){var t=e.currentUser,n=t.coralTalkToken,t=Object(f.a)(t,["coralTalkToken"]),o=e.loggedIn;return o?E(m,Object(u.a)({key:"openweb-comments-".concat(r)},{coralTalkToken:n,currentUser:t,loggedIn:o,assetTitle:a,assetId:r,url:i,pluginTheme:c,hideTitle:s})):E(x.a,null,function(e){var t=e.display,n=e.show,e=e.hide;return E(h.a.Fragment,null,E(m,Object(u.a)({key:"openweb-comments-".concat(r)},{loggedIn:o,assetTitle:a,assetId:r,url:i,pluginTheme:c,show:n,hideTitle:s})),E(O.a,{isOpen:t,onClose:e,trigger:"Comments"}))})})):E("div",{ref:t},E("div",{ref:d}))}}}]);

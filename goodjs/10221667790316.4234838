define(["jquery"],function(r){r.fn.autoGrowInput=function(a){return a=r.extend(!0,{maxWidth:600,minWidth:65,comfortZone:10},a||{}),this.filter("input:text").each(function(){var e=a.minWidth||r(this).width(),i="",n=r(this),o=r("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:n.css("fontSize"),fontFamily:n.css("fontFamily"),fontWeight:n.css("fontWeight"),letterSpacing:n.css("letterSpacing"),whiteSpace:"nowrap"}).insertAfter(n);function t(){var t;i!==(i=n.val())&&(t=i.replace(/&/g,"&amp;").replace(/\s/g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),o.html(t),((t=(t=o.width())+a.comfortZone>=e?t+a.comfortZone:e)<n.width()&&e<=t||e<t&&t<a.maxWidth)&&n.width(t))}n.bind("keyup keydown blur update",t),t()}),this}});

(function(A){A.fn.countdown=function(D,H){function G(){var P=new Date(F.date),W=E();var J=P-W;if(J<0){clearInterval(B);if(H&&typeof H==="function"){H()}return }var U=1000,O=U*60,L=O*60,R=L*24;var M=Math.floor(J/R),I=Math.floor(J%R/L)+(M*24),Q=Math.floor(J%L/O),V=Math.floor(J%O/U);M=String(M).length>=2?M:"0"+M;I=String(I).length>=2?I:"0"+I;Q=String(Q).length>=2?Q:"0"+Q;V=String(V).length>=2?V:"0"+V;var K=M===1?F.day:F.days,N=I===1?F.hour:F.hours,T=Q===1?F.minute:F.minutes,S=V===1?F.second:F.seconds;C.find(".days").text(M);C.find(".hours").text(I);C.find(".minutes").text(Q);C.find(".seconds").text(V);C.removeClass("notVisible");C.find(".days_text").text(K);C.find(".hours_text").text(N);C.find(".minutes_text").text(T);C.find(".seconds_text").text(S)}var F=A.extend({date:null,offset:null,day:"Day",days:"Days",hour:"Hour",hours:"Hours",minute:"Minute",minutes:"Minutes",second:"Second",seconds:"Seconds"},D);if(!F.date){A.error("Date is not defined.")}if(!Date.parse(F.date)){A.error("Incorrect date format, it should look like this, 12/24/2012 12:00:00.")}var C=this;var E=function(){return new Date()};var B=setInterval(G,1000)}})(jQuery);
var Snapdeal=Snapdeal||{};Snapdeal.platinumBanners=(function(B,G){var F,H,A,C;var E=function(){var K="transform WebkitTransform MozTransform OTransform msTransform".split(" ");var L=document.createElement("div");for(var J=0;J<K.length;J++){if(L&&L.style[K[J]]!==undefined){return K[J]}}return false};var D=B("html").hasClass("ie8")||B("html").hasClass("ie9")||(E()==false);if(!D){var I=B(".main-banner-wrapper").css("width");B(".main-banner-wrapper").css("max-width",I);B(".banner-image").css("width",I)}if(E()==false){B("html").addClass("no-transform")}C={timer:null,legendTimer:null,clicked:false,bannerWidth:parseInt(B(".banner-image").css("width")),bannerSlider:parseInt(B(".banner-image").css("width")),lastTransform:parseInt(B(".banner-image").css("width"))*parseInt(B(".banner-image").not(".banner-clone").length),finalTransform:parseInt(B(".banner-image").css("width"))*(parseInt(B(".banner-image").not(".banner-clone").length)+1),slideClick:false};A={bannerImage:B(".banner-image"),bannerItem:B(".banner-item"),topBanner:document.getElementById("top-banner"),topBan:B("#top-banner"),prevBtn:B(".prev"),nextBtn:B(".next"),bannerWrapper:B(".main-banner-wrapper"),bannerTimer:document.getElementById("homePagePlatinumTimer")&&parseInt(document.getElementById("homePagePlatinumTimer").value),homePagePlatinumHoverTimer:document.getElementById("homePagePlatinumHoverTimer")&&parseInt(document.getElementById("homePagePlatinumHoverTimer").value)};H={_init:function(J){H._bindEvents(J);H._afterWindowLoad()},_bannerTimer:function(J){setTimeout(function(){if(A.bannerImage.filter(".shown").length==0){J.addClass("shown")}},20)},_moveSlider:function(){C.slideClick==true;if(C.bannerSlider<=C.finalTransform){if(A.topBanner){A.topBanner.style.transform="translate3d(-"+parseInt(C.bannerSlider)+"px, 0px, 0px)";A.topBanner.style.WebkitTransform="translate3d(-"+parseInt(C.bannerSlider)+"px, 0px, 0px)";A.topBanner.style.MozTransform="translate3d(-"+parseInt(C.bannerSlider)+"px, 0px, 0px)"}}B("#top-banner").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(J){if(J.target===J.currentTarget){if(A.topBanner){A.topBanner.style.transition="";A.topBanner.style.WebkitTransition="";A.topBanner.style.MozTransition=""}A.topBan.removeClass("sliderTransition");C.slideClick==false}else{C.slideClick=false}})},_calculateSlider:function(L){C.slideClick=true;var M="";var K=A.bannerImage.filter(".shown");var J=parseInt(A.bannerImage.not(".banner-clone").length);if(L=="next"&&C.bannerSlider<=C.lastTransform){M=A.bannerImage.filter(".shown").eq(0).next();C.bannerSlider=C.bannerSlider+C.bannerWidth}else{if(L=="prev"){M=A.bannerImage.filter(".shown").eq(0).prev();C.bannerSlider=C.bannerSlider-C.bannerWidth}}C.bannerSlider=Math.abs(C.bannerSlider);if(C.bannerSlider<=C.finalTransform){if(A.topBanner){A.topBanner.style.transform="translate3d(-"+parseInt(C.bannerSlider)+"px, 0px, 0px)";A.topBanner.style.WebkitTransform="translate3d(-"+parseInt(C.bannerSlider)+"px, 0px, 0px)";A.topBanner.style.MozTransform="translate3d(-"+parseInt(C.bannerSlider)+"px, 0px, 0px)"}}B("#top-banner").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(N){if(N.target===N.currentTarget){if(M&&(M.attr("index")==parseInt(J))){if(A.bannerImage.filter(".banner-active").attr("index")==0){setTimeout(function(){if(A.topBanner){A.topBanner.style.transform="translate3d(-"+C.bannerWidth+"px, 0px, 0px)";A.topBanner.style.WebkitTransform="translate3d(-"+C.bannerWidth+"px, 0px, 0px)";A.topBanner.style.MozTransform="translate3d(-"+C.bannerWidth+"px, 0px, 0px)"}},10);if(A.topBanner){A.topBanner.style.transition="";A.topBanner.style.WebkitTransition="";A.topBanner.style.MozTransition=""}A.topBan.removeClass("sliderTransition");C.bannerSlider=C.bannerWidth}C.slideClick=false}else{if(M&&(M.attr("index")==-1)){if(A.bannerImage.filter(".banner-active").attr("index")==(J-1)){if(A.topBanner){A.topBanner.style.transform="translate3d(-"+parseInt(C.lastTransform)+"px, 0px, 0px)";A.topBanner.style.WebkitTransform="translate3d(-"+parseInt(C.lastTransform)+"px, 0px, 0px)";A.topBanner.style.MozTransform="translate3d(-"+parseInt(C.lastTransform)+"px, 0px, 0px)";A.topBanner.style.transition="";A.topBanner.style.WebkitTransition="";A.topBanner.style.MozTransition=""}A.topBan.removeClass("sliderTransition");C.bannerSlider=parseInt(C.lastTransform)}C.slideClick=false}else{setTimeout(function(){if(A.topBanner){A.topBanner.style.transition="";A.topBanner.style.WebkitTransition="";A.topBanner.style.MozTransition=""}A.topBan.removeClass("sliderTransition")},1);C.slideClick=false}}}else{C.slideClick=false}});if(M&&!(M.hasClass("banner-clone"))){if(L=="next"){A.bannerImage.filter(".shown").removeClass("banner-active").eq(0).next().addClass("banner-active")}else{if(L=="prev"){A.bannerImage.filter(".shown").removeClass("banner-active").eq(0).prev().addClass("banner-active")}}}else{if(M&&M.hasClass("banner-clone")){A.bannerImage.filter(".shown").removeClass("banner-active");if(L=="next"){A.bannerImage.eq(1).addClass("banner-active")}else{if(L=="prev"){A.bannerImage.eq(J).addClass("banner-active")}}}}},_showBanner:function(){if(!D){H._calculateSlider("next")}var L=A.bannerImage.filter(".shown").eq(0).next();if(!D){var K=A.bannerImage.filter(".shown").removeClass("shown").eq(0).next()}else{var K=A.bannerImage.filter(".shown").removeClass("shown").css("display","none").eq(0).next()}if(L.hasClass("banner-clone")){K=A.bannerImage.eq(1)}if(K.attr("index")==-1){K=A.bannerImage.eq(0)}A.bannerItem.removeClass("active");var J=A.bannerItem.eq(K.attr("index"));K.css({display:"block"});J.addClass("active");H._bannerTimer(K)},_showBannerPrev:function(){if(!D){H._calculateSlider("prev")}var K=parseInt(A.bannerImage.not(".banner-clone").length);var M=A.bannerImage.filter(".shown").eq(0).prev();if(!D){var L=A.bannerImage.filter(".shown").removeClass("shown").eq(0).prev()}else{var L=A.bannerImage.filter(".shown").removeClass("shown").css("display","none").eq(0).prev()}if(L.index()==-1){L=A.bannerImage.eq(-1)}if(M.hasClass("banner-clone")){L=A.bannerImage.eq(K)}A.bannerItem.removeClass("active");var J=A.bannerItem.eq(L.index()-1);L.css({display:"block"});J.addClass("active");H._bannerTimer(L)},_onHoverAddClass:function(J){B(J.currentTarget).addClass("bannerHover");clearInterval(C.timer)},_onMouseOutRemoveClass:function(J){B(J.currentTarget).removeClass("bannerHover");if(!C.clicked){C.timer=setInterval(function(){if(!D){if(C.slideClick==true){return }if(A.topBanner){A.topBanner.style.transition="transform 1000ms ease";A.topBanner.style.WebkitTransition="transform 1000ms ease";A.topBanner.style.MozTransition="transform 1000ms ease"}A.topBan.addClass("sliderTransition")}H._showBanner()},A.bannerTimer)}},_onHoverRemoveHidden:function(){},_onMouseOutAddHidden:function(){},_initiateBanner:function(){C.timer=setInterval(function(){if(!C.clicked){if(!D){if(C.slideClick==true){return }if(A.topBanner){A.topBanner.style.transition="transform 1000ms ease";A.topBanner.style.WebkitTransition="transform 1000ms ease";A.topBanner.style.MozTransition="transform 1000ms ease"}A.topBan.addClass("sliderTransition")}H._showBanner()}},A.bannerTimer)},_bindEvents:function(J){if(D){var J=J||"mouseover"}else{var J=J||"click"}A.bannerItem.on(J,function(M){A.bannerImage=B(".banner-image");if(!D){C.clicked=true}clearTimeout(C.timer);C.legendTimer&&clearTimeout(C.legendTimer);var L=A.bannerImage.filter(".shown").attr("index");if(!D){if(B(this).index()<5){if(A.topBanner){A.topBanner.style.transition="transform 1000ms ease";A.topBanner.style.WebkitTransition="transform 1000ms ease";A.topBanner.style.MozTransition="transform 1000ms ease"}A.topBan.addClass("sliderTransition");C.bannerSlider=C.bannerWidth*(B(this).index()+1);H._moveSlider()}else{return }}A.bannerImage.removeClass("shown");if(D){A.bannerImage.css("display","none")}A.bannerImage.removeClass("banner-active");A.bannerImage.eq(B(this).index()+1).css("display","block");A.bannerItem.removeClass("active");B(this).addClass("active");if(!D){A.bannerImage.eq(B(this).index()+1).addClass("banner-active")}H._bannerTimer(A.bannerImage.eq(B(this).index()+1));C.legendTimer=setTimeout(function(){H._initiateBanner()},A.homePagePlatinumHoverTimer-A.bannerTimer)});if(!D){if(A.topBanner){A.topBanner.style.transform="translate3d(-"+C.bannerWidth+"px, 0px, 0px)";A.topBanner.style.WebkitTransform="translate3d(-"+C.bannerWidth+"px, 0px, 0px)";A.topBanner.style.MozTransform="translate3d(-"+C.bannerWidth+"px, 0px, 0px)"}var K=A.bannerWrapper.find(".banner-image").length;A.bannerWrapper.find(".top-banner-area").css("width",C.bannerWidth*K+"px")}B(window).resize(Snapdeal.utility.debounce(function(){if(!D){var L=parseInt(A.bannerImage.filter(".shown").attr("index"));A.bannerWrapper.css("max-width","none");A.bannerWrapper.find(".top-banner-area").css("width","auto").css("tranform","translate3d(0, 0, 0)");A.bannerWrapper.find(".banner-image").css("width","auto");var N=parseInt(A.bannerWrapper.css("width"));L=N*(L+1);A.bannerWrapper.css("max-width",N);A.bannerWrapper.find(".banner-image").css("width",N);C.bannerWidth=N;C.bannerSlider=L;C.lastTransform=N*parseInt(B(".banner-image").not(".banner-clone").length);C.finalTransform=N*(parseInt(B(".banner-image").not(".banner-clone").length)+1);if(A.topBanner){A.topBanner.style.transform="translate3d(-"+parseInt(L)+"px, 0px, 0px)";A.topBanner.style.WebkitTransform="translate3d(-"+parseInt(L)+"px, 0px, 0px)";A.topBanner.style.MozTransform="translate3d(-"+parseInt(L)+"px, 0px, 0px)"}var M=A.bannerWrapper.find(".banner-image").length;A.bannerWrapper.find(".top-banner-area").css("width",C.bannerWidth*M+"px");C.slideClick=false}},1))},_afterWindowLoad:function(){B(window).load(function(){H._initiateBanner();B(".skeletonScreen").addClass("animHide");B(".home-page-right-section").addClass("animScroll")});B(".main-banner-wrapper").on("click",".next",function(J){C.clicked=true;clearInterval(C.timer);if(!D){if(C.slideClick==true){return }if(A.topBanner){A.topBanner.style.transition="transform 1000ms ease";A.topBanner.style.WebkitTransition="transform 1000ms ease";A.topBanner.style.MozTransition="transform 1000ms ease"}A.topBan.addClass("sliderTransition")}H._showBanner()});B(".main-banner-wrapper").on("click",".prev",function(J){C.clicked=true;clearInterval(C.timer);if(!D){if(C.slideClick==true){return }if(A.topBanner){A.topBanner.style.transition="transform 1000ms ease";A.topBanner.style.WebkitTransition="transform 1000ms ease";A.topBanner.style.MozTransition="transform 1000ms ease"}A.topBan.addClass("sliderTransition")}H._showBannerPrev()});A.bannerImage.on("mouseover",function(J){if(D){H._onHoverAddClass(J)}});A.bannerImage.on("mouseout",function(J){if(D){H._onMouseOutRemoveClass(J)}});A.bannerWrapper.on("mouseover",function(J){H._onHoverRemoveHidden(J)});A.bannerWrapper.on("mouseout",function(J){H._onMouseOutAddHidden(J)})}};F={init:function(){return H._init.apply(this,arguments)},};return F})(window.jQuery,Snapdeal);
var Snapdeal=Snapdeal||{};Snapdeal.loadCXEWidgets=(function(D,H){var F,I,A,C,B,E;var G=((document.ontouchstart!==null)?"click":"touchstart");A={centerCardWidgets:D("#centerCardWidgets"),dealsTimer:D(".dealsTimer"),gradTimer:D(".gradTimer"),homePageWidgetCount:D("#homePageWidgetCount"),homePageVersion:D("#homePageVersion"),dealsBanner:D(".dealsBanner"),greyTemplateDiv:D(".greyTemplateDiv"),csfPageVersion:D("#csfPageVersion"),homePageDealsOfTheDayBanner:D("#homePageDealsOfTheDayBanner"),sdFooter:D("#sdFooter"),trendingData:D(".trendingData"),trendSpace:D(".trendSpace"),homeShiftTrending:D("#homeShiftTrending"),homeShiftTrendTimeout:D("#homeShiftTrendTimeout"),stackYuda:D("#stack_yuda"),isHybridCSF:false};E={minSlides:4,maxSlides:5,sliderModel:null,tempIndex:parseInt(A.homePageWidgetCount.val())-1,count:0,counter:0,scrollIndex:0,showTemplate:-1,cookieValues:{},configURL:"",ribbonInstance:0};C={homeVersion:A.homePageVersion.val(),csfVersion:A.csfPageVersion.val(),showTempCnt:parseInt(A.homePageWidgetCount.val()),ajaxHit:false,categoryInstance:0,widgetLen:0,ceeInstance:0,shiftSwitch:true};I={_init:function(J){B=D.extend(true,{},C,J);I._bindEvents();I._windowUnloadRegister()},_bindEvents:function(){D(window).on("scroll.loadCXEWidgets",Snapdeal.utility.debounce(function(){var M,L,N,J,K;N=parseInt(A.centerCardWidgets.attr("widgetLen"));M=D(".homePageSection");L=Math.round(C.showTempCnt/2);J=A.centerCardWidgets.find(".homePageSection").length;K=L>J?(L-J):(J-L);if(M[K]&&Snapdeal.lazyLoad.isElementVisible(M[K])==true){I._fireScrollEvent()}else{if(M[J-1]&&Snapdeal.lazyLoad.isElementVisible(M[J-1])==true){I._fireScrollEvent()}else{if(D("#greyTempDiv").length>0&&Snapdeal.lazyLoad.isElementVisible(document.getElementById("greyTempDiv"))==true){I._fireScrollEvent()}else{if(A.sdFooter.length>0&&Snapdeal.lazyLoad.isElementVisible(document.getElementById("sdFooter"))==true){I._fireScrollEvent()}else{if((window.innerHeight||document.documentElement.clientHeight)+D(window).scrollTop()>=(A.centerCardWidgets.offset().top+A.centerCardWidgets.outerHeight())-500){I._fireScrollEvent()}}}}}if((D(window).scrollTop()+D(window).height()==D(document).height())&&E.count>=N){A.greyTemplateDiv.addClass("hidden");D(window).off("scroll.loadCXEWidgets")}if((D(window).scrollTop()+D(window).height()==D(document).height())&&!N){A.greyTemplateDiv.addClass("hidden");D(window).off("scroll.loadCXEWidgets")}},20))},_categoryContentCount:0,_fireScrollEvent:function(){var L=parseInt(A.centerCardWidgets.attr("widgetLen"));if(C.ajaxHit==false){E.count=E.tempIndex+1;E.tempIndex=E.tempIndex+parseInt(A.homePageWidgetCount.val());if(E.tempIndex>=L){E.tempIndex=L-1}if(L){if(E.count<L){I._getAjaxData()}else{if(E.count===L){I._categoryContentCount++;if(I._categoryContentCount===1&&A.isHybridCSF){var K=document.getElementById("categoryPageCSS").value;var J=loadCSS(K);onloadCSS(J,function(){I._getHybridCSFListing()})}}}}else{I._getAjaxData()}}},_getHybridCSFListing:function(){A.greyTemplateDiv.removeClass("hidden");var K=D("#sa-category").val();var J="/getListingPageCategoryData/"+K;D.ajax({url:J,type:"GET",success:function(L){if(L!==""){D("#csfContent").html(L)}A.greyTemplateDiv.addClass("hidden")},error:function(){A.greyTemplateDiv.addClass("hidden")}})},_windowUnloadRegister:function(){window.onunload=function(){D(window).scrollTop(0)}},_initialiseSlider:function(J,K,L){if(L=="categoryWidgets"){A.centerCardWidgets.find(".widgetImageWrapper .bx-controls a").attr("href","javascript:void(0);");if(J){E.sliderModel=K.bxSlider({prevText:'<div class="prev"><i class="prev-i"></i><i class="sd-icon sd-icon-previous"></i></div>',nextText:'<div class="next"><i class="next-i"></i><i class="sd-icon sd-icon-next"></i></div>',useCSS:false,pager:false,slideMargin:0,infiniteLoop:false,hideControlOnEnd:true,auto:false,minSlides:E.minSlides,maxSlides:E.maxSlides,})}A.centerCardWidgets.find(".widgetImageWrapper .bx-controls a.bx-prev").addClass("disabled")}else{if(J){E.sliderModel=K.bxSlider({prevText:'<div class="prev"><i class="prev-i"></i><i class="sd-icon sd-icon-previous"></i></div>',nextText:'<div class="next"><i class="next-i"></i><i class="sd-icon sd-icon-next"></i></div>',slideWidth:232,useCSS:false,pager:false,slideMargin:0,infiniteLoop:true,hideControlOnEnd:false,auto:false,minSlides:E.minSlides,maxSlides:E.maxSlides,})}}},_formatZeros:function(J){return J<10?"0"+J:J},_setOmniCeeOnload:function(){var P=D(".centerCardAfterLoadWidgets").find(".mainTempDiv");var O="";var J="";var N="";for(var M=0;M<P.length;M++){if(M!=0){O+="||"}O+=D(P[M]).parents(".homePageSection").attr("widgetId");J=D(P[M]).attr("trackingids");if(J&&J!="null"){N=JSON.parse(J);if(N&&N.length){for(var L=0;L<N.length;L++){if(N[L].key=="aid"){O+=("_"+N[L].key+"="+N[L].value);break}}for(var L=0;L<N.length;L++){if(N[L].key=="jid"){O+=("_"+N[L].key+"="+N[L].value);break}}for(var L=0;L<N.length;L++){if(N[L].key=="testId"){O+=("_"+N[L].key+"="+N[L].value);break}}for(var L=0;L<N.length;L++){if(N[L].key=="ruleId"){O+=("_"+N[L].key+"="+N[L].value);break}}}}}var K=A.stackYuda.find("li").length;var R=A.stackYuda.find("li");for(var Q=0;Q<K;Q++){O+=("_NBAwidgetName="+D(R[Q]).attr("action"));O+=("_NBAwidgetPosition="+(Q+1))}Snapdeal.omni.fire("ceeWidgetLoaded",{data:O})},_setConfigForTimer:function(L,O,M){var N=new Date().getTime();var J;var K="false";if(N>L&&N<O){J=O}else{if(N<L){J=L;K="true"}else{if(N>L){var P=D(".dealsWidget");P.css("opacity","0.4").addClass("opacityAttachd");P.parents(".homePageSection").find("a").removeAttr("href");P.parents(".homePageSection").find("img").addClass("opacity2");P.parents(".homePageSection").find("img").addClass("opacity2");D(".opacityAttachd").find("a").attr("href","javascript:void(0);");return }}}J=new Date(parseInt(J));var R=J.getFullYear()+"/"+I._formatZeros(J.getMonth()+1)+"/"+I._formatZeros(J.getDate());var Q=I._formatZeros(J.getHours())+":"+I._formatZeros(J.getMinutes())+":"+I._formatZeros(J.getSeconds());M.countdown({date:R+" "+Q,offset:null,},function(){if(K=="true"){I._setConfigForTimer(M.attr("startTime"),M.attr("endTime"),M)}})},_appendStructure:function(N,M){E.showTemplate=E.showTemplate+1;var L,K,J,W,T,V,Q,P;var S=E.showTemplate;if(N=="ribbon"){var U=A.centerCardWidgets.find(".homePageSection").eq(E.ribbonInstance);if(U&&U.length>0){var R=D("#sectionTemplate1").html();D(R).insertBefore(U)}else{E.ribbonInstance=E.showTemplate;A.centerCardWidgets.append(D("#sectionTemplate1").html())}A.centerCardWidgets.find(".homePageSection").eq(E.ribbonInstance).attr("tempStyl",L).attr("data-index",E.ribbonInstance);A.centerCardWidgets.find("h2").eq(E.ribbonInstance).attr("id","head-ribbon_banner-"+E.ribbonInstance);A.centerCardWidgets.find(".mainTempDiv").eq(E.ribbonInstance).attr("id","ajaxWidget-ribbon_banner-"+E.ribbonInstance);var O=doT.template(D("#ribbon_banner").html());D("#ajaxWidget-ribbon_banner-"+E.ribbonInstance).append(O);D("#ajaxWidget-ribbon_banner-"+E.ribbonInstance).parents(".homePageSection").find(".widgetHead").addClass("hidden");var X=A.centerCardWidgets.attr("adTechInstance")-1;D(".adtechGoldBanner1").eq(X).append(M);I._showTemplate(E.ribbonInstance,"ribbon_banner");return }L=N.templateStyle;K=N.dataSource;J=N.templateSubStyle;W=N.viewAllText;T=N.viewAllCta;V=N.widgetLabel;Q=N.trackingId;P=N.id;if(L=="exclusive_widget"){A.centerCardWidgets.append(D("#section-exclusive").html())}else{if(J=="products_widget_2_tuple"||L=="trending_categories_cmp"){A.centerCardWidgets.append(D("#sectionTemplate2").html())}else{if(J==="paginated_2x2_widget"&&L==="paginated_widget"){A.centerCardWidgets.append(D("#infiniteFeedTemplate").html())}else{A.centerCardWidgets.append(D("#sectionTemplate1").html())}}}A.centerCardWidgets.find(".homePageSection").eq(S).attr("tempStyl",L).attr("data-index",S).attr("widgetId",P);A.centerCardWidgets.find("h2").eq(S).attr("id","head-"+L+"-"+S);A.centerCardWidgets.find(".mainTempDiv").eq(S).attr("id","ajaxWidget-"+L+"-"+S);A.centerCardWidgets.find(".mainTempDiv").eq(S).attr("trackingIds",JSON.stringify(Q));if(L=="products_c_widget_cxe"){A.centerCardWidgets.find(".homePageSection").eq(S).addClass("ceeWidget dp-widget");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidt","cee_wdgt");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidtfr","cee_wdgt");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdit","crsl");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpwlbl",V);A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdat","product_list");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpcol","c");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dppos",S);A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpid",P)}else{if(L=="products_c_widget_cmp"){A.centerCardWidgets.find(".homePageSection").eq(S).addClass("ceeWidget dp-widget");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidt","cee_wdgt");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdit","crsl");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpwlbl",V);A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdat","product_list");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpcol","c");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dppos",S);A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpid",P)}else{if(L=="category_buckets_widget_cmp"){A.centerCardWidgets.find(".homePageSection").eq(S).addClass("ceeWidget dp-widget");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidt","cat_prm");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpwlbl",V);A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdat","cat_prm");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpcol","c");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dppos",S);A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpid",P)}else{if(L=="gold_banner"){A.centerCardWidgets.find(".homePageSection").eq(S).addClass("ceeWidget dp-widget");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidt","gld_bnr");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdit","bnr");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpwlbl","Gold Banner");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdat","bnr");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpcol","c");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dppos",S);A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpid",P)}else{if(L=="card_style_banner_cmp"){A.centerCardWidgets.find(".homePageSection").eq(S).addClass("ceeWidget dp-widget");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidt","crd_bnr");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdit","bnr");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpwlbl","Card Style Banner");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdat","bnr");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpcol","c");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dppos",S);A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpid",P)}else{if(L=="deals_of_the_day_cmp"){A.centerCardWidgets.find(".homePageSection").eq(S).addClass("ceeWidget dp-widget");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidt","dod_wdgt");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdit","crsl");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpwlbl","Deal of the Day");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdat","product-list");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpcol","c");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dppos",S);A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpid",P)}else{if(L=="ribbon_banner_cmp"){A.centerCardWidgets.find(".homePageSection").eq(S).addClass("ceeWidget dp-widget");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidt","rbn_ban");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdit","rbn_ban");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidtfr","rbn_ban");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpwlbl","Ribbon Banner");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdat","bnr");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpcol","c");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dppos",S);A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpid",P)}else{if(L=="super_deal_of_the_day"){A.centerCardWidgets.find(".homePageSection").eq(S).addClass("ceeWidget dp-widget");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidt","spr_deal");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdit","spr_deal");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidtfr","spr_deal");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpwlbl","Super Deal of the Day");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdat","bnr");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpcol","c");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dppos",S);A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpid",P)}else{if(L=="trending_categories_cmp"){A.centerCardWidgets.find(".homePageSection").eq(S).addClass("ceeWidget dp-widget");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidt","trend_cat");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdit","trend_cat");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpidtfr","trend_cat");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpwlbl","Trending Categories");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpdat","bnr");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpcol","c");A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dppos",S);A.centerCardWidgets.find(".homePageSection").eq(S).attr("data-dpid",P)}}}}}}}}}if(L=="products_c_widget_cmp"||L=="deals_of_the_day_cmp"||L=="exclusive_widget"||L=="top_brands"){if(W&&T){D("h2#head-"+L+"-"+S).parents(".homePageSection").find(".loadMoreBtn").removeClass("hidden");D("h2#head-"+L+"-"+S).parents(".homePageSection").find(".viewAllAnchor").attr("href",T);if(L=="deals_of_the_day_cmp"){D("h2#head-"+L+"-"+S).parents(".homePageSection").find(".dealsBanner a").attr("href",T)}}}if(L=="shopping_list_widget"){D("h2#head-"+L+"-"+S).parents(".homePageSection").find(".loadMoreBtn").removeClass("hidden");D("h2#head-"+L+"-"+S).parents(".homePageSection").find(".viewAllAnchor").attr("href",absoluteHttpPath+"/shopping-list");D("h2#head-"+L+"-"+S).html("SHOPPING LIST")}if(L=="super_deal_of_the_day"||L=="category_buckets_widget_cmp"||L=="ribbon_banner_cmp"||L=="download_App"||L=="card_style_banner_cmp"||L=="gold_banner"){D("h2#head-"+L+"-"+S).parent().addClass("hidden")}if(V&&(L!="super_deal_of_the_day"||L!="ribbon_banner_cmp"||L!="download_App")){D("h2#head-"+L+"-"+S).html(V)}},_showTemplate:function(K,J){D("#ajaxWidget-"+J+"-"+K).parents(".homePageSection").removeClass("greyTemplate").find(".sectnDiv").addClass("animScroll");I._createDPInfoData(D("#ajaxWidget-"+J+"-"+K));if(C.ceeInstance==1&&C.shiftSwitch==true){D(".tnTemplate").addClass("animHide");D("#ajaxWidget-"+J+"-"+K).parents("section.inPlaceTrend").removeClass("greyTemplate");A.trendSpace.addClass("animScroll").find(".sectnDiv").addClass("animScroll")}},_processTemplate:function(b,P){var c,N,a,M;if(b){c=b.templateStyle;N=b.templateSubStyle;var J=c;if(J=="products_c_widget_cmp"||J=="products_c_widget_cxe"){J="products_c_widget"}M=JSON.parse(b.data);if(D("#"+J).html()){a=doT.template(D("#"+J).html());if(a){if(M&&c!="deals_of_the_day_cmp"&&J!="products_c_widget"&&c!="super_deal_of_the_day"&&c!="exclusive_widget"&&c!="shopping_list_widget"){I._appendStructure(b);if(M.widgetList){D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(M.widgetList))}else{D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(M))}I._showTemplate(E.showTemplate,c)}else{if(!(M)&&(c=="ribbon_banner"||c=="download_App")){D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a)}}if((A.homeShiftTrending.val()==true||A.homeShiftTrending.val()=="true")&&C.shiftSwitch==true&&((M&&M.length)||(M&&M.widgetList.length))){if(c=="products_c_widget_cxe"){C.ceeInstance+=1}else{if(c=="products_c_widget_cmp"){C.ceeInstance+=1}}}switch(J){case"products_c_widget":if(M){var O=M.widgetList?M.widgetList.length:M.length;if(C.ceeInstance==1&&C.shiftSwitch==true){if(O>=4){I._appendStructure(b);if(M.widgetList){D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(M.widgetList))}else{D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(M))}var V=A.trendSpace.find(".trendingNowWidget").html();var Q=A.trendSpace.find(".trendingNowWidget").attr("data-dpid");var Z=D("#ajaxWidget-"+c+"-"+E.showTemplate).parents(".homePageSection");A.trendSpace.find(".trendingNowWidget").html(Z.html());A.trendSpace.find(".trendingNowWidget").addClass("inPlaceTrend ceeWidget homePageSection dp-widget").removeClass("trendingNowWidget dp-fired").attr("widgetid",Z.attr("widgetid")).attr("data-dpwlbl",Z.attr("data-dpwlbl")).attr("data-dppos",Z.attr("data-dppos")).attr("data-dpidtfr",Z.attr("data-dpidtfr")).attr("tempstyl",Z.attr("tempstyl")).attr("data-index","-1");if(O>5){I._initialiseSlider(true,A.trendSpace.find("#ajaxWidget-"+c+"-"+E.showTemplate));D("#ajaxWidget-"+c+"-"+E.showTemplate).parents("section").addClass("sliderHomeWidget")}else{if(O==4){A.trendSpace.find("#ajaxWidget-"+c+"-"+E.showTemplate).addClass("whiteBack")}else{if(O==5){A.trendSpace.find("#ajaxWidget-"+c+"-"+E.showTemplate).find(".product-relative").addClass("noMaxWidth")}}}A.centerCardWidgets.find("#ajaxWidget-"+c+"-"+E.showTemplate).parents(".homePageSection").html(V).removeClass("greyTemplate").addClass("sliderHomeWidget trendingNowWidget dp-widget").find(".sectnDiv").addClass("animScroll");if(A.centerCardWidgets.find(".trendingProd").length>5){I._initialiseSlider(true,A.centerCardWidgets.find(".trendingData"))}else{if(A.centerCardWidgets.find(".trendingProd").length==4){A.centerCardWidgets.find(".trendingData").addClass("whiteBack")}else{if(A.centerCardWidgets.find(".trendingProd").length==5){A.centerCardWidgets.find(".trendingProd").addClass("noMaxWidth dp-widget-link")}}}I._showTemplate(E.showTemplate,c);A.centerCardWidgets.find(".trendingNowWidget").attr("tempstyl","trendingNowWidget").attr("data-dpidt","cee_wdgt").attr("data-dpdit","crsl").attr("data-dpwlbl","Trending Products").attr("data-dpcol","c").attr("data-dpdat","product_list").attr("data-dpid",Q).removeAttr("widgetid");A.centerCardWidgets.find(".trendingNowWidget").removeClass("dp-fired ceeWidget");return }else{A.trendSpace.addClass("animScroll").removeClass("dp-click-widgets").find(".sectnDiv").addClass("animScroll");D(".tnTemplate").addClass("animHide");A.trendSpace.find(".trendingNowWidget").removeClass("dp-widget ceeWidget dp-fired");if(A.trendSpace.find(".trendingProd").length>5){I._initialiseSlider(true,A.trendSpace.find(".trendingData"))}}}if(N=="products_widget_2_tuple"){if(O>=4){I._appendStructure(b);if((O%5)==0||O==4){if(M.widgetList){D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(M.widgetList))}else{D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(M))}if(O==4){D("#ajaxWidget-"+c+"-"+E.showTemplate).addClass("whiteBack")}else{if(O==5){D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".product-relative").addClass("noMaxWidth")}}}else{var L=M.widgetList?M.widgetList:M;var W=O-(O%5);L=L.splice(0,W);D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(L))}I._showTemplate(E.showTemplate,c)}D("#ajaxWidget-"+c+"-"+E.showTemplate).parents("section").addClass("sliderTwoTupleWidget")}else{if(O>=4){I._appendStructure(b);if(M.widgetList){D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(M.widgetList))}else{D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(M))}I._showTemplate(E.showTemplate,c);if(N=="products_widget_6_pog"&&G!="touchstart"){D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".product-relative").addClass("sixPogCard").find(".stats-container").addClass("sixPogWidget");D("#ajaxWidget-"+c+"-"+E.showTemplate).parents("section").addClass("sixPogSection");D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".lfloat").removeClass("lfloat");D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".sixPogButtn").removeClass("hidden");if(O==5){D("#ajaxWidget-"+c+"-"+E.showTemplate).addClass("whiteBack")}}if(O>5){I._initialiseSlider(true,D("#ajaxWidget-"+c+"-"+E.showTemplate));D("#ajaxWidget-"+c+"-"+E.showTemplate).parents("section").addClass("sliderHomeWidget")}if(O==4){D("#ajaxWidget-"+c+"-"+E.showTemplate).addClass("whiteBack")}else{if(O==5&&N!="products_widget_6_pog"){D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".product-relative").addClass("noMaxWidth")}}}}}break;case"exclusive_widget":if(M&&M.widgetList&&M.widgetList.length>2){I._appendStructure(b);D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(M.widgetList));var U=D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".products-container");I._showTemplate(E.showTemplate,c);if(U.length>0&&M.widgetList.length>3){I._initialiseSlider(true,U)}}break;case"super_deal_of_the_day":if(M&&M.widgetList){var T=M.widgetList.length-1;if(M.widgetList[T]&&M.widgetList[T].soldout==false){I._appendStructure(b);D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(M.widgetList));I._showTemplate(E.showTemplate,c);var Z=D("#ajaxWidget-"+c+"-"+E.showTemplate).parents(".homePageSection");if(M.startDate&&M.endDate){var Y=M.startDate;var K=M.endDate;var S=D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".gradTimer");D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".gradTimer, .timerMins").removeClass("hidden");I._setConfigForTimer(Y,K,S)}else{D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".gradTimer, .timerMins").addClass("hidden")}}}break;case"deals_of_the_day_cmp":if(M&&M.widgetList&&M.widgetList.length>=3){I._appendStructure(b);D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(M.widgetList));A.dealsBanner.removeClass("hidden").insertBefore(D("#ajaxWidget-"+c+"-"+E.showTemplate));var X=D("#ajaxWidget-"+c+"-"+E.showTemplate).parents(".homePageSection").find(".viewAllBtn").attr("href");D(".dealsBanner a").attr("href",X);if(!A.homePageDealsOfTheDayBanner.val()){D("#ajaxWidget-"+c+"-"+E.showTemplate).parents("section").find(".bx-wrapper").addClass("zeroMarginLeft")}I._showTemplate(E.showTemplate,c);if(M.widgetList.length>4){I._initialiseSlider(true,D("#ajaxWidget-"+c+"-"+E.showTemplate));D("#ajaxWidget-"+c+"-"+E.showTemplate).parents("section").addClass("sliderHomeWidget dealsWidget")}if(M.widgetList.length==3){D("#ajaxWidget-"+c+"-"+E.showTemplate).addClass("whiteBack")}else{if(M.widgetList.length==4){D("#ajaxWidget-"+c+"-"+E.showTemplate).addClass("whiteBack");D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".product-relative").addClass("noMaxWidth")}}if(M.startDate&&M.endDate){D("h2#head-"+c+"-"+E.showTemplate).parent().addClass("widgetTimerHead");A.dealsTimer.removeClass("hidden").insertAfter(D("h2#head-"+c+"-"+E.showTemplate));var Y=M.startDate;var K=M.endDate;I._setConfigForTimer(Y,K,A.dealsTimer)}}break;case"ribbon_banner":E.counter=E.counter+1;A.centerCardWidgets.attr("adTechInstance",E.counter);E.ribbonInstance=A.centerCardWidgets.find(".homePageSection").length;if(D("#sa-page").val()=="category-store-front"){Snapdeal.csfAdTechDarwin.init()}else{var R=D("html").hasClass("ie8")||D("html").hasClass("ie9");if(!R){Snapdeal.homePageAdtechIntegration.init()}}break;case"shopping_list_widget":D("#ajaxWidget-"+c+"-"+E.showTemplate).parents("section").addClass("fmcg-container");if(M&&M.widgetList&&M.widgetList.length>3){I._appendStructure(b);D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a(M.widgetList));I._showTemplate(E.showTemplate,c);if(M.widgetList.length>5){I._initialiseSlider(true,D("#ajaxWidget-"+c+"-"+E.showTemplate));D("#ajaxWidget-"+c+"-"+E.showTemplate).parents("section").addClass("sliderHomeWidget")}else{if(M.widgetList.length==5){D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".product-relative").addClass("noMaxWidth")}else{if(M.widgetList.length==4){D("#ajaxWidget-"+c+"-"+E.showTemplate).addClass("whiteBack")}}}}break;case"category_buckets_widget_cmp":C.categoryInstance+=1;var U=D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".multiProds");if(U.length>0){I._initialiseSlider(true,U,"categoryWidgets")}if(C.categoryInstance==1){D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".leftCategoryText").addClass("firstCategoryBackGrnd")}else{if(C.categoryInstance==2){D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".leftCategoryText").addClass("secondCategoryBackGrnd")}else{if(C.categoryInstance==3){C.categoryInstance=0;D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".leftCategoryText").addClass("thirdCategoryBackGrnd");D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".leftCategoryText").find(".textLinks a").addClass("darkFontColor")}}}D("#ajaxWidget-"+c+"-"+E.showTemplate).parents("section").addClass("categoryWidgetWrapper-homepage");break;case"download_App":I._appendStructure(b);D("#ajaxWidget-"+c+"-"+E.showTemplate).append(a);D("#ajaxWidget-"+c+"-"+E.showTemplate).find(".downloadIconsImg").removeClass("lazyBg");I._showTemplate(E.showTemplate,c);D("#ajaxWidget-"+c+"-"+E.showTemplate).parents("section").addClass("downloadAppFullWidth downloadBackImage");break;case"paginated_widget":I._appendStructure(b);Snapdeal.infiniteFeed.createInfiniteFeed(b,"home");default:}}}}if(E.tempIndex>=parseInt(C.widgetLen)-1){A.greyTemplateDiv.addClass("hidden")}},_appendTemplateStructure:function(N,L,K){var M,J;if(N){for(M=L;M<=K;M++){J=N[M];I._processTemplate(J,M)}if(pageName=="HomePage"){Snapdeal.WidgetLogger.init();D(".lazyBg").removeClass("lazyBg")}if(L==0){if(C.ceeInstance==0&&C.shiftSwitch==true&&(A.homeShiftTrending.val()==true||A.homeShiftTrending.val()=="true")){if(A.trendSpace.find(".bx-wrapper").length==0){I._initialiseSlider(true,A.trendSpace.find(".trendingData"))}D(".tnTemplate").addClass("animHide");A.trendSpace.addClass("animScroll").find(".sectnDiv").addClass("animScroll");C.shiftSwitch=false}}if(G=="touchstart"){A.centerCardWidgets.find(".shortlist-products").show();A.trendSpace.find(".shortlist-products").show();D("#productNewTab").val("false");D(".product-card").removeAttr("target")}}},_getAjaxData:function(){var M;var O=null;var K=E.count;var J=E.tempIndex;if(E.configURL=="getHomeWidgets"){M=Snapdeal.getAjaxResourcesPath("/web/getHomePageData/"+C.homeVersion+"/"+K+"/"+J+"?uCookie="+E.cookieValues.uCookie+"&spin="+E.cookieValues.spinCookie+"&hpcl="+E.cookieValues.hpclCookie)}else{if(E.configURL=="getCSFWidgets"){var L,N;L=D("#sa-category").val();N=D("#sa-cart-id").val();M=Snapdeal.getAjaxResourcesPath("/web/getCSFData/"+C.csfVersion+"/"+K+"/"+J+"?uCookie="+E.cookieValues.uCookie+"&spin="+E.cookieValues.spinCookie+"&cartId="+N+"&categoryUrl="+L)}}C.ajaxHit=true;D.ajax({url:M,type:"GET",beforeSend:function(){if(K==0){O=setTimeout(function(){if(A.trendSpace.find(".bx-wrapper").length==0){I._initialiseSlider(true,A.trendSpace.find(".trendingData"))}D(".tnTemplate").addClass("animHide");A.trendSpace.addClass("animScroll").removeClass("dp-click-widgets").find(".sectnDiv").addClass("animScroll");A.trendSpace.find(".trendingNowWidget").removeClass("dp-widget ceeWidget dp-fired");C.shiftSwitch=false},A.homeShiftTrendTimeout.val())}},success:function(T){C.ajaxHit=false;clearTimeout(O);try{if(T.chatEnabled!==undefined){var X=T.chatEnabled,W='<input type="hidden" value="'+X+'" id="chatFlag" />';if(!!T.chatDepartment){var P=JSON.parse(T.chatDepartment);var Q=P.group;var S=parseInt(P.timegap);var R=document.getElementById("chatDepartment");if(!R){R=document.createElement("input");R.id="chatDepartment";R.type="hidden";R.value=Q||"";document.body.appendChild(R)}else{R.value=Q||""}}if(D("#chatFlag").length>0){D("#chatFlag").val(X)}else{D("body").append(W)}if(!Snapdeal.Cookie.get("pdpChat")&&Snapdeal.chat){window.setTimeout(function(){Snapdeal.chat.init()},S*1000)}}}catch(U){}var V=T.widgets;if(V&&V.length>0){A.centerCardWidgets.attr("widgetLen",V.length)}if(D("#greyTempDiv").length>0&&Snapdeal.lazyLoad.isElementVisible(document.getElementById("greyTempDiv"))==true){I._fireScrollEvent()}else{if(A.sdFooter.length>0&&Snapdeal.lazyLoad.isElementVisible(document.getElementById("sdFooter"))==true){I._fireScrollEvent()}else{if((window.innerHeight||document.documentElement.clientHeight)+D(window).scrollTop()>=(A.centerCardWidgets.offset().top+A.centerCardWidgets.outerHeight())-500){I._fireScrollEvent()}}}if(V&&V.length>0){C.widgetLen=A.centerCardWidgets.attr("widgetLen");I._appendTemplateStructure(V,K,J)}else{C.ajaxHit=false;if(C.widgetLen){I._fireScrollEvent()}if(E.count>=C.widgetLen){A.greyTemplateDiv.addClass("hidden")}}if(V&&V[V.length-1].templateStyle==="products_c_widget_category"){A.isHybridCSF=true}},error:function(P){C.ajaxHit=false;if(C.widgetLen){I._fireScrollEvent()}if(E.count>=C.widgetLen){A.greyTemplateDiv.addClass("hidden")}}})},_fetchAjaxWidgets:function(J){E.configURL=J;E.cookieValues={uCookie:Snapdeal.Cookie.get("u")?Snapdeal.Cookie.get("u"):"",spinCookie:Snapdeal.Cookie.get("spin")?Snapdeal.Cookie.get("spin"):"",hpclCookie:Snapdeal.Cookie.get("hpcl")?Snapdeal.Cookie.get("hpcl"):""};I._getAjaxData()},_createDPInfoData:function(K){var J=[];K.find(".dp-track-prod-info").each(function(L,M){J.push(JSON.parse(M.value.replace(/\"/g,"").replace(/\'/g,'"')))});J=JSON.stringify(J).replace(/\"/g,"'");if(J.length>0){K.closest(".dp-widget").append('<input class="dp-info-collect" type="hidden" value="'+J+'">')}}};F={init:function(){return I._init.apply(this,arguments)},initialiseSlider:function(){return I._initialiseSlider.apply(this,arguments)},fetchAjaxWidgets:function(){return I._fetchAjaxWidgets.apply(this,arguments)},appendStructure:function(){return I._appendStructure.apply(this,arguments)},setOmniCeeOnload:function(){return I._setOmniCeeOnload.apply(this,arguments)}};return F})(window.jQuery,Snapdeal);Snapdeal.loadCXEWidgets.init();
var Snapdeal=Snapdeal||{};Snapdeal.WidgetLogger=(function(F,D){var C,B,A,E;E={loggingInterval:+F("#dpWidgetLoggingInterval").val()||3000,clearWait:+F("#dpWidgetClearWait").val()||60000,lastIndexLeft:0,lastIndexCenter:0,lastIndexRight:0,isIntervalActive:false,fireDpWidgetInterval:false};A={};B={_init:function(){if(F("#dpWidgetLoggingSwitch").val()!="true"){return }B._markDPWidgets();B._fireWidgetLog();F(window).on("newProductsLoaded",B._fireDPWidgetInterval)},_markDPWidgets:function(){F(".dp-click-widgets").off("click",".dp-widget .dp-widget-link").on("click",".dp-widget .dp-widget-link",function(){var V=F(this).closest(".dp-widget"),G="_sdDPPageId";var Z=F(this);var T=Z.parents(".product-tuple-listing"),S=Z.parents(".product-relative"),M=Z.parents(".bannerWrapper"),I=Z.parents(".homePageSection"),P=Z.parents(".catNavSection"),L=Z.parents(".platBanner"),X=Z.parents(".trendingCategories"),O=T.length?Z.parents(".product-tuple-listing").attr("data-index"):S.length?Z.parents(".product-relative").attr("index"):M.length?Z.parents(".bannerWrapper").attr("data-container"):X.length?Z.attr("index"):I.length?(parseInt(Z.parents(".dp-widget").attr("data-dppos"))):P.length?Z.attr("data-index"):L.length?Z.parents(".platBanner").attr("index"):"";if(window.sdLoggerSwitch&&SDLogger&&typeof SDLogger.log==="function"){var J={widgetId:V.attr("data-dpid"),href:F(this).attr("href")&&F(this).attr("href").indexOf("javascript:void(0)")===-1?F(this).attr("href").replace(/https?:\/\/(((?!sdlcdn).)*?\/)/g,"/"):"",widgetIdentifier:V.attr("data-dpidt"),position:O},H=[],R={},K;if(F(this).hasClass("dp-widget-viewall")){J.viewAllLink=true}var Y=F(this).parents(".homePageSection").find(".mainTempDiv");var Q=F(Y).attr("trackingids");if(!!Q&&Q!="null"){H=JSON.parse(Q)}if(H&&H.length){for(var W=0,a=H.length;W<a;W++){R[H[W].key]=H[W].value}J.aid=R.aid||"";J.jid=R.jid||"";J.testId=R.testId||"";J.ruleId=R.ruleId||"";J.throttleId=R.throttleId||""}if(!!J.widgetId&&J.widgetId.startsWith("ads_wdgt")){var U=JSON.parse(F(this).find(".dp-item-click-data").val().replace(/\"/g,"").replace(/\'/g,'"'));F.each(Object.keys(U),function(b,c){J[c]=U[c]})}K=F(this).closest(".ceeProd");var N=F(this).parents(".homePageSection").find(".dp-widget-tracks").html();if(N!="null"&&!!N){J.tmReftag=JSON.parse(N)[0].value}J.tmWidgetId=F(this).parents(".homePageSection").attr("widgetid");J.pogId=F(this).attr("pog");SDLogger.log("clickStream","widgetAction",J,true)}});F(".dp-widget:not(.dp-fired)").each(function(G,I){if(!F(I).hasClass("hidden")&&F(I).html().trim()){var H=F(I).attr("data-dpcol");if(H==="l"){E.lastIndexLeft+=1;F(I).attr("data-dppos",E.lastIndexLeft)}else{if(H==="c"){E.lastIndexCenter+=1;F(I).attr("data-dppos",E.lastIndexCenter)}else{if(H==="r"){E.lastIndexRight+=1;F(I).attr("data-dppos",E.lastIndexRight)}}}F(I).attr("data-dpid",F(I).attr("data-dpidt")+"_"+Snapdeal.Cookie.get("u")+"_"+Math.floor((Math.random()*9999)+1)+"_"+new Date().getTime())}});B._fireDPWidgetInterval()},_fireDPWidgetInterval:function(){if(E.isIntervalActive==true){clearInterval(E.fireDPWidgetInterval)}else{E.isIntervalActive==true}var G=0;E.fireDPWidgetInterval=setInterval(function(){G+=E.loggingInterval;if(G>E.clearWait){clearInterval(E.fireDPWidgetInterval);E.isIntervalActive=false}B._fireWidgetLog()},E.loggingInterval)},_isIntervalActive:function(){return E.isIntervalActive},_fireWidgetLog:function(){try{if(window.sdLoggerSwitch&&SDLogger&&typeof SDLogger.log==="function"){var J=[],G,H=0;F(".dp-widget:not(.dp-fired)").each(function(K,L){if(!F(L).hasClass("hidden")&&F(L).html().trim()){if(F(L).attr("data-dppos")==undefined){H=B._getWidgetPos(F(L));if(H){F(L).attr("data-dppos",H)}}if(F(L).attr("data-dpid")==undefined){F(L).attr("data-dpid",F(L).attr("data-dpidt")+"_"+Snapdeal.Cookie.get("u")+"_"+Math.floor((Math.random()*9999)+1)+"_"+new Date().getTime())}G=B._createWidgetData(F(L));if(G){J.push(G)}}});if(J.length){SDLogger.log("layoutRender","widgetImpression",J)}}}catch(I){return true}},_createWidgetData:function(O){try{var H={},U="",P=O.find(".dp-info-collect:eq(0)"),I="_sdDPPageId",Q,G=[],K=0;var S,R,N;if(O.hasClass("cat-nav-wrapper")){if(O.parents(".comp-left-wrapper").length){S="[";O.find("a").each(function(Z,Y){F(Y).addClass("dp-widget-link");R=F(Y).attr("href");N=F(Y).find("div:eq(0)").text().replace(/'/g,"").replace(/"/g,"");S+="{'k2': '"+R+"', 'k4': '"+N+"' }, "});S+=" ]";O.find(".dp-info-collect").val(S)}else{return false}}if(P.length){H.wIdt=O.attr("data-dpidt");H.diT=O.attr("data-dpdit");H.daT=O.attr("data-dpdat");H.cl=O.attr("data-dpcol");H.nm=O.attr("data-dpwlbl");H.pos=O.attr("data-dppos");H.id=O.attr("data-dpid");H.lytH=O.height();H.lytW=O.width();H.lytX=O.offset().left;H.lytY=O.offset().top;if(O.hasClass("ceeWidget")){var J=[],T={},M={};if(O.find(".mainTempDiv,.cee-wrapper").length>0){J=JSON.parse(O.find(".mainTempDiv,.cee-wrapper").attr("trackingids"))}for(var V=0,W=J.length;V<W;V++){T[J[V].key]=J[V].value}M.aid=T.aid||"";M.jid=T.jid||"";M.testId=T.testId||"";M.ruleId=T.ruleId||"";M.throttleId=T.throttleId||"";M.tmWidgetId=O.attr("widgetid")||"";H.cee=M}H.data={};G=JSON.parse(P.val().replace(/\"/g,"").replace(/\'/g,'"').replace(/,([ ]*\])$/,"$1").replace(/https?:\/\/(((?!sdlcdn).)*?\/)/g,"/"));if(H.diT==="cat_prm"){K=1;for(var X in G[0]){if(G[0].hasOwnProperty(X)){for(var V=0;V<G[0][X].length;V++){G[0][X][V]["k15"]=K;K++}}}}else{for(var V=0;V<G.length;V++){G[V]["k15"]=V+1}}if(H.wIdt==="cat_nav"){G.length=Math.min(G.length,99)}H.data.items=G;O.addClass("dp-fired");return H}return false}catch(L){return false}},_getWidgetPos:function(L){var I=L.attr("data-dpcol"),G=0,J=0;var K=0,H;G=B._getWidgetPosLeftSiblings(L,I);if(!G){L.parentsUntil("#content_wrapper").each(function(M,N){G=B._getWidgetPosLeftSiblings(F(N),I);if(G){return false}})}J=B._getWidgetPosRightSiblings(L,I);if(!J){L.parentsUntil("#content_wrapper").each(function(M,N){J=B._getWidgetPosRightSiblings(F(N),I);if(J){return false}})}if(G!==0||J!==0){K=B._getFinalPos(G,J)}else{K=1}return K||0},_getWidgetPosLeftSiblings:function(G,H){var M=0,L=0,N,J=G.prevAll(),O=[];if(J.length){for(var I=0;I<J.length;I++){O=F(J[I]).find('.dp-widget[data-dpcol="'+H+'"]');for(var K=O.length-1;K>=0;K--){if(F(O[K]).attr("data-dppos")){M=F(O[K]).attr("data-dppos");break}}if(M){break}if(!M&&F(J[I]).hasClass("dp-widget")&&F(J[I]).attr("data-dpcol")===H&&F(J[I]).attr("data-dppos")){M=F(J[I]).attr("data-dppos");break}}}return M},_getWidgetPosRightSiblings:function(G,H){var M=0,L=0,N,J=G.nextAll(),O=[];if(J.length){for(var I=0;I<J.length;I++){O=F(J[I]).find('.dp-widget[data-dpcol="'+H+'"]');for(var K=0;K<O.length;K++){if(F(O[K]).attr("data-dppos")){M=F(O[K]).attr("data-dppos");break}}if(M){break}if(!M&&F(J[I]).hasClass("dp-widget")&&F(J[I]).attr("data-dpcol")===H&&F(J[I]).attr("data-dppos")){M=F(J[I]).attr("data-dppos");break}}}return M},_getFinalPos:function(G,I){var J=0,H;if(I===0){J=+G+1}else{if(G===0){if(F(".topHookContainer.dp-widget.dp-fired").length&&F(".topHookContainer.dp-widget.dp-fired").attr("data-dppos")){J=F(".topHookContainer.dp-widget.dp-fired").attr("data-dppos")+".1"}else{J="0.1"}}else{if(I.indexOf(".")===-1){if(G.indexOf(".")===-1){J=G+".1"}else{H=G.split(".");J=H[0]+"."+(+H[H.length-1]+1)}}else{if(G.indexOf(".")===-1){J=G+".0.1"}else{J=G+".1"}}}}return J}};C={init:function(){return B._init.apply(this,arguments)},fireWidgetLog:function(){return B._fireWidgetLog.apply(this,arguments)},isIntervalActive:function(){return B._isIntervalActive.apply(this,arguments)}};return C})(window.jQuery,Snapdeal);
var Snapdeal=Snapdeal||{};Snapdeal.homePage=(function(G,E){var D,C,A,H,B,F;A={centerCardWidgets:G("#centerCardWidgets"),centerCardAfterLoadWidgets:G(".centerCardAfterLoadWidgets"),trendingData:G(".trendingData"),homePageWidgetCount:G("#homePageWidgetCount"),homePageVersion:G("#homePageVersion"),dealsBanner:G(".dealsBanner"),loginRegBtnHpage:G(".loginRegBtnHpage"),backToTop:G("#back-top"),homepageTopBannerFeature:G("#homepageTopBannerFeature"),homepageTopBannerImg:G("#homepageTopBannerImg"),homeShiftTrending:G("#homeShiftTrending")};F={count:0,counter:0,};C={_init:function(I){B=G.extend(true,{},H,I);C._bindEvents();C._loadDependencies();C._afterWindowLoad();C._setOmniCookie();C._setCeeOmniOnClick()},_bindEvents:function(){var I=((document.ontouchstart!==null)?"click":"touchstart");if(A.homeShiftTrending.val()!="true"&&A.homeShiftTrending.val()!=true){if(A.trendingData.find(".trendingProd").length>4){Snapdeal.loadCXEWidgets.initialiseSlider(true,A.trendingData,"trendingWidget")}if(A.trendingData.find(".trendingProd").length<=4){A.trendingData.addClass("noSliderTrending")}}if(I=="touchstart"){A.trendingData.find(".shortlist-products").show()}G(window).on("scroll",Snapdeal.utility.debounce(function(){G(this).scrollTop()>1000?A.backToTop.fadeIn():A.backToTop.fadeOut()},50));if((A.homepageTopBannerFeature.val()==true||A.homepageTopBannerFeature.val()=="true")&&A.homepageTopBannerImg.val()){G(".nav-bottom-barcode").addClass("navBottom")}G("#back-top a").click(function(){G("body,html").animate({scrollTop:0},800);return false});G(".system_message .close").on("click",function(){G(".system_message").fadeOut()});setTimeout(function(){G(".system_message").fadeOut()},5000)},_setOmniCookie:function(){G(".top-banner-area a").mousedown(function(){Snapdeal.Cookie.set("track",G(this).attr("hidOmnTrack").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))});A.centerCardAfterLoadWidgets.on("mousedown",".product-relative",function(){var L=parseInt(G(this).attr("index"))+1;var I=G(this).parents(".homePageSection");var K=parseInt(I.attr("data-index"))+1;var J=G(this).attr("pog");var N=I.attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var M=G(this).parents(".homePageSection").find(".widgetLabelHead").html().replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");Snapdeal.Cookie.set("track","HID="+M+"_"+N+"_"+K+"_"+L+"_"+J)});A.centerCardAfterLoadWidgets.on("click",".product-relative",function(){var L=parseInt(G(this).attr("index"))+1;var I=G(this).parents(".homePageSection");var K=parseInt(I.attr("data-index"))+1;var J=G(this).attr("pog");var N=I.attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var M=G(this).parents(".homePageSection").find(".widgetLabelHead").html().replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");Snapdeal.Cookie.set("track","HID="+M+"_"+N+"_"+K+"_"+L+"_"+J)});G(".shiftTrend").on("click",".product-relative",function(){if(G(this).parents(".trendingData").length==0){var L=parseInt(G(this).attr("index"))+1;var I=G(this).parents(".inPlaceTrend");var K=parseInt(I.attr("data-index"))+1;var J=G(this).attr("pog");var N=I.attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var M=G(this).parents(".inPlaceTrend").find(".widgetLabelHead").html().replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");Snapdeal.Cookie.set("track","HID="+M+"_"+N+"_"+K+"_"+L+"_"+J)}});A.centerCardAfterLoadWidgets.on("mousedown",".dealsBanner",function(){var M=G(this).find("a").attr("title");var I=G(this).parents(".homePageSection");var L=I.attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var J=parseInt(I.attr("data-index"))+1;var K=I.find(".widgetLabelHead").html().replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");Snapdeal.Cookie.set("track","HID="+K+"_"+L+J+M)});A.centerCardAfterLoadWidgets.on("click",".bannerLinker",function(){var M=G(this).attr("bannerName");var I=G(this).parents(".homePageSection");var L=I.attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var J=parseInt(I.attr("data-index"))+1;var K=I.find(".widgetLabelHead").html().replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");Snapdeal.Cookie.set("track","HID="+K+L+"_"+J+"_"+M)});A.centerCardAfterLoadWidgets.on("mousedown",".superdealLink",function(){var I=G(this).attr("pog");var J=parseInt(G(this).parents(".homePageSection").attr("data-index"))+1;var K=G(this).parents(".homePageSection").attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");Snapdeal.Cookie.set("track","HID="+K+"_"+J+"_"+I)});A.centerCardAfterLoadWidgets.on("mousedown",".trendingCategories",function(){var J=parseInt(G(this).parents(".homePageSection").attr("data-index"))+1;var K=G(this).parents(".homePageSection").attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var I=escape(G(this).find("a").attr("href"));Snapdeal.Cookie.set("track","HID="+K+"_"+J+"_"+I)});A.centerCardAfterLoadWidgets.on("mousedown",".goldBannr",function(){var K=parseInt(G(this).parents(".homePageSection").attr("data-index"))+1;var L=G(this).parents(".homePageSection").attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var J=G(this).find("a").attr("title").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var I=escape(G(this).find("a").attr("href"));Snapdeal.Cookie.set("track","HID="+L+"_"+K+"_"+J+"_"+I)});A.centerCardAfterLoadWidgets.on("mousedown",".multiPogList",function(){var I=parseInt(G(this).parents(".homePageSection").attr("data-index"))+1;var K=G(this).parents(".homePageSection").attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var J=escape(G(this).find("a").attr("href"));Snapdeal.Cookie.set("track","HID="+K+"_"+I+"_"+J)});A.centerCardAfterLoadWidgets.on("mousedown",".smallImgBan",function(){var K=parseInt(G(this).parents(".homePageSection").attr("data-index"))+1;var L=G(this).parents(".homePageSection").attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var J=G(this).find("a").attr("title").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var I=escape(G(this).find("a").attr("href"));Snapdeal.Cookie.set("track","HID="+L+"_"+K+"_"+J+"_"+I)});A.centerCardAfterLoadWidgets.on("mousedown",".loadMoreBtn",function(){var I=parseInt(G(this).parents(".homePageSection").attr("data-index"))+1;var J=G(this).parents(".homePageSection").attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");Snapdeal.Cookie.set("track","HID="+J+"_"+I+"_viewAll")});G(".hooksContents").mousedown(function(){var J=parseInt(G(this).attr("data-index"))+1;var I=G(this).find(".hookLink").text().replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");Snapdeal.Cookie.set("track","HID="+I+"_"+J)});A.centerCardAfterLoadWidgets.on("mousedown",".smallBanner2 .categoryImg",function(){var L=G(this).attr("title").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var J=escape(G(this).attr("href"));var I=G(this).parents(".homePageSection");var M=I.attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var K=parseInt(I.attr("data-index"))+1;Snapdeal.Cookie.set("track","HID="+M+"_"+K+"_HalfBanner_"+L+"_"+J,90)});A.centerCardAfterLoadWidgets.on("mousedown",".bigBanner  .categoryImg",function(){var L=G(this).attr("title").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var J=escape(G(this).attr("href"));var I=G(this).parents(".homePageSection");var M=I.attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var K=parseInt(I.attr("data-index"))+1;Snapdeal.Cookie.set("track","HID="+M+"_"+K+"_FullBanner_"+L+"_"+J,90)});A.centerCardAfterLoadWidgets.on("mousedown",".headerLinks a",function(){var J=G(this).parents(".widgetHeader").children(".headerTxt").children().children("h2").html().replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var K=G(this).parents(".categoryPosWrapper").index()+1;var I="HID=CategoryWidget_"+K+"_"+J+"_Header_"+G(this).html().replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");Snapdeal.Cookie.set("track",I,90)});G(".omnTrack").mousedown(function(){Snapdeal.Cookie.set("track",G(this).attr("omnValue").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""),90)});G(".trendingNowWidget").on("mousedown",".trendingProd",function(){Snapdeal.Cookie.set("track","HID=trendingNow_"+G(this).find("a").attr("hidomntrack").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"")+"_"+G(this).find("a").attr("pogid"))});A.centerCardAfterLoadWidgets.on("mousedown",".ribbonBanner",function(){var I=G(this).parents(".ribbonBannerCtr").attr("index");var K=G(this).parents(".homePageSection");var M=K.attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var L=parseInt(K.attr("data-index"))+1;var J=G(this).attr("bannerName").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");Snapdeal.Cookie.set("track","HID="+M+"_"+L+"_"+J+"_"+I)});A.centerCardAfterLoadWidgets.on("mousedown",".categoryBanner img",function(){var I=G(this).parents(".widgetCont").prev().children(".headerTxt").children().children("h2").html().replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");Snapdeal.Cookie.set("track","HID=CategoryWidget_"+I+"_Banner_"+G(this).parent("a").attr("title"),90)});A.centerCardAfterLoadWidgets.on("mousedown",".bannerText img",function(){var J=G(this).parents(".widgetCont").prev().children(".headerTxt").children().children("h2").html();var I="HID=CategoryWidget_"+J+"_BannerWithLinks_"+G(this).parent("a").attr("title").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");Snapdeal.Cookie.set("track",I,90)});A.centerCardAfterLoadWidgets.on("mousedown",".textLinks",function(){var L=escape(G(this).find("a").attr("href"));var I=G(this).find("a").html().replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var J=G(this).parents(".homePageSection");var M=J.attr("tempstyl").replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"");var K=parseInt(J.attr("data-index"))+1;Snapdeal.Cookie.set("track","HID="+M+"_"+K+"_TextWidget_"+I)});A.centerCardAfterLoadWidgets.on("mousedown",".widgetImageWrapper",function(){var J=G(this).parents(".widgetCont").prev().children(".headerTxt").children("h2").html();if(J==undefined||J==null){J=G(this).parents(".widgetCont").prev().children(".headerTxt").children().children("h2").html()}var I=G(this).find("a").attr("title");if(I==undefined||I==null){I=G(this).find("img").attr("alt");if(I==undefined||I==null){I=""}}Snapdeal.Cookie.set("track","HID=CategoryWidget_"+J.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"")+"_BannerWithOverlay_BackgroundBanner_"+I.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))});A.centerCardAfterLoadWidgets.on("mousedown",".textLinks",function(){var I=G(this).find("a").attr("href");window.open(I,"_self")});A.centerCardAfterLoadWidgets.on("mousedown",".nonGradientDiv",function(){if(G(this).parents(".pogBannerDiv").find(".superdealLink").length>0){var K=G(this).parents(".pogBannerDiv").find(".superdealLink").attr("href");window.open(K,"_self")}var I=G(this).parents(".homePageSection");var J=parseInt(I.attr("data-index"))+1;Snapdeal.Cookie.set("track","HID=Super_deal_of_the_day_timer_"+J)})},_setCeeOmniOnClick:function(){G(".centerCardAfterLoadWidgets").on("click",".js-omni",function(){var S=G(this);var J=parseInt(S.attr("index"));var K=parseInt(S.parents(".homePageSection").attr("data-index"))+1;var I=S.parents(".mainTempDiv").attr("trackingids");var M="";if(I){M=JSON.parse(I)}var P=S.parents(".homePageSection").find(".widgetLabelHead").html();var N="WEB:ceeWidget_"+P;if(M){for(var L=0;L<M.length;L++){N+=("_"+M[L].key+"="+M[L].value)}}var R=S.find(".dp-widget-tracks").html();try{R=JSON.parse(R)}catch(O){R=null}if(R){for(var Q=0;Q<R.length;Q++){N+=("_"+R[Q].key+"="+R[Q].value)}}N+=("_widgetId="+S.parents(".homePageSection").attr("widgetId"));N+="_"+parseInt(K)+"__"+J;Snapdeal.Cookie.set("ceeTrack",encodeURIComponent(N.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"")))})},_loadDependencies:function(){var I=0;G("#sdHeader").on("userLoggedOut",function(K,J){I++;if(I==2){A.loginRegBtnHpage.removeClass("hidden")}if(parseInt(Snapdeal.localStorage.getItem("timeStamp"))){Snapdeal.localStorage.setItem("timeStamp",0)}});G(document).on("iframeLoaded",function(){I++;if(I==2){A.loginRegBtnHpage.removeClass("hidden")}});Snapdeal.platinumBanners.init();G(document).ready(function(){var K="getHomeWidgets";if(!G("html").hasClass("ie8")){var J=setInterval(function(){if(document.getElementById("homeTemplates")&&document.getElementById("homeTemplates").innerHTML.length>0){Snapdeal.loadCXEWidgets.fetchAjaxWidgets(K);clearInterval(J)}},100)}else{Snapdeal.loadCXEWidgets.fetchAjaxWidgets(K)}Snapdeal.WidgetLogger.init()})},_afterWindowLoad:function(){}};D={init:function(){return C._init.apply(this,arguments)},};return D})(window.jQuery,Snapdeal);Snapdeal.homePage.init();
var Snapdeal=Snapdeal||{};Snapdeal.nextBestAction=(function(D,H){var G,I,A,E,C,B;var F=function(){var K="transform WebkitTransform MozTransform OTransform msTransform".split(" ");var L=document.createElement("div");for(var J=0;J<K.length;J++){if(L&&L.style[K[J]]!==undefined){return K[J]}}return false};E={clickeventtype:"click",index:0,isAnimating:false,visible:3,current:0,infinite:true,pinCode:"",animCounter:0,stackItemsAnimationDelay:0,cartQty:Snapdeal.Cookie.get("cartQty"),cookieValues:{},removeItem:false,nextWidgetLen:0};A={buttonAccept:D(".button--accept"),stackItem:D(".stack__item"),greenTimeLine:D(".greenTimeLine"),stackDiv:D("#stack_yuda"),loginActnWidget:D(".loginActnWidget"),pincodeActnWidget:D(".pincodeActnWidget"),orderActnWidget:D(".orderActnWidget"),itemsInCartActnWidget:D(".itemsInCartActnWidget"),nbaDonationWidget:D(".nbaDonationWidget"),logInBtnNba:D(".logInBtnNba"),nbaPincode:D(".nbaPincode"),pincodeNbaSubmit:D(".pincodeNbaSubmit"),errorPincode:D(".errorPincode"),pincodeSkipSubmit:D(".pincodeSkipSubmit"),nextBestActnWidget:D(".nextBestActnWidget"),modalContentBox:D("#cartModal").find(".modal-box-content"),cartProductInfoModal:D(".cartProductInfoModal"),genericWidgetBannerImg:D("#genericWidgetBannerImg")};C={cartWidgetCount:0,shortlistWidgetCount:0,shoppingListCount:0,platSupp:F()};I={_init:function(J){B=D.extend(true,{},C,J);if(C.platSupp==false){D("html").addClass("no-transform")}I._bindOnLoadEvents();I._afterWindowLoad()},_bindOnLoadEvents:function(){A.stackDiv.on("click",".logInBtnNba",function(J){J.preventDefault();window.showLogin("","NBA");return false})},_fetchMoreShoppingList:function(){var J,K=C.shoppingListCount;J=Snapdeal.getAjaxResourcesPath("/web/getHomePageNBA/V2/"+K+"?spin="+E.cookieValues.spinCookie+"&cartId="+E.cookieValues.cartCookie);D.ajax({url:J,type:"GET",dataType:"JSON",success:function(M){if(M){var L=doT.template(D("#SL").html());var N=JSON.parse(M[K].data).products;if(N&&N.length){A.stackDiv.find(".shoppingListWidget").html(D(L(JSON.parse(M[K].data))).html())}else{A.stackDiv.find(".shoppingListWidget").find(".heartLine").html("There are no items in your cart");A.stackDiv.find(".shoppingListWidget").remove();I._fetchMore()}}}})},_fetchMoreCartItems:function(){var J,K=C.cartWidgetCount;J=Snapdeal.getAjaxResourcesPath("/web/getHomePageNBA/V2/"+K+"?spin="+E.cookieValues.spinCookie+"&cartId="+E.cookieValues.cartCookie);D.ajax({url:J,type:"GET",dataType:"JSON",success:function(O){if(O){var N=doT.template(D("#IC").html());var M=JSON.parse(O[K].data);if(M&&M.length){A.stackDiv.find(".itemsInCartActnWidget").html(D(N(M)).html());var Q=M[0].cartCount;if(Q&&Q>=0){A.stackDiv.find(".cartCount").html(Q);Snapdeal.Cookie.set("cartQty",Q);D(".cartQuantity").html(Q)}var P=parseInt(Snapdeal.Cookie.get("cartQty"));if(Q>0){D(".cartQuantity").removeClass("hidden")}else{D(".cartQuantity").addClass("hidden")}}else{A.stackDiv.find(".itemsInCartActnWidget").find(".heartLine").html("There are no items in your cart");A.stackDiv.find(".itemsInCartActnWidget").remove();var L=parseInt(Snapdeal.Cookie.get("cartQty"));L=L-1;if(L&&L>=0){A.stackDiv.find(".cartCount").html(L);Snapdeal.Cookie.set("cartQty",L);D(".cartQuantity").html(L)}I._fetchMore()}}}})},_removeCartItem:function(K,N,O,J){if(Snapdeal.Cookie.get("spin")){var M=Snapdeal.Cookie.get("spin").split("-");M=M[0]}var L="/json/cart/operation/removeItemFromCart?catalogId="+O+"&vendorCode="+J+"&supc="+N+"&pincode="+M+"&bundleId=";D.ajax({url:L,type:"GET",success:function(Q){K.parent().fadeOut();var P=K.attr("index");I._fetchMoreCartItems()}})},_createBuyNowUrl:function(L,K){var M="",P=1;var N=L.attr("productType");N=(N===undefined||N===""?"":"&productType="+N);var J=L.attr("vendorCode"),O=L.attr("vendorScore");N=(L.attr("productType")=="OOPD"?"&productType=OOD":N);M+=absoluteHttpsPath;M+="/buyNow";M+="?catalogId="+L.attr("catalog");M+="&vendorCode="+J;M+="&vendorScore="+O||"";M+=N;M+="&supc="+L.attr("supc");M+="&ref="+K;P=D(".add-to-cart:eq(0)").is(":visible")?+D(".buy-quantity-count:eq(0)").text().trim():+D(".updated-quantity-number:eq(0)").text().trim();if(P&&!isNaN(P)){M+="&quantity="+P}return M},_next:function(M){A.stackDiv.find(".errorPincode").addClass("hidden");var T=D("html").hasClass("ie8")||D("html").hasClass("ie9")||(C.platSupp==false);if(E.isAnimating||(!E.infinite&&E.hasEnded)){return }E.isAnimating=true;var Q=A.stackDiv.find("li:visible");var L=A.stackDiv.find("li:visible").length;if(L==1){return }if(Q[E.current]){var S=Q[E.current]}else{var S=Q[Q.length-1]}D(S).removeClass("stack__item--current");if(M==="accept"){D(S).addClass("stack__item--accept")}var J=document.querySelector(".stack__item--accept");if(!T){J.addEventListener("animationend",function(V){if(L>3&&D(".noAtionWidget").length==0){S.style.opacity=0;S.style.pointerEvents="none";S.style.zIndex=-1;S.style.MozTransform=S.style.WebkitTransform=S.style.transform="translate3d(0px, 0px, -"+parseInt(E.visible*50)+"px)";S.style.transition="transform 0.5s ease-out";S.style.WebkitTransition="transform 0.5s ease-out";S.style.MozTransition="transform 0.5s ease-out"}else{if(L==2){D(".stack__item--accept").css("margin","14px 0px 0 12px");D(".stack__item--accept").css("z-index","2");D(".stack__item--accept").css("opacity","1");D(".stack__item--accept").css("transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -50, 1)");D(".stack__item--accept").css("-webkit-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -50, 1)");D(".stack__item--accept").css("-moz-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -50, 1)")}else{if(L==3){D(".stack__item--accept").css("margin","28px 0 0 24px");D(".stack__item--accept").css("z-index","1");D(".stack__item--accept").css("transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)");D(".stack__item--accept").css("-webkit-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)");D(".stack__item--accept").css("-moz-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)")}}}if(M==="accept"){D(S).removeClass("stack__item--accept")}Q[E.current].style.zIndex=E.visible+1;E.isAnimating=false;E.animCounter=0;if(!E.infinite&&E.current===0){E.hasEnded=true}},false)}var P=D("html").hasClass("ie8")||D("html").hasClass("ie9")||(C.platSupp==false);if(!P){for(var N=0;N<L;++N){if(N>=E.visible){break}if(!E.infinite){if(E.current+N>=L-1){break}var R=E.current+N+1}else{var R=E.current+N<L-1?E.current+N+1:N-(L-E.current-1)}var U=Q[R],O=function(W,V){if(W){E.animCounter=E.animCounter+1;W.style.pointerEvents="auto";W.style.opacity=1;W.style.zIndex=parseInt(E.visible-V);if(!P&&D(".noAtionWidget").length==0){if(E.animCounter==1){if(!(D(W).hasClass("stack__item--accept"))){W.style.MozTransform=W.style.WebkitTransform=W.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)";W.style.margin="0 0 0 0";W.style.zIndex=3}else{W.style.zIndex=4}}else{if(E.animCounter==2){if(!(D(W).hasClass("stack__item--accept"))){W.style.MozTransform=W.style.WebkitTransform=W.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -50, 1)";W.style.margin="14px 0px 0 12px";W.style.zIndex=2}else{W.style.zIndex=4}}else{if(E.animCounter==3){if(!(D(W).hasClass("stack__item--accept"))){W.style.MozTransform=W.style.WebkitTransform=W.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)";W.style.margin="28px 0 0 24px";W.style.zIndex=1}else{W.style.zIndex=4}}}}}}};setTimeout(function(W,V){return function(){O(W,V)}}(U,N),E.stackItemsAnimationDelay)}}var P=D("html").hasClass("ie8")||D("html").hasClass("ie9")||(C.platSupp==false);E.current=E.current<L-1?E.current+1:0;var K=Q[E.current];D(K).addClass("stack__item--current");if(P){D(".stack__item").css("opacity","0");D(".stack__item").css("z-index","-1");D(".stack__item--accept").css("opacity","0");E.isAnimating=false;D(".stack__item--current").css("z-index","3");D(".stack__item--current").css("opacity","1");D(S).removeClass("stack__item--accept");E.animCounter=0;if(!E.infinite&&E.current===0){E.hasEnded=true}}},_accept:function(){I._next("accept")},_fetchMore:function(){var M=D("html").hasClass("ie8")||D("html").hasClass("ie9")||(C.platSupp==false);if(!M){var K=D(".stack__item").filter(function(){return D(this).css("z-index")==2});K.css("transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)");K.css("-webkit-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)");K.css("-moz-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)");K.css("margin","0 0 0 0");K.css("z-index","4");if(K.next()){var J=K.next();J.css("transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -50, 1)");J.css("-webkit-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -50, 1)");J.css("-moz-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -50, 1)");J.css("margin","14px 0px 0 12px");J.css("z-index","2")}else{D(".stack__item").eq(0).css("transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -50, 1)");D(".stack__item").eq(0).css("-webkit-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -50, 1)");D(".stack__item").eq(0).css("-moz-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -50, 1)");D(".stack__item").eq(0).css("margin","14px 0px 0 12px");D(".stack__item").eq(0).css("z-index","2");D(".stack__item").eq(1).css("transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)");D(".stack__item").eq(1).css("-webkit-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)");D(".stack__item").eq(1).css("-moz-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)");D(".stack__item").eq(1).css("margin","28px 0 0 24px");D(".stack__item").eq(1).css("z-index","1");return }if(K.next().next()){var L=K.next().next();L.css("transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)");L.css("-webkit-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)");L.css("-moz-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)");L.css("margin","28px 0 0 24px");L.css("z-index","1")}else{D(".stack__item").eq(0).css("transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)");D(".stack__item").eq(0).css("-webkit-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)");D(".stack__item").eq(0).css("-moz-transform","matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -100, 1)");D(".stack__item").eq(0).css("margin","28px 0 0 24px");D(".stack__item").eq(0).css("z-index","1")}}else{D(".stack__item").eq(0).css("z-index","3");D(".stack__item").eq(0).css("opacity","1")}},_bindStack:function(){var K,L;A.stackDiv.addClass("perspective");K=A.stackDiv.find("li:visible").length;L=A.stackDiv.find("li:visible");for(var M=0;M<K;++M){var N=L[M];if(M<E.visible){N.style.opacity=1;N.style.pointerEvents="auto";N.style.zIndex=M===0?parseInt(E.visible+1):parseInt(E.visible-M);var O=D("html").hasClass("ie8")||D("html").hasClass("ie9")||(C.platSupp==false);if(!O){N.style.MozTransform=N.style.WebkitTransform=N.style.transform="translate3d(0px, 0px, "+parseInt(-1*50*M)+"px)";N.style.transition="transform 0.5s ease-out";N.style.WebkitTransition="transform 0.5s ease-out";N.style.MozTransition="transform 0.5s ease-out";if(M==0){N.style.margin="0 0 0 0"}else{if(M==1){N.style.margin="14px 0px 0 12px"}else{if(M==2){N.style.margin="28px 0 0 24px"}}}}}else{N.style.MozTransform=N.style.WebkitTransform=N.style.transform="translate3d(0,0,-"+parseInt(E.visible*50)+"px)";N.style.transition="transform 0.5s ease-out";N.style.WebkitTransition="transform 0.5s ease-out";N.style.MozTransition="transform 0.5s ease-out"}}var J=L[E.current];D(J).addClass("stack__item--current")},_bindNBAEvents:function(){var J,K;D(".loginWidgetImg , .pincodeImg").removeClass("lazyBg");I._bindStack();Snapdeal.loadCXEWidgets.setOmniCeeOnload();A.stackDiv.on("click",'.button--accept[data-stack = "stack_yuda"]',function(){var L=D(this).parents(".nextBestActlist").attr("action");Snapdeal.omni.fire("nextBestAction",{widgetName:L});I._accept(D(this))});A.stackDiv.on("click",".pincodeSkipSubmit",function(){A.errorPincode.addClass("hidden");if(Snapdeal.Cookie.get("spin")){A.stackDiv.find(".check-avail-pin-input-nba").addClass("hidden");A.stackDiv.find(".nbaPincode").removeClass("hidden");A.stackDiv.find(".pincodeNbaSubmit").text("Change Pincode").addClass("changePincode")}});A.stackDiv.on("keyup","#pincode-check-nba",function(L){if(L.keyCode==13){A.stackDiv.find(".pincodeNbaSubmit").trigger("click")}});A.stackDiv.on("click",".nbaPincode",function(){A.stackDiv.find(".pincodeNbaSubmit").trigger("click")});A.stackDiv.on("click",".pincodeNbaSubmit",function(){var M=A.stackDiv.find("#pincode-check-nba").val();getOmnitureScript({pincode:M,},"pdpZipCheckedNBA");A.stackDiv.find(".errorPincode").addClass("hidden");if(D(this).hasClass("changePincode")){A.stackDiv.find(".check-avail-pin-input-nba").removeClass("hidden");A.stackDiv.find(".nbaPincode").addClass("hidden");A.stackDiv.find("#pincode-check-nba").val("");A.stackDiv.find(".pincodeNbaSubmit").text("Submit").removeClass("changePincode");return }var L=A.stackDiv.find("#pincode-check-nba").val();if(L&&(parseInt(L).toString().length==6)&&L>0){A.stackDiv.find(".check-avail-pin-input-nba").addClass("hidden");A.stackDiv.find(".nbaPincode").removeClass("hidden").find(".pincodeNbaText").text(L);Snapdeal.Cookie.set("spin",L+"-homepage");A.stackDiv.find(".errorPincode").addClass("hidden");A.stackDiv.find(".pincodeNbaSubmit").text("Change Pincode").addClass("changePincode")}else{A.stackDiv.find(".errorPincode").removeClass("hidden")}});A.stackDiv.on("click",".viewAllCartBtn",function(){D(".headerBar").addClass("showCartZindx");Snapdeal.shoppingCart.showCart("header");getOmnitureScript({catalogId:D("#catalogId").val()},"openCart")});A.stackDiv.on("click",".shortView",function(){Snapdeal.Cookie.set("track","HID=nextBestAction_Shortlist_viewAll")});A.stackDiv.on("click",".superView",function(){Snapdeal.Cookie.set("track","HID=nextBestAction_SuperDeal_viewAll")});A.stackDiv.on("click",".nbaViewDet, .shortListName, .shortListImg",function(){if(D(this).parents(".nextBestActlist").hasClass("shortListActnWidget")){Snapdeal.Cookie.set("track","HID=nextBestAction_shortlist_NBA")}});A.stackDiv.on("click",".nbaViewDet, .shortListName, .shortListImg",function(){if(D(this).parents(".nextBestActlist").hasClass("shoppingListWidget")){Snapdeal.Cookie.set("track","HID=nextBestAction_shoppinglist_NBA")}});A.stackDiv.on("click",".nbaViewDet, .shortListName, .shortListImg",function(){if(D(this).parents(".nextBestActlist").hasClass("itemsInCartActnWidget")){Snapdeal.Cookie.set("track","HID=nextBestAction_cart_NBA")}});A.stackDiv.on("click",".genericBan",function(){var L=D(this).parent().attr("href");Snapdeal.Cookie.set("track","HID=nextBestAction_generic_widget_"+L)});A.stackDiv.on("click",".genericAnchr",function(){var L=D(this).attr("href");Snapdeal.Cookie.set("track","HID=nextBestAction_generic_widget_viewAll")});A.stackDiv.on("click",".superDealOfTheDayWidget",function(){Snapdeal.Cookie.set("track","HID=nextBestAction_superDeal")});A.stackDiv.on("click",".nbaDonationWidget",function(){Snapdeal.Cookie.set("track","HID=nextBestAction_donationWidget")});A.stackDiv.on("click",".donationSubmit",function(){Snapdeal.Cookie.set("track","HID=nextBestAction_donationSubmit")});A.stackDiv.on("click",".donationSubmit",function(){Snapdeal.Cookie.set("track","HID=nextBestAction_Donation")});A.nextBestActnWidget.on("click",".trackOrderButton",function(){window.open(absoluteHttpPath+"/myorders","_blank");Snapdeal.Cookie.set("track","HID=nextBestAction_myOrders_viewAll")});A.nextBestActnWidget.on("click",".cartDelete",function(){var M=D(this);var N=M.attr("supc");var O=M.attr("catalogId");var L=M.attr("vendorCode");I._removeCartItem(M,N,O,L)});A.nextBestActnWidget.on("click",".shortListDel",function(){var L=D(this);var M=L.attr("data-pog");getOmnitureScript({podId:M,action:"remove"},pageName+"Shortlists");I._removeShortListItem(L,M)});A.nextBestActnWidget.on("click",".removeShopping",function(){var M=D(this).parents(".shoppingDiv");var L=D(this).attr("data-pog");D.ajax({url:"/json/removePOGFromFMCGCollection?pogId="+L,type:"POST",dataType:"json",cache:"false",success:function(){M.fadeOut();I._fetchMoreShoppingList()}})});A.nextBestActnWidget.on("click",".nbaBuyLink",function(){var M=D(this);var P=M.attr("supc");var N=M.attr("catalogId");var O=M.attr("vendorCode");var L=I._createBuyNowUrl(M,"BuyButton-nbaBuy");Snapdeal.Cookie.set("track","HID=nextBestAction_nbaBuy");window.location.href=L})},_fetchMoreShortlistItems:function(){var J,K=C.shortlistWidgetCount;J=Snapdeal.getAjaxResourcesPath("/web/getHomePageNBA/V2/"+K+"?spin="+E.cookieValues.spinCookie+"&cartId="+E.cookieValues.cartCookie);D.ajax({url:J,type:"GET",dataType:"JSON",success:function(M){if(M.length>0){var L=doT.template(D("#SP").html());var N=JSON.parse(M[K].data);if(N){A.stackDiv.find(".shortListActnWidget").html(D(L(N)).html())}else{A.stackDiv.find(".shortListActnWidget").find(".heartLine").html("There are no items in your shortlist");A.stackDiv.find(".shortListActnWidget").remove();I._fetchMore()}}}})},_removeShortListItem:function(J,L){var K="/wishlist/remove?pog="+L;return D.ajax({url:K,type:"GET",dataType:"json",cache:"false",success:function(O){if(O.status=="FAIL"){}else{J.parent().fadeOut();var M=J.attr("index");var N=D(".shortLstDiv:visible").length;I._fetchMoreShortlistItems()}},})},_appendPin:function(){if(Snapdeal.Cookie.get("spin")&&Snapdeal.Cookie.get("spin")!="null"&&Snapdeal.Cookie.get("spin")!="undefined"){var J=Snapdeal.Cookie.get("spin").split("-");J=J[0];if(J&&(parseInt(J).toString().length==6)){A.stackDiv.find(".nbaPincode").removeClass("hidden").find(".pincodeNbaText").text(J);A.stackDiv.find(".check-avail-pin-input-nba").addClass("hidden");A.stackDiv.find(".pincodeNbaSubmit").text("Change Pincode").addClass("changePincode")}}},_computeNextBestActn:function(L,K){var Q,O,P;var N=D(".nextBestActnWidget").attr("widgetLength");O=L[K].widgetLabel;if(D("#"+O).html()){P=doT.template(D("#"+O).html());if(O=="OW"&&JSON.parse(L[K].data)&&JSON.parse(L[K].data).pendingOrderItems.length>0){A.stackDiv.append(P(JSON.parse(L[K].data)));A.stackDiv.find(".nbaDefaultWidget").remove()}else{if(O=="IC"&&JSON.parse(L[K].data)&&JSON.parse(L[K].data).length>0){var M=JSON.parse(L[K].data).length;A.stackDiv.append(P(JSON.parse(L[K].data)));if(M>1){A.stackDiv.find(".areField").html("are");A.stackDiv.find(".itemsVal").html("items")}else{A.stackDiv.find(".areField").html("is");A.stackDiv.find(".itemsVal").html("item")}var J=JSON.parse(L[K].data)[0].cartCount;if(J&&J>=0){A.stackDiv.find(".cartCount").html(J);Snapdeal.Cookie.set("cartQty",J);D(".cartQuantity").html(J)}if(J>0){D(".cartQuantity").removeClass("hidden")}else{D(".cartQuantity").addClass("hidden")}C.cartWidgetCount=K;A.stackDiv.find(".nbaDefaultWidget").remove()}else{if(O=="SP"&&JSON.parse(L[K].data)&&JSON.parse(L[K].data).shortListProducts.length>0){A.stackDiv.append(P(JSON.parse(L[K].data)));C.shortlistWidgetCount=K;A.stackDiv.find(".nbaDefaultWidget").remove()}else{if(O=="SDOD"&&JSON.parse(L[K].data)&&JSON.parse(L[K].data).widgetList){if(JSON.parse(L[K].data).widgetList[JSON.parse(L[K].data).widgetList.length-1]&&JSON.parse(L[K].data).widgetList[JSON.parse(L[K].data).widgetList.length-1].bannerType=="PRODUCT"){var R=JSON.parse(L[K].data).widgetList[JSON.parse(L[K].data).widgetList.length-1].soldout;if(R!=true){A.stackDiv.append(P(JSON.parse(L[K].data)))}}A.stackDiv.find(".nbaDefaultWidget").remove()}else{if(O=="LM"){if(!(JSON.parse(Snapdeal.localStorage.getItem("authData")))||!(JSON.parse(Snapdeal.localStorage.getItem("authData")).trackingEmail)){A.stackDiv.append(P(JSON.parse(L[K].data)))}A.stackDiv.find(".nbaDefaultWidget").remove()}else{if(O=="PINM"){A.stackDiv.append(P(JSON.parse(L[K].data)));I._appendPin();A.stackDiv.find(".nbaDefaultWidget").remove();D(".lazyBg").removeClass("lazyBg")}else{if(O=="DW"){A.stackDiv.append(P(JSON.parse(L[K].data)));A.stackDiv.find(".nbaDefaultWidget").remove()}else{if(O=="GW"&&JSON.parse(L[K].data)){A.stackDiv.append(P(JSON.parse(L[K].data)));A.stackDiv.find(".nbaDefaultWidget").remove()}else{if(O=="SL"&&JSON.parse(L[K].data)&&JSON.parse(L[K].data).products.length>0){A.stackDiv.append(P(JSON.parse(L[K].data)));C.shoppingListCount=K;A.stackDiv.find(".nbaDefaultWidget").remove()}}}}}}}}}if(A.stackDiv.find("li").length==1){D(".stack__item").css("opacity","1").css("z-index","4");D(".lazyBg").removeClass("lazyBg")}}K=K+1;if(K<N){E.index=K;I._nextBestHit()}else{I._bindNBAEvents()}},_nextBestHit:function(){var K,J;E.cookieValues={spinCookie:Snapdeal.Cookie.get("spin")?Snapdeal.Cookie.get("spin"):"",cartCookie:Snapdeal.Cookie.get("cartId")?Snapdeal.Cookie.get("cartId"):""};K=E.index;J=Snapdeal.getAjaxResourcesPath("/web/getHomePageNBA/V2/"+K+"?spin="+E.cookieValues.spinCookie+"&cartId="+E.cookieValues.cartCookie);D.ajax({url:J,type:"GET",dataType:"JSON",success:function(L){if(L.length>0){D(".nextBestActnWidget").attr("widgetLength",L.length);E.nextWidgetLen=D(".nextBestActnWidget").attr("widgetLength");I._computeNextBestActn(L,K)}}})},_afterWindowLoad:function(){D(window).load(function(){if(!D("html").hasClass("ie8")){var J=setInterval(function(){if(document.getElementById("homeTemplates").innerHTML.length>0){I._nextBestHit();clearInterval(J)}},100)}else{I._nextBestHit()}})}};G={init:function(){return I._init.apply(this,arguments)},};return G})(window.jQuery,Snapdeal);Snapdeal.nextBestAction.init();
var Snapdeal=Snapdeal||{};Snapdeal.homePageAdtechIntegration=(function(F,D){var C,B,A,E;A={centerCardWidgets:F("#centerCardWidgets"),homePageWidgetCount:F("#homePageWidgetCount")};E={showTempCnt:parseInt(A.homePageWidgetCount.val())-1};B={_init:function(){B._fixedPositionGoldBanner()},_goldBanner1:function(){var V=parseInt(A.centerCardWidgets.attr("adTechInstance"));if(F("#adtechHomePageGoldBanner1Switch").val()=="true"&&F("#adtechGlobalSwitchWeb").val()=="true"){var I=Snapdeal.Cookie.get("u");var L=F("#homePagePagetypeGoldBanner1Web").val();var Q=F("#homePageResponseTypeGoldBanner1web").val();var S=F("#homePageResponseTimeGoldBanner1Web").val();var U=F("#homePageTemplateIdGoldBanner1Web").val();var T=F("#homePageAdSpaceIdGoldBanner1Web").val()+"-"+V;var O=F("#homePagePubIdGoldBanner1Web").val();var W=F("#homePageSiteIdGoldBanner1Web").val();var M="html";var H=F("#homePageWebIpGoldBanner1Web").val();var N=V-1;var P=B._getCookie("spin");var X=B._getCookie("zone");var G="";try{G=JSON.parse(Snapdeal.localStorage.getItem("authData")).mobile}catch(K){}var R=(P!=null)?P.split("-")[0]:"";var J=H+"/pub/getContent?pubId="+O+"&rs="+M+"&templateId="+U+"&adspaceId="+T+"&siteId="+W+"&response_type="+Q+"&pagetype="+L+"&sdId="+I+"&pincode="+R+"&zone="+X+"&phn="+G;F.ajax({type:"GET",dataType:"html",contentType:"application/x-www-form-urlencoded; charset=UTF-8",url:J,cache:true,timeout:S,success:function(Y){if(Y){Snapdeal.loadCXEWidgets.appendStructure("ribbon",Y)}else{F(".adtechGoldBanner1").eq(N).closest(".homePageSection").addClass("hidden")}},error:function(a,Y,Z){F(".adtechGoldBanner1").eq(N).closest(".homePageSection").addClass("hidden")}});F("#adtechGoldBanner1").on("click",function(){Snapdeal.Cookie.set("track","HID=RibbonBanner_adtech_"+(L.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))+"_"+(Q.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))+"_"+T)})}},_fixedPositionGoldBanner:function(){var Y=parseInt(A.centerCardWidgets.attr("adTechInstance"));if(F("#adtechHomePageGoldBanner1Switch").val()=="true"&&F("#adtechGlobalSwitchWeb").val()=="true"){var J=Snapdeal.Cookie.get("u");if(!!(email=Snapdeal.Cookie.get("eid"))){email=email.substring(1,email.length-1)}else{email=""}var M=F("#homePagePagetypeGoldBanner1Web").val();var S=F("#homePageResponseTypeGoldBanner1web").val();var V=F("#homePageResponseTimeGoldBanner1Web").val();var X=F("#homePageTemplateIdGoldBanner1Web").val();var W=F("#homePageAdSpaceIdGoldBanner1Web").val()+"-"+Y+"-"+Y;var Q=F("#homePagePubIdGoldBanner1Web").val();var Z=F("#homePageSiteIdGoldBanner1Web").val();var H=F("#adspaceIdParameter").val();var O=F("#responseTypeParameter").val();var N="html";var I=F("#homePageWebIpGoldBanner1Web").val();var P=Y-1;var R=B._getCookie("spin");var c=B._getCookie("zone");var G="";try{G=JSON.parse(Snapdeal.localStorage.getItem("authData")).mobile}catch(L){}var T=(R!=null)?R.split("-")[0]:"";var K=I+"?pubId="+Q+"&rs="+N+"&templateId="+X+"&adspaceId="+W+"&siteId="+Z+"&response_type="+S+"&pagetype="+M+"&sdId="+J+"&eId="+email+"&pincode="+T+"&zone="+c+"&phn="+G;var a=new XMLHttpRequest();if(window.XMLHttpRequest){try{a=new XMLHttpRequest()}catch(b){a=new window.ActiveXObject("Microsoft.XMLHTTP")}}a.onreadystatechange=function(){if(a.readyState==4&&a.status==200){clearTimeout(U);var d=setInterval(function(){if("complete"===document.readyState||"interactive"===document.readyState){clearInterval(d);var e=setInterval(function(){if((F&&F.fn)){clearInterval(e);var f=F(a.responseText);if(f){Snapdeal.loadCXEWidgets.appendStructure("ribbon",f);F(".adtechGoldBanner1").removeClass("hidden").append(f)}else{F(".adtechGoldBanner1").eq(P).closest(".homePageSection").addClass("hidden")}}},50)}},100)}else{F(".adtechGoldBanner1").eq(P).closest(".homePageSection").addClass("hidden")}};a.open("GET",K,true);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send();var U=setTimeout(function(){a.abort()},V);F(".centerCardAfterLoadWidgets").on("mousedown",".adtechGoldBanner1",function(){Snapdeal.Cookie.set("track","HID=RibbonBanner_adtech_"+(M.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))+"_"+(S.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))+"_"+W)})}},_platinumBanner:function(){if(F("#adtechHomePagePlatinumbanner5thSwitch").val()=="true"&&F("#adtechGlobalSwitchWeb").val()=="true"){var J=Snapdeal.Cookie.get("u");if(!!(email=Snapdeal.Cookie.get("eid"))){email=email.substring(1,email.length-1)}else{email=""}var M=F("#homePagePagetypeplatinum5thWeb").val();var R=F("#homePageResponseTypeplatinum5thweb").val();var T=F("#homePageResponseTimeplatinum5thWeb").val();var V=F("#homePageTemplateIdplatinum5thWeb").val();var U=F("#homePageAdSpaceIdplatinum5thWeb").val();var P=F("#homePagePubIdplatinum5thWeb").val();var W=F("#homePageSiteIdplatinum5thWeb").val();var H=F("#adspaceIdParameter").val();var O=F("#responseTypeParameter").val();var N="html";var I=F("#homePageWebIpplatinum5thWeb").val();var Q=B._getCookie("spin");var X=B._getCookie("zone");var G="";try{G=JSON.parse(Snapdeal.localStorage.getItem("authData")).mobile}catch(L){}var S=(Q!=null)?Q.split("-")[0]:"";var K=I+"?pubId="+P+"&rs="+N+"&templateId="+V+"&"+H+"="+U+"&siteId="+W+"&"+O+"="+R+"&pagetype="+M+"&sdId="+J+"&eId="+email+"&pincode="+S+"&zone="+X+"&phn="+G;F.ajax({type:"GET",dataType:"html",contentType:"application/x-www-form-urlencoded; charset=UTF-8",url:K,cache:true,timeout:T,success:function(Y){if(Y){F(".main-banner-wrapper").find("#platinumBanner-adtech").append(Y).removeClass("hidden");F(".main-banner-wrapper").find("#platinumBanner-adtech-fallback").remove()}else{F(".main-banner-wrapper").find("#platinumBanner-adtech").remove()}},error:function(a,Y,Z){F(".main-banner-wrapper").find("#platinumBanner-adtech").remove()}});F("#platinumBanner-adtech").on("click",function(){Snapdeal.Cookie.set("track","HID=TopBanner_adtech_"+(M.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))+"_"+(R.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))+"_"+U)})}},_configurablePositionGoldBanner:function(){if(F("#adtechHomePageGoldBanner2Switch").val()=="true"&&F("#adtechGlobalSwitchWeb").val()=="true"){var c;var K=Snapdeal.Cookie.get("u");if(!!(email=Snapdeal.Cookie.get("eid"))){email=email.substring(1,email.length-1)}else{email=""}var S=F("#homePageRowGoldBanner2Web").val();var O=F("#homePagePagetypeGoldBanner2Web").val();var V=F("#homePageResponseTypeGoldBanner2web").val();var Y=F("#homePageResponseTimeGoldBanner2Web").val();var b=F("#homePageTemplateIdGoldBanner2Web").val();var Z=F("#homePageAdSpaceIdGoldBanner2Web").val();var L=Z.split("-");var H=L[4];L[4]=S;c=L[4];Z=L;adSpaceIdNew=L.join("-");var T=F("#homePagePubIdGoldBanner2Web").val();var d=F("#homePageSiteIdGoldBanner2Web").val();var I=F("#adspaceIdParameter").val();var Q=F("#responseTypeParameter").val();var P="html";var J=F("#homePageWebIpGoldBanner2Web").val();var I=F("#adspaceIdParameter").val();var Q=F("#responseTypeParameter").val();var U=B._getCookie("spin");var g=B._getCookie("zone");var G="";try{G=JSON.parse(Snapdeal.localStorage.getItem("authData")).mobile}catch(N){}var W=(U!=null)?U.split("-")[0]:"";var M=J+"?pubId="+T+"&rs="+P+"&templateId="+b+"&"+I+"="+adSpaceIdNew+"&siteId="+d+"&"+Q+"="+V+"&pagetype="+O+"&sdId="+K+"&eId="+email+"&pincode="+W+"&zone="+g+"&phn="+G;var e=new XMLHttpRequest();if(window.XMLHttpRequest){try{e=new XMLHttpRequest()}catch(f){e=new window.ActiveXObject("Microsoft.XMLHTTP")}}e.onreadystatechange=function(){if(e.readyState==4&&e.status==200){clearTimeout(X);var h=setInterval(function(){if("complete"===document.readyState||"interactive"===document.readyState){clearInterval(h);var i=setInterval(function(){if((F&&F.fn)){clearInterval(i);var k=F(e.responseText);if(k){var j=F("#adtechGoldBanner2");j.removeClass("hidden");var n='<img src="http://test.snapdeal.biz/test-pixel" width="1" height="1"  class="hidden">';var m=j.append(k).append(n);var l='.adtechBannerHomePage[data-row="'+S+'"]';if(S=="2"){l=F(l).find('.adClass[name="smallBanner"]:first')}m.insertAfter(l)}else{j.addClass("hidden")}}},50)}},100)}else{F(".adtechGoldBanner2").addClass("hidden")}};e.open("GET",M,true);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");e.send();if(F("#adTechBannerRequestSendFlag").val()==="true"){var a='<img src="http://test.snapdeal.biz/test-pixel" width="1" height="1"  class="hidden">';var R=F("#adtechGoldBanner2").append(a)}var X=setTimeout(function(){e.abort()},Y);F("#adtechGoldBanner2").on("click",function(){Snapdeal.Cookie.set("track","HID=RibbonBanner_adtech_"+(O.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))+"_"+(V.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,""))+"_"+Z)});if(F(".exclusives-homepage").length>0){F("#ribbonBannerContainer1").insertBefore(".exclusives-homepage")}}},_getCookie:function(G){if(document.cookie.length>0){begin=document.cookie.indexOf(" "+G+"=");if(begin!=-1){begin+=G.length+2;end=document.cookie.indexOf(";",begin);if(end==-1){end=document.cookie.length}return unescape(document.cookie.substring(begin,end))}else{begin=document.cookie.indexOf(G+"=");if(begin!=-1){begin+=G.length+1;end=document.cookie.indexOf(";",begin);if(end==-1){end=document.cookie.length}return unescape(document.cookie.substring(begin,end))}}}return null}};C={init:function(){return B._init.apply(this,arguments)}};return C})(window.jQuery,Snapdeal);
var Snapdeal=Snapdeal||{};Snapdeal.fmcgProductTuple=(function(G,F){var E,D,B,H,C;H={succesMsg:"",errorMsg:"Something went wrong, please try again.",updateErrorMsg:"Sorry! Item quantity could not be updated. Please try again later or continue without updating.",addCartErrorMsg:"Sorry, unable to add item to your cart at this moment. Please try again later.",removeCartErrorMsg:"Sorry! Item could not be removed. Please try again later or continue without removing.",showCartErrorMsg:"Sorry, unable to show your cart at this moment. Please try again later.",quantityErrorMsg:"Sorry! You can not add more items to the cart. Please remove some items from cart to continue.",updateSuccessMsg:"Updated successfully",removeSuccessMsg:"Product removed successfully",errorClassName:"error-msg",toastDisplayTimeInMiliSec:2000,maxFMCGQuantity:G("#maxFMCGQuantity").val()?+G("#maxFMCGQuantity").val().trim():0};var A=(pageName=="csfDarwin");B={productRow:A?G(".fmcg-container"):G(".centerCard-section"),stackDiv:G("#stack_yuda")};D={_init:function(I){if(G("#isFMCGAvailable").val()==="true"){C=G.extend(true,{},H,I);D._bindEvents()}},_bindEvents:function(){B.productRow.on("click",".pt-quantity-control",function(I){I.preventDefault();I.stopPropagation();D._handleQuantityControlClick(G(this))});B.productRow.on("click",".pt-add-cart-btn",function(I){I.preventDefault();I.stopPropagation();D._handleAddCartClick(G(this))});B.stackDiv.on("click",".pt-add-cart-btn",function(I){I.preventDefault();I.stopPropagation();D._handleAddCartClick(G(this))});B.productRow.on("click",".pt-cart-plus, .pt-cart-minus",function(I){I.preventDefault();I.stopPropagation();D._handleUpdateClick(G(this))});G(window).load(function(){});G(window).on("newProductsLoaded",function(){D._updateFMCGQuantity()});G(".cartToastMsg").on("click",".openCartModal",function(){D._opentCartFromContinue()});G(document).on("cartItemUpdation",function(I,J){D._cartOperationsHandler(J)});G(document).on("addItemToCart",function(I,J){D._addItemHandler(J)});G(document).on("updateQuantityCartItem",function(I,J){D._updateItemHandler(J)});G(document).on("removeCartItem",function(I,J){D._removeItemHandler(J)})},_handleQuantityControlClick:function(N){if(N.hasClass("disable-count-arrow")){return }var K=N.closest(".category-pt-cart-options"),J=K.find(".pt-quantity-value"),M=J.text().trim(),I=0,L=H.maxFMCGQuantity,O=1;if(N.hasClass("ptQuantityControlUp")){I=+M+1}else{if(N.hasClass("ptQuantityControlDown")){I=+M-1}}if(I===O){J.text(O);J.attr("title",O);K.find(".ptQuantityControlDown").addClass("disable-count-arrow");K.find(".ptQuantityControlUp").removeClass("disable-count-arrow")}else{if(L>0&&I===L){K.find(".ptQuantityControlUp").addClass("disable-count-arrow")}else{K.find(".ptQuantityControlUp").removeClass("disable-count-arrow")}J.text(I);J.attr("title",I);K.find(".ptQuantityControlDown").removeClass("disable-count-arrow")}},_handleAddCartClick:function(N){var M=N.closest(".category-pt-cart-options"),O=N.closest(".product-relative"),K=O.attr("data-defaultCatalogueIdForFMCG"),L=O.attr("data-vendorCode"),J=O.attr("data-defaultSupcForFMCG"),Q=M.find(".pt-quantity-value").text().trim(),I=G(O.find(".product-tuple-image .product-image")[0]).attr("src"),P=O.find(".product-tuple-description .product-title").text();if(N.hasClass("nbaAddToCartLink")){Q=1}Snapdeal.shoppingCart.getCartJsonData("addItemToCart",{catalogId:K,vendorCode:L,supc:J,qty:Q,pogid:O.attr("id")},true,{},D._omnitureAddToCart(O))},_handleUpdateClick:function(Q){if(Q.hasClass("disable-count-arrow")){return }var O=Q.closest(".category-pt-cart-options"),R=Q.closest(".product-relative"),M=R.attr("data-defaultCatalogueIdForFMCG"),N=R.attr("data-vendorCode"),J=R.attr("data-defaultSupcForFMCG"),T=O.find(".pt-update-number").text().trim(),L=0,P=Snapdeal.Cookie.get("cartId"),I=G(R.find(".product-tuple-image .product-image")[0]).attr("src"),S=R.find(".product-tuple-description .product-title").text(),K={};if(Q.hasClass("pt-cart-plus")){L=+T+1}else{if(Q.hasClass("pt-cart-minus")){L=+T-1}}K.catalogId=M;K.pageName=G("body").attr("data-pagename")||"";if(L===0){Snapdeal.shoppingCart.getCartJsonData("removeCartItem",{catalogId:M,vendorCode:N,supc:J,qty:L,pogid:R.attr("id")},true,{},K)}else{if(L>0){K.qty=L;Snapdeal.shoppingCart.getCartJsonData("updateQuantityCartItem",{catalogId:M,vendorCode:N,supc:J,qty:L,pogid:R.attr("id")},true,{},K)}}},_addItemHandler:function(I){D._handleAjaxResponse(I)},_updateItemHandler:function(I){D._handleAjaxResponse(I)},_removeItemHandler:function(I){D._removeAddedProduct(I.obj);D._getFMCGItems(I.data)},_handleAjaxResponse:function(J){var L=D._getFMCGItems(J),K=L.length,I=0;for(I=0;I<K;I++){D._updateFMCGTuple(L[I])}},_getFMCGItems:function(M){if(M&&M.data!=null){var O=M.data.cartSRO,N=O.baskets,I,P,Q,J=[],K,R,L=0;N=N?Snapdeal.Utils.fixArray(N):[],P=N.length;L=O.cartItem?Snapdeal.Utils.fixArray(O.cartItem).length:0;if(P){for(I=0;I<P;I++){if(N[I].basketType=="FMCG"){Q=N[I];break}}}if(Q){J=Q.basketItems?Snapdeal.Utils.fixArray(Q.basketItems):[],R=J.length,L=L+R}D._updateCartCount(L);return J}},_updateFMCGTuple:function(J){var L=J.POGId,I=J.vendorCode,K=J.supc,N=J.quantity,O=J.maxUnitsAllowed,M=B.productRow.find(".product-relative[id="+L+"]");if(M.attr("data-defaultsupcforfmcg")==K&&M.attr("data-vendorcode")==I){if(N){M.find(".pt-update-number").text(N);M.find(".pt-cart-add-options").addClass("display-none");M.find(".pt-cart-update-options").removeClass("display-none");M.find(".pt-added-bar").removeClass("display-none").find(".pt-added-text").text(N+" ADDED");if(N===O){M.find(".pt-cart-plus").addClass("disable-count-arrow")}else{M.find(".pt-cart-plus").removeClass("disable-count-arrow")}}else{M.find(".pt-cart-add-options").removeClass("display-none").find(".ptQuantityControlDown").addClass("disable-count-arrow").end().find(".ptQuantityControlUp").removeClass("disable-count-arrow");M.find(".pt-cart-update-options").addClass("display-none");M.find(".pt-quantity-value").text("1");M.find(".pt-added-bar").addClass("display-none")}}},_removeAddedProduct:function(I){if(I==null||(I.isRemoved!=null&&I.isRemoved==false)){return }var J=B.productRow.find(".product-relative[data-defaultsupcforfmcg = "+I.supc+"]");J.find(".pt-quantity-value").text(1);J.find(".pt-cart-add-options").removeClass("display-none").find(".ptQuantityControlDown").addClass("disable-count-arrow").end().find(".ptQuantityControlUp").removeClass("disable-count-arrow");J.find(".pt-cart-update-options").addClass("display-none");J.find(".pt-added-bar").addClass("display-none")},_updateCartCount:function(I){G("#cartModal").trigger("updateCartQty",{cartQty:I});Snapdeal.Cookie.set("cartQty",I,1000)},_updateTupleControls:function(M,N,L){var K=Snapdeal.Utils.fixArray(M.cartSRO.cartItem),J=K.length;for(var I=0;I<J;I++){if(K[I].supc==L){N.find(".pt-update-number").text(K[I].quantity);if(K[I].quantity===K[I].maxUnitsAllowed){N.find(".pt-cart-plus").addClass("disable-count-arrow")}else{N.find(".pt-cart-plus").removeClass("disable-count-arrow")}}}},_toastMsgString:function(K){var J="";try{J='<div class="msgToast"><span >'+K+"</span></div>"}catch(I){J=H.errorMsg}return J},_updateFMCGQuantity:function(K){var I=[],J="";G(".cart-enabled-tuple").each(function(L,M){J=G(M);I.push({vendorCode:J.attr("data-vendorCode"),supc:J.attr("data-defaultSupcForFMCG"),fmcgQuantity:0,pogId:J.attr("id")})});G.ajax({method:"POST",url:"/acors/json/getFMCGDetails",data:JSON.stringify({fmcgDetailsDTOList:I}),contentType:"application/json",success:function(P){if(P!=null&&P.fmcgDetailsDTOList!=null){var N="",O=0,M="",Q=P.fmcgDetailsDTOList.length,R=0;for(var L=0;L<Q;L++){N=P.fmcgDetailsDTOList[L];O=N.fmcgQuantity;M=B.productRow.find(".product-relative[id="+N.pogId+"]");if(O==0){M.find(".pt-cart-add-options").removeClass("display-none").find(".ptQuantityControlDown").addClass("disable-count-arrow").end().find(".ptQuantityControlUp").removeClass("disable-count-arrow");M.find(".pt-cart-update-options").addClass("display-none");M.find(".pt-quantity-value").text("1");M.find(".pt-added-bar").addClass("display-none")}else{M.find(".pt-cart-add-options").addClass("display-none");M.find(".pt-cart-update-options").removeClass("display-none");M.find(".pt-update-number").text(O);M.find(".pt-added-bar").removeClass("display-none").find(".pt-added-text").text(O+" ADDED")}M.removeClass("cart-enabled-tuple")}if(K){R=P.cartQuantity>0?P.cartQuantity:0;D._updateCartCount(R)}}else{if(K){D._updateCartCount(Snapdeal.Cookie.get("cartQty")||0)}}}})},_opentCartFromContinue:function(){Snapdeal.shoppingCart.showCart("",true)},_cartOperationsHandler:function(K){var I=K.url,J=K.supc,L=K.qty,M=K.maxUnits;switch(I){case"updateListQuanity":D._updateListProductQuantity(J,L,M);break;case"removeListQuanity":D._removeListProductQuantity(J);break;default:break}},_updateListProductQuantity:function(I,J,K){B.productRow.find(".product-relative[data-defaultsupcforfmcg = "+I+"] .pt-update-number").text(J);B.productRow.find(".product-relative[data-defaultsupcforfmcg = "+I+"]").find(".pt-added-text").text(J+" ADDED");if(J==K){B.productRow.find(".product-relative[data-defaultsupcforfmcg = "+I+"] .pt-cart-plus").addClass("disable-count-arrow")}else{B.productRow.find(".product-relative[data-defaultsupcforfmcg = "+I+"] .pt-cart-plus").removeClass("disable-count-arrow")}},_removeListProductQuantity:function(I){var J=B.productRow.find(".product-relative[data-defaultsupcforfmcg = "+I+"]");J.find(".pt-added-bar").addClass("display-none");J.find(".pt-quantity-value").text(1);J.find(".pt-cart-add-options").removeClass("display-none").find(".ptQuantityControlDown").addClass("disable-count-arrow").end().find(".ptQuantityControlUp").removeClass("disable-count-arrow");J.find(".pt-cart-update-options").addClass("display-none");J.find(".pt-added-bar").addClass("display-none")},_omnitureAddToCart:function(J){var I=J.find(".cashBackColor").text().toLowerCase().replace("rs.","").trim();return{quantity:J.find(".pt-quantity-value").text(),basketId:"true",pageName:G("body").attr("data-pagename"),catalogId:J.attr("data-defaultcatalogueidforfmcg"),categoryUrl:window.location.href,prebook:J.attr("data-isPrebook"),live:J.attr("data-isLive"),vendorCode:J.attr("data-vendorcode"),vendorScore:J.attr("vendorscore")||"",buyBtnOrder:"addToCartFMCG",shippingCharges:J.attr("shippingcharges")||"",cashBackValue:I||0,}}};E={init:function(){return D._init.apply(this,arguments)}};return E})(window.jQuery,Snapdeal);Snapdeal.fmcgProductTuple.init();
var Snapdeal=Snapdeal||{};Snapdeal.mandatoryRating=(function(F,D){var C,A,E,B;A={mandatoryWidgetHomepage:F("#mandatoryWidgetHomepage"),mandatoryRatingEnable:F("#mandatoryRatingEnable"),rtoWidgetHomepage:F("#rtoWidgetHomepage"),filledIndex:-1};E={suborderCode:"",productId:"",catalogId:"",emailId:""};B={_init:function(){B._bindEvents();if(A.mandatoryRatingEnable.val()=="true"){B._windowLoad()}},_bindEvents:function(){F(".common-modal").on("click",".ratings-modal .single-star",function(G){Snapdeal.commonModal.showLoader();B._changeRatings(F(this));Snapdeal.commonModal.hideLoader()});F(".rtoTextarea").on("focus",function(){F("#rtoErrorTextarea").addClass("hidden");if(F(this).val()=="Write a reason"){F(this).val("");F(this).addClass("colorTextarea")}});F(".common-modal-container").on("click",".radioButtonCont",function(){F(".rtoError").addClass("hidden");F(".common-modal-container").find(".radioButtonCont").removeClass("radioSelected");F(this).addClass("radioSelected");F("#selectedMsg").val(F(this).next(".radioButtonMsg").text());if(F(this).next(".radioButtonMsg").text().trim()=="Other Reasons"){F(".rtoTextarea").addClass("displayBlock")}else{F(".rtoTextarea").removeClass("displayBlock")}});F(".common-modal").on("mouseover",".ratings-modal .single-star",function(I){var H=["Disappointing","Bad","Average","Good","Excellent"];var G=F(this).index()+1;F(".rate-text-modal").addClass("hidden");F(".rate-text-modal-hover").html(H[G-1]).removeClass("hidden");F(".ratings-modal .single-star").removeClass("filled");F(".ratings-modal .single-star:lt("+F(this).index()+")").addClass("hovered");F(this).addClass("hovered");B._rateStarBackStyling()});F(".common-modal").on("mouseleave",".ratings-modal .single-star",function(H){var G=A.filledIndex+1;F(".rate-text-modal-hover").html("").addClass("hidden");F(".rate-text-modal").removeClass("hidden");F(".ratings-modal .single-star:lt("+F(this).index()+")").removeClass("hovered");F(this).removeClass("hovered");B._rateStarBackStyling();F(".ratings-modal .single-star:lt("+G+")").addClass("filled")});F(".ratings-modal-class").on("click",".okayButton",function(){Snapdeal.commonModal.close()});F(".common-modal").on("click","#ratingsSubmit",function(G){B._submitRatings()});F(".common-modal").on("click",".ratingsCancel",function(G){B._closeRatings()});F(".common-modal").on("click",".common-modal-content",function(G){G.stopPropagation()});F(".common-modal").click(function(){F("#rtoFeedbackPopup").addClass("hidden");Snapdeal.commonModal.close()});F("#rtoFeedbackSubmit").on("click",function(){if(F(".common-modal-container").find(".radioButtonCont").hasClass("radioSelected")&&(!(F("#selectedMsg").val().trim()=="Other Reasons")||!(F(".rtoTextarea").val()=="Write a reason")&&F(".rtoTextarea").val()!="")){F(".common-modal").addClass("hidden");var G={};if(F(".rtoTextarea").val()=="Write a reason"){G={orderCode:F("#rtoOrderCode").val(),formType:F("#formType").val(),reasonSelected:F("#selectedMsg").val().trim()}}else{G={orderCode:F("#rtoOrderCode").val(),formType:F("#formType").val(),reasonSelected:F("#selectedMsg").val().trim()+": "+F(".rtoTextarea").val()}}if(window.sdLoggerSwitch&&typeof SDLogger==="object"&&typeof SDLogger.log==="function"){SDLogger.log("clickStream","rtoFeedbackSubmit",G)}}if(F("#selectedMsg").val().trim()=="Other Reasons"){if(F(".rtoTextarea").val()=="Write a reason"||F(".rtoTextarea").val()==""){F("#rtoErrorTextarea").removeClass("hidden")}}else{F("#rtoFeedbackReason").removeClass("hidden")}});F(".rtoModalClose").on("click",function(){F("#rtoFeedbackPopup").addClass("hidden");var G={};G={orderCode:F("#rtoOrderCode").val(),formType:F("#formType").val(),type:"modalCross"};if(window.sdLoggerSwitch&&typeof SDLogger==="object"&&typeof SDLogger.log==="function"){SDLogger.log("clickStream","rtoFeedbackAction",G)}})},_windowLoad:function(){var L="/getFeedbackPopUp";if(Snapdeal.Cookie.get("eid")){var J=Snapdeal.Cookie.get("eid").replace(/"/g,"");E.emailId=J}var N=true;var I=new Date(Date.now()).getTime();var K=parseInt(Snapdeal.localStorage.getItem("popUpShownDate"));var G=F("#webRtoFeedbackHitTime").val();if(!!K){var H=I-K;var M=H/3600/1000;if(M>parseInt(G)){N=true}else{N=false}}if(N){F.ajax({url:L,type:"POST",dataType:"html",success:function(O){if(O){O=JSON.parse(O);var T={};if(O!=null&&O.popUpType=="MANDATORY_RATING"){var Q='<div class = "prodImg"><img src = "'+Snapdeal.getResourcePath(O.imageUrl)+'"></div><div class = "prodName bold" title = "'+O.itemName+'">'+O.itemName+"</div>";E.productId=O.productId;E.suborderCode=O.suborderCode;A.mandatoryWidgetHomepage.find(".leftComprtment").append(Q);F(".common-modal-content-block").addClass("modalWidth");Snapdeal.commonModal.open(F("#mandatoryPopUp"),"","ratings-modal",false);F(".common-modal-close").addClass("hidden");Snapdeal.localStorage.setItem("popUpShownDate",I);E.catalogId=O.catalogId;getOmnitureScript({catalogId:E.catalogId,emailId:E.emailId},"rating_popup_load");sdLogdata={pogId:E.productId,emailId:E.emailId,phone:JSON.parse(Snapdeal.localStorage.getItem("authData")).mobile};if(window.sdLoggerSwitch&&typeof SDLogger==="object"&&typeof SDLogger.log==="function"){SDLogger.log("render","rating_popup",sdLogdata)}}else{if(O!=null&&O.popUpType=="RTO"){var S=O.messages;var U=F(".numberOfMessages").val(S.length);if(S.length>=parseInt("5")){F(".reasonContainer").addClass("feedbackFormScroll")}for(var P=0;P<S.length;P++){var R='<div class="radioButtonCont" msgCode="'+S[P].messageCode+'"><span class="sd-icon sd-icon-checkmark"></span></div><span class="radioButtonMsg">'+S[P].message+" </span><br>";A.rtoWidgetHomepage.removeClass("hidden").find(".reasonContainer").append(R)}F(".common-modal-content-block").removeClass("modalWidth");Snapdeal.commonModal.open(F("#rtoFeedbackPopup"),"","ratings-modal",false);F(".common-modal-close").addClass("hidden");if(O.mandatory==false){F(".rtoModalClose").removeClass("hidden");F("#formType").val("optional")}else{F(".rtoModalClose").addClass("hidden");F("#formType").val("mandatory")}F("#rtofeedbackHeadingContainer").removeClass("hidden");F("#rtofeedbackHeadingContainer").find("#rtofeedbackHeading").html(O.heading);F("#rtofeedbackHeadingContainer").find("#rtofeedbackSubHeading").html(O.subHeading);F("#rtofeedbackHeadingContainer").find("#rtofeedbackSubtitle").html(O.reasonSubtitle);F("#rtoOrderCode").val(O.orderCode);T={orderCode:O.orderCode,formType:F("#formType").val()};if(window.sdLoggerSwitch&&typeof SDLogger==="object"&&typeof SDLogger.log==="function"){SDLogger.log("render","rtoFeedbackView",T)}Snapdeal.localStorage.setItem("popUpShownDate",I)}}}}})}},_changeRatings:function(N){var H=["Disappointing","Bad","Average","Good","Excellent"];var P=N.index()+1,K,Q,J,M,G,O,I="";A.filledIndex=N.index();F(".rate-text-modal").html(H[P-1]);F(".rate-text-modal").addClass("change-color");F(".ratings-modal .single-star").removeClass("filled");F(".ratings-modal .single-star:lt("+N.index()+")").addClass("filled");N.addClass("filled");F(".modal-btn").addClass("btnFillColor");F(".rate-text-modal").removeClass("notSelectStar");if(F(".ratings-modal .filled").length){F("#ratingsSubmit").removeClass("disabled")}getOmnitureScript({catalogId:E.catalogId,emailId:E.emailId},"rating_popup_rated");var L={};L={pogId:E.productId,emailId:E.emailId,phone:JSON.parse(Snapdeal.localStorage.getItem("authData")).mobile};if(window.sdLoggerSwitch&&typeof SDLogger==="object"&&typeof SDLogger.log==="function"){SDLogger.log("clickStream","ugcSubmission",{type:"rating_submission",pogId:E.productId,suborderCode:E.suborderCode,ratingSubmitted:F(".ratings-modal .filled").length,source:"home"})}},_submitRatings:function(){if(F(".rate-text-modal").hasClass("disabled")){return }else{if(F(".stars-wrapper span.single-star.filled").length==0){F(".rate-text-modal").addClass("notSelectStar")}else{getOmnitureScript({catalogId:E.catalogId,emailId:E.emailId,final_rating:F(".ratings-modal .filled").length},"rating_popup_submit");var H={};H={pogId:E.productId,emailId:E.emailId,phone:JSON.parse(Snapdeal.localStorage.getItem("authData")).mobile};if(window.sdLoggerSwitch&&typeof SDLogger==="object"&&typeof SDLogger.log==="function"){SDLogger.log("clickStream","ugcSubmission",{type:"rating_submission",pogId:E.productId,suborderCode:E.suborderCode,ratingSubmitted:F(".ratings-modal .filled").length,source:"home"})}var G={productId:E.productId,rating:F(".ratings-modal .filled").length,};F.ajax({url:"/review/post/rating",type:"GET",data:G,success:function(){F(".ratings-modal").addClass("ratings-modal-class");Snapdeal.commonModal.close()}})}}},_rateStarBackStyling:function(){var H=F(".rating-stars .stars-wrapper span.single-star.hovered").length;var G=F(".rating-stars");switch(H){case 1:G.css("background-image",'url("/img/ratingStarBgRight1.png")');break;case 2:G.css("background-image",'url("/img/ratingStarBgRight2.png")');break;case 3:G.css("background-image",'url("/img/ratingStarBgRight3.png")');break;case 4:G.css("background-image",'url("/img/ratingStarBgRight4.png")');break;case 5:G.css("background-image",'url("/img/ratingStarBgRight5.png")');break;default:G.css("background-image",'url("/img/ratingStarBgRight.png")')}},_closeRatings:function(){getOmnitureScript({catalogId:E.catalogId,emailId:E.emailId},"rating_popup_skip");var H={};H={pogId:E.productId,emailId:E.emailId,phone:JSON.parse(Snapdeal.localStorage.getItem("authData")).mobile};if(window.sdLoggerSwitch&&typeof SDLogger==="object"&&typeof SDLogger.log==="function"){SDLogger.log("click","rating_popup_skip",H)}var G={suborderCode:E.suborderCode,};F.ajax({url:"/review/post/rating",type:"GET",data:G,success:function(){Snapdeal.commonModal.close()}})}};C={init:function(){B._init()}};return C})(window.jQuery,Snapdeal);Snapdeal.mandatoryRating.init();
var Snapdeal=Snapdeal||{};Snapdeal.infiniteFeed=(function(H,L){var M,I,J,K=[],C=[],N=false;var E={start:0,count:10,page:0,adsPogCount:0,endOfFeed:false,followUps:"",};var B="#eleToObserve";var A="#infiniteFeedLoader";var D="#loadMoreBtn";var G="#placeholder-1";var F=doT.template(H("#products_c_widget").html());M={_productClickHandler:function(O){H("#infiniteFeedWrapper").on("click",".product-card",function(P){if(window.sdLoggerSwitch&&SDLogger&&typeof SDLogger.log==="function"&&P.currentTarget&&P.currentTarget.getAttribute("pog")){SDLogger.log("clickStream","ceeAction",{templateStyle:I.templateStyle,templateSubStyle:I.templateSubStyle,widgetTemplate:I.templateType,slotPos:I.slot,pCatId:P.currentTarget.getAttribute("cat"),pogId:P.currentTarget.getAttribute("pog"),widgetSource:O+"Feed",bucketId:P.currentTarget.getAttribute("bucket")})}})},_sendInfiniteFeedRenderEvent:function(O,Q){var V=O.products;var S=O.exclusions||[];if(!V||V.length===0){return }var T;T={isAds:[],isFlashSale:[],defaultSupcs:[],pogIds:[],vendorCodes:[],page:E.page,feedSource:[],feedSourceId:[],prices:[],basePrices:[],sourcePage:Q,};if(S.length){var U={eliminatedPogsArray:[],initialPositionArray:[],eliminatedPogsReasonArray:[]};for(var P=0;P<S.length;P++){var X=S[P];U.eliminatedPogsArray.push(X.pog);U.eliminatedPogsReasonArray.push(X.reason);U.initialPositionArray.push(X.position)}if(S.length){Object.assign(T,U)}}for(var R in I.trackingId){T[I.trackingId[R].key]=I.trackingId[R].value}for(var R in V){var W=V[R];T.isAds.push(W.productAd);T.isFlashSale.push((W.flashSaleOfferDetail)?true:false);T.defaultSupcs.push(W.defaultSupc);T.pogIds.push(W.pogId);T.vendorCodes.push(W.vendorCode);T.prices.push(W.effectivePrice);T.basePrices.push(W.basePrice);if(W.feedSource){T.feedSource.push(W.feedSource)}else{T.feedSource.push("default")}if(W.feedSourceId){T.feedSourceId.push(W.feedSourceId)}else{T.feedSourceId.push("default")}}if(O.adsPogCount&&O.adsPogCount>0&&O.impressionPixel){T.adTracker=O.impressionPixel}if(E.page===1){SDLogger.log("render","feedView",T)}else{SDLogger.log("render","feedViewLoadMore",T)}},_updateLoadMoreParams:function(O){E.endOfFeed=O.endOfFeed;E.followUps=O.followUps;E.adsPogCount=O.adsPogCount||0;E.page+=1},_loadMoreClickHandler:function(){N=true;E.start+=E.count;var O=J+"&start="+E.start+"&count="+E.count+"&adsPogCount="+parseInt(E.adsPogCount)+"&followUps="+E.followUps;H(D).css("display","none");H(A).css("display","block");H.ajax({url:O,cache:true,beforeSend:function(P){Snapdeal.CommonUtils.setMobApiHeaders(P)},type:"GET",success:function(P){N=false;var R=P.products;R=C.concat(R);C=[];var Q=null;Q=F(R);H(Q).insertBefore(H(G));M._updateLoadMoreParams(P);if(window.sdLoggerSwitch&&SDLogger&&typeof SDLogger.log==="function"){M._sendInfiniteFeedRenderEvent(P)}if(E.endOfFeed){H(D).css("display","none")}else{H(D).css("display","block");H(A).css("display","none")}}})},_infiniteFeedScrollHandler:function(){if(Snapdeal.utility.isScrolledIntoView(B)&&!N&&!E.endOfFeed){N=true;E.start+=E.count;var O=J+"&start="+E.start+"&count="+E.count+"&adsPogCount="+parseInt(E.adsPogCount)+"&followUps="+E.followUps;H(A).css("display","block");H.ajax({url:O,cache:true,beforeSend:function(P){Snapdeal.CommonUtils.setMobApiHeaders(P)},type:"GET",success:function(P){H(A).css("display","none");N=false;var T=P.products;var S=T.length;var R=null;M._updateLoadMoreParams(P);if(window.sdLoggerSwitch&&SDLogger&&typeof SDLogger.log==="function"){M._sendInfiniteFeedRenderEvent(P)}for(var Q=0;Q<S;Q++){if(K.length<50){K=K.concat([T[Q]]);R=F([T[Q]]);H(R).insertBefore(H(G))}else{C=T.splice(Q);H(window).off("scroll",M._infiniteFeedScrollHandler);H(D).css("display","block");break}}}})}},_createInfiniteFeed:function(P,O){I=P;J=I.api;if(!J){return }var Q=J+"&start="+E.start+"&count="+E.count+"&adsPogCount="+parseInt(E.adsPogCount)+"&followUps="+E.followUps;H.ajax({url:Q,cache:true,beforeSend:function(R){Snapdeal.CommonUtils.setMobApiHeaders(R)},type:"GET",success:function(R){var T=R.products;var S=F(T);K=K.concat(T);H(S).insertBefore(H(G));M._updateLoadMoreParams(R);H(window).on("scroll",M._infiniteFeedScrollHandler);H(D).on("click",M._loadMoreClickHandler);if(window.sdLoggerSwitch&&SDLogger&&typeof SDLogger.log==="function"){M._sendInfiniteFeedRenderEvent(R,O)}M._productClickHandler(O)}})},};J={createInfiniteFeed:function(P,O){return M._createInfiniteFeed.apply(this,arguments)}};return J})(window.jQuery,Snapdeal);
define(["OK/utils/utils"],function(a){function t(){}return t.prototype={activate:function(t){this.link=t.getAttribute("href")||t.getAttribute("data-href"),this.closeLayer="1"===t.getAttribute("data-close-layer"),t.addEventListener("click",this)},deactivate:function(t){t.removeEventListener("click",this)},handleEvent:function(t){t.preventDefault();var t=this.link,n=this.closeLayer;a.ajax({url:t}).done(function(t,e,i){n&&OK.Layers&&OK.Layers.unregisterLast(),a.updateBlockModelCallback(t,e,i)})}},t});

(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[49],{CTC5:function(e,t,i){"use strict";function o(e){fetch("/api/_ajax/metrics/ops/",{credentials:"same-origin",method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}})}i.d(t,"a",(function(){return o}))},WRJv:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var o=i("yVh0"),n=function(e,t){return Object(o.a)().formatNumber(e,t)}},f728:function(e,t,i){"use strict";i.r(t),i.d(t,"TopBoxOffice",(function(){return _}));var o=i("ERkP"),n=i("j/s1"),a=i("UnfE"),r=i("2gxx"),c=i("ob7U"),s=i("cxan"),l=i("WFZG"),d=i("laiz"),u=o.createElement,f=n.default.a.withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeTitlePageLink",componentId:"dujkoe-0"})(["text-decoration:none;display:block;width:80%;",";",";white-space:nowrap;overflow:hidden;padding-left:",";"],Object(a.setTypographyType)("body"),Object(a.setPropertyToColorVar)("color","ipt-on-baseAlt-color"),a.spacing.s),p=n.default.div.withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeTitleName",componentId:"dujkoe-1"})(["overflow:hidden;text-overflow:ellipsis;"]),m=Object(n.default)(l.WatchlistRibbon).withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeWatchlistRibbon",componentId:"dujkoe-2"})(["flex-shrink:0;"]),h=n.default.div.withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeTitle",componentId:"dujkoe-3"})(["display:flex;padding:"," ",";&:hover{opacity:0.8;}","{width:50%;}&.boxOfficeTitle:nth-of-type(even){background:linear-gradient( to right,rgba('ipt-on-baseAlt-color',0),rgba('ipt-on-baseAlt-color',0.06) );background:linear-gradient( to right,rgba(var(--ipt-on-baseAlt-rgb),0),rgba(var(--ipt-on-baseAlt-rgb),0.06) );}"],a.spacing.s,a.spacing.m,a.mediaQueries.breakpoints.above.s),b=n.default.div.withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeRank",componentId:"dujkoe-4"})(["margin-top:auto;margin-bottom:auto;"]),g=n.default.div.withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeGrossAmount",componentId:"dujkoe-5"})(["",";",";line-height:1.5em;"],Object(a.setTypographyType)("overline"),Object(a.setPropertyToColorVar)("color","ipt-on-baseAlt-textSecondary-color")),v=n.default.div.withConfig({displayName:"TopBoxOfficeTitle__BoxOfficeLine",componentId:"dujkoe-6"})(["border-right:1px solid;",";height:18px;margin-right:",";margin-left:",";margin-top:auto;margin-bottom:auto;display:inline-block;"],Object(a.setPropertyToColorVar)("color","ipt-on-baseAlt-accent1-color"),a.spacing.s,a.spacing.xs),x=function(e){var t=e.rankNumber,i=e.title,o=e.titleId,n=e.titlePageLink,a=e.weekendGrossAmount,r=e.showtimesLink,c={pageType:"home",subPageType:"main",refTag:"hm_cht_wl_rbn_"+t};return u(h,{className:"boxOfficeTitle"},u(b,null,t),u(v,null),u(d.WatchlistConsumer,{id:o,metricsContext:c,render:function(e){return u(m,Object(s.a)({size:"m",ariaLabel:"add to watchlist"},e))}}),u(f,{href:n,className:"boxOfficeTitleLink"},u(p,null,i),u(g,null,a)),r&&u(l.IconLink,{className:"boxOffice-showtimes-link",name:"ticket",href:r,label:i+"showtimes link",onColor:"accent2"}))},k=i("WRJv"),O=i("yVh0"),y=function(e,t){var i,o;if(e&&e.title&&e.weekendGross){var n,a,r=e.title,c=e.weekendGross,s=(null===(i=r.titleText)||void 0===i?void 0:i.text)||"",l=r.id,d=(n=c.total.amount,a=c.total.currency,Object(k.a)(n,{style:"currency",currency:a,notation:"compact",compactDisplay:"short",currencyDisplay:"symbol"})),u="ref_=hm_cht_".concat(t),f="/title/".concat(l,"/?").concat(u);return{rankNumber:t,titleName:s,titleId:l,titlePageLink:f,weekendGrossAmount:d,showtimesLink:(null===(o=r.cinemas)||void 0===o?void 0:o.total)?"/showtimes".concat(f):void 0}}},w=o.createElement,T=function(e){var t,i,o=e.data,n=[];return(null===o||void 0===o||null===(t=o.boxOfficeWeekendChart)||void 0===t?void 0:t.weekendStartDate)&&(null===o||void 0===o||null===(i=o.boxOfficeWeekendChart)||void 0===i?void 0:i.weekendEndDate)&&(n.push(new Date(o.boxOfficeWeekendChart.weekendStartDate)),n.push(new Date(o.boxOfficeWeekendChart.weekendEndDate))),function(e){if(e[0]&&e[1]){var t=new Date(e[0].getUTCFullYear(),e[0].getUTCMonth(),e[0].getUTCDate()),i=new Date(e[1].getUTCFullYear(),e[1].getUTCMonth(),e[1].getUTCDate()),o=Object(O.a)(),n=o.formatDate(t,{day:"numeric",month:"long"});return t.getMonth()===i.getMonth()?n+"-"+i.getDate():n+"-"+o.formatDate(i,{day:"numeric",month:"long"})}}(n)},_=function(e){var t,i=e.data,o=(t=i)?(((null===t||void 0===t?void 0:t.boxOfficeWeekendChart)?t.boxOfficeWeekendChart.entries?t.boxOfficeWeekendChart.entries:[]:void 0)||[]).map((function(e,t){return y(e,t+1)})).filter((function(e){return void 0!==e})).map((function(e){return e})):[],n=T({data:i}),a=Object(r.a)({id:"topBoxOffice_header_top_us",defaultMessage:"Top box office (US)"}),s=Object(r.a)({id:"topBoxOffice_header_description_date",defaultMessage:"Weekend of {dateRange}"},{dateRange:n}),l=Object(c.b)({id:"top-box-office",height:"other",title:a,description:s,link:"/chart/boxoffice/?ref_=hm_cht_sm",shouldRender:function(){return o.length>4}},e),d=o.map((function(e,t){return w(x,{key:t,rankNumber:e.rankNumber,title:e.titleName,titleId:e.titleId,titlePageLink:e.titlePageLink,weekendGrossAmount:e.weekendGrossAmount,showtimesLink:e.showtimesLink})}));return w(c.a,l,w(E,{"data-testid":"boxOfficeList"},w(C,null,d)))},C=n.default.div.withConfig({displayName:"TopBoxOffice__TopBoxOfficeList",componentId:"sc-28jxk1-0"})(["list-style:none;display:flex;flex-direction:column;","{display:flex;flex-wrap:wrap;max-height:14rem;width:100%;}"],a.mediaQueries.breakpoints.above.s),E=n.default.div.withConfig({displayName:"TopBoxOffice__IE11Wrapper",componentId:"sc-28jxk1-1"})(["","{display:flex;}"],a.mediaQueries.breakpoints.above.s);t.default=_},ob7U:function(e,t,i){"use strict";i.d(t,"b",(function(){return M})),i.d(t,"a",(function(){return Q}));var o=i("zjfJ"),n=i("ERkP"),a=i.n(n),r=i("WFZG"),c=i("j/s1"),s=i("uZih"),l=i.n(s),d=i("9pOh"),u=i("05Xt"),f=i("ybdx"),p=a.a.createElement;function m(e){var t,i=e.loading,o=e.children,n=e.height,r=e.customLoader;return t=i?r?a.a.createElement(r):p(f.a,{height:n,"data-testid":"lazy-loader"}):a.a.createElement(o),p(h,l()(e,["loading","height","customLoader","children"]),p(d.a,null,p(u.a,{key:"lazyloader-"+i.toString(),timeout:170,classNames:"item"},t)))}var h=c.default.div.withConfig({displayName:"LazyLoader__StyledContainer",componentId:"sc-3p6sn8-0"})(["& .item-enter{opacity:0;transform:translateY(1rem);}& .item-enter-active{opacity:1;transform:translateY(0);transition:all ","ms ease-out,opacity ","ms ease-in;}& .item-exit{opacity:1;transform:translateY(0);}& .item-exit-active{opacity:0;transform:translateY(-1rem);transition:all ","ms ease-in,opacity ","ms ease-out;}"],170,170,170,170),b=i("odm1"),g=i("giwy"),v=i("E39Q"),x=i("j0AU"),k=i("CTC5"),O=i("JeX9"),y=Object(x.h)(),w=y.source,T=y.next;y.complete;Object(x.o)(w,Object(x.a)(Object(x.f)(100)),Object(x.u)(15),Object(x.s)((function(e){e&&e.length>0&&Object(k.a)(e)})));var _=i("y6um"),C=i("FWc9"),E=i("UnfE"),j=a.a.createElement,N=function(e){var t=e.height,i=I(t);return j(i,{className:"feature-row-loader"},j(F,null))},I=function(e){switch(e){case"title-cards":return L;case"video-slates":return D;case"name-avatars":return P;default:return R}},L=c.default.div.withConfig({displayName:"FeatureRowLoader__TitleCardContainer",componentId:"ekkh6s-0"})(["width:100%;position:relative;","{height:466px;}","{height:417px;}","{height:367px;}","{height:375px;}","{height:379px;}"],E.mediaQueries.breakpoints.above.xl,E.mediaQueries.breakpoints.above.l,E.mediaQueries.breakpoints.above.m,E.mediaQueries.breakpoints.above.s,E.mediaQueries.breakpoints.above.xs),D=c.default.div.withConfig({displayName:"FeatureRowLoader__VideoSlateContainer",componentId:"ekkh6s-1"})(["width:100%;position:relative;","{height:280px;}","{height:238px;}","{height:200px;}","{height:203px;}","{height:209px;}"],E.mediaQueries.breakpoints.above.xl,E.mediaQueries.breakpoints.above.l,E.mediaQueries.breakpoints.above.m,E.mediaQueries.breakpoints.above.s,E.mediaQueries.breakpoints.above.xs),P=c.default.div.withConfig({displayName:"FeatureRowLoader__NameAvatarContainer",componentId:"ekkh6s-2"})(["width:100%;position:relative;","{height:235px;}","{height:202px;}","{height:187px;}","{height:173px;}","{height:180px;}"],E.mediaQueries.breakpoints.above.xl,E.mediaQueries.breakpoints.above.l,E.mediaQueries.breakpoints.above.m,E.mediaQueries.breakpoints.above.s,E.mediaQueries.breakpoints.above.xs),R=c.default.div.withConfig({displayName:"FeatureRowLoader__DefaultContainer",componentId:"ekkh6s-3"})(["width:100%;position:relative;height:20rem;"]),F=Object(c.default)(r.Loader).withConfig({displayName:"FeatureRowLoader__StyledLoader",componentId:"ekkh6s-4"})(["margin:auto;position:absolute;top:0;right:0;bottom:0;left:0;"]),U=n.createElement;function A(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function B(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?A(Object(i),!0).forEach((function(t){Object(o.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var M=function(e,t){return B(B({},e),t)},Q=function(e){var t=e.id,i=e.height,o=e.title,a=e.description,c=e.link,s=e.fetching,l=e.data,d=e.shouldRender,u=e.children,f=n.useRef(),p=n.useRef(!1);v.c||f.current||(f.current=Date.now());var h=!(!(!(v.c&&!l||s)&&d)||d())||!u,x=!s&&!h,k=new g.a({requestContext:Object(_.c)().context}),y=o?void 0:"none";if(n.useEffect((function(){if(!v.c&&f.current){var e,i=Date.now()-f.current;if(s)p.current=!0,k.set({metricName:b.NextClientMetrics.FEATURE_FETCHING,value:1,unit:b.Unit.COUNT}),console.log(b.NextClientMetrics.FEATURE_FETCHING+" - "+t);else if(h){var o=p.current?b.NextClientMetrics.FEATURE_FETCHED_THEN_DROPPED_TIME:b.NextClientMetrics.FEATURE_DROPPED_WITHOUT_FETCH_TIME;k.set({metricName:o,value:i,unit:b.Unit.MILLISECONDS}),console.log(o+" - "+t+" - "+i)}else if(x){var n=p.current?b.NextClientMetrics.FEATURE_FETCHED_THEN_COMPLETE_TIME:b.NextClientMetrics.FEATURE_COMPLETE_WITHOUT_FETCH_TIME;k.set({metricName:n,value:i,unit:b.Unit.MILLISECONDS}),console.log(n+" - "+t+" - "+i)}e=k,O.r&&e.serialize().forEach((function(e){return T(e)}))}}),[h,x]),h)return null;var w=function(){return U(n.Fragment,null,u)};return U(n.Fragment,null,U(C.a,{id:t}),U(r.PageGrid.Item,{span:3},U(r.PageSection,{topPadding:y},U("div",{className:t},o?U(r.SubSectionTitle,{description:a,href:c},o):null,U(m,{loading:!!s||v.c&&!l,height:"feature",customLoader:function(){return U(N,{height:i})}},(function(){return U(w,null)}))))))}}}]);
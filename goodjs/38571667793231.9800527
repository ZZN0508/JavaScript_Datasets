new function(){var g,t,o,i,n,a,e,s,u,r,c,l,p,f,d,h,m,v,y,b,w,T,A,E,M,x,R,P,C,S,D,k,I,j,U,L,O,V,_,N,F,$,X,q;function B(){this.l=new i.bf,this.Oc=!1}function H(){this.h=new e.NgVPageView}function G(t){r.call(this,t),this.Qc=!0,this.da={},this.V=0,this.constructor!=G?s.reportAPIMessage(0,s.W,"ADRUM.events.Ajax",[]):this.stopCorrelatingXhrs()}function z(t){this.constructor!=c.ng.NgVPageView&&this.constructor!=z?c.reportAPIMessage(0,c.W,"ADRUM.events.VPageView",[]):(p.call(this,t),this.perf=new c.PerformanceTracker,this.start(),c.monitor.ia.td())}function Q(t,e,n,r,o,i){if(e)try{return e.apply(t,[n,r,o].concat(i))}catch(e){return t.error(n,r,o,i,f.Error.re,"an exception occurred in a caller-provided callback function",e)}}function W(t){m.log("M58",t);var e=new Date;e.setTime(e.getTime()-1e3),document.cookie=t+"=;Expires="+e.toUTCString()}function J(t){y.call(this,t)}function Y(t){this.constructor!=Y&&this.constructor!=w.AdrumAjax?b.reportAPIMessage(0,b.W,"ADRUM.events.Ajax",[]):T.call(this,t)}function K(){this.Fa=[],this.Ba(K.Ia,0)}function Z(t){this.constructor!=Z?x.reportAPIMessage(0,x.W,"ADRUM.events.Error",[]):R.call(this,t)}function tt(t,e){for(var n in t=t||{})e[n]=function(){var r=n,o=t[n];return function(t){var e="_"+r,n=this[e];if(P.utils.isDefined(t)){if(typeof t!==o)throw P.reportAPIMessage(1,e="wrong type of "+r+" value, "+typeof t+" passed in but should be a "+o+".","ADRUM.report",Array.prototype.slice.call(arguments)),TypeError(e);this[e]=t}return n}}()}function et(t){this.perf=new P.PerformanceTracker,"Object"===this.constructor.name&&P.reportAPIMessage(0,P.W),this.timestamp(P.utils.now()),this.guid(P.utils.generateGUID()),this.url(document.URL),this.nb(t)}function nt(){this.D={}}function rt(){this.pa=[],this.pb=new V(rt.Pe),this.ab=new V(rt.Ie)}function ot(t){this.max=t,this.Ma=0}function it(t){return null!=t}function at(t){return"object"==typeof t&&!N.isArray(t)&&null!==t}function st(t){return"function"==typeof t||!1}function ut(t){return"string"==typeof t}function ct(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&it(t[e])}function lt(t){return ut(t)?t.replace(/^\s*/,"").replace(/\s*$/,""):t}function pt(t,e){var n,r,o,i,a=Array.prototype[t];return a?(o=a,i=Array.prototype.slice,function(t){return o.apply(t,i.call(arguments,1))}):(n=t,r=e,function(t,e){if(!it(t))throw new TypeError(n+" called on null or undefined");if(!st(e))throw new TypeError(e+" is not a function");return r.apply(null,arguments)})}function ft(t,e,n){var r=Object(t),o=r.length>>>0,i=0;if(arguments.length<3){for(;i<o&&!(i in r);)i++;if(o<=i)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;i<o;i++)i in r&&(n=e(n,r[i],i,r));return n}function dt(t,o,i){return N.reduce(t,function(t,e,n,r){return t[n]=o.call(i,e,n,r),t},Array(t.length>>>0))}function ht(t,o,i){return N.reduce(t,function(t,e,n,r){return o.call(i,e,n,r)&&t.push(e),t},[])}window.ADRUM||!0===window["adrum-disable"]||(t=window.ADRUM={},window["adrum-start-time"]=window["adrum-start-time"]||(new Date).getTime(),((q=t=t||{}).monitor||(q.monitor={})).Cd=function(){for(var t=[],e=0;e<arguments.length;e++)t[+e]=arguments[e];for(e=0;e<t.length;e++){var n=t[e];n&&n.setUp()}},_=t=t||{},N=_.utils||(_.utils={}),$=Array.isArray,X=Object.prototype.toString,N.isDefined=it,N.isArray=st($)&&st($.bind)?$.bind(Array):function(t){return X.call(t)===X.call([])},N.isObject=at,N.isFunction=st,N.isString=ut,N.isNumber=function(t){return"number"==typeof t},N.isBoolean=function(t){return"boolean"==typeof t},N.lb=function(t){setTimeout(t,0)},N.addEventListener=function(e,n,t){function r(){try{return t.apply(this,Array.prototype.slice.call(arguments))}catch(t){_.exception(t,"M1",n,e,t)}}_.isDebug&&_.log("M0",n,e),e.addEventListener?e.addEventListener(n,r,!1):e.attachEvent&&e.attachEvent("on"+n,r)},N.loadScriptAsync=function(t){var e=document.createElement("script");e.async=!0,e.src=t;var n=document.getElementsByTagName("script")[0];n?(n.parentNode.insertBefore(e,n),_.log("M2",t)):_.log("M3",t)},N.mergeJSON=function t(e,n){for(var r in n){var o,i=n[r];ct(n,r)&&(o=e[r],at(i)&&at(o)?t(o,i):N.isArray(o)&&N.isArray(i)?e[r]=o.concat(i):e[r]=i)}return e},N.hasOwnPropertyDefined=ct,N.Vh=function(t){var e=[];return e=it(t)?N.isArray(t)?t:[t]:e},N.generateGUID=it(F=window.crypto||window.msCrypto)&&st(F.getRandomValues)?function(){function t(t){return t=t.toString(16),"0000".substr(t.length)+t}var e=new Uint16Array(8);return F.getRandomValues(e),t(e[0])+t(e[1])+"_"+t(e[2])+"_"+t(e[3])+"_"+t(e[4])+"_"+t(e[5])+t(e[6])+t(e[7])}:function(){return"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},N.Ld=function(t){return(t=t&&t.stack)&&"string"==typeof t?t:null},N.trim=lt,N.fh=function(t){var e={};if(!t)return e;for(var n=t.split("\n"),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":");t=lt(o.substr(0,i)).toLowerCase(),i=lt(o.substr(i+1)),t&&(e[t]=e[t]?e[t]+", "+i:i)}return e},N.tryPeriodically=function(n,r,o,i){var a=0;!function t(){var e;r()?o&&o():0<(e=n(++a))?setTimeout(t,e):i&&i()}()},N.kc=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},N.gd=function(n){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return function(){for(var t=[],e=0;e<arguments.length;e++)t[+e]=arguments[e];return n.apply(this,r.concat(t))}},N.now=function(){return(new Date).getTime()},N.li=ft,N.reduce=pt("reduce",ft),N.ki=dt,N.map=pt("map",dt),N.ji=ht,N.filter=pt("filter",ht),N.Ff=function(t){return N.filter(t,it)},N.wf=function(t){return[].concat.apply([],t)},function(t){var e=t.conf||(t.conf={});e.userConf=window["adrum-config"]||{},e.useHTTPSAlways=!0===e.userConf.useHTTPSAlways,e.beaconUrlHttp=t.utils.isDefined(e.userConf.beaconUrlHttp)?e.userConf.beaconUrlHttp:"http://col.eum-appdynamics.com",e.beaconUrlHttps=t.utils.isDefined(e.userConf.beaconUrlHttps)?e.userConf.beaconUrlHttps:"https://col.eum-appdynamics.com",e.corsEndpointPath="/eumcollector/beacons/browser/v1",e.imageEndpointPath="/eumcollector/adrum.gif?",e.appKey=e.userConf.appKey||window["adrum-app-key"]||"APP_KEY_NOT_SET",t=e.useHTTPSAlways||"https:"===document.location.protocol;var n=e.userConf.adrumExtUrlHttp||"https://static.wellsfargo.com/assets/js/wfui/appdynamics",r=e.userConf.adrumExtUrlHttps||"https://static.wellsfargo.com/assets/js/wfui/appdynamics";e.adrumExtUrl=(t?r:n)+"/adrum-ext.b4436be974de477658d4a93afb752165.js",e.adrumXdUrl=r+"/adrum-xd.b4436be974de477658d4a93afb752165.html",e.agentVer="4.3.7.1",e.sendImageBeacon=e.userConf.beacon&&e.userConf.beacon.sendImageBeacon||window["adrum-send-image-beacon"],n=window["adrum-geo-resolver-url"]?(t?"https://":"http://")+(n=-1!=(r=(n=window["adrum-geo-resolver-url"]).indexOf("://"))?n.substring(r+3):n):(n=e.userConf.geoResolverUrlHttps||"",r=e.userConf.geoResolverUrlHttp||"",t?n:r),e.geoResolverUrl=n,e.useStrictDomainCookies=!0===window["adrum-use-strict-domain-cookies"],e.Fe=10}(t=t||{}),function(s){function n(t,e,n,r){return t=s.conf.beaconUrlHttps+"/eumcollector/error.gif?version=1&appKey="+n+"&msg="+encodeURIComponent(t.substring(0,500)),r&&(t+="&stack=",t+=encodeURIComponent(r.substring(0,1500-t.length))),t}function r(t,e){2<=a||(document.createElement("img").src=n(t,0,s.conf.appKey,e),a++)}function t(t){return 0<=t.location.search.indexOf("ADRUM_debug=true")||0<=t.cookie.search(/(^|;)\s*ADRUM_debug=true/)}var e;s.iDR=t,(e=s.$d||(s.$d={}))[e.API_ERROR=0]="API_ERROR",e[e.API_ERROR_INVALID_PARAMS=1]="API_ERROR_INVALID_PARAMS",e[e.API_ERROR_INVALID_CONFIG=2]="API_ERROR_INVALID_CONFIG",e[e.API_WARNING=3]="API_WARNING",e[e.API_WARNING_INEFFECTIVE_CONFIG=4]="API_WARNING_INEFFECTIVE_CONFIG",s.ja=["JS Agent API Error:","JS Agent API Error Invalid Parameters: ","JS Agent API Error Invalid Configs: ","JS Agent API Warning:","JS Agent API Warning Ineffective Config:"],s.W=" a constructor is called as a function. Don't forget keyword new.",s.isDebug=t(document),s.apiMessageConsoleOut=!(!s.utils.isDefined(s.conf.userConf)||!s.utils.isDefined(s.conf.userConf.log)||!0!==s.conf.userConf.log.apiMessageConsoleOut);var o=[],i=[];s.logMessages=o,s.apiMessages=i,s.log=function(t){for(var e=1;e<arguments.length;e++);s.isDebug&&o.push(Array.prototype.slice.call(arguments).join(" | "))},s.Pg=function(t){for(var e=1;e<arguments.length;e++);i.push(Array.prototype.slice.call(arguments).join(" | "))},s.error=function(t){for(var e=1;e<arguments.length;e++);e=Array.prototype.slice.call(arguments).join(" | "),s.log(e),r(e,null)},s.reportAPIMessage=function(t,e,n,r){var o=s.ih.apply(this,arguments);return s.Pg(o),s.apiMessageConsoleOut&&"undefined"!=typeof console&&void 0!==console.log&&console.log(o),o},s.exception=function(){for(var t=[],e=0;e<arguments.length;e++)t[+e]=arguments[e];arguments.length<1||(t=Array.prototype.slice.call(arguments),e=s.utils.Ld(t[0]),t=t.slice(1).join(" | "),s.log(t),r(t,e))},s.assert=function(t,e){t||s.error("Assert fail: "+e)},s.dumpLog=s.isDebug?function(){for(var t="",e=0;e<o.length;e++)t+=o[e].replace(RegExp("<br/>","g"),"\n\t")+"\n";return t}:function(){},s.ih=function(t,e,n,r){var o,i="",i="",a=(new window.Error).stack,a=s.utils.isString(a)?a.substring(5):a+"";switch(s.utils.isDefined(o)||(o=s.utils.map(r,function(t){return null===t?"null":null==t?"undefined":""===t?"''":t})),t){case 0:case 3:i=s.ja[t],i=s.utils.isDefined(n)?""+i+e+"\n in "+n+"("+o.join(", ")+")\n"+a:""+i+e+"\n"+a;break;case 1:i=""+(i=s.ja[t])+e+"\nin "+n+"("+o.join(", ")+")\n"+a;break;case 2:case 4:i=""+(i=s.ja[t])+e+", but "+n+"="+o.join(", ")+"\n"+a;break;default:i=""+(i=s.ja[0])+e+"\nin "+n+"("+o.join(", ")+")\n"+a}return i},s.cIEBU=n;var a=0;s.log("M4")}(t=t||{}),O=t=t||{},ot.prototype.tg=function(){this.wa()||this.Ma++},ot.prototype.wa=function(){return this.Ma>=this.max},ot.prototype.reset=function(){this.Ma=0},V=ot,rt.prototype.submit=function(t){this.push(t)&&O.initEXTDone&&this.processQ()},rt.prototype.processQ=function(){for(var t=this.If(),e=0;e<t.length;e++){var n=t[e];"function"==typeof O.commands[n[0]]?(O.isDebug&&O.log("M5",n[0],n.slice(1).join(", ")),O.commands[n[0]].apply(O,n.slice(1))):O.error("M6",n[0])}},rt.prototype.Ig=function(t){return"reportXhr"===t||"reportPageError"===t},rt.prototype.push=function(t){var e=t[0],n=this.Ig(e),r=n?this.pb:this.ab;return r.wa()?(O.log("M7",n?"spontaneous":"non spontaneous",e),!1):(this.pa.push(t),r.tg(),!0)},rt.prototype.If=function(){var t=this.pa;return this.reset(),t},rt.prototype.size=function(){return this.pa.length},rt.prototype.reset=function(){this.pa=[],this.pb.reset(),this.ab.reset()},rt.prototype.isSpontaneousQueueDead=function(){return this.pb.wa()},rt.prototype.isNonSpontaneousQueueDead=function(){return this.ab.wa()},rt.Pe=100,rt.Ie=100,O.ge=rt,(L=t=t||{}).q=new L.ge,L.command=function(t){for(var e=1;e<arguments.length;e++);L.isDebug&&L.log("M8",t,Array.prototype.slice.call(arguments).slice(1).join(", ")),L.q.submit(Array.prototype.slice.call(arguments))},function(t){function e(){this.status={}}t=t.monitor||(t.monitor={}),e.prototype.setUp=function(){},e.prototype.set=function(t,e){this.status[t]=e},t.Hb=e}(t=t||{}),j=t=t||{},U=j.aop||(j.aop={}),(window.ADRUM.aop=U).support=function(t){return!t||"apply"in t},U.around=function(r,o,i,a,s){return j.assert(U.support(r),"aop.around called on a function which does not support interception"),r=r||function(){},function(){j.isDebug&&j.log("M9",a,Array.prototype.slice.call(arguments).join(", "));var t,e=Array.prototype.slice.call(arguments);try{o&&(t=o.apply(this,e))}catch(t){j.exception(t,"M10",a,t)}j.assert(!t||"[object Array]"===Object.prototype.toString.call(t));var n=void 0;try{n=r.apply(this,t||e)}catch(t){throw s&&s(t),t}finally{try{i&&i.apply(this,e)}catch(t){j.exception(t,"M11",a,t)}}return n}},U.before=function(t,e,n){return U.around(t,e,null,n)},U.after=function(t,e,n){return U.around(t,null,e,n)},(q=(q=t=t||{}).EventType||(q.EventType={}))[q.PageView=0]="PageView",q[q.Ajax=2]="Ajax",q[q.VPageView=3]="VPageView",q[q.Error=4]="Error",q[q.IFRAME=1]="IFRAME",q[q.ABSTRACT=100]="ABSTRACT",q[q.ADRUM_XHR=101]="ADRUM_XHR",q[q.NG_VIRTUAL_PAGE=102]="NG_VIRTUAL_PAGE",($=($=t=t||{}).events||($.events={})).w={},$.w[100]={guid:"string",url:"string",parentGUID:"string",parentUrl:"string",parentType:"number",timestamp:"number"},$.w[3]={resTiming:"object"},$.w[102]={digestCount:"number"},$.w[2]={method:"string",parentPhase:"string",parentPhaseId:"number",error:"object",parameter:"object",xhrStatus:"number"},$.w[101]={allResponseHeaders:"string"},$.w[4]={msg:"string",line:"number",stack:"string"},C=t=t||{},nt.prototype.mark=function(t,e){S.mark.apply(this,arguments)},nt.prototype.getTiming=function(t){return(t=this.getEntryByName(t))&&t.startTime},nt.prototype.measure=function(t,e,n){S.measure.apply(this,arguments)},nt.prototype.getEntryByName=function(t){return S.getEntryByName.call(this,t)},nt.La=function(t){return S.La(t)},q=nt,C.PerformanceTracker=q,$=S=S||{},D=C.utils.hasOwnPropertyDefined,q=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,k=C.utils.isObject(q)&&C.utils.isObject(q.timing)&&C.utils.isNumber(q.timing.navigationStart)?q.timing.navigationStart:window["adrum-start-time"],I=C.utils.now,$.mark=function(t,e){this.D[t]={name:t,entryType:"mark",startTime:C.utils.isDefined(e)?e:I(),duration:0}},$.measure=function(t,e,n){D(this.D,e)&&D(this.D,n)?this.D[t]={name:t,entryType:"measure",startTime:e?this.D[e].startTime:k,duration:(n?this.D[n].startTime:I())-(e?this.D[e].startTime:k)}:C.error("M12",D(this.D,e)?n:e)},$.getEntryByName=function(t){return this.D[t]||null},$.La=function(t){return t+k},P=t=t||{},q=P.events||(P.events={}),et.prototype.type=function(){return 100},et.prototype.nb=function(t){if(P.utils.isObject(t))for(var e in t){var n=this[e]||this["mark"+P.utils.kc(e)];n&&P.utils.isFunction(n)&&n.call(this,t[e])}},et.fc=function(t,e,n){return{guid:function(){return t},url:function(){return e},type:function(){return n}}},et.prototype.hg=function(){return et.fc(this.parentGUID(),this.parentUrl(),this.parentType())},et.prototype.parent=function(t){var e=this.hg();return P.utils.isDefined(t)&&(P.utils.isFunction(t.guid)&&P.utils.isFunction(t.url)&&P.utils.isFunction(t.type)?(this.parentGUID(t.guid()),this.parentUrl(t.url()),this.parentType(t.type())):P.reportAPIMessage(0,"object is not a valid EventIdentifier","EventTracker.parent",Array.prototype.slice.call(arguments))),e},$=et,q.EventTracker=$,q.aa=tt,q.gc=function(t,e){var n,r;for(n in r=function(t){var e,n={};for(e in t){var r=t[e];n[r.start]=!0,n[r.end]=!0}return n}(t=t||{}))r=P.utils.kc(n),e["mark"+r]=P.utils.gd(function(t,e){this.perf.mark(t,e)},n),e["get"+r]=P.utils.gd(function(t){return this.perf.getTiming(t)},n)},tt(q.w[100],$.prototype),g=this.ff||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n},x=t=t||{},q=x.events||(x.events={}),R=q.EventTracker,g(Z,R),Z.prototype.type=function(){return 4},$=Z,q.Error=$,q.aa(q.w[4],$.prototype),function(o){function a(){e.apply(this,arguments)}var t,e;t=o.monitor||(o.monitor={}),e=t.Hb,g(a,e),a.prototype.setUp=function(){var t=this;e.prototype.setUp.call(this),o.listenForErrors=function(){t.Wc()},this.Wc()},a.prototype.qd=function(t,e,n,r){a.errorsSent>=o.conf.Fe?o.log("M13"):(r=o.utils.Ld(r),o.command("reportPageError",new o.events.Error(o.utils.mergeJSON({msg:t+"",url:o.utils.isString(e)?e:void 0,line:o.utils.isNumber(n)?n:void 0,stack:r},this.status))),a.errorsSent++)},a.prototype.Wc=function(){var i=this;o.aop.support(window.onerror)?(window.onerror=o.aop.around(window.onerror,function(t,e,n,r,o){a.Ya||(i.qd(t,e,n,o),a.Ya=!0)},function(){a.Ya=!1},"onerror"),o.log("M14")):o.log("M15")},a.Ya=!1,a.errorsSent=0,t.ErrorMonitor=a,t.Ra=new t.ErrorMonitor}(t=t||{}),M=t=t||{},K.prototype.Wg=function(t){this.Ba(K.$b,t)},K.prototype.Yg=function(t){this.Ba(K.hc,t)},K.prototype.Xg=function(t){this.Ba(K.bc,t)},K.prototype.Ba=function(t,e){this.Fa.push({Vg:(new Date).getTime(),Ug:e,hd:t}),this.Cf=t},K.prototype.getPhaseName=function(){return this.Cf},K.prototype.getPhaseID=function(t){for(var e=0;e<K.ec.length;e++)if(K.ec[e]===t)return e;return null},K.prototype.getPhaseCallbackTime=function(t){for(var e=this.Fa,n=0;n<e.length;n++)if(e[n].hd===t)return e[n].Vg;return null},K.prototype.findPhaseAtNominalTime=function(t){M.assert(0<=t);for(var e=this.Fa,n=e.length-1;0<=n;n--)if(t>=e[n].Ug)return e[n].hd;return M.error("M16",t,M.utils.Jf(e)),K.Ia},K.ec=[K.Ia="AFTER_FIRST_BYTE",K.$b="AFTER_DOM_INTERACTIVE",K.hc="AT_ONLOAD",K.bc="AFTER_ONLOAD"],q=K,M.ei=q,M.lifecycle=new q,M.lifecycle=M.lifecycle,function(t){function e(){n.apply(this,arguments)}var n;t=t.events||(t.events={}),n=t.EventTracker,g(e,n),e.prototype.type=function(){return 0},t.PageView=e}(t=t||{}),function(n){function r(){}var e,o;e=n.monitor||(n.monitor={}),o=n.utils.now,r.prototype.setUp=function(){var t,e=document.readyState;"loading"===e?(n.log("M17"),r.wh(),r.Dd()):(t={timeStamp:o()},r.X(t),"interactive"===e?(n.log("M18"),r.Dd()):(n.log("M19"),r.ca(t),r.fd(t)))},r.Dd=function(){n.utils.addEventListener(window,"load",r.ca),n.utils.addEventListener(window,"load",r.fd)},r.fd=function(t){r.currentBasePage=new n.events.PageView,n.lifecycle.Yg(t&&t.timeStamp),n.utils.lb(function(){var t=o();n.lifecycle.Xg(t),n.command("mark","onload",t),e.PerformanceMonitor.perf&&(e.perfMonitor.xf(),e.perfMonitor.yf()),n.command("reportOnload",r.currentBasePage),n.utils.loadScriptAsync(n.conf.adrumExtUrl)}),n.log("M20")},r.wh=function(){if(n.utils.isFunction(document.addEventListener))document.addEventListener("DOMContentLoaded",r.X,!1);else if(n.utils.isObject(document.attachEvent)){document.attachEvent("onreadystatechange",r.X);var t=null;try{t=null===window.frameElement?document.documentElement:null}catch(t){}null!=t&&t.doScroll&&function e(){if(!r.isReady){try{t.doScroll("left")}catch(t){return void setTimeout(e,10)}r.ca()}}()}else n.exception("M21");n.log("M22")},r.ca=function(t){r.Zc||(n.lifecycle.Wg(t&&t.timeStamp),n.command("mark","onready",o()),r.Zc=!0)},r.X=function(t){document.addEventListener?(document.removeEventListener("DOMContentLoaded",r.X,!1),r.ca(t)):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",r.X),r.ca(t))},r.isReady=!1,r.Zc=!1,e.DOMEventsMonitor=r,e.Hf=new e.DOMEventsMonitor}(t=t||{}),function(o){function i(){this.navTiming=this.resTiming=null}var t;t=o.monitor||(o.monitor={}),i.prototype.setUp=function(){i.perf=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,o.utils.isObject(i.perf)&&o.utils.isObject(i.perf.timing)||(i.perf=void 0),this.setResourceTimingBufferSize()},i.prototype.setResourceTimingBufferSize=function(){var t=i.perf,e=o.conf.userConf&&o.conf.userConf.resTiming&&o.conf.userConf.resTiming.bufSize;!o.utils.isNumber(e)||e<=0?o.log("M23"):t&&o.utils.isFunction(t.setResourceTimingBufferSize)?t.setResourceTimingBufferSize(e):o.log("M24setResourceTimingBufferSize is not supported")},i.prototype.xf=function(){var t=i.perf;if(t=t&&t.timing)if(t.navigationStart&&t.navigationStart<=t.loadEventEnd){var e,n={};for(e in t){var r=t[e];"number"==typeof r&&(n[e]=r)}this.navTiming=n}else o.log("M26");else o.log("M25")},i.prototype.yf=function(){this.resTiming=this.Dc()},i.prototype.Dc=function(){var t=i.perf,e=[];return 0==(e=t&&t.getEntriesByType&&(t=t.getEntriesByType("resource"))&&t.length&&0<t.length&&t.unshift?t:e).length&&o.log("M27"),e},i.perf=null,t.PerformanceMonitor=i,t.perfMonitor=new t.PerformanceMonitor}(t=t||{}),A=t=t||{},(E=A.utils||(A.utils={})).parseURI=function(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t=e&&null!=t.match(e[1]+"//"),e&&{href:e[0]||"",protocol:e[1]||"",ob:t?"//":"",wb:e[2]||"",gb:e[3]||"",host:e[4]||"",hostname:e[5]||"",port:e[6]||"",pathname:e[7]||"",search:e[8]||"",hash:e[9]||""}},E.absolutizeURI=function(t,e){function n(t){var e=[];return t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?e.pop():e.push(t)}),e.join("").replace(/^\//,"/"===t.charAt(0)?"/":"")}var r,o,i,a,s,u,e=e?E.parseURI(e):{},t=t?E.parseURI(t):{};return t=e.protocol?(r=e.protocol,o=e.ob,i=e.wb,a=e.gb,s=e.host,u=n(e.pathname),e.search):e.host?(r=t.protocol,o=t.ob,i=e.wb,a=e.gb,s=e.host,u=n(e.pathname),e.search):(r=t.protocol,o=t.ob,i=t.wb,a=t.gb,s=t.host,e.pathname?(u="/"===e.pathname.charAt(0)?n(e.pathname):n(u=t.pathname?t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)+e.pathname:o?"/"+e.pathname:e.pathname),e.search):(u=n(t.pathname),e.search||t.search)),r+o+(i?i+(a?":"+a:"")+"@":"")+s+u+t+(e.hash||"")},E.getFullyQualifiedUrl=function(e){try{var n,t,r=document.location.href;t:{for(var o=document.getElementsByTagName("base"),i=0;i<o.length;i++){var a=o[i].href;if(a){t=a;break t}}t=void 0}return n=t?E.absolutizeURI(r,t):r,E.absolutizeURI(n,e)}catch(t){return A.exception(t,"M28",e,n),e}},($=($=($=t=t||{}).events||($.events={})).b||($.b={})).navigationStart="navigationStart",$.domainLookupStart="domainLookupStart",$.domainLookupEnd="domainLookupEnd",$.connectStart="connectStart",$.secureConnectionStart="secureConnectionStart",$.connectEnd="connectEnd",$.requestStart="requestStart",$.responseStart="responseStart",$.responseEnd="responseEnd",$.domContentLoadedEventStart="domContentLoadedEventStart",$.loadEventEnd="loadEventEnd",$.Ad="sendTime",$.xc="firstByteTime",$.vd="respAvailTime",$.wd="respProcTime",$.yb="viewChangeStart",$.Qd="viewChangeEnd",$.zb="viewDOMLoaded",$.Vd="xhrRequestsCompleted",$.Oi="viewFragmentsLoaded",$.Pi="viewResourcesLoaded",$.Ab="virtualPageStart",$.Sh="virtualPageEnd",(q=(q=t=t||{}).events||(q.events={})).metricSpec={},q.metricSpec[0]={Of:{start:q.b.navigationStart,end:q.b.loadEventEnd,name:"PLT"},Vf:{start:q.b.navigationStart,end:q.b.responseStart,name:"FBT"},Ki:{start:q.b.navigationStart,end:q.b.requestStart,name:"SCT"},Li:{start:q.b.secureConnectionStart,end:q.b.connectEnd,name:"SHT"},ri:{start:q.b.domainLookupStart,end:q.b.domainLookupEnd,name:"DLT"},Ni:{start:q.b.connectStart,end:q.b.connectEnd,name:"TCP"},Ii:{start:q.b.requestStart,end:q.b.responseStart,name:"RAT"},ti:{start:q.b.responseStart,end:q.b.loadEventEnd,name:"FET"},vi:{start:q.b.responseStart,end:q.b.domContentLoadedEventStart,name:"DRT"},ii:{start:q.b.responseStart,end:q.b.responseEnd,name:"DDT"},pi:{start:q.b.responseEnd,end:q.b.domContentLoadedEventStart,name:"DPT"},Hi:{start:q.b.domContentLoadedEventStart,end:q.b.loadEventEnd,name:"PRT"},qi:{start:q.b.navigationStart,end:q.b.domContentLoadedEventStart,name:"DOM"}},q.metricSpec[2]={Vf:{start:q.b.Ad,end:q.b.xc,name:"FBT"},ui:{start:q.b.xc,end:q.b.vd,name:"DDT"},hi:{start:q.b.vd,end:q.b.wd,name:"DPT"},Of:{start:q.b.Ad,end:q.b.wd,name:"PLT"}},q.metricSpec[3]={Bi:{start:q.b.Ab,end:q.b.Sh,name:"PLT"},ni:{start:q.b.yb,end:q.b.Qd,name:"DDT"},yi:{start:q.b.yb,end:q.b.zb,name:"DRT"},Zh:{start:q.b.Qd,end:q.b.zb,name:"DPT"},$h:{start:q.b.yb,end:q.b.zb,name:"DOM"},Gi:{start:"viewChangeEnd",end:"xhrRequestsCompleted",name:null},zi:{start:"viewChangeEnd",end:"viewPartialsLoaded",name:null},xi:{start:"viewPartialsLoaded",end:"viewFragmentsLoaded",name:null},Ai:{start:"viewPartialsLoaded",end:"viewResourcesLoaded",name:null}},q.metricSpec[102]=q.metricSpec[3],b=t=t||{},w=b.events||(b.events={}),T=w.EventTracker,g(Y,T),Y.prototype.type=function(){return 2},$=Y,w.Ajax=$,w.aa(w.w[2],$.prototype),w.gc(w.metricSpec[2],$.prototype),q=t=t||{},$=q.events||(q.events={}),y=$.Ajax,g(J,y),J.prototype.type=function(){return 2},q=J,$.AdrumAjax=q,$.aa($.w[101],q.prototype),function(u){function c(){e.call(this),this.conf=null,this.qb=!1,!(this.Ja=0)===window["adrum-xhr-disable"]?u.log("M29"):window.XMLHttpRequest?(this.conf={exclude:[{urls:[{pattern:u.conf.beaconUrlHttp+u.conf.corsEndpointPath},{pattern:u.conf.beaconUrlHttps+u.conf.corsEndpointPath}]}],include:[],maxPerPageView:c.Fb},c.nd(this.conf,u.conf.userConf&&u.conf.userConf.xhr),(this.g=window.XMLHttpRequest.prototype)?"open"in this.g&&"send"in this.g?(this.qb=u.aop.support(this.g.open)&&u.aop.support(this.g.send))||u.log("M33"):u.log("M32"):u.log("M31")):u.log("M30")}var t,e,r,n,o,i,a,s,l,p,f,d,h;t=u.monitor||(u.monitor={}),r=u.utils.isObject,n=u.utils.isDefined,o=u.utils.map,i=u.utils.reduce,a=u.utils.filter,s=u.utils.Vh,l=u.utils.isString,p=u.utils.Ff,f=u.utils.wf,d=u.utils.isFunction,h=u.utils.mergeJSON,e=t.Hb,g(c,e),c.nd=function(t,e){var n,r=c.Fb;e&&(n=e.maxPerPageView,u.utils.isNumber(n)&&0<n?r=n:u.reportAPIMessage(4,"value is not valid; don't limit xhr","xhr.maxPerPageView",[n])),t.maxPerPageView=r,t.exclude=c.xb(c.Pd,"exclude",t,e),t.include=c.xb(c.Pd,"include",t,e),t.parameter=c.xb(c.Qh,"parameter",e)},c.xb=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return p(o(a(f(o(p(n),function(t){return s(t[e])})),c.Eg(e)),t))},c.Pd=function(t){var e=c.ld(t);return t=c.md(t),e||t},c.Eg=function(e){return function(t){return r(t)||u.reportAPIMessage(2,"Filter object must be an object","xhr."+e,[t])}},c.md=function(t){var e=t.urls;if(e&&0<e.length&&(t.urls=c.Af(e),0<t.urls.length))return t},c.ld=function(t){var e=t.method;if(n(e)){if(l(e))return t;u.error("M34")}},c.Qh=function(t){var e=c.md(t);return c.ld(t),c.jh(t)&&e},c.jh=function(t){return d(t.getFromBody)?t:void u.error("M35")},c.Af=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n].pattern;if("string"==typeof r)try{e.push(new RegExp(r))}catch(t){u.exception(t,"Parse regex pattern failed.")}else u.error("xhr filter pattern should be a string")}return e},c.Ed=function(t,e,n){var r=n&&n.include;return n=n&&n.exclude,r&&0<r.length&&!c.Tc(e,t,r)||n&&0<n.length&&c.Tc(e,t,n)},c.uc=function(t){var e=t.message||t.description,n=t.fileName||t.filename,r=t.lineNumber;u.utils.isString(t.description)&&0<=t.description.indexOf("Access is denied.")&&(e+=": maybe you have CORS XHR error in IE"),u.monitor.Ra.qd(e,n,r,t)},c.prototype.setUp=function(){var s;this.qb&&(u.log("M36"),u.xhrConstructor=window.XMLHttpRequest,u.xhrOpen=this.xhrOpen=this.g.open,u.xhrSend=this.xhrSend=this.g.send,(s=this).g.open=u.aop.around(this.g.open,function(){c.Gg(this)&&(4===this.readyState?(u.log("M37"),c.Pf(this._adrumAjaxT),c.a(this,this._adrumAjaxT)):u.log("M38"+this._adrumAjaxT.url()+"' is reported."));var t=1<=arguments.length?String(arguments[0]):"",e=2<=arguments.length?String(arguments[1]):"",e=u.utils.getFullyQualifiedUrl(e);s.Ja>=s.conf.maxPerPageView||c.Ed(e,t,s.conf)||(this._adrumAjaxT=new u.events.AdrumAjax(u.utils.mergeJSON({method:t,url:e},s.status)))},null,"XHR.open",c.uc),this.g.send=u.aop.around(this.g.send,function(t){var e,n,r,o,i=this,a=this._adrumAjaxT;!a||++s.Ja>s.conf.maxPerPageView||(e=u.utils.now(),n=a.getSendTime(),u.assert(null===n,"M39"),a.timestamp(e),a.markSendTime(n||e),a.parentPhase(u.lifecycle.getPhaseName()),c.Rc(a.url())?i.setRequestHeader("ADRUM","isAjax:true"):u.log("M40",document.location.href,a.url()),t=c.gg(a.url(),s.conf.parameter,t),a.parameter(t),r=0,(o=function(){if(4==i.readyState)u.log("M41"),s.Ga(i);else{var t=null;try{t=i.onreadystatechange}catch(t){return u.log("M42",t),void s.Ga(i)}r++,t?u.aop.support(t)?(i.onreadystatechange=s.pc(t,i,"XHR.onReadyStateChange"),u.log("M43",r)):(u.log("M44"),s.Ga(i)):r<c.df?u.utils.lb(o):(u.log("M45"),s.Ga(i))}})())},null,"XHR.send",c.uc),"addEventListener"in this.g&&"removeEventListener"in this.g&&u.aop.support(this.g.addEventListener)&&u.aop.support(this.g.removeEventListener)?(this.g.addEventListener=u.aop.around(this.g.addEventListener,this.Bf(),null,"XHR.addEventListener"),this.g.removeEventListener=u.aop.around(this.g.removeEventListener,function(t,e){if(this._adrumAjaxT){var n=Array.prototype.slice.call(arguments);return e.__adrumInterceptor?(n[1]=e.__adrumInterceptor,u.log("M46")):u.log("M47"),n}},null,"XHR.removeEventListener")):u.log("M48"),u.log("M49"))},c.prototype.td=function(){this.Ja=0},c.$c=function(t,e){for(var n=!1,r=0;r<e.length;r++){var o=e[r];if(o&&o.test(t)){n=!0;break}}return n},c.Tc=function(t,e,n){var r=!1;if(e&&n)for(var o=0;o<n.length;o++){var i=n[o];if(!(i.method&&t!==i.method||i.urls&&!c.$c(e,i.urls))){r=!0;break}}return r},c.gh=function(t,e,n){return(e||t)===(n||t)},c.Rc=function(t){var e=document.createElement("a");e.href=t;var n=(t=document.location).protocol;return e.protocol===n&&e.hostname===t.hostname&&c.gh(c.Ef[n],e.port,t.port)},c.gg=function(e,t,n){if(t&&0<(t=a(o(a(t,function(t){return c.$c(e,t.urls)}),function(t){return t.getFromBody(n)}),r)).length)return i(t,h,{})},c.Ic=function(t){var e,n=t._adrumAjaxT;n&&(e=(new Date).getTime(),2==t.readyState?n.markFirstByteTime(n.getFirstByteTime()||e):4==t.readyState&&(u.assert(null===n.getRespAvailTime(),"M50"),n.markRespAvailTime(n.getRespAvailTime()||e),n.markFirstByteTime(n.getFirstByteTime()||e)))},c.prototype.pc=function(t,n,e){return c.Xh(t,function(){c.Ic(this)},function(){var t,e=n._adrumAjaxT;e&&4==n.readyState&&(t=(new Date).getTime(),u.assert(null===e.getRespProcTime(),"M51"),e.markRespProcTime(e.getRespProcTime()||t),c.a(n,e))},e)},c.Gg=function(t){return u.utils.isDefined(t._adrumAjaxT)&&u.utils.isString(t._adrumAjaxT._url)},c.Pf=function(t){var e=(new Date).getTime();t.markRespAvailTime(t.getRespAvailTime()||e),t.markFirstByteTime(t.getFirstByteTime()||e),t.markRespProcTime(t.getRespProcTime()||e)},c.a=function(e,t){var n,r=e.status;if(t.xhrStatus(r),t.allResponseHeaders(e.getAllResponseHeaders()),400<=r){try{l(e.responseText)&&(n=e.responseText)}catch(t){l(e.responseType)&&(n=e.responseType)}t.error({status:r,msg:n})}else 0!==r||c.Rc(t.url())||t.error({status:r,msg:"Cannot load requested resource. The cause may be: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin is therefore not allowed access"});u.command("reportXhr",t)},c.prototype.Ga=function(n){var r,o;n._adrumAjaxT&&(r=(new Date).getTime()+3e4,(o=function(){c.Ic(n);var t,e=n._adrumAjaxT;e&&(t=(new Date).getTime(),4==n.readyState?(u.assert(null===e.getRespProcTime(),"M52"),e.markRespProcTime(e.getRespProcTime()||t),u.log("M53"),c.a(n,e),delete n._adrumAjaxT):t<r?setTimeout(o,c.Gb):(delete n._adrumAjaxT,u.log("M54")))})())},c.Xh=function(t,e,n,r){var o=t;return t&&"object"==typeof t&&"toString"in t&&"[xpconnect wrapped nsIDOMEventListener]"===t.toString()&&"handleEvent"in t&&(o=function(){t.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),u.aop.around(o,e,n,r)},c.prototype.Bf=function(){for(var t=0;t<arguments.length;t++);var o=this;return function(t,e){if(("load"===t||"error"===t)&&e&&this._adrumAjaxT){var n,r;if(r=(r=e).__adrumInterceptor?r.__adrumInterceptor:u.aop.support(r)?(n=o.pc(r,this,"XHR.invokeEventListener"),r.__adrumInterceptor=n):null)return(n=Array.prototype.slice.call(arguments))[1]=r,u.log("M55"),n;u.log("M56",t,e)}}},c.df=5,c.Gb=50,c.Fb=50,c.Ef={"http:":"80","https:":"443"},t.na=c,t.ia=new t.na}(t=t||{}),m=t=t||{},(v=m.correlation||(m.correlation={})).startTimeCookie=null,v.cookieMetadataChunks=null,v.sc=function(t,e){m.log("M57");for(var n=e?e.length:0,r=[],o=t.split(";"),i=0;i<o.length;i++){var a=o[i],s=function(t,e){var n=/^\s*(ADRUM_(\d+)_(\d+)_(\d+))=(.*)\s*$/i.exec(t);if(n){var r=n[1],o=n[4],t=n[5];if(Number(n[3])===e)return W(r),{index:Number(o),value:t}}return null}(a,n);s?r.push(s):null!=(a=function(t){var e=/^\s*ADRUM=s=([\d]+)&r=(.*)\s*/.exec(t);if(e)return m.log("M59",t),3===e.length?(W("ADRUM"),{startTime:Number(e[1]),startPage:e[2]}):(m.error("M60",t),null)}(a))&&(v.startTimeCookie=a)}for(Array.prototype.sort.call(r,function(t,e){return t.index-e.index}),a=[],i=0;i<r.length;i++)a.push(r[i].value);for(i=0;i<o.length;i++)(r=function(t,e){var n=[];if(o=/^\s*(ADRUM_BT\w*)=(.*)\s*$/i.exec(t)){var r=o[1],o=o[2].replace(/^"|"$/g,""),t=(o=decodeURIComponent(o).split("|"))[0].split(":");if("R"===t[0]&&Number(t[1])===e)for(W(r),r=1;r<o.length;r++)n.push(o[r])}return n}(o[i],n))&&0<r.length&&(a=a.concat(r));v.cookieMetadataChunks=a},m.correlation.eck=v.sc,(h=t=t||{}).report=function(t){h.utils.isObject(t)&&h.utils.isFunction(t.type)?-1==[0,2,3,4].indexOf(t.type())?h.reportAPIMessage(0,t.type()+"is not a valid external event type","ADRUM.report",Array.prototype.slice.call(arguments)):h.utils.lb(function(){h.command("reportEvent",t)}):h.reportAPIMessage(1,"","ADRUM.report",Array.prototype.slice.call(arguments))},"APP_KEY_NOT_SET"===($=t=t||{}).conf.appKey&&"undefined"!=typeof console&&void 0!==console.log&&console.log("AppDynamics EUM cloud application key missing. Please specify window['adrum-app-key']"),$.correlation.sc(document.cookie,document.referrer),$.command("mark","firstbyte",window["adrum-start-time"]),$.monitor.Cd($.monitor.Ra,$.monitor.Hf,$.monitor.perfMonitor,$.monitor.ia),(q=(q=(q=t=t||{}).ng||(q.ng={})).c||(q.c={})).Xc="locationChangeStart",q.Og="locationChangeSuccess",q.yd="routeChangeStart",q.zd="routeChangeSuccess",q.Gd="stateChangeStart",q.Hd="stateChangeSuccess",q.Rd="viewContentLoaded",q.qg="includeContentRequested",q.pg="includeContentLoaded",q.qc="digest",q.Di="outstandingRequestsComplete",q.jc="beforeNgXhrRequested",q.ac="afterNgXhrRequested",q.Ci="ngXhrLoaded",q.mc="$$completeOutstandingRequest",$=t=t||{},f=$.Vb||($.Vb={}),d=$.utils.hasOwnPropertyDefined,f.VERSION="2.3.5",f.la={Ye:1,Qe:2,Cb:3,ci:4},f.Error={se:100,di:200,re:300},f.ma="*",f.create=function(t,e){function n(t){var e=t.from instanceof Array?t.from:t.from?[t.from]:[f.ma];s[t.name]=s[t.name]||{};for(var n=0;n<e.length;n++)u[e[n]]=u[e[n]]||[],u[e[n]].push(t.name),s[t.name][e[n]]=t.to||e[n]}var r="string"==typeof t.initial?{state:t.initial}:t.initial,o=e||t.target||{},i=t.events||[],a=t.callbacks||{},s={},u={};r&&(r.event=r.event||"startup",n({name:r.event,from:"none",to:r.state}));for(var c,l=0;l<i.length;l++)n(i[l]);for(c in s)d(s,c)&&(o[c]=function(o,i){return function(){var t=this.current,e=i[t]||i[f.ma]||t,n=Array.prototype.slice.call(arguments);if(this.uf(o))return this.error(o,t,e,n,f.Error.se,"event "+o+" inappropriate in current state "+this.current);if(!1===Q(this,this["onbefore"+o],o,t,e,n))return f.la.Cb;if(e===f.ma&&(e=t),t===e)return Q(this,this["onafter"+o]||this["on"+o],o,t,e,n),f.la.Qe;var r=this;return!(this.transition=function(){return r.transition=null,r.current=e,Q(r,r["onenter"+e]||r["on"+e],o,t,e,n),Q(r,r["onafter"+o]||r["on"+o],o,t,e,n),f.la.Ye})===Q(this,this["onleave"+t],o,t,e,n)?(this.transition=null,f.la.Cb):this.transition?this.transition():void 0}}(c,s[c]));for(c in a)d(a,c)&&(o[c]=a[c]);return o.current="none",o.wi=function(t){return t instanceof Array?0<=t.indexOf(this.current):this.current===t},o.tf=function(t){return!this.transition&&(d(s[t],this.current)||d(s[t],f.ma))},o.uf=function(t){return!this.tf(t)},o.Fa=function(){return u[this.current]},o.error=t.error||function(t,e,n,r,o,i,a){throw a||i},r&&!r.defer&&o[r.event](),o},c=t=t||{},l=c.events||(c.events={}),p=l.EventTracker,g(z,p),z.prototype.type=function(){return 3},z.prototype.cg=function(){return l.EventTracker.fc(this.guid(),this.url(),this.type())},z.prototype.Fd=function(t){var e=this.cg();t.set("parent",e),c.log("M61",e.guid(),e.url())},z.prototype.startCorrelatingXhrs=function(){c.log("M62"),this.Fd(c.monitor.ia)},z.prototype.stopCorrelatingXhrs=function(){c.monitor.ia.set("parent",null),c.log("M63")},z.prototype.zh=function(){c.log("M64"),this.Fd(c.monitor.Ra)},z.prototype.start=function(){this.markVirtualPageStart(),this.startCorrelatingXhrs()},z.prototype.end=function(){this.markVirtualPageEnd(),this.stopCorrelatingXhrs()},q=z,l.VPageView=q,l.aa(l.w[3],q.prototype),l.gc(l.metricSpec[3],q.prototype),$=t=t||{},(q=(q=$.ng||($.ng={})).conf||(q.conf={})).disabled=$.conf.userConf&&$.conf.userConf.spa&&$.conf.userConf.spa.angular&&$.conf.userConf.spa.angular.disable,q.distinguishVPwithItsTemplateUrl=!!($.conf.userConf&&$.conf.userConf.spa&&$.conf.userConf.spa.angular&&!0===$.conf.userConf.spa.angular.distinguishVPwithItsTemplateUrl),q.xhr={},q.metrics={includeResTimingInEndUserResponseTiming:!0},$.conf.userConf&&$.conf.userConf.spa&&$.conf.userConf.spa.angular&&$.conf.userConf.spa.angular.vp&&($.conf.userConf.spa.angular.vp.xhr&&$.monitor.na.nd(q.xhr,$.conf.userConf.spa.angular.vp.xhr),$.conf.userConf.spa.angular.vp.metrics&&$.utils.mergeJSON(q.metrics,$.conf.userConf.spa.angular.vp.metrics)),s=t=t||{},u=s.ng||(s.ng={}),r=s.events.VPageView,g(G,r),G.prototype.type=function(){return 3},G.prototype.Ab=function(){this.markViewChangeStart(),this.markVirtualPageStart(this.getViewChangeStart()),this.timestamp(this.getViewChangeStart())},G.prototype.rg=function(){this.digestCount(this.digestCount()+1)},G.prototype.sg=function(){this.V++,s.log("increasing xhr count "+this.V+" pending xhr requests")},G.prototype.Df=function(){this.V--,s.log("decreasing xhr count "+this.V+" pending xhr requests")},G.prototype.lg=function(){var t=this.perf.getEntryByName(s.events.b.Vd);return s.log("xhrCount "+this.V+" xhrReuqestCompleted "+t),0<this.V},G.prototype.qf=function(){var t={Ea:0},e=document.querySelectorAll("ng-view, [ng-view], .ng-view, [ui-view]");if(e&&0<e.length)for(var n in G.ud)for(var r=0;r<e.length;r++){var o=angular.element(e[r]).find(n);if(0<o.length)for(var i=0;i<o.length;i++){var a=o[i][G.ud[n].sb];(a=a?decodeURIComponent(a):null)&&!t[a]&&(t[a]=n,t.Ea++)}}this.da=t},G.prototype.pf=function(t){return!!this.da[decodeURIComponent(t.name)]},G.prototype.rf=function(){var t=[],e=this;0<this.da.Ea&&(t=s.monitor.perfMonitor.Dc().filter(function(t){return e.pf(t)})),this.resTiming(t)},G.Sf=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];2!==t[n].eventType&&101!==t[n].eventType||s.monitor.na.Ed(r.eventUrl,r.method,u.conf.xhr)||e.push(t[n])}return e},G.dg=function(t){for(var e=-1,n=0,r=t.length;n<r;n++)e=Math.max(e,t[n].timestamp+t[n].metrics.PLT);return e},G.prototype.kf=function(){var t,e;u.conf.xhr&&(t=G.Sf(s.channel.getEventsWithParentGUID(this.guid())),0<(t=G.dg(t))&&(e=this.perf.getEntryByName(s.events.b.Vd),this.markXhrRequestsCompleted(Math.min(e&&e.startTime||Number.MAX_VALUE,t))))},G.prototype.adjustTimings=function(){this.kf();var t=this.getViewDOMLoaded(),e=this.getXhrRequestsCompleted(),t=Math.max(t,e);u.conf.metrics.includeResTimingInEndUserResponseTiming&&(this.jf(),e=this.getViewResourcesLoaded(),e=Math.max(t,e),s.log("adjust this.end from %s to %s",t,e),t=e),this.markVirtualPageEnd(t)},G.prototype.jf=function(){if(0<this.da.Ea){this.rf();var t=this.resTiming();if(t&&t.length>=this.da.Ea){for(var e=[],n=0;n<t.length;n++)e.push(t[n].responseEnd);t=Math.max.apply(Math,e),this.markViewResourcesLoaded(s.PerformanceTracker.La(t))}}},G.prototype.identifier=function(t){var e=this.Td;return s.utils.isDefined(t)&&(this.Td=G.Qf(t),this.url(this.Td.url)),e},G.Qf=function(t){var e={};return t&&t.j?(e.j={eb:""},s.utils.mergeJSON(e.j,{eb:t.j.originalPath,ea:t.j.template,fa:t.j.templateUrl})):t&&t.state&&(e.state={url:""},s.utils.mergeJSON(e.state,{url:t.state.url,name:t.state.name,ea:t.state.template,fa:t.state.templateUrl})),e},G.ud={img:{sb:"src"},script:{sb:"src"},link:{sb:"href"}},$=G,u.NgVPageView=$,s.events.aa(s.events.w[102],$.prototype),a=t=t||{},e=a.ng||(a.ng={}),H.prototype.qh=function(){var t=this;e.conf.metrics.includeResTimingInEndUserResponseTiming?(a.log("M65"),setTimeout(function(){t.hb()},H.$e)):setTimeout(function(){t.hb()},H.af)},H.prototype.hb=function(){a.log("M66");var t=this.h;t.parent(a.monitor.DOMEventsMonitor.currentBasePage),a.command("call",function(){t.adjustTimings(),a.reporter.reportEvent(t)})},H.prototype.vh=function(t){this.h=t},H.$e=5e3,H.af=2*a.monitor.na.Gb,$=H,e.VirtualPageStateMachine=$,a.Vb.create({events:[{name:"start",from:"none",to:"ChangeView"},{name:"viewLoaded",from:"ChangeView",to:"XhrPending"},{name:"xhrCompleted",from:"XhrPending",to:"End"},{name:"abort",from:"*",to:"none"},{name:"init",from:"*",to:"none"},{name:"locChange",from:"*",to:"*"},{name:"beforeXhrReq",from:"*",to:"*"},{name:"afterXhrReq",from:"*",to:"*"}],error:function(t){a.log("M67"+t)},callbacks:{onChangeView:function(){this.h.Ab(),this.h.zh()},onviewLoaded:function(){this.h.markViewDOMLoaded()},onXhrPending:function(){this.h.Qc&&this.xhrCompleted()},onleaveXhrPending:function(t,e,n){return"abort"===t?(this.hb(),!0):"xhrCompleted"===t&&"End"===n?!this.h.lg()&&(this.h.markXhrRequestsCompleted(),!0):void 0},onEnd:function(){this.h.qf(),this.qh()},oninit:function(t,e,n,r){this.vh(r),a.monitor.ia.td()},onlocChange:function(t,e,n,r){this.h.identifier.url=r,this.h.nb({url:r})},onbeforeXhrReq:function(t,e,n,r){var o=this.h;return o.Qc=!1,a.log("M68",r&&r[1]||"",o.guid()),o.sg(),o.startCorrelatingXhrs(),r[3]&&(r[3]=a.aop.before(r[3],function(t,e,n){a.log("M69"),o.Df(),n&&(t=a.utils.fh(n)["content-type"])&&0<=t.indexOf("text/html")&&o.markViewFragmentsLoaded()})),r},onafterXhrReq:function(){this.h.stopCorrelatingXhrs()}}},$.prototype),function(o){function i(){this.n=new a.VirtualPageStateMachine,this.distinguishVPwithItsTemplateUrl=o.ng.conf.distinguishVPwithItsTemplateUrl}var a;a=o.ng||(o.ng={}),i.prototype.k=function(t,e){switch(o.log("M70",t),t){case a.c.yd:case a.c.Gd:this.n.start();var n=e.next.url||document.URL,r=new a.NgVPageView({url:n,identifier:e.next});this.distinguishVPwithItsTemplateUrl&&i.Ag(this.n.h,r)?this.n.h.nb({url:n,identifier:e.next}):this.Fh(r);break;case a.c.zd:case a.c.Hd:this.n.h.markViewChangeEnd();break;case a.c.Rd:this.n.viewLoaded();break;case a.c.jc:this.n.beforeXhrReq(e);break;case a.c.ac:this.n.afterXhrReq();break;case a.c.mc:this.n.xhrCompleted();break;case a.c.Xc:this.n.locChange(e.next.url);break;case a.c.qc:this.n.h.rg()}},i.prototype.Fh=function(t){this.n.abort(),this.n.init(t),this.n.start()},i.Ag=function(t,e){t=t.identifier(),e=e.identifier();return!((o.utils.isDefined(t)||o.utils.isDefined(e))&&t!==e&&(!o.utils.isDefined(t)||!o.utils.isDefined(e)||(t.state||e.state?!o.utils.isDefined(t.state)||!o.utils.isDefined(e.state)||t.state.name!==e.state.name||t.state.ea!==e.state.ea||t.state.fa!==e.state.fa||t.state.url!==e.state.url:t.j&&e.j?t.j.eb!==e.j.eb||t.j.ea!==e.j.ea||t.j.fa!==e.j.fa:t.url!==e.url)))},a.bf=i}(t=t||{}),o=t=t||{},i=o.ng||(o.ng={}),n=o.utils.addEventListener,B.prototype.setUp=function(){function t(t){return function(){o.log(t),e.init()}}var e=this;t("M71")(),n(document,"DOMContentLoaded",t("M72")),n(window,"load",t("M73"))},B.prototype.init=function(){var e,t;"undefined"==typeof angular||this.Oc||(this.Oc=!0,o.log("M74"),e=this,(t=angular.module("ng")).config(["$provide",function(t){e.xg(t),e.wg(t)}]),t.run(["$browser",function(t){e.vg(t)}]),o.log("M75"))},B.prototype.wg=function(t){var e=o.aop,n=this;t.decorator("$httpBackend",["$delegate",function(t){return e.around(t,function(){var t=Array.prototype.slice.call(arguments);return n.l.k(i.c.jc,t),t},function(){n.l.k(i.c.ac)},"ng.httpBackend")}])},B.prototype.xg=function(t){var e=o.aop,r=this;t.decorator("$rootScope",["$delegate",function(t){return t.$digest=e.after(t.$digest,function(){r.l.k(i.c.qc)},"ngevents.digest"),t.$on("$locationChangeStart",function(t,e){e={url:e},t=t&&t.ba&&t.ba.$state&&t.ba.$state.current;t&&(e.state=t),r.l.k(i.c.Xc,{next:e})}),t.$on("$locationChangeSuccess",function(){r.l.k(i.c.Og)}),t.$on("$routeChangeStart",function(t,e){var n={url:location.href},e=e&&e.$$route;e&&(n.j=e),r.l.k(i.c.yd,{next:n})}),t.$on("$routeChangeSuccess",function(){r.l.k(i.c.zd)}),t.$on("$stateChangeStart",function(t,e){r.l.k(i.c.Gd,{next:{state:e}})}),t.$on("$stateChangeSuccess",function(){r.l.k(i.c.Hd)}),t.$on("$viewContentLoaded",function(t){var e={url:location.href};(t=t&&t.ba&&t.ba.$state&&t.ba.$state.current)&&(e.state=t),r.l.k(i.c.Rd,{next:e})}),t.$on("$includeContentRequested",function(){r.l.k(i.c.qg)}),t.$on("$includeContentLoaded",function(){r.l.k(i.c.pg)}),t}])},B.prototype.vg=function(t){var e=this;t.$$completeOutstandingRequest=o.aop.before(t.$$completeOutstandingRequest,function(){e.l.k(i.c.mc)})},$=B,i.Yh=$,i.ngMonitor=new $,$=t=t||{},(t=$.ng||($.ng={})).conf.disabled||$.monitor.Cd(t.ngMonitor))};

var OneTrustStub=function(e){"use strict";var p=new function(){this.optanonCookieName="OptanonConsent",this.optanonHtmlGroupData=[],this.optanonHostData=[],this.genVendorsData=[],this.IABCookieValue="",this.oneTrustIABCookieName="eupubconsent",this.oneTrustIsIABCrossConsentEnableParam="isIABGlobal",this.isStubReady=!0,this.geolocationCookiesParam="geolocation",this.EUCOUNTRIES=["BE","BG","CZ","DK","DE","EE","IE","GR","ES","FR","IT","CY","LV","LT","LU","HU","MT","NL","AT","PL","PT","RO","SI","SK","FI","SE","GB","HR","LI","NO","IS"],this.stubFileName="otSDKStub",this.DATAFILEATTRIBUTE="data-domain-script",this.bannerScriptName="otBannerSdk.js",this.mobileOnlineURL=[],this.isMigratedURL=!1,this.migratedCCTID="[[OldCCTID]]",this.migratedDomainId="[[NewDomainId]]",this.userLocation={country:"",state:""}};(n={})[n.Unknown=0]="Unknown",n[n.BannerCloseButton=1]="BannerCloseButton",n[n.ConfirmChoiceButton=2]="ConfirmChoiceButton",n[n.AcceptAll=3]="AcceptAll",n[n.RejectAll=4]="RejectAll",n[n.BannerSaveSettings=5]="BannerSaveSettings",(t={})[t.Purpose=1]="Purpose",t[t.SpecialFeature=2]="SpecialFeature",(n={}).Legal="legal",n.UserFriendly="user_friendly",(t={}).Top="top",t.Bottom="bottom",(n={})[n.Banner=0]="Banner",n[n.PrefCenterHome=1]="PrefCenterHome",n[n.VendorList=2]="VendorList",n[n.CookieList=3]="CookieList",(t={})[t.RightArrow=39]="RightArrow",t[t.LeftArrow=37]="LeftArrow",(n={}).AfterTitle="AfterTitle",n.AfterDescription="AfterDescription",n.AfterDPD="AfterDPD",(t={}).PlusMinus="Plusminus",t.Caret="Caret",t.NoAccordion="NoAccordion",(n={}).Consent="Consent",n.LI="LI",n.AddtlConsent="AddtlConsent",(t={}).Iab1Pub="eupubconsent",t.Iab2Pub="eupubconsent-v2",t.Iab1Eu="euconsent",t.Iab2Eu="euconsent-v2",(n={})[n.Disabled=0]="Disabled",n[n.Consent=1]="Consent",n[n.LegInt=2]="LegInt",(t={})[t["Banner - Allow All"]=1]="Banner - Allow All",t[t["Banner - Reject All"]=2]="Banner - Reject All",t[t["Banner - Close"]=3]="Banner - Close",t[t["Preference Center - Allow All"]=4]="Preference Center - Allow All",t[t["Preference Center - Reject All"]=5]="Preference Center - Reject All",t[t["Preference Center - Confirm"]=6]="Preference Center - Confirm",(n={}).Active="1",n.InActive="0",(t={}).Host="Host",t.GenVendor="GenVen",(n={})[n.Host=1]="Host",n[n.GenVen=2]="GenVen",n[n.HostAndGenVen=3]="HostAndGenVen",(t={})[t.minDays=1]="minDays",t[t.maxDays=30]="maxDays",t[t.maxYear=31536e3]="maxYear",t[t.maxSecToDays=86400]="maxSecToDays",(n={})[n.RTL=0]="RTL",n[n.LTR=1]="LTR",(t={})[t.GoogleVendor=1]="GoogleVendor",t[t.GeneralVendor=2]="GeneralVendor",(t=n={})[t.Days=1]="Days",t[t.Weeks=7]="Weeks",t[t.Months=30]="Months",t[t.Years=365]="Years",(t={}).Checkbox="Checkbox",t.Toggle="Toggle",(t={}).SlideIn="Slide_In",t.FadeIn="Fade_In",t.RemoveAnimation="Remove_Animation",(t={}).Link="Link",t.Icon="Icon",(t={}).consent="consent",t.set="set",(t={}).update="update",t.default="default",t.ads_data_redaction="ads_data_redaction",(t={}).analytics_storage="analytics_storage",t.ad_storage="ad_storage",t.region="region",t.wait_for_update="wait_for_update",(t={}).granted="granted",t.denied="denied";var a="otpreview",t=((t={})[n.Days]="PCenterVendorListLifespanDay",t[n.Weeks]="LfSpnWk",t[n.Months]="PCenterVendorListLifespanMonth",t[n.Years]="LfSpnYr",o.prototype.initConsentSDK=function(){this.initCustomEventPolyfill(),this.ensureHtmlGroupDataInitialised(),this.updateGtmMacros(),this.getParam(),this.fetchBannerSDKDependency()},o.prototype.fetchBannerSDKDependency=function(){this.setDomainDataFileURL(),this.otFetch(p.bannerDataParentURL,this.getLocation.bind(this))},o.prototype.getLocation=function(e){if(!e.RuleSet[0].Type)return this.iabTypeAdded=!1,window.__cmp=this.executeCmpApi,window.__tcfapi=this.executeTcfApi,this.intializeIabStub(),this.addBannerSDKScript(e);var t,o=window;o.OneTrust&&o.OneTrust.geolocationResponse?(t=o.OneTrust.geolocationResponse,this.setGeoLocation(t.countryCode,t.stateCode),this.addBannerSDKScript(e)):(o=this.readCookieParam(p.optanonCookieName,p.geolocationCookiesParam))||e.SkipGeolocation?(t=o.split(";")[0],o=o.split(";")[1],this.setGeoLocation(t,o),this.addBannerSDKScript(e)):this.getGeoLocation(e)},o.prototype.getGeolocationURL=function(e){var t=e.TenantFeatures,o=""+p.stubScriptElement.getAttribute("src").split(p.stubFileName)[0]+e.Version;if(new RegExp("^file://","i").test(o)&&e.MobileSDK){o="/"+e.GeolocationUrl.replace(/^(http|https):\/\//,"").split("/").slice(1).join("/")+".js";return t&&t.CookieV2GeolocationJsonApi?p.storageBaseURL+o:"."+o}return e.GeolocationUrl},o.prototype.geoLocationJsonCallback=function(e,t){t&&this.setGeoLocation(t.country,t.state),this.addBannerSDKScript(e)},o.prototype.getGeoLocation=function(e){var t=this,o=e.TenantFeatures,n=this.getGeolocationURL(e);o&&o.CookieV2GeolocationJsonApi?this.otFetch(n,this.geoLocationJsonCallback.bind(this,e),!0):(window.jsonFeed=function(e){t.setGeoLocation(e.country,e.state)},this.jsonp(n,this.addBannerSDKScript.bind(this,e)))},o.prototype.setGeoLocation=function(e,t){p.userLocation={country:e,state:t=void 0===t?"":t}},o.prototype.otFetch=function(e,t,o){var n;void 0===o&&(o=!1),new RegExp("^file://","i").test(e)?this.otFetchOfflineFile(e,t):(p.mobileOnlineURL.push(e),(n=new XMLHttpRequest).onload=function(){t(JSON.parse(this.responseText))},n.onerror=function(){t()},n.open("GET",e),o&&n.setRequestHeader("accept","application/json"),n.send())},o.prototype.otFetchOfflineFile=function(e,t){var o=(e=e.replace(".json",".js")).split("/"),n=o[o.length-1].split(".js")[0];this.jsonp(e,function(){t(window[n])})},o.prototype.jsonp=function(e,t){var o=document.createElement("script");o.setAttribute("src",e),o.async=!0,o.type="text/javascript",this.crossOrigin&&o.setAttribute("crossorigin",this.crossOrigin),document.getElementsByTagName("head")[0].appendChild(o),new RegExp("^file://","i").test(e)||p.mobileOnlineURL.push(e),t&&(o.onload=o.onerror=function(){t()})},o.prototype.getRegionSet=function(e){var t,o,n,a=p.userLocation,i=e.RuleSet.filter(function(e){return!0===e.Default});if(!a.country&&!a.state)return i&&0<i.length?i[0]:null;for(var r=a.state.toLowerCase(),s=a.country.toLowerCase(),l=0;l<e.RuleSet.length;l++)if(!0===e.RuleSet[l].Global)n=e.RuleSet[l];else{var c=e.RuleSet[l].States;if(c[s]&&0<=c[s].indexOf(r)){o=e.RuleSet[l];break}0<=e.RuleSet[l].Countries.indexOf(s)&&(t=e.RuleSet[l])}return o||t||n},o.prototype.ensureHtmlGroupDataInitialised=function(){this.initializeIABData(),this.initializeGroupData(),this.initializeHostData(),this.initializeGenVenData()},o.prototype.initializeGroupData=function(){var e=this.readCookieParam(p.optanonCookieName,"groups");e&&(p.optanonHtmlGroupData=this.deserialiseStringToArray(e))},o.prototype.initializeHostData=function(){var e=this.readCookieParam(p.optanonCookieName,"hosts");e&&(p.optanonHostData=this.deserialiseStringToArray(e))},o.prototype.initializeGenVenData=function(){var e=this.readCookieParam(p.optanonCookieName,"genVendors");e&&(p.genVendorsData=this.deserialiseStringToArray(e))},o.prototype.initializeIABData=function(){this.validateIABGDPRApplied(),this.validateIABGlobalScope()},o.prototype.validateIABGlobalScope=function(){var e=this.readCookieParam(p.optanonCookieName,p.oneTrustIsIABCrossConsentEnableParam);e?"true"===e?(p.hasIABGlobalScope=!0,p.isStubReady=!1):(p.hasIABGlobalScope=!1,p.IABCookieValue=this.getCookie(p.oneTrustIABCookieName)):p.isStubReady=!1},o.prototype.validateIABGDPRApplied=function(){var e=this.readCookieParam(p.optanonCookieName,p.geolocationCookiesParam).split(";")[0];e?this.isBoolean(e)?p.oneTrustIABgdprAppliesGlobally="true"===e:p.oneTrustIABgdprAppliesGlobally=0<=p.EUCOUNTRIES.indexOf(e):p.isStubReady=!1},o.prototype.isBoolean=function(e){return"true"===e||"false"===e},o.prototype.readCookieParam=function(e,t){var o,n,a,i,e=this.getCookie(e);if(e){for(n={},a=e.split("&"),o=0;o<a.length;o+=1)i=a[o].split("="),n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]).replace(/\+/g," ");return t&&n[t]?n[t]:t&&!n[t]?"":n}return""},o.prototype.getCookie=function(e){if(this.isAmp){var t=JSON.parse(window.localStorage.getItem(this.domainId))||{};if(t)return t[e]||null}for(var o,n=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i+=1){for(o=a[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(n))return o.substring(n.length,o.length)}return null},o.prototype.updateGtmMacros=function(){for(var e=[],t=0;t<p.optanonHtmlGroupData.length;t++)this.endsWith(p.optanonHtmlGroupData[t],":1")&&e.push(p.optanonHtmlGroupData[t].replace(":1",""));for(t=0;t<p.optanonHostData.length;t++)this.endsWith(p.optanonHostData[t],":1")&&e.push(p.optanonHostData[t].replace(":1",""));for(t=0;t<p.genVendorsData.length;t++)this.endsWith(p.genVendorsData[t],":1")&&e.push(p.genVendorsData[t].replace(":1",""));var o=","+this.serialiseArrayToString(e)+",";window.OnetrustActiveGroups=o,window.OptanonActiveGroups=o,void 0!==window.dataLayer?window.dataLayer.constructor===Array&&(window.dataLayer.push({OnetrustActiveGroups:o}),window.dataLayer.push({OptanonActiveGroups:o})):window.dataLayer=[{event:"OneTrustLoaded",OnetrustActiveGroups:o},{event:"OptanonLoaded",OptanonActiveGroups:o}];var n,a=new CustomEvent("consent.onetrust",{detail:e});e.length&&(window.dataLayer.constructor===Array&&window.dataLayer.push({event:"OneTrustGroupsUpdated",OnetrustActiveGroups:o}),n=new CustomEvent("OneTrustGroupsUpdated",{detail:e})),setTimeout(function(){window.dispatchEvent(a),n&&window.dispatchEvent(n)})},o.prototype.deserialiseStringToArray=function(e){return e?e.split(","):[]},o.prototype.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},o.prototype.serialiseArrayToString=function(e){return e.toString()},o.prototype.setStubScriptElement=function(){p.stubScriptElement=document.querySelector("script[src*='"+p.stubFileName+"']"),p.stubScriptElement&&p.stubScriptElement.hasAttribute(p.DATAFILEATTRIBUTE)?this.domainId=p.stubScriptElement.getAttribute(p.DATAFILEATTRIBUTE).trim():p.stubScriptElement||(p.stubScriptElement=document.querySelector("script[src*='"+p.migratedCCTID+"']"),p.stubScriptElement&&(p.isMigratedURL=!0,this.domainId=p.migratedDomainId.trim()))},o.prototype.setDomainDataFileURL=function(){this.setStubScriptElement();var e=p.stubScriptElement.getAttribute("src"),t=-1<e.indexOf("/consent");e&&(p.isMigratedURL?p.storageBaseURL=e.split("/consent/"+p.migratedCCTID)[0]:p.storageBaseURL=(t?e.split("/consent"):e.split("/scripttemplates/"+p.stubFileName))[0]),this.isPreview&&-1===this.domainId.indexOf("test")?this.domainId=this.domainId+"-test":this.isPreview=!1,p.bannerBaseDataURL=p.storageBaseURL&&p.storageBaseURL+"/consent/"+this.domainId,p.bannerDataParentURL=p.bannerBaseDataURL+"/"+this.domainId+".json"},o.prototype.initCustomEventPolyfill=function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o}e.prototype=window.Event.prototype,window.CustomEvent=e},o.prototype.removeTcf=function(){delete window.__tcfapi;var e=document.querySelectorAll("iframe[name='__tcfapiLocator']")[0];e&&e.parentElement.removeChild(e)},o.prototype.getParamForIE=function(){return{get:function(e){e=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.search);return null===e?null:decodeURI(e[1])||""}}},o.prototype.getParam=function(){window.document.documentMode||!window.URLSearchParams?this.urlParams=this.getParamForIE():this.urlParams=new URLSearchParams(window.location.search);var e="true"===this.urlParams.get("otreset"),t="true"===this.urlParams.get("otpreview");this.geoFromUrl=(this.urlParams.get("otgeo")||"").toLowerCase();var o=this.readCookieParam(a,"expiry"),n=this.readCookieParam(a,"geo");this.isReset=e||o&&new Date(o)<new Date,this.isPreview=!this.isReset&&(t||o&&new Date(o)>new Date),this.setGeoParam(this.geoFromUrl||n)},o.prototype.setGeoParam=function(e){var t;e&&((t=window).OneTrust||(t.OneTrust={}),e=e.split(","),t.OneTrust.geolocationResponse={countryCode:e[0],stateCode:e[1]})},o);function o(){var c=this;this.iabType=null,this.iabTypeAdded=!0,this.crossOrigin=null,this.isAmp=!1,this.domainId="",this.isReset=!1,this.isPreview=!1,this.geoFromUrl="",this.addBannerSDKScript=function(e){var t=null;c.iabTypeAdded&&("IAB"!==(t=c.getRegionSet(e)).Type&&"IAB2"!==t.Type||(c.iabType=t.Type,c.intializeIabStub()),"IAB2"!==t.Type&&c.removeTcf());var o=p.stubScriptElement.cloneNode(!0),n=e.UseSDKRefactor?(p.isMigratedURL&&(o.src=p.storageBaseURL+"/scripttemplates/new/scripttemplates/"+p.stubFileName+".js"),p.storageBaseURL+"/scripttemplates/new/scripttemplates/"+e.Version+"/"+p.bannerScriptName):"5.11.0"===e.Version?(p.isMigratedURL&&(o.src=p.storageBaseURL+"/scripttemplates/old/scripttemplates/"+p.stubFileName+".js"),p.storageBaseURL+"/scripttemplates/old/scripttemplates/5.11.0/"+p.bannerScriptName):(p.isMigratedURL&&(o.src=p.storageBaseURL+"/scripttemplates/"+p.stubFileName+".js"),p.storageBaseURL+"/scripttemplates/"+e.Version+"/"+p.bannerScriptName);["charset","data-language","data-document-language","data-domain-script","crossorigin"].forEach(function(e){p.stubScriptElement.getAttribute(e)&&o.setAttribute(e,p.stubScriptElement.getAttribute(e))}),c.crossOrigin=p.stubScriptElement.getAttribute("crossorigin")||null,c.isAmp=!!p.stubScriptElement.getAttribute("amp"),window.otStubData={domainData:e,stubElement:o,bannerBaseDataURL:p.bannerBaseDataURL,mobileOnlineURL:p.mobileOnlineURL,userLocation:p.userLocation,regionRule:t,crossOrigin:c.crossOrigin,isAmp:c.isAmp,isPreview:c.isPreview,isReset:c.isReset,geoFromUrl:c.geoFromUrl,domainId:c.domainId,urlParams:c.urlParams},c.jsonp(n,null)},this.intializeIabStub=function(){var e=window;c.iabTypeAdded?("IAB"===c.iabType?void 0===e.__cmp&&(window.__cmp=c.executeCmpApi):void 0===e.__tcfapi&&(window.__tcfapi=c.executeTcfApi),c.addIabFrame()):c.addBackwardIabFrame(),e.receiveOTMessage=c.receiveIabMessage,(e.attachEvent||window.addEventListener)("message",e.receiveOTMessage,!1)},this.addIabFrame=function(){var e=window,t="IAB"===c.iabType?"__cmpLocator":"__tcfapiLocator";e.frames[t]||(e.document.body?c.addLocator(t,"CMP"):setTimeout(c.addIabFrame,5))},this.addBackwardIabFrame=function(){var e=window,t="__cmpLocator";e.frames[t]||(e.document.body?c.addLocator(t,"CMP"):setTimeout(c.addIabFrame,5));t="__tcfapiLocator";e.frames[t]||(e.document.body?c.addLocator(t,"TCF"):setTimeout(c.addIabFrame,5))},this.addLocator=function(e,t){var o=window,n=o.document.createElement("iframe");n.style.cssText="display:none",n.name=e,n.setAttribute("title",t+" Locator"),o.document.body.appendChild(n)},this.receiveIabMessage=function(o){var n,a,e,i,r,t,s="string"==typeof o.data,l={};try{l=s?JSON.parse(o.data):o.data}catch(l){}l.__cmpCall&&"IAB"===c.iabType?(n=l.__cmpCall.callId,a=l.__cmpCall.command,e=l.__cmpCall.parameter,c.executeCmpApi(a,e,function(e,t){t={__cmpReturn:{returnValue:e,success:t,callId:n,command:a}};o.source.postMessage(s?JSON.stringify(t):t,o.origin)})):l.__cmpCall&&"IAB2"===c.iabType&&console.log("Expecting IAB TCF v2.0 vendor iFrame call; Received IAB TCF v1.1"),l.__tcfapiCall&&"IAB2"===c.iabType?(i=l.__tcfapiCall.callId,r=l.__tcfapiCall.command,e=l.__tcfapiCall.parameter,t=l.__tcfapiCall.version,c.executeTcfApi(r,e,function(e,t){t={__tcfapiReturn:{returnValue:e,success:t,callId:i,command:r}};o&&o.source&&o.source.postMessage&&o.source.postMessage(s?JSON.stringify(t):t,"*")},t)):l.__tcfapiCall&&"IAB"===c.iabType&&console.log("Expecting IAB TCF v1.1 vendor iFrame call; Received IAB TCF v2.0")},this.executeCmpApi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c.iabType="IAB";var o=e[0],n=e[1],a=e[2];if("function"==typeof a&&o)if(p.isStubReady&&p.IABCookieValue)switch(o){case"ping":c.getPingRequest(a,!0);break;case"getConsentData":c.getConsentDataRequest(a);break;default:c.addToQueue(o,n,a)}else c.addToQueue(o,n,a)},this.executeTcfApi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(c.iabType="IAB2",!e.length)return window.__tcfapi.a||[];var o=e[0],n=e[1],a=e[2],i=e[3];"function"==typeof a&&o&&("ping"===o?c.getPingRequest(a):c.addToQueue(o,n,a,i))},this.addToQueue=function(e,t,o,n){var a=window,i="IAB"===c.iabType?"__cmp":"__tcfapi";a[i].a=a[i].a||[],a[i].a.push([e,t,o,n])},this.getPingRequest=function(e,t){var o,n;void 0===t&&(t=!1),e&&(n=!(o={}),"IAB"===c.iabType?(o={gdprAppliesGlobally:p.oneTrustIABgdprAppliesGlobally,cmpLoaded:t},n=!0):"IAB2"===c.iabType&&(o={gdprApplies:p.oneTrustIABgdprAppliesGlobally,cmpLoaded:!1,cmpStatus:"stub",displayStatus:"stub",apiVersion:"2.0",cmpVersion:void 0,cmpId:void 0,gvlVersion:void 0,tcfPolicyVersion:void 0},n=!0),e(o,n))},this.getConsentDataRequest=function(e){e&&p.IABCookieValue&&e({gdprApplies:p.oneTrustIABgdprAppliesGlobally,hasGlobalScope:p.hasIABGlobalScope,consentData:p.IABCookieValue},!0)},this.initConsentSDK()}var n=new t;return e.OtSDKStub=t,e.otSdkStub=n,e}({});

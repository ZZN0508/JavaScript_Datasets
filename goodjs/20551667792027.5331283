jQuery.cookie=function(n,e,t){if(1<arguments.length&&"[object Object]"!==String(e))return t=jQuery.extend({},t),null==e&&(t.expires=-1),"number"==typeof t.expires&&(r=t.expires,(i=t.expires=new Date).setDate(i.getDate()+r)),e=String(e),document.cookie=[encodeURIComponent(n),"=",t.raw?e:encodeURIComponent(e),t.expires?"; expires="+t.expires.toUTCString():"",t.path?"; path="+t.path:"",t.domain?"; domain="+t.domain:"",t.secure?"; secure":""].join("");var r,i=(t=e||{}).raw?function(n){return n}:decodeURIComponent;return(r=new RegExp("(?:^|; )"+encodeURIComponent(n)+"=([^;]*)").exec(document.cookie))?i(r[1]):null},function(){var n=this,e=n._,r=Array.prototype,t=Object.prototype,i=Function.prototype,u=r.push,c=r.slice,l=r.concat,p=t.toString,a=t.hasOwnProperty,o=Array.isArray,s=Object.keys,f=i.bind,h=function(n){return n instanceof h?n:this instanceof h?void(this._wrapped=n):new h(n)};"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=h:exports)._=h:n._=h,h.VERSION="1.7.0";function d(i,a,n){if(void 0===a)return i;switch(null==n?3:n){case 1:return function(n){return i.call(a,n)};case 2:return function(n,e){return i.call(a,n,e)};case 3:return function(n,e,t){return i.call(a,n,e,t)};case 4:return function(n,e,t,r){return i.call(a,n,e,t,r)}}return function(){return i.apply(a,arguments)}}h.iteratee=function(n,e,t){return null==n?h.identity:h.isFunction(n)?d(n,e,t):h.isObject(n)?h.matches(n):h.property(n)},h.each=h.forEach=function(n,e,t){if(null==n)return n;if(e=d(e,t),(a=n.length)===+a)for(i=0;i<a;i++)e(n[i],i,n);else for(var r=h.keys(n),i=0,a=r.length;i<a;i++)e(n[r[i]],r[i],n);return n},h.map=h.collect=function(n,e,t){if(null==n)return[];e=h.iteratee(e,t);for(var r,i=n.length!==+n.length&&h.keys(n),a=(i||n).length,o=Array(a),u=0;u<a;u++)r=i?i[u]:u,o[u]=e(n[r],r,n);return o};var g="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(n,e,t,r){null==n&&(n=[]),e=d(e,r,4);var i,a=n.length!==+n.length&&h.keys(n),o=(a||n).length,u=0;if(arguments.length<3){if(!o)throw new TypeError(g);t=n[a?a[u++]:u++]}for(;u<o;u++)i=a?a[u]:u,t=e(t,n[i],i,n);return t},h.reduceRight=h.foldr=function(n,e,t,r){null==n&&(n=[]),e=d(e,r,4);var i,a=n.length!==+n.length&&h.keys(n),o=(a||n).length;if(arguments.length<3){if(!o)throw new TypeError(g);t=n[a?a[--o]:--o]}for(;o--;)i=a?a[o]:o,t=e(t,n[i],i,n);return t},h.find=h.detect=function(n,r,e){var i;return r=h.iteratee(r,e),h.some(n,function(n,e,t){if(r(n,e,t))return i=n,!0}),i},h.filter=h.select=function(n,r,e){var i=[];return null==n||(r=h.iteratee(r,e),h.each(n,function(n,e,t){r(n,e,t)&&i.push(n)})),i},h.reject=function(n,e,t){return h.filter(n,h.negate(h.iteratee(e)),t)},h.every=h.all=function(n,e,t){if(null==n)return!0;e=h.iteratee(e,t);for(var r,i=n.length!==+n.length&&h.keys(n),a=(i||n).length,o=0;o<a;o++)if(!e(n[r=i?i[o]:o],r,n))return!1;return!0},h.some=h.any=function(n,e,t){if(null==n)return!1;e=h.iteratee(e,t);for(var r,i=n.length!==+n.length&&h.keys(n),a=(i||n).length,o=0;o<a;o++)if(e(n[r=i?i[o]:o],r,n))return!0;return!1},h.contains=h.include=function(n,e){return null!=n&&(n.length!==+n.length&&(n=h.values(n)),0<=h.indexOf(n,e))},h.invoke=function(n,e){var t=c.call(arguments,2),r=h.isFunction(e);return h.map(n,function(n){return(r?e:n[e]).apply(n,t)})},h.pluck=function(n,e){return h.map(n,h.property(e))},h.where=function(n,e){return h.filter(n,h.matches(e))},h.findWhere=function(n,e){return h.find(n,h.matches(e))},h.max=function(n,r,e){var t,i,a=-1/0,o=-1/0;if(null==r&&null!=n)for(var u=0,s=(n=n.length===+n.length?n:h.values(n)).length;u<s;u++)t=n[u],a<t&&(a=t);else r=h.iteratee(r,e),h.each(n,function(n,e,t){i=r(n,e,t),(o<i||i===-1/0&&a===-1/0)&&(a=n,o=i)});return a},h.min=function(n,r,e){var t,i,a=1/0,o=1/0;if(null==r&&null!=n)for(var u=0,s=(n=n.length===+n.length?n:h.values(n)).length;u<s;u++)(t=n[u])<a&&(a=t);else r=h.iteratee(r,e),h.each(n,function(n,e,t){((i=r(n,e,t))<o||i===1/0&&a===1/0)&&(a=n,o=i)});return a},h.shuffle=function(n){for(var e,t=n&&n.length===+n.length?n:h.values(n),r=t.length,i=Array(r),a=0;a<r;a++)(e=h.random(0,a))!==a&&(i[a]=i[e]),i[e]=t[a];return i},h.sample=function(n,e,t){return null==e||t?(n=n.length!==+n.length?h.values(n):n)[h.random(n.length-1)]:h.shuffle(n).slice(0,Math.max(0,e))},h.sortBy=function(n,r,e){return r=h.iteratee(r,e),h.pluck(h.map(n,function(n,e,t){return{value:n,index:e,criteria:r(n,e,t)}}).sort(function(n,e){var t=n.criteria,r=e.criteria;if(t!==r){if(r<t||void 0===t)return 1;if(t<r||void 0===r)return-1}return n.index-e.index}),"value")};t=function(a){return function(t,r,n){var i={};return r=h.iteratee(r,n),h.each(t,function(n,e){e=r(n,e,t);a(i,n,e)}),i}};h.groupBy=t(function(n,e,t){h.has(n,t)?n[t].push(e):n[t]=[e]}),h.indexBy=t(function(n,e,t){n[t]=e}),h.countBy=t(function(n,e,t){h.has(n,t)?n[t]++:n[t]=1}),h.sortedIndex=function(n,e,t,r){for(var i=(t=h.iteratee(t,r,1))(e),a=0,o=n.length;a<o;){var u=a+o>>>1;t(n[u])<i?a=1+u:o=u}return a},h.toArray=function(n){return n?h.isArray(n)?c.call(n):n.length===+n.length?h.map(n,h.identity):h.values(n):[]},h.size=function(n){return null==n?0:(n.length===+n.length?n:h.keys(n)).length},h.partition=function(n,r,e){r=h.iteratee(r,e);var i=[],a=[];return h.each(n,function(n,e,t){(r(n,e,t)?i:a).push(n)}),[i,a]},h.first=h.head=h.take=function(n,e,t){if(null!=n)return null==e||t?n[0]:e<0?[]:c.call(n,0,e)},h.initial=function(n,e,t){return c.call(n,0,Math.max(0,n.length-(null==e||t?1:e)))},h.last=function(n,e,t){if(null!=n)return null==e||t?n[n.length-1]:c.call(n,Math.max(n.length-e,0))},h.rest=h.tail=h.drop=function(n,e,t){return c.call(n,null==e||t?1:e)},h.compact=function(n){return h.filter(n,h.identity)};function m(n,e,t,r){if(e&&h.every(n,h.isArray))return l.apply(r,n);for(var i=0,a=n.length;i<a;i++){var o=n[i];h.isArray(o)||h.isArguments(o)?e?u.apply(r,o):m(o,e,t,r):t||r.push(o)}return r}h.flatten=function(n,e){return m(n,e,!1,[])},h.without=function(n){return h.difference(n,c.call(arguments,1))},h.uniq=h.unique=function(n,e,t,r){if(null==n)return[];h.isBoolean(e)||(r=t,t=e,e=!1),null!=t&&(t=h.iteratee(t,r));for(var i=[],a=[],o=0,u=n.length;o<u;o++){var s,c=n[o];e?(o&&a===c||i.push(c),a=c):t?(s=t(c,o,n),h.indexOf(a,s)<0&&(a.push(s),i.push(c))):h.indexOf(i,c)<0&&i.push(c)}return i},h.union=function(){return h.uniq(m(arguments,!0,!0,[]))},h.intersection=function(n){if(null==n)return[];for(var e=[],t=arguments.length,r=0,i=n.length;r<i;r++){var a=n[r];if(!h.contains(e,a)){for(var o=1;o<t&&h.contains(arguments[o],a);o++);o===t&&e.push(a)}}return e},h.difference=function(n){var e=m(c.call(arguments,1),!0,!0,[]);return h.filter(n,function(n){return!h.contains(e,n)})},h.zip=function(n){if(null==n)return[];for(var e=h.max(arguments,"length").length,t=Array(e),r=0;r<e;r++)t[r]=h.pluck(arguments,r);return t},h.object=function(n,e){if(null==n)return{};for(var t={},r=0,i=n.length;r<i;r++)e?t[n[r]]=e[r]:t[n[r][0]]=n[r][1];return t},h.indexOf=function(n,e,t){if(null==n)return-1;var r=0,i=n.length;if(t){if("number"!=typeof t)return n[r=h.sortedIndex(n,e)]===e?r:-1;r=t<0?Math.max(0,i+t):t}for(;r<i;r++)if(n[r]===e)return r;return-1},h.lastIndexOf=function(n,e,t){if(null==n)return-1;var r=n.length;for("number"==typeof t&&(r=t<0?r+t+1:Math.min(r,t+1));0<=--r;)if(n[r]===e)return r;return-1},h.range=function(n,e,t){arguments.length<=1&&(e=n||0,n=0),t=t||1;for(var r=Math.max(Math.ceil((e-n)/t),0),i=Array(r),a=0;a<r;a++,n+=t)i[a]=n;return i};function v(){}h.bind=function(t,r){var i,a;if(f&&t.bind===f)return f.apply(t,c.call(arguments,1));if(!h.isFunction(t))throw new TypeError("Bind must be called on a function");return i=c.call(arguments,2),a=function(){if(!(this instanceof a))return t.apply(r,i.concat(c.call(arguments)));v.prototype=t.prototype;var n=new v;v.prototype=null;var e=t.apply(n,i.concat(c.call(arguments)));return h.isObject(e)?e:n}},h.partial=function(i){var a=c.call(arguments,1);return function(){for(var n=0,e=a.slice(),t=0,r=e.length;t<r;t++)e[t]===h&&(e[t]=arguments[n++]);for(;n<arguments.length;)e.push(arguments[n++]);return i.apply(this,e)}},h.bindAll=function(n){var e,t,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)n[t=arguments[e]]=h.bind(n[t],n);return n},h.memoize=function(r,i){function a(n){var e=a.cache,t=i?i.apply(this,arguments):n;return h.has(e,t)||(e[t]=r.apply(this,arguments)),e[t]}return a.cache={},a},h.delay=function(n,e){var t=c.call(arguments,2);return setTimeout(function(){return n.apply(null,t)},e)},h.defer=function(n){return h.delay.apply(h,[n,1].concat(c.call(arguments,1)))},h.throttle=function(t,r,i){var a,o,u,s=null,c=0;i=i||{};function l(){c=!1===i.leading?0:h.now(),s=null,u=t.apply(a,o),s||(a=o=null)}return function(){var n=h.now();c||!1!==i.leading||(c=n);var e=r-(n-c);return a=this,o=arguments,e<=0||r<e?(clearTimeout(s),s=null,c=n,u=t.apply(a,o),s||(a=o=null)):s||!1===i.trailing||(s=setTimeout(l,e)),u}},h.debounce=function(e,t,r){function i(){var n=h.now()-s;n<t&&0<n?a=setTimeout(i,t-n):(a=null,r||(c=e.apply(u,o),a||(u=o=null)))}var a,o,u,s,c;return function(){u=this,o=arguments,s=h.now();var n=r&&!a;return a=a||setTimeout(i,t),n&&(c=e.apply(u,o),u=o=null),c}},h.wrap=function(n,e){return h.partial(e,n)},h.negate=function(n){return function(){return!n.apply(this,arguments)}},h.compose=function(){var t=arguments,r=t.length-1;return function(){for(var n=r,e=t[r].apply(this,arguments);n--;)e=t[n].call(this,e);return e}},h.after=function(n,e){return function(){if(--n<1)return e.apply(this,arguments)}},h.before=function(n,e){var t;return function(){return 0<--n?t=e.apply(this,arguments):e=null,t}},h.once=h.partial(h.before,2),h.keys=function(n){if(!h.isObject(n))return[];if(s)return s(n);var e,t=[];for(e in n)h.has(n,e)&&t.push(e);return t},h.values=function(n){for(var e=h.keys(n),t=e.length,r=Array(t),i=0;i<t;i++)r[i]=n[e[i]];return r},h.pairs=function(n){for(var e=h.keys(n),t=e.length,r=Array(t),i=0;i<t;i++)r[i]=[e[i],n[e[i]]];return r},h.invert=function(n){for(var e={},t=h.keys(n),r=0,i=t.length;r<i;r++)e[n[t[r]]]=t[r];return e},h.functions=h.methods=function(n){var e,t=[];for(e in n)h.isFunction(n[e])&&t.push(e);return t.sort()},h.extend=function(n){if(!h.isObject(n))return n;for(var e,t,r=1,i=arguments.length;r<i;r++)for(t in e=arguments[r])a.call(e,t)&&(n[t]=e[t]);return n},h.pick=function(n,e,t){var r,i={};if(null==n)return i;if(h.isFunction(e))for(r in e=d(e,t),n){var a=n[r];e(a,r,n)&&(i[r]=a)}else{var o=l.apply([],c.call(arguments,1));n=new Object(n);for(var u=0,s=o.length;u<s;u++)(r=o[u])in n&&(i[r]=n[r])}return i},h.omit=function(n,e,t){var r;return e=h.isFunction(e)?h.negate(e):(r=h.map(l.apply([],c.call(arguments,1)),String),function(n,e){return!h.contains(r,e)}),h.pick(n,e,t)},h.defaults=function(n){if(!h.isObject(n))return n;for(var e=1,t=arguments.length;e<t;e++){var r,i=arguments[e];for(r in i)void 0===n[r]&&(n[r]=i[r])}return n},h.clone=function(n){return h.isObject(n)?h.isArray(n)?n.slice():h.extend({},n):n},h.tap=function(n,e){return e(n),n};var y=function(n,e,t,r){if(n===e)return 0!==n||1/n==1/e;if(null==n||null==e)return n===e;n instanceof h&&(n=n._wrapped),e instanceof h&&(e=e._wrapped);var i=p.call(n);if(i!==p.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:0==+n?1/+n==1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e}if("object"!=typeof n||"object"!=typeof e)return!1;for(var a=t.length;a--;)if(t[a]===n)return r[a]===e;var o=n.constructor,u=e.constructor;if(o!==u&&"constructor"in n&&"constructor"in e&&!(h.isFunction(o)&&o instanceof o&&h.isFunction(u)&&u instanceof u))return!1;if(t.push(n),r.push(e),"[object Array]"===i){if(c=(f=n.length)===e.length)for(;f--&&(c=y(n[f],e[f],t,r)););}else{var s,c,l=h.keys(n),f=l.length;if(c=h.keys(e).length===f)for(;f--&&(s=l[f],c=h.has(e,s)&&y(n[s],e[s],t,r)););}return t.pop(),r.pop(),c};h.isEqual=function(n,e){return y(n,e,[],[])},h.isEmpty=function(n){if(null==n)return!0;if(h.isArray(n)||h.isString(n)||h.isArguments(n))return 0===n.length;for(var e in n)if(h.has(n,e))return!1;return!0},h.isElement=function(n){return!(!n||1!==n.nodeType)},h.isArray=o||function(n){return"[object Array]"===p.call(n)},h.isObject=function(n){var e=typeof n;return"function"==e||"object"==e&&!!n},h.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){h["is"+e]=function(n){return p.call(n)==="[object "+e+"]"}}),h.isArguments(arguments)||(h.isArguments=function(n){return h.has(n,"callee")}),"function"!=typeof/./&&(h.isFunction=function(n){return"function"==typeof n||!1}),h.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},h.isNaN=function(n){return h.isNumber(n)&&n!==+n},h.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===p.call(n)},h.isNull=function(n){return null===n},h.isUndefined=function(n){return void 0===n},h.has=function(n,e){return null!=n&&a.call(n,e)},h.noConflict=function(){return n._=e,this},h.identity=function(n){return n},h.constant=function(n){return function(){return n}},h.noop=function(){},h.property=function(e){return function(n){return n[e]}},h.matches=function(n){var i=h.pairs(n),a=i.length;return function(n){if(null==n)return!a;n=new Object(n);for(var e=0;e<a;e++){var t=i[e],r=t[0];if(t[1]!==n[r]||!(r in n))return!1}return!0}},h.times=function(n,e,t){var r=Array(Math.max(0,n));e=d(e,t,1);for(var i=0;i<n;i++)r[i]=e(i);return r},h.random=function(n,e){return null==e&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))},h.now=Date.now||function(){return(new Date).getTime()};i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=h.invert(i),o=function(e){function t(n){return e[n]}var n="(?:"+h.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(n){return r.test(n=null==n?"":""+n)?n.replace(i,t):n}};h.escape=o(i),h.unescape=o(t),h.result=function(n,e){if(null!=n){var t=n[e];return h.isFunction(t)?n[e]():t}};var x=0;h.uniqueId=function(n){var e=++x+"";return n?n+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function _(n){return"\\"+b[n]}var w=/(.)^/,b={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},k=/\\|'|\r|\n|\u2028|\u2029/g;h.template=function(a,n,e){n=h.defaults({},n=!n&&e?e:n,h.templateSettings);var e=RegExp([(n.escape||w).source,(n.interpolate||w).source,(n.evaluate||w).source].join("|")+"|$","g"),o=0,u="__p+='";a.replace(e,function(n,e,t,r,i){return u+=a.slice(o,i).replace(k,_),o=i+n.length,e?u+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":t?u+="'+\n((__t=("+t+"))==null?'':__t)+\n'":r&&(u+="';\n"+r+"\n__p+='"),n}),u+="';\n",u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+(u=!n.variable?"with(obj||{}){\n"+u+"}\n":u)+"return __p;\n";try{var t=new Function(n.variable||"obj","_",u)}catch(n){throw n.source=u,n}e=function(n){return t.call(this,n,h)},n=n.variable||"obj";return e.source="function("+n+"){\n"+u+"}",e},h.chain=function(n){n=h(n);return n._chain=!0,n};function j(n){return this._chain?h(n).chain():n}h.mixin=function(t){h.each(h.functions(t),function(n){var e=h[n]=t[n];h.prototype[n]=function(){var n=[this._wrapped];return u.apply(n,arguments),j.call(this,e.apply(h,n))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];h.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],j.call(this,n)}}),h.each(["concat","join","slice"],function(n){var e=r[n];h.prototype[n]=function(){return j.call(this,e.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}.call(this),function(p){var h={debugMode:!1,log:function(){this.debugMode&&console.log.apply(console,arguments)},url:{click:"http://gargoyle.daum.net/click",impression:"http://gargoyle.daum.net/impression",impression_get:"http://gargoyle.daum.net/impression_get"},data:[],params:{pd:p.now(),pu:location.href,sv:location.hostname,pn:"_main",de:"PC",inf:p.cookie("external_inflow_domain")||"",re:"",lk:""},isPageChangedThenImpLogSended:!0,keepHistory:function(){if(1==window.history.length)try{this.params.re=opener.location.href}catch(n){this.params.re=document.referrer}else this.params.pu!=location.href?(this.isPageChangedThenImpLogSended=!0,this.log("UNONG pageID ê°±ì‹ !!"),this.params.pd=p.now(),this.params.re=this.params.pu):this.params.re||(this.params.re=document.referrer);var n={re:this.params.re,pu:location.href};return this.params.pu=location.href,this.isPageChangedThenImpLogSended&&p.cookie("ggpd",this.params.pd,{domain:"."+location.hostname}),n},initParam:function(n){try{n=n||{},n=p.extend({},n,this.keepHistory()),this.log("%cgaroyle.initParam(params) íŒŒë¼ë¯¸í„° ì…‹íŒ…ì€ ë‹¨ í•œë²ˆë§Œ!! ë‘ë²ˆ ì´ìƒ ë‚˜ì˜¤ë©´ Oh my God!! params =","background: #f00; color: #fff",n),h.clickParams=p.extend({},this.params,n),h.impressionParams=p.extend({},this.params,n);var e=p.extend({},h.impressionParams,{tp:"I"});this.log("UNONG initParam :: ",e),this.sendPageLog(this.url.impression_get,e)}catch(n){this.log(n)}},init:function(n){try{n=n||{},n=p.extend({},n,this.keepHistory()),h.clickParams=p.extend({},h.clickParams||this.params,n),h.impressionParams=p.extend({},h.impressionParams||this.params,n);var e=p.extend({},h.impressionParams,{tp:"I"});this.log("UNONG init :: ",e),this.sendPageLog(this.url.impression_get,e),this.bind()}catch(n){this.log(n)}},sendPageLog:function(n,e){1==this.isPageChangedThenImpLogSended&&(p.support.cors&&0<=h.params.sv.indexOf("daum.net")?p.ajax({url:n,data:e,xhrFields:{withCredentials:!0},success:function(){h.respond=!0}}):p.ajax({url:n,data:e,dataType:"jsonp",success:function(){h.respond=!0}})),this.isPageChangedThenImpLogSended=!1},bind:function(){try{this.log("%cgaroyle.bind() [_GC, _GS, _GL, _GI] ì—˜ë¦¬ë¨¼íŠ¸ì— ì´ë²¤íŠ¸ í• ë‹¹~","background: #0f0; color: #000",this),p("._GC, a:not(._GC_), button:not(._GC_)").each(function(){p(this).removeClass("_GC").addClass("_GC_").click(function(n){h.click(n,this)})}),p("._GS").each(function(){p(this).removeClass("_GS").addClass("_GS_").click(function(n){setTimeout(function(){h.bind()},500)})});var n,e=[];p("._GL:visible").each(function(){var n=h.impression(this);n.items.length&&e.push(n)}),e&&e.length&&(n=p.extend({},h.impressionParams),console.debug(),n.lst=e,this.send(this.url.impression,n),this.isPageChangedThenImpLogSended=!1)}catch(n){this.log(n)}},impression:function(n){try{var e,t,r=p(n),i={la:"",items:[]};return r.parents("div[aria-hidden=true]").length?i:(r.find("._GI:visible").removeClass("_GI").addClass("_GI_").each(function(n){var e=p(this),t={},r=!0;e.parents().each(function(){var n=h.toJson(p(this).data("gg"));r&&n&&(t=p.extend(n,t)),p(this).hasClass("_GL")&&(r=!1)}),t.t&&(i.t=t.t),t.g&&(i.g=t.g),t.a&&(i.a=t.a),t.lk&&(i.lk=t.lk),delete t.t,delete t.g,delete t.a,delete t.lk,p.extend(t,h.toJson(e.data("gg"))),i.items.push(t)}),i.items.length&&(e=!0,t="@"+r.parents().map(function(){var n=h.toJson(p(this).data("gg"));return n&&(i=p.extend(n,i)),(e=e&&/(daum|mArticle|mContent|cMain|slide|mAside).*/g.test(this.id)?!1:e)?h.getLayer(this):""}).get().reverse().slice(2).join(">")+">"+h.getLayer(n),i.la=t,i.s1&&(h.impressionParams.s1=i.s1),i.s2&&(h.impressionParams.s2=i.s2),i.s3&&(h.impressionParams.s3=i.s3),delete i.s1,delete i.s2,delete i.s3),i)}catch(n){this.log(n)}},isClick:function(n){return!(!n||!n.href)&&(/\/product\/[A-E]/g.test(n.href)||-1<n.href.indexOf("/product/#!/")||-1<n.href.indexOf("/productdetail.daum")||-1<n.href.indexOf("#!/detail/")||-1<n.href.indexOf("/go.daum")||-1<n.href.indexOf("/bestshop/gateway.daum")||-1<n.href.indexOf("/mini/compare.daum"))},click:function(n,e,t){try{var r=p(e),i=p.extend({},h.clickParams),a={},o=!0;i.la=encodeURIComponent("@"+r.parents().map(function(n){var e=h.toJson(p(this).data("gg"));return e&&("Q"==e.tp&&(e.qt="U",e.q=encodeURIComponent(p(this).find(":text").val()||p(this).find("[type=search]").val())),a=p.extend(e,a)),(o=o&&/(daum|mArticle|mContent|cMain|slide|mAside).*/g.test(this.id)?!1:o)?h.getLayer(this):""}).get().reverse().slice(2).join(">")+">"+this.getLayer(e)),p.extend(a,this.toJson(r.data("gg")));var u=r.data("gg")&&this.toJson(r.data("gg")).ct?p.trim(this.toJson(r.data("gg")).ct):p.trim(r.text());p.extend(i,{tp:this.isClick(e)?"C":"A",w:window.innerWidth,h:window.innerHeight,x:n.pageX,y:n.pageY,cu:encodeURIComponent(e.href),ct:encodeURIComponent(r.find("img").attr("alt")||u),ci:encodeURIComponent(r.find("img").attr("src")||"")}),t&&p.extend(a,t);var s=!1;try{var c,l,f=/^http:\/\/[^#?]+/i;"_blank"!=e.target&&f.test(e.href)&&(c=f.exec(location.href),l=f.exec(e.href),s=!(!c||!l||c[0].toLowerCase()==l[0].toLowerCase())&&(this.log(c[0].toLowerCase()+">>"+l[0].toLowerCase()),!0))}catch(n){s=!1}this.send(this.url.click,p.extend(i,a),s)}catch(n){this.log(n)}},sendSeq:1,send:function(a,o,n){if(0<a.indexOf("impression"))p(o.lst).each(_.bind(function(n,e){var t,r=o,i=[];i.push(e),r.lst=i,r.lk=e.lk,delete r.lst.lk,p.extend(r,{tp:"I"}),p.support.cors&&0<=h.params.sv.indexOf("daum.net")?p.ajax({url:a,data:"="+encodeURIComponent(JSON.stringify(r)),type:"POST",xhrFields:{withCredentials:!0},success:function(){h.respond=!0}}):(e=this.sendSeq++,t="gargoylePost"+e,p("body").append('<div id="'+t+'" style="display:none;"><iframe name="gargoyleIframe'+e+'"></iframe><form action="'+h.url.impression+'" name="gargoyleForm'+e+'" method="post" target="gargoyleIframe'+e+'"><textarea name="data" style="display:none;">'+JSON.stringify(r)+"</textarea></form></div>"),document["gargoyleForm"+e].submit(),setTimeout(function(){p("#"+t).remove()},500))},this));else if(h.respond=!1,p.support.cors&&0<=h.params.sv.indexOf("daum.net")?p.ajax({url:a,data:o,xhrFields:{withCredentials:!0},success:function(){h.respond=!0}}):p.ajax({url:a,data:o,dataType:"jsonp",success:function(){h.respond=!0}}),this.log("%cgaroyle.send(data) í´ë¦­ë¡œê·¸ ì „ì†¡~ data =","background: #00f; color: #fff",o),n){var e=p.now()+150;if(!h.respond)for(;p.now()<e&&!h.respond;);}else{e=p.now()+50;if(!h.respond)for(;p.now()<e&&!h.respond;);}},getLayer:function(n){var t="";try{var r=0,t=(n.tagName||"")+(""!=n.id?"#"+n.id:"");p.each(n.className.split(/\s+/g),function(n,e){/hover_on/g.test(e)||(/_G.*/g.test(e)?t+="."+e:r<=2&&(t+="."+e,++r))})}catch(n){this.log(n)}return t},toJson:function(n){if(n)return p.parseJSON(n.replace("{",'{"').replace(/:/g,'":"').replace(/,/g,'","').replace("}",'"}'))},respond:!0};p(window).unload(function(){if(!h.respond)for(var n=p.now()+150;p.now()<n&&!h.respond;);}),window.gargoyle=h}(window.jQuery);

(window.__twttrll=window.__twttrll||[]).push([[0],{168:function(e,t,i){var r=i(39),n=i(170),i=i(7);(r=Object.create(r)).build=i(r.build,null,n),e.exports=r},169:function(e,t,i){var r=i(42),n=i(37),o=i(38),s=i(0),a=i(7),c=i(33),u=i(5),l=i(174);e.exports=function(e){e.params({partner:{fallback:a(c.val,c,"partner")}}),e.define("scribeItems",function(){return{}}),e.define("scribeNamespace",function(){return{client:"tfw"}}),e.define("scribeData",function(){return{widget_origin:o.rootDocumentLocation(),widget_frame:o.isFramed()&&o.currentDocumentLocation(),widget_partner:this.params.partner,widget_site_screen_name:l(c.val("site")),widget_site_user_id:u.asNumber(c.val("site:id")),widget_creator_screen_name:l(c.val("creator")),widget_creator_user_id:u.asNumber(c.val("creator:id"))}}),e.define("scribe",function(e,t,i){e=s.aug(this.scribeNamespace(),e||{}),t=s.aug(this.scribeData(),t||{}),r.scribe(e,t,!1,i)}),e.define("scribeInteraction",function(e,t,i){var r=n.extractTermsFromDOM(e.target);r.action=e.type,"url"===r.element&&(r.element=n.clickEventElement(e.target)),this.scribe(r,t,i)})}},170:function(e,t,i){var r=i(40),n=i(0),i=i(171);function o(){r.apply(this,arguments),this.Widget=this.Component}o.prototype=Object.create(r.prototype),n.aug(o.prototype,{factory:i,build:function(){return r.prototype.build.apply(this,arguments)},selectors:function(e){var t=this.Widget.prototype.selectors;this.Widget.prototype.selectors=n.aug({},e=e||{},t)}}),e.exports=o},171:function(e,t,i){var r=i(6),o=i(35),n=i(41),s=i(0),a=i(7),c=i(172);e.exports=function(){var i=n();function e(e,t){i.apply(this,arguments),this.id="twitter-widget-"+c(),this.sandbox=t}return e.prototype=Object.create(i.prototype),s.aug(e.prototype,{selectors:{},hydrate:function(){return r.resolve()},prepForInsertion:function(){},render:function(){return r.resolve()},show:function(){return r.resolve()},resize:function(){return r.resolve()},select:function(e,t){return 1===arguments.length&&(t=e,e=this.el),e?(t=this.selectors[t]||t,s.toRealArray(e.querySelectorAll(t))):[]},selectOne:function(){return this.select.apply(this,arguments)[0]},selectLast:function(){return this.select.apply(this,arguments).pop()},on:function(e,t,i){var r,n=this.el;this.el&&(e=(e||"").split(/\s+/),2===arguments.length?i=t:r=t,r=this.selectors[r]||r,i=a(i,this),e.forEach(r?function(e){o.delegate(n,e,r,i)}:function(e){n.addEventListener(e,i,!1)}))}}),e}},172:function(e,t){var i=0;e.exports=function(){return String(i++)}},173:function(e,t,i){var r=i(5),n=i(0);e.exports=function(e){e.define("widgetDataAttributes",function(){return{}}),e.define("setDataAttributes",function(){var i=this.sandbox.sandboxEl;n.forIn(this.widgetDataAttributes(),function(e,t){r.hasValue(t)&&i.setAttribute("data-"+e,t)})}),e.after("render",function(){this.setDataAttributes()})}},174:function(e,t){e.exports=function(e){return e&&"@"===e[0]?e.substr(1):e}},176:function(e,t,i){var n=i(73);e.exports=function(e){return e?(e=Array.isArray(e)?e:[e]).reduce(function(e,t){var i=t.getAttribute("data-tweet-id"),r=t.getAttribute("data-rendered-tweet-id")||i;return t.getAttribute("data-tweet-item-type")===n.QUOTE_TWEET.toString()?e[i]={item_type:n.QUOTE_TWEET}:i===r?e[r]={item_type:n.TWEET}:i&&(e[r]={item_type:n.RETWEET,target_type:n.TWEET,target_id:i}),e},{}):{}}},177:function(e,t,i){var n=i(71),o=i(180),r=i(7),s=i(72);function a(e,t,i,r){return i="dark"===i?"dark":"light",t=n.isRtlLang(t)?"rtl":"ltr",t=[e,r?o.holdback_css:o.css,i,t,"css"].join("."),s.resourceBaseUrl+(r?"/holdback":"")+"/css/"+t}e.exports={dmButton:function(){return s.resourceBaseUrl+"/css/"+["dm_button",o.css,"css"].join(".")},tweet:r(a,null,"tweet"),timeline:r(a,null,"timeline"),video:r(a,null,"video"),moment:r(a,null,"moment"),grid:r(a,null,"grid"),periscopeOnAir:function(){return s.resourceBaseUrl+"/css/"+["periscope_on_air",o.css,"css"].join(".")}}},178:function(e,t,i){var n=i(34),r=i(168),o=i(176);e.exports=r.couple(i(169),function(e){e.selectors({tweetIdInfo:".js-tweetIdInfo",quotedTweetInfo:'[data-tweet-item-type="23"]'}),e.define("scribeClickInteraction",function(e,t){var i=n.closest(this.selectors.tweetIdInfo,t,this.el),r=i&&i.querySelector(this.selectors.quotedTweetInfo);this.scribeInteraction(e,function(){var e;if(i)return e=o(r?[i,r]:[i]),{item_ids:Object.keys(e),item_details:e}}())}),e.after("render",function(){this.on("click","A",this.scribeClickInteraction),this.on("click","BUTTON",this.scribeClickInteraction)})})},179:function(e,t,i){var r=i(4),n=i(5),o=r.createElement("div");e.exports=function(e){return n.isNumber(e)&&(e+="px"),o.style.width="",o.style.width=e,o.style.width||null}},180:function(e){e.exports={css:"32f7f89e2e680ebfe3f4cfefb27966ae",holdback_css:"ec70a6a3eabf66ea7567c1f46719df0f"}},181:function(e,t,i){var r=i(183),n=i(36),o=i(3),s=i(6),a="data-url-ref-attrs-injected";e.exports=function(e){var i={};e.define("injectRefUrlParams",function(t){return!o.isTwitterURL(t.href)||t.getAttribute(a)?s.resolve():(i={twcamp:this.params.productName,twterm:this.params.id,twcon:t.getAttribute("data-twcon")},n.getActiveExperimentDataString().then(function(e){t.setAttribute(a,!0),i.twgr=e,t.href=r(t.href,i)}.bind(this)).catch(function(){t.setAttribute(a,!0),t.href=r(t.href,i)}.bind(this)))}),e.after("render",function(){this.on("click","A",function(e,t){this.injectRefUrlParams(t)})})}},183:function(e,t,i){var n=i(11),o=i(38);e.exports=function(e,t){var i,r=["twsrc^tfw"];return t&&(r=r.concat((i=[],(t=t).twcamp&&i.push("twcamp^"+t.twcamp),t.twterm&&i.push("twterm^"+t.twterm),t.twgr&&i.push("twgr^"+t.twgr),t.twcon&&i.push("twcon^"+t.twcon),i))),e=e,r=r.reduce(function(e,t){return e+"|"+t}),n.url(e,{ref_src:r,ref_url:o.rootDocumentLocation()})}},184:function(e,t,i){var r=i(37),n=i(168),o=i(186);e.exports=n.couple(i(169),function(e){e.selectors({inViewportMarker:".js-inViewportScribingTarget"}),e.define("scribeInViewportSeen",function(e,t){e=r.extractTermsFromDOM(e);e.action="seen",this.scribe(e,t)}),e.after("show",function(){var e=this.selectors.inViewportMarker;this.select(e).forEach(function(e){e&&o.inViewportOnce(e,this.sandbox.sandboxEl,function(){this.scribeInViewportSeen(e,this.scribeItems())}.bind(this))},this)})})},185:function(e,t,i){var r=i(1),o=i(0),n=i(43),s=i(11),a=i(78),c=i(21),u=i(211),l=i(10),d="https://pbs.twimg.com/cards/player-placeholder",h=/max-width:\s*([\d.]+px)/,f=/top:\s*(-?[\d.]+%)/,p=/left:\s*(-?[\d.]+%)/,m=/padding-bottom:\s*([\d.]+%)/,b={64:"tiny",120:"120x120",240:"240x240",360:"360x360",680:"small",900:"900x900",1200:"medium",2048:"large",4096:"4096x4096"},g=Object.keys(b).sort(function(e,t){return e-t}),v=2;function w(e,t){e.getAttribute("data-image")===d?e.src=d+".png":(e.getAttribute("data-image")?y:C)(e,t)}function y(e,t){var i,r,n,o=(i=s.decodeURL(e.src).name)&&a(g,function(e){if(b[e]===i)return e});n=e,n={width:parseInt(n.getAttribute("width")),height:parseInt(n.getAttribute("height"))||1},o>=(r=(n.height>n.width?x(t)*n.height/n.width:x(t))||680)||(n=e.getAttribute("data-image"),t=a(g,function(e){if(r<=e)return e})||4096,e.src=s.url(n,{format:e.getAttribute("data-image-format")||"jpg",name:b[t]}))}function x(e){return r.devicePixelRatio?e*Math.min(r.devicePixelRatio,v):e}function C(e,t){var i=e.getAttribute("data-srcset"),r=e.src;i&&(r=function(e,t,i){var r,n,o=x(e),s=t.split(",").map(function(i){return new function(e){var t=i.trim().split(" ");this.url=decodeURIComponent(t[0].trim()),this.width=+t[1].replace(/w$/,"").trim()}});if(i)for(n=0;n<s.length;n++)s[n].url===i&&(r=s[n]);return t=s.reduce(function(e,t){return t.width<e.width&&t.width>=o?t:e},s[0]),r&&r.width>t.width?r:t}(t,i,r),e.src=r.url)}function I(e,t,i){e&&(o.toRealArray(e.querySelectorAll(".NaturalImage-image")).forEach(function(e){i(function(){w(e,t)})}),o.toRealArray(e.querySelectorAll(".CroppedImage-image")).forEach(function(e){i(function(){w(e,t/2)})}),o.toRealArray(e.querySelectorAll("img.autosized-media")).forEach(function(e){i(function(){w(e,t),e.removeAttribute("width"),e.removeAttribute("height")})}))}function E(e,i,r,n){e&&o.toRealArray(e.querySelectorAll("iframe.autosized-media, .wvp-player-container")).forEach(function(e){var t=_(e.getAttribute("data-width"),e.getAttribute("data-height"),u.effectiveWidth(e.parentElement)||i,r);n(function(){e.setAttribute("width",t.width),e.setAttribute("height",t.height),l.present(e,"wvp-player-container")?(e.style.width=t.width,e.style.height=t.height):(e.width=t.width,e.height=t.height)})})}function _(e,t,i,r,n,o){return r=r||t,(i=i||e)<e&&(t*=i/e,e=i),r<t&&(e*=r/t,t=r),e<(n=n||0)&&(t*=n/e,e=n),t<(o=o||0)&&(e*=o/t,t=o),{width:Math.floor(e),height:Math.floor(t)}}function k(e,t,i,r){o.toRealArray(e.querySelectorAll(t)).forEach(function(e){var t=e.getAttribute("style")||e.getAttribute("data-style"),t=r.test(t)&&RegExp.$1;t&&(e.setAttribute("data-csp-fix",!0),e.style[i]=t)})}e.exports={scaleDimensions:_,retinize:function(e,r){r=void 0!==r?!!r:c.retina(),o.toRealArray(e.getElementsByTagName("IMG")).forEach(function(e){var t=e.getAttribute("data-src-1x")||e.getAttribute("src"),i=e.getAttribute("data-src-2x");r&&i?e.src=i:t&&(e.src=t)})},setSrcForImgs:I,sizeIframes:E,constrainMedia:function(e,t,i,r){I(e,t,r),E(e,t,i,r)},fixMediaCardLayout:function(e){n.inlineStyle()||(k(e,".MediaCard-widthConstraint","maxWidth",h),k(e,".MediaCard-mediaContainer","paddingBottom",m),k(e,".CroppedImage-image","top",f),k(e,".CroppedImage-image","left",p))},__setSrcFromSet:C,__setSrcFromImage:y,__setImageSrc:w}},186:function(e,t,i){function a(e){return(l.requestIdleCallback||l.requestAnimationFrame||function(e){e()})(e)}var c=i(187),r=i(44),u=i(188),l=i(1),d=i(21),i=function(){this.observers=[]};i.prototype._register=function(i,r,n){var o,s=this;return d.hasIntersectionObserverSupport()?(o=new l.IntersectionObserver(function(e){e.forEach(function(e){1<=e.intersectionRatio&&(a(n),s._unregister(o))})},{threshold:1})).observe(i):(o={update:function(e,t){c(i,{viewportWidth:e,viewportHeight:t,sandboxEl:r})&&(n(),s._unregister(o))}},this.observers.push(o),1===this.observers.length&&(this.unlisten=u.addScrollListener(this._onViewportChange.bind(this))),this._onViewportChange()),o},i.prototype._unregister=function(e){d.hasIntersectionObserverSupport()&&e instanceof l.IntersectionObserver?e.disconnect():-1<(e=this.observers.indexOf(e))&&(this.observers.splice(e,1),0===this.observers.length&&this.unlisten&&this.unlisten())},i.prototype._onViewportChange=function(){r(a(function(){this._notify(u.getWidth(),u.getHeight())}.bind(this)),50,this)},i.prototype._notify=function(t,i){this.observers.forEach(function(e){e.update(t,i)})},i.prototype.inViewportOnce=function(e,t,i){return this._register(e,t,i)},e.exports=new i},187:function(e,t,i){var o=i(4),s=i(1);e.exports=function(e,t){var i=(t=t||{}).viewportWidth||s.innerWidth,r=t.viewportHeight||s.innerHeight,n=e.getBoundingClientRect();return e.ownerDocument!==o&&t.sandboxEl&&(t=t.sandboxEl.getBoundingClientRect(),n={top:n.top+t.top,bottom:n.bottom+t.top,left:n.left+t.left,right:n.right+t.left}),0<=n.top&&0<=n.left&&n.bottom<=r&&n.right<=i}},188:function(e,t,i){var r=i(1);e.exports={_addListener:function(e,t){function i(){t()}return r.addEventListener(e,i),function(){r.removeEventListener(e,i)}},addScrollListener:function(e){return this._addListener("scroll",e)},getHeight:function(){return r.innerHeight},getWidth:function(){return r.innerWidth}}},192:function(e,t,i){var r=i(18),n=i(185);e.exports=function(e){e.after("prepForInsertion",function(e){n.sizeIframes(e,this.sandbox.width,375,r.sync)}),e.after("resize",function(){n.sizeIframes(this.el,this.sandbox.width,375,r.write)})}},193:function(e,t,i){var r=i(43),n=(i(12),i(0)),o=/^([a-zA-Z-]+):\s*(.+)$/;function s(i){var e=(i.getAttribute("data-style")||"").split(";").reduce(function(e,t){var i;return o.test(t.trim())&&(i=RegExp.$1,t=RegExp.$2,e[i.replace(/-(.)/g,function(e,t){return t.toUpperCase()})]=t),e},{});0!==Object.keys(e).length&&(i.setAttribute("data-csp-fix","true"),n.forIn(e,function(e,t){i.style[e]=t}))}e.exports=function(e){e.selectors({cspForcedStyle:".js-cspForcedStyle"}),e.after("prepForInsertion",function(e){r.inlineStyle()||this.select(e,"cspForcedStyle").forEach(s)})}},194:function(e,t,i){var r=i(185);e.exports=function(e){e.after("prepForInsertion",function(e){r.retinize(e)})}},195:function(e,t,i){var r=i(18),n=i(185);e.exports=function(e){e.after("prepForInsertion",function(e){n.setSrcForImgs(e,this.sandbox.width,r.sync)}),e.after("resize",function(){n.setSrcForImgs(this.el,this.sandbox.width,r.write)})}},196:function(e,t){e.exports=function(e){e.after("render",function(){var e=this.el.getAttribute("data-iframe-title");e&&this.sandbox.setTitle&&this.sandbox.setTitle(e)})}},197:function(e,t,i){var r=i(6),n=i(5),o="env-bp-";function s(e){return e.every(n.isInt)}function a(e){e=e.map(function(e){return{size:+e,className:o+e}}).sort(function(e,t){return e.size-t.size});return e.unshift({size:0,className:"env-bp-min"}),e}e.exports=function(e){e.params({breakpoints:{required:!0,validate:s,transform:a}}),e.define("getClassForWidth",function(e){for(var t,i,r=this.params.breakpoints.length-1;0<=r;r--)if(e>(i=this.params.breakpoints[r]).size){t=i.className;break}return t}),e.after("initialize",function(){this.allBreakpoints=this.params.breakpoints.map(function(e){return e.className})}),e.define("recalculateBreakpoints",function(){var e=this.getClassForWidth(this.sandbox.width);return e&&this.sandbox.hasRootClass(e)?r.resolve():r.all([this.sandbox.removeRootClass(this.allBreakpoints),this.sandbox.addRootClass(e)])}),e.after("render",function(){return this.recalculateBreakpoints()}),e.after("resize",function(){return this.recalculateBreakpoints()})}},198:function(e,t,i){var o=i(2),r=i(77),s=i(213);function a(e,t){t={scribeContext:(t=t||{}).scribeContext||{client:"tfw"},languageCode:t.languageCode,hideControls:t.hideControls||!1,addTwitterBranding:t.addBranding||!1,widgetOrigin:t.widgetOrigin,borderRadius:t.borderRadius,autoPlay:t.autoPlay};if(0<(e=r(e,".wvp-player-container")).length)return{element:e[0],options:t}}e.exports={insertForTweet:function(e,t,i){var r=new o,i=a(e,i);if(i)return(i=s.createPlayerForTweet(i.element,t,i.options))?(r.resolve(i),r.promise):r.reject(new Error("unable to create tweet video player"))},insertForEvent:function(e,t,i){var r,n=new o,i=a(e,i);return i?((r=s.createPlayerForLiveVideo(i.element,t,i.options)).on("ready",function(){r.playPreview(),n.resolve(r)}),n.promise):n.reject(new Error("unable to initialize event video player"))},remove:function(e){e=e.querySelector(".wvp-player-container"),e=e&&s.findPlayerForElement(e);if(e)return e.teardown()},find:function(e){return s.findPlayerForElement(e)}}},199:function(e,t,i){var r=i(34),n=i(214),o=i(168),s=i(36),a=i(37),c=i(0),u=i(6);e.exports=o.couple(i(169),function(e){e.selectors({clickToOpen:".js-clickToOpenTarget"}),e.define("shouldOpenTarget",function(e){var t=r.closest("A",e.target,this.el),i=r.closest("BUTTON",e.target,this.el),e=this.sandbox.hasSelectedText();return!t&&!i&&!e}),e.define("openTarget",function(t,e){var i=e&&e.getAttribute("data-click-to-open-target"),r={twcamp:this.params.productName,twterm:this.params.id,twcon:e.getAttribute("data-twcon")};return i?s.getActiveExperimentDataString().then(function(e){r.twgr=e,n(i,r),this.scribeOpenClick(t)}.bind(this)).catch(function(){n(i,r),this.scribeOpenClick(t)}.bind(this)):u.resolve()}),e.define("attemptToOpenTarget",function(e,t){return this.shouldOpenTarget(e)?this.openTarget(e,t):u.resolve()}),e.define("scribeOpenClick",function(e){var t=a.extractTermsFromDOM(e.target),e={associations:a.formatTweetAssociation(t)},t=c.aug({},{element:"chrome",action:"click"},t);this.scribe(t,e)}),e.after("render",function(){this.on("click","clickToOpen",this.attemptToOpenTarget)})})},200:function(e,t,i){var r=i(34),n=i(33),o=i(74),s=i(38),a=i(11),c=i(3),u=i(7),l="data-url-params-injected";e.exports=function(e){e.params({productName:{required:!0},dataSource:{required:!1},related:{required:!1},partner:{fallback:u(n.val,n,"partner")}}),e.selectors({timeline:".timeline",tweetIdInfo:".js-tweetIdInfo"}),e.define("injectWebIntentParams",function(e){var t=r.closest(this.selectors.timeline,e,this.el),i=r.closest(this.selectors.tweetIdInfo,e,this.el);e.getAttribute(l)||(e.setAttribute(l,!0),e.href=a.url(e.href,{tw_w:this.params.dataSource&&this.params.dataSource.id,tw_i:i&&i.getAttribute("data-tweet-id"),tw_p:this.params.productName,related:this.params.related,partner:this.params.partner,query:t&&t.getAttribute("data-search-query"),profile_id:t&&t.getAttribute("data-profile-id"),original_referer:s.rootDocumentLocation()}))}),e.after("render",function(){this.on("click","A",function(e,t){c.isIntentURL(t.href)&&(this.injectWebIntentParams(t),o.open(t.href,this.sandbox.sandboxEl,e))})})}},201:function(e,t,i){var r=i(21);e.exports=function(e){e.before("render",function(){r.ios()&&this.sandbox.addRootClass("env-ios"),r.ie9()&&this.sandbox.addRootClass("ie9"),r.touch()&&this.sandbox.addRootClass("is-touch")})}},202:function(e,t,i){var r=i(168),n=i(215);e.exports=r.couple(i(169),function(e){var t={action:"dimensions"},i=new n(1);e.after("show",function(){var e;i.nextBoolean()&&(e={widget_width:this.sandbox.width,widget_height:this.sandbox.height},this.scribe(t,e))})})},203:function(e,t,i){var r=i(0);e.exports=function(e){var t={transparent:!1,hideBorder:!1,hideHeader:!1,hideFooter:!1,hideScrollBar:!1};return r.contains(e=e||"","transparent")&&(t.transparent=!0),r.contains(e,"noborders")&&(t.hideBorder=!0),r.contains(e,"noheader")&&(t.hideHeader=!0),r.contains(e,"nofooter")&&(t.hideFooter=!0),r.contains(e,"noscrollbar")&&(t.hideScrollBar=!0),t}},204:function(e,t,i){var s=i(10),a=i(34),c=i(4),u=i(0);e.exports=function(e){e.selectors({shareMenuOpener:".js-showShareMenu",shareMenu:".timeline-ShareMenu",shareMenuTimelineHeader:".timeline-Header",shareMenuTimelineFooter:".timeline-Footer"}),e.define("getHeaderHeight",function(){var e=this.selectOne("shareMenuTimelineHeader");return e?e.getBoundingClientRect().height:0}),e.define("getFooterHeight",function(){var e=this.selectOne("shareMenuTimelineFooter");return e?e.getBoundingClientRect().height:0}),e.define("getShareMenuPositionClass",function(e){var t=e.getBoundingClientRect(),e=t.top-this.getHeaderHeight();return this.sandbox.height-t.bottom-this.getFooterHeight()<e?"is-openedAbove":"is-openedBelow"}),e.after("render",function(){this.on("click","shareMenuOpener",function(e,t){var i,r=this,n=a.closest(this.selectors.shareMenu,e.target,this.el);function o(){s.remove(n,i),r.el.removeEventListener("click",o,!1),c.removeEventListener("click",o,!1)}e.preventDefault(),n&&(i=this.getShareMenuPositionClass(t),s.add(n,i),u.async(function(){r.el.addEventListener("click",o,!1),c.addEventListener("click",o,!1)}))})})}},211:function(e,t){e.exports={effectiveWidth:function e(t){return t&&1===t.nodeType?t.offsetWidth||e(t.parentNode):0}}},213:function(e,t,i){var o=this;void 0===(t=function(){return o.TwitterVideoPlayer=(n={suppressScribing:!(t=/^https?:\/\/([a-zA-Z0-9]+\.)*twitter.com(:\d+)?$/),squareCorners:!(u="https://twitter.com"),hideControls:!1,addTwitterBranding:!1},l=0,d={},{setBaseUrl:function(e){t.test(e)?u=e:window.console.error("newBaseUrl "+e+" not allowed")},createPlayerForTweet:function(e,t,i){return new r(e,"/i/videos/tweet/"+t,"player_tweet_"+t,i||n)},createPlayerForDm:function(e,t,i){return new r(e,"/i/videos/dm/"+t,"player_dm_"+t,i||n)},createPlayerForLiveVideo:function(e,t,i){return new r(e,"/i/videos/live_video/"+t,"player_live_video_"+t,i||n)},findPlayerForElement:function(e){for(var t in d)if(d.hasOwnProperty(t)){t=d[t];if(t&&t.domElement===e)return t.playerInterface}return null}});function c(e){var t,i,r;e&&e.data&&e.data.params&&e.data.params[0]&&(t=e.data.params[0],i=e.data.id,t&&t.context&&"TwitterVideoPlayer"===t.context&&(r=t.playerId,delete t.playerId,delete t.context,(r=d[r])&&r.processMessage(e.data.method,t,i)))}function r(e,t,i,r,n){e.ownerDocument.defaultView.addEventListener("message",c),this.playerId=l++;var o={embed_source:"clientlib",player_id:this.playerId,rpc_init:1,autoplay:r.autoPlay};if(this.scribeParams={},this.scribeParams.suppressScribing=r&&r.suppressScribing,!this.scribeParams.suppressScribing){if(!r.scribeContext)throw"video_player: Missing scribe context";if(!r.scribeContext.client)throw"video_player: Scribe context missing client property";this.scribeParams.client=r.scribeContext.client,this.scribeParams.page=r.scribeContext.page,this.scribeParams.section=r.scribeContext.section,this.scribeParams.component=r.scribeContext.component}this.scribeParams.debugScribe=r&&r.scribeContext&&r.scribeContext.debugScribing,this.scribeParams.scribeUrl=r&&r.scribeContext&&r.scribeContext.scribeUrl,this.promotedLogParams=r.promotedContext,this.adRequestCallback=r.adRequestCallback,r.languageCode&&(o.language_code=r.languageCode),"tfw"===this.scribeParams.client&&(o.use_syndication_guest_id=!0),r.autoPlay&&(o.autoplay=1);var s,a,o=(s=u,t=t,a=o,o=Object.keys(a).filter(function(e){return null!=a[e]}).map(function(e){var t=a[e];return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"),s+t+(o=o&&"?"+o));return this.videoIframe=document.createElement("iframe"),this.videoIframe.setAttribute("src",o),this.videoIframe.setAttribute("allowfullscreen",""),this.videoIframe.setAttribute("allow","autoplay; fullscreen"),this.videoIframe.setAttribute("id",i),this.videoIframe.setAttribute("style","width: 100%; height: 100%; position: absolute; top: 0; left: 0;"),this.domElement=e,this.domElement.appendChild(this.videoIframe),(d[this.playerId]=this).eventCallbacks={},this.emitEvent=function(e,t){e=this.eventCallbacks[e];void 0!==e&&e.forEach(function(e){e.apply(this.playerInterface,[t])}.bind(this))},this.jsonRpc=function(e){var t=this.videoIframe.contentWindow;e.jsonrpc="2.0",t&&t.postMessage&&t.postMessage(JSON.stringify(e),"*")},this.jsonRpcCall=function(e,t){this.jsonRpc({method:e,params:t})},this.jsonRpcResult=function(e,t){this.jsonRpc({result:e,id:t})},this.processMessage=function(e,t,i){switch(e){case"requestPlayerConfig":this.jsonRpcResult({scribeParams:this.scribeParams,promotedLogParams:this.promotedLogParams,squareCorners:r.squareCorners,borderRadius:r.borderRadius,hideControls:r.hideControls,embedded:r.addTwitterBranding,widgetOrigin:r.widgetOrigin,ignoreFineGrainGeoblocking:r.ignoreFineGrainGeoblocking},i);break;case"videoPlayerAdStart":this.emitEvent("adStart",t);break;case"videoPlayerAdEnd":this.emitEvent("adEnd",t);break;case"videoPlayerPlay":this.emitEvent("play",t);break;case"videoPlayerPause":this.emitEvent("pause",t);break;case"videoPlayerMute":this.emitEvent("mute",t);break;case"videoPlayerUnmute":this.emitEvent("unmute",t);break;case"videoPlayerPlaybackComplete":this.emitEvent("playbackComplete",t);break;case"videoPlayerReady":this.emitEvent("ready",t);break;case"videoView":this.emitEvent("view",t);break;case"debugLoggingEvent":this.emitEvent("logged",t);break;case"requestDynamicAd":"function"==typeof this.adRequestCallback?this.jsonRpcResult(this.adRequestCallback(),i):this.jsonRpcResult({},i);break;case"videoPlayerError":t&&"NO_COOKIES_ERROR"===t.error_category?this.emitEvent("noCookiesError",t):t&&"GEOBLOCK_ERROR"===t.error_category&&this.emitEvent("geoblockError",t)}},this.playerInterface={on:function(e,t){return void 0===this.eventCallbacks[e]&&(this.eventCallbacks[e]=[]),this.eventCallbacks[e].push(t),this.playerInterface}.bind(this),off:function(e,t){return void 0===t?delete this.eventCallbacks[e]:void 0===(e=this.eventCallbacks[e])||-1<(t=e.indexOf(t))&&e.splice(t,1),this.playerInterface}.bind(this),play:function(){return this.jsonRpcCall("play"),this.playerInterface}.bind(this),pause:function(){return this.jsonRpcCall("pause"),this.playerInterface}.bind(this),mute:function(){return this.jsonRpcCall("mute"),this.playerInterface}.bind(this),unmute:function(){return this.jsonRpcCall("unmute"),this.playerInterface}.bind(this),playPreview:function(){return this.jsonRpcCall("autoPlayPreview"),this.playerInterface}.bind(this),pausePreview:function(){return this.jsonRpcCall("autoPlayPreviewStop"),this.playerInterface}.bind(this),updatePosition:function(e){return this.jsonRpcCall("updatePosition",[e]),this.playerInterface}.bind(this),updateLayoutBreakpoint:function(e){return this.jsonRpcCall("updateLayoutBreakpoint",[e]),this.playerInterface}.bind(this),enterFullScreen:function(){return this.jsonRpcCall("enterFullScreen"),this.playerInterface}.bind(this),exitFullScreen:function(){return this.jsonRpcCall("exitFullScreen"),this.playerInterface}.bind(this),teardown:function(){this.eventCallbacks={},e.removeChild(this.videoIframe),this.videoIframe=void 0,delete d[this.playerId]}.bind(this)},this.playerInterface}var u,t,n,l,d}.call(t,i,t,e))||(e.exports=t)},214:function(e,t,i){var r=i(1),n=i(183),o=i(3);e.exports=function(e,t){o.isTwitterURL(e)&&(e=n(e,t)),r.open(e)}},215:function(e,t){function i(e){this.percentage=e}i.prototype.nextBoolean=function(){return 100*Math.random()<this.percentage},e.exports=i}}]);

!function(){var l=this&&this.__assign||Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e};try{!function(){var e=navigator.userAgent,i=["3793ba0a-9959-467c-8593-748a62ae4c7e","61a30a9a-f9eb-47ca-a6dc-e5b25fa46ec7"],o={"cb8c1920-ce22-4107-8276-fd9343c3f4cb":"//cti.w55c.net/ct/dx_upx_0Dtzfr5VPZ.js","949105c7-1e6c-4a04-b7e3-53a89d9de730":"//cti.w55c.net/ct/dx_upx_0DiHEkAIIp.js"},s="PERSIST",n="NONE",r="_tie",a="identify",t="pageview",c="_s_tie",u={pageview:!0,"page view":!0,"page-view":!0,page_view:!0},h={os:function(){return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":""},btoa:function(e){for(var t,i=String(e),o="",s=0,n=void 0,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.charAt(0|s)||s%1;o+=r.charAt(63&n>>8-s%1*8)){if(i.charAt(0|s)||(r="="),255<(t=i.charCodeAt(s+=.75)))return;n=n<<8|t}return o},isValidGuid:function(e){return e&&/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(e.trim())},warnIfInvalidToken:function(e){e=h.isValidGuid(e);return e||console.error("Token is not a valid GUID"),e},isValidUserId:function(e){if(!e)return!1;function t(e){return e.toString().toLowerCase().trim()}var i=["undefined","null","n/a","","none",{},0,1,NaN,!0,!1,"0","1"].map(t),e=t(e);return!(-1<i.indexOf(e))}},d=(f.prototype.enableDebug=function(){this.createCookie(this.debugCookieName,"1",this.debugCookieTime),this.debug=!0,console.info("Debug: Tatari Tracker Debug Enabled")},f.prototype.init=function(e,t){this._i=e,this.config=t,h.warnIfInvalidToken(e)},f.prototype.flushCommandQueue=function(e){var t;0<(e=void 0===e?[]:e).length&&(t=this,e.forEach(function(e){t[e[0]].apply(t,e.slice(1,e.length))}))},f.prototype.scrubParams=function(e){var i=this;if(this.config&&this.config.queryParamScrubs&&e){var t=document.createElement("a");t.setAttribute("href",e);var o=t.search;if(o){var s=[];o.substr(1).split("&").forEach(function(e){var t=decodeURIComponent(e.split("=")[0]);i.config.queryParamScrubs.some(function(e){return e===t})||s.push(e)});t="?"+s.join("&");return e.replace(o,t)}}return e},f.prototype.scrubUrl=function(t){if(this.config&&this.config.urlScrubs&&t){var i=t;return this.config.urlScrubs.forEach(function(e){e=e.test(t)&&RegExp.$1;e&&(i=t.replace(e,"TATARI-SCRUBBED"))}),i}return t},f.prototype.scrub=function(e){return this.config?this.scrubUrl(this.scrubParams(e)):e},f.prototype.getProperties=function(){return{$os:h.os(),$referrer:this.scrub(document.referrer),$currentUrl:this.scrub(window.location.href)}},f.prototype._track=function(e,t){void 0===t&&(t="");try{e!==r&&e!==c&&this.checkSessionCookie();var i=t;if("object"==typeof t)try{i=JSON.stringify(t)}catch(e){i="",console.warn("Tatari Tracker arg should be a valid JSON object")}65535<i.length&&(console.warn("Tatari Tracker arg should be smaller than 65535 characters, was "+i.length+"."),"object"==typeof t&&console.warn("Tatari Tracker arg size was the result of large JSON serialization."));var o=l({version:this.version,token:this._i,sessionId:this.sessionId,cookieSupport:this.cookieSupport,userId:this.userId,arg:i,event:e},this.getProperties());this.removeEmptyKeys(o);var s=this.buildReqUrl(o);this.debug&&console.info("Debug: Tatari Tracker Event Fired",o),this.sendRequest(s)}catch(e){console.warn("Tatari's tracking library encountered an error when attempting to track.",e)}},f.prototype.sendRequest=function(e){var t;this._i?((t=new XMLHttpRequest).open("GET",e,!0),t.send(null)):this.debug&&console.info("Debug: Tatari Tracker suppressing request with invalid token")},f.prototype.removeEmptyKeys=function(t){Object.keys(t).forEach(function(e){return(void 0===t[e]||null===t[e]||""===t[e])&&delete t[e]})},f.prototype.buildReqUrl=function(e,t){void 0===t&&(t=this.url);e=this.buildDataBlob(e);return t+"?data="+encodeURIComponent(e)+"&date="+ +new Date},f.prototype.buildDataBlob=function(i){var e=Object.keys(i).map(function(e){var t=encodeURIComponent;return"object"==typeof i[e]&&(t=function(e){return encodeURIComponent(JSON.stringify(e))}),encodeURIComponent(e)+"="+t(i[e])}).join("&");return""+this.util.btoa(e)},f.prototype.pageview=function(){this._track(t),window.ttm&&window.ttm.onPageview&&window.ttm.onPageview()},f.prototype.track=function(e,t){return e?"string"==typeof e&&u[e.toLowerCase()]?void console.warn("Supressing event "+e):(this._track("e_"+e.toString(),t),void(window.ttm&&window.ttm.onTrack&&window.ttm.onTrack(e.toString(),t))):void console.error("Undefined event passed to track.")},f.prototype.identify=function(e){var t=this.userId;h.isValidUserId(e)?(t&&e.toString()===t||(this.userId=e.toString(),this.createCookie(this.userCookieName,this.userId,this.userCookieTime),this._track(r)),this._track(a),window.ttm&&window.ttm.onIdentify&&window.ttm.onIdentify(e.toString())):console.error("Invalid id passed to identify.")},f.prototype.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},f.prototype.createCookie=function(e,t,i){var o,s=new Date,n="domain="+this.getDomain()+";";return s.setTime(s.getTime()+i),o="expires="+s.toUTCString()+";",document.cookie=e+"="+t+"; "+o+" "+n+" path=/",t},f.prototype.getDomain=function(){var i=(document.location||{hostname:""}).hostname.split("."),o="";return i.some(function(e,t){t=i.slice(i.length-t-1).join(".");if(document.cookie="testTLD=test;domain="+t+";",-1!==document.cookie.indexOf("testTLD=test"))return o=t,document.cookie="testTLD=;domain="+o+";expires="+new Date(0).toUTCString()+";",!0}),o},f.prototype.getCookie=function(e){for(var t=e+"=",i=0,o=decodeURIComponent(document.cookie).split(";");i<o.length;i++){for(var s=o[i];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(t))return s.substring(t.length,s.length)}},f.prototype.removeCookie=function(e){var t=this.getDomain();document.cookie=e+"=; Max-Age=-99999999;",t&&(document.cookie=e+"=; Max-Age=-99999999; domain="+t+";")},f.prototype.checkUserCookie=function(){var e=this.getCookie(this.userCookieName);e&&!h.isValidUserId(e)?this.removeCookie(this.userCookieName):(this.userId=e,this.userId&&(this.removeCookie(this.userCookieName),this.createCookie(this.userCookieName,this.userId,this.userCookieTime)))},f.prototype.checkSessionCookie=function(){var t,i=this;this.sessionId=this.getCookie(this.sessionCookieName),(window.location.search?window.location.search.slice(1).split("&").map(function(e){return e.split("=").map(decodeURIComponent)}):[]).forEach(function(e){e&&2===e.length&&e[0]===i.sessionUrlParamName&&(t=e)});var e=t&&t[1];this.sessionId&&!h.isValidGuid(this.sessionId)&&(console.warn("Invalid stored session ID ("+this.sessionId+"). Ignoring."),this.removeCookie(this.sessionCookieName),this.sessionId=null),e&&!h.isValidGuid(e)&&(console.warn("Invalid parameter session ID ("+e+"). Ignoring."),e=null),e&&this.sessionId!==e&&(this.sessionId&&this._track(c,e),this.createCookie(this.sessionCookieName,e,this.sessionCookieTime),this.sessionId=e),this.sessionId?(this.removeCookie(this.sessionCookieName),this.createCookie(this.sessionCookieName,this.sessionId,this.sessionCookieTime)):this.sessionId=this.createCookie(this.sessionCookieName,this.guid(),this.sessionCookieTime)},f.prototype.checkDebugCookie=function(){var e=this.getCookie(this.debugCookieName);this.debug=!!e},f.prototype.recordIpsIfNecessary=function(){var e,t=this;this.getCookie(this.ipCookieName)||(this.createCookie(this.ipCookieName,"1",this.ipCookieTime),e={version:this.version,token:this._i,sessionId:this.sessionId},this.removeEmptyKeys(e),[this.buildReqUrl(e,"https://dvqigh9b7wa32.cloudfront.net/5a28e627"),this.buildReqUrl(l({ipv6:!0},e),"https://d330aiyvva2oww.cloudfront.net/5a28e627")].forEach(function(e){t.sendRequest(e)}))},f.prototype.checkThirdParty=function(){var e,t;-1!==i.indexOf(this._i)&&(this.debug&&console.info("Debug: Tatari Tracker Issuing Experian request"),document.createElement("img").src="https://d.turn.com/r/dd/id/L21rdC84MTYvY2lkLzE3NDc5NjI3NzgvdC8y/kv/MAID=value"),o[this._i]&&(this.debug&&console.info("Debug: Tatari Tracker Issuing DataXU request"),(e=document.createElement("script")).type="text/javascript",e.async=!0,e.src=o[this._i],(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t))},f.prototype.getCookieSupport=function(){var e="tatari-cookie-test="+Math.floor(1e8*Math.random()),t=new Date;return t.setTime(t.getTime()+this.sessionCookieTime),document.cookie=e+"; expires="+t.toUTCString()+"; path=/",-1!==document.cookie.indexOf(e)?s:n},f),p=window.tatari||[],d=new d(p._i,p.config);function f(e,t){this.sessionCookieTime=307584e6,this.userCookieTime=307584e6,this.sessionCookieName="tatari-session-cookie",this.sessionUrlParamName="tatari_session_id",this.sessionId="",this.userCookieName="tatari-user-cookie",this.userId="",this.version="1.2.12",this.util=h,this.debugCookieName="tatari-debug-cookie",this.debugCookieTime=864e5,this.debug=!1,this.ipCookieName="t-ip",this.ipCookieTime=3e5,this._i=e,this.url="https://d1lu3pmaz2ilpx.cloudfront.net/5a28e627",this.cookieSupport=this.getCookieSupport(),this.config=t,this.checkDebugCookie(),this.checkSessionCookie(),this.checkUserCookie(),this.recordIpsIfNecessary(),this.checkThirdParty(),h.warnIfInvalidToken(e),this.debug&&(console.info("Debug: Tatari Tracker Lib Loaded",this),console.info("Debug: Tatari Tracker TLD",this.getDomain()))}(window.tatari=d).flushCommandQueue(p)}()}catch(l){console.log(l)}}();

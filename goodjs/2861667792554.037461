YUI.add("stencil-bquery",function(o){"use strict";function e(e){var t=e.host._node||e.host,s=t.getAttribute("data-bquery")||"max-width:450px=BreakPoint",i=o.one(t.getAttribute("data-bquery-target")||t.getAttribute("data-target"));this.query=this.constructor.parseQuery(s),this.node=t,this.target=i?i._node:null,this.constructor.superclass.constructor.call(this,e),this.addResizeListener(t,o.bind(this.handleResize,this)),this.handleResize()}var c=o.Object.owns,p=o.DOM,r=o.config.doc;o.extend(e,o.Stencil.BasePlugin,{throttle:50,lastTime:0,handleResize:function(){var e,t,s,i,n,r,a,l,d,h=+new Date;if(!this.lastTime||h-this.lastTime>this.throttle)for(this.lastTime=h,i=this.query,n=this.target||this.node,r=this.node.offsetWidth,this.resizeSupport||(t=(e=this.expandEl).firstChild,s=this.contractEl,a=parseInt(r+100,0),h=parseInt(n.offsetHeight+100,0),t.style.cssText="width:"+a+"px;height:"+h+"px;",e.scrollLeft=a,e.scrollTop=h,s.scrollLeft=s.scrollWidth+100,s.scrollTop=s.scrollHeight+100),l=i.length-1;0<=l;--l)if(c(i[l],"min-width")&&r>=i[l]["min-width"])for(o.fire("bquery:breakpoint",{type:"min-width",node:n}),d=i[l].classesA.length-1;0<=d;--d)p.addClass(n,i[l].classesA[d]);else if(c(i[l],"max-width")&&r<=i[l]["max-width"])for(o.fire("bquery:breakpoint",{type:"max-width",node:n}),d=i[l].classesA.length-1;0<=d;--d)p.addClass(n,i[l].classesA[d]);else for(o.fire("bquery:breakpoint",{type:"remove",node:n}),d=i[l].classesA.length-1;0<=d;--d)p.removeClass(n,i[l].classesA[d])},addResizeListener:function(e){var t,s,i,n=o.UA.ie&&o.UA.ie<11;(this.resizeSupport=n)?(e.style.zoom=1,e.attachEvent?e.attachEvent("onresize",o.bind(this.handleResize,this)):e.addEventListener&&e.addEventListener("resize",o.bind(this.handleResize,this))):("static"===p.getComputedStyle(e,"position")&&(e.style.position="relative"),s="position:absolute;top:0;left:0;width:100%;height:100%;overflow:scroll;visibility:hidden;z-index:-1",i=r.createDocumentFragment(),(t=r.createElement("div")).style.cssText=s,(n=r.createElement("div")).style.cssText="width:200%;height:200%;",t.appendChild(n),(n=r.createElement("div")).style.cssText=s,s=r.createElement("div"),n.appendChild(s),t.addEventListener("scroll",o.bind(this.handleResize,this)),n.addEventListener("scroll",o.bind(this.handleResize,this)),this.contractEl=t,this.expandEl=n,i.appendChild(n),i.appendChild(t),e.appendChild(i))}},{NS:"StencilBquery",defaultTriggerEvents:[],requiresInit:!0,parseQuery:function(e){for(var t,s,i=[],n=/(min-width|max-width):([0-9]+)(px)=((?:(?:[\-a-zA-Z0-9]+)(?:\,)?)+)/,r=(e=e.split(" ")).length-1;0<=r;--r)(t=n.exec(e[r]))&&((s={})[t[1]]=parseInt(t[2],10),s.unit=t[3],s.classesA=t[4].split(","),i.push(s));return i}}),o.Stencil.registerPlugin(e,"Bquery")},"@VERSION@",{requires:["stencil-base","yui-base","dom-base","dom-style","node-base","node-pluginhost"]});

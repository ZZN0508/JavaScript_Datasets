(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([["vendors~wanode.js"],{b0c190:function(e,r,n){var t,o=(t="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var r,o="undefined"!==typeof(e=e||{})?e:{},i={};for(r in o)o.hasOwnProperty(r)&&(i[r]=o[r]);o.arguments=[],o.thisProgram="./this.program",o.quit=function(e,r){throw r},o.preRun=[],o.postRun=[];var a=!0,u=!1,s="";(a||u)&&(u?s=self.location.href:document.currentScript&&(s=document.currentScript.src),t&&(s=t),s=0!==s.indexOf("blob:")?s.substr(0,s.lastIndexOf("/")+1):"",o.read=function shell_read(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},u&&(o.readBinary=function readBinary(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),o.readAsync=function readAsync(e,r,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function xhr_onload(){200==t.status||0==t.status&&t.response?r(t.response):n()},t.onerror=n,t.send(null)},o.setWindowTitle=function(e){document.title=e});var c=o.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),l=o.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||c);for(r in i)i.hasOwnProperty(r)&&(o[r]=i[r]);function dynamicAlloc(e){var r=E[S>>2],n=r+e+15&-16;if(n<=_emscripten_get_heap_size())E[S>>2]=n;else if(!_emscripten_resize_heap(n))return 0;return r}i=void 0;var f,d={"f64-rem":function(e,r){return e%r},debugger:function(){}},m=(new Array(0),0),p=function(e){m=e};"object"!==typeof WebAssembly&&l("no native wasm support detected");var h,_,g,y,v,E,w,b,D,k=!1;function assert(e,r){e||abort("Assertion failed: "+r)}function getMemory(e){return R?ye(e):dynamicAlloc(e)}function UTF8ArrayToString(e,r,n){for(var t=r+n,o="";!(r>=t);){var i=e[r++];if(!i)return o;if(128&i){var a=63&e[r++];if(192!=(224&i)){var u=63&e[r++];if((i=224==(240&i)?(15&i)<<12|a<<6|u:(7&i)<<18|a<<12|u<<6|63&e[r++])<65536)o+=String.fromCharCode(i);else{var s=i-65536;o+=String.fromCharCode(55296|s>>10,56320|1023&s)}}else o+=String.fromCharCode((31&i)<<6|a)}else o+=String.fromCharCode(i)}}function UTF8ToString(e,r){return e?UTF8ArrayToString(g,e,r):""}function stringToUTF8Array(e,r,n,t){if(!(t>0))return 0;for(var o=n,i=n+t-1,a=0;a<e.length;++a){var u=e.charCodeAt(a);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&e.charCodeAt(++a)),u<=127){if(n>=i)break;r[n++]=u}else if(u<=2047){if(n+1>=i)break;r[n++]=192|u>>6,r[n++]=128|63&u}else if(u<=65535){if(n+2>=i)break;r[n++]=224|u>>12,r[n++]=128|u>>6&63,r[n++]=128|63&u}else{if(n+3>=i)break;r[n++]=240|u>>18,r[n++]=128|u>>12&63,r[n++]=128|u>>6&63,r[n++]=128|63&u}}return r[n]=0,n-o}function stringToUTF8(e,r,n){return stringToUTF8Array(e,g,r,n)}function lengthBytesUTF8(e){for(var r=0,n=0;n<e.length;++n){var t=e.charCodeAt(n);t>=55296&&t<=57343&&(t=65536+((1023&t)<<10)|1023&e.charCodeAt(++n)),t<=127?++r:r+=t<=2047?2:t<=65535?3:4}return r}function writeAsciiToMemory(e,r,n){for(var t=0;t<e.length;++t)_[r++>>0]=e.charCodeAt(t);n||(_[r>>0]=0)}function stackTrace(){var e=function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(r){e=r}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}();return o.extraStackTrace&&(e+="\n"+o.extraStackTrace()),function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var r=function demangle(e){return e}(e);return e===r?e:r+" ["+e+"]"})}(e)}function alignUp(e,r){return e%r>0&&(e+=r-e%r),e}function updateGlobalBufferViews(){o.HEAP8=_=new Int8Array(h),o.HEAP16=y=new Int16Array(h),o.HEAP32=E=new Int32Array(h),o.HEAPU8=g=new Uint8Array(h),o.HEAPU16=v=new Uint16Array(h),o.HEAPU32=w=new Uint32Array(h),o.HEAPF32=b=new Float32Array(h),o.HEAPF64=D=new Float64Array(h)}var S=34816,T=o.TOTAL_MEMORY||16777216;function callRuntimeCallbacks(e){for(;e.length>0;){var r=e.shift();if("function"!=typeof r){var n=r.func;"number"===typeof n?void 0===r.arg?o.dynCall_v(n):o.dynCall_vi(n,r.arg):n(void 0===r.arg?null:r.arg)}else r()}}T<5242880&&l("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+T+"! (TOTAL_STACK=5242880)"),o.buffer?h=o.buffer:("object"===typeof WebAssembly&&"function"===typeof WebAssembly.Memory?(f=new WebAssembly.Memory({initial:T/65536}),h=f.buffer):h=new ArrayBuffer(T),o.buffer=h),updateGlobalBufferViews(),E[S>>2]=5277952;var A=[],F=[],N=[],O=[],R=!1;Math.abs,Math.ceil,Math.floor,Math.min;var P=0,M=null,B=null;function addRunDependency(e){P++,o.monitorRunDependencies&&o.monitorRunDependencies(P)}function removeRunDependency(e){if(P--,o.monitorRunDependencies&&o.monitorRunDependencies(P),0==P&&(null!==M&&(clearInterval(M),M=null),B)){var r=B;B=null,r()}}o.preloadedImages={},o.preloadedAudios={};var C="data:application/octet-stream;base64,";function isDataURI(e){return String.prototype.startsWith?e.startsWith(C):0===e.indexOf(C)}var L=n("fc485a");function getBinary(){try{if(o.wasmBinary)return new Uint8Array(o.wasmBinary);if(o.readBinary)return o.readBinary(L);throw"both async and sync fetching of the wasm failed"}catch(e){abort(e)}}function createWasm(e){var r={env:e,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:d};function receiveInstance(e,r){var n=e.exports;o.asm=n,removeRunDependency()}if(addRunDependency(),o.instantiateWasm)try{return o.instantiateWasm(r,receiveInstance)}catch(e){return l("Module.instantiateWasm callback failed with error: "+e),!1}function receiveInstantiatedSource(e){receiveInstance(e.instance)}function instantiateArrayBuffer(e){(function getBinaryPromise(){return o.wasmBinary||!a&&!u||"function"!==typeof fetch?new Promise(function(e,r){e(getBinary())}):fetch(L,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+L+"'";return e.arrayBuffer()}).catch(function(){return getBinary()})})().then(function(e){return WebAssembly.instantiate(e,r)}).then(e,function(e){l("failed to asynchronously prepare wasm: "+e),abort(e)})}return o.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||isDataURI(L)||"function"!==typeof fetch?instantiateArrayBuffer(receiveInstantiatedSource):WebAssembly.instantiateStreaming(fetch(L,{credentials:"same-origin"}),r).then(receiveInstantiatedSource,function(e){l("wasm streaming compile failed: "+e),l("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(receiveInstantiatedSource)}),{}}isDataURI(L)||(L=function locateFile(e){return e&&e.indexOf("http")>-1?e:o.locateFile?o.locateFile(e,s):s+e}(L)),o.asm=function(e,r,n){return r.memory=f,r.table=new WebAssembly.Table({initial:1048,maximum:1048,element:"anyfunc"}),r.__memory_base=1024,r.__table_base=0,createWasm(r)},F.push({func:function(){le()}},{func:function(){de()}},{func:function(){fe()}},{func:function(){pe()}});var x={};function ___cxa_free_exception(e){try{return _e(e)}catch(e){}}var I={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||I.infos[e])return e;for(var r in I.infos)for(var n=+r,t=I.infos[n].adjusted,o=t.length,i=0;i<o;i++)if(t[i]===e)return n;return e},addRef:function(e){e&&I.infos[e].refcount++},decRef:function(e){if(e){var r=I.infos[e];assert(r.refcount>0),r.refcount--,0!==r.refcount||r.rethrown||(r.destructor&&o.dynCall_vi(r.destructor,e),delete I.infos[e],___cxa_free_exception(e))}},clearRef:function(e){e&&(I.infos[e].refcount=0)}};function ___cxa_find_matching_catch(){var e=I.last;if(!e)return 0|(p(0),0);var r=I.infos[e],n=r.type;if(!n)return 0|(p(0),e);var t=Array.prototype.slice.call(arguments);o.___cxa_is_pointer_type(n),___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=ye(4)),E[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var i=0;i<t.length;i++)if(t[i]&&o.___cxa_can_catch(t[i],n,e))return e=E[e>>2],r.adjusted.push(e),0|(p(t[i]),e);return e=E[e>>2],0|(p(n),e)}function ___setErrNo(e){return o.___errno_location&&(E[o.___errno_location()>>2]=e),e}var U={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var n=0,t=e.length-1;t>=0;t--){var o=e[t];"."===o?e.splice(t,1):".."===o?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(r)for(;n;n--)e.unshift("..");return e},normalize:function(e){var r="/"===e.charAt(0),n="/"===e.substr(-1);return(e=U.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"))||r||(e="."),e&&n&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=U.splitPath(e),n=r[0],t=r[1];return n||t?(t&&(t=t.substr(0,t.length-1)),n+t):"."},basename:function(e){if("/"===e)return"/";var r=e.lastIndexOf("/");return-1===r?e:e.substr(r+1)},extname:function(e){return U.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return U.normalize(e.join("/"))},join2:function(e,r){return U.normalize(e+"/"+r)},resolve:function(){for(var e="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var t=n>=0?arguments[n]:H.cwd();if("string"!==typeof t)throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,r="/"===t.charAt(0)}return e=U.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"),(r?"/":"")+e||"."},relative:function(e,r){function trim(e){for(var r=0;r<e.length&&""===e[r];r++);for(var n=e.length-1;n>=0&&""===e[n];n--);return r>n?[]:e.slice(r,n-r+1)}e=U.resolve(e).substr(1),r=U.resolve(r).substr(1);for(var n=trim(e.split("/")),t=trim(r.split("/")),o=Math.min(n.length,t.length),i=o,a=0;a<o;a++)if(n[a]!==t[a]){i=a;break}var u=[];for(a=i;a<n.length;a++)u.push("..");return(u=u.concat(t.slice(i))).join("/")}},j={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){j.ttys[e]={input:[],output:[],ops:r},H.registerDevice(e,j.stream_ops)},stream_ops:{open:function(e){var r=j.ttys[e.node.rdev];if(!r)throw new H.ErrnoError(Y.ENODEV);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,n,t,o){if(!e.tty||!e.tty.ops.get_char)throw new H.ErrnoError(Y.ENXIO);for(var i=0,a=0;a<t;a++){var u;try{u=e.tty.ops.get_char(e.tty)}catch(e){throw new H.ErrnoError(Y.EIO)}if(void 0===u&&0===i)throw new H.ErrnoError(Y.EAGAIN);if(null===u||void 0===u)break;i++,r[n+a]=u}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,n,t,o){if(!e.tty||!e.tty.ops.put_char)throw new H.ErrnoError(Y.ENXIO);try{for(var i=0;i<t;i++)e.tty.ops.put_char(e.tty,r[n+i])}catch(e){throw new H.ErrnoError(Y.EIO)}return t&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n"),!r)return null;e.input=intArrayFromString(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(c(UTF8ArrayToString(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(c(UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(l(UTF8ArrayToString(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(l(UTF8ArrayToString(e.output,0)),e.output=[])}}},z={ops_table:null,mount:function(e){return z.createNode(null,"/",16895,0)},createNode:function(e,r,n,t){if(H.isBlkdev(n)||H.isFIFO(n))throw new H.ErrnoError(Y.EPERM);z.ops_table||(z.ops_table={dir:{node:{getattr:z.node_ops.getattr,setattr:z.node_ops.setattr,lookup:z.node_ops.lookup,mknod:z.node_ops.mknod,rename:z.node_ops.rename,unlink:z.node_ops.unlink,rmdir:z.node_ops.rmdir,readdir:z.node_ops.readdir,symlink:z.node_ops.symlink},stream:{llseek:z.stream_ops.llseek}},file:{node:{getattr:z.node_ops.getattr,setattr:z.node_ops.setattr},stream:{llseek:z.stream_ops.llseek,read:z.stream_ops.read,write:z.stream_ops.write,allocate:z.stream_ops.allocate,mmap:z.stream_ops.mmap,msync:z.stream_ops.msync}},link:{node:{getattr:z.node_ops.getattr,setattr:z.node_ops.setattr,readlink:z.node_ops.readlink},stream:{}},chrdev:{node:{getattr:z.node_ops.getattr,setattr:z.node_ops.setattr},stream:H.chrdev_stream_ops}});var o=H.createNode(e,r,n,t);return H.isDir(o.mode)?(o.node_ops=z.ops_table.dir.node,o.stream_ops=z.ops_table.dir.stream,o.contents={}):H.isFile(o.mode)?(o.node_ops=z.ops_table.file.node,o.stream_ops=z.ops_table.file.stream,o.usedBytes=0,o.contents=null):H.isLink(o.mode)?(o.node_ops=z.ops_table.link.node,o.stream_ops=z.ops_table.link.stream):H.isChrdev(o.mode)&&(o.node_ops=z.ops_table.chrdev.node,o.stream_ops=z.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[r]=o),o},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var r=[],n=0;n<e.usedBytes;++n)r.push(e.contents[n]);return r}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,r){var n=e.contents?e.contents.length:0;if(!(n>=r)){r=Math.max(r,n*(n<1048576?2:1.125)|0),0!=n&&(r=Math.max(r,256));var t=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(t.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r){if(0==r)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(r)),n&&e.contents.set(n.subarray(0,Math.min(r,e.usedBytes))),void(e.usedBytes=r)}if(e.contents||(e.contents=[]),e.contents.length>r)e.contents.length=r;else for(;e.contents.length<r;)e.contents.push(0);e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=H.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,H.isDir(e.mode)?r.size=4096:H.isFile(e.mode)?r.size=e.usedBytes:H.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&z.resizeFileStorage(e,r.size)},lookup:function(e,r){throw H.genericErrors[Y.ENOENT]},mknod:function(e,r,n,t){return z.createNode(e,r,n,t)},rename:function(e,r,n){if(H.isDir(e.mode)){var t;try{t=H.lookupNode(r,n)}catch(e){}if(t)for(var o in t.contents)throw new H.ErrnoError(Y.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=n,r.contents[n]=e,e.parent=r},unlink:function(e,r){delete e.contents[r]},rmdir:function(e,r){var n=H.lookupNode(e,r);for(var t in n.contents)throw new H.ErrnoError(Y.ENOTEMPTY);delete e.contents[r]},readdir:function(e){var r=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&r.push(n);return r},symlink:function(e,r,n){var t=z.createNode(e,r,41471,0);return t.link=n,t},readlink:function(e){if(!H.isLink(e.mode))throw new H.ErrnoError(Y.EINVAL);return e.link}},stream_ops:{read:function(e,r,n,t,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,t);if(a>8&&i.subarray)r.set(i.subarray(o,o+a),n);else for(var u=0;u<a;u++)r[n+u]=i[o+u];return a},write:function(e,r,n,t,o,i){if(!t)return 0;var a=e.node;if(a.timestamp=Date.now(),r.subarray&&(!a.contents||a.contents.subarray)){if(0===a.usedBytes&&0===o)return a.contents=new Uint8Array(r.subarray(n,n+t)),a.usedBytes=t,t;if(o+t<=a.usedBytes)return a.contents.set(r.subarray(n,n+t),o),t}if(z.expandFileStorage(a,o+t),a.contents.subarray&&r.subarray)a.contents.set(r.subarray(n,n+t),o);else for(var u=0;u<t;u++)a.contents[o+u]=r[n+u];return a.usedBytes=Math.max(a.usedBytes,o+t),t},llseek:function(e,r,n){var t=r;if(1===n?t+=e.position:2===n&&H.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new H.ErrnoError(Y.EINVAL);return t},allocate:function(e,r,n){z.expandFileStorage(e.node,r+n),e.node.usedBytes=Math.max(e.node.usedBytes,r+n)},mmap:function(e,r,n,t,o,i,a){if(!H.isFile(e.node.mode))throw new H.ErrnoError(Y.ENODEV);var u,s,c=e.node.contents;if(2&a||c.buffer!==r&&c.buffer!==r.buffer){if((o>0||o+t<e.node.usedBytes)&&(c=c.subarray?c.subarray(o,o+t):Array.prototype.slice.call(c,o,o+t)),s=!0,!(u=ye(t)))throw new H.ErrnoError(Y.ENOMEM);r.set(c,u)}else s=!1,u=c.byteOffset;return{ptr:u,allocated:s}},msync:function(e,r,n,t,o){if(!H.isFile(e.node.mode))throw new H.ErrnoError(Y.ENODEV);return 2&o?0:(z.stream_ops.write(e,r,0,t,n,!1),0)}}},W={dbs:{},indexedDB:function(){if("undefined"!==typeof indexedDB)return indexedDB;var e=null;return"object"===typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return z.mount.apply(null,arguments)},syncfs:function(e,r,n){W.getLocalSet(e,function(t,o){if(t)return n(t);W.getRemoteSet(e,function(e,t){if(e)return n(e);var i=r?t:o,a=r?o:t;W.reconcile(i,a,n)})})},getDB:function(e,r){var n,t=W.dbs[e];if(t)return r(null,t);try{n=W.indexedDB().open(e,W.DB_VERSION)}catch(e){return r(e)}if(!n)return r("Unable to connect to IndexedDB");n.onupgradeneeded=function(e){var r,n=e.target.result,t=e.target.transaction;(r=n.objectStoreNames.contains(W.DB_STORE_NAME)?t.objectStore(W.DB_STORE_NAME):n.createObjectStore(W.DB_STORE_NAME)).indexNames.contains("timestamp")||r.createIndex("timestamp","timestamp",{unique:!1})},n.onsuccess=function(){t=n.result,W.dbs[e]=t,r(null,t)},n.onerror=function(e){r(this.error),e.preventDefault()}},getLocalSet:function(e,r){var n={};function isRealDir(e){return"."!==e&&".."!==e}function toAbsolute(e){return function(r){return U.join2(e,r)}}for(var t=H.readdir(e.mountpoint).filter(isRealDir).map(toAbsolute(e.mountpoint));t.length;){var o,i=t.pop();try{o=H.stat(i)}catch(e){return r(e)}H.isDir(o.mode)&&t.push.apply(t,H.readdir(i).filter(isRealDir).map(toAbsolute(i))),n[i]={timestamp:o.mtime}}return r(null,{type:"local",entries:n})},getRemoteSet:function(e,r){var n={};W.getDB(e.mountpoint,function(e,t){if(e)return r(e);try{var o=t.transaction([W.DB_STORE_NAME],"readonly");o.onerror=function(e){r(this.error),e.preventDefault()},o.objectStore(W.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var o=e.target.result;if(!o)return r(null,{type:"remote",db:t,entries:n});n[o.primaryKey]={timestamp:o.key},o.continue()}}catch(e){return r(e)}})},loadLocalEntry:function(e,r){var n,t;try{t=H.lookupPath(e).node,n=H.stat(e)}catch(e){return r(e)}return H.isDir(n.mode)?r(null,{timestamp:n.mtime,mode:n.mode}):H.isFile(n.mode)?(t.contents=z.getFileDataAsTypedArray(t),r(null,{timestamp:n.mtime,mode:n.mode,contents:t.contents})):r(new Error("node type not supported"))},storeLocalEntry:function(e,r,n){try{if(H.isDir(r.mode))H.mkdir(e,r.mode);else{if(!H.isFile(r.mode))return n(new Error("node type not supported"));H.writeFile(e,r.contents,{canOwn:!0})}H.chmod(e,r.mode),H.utime(e,r.timestamp,r.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,r){try{H.lookupPath(e);var n=H.stat(e);H.isDir(n.mode)?H.rmdir(e):H.isFile(n.mode)&&H.unlink(e)}catch(e){return r(e)}r(null)},loadRemoteEntry:function(e,r,n){var t=e.get(r);t.onsuccess=function(e){n(null,e.target.result)},t.onerror=function(e){n(this.error),e.preventDefault()}},storeRemoteEntry:function(e,r,n,t){var o=e.put(n,r);o.onsuccess=function(){t(null)},o.onerror=function(e){t(this.error),e.preventDefault()}},removeRemoteEntry:function(e,r,n){var t=e.delete(r);t.onsuccess=function(){n(null)},t.onerror=function(e){n(this.error),e.preventDefault()}},reconcile:function(e,r,n){var t=0,o=[];Object.keys(e.entries).forEach(function(n){var i=e.entries[n],a=r.entries[n];(!a||i.timestamp>a.timestamp)&&(o.push(n),t++)});var i=[];if(Object.keys(r.entries).forEach(function(n){r.entries[n],e.entries[n]||(i.push(n),t++)}),!t)return n(null);var a=0,u=("remote"===e.type?e.db:r.db).transaction([W.DB_STORE_NAME],"readwrite"),s=u.objectStore(W.DB_STORE_NAME);function done(e){return e?done.errored?void 0:(done.errored=!0,n(e)):++a>=t?n(null):void 0}u.onerror=function(e){done(this.error),e.preventDefault()},o.sort().forEach(function(e){"local"===r.type?W.loadRemoteEntry(s,e,function(r,n){if(r)return done(r);W.storeLocalEntry(e,n,done)}):W.loadLocalEntry(e,function(r,n){if(r)return done(r);W.storeRemoteEntry(s,e,n,done)})}),i.sort().reverse().forEach(function(e){"local"===r.type?W.removeLocalEntry(e,done):W.removeRemoteEntry(s,e,done)})}},V={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){assert(u),V.reader||(V.reader=new FileReaderSync);var r=V.createNode(null,"/",V.DIR_MODE,0),n={};function ensureParent(e){for(var t=e.split("/"),o=r,i=0;i<t.length-1;i++){var a=t.slice(0,i+1).join("/");n[a]||(n[a]=V.createNode(o,t[i],V.DIR_MODE,0)),o=n[a]}return o}function base(e){var r=e.split("/");return r[r.length-1]}return Array.prototype.forEach.call(e.opts.files||[],function(e){V.createNode(ensureParent(e.name),base(e.name),V.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){V.createNode(ensureParent(e.name),base(e.name),V.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(r){var n=r.filename.substr(1);V.createNode(ensureParent(n),base(n),V.FILE_MODE,0,e.blob.slice(r.start,r.end))})}),r},createNode:function(e,r,n,t,o,i){var a=H.createNode(e,r,n);return a.mode=n,a.node_ops=V.node_ops,a.stream_ops=V.stream_ops,a.timestamp=(i||new Date).getTime(),assert(V.FILE_MODE!==V.DIR_MODE),n===V.FILE_MODE?(a.size=o.size,a.contents=o):(a.size=4096,a.contents={}),e&&(e.contents[r]=a),a},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp)},lookup:function(e,r){throw new H.ErrnoError(Y.ENOENT)},mknod:function(e,r,n,t){throw new H.ErrnoError(Y.EPERM)},rename:function(e,r,n){throw new H.ErrnoError(Y.EPERM)},unlink:function(e,r){throw new H.ErrnoError(Y.EPERM)},rmdir:function(e,r){throw new H.ErrnoError(Y.EPERM)},readdir:function(e){var r=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&r.push(n);return r},symlink:function(e,r,n){throw new H.ErrnoError(Y.EPERM)},readlink:function(e){throw new H.ErrnoError(Y.EPERM)}},stream_ops:{read:function(e,r,n,t,o){if(o>=e.node.size)return 0;var i=e.node.contents.slice(o,o+t),a=V.reader.readAsArrayBuffer(i);return r.set(new Uint8Array(a),n),i.size},write:function(e,r,n,t,o){throw new H.ErrnoError(Y.EIO)},llseek:function(e,r,n){var t=r;if(1===n?t+=e.position:2===n&&H.isFile(e.node.mode)&&(t+=e.node.size),t<0)throw new H.ErrnoError(Y.EINVAL);return t}}},H={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof H.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,r){if(e=U.resolve(H.cwd(),e),r=r||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var t in n)void 0===r[t]&&(r[t]=n[t]);if(r.recurse_count>8)throw new H.ErrnoError(40);for(var o=U.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),i=H.root,a="/",u=0;u<o.length;u++){var s=u===o.length-1;if(s&&r.parent)break;if(i=H.lookupNode(i,o[u]),a=U.join2(a,o[u]),H.isMountpoint(i)&&(!s||s&&r.follow_mount)&&(i=i.mounted.root),!s||r.follow)for(var c=0;H.isLink(i.mode);){var l=H.readlink(a);if(a=U.resolve(U.dirname(a),l),i=H.lookupPath(a,{recurse_count:r.recurse_count}).node,c++>40)throw new H.ErrnoError(40)}}return{path:a,node:i}},getPath:function(e){for(var r;;){if(H.isRoot(e)){var n=e.mount.mountpoint;return r?"/"!==n[n.length-1]?n+"/"+r:n+r:n}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var n=0,t=0;t<r.length;t++)n=(n<<5)-n+r.charCodeAt(t)|0;return(e+n>>>0)%H.nameTable.length},hashAddNode:function(e){var r=H.hashName(e.parent.id,e.name);e.name_next=H.nameTable[r],H.nameTable[r]=e},hashRemoveNode:function(e){var r=H.hashName(e.parent.id,e.name);if(H.nameTable[r]===e)H.nameTable[r]=e.name_next;else for(var n=H.nameTable[r];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,r){var n=H.mayLookup(e);if(n)throw new H.ErrnoError(n,e);for(var t=H.hashName(e.id,r),o=H.nameTable[t];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===r)return o}return H.lookup(e,r)},createNode:function(e,r,n,t){H.FSNode||(H.FSNode=function(e,r,n,t){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=H.nextInode++,this.name=r,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=t},H.FSNode.prototype={},Object.defineProperties(H.FSNode.prototype,{read:{get:function(){return 365===(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return H.isDir(this.mode)}},isDevice:{get:function(){return H.isChrdev(this.mode)}}}));var o=new H.FSNode(e,r,n,t);return H.hashAddNode(o),o},destroyNode:function(e){H.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var r=H.flagModes[e];if("undefined"===typeof r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return H.ignorePermissions?0:(-1===r.indexOf("r")||292&e.mode)&&(-1===r.indexOf("w")||146&e.mode)&&(-1===r.indexOf("x")||73&e.mode)?0:13},mayLookup:function(e){var r=H.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:13)},mayCreate:function(e,r){try{return H.lookupNode(e,r),17}catch(e){}return H.nodePermissions(e,"wx")},mayDelete:function(e,r,n){var t;try{t=H.lookupNode(e,r)}catch(e){return e.errno}var o=H.nodePermissions(e,"wx");if(o)return o;if(n){if(!H.isDir(t.mode))return 20;if(H.isRoot(t)||H.getPath(t)===H.cwd())return 16}else if(H.isDir(t.mode))return 21;return 0},mayOpen:function(e,r){return e?H.isLink(e.mode)?40:H.isDir(e.mode)&&("r"!==H.flagsToPermissionString(r)||512&r)?21:H.nodePermissions(e,H.flagsToPermissionString(r)):2},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||H.MAX_OPEN_FDS;for(var n=e;n<=r;n++)if(!H.streams[n])return n;throw new H.ErrnoError(24)},getStream:function(e){return H.streams[e]},createStream:function(e,r,n){H.FSStream||(H.FSStream=function(){},H.FSStream.prototype={},Object.defineProperties(H.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var t=new H.FSStream;for(var o in e)t[o]=e[o];e=t;var i=H.nextfd(r,n);return e.fd=i,H.streams[i]=e,e},closeStream:function(e){H.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=H.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new H.ErrnoError(29)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){H.devices[e]={stream_ops:r}},getDevice:function(e){return H.devices[e]},getMounts:function(e){for(var r=[],n=[e];n.length;){var t=n.pop();r.push(t),n.push.apply(n,t.mounts)}return r},syncfs:function(e,r){"function"===typeof e&&(r=e,e=!1),H.syncFSRequests++,H.syncFSRequests>1&&console.log("warning: "+H.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=H.getMounts(H.root.mount),t=0;function doCallback(e){return H.syncFSRequests--,r(e)}function done(e){if(e)return done.errored?void 0:(done.errored=!0,doCallback(e));++t>=n.length&&doCallback(null)}n.forEach(function(r){if(!r.type.syncfs)return done(null);r.type.syncfs(r,e,done)})},mount:function(e,r,n){var t,o="/"===n,i=!n;if(o&&H.root)throw new H.ErrnoError(16);if(!o&&!i){var a=H.lookupPath(n,{follow_mount:!1});if(n=a.path,t=a.node,H.isMountpoint(t))throw new H.ErrnoError(16);if(!H.isDir(t.mode))throw new H.ErrnoError(20)}var u={type:e,opts:r,mountpoint:n,mounts:[]},s=e.mount(u);return s.mount=u,u.root=s,o?H.root=s:t&&(t.mounted=u,t.mount&&t.mount.mounts.push(u)),s},unmount:function(e){var r=H.lookupPath(e,{follow_mount:!1});if(!H.isMountpoint(r.node))throw new H.ErrnoError(22);var n=r.node,t=n.mounted,o=H.getMounts(t);Object.keys(H.nameTable).forEach(function(e){for(var r=H.nameTable[e];r;){var n=r.name_next;-1!==o.indexOf(r.mount)&&H.destroyNode(r),r=n}}),n.mounted=null;var i=n.mount.mounts.indexOf(t);n.mount.mounts.splice(i,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,n){var t=H.lookupPath(e,{parent:!0}).node,o=U.basename(e);if(!o||"."===o||".."===o)throw new H.ErrnoError(22);var i=H.mayCreate(t,o);if(i)throw new H.ErrnoError(i);if(!t.node_ops.mknod)throw new H.ErrnoError(1);return t.node_ops.mknod(t,o,r,n)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,H.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,H.mknod(e,r,0)},mkdirTree:function(e,r){for(var n=e.split("/"),t="",o=0;o<n.length;++o)if(n[o]){t+="/"+n[o];try{H.mkdir(t,r)}catch(e){if(17!=e.errno)throw e}}},mkdev:function(e,r,n){return"undefined"===typeof n&&(n=r,r=438),r|=8192,H.mknod(e,r,n)},symlink:function(e,r){if(!U.resolve(e))throw new H.ErrnoError(2);var n=H.lookupPath(r,{parent:!0}).node;if(!n)throw new H.ErrnoError(2);var t=U.basename(r),o=H.mayCreate(n,t);if(o)throw new H.ErrnoError(o);if(!n.node_ops.symlink)throw new H.ErrnoError(1);return n.node_ops.symlink(n,t,e)},rename:function(e,r){var n,t,o=U.dirname(e),i=U.dirname(r),a=U.basename(e),u=U.basename(r);try{n=H.lookupPath(e,{parent:!0}).node,t=H.lookupPath(r,{parent:!0}).node}catch(e){throw new H.ErrnoError(16)}if(!n||!t)throw new H.ErrnoError(2);if(n.mount!==t.mount)throw new H.ErrnoError(18);var s,c=H.lookupNode(n,a),l=U.relative(e,i);if("."!==l.charAt(0))throw new H.ErrnoError(22);if("."!==(l=U.relative(r,o)).charAt(0))throw new H.ErrnoError(39);try{s=H.lookupNode(t,u)}catch(e){}if(c!==s){var f=H.isDir(c.mode),d=H.mayDelete(n,a,f);if(d)throw new H.ErrnoError(d);if(d=s?H.mayDelete(t,u,f):H.mayCreate(t,u))throw new H.ErrnoError(d);if(!n.node_ops.rename)throw new H.ErrnoError(1);if(H.isMountpoint(c)||s&&H.isMountpoint(s))throw new H.ErrnoError(16);if(t!==n&&(d=H.nodePermissions(n,"w")))throw new H.ErrnoError(d);try{H.trackingDelegate.willMovePath&&H.trackingDelegate.willMovePath(e,r)}catch(n){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+r+"') threw an exception: "+n.message)}H.hashRemoveNode(c);try{n.node_ops.rename(c,t,u)}catch(e){throw e}finally{H.hashAddNode(c)}try{H.trackingDelegate.onMovePath&&H.trackingDelegate.onMovePath(e,r)}catch(n){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+r+"') threw an exception: "+n.message)}}},rmdir:function(e){var r=H.lookupPath(e,{parent:!0}).node,n=U.basename(e),t=H.lookupNode(r,n),o=H.mayDelete(r,n,!0);if(o)throw new H.ErrnoError(o);if(!r.node_ops.rmdir)throw new H.ErrnoError(1);if(H.isMountpoint(t))throw new H.ErrnoError(16);try{H.trackingDelegate.willDeletePath&&H.trackingDelegate.willDeletePath(e)}catch(r){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+r.message)}r.node_ops.rmdir(r,n),H.destroyNode(t);try{H.trackingDelegate.onDeletePath&&H.trackingDelegate.onDeletePath(e)}catch(r){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+r.message)}},readdir:function(e){var r=H.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new H.ErrnoError(20);return r.node_ops.readdir(r)},unlink:function(e){var r=H.lookupPath(e,{parent:!0}).node,n=U.basename(e),t=H.lookupNode(r,n),o=H.mayDelete(r,n,!1);if(o)throw new H.ErrnoError(o);if(!r.node_ops.unlink)throw new H.ErrnoError(1);if(H.isMountpoint(t))throw new H.ErrnoError(16);try{H.trackingDelegate.willDeletePath&&H.trackingDelegate.willDeletePath(e)}catch(r){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+r.message)}r.node_ops.unlink(r,n),H.destroyNode(t);try{H.trackingDelegate.onDeletePath&&H.trackingDelegate.onDeletePath(e)}catch(r){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+r.message)}},readlink:function(e){var r=H.lookupPath(e).node;if(!r)throw new H.ErrnoError(2);if(!r.node_ops.readlink)throw new H.ErrnoError(22);return U.resolve(H.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,r){var n=H.lookupPath(e,{follow:!r}).node;if(!n)throw new H.ErrnoError(2);if(!n.node_ops.getattr)throw new H.ErrnoError(1);return n.node_ops.getattr(n)},lstat:function(e){return H.stat(e,!0)},chmod:function(e,r,n){var t;if(!(t="string"===typeof e?H.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new H.ErrnoError(1);t.node_ops.setattr(t,{mode:4095&r|-4096&t.mode,timestamp:Date.now()})},lchmod:function(e,r){H.chmod(e,r,!0)},fchmod:function(e,r){var n=H.getStream(e);if(!n)throw new H.ErrnoError(9);H.chmod(n.node,r)},chown:function(e,r,n,t){var o;if(!(o="string"===typeof e?H.lookupPath(e,{follow:!t}).node:e).node_ops.setattr)throw new H.ErrnoError(1);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,r,n){H.chown(e,r,n,!0)},fchown:function(e,r,n){var t=H.getStream(e);if(!t)throw new H.ErrnoError(9);H.chown(t.node,r,n)},truncate:function(e,r){if(r<0)throw new H.ErrnoError(22);var n;if(!(n="string"===typeof e?H.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new H.ErrnoError(1);if(H.isDir(n.mode))throw new H.ErrnoError(21);if(!H.isFile(n.mode))throw new H.ErrnoError(22);var t=H.nodePermissions(n,"w");if(t)throw new H.ErrnoError(t);n.node_ops.setattr(n,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var n=H.getStream(e);if(!n)throw new H.ErrnoError(9);if(0===(2097155&n.flags))throw new H.ErrnoError(22);H.truncate(n.node,r)},utime:function(e,r,n){var t=H.lookupPath(e,{follow:!0}).node;t.node_ops.setattr(t,{timestamp:Math.max(r,n)})},open:function(e,r,n,t,i){if(""===e)throw new H.ErrnoError(2);var a;if(r="string"===typeof r?H.modeStringToFlags(r):r,n="undefined"===typeof n?438:n,n=64&r?4095&n|32768:0,"object"===typeof e)a=e;else{e=U.normalize(e);try{a=H.lookupPath(e,{follow:!(131072&r)}).node}catch(e){}}var u=!1;if(64&r)if(a){if(128&r)throw new H.ErrnoError(17)}else a=H.mknod(e,n,0),u=!0;if(!a)throw new H.ErrnoError(2);if(H.isChrdev(a.mode)&&(r&=-513),65536&r&&!H.isDir(a.mode))throw new H.ErrnoError(20);if(!u){var s=H.mayOpen(a,r);if(s)throw new H.ErrnoError(s)}512&r&&H.truncate(a,0),r&=-641;var c=H.createStream({node:a,path:H.getPath(a),flags:r,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},t,i);c.stream_ops.open&&c.stream_ops.open(c),!o.logReadFiles||1&r||(H.readFiles||(H.readFiles={}),e in H.readFiles||(H.readFiles[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{if(H.trackingDelegate.onOpenFile){var l=0;1!==(2097155&r)&&(l|=H.tracking.openFlags.READ),0!==(2097155&r)&&(l|=H.tracking.openFlags.WRITE),H.trackingDelegate.onOpenFile(e,l)}}catch(r){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+r.message)}return c},close:function(e){if(H.isClosed(e))throw new H.ErrnoError(9);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{H.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,n){if(H.isClosed(e))throw new H.ErrnoError(9);if(!e.seekable||!e.stream_ops.llseek)throw new H.ErrnoError(29);if(0!=n&&1!=n&&2!=n)throw new H.ErrnoError(22);return e.position=e.stream_ops.llseek(e,r,n),e.ungotten=[],e.position},read:function(e,r,n,t,o){if(t<0||o<0)throw new H.ErrnoError(22);if(H.isClosed(e))throw new H.ErrnoError(9);if(1===(2097155&e.flags))throw new H.ErrnoError(9);if(H.isDir(e.node.mode))throw new H.ErrnoError(21);if(!e.stream_ops.read)throw new H.ErrnoError(22);var i="undefined"!==typeof o;if(i){if(!e.seekable)throw new H.ErrnoError(29)}else o=e.position;var a=e.stream_ops.read(e,r,n,t,o);return i||(e.position+=a),a},write:function(e,r,n,t,o,i){if(t<0||o<0)throw new H.ErrnoError(22);if(H.isClosed(e))throw new H.ErrnoError(9);if(0===(2097155&e.flags))throw new H.ErrnoError(9);if(H.isDir(e.node.mode))throw new H.ErrnoError(21);if(!e.stream_ops.write)throw new H.ErrnoError(22);1024&e.flags&&H.llseek(e,0,2);var a="undefined"!==typeof o;if(a){if(!e.seekable)throw new H.ErrnoError(29)}else o=e.position;var u=e.stream_ops.write(e,r,n,t,o,i);a||(e.position+=u);try{e.path&&H.trackingDelegate.onWriteToFile&&H.trackingDelegate.onWriteToFile(e.path)}catch(r){console.log("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+r.message)}return u},allocate:function(e,r,n){if(H.isClosed(e))throw new H.ErrnoError(9);if(r<0||n<=0)throw new H.ErrnoError(22);if(0===(2097155&e.flags))throw new H.ErrnoError(9);if(!H.isFile(e.node.mode)&&!H.isDir(e.node.mode))throw new H.ErrnoError(19);if(!e.stream_ops.allocate)throw new H.ErrnoError(95);e.stream_ops.allocate(e,r,n)},mmap:function(e,r,n,t,o,i,a){if(1===(2097155&e.flags))throw new H.ErrnoError(13);if(!e.stream_ops.mmap)throw new H.ErrnoError(19);return e.stream_ops.mmap(e,r,n,t,o,i,a)},msync:function(e,r,n,t,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,n,t,o):0},munmap:function(e){return 0},ioctl:function(e,r,n){if(!e.stream_ops.ioctl)throw new H.ErrnoError(25);return e.stream_ops.ioctl(e,r,n)},readFile:function(e,r){if((r=r||{}).flags=r.flags||"r",r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var n,t=H.open(e,r.flags),o=H.stat(e).size,i=new Uint8Array(o);return H.read(t,i,0,o,0),"utf8"===r.encoding?n=UTF8ArrayToString(i,0):"binary"===r.encoding&&(n=i),H.close(t),n},writeFile:function(e,r,n){(n=n||{}).flags=n.flags||"w";var t=H.open(e,n.flags,n.mode);if("string"===typeof r){var o=new Uint8Array(lengthBytesUTF8(r)+1),i=stringToUTF8Array(r,o,0,o.length);H.write(t,o,0,i,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");H.write(t,r,0,r.byteLength,void 0,n.canOwn)}H.close(t)},cwd:function(){return H.currentPath},chdir:function(e){var r=H.lookupPath(e,{follow:!0});if(null===r.node)throw new H.ErrnoError(2);if(!H.isDir(r.node.mode))throw new H.ErrnoError(20);var n=H.nodePermissions(r.node,"x");if(n)throw new H.ErrnoError(n);H.currentPath=r.path},createDefaultDirectories:function(){H.mkdir("/tmp"),H.mkdir("/home"),H.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(H.mkdir("/dev"),H.registerDevice(H.makedev(1,3),{read:function(){return 0},write:function(e,r,n,t,o){return t}}),H.mkdev("/dev/null",H.makedev(1,3)),j.register(H.makedev(5,0),j.default_tty_ops),j.register(H.makedev(6,0),j.default_tty1_ops),H.mkdev("/dev/tty",H.makedev(5,0)),H.mkdev("/dev/tty1",H.makedev(6,0)),"object"===typeof crypto&&"function"===typeof crypto.getRandomValues){var r=new Uint8Array(1);e=function(){return crypto.getRandomValues(r),r[0]}}else e=function(){abort("random_device")};H.createDevice("/dev","random",e),H.createDevice("/dev","urandom",e),H.mkdir("/dev/shm"),H.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){H.mkdir("/proc"),H.mkdir("/proc/self"),H.mkdir("/proc/self/fd"),H.mount({mount:function(){var e=H.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,r){var n=+r,t=H.getStream(n);if(!t)throw new H.ErrnoError(9);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return t.path}}};return o.parent=o,o}},e}},{},"/proc/self/fd")},createStandardStreams:function(){o.stdin?H.createDevice("/dev","stdin",o.stdin):H.symlink("/dev/tty","/dev/stdin"),o.stdout?H.createDevice("/dev","stdout",null,o.stdout):H.symlink("/dev/tty","/dev/stdout"),o.stderr?H.createDevice("/dev","stderr",null,o.stderr):H.symlink("/dev/tty1","/dev/stderr"),H.open("/dev/stdin","r"),H.open("/dev/stdout","w"),H.open("/dev/stderr","w")},ensureErrnoError:function(){H.ErrnoError||(H.ErrnoError=function ErrnoError(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error",this.stack&&Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0})},H.ErrnoError.prototype=new Error,H.ErrnoError.prototype.constructor=H.ErrnoError,[2].forEach(function(e){H.genericErrors[e]=new H.ErrnoError(e),H.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){H.ensureErrnoError(),H.nameTable=new Array(4096),H.mount(z,{},"/"),H.createDefaultDirectories(),H.createDefaultDevices(),H.createSpecialDirectories(),H.filesystems={MEMFS:z,IDBFS:W,WORKERFS:V}},init:function(e,r,n){H.init.initialized=!0,H.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=r||o.stdout,o.stderr=n||o.stderr,H.createStandardStreams()},quit:function(){H.init.initialized=!1;var e=o._fflush;e&&e(0);for(var r=0;r<H.streams.length;r++){var n=H.streams[r];n&&H.close(n)}},getMode:function(e,r){var n=0;return e&&(n|=365),r&&(n|=146),n},joinPath:function(e,r){var n=U.join.apply(null,e);return r&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,r){return U.resolve(r,e)},standardizePath:function(e){return U.normalize(e)},findObject:function(e,r){var n=H.analyzePath(e,r);return n.exists?n.object:(___setErrNo(n.error),null)},analyzePath:function(e,r){try{e=(t=H.lookupPath(e,{follow:!r})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=H.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=U.basename(e),t=H.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot="/"===t.path}catch(e){n.error=e.errno}return n},createFolder:function(e,r,n,t){var o=U.join2("string"===typeof e?e:H.getPath(e),r),i=H.getMode(n,t);return H.mkdir(o,i)},createPath:function(e,r,n,t){e="string"===typeof e?e:H.getPath(e);for(var o=r.split("/").reverse();o.length;){var i=o.pop();if(i){var a=U.join2(e,i);try{H.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,r,n,t,o){var i=U.join2("string"===typeof e?e:H.getPath(e),r),a=H.getMode(t,o);return H.create(i,a)},createDataFile:function(e,r,n,t,o,i){var a=r?U.join2("string"===typeof e?e:H.getPath(e),r):e,u=H.getMode(t,o),s=H.create(a,u);if(n){if("string"===typeof n){for(var c=new Array(n.length),l=0,f=n.length;l<f;++l)c[l]=n.charCodeAt(l);n=c}H.chmod(s,146|u);var d=H.open(s,"w");H.write(d,n,0,n.length,0,i),H.close(d),H.chmod(s,u)}return s},createDevice:function(e,r,n,t){var o=U.join2("string"===typeof e?e:H.getPath(e),r),i=H.getMode(!!n,!!t);H.createDevice.major||(H.createDevice.major=64);var a=H.makedev(H.createDevice.major++,0);return H.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){t&&t.buffer&&t.buffer.length&&t(10)},read:function(e,r,t,o,i){for(var a=0,u=0;u<o;u++){var s;try{s=n()}catch(e){throw new H.ErrnoError(5)}if(void 0===s&&0===a)throw new H.ErrnoError(11);if(null===s||void 0===s)break;a++,r[t+u]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,n,o,i){for(var a=0;a<o;a++)try{t(r[n+a])}catch(e){throw new H.ErrnoError(5)}return o&&(e.node.timestamp=Date.now()),a}}),H.mkdev(o,i,a)},createLink:function(e,r,n,t,o){var i=U.join2("string"===typeof e?e:H.getPath(e),r);return H.symlink(n,i)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var r=!0;if("undefined"!==typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!o.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(o.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){r=!1}return r||___setErrNo(5),r},createLazyFile:function(e,r,n,t,o){function LazyUint8Array(){this.lengthKnown=!1,this.chunks=[]}if(LazyUint8Array.prototype.get=function LazyUint8Array_get(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[r]}},LazyUint8Array.prototype.setDataGetter=function LazyUint8Array_setDataGetter(e){this.getter=e},LazyUint8Array.prototype.cacheLength=function LazyUint8Array_cacheLength(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var r,t=Number(e.getResponseHeader("Content-length")),o=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,i=(r=e.getResponseHeader("Content-Encoding"))&&"gzip"===r,a=1048576;o||(a=t);var u=this;u.setDataGetter(function(e){var r=e*a,o=(e+1)*a-1;if(o=Math.min(o,t-1),"undefined"===typeof u.chunks[e]&&(u.chunks[e]=function(e,r){if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>t-1)throw new Error("only "+t+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",n,!1),t!==a&&o.setRequestHeader("Range","bytes="+e+"-"+r),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+n+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):intArrayFromString(o.responseText||"",!0)}(r,o)),"undefined"===typeof u.chunks[e])throw new Error("doXHR failed!");return u.chunks[e]}),!i&&t||(a=t=1,t=this.getter(0).length,a=t,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=t,this._chunkSize=a,this.lengthKnown=!0},"undefined"!==typeof XMLHttpRequest){if(!u)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var i=new LazyUint8Array;Object.defineProperties(i,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var a={isDevice:!1,contents:i}}else a={isDevice:!1,url:n};var s=H.createFile(e,r,a,t,o);a.contents?s.contents=a.contents:a.url&&(s.contents=null,s.url=a.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(s.stream_ops).forEach(function(e){var r=s.stream_ops[e];c[e]=function forceLoadLazyFile(){if(!H.forceLoadFile(s))throw new H.ErrnoError(5);return r.apply(null,arguments)}}),c.read=function stream_ops_read(e,r,n,t,o){if(!H.forceLoadFile(s))throw new H.ErrnoError(5);var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,t);if(i.slice)for(var u=0;u<a;u++)r[n+u]=i[o+u];else for(u=0;u<a;u++)r[n+u]=i.get(o+u);return a},s.stream_ops=c,s},createPreloadedFile:function(e,r,n,t,i,a,u,s,c,l){Browser.init();var f=r?U.resolve(U.join2(e,r)):e;function processData(n){function finish(n){l&&l(),s||H.createDataFile(e,r,n,t,i,c),a&&a(),removeRunDependency()}var d=!1;o.preloadPlugins.forEach(function(e){d||e.canHandle(f)&&(e.handle(n,f,finish,function(){u&&u(),removeRunDependency()}),d=!0)}),d||finish(n)}!function getUniqueRunDependency(e){return e}("cp "+f),addRunDependency(),"string"==typeof n?Browser.asyncLoad(n,function(e){processData(e)},u):processData(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=H.indexedDB();try{var o=t.open(H.DB_NAME(),H.DB_VERSION)}catch(e){return n(e)}o.onupgradeneeded=function openRequest_onupgradeneeded(){console.log("creating db"),o.result.createObjectStore(H.DB_STORE_NAME)},o.onsuccess=function openRequest_onsuccess(){var t=o.result.transaction([H.DB_STORE_NAME],"readwrite"),i=t.objectStore(H.DB_STORE_NAME),a=0,u=0,s=e.length;function finish(){0==u?r():n()}e.forEach(function(e){var r=i.put(H.analyzePath(e).object.contents,e);r.onsuccess=function putRequest_onsuccess(){++a+u==s&&finish()},r.onerror=function putRequest_onerror(){a+ ++u==s&&finish()}}),t.onerror=n},o.onerror=n},loadFilesFromDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=H.indexedDB();try{var o=t.open(H.DB_NAME(),H.DB_VERSION)}catch(e){return n(e)}o.onupgradeneeded=n,o.onsuccess=function openRequest_onsuccess(){var t=o.result;try{var i=t.transaction([H.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var a=i.objectStore(H.DB_STORE_NAME),u=0,s=0,c=e.length;function finish(){0==s?r():n()}e.forEach(function(e){var r=a.get(e);r.onsuccess=function getRequest_onsuccess(){H.analyzePath(e).exists&&H.unlink(e),H.createDataFile(U.dirname(e),U.basename(e),r.result,!0,!0,!0),++u+s==c&&finish()},r.onerror=function getRequest_onerror(){u+ ++s==c&&finish()}}),i.onerror=n},o.onerror=n}},Y={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},q={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,r){if("/"!==r[0]){var n;if(-100===e)n=H.cwd();else{var t=H.getStream(e);if(!t)throw new H.ErrnoError(Y.EBADF);n=t.path}r=U.join2(n,r)}return r},doStat:function(e,r,n){try{var t=e(r)}catch(e){if(e&&e.node&&U.normalize(r)!==U.normalize(H.getPath(e.node)))return-Y.ENOTDIR;throw e}return E[n>>2]=t.dev,E[n+4>>2]=0,E[n+8>>2]=t.ino,E[n+12>>2]=t.mode,E[n+16>>2]=t.nlink,E[n+20>>2]=t.uid,E[n+24>>2]=t.gid,E[n+28>>2]=t.rdev,E[n+32>>2]=0,E[n+36>>2]=t.size,E[n+40>>2]=4096,E[n+44>>2]=t.blocks,E[n+48>>2]=t.atime.getTime()/1e3|0,E[n+52>>2]=0,E[n+56>>2]=t.mtime.getTime()/1e3|0,E[n+60>>2]=0,E[n+64>>2]=t.ctime.getTime()/1e3|0,E[n+68>>2]=0,E[n+72>>2]=t.ino,0},doMsync:function(e,r,n,t){var o=new Uint8Array(g.subarray(e,e+n));H.msync(r,o,0,n,t)},doMkdir:function(e,r){return"/"===(e=U.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),H.mkdir(e,r,0),0},doMknod:function(e,r,n){switch(61440&r){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-Y.EINVAL}return H.mknod(e,r,n),0},doReadlink:function(e,r,n){if(n<=0)return-Y.EINVAL;var t=H.readlink(e),o=Math.min(n,lengthBytesUTF8(t)),i=_[r+o];return stringToUTF8(t,r,n+1),_[r+o]=i,o},doAccess:function(e,r){if(-8&r)return-Y.EINVAL;var n;n=H.lookupPath(e,{follow:!0}).node;var t="";return 4&r&&(t+="r"),2&r&&(t+="w"),1&r&&(t+="x"),t&&H.nodePermissions(n,t)?-Y.EACCES:0},doDup:function(e,r,n){var t=H.getStream(n);return t&&H.close(t),H.open(e,r,0,n,n).fd},doReadv:function(e,r,n,t){for(var o=0,i=0;i<n;i++){var a=E[r+8*i>>2],u=E[r+(8*i+4)>>2],s=H.read(e,_,a,u,t);if(s<0)return-1;if(o+=s,s<u)break}return o},doWritev:function(e,r,n,t){for(var o=0,i=0;i<n;i++){var a=E[r+8*i>>2],u=E[r+(8*i+4)>>2],s=H.write(e,_,a,u,t);if(s<0)return-1;o+=s}return o},varargs:0,get:function(e){return q.varargs+=4,E[q.varargs-4>>2]},getStr:function(){return UTF8ToString(q.get())},getStreamFromFD:function(){var e=H.getStream(q.get());if(!e)throw new H.ErrnoError(Y.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(q.get());if(!e)throw new H.ErrnoError(Y.EBADF);return e},getSocketAddress:function(e){var r=q.get(),n=q.get();if(e&&0===r)return null;var t=__read_sockaddr(r,n);if(t.errno)throw new H.ErrnoError(t.errno);return t.addr=DNS.lookup_addr(t.addr)||t.addr,t},get64:function(){var e=q.get();return q.get(),e},getZero:function(){q.get()}};function getShiftFromSize(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var G=void 0;function readLatin1String(e){for(var r="",n=e;g[n];)r+=G[g[n++]];return r}var K={},X={},Z={},J=48,Q=57;function makeLegalFunctionName(e){if(void 0===e)return"_unknown";var r=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return r>=J&&r<=Q?"_"+e:e}function createNamedFunction(e,r){return e=makeLegalFunctionName(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(r)}function extendError(e,r){var n=createNamedFunction(r,function(e){this.name=r,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var $=void 0;function throwBindingError(e){throw new $(e)}var ee=void 0;function throwInternalError(e){throw new ee(e)}function registerType(e,r,n){if(n=n||{},!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var t=r.name;if(e||throwBindingError('type "'+t+'" must have a positive integer typeid pointer'),X.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;throwBindingError("Cannot register type '"+t+"' twice")}if(X[e]=r,delete Z[e],K.hasOwnProperty(e)){var o=K[e];delete K[e],o.forEach(function(e){e()})}}var re=[],ne=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function __emval_decref(e){e>4&&0===--ne[e].refcount&&(ne[e]=void 0,re.push(e))}function count_emval_handles(){for(var e=0,r=5;r<ne.length;++r)void 0!==ne[r]&&++e;return e}function get_first_emval(){for(var e=5;e<ne.length;++e)if(void 0!==ne[e])return ne[e];return null}function __emval_register(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var r=re.length?re.pop():ne.length;return ne[r]={refcount:1,value:e},r}}function simpleReadValueFromPointer(e){return this.fromWireType(w[e>>2])}function _embind_repr(e){if(null===e)return"null";var r=typeof e;return"object"===r||"array"===r||"function"===r?e.toString():""+e}function new_(e,r){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=createNamedFunction(e.name||"unknownFunctionName",function(){});n.prototype=e.prototype;var t=new n,o=e.apply(t,r);return o instanceof Object?o:t}function runDestructors(e){for(;e.length;){var r=e.pop();e.pop()(r)}}function exposePublicSymbol(e,r,n){o.hasOwnProperty(e)?((void 0===n||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[n])&&throwBindingError("Cannot register public name '"+e+"' twice"),function ensureOverloadTable(e,r,n){if(void 0===e[r].overloadTable){var t=e[r];e[r]=function(){return e[r].overloadTable.hasOwnProperty(arguments.length)||throwBindingError("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[r].overloadTable+")!"),e[r].overloadTable[arguments.length].apply(this,arguments)},e[r].overloadTable=[],e[r].overloadTable[t.argCount]=t}}(o,e,e),o.hasOwnProperty(n)&&throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),o[e].overloadTable[n]=r):(o[e]=r,void 0!==n&&(o[e].numArguments=n))}var te=void 0;function getTypeName(e){var r=he(e),n=readLatin1String(r);return _e(r),n}function requireHandle(e){return e||throwBindingError("Cannot use deleted val. handle = "+e),ne[e].value}function requireRegisteredType(e,r){var n=X[e];return void 0===n&&throwBindingError(r+" has unknown type "+getTypeName(e)),n}var oe={};function getStringOrSymbol(e){var r=oe[e];return void 0===r?readLatin1String(e):r}var ie=[];function emval_get_global(){return Function("return this")()}function _emscripten_get_now(){abort()}function _emscripten_get_heap_size(){return T}function _emscripten_resize_heap(e){var r=_emscripten_get_heap_size();if(e>2147418112)return!1;for(var n=Math.max(r,16777216);n<e;)n=n<=536870912?alignUp(2*n,65536):Math.min(alignUp((3*n+2147483648)/4,65536),2147418112);var t=function emscripten_realloc_buffer(e){e=alignUp(e,65536);var r=o.buffer.byteLength;try{return-1!==f.grow((e-r)/65536)?o.buffer=f.buffer:null}catch(e){return null}}(n);return!(!t||t.byteLength!=n)&&(function updateGlobalBuffer(e){o.buffer=h=e}(t),updateGlobalBufferViews(),T=n,w[S>>2]=e,!0)}function _llvm_stacksave(){var e=_llvm_stacksave;return e.LLVM_SAVEDSTACKS||(e.LLVM_SAVEDSTACKS=[]),e.LLVM_SAVEDSTACKS.push(we()),e.LLVM_SAVEDSTACKS.length-1}function __isLeapYear(e){return e%4===0&&(e%100!==0||e%400===0)}function __arraySum(e,r){for(var n=0,t=0;t<=r;n+=e[t++]);return n}var ae=[31,29,31,30,31,30,31,31,30,31,30,31],ue=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(e,r){for(var n=new Date(e.getTime());r>0;){var t=__isLeapYear(n.getFullYear()),o=n.getMonth(),i=(t?ae:ue)[o];if(!(r>i-n.getDate()))return n.setDate(n.getDate()+r),n;r-=i-n.getDate()+1,n.setDate(1),o<11?n.setMonth(o+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function _strftime(e,r,n,t){var o=E[t+40>>2],i={tm_sec:E[t>>2],tm_min:E[t+4>>2],tm_hour:E[t+8>>2],tm_mday:E[t+12>>2],tm_mon:E[t+16>>2],tm_year:E[t+20>>2],tm_wday:E[t+24>>2],tm_yday:E[t+28>>2],tm_isdst:E[t+32>>2],tm_gmtoff:E[t+36>>2],tm_zone:o?UTF8ToString(o):""},a=UTF8ToString(n),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"};for(var s in u)a=a.replace(new RegExp(s,"g"),u[s]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function leadingSomething(e,r,n){for(var t="number"===typeof e?e.toString():e||"";t.length<r;)t=n[0]+t;return t}function leadingNulls(e,r){return leadingSomething(e,r,"0")}function compareByDay(e,r){function sgn(e){return e<0?-1:e>0?1:0}var n;return 0===(n=sgn(e.getFullYear()-r.getFullYear()))&&0===(n=sgn(e.getMonth()-r.getMonth()))&&(n=sgn(e.getDate()-r.getDate())),n}function getFirstWeekStartDate(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function getWeekBasedYear(e){var r=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(r.getFullYear(),0,4),t=new Date(r.getFullYear()+1,0,4),o=getFirstWeekStartDate(n),i=getFirstWeekStartDate(t);return compareByDay(o,r)<=0?compareByDay(i,r)<=0?r.getFullYear()+1:r.getFullYear():r.getFullYear()-1}var f={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return leadingNulls((e.tm_year+1900)/100|0,2)},"%d":function(e){return leadingNulls(e.tm_mday,2)},"%e":function(e){return leadingSomething(e.tm_mday,2," ")},"%g":function(e){return getWeekBasedYear(e).toString().substring(2)},"%G":function(e){return getWeekBasedYear(e)},"%H":function(e){return leadingNulls(e.tm_hour,2)},"%I":function(e){var r=e.tm_hour;return 0==r?r=12:r>12&&(r-=12),leadingNulls(r,2)},"%j":function(e){return leadingNulls(e.tm_mday+__arraySum(__isLeapYear(e.tm_year+1900)?ae:ue,e.tm_mon-1),3)},"%m":function(e){return leadingNulls(e.tm_mon+1,2)},"%M":function(e){return leadingNulls(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return leadingNulls(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0).getDay()||7},"%U":function(e){var r=new Date(e.tm_year+1900,0,1),n=0===r.getDay()?r:__addDays(r,7-r.getDay()),t=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(compareByDay(n,t)<0){var o=__arraySum(__isLeapYear(t.getFullYear())?ae:ue,t.getMonth()-1)-31,i=31-n.getDate()+o+t.getDate();return leadingNulls(Math.ceil(i/7),2)}return 0===compareByDay(n,r)?"01":"00"},"%V":function(e){var r,n=new Date(e.tm_year+1900,0,4),t=new Date(e.tm_year+1901,0,4),o=getFirstWeekStartDate(n),i=getFirstWeekStartDate(t),a=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday);return compareByDay(a,o)<0?"53":compareByDay(i,a)<=0?"01":(r=o.getFullYear()<e.tm_year+1900?e.tm_yday+32-o.getDate():e.tm_yday+1-o.getDate(),leadingNulls(Math.ceil(r/7),2))},"%w":function(e){return new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0).getDay()},"%W":function(e){var r=new Date(e.tm_year,0,1),n=1===r.getDay()?r:__addDays(r,0===r.getDay()?1:7-r.getDay()+1),t=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(compareByDay(n,t)<0){var o=__arraySum(__isLeapYear(t.getFullYear())?ae:ue,t.getMonth()-1)-31,i=31-n.getDate()+o+t.getDate();return leadingNulls(Math.ceil(i/7),2)}return 0===compareByDay(n,r)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var r=e.tm_gmtoff,n=r>=0;return r=(r=Math.abs(r)/60)/60*100+r%60,(n?"+":"-")+String("0000"+r).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var s in f)a.indexOf(s)>=0&&(a=a.replace(new RegExp(s,"g"),f[s](i)));var d=intArrayFromString(a,!1);return d.length>r?0:(function writeArrayToMemory(e,r){_.set(e,r)}(d,e),d.length-1)}function intArrayFromString(e,r,n){var t=n>0?n:lengthBytesUTF8(e)+1,o=new Array(t),i=stringToUTF8Array(e,o,0,o.length);return r&&(o.length=i),o}H.staticInit(),function embind_init_charCodes(){for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);G=e}(),$=o.BindingError=extendError(Error,"BindingError"),ee=o.InternalError=extendError(Error,"InternalError"),function init_emval(){o.count_emval_handles=count_emval_handles,o.get_first_emval=get_first_emval}(),te=o.UnboundTypeError=extendError(Error,"UnboundTypeError"),_emscripten_get_now="undefined"!==typeof dateNow?dateNow:"object"===typeof self&&self.performance&&"function"===typeof self.performance.now?function(){return self.performance.now()}:"object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:Date.now;var se={r:abort,b:function(){return m},p:function invoke_diii(e,r,n,t){var o=we();try{return be(e,r,n,t)}catch(e){if(Ee(o),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},H:function invoke_i(e){var r=we();try{return De(e)}catch(e){if(Ee(r),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},e:function invoke_ii(e,r){var n=we();try{return ke(e,r)}catch(e){if(Ee(n),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},i:function invoke_iii(e,r,n){var t=we();try{return Se(e,r,n)}catch(e){if(Ee(t),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},o:function invoke_iiii(e,r,n,t){var o=we();try{return Te(e,r,n,t)}catch(e){if(Ee(o),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},l:function invoke_iiiii(e,r,n,t,o){var i=we();try{return Ae(e,r,n,t,o)}catch(e){if(Ee(i),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},X:function invoke_iiiiii(e,r,n,t,o,i){var a=we();try{return Fe(e,r,n,t,o,i)}catch(e){if(Ee(a),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},x:function invoke_iiiiiii(e,r,n,t,o,i,a){var u=we();try{return Ne(e,r,n,t,o,i,a)}catch(e){if(Ee(u),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},W:function invoke_iiiiiiii(e,r,n,t,o,i,a,u){var s=we();try{return Oe(e,r,n,t,o,i,a,u)}catch(e){if(Ee(s),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},V:function invoke_iiiiiiiii(e,r,n,t,o,i,a,u,s){var c=we();try{return Re(e,r,n,t,o,i,a,u,s)}catch(e){if(Ee(c),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},F:function invoke_iiiiiiiiiiii(e,r,n,t,o,i,a,u,s,c,l,f){var d=we();try{return Pe(e,r,n,t,o,i,a,u,s,c,l,f)}catch(e){if(Ee(d),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},Z:function invoke_iiijiiii(e,r,n,t,o,i,a,u,s){var c=we();try{return Me(e,r,n,t,o,i,a,u,s)}catch(e){if(Ee(c),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},k:function invoke_v(e){var r=we();try{Be(e)}catch(e){if(Ee(r),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},g:function invoke_vi(e,r){var n=we();try{Ce(e,r)}catch(e){if(Ee(n),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},f:function invoke_vii(e,r,n){var t=we();try{Le(e,r,n)}catch(e){if(Ee(t),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},j:function invoke_viii(e,r,n,t){var o=we();try{xe(e,r,n,t)}catch(e){if(Ee(o),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},s:function invoke_viiii(e,r,n,t,o){var i=we();try{Ie(e,r,n,t,o)}catch(e){if(Ee(i),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},u:function invoke_viiiiiii(e,r,n,t,o,i,a,u){var s=we();try{Ue(e,r,n,t,o,i,a,u)}catch(e){if(Ee(s),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},C:function invoke_viiiiiiiiii(e,r,n,t,o,i,a,u,s,c,l){var f=we();try{je(e,r,n,t,o,i,a,u,s,c,l)}catch(e){if(Ee(f),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},E:function invoke_viiiiiiiiiiiiiii(e,r,n,t,o,i,a,u,s,c,l,f,d,m,p,h){var _=we();try{ze(e,r,n,t,o,i,a,u,s,c,l,f,d,m,p,h)}catch(e){if(Ee(_),e!==e+0&&"longjmp"!==e)throw e;ve(1,0)}},va:function ___buildEnvironment(e){var r,n;___buildEnvironment.called?(n=E[e>>2],r=E[n>>2]):(___buildEnvironment.called=!0,x.USER=x.LOGNAME="web_user",x.PATH="/",x.PWD="/",x.HOME="/home/web_user",x.LANG="C.UTF-8",x._=o.thisProgram,r=getMemory(1024),n=getMemory(256),E[n>>2]=r,E[e>>2]=n);var t=[],i=0;for(var a in x)if("string"===typeof x[a]){var u=a+"="+x[a];t.push(u),i+=u.length}if(i>1024)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");for(var s=0;s<t.length;s++)writeAsciiToMemory(u=t[s],r),E[n+4*s>>2]=r,r+=u.length+1;E[n+4*t.length>>2]=0},m:function ___cxa_allocate_exception(e){return ye(e)},q:function ___cxa_begin_catch(e){var r=I.infos[e];return r&&!r.caught&&(r.caught=!0,me.uncaught_exception--),r&&(r.rethrown=!1),I.caught.push(e),I.addRef(I.deAdjust(e)),e},B:function ___cxa_end_catch(){ve(0);var e=I.caught.pop();e&&(I.decRef(I.deAdjust(e)),I.last=0)},c:function ___cxa_find_matching_catch_2(){return ___cxa_find_matching_catch.apply(null,arguments)},d:function ___cxa_find_matching_catch_3(){return ___cxa_find_matching_catch.apply(null,arguments)},n:___cxa_free_exception,ua:function ___cxa_pure_virtual(){throw k=!0,"Pure virtual function called!"},U:function ___cxa_rethrow(){var e=I.caught.pop();throw e=I.deAdjust(e),I.infos[e].rethrown||(I.caught.push(e),I.infos[e].rethrown=!0),I.last=e,e},t:function ___cxa_throw(e,r,n){throw I.infos[e]={ptr:e,adjusted:[e],type:r,destructor:n,refcount:0,caught:!1,rethrown:!1},I.last=e,"uncaught_exception"in me?me.uncaught_exception++:me.uncaught_exception=1,e},ta:function ___cxa_uncaught_exception(){return!!me.uncaught_exception},sa:function ___lock(){},ra:function ___map_file(e,r){return ___setErrNo(1),-1},h:function ___resumeException(e){throw I.last||(I.last=e),e},T:___setErrNo,qa:function ___syscall140(e,r){q.varargs=r;try{var n=q.getStreamFromFD(),t=(q.get(),q.get()),o=q.get(),i=q.get(),a=t;return H.llseek(n,a,i),E[o>>2]=n.position,n.getdents&&0===a&&0===i&&(n.getdents=null),0}catch(e){return"undefined"!==typeof H&&e instanceof H.ErrnoError||abort(e),-e.errno}},S:function ___syscall146(e,r){q.varargs=r;try{var n=q.getStreamFromFD(),t=q.get(),o=q.get();return q.doWritev(n,t,o)}catch(e){return"undefined"!==typeof H&&e instanceof H.ErrnoError||abort(e),-e.errno}},pa:function ___syscall6(e,r){q.varargs=r;try{var n=q.getStreamFromFD();return H.close(n),0}catch(e){return"undefined"!==typeof H&&e instanceof H.ErrnoError||abort(e),-e.errno}},oa:function ___syscall91(e,r){q.varargs=r;try{var n=q.get(),t=q.get(),o=q.mappings[n];if(!o)return 0;if(t===o.len){var i=H.getStream(o.fd);q.doMsync(n,i,t,o.flags),H.munmap(i),q.mappings[n]=null,o.allocated&&_e(o.malloc)}return 0}catch(e){return"undefined"!==typeof H&&e instanceof H.ErrnoError||abort(e),-e.errno}},R:function ___unlock(){},na:function __embind_register_bool(e,r,n,t,o){var i=getShiftFromSize(n);registerType(e,{name:r=readLatin1String(r),fromWireType:function(e){return!!e},toWireType:function(e,r){return r?t:o},argPackAdvance:8,readValueFromPointer:function(e){var t;if(1===n)t=_;else if(2===n)t=y;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+r);t=E}return this.fromWireType(t[e>>i])},destructorFunction:null})},ma:function __embind_register_emval(e,r){registerType(e,{name:r=readLatin1String(r),fromWireType:function(e){var r=ne[e].value;return __emval_decref(e),r},toWireType:function(e,r){return __emval_register(r)},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:null})},Q:function __embind_register_float(e,r,n){var t=getShiftFromSize(n);registerType(e,{name:r=readLatin1String(r),fromWireType:function(e){return e},toWireType:function(e,r){if("number"!==typeof r&&"boolean"!==typeof r)throw new TypeError('Cannot convert "'+_embind_repr(r)+'" to '+this.name);return r},argPackAdvance:8,readValueFromPointer:function floatReadValueFromPointer(e,r){switch(r){case 2:return function(e){return this.fromWireType(b[e>>2])};case 3:return function(e){return this.fromWireType(D[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}(r,t),destructorFunction:null})},G:function __embind_register_function(e,r,n,t,i,a){var u=function heap32VectorToArray(e,r){for(var n=[],t=0;t<e;t++)n.push(E[(r>>2)+t]);return n}(r,n);e=readLatin1String(e),i=function embind__requireFunction(e,r){var n;if(e=readLatin1String(e),void 0!==o["FUNCTION_TABLE_"+e])n=o["FUNCTION_TABLE_"+e][r];else if("undefined"!==typeof FUNCTION_TABLE)n=FUNCTION_TABLE[r];else{var t=o["dynCall_"+e];void 0===t&&void 0===(t=o["dynCall_"+e.replace(/f/g,"d")])&&throwBindingError("No dynCall invoker for signature: "+e),n=function makeDynCaller(n){for(var t=[],o=1;o<e.length;++o)t.push("a"+o);var i="return function dynCall_"+e+"_"+r+"("+t.join(", ")+") {\n";return i+="    return dynCall(rawFunction"+(t.length?", ":"")+t.join(", ")+");\n",i+="};\n",new Function("dynCall","rawFunction",i)(n,r)}(t)}return"function"!==typeof n&&throwBindingError("unknown function pointer with signature "+e+": "+r),n}(t,i),exposePublicSymbol(e,function(){!function throwUnboundTypeError(e,r){var n=[],t={};throw r.forEach(function visit(e){t[e]||X[e]||(Z[e]?Z[e].forEach(visit):(n.push(e),t[e]=!0))}),new te(e+": "+n.map(getTypeName).join([", "]))}("Cannot call "+e+" due to unbound types",u)},r-1),function whenDependentTypesAreResolved(e,r,n){function onComplete(r){var t=n(r);t.length!==e.length&&throwInternalError("Mismatched type converter count");for(var o=0;o<e.length;++o)registerType(e[o],t[o])}e.forEach(function(e){Z[e]=r});var t=new Array(r.length),o=[],i=0;r.forEach(function(e,r){X.hasOwnProperty(e)?t[r]=X[e]:(o.push(e),K.hasOwnProperty(e)||(K[e]=[]),K[e].push(function(){t[r]=X[e],++i===o.length&&onComplete(t)}))}),0===o.length&&onComplete(t)}([],u,function(n){var t=[n[0],null].concat(n.slice(1));return function replacePublicSymbol(e,r,n){o.hasOwnProperty(e)||throwInternalError("Replacing nonexistant public symbol"),void 0!==o[e].overloadTable&&void 0!==n?o[e].overloadTable[n]=r:(o[e]=r,o[e].argCount=n)}(e,function craftInvokerFunction(e,r,n,t,o){var i=r.length;i<2&&throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==r[1]&&null!==n,u=!1,s=1;s<r.length;++s)if(null!==r[s]&&void 0===r[s].destructorFunction){u=!0;break}var c="void"!==r[0].name,l="",f="";for(s=0;s<i-2;++s)l+=(0!==s?", ":"")+"arg"+s,f+=(0!==s?", ":"")+"arg"+s+"Wired";var d="return function "+makeLegalFunctionName(e)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";u&&(d+="var destructors = [];\n");var m=u?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],h=[throwBindingError,t,o,runDestructors,r[0],r[1]];for(a&&(d+="var thisWired = classParam.toWireType("+m+", this);\n"),s=0;s<i-2;++s)d+="var arg"+s+"Wired = argType"+s+".toWireType("+m+", arg"+s+"); // "+r[s+2].name+"\n",p.push("argType"+s),h.push(r[s+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),d+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",u)d+="runDestructors(destructors);\n";else for(s=a?1:2;s<r.length;++s){var _=1===s?"thisWired":"arg"+(s-2)+"Wired";null!==r[s].destructorFunction&&(d+=_+"_dtor("+_+"); // "+r[s].name+"\n",p.push(_+"_dtor"),h.push(r[s].destructorFunction))}return c&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",p.push(d),new_(Function,p).apply(null,h)}(e,t,null,i,a),r-1),[]})},y:function __embind_register_integer(e,r,n,t,o){r=readLatin1String(r),-1===o&&(o=4294967295);var i=getShiftFromSize(n),a=function(e){return e};if(0===t){var u=32-8*n;a=function(e){return e<<u>>>u}}var s=-1!=r.indexOf("unsigned");registerType(e,{name:r,fromWireType:a,toWireType:function(e,n){if("number"!==typeof n&&"boolean"!==typeof n)throw new TypeError('Cannot convert "'+_embind_repr(n)+'" to '+this.name);if(n<t||n>o)throw new TypeError('Passing a number "'+_embind_repr(n)+'" from JS side to C/C++ side to an argument of type "'+r+'", which is outside the valid range ['+t+", "+o+"]!");return s?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:function integerReadValueFromPointer(e,r,n){switch(r){case 0:return n?function readS8FromPointer(e){return _[e]}:function readU8FromPointer(e){return g[e]};case 1:return n?function readS16FromPointer(e){return y[e>>1]}:function readU16FromPointer(e){return v[e>>1]};case 2:return n?function readS32FromPointer(e){return E[e>>2]}:function readU32FromPointer(e){return w[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}(r,i,0!==t),destructorFunction:null})},w:function __embind_register_memory_view(e,r,n){var t=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][r];function decodeMemoryView(e){var r=w,n=r[e>>=2],o=r[e+1];return new t(r.buffer,o,n)}registerType(e,{name:n=readLatin1String(n),fromWireType:decodeMemoryView,argPackAdvance:8,readValueFromPointer:decodeMemoryView},{ignoreDuplicateRegistrations:!0})},P:function __embind_register_std_string(e,r){var n="std::string"===(r=readLatin1String(r));registerType(e,{name:r,fromWireType:function(e){var r,t=w[e>>2];if(n){var o=g[e+4+t],i=0;0!=o&&(i=o,g[e+4+t]=0);for(var a=e+4,u=0;u<=t;++u){var s=e+4+u;if(0==g[s]){var c=UTF8ToString(a);void 0===r?r=c:(r+=String.fromCharCode(0),r+=c),a=s+1}}0!=i&&(g[e+4+t]=i)}else{var l=new Array(t);for(u=0;u<t;++u)l[u]=String.fromCharCode(g[e+4+u]);r=l.join("")}return _e(e),r},toWireType:function(e,r){r instanceof ArrayBuffer&&(r=new Uint8Array(r));var t="string"===typeof r;t||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||throwBindingError("Cannot pass non-string to std::string");var o=(n&&t?function(){return lengthBytesUTF8(r)}:function(){return r.length})(),i=ye(4+o+1);if(w[i>>2]=o,n&&t)stringToUTF8(r,i+4,o+1);else if(t)for(var a=0;a<o;++a){var u=r.charCodeAt(a);u>255&&(_e(i),throwBindingError("String has UTF-16 code units that do not fit in 8 bits")),g[i+4+a]=u}else for(a=0;a<o;++a)g[i+4+a]=r[a];return null!==e&&e.push(_e,i),i},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_e(e)}})},la:function __embind_register_std_wstring(e,r,n){var t,o;n=readLatin1String(n),2===r?(t=function(){return v},o=1):4===r&&(t=function(){return w},o=2),registerType(e,{name:n,fromWireType:function(e){for(var r=t(),n=w[e>>2],i=new Array(n),a=e+4>>o,u=0;u<n;++u)i[u]=String.fromCharCode(r[a+u]);return _e(e),i.join("")},toWireType:function(e,n){var i=t(),a=n.length,u=ye(4+a*r);w[u>>2]=a;for(var s=u+4>>o,c=0;c<a;++c)i[s+c]=n.charCodeAt(c);return null!==e&&e.push(_e,u),u},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_e(e)}})},ka:function __embind_register_void(e,r){registerType(e,{isVoid:!0,name:r=readLatin1String(r),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,r){}})},O:function __emval_as(e,r,n){e=requireHandle(e),r=requireRegisteredType(r,"emval::as");var t=[],o=__emval_register(t);return E[n>>2]=o,r.toWireType(t,e)},N:function __emval_call_method(e,r,n,t,o){return(e=ie[e])(r=requireHandle(r),n=getStringOrSymbol(n),function __emval_allocateDestructors(e){var r=[];return E[e>>2]=__emval_register(r),r}(t),o)},ja:__emval_decref,M:function __emval_get_global(e){return 0===e?__emval_register(emval_get_global()):(e=getStringOrSymbol(e),__emval_register(emval_get_global()[e]))},L:function __emval_get_method_caller(e,r){for(var n=function __emval_lookupTypes(e,r,n){for(var t=new Array(e),o=0;o<e;++o)t[o]=requireRegisteredType(E[(r>>2)+o],"parameter "+o);return t}(e,r),t=n[0],o=t.name+"_$"+n.slice(1).map(function(e){return e.name}).join("_")+"$",i=["retType"],a=[t],u="",s=0;s<e-1;++s)u+=(0!==s?", ":"")+"arg"+s,i.push("argType"+s),a.push(n[1+s]);var c="return function "+makeLegalFunctionName("methodCaller_"+o)+"(handle, name, destructors, args) {\n",l=0;for(s=0;s<e-1;++s)c+="    var arg"+s+" = argType"+s+".readValueFromPointer(args"+(l?"+"+l:"")+");\n",l+=n[s+1].argPackAdvance;for(c+="    var rv = handle[name]("+u+");\n",s=0;s<e-1;++s)n[s+1].deleteObject&&(c+="    argType"+s+".deleteObject(arg"+s+");\n");return t.isVoid||(c+="    return retType.toWireType(destructors, rv);\n"),c+="};\n",i.push(c),function __emval_addMethodCaller(e){var r=ie.length;return ie.push(e),r}(new_(Function,i).apply(null,a))},ia:function __emval_get_property(e,r){return __emval_register((e=requireHandle(e))[r=requireHandle(r)])},K:function __emval_incref(e){e>4&&(ne[e].refcount+=1)},ha:function __emval_new_cstring(e){return __emval_register(getStringOrSymbol(e))},ga:function __emval_run_destructors(e){runDestructors(ne[e].value),__emval_decref(e)},fa:function __emval_take_value(e,r){return __emval_register((e=requireRegisteredType(e,"_emval_take_value")).readValueFromPointer(r))},J:function _abort(){o.abort()},ea:function _clock_gettime(e,r){var n;if(0===e)n=Date.now();else{if(1!==e||!function _emscripten_get_now_is_monotonic(){return(a||u)&&self.performance&&self.performance.now}())return ___setErrNo(22),-1;n=_emscripten_get_now()}return E[r>>2]=n/1e3|0,E[r+4>>2]=n%1e3*1e3*1e3|0,0},da:_emscripten_get_heap_size,ca:function _emscripten_memcpy_big(e,r,n){g.set(g.subarray(r,r+n),e)},ba:_emscripten_resize_heap,D:function _getenv(e){return 0===e?0:(e=UTF8ToString(e),x.hasOwnProperty(e)?(_getenv.ret&&_e(_getenv.ret),_getenv.ret=function allocateUTF8(e){var r=lengthBytesUTF8(e)+1,n=ye(r);return n&&stringToUTF8Array(e,_,n,r),n}(x[e])):0)},Y:function _llvm_bswap_i64(e,r){var n=ge(r)>>>0,t=ge(e)>>>0;return 0|(p(t),n)},v:function _llvm_eh_typeid_for(e){return e},A:function _llvm_stackrestore(e){var r=_llvm_stacksave,n=r.LLVM_SAVEDSTACKS[e];r.LLVM_SAVEDSTACKS.splice(e,1),Ee(n)},z:_llvm_stacksave,I:function _llvm_trap(){abort("trap!")},aa:function _pthread_cond_wait(){return 0},$:function _strftime_l(e,r,n,t){return _strftime(e,r,n,t)},_:function abortOnCannotGrowMemory(e){abort("OOM")},a:S},ce=o.asm({},se,h);o.asm=ce;var le=o.__GLOBAL__sub_I_anode_cpp=function(){return o.asm.wa.apply(null,arguments)},fe=o.__GLOBAL__sub_I_bind_cpp=function(){return o.asm.xa.apply(null,arguments)},de=o.__GLOBAL__sub_I_trivial_cpp=function(){return o.asm.ya.apply(null,arguments)},me=o.__ZSt18uncaught_exceptionv=function(){return o.asm.za.apply(null,arguments)},pe=(o.___cxa_can_catch=function(){return o.asm.Aa.apply(null,arguments)},o.___cxa_is_pointer_type=function(){return o.asm.Ba.apply(null,arguments)},o.___emscripten_environ_constructor=function(){return o.asm.Ca.apply(null,arguments)}),he=(o.___errno_location=function(){return o.asm.Da.apply(null,arguments)},o.___getTypeName=function(){return o.asm.Ea.apply(null,arguments)}),_e=o._free=function(){return o.asm.Fa.apply(null,arguments)},ge=o._llvm_bswap_i32=function(){return o.asm.Ga.apply(null,arguments)},ye=o._malloc=function(){return o.asm.Ha.apply(null,arguments)},ve=o._setThrew=function(){return o.asm.Ia.apply(null,arguments)},Ee=(o.stackAlloc=function(){return o.asm.hb.apply(null,arguments)},o.stackRestore=function(){return o.asm.ib.apply(null,arguments)}),we=o.stackSave=function(){return o.asm.jb.apply(null,arguments)},be=o.dynCall_diii=function(){return o.asm.Ja.apply(null,arguments)},De=o.dynCall_i=function(){return o.asm.Ka.apply(null,arguments)},ke=o.dynCall_ii=function(){return o.asm.La.apply(null,arguments)},Se=o.dynCall_iii=function(){return o.asm.Ma.apply(null,arguments)},Te=o.dynCall_iiii=function(){return o.asm.Na.apply(null,arguments)},Ae=o.dynCall_iiiii=function(){return o.asm.Oa.apply(null,arguments)},Fe=(o.dynCall_iiiiid=function(){return o.asm.Pa.apply(null,arguments)},o.dynCall_iiiiii=function(){return o.asm.Qa.apply(null,arguments)}),Ne=(o.dynCall_iiiiiid=function(){return o.asm.Ra.apply(null,arguments)},o.dynCall_iiiiiii=function(){return o.asm.Sa.apply(null,arguments)}),Oe=o.dynCall_iiiiiiii=function(){return o.asm.Ta.apply(null,arguments)},Re=o.dynCall_iiiiiiiii=function(){return o.asm.Ua.apply(null,arguments)},Pe=o.dynCall_iiiiiiiiiiii=function(){return o.asm.Va.apply(null,arguments)},Me=(o.dynCall_iiiiij=function(){return o.asm.Wa.apply(null,arguments)},o.dynCall_iiijiiii=function(){return o.asm.Xa.apply(null,arguments)}),Be=o.dynCall_v=function(){return o.asm.Ya.apply(null,arguments)},Ce=o.dynCall_vi=function(){return o.asm.Za.apply(null,arguments)},Le=o.dynCall_vii=function(){return o.asm._a.apply(null,arguments)},xe=o.dynCall_viii=function(){return o.asm.$a.apply(null,arguments)},Ie=o.dynCall_viiii=function(){return o.asm.ab.apply(null,arguments)},Ue=(o.dynCall_viiiii=function(){return o.asm.bb.apply(null,arguments)},o.dynCall_viiiiii=function(){return o.asm.cb.apply(null,arguments)},o.dynCall_viiiiiii=function(){return o.asm.db.apply(null,arguments)}),je=o.dynCall_viiiiiiiiii=function(){return o.asm.eb.apply(null,arguments)},ze=o.dynCall_viiiiiiiiiiiiiii=function(){return o.asm.fb.apply(null,arguments)};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function run(e){function doRun(){o.calledRun||(o.calledRun=!0,k||(function ensureInitRuntime(){R||(R=!0,o.noFSInit||H.init.initialized||H.init(),j.init(),callRuntimeCallbacks(F))}(),function preMain(){H.ignorePermissions=!1,callRuntimeCallbacks(N)}(),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function postRun(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),O.unshift(e);var e;callRuntimeCallbacks(O)}()))}e=e||o.arguments,P>0||(function preRun(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),A.unshift(e);var e;callRuntimeCallbacks(A)}(),P>0||o.calledRun||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),doRun()},1)):doRun()))}function abort(e){throw o.onAbort&&o.onAbort(e),void 0!==e?(c(e),l(e),e=JSON.stringify(e)):e="",k=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(o.dynCall_viijii=function(){return o.asm.gb.apply(null,arguments)},o.asm=ce,o.then=function(e){if(o.calledRun)e(o);else{var r=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){r&&r(),e(o)}}return o},ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus,B=function runCaller(){o.calledRun||run(),o.calledRun||(B=runCaller)},o.run=run,o.abort=abort,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return o.noExitRuntime=!0,run(),e});e.exports=o},fc485a:function(e,r){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/wasm/wanode_b5a9c55.wasm"}}]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/vendors~wanode.js_6652e57.js.map
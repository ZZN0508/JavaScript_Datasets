(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{2334:function(e,t,n){"use strict";var a,r,o=n("8af1"),i=n.n(o),l=n("8a2d"),c=n("0a81"),s=n("46ae"),d=n("0592"),u=n("cce8"),p=n("1cab"),f=n("9042"),m=n("dace"),g=n("0b3c"),h=g.d.div(["cursor:default;display:inline-block;&.hasStories{cursor:pointer;}"]),b=g.d.figure(["background-image:",";background-size:cover;background-position:50% 50%;width:100%;height:100%;cursor:pointer;"],(function(e){var t=e.src;return"url(".concat(t,")")})),v=g.d.img(["display:inline-block;width:90px;height:90px;border-radius:50%;border:solid 5px rgba(#ff9999,0.1);background-clip:content-box;object-fit:cover;"]),y=n("791c"),C=n("6d88"),E=(a=function(){return Promise.resolve().then(n.bind(null,"c585"))},(r=Object(o.lazy)(a)).preload=a,r),w=function(e){var t=e.src,n=e.size,a=e.lineWidth,r=e.circleMargin,l=e.duration,g=e.profilePictureHref,w=e.profilePictureDescription,O=e.performerNick,M=Object(c.d)(),k=Object(c.e)((function(e){return e.stories.entities[O]})),I=Object(c.e)((function(e){return e.stories.loading})),x=Object(c.e)((function(e){return e.performer.hasStory})),L=x&&C.isMyStoryEnabled,N=Object(o.useRef)(!1),_=I?"forever":"once",S=w||"".concat(O,"'s profile picture");Object(o.useEffect)((function(){E.preload()}),[]);var P=Object(o.useCallback)((function(){d.default.navigate("story/".concat(O),{trigger:!0,preventNavigateBack:!1,replace:!1,keepActiveModal:!0,lockActiveModal:!0})}),[k,O]);Object(o.useEffect)((function(){var e;!I&&k&&0!==(null===(e=k.items)||void 0===e?void 0:e.length)&&N.current&&(P(),N.current=!1)}),[P,k]);var T=function(){return i.a.createElement(f.b,{isOpen:!1,autoHideDelay:4e3,position:m.a.RIGHT,enforceFocus:!1,autoFocus:!1,targetProps:{style:{height:100,width:100}},"data-testid":"ProfilePictureCustomPopover"},i.a.createElement(v,{src:t,alt:S,"data-testid":"ProfilePictureAvatar"}),i.a.createElement(y.a,null,"No story available."))};return i.a.createElement(h,{hasStory:x,onClick:function(e){if(e.preventDefault(),L)return N.current=!0,M(Object(u.b)(O)),void(g||p.default.trackGenericEvent({eventCategory:p.default.CONST.PAGE.CHAT,eventAction:p.default.CONST.ACTION.CLICK,eventLabel:"stories icon"}));g&&d.default.navigateToChatPage("chat/".concat(nick),{trigger:!0,preventNavigateBack:!1})},"data-testid":"ProfilePictureWrapper"},x?i.a.createElement(s.a,{size:n,type:_,initialSpin:!I,lineWidth:a,circleMargin:r,duration:l,animate:!0,"data-testid":"ProfilePictureCircleLoader"},i.a.createElement(b,{src:t,"data-testid":"ProfilePictureImage"})):g?i.a.createElement("a",{href:g},i.a.createElement(T,{"data-testid":"ProfilePictureAvatarWithTooltip"})):i.a.createElement(T,{"data-testid":"ProfilePictureAvatarWithTooltip"}))};w.propTypes={src:l.string.isRequired,size:l.number,duration:l.number,lineWidth:l.number,circleMargin:l.number,storiesAvailable:l.bool,performerNick:l.string,profilePictureHref:l.string,profilePictureDescription:l.string},w.defaultProps={size:100,duration:1500,lineWidth:2,circleMargin:12,storiesAvailable:null,performerNick:null,profilePictureHref:null,profilePictureDescription:null};t.a=w},"2ce3":function(e,t,n){n("44ad");var a=n("44ad").Component,r=(n("d869"),n("ee27")),o=function(e,t){o.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(o,a,{name:"ModelContentViewAbstract",chatBlockLoaderId:"chat_block_loader",hiddenCls:"hidden",freechatId:"freechat",memberClientId:"member_client_container",chatblockId:"chatblock",init:function(e,t){o.superclass.init.call(this,e,t),this.chatBlockLoaderEl=Ext.get(this.chatBlockLoaderId)},showLoader:function(e){"1"===r.getQueryParamByName("wall_off")||window.denyWallLoad||this.chatBlockLoaderEl&&(e?this.chatBlockLoaderEl.removeClass(this.hiddenCls):this.chatBlockLoaderEl.addClass(this.hiddenCls))}})},"5e2f":function(e,t,n){"use strict";var a=n("8af1"),r=n.n(a),o=n("44ad"),i=n.n(o);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var c=Object(a.lazy)((function(){return n.e(87).then(n.bind(null,"2f78"))})),s=Object(a.lazy)((function(){return n.e(86).then(n.bind(null,"b070"))})),d=!0===i.a.Config.get("featureFlags.enable3dSecureQuickBuy"),u=r.a.memo((function(e){return r.a.createElement(a.Suspense,{fallback:null,"data-testid":"UnlockButtonSuspense"},d?r.a.createElement(c,l({},e,{"data-testid":"UnlockButtonUnlockButtonAuth"})):r.a.createElement(s,l({},e,{"data-testid":"UnlockButtonLegacyUnlockButton"})))}));t.a=u},"79fd":function(e,t,n){var a=n("44ad"),r=n("d869"),o=n("a9a1").store,i=n("c841"),l=n("b8bf"),c=n("b88f").default,s=function(e,t){s.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(s,a.Component,{name:r.BiopageContentManagerComponent.NAME,bioPageContainerId:"inner_container",bioOverlayContainerId:"freechat_container",hasBioPage:!0,isOverlay:!1,getBioPageContentRoute:"ChatBioPage/Get",getBioOverlayContentRoute:"ChatBioPage/GetDetails",performerName:null,init:function(e,t){a.addEvents(r.BiopageContentManagerComponent.GLOBALEVENT_GET_CONTENT_SUCCESS),this._setBiopageContentManagerController(),s.superclass.init.call(this,e,t)},updatePerformerName:function(e){this.performerName=e},getContent:function(){this._biopageContentManagerController.getContent()},removeContent:function(){this._biopageContentManagerController.removeContent(),this.fireEvent(r.BiopageContentManagerComponent.GET_CONTENT_ERROR)},onModalOpened:function(e){e.scope.name===r.ImageGalleryModalComponent.NAME&&(a.Broadcaster.un(r.ModalComponent.GLOBALEVENT_MODAL_OPENED,this.onModalOpened,this),a.fireEvent(r.BiopageContentManagerComponent.GLOBALEVENT_BIOPAGE_CONTENT_READY,{scope:this}))},_setBiopageContentManagerController:function(){return this._biopageContentManagerController=new i({items:{BiopageContentManagerModel:{component:this._getBiopageContentManagerModel(),listeners:{"get-content-success":"onGetContentSuccess","get-content-error":"onGetContentError"}},BiopageContentManagerView:{component:this._getBiopageContentManagerView(),listeners:{"render-done":"onRenderDone"}}}}),this._biopageContentManagerController},_getBiopageContentManagerModel:function(){var e=this.isOverlay?this.getBioOverlayContentRoute:this.getBioPageContentRoute;return this.model=new l(this.element,{getBioPageRoute:e})},_getBiopageContentManagerView:function(){var e=this.isOverlay?this.bioOverlayContainerId:this.bioPageContainerId;return this._view=new c(this.element,{containerId:e,isOverlay:this.isOverlay,performerNick:this.performerName}),this._view},onPrivateStart:function(){this._biopageContentManagerController.onPrivateStart()},onPrivateEnd:function(){this._biopageContentManagerController.onPrivateEnd()},handleStoreChange:function(){o.getState().performer.nick!==this.performerName&&this.removeContent()},bind:function(){s.superclass.bind.call(this),a.Broadcaster.on(r.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_START,this.onPrivateStart,this),a.Broadcaster.on(r.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_END,this.onPrivateEnd,this),a.Broadcaster.on(r.FlashExternal.GLOBALEVENT_GET_PERFORMER_DETAILS,this.removeContent,this),this._unsubscribe=o.subscribe(a.bind(this.handleStoreChange,this))},destroy:function(){s.superclass.destroy.call(this),this._view&&this._view.destroy()},unbind:function(){s.superclass.unbind.call(this),this._biopageContentManagerController&&(this._biopageContentManagerController.isBeingDestroyed=!0,this._biopageContentManagerController.destroy(),delete this._biopageContentManagerController),a.Broadcaster.un(r.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_START,this.onPrivateStart,this),a.Broadcaster.un(r.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_END,this.onPrivateEnd,this),this._unsubscribe()}})},"92aa":function(e,t,n){"use strict";n.r(t);var a=n("44ad"),r=n.n(a),o=n("8af1"),i=n.n(o),l=n("63f1"),c=n.n(l),s=n("d869"),d=n.n(s),u=n("cbc5"),p=n("0a81"),f=n("a9a1"),m=n("0f2b"),g=n("8eb1"),h=n("7ab0"),b=n.n(h),v=n("8a2d"),y=n.n(v),C=n("089a"),E=n("0b3c"),w=E.d.h1(["font:700 26px Arial,sans-serif;margin:0 auto 14px;padding:3px 0 13px;float:left;color:#ffffff;"]),O=E.d.div(["display:inline-block;float:left;margin:14px 0 0;font:300 14px Arial,sans-serif;"]),M=E.d.a(["margin:0 0 0 20px;&:hover{color:#ffffff;}color:",";",""],(function(e){return e.active?"#ffffff":"#ff9999"}),(function(e){return e.disabled&&Object(E.c)(["pointer-events:none;color:rgba(255,153,153,0.4);"])})),k=function(e){var t=e.performerNick,n=e.setFilterClick,a=e.selectedFilter,r=e.hasFreeContent,o=e.hasPremiumContent;return i.a.createElement("div",{id:"channel_top_block"},i.a.createElement(w,{"data-testid":"WallHeaderTitle"}," ",t," "),i.a.createElement(O,{id:"content_filter_container","data-testid":"WallHeaderContentFilters"},i.a.createElement(M,{active:"All"===a,onClick:function(){n("All")},"data-testid":"WallHeaderFilter"},Object(C.a)("All Content")),i.a.createElement(M,{active:"Free"===a,disabled:!r,onClick:function(){r&&n("Free")},"data-testid":"WallHeaderFilter"},Object(C.a)("Free Content")),i.a.createElement(M,{active:"Premium"===a,disabled:!o,onClick:function(e){o&&n("Premium")},"data-testid":"WallHeaderFilter"},Object(C.a)("Premium Content"))),i.a.createElement("div",{className:"clear"}))},I=n("2334"),x=n("791c"),L=n("e6c0"),N=E.d.div(["display:flex;"]),_=E.d.i(["font-size:16px;margin-right:5px;color:",";position:relative;&::after{",";background-image:url(data:image/svg+xml;charset=utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTEyIDQ4OC4zIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNDg4LjM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDp1cmwoI1NWR0lEXzFfKTt9PC9zdHlsZT48bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjkuNDE1NzQ4ZS0wMyIgeTE9Ii0xNjMuODUiIHgyPSI1MTEuOTc2NiIgeTI9Ii0xNjMuODUiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAwIDQwOCkiPjxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRkNDMDAiLz48c3RvcCAgb2Zmc2V0PSIwLjYiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRkNDMDA7c3RvcC1vcGFjaXR5OjAiLz48L2xpbmVhckdyYWRpZW50PjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01MDQsMjAzLjlsLTExMS43LDEwOWwyNi41LDE1My45YzEsNi44LDAuNCwxMi4xLTEuOSwxNS45cy01LjcsNS43LTEwLjUsNS43Yy0zLjUsMC03LjYtMS4yLTEyLjMtMy43TDI1Niw0MTJsLTEzOC4yLDcyLjZjLTQuNywyLjUtOC44LDMuNy0xMi4zLDMuN2MtNC43LDAtOC4yLTEuOS0xMC41LTUuN2MtMi4zLTMuOC0yLjktOS4xLTEuOC0xNS45bDI2LjUtMTUzLjlMNy43LDIwMy45Yy02LjYtNi42LTguOS0xMi43LTcuMS0xOC4zUzgsMTc2LjQsMTcuMiwxNzVsMTU0LjUtMjIuNWw2OS4yLTE0MEMyNDUsNC4xLDI1MC4xLTAuMSwyNTYtMC4xYzUuNywwLDEwLjgsNC4yLDE1LjEsMTIuNmw2OS4yLDE0MEw0OTQuOCwxNzVjOS4yLDEuNCwxNC44LDUsMTYuNiwxMC42QzUxMy4yLDE5MS4zLDUxMC44LDE5Ny40LDUwNCwyMDMuOXoiLz48dGl0bGU+c3RhcjwvdGl0bGU+PC9zdmc+);left:0;opacity:1;z-index:1;position:absolute;top:0;display:inline-block;height:100%;width:100%;background-position:center;background-repeat:no-repeat;}"],(function(e){return e.empty?"hsla(0, 0%, 80%, 0.6)":"#fc0"}),(function(e){return e.half&&"content: '';"})),S=function(e){var t=e.starCount,n=e.value;return i.a.createElement(N,{"data-testid":"RatingStarsStarsContainer"},Array.from({length:t},(function(e,t){return i.a.createElement(_,{key:"star_".concat(t),half:t+1>n&&t<n,empty:n<t+1,"data-testid":"RatingStarsIconWrapper"},i.a.createElement(L.a,{icon:"star","data-testid":"RatingStarsIcon"}))})))},P=E.d.div(["display:flex;"]),T=E.d.div(["display:flex;flex-direction:column;margin-left:20px;justify-content:center;"]),B=E.d.div(["display:flex;flex-direction:column;font-family:Roboto,sans-serif;"]),j=E.d.span(["font-size:20px;line-height:24px;margin-bottom:3px;letter-spacing:0.3px;span{font-weight:300;}strong{font-weight:bold;}"]),A=E.d.span(["text-transform:uppercase;font-size:10px;line-height:11px;margin-bottom:14px;"]),R=E.d.div(["font-size:12px;line-height:14px;padding-top:10px;"]),W=E.d.div(["border-top:1px solid rgb(255 153 153 / 0.1);font-size:0;text-align:center;em{box-sizing:border-box;display:inline-block;font-size:12px;padding-left:6px;padding-top:15px;padding-bottom:15px;position:relative;vertical-align:top;width:33%;strong,span{display:block;overflow:hidden;text-align:left;text-overflow:ellipsis;}strong{font-size:18px;text-transform:capitalize;}span{color:#fcc;font-size:11px;}}"]),D=function(e){var t=e.about,n=e.avatar,a=e.age,r=e.breast,o=e.penis,l=e.gender,c=e.itemId,s=e.name,d=e.averageRating,u=e.totalVotes,p=e.isExclusivePerformer;return i.a.createElement("article",{id:c,className:"rating_container bio_content","data-rating":d,"data-isotope-sort":"0"},i.a.createElement("div",null,i.a.createElement(P,{"data-testid":"BioBioTopSection"},i.a.createElement(I.a,{performerNick:s,src:n,alt:"".concat(s,"'s profile picture"),"data-testid":"BioProfilePictureWithMyStory"}),i.a.createElement(T,{"data-testid":"BioInfoSection"},p&&i.a.createElement(B,{"data-testid":"BioExclusivePerformer"},i.a.createElement(j,{"data-testid":"BioExclusivePerformerText"},i.a.createElement(x.a,{as:"span"},"Exclusive Model")),i.a.createElement(A,{"data-testid":"BioExclusivePerformerLabel"},i.a.createElement(x.a,null,"only available on livejasmin"))),i.a.createElement(S,{starCount:5,value:d,totalVotes:u,"data-testid":"BioRatingStars"}),i.a.createElement(R,{"data-testid":"BioStyledTotalVotes"},u," ",i.a.createElement(x.a,null,"rates")))),i.a.createElement("p",null,t),i.a.createElement(W,{"data-testid":"BioPerformerInfo"},i.a.createElement("em",null,i.a.createElement("strong",null,a),i.a.createElement("span",null,Object(C.a)("Age"))),i.a.createElement("em",null,i.a.createElement("strong",null,"male"===l?o:r),i.a.createElement("span",null,"male"===l?Object(C.a)("Penis size"):Object(C.a)("Breast size"))),i.a.createElement("em",null,i.a.createElement("strong",null,l),i.a.createElement("span",null,Object(C.a)("Gender"))))))},z=n("0592"),V=E.d.article(["composes:item;font:16px arial;height:auto;position:absolute;h5{font:700 30px roboto,sans-serif;padding:40px 40px 20px;word-wrap:break-word;}"]),G=Object(E.c)(["color:#500000;font:300 16px roboto,sans-serif;padding:50px 40px;word-wrap:break-word;"]),U=E.d.p(["",";font-size:","px;"],G,(function(e){var t=e.text;return t.length<=10?58:t.length>10&&t.length<=30?44:t.length>30&&t.length<=60?32:t.length>60&&t.length<=80?26:t.length>80&&t.length<=100?22:18})),F=function(e){var t=e.noteText,n=e.itemId,a=e.performerNick;return i.a.createElement(V,{id:n,onClick:function(){return function(e,t){z.default.navigate("photoviewer/".concat(t,"/note/").concat(e),{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:b.a.isChatPage()})}(n,a)},"data-testid":"NoteNote"},i.a.createElement("div",null,i.a.createElement(U,{text:t,dangerouslySetInnerHTML:{__html:t},"data-testid":"NoteNoteText"})))};F.propTypes={noteText:y.a.string.isRequired,itemId:y.a.string.isRequired,performerNick:y.a.string.isRequired};var q=F,H=n("5e2f"),Z=E.d.article(["display:block;"]),Y=E.d.span(["cursor:pointer;height:65px;opacity:0.5;overflow:hidden;pointer-events:none !important;position:absolute;right:2px;top:2px;width:65px;z-index:5;&::after{backface-visibility:hidden;background:#fc0;background:linear-gradient(to right,#fc0,#f98706);box-shadow:0 1px 2px 0 rgba(80,0,0,0.4),inset 0 1px 1px 0 rgba(255,255,255,0.6);color:#441f00;content:attr(data-title);display:block;filter:opacity(1);font:bold 10px/26px arial;height:26px;position:absolute;right:-23px;text-align:center;text-shadow:0 1px 0 rgba(255,255,255,0.4);text-transform:uppercase;top:10px;transform:rotate(45deg);width:93px;}"]),Q=E.d.div(["display:block;height:100%;width:100%;",";img{height:100%;object-fit:cover;width:100%;}"],(function(e){return e.isBlurred&&"filter: blur(20px)"})),J=E.d.strong(["font-size:14px;"]),X=E.d.div(["bottom:0;box-sizing:border-box;filter:drop-shadow(0 0 2px rgba(0,0,0,0.4));font-size:14px;padding:10px;position:absolute;text-align:right;width:100%;z-index:2;span + span{margin-left:20px;}svg + span{margin-left:8px;vertical-align:middle;}svg{vertical-align:middle;}"]),K=E.d.div(["left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);"]),$=Object(E.d)(L.a)(["font-size:22px;"]),ee=Object(E.d)(L.a)(["font-size:16px;"]),te=Object(E.d)(L.a)(["font-size:72px;"]),ne=Object(E.d)(L.a)(["font-size:50px;"]),ae=E.d.span(["color:#85b400;font-size:12px;font-weight:bold;text-transform:uppercase;vertical-align:middle;"]),re=E.d.div(["height:100%;left:0;position:absolute;top:0;width:100%;z-index:2;svg{opacity:0.8;}"," "," "," &.free{display:block;}"],(function(e){return e.album&&Object(E.c)(["background-color:rgba(0,0,0,0.5);","{display:block;font:16px roboto,sans-serif;font-weight:bold;margin-top:6px;opacity:0.8;overflow:hidden;span{position:relative;top:0;transition:top 0.2s;}}"],J)}),(function(e){return e.isLocked&&Object(E.c)(["background-color:rgba(147,0,0,0.6);","{visibility:hidden;svg{transform:scale(0.5);}}"," span{position:relative;top:20px;}"],K,J)}),(function(e){return e.isUnlocked&&Object(E.c)(["background-color:rgba(147,0,0,0);transition:background-color 0.2s;","{visibility:visible;}"," svg{transform:scale(1);transition:transform 0.3s;}"," span{position:relative;top:0;transition:top 0.2s 0.3s;}div{display:block;}"],K,K,J)})),oe=E.d.div(["background:rgba(156,156,156,0.4);border-radius:15px;color:rgba(247,244,245,0.83);display:block;font:300 10px roboto,sans-serif;left:10px;padding:4px 6px;position:absolute;text-transform:uppercase;top:10px;z-index:3;"]),ie=E.d.div(["",""],(function(e){var t=e.preloadInfo;return Object(E.c)(["height:","px !important;background-color:"," !important;"],t.height,t.backgroundColor)})),le={trigger:!0,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:!1},ce=function(e){var t=e.status,n=e.itemId,a=e.performerNick,r=e.preloadInfo,o=e.previewImage,l=e.price,c=e.privacy,s="locked"===t,d="unlocked"===t,u="exclusive"===c&&s;return i.a.createElement(Z,{id:n,onClick:function(){return function(e,t){z.default.navigate("photoviewer/".concat(t,"/picture/").concat(e),{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:b.a.isChatPage()})}(n,a)},"data-testid":"ImageItem"},"exclusive"===c&&i.a.createElement(Y,{"data-title":Object(C.a)("Premium"),"data-testid":"ImageRibbon"}),i.a.createElement(ie,{preloadInfo:r,"data-testid":"ImageWrapper"},i.a.createElement(Q,{isBlurred:u,"data-testid":"ImageCover"},i.a.createElement("img",{src:o,alt:"".concat(a,"'s hot photo â€“ thumbnail")})),i.a.createElement(re,{isLocked:s,isUnlocked:d,"data-testid":"ImageContent"},s&&i.a.createElement(H.a,{id:n,performerNick:a,title:Object(C.a)("Unlock my album"),errorContainer:"#chatblock",icon:"lockheart",price:l,routeManagerOptions:le,group:"wall","data-testid":"ImageUnlockButton"})),i.a.createElement(X,{"data-testid":"ImageInfo"},"unlocked"===t&&i.a.createElement(ae,{"data-testid":"ImageStatus"},Object(C.a)("Unlocked")))))};ce.propTypes={previewImage:y.a.string.isRequired,itemId:y.a.string.isRequired,preloadInfo:y.a.object.isRequired,performerNick:y.a.string.isRequired,privacy:y.a.string.isRequired,status:y.a.string,category:y.a.string.isRequired,price:y.a.number},ce.defaultProps={price:null,status:""};var se=ce,de=E.d.div(["background-color:"," !important;"],(function(e){return e.preloadInfo.backgroundColor})),ue=(E.d.div(["height:357px;object-fit:cover;position:absolute;"]),Object(E.c)(["height:357px;left:0;overflow:hidden;position:relative;top:0;img{height:357px;object-fit:cover;position:absolute;}"])),pe=Object(E.c)(["img:first-child{bottom:0;left:0;right:0;top:0;width:100%;}"]),fe=Object(E.c)(["img:first-child{left:0;top:0;width:50%;}img:first-child + img{right:0;top:0;width:50%;}"]),me=Object(E.c)(["img:first-child{left:0;top:0;width:50%;}img:first-child + img{height:40%;right:0;top:0;width:50%;}img:first-child + img + img{bottom:0;height:60%;right:0;width:50%;}"]),ge=Object(E.c)(["img:first-child{height:60%;left:0;top:0;width:50%;}img:first-child + img{height:70%;right:0;top:0;width:50%;}img:first-child + img + img{bottom:0;height:40%;left:0;width:50%;}img:first-child + img + img + img{bottom:0;height:30%;right:0;width:50%;}"]),he=E.d.div(["",";"," ",""],ue,(function(e){var t,n=e.images;return(t=null==n?void 0:n.length)?{1:pe,2:fe,3:me,4:ge}[t]:null}),(function(e){return e.isBlurred&&"filter: blur(20px)"})),be={trigger:!0,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:!1},ve=function(e){var t=e.status,n=void 0===t?"":t,a=e.itemId,r=e.performerNick,o=e.privacy,l=e.preloadInfo,c=e.images,s=e.title,d=void 0===s?null:s,u=e.price,p=void 0===u?null:u,f="locked"===n,m="unlocked"===n,g="exclusive"===o&&f;return i.a.createElement(Z,{onClick:function(){return function(e,t){z.default.navigate("photoviewer/".concat(t,"/picture/").concat(e),{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:b.a.isChatPage()})}(a,r)},"data-testid":"AlbumMontageItem"},"exclusive"===o&&i.a.createElement(Y,{"data-title":Object(C.a)("Premium"),"data-testid":"AlbumMontageRibbon"}),i.a.createElement(de,{preloadInfo:l,"data-testid":"AlbumMontageAlbumMontageWrapper"},i.a.createElement("div",{className:"permanent_content_shadow_mask"}),i.a.createElement(oe,{"data-testid":"AlbumMontageLabel"},Object(C.a)("Photo Album")),i.a.createElement(he,{isBlurred:g,images:c,"data-testid":"AlbumMontageMontageImages"},c.map((function(e,t){return i.a.createElement("img",{key:"".concat(a).concat(t),src:e,alt:"".concat(r,"'s hot photo â€“ thumbnail")})}))),i.a.createElement(re,{isLocked:f,isUnlocked:m,album:!0,"data-testid":"AlbumMontageContent"},i.a.createElement(K,{"data-testid":"AlbumMontageIconWrapper"},i.a.createElement(te,{icon:"folder","data-testid":"AlbumMontageStyledFolderIcon"}),d&&i.a.createElement(J,{"data-testid":"AlbumMontageTitle"},i.a.createElement("span",null,d))),f&&i.a.createElement(H.a,{id:a,title:Object(C.a)("Unlock my album"),errorContainer:"#chatblock",performerNick:r,icon:"lockheart",group:"wall",caption:d,price:p,routeManagerOptions:be,"data-testid":"AlbumMontageUnlockButton"})),i.a.createElement(X,{"data-testid":"AlbumMontageInfo"},"unlocked"===n&&i.a.createElement(ae,{"data-testid":"AlbumMontageStatus"},Object(C.a)("Unlocked")))))};ve.propTypes={previewImage:y.a.string.isRequired,privacy:y.a.string.isRequired,itemId:y.a.string.isRequired,performerNick:y.a.string.isRequired,preloadInfo:y.a.object.isRequired,status:y.a.string,title:y.a.string,price:y.a.number};var ye=ve,Ce=n("bf25"),Ee={trigger:!0,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:!1},we=function(e){var t,n,a=e.itemId,r=e.previewImage,o=e.performerNick,l=e.privacy,c=e.status,s=e.preloadInfo,d=e.duration,u=e.price,p=e.views,f=e.title,m=e.category,g="locked"===c,h="unlocked"===c,v=("gay"===m||"transgender"===m)&&"exclusive"===l&&g;return i.a.createElement(Z,{id:a,onClick:function(){!function(e,t){z.default.navigate("photoviewer/".concat(t,"/video/").concat(e),{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:b.a.isChatPage()})}(a,o)},"data-testid":"VideoItem"},"exclusive"===l&&i.a.createElement(Y,{"data-title":Object(C.a)("Premium"),"data-testid":"VideoRibbon"}),i.a.createElement(ie,{id:"video_".concat(a),preloadInfo:s,"data-testid":"VideoWrapper"},i.a.createElement(oe,{"data-testid":"VideoLabel"},Object(C.a)("Video")),i.a.createElement(Q,{isBlurred:v,"data-testid":"VideoCover"},i.a.createElement("img",{src:r,alt:"".concat(o,"'s hot video")})),i.a.createElement(re,{isLocked:g,isUnlocked:h,"data-testid":"VideoContent"},i.a.createElement(K,{"data-testid":"VideoIconWrapper"},i.a.createElement(ne,{icon:"play-button","data-testid":"VideoStyledVideoIcon"})),g&&i.a.createElement(H.a,{id:a,title:Object(C.a)("Unlock my video"),icon:"lockheart",performerNick:o,price:u,caption:f,routeManagerOptions:Ee,errorContainer:"#chatblock",group:"wall","data-testid":"VideoUnlockButton"})),i.a.createElement(X,{"data-testid":"VideoInfo"},p&&i.a.createElement("span",null,i.a.createElement($,{icon:"view","data-testid":"VideoStyledViewIcon"}),i.a.createElement("span",null,p)),i.a.createElement("span",null,i.a.createElement(ee,{icon:"time","data-testid":"VideoStyledTimeIcon"}),i.a.createElement("span",null,(t=d,n=Object(Ce.addSeconds)(new Date(0),t),Object(Ce.format)(n,"mm:ss")))),"unlocked"===c&&i.a.createElement(ae,{"data-testid":"VideoStatus"},Object(C.a)("Unlocked")))))};we.propTypes={itemId:y.a.string.isRequired,previewImage:y.a.string.isRequired,performerNick:y.a.string.isRequired,privacy:y.a.string.isRequired,preloadInfo:y.a.object.isRequired,category:y.a.string.isRequired,title:y.a.string,status:y.a.string,duration:y.a.number,price:y.a.number,views:y.a.number},we.defaultProps={title:"",status:"",price:null,views:null,duration:null};var Oe=we,Me=n("28a0"),ke=n.n(Me),Ie=n("91b6"),xe=n.n(Ie),Le=n("a88d"),Ne=n.n(Le),_e=n("77cd"),Se=n("43fd"),Pe=n("cb1d");function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=ze(e);if(t){var r=ze(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return We(this,n)}}function We(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?De(e):t}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(l,e);var t,n,a,o=Re(l);function l(){var e;Be(this,l);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ve(De(e=o.call.apply(o,[this].concat(n))),"iso",null),Ve(De(e),"isotopeContainer",i.a.createRef()),Ve(De(e),"state",{imagesLoaded:!1}),Ve(De(e),"updateLayout",(function(){e.iso.layout()})),e}return t=l,(n=[{key:"componentDidMount",value:function(){r.a.Broadcaster.on("GLOBALEVENT:update-izotope-layout",this.updateLayout),this.initializeIsotope()}},{key:"componentWillUnmount",value:function(){r.a.Broadcaster.un("GLOBALEVENT:update-izotope-layout",this.updateLayout),this.destroyIsotope()}},{key:"shouldComponentUpdate",value:function(e,t){return!Object(_e.a)(this.props,e)||!Ne()(this.state,t)}},{key:"componentDidUpdate",value:function(e,t){var n=i.a.Children.map(e.children,(function(e){return e&&e.key})),a=i.a.Children.map(this.props.children,(function(e){return e&&e.key})),r=Object(Pe.a)(a,n),o=Object(Pe.a)(n,a);o.length>0&&(this.iso.remove(Object(Se.a)(o,(function(e){return document.getElementById(e)}))),this.iso.reloadItems(),this.iso.arrange()),r.length>0&&(this.iso.appended(Object(Se.a)(r,(function(e){return document.getElementById(e)}))),this.iso.reloadItems(),this.iso.arrange(),this.imagesLoaded()),e.appletLayout!==this.props.appletLayout&&"minimized"!==e.appletLayout&&"minimized"!==this.props.appletLayout&&this.imagesLoaded()}},{key:"initializeIsotope",value:function(){this.createIsotopeContainer(),i.a.Children.count(this.props.children)>0&&this.iso.arrange(),this.imagesLoaded(),document.getElementById("channel_block_container").classList.remove("hidden")}},{key:"destroyIsotope",value:function(){null!==this.iso&&(this.iso.destroy(),this.iso=null)}},{key:"createIsotopeContainer",value:function(){null===this.iso&&(this.iso=new ke.a(this.isotopeContainer.current,{itemSelector:"article",layoutMode:"masonry",animationEngine:"css",transitionDuration:".3s",containerStyle:{position:"relative",opacity:1},packery:{columnWidth:".grid-sizer"}}))}},{key:"imagesLoaded",value:function(){var e=this;xe()(this.isotopeContainer.current,(function(t){e.iso&&e.iso.layout()}))}},{key:"render",value:function(){return i.a.createElement("section",{id:"channel_inner_content",className:"isotope",style:{opacity:0!==i.a.Children.count(this.props.children)?1:0},ref:this.isotopeContainer},i.a.createElement("div",{className:"grid-sizer"}),this.props.children)}}])&&je(t.prototype,n),a&&je(t,a),l}(i.a.Component),Ue=n("bd6a"),Fe=n("0e57");function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ze=E.d.div(["height:",";position:relative;"],(function(e){var t=e.height;return t?"".concat(t,"px"):"200px"})),Ye=Object(E.d)(Fe.a)(["left:50%;margin-left:-19px;position:absolute;top:0;"]),Qe=function(e){var t,n,a,r=e.selectedFilter,l=e.hasFreeContent,c=e.hasPremiumContent,s=e.appletLayout,d=e.items,u=e.isLoadingOnShowMore,f=e.isInsideWallLoading,m=e.wallIds,g=e.displayName,h=e.onFilterItems,b=qe(Object(o.useState)(100),2),v=b[0],y=b[1],C=Object(o.useRef)(null),E=Object(p.e)((function(e){return e.performer.category}));return 0===m.length?null:i.a.createElement("div",{ref:C},g&&i.a.createElement(k,{performerNick:g,selectedFilter:r,setFilterClick:function(e){h(e),y(C.current.clientHeight)},hasFreeContent:l,hasPremiumContent:c,"data-testid":"WallWallHeader"}),f?i.a.createElement(Ze,{height:v||void 0,"data-testid":"WallLoaderWrapper"},i.a.createElement(Ye,{"data-testid":"WallStyledLoader"})):i.a.createElement("div",{id:"channel_block_inner"},i.a.createElement(Ge,{appletLayout:s,"data-testid":"WallIsotopeLayout"},(t=d,n=t.bio,a=Object(Ue.a)(t,(function(e){return"bio"!==e.type})),n&&a.unshift(n),a).map((function(e){return function(e,t,n){switch(e.type){case"bio":return i.a.createElement(D,{key:"bio",itemId:"bio",avatar:e.avatar,age:e.age,breast:e.breast,penis:e.penis,gender:e.gender,name:t,awards:e.awardsRank,about:e.aboutMe,averageRating:e.rating.average,totalVotes:e.rating.totalVotes,isExclusivePerformer:e.isExclusive,"data-testid":"WallBioContent"});case"note":return i.a.createElement(q,{key:e.id,noteText:e.noteText,itemId:e.id,performerNick:t,"data-testid":"WallNoteContent"});case"image":return i.a.createElement(se,{key:e.id,itemId:e.id,previewImage:e.previewImage,performerNick:t,preloadInfo:e.preloadInfo,privacy:e.privacy,status:e.status,price:e.price,category:n,"data-testid":"WallImageContent"});case"video":return i.a.createElement(Oe,{key:e.id,itemId:e.id,previewImage:e.previewImage,performerNick:t,privacy:e.privacy,status:e.status,preloadInfo:e.preloadInfo,duration:e.duration,price:e.price,views:e.views,title:e.title,category:n,"data-testid":"WallVideoContent"});case"album":return i.a.createElement(ye,{key:e.id,itemId:e.id,previewImage:e.previewImage,performerNick:t,privacy:e.privacy,status:e.status,preloadInfo:e.preloadInfo,price:e.price,title:e.title,images:e.images,category:n,"data-testid":"WallAlbumMontage"})}}(e,g,E)}))),u&&i.a.createElement(Fe.a,{"data-testid":"WallLoader"})))};Qe.propTypes={items:v.object.isRequired,wallIds:v.array.isRequired,appletLayout:v.string.isRequired,onFilterItems:v.func.isRequired,isLoadingOnShowMore:v.bool.isRequired,isInsideWallLoading:v.bool.isRequired};var Je=Qe,Xe=n("7984");function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=it(e);if(t){var r=it(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return rt(this,n)}}function rt(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?ot(e):t}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(l,e);var t,n,a,o=at(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),lt(ot(t=o.call(this,e)),"fetchContent",(function(e){var n=e.onFilterClick,a=e.requestsCanceler,r=t.state,o=r.lastItemTimeStamp,i=r.filterSelected,l=t.props.performerName,c=o[i];!l||n&&c>0||(0===c?t.fetchInitialContent({performerName:l,filterSelected:i,lastTimestamp:c,requestsCanceler:a}):t.fetchMoreContent({performerName:l,filterSelected:i,lastTimestamp:c,requestsCanceler:a}))})),lt(ot(t),"onFilterItems",(function(e){t.setState({filterSelected:e,scrollTop:t.getContainerScrollTop(),filterChange:!0})})),lt(ot(t),"addContentBasedOnFilter",(function(e){var n=t.props.addContentToWall;switch(t.state.filterSelected){case"All":n(et(et({},e.items),{},{bio:e.bio}));break;case"Free":case"Premium":n(e.items)}})),lt(ot(t),"handleScroll",(function(e){var n=t.props.showMoreOffset,a=t.state,r=a.isLoadingOnShowMore,o=a.isInsideWallLoading,i=a.filterSelected,l=a.hasShowMorePages,c=e.target,s=document.body,d=document.documentElement,u=window.pageYOffset||document.documentElement.scrollTop,p=Math.max(s.scrollHeight,s.offsetHeight,d.clientHeight,d.scrollHeight,d.offsetHeight),f=c.scrollHeight-c.scrollTop<=c.clientHeight+n,m=Math.round(u)+window.innerHeight>=p-n;(b.a.isChatPage()?m:f)&&!r&&!o&&l[i]&&t.fetchContent({requestsCanceler:t.requestsCanceler})})),lt(ot(t),"handleScrollThrottle",Object(g.a)(t.handleScroll,300)),t.state={isWallLoading:!0,isInsideWallLoading:!1,isLoadingOnShowMore:!1,lastItemTimeStamp:{All:0,Free:0,Premium:0},hasShowMorePages:{All:!1,Free:!1,Premium:!1},hasFreeContent:!0,hasPremiumContent:!0,filterSelected:"All",scrollTop:-1,filterChange:!1},t.requestsCanceler={isCanceled:!1},t}return t=l,(n=[{key:"componentDidMount",value:function(){this.fetchContent({requestsCanceler:this.requestsCanceler}),document.getElementById("channel_block_container").classList.remove("hidden"),document.getElementById("chatblock").addEventListener("scroll",this.handleScrollThrottle),window.addEventListener("scroll",this.handleScrollThrottle)}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.props,r=a.performerName,o=a.removeAllContentFromWall,i=a.user._user.type,l=this.state,c=l.filterSelected,s=l.isLoadingOnShowMore,d=l.lastItemTimeStamp,u=l.isInsideWallLoading,p=l.scrollTop,f=l.filterChange,g=!1!==r&&e.performerName!==r,h=e.user._user.type!==i;if((g||h)&&this.setState({lastItemTimeStamp:{All:0,Free:0,Premium:0},hasShowMorePages:{All:!1,Free:!1,Premium:!1},isWallLoading:!0,filterSelected:"All",scrollTop:-1,filterChange:!1},(function(){o(!g),n.fetchContent({requestsCanceler:n.requestsCanceler})})),u!==t.isInsideWallLoading&&p>0&&f&&this.setContainerScrollTop(p),c===t.filterSelected){var b=Object(m.a)(Object.values(this.wallItems),(function(e){return e.createdAt})),v=t.lastItemTimeStamp[c];b&&b.createdAt!==v&&!s&&this.setState({lastItemTimeStamp:et(et({},d),{},lt({},c,b.createdAt))})}else this.fetchContent({onFilterClick:!0,requestsCanceler:this.requestsCanceler})}},{key:"componentWillUnmount",value:function(){this.requestsCanceler.isCanceled=!0,document.getElementById("chatblock").removeEventListener("scroll",this.handleScrollThrottle),window.removeEventListener("scroll",this.handleScrollThrottle)}},{key:"wallItems",get:function(){var e=this.props,t=e.wallContentIds,n=e.wallContentById,a=this.state.filterSelected,r={};switch(a){case"All":t.map((function(e){return r[e]=n[e]}));break;case"Free":t.map((function(e){var t=n[e];if("public"===t.privacy||"note"===t.type)return r[t.id]=t}));break;case"Premium":t.map((function(e){var t=n[e];if("exclusive"===t.privacy)return r[t.id]=t}))}return r}},{key:"getContainerScrollTop",value:function(){return b.a.isChatPage()?document.getElementById("chathtml5.performer").scrollTop:document.getElementById("chatblock").scrollTop}},{key:"setContainerScrollTop",value:function(e){return b.a.isChatPage()?document.getElementById("chathtml5.performer").scrollTop=e:document.getElementById("chatblock").scrollTop=e}},{key:"resetLoading",value:function(){this.setState({isWallLoading:!1,isLoadingOnShowMore:!1,isInsideWallLoading:!1})}},{key:"fetchInitialContent",value:function(e){var t=this,n=e.performerName,a=e.filterSelected,o=e.lastTimestamp,i=e.requestsCanceler,l=this.state.hasShowMorePages;this.setState({isInsideWallLoading:!0});var c=function(){t.resetLoading(),r.a.Broadcaster.fireEvent(d.a.ModelContentComponent.GET_BIO_PAGE_CONTENT_MANAGER,n),document.getElementById("channel_block_container").classList.add("hidden")};Object(Xe.b)(n,a,o).then((function(e){if(0===e.length)c();else{var n=e.hasFree,r=e.hasExclusive;t.addContentBasedOnFilter(e),i.isCanceled||t.setState({isInsideWallLoading:!1,isWallLoading:!1,hasFreeContent:n,hasPremiumContent:r,hasShowMorePages:et(et({},l),{},lt({},a,!e.isLastPage))})}})).catch((function(){return c()}))}},{key:"fetchMoreContent",value:function(e){var t=this,n=e.performerName,a=e.filterSelected,r=e.lastTimestamp,o=e.requestsCanceler,i=this.props.addContentToWall,l=this.state.hasShowMorePages;this.setState({isLoadingOnShowMore:!0}),Object(Xe.a)(n,a,r).then((function(e){i(e.items),o.isCanceled||t.setState({isLoadingOnShowMore:!1,isWallLoading:!1,hasShowMorePages:et(et({},l),{},lt({},a,!e.isLastPage))})})).catch((function(){t.setState({isLoadingOnShowMore:!1,hasShowMorePages:{All:!1,Free:!1,Premium:!1},isWallLoading:!1,isInsideWallLoading:!1})}))}},{key:"render",value:function(){var e=this.onFilterItems,t=this.state,n=this.props,a=this.wallItems,r=n.performerName,o=n.wallContentIds,l=n.appletLayout,c=t.isWallLoading,s=t.hasFreeContent,d=t.hasPremiumContent,u=t.isLoadingOnShowMore,p=t.isInsideWallLoading,f=t.filterSelected;return!1===r?null:c?i.a.createElement(Fe.a,{"data-testid":"WallContainerLoader"}):i.a.createElement(Je,{items:a,hasFreeContent:s,hasPremiumContent:d,wallIds:o,displayName:r,appletLayout:l,isLoadingOnShowMore:u,isInsideWallLoading:p,onFilterItems:e,selectedFilter:f,"data-testid":"WallContainerWall"})}}])&&tt(t.prototype,n),a&&tt(t,a),l}(i.a.Component),st={addContentToWall:u.u,removeAllContentFromWall:u.w},dt=Object(p.c)((function(e){return{wallContentById:e.performer.byId,wallContentIds:e.performer.wallIds,user:e.user,isOverlayOpened:e.ui.isOverlayOpened,appletLayout:e.applet.stream.size}}),st)(ct),ut=n("15b9"),pt=n("79fd"),ft=n.n(pt),mt=function e(t,n){e.superclass.constructor.call(this,t,n)};Ext.extend(mt,r.a.Component,{name:d.a.ModelContentComponent.NAME,wallContainerId:"channel_wall_block",freechatId:"freechat",memberClientId:"member_client_container",chatblockId:"chatblock",init:function(e,t){var n=t.performerName;mt.superclass.init.call(this,e,t),this.wallContentBlock=Ext.get(this.wallContainerId),this.renderModelContent(n)},renderModelContent:function(e){e&&c.a.render(i.a.createElement(p.a,{store:f.store,"data-testid":"ModelContentComponentProvider"},i.a.createElement(dt,{performerName:e,showMoreOffset:b.a.isChatPage()?300:50,"data-testid":"ModelContentComponentWallContainer"})),this.wallContentBlock.dom)},getBioPageWall:function(e){this.getBiopageContentManagerComponent(e).getContent()},refresh:function(e){this.performerName=e,this.renderModelContent(e)},destroyMyContentWall:function(){f.store.dispatch(Object(u.w)()),c.a.unmountComponentAtNode(this.wallContentBlock.dom)},onAppletReady:function(){b.a.isChatPage()&&this.renderModelContent()},onModalClosed:function(e){e.scope.name===d.a.ChatModalComponent.NAME&&this._biopageContentManagerComponent&&this._biopageContentManagerComponent.removeContent()},onDefaultRouteCalled:function(){b.a.isChatPage()||(this.destroyMyContentWall(),f.store.dispatch(Object(u.x)()),f.store.dispatch(Object(ut.a)({performer:null})))},onBecomePremiumMemberClick:function(){this._startPaymentProcess()},_startPaymentProcess:function(){z.default.navigate("payment",{trigger:!0,preventNavigateBack:!1,replace:!1})},getBiopageContentManagerComponent:function(e){return this._biopageContentManagerComponent instanceof ft.a?this._biopageContentManagerComponent.updatePerformerName(e):this._biopageContentManagerComponent=new ft.a(this.element,{performerName:e,containerId:"inner_container",isOverlay:!b.a.isChatPage()}),this._biopageContentManagerComponent},bind:function(){mt.superclass.bind.call(this),r.a.on([{element:r.a.Broadcaster,event:d.a.PhotoViewerComponent.GLOBALEVENT_BECOME_PREMIUM_MEMBER_CLICK,handler:this.onBecomePremiumMemberClick},{element:r.a.Broadcaster,event:d.a.ModalComponent.GLOBALEVENT_MODAL_CLOSED,handler:this.onModalClosed},{element:r.a.Broadcaster,event:d.a.FlashExternal.GLOBALEVENT_APPLET_READY,handler:this.onAppletReady},{element:r.a.Broadcaster,event:d.a.RouteManager.GLOBALEVENT_DEFAULT_ROUTE_CALLED,handler:this.onDefaultRouteCalled},{element:r.a.Broadcaster,event:d.a.ModelContentComponent.GET_BIO_PAGE_CONTENT_MANAGER,handler:this.getBioPageWall}],this)},unbind:function(){mt.superclass.unbind.call(this),this.destroyMyContentWall()}});t.default=mt},b88f:function(e,t,n){"use strict";n.r(t);var a=n("d869"),r=n.n(a),o=n("8af1"),i=n.n(o),l=n("63f1"),c=n.n(l),s=n("2334"),d=n("a9a1"),u=n("0a81"),p=n("2ce3");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E(e);if(t){var r=E(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,n,a,o=v(l);function l(){var e;m(this,l);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return w(C(e=o.call.apply(o,[this].concat(n))),"name","BiopageContentManagerView"),w(C(e),"containerId","inner_container"),w(C(e),"biopageContainerId","biopage_container"),w(C(e),"_willingnessWrapperClass",".willingness_wrapper"),w(C(e),"isOverlay",!1),e}return t=l,(n=[{key:"init",value:function(e,t){h(E(l.prototype),"init",this).call(this,e,t),this.addEvents(r.a.BiopageContentManagerView.EVENT_RENDER_DONE),this._containerEl=document.getElementById(this.containerId)||this.element.dom}},{key:"renderContent",value:function(e){this.removeContent(),Ext.DomHelper.append(this._containerEl,e);var t=document.getElementById("biopage_profile_picture"),n=t.dataset.src;return t&&c.a.render(i.a.createElement(u.a,{store:d.store,"data-testid":"BiopageContentManagerViewProvider"},i.a.createElement(s.a,{performerNick:this.performerNick,src:n,alt:"".concat(this.performerNick,"'s profile picture"),"data-testid":"BiopageContentManagerViewProfilePictureWithMyStory"})),t),this.fireEvent(r.a.BiopageContentManagerView.EVENT_RENDER_DONE),this}},{key:"saveBiopageContainerEl",value:function(){this._biopageContainerEl=Ext.get(this.biopageContainerId)}},{key:"removeContent",value:function(){this.saveBiopageContainerEl();var e=document.getElementById("biopage_profile_picture");this._biopageContainerEl&&e&&(c.a.unmountComponentAtNode(e),this._biopageContainerEl.remove())}},{key:"showMask",value:function(){this._willingnessWrapperEl=this.element.select(this._willingnessWrapperClass).item(0),this._willingnessWrapperEl&&this._willingnessWrapperEl.addClass("masked")}},{key:"hideMask",value:function(){this._willingnessWrapperEl&&this._willingnessWrapperEl.removeClass("masked")}}])&&g(t.prototype,n),a&&g(t,a),l}(n.n(p).a);t.default=O},b8bf:function(e,t,n){var a=n("44ad"),r=n("d869"),o=n("5f9e"),i=function(e,t){i.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(i,a.Component,{name:"BiopageContentManagerModel",getBioPageRoute:"ChatBioPage/Get",isOverlay:!1,init:function(e,t){i.superclass.init.call(this,e,t),this.addEvents(r.BiopageContentManagerModel.EVENT_GET_CONTENT_SUCCESS,r.BiopageContentManagerModel.EVENT_GET_CONTENT_ERROR)},_getContentUrl:function(e){var t;try{t=a.getUrl(this.getBioPageRoute,{performerNick:e})}catch(e){console.error("@JS ERROR in ",this.name,": ",e)}return t},getContent:function(e){if(!e)throw"Modelname must be given.";return this._runningAjax=o.request({url:this._getContentUrl(e),method:"GET",type:r.Chaos.Connection.TYPE_JSON,scope:this,success:function(e){this._getContentSuccess(e)},error:function(e){this._getContentError(e)},failure:function(e){this._getContentError(e)}}),this},_getContentSuccess:function(e){delete this._runningAjax,this.fireEvent(r.BiopageContentManagerModel.EVENT_GET_CONTENT_SUCCESS,{response:e})},_getContentError:function(e){delete this._runningAjax,this.fireEvent(r.BiopageContentManagerModel.EVENT_GET_CONTENT_ERROR,{response:e})}})},c841:function(e,t,n){var a=n("44ad"),r=n("d869"),o=n("a9a1").store,i=function(e,t){i.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(i,a.Controller,{name:"BiopageContentManagerController",isBeingDestroyed:!1,init:function(e,t){i.superclass.init.call(this,e,t),this.addEvents(r.BiopageContentManagerController.EVENT_RENDER_DONE,r.BiopageContentManagerController.GLOBALEVENT_GET_CONTENT_SUCCESS)},getContent:function(){return this.BiopageContentManagerView.showLoader(!0),this.BiopageContentManagerModel.getContent(o.getState().performer.nick),this},removeContent:function(){this.BiopageContentManagerView.removeContent()},onGetContentSuccess:function(e){if(a.fireEvent(r.BiopageContentManagerController.GLOBALEVENT_GET_CONTENT_SUCCESS,{scope:this}),!this.isBeingDestroyed){if(!e.response.json.data.content)throw"There is no HTML content to render.";this.BiopageContentManagerView.showLoader(!1),this.BiopageContentManagerView.renderContent(e.response.json.data.content)}},onGetContentError:function(){a.Broadcaster.fireEvent(r.PerformerHistory.REMOVE_PERFORMER_FROM_HISTORY,o.getState().performer.nick);var e=a.getUrl("Error/Error404");document.location.replace(e)},onRenderDone:function(){this.fireEvent(r.BiopageContentManagerController.EVENT_RENDER_DONE)},onPrivateStart:function(){this.BiopageContentManagerView.showMask()},onPrivateEnd:function(){this.BiopageContentManagerView.hideMask()}})}}]);
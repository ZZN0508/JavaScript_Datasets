!function(){function e(){var i=location.hostname.match(/.*(sogou?\.com)$/);return null!==i?i[1]:"sogo.com"}function q(i,o){i=CryptoJS.enc.Utf8.parse(i),o=CryptoJS.enc.Utf8.parse(o);o=CryptoJS.AES.encrypt(i,o,{iv:o,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return CryptoJS.enc.Base64.stringify(o.ciphertext)}function C(i,o){var n=new Date;n.setTime(n.getTime()+12096e5),document.cookie=i+"="+o+";expires="+n.toGMTString()+";domain=sogou.com;path=/"}var i=navigator.userAgent.toLowerCase(),t=(new Date).getTime(),a=document;window.isIE6=0<i.indexOf("msie 6");var S=function(i,o,n){var e=[location.protocol,"//pb.sogou.com/","cl",".gif?uigs_productid=","webapp"];e.push("&type="),e.push(i),e.push("&stype="),e.push(o),e.push("&pagetype="),e.push(n),e.push("&uigs_t="),e.push((new Date).getTime()),e.push("&uuid_t=",t),e.push("&wuid=",function(i){var o=a.cookie,n=i+"=",e=o.indexOf("; "+n);if(-1==e){if(0!=(e=o.indexOf(n)))return null}else e+=2;return-1==(i=a.cookie.indexOf(";",e))&&(i=o.length),o.substring(e+n.length,i)}("wuid")),(new Image).src=e.join("")};S("webindex_new","show_login_page","sogou_login"),window.login=function(i){if(!$(i.loginBtn))return!1;var o=i.loginBtn,n=($(i.parent)||$("body"),i.cbLink,i.cbFn);$(o)[0]&&($(o)[0].onclick=function(){return S("webindex_new","show_login","sogou_login"),function(){if(0<$("#loginBox").length)return $("#sogoLoginWrap").show(),$("#loginMask").show(),$(".login-tips").hide();!function(){if(0<$("#loginStyle").length)return;var i=".mask-layer{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;opacity:.4;filter:alpha(opacity=40);z-index:1111111112}.login-wrap{font-family:'Microsoft Yahei';font-size:13px;width:566px;height:448px;background-color:#fff;position:absolute;top:50%;left:50%;margin:-219px 0 0 -263px;z-index:1111111113;-webkit-box-shadow:0 9px 50px 0 rgba(51,51,51,0.5);box-shadow:0 9px 50px 0 rgba(51,51,51,0.5)}.login-wrap{font-family:'Microsoft Yahei';font-size:13px;width:566px;height:448px;background-color:#fff;position:fixed;top:50%;left:50%;margin:-219px 0 0 -263px;z-index:1111111113;-webkit-box-shadow:0 9px 50px 0 rgba(51,51,51,0.5);box-shadow:0 9px 50px 0 rgba(51,51,51,0.5)}.login-wrap .mask-layer{height:auto;position:absolute;top:56px;bottom:0;z-index:10}.login-wrap .login-tips{position:absolute;top:50%;left:50%;margin-left:-162px;margin-top:-95px;width:278px;height:148px;z-index:15;background-color:#fff;padding:15px 22px 30px 24px}.login-wrap .login-tips .yzm-box{height:40px;*zoom:1;margin-bottom:37px;position:relative}.login-wrap .login-tips .error{position:absolute;line-height:30px;bottom:-30px;font-size:12px;left:0;color:#ff532e}.login-wrap .login-tips h5{margin-top:auto;line-height:25px;margin-bottom:5px;color:#333;font-size:16px;font-weight:normal}.login-wrap .login-tips input{width:100px;height:38px;border:solid 1px #e9e9e9;margin-right:8px;float:left;padding:0 5px;outline:0}.login-wrap .login-tips .yzm{margin-right:8px;float:left;width:110px;height:40px;overflow:hidden}.login-wrap .login-tips .yzm img{width:100%;height:100%}.login-wrap .login-tips .change{float:left;line-height:20px;color:#999;font-size:12px}.login-wrap .login-tips .tips-btn{overflow:hidden;height:40px}.login-wrap .login-tips .tips-btn a{text-decoration-line:none;float:left;width:132px;line-height:38px;border:solid 1px #ddd;font-size:16px;text-align:center;color:#333;border-radius:2px}.login-wrap .login-tips .tips-btn .ok{background-color:#ff532e;border:solid 1px #ff532e;margin-left:8px;color:#fff}.login-wrap h3{height:56px;line-height:56px;font-size:18px;color:#555;background-color:#f5f5f5;font-weight:normal;padding:0 20px;overflow:hidden;margin-bottom:22px;z-index:1111111113;}.login-wrap .title-tab{text-align:center;margin-bottom:20px;color:#555}.login-wrap .title-tab span{margin:0 30px;display:inline-block;*display:inline;*zoom:1;font-size:15px;line-height:24px;padding:5px 0;border-bottom:2px solid #fff;cursor:pointer}"+'.login-wrap .title-tab span.cur{border-color:#ff6542;color:#ff6542}.login-wrap .del{width:18px;height:18px;overflow:hidden;position:absolute;z-index:2;top:20px;right:20px;background:url("/web/index/images/sprite_login.png") no-repeat;background-image:-webkit-image-set(url("/web/index/images/sprite_login@2x.png") 2x,url("/web/index/images/sprite_login.png") 1x);background-image:image-set(url("/web/index/images/sprite_login@2x.png") 2x,url("/web/index/images/sprite_login.png") 1x);background-position:0 -55px}.login-wrap .logo{width:24px;height:24px;display:inline-block;*display:inline;*zoom:1;overflow:hidden;background:url("/web/index/images/logo/logo.png") no-repeat;background-image:-webkit-image-set(url("/web/index/images/logo/logo@x2.png") 2x,url("/web/index/images/logo/logo.png") 1x);background-image:image-set(url("/web/index/images/logo/logo@x2.png") 2x,url("/web/index/images/logo/logo.png") 1x);background-position:0 0;vertical-align:middle;position:relative;top:-2px;margin-right:8px}.login-wrap .login-content{margin:0 auto;width:400px}.login-wrap .input-wrap{width:398px;height:93px;border:solid 1px #e2e2e2;-webkit-border-radius:6px;border-radius:6px}.login-wrap .input-box{position:relative;height:16px;padding:14px 0 16px 34px}.login-wrap .input-box .tips{position:absolute;left:34px;top:15px;line-height:16px;color:#bbb}.login-wrap .input-box .yzm-link{position:absolute;top:15px;right:13px;color:#ff6542;cursor:pointer}.login-wrap .input-box .input-icon{position:absolute;top:15px;left:13px;width:12px;height:16px;background:url("/web/index/images/sprite_login.png") no-repeat;background-image:-webkit-image-set(url("/web/index/images/sprite_login@2x.png") 2x,url("/web/index/images/sprite_login.png") 1x);background-image:image-set(url("/web/index/images/sprite_login@2x.png") 2x,url("/web/index/images/sprite_login.png") 1x);background-position:0 -55px}.login-wrap .input-box .input-icon.input-tel{background-position:-52px -55px}.login-wrap .input-box .input-icon.input-yzm{background-position:-72px -55px}.login-wrap .input-box input{border:0;font-size:13px;font-family:\'Microsoft Yahei\';outline:0}.login-wrap .input-box+.input-box{border-top:1px solid #f3f3f3}.login-wrap .login-btn{display:block;height:40px;line-height:40px;text-align:center;color:#fff;background-color:#ff6542;font-size:16px;letter-spacing:10px;margin-bottom:26px;-webkit-border-radius:2px;border-radius:2px;text-decoration:none}.login-wrap .operate-box{line-height:22px;padding:13px 0;height:22px;overflow: hidden;}.login-wrap .input-box .input-error{color:#ff6542;position:absolute;top:15px;right:13px;}.login-wrap .operate-box .login-right{float:right}.login-wrap .operate-box .login-right a{text-decoration-line:none;color:#666}.login-wrap .operate-box .login-right i{font-style:normal;color:#f1f1f1;margin:0 8px}.login-wrap .operate-box .show-password{float:left;color:#999}.login-wrap .operate-box .show-password input{margin-right:8px;position:relative;top:2px}.login-wrap .other-login{width:400px;margin:0 auto;text-align:center}.login-wrap .other-login h4{font-weight:normal;position:relative;height:1px;line-height:0;background-color:#e7e7e7;color:#bbb;margin-bottom:26px}.login-wrap .other-login h4 span{background-color:#fff;padding:0 8px;line-height:14px;position:relative;top:-7px}.login-wrap .other-login a{display:inline-block;*display:inline;*zoom:1;width:47px;height:47px;margin:0 17px;background:url("/web/index/images/sprite_login.png") no-repeat;background-image:-webkit-image-set(url("/web/index/images/sprite_login@2x.png") 2x,url("/web/index/images/sprite_login.png") 1x);background-image:image-set(url("/web/index/images/sprite_login@2x.png") 2x,url("/web/index/images/sprite_login.png") 1x);background-position:0 0}.login-wrap .other-login .ico-wx{background-position:-55px 0}.login-wx-wrap{width:800px;height:496px;-webkit-box-shadow:0 9px 50px 0 rgba(51,51,51,0.5);box-shadow:0 9px 50px 0 rgba(51,51,51,0.5);background-color:#fff;position:fixed;top:50%;left:50%;margin:-258px 0 0 -402px;z-index:1111111113;text-align:center;}.login-wx-wrap .wx-del{width:18px;height:18px;overflow:hidden;position:absolute;z-index:2;top:20px;right:20px;background:url("/web/index/images/sprite_login.png") no-repeat;background-image:-webkit-image-set(url("/web/index/images/sprite_login@2x.png") 2x,url("/web/index/images/sprite_login.png") 1x);background-image:image-set(url("/web/index/images/sprite_login@2x.png") 2x,url("/web/index/images/sprite_login.png") 1x);background-position:0 -55px}.login-wx-wrap .QQ-del{width:18px;height:18px;overflow:hidden;position:absolute;z-index:2;top:16px;right:20px;background:url("/web/index/images/sprite_login.png") no-repeat;background-image:-webkit-image-set(url("/web/index/images/sprite_login@2x.png") 2x,url("/web/index/images/sprite_login.png") 1x);background-image:image-set(url("/web/index/images/sprite_login@2x.png") 2x,url("/web/index/images/sprite_login.png") 1x);background-position:-26px -55px}.login-wx-wrap .ewm{width:100%;height:456px;padding-top:40px;margin:0 auto;margin-bottom:37px;-webkit-border-radius:3px;border-radius:3px}.login-wx-wrap ul{position:absolute;left:531px;top:76px;z-index:20;text-align:left}.login-wx-wrap ul li{padding:7px 0;font-size:12px;line-height:22px;border-bottom:1px dotted #e3e3e3}.login-wx-wrap ul li a{color:#3481cf;margin-right:8px}.login-wx-wrap ul li.font-gray{color:#666}.login-wx-wrap ul li .protocol{margin-left:8px}.login-wx-wrap ul li.no-line{border:0;padding-top:28px}',o=$("<style/>").attr({id:"loginStyle"});$(o)[0].type="text/css",$("body").append(o),o[0].styleSheet?o[0].styleSheet.cssText=i:o[0].appendChild(document.createTextNode(i))}();$(".header").after('<div id="emptyLogin"></div><div id="loginBox"><div class="mask-layer" style="display:none" id="loginMask"></div><div class="login-wrap"id="sogoLoginWrap"><div class="mask-layer"></div><div class="login-tips"><h5>请输入图片验证码</h5><div class="yzm-box"><span class="error"></span><input type="text"><span class="yzm"><img src=""alt=""></span><span class="change">看不清<br>换一张</span></div><div class="tips-btn"><a href="javascript:;">取消</a><a href="javascript:;"class="ok">确认</a></div></div><h3><span class="logo"></span>搜狗搜索</h3><a href="javascript:;"class="del"></a><div class="title-tab"><span class="cur">账号登录</span><span>短信登录</span></div><form action=""><div class="login-content"><div class="input-wrap"><div class="input-box"><span class="tips">请输入手机号码</span><i class="input-icon input-tel"></i><input type="text"value=""><p class="input-error"></p></div><div class="input-box"><span class="tips">输入密码</span><i class="input-icon input-yzm"></i><input type="text"value=""><input type="password" value="" style="display:none;"><a class="yzm-link">获取验证码</a><p class="input-error"></p></div></div><div class="operate-box"><p class="show-password"><input type="checkbox" id="showPw" name="showPw"><label for="showPw">显示密码</label></p><div class="login-right"><a href="javascript:void(0)">忘记密码？</a><i>|</i><a href="javascript:void(0)">注册新账号</a></div></div><a href="javascript:void(0)"class="login-btn">登录</a></div></form><div class="other-login"><h4><span>其他登录方式</span></h4><div><a href="javascript:;"class="ico-QQ"></a><a href="javascript:;"class="ico-wx"></a></div></div></div><div class="login-wx-wrap"><a href="javascript:;"class="wx-del"></a><div class="ewm"><iframe width="100%"height="456"frameborder="0"scrolling="no"src=""></iframe></div></div><div class="login-wx-wrap"><a href="javascript:;"class="QQ-del"></a><iframe width="100%"height="100%"frameborder="0"scrolling="no"src=""></iframe><ul><li><a href="javascript:;">搜狗搜索</a>将获得以下权限：</li><li class="font-gray">获得您的昵称、头像、性别</li><li class="no-line">授权后表明您以同意<a href="javascript:;"class="protocol">QQ登录服务协议</a></li></ul></div></div>'),$(".login-wrap:eq(0)").attr("id","sogoLoginWrap"),$(".login-wx-wrap:eq(0)").attr("id","wxLoginWrap").hide(),$(".login-wx-wrap:eq(1)").attr("id","qqLoginWrap").hide(),$(".mask-layer").hide(),$("#loginMask").show(),$(".ico-QQ").click(function(){var i=window.navigator.userAgent.toLowerCase();-1<i.indexOf("macintosh")&&-1<i.indexOf("safari")&&-1<i.indexOf("version")&&i.indexOf("chrome");return $("#sogoLoginWrap").hide(),function(){S("webindex_new","qq_login","sogou_login");var i=location.protocol.toLowerCase()+"//"+location.hostname+"/login/qq_login_callback_page_new.html?xy=https&from="+encodeURIComponent(location.href),i="https://account.sogou.com/connect/login?provider=qq&client_id=2017&ru="+encodeURIComponent(i);window.location.href=i}(),!1}),$(".ico-wx").click(function(){return $("#loginMask").show(),$("#sogoLoginWrap").hide(),$("#wxLoginWrap").show(),S("webindex_new","wx_login","sogou_login"),$("#wxLoginWrap iframe").attr({src:["https://account.sogou.com/connect/login?provider=weixin","client_id=2017","ru="+encodeURIComponent(location.href),"third_appid=wx6634d697e8cc0a29","href="+encodeURIComponent("https://dlweb.sogoucdn.com/weixin/css/weixin_join.min.css?v=20170315")].join("&")}),!1}),$(".QQ-del").click(function(){return $("#qqLoginWrap, .mask-layer").hide(),$("#qqLoginWrap iframe").attr("src",""),!1}),$(".wx-del").click(function(){return $("#wxLoginWrap, .mask-layer").hide(),$("#wxLoginWrap iframe").attr("src",""),!1}),$("#sogoLoginWrap>.del").click(function(){return $("#sogoLoginWrap, .mask-layer").hide(),!1});var i="";i="?ru"===location.search.substring(0,3)?location.search.substring(4):encodeURIComponent(location.href),$(".operate-box a:eq(1)").attr({href:"https://www.sogou.com/register?ru="+i,target:"_blank"}),$(".operate-box a:eq(0)").attr({href:"https://account."+e()+"/web/findpwd?/web/indexhttps%3A%2F%2Faccount."+e()+"&client_id=1120",target:"_blank"}),function(){window.PassportSC.appid="2017",window.PassportSC.redirectUrl=window.location.protocol+"//"+window.location.hostname+"/jump.htm",$("#sogoLoginWrap .title-tab>span").each(function(i,o){$(o).click(function(){$("#sogoLoginWrap .title-tab>span").removeClass("cur"),$(this).addClass("cur"),w(),0==i?(t=!0,h()):(t=!1,u())})});function i(){d.html(t?"输入密码":"输入验证码")}function o(){r="text",l.hide(),p.show(),e=p}function n(){r="password",l.hide(),s.show(),e=s}var e,t=!0,a="",r="password",p=$("#sogoLoginWrap .input-box input:eq(1)"),s=$("#sogoLoginWrap .input-box input:eq(2)"),l=$("#sogoLoginWrap .input-box input:not(:eq(0))"),g=$("#sogoLoginWrap .input-box span:eq(0)"),d=$("#sogoLoginWrap .input-box span:eq(1)"),c=$("#sogoLoginWrap .input-box input:eq(0)").blur(function(){c.val()||g.html("请输入手机号码")}),x=$("#sogoLoginWrap .yzm-link").click(function(){return k(c.val())||(v(),p.val("").show()),!1}),u=function(){x.show(),$(".show-password").hide(),i(),o(),p.val("")},h=function(){x.hide(),$(".show-password").show(),i(),n(),s.val(""),$("#sogoLoginWrap").find(":checkbox").removeAttr("checked")},w=function(){$("#sogoLoginWrap .input-error").html("").hide()};$("#sogoLoginWrap .input-box:eq(0)").bind("click",function(){return $(this).find("span").eq(0).html(""),$(this).find("input").focus(),w(),!1}),$("#sogoLoginWrap .input-box:eq(1)").bind("click",function(){return $(this).find("span").eq(0).html(""),$(this).find('input[type="'+r+'"]').focus(),w(),!1}),$("#sogoLoginWrap .input-box input").not(":eq(0)").focus(function(){d.html("")}).blur(function(){e.val()||i()}),$("#sogoLoginWrap").find(":checkbox").click(function(){$(this).is(":checked")?(p.val(s.val()),o()):(s.val(p.val()),n())}),$("#sogoLoginWrap .login-btn").click(function(){return(t?z:W)(),!1});function f(){m.find("img").attr({src:_()})}function b(i){m.find(".error").html(i).show()}var m=$("#sogoLoginWrap .login-tips").attr("id","sogoAuth").hide(),v=function(){m.show(),$("#sogoLoginWrap .mask-layer").show(),f(),$("#sogoLoginWrap #tokenInput").val("")};m.find("input").attr("id","tokenInput").focus(function(){b("")}),m.find(".change").click(function(){return f(),b(""),!1}),m.find(".tips-btn>a:eq(0)").click(function(){return m.hide(),$("#sogoLoginWrap .mask-layer").hide(),!1}),m.find(".tips-btn>a:eq(1)").click(function(){return L(),!1});var k=function(i){return(void 0===i||""==i||!i.match(/^[1]([3-9])[0-9]{9}$/))&&(y("请输入正确的手机号码",!0),!0)},y=function(i,o){(o?$("#sogoLoginWrap .input-error").eq(0):$("#sogoLoginWrap .input-error").eq(1)).html(i).show()},_=function(){return"https://account.sogou.com/captcha?token="+(a=i()+i()+i()+i()+i()+i()+i()+i());function i(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},L=function(){return!k(c.val())&&void $.ajax({method:"POST",url:"/passport/wap/smsCodeLogin/sendSms",data:{mobile:c.val(),client_id:"2017",captcha:$("#tokenInput").val(),token:a},dataType:"json",contentType:"application/x-www-form-urlencoded; charset=utf-8",success:function(i){try{"0"===(i=JSON.parse(i)).status?($("#sogoLoginWrap .login-tips").hide(),$("#sogoLoginWrap .mask-layer").hide(),y(i.statusText,!0)):b(i.statusText)}catch(i){}},error:function(){b("系统异常，请稍后再试")}})},W=function(){S("webindex_new","sogouSMS_login","sogou_login");var i=e.val(),i=(void 0===(i=i)||""==i||!i.match(/^[0-9]{4,6}$/))&&(y("输入的验证码格式有误",!0),!0);if(k(c.val())||i)return!1;var i=location.hostname,i=location.protocol.toLowerCase()+"//"+i+"/login/qq_login_callback_page_new.html?xy=https&from="+encodeURIComponent(location.href),n="Lg7khs4uSrWL0r5u";$.ajax({method:"POST",url:"/passport/wap/smsCode/login",data:{client_id:"2017",v:0,ru:encodeURIComponent(i),mobile:c.val(),smsCode:e.val()},contentType:"application/x-www-form-urlencoded; charset=utf-8",dataType:"json",success:function(i){var o;i&&i.statusText&&("操作成功"==(o=i.statusText)?(y("登录中，请稍候...",!0),i.data&&i.data.sgid&&(C("ssppuid",q(i.data.userid,n)),C("ssppunid",q(i.data.uniqname,n))),location.reload()):"该手机号未注册，推荐短信验证登录"==o||"密码错误"==o?y(o,!0):"请输入验证码"==o?v():"验证码错误或已过期"==o&&y(o,!0))},error:function(){y("系统异常，请稍后再试",!0)}})},z=function(){S("webindex_new","sogouPwdLogin","sogou_login");var i,o=e.val(),n=(void 0===(i=o)||""==i||!i.match(/^[\@A-Za-z0-9\!\#\$\%\^\&\*\.\~]{6,16}$/))&&(y("密码长度应为6~16位"),!0),i=c.val();k(i)||n||PassportSC.loginHandle(i,o,"",1,document.getElementById("emptyLogin"),function(i){i&&i.msg&&("密码错误"==(i=decodeURIComponent(i.msg))?(y("密码错误"),e.val("").focus()):"该手机号未注册，推荐短信验证登录"==i&&y("该手机号未注册，请先注册该账号"))},function(){"?ru"==location.search.substring(0,3)?location.href=decodeURIComponent(location.search.substring(4)):location.reload()})};h(),w()}()}(),n&&n(),!1})}}();

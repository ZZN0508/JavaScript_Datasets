!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.wpkReporter=t():e.wpkReporter=t()}(this,function(){return n=[function(e,t){e.exports={sdk:{BID:"wpkreporter",CID:"jssdk",WID_KEY:"__wpkreporterwid_"},env:{BROWSER:"browser",NODEJS:"nodejs",WEEX:"weex"},px:{signKey:"Uvn#08uefVdwe&c4",addr:{cn:"http://px.effirst.com/api/v1/jssdk/upload",cn_https:"https://px.effirst.com/api/v1/jssdk/upload",intl:"http://px-intl.ucweb.com/api/v1/jssdk/upload",intl_https:"https://px-intl.ucweb.com/api/v1/jssdk/upload"},confAddr:{cn:"http://px.effirst.com/api/v1/jconfig",cn_https:"https://px.effirst.com/api/v1/jconfig",intl:"http://px-intl.ucweb.com/api/v1/jconfig",intl_https:"https://px-intl.ucweb.com/api/v1/jconfig"}},http:{methods:{GET:"GET",PUT:"PUT",POST:"POST",HEAD:"HEAD",DELETE:"DELETE",OPTIONS:"OPTIONS",CONNECT:"OPTIONS",TRACE:"OPTIONS",PATCH:"OPTIONS"},protocols:{HTTP:"http:",HTTPS:"https:"}},category:{JSERR:1,API:2,JSFSPERF:3,RESLOADFAIL:4,FLOW:5,BKPG:6,HARLOG:7,PERFNEXT:1e3},navConn:{types:{BLUETOOTH:"bluetooth",CELLULAR:"cellular",ETHERNET:"ethernet",MIXED:"mixed",NONE:"none",OTHER:"other",UNKNOWN:"unknown",WIFI:"wifi",WIMAX:"wimax"},effectiveTypes:{"2G":"2g","3G":"3g","4G":"4g",SLOW2G:"slow-2g"}}}},function(e,t,s){var n=s(6),r=s(0),c=r.px,l=r.category;function o(e){if(!(this instanceof o))return new o(e);e=e||{},this._init=!1,this.toolKit=n(e),this.logger=this.toolKit.logger,this.debug=e.debug||!1,!0===e.debug&&this.logger.warn("[wpk] now in debug mode, you can see log details"),this._plugins=e.plugins||[],this.bid=e.bid,this.cid=e.cid,this.uid=e.uid,this.rel=e.rel,this.spa=e.spa||!1,this.delay=!1!==e.delay,this.cluster=e.cluster||"cn",this.sampleRate=e.sampleRate,this.ignoreScriptError=!1!==e.ignoreScriptError,this.onlyCustom=e.onlyCustomInUCCore||e.onlyCustom||!1,this.ignoreU4HA=!0===e.ignoreU4HA,this.beforeSend=e.beforeSend||null,this.checkHidden=!1!==e.checkHidden,this.supportBeaconBody=!1!==e.supportBeaconBody,this.blockAlipayMiniAppWebview=e.blockAlipayMiniAppWebview||!1,this.maxSessDuration=e.maxSessDuration||288e5,this._waitingQueue=[]}function u(t){var e,n;t.toolKit.inAlipayMiniAppWebview()&&!0===t.blockAlipayMiniAppWebview?t.logger.warn("current runtime is alipay miniapp webview, this request will be blocked."):(e=c.confAddr[t.cluster+(t.isHttps?"_https":"")],n=c.signKey,t._startTime=Date.now(),t._dying=!0,t.toolKit.dynamicConf(t.bid,t.VERSION,e,n,function(e){t._dying=!1,t._dyConf=e,t.logger.warn("jconfig come back")}))}o.prototype={VERSION:"1.0.5",initialize:function(e){this.env=e.env,e.root.location&&-1!==e.root.location.search.indexOf("wpkReporterDebug=true")&&(this.debug=!0),this.send=e.send,this.getWid=e.getWid,this.isHttps=e.isHttps,e.bindUnloadEvent(this)},ready:function(){return this._init},setConfig:function(e){return this.toolKit.isObject(e)&&this.toolKit.extend(this,e),this},report:function(e){var t=(e="string"==typeof e?{category:l.JSERR,msg:e}:e).sampleRate||this.sampleRate;if(this.toolKit.canReport(t=!t&&0!==t?1:t)){if(this._cleanData(e),this.ready()){if("function"==typeof this.beforeSend){try{i=this.beforeSend(e)}catch(e){this.logger.error("exec beforeSend failed for:",e)}if(!1===i)return void this.logger.warn("beforeSend func return false");"object"==typeof i&&(e=i)}var n=this.toolKit.getMetas(),r=e.bid||this.bid||n.wpkBid,o=e.cid||this.cid||n.wpkCid,i=e.rel||this.rel||n.wpkRel;this.toolKit.isFunction(i)&&(i=i());n=e.uid||this.uid,n=(n=this.toolKit.isFunction(n)?n():n)||this.getWid();if(Date.now()-this._begin>=this.maxSessDuration&&(this._begin=Date.now(),this._sid=this.toolKit.uuid()),this.toolKit.extend(e,{w_bid:r,w_cid:o,w_rel:i,w_spa:this.spa,w_tm:this.toolKit.timestamp(),w_cnt:1,uid:n,type:this.toolKit.categoryToType(e.category),sdk_ver:this.VERSION,log_src:"jssdk",uc_param:this.uc_param||"",wid:this.wid}),this._dyConf&&Date.now()<this._dyConf.expireAt){var a=void 0!==this._dyConf[e.type+"@"+e.category]?this._dyConf[e.type+"@"+e.category]:this._dyConf[e.type];if(void 0!==(a=void 0!==a?a:this._dyConf.all)&&!this.toolKit.canReport(a))return void this.logger.warn("ç”±äºŽã€ŒåŠ¨æ€é…ç½®ã€é‡‡æ ·çŽ‡æŽ§åˆ¶ï¼Œæœ¬æ¡æ—¥å¿—æœ€ç»ˆæœªä¸ŠæŠ¥ï¼Œç±»åž‹: ",e.type,e.category," é‡‡æ ·çŽ‡: ",a)}else!this._dying&&18e5<=Date.now()-this._startTime&&(this.logger.warn("syncing dynamic config"),u(this));a={app:r,cp:"none",de:4,seq:this.toolKit.generateSeq(),tm:this.toolKit.timestamp(!0),ud:encodeURIComponent(e.uid),ver:e.w_rel,type:e.type,sver:e.sdk_ver,sign:"9bf8a190ef82c5049df7b199c599c45b"},r=c.addr[this.cluster+(this.isHttps?"_https":"")],a=this.toolKit.objToQueryString(a);this.toolKit.cutStr(e,["c1","c2","c3","c4","c5"],128),this.send(r,a,e)}else this._waitingQueue.push(e),this.logger.warn("sdkæœªå®Œæˆåˆå§‹åŒ–ï¼Œæ•°æ®å·²ç¼“å­˜");return this}this.logger.warn("ç”±äºŽé‡‡æ ·çŽ‡æŽ§åˆ¶ï¼Œæœ¬æ¡æ—¥å¿—æœ€ç»ˆæœªä¸ŠæŠ¥ï¼Œé‡‡æ ·çŽ‡: ",t)},_cleanData:function(e){for(var t,n=1;n<=10;n++)e.hasOwnProperty(t="bl"+n)&&(e["w_"+t]=e[t],e[t]=void 0)},reportFlow:function(e){return this.report(this.toolKit.extend((e=e||{})||{},{category:l.FLOW,sampleRate:1})),this},reportError:function(e,t){return this.toolKit.isError(e)?((t=t||{}).category=l.JSERR,t.w_msg=e.toString(),t.stack=this.toolKit.parseErrorStack(e),t.w_file=e.filename||"",t.w_line=e.lineno||"",t.w_col=e.colno||"",this.report(t),this):this.report(e,t)},reportApi:function(e,t){this.reportApiError(e,t)},reportApiError:function(e,t){return e&&(this.toolKit.isObject(e.queryString)&&(e.queryString=this.toolKit.objToQueryString(e.queryString)),this.report(this.toolKit.extend(t||{},{msg:e.msg||"",w_res:e.url,w_method:e.method,w_param:e.queryString,w_body:JSON.stringify(e.body),w_resp:e.response,w_rc:e.status,w_rt:e.spent||0,c1:e.c1,c2:e.c2,c3:e.c3,c4:e.c4,c5:e.c5},{category:l.API,w_type:16}))),this},reportBlankPage:function(e){return(e=e||{}).hasOwnProperty("w_fp")||this.toolKit.extend(e,{w_fp:999}),this.report(this.toolKit.extend(e||{},{category:l.BKPG})),this},diagnose:function(){this.ready()?this.bid?(this.sampleRate||this.logger.warn("æ²¡æœ‰è®¾ç½®é‡‡æ ·çŽ‡å‚æ•°sampleRateï¼Œå°†ä½¿ç”¨é»˜è®¤é‡‡æ ·çŽ‡"),this.report({_diagnose:!0})):this.logger.warn("ç¼ºå°‘bidå‚æ•°,è¯·ç¡®è®¤æ˜¯å¦å·²æ­£ç¡®è®¾ç½®"):this.logger.warn("wpkReporterå°šæœªåˆå§‹åŒ–ï¼Œè¯·ç¡®ä¿å·²è°ƒç”¨ install æ–¹æ³•")},addPlugin:function(e,t){return this._plugins.push([e,t]),"function"==typeof e&&this._init&&e.apply(this,[this,t]),this},install:function(){u(this);for(var e=s(2),t=this._plugins.length,n=!1,r=0;r<t;r++){var o=this._plugins[r],i=o[0],o=o[1];i.prototype.pluginId===e.prototype.pluginId&&(n=!0),i.apply(this,[this,o])}return this.wid=this.getWid(),this._begin=Date.now(),this._sid=this.toolKit.uuid(),this._init=!0,0!==t&&n||(this.toolKit.logger.info("æ²¡æœ‰è®¾ç½®Flowï¼Œå†…ç½®å¼€å¯"),this.addPlugin(e)),this},installAll:function(){var e=[[s(8),{resErr:!0}],[s(9)],[s(10)],[s(2)],[s(11),{params:"prveosfrnwut"}]],t=this._plugins.length;if(0===t)this._plugins=e;else{for(var n=[],r=e.length,o=0;o<r;o++){for(var i=e[o],a=0;a<t;a++)if(i[0].prototype.pluginId===this._plugins[a][0].prototype.pluginId){i=this._plugins[a];break}n.push(i)}this._plugins=n}return this.install()},uninstall:function(){return this._plugins=[],this._init=!1,this}},e.exports=o},function(e,t,o){function i(e){var t;return e&&(t=e.replace(/^#\/?/,""))&&"string"==typeof t&&t.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""),1}function n(t,e){var n,r;e=e||{},t.env===a.BROWSER&&window&&(t.toolKit.extend({enable:!0},e).enable?(t.logger.info("wpkflowPluginå·²å¼€å¯"),t.toolKit.onListen(window,"load",function(){t.reportFlow()},!0),t.spa&&(o(7)(),n=function(e){i(location.hash)&&(t._begin=Date.now(),t._sid=t.toolKit.uuid(),t.reportFlow())},r=function(e){i(e.detail)&&(t._begin=Date.now(),t._sid=t.toolKit.uuid(),t.reportFlow())},t.toolKit.onListen(window,"hashchange",n),t.toolKit.onListen(window,"historystatechange",r)),t.toolKit.onListen(window,"beforeunload",function(){t.toolKit.offListen(window,"load"),t.toolKit.offListen(window,"hashchange"),t.toolKit.offListen(window,"historystatechange"),n=r=null})):t.logger.info("wpkflowPluginå·²å…³é—­"))}var a=o(0).env;n.prototype.pluginId="flow",e.exports=n},function(n,e,r){!function(e){var t="function"==typeof callNative||"function"==typeof nativeLog;n.exports=r(t?5:"object"==typeof e&&e+""=="[object process]"?13:16)}.call(this,r(4))},function(e,t){var n,r,e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var s,c=[],l=!1,u=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&f())}function f(){if(!l){var e=a(p);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.prependListener=g,e.prependOnceListener=g,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){var r=n(1),o=n(12);e.exports=function(e){e=new r(e);return e.initialize(o),e}},function(e,t){function n(e){return e||""}function r(){var n=Date.now();return"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:11&t).toString(16)})}function o(e){return"object"==typeof e}function i(e){var t={}.toString.call(e);return o(e)&&("[object Error]"===t||"[object Exception]"===t||t instanceof Error)}function a(e){return"[object Array]"==={}.toString.call(e)}function d(e){return"function"==typeof e}function s(e){return"string"==typeof e}function c(e){var t=+new Date;return t=!0===e?Math.floor(t/1e3):t}function l(e){if(e.stack){e=e.stack.split("\n");return e.shift(),e.join("\n")}return""}function u(e){var t;switch(e){case 1:t="jserr";break;case 2:t="api";break;case 3:t="jsfsperf";break;case 4:t="resloadfail";break;case 5:t="flow";break;case 6:t="bkpg";break;case 7:t="harlog";break;default:t="jssdkidx"}return t}function p(){return c()+Math.floor(10*Math.random())}function g(e){var t,n=[];for(t in e)n.push(t+"="+e[t]);return n.join("&")}function f(e){return JSON?JSON.stringify(e):e.toString()}function h(){if("undefined"!=typeof document&&document.getElementsByTagName)for(var e,t,n,r,o=document.getElementsByTagName("meta"),i=o.length,a=0;a<i;a++)"wpk-bid"===(r=o[a]).name?e=r.content:"wpk-cid"===r.name?t=r.content:"wpk-rel"===r.name&&(n=r.content);return{wpkBid:e||null,wpkCid:t||null,wpkRel:n||null}}function w(n,r,o,i){return n.addEventListener?n.addEventListener(r,function e(t){i&&n.removeEventListener(r,e,!1),o.call(this,t)},!1):n.attachEvent&&n.attachEvent("on"+r,function e(t){i&&n.detachEvent("on"+r,e),o.call(this,t)}),this}function v(e,t,n){return n&&(e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent(t,n)),this}function y(e){return!!e&&0!==e&&(1<=e||"100%"===e||(/^\d+(\.\d+)?%$/.test(e)?Math.random()<parseFloat(e)/100:0<e&&e<1&&Math.random()<e))}function m(e,t){t=[].slice.call(t),e.apply(this,[O].concat(t))}function _(e){var t="";switch(e.category){case 1:t=[e.category,e.uid,e.w_url,e.w_ref,e.w_msg||"",e.w_line||"",e.w_col||""].join("");break;case 2:t=[e.category,e.uid,e.w_res,e.w_method,e.w_rc].join("");break;case 4:t=[e.category,e.uid,e.w_url,e.w_ref,e.w_res,e.w_type].join("")}return t}function b(e,t){e=e||!1;try{if("undefined"!=typeof window&&window.ucweb&&window.ucweb.window||t){for(var n=(t||navigator.userAgent).split(" "),r=n.length,o=!1,i=!1,a=0;a<r;a++)-1!==n[a].indexOf("UWS/")?i=function(e,t){try{for(var n,r,o=e.split("."),i=t.split("."),a=o.length,s=0;s<a;s++)if((n=parseInt(o[s]))!==(r=parseInt(i[s])))return n>r;return!0}catch(e){}return!1}(n[a].split("/")[1],"2.13.2.37"):-1!==n[a].indexOf("AliApp(DingTalk/")&&(o=!0);return o?i:e}}catch(e){}return!1}function x(e,l,t,n,u){var p="wpkreporter:dynamicConf:"+e,f=R.get(p);f?d(u)&&u(f):(e={app:e,tm:c(!0),ud:r(),sver:l,sign:"c41e43c828c16c16a6eb1c9c1e68e8ce"},e=g(e),function(e,n){if("undefined"==typeof XMLHttpRequest)n();else{var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){var e;if(200===r.status&&r.response)try{var t=JSON.parse(r.response);0===t.code&&(e=t.config||[])}catch(e){}n(e)}};try{r.open("GET",e,!0),r.timeout=3e3,r.send()}catch(e){}}}(t+"?wpk-header="+encodeURIComponent(e),function(e){if(f={},void 0!==e){for(var t=e.length,n=0;n<t;n++){var r=e[n],o=r.sdkver;if(function(e,t){if(t){if(1===t.length)return e===t[0];if(2!==t.length)return!1;var n=t[0],t=t[1];return n&&!t?r(e,n):(!n||!t||r(e,n))&&r(t,e)}return!0;function r(e,t){e=e.split("."),t=t.split(".");return!(parseInt(e[0])<parseInt(t[0]))&&(parseInt(e[0])>parseInt(t[0])||!(parseInt(e[1])<parseInt(t[1]))&&(parseInt(e[1])>parseInt(t[1])||parseInt(e[2])>=parseInt(t[2])))}}(l,o)){if(r.common&&void 0!==r.common.sampleRate&&(f.all=r.common.sampleRate),r.config)for(var i,a=r.config.length,s=0;s<a;s++)if((i=r.config[s]).type){if(i.category_rate)for(var c in i.category_rate)f[i.type+"@"+c]=i.category_rate[c];i.sampleRate&&(f[i.type]=i.sampleRate)}break}}R.set(p,f)}d(u)&&u(f)}))}function E(e,t,n){for(var r,o=t.length,i=0;i<o;i++)"string"==typeof(r=e[t[i]])?e[t[i]]=r.substring(0,n):"object"==typeof r&&(e[t[i]]=String(r))}function S(){var e,t,n,r=!1;try{"undefined"!=typeof navigator&&(e=-1!==navigator.userAgent.indexOf("Alipay"),t=-1!==navigator.userAgent.indexOf("MiniProgram"),n=-1!==navigator.userAgent.indexOf("APXWebView"),r=e&&(t||n))}catch(r){}return r}var O="wpk-reporter",R={get:function(e){if("undefined"!=typeof localStorage){var t=localStorage.getItem(e);if(t){if(t=JSON.parse(t),Date.now()<t.expireAt)return t;this.rm(e)}}return null},set:function(e,t){"undefined"!=typeof localStorage&&e&&t&&(t.expireAt=Date.now()+18e5,localStorage.setItem(e,JSON.stringify(t)))},rm:function(e){"undefined"!=typeof localStorage&&localStorage.removeItem(e)}};e.exports=function(e){return{noop:n,uuid:r,isError:i,isArray:a,isObject:o,isFunction:d,isString:s,logger:"undefined"!=typeof console&&o(console)&&e.debug?{trace:function(){m(console.trace,arguments)},debug:function(){m(console.debug,arguments)},log:function(){m(console.log,arguments)},info:function(){m(console.info,arguments)},warn:function(){m(console.warn,arguments)},error:function(){m(console.error,arguments)}}:{trace:n,debug:n,log:n,info:n,warn:n,error:n},extend:function(e){for(var t=1,n=arguments.length;t<n;t++){var r,o=arguments[t];for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},some:function(e,t){if(!this.isArray(e)||!this.isFunction(t))return!1;for(var n,r=e.length,o=0;o<r;o++)if(n=e[o],t.call(this,n))return!0;return!1},filter:function(e,t){var n=[];try{for(var r=0,o=e.length;r<o;r++)t.call(this,e[r],r,e)&&n.push(e[r]);return n}catch(e){}return e},forEach:function(e,t){if(this.isArray(e)&&this.isFunction(t))for(var n,r=e.length,o=0;o<r;o++)n=e[o],t.call(this,n,o,e)},trim:function(e){if(this.isString(e))return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},canReport:y,onListen:w,offListen:v,getMetas:h,timestamp:c,generateSeq:p,categoryToType:u,parseErrorStack:l,objToJsonString:f,objToQueryString:g,genContentHash:_,isU4HA:b,cutStr:E,dynamicConf:x,inAlipayMiniAppWebview:S}}},function(e,t){function p(e,t){var n;window.CustomEvent?n=new CustomEvent(e,{detail:t}):((n=r.createEvent("HTMLEvents")).initEvent(e,!1,!0),n.detail=t),window.dispatchEvent(n)}function f(e){return e&&"string"==typeof e?e.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):""}function n(e){var u=d[e];"function"==typeof u&&(d[e]=function(e,t,n){var r=location.href,t=u.call(d,e,t,n);if(!n||"string"!=typeof n)return t;if(n===r)return t;try{var o=r.split("#"),i=n.split("#"),a=f(o[0]),s=f(i[0]),c=o[1]&&o[1].replace(/^\/?(.*)/,"$1"),l=i[1]&&i[1].replace(/^\/?(.*)/,"$1");a!==s?p("historystatechange",s):c!==l&&p("historystatechange",l)}catch(e){}return t},d[e].toString=e+"() { [native code] }")}var d=window.history||{},r=window.document;e.exports=function(){n("pushState"),n("replateState")}},function(e,t,n){function r(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):(i["on"+t]=function(){return n.call(e,window.event)},e.attachEvent("on"+t,i["on"+t]))}function a(e,t,n,r,o,i){if(s)try{s.call(this,t,n,r,o,i)}catch(i){}var a;"script error"===(t||"").toLowerCase()&&(t="Script error"),c.ignoreScriptError&&"Script error"===t?e.logger.warn("é…ç½®äº†ignoreScriptErrorï¼Œæœ¬æ¬¡å¼‚å¸¸å°†ä¸ä¸ŠæŠ¥"):!u(c.jsErrFilter)||c.jsErrFilter.call(this,event)?null!=i&&((a=(i.stack||"").split("\n")).shift(),a={w_msg:t,w_file:n||"",w_line:r||"",w_col:o||"",stack:a.join("\n"),category:l.JSERR,sampleRate:c.jsErrSampleRate},e.report(a)):e.logger.warn("jserrFilter è¿”å›žfalseï¼Œæœ¬æ¬¡æ—¥å¿—å°†ä¸ä¸ŠæŠ¥, event: ",event)}var s,c,n=n(0),o=n.env,l=n.category,u=function(e){return"function"==typeof e},i={},p=function(e,t){var n=e.id?"#"+e.id:"",r="";e.className&&"string"==typeof e.className&&(r="."+e.className.split(" ").join("."));var o=e.tagName.toLowerCase();return e.parentNode&&e.parentNode.tagName&&t-1!=0?p(e.parentNode,t-1)+" > "+o.toLowerCase()+n+r:o+n+r},n=function(i,e){var t=window;t&&i.env===o.BROWSER?(i.logger.info("wpkglobalerrorPluginå·²å¼€å¯"),!1!==(c=i.toolKit.extend({jsErrSampleRate:1,resErrSampleRate:1},e)).jsErr?(s=t.onerror,t.onerror=function(e,t,n,r,o){a(i,e,t,n,r,o)},r(t,"unhandledrejection",function(e){var t=e.type;"string"==typeof e.reason?t=e.reason:e.reason&&"object"==typeof e.reason&&e.reason.message&&(t=e.reason.message),a(i,t,null,null,null,e.reason||e.type)})):i.logger.warn("jså¼‚å¸¸ç›‘æŽ§å·²å…³é—­"),c.resErr?r(t,"error",function(e){!function(e,t){var n;!t.target.tagName||t.message||t.filename||t.lineno||t.colno?e.logger.warn("éžèµ„æºèŽ·å–é—®é¢˜ï¼Œè·³å‡ºå¤„ç†, event: ",t):!u(c.resErrFilter)||c.resErrFilter.call(this,t)?(n=t.target.src||t.target.href,e.report({category:l.RESLOADFAIL,sampleRate:c.resErrSampleRate,msg:n+" åŠ è½½å¤±è´¥",w_res:n,w_type:function(e){var t=-1;switch(e.tagName.toLowerCase()){case"img":t=1;break;case"link":e.rel&&"stylesheet"===e.rel.toLowerCase()&&(t=2);break;case"script":t=3;break;case"video":t=11}return t}(t.target),w_xpath:p(t.target,5)})):e.logger.warn("reserrFilter è¿”å›žfalseï¼Œæœ¬æ¬¡æ—¥å¿—å°†ä¸ä¸ŠæŠ¥, event: ",t)}(i,e)},!0):i.logger.warn("èµ„æºåŠ è½½å¼‚å¸¸ç›‘æŽ§å·²å…³é—­")):i.logger.warn("å…¨å±€é”™è¯¯ç›‘æŽ§æ’ä»¶ä¸æ”¯æŒéžæµè§ˆå™¨çŽ¯å¢ƒ")};n.prototype.pluginId="gerror",e.exports=n},function(e,t,n){function v(e){return 200<=e&&e<=299}function y(e){return-1===e.indexOf("//arms-retcode")&&-1===e.indexOf("//retcode.taobao.com")&&-1===e.indexOf("//retcode-sg-lazada.arms.aliyuncs.com")&&-1===e.indexOf("//mdap.alipay.com/loggw")&&-1===e.indexOf("//wpk-gateway")&&-1===e.indexOf("//px.ucweb.com")&&-1===e.indexOf("//px.effirst.com")&&-1===e.indexOf("//px-intl.ucweb.com")}function m(e,t,n){e.toolKit.isObject(n)&&e.toolKit.extend(t,{c1:r(n,"c1"),c2:r(n,"c2"),c3:r(n,"c3"),c4:r(n,"c4"),c5:r(n,"c5"),bl1:r(n,"bl1"),bl2:r(n,"bl2"),bl3:r(n,"bl3"),bl4:r(n,"bl4"),bl5:r(n,"bl5")}),e.report(t)}var o=n(0),_=o.sdk,b=o.http.methods,x=o.category,r=function(e,t){if(e.hasOwnProperty(t))return e[t]};n=function(e,t){var f,d,r;e.env===o.env.BROWSER&&window&&((t=e.toolKit.extend({enable:!0,sampleRate:1},t)).enable?(e.logger.info("wpkinterfacePluginå·²å¼€å¯"),"XMLHttpRequest"in window&&function(h,w){var e=window.XMLHttpRequest.prototype,r=e.open;e.open=function(e,t){this.__reqCtx__={method:e,url:t||"",start:Date.now()};var n=[].slice.call(arguments);r.apply(this,n)};var o=e.setRequestHeader;e.setRequestHeader=function(e,t){var n=[].slice.call(arguments);o.apply(this,n),this.__reqCtx__&&(this.__reqCtx__.headers||(this.__reqCtx__.headers={}),this.__reqCtx__.headers[e]=t)};var i=e.send;e.send=function(d){var t,g=this;function n(){if(g.__reqCtx__&&4===g.readyState)try{var e=Date.now(),t=(g.responseURL||g.__reqCtx__.url).split("?"),n=t[0],r=t[1]||"",o="",i=g.__reqCtx__.headers||{};g.__reqCtx__.method.toUpperCase()!==b.GET&&d&&(o=JSON.stringify(d));var a=function(e,t){var n=null;try{var r,o,i,a=e.toolKit.trim(t||"").split(/[\r\n]+/);0<a.length&&(n={},e.toolKit.forEach(a,function(e){r=e.split(": "),o=r.shift(),i=r.join(": "),n[o]=i}))}catch(e){}return n}(h,g.getAllResponseHeaders()),s=String(g.response),c=!0,l={};"function"==typeof w.errorFilter&&(c=!!(l=w.errorFilter.call(this,{url:n,status:g.status,response:s,body:o,queryString:r,reqHeaders:i,resHeaders:a})),h.logger.warn("api errorFilteræ‰§è¡Œç»“æžœï¼š",l)),2048<s.length&&(s="[response content too large]");var u,p,f=e-g.__reqCtx__.start;c&&f<121e3&&y(n)&&(u=l.bizCode||g.status,p={category:x.API,sampleRate:w.sampleRate,w_res:n,w_param:r,w_body:v(u)||!w.withBody?"":o,w_method:g.__reqCtx__.method,w_rc:u,w_rt:f,w_resp:v(u)||!w.withResp?"":l.resp||s,msg:l.msg||"",w_type:16},m(h,p,l))}catch(e){h.reportError(e,{bid:_.BID,cid:_.CID,category:x.JSERR,sampleRate:1})}}"onreadystatechange"in g&&"function"==typeof g.onreadystatechange?(t=g.onreadystatechange,g.onreadystatechange=function(){var e=[].slice.call(arguments);n.apply(this,e),t.apply(this,e)}):g.onreadystatechange=n;var e=[].slice.call(arguments);return i.apply(this,e)}}(e,t),"fetch"in window&&(f=e,d=t,r=window.fetch,window.fetch=function(){var n=[].slice.call(arguments),u=b.GET;n[1]&&n[1].method&&(u=n[1].method.toUpperCase());var p=Date.now();return r.apply(this,n).then(function(r){try{var o=Date.now(),e=(r.url||n[0]).split("?"),i=e[0],a=e[1]||"",s="",c=null;n[1]&&(c=n[1].headers),u!==b.GET&&n[1]&&n[1].body&&(s=JSON.stringify(n[1].body));var t=r.clone(),l=function(e){try{if(!e)return{};var t,n={};for(t of e)n[t[0]]=t[1];return n}catch(e){return{}}}(t.headers);t.text().then(function(e){e=e||"";var t=!0,n={};"function"==typeof d.errorFilter&&(t=!!(n=d.errorFilter.call(this,{url:i,status:r.status,response:e,body:s,queryString:a,reqHeaders:c,resHeaders:l})),f.logger.warn("api errorFilteræ‰§è¡Œç»“æžœï¼š",n)),e=2048<e.length?"[response content too large]":e,t&&o-p<121e3&&y(i)&&(t=n.bizCode||r.status,e={category:x.API,sampleRate:d.sampleRate,w_res:i,w_param:a,w_body:v(t)||!d.withBody?"":s,w_method:u,w_rc:t,w_rt:o-p,w_resp:v(t)||!d.withResp?"":n.resp||e,msg:n.msg||"",w_type:16},m(f,e,n))})}catch(e){f.reportError(e,{bid:_.BID,cid:_.CID,category:x.JSERR,sampleRate:1})}return r}).catch(function(e){throw e})})):e.logger.info("wpkinterfacePluginå·²å…³é—­"))};n.prototype.pluginId="api",e.exports=n},function(e,t,n){function p(e,t){var n,r,o,i,a={};for(i in t)o=0,n=e[g[t[i][0]]],r=e[g[t[i][1]]],0<n&&0<r&&(o=parseFloat((r-n).toFixed(2))),a[i]=o;return a}var f,r=n(0).env,d=n(0).category,g=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","msFirstPaint"],h=["navigate","reload","back_forward"],n=function(c,e){var t=window;if(f=t.performance||t.webkitPerformance||t.msPerformance||t.mozPerformance,c.env===r.BROWSER&&f&&f.timing){var l=c.toolKit.extend({enable:!0,sampleRate:1},e=e||{});if(l.enable){c.logger.info("wpkperformancePluginå·²å¼€å¯");var u=f.timing||{},e=1;if("function"==typeof t.PerformanceNavigationTiming)try{var n=f.getEntriesByType("navigation")[0];n&&(u=n,e=2)}catch(c){}u._ver=e,n=window,e=function(){/loaded|complete/.test(document.readyState)&&setTimeout(function(){var e,t=c.toolKit.extend(p(u,{w_unload:[1,2],w_redirect:[3,4],w_appcache:[5,6],w_dns:[6,7],w_tcp:[8,10],w_ssl:[9,10],w_ttfb:[11,12],w_contentdownload:[12,13],w_domparsing:[13,15],w_res:[17,19]}),(s=p(a=u,{w_firstbyte:[5,12],w_tti:[5,15],w_domready:[5,17],w_load:[5,19],w_total:[5,20]}),a=function(e){var t,n,r=e[g[5]];if(1===e._ver){var o=window.chrome&&window.chrome.loadTimes?1e3*window.chrome.loadTimes().firstPaintTime:e.msFirstPaint||e[g[13]];if(!o)return-1;t=r<=o?parseFloat((o-r).toFixed(2)):-1}else 2===e._ver&&(t=e[g[13]]-r,t=parseFloat(t.toFixed(2)));if(f&&f.getEntriesByType)try{for(var i=f.getEntriesByType("paint"),a=0;a<i.length;a++){var s=i[a];"first-paint"===s.name?t=s.startTime.toFixed(2):"first-contentful-paint"===s.name&&(n=s.startTime.toFixed(2))}}catch(e){console.error(e)}return{fpt:t,fcp:n}}(a),s.wl_fpt=a.fpt,s.wl_fcp=a.fcp,s));for(e in t)if(t[e]<0||6e4<t[e])return void c.logger.warn("æ€§èƒ½æ•°æ®å¼‚å¸¸ï¼š",e,t[e]);var n,r,o,i,a,s,r=c.toolKit.extend(t,(n=u,o=f.navigation||{},s=a=i=-1,1===n._ver?r=h[o.type]||"other":2===n._ver&&(i=n.encodedBodySize,a=n.decodedBodySize,s=n.transferSize,r=n.type),{w_enbdsize:i,w_debdsize:a,w_transize:s,w_navtype:r}),l,{category:d.JSFSPERF});c.report(r)})},n.addEventListener?n.addEventListener("load",e,!1):n.attachEvent("onload",e)}else c.logger.info("wpkperformancePluginå·²å…³é—­")}else c.logger.warn("åŸºç¡€æ€§èƒ½æ’ä»¶ä»…æ”¯æŒæµè§ˆå™¨çŽ¯å¢ƒ")};n.prototype.pluginId="perf",e.exports=n},function(e,t,n){var a=n(0).env,n=function(t,e){if(e=e||{},-1!==[a.BROWSER,a.WEEX].indexOf(t.env)&&e.params&&"string"==typeof e.params){t.logger.info("wpkucparamPluginå·²å¼€å¯");for(var n=e.params,r=["pr","ve","os","fr","nw","ut"],o=0;o<5;o++){var i=r[o];-1===n.indexOf(i)&&(n+=i)}try{"undefined"!=typeof ucapi&&"function"==typeof ucapi.invoke&&ucapi.invoke("biz.ucparams",{params:n,success:function(e){t.uc_param=e||""},fail:function(e){t.logger.error("get uc_param_str error: ",e)}})}catch(e){t.logger.error("get uc_param_str error: ",e),t.uc_param_str=n}}};n.prototype.pluginId="ucparam",e.exports=n},function(e,t,n){var r=n(0),n="undefined"!=typeof weex?weex:{};e.exports={env:r.env.WEEX,root:n,isHttps:!1,send:function(e,t,n){n=this.toolKit.extend(function(){var e={wx_pf:WXEnvironment.platform,wx_ver:WXEnvironment.weexVersion,wx_app:WXEnvironment.appName,wx_app_ver:WXEnvironment.appVersion,wx_os:WXEnvironment.osName,wx_os_ver:WXEnvironment.osVersion,wx_dev_md:WXEnvironment.deviceModel,dsp_w:WXEnvironment.deviceWidth,dsp_h:WXEnvironment.deviceHeight};if(void 0!==weex.config.uc)try{var t=JSON.parse(weex.config.uc.ucParams);e.net=t.nw,e.wx_app=t.pr,e.wx_app_ver=t.ve}catch(e){}return"undefined"!=typeof weex&&weex.config&&weex.config.bundleType&&"Vue"!==weex.config.bundleType&&"vue"!==weex.config.bundleType?("undefined"!=typeof location?e.wx_bdl_url=location.href:e.wx_bdl_url="undefined"!=typeof weex&&weex.config?weex.config.bundleUrl:"unknow",e.wx_bdl_type="Rax"):(e.wx_bdl_url=weex.config.bundleUrl,e.wx_bdl_type="Vue"),e.wx_bdl_name=function(e){try{var t=e.substring(e.lastIndexOf("/")+1);return-1===t.lastIndexOf(".")?t:t.substring(0,t.lastIndexOf("."))}catch(e){return""}}(e.wx_bdl_url),e}(),n,{w_frmid:this._sid});n.fr=n.wx_os,n.rom=n.wx_os_ver,n.brand=n.wx_dev_md,n.model=n.wx_dev_md,n.browser=n.wx_app,n.bver=n.wx_app_ver,n.w_url=n.wx_bdl_name,n.w_send_mode="weexfetch";t=encodeURIComponent(t),n=encodeURIComponent(this.toolKit.objToJsonString(n));weex.requireModule("stream").fetch({url:e,method:"POST",headers:{"wpk-header":t},body:n},function(e,t){})},getWid:function(){return this.toolKit.uuid()},bindUnloadEvent:function(){}}},function(e,t,n){var r=n(1),o=n(14);e.exports=function(e){e=new r(e);return e.initialize(o),e}},function(n,e,r){!function(e){var t=r(0);n.exports={env:t.env.NODEJS,root:e,send:function(e,t,n){}}}.call(this,r(15))},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(1),o=n(17);e.exports=function(e){e=new r(e);return e.initialize(o),e}},function(e,t,n){function r(e,t,n,r,o){if(void 0===t){var i,a;if(!s[e]){i=new RegExp(e+"=([^;]+)");try{a=i.exec(h.cookie)}catch(e){return null}a&&(s[e]=a[1])}return s[e]}t=e+"="+t,r&&(t+="; domain="+r),o&&(t+="; path="+o),n&&(t+="; max-age="+n);try{return h.cookie=t,!!h.cookie}catch(e){return!1}}function o(e){clearTimeout(p),p=null,u(e)}function i(e){o(e)}var a=n(0),g="undefined"!=typeof window?window:"undefined"!=typeof self?self:{},h=g.document,w=g.navigator,c=g.location,l=void 0!==g.devicePixelRatio?g.devicePixelRatio:1,s={},v=null,u=function(e){var t=e._waitingQueue;if(e.checkHidden&&h&&h.hidden)return e.logger.warn("å½“å‰é¡µé¢ä¸å¯è§ï¼Œæ—¥å¿—æ•°æ®å°†ä¸¢å¼ƒ: ",t),void(e._waitingQueue=[]);null===v&&(r=(navigator?navigator.userAgent:"").toLowerCase(),v=-1<r.indexOf("windvane")&&/(iphone|ipad|ipod|ios)/i.test(r));var n=w&&w.sendBeacon&&g.Blob,r=e.supportBeaconBody&&!v;if(n&&r){var o,i=function(e){for(var t=[],n=[],r=e.length,o=0;o<r;o++)s=e[o].category,-1===n.indexOf(s)&&n.push(s);for(var i=n.length,a=0;a<i;a++){for(var s=n[a],c=[],l=0;l<r;l++){var u=e[l];u.category===s&&c.push(u)}t[a]=c}return t}(t),a=i.length;try{for(var s=0;s<a;s++){for(var c=(o=i[s])[0]._servAddr,l=o.length,u=0;u<l;u++)o[u].w_send_mode="sendbeacon",o[u]._servAddr=void 0,o[u]._hash=void 0,o[u]=e.toolKit.objToJsonString(o[u]);w.sendBeacon(c,encodeURIComponent(o.join("\n")))}e._waitingQueue=[]}catch(e){}}else{for(var p,f,d=0;d<t.length;d++){f=(p=t[d])._servAddr,p.w_send_mode=n?"sendbeacon":"imgsrc",p._servAddr=void 0,p._hash=void 0,p=encodeURIComponent(e.toolKit.objToJsonString(p));try{n?w.sendBeacon(f+"&data="+p):function(e){var t=window,n="wpkimgreporter_"+ +new Date+".r"+Math.floor(1e3*Math.random()),r=t[n]=new Image;r.onload=r.onerror=function(){t[n]=null},r.src=e}(f+"&data="+p)}catch(e){}}e._waitingQueue=[]}},p=null;e.exports={env:a.env.BROWSER,root:g,isHttps:c.protocol===a.http.protocols.HTTPS,send:function(e,t,n){var s=this;if(!s.ignoreU4HA&&s.toolKit.isU4HA(s.onlyCustom)&&n.category<100)s.logger.warn("åœ¨u4å†…æ ¸çŽ¯å¢ƒï¼Œå±è”½éžè‡ªå®šä¹‰çš„æ‰€æœ‰è‡ªåŠ¨æ‰“ç‚¹");else if(s.toolKit.inAlipayMiniAppWebview()&&!0===s.blockAlipayMiniAppWebview)s.logger.warn("current runtime is alipay miniapp webview, this request will be blocked.");else{var r=s.toolKit.extend(function(){if(!h)return{};var e=h.referrer;return e&&-1!==e.indexOf('"')&&(e=encodeURIComponent(h.referrer)),{w_url:c.origin+c.pathname,w_query:c.search,w_ref:c.hash.substring(1),w_title:h.title,ua:w.userAgent,referrer:e,dsp_dpi:l||1,dsp_w:g.screen.width,dsp_h:g.screen.height,net:(e=w.connection)&&e.type?e.type===a.navConn.types.NONE?"disconnected":e.type===a.navConn.types.CELLULAR?e.effectiveType===a.navConn.effectiveTypes.SLOW2G?"2g":e.effectiveType:e.type:""}}(s.spa),n,{w_frmid:s._sid});if(s.logger.warn("logData to send: ",e,r),e+="?wpk-header="+encodeURIComponent(t),s.uc_param_str&&(e+="&uc_param_str="+s.uc_param_str),!0===n._diagnose)return r=encodeURIComponent(s.toolKit.objToJsonString(r)),void window.open(e+"&data="+r);r._servAddr=e,r._hash=s.toolKit.genContentHash(r);var e=s.delay&&-1!==[1,2,4].indexOf(r.category);!function(e){var t=s._waitingQueue,n=t.length,r=e.reduplication||s.reduplication||!0,o=!0;if(1===e.category&&r&&0!==n){for(var i,a=0;a<n;a++)if((i=t[a])._hash===e._hash){i.w_cnt++,o=!1;break}o&&t.push(e)}else t.push(e);return o}(r)&&e?s.logger.warn("logDataè¢«åˆå¹¶: ",r):(r=function(){o(s)},p=-1==(e=e?3e3:-1)?(r(),null):setTimeout(r,e||0))}},getWid:function(){var e=r(a.sdk.WID_KEY);return e||(e=this.toolKit.uuid(),r(a.sdk.WID_KEY,e,15552e3)),e},bindUnloadEvent:function(t){window&&(window.addEventListener?window.addEventListener("beforeunload",function(e){i(t)},!1):window.attachEvent&&window.attachEvent("onbeforeunload",function(e){i(t)}))}}}],r={},o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=3);function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.wpkglobalerrorPlugin=t():e.wpkglobalerrorPlugin=t()}(this,function(){return n=[function(e,t){e.exports={sdk:{BID:"wpkreporter",CID:"jssdk",WID_KEY:"__wpkreporterwid_"},env:{BROWSER:"browser",NODEJS:"nodejs",WEEX:"weex"},px:{signKey:"Uvn#08uefVdwe&c4",addr:{cn:"http://px.effirst.com/api/v1/jssdk/upload",cn_https:"https://px.effirst.com/api/v1/jssdk/upload",intl:"http://px-intl.ucweb.com/api/v1/jssdk/upload",intl_https:"https://px-intl.ucweb.com/api/v1/jssdk/upload"},confAddr:{cn:"http://px.effirst.com/api/v1/jconfig",cn_https:"https://px.effirst.com/api/v1/jconfig",intl:"http://px-intl.ucweb.com/api/v1/jconfig",intl_https:"https://px-intl.ucweb.com/api/v1/jconfig"}},http:{methods:{GET:"GET",PUT:"PUT",POST:"POST",HEAD:"HEAD",DELETE:"DELETE",OPTIONS:"OPTIONS",CONNECT:"OPTIONS",TRACE:"OPTIONS",PATCH:"OPTIONS"},protocols:{HTTP:"http:",HTTPS:"https:"}},category:{JSERR:1,API:2,JSFSPERF:3,RESLOADFAIL:4,FLOW:5,BKPG:6,HARLOG:7,PERFNEXT:1e3},navConn:{types:{BLUETOOTH:"bluetooth",CELLULAR:"cellular",ETHERNET:"ethernet",MIXED:"mixed",NONE:"none",OTHER:"other",UNKNOWN:"unknown",WIFI:"wifi",WIMAX:"wimax"},effectiveTypes:{"2G":"2g","3G":"3g","4G":"4g",SLOW2G:"slow-2g"}}}},,,,function(e,t,n){function r(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):(i["on"+t]=function(){return n.call(e,window.event)},e.attachEvent("on"+t,i["on"+t]))}function a(e,t,n,r,o,i){if(s)try{s.call(this,t,n,r,o,i)}catch(i){}var a;"script error"===(t||"").toLowerCase()&&(t="Script error"),c.ignoreScriptError&&"Script error"===t?e.logger.warn("é…ç½®äº†ignoreScriptErrorï¼Œæœ¬æ¬¡å¼‚å¸¸å°†ä¸ä¸ŠæŠ¥"):!u(c.jsErrFilter)||c.jsErrFilter.call(this,event)?null!=i&&((a=(i.stack||"").split("\n")).shift(),a={w_msg:t,w_file:n||"",w_line:r||"",w_col:o||"",stack:a.join("\n"),category:l.JSERR,sampleRate:c.jsErrSampleRate},e.report(a)):e.logger.warn("jserrFilter è¿”å›žfalseï¼Œæœ¬æ¬¡æ—¥å¿—å°†ä¸ä¸ŠæŠ¥, event: ",event)}var s,c,n=n(0),o=n.env,l=n.category,u=function(e){return"function"==typeof e},i={},p=function(e,t){var n=e.id?"#"+e.id:"",r="";e.className&&"string"==typeof e.className&&(r="."+e.className.split(" ").join("."));var o=e.tagName.toLowerCase();return e.parentNode&&e.parentNode.tagName&&t-1!=0?p(e.parentNode,t-1)+" > "+o.toLowerCase()+n+r:o+n+r},n=function(i,e){var t=window;t&&i.env===o.BROWSER?(i.logger.info("wpkglobalerrorPluginå·²å¼€å¯"),!1!==(c=i.toolKit.extend({jsErrSampleRate:1,resErrSampleRate:1},e)).jsErr?(s=t.onerror,t.onerror=function(e,t,n,r,o){a(i,e,t,n,r,o)},r(t,"unhandledrejection",function(e){var t=e.type;"string"==typeof e.reason?t=e.reason:e.reason&&"object"==typeof e.reason&&e.reason.message&&(t=e.reason.message),a(i,t,null,null,null,e.reason||e.type)})):i.logger.warn("jså¼‚å¸¸ç›‘æŽ§å·²å…³é—­"),c.resErr?r(t,"error",function(e){!function(e,t){var n;!t.target.tagName||t.message||t.filename||t.lineno||t.colno?e.logger.warn("éžèµ„æºèŽ·å–é—®é¢˜ï¼Œè·³å‡ºå¤„ç†, event: ",t):!u(c.resErrFilter)||c.resErrFilter.call(this,t)?(n=t.target.src||t.target.href,e.report({category:l.RESLOADFAIL,sampleRate:c.resErrSampleRate,msg:n+" åŠ è½½å¤±è´¥",w_res:n,w_type:function(e){var t=-1;switch(e.tagName.toLowerCase()){case"img":t=1;break;case"link":e.rel&&"stylesheet"===e.rel.toLowerCase()&&(t=2);break;case"script":t=3;break;case"video":t=11}return t}(t.target),w_xpath:p(t.target,5)})):e.logger.warn("reserrFilter è¿”å›žfalseï¼Œæœ¬æ¬¡æ—¥å¿—å°†ä¸ä¸ŠæŠ¥, event: ",t)}(i,e)},!0):i.logger.warn("èµ„æºåŠ è½½å¼‚å¸¸ç›‘æŽ§å·²å…³é—­")):i.logger.warn("å…¨å±€é”™è¯¯ç›‘æŽ§æ’ä»¶ä¸æ”¯æŒéžæµè§ˆå™¨çŽ¯å¢ƒ")};n.prototype.pluginId="gerror",e.exports=n}],r={},o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4);function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r}),function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){var n,r,o,i;try{n=/1688/.test(navigator.userAgent.toLowerCase()),r=/iPhone|iPad|iPod/.test(navigator.userAgent),o=/[Aa]ndroid/.test(navigator.userAgent),i=new wpkReporter({bid:{ios1688:"306xs2im-jjpesvm4",andriod1688:"hy0yz78x-ud0yr38y",iosWeb:"uud6mims-963jb6f1",andriodWeb:"ijuoculy-t8rbrzav",pc:"p4sdzca7-l1sxw54m"}[n?r?"ios1688":o?"andriod1688":"pc":r?"iosWeb":o?"andriodWeb":"pc"],rel:"0.0.1",uid:"cbu_0.0.1",onlyCustomInUCCore:!0}),window._wpk||(i.installAll(),window._wpk=i)}catch(e){console.error(JSON.stringify(e))}}]);

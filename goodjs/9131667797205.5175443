(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[95],{bt5t:function(e,t,n){"use strict";n.r(t),n.d(t,"TopPicks",function(){return G});var g=n("ERkP"),O=n.n(g),i=n("j/s1"),p=n("WFZG"),o=n("UnfE"),u=n("2gxx"),a=n("/ESf"),s=n("ob7U"),y=n("zygG"),r=n("KD1n"),c=n("H5qd"),c=n.n(c),j=n("gCbH"),l=n("zjfJ"),f=n("cxan"),b=n("Xtno"),k=n("8W7Q"),d=n("HBXw"),x=n("y6um"),m=n("0UbL"),v=n("laiz"),I=O.a.createElement;function P(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach(function(e){Object(l.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function T(e){var t=e.recommendation.explanations,n=e.refMarker,i=e.watchlistProps,o=e.notInterestedListItem,r=(a=Object(p.useBreakpointsAsConfig)()).m,e=a.l,a=a.xl,e=!(r||e||a),a=Object(u.a)({id:"titleRecommendationPrompt_attributionHeading",defaultMessage:"Because of your interest in"});return I("div",null,I(N,null,I("div",{className:"heading"},a),I("div",{className:"content"},t.slice(0,2).map(function(e,t){e=e.title;return I(p.TextLink,{className:"link",key:t,href:"/title/".concat(e.id,"/?").concat(Object(k.b)("tt_bc",n)),text:Object(d.a)(e),inheritColor:!0})}))),I(p.List,null,e&&I(m.a,i),o))}function h(e){var t,i=e.isOpen,o=e.isNotInterested,r=e.notInterestedListItem,a=e.recommendation,n=e.refMarker,s=e.onClose,c=(t=Object(x.c)().context).pageType,l=t.subPageType,d=(e=a,_(_({},t=n),{},{suffix:"".concat(null!==(n=t.suffix)&&void 0!==n?n:"").concat(t.suffix&&"_").concat(e.refTag)})),l={pageType:c,subPageType:null!=l?l:"",refTag:Object(k.a)("wl_rbn",d)},p=Object(b.a)(a.title,d),m={iconName:"thumb-down-filled",className:"not-interested-overlay",contentClassName:"not-interested-overlay-content",text:Object(u.a)({id:"common_listItem_notInterested",defaultMessage:"Not interested"})};return I(v.WatchlistConsumer,{id:a.title.id,metricsContext:l,render:function(e){var t=o?[void 0,m]:[e,void 0],n=Object(y.a)(t,2),t=n[0],n=n[1];return I(C,Object(f.a)({posterOverlayProps:n,isOpen:i,onCloseClicked:s,watchlistRibbonProps:t},p),a&&I(T,{recommendation:a,refMarker:d,watchlistProps:e,notInterestedListItem:r}))}})}function w(e){var t=e.trEndpointContext,n=e.refMarker,i=e.onClick,o=e.isNotInterested,r=Object(u.a)({id:"common_listItem_notInterested",defaultMessage:"Not interested"}),a=o?["thumb-down-filled","interest-not-interested","reverse-not-interested"]:["thumb-down","interest-none","not-interested"],s=(d=Object(y.a)(a,3))[0],c=d[1],l=d[2],o=(e=Object(p.useBreakpointsAsConfig)()).m,a=e.l,d=e.xl,e=function(){i(),Object(M.g)(Object(k.a)("tt_not_int",n),t,l,M.a.ACTION_ONLY)};return L("div",{"data-testid":c},o||a||d?L("div",{"data-testid":"interest-item-medium"},L(S,{onClick:e,preIconName:s},r)):L("div",{"data-testid":"interest-item-small"},L(p.ListItem,{onClick:e,preIconName:s},r)))}var C=Object(i.default)(p.TitlePrompt).withConfig({displayName:"TitleRecommendationPrompt__StyledTitlePrompt",componentId:"sc-14n7ns6-0"})([".not-interested-overlay{justify-content:center;align-items:center;pointer-events:none;background:rgba(",",0.8);}.not-interested-overlay-content{display:flex;flex-direction:column;}"],Object(o.getColorVarValue)("ipt-baseAlt-rgb")),N=i.default.div.withConfig({displayName:"TitleRecommendationPrompt__AttributionContainer",componentId:"sc-14n7ns6-1"})(["border-bottom:1px solid rgba(",",0.1);margin:0;padding:"," 0 "," ",";","{padding:"," 0 "," 0;}.content{"," ","}.heading{padding-bottom:",";",";","}.link{text-decoration:none;display:flex;flex-direction:column;","}"],Object(o.getColorVarValue)("ipt-base-rgb"),o.spacing.xxs,o.spacing.l,o.spacing.m,o.mediaQueries.breakpoints.above.m,o.spacing.xxs,o.spacing.l,Object(o.setPropertyToColorVar)("color","ipt-on-baseAlt-textPrimary-color"),Object(o.setTypographyType)("bodySmall"),o.spacing.xs,Object(o.setPropertyToColorVar)("color","ipt-on-baseAlt-textSecondary-color"),Object(o.setTypographyType)("bodySmall"),Object(o.setPropertyToColorVar)("color","ipt-on-baseAlt-textPrimary-color")),M=n("bM0r"),L=O.a.createElement,S=Object(i.default)(p.ListItem).withConfig({displayName:"NotInterestedListItem__MediumListItem",componentId:"t9nk8i-0"})(["padding-left:0;"]),E=n("4CUO"),A=O.a.createElement;function V(){var e=Object(r.a)(["\n    mutation UpdateTitleInterest(\n        $titleId: ID!\n        $interestLevel: InterestLevel!\n    ) {\n        updateTitleInterest(\n            input: { titleId: $titleId, interestLevel: $interestLevel }\n        ) {\n            success\n        }\n    }\n"]);return e}function B(e){var n=e.refTagPrefix,t=e.items,e=e.className;return J(O.a.Fragment,null,J(p.Shoveler,{wraps:!1,className:e,onPageChange:function(e){Object(F.a)(e,n,$.PageType.HOME,$.SubPageType.MAIN)}},t.map(function(e,t){return J(z,{key:t,recommendation:e,refMarker:{prefix:n,suffix:"".concat(t+1,"_")+e.refTag},index:t,context:{type:$.PageType.HOME,subType:$.SubPageType.MAIN,id:e.title.id}})})))}var D=c()(V()),R=n("gulS"),H=n("DgVT"),U=O.a.createElement,z=function(e){var n,t,i,o,r,a,s,c,l=e.recommendation,d=e.refMarker,p=e.index,m=e.context,u=Object(R.b)(m,null==d?void 0:d.prefix),f=u.createButton,b=u.createPrompt,m=(n=l,t=p,i="".concat(d.prefix,"_ovflw"),o=m,e=Object(g.useState)(!1),u=e[0],r=e[1],m=Object(g.useState)(!1),a=m[0],s=m[1],e=Object(E.a)(D),(m=Object(y.a)(e,2))[0],c=m[1],e={name:"info",label:"info",onClick:function(){r(!0),Object(M.g)(i+"_".concat(t+1),o,"overflow-expand",M.a.POP_UP)}},m=A(w,{trEndpointContext:o,refMarker:{prefix:i,suffix:"".concat(t+1)},isNotInterested:a,onClick:function(){var e=n.title.id,t=a?j.d.Ambivalent:j.d.NotInterested;c({titleId:e,interestLevel:t}),s(!a)}}),{iconButtonProps:e,prompt:A(h,{isNotInterested:a,notInterestedListItem:m,isOpen:u,onClose:function(){return r(!1)},recommendation:n,refMarker:{prefix:i,suffix:"".concat(t+1)}})}),u=m.iconButtonProps,m=m.prompt;return U(O.a.Fragment,null,U(H.a,{className:"top-picks-title",key:l.title.id,data:l.title,refMarker:d,alternateButton:f(l.title,p),iconButtons:[u]}),b("".concat(d.prefix,"_wo")),m)},$=n("odm1"),F=n("u2/3"),J=O.a.createElement,W=O.a.createElement,G=function(e){var t=e.data,n=e.isSignedIn,i=Object(a.a)(null==t||null===(r=t.titleRecommendations)||void 0===r?void 0:r.edges),o=Object(u.a)({id:"nav_userMenu_link_signIn",defaultMessage:"Sign in"}),t=Object(u.a)({id:"top_picks",defaultMessage:"Top picks"}),r=Object(u.a)({id:"top_picks_description",defaultMessage:"TV shows and movies just for you"}),r=Object(s.b)({id:"top-picks",height:"title-cards",title:t,description:r,link:"/what-to-watch/top-picks/?ref_=hm_tpks_sm",shouldRender:function(){return 5<i.length}},e),e={refTagPrefix:"hm_tpks",items:i,className:"latest-picks"};return W(s.a,r,!n&&W(Q,{href:"/registration/signin?ref_=hm_tpks_signin",text:o,className:"top-picks-sign-in-link"}),W(B,e))},Q=Object(i.default)(p.TextLink).withConfig({displayName:"TopPicks__SignInLink",componentId:"d43r15-0"})(["margin-left:",";margin-bottom:",";margin-top:0px;font-size:",";display:block;"],Object(o.setPropertyToSpacingVar)("margin","ipt-pageMargin"),o.spacing.m,Object(o.setTypographyType)("bodySmall"));t.default=G}}]);

!function(){"use strict";var n="__lytics__jstag__",y=window,d=y.document;function c(e,t,n){var i=-1,a=e.length;for(2===arguments.length&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function g(i,a){return c(i,function(e,t,n){return a(t,n,i)&&e.push(t),e},[])}function h(i,a){return c(i,function(e,t,n){return e.push(a(t,n,i)),e},[])}var e=function(){var e=d.getElementsByTagName("script"),t=[].slice.call(e),e=d.getElementsByTagName("meta"),e=[].slice.call(e),e=g(h(t.concat(e),function(e){return e.getAttribute("data-lytics-global")}),Boolean);if(1<e.length)throw new Error("This page specified more than one data-lytics-global attribute. You should put the attribute on either a meta tag, or the script element itself, but not both");return 1===e.length?e[0]:"jstag"}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function m(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n,e)}function u(e){var t,n=[];for(t in e)n.push(t);return n}var f=Object.keys||function(t){return g(u(t),function(e){return{}.hasOwnProperty.call(t,e)})};function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(t,function(t,n){return void 0===n||m(f(n),function(e){t[e]=n[e]}),t})}var o=(t(r,[{key:"ns",value:function(e){return this.namespace=e,this}},{key:"expose",value:function(e){p(this.instance,e),m(f(e),function(e){Qt.util.method(e)})}},{key:"hold",value:function(e){p(this.constructor.prototype,e)}}]),r);function r(e){i(this,r),this.instance=e.instance}function b(e,t,n){var i=document.createElement("script");i.async=!0,i.src=e,i.onload=t,i.onerror=n;t=document.getElementsByTagName("script")[0],n=t&&t.parentNode||document.head||document.body,t=t||n.lastChild;return null!=t?n.insertBefore(i,t):n.appendChild(i),this}function l(e){return e(new o({instance:this}),this,this.config)}function v(){for(var e=void 0,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var a=0,o=n.length;a<o;a++)try{return n[a](e)}catch(t){e=t}}var s=y.top,w=y.parent;function k(e,t,n){return p((2<arguments.length&&void 0!==n?n:d).createElement(e),t)}var E=y.location;function _(e){return c(e,function(e,t){return e[t[0]]=t[1],e},{})}function x(e){return"string"==typeof e}function S(e){var n=k("a",{href:e}),t=_(h(g(u(n),function(e){var t=v(function(){return n[e]});return null!=t&&x(t)}),function(e){return[e,n[e]]}));return""!==t.protocol&&":"!==t.protocol||(t.protocol=E.protocol),null==t.origin&&(t.origin=(e=t).protocol+"//"+e.hostname+(null==e.port||"https:"===e.protocol&&"443"===e.port||"http:"===e.protocol&&"80"===e.port?"":":"+e.port)),t}var T=y.decodeURIComponent;function D(e){return"[object Array]"==={}.toString.call(e)}function C(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function I(e){var n={};return"string"!=typeof e||(e=C(e).replace(/^(\?|#|&)/,""))&&m(e.split("&"),function(e){var t=e.replace(/\+/g," ").split("="),e=t.shift(),t=0<t.length?t.join("="):void 0,e=T(e),t=void 0===t?null:T(t);void 0===n[e]?n[e]=t:D(n[e])?n[e].push(t):n[e]=[n[e],t]}),n}function P(){return"u_"+Math.floor(1e18*Math.random())}function A(e){if(Array.isArray(e))return e}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function N(e,t){return A(e)||function(e,t){var n=[],i=!0,a=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(i=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||O()}function j(e){e.ns("lifecycle"),e.expose({setUp:function(){e.emit("lifecycle.setup.requested"),e.emit("lifecycle.setup.done")},tearDown:function(){e.emit("lifecycle.teardown.requested"),e.emit("lifecycle.teardown.done")}})}var L=[],U=y.setTimeout;function z(e,t){for(var n=arguments.length,i=new Array(2<n?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];t=U(function(){e.apply(void 0,i)},t);return L.push(t),t}function F(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];z.apply(void 0,[e,0].concat(n))}function K(e){return function(){null!=e&&(e.apply(null,arguments),e=null)}}function q(e,t){return 0===e.indexOf(t)}function M(e,t){return V(e,"channel"),V(t,"namespace"),e===t||q(e,"".concat(t,"."))}function V(e,t){if(null==e)throw new Error("You must provide a ".concat(t," (`").concat(String(e),"` was passed instead)"))}function B(o,e){var r;function t(){r=[]}function n(e,t){if("function"!=typeof t)throw new TypeError("listener is not a function!");return K((t=t,n={topic:e,pattern:(e=e,new RegExp("^".concat(String(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&").replace(/\\[*]/g,"(.*?)"),"$"))),listener:t},r.push(n),function(){r=g(r,function(e){return e!==n})}));var n}o.ns("emitter"),t(),o.hold({emit:function(i){for(var e=arguments.length,a=new Array(1<e?e-1:0),t=1;t<e;t++)a[t-1]=arguments[t];var n=this.namespace;if(null==n||0===n.length)throw new Error("You must define an event namespace!");if(n&&!M(i,n))throw new Error("Event name must match event namespace! ".concat(i," ").concat(n));return 0<r.length&&m(r,function(e){var t=e.pattern,n=e.listener;t.test(i)&&v(function(){n.apply(void 0,[i].concat(a))},function(e){o.carp(e)})}),o}}),o.expose({on:n,once:function(e,a){var o=n(e,function(e){o();for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a.apply(void 0,[e].concat(n))});return o}}),e.once("lifecycle.teardown.done",function(){F(t)})}function G(e,t,n){e.ns("audit.carp"),e.defaults({audit:{carp:void 0}}),null!=n.audit.carp&&t.on("*.carp",n.audit.carp),e.hold({carp:function(e){this.emit("".concat(this.namespace,".carp"),e)}})}var R=y.encodeURIComponent;function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e){return(Q="function"==typeof Symbol&&"symbol"===W(Symbol.iterator)?function(e){return W(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":W(e)})(e)}function Y(e){return e&&"object"===Q(e)}function J(e){return"function"==typeof e}function $(e){if("object"===Q(e)&&null!==e&&""+e=="[object Object]"){if(null===Object.getPrototypeOf(e))return 1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}}function Z(i,e,t,n){var a=!(1<arguments.length&&void 0!==e)||e,o=2<arguments.length&&void 0!==t?t:"",r=3<arguments.length&&void 0!==n&&n,l=[];return Y(i)?D(i)?(l.push(o+"_len="+i.length,o+"_json="+R(JSON.stringify(i))),m(i,function(e){l.push(Z(e,a,o,r))})):a&&!$(i)||m(f(i),function(e){var t=R(e),n=i[e];J(n)||(""!==o&&(t=[o,t].join(".")),Y(n)?l.push(Z(n,a,r?e:t,r)):(x(n)&&0<n.length||null!=n)&&l.push(t+"="+R(n)))}):l.push(o+"="+i),l.filter(Boolean).join("&")}function H(e){return Z(e,1<arguments.length&&void 0!==arguments[1]&&arguments[1],2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",!1)}var X=Object.freeze||Object,ee=X({default:H,legacy:function(e){return Z(e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",!0)}});function te(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function ne(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t,n){return(ae="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ie(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e,t){return-1!==function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}(e,t)}var le=(t(se,[{key:"sign",value:function(e){return!re(this.register,e)&&(this.register.push(e),!0)}}]),se);function se(e){var t=this;i(this,se),this.register=[],m(e,function(e){t.sign(e)})}function ce(e){return function i(a,o,r){return c(f(a),function(e,t){var n=a[t],t=o.concat(t);return function(e){if(null==e||"object"!==Q(e)&&"function"!=typeof e)return!0;for(var t in e)if({}.hasOwnProperty.call(e,t))return!1;return!0}(n)?e.push(new fe(t)):n instanceof ue?e.push(new pe(t)):r.sign(n)&&e.push.apply(e,ne(i(n,t,r))),e},[])}(e,[],new le([e]))}function ue(e){i(this,ue),this.content=e}function de(e){return new ue(e)}var fe=(t(he,[{key:"parent",value:function(e){for(var t=this.path,n=e,i=0,a=t.length-1;i<a;i++)if(null==(n=n[t[i]]))return n;return n}},{key:"has",value:function(e){e=this.parent(e);return e&&this.leaf in e}},{key:"get",value:function(e){if(0===this.path.length)return e;e=this.parent(e);return null==e?e:e[this.leaf]}},{key:"set",value:function(e,t){e=this.parent(e);return null==e?e:e[this.leaf]=t}},{key:"copy",value:function(e,t){var n=this.shimParent(e,t);return null==n?n:this.set(e,this.get(t))}},{key:"shimParent",value:function(e,t){var n=this.path;if(1==n.length)return e;for(var i=0,a=n.length;i<a;i++){var o=new he(n.slice(0,i)),r=o.get(e),l=o.get(t);null==r&&(r=o.set(e,Array.isArray(l)?[]:{}))}return r}}]),he),pe=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(ge,fe),t(ge,[{key:"set",value:function(e,t){ae(ie(ge.prototype),"set",this).call(this,e,t.content)}}]),ge);function ge(){return i(this,ge),e=this,!(t=ie(ge).apply(this,arguments))||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var e,t}function he(e){i(this,he),this.path=e,this.leaf=e[e.length-1]}function me(n){return c(f(n),function(e,t){return e.push([t,n[t]]),e},[])}function be(e,t){return _(g(me(e),t))}var ve="3.0.17",ye="seerid",we="seerses";function ke(r,e,n){r.ns("config"),r.hold({defaults:function(e){var t=this;if(null==this.namespace)throw new Error("You need to claim a namespace before setting defaults!");var n,i,a,o,e=N((n=function(e){e=N(e,1)[0];return M(t.namespace,e)},h((i=me(e),a=n,c(i,function(e,t,n){return e[a(t,n,i)?0:1].push(t),e},[[],[]])),_)),2),n=e[0],e=e[1];for(o in s(n,l(n)),s(e,l(e)),e)r.carp("Setting config options out of namespace is not currently supported as well as we'd like! `".concat(o,"`"))}});var t=[];function l(t){return function(e){e.has(n)||e.copy(n,t)}}function s(e,t){m(ce(e),t)}r.hold({bogart:function(){t.push.apply(t,arguments)},ns:function(e){if(re(t,e))throw new Error("Cannot use contested namespace: `".concat(e,"`"));return this.bogart(e),this.namespace=e,this}});var i={url:"https://c.lytics.io",location:E.href,payloadQueue:[],id:void 0,cid:void 0,loadid:!1,serializer:H,delay:2e3,blocked:!1,path:"/c/",idpath:"/cid/",cookie:ye,sesname:we,stream:void 0,sessecs:1800,qsargs:[],ref:!0,tagid:"jstag-csdk",pagedata:{},byFieldKey:"_uid",version:ve};s(i,l(i)),m(f(i),function(e){r.bogart(e)}),null!=n.cid&&(n.cid=[].concat(n.cid))}function Ee(e,t){return e+(-1!==e.indexOf("?")?"&":"?")+t}function _e(o){o.ns("jsonp"),o.expose({jsonp:function(i,a){return o.emit("jsonp.requested",i),e=i,t=P(),n=k("script",{src:Ee(e,"callback="+t)}),y[t]=K(function(){y[t]=void 0,v(function(){d.body.removeChild(n)}),n=void 0,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.emit("jsonp.loaded",i,{args:t}),a.apply(void 0,t)}.apply(null,arguments)}),(d.body||d.head).appendChild(n),this;var e,t,n}})}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);(i="function"==typeof Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})):i).forEach(function(e){xe(t,e,n[e])})}return t}function Te(c,e,u){c.ns("iframeTransport"),c.defaults({iframeTransport:{timeout:3e4}}),c.expose({iframe:function(t,n){n=K(n);var i,a=d.head||d.body,o=S(t.url).origin,r=Date.now(),l=K(function(e){c.emit(e),c.emit("iframeTransport.done",Se({},t,{elapsed:Date.now()-r}))}),s=k("iframe",{src:t.url,onload:function(){this.onload=void 0,window.addEventListener("message",{handleEvent:function(e){e.origin===o&&(window.removeEventListener("message",this),clearTimeout(i),a.removeChild(s),l("iframeTransport.succeeded",Date.now()-r),n(e.data))}});var e=t.data&&v(function(){return JSON.stringify(t.data)},function(e){c.carp(e)});s.contentWindow.postMessage({payload:e},o)}});s.style.display="none",a.appendChild(s),i=z(function(){c.carp("Timeout! iframe transport request timed out"),a.removeChild(s),l("iframeTransport.failed"),n(null)},t.timeout||u.iframeTransport.timeout)}})}function De(e,t,n){e.ns("config.moarConfig");var i=n.moarConfig;null!=i&&m(ce(i),function(e){e.has(n)||e.copy(n,i)})}function Ce(e){e=new RegExp(e+"=([^;]+)").exec(decodeURIComponent(d.cookie));return e&&e[1]}function Ie(e,t){var n,i,n=(n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:7776e3,(i=new Date).setTime(i.getTime()+1e3*n),i),i=S("".concat(E)).hostname,n=e+"="+R(t)+"; path=/"+(i&&1<i.split(".").length?"; domain="+i:"")+"; expires="+n.toUTCString();d.cookie=n}function Pe(e){Ie(e,"",-1e3)}function Ae(i,e,t){i.ns("cookies"),i.expose({getCookie:function(e){var t=Ce(e);return i.emit("cookies.read",e),t},setCookie:function(e,t,n){Ie(e,t,n),i.emit("cookies.written",e)},deleteCookie:function(e){Pe(e),i.emit("cookies.deleted",e)},clearCookies:function(){Pe(t.cookie),Pe(t.sesname),i.emit("cookies.cleared")},getCookieValue:function(){return function(){return Ce(this.config.cookie)}.call(this)}}),e.once("lifecycle.teardown.requested",function(){e.clearCookies()})}function Oe(e,t,n){return""+e.url+e[2<arguments.length&&void 0!==n?n:"path"]+t}function Ne(e){e(P())}function je(s,c,u){s.ns("getid"),s.expose({getid:function(n){var i,t,a,o,r,e;function l(){var t,n,e;u.loadid?(n=i,e=Oe(e=(t=c).config,e.cid[0],"idpath")+"?assign=false",t.jsonp(e,function(e){return n.call(t,e)})):F(Ne,i)}c.once("getid",function(e,t){return n(t)}),d||(d=!0,i=K(function(e){d=!1,e=e||P(),c.setid(e),s.emit("getid",e)}),(t=c.getCookieValue())&&t.length?(r=!1,e=c.once("cookies.cleared",function(e,t){r=!0,o=t}),a=function(){return e(),{fired:r,captured:o}},F(function(){var e;a().fired?(e=c.getCookieValue())?i(e):l():i(t)})):l())},setid:function(e){var t=c.getCookieValue();t&&t.length&&(c.changeId=t),c.setCookie(u.cookie,e)}});var d=!1}function Le(e,t){return new fe(t).get(e)}var Ue=X({croaked:!0,toString:function(){return"CROAK"}});function ze(e,t,n){e.ns("audit.mustEnable"),e.expose({use:function(e){try{return l.call(this,e)}catch(e){if(e!==Ue)throw e}return this}}),e.hold({mustEnable:function(){if(null==this.namespace)throw new Error("You must claim a namespace before using .mustEnable()!");var e=Le(n,this.namespace.split("."));if(null==e||e.disabled)throw this.carp("Plugin disabled by configuration"),Ue}})}var Fe=(t(qe,[{key:"getAt",value:function(e){return Le(this.data,e)}},{key:"toLegacyStyle",value:function(){return this.data.user}}],[{key:"fromPayload",value:function(e){return new qe(e.data)}},{key:"fromLegacyPayload",value:function(e){return new qe({user:e.data})}}]),qe),Ke=X(["all"]);function qe(e){i(this,qe),this.data=e}function Me(t,e,n){t.ns("segments"),t.defaults({segments:{disabled:!1,storageKey:"lytics_segments",storage:de(localStorage),defaultSegments:de(Ke)}}),t.mustEnable();var i=void 0;t.pushIntegration({success:function(e){if(null==(i=e.getSegments()))return t.carp("Entity has no segments! Falling back to the default segments!"),void(i=n.segments.defaultSegments);e=v(function(){return JSON.stringify(i)});null!=e&&n.segments.storage.setItem(n.segments.storageKey,e)}}),t.expose({loadSegments:function(t){e.loadEntity(function(e){t(e.getSegments())})},getSegments:function(){return v(function(){if(null==i){var e=n.segments.storage.getItem(n.segments.storageKey);if(null==e)throw new Error("Segments not loaded! Failing over to default segments");i=JSON.parse(e)}return i},function(e){return t.carp(e),i=n.segments.defaultSegments})}}),e.once("lifecycle.teardown.requested",function(){t.emit("segments.storageCleared"),localStorage.removeItem(n.segments.storageKey)}),Fe.prototype.getSegments=function(){var e=this.data;return null==e||null==e.user?n.segments.defaultSegments:g(this.data.user.segments,function(e){return"not_found"!==e||(t.carp("`not_found` segment detected and filtered!"),0)})}}function Ve(){return(new Date).getTime()}var Be=y.navigator,Ge=Be.userAgent;function Re(e){return e.replace(/^https?:\/\//,"")}function We(e,t,n){var i;i=Be.userAgent||Be.vendor||y.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4))?(e._mob="t",a="unknown",/Android/i.test(Ge)?a="Android":/BlackBerry/i.test(Ge)?a="Blackberry":/iPhone|iPad|iPod/i.test(Ge)?a="IOS":/IEMobile/i.test(Ge)&&(a="WinMobile"),e._device=a):(e._nmob="t",e._device="desktop"),e.url=Re(E.href),v(function(){return y.self!==y.top},function(){return!0})&&(e._if="t"),"_uid"in e&&!e._uid&&delete e._uid;var a=n.getCookie("__utma");a&&10<a.length&&(e._ga=a.substring(0,a.indexOf(".",10))),"_uid"in e||(o=n.getCookie(t.cookie))&&o.length&&(e._uid=o);var o=n.getCookie("optimizelyEndUserId");o&&(e.optimizelyid=o),"_v"in e||(e._v=ve),n&&n.changeId&&(e._uido=n.changeId)}function Qe(u,a,d){var t;u.ns("entity"),u.defaults({entity:{format:"default",endpoint:void 0,table:"user",byFieldKey:d.byFieldKey,byFieldValue:void 0,preload:!1}}),u.hold({buildEntityUrl:s,getEntityConfig:function(){return(e=function(){if(null!=d.entity)return d.entity;var e=d.lio.global;if(null!=window[e]){e=window[e];return{byFieldKey:e.field,byFieldValue:e.value}}}()).byFieldValue||(e.byFieldValue=a.getCookieValue()),e;var e}});var o=!1;function r(e){e||(console.warn("no entity found! Failing over using the default entity!"),e={data:d.segments?{segments:d.segments.defaultSegments}:{}}),t=Fe[f()?"fromLegacyPayload":"fromPayload"](e),o=!1,u.emit("entity.loaded",t)}function l(e){r(v(function(){return{data:JSON.parse(e)}}))}function f(){return"legacy"===d.entity.format}function s(e,t){e=function(e){var t=e.toUpperCase();if(!re(["GET","POST"],e))throw new Error("The method ".concat(e," is not supported!"));return t}(e);var n,i,a,o,r=u.getEntityConfig(),l=r.byFieldKey,s=r.byFieldValue,i=(n=d,i=e,a=l,o=s,r=[],f()?(r.push(n.url),r.push("api/me"),"GET"!==i&&r.push("iframe"),r.push(n.cid[0]),r.push(a),r.push(o)):(r.push(n.url),r.push("api/personalize"),r.push(n.cid[0]),r.push(n.entity.table),r.push(a),r.push(o),"GET"!==i&&r.push("iframe")),r),c=!1,r=t&&v(function(){var e=encodeURIComponent(JSON.stringify(p(xe({},l,s),t)));return c=!0,e});return Ee(d.entity.endpoint||i.join("/").replace(/\/$/,""),g(["segments=true",null!=d.entity.fields&&"fields=".concat(d.entity.fields.join(",")),c&&"mergestate=true",c&&"GET"===e&&"state=".concat(r),"ts=".concat(Ve())],Boolean).join("&"))}u.expose({loadEntity:function(n,i){var e;1===arguments.length&&"function"==typeof n&&(i=(e=[n,i])[0],n=e[1]),null!=i&&a.once("entity.loaded",function(e,t){return i(t)}),o?u.carp("Entity is already in flight! Not sending another request!"):(o=!0,u.emit("entity.requested"),a.pull(function(e){a.unloadEntity(),null!=e&&(n=p({},n,e)),We(n=p({},n),d,a),a.getid(function(){var e,t=s("GET",n);t.length<2e3?a.jsonp(t,r):(e=n,t=l,a.iframe({url:s("POST",e),data:e},t))})}))},entityReady:function(n){null!=t?F(n,t):a.once("entity.loaded",function(e,t){return n(t)})},getEntity:function(){return null==t&&u.carp("entity not loaded!"),t},unloadEntity:function(){var e=null!=t;t=void 0,e&&u.emit("entity.unloaded")}}),d.entity.preload&&a.once("lifecycle.setup.done",function(){a.loadEntity()}),a.once("lifecycle.teardown.requested",function(){a.unloadEntity()})}function Ye(){}function Je(e,t){var n=K(t);if(0===e){t=n;return t.times=0,t}function i(){++i.times===e&&n()}return i.times=0,i}function $e(m,b,v){m.ns("poll"),m.defaults({poll:{retries:600,interval:100}}),m.hold({poll:function(e){m.emit("poll.started",e);var t=e.property,a=void 0===t?"addthis":t,n=e.receiver,i=void 0===n?y:n,t=e.predicate,o=void 0===t?Boolean:t,n=e.retries,r=void 0===n?v.poll.retries:n,t=e.interval,n=void 0===t?v.poll.interval:t,t=e.success,l=void 0===t?Ye:t,t=e.failure,s=void 0===t?Ye:t,c=Je(r,function(){p(s,"poll.failed",new Error("Maximum retries exceeded for property `".concat(String(a),"`: ").concat(r,"!")),c.times)});if(!d()){var u=setInterval(function(){(d()?f:c)()},n),n=K(h);return b.once("lifecycle.teardown.requested",n),n}function d(){return o(g(),a,i)}function f(){p(l,"poll.succeeded",g(),c.times)}function p(e,t,n,i){h(),F(function(){e(),m.emit(t,{tries:i,property:a,completion:n})})}function g(){return"symbol"===Q(a)?i[a]:Le(i,a.split("."))}function h(){clearInterval(u),m.emit("poll.stopped",e)}f()}})}var Ze=(t(et,[{key:"send",value:function(i,a){var o=this,r=k("iframe",{id:P()});r.style.display="none",d.body.appendChild(r),F(function(){var e=r.contentWindow.document,t=k("form",{action:i,method:"post"},e),n=k("input",{value:a.dataMsg,type:"hidden",name:"_js"},e);t.appendChild(n),e.body.appendChild(t),t.submit(),z(function(){v(function(){d.body.removeChild(r)}),J(a.callback)&&a.callback()},o.config.delay)})}}]),et),He=(t(Xe,[{key:"send",value:function(e,t){var n=new Image,i=K(t.callback);z(n.onload=i,this.config.delay),n.src=Ee(e,t.dataMsg)}}]),Xe);function Xe(e){i(this,Xe),this.name="Gif",this.config=e}function et(e){i(this,et),this.name="Form",this.config=e}function tt(a,o,r){a.ns("collect"),a.defaults({collect:{plainObjectsOnly:!0}}),a.hold({getTransport:function(e,t){return new(2e3<e.dataMsg.length+t.length?Ze:He)(r)}}),a.expose({collect:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];a.emit("collect.started",e);var i,i="string"==typeof(i=r.serializer)?ee[i]:i;if(null==i)return a.carp('"'.concat(r.serializer,'" is not a recognized serializer')),void a.emit("collect.failed");e.dataMsg=i(e.data,r.collect.plainObjectsOnly),e.sendurl||(e.sendurl=[]),e.sendurl.unshift(t),n?F(e.callback,e,o):(n=a.getTransport(e,t),e.channelName=n.name,n.send(t,p({},e,{callback:function(){J(e.callback)&&e.callback(e,o),a.emit("collect.finished",e)}})))}})}var nt,it=y.screen;function at(o,r,e){o.ns("pageAnalysis"),o.defaults({pageAnalysis:{disabled:!1}}),o.expose({pageAnalysis:function(){var t=r.config,e=r.getCookie(t.sesname),n=r.pageData,i=S(t.location);0<i.search.length&&(p(n,be(a=I(i.search),function(e){return q(N(e,1)[0],"utm_")})),t.qsargs&&0<t.qsargs.length&&p(n,be(a,function(e){e=N(e,1)[0];return re(t.qsargs,e)}))),e||(n._sesstart="1");var a,i=this.referrer;i&&0<i.length&&((a=/\/\/(.*)\//.exec(i))&&!re(a[1],E.host)&&(i=Re(i),n._ref=i,e||(n._sesref=i))),r.setCookie(t.sesname,"e",t.sessecs),n._tz=parseInt("".concat(-(new Date).getTimezoneOffset()/60),10),n._ul=Be.language||Be.userLanguage,it&&(n._sz=it.width+"x"+it.height),this.pageData=n,o.emit("pageAnalysis",n)}}),e.pageAnalysis.disabled||(r.once("lifecycle.setup.requested",function(){r.pageData={},r.pageAnalysis()}),o.pullIntegration({success:function(e){p(e,r.pageData)}}))}function ot(e){var t,n,i;return m(e,function(e){switch(Q(e)){case"string":t=e;break;case"function":i=e;break;case"object":n=$(e)||D(e)?p({},e):e;break;case"boolean":console.warn("Deprecation warning: boolean argument is passed to send. Ignoring.");break;default:throw new TypeError("unable to process jstag.send event: unknown value type ("+Q(e)+")")}}),{stream:t,data:n=null==n?{}:n,callback:i}}function rt(i,a,o){i.ns("send"),i.defaults({send:{pageViewOnFirst:!1}});var r=0;function l(e){e=ot(e);return e.data=p({_e:"pv"},a.pageData,e.data),e}i.expose({send:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];0==r++&&o.send.pageViewOnFirst?(e=l(n),a.sendMessage(e)):a.sendMessage(ot(n))},identify:function(){a.send.apply(a,arguments)},page:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=l(t);a.sendMessage(i)},pageView:function(){a.page.apply(a,arguments)},mock:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=ot(t);i.data=p({_e:"mk"},a.pageData,i.data),a.sendMessage(i,!0)},unblock:function(n){if(null!=n&&a.once(nt.UNBLOCKED,function(e,t){return n(t)}),!a.blocked)return a;a.blocked=a.config.blocked=!1;var e=a.config.payloadQueue.length,t=Je(e,function(){i.emit(nt.UNBLOCKED,e)});return m(a.config.payloadQueue,function(e){a.sendMessage(Se({},e,{callback:function(){null!=e.callback&&e.callback.apply(e,arguments),a.once("collect.finished",t)}}))}),a.config.payloadQueue.length=0,a},parseEvent:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ot(t)},sendMessage:function(n,e){var i=1<arguments.length&&void 0!==e&&e;if(!o.url||!o.cid)throw new TypeError("Must have collection url and ProjectIds (cid)");if(!a.blocked||i){if(i){if(null==n.callback)throw new TypeError("cannot call mock without a callback");var t=n.data;m(o.payloadQueue,function(e){p(t,e.data)})}n.stream||(n.stream=o.stream),m(this.config.cid,function(e){var t=Oe(o,e)+(n.stream?"/"+n.stream:"");-1===t.indexOf("_uidn=")&&o.cookie!==ye&&(t=Ee(t,"_uidn="+o.cookie)),n.data._ts=Ve(),We(n.data,o,a),a.getid(function(e){e&&!n.data._uid&&(n.data._uid=e,n.data._getid="t"),a.collect(n,t,i)})})}else o.payloadQueue.push(n)}}),i.pullIntegration({success:function(e){p.apply(void 0,[e].concat(ne(o.payloadQueue.map(function(e){return e.data}))))}}),i.pushIntegration({success:function(){a.unblock()}})}(nt=nt||{}).UNBLOCKED="send.unblocked";var lt="liosetup";function st(c,n,r){var e;c.ns("lio"),c.defaults({lio:{global:lt,polling:(xe(e={},"lio.push",r.poll),xe(e,"lio.pull",{retries:0}),e),performPullAndSend:!0}});var l={},u=(xe(e={},"lio.pull",[]),xe(e,"lio.push",[]),e),i={};function a(t,n){return 1<n.length?function(e){return n(t(),e)}:function(){return n(t())}}function o(e){c.emit("lio.flush",e);var t=u[e];0===t.length&&n();var r=Je(t.length,n);function l(t,n){v(function(){var e=t.options.success;0<e.length?e(function(){i(t),n()}):(e(),i(t),n())},function(e){c.carp(e),s(t)})}function i(e){c.emit("lio.succeeded",e)}function s(e){e.fail(),c.emit("lio.failed",e)}function n(){c.emit("lio.flushed",e),c.emit(function(e){switch(e){case"lio.pull":return"lio.pulled";case"lio.push":return"lio.pushed"}throw new Error("Invalid channel: ".concat(e))}(e))}m(t,function(e){var t,n,i,a,o;c.emit("lio.started",e),n=function(){c.emit("lio.finished",e),r()},null==(t=e).options.globalVariableName?l(t,n):(a=n,o=(i=t).options.globalVariableName,c.poll(p({},i.options.polling,{property:o,success:function(){l(i,a)},failure:function(){c.carp("Failed to detect `".concat(o,"`!")),s(i),a()}})))})}c.hold({integration:function(e,t){var n=t.integrationName,i=void 0===n?this.namespace:n,a=t.globalVariableName,o=t.success,n=void 0===o?Ye:o,o=t.failure,o=void 0===o?Ye:o,t=t.polling,t=void 0===t?r.lio.polling[e]:t;if(!x(e))throw new Error("Invalid event name ".concat(e,' (not typeof "string")'));o={channel:e,options:{integrationName:i,globalVariableName:a,success:n,failure:o,polling:t},succeed:n,fail:o};u[e].push(o),l[i]="lio.registered",c.emit("lio.registered",o)},pullGlobalVariable:function(t){c.pullIntegration(p({},t,{success:function(e){p(e,window[t.globalVariableName])}}))},pullIntegration:function(e){var t=e.success;c.integration("lio.pull",p({},e,{success:a(function(){return i},void 0===t?Ye:t)}))},pushIntegration:function(e){var t=e.success;c.integration("lio.push",p({},e,{success:a(function(){return n.getEntity()},void 0===t?Ye:t)}))}}),c.expose({getIntegrationsRegistry:function(){return l},isIntegrationLoaded:function(e){return"lio.success"===l[e]},pull:function(e){n.once("lio.pulled",function(){return e(i)}),c.emit("lio.pull",i),o("lio.pull")}}),n.on("entity.loaded",function(e,t){n.once("lio.pushed",function(){c.emit("lio.done")}),c.emit("lio.push",t),o("lio.push")}),n.on("entity.unloaded",function(){i={}}),r.lio.performPullAndSend&&n.on("lifecycle.setup.done",function(){n.pull(function(e){0<Object.keys(e).length&&n.send(e)})})}function ct(e,t,n){var o;e.ns("audit"),e.defaults({audit:{topic:"*",level:"silent",info:void 0}}),null!=n.audit.info&&t.on("*",n.audit.info),"verbose"===n.audit.level&&(o=n.audit.topic,t.on(o,function(){for(var e,t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(g(t,Boolean),function(e,t){return"".concat(e,"[").concat(t,"]")},"")}("event","*"!==o&&o),n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];(e=console).log.apply(e,[t].concat(i))}))}function ut(o){o.ns("pixel"),o.hold({pixel:function(e){var n=e.src,t=e.success,i=void 0===t?Ye:t,t=e.failure,e=void 0===t?Ye:t;function a(e,t){return null==e?e:function(){e.apply(this,arguments),o.emit("pixel.".concat(t),n)}}n?((t=new Image).src=n,t.onload=a(i,"succeeded"),t.onerror=a(e,"failed")):o.carp("`src` is required for `.pixel()` requests!")}})}function dt(e,a){e.expose({call:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a[e].apply(a,n)}})}var ft=(t(pt,[{key:"loadScript",value:function(e,t,n){return b(e,t,n)}},{key:"extend",value:function(){return p.apply(void 0,arguments)}},{key:"parseUri",value:S},{key:"parseQueryString",value:I},{key:"setUp",value:function(){}},{key:"tearDown",value:function(){}},{key:"use",value:function(e){return l.call(this,e)}}]),pt);function pt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,pt),this.plugins=[],this.config=e,this.referrer=v(function(){return s.document.referrer},function(){return w.document.referrer},function(){return d.referrer}),this.blocked=!0===this.config.blocked,this.changeId=null,this.instanceId=P(),this.use(dt),this.use(B),this.use(De),this.use(ke),this.use(ct),this.use(G),this.use(ze),this.use($e),this.use(j),this.use(je),this.use(st),this.use(rt),this.use(Ae),this.use(at),this.use(tt),this.use(_e),this.use(Te),this.use(ut)}function gt(e){e.ns("tealium.dataLayerPull"),e.defaults({tealium:{dataLayerPull:{disabled:!0}}}),e.mustEnable(),e.pullGlobalVariable({globalVariableName:"utag_data"})}function ht(e,i,t){e.ns("cookies.dataLayerPull"),e.defaults({cookies:{dataLayerPull:{customCookieKeys:[],disabled:!1}}}),e.mustEnable(),e.pullIntegration({success:function(n){m(t.cookies.dataLayerPull.customCookieKeys,function(e){var t=i.getCookie(e);null!=t&&(n[e]=t)})}})}function mt(e,t,n){var i,a;e.ns("customGlobals"),e.defaults({customGlobals:{globals:[],disabled:!0,payloadNamespace:"lyticsDataLayer"}}),e.mustEnable(),0!==n.customGlobals.globals.length?(n=(i=n.customGlobals).globals,a=i.payloadNamespace,m(n,function(t){e.pullIntegration({globalVariableName:t,success:function(e){e[a]||(e[a]={}),e[a][t]=Le(window,t.split("."))}})})):e.carp("The custom globals plugin is enabled, but no globals are configured!")}function bt(n,e,t){n.ns("adroll.audiencePush"),n.defaults({adroll:{audiencePush:{disabled:!0,global:"__adroll"}}}),n.mustEnable();var i,a=t.adroll.audiencePush.global;n.pushIntegration({globalVariableName:a,success:function(e){var t=e.getSegments();null!=t&&v(function(){i=window[a],m(t,function(e){i.record_user({adroll_segments:"lytics_".concat(e)})}),n.emit("adroll.audiencePush.done")},function(e){n.carp(e)})}})}function vt(t,e,n){t.ns("salesforce.dmp"),t.defaults({salesforce:{dmp:{disabled:!0,pixel:"https://beacon.krxd.net/1x1_usermatch.gif",partnerId:"lytics"}}}),t.mustEnable(),e.on("lio.push",function(){e.getid(function(e){t.pixel({src:Ee(n.salesforce.dmp.pixel,"partner=".concat(n.salesforce.dmp.partnerId,"&partner_uid=").concat(e)),success:function(){t.emit("salesforce.dmp.succeeded")},failure:function(){t.carp("Failed loading pixel!"),t.emit("salesforce.dmp.failed")}})})})}function yt(t,e,n){t.ns("lotame.dmp"),t.defaults({lotame:{dmp:{disabled:!0,baseUrl:"https://sync.crwdcntrl.net/map",clientId:"13197",clientIdSpace:"LYTC"}}}),t.mustEnable(),e.on("lio.push",function(){e.getid(function(e){t.pixel({src:"".concat(n.lotame.dmp.baseUrl,"/c=").concat(n.lotame.dmp.clientId,"/tp=").concat(n.lotame.dmp.clientIdSpace,"/tpid=").concat(e),success:function(){t.emit("lotame.dmp.succeeded")},failure:function(){t.carp("Failed loading pixel!"),t.emit("lotame.dmp.failed")}})})})}function wt(e,t){e.expose({backingInstance:function(){return t}})}function kt(e,t,n){e.pushIntegration({integrationName:"legacy-liosetup-callback",success:function(t){null!=window.liosetup&&null!=window.liosetup.callback&&m([].concat(window.liosetup.callback),function(e){e("legacy"===n.entity.format?t.toLegacyStyle():t)})}})}function Et(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n,e))return n;return-1}function _t(e,t){return-1!==Et(e,t)}ft.prototype.serializers=ee;var xt,St,Tt,Dt,Ct,It,Pt,At="config.google.analytics.properties";function Ot(s,c,u){var o,e,d;function f(e,t,n){o("".concat(e,".set"),t,n),s.emit("google.analytics.dimensionPush.set.requested",{property:e,dimension:t,value:n})}function p(e){o("".concat(e,".send"),{hitType:"event",eventCategory:u.google.analytics.dimensionPush.eventCategory,eventAction:u.google.analytics.dimensionPush.eventAction,nonInteraction:1}),s.emit("google.analytics.dimensionPush.send.requested",{property:e})}s.ns("google.analytics.dimensionPush"),s.defaults({google:{analytics:{global:"ga",properties:de([]),dimensionPush:{disabled:!0,eventCategory:"lytics",eventAction:"lytics_google_integration"},shouldSendUid:!0}}}),s.mustEnable(),0!==u.google.analytics.properties.length?(e=u.google.analytics.global,s.pushIntegration({globalVariableName:e,success:function(){function a(){s.emit("google.analytics.dimensionPush.done")}(o=window[e])(function(){var e=o.getAll();if(0===e.length)return s.carp("No Google Analytics properties!"),void a();var i,t,n,e=(e=h(e,function(e){return{id:e.get("trackingId"),name:e.get("name")}}),i={},g(e,function(e){var t,n=!("".concat(e.id)in i);return i[e.id]=!0,n||(t=e.id,e=e.name,s.carp("Not sending to Google Analytics tracker ".concat(e," because it has a duplicate web property ").concat(t))),n}));n=e,m(g(u.google.analytics.properties,function(t){return!_t(n,function(e){return e.trackingId===t.id})}),function(e){e=e.id,s.carp("Mismatch! Property in `".concat(At,"` for property with ID `").concat(e,"` not found in Google Analytics"))}),t=Je((e=e).length,a),m(e,function(l){return function(e){var i=l.name,t=l.id,n=function(e){return e[Et(e,function(e){return e.id===t})]}(u.google.analytics.properties);if(null==n)return s.carp("Mismatch! Property in Google Analytics for property with ID `".concat(t,"` not found in `").concat(At,"`")),r();if(0===n.dimensions.length)return s.carp("No dimensions for property with ID `".concat(t,"`!")),r();var a=!1,o=Je(n.dimensions.length,r);function r(){var t,n;u.google.analytics.shouldSendUid&&!a?(t=i,n=e,c.getid(function(e){f(t,"&uid",e),p(t),n()})):(p(i),e())}m(n.dimensions,function(e){var t,e=A(t=e)||te(t)||O(),t=e[0],n=e[1],e=e.slice(2);"&uid"===n&&(a=!0),t in d?d[t].apply(d,ne(e).concat([function(e){f(i,n,"".concat(e)),o()}])):s.carp("Don't know how to retrieve `".concat(t,"`!"))})}(t),0})})},failure:function(){s.carp("Google Analytics was not detected!"),s.emit("google.analytics.dimensionPush.failed")}}),d={user_id:function(e){c.getid(e)},user_field:function(t,n){c.entityReady(function(e){return n(e.getAt(t.split(".")))})}}):s.carp("No Google Analytics properties found. Nothing to do!")}function Nt(n,e,i){n.ns("google.dfp.audiencePush"),n.defaults({google:{dfp:{audiencePush:{disabled:!0,targeting:"LyticsSegments"},global:"googletag"}}}),n.mustEnable();var a=i.google.dfp.global;n.pushIntegration({globalVariableName:a,success:function(t){v(function(){var e=window[a];e.cmd.push(function(){e.pubads().setTargeting(i.google.dfp.audiencePush.targeting,t.getSegments())})},function(e){n.carp(e)})}})}function jt(n,i,a){n.ns("google.tagManager"),n.defaults({google:{tagManager:{global:"dataLayer",segmentsKey:"lytics_segments",dataLayerPull:{disabled:!0},audiencePush:{disabled:!0}}}});var e=a.google.tagManager,t=e.dataLayerPull.disabled,e=e.audiencePush.disabled;function o(t){var n=a.google.tagManager.global;return{globalVariableName:n,success:function(e){t(window[n],e)}}}t&&e?n.carp("Both push and pull integrations are disabled by configuration!"):(t?n.carp("The pull integration is disabled, and the push integration enabled by configuration"):n.pullIntegration(o(function(e){m(e,function(e){var t;!(2<f(t=e).length)&&"event"in t||i.sendMessage({stream:a.stream,data:e})}),n.emit("google.tagManager.dataLayerPulled")})),e?n.carp("The push integration is disabled, and the pull integration enabled by configuration"):n.pushIntegration(o(function(e,t){e.push(xe({},a.google.tagManager.segmentsKey,_(h(t.getSegments(),function(e){return[e,e]})))),n.emit("google.tagManager.audiencePushed")})))}function Lt(i,a,o){i.ns("addThis.audiencePush"),i.defaults({addThis:{audiencePush:{disabled:!0,cookie:"__attag",global:"addthis"}}}),i.mustEnable();var t,n=o.addThis.audiencePush.global;function r(){t.user&&t.user.tag?(v(function(){m(a.getSegments(),function(e){t.user.tag(l(e))})},function(e){i.carp(e)}),i.emit("addThis.audiencePush.pushed")):i.carp("The AddThis SDK must provide a `user.tag` method!")}function l(e){return"lio:".concat(e)}i.pushIntegration({globalVariableName:n,success:function(e){t=window[n],function(e){i.emit("addThis.audiencePush.detected");var t=o.addThis.audiencePush.cookie,n=a.getCookie(t);if(null!=n)return i.emit("addThis.audiencePush.cookieDetected",t),e=e,(n=g(n.split(","),function(e){return!q(e,"lio:")})).push.apply(n,ne(h(e.getSegments(),l))),function(e){a.setCookie(o.addThis.audiencePush.cookie,e,2592e3),i.emit("addThis.audiencePush.cookieUpdated"),r()}(n.join(","));i.emit("addThis.audiencePush.cookieNotDetected",t),r()}(e)}})}function Ut(n,e,i){n.ns("facebook.ads.audiencePush"),n.defaults({facebook:{ads:{audiencePush:{global:"_fbq",disabled:!0,eventName:"Lytics Audiences"}}}}),n.mustEnable();var a=i.facebook.ads.audiencePush.global;n.pushIntegration({globalVariableName:a,success:function(e){var t=y[a],e=e.getSegments();0!==e.length?(e=_(h(e,function(e){return[e,"true"]})),t.push(["track",i.facebook.ads.audiencePush.eventName,e]),n.emit("facebook.ads.audiencePush.done",e)):n.carp("No segments to send!")}})}function zt(i,e,a){function t(){return a.pathfora.install.css.disabled?(i.carp("custom css installation disabled"),void o()):null==a.pathfora.install.css.src?(i.carp("custom css installation has invalid src"),void o()):void function(e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,t.onload=function(){a.pathfora.install.css.loaded=!0,i.emit(xt.CSS_SUCCEEDED),o()},t.onerror=function(){i.carp("custom css installation failed"),o()};var n=document.getElementsByTagName("link")[0],e=n&&n.parentNode||document.head||document.body,n=n||e.lastChild;null!=n?e.insertBefore(t,n):e.appendChild(t)}(a.pathfora.install.css.src)}function n(){a.pathfora.install.sdk.loaded=!0,i.emit(xt.SDK_SUCCEEDED),t()}function o(){i.emit(xt.SUCCEEDED),i.emit(xt.DONE)}function r(){i.emit(xt.DONE)}i.ns("pathfora.install"),i.defaults({pathfora:{install:{global:"pathfora",disabled:!0,sdk:{disabled:!0,loaded:!1,lazy:!0,src:"//c.lytics.io/static/pathfora.min.js"},css:{disabled:!0,loaded:!1,src:void 0}}}}),i.mustEnable(),e.once("pathfora.*.sdkNotDetected",function(){return a.pathfora.install.sdk.disabled?(i.carp("sdk installation disabled"),void r()):null!=window.pathfora?(i.carp("already installed"),void n()):null==a.pathfora.install.sdk.src?(i.carp("sdk installation has invalid src"),void r()):void b(a.pathfora.install.sdk.src,function(){n()},function(){i.carp("sdk installation failed"),r()})}),!1===a.pathfora.install.sdk.lazy&&i.poll({property:a.pathfora.install.global,retries:0,failure:function(){i.emit(xt.SDK_NOT_DETECTED)}})}function Ft(n,e,i){function a(){var e=S(i.location),t={};return null!=(t=0<e.search.length?I(e.search):t)[i.pathfora.preview.variation.previewKey]?(i.pathfora.preview.variation.id=t[i.pathfora.preview.variation.previewKey],i.pathfora.preview.format="variation",!0):null!=t[i.pathfora.preview.experience.previewKey]?(i.pathfora.preview.experience.id=t[i.pathfora.preview.experience.previewKey],i.pathfora.preview.format="experience",!0):(n.carp("missing query params"),!1)}function t(){if(a()){if(n.emit("pathfora.preview.".concat(i.pathfora.preview.format,".requested")),null==i.pathfora.preview[i.pathfora.preview.format].id||""===i.pathfora.preview[i.pathfora.preview.format].id)return n.carp("".concat(i.pathfora.preview.format," id missing")),o(),0;b((e=i.pathfora.preview[i.pathfora.preview.format].src,t=i.pathfora.preview[i.pathfora.preview.format].id,e.replace("{id}",t)),function(){n.emit("pathfora.preview.".concat(i.pathfora.preview.format,".succeeded")),n.emit(St.DONE)},function(){n.carp("failed to load ".concat(i.pathfora.preview.format," config")),o()})}else o();var e,t}function o(){n.emit(St.DONE)}n.ns("pathfora.preview"),n.defaults({pathfora:{preview:{disabled:!0,format:void 0,global:"pathfora",polling:{retries:5},variation:{previewKey:"lytics_variation_preview_id",id:void 0,src:"".concat(i.url,"/api/program/campaign/variation/preview/").concat(i.cid[0],"/{id}/config.js")},experience:{previewKey:"lytics_preview_id",id:void 0,src:"".concat(i.url,"/api/experience/preview/").concat(i.cid[0],"/{id}/config.js")}}}}),n.hold({isPathforaPreview:a}),n.mustEnable(),n.pushIntegration({globalVariableName:i.pathfora.preview.global,polling:{property:i.pathfora.preview.global,retries:i.pathfora.preview.polling.retries},success:function(){t()},failure:function(){if(e.config.pathfora.install.disabled||e.config.pathfora.install.sdk.disabled)return n.carp("unable to install sdk as pathfora.install or pathfora.install.sdk is disabled"),void o();n.emit(St.SDK_NOT_DETECTED)}}),e.once("pathfora.install.done",function(){return null==window[i.pathfora.preview.global]?(n.carp("cannot preview when pathfora is not installed"),void o()):void t()})}function Kt(a,e,o){function t(e){if(null==window[o.pathfora.publish.global])return a.carp("cannot publish when pathfora is not installed"),void l();if(a.isPathforaPreview())return a.carp("unable to publish since request is for preview"),void l();if(null!=window[o.pathfora.publish.global].clearAll&&window[o.pathfora.publish.global].clearAll(),o.pathfora.publish.useLegacy){if(o.pathfora.publish.legacy.disabled)return a.carp("unable to publish since required method(legacy) is disabled"),void l();n=e,b(o.pathfora.publish.legacy.src,function(){var t,e;o.pathfora.publish.legacy.loaded=!0,t=n,(e=window[o.pathfora.publish.global].callbacks||[]).length&&(m(e,function(e){e(t.data.user)}),1)?a.emit(Dt.LEGACY_CALLBACKS_FLUSHED):a.carp("failed to flush pathfora callbacks no variations executed"),r()},function(){a.carp("failed to load legacy personalization config"),l()})}else t=e,b(o.pathfora.publish.src,function(){o.pathfora.publish.loaded=!0,function(e){var t=[];if(null==window._pfacfg)return a.carp("unable to configure experiences when no _pfacfg present"),l();var n,i=function(n){if(!s(n))return!1;var e=n.data.experiences||[];return e.length?(m(e,function(e){var t=window._pfacfg.candidates[e.experience_id];t&&re(n.data.user.segments,t.segment)?o.pathfora.publish.candidates.experiences.push(t.widget):a.carp("recommended experience(".concat(e.experience_id,") was not found in _pfacfg"))}),!0):void a.carp("unable to select experience candidates when no recommendations have been made")}(e),e=!!s(n=e)&&(m(u(window._pfacfg.variations),function(e){re(n.data.user.segments,window._pfacfg.variations[e].segment)&&o.pathfora.publish.candidates.variations.push(window._pfacfg.variations[e].widget)}),window._pfacfg.abTestConfigs.length&&(o.pathfora.publish.candidates.legacyABTests=window._pfacfg.abTestConfigs),!0);if(!i&&!e)return l();t=[].concat(ne(t),ne(o.pathfora.publish.candidates.experiences),ne(o.pathfora.publish.candidates.variations)),o.pathfora.publish.candidates.legacyABTests.length&&(window[o.pathfora.publish.global].initializeABTesting(o.pathfora.publish.candidates.legacyABTests),a.emit(Dt.AB_TESTS_INITIALIZED)),t.length&&(window[o.pathfora.publish.global].initializeWidgets(t,window._pfacfg.acctcfg,{priority:o.pathfora.publish.priority}),a.emit(Dt.WIDGETS_INITIALIZED)),r()}(t)},function(){a.carp("failed to load personalization config"),l()});var t,n}function r(){a.emit(Dt.SUCCEEDED),a.emit(Dt.DONE)}function l(){a.emit(Dt.DONE)}function s(e){return null!=e&&null!=e.data&&null!=e.data.user||(a.carp("entity must contain user attribute!"),0)}a.ns("pathfora.publish"),a.defaults({pathfora:{publish:{disabled:!0,global:"pathfora",src:"".concat(o.url,"/api/experience/candidate/").concat(o.cid[0],"/config.js"),loaded:!1,priority:"ordered",urlFragmentWhitelist:[],polling:{retries:5},recommendations:{experience:[]},candidates:{experiences:[],variations:[],legacyABTests:[]},legacy:{disabled:!0,src:"".concat(o.url,"/api/program/campaign/config/").concat(o.cid[0],"/config.js"),loaded:!1}}}}),a.mustEnable(),o.pathfora.publish.useLegacy=!o.pathfora.publish.urlFragmentWhitelist.length||!_t(me(o.pathfora.publish.urlFragmentWhitelist),function(e){e=N(e,2)[1];return-1!==o.location.indexOf(e)}),e.once("lifecycle.teardown.requested",function(){var e=o.pathfora.publish.candidates;e.experiences.length=0,e.variations.length=0,e.legacyABTests.length=0}),a.pushIntegration({globalVariableName:o.pathfora.publish.global,polling:{property:o.pathfora.publish.global,retries:o.pathfora.publish.polling.retries},success:function(e){t(e)},failure:function(){o.pathfora.install.disabled?(a.carp("unable to request pathfora install since pathfora.install is disabled"),l()):(e.once("pathfora.install.done",function(){e.entityReady(t)}),a.emit(Dt.SDK_NOT_DETECTED))}})}function qt(l,e,s){l.ns("amazon.dsp"),l.defaults({amazon:{dsp:{disabled:!0,euWhitelist:["UK","DE","FR","IT","ES","IN","AE"],pixelEu:"https://aax-eu.amazon-adsystem.com/s/dcm?pid=0fd612d9-169e-4abc-9509-01b23357b7a4",pixelRest:"https://s.amazon-adsystem.com/dcm?pid=8f9b0615-e931-45a3-99e7-549741c1960e",alpha2:void 0,language:navigator.language}}}),l.mustEnable(),e.on("lio.push",function(){e.getid(function(e){var t,n,i=s.amazon.dsp,a=i.pixelEu,o=i.pixelRest,r=Ee((t=s.amazon.dsp,n=t.euWhitelist,i=t.alpha2,t=t.language,re(n,i||t.substr(t.lastIndexOf("-")+1).toUpperCase())?a:o),"id=".concat(e));l.pixel({src:r,success:function(){l.emit(Ct.SUCCEEDED,r)},failure:function(){l.carp("Failed loading pixel!"),l.emit(Ct.FAILED,r)}})})})}function Mt(t,e,n){t.ns("taboola.dmp"),t.defaults({taboola:{dmp:{disabled:!0,baseUrl:"https://trc.taboola.com/sg",partnerId:"lytics",redirectUrl:"https://c.lytics.io/c/provider/taboola?taboola_id=<TUID>"}}}),t.mustEnable(),e.on("lio.push",function(){e.getid(function(e){e=R("".concat(n.taboola.dmp.redirectUrl,"&_uid=").concat(e,"&account_id=").concat(n.cid[0]));t.pixel({src:"".concat(n.taboola.dmp.baseUrl,"/").concat(n.taboola.dmp.partnerId,"/1/cm?redirect=").concat(e),success:function(){t.emit("taboola.dmp.succeeded")},failure:function(){t.carp("Failed loading pixel!"),t.emit("taboola.dmp.failed")}})})})}function Vt(t,e,n){if(t.ns("thetradedesk.dsp"),t.defaults({thetradedesk:{dsp:{disabled:!0,baseUrl:"//match.adsrvr.org/track/cmf/generic",partnerId:void 0}}}),t.mustEnable(),null==n.thetradedesk.dsp.partnerId)return t.carp('"partnerId" needs to be passed into config!'),void t.emit("thetradedesk.dsp.failed");e.on("lio.push",function(){e.getid(function(e){t.pixel({src:"".concat(n.thetradedesk.dsp.baseUrl,"/?ttd_pid=").concat(n.thetradedesk.dsp.partnerId,"&ttd_puid=").concat(e,"&ttd_puid=").concat(n.cid[0],"&ttd_tpi=1&gpdr=0"),success:function(){t.emit("thetradedesk.dsp.succeeded")},failure:function(){t.carp("Failed loading pixel!"),t.emit("thetradedesk.dsp.failed")}})})})}function Bt(n,i,a){n.ns("google.dv360"),n.defaults({google:{dv360:{disabled:!0,baseUrl:"https://cm.g.doubleclick.net/pixel",bidderAccountNid:"lytics",entityIdModifiedAtField:"user.dv360_id_ts",cookieTTL:7776e6,lyticsStream:"google_dv360"}}}),n.mustEnable(),null!=a.google.dv360.bidderAccountNid?i.getid(function(t){i.entityReady(function(e){e=e.getAt(a.google.dv360.entityIdModifiedAtField.split("."));+new Date(e)>Date.now()-a.google.dv360.cookieTTL?n.emit("google.dv360.skipped"):n.pixel({src:"".concat(a.google.dv360.baseUrl,"?google_cm&google_nid=").concat(a.google.dv360.bidderAccountNid,"&google_hm=").concat(btoa(t)),success:function(){i.send(a.google.dv360.lyticsStream),n.emit("google.dv360.succeeded")},failure:function(){n.carp("Failed loading pixel!"),n.emit("google.dv360.failed")}})})}):n.carp("Missing required config option: google.dv360.bidderAccountNid!")}function Gt(e){y[n][e]=function(){if(null==Pt)throw new Error("You must first call .init()");return Pt[e].apply(Pt,arguments)}}function Rt(e,t){y[n][e]=t}function Wt(){Pt&&Pt.tearDown(),m(L,clearTimeout),L.length=0}(X=xt=xt||{}).SUCCEEDED="pathfora.install.succeeded",X.SDK_NOT_DETECTED="pathfora.install.sdkNotDetected",X.SDK_SUCCEEDED="pathfora.install.sdk.succeeded",X.CSS_SUCCEEDED="pathfora.install.css.succeeded",X.DONE="pathfora.install.done",(St=St||{}).DONE="pathfora.preview.done",St.SDK_NOT_DETECTED="pathfora.preview.sdkNotDetected",(X=Dt=Dt||{}).SUCCEEDED="pathfora.publish.succeeded",X.DONE="pathfora.publish.done",X.SDK_NOT_DETECTED="pathfora.publish.sdkNotDetected",X.LEGACY_CALLBACKS_FLUSHED="pathfora.publish.legacy.pathforaCallbackFlushed",X.AB_TESTS_INITIALIZED="pathfora.publish.current.abtestsInitialized",X.WIDGETS_INITIALIZED="pathfora.publish.current.widgetsInitialized",(Ct=Ct||{}).SUCCEEDED="amazon.dsp.succeeded",Ct.FAILED="amazon.dsp.failed",y[n]||(y[n]=y[e]||{}),Rt("JSTag",ft),Rt("init",(Gt("loadScript"),Gt("use"),Rt("extend",p),Rt("ckieGet",Ce),Rt("ckieSet",Ie),Rt("ckieDel",Pe),Rt("isLoaded",!1),Rt("util",{forEach:m,reduce:c,map:h,filter:g,contains:re,pairs:me,object:_,filterObject:be,trim:C,extend:p,once:K,parseUri:S,parseQueryString:I,method:Gt,shallow:de}),function(e){e=0<arguments.length&&void 0!==e?e:y[n].config;return Wt(),(Pt=new ft(e)).use(Qe),Pt.use(gt),Pt.use(ht),Pt.use(mt),Pt.use(Me),Pt.use(bt),Pt.use(kt),Pt.use(Lt),Pt.use(Ut),Pt.use(Nt),Pt.use(jt),Pt.use(Ot),Pt.use(Bt),Pt.use(zt),Pt.use(Ft),Pt.use(Kt),Pt.use(vt),Pt.use(yt),Pt.use(qt),Pt.use(Mt),Pt.use(Vt),Pt.use(wt),Rt("isLoaded",!0),Rt("config",Pt.config),Rt("serializers",Pt.serializers),Rt("version",ve),Pt.setUp(),Wt})),y[e]=y[n];var Qt=y[n]}(),window.jstag.config.moarConfig={cid:["2fd96d46f6e152bf739a8ef56693388d"],addThis:{audiencePush:{disabled:!1}},adroll:{audiencePush:{disabled:!1}},amazon:{dsp:{disabled:!0}},audit:{},cookies:{dataLayerPull:{customCookieKeys:["ajs_anonymous_id","anon_fpid"],disabled:!1}},entity:{preload:!0},facebook:{ads:{audiencePush:{disabled:!1}}},customGlobals:{},google:{analytics:{dimensionPush:{disabled:!0}},dfp:{audiencePush:{disabled:!0}},tagManager:{dataLayerPull:{disabled:!0},audiencePush:{disabled:!0}},dv360:{disabled:!0}},iframeTransport:{},lio:{polling:{"lio.push":{},"lio.pull":{}}},lotame:{dmp:{disabled:!0}},pageAnalysis:{},pathfora:{install:{disabled:!1,sdk:{disabled:!1},css:{disabled:!1,src:"https://static.foxnews.com/static/fncdp/css/fncdp.css"}},preview:{disabled:!1,polling:{},variation:{src:"https://api.lytics.io/api/program/campaign/variation/preview/2fd96d46f6e152bf739a8ef56693388d/{id}/config.js"},experience:{src:"https://api.lytics.io/api/experience/preview/2fd96d46f6e152bf739a8ef56693388d/{id}/config.js"}},publish:{disabled:!1,legacy:{disabled:!1,src:"https://c.lytics.io/api/program/campaign/config/2fd96d46f6e152bf739a8ef56693388d/config.js"},urlFragmentWhitelist:["https://www.foxnews.com/","www.foxnews.com","foxnews.com"],src:"https://c.lytics.io/api/experience/candidate/2fd96d46f6e152bf739a8ef56693388d/config.js",polling:{}}},poll:{},qubit:{dataLayerPull:{disabled:!1}},salesforce:{dmp:{disabled:!0}},segments:{},send:{pageViewOnFirst:!0},taboola:{dmp:{disabled:!0}},tealium:{dataLayerPull:{disabled:!0}},thetradedesk:{dsp:{disabled:!0}}};

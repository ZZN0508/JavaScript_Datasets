(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{605:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t){e.exports=n(595)},function(e,t){e.exports=n(3)},function(e,t){e.exports=n(1)},function(e,t){e.exports=n(468)},function(e,t){e.exports=n(596)},function(e,t){e.exports=n(467)},function(e,t){e.exports=n(597)},function(e,t){e.exports=n(598)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h})),n(9),n(10),n(11),n(12);var r=n(3),o=n.n(r),a=n(4),c=n.n(a),u=n(5),i=n.n(u),s=n(6),l=n.n(s),f=n(7),p=n.n(f),d=n(0),b=n.n(d),m=n(1),v=n.n(m),_=n(2),y=n.n(_);function h(e){var t,n;return n=t=function(t){l()(u,t);var n,r,a=(n=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b()(n);if(r){var o=b()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return p()(this,e)});function u(){var e;o()(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=a.call.apply(a,[this].concat(n)),v()(i()(e),"state",{isMounted:!1}),e}return c()(u,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"render",value:function(){return this.state.isMounted?y.a.createElement(e,this.props):null}}]),u}(y.a.Component),v()(t,"displayName","withClientsideOnly(".concat(e.displayName,")")),n}},function(e,t){e.exports=n(117)},function(e,t){e.exports=n(130)},function(e,t){e.exports=n(599)},function(e,t){e.exports=n(213)}])},614:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t){e.exports=n(1)},function(e,t){e.exports=n(204)},function(e,t){e.exports=n(206)},function(e,t){e.exports=n(92)},function(e,t){e.exports=n(130)},function(e,t){e.exports=n(212)},function(e,t){e.exports=n(16)},function(e,t){e.exports=n(181)},function(e,t){e.exports=n(470)},function(e,t){e.exports=n(211)},function(e,t){e.exports=n(241)},function(e,t){e.exports=n(288)},function(e,t){e.exports=n(285)},function(e,t){e.exports=n(613)},function(e,t){e.exports=n(1007)},function(e,t,n){"use strict";n.r(t),n(9),n(4),n(5),n(10),n(11);var r=n(6),o=n.n(r),a=n(3),c=n.n(a),u=n(0),i=n.n(u),s=(n(12),function(e){var t=window.document.querySelector('script[src="'.concat(e,'"]'));t||((t=window.document.createElement("script")).src=e,window.document.head.appendChild(t))}),l=n(1),f=n.n(l),p=(n(7),n(2)),d=n.n(p),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"post",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch("https://id.rambler.ru/jsonrpc",{credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({method:e,params:[t],rpc:"2.0"}),method:"POST",mode:"cors"})},m=function(){var e=d()(f.a.mark((function e(t){var n,r,o,a,c,u,i,s,l=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:1,e.prev=1,e.next=4,b("Rambler::Id::get_profile_info",{get_chain_id:t?1:0,get_accounts_by_provider:"uniq.lp.love.passport.rambler.ru"});case 4:return r=e.sent,e.next=7,r.json();case 7:if(o=e.sent,a=o.result,u=(c=a||{}).status,i=c.requiredAction,s=c.profile,"ERROR"!==u||"NeedSession"===i){e.next=12;break}throw new Error;case 12:return e.abrupt("return",s||null);case 15:if(e.prev=15,e.t0=e.catch(1),3!==n){e.next=20;break}return console.error("@rambler-components/use-auth: Превышено количество запросов ID"),e.abrupt("return",null);case 20:return e.next=22,new Promise((function(e){return setTimeout(e,1e3)}));case 22:return e.abrupt("return",m(t,n+1));case 23:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),v=m,_=(n(13),n(14),n(8)),y=n.n(_),h=function(e){return e&&e.__type&&"general"===e.__type},g=function(){var e=d()(f.a.mark((function e(t){var n,r,o,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,r=t.info.provider_accounts.default.account_id,e.next=5,fetch("https://dating.rambler.ru/api/a-rambinfo?data=[%22".concat(r,"%22]"));case 5:return o=e.sent,e.next=8,o.json();case 8:a=e.sent,c=Number(a.newmess),Number.isNaN(c)||(n=function(e){var t=e.className;return i.a.createElement("span",{className:t},c>99?"99+":c)}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(1);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=d()(f.a.mark((function e(t){var n,r,o,a,c,u,i,s,l,p,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.user,r=t.withMailCounter,o=t.withDatingCounter,a=t.withLoyaltyCounter,c={},(u=h(n))&&r&&(c.mail=y.a),i=!1,!a){e.next=13;break}return e.next=8,new Promise((function(e){window.RamblerLoyalty=window.RamblerLoyalty||[],window.RamblerLoyalty.push((function(){window.RamblerLoyalty.getWidgetInfo().then((function(t){var n=t.isParticipant,r=t.show;return e({isParticipant:n,show:r})})).catch((function(t){console.error("@rambler-components/use-auth: Не удалось получить данные из Программы Лояльности",t),e(void 0)}))}))}));case 8:s=e.sent,l=s.isParticipant,p=s.show,(i=p)&&(c.loyalty={isParticipant:l,show:p});case 13:if(i||!u||!o){e.next=18;break}return e.next=16,g(n);case 16:(d=e.sent)&&(c.dating=d);case 18:return e.abrupt("return",c);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onUserStateChange,n=e.onSubscriptionPrime,r=e.withMailCounter,a=e.withDatingCounter,i=e.withLoyaltyCounter,l=e.withUserChainId,f=Object(u.useState)(!1),p=c()(f,2),d=p[0],b=p[1],m=Object(u.useState)(null),_=c()(m,2),y=_[0],h=_[1],g=Object(u.useState)(null),j=c()(g,2),x=j[0],O=j[1],E=Object(u.useCallback)((function(){v(l).then((function(e){var t=[Promise.resolve(e)];return o()(e)?t.push(Promise.resolve(null)):t.push(w({user:e,withMailCounter:r,withDatingCounter:a,withLoyaltyCounter:i})),Promise.all(t)})).then((function(e){var t=c()(e,2),n=t[0],r=t[1];o()(n)||(h(n),O(r)),b(!0)}))}),[r,a,i,l]),k=Object(u.useCallback)((function(e){"function"==typeof n&&("logout"===e?n(!1):(window.primeHelper=window.primeHelper||[],window.primeHelper.push((function(){window.primeHelper.getSubscription({referrer:window.location.origin},(function(e,t){return n(Boolean(!e&&t))}))}))))}),[n]),S=Object(u.useCallback)((function(e){e&&e.redirectToMain?window.location.href="https://www.rambler.ru":("function"==typeof t&&t("logout"),k("logout"),h(null),O(null))}),[t,k]),C=Object(u.useCallback)((function(){"function"==typeof t&&t("login"),k(),E()}),[t,k,E]);return Object(u.useEffect)((function(){s("https://id.rambler.ru/rambler-id-helper/auth_events.js"),"function"==typeof n&&(s("https://prime.rambler.ru/helper/sdk.js"),k()),i&&s("https://loyalty.rambler-co.ru/profile/sdk.js")}),[n,i,k]),Object(u.useEffect)((function(){return window.ramblerIdHelper=window.ramblerIdHelper||[],window.ramblerIdHelper.push((function(){window.ramblerIdHelper.addListener("login",C),window.ramblerIdHelper.addListener("oauthlogin",C),window.ramblerIdHelper.addListener("logout",S)})),E(),function(){window.ramblerIdHelper.push((function(){window.ramblerIdHelper.removeListener("login",C),window.ramblerIdHelper.removeListener("oauthlogin",C),window.ramblerIdHelper.removeListener("logout",S)}))}}),[]),{userFetched:d,userProfile:y,counters:x}}}])},966:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=55)}([function(e,t){e.exports=n(1)},function(e,t){e.exports=n(5)},function(e,t){e.exports=n(92)},function(e,t,n){var r=n(16),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},function(e,t){e.exports=n(117)},function(e,t,n){var r=n(28),o=n(34);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t){e.exports=n(183)},function(e,t,n){var r=n(15),o=n(30),a=n(31),c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?o(e):a(e)}},function(e,t){e.exports=n(284)},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(23),o=n(26),a=n(39),c=n(41),u=n(42),i=n(43),s=n(13),l=n(45),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(u(e)&&(c(e)||"string"==typeof e||"function"==typeof e.splice||i(e)||l(e)||a(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(s(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},function(e,t){e.exports=n(244)},function(e,t){e.exports=n(205)},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(7),o=n(17);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(3).Symbol;e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(29))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=n(7)},function(e,t){e.exports=n(243)},function(e,t,n){var r=n(13),o=n(24),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(25)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(27),o=n(35),a=n(36),c=n(37),u=n(38),i=n(7),s=n(18),l=s(r),f=s(o),p=s(a),d=s(c),b=s(u),m=i;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||a&&"[object Promise]"!=m(a.resolve())||c&&"[object Set]"!=m(new c)||u&&"[object WeakMap]"!=m(new u))&&(m=function(e){var t=i(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case b:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(5)(n(3),"DataView");e.exports=r},function(e,t,n){var r=n(14),o=n(32),a=n(17),c=n(18),u=/^\[object .+?Constructor\]$/,i=Function.prototype,s=Object.prototype,l=i.toString,f=s.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?p:u).test(c(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(15),o=Object.prototype,a=o.hasOwnProperty,c=o.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=c.call(e);return r&&(t?e[u]=n:delete e[u]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,o=n(33),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(3)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(5)(n(3),"Map");e.exports=r},function(e,t,n){var r=n(5)(n(3),"Promise");e.exports=r},function(e,t,n){var r=n(5)(n(3),"Set");e.exports=r},function(e,t,n){var r=n(5)(n(3),"WeakMap");e.exports=r},function(e,t,n){var r=n(40),o=n(9),a=Object.prototype,c=a.hasOwnProperty,u=a.propertyIsEnumerable,i=r(function(){return arguments}())?r:function(e){return o(e)&&c.call(e,"callee")&&!u.call(e,"callee")};e.exports=i},function(e,t,n){var r=n(7),o=n(9);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(14),o=n(19);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){(function(e){var r=n(3),o=n(44),a=t&&!t.nodeType&&t,c=a&&"object"==typeof e&&e&&!e.nodeType&&e,u=c&&c.exports===a?r.Buffer:void 0,i=(u?u.isBuffer:void 0)||o;e.exports=i}).call(this,n(20)(e))},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(46),o=n(47),a=n(48),c=a&&a.isTypedArray,u=c?o(c):r;e.exports=u},function(e,t,n){var r=n(7),o=n(19),a=n(9),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!c[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(16),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===o&&r.process,u=function(){try{return a&&a.require&&a.require("util").types||c&&c.binding&&c.binding("util")}catch(e){}}();e.exports=u}).call(this,n(20)(e))},function(e,t){e.exports=n(235)},function(e,t){e.exports=n(152)},function(e,t){e.exports=n(130)},function(e,t){e.exports=n(212)},function(e,t){e.exports=n(574)},function(e,t){e.exports=n(286)},function(e,t,n){"use strict";n.r(t),n.d(t,"Header",(function(){return L})),n(4),n(6),n(8),n(11);var r,o=n(21),a=n.n(o),c=n(2),u=n.n(c),i=n(0),s=n.n(i),l=n(1),f=n.n(l);!function(e){e[e.head=1]="head",e[e.mail=2]="mail",e[e.top100=3]="top100",e[e.kassa=4]="kassa",e[e.weather=5]="weather",e[e.horoscopes=6]="horoscopes",e[e.dating=7]="dating",e[e.help=8]="help",e[e.soft=9]="soft",e[e.class=10]="class",e[e.likes=11]="likes",e[e.afisha=12]="afisha",e[e.news=13]="news",e[e.finance=14]="finance",e[e.woman=15]="woman",e[e.kino=16]="kino",e[e.sport=17]="sport",e[e.auto=18]="auto",e[e.doctor=19]="doctor",e[e.weekend=20]="weekend",e[e.travel=21]="travel",e[e.games=22]="games",e[e.beat=23]="beat",e[e.search=24]="search",e[e.search_r0=25]="search_r0",e[e.search_org=26]="search_org",e[e.search_img=27]="search_img",e[e.search_map=28]="search_map",e[e.search_rabota=29]="search_rabota",e[e.id=30]="id",e[e.volna=31]="volna"}(r||(r={}));var p=(n(12),n(22),n(10)),d=n.n(p),b=(n(49),["news","finance","woman","kino","sport","auto","doctor","weekend","travel","games","beat"]),m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"topline";return"?utm_source=".concat(t,"&utm_campaign=self_promo&utm_medium=").concat(n,"&utm_content=").concat(e)},v=function(e){return b.includes(e)?"".concat(e,"_media"):e},_={root:"rui__3n1vX",link:"rui__1NED4",logo:"rui__15ZKy",head:"rui__694vL",rambler:"rui__jraTD",auto:"rui__3Zhaq",beat:"rui__3HEps",class:"rui__350K-",dating:"rui__QQOld",doctor:"rui__3SHnb",finance:"rui__-fcB3",games:"rui__1-W81",help:"rui__2KWxF",horoscopes:"rui__2aA63",kassa:"rui__1w0oU",kino:"rui__3mNn3",likes:"rui__BW3b7",mail:"rui__1aw9u",media:"rui__1zNEt",promokody:"rui__3SONl",search_img:"rui__1hzyX",soft:"rui__y-MkC",sport:"rui__WWtDv",top100:"rui__wGgQ7",travel:"rui__3ZGQH",weather:"rui__3c9iP",weekend:"rui__2GElq",woman:"rui__3Xlki",doodle:"rui__3SSKs",news:"rui__mkJmX"},y=["head","news","search","search_r0","search_org","search_img","volna","afisha","media"],h="https://static.rambler.ru/icons/header/v2/logo/",g=function(e){var t=e.projectCode,n=e.pageName,r=e.doodle,o=Object(i.useState)(!1),a=u()(o,2),c=a[0],l=a[1],p=Object(i.useMemo)((function(){return"woman"===t?["rambler-woman.svg","woman.svg"]:!y.includes(t)&&_[t]?["rambler.svg","".concat(t,".svg")]:["head.svg",null]}),[t]),b=u()(p,2),g=b[0],w=b[1];return Object(i.useEffect)((function(){var e={ready:!0};if(!d()(r)){l(!1);var t=new window.Image;t.onerror=function(){e.ready&&l(!0)},t.src=r.image}return function(){e.ready=!1}}),[r]),d()(r)||c?s.a.createElement("div",{className:_.root},s.a.createElement("a",{className:_.link,href:"https://www.rambler.ru/".concat(m("head",v(t),"logo")),"data-cerber":"header::".concat(t).concat(n?"::".concat(n):"","::logo::rambler")},s.a.createElement("img",{className:f()(_.logo,w?_.rambler:_.head),src:"".concat(h).concat(g)})),w&&s.a.createElement("a",{className:_.link,href:"/","data-cerber":"header::".concat(t).concat(n?"::".concat(n):"","::logo::self")},s.a.createElement("img",{className:f()(_.logo,_[t]),src:"".concat(h).concat(w)}))):s.a.createElement("a",{className:f()(_.doodle,_[t]),href:r.url,style:{backgroundImage:'url("'.concat(r.image,'")')},title:r.title,"data-cerber":"header::".concat(t).concat(n?"::".concat(n):"","::logo::doodle")},r.title)},w=(n(50),n(51),n(52),n(53),n(54),0);function j(){}var x="https://static.rambler.ru/icons",O=function(e){var t=e.inputNode,n=e.buttonNode,r=e.suggestLength,o=e.suggestUrl,a=e.query,c=e.focused,l=e.onChangeQuery,p=Object(i.useState)(null),d=u()(p,2),b=d[0],m=d[1],v=Object(i.useRef)(null),_=Object(i.useRef)(!1),y=Object(i.useRef)(!1),h=Object(i.useState)([]),g=u()(h,2),O=g[0],E=g[1],k=Object(i.useState)(-1),S=u()(k,2),C=S[0],N=S[1],M=Object(i.useMemo)((function(){return e=function(){if(t.current){var e=t.current.getBoundingClientRect(),n=e.width,r=e.left;window.innerWidth<r+600+20?m(Math.max(window.innerWidth-(r+20),n)):m(null)}},n=!1,function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];n||(window.requestAnimationFrame((function(){e.apply(e,r),n=!1})),n=!0)};var e,n}),[t]),P=Object(i.useCallback)((function(e){var t;_.current=!0,N(e),l(((null===(t=O[e])||void 0===t?void 0:t.sug)||v.current).replace(/<\/?b>/gi,""))}),[l,O]),L=Object(i.useCallback)((function(){t.current&&(y.current=!0,t.current.addEventListener("blur",(function e(){var n=document.createEvent("Event");n.initEvent("focus",!1,!0),t.current.dispatchEvent(n),t.current.removeEventListener("blur",e)})),setTimeout((function(){y.current=!1}),150))}),[t]),D=Object(i.useCallback)((function(e){P(e),y.current&&n.current&&setTimeout((function(){n.current.click()}),0)}),[n,P]);return Object(i.useEffect)((function(){var e,t={waiting:!0};return _.current?_.current=!1:(v.current=a,a?(e="".concat(o,"?count=").concat(r,"&v=5&nob=1&query=").concat(a),new Promise((function(t,n){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=e,o=t.prefix||"__jp",a=t.name||o+w;w+=1;var c,u,i=t.param||"callback",s=null!=t.timeout?t.timeout:6e4,l=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head;function p(){c.parentNode&&c.parentNode.removeChild(c),window[a]=j,u&&clearTimeout(u)}s&&(u=setTimeout((function(){p(),n&&n(new Error("Timeout"))}),s)),window[a]=function(e){p(),n&&n(null,e)},r=(r+="".concat(e.indexOf("?")>-1?"&":"?").concat(i,"=").concat(l(a))).replace("?&","?"),(c=document.createElement("script")).src=r,f.parentNode.insertBefore(c,f)}(e,{param:"jsonp"},(function(e,r){e?n(e):t(r)}))}))).then((function(e){t.waiting&&a===e.query&&(E(e.suggests),N(-1))})):(E([]),N(-1))),function(){t.waiting=!1}}),[a,o,r]),Object(i.useEffect)((function(){var e=function(e){switch(e.key){case"ArrowUp":e.preventDefault(),P((-1===C?O.length:C)-1);break;case"ArrowDown":e.preventDefault(),P(C===O.length-1?-1:C+1)}};return a&&O.length&&window.addEventListener("keydown",e,!0),function(){window.removeEventListener("keydown",e,!0)}}),[a,O.length,C,P]),Object(i.useEffect)((function(){return window.addEventListener("resize",M),M(),function(){window.removeEventListener("resize",M)}}),[M]),a&&O.length?s.a.createElement("div",{className:f()("rui__2JGth",c&&"rui__2FrRR"),style:{width:b},onMouseLeave:function(){return N(-1)},onMouseDown:L},O.map((function(e,t){return s.a.createElement("button",{key:t,className:f()("rui__3Ws1d",t===C&&"rui__d86qc"),type:"button",tabIndex:-1,onMouseEnter:function(){return N(t)},onMouseUp:function(){return D(t)}},Boolean(e.res_img)&&s.a.createElement("i",{className:"rui__1FFse",style:"breaking"===e.res_img?{backgroundImage:'url("'.concat(x,'/search-form/breaking.svg")')}:{backgroundImage:'url("'.concat(x,"/projects/").concat(e.res_img,'-16.svg")')}}),s.a.createElement("span",{className:"rui__3NiUy"},s.a.createElement("span",{className:"rui__2REkS",dangerouslySetInnerHTML:{__html:e.sug}}),Boolean(e.descr)&&s.a.createElement("span",{className:"rui__3WJVF",dangerouslySetInnerHTML:{__html:" — ".concat(e.descr)}})))}))):null};function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var k=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 20V0m20 0v20M16.177 4.884L11.061 10l5.116 5.116a.5.5 0 010 .707l-.354.354a.5.5 0 01-.707 0L10 11.061l-5.116 5.116a.5.5 0 01-.707 0l-.354-.354a.5.5 0 010-.707L8.939 10 3.823 4.884a.5.5 0 010-.707l.354-.354a.5.5 0 01.707 0L10 8.939l5.116-5.116a.5.5 0 01.707 0l.354.354a.5.5 0 010 .707"}),S=function(e){return i.createElement("svg",E({width:20,height:20},e),k)};function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=i.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M0 20V0m21 0v20m-2.964-3.884l-2.865-2.727c1.269-1.498 1.906-3.5 1.514-5.644-.514-2.806-2.865-5.089-5.804-5.616C5.71 1.2 1.26 5.437 2.235 10.363c.554 2.799 2.951 5.038 5.897 5.527 2.251.374 4.354-.233 5.926-1.441l2.864 2.728a.544.544 0 00.742 0l.372-.354a.483.483 0 000-.707M9.45 3.5c3.185 0 5.775 2.467 5.775 5.5s-2.59 5.5-5.775 5.5c-3.185 0-5.775-2.467-5.775-5.5s2.59-5.5 5.775-5.5"}),M=function(e){return i.createElement("svg",C({width:21,height:20},e),N)},P=function(e){var t=e.projectCode,n=e.pageName,r=e.value,o=e.placeholder,a=void 0===o?null:o,c=e.action,l=void 0===c?"https://nova.rambler.ru/search":c,p=e.target,d=void 0===p?"_blank":p,b=e.openstat,m=e.suggest,_=e.suggestUrl,y=void 0===_?"https://nova.rambler.ru/suggest":_,h=e.suggestLength,g=void 0===h?10:h,w=e.onSubmit,j=void 0===w?null:w,x=Object(i.useRef)(),E=Object(i.useRef)(),k=Object(i.useMemo)((function(){return a||"Поиск по интернету"}),[a]),C=Object(i.useState)(r||""),N=u()(C,2),P=N[0],L=N[1],D=Object(i.useState)(!1),T=u()(D,2),R=T[0],I=T[1],A=Object(i.useCallback)((function(){I(!0)}),[]),z=Object(i.useCallback)((function(){I(!1)}),[]),H=Object(i.useCallback)((function(e){L(e.target.value)}),[]),F=Object(i.useCallback)((function(){L("")}),[]),B=Object(i.useCallback)((function(e){if(x.current){var t=document.createEvent("Event");t.initEvent("blur",!1,!0),x.current.dispatchEvent(t),x.current.blur()}"function"==typeof j&&j(e,P)}),[j,P]);return Object(i.useEffect)((function(){document.activeElement===x.current&&(L(x.current.value),I(!0))}),[]),s.a.createElement("div",{className:f()("rui__3HcOi","woman"===t&&"rui__35Dvu")},s.a.createElement("form",{className:"rui__QOpZE",role:"search","aria-label":k,action:l,target:d,onSubmit:B},s.a.createElement("input",{type:"hidden",name:"utm_source",value:v(t)}),s.a.createElement("input",{type:"hidden",name:"utm_campaign",value:"self_promo"}),s.a.createElement("input",{type:"hidden",name:"utm_medium",value:"form"}),s.a.createElement("input",{type:"hidden",name:"utm_content",value:"search"}),b&&s.a.createElement("input",{type:"hidden",name:"_openstat",value:b}),s.a.createElement("input",{className:"rui__3QXHo",type:"text",value:P,name:"query",placeholder:k,onChange:H,onFocus:A,onBlur:z,autoComplete:m?"off":"on",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",ref:x,"data-cerber":"header::".concat(t).concat(n?"::".concat(n):"","::search::input")}),Boolean(P)&&s.a.createElement("button",{className:f()("rui__K3edI","rui__2YVgI"),type:"button",onClick:F},s.a.createElement(S,{className:"rui__EnznE"})),s.a.createElement("button",{className:f()("rui__K3edI","rui__3Mzuh"),type:"submit",ref:E,"data-cerber":"header::".concat(t).concat(n?"::".concat(n):"","::search::button")},s.a.createElement(M,{className:"rui__EnznE"}))),m&&s.a.createElement(O,{inputNode:x,buttonNode:E,suggestUrl:y,suggestLength:g,query:P,focused:R,onChangeQuery:L}))},L=function(e){var t=e.projectCode,n=e.pageName,o=void 0===n?null:n,c=e.breakpointsClassName,l=void 0===c?null:c,p=e.breakpointForWide,d=void 0===p?null:p,b=e.zIndex,m=void 0===b?null:b,v=e.shadow,_=void 0===v||v,y=e.search,h=void 0===y?{}:y,w=e.doodle,j=void 0===w?null:w,x=e.widgetLeft,O=void 0===x?null:x,E=e.widgetMiddle,k=void 0===E?null:E,S=e.widgetRight,C=void 0===S?null:S,N=e.widgetBottom,M=void 0===N?null:N,L=Object(i.useMemo)((function(){var e=[],t=function(t){Object(i.isValidElement)(t)?e.push(t):e.push(null)};return t(O),t(k),t(C),t(M),e}),[O,k,C,M]),D=u()(L,4),T=D[0],R=D[1],I=D[2],A=D[3],z=Object(i.useMemo)((function(){return"\n  @media (max-width: ".concat((e=d||1280)-1,"px) {\n    .").concat("rui__25z1Y"," {\n      -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n    }\n    .").concat("rui__1xUzE"," {\n      -webkit-box-ordinal-group: 3;\n      -ms-flex-order: 2;\n      order: 2;\n      width: 100%;\n    }\n    .").concat("rui__52a-E"," {\n      order: 1;\n    }\n  }\n  @media (min-width: ").concat(e,"px) {\n    .").concat("rui__3XIT3","::before {\n      display: none;\n    }\n    .").concat("rui__1xUzE"," {\n      -webkit-box-ordinal-group: 2;\n      -ms-flex-order: 1;\n      order: 1;\n      padding-left: 40px;\n    }\n    .").concat("rui__52a-E"," {\n      -webkit-box-ordinal-group: 3;\n      -ms-flex-order: 2;\n      order: 2;\n    }\n  }\n").replace(/(?:\n(?:\s*))+/g," ");var e}),[d]);return Object(i.useEffect)((function(){!function(e){e?r[e]||console.error("@rambler-components: Указан невалидный projectCode: ".concat(e)):console.error("@rambler-components: Не указан projectCode")}(t)}),[t]),Object(i.useEffect)((function(){Boolean(l)!==Boolean(d)&&console.error("@rambler-components/header: Вы указали ".concat(l?"breakpointsClassName":"breakpointForWide"," без ").concat(l?"breakpointForWide":"breakpointsClassName",". Проверьте подключение компонета."))}),[l,d]),s.a.createElement("div",{className:f()("rui__xXIS_",_&&"rui__2kkA5"),style:{zIndex:m}},s.a.createElement("div",{className:f()("rui__eFODA",l||"rui__OVNrL",Boolean(R)&&"rui__3XIT3",Boolean(A)&&"rui__1EJar")},s.a.createElement("div",{className:"rui__14FTr"},s.a.createElement("div",{className:"rui__25z1Y"},s.a.createElement("div",{className:"rui__2MFkY"},s.a.createElement(g,{projectCode:t,pageName:o,doodle:j})),s.a.createElement("div",{className:"rui__21ARG"},s.a.createElement(P,a()({projectCode:t,pageName:o},h))),T&&s.a.createElement("div",{className:"rui__pwwAd"},T),R&&s.a.createElement("div",{className:"rui__1xUzE"},R),I&&s.a.createElement("div",{className:"rui__52a-E"},I)),A&&s.a.createElement("div",{className:"rui__qWmMh"},A))),z&&s.a.createElement("style",{dangerouslySetInnerHTML:{__html:z}}))};t.default=L}])},967:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=32)}([function(e,t){e.exports=n(1)},function(e,t){e.exports=n(92)},function(e,t){e.exports=n(968)},function(e,t){e.exports=n(204)},function(e,t){e.exports=n(5)},function(e,t){e.exports=n(206)},function(e,t){e.exports=n(994)},function(e,t){e.exports=n(117)},function(e,t){e.exports=n(53)},function(e,t){e.exports=n(286)},function(e,t){e.exports=n(203)},function(e,t){e.exports=n(3)},function(e,t){e.exports=n(605)},function(e,t){e.exports=n(995)},function(e,t){e.exports=n(996)},function(e,t){e.exports=n(997)},function(e,t){e.exports=n(1001)},function(e,t){e.exports=n(229)},function(e,t){e.exports=n(573)},function(e,t){e.exports=n(232)},function(e,t){e.exports=n(179)},function(e,t){e.exports=n(613)},function(e,t){e.exports=n(233)},function(e,t){e.exports=n(234)},function(e,t){e.exports=n(180)},function(e,t){e.exports=n(603)},function(e,t){e.exports=n(242)},function(e,t){e.exports=n(130)},function(e,t){e.exports=n(212)},function(e,t){e.exports=n(181)},function(e,t){e.exports=n(285)},function(e,t){e.exports=n(152)},function(e,t,n){"use strict";n.r(t),n(17),n(18),n(7),n(19),n(20),n(9),n(21),n(22),n(23),n(10),n(24);var r=n(11),o=n.n(r),a=n(2),c=n.n(a),u=n(1),i=n.n(u),s=n(0),l=n.n(s),f=n(4),p=n.n(f),d=n(12),b=n.n(d),m=n(13),v=n.n(m),_=n(6),y=n(8),h=n.n(y),g=n(14),w=n.n(g),j=(n(25),n(26),n(27),n(28),n(15)),x=n.n(j),O=n(16),E=n.n(O),k=n(3),S=n.n(k),C=(n(29),n(5)),N=n.n(C),M=(n(30),"https://www.rambler.ru/location"),P=function(){var e=N()(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t.ok&&200===t.status){e.next=2;break}throw new Error("Failed to get geo data (".concat(t.status," ").concat(t.statusText,")"));case 2:return e.next=4,t.json();case 4:if(!(n=e.sent).message){e.next=7;break}throw new Error(n.message);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=E()(function(){var e=N()(S.a.mark((function e(t,n){var r,o,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return n([]),e.abrupt("return");case 3:return e.next=5,fetch("".concat(M,"/geo_list/?s=").concat(encodeURIComponent(t)));case 5:return r=e.sent,e.next=8,P(r);case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:o=e.t0,a=Object.keys(o).slice(0,6).reduce((function(e,t){return[].concat(x()(e),[o[t]])}),[]),n(a);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),300),D=(n(31),"rui__3_vXg"),T=function(e){var t=e.list,n=e.onSelect,r=e.isMobile,o=Object(s.useRef)(),a=Object(s.useRef)(),c=Object(s.useState)(-1),u=i()(c,2),f=u[0],d=u[1],b=Object(s.useState)(!1),m=i()(b,2),v=m[0],_=m[1];Object(s.useEffect)((function(){o.current=f}),[f]),Object(s.useEffect)((function(){d(-1),a.current=t}),[t]);var y=Object(s.useCallback)((function(e){e.preventDefault()}),[]),h=Object(s.useCallback)((function(e){n(e,a.current[o.current])}),[]),g=Object(s.useCallback)((function(e){var t=o.current,n=a.current.length;switch(e.key){case"ArrowUp":d((0===t?n:t)-1),e.preventDefault();break;case"ArrowDown":d(t===n-1?0:t+1),e.preventDefault();break;case"Enter":h(e),e.preventDefault()}}),[]);return Object(s.useEffect)((function(){return window.addEventListener("keydown",g,!0),_(!0),function(){window.removeEventListener("keydown",g,!0)}}),[]),l.a.createElement("div",{className:p()(D,v&&"rui__RnJ6c",r&&"rui__1izD0")},t.map((function(e,t){return l.a.createElement("button",{key:e.id,className:p()("rui__3ihpl",t===f&&"rui__XuWIX"),type:"button",onMouseEnter:function(){return d(t)},onMouseLeave:function(){return d(-1)},onMouseDown:y,onClick:function(t){return n(t,e)},"data-cerber":"widgets::widget.geo::choose::suggest-".concat(t+1)},"".concat(e.name,", ").concat(e.parents))})))};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=e.isMobile,n=e.isOpen,r=e.closeOnEsc,o=e.closeOnClickOutside,a=e.onClose,u=e.caption,f=e.description,d=e.reloadKey,b=e.onChange,m=Object(s.useRef)(),y=Object(s.useState)(0),g=i()(y,2),j=g[0],x=g[1],O=Object(s.useState)(1),E=i()(O,2),k=E[0],C=E[1],D=Object(s.useState)(null),R=i()(D,2),A=R[0],z=R[1],H=Object(s.useState)(1),F=i()(H,2),B=F[0],U=F[1],W=Object(s.useState)(!1),V=i()(W,2),q=V[0],G=V[1],J=Object(s.useState)(""),X=i()(J,2),K=X[0],Q=X[1],Z=Object(s.useState)(!0),Y=i()(Z,2),$=Y[0],ee=Y[1],te=function(){var e=Object(s.useState)({}),t=i()(e,2),n=t[0],r=t[1];return Object(s.useEffect)((function(){var e=function(){var e=N()(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(M,"/autodetect"));case 2:return t=e.sent,e.next=5,P(t);case 5:n=e.sent,r(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(e){console.error("@rambler-components/geo-modal: ".concat(e.message))}}),[]),n}(),ne=function(e,t){var n=Object(s.useState)({}),r=i()(n,2),o=r[0],a=r[1],c=Object(s.useState)(!1),u=i()(c,2),l=u[0],f=u[1],p=Object(s.useState)(!1),d=i()(p,2),b=d[0],m=d[1];return Object(s.useEffect)((function(){(e>1||t>1)&&f(!0)}),[t,e]),Object(s.useEffect)((function(){e>1&&m(!0)}),[e]),Object(s.useEffect)((function(){t>1&&m(!1)}),[t]),Object(s.useEffect)((function(){var e=function(){var e=N()(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(M,"/current"),{credentials:"include",headers:{Cookies:window.document.cookie}});case 2:return t=e.sent,e.next=5,P(t);case 5:n=e.sent,o.id!==n.id&&a(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(e){console.error("@rambler-components/geo-modal: ".concat(e.message))}}),[t,e]),{current:o,isUpdated:l,isHimself:b}}(B,d),re=ne.current,oe=ne.isUpdated,ae=ne.isHimself,ce=function(e){var t=Object(s.useState)([]),n=i()(t,2),r=n[0],o=n[1];return Object(s.useEffect)((function(){try{L(e,o)}catch(e){o([]),console.error("@rambler-components/geo-modal: ".concat(e.message))}}),[e]),r}(K),ue=Object(s.useCallback)((function(){U(B+1)}),[B]),ie=Object(s.useCallback)((function(){if(!c()(te)&&!c()(re)){var e=te.id===re.id;x(1),C(Number(e?0:1)),z(e?null:re)}}),[te,re]),se=Object(s.useCallback)((function(e){1===e?m.current.focus():(m.current.blur(),Q(""),n&&x(2),C(0),z({}))}),[n,m]),le=Object(s.useCallback)((function(e){Q(e.target.value)}),[]),fe=Object(s.useCallback)((function(e,t){c()(t)||(Q(""),m.current.blur(),z(t))}),[m]),pe=Object(s.useCallback)((function(){var e=!c()(A)&&!!A.id,t=e?A.id:"false",n=e?new Date(Date.now()+94608e7):new Date(0);window.document.cookie="geoid=".concat(t,"; Domain=.rambler.ru; Path=/; Expires=").concat(n.toUTCString()),a(),ue()}),[A]),de=Object(s.useCallback)((function(e){"Enter"===e.key&&pe()}),[pe]);return Object(s.useEffect)((function(){c()(re)||b(I(I({},re),{},{isUpdated:oe,isHimself:ae}))}),[re]),Object(s.useEffect)((function(){ie()}),[te,re]),Object(s.useEffect)((function(){n||(ie(),window.removeEventListener("keydown",de,!0))}),[n]),Object(s.useEffect)((function(){1!==k||q||c()(A)||!A.name||n&&K||Q(A.name)}),[A]),Object(s.useEffect)((function(){q&&(1!==k&&C(1),c()(A)||K!==A.name||Q(""),z({}),x(2))}),[q]),Object(s.useEffect)((function(){2!==j||1===k&&c()(A)?(ee(!0),window.removeEventListener("keydown",de,!0)):(ee(!1),window.addEventListener("keydown",de,!0))}),[j,k,A]),l.a.createElement(v.a,{title:"Изменение региона",isMobile:t,isOpen:n,onClose:a,closeDataCerber:"widgets::widget.geo::close",closeOnEsc:r,closeOnClickOutside:o,okButton:l.a.createElement(h.a,{size:t?"mobile":"small",disabled:$,onClick:pe,"data-cerber":"widgets::widget.geo::save"},"Сохранить"),cancelButton:l.a.createElement(h.a,{type:"outline",size:t?"mobile":"small",onClick:a,"data-cerber":"widgets::widget.geo::cancel"},"Отмена")},l.a.createElement("div",{className:p()("rui__of2TV",t&&"rui__3FrHX")},!t&&l.a.createElement("div",{className:"rui__3EktG"},u),!j&&l.a.createElement(w.a,null),!!j&&l.a.createElement(_.RadioGroup,{value:k,onChange:se,isMobile:t},l.a.createElement("div",{className:"rui__2MJCN"},l.a.createElement(_.RadioButton,{value:0,"data-cerber":"widgets::widget.geo::auto"},te.name),l.a.createElement("div",{className:"rui__zkUaN"},"Определяется автоматически")),l.a.createElement("div",{className:"rui__2MJCN"},l.a.createElement(_.RadioButton,{value:1,"data-cerber":"widgets::widget.geo::choose"},"Задать"),l.a.createElement("div",{className:"rui__2x4Zz"},l.a.createElement("input",{className:"rui__6-a4V",type:"text",placeholder:"Введите город или место",onFocus:function(){return G(!0)},onBlur:function(){return G(!1)},onChange:le,value:K,disabled:0===j,ref:m,"data-cerber":"widgets::widget.geo::choose::input"}),l.a.createElement("div",{className:"rui__322fa"}),q&&!!K&&ce.length>0&&l.a.createElement(T,{list:ce,onSelect:fe,isMobile:t})),l.a.createElement("div",{className:"rui__1YKKp"},f)))))};A.defaultProps={isMobile:!1,closeOnEsc:!0,closeOnClickOutside:!0,caption:"Мы покажем события и погоду в вашем городе или ближайшем к нему месте. Если город определился неверно, укажите его самостоятельно.",description:"По возможности будут показаны события и прогноз погоды для выбранного региона",reloadKey:null},t.default=b()(A)}])},994:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){e.exports=n(1)},function(e,t){e.exports=n(5)},function(e,t){e.exports=n(92)},function(e,t){e.exports=n(286)},function(e,t){e.exports=n(7)},function(e,t){e.exports=n(287)},function(e,t){e.exports=n(117)},function(e,t){e.exports=n(242)},function(e,t){e.exports=n(130)},function(e,t){e.exports=n(213)},function(e,t,n){"use strict";n.r(t),n.d(t,"RadioGroup",(function(){return g})),n.d(t,"RadioButton",(function(){return w})),n(3);var r=n(4),o=n.n(r),a=n(5),c=n.n(a),u=n(0),i=n.n(u),s=n(1),l=n.n(s),f={root:"rui__2apl6",isHorizontal:"rui__1j8m8",real:"rui__1gNJl",fake:"rui__3rIn6",isMobile:"rui__NCajf",isChecked:"rui__15WID",isEnabled:"rui__u_JDG",isDisabled:"rui__1phCg",labelright:"rui__puxca",labelleft:"rui__1gZf9",label:"rui__c0LeH",horizontalGroup:"rui__1KlvC"},p=n(2),d=n.n(p),b=(n(6),n(7),n(8),n(9),Math.random().toString(36).slice(2)),m=0,v=0,_={name:"",currentValue:"",setValue:function(){}},y=i.a.createContext(_),h=function(e){var t=e.className,n=e.style,r=e.isMobile,o=e.orientation,a=e.name,c=e.value,s=e.children,p=e.onChange,_=Object(u.useMemo)((function(){return a||((e=Date.now())>v&&(v=e,m=0),"".concat(b,"-").concat(v,"-").concat(m));var e}),[a]),h=Object(u.useState)(!1),g=d()(h,2),w=g[0],j=g[1],x=Object(u.useState)(c),O=d()(x,2),E=O[0],k=O[1],S=Object(u.useState)(c),C=d()(S,2),N=C[0],M=C[1];Object(u.useEffect)((function(){N!==c&&(E!==c&&k(c),M(c))}),[c]),Object(u.useEffect)((function(){w&&p(E)}),[E]),Object(u.useEffect)((function(){j(!0)}),[]);var P={isMobile:r,orientation:o,name:_,currentValue:E,setValue:k};return i.a.createElement(y.Provider,{value:P},i.a.createElement("div",{className:l()("horizontal"===o&&f.horizontalGroup,t),style:n},s))};h.defaultProps={style:{},onChange:function(){}};var g=h,w=function(e){var t=e.className,n=e.style,r=e.labelPosition,a=e.value,s=e.disabled,p=e.children,d=c()(e,["className","style","labelPosition","value","disabled","children"]),b=Object(u.useContext)(y),m=b.isMobile,v=b.orientation,_=b.currentValue,h=b.name,g=b.setValue,w=l()(f.root,m&&f.isMobile,"horizontal"===v&&f.isHorizontal,f["label".concat(r)],s?f.isDisabled:f.isEnabled,a===_&&f.isChecked,t);return i.a.createElement("label",o()({className:w,style:n},d),i.a.createElement("input",{className:f.real,type:"radio",name:h,value:a,checked:a===_,disabled:s,onChange:function(){return g(a)}}),i.a.createElement("span",{className:f.fake}),i.a.createElement("span",{className:f.label},p))};w.defaultProps={style:{},labelPosition:"right",value:null,disabled:!1},t.default=w}])},995:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=n(1)},function(e,t){e.exports=n(5)},function(e,t){e.exports=n(92)},function(e,t){e.exports=n(69)},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),a=n(0),c=n.n(a),u=n(3),i=n.n(u),s=n(1),l=n.n(s);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=a.createElement("path",{fill:"currentColor",d:"M7.5 6.58L1.742.824a.4.4 0 00-.565 0l-.354.354a.4.4 0 000 .565L6.581 7.5.823 13.258a.4.4 0 000 .565l.354.354a.4.4 0 00.565 0L7.5 8.419l5.758 5.758a.4.4 0 00.565 0l.354-.354a.4.4 0 000-.565L8.419 7.5l5.758-5.758a.4.4 0 000-.565l-.354-.354a.4.4 0 00-.565 0L7.5 6.581z"}),d=function(e){return a.createElement("svg",f({width:15,height:15},e),p)},b=function(e){var t=e.className,n=e.style,r=e.backdropClassName,u=e.backdropStyle,s=e.isMobile,f=e.title,p=e.showClose,b=e.isOpen,m=e.okButton,v=e.cancelButton,_=e.closeDataCerber,y=e.closeOnEsc,h=e.closeOnClickOutside,g=e.onClose,w=e.children,j=Object(a.useState)(null),x=o()(j,2),O=x[0],E=x[1];Object(a.useEffect)((function(){E(document.createElement("div"))}),[]);var k=Object(a.useCallback)((function(e){"Escape"===e.key&&g()}),[]);return Object(a.useEffect)((function(){if(O)return window.document.body.appendChild(O),y&&window.addEventListener("keydown",k,!0),function(){window.document.body.removeChild(O),window.removeEventListener("keydown",k,!0)}}),[O]),O?i.a.createPortal(c.a.createElement("div",{className:l()("rui__2c_ZB",!b&&"rui__2zxdd",s&&"rui__1Yn63")},c.a.createElement("div",{className:l()("rui__1-Nz5",r),style:u,onClick:function(){return h&&g()},"data-cerber":_}),c.a.createElement("div",{className:l()("rui__16_Hz",t),style:n},c.a.createElement("div",{className:"rui__S3elA"},f),p&&c.a.createElement("button",{className:"rui__RSJGi",type:"button",onClick:g,"data-cerber":_},c.a.createElement(d,null)),w,(m||v)&&c.a.createElement("div",{className:"rui__GO89i"},m&&c.a.createElement("div",{className:"rui__P36Ea"},m),v&&c.a.createElement("div",{className:"rui__xT6ul"},v)))),O):null};b.defaultProps={style:{},backdropStyle:{},title:"",showClose:!0,isOpen:!1,closeDataCerber:null,closeOnEsc:!0,closeOnClickOutside:!0},t.default=b}])},996:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=n(1)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);t.default=function(){return o.a.createElement("div",{className:"rui__1c9GQ"},o.a.createElement("div",{className:"rui__13feT"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)))}}])}}]);
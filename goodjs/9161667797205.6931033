(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[54],{CTC5:function(e,t,i){"use strict";function n(e){fetch("/api/_ajax/metrics/ops/",{credentials:"same-origin",method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}})}i.d(t,"a",function(){return n})},ob7U:function(e,t,i){"use strict";i.d(t,"b",function(){return R}),i.d(t,"a",function(){return L});var n=i("zjfJ"),g=i("ERkP"),o=i.n(g),h=i("WFZG"),r=i("j/s1"),a=i("uZih"),c=i.n(a),s=i("9pOh"),l=i("05Xt"),u=i("ybdx"),d=o.a.createElement;function v(e){var t=e.loading,i=e.children,n=e.height,r=e.customLoader,a=Object(g.useRef)(null),i=t?r?o.a.createElement(r):d(u.a,{height:n,"data-testid":"lazy-loader"}):o.a.createElement(i);return d(p,c()(e,["loading","height","customLoader","children"]),d(s.a,null,d(l.a,{key:"lazyloader-"+t.toString(),timeout:170,classNames:"item",nodeRef:a},d("div",{"data-testid":"loader-container",ref:a},i))))}var p=r.default.div.withConfig({displayName:"LazyLoader__StyledContainer",componentId:"sc-3p6sn8-0"})(["& .item-enter{opacity:0;transform:translateY(1rem);}& .item-enter-active{opacity:1;transform:translateY(0);transition:all ","ms ease-out,opacity ","ms ease-in;}& .item-exit{opacity:1;transform:translateY(0);}& .item-exit-active{opacity:0;transform:translateY(-1rem);transition:all ","ms ease-in,opacity ","ms ease-out;}"],170,170,170,170),O=i("odm1"),y=i("giwy"),w=i("E39Q"),m=i("j0AU"),f=i("CTC5"),T=i("JeX9"),t=Object(m.h)(),a=t.source,j=t.next;t.complete,Object(m.o)(a,Object(m.a)(Object(m.f)(100)),Object(m.u)(15),Object(m.s)(function(e){e&&0<e.length&&Object(f.a)(e)}));function E(e){return e=e.height,e=x(e),b(e,{className:"feature-row-loader"},b(D,null))}var _=i("y6um"),k=i("FWc9"),i=i("UnfE"),b=o.a.createElement,x=function(e){switch(e){case"title-cards":return C;case"video-slates":return P;case"name-avatars":return N;default:return I}},C=r.default.div.withConfig({displayName:"FeatureRowLoader__TitleCardContainer",componentId:"ekkh6s-0"})(["width:100%;position:relative;","{height:466px;}","{height:417px;}","{height:367px;}","{height:375px;}","{height:379px;}"],i.mediaQueries.breakpoints.above.xl,i.mediaQueries.breakpoints.above.l,i.mediaQueries.breakpoints.above.m,i.mediaQueries.breakpoints.above.s,i.mediaQueries.breakpoints.above.xs),P=r.default.div.withConfig({displayName:"FeatureRowLoader__VideoSlateContainer",componentId:"ekkh6s-1"})(["width:100%;position:relative;","{height:280px;}","{height:238px;}","{height:200px;}","{height:203px;}","{height:209px;}"],i.mediaQueries.breakpoints.above.xl,i.mediaQueries.breakpoints.above.l,i.mediaQueries.breakpoints.above.m,i.mediaQueries.breakpoints.above.s,i.mediaQueries.breakpoints.above.xs),N=r.default.div.withConfig({displayName:"FeatureRowLoader__NameAvatarContainer",componentId:"ekkh6s-2"})(["width:100%;position:relative;","{height:235px;}","{height:202px;}","{height:187px;}","{height:173px;}","{height:180px;}"],i.mediaQueries.breakpoints.above.xl,i.mediaQueries.breakpoints.above.l,i.mediaQueries.breakpoints.above.m,i.mediaQueries.breakpoints.above.s,i.mediaQueries.breakpoints.above.xs),I=r.default.div.withConfig({displayName:"FeatureRowLoader__DefaultContainer",componentId:"ekkh6s-3"})(["width:100%;position:relative;height:20rem;"]),D=Object(r.default)(h.Loader).withConfig({displayName:"FeatureRowLoader__StyledLoader",componentId:"ekkh6s-4"})(["margin:auto;position:absolute;top:0;right:0;bottom:0;left:0;"]),F=g.createElement;function S(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function M(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?S(Object(i),!0).forEach(function(e){Object(n.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var R=function(e,t){return M(M({},e),t)},L=function(e){var i=e.id,t=e.height,n=e.title,r=e.description,a=e.link,o=e.fetching,c=e.data,s=e.shouldRender,l=e.children,u=g.useRef(),d=g.useRef(!1);w.c||u.current||(u.current=Date.now());var p=!(w.c&&!c||o||!s||s())||!l,m=!o&&!p,f=new y.a({requestContext:Object(_.c)().context}),s=n?void 0:"none";if(g.useEffect(function(){var e,t;!w.c&&u.current&&(e=Date.now()-u.current,o?(d.current=!0,f.set({metricName:O.NextClientMetrics.FEATURE_FETCHING,value:1,unit:O.Unit.COUNT}),console.log(O.NextClientMetrics.FEATURE_FETCHING+" - "+i)):p?(t=d.current?O.NextClientMetrics.FEATURE_FETCHED_THEN_DROPPED_TIME:O.NextClientMetrics.FEATURE_DROPPED_WITHOUT_FETCH_TIME,f.set({metricName:t,value:e,unit:O.Unit.MILLISECONDS}),console.log(t+" - "+i+" - "+e)):m&&(t=d.current?O.NextClientMetrics.FEATURE_FETCHED_THEN_COMPLETE_TIME:O.NextClientMetrics.FEATURE_COMPLETE_WITHOUT_FETCH_TIME,f.set({metricName:t,value:e,unit:O.Unit.MILLISECONDS}),console.log(t+" - "+i+" - "+e)),T.p&&f.serialize().forEach(function(e){return j(e)}))},[p,m]),p)return null;function b(){return F(g.Fragment,null,l)}return F(g.Fragment,null,F(k.a,{id:i}),F(h.PageGrid.Item,{span:3},F(h.PageSection,{topPadding:s},F("div",{className:i},n?F(h.SubSectionTitle,{description:r,href:a},n):null,F(v,{loading:!!o||w.c&&!c,height:"feature",customLoader:function(){return F(E,{height:t})}},function(){return F(b,null)})))))}},zH5U:function(e,t,i){"use strict";i.r(t);var n=i("ERkP"),d=i.n(n),r=i("/ESf"),p=i("zygG"),a=i("j/s1"),m=i("WFZG"),o=i("UnfE"),c=i("zjfJ"),s=i("KD1n"),n=i("H5qd"),n=i.n(n),f=i("DgVT"),b=i("0VMp"),g=i("2gxx"),h=i("/V6V"),v=i("CbZs"),O=i("gp8v"),y=i("u2/3"),w=i("odm1"),T=d.a.createElement;function l(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function j(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach(function(e){Object(c.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function u(){var e=Object(s.a)(["\n    query StreamingPicks_WatchNow($titleIds: [ID!]!, $providerId: ID!) {\n        titles(ids: $titleIds) {\n            id\n            watchOption(providerId: $providerId) {\n                link(platform: WEB)\n                provider {\n                    refTagFragment\n                }\n            }\n        }\n    }\n"]);return e}function E(e){var t,i,n=e.tabIndex,r=e.providerId,a=e.providerDescription,o=e.streamingTitles,c={imdbTvText:Object(g.a)({id:"streamingPicks_imdbtv_link",defaultMessage:"Free on IMDb TV"}),watchNowText:Object(g.a)({id:"common_buttons_watchNow",defaultMessage:"Watch now"}),popularOnText:Object(g.a)({id:"streamingPicks_providerDescription_default",defaultMessage:"popular on"})},s=(t=r,e=o.map(function(e){return e.title.id}),t=Object(v.b)({query:C,variables:{titleIds:e,providerId:t},context:{personalized:!1,serverSideCacheable:!0}}),t=Object(p.a)(t,1)[0],i=!t.fetching&&(null==t||null===(i=t.data)||void 0===i?void 0:i.titles.reduce(function(e,t){return null!=t&&t.id&&(e[null==t?void 0:t.id]=null==t?void 0:t.watchOption),e},{}))||{},{fetching:t.fetching,byTitle:i}),l=Object(b.b)().adSlotsInfo;function u(e,t,i){var n,i=(n=s.byTitle[e],i={id:e,prefix:"hm_stp",suffix:"tt_".concat(i+1)},n?Object(h.a)(n,i,l):{});if(0!==Object.keys(i).length||s.fetching)return{props:j(j({},i),{},{className:"title-watchnow-button",preIcon:x(t)}),text:t===k?c.imdbTvText:c.watchNowText,fetching:s.fetching}}return Object(O.b)(o.map(function(e){return e.title})),a=P(c.popularOnText,a),T(d.a.Fragment,null,T(N,{className:"streaming-picks-description"},a),T(m.Shoveler,{wraps:!1,key:"".concat(n,"-").concat(r),onPageChange:function(e){Object(y.a)(e,"hm_stp",w.PageType.HOME,w.SubPageType.MAIN)}},o.map(function(e,t){return T(f.a,{refMarker:(i=e.title.id,n=t,{prefix:"hm_stp_".concat((null===(i=s.byTitle[i])||void 0===i?void 0:i.provider.refTagFragment)||""),suffix:"".concat(n+1)}),className:"streaming-picks-title",key:e.title.id,data:e.title,alternateButton:u(e.title.id,r,t)});var i,n})))}function _(e){var i=e.providerPicks;if(!i||i.length<1)return null;var t=i.map(function(e){return{id:e.provider.id,label:e.provider.name.value}}),n=d.a.useState(t[0].id),n=(e=Object(p.a)(n,2))[0],r=e[1];return(n=function(e,t){var i,n=e.findIndex(function(e){return e.provider.id===t});if(-1===n)return null;var r=e[n];return{tabIndex:n,providerId:t,providerDescription:null===(i=r.provider.description)||void 0===i?void 0:i.value,streamingTitles:r.titles}}(i,n))?D(d.a.Fragment,null,D(F,{"data-testid":"streaming-picks-tab-container"},D(m.Tabs,{className:"streaming-picks-tabs",tabs:t,key:"tabs",onChange:function(e){var t;r(e),t=function(e,t){var i=e.findIndex(function(e){return e.provider.id===t});if(i<0)return"unknown";e=e[i].provider.refTagFragment;return"hm_stp_".concat(e,"_tab_").concat(i+1)}(i,e),e={type:w.PageType.HOME,subType:w.SubPageType.MAIN},Object(I.t)(t,e,"tab-select",I.b.ACTION_ONLY)}})),D("div",{"data-testid":"streaming-picks-shoveler"},D(E,n))):null}var k="amzn1.imdb.w2w.provider.prime_video.freewithads",x=function(e){return"amzn1.imdb.w2w.provider.imdb.showtimes"===e?"ticket":void 0},C=n()(u()),P=function(e,t){e=t||e;return"".concat(e[0].toLowerCase()).concat(e.slice(1))},N=a.default.p.withConfig({displayName:"SingleProviderPicks__Description",componentId:"sc-14el632-0"})(["",";margin-bottom:1rem;"],Object(o.setPropertyToSpacingVar)("margin-left","ipt-pageMargin")),I=i("JeX9"),D=d.a.createElement,F=a.default.div.withConfig({displayName:"MultipleProviderPicks__TabContainer",componentId:"sc-7fk6ti-0"})(["",";margin-bottom:1rem;"],Object(o.setPropertyToSpacingVar)("margin-left","ipt-pageMargin")),S=i("ob7U"),M=d.a.createElement;t.default=function(e){var t,i=(t=e.data)&&t.streamingTitles?t.streamingTitles.filter(function(e){return e.provider&&e.titles&&0<e.titles.edges.length}).map(function(e){return{provider:e.provider,titles:Object(r.a)(e.titles.edges)}}):[],e=Object(S.b)({id:"streaming-picks",height:"title-cards",shouldRender:function(){return 0<i.length}},e);return M(S.a,e,M(_,{providerPicks:i}))}}}]);

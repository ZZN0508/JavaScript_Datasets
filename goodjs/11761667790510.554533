!function(n){var a={};function o(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./build",o(o.s=43)}({2:function(e,t,n){"use strict";t.a={loading:function(e,t,n,a,o){var i;"img"!==e&&"script"!==e&&"css"!==e||(i=null,"img"===e?(i=new Image).src=t:("script"===e?((i=document.createElement("script")).type="text/javascript",i.src=t,void 0!==o&&(i.id=o)):((i=document.createElement("link")).type="text/css",i.rel="stylesheet",i.href=t),document.getElementsByTagName("head")[0].appendChild(i)),i.readyState?i.onreadystatechange=function(){"loaded"==i.readyState||"complete"==i.readyState?(i.onreadystatechange=null,n&&"[object Function]"===Object.prototype.toString.call(n)&&n(i)):a&&"[object Function]"===Object.prototype.toString.call(a)&&a(i)}:(i.onload=function(){n(i)},i.onerror=function(){a(i)}))},getUrlParam:function(e,t){e=new RegExp("([?&^]?)"+e+"=([^&]+)"),e=(t||location.href).match(e);return e&&1<e.length?e.pop():""},getUrlAllParams:function(e){for(var e=(t=decodeURI(e||window.location.href)).indexOf("?"),t=-1<e?t.substring(e+1):"",n=/([^=&\s\?]+)[=\s]*([^&\s]*)/g,a={};n.exec(t);)a[RegExp.$1]=RegExp.$2;return a},getPageSPM:function(){for(var e,t=document.getElementsByTagName("meta"),n="",a=0;a<t.length;a++)if("data-spm"==t[a].getAttribute("name")){n=t[a].getAttribute("content");break}return e=document.body.getAttribute("data-spm"),n&&e?n+"."+e:""},getCookie:function(e){e=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return e?e[2]:""},formateTimestamp:function(e){e=new Date(e);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},getSDKEnvironment:function(){if(window.envTag)return window.envTag;var e=navigator.userAgent.toLowerCase(),t=e.match("iku"),n=t&&e.match("windows")?1:t&&e.match("youku")?2:3,a=-1<window.location.href.indexOf("iku_pay"),t=-1<window.location.href.indexOf("wrapper"),e=function(){var e=navigator.userAgent.toLowerCase().match(/IKU\/(\d+\.\d+\.\d+)/i);if(e&&e[1]){for(var t="",n=e[1].split("."),a=0;a<n.length;a++)t+=n[a];return parseInt(t)<752}return!1}();return"YoukuOfficial"==window.pid?"1.0.2":e?"4.0.0":a?"4.0.1":1==n?1==t?"3.0.1":"2.0.1":2==n?1==t?"3.0.2":"2.0.2":"1.0.1"},isTypeString:function(e){return!(!e||"string"!=typeof e||!e.length)},loadJS:function(e,t){var n=document.getElementsByTagName("body")[0],a=document.createElement("script");a.type="text/javascript",a.onload=a.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t(),a.onload=a.onreadystatechange=null)},a.onerror=function(){a.onload=a.onreadystatechange=null},a.src=e,n.appendChild(a)},addDForSpm:function(e){var t="";try{var n=e.split(".");4==n.length&&(n[3]="d_"+n[3],t=n.join("."))}catch(e){}return t||e}}},3:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},4:function(e,t){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}},43:function(e,t,n){"use strict";n.r(t);var a=n(3),o=n.n(a),a=n(4),a=n.n(a),i=n(2),r={get_version:(window.youku_vip_pay_env&&"local"===window.youku_vip_pay_env?"http://pc.pay.youku.com:7001/":window.youku_vip_pay_env&&"daily"===window.youku_vip_pay_env?"http://pc.pay.youku.com/":window.youku_vip_pay_env&&"pre"===window.youku_vip_pay_env?"//paypre.vip.youku.com/":(window.youku_vip_pay_env&&window.youku_vip_pay_env,"https://pc.pay.youku.com/"))+"api/v"},a=(a()(c,[{key:"beforeInit",value:function(){this.pay=null,this.initWrapper(),this._testFlag()&&(window.pay=this)}},{key:"initWrapper",value:function(){var e,t=window.Pay;try{e=i.a.getUrlAllParams()}catch(t){e={type:"",subBiz:"",tags:"",product_ids:""}}window.isPayPage?(this.pay=new t({isSDK:!1,config:this.config,type:e.type,subBiz:e.subBiz,tags:e.tags,product_ids:e.product_ids,spm:e.spm,scm:e.scm,vid:e.vid,sid:e.sid,selected:e.selected,acode:e.acode,crm_params:e.crm_params}),this.pay._destroySelf=null):(this.pay=new t({isSDK:!0,config:this.config}),this.pay._destroySelf=this._rebuildPay.bind(this))}},{key:"_getVersion",value:function(){var t,n,e,a,o,i=this;(o={url:r.get_version,callbackKeyName:"callback",callbackFnName:"callback",data:{},connect:"?",time:5e3,success:function(e){"20000"==e.code&&(i.config=e.conf,i._loadPaySDK("".concat(e.conf.publicPath).concat(e.conf.version,"/sdk.js")))},error:function(){}}).url&&(e=o.callbackKeyName||"callback",t=o.callbackFnName||"jsonp_"+ +new Date,n=document.getElementsByTagName("head")[0],o.data[e]=t,e=function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}(o.data),a=document.createElement("script"),n.appendChild(a),window[t]=function(e){n.removeChild(a),clearTimeout(a.timer),window[t]=null,o.success&&o.success(e)},a.src=o.url+o.connect+e,a.timer=setTimeout(function(){window[t]=null,n.removeChild(a),o.error&&o.error({message:"è¶…æ—¶"})},o.time||8e3))}},{key:"_loadPaySDK",value:function(e){var t=document.getElementsByTagName("body")[0],n=document.createElement("script"),a=this;n.type="text/javascript",n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(a.beforeInit(),n.onload=n.onreadystatechange=null)},n.onerror=function(){n.onload=n.onreadystatechange=null},n.src=e,t.appendChild(n)}},{key:"_rebuildPay",value:function(){this.pay=null,this.initWrapper()}},{key:"_destroyPay",value:function(){this.pay._destroy(!0),this.pay=null,window.isPayJSLoad=!1}},{key:"_testFlag",value:function(){return 1==i.a.getUrlAllParams().tflag}},{key:"_dealSceenSize",value:function(){var e=this;-1<window.location.href.indexOf("iku_pay")||(this._refreshSize(),window.addEventListener("resize",function(){e._refreshSize()},!1))}},{key:"_refreshSize",value:function(){var e=document.documentElement,t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;window.isPayPage?738<=t?e.setAttribute("data-pay","w1"):656<=t?e.setAttribute("data-pay","w2"):e.setAttribute("data-pay","w3"):1920<=t||1680<=t&&t<1920?e.setAttribute("data-pay","w1"):1344<=t&&t<1680?e.setAttribute("data-pay","w2"):t<1344&&e.setAttribute("data-pay","w3")}}]),c);function c(){o()(this,c),window.isPayJSLoad||(window.isPayJSLoad=!0,this.config=null,this._getVersion(),this._dealSceenSize())}t.default=new a}});

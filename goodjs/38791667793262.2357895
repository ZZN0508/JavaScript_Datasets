(self.webpackChunkFrontendReact=self.webpackChunkFrontendReact||[]).push([[5901],{77595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(1068),a=n.n(r),c=n(20530),l=n(26849),s=n(30081),u=n(97647),f=n(81010),d=n(10891),m=n(71509),t=n(77766),h=n.n(t),r=n(2991),p=n.n(r),t=n(3649),g=n.n(t),r=n(94198),v=n.n(r),E=n(67294),t=(n(45697),n(49140)),i=n(61156),o=n(52266),y=n(6285),Z=n(20594),b=(n(68309),n(44012)),k=n(61409),r=n(71114),C=n(73611),T=n(60817),I=n(78117),N=n(40152),w=n(42974),O=n(17146),S=n(7994);const _=(0,t.connect)(function(e,t){t=t.userid;return{user:(0,i.M_)(e,t).data}},{sendEvent:r.qP})(function(e){var t=e.user,n=t.name,r=t.username,a=t.userid,i=t.verified,o=t.profileImageUrl,c=t.recentViews,t=t.subscription,l=e.sendEvent,e=(0,E.useState)(!1),e=(0,Z.Z)(e,2),s=e[0],u=e[1],a=E.createElement("div",{className:"leaderboard-row"},E.createElement(k.rU,{className:"leaderboard-profile-image",to:"/@".concat(r),onClick:function(){return l({event:"leaderboard_profile_click",params:{username:r}})}},s?E.createElement(T.Z,{url:o,small:!0}):null),E.createElement("div",{className:"leaderboard-user-details"},E.createElement("div",{className:"leaderboard-name-row"},E.createElement(k.rU,{className:"leaderboard-name",to:"/@".concat(r),onClick:function(){return l({event:"leaderboard_profile_click",params:{username:r}})}},n||r),i?E.createElement(I.Z,{small:!0}):null,(0,S.Z)(t)?E.createElement(w.Z,{small:!0}):null),E.createElement(N.Z,{className:"leaderboard-views-row",value:c,format:!1},E.createElement(b.Z,{id:"LEADERBOARD.VIEWS_LAST_WEEK",values:{views:c},defaultMessage:"{views, plural, one {view} other {views}} last week",description:"Views this user's gifs received last week."}))),E.createElement(C.Z,{userid:a,size:"small"}));return s?a:E.createElement(O.Z,{onChange:function(e){e=e.visible;e&&!s&&u(e)}},a)}),M=(0,t.connect)(function(e){return{leaderboard:(0,i.Zp)(e)}},{continueLeaderboard:o.p})((t=r=function(e){(0,u.Z)(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.Z)(n);return t=r?(e=(0,d.Z)(this).constructor,a()(t,arguments,e)):t.apply(this,arguments),(0,f.Z)(this,t)});function o(){var e,t;(0,c.Z)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=i.call.apply(i,h()(e=[this]).call(e,r)),(0,m.Z)((0,s.Z)(t),"loadMore",function(){t.props.continueLeaderboard({count:t.props.count})}),t}return(0,l.Z)(o,[{key:"render",value:function(){var e=this.props,t=e.leaderboard,n=e.loadAll,e=e.numberOfShown;if(!t.isReady)return null;e=e||t.items.lenght,e=p()(t=g()(t=t.items).call(t,0,e)).call(t,function(e,t){t=E.createElement(_,{userid:e,key:"creator-list-item-".concat(t)});return n?{item:t,id:"creator-list-item-".concat(e)}:t}),t=v()(.7*this.props.count,10);return E.createElement("div",{className:"leaderboard-list"},n?E.createElement(y.Z,{items:e,loadMore:this.loadMore,loadMoreTriggerIndex:t}):e)}}]),o}(E.Component),(0,m.Z)(r,"fetchInitialData",function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).count;return e.dispatch((0,o.o)({count:void 0===t?10:t}))}),(0,m.Z)(r,"defaultProps",{count:10,loadAll:!1}),t=t))||t},83428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var t=n(1068),a=n.n(t),c=n(20530),l=n(26849),s=n(30081),u=n(97647),f=n(81010),d=n(10891),m=n(71509),t=(n(74916),n(15306),n(39392)),h=n.n(t),t=n(10062),p=n.n(t),t=n(81643),g=n.n(t),t=n(2991),v=n.n(t),t=n(77766),E=n.n(t),t=n(32366),y=n.n(t),t=n(20116),Z=n.n(t),t=n(25843),b=n.n(t),t=n(86902),k=n.n(t),t=n(47302),C=n.n(t),t=n(3649),T=n.n(t),I=(n(45697),n(67294)),t=n(49140),r=n(61156),N=n(43903);n(79145);function w(e,t){if(e.length<2||t.length<2)return 0;for(var n=new(h()),r=0;r<e.length-1;r++){var a=e.substr(r,2),i=n.has(a)?n.get(a)+1:1;n.set(a,i)}for(var o=0,c=0;c<t.length-1;c++){var l=t.substr(c,2),s=n.has(l)?n.get(l):0;0<s&&(n.set(l,s-1),o++)}return 2*o/(e.length+t.length-2)}var O=function(e,t){var n,r,a,i=[],o=e.length,c=t.length;if(!o)return c;if(!c)return o;for(a=0;a<=c;a++)i[a]=a;for(r=1;r<=o;r++){for(n=[r],a=1;a<=c;a++)n[a]=e[r-1]===t[a-1]?i[a-1]:Math.min(i[a-1],i[a],n[a-1])+1;i=n}return n[c]};const i=(0,t.connect)(function(t,e){e=e.items;return{gfyItems:e?v()(e).call(e,function(e){return(0,r.rg)(t,e)}):[]}})((t=n=function(e){(0,u.Z)(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.Z)(n);return t=r?(e=(0,d.Z)(this).constructor,a()(t,arguments,e)):t.apply(this,arguments),(0,f.Z)(this,t)});function o(){var e,r;(0,c.Z)(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=i.call.apply(i,E()(e=[this]).call(e,n)),(0,m.Z)((0,s.Z)(r),"getTopTags",function(){var n,e=r.props,t=e.gfyItems,a=e.keyword,i=y()(t=Z()(t=v()(t=E()(e=[]).apply(e,v()(t).call(t,function(e){return e.tags||[]}))).call(t,function(e){return b()(e=e.toLowerCase()).call(e).replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"")})).call(t,(n=a,function(t){var e;return n!==t&&3<t.length&&t.length<20&&p()(e=["gif","tag","gfycat","youtube","animated","giphy","#","celebs","celebrity"]).call(e,function(e){return-1===g()(t).call(t,e)})&&1<O(n,t)}))).call(t,function(e,t){return e[t]=e[t]?e[t]+1:1,e},{}),t=Z()(t=k()(i)).call(t,function(e){return 1<i[e]});return y()(t=C()(t).call(t,function(e,t){if(i[e]!==i[t])return i[t]-i[e];var n=Math.max(g()(e).call(e,a),g()(a).call(a,e)),r=Math.max(g()(t).call(t,a),g()(a).call(a,t));if(n!==r)return-1===n?1:-1===r?-1:n-r;e=w(a,e);return w(a,t)-e})).call(t,function(e,t){return!(5<=e.length)&&p()(e).call(e,function(e){return 2<O(t,e)})?E()(e).call(e,t):e},[])}),r}return(0,l.Z)(o,[{key:"shouldComponentUpdate",value:function(e){return e.items.length!==this.props.items.length||e.keyword!==this.props.keyword}},{key:"render",value:function(){var e=this.props,t=e.context,n=e.keyword,r=e.maxNumberOfTags,a=e.tagUrl,i=e.title,e=this.getTopTags();r&&(e=T()(e).call(e,0,r));n={context:t,keyword:n};return I.createElement("div",{className:"related-search"},i?I.createElement("div",{className:"related-search__title"},i):null,I.createElement(N.Z,{analyticsParams:n,linkPrefix:a,tags:e}))}}]),o}(I.Component),(0,m.Z)(n,"defaultProps",{tagUrl:"/gifs/search",items:[]}),t=t))||t},11690:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(50049).vU)({metaTitle:{id:"HOME.META_TITLE",defaultMessage:"Watch and Create GIFs, Videos, Memes",description:"Home page meta title"},trendingSectionTitle:{id:"HOME.SECTION_TITLE_TRENDING",defaultMessage:"Featured Trending GIFs",description:"Trending section title"},trendingSectionLink:{id:"HOME.SECTION_LINK_TRENDING",defaultMessage:"See more trending GIFs",description:"Trending section link"},popularSectionTitle:{id:"HOME.SECTION_TITLE_POPULAR",defaultMessage:"Popular GIFs",description:"Popular section title"},popularSectionLink:{id:"HOME.SECTION_LINK_POPULAR",defaultMessage:"See more popular GIFs",description:"Popular section link"},followingSectionTitle:{id:"HOME.SECTION_TITLE_FOLLOWING",defaultMessage:"GIFs from People You Follow",description:"Following section title"},followingSectionLink:{id:"HOME.SECTION_LINK_FOLLOWING",defaultMessage:"See more following GIFs",description:"Popular section link"},gamingSectionTitle:{id:"HOME.SECTION_TITLE_GAMING",defaultMessage:"Gaming GIFs",description:"Gaming section title"},gamingSectionLink:{id:"HOME.SECTION_LINK_GAMING",defaultMessage:"See more gaming GIFs",description:"Gaming section link"},reactionSectionTitle:{id:"HOME.SECTION_TITLE_REACTION",defaultMessage:"Reaction GIFs",description:"Reaction section title"},reactionSectionLink:{id:"HOME.SECTION_LINK_REACTION",defaultMessage:"See more reaction GIFs",description:"Reaction section link"},stickerSectionTitle:{id:"HOME.SECTION_TITLE_STICKER",defaultMessage:"Sticker GIFs",description:"Sticker section title"},stickerSectionLink:{id:"HOME.SECTION_LINK_STICKER",defaultMessage:"See more sticker GIFs",description:"Sticker section link"},trendingTagsTitle:{id:"HOME.TRENDING_TAGS_TITLE",defaultMessage:"Current trending tags",description:"Trending tags title"}})},35901:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ge});var r=n(1068),c=n.n(r),l=n(20530),s=n(26849),u=n(97647),f=n(81010),d=n(10891),m=n(67294),a=n(49140),i=n(18446),o=n.n(i),h=n(86902),p=n.n(h),g=n(14310),v=n.n(g),E=n(20116),y=n.n(E),Z=n(34074),b=n.n(Z),t=n(78914),k=n.n(t),r=n(39649),C=n.n(r),i=n(20368),T=n.n(i),h=n(63978),I=n.n(h),N=n(30081),w=n(71509),g=n(77766),O=n.n(g),E=n(31581),S=n.n(E),Z=n(33032),_=n.n(Z),t=n(23353),M=n.n(t),x=n(53667),r=n(71114);function R(t,e){var n,r=p()(t);return v()&&(n=v()(t),e&&(n=y()(n).call(n,function(e){return b()(t,e).enumerable})),r.push.apply(r,n)),r}function L(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};e%2?k()(n=R(Object(r),!0)).call(n,function(e){(0,w.Z)(t,e,r[e])}):C()?T()(t,C()(r)):k()(n=R(Object(r))).call(n,function(e){I()(t,e,b()(r,e))})}return t}const F=(0,a.connect)(null,{sendEvent:r.qP})(i=function(e){(0,u.Z)(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!c())return!1;if(c().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(c()(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.Z)(n);return t=r?(e=(0,d.Z)(this).constructor,c()(t,arguments,e)):t.apply(this,arguments),(0,f.Z)(this,t)});function o(){var e,t;(0,l.Z)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=i.call.apply(i,O()(e=[this]).call(e,r)),(0,w.Z)((0,N.Z)(t),"state",{config:{}}),(0,w.Z)((0,N.Z)(t),"loadConfig",function(){window.TAKEOVER?t.setState({config:window.TAKEOVER}):(t.loadCheckInterval=S()(function(){window.TAKEOVER&&(t.clearMemory(),t.setState({config:window.TAKEOVER}))},100),t.loadConfigTimeout=_()(function(){clearInterval(t.loadCheckInterval)},5e3))}),(0,w.Z)((0,N.Z)(t),"clearMemory",function(){clearTimeout(t.loadConfigTimeout),clearInterval(t.loadCheckInterval)}),(0,w.Z)((0,N.Z)(t),"handleClick",function(){var e=t.state.config.context;t.props.sendEvent({event:"takeover_click",params:L({},e&&{context:e})})}),t}return(0,s.Z)(o,[{key:"componentDidMount",value:function(){this.loadConfig()}},{key:"componentWillUnmount",value:function(){this.clearMemory()}},{key:"render",value:function(){var e=this.state.config,t=e.backgroundColor,n=e.context,r=e.imageUrl,a=e.pageUrl,e=e.width;if(!r)return null;n=m.createElement(m.Fragment,null,m.createElement("div",{className:"background-takeover",style:{backgroundColor:t||"#000",backgroundImage:"url(".concat(r,")"),maxWidth:e}}),m.createElement(x.Z,{event:"takeover_impression",params:L({},n&&{context:n})}));return m.createElement(M(),{className:"body--background-takeover"},a?m.createElement("a",{href:a,rel:"noopener noreferrer",target:"_blank",onClick:this.handleClick},n):n)}}]),o}(m.Component))||i;var P=n(33644),G=n(28529),H=n(7136),h=n(6111),g=n(2991),U=n.n(g),E=n(3649),B=n.n(E),A=n(44012),Z=n(69983),W=n.n(Z),D=n(43903),V=n(61156),K=n(65589),j="homepage",q="follow",z="gaming",X="popular",Q="reactions",Y="stickers",J="trending",$=n(11690);const ee=(0,a.connect)(function(e){return{gaming:(0,V.hD)(e,z),reactions:(0,V.mx)(e,Q)}})(function(e){var t=e.gaming,n=e.reactions,r={},t=U()(e=B()(t=y()(e=t.items).call(e,function(e){return!(0,K.Gy)(e.tag)})).call(t,0,5)).call(e,function(e){var t=e.tag,e=e.tagText;return r[e]="/gifs/tag/".concat((0,K.wN)(t)),e}),n=U()(e=B()(n=y()(e=n.items).call(e,function(e){return!(0,K.Gy)(e.tag)})).call(n,0,5)).call(e,function(e){var t=e.tag,e=e.tagText;return r[e]="/discover/".concat((0,K.Xu)(t),"-gifs"),e}),n=W()(O()(e=[]).call(e,t,n));return m.createElement("div",{className:"trending-tags"},m.createElement("h2",null,m.createElement(A.Z,$.Z.trendingTagsTitle)),m.createElement(D.Z,{analyticsParams:{context:j,keyword:"trending-tags"},tags:n,urlPattern:function(e){return r[e]}}))});var te=n(61409),t=(n(45697),n(94184)),ne=n.n(t),re=n(10754),ae=n(9375),ie=n(30559),oe=function(e){(0,u.Z)(a,e);var n,r,t=(n=a,r=function(){if("undefined"==typeof Reflect||!c())return!1;if(c().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(c()(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.Z)(n);return t=r?(e=(0,d.Z)(this).constructor,c()(t,arguments,e)):t.apply(this,arguments),(0,f.Z)(this,t)});function a(){return(0,l.Z)(this,a),t.apply(this,arguments)}return(0,s.Z)(a,[{key:"render",value:function(){var e=this.props,t=e.gfyItem,e=e.isStatic;return m.createElement("div",{className:"horizontal-scroll__item",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},m.createElement(te.rU,{to:"/".concat((0,ie.K)(t))},m.createElement(ae.Ee,{gfyItem:t,forceHigherQuality:!0,isStatic:e})))}}]),a}(m.Component),ce=n(17146),le=n(20010);function se(t,e){var n,r=p()(t);return v()&&(n=v()(t),e&&(n=y()(n).call(n,function(e){return b()(t,e).enumerable})),r.push.apply(r,n)),r}const ue=(0,a.connect)(function(t,e){var n=e.feed,r=e.numberOfItems,n=r?B()(e=n.items).call(e,0,r):n.items;return{items:U()(n).call(n,function(e){return(0,V.rg)(t,e)}),mobile:t.renderConfig.mobile}},{sendEvent:r.qP})((g=i=function(e){(0,u.Z)(a,e);var n,r,t=(n=a,r=function(){if("undefined"==typeof Reflect||!c())return!1;if(c().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(c()(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.Z)(n);return t=r?(e=(0,d.Z)(this).constructor,c()(t,arguments,e)):t.apply(this,arguments),(0,f.Z)(this,t)});function a(e){var n;return(0,l.Z)(this,a),n=t.call(this,e),(0,w.Z)((0,N.Z)(n),"state",{rightControl:!0,leftControl:!1,hover:!1}),(0,w.Z)((0,N.Z)(n),"handleIntersect",function(n){return function(e,t){k()(e).call(e,function(e){n({intersectionRatio:e.intersectionRatio,visible:e.isIntersecting})})}}),(0,w.Z)((0,N.Z)(n),"updateControlsVisibility",function(e){e=e.target,e={leftControl:0!==e.scrollLeft,rightControl:e.scrollWidth-e.offsetWidth!==e.scrollLeft};e.leftControl===n.state.leftControl&&e.rightControl===n.state.rightControl||n.setState(function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};e%2?k()(n=se(Object(r),!0)).call(n,function(e){(0,w.Z)(t,e,r[e])}):C()?T()(t,C()(r)):k()(n=se(Object(r))).call(n,function(e){I()(t,e,b()(r,e))})}return t}({},e))}),(0,w.Z)((0,N.Z)(n),"handleContainerScroll",function(e){e.preventDefault(),n.updateControlsVisibility(e)}),(0,w.Z)((0,N.Z)(n),"handleWheel",function(e){0!==Math.abs(e.deltaX)&&e.preventDefault()}),(0,w.Z)((0,N.Z)(n),"handleRightClick",function(){var e=n.containerRef.current;e.scrollBy({left:e.offsetWidth,behavior:"smooth"}),n.props.sendEvent({event:"horizontal_feed_control_click",params:{type:"rigth"}})}),(0,w.Z)((0,N.Z)(n),"handleLeftClick",function(){var e=n.containerRef.current;e.scrollBy({left:-e.offsetWidth,behavior:"smooth"}),n.props.sendEvent({event:"horizontal_feed_control_click",params:{type:"left"}})}),(0,w.Z)((0,N.Z)(n),"handleMouseEnter",function(){n.setState({hover:!0})}),(0,w.Z)((0,N.Z)(n),"handleMouseLeave",function(){n.setState({hover:!1})}),(0,w.Z)((0,N.Z)(n),"handleVisibilityChange",function(e){var t=e.visible;n.setState({visible:t},function(){t&&n.props.onVisibilityChange&&(n.props.onVisibilityChange(),n.props.mobile||n.containerRef.current.addEventListener("wheel",n.handleWheel))})}),n.containerRef=m.createRef(),n}return(0,s.Z)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!o()(e,this.props)||!o()(t,this.state)}},{key:"componentWillUnmount",value:function(){this.props.mobile||this.containerRef.current.removeEventListener("wheel",this.handleWheel)}},{key:"render",value:function(){var e=this.props,t=e.contentHeight,n=e.items,r=e.mobile,a=this.state,i=a.leftControl,e=a.rightControl,o=a.hover,a=a.visible,n=m.createElement("div",{className:"horizontal-scroll__items",style:{height:t},ref:this.containerRef,onScroll:this.handleContainerScroll},a?U()(n).call(n,function(e,t){return m.createElement(oe,{key:"item-".concat(e.gfyId),gfyItem:e,isStatic:!o})}):null);return m.createElement("div",{className:"horizontal-scroll-feed",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},a?n:m.createElement(ce.Z,{onChange:this.handleVisibilityChange},n),r?null:m.createElement(m.Fragment,null,m.createElement("div",{className:ne()("control control__left",{visible:i}),onClick:this.handleLeftClick},m.createElement(re.Z,{className:"ic",svg:le.Z})),m.createElement("div",{className:ne()("control control__right",{visible:e}),onClick:this.handleRightClick},m.createElement(re.Z,{className:"ic",svg:le.Z}))))}}]),a}(m.Component),(0,w.Z)(i,"defaultProps",{contentHeight:200}),E=g))||E;var fe=n(2803),de=(0,a.connect)(null,{sendEvent:r.qP})(Z=function(e){(0,u.Z)(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!c())return!1;if(c().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(c()(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.Z)(n);return t=r?(e=(0,d.Z)(this).constructor,c()(t,arguments,e)):t.apply(this,arguments),(0,f.Z)(this,t)});function o(){var e,r;(0,l.Z)(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=i.call.apply(i,O()(e=[this]).call(e,n)),(0,w.Z)((0,N.Z)(r),"handleClick",function(e){var t=r.props,n=t.analyticsContext;(0,t.sendEvent)({event:"homepage_click",params:{context:n}})}),r}return(0,s.Z)(o,[{key:"render",value:function(){var e=this.props,t=e.url,e=e.text;return m.createElement("div",{className:"section-bottom"},m.createElement(te.rU,{className:"section-link",to:t,onClick:this.handleClick},m.createElement(A.Z,e),m.createElement(re.Z,{className:"ic",svg:fe.Z})))}}]),o}(m.Component))||Z,me=n(83428),t=n(20518);const he=(0,a.connect)(function(e){return{gamingFeed:(0,V.nJ)(e,z)}},{beginTagSearch:t.p,sendEvent:r.qP})(function(e){var t=e.beginTagSearch,n=e.gamingFeed,r=e.sendEvent;return m.createElement("section",null,m.createElement("div",{className:"section-header"},m.createElement(te.rU,{to:"/gaming",onClick:function(e){r({event:"homepage_click",params:{context:z}})}},m.createElement("h1",null,m.createElement(A.Z,$.Z.gamingSectionTitle))),m.createElement(me.Z,{items:n.items,context:j,keyword:z,maxNumberOfTags:4,tagUrl:"/gifs/tag"})),m.createElement("div",{className:"section-content"},m.createElement(ue,{feed:n,numberOfItems:10,onVisibilityChange:function(){t({tagName:z,count:30})}})),m.createElement(de,{analyticsContext:z,url:"/gaming",text:$.Z.gamingSectionLink}))});n(68309);function pe(e){var t=e.items,n={},t=O()(e=[]).call(e,ge()(new(ve())(U()(t=B()(t).call(t,0,4)).call(t,function(e){var t=e.userData?e.userData.name||e.userData.username:e.userName;return n[t]=e.userName,t}))));return m.createElement(D.Z,{analyticsParams:{context:j,keyword:q},tags:t,urlPattern:function(e){return"@".concat(n[e])}})}var i=n(66419),ge=n.n(i),g=n(36384),ve=n.n(g);const Ee=(0,a.connect)(function(e){var t=(0,V.QY)(e);return{followFeed:t,followFeedItems:(0,V.ib)(e,t)}},{sendEvent:r.qP})(function(e){var t=e.followFeed,n=e.followFeedItems,r=e.sendEvent;return t.items&&t.items.length?m.createElement("section",{className:"section--follow"},m.createElement("div",{className:"section-header"},m.createElement(te.rU,{to:"/feed",onClick:function(e){r({event:"homepage_click",params:{context:q}})}},m.createElement("h1",null,m.createElement(A.Z,$.Z.followingSectionTitle))),m.createElement(pe,{items:n})),m.createElement("div",{className:"section-content"},m.createElement(ue,{feed:t,numberOfItems:10})),m.createElement(de,{analyticsContext:q,url:"/feed",text:$.Z.followingSectionLink})):null});var ye=n(77595);const Ze=(0,a.connect)(function(e){return{leaderboard:(0,V.Zp)(e)}})((Z=E=function(e){(0,u.Z)(a,e);var n,r,t=(n=a,r=function(){if("undefined"==typeof Reflect||!c())return!1;if(c().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(c()(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.Z)(n);return t=r?(e=(0,d.Z)(this).constructor,c()(t,arguments,e)):t.apply(this,arguments),(0,f.Z)(this,t)});function a(){return(0,l.Z)(this,a),t.apply(this,arguments)}return(0,s.Z)(a,[{key:"render",value:function(){var e=this.props,t=e.leaderboard,e=e.numberOfShown;return t.isReady?m.createElement("div",{className:"leaderboard-container"},m.createElement("h2",{className:"title"},m.createElement(A.Z,{id:"LEADERBOARD.TITLE",defaultMessage:"The Week's Top Creators",description:"Title of the weekly leaderboard"})),m.createElement(ye.Z,{numberOfShown:e})):null}}]),a}(m.Component),(0,w.Z)(E,"fetchInitialData",function(e,t){return ye.Z.fetchInitialData(e,t)}),i=Z))||i,be=(0,a.connect)(function(e){return{popularFeed:(0,V.nJ)(e,"_gfycat_all_trending")}},{beginTagSearch:t.p,sendEvent:r.qP})(function(e){var t=e.popularFeed,n=e.beginTagSearch,r=e.sendEvent;return m.createElement("section",null,m.createElement("div",{className:"section-header"},m.createElement(te.rU,{to:"/popular-gifs",onClick:function(e){r({event:"homepage_click",params:{context:X}})}},m.createElement("h1",null,m.createElement(A.Z,$.Z.popularSectionTitle))),m.createElement(me.Z,{items:t.items,keyword:X,tagUrl:"/gifs/tag",context:j,maxNumberOfTags:4})),m.createElement("div",{className:"section-content"},m.createElement(ue,{onVisibilityChange:function(){n({tagName:"_gfycat_all_trending",count:30})},feed:t,numberOfItems:10})),m.createElement(de,{analyticsContext:X,url:"/popular-gifs",text:$.Z.popularSectionLink}))});g=n(36015);const ke=(0,a.connect)(function(e){var t=(0,V.wb)(e,Q);return{reactionsFeed:t,reactionsFeedItems:(0,V.ib)(e,t)}},{beginFeaturedGifsFeed:g.r,sendEvent:r.qP})(function(e){var t=e.beginFeaturedGifsFeed,n=e.reactionsFeed,r=e.reactionsFeedItems,a=e.sendEvent,r=B()(r=(0,K.Bm)(r,Q)).call(r,0,4);return m.createElement("section",null,m.createElement("div",{className:"section-header"},m.createElement(te.rU,{to:"/featured/reactions",onClick:function(e){a({event:"homepage_click",params:{context:Q}})}},m.createElement("h1",null,m.createElement(A.Z,$.Z.reactionSectionTitle))),m.createElement(D.Z,{analyticsParams:{context:j,keyword:Q},tags:r,urlPattern:function(e){return"/discover/".concat((0,K.Xu)(e),"-gifs")}})),m.createElement("div",{className:"section-content"},m.createElement(ue,{feed:n,numberOfItems:10,onVisibilityChange:function(){t({term:Q,count:30})}})),m.createElement(de,{analyticsContext:Q,url:"/featured/reactions",text:$.Z.reactionSectionLink}))});E=n(91255);const Ce=(0,a.connect)(function(e){return{stickersFeed:(0,V._e)(e)}},{beginStickersFeed:E.P,sendEvent:r.qP})(function(e){var t=e.beginStickersFeed,n=e.stickersFeed,r=e.sendEvent;return m.createElement("section",null,m.createElement("div",{className:"section-header"},m.createElement(te.rU,{to:"/stickers",onClick:function(e){r({event:"homepage_click",params:{context:Y}})}},m.createElement("h1",null,m.createElement(A.Z,$.Z.stickerSectionTitle))),m.createElement(me.Z,{items:n.items,context:j,tagUrl:"/stickers/search",keyword:Y,maxNumberOfTags:4})),m.createElement("div",{className:"section-content"},m.createElement(ue,{feed:n,numberOfItems:20,contentHeight:150,onVisibilityChange:function(){t()}})),m.createElement(de,{analyticsContext:Y,url:"/stickers",text:$.Z.stickerSectionLink}))});var Te=n(89171),Z=n(39066),Ie=n.n(Z),Ne=n(29309);function we(t,e){var n,r=p()(t);return v()&&(n=v()(t),e&&(n=y()(n).call(n,function(e){return b()(t,e).enumerable})),r.push.apply(r,n)),r}const Oe=(0,a.connect)(function(e){return{hydrated:(0,V.p5)(e)}})((t=i=function(e){(0,u.Z)(a,e);var n,r,t=(n=a,r=function(){if("undefined"==typeof Reflect||!c())return!1;if(c().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(c()(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.Z)(n);return t=r?(e=(0,d.Z)(this).constructor,c()(t,arguments,e)):t.apply(this,arguments),(0,f.Z)(this,t)});function a(e){var r;return(0,l.Z)(this,a),r=t.call(this,e),(0,w.Z)((0,N.Z)(r),"state",{}),(0,w.Z)((0,N.Z)(r),"recalc",function(){var e=r.props,t=e.items,n=e.maxNumberRows,e=e.targetRowHeight,n={containerWidth:r.containerWidth,containerPadding:0,boxSpacing:10,targetRowHeight:e,targetRowHeightTolerance:.25,maxNumRows:n},n=Ie()(U()(t).call(t,function(e){return e.width/e.height}),n);return r.setState(function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};e%2?k()(n=we(Object(r),!0)).call(n,function(e){(0,w.Z)(t,e,r[e])}):C()?T()(t,C()(r)):k()(n=we(Object(r))).call(n,function(e){I()(t,e,b()(r,e))})}return t}({},n)),n}),(0,w.Z)((0,N.Z)(r),"handleResize",function(){r.containerWidth=r.container.offsetWidth,r.recalc()}),r.containerRef=m.createRef(),r.props.hydrated||(r.containerWidth=964),r}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){this.container=this.containerRef.current,this.containerWidth=this.container.offsetWidth,this.recalc(),window.addEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e){this.props.items.length!==e.items.length&&this.recalc()}},{key:"render",value:function(){var e=this.props,i=e.items,o=e.context,t=this.state,e=(t.gridHeight,t.containerHeight),t=t.boxes;return m.createElement("div",{className:"horizontal-grid",style:{height:e},ref:this.containerRef},i&&t&&t.length?U()(t).call(t,function(e,t){var n=e.top,r=e.left,a=e.width,e=e.height;return m.createElement("div",{className:"horizontal-grid__item",style:{top:"".concat(n,"px"),left:"".concat(r,"px"),width:a,height:e},key:"horizontal-grid__item-".concat(t)},m.createElement(Ne.Z,{context:o,gfyItem:i[t],forceHigherQuality:!0}))}):null)}}]),a}(m.Component),(0,w.Z)(i,"defaultProps",{targetRowHeight:200}),g=t))||g,Se=(0,a.connect)(function(e){var t=(0,V.wb)(e,J);return{trendingFeed:t,trendingFeedItems:(0,V.ib)(e,t),mobile:e.renderConfig.mobile}},{sendEvent:r.qP})(function(e){var t=e.trendingFeed,n=e.trendingFeedItems,r=e.mobile,a=e.sendEvent,e=B()(e=(0,K.Bm)(n,J)).call(e,0,4);return m.createElement("section",{className:"section--top"},m.createElement("div",{className:"section-header"},m.createElement(te.rU,{to:"/discover/trending-gifs",onClick:function(e){a({event:"homepage_click",params:{context:J}})}},m.createElement("h1",null,m.createElement(A.Z,$.Z.trendingSectionTitle))),m.createElement(D.Z,{analyticsParams:{context:j,keyword:J},tags:e,urlPattern:function(e){return"/discover/".concat((0,K.Xu)(e),"-gifs")}})),m.createElement("div",{className:"section-content"},r?m.createElement(Te.Z,{context:j,items:B()(t=t.items).call(t,0,20)}):m.createElement(Oe,{context:"grid_homepage",maxNumberRows:2,items:B()(n).call(n,0,20)})),m.createElement(de,{analyticsContext:J,url:"/discover/trending-gifs",text:$.Z.trendingSectionLink}))});var E=n(36419),Z=n(14194),i=n(52266),t=n(91478),g=n(56474),_e=n.n(g),g=n(59340),Me=n.n(g),xe=n(63963),Re=n(12269);function Le(t,e){var n,r=p()(t);return v()&&(n=v()(t),e&&(n=y()(n).call(n,function(e){return b()(t,e).enumerable})),r.push.apply(r,n)),r}function Fe(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};e%2?k()(n=Le(Object(r),!0)).call(n,function(e){(0,w.Z)(t,e,r[e])}):C()?T()(t,C()(r)):k()(n=Le(Object(r))).call(n,function(e){I()(t,e,b()(r,e))})}return t}function Pe(e){var t=e.intl,n=e.items,e=U()(n).call(n,function(e){return"".concat((0,ie.K)(e))}),n="https://gfycat.com",e=(0,Re.Yp)(e,n,""),t=(0,xe.dK)({title:"Gfycat",titleEndingObject:$.Z.metaTitle,intl:t});return _e()(Fe(Fe({},t),{},{meta:[{name:"twitter:title",content:t.title},{property:"og:url",content:n},{property:"og:title",content:t.title}],script:[{type:"application/ld+json",innerHTML:Me()((0,Re.PN)())},{type:"application/ld+json",innerHTML:Me()(e)}]}))}var Ge=(0,a.connect)(function(e){return{isLoggedIn:(0,V.M7)(e),isPro:(0,V.Os)(e),trendingFeedItems:(0,V.ib)(e,(0,V.wb)(e,J))}},{beginFollowFeed:E.qO,beginLeaderboard:i.o,beginTrendingTags:Z.Ht,beginFeaturedTerm:t.ZK,sendEvent:r.qP})(h=(0,h.Z)("homepage_view")(h=function(e){(0,u.Z)(a,e);var n,r,t=(n=a,r=function(){if("undefined"==typeof Reflect||!c())return!1;if(c().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(c()(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.Z)(n);return t=r?(e=(0,d.Z)(this).constructor,c()(t,arguments,e)):t.apply(this,arguments),(0,f.Z)(this,t)});function a(){return(0,l.Z)(this,a),t.apply(this,arguments)}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){this.props.isLoggedIn&&this.props.beginFollowFeed(),this.props.beginLeaderboard(),this.props.beginTrendingTags({term:z,count:50}),this.props.beginFeaturedTerm({term:Q,count:50})}},{key:"shouldComponentUpdate",value:function(e,t){return!o()(e,this.props)||!o()(t,this.state)}},{key:"render",value:function(){var e=this.props,t=e.isPro,e=e.trendingFeedItems;return m.createElement(P.C,null,m.createElement("div",{className:"home-container"},m.createElement(G.Z,{meta:Pe,items:e}),m.createElement(F,null),m.createElement(Se,null),m.createElement("div",{className:"left-block"},m.createElement(be,null),m.createElement(Ee,null),m.createElement(he,null),m.createElement(ke,null),m.createElement(Ce,null)),m.createElement("div",{className:"right-block"},m.createElement(Ze,{numberOfShown:10}),m.createElement("div",null,m.createElement(ee,null),t?null:m.createElement(H.Z,{type:6})))))}}]),a}(m.Component))||h)||h},36419:(e,t,n)=>{"use strict";n.d(t,{qO:()=>b,MT:()=>k});var a=n(71509),t=n(93476),c=n.n(t),t=n(2991),l=n.n(t),t=n(86902),i=n.n(t),t=n(14310),o=n.n(t),t=n(20116),s=n.n(t),t=n(34074),u=n.n(t),t=n(78914),f=n.n(t),t=n(39649),d=n.n(t),t=n(20368),m=n.n(t),t=n(63978),h=n.n(t),p=n(8391),g=n(2142),v=n(68626),E=n(61156);function y(t,e){var n,r=i()(t);return o()&&(n=o()(t),e&&(n=s()(n).call(n,function(e){return u()(t,e).enumerable})),r.push.apply(r,n)),r}function r(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};e%2?f()(n=y(Object(r),!0)).call(n,function(e){(0,a.Z)(t,e,r[e])}):d()?m()(t,d()(r)):f()(n=y(Object(r))).call(n,function(e){h()(t,e,u()(r,e))})}return t}function Z(e){var i=e.count,o=e.begin;return function(n,e){var t=(0,E.QY)(e()),r=t.cursor,a=t.items,e=t.hasMore,t=t.promise;if(t)return t;if(!e||o&&(void 0===a?[]:a).length)return c().resolve();r=p.Z.getMyFollowFeed({count:i,cursor:r}).then(function(e){var t=e.cursor,e=e.gfycats;n((0,v.VX)(e)),n({type:g.dz,cursor:t,items:l()(e).call(e,function(e){return e.gfyId})})},function(e){e=e.errorMessage;n({type:g.VR,errorMessage:e})});return n({type:g.ah}),r}}var b=function(e){return Z(r(r({},e),{},{begin:!0}))},k=function(e){return Z(r({},e))}},52266:(e,t,n)=>{"use strict";n.d(t,{o:()=>b,p:()=>k});var a=n(71509),t=n(93476),c=n.n(t),t=n(78914),l=n.n(t),t=n(2991),s=n.n(t),t=n(86902),i=n.n(t),t=n(14310),o=n.n(t),t=n(20116),u=n.n(t),t=n(34074),f=n.n(t),t=n(39649),d=n.n(t),t=n(20368),m=n.n(t),t=n(63978),h=n.n(t),p=n(8391),g=n(61156),v=n(2684),E=n(19330);function y(t,e){var n,r=i()(t);return o()&&(n=o()(t),e&&(n=u()(n).call(n,function(e){return f()(t,e).enumerable})),r.push.apply(r,n)),r}function r(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};e%2?l()(n=y(Object(r),!0)).call(n,function(e){(0,a.Z)(t,e,r[e])}):d()?m()(t,d()(r)):l()(n=y(Object(r))).call(n,function(e){h()(t,e,f()(r,e))})}return t}function Z(e){var t=e.count,i=void 0===t?10:t,o=e.begin;return function(n,e){var t=(0,g.Zp)(e()),r=t.cursor,a=t.isReady,e=t.promise,t=t.hasMore;if(e)return e;if(o&&a||!t)return c().resolve();r=(0,v.J)(p.Z.getLeaderboard({cursor:r,count:i})).then(function(e){var t=e.users,e=e.cursor;l()(t).call(t,function(e){e.userid=e.username.toLowerCase()}),n({type:E.yp,cursor:e,items:s()(t).call(t,function(e){return e.userid}),users:t})},function(e){e=e.errorMessage;return n({type:E.wy,errorMessage:e}),c().reject(e)});return n({type:E.XR,promise:r}),r}}var b=function(e){return Z(r(r({},e),{},{begin:!0}))},k=function(e){return Z(r(r({},e),{},{begin:!1}))}},79145:()=>{}}]);

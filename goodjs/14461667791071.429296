!function(){var o={862:function(t,e,n){var o,i;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s,a=n(687),u=a.parseContentForEvent,d=a.getLinkType;(function(){"use strict";var l,e;function c(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,t=e.width*e.height,e=this.intersectionRect,e=e.width*e.height;this.intersectionRatio=t?Number((e/t).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var n,o,i,e=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i=i||setTimeout(function(){n(),i=null},o)}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(e.rootMargin),this.thresholds=this._initThresholds(e.threshold),this.root=e.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function n(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function o(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function h(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?e=!e.width||!e.height?{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}:e:{top:0,bottom:0,left:0,right:0,width:0,height:0}}function i(t,e){for(var n=e;n;){if(n==t)return!0;n=b(n)}return!1}function b(t){t=t.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}"object"==("undefined"==typeof window?"undefined":r(window))&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(l=window.document,e=[],t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){t=t||[0];return(t=!Array.isArray(t)?[t]:t).sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},t.prototype._parseRootMargin=function(t){t=(t||"0px").split(/\s+/).map(function(t){t=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(n(window,"resize",this._checkForIntersections,!0),n(l,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(l,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(window,"resize",this._checkForIntersections,!0),o(l,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var s=this._rootIsInDom(),a=s?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(t){var e=t.element,n=h(e),o=this._rootContainsTarget(e),i=t.entry,r=s&&o&&this._computeTargetAndRootIntersection(e,a),r=t.entry=new c({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:n,rootBounds:a,intersectionRect:r});i?s&&o?this._hasCrossedThreshold(i,r)&&this._queuedEntries.push(r):i&&i.isIntersecting&&this._queuedEntries.push(r):this._queuedEntries.push(r)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=window.getComputedStyle(t).display){for(var n,o,i,r,s=h(t),a=b(t),c=!1;!c;){var u=null,d=1==a.nodeType?window.getComputedStyle(a):{};if("none"==d.display)return;if(a==this.root||a==l?(c=!0,u=e):a!=l.body&&a!=l.documentElement&&"visible"!=d.overflow&&(u=h(a)),u&&(i=u,r=s,n=Math.max(i.top,r.top),o=Math.min(i.bottom,r.bottom),d=Math.max(i.left,r.left),u=o-n,!(s=0<=(r=(i=Math.min(i.right,r.right))-d)&&0<=u&&{top:n,bottom:o,left:d,right:i,width:r,height:u})))break;a=b(a)}return s}},t.prototype._getRootRect=function(){var t,e;return e=this.root?h(this.root):(t=l.documentElement,e=l.body,{top:0,left:0,right:t.clientWidth||e.clientWidth,width:t.clientWidth||e.clientWidth,bottom:t.clientHeight||e.clientHeight,height:t.clientHeight||e.clientHeight}),this._expandRectByRootMargin(e)},t.prototype._expandRectByRootMargin=function(n){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?n.width:n.height)/100}),t={top:n.top-t[0],right:n.right+t[1],bottom:n.bottom+t[2],left:n.left-t[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},t.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},t.prototype._rootIsInDom=function(){return!this.root||i(l,this.root)},t.prototype._rootContainsTarget=function(t){return i(this.root||l,t)},t.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},t.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=c))})(),"function"!=typeof window.CustomEvent&&((s=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype,window.CustomEvent=s),o=function(){var v="data-bbc-uah-id";return function(n,o){var t={attributes:!0,attributeFilter:[v],attributeOldValue:!0,childList:!0,subtree:!0},i={attributes:!0,attributeFilter:["style"],attributeOldValue:!0,childList:!0,subtree:!0},r={},s=0;new MutationObserver(f).observe(document,t);var a=new IntersectionObserver(function(t){t.forEach(function(t){var n=u(t.target);.5<=t.intersectionRatio?n.timeoutId=setTimeout(function(){var t,e;e=(t=n).element,"hidden"!==window.getComputedStyle(e).visibility?(d(t.contentId),o(t.element)):new MutationObserver(f).observe(t.element,i)},1e3):(clearTimeout(n.timeoutId),n.timeoutId=null)})},{threshold:[.5]});function e(t){var e=Array.prototype.slice.call(t.querySelectorAll(n));return t.matches(n)&&e.push(t),e}function c(t){return t.bbcUahId}function u(t){t=c(t);if(t){t=r[t];if(t)return t}return null}function d(t){var e=r[t];e&&(a.unobserve(e.element),e.timeoutId&&clearTimeout(e.timeoutId),delete r[t])}function l(t){var e;u(t)||((e=t.getAttribute(v))||(e="uah_autoid_"+s,s++),e=e,(t=t).bbcUahId=e,a.observe(t),r[e]={element:t,contentId:e,timeoutId:null})}function h(t){e(t).forEach(l)}function b(t){e(t).map(c).forEach(d)}function p(t){return t instanceof Element||t instanceof HTMLDocument}function f(t){t.forEach(function(t){var e,n,o;"childList"===t.type?(Array.prototype.slice.call(t.addedNodes).filter(p).forEach(h),Array.prototype.slice.call(t.removedNodes).filter(p).forEach(b)):"attributes"===t.type&&(n=t.target,o=t.target.getAttribute(t.attributeName),e=t.oldValue,"style"===t.attributeName&&void 0!==t.target.dataset&&"true"===t.target.dataset.doNotTrack||("style"===t.attributeName&&(t.target.dataset.doNotTrack="true"),null!==o?null===e?((o=c(t=n))&&d(o),l(t)):(n=n,d(e),l(n)):d(e)))})}h(document.body)}}.call((s={id:"detectview",exports:{},loaded:!1}).exports,n,s.exports,s),s.loaded=!0,void 0!==o||(o=s.exports),i=function(){return function t(e,n){return e.matches(n)?e:!!e.parentElement&&t(e.parentElement,n)}}.call((s={id:"getParentWithSelector",exports:{},loaded:!1}).exports,n,s.exports,s),s.loaded=!0,void 0!==i||(i=s.exports),Promise.resolve().then(function(){!function(t){window.addEventListener("pageshow",function(t){var e=navigator.vendor&&-1<navigator.vendor.indexOf("Apple");t.persisted&&e&&document.location.reload()}),t("[data-v-item],[data-bbc-context],[data-bbc-container]",function(t){var e;t.hasAttribute("data-bbc-ignore-views")||((e=u(t)).event=e.event||{},e.event.action="view",e=new window.CustomEvent("bbc-user-event",{bubbles:!0,detail:e}),t.dispatchEvent(e))})}.apply(null,[o])}).catch(n.oe),Promise.resolve().then(function(){!function(a){function c(t){return null===t.which?4===t.button:1===t.button}function e(t){var e,n,o,i,r,s;0!==t.button&&!c(t)||(r=a(t.target,"[data-v-item]")||a(t.target,"[data-bbc-container]"),e=a(t.target,"a, button, input, select"),"external"!==(i=d(e))||(r=r||a(t.target,"a:not([data-bbc-notrack])"))&&r.hasAttribute("istats-notrack")&&(r=!1),r&&e&&(n="A"===e.tagName,o=-1===["download","email"].indexOf(i),i=r.hasAttribute("data-bbc-client-routed")||e.hasAttribute("data-bbc-client-routed"),i=n&&o&&!i&&window.__detectview.clickManagementEnabled,(r=u(r)).originalEvent=t,r.isClick=!0,r.event=r.event||{},r.event.action="select",i&&(s=e,(t=t).altKey||t.ctrlKey||t.metaKey||t.shiftKey||c(t)||s.target&&!s.target.match(/^_(self|parent|top)$/i)||(t.preventDefault(),setTimeout(function(){window.location.href=s.href},1500)),r.elem=e),r=new window.CustomEvent("bbc-user-click",{bubbles:!0,detail:r}),e.dispatchEvent(r)))}["click","auxclick"].forEach(function(t){document.body.addEventListener(t,e)}),window.__detectview=window.__detectview||{clickManagementEnabled:!1},window&&window.__reverb&&window.__reverb.__reverbLoadedPromise&&window.__reverb.__reverbLoadedPromise.then(function(){window.__detectview.clickManagementEnabled=!0}).catch(function(){})}.apply(null,[i])}).catch(n.oe)},687:function(t){function s(n){for(var t=arguments.length,e=new Array(1<t?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return e.reduce(function(t,e){return t||n.getAttribute(e)},void 0)}function a(t){var e={internalUrl:/^(?:#(?:[^.]+\.)*)|(?:\/\/|https?:\/\/)?(?:[^.]+\.)*((bbc|bbci)(?:\.co\.uk|\.com))(:|\/|$)/i,downloadUrl:/.+\.(pdf|te?xt|rtf|docx?|xlsx?|pptx?|od[tpsgbf]|mp[234]|m4a|mpeg|exe|dmg|zip|tgz)$/i,email:/^mailto:/i};return t.href&&""!==t.href?e.email.test(t.href)?"email":e.internalUrl.test(t.href)||t.host===window.location.host?"internal":e.downloadUrl.test(t.href)?"download":"external":"none"}t.exports={getLinkType:a,parseContentForEvent:function(t){var e=function t(e){if("A"===e.tagName&&e.getAttribute("href"))return e;for(var n=e.getElementsByTagName("a"),o=0;o<n.length;o++){var i=t(n[o]);if(i)return i}}(t),n=e&&e.getAttribute("href"),o=JSON.parse(t.getAttribute("data-bbc-metadata"))||{};n&&"external"===a(e)&&!o.hasOwnProperty("EXT")&&(o.EXT=1);var i,r={container:s(t,"data-bbc-container","data-bbc-context"),label:s(t,"data-bbc-title","data-bbc-content-label")||t.innerText.trim().split("\n")[0],type:t.getAttribute("data-bbc-event-type")||void 0,source:t.getAttribute("data-bbc-source")||void 0,personalisation:JSON.parse(t.getAttribute("data-bbc-personalisation"))||{},metadata:o,result:t.getAttribute("data-bbc-result")||n||void 0,item:JSON.parse(t.getAttribute("data-v-item"))||void 0,group:JSON.parse(t.getAttribute("data-v-group"))||void 0,user:JSON.parse(t.getAttribute("data-v-user"))||void 0,event:JSON.parse(t.getAttribute("data-v-event"))||void 0};for(i in r)null!==r[i]&&void 0!==r[i]||delete r[i];return r}}}},i={};!function t(e){var n=i[e];if(void 0!==n)return n.exports;n=i[e]={exports:{}};return o[e](n,n.exports,t),n.exports}(862)}();

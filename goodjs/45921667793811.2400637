(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{358:function(e,a,t){"use strict";t.r(a),t.d(a,"default",function(){return n});var a=t(6),h=t.n(a),w=t(310);function y(e,a,t,n,o,s,r){try{var c=e[s](r),l=c.value}catch(e){return t(e),0}c.done?a(l):Promise.resolve(l).then(n,o)}var k={"2021-01-01":{type:"full",reason:"New Years's Day"},"2021-01-18":{type:"full",reason:"Martin Luther King, Jr. Day"},"2021-02-15":{type:"full",reason:"President's Day"},"2021-04-02":{type:"full",reason:"Good Friday"},"2021-05-31":{type:"full",reason:"Memorial Day"},"2021-07-05":{type:"full",reason:"Indenpendence Day"},"2021-09-06":{type:"full",reason:"Labor Day"},"2021-11-25":{type:"full",reason:"Thanksgiving Day"},"2021-11-26":{type:"half",reason:"Black Friday"},"2021-12-24":{type:"full",reason:"Christmas Eve"}};function n(){function t(){var e;-1<f.state||(e=new Date,e=Object(w.a)(e,"America/New_York"),(e=v.open-e)<=0?m():(e={total:e=e,days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)},d.attr("data-value",e.hours),u.attr("data-value",e.minutes),p.attr("data-value","0".concat(e.seconds).slice(-2))))}function s(e){return["DJI","COMP","SP500"].includes(e)}var n,c,a,o=h()(".js-live-updates-module"),r=o.find(".js-loading-indices"),l=o.find(".js-market-status"),i=l.find(".js-label"),d=l.find(".js-hours"),u=l.find(".js-minutes"),p=l.find(".js-seconds"),f={state:void 0,label:""},v={now:void 0,open:void 0,close:void 0},m=function(){var e=new Date;v.now=Object(w.a)(e,"America/New_York"),v.open=Object(w.a)(e,"America/New_York"),v.close=Object(w.a)(e,"America/New_York");var a="".concat(v.now.getUTCFullYear(),"-").concat("0".concat(v.now.getUTCMonth()+1).slice(-2),"-").concat("0".concat(v.now.getUTCDate()).slice(-2)),e=k[a]||{type:"none"},a=v.now.getDay();"full"===e.type||(0===a||6===a)?(f.state=1,f.label="US Markets Closed"):(v.open.setHours(9,30,0,0),v.close.setHours(16,0,0,0),"half"===e.type&&v.close.setHours(13,0,0,0),v.open>v.now?(f.state=-1,f.label="US Markets Open In:"):v.close<v.now?(f.state=1,f.label="US Markets Closed"):(f.state=0,f.label="US Markets Open")),0<=f.state&&n?n=clearInterval(n):f.state<0&&!n&&(t(),n=setInterval(t,1e3)),l.attr("data-state",f.state),i.text(f.label)},e=Math.floor((new Date).getTime()/18e4);fetch("/ajax/finanzen-banner?cb=".concat(e),{method:"GET",credentials:"omit",mode:"cors"}).then((c=regeneratorRuntime.mark(function e(a){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(400<=a.status)throw new Error("Bad Response");e.next=2;break;case 2:return e.next=4,a.json();case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:t=e.t0,n=t.data,m(),setInterval(m,6e4),o="",Object.keys(n).forEach(function(e){e=n[e],e='\n    <a\n      class="live-updates-market-module-link"\n      href="'.concat(function(e){var a=e.symbol,t=s(a)?"index/":"stocks/",e=e.name.toLowerCase().split(" ").join("_");"nasdaq"===e&&(e="".concat(e,"_100"));a=s(a)?e:"".concat(a,"-stock");return"".concat("https://markets.businessinsider.com/").concat(t).concat(a)}(e),'"\n      data-track-module="markets-banner"\n      data-analytics-product-area="').concat(s(e.symbol)?"index":"stock",'"\n    >\n      <div class="live-markets-module-wrapper">\n        <h2 class="live-market-module-link-headline ').concat(0<=e.percentChange?"green":"red",'">\n          <div class="arrow-title-wrapper">\n            <div class="arrow-indicator"></div>\n            <span>').concat(s(e.symbol)?e.name:e.symbol,'</span>\n          </div>\n          <span class="headline-bold percent-indicator js-percent">').concat((e=e.percentChange)<=0?e:"+".concat(e),"%</span>\n        </h2>\n      </div>\n    </a>");o+=e}),r.html(o),o&&r.addClass("js-loaded-indices").removeClass("js-loading-indices");case 15:case"end":return e.stop()}},e)}),a=function(){var e=this,r=arguments;return new Promise(function(a,t){var n=c.apply(e,r);function o(e){y(n,a,t,o,s,"next",e)}function s(e){y(n,a,t,o,s,"throw",e)}o(void 0)})},function(e){return a.apply(this,arguments)})).catch(function(e){console.warn("Live Updates error",e),o.css({opacity:0})})}}}]);

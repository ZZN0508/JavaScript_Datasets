define([],function(){return s={},n={},{addToState:function(t){s[t.stateType]||(s[t.stateType]={counter:0}),s[t.stateType].counter+=1,a((s[t.stateType][t.name]=t).stateType)},getLastId:function(t){return s[t]||(s[t]={counter:0}),s[t].counter},getState:function(t){return t?(s[t]||(s[t]={counter:0}),s[t]):s},addSubscriber:function(t){n[t.name]=t,n[t.name].counter=0},setActive:function(t,e){s[t.stateType]||(s[t.stateType]={counter:1},s[t.stateType][t.name]=t),s[t.stateType][t.name].state.active=e,a(t.stateType,t.name)},setInit:function(t,e){s[t.stateType]||(s[t.stateType]={counter:1},s[t.stateType][t.name]=t),s[t.stateType][t.name].state.init=e,a(t.stateType,t.name)},getElement:function(t,e){return s[t][e]},getSubscribers:function(){return n},setStateProp:function(t,e,n){s[t.stateType]||(s[t.stateType]={counter:1},s[t.stateType][t.name]=t),s[t.stateType][t.name].state[e]=n,a(t.stateType,t.name)}};function a(t,e){e=e||null;e?n[t].updateElement(t,e):n[t].updateState(t)}var s,n});

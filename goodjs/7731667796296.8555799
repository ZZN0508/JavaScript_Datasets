(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+K5O":function(e,t,a){"use strict";var r=a("q1tI"),o=a.n(r),i=a("dtCM"),l=a("OPDf"),s=a("Jq/n"),c=a("hkbJ"),r=a("fSeh"),h=a.n(r),d=a("GcYn"),p=a("XFRP");t.a=function(e){var t=e.secondsSinceLastActivity,a=void 0===t?-1:t,r=e.theme,n=e.big,t=Object(c.a)(a),e=Math.ceil((a+1)/i.b.Hour),a=r&&Object(d.d)(r.backgroundColor,h.a.statusIndicator);return o.a.createElement("div",{className:Object(s.a)([t&&p.a.statusWithCaption]),style:r&&{color:Object(d.d)(r.backgroundColor,r.linkColor)}},o.a.createElement("div",{className:Object(s.a)({[p.a.statusIndicator]:!0,[p.a.statusIndicatorOnly]:!t,[p.a.big]:!t&&n}),style:a?{border:"1px solid ".concat(a)}:void 0}),t&&o.a.createElement(l.c,{comment:"Text shown next to status indicator. If there's a placeholder [number], it's the number of hours. Please treat it like the more-common %1$s placeholder.",number:e},o.a.createElement(l.b,null,"Active in the last hour"),o.a.createElement(l.a,null,"Active in the last [number] hours")))}},"+pLC":function(e,t,a){"use strict";a.d(t,"a",function(){return r});var o=a("zOq6");function r(e,t,a,r){var n;window.open(Object(o.a)(e,t),r,(n=a,Object.keys(n).reduce((e,t)=>e.concat("".concat(e.length?",":"").concat(t,"=").concat(n[t])),"")))}},"/I66":function(e,t,a){"use strict";var r=a("pVnL"),n=a.n(r),o=a("lSNA"),i=a.n(o),r=a("q1tI"),b=a.n(r),l=a("nA7Y"),v=a("pCNn"),f=a("xwdP"),E=a("vSkO"),k=a("USam"),C=a("12Gh"),w=a("xVcy"),S=a("OPDf"),o=a("y4uf"),y=a("Jq/n"),s=a("Qtnd"),x=a("3JrU"),I=a("ofoP"),O=a("9Nfv"),N=a("g2Yl");class c extends r.Component{constructor(){super(...arguments),i()(this,"state",{isSubscribed:this.props.subscribed,showPopover:!0}),i()(this,"apiHelper",Object(s.a)(this.props.appContext.apiFetch)),i()(this,"toggleSubscribe",()=>(this.props.appContext.logEvent({eventName:N.b.PeeprBlogSubscribe}),this.apiHelper.subscribeToBlog(this.props.blogName).fetch().then(()=>this.setState({isSubscribed:!0})))),i()(this,"toggleUnsubscribe",()=>(this.props.appContext.logEvent({eventName:N.b.PeeprBlogUnsubscribe}),this.apiHelper.unsubscribeToBlog(this.props.blogName).fetch().then(()=>this.setState({isSubscribed:!1})))),i()(this,"renderItems",e=>{var t=this.props,a=t.blogName,r=t.blogUrl,n=t.showFollowing,o=t.showAsk,i=t.showArchive,l=t.renderExportItems,s=t.renderMessaging,c=t.renderUnfollowButton,h=t.showSubmission,d=t.canSubscribe,p=t.analyticsUrl,m=t.appContext,u=m._c,g=m.isLoggedIn,t=this.state.isSubscribed,m=[];return i&&m.push(b.a.createElement(E.a,{krakenEventName:N.b.BlogArchiveClick,linkTo:"".concat(r,"archive"),className:O.a.meatballItem,key:"archive"},u("Menu item link to blog's archive page","Archive"))),m.push(b.a.createElement(k.a,{key:"promote",blogIdentifier:a,isPromoted:!1,onPromote:this.closePopover,className:O.a.meatballItem})),l&&m.push(Object(C.b)(r,O.a.meatballItem,this.props.appContext,!0)),s&&m.push(b.a.createElement(E.a,{krakenEventName:N.b.BlogMessageClick,onClick:this.props.clickSendAMessage,className:O.a.meatballItem,key:"message"},u("Menu item in dropdown","Send a Message"))),c&&m.push(b.a.createElement(E.a,{className:O.a.meatballItem,key:"unfollow",isWrappingButton:!0},b.a.createElement(w.a,{key:"unfollow",className:O.a.meatballItemReset,blogName:a,blogUrl:r,following:!0,showUnfollowText:!0,onFollow:this.props.clickUnfollowButton}))),g&&n&&m.push(b.a.createElement(E.a,{krakenEventName:N.b.BlogFollowingClick,linkTo:"".concat(x.a,"/followed/by/").concat(a),className:O.a.meatballItem,key:"following"},u("Link to blog's Following page","Following"))),o&&m.push(b.a.createElement(E.a,{krakenEventName:N.b.BlogAskClick,linkTo:Object(I.l)({postType:v.n.Ask,otherBlogName:a}),className:O.a.meatballItem,key:"ask"},u("Menu item link to blog's ask page","Ask"))),h&&m.push(b.a.createElement(E.a,{krakenEventName:N.b.BlogSubmitClick,linkTo:"".concat(r,"submit"),className:O.a.meatballItem,key:"submit"},u("Menu item link to blog's submission page","Submit"))),d&&m.push(b.a.createElement(E.a,{onClick:t?this.toggleUnsubscribe:this.toggleSubscribe,className:O.a.meatballItem,key:"notifications"},u("Menu item in dropdown",t?"Stop notifications":"Get notifications"))),p&&m.push(b.a.createElement(E.a,{linkTo:p,className:O.a.meatballItem,key:"analytics",alwaysExternalLink:!0},b.a.createElement(S.d,null,"Analytics"))),g&&!e&&m.push(b.a.createElement(E.a,{krakenEventName:N.b.BlogReportClick,linkTo:Object(f.c)(a,r,void 0,"blog"),className:Object(y.a)([O.a.meatballItem,O.a.red]),key:"report"},u("Menu item to report a post or blog","Report"))),m}),i()(this,"closePopover",()=>this.setState({showPopover:!1}))}componentDidUpdate(e){var t=this.props.subscribed,e=e.subscribed;!t&&e&&this.state.isSubscribed&&this.setState({isSubscribed:!1})}render(){return this.state.showPopover&&b.a.createElement(f.a,n()({},Object(f.b)(this.props),{width:200,renderItems:this.renderItems,popoverBoundary:l.a.ScrollParent,showOverflowY:!0}))}}t.a=Object(o.d)(c)},"/XX3":function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.b)({filledIcon:Object(r.c)(n.a.createElement("svg",{viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M10 0C4.5 0 0 4.5 0 10c0 2.1.6 4 1.7 5.6l-.6 3.9 4.2-.7c1.4.8 3.1 1.2 4.7 1.2 5.5 0 10-4.5 10-10S15.5 0 10 0zm3.2 11.1h-2.1v2.1c0 .6-.5 1.1-1.1 1.1-.6 0-1.1-.5-1.1-1.1v-2.1H6.8c-.6 0-1.1-.5-1.1-1.1 0-.6.5-1.1 1.1-1.1h2.1V6.8c0-.6.5-1.1 1.1-1.1.6 0 1.1.5 1.1 1.1v2.1h2.1c.6 0 1 .5 1 1.1 0 .6-.5 1-1 1.1z"}))),emptyIcon:Object(r.c)(n.a.createElement("svg",{viewBox:"0 0 24 24"},n.a.createElement("path",{d:"M4.27 17.436l.102-.38a1 1 0 00-.081-.727l-.184-.347a8.768 8.768 0 01-1.012-4.106C3.095 6.987 7.09 3 12.047 3 17.005 3 21 6.987 21 11.876c0 4.889-3.995 8.876-8.953 8.876a8.972 8.972 0 01-3.944-.905l-.335-.164a1 1 0 00-.696-.067l-.36.096-1.62.43a1 1 0 01-1.222-1.226l.4-1.48zm7.777 5.316c6.05 0 10.953-4.87 10.953-10.876C23 5.869 18.096 1 12.047 1 5.998 1 1.095 5.87 1.095 11.876c0 1.679.383 3.268 1.066 4.688.11.227.14.486.075.73l-1.2 4.45c-.2.741.482 1.42 1.228 1.22l4.602-1.224c.232-.062.478-.036.698.062 1.368.61 2.886.95 4.483.95zM12 7a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 110 2h-2a1 1 0 00-1 1v2a1 1 0 11-2 0v-2a1 1 0 00-1-1H8a1 1 0 110-2h2a1 1 0 001-1V8a1 1 0 011-1z"})))});n.defaultProps={size:{width:24,height:24},filledIconFillColor:a.white,emptyIconFillColor:a.white,filled:!0},t.a=n},"/pt9":function(e,t,a){"use strict";a.d(t,"a",function(){return N});function o(e){var t,a,c=e.chiclet,r=e.blog,n=[],o=[],e=!1;return Object(b.t)(c)&&(t=null===(a=c.links)||void 0===a?void 0:a.tap.href,n=function(){var e=[],t=c.links,a=c.objectData,r=a.displayStyle,n=a.title,o=a.body,i=a.backgroundImage,l=(null==t?void 0:t.tap.href)||"",s=i?[{url:i,width:100,height:100}]:[];switch(r){case p.d.Link:e.push(d()(d()({type:p.b.Link,url:l,displayUrl:l},n&&{title:n}),o&&{description:o}));break;case p.d.Audio:e.push(i?{type:p.b.Image,media:s}:d()({type:p.b.Audio},n&&{title:n}));break;case p.d.Video:e.push({type:p.b.Video,poster:s});break;case p.d.Regular:case p.d.Photo:i&&e.push({type:p.b.Image,media:s}),n&&e.push({type:p.b.Text,text:n,subtype:p.q.Heading1}),o&&e.push({type:p.b.Text,text:o})}return e}(),a=c.loggingId.split(":")[1],e=c.objectData.displayStyle===p.d.Audio&&!!c.objectData.backgroundImage),Object(b.A)(c)&&(n=c.content,o=c.trail,a=c.id,t=c.postUrl),l.a.createElement(g.a,{blogName:r.name,postId:a,href:t,className:v.a.chicletHolder,showBlogCard:!1,blog:r},Object(m.b)({content:n,trail:o,type:p.c}),e&&l.a.createElement("div",{className:v.a.audioPlayIcon},l.a.createElement(u.a,{withCircle:!1})))}var r=a("lSNA"),n=a.n(r),i=a("q1tI"),l=a.n(i),s=a("saDi"),c=a("YYPg"),h=a("3tO9"),d=a.n(h),p=a("pCNn"),m=a("aRuQ"),u=a("F6jV"),g=a("PXvT"),b=a("s5E+"),v=a("0usk"),f=a("dbGf"),E=a("yBJ7"),r=a("y4uf"),k=a("Qtnd"),C=a("7gZB"),h=a("fSeh"),w=a.n(h),S=a("rU90"),y=a("8/Xn"),x=a("ejli"),I=a("lp1z"),O={posts:null,hasAttemptedFetch:!0},N=e=>{var t,a;return void 0!==(null==e?void 0:e.url)&&void 0!==(null==e||null===(t=e.theme)||void 0===t?void 0:t.linkColor)&&void 0!==(null==e||null===(a=e.theme)||void 0===a?void 0:a.backgroundColor)};class B extends i.Component{constructor(){var e;super(...arguments),n()(this,"state",{blog:this.props.blog,posts:null!==(e=this.props.posts)&&void 0!==e?e:null,hasAttemptedFetch:!1}),n()(this,"apiHelper",Object(k.a)(this.props.appContext.apiFetch)),n()(this,"fetchInfo",()=>{null===(e=this.urlInfoFetch)||void 0===e||e.cancel();var t=this.state.blog,e=this.props.appContext.features.blogCardImprovements;return this.urlInfoFetch=Object(I.a)(this.apiHelper.getUrlInfo(this.getBlogUrl(),e).fetch()),this.urlInfoFetch.then(e=>{var e=e.response.content;Object(p.x)(e)?this.setState({blog:e.blog,posts:null!==(e=e.posts)&&void 0!==e?e:null,hasAttemptedFetch:!0}):t?this.setState({posts:[],hasAttemptedFetch:!0}):this.setState(O)},()=>this.setState(O))}),n()(this,"getBlogUrl",()=>{var e;return null!==(e=null===(e=this.state.blog)||void 0===e?void 0:e.url)&&void 0!==e?e:"".concat(this.props.blogName,".tumblr.com")}),n()(this,"getHrefForTag",e=>Object(y.a)({peeprBlogname:this.props.blogName},{peeprSearchTerm:e}))}componentDidMount(){return this.state.blog&&this.state.posts?Promise.resolve():this.fetchInfo()}componentWillUnmount(){var e;null===(e=this.urlInfoFetch)||void 0===e||e.cancel()}componentDidCatch(e){this.setState({hasError:!0})}render(){var e=this.state,t=e.blog,a=e.posts,r=e.hasAttemptedFetch,n=e.hasError;if(!t&&r||n)return null;if(!t)return l.a.createElement("div",null,l.a.createElement(f.a,null),l.a.createElement("div",{className:x.a.skeleton},this.props.blogName,l.a.createElement("div",{className:x.a.emptyBox})));e=t.topTagsFewer,r=t.badge,n=a?!!a.length&&l.a.createElement("div",{className:x.a.posts},a.map(e=>l.a.createElement(o,{key:e.id,chiclet:e,blog:t}))):l.a.createElement("div",{className:x.a.knightLoader},l.a.createElement(E.b,{color:w.a.blogLinkColor,centerOrientation:E.a.None}));return l.a.createElement("div",{className:x.a.blogCard,style:Object(C.a)(t)},l.a.createElement(S.a.Provider,{value:this.getHrefForTag},l.a.createElement("div",{className:x.a.blogHeader},l.a.createElement(c.a,{blog:t,hasBlogSummary:!(!e&&!r),size:s.a.Small,hasChicletsBelow:!(null==a||!a.length)})),n))}}t.b=Object(r.d)(B)},"12Gh":function(e,t,a){"use strict";a.d(t,"b",function(){return f});var r=a("lSNA"),n=a.n(r),o=a("q1tI"),d=a.n(o),i=a("zoQI"),l=a("7TmU"),s=a("nA7Y"),p=a("8c4p"),c=a("ghwC"),r=a("y4uf"),m=a("vSkO"),u=a("+pLC"),g=a("g2Yl"),h=Object(r.d)(function(e){var t,a,r,n=e.shareTo,o=e.blogUrl,i=e.className,l=e.captionExplicit,s=e.appContext._t,c="",h=g.b.BlogShareClick;switch(n){case p.a.Twitter:c=s(l?"Share to Twitter":"Twitter"),r=o,t=()=>Object(u.a)(p.b.Twitter,{url:r},p.c,"twitterShare"),h=g.b.BlogShareToTwitterClick;break;case p.a.Facebook:c=s(l?"Share to Facebook":"Facebook"),a=o,t=()=>Object(u.a)(p.b.Facebook,{u:a},p.c,"facebookShare"),h=g.b.BlogShareToFacebookClick}return d.a.createElement(m.a,{krakenEventName:h,className:i,onClick:t},c)}),b=a("xY3Z");class v extends o.Component{constructor(){super(...arguments),n()(this,"renderMenu",()=>d.a.createElement("div",{className:b.a.ExportMenu},f(this.props.blogUrl,b.a.exportItem,this.props.appContext)))}render(){var e=this.props,t=e.fill,a=e.size,e=this.props.appContext._t;return d.a.createElement(c.a,{render:this.renderMenu,position:s.b.Bottom,width:"250px",height:"auto",boundary:s.a.ScrollParent},d.a.createElement(i.a,{label:e("Export")},d.a.createElement(l.a,{size:a,fill:t})))}}var f=(a,r,e,n)=>(e.logEvent({eventName:g.b.BlogShareClick}),[p.a.Twitter,p.a.Facebook].map((e,t)=>d.a.createElement(h,{key:t,shareTo:e,blogUrl:a,className:r,captionExplicit:n})));t.a=Object(r.d)(v)},"28ef":function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.c)(n.a.createElement("svg",{viewBox:"0 0 20.8 13"},n.a.createElement("path",{d:"M.1 13h2.8l.9-3h4.7l.8 3h2.9L7.7 0h-3L.1 13zm6-10.1l2 5.1H4.2l1.9-5.1zM20 10V6c0-1.1-.2-1.9-1-2.3-.7-.5-1.7-.7-2.7-.7-1.6 0-2.7.4-3.4 1.2-.4.5-.6 1.2-.7 2h2.4c.1-.4.2-.6.4-.8.2-.3.6-.4 1.2-.4.5 0 .9.1 1.2.2.3.1.4.4.4.8 0 .3-.2.5-.5.7-.2.1-.5.2-1 .2l-.9.1c-1 .1-1.7.3-2.2.6-.9.5-1.4 1.3-1.4 2.5 0 .9.3 1.6.8 2 .6.5 1.3.9 2.2.9.7 0 1.2-.3 1.7-.6.4-.2.8-.6 1.2-.9 0 .2 0 .4.1.6 0 .2.1.8.2 1h2.7v-.8c-.1-.1-.3-.2-.4-.3.1-.3-.3-1.7-.3-2zm-2.2-1.1c0 .8-.3 1.4-.7 1.7-.4.3-1 .5-1.5.5-.3 0-.6-.1-.9-.3-.2-.2-.4-.5-.4-.9 0-.5.2-.8.6-1 .2-.1.6-.2 1.1-.3l.6-.1c.3-.1.5-.1.7-.2.2-.1.3-.1.5-.2v.8z"})));n.defaultProps={size:{width:24,height:24},fill:a.gray40},t.a=n},"3QcM":function(e,t,a){"use strict";var r=a("q1tI"),h=a.n(r),d=a("BgJd"),p=a("rU90"),m=a("Ty5D"),u=a("crKr"),g=a("3JrU"),b=a("y4uf"),v=a("x667"),f=[{id:"paletteA",tags:["lgbt","lgbt+","lgbtq","lgbtq+","lgbtqia","lgbtqia+","queer"]},{id:"paletteB",tags:["transgender","trans"]},{id:"paletteC",tags:["bisexual","bisexuality"]},{id:"paletteD",tags:["nonbinary","nb","enby"]},{id:"paletteE",tags:["asexual","ace","asexuality"]},{id:"paletteF",tags:["lesbian"]},{id:"paletteG",tags:["intersex","intersexuality"]},{id:"paletteH",tags:["pansexual","pan","pansexuality"]},{id:"paletteI",tags:["aromantic","aro"]},{id:"paletteJ",tags:["gay"]}],E=e=>e.map(e=>"".concat(e," pride")),k=a("gBFL");t.a=function(e){var t,a,r=e.tagName,n=e.className,o=e.children,i=e.toOverride,l=e.onClick,s=Object(m.l)(),c=Object(p.c)(),e=Object(b.c)().features.prideColorfulTags,s=Object(u.a)(s.search),s=s.sort&&Object.values(k.a).includes(s.sort)?s.sort:void 0,s=i?Object(g.b)(i)||i:c(r,s),r=o||(e?(t=r,a=E,(e=f.find(e=>{e=e.tags;return(a?[...e,...a(e)]:e).includes(t.toLowerCase())}))?h.a.createElement("span",{className:v.a[e.id],"data-testid":"colorized-tag"},"#".concat(t)):h.a.createElement(h.a.Fragment,null,"#".concat(t))):"#".concat(r));return h.a.createElement(d.a,{className:n,to:s,onClick:l},r)}},"3rIL":function(e,t,a){"use strict";a.d(t,"a",function(){return i});var t=a("q1tI"),n=a.n(t),r=a("pCNn"),o=a("Kiv0");function i(e){return(e||[]).filter(e=>Object(r.P)(e)&&!e.subtype).map((e,t)=>{var a,r=(a=e.text,(r=document.implementation.createHTMLDocument("")).body.innerHTML=a,(r.body.textContent||r.body.innerText||"").trim()),t="".concat(r,":").concat(t);return n.a.createElement("div",{key:t},Object(o.a)(r,e.formatting,t))})}},"539m":function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("fSeh"),a=a("s2Hx"),n=Object(a.c)(n.a.createElement("svg",{viewBox:"0 0 13 10"},n.a.createElement("path",{d:"M11.5 0L4.2 7.1 1.5 4.4 0 5.8 4.2 10 13 1.5 11.5 0"})));n.defaultProps={size:{width:24,height:24},fill:r.white},t.a=n},"6mOw":function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.c)(n.a.createElement("svg",{width:"21",height:"20",viewBox:"0 0 21 20"},n.a.createElement("path",{fillRule:"evenodd",d:"M12.498 5.833a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm1.667 0a4.167 4.167 0 11-8.334 0 4.167 4.167 0 018.334 0zm1.01 7.47l-.002.001a.902.902 0 01-.733.376h-.902a.9.9 0 00-.614.243h.002a.9.9 0 01.615-.243h.903a.902.902 0 00.732-.376zm-4.218-1.588c.533.054.645.899.343 1.341a.678.678 0 01-.61.307 7.826 7.826 0 00-.69-.03c-2.696 0-4.843 1.366-5.74 3.084-.037.07-.016.156.055.188a.754.754 0 00.3.061h5.59c.344 0 .624.28.624.625v.417c0 .345-.28.625-.625.625H4.616c-1.381 0-2.542-1.169-1.964-2.422 1.146-2.485 4.004-4.245 7.348-4.245a9.4 9.4 0 01.957.049z",clipRule:"evenodd"}),n.a.createElement("path",{fillRule:"evenodd",d:"M16.798 11.932c-.297-.91-1.628-.91-1.926 0l-.522 1.596h-1.671a.999.999 0 00-.963.681.95.95 0 00.358 1.076l1.376.993-.529 1.617a.95.95 0 00.359 1.076c.321.232.809.288 1.209 0l1.346-.972 1.346.972c.4.288.888.232 1.21 0a.95.95 0 00.358-1.076l-.529-1.617 1.376-.993a.95.95 0 00.359-1.076.999.999 0 00-.963-.681H17.32l-.522-1.596z",clipRule:"evenodd"})));n.defaultProps={size:{width:20,height:20},fill:a.white},t.a=n},"78v1":function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"c",function(){return i}),a.d(t,"d",function(){return l}),a.d(t,"b",function(){return s});var t=a("q1tI"),r=a.n(t),t=a("s2Hx"),n=a("fSeh"),a=e=>r.a.createElement("svg",{viewBox:"0 0 13 20.1",style:{transform:"rotate(".concat(e,"deg)")}},r.a.createElement("path",{d:"M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"})),o=Object(t.c)(a(0)),i=Object(t.c)(a(90)),l=Object(t.c)(a(180)),s=Object(t.c)(a(270));[o,i,l,s].forEach(e=>e.defaultProps={size:{width:24,height:24},fill:n.white})},"7TmU":function(e,t,a){"use strict";var r=a("q1tI"),r=a.n(r),a=a("s2Hx"),r=Object(a.c)(r.a.createElement("svg",{viewBox:"0 0 22.5 18.5"},r.a.createElement("path",{d:"M14 13.2V8.9c-.4 0-5.2-.5-9.4 3.2 0 0 1-7.5 9.4-7.5V0l8.5 6.6-8.5 6.6z"}),r.a.createElement("path",{d:"M19 18.5H0L.1 3.6H7L5 5.5H2v11h15v-2.3l2-1.6v5.9z"})));r.defaultProps={size:{width:24,height:24}},t.a=r},"7fqf":function(e,t,a){"use strict";a.d(t,"a",function(){return r});var l=a("pCNn");function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=null;if(e.length?a=e[0].content:t.length&&(a=t),a&&0!==a.length){if(2<arguments.length&&void 0!==arguments[2]&&arguments[2])return a.find(l.B);t=a[0];if(!Object(l.P)(t))return t;for(var r=[],n=Math.min(a.length,6),o=0;o<n;o+=1){var i=a[o];if(!Object(l.P)(i))break;r.push(i)}return r}}},"7gZB":function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"b",function(){return c});var r=a("GcYn"),n=a("krfJ"),o=a("fSeh"),i=a.n(o),l=a("gmuL"),s=e=>{if(null==e||!e.theme)return{};var t=e.theme,e=t.backgroundColor,t=t.titleColor,e=Object(r.e)(e);return{"--blue":e.paletteBlue,"--red":e.paletteRed,"--green":e.paletteGreen,"--purple":e.palettePurple,"--pink":e.palettePink,"--yellow":e.paletteYellow,"--orange":e.paletteOrange,"--navy":e.paletteNavy,"--gray-65":t}},c=e=>Object(r.d)(null==e?void 0:e.backgroundColor,null==e?void 0:e.linkColor);t.a=e=>{e.theme||Object(n.b)("Blog theme value not defined for blog ".concat(null==e?void 0:e.name," and blogThemeStyle is using default values!"));var t=(null==e?void 0:e.theme)||{},a=t.titleColor,e=void 0===a?i.a.black:a,a=t.linkColor,a=void 0===a?i.a.dreamcastBlue:a,t=t.backgroundColor,t=void 0===t?i.a.white:t;return{"--blog-title-color":e,"--blog-link-color":a,"--blog-background-color":t,"--blog-contrasting-link-color":c({linkColor:a,backgroundColor:t}),"--blog-contrasting-title-color":Object(r.d)(t,e),"--blog-title-color-15":Object(l.a)(e,.15),"--blog-link-color-15":Object(l.a)(a,.15)}}},"7wT5":function(e,t,a){"use strict";a.d(t,"a",function(){return i});var t=a("J2m7"),r=a.n(t),t=a("afOK"),n=a.n(t),o=a("51n6");function i(e,t){e=e.blogs.filter(e=>e.canMessage);return t&&r()(e,e=>e.name===t)||Object(o.a)(e)||n()(e)}},"8c4p":function(e,t,a){"use strict";var r,n;a.d(t,"a",function(){return r}),a.d(t,"b",function(){return n}),a.d(t,"c",function(){return o}),(t=r=r||{}).Facebook="Facebook",t.Twitter="Twitter",t.Embed="Embed",t.Pinterest="Pinterest",t.Reddit="Reddit",t.Copy="Copy",(t=n=n||{}).Facebook="https://www.facebook.com/sharer/sharer.php",t.Twitter="https://twitter.com/intent/tweet",t.Pinterest="https://www.pinterest.com/pin/create/button/",t.Reddit="https://www.reddit.com/submit";var o={top:0,left:0,width:600,height:450,toolbar:"no",menubar:"no"}},"9uBL":function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.c)(n.a.createElement("svg",{viewBox:"0 0 18.7 17"},n.a.createElement("path",{d:"M16 6.1V2.6C16 .8 15 0 13.1 0H2.9C1 0 0 1.1 0 3.3v10.4C0 15.9 1 17 2.9 17h10.2c1.9 0 2.9-.8 2.9-2.6v-2.9l2.7-2.9c0-.1-2.7-2.5-2.7-2.5zm-4.5-.7c0-.5.3-.8.7-.8s.8.3.8.8v1.7l-.3 2.5c0 .3-.2.4-.4.4s-.4-.1-.4-.4l-.3-2.5V5.4zm-3.8 6.4c0 .4-.1.8-.7.8-.5 0-.7-.4-.7-.8V9.1C6.3 8.4 6 8 5.4 8c-.5 0-1 .4-1 1.2v2.6c0 .4-.1.8-.7.8s-.7-.4-.7-.8V5.4c0-.5.3-.8.7-.8.4 0 .7.3.7.8v2.1c.3-.4.7-.8 1.5-.8s1.7.5 1.7 2c.1.1.1 3.1.1 3.1zm2.5 0c0 .4-.1.8-.7.8-.5 0-.7-.4-.7-.8V7.5c0-.4.1-.8.7-.8.5 0 .7.4.7.8v4.3zm-.7-5.6c-.4 0-.7-.4-.7-.8s.3-.8.7-.8c.4 0 .7.4.7.8s-.3.8-.7.8zm2.8 6.3c-.4 0-.8-.4-.8-.9s.3-.9.8-.9.8.4.8.9-.4.9-.8.9z"})));n.defaultProps={size:{width:24,height:24},fill:a.gray40},t.a=n},A7kB:function(e,t,a){"use strict";var r=a("lSNA"),n=a.n(r),o=a("vN+2"),i=a.n(o),l=a("q1tI"),s=a.n(l),r=a("fSeh"),c=a("Jq/n"),o=a("q7r4"),h=a("y2xa");class d extends l.PureComponent{constructor(){super(...arguments),n()(this,"state",{checked:!!this.props.checked}),n()(this,"stopEventPropagation",e=>{e&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation())}),n()(this,"toggle",e=>{this.props.controlled||this.setState(e=>({checked:!e.checked})),this.props.onChange(e)})}render(){var e=(this.props.controlled?this.props:this.state).checked,t=this.props,a=t.name,r=t.color,n=t.className,o=t.size,i=t.disabled,l=t.darkKnob,t=t.labelledBy,r=e?{backgroundColor:r}:void 0;return s.a.createElement("div",{className:Object(c.a)([h.a.toggle,n,h.a[o]])},s.a.createElement("label",{className:h.a.switch},s.a.createElement("input",{type:"checkbox","aria-checked":e,onChange:this.toggle,onClick:this.stopEventPropagation,disabled:i,checked:e,name:a,"aria-labelledby":t}),s.a.createElement("span",{style:r,className:Object(c.a)({[h.a.slider]:!0,[h.a.disabled]:i,[h.a.checked]:e,[h.a.toggleDark]:l})})))}}n()(d,"defaultProps",{onChange:i.a,checked:!1,disabled:!1,size:o.a.medium,color:r.paletteBlue,darkKnob:!1}),t.a=d},AfAo:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return l});var t=a("q1tI"),r=a.n(t),n=a("s2Hx"),o=a("fSeh"),a=e=>Object(n.c)(r.a.createElement("svg",{viewBox:"0 0 17.5 3.9",style:{transform:"rotate(".concat(e,"deg)")}},r.a.createElement("path",{d:"M17.5 1.9c0 1.1-.9 1.9-1.9 1.9-1.1 0-1.9-.9-1.9-1.9S14.5 0 15.6 0c1 0 1.9.9 1.9 1.9m-6.8 0c0 1.1-.9 1.9-1.9 1.9-1.1.1-2-.8-2-1.9 0-1 .9-1.9 2-1.9s1.9.9 1.9 1.9m-6.8 0c0 1.1-.9 2-2 2-1 0-1.9-.9-1.9-2S.9 0 1.9 0c1.1 0 2 .9 2 1.9"}))),i=a(0),l=a(90);[i,l].forEach(e=>e.defaultProps={size:{width:14,height:8},fill:o.tumblrGray})},F6jV:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("fSeh"),a=function(e){var t=e.withCircle,a=e.size,r=e.viewBox,e=e.fill;return n.a.createElement("svg",{width:"".concat(a.width),height:"".concat(a.height),viewBox:r},n.a.createElement("g",{fill:"none"},t&&n.a.createElement("circle",{cx:"23",cy:"23",r:"23",fill:"#444"}),n.a.createElement("path",{fill:e,d:"M30.592 23.578L19.52 30.3a1 1 0 0 1-1.52-.854V16a1 1 0 0 1 1.519-.855l11.073 6.723a1 1 0 0 1 0 1.71z"}),t&&n.a.createElement("circle",{cx:"23",cy:"23",r:"19",stroke:"#FFF"})))};a.defaultProps={withCircle:!0,size:{width:46,height:46},viewBox:"0 0 46 46",fill:r.white},t.a=a},F9cT:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.c)(n.a.createElement("svg",{viewBox:"0 0 17 15"},n.a.createElement("path",{d:"M14.6 1h-2.7l-.6-1h-6l-.6 1H2.4C1.1 1 0 2 0 3.3v9.3C0 13.9 1.1 15 2.4 15h12.2c1.3 0 2.4-1.1 2.4-2.4V3.3C17 2 15.9 1 14.6 1zM8.3 13.1c-2.9 0-5.2-2.3-5.2-5.1s2.3-5.1 5.2-5.1c2.9 0 5.2 2.3 5.2 5.1s-2.3 5.1-5.2 5.1zm5.9-8.3c-.6 0-1.1-.5-1.1-1.1 0-.6.5-1.1 1.1-1.1s1.1.5 1.1 1.1c0 .6-.5 1.1-1.1 1.1zm-10 3.1c0 1.2.5 2.2 1.3 3 0-.2 0-.4-.1-.6 0-2.2 1.8-4 4.1-4 1.1 0 2 .4 2.8 1.1-.3-2-2-3.4-4-3.4-2.2-.1-4.1 1.7-4.1 3.9z"})));n.defaultProps={size:{width:24,height:24},fill:a.gray40},t.a=n},FP6t:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.c)(n.a.createElement("svg",{fill:"none",viewBox:"0 0 14 14"},n.a.createElement("circle",{cx:"7",cy:"7",r:"7",fill:a.paletteYellow}),n.a.createElement("path",{strokeWidth:".663",d:"M6.648 3.69c.128-.377.683-.377.81 0l.648 1.909c.057.168.22.282.405.282h2.094c.413 0 .585.506.25.739L9.163 7.8a.4.4 0 00-.155.456l.647 1.909c.127.376-.322.69-.656.457l-1.694-1.18a.441.441 0 00-.5 0l-1.695 1.18c-.334.232-.783-.08-.656-.457L5.1 8.256a.4.4 0 00-.154-.457L3.252 6.62c-.334-.232-.163-.738.25-.738h2.094a.425.425 0 00.405-.282l.647-1.91z"})));n.defaultProps={size:{width:14,height:14},fill:a.black},t.a=n},GcYn:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return l}),a.d(t,"d",function(){return s}),a.d(t,"f",function(){return h}),a.d(t,"c",function(){return d}),a.d(t,"e",function(){return m});var r=a("44Ds"),t=a.n(r),r=a("aSns"),n=a.n(r),o=a("fSeh"),i=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,l=e=>{e="#"===e.charAt(0)?e.substring(1,7):e,e=[parseInt(e.substring(0,2),16)/255,parseInt(e.substring(2,4),16)/255,parseInt(e.substring(4,6),16)/255].map(e=>e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4));return.179<.2126*e[0]+.7152*e[1]+.0722*e[2]?"#000000":"#FFFFFF"};function s(e,t,a){var r=c(t),t=c(e),e=n()(r);return a?o.white:h(t,r)?e.hex():d(t)}function c(e){return e?-1!==e.indexOf("#")?e:"rgb(".concat(e,")"):""}function h(e,t){e=n()(e);return 1.7<=n()(t).contrast(e)}function d(e){return n()(e).isLight()?o.black:o.white}function p(e,t){return h(e,t)?t:n()(e).isLight()?p(e,n()(t).darken(.1).hex()):p(e,n()(t).lighten(.1).hex())}var m=t()(function(e){return{paletteGreen:p(e,o.glassGreen),paletteRed:p(e,o.rokrRed),paletteBlue:p(e,o.dreamcastBlue),palettePurple:p(e,o.zunePurple),palettePink:p(e,o.sidekickPink),paletteYellow:p(e,o.tivoYellow),paletteOrange:p(e,o.betamaxOrange),paletteNavy:p(e,o.segwayNavy)}})},"Gt/x":function(e,t,a){"use strict";var r=a("pVnL"),w=a.n(r),r=a("3tO9"),S=a.n(r),r=a("q1tI"),y=a.n(r),x=a("X9Ig"),I=a("PXvT"),O=a("+K5O"),N=a("VXYR"),B=a("y4uf"),P=a("Jq/n"),T=a("WeZD"),j=a("59Bd");t.a=function(e){var t=e.blog,a=e.showBlogCard,r=void 0===a||a,n=e.imageResponse,o=e.name,i=e.dimension,l=e.isAdult,s=e.placementId,c=e.eventName,h=e.eventDetails,d=e.avatarShape,p=void 0===d?x.a.Square:d,m=e.url,u=e.className,g=e.badge,b=void 0===g?null:g,v=e.isOnline,f=void 0!==v&&v,E=e.isLink,k=void 0===E||E,C=e.authorName,a=e.authorImageResponse,d=e.imgStyleProps,g=void 0===d?{}:d,v=e.bigStatusIndicator,E=e.isAnonymous,d=Object(B.c)()._t,e=S()({width:i,height:i},g);if(E)return y.a.createElement("figure",{className:j.a.anonymous,"aria-label":d("Anonymous avatar"),style:S()({width:i,height:i},g)});f=b?y.a.createElement("div",{className:j.a.badge},b):f&&y.a.createElement(O.a,{big:v}),v=Math.round(i/2),v=a?y.a.createElement("div",{className:Object(P.a)([j.a.subavatar,j.a.avatarWrapperInner,j.a[p]]),style:{width:v,height:v}},y.a.createElement(N.c,{imageResponse:a,style:S()({width:v,height:v},g),isSquare:!0,pixelated:l,altText:d("Avatar"),isTransparent:!0,sizes:"".concat(v,"px")})):null;v&&C&&(v=k?y.a.createElement(I.a,{blogName:C,title:C,showBlogCard:r,krakenEventName:c,krakenEventDetails:h,placementId:s},v):r?y.a.createElement(T.a,{blogName:C},v):v);d=y.a.createElement("div",{className:Object(P.a)([j.a.avatar,u]),style:{width:i,height:i}},y.a.createElement("div",{className:Object(P.a)({[j.a.avatarWrapperInner]:!0,[j.a[p]]:!0})},n?y.a.createElement(N.c,{imageResponse:n,style:e,isSquare:!0,pixelated:l,altText:d("Avatar"),isTransparent:!0,sizes:"".concat(i,"px"),loading:"eager"}):y.a.createElement("div",{className:j.a.brokenBlog})),f),i=d,f=t?{blog:t}:{blogName:null!=o?o:""};return o&&(i=k?y.a.createElement(I.a,{blogName:o,href:m,title:o,showBlogCard:r,blog:t,krakenEventName:c,krakenEventDetails:h,placementId:s},d):r?y.a.createElement(T.a,w()({blogName:o},f),d):i),y.a.createElement("div",{className:j.a.avatarWrapper},i,v)}},HkzZ:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var r=a("lSNA"),n=a.n(r),t=a("vN+2"),r=a.n(t),t=a("44Ds"),o=a.n(t),t=a("QQZ/"),i=a.n(t),t=a("q1tI"),l=a.n(t),s=a("DwVx"),c=a("cP3F");class h extends t.Component{constructor(){super(...arguments),n()(this,"memoGetDateStrFromDate",o()(this.getDateStrFromDate)),n()(this,"memoGet24HrTimeFromDate",o()(this.get24HrTimeFromDate)),n()(this,"state",{date:this.memoGetDateStrFromDate(this.props.initialDatetime),time:this.memoGet24HrTimeFromDate(this.props.initialDatetime)}),n()(this,"onDateChange",e=>{e=e.currentTarget.value;return!!e&&this.setState({date:e},this.updateDatetime)}),n()(this,"onTimeChange",e=>this.setState({time:e.currentTarget.value},this.updateDatetime)),n()(this,"updateDatetime",()=>{var e,t=this.state,a=t.date,r=t.time,n=this.props.onChange;a&&r&&(t=Object(s.c)(this.props.timezoneOffset),t=new Date("".concat(a,"T").concat(r).concat(t)),this.isDateValid(t)&&(e=t)),n(e)})}render(){var e=this.props,t=e.minDate,a=e.maxDate,r=this.state,e=r.date,r=r.time,t=this.memoGetDateStrFromDate(t),a=this.memoGetDateStrFromDate(a);return l.a.createElement("div",{className:c.a.datetimePicker},l.a.createElement("input",{type:"date",min:t||void 0,max:a||void 0,onChange:this.onDateChange,value:e,className:c.a.date}),l.a.createElement("input",{type:"time",onChange:this.onTimeChange,value:r,className:c.a.time}))}getDateStrFromDate(e){if(!e)return"";var t=i()(e.getMonth()+1,2,"0"),a=i()(e.getDate(),2,"0"),e=i()(e.getFullYear(),4,"0");return"".concat(e,"-").concat(t,"-").concat(a)}get24HrTimeFromDate(e){if(!e)return"";var t=i()(e.getHours(),2,"0"),e=i()(e.getMinutes(),2,"0");return"".concat(t,":").concat(e)}isDateValid(e){return e instanceof Date&&!isNaN(e.getTime())}}n()(h,"defaultProps",{timezoneOffset:"",onChange:r.a})},I1Lj:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.c)(n.a.createElement("svg",{viewBox:"0 0 19 16"},n.a.createElement("path",{d:"M17.7 7.3c-.4-4.4-4-7.3-8.3-7.3-4.3 0-7.9 2.9-8.3 7.4C.5 7.4 0 8 0 8.6v5c0 .8.6 1.4 1.3 1.4H4c.2.4.8 1 1.2 1 .6 0 .8-1 .8-1.6V7.8c0-.5-.2-1.6-.8-1.6-.4 0-1 .8-1.2 1.1H2.9c.4-3.5 3.2-5.6 6.5-5.6s6.2 2.1 6.5 5.6H15c0-.3-.7-1.1-1.1-1.1-.6 0-.9 1-.9 1.6v6.6c0 .5.3 1.6.9 1.6.4 0 1.1-.6 1.2-1h2.6c.7 0 1.3-.6 1.3-1.3v-5c0-.8-.6-1.3-1.3-1.4zM3 8.5v1l-2 1.3V8.5h2zm15 .9l-2 1.3V8.5h2v.9zm-6.4.3l-1.6.5V6.4c0-.1-.1-.2-.2-.2s-.2 0-.2.1L7.2 12v.2c.1.1.1.1.2.1L9 12v3.8c0 .1-.2.2-.1.2h.3c.1 0 .2 0 .2-.1l2.4-5.9v-.2c-.1-.1-.2-.1-.2-.1z"})));n.defaultProps={size:{width:24,height:24},fill:a.gray40},t.a=n},Jq8T:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.c)(n.a.createElement("svg",{viewBox:"0 0 16 15"},n.a.createElement("path",{d:"M15.7 7.8c-.2-.1-.5 0-.6.1l-2.9 2.2c-.1.1-.1.1-.2.1V8H0v3h2v3.2c0 .4.3.8.8.8h8.4c.5 0 .8-.4.8-.8V12c0 .1.1.2.2.2l2.9 2.2c.2.2.4.2.6.1.2-.1.3-.3.3-.5V8.4c0-.2-.1-.5-.3-.6zM2.8 6.9c.3 0 .8.1 1.1.1h5.5c.3 0 .8-.1 1-.1 1.6-.3 2.8-1.7 2.8-3.4 0-1.9-1.6-3.5-3.5-3.5-1.2 0-2.4.6-3 1.7h-.1C5.9.6 4.8 0 3.6 0 1.6 0 0 1.6 0 3.5c0 1.7 1.2 3 2.8 3.4zM9 4.2c1 0 1.8-.8 1.8-1.8v-.3c.4.3.6.8.6 1.4 0 1-.8 1.8-1.8 1.8-.9 0-1.6-.6-1.8-1.5.3.3.7.4 1.2.4zm-6.2.1c1 0 1.8-.8 1.8-1.8v-.3c.4.2.6.7.6 1.3 0 1-.8 1.8-1.8 1.8-.9 0-1.6-.6-1.8-1.5.3.3.7.5 1.2.5z"})));n.defaultProps={size:{width:24,height:24},fill:a.gray40},t.a=n},Kiv0:function(e,t,a){"use strict";a.d(t,"d",function(){return y}),a.d(t,"a",function(){return B}),a.d(t,"b",function(){return P});var r=a("3tO9"),n=a.n(r),r=a("3EZw"),o=a.n(r),r=a("56YH"),i=a.n(r),l=a("q1tI"),s=a.n(l),c=a("PXvT"),h=a("pCNn"),d=a("goXf"),r=a("lSNA"),p=a.n(r);class m{constructor(e){p()(this,"surrogatePairStartingIndices",[]),p()(this,"variationSelectorSurrogatePairStartingIndices",[]),p()(this,"hasUpToThreeEmojiWithNoNonEmojiCharacters",()=>{var e=this.getEmojiCount({stoppingAfter:4});return e<=3&&0<e&&this.getNonEmojiCount({stoppingAfter:1})<1}),this.string=e}slice(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.string.length;if(0===e&&t===this.string.length||e===t)return this.string.slice(e,t);if(0===this.getSurrogatePairStartingIndices().length)return this.string.slice(e,t);var a=t,r=e;return this.getSurrogatePairStartingIndices().forEach(e=>{e<a&&(a+=1,-1!==this.variationSelectorSurrogatePairStartingIndices.indexOf(e)&&(a+=1)),e<r&&(r+=1,-1!==this.variationSelectorSurrogatePairStartingIndices.indexOf(e)&&(r+=1))}),-1!==this.variationSelectorSurrogatePairStartingIndices.indexOf(r)&&(r+=2,a+=2),-1!==this.variationSelectorSurrogatePairStartingIndices.indexOf(a)&&(a+=2),this.string.slice(r,a)}getEmojiCount(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{stoppingAfter:0}).stoppingAfter;if(void 0!==this.emojiCount)return this.emojiCount;var t=0;if(t+=this.getSurrogatePairStartingIndices().length,t-=this.variationSelectorSurrogatePairStartingIndices.length,0<e&&e<=t)return t;for(var a=0;a<this.string.length;a+=1){var r=this.string.charCodeAt(a);if(9728<=r&&r<=10175&&(t+=1,0<e&&t===e))return t}return this.emojiCount=t}getNonEmojiCount(){if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:{stoppingAfter:0}).stoppingAfter,void 0!==this.nonEmojiCount)return this.nonEmojiCount;var e=this.string.length-this.getEmojiCount();return e-=this.getSurrogatePairStartingIndices().length,e-=this.variationSelectorSurrogatePairStartingIndices.length,this.nonEmojiCount=e}getSurrogatePairStartingIndices(){if(this.surrogatePairStartingIndices.length)return this.surrogatePairStartingIndices;for(var e=0;e<this.string.length;e+=1){var t=this.string.charCodeAt(e);55296<=t&&t<=56319&&(this.surrogatePairStartingIndices.push(e),127995<=(t=1024*(t-55296)+(this.string.charCodeAt(e+1)-56320)+65536)&&t<=127999&&this.variationSelectorSurrogatePairStartingIndices.push(e))}return this.surrogatePairStartingIndices}}var u=a("Jq/n"),g=a("y4uf"),b=a("p8qf"),v=a("fgfG"),f=a("ofcG"),E=a("NFOE"),k=a("83mz"),C=t=>e=>s.a.createElement("span",{className:t},e),w={full:k.a.textBlock,micro:[k.a.textBlock,k.a.textBlockMicro].join(" ")},S=(t,a)=>e=>s.a.createElement("div",{key:t,className:w[a]},e);function y(e){var t=k.a.veryLongQuote;return e<101?t=k.a.shortQuote:e<151?t=k.a.mediumQuote:e<251&&(t=k.a.longQuote),t}var x={chat:(e,t)=>i()(C(k.a.chat),S(e,t)),quirky:(e,t)=>i()(C(k.a.quirky),S(e,t)),quote:(a,r)=>(e,t)=>{t=[y(t),k.a.quote].join(" "),e=C(t)(e);return S(a,r)(e)},heading1:(t,a)=>e=>o()(S(t,a))(s.a.createElement("h1",null,e)),heading2:(t,a)=>e=>o()(S(t,a))(s.a.createElement("h2",null,e)),"ordered-list-item":(t,a)=>e=>s.a.createElement("li",{key:t,className:w[a]},e),"unordered-list-item":(t,a)=>e=>s.a.createElement("li",{key:t,className:w[a]},e),indented:(t,a)=>e=>s.a.createElement("blockquote",{key:t,className:Object(u.a)([w[a],k.a.indented])},e)},I=e=>{var t=e.textToFormat,a=e.additionalLinkProps,r=e.placementId,n=Object(g.c)().logEvent,o=Object(b.c)(),i=Object(f.b)(),e=i.hydraConfigInstanceId,i=i.adPlacementConfiguration,o=b.a!==o?Object(E.a)({adPlacementConfiguration:i,hydraConfigInstanceId:e,timelineObject:o.post}):{},o=Object(l.useCallback)(()=>Object(v.a)(n,r),[n,r,o]);return s.a.createElement("a",{href:null==a?void 0:a.url,target:"_blank",rel:"noopener",onClick:o},t)},O={bold:(e,t)=>s.a.createElement("strong",{key:t},e),italic:(e,t)=>s.a.createElement("em",{key:t},e),strikethrough:(e,t)=>s.a.createElement("s",{key:t},e),small:(e,t)=>s.a.createElement("small",{key:t},e),link:(e,t,a,r)=>s.a.createElement(I,{key:t,textToFormat:e,additionalLinkProps:a,placementId:r}),mention:(e,t,a)=>s.a.createElement(c.a,{key:t,blogName:a.blog.name,href:a.blog.url,blog:a.blog},s.a.createElement("span",{className:k.a.mention},e)),color:(e,t,a)=>s.a.createElement("span",{key:t,style:{color:a.hex}},e)},N=(e,t,a,r)=>{var n,o=e.type;void 0!==e.url?n={url:e.url}:void 0===e.blog?void 0!==e.hex&&(n={hex:e.hex}):n={blog:e.blog};e=O[o];return e||("production"===d.a.Development&&console.warn("Unknown inline text formatting type: ".concat(o)),e=(e,t,a,r)=>e),e(t,a,n,r)},B=(e,t,a)=>{return((t,e,i)=>{var l=[];if(!e||!e.length)return t.slice(0);var e=e.sort((e,t)=>Math.sign(e.start-t.start)||Math.sign(e.end-t.end)),s=[];e.forEach(e=>{s.push(n()(n()({},e),{},{index:e.start,isEnd:!1})),s.push(n()(n()({},e),{},{index:e.end,isEnd:!0}))}),s.sort((e,t)=>e.index-t.index);var c=[];return s.forEach((a,e)=>{if(0===e&&0!==a.index&&l.push(t.slice(0,a.index)),s.length-1!==e){var r=s[e+1],n=t.slice(a.index,r.index),o=n;if(a.index!==r.index||a.isEnd){if(0<e&&(e=s[e-1],a.index===e.index&&a.isEnd&&(c=c.filter(e=>!(e.index===a.start&&a.index===e.end)))),!a.isEnd)return c.push(a),c.forEach((e,t)=>{t="".concat(a.index," ").concat(r.index," ").concat(e.type," ").concat(n," ").concat(t);o=N(e,o,t,i)}),void l.push(o);c=c.filter((e,t)=>{return(e.type!==a.type||a.index!==e.end)&&(a.index!==r.index&&(t="".concat(a.index," ").concat(r.index," ").concat(e.type," ").concat(n," ").concat(t),o=N(e,o,t,i)),!0)}),l.push(o)}else c.push(a)}else l.push(t.slice(a.index))}),l})("string"==typeof e?new m(e):e,t,a)};function P(e){return e.map(e=>({type:e.type,start:e.position[0],end:e.position[1],url:e.attributes.url}))}t.c=e=>{var t=e.block,a=t.text,r=t.subtype,n=t.formatting,o=e.variant,i=void 0===o?h.o.Full:o,t=Object(b.c)(),e=new m(a),o="".concat(a," ").concat(r||""),l=t===b.a||null==t||null===(l=t.post)||void 0===l?void 0:l.placementId,l=B(e,n,l),a=(x[r]||((t,a)=>e=>S(t,a)(s.a.createElement("p",null,e))))(o,i)(l,a.length);return e.hasUpToThreeEmojiWithNoNonEmojiCharacters()?s.a.createElement("span",{className:k.a.bigEmoji},a):a}},MpQN:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.c)(n.a.createElement("svg",{viewBox:"0 0 17 17"},n.a.createElement("path",{d:"M9.9 5.1c-.2.3-.5 1.4-.6 2.6l1.1-.1c.7-.1 1.3-.3 1.5-.5.6-.6.6-1.4 0-2-.6-.5-1.4-.5-2 0zM8.5 0C3.8 0 0 3.8 0 8.5S3.8 17 8.5 17 17 13.2 17 8.5 13.2 0 8.5 0zm4.4 8.2c-.5.5-1.5.8-2.5.9l-1.2.2c-.1 1.3-.4 2.9-1 3.6-1.1 1.1-3 1.2-4.1 0-1.1-1.1-1.1-3 0-4.1.5-.5 1.5-.8 2.6-.9v1.5c-1.2.3-1.5.5-1.6.5-.6.6-.6 1.4 0 2 .5.5 1.4.5 2 0 .2-.2.5-1.1.6-2.5l.1-.9c0-1.3.2-3.6 1-4.4 1.1-1.1 3-1.2 4.1 0 1.2 1.1 1.2 2.9 0 4.1z"})));n.defaultProps={size:{width:24,height:24},fill:a.gray40},t.a=n},Mssm:function(e,t,a){"use strict";var r=a("pVnL"),n=a.n(r),o=a("3tO9"),i=a.n(o),r=a("lSNA"),l=a.n(r),o=a("q1tI"),s=a.n(o),c=a("vAT5"),r=a("y4uf"),h=a("Jq/n"),d=a("nSFK");class p extends o.Component{constructor(){super(...arguments),l()(this,"renderChildren",e=>{var t=this.props,a=t.followCaption,r=t.unfollowCaption,t=t.appContext._t;return e?r||t("Unfollow"):a||t("Follow")})}render(){var e=this.props,t=e.className,e=e.callOnFollowAfterApiFetch;return s.a.createElement(c.a,n()({},i()(i()({},this.props),{},{appContext:void 0}),{className:Object(h.a)([d.a.thickButton,t]),callOnFollowAfterApiFetch:void 0===e||e,children:this.renderChildren}))}}t.a=Object(r.d)(p)},NFOE:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var S=a("mTM8"),y=a("s5E+"),r=e=>{var t=e.timelineObject,a=void 0===t?{}:t,r=e.fillId,n=e.adPlacementConfiguration,o=void 0===n?{}:n,i=e.hydraConfigInstanceId;if(Object(y.n)(a)||Object(y.i)(a)){var l=a.supplyRequestId,s=a.supplyOpportunityInstanceId,c=a.adProviderId,h=a.isTumblrSponsoredPost,d=a.sponsoredBadgeUrl,p=a.adProviderForeignPlacementId,m=a.adProviderPlacementId,u=a.adProviderInstanceId,g=a.mediationCandidateId,b=a.streamSessionId,v=a.streamGlobalPosition,f=a.placementId,E=a.price,k=a.creativeId,C=a.adId,w=a.adRequestId,t=a.adInstanceId,n=a.adInstanceCreatedTimestamp,e=a.supplyProviderId,e=void 0===e?S.a.DASHBOARD:e,n=(new Date).getTime()-n;return{price:E,supply_opportunity_instance_id:s,supply_provider_id:e,supply_request_id:l,ad_provider_id:c,is_tumblr_sponsored_post:h||d?1:0,ad_provider_placement_id:m,ad_provider_foreign_placement_id:p,ad_provider_instance_id:u,mediation_candidate_id:g,stream_session_id:b,stream_global_position:v,placement_id:f,fill_id:r||a.fillId,hydra_config_instance_id:i,hydra_signature:o.signature,creative_id:k,ad_id:C,ad_instance_age:n,ad_request_id:w,ad_instance_id:t}}return{}}},PXvT:function(e,t,a){"use strict";var r=a("J4zp"),n=a.n(r),r=a("pVnL"),g=a.n(r),r=a("3tO9"),b=a.n(r),r=a("QILm"),v=a.n(r),f=a("q1tI"),E=a.n(f),k=a("8/Xn"),o=a("WeZD"),i=a("/pt9"),C=a("Jq/n"),w=a("y4uf"),S=a("Ty5D"),y=a("bt0A"),x=a("Tl1T"),l=e=>{e.blog;var a=e.blogName,r=e.blogNetwork,t=e.children,n=e.className,o=e.krakenEventName,i=e.placementId,l=e.postId,s=e.setLinkWasRecentlyClicked,c=e.krakenEventDetails,h=v()(e,["blog","blogName","blogNetwork","children","className","krakenEventName","placementId","postId","setLinkWasRecentlyClicked","krakenEventDetails"]),d=Object(S.k)(),e=Object(S.l)(),p=Object(k.a)({peeprBlogname:a,peeprPostId:null==l?void 0:l.toString()}),m=p===e.pathname,u=Object(w.c)().logEvent,e=Object(f.useCallback)(e=>{var t;o&&u({eventName:o,eventDetails:b()({placement_id:i},c)}),s(!0),setTimeout(()=>s(!1),y.drawerAnimationDurationMs+100),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.alt||!a||!p||m||r||(d.push(p),e.preventDefault(),null===(t=h.onClick)||void 0===t||t.call(h,e))},[p,s]);return!h.href&&a&&(h.href="//".concat(a,".tumblr.com").concat(l?"/post/".concat(l):"")),E.a.createElement("a",g()({},h,{onClick:e,role:"link",className:Object(C.a)(b()({[x.a.blogLink]:Boolean(a)},n&&{[n]:!0}))}),t)},a=e=>{var t=e.showBlogCard,a=v()(e,["showBlogCard"]),r=Object(f.useState)(!1),e=n()(r,2),r=e[0],e=e[1];return t&&!r?E.a.createElement(o.a,{blogName:a.blogName||"",blog:Object(i.a)(a.blog)?a.blog:void 0},E.a.createElement(l,g()({},a,{setLinkWasRecentlyClicked:e}))):E.a.createElement(l,g()({},a,{setLinkWasRecentlyClicked:e}))};a.defaultProps={target:"_blank",rel:"noopener",showBlogCard:!0,children:null},t.a=a},USam:function(e,t,a){"use strict";var r,n=a("3tO9"),m=a.n(n),n=a("J4zp"),u=a.n(n),g=a("q1tI"),b=a.n(g),v=a("vSkO"),f=a("svZL"),E=a("o7iY"),k=a("y4uf"),C=a("r0bR"),w=a("fSeh"),S=a("vteY"),y=a("HkzZ"),x=e=>{var t=e.onPromote,a=new Date(Date.now()),r=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),n=Object(k.c)(),o=n._t,i=n._c,l=Object(g.useState)(""),s=u()(l,2),c=s[0],h=s[1],e=Object(g.useState)(new Date(r+6048e5)),n=u()(e,2),d=n[0],l=n[1],p=b.a.useRef(null);b.a.useEffect(()=>{p.current.focus()},[]);s=Object(g.useCallback)(e=>{e=e.target.value;return c!==e&&h(e)},[c]),e=Object(g.useCallback)(()=>t({tags:Object(C.b)(c),endDate:null==d?void 0:d.toISOString()}),[c,d]),n=o("Promote");return b.a.createElement("div",{className:S.a.promoteFor},b.a.createElement("label",null,o("Tags"),b.a.createElement("input",{placeholder:i("A comma-separated list of example tags","a tag, another tag, ..."),ref:p,onChange:s,value:c})),b.a.createElement("label",null,o("End Date"),b.a.createElement(y.a,{onChange:l,timezoneOffset:a.toString().substr(25,8),initialDatetime:d,minDate:new Date(r)})),b.a.createElement(E.c,{label:n,disabled:!c,onClick:e,theme:E.b.Border,textColor:w.paletteBlack,backgroundColor:w.paletteGray65,disabledTextColor:w.paletteGray40,disabledBackgroundColor:w.paletteGray40},n))},I=a("EilA"),O=a("Qtnd");(r=r=r||{})[r.Promote=0]="Promote",r[r.PromoteFor=1]="PromoteFor",t.a=e=>{var t=e.blogIdentifier,a=e.postId,r=e.isPromoted,n=e.className,o=e.onPromote,i=Object(k.c)(),l=i.features,s=i._t,c=i.apiFetch,e=Object(g.useState)(!1),i=u()(e,2),h=i[0],d=i[1],e=Object(g.useCallback)(()=>d(!h),[h]),p=Object(g.useCallback)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return null==o||o(a,!r),Object(O.a)(c).promote(t,m()(m()({},e),{},{postId:a,isUnpromote:r})).fetch().catch(()=>!!a&&(null==o?void 0:o(a,r)))},[a,r,o]),i=Object(g.useCallback)(()=>p(),[p]);return l.promotingContentApi?b.a.createElement(b.a.Fragment,null,b.a.createElement(v.a,{onClick:i,className:n},s(r?a?"I don't like this post any more":"I don't like this blog any more":a?"This post is really cool":"This blog is really cool")),!r&&b.a.createElement(b.a.Fragment,null,h&&b.a.createElement(I.c,{disable:I.d}),b.a.createElement(f.c,{isOpen:h,toggle:e,targetStyles:{width:"100%"},height:"auto",component:b.a.createElement(x,{onPromote:p})},b.a.createElement(v.a,{isWrappingButton:!0,keepDropdownOpenAfterClick:!0,className:n},s(a?"This post is cool for...":"This blog is cool for..."))))):null}},WeZD:function(e,t,a){"use strict";var r=a("J4zp"),d=a.n(r),p=a("q1tI"),m=a.n(p),u=a("y4uf"),g=a("svZL"),b=a("nA7Y"),v=a("/pt9"),f=a("M3r2"),E=a("g2Yl");t.a=e=>{var t=e.blog,a=e.blogName,r=e.children,n=Object(u.c)(),o=n.isLoggedIn,i=n.logEvent,l=Object(p.useState)(!1),e=d()(l,2),s=e[0],c=e[1],n=Object(f.c)().isSmartphone,l=Object(p.useCallback)(()=>{var e=!s;c(e),e&&i({eventName:E.b.BlogCardShown})},[s]),h=null!==(a=null!==(e=null==t?void 0:t.name)&&void 0!==e?e:a)&&void 0!==a?a:"",a=m.a.useMemo(()=>m.a.createElement(v.b,{blog:t,blogName:h}),[t,h]);return!o||n?m.a.createElement(m.a.Fragment,null,r):m.a.createElement(g.c,{width:280,height:void 0,maxHeight:370,isOpen:s,type:b.c.Hover,position:b.b.Bottom,component:a,toggle:l,showOverflowY:!0,onHoverEnterDelay:500,onHoverExitDelay:200,usePortals:!0},r)}},X9Ig:function(e,t,a){"use strict";var r;a.d(t,"a",function(){return r}),(t=r=r||{}).Square="square",t.Circle="circle"},YYPg:function(e,t,a){"use strict";var r=a("pVnL"),T=a.n(r),n=a("lSNA"),o=a.n(n),i=a("q1tI"),j=a.n(i),l=a("55Ip"),r=a("y4uf"),H=a("Jq/n"),F=a("saDi"),s=a("w7rC"),z=a("Dcbp"),c=a("8/Xn"),D=a("Gt/x"),L=a("X9Ig"),h=a("zoQI"),d=a("78v1"),p=a("3rIL"),n=a("fSeh"),M=a.n(n),m=a("w8yp");class u extends i.Component{constructor(){super(...arguments),o()(this,"state",{oversized:!1}),o()(this,"setElement",e=>this.element=e),o()(this,"expand",()=>this.setState({expandedSize:void 0===this.state.expandedSize?this.element.scrollHeight:void 0}))}componentDidMount(){this.element&&this.element.scrollHeight>this.element.clientHeight&&this.setState({oversized:!0})}renderExpandButton(){var e=this.props.appContext._t,t=void 0!==this.state.expandedSize,a={fill:M.a.blogTitleColor,size:{height:17,width:17}},a=t?j.a.createElement(d.b,a):j.a.createElement(d.c,a);return j.a.createElement(h.a,{className:m.a.expandButtonSpan,wrapperClassName:m.a.expandButton,onClick:this.expand,label:e("Expand blog description")},j.a.createElement("div",{className:Object(H.a)({[m.a.gradient]:!0,[m.a.unexpandedButton]:!t}),style:{}}),j.a.createElement("div",{className:m.a.expandIcon},a))}render(){var e=this.props,t=e.description,a=e.size,r=this.state,n=r.expandedSize,e=r.oversized,r=void 0!==n,t=Object(p.a)(t);if(0===t.length)return null;r=Object(H.a)({[m.a.description]:!0,[m.a.medium]:a===F.a.Medium,[m.a.small]:a===F.a.Small,[m.a.gradient]:e&&a===F.a.Small,[m.a.expanded]:r});return j.a.createElement(i.Fragment,null,j.a.createElement("div",{className:r,style:{maxHeight:n},ref:this.setElement},t),a!==F.a.Small&&e?this.renderExpandButton():null)}}o()(u,"defaultProps",{size:F.a.Big});var R=Object(r.d)(u),A=a("PXvT"),U=a("m6mj"),g=a("jEaf"),b=a("o7iY"),v=a("OPDf"),f=a("6mOw"),E=a("vHCn"),q=a("hkbJ"),_=a("mEZ2"),V=a("g2Yl");class k extends i.Component{constructor(){super(...arguments),o()(this,"prevProgression",0),o()(this,"parallaxScrollWithRequestAnimationFrame",()=>{window.requestAnimationFrame(this.parallaxScroll)}),o()(this,"parallaxScroll",()=>{var e=this.props,t=e.parallaxHeaderContainer,e=e.hasBlogSummary;t&&(t=t.scrollTop,e=this.headerImageBarRef?e?this.headerImageRef.clientHeight-z.blogHeaderBarHeightWithBlogSummary:this.headerImageRef.clientHeight-z.blogHeaderBarHeight:this.headerImageRef.clientHeight,e=Math.max(1-Math.max(e-t,0)/e,0),(e=Math.round(100*e)/100)!==this.prevProgression&&(e<1&&0<=t&&(this.headerImageRef.style.transform="translate3d(0, ".concat(Math.ceil(t/2),"px, 0)")),this.headerImageBarRef&&(e<1?(this.headerImageRef.style.filter="blur(".concat(Math.ceil(10*e),"px)"),this.headerImageBarRef.style.opacity="0"):this.headerImageBarRef.style.opacity="1"),this.avatarRef&&(t=1-Math.min(2*e,1),this.avatarRef.style.opacity="".concat(t),this.avatarRef.style.pointerEvents=t?"all":"none"),this.prevProgression=e))}),o()(this,"maybeRenderCreatorInfo",()=>{if(!this.props.renderCreatorInfo)return null;var e=this.props,t=e.blog,a=t.isPaywallOn,r=t.paywallAccess,n=t.name,o=t.subscriptionPlan,t=t.theme;if(!e.appContext.features.paywallConsumption||!a||!o)return null;e=t||{},a=e.linkColor,o=e.backgroundColor,t=e.showDescription,e=e.showTitle,t=Object(H.a)({[_.a.creatorInfo]:!0,[_.a.withTitleOnly]:e&&!t,[_.a.withDescriptionOnly]:t&&!e,[_.a.noTitleOrDescription]:!e&&!t});return j.a.createElement("div",{className:t},r&&[s.a.Member,s.a.Creator].includes(r)?j.a.createElement(l.Link,{to:"/memberships/".concat(n,"/")},j.a.createElement(g.a,{className:_.a.creatorProfileButton,noHover:!0},j.a.createElement(f.a,{fill:a}),j.a.createElement(v.d,null,"View creator profile"))):j.a.createElement(b.c,{className:_.a.creatorSupportButton,theme:b.b.Default,size:b.a.EntireWidth,textColor:o,backgroundColor:a,href:Object(c.a)({peeprBlogname:n},void 0,{isSupport:!0})},j.a.createElement(E.a,{fill:o,size:{width:20,height:20}}),j.a.createElement(v.d,{comment:"This is a link/call to action for supporting a creator."},"Support")))}),o()(this,"setHeaderImageRef",e=>this.headerImageRef=e),o()(this,"setHeaderImageBarRef",e=>this.headerImageBarRef=e),o()(this,"setAvatarRef",e=>this.avatarRef=e)}componentDidMount(){this.attachParallaxScrollListener()}componentDidUpdate(e){var t;this.props.parallaxHeaderContainer!==e.parallaxHeaderContainer&&null!==(t=this.props.blog.theme)&&void 0!==t&&t.showHeaderImage&&(e.parallaxHeaderContainer&&this.removeParallaxScrollListener(e.parallaxHeaderContainer),this.attachParallaxScrollListener())}componentWillUnmount(){var e;this.props.parallaxHeaderContainer&&null!==(e=this.props.blog.theme)&&void 0!==e&&e.showHeaderImage&&this.removeParallaxScrollListener(this.props.parallaxHeaderContainer)}removeParallaxScrollListener(e){e.removeEventListener("scroll",this.parallaxScrollWithRequestAnimationFrame,{passive:!0})}attachParallaxScrollListener(){var e;this.props.parallaxHeaderContainer&&null!==(e=this.props.blog.theme)&&void 0!==e&&e.showHeaderImage&&(this.props.parallaxHeaderContainer.addEventListener("scroll",this.parallaxScrollWithRequestAnimationFrame,{passive:!0}),this.props.parallaxHeaderContainer.classList.add(_.a.parallaxContainer))}render(){var e=this.props,t=e.parallaxHeaderContainer,a=e.blog,r=e.hasBlogSummary,n=e.size,o=e.hasChicletsBelow,i=e.linkToBlogNetwork,l=e.hideHeaderBar,s=e.hideBlogInfo,c=a.theme,h=a.name,d=a.avatar,p=a.title,m=a.descriptionNpf,u=a.secondsSinceLastActivity,g=void 0===u?999999:u,b=a.topTagsFewer,v=a.badge,f=a.badgeText,E=c||{},k=E.showAvatar,C=E.showHeaderImage,w=E.showTitle,S=E.showDescription,y=E.headerImageScaled,x=E.headerImageFocused,I=E.headerStretch,O=E.avatarShape,e=E.titleFont,u=E.titleFontWeight,c=void 0!==t,E=null;C&&(B=j.a.createElement("img",{src:I?x:y,className:_.a.image,alt:p,ref:this.setHeaderImageRef,loading:"lazy"}),N=Object(H.a)({[_.a.headerImage]:!0,[_.a.parallax]:!!t,[_.a.stretched]:I,[_.a.unstretched]:!I,[_.a[n]]:!0}),P=!!I&&!!c&&j.a.createElement("div",{ref:this.setHeaderImageBarRef,className:Object(H.a)({[_.a.headerImageBar]:!0,[_.a.medium]:n===F.a.Medium,[_.a.displayingBlogSummary]:r})},j.a.createElement("img",{src:x,className:_.a.image,role:"presentation"})),E=j.a.createElement(j.a.Fragment,null,j.a.createElement(A.a,{className:N,blogName:h,showBlogCard:!1,blogNetwork:i,krakenEventName:V.b.BlogHeaderLinkClick},B),P));var N=Object(H.a)({[_.a.avatarPositioner]:!0,[_.a.atopHeaderImage]:C,[_.a["".concat(n,"AvatarPositioner")]]:!0}),B=Object(H.a)({[_.a.avatarWrapper]:!0,[_.a.animateAvatar]:!0,[_.a.circle]:O===L.a.Circle,[_.a.square]:O!==L.a.Circle,[_.a["".concat(n,"Avatar")]]:!0}),P=n===F.a.Small?z.desktopPostAvatarSize:n===F.a.Mini?z.miniBlogCardAvatarSize:z.peeprAvatarSize,g=k&&j.a.createElement(A.a,{className:_.a.avatarBlock,blogName:h,showBlogCard:!1,blogNetwork:i,krakenEventName:V.b.BlogAvatarLinkClick},j.a.createElement("div",{className:N},j.a.createElement("div",{className:B,ref:this.setAvatarRef},j.a.createElement(D.a,{avatarShape:O,imageResponse:d,dimension:P,isOnline:Object(q.a)(g),bigStatusIndicator:!0})))),u={fontFamily:"'".concat(e,"'"),fontWeight:"bold"===u?"bold":"normal",color:M.a.blogTitleColor},p=w&&(n===F.a.Mini?j.a.createElement(A.a,{blogName:h,showBlogCard:!1,className:_.a.title,style:u,krakenEventName:V.b.BlogTitleLinkClick},p):j.a.createElement("h1",{className:_.a.title,style:u},p)),m=S&&m&&j.a.createElement("div",{className:_.a.description},j.a.createElement(R,{description:m,size:n})),o=Object(H.a)({[_.a.bottomHalf]:!0,[_.a.withAvatar]:k,[_.a.withoutHeader]:!C,[_.a.withoutBlogInfo]:s,[_.a.withStretchedHeaderImage]:C&&I,[_.a.withUnstretchedHeaderImage]:C&&!I,[_.a.empty]:!k&&!S&&!w,[_.a.titleOnly]:!S&&w,[_.a["".concat(n,"Bottom")]]:!0,[_.a.withoutChiclets]:!1===o}),m=p||m?j.a.createElement("div",{className:Object(H.a)({[_.a.textContainer]:!0,[_.a.textPositionsAroundImagelessHeader]:!l&&!C})},p,this.maybeRenderCreatorInfo(),m):this.maybeRenderCreatorInfo(),f=r?{blogSummary:{topTagsFewer:b,badge:v,badgeText:f}}:{},m=j.a.createElement("div",{className:o},C&&c&&j.a.createElement("div",{className:_.a.cover}),!l&&j.a.createElement("div",{className:_.a.headerBar},j.a.createElement(U.a,T()({blog:a,isBlogCardHeader:!0},f))),g,!s&&m);return j.a.createElement(j.a.Fragment,null,E,m)}}o()(k,"defaultProps",{size:F.a.Big}),t.a=Object(r.d)(k)},ZvpL:function(e,t,a){"use strict";a.d(t,"d",function(){return w}),a.d(t,"a",function(){return S}),a.d(t,"b",function(){return y}),a.d(t,"c",function(){return x}),a.d(t,"e",function(){return I});var s=a("q1tI"),c=a.n(s),h=a("vSkO"),d=a("fSeh"),r=a("s2Hx"),n=Object(r.c)(c.a.createElement("svg",{viewBox:"0 0 16 18"},c.a.createElement("path",{d:"M4 14h8v-1H4v1zm0-3h8v-1H4v1zm0-3h4V7H4v1zm0-3h4V4H4v1zm11.3 1.1c-.1-.1-.2-.1-.3-.1h-3V1c0-.6-.4-1-1-1H1C.4 0 0 .4 0 1v16c0 .6.4 1 1 1h14c.6 0 1-.4 1-1V7c0-.4-.3-.8-.7-.9zM14 16H2V2h8v5c0 .2.1.4.2.5.1.3.4.5.8.5h3v8z"})));n.defaultProps={size:{width:24,height:24},fill:d.black};var p=n,o=a("28ef"),i=a("F9cT"),l=a("m2uW"),m=a("MpQN"),u=a("9uBL"),g=a("I1Lj"),b=a("Jq8T"),r=a("bgfI"),v=a("y4uf"),n=a("nA7Y"),f=a("539m"),E=a("pCNn"),k=a("Jq/n"),C=a("+9Xq"),w=175,S="auto",y="70vh",x=n.b.Bottom,I={width:14,height:14},O={text:c.a.createElement(o.a,{fill:d.colorTextPostFilter}),photo:c.a.createElement(i.a,{fill:d.colorPhotoPost}),quote:c.a.createElement(l.a,{fill:d.colorQuotePost}),link:c.a.createElement(m.a,{fill:d.colorLinkPost}),chat:c.a.createElement(u.a,{fill:d.colorChatPost}),audio:c.a.createElement(g.a,{fill:d.colorAudioPost}),video:c.a.createElement(b.a,{fill:d.colorVideoPost}),ask:c.a.createElement(r.a,{fill:d.colorAskPost})};t.f=function(e){var a=e.pathGenerator,r=e.isDisabled,n=e.selectType,o=e.selected,t=Object(v.c)(),e=t._t,i=t._c,l=Object(s.useMemo)(()=>({text:i("Post type","Text"),photo:i("Post type","Photo"),quote:i("Post type","Quote"),link:i("Post type","Link"),chat:i("Post type","Chat"),audio:i("Post type","Audio"),video:i("Post type","Video"),ask:i("Post type","Ask")}),[i]),t=Object(s.useCallback)(()=>null==n?void 0:n(),[n]);return c.a.createElement("div",{className:C.a.postTypeDropdown},c.a.createElement(h.a,{className:C.a.allPosts,onClick:t,linkTo:null==a?void 0:a(),isDisabled:r},c.a.createElement("div",{className:C.a.containerLeft},c.a.createElement(p,{fill:d.colorTextPostFilter}),c.a.createElement("div",{className:C.a.postTypeText},e("All posts"))),!o&&c.a.createElement(f.a,{size:I,fill:d.paletteBlue})),c.a.createElement("hr",{className:C.a.itemDivider}),Object.keys(E.n).map(e=>{var t=E.n[e];return c.a.createElement(h.a,{key:t,className:Object(k.a)([C.a.postTypeDropdownItem,C.a["".concat(t,"Filter")]]),linkTo:null==a?void 0:a(t),onClick:()=>null==n?void 0:n(t),isDisabled:r},c.a.createElement("div",{className:C.a.containerLeft},c.a.createElement("div",{className:C.a.typeIcon},O[t]),c.a.createElement("div",{className:C.a.postTypeText},l[t])),o===t&&c.a.createElement(f.a,{size:I,fill:d.paletteBlue}))}))}},aRuQ:function(e,t,a){"use strict";a.d(t,"b",function(){return j});function n(e){return e=e.media,E.a.createElement("figure",{className:m.a.image},E.a.createElement(p.a,{isSquare:!0,imageResponse:e}))}function o(e){return e=e.blocks,E.a.createElement("div",{className:g.a.text},e.map((e,t)=>E.a.createElement(u.c,{block:e,variant:h.o.Micro,key:"".concat(e.text,"-").concat(t)})))}function i(e){var t=e.url,a=e.poster,r=e.description,r=e.title||r,n=null==(t=b.a.parse(t))||null===(n=t.host)||void 0===n?void 0:n.replace(/^www./i,"");return E.a.createElement("div",{className:C.a.link},!(null==a||!a.length)&&E.a.createElement(v.a,{imageResponse:a,sizes:"".concat(f.archivePostWidth,"px"),style:{width:"100%",height:"100%",objectFit:"cover"}}),E.a.createElement("div",{className:C.a.linkDescription},r&&E.a.createElement("p",{className:C.a.linkCaption},r),E.a.createElement("p",{className:C.a.linkUrl},n)))}function l(e){return e=e.poster,E.a.createElement("div",{className:S.a.video},E.a.createElement("em",{className:S.a.playButton},E.a.createElement(w.a,null)),!(null==e||!e.length)&&E.a.createElement(v.a,{imageResponse:e,sizes:"".concat(f.archivePostWidth,"px"),style:{width:"100%",height:"100%",objectFit:"cover"}}))}function s(e){var t=e.poster,a=e.title,e=e.artist,a=a||E.a.createElement(y.d,null,"Listen");return E.a.createElement("div",{className:I.a.audio},!(null==t||!t.length)&&E.a.createElement(v.a,{className:I.a.audioHero,imageResponse:t,sizes:"".concat(f.archivePostWidth,"px")}),E.a.createElement("div",{className:I.a.audioDescription},E.a.createElement("em",{className:I.a.playButton},E.a.createElement(w.a,{withCircle:!1,fill:x.a.paletteWhite})),E.a.createElement("div",{className:I.a.audioInfo},E.a.createElement("p",{className:I.a.audioTitle},a),e&&E.a.createElement("p",{className:I.a.audioArtist},e))))}function c(){return E.a.createElement("div",{className:O.a.empty})}var r=a("q1tI"),E=a.n(r),h=a("pCNn"),k=a("rKD4"),d=a("7fqf"),p=a("VXYR"),m=a("J1kM"),u=a("Kiv0"),g=a("GZW7"),r=a("CxY0"),b=a.n(r),v=a("aJ4X"),f=a("Dcbp"),C=a("NQJ+"),w=a("F6jV"),S=a("FDzb"),y=a("OPDf"),r=a("fSeh"),x=a.n(r),I=a("raRv"),O=a("CcPO"),N=a("Jq/n"),B=a("y4uf"),P=a("PXvT"),T=a("QVQ/"),j=e=>{var t=e.type,a=e.trail,r=void 0===a?[]:a,a=e.content,e=e.prioritizeImageBlocks,e=void 0!==e&&e;if(t!==h.c)return E.a.createElement(c,null);e=Object(d.a)(r,a,e);if(!e)return E.a.createElement(c,null);if(Array.isArray(e))return E.a.createElement(o,{blocks:e});return Object(h.B)(e)?E.a.createElement(n,{media:e.media}):Object(h.D)(e)?E.a.createElement(i,{url:e.url,poster:e.poster,description:e.description,title:e.title}):Object(h.R)(e)?E.a.createElement(l,{poster:e.poster}):Object(h.u)(e)?E.a.createElement(s,{poster:e.poster,title:e.title,artist:e.artist}):E.a.createElement(c,null)};t.a=function(e){var t=e.timelineObject,a=t.content,r=t.trail,n=t.postUrl,o=t.date,i=t.noteCount,l=t.tags,s=t.type,c=t.filtered,h=t.blogName,d=t.id,p=t.blog,m=e.tabIndex,u=e.className,g=e.prioritizeImageBlocks,b=e.showHover,v=void 0===b||b,f=e.openInPeepr,t=void 0!==f&&f,b=Object(B.c)(),e=b._n,f=b._getLocaleDateString,b=b._c,o=o&&f(o,k.a.Notes),g=j({type:s,trail:r,content:a,prioritizeImageBlocks:g}),u=Object(N.a)([T.a.container,u]),l=v&&E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:T.a.hoverInner},E.a.createElement("h1",{className:T.a.postDate},o),e("%1$s note","%1$s notes",i)),E.a.createElement("div",{className:T.a.hoverTags},null==l?void 0:l.map(e=>"#".concat(e)).join(" "))),l=t?E.a.createElement(P.a,{blogName:h,postId:d,href:n,className:Object(N.a)({[T.a.postGlass]:!0,[T.a.hover]:v}),tabIndex:m,showBlogCard:!1,blog:p},l):E.a.createElement("a",{href:n,className:Object(N.a)({[T.a.postGlass]:!0,[T.a.hover]:v}),target:"_blank",tabIndex:m},l);return c?E.a.createElement("div",{className:u,tabIndex:m},E.a.createElement("div",{className:"".concat(T.a.micro," ").concat(T.a.filteredWrapper)},E.a.createElement("div",{className:T.a.filtered},b("A message shown on a post with filtered tags that explains to the user why it is hidden","This post contains filtered tags."))),l):E.a.createElement("div",{className:u,tabIndex:m},E.a.createElement("div",{className:T.a.micro},g),l)}},afeb:function(e,t,a){"use strict";a.d(t,"e",function(){return s}),a.d(t,"a",function(){return c}),a.d(t,"c",function(){return h}),a.d(t,"b",function(){return d}),a.d(t,"d",function(){return p});var r=a("q1tI"),n=a.n(r),o=a("s2Hx"),i=a("fSeh"),l=e=>Object(o.c)(n.a.createElement("svg",{viewBox:"0 0 20 17",style:{transform:"rotate(".concat(e,"deg)")}},n.a.createElement("path",{d:"M5.7 10.009l4.8 4.527c.2.2.2.603 0 .804L9 16.85c-.2.2-.6.2-.8 0L0 8.901v-.804L8.2.15c.2-.201.6-.201.8 0l1.5 1.509c.2.2.2.603 0 .804L5.7 6.991h13.4s.9.905.9 1.006v.905l-1 1.107H5.7z"}))),s=l(0),t=l(45),c=l(90),r=l(135),a=l(180),h=l(225),d=l(270),p=l(315);[s,t,c,r,a,h,d,p].forEach(e=>e.defaultProps={size:{width:20,height:17},fill:i.white})},bgfI:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("fSeh"),a=a("s2Hx"),n=Object(a.c)(n.a.createElement("svg",{viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M10 0C4.5 0 0 4.5 0 10s4.5 10 10 10 10-4.5 10-10S15.5 0 10 0zM8.7 13.7h2.6v2.5H8.7v-2.5zM14 8.6c-.2.6-.7 1.1-1.2 1.5-.2.2-.5.3-.7.5l-.6.6c-.2.2-.3.5-.3.8v.6H8.9v-.7c0-.5.1-.9.3-1.2.1-.3.3-.6.5-.8l.6-.6c.3-.1.5-.3.7-.5l.5-.5c.1-.2.2-.4.2-.7 0-.5-.1-.9-.4-1.1-.2-.2-.6-.4-1-.4-.3 0-.6.1-.8.2-.3 0-.5.2-.6.4-.2.2-.3.4-.3.7-.1.2-.1.5-.1.8H6c0-.6.1-1.1.3-1.6.2-.5.5-.9.8-1.3.4-.4.8-.7 1.3-.9.5-.2 1.1-.3 1.6-.3.8 0 1.4.1 2 .3.5.2.9.5 1.3.8.3.3.6.7.7 1 .1.4.2.7.2 1 0 .6-.1 1.1-.2 1.4z"})));n.defaultProps={size:{width:24,height:24},fill:r.black},t.a=n},dbGf:function(e,t,a){"use strict";var r=a("wig9"),n=a.n(r),r=a("q1tI"),o=a.n(r),i=a("EcmC");t.a=function(e){e=e.className;return o.a.createElement("div",{className:n()([i.a.loadingBar,e||null]).join(" ")})}},deKD:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.c)(n.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},n.a.createElement("path",{d:"M24 10.526l-.36-.12-2.94-.962-.78-1.925 1.5-3.248-1.92-1.985-.36.18-2.76 1.444-1.86-.782L13.32 0h-2.58l-.12.421-1.08 2.707-1.86.782L4.5 2.346 2.58 4.33l1.56 3.188-.78 1.925L0 10.586v2.828l.36.12 2.94 1.083.78 1.924-1.5 3.309 1.92 1.985.36-.18 2.76-1.444 1.86.781L10.68 24h2.58l.12-.36 1.08-2.587 1.86-.782 3.18 1.564 1.92-1.985-.18-.361-1.38-2.827.78-1.925 3.3-1.203v-3.008H24zM7.2 11.97c0-2.647 2.16-4.812 4.8-4.812 2.64 0 4.8 2.165 4.8 4.812 0 2.647-2.16 4.812-4.8 4.812-2.64 0-4.8-2.165-4.8-4.812z"})));n.defaultProps={size:{width:24,height:24},fill:a.white},t.a=n},eU5J:function(e,t,a){"use strict";var r=a("q1tI"),o=a.n(r),i=a("y4uf"),l=a("Jq/n"),s=a("FP6t"),c=a("0cOh");t.a=function(e){var t=e.className,a=e.isInPeepr,r=e.showLabel,n=void 0===r||r,r=e.iconSize,e=void 0===r?24:r,r=Object(i.c)()._c,n=Object(l.a)({[c.a.isInPeepr]:a,screenReaderOnly:!n});return o.a.createElement("div",{className:Object(l.a)([c.a.creatorBadge,t])},o.a.createElement(s.a,{size:{width:e,height:e}}),o.a.createElement("span",{className:n},r("Label denotes blog owner as a creator, a provider of paid content","Creator")))}},f5aO:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.c)(n.a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12"},n.a.createElement("path",{d:"M11.68.32a1.095 1.095 0 0 1 0 1.55L7.548 6l4.13 4.13a1.095 1.095 0 1 1-1.549 1.55L6 7.548l-4.13 4.13A1.095 1.095 0 1 1 .32 10.13L4.452 6 .321 1.87A1.095 1.095 0 1 1 1.87.32L6 4.452l4.13-4.13a1.095 1.095 0 0 1 1.55 0z"})));n.defaultProps={size:{width:12,height:12},fill:a.white},t.a=n},fgfG:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var t=a("3tO9"),r=a.n(t),n=a("g2Yl"),o=(e,t,a)=>{e({eventName:n.b.Hyperlink,eventDetails:r()({placement_id:t},a)})}},hkbJ:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var r=a("dtCM"),n=e=>!(null==e||-1===e||e>4*r.b.Hour)},jEaf:function(e,t,a){"use strict";var r=a("3tO9"),o=a.n(r),r=a("q1tI"),i=a.n(r),l=a("Jq/n"),s=a("Zu5j");t.a=e=>{var t=e.className,a=e.style,r=e.isThin,n=e.noHover,e=e.children;return i.a.createElement("span",{className:Object(l.a)(o()({[s.a.pill]:!0,[s.a.thin]:r,[s.a.noHover]:n},t?{[t]:!0}:void 0)),style:a},e)}},m2uW:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.c)(n.a.createElement("svg",{viewBox:"0 0 17 13"},n.a.createElement("path",{d:"M3.5 5.5C4 3.7 5.8 2.4 7.2 1.3L5.9 0C3 1.8 0 5 0 8.5 0 11 1.3 13 4 13c2 0 3.7-1.5 3.7-3.6C7.7 7 6 5.5 3.5 5.5zm9.3 0c.4-1.8 2.2-3.1 3.7-4.2L15.2 0c-2.8 1.8-5.9 5-5.9 8.5 0 2.4 1.3 4.5 4 4.5 2 0 3.7-1.5 3.7-3.6 0-2.4-1.7-3.9-4.2-3.9z"})));n.defaultProps={size:{width:24,height:24},fill:a.gray40},t.a=n},m6mj:function(e,t,a){"use strict";function n(e){var t=e.hasHistory,a=e.fill,r=e.size,n=e.onClick,o=e.forwardedRef,i=e.isMobile,e=Object(E.c)()._c,e=t?e("Go back to the previous page","Return"):e("Close current popover window","Close");return b.a.createElement(k.a,{style:{width:r.width},forwardedRef:o,label:e,onClick:n},t||i?b.a.createElement(w.e,{size:r,fill:a}):b.a.createElement(C.a,{size:{height:.8*r.height,width:.8*r.width},fill:a}))}var r=a("3tO9"),o=a.n(r),i=a("lSNA"),l=a.n(i),s=a("Xp7I"),p=a.n(s),c=a("q1tI"),b=a.n(c),m=a("Jq/n"),h=a("sbvv"),d=a("Qtnd"),r=a("o56e"),u=a("bt0A"),i=a("Dcbp"),s=a("fSeh"),g=a.n(s),v=a("saDi"),f=a("ofoP"),E=a("y4uf"),k=a("zoQI"),C=a("f5aO"),w=a("afeb"),S=a("PXvT"),y=a("7wT5"),x=a("/I66"),I=a("12Gh"),s=a("vN+2"),O=a.n(s),N=a("/YTo"),B=a("vSkO"),P=a("zdl0"),T=a("nA7Y"),j=a("ghwC"),H=a("ZvpL"),F=a("A7kB"),z=a("q7r4"),D=a("539m"),L=a("pCNn"),M=a("gBFL"),R=a("39Ln");class A extends c.Component{constructor(){super(...arguments),l()(this,"state",{postRole:this.props.match.params.peeprPostRole||N.a.postRole,postType:this.props.match.params.peeprSelectedPostType||N.a.postType,postSort:this.props.match.params.peeprSearchMode===M.a.Top?L.k.PopularityDesc:L.k.CreatedDesc}),l()(this,"getFilterQueryParams",()=>this.state),l()(this,"reset",()=>this.setState(N.a)),l()(this,"renderFilterMenu",()=>{var e=this.props.appContext._t,t=this.state,a=t.postRole,t=t.postType;return b.a.createElement("div",{className:R.a.FilterMenu},this.renderDropdownItemForSort(e("Top Posts"),L.k.PopularityDesc),this.renderDropdownItemForSort(e("Recent Posts"),L.k.CreatedDesc),b.a.createElement(B.a,{className:R.a.filterItem,onClick:this.toggleOriginalState},e("Original Posts"),b.a.createElement(F.a,{onChange:O.a,size:z.a.small,checked:a===L.j.Original,controlled:!0})),b.a.createElement(H.f,{selectType:this.selectType,selected:t}))}),l()(this,"renderDropdownItemForSort",(e,t)=>b.a.createElement(B.a,{className:R.a.filterItem,onClick:this.getOnClickSortDropdown(t)},e,t===this.state.postSort&&b.a.createElement(D.a,{size:H.e,fill:g.a.paletteBlue}))),l()(this,"getOnClickSortDropdown",e=>()=>this.setState({postSort:e},this.props.onParamsUpdated)),l()(this,"selectType",e=>this.setState({postType:e},this.props.onParamsUpdated)),l()(this,"toggleOriginalState",()=>this.setState(e=>({postRole:e.postRole===L.j.Any?L.j.Original:L.j.Any}),this.props.onParamsUpdated))}render(){var e=this.props,t=e.fill,a=e.size,e=this.props.appContext._t;return b.a.createElement(j.a,{render:this.renderFilterMenu,position:T.b.Bottom,width:"250px",height:"auto",boundary:T.a.ScrollParent},b.a.createElement(k.a,{label:e("Filter")},b.a.createElement(P.a,{size:a,fill:t})))}}var s=Object(E.e)(A),U=Object(r.d)(s),s=a("yXPU"),q=a.n(s),s=a("UfWW"),_=a.n(s),s=a("o0o1"),V=a.n(s),W=a("o0Qe"),Y=a("EilA"),G=a("svZL"),J=a("iOo1"),Q=a("10fN"),X=a("g2Yl"),K=Object(Y.k)([Y.b.Enter,Y.b.Escape,Y.b.Up,Y.b.Down,Y.b.Slash]),Z=null;class $ extends c.Component{constructor(){var a,t;super(...arguments),a=this,l()(this,"state",o()(o()({},function(e){e=0<arguments.length&&void 0!==e?e:"";return{searchInputText:e,isOpenPopover:""===e,inputHasFocus:!0,lastHandledSearchTextFromURL:"",selectedTagIndex:Z,topTags:[]}}(this.props.match.params.peeprSearchTerm)),{},{topTags:[]})),l()(this,"inputRef",Object(c.createRef)()),l()(this,"popularTagRefs",[]),l()(this,"apiHelper",Object(d.a)(this.props.appContext.apiFetch)),l()(this,"getSearchInputText",()=>this.state.searchInputText),l()(this,"getInputView",()=>{var e=this.props,t=e.fill,a=e.isOpen,r=this.state.searchInputText,e=this.props.appContext._t;return b.a.createElement("input",{ref:this.inputRef,style:{color:t},className:Object(m.a)({[Q.a.searchInput]:!0,[Q.a.hidden]:!a}),type:"text",value:r,placeholder:e("Search"),autoComplete:"off",autoFocus:!0,"aria-label":e("Search"),onKeyDown:this.handleKeyDown,onChange:this.handleTextChange,onFocus:this.onFocus,onBlur:this.onBlur})}),l()(this,"onBlur",e=>this.setState({inputHasFocus:!1},this.props.onBlur)),l()(this,"getSearchTextFromURL",()=>{var e;return null!==(e=this.props.match)&&void 0!==e&&e.params.peeprSearchTerm?Object(J.a)(this.props.match.params.peeprSearchTerm):""}),l()(this,"onToggle",e=>this.setState({isOpenPopover:!!e})),l()(this,"closePopover",()=>this.setState({isOpenPopover:!1})),l()(this,"onPeeprSearchBlur",(t=q()(V.a.mark(function e(t){return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(r=>new Promise((e,t)=>{var a=r.currentTarget;setTimeout(()=>e(a.contains(document.activeElement)),0)}))(t);case 2:e.sent||a.closePopover();case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),l()(this,"onFocus",()=>{var e=this.props.appContext.logEvent;this.onToggle(!0),this.setState({inputHasFocus:!0}),e({eventName:X.b.PeeprSearchOpen})}),l()(this,"focusInput",()=>{this.state.selectedTagIndex!==Z&&this.setState({selectedTagIndex:Z}),this.inputRef.current&&this.inputRef.current.focus()}),l()(this,"getTags",()=>this.apiHelper.getBlogInfo(this.props.blogName,Object(h.b)([v.c.topTags])).fetch(e=>{e=e.response.blog.topTags;return(null==e?void 0:e.length)&&this.setState({topTags:e})})),l()(this,"handleKeyDown",e=>{e.key===Y.b.Enter&&""!==this.state.searchInputText&&this.props.onTextUpdated()}),l()(this,"getFilteredTags",()=>this.state.topTags.filter(e=>!!e.tag&&-1!==e.tag.toLowerCase().indexOf(this.state.searchInputText.toLowerCase())).slice(0,20)),l()(this,"renderPopularTagPopover",e=>{var r=this.state.selectedTagIndex,t=this.props.appContext._t;return b.a.createElement("div",{className:Q.a.tagPopover},b.a.createElement(Y.c,{hotkey:[{key:Y.b.Down,command:this.onDownPress},{key:Y.b.Up,command:this.onUpPress}]}),b.a.createElement("div",{className:Q.a.header},t("Popular Tags")),e.map((e,t)=>{var a=Object(c.createRef)();return this.popularTagRefs[t]=a,b.a.createElement(k.a,{key:e.tag,forwardedRef:a,label:"label",wrapperClassName:Object(m.a)({[Q.a.popularTag]:!0,[Q.a.selectedTag]:t===r}),onClick:this.onClickTag,onFocus:this.onFocusTag,value:e.tag},"#",e.tag)}))}),l()(this,"focusPopularTagByIndex",e=>{var t;null!==e&&(null===(e=this.popularTagRefs[e])||void 0===e||null===(t=e.current)||void 0===t||t.focus())}),l()(this,"onArrowPress",e=>{var t=this.state.selectedTagIndex,a=this.getFilteredTags();"number"!=typeof t?(e===Y.b.Up&&(t=a.length-1),e===Y.b.Down&&(t=0)):(e===Y.b.Up&&--t,e===Y.b.Down&&(t+=1),(t<0||t>=a.length)&&(t=Z)),this.setState({selectedTagIndex:t},()=>{this.focusPopularTagByIndex(this.state.selectedTagIndex),this.state.selectedTagIndex===Z&&this.focusInput()})}),l()(this,"onDownPress",()=>{this.onArrowPress(Y.b.Down)}),l()(this,"onUpPress",()=>{this.onArrowPress(Y.b.Up)}),l()(this,"handleTextChange",e=>{this.setState({isOpenPopover:!0});e=e.target.value;e!==this.state.searchInputText&&this.setState({searchInputText:e})}),l()(this,"onClickTag",e=>{e=e.currentTarget.value;this.setState({searchInputText:e,isOpenPopover:!1},this.props.onTextUpdated)}),l()(this,"onFocusTag",e=>{var t=e.currentTarget.value,e=this.getFilteredTags(),e=_()(e,e=>e.tag===t);this.setState({selectedTagIndex:-1===e?Z:e})})}componentDidUpdate(e,t){var a=this.props.isOpen,r=this.state.isOpenPopover;this.getSearchTextFromURL()!==this.state.lastHandledSearchTextFromURL&&this.handleSearchTextFromQueryParams(),a&&(!e.isOpen&&this.inputRef.current&&this.inputRef.current.focus(),this.state.topTags.length||this.getTags()),!r&&null!=t&&t.isOpenPopover&&this.setState({selectedTagIndex:Z})}componentDidMount(){this.handleSearchTextFromQueryParams()}render(){var e=this.props,t=e.fill,a=e.size,r=e.isOpen,n=e.onClick,o=e.isTransitionedIn,i=this.state,l=i.topTags,s=i.isOpenPopover,c=i.inputHasFocus,e=this.props.appContext._t,i=this.getFilteredTags();return b.a.createElement("div",{className:Q.a.peeprSearch,onBlur:this.onPeeprSearchBlur},r&&b.a.createElement(Y.c,{hotkey:[{key:Y.b.Slash,modifiers:{[Y.a.Shift]:!0},command:this.focusInput}]}),r&&c&&b.a.createElement(Y.c,{disable:K}),b.a.createElement(k.a,{label:e("Search"),onClick:n},b.a.createElement(W.a,{size:a,fill:t})),0===l.length&&r&&this.getInputView(),!!l.length&&b.a.createElement(G.c,{isOpen:o&&s&&!!i.length,toggle:this.onToggle,position:T.b.BottomStart,width:170,height:"auto",maxHeight:200,usePortals:!1,useFlex:!0,skipClickToOpen:!0,positionBasedOffsetModifiers:{[T.b.Bottom]:{left:5,top:0}},component:this.renderPopularTagPopover(i)},this.getInputView()))}handleSearchTextFromQueryParams(){var e=this.getSearchTextFromURL();this.setState({searchInputText:e,lastHandledSearchTextFromURL:e,isOpenPopover:!1},this.props.onTextUpdated)}}var s=Object(E.e)($),ee=Object(r.d)(s),te=a("deKD"),ae=a("dRu9"),re=a("kGKH"),ne=a("M3r2"),oe=a("/XX3"),ie=a("Mssm"),le=a("eU5J"),se=a("Ai7E"),ce=a("8/Xn"),he=a("3QcM"),de=a("wkDo"),pe={height:i.desktopHeaderBarIconWidth,width:i.desktopHeaderBarIconWidth},me={height:i.mobileHeaderBarIconWidth,width:i.mobileHeaderBarIconWidth};class ue extends c.Component{constructor(){var e;super(...arguments),l()(this,"state",{followed:!(null===(e=this.props.blog)||void 0===e||!e.followed),canSubscribe:!(null===(e=this.props.blog)||void 0===e||!e.canSubscribe),isSearchOn:void 0!==this.props.match.params.peeprSearchTerm,lastSearchedText:""}),l()(this,"backButton",Object(c.createRef)()),l()(this,"headerBarRef",Object(c.createRef)()),l()(this,"filterMenuRef",Object(c.createRef)()),l()(this,"peeprSearchRef",Object(c.createRef)()),l()(this,"apiHelper",Object(d.a)(this.props.appContext.apiFetch)),l()(this,"getLastSearchInputText",()=>this.state.lastSearchedText),l()(this,"getCurrentSearchInputText",()=>{var e;return Object(J.c)(null===(e=this.peeprSearchRef.current)||void 0===e?void 0:e.getSearchInputText())}),l()(this,"toggleSearch",()=>this.setState(e=>({isSearchOn:!e.isSearchOn}))),l()(this,"openSearch",()=>this.setState({isSearchOn:!0})),l()(this,"returnButtonOnClick",()=>{var e,t;null===(e=(t=this.props).onReturn)||void 0===e||e.call(t),null===(t=this.filterMenuRef.current)||void 0===t||t.reset()}),l()(this,"getIconSize",e=>e?me:pe),l()(this,"renderSearchButton",t=>b.a.createElement(ae.f,{in:this.state.isSearchOn,timeout:{enter:u.inputPeeprSearchTransitionDurationInMs,exit:0}},e=>this.renderContentFromTransitionStatus(e,t))),l()(this,"renderContentFromTransitionStatus",(e,t)=>{var a=this.state.isSearchOn,r=this.props,n=r.blog.name,r=r.location;return b.a.createElement(ee,{ref:this.peeprSearchRef,location:r,isOpen:a,size:this.getIconSize(t),fill:this.getHeaderColor(),onClick:this.toggleSearch,blogName:n,onTextUpdated:this.updateURL,isTransitionedIn:e===ae.a})}),l()(this,"onMessageIconClick",()=>{var e=this.props,t=e.blog.name,a=e.appContext,r=a.getUserInfo,a=a.logEvent,n=e.messagingContext.openConversationWindow;return a({eventName:X.b.BlogMessageIconClick}),r().then(y.a).then(e=>{e=e.name;n({selectedBlogName:e,otherParticipantName:t})})}),l()(this,"renderExportButton",e=>b.a.createElement("div",{className:de.a.headerButton,key:"export"},b.a.createElement(I.a,{blogUrl:this.props.blog.url,size:this.getIconSize(e),fill:this.getHeaderColor()}))),l()(this,"renderFilterButton",e=>b.a.createElement("div",{className:de.a.headerButton,key:"filter"},b.a.createElement(U,{ref:this.filterMenuRef,onParamsUpdated:this.updateURL,blogUrl:this.props.blog.url,size:this.getIconSize(e),fill:this.getHeaderColor()}))),l()(this,"buildFilterPath",()=>this.getHrefForTag(this.getCurrentSearchInputText())),l()(this,"getHrefForTag",e=>Object(ce.a)({peeprBlogname:this.props.blog.name},o()({peeprSearchTerm:e},this.filterMenuRef.current&&Object(se.a)(this.filterMenuRef.current.getFilterQueryParams())))),l()(this,"updateURL",()=>this.setState({lastSearchedText:this.getCurrentSearchInputText()},()=>{var e=this.props,t=e.history,e=e.location;this.getCurrentSearchInputText()&&e.pathname!==this.buildFilterPath()&&t.push(this.buildFilterPath())})),l()(this,"onFollow",(e,t)=>(this.setState({followed:t}),this.apiHelper.getBlogInfo(e,Object(h.b)([v.c.canSubscribe])).fetch(e=>{e=e.response.blog.canSubscribe;this.setState({canSubscribe:!!e})}))),l()(this,"getHeaderColor",()=>this.isHeaderImageStretched()?g.a.white:g.a.blogContrastingLinkColor)}componentDidMount(){this.props.match.params.peeprSearchTerm&&this.setState({isSearchOn:!0})}componentDidUpdate(e){var t=this.props,a=t.onReturn,t=t.blog;a&&!e.onReturn&&(null===(a=this.backButton.current)||void 0===a||a.focus()),t&&!e.blog&&this.setState({followed:!!t.followed,canSubscribe:!!t.canSubscribe})}render(){var e=this.props,t=e.blog,a=e.blogSummary,r=void 0===a?{}:a,n=e.isBlogCardHeader,a=e.isMembershipsView,e=e.appContext,o=e._t,i=e.isLoggedIn,l=e.wwwBaseUrl,s=this.state.isSearchOn,c=!n&&!a,e=r.topTagsFewer,a=void 0===e?[]:e,e=r.badge,r=r.badgeText,a=p()(a,2).map(e=>b.a.createElement(he.a,{key:e,tagName:e})),h=0<a.length||!!e&&0<e.length,e=b.a.createElement("span",{className:de.a.blogBadge,title:r,"aria-label":r},e),d=h&&b.a.createElement("div",{className:de.a.blogSummary,style:{color:this.getHeaderColor()}},e," ",a);return b.a.createElement(ne.a,null,e=>{e=e.isMobile;return t?b.a.createElement("div",{className:Object(m.a)({[de.a.headerContainer]:!0,[de.a.withStretchedHeaderImage]:this.isHeaderImageStretched(),[de.a.displayingBlogSummary]:h,[de.a.blogCardHeaderBar]:n,[de.a.searching]:c&&s}),style:{backgroundColor:this.isHeaderImageStretched()?void 0:g.a.blogBackgroundColor}},b.a.createElement("header",{className:Object(m.a)({[de.a.headerBar]:!0,[de.a.withStretchedHeaderImage]:this.isHeaderImageStretched(),[de.a.blogCardHeaderBar]:n,[de.a.searching]:!n&&s,[de.a.displayingBlogSummary]:h}),ref:this.headerBarRef,"aria-label":o("%1$s's blog header",t.name),role:"banner"},this.renderReturnButton(e),this.renderBlogUrl(),b.a.createElement("div",{className:de.a.headerSearchContainer},b.a.createElement("div",{className:de.a.headerLeftSide},c&&i&&this.renderSearchButton(e))),b.a.createElement("div",{className:de.a.headerRightSide},c&&s&&!!this.peeprSearchRef.current&&!!this.peeprSearchRef.current.getSearchInputText().length&&this.renderFilterButton(e),!n&&!e&&this.renderExportButton(e),this.renderMessageButton(e),this.renderSettingsButton(e,l),this.renderMeatballsButton(e),this.renderFollowButton(e)),c&&b.a.createElement(Y.c,{hotkey:{key:Y.b.Slash,command:this.openSearch,modifiers:{[Y.a.Shift]:!0}}})),d):b.a.createElement("div",{className:de.a.headerContainer},b.a.createElement("header",{className:de.a.headerBar},this.renderReturnButton(e)))})}renderReturnButton(e){var t=this.props,a=t.onReturn,r=t.hasHistory,t=t.blog?this.getHeaderColor():g.a.paletteGray40;return a?b.a.createElement(n,{forwardedRef:this.backButton,hasHistory:r,isMobile:e,onClick:this.returnButtonOnClick,size:this.getIconSize(e),fill:t}):null}renderBlogUrl(){var e=this.props,t=e.blog,a=e.linkToBlogNetwork,r=e.isBlogCardHeader,n=e.appContext.features.paywallConsumption,o=t.url,i=t.name,l=t.advertiserName,s=t.isBloglessAdvertiser,c=t.isPaywallOn,e=t.subscriptionPlan,s=!(void 0!==s&&s),e=b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:de.a.blogLinkShort},l||i,n&&c&&e&&b.a.createElement(le.a,{className:de.a.creatorBadge,iconSize:18,isInPeepr:!0,showLabel:!1}))),h=b.a.createElement("div",{className:de.a.blogLinkLong},l||((l=(h=o).match(/(https?:\/\/)?([^/]+)/i))?l[2]:h));return b.a.createElement("div",{className:Object(m.a)({[de.a.blogLinkWrapper]:!0,[de.a.blogCardBlogLink]:r})},s?b.a.createElement(S.a,{blogNetwork:a,blogName:i,className:de.a.blogLink,href:o,target:"_blank",rel:"noopener",style:{color:this.getHeaderColor()},showBlogCard:!1,blog:t,krakenEventName:X.b.BlogUrlClick},e,h):b.a.createElement("div",{className:de.a.blogLink},e,h))}renderMessageButton(e){var t=this.props,a=t.blog,r=a.canMessage,n=a.primary,a=t.appContext,t=a._t;return a.isLoggedIn&&!n&&r&&b.a.createElement(k.a,{wrapperClassName:de.a.headerButton,key:"messaging",label:t("Message"),onClick:this.onMessageIconClick},b.a.createElement(oe.a,{size:this.getIconSize(e),filledIconFillColor:this.getHeaderColor()}))}renderMeatballsButton(e){var t=this.props,a=t.appContext.isLoggedIn,r=t.isBlogCardHeader,n=t.blog,o=n.name,i=n.url,l=n.canMessage,s=n.subscribed,c=n.ask,h=n.canSubmit,d=n.shareFollowing,p=n.isBlockedFromPrimary,m=n.analyticsUrl,u=n.advertiserName,g=n.primary,t=this.state,n=t.canSubscribe,t=t.followed;return b.a.createElement("div",{className:de.a.headerButton,key:"userInfo"},b.a.createElement(x.a,{blogName:o,blogUrl:i,subscribed:s,canSubscribe:n,isBlockedFromPrimary:p,fill:this.getHeaderColor(),showFollowing:d,analyticsUrl:m,showAsk:c,showArchive:!u,renderExportItems:e,renderMessaging:r&&a&&l&&!g,renderUnfollowButton:e&&t,clickUnfollowButton:this.onFollow,clickSendAMessage:this.onMessageIconClick,showSubmission:h,icon:e&&b.a.createElement(re.a,{size:{width:18,height:18},fill:this.getHeaderColor()})}))}renderSettingsButton(e,t){var a=this.props,r=a.blog,n=r.isMember,o=r.name,r=a.appContext,a=r._t;return r.isLoggedIn&&n&&b.a.createElement("a",{className:de.a.headerButton,key:"settings","aria-label":a("Settings"),role:"button",href:"".concat(t).concat(Object(f.c)({blogName:o})),target:"_blank"},b.a.createElement(te.a,{size:this.getIconSize(e),fill:this.getHeaderColor()}))}renderFollowButton(e){var t=this.props,a=t.isBlogCardHeader,r=t.isPeeprHeader,n=this.props.blog,o=n.url,i=n.name,l=n.canBeFollowed,t=this.state.followed,n=this.isHeaderImageStretched()?g.a.black:g.a.blogBackgroundColor;return l&&!(e&&t)&&b.a.createElement(ie.a,{key:"followButton",className:Object(m.a)([de.a.followButton,de.a.headerButton]),style:{color:e?this.getHeaderColor():n,backgroundColor:e?void 0:this.getHeaderColor()},following:t,blogName:i,blogUrl:o,onFollow:this.onFollow,isBlogCardHeader:a,isPeeprHeader:r})}isHeaderImageStretched(){var e=this.props.blog,t=(null==e?void 0:e.theme)||{},e=t.headerStretch;return!!t.showHeaderImage&&!!e}}i=Object(r.c)(ue,{appContext:!0,messagingContext:!0});t.a=Object(r.d)(i)},q7r4:function(e,t,a){"use strict";var r;a.d(t,"a",function(){return r}),(t=r=r||{}).small="small",t.medium="medium",t.large="large"},rU90:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"c",function(){return s});var r=a("q1tI"),n=a("iOo1"),o=a("zOq6"),i=(e,t)=>Object(o.a)("/tagged/".concat(Object(n.b)(e)),{sort:t}),l=Object(r.createContext)(i),s=()=>Object(r.useContext)(l);t.a=l},vAT5:function(e,t,a){"use strict";var r=a("3tO9"),s=a.n(r),n=a("lSNA"),o=a.n(n),i=a("q1tI"),l=a.n(i),c=a("Ty5D"),h=a("g2Yl"),d=a("ofoP"),p=a("zoQI"),m=a("M40m"),u=a("Qtnd"),r=a("o56e"),n=a("wzEd"),g=a("Jq/n"),b=a("9AAA");class v extends i.Component{constructor(){super(...arguments),o()(this,"apiHelper",Object(u.a)(this.props.appContext.apiFetch)),o()(this,"sendCallbacks",e=>{var t,a=this.props,r=a.blogName,n=a.onFollow,a=a.timelineContext;null==n||n(r,e),null==a||null===(t=a.onFollow)||void 0===t||t.call(a,r,e)}),o()(this,"getFollowSource",()=>{var e=window.location.pathname,t=this.props,a=t.isPostHeader,t=t.isReblogHeader,t=a||t;return Object(d.t)(e)?t?h.a.EXPLORE_POST:h.a.EXPLORE:e.startsWith("/tagged")?t?h.a.TAGGED_POST:h.a.TAGGED:void 0}),o()(this,"onClick",e=>{var t=this.props,a=t.following,r=t.blogUrl,n=t.callOnFollowAfterApiFetch,o=t.placementId,i=t.earnedId;e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var l=!a;n||this.sendCallbacks(l);e=this.getFollowSource();return(a?this.apiHelper.unfollowBlog(r,o,e):this.apiHelper.followBlog(r,o,e)).fetch(()=>n&&this.sendCallbacks(l)).then(()=>{var e=this.props,t=e.isReblogHeader,a=e.isBlogCardHeader,r=e.isPeeprHeader;(0,e.appContext.logEvent)({eventName:h.b.Follow,eventDetails:s()(s()(s()({placement_id:o,earned_id:i},t&&{is_reblog_header_follow:t}),a&&{is_blog_card_header_follow:a}),r&&{is_peepr_header_follow:r})})}).catch(()=>!n&&this.sendCallbacks(a))})}render(){var e=this.props,t=e.location,a=e.following,r=e.children,n=e.className,o=e.style,i=e.appContext,e=i._t,i=i.isLoggedIn,r=r(a);return!!r&&(i?l.a.createElement(p.a,{label:e(a?"Unfollow":"Follow"),className:n,style:o,onClick:this.onClick},r):l.a.createElement("a",{className:Object(g.a)([b.a.loggedOutFollowButton,n]),style:o,href:Object(d.j)({formToShow:m.a.Register},{redirect_to:t.pathname})},r))}}r=Object(r.b)(v,{appContext:!0,timelineContext:!0}),c=Object(c.o)(r);Object(n.a)(c,r.displayName),t.a=c},vHCn:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),r=a("s2Hx"),a=a("fSeh"),n=Object(r.c)(n.a.createElement("svg",{viewBox:"0 0 16 16"},n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 1C13.5523 1 14 1.44772 14 2V4.95167V9.68083C14 9.97129 13.8737 10.2474 13.654 10.4374L8.65396 14.7595C8.27842 15.0841 7.72158 15.0841 7.34604 14.7595L2.34604 10.4374C2.12629 10.2474 2 9.97129 2 9.68083V4.95167V2C2 1.44772 2.44772 1 3 1H13ZM4 3.47583C4 3.19969 4.22386 2.97583 4.5 2.97583H11.5C11.7761 2.97583 12 3.19969 12 3.47583V4.45167C12 4.72781 11.7761 4.95167 11.5 4.95167H4.5C4.22386 4.95167 4 4.72781 4 4.45167V3.47583ZM7.6379 6.70181C7.78187 6.3988 8.21813 6.3988 8.36209 6.70181L8.81369 7.6523C8.88453 7.80142 9.02596 7.90583 9.19079 7.93071L10.2305 8.08764C10.5523 8.13622 10.6837 8.52402 10.4564 8.75424L9.67622 9.54416C9.5654 9.65638 9.51507 9.81391 9.54062 9.96864L9.72149 11.064C9.77524 11.3896 9.42542 11.6331 9.13319 11.4735L8.24189 10.9868C8.09136 10.9045 7.90863 10.9045 7.7581 10.9868L6.86681 11.4735C6.57458 11.6331 6.22475 11.3896 6.27851 11.064L6.45937 9.96864C6.48492 9.81391 6.4346 9.65638 6.32377 9.54416L5.54363 8.75424C5.31626 8.52402 5.44768 8.13622 5.76952 8.08764L6.80921 7.93071C6.97403 7.90583 7.11546 7.80142 7.18631 7.6523L7.6379 6.70181Z"})));n.defaultProps={size:{width:14,height:14},fill:a.tivoYellow},t.a=n},vSkO:function(e,t,a){"use strict";var r=a("pVnL"),l=a.n(r),n=a("3tO9"),s=a.n(n),r=a("lSNA"),o=a.n(r),n=a("q1tI"),c=a.n(n),h=a("55Ip"),d=a("Jq/n"),r=a("17x9"),p=a("gcBt"),a=a("y4uf");class i extends n.Component{constructor(){super(...arguments),o()(this,"onClick",e=>{var t,a,r=this.props,n=r.onClick,o=r.keepDropdownOpenAfterClick,r=this.props.appContext.logEvent;this.props.krakenEventName&&r({eventName:this.props.krakenEventName}),e.stopPropagation(),null==n||n(e),o||null===(t=(a=this.context).closeContainingPopover)||void 0===t||t.call(a)})}render(){var e=this.props,t=e.children,a=e.linkTo,r=e.title,n=e.className,o=e.isDisabled,i=e.isWrappingButton,e=e.alwaysExternalLink,n={title:r,tabIndex:o?-1:void 0,className:Object(d.a)(s()(s()({},!!n&&{[n]:!0}),{},{[p.a.dropdownItem]:!0,[p.a.isDisabled]:o})),onClick:o?void 0:this.onClick,"aria-disabled":o};return a&&!o?e||null!=a&&a.match(/^https?:\/\//)?c.a.createElement("a",l()({href:a,target:"_blank",rel:"noopener"},n),t):c.a.createElement(h.Link,l()({to:a},n),t):i?c.a.createElement("div",n,t):c.a.createElement("button",n,t)}}o()(i,"contextTypes",{closeContainingPopover:r.func}),t.a=Object(a.d)(i)},w7rC:function(e,t,a){"use strict";var r,n,o,i;a.d(t,"d",function(){return r}),a.d(t,"b",function(){return n}),a.d(t,"a",function(){return o}),a.d(t,"c",function(){return i}),(t=r=r||{}).Active="active",t.Pending="pending",t.PendingCancel="pending-cancel",t.OnHold="on-hold",t.Cancelled="cancelled",t.Expired="expired",(t=n=n||{}).AdditionalInfoNeeded="additional-info-needed",t.ApplicationPending="application-pending",t.PendingOnStripe="pending-on-stripe",t.Rejected="rejected",t.Successful="successful",t.Unknown="unknown",t.Empty="",(t=o=o||{}).Member="member",t.NonMember="non-member",t.Creator="creator",(t=i=i||{}).Month="month",t.Year="year"},xVcy:function(e,t,a){"use strict";var r=a("pVnL"),n=a.n(r),r=a("QILm"),o=a.n(r),r=a("q1tI"),i=a.n(r),l=a("vAT5"),s=a("y4uf"),c=a("Jq/n"),h=a("Qew9");t.a=function(e){var t=e.className,a=e.showUnfollowText,e=o()(e,["className","showUnfollowText"]),r=Object(s.c)()._t;return i.a.createElement(l.a,n()({},e,{className:Object(c.a)([h.a.followButton,t])}),e=>e?a?r("Unfollow"):null:r("Follow"))}},xwdP:function(e,t,a){"use strict";a.d(t,"c",function(){return S}),a.d(t,"b",function(){return y});var r=a("lSNA"),n=a.n(r),o=a("3tO9"),i=a.n(o),r=a("q1tI"),m=a.n(r),u=a("nA7Y"),l=a("Qtnd"),s=a("51n6"),c=a("27xf"),o=a("fSeh"),g=a.n(o),o=a("y4uf"),h=a("Jq/n"),b=a("zoQI"),v=a("ySyv"),d=a("vSkO"),f=a("svZL"),E=a("AfAo"),p=a("lp1z"),k=a("3JrU"),C=a("9Nfv"),w=a("g2Yl");function S(e,t,a,r){r=encodeURIComponent(Object(c.b)(i()({post:a?i()({post_id:a.postId},a.recipientName&&{tumblelog_name:a.recipientName}):null,urlreporting:t,tumblelog:e},r&&{context:r})));return"".concat(k.a,"/abuse/start?prefill=").concat(r)}var y=e=>{var t=e.blogName,a=e.blogUrl,r=e.fill,n=e.isBlockedFromPrimary,o=e.forwardedRef,i=e.width,l=e.meatballsClassName,s=e.icon,c=e.onBlock,h=e.children;return{blogName:t,blogUrl:a,fill:r,isBlockedFromPrimary:n,forwardedRef:o,width:void 0===i?250:i,meatballsClassName:l,icon:s,onBlock:c,children:void 0===h?null:h,currentTumblelog:e.currentTumblelog}};class x extends r.Component{constructor(){super(...arguments),n()(this,"state",{isOpen:!1,blockDialogIsVisible:!1,isYourOwnBlog:!1}),n()(this,"apiHelper",Object(l.a)(this.props.appContext.apiFetch)),n()(this,"renderMenu",()=>{var e=this.props,t=e.appContext,a=t._c,r=t.isLoggedIn,n=e.isBlockedFromPrimary,o=e.renderItems,i=e.blogName,l=this.state,t=l.isYourOwnBlog,e=l.isBlocked,s=l.primaryBlog,o=[...o(t)];return r&&!t&&(e||void 0===e&&n?o.push(m.a.createElement(d.a,{krakenEventName:w.b.BlogUnblockClick,onClick:()=>this.toggleUnblock(s,i),keepDropdownOpenAfterClick:!0,className:Object(h.a)([C.a.meatballItem]),key:"unblock"},a("Menu item to unblock a blog","Unblock"))):o.push(m.a.createElement(d.a,{krakenEventName:w.b.BlogBlockClick,onClick:this.openBlockDialog,keepDropdownOpenAfterClick:!0,className:Object(h.a)([C.a.meatballItem,C.a.red]),key:"block"},a("Menu item to block a blog","Block")))),o.push(m.a.createElement(d.a,{className:Object(h.a)([C.a.meatballItem,C.a.thin]),key:"close"},a("Menu item to close the popover menu it's inside","Close"))),m.a.createElement("div",{className:C.a.meatballMenu,ref:this.props.forwardedRef},o)}),n()(this,"togglePopover",()=>{this.setState(e=>{var t,a=e.isOpen;return a&&(null===(e=(t=this.props).onPopoverClose)||void 0===e||e.call(t)),{isOpen:!a}})}),n()(this,"openBlockDialog",()=>this.setState({blockDialogIsVisible:!0})),n()(this,"toggleBlockDialog",t=>{var e,a;this.setState(e=>({isBlocked:t,blockDialogIsVisible:!e.blockDialogIsVisible})),t&&(null===(e=(a=this.props).onBlock)||void 0===e||e.call(a))}),n()(this,"toggleUnblock",(e,t)=>{if(e&&t)return this.apiHelper.unblockBlog(e,t).fetch(()=>this.setState({isBlocked:!1}))})}componentDidMount(){var e=this.props,a=e.blogName,t=e.appContext,e=t.isLoggedIn,t=t.getUserInfo;return e?(this.userInfoFetch=Object(p.a)(t().then(e=>e)),this.userInfoFetch.then(e=>{var t=null==e?void 0:e.blogs;t&&this.setState({primaryBlog:null===(e=Object(s.a)(t))||void 0===e?void 0:e.name,isYourOwnBlog:Object(s.b)(a,t)})})):Promise.resolve()}componentWillUnmount(){var e;null===(e=this.userInfoFetch)||void 0===e||e.cancel()}render(){var e=this.props,t=e.blogName,a=e.width,r=e.icon,n=e.fill,o=e.popoverBoundary,i=e.meatballsClassName,l=e.children,s=e.currentTumblelog,c=e.showOverflowY,h=e.appContext._c,d=this.state,p=d.blockDialogIsVisible,e=d.isOpen,d=d.primaryBlog;return this.renderMenu().props.children.length<2?l:m.a.createElement(m.a.Fragment,null,m.a.createElement(f.c,{toggle:this.togglePopover,isOpen:e,render:this.renderMenu,position:u.b.Bottom,width:a,height:"auto",boundary:o,showOverflowY:c},m.a.createElement(b.a,{label:h("Label for screen readers on the button that opens the post options popover","More options"),className:i},r||m.a.createElement(E.b,{size:{width:18,height:10},fill:n||g.a.paletteGray65}))),p&&m.a.createElement(v.a,{currentTumblelog:s||d,tumblelogNameToBlock:t,closeDialog:this.toggleBlockDialog,postId:this.props.postId}))}}t.a=Object(o.d)(x)},y42H:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r,n=a("q1tI"),s=a.n(n),c=a("Jq/n"),h=a("EilA"),d=a("o7iY"),p=a("fSeh"),m=a("K55h");(a=r=r||{}).Confirm="confirm",a.Cancel="cancel",a.Neutral="neutral";var u={[r.Confirm]:p.paletteAccent,[r.Cancel]:p.paletteRed,[r.Neutral]:p.paletteTransparentWhite65};t.b=function(e){var t=e.title,a=e.body,r=e.isBodyHtml,n=e.buttons,o=e.buttonContainerClassname,i=e.className,l=e.children,e=e.footer;return s.a.createElement("div",{className:Object(c.a)([m.a.dialogmodal,i])},s.a.createElement(h.c,{disable:h.d}),s.a.createElement("div",{className:m.a.container},s.a.createElement("h3",{className:m.a.title},t),(a=a,!!r?s.a.createElement("div",{className:m.a.body,dangerouslySetInnerHTML:{__html:a}}):s.a.createElement("div",{className:m.a.body},a)),l),s.a.createElement("div",{className:Object(c.a)([m.a.buttonContainer,o])},n.map((e,t)=>s.a.createElement(d.c,{key:t,"aria-label":e.label||("string"==typeof e.text?e.text:void 0),onClick:e.onClick,backgroundColor:u[e.buttonStyle],textColor:p.paletteNavy,wrapperClassName:!e.link&&m.a.button,label:e.label||("string"==typeof e.text?e.text:""),className:e.link&&m.a.button,href:e.link,feature:!e.link&&void 0,disabled:e.disabled},e.text))),s.a.createElement("div",{className:m.a.footerContainer},e))}},ySyv:function(e,t,a){"use strict";var r=a("3tO9"),E=a.n(r),r=a("J4zp"),k=a.n(r),C=a("q1tI"),w=a.n(C),S=a("aCRw"),y=a("y42H"),r=a("y4uf"),x=a("Qtnd");t.a=Object(r.d)(e=>{var t=e.currentTumblelog,a=e.tumblelogNameToBlock,r=e.postId,n=e.closeDialog,o=e.appContext,i=o.apiFetch,l=o._t,s=o._c,c=o.getUserInfo,h=w.a.useState({}),e=k()(h,2),o=e[0],d=e[1],h=w.a.useState(""),e=k()(h,2),h=e[0],p=e[1];Object(C.useEffect)(()=>{c().then(e=>{e=e.name;return p(e)})},[]);var m,e=()=>n(!1),u={title:l("Something went wrong"),body:s("Placeholder is blog name","Failed to block %1$s.",a),buttons:[{text:l("Close"),onClick:e,buttonStyle:y.a.Neutral}]},g=()=>n(!0),b=()=>d(u),v=e=>Promise.all(e.map(e=>(e=>("Anonymous"===a?Object(x.a)(i).blockBlog(e,void 0,r):Object(x.a)(i).blockBlog(e,a,r)).fetch())(e))).then(g).catch(b),f=t||h,o=E()({title:s("Prompting a user to block another user","Are you sure you want to block %1$s from %2$s?",a,f),body:s("Message describing all options that will be blocked","They won't be able to follow %1$s, send %1$s messages, see %1$s in search results, or interact with any of %1$s's posts.",f),buttons:[{text:l("Nevermind"),onClick:e,buttonStyle:y.a.Neutral},{text:l("Block"),onClick:()=>v([f]),buttonStyle:y.a.Cancel},...h&&h!==f?[(m=[f,h],{text:s("Variable is blog name. This will block another user from seeing a different blog and from your primary blog too","Block from %1$s too",h),onClick:()=>v(m),buttonStyle:y.a.Cancel})]:[]]},o);return w.a.createElement(S.a,{onGlassClick:e,glassIsClickable:!1},w.a.createElement(y.b,o))})},zdl0:function(e,t,a){"use strict";var r=a("q1tI"),r=a.n(r),a=a("s2Hx"),r=Object(a.c)(r.a.createElement("svg",{viewBox:"0 0 22.5 18.5"},r.a.createElement("path",{d:"M16.077 11.171H8.169c-.374 1.415-1.649 2.461-3.165 2.461-1.515 0-2.79-1.046-3.164-2.461H.985a.996.996 0 0 1-.99-1c0-.552.444-1 .99-1h.947c.464-1.263 1.664-2.167 3.072-2.167 1.409 0 2.609.904 3.072 2.167h8.001c.547 0 .99.448.99 1s-.443 1-.99 1zM5.004 8.504c-.989 0-1.794.814-1.794 1.814s.805 1.813 1.794 1.813c.99 0 1.794-.813 1.794-1.813s-.804-1.814-1.794-1.814zm11.073-4.338h-.855c-.373 1.415-1.648 2.461-3.164 2.461-1.515 0-2.79-1.046-3.164-2.461H.985a.996.996 0 0 1-.99-1c0-.553.444-1 .99-1h8.001C9.449.903 10.65-.001 12.058-.001c1.409 0 2.609.904 3.072 2.167h.947c.547 0 .99.447.99 1 0 .552-.443 1-.99 1zm-4.019-2.667c-.989 0-1.794.814-1.794 1.814s.805 1.813 1.794 1.813 1.794-.813 1.794-1.813-.805-1.814-1.794-1.814zM.985 15.724h8.001c.463-1.263 1.664-2.167 3.072-2.167 1.409 0 2.609.904 3.072 2.167h.947c.547 0 .99.448.99 1.001 0 .552-.443 1-.99 1h-.855c-.373 1.414-1.648 2.461-3.164 2.461-1.515 0-2.79-1.047-3.164-2.461H.985a.996.996 0 0 1-.99-1 .996.996 0 0 1 .99-1.001zm11.073 2.961c.989 0 1.794-.814 1.794-1.814 0-.999-.805-1.813-1.794-1.813s-1.794.814-1.794 1.813c0 1 .805 1.814 1.794 1.814z"})));r.defaultProps={size:{width:24,height:24}},t.a=r}}]);

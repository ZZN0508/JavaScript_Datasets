!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).webVitals={})}(this,function(e){"use strict";function s(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}}function f(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(function(e){return e.getEntries().map(t)});return n.observe({type:e,buffered:!0}),n}}catch(e){}}function d(t,n){function i(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||(t(e),n&&(removeEventListener("visibilitychange",i,!0),removeEventListener("pagehide",i,!0)))}addEventListener("visibilitychange",i,!0),addEventListener("pagehide",i,!0)}function m(e,t,n){var i;return function(){0<=t.value&&(n||T.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(i||0),!t.delta&&void 0!==i||(i=t.value,e(t)))}}function c(){return t<0&&(t=a(),r(),y(function(){setTimeout(function(){t=a(),r()},0)})),{get firstHiddenTime(){return t}}}function p(t,n){function e(e){"first-contentful-paint"===e.name&&(u&&u.disconnect(),e.startTime<a.firstHiddenTime&&(r.value=e.startTime,r.entries.push(e),T.add(r),i()))}var i,a=c(),r=s("FCP"),o=performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],u=o?null:f("paint",e);(o||u)&&(i=m(t,r,n),o&&e(o),y(function(e){r=s("FCP"),i=m(t,r,n),requestAnimationFrame(function(){requestAnimationFrame(function(){r.value=performance.now()-e.timeStamp,T.add(r),i()})})}))}function u(){var t;0<=h&&h<i-o&&(t={entryType:"first-input",name:l.type,target:l.target,cancelable:l.cancelable,startTime:l.timeStamp,processingStart:l.timeStamp+h},g.forEach(function(e){e(t)}),g=[])}function n(e){var t,n,i,a;function r(){b(n,i),a()}function o(){a()}e.cancelable&&(t=(1e12<e.timeStamp?new Date:performance.now())-e.timeStamp,"pointerdown"==e.type?(n=t,i=e,a=function(){removeEventListener("pointerup",r,L),removeEventListener("pointercancel",o,L)},addEventListener("pointerup",r,L),addEventListener("pointercancel",o,L)):b(t,e))}function v(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return t(e,n,L)})}var l,h,i,g,y=function(t){addEventListener("pageshow",function(e){e.persisted&&t(e)},!0)},T=new("function"==typeof WeakSet?WeakSet:Set),t=-1,a=function(){return"hidden"===document.visibilityState?0:1/0},r=function(){d(function(e){e=e.timeStamp;t=e},!0)},S=!1,E=-1,L={passive:!0,capture:!0},o=new Date,b=function(e,t){l||(l=t,h=e,i=new Date,v(removeEventListener),u())};e.getCLS=function(t,e){S||(p(function(e){E=e.value}),S=!0);function n(e){-1<E&&t(e)}function i(e){var t,n;e.hadRecentInput||(t=u[0],n=u[u.length-1],o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,u.push(e)):(o=e.value,u=[e]),o>r.value&&(r.value=o,r.entries=u,a()))}var a,r=s("CLS",0),o=0,u=[],c=f("layout-shift",i);c&&(a=m(n,r,e),d(function(){c.takeRecords().map(i),a()}),y(function(){E=-1,r=s("CLS",o=0),a=m(n,r,e)}))},e.getFCP=p,e.getFID=function(e,t){function n(e){e.startTime<i.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),T.add(a),o())}var i=c(),a=s("FID"),r=f("first-input",n),o=m(e,a,t);r&&d(function(){r.takeRecords().map(n),r.disconnect()},!0),r&&y(function(){a=s("FID"),o=m(e,a,t),g=[],h=-1,l=null,v(addEventListener),g.push(n),u()})},e.getLCP=function(t,n){function e(e){var t=e.startTime;t<r.firstHiddenTime&&(o.value=t,o.entries.push(e)),i()}var i,a,r=c(),o=s("LCP"),u=f("largest-contentful-paint",e);u&&(i=m(t,o,n),a=function(){T.has(o)||(u.takeRecords().map(e),u.disconnect(),T.add(o),i())},["keydown","click"].forEach(function(e){addEventListener(e,a,{once:!0,capture:!0})}),d(a,!0),y(function(e){o=s("LCP"),i=m(t,o,n),requestAnimationFrame(function(){requestAnimationFrame(function(){o.value=performance.now()-e.timeStamp,T.add(o),i()})})}))},e.getTTFB=function(t){var n=s("TTFB"),e=function(){try{var e=performance.getEntriesByType("navigation")[0]||function(){var e,t=performance.timing,n={entryType:"navigation",startTime:0};for(e in t)"navigationStart"!==e&&"toJSON"!==e&&(n[e]=Math.max(t[e]-t.navigationStart,0));return n}();if(n.value=n.delta=e.responseStart,n.value<0)return;n.entries=[e],t(n)}catch(e){}};"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)},Object.defineProperty(e,"__esModule",{value:!0})});

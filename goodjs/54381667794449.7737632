(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[244],{2268:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GamifloatingQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gamiFloating"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"sum"},name:{kind:"Name",value:"sumToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sumTokenStr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"timeRemaining"},name:{kind:"Name",value:"timeRemainingSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isShowTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timerFontColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timerBGColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unixTimestamp"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"imgUrl"},name:{kind:"Name",value:"imgURL"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:181}};n.loc.source={body:"query GamifloatingQuery{gamiFloating{id name sum:sumToken sumTokenStr cta{url}timeRemaining:timeRemainingSeconds isShowTime timerFontColor timerBGColor unixTimestamp imgUrl:imgURL}}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function c(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach(function(e){var t;e.name&&(function t(e,n){var i;"FragmentSpread"===e.kind?n.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&n.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){t(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){t(e,n)}),e.definitions&&e.definitions.forEach(function(e){t(e,n)})}(e,t=new Set),o[e.name.value]=t)}),e.exports=n,e.exports.GamifloatingQuery=function(t,e){var n={kind:t.kind,definitions:[c(t,e)]};t.hasOwnProperty("loc")&&(n.loc=t.loc);var e=o[e]||new Set,i=new Set,r=new Set;for(e.forEach(function(e){r.add(e)});0<r.size;){var a=r,r=new Set;a.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){r.add(e)}))})}return i.forEach(function(e){e=c(t,e);e&&n.definitions.push(e)}),n}(n,"GamifloatingQuery")},2590:function(e,t,n){"use strict";n.r(t);var w=n(0),C=n.n(w),s=n(2),m=n(1138),d=n(1070),f=n(757),b=n(2268);function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function l(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){var t,n;t=i,e=r[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function v(e){var t,n,i,r,a=e.data,o=e.loading,c={};return!e.error&&a&&a.gamiFloating?(n=(r=a.gamiFloating).id,i=r.imgUrl,e=r.timeRemaining,a=r.cta,r=function(e,t){if(null==e)return{};var n,i=function(e,t){if(null==e)return{};for(var n,i={},r=Object.keys(e),a=0;a<r.length;a++)n=r[a],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),a=0;a<r.length;a++)n=r[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n]);return i}(r,["id","imgUrl","timeRemaining","cta"]),n&&0!==n?(t=l(l({},r),{},{id:n,url:a.url||"",timestamp:e?parseInt((new Date).getTime()/1e3,10)+e:void 0,imgUrl:i&&0<i.length?i:void 0}),c.status="success"):c.status="no_result"):c.status=o?"loading":"error",{meta:c,data:t}}function x(e){var t=e.id,n=e.url,i=e.imgUrl,r=e.sum,a=e.isShowTime,o=e.timestamp;return{id:t,name:e.name,url:n,imgUrl:i,sum:r,isShowTime:a,timestamp:o}}var i=n(38),E=n(923),r=n(562),A=Object(s.css)("position:fixed;display:block;width:100px;bottom:90px;right:5%;text-align:center;z-index:50;"),N=Object(s.css)("position:relative;display:block;width:100%;"),T=Object(s.css)("position:absolute;top:30%;right:2%;height:30px;width:30px;background:",r.L,";color:white;border-radius:50%;font-weight:900;line-height:30px;"),D=Object(s.css)("position:relative;top:-10px;display:inline-block;padding:2px 15px;background-color:",r.J,";color:",r.Y,";font-size:12px;font-weight:900;border-radius:10px;letter-spacing:0.2px;");function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var i,r,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}r=function(e){var t=F(Object(w.useState)(void 0),2),n=t[0],i=t[1],r=F(Object(w.useState)(void 0),2),a=r[0],o=r[1],c=F(Object(w.useState)(!0),2),l=c[0],u=c[1],s=Object(w.useRef)(!1),m=Object(w.useRef)(!1),d=e.url,f=e.imgUrl,t=e.sum,b=e.isShowTime,v=e.timestamp,r=e.timerFontColor,c=e.timerBGColor,p=e.onTimeout,g=e.onClick,y=e.onVisible,h=Object(w.useCallback)(function(){s.current&&clearInterval(s.current),m.current&&clearTimeout(m.current)},[s]),O=Object(w.useCallback)(function(){h(),p&&p()},[h,p]),k=Object(w.useCallback)(function(e){var t=new Date;e&&t<e?(t=Object(E.c)(e,t),i(Object(E.a)(t))):(i("00:00:00"),O())},[O]),j=Object(w.useCallback)(function(){var e,t;h(),b&&v?(e=Object(E.b)(v),s.current=setInterval(function(){k(e)},1e3)):v&&(t=new Date(v)-new Date,m.current=setTimeout(function(){O()},Math.min(t,2147483647)))},[h,O,b,v,k]),S=Object(w.useCallback)(function(){y&&l&&(y(x(e)),u(!1))},[l,y,e]);return Object(w.useEffect)(function(){a!==v&&(j(),o(v))},[a,j,v]),Object(w.useEffect)(function(){S()},[S]),C.a.createElement("a",{href:d,className:A,onClick:function(){g&&g(x(e))}},C.a.createElement("img",{src:f,alt:"Gamifloating",className:N}),0<t&&C.a.createElement("span",{className:T},t),b&&v&&C.a.createElement("div",{className:D,style:{color:r,backgroundColor:c}},n||"loading..."))};r.defaultProps={isShowTime:"",sum:0,timerBGColor:"",timerFontColor:"",timestamp:0,url:"",onClick:i.a,onTimeout:i.a,onVisible:i.a};var p=Object(w.memo)(r),g=n(17),y=Object(s.css)("opacity:0;visibility:hidden;transition:opacity 0.5s,visibility 0s 0.5s;"),h=Object(s.css)("opacity:1;visibility:visible;transition:opacity 0.5s,visibility 0s;");function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}t.default=function(){var e,t,i=Object(w.useContext)(m.a).enqueueTask,r=Object(d.a)().idleQueueDelay,n=(e=Object(w.useState)(0),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var i,r,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],o=n[1],c=Object(f.a)(b,{fetchPolicy:"cache-and-network",ssr:!1}),l=c.refetch,e=function(e,t){if(null==e)return{};var n,i=function(e,t){if(null==e)return{};for(var n,i={},r=Object.keys(e),a=0;a<r.length;a++)n=r[a],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),a=0;a<r.length;a++)n=r[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n]);return i}(c,["refetch"]),t=v(e),n=t.meta,c=t.data,u=Object(w.useCallback)(function(){a<2&&(l(),o(a+1))},[a,l]),e=Object(w.useCallback)(function(n){i({task:function(){return t=(e=n).id,e=e.name,e={event:"viewHomepage",eventCategory:"lucky egg - homepage entry point",eventAction:"impression on egg",eventLabel:"".concat(t,"_").concat(e)},g.default.pushObject(e),!0;var e,t},delay:r})},[i,r]),t=Object(w.useCallback)(function(e){var t;e=(t=e).id,t=t.name,t={event:"clickHomepage",eventCategory:"lucky egg - homepage entry point",eventAction:"click egg on homepage",eventLabel:"".concat(e,"_").concat(t)},g.default.pushObject(t)},[]),n="success"===(null==n?void 0:n.status);return C.a.createElement("div",{className:Object(s.cx)(y,n?h:"")},n&&c&&(null==c?void 0:c.imgUrl)&&C.a.createElement(p,Object.assign({},c,{onVisible:e,onClick:t,onTimeout:function(){return u()}})))}},923:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return c}),n(716);var r=n(612);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var i=function(e){return Object(r.b)(e)?new Date(1e3*e):""},o=function(e,t){var n=Math.abs(t-e)/1e3,i=Math.floor(n/86400);n-=86400*i;t=Math.floor(n/3600)%24;n-=3600*t;e=Math.floor(n/60)%60;return n-=60*e,{day:i,hour:t,minute:e,second:parseInt(n%60,10)}},c=function(i){return[["day",void 0],["hour","00"],["minute","00"],["second","00"]].reduce(function(e,t){var n,t=(n=2,function(e){if(Array.isArray(e))return e}(t=t)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var i,r,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw r}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],t=t[1];return!Object(r.c)(i[n])||i[n]<=0?t&&e.push(t):i[n]<10?e.push("0".concat(i[n])):e.push(i[n]),e},[]).join(":")}}}]);

(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([["clanWar2019","CountDown","Count_fde949b","Drag_dedfcdf","Rotation_d7ba7c6"],{"00d1b0":function(e,t,r){e.exports=r("2d6146")("368f5")},"074d14":function(e,t,r){e.exports=r("d1db8c")("bcfe5")},"074eba":function(e,t,r){"use strict";var n=r("1a22b7"),a=r.n(n),i=r("2e83fd"),o="/shark/live/src/pages/roomPage/activity/clanWar2019/components/Bar/PreInfoPanel.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}var c=function(e){function PreInfoPanel(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PreInfoPanel),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(PreInfoPanel,e),PreInfoPanel.prototype.render=function render(){var e=this.props,t=e.pkStart,r=e.PKStartTime;return a.a.createElement("div",{className:"ActClanWarPreInfo  ActClanWarBar-center-area",__source:{fileName:o,lineNumber:9},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner",__source:{fileName:o,lineNumber:10},__self:this},t?a.a.createElement(a.a.Fragment,{__source:{fileName:o,lineNumber:13},__self:this},a.a.createElement("div",{className:"u-color-brown u-lh-16",__source:{fileName:o,lineNumber:14},__self:this},"\u672c\u623f\u4e3b\u64ad"),a.a.createElement("div",{className:"u-color-brown u-lh-16",__source:{fileName:o,lineNumber:15},__self:this},"\u51fa\u6218\u4e2d")):a.a.createElement(a.a.Fragment,{__source:{fileName:o,lineNumber:17},__self:this},a.a.createElement("div",{className:"u-color-brown u-lh-16",__source:{fileName:o,lineNumber:18},__self:this},"\u672c\u623f\u4e3b\u64ad"),a.a.createElement("div",{className:"u-color-brown u-lh-16",__source:{fileName:o,lineNumber:19},__self:this},a.a.createElement(i.default,{type:"2",time:r,form:"mm:ss",customDefaultValue:"00",__source:{fileName:o,lineNumber:20},__self:this}),"\u540e\u51fa\u6218"))))},PreInfoPanel}(a.a.Component);t.default=c},"081700":function(e,t,r){"use strict";var n,a,i,o,c,s,l,u,f,p,m,d,h,_=r("1a22b7"),b=r.n(_),v=r("3b6ec9"),y=r.n(v),N=r("7ca7dc"),g=r("eb3e22"),P=r("6822bc"),C=r("ac64b0"),w=r("5b0723"),O=r("e849dc"),E=(r("552144"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),D="/shark/live/src/pages/roomPage/activity/clanWar2019/components/PK/PK.js";function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _applyDecoratedDescriptor(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}var S=N.default.Service,j=!0,k=function(e){function MyCountDown(){return _classCallCheck(this,MyCountDown),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(MyCountDown,e),MyCountDown.prototype.render=function render(){var e=this.state;return e.minute+":"+e.second},MyCountDown}(P.default),A=(n=S(g.DataCenter.event),a=S(g.DataCenter.acj),i=S(g.DataCenter.common),o=S(g.DataCenter.global),c=S(w.default),s=S(O.default),l=function(e){function PK(){_classCallCheck(this,PK);var t=_possibleConstructorReturn(this,e.call(this));return _initDefineProp(t,"event",u,t),_initDefineProp(t,"acj",f,t),_initDefineProp(t,"common",p,t),_initDefineProp(t,"global",m,t),_initDefineProp(t,"actPKServices",d,t),_initDefineProp(t,"actToolsServices",h,t),t.state={showPK:!1,panelWidth:787,panelData:null,pkEndTime:0},t.resizeTimer=null,t.node=document.createElement("div"),t.node.className="ClanWar2019PK",t.node.id="ClanWar2019PK-container",t.updateComponent=t.updateComponent.bind(t),t.clearPK=t.clearPK.bind(t),t}return _inherits(PK,e),PK.prototype.componentDidMount=function componentDidMount(){var e=this;this.appendContainerDom(),this.actPKServices.init({updatePKComponent:this.updateComponent}),this.layout(),this.event.register(window,"resize").subscribe(function(){e.layout()}),this.acj.get(C.ROOM_TYPE.ROOM_BUS_PAGESCR).subscribe(function(t){e.layout()})},PK.prototype.componentWillUnmount=function componentWillUnmount(){this.node&&(this.node.remove?this.node.remove():this.node.parentNode&&this.node.parentNode.removeChild(this.node))},PK.prototype.layout=function layout(){var e=this;clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){var t=document.getElementById("js-player-video");t&&(t.clientWidth<=847?e.setState({panelWidth:t.clientWidth-60}):e.setState({panelWidth:787}))},50)},PK.prototype.updateComponent=function updateComponent(e){j&&e&&this.check(e)},PK.prototype.appendContainerDom=function appendContainerDom(){var e=document.querySelector("#js-player-video");e&&e.appendChild(this.node)},PK.prototype.check=function check(e){var t=e.stage,r=e.cppRes,n=e.config,a=void 0===n?{}:n,i=this.state.showPK;if(t>3&&i)return this.clearPK("OVER"),!1;if(r&&r.pkinfo&&r.pkstrip){var o=r.gid,c=r.pkstrip,s=r.pkinfo,l=s.pkstep,u=s.csts,f=s.bgid,p=c.stripstep,m=2===+l&&1===+u&&p>=0&&p<=2;if(!m)return this.clearPK(),!1;var d=this.actPKServices.getUnionInfo(a,o),h=this.actPKServices.getUnionInfo(a,f),_={rid:c.arid,rnn:c.arnn,ravt:c.aravt,sc:c.asc,unionName:d.name||"--"},b={rid:c.brid,rnn:c.brnn,ravt:c.bravt,sc:c.bsc,unionName:h.name||"--"};this.setState({showPK:m,pkStrip:c,ownerRole:_,otherRole:b,pkInfo:s,pkEndTime:this.setEndTime(c)})}else this.clearPK();return!1},PK.prototype.clearPK=function clearPK(e){this.setState({showPK:!1,pkStrip:null,pkInfo:null,pkEndTime:0}),"CLOSE"===e&&(j=!1)},PK.prototype.setEndTime=function setEndTime(){return(1e3*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).etc||0)+(new Date).getTime()},PK.prototype.getEndTime=function getEndTime(){var e=this.state.pkEndTime,t=(new Date).getTime();return e>t?+e-t:0},PK.prototype.getRoleARatio=function getRoleARatio(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e>0&&t>0){var r=e/(+e+t)*100;return r<1?1:r}return e>0?100:t>0?0:50},PK.prototype.renderHeader=function renderHeader(){var e=this,t=this.state.pkStrip,r=t.stripstep,n=t.res,a="",i="";return 2===+r&&n>0&&(3===+n?(a="is-draw",i="is-draw"):(a=1===+n?"is-win1":"is-fail",i=2===+n?"is-win1":"is-fail")),b.a.createElement("div",{className:"ClanWar2019PK-header",__source:{fileName:D,lineNumber:238},__self:this},b.a.createElement("div",{className:"ClanWar2019PK-resultIcon is-left "+a,__source:{fileName:D,lineNumber:239},__self:this}),b.a.createElement("i",{className:"ClanWar2019PK-close is-outer",onClick:function onClick(){return e.clearPK("CLOSE")},__source:{fileName:D,lineNumber:240},__self:this}),b.a.createElement("div",{className:"ClanWar2019PK-resultIcon is-right "+i,__source:{fileName:D,lineNumber:241},__self:this}))},PK.prototype.renderAvatar=function renderAvatar(e,t){var r=this.global.get("$ROOM.room_id"),n=t.rid,a=t.ravt,i=t.leader,o=1===+t.step&&i;return n>0&&+n!==+r?b.a.createElement("a",{className:"ClanWar2019PK-pic "+e,href:"/"+n,target:"_blank",__source:{fileName:D,lineNumber:253},__self:this},b.a.createElement("i",{className:"ClanWar2019PK-picBorder",__source:{fileName:D,lineNumber:254},__self:this}),o?b.a.createElement("i",{className:"ClanWar2019PK-leaderMask",__source:{fileName:D,lineNumber:255},__self:this}):null,b.a.createElement("div",{className:"ClanWar2019PK-avatar",__source:{fileName:D,lineNumber:257},__self:this},b.a.createElement("img",{width:"100%",height:"100%",src:a,__source:{fileName:D,lineNumber:258},__self:this}))):b.a.createElement("div",{className:"ClanWar2019PK-pic "+e,__source:{fileName:D,lineNumber:265},__self:this},b.a.createElement("i",{className:"ClanWar2019PK-picBorder",__source:{fileName:D,lineNumber:266},__self:this}),o?b.a.createElement("i",{className:"ClanWar2019PK-leaderMask",__source:{fileName:D,lineNumber:267},__self:this}):null,b.a.createElement("div",{className:"ClanWar2019PK-avatar",__source:{fileName:D,lineNumber:269},__self:this},b.a.createElement("img",{width:"100%",height:"100%",src:a,__source:{fileName:D,lineNumber:270},__self:this})))},PK.prototype.renderPKState=function renderPKState(){var e=this.state,t=e.pkStrip,r=e.pkEndTime,n=t.stripstep,a=t.res;if(n>1)return b.a.createElement("div",{className:"ClanWar2019PK-PKState",__source:{fileName:D,lineNumber:282},__self:this},b.a.createElement("span",{className:"ClanWar2019PK-colorMain",__source:{fileName:D,lineNumber:283},__self:this},3===+a?"\u5e73\u5c40":"\u80dc\u8d1f\u5df2\u5206"));var i=this.getEndTime();return b.a.createElement("div",{className:"ClanWar2019PK-PKState",__source:{fileName:D,lineNumber:291},__self:this},b.a.createElement("div",{className:"ClanWar2019PK-colorMain",__source:{fileName:D,lineNumber:292},__self:this},b.a.createElement(k,{key:r,time:i,__source:{fileName:D,lineNumber:292},__self:this})),b.a.createElement("span",{className:"ClanWar2019PK-colorNormal",__source:{fileName:D,lineNumber:293},__self:this},"\u540e",1===+n?"\u7ed3\u675f":"\u5f00\u542f"))},PK.prototype.renderAnchorInfo=function renderAnchorInfo(e,t){var r=t.rid,n=t.rnn,a=t.uname,i=this.global.get("$ROOM.room_id");return b.a.createElement("div",{className:"ClanWar2019PK-anchorInfo "+e,__source:{fileName:D,lineNumber:303},__self:this},b.a.createElement("span",{className:"ClanWar2019PK-colorMain",title:a,__source:{fileName:D,lineNumber:304},__self:this},"<",function textLimit(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e&&e.length>t?e.substr(0,t)+"...":e||""}(a),">"),r>0&&+r!==+i?b.a.createElement("a",{href:"/"+r,target:"_blank",className:"ClanWar2019PK-fontLimit ClanWar2019PK-colorNormal",title:n,__source:{fileName:D,lineNumber:307},__self:this},n):b.a.createElement("span",{className:"ClanWar2019PK-fontLimit ClanWar2019PK-colorNormal",title:n,__source:{fileName:D,lineNumber:308},__self:this},n))},PK.prototype.render=function render(){var e=this.state,t=e.showPK,r=e.panelWidth,n=void 0===r?787:r,a=e.pkStrip,i=e.ownerRole,o=void 0===i?{}:i,c=e.otherRole,s=void 0===c?{}:c;if(t&&a){var l=a.stripstep,u=this.getRoleARatio(+o.sc,+s.sc),f=+l>0;return y.a.createPortal(b.a.createElement("div",{className:"ClanWar2019PK-panel",style:{width:n+"px",marginLeft:"-"+n/2+"px"},__source:{fileName:D,lineNumber:333},__self:this},this.renderHeader(),b.a.createElement("div",{className:"ClanWar2019PK-content",__source:{fileName:D,lineNumber:336},__self:this},this.renderAvatar("is-left",E({},o,{leader:+o.sc>+s.sc,step:+l})),this.renderAvatar("is-right",E({},s,{leader:+s.sc>+o.sc,step:+l})),b.a.createElement("div",{className:"ClanWar2019PK-topState",__source:{fileName:D,lineNumber:340},__self:this},this.renderAnchorInfo("is-left",E({},o,{uname:o.unionName})),this.renderPKState(),this.renderAnchorInfo("is-right",E({},s,{uname:s.unionName}))),b.a.createElement("div",{className:"ClanWar2019PK-PKContent",__source:{fileName:D,lineNumber:348},__self:this},b.a.createElement("div",{className:"ClanWar2019PK-PKBar is-left",style:{width:u+"%"},__source:{fileName:D,lineNumber:349},__self:this}),b.a.createElement("div",{className:"ClanWar2019PK-PKBar is-right",__source:{fileName:D,lineNumber:350},__self:this}),f?b.a.createElement(b.a.Fragment,{__source:{fileName:D,lineNumber:354},__self:this},b.a.createElement("p",{className:"ClanWar2019PK-PKInfo is-left",__source:{fileName:D,lineNumber:355},__self:this},"\u6211\u65b9 ",this.actToolsServices.formatDecimals(o.sc/100,1)||0),b.a.createElement("p",{className:"ClanWar2019PK-PKInfo is-right",__source:{fileName:D,lineNumber:356},__self:this},this.actToolsServices.formatDecimals(s.sc/100,1)||0," \u5bf9\u65b9")):null,0===+l?b.a.createElement("i",{className:"ClanWar2019PK-readyMask",__source:{fileName:D,lineNumber:361},__self:this}):null,1===+l?b.a.createElement("i",{className:"ClanWar2019PK-vsMask",__source:{fileName:D,lineNumber:362},__self:this}):null))),this.node)}return null},PK}(b.a.Component),u=_applyDecoratedDescriptor(l.prototype,"event",[n],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(l.prototype,"acj",[a],{enumerable:!0,initializer:null}),p=_applyDecoratedDescriptor(l.prototype,"common",[i],{enumerable:!0,initializer:null}),m=_applyDecoratedDescriptor(l.prototype,"global",[o],{enumerable:!0,initializer:null}),d=_applyDecoratedDescriptor(l.prototype,"actPKServices",[c],{enumerable:!0,initializer:null}),h=_applyDecoratedDescriptor(l.prototype,"actToolsServices",[s],{enumerable:!0,initializer:null}),l);t.default=A},"0d764d":function(e,t,r){"use strict";r("1a22b7");var n,a,i,o,c,s,l,u=r("97a1f0"),f=r("7ca7dc"),p=r("eb3e22"),m=r("8ddf9c"),d=r.n(m),h=r("d3fbe8"),_=r.n(h),b=r("eeb9b8"),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var y=f.default.Store,N=f.default.Service,g=(n=y(),a=N(p.DataCenter.common),i=N(b.default),o=function(e){function ActBarServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ActBarServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"store",c,t),_initDefineProp(t,"common",s,t),_initDefineProp(t,"barServices",l,t),t.updateComponet=null,t.phpConfig={},t.dataHandleCenter=t.dataHandleCenter.bind(t),t}return _inherits(ActBarServices,e),ActBarServices.prototype.init=function init(e){var t=e.updateComponent,r=this.dataHandleCenter;this.phpConfig;this.common.get("$ACT-clanWar").subscribe(function(e){var n=r(e)||{},a=e.innerData,i=void 0===a?{}:a;t(v({isInit:e.isInit,stage:e.stage},i,n))})},ActBarServices.prototype.dataHandleCenter=function dataHandleCenter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};switch(e.stage){case 1:t=this.getStep1Data(e);break;case 2:t=this.getStep2Data(e);break;case 3:t=this.getStep3Data(e);break;case 4:t=this.getStep4Data(e)}return t},ActBarServices.prototype.getStep1Data=function getStep1Data(e){var t=e.ztPageUrl,r=e.config,n=void 0===r?{}:r,a=n.step1_begin_time&&n.step1_begin_time[0],i=this.barServices.returnExpireData(a);return{ztPageUrl:t,previewDate:i.M+"\u6708"+i.d+"\u65e5",previewTime:i.h+"\u70b9"}},ActBarServices.prototype.getDayRankInfo=function getDayRankInfo(e){var t=e||{},r=t.drki,n=(t.drkv,t.drkd),a=t.drkn;return{winNum:a,hasDayRank:101!==+r,dayRank:this.barServices.getRanking({type:1,ranking:r}),dayDiffInfo:this.barServices.diffInfo({upNum:a,ranking:r,dsc:n})}},ActBarServices.prototype.getStep2Data=function getStep2Data(e){var t=e.cppRes,r=void 0===t?{}:t,n=e.config,a=void 0===n?{}:n,i=e.ztPageUrl,o=e.guildInfo,c=void 0===o?{}:o,s=a.rid,l=r.drk,u=void 0===l?{}:l,f=this.getDayRankInfo(u);return v({ztPageUrl:i,curRid:s,zoneName:c.name||"--",anchorAvatar:c.icon||_.a},f)},ActBarServices.prototype.getStep3Data=function getStep3Data(e){var t=e.cppRes,r=void 0===t?{}:t,n=e.config,a=void 0===n?{}:n,i=e.ztPageUrl,o=e.innerData,c=void 0===o?{}:o,s=e.guildInfo,l=void 0===s?{}:s,u=a.rid,f=c.ISDIE,p=c.PKStartTime,m=r.drk,h=void 0===m?{}:m,b=r.pkinfo,y=void 0===b?{}:b,N=r.pkstrip,g=void 0===N?{}:N,P=y.pkstep,C=void 0===P?1:P,w=y.csts,O=void 0===w?0:w,E=y.pkst,D=void 0===E?0:E,S=g.arid,j=g.arnn,k=g.aravt,A=this.getDayRankInfo(h),W=this.barServices.returnExpireData(D);return v({ztPageUrl:i,curRid:u,zoneName:l.name||"--",anchorAvatar:l.icon||_.a,isDie:f},A,{isPKOpen:2===+C,isPKPre:0===+C||1===+C,pkOpenTime:W.d+"\u65e5"+W.h+":"+W.m,championAvatar:k||d.a,championnn:j||"--",championRid:S,title:"\u6211\u65b9\u51fa\u6218\u4e3b\u64ad",isMyPK:0!==+O,PKStartTime:p,pkStart:1===+O})},ActBarServices.prototype.getStep4Data=function getStep4Data(e){var t=e.cppRes,r=void 0===t?{}:t,n=e.config,a=void 0===n?{}:n,i=e.ztPageUrl,o=e.guildInfo,c=void 0===o?{}:o,s=(a.rid,r.gid),l=[0,+r.gidno1,+r.gidno2,+r.gidno3];return{ztPageUrl:i,zoneName:c.name||"--",anchorAvatar:c.icon||_.a,reviewType:l.findIndex(function(e){return+e===+s})}},ActBarServices}(u.Service),c=_applyDecoratedDescriptor(o.prototype,"store",[n],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"common",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"barServices",[i],{enumerable:!0,initializer:null}),o);t.default=g},"0f5f14":function(e,t,r){"use strict";var n=r("1a22b7"),a=r.n(n),i="/shark/live/src/pages/roomPage/activity/clanWar2019/components/Bar/PreviewBar.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}var o=function(e){function PreviewBar(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PreviewBar),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(PreviewBar,e),PreviewBar.prototype.render=function render(){var e=this.props.data;return a.a.createElement("div",{className:"ActClanWarBar-body",__source:{fileName:i,lineNumber:8},__self:this},a.a.createElement("a",{className:"ActClanWarBar-main--pre",href:e.ztPageUrl,target:"_blank",__source:{fileName:i,lineNumber:9},__self:this},a.a.createElement("div",{className:"u-color-lh u-lh-14",__source:{fileName:i,lineNumber:10},__self:this},e.previewDate||"--"),a.a.createElement("div",{className:"u-color-lh u-lh-14",__source:{fileName:i,lineNumber:11},__self:this},e.previewTime||"--"),a.a.createElement("span",{className:"ActClanWarBar-preLink",__source:{fileName:i,lineNumber:12},__self:this})))},PreviewBar}(a.a.Component);t.default=o},"0f636f":function(e,t,r){e.exports=r("5f575e")("23661")},"104af8":function(e,t,r){e.exports=r("d1db8c")("b2b3f")},"1346c0":function(e,t,r){"use strict";var n,a,i,o,c,s,l,u=r("97a1f0"),f=r("7ca7dc"),p=r("eb3e22"),m=r("e854a7"),d=r("f68984"),h=r("0f636f"),_=r("748d25"),b=r("f3f802"),v=r("cb8c6f"),y=r("104af8"),N=r("074d14"),g=r("ffca33"),P=r("e849dc"),C=r("eeb9b8"),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var O=f.default.Service,E=m.default.socketStream,D=(n=O(p.DataCenter.common),a=O(P.default),i=O(C.default),o=function(e){function ActServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ActServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"common",c,t),_initDefineProp(t,"commonService",s,t),_initDefineProp(t,"barService",l,t),t.baseData={},t.ztPageUrl="https://www.douyu.com/topic/GHJDS",t.stage=1,t.isBlackRoom=!1,t.sub=new N.Subscription,t.preData={},t.stage$=new y.Subject,t}return _inherits(ActServices,e),ActServices.prototype.getZoneInfo=function getZoneInfo(e){var t=this.baseData.config,r=(void 0===t?{}:t).gid_list;return(void 0===r?{}:r)[e]},ActServices.prototype.pushData=function pushData(e){var t=this.baseData,r=t.config,n=void 0===r?{}:r,a=t.roomData,i=void 0===a?{}:a,o=n.gid_list,c=void 0===o?{}:o,s=e.innerData,l=function _objectWithoutProperties(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["innerData"]);this.common.push("$ACT-clanWar",{cppRes:l,config:w({},i,n),ztPageUrl:this.ztPageUrl,stage:this.stage,isInit:!0,innerData:s,guildInfo:c[+l.gid]||{}},!0)},ActServices.prototype.checkIsBlack=function checkIsBlack(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.baseData,t=e.config,r=void 0===t?{}:t,n=e.roomData,a=void 0===n?{}:n,i=r.blacklist||[],o=a.rid,c=!1;return i.indexOf(o)>=0&&(c=!0),c},ActServices.prototype.fetchConfig=function fetchConfig(){return Object(g.default)({url:"//webconf.douyucdn.cn/resource/common/activity/actghz202009_w.json",type:"jsonp",callbackName:"actghz202009"})},ActServices.prototype.init=function init(){var e=this;Object(b.zip)(this.fetchConfig(),this.common.get("$DATA").pipe(Object(v.pluck)("room"))).pipe(Object(d.map)(function(e){var t=e[0],r=e[1],n=void 0===r?{}:r;return{roomData:{rid:n.room_id,avatar:n.avatar_mid,anchorname:n.owner_name,cate2Id:n.cate2_id},config:t}}),Object(h.tap)(function(t){return e.baseData=t}),Object(h.tap)(function(t){return e.isBlackRoom=e.checkIsBlack(t)})).subscribe(function(){e.isBlackRoom||(e.sub.add(e.stage$.pipe(Object(h.tap)(function(t){var r=t.initKey;if(!e[r]){e[r]=!0;var n=e.preData.gid;e.preData={gid:n,innerData:{}}}})).subscribe(function(t){var r=t.res,n=t.innerData,a=t.stage;n&&Object.assign(e.preData.innerData,n),e.stage=a,Object.assign(e.preData,r),e.pushData(e.preData)})),e.preheatDataEntry(),e.handlerStep1(),e.handlerStep2(),e.handlerReview())})},ActServices.prototype.preheatDataEntry=function preheatDataEntry(){var e=this;E.subscribe("ghz202009s0info",function(t){return e.stage$.next({initKey:"preheatInit",stage:1,res:t})})},ActServices.prototype.handlerPKTime=function handlerPKTime(e){var t=e.pkinfo,r=void 0===t?{}:t,n=r.petc,a=r.pkstep,i=r.csts,o={PKStartTime:0};if(2===+a&&2===+i&&+n){var c=parseInt((new Date).getTime()/1e3,10);o.PKStartTime=c+ +n}return o},ActServices.prototype.handlerStep1=function handlerStep1(){var e=this,t=new y.Subject,r=new y.Subject;this.sub.add(t.subscribe(function(t){return e.stage$.next(w({},t,{initKey:"stage1Init",stage:2}))})),this.sub.add(E.subscribe("ghz202009s1info",function(e){return t.next({res:e})})),this.sub.add(r.pipe(Object(_.filter)(function(){return+e.preData.gid&&e.getZoneInfo(e.preData.gid)})).subscribe(function(e){return t.next({res:e})})),this.sub.add(E.subscribe("ghz202009s1start",function(e){return r.next(e)}))},ActServices.prototype.handlerStep2=function handlerStep2(){var e=this,t=new y.Subject,r=new y.Subject;this.sub.add(t.subscribe(function(t){return e.stage$.next(w({},t,{initKey:"stage2Init",stage:3}))})),this.sub.add(E.subscribe("ghz202009s2info",function(r){return t.next({res:r,innerData:e.handlerPKTime(r)})})),this.sub.add(r.pipe(Object(_.filter)(function(){return+e.preData.gid&&e.getZoneInfo(e.preData.gid)})).subscribe(function(r){var n=e.preData.gid,a=(r||{}).wingids;(void 0===a?[]:a).some(function(e){return+e.gid===+n})?t.next({res:r}):t.next({res:r,innerData:{ISDIE:!0}})})),this.sub.add(E.subscribe("ghz202009s2start",function(e){return r.next(w({},e,{pkinfo:{pkstep:1,pkst:e.pkst}}))}))},ActServices.prototype.handlerReview=function handlerReview(){var e=this;this.sub.add(E.subscribe("ghz202009s3info",function(t){var r=e.preData.gid,n=void 0===r?0:r,a=+t.gid||n;e.stage$.next({res:w({},t,{gid:a}),innerData:{closePanel:0===+a},initKey:"reviewInit",stage:4})}))},ActServices}(u.Service),c=_applyDecoratedDescriptor(o.prototype,"common",[n],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"commonService",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"barService",[i],{enumerable:!0,initializer:null}),o);t.default=D},"1a22b7":function(e,t,r){e.exports=r("999443")("8af19")},"23eae3":function(e,t,r){"use strict";var n,a,i,o,c,s,l,u=r("1a22b7"),f=r.n(u),p=r("7ca7dc"),m=r("eb3e22"),d=r("9e6285");r("984839");function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var h=p.default.Service,_=(n=h(m.DataCenter.common),a=h(d.default),i=h(m.DataCenter.global),o=function(e){function Panel(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Panel);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"common",c,t),_initDefineProp(t,"actPanelServices",s,t),_initDefineProp(t,"global",l,t),t.state={isShowPanel:!1},t.iframe=f.a.createRef(),t.updatePanel=t.updatePanel.bind(t),t}return _inherits(Panel,e),Panel.prototype.componentDidMount=function componentDidMount(){this.actPanelServices.init({iframe:this.iframe,updatePanel:this.updatePanel})},Panel.prototype.updatePanel=function updatePanel(e){var t=Object.assign({},e);this.setState(t)},Panel.prototype.render=function render(){var e=this,t=this.state.isShowPanel,r="/topic/h5/ClanWarWeb202003";return"master"!==this.global.get("$SYS.env")&&(r="/topic/template/h5/ClanWarWeb202003"),f.a.createElement("iframe",{className:"ActClanWarIframe "+(t?"is-show":""),onMouseEnter:function onMouseEnter(){return e.actPanelServices.togglePanel(1)},onMouseLeave:function onMouseLeave(){return e.actPanelServices.togglePanel(0)},ref:this.iframe,src:r,scrolling:"no",__source:{fileName:"/shark/live/src/pages/roomPage/activity/clanWar2019/components/Panel/Panel.js",lineNumber:51},__self:this})},Panel}(f.a.Component),c=_applyDecoratedDescriptor(o.prototype,"common",[n],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"actPanelServices",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"global",[i],{enumerable:!0,initializer:null}),o);t.default=_},"27a2c3":function(e,t,r){"use strict";var n=r("1a22b7"),a=r.n(n),i="/shark/live/src/pages/roomPage/activity/clanWar2019/components/Bar/ZoneInfo.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}var o=function(e){function ZoneInfo(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ZoneInfo),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(ZoneInfo,e),ZoneInfo.prototype.render=function render(){var e=this.props.link;return e?a.a.createElement("a",{className:"ActClanWarBar-nav ActClanWarBar-center-area",href:e,target:"_blank",__source:{fileName:i,lineNumber:9},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner",__source:{fileName:i,lineNumber:13},__self:this},this.props.children)):a.a.createElement("div",{className:"ActClanWarBar-nav ActClanWarBar-center-area",__source:{fileName:i,lineNumber:23},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner",__source:{fileName:i,lineNumber:24},__self:this},this.props.children))},ZoneInfo}(a.a.Component);t.default=o},"2d6146":function(e,t){e.exports=sdkd479d126aaa128c11834},"2e83fd":function(e,t,r){e.exports=r("5f575e")("25c8b")},"31031f":function(e,t,r){e.exports=r("d1db8c")("cfb79")},332271:function(e,t,r){e.exports=r("5f575e")("36016")},"3b6ec9":function(e,t,r){e.exports=r("999443")("63f14")},"3d6c1d":function(e,t,r){},516041:function(e,t,r){"use strict";var n=r("1a22b7"),a=r.n(n),i=r("27a2c3"),o=(r("975c45"),r("a3bd63")),c=(r("074eba"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),s="/shark/live/src/pages/roomPage/activity/clanWar2019/components/Bar/Step1Bar.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}var l=function(e){function Step1Bar(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Step1Bar),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(Step1Bar,e),Step1Bar.prototype.inTheGame=function inTheGame(e){return a.a.createElement("div",{className:"ActClanWarBar-body",__source:{fileName:s,lineNumber:9},__self:this},a.a.createElement(i.default,{link:e.ztPageUrl,__source:{fileName:s,lineNumber:10},__self:this},a.a.createElement("div",{className:"u-color-dark u-fw-b u-lh-16",__source:{fileName:s,lineNumber:11},__self:this},"\u9009\u62d4\u8d5b")),a.a.createElement(o.default,c({isBig:!0},e,{__source:{fileName:s,lineNumber:13},__self:this}),a.a.createElement("div",{className:"ActClanWarDayRank-midCont ActClanWarBar-center-area u-lh-14",__source:{fileName:s,lineNumber:17},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner",__source:{fileName:s,lineNumber:18},__self:this},a.a.createElement("div",{className:"u-color-fff",__source:{fileName:s,lineNumber:19},__self:this},"24\u70b9\u7ed3\u7b97\u65f6"),a.a.createElement("div",{className:"u-color-fff",__source:{fileName:s,lineNumber:20},__self:this},"\u524d",e.winNum,"\u540d\u664b\u7ea7")))))},Step1Bar.prototype.render=function render(){var e=this.props.data,t=void 0===e?{}:e;return this.inTheGame(t)},Step1Bar}(a.a.Component);t.default=l},528016:function(e,t,r){e.exports=r("5f575e")("39485")},552144:function(e,t,r){},"5b0723":function(e,t,r){"use strict";var n,a,i,o,c,s=r("97a1f0"),l=r("7ca7dc"),u=r("eb3e22"),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var p=l.default.Service,m=(n=p(u.DataCenter.common),a=p(u.DataCenter.global),i=function(e){function ActOtherServices(){var t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ActOtherServices);for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=r=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),_initDefineProp(r,"common",o,r),_initDefineProp(r,"global",c,r),r.isSubscribe=!1,_possibleConstructorReturn(r,t)}return _inherits(ActOtherServices,e),ActOtherServices.prototype.init=function init(e){var t=this,r=this.config;this.config=Object.assign({},f({},r,e)),this.isSubscribe||(this.isSubscribe=!0,this.common.get("$ACT-clanWar").subscribe(function(e){var r=Object.assign({},e);r.stage>=1&&r.stage<=3&&t.updatePKView(r)}))},ActOtherServices.prototype.updatePKView=function updatePKView(e){var t=this.config;t.updatePKComponent&&"function"===typeof t.updatePKComponent&&t.updatePKComponent(e)},ActOtherServices.prototype.updateTipsView=function updateTipsView(e){var t=this.config;t.updateTipsComponent&&"function"===typeof t.updateTipsComponent&&t.updateTipsComponent(e)},ActOtherServices.prototype.getUnionInfo=function getUnionInfo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=e.gid_list;return(void 0===r?{}:r)[t]||{name:"",icon:""}},ActOtherServices}(s.Service),o=_applyDecoratedDescriptor(i.prototype,"common",[n],{enumerable:!0,initializer:null}),c=_applyDecoratedDescriptor(i.prototype,"global",[a],{enumerable:!0,initializer:null}),i);t.default=m},"5f575e":function(e,t){e.exports=_room_common_},"6822bc":function(e,t,r){e.exports=r("5f575e")("25242")},"69fd35":function(e,t,r){"use strict";var n,a,i,o,c,s,l,u,f,p=r("1a22b7"),m=r.n(p),d=r("7ca7dc"),h=r("eb3e22"),_=r("b067ea"),b=r("1346c0"),v=r("9e6285"),y=r("332271"),N=r("e795f5"),g=r("23eae3"),P=r("e1a6d2"),C=(r("3d6c1d"),"/shark/live/src/pages/roomPage/activity/clanWar2019/components/index.js");function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var w=d.default.Service,O=(n=w(b.default),a=w(v.default),i=w(h.DataCenter.common),o=w(_.default),c=function(e){function Pendant(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Pendant);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"commonActServices",s,t),_initDefineProp(t,"actPanelServices",l,t),_initDefineProp(t,"common",u,t),_initDefineProp(t,"configEffectBroadcastService",f,t),t.state={isZoomIn:!1,offsetTop:150,isStart:!1,isRankMounted:!1},t.modal=m.a.createRef(),t.toggleZoomSwitch=t.toggleZoomSwitch.bind(t),t.configEffectBroadcastService.register("ghz202009"),t}return _inherits(Pendant,e),Pendant.prototype.componentDidMount=function componentDidMount(){this.commonActServices.init()},Pendant.prototype.toggleZoomSwitch=function toggleZoomSwitch(){var e=this.state.isZoomIn;this.setState({isZoomIn:!e})},Pendant.prototype.startAct=function startAct(){this.setState({isStart:!0})},Pendant.prototype.endAct=function endAct(){this.setState({isStart:!1})},Pendant.prototype.moveEvent=function moveEvent(e){var t=e||{};this.setState({offsetTop:t.top})},Pendant.prototype.render=function render(){var e=this,t=this.state,r=t.isStart,n=t.isZoomIn,a=t.offsetTop,i=t.isRankMounted;return m.a.createElement("div",{className:"ActClanWar ActBase "+(r?"is-show":"")+" "+(n?"is-mini":""),style:{top:a},ref:this.modal,__source:{fileName:C,lineNumber:79},__self:this},m.a.createElement("div",{className:"ActBase-switchWrap",__source:{fileName:C,lineNumber:85},__self:this},m.a.createElement("span",{className:"ActBase-switch",onClick:this.toggleZoomSwitch,__source:{fileName:C,lineNumber:86},__self:this})),m.a.createElement(y.default,{styleName:"ActClanWar-logo",isSupportY:!0,isParentsMove:!0,dragEvent:this.moveEvent.bind(this),modal:this.modal,__source:{fileName:C,lineNumber:90},__self:this}),m.a.createElement("div",{className:"ActClanWarBar ActBase-bar",onMouseEnter:function onMouseEnter(){e.setState({isRankMounted:!0}),e.actPanelServices.togglePanel(1)},onMouseLeave:function onMouseLeave(){return e.actPanelServices.togglePanel(0)},__source:{fileName:C,lineNumber:97},__self:this},m.a.createElement(N.default,{startAct:this.startAct.bind(this),endAct:this.endAct.bind(this),__source:{fileName:C,lineNumber:106},__self:this})),m.a.createElement("div",{className:"ActBase-rank",__source:{fileName:C,lineNumber:111},__self:this},i?m.a.createElement(g.default,{__source:{fileName:C,lineNumber:113},__self:this}):null),m.a.createElement(P.default,{__source:{fileName:C,lineNumber:116},__self:this}))},Pendant}(m.a.Component),s=_applyDecoratedDescriptor(c.prototype,"commonActServices",[n],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(c.prototype,"actPanelServices",[a],{enumerable:!0,initializer:null}),u=_applyDecoratedDescriptor(c.prototype,"common",[i],{enumerable:!0,initializer:null}),f=_applyDecoratedDescriptor(c.prototype,"configEffectBroadcastService",[o],{enumerable:!0,initializer:null}),c);t.default=O},"718e52":function(e,t,r){"use strict";var n=r("1a22b7"),a=r.n(n),i=(r("7912b6"),r("e2eac8"),r("27a2c3"),r("975c45")),o="/shark/live/src/pages/roomPage/activity/clanWar2019/components/Bar/ReviewBar.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}var c=function(e){function ReviewBar(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ReviewBar),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(ReviewBar,e),ReviewBar.prototype.render=function render(){var e=this.props.data,t=void 0===e?{}:e,r=t.reviewType,n=t.ztPageUrl;switch(r){case 1:case 2:case 3:return a.a.createElement("div",{className:"ActClanWarBar-body",__source:{fileName:o,lineNumber:18},__self:this},a.a.createElement(i.default,{avatar:t.anchorAvatar,link:n,zoneName:t.zoneName,__source:{fileName:o,lineNumber:19},__self:this},a.a.createElement("div",{className:"ActClanWarReviewBar-icon is-type"+r,__source:{fileName:o,lineNumber:23},__self:this}),a.a.createElement("div",{className:"ActClanWarReviewBar-body ActClanWarBar-center-area",__source:{fileName:o,lineNumber:24},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner",__source:{fileName:o,lineNumber:25},__self:this}))));default:return a.a.createElement("div",{className:"ActClanWarBar-body",__source:{fileName:o,lineNumber:34},__self:this},a.a.createElement("a",{className:"ActClanWarReviewBar",href:n,target:"_blank",__source:{fileName:o,lineNumber:35},__self:this}))}},ReviewBar}(a.a.Component);t.default=c},"748d25":function(e,t,r){e.exports=r("2d6146")("980ef")},"7912b6":function(e,t,r){e.exports=r("5f575e")("48f66")},"7ca7dc":function(e,t,r){e.exports=r("2d6146")("f0df9")},817183:function(e,t,r){"use strict";var n=r("7ca7dc"),a=r("e8e3eb"),i=n.default.combineEpicsClass;t.default=i(a.default)},"8355e9":function(e,t,r){e.exports=r("5f575e")("ed735")},"865e1f":function(e,t,r){"use strict";r.r(t);r("528016");var n=r("7ca7dc"),a=new(r("c07b3a").default);n.default.render(a,document.getElementById("js-room-activity"))},"8ddf9c":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/defaultSharkAvatar_1ba58f1.png"},960890:function(e,t,r){e.exports=r("d1db8c")("c9c82")},"975c45":function(e,t,r){"use strict";var n=r("1a22b7"),a=r.n(n),i=r("8ddf9c"),o=r.n(i),c="/shark/live/src/pages/roomPage/activity/clanWar2019/components/Bar/MiniPanel.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}var s=function(e){function MiniPanel(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MiniPanel),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(MiniPanel,e),MiniPanel.prototype.render=function render(){var e=this.props,t=e.avatar,r=e.link,n=e.isBig,i=e.zoneName,s=a.a.createElement(a.a.Fragment,{__source:{fileName:c,lineNumber:7},__self:this},a.a.createElement("div",{className:"ActClanWarBar-avatar",__source:{fileName:c,lineNumber:8},__self:this},a.a.createElement("img",{src:t||o.a,alt:"",__source:{fileName:c,lineNumber:9},__self:this})),a.a.createElement("div",{className:"ActClanWarMiniPanel-zoneName ActClanWarBar-center-area",__source:{fileName:c,lineNumber:11},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner",__source:{fileName:c,lineNumber:12},__self:this},a.a.createElement("div",{className:"ActClanWarBar-anchorName u-color-fff",__source:{fileName:c,lineNumber:13},__self:this},"<",i,">"))),a.a.createElement("div",{className:"ActClanWarMiniPanel-content ActClanWarBar-center-area",__source:{fileName:c,lineNumber:16},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner",__source:{fileName:c,lineNumber:17},__self:this},this.props.children)));return r?a.a.createElement("a",{className:"ActClanWarMiniPanel"+(n?" is-big":""),href:r,target:"_blank",__source:{fileName:c,lineNumber:26},__self:this},s):a.a.createElement("div",{className:"ActClanWarMiniPanel"+(n?" is-big":""),__source:{fileName:c,lineNumber:29},__self:this},s)},MiniPanel}(a.a.Component);t.default=s},"97a1f0":function(e,t,r){e.exports=r("2d6146")("11f13")},984839:function(e,t,r){},999443:function(e,t){e.exports=vendor3d72ea64bdb3506ffdba},"9e6285":function(e,t,r){"use strict";var n,a,i,o,c,s,l,u=r("97a1f0"),f=r("7ca7dc"),p=r("eb3e22"),m=r("fc7947"),d=r.n(m),h=r("f3f802"),_=r("00d1b0"),b=r("960890"),v=r("f68984"),y=r("31031f"),N=r("8355e9"),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var P=f.default.Service,C="ClanWar202003",w=(n=P(p.DataCenter.common),a=P(p.DataCenter.global),i=P(N.default),o=function(e){function PanelServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PanelServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"common",c,t),_initDefineProp(t,"global",s,t),_initDefineProp(t,"avatarServices",l,t),t.config={mouseEnterTimer:null},t.state={stage:0,isShowPanel:!1,dataCenter:{}},t.cpp$=new y.ReplaySubject(1),t.common.get("$ACT-clanWar").subscribe(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.state.stage=e.stage,t.state.dataCenter=e,t.cpp$.next(e)}),t}return _inherits(PanelServices,e),PanelServices.prototype.init=function init(e){var t=this,r=this.config;this.userId=+this.global.get("USER_INFO.uid"),this.config=Object.assign({},g({},r,e)),Object(h.zip)(this.common.get("$DATA"),Object(b.of)(this.userId).pipe(Object(_.mergeMap)(function(e){return e?t.avatarServices.getAvatarObservable(e,"middle"):Object(b.of)({})})),Object(b.of)(e)).pipe(Object(v.map)(function(e){var r=e[0],n=e[1],a=e[2],i=r.room,o=void 0===i?{}:i,c=o.cate2_id,s=o.nickname,l=o.room_id,u=o.owner_uid,f=o.avatar,p=(f=void 0===f?{}:f).middle;return[{type:"AnchorInfo_"+C,data:{nickName:s,avatar:void 0===p?"":p,roomId:l,anchorId:u,isAnchor:t.userId===+u,cateId:c}},{type:"UserInfo_"+C,data:{userName:t.global.get("USER_INFO.nickname"),userId:t.userId||0,avatar:n.data}},a]})).subscribe(function(e){return t.handlePanelInit(e)})},PanelServices.prototype.handlePanelInit=function handlePanelInit(e){var t=this,r=e[0],n=e[1],a=e[2];window.addEventListener("message",function(e){var i=e.source,o=e.origin;if(i===a.iframe.current.contentWindow){var c=e.data,s=c.type,l=c.data,u=void 0===l?{}:l;s==="ReadyMsg_"+C&&u.isLoaded&&(t.panelSource=i,t.panelOrigin=o,t.updatePanel(r),t.updatePanel(n),t.cpp$.subscribe(function(e){return t.handleCPP(e)}),t.state.isShowPanel&&t.switchPanel(!0)),s==="ShowLogin_"+C&&u.showLogin&&!d.a.check()&&d.a.show()}})},PanelServices.prototype.handleCPP=function handleCPP(e){this.isGameOver()&&this.togglePanel(0),this.updatePanel({type:"CppRes_"+C,data:e.cppRes})},PanelServices.prototype.togglePanel=function togglePanel(e){var t=this,r=this.state.isShowPanel,n=this.state.dataCenter;(void 0===n?{}:n).cppRes;this.isGameOver()?r&&this.switchPanel(!1):e?(r||this.switchPanel(!0),clearTimeout(this.config.mouseEnterTimer)):(clearTimeout(this.config.mouseEnterTimer),this.config.mouseEnterTimer=setTimeout(function(){t.switchPanel(!1)},200))},PanelServices.prototype.isGameOver=function isGameOver(){var e=this.state.dataCenter,t=void 0===e?{}:e,r=(t.cppRes,t.stage),n=void 0===r?0:r,a=t.innerData,i=(void 0===a?{}:a).ISDIE;return!!(n<2||n>3||i)},PanelServices.prototype.updatePanel=function updatePanel(e){this.panelSource&&this.panelSource.postMessage(e,this.panelOrigin)},PanelServices.prototype.switchPanel=function switchPanel(e){var t=this.config||{};this.state.isShowPanel=e,this.updatePanel({type:"IsShowRank_"+C,data:{showRank:e}}),"function"===typeof t.updatePanel&&t.updatePanel({isShowPanel:e})},PanelServices}(u.Service),c=_applyDecoratedDescriptor(o.prototype,"common",[n],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"global",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"avatarServices",[i],{enumerable:!0,initializer:null}),o);t.default=w},a3bd63:function(e,t,r){"use strict";var n=r("1a22b7"),a=r.n(n),i=r("8ddf9c"),o=r.n(i),c="/shark/live/src/pages/roomPage/activity/clanWar2019/components/Bar/DayRankInfo.js";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}var s=function(e){function DayRankInfo(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DayRankInfo),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(DayRankInfo,e),DayRankInfo.prototype.render=function render(){var e=this.props,t=e.anchorAvatar,r=e.dayRank,n=e.hasDayRank,i=e.isBig,s=(e.isNoAvatar,e.zoneName),l=e.dayDiffInfo;return a.a.createElement("div",{className:"ActClanWarDayRank"+(i?" is-big":""),__source:{fileName:c,lineNumber:9},__self:this},a.a.createElement("div",{className:"ActClanWarBar-avatar",__source:{fileName:c,lineNumber:10},__self:this},a.a.createElement("img",{src:t||o.a,alt:"",__source:{fileName:c,lineNumber:11},__self:this})),a.a.createElement("div",{className:"ActClanWarDayRank-zoneName ActClanWarBar-center-area",__source:{fileName:c,lineNumber:13},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner",__source:{fileName:c,lineNumber:14},__self:this},a.a.createElement("div",{className:"ActClanWarBar-anchorName u-color-fff",__source:{fileName:c,lineNumber:15},__self:this},"<",s,">"))),a.a.createElement("div",{className:"ActClanWarDayRank-topCont ActClanWarBar-center-area u-lh-14",__source:{fileName:c,lineNumber:18},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner",__source:{fileName:c,lineNumber:19},__self:this},n?a.a.createElement(a.a.Fragment,{__source:{fileName:c,lineNumber:22},__self:this},a.a.createElement("div",{className:"ActClanWarBar-anchorName u-color-lh",__source:{fileName:c,lineNumber:23},__self:this},"\u65e5\u699c\u6392\u540d:",r),a.a.createElement("div",{className:"u-color-bbb u-mt-8",__source:{fileName:c,lineNumber:24},__self:this},l[0]),a.a.createElement("div",{className:"u-color-bbb",__source:{fileName:c,lineNumber:25},__self:this},l[1])):a.a.createElement(a.a.Fragment,{__source:{fileName:c,lineNumber:27},__self:this},a.a.createElement("div",{className:"u-color-lh",__source:{fileName:c,lineNumber:28},__self:this},"\u672a\u4e0a\u699c")))),this.props.children)},DayRankInfo}(a.a.Component);t.default=s},ac64b0:function(e,t,r){e.exports=r("5f575e")("55d33")},b067ea:function(e,t,r){e.exports=r("5f575e")("6792d")},c07b3a:function(e,t,r){"use strict";var n=r("7ca7dc"),a=r("817183"),i=r("c30f7c"),o=r("69fd35"),c=n.default.StoreFactory;t.default=n.default.createApp({name:"ActApp",providers:[{name:"component",useFactory:function useFactory(){return o.default}},{name:"store",useFactory:function useFactory(){return c.getInstance(window.__INITIAL_STATE__,i.default,a.default)}}]})},c30f7c:function(e,t,r){"use strict";t.default=Object.assign({})},cb8c6f:function(e,t,r){e.exports=r("5f575e")("de0e2")},d1db8c:function(e,t){e.exports=playerSDK2da5b1f3a3deccaa435b},d3fbe8:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/avatar_c44bfa1.png"},e1a6d2:function(e,t,r){"use strict";var n=r("081700");t.default=n.default},e2eac8:function(e,t,r){e.exports=r("5f575e")("fec18")},e795f5:function(e,t,r){"use strict";var n,a,i,o,c,s,l,u=r("1a22b7"),f=r.n(u),p=r("7ca7dc"),m=r("eb3e22"),d=r("0d764d"),h=r("9e6285"),_=r("0f5f14"),b=r("516041"),v=r("f72ef9"),y=r("718e52"),N="/shark/live/src/pages/roomPage/activity/clanWar2019/components/Bar/Bar.js";function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var g=p.default.Service,P=(n=g(m.DataCenter.common),a=g(d.default),i=g(h.default),o=function(e){function Bar(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Bar);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"common",c,t),_initDefineProp(t,"actBarServices",s,t),_initDefineProp(t,"actPanelServices",l,t),t.state={data:{}},t.executeOnce=!1,t}return _inherits(Bar,e),Bar.prototype.componentDidMount=function componentDidMount(){this.actBarServices.init({updateComponent:this.updateComponent.bind(this)})},Bar.prototype.updateComponent=function updateComponent(e){e.closePanel?this.props.endAct():this.setState({data:e})},Bar.prototype.chooseComponent=function chooseComponent(e){switch(+e.stage){case 1:return f.a.createElement(_.default,{data:e,__source:{fileName:N,lineNumber:50},__self:this});case 2:return f.a.createElement(b.default,{data:e,__source:{fileName:N,lineNumber:52},__self:this});case 3:return f.a.createElement(v.default,{data:e,__source:{fileName:N,lineNumber:54},__self:this});case 4:return f.a.createElement(y.default,{data:e,__source:{fileName:N,lineNumber:56},__self:this});default:return null}},Bar.prototype.render=function render(){var e=this,t=this.state.data||{};return!this.executeOnce&&t.isInit&&(this.executeOnce=!0,setTimeout(function(){e.props.startAct()},100)),f.a.createElement("div",{className:"ActClanWarBar-wrap",onMouseEnter:function onMouseEnter(){return e.actPanelServices.togglePanel(1)},onMouseLeave:function onMouseLeave(){return e.actPanelServices.togglePanel(0)},__source:{fileName:N,lineNumber:73},__self:this},this.chooseComponent(t))},Bar}(f.a.Component),c=_applyDecoratedDescriptor(o.prototype,"common",[n],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"actBarServices",[a],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(o.prototype,"actPanelServices",[i],{enumerable:!0,initializer:null}),o);t.default=P},e849dc:function(e,t,r){e.exports=r("5f575e")("24613")},e854a7:function(e,t,r){e.exports=r("5f575e")("a5ed5")},e8e3eb:function(e,t,r){"use strict";t.default=function ActEpics(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ActEpics)}},eb3e22:function(e,t,r){e.exports=r("d1db8c")("e55c4")},eeb9b8:function(e,t,r){e.exports=r("5f575e")("aa9da")},f3f802:function(e,t,r){e.exports=r("d1db8c")("f1cc6")},f68984:function(e,t,r){e.exports=r("d1db8c")("53a00")},f72ef9:function(e,t,r){"use strict";var n=r("1a22b7"),a=r.n(n),i=r("27a2c3"),o=r("975c45"),c=r("a3bd63"),s=(r("2e83fd"),r("074eba")),l=r("f96cb8"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f="/shark/live/src/pages/roomPage/activity/clanWar2019/components/Bar/Step2Bar.js";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}var p=function(e){function Step2Bar(){var t,r,n=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Step2Bar);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=r=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(o))),r.renderPKINfo=function(e){return e.isMyPK?a.a.createElement(s.default,u({},e,{__source:{fileName:f,lineNumber:24},__self:n})):a.a.createElement(l.Champion,u({},e,{__source:{fileName:f,lineNumber:25},__self:n}))},_possibleConstructorReturn(r,t)}return _inherits(Step2Bar,e),Step2Bar.prototype.outTheGame=function outTheGame(e){return a.a.createElement("div",{className:"ActClanWarBar-body",__source:{fileName:f,lineNumber:11},__self:this},a.a.createElement(o.default,{avatar:e.anchorAvatar,link:e.ztPageUrl,zoneName:e.zoneName,__source:{fileName:f,lineNumber:12},__self:this},a.a.createElement("div",{className:"u-color-bbb",__source:{fileName:f,lineNumber:17},__self:this},"\u6b62\u6b65\u9009\u62d4\u8d5b")))},Step2Bar.prototype.inMatch=function inMatch(e){return a.a.createElement("div",{className:"ActClanWarBar-body",__source:{fileName:f,lineNumber:30},__self:this},a.a.createElement(i.default,{link:e.ztPageUrl,__source:{fileName:f,lineNumber:31},__self:this},a.a.createElement("div",{className:"u-color-dark u-fw-b u-lh-16",__source:{fileName:f,lineNumber:32},__self:this},"\u51b2\u523a\u8d5b")),a.a.createElement(c.default,u({isBig:!e.isPKOpen},e,{__source:{fileName:f,lineNumber:34},__self:this}),e.isPKOpen?null:a.a.createElement("div",{className:"ActClanWarDayRank-midCont ActClanWarBar-center-area u-lh-14",__source:{fileName:f,lineNumber:41},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner",__source:{fileName:f,lineNumber:42},__self:this},e.isPKPre?a.a.createElement(a.a.Fragment,{__source:{fileName:f,lineNumber:45},__self:this},a.a.createElement("div",{className:"u-color-fff",__source:{fileName:f,lineNumber:46},__self:this},e.pkOpenTime),a.a.createElement("div",{className:"u-color-fff",__source:{fileName:f,lineNumber:47},__self:this},"\u5f00\u542fPK")):a.a.createElement(a.a.Fragment,{__source:{fileName:f,lineNumber:49},__self:this},a.a.createElement("div",{className:"u-color-fff",__source:{fileName:f,lineNumber:50},__self:this},"\u4e89\u593a\u5b63\u5ea6"),a.a.createElement("div",{className:"u-color-fff",__source:{fileName:f,lineNumber:51},__self:this},"\u6700\u4f73\u516c\u4f1a"))))),e.isPKOpen?this.renderPKINfo(e):null)},Step2Bar.prototype.render=function render(){var e=this.props.data,t=void 0===e?{}:e;return t.isDie?this.outTheGame(t):this.inMatch(t)},Step2Bar}(a.a.Component);t.default=p},f96cb8:function(e,t,r){"use strict";r.d(t,"Champion",function(){return d});var n=r("1a22b7"),a=r.n(n),i=r("7912b6"),o=r("8ddf9c"),c=r.n(o),s=r("2e83fd"),l=r("e2eac8"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f="/shark/live/src/pages/roomPage/activity/clanWar2019/components/Bar/Champion.js";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}var p=function(e){function ChampionRank(){return _classCallCheck(this,ChampionRank),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(ChampionRank,e),ChampionRank.prototype.render=function render(){var e=this.props,t=e.hasChampionRank,r=e.championDiffInfo,n=e.championRank,i=e.championRankOverTime,o=e.inline,c=e.isSuperChampionPeriod,l=void 0===c?"":c,u=e.matchTitle,p=e.championDefaultDes;return a.a.createElement("div",{className:"ActClanWarChampionRank"+(o?" is-inline":"")+" is-type"+l,__source:{fileName:f,lineNumber:17},__self:this},a.a.createElement("div",{className:"ActClanWarChampionRank-topInfo ActClanWarBar-center-area",__source:{fileName:f,lineNumber:18},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner u-color-dark u-lh-14 u-fw-b",__source:{fileName:f,lineNumber:19},__self:this},a.a.createElement("div",{__source:{fileName:f,lineNumber:20},__self:this},u),a.a.createElement("div",{__source:{fileName:f,lineNumber:21},__self:this},"(",a.a.createElement(s.default,{type:"2",time:i,form:"mm:ss",customDefaultValue:"00",__source:{fileName:f,lineNumber:22},__self:this}),")"))),a.a.createElement("div",{className:"ActClanWarChampionRank-body ActClanWarBar-center-area",__source:{fileName:f,lineNumber:31},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner",__source:{fileName:f,lineNumber:32},__self:this},t?a.a.createElement(a.a.Fragment,{__source:{fileName:f,lineNumber:35},__self:this},a.a.createElement("div",{className:"u-color-lh u-lh-28",__source:{fileName:f,lineNumber:36},__self:this},"\u6392\u540d:",n),a.a.createElement("div",{className:"u-color-fff u-mt-2 u-lh-16",__source:{fileName:f,lineNumber:37},__self:this},r[0]),a.a.createElement("div",{className:"u-color-fff u-lh-16",__source:{fileName:f,lineNumber:38},__self:this},r[1])):a.a.createElement("div",{className:"u-color-lh",__source:{fileName:f,lineNumber:40},__self:this},p||"\u672a\u4e0a\u699c"))))},ChampionRank}(a.a.Component),m=function(e){function ChampionPrompt(){return _classCallCheck(this,ChampionPrompt),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(ChampionPrompt,e),ChampionPrompt.prototype.render=function render(){var e=this.props,t=e.isOver,r=e.openTime,n=e.isArrow,i=e.matchTitle;return a.a.createElement("div",{className:"ActClanWarChampionRank is-pre "+(n?"is-arrow":""),__source:{fileName:f,lineNumber:55},__self:this},a.a.createElement("div",{className:"ActClanWarChampionRank-topInfo ActClanWarBar-center-area",__source:{fileName:f,lineNumber:56},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner u-color-dark u-lh-14 u-fw-b",__source:{fileName:f,lineNumber:57},__self:this},a.a.createElement("div",{__source:{fileName:f,lineNumber:58},__self:this},i))),a.a.createElement("div",{className:"ActClanWarChampionRank-body ActClanWarBar-center-area",__source:{fileName:f,lineNumber:61},__self:this},a.a.createElement("div",{className:"ActClanWarBar-center-inner",__source:{fileName:f,lineNumber:62},__self:this},t?a.a.createElement("div",{className:"u-color-lh",__source:{fileName:f,lineNumber:65},__self:this},"\u5df2\u7ed3\u675f"):a.a.createElement(a.a.Fragment,{__source:{fileName:f,lineNumber:66},__self:this},a.a.createElement("div",{className:"u-color-lh u-fw-b",__source:{fileName:f,lineNumber:67},__self:this},r),a.a.createElement("div",{className:"u-color-lh u-fw-b",__source:{fileName:f,lineNumber:68},__self:this},"\u5f00\u542f\u64c2\u4e3b\u699c")))))},ChampionPrompt}(a.a.Component),d=function(e){function Champion(){return _classCallCheck(this,Champion),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(Champion,e),Champion.prototype.render=function render(){var e=this.props,t=e.isChampionSuper,r=e.championAvatar,n=e.isArrow,o=e.championnn,s=e.championRid,l=e.inline,u=e.curRid,p=e.title;return a.a.createElement(i.DyLink,{className:"ActClanWarChampion"+(t?" is-super":"")+(l?" is-inline":"")+(n?" is-arrow":""),rid:+s,curRid:+u,__source:{fileName:f,lineNumber:84},__self:this},a.a.createElement("div",{__source:{fileName:f,lineNumber:93},__self:this},a.a.createElement("div",{className:"ActClanWarBar-avatar",style:{marginTop:"39px"},__source:{fileName:f,lineNumber:94},__self:this},a.a.createElement("img",{src:r||c.a,alt:"",__source:{fileName:f,lineNumber:95},__self:this}))),a.a.createElement("div",{className:"ActClanWarChampion-wrap",__source:{fileName:f,lineNumber:98},__self:this},a.a.createElement("div",{className:"ActClanWarChampion-topInfo u-fw-b u-color-dark u-lh-26",__source:{fileName:f,lineNumber:99},__self:this},p),a.a.createElement("div",{className:"u-mt-10",__source:{fileName:f,lineNumber:100},__self:this},a.a.createElement("div",{className:"ActClanWarBar-avatar",__source:{fileName:f,lineNumber:101},__self:this}),a.a.createElement("div",{className:"ActClanWarBar-anchorName u-color-brown u-lh-16 u-mt-12 u-fw-b",title:o,__source:{fileName:f,lineNumber:104},__self:this},o))))},Champion}(a.a.Component);!function(e){function ChampionWrap(){return _classCallCheck(this,ChampionWrap),_possibleConstructorReturn(this,e.apply(this,arguments))}_inherits(ChampionWrap,e),ChampionWrap.prototype.render=function render(){var e=this.props,t=e.needRotate,r=e.isPre,n=e.isOver,i=e.hasChampionInfo,o=e.isArrow;return r||n?a.a.createElement(m,u({},this.props,{isArrow:o,__source:{fileName:f,lineNumber:117},__self:this})):t?a.a.createElement(l.default,{distance:90,width:90,length:2,height:118,interval:8e3,__source:{fileName:f,lineNumber:121},__self:this},a.a.createElement(p,u({},this.props,{inline:!0,isArrow:o,__source:{fileName:f,lineNumber:128},__self:this})),a.a.createElement(d,u({},this.props,{inline:!0,isArrow:o,__source:{fileName:f,lineNumber:129},__self:this}))):i?a.a.createElement(d,u({},this.props,{isArrow:o,__source:{fileName:f,lineNumber:134},__self:this})):a.a.createElement(p,u({isArrow:o},this.props,{__source:{fileName:f,lineNumber:135},__self:this}))}}(a.a.Component)},fc7947:function(e,t,r){e.exports=r("5f575e")("d38ed")},ffca33:function(e,t,r){e.exports=r("5f575e")("66581")}},[["865e1f","common-pre"]]]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/clanWar2019_d19a386.js.map
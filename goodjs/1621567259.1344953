(window.webpackJsonp=window.webpackJsonp||[]).push([[15,448],{1952:function(t,e,n){"use strict";n.r(e),n.d(e,"clientLoader",(function(){return c})),n.d(e,"fullRehydrate",(function(){return o})),n.d(e,"partialRehydrate",(function(){return a}));var r=n(769),i=n(7);async function c(t,e){t.select(i.e)?await a(t,e):await o(t,e),t.runSaga(r.runDaybreakMetrics,{elementId:e.containerId,moduleName:"AirQualityFooter",reduxStore:t.getStore()})}async function o(t,e){const r=await Promise.all([n.e(1),n.e(0),n.e(2),n.e(14),n.e(439)]).then(n.bind(null,1940)).then(t=>t.fullRehydrate);await t.runSaga(r,t,e)}async function a(t,e){const r=await Promise.all([n.e(1),n.e(0),n.e(14),n.e(446)]).then(n.bind(null,1943)).then(t=>t.partialRehydrate);await t.runSaga(r,t,e)}},754:function(t,e,n){"use strict";n.d(e,"g",(function(){return r})),n.d(e,"k",(function(){return i})),n.d(e,"n",(function(){return c})),n.d(e,"j",(function(){return o})),n.d(e,"l",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return l})),n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"m",(function(){return m})),n.d(e,"f",(function(){return b})),n.d(e,"d",(function(){return v}));const r="twc/metrics/SEND_BEACON",i="twc/metrics/TRACK_STRING",c="twc/metrics/FROM_STRING",o="twc/metrics/SEND_IVW_BEACON",a="twc/metrics/SEND_VIDEO_BEACON",u="daybreak-metrics",s="true",d="twc/metrics/SEND_DAYBREAK_IN_VIEW_BEACON",l="twc/metrics/SEND_DAYBREAK_TRACK_STRING",f=1e3,h=.5,m=200,b={root:null,rootMargin:"0px",threshold:[.25,h,.75]},v={threshold:{x:h,y:h}}},758:function(t,e,n){var r=n(92),i=n(225),c=n(762),o=n(759),a=Math.max,u=Math.min;t.exports=function(t,e,n){var s,d,l,f,h,m,b=0,v=!1,w=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function I(e){var n=s,r=d;return s=d=void 0,b=e,f=t.apply(r,n)}function O(t){return b=t,h=r(g,e),v?I(t):f}function p(t){var n=t-m;return void 0===m||n>=e||n<0||w&&t-b>=l}function g(){var t=c();if(p(t))return N(t);h=r(g,function(t){var n=e-(t-m);return w?u(n,l-(t-b)):n}(t))}function N(t){return h=void 0,y&&s?I(t):(s=d=void 0,f)}function k(){var t=c(),n=p(t);if(s=arguments,d=this,m=t,n){if(void 0===h)return O(m);if(w)return clearTimeout(h),h=r(g,e),I(m)}return void 0===h&&(h=r(g,e)),f}return e=o(e)||0,i(n)&&(v=!!n.leading,l=(w="maxWait"in n)?a(o(n.maxWait)||0,e):l,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==h&&clearTimeout(h),b=0,s=m=d=h=void 0},k.flush=function(){return void 0===h?f:N(c())},k}},759:function(t,e,n){n(42);var r=n(34),i=n(328),c=n(225),o=n(175),a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=i;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(c(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=c(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=s.test(t);return n||d.test(t)?l(r(t).call(t,2),n?2:8):u.test(t)?NaN:+t}},760:function(t,e,n){"use strict";n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return d}));var r=n(748),i=n(754);const c=Object(r.a)(i.k),o=Object(r.a)(i.n),a=Object(r.a)(i.j),u=Object(r.a)(i.l),s=(Object(r.a)(i.g),Object(r.a)(i.h)),d=Object(r.a)(i.i)},761:function(t,e,n){var r=n(758),i=n(225);t.exports=function(t,e,n){var c=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(n)&&(c="leading"in n?!!n.leading:c,o="trailing"in n?!!n.trailing:o),r(t,e,{leading:c,maxWait:e,trailing:o})}},762:function(t,e,n){var r=n(63);t.exports=function(){return r.Date.now()}},765:function(t,e,n){t.exports=n(766)},766:function(t,e,n){var r=n(767);t.exports=r},767:function(t,e,n){n(768);var r=n(17);t.exports=r.Number.isNaN},768:function(t,e,n){n(3)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},769:function(t,e,n){"use strict";n.r(e),n.d(e,"registerDaybreakMetricsSaga",(function(){return N})),n.d(e,"removeFromDaybreakPool",(function(){return k})),n.d(e,"addToDaybreakPool",(function(){return E})),n.d(e,"isInDaybreakPool",(function(){return j})),n.d(e,"useDaybreakMetrics",(function(){return x})),n.d(e,"shouldBeInPool",(function(){return S})),n.d(e,"getValidPercentage",(function(){return T})),n.d(e,"runDaybreakMetrics",(function(){return D})),n.d(e,"DaybreakModuleMetrics",(function(){return _}));n(37);var r=n(92),i=n.n(r),c=n(228),o=n.n(c),a=n(48),u=n.n(a),s=n(328),d=n.n(s),l=n(765),f=n.n(l),h=n(5),m=n(135),b=n.n(m),v=n(761),w=n.n(v),y=n(174),I=n(18),O=n(760),p=n(754);const g=Object(I.createLogger)("daybreak-metrics");function*N(t){try{const{percentage:e,deleteCookie:n}=t,r=yield Object(h.c)(T,e),i=yield Object(h.c)(j),c=yield Object(h.c)(S,r);if(n)return void(yield Object(h.c)(k));if(i||!c)return;yield Object(h.c)(E)}catch(t){g.error(t)}}function*k(){yield Object(h.c)([b.a,b.a.expire],p.a)}function*E(){yield Object(h.c)([b.a,b.a.set],p.a,p.b,{domain:".weather.com"})}function j(){const t=b.a.get(p.a);return t&&t===p.b}function x(){return j()}function S(t){if(f()(t))return!1;if(!t)return!1;return Math.ceil(100*Math.random())<=t}function T(t){const e="number"!=typeof t?d()(t,10):t;return f()(e)?0:e}const V=new u.a;function*D({elementId:t,moduleName:e,reduxStore:n},{moduleMetricsInstances:r=V}={}){const i=yield Object(h.c)(x),c=yield Object(h.c)([r,r.has],e);if(!i||c)return;yield Object(h.c)([r,r.add],e);const o=yield Object(h.c)(C,{elementId:t,moduleName:e,reduxStore:n});yield Object(h.c)([o,o.init])}function*C({elementId:t,moduleName:e,reduxStore:n}){const{dispatch:r}=n;return new _({elementId:t,moduleName:e,dispatch:r})}class _{constructor({elementId:t,moduleName:e,dispatch:n}){this.observerCallback=t=>{const[e]=t;e.isIntersecting&&e.intersectionRatio>=p.c?this.hasInViewBeaconFired||this.timeoutCallback||this.setInViewTimeout():requestAnimationFrame(this.clearInViewTimeout)},this.enableHandlers=()=>{this.intersectionObserver?this.intersectionObserver.observe(this.htmlElement):document.addEventListener("scroll",this.scrollEventHandler)},this.scrollEventHandler=w()(()=>{Object(y.a)(this.htmlElement,p.d)?this.hasInViewBeaconFired||this.timeoutCallback||this.setInViewTimeout():requestAnimationFrame(this.clearInViewTimeout)},p.m),this.setInViewTimeout=()=>{this.hasIntersected=!0,this.timeFirstInView=o()(),this.timeoutCallback=i()(()=>{this.sendInViewBeacon()},p.e)},this.clearInViewTimeout=()=>{this.hasIntersected&&o()()-this.timeFirstInView<p.e&&(clearTimeout(this.timeoutCallback),this.timeoutCallback=null)},this.htmlElement=document.getElementById(t),this.hasIntersected=!1,this.hasInViewBeaconFired=!1,this.timeFirstInView=0,this.timeoutCallback=null,this.intersectionObserver=null,this.sendInViewBeacon=()=>n(Object(O.a)(e)),this.sendTrackString=()=>n(Object(O.b)(e))}init(){IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(this.observerCallback,p.f)),this.enableHandlers(),this.htmlElement.addEventListener("click",this.sendTrackString)}}}}]);
//# sourceMappingURL=15.AirQuality.801443a3e08605b93473.js.map
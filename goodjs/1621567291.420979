(window.webpackJsonp=window.webpackJsonp||[]).push([[15,109,120],{"+Xjy":function(e,t,n){"use strict";var o=n("kOwS"),i=n("doui"),a=n("eVuF"),r=n.n(a),c=n("ln6h"),s=n.n(c),l=n("6BQ9"),u=n.n(l),m=n("MX0m"),d=n.n(m),p=n("q1tI"),f=n.n(p),h=n("TSYQ"),b=n.n(h),v=n("/MKj"),g=n("KYPV"),x=n("lCZi"),y=n("4IZf"),w=n.n(y),j=n("nOHt"),_=n("a6RD"),k=n.n(_),O=n("1qWt"),C=n("Oy9n"),E=n("D+1f"),A=n("kKES"),S=n("vFE8"),N=n("vcB1"),P=n("v0uu"),I=n("LY3E"),R=n("dUxu"),M=n("ynDS"),T=n("R5x4"),U=n("LpoC"),D=n("9E9K"),B=n("8cHP"),L=n("See1"),z=n("OZ8X"),H=n("aOJk"),F=n.n(H),K={search:"T\xecm Ki\u1ebfm",clear:"X\xf3a",notfound:"Kh\xf4ng T\xecm Th\u1ea5y Emoji",skintext:"Ch\u1ecdn M\xe0u Da M\u1eb7c \u0110\u1ecbnh",categories:{search:"K\u1ebft Qu\u1ea3 T\xecm Ki\u1ebfm",recent:"Emoji Th\u01b0\u1eddng D\xf9ng",smileys:"C\u1ea3m X\xfac",people:"C\u1ea3m X\xfac & Con Ng\u01b0\u1eddi",nature:"\u0110\u1ed9ng V\u1eadt & Thi\xean Nhi\xean",foods:"\u1ea8m Th\u1ef1c",activity:"Ho\u1ea1t \u0110\u1ed9ng",places:"Du L\u1ecbch & \u0110\u1ecba \u0110i\u1ec3m",objects:"\u0110\u1ed3 V\u1eadt",symbols:"Bi\u1ec3u T\u01b0\u1ee3ng",flags:"Qu\u1ed1c Gia",custom:"Kh\xe1c"},categorieslabel:"Nh\xf3m Emoji",skintones:{1:"M\xe0u Da M\u1eb7c \u0110\u1ecbnh",2:"Da Tr\u1eafng",3:"Da Ng\xe2m",4:"Da S\u1eadm M\xe0u",5:"Da N\xe2u",6:"Da \u0110en"}},V=n("d1El"),W=n.n(V),Q=n("WIrD"),G=n("RysE"),X=n("65Qd"),J=n("MM9K"),Y=n.n(J),q=n("hpSX"),Z=n("41uw");var $=function(e){var t=Object(p.useState)(!1),n=t[0],o=t[1];function i(t){t.key===e&&o(!0)}var a=function(t){t.key===e&&o(!1)};return Object(p.useEffect)((function(){return document.addEventListener("keydown",i),document.addEventListener("keyup",a),function(){document.removeEventListener("keydown",i),document.removeEventListener("keyup",a)}})),n},ee=f.a.createElement,te=Object(p.memo)((function(e){var t=e.value,n=e.active,o=e.setSelected,i=e.setHovered,a=e.username,r=e.id;return ee("div",{id:r,className:"mention-item ".concat(n?"selected":""),"data-username":a,onMouseEnter:function(){return i(t)},onMouseLeave:function(){return i(null)},onClick:function(){return o(t)}},ee("div",{className:"d-flex align-item-center"},ee("div",{className:"mr__2"},ee(Z.default,{url:A.b.generatorUrlProfile({username:a}),size:P.Ec.imageSizeEnum.AVATAR_32,customizeclass:"mr__5",src:t.avatarUrl,typeAvatarProfile:!0,username:a})),ee("div",{className:"media-body"},ee("div",{className:"font-weight-semi-bold text-wrap max-l-1",dangerouslySetInnerHTML:{__html:"".concat(t.username)||""}}))))})),ne=Object(p.memo)((function(e){var t=e.id,n=e.loading,o=e.userSearchMention,i=e.styleDropdownMention,a=(Object(v.useDispatch)(),Object(p.useContext)(X.a)),r=(Object(z.e)(a),Object(p.useState)(null)),c=r[0],s=r[1],l=$("ArrowDown"),u=$("ArrowUp"),m=$("Enter"),d=Object(p.useState)(0),f=d[0],h=d[1],b=Object(p.useState)(null),g=b[0],x=b[1],y=null===o||void 0===o?void 0:o.length;Object(p.useEffect)((function(){if(y&&l){if(f===y-1)return;h((function(e){return e<y-1?e+1:e})),j()}}),[l]);var w=function(e){if(!(e<0)){var n=document.getElementById("dropdown-mention-item-".concat(e)).offsetTop;document.getElementById(t).scrollTop=n}},j=function(){w(f-1)};Object(p.useEffect)((function(){if(y&&u){if(0===f)return;h((function(e){return e>0?e-1:e})),w(f-3)}}),[u]),Object(p.useEffect)((function(){(null===o||void 0===o?void 0:o.length)>0&&m&&s(o[f])}),[f,m]),Object(p.useEffect)((function(){(null===o||void 0===o?void 0:o.length)>0&&y&&g&&h(o.indexOf(g))}),[g]),Object(p.useEffect)((function(){c&&e.userSelectMention(_(c.username))}),[c]);var _=function(e){return Object(q.n)(e)};return ee("div",{className:"dropdown-mention",id:t,style:i},!n&&(null===o||void 0===o?void 0:o.length)>0?o.map((function(e,t){var n=_(e.username);return ee(te,{id:"dropdown-mention-item-".concat(t),key:t,active:t===f,value:e,setSelected:s,setHovered:x,username:n})})):"",n?ee("div",{style:{height:285},className:"d-flex align-item-center justify-content-center py__30"},ee(Y.a,null)):"")})),oe=n("u0k+"),ie=n("4m1b"),ae=n("FAhR"),re=n.n(ae),ce=n("eoL6"),se={searchUser(e){var t=e.where,n=e.limit,o=e.offset;return function(e){var i,a;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e(L.a.startFetchingSearchUser()),r.prev=1,r.next=4,s.a.awrap(ce.a.query(ie.a.userQuery.SEARCH_USER,{where:t,limit:n,offset:o}).toPromise());case 4:if(!(i=r.sent)){r.next=12;break}return a=i.data?i.data:null,e(Object(D.e)(oe.a.FETCH_USER_SEARCH_MENTION,(null===a||void 0===a?void 0:a.userSearch)?null===a||void 0===a?void 0:a.userSearch:[])),e(L.a.stopFetchingSearchUser()),r.abrupt("return",null===a||void 0===a?void 0:a.userSearch);case 12:e(re.a.error({title:"Error get info Corona",message:"".concat(i.data.errors[0].message)}));case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(1),e(re.a.error({title:"Error",message:"".concat(r.t0.toString())}));case 18:case"end":return r.stop()}}),null,null,[[1,15]],r.a)}},searchMentionUser(e){var t=e.where,n=e.limit,o=e.offset;return function(e){var i,a;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e(L.a.startFetchingSearchUser()),r.prev=1,r.next=4,s.a.awrap(ce.a.query(ie.a.userQuery.SEARCH_MENTION_USER,{where:t,limit:n,offset:o}).toPromise());case 4:if(!(i=r.sent)){r.next=12;break}return a=i.data?i.data:null,e(Object(D.e)(oe.a.FETCH_USER_SEARCH_MENTION,(null===a||void 0===a?void 0:a.searchMentionUser)?null===a||void 0===a?void 0:a.searchMentionUser:[])),e(L.a.stopFetchingSearchUser()),r.abrupt("return",null===a||void 0===a?void 0:a.searchMentionUser);case 12:e(re.a.error({title:"Error get info Corona",message:"".concat(i.data.errors[0].message)}));case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(1),e(re.a.error({title:"Error",message:"".concat(r.t0.toString())}));case 18:case"end":return r.stop()}}),null,null,[[1,15]],r.a)}},clearDataSearchUser:e=>(function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e(Object(D.e)(oe.a.CLEAR_DATA_SEARCH_USER_MENTION));case 1:case"end":return t.stop()}}),null,null,null,r.a)}),setKeySearchUserMention:e=>(function(t){return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t(Object(D.e)(oe.a.SET_KEY_SEARCH_USER_MENTION,e));case 1:case"end":return n.stop()}}),null,null,null,r.a)}),showPopupSuggestMention:e=>(function(t){return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t(Object(D.e)(oe.a.SHOW_POPUP_SUGGEST_MENTION,e));case 1:case"end":return n.stop()}}),null,null,null,r.a)}),setValueMention:e=>(function(t){return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t(Object(D.e)(oe.a.USER_SELECT_MENTION,e));case 1:case"end":return n.stop()}}),null,null,null,r.a)})},le=f.a.createElement,ue=Object(p.memo)((function(e){var t=Object(v.useDispatch)(),n=Object(p.useContext)(X.a),o=Object(z.e)(n),a={user:Object(R.a)((function(e){return e.auth&&e.auth.user?e.auth.user:null})),limitSearchUser:Object(R.a)((function(e){var t,n;return(null===e||void 0===e?void 0:null===(t=e.setting)||void 0===t?void 0:null===(n=t.MENTION)||void 0===n?void 0:n.comment)||10}))},r=e.emoji,c=e.handleChangeValueComment,s=e.disabled,l=e.placeholder,u=e.resetFormComment,m=e.replyUser,d=e.emojiCount,f=e.showEmojiPicker,h=Object(p.useRef)(),b=Object(p.useState)(null),g=b[0],x=b[1],y=Object(p.useState)(null),w=y[0],j=y[1],_=Object(p.useState)(""),k=_[0],O=_[1],C=Object(p.useState)(""),A=(C[0],C[1],Object(p.useState)(!1)),S=A[0],N=A[1],I=Object(p.useState)([]),M=I[0],T=I[1],U=Object(p.useState)({}),B=U[0],L=U[1],H=Object(p.useState)(!1),F=H[0],K=H[1],V=Object(p.useState)(!0),W=V[0],Q=V[1],G=Object(p.useCallback)((function(e,n){return t(se.searchMentionUser(e,n))}),[t]),J=Object(p.useCallback)((function(){return t(Object(D.a)())}),[t]),Y=Object(E.b)((function(e){return ie(e)}),500),q=Object(i.a)(Y,1)[0],Z=function(e){e&&O(e)};Object(p.useEffect)((function(){r&&he({data:r,type:"emoji"})}),[d]),Object(p.useEffect)((function(){!g&&f&&(document.getElementById(e.id).focus(),pe())}),[f]),Object(p.useEffect)((function(){return document.addEventListener("click",$,!1),function(){document.removeEventListener("click",$,!1)}}),[]),Object(p.useEffect)((function(){var t;m&&((null===m||void 0===m?void 0:m.username)!==(null===a||void 0===a?void 0:null===(t=a.user)||void 0===t?void 0:t.username)&&(document.getElementById(e.id).focus(),pe(),Z(m.username)))}),[m]);var $=function(t){document.getElementById("".concat(e.id,"-dropdown-mention"))&&h.current&&!h.current.contains(t.target)&&(N(!1),L({}))},ee=function(e){var t,n,o,i,a,r=null===g||void 0===g?void 0:null===(t=g.endContainer)||void 0===t?void 0:t.textContent;if(e)return{string:e,positionStart:0,positionEnd:e.length};if(!r||"user-mention-highlight"===(null===g||void 0===g?void 0:null===(n=g.endContainer)||void 0===n?void 0:null===(o=n.parentNode)||void 0===o?void 0:o.className)||(null===g||void 0===g?void 0:null===(i=g.endContainer)||void 0===i?void 0:i.firstElementChild))return{string:"",positionStart:0,positionEnd:0};for(var c=g.endOffset,s=0,l=0,u="",m=c-1;m>=0;m--){if(" "===r.charAt(m)){s=c;break}if("@"===r.charAt(m)){u="@"+u,s=m;break}u=r.charAt(m)+u}for(var d=c;d<r.length;d++){if(" "===r.charAt(d)||"@"===r.charAt(d)){l=d;break}if(" "===r.charAt(d))break;u+=r.charAt(d)}return l<=s&&(l=r.length),{string:null===(a=u)||void 0===a?void 0:a.trim(),positionStart:s,positionEnd:l}},te=function(e){var t=e.top,n=e.left,i=e.bottom;e.position&&L(o?{left:"50%",transform:"translateX(-50%)"}:{top:t?t+"px":null,left:n+"px",bottom:i?i+"px":null})},oe=function(){var t,n=(null===(t=document.getElementById(e.id))||void 0===t?void 0:t.getBoundingClientRect())||null;if(n){var o=de(),i=function(e){if(e)return{visibleTop:e.top>=0&&e.top>345,visibleBottom:e.bottom<=(window.innerHeight||document.documentElement.clientHeight)-285}}(n),a=i.visibleTop,r=i.visibleBottom,c=o.x-n.x,s=o.y-n.y+21,l="";r?te({top:s,left:c,position:o}):a&&(s=null,l=n.bottom-o.y,te({top:s,left:c,bottom:l,position:o}))}};Object(p.useEffect)((function(){return S&&document.addEventListener("scroll",oe),function(){document.removeEventListener("scroll",oe)}}),[S]);var ie=function(){var e=ee().string;if(0!==(null===e||void 0===e?void 0:e.length)){var t=e.split("@").length-1;if(e.indexOf(" ")>=0||t>1)return ce(),"";"@"===e.charAt(0)&&e.length>2?(N(!0),oe(),fe(e)):ce()}else ce()},ae=function(){c(g.endContainer.parentNode.offsetParent.innerText)},re=function(e){if(g){var t=ee(e||""),n=t.positionStart,o=t.positionEnd,i=document.createElement("span");i.setAttribute("class","text-bold"),g.setStart(null===g||void 0===g?void 0:g.endContainer,n),g.setEnd(null===g||void 0===g?void 0:g.endContainer,o),g.surroundContents(i),null===g||void 0===g||g.deleteContents();var a=document.createElement("div");a.innerHTML=function(e){if(e)return'<a href="'.concat(P.Oc.PROFILE,"/").concat(e,'" class="user-mention-highlight" contenteditable="false" data-resource="webtretho">@').concat(e,"</a> ")}(k);for(var r,c,s=document.createDocumentFragment();r=a.firstChild;)c=s.appendChild(r);g.insertNode(s),g.setStartAfter(c),g.setEndAfter(c),w.removeAllRanges(),w.addRange(g),ae(),ce(),me()}},ce=function(){O(""),N(!1),T()};Object(p.useEffect)((function(){u&&ue()}),[u]);var ue=function(){g&&(g.selectNodeContents(document.getElementById(e.id)),null===g||void 0===g||g.deleteContents()),document.getElementById(e.id).innerHTML="",me()},me=function(){var t=document.getElementById(e.id);(null===t||void 0===t?void 0:t.hasChildNodes())?t.classList.remove("comment-editor-placeholder"):t.classList.add("comment-editor-placeholder")},de=function(){if(w){var e=0,t=0;if(w.rangeCount){var n=g.cloneRange();if(n.getClientRects()){n.collapse(!0);var o=n.getClientRects()[0];o&&(t=o.top,e=o.left)}}return{x:e,y:t}}},pe=function(){var e=window.getSelection().getRangeAt(0);x(e),j(window.getSelection()),q()},fe=function(t){if(!(t.length<3)){K(!0);var n={keyword:t.substring(1),highlight:!1,priorityOrderCommunityId:e.communityId,emailConfirmed:[!0],isSuspended:[!1],searchUserMention:!0},o=a.limitSearchUser;setTimeout((function(){G({where:n,limit:o,offset:0}).then((function(e){K(!1),e&&T(e)}))}),500)}};Object(p.useEffect)((function(){k&&re()}),[k]);var he=function(e){var t,n,o=e.data;e.type;if(g&&(null===(t=window)||void 0===t?void 0:t.getSelection)){null===g||void 0===g||g.deleteContents();var i=document.createElement("div");i.innerHTML=o;for(var a,r,c=document.createDocumentFragment();a=i.firstChild;)r=c.appendChild(a);g.insertNode(c),r&&((n=g.cloneRange()).setStartAfter(r),n.collapse(!0),x(n),ae(),w?(w.removeAllRanges(),w.addRange(n)):(window.getSelection().removeAllRanges(),window.getSelection().addRange(n)))}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(html)};return le("div",{className:"position-relative"},le("div",{disabled:s,onInput:function(e){a.user&&J().then((function(e){e?(pe(),ae()):Q(!1)}))},onBlur:function(){me()},onKeyUp:function(e){var t=40===e.which,n=38===e.which,o=13===e.which;S&&(t||n||o)?e.preventDefault():(pe(),q())},onKeyDown:function(e){var t=40===e.which,n=38===e.which,o=13===e.which;S&&(t||n||o)&&e.preventDefault()},onClick:function(e){pe()},onFocus:function(){J().then((function(t){t?document.getElementById(e.id).classList.remove("comment-editor-placeholder"):Q(!1)}))},onPaste:function(e){return function(e){var t;e.stopPropagation(),e.preventDefault(),t=(e.clipboardData||window.clipboardData).getData("Text"),window.document.execCommand("insertText",!1,t)}(e)},id:e.id||"",contentEditable:W,"data-placeholder":l||"Vi\u1ebft b\xecnh lu\u1eadn...",className:"".concat(e.className," input-comment-edit-able comment-editor-placeholder")||!1,ref:h}),S?le(ne,{id:"".concat(e.id,"-dropdown-mention"),styleDropdownMention:B,userSearchMention:M,userSelectMention:Z,loading:F}):null)})),me=[".input-group{position:relative;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;width:100%;}",".input-group .form-control{position:relative;-ms-flex:1 1 auto;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;width:1%;margin-bottom:0;}",".input-group .form-control:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0;}",".input-group .input-group-append{display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".input-group .input-group-append .btn{position:relative;z-index:2;border-top-left-radius:0;border-bottom-left-radius:0;}",".short-tip-comment.ant-tooltip{max-width:320px !important;z-index:4;}",".short-tip-comment .ant-tooltip-inner{color:#222 !important;background:#fff !important;border-radius:6px !important;border:1px solid #D8DEE3 !important;padding:12px 15px;}",".short-tip-comment .ant-tooltip-arrow:before{background:#fff !important;}",".input-comment{min-height:35px !important;cursor:text;-webkit-align-items:flex-end !important;-webkit-box-align:flex-end !important;-ms-flex-align:flex-end !important;align-items:flex-end !important;}",".input-comment textarea{font-family:inherit;cursor:text;}",".input-comment .form-control{resize:none;min-height:26px;font-size:14px;height:auto;background:white;border:1px solid #dae6f2;border-radius:17.5px;min-height:35px;}","@media (max-width:768px){.input-comment .form-control{font-size:16px;}}",".input-comment .form-control .am-textarea-control{padding-top:0 !important;padding-bottom:0 !important;}",".input-comment .form-control .am-textarea-control textarea{cursor:text;font-size:14px !important;}","@media (max-width:768px){.input-comment .form-control .am-textarea-control textarea{font-size:16px;}}",".input-comment .btn{min-height:33px;background:none;border:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;}",".input-comment .btn.btn-send{background-color:#003b70;border-radius:100px;width:33px;height:33px;color:#fff !important;margin-left:5px;cursor:pointer;-webkit-animation:bounceIn 0.5s 1 linear;-webkit-animation:bounceIn 0.5s 1 linear;animation:bounceIn 0.5s 1 linear;padding:2px 6px;}",".input-comment .btn.btn-send>svg{display:block;position:relative;left:2px;}",".input-comment .btn.btn-send:hover{opacity:0.9;}","@media screen and (max-width:768px){.input-comment .btn.btn-send{position:relative;bottom:2px;}}",".input-comment.input-comment-sm{height:30px !important;}",".input-comment.input-comment-sm .form-control{height:30px !important;}",".input-comment.input-comment-sm .btn{height:30px !important;}",".input-comment:hover div.ga-quick-create-post-box{border-color:#003b70 !important;}"];me.__hash="1928917466";var de=me,pe=n("S5sF"),fe=[".dropdown-mention{width:250px;position:absolute;background-color:#fff;border-radius:4px;overflow-y:hidden;display:block;z-index:3;height:auto;box-shadow:0 1px 2px #ccc;max-height:285px;overflow-y:auto;overflow-x:hidden;box-shadow:0 2px 12px 0 rgba(30,30,30,0.08);-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;}",".dropdown-mention i{background-color:#828282;}",".comment-editor-placeholder::before{content:attr(data-placeholder);left:15px;pointer-events:none;position:absolute;right:15px;}",".mention-item.activeMention{background:#2d9cff;color:#fff;}",".mention-item{padding:12px;border-bottom:1px solid #eee;cursor:pointer;-webkit-transition:all .2s ease;transition:all .2s ease;cursor:pointer;}",".mention-item.selected{background:#2d9cff;color:#fff;-webkit-transition:all .2s ease;transition:all .2s ease;}",".input-comment-edit-able{outline:none !important;-webkit-user-select:text !important;-moz-user-select:text !important;-ms-user-select:text !important;user-select:text !important;white-space:pre-wrap !important;overflow-wrap:break-word !important;word-break:break-word;}",".input-comment-edit-able .user-mention-highlight{color:#2D9CFF;pointer-events:none;cursor:default;}",".cke_autocomplete_panel{width:250px !important;z-index:1 !important;-webkit-transition:all 0.2s ease !important;transition:all 0.2s ease !important;max-height:285px !important;}",".cke_autocomplete_panel li{padding:12px !important;border-bottom:1px solid #eee !important;}",".cke_autocomplete_panel>li:hover{background-color:#2d9cff !important;}",".cke_autocomplete_panel>li:hover strong{color:#fff !important;}",".cke_autocomplete_selected{background-color:#2d9cff !important;}",".cke_autocomplete_selected strong{color:#fff !important;}",".user-mention-highlight{color:#2d9cff !important;-webkit-text-decoration:none !important;text-decoration:none !important;pointer-events:auto;cursor:pointer;}"];fe.__hash="1364394474";var he=fe,be=[".emoji-mart{box-sizing:border-box;line-height:1.15;font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,sans-serif;font-size:16px;display:inline-block;color:#222427;border:1px solid #d9d9d9;border-radius:5px;background:#fff;}",".emoji-mart *{box-sizing:border-box;line-height:1.15;}",".emoji-mart .emoji-mart-emoji{padding:6px;}",".emoji-mart-bar{border:0 solid #d9d9d9;}",".emoji-mart-bar:first-child{border-bottom-width:1px;border-top-left-radius:5px;border-top-right-radius:5px;}",".emoji-mart-bar:last-child{border-top-width:1px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;}",".emoji-mart-anchors{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:0 6px;line-height:0;}",".emoji-mart-anchors i{display:inline-block;width:100%;max-width:22px;}",".emoji-mart-anchors img{fill:currentColor;height:18px;width:18px;}",".emoji-mart-anchors svg{fill:currentColor;height:18px;width:18px;}",".emoji-mart-anchor{position:relative;display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;color:#858585;text-align:center;padding:12px 4px;overflow:hidden;-webkit-transition:color .1s ease-out;transition:color .1s ease-out;margin:0;box-shadow:none;background:none;border:none;}",".emoji-mart-anchor:focus{outline:0;color:#464646;}",".emoji-mart-anchor:hover{color:#464646;}",".emoji-mart-anchor-selected{color:#464646;}",".emoji-mart-anchor-selected .emoji-mart-anchor-bar{bottom:0;}",".emoji-mart-anchor-bar{position:absolute;bottom:-3px;left:0;width:100%;height:3px;background-color:#464646;}",".emoji-mart-scroll{overflow-y:scroll;overflow-x:hidden;height:270px;padding:0 6px 6px;will-change:transform;}",".emoji-mart-search{margin-top:6px;padding:0 6px;position:relative;}",".emoji-mart-search input{font-size:16px;display:block;width:100%;padding:5px 25px 6px 10px;border-radius:5px;border:1px solid #d9d9d9;outline:0;-webkit-appearance:none;}",".emoji-mart-search input::-webkit-search-cancel-button{-webkit-appearance:none;}",".emoji-mart-search input::-webkit-search-decoration{-webkit-appearance:none;}",".emoji-mart-search input::-webkit-search-results-button{-webkit-appearance:none;}",".emoji-mart-search input::-webkit-search-results-decoration{-webkit-appearance:none;}",".emoji-mart-search-icon{position:absolute;top:7px;right:11px;z-index:2;padding:2px 5px 1px;border:none;background:none;}",".emoji-mart-category .emoji-mart-emoji span{z-index:1;position:relative;text-align:center;cursor:default;}",'.emoji-mart-category .emoji-mart-emoji:hover:before{z-index:0;content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#f4f4f4;border-radius:100%;}',".emoji-mart-category-label{z-index:2;position:relative;position:-webkit-sticky;position:-webkit-sticky;position:sticky;top:0;}",".emoji-mart-category-label span{display:block;width:100%;font-weight:500;padding:5px 6px;background-color:#fff;background-color:rgba(255,255,255,0.95);}",".emoji-mart-category-list{margin:0;padding:0;}",".emoji-mart-category-list li{list-style:none;margin:0;padding:0;display:inline-block;}",".emoji-mart-emoji{position:relative;display:inline-block;font-size:0;margin:0;padding:0;border:none;background:none;box-shadow:none;}",".emoji-mart-emoji-native{font-family:Segoe UI Emoji,Segoe UI Symbol,Segoe UI,Apple Color Emoji,Twemoji Mozilla,Noto Color Emoji,Android Emoji;}",".emoji-mart-no-results{font-size:14px;text-align:center;padding-top:70px;color:#858585;}",".emoji-mart-no-results .emoji-mart-category-label{display:none;}",".emoji-mart-no-results .emoji-mart-no-results-label{margin-top:.2em;}",".emoji-mart-no-results .emoji-mart-emoji:hover:before{content:none;}",".emoji-mart-no-results-img{display:block;margin-left:auto;margin-right:auto;width:50%;}",".emoji-mart-preview{position:relative;height:70px;}",".emoji-mart-preview-data{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:68px;right:12px;word-break:break-all;}",".emoji-mart-preview-emoji{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:12px;}",".emoji-mart-preview-skins{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);right:30px;text-align:right;}",".emoji-mart-preview-skins.custom{right:10px;text-align:right;}",".emoji-mart-preview-name{font-size:14px;}",".emoji-mart-preview-shortname{font-size:12px;color:#888;}",".emoji-mart-preview-emoticon+.emoji-mart-preview-emoticon{margin-left:.5em;}",".emoji-mart-preview-shortname+.emoji-mart-preview-emoticon{margin-left:.5em;}",".emoji-mart-preview-shortname+.emoji-mart-preview-shortname{margin-left:.5em;}",".emoji-mart-preview-emoticon{font-size:11px;color:#bbb;}",".emoji-mart-title span{display:inline-block;vertical-align:middle;}",".emoji-mart-title .emoji-mart-emoji{padding:0;}",".emoji-mart-title-label{color:#999a9c;font-size:26px;font-weight:300;}",".emoji-mart-skin-swatches{font-size:0;padding:2px 0;border:1px solid #d9d9d9;border-radius:12px;background-color:#fff;}",".emoji-mart-skin-swatches.custom{font-size:0;border:none;background-color:#fff;}",".emoji-mart-skin-swatches.custom .emoji-mart-skin-swatch.custom:hover{background-color:#f4f4f4;border-radius:10%;}",".emoji-mart-skin-swatches.opened .emoji-mart-skin-swatch{width:16px;padding:0 2px;}",".emoji-mart-skin-swatches.opened .emoji-mart-skin-swatch.selected:after{opacity:.75;}",".emoji-mart-skin-swatch{display:inline-block;width:0;vertical-align:middle;-webkit-transition-property:width,padding;transition-property:width,padding;-webkit-transition-duration:.125s;transition-duration:.125s;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;}",".emoji-mart-skin-swatch:first-child{-webkit-transition-delay:0s;transition-delay:0s;}",".emoji-mart-skin-swatch:nth-child(2){-webkit-transition-delay:.03s;transition-delay:.03s;}",".emoji-mart-skin-swatch:nth-child(3){-webkit-transition-delay:.06s;transition-delay:.06s;}",".emoji-mart-skin-swatch:nth-child(4){-webkit-transition-delay:.09s;transition-delay:.09s;}",".emoji-mart-skin-swatch:nth-child(5){-webkit-transition-delay:.12s;transition-delay:.12s;}",".emoji-mart-skin-swatch:nth-child(6){-webkit-transition-delay:.15s;transition-delay:.15s;}",".emoji-mart-skin-swatch.selected{position:relative;width:16px;padding:0 2px;}",'.emoji-mart-skin-swatch.selected:after{content:"";position:absolute;top:50%;left:50%;width:4px;height:4px;margin:-2px 0 0 -2px;background-color:#fff;border-radius:100%;pointer-events:none;opacity:0;-webkit-transition:opacity .2s ease-out;transition:opacity .2s ease-out;}',".emoji-mart-skin-swatch.custom{display:inline-block;width:0;height:38px;overflow:hidden;vertical-align:middle;-webkit-transition-property:width,height;transition-property:width,height;-webkit-transition-duration:.125s;transition-duration:.125s;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;cursor:default;}",".emoji-mart-skin-swatch.custom.selected{position:relative;width:36px;height:38px;padding:0 2px 0 0;}",'.emoji-mart-skin-swatch.custom.selected:after{content:"";width:0;height:0;}',".emoji-mart-skin-swatches.custom.opened .emoji-mart-skin-swatch.custom{width:36px;height:38px;padding:0 2px 0 0;}",".emoji-mart-skin-swatches.custom.opened .emoji-mart-skin-swatch.custom.selected:after{opacity:.75;}",".emoji-mart-skin-text.opened{display:inline-block;vertical-align:middle;text-align:left;color:#888;font-size:11px;padding:5px 2px;width:95px;height:40px;border-radius:10%;background-color:#fff;}",".emoji-mart-skin{display:inline-block;width:100%;padding-top:100%;max-width:12px;border-radius:100%;}",".emoji-mart-skin-tone-1{background-color:#ffc93a;}",".emoji-mart-skin-tone-2{background-color:#fadcbc;}",".emoji-mart-skin-tone-3{background-color:#e0bb95;}",".emoji-mart-skin-tone-4{background-color:#bf8f68;}",".emoji-mart-skin-tone-5{background-color:#9b643d;}",".emoji-mart-skin-tone-6{background-color:#594539;}",".emoji-mart-sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0);border:0;}",".emoji-mart-dark{color:#fff;background-color:#222;border-color:#555453;}",".emoji-mart-dark .emoji-mart-bar{border-color:#555453;}",".emoji-mart-dark .emoji-mart-search input{color:#fff;border-color:#555453;background-color:#2f2f2f;}",".emoji-mart-dark .emoji-mart-search-icon svg{fill:#fff;}",".emoji-mart-dark .emoji-mart-category .emoji-mart-emoji:hover:before{background-color:#444;}",".emoji-mart-dark .emoji-mart-category-label span{background-color:#222;color:#fff;}",".emoji-mart-dark .emoji-mart-skin-swatches{border-color:#555453;background-color:#222;}",".emoji-mart-dark .emoji-mart-anchor-selected{color:#bfbfbf;}",".emoji-mart-dark .emoji-mart-anchor:focus{color:#bfbfbf;}",".emoji-mart-dark .emoji-mart-anchor:hover{color:#bfbfbf;}"];be.__hash="3309476139";var ve=be,ge=[".emoji-picker-mobile{margin-top:5px;}",".emoji-picker-mobile .emoji-mart{width:auto !important;border-radius:20px;border:1px solid #dae6f2;}",".emoji-picker-mobile .emoji-mart-category-list{text-align:center;}","@media all and (max-width:360px){.emoji-picker-mobile .emoji-mart{width:209px !important;overflow:hidden;}.emoji-picker-mobile .emoji-mart .emoji-mart-bar{height:45px;overflow:hidden;}.emoji-picker-mobile .emoji-mart .emoji-mart-anchors{width:100%;overflow-x:scroll;padding-bottom:20px;}.emoji-picker-mobile .emoji-mart .emoji-mart-anchor{-webkit-flex:0 0 40px;-ms-flex:0 0 40px;flex:0 0 40px;height:45px;}}",".emoji-picker-desktop{z-index:2;}"];ge.__hash="923843974";var xe,ye=ge,we=f.a.createElement,je=k()((function(){return n.e(95).then(n.t.bind(null,"fx8o",7))}),{ssr:!1,loadableGenerated:{webpack:function(){return["fx8o"]},modules:["emoji-mart/dist/components/picker/picker"]}}),_e=A.e.stringRequired.min(7,(function(e){var t=e.min;return P.Qc.validateError.minLengthContent(t)})).max(55e3,(function(e){var t=e.max;return P.Qc.validateError.maxLengthContent(t)})).test("comment-banned",null===(xe=P.Qc.validateError)||void 0===xe?void 0:xe.containBannedWord("b\xecnh lu\u1eadn"),(function(e){var t=this.parent&&this.parent.bannedWords||[];return!A.b.isContainBannedWord(t,e)})),ke=Object(g.d)({enableReinitialize:!0,validationSchema:x.object().shape({comment:_e}),mapPropsToValues:function(e){return{comment:"",bannedWords:e.bannedWords}},handleSubmit:function(e,t){var n=t.props,o=t.setFieldError,i=t.setFieldValue,a=t.setFieldTouched,r=t.resetForm;if(e){a("comment",!0);var c=Object(S.e)(e.comment);_e.isValidSync(c)?(n.handleSendComment(Object(S.e)(e.valueCommentHtml)),r()):(i("comment",c),o("comment",P.Qc.validateError.required))}}}),Oe=function(e){var t=e.unified;return!["263a-fe0f","2639-fe0f"].includes(t.toLowerCase())},Ce=function(e){return u()(e.added_in)<=5},Ee=function(e){var t=e.disabled,n=e.onClick,o=e.active;return we("button",{className:b()({"btn btn-outline-secondary bg-transparent px__5 cursor-pointer d-block":!0,"text-blue wtt-emoji-close-btn":o,"text-gray-v4 wtt-emoji-open-btn":!o}),disabled:t,onClick:n,hidden:!0},we(G.R,{className:"font-size__18 text-gray-v4"}))},Ae=function(e){var t=e.onSelect,n=e.visible,o=e.onVisibleChange,i=e.emojiButton;return we(F.a,{content:we(f.a.Fragment,null,we(je,{onSelect:t,title:"Ch\u1ecdn Emoji...",emojisToShowFilter:function(e){return Oe(e)&&Ce(e)},native:!0,useButton:!1,i18n:K}),we(d.a,{id:ve.__hash},ve)),trigger:"click",placement:"topLeft",visible:n,onVisibleChange:o,mouseEnterDelay:0,overlayClassName:"emoji-picker-desktop"},i)},Se=function(e){var t=e.onSelect;return we("div",{className:"jsx-".concat(ve.__hash," jsx-").concat(ye.__hash)+" emoji-picker-mobile"},we(je,{onSelect:t,showPreview:!1,showSkinTones:!1,native:!0,useButton:!1,emojisToShowFilter:function(e){return Oe(e)&&Ce(e)},i18n:K}),we(d.a,{id:ve.__hash},ve),we(d.a,{id:ye.__hash},ye))},Ne=Object(p.memo)((function(e){var t,n,o,i=Object(z.b)(),a=Object(p.useState)(""),c=(a[0],a[1],Object(p.useState)(!1)),l=c[0],u=c[1],m=Object(p.useState)(""),f=m[0],h=m[1],v=Object(p.useState)(0),g=v[0],x=v[1],y={user:Object(R.a)((function(e){return e.auth&&e.auth.user?e.auth.user:null})),isCreateSuccess:Object(R.a)((function(e){return e.comment&&e.comment.isCreateSuccess||!1})),sendingComment:Object(R.a)((function(e){return!!e.fetching&&e.fetching.sendingComment})),openSuggestMention:Object(R.a)((function(e){return!!e.userMention&&e.userMention.openSuggestMention}))},j=e.focusInput,_=(e.placeholder,e.addOn),k=e.customizeclass,C=e.values,E=e.setFieldValue,S=e.handleSubmit,M=e.errors,T=e.touched,U=(e.setFieldError,e.isLogin),D=e.rows,L=void 0===D?1:D,H=e.currentUser,F=void 0===H?null:H,K=e.resetInputComment,V=Object(p.useRef)(),Q=Object(p.useRef)(),X=Object(p.useState)(!1),J=X[0],Y=X[1],q=Object(p.useState)(!1),Z=q[0],$=q[1],ee=Object(p.useState)((null===e||void 0===e?void 0:e.idComment)||"".concat(Math.floor(1e7*Math.random()+1))),te=ee[0];ee[1],Object(O.b)().executeRecaptcha;Object(p.useEffect)((function(){e.resetForm()}),[e.bannedWords]),Object(p.useEffect)((function(){l&&setTimeout((function(){window.dispatchEvent(new Event("resize"))}),500)}),[l]),Object(p.useEffect)((function(){y.isCreateSuccess&&$(!0)}),[y.isCreateSuccess]),Object(p.useEffect)((function(){$(K)}),[K]),Object(p.useEffect)((function(){V.current&&(j||V.current.onBlur())}),[j]);Object(p.useCallback)((function(e){E("comment",e.target.value),getPositionCursor()}),[]);var ne=function(e){e.preventDefault(),window.dispatchEvent(new Event("resize")),u(!l)},oe=function(t){(null===e||void 0===e?void 0:e.createIdComment)&&(null===e||void 0===e||e.createIdComment());var n=t.native+" ";h(n),x(++g)},ie=J||y.sendingComment;return we(w.a,{direction:"column",className:"w-100 overflow-visible"},we("div",{className:"jsx-".concat(de.__hash," jsx-").concat(he.__hash," jsx-").concat(pe.a.__hash)+" "+(b()({"input-group":!0,["".concat(k)]:!!k,"flex-dir-column":L>1})||"")},we("div",{className:"jsx-".concat(de.__hash," jsx-").concat(he.__hash," jsx-").concat(pe.a.__hash)+" "+"position-relative ".concat(b()({"flex-auto":1===L,"w-100":L>1}))},we(ue,{id:te,className:"form-control brg__20 text-primary w-100 pr__45",emoji:f,emojiCount:g,handleChangeValueComment:function(e){$(!1),E("comment",e)},disabled:!U,resetFormComment:Z,replyUser:e.replyUser,communityId:e.community.id,showEmojiPicker:l}),we("div",{className:"jsx-".concat(de.__hash," jsx-").concat(he.__hash," jsx-").concat(pe.a.__hash)+" "+"comment-tools position-absolute ".concat(b()({"r__3 b__1":1===L,"r__10 b__10":L>1}))},i?we(Ee,{onClick:ne,disabled:!U||!(null===F||void 0===F?void 0:F.isActive),active:l}):we(Ae,{onVisibleChange:function(){u(!l)},visible:l,onSelect:oe,emojiButton:we(Ee,{onClick:ne,disabled:!U||!(null===F||void 0===F?void 0:F.isActive),active:l})}))),C.comment&&we(I.default,{disabled:ie,className:b()({"btn btn-outline-secondary text-blue btn-send":1===L,"btn-default btn-primary mt__8 btn-send":L>1}),handleClick:function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:Y(!0),t=document.getElementById(te).innerText,E("valueCommentHtml",t),u(!1),S(e),Y(!1);case 6:case"end":return n.stop()}}),null,null,null,r.a)},name:_,ref:Q})),function(e,t,n){return!(!e[n]||!t[n])&&C.comment}(M,T,"comment")?we("span",{className:"jsx-".concat(de.__hash," jsx-").concat(he.__hash," jsx-").concat(pe.a.__hash)+" d-block text-red font-size__12 mt__5 w-100"},M.comment):null,(null===B.Router||void 0===B.Router?void 0:null===(t=B.Router.router)||void 0===t?void 0:t.route)==="/".concat(P.Jc.POST_DETAIL)&&(null===e||void 0===e?void 0:null===(n=e.community)||void 0===n?void 0:n.allowReviewComment)?we("div",{className:"jsx-".concat(de.__hash," jsx-").concat(he.__hash," jsx-").concat(pe.a.__hash)+" font-size__12 line-height__20 w-100 mt__5 text-blue-v2 pl__12"},"B\xecnh lu\u1eadn s\u1ebd \u0111\u01b0\u1ee3c ki\u1ec3m duy\u1ec7t tr\u01b0\u1edbc khi \u0111\u0103ng",(null===e||void 0===e?void 0:e.isPermissionApprove)?null:we(W.a,{title:Object(N.f)(null===e||void 0===e?void 0:null===(o=e.community)||void 0===o?void 0:o.name,A.b.generatorUrlProfile(null===y||void 0===y?void 0:y.user,P.Oc.PROFILE_COMMENTS_WAITING_APPROVAL)),placement:"top",overlayClassName:"short-tip-comment"},we("span",{className:"jsx-".concat(de.__hash," jsx-").concat(he.__hash," jsx-").concat(pe.a.__hash)+" icon-tooltip"},we(G.L,{width:8,height:8,className:"text-gray-v6"})))):null,i&&l&&we(Se,{onSelect:oe}),we(d.a,{id:de.__hash},de),we(d.a,{id:he.__hash},he),we(d.a,{id:pe.a.__hash},pe.a))})),Pe=ke(Ne),Ie=Object(p.memo)((function(e){var t,n,a=e.postId,r=e.parentId,c=e.allowComment,s=e.community,l=e.actionCallback,u=Object(p.useState)(!0),m=u[0],d=u[1],f=Object(p.useState)(!1),h=f[0],b=f[1],g={user:Object(R.a)((function(e){return e.auth&&e.auth.user||null})),bannedWords:Object(R.a)((function(e){return e.bannedWord&&e.bannedWord.bannedWords||[]})),modalLogin:Object(R.a)((function(e){return!!e.modal&&e.modal.modalLogin}))};(null===g||void 0===g?void 0:g.user)&&(t=!(null===(n=Object(Q.f)(g.user,null===s||void 0===s?void 0:s.id))||void 0===n?void 0:n.isMember));var x=Object(v.useDispatch)(),y=Object(p.useCallback)((function(e,t,n){return x(M.a.createData(e,t,n))}),[x]),w=Object(p.useCallback)((function(e,t){return x(U.a.openModal(e,t))}),[x]),j=Object(p.useCallback)((function(){return x(L.a.stopFetchingCreateComment())}),[x]);Object(p.useEffect)((function(){j()}),[]),Object(p.useEffect)((function(){d(!g.modalLogin)}),[g.modalLogin]);var _=Object(E.b)((function(e){return C(e)}),350),k=Object(i.a)(_,1)[0],O=function(){var t,n;if((null===B.Router||void 0===B.Router?void 0:null===(t=B.Router.router)||void 0===t?void 0:t.route)!=="/".concat(P.Jc.POST_DETAIL))return b(!0),w("confirmModal",{message:Object(N.f)(null===e||void 0===e?void 0:null===(n=e.community)||void 0===n?void 0:n.name,A.b.generatorUrlProfile(null===g||void 0===g?void 0:g.user,P.Oc.PROFILE_COMMENTS_WAITING_APPROVAL)),title:"B\xecnh lu\u1eadn \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111i",hideIcon:!0,hiddenButton:!0})},C=function(t){if(b(!1),g.user)if(c){var n=T.a.createComment(r,g.user.id,t,a);y(n,s,O),l&&l()}else d(!1),w("confirmModal",{message:"Xin l\u1ed7i! B\xe0i vi\u1ebft kh\xf4ng cho comment",hiddenButton:!0});else d(!1),Object(D.k)(e.router),B.Router.pushRoute(P.Oc.LOGIN)};return we(Pe,Object(o.a)({},e,{isLogin:!!g.user,focusInput:m,bannedWords:g.bannedWords,handleSendComment:k,currentUser:null===g||void 0===g?void 0:g.user,isPermissionApprove:t,resetInputComment:h}))}));Ne.defaultProps={focusInput:!1,placeholder:"",customizeclass:""};t.a=Object(j.withRouter)(Object(C.a)(Ie))},"1qWt":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return j}));var o=n("q1tI"),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r,c=function(){return(c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{s(o.next(e))}catch(t){a(t)}}function c(e){try{s(o.throw(e))}catch(t){a(t)}}function s(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(r,c)}s((o=o.apply(e,t||[])).next())}))}function l(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(c){a=[6,c],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}!function(e){e.SCRIPT_NOT_AVAILABLE="Google recaptcha is not available"}(r||(r={}));var u=Object(o.createContext)({}),m=u.Consumer,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scriptId="google-recaptcha-v3",t.googleRecaptchaSrc="https://www.google.com/recaptcha/api.js",t.resolver=void 0,t.rejecter=void 0,t.grecaptcha=new Promise((function(e,n){t.resolver=e,t.rejecter=n})),t.executeRecaptcha=function(e){return s(t,void 0,void 0,(function(){var t;return l(this,(function(n){return t=this.props.reCaptchaKey,[2,this.grecaptcha.then((function(n){return n.execute(t,{action:e})}))]}))}))},t.handleOnLoad=function(){window&&window.grecaptcha?window.grecaptcha.ready((function(){t.resolver(window.grecaptcha)})):console.warn(r.SCRIPT_NOT_AVAILABLE)},t.injectGoogleReCaptchaScript=function(){if(document.getElementById(t.scriptId))t.handleOnLoad();else{var e=t.props,n=e.reCaptchaKey,o=e.language,i=document.getElementsByTagName("head")[0],a=document.createElement("script");a.id=t.scriptId,a.src=t.googleRecaptchaSrc+"?render="+n+(o?"&hl="+o:""),a.onload=t.handleOnLoad,i.appendChild(a)}},t}return a(t,e),t.prototype.componentDidMount=function(){this.props.reCaptchaKey&&this.injectGoogleReCaptchaScript()},t.prototype.componentDidUpdate=function(e){!e.reCaptchaKey&&this.props.reCaptchaKey&&this.injectGoogleReCaptchaScript()},Object.defineProperty(t.prototype,"googleReCaptchaContextValue",{get:function(){return{executeRecaptcha:this.executeRecaptcha}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.children;return Object(o.createElement)(u.Provider,{value:this.googleReCaptchaContextValue},e)},t}(o.Component),p={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},f={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},h=Object.defineProperty,b=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,x=Object.getPrototypeOf,y=x&&x(Object);var w=function e(t,n,o){if("string"!==typeof n){if(y){var i=x(n);i&&i!==y&&e(t,i,o)}var a=b(n);v&&(a=a.concat(v(n)));for(var r=0;r<a.length;++r){var c=a[r];if(!p[c]&&!f[c]&&(!o||!o[c])){var s=g(n,c);try{h(t,c,s)}catch(l){}}}return t}return t},j=(function(e){var t=function(t){return Object(o.createElement)(m,null,(function(n){return Object(o.createElement)(e,c({},t,{googleReCaptchaProps:n}))}))};t.displayName="withGoogleReCaptcha("+(e.displayName||e.name||"Component")+")",w(t,e)}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentDidMount=function(){return s(this,void 0,void 0,(function(){var e,t,n,o,i,a;return l(this,(function(r){switch(r.label){case 0:return e=this.injectedProps,t=e.googleReCaptchaProps,n=e.action,o=e.onVerify,(i=t.executeRecaptcha)?[4,i(n)]:[2];case 1:return a=r.sent(),o?(o(a),[2]):[2]}}))}))},Object.defineProperty(t.prototype,"injectedProps",{get:function(){return this.props},enumerable:!0,configurable:!0}),t.prototype.render=function(){return null},t}(o.Component)),function(){return Object(o.useContext)(u)})},"9Vkn":function(e,t,n){"use strict";var o=[".post-item{border-radius:0;padding:15px 0 !important;}",".post-item.post-detail-item{padding:0 !important;}",".post-item.post-detail-item .aw-bcp{position:relative;background:#f3f6f9;padding:0 12px;}",".post-item.post-detail-item .am-whitespace{position:relative;background:#f3f6f9;padding:0 12px;background:#fff;}",".post-item.post-detail-item .box-comment-post{position:relative;background:#f3f6f9;padding:0 12px;background:#f3f6f9;}",".post-item:not(.am-card-full)::before{border-radius:20px !important;border:0 !important;}",".post-item .am-card-header{min-height:32px !important;padding:0 10px;}",".post-item .am-card-header .am-card-header-content img{margin-right:0;}",".post-item .am-card-header .btn-default{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-flex-basis:90px;-ms-flex-preferred-size:90px;flex-basis:90px;width:90px;}",".post-item .am-card-header .btn-default.btn-icon{-webkit-flex-basis:36px;-ms-flex-preferred-size:36px;flex-basis:36px;}",".post-item .am-card-body img{text-align:center;display:block;margin-left:auto;margin-right:auto;max-width:100%;}",".post-item .am-card-body::before{background-color:transparent !important;}",".post-item .post-thumbnail iframe{margin:0 auto;display:block;width:100%;}",".post-item .post-thumbnail .post-video{position:relative;display:block;}",".post-item .post-thumbnail .post-video:before{content:'';position:absolute;width:100%;height:100%;background:linear-gradient(0deg,rgba(0,0,0,0.0883687),rgba(0,0,0,0.0883687));}",".post-item .post-thumbnail .post-video:after{content:'';position:absolute;width:32px;height:40px;background:url(\"https://www.webtretho.com/static/img/icon-video.png\") no-repeat;background-size:contain;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);}",".post-item .post-iframe{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;}",".post-item .post-iframe iframe{position:absolute;top:0;left:0;width:100%;height:100%;}",".post-item .post-thumbnail::after{content:'';clear:both;display:table;}",".post-item .post-view{padding:10px 15px;border-top:1px solid #eee;border-bottom:1px solid #eee;position:relative;z-index:2;background:#fff;}",".post-item .post-view .btn-liked{-webkit-animation:bounceIn 0.75s 1 linear;-webkit-animation:bounceIn 0.75s 1 linear;animation:bounceIn 0.75s 1 linear;}",".post-item.post-detail-item:before{border:0 !important;}",".post-item.post-detail-item .am-card-body::before{border:0 !important;}",".post-item.post-search{border:1px solid #ddd !important;}"];o.__hash="868481888",t.a=o},LWeC:function(e,t,n){"use strict";var o=n("q1tI"),i=n("mMPx"),a=n("Z29Q");t.a=function(e,t){void 0===e&&(e=1/0),void 0===t&&(t=1/0);var n=Object(i.a)({width:a.a?window.innerWidth:e,height:a.a?window.innerHeight:t}),r=n[0],c=n[1];return Object(o.useEffect)((function(){if(a.a){var e=function(){c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[]),r}},MM9K:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n("q1tI")),i=d(n("17x9")),a=u(n("TSYQ")),r=u(n("BGR+")),c=u(n("sEfC")),s=n("vgIT"),l=n("KEtS");function u(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!==typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},w=(0,l.tuple)("small","default","large"),j=null;var _=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=v(this,g(t).call(this,e))).debouncifyUpdateSpinning=function(e){var t=(e||n.props).delay;t&&(n.cancelExistingSpin(),n.updateSpinning=(0,c.default)(n.originalUpdateSpinning,t))},n.updateSpinning=function(){var e=n.props.spinning;n.state.spinning!==e&&n.setState({spinning:e})},n.renderSpin=function(e){var t,i=e.getPrefixCls,c=n.props,s=c.prefixCls,l=c.className,u=c.size,m=c.tip,d=c.wrapperClassName,p=c.style,b=y(c,["prefixCls","className","size","tip","wrapperClassName","style"]),v=n.state.spinning,g=i("spin",s),x=(0,a.default)(g,(h(t={},"".concat(g,"-sm"),"small"===u),h(t,"".concat(g,"-lg"),"large"===u),h(t,"".concat(g,"-spinning"),v),h(t,"".concat(g,"-show-text"),!!m),t),l),w=(0,r.default)(b,["spinning","delay","indicator"]),_=o.createElement("div",f({},w,{style:p,className:x}),function(e,t){var n=t.indicator,i="".concat(e,"-dot");return null===n?null:o.isValidElement(n)?o.cloneElement(n,{className:(0,a.default)(n.props.className,i)}):o.isValidElement(j)?o.cloneElement(j,{className:(0,a.default)(j.props.className,i)}):o.createElement("span",{className:(0,a.default)(i,"".concat(e,"-dot-spin"))},o.createElement("i",{className:"".concat(e,"-dot-item")}),o.createElement("i",{className:"".concat(e,"-dot-item")}),o.createElement("i",{className:"".concat(e,"-dot-item")}),o.createElement("i",{className:"".concat(e,"-dot-item")}))}(g,n.props),m?o.createElement("div",{className:"".concat(g,"-text")},m):null);if(n.isNestedPattern()){var k=(0,a.default)("".concat(g,"-container"),h({},"".concat(g,"-blur"),v));return o.createElement("div",f({},w,{className:(0,a.default)("".concat(g,"-nested-loading"),d)}),v&&o.createElement("div",{key:"loading"},_),o.createElement("div",{className:k,key:"container"},n.props.children))}return _};var i=e.spinning,s=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(i,e.delay);return n.state={spinning:i&&!s},n.originalUpdateSpinning=n.updateSpinning,n.debouncifyUpdateSpinning(e),n}var n,i,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,l=[{key:"setDefaultIndicator",value:function(e){j=e}}],(i=[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||!this.props.children)}},{key:"render",value:function(){return o.createElement(s.ConfigConsumer,null,this.renderSpin)}}])&&b(n.prototype,i),l&&b(n,l),t}(o.Component);_.defaultProps={spinning:!0,size:"default",wrapperClassName:""},_.propTypes={prefixCls:i.string,className:i.string,spinning:i.bool,size:i.oneOf(w),wrapperClassName:i.string,indicator:i.element};var k=_;t.default=k},S5sF:function(e,t,n){"use strict";var o=[".input-comment{-webkit-flex-wrap:unset;-ms-flex-wrap:unset;flex-wrap:unset;}",".input-comment textarea{-webkit-appearance:none;}",".input-comment .comment-tools{z-index:1;}","@media screen and (max-width:768px){.input-comment .comment-tools{bottom:3px;}}",".input-comment .flex-auto{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}",".input-comment .top-0{top:0;}",".list-children-comment .comment-reply-input{margin-left:-35px;}",".comment-search .ant-menu-item-selected{color:#222;font-weight:500;border-bottom-width:1px;}",".comment-search .ant-menu-item:hover{color:#222;border-bottom-color:#222;}",".comment-loader{margin-left:50%;}",".comment-loader i{background-color:#828282;}",".comment-page-input .ant-input-number{width:3em;}",".comment-page-input .ant-input-number-focused{box-shadow:none;}",".comment-page-input .ant-input-number:hover{border-color:transparent;border-right-width:0px !important;}",".comment-page-input .ant-input-number-handler-wrap{display:none;}",".comment-list .comment-view-more svg{vertical-align:sub;}"];o.__hash="2273644765",t.a=o},TzbF:function(e,t,n){"use strict";n.r(t);var o=n("MX0m"),i=n.n(o),a=n("q1tI"),r=n.n(a),c=n("/MKj"),s=n("LWeC"),l=n("nOHt"),u=n.n(l),m=n("JMAg"),d=n.n(m),p=n("5+3d"),f=n.n(p),h=n("4IZf"),b=n.n(h),v=n("a6RD"),g=n.n(v),x=n("TSYQ"),y=n.n(x),w=n("8cHP"),j=n("41uw"),_=n("nJJw"),k=n("Tunb"),O=n("kKES"),C=n("v0uu"),E=n("hpSX"),A=n("algg"),S=n("RysE"),N=r.a.createElement,P=function(e){var t=e.isLabelAdvertising,n=e.isSponsored,o=e.isMobile;switch(!0){case n:return o?"T\xe0i tr\u1ee3":N("span",{className:"ml__10 brg__2 bg-gray-v1 line-height__12 font-size__10 text-silver-v1 px__10 py__4"},"T\xe0i tr\u1ee3");case t:return o?"\u0110\u1ed3ng h\xe0nh":N("span",{className:"ml__10 brg__2 bg-gray-v1 line-height__12 font-size__10 text-silver-v1 px__10 py__4"},"\u0110\u1ed3ng h\xe0nh");default:return null}},I=function(e){var t=e.isMobile,n=e.data,o=e.isSponsored,i=e.community,a=e.colorCssButton,r=e.buttonIcon,c=e.buttonIconActive,s=e.showAuthor,l=e.showCommunity,u=e.hiddenButton,m=e.isGetCommunityUsers,d=e.handleAfterJoined,p=e.handleAfterUnJoined;return n&&N(b.a,{className:"w-100",align:"center"},s?function(e,t){var n=Object(A.i)(e?e.author:null),o=n.username,i=n.avatarUrl;return e&&e.author?N("div",{className:"mr__auto"},N(b.a,null,N(j.default,{src:i,username:o,customizeclass:"mr__10",wrapperClass:"mr__auto",typeAvatarProfile:!0,size:C.Ec.imageSizeEnum.AVATAR_35,url:O.b.generatorUrlProfile(e.author)}),N("div",{className:"avatar-info"},N(w.Link,{route:O.b.generatorUrlProfile(e.author)},N("a",{className:"font-size__12 text-bold text-primary line-height__12"},e.author.username||"",N(P,{isLabelAdvertising:e.isLabelAdvertising,isSponsored:t}))),N("div",{className:"font-size__12 text-gray-v4"},O.b.formatRelativeTime(e.publishedAt))))):null}(n,o):null,l&&i?function(n,o,i){return n&&o?N("div",{className:"mr__auto"},N(b.a,{align:"center"},N("div",{className:"list-view-item mr__7 pt__0 pb__0 border-0"},N(j.default,{size:t?C.Ec.imageSizeEnum.AVATAR_32:C.Ec.imageSizeEnum.AVATAR_48,src:n.avatarUrl||null,url:O.b.generatorUrlCommunityDetail(n.slug),customizeclass:"brg__6 mr__0",avatarSquare:!0})),N("div",null,N("div",{className:y()("post-item__header-community",{"line-height__14 font-size__12 mb__2":t,"line-height__17 font-size__14":!t})},N(k.a,{href:O.b.generatorUrlCommunityDetail(n.slug),className:"text-main-v1 text-gray-dark-v1 text-bold post-item__header-thumbnail"},Object(E.f)(n.name),n.isOfficial&&N(S.I,{height:13,width:13,className:"d-inline-flex ml__5 mr__5 mt__1"})),!e.isMobile&&N(P,{isLabelAdvertising:o.isLabelAdvertising,isSponsored:i})),N("div",{className:"font-size__12 text-gray-v4 post-item__header-author line-height__14"},o.author?N(w.Link,{route:O.b.generatorUrlProfileByUserName(o.author.username)},N("a",{rel:"nofollow",className:"font-size__12 text-gray-v4 post-item__header-author"},e.isMobile?null:"\u0110\u0103ng b\u1edfi ",N("span",{className:y()("post-item__header-author-name",{"text-bold":!t})},o.author.username))):null,o.author?N("span",{className:"mx__5"},"\xb7"):null,e.isMobile&&(i||o.isLabelAdvertising)?N(P,{isMobile:e.isMobile,isLabelAdvertising:o.isLabelAdvertising,isSponsored:i}):O.b.formatRelativeTime(o.publishedAt))))):null}(i,n,o):null,u?null:N(_.a,{data:i||null,buttonIcon:r,buttonIconActive:c,customizeclass:"btn-join-community btn-default ".concat(a||""),isGetCommunityUsers:m,handleAfterJoined:d,handleAfterUnJoined:p}))};I.defaultProps={colorCssButton:"",buttonIcon:!1,buttonIconActive:!1,showAuthor:!1,showCommunity:!0,hiddenButton:!1,isGetCommunityUsers:!1,isSponsored:!1,isMobile:!1};var R=I,M=n("pGd6"),T=n("+Xjy"),U=n("65Qd"),D=n("dUxu"),B=n("LnZY"),L=n("OZ8X"),z=n("AmiK"),H=n("9E9K"),F=n("9Vkn"),K=r.a.createElement,V=g()((function(){return n.e(97).then(n.bind(null,"Dibl"))}),{loadableGenerated:{webpack:function(){return["Dibl"]},modules:["../GeneralComponents/Comment/Comment"]}}),W=function(e){var t=e.data,n=e.children,o=e.customClass;return K("a",{rel:"nofollow",target:"_blank","data-resource":"webtretho",href:t.link,className:y()(o)},n)},Q=function(e){var t=e.data,n=e.community,o=e.children,i=e.customClass;return K(k.a,{href:O.b.generatorUrlPostByCommunityAndPost(n,t),className:y()(i)},o)},G=function(e){var t=e.isMobile,n=e.title,o=e.router,i=e.index;return K(z.default,{route:o,tag:0!==i?"h2":"h1",className:y()("text-wrap text-bold line-height__24 text-primary mt__15 mb__10 post-item__content-title",{"font-size__20":!t,"font-size__18":t}),typeHeading:"community-post-title"},Object(E.f)(n))},X=function(e){var t=e.contentPost,n=e.forceShowViewMore,o=e.colorText,i=e.isFullContent;return K("div",null,Object(E.q)(t,i?0:C.ob,n?"":'<span class="d-block text-bold-500 mt__10" style="color:#'.concat(o,'">Xem th\xeam</span>')),!i&&n?K("span",{className:"d-block text-bold-500 mt__10",style:{color:"#".concat(o)}},"Xem th\xeam"):null)},J=Object(a.memo)((function(e){var t,n,o=e.data,r=e.community,l=e.isSponsored,m=e.isFullContent,p=Object(c.useDispatch)(),h=Object(a.useContext)(U.a),v=Object(L.e)(h),g=O.b.getTextColorByContext(h),x={user:Object(D.a)((function(e){var t;return(null===e||void 0===e?void 0:null===(t=e.auth)||void 0===t?void 0:t.user)||null})),bannedWords:Object(D.a)((function(e){var t;return(null===e||void 0===e?void 0:null===(t=e.bannedWord)||void 0===t?void 0:t.bannedWords)||[]})),listPostData:Object(D.a)((function(e){var t;return(null===e||void 0===e?void 0:null===(t=e.postsData)||void 0===t?void 0:t.postsData)||[]}))},w=Object(a.useCallback)((function(){return p(Object(H.a)())}),[p]),_=Object(B.getContentPost)(e.data),k=Object(s.a)().width,E=Object(a.useState)(v?k:C.fb)[0],N=Object(B.getPostData)(x.listPostData,e.data),P=N&&N.lastComment?N.lastComment:e.data&&e.data.lastComment?e.data.lastComment:null,I=Object(A.i)(x.user),z=I.username,J=I.avatarUrl,Y=!(!o.isInternal||!o.shortDescription),q=!(!l||(null===o||void 0===o?void 0:o.linkType)!==C.Ec.linkType.External);return o?K(f.a,{className:y()("post-item",e.cssClass,{"post-item-not-header":e.hiddenHeader})},e.hiddenHeader?null:K(f.a.Header,{className:"post-item__header",title:K(R,{isMobile:v,data:o,isSponsored:e.isSponsored,community:e.community,showCommunity:e.showCommunityHeader,showAuthor:e.showAuthorHeader,isGetCommunityUsers:e.isGetCommunityUsers,hiddenButton:e.hiddenButton,handleAfterJoined:e.handleAfterJoined||null,handleAfterUnJoined:e.handleAfterUnJoined||null,buttonIconActive:v})}),K(f.a.Body,{className:y()("py__0 px__0 post-item__content",e.cssClassBody)},o?K(a.Fragment,null,K(d.a,null,q?K(W,{data:o},K(G,{isMobile:v,title:o.title,router:null===u.a||void 0===u.a?void 0:null===(t=u.a.router)||void 0===t?void 0:t.route,index:null===e||void 0===e?void 0:e.index})):K(Q,{data:o,community:r},K(G,{isMobile:v,title:o.title,router:null===u.a||void 0===u.a?void 0:null===(n=u.a.router)||void 0===n?void 0:n.route,index:null===e||void 0===e?void 0:e.index})),K("div",{className:"jsx-".concat(F.a.__hash)+" "+(y()("summary text-primary post-item__content-description",{"font-size__14":!v,"font-size__16":v})||"")},q?K(W,{data:o,customClass:"text-primary"},K(X,{colorText:g,contentPost:_,forceShowViewMore:Y,isFullContent:m})):K(Q,{data:o,community:r,customClass:"text-primary"},K(X,{colorText:g,contentPost:_,forceShowViewMore:Y,isFullContent:m})))),K("div",{className:"jsx-".concat(F.a.__hash)+" mb__10"}),K("div",{className:"jsx-".concat(F.a.__hash)+" post-attribute"},Object(B.getAttributePost)(o,e.community,v,E)),q?null:K("div",{className:"jsx-".concat(F.a.__hash)+" post-view"},K(M.default,{handleComment:function(){return u.a.push("".concat(O.b.generatorUrlPostByCommunityAndPost(e.community,o),"#focus-comment"))},wrapperClass:"line-height__20 post-view__desktop",data:o,postData:N,isSponsored:null===e||void 0===e?void 0:e.isSponsored,community:e.community||null,isCheckPermission:e.isCheckPermission,handleReportModal:e.handleReportModal,handleAfterPinPost:e.handleAfterPinPost,handleAfterHiddenPost:e.handleAfterHiddenPost}))):null),q||e.isHiddenFooter||!o?null:K(f.a.Footer,{content:K("div",{className:"jsx-".concat(F.a.__hash)+" mt__10"},P?K(V,{data:P,customizeclass:"mb__10",viewPostDetail:!0,viewReply:Object(B.isAllowCommentByPostAndCommunity)(o,e.community),postUrl:"".concat(O.b.generatorUrlPostByCommunityAndPost(e.community,o)),sizeAvatar:C.Ec.imageSizeEnum.AVATAR_36,community:e.community}):null,Object(B.isAllowCommentByPostAndCommunity)(o,e.community,e.isHiddenInputComment)?K(b.a,{align:"start",className:"overflow-visible",onClick:w},K(j.default,{src:J,username:z,size:C.Ec.imageSizeEnum.AVATAR_36,customizeclass:"mr__10",typeAvatarProfile:!0}),K(T.a,{parentId:null,postId:e.data.id,allowComment:Object(B.isAllowCommentByPostAndCommunity)(e.data,e.community),community:e.community,placeholder:"Vi\u1ebft b\xecnh lu\u1eadn...",customizeclass:"input-comment",addOn:K(S.O,{className:"text-white"}),idComment:"".concat(Math.floor(1e7*Math.random()+1))})):null)}),K(i.a,{id:F.a.__hash},F.a)):null}));J.defaultProps={showCommunityHeader:!0,showAuthorHeader:!1,isHiddenFooter:!1,isHiddenThumbnail:!1,isCheckPermission:!1,isGetCommunityUsers:!1,isSponsored:!1,isHiddenInputComment:!1,isFullContent:!1};t.default=Object(l.withRouter)(J)},hWQR:function(e,t,n){"use strict";var o=n("q1tI"),i=n.n(o),a=n("/MKj"),r=n("aOJk"),c=n.n(r),s=n("nOHt"),l=n("Oy9n"),u=n("65Qd"),m=n("dUxu"),d=n("KQIb"),p=n("KA4F"),f=n("eVuF"),h=n.n(f),b=n("ln6h"),v=n.n(b),g=(n("FAhR"),n("u0k+")),x=n("4m1b"),y=n("5RYI"),w=n("0ZHj"),j=n("9E9K"),_={addModCommunity:(e,t)=>(function(n){var o,i;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o=x.a.userRoleQuery.create(e),a.next=4,v.a.awrap(y.b.post("",{query:"".concat(o),variables:null}));case 4:200!==(i=a.sent).status||i.data.errors?n(showErrorNotification({message:i.data.errors[0].message,title:"add mod"})):"logout"===i.data.status?n(w.a.logout()):(n(Object(j.e)(g.a.CREATE_USER_ROLE_SUCCESS,i.data.data&&i.data.data.addModCommunity||null)),t&&t()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n(showErrorNotification({message:a.t0.toString(),title:"add mod"}));case 11:case"end":return a.stop()}}),null,null,[[0,8]],h.a)}),removeUserRoleFromCommunity:(e,t)=>(function(n){var o,i;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o=x.a.userRoleQuery.delete(e),a.next=4,v.a.awrap(y.b.post("",{query:"".concat(o),variables:null}));case 4:200!==(i=a.sent).status||i.data.errors?n(showErrorNotification({message:i.data.errors[0].message,title:"remove role"})):"logout"===i.data.status?n(w.a.logout()):(n(Object(j.e)(g.a.DELETE_USER_ROLE_SUCCESS,i.data.data&&i.data.data.removeUserRoleFromCommunity||null)),t&&t()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n(showErrorNotification({message:a.t0.toString(),title:"remove role"}));case 11:case"end":return a.stop()}}),null,null,[[0,8]],h.a)})},k=n("L9Iq"),O=n("ynDS"),C=n("LpoC"),E=n("R5x4"),A=n("MB77"),S=n("v0uu"),N=n("kKES"),P=n("algg"),I=n("WIrD"),R=n("LnZY"),M=n("vcB1"),T=n("i2cS"),U=n("OZ8X"),D=n("8cHP"),B=n("P5Jw"),L=n("Kl5d"),z=n.n(L),H=n("RysE"),F=i.a.createElement,K=Object(o.memo)((function(e){var t,n=Object(a.useDispatch)(),i=Object(o.useContext)(u.a),r=Object(U.e)(i),s=Object(o.useState)(!1),l=s[0],f=s[1],h={auth:Object(m.a)((function(e){return(null===e||void 0===e?void 0:e.auth)||null})),user:Object(m.a)((function(e){var t;return(null===e||void 0===e?void 0:null===(t=e.auth)||void 0===t?void 0:t.user)||null})),post:Object(m.a)((function(e){var t;return(null===e||void 0===e?void 0:null===(t=e.post)||void 0===t?void 0:t.post)||null}))},b=Object(o.useCallback)((function(e,t,o){return n(w.a.checkMe(e,t,o))}),[n]),v=Object(o.useCallback)((function(e){return n(d.a.updatePostStatus(e))}),[n]),g=(Object(o.useCallback)((function(e,t){return n(d.a.deletePost(e,t))}),[n]),Object(o.useCallback)((function(e,t){return n(p.a.createData(e,t))}),[n])),x=Object(o.useCallback)((function(e,t){return n(p.a.deleteData(e,t))}),[n]),y=Object(o.useCallback)((function(e,t,o,i){return n(d.a.updateData(e,t,o,i))}),[n]),L=Object(o.useCallback)((function(e,t,o,i){return n(d.a.ignoreTrendingPost(e,t,o,i))}),[n]),K=Object(o.useCallback)((function(e,t){return n(_.addModCommunity(e,t))}),[n]),V=Object(o.useCallback)((function(e,t){return n(_.removeUserRoleFromCommunity(e,t))}),[n]),W=Object(o.useCallback)((function(e,t){return n(k.a.updateCommunityUser(e,t))}),[n]),Q=Object(o.useCallback)((function(e,t){return n(O.a.updateData(e,t))}),[n]),G=Object(o.useCallback)((function(e,t){return n(C.a.openModal(e,t))}),[n]),X=N.b.getColorByContext(i),J=function(t){if(t){var n=e.bookmark||null;if(n){var o=E.a.deleteBookmark(n.id);x(o,"Xo\xe1 l\u01b0u b\xe0i vi\u1ebft th\xe0nh c\xf4ng!")}}else{var i=E.a.createBookmark(h.user.id,e.postId,S.g.Post);g(i,"B\xe0i vi\u1ebft \u0111\xe3 \u0111\u01b0\u1ee3c l\u01b0u!")}},Y=function(){b(h.user?h.user.id:null,N.b.generatorUrlEditPost(e.data),S.Ec.ActionError.EditContent)},q=function(){Object(T.b)("X\xf3a b\xe0i vi\u1ebft","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y?",null,(function(){var t=E.a.deletePost(e.data.id);y(t,(function(){e.handleAfterDeletePost&&e.handleAfterDeletePost()}),S.Ec.ActionError.DeleteContent)}))},Z=function(){var t=e.handleAfterHiddenPost,n=E.a.initQueryUpdatePostStatus({postId:e.postId,isHidden:!0});v({queryClause:n,callback:function(){f(!1),t&&t()},action:S.Ec.ActionError.HideContent})},$=function(t){var n,o=null===e||void 0===e?void 0:null===(n=e.router)||void 0===n?void 0:n.asPath,i=E.a.initQueryIgnoreTrending({path:o,postId:e.postId,isIgnore:t});L(i,null,S.Ec.ActionError.IgnoreTrending,t?"Kh\xf4ng hi\u1ec7n b\xe0i vi\u1ebft tr\xean Th\u1ecbnh h\xe0nh!":"Cho hi\u1ec7n b\xe0i vi\u1ebft tr\xean Th\u1ecbnh h\xe0nh !")},ee=function(t){var n=e.handleAfterPinPost,o=E.a.initQueryUpdatePostStatus({postId:e.postId,isPin:t});v({queryClause:o,callback:function(){f(!1),n&&n()},action:t?S.Ec.ActionError.Pin:S.Ec.ActionError.UnPin})},te=function(){e.isPost&&G("modalShare",{url:"".concat("https://www.webtretho.com").concat(N.b.generatorUrlPostByCommunityAndPost(e.community,e.data)),isMobile:r})},ne=function(t){if(t){var n=E.a.initQueryRemoveUserRole(e.removeModeratorId,e.community?e.community.id:null,S.Ec.roleFrontEnd.Moderator);Object(T.b)("G\u1ee1 b\u1ecf Moderator","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y?",null,(function(){return V(n,e.handleAfterAssignUser)}))}else{var o=E.a.initQueryAddModCommunity(e.userId,e.community?e.community.id:null);Object(T.b)("M\u1eddi l\xe0m Moderator","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y?",null,(function(){return K(o,e.handleAfterAssignUser)}))}},oe=function(t){if(t){var n=E.a.updateCommunityUser(t,e.communityUserId);Object(T.b)("".concat(t?"K\xedch ho\u1ea1t":"Hu\u1ef7 k\xedch ho\u1ea1t"," ng\u01b0\u1eddi d\xf9ng"),"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y?",null,(function(){return W(n,e.handleAfterAssignUser)}))}else G("deActiveUser",{isActive:t,communityUserId:e.communityUserId,handleAfterAssignUser:e.handleAfterAssignUser})},ie=function(){var t=E.a.updateHiddenComment(e.commentId,!0,h.user.id);Q(t,S.Ec.ActionError.HideContent)},ae=function(){Object(T.b)("X\xf3a b\xecnh lu\u1eadn","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y?",null,(function(){var t=E.a.deleteComment(e.commentId,!0);Q(t,S.Ec.ActionError.DeleteContent)}))},re=function(e,t,n){return F("a",{className:"am-flexbox am-flexbox-align-center text-main pb__5",onClick:function(){ge(e)}},t,F("span",null,n))},ce=function(e,t,n,o,i,a){!!o&&P.a.checkPermission(t,n,o,i)&&e.push(a)},se=function(e,t,n,o,i,a,r){Object(I.e)(t,n,o,i,a)&&e.push(r)},le=[];if(e.isProfile&&le.push(re(S.Ec.extraAction.Report,F(H.A,{width:18,height:18,className:"mr__5"}),"B\xe1o c\xe1o")),e.isManageMember&&(h.user&&h.user.id!==e.userId&&ce(le,S.Ec.action.Write,S.Nc.DEACTIVE_USER_FRONTEND,h.auth,e.community?e.community.id:null,re(e.isActiveCommunity?S.Ec.extraAction.DeActiveUser:S.Ec.extraAction.ActiveUser,null,"".concat(e.isActiveCommunity?"V\xf4 hi\u1ec7u h\xf3a":"H\u1ee7y v\xf4 hi\u1ec7u h\xf3a"))),e.isActiveCommunity&&(e.isModerator&&h.user&&h.user.id===e.userId?le.push(re(S.Ec.extraAction.RemoveAssignUser,null,"H\u1ee7y t\xe1c v\u1ee5 MOD")):ce(le,S.Ec.action.Write,e.isModerator?S.Nc.REMOVE_MODERATOR_FRONTEND:S.Nc.ASSIGN_MODERATOR_FRONTEND,h.auth,e.community?e.community.id:null,re(e.isModerator?S.Ec.extraAction.RemoveAssignUser:S.Ec.extraAction.AssignUser,null,"".concat(e.isModerator?"H\u1ee7y t\xe1c v\u1ee5 MOD":"Ch\u1ec9 \u0111\u1ecbnh MOD"))))),e.isPost&&e.data){var ue,me;if(Object(P.n)(h.user)){var de=e.bookmark||null;le.push(re(de?S.Ec.extraAction.UnBookmark:S.Ec.extraAction.Bookmark,F("span",{style:{color:de?"#".concat(S.i):null},className:"d-inline-flex"},F("span",{style:{color:X?"#".concat(X):null}},F(de?H.m:H.l,{className:"mr__5"}))),"".concat(de?"X\xf3a l\u01b0u":"L\u01b0u b\xe0i")))}if(le.push(re(S.Ec.extraAction.Report,F("span",{style:{color:X?"#".concat(X):null}},F(H.A,{className:"mr__5"})),"B\xe1o c\xe1o")),se(le,S.Ec.action.Write,S.Nc.HIDDEN_POST_FRONTEND,h.auth,e.community?e.community.id:null,S.Ec.roleFrontEnd.SuperAdmin,re(S.Ec.extraAction.HiddenPost,F("span",{style:{color:X?"#".concat(X):null}},F(H.y,{width:18,height:18,className:"mr__5"})),"\u1ea8n b\xe0i")),"/"===(null===e||void 0===e?void 0:null===(ue=e.router)||void 0===ue?void 0:ue.pathname)&&!1===(null===e||void 0===e?void 0:e.isSponsored)){var pe,fe,he,be,ve=null===e||void 0===e?void 0:null===(pe=e.data)||void 0===pe?void 0:pe.ignoreTrending;ve=(null===h||void 0===h?void 0:null===(fe=h.post)||void 0===fe?void 0:fe.id)===(null===e||void 0===e?void 0:null===(he=e.data)||void 0===he?void 0:he.id)?null===h||void 0===h?void 0:null===(be=h.post)||void 0===be?void 0:be.ignoreTrending:ve,se(le,S.Ec.action.Write,S.Nc.IGNORE_POST_TRENDING,h.auth,e.community?e.community.id:null,S.Ec.roleFrontEnd.SuperAdmin,ve?re(null,F(H.T,{width:18,height:18,className:"mr__5"}),"\u0110\xe3 \u1ea8n Tr\xean Th\u1ecbnh H\xe0nh"):re(S.Ec.extraAction.IgnoreTrending,F(H.T,{width:18,height:18,className:"mr__5"}),"\u1ea8n Tr\xean Th\u1ecbnh H\xe0nh"))}e.isCheckPermission&&ce(le,S.Ec.action.Write,S.Nc.PIN_POST_FRONTEND,h.auth,e.community?e.community.id:null,re(e.pin?S.Ec.extraAction.UnPinPost:S.Ec.extraAction.PinPost,F(A.a,{type:"pin",customizeclass:"mr__5"}),"".concat(e.pin?"B\u1ecf ghim":"Ghim"))),!(null===(me=e.data)||void 0===me?void 0:me.approvedBy)&&Object(R.isEditPost)(e.data,h.user)&&le.push(re(S.Ec.extraAction.EditPost,F(H.w,{width:18,height:18,className:"mr__5"}),"S\u1eeda"),re(S.Ec.extraAction.DeletePost,F(H.k,{width:18,height:18,className:"mr__5"}),"X\xf3a"))}e.isComment&&e.isCheckPermission&&(le.push(re(S.Ec.extraAction.Report,F(H.A,{width:18,height:18,className:"mr__5"}),"B\xe1o c\xe1o")),se(le,S.Ec.action.Write,S.Nc.HIDDEN_COMMENT_FRONTEND,h.auth,e.community?e.community.id:null,S.Ec.roleFrontEnd.SuperAdmin,re(S.Ec.extraAction.HiddenComment,F(H.y,{width:18,height:18,className:"mr__5"}),"\u1ea8n")),Object(M.a)(e.data,h.user)&&le.push(re(S.Ec.extraAction.DeleteComment,F(H.k,{width:18,height:18,className:"mr__5"}),"X\xf3a")),(null===e||void 0===e?void 0:e.urlComment)&&le.push(F("a",{className:"am-flexbox am-flexbox-align-center text-main pb__5"},F(H.G,{width:18,height:18,className:"mr__5"}),F(B.CopyToClipboard,{text:"".concat("https://www.webtretho.com").concat(null===e||void 0===e?void 0:e.urlComment),onCopy:function(){return z.a.success(S.Hc.messageSuccess.copyLinkSuccess,1)}},F("span",null,"Copy Link")))));var ge=function(t){h.user?(f(!1),t===S.Ec.extraAction.Share?te():t===S.Ec.extraAction.Report?e.handleOpenReport():e.permission?function(t){switch(f(!1),t){case S.Ec.extraAction.Share:te();break;case S.Ec.extraAction.Bookmark:J();break;case S.Ec.extraAction.UnBookmark:J(!0);break;case S.Ec.extraAction.Report:e.handleOpenReport();break;case S.Ec.extraAction.HiddenPost:Z();break;case S.Ec.extraAction.EditPost:Y();break;case S.Ec.extraAction.PinPost:ee(!0);break;case S.Ec.extraAction.UnPinPost:ee(!1);break;case S.Ec.extraAction.DeletePost:q();break;case S.Ec.extraAction.AssignUser:ne(!1);break;case S.Ec.extraAction.RemoveAssignUser:ne(!0);break;case S.Ec.extraAction.DeActiveUser:oe(!1);break;case S.Ec.extraAction.ActiveUser:oe(!0);break;case S.Ec.extraAction.HiddenComment:ie();break;case S.Ec.extraAction.DeleteComment:ae();break;case S.Ec.extraAction.IgnoreTrending:$(!0);break;case S.Ec.extraAction.AllowTrending:$(!1)}}(t):G("confirmModal",{message:Object(T.c)(e.userCondition),hiddenButton:!0})):(f(!1),t===S.Ec.extraAction.Share?te():t===S.Ec.extraAction.Report?e.handleOpenReport():(f(!1),Object(j.k)(e.router),D.Router.pushRoute(S.Oc.LOGIN)))},xe=F("div",{className:"content-popover"},le&&le.length>0&&le.map((function(e,t){return F("div",{key:t,className:"content-popover-item"},e)}))),ye=((null===e||void 0===e?void 0:e.isPost)?"post-":(null===e||void 0===e?void 0:e.isComment)?"comment-":"")+(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.id);return F("div",{className:"more-action"},F(c.a,{id:ye,placement:"bottomRight",content:xe,trigger:"click",visible:l,onVisibleChange:function(e){f(e)},overlayStyle:{zIndex:2}},e.isProfile?F("div",{className:"d-flex align-item-center text-gray-v1 font-size__12 more-action__icon"},F(H.v,null)):F("div",{style:{height:"100%",padding:"0px 15px 0px 0px",marginRight:"-15px",display:"flex",alignItems:"center",color:"#".concat(X)}},F(H.v,null))))}));K.defaultProps={postId:"",communityId:"",userId:"",removeModeratorId:"",commentId:"",sendMessageToUserName:"",isCheckPermission:!1,isPost:!1,isProfile:!1,isManageMember:!1,isActiveCommunity:!1,pin:!1,isModerator:!1};t.a=Object(s.withRouter)(Object(l.a)(K))},nJJw:function(e,t,n){"use strict";var o=n("doui"),i=n("MX0m"),a=n.n(i),r=n("q1tI"),c=n.n(r),s=n("/MKj"),l=n("TSYQ"),u=n.n(l),m=n("CC+v"),d=n.n(m),p=n("nOHt"),f=n.n(p),h=n("65Qd"),b=n("dUxu"),v=n("8cHP"),g=n("Oy9n"),x=n("D+1f"),y=n("LY3E"),w=n("L9Iq"),j=n("LpoC"),_=n("R5x4"),k=n("v0uu"),O=n("kKES"),C=n("i2cS"),E=n("WIrD"),A=n("OZ8X"),S=n("RysE"),N=n("x50/"),P=c.a.createElement,I=new(0,n("gsez").AllHtmlEntities),R=Object(r.memo)((function(e){var t,n={communityUsers:Object(b.a)((function(e){return e.auth&&e.auth.communityUsers||[]})),user:Object(b.a)((function(e){return e.auth&&e.auth.user||null})),auth:Object(b.a)((function(e){return e.auth?e.auth:null}))},i=Object(s.useDispatch)(),l=Object(r.useCallback)((function(e,t){return i(j.a.openModal(e,t))}),[i]),m=Object(r.useCallback)((function(e,t,n){return i(w.a.joinedCommunities(["".concat(e)],t,n))}),[i]),p=Object(r.useCallback)((function(e,t,n){return i(w.a.unJoinedCommunities(e,t,n))}),[i]),g=Object(r.useCallback)((function(e){return i(w.a.getCommunityByUser(_.a.searchCommunity(null,e,null,null,k.Yb)))}),[i]),R=Object(r.useState)(!1),M=R[0],T=R[1],U=Object(r.useState)(!1),D=U[0],B=U[1],L=Object(r.useState)(!1),z=L[0],H=L[1],F=Object(r.useState)(""),K=F[0],V=F[1],W=Object(r.useContext)(h.a),Q=Object(A.e)(W),G=function(){T(!0)},X=function(){T(!1)},J=e.data,Y=e.customizeclass,q=e.buttonIcon,Z=e.buttonIconActive,$=e.handleAfterJoined,ee=e.handleAfterUnJoined,te=e.isGetCommunityUsers,ne=e.pageCurrent,oe=Object(E.a)(n.user,n.communityUsers,J),ie=oe.joinCommunity,ae=oe.joinCommunityItem,re=oe.showModalLogin,ce=oe.userUpdateProfile,se=oe.userNotAge,le=oe.allowedJoinCommunity,ue=oe.userLeaveCommunity,me=oe.userAdminCommunity,de=oe.userModeratorCommunity,pe=null;re&&(pe=function(){G()}),ce&&(pe=function(){fe()}),se&&(pe=function(){fe(!0)}),le&&(pe=function(){m(J.id,(function(){$?$():te&&g(n.user.id)}),(function(e,t){l("confirmModal",{message:t?Object(C.d)({code:t},k.Ec.ActionError.JoinCommunity):e,hiddenButton:!0,closeCallback:X})}))}),ue&&(pe=function(){V(P("span",null,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n r\u1eddi kh\u1ecfi ",P("br",null)," c\u1ed9ng \u0111\u1ed3ng?")),G()}),(me||de)&&(pe=function(){var e=null;me?e="Qu\u1ea3n tr\u1ecb vi\xean":de&&(e="Ng\u01b0\u1eddi ki\u1ec3m duy\u1ec7t"),V(P("span",null,"B\u1ea1n \u0111ang l\xe0",P("span",{className:"mx__5"},e),"c\u1ee7a c\u1ed9ng \u0111\u1ed3ng n\xe0y n\xean hi\u1ec7n t\u1ea1i kh\xf4ng th\u1ec3 r\u1eddi kh\u1ecfi")),G()});var fe=function(e){var t="B\u1ea1n ch\u01b0a nh\u1eadp ng\xe0y th\xe1ng n\u0103m sinh";e?t="B\u1ea1n ch\u01b0a \u0111\u1ee7 18 tu\u1ed5i":H(!0),B(!0),V(t),G()},he=Object(x.b)((function(){return pe()}),300),be=Object(o.a)(he,1)[0],ve=(null===f.a||void 0===f.a?void 0:null===(t=f.a.router)||void 0===t?void 0:t.route)==="/".concat(k.Jc.POST_DETAIL);return P(r.Fragment,null,P(y.default,q?{handleClick:be,style:Q&&!ie?{backgroundColor:W}:null,className:u()("btn-icon",{["".concat(Y)]:!!Y,"btn-default":!Y,"btn-primary":!ie}),name:ie?P("span",{className:u()("brg__6 d-block h-30x w-30x px__6 py__6",{"bg-white":ve}),style:{color:"#".concat(O.b.getBackgroundColorByContext(W))}},P(S.r,{className:u()("d-block",{"text-primary":!ve}),width:18,height:18})):P(c.a.Fragment,null,ne?P("span",{className:"bg-white brg__6 d-block h-30x w-30x px__6 py__6",style:{color:"#".concat(O.b.getBackgroundColorByContext(W))}},P(S.K,{className:"d-block",width:18,height:18,color:"red"})):P(S.K,{className:"d-block text-white",width:18,height:18,fill:ne?"#"+O.b.getBackgroundColorByContext(W):"#ffffff"}))}:{handleClick:be,className:u()({["".concat(Y)]:!!Y,"btn-default text-bold":!Y,"btn-icon":!(!ie||!Z),"btn-primary":!ie}),style:ie||e.useColorDefault||!W.color?null:{backgroundColor:"#".concat(W.color)},name:ie?Z?P(S.r,{width:"16",height:"16",className:"3333"}):P(r.Fragment,null,P(S.r,{className:"mr__5"}),"\u0110\xe3 tham gia"):"Tham gia"}),M?P(d.a,{visible:M,closable:!1,footer:!1,onClose:X,centered:!0,className:"modal-join-community",onCancel:X},P("p",{className:"jsx-".concat(N.a.__hash)+" text-bold font-size__22 text-main mt__10 mb__0 text-center"},"Th\xf4ng b\xe1o"),P("p",{className:"jsx-".concat(N.a.__hash)+" font-size__16 text-main mt__0 mb__15 text-center"},re?"B\u1ea1n h\xe3y \u0111\u0103ng nh\u1eadp \u0111\u1ec3 th\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng n\xe0y!":ie?K:D?K:""),re?P(v.Link,{route:"".concat(k.Oc.LOGIN).concat(W.currentPath?"?r=".concat(I.encode(W.currentPath)):"")},P("a",{className:"jsx-".concat(N.a.__hash)+" btn-default btn-default-md btn-primary w-80 mb__10 mx__auto"},"\u0110\u0103ng nh\u1eadp")):ie?de||me?null:P("a",{onClick:function(){n.user&&(X(),p(ae,(function(){ee?ee():te&&g(n.user.id)}),(function(e,t){l("confirmModal",{message:t?Object(C.d)({code:t},k.Ec.ActionError.UnJoinCommunity):e,hiddenButton:!0,closeCallback:X})})))},className:"jsx-".concat(N.a.__hash)+" btn-default btn-default-md btn-primary w-80 mb__10 mx__auto"},"\u0110\u1ed3ng \xfd"):D?P("a",{onClick:function(){z?f.a.push(O.b.generatorUrlProfile(n.user,k.Oc.PROFILE_EDIT)):X()},className:"jsx-".concat(N.a.__hash)+" btn-default btn-default-md btn-primary w-80 mb__10 mx__auto"},"Ti\u1ebfp t\u1ee5c"):null,P(a.a,{id:N.a.__hash},N.a)):null)}));t.a=Object(g.a)(R)},pGd6:function(e,t,n){"use strict";n.r(t);var o=n("doui"),i=n("q1tI"),a=n.n(i),r=n("/MKj"),c=n("4IZf"),s=n.n(c),l=n("D+1f"),u=n("65Qd"),m=n("Oy9n"),d=n("KQIb"),p=n("LY3E"),f=n("hWQR"),h=n("kKES"),b=n("Qs9s"),v=n("LnZY"),g=n("OZ8X"),x=n("9E9K"),y=n("8cHP"),w=n("v0uu"),j=n("dUxu"),_=n("RysE"),k=n("ubLQ"),O=a.a.createElement,C=Object(i.memo)((function(e){var t=Object(r.useDispatch)(),n=Object(i.useContext)(u.a),a={user:Object(j.a)((function(e){return e.auth&&e.auth.user||null})),userBookmarks:Object(j.a)((function(e){return e.bookmark&&e.bookmark.userBookmarks||[]})),userLikePost:Object(j.a)((function(e){return e.userAction&&e.userAction.userLikePosts||[]}))},c=Object(i.useState)(!1),m=c[0],C=c[1],E=Object(i.useCallback)((function(e){return t(d.a.likePost(e))}),[t]),A=Object(i.useCallback)((function(e){return t(d.a.unLikePost(e))}),[t]),S=e.data,N=e.postData,P=e.community,I=e.wrapperClass,R=e.handleComment,M=e.checkAuthBeforeComment,T=e.isSponsored,U=a.user&&a.user.id?a.user.id:null,D=Object(v.mergeUserLikeWithData)(a.user,N,a.userLikePost,S?S.id:null),B=Object(v.getUserBookmarkPost)(a.userBookmarks,S),L=h.b.getColorByContext(n),z=Object(l.b)((function(){return function(){if(U)if(D){var e=k.a.initQueryUnlike(S.id);A(e)}else{var t=k.a.initQueryLike(S.id,w.Bc.Post);E(t)}else F()}()}),500),H=Object(o.a)(z,1)[0],F=function(){Object(x.k)(e.router),y.Router.pushRoute(w.Oc.LOGIN)};return O(i.Fragment,null,O(s.a,{align:"center",className:I||""},O(s.a,{align:"center"},O("div",{className:"am-flexbox am-flexbox am-flexbox-justify-center am-flexbox-align-center text-uppercase mr__25"},O("span",{style:{color:"#".concat(L)},className:"d-inline-flex"},O(_.x,{className:"mr__5"})),O("span",{className:"font-size__12 text-bold text-gray-v6"},h.b.abbrNum(N?N.viewCount||0:S.viewCount,1))),O(p.default,{handleClick:H,className:"am-flexbox am-flexbox am-flexbox-justify-center am-flexbox-align-center text-uppercase mr__25 p__0 bg-inherit border-0 cursor-pointer",name:O(i.Fragment,null,O("span",{style:{color:"#".concat(h.b.getColorButtonLike(n,D))},className:"d-inline-flex"},D?O(_.F,{className:"mr__5 btn-liked"}):O(_.E,{size:24,className:"mr__5"})),O("span",{className:"font-size__12 text-bold text-gray-v6"},function(){var e=0;return N&&N.likeCount?e=N.likeCount:S.likeCount&&(e=S.likeCount),0===e&&D&&(e=1),h.b.abbrNum(e,1)}()))}),O("a",{rel:"nofollow",onClick:function(){P.allowComment&&(M?U?R():F():R())},className:"am-flexbox am-flexbox am-flexbox-justify-center am-flexbox-align-center text-uppercase mr__25 cursor-pointer"},O("span",{style:{color:"#".concat(L)},className:"d-inline-flex"},O(_.p,{className:"mr__5"})),O("span",{className:"font-size__12 text-bold text-gray-v6"},h.b.abbrNum(N?N.commentCount||0:S.commentCount,1))),O(f.a,{data:S,bookmark:B,community:P||null,isPost:!0,isCheckPermission:e.isCheckPermission,postId:S.id,pin:S.isSticky,isSponsored:T,communityId:P?P.id:null,handleOpenReport:function(t){return e.handleReportModal(t)},handleAfterPinPost:e.handleAfterPinPost,handleAfterHiddenPost:e.handleAfterHiddenPost,handleAfterDeletePost:e.handleAfterDeletePost})),O("div",{className:"ml__auto"},O("a",{rel:"nofollow",className:"am-flexbox am-flexbox-justify-center am-flexbox-align-center",onClick:function(){C(!0)}},O("span",{style:{color:"#".concat(L)},className:"d-inline-flex"},O(_.Q,{className:"mr__5"}))))),O(b.a,{isMobile:Object(g.e)(n),url:h.b.generateUrlWithDomain(h.b.generatorUrlPostByCommunityAndPost(P,S)),show:m,handleHide:function(){C(!1)}}))}));t.default=Object(m.a)(C)},ubLQ:function(e,t,n){"use strict";t.a={initQueryUnlike:e=>'id: "'.concat(e,'"'),initQueryLike(e,t){var n="";return e&&(n+=', id: "'.concat(e,'"')),t&&(n+=", type: ".concat(t)),"data: {".concat(n,"}")}}},"x50/":function(e,t,n){"use strict";var o=[".modal-join-community{max-width:640px;}",".modal-join-community .ant-modal-content{border-radius:7px;}",".modal-join-community .ant-modal-body{line-height:25px !important;}","@media all and (max-width:640px){.modal-join-community{max-width:95%;}}"];o.__hash="1938102215",t.a=o}}]);
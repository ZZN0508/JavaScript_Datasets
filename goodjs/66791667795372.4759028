!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.LivePlayer=t():e.LivePlayer=t()}(window,function(){function e(e){this.opts=e;var t,i,o=navigator.userAgent.toLowerCase(),s={safari_1:/Version\/(([\d\.]+))\sSafari\/[\d\.]+/i,safari_2:/Safari\/([\d\.]+)/i,firefox:/Firefox\/([\d\.]+)/i,ie_1:/MSIE\s([\d\.]+)/i,ie_2:/(trident\/\d\.\d)/i,ie_3:/(Edge)\/\d+\.\d+/i,chrome_1:/CriOS\/([\d\.]+)/i,chrome_2:/Chrome\/([\d\.]+)/i,opera:/OPR\/([\d\.]+)/i},a={};for(t in s){var r=s[t].exec(o);r&&(a[t.replace(/_\d+/,"")]={version:r[1]})}function l(e,t){e=String(e).split("."),t=String(t).split(".");try{for(var i=0,o=Math.max(e.length,t.length);i<o;i++){var s=isFinite(e[i])&&Number(e[i])||0,a=isFinite(t[i])&&Number(t[i])||0;if(s<a)return-1;if(a<s)return 1}}catch(e){return-1}return 0}a.chrome&&a.safari&&delete a.safari,this.isuseHtml5=!((e=a).chrome&&0<=l(e.chrome.version,"40.0")||e.firefox&&0<=l(e.firefox.version,"48.0")||e.opera&&0<=l(e.opera.version,"40.0")||e.safari&&0<=l(e.safari.version,"9.0"))||"function"!=typeof(i=document.createElement("video")).canPlayType||"probably"!=i.canPlayType('video/mp4; codecs="avc1.42E01E"')&&"probably"!=i.canPlayType('video/mp4; codecs="avc1.58A01E"')&&"probably"!=i.canPlayType('video/mp4; codecs="avc1.4D401E"')&&"probably"!=i.canPlayType('video/mp4; codecs="avc1.64001E"')?0:1,this.isMobile=/mobile/i.test(o);var p,n={ref:(/android/i.test(o)?"3":/ios/i.test(o)?"4":"1")+",7",cid:"99999",log:!0,playerId:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}).replace(/-/g,"").slice(5,20),flash:{},video:{},live:!0,skipads:!0};for(p in n)n.hasOwnProperty(p)&&!this.opts.hasOwnProperty(p)&&(this.opts[p]=n[p]);this.opts.video&&(this.opts.video.type||(this.opts.video.type="hls")),this.opts.flash&&(this.opts.flash.swf||(this.opts.flash.swf="https://static.1905.com/v1/playerv3/1905HlsPlayer.swf")),this.player=null}return e.prototype.init=function(){1===this.isuseHtml5?this.isMobile?this.loadMobileHtml5():this.loadHtml5():this.isMobile?this.loadMobileHtml5():this.loadFlash()},e.prototype.loadFlash=function(){var s=this;require(["https://js.static.m1905.cn/player/swfobject.js"],function(e){var t={configUrl:escape(s.opts.flash.configUrl),playAd:!s.opts.skipads,type:s.opts.live?"live":"vod",LoGo:!1,cdn:!0,p2p:!0,needchain:!1,ref:s.opts.ref,cid:s.opts.cid,playerId:s.opts.playerId};s.swfId="1905flashplayer";var i={id:s.swfId,name:"1905flashplayer"},o=document.createElement("div");o.id="playerWrap",s.opts.container&&s.opts.container[0].appendChild(o),e.embedSWF(s.opts.flash.swf,"playerWrap","100%","100%","10.0.0",!0,t,{allowScriptAccess:"always",allowNetworking:"all",allowFullScreen:"true",wmode:"direct"},i,function(){s.swfObj=e}),e.hasFlashPlayerVersion("10.0.0")||(document.getElementById("playerWrap").innerHTML='<div style="width:100%;height:100%;position:relative;background-color:#151515;font-size:14px;"><a href="//www.adobe.com/go/getflashplayer" target="_blank" style="position:absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; margin: auto;background-color:#0f92fd;border-radius:6px;text-decoration:none;width:268px;height:36px;font:15px/36px Microsoft YaHei;color:#fff;text-align:center;">瑙傜湅姝よ棰戣鍚敤鎴栧畨瑁匜lash鎻掍欢</a></div>')})},e.prototype.loadHtml5=function(){var i=this;require(["https://js.static.m1905.cn/player/2.0.0/mplayer.min.js","https://js.static.m1905.cn/player/hls.min.js"],function(e,t){window.Hls=t,i.player=new e.mplayer({element:i.opts.container,live:!!i.opts.live,ref:i.opts.ref,cid:i.opts.cid,video:i.opts.video,skipads:i.opts.skipads,ads:i.opts.ads||null})})},e.prototype.loadMobileHtml5=function(){var i=this;require(["https://js.static.m1905.cn/mplayer/3.0.3/MPlayer.min.js","https://js.static.m1905.cn/player/hls.min.js"],function(e,t){window.Hls=t;t=i.opts.container;i.player=new e({container:t[0],preload:"none",live:!!i.opts.live,ref:i.opts.ref,cid:i.opts.cid,log:i.opts.log,playerId:i.opts.playerId,video:i.opts.video,ads:!i.opts.skipads&&i.opts.ads?i.opts.ads:null})})},e.prototype.destroy=function(){this.player&&this.player.destroy(),this.player=null,this.swfObj&&this.swfObj.removeSWF(this.swfId),this.swfObj=null},e});
